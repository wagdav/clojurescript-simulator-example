var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(fc,Fb,Xc,ob){function v(Z){if(null===Z||"object"!==typeof Z)return null;Z=Qa&&Z[Qa]||Z["@@iterator"];return"function"===typeof Z?Z:null}function k(Z,Fa,Ga){this.props=Z;this.context=Fa;this.refs=lb;this.updater=Ga||Da}function P(){}function ib(Z,Fa,Ga){this.props=Z;this.context=Fa;this.refs=lb;this.updater=Ga||Da}function Hb(Z,Fa,Ga){var db,ba={},ma=null,q=null;if(null!=Fa)for(db in void 0!==Fa.ref&&(q=Fa.ref),void 0!==Fa.key&&(ma=""+Fa.key),Fa)xb.call(Fa,db)&&!Qb.hasOwnProperty(db)&&
(ba[db]=Fa[db]);var M=arguments.length-2;if(1===M)ba.children=Ga;else if(1<M){for(var Q=Array(M),g=0;g<M;g++)Q[g]=arguments[g+2];ba.children=Q}if(Z&&Z.defaultProps)for(db in M=Z.defaultProps,M)void 0===ba[db]&&(ba[db]=M[db]);return{$$typeof:Ua,type:Z,key:ma,ref:q,props:ba,_owner:sb.current}}function ac(Z,Fa){return{$$typeof:Ua,type:Z.type,key:Fa,ref:Z.ref,props:Z.props,_owner:Z._owner}}function vc(Z){return"object"===typeof Z&&null!==Z&&Z.$$typeof===Ua}function Ac(Z){var Fa={"\x3d":"\x3d0",":":"\x3d2"};
return"$"+Z.replace(/[=:]/g,function(Ga){return Fa[Ga]})}function uc(Z,Fa){return"object"===typeof Z&&null!==Z&&null!=Z.key?Ac(""+Z.key):Fa.toString(36)}function Cb(Z,Fa,Ga,db,ba){var ma=typeof Z;if("undefined"===ma||"boolean"===ma)Z=null;var q=!1;if(null===Z)q=!0;else switch(ma){case "string":case "number":q=!0;break;case "object":switch(Z.$$typeof){case Ua:case ub:q=!0}}if(q)return q=Z,ba=ba(q),Z=""===db?"."+uc(q,0):db,Pa(ba)?(Ga="",null!=Z&&(Ga=Z.replace(Wb,"$\x26/")+"/"),Cb(ba,Fa,Ga,"",function(g){return g})):
null!=ba&&(vc(ba)&&(ba=ac(ba,Ga+(!ba.key||q&&q.key===ba.key?"":(""+ba.key).replace(Wb,"$\x26/")+"/")+Z)),Fa.push(ba)),1;q=0;db=""===db?".":db+":";if(Pa(Z))for(var M=0;M<Z.length;M++){ma=Z[M];var Q=db+uc(ma,M);q+=Cb(ma,Fa,Ga,Q,ba)}else if(Q=v(Z),"function"===typeof Q)for(Z=Q.call(Z),M=0;!(ma=Z.next()).done;)ma=ma.value,Q=db+uc(ma,M++),q+=Cb(ma,Fa,Ga,Q,ba);else if("object"===ma)throw Fa=String(Z),Error("Objects are not valid as a React child (found: "+("[object Object]"===Fa?"object with keys {"+Object.keys(Z).join(", ")+
"}":Fa)+"). If you meant to render a collection of children, use an array instead.");return q}function jc(Z,Fa,Ga){if(null==Z)return Z;var db=[],ba=0;Cb(Z,db,"","",function(ma){return Fa.call(Ga,ma,ba++)});return db}function Yb(Z){if(-1===Z._status){var Fa=Z._result;Fa=Fa();Fa.then(function(Ga){if(0===Z._status||-1===Z._status)Z._status=1,Z._result=Ga},function(Ga){if(0===Z._status||-1===Z._status)Z._status=2,Z._result=Ga});-1===Z._status&&(Z._status=0,Z._result=Fa)}if(1===Z._status)return Z._result.default;
throw Z._result;}var Ua=Symbol.for("react.element"),ub=Symbol.for("react.portal");fc=Symbol.for("react.fragment");Fb=Symbol.for("react.strict_mode");Xc=Symbol.for("react.profiler");var Kb=Symbol.for("react.provider"),Lb=Symbol.for("react.context"),Db=Symbol.for("react.forward_ref"),Pb=Symbol.for("react.suspense"),ab=Symbol.for("react.memo"),pb=Symbol.for("react.lazy"),Qa=Symbol.iterator,Da={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},
Ka=Object.assign,lb={};k.prototype.isReactComponent={};k.prototype.setState=function(Z,Fa){if("object"!==typeof Z&&"function"!==typeof Z&&null!=Z)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,Fa,"setState")};k.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};P.prototype=k.prototype;var mb=ib.prototype=new P;mb.constructor=ib;Ka(mb,k.prototype);
mb.isPureReactComponent=!0;var Pa=Array.isArray,xb=Object.prototype.hasOwnProperty,sb={current:null},Qb={key:!0,ref:!0,__self:!0,__source:!0},Wb=/\/+/g,nb={current:null},pa={transition:null};mb={ReactCurrentDispatcher:nb,ReactCurrentBatchConfig:pa,ReactCurrentOwner:sb};ob.Children={map:jc,forEach:function(Z,Fa,Ga){jc(Z,function(){Fa.apply(this,arguments)},Ga)},count:function(Z){var Fa=0;jc(Z,function(){Fa++});return Fa},toArray:function(Z){return jc(Z,function(Fa){return Fa})||[]},only:function(Z){if(!vc(Z))throw Error("React.Children.only expected to receive a single React element child.");
return Z}};ob.Component=k;ob.Fragment=fc;ob.Profiler=Xc;ob.PureComponent=ib;ob.StrictMode=Fb;ob.Suspense=Pb;ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mb;ob.cloneElement=function(Z,Fa,Ga){if(null===Z||void 0===Z)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var db=Ka({},Z.props),ba=Z.key,ma=Z.ref,q=Z._owner;if(null!=Fa){void 0!==Fa.ref&&(ma=Fa.ref,q=sb.current);void 0!==Fa.key&&(ba=""+Fa.key);if(Z.type&&Z.type.defaultProps)var M=Z.type.defaultProps;
for(Q in Fa)xb.call(Fa,Q)&&!Qb.hasOwnProperty(Q)&&(db[Q]=void 0===Fa[Q]&&void 0!==M?M[Q]:Fa[Q])}var Q=arguments.length-2;if(1===Q)db.children=Ga;else if(1<Q){M=Array(Q);for(var g=0;g<Q;g++)M[g]=arguments[g+2];db.children=M}return{$$typeof:Ua,type:Z.type,key:ba,ref:ma,props:db,_owner:q}};ob.createContext=function(Z){Z={$$typeof:Lb,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};Z.Provider={$$typeof:Kb,_context:Z};return Z.Consumer=Z};
ob.createElement=Hb;ob.createFactory=function(Z){var Fa=Hb.bind(null,Z);Fa.type=Z;return Fa};ob.createRef=function(){return{current:null}};ob.forwardRef=function(Z){return{$$typeof:Db,render:Z}};ob.isValidElement=vc;ob.lazy=function(Z){return{$$typeof:pb,_payload:{_status:-1,_result:Z},_init:Yb}};ob.memo=function(Z,Fa){return{$$typeof:ab,type:Z,compare:void 0===Fa?null:Fa}};ob.startTransition=function(Z){var Fa=pa.transition;pa.transition={};try{Z()}finally{pa.transition=Fa}};ob.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.");
};ob.useCallback=function(Z,Fa){return nb.current.useCallback(Z,Fa)};ob.useContext=function(Z){return nb.current.useContext(Z)};ob.useDebugValue=function(){};ob.useDeferredValue=function(Z){return nb.current.useDeferredValue(Z)};ob.useEffect=function(Z,Fa){return nb.current.useEffect(Z,Fa)};ob.useId=function(){return nb.current.useId()};ob.useImperativeHandle=function(Z,Fa,Ga){return nb.current.useImperativeHandle(Z,Fa,Ga)};ob.useInsertionEffect=function(Z,Fa){return nb.current.useInsertionEffect(Z,
Fa)};ob.useLayoutEffect=function(Z,Fa){return nb.current.useLayoutEffect(Z,Fa)};ob.useMemo=function(Z,Fa){return nb.current.useMemo(Z,Fa)};ob.useReducer=function(Z,Fa,Ga){return nb.current.useReducer(Z,Fa,Ga)};ob.useRef=function(Z){return nb.current.useRef(Z)};ob.useState=function(Z){return nb.current.useState(Z)};ob.useSyncExternalStore=function(Z,Fa,Ga){return nb.current.useSyncExternalStore(Z,Fa,Ga)};ob.useTransition=function(){return nb.current.useTransition()};ob.version="18.2.0"};
shadow$provide[2]=function(fc,Fb,Xc,ob){Xc.exports=Fb(0)};
shadow$provide[3]=function(fc,Fb,Xc,ob){function v(Z,Fa){var Ga=Z.length;Z.push(Fa);a:for(;0<Ga;){var db=Ga-1>>>1,ba=Z[db];if(0<ib(ba,Fa))Z[db]=Fa,Z[Ga]=ba,Ga=db;else break a}}function k(Z){return 0===Z.length?null:Z[0]}function P(Z){if(0===Z.length)return null;var Fa=Z[0],Ga=Z.pop();if(Ga!==Fa){Z[0]=Ga;var db=0,ba=Z.length,ma=ba>>>1;a:for(;db<ma;){var q=2*(db+1)-1,M=Z[q],Q=q+1,g=Z[Q];if(0>ib(M,Ga))Q<ba&&0>ib(g,M)?(Z[db]=g,Z[Q]=Ga,db=Q):(Z[db]=M,Z[q]=Ga,db=q);else if(Q<ba&&0>ib(g,Ga))Z[db]=g,Z[Q]=
Ga,db=Q;else break a}}return Fa}function ib(Z,Fa){var Ga=Z.sortIndex-Fa.sortIndex;return 0!==Ga?Ga:Z.id-Fa.id}function Hb(Z){for(var Fa=k(Lb);null!==Fa;){if(null===Fa.callback)P(Lb);else if(Fa.startTime<=Z)P(Lb),Fa.sortIndex=Fa.expirationTime,v(Kb,Fa);else break;Fa=k(Lb)}}function ac(Z){Da=!1;Hb(Z);if(!Qa)if(null!==k(Kb))Qa=!0,Cb(vc);else{var Fa=k(Lb);null!==Fa&&jc(ac,Fa.startTime-Z)}}function vc(Z,Fa){Qa=!1;Da&&(Da=!1,lb(sb),sb=-1);pb=!0;var Ga=ab;try{Hb(Fa);for(Pb=k(Kb);null!==Pb&&(!(Pb.expirationTime>
Fa)||Z&&!Ac());){var db=Pb.callback;if("function"===typeof db){Pb.callback=null;ab=Pb.priorityLevel;var ba=db(Pb.expirationTime<=Fa);Fa=ob.unstable_now();"function"===typeof ba?Pb.callback=ba:Pb===k(Kb)&&P(Kb);Hb(Fa)}else P(Kb);Pb=k(Kb)}if(null!==Pb)var ma=!0;else{var q=k(Lb);null!==q&&jc(ac,q.startTime-Fa);ma=!1}return ma}finally{Pb=null,ab=Ga,pb=!1}}function Ac(){return ob.unstable_now()-Wb<Qb?!1:!0}function uc(){if(null!==xb){var Z=ob.unstable_now();Wb=Z;var Fa=!0;try{Fa=xb(!0,Z)}finally{Fa?nb():
(Pa=!1,xb=null)}}else Pa=!1}function Cb(Z){xb=Z;Pa||(Pa=!0,nb())}function jc(Z,Fa){sb=Ka(function(){Z(ob.unstable_now())},Fa)}if("object"===typeof performance&&"function"===typeof performance.now){var Yb=performance;ob.unstable_now=function(){return Yb.now()}}else{var Ua=Date,ub=Ua.now();ob.unstable_now=function(){return Ua.now()-ub}}var Kb=[],Lb=[],Db=1,Pb=null,ab=3,pb=!1,Qa=!1,Da=!1,Ka="function"===typeof setTimeout?setTimeout:null,lb="function"===typeof clearTimeout?clearTimeout:null,mb="undefined"!==
typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Pa=!1,xb=null,sb=-1,Qb=5,Wb=-1;if("function"===typeof mb)var nb=function(){mb(uc)};else if("undefined"!==typeof MessageChannel){fc=new MessageChannel;var pa=fc.port2;fc.port1.onmessage=uc;nb=function(){pa.postMessage(null)}}else nb=function(){Ka(uc,0)};ob.unstable_IdlePriority=5;ob.unstable_ImmediatePriority=
1;ob.unstable_LowPriority=4;ob.unstable_NormalPriority=3;ob.unstable_Profiling=null;ob.unstable_UserBlockingPriority=2;ob.unstable_cancelCallback=function(Z){Z.callback=null};ob.unstable_continueExecution=function(){Qa||pb||(Qa=!0,Cb(vc))};ob.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Qb=0<Z?Math.floor(1E3/Z):5};ob.unstable_getCurrentPriorityLevel=function(){return ab};
ob.unstable_getFirstCallbackNode=function(){return k(Kb)};ob.unstable_next=function(Z){switch(ab){case 1:case 2:case 3:var Fa=3;break;default:Fa=ab}var Ga=ab;ab=Fa;try{return Z()}finally{ab=Ga}};ob.unstable_pauseExecution=function(){};ob.unstable_requestPaint=function(){};ob.unstable_runWithPriority=function(Z,Fa){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Ga=ab;ab=Z;try{return Fa()}finally{ab=Ga}};ob.unstable_scheduleCallback=function(Z,Fa,Ga){var db=ob.unstable_now();"object"===
typeof Ga&&null!==Ga?(Ga=Ga.delay,Ga="number"===typeof Ga&&0<Ga?db+Ga:db):Ga=db;switch(Z){case 1:var ba=-1;break;case 2:ba=250;break;case 5:ba=1073741823;break;case 4:ba=1E4;break;default:ba=5E3}ba=Ga+ba;Z={id:Db++,callback:Fa,priorityLevel:Z,startTime:Ga,expirationTime:ba,sortIndex:-1};Ga>db?(Z.sortIndex=Ga,v(Lb,Z),null===k(Kb)&&Z===k(Lb)&&(Da?(lb(sb),sb=-1):Da=!0,jc(ac,Ga-db))):(Z.sortIndex=ba,v(Kb,Z),Qa||pb||(Qa=!0,Cb(vc)));return Z};ob.unstable_shouldYield=Ac;ob.unstable_wrapCallback=function(Z){var Fa=
ab;return function(){var Ga=ab;ab=Fa;try{return Z.apply(this,arguments)}finally{ab=Ga}}}};
shadow$provide[5]=function(fc,Fb,Xc,ob){Xc.exports=Fb(3)};
shadow$provide[6]=function(fc,Fb,Xc,ob){function v(b){for(var e="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+b,n=1;n<arguments.length;n++)e+="\x26args[]\x3d"+encodeURIComponent(arguments[n]);return"Minified React error #"+b+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function k(b,e){P(b,e);P(b+"Capture",e)}function P(b,e){T[b]=e;for(b=0;b<e.length;b++)w.add(e[b])}function ib(b){if(Ea.call(Mb,b))return!0;
if(Ea.call(zb,b))return!1;if(rb.test(b))return Mb[b]=!0;zb[b]=!0;return!1}function Hb(b,e,n,K){if(null!==n&&0===n.type)return!1;switch(typeof e){case "function":case "symbol":return!0;case "boolean":if(K)return!1;if(null!==n)return!n.acceptsBooleans;b=b.toLowerCase().slice(0,5);return"data-"!==b&&"aria-"!==b;default:return!1}}function ac(b,e,n,K){if(null===e||"undefined"===typeof e||Hb(b,e,n,K))return!0;if(K)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);
case 6:return isNaN(e)||1>e}return!1}function vc(b,e,n,K,na,Ba,tb){this.acceptsBooleans=2===e||3===e||4===e;this.attributeName=K;this.attributeNamespace=na;this.mustUseProperty=n;this.propertyName=b;this.type=e;this.sanitizeURL=Ba;this.removeEmptyString=tb}function Ac(b){return b[1].toUpperCase()}function uc(b,e,n,K){var na=Nb.hasOwnProperty(e)?Nb[e]:null;if(null!==na?0!==na.type:K||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])ac(e,n,na,K)&&(n=null),K||null===na?ib(e)&&(null===n?
b.removeAttribute(e):b.setAttribute(e,""+n)):na.mustUseProperty?b[na.propertyName]=null===n?3===na.type?!1:"":n:(e=na.attributeName,K=na.attributeNamespace,null===n?b.removeAttribute(e):(na=na.type,n=3===na||4===na&&!0===n?"":""+n,K?b.setAttributeNS(K,e,n):b.setAttribute(e,n)))}function Cb(b){if(null===b||"object"!==typeof b)return null;b=Ng&&b[Ng]||b["@@iterator"];return"function"===typeof b?b:null}function jc(b){if(void 0===Ke)try{throw Error();}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);
Ke=e&&e[1]||""}return"\n"+Ke+b}function Yb(b,e){if(!b||oe)return"";oe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error();},Object.defineProperty(e.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(zd){var K=zd}Reflect.construct(b,[],e)}else{try{e.call()}catch(zd){K=zd}b.call(e.prototype)}else{try{throw Error();}catch(zd){K=zd}b()}}catch(zd){if(zd&&K&&"string"===typeof zd.stack){for(var na=
zd.stack.split("\n"),Ba=K.stack.split("\n"),tb=na.length-1,wc=Ba.length-1;1<=tb&&0<=wc&&na[tb]!==Ba[wc];)wc--;for(;1<=tb&&0<=wc;tb--,wc--)if(na[tb]!==Ba[wc]){if(1!==tb||1!==wc){do if(tb--,wc--,0>wc||na[tb]!==Ba[wc]){var Oc="\n"+na[tb].replace(" at new "," at ");b.displayName&&Oc.includes("\x3canonymous\x3e")&&(Oc=Oc.replace("\x3canonymous\x3e",b.displayName));return Oc}while(1<=tb&&0<=wc)}break}}}finally{oe=!1,Error.prepareStackTrace=n}return(b=b?b.displayName||b.name:"")?jc(b):""}function Ua(b){switch(b.tag){case 5:return jc(b.type);
case 16:return jc("Lazy");case 13:return jc("Suspense");case 19:return jc("SuspenseList");case 0:case 2:case 15:return b=Yb(b.type,!1),b;case 11:return b=Yb(b.type.render,!1),b;case 1:return b=Yb(b.type,!0),b;default:return""}}function ub(b){if(null==b)return null;if("function"===typeof b)return b.displayName||b.name||null;if("string"===typeof b)return b;switch(b){case qd:return"Fragment";case mc:return"Portal";case ye:return"Profiler";case xd:return"StrictMode";case Xf:return"Suspense";case jg:return"SuspenseList"}if("object"===
typeof b)switch(b.$$typeof){case Te:return(b.displayName||"Context")+".Consumer";case re:return(b._context.displayName||"Context")+".Provider";case Ff:var e=b.render;(b=b.displayName)||(b=e.displayName||e.name||"",b=""!==b?"ForwardRef("+b+")":"ForwardRef");return b;case Jh:return e=b.displayName||null,null!==e?e:ub(b.type)||"Memo";case kg:e=b._payload;b=b._init;try{return ub(b(e))}catch(n){}}return null}function Kb(b){var e=b.type;switch(b.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+
".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=e.render,b=b.displayName||b.name||"",e.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ub(e);case 8:return e===xd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function Lb(b){switch(typeof b){case "boolean":case "number":case "string":case "undefined":return b;case "object":return b;default:return""}}function Db(b){var e=b.type;return(b=b.nodeName)&&"input"===b.toLowerCase()&&("checkbox"===e||"radio"===e)}function Pb(b){var e=Db(b)?"checked":"value",n=Object.getOwnPropertyDescriptor(b.constructor.prototype,
e),K=""+b[e];if(!b.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var na=n.get,Ba=n.set;Object.defineProperty(b,e,{configurable:!0,get:function(){return na.call(this)},set:function(tb){K=""+tb;Ba.call(this,tb)}});Object.defineProperty(b,e,{enumerable:n.enumerable});return{getValue:function(){return K},setValue:function(tb){K=""+tb},stopTracking:function(){b._valueTracker=null;delete b[e]}}}}function ab(b){b._valueTracker||(b._valueTracker=Pb(b))}function pb(b){if(!b)return!1;
var e=b._valueTracker;if(!e)return!0;var n=e.getValue(),K="";b&&(K=Db(b)?b.checked?"true":"false":b.value);b=K;return b!==n?(e.setValue(b),!0):!1}function Qa(b){b=b||("undefined"!==typeof document?document:void 0);if("undefined"===typeof b)return null;try{return b.activeElement||b.body}catch(e){return b.body}}function Da(b,e){var n=e.checked;return pg({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:b._wrapperState.initialChecked})}function Ka(b,e){var n=null==e.defaultValue?
"":e.defaultValue,K=null!=e.checked?e.checked:e.defaultChecked;n=Lb(null!=e.value?e.value:n);b._wrapperState={initialChecked:K,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function lb(b,e){e=e.checked;null!=e&&uc(b,"checked",e,!1)}function mb(b,e){lb(b,e);var n=Lb(e.value),K=e.type;if(null!=n)if("number"===K){if(0===n&&""===b.value||b.value!=n)b.value=""+n}else b.value!==""+n&&(b.value=""+n);else if("submit"===K||"reset"===K){b.removeAttribute("value");
return}e.hasOwnProperty("value")?xb(b,e.type,n):e.hasOwnProperty("defaultValue")&&xb(b,e.type,Lb(e.defaultValue));null==e.checked&&null!=e.defaultChecked&&(b.defaultChecked=!!e.defaultChecked)}function Pa(b,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var K=e.type;if(!("submit"!==K&&"reset"!==K||void 0!==e.value&&null!==e.value))return;e=""+b._wrapperState.initialValue;n||e===b.value||(b.value=e);b.defaultValue=e}n=b.name;""!==n&&(b.name="");b.defaultChecked=!!b._wrapperState.initialChecked;
""!==n&&(b.name=n)}function xb(b,e,n){if("number"!==e||Qa(b.ownerDocument)!==b)null==n?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+n&&(b.defaultValue=""+n)}function sb(b,e,n,K){b=b.options;if(e){e={};for(var na=0;na<n.length;na++)e["$"+n[na]]=!0;for(n=0;n<b.length;n++)na=e.hasOwnProperty("$"+b[n].value),b[n].selected!==na&&(b[n].selected=na),na&&K&&(b[n].defaultSelected=!0)}else{n=""+Lb(n);e=null;for(na=0;na<b.length;na++){if(b[na].value===n){b[na].selected=!0;K&&(b[na].defaultSelected=
!0);return}null!==e||b[na].disabled||(e=b[na])}null!==e&&(e.selected=!0)}}function Qb(b,e){if(null!=e.dangerouslySetInnerHTML)throw Error(v(91));return pg({},e,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function Wb(b,e){var n=e.value;if(null==n){n=e.children;e=e.defaultValue;if(null!=n){if(null!=e)throw Error(v(92));if(Ne(n)){if(1<n.length)throw Error(v(93));n=n[0]}e=n}null==e&&(e="");n=e}b._wrapperState={initialValue:Lb(n)}}function nb(b,e){var n=Lb(e.value),K=Lb(e.defaultValue);
null!=n&&(n=""+n,n!==b.value&&(b.value=n),null==e.defaultValue&&b.defaultValue!==n&&(b.defaultValue=n));null!=K&&(b.defaultValue=""+K)}function pa(b){var e=b.textContent;e===b._wrapperState.initialValue&&""!==e&&null!==e&&(b.value=e)}function Z(b){switch(b){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fa(b,e){return null==b||"http://www.w3.org/1999/xhtml"===b?Z(e):"http://www.w3.org/2000/svg"===
b&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":b}function Ga(b,e){if(e){var n=b.firstChild;if(n&&n===b.lastChild&&3===n.nodeType){n.nodeValue=e;return}}b.textContent=e}function db(b,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Pg.hasOwnProperty(b)&&Pg[b]?(""+e).trim():e+"px"}function ba(b,e){b=b.style;for(var n in e)if(e.hasOwnProperty(n)){var K=0===n.indexOf("--"),na=db(n,e[n],K);"float"===n&&(n="cssFloat");K?b.setProperty(n,na):b[n]=na}}function ma(b,
e){if(e){if(Yg[b]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(v(137,b));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(v(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(v(61));}if(null!=e.style&&"object"!==typeof e.style)throw Error(v(62));}}function q(b,e){if(-1===b.indexOf("-"))return"string"===typeof e.is;switch(b){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function M(b){b=b.target||b.srcElement||window;b.correspondingUseElement&&(b=b.correspondingUseElement);return 3===b.nodeType?b.parentNode:b}function Q(b){if(b=bc(b)){if("function"!==typeof Yh)throw Error(v(280));var e=b.stateNode;e&&(e=Dc(e),Yh(b.stateNode,b.type,e))}}function g(b){Kh?ij?ij.push(b):ij=[b]:Kh=b}function u(){if(Kh){var b=Kh,e=ij;ij=Kh=null;Q(b);if(e)for(b=0;b<e.length;b++)Q(e[b])}}function m(b,e){return b(e)}function C(){}function B(b,e,n){if(fk)return b(e,n);fk=
!0;try{return m(b,e,n)}finally{if(fk=!1,null!==Kh||null!==ij)C(),u()}}function A(b,e){var n=b.stateNode;if(null===n)return null;var K=Dc(n);if(null===K)return null;n=K[e];a:switch(e){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(K=!K.disabled)||(b=b.type,K=!("button"===b||"input"===b||"select"===b||"textarea"===
b));b=!K;break a;default:b=!1}if(b)return null;if(n&&"function"!==typeof n)throw Error(v(231,e,typeof n));return n}function E(b,e,n,K,na,Ba,tb,wc,Oc){var zd=Array.prototype.slice.call(arguments,3);try{e.apply(n,zd)}catch(fe){this.onError(fe)}}function H(b,e,n,K,na,Ba,tb,wc,Oc){jj=!1;ni=null;E.apply(bl,arguments)}function V(b,e,n,K,na,Ba,tb,wc,Oc){H.apply(this,arguments);if(jj){if(jj){var zd=ni;jj=!1;ni=null}else throw Error(v(198));sj||(sj=!0,Fk=zd)}}function Aa(b){var e=b,n=b;if(b.alternate)for(;e.return;)e=
e.return;else{b=e;do e=b,0!==(e.flags&4098)&&(n=e.return),b=e.return;while(b)}return 3===e.tag?n:null}function Y(b){if(13===b.tag){var e=b.memoizedState;null===e&&(b=b.alternate,null!==b&&(e=b.memoizedState));if(null!==e)return e.dehydrated}return null}function t(b){if(Aa(b)!==b)throw Error(v(188));}function L(b){var e=b.alternate;if(!e){e=Aa(b);if(null===e)throw Error(v(188));return e!==b?null:b}for(var n=b,K=e;;){var na=n.return;if(null===na)break;var Ba=na.alternate;if(null===Ba){K=na.return;if(null!==
K){n=K;continue}break}if(na.child===Ba.child){for(Ba=na.child;Ba;){if(Ba===n)return t(na),b;if(Ba===K)return t(na),e;Ba=Ba.sibling}throw Error(v(188));}if(n.return!==K.return)n=na,K=Ba;else{for(var tb=!1,wc=na.child;wc;){if(wc===n){tb=!0;n=na;K=Ba;break}if(wc===K){tb=!0;K=na;n=Ba;break}wc=wc.sibling}if(!tb){for(wc=Ba.child;wc;){if(wc===n){tb=!0;n=Ba;K=na;break}if(wc===K){tb=!0;K=Ba;n=na;break}wc=wc.sibling}if(!tb)throw Error(v(189));}}if(n.alternate!==K)throw Error(v(190));}if(3!==n.tag)throw Error(v(188));
return n.stateNode.current===n?b:e}function va(b){b=L(b);return null!==b?La(b):null}function La(b){if(5===b.tag||6===b.tag)return b;for(b=b.child;null!==b;){var e=La(b);if(null!==e)return e;b=b.sibling}return null}function Wa(b){if(ui&&"function"===typeof ui.onCommitFiberRoot)try{ui.onCommitFiberRoot(Ij,b,void 0,128===(b.current.flags&128))}catch(e){}}function $a(b){b>>>=0;return 0===b?32:31-(El(b)/Fl|0)|0}function X(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Ca(b,e){var n=b.pendingLanes;if(0===
n)return 0;var K=0,na=b.suspendedLanes,Ba=b.pingedLanes,tb=n&268435455;if(0!==tb){var wc=tb&~na;0!==wc?K=X(wc):(Ba&=tb,0!==Ba&&(K=X(Ba)))}else tb=n&~na,0!==tb?K=X(tb):0!==Ba&&(K=X(Ba));if(0===K)return 0;if(0!==e&&e!==K&&0===(e&na)&&(na=K&-K,Ba=e&-e,na>=Ba||16===na&&0!==(Ba&4194240)))return e;0!==(K&4)&&(K|=n&16);e=b.entangledLanes;if(0!==e)for(b=b.entanglements,e&=K;0<e;)n=31-di(e),na=1<<n,K|=b[n],e&=~na;return K}function Xa(b,e){switch(b){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jb(b,e){for(var n=b.suspendedLanes,K=b.pingedLanes,na=b.expirationTimes,Ba=b.pendingLanes;0<Ba;){var tb=31-di(Ba),wc=1<<tb,Oc=na[tb];if(-1===Oc){if(0===(wc&n)||0!==(wc&K))na[tb]=Xa(wc,e)}else Oc<=e&&(b.expiredLanes|=wc);Ba&=~wc}}function yc(b){b=b.pendingLanes&-1073741825;return 0!==b?b:b&1073741824?1073741824:0}function sc(){var b=
Jj;Jj<<=1;0===(Jj&4194240)&&(Jj=64);return b}function xc(b){for(var e=[],n=0;31>n;n++)e.push(b);return e}function dd(b,e,n){b.pendingLanes|=e;536870912!==e&&(b.suspendedLanes=0,b.pingedLanes=0);b=b.eventTimes;e=31-di(e);b[e]=n}function Zb(b,e){var n=b.pendingLanes&~e;b.pendingLanes=e;b.suspendedLanes=0;b.pingedLanes=0;b.expiredLanes&=e;b.mutableReadLanes&=e;b.entangledLanes&=e;e=b.entanglements;var K=b.eventTimes;for(b=b.expirationTimes;0<n;){var na=31-di(n),Ba=1<<na;e[na]=0;K[na]=-1;b[na]=-1;n&=
~Ba}}function Sc(b,e){var n=b.entangledLanes|=e;for(b=b.entanglements;n;){var K=31-di(n),na=1<<K;na&e|b[K]&e&&(b[K]|=e);n&=~na}}function Pd(b){b&=-b;return 1<b?4<b?0!==(b&268435455)?16:536870912:4:1}function Ma(b,e){switch(b){case "focusin":case "focusout":Ji=null;break;case "dragenter":case "dragleave":Ri=null;break;case "mouseover":case "mouseout":Si=null;break;case "pointerover":case "pointerout":Kj.delete(e.pointerId);break;case "gotpointercapture":case "lostpointercapture":Lj.delete(e.pointerId)}}
function Vb(b,e,n,K,na,Ba){if(null===b||b.nativeEvent!==Ba)return b={blockedOn:e,domEventName:n,eventSystemFlags:K,nativeEvent:Ba,targetContainers:[na]},null!==e&&(e=bc(e),null!==e&&cl(e)),b;b.eventSystemFlags|=K;e=b.targetContainers;null!==na&&-1===e.indexOf(na)&&e.push(na);return b}function qb(b,e,n,K,na){switch(e){case "focusin":return Ji=Vb(Ji,b,e,n,K,na),!0;case "dragenter":return Ri=Vb(Ri,b,e,n,K,na),!0;case "mouseover":return Si=Vb(Si,b,e,n,K,na),!0;case "pointerover":var Ba=na.pointerId;Kj.set(Ba,
Vb(Kj.get(Ba)||null,b,e,n,K,na));return!0;case "gotpointercapture":return Ba=na.pointerId,Lj.set(Ba,Vb(Lj.get(Ba)||null,b,e,n,K,na)),!0}return!1}function Tb(b){var e=Sa(b.target);if(null!==e){var n=Aa(e);if(null!==n)if(e=n.tag,13===e){if(e=Y(n),null!==e){b.blockedOn=e;dl(b.priority,function(){el(n)});return}}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated){b.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}b.blockedOn=null}function gc(b){if(null!==b.blockedOn)return!1;for(var e=
b.targetContainers;0<e.length;){var n=gb(b.domEventName,b.eventSystemFlags,e[0],b.nativeEvent);if(null===n){n=b.nativeEvent;var K=new n.constructor(n.type,n);Ph=K;n.target.dispatchEvent(K);Ph=null}else return e=bc(n),null!==e&&cl(e),b.blockedOn=n,!1;e.shift()}return!0}function cc(b,e,n){gc(b)&&n.delete(e)}function Ic(){gk=!1;null!==Ji&&gc(Ji)&&(Ji=null);null!==Ri&&gc(Ri)&&(Ri=null);null!==Si&&gc(Si)&&(Si=null);Kj.forEach(cc);Lj.forEach(cc)}function zc(b,e){b.blockedOn===e&&(b.blockedOn=null,gk||(gk=
!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Ic)))}function Zc(b){function e(na){return zc(na,b)}if(0<Mj.length){zc(Mj[0],b);for(var n=1;n<Mj.length;n++){var K=Mj[n];K.blockedOn===b&&(K.blockedOn=null)}}null!==Ji&&zc(Ji,b);null!==Ri&&zc(Ri,b);null!==Si&&zc(Si,b);Kj.forEach(e);Lj.forEach(e);for(n=0;n<Ti.length;n++)K=Ti[n],K.blockedOn===b&&(K.blockedOn=null);for(;0<Ti.length&&(n=Ti[0],null===n.blockedOn);)Tb(n),null===n.blockedOn&&Ti.shift()}function Md(b,e,n,K){var na=lg,Ba=kj.transition;
kj.transition=null;try{lg=1,Ha(b,e,n,K)}finally{lg=na,kj.transition=Ba}}function td(b,e,n,K){var na=lg,Ba=kj.transition;kj.transition=null;try{lg=4,Ha(b,e,n,K)}finally{lg=na,kj.transition=Ba}}function Ha(b,e,n,K){if(Ig){var na=gb(b,e,n,K);if(null===na)hf(b,e,K,Rh,n),Ma(b,K);else if(qb(na,b,e,n,K))K.stopPropagation();else if(Ma(b,K),e&4&&-1<Gl.indexOf(b)){for(;null!==na;){var Ba=bc(na);null!==Ba&&Hl(Ba);Ba=gb(b,e,n,K);null===Ba&&hf(b,e,K,Rh,n);if(Ba===na)break;na=Ba}null!==na&&K.stopPropagation()}else hf(b,
e,K,null,n)}}function gb(b,e,n,K){Rh=null;b=M(K);b=Sa(b);if(null!==b)if(e=Aa(b),null===e)b=null;else if(n=e.tag,13===n){b=Y(e);if(null!==b)return b;b=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;b=null}else e!==b&&(b=null);Rh=b;return null}function wb(b){switch(b){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(fl()){case hk:return 1;case gl:return 4;case ik:case Il:return 16;case Gk:return 536870912;default:return 16}default:return 16}}function sa(){if(Nj)return Nj;
var b,e=Ui,n=e.length,K,na="value"in vi?vi.value:vi.textContent,Ba=na.length;for(b=0;b<n&&e[b]===na[b];b++);var tb=n-b;for(K=1;K<=tb&&e[n-K]===na[Ba-K];K++);return Nj=na.slice(b,1<K?1-K:void 0)}function F(b){var e=b.keyCode;"charCode"in b?(b=b.charCode,0===b&&13===e&&(b=13)):b=e;10===b&&(b=13);return 32<=b||13===b?b:0}function ya(){return!0}function Na(){return!1}function Za(b){function e(n,K,na,Ba,tb){this._reactName=n;this._targetInst=na;this.type=K;this.nativeEvent=Ba;this.target=tb;this.currentTarget=
null;for(var wc in b)b.hasOwnProperty(wc)&&(n=b[wc],this[wc]=n?n(Ba):Ba[wc]);this.isDefaultPrevented=(null!=Ba.defaultPrevented?Ba.defaultPrevented:!1===Ba.returnValue)?ya:Na;this.isPropagationStopped=Na;return this}pg(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():"unknown"!==typeof n.returnValue&&(n.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():
"unknown"!==typeof n.cancelBubble&&(n.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya});return e}function kb(b){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(b):(b=Hk[b])?!!e[b]:!1}function Gb(){return kb}function nc(b,e){switch(b){case "keyup":return-1!==Ik.indexOf(e.keyCode);case "keydown":return 229!==e.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function dc(b){b=b.detail;return"object"===typeof b&&
"data"in b?b.data:null}function ic(b,e){switch(b){case "compositionend":return dc(e);case "keypress":if(32!==e.which)return null;Ki=!0;return wh;case "textInput":return b=e.data,b===wh&&Ki?null:b;default:return null}}function Vc(b,e){if(lj)return"compositionend"===b||!ei&&nc(b,e)?(b=sa(),Nj=Ui=vi=null,lj=!1,b):null;switch(b){case "paste":return null;case "keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;
case "compositionend":return ie&&"ko"!==e.locale?null:e.data;default:return null}}function ed(b){var e=b&&b.nodeName&&b.nodeName.toLowerCase();return"input"===e?!!Jk[b.type]:"textarea"===e?!0:!1}function fd(b,e,n,K){g(K);e=se(e,"onChange");0<e.length&&(n=new Kk("onChange","change",null,n,K),b.push({event:n,listeners:e}))}function Qd(b){$d(b,0)}function Td(b){var e=Pc(b);if(pb(e))return b}function Fd(b,e){if("change"===b)return e}function Zd(){Vi&&(Vi.detachEvent("onpropertychange",de),Oj=Vi=null)}
function de(b){if("value"===b.propertyName&&Td(Oj)){var e=[];fd(e,Oj,b,M(b));B(Qd,e)}}function Ud(b,e,n){"focusin"===b?(Zd(),Vi=e,Oj=n,Vi.attachEvent("onpropertychange",de)):"focusout"===b&&Zd()}function Ve(b){if("selectionchange"===b||"keyup"===b||"keydown"===b)return Td(Oj)}function Xd(b,e){if("click"===b)return Td(e)}function N(b,e){if("input"===b||"change"===b)return Td(e)}function la(b,e){return b===e&&(0!==b||1/b===1/e)||b!==b&&e!==e}function za(b,e){if(oi(b,e))return!0;if("object"!==typeof b||
null===b||"object"!==typeof e||null===e)return!1;var n=Object.keys(b),K=Object.keys(e);if(n.length!==K.length)return!1;for(K=0;K<n.length;K++){var na=n[K];if(!Ea.call(e,na)||!oi(b[na],e[na]))return!1}return!0}function fb(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Ib(b,e){var n=fb(b);b=0;for(var K;n;){if(3===n.nodeType){K=b+n.textContent.length;if(b<=e&&K>=e)return{node:n,offset:e-b};b=K}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=fb(n)}}function Xb(b,
e){return b&&e?b===e?!0:b&&3===b.nodeType?!1:e&&3===e.nodeType?Xb(b,e.parentNode):"contains"in b?b.contains(e):b.compareDocumentPosition?!!(b.compareDocumentPosition(e)&16):!1:!1}function Bc(){for(var b=window,e=Qa();e instanceof b.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(K){n=!1}if(n)b=e.contentWindow;else break;e=Qa(b.document)}return e}function lc(b){var e=b&&b.nodeName&&b.nodeName.toLowerCase();return e&&("input"===e&&("text"===b.type||"search"===b.type||
"tel"===b.type||"url"===b.type||"password"===b.type)||"textarea"===e||"true"===b.contentEditable)}function Gc(b){var e=Bc(),n=b.focusedElem,K=b.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xb(n.ownerDocument.documentElement,n)){if(null!==K&&lc(n))if(e=K.start,b=K.end,void 0===b&&(b=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(b,n.value.length);else if(b=(e=n.ownerDocument||document)&&e.defaultView||window,b.getSelection){b=b.getSelection();var na=n.textContent.length,Ba=Math.min(K.start,
na);K=void 0===K.end?Ba:Math.min(K.end,na);!b.extend&&Ba>K&&(na=K,K=Ba,Ba=na);na=Ib(n,Ba);var tb=Ib(n,K);na&&tb&&(1!==b.rangeCount||b.anchorNode!==na.node||b.anchorOffset!==na.offset||b.focusNode!==tb.node||b.focusOffset!==tb.offset)&&(e=e.createRange(),e.setStart(na.node,na.offset),b.removeAllRanges(),Ba>K?(b.addRange(e),b.extend(tb.node,tb.offset)):(e.setEnd(tb.node,tb.offset),b.addRange(e)))}e=[];for(b=n;b=b.parentNode;)1===b.nodeType&&e.push({element:b,left:b.scrollLeft,top:b.scrollTop});"function"===
typeof n.focus&&n.focus();for(n=0;n<e.length;n++)b=e[n],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}function id(b,e,n){var K=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Lk||null==tj||tj!==Qa(K)||(K=tj,"selectionStart"in K&&lc(K)?K={start:K.selectionStart,end:K.selectionEnd}:(K=(K.ownerDocument&&K.ownerDocument.defaultView||window).getSelection(),K={anchorNode:K.anchorNode,anchorOffset:K.anchorOffset,focusNode:K.focusNode,focusOffset:K.focusOffset}),Pj&&za(Pj,K)||(Pj=K,K=se(uj,
"onSelect"),0<K.length&&(e=new Kk("onSelect","select",null,e,n),b.push({event:e,listeners:K}),e.target=tj)))}function Nc(b,e){var n={};n[b.toLowerCase()]=e.toLowerCase();n["Webkit"+b]="webkit"+e;n["Moz"+b]="moz"+e;return n}function rd(b){if(Eh[b])return Eh[b];if(!vj[b])return b;var e=vj[b],n;for(n in e)if(e.hasOwnProperty(n)&&n in jk)return Eh[b]=e[n];return b}function Hd(b,e){hl.set(b,e);k(e,[b])}function Gd(b,e,n){var K=b.type||"unknown-event";b.currentTarget=n;V(K,e,void 0,b);b.currentTarget=null}
function $d(b,e){e=0!==(e&4);for(var n=0;n<b.length;n++){var K=b[n],na=K.event;K=K.listeners;a:{var Ba=void 0;if(e)for(var tb=K.length-1;0<=tb;tb--){var wc=K[tb],Oc=wc.instance,zd=wc.currentTarget;wc=wc.listener;if(Oc!==Ba&&na.isPropagationStopped())break a;Gd(na,wc,zd);Ba=Oc}else for(tb=0;tb<K.length;tb++){wc=K[tb];Oc=wc.instance;zd=wc.currentTarget;wc=wc.listener;if(Oc!==Ba&&na.isPropagationStopped())break a;Gd(na,wc,zd);Ba=Oc}}}if(sj)throw b=Fk,sj=!1,Fk=null,b;}function Wd(b,e){var n=e[Mk];void 0===
n&&(n=e[Mk]=new Set);var K=b+"__bubble";n.has(K)||(kf(e,b,2,!1),n.add(K))}function ae(b,e,n){var K=0;e&&(K|=4);kf(n,b,K,e)}function Ae(b){if(!b[Qj]){b[Qj]=!0;w.forEach(function(n){"selectionchange"!==n&&(il.has(n)||ae(n,!1,b),ae(n,!0,b))});var e=9===b.nodeType?b:b.ownerDocument;null===e||e[Qj]||(e[Qj]=!0,ae("selectionchange",!1,e))}}function kf(b,e,n,K){switch(wb(e)){case 1:var na=Md;break;case 4:na=td;break;default:na=Ha}n=na.bind(null,e,n,b);na=void 0;!kk||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==
e||(na=!0);K?void 0!==na?b.addEventListener(e,n,{capture:!0,passive:na}):b.addEventListener(e,n,!0):void 0!==na?b.addEventListener(e,n,{passive:na}):b.addEventListener(e,n,!1)}function hf(b,e,n,K,na){var Ba=K;if(0===(e&1)&&0===(e&2)&&null!==K)a:for(;;){if(null===K)return;var tb=K.tag;if(3===tb||4===tb){var wc=K.stateNode.containerInfo;if(wc===na||8===wc.nodeType&&wc.parentNode===na)break;if(4===tb)for(tb=K.return;null!==tb;){var Oc=tb.tag;if(3===Oc||4===Oc)if(Oc=tb.stateNode.containerInfo,Oc===na||
8===Oc.nodeType&&Oc.parentNode===na)return;tb=tb.return}for(;null!==wc;){tb=Sa(wc);if(null===tb)return;Oc=tb.tag;if(5===Oc||6===Oc){K=Ba=tb;continue a}wc=wc.parentNode}}K=K.return}B(function(){var zd=Ba,fe=M(n),me=[];a:{var ge=hl.get(b);if(void 0!==ge){var De=Kk,Re=b;switch(b){case "keypress":if(0===F(n))break a;case "keydown":case "keyup":De=Jl;break;case "focusin":Re="focus";De=Nk;break;case "focusout":Re="blur";De=Nk;break;case "beforeblur":case "afterblur":De=Nk;break;case "click":if(2===n.button)break a;
case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":De=Ok;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":De=lk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":De=Pk;break;case jl:case mk:case pi:De=Kl;break;case nk:De=kl;break;case "scroll":De=ll;break;case "wheel":De=Ll;break;case "copy":case "cut":case "paste":De=
Ml;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":De=ml}var We=0!==(e&4),Zg=!We&&"scroll"===b,nd=We?null!==ge?ge+"Capture":null:ge;We=[];for(var Yc=zd,ud;null!==Yc;){ud=Yc;var te=ud.stateNode;5===ud.tag&&null!==te&&(ud=te,null!==nd&&(te=A(Yc,nd),null!=te&&We.push(cf(Yc,te,ud))));if(Zg)break;Yc=Yc.return}0<We.length&&(ge=new De(ge,Re,null,n,fe),me.push({event:ge,listeners:We}))}}if(0===
(e&7)){ge="mouseover"===b||"pointerover"===b;De="mouseout"===b||"pointerout"===b;if(!ge||n===Ph||!(Re=n.relatedTarget||n.fromElement)||!Sa(Re)&&!Re[wi])if(De||ge){ge=fe.window===fe?fe:(ge=fe.ownerDocument)?ge.defaultView||ge.parentWindow:window;if(De){if(Re=n.relatedTarget||n.toElement,De=zd,Re=Re?Sa(Re):null,null!==Re&&(Zg=Aa(Re),Re!==Zg||5!==Re.tag&&6!==Re.tag))Re=null}else De=null,Re=zd;if(De!==Re){We=Ok;te="onMouseLeave";nd="onMouseEnter";Yc="mouse";if("pointerout"===b||"pointerover"===b)We=ml,
te="onPointerLeave",nd="onPointerEnter",Yc="pointer";Zg=null==De?ge:Pc(De);ud=null==Re?ge:Pc(Re);ge=new We(te,Yc+"leave",De,n,fe);ge.target=Zg;ge.relatedTarget=ud;te=null;Sa(fe)===zd&&(We=new We(nd,Yc+"enter",Re,n,fe),We.target=ud,We.relatedTarget=Zg,te=We);Zg=te;if(De&&Re)b:{We=De;nd=Re;Yc=0;for(ud=We;ud;ud=uf(ud))Yc++;ud=0;for(te=nd;te;te=uf(te))ud++;for(;0<Yc-ud;)We=uf(We),Yc--;for(;0<ud-Yc;)nd=uf(nd),ud--;for(;Yc--;){if(We===nd||null!==nd&&We===nd.alternate)break b;We=uf(We);nd=uf(nd)}We=null}else We=
null;null!==De&&U(me,ge,De,We,!1);null!==Re&&null!==Zg&&U(me,Zg,Re,We,!0)}}ge=zd?Pc(zd):window;De=ge.nodeName&&ge.nodeName.toLowerCase();if("select"===De||"input"===De&&"file"===ge.type)var Ye=Fd;else if(ed(ge))if(ok)Ye=N;else{Ye=Ve;var bf=Ud}else(De=ge.nodeName)&&"input"===De.toLowerCase()&&("checkbox"===ge.type||"radio"===ge.type)&&(Ye=Xd);Ye&&(Ye=Ye(b,zd))?fd(me,Ye,n,fe):(bf&&bf(b,ge,zd),"focusout"===b&&(bf=ge._wrapperState)&&bf.controlled&&"number"===ge.type&&xb(ge,"number",ge.value));bf=zd?Pc(zd):
window;switch(b){case "focusin":if(ed(bf)||"true"===bf.contentEditable)tj=bf,uj=zd,Pj=null;break;case "focusout":Pj=uj=tj=null;break;case "mousedown":Lk=!0;break;case "contextmenu":case "mouseup":case "dragend":Lk=!1;id(me,n,fe);break;case "selectionchange":if(pk)break;case "keydown":case "keyup":id(me,n,fe)}var Ze;if(ei)a:{switch(b){case "compositionstart":var qf="onCompositionStart";break a;case "compositionend":qf="onCompositionEnd";break a;case "compositionupdate":qf="onCompositionUpdate";break a}qf=
void 0}else lj?nc(b,n)&&(qf="onCompositionEnd"):"keydown"===b&&229===n.keyCode&&(qf="onCompositionStart");qf&&(ie&&"ko"!==n.locale&&(lj||"onCompositionStart"!==qf?"onCompositionEnd"===qf&&lj&&(Ze=sa()):(vi=fe,Ui="value"in vi?vi.value:vi.textContent,lj=!0)),bf=se(zd,qf),0<bf.length&&(qf=new nl(qf,b,null,n,fe),me.push({event:qf,listeners:bf}),Ze?qf.data=Ze:(Ze=dc(n),null!==Ze&&(qf.data=Ze))));if(Ze=Bg?ic(b,n):Vc(b,n))zd=se(zd,"onBeforeInput"),0<zd.length&&(fe=new nl("onBeforeInput","beforeinput",null,
n,fe),me.push({event:fe,listeners:zd}),fe.data=Ze)}$d(me,e)})}function cf(b,e,n){return{instance:b,listener:e,currentTarget:n}}function se(b,e){for(var n=e+"Capture",K=[];null!==b;){var na=b,Ba=na.stateNode;5===na.tag&&null!==Ba&&(na=Ba,Ba=A(b,n),null!=Ba&&K.unshift(cf(b,Ba,na)),Ba=A(b,e),null!=Ba&&K.push(cf(b,Ba,na)));b=b.return}return K}function uf(b){if(null===b)return null;do b=b.return;while(b&&5!==b.tag);return b?b:null}function U(b,e,n,K,na){for(var Ba=e._reactName,tb=[];null!==n&&n!==K;){var wc=
n,Oc=wc.alternate,zd=wc.stateNode;if(null!==Oc&&Oc===K)break;5===wc.tag&&null!==zd&&(wc=zd,na?(Oc=A(n,Ba),null!=Oc&&tb.unshift(cf(n,Oc,wc))):na||(Oc=A(n,Ba),null!=Oc&&tb.push(cf(n,Oc,wc))));n=n.return}0!==tb.length&&b.push({event:e,listeners:tb})}function ua(b){return("string"===typeof b?b:""+b).replace(Nl,"\n").replace(Ol,"")}function cb(b,e,n){e=ua(e);if(ua(b)!==e&&n)throw Error(v(425));}function Ab(){}function ec(b,e){return"textarea"===b||"noscript"===b||"string"===typeof e.children||"number"===
typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function Cc(b){setTimeout(function(){throw b;})}function $b(b,e){var n=e,K=0;do{var na=n.nextSibling;b.removeChild(n);if(na&&8===na.nodeType)if(n=na.data,"/$"===n){if(0===K){b.removeChild(na);Zc(e);return}K--}else"$"!==n&&"$?"!==n&&"$!"!==n||K++;n=na}while(n);Zc(e)}function J(b){for(;null!=b;b=b.nextSibling){var e=b.nodeType;if(1===e||3===e)break;if(8===e){e=b.data;
if("$"===e||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return b}function fa(b){b=b.previousSibling;for(var e=0;b;){if(8===b.nodeType){var n=b.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return b;e--}else"/$"===n&&e++}b=b.previousSibling}return null}function Sa(b){var e=b[qi];if(e)return e;for(var n=b.parentNode;n;){if(e=n[wi]||n[qi]){n=e.alternate;if(null!==e.child||null!==n&&null!==n.child)for(b=fa(b);null!==b;){if(n=b[qi])return n;b=fa(b)}return e}b=n;n=b.parentNode}return null}function bc(b){b=
b[qi]||b[wi];return!b||5!==b.tag&&6!==b.tag&&13!==b.tag&&3!==b.tag?null:b}function Pc(b){if(5===b.tag||6===b.tag)return b.stateNode;throw Error(v(33));}function Dc(b){return b[Wi]||null}function Tc(b){return{current:b}}function gd(b){0>Xi||(b.current=qk[Xi],qk[Xi]=null,Xi--)}function ee(b,e){Xi++;qk[Xi]=b.current;b.current=e}function Ra(b,e){var n=b.type.contextTypes;if(!n)return Yi;var K=b.stateNode;if(K&&K.__reactInternalMemoizedUnmaskedChildContext===e)return K.__reactInternalMemoizedMaskedChildContext;
var na={},Ba;for(Ba in n)na[Ba]=e[Ba];K&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=e,b.__reactInternalMemoizedMaskedChildContext=na);return na}function eb(b){b=b.childContextTypes;return null!==b&&void 0!==b}function oc(){gd(Cg);gd(Lh)}function vd(b,e,n){if(Lh.current!==Yi)throw Error(v(168));ee(Lh,e);ee(Cg,n)}function Lc(b,e,n){var K=b.stateNode;e=e.childContextTypes;if("function"!==typeof K.getChildContext)return n;K=K.getChildContext();for(var na in K)if(!(na in e))throw Error(v(108,
Kb(b)||"Unknown",na));return pg({},n,K)}function Wc(b){b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Yi;Li=Lh.current;ee(Lh,b);ee(Cg,Cg.current);return!0}function Qc(b,e,n){var K=b.stateNode;if(!K)throw Error(v(169));n?(b=Lc(b,e,Li),K.__reactInternalMemoizedMergedChildContext=b,gd(Cg),gd(Lh),ee(Lh,b)):gd(Cg);ee(Cg,n)}function sd(b){null===xi?xi=[b]:xi.push(b)}function jd(b){wj=!0;sd(b)}function Od(){if(!Sh&&null!==xi){Sh=!0;var b=0,e=lg;try{var n=xi;for(lg=1;b<n.length;b++){var K=
n[b];do K=K(!0);while(null!==K)}xi=null;wj=!1}catch(na){throw null!==xi&&(xi=xi.slice(b+1)),rk(hk,Od),na;}finally{lg=e,Sh=!1}}return null}function Cd(b,e){fi[xj++]=yi;fi[xj++]=sk;sk=b;yi=e}function be(b,e,n){gi[hi++]=zi;gi[hi++]=ii;gi[hi++]=dh;dh=b;var K=zi;b=ii;var na=32-di(K)-1;K&=~(1<<na);n+=1;var Ba=32-di(e)+na;if(30<Ba){var tb=na-na%5;Ba=(K&(1<<tb)-1).toString(32);K>>=tb;na-=tb;zi=1<<32-di(e)+na|n<<na|K;ii=Ba+b}else zi=1<<Ba|n<<na|K,ii=b}function xe(b){null!==b.return&&(Cd(b,1),be(b,1,0))}function Le(b){for(;b===
sk;)sk=fi[--xj],fi[xj]=null,yi=fi[--xj],fi[xj]=null;for(;b===dh;)dh=gi[--hi],gi[hi]=null,ii=gi[--hi],gi[hi]=null,zi=gi[--hi],gi[hi]=null}function Xe(b,e){var n=mg(5,null,null,0);n.elementType="DELETED";n.stateNode=e;n.return=b;e=b.deletions;null===e?(b.deletions=[n],b.flags|=16):e.push(n)}function df(b,e){switch(b.tag){case 5:var n=b.type;e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e;return null!==e?(b.stateNode=e,Mh=b,Zh=J(e.firstChild),!0):!1;case 6:return e=""===b.pendingProps||
3!==e.nodeType?null:e,null!==e?(b.stateNode=e,Mh=b,Zh=null,!0):!1;case 13:return e=8!==e.nodeType?null:e,null!==e?(n=null!==dh?{id:zi,overflow:ii}:null,b.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mg(18,null,null,0),n.stateNode=e,n.return=b,b.child=n,Mh=b,Zh=null,!0):!1;default:return!1}}function od(b){return 0!==(b.mode&1)&&0===(b.flags&128)}function Ec(b){if(Dg){var e=Zh;if(e){var n=e;if(!df(b,e)){if(od(b))throw Error(v(418));e=J(n.nextSibling);var K=Mh;e&&df(b,e)?Xe(K,n):
(b.flags=b.flags&-4097|2,Dg=!1,Mh=b)}}else{if(od(b))throw Error(v(418));b.flags=b.flags&-4097|2;Dg=!1;Mh=b}}}function kd(b){for(b=b.return;null!==b&&5!==b.tag&&3!==b.tag&&13!==b.tag;)b=b.return;Mh=b}function Fc(b){if(b!==Mh)return!1;if(!Dg)return kd(b),Dg=!0,!1;var e;(e=3!==b.tag)&&!(e=5!==b.tag)&&(e=b.type,e="head"!==e&&"body"!==e&&!ec(b.type,b.memoizedProps));if(e&&(e=Zh)){if(od(b))throw Jd(),Error(v(418));for(;e;)Xe(b,e),e=J(e.nextSibling)}kd(b);if(13===b.tag){b=b.memoizedState;b=null!==b?b.dehydrated:
null;if(!b)throw Error(v(317));a:{b=b.nextSibling;for(e=0;b;){if(8===b.nodeType){var n=b.data;if("/$"===n){if(0===e){Zh=J(b.nextSibling);break a}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}b=b.nextSibling}Zh=null}}else Zh=Mh?J(b.stateNode.nextSibling):null;return!0}function Jd(){for(var b=Zh;b;)b=J(b.nextSibling)}function Vd(){Zh=Mh=null;Dg=!1}function ce(b){null===Th?Th=[b]:Th.push(b)}function le(b,e){if(b&&b.defaultProps){e=pg({},e);b=b.defaultProps;for(var n in b)void 0===e[n]&&(e[n]=b[n])}return e}
function O(b){var e=mj.current;gd(mj);b._currentValue=e}function ea(b,e,n){for(;null!==b;){var K=b.alternate;(b.childLanes&e)!==e?(b.childLanes|=e,null!==K&&(K.childLanes|=e)):null!==K&&(K.childLanes&e)!==e&&(K.childLanes|=e);if(b===n)break;b=b.return}}function I(b,e){nj=b;Rj=Ai=null;b=b.dependencies;null!==b&&null!==b.firstContext&&(0!==(b.lanes&e)&&(Qh=!0),b.firstContext=null)}function ka(b){var e=b._currentValue;if(Rj!==b)if(b={context:b,memoizedValue:e,next:null},null===Ai){if(null===nj)throw Error(v(308));
Ai=b;nj.dependencies={lanes:0,firstContext:b}}else Ai=Ai.next=b;return e}function ta(b){null===Mi?Mi=[b]:Mi.push(b)}function Ja(b,e,n,K){var na=e.interleaved;null===na?(n.next=n,ta(e)):(n.next=na.next,na.next=n);e.interleaved=n;return jb(b,K)}function jb(b,e){b.lanes|=e;var n=b.alternate;null!==n&&(n.lanes|=e);n=b;for(b=b.return;null!==b;)b.childLanes|=e,n=b.alternate,null!==n&&(n.childLanes|=e),n=b,b=b.return;return 3===n.tag?n.stateNode:null}function vb(b){b.updateQueue={baseState:b.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pc(b,e){b=b.updateQueue;e.updateQueue===b&&(e.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function qc(b,e){return{eventTime:b,lane:e,tag:0,payload:null,callback:null,next:null}}function rc(b,e,n){var K=b.updateQueue;if(null===K)return null;K=K.shared;if(0!==($f&2)){var na=K.pending;null===na?e.next=
e:(e.next=na.next,na.next=e);K.pending=e;return jb(b,n)}na=K.interleaved;null===na?(e.next=e,ta(K)):(e.next=na.next,na.next=e);K.interleaved=e;return jb(b,n)}function Kc(b,e,n){e=e.updateQueue;if(null!==e&&(e=e.shared,0!==(n&4194240))){var K=e.lanes;K&=b.pendingLanes;n|=K;e.lanes=n;Sc(b,n)}}function Bd(b,e){var n=b.updateQueue,K=b.alternate;if(null!==K&&(K=K.updateQueue,n===K)){var na=null,Ba=null;n=n.firstBaseUpdate;if(null!==n){do{var tb={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,
callback:n.callback,next:null};null===Ba?na=Ba=tb:Ba=Ba.next=tb;n=n.next}while(null!==n);null===Ba?na=Ba=e:Ba=Ba.next=e}else na=Ba=e;n={baseState:K.baseState,firstBaseUpdate:na,lastBaseUpdate:Ba,shared:K.shared,effects:K.effects};b.updateQueue=n}else b=n.lastBaseUpdate,null===b?n.firstBaseUpdate=e:b.next=e,n.lastBaseUpdate=e}function Hc(b,e,n,K){var na=b.updateQueue;Bi=!1;var Ba=na.firstBaseUpdate,tb=na.lastBaseUpdate,wc=na.shared.pending;if(null!==wc){na.shared.pending=null;var Oc=wc,zd=Oc.next;
Oc.next=null;null===tb?Ba=zd:tb.next=zd;var fe=b.alternate;null!==fe&&(fe=fe.updateQueue,wc=fe.lastBaseUpdate,wc!==Oc&&(null===wc?fe.firstBaseUpdate=zd:wc.next=zd,fe.lastBaseUpdate=Oc))}if(null!==Ba){var me=na.baseState;tb=0;fe=zd=Oc=null;wc=Ba;do{var ge=wc.lane,De=wc.eventTime;if((K&ge)===ge){null!==fe&&(fe=fe.next={eventTime:De,lane:0,tag:wc.tag,payload:wc.payload,callback:wc.callback,next:null});a:{var Re=b,We=wc;ge=e;De=n;switch(We.tag){case 1:Re=We.payload;if("function"===typeof Re){me=Re.call(De,
me,ge);break a}me=Re;break a;case 3:Re.flags=Re.flags&-65537|128;case 0:Re=We.payload;ge="function"===typeof Re?Re.call(De,me,ge):Re;if(null===ge||void 0===ge)break a;me=pg({},me,ge);break a;case 2:Bi=!0}}null!==wc.callback&&0!==wc.lane&&(b.flags|=64,ge=na.effects,null===ge?na.effects=[wc]:ge.push(wc))}else De={eventTime:De,lane:ge,tag:wc.tag,payload:wc.payload,callback:wc.callback,next:null},null===fe?(zd=fe=De,Oc=me):fe=fe.next=De,tb|=ge;wc=wc.next;if(null===wc)if(wc=na.shared.pending,null===wc)break;
else ge=wc,wc=ge.next,ge.next=null,na.lastBaseUpdate=ge,na.shared.pending=null}while(1);null===fe&&(Oc=me);na.baseState=Oc;na.firstBaseUpdate=zd;na.lastBaseUpdate=fe;e=na.shared.interleaved;if(null!==e){na=e;do tb|=na.lane,na=na.next;while(na!==e)}else null===Ba&&(na.shared.lanes=0);oj|=tb;b.lanes=tb;b.memoizedState=me}}function $c(b,e,n){b=e.effects;e.effects=null;if(null!==b)for(e=0;e<b.length;e++){var K=b[e],na=K.callback;if(null!==na){K.callback=null;K=n;if("function"!==typeof na)throw Error(v(191,
na));na.call(K)}}}function yd(b,e,n,K){e=b.memoizedState;n=n(K,e);n=null===n||void 0===n?e:pg({},e,n);b.memoizedState=n;0===b.lanes&&(b.updateQueue.baseState=n)}function Dd(b,e,n,K,na,Ba,tb){b=b.stateNode;return"function"===typeof b.shouldComponentUpdate?b.shouldComponentUpdate(K,Ba,tb):e.prototype&&e.prototype.isPureReactComponent?!za(n,K)||!za(na,Ba):!0}function Kd(b,e,n){var K=!1,na=Yi,Ba=e.contextType;"object"===typeof Ba&&null!==Ba?Ba=ka(Ba):(na=eb(e)?Li:Lh.current,K=e.contextTypes,Ba=(K=null!==
K&&void 0!==K)?Ra(b,na):Yi);e=new e(n,Ba);b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;e.updater=tk;b.stateNode=e;e._reactInternals=b;K&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=na,b.__reactInternalMemoizedMaskedChildContext=Ba);return e}function Ee(b,e,n,K){b=e.state;"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,K);"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,K);e.state!==b&&tk.enqueueReplaceState(e,
e.state,null)}function Be(b,e,n,K){var na=b.stateNode;na.props=n;na.state=b.memoizedState;na.refs=Qk;vb(b);var Ba=e.contextType;"object"===typeof Ba&&null!==Ba?na.context=ka(Ba):(Ba=eb(e)?Li:Lh.current,na.context=Ra(b,Ba));na.state=b.memoizedState;Ba=e.getDerivedStateFromProps;"function"===typeof Ba&&(yd(b,e,Ba,n),na.state=b.memoizedState);"function"===typeof e.getDerivedStateFromProps||"function"===typeof na.getSnapshotBeforeUpdate||"function"!==typeof na.UNSAFE_componentWillMount&&"function"!==
typeof na.componentWillMount||(e=na.state,"function"===typeof na.componentWillMount&&na.componentWillMount(),"function"===typeof na.UNSAFE_componentWillMount&&na.UNSAFE_componentWillMount(),e!==na.state&&tk.enqueueReplaceState(na,na.state,null),Hc(b,n,na,K),na.state=b.memoizedState);"function"===typeof na.componentDidMount&&(b.flags|=4194308)}function wd(b,e,n){b=n.ref;if(null!==b&&"function"!==typeof b&&"object"!==typeof b){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(v(309));var K=n.stateNode}if(!K)throw Error(v(147,
b));var na=K,Ba=""+b;if(null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===Ba)return e.ref;e=function(tb){var wc=na.refs;wc===Qk&&(wc=na.refs={});null===tb?delete wc[Ba]:wc[Ba]=tb};e._stringRef=Ba;return e}if("string"!==typeof b)throw Error(v(284));if(!n._owner)throw Error(v(290,b));}return b}function ze(b,e){b=Object.prototype.toString.call(e);throw Error(v(31,"[object Object]"===b?"object with keys {"+Object.keys(e).join(", ")+"}":b));}function Ld(b){var e=b._init;return e(b._payload)}
function he(b){function e(nd,Yc){if(b){var ud=nd.deletions;null===ud?(nd.deletions=[Yc],nd.flags|=16):ud.push(Yc)}}function n(nd,Yc){if(!b)return null;for(;null!==Yc;)e(nd,Yc),Yc=Yc.sibling;return null}function K(nd,Yc){for(nd=new Map;null!==Yc;)null!==Yc.key?nd.set(Yc.key,Yc):nd.set(Yc.index,Yc),Yc=Yc.sibling;return nd}function na(nd,Yc){nd=$h(nd,Yc);nd.index=0;nd.sibling=null;return nd}function Ba(nd,Yc,ud){nd.index=ud;if(!b)return nd.flags|=1048576,Yc;ud=nd.alternate;if(null!==ud)return ud=ud.index,
ud<Yc?(nd.flags|=2,Yc):ud;nd.flags|=2;return Yc}function tb(nd){b&&null===nd.alternate&&(nd.flags|=2);return nd}function wc(nd,Yc,ud,te){if(null===Yc||6!==Yc.tag)return Yc=Zi(ud,nd.mode,te),Yc.return=nd,Yc;Yc=na(Yc,ud);Yc.return=nd;return Yc}function Oc(nd,Yc,ud,te){var Ye=ud.type;if(Ye===qd)return fe(nd,Yc,ud.props.children,te,ud.key);if(null!==Yc&&(Yc.elementType===Ye||"object"===typeof Ye&&null!==Ye&&Ye.$$typeof===kg&&Ld(Ye)===Yc.type))return te=na(Yc,ud.props),te.ref=wd(nd,Yc,ud),te.return=nd,
te;te=Ci(ud.type,ud.key,ud.props,null,nd.mode,te);te.ref=wd(nd,Yc,ud);te.return=nd;return te}function zd(nd,Yc,ud,te){if(null===Yc||4!==Yc.tag||Yc.stateNode.containerInfo!==ud.containerInfo||Yc.stateNode.implementation!==ud.implementation)return Yc=vg(ud,nd.mode,te),Yc.return=nd,Yc;Yc=na(Yc,ud.children||[]);Yc.return=nd;return Yc}function fe(nd,Yc,ud,te,Ye){if(null===Yc||7!==Yc.tag)return Yc=ji(ud,nd.mode,te,Ye),Yc.return=nd,Yc;Yc=na(Yc,ud);Yc.return=nd;return Yc}function me(nd,Yc,ud){if("string"===
typeof Yc&&""!==Yc||"number"===typeof Yc)return Yc=Zi(""+Yc,nd.mode,ud),Yc.return=nd,Yc;if("object"===typeof Yc&&null!==Yc){switch(Yc.$$typeof){case bd:return ud=Ci(Yc.type,Yc.key,Yc.props,null,nd.mode,ud),ud.ref=wd(nd,null,Yc),ud.return=nd,ud;case mc:return Yc=vg(Yc,nd.mode,ud),Yc.return=nd,Yc;case kg:var te=Yc._init;return me(nd,te(Yc._payload),ud)}if(Ne(Yc)||Cb(Yc))return Yc=ji(Yc,nd.mode,ud,null),Yc.return=nd,Yc;ze(nd,Yc)}return null}function ge(nd,Yc,ud,te){var Ye=null!==Yc?Yc.key:null;if("string"===
typeof ud&&""!==ud||"number"===typeof ud)return null!==Ye?null:wc(nd,Yc,""+ud,te);if("object"===typeof ud&&null!==ud){switch(ud.$$typeof){case bd:return ud.key===Ye?Oc(nd,Yc,ud,te):null;case mc:return ud.key===Ye?zd(nd,Yc,ud,te):null;case kg:return Ye=ud._init,ge(nd,Yc,Ye(ud._payload),te)}if(Ne(ud)||Cb(ud))return null!==Ye?null:fe(nd,Yc,ud,te,null);ze(nd,ud)}return null}function De(nd,Yc,ud,te,Ye){if("string"===typeof te&&""!==te||"number"===typeof te)return nd=nd.get(ud)||null,wc(Yc,nd,""+te,Ye);
if("object"===typeof te&&null!==te){switch(te.$$typeof){case bd:return nd=nd.get(null===te.key?ud:te.key)||null,Oc(Yc,nd,te,Ye);case mc:return nd=nd.get(null===te.key?ud:te.key)||null,zd(Yc,nd,te,Ye);case kg:var bf=te._init;return De(nd,Yc,ud,bf(te._payload),Ye)}if(Ne(te)||Cb(te))return nd=nd.get(ud)||null,fe(Yc,nd,te,Ye,null);ze(Yc,te)}return null}function Re(nd,Yc,ud,te){for(var Ye=null,bf=null,Ze=Yc,qf=Yc=0,ng=null;null!==Ze&&qf<ud.length;qf++){Ze.index>qf?(ng=Ze,Ze=null):ng=Ze.sibling;var ag=
ge(nd,Ze,ud[qf],te);if(null===ag){null===Ze&&(Ze=ng);break}b&&Ze&&null===ag.alternate&&e(nd,Ze);Yc=Ba(ag,Yc,qf);null===bf?Ye=ag:bf.sibling=ag;bf=ag;Ze=ng}if(qf===ud.length)return n(nd,Ze),Dg&&Cd(nd,qf),Ye;if(null===Ze){for(;qf<ud.length;qf++)Ze=me(nd,ud[qf],te),null!==Ze&&(Yc=Ba(Ze,Yc,qf),null===bf?Ye=Ze:bf.sibling=Ze,bf=Ze);Dg&&Cd(nd,qf);return Ye}for(Ze=K(nd,Ze);qf<ud.length;qf++)ng=De(Ze,nd,qf,ud[qf],te),null!==ng&&(b&&null!==ng.alternate&&Ze.delete(null===ng.key?qf:ng.key),Yc=Ba(ng,Yc,qf),null===
bf?Ye=ng:bf.sibling=ng,bf=ng);b&&Ze.forEach(function($i){return e(nd,$i)});Dg&&Cd(nd,qf);return Ye}function We(nd,Yc,ud,te){var Ye=Cb(ud);if("function"!==typeof Ye)throw Error(v(150));ud=Ye.call(ud);if(null==ud)throw Error(v(151));for(var bf=Ye=null,Ze=Yc,qf=Yc=0,ng=null,ag=ud.next();null!==Ze&&!ag.done;qf++,ag=ud.next()){Ze.index>qf?(ng=Ze,Ze=null):ng=Ze.sibling;var $i=ge(nd,Ze,ag.value,te);if(null===$i){null===Ze&&(Ze=ng);break}b&&Ze&&null===$i.alternate&&e(nd,Ze);Yc=Ba($i,Yc,qf);null===bf?Ye=$i:
bf.sibling=$i;bf=$i;Ze=ng}if(ag.done)return n(nd,Ze),Dg&&Cd(nd,qf),Ye;if(null===Ze){for(;!ag.done;qf++,ag=ud.next())ag=me(nd,ag.value,te),null!==ag&&(Yc=Ba(ag,Yc,qf),null===bf?Ye=ag:bf.sibling=ag,bf=ag);Dg&&Cd(nd,qf);return Ye}for(Ze=K(nd,Ze);!ag.done;qf++,ag=ud.next())ag=De(Ze,nd,qf,ag.value,te),null!==ag&&(b&&null!==ag.alternate&&Ze.delete(null===ag.key?qf:ag.key),Yc=Ba(ag,Yc,qf),null===bf?Ye=ag:bf.sibling=ag,bf=ag);b&&Ze.forEach(function(ol){return e(nd,ol)});Dg&&Cd(nd,qf);return Ye}function Zg(nd,
Yc,ud,te){"object"===typeof ud&&null!==ud&&ud.type===qd&&null===ud.key&&(ud=ud.props.children);if("object"===typeof ud&&null!==ud){switch(ud.$$typeof){case bd:a:{for(var Ye=ud.key,bf=Yc;null!==bf;){if(bf.key===Ye){Ye=ud.type;if(Ye===qd){if(7===bf.tag){n(nd,bf.sibling);Yc=na(bf,ud.props.children);Yc.return=nd;nd=Yc;break a}}else if(bf.elementType===Ye||"object"===typeof Ye&&null!==Ye&&Ye.$$typeof===kg&&Ld(Ye)===bf.type){n(nd,bf.sibling);Yc=na(bf,ud.props);Yc.ref=wd(nd,bf,ud);Yc.return=nd;nd=Yc;break a}n(nd,
bf);break}else e(nd,bf);bf=bf.sibling}ud.type===qd?(Yc=ji(ud.props.children,nd.mode,te,ud.key),Yc.return=nd,nd=Yc):(te=Ci(ud.type,ud.key,ud.props,null,nd.mode,te),te.ref=wd(nd,Yc,ud),te.return=nd,nd=te)}return tb(nd);case mc:a:{for(bf=ud.key;null!==Yc;){if(Yc.key===bf)if(4===Yc.tag&&Yc.stateNode.containerInfo===ud.containerInfo&&Yc.stateNode.implementation===ud.implementation){n(nd,Yc.sibling);Yc=na(Yc,ud.children||[]);Yc.return=nd;nd=Yc;break a}else{n(nd,Yc);break}else e(nd,Yc);Yc=Yc.sibling}Yc=
vg(ud,nd.mode,te);Yc.return=nd;nd=Yc}return tb(nd);case kg:return bf=ud._init,Zg(nd,Yc,bf(ud._payload),te)}if(Ne(ud))return Re(nd,Yc,ud,te);if(Cb(ud))return We(nd,Yc,ud,te);ze(nd,ud)}return"string"===typeof ud&&""!==ud||"number"===typeof ud?(ud=""+ud,null!==Yc&&6===Yc.tag?(n(nd,Yc.sibling),Yc=na(Yc,ud),Yc.return=nd,nd=Yc):(n(nd,Yc),Yc=Zi(ud,nd.mode,te),Yc.return=nd,nd=Yc),tb(nd)):n(nd,Yc)}return Zg}function Fe(b){if(b===yj)throw Error(v(174));return b}function lf(b,e){ee(zj,e);ee(Aj,b);ee(Di,yj);
b=e.nodeType;switch(b){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fa(null,"");break;default:b=8===b?e.parentNode:e,e=b.namespaceURI||null,b=b.tagName,e=Fa(e,b)}gd(Di);ee(Di,e)}function vf(){gd(Di);gd(Aj);gd(zj)}function Ie(b){Fe(zj.current);var e=Fe(Di.current),n=Fa(e,b.type);e!==n&&(ee(Aj,b),ee(Di,n))}function ne(b){Aj.current===b&&(gd(Di),gd(Aj))}function Cf(b){for(var e=b;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||"$?"===n.data||"$!"===n.data))return e}else if(19===
e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(e.flags&128))return e}else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return null;e=e.return}e.sibling.return=e.return;e=e.sibling}return null}function If(){for(var b=0;b<aj.length;b++)aj[b]._workInProgressVersionPrimary=null;aj.length=0}function jf(){throw Error(v(321));}function bg(b,e){if(null===e)return!1;for(var n=0;n<e.length&&n<b.length;n++)if(!oi(b[n],e[n]))return!1;
return!0}function Yd(b,e,n,K,na,Ba){pj=Ba;qg=e;e.memoizedState=null;e.updateQueue=null;e.lanes=0;Sj.current=null===b||null===b.memoizedState?Pl:pl;b=n(K,na);if(Tj){Ba=0;do{Tj=!1;Uj=0;if(25<=Ba)throw Error(v(301));Ba+=1;nh=ih=null;e.updateQueue=null;Sj.current=ql;b=n(K,na)}while(Tj)}Sj.current=Vj;e=null!==ih&&null!==ih.next;pj=0;nh=ih=qg=null;qj=!1;if(e)throw Error(v(300));return b}function ef(){var b=0!==Uj;Uj=0;return b}function mf(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,
next:null};null===nh?qg.memoizedState=nh=b:nh=nh.next=b;return nh}function af(){if(null===ih){var b=qg.alternate;b=null!==b?b.memoizedState:null}else b=ih.next;var e=null===nh?qg.memoizedState:nh.next;if(null!==e)nh=e,ih=b;else{if(null===b)throw Error(v(310));ih=b;b={memoizedState:ih.memoizedState,baseState:ih.baseState,baseQueue:ih.baseQueue,queue:ih.queue,next:null};null===nh?qg.memoizedState=nh=b:nh=nh.next=b}return nh}function Hf(b,e){return"function"===typeof e?e(b):e}function Jf(b){var e=af(),
n=e.queue;if(null===n)throw Error(v(311));n.lastRenderedReducer=b;var K=ih,na=K.baseQueue,Ba=n.pending;if(null!==Ba){if(null!==na){var tb=na.next;na.next=Ba.next;Ba.next=tb}K.baseQueue=na=Ba;n.pending=null}if(null!==na){Ba=na.next;K=K.baseState;var wc=tb=null,Oc=null,zd=Ba;do{var fe=zd.lane;if((pj&fe)===fe)null!==Oc&&(Oc=Oc.next={lane:0,action:zd.action,hasEagerState:zd.hasEagerState,eagerState:zd.eagerState,next:null}),K=zd.hasEagerState?zd.eagerState:b(K,zd.action);else{var me={lane:fe,action:zd.action,
hasEagerState:zd.hasEagerState,eagerState:zd.eagerState,next:null};null===Oc?(wc=Oc=me,tb=K):Oc=Oc.next=me;qg.lanes|=fe;oj|=fe}zd=zd.next}while(null!==zd&&zd!==Ba);null===Oc?tb=K:Oc.next=wc;oi(K,e.memoizedState)||(Qh=!0);e.memoizedState=K;e.baseState=tb;e.baseQueue=Oc;n.lastRenderedState=K}b=n.interleaved;if(null!==b){na=b;do Ba=na.lane,qg.lanes|=Ba,oj|=Ba,na=na.next;while(na!==b)}else null===na&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yf(b){var e=af(),n=e.queue;if(null===n)throw Error(v(311));
n.lastRenderedReducer=b;var K=n.dispatch,na=n.pending,Ba=e.memoizedState;if(null!==na){n.pending=null;var tb=na=na.next;do Ba=b(Ba,tb.action),tb=tb.next;while(tb!==na);oi(Ba,e.memoizedState)||(Qh=!0);e.memoizedState=Ba;null===e.baseQueue&&(e.baseState=Ba);n.lastRenderedState=Ba}return[Ba,K]}function zf(){}function Eg(b,e){var n=qg,K=af(),na=e(),Ba=!oi(K.memoizedState,na);Ba&&(K.memoizedState=na,Qh=!0);K=K.queue;hd(Kf.bind(null,n,K,b),[b]);if(K.getSnapshot!==e||Ba||null!==nh&&nh.memoizedState.tag&
1){n.flags|=2048;Og(9,wf.bind(null,n,K,na,e),void 0,null);if(null===xh)throw Error(v(349));0!==(pj&30)||eg(n,e,na)}return na}function eg(b,e,n){b.flags|=16384;b={getSnapshot:e,value:n};e=qg.updateQueue;null===e?(e={lastEffect:null,stores:null},qg.updateQueue=e,e.stores=[b]):(n=e.stores,null===n?e.stores=[b]:n.push(b))}function wf(b,e,n,K){e.value=n;e.getSnapshot=K;dg(e)&&eh(b)}function Kf(b,e,n){return n(function(){dg(e)&&eh(b)})}function dg(b){var e=b.getSnapshot;b=b.value;try{var n=e();return!oi(b,
n)}catch(K){return!0}}function eh(b){var e=jb(b,1);null!==e&&da(e,b,1,-1)}function Jg(b){var e=mf();"function"===typeof b&&(b=b());e.memoizedState=e.baseState=b;b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:b};e.queue=b;b=b.dispatch=Qg.bind(null,qg,b);return[e.memoizedState,b]}function Og(b,e,n,K){b={tag:b,create:e,destroy:n,deps:K,next:null};e=qg.updateQueue;null===e?(e={lastEffect:null,stores:null},qg.updateQueue=e,e.lastEffect=b.next=b):(n=e.lastEffect,
null===n?e.lastEffect=b.next=b:(K=n.next,n.next=b,b.next=K,e.lastEffect=b));return b}function Ug(){return af().memoizedState}function qa(b,e,n,K){var na=mf();qg.flags|=b;na.memoizedState=Og(1|e,n,void 0,void 0===K?null:K)}function bb(b,e,n,K){var na=af();K=void 0===K?null:K;var Ba=void 0;if(null!==ih){var tb=ih.memoizedState;Ba=tb.destroy;if(null!==K&&bg(K,tb.deps)){na.memoizedState=Og(e,n,Ba,K);return}}qg.flags|=b;na.memoizedState=Og(1|e,n,Ba,K)}function Rb(b,e){return qa(8390656,8,b,e)}function hd(b,
e){return bb(2048,8,b,e)}function ld(b,e){return bb(4,2,b,e)}function qe(b,e){return bb(4,4,b,e)}function Pe(b,e){if("function"===typeof e)return b=b(),e(b),function(){e(null)};if(null!==e&&void 0!==e)return b=b(),e.current=b,function(){e.current=null}}function rf(b,e,n){n=null!==n&&void 0!==n?n.concat([b]):null;return bb(4,4,Pe.bind(null,e,b),n)}function Gf(){}function Me(b,e){var n=af();e=void 0===e?null:e;var K=n.memoizedState;if(null!==K&&null!==e&&bg(e,K[1]))return K[0];n.memoizedState=[b,e];
return b}function cg(b,e){var n=af();e=void 0===e?null:e;var K=n.memoizedState;if(null!==K&&null!==e&&bg(e,K[1]))return K[0];b=b();n.memoizedState=[b,e];return b}function Sf(b,e,n){if(0===(pj&21))return b.baseState&&(b.baseState=!1,Qh=!0),b.memoizedState=n;oi(n,e)||(n=sc(),qg.lanes|=n,oj|=n,b.baseState=!0);return e}function Yf(b,e){var n=lg;lg=0!==n&&4>n?n:4;b(!0);var K=uk.transition;uk.transition={};try{b(!1),e()}finally{lg=n,uk.transition=K}}function rg(){return af().memoizedState}function sg(b,
e,n){var K=z(b);n={lane:K,action:n,hasEagerState:!1,eagerState:null,next:null};if(fh(b))jh(e,n);else if(n=Ja(b,e,n,K),null!==n){var na=l();da(n,b,K,na);Ce(n,e,K)}}function Qg(b,e,n){var K=z(b),na={lane:K,action:n,hasEagerState:!1,eagerState:null,next:null};if(fh(b))jh(e,na);else{var Ba=b.alternate;if(0===b.lanes&&(null===Ba||0===Ba.lanes)&&(Ba=e.lastRenderedReducer,null!==Ba))try{var tb=e.lastRenderedState,wc=Ba(tb,n);na.hasEagerState=!0;na.eagerState=wc;if(oi(wc,tb)){var Oc=e.interleaved;null===
Oc?(na.next=na,ta(e)):(na.next=Oc.next,Oc.next=na);e.interleaved=na;return}}catch(zd){}finally{}n=Ja(b,e,na,K);null!==n&&(na=l(),da(n,b,K,na),Ce(n,e,K))}}function fh(b){var e=b.alternate;return b===qg||null!==e&&e===qg}function jh(b,e){Tj=qj=!0;var n=b.pending;null===n?e.next=e:(e.next=n.next,n.next=e);b.pending=e}function Ce(b,e,n){if(0!==(n&4194240)){var K=e.lanes;K&=b.pendingLanes;n|=K;e.lanes=n;Sc(b,n)}}function Ge(b,e){try{var n="",K=e;do n+=Ua(K),K=K.return;while(K)}catch(na){n="\nError generating stack: "+
na.message+"\n"+na.stack}return{value:b,source:e,stack:n,digest:null}}function Lf(b,e,n){return{value:b,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function xf(b,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n;})}}function of(b,e,n){n=qc(-1,n);n.tag=3;n.payload={element:null};var K=e.value;n.callback=function(){vk||(vk=!0,Rk=K);xf(b,e)};return n}function Af(b,e,n){n=qc(-1,n);n.tag=3;var K=b.type.getDerivedStateFromError;if("function"===typeof K){var na=e.value;n.payload=
function(){return K(na)};n.callback=function(){xf(b,e)}}var Ba=b.stateNode;null!==Ba&&"function"===typeof Ba.componentDidCatch&&(n.callback=function(){xf(b,e);"function"!==typeof K&&(null===Ni?Ni=new Set([this]):Ni.add(this));var tb=e.stack;this.componentDidCatch(e.value,{componentStack:null!==tb?tb:""})});return n}function tg(b,e,n){var K=b.pingCache;if(null===K){K=b.pingCache=new Ql;var na=new Set;K.set(e,na)}else na=K.get(e),void 0===na&&(na=new Set,K.set(e,na));na.has(n)||(na.add(n),b=Tf.bind(null,
b,e,n),e.then(b,b))}function wg(b){do{var e;if(e=13===b.tag)e=b.memoizedState,e=null!==e?null!==e.dehydrated?!0:!1:!0;if(e)return b;b=b.return}while(null!==b);return null}function fg(b,e,n,K,na){if(0===(b.mode&1))return b===e?b.flags|=65536:(b.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:(e=qc(-1,1),e.tag=2,rc(n,e,1))),n.lanes|=1),b;b.flags|=65536;b.lanes=na;return b}function Bf(b,e,n,K){e.child=null===b?Sk(e,null,n,K):Bj(e,b.child,n,K)}function Rg(b,e,n,K,na){n=
n.render;var Ba=e.ref;I(e,na);K=Yd(b,e,n,K,Ba,na);n=ef();if(null!==b&&!Qh)return e.updateQueue=b.updateQueue,e.flags&=-2053,b.lanes&=~na,kh(b,e,na);Dg&&n&&xe(e);e.flags|=1;Bf(b,e,K,na);return e.child}function gh(b,e,n,K,na){if(null===b){var Ba=n.type;if("function"===typeof Ba&&!hh(Ba)&&void 0===Ba.defaultProps&&null===n.compare&&void 0===n.defaultProps)return e.tag=15,e.type=Ba,oh(b,e,Ba,K,na);b=Ci(n.type,null,K,e,e.mode,na);b.ref=e.ref;b.return=e;return e.child=b}Ba=b.child;if(0===(b.lanes&na)){var tb=
Ba.memoizedProps;n=n.compare;n=null!==n?n:za;if(n(tb,K)&&b.ref===e.ref)return kh(b,e,na)}e.flags|=1;b=$h(Ba,K);b.ref=e.ref;b.return=e;return e.child=b}function oh(b,e,n,K,na){if(null!==b){var Ba=b.memoizedProps;if(za(Ba,K)&&b.ref===e.ref)if(Qh=!1,e.pendingProps=K=Ba,0!==(b.lanes&na))0!==(b.flags&131072)&&(Qh=!0);else return e.lanes=b.lanes,kh(b,e,na)}return yh(b,e,n,K,na)}function xg(b,e,n){var K=e.pendingProps,na=K.children,Ba=null!==b?b.memoizedState:null;if("hidden"===K.mode)if(0===(e.mode&1))e.memoizedState=
{baseLanes:0,cachePool:null,transitions:null},ee(Cj,ai),ai|=n;else{if(0===(n&1073741824))return b=null!==Ba?Ba.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:b,cachePool:null,transitions:null},e.updateQueue=null,ee(Cj,ai),ai|=b,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null};K=null!==Ba?Ba.baseLanes:n;ee(Cj,ai);ai|=K}else null!==Ba?(K=Ba.baseLanes|n,e.memoizedState=null):K=n,ee(Cj,ai),ai|=K;Bf(b,e,na,n);return e.child}function zh(b,e){var n=e.ref;if(null===
b&&null!==n||null!==b&&b.ref!==n)e.flags|=512,e.flags|=2097152}function yh(b,e,n,K,na){var Ba=eb(n)?Li:Lh.current;Ba=Ra(e,Ba);I(e,na);n=Yd(b,e,n,K,Ba,na);K=ef();if(null!==b&&!Qh)return e.updateQueue=b.updateQueue,e.flags&=-2053,b.lanes&=~na,kh(b,e,na);Dg&&K&&xe(e);e.flags|=1;Bf(b,e,n,na);return e.child}function Nh(b,e,n,K,na){if(eb(n)){var Ba=!0;Wc(e)}else Ba=!1;I(e,na);if(null===e.stateNode)Sg(b,e),Kd(e,n,K),Be(e,n,K,na),K=!0;else if(null===b){var tb=e.stateNode,wc=e.memoizedProps;tb.props=wc;var Oc=
tb.context,zd=n.contextType;"object"===typeof zd&&null!==zd?zd=ka(zd):(zd=eb(n)?Li:Lh.current,zd=Ra(e,zd));var fe=n.getDerivedStateFromProps,me="function"===typeof fe||"function"===typeof tb.getSnapshotBeforeUpdate;me||"function"!==typeof tb.UNSAFE_componentWillReceiveProps&&"function"!==typeof tb.componentWillReceiveProps||(wc!==K||Oc!==zd)&&Ee(e,tb,K,zd);Bi=!1;var ge=e.memoizedState;tb.state=ge;Hc(e,K,tb,na);Oc=e.memoizedState;wc!==K||ge!==Oc||Cg.current||Bi?("function"===typeof fe&&(yd(e,n,fe,
K),Oc=e.memoizedState),(wc=Bi||Dd(e,n,wc,K,ge,Oc,zd))?(me||"function"!==typeof tb.UNSAFE_componentWillMount&&"function"!==typeof tb.componentWillMount||("function"===typeof tb.componentWillMount&&tb.componentWillMount(),"function"===typeof tb.UNSAFE_componentWillMount&&tb.UNSAFE_componentWillMount()),"function"===typeof tb.componentDidMount&&(e.flags|=4194308)):("function"===typeof tb.componentDidMount&&(e.flags|=4194308),e.memoizedProps=K,e.memoizedState=Oc),tb.props=K,tb.state=Oc,tb.context=zd,
K=wc):("function"===typeof tb.componentDidMount&&(e.flags|=4194308),K=!1)}else{tb=e.stateNode;pc(b,e);wc=e.memoizedProps;zd=e.type===e.elementType?wc:le(e.type,wc);tb.props=zd;me=e.pendingProps;ge=tb.context;Oc=n.contextType;"object"===typeof Oc&&null!==Oc?Oc=ka(Oc):(Oc=eb(n)?Li:Lh.current,Oc=Ra(e,Oc));var De=n.getDerivedStateFromProps;(fe="function"===typeof De||"function"===typeof tb.getSnapshotBeforeUpdate)||"function"!==typeof tb.UNSAFE_componentWillReceiveProps&&"function"!==typeof tb.componentWillReceiveProps||
(wc!==me||ge!==Oc)&&Ee(e,tb,K,Oc);Bi=!1;ge=e.memoizedState;tb.state=ge;Hc(e,K,tb,na);var Re=e.memoizedState;wc!==me||ge!==Re||Cg.current||Bi?("function"===typeof De&&(yd(e,n,De,K),Re=e.memoizedState),(zd=Bi||Dd(e,n,zd,K,ge,Re,Oc)||!1)?(fe||"function"!==typeof tb.UNSAFE_componentWillUpdate&&"function"!==typeof tb.componentWillUpdate||("function"===typeof tb.componentWillUpdate&&tb.componentWillUpdate(K,Re,Oc),"function"===typeof tb.UNSAFE_componentWillUpdate&&tb.UNSAFE_componentWillUpdate(K,Re,Oc)),
"function"===typeof tb.componentDidUpdate&&(e.flags|=4),"function"===typeof tb.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof tb.componentDidUpdate||wc===b.memoizedProps&&ge===b.memoizedState||(e.flags|=4),"function"!==typeof tb.getSnapshotBeforeUpdate||wc===b.memoizedProps&&ge===b.memoizedState||(e.flags|=1024),e.memoizedProps=K,e.memoizedState=Re),tb.props=K,tb.state=Re,tb.context=Oc,K=zd):("function"!==typeof tb.componentDidUpdate||wc===b.memoizedProps&&ge===b.memoizedState||(e.flags|=
4),"function"!==typeof tb.getSnapshotBeforeUpdate||wc===b.memoizedProps&&ge===b.memoizedState||(e.flags|=1024),K=!1)}return $g(b,e,n,K,Ba,na)}function $g(b,e,n,K,na,Ba){zh(b,e);var tb=0!==(e.flags&128);if(!K&&!tb)return na&&Qc(e,n,!1),kh(b,e,Ba);K=e.stateNode;Rl.current=e;var wc=tb&&"function"!==typeof n.getDerivedStateFromError?null:K.render();e.flags|=1;null!==b&&tb?(e.child=Bj(e,b.child,null,Ba),e.child=Bj(e,null,wc,Ba)):Bf(b,e,wc,Ba);e.memoizedState=K.state;na&&Qc(e,n,!0);return e.child}function ph(b){var e=
b.stateNode;e.pendingContext?vd(b,e.pendingContext,e.pendingContext!==e.context):e.context&&vd(b,e.context,!1);lf(b,e.containerInfo)}function Ah(b){return{baseLanes:b,cachePool:null,transitions:null}}function bi(b,e,n){var K=e.pendingProps,na=Fg.current,Ba=!1,tb=0!==(e.flags&128),wc;(wc=tb)||(wc=null!==b&&null===b.memoizedState?!1:0!==(na&2));if(wc)Ba=!0,e.flags&=-129;else if(null===b||null!==b.memoizedState)na|=1;ee(Fg,na&1);if(null===b){Ec(e);b=e.memoizedState;if(null!==b&&(b=b.dehydrated,null!==
b))return 0===(e.mode&1)?e.lanes=1:"$!"===b.data?e.lanes=8:e.lanes=1073741824,null;tb=K.children;b=K.fallback;return Ba?(K=e.mode,Ba=e.child,tb={mode:"hidden",children:tb},0===(K&1)&&null!==Ba?(Ba.childLanes=0,Ba.pendingProps=tb):Ba=ri(tb,K,0,null),b=ji(b,K,n,null),Ba.return=e,b.return=e,Ba.sibling=b,e.child=Ba,e.child.memoizedState=Ah(n),e.memoizedState=wk,b):Vg(e,tb)}na=b.memoizedState;if(null!==na&&(wc=na.dehydrated,null!==wc))return Ei(b,e,tb,K,wc,na,n);if(Ba){Ba=K.fallback;tb=e.mode;na=b.child;
wc=na.sibling;var Oc={mode:"hidden",children:K.children};0===(tb&1)&&e.child!==na?(K=e.child,K.childLanes=0,K.pendingProps=Oc,e.deletions=null):(K=$h(na,Oc),K.subtreeFlags=na.subtreeFlags&14680064);null!==wc?Ba=$h(wc,Ba):(Ba=ji(Ba,tb,n,null),Ba.flags|=2);Ba.return=e;K.return=e;K.sibling=Ba;e.child=K;K=Ba;Ba=e.child;tb=b.child.memoizedState;tb=null===tb?Ah(n):{baseLanes:tb.baseLanes|n,cachePool:null,transitions:tb.transitions};Ba.memoizedState=tb;Ba.childLanes=b.childLanes&~n;e.memoizedState=wk;return K}Ba=
b.child;b=Ba.sibling;K=$h(Ba,{mode:"visible",children:K.children});0===(e.mode&1)&&(K.lanes=n);K.return=e;K.sibling=null;null!==b&&(n=e.deletions,null===n?(e.deletions=[b],e.flags|=16):n.push(b));e.child=K;e.memoizedState=null;return K}function Vg(b,e){e=ri({mode:"visible",children:e},b.mode,0,null);e.return=b;return b.child=e}function qh(b,e,n,K){null!==K&&ce(K);Bj(e,b.child,null,n);b=Vg(e,e.pendingProps.children);b.flags|=2;e.memoizedState=null;return b}function Ei(b,e,n,K,na,Ba,tb){if(n){if(e.flags&
256)return e.flags&=-257,K=Lf(Error(v(422))),qh(b,e,tb,K);if(null!==e.memoizedState)return e.child=b.child,e.flags|=128,null;Ba=K.fallback;na=e.mode;K=ri({mode:"visible",children:K.children},na,0,null);Ba=ji(Ba,na,tb,null);Ba.flags|=2;K.return=e;Ba.return=e;K.sibling=Ba;e.child=K;0!==(e.mode&1)&&Bj(e,b.child,null,tb);e.child.memoizedState=Ah(tb);e.memoizedState=wk;return Ba}if(0===(e.mode&1))return qh(b,e,tb,null);if("$!"===na.data){if(K=na.nextSibling&&na.nextSibling.dataset)var wc=K.dgst;K=wc;Ba=
Error(v(419));K=Lf(Ba,K,void 0);return qh(b,e,tb,K)}wc=0!==(tb&b.childLanes);if(Qh||wc){K=xh;if(null!==K){switch(tb&-tb){case 4:na=2;break;case 16:na=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:na=32;break;case 536870912:na=268435456;break;default:na=0}na=0!==(na&(K.suspendedLanes|tb))?0:na;0!==na&&
na!==Ba.retryLane&&(Ba.retryLane=na,jb(b,na),da(K,b,na,-1))}pf();K=Lf(Error(v(421)));return qh(b,e,tb,K)}if("$?"===na.data)return e.flags|=128,e.child=b.child,e=Of.bind(null,b),na._reactRetry=e,null;b=Ba.treeContext;Zh=J(na.nextSibling);Mh=e;Dg=!0;Th=null;null!==b&&(gi[hi++]=zi,gi[hi++]=ii,gi[hi++]=dh,zi=b.id,ii=b.overflow,dh=e);e=Vg(e,K.children);e.flags|=4096;return e}function Kg(b,e,n){b.lanes|=e;var K=b.alternate;null!==K&&(K.lanes|=e);ea(b.return,e,n)}function Fh(b,e,n,K,na){var Ba=b.memoizedState;
null===Ba?b.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:K,tail:n,tailMode:na}:(Ba.isBackwards=e,Ba.rendering=null,Ba.renderingStartTime=0,Ba.last=K,Ba.tail=n,Ba.tailMode=na)}function Uh(b,e,n){var K=e.pendingProps,na=K.revealOrder,Ba=K.tail;Bf(b,e,K.children,n);K=Fg.current;if(0!==(K&2))K=K&1|2,e.flags|=128;else{if(null!==b&&0!==(b.flags&128))a:for(b=e.child;null!==b;){if(13===b.tag)null!==b.memoizedState&&Kg(b,n,e);else if(19===b.tag)Kg(b,n,e);else if(null!==b.child){b.child.return=
b;b=b.child;continue}if(b===e)break a;for(;null===b.sibling;){if(null===b.return||b.return===e)break a;b=b.return}b.sibling.return=b.return;b=b.sibling}K&=1}ee(Fg,K);if(0===(e.mode&1))e.memoizedState=null;else switch(na){case "forwards":n=e.child;for(na=null;null!==n;)b=n.alternate,null!==b&&null===Cf(b)&&(na=n),n=n.sibling;n=na;null===n?(na=e.child,e.child=null):(na=n.sibling,n.sibling=null);Fh(e,!1,na,n,Ba);break;case "backwards":n=null;na=e.child;for(e.child=null;null!==na;){b=na.alternate;if(null!==
b&&null===Cf(b)){e.child=na;break}b=na.sibling;na.sibling=n;n=na;na=b}Fh(e,!0,n,null,Ba);break;case "together":Fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sg(b,e){0===(e.mode&1)&&null!==b&&(b.alternate=null,e.alternate=null,e.flags|=2)}function kh(b,e,n){null!==b&&(e.dependencies=b.dependencies);oj|=e.lanes;if(0===(n&e.childLanes))return null;if(null!==b&&e.child!==b.child)throw Error(v(153));if(null!==e.child){b=e.child;n=$h(b,b.pendingProps);e.child=n;for(n.return=
e;null!==b.sibling;)b=b.sibling,n=n.sibling=$h(b,b.pendingProps),n.return=e;n.sibling=null}return e.child}function rh(b,e,n){switch(e.tag){case 3:ph(e);Vd();break;case 5:Ie(e);break;case 1:eb(e.type)&&Wc(e);break;case 4:lf(e,e.stateNode.containerInfo);break;case 10:var K=e.type._context,na=e.memoizedProps.value;ee(mj,K._currentValue);K._currentValue=na;break;case 13:K=e.memoizedState;if(null!==K){if(null!==K.dehydrated)return ee(Fg,Fg.current&1),e.flags|=128,null;if(0!==(n&e.child.childLanes))return bi(b,
e,n);ee(Fg,Fg.current&1);b=kh(b,e,n);return null!==b?b.sibling:null}ee(Fg,Fg.current&1);break;case 19:K=0!==(n&e.childLanes);if(0!==(b.flags&128)){if(K)return Uh(b,e,n);e.flags|=128}na=e.memoizedState;null!==na&&(na.rendering=null,na.tail=null,na.lastEffect=null);ee(Fg,Fg.current);if(K)break;else return null;case 22:case 23:return e.lanes=0,xg(b,e,n)}return kh(b,e,n)}function Bh(b,e){if(!Dg)switch(b.tailMode){case "hidden":e=b.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===
n?b.tail=null:n.sibling=null;break;case "collapsed":n=b.tail;for(var K=null;null!==n;)null!==n.alternate&&(K=n),n=n.sibling;null===K?e||null===b.tail?b.tail=null:b.tail.sibling=null:K.sibling=null}}function Gg(b){var e=null!==b.alternate&&b.alternate.child===b.child,n=0,K=0;if(e)for(var na=b.child;null!==na;)n|=na.lanes|na.childLanes,K|=na.subtreeFlags&14680064,K|=na.flags&14680064,na.return=b,na=na.sibling;else for(na=b.child;null!==na;)n|=na.lanes|na.childLanes,K|=na.subtreeFlags,K|=na.flags,na.return=
b,na=na.sibling;b.subtreeFlags|=K;b.childLanes=n;return e}function Gh(b,e,n){var K=e.pendingProps;Le(e);switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gg(e),null;case 1:return eb(e.type)&&oc(),Gg(e),null;case 3:K=e.stateNode;vf();gd(Cg);gd(Lh);If();K.pendingContext&&(K.context=K.pendingContext,K.pendingContext=null);if(null===b||null===b.child)Fc(e)?e.flags|=4:null===b||b.memoizedState.isDehydrated&&0===(e.flags&256)||(e.flags|=1024,null!==Th&&(Bb(Th),
Th=null));rl(b,e);Gg(e);return null;case 5:ne(e);var na=Fe(zj.current);n=e.type;if(null!==b&&null!=e.stateNode)Oi(b,e,n,K,na),b.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!K){if(null===e.stateNode)throw Error(v(166));Gg(e);return null}b=Fe(Di.current);if(Fc(e)){K=e.stateNode;n=e.type;var Ba=e.memoizedProps;K[qi]=e;K[Wi]=Ba;b=0!==(e.mode&1);switch(n){case "dialog":Wd("cancel",K);Wd("close",K);break;case "iframe":case "object":case "embed":Wd("load",K);break;case "video":case "audio":for(na=
0;na<bj.length;na++)Wd(bj[na],K);break;case "source":Wd("error",K);break;case "img":case "image":case "link":Wd("error",K);Wd("load",K);break;case "details":Wd("toggle",K);break;case "input":Ka(K,Ba);Wd("invalid",K);break;case "select":K._wrapperState={wasMultiple:!!Ba.multiple};Wd("invalid",K);break;case "textarea":Wb(K,Ba),Wd("invalid",K)}ma(n,Ba);na=null;for(var tb in Ba)if(Ba.hasOwnProperty(tb)){var wc=Ba[tb];"children"===tb?"string"===typeof wc?K.textContent!==wc&&(!0!==Ba.suppressHydrationWarning&&
cb(K.textContent,wc,b),na=["children",wc]):"number"===typeof wc&&K.textContent!==""+wc&&(!0!==Ba.suppressHydrationWarning&&cb(K.textContent,wc,b),na=["children",""+wc]):T.hasOwnProperty(tb)&&null!=wc&&"onScroll"===tb&&Wd("scroll",K)}switch(n){case "input":ab(K);Pa(K,Ba,!0);break;case "textarea":ab(K);pa(K);break;case "select":case "option":break;default:"function"===typeof Ba.onClick&&(K.onclick=Ab)}K=na;e.updateQueue=K;null!==K&&(e.flags|=4)}else{tb=9===na.nodeType?na:na.ownerDocument;"http://www.w3.org/1999/xhtml"===
b&&(b=Z(n));"http://www.w3.org/1999/xhtml"===b?"script"===n?(b=tb.createElement("div"),b.innerHTML="\x3cscript\x3e\x3c/script\x3e",b=b.removeChild(b.firstChild)):"string"===typeof K.is?b=tb.createElement(n,{is:K.is}):(b=tb.createElement(n),"select"===n&&(tb=b,K.multiple?tb.multiple=!0:K.size&&(tb.size=K.size))):b=tb.createElementNS(b,n);b[qi]=e;b[Wi]=K;Sl(b,e,!1,!1);e.stateNode=b;a:{tb=q(n,K);switch(n){case "dialog":Wd("cancel",b);Wd("close",b);na=K;break;case "iframe":case "object":case "embed":Wd("load",
b);na=K;break;case "video":case "audio":for(na=0;na<bj.length;na++)Wd(bj[na],b);na=K;break;case "source":Wd("error",b);na=K;break;case "img":case "image":case "link":Wd("error",b);Wd("load",b);na=K;break;case "details":Wd("toggle",b);na=K;break;case "input":Ka(b,K);na=Da(b,K);Wd("invalid",b);break;case "option":na=K;break;case "select":b._wrapperState={wasMultiple:!!K.multiple};na=pg({},K,{value:void 0});Wd("invalid",b);break;case "textarea":Wb(b,K);na=Qb(b,K);Wd("invalid",b);break;default:na=K}ma(n,
na);wc=na;for(Ba in wc)if(wc.hasOwnProperty(Ba)){var Oc=wc[Ba];"style"===Ba?ba(b,Oc):"dangerouslySetInnerHTML"===Ba?(Oc=Oc?Oc.__html:void 0,null!=Oc&&og(b,Oc)):"children"===Ba?"string"===typeof Oc?("textarea"!==n||""!==Oc)&&Ga(b,Oc):"number"===typeof Oc&&Ga(b,""+Oc):"suppressContentEditableWarning"!==Ba&&"suppressHydrationWarning"!==Ba&&"autoFocus"!==Ba&&(T.hasOwnProperty(Ba)?null!=Oc&&"onScroll"===Ba&&Wd("scroll",b):null!=Oc&&uc(b,Ba,Oc,tb))}switch(n){case "input":ab(b);Pa(b,K,!1);break;case "textarea":ab(b);
pa(b);break;case "option":null!=K.value&&b.setAttribute("value",""+Lb(K.value));break;case "select":b.multiple=!!K.multiple;Ba=K.value;null!=Ba?sb(b,!!K.multiple,Ba,!1):null!=K.defaultValue&&sb(b,!!K.multiple,K.defaultValue,!0);break;default:"function"===typeof na.onClick&&(b.onclick=Ab)}switch(n){case "button":case "input":case "select":case "textarea":K=!!K.autoFocus;break a;case "img":K=!0;break a;default:K=!1}}K&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}Gg(e);return null;case 6:if(b&&
null!=e.stateNode)sl(b,e,b.memoizedProps,K);else{if("string"!==typeof K&&null===e.stateNode)throw Error(v(166));n=Fe(zj.current);Fe(Di.current);if(Fc(e)){K=e.stateNode;n=e.memoizedProps;K[qi]=e;if(Ba=K.nodeValue!==n)if(b=Mh,null!==b)switch(b.tag){case 3:cb(K.nodeValue,n,0!==(b.mode&1));break;case 5:!0!==b.memoizedProps.suppressHydrationWarning&&cb(K.nodeValue,n,0!==(b.mode&1))}Ba&&(e.flags|=4)}else K=(9===n.nodeType?n:n.ownerDocument).createTextNode(K),K[qi]=e,e.stateNode=K}Gg(e);return null;case 13:gd(Fg);
K=e.memoizedState;if(null===b||null!==b.memoizedState&&null!==b.memoizedState.dehydrated){if(Dg&&null!==Zh&&0!==(e.mode&1)&&0===(e.flags&128))Jd(),Vd(),e.flags|=98560,Ba=!1;else if(Ba=Fc(e),null!==K&&null!==K.dehydrated){if(null===b){if(!Ba)throw Error(v(318));Ba=e.memoizedState;Ba=null!==Ba?Ba.dehydrated:null;if(!Ba)throw Error(v(317));Ba[qi]=e}else Vd(),0===(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gg(e);Ba=!1}else null!==Th&&(Bb(Th),Th=null),Ba=!0;if(!Ba)return e.flags&65536?e:null}if(0!==
(e.flags&128))return e.lanes=n,e;K=null!==K;K!==(null!==b&&null!==b.memoizedState)&&K&&(e.child.flags|=8192,0!==(e.mode&1)&&(null===b||0!==(Fg.current&1)?0===sh&&(sh=3):pf()));null!==e.updateQueue&&(e.flags|=4);Gg(e);return null;case 4:return vf(),rl(b,e),null===b&&Ae(e.stateNode.containerInfo),Gg(e),null;case 10:return O(e.type._context),Gg(e),null;case 17:return eb(e.type)&&oc(),Gg(e),null;case 19:gd(Fg);Ba=e.memoizedState;if(null===Ba)return Gg(e),null;K=0!==(e.flags&128);tb=Ba.rendering;if(null===
tb)if(K)Bh(Ba,!1);else{if(0!==sh||null!==b&&0!==(b.flags&128))for(b=e.child;null!==b;){tb=Cf(b);if(null!==tb){e.flags|=128;Bh(Ba,!1);K=tb.updateQueue;null!==K&&(e.updateQueue=K,e.flags|=4);e.subtreeFlags=0;K=n;for(n=e.child;null!==n;)Ba=n,b=K,Ba.flags&=14680066,tb=Ba.alternate,null===tb?(Ba.childLanes=0,Ba.lanes=b,Ba.child=null,Ba.subtreeFlags=0,Ba.memoizedProps=null,Ba.memoizedState=null,Ba.updateQueue=null,Ba.dependencies=null,Ba.stateNode=null):(Ba.childLanes=tb.childLanes,Ba.lanes=tb.lanes,Ba.child=
tb.child,Ba.subtreeFlags=0,Ba.deletions=null,Ba.memoizedProps=tb.memoizedProps,Ba.memoizedState=tb.memoizedState,Ba.updateQueue=tb.updateQueue,Ba.type=tb.type,b=tb.dependencies,Ba.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext}),n=n.sibling;ee(Fg,Fg.current&1|2);return e.child}b=b.sibling}null!==Ba.tail&&ah()>Vh&&(e.flags|=128,K=!0,Bh(Ba,!1),e.lanes=4194304)}else{if(!K)if(b=Cf(tb),null!==b){if(e.flags|=128,K=!0,n=b.updateQueue,null!==n&&(e.updateQueue=n,e.flags|=4),Bh(Ba,!0),
null===Ba.tail&&"hidden"===Ba.tailMode&&!tb.alternate&&!Dg)return Gg(e),null}else 2*ah()-Ba.renderingStartTime>Vh&&1073741824!==n&&(e.flags|=128,K=!0,Bh(Ba,!1),e.lanes=4194304);Ba.isBackwards?(tb.sibling=e.child,e.child=tb):(n=Ba.last,null!==n?n.sibling=tb:e.child=tb,Ba.last=tb)}if(null!==Ba.tail)return e=Ba.tail,Ba.rendering=e,Ba.tail=e.sibling,Ba.renderingStartTime=ah(),e.sibling=null,n=Fg.current,ee(Fg,K?n&1|2:n&1),e;Gg(e);return null;case 22:case 23:return we(),K=null!==e.memoizedState,null!==
b&&null!==b.memoizedState!==K&&(e.flags|=8192),K&&0!==(e.mode&1)?0!==(ai&1073741824)&&(Gg(e),e.subtreeFlags&6&&(e.flags|=8192)):Gg(e),null;case 24:return null;case 25:return null}throw Error(v(156,e.tag));}function Ch(b,e){Le(e);switch(e.tag){case 1:return eb(e.type)&&oc(),b=e.flags,b&65536?(e.flags=b&-65537|128,e):null;case 3:return vf(),gd(Cg),gd(Lh),If(),b=e.flags,0!==(b&65536)&&0===(b&128)?(e.flags=b&-65537|128,e):null;case 5:return ne(e),null;case 13:gd(Fg);b=e.memoizedState;if(null!==b&&null!==
b.dehydrated){if(null===e.alternate)throw Error(v(340));Vd()}b=e.flags;return b&65536?(e.flags=b&-65537|128,e):null;case 19:return gd(Fg),null;case 4:return vf(),null;case 10:return O(e.type._context),null;case 22:case 23:return we(),null;case 24:return null;default:return null}}function Hh(b,e){var n=b.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(K){nf(b,e,K)}else n.current=null}function Wh(b,e,n){try{n()}catch(K){nf(b,e,K)}}function Xh(b,e){Tk=Ig;b=Bc();if(lc(b)){if("selectionStart"in
b)var n={start:b.selectionStart,end:b.selectionEnd};else a:{n=(n=b.ownerDocument)&&n.defaultView||window;var K=n.getSelection&&n.getSelection();if(K&&0!==K.rangeCount){n=K.anchorNode;var na=K.anchorOffset,Ba=K.focusNode;K=K.focusOffset;try{n.nodeType,Ba.nodeType}catch(te){n=null;break a}var tb=0,wc=-1,Oc=-1,zd=0,fe=0,me=b,ge=null;b:for(;;){for(var De;;){me!==n||0!==na&&3!==me.nodeType||(wc=tb+na);me!==Ba||0!==K&&3!==me.nodeType||(Oc=tb+K);3===me.nodeType&&(tb+=me.nodeValue.length);if(null===(De=me.firstChild))break;
ge=me;me=De}for(;;){if(me===b)break b;ge===n&&++zd===na&&(wc=tb);ge===Ba&&++fe===K&&(Oc=tb);if(null!==(De=me.nextSibling))break;me=ge;ge=me.parentNode}me=De}n=-1===wc||-1===Oc?null:{start:wc,end:Oc}}else n=null}n=n||{start:0,end:0}}else n=null;Uk={focusedElem:b,selectionRange:n};Ig=!1;for(Oe=e;null!==Oe;)if(e=Oe,b=e.child,0!==(e.subtreeFlags&1028)&&null!==b)b.return=e,Oe=b;else for(;null!==Oe;){e=Oe;try{var Re=e.alternate;if(0!==(e.flags&1024))switch(e.tag){case 0:case 11:case 15:break;case 1:if(null!==
Re){var We=Re.memoizedProps,Zg=Re.memoizedState,nd=e.stateNode,Yc=nd.getSnapshotBeforeUpdate(e.elementType===e.type?We:le(e.type,We),Zg);nd.__reactInternalSnapshotBeforeUpdate=Yc}break;case 3:var ud=e.stateNode.containerInfo;1===ud.nodeType?ud.textContent="":9===ud.nodeType&&ud.documentElement&&ud.removeChild(ud.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(v(163));}}catch(te){nf(e,e.return,te)}b=e.sibling;if(null!==b){b.return=e.return;Oe=b;break}Oe=e.return}Re=tl;
tl=!1;return Re}function yg(b,e,n){var K=e.updateQueue;K=null!==K?K.lastEffect:null;if(null!==K){var na=K=K.next;do{if((na.tag&b)===b){var Ba=na.destroy;na.destroy=void 0;void 0!==Ba&&Wh(e,n,Ba)}na=na.next}while(na!==K)}}function zg(b,e){e=e.updateQueue;e=null!==e?e.lastEffect:null;if(null!==e){var n=e=e.next;do{if((n.tag&b)===b){var K=n.create;n.destroy=K()}n=n.next}while(n!==e)}}function Zf(b){var e=b.ref;if(null!==e){var n=b.stateNode;switch(b.tag){case 5:b=n;break;default:b=n}"function"===typeof e?
e(b):e.current=b}}function lh(b){var e=b.alternate;null!==e&&(b.alternate=null,lh(e));b.child=null;b.deletions=null;b.sibling=null;5===b.tag&&(e=b.stateNode,null!==e&&(delete e[qi],delete e[Wi],delete e[Mk],delete e[ul],delete e[Tl]));b.stateNode=null;b.return=null;b.dependencies=null;b.memoizedProps=null;b.memoizedState=null;b.pendingProps=null;b.stateNode=null;b.updateQueue=null}function ug(b){return 5===b.tag||3===b.tag||4===b.tag}function Df(b){a:for(;;){for(;null===b.sibling;){if(null===b.return||
ug(b.return))return null;b=b.return}b.sibling.return=b.return;for(b=b.sibling;5!==b.tag&&6!==b.tag&&18!==b.tag;){if(b.flags&2)continue a;if(null===b.child||4===b.tag)continue a;else b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function mh(b,e,n){var K=b.tag;if(5===K||6===K)b=b.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(b,e):n.insertBefore(b,e):(8===n.nodeType?(e=n.parentNode,e.insertBefore(b,n)):(e=n,e.appendChild(b)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==
e.onclick||(e.onclick=Ab));else if(4!==K&&(b=b.child,null!==b))for(mh(b,e,n),b=b.sibling;null!==b;)mh(b,e,n),b=b.sibling}function Lg(b,e,n){var K=b.tag;if(5===K||6===K)b=b.stateNode,e?n.insertBefore(b,e):n.appendChild(b);else if(4!==K&&(b=b.child,null!==b))for(Lg(b,e,n),b=b.sibling;null!==b;)Lg(b,e,n),b=b.sibling}function Pf(b,e,n){for(n=n.child;null!==n;)S(b,e,n),n=n.sibling}function S(b,e,n){if(ui&&"function"===typeof ui.onCommitFiberUnmount)try{ui.onCommitFiberUnmount(Ij,n)}catch(wc){}switch(n.tag){case 5:Oh||
Hh(n,e);case 6:var K=th,na=si;th=null;Pf(b,e,n);th=K;si=na;null!==th&&(si?(b=th,n=n.stateNode,8===b.nodeType?b.parentNode.removeChild(n):b.removeChild(n)):th.removeChild(n.stateNode));break;case 18:null!==th&&(si?(b=th,n=n.stateNode,8===b.nodeType?$b(b.parentNode,n):1===b.nodeType&&$b(b,n),Zc(b)):$b(th,n.stateNode));break;case 4:K=th;na=si;th=n.stateNode.containerInfo;si=!0;Pf(b,e,n);th=K;si=na;break;case 0:case 11:case 14:case 15:if(!Oh&&(K=n.updateQueue,null!==K&&(K=K.lastEffect,null!==K))){na=
K=K.next;do{var Ba=na,tb=Ba.destroy;Ba=Ba.tag;void 0!==tb&&(0!==(Ba&2)?Wh(n,e,tb):0!==(Ba&4)&&Wh(n,e,tb));na=na.next}while(na!==K)}Pf(b,e,n);break;case 1:if(!Oh&&(Hh(n,e),K=n.stateNode,"function"===typeof K.componentWillUnmount))try{K.props=n.memoizedProps,K.state=n.memoizedState,K.componentWillUnmount()}catch(wc){nf(n,e,wc)}Pf(b,e,n);break;case 21:Pf(b,e,n);break;case 22:n.mode&1?(Oh=(K=Oh)||null!==n.memoizedState,Pf(b,e,n),Oh=K):Pf(b,e,n);break;default:Pf(b,e,n)}}function xa(b){var e=b.updateQueue;
if(null!==e){b.updateQueue=null;var n=b.stateNode;null===n&&(n=b.stateNode=new Ul);e.forEach(function(K){var na=Wg.bind(null,b,K);n.has(K)||(n.add(K),K.then(na,na))})}}function Ta(b,e){var n=e.deletions;if(null!==n)for(var K=0;K<n.length;K++){var na=n[K];try{var Ba=b,tb=e,wc=tb;a:for(;null!==wc;){switch(wc.tag){case 5:th=wc.stateNode;si=!1;break a;case 3:th=wc.stateNode.containerInfo;si=!0;break a;case 4:th=wc.stateNode.containerInfo;si=!0;break a}wc=wc.return}if(null===th)throw Error(v(160));S(Ba,
tb,na);th=null;si=!1;var Oc=na.alternate;null!==Oc&&(Oc.return=null);na.return=null}catch(zd){nf(na,e,zd)}}if(e.subtreeFlags&12854)for(e=e.child;null!==e;)p(e,b),e=e.sibling}function p(b,e){var n=b.alternate,K=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:Ta(e,b);R(b);if(K&4){try{yg(3,b,b.return),zg(3,b)}catch(We){nf(b,b.return,We)}try{yg(5,b,b.return)}catch(We){nf(b,b.return,We)}}break;case 1:Ta(e,b);R(b);K&512&&null!==n&&Hh(n,n.return);break;case 5:Ta(e,b);R(b);K&512&&null!==n&&Hh(n,n.return);
if(b.flags&32){var na=b.stateNode;try{Ga(na,"")}catch(We){nf(b,b.return,We)}}if(K&4&&(na=b.stateNode,null!=na)){var Ba=b.memoizedProps,tb=null!==n?n.memoizedProps:Ba,wc=b.type,Oc=b.updateQueue;b.updateQueue=null;if(null!==Oc)try{"input"===wc&&"radio"===Ba.type&&null!=Ba.name&&lb(na,Ba);q(wc,tb);var zd=q(wc,Ba);for(tb=0;tb<Oc.length;tb+=2){var fe=Oc[tb],me=Oc[tb+1];"style"===fe?ba(na,me):"dangerouslySetInnerHTML"===fe?og(na,me):"children"===fe?Ga(na,me):uc(na,fe,me,zd)}switch(wc){case "input":mb(na,
Ba);break;case "textarea":nb(na,Ba);break;case "select":var ge=na._wrapperState.wasMultiple;na._wrapperState.wasMultiple=!!Ba.multiple;var De=Ba.value;null!=De?sb(na,!!Ba.multiple,De,!1):ge!==!!Ba.multiple&&(null!=Ba.defaultValue?sb(na,!!Ba.multiple,Ba.defaultValue,!0):sb(na,!!Ba.multiple,Ba.multiple?[]:"",!1))}na[Wi]=Ba}catch(We){nf(b,b.return,We)}}break;case 6:Ta(e,b);R(b);if(K&4){if(null===b.stateNode)throw Error(v(162));na=b.stateNode;Ba=b.memoizedProps;try{na.nodeValue=Ba}catch(We){nf(b,b.return,
We)}}break;case 3:Ta(e,b);R(b);if(K&4&&null!==n&&n.memoizedState.isDehydrated)try{Zc(e.containerInfo)}catch(We){nf(b,b.return,We)}break;case 4:Ta(e,b);R(b);break;case 13:Ta(e,b);R(b);na=b.child;na.flags&8192&&(Ba=null!==na.memoizedState,na.stateNode.isHidden=Ba,!Ba||null!==na.alternate&&null!==na.alternate.memoizedState||(Vk=ah()));K&4&&xa(b);break;case 22:fe=null!==n&&null!==n.memoizedState;b.mode&1?(Oh=(zd=Oh)||fe,Ta(e,b),Oh=zd):Ta(e,b);R(b);if(K&8192){zd=null!==b.memoizedState;if((b.stateNode.isHidden=
zd)&&!fe&&0!==(b.mode&1))for(Oe=b,fe=b.child;null!==fe;){for(me=Oe=fe;null!==Oe;){ge=Oe;De=ge.child;switch(ge.tag){case 0:case 11:case 14:case 15:yg(4,ge,ge.return);break;case 1:Hh(ge,ge.return);var Re=ge.stateNode;if("function"===typeof Re.componentWillUnmount){K=ge;n=ge.return;try{e=K,Re.props=e.memoizedProps,Re.state=e.memoizedState,Re.componentWillUnmount()}catch(We){nf(K,n,We)}}break;case 5:Hh(ge,ge.return);break;case 22:if(null!==ge.memoizedState){G(me);continue}}null!==De?(De.return=ge,Oe=
De):G(me)}fe=fe.sibling}fe=null;me=b;a:for(;;){if(5===me.tag){if(null===fe){fe=me;try{na=me.stateNode,zd?(Ba=na.style,"function"===typeof Ba.setProperty?Ba.setProperty("display","none","important"):Ba.display="none"):(wc=me.stateNode,Oc=me.memoizedProps.style,tb=void 0!==Oc&&null!==Oc&&Oc.hasOwnProperty("display")?Oc.display:null,wc.style.display=db("display",tb))}catch(We){nf(b,b.return,We)}}}else if(6===me.tag){if(null===fe)try{me.stateNode.nodeValue=zd?"":me.memoizedProps}catch(We){nf(b,b.return,
We)}}else if((22!==me.tag&&23!==me.tag||null===me.memoizedState||me===b)&&null!==me.child){me.child.return=me;me=me.child;continue}if(me===b)break a;for(;null===me.sibling;){if(null===me.return||me.return===b)break a;fe===me&&(fe=null);me=me.return}fe===me&&(fe=null);me.sibling.return=me.return;me=me.sibling}}break;case 19:Ta(e,b);R(b);K&4&&xa(b);break;case 21:break;default:Ta(e,b),R(b)}}function R(b){var e=b.flags;if(e&2){try{a:{for(var n=b.return;null!==n;){if(ug(n))break a;n=n.return}throw Error(v(160));
}switch(n.tag){case 5:var K=n.stateNode;n.flags&32&&(Ga(K,""),n.flags&=-33);var na=Df(b);Lg(b,na,K);break;case 3:case 4:var Ba=n.stateNode.containerInfo,tb=Df(b);mh(b,tb,Ba);break;default:throw Error(v(161));}}catch(wc){nf(b,b.return,wc)}b.flags&=-3}e&4096&&(b.flags&=-4097)}function ja(b,e,n){Oe=b;wa(b,e,n)}function wa(b,e,n){for(var K=0!==(b.mode&1);null!==Oe;){var na=Oe,Ba=na.child;if(22===na.tag&&K){var tb=null!==na.memoizedState||Wj;if(!tb){var wc=na.alternate,Oc=null!==wc&&null!==wc.memoizedState||
Oh;wc=Wj;var zd=Oh;Wj=tb;if((Oh=Oc)&&!zd)for(Oe=na;null!==Oe;)tb=Oe,Oc=tb.child,22===tb.tag&&null!==tb.memoizedState?ia(na):null!==Oc?(Oc.return=tb,Oe=Oc):ia(na);for(;null!==Ba;)Oe=Ba,wa(Ba,e,n),Ba=Ba.sibling;Oe=na;Wj=wc;Oh=zd}r(b,e,n)}else 0!==(na.subtreeFlags&8772)&&null!==Ba?(Ba.return=na,Oe=Ba):r(b,e,n)}}function r(b){for(;null!==Oe;){var e=Oe;if(0!==(e.flags&8772)){var n=e.alternate;try{if(0!==(e.flags&8772))switch(e.tag){case 0:case 11:case 15:Oh||zg(5,e);break;case 1:var K=e.stateNode;if(e.flags&
4&&!Oh)if(null===n)K.componentDidMount();else{var na=e.elementType===e.type?n.memoizedProps:le(e.type,n.memoizedProps);K.componentDidUpdate(na,n.memoizedState,K.__reactInternalSnapshotBeforeUpdate)}var Ba=e.updateQueue;null!==Ba&&$c(e,Ba,K);break;case 3:var tb=e.updateQueue;if(null!==tb){n=null;if(null!==e.child)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$c(e,tb,n)}break;case 5:var wc=e.stateNode;if(null===n&&e.flags&4){n=wc;var Oc=e.memoizedProps;switch(e.type){case "button":case "input":case "select":case "textarea":Oc.autoFocus&&
n.focus();break;case "img":Oc.src&&(n.src=Oc.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===e.memoizedState){var zd=e.alternate;if(null!==zd){var fe=zd.memoizedState;if(null!==fe){var me=fe.dehydrated;null!==me&&Zc(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(v(163));}Oh||e.flags&512&&Zf(e)}catch(ge){nf(e,e.return,ge)}}if(e===b){Oe=null;break}n=e.sibling;if(null!==n){n.return=e.return;Oe=n;break}Oe=e.return}}function G(b){for(;null!==
Oe;){var e=Oe;if(e===b){Oe=null;break}var n=e.sibling;if(null!==n){n.return=e.return;Oe=n;break}Oe=e.return}}function ia(b){for(;null!==Oe;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zg(4,e)}catch(Oc){nf(e,n,Oc)}break;case 1:var K=e.stateNode;if("function"===typeof K.componentDidMount){var na=e.return;try{K.componentDidMount()}catch(Oc){nf(e,na,Oc)}}var Ba=e.return;try{Zf(e)}catch(Oc){nf(e,Ba,Oc)}break;case 5:var tb=e.return;try{Zf(e)}catch(Oc){nf(e,tb,Oc)}}}catch(Oc){nf(e,
e.return,Oc)}if(e===b){Oe=null;break}var wc=e.sibling;if(null!==wc){wc.return=e.return;Oe=wc;break}Oe=e.return}}function l(){return 0!==($f&6)?ah():-1!==Xj?Xj:Xj=ah()}function z(b){if(0===(b.mode&1))return 1;if(0!==($f&2)&&0!==Ih)return Ih&-Ih;if(null!==Vl.transition)return 0===cj&&(cj=sc()),cj;b=lg;if(0!==b)return b;b=window.event;return b=void 0===b?16:wb(b.type)}function da(b,e,n,K){if(50<dj)throw dj=0,rj=null,Error(v(185));dd(b,n,K);if(0===($f&2)||b!==xh)b===xh&&(0===($f&2)&&(Hg|=n),4===sh&&Ub(b,
Ih)),oa(b,K),1===n&&0===$f&&0===(e.mode&1)&&(Vh=ah()+500,wj&&Od())}function oa(b,e){var n=b.callbackNode;Jb(b,e);var K=Ca(b,b===xh?Ih:0);if(0===K)null!==n&&vl(n),b.callbackNode=null,b.callbackPriority=0;else if(e=K&-K,b.callbackPriority!==e){null!=n&&vl(n);if(1===e)0===b.tag?jd(Ad.bind(null,b)):sd(Ad.bind(null,b)),Wl(function(){0===($f&6)&&Od()}),n=null;else{switch(Pd(K)){case 1:n=hk;break;case 4:n=gl;break;case 16:n=ik;break;case 536870912:n=Gk;break;default:n=ik}n=Uf(n,Va.bind(null,b))}b.callbackPriority=
e;b.callbackNode=n}}function Va(b,e){Xj=-1;cj=0;if(0!==($f&6))throw Error(v(327));var n=b.callbackNode;if(gg()&&b.callbackNode!==n)return null;var K=Ca(b,b===xh?Ih:0);if(0===K)return null;if(0!==(K&30)||0!==(K&b.expiredLanes)||e)e=Tg(b,K);else{e=K;var na=$f;$f|=2;var Ba=Se();if(xh!==b||Ih!==e)Pi=null,Vh=ah()+500,He(b,e);do try{for(;null!==bh&&!Wk();)ff(bh);break}catch(wc){ue(b,wc)}while(1);Rj=Ai=nj=null;xk.current=Ba;$f=na;null!==bh?e=0:(xh=null,Ih=0,e=sh)}if(0!==e){2===e&&(na=yc(b),0!==na&&(K=na,
e=Ya(b,na)));if(1===e)throw n=ki,He(b,0),Ub(b,K),oa(b,ah()),n;if(6===e)Ub(b,K);else{na=b.current.alternate;if(0===(K&30)&&!hc(na)&&(e=Tg(b,K),2===e&&(Ba=yc(b),0!==Ba&&(K=Ba,e=Ya(b,Ba))),1===e))throw n=ki,He(b,0),Ub(b,K),oa(b,ah()),n;b.finishedWork=na;b.finishedLanes=K;switch(e){case 0:case 1:throw Error(v(345));case 2:Ef(b,ch,Pi);break;case 3:Ub(b,K);if((K&130023424)===K&&(e=Vk+500-ah(),10<e)){if(0!==Ca(b,0))break;na=b.suspendedLanes;if((na&K)!==K){l();b.pingedLanes|=b.suspendedLanes&na;break}b.timeoutHandle=
Xk(Ef.bind(null,b,ch,Pi),e);break}Ef(b,ch,Pi);break;case 4:Ub(b,K);if((K&4194240)===K)break;e=b.eventTimes;for(na=-1;0<K;){var tb=31-di(K);Ba=1<<tb;tb=e[tb];tb>na&&(na=tb);K&=~Ba}K=na;K=ah()-K;K=(120>K?120:480>K?480:1080>K?1080:1920>K?1920:3E3>K?3E3:4320>K?4320:1960*Xl(K/1960))-K;if(10<K){b.timeoutHandle=Xk(Ef.bind(null,b,ch,Pi),K);break}Ef(b,ch,Pi);break;case 5:Ef(b,ch,Pi);break;default:throw Error(v(329));}}}oa(b,ah());return b.callbackNode===n?Va.bind(null,b):null}function Ya(b,e){var n=uh;b.current.memoizedState.isDehydrated&&
(He(b,e).flags|=256);b=Tg(b,e);2!==b&&(e=ch,ch=n,null!==e&&Bb(e));return b}function Bb(b){null===ch?ch=b:ch.push.apply(ch,b)}function hc(b){for(var e=b;;){if(e.flags&16384){var n=e.updateQueue;if(null!==n&&(n=n.stores,null!==n))for(var K=0;K<n.length;K++){var na=n[K],Ba=na.getSnapshot;na=na.value;try{if(!oi(Ba(),na))return!1}catch(tb){return!1}}}n=e.child;if(e.subtreeFlags&16384&&null!==n)n.return=e,e=n;else{if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return!0;e=e.return}e.sibling.return=
e.return;e=e.sibling}}return!0}function Ub(b,e){e&=~hg;e&=~Hg;b.suspendedLanes|=e;b.pingedLanes&=~e;for(b=b.expirationTimes;0<e;){var n=31-di(e),K=1<<n;b[n]=-1;e&=~K}}function Ad(b){if(0!==($f&6))throw Error(v(327));gg();var e=Ca(b,0);if(0===(e&1))return oa(b,ah()),null;var n=Tg(b,e);if(0!==b.tag&&2===n){var K=yc(b);0!==K&&(e=K,n=Ya(b,K))}if(1===n)throw n=ki,He(b,0),Ub(b,e),oa(b,ah()),n;if(6===n)throw Error(v(345));b.finishedWork=b.current.alternate;b.finishedLanes=e;Ef(b,ch,Pi);oa(b,ah());return null}
function Rc(b,e){var n=$f;$f|=1;try{return b(e)}finally{$f=n,0===$f&&(Vh=ah()+500,wj&&Od())}}function Rd(b){null!==Qi&&0===Qi.tag&&0===($f&6)&&gg();var e=$f;$f|=1;var n=li.transition,K=lg;try{if(li.transition=null,lg=1,b)return b()}finally{lg=K,li.transition=n,$f=e,0===($f&6)&&Od()}}function we(){ai=Cj.current;gd(Cj)}function He(b,e){b.finishedWork=null;b.finishedLanes=0;var n=b.timeoutHandle;-1!==n&&(b.timeoutHandle=-1,Yl(n));if(null!==bh)for(n=bh.return;null!==n;){var K=n;Le(K);switch(K.tag){case 1:K=
K.type.childContextTypes;null!==K&&void 0!==K&&oc();break;case 3:vf();gd(Cg);gd(Lh);If();break;case 5:ne(K);break;case 4:vf();break;case 13:gd(Fg);break;case 19:gd(Fg);break;case 10:O(K.type._context);break;case 22:case 23:we()}n=n.return}xh=b;bh=b=$h(b.current,null);Ih=ai=e;sh=0;ki=null;hg=Hg=oj=0;ch=uh=null;if(null!==Mi){for(e=0;e<Mi.length;e++)if(n=Mi[e],K=n.interleaved,null!==K){n.interleaved=null;var na=K.next,Ba=n.pending;if(null!==Ba){var tb=Ba.next;Ba.next=na;K.next=tb}n.pending=K}Mi=null}return b}
function ue(b,e){do{var n=bh;try{Rj=Ai=nj=null;Sj.current=Vj;if(qj){for(var K=qg.memoizedState;null!==K;){var na=K.queue;null!==na&&(na.pending=null);K=K.next}qj=!1}pj=0;nh=ih=qg=null;Tj=!1;Uj=0;Yk.current=null;if(null===n||null===n.return){sh=1;ki=e;bh=null;break}a:{var Ba=b,tb=n.return,wc=n,Oc=e;e=Ih;wc.flags|=32768;if(null!==Oc&&"object"===typeof Oc&&"function"===typeof Oc.then){var zd=Oc,fe=wc,me=fe.tag;if(0===(fe.mode&1)&&(0===me||11===me||15===me)){var ge=fe.alternate;ge?(fe.updateQueue=ge.updateQueue,
fe.memoizedState=ge.memoizedState,fe.lanes=ge.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var De=wg(tb);if(null!==De){De.flags&=-257;fg(De,tb,wc,Ba,e);De.mode&1&&tg(Ba,zd,e);e=De;Oc=zd;var Re=e.updateQueue;if(null===Re){var We=new Set;We.add(Oc);e.updateQueue=We}else Re.add(Oc);break a}else{if(0===(e&1)){tg(Ba,zd,e);pf();break a}Oc=Error(v(426))}}else if(Dg&&wc.mode&1){var Zg=wg(tb);if(null!==Zg){0===(Zg.flags&65536)&&(Zg.flags|=256);fg(Zg,tb,wc,Ba,e);ce(Ge(Oc,wc));break a}}Ba=Oc=Ge(Oc,wc);
4!==sh&&(sh=2);null===uh?uh=[Ba]:uh.push(Ba);Ba=tb;do{switch(Ba.tag){case 3:Ba.flags|=65536;e&=-e;Ba.lanes|=e;var nd=of(Ba,Oc,e);Bd(Ba,nd);break a;case 1:wc=Oc;var Yc=Ba.type,ud=Ba.stateNode;if(0===(Ba.flags&128)&&("function"===typeof Yc.getDerivedStateFromError||null!==ud&&"function"===typeof ud.componentDidCatch&&(null===Ni||!Ni.has(ud)))){Ba.flags|=65536;e&=-e;Ba.lanes|=e;var te=Af(Ba,wc,e);Bd(Ba,te);break a}}Ba=Ba.return}while(null!==Ba)}$e(n)}catch(Ye){e=Ye;bh===n&&null!==n&&(bh=n.return);continue}break}while(1)}
function Se(){var b=xk.current;xk.current=Vj;return null===b?Vj:b}function pf(){if(0===sh||3===sh||2===sh)sh=4;null===xh||0===(oj&268435455)&&0===(Hg&268435455)||Ub(xh,Ih)}function Tg(b,e){var n=$f;$f|=2;var K=Se();if(xh!==b||Ih!==e)Pi=null,He(b,e);do try{for(;null!==bh;)ff(bh);break}catch(na){ue(b,na)}while(1);Rj=Ai=nj=null;$f=n;xk.current=K;if(null!==bh)throw Error(v(261));xh=null;Ih=0;return sh}function ff(b){var e=Zk(b.alternate,b,ai);b.memoizedProps=b.pendingProps;null===e?$e(b):bh=e;Yk.current=
null}function $e(b){var e=b;do{var n=e.alternate;b=e.return;if(0===(e.flags&32768)){if(n=Gh(n,e,ai),null!==n){bh=n;return}}else{n=Ch(n,e);if(null!==n){n.flags&=32767;bh=n;return}if(null!==b)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{sh=6;bh=null;return}}e=e.sibling;if(null!==e){bh=e;return}bh=e=b}while(null!==e);0===sh&&(sh=5)}function Ef(b,e,n){var K=lg,na=li.transition;try{li.transition=null,lg=1,Dh(b,e,n,K)}finally{li.transition=na,lg=K}return null}function Dh(b,e,n,K){do gg();while(null!==
Qi);if(0!==($f&6))throw Error(v(327));n=b.finishedWork;var na=b.finishedLanes;if(null===n)return null;b.finishedWork=null;b.finishedLanes=0;if(n===b.current)throw Error(v(177));b.callbackNode=null;b.callbackPriority=0;var Ba=n.lanes|n.childLanes;Zb(b,Ba);b===xh&&(bh=xh=null,Ih=0);0===(n.subtreeFlags&2064)&&0===(n.flags&2064)||Yj||(Yj=!0,Uf(ik,function(){gg();return null}));Ba=0!==(n.flags&15990);if(0!==(n.subtreeFlags&15990)||Ba){Ba=li.transition;li.transition=null;var tb=lg;lg=1;var wc=$f;$f|=4;
Yk.current=null;Xh(b,n);p(n,b);Gc(Uk);Ig=!!Tk;Uk=Tk=null;b.current=n;ja(n,b,na);yk();$f=wc;lg=tb;li.transition=Ba}else b.current=n;Yj&&(Yj=!1,Qi=b,Zj=na);Ba=b.pendingLanes;0===Ba&&(Ni=null);Wa(n.stateNode,K);oa(b,ah());if(null!==e)for(K=b.onRecoverableError,n=0;n<e.length;n++)na=e[n],K(na.value,{componentStack:na.stack,digest:na.digest});if(vk)throw vk=!1,b=Rk,Rk=null,b;0!==(Zj&1)&&0!==b.tag&&gg();Ba=b.pendingLanes;0!==(Ba&1)?b===rj?dj++:(dj=0,rj=b):dj=0;Od();return null}function gg(){if(null!==Qi){var b=
Pd(Zj),e=li.transition,n=lg;try{li.transition=null;lg=16>b?16:b;if(null===Qi)var K=!1;else{b=Qi;Qi=null;Zj=0;if(0!==($f&6))throw Error(v(331));var na=$f;$f|=4;for(Oe=b.current;null!==Oe;){var Ba=Oe,tb=Ba.child;if(0!==(Oe.flags&16)){var wc=Ba.deletions;if(null!==wc){for(var Oc=0;Oc<wc.length;Oc++){var zd=wc[Oc];for(Oe=zd;null!==Oe;){var fe=Oe;switch(fe.tag){case 0:case 11:case 15:yg(8,fe,Ba)}var me=fe.child;if(null!==me)me.return=fe,Oe=me;else for(;null!==Oe;){fe=Oe;var ge=fe.sibling,De=fe.return;
lh(fe);if(fe===zd){Oe=null;break}if(null!==ge){ge.return=De;Oe=ge;break}Oe=De}}}var Re=Ba.alternate;if(null!==Re){var We=Re.child;if(null!==We){Re.child=null;do{var Zg=We.sibling;We.sibling=null;We=Zg}while(null!==We)}}Oe=Ba}}if(0!==(Ba.subtreeFlags&2064)&&null!==tb)tb.return=Ba,Oe=tb;else a:for(;null!==Oe;){Ba=Oe;if(0!==(Ba.flags&2048))switch(Ba.tag){case 0:case 11:case 15:yg(9,Ba,Ba.return)}var nd=Ba.sibling;if(null!==nd){nd.return=Ba.return;Oe=nd;break a}Oe=Ba.return}}var Yc=b.current;for(Oe=Yc;null!==
Oe;){tb=Oe;var ud=tb.child;if(0!==(tb.subtreeFlags&2064)&&null!==ud)ud.return=tb,Oe=ud;else a:for(tb=Yc;null!==Oe;){wc=Oe;if(0!==(wc.flags&2048))try{switch(wc.tag){case 0:case 11:case 15:zg(9,wc)}}catch(Ye){nf(wc,wc.return,Ye)}if(wc===tb){Oe=null;break a}var te=wc.sibling;if(null!==te){te.return=wc.return;Oe=te;break a}Oe=wc.return}}$f=na;Od();if(ui&&"function"===typeof ui.onPostCommitFiberRoot)try{ui.onPostCommitFiberRoot(Ij,b)}catch(Ye){}K=!0}return K}finally{lg=n,li.transition=e}}return!1}function Qf(b,
e,n){e=Ge(n,e);e=of(b,e,1);b=rc(b,e,1);e=l();null!==b&&(dd(b,1,e),oa(b,e))}function nf(b,e,n){if(3===b.tag)Qf(b,b,n);else for(;null!==e;){if(3===e.tag){Qf(e,b,n);break}else if(1===e.tag){var K=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof K.componentDidCatch&&(null===Ni||!Ni.has(K))){b=Ge(n,b);b=Af(e,b,1);e=rc(e,b,1);b=l();null!==e&&(dd(e,1,b),oa(e,b));break}}e=e.return}}function Tf(b,e,n){var K=b.pingCache;null!==K&&K.delete(e);e=l();b.pingedLanes|=b.suspendedLanes&
n;xh===b&&(Ih&n)===n&&(4===sh||3===sh&&(Ih&130023424)===Ih&&500>ah()-Vk?He(b,0):hg|=n);oa(b,e)}function Rf(b,e){0===e&&(0===(b.mode&1)?e=1:(e=zk,zk<<=1,0===(zk&130023424)&&(zk=4194304)));var n=l();b=jb(b,e);null!==b&&(dd(b,e,n),oa(b,n))}function Of(b){var e=b.memoizedState,n=0;null!==e&&(n=e.retryLane);Rf(b,n)}function Wg(b,e){var n=0;switch(b.tag){case 13:var K=b.stateNode,na=b.memoizedState;null!==na&&(n=na.retryLane);break;case 19:K=b.stateNode;break;default:throw Error(v(314));}null!==K&&K.delete(e);
Rf(b,n)}function Uf(b,e){return rk(b,e)}function vh(b,e,n,K){this.tag=b;this.key=n;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=e;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=K;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function mg(b,e,n,K){return new vh(b,e,n,K)}function hh(b){b=b.prototype;return!(!b||!b.isReactComponent)}
function Ag(b){if("function"===typeof b)return hh(b)?1:0;if(void 0!==b&&null!==b){b=b.$$typeof;if(b===Ff)return 11;if(b===Jh)return 14}return 2}function $h(b,e){var n=b.alternate;null===n?(n=mg(b.tag,e,b.key,b.mode),n.elementType=b.elementType,n.type=b.type,n.stateNode=b.stateNode,n.alternate=b,b.alternate=n):(n.pendingProps=e,n.type=b.type,n.flags=0,n.subtreeFlags=0,n.deletions=null);n.flags=b.flags&14680064;n.childLanes=b.childLanes;n.lanes=b.lanes;n.child=b.child;n.memoizedProps=b.memoizedProps;
n.memoizedState=b.memoizedState;n.updateQueue=b.updateQueue;e=b.dependencies;n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext};n.sibling=b.sibling;n.index=b.index;n.ref=b.ref;return n}function Ci(b,e,n,K,na,Ba){var tb=2;K=b;if("function"===typeof b)hh(b)&&(tb=1);else if("string"===typeof b)tb=5;else a:switch(b){case qd:return ji(n.children,na,Ba,e);case xd:tb=8;na|=8;break;case ye:return b=mg(12,n,e,na|2),b.elementType=ye,b.lanes=Ba,b;case Xf:return b=mg(13,n,e,na),b.elementType=
Xf,b.lanes=Ba,b;case jg:return b=mg(19,n,e,na),b.elementType=jg,b.lanes=Ba,b;case tf:return ri(n,na,Ba,e);default:if("object"===typeof b&&null!==b)switch(b.$$typeof){case re:tb=10;break a;case Te:tb=9;break a;case Ff:tb=11;break a;case Jh:tb=14;break a;case kg:tb=16;K=null;break a}throw Error(v(130,null==b?b:typeof b,""));}e=mg(tb,n,e,na);e.elementType=b;e.type=K;e.lanes=Ba;return e}function ji(b,e,n,K){b=mg(7,b,K,e);b.lanes=n;return b}function ri(b,e,n,K){b=mg(22,b,K,e);b.elementType=tf;b.lanes=
n;b.stateNode={isHidden:!1};return b}function Zi(b,e,n){b=mg(6,b,null,e);b.lanes=n;return b}function vg(b,e,n){e=mg(4,null!==b.children?b.children:[],b.key,e);e.lanes=n;e.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation};return e}function Fi(b,e,n,K,na){this.tag=e;this.containerInfo=b;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=
0;this.eventTimes=xc(0);this.expirationTimes=xc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=xc(0);this.identifierPrefix=K;this.onRecoverableError=na;this.mutableSourceEagerHydrationData=null}function ej(b,e,n,K,na,Ba,tb,wc,Oc){b=new Fi(b,e,n,wc,Oc);1===e?(e=1,!0===Ba&&(e|=8)):e=0;Ba=mg(3,null,null,e);b.current=Ba;Ba.stateNode=b;Ba.memoizedState={element:K,isDehydrated:n,cache:null,transitions:null,
pendingSuspenseBoundaries:null};vb(Ba);return b}function Gi(b,e,n){var K=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:mc,key:null==K?null:""+K,children:b,containerInfo:e,implementation:n}}function fj(b){if(!b)return Yi;b=b._reactInternals;a:{if(Aa(b)!==b||1!==b.tag)throw Error(v(170));var e=b;do{switch(e.tag){case 3:e=e.stateNode.context;break a;case 1:if(eb(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break a}}e=e.return}while(null!==e);throw Error(v(171));
}if(1===b.tag){var n=b.type;if(eb(n))return Lc(b,n,e)}return e}function y(b,e,n,K,na,Ba,tb,wc,Oc){b=ej(n,K,!0,b,na,Ba,tb,wc,Oc);b.context=fj(null);n=b.current;K=l();na=z(n);Ba=qc(K,na);Ba.callback=void 0!==e&&null!==e?e:null;rc(n,Ba,na);b.current.lanes=na;dd(b,na,K);oa(b,K);return b}function W(b,e,n,K){var na=e.current,Ba=l(),tb=z(na);n=fj(n);null===e.context?e.context=n:e.pendingContext=n;e=qc(Ba,tb);e.payload={element:b};K=void 0===K?null:K;null!==K&&(e.callback=K);b=rc(na,e,tb);null!==b&&(da(b,
na,tb,Ba),Kc(b,na,tb));return tb}function ha(b){b=b.current;if(!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function Oa(b,e){b=b.memoizedState;if(null!==b&&null!==b.dehydrated){var n=b.retryLane;b.retryLane=0!==n&&n<e?n:e}}function yb(b,e){Oa(b,e);(b=b.alternate)&&Oa(b,e)}function Eb(){return null}function Sb(b){this._internalRoot=b}function kc(b){this._internalRoot=b}function Uc(b){return!(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType)}
function Id(b){return!(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType&&(8!==b.nodeType||" react-mount-point-unstable "!==b.nodeValue))}function Sd(){}function ad(b,e,n,K,na){if(na){if("function"===typeof K){var Ba=K;K=function(){var zd=ha(tb);Ba.call(zd)}}var tb=y(e,K,b,0,null,!1,!1,"",Sd);b._reactRootContainer=tb;b[wi]=tb.current;Ae(8===b.nodeType?b.parentNode:b);Rd();return tb}for(;na=b.lastChild;)b.removeChild(na);if("function"===typeof K){var wc=K;K=function(){var zd=ha(Oc);wc.call(zd)}}var Oc=
ej(b,0,!1,null,null,!1,!1,"",Sd);b._reactRootContainer=Oc;b[wi]=Oc.current;Ae(8===b.nodeType?b.parentNode:b);Rd(function(){W(e,Oc,n,K)});return Oc}function ke(b,e,n,K,na){var Ba=n._reactRootContainer;if(Ba){var tb=Ba;if("function"===typeof na){var wc=na;na=function(){var Oc=ha(tb);wc.call(Oc)}}W(e,tb,b,na)}else tb=ad(n,e,b,na,K);return ha(tb)}var Je=Fb(2),Ue=Fb(5),w=new Set,T={},aa=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),
Ea=Object.prototype.hasOwnProperty,rb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zb={},Mb={},Nb={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){Nb[b]=
new vc(b,0,!1,b,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var e=b[0];Nb[e]=new vc(e,1,!1,b[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(b){Nb[b]=new vc(b,2,!1,b.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){Nb[b]=new vc(b,2,!1,b,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){Nb[b]=
new vc(b,3,!1,b.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(b){Nb[b]=new vc(b,3,!0,b,null,!1,!1)});["capture","download"].forEach(function(b){Nb[b]=new vc(b,4,!1,b,null,!1,!1)});["cols","rows","size","span"].forEach(function(b){Nb[b]=new vc(b,6,!1,b,null,!1,!1)});["rowSpan","start"].forEach(function(b){Nb[b]=new vc(b,5,!1,b.toLowerCase(),null,!1,!1)});var Mc=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var e=
b.replace(Mc,Ac);Nb[e]=new vc(e,1,!1,b,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var e=b.replace(Mc,Ac);Nb[e]=new vc(e,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(b){var e=b.replace(Mc,Ac);Nb[e]=new vc(e,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(b){Nb[b]=new vc(b,1,!1,b.toLowerCase(),null,!1,!1)});Nb.xlinkHref=
new vc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(b){Nb[b]=new vc(b,1,!1,b.toLowerCase(),null,!0,!0)});var Ed=Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bd=Symbol.for("react.element"),mc=Symbol.for("react.portal"),qd=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),Te=Symbol.for("react.context"),Ff=Symbol.for("react.forward_ref"),
Xf=Symbol.for("react.suspense"),jg=Symbol.for("react.suspense_list"),Jh=Symbol.for("react.memo"),kg=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var tf=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Ng=Symbol.iterator,pg=Object.assign,Ke,oe=!1,Ne=Array.isArray,pe,og=function(b){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,K,na){MSApp.execUnsafeLocalFunction(function(){return b(e,
n,K,na)})}:b}(function(b,e){if("http://www.w3.org/2000/svg"!==b.namespaceURI||"innerHTML"in b)b.innerHTML=e;else{pe=pe||document.createElement("div");pe.innerHTML="\x3csvg\x3e"+e.valueOf().toString()+"\x3c/svg\x3e";for(e=pe.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;e.firstChild;)b.appendChild(e.firstChild)}}),Pg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mg=["Webkit","ms","Moz","O"];Object.keys(Pg).forEach(function(b){Mg.forEach(function(e){e=
e+b.charAt(0).toUpperCase()+b.substring(1);Pg[e]=Pg[b]})});var Yg=pg({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Ph=null,Yh=null,Kh=null,ij=null,fk=!1,kk=!1;if(aa)try{var ak={};Object.defineProperty(ak,"passive",{get:function(){kk=!0}});window.addEventListener("test",ak,ak);window.removeEventListener("test",ak,ak)}catch(b){kk=!1}var jj=!1,ni=null,sj=!1,Fk=null,bl={onError:function(b){jj=!0;ni=b}},rk=Ue.unstable_scheduleCallback,
vl=Ue.unstable_cancelCallback,Wk=Ue.unstable_shouldYield,yk=Ue.unstable_requestPaint,ah=Ue.unstable_now,fl=Ue.unstable_getCurrentPriorityLevel,hk=Ue.unstable_ImmediatePriority,gl=Ue.unstable_UserBlockingPriority,ik=Ue.unstable_NormalPriority,Il=Ue.unstable_LowPriority,Gk=Ue.unstable_IdlePriority,Ij=null,ui=null,di=Math.clz32?Math.clz32:$a,El=Math.log,Fl=Math.LN2,Jj=64,zk=4194304,lg=0,gk=!1,Mj=[],Ji=null,Ri=null,Si=null,Kj=new Map,Lj=new Map,Ti=[],Gl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
kj=Ed.ReactCurrentBatchConfig,Ig=!0,Rh=null,vi=null,Ui=null,Nj=null,Dj={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kk=Za(Dj),Ej=pg({},Dj,{view:0,detail:0}),ll=Za(Ej),bk,Fj,ck,Gj=pg({},Ej,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gb,button:0,buttons:0,relatedTarget:function(b){return void 0===b.relatedTarget?b.fromElement===b.srcElement?b.toElement:
b.fromElement:b.relatedTarget},movementX:function(b){if("movementX"in b)return b.movementX;b!==ck&&(ck&&"mousemove"===b.type?(bk=b.screenX-ck.screenX,Fj=b.screenY-ck.screenY):Fj=bk=0,ck=b);return bk},movementY:function(b){return"movementY"in b?b.movementY:Fj}}),Ok=Za(Gj),Zl=pg({},Gj,{dataTransfer:0}),lk=Za(Zl),$l=pg({},Ej,{relatedTarget:0}),Nk=Za($l),am=pg({},Dj,{animationName:0,elapsedTime:0,pseudoElement:0}),Kl=Za(am),bm=pg({},Dj,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:
window.clipboardData}}),Ml=Za(bm),cm=pg({},Dj,{data:0}),nl=Za(cm),dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},em={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},fm=pg({},Ej,{key:function(b){if(b.key){var e=dm[b.key]||b.key;if("Unidentified"!==e)return e}return"keypress"===b.type?(b=F(b),13===b?"Enter":String.fromCharCode(b)):"keydown"===b.type||"keyup"===b.type?em[b.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gb,charCode:function(b){return"keypress"===b.type?F(b):0},keyCode:function(b){return"keydown"===b.type||"keyup"===b.type?b.keyCode:0},which:function(b){return"keypress"===b.type?F(b):"keydown"===b.type||"keyup"===b.type?b.keyCode:0}}),Jl=Za(fm),gm=pg({},Gj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Za(gm),$k=pg({},Ej,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gb}),Pk=Za($k),hm=pg({},Dj,{propertyName:0,elapsedTime:0,pseudoElement:0}),kl=Za(hm),im=pg({},Gj,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),Ll=Za(im),Ik=[9,13,27,32],ei=aa&&"CompositionEvent"in window,sf=null;aa&&"documentMode"in document&&(sf=document.documentMode);
var Bg=aa&&"TextEvent"in window&&!sf,ie=aa&&(!ei||sf&&8<sf&&11>=sf),wh=String.fromCharCode(32),Ki=!1,lj=!1,Jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Vi=null,Oj=null,ok=!1;if(aa){if(aa){var Ak="oninput"in document;if(!Ak){var ci=document.createElement("div");ci.setAttribute("oninput","return;");Ak="function"===typeof ci.oninput}var dk=Ak}else dk=!1;ok=dk&&(!document.documentMode||9<document.documentMode)}var oi=
"function"===typeof Object.is?Object.is:la,pk=aa&&"documentMode"in document&&11>=document.documentMode,tj=null,uj=null,Pj=null,Lk=!1,vj={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},Eh={},jk={};aa&&(jk=document.createElement("div").style,"AnimationEvent"in window||(delete vj.animationend.animation,delete vj.animationiteration.animation,delete vj.animationstart.animation),
"TransitionEvent"in window||delete vj.transitionend.transition);for(var jl=rd("animationend"),mk=rd("animationiteration"),pi=rd("animationstart"),nk=rd("transitionend"),hl=new Map,gj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
ti=0;ti<gj.length;ti++){var Bk=gj[ti],jm=Bk.toLowerCase(),Hi=Bk[0].toUpperCase()+Bk.slice(1);Hd(jm,"on"+Hi)}Hd(jl,"onAnimationEnd");Hd(mk,"onAnimationIteration");Hd(pi,"onAnimationStart");Hd("dblclick","onDoubleClick");Hd("focusin","onFocus");Hd("focusout","onBlur");Hd(nk,"onTransitionEnd");P("onMouseEnter",["mouseout","mouseover"]);P("onMouseLeave",["mouseout","mouseover"]);P("onPointerEnter",["pointerout","pointerover"]);P("onPointerLeave",["pointerout","pointerover"]);k("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
k("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));k("onBeforeInput",["compositionend","keypress","textInput","paste"]);k("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));k("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));k("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bj="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
il=new Set("cancel close invalid load scroll toggle".split(" ").concat(bj)),Qj="_reactListening"+Math.random().toString(36).slice(2),Nl=/\r\n?/g,Ol=/\u0000|\uFFFD/g,Tk=null,Uk=null,Xk="function"===typeof setTimeout?setTimeout:void 0,Yl="function"===typeof clearTimeout?clearTimeout:void 0,wl="function"===typeof Promise?Promise:void 0,Wl="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof wl?function(b){return wl.resolve(null).then(b).catch(Cc)}:Xk,hj=Math.random().toString(36).slice(2),
qi="__reactFiber$"+hj,Wi="__reactProps$"+hj,wi="__reactContainer$"+hj,Mk="__reactEvents$"+hj,ul="__reactListeners$"+hj,Tl="__reactHandles$"+hj,qk=[],Xi=-1,Yi={},Lh=Tc(Yi),Cg=Tc(!1),Li=Yi,xi=null,wj=!1,Sh=!1,fi=[],xj=0,sk=null,yi=0,gi=[],hi=0,dh=null,zi=1,ii="",Mh=null,Zh=null,Dg=!1,Th=null,Vl=Ed.ReactCurrentBatchConfig,mj=Tc(null),nj=null,Ai=null,Rj=null,Mi=null,Bi=!1,Qk=(new Je.Component).refs,tk={isMounted:function(b){return(b=b._reactInternals)?Aa(b)===b:!1},enqueueSetState:function(b,e,n){b=b._reactInternals;
var K=l(),na=z(b),Ba=qc(K,na);Ba.payload=e;void 0!==n&&null!==n&&(Ba.callback=n);e=rc(b,Ba,na);null!==e&&(da(e,b,na,K),Kc(e,b,na))},enqueueReplaceState:function(b,e,n){b=b._reactInternals;var K=l(),na=z(b),Ba=qc(K,na);Ba.tag=1;Ba.payload=e;void 0!==n&&null!==n&&(Ba.callback=n);e=rc(b,Ba,na);null!==e&&(da(e,b,na,K),Kc(e,b,na))},enqueueForceUpdate:function(b,e){b=b._reactInternals;var n=l(),K=z(b),na=qc(n,K);na.tag=2;void 0!==e&&null!==e&&(na.callback=e);e=rc(b,na,K);null!==e&&(da(e,b,K,n),Kc(e,b,K))}},
Bj=he(!0),Sk=he(!1),yj={},Di=Tc(yj),Aj=Tc(yj),zj=Tc(yj),Fg=Tc(0),aj=[],Sj=Ed.ReactCurrentDispatcher,uk=Ed.ReactCurrentBatchConfig,pj=0,qg=null,ih=null,nh=null,qj=!1,Tj=!1,Uj=0,km=0,Vj={readContext:ka,useCallback:jf,useContext:jf,useEffect:jf,useImperativeHandle:jf,useInsertionEffect:jf,useLayoutEffect:jf,useMemo:jf,useReducer:jf,useRef:jf,useState:jf,useDebugValue:jf,useDeferredValue:jf,useTransition:jf,useMutableSource:jf,useSyncExternalStore:jf,useId:jf,unstable_isNewReconciler:!1},Pl={readContext:ka,
useCallback:function(b,e){mf().memoizedState=[b,void 0===e?null:e];return b},useContext:ka,useEffect:Rb,useImperativeHandle:function(b,e,n){n=null!==n&&void 0!==n?n.concat([b]):null;return qa(4194308,4,Pe.bind(null,e,b),n)},useLayoutEffect:function(b,e){return qa(4194308,4,b,e)},useInsertionEffect:function(b,e){return qa(4,2,b,e)},useMemo:function(b,e){var n=mf();e=void 0===e?null:e;b=b();n.memoizedState=[b,e];return b},useReducer:function(b,e,n){var K=mf();e=void 0!==n?n(e):e;K.memoizedState=K.baseState=
e;b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:e};K.queue=b;b=b.dispatch=sg.bind(null,qg,b);return[K.memoizedState,b]},useRef:function(b){var e=mf();b={current:b};return e.memoizedState=b},useState:Jg,useDebugValue:Gf,useDeferredValue:function(b){return mf().memoizedState=b},useTransition:function(){var b=Jg(!1),e=b[0];b=Yf.bind(null,b[1]);mf().memoizedState=b;return[e,b]},useMutableSource:function(){},useSyncExternalStore:function(b,e,n){var K=qg,
na=mf();if(Dg){if(void 0===n)throw Error(v(407));n=n()}else{n=e();if(null===xh)throw Error(v(349));0!==(pj&30)||eg(K,e,n)}na.memoizedState=n;var Ba={value:n,getSnapshot:e};na.queue=Ba;Rb(Kf.bind(null,K,Ba,b),[b]);K.flags|=2048;Og(9,wf.bind(null,K,Ba,n,e),void 0,null);return n},useId:function(){var b=mf(),e=xh.identifierPrefix;if(Dg){var n=ii,K=zi;n=(K&~(1<<32-di(K)-1)).toString(32)+n;e=":"+e+"R"+n;n=Uj++;0<n&&(e+="H"+n.toString(32));e+=":"}else n=km++,e=":"+e+"r"+n.toString(32)+":";return b.memoizedState=
e},unstable_isNewReconciler:!1},pl={readContext:ka,useCallback:Me,useContext:ka,useEffect:hd,useImperativeHandle:rf,useInsertionEffect:ld,useLayoutEffect:qe,useMemo:cg,useReducer:Jf,useRef:Ug,useState:function(){return Jf(Hf)},useDebugValue:Gf,useDeferredValue:function(b){var e=af();return Sf(e,ih.memoizedState,b)},useTransition:function(){var b=Jf(Hf)[0],e=af().memoizedState;return[b,e]},useMutableSource:zf,useSyncExternalStore:Eg,useId:rg,unstable_isNewReconciler:!1},ql={readContext:ka,useCallback:Me,
useContext:ka,useEffect:hd,useImperativeHandle:rf,useInsertionEffect:ld,useLayoutEffect:qe,useMemo:cg,useReducer:yf,useRef:Ug,useState:function(){return yf(Hf)},useDebugValue:Gf,useDeferredValue:function(b){var e=af();return null===ih?e.memoizedState=b:Sf(e,ih.memoizedState,b)},useTransition:function(){var b=yf(Hf)[0],e=af().memoizedState;return[b,e]},useMutableSource:zf,useSyncExternalStore:Eg,useId:rg,unstable_isNewReconciler:!1},Ql="function"===typeof WeakMap?WeakMap:Map,Rl=Ed.ReactCurrentOwner,
Qh=!1,wk={dehydrated:null,treeContext:null,retryLane:0};var Sl=function(b,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)b.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n;n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return;n=n.sibling}};var rl=function(){};var Oi=function(b,e,n,K){var na=b.memoizedProps;if(na!==K){b=e.stateNode;Fe(Di.current);var Ba=null;switch(n){case "input":na=
Da(b,na);K=Da(b,K);Ba=[];break;case "select":na=pg({},na,{value:void 0});K=pg({},K,{value:void 0});Ba=[];break;case "textarea":na=Qb(b,na);K=Qb(b,K);Ba=[];break;default:"function"!==typeof na.onClick&&"function"===typeof K.onClick&&(b.onclick=Ab)}ma(n,K);var tb;n=null;for(zd in na)if(!K.hasOwnProperty(zd)&&na.hasOwnProperty(zd)&&null!=na[zd])if("style"===zd){var wc=na[zd];for(tb in wc)wc.hasOwnProperty(tb)&&(n||(n={}),n[tb]="")}else"dangerouslySetInnerHTML"!==zd&&"children"!==zd&&"suppressContentEditableWarning"!==
zd&&"suppressHydrationWarning"!==zd&&"autoFocus"!==zd&&(T.hasOwnProperty(zd)?Ba||(Ba=[]):(Ba=Ba||[]).push(zd,null));for(zd in K){var Oc=K[zd];wc=null!=na?na[zd]:void 0;if(K.hasOwnProperty(zd)&&Oc!==wc&&(null!=Oc||null!=wc))if("style"===zd)if(wc){for(tb in wc)!wc.hasOwnProperty(tb)||Oc&&Oc.hasOwnProperty(tb)||(n||(n={}),n[tb]="");for(tb in Oc)Oc.hasOwnProperty(tb)&&wc[tb]!==Oc[tb]&&(n||(n={}),n[tb]=Oc[tb])}else n||(Ba||(Ba=[]),Ba.push(zd,n)),n=Oc;else"dangerouslySetInnerHTML"===zd?(Oc=Oc?Oc.__html:
void 0,wc=wc?wc.__html:void 0,null!=Oc&&wc!==Oc&&(Ba=Ba||[]).push(zd,Oc)):"children"===zd?"string"!==typeof Oc&&"number"!==typeof Oc||(Ba=Ba||[]).push(zd,""+Oc):"suppressContentEditableWarning"!==zd&&"suppressHydrationWarning"!==zd&&(T.hasOwnProperty(zd)?(null!=Oc&&"onScroll"===zd&&Wd("scroll",b),Ba||wc===Oc||(Ba=[])):(Ba=Ba||[]).push(zd,Oc))}n&&(Ba=Ba||[]).push("style",n);var zd;if(e.updateQueue=Ba)e.flags|=4}};var sl=function(b,e,n,K){n!==K&&(e.flags|=4)};var Wj=!1,Oh=!1,Ul="function"===typeof WeakSet?
WeakSet:Set,Oe=null,tl=!1,th=null,si=!1,Xl=Math.ceil,xk=Ed.ReactCurrentDispatcher,Yk=Ed.ReactCurrentOwner,li=Ed.ReactCurrentBatchConfig,$f=0,xh=null,bh=null,Ih=0,ai=0,Cj=Tc(0),sh=0,ki=null,oj=0,Hg=0,hg=0,uh=null,ch=null,Vk=0,Vh=Infinity,Pi=null,vk=!1,Rk=null,Ni=null,Yj=!1,Qi=null,Zj=0,dj=0,rj=null,Xj=-1,cj=0;var Zk=function(b,e,n){if(null!==b)if(b.memoizedProps!==e.pendingProps||Cg.current)Qh=!0;else{if(0===(b.lanes&n)&&0===(e.flags&128))return Qh=!1,rh(b,e,n);Qh=0!==(b.flags&131072)?!0:!1}else Qh=
!1,Dg&&0!==(e.flags&1048576)&&be(e,yi,e.index);e.lanes=0;switch(e.tag){case 2:var K=e.type;Sg(b,e);b=e.pendingProps;var na=Ra(e,Lh.current);I(e,n);na=Yd(null,e,K,b,na,n);var Ba=ef();e.flags|=1;"object"===typeof na&&null!==na&&"function"===typeof na.render&&void 0===na.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,eb(K)?(Ba=!0,Wc(e)):Ba=!1,e.memoizedState=null!==na.state&&void 0!==na.state?na.state:null,vb(e),na.updater=tk,e.stateNode=na,na._reactInternals=e,Be(e,K,b,n),e=$g(null,e,K,!0,
Ba,n)):(e.tag=0,Dg&&Ba&&xe(e),Bf(null,e,na,n),e=e.child);return e;case 16:K=e.elementType;a:{Sg(b,e);b=e.pendingProps;na=K._init;K=na(K._payload);e.type=K;na=e.tag=Ag(K);b=le(K,b);switch(na){case 0:e=yh(null,e,K,b,n);break a;case 1:e=Nh(null,e,K,b,n);break a;case 11:e=Rg(null,e,K,b,n);break a;case 14:e=gh(null,e,K,le(K.type,b),n);break a}throw Error(v(306,K,""));}return e;case 0:return K=e.type,na=e.pendingProps,na=e.elementType===K?na:le(K,na),yh(b,e,K,na,n);case 1:return K=e.type,na=e.pendingProps,
na=e.elementType===K?na:le(K,na),Nh(b,e,K,na,n);case 3:a:{ph(e);if(null===b)throw Error(v(387));K=e.pendingProps;Ba=e.memoizedState;na=Ba.element;pc(b,e);Hc(e,K,null,n);var tb=e.memoizedState;K=tb.element;if(Ba.isDehydrated)if(Ba={element:K,isDehydrated:!1,cache:tb.cache,pendingSuspenseBoundaries:tb.pendingSuspenseBoundaries,transitions:tb.transitions},e.updateQueue.baseState=Ba,e.memoizedState=Ba,e.flags&256){na=Ge(Error(v(423)),e);Vd();ce(na);e.flags|=256;Bf(b,e,K,n);e=e.child;break a}else if(K!==
na){na=Ge(Error(v(424)),e);Vd();ce(na);e.flags|=256;Bf(b,e,K,n);e=e.child;break a}else for(Zh=J(e.stateNode.containerInfo.firstChild),Mh=e,Dg=!0,Th=null,n=Sk(e,null,K,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{Vd();if(K===na){e=kh(b,e,n);break a}Bf(b,e,K,n)}e=e.child}return e;case 5:return Ie(e),null===b&&Ec(e),K=e.type,na=e.pendingProps,Ba=null!==b?b.memoizedProps:null,tb=na.children,ec(K,na)?tb=null:null!==Ba&&ec(K,Ba)&&(e.flags|=32),zh(b,e),Bf(b,e,tb,n),e.child;case 6:return null===
b&&Ec(e),null;case 13:return bi(b,e,n);case 4:return lf(e,e.stateNode.containerInfo),K=e.pendingProps,null===b?e.child=Bj(e,null,K,n):Bf(b,e,K,n),e.child;case 11:return K=e.type,na=e.pendingProps,na=e.elementType===K?na:le(K,na),Rg(b,e,K,na,n);case 7:return Bf(b,e,e.pendingProps,n),e.child;case 8:return Bf(b,e,e.pendingProps.children,n),e.child;case 12:return Bf(b,e,e.pendingProps.children,n),e.child;case 10:a:{K=e.type._context;na=e.pendingProps;Ba=e.memoizedProps;tb=na.value;ee(mj,K._currentValue);
K._currentValue=tb;if(null!==Ba)if(oi(Ba.value,tb)){if(Ba.children===na.children&&!Cg.current){e=kh(b,e,n);break a}}else for(Ba=e.child,null!==Ba&&(Ba.return=e);null!==Ba;){var wc=Ba.dependencies;if(null!==wc){tb=Ba.child;for(var Oc=wc.firstContext;null!==Oc;){if(Oc.context===K){if(1===Ba.tag){Oc=qc(-1,n&-n);Oc.tag=2;var zd=Ba.updateQueue;if(null!==zd){zd=zd.shared;var fe=zd.pending;null===fe?Oc.next=Oc:(Oc.next=fe.next,fe.next=Oc);zd.pending=Oc}}Ba.lanes|=n;Oc=Ba.alternate;null!==Oc&&(Oc.lanes|=
n);ea(Ba.return,n,e);wc.lanes|=n;break}Oc=Oc.next}}else if(10===Ba.tag)tb=Ba.type===e.type?null:Ba.child;else if(18===Ba.tag){tb=Ba.return;if(null===tb)throw Error(v(341));tb.lanes|=n;wc=tb.alternate;null!==wc&&(wc.lanes|=n);ea(tb,n,e);tb=Ba.sibling}else tb=Ba.child;if(null!==tb)tb.return=Ba;else for(tb=Ba;null!==tb;){if(tb===e){tb=null;break}Ba=tb.sibling;if(null!==Ba){Ba.return=tb.return;tb=Ba;break}tb=tb.return}Ba=tb}Bf(b,e,na.children,n);e=e.child}return e;case 9:return na=e.type,K=e.pendingProps.children,
I(e,n),na=ka(na),K=K(na),e.flags|=1,Bf(b,e,K,n),e.child;case 14:return K=e.type,na=le(K,e.pendingProps),na=le(K.type,na),gh(b,e,K,na,n);case 15:return oh(b,e,e.type,e.pendingProps,n);case 17:return K=e.type,na=e.pendingProps,na=e.elementType===K?na:le(K,na),Sg(b,e),e.tag=1,eb(K)?(b=!0,Wc(e)):b=!1,I(e,n),Kd(e,K,na),Be(e,K,na,n),$g(null,e,K,!0,b,n);case 19:return Uh(b,e,n);case 22:return xg(b,e,n)}throw Error(v(156,e.tag));};var Ck="function"===typeof reportError?reportError:function(b){console.error(b)};
kc.prototype.render=Sb.prototype.render=function(b){var e=this._internalRoot;if(null===e)throw Error(v(409));W(b,e,null,null)};kc.prototype.unmount=Sb.prototype.unmount=function(){var b=this._internalRoot;if(null!==b){this._internalRoot=null;var e=b.containerInfo;Rd(function(){W(null,b,null,null)});e[wi]=null}};kc.prototype.unstable_scheduleHydration=function(b){if(b){var e=lm();b={blockedOn:null,target:b,priority:e};for(var n=0;n<Ti.length&&0!==e&&e<Ti[n].priority;n++);Ti.splice(n,0,b);0===n&&Tb(b)}};
var Hl=function(b){switch(b.tag){case 3:var e=b.stateNode;if(e.current.memoizedState.isDehydrated){var n=X(e.pendingLanes);0!==n&&(Sc(e,n|1),oa(e,ah()),0===($f&6)&&(Vh=ah()+500,Od()))}break;case 13:Rd(function(){var K=jb(b,1);if(null!==K){var na=l();da(K,b,1,na)}}),yb(b,1)}};var cl=function(b){if(13===b.tag){var e=jb(b,134217728);if(null!==e){var n=l();da(e,b,134217728,n)}yb(b,134217728)}};var el=function(b){if(13===b.tag){var e=z(b),n=jb(b,e);if(null!==n){var K=l();da(n,b,e,K)}yb(b,e)}};var lm=function(){return lg};
var dl=function(b,e){var n=lg;try{return lg=b,e()}finally{lg=n}};Yh=function(b,e,n){switch(e){case "input":mb(b,n);e=n.name;if("radio"===n.type&&null!=e){for(n=b;n.parentNode;)n=n.parentNode;n=n.querySelectorAll("input[name\x3d"+JSON.stringify(""+e)+'][type\x3d"radio"]');for(e=0;e<n.length;e++){var K=n[e];if(K!==b&&K.form===b.form){var na=Dc(K);if(!na)throw Error(v(90));pb(K);mb(K,na)}}}break;case "textarea":nb(b,n);break;case "select":e=n.value,null!=e&&sb(b,!!n.multiple,e,!1)}};m=Rc;C=Rd;var xl=
{usingClientEntryPoint:!1,Events:[bc,Pc,Dc,g,u,Rc]},ek={findFiberByHostInstance:Sa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yl={bundleType:ek.bundleType,version:ek.version,rendererPackageName:ek.rendererPackageName,rendererConfig:ek.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,
currentDispatcherRef:Ed.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){b=va(b);return null===b?null:b.stateNode},findFiberByHostInstance:ek.findFiberByHostInstance||Eb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mi.isDisabled&&mi.supportsFiber)try{Ij=mi.inject(yl),ui=
mi}catch(b){}}ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xl;ob.createPortal=function(b,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uc(e))throw Error(v(200));return Gi(b,e,null,n)};ob.createRoot=function(b,e){if(!Uc(b))throw Error(v(299));var n=!1,K="",na=Ck;null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(K=e.identifierPrefix),void 0!==e.onRecoverableError&&(na=e.onRecoverableError));e=ej(b,1,!1,null,null,n,!1,K,na);b[wi]=
e.current;Ae(8===b.nodeType?b.parentNode:b);return new Sb(e)};ob.findDOMNode=function(b){if(null==b)return null;if(1===b.nodeType)return b;var e=b._reactInternals;if(void 0===e){if("function"===typeof b.render)throw Error(v(188));b=Object.keys(b).join(",");throw Error(v(268,b));}b=va(e);return b=null===b?null:b.stateNode};ob.flushSync=function(b){return Rd(b)};ob.hydrate=function(b,e,n){if(!Id(e))throw Error(v(200));return ke(null,b,e,!0,n)};ob.hydrateRoot=function(b,e,n){if(!Uc(b))throw Error(v(405));
var K=null!=n&&n.hydratedSources||null,na=!1,Ba="",tb=Ck;null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(na=!0),void 0!==n.identifierPrefix&&(Ba=n.identifierPrefix),void 0!==n.onRecoverableError&&(tb=n.onRecoverableError));e=y(e,null,b,1,null!=n?n:null,na,!1,Ba,tb);b[wi]=e.current;Ae(b);if(K)for(b=0;b<K.length;b++)n=K[b],na=n._getVersion,na=na(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,na]:e.mutableSourceEagerHydrationData.push(n,na);return new kc(e)};
ob.render=function(b,e,n){if(!Id(e))throw Error(v(200));return ke(null,b,e,!1,n)};ob.unmountComponentAtNode=function(b){if(!Id(b))throw Error(v(40));return b._reactRootContainer?(Rd(function(){ke(null,null,b,!1,function(){b._reactRootContainer=null;b[wi]=null})}),!0):!1};ob.unstable_batchedUpdates=Rc;ob.unstable_renderSubtreeIntoContainer=function(b,e,n,K){if(!Id(n))throw Error(v(200));if(null==b||void 0===b._reactInternals)throw Error(v(38));return ke(b,e,n,!1,K)};ob.version="18.2.0-next-9e3b772b8-20220608"};
shadow$provide[8]=function(fc,Fb,Xc,ob){function v(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v)}catch(k){console.error(k)}}v();Xc.exports=Fb(6)};
shadow$provide[13]=function(fc,Fb,Xc,ob){Xc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[17]=function(fc,Fb,Xc,ob){function v(){}function k(){}var P=Fb(13);k.resetWarningCache=v;Xc.exports=function(){function ib(vc,Ac,uc,Cb,jc,Yb){if(Yb!==P)throw vc=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),vc.name="Invariant Violation",vc;}function Hb(){return ib}ib.isRequired=ib;var ac={array:ib,bigint:ib,bool:ib,func:ib,number:ib,object:ib,string:ib,
symbol:ib,any:ib,arrayOf:Hb,element:ib,elementType:ib,instanceOf:Hb,node:ib,objectOf:Hb,oneOf:Hb,oneOfType:Hb,shape:Hb,exact:Hb,checkPropTypes:k,resetWarningCache:v};return ac.PropTypes=ac}};
shadow$provide[18]=function(fc,Fb,Xc,ob){Xc.exports=Fb(17)()};
shadow$provide[19]=function(fc,Fb,Xc,ob){ob.__esModule=!0;ob.default=function(k,P){void 0===k&&(k=v);void 0===P&&(P=v);const ib=Object.keys(k),Hb=Object.keys(P);return k===P||ib.length===Hb.length&&ib.every(ac=>k[ac]===P[ac])};const v={}};
shadow$provide[20]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function k(B,A,E){B.fields=A||[];B.fname=E;return B}function P(B){return null==B?null:B.fields}function ib(B){return 1===B.length?mb(B[0]):Pa(B)}function Hb(B){throw Error(B);}function ac(B){function A(){E.push(Y+B.substring(t,L));Y="";t=L+1}const E=
[],H=B.length;let V=null,Aa=0,Y="",t,L,va;B+="";for(t=L=0;L<H;++L)(va=B[L],"\\"===va)?(Y+=B.substring(t,L++),t=L):va===V?(A(),V=null,Aa=-1):V||(t===Aa&&'"'===va?(t=L+1,V=va):t===Aa&&"'"===va?(t=L+1,V=va):"."!==va||Aa?"["===va?(L>t&&A(),Aa=t=L+1):"]"===va&&(Aa||Hb("Access path missing open bracket: "+B),0<Aa&&A(),Aa=0,t=L+1):L>t?A():t=L+1);Aa&&Hb("Access path missing closing bracket: "+B);V&&Hb("Access path missing closing quote: "+B);L>t&&(L++,A());return E}function vc(B,A,E){const H=ac(B);B=1===
H.length?H[0]:B;return k((E&&E.get||ib)(H),[B],A||B)}function Ac(B,A,E){A=[A].concat([].slice.call(E));console[B].apply(console,A)}function uc(B){return B===Object(B)}function Cb(B,A,E,H){if("__proto__"!==A){var V;if(uc(E)&&!Z(E))for(V in B=uc(B[A])?B[A]:B[A]={},E)H&&(!0===H||H[V])?Cb(B,V,E[V]):"__proto__"!==V&&(B[V]=E[V]);else B[A]=E}}function jc(B,A){function E(Aa){H[Aa.name]||(H[Aa.name]=1,V.push(Aa))}if(null==B)return A;const H={},V=[];A.forEach(E);B.forEach(E);return V}function Yb(B){return B[B.length-
1]}function Ua(B){return null==B||""===B?null:+B}function ub(B,A,E,H){const V=E(B[0]);B=E(Yb(B));A*=B-V;return[H(V-A),H(B-A)]}function Kb(B,A,E,H,V){const Aa=H(B[0]);B=H(Yb(B));A=null!=A?H(A):(Aa+B)/2;return[V(A+(Aa-A)*E),V(A+(B-A)*E)]}function Lb(B){return null!=B?Z(B)?B:[B]:[]}function Db(B){return"function"===typeof B}function Pb(B){for(let A,E,H=1,V=arguments.length;H<V;++H)for(E in A=arguments[H],A)B[E]=A[E];return B}function ab(B,A){return u.call(B,A)}function pb(B){return"[object Date]"===
Object.prototype.toString.call(B)}function Qa(B){return"number"===typeof B}function Da(B){return"string"===typeof B}function Ka(B,A){let E="";for(;0<=--A;)E+=B;return E}function lb(B){return Z(B)?"["+B.map(lb)+"]":uc(B)||Da(B)?JSON.stringify(B).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):B}const mb=B=>function(A){return A[B]},Pa=B=>{const A=B.length;return function(E){for(let H=0;H<A;++H)E=E[B[H]];return E}},xb=vc("id"),sb=k(B=>B,[],"identity"),Qb=k(()=>0,[],"zero"),Wb=k(()=>1,[],"one"),
nb=k(()=>!0,[],"true"),pa=k(()=>!1,[],"false");var Z=Array.isArray;const Fa=B=>A=>B*Math.exp(A),Ga=B=>A=>Math.log(B*A),db=B=>A=>Math.sign(A)*Math.log1p(Math.abs(A/B)),ba=B=>A=>Math.sign(A)*Math.expm1(Math.abs(A))*B,ma=B=>A=>0>A?-Math.pow(-A,B):Math.pow(A,B),q=(B,A)=>(B<A||null==B)&&null!=A?-1:(B>A||null==A)&&null!=B?1:(A=A instanceof Date?+A:A,B=B instanceof Date?+B:B)!==B&&A===A?-1:A!==A&&B===B?1:0,M=(B,A)=>1===B.length?Q(B[0],A[0]):g(B,A,B.length),Q=(B,A)=>function(E,H){return q(B(E),B(H))*A},g=
(B,A,E)=>{A.push(0);return function(H,V){var Aa=0;let Y=-1;for(;0===Aa&&++Y<E;)Aa=B[Y],Aa=q(Aa(H),Aa(V));return Aa*A[Y]}},u=Object.prototype.hasOwnProperty,m={},C=B=>Qa(B)?B:pb(B)?B:Date.parse(B);v.Debug=4;v.Error=1;v.Info=3;v.None=0;v.Warn=2;v.accessor=k;v.accessorFields=P;v.accessorName=function(B){return null==B?null:B.fname};v.array=Lb;v.ascending=q;v.clampRange=function(B,A,E){let H=B[0];B=B[1];let V;B<H&&(V=B,B=H,H=V);V=B-H;return V>=E-A?[A,E]:[H=Math.min(Math.max(H,A),E-V),H+V]};v.compare=
function(B,A,E){E=E||{};A=Lb(A)||[];const H=[],V=[],Aa={},Y=E.comparator||M;Lb(B).forEach((t,L)=>{null!=t&&(H.push("descending"===A[L]?-1:1),V.push(t=Db(t)?t:vc(t,null,E)),(P(t)||[]).forEach(va=>Aa[va]=1))});return 0===V.length?null:k(Y(V,H),Object.keys(Aa))};v.constant=function(B){return Db(B)?B:()=>B};v.debounce=function(B,A){let E;return H=>{E&&clearTimeout(E);E=setTimeout(()=>(A(H),E=null),B)}};v.error=Hb;v.extend=Pb;v.extent=function(B,A){let E=0,H,V,Aa,Y;if(B&&(H=B.length))if(null==A){for(V=
B[E];E<H&&(null==V||V!==V);V=B[++E]);for(Aa=Y=V;E<H;++E)V=B[E],null!=V&&(V<Aa&&(Aa=V),V>Y&&(Y=V))}else{for(V=A(B[E]);E<H&&(null==V||V!==V);V=A(B[++E]));for(Aa=Y=V;E<H;++E)V=A(B[E]),null!=V&&(V<Aa&&(Aa=V),V>Y&&(Y=V))}return[Aa,Y]};v.extentIndex=function(B,A){const E=B.length;let H=-1,V,Aa,Y,t,L;if(null==A){for(;++H<E;)if(Aa=B[H],null!=Aa&&Aa>=Aa){V=Y=Aa;break}if(H===E)return[-1,-1];for(t=L=H;++H<E;)Aa=B[H],null!=Aa&&(V>Aa&&(V=Aa,t=H),Y<Aa&&(Y=Aa,L=H))}else{for(;++H<E;)if(Aa=A(B[H],H,B),null!=Aa&&Aa>=
Aa){V=Y=Aa;break}if(H===E)return[-1,-1];for(t=L=H;++H<E;)Aa=A(B[H],H,B),null!=Aa&&(V>Aa&&(V=Aa,t=H),Y<Aa&&(Y=Aa,L=H))}return[t,L]};v.falsy=pa;v.fastmap=function(B){function A(Aa){return ab(E,Aa)&&E[Aa]!==m}let E={},H;const V={size:0,empty:0,object:E,has:A,get(Aa){return A(Aa)?E[Aa]:void 0},set(Aa,Y){A(Aa)||(++V.size,E[Aa]===m&&--V.empty);E[Aa]=Y;return this},delete(Aa){A(Aa)&&(--V.size,++V.empty,E[Aa]=m);return this},clear(){V.size=V.empty=0;V.object=E={}},test(Aa){return arguments.length?(H=Aa,V):
H},clean(){const Aa={};let Y=0;for(const t in E){const L=E[t];L===m||H&&H(L)||(Aa[t]=L,++Y)}V.size=Y;V.empty=0;V.object=E=Aa}};B&&Object.keys(B).forEach(Aa=>{V.set(Aa,B[Aa])});return V};v.field=vc;v.flush=function(B,A,E,H,V,Aa){if(!E&&0!==E)return Aa;E=+E;let Y=B[0],t=Yb(B);t<Y&&(B=Y,Y=t,t=B);B=Math.abs(A-Y);A=Math.abs(t-A);return B<A&&B<=E?H:A<=E?V:Aa};v.hasOwnProperty=ab;v.id=xb;v.identity=sb;v.inherits=function(B,A,E){A=B.prototype=Object.create(A.prototype);Object.defineProperty(A,"constructor",
{value:B,writable:!0,enumerable:!0,configurable:!0});return Pb(A,E)};v.inrange=function(B,A,E,H){let V=A[0];A=A[A.length-1];let Aa;V>A&&(Aa=V,V=A,A=Aa);return(void 0===E||E?V<=B:V<B)&&(void 0===H||H?B<=A:B<A)};v.isArray=Z;v.isBoolean=function(B){return"boolean"===typeof B};v.isDate=pb;v.isFunction=Db;v.isIterable=function(B){return B&&Db(B[Symbol.iterator])};v.isNumber=Qa;v.isObject=uc;v.isRegExp=function(B){return"[object RegExp]"===Object.prototype.toString.call(B)};v.isString=Da;v.key=function(B,
A,E){B&&(B=A?Lb(B).map(Aa=>Aa.replace(/\\(.)/g,"$1")):Lb(B));const H=B&&B.length,V=E&&E.get||ib;E=Aa=>V(A?[Aa]:ac(Aa));if(H)if(1===H){const Aa=E(B[0]);E=function(Y){return""+Aa(Y)}}else{const Aa=B.map(E);E=function(Y){let t=""+Aa[0](Y),L=0;for(;++L<H;)t+="|"+Aa[L](Y);return t}}else E=function(){return""};return k(E,B,"key")};v.lerp=function(B,A){const E=B[0];B=Yb(B);return(A=+A)?1===A?B:E+A*(B-E):E};v.logger=function(B,A,E=Ac){let H=B||0;return{level(V){return arguments.length?(H=+V,this):H},error(){1<=
H&&E(A||"error","ERROR",arguments);return this},warn(){2<=H&&E(A||"warn","WARN",arguments);return this},info(){3<=H&&E(A||"log","INFO",arguments);return this},debug(){4<=H&&E(A||"log","DEBUG",arguments);return this}}};v.lruCache=function(B){B=+B||1E4;let A,E,H;const V=()=>{A={};E={};H=0},Aa=(Y,t)=>{++H>B&&(E=A,A={},H=1);return A[Y]=t};V();return{clear:V,has:Y=>ab(A,Y)||ab(E,Y),get:Y=>ab(A,Y)?A[Y]:ab(E,Y)?Aa(Y,E[Y]):void 0,set:(Y,t)=>ab(A,Y)?A[Y]=t:Aa(Y,t)}};v.merge=function(B,A,E,H){const V=A.length,
Aa=E.length;if(!Aa)return A;if(!V)return E;H=H||new A.constructor(V+Aa);let Y=0,t=0,L=0;for(;Y<V&&t<Aa;++L)H[L]=0<B(A[Y],E[t])?E[t++]:A[Y++];for(;Y<V;++Y,++L)H[L]=A[Y];for(;t<Aa;++t,++L)H[L]=E[t];return H};v.mergeConfig=function(...B){return B.reduce((A,E)=>{for(const H in E)"signals"===H?A.signals=jc(A.signals,E.signals):Cb(A,H,E[H],"legend"===H?{layout:1}:"style"===H?!0:null);return A},{})};v.one=Wb;v.pad=function(B,A,E,H){E=E||" ";B+="";A-=B.length;return 0>=A?B:"left"===H?Ka(E,A)+B:"center"===
H?Ka(E,~~(A/2))+B+Ka(E,Math.ceil(A/2)):B+Ka(E,A)};v.panLinear=function(B,A){return ub(B,A,Ua,sb)};v.panLog=function(B,A){var E=Math.sign(B[0]);return ub(B,A,Ga(E),Fa(E))};v.panPow=function(B,A,E){return ub(B,A,ma(E),ma(1/E))};v.panSymlog=function(B,A,E){return ub(B,A,db(E),ba(E))};v.peek=Yb;v.quarter=function(B){return 1+~~((new Date(B)).getMonth()/3)};v.repeat=Ka;v.span=function(B){return B&&Yb(B)-B[0]||0};v.splitAccessPath=ac;v.stringValue=lb;v.toBoolean=function(B){return null==B||""===B?null:
B&&"false"!==B&&"0"!==B?!!B:!1};v.toDate=function(B,A){A=A||C;return null==B||""===B?null:A(B)};v.toNumber=Ua;v.toSet=function(B){const A={},E=B.length;for(let H=0;H<E;++H)A[B[H]]=!0;return A};v.toString=function(B){return null==B||""===B?null:B+""};v.truncate=function(B,A,E,H){H=null!=H?H:"";B+="";const V=B.length,Aa=Math.max(0,A-H.length);return V<=A?B:"left"===E?H+B.slice(V-Aa):"center"===E?B.slice(0,Math.ceil(Aa/2))+H+B.slice(V-~~(Aa/2)):B.slice(0,Aa)+H};v.truthy=nb;v.utcquarter=function(B){return 1+
~~((new Date(B)).getUTCMonth()/3)};v.visitArray=function(B,A,E){if(B)if(A){const H=B.length;for(let V=0;V<H;++V){const Aa=A(B[V]);Aa&&E(Aa,V,B)}}else B.forEach(E)};v.writeConfig=Cb;v.zero=Qb;v.zoomLinear=function(B,A,E){return Kb(B,A,E,Ua,sb)};v.zoomLog=function(B,A,E){const H=Math.sign(B[0]);return Kb(B,A,E,Ga(H),Fa(H))};v.zoomPow=function(B,A,E,H){return Kb(B,A,E,ma(H),ma(1/H))};v.zoomSymlog=function(B,A,E,H){return Kb(B,A,E,db(H),ba(H))}})};
shadow$provide[21]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob):"function"===typeof define&&define.amd?define(["exports"],k):(v=v||self,k(v.topojson=v.topojson||{}))})(this,function(v){function k(Ua){return Ua}function P(Ua){if(null==Ua)return k;var ub,Kb,Lb=Ua.scale[0],Db=Ua.scale[1],Pb=Ua.translate[0],ab=Ua.translate[1];return function(pb,Qa){Qa||(ub=Kb=0);Qa=2;var Da=pb.length,Ka=Array(Da);Ka[0]=(ub+=pb[0])*Lb+Pb;for(Ka[1]=(Kb+=pb[1])*Db+ab;Qa<Da;)Ka[Qa]=
pb[Qa],++Qa;return Ka}}function ib(Ua){function ub(Da){Da=Lb(Da);Da[0]<Pb&&(Pb=Da[0]);Da[0]>pb&&(pb=Da[0]);Da[1]<ab&&(ab=Da[1]);Da[1]>Qa&&(Qa=Da[1])}function Kb(Da){switch(Da.type){case "GeometryCollection":Da.geometries.forEach(Kb);break;case "Point":ub(Da.coordinates);break;case "MultiPoint":Da.coordinates.forEach(ub)}}var Lb=P(Ua.transform),Db,Pb=Infinity,ab=Pb,pb=-Pb,Qa=-Pb;Ua.arcs.forEach(function(Da){for(var Ka=-1,lb=Da.length,mb;++Ka<lb;)mb=Lb(Da[Ka],Ka),mb[0]<Pb&&(Pb=mb[0]),mb[0]>pb&&(pb=
mb[0]),mb[1]<ab&&(ab=mb[1]),mb[1]>Qa&&(Qa=mb[1])});for(Db in Ua.objects)Kb(Ua.objects[Db]);return[Pb,ab,pb,Qa]}function Hb(Ua,ub){var Kb=ub.id,Lb=ub.bbox,Db=null==ub.properties?{}:ub.properties;Ua=ac(Ua,ub);return null==Kb&&null==Lb?{type:"Feature",properties:Db,geometry:Ua}:null==Lb?{type:"Feature",id:Kb,properties:Db,geometry:Ua}:{type:"Feature",id:Kb,bbox:Lb,properties:Db,geometry:Ua}}function ac(Ua,ub){function Kb(Da){return pb(Da)}function Lb(Da){for(var Ka=[],lb=0,mb=Da.length;lb<mb;++lb){var Pa=
Da[lb],xb=Ka;xb.length&&xb.pop();for(var sb=Qa[0>Pa?~Pa:Pa],Qb=0,Wb=sb.length;Qb<Wb;++Qb)xb.push(pb(sb[Qb],Qb));if(0>Pa)for(Pa=xb,xb=Pa.length,sb=xb-Wb;sb<--xb;)Wb=Pa[sb],Pa[sb++]=Pa[xb],Pa[xb]=Wb}2>Ka.length&&Ka.push(Ka[0]);return Ka}function Db(Da){for(Da=Lb(Da);4>Da.length;)Da.push(Da[0]);return Da}function Pb(Da){return Da.map(Db)}function ab(Da){var Ka=Da.type;switch(Ka){case "GeometryCollection":return{type:Ka,geometries:Da.geometries.map(ab)};case "Point":Da=pb(Da.coordinates);break;case "MultiPoint":Da=
Da.coordinates.map(Kb);break;case "LineString":Da=Lb(Da.arcs);break;case "MultiLineString":Da=Da.arcs.map(Lb);break;case "Polygon":Da=Pb(Da.arcs);break;case "MultiPolygon":Da=Da.arcs.map(Pb);break;default:return null}return{type:Ka,coordinates:Da}}var pb=P(Ua.transform),Qa=Ua.arcs;return ab(ub)}function vc(Ua,ub){function Kb(Da){var Ka=Ua.arcs[0>Da?~Da:Da],lb=Ka[0];if(Ua.transform){var mb=[0,0];Ka.forEach(function(Pa){mb[0]+=Pa[0];mb[1]+=Pa[1]})}else mb=Ka[Ka.length-1];return 0>Da?[mb,lb]:[lb,mb]}
function Lb(Da,Ka){for(var lb in Da){var mb=Da[lb];delete Ka[mb.start];delete mb.start;delete mb.end;mb.forEach(function(Pa){Db[0>Pa?~Pa:Pa]=1});pb.push(mb)}}var Db={},Pb={},ab={},pb=[],Qa=-1;ub.forEach(function(Da,Ka){var lb=Ua.arcs[0>Da?~Da:Da];3>lb.length&&!lb[1][0]&&!lb[1][1]&&(lb=ub[++Qa],ub[Qa]=Da,ub[Ka]=lb)});ub.forEach(function(Da){var Ka=Kb(Da),lb=Ka[0],mb=Ka[1];(Ka=ab[lb])?(delete ab[Ka.end],Ka.push(Da),Ka.end=mb,(Da=Pb[mb])?(delete Pb[Da.start],lb=Da===Ka?Ka:Ka.concat(Da),Pb[lb.start=Ka.start]=
ab[lb.end=Da.end]=lb):Pb[Ka.start]=ab[Ka.end]=Ka):(Ka=Pb[mb])?(delete Pb[Ka.start],Ka.unshift(Da),Ka.start=lb,(Da=ab[lb])?(delete ab[Da.end],lb=Da===Ka?Ka:Da.concat(Ka),Pb[lb.start=Da.start]=ab[lb.end=Ka.end]=lb):Pb[Ka.start]=ab[Ka.end]=Ka):(Ka=[Da],Pb[Ka.start=lb]=ab[Ka.end=mb]=Ka)});Lb(ab,Pb);Lb(Pb,ab);ub.forEach(function(Da){Db[0>Da?~Da:Da]||pb.push([Da])});return pb}function Ac(Ua,ub,Kb){var Lb;if(1<arguments.length)var Db=uc(Ua,ub,Kb);else{var Pb=0;for(Db=Array(Lb=Ua.arcs.length);Pb<Lb;++Pb)Db[Pb]=
Pb}return{type:"MultiLineString",arcs:vc(Ua,Db)}}function uc(Ua,ub,Kb){function Lb(Ka){var lb=0>Ka?~Ka:Ka;(Qa[lb]||(Qa[lb]=[])).push({i:Ka,g:Da})}function Db(Ka){Ka.forEach(Lb)}function Pb(Ka){Ka.forEach(Db)}function ab(Ka){switch(Da=Ka,Ka.type){case "GeometryCollection":Ka.geometries.forEach(ab);break;case "LineString":Db(Ka.arcs);break;case "MultiLineString":case "Polygon":Pb(Ka.arcs);break;case "MultiPolygon":Ka.arcs.forEach(Pb)}}var pb=[],Qa=[],Da;ab(ub);Qa.forEach(null==Kb?function(Ka){pb.push(Ka[0].i)}:
function(Ka){Kb(Ka[0].g,Ka[Ka.length-1].g)&&pb.push(Ka[0].i)});return pb}function Cb(Ua,ub){function Kb(Qa){switch(Qa.type){case "GeometryCollection":Qa.geometries.forEach(Kb);break;case "Polygon":Lb(Qa.arcs);break;case "MultiPolygon":Qa.arcs.forEach(Lb)}}function Lb(Qa){Qa.forEach(function(Da){Da.forEach(function(Ka){(Pb[Ka=0>Ka?~Ka:Ka]||(Pb[Ka]=[])).push(Qa)})});ab.push(Qa)}function Db(Qa){Qa=ac(Ua,{type:"Polygon",arcs:[Qa]}).coordinates[0];for(var Da=-1,Ka=Qa.length,lb,mb=Qa[Ka-1],Pa=0;++Da<Ka;)lb=
mb,mb=Qa[Da],Pa+=lb[0]*mb[1]-lb[1]*mb[0];return Math.abs(Pa)}var Pb={},ab=[],pb=[];ub.forEach(Kb);ab.forEach(function(Qa){if(!Qa._){var Da=[],Ka=[Qa];Qa._=1;for(pb.push(Da);Qa=Ka.pop();)Da.push(Qa),Qa.forEach(function(lb){lb.forEach(function(mb){Pb[0>mb?~mb:mb].forEach(function(Pa){Pa._||(Pa._=1,Ka.push(Pa))})})})}});ab.forEach(function(Qa){delete Qa._});return{type:"MultiPolygon",arcs:pb.map(function(Qa){var Da=[];Qa.forEach(function(Pa){Pa.forEach(function(xb){xb.forEach(function(sb){2>Pb[0>sb?
~sb:sb].length&&Da.push(sb)})})});Da=vc(Ua,Da);if(1<(Qa=Da.length))for(var Ka=1,lb=Db(Da[0]),mb;Ka<Qa;++Ka)(mb=Db(Da[Ka]))>lb&&(lb=Da[0],Da[0]=Da[Ka],Da[Ka]=lb,lb=mb);return Da}).filter(function(Qa){return 0<Qa.length})}}function jc(Ua,ub){for(var Kb=0,Lb=Ua.length;Kb<Lb;){var Db=Kb+Lb>>>1;Ua[Db]<ub?Kb=Db+1:Lb=Db}return Kb}function Yb(Ua){if(null==Ua)return k;var ub,Kb,Lb=Ua.scale[0],Db=Ua.scale[1],Pb=Ua.translate[0],ab=Ua.translate[1];return function(pb,Qa){Qa||(ub=Kb=0);Qa=2;var Da=pb.length,Ka=
Array(Da),lb=Math.round((pb[0]-Pb)/Lb),mb=Math.round((pb[1]-ab)/Db);Ka[0]=lb-ub;ub=lb;Ka[1]=mb-Kb;for(Kb=mb;Qa<Da;)Ka[Qa]=pb[Qa],++Qa;return Ka}}v.bbox=ib;v.feature=function(Ua,ub){"string"===typeof ub&&(ub=Ua.objects[ub]);return"GeometryCollection"===ub.type?{type:"FeatureCollection",features:ub.geometries.map(function(Kb){return Hb(Ua,Kb)})}:Hb(Ua,ub)};v.merge=function(Ua){return ac(Ua,Cb.apply(this,arguments))};v.mergeArcs=Cb;v.mesh=function(Ua){return ac(Ua,Ac.apply(this,arguments))};v.meshArcs=
Ac;v.neighbors=function(Ua){function ub(xb,sb){xb.forEach(function(Qb){0>Qb&&(Qb=~Qb);var Wb=Db[Qb];Wb?Wb.push(sb):Db[Qb]=[sb]})}function Kb(xb,sb){xb.forEach(function(Qb){ub(Qb,sb)})}function Lb(xb,sb){if("GeometryCollection"===xb.type)xb.geometries.forEach(function(Qb){Lb(Qb,sb)});else if(xb.type in ab)ab[xb.type](xb.arcs,sb)}var Db={},Pb=Ua.map(function(){return[]}),ab={LineString:ub,MultiLineString:Kb,Polygon:Kb,MultiPolygon:function(xb,sb){xb.forEach(function(Qb){Kb(Qb,sb)})}};Ua.forEach(Lb);
for(var pb in Db){Ua=Db[pb];for(var Qa=Ua.length,Da=0;Da<Qa;++Da)for(var Ka=Da+1;Ka<Qa;++Ka){var lb=Ua[Da],mb=Ua[Ka],Pa;(Pa=Pb[lb])[pb=jc(Pa,mb)]!==mb&&Pa.splice(pb,0,mb);(Pa=Pb[mb])[pb=jc(Pa,lb)]!==lb&&Pa.splice(pb,0,lb)}}return Pb};v.quantize=function(Ua,ub){function Kb(lb){return Da(lb)}function Lb(lb){switch(lb.type){case "GeometryCollection":var mb={type:"GeometryCollection",geometries:lb.geometries.map(Lb)};break;case "Point":mb={type:"Point",coordinates:Da(lb.coordinates)};break;case "MultiPoint":mb=
{type:"MultiPoint",coordinates:lb.coordinates.map(Kb)};break;default:return lb}null!=lb.id&&(mb.id=lb.id);null!=lb.bbox&&(mb.bbox=lb.bbox);null!=lb.properties&&(mb.properties=lb.properties);return mb}if(Ua.transform)throw Error("already quantized");if(ub&&ub.scale)var Db=Ua.bbox;else{if(!(2<=(Qa=Math.floor(ub))))throw Error("n must be 2");Db=Ua.bbox||ib(Ua);ub=Db[0];var Pb=Db[1],ab=Db[2],pb=Db[3],Qa;ub={scale:[ab-ub?(ab-ub)/(Qa-1):1,pb-Pb?(pb-Pb)/(Qa-1):1],translate:[ub,Pb]}}var Da=Yb(ub),Ka;Pb=
Ua.objects;ab={};for(Ka in Pb)ab[Ka]=Lb(Pb[Ka]);return{type:"Topology",bbox:Db,transform:ub,objects:ab,arcs:Ua.arcs.map(function(lb){var mb=0,Pa=1,xb=lb.length,sb,Qb=Array(xb);for(Qb[0]=Da(lb[0],0);++mb<xb;)if((sb=Da(lb[mb],mb))[0]||sb[1])Qb[Pa++]=sb;1===Pa&&(Qb[Pa++]=[0,0]);Qb.length=Pa;return Qb})}};v.transform=P;v.untransform=Yb;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[22]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function P(X){const Ca=k.array(X).slice(),Xa={};Ca.length||k.error("Missing time unit.");Ca.forEach(Jb=>{k.hasOwnProperty(Pa,Jb)?Xa[Jb]=1:k.error(`Invalid time unit: ${Jb}.`)});1<(Xa.week||Xa.day?1:0)+(Xa.quarter||Xa.month||
Xa.date?1:0)+(Xa.dayofyear?1:0)&&k.error(`Incompatible time units: ${X}`);Ca.sort((Jb,yc)=>Pa[Jb]-Pa[yc]);return Ca}function ib(X,Ca,Xa,Jb){function yc(sc){return X(sc=0===arguments.length?new Date:new Date(+sc)),sc}yc.floor=sc=>(X(sc=new Date(+sc)),sc);yc.ceil=sc=>(X(sc=new Date(sc-1)),Ca(sc,1),X(sc),sc);yc.round=sc=>{const xc=yc(sc),dd=yc.ceil(sc);return sc-xc<dd-sc?xc:dd};yc.offset=(sc,xc)=>(Ca(sc=new Date(+sc),null==xc?1:Math.floor(xc)),sc);yc.range=(sc,xc,dd)=>{const Zb=[];sc=yc.ceil(sc);dd=
null==dd?1:Math.floor(dd);if(!(sc<xc&&0<dd))return Zb;let Sc;do Zb.push(Sc=new Date(+sc)),Ca(sc,dd),X(sc);while(Sc<sc&&sc<xc);return Zb};yc.filter=sc=>ib(xc=>{if(xc>=xc)for(;X(xc),!sc(xc);)xc.setTime(xc-1)},(xc,dd)=>{if(xc>=xc)if(0>dd)for(;0>=++dd;)for(;Ca(xc,-1),!sc(xc););else for(;0<=--dd;)for(;Ca(xc,1),!sc(xc););});Xa&&(yc.count=(sc,xc)=>{sb.setTime(+sc);Qb.setTime(+xc);X(sb);X(Qb);return Math.floor(Xa(sb,Qb))},yc.every=sc=>{sc=Math.floor(sc);return isFinite(sc)&&0<sc?1<sc?yc.filter(Jb?xc=>0===
Jb(xc)%sc:xc=>0===yc.count(0,xc)%sc):yc:null});return yc}function Hb(X){return ib(Ca=>{Ca.setDate(Ca.getDate()-(Ca.getDay()+7-X)%7);Ca.setHours(0,0,0,0)},(Ca,Xa)=>{Ca.setDate(Ca.getDate()+7*Xa)},(Ca,Xa)=>(Xa-Ca-6E4*(Xa.getTimezoneOffset()-Ca.getTimezoneOffset()))/6048E5)}function ac(X){return ib(Ca=>{Ca.setUTCDate(Ca.getUTCDate()-(Ca.getUTCDay()+7-X)%7);Ca.setUTCHours(0,0,0,0)},(Ca,Xa)=>{Ca.setUTCDate(Ca.getUTCDate()+7*Xa)},(Ca,Xa)=>(Xa-Ca)/6048E5)}function vc(X,Ca){return null==X||null==Ca?NaN:X<
Ca?-1:X>Ca?1:X>=Ca?0:NaN}function Ac(X,Ca){return null==X||null==Ca?NaN:Ca<X?-1:Ca>X?1:Ca>=X?0:NaN}function uc(X){function Ca(sc,xc,dd=0,Zb=sc.length){if(dd<Zb){if(0!==Xa(xc,xc))return Zb;do{const Sc=dd+Zb>>>1;0>Jb(sc[Sc],xc)?dd=Sc+1:Zb=Sc}while(dd<Zb)}return dd}let Xa,Jb,yc;2!==X.length?(Xa=vc,Jb=(sc,xc)=>vc(X(sc),xc),yc=(sc,xc)=>X(sc)-xc):(Xa=X===vc||X===Ac?X:Cb,yc=Jb=X);return{left:Ca,center:function(sc,xc,dd=0,Zb=sc.length){Zb=Ca(sc,xc,dd,Zb-1);return Zb>dd&&yc(sc[Zb-1],xc)>-yc(sc[Zb],xc)?Zb-
1:Zb},right:function(sc,xc,dd=0,Zb=sc.length){if(dd<Zb){if(0!==Xa(xc,xc))return Zb;do{const Sc=dd+Zb>>>1;0>=Jb(sc[Sc],xc)?dd=Sc+1:Zb=Sc}while(dd<Zb)}return dd}}}function Cb(){return 0}function jc(X,Ca,Xa){var Jb=(Ca-X)/Math.max(0,Xa),yc=Math.floor(Math.log10(Jb));Jb/=Math.pow(10,yc);Jb=Jb>=B?10:Jb>=A?5:Jb>=E?2:1;let sc;0>yc?(sc=Math.pow(10,-yc)/Jb,yc=Math.round(X*sc),Jb=Math.round(Ca*sc),yc/sc<X&&++yc,Jb/sc>Ca&&--Jb,sc=-sc):(sc=Math.pow(10,yc)*Jb,yc=Math.round(X/sc),Jb=Math.round(Ca/sc),yc*sc<X&&
++yc,Jb*sc>Ca&&--Jb);return Jb<yc&&.5<=Xa&&2>Xa?jc(X,Ca,2*Xa):[yc,Jb,sc]}function Yb(X,Ca,Xa){return jc(+X,+Ca,+Xa)[2]}function Ua(X,Ca,Xa){Ca=+Ca;X=+X;Xa=+Xa;const Jb=Ca<X;X=Jb?Yb(Ca,X,Xa):Yb(X,Ca,Xa);return(Jb?-1:1)*(0>X?1/-X:X)}function ub(X){H.setFullYear(X);H.setMonth(0);H.setDate(1);H.setHours(0,0,0,0);return H}function Kb(X){return db.count(ub(X.getFullYear())-1,X)}function Lb(X){return q.count(ub(X.getFullYear())-1,X)}function Db(X,Ca,Xa,Jb,yc,sc,xc){return 0<=X&&100>X?(Ca=new Date(-1,Ca,
Xa,Jb,yc,sc,xc),Ca.setFullYear(X),Ca):new Date(X,Ca,Xa,Jb,yc,sc,xc)}function Pb(X){const Ca=Date.UTC(X.getUTCFullYear(),0,1);return ba.count(Ca-1,X)}function ab(X){const Ca=Date.UTC(X.getUTCFullYear(),0,1);return C.count(Ca-1,X)}function pb(X){H.setTime(Date.UTC(X,0,1));return H.getUTCDay()}function Qa(X,Ca,Xa,Jb,yc,sc,xc){return 0<=X&&100>X?(X=new Date(Date.UTC(-1,Ca,Xa,Jb,yc,sc,xc)),X.setUTCFullYear(Xa.y),X):new Date(Date.UTC(X,Ca,Xa,Jb,yc,sc,xc))}function Da(X,Ca,Xa,Jb,yc){const sc=Ca||1,xc=k.peek(X);
Ca=(gc,cc,Ic)=>{Ic=Ic||gc;return Ka(Xa[Ic],Jb[Ic],gc===xc&&sc,cc)};const dd=new Date;X=k.toSet(X);const Zb=X.year?Ca("year"):k.constant(2012),Sc=X.month?Ca("month"):X.quarter?Ca("quarter"):k.zero,Pd=X.week&&X.day?Ca("day",1,"weekday"):X.week?Ca("week",1):X.day?Ca("day",1):X.date?Ca("date",1):X.dayofyear?Ca("dayofyear",1):k.one,Ma=X.hours?Ca("hours"):k.zero,Vb=X.minutes?Ca("minutes"):k.zero,qb=X.seconds?Ca("seconds"):k.zero,Tb=X.milliseconds?Ca("milliseconds"):k.zero;return function(gc){dd.setTime(+gc);
gc=Zb(dd);return yc(gc,Sc(dd),Pd(dd,gc),Ma(dd),Vb(dd),qb(dd),Tb(dd))}}function Ka(X,Ca,Xa,Jb){const yc=1>=Xa?X:Jb?(sc,xc)=>Jb+Xa*Math.floor((X(sc,xc)-Jb)/Xa):(sc,xc)=>Xa*Math.floor(X(sc,xc)/Xa);return Ca?(sc,xc)=>Ca(yc(sc,xc),xc):yc}function lb(X,Ca,Xa){return Ca+7*X-(Xa+6)%7}const mb="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Pa=mb.reduce((X,Ca,Xa)=>(X[Ca]=1+Xa,X),{}),xb={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",
hours:"%H:00",minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},sb=new Date,Qb=new Date,Wb=ib(()=>{},(X,Ca)=>{X.setTime(+X+Ca)},(X,Ca)=>Ca-X);Wb.every=X=>{X=Math.floor(X);return isFinite(X)&&0<X?1<X?ib(Ca=>{Ca.setTime(Math.floor(Ca/X)*X)},(Ca,Xa)=>{Ca.setTime(+Ca+Xa*X)},(Ca,Xa)=>(Xa-Ca)/X):Wb:null};Wb.range;var nb=ib(X=>{X.setTime(X-X.getMilliseconds())},(X,Ca)=>{X.setTime(+X+1E3*Ca)},(X,Ca)=>(Ca-X)/1E3,X=>X.getUTCSeconds());
nb.range;var pa=ib(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds())},(X,Ca)=>{X.setTime(+X+6E4*Ca)},(X,Ca)=>(Ca-X)/6E4,X=>X.getMinutes());pa.range;var Z=ib(X=>{X.setUTCSeconds(0,0)},(X,Ca)=>{X.setTime(+X+6E4*Ca)},(X,Ca)=>(Ca-X)/6E4,X=>X.getUTCMinutes());Z.range;var Fa=ib(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds()-6E4*X.getMinutes())},(X,Ca)=>{X.setTime(+X+36E5*Ca)},(X,Ca)=>(Ca-X)/36E5,X=>X.getHours());Fa.range;var Ga=ib(X=>{X.setUTCMinutes(0,0,0)},(X,Ca)=>{X.setTime(+X+36E5*Ca)},
(X,Ca)=>(Ca-X)/36E5,X=>X.getUTCHours());Ga.range;const db=ib(X=>X.setHours(0,0,0,0),(X,Ca)=>X.setDate(X.getDate()+Ca),(X,Ca)=>(Ca-X-6E4*(Ca.getTimezoneOffset()-X.getTimezoneOffset()))/864E5,X=>X.getDate()-1);db.range;const ba=ib(X=>{X.setUTCHours(0,0,0,0)},(X,Ca)=>{X.setUTCDate(X.getUTCDate()+Ca)},(X,Ca)=>(Ca-X)/864E5,X=>X.getUTCDate()-1);ba.range;var ma=ib(X=>{X.setUTCHours(0,0,0,0)},(X,Ca)=>{X.setUTCDate(X.getUTCDate()+Ca)},(X,Ca)=>(Ca-X)/864E5,X=>Math.floor(X/864E5));ma.range;const q=Hb(0);ma=
Hb(1);var M=Hb(2),Q=Hb(3),g=Hb(4),u=Hb(5),m=Hb(6);q.range;ma.range;M.range;Q.range;g.range;u.range;m.range;const C=ac(0);ma=ac(1);M=ac(2);Q=ac(3);g=ac(4);u=ac(5);m=ac(6);C.range;ma.range;M.range;Q.range;g.range;u.range;m.range;ma=ib(X=>{X.setDate(1);X.setHours(0,0,0,0)},(X,Ca)=>{X.setMonth(X.getMonth()+Ca)},(X,Ca)=>Ca.getMonth()-X.getMonth()+12*(Ca.getFullYear()-X.getFullYear()),X=>X.getMonth());ma.range;M=ib(X=>{X.setUTCDate(1);X.setUTCHours(0,0,0,0)},(X,Ca)=>{X.setUTCMonth(X.getUTCMonth()+Ca)},
(X,Ca)=>Ca.getUTCMonth()-X.getUTCMonth()+12*(Ca.getUTCFullYear()-X.getUTCFullYear()),X=>X.getUTCMonth());M.range;Q=ib(X=>{X.setMonth(0,1);X.setHours(0,0,0,0)},(X,Ca)=>{X.setFullYear(X.getFullYear()+Ca)},(X,Ca)=>Ca.getFullYear()-X.getFullYear(),X=>X.getFullYear());Q.every=X=>isFinite(X=Math.floor(X))&&0<X?ib(Ca=>{Ca.setFullYear(Math.floor(Ca.getFullYear()/X)*X);Ca.setMonth(0,1);Ca.setHours(0,0,0,0)},(Ca,Xa)=>{Ca.setFullYear(Ca.getFullYear()+Xa*X)}):null;Q.range;g=ib(X=>{X.setUTCMonth(0,1);X.setUTCHours(0,
0,0,0)},(X,Ca)=>{X.setUTCFullYear(X.getUTCFullYear()+Ca)},(X,Ca)=>Ca.getUTCFullYear()-X.getUTCFullYear(),X=>X.getUTCFullYear());g.every=X=>isFinite(X=Math.floor(X))&&0<X?ib(Ca=>{Ca.setUTCFullYear(Math.floor(Ca.getUTCFullYear()/X)*X);Ca.setUTCMonth(0,1);Ca.setUTCHours(0,0,0,0)},(Ca,Xa)=>{Ca.setUTCFullYear(Ca.getUTCFullYear()+Xa*X)}):null;g.range;const B=Math.sqrt(50),A=Math.sqrt(10),E=Math.sqrt(2),H=new Date,V={year:X=>X.getFullYear(),quarter:X=>Math.floor(X.getMonth()/3),month:X=>X.getMonth(),date:X=>
X.getDate(),hours:X=>X.getHours(),minutes:X=>X.getMinutes(),seconds:X=>X.getSeconds(),milliseconds:X=>X.getMilliseconds(),dayofyear:X=>Kb(X),week:X=>Lb(X),weekday:(X,Ca)=>lb(Lb(X),X.getDay(),ub(Ca).getDay()),day:(X,Ca)=>lb(1,X.getDay(),ub(Ca).getDay())},Aa={quarter:X=>3*X,week:(X,Ca)=>lb(X,0,ub(Ca).getDay())},Y={year:X=>X.getUTCFullYear(),quarter:X=>Math.floor(X.getUTCMonth()/3),month:X=>X.getUTCMonth(),date:X=>X.getUTCDate(),hours:X=>X.getUTCHours(),minutes:X=>X.getUTCMinutes(),seconds:X=>X.getUTCSeconds(),
milliseconds:X=>X.getUTCMilliseconds(),dayofyear:X=>Pb(X),week:X=>ab(X),day:(X,Ca)=>lb(1,X.getUTCDay(),pb(Ca)),weekday:(X,Ca)=>lb(ab(X),X.getUTCDay(),pb(Ca))},t={quarter:X=>3*X,week:(X,Ca)=>lb(X,0,pb(Ca))},L={year:Q,quarter:ma.every(3),month:ma,week:q,date:db,day:db,dayofyear:db,hours:Fa,minutes:pa,seconds:nb,milliseconds:Wb},va={year:g,quarter:M.every(3),month:M,week:C,date:ba,day:ba,dayofyear:ba,hours:Ga,minutes:Z,seconds:nb,milliseconds:Wb},La="year month date hours minutes seconds milliseconds".split(" ");
nb=La.slice(0,-1);pa=nb.slice(0,-1);Z=pa.slice(0,-1);Fa=Z.slice(0,-1);Ga=["year","month"];const Wa=["year"],$a=[[nb,1,1E3],[nb,5,5E3],[nb,15,15E3],[nb,30,3E4],[pa,1,6E4],[pa,5,3E5],[pa,15,9E5],[pa,30,18E5],[Z,1,36E5],[Z,3,108E5],[Z,6,216E5],[Z,12,432E5],[Fa,1,864E5],[["year","week"],1,6048E5],[Ga,1,2592E6],[Ga,3,7776E6],[Wa,1,31536E6]];v.DATE="date";v.DAY="day";v.DAYOFYEAR="dayofyear";v.HOURS="hours";v.MILLISECONDS="milliseconds";v.MINUTES="minutes";v.MONTH="month";v.QUARTER="quarter";v.SECONDS="seconds";
v.TIME_UNITS=mb;v.WEEK="week";v.YEAR="year";v.dayofyear=function(X){return Kb(new Date(X))};v.timeBin=function(X){var Ca=X.extent;X=X.maxbins||40;var Xa=Math.abs(k.span(Ca))/X;let Jb=uc(yc=>yc[2]).right($a,Xa);Jb===$a.length?(Xa=Wa,Ca=Ua(Ca[0]/31536E6,Ca[1]/31536E6,X)):Jb?(Jb=$a[Xa/$a[Jb-1][2]<$a[Jb][2]/Xa?Jb-1:Jb],Xa=Jb[0],Ca=Jb[1]):(Xa=La,Ca=Math.max(Ua(Ca[0],Ca[1],X),1));return{units:Xa,step:Ca}};v.timeFloor=function(X,Ca){return Da(X,Ca||1,V,Aa,Db)};v.timeInterval=function(X){return L[X]};v.timeOffset=
function(X,Ca,Xa){return(X=L[X])?X.offset(Ca,Xa):void 0};v.timeSequence=function(X,Ca,Xa,Jb){return(X=L[X])?X.range(Ca,Xa,Jb):void 0};v.timeUnitSpecifier=function(X,Ca){Ca=k.extend({},xb,Ca);X=P(X);const Xa=X.length;let Jb="",yc,sc,xc;for(yc=0;yc<Xa;)for(sc=X.length;sc>yc;--sc)if(xc=X.slice(yc,sc).join("-"),null!=Ca[xc]){Jb+=Ca[xc];yc=sc;break}return Jb.trim()};v.timeUnits=P;v.utcFloor=function(X,Ca){return Da(X,Ca||1,Y,t,Qa)};v.utcInterval=function(X){return va[X]};v.utcOffset=function(X,Ca,Xa){return(X=
va[X])?X.offset(Ca,Xa):void 0};v.utcSequence=function(X,Ca,Xa,Jb){return(X=va[X])?X.range(Ca,Xa,Jb):void 0};v.utcdayofyear=function(X){return Pb(new Date(X))};v.utcweek=function(X){return ab(new Date(X))};v.week=function(X){return Lb(new Date(X))}})};
shadow$provide[23]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(22),Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(Ra){const eb={};return oc=>eb[oc]||(eb[oc]=Ra(oc))}function Hb(Ra,eb,oc){var vd=(eb-Ra)/Math.max(0,oc),Lc=Math.floor(Math.log10(vd));vd/=Math.pow(10,Lc);vd=vd>=de?10:vd>=Ud?5:vd>=
Ve?2:1;let Wc;0>Lc?(Wc=Math.pow(10,-Lc)/vd,Lc=Math.round(Ra*Wc),vd=Math.round(eb*Wc),Lc/Wc<Ra&&++Lc,vd/Wc>eb&&--vd,Wc=-Wc):(Wc=Math.pow(10,Lc)*vd,Lc=Math.round(Ra/Wc),vd=Math.round(eb/Wc),Lc*Wc<Ra&&++Lc,vd*Wc>eb&&--vd);return vd<Lc&&.5<=oc&&2>oc?Hb(Ra,eb,2*oc):[Lc,vd,Wc]}function ac(Ra,eb,oc){return Hb(+Ra,+eb,+oc)[2]}function vc(Ra,eb){if(0>(eb=(Ra=eb?Ra.toExponential(eb-1):Ra.toExponential()).indexOf("e")))return null;var oc=Ra.slice(0,eb);return[1<oc.length?oc[0]+oc.slice(2):oc,+Ra.slice(eb+1)]}
function Ac(Ra){return Ra=vc(Math.abs(Ra)),Ra?Ra[1]:NaN}function uc(Ra,eb){return function(oc,vd){for(var Lc=oc.length,Wc=[],Qc=0,sd=Ra[0],jd=0;0<Lc&&0<sd;){jd+sd+1>vd&&(sd=Math.max(1,vd-jd));Wc.push(oc.substring(Lc-=sd,Lc+sd));if((jd+=sd+1)>vd)break;sd=Ra[Qc=(Qc+1)%Ra.length]}return Wc.reverse().join(eb)}}function Cb(Ra){return function(eb){return eb.replace(/[0-9]/g,function(oc){return Ra[+oc]})}}function jc(Ra){if(!(eb=Xd.exec(Ra)))throw Error("invalid format: "+Ra);var eb;return new Yb({fill:eb[1],
align:eb[2],sign:eb[3],symbol:eb[4],zero:eb[5],width:eb[6],comma:eb[7],precision:eb[8]&&eb[8].slice(1),trim:eb[9],type:eb[10]})}function Yb(Ra){this.fill=void 0===Ra.fill?" ":Ra.fill+"";this.align=void 0===Ra.align?"\x3e":Ra.align+"";this.sign=void 0===Ra.sign?"-":Ra.sign+"";this.symbol=void 0===Ra.symbol?"":Ra.symbol+"";this.zero=!!Ra.zero;this.width=void 0===Ra.width?void 0:+Ra.width;this.comma=!!Ra.comma;this.precision=void 0===Ra.precision?void 0:+Ra.precision;this.trim=!!Ra.trim;this.type=void 0===
Ra.type?"":Ra.type+""}function Ua(Ra,eb){eb=vc(Ra,eb);if(!eb)return Ra+"";Ra=eb[0];eb=eb[1];return 0>eb?"0."+Array(-eb).join("0")+Ra:Ra.length>eb+1?Ra.slice(0,eb+1)+"."+Ra.slice(eb+1):Ra+Array(eb-Ra.length+2).join("0")}function ub(Ra){return Ra}function Kb(Ra){function eb(Cd){function be(I){var ka=ce,ta=le,Ja,jb;if("c"===Vd)ta=O(I)+ta,I="";else{I=+I;var vb=0>I||0>1/I;I=isNaN(I)?Od:O(Math.abs(I),Fc);if(Jd){var pc=I.length,qc=1,rc=-1;a:for(;qc<pc;++qc)switch(I[qc]){case ".":rc=Ja=qc;break;case "0":0===
rc&&(rc=qc);Ja=qc;break;default:if(!+I[qc])break a;0<rc&&(rc=0)}I=0<rc?I.slice(0,rc)+I.slice(Ja+1):I}vb&&0===+I&&"+"!==Xe&&(vb=!1);ka=(vb?"("===Xe?Xe:jd:"-"===Xe||"("===Xe?"":Xe)+ka;ta=("s"===Vd?fb[8+N/3]:"")+ta+(vb&&"("===Xe?")":"");if(ea)for(vb=-1,Ja=I.length;++vb<Ja;)if(jb=I.charCodeAt(vb),48>jb||57<jb){ta=(46===jb?Wc+I.slice(vb+1):I.slice(vb))+ta;I=I.slice(0,vb);break}}kd&&!od&&(I=oc(I,Infinity));jb=ka.length+I.length+ta.length;vb=jb<Ec?Array(Ec-jb+1).join(xe):"";kd&&od&&(I=oc(vb+I,vb.length?
Ec-ta.length:Infinity),vb="");switch(Le){case "\x3c":I=ka+I+ta+vb;break;case "\x3d":I=ka+vb+I+ta;break;case "^":I=vb.slice(0,jb=vb.length>>1)+ka+I+ta+vb.slice(jb);break;default:I=vb+ka+I+ta}return Qc(I)}Cd=jc(Cd);var xe=Cd.fill,Le=Cd.align,Xe=Cd.sign,df=Cd.symbol,od=Cd.zero,Ec=Cd.width,kd=Cd.comma,Fc=Cd.precision,Jd=Cd.trim,Vd=Cd.type;"n"===Vd?(kd=!0,Vd="g"):la[Vd]||(void 0===Fc&&(Fc=12),Jd=!0,Vd="g");if(od||"0"===xe&&"\x3d"===Le)od=!0,xe="0",Le="\x3d";var ce="$"===df?vd:"#"===df&&/[boxX]/.test(Vd)?
"0"+Vd.toLowerCase():"",le="$"===df?Lc:/[%p]/.test(Vd)?sd:"",O=la[Vd],ea=/[defgprs%]/.test(Vd);Fc=void 0===Fc?6:/[gprs]/.test(Vd)?Math.max(1,Math.min(21,Fc)):Math.max(0,Math.min(20,Fc));be.toString=function(){return Cd+""};return be}var oc=void 0===Ra.grouping||void 0===Ra.thousands?ub:uc(za.call(Ra.grouping,Number),Ra.thousands+""),vd=void 0===Ra.currency?"":Ra.currency[0]+"",Lc=void 0===Ra.currency?"":Ra.currency[1]+"",Wc=void 0===Ra.decimal?".":Ra.decimal+"",Qc=void 0===Ra.numerals?ub:Cb(za.call(Ra.numerals,
String)),sd=void 0===Ra.percent?"%":Ra.percent+"",jd=void 0===Ra.minus?"":Ra.minus+"",Od=void 0===Ra.nan?"NaN":Ra.nan+"";return{format:eb,formatPrefix:function(Cd,be){var xe=eb((Cd=jc(Cd),Cd.type="f",Cd));Cd=3*Math.max(-8,Math.min(8,Math.floor(Ac(be)/3)));var Le=Math.pow(10,-Cd),Xe=fb[8+Cd/3];return function(df){return xe(Le*df)+Xe}}}}function Lb(Ra,eb){return oc=>{oc=Ra(oc);const vd=oc.indexOf(eb);if(0>vd)return oc;a:{var Lc=oc.lastIndexOf("e");if(!(0<Lc)){for(Lc=oc.length;--Lc>vd;){var Wc=oc.charCodeAt(Lc);
if(48<=Wc&&57>=Wc){Lc+=1;break a}}Lc=void 0}}for(Wc=Lc<oc.length?oc.slice(Lc):"";--Lc>vd;)if("0"!==oc[Lc]){++Lc;break}return oc.slice(0,Lc)+Wc}}function Db(Ra){const eb=ib(Ra.format),oc=Ra.formatPrefix;return{format:eb,formatPrefix:oc,formatFloat(vd){vd=jc(vd||",");if(null==vd.precision){vd.precision=12;switch(vd.type){case "%":vd.precision-=2;break;case "e":--vd.precision}return Lb(eb(vd),eb(".1f")(1)[1])}return eb(vd)},formatSpan(vd,Lc,Wc,Qc){Qc=jc(null==Qc?",f":Qc);var sd=+Lc;var jd=+vd;var Od=
+Wc;jd=(Wc=sd<jd)?ac(sd,jd,Od):ac(jd,sd,Od);jd=(Wc?-1:1)*(0>jd?1/-jd:jd);vd=Math.max(Math.abs(vd),Math.abs(Lc));if(null==Qc.precision)switch(Qc.type){case "s":return Lc=isNaN,jd=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ac(vd)/3)))-Ac(Math.abs(jd))),Lc(Lc=jd)||(Qc.precision=Lc),oc(Qc,vd);case "":case "e":case "g":case "p":case "r":Lc=isNaN;jd=Math.abs(jd);vd=Math.abs(vd)-jd;vd=Math.max(0,Ac(vd)-Ac(jd))+1;Lc(Lc=vd)||(Qc.precision=Lc-("e"===Qc.type));break;case "f":case "%":isNaN(Lc=Math.max(0,
-Ac(Math.abs(jd))))||(Qc.precision=Lc-2*("%"===Qc.type))}return eb(Qc)}}}function Pb(){return lc=Db({format:Xb,formatPrefix:Bc})}function ab(Ra){return Db(Kb(Ra))}function pb(Ra){return arguments.length?lc=ab(Ra):lc}function Qa(Ra,eb,oc,vd){function Lc(Wc){return Ra(Wc=0===arguments.length?new Date:new Date(+Wc)),Wc}Lc.floor=Wc=>(Ra(Wc=new Date(+Wc)),Wc);Lc.ceil=Wc=>(Ra(Wc=new Date(Wc-1)),eb(Wc,1),Ra(Wc),Wc);Lc.round=Wc=>{const Qc=Lc(Wc),sd=Lc.ceil(Wc);return Wc-Qc<sd-Wc?Qc:sd};Lc.offset=(Wc,Qc)=>
(eb(Wc=new Date(+Wc),null==Qc?1:Math.floor(Qc)),Wc);Lc.range=(Wc,Qc,sd)=>{const jd=[];Wc=Lc.ceil(Wc);sd=null==sd?1:Math.floor(sd);if(!(Wc<Qc&&0<sd))return jd;let Od;do jd.push(Od=new Date(+Wc)),eb(Wc,sd),Ra(Wc);while(Od<Wc&&Wc<Qc);return jd};Lc.filter=Wc=>Qa(Qc=>{if(Qc>=Qc)for(;Ra(Qc),!Wc(Qc);)Qc.setTime(Qc-1)},(Qc,sd)=>{if(Qc>=Qc)if(0>sd)for(;0>=++sd;)for(;eb(Qc,-1),!Wc(Qc););else for(;0<=--sd;)for(;eb(Qc,1),!Wc(Qc););});oc&&(Lc.count=(Wc,Qc)=>{Gc.setTime(+Wc);id.setTime(+Qc);Ra(Gc);Ra(id);return Math.floor(oc(Gc,
id))},Lc.every=Wc=>{Wc=Math.floor(Wc);return isFinite(Wc)&&0<Wc?1<Wc?Lc.filter(vd?Qc=>0===vd(Qc)%Wc:Qc=>0===Lc.count(0,Qc)%Wc):Lc:null});return Lc}function Da(Ra){return Qa(eb=>{eb.setDate(eb.getDate()-(eb.getDay()+7-Ra)%7);eb.setHours(0,0,0,0)},(eb,oc)=>{eb.setDate(eb.getDate()+7*oc)},(eb,oc)=>(oc-eb-6E4*(oc.getTimezoneOffset()-eb.getTimezoneOffset()))/6048E5)}function Ka(Ra){return Qa(eb=>{eb.setUTCDate(eb.getUTCDate()-(eb.getUTCDay()+7-Ra)%7);eb.setUTCHours(0,0,0,0)},(eb,oc)=>{eb.setUTCDate(eb.getUTCDate()+
7*oc)},(eb,oc)=>(oc-eb)/6048E5)}function lb(Ra){if(0<=Ra.y&&100>Ra.y){var eb=new Date(-1,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L);eb.setFullYear(Ra.y);return eb}return new Date(Ra.y,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L)}function mb(Ra){if(0<=Ra.y&&100>Ra.y){var eb=new Date(Date.UTC(-1,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L));eb.setUTCFullYear(Ra.y);return eb}return new Date(Date.UTC(Ra.y,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L))}function Pa(Ra,eb,oc){return{y:Ra,m:eb,d:oc,H:0,M:0,S:0,L:0}}function xb(Ra){function eb(ea,I){return function(ka){var ta=
[],Ja=-1,jb=0,vb=ea.length,pc,qc;for(ka instanceof Date||(ka=new Date(+ka));++Ja<vb;)if(37===ea.charCodeAt(Ja)){ta.push(ea.slice(jb,Ja));null!=(jb=$b[pc=ea.charAt(++Ja)])?pc=ea.charAt(++Ja):jb="e"===pc?" ":"0";if(qc=I[pc])pc=qc(ka,jb);ta.push(pc);jb=Ja+1}ta.push(ea.slice(jb,Ja));return ta.join("")}}function oc(ea,I){return function(ka){var ta=Pa(1900,void 0,1);if(vd(ta,ea,ka+="",0)!=ka.length)return null;if("Q"in ta)return new Date(ta.Q);if("s"in ta)return new Date(1E3*ta.s+("L"in ta?ta.L:0));!I||
"Z"in ta||(ta.Z=0);"p"in ta&&(ta.H=ta.H%12+12*ta.p);void 0===ta.m&&(ta.m="q"in ta?ta.q:0);if("V"in ta){if(1>ta.V||53<ta.V)return null;"w"in ta||(ta.w=1);if("Z"in ta){ka=mb(Pa(ta.y,0,1));var Ja=ka.getUTCDay();ka=4<Ja||0===Ja?se.ceil(ka):se(ka);ka=rd.offset(ka,7*(ta.V-1));ta.y=ka.getUTCFullYear();ta.m=ka.getUTCMonth();ta.d=ka.getUTCDate()+(ta.w+6)%7}else ka=lb(Pa(ta.y,0,1)),Ja=ka.getDay(),ka=4<Ja||0===Ja?$d.ceil(ka):$d(ka),ka=Nc.offset(ka,7*(ta.V-1)),ta.y=ka.getFullYear(),ta.m=ka.getMonth(),ta.d=ka.getDate()+
(ta.w+6)%7}else if("W"in ta||"U"in ta)"w"in ta||(ta.w="u"in ta?ta.u%7:"W"in ta?1:0),Ja="Z"in ta?mb(Pa(ta.y,0,1)).getUTCDay():lb(Pa(ta.y,0,1)).getDay(),ta.m=0,ta.d="W"in ta?(ta.w+6)%7+7*ta.W-(Ja+5)%7:ta.w+7*ta.U-(Ja+6)%7;return"Z"in ta?(ta.H+=ta.Z/100|0,ta.M+=ta.Z%100,mb(ta)):lb(ta)}}function vd(ea,I,ka,ta){for(var Ja=0,jb=I.length,vb=ka.length,pc;Ja<jb;){if(ta>=vb)return-1;pc=I.charCodeAt(Ja++);if(37===pc){if(pc=I.charAt(Ja++),pc=O[pc in $b?I.charAt(Ja++):pc],!pc||0>(ta=pc(ea,ka,ta)))return-1}else if(pc!=
ka.charCodeAt(ta++))return-1}return ta}var Lc=Ra.dateTime,Wc=Ra.date,Qc=Ra.time,sd=Ra.periods,jd=Ra.days,Od=Ra.shortDays,Cd=Ra.months,be=Ra.shortMonths,xe=Wb(sd),Le=nb(sd),Xe=Wb(jd),df=nb(jd),od=Wb(Od),Ec=nb(Od),kd=Wb(Cd),Fc=nb(Cd),Jd=Wb(be),Vd=nb(be),ce={a:function(ea){return Od[ea.getDay()]},A:function(ea){return jd[ea.getDay()]},b:function(ea){return be[ea.getMonth()]},B:function(ea){return Cd[ea.getMonth()]},c:null,d:Y,e:Y,f:Wa,g:Sc,G:Ma,H:t,I:L,j:va,L:La,m:$a,M:X,p:function(ea){return sd[+(12<=
ea.getHours())]},q:function(ea){return 1+~~(ea.getMonth()/3)},Q:ic,s:Vc,S:Ca,u:Xa,U:Jb,V:sc,w:xc,W:dd,x:null,X:null,y:Zb,Y:Pd,Z:Vb,"%":dc},le={a:function(ea){return Od[ea.getUTCDay()]},A:function(ea){return jd[ea.getUTCDay()]},b:function(ea){return be[ea.getUTCMonth()]},B:function(ea){return Cd[ea.getUTCMonth()]},c:null,d:qb,e:qb,f:zc,g:Za,G:Gb,H:Tb,I:gc,j:cc,L:Ic,m:Zc,M:Md,p:function(ea){return sd[+(12<=ea.getUTCHours())]},q:function(ea){return 1+~~(ea.getUTCMonth()/3)},Q:ic,s:Vc,S:td,u:Ha,U:gb,
V:sa,w:F,W:ya,x:null,X:null,y:Na,Y:kb,Z:nc,"%":dc},O={a:function(ea,I,ka){return(I=od.exec(I.slice(ka)))?(ea.w=Ec.get(I[0].toLowerCase()),ka+I[0].length):-1},A:function(ea,I,ka){return(I=Xe.exec(I.slice(ka)))?(ea.w=df.get(I[0].toLowerCase()),ka+I[0].length):-1},b:function(ea,I,ka){return(I=Jd.exec(I.slice(ka)))?(ea.m=Vd.get(I[0].toLowerCase()),ka+I[0].length):-1},B:function(ea,I,ka){return(I=kd.exec(I.slice(ka)))?(ea.m=Fc.get(I[0].toLowerCase()),ka+I[0].length):-1},c:function(ea,I,ka){return vd(ea,
Lc,I,ka)},d:g,e:g,f:E,g:ma,G:ba,H:m,I:m,j:u,L:A,m:Q,M:C,p:function(ea,I,ka){return(I=xe.exec(I.slice(ka)))?(ea.p=Le.get(I[0].toLowerCase()),ka+I[0].length):-1},q:M,Q:V,s:Aa,S:B,u:Z,U:Fa,V:Ga,w:pa,W:db,x:function(ea,I,ka){return vd(ea,Wc,I,ka)},X:function(ea,I,ka){return vd(ea,Qc,I,ka)},y:ma,Y:ba,Z:q,"%":H};ce.x=eb(Wc,ce);ce.X=eb(Qc,ce);ce.c=eb(Lc,ce);le.x=eb(Wc,le);le.X=eb(Qc,le);le.c=eb(Lc,le);return{format:function(ea){var I=eb(ea+="",ce);I.toString=function(){return ea};return I},parse:function(ea){var I=
oc(ea+="",!1);I.toString=function(){return ea};return I},utcFormat:function(ea){var I=eb(ea+="",le);I.toString=function(){return ea};return I},utcParse:function(ea){var I=oc(ea+="",!0);I.toString=function(){return ea};return I}}}function sb(Ra,eb,oc){var vd=0>Ra?"-":"";Ra=(vd?-Ra:Ra)+"";var Lc=Ra.length;return vd+(Lc<oc?Array(oc-Lc+1).join(eb)+Ra:Ra)}function Qb(Ra){return Ra.replace(Sa,"\\$\x26")}function Wb(Ra){return new RegExp("^(?:"+Ra.map(Qb).join("|")+")","i")}function nb(Ra){return new Map(Ra.map((eb,
oc)=>[eb.toLowerCase(),oc]))}function pa(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+1)))?(Ra.w=+eb[0],oc+eb[0].length):-1}function Z(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+1)))?(Ra.u=+eb[0],oc+eb[0].length):-1}function Fa(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Ra.U=+eb[0],oc+eb[0].length):-1}function Ga(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Ra.V=+eb[0],oc+eb[0].length):-1}function db(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Ra.W=+eb[0],oc+eb[0].length):-1}function ba(Ra,
eb,oc){return(eb=J.exec(eb.slice(oc,oc+4)))?(Ra.y=+eb[0],oc+eb[0].length):-1}function ma(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Ra.y=+eb[0]+(68<+eb[0]?1900:2E3),oc+eb[0].length):-1}function q(Ra,eb,oc){return(eb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(eb.slice(oc,oc+6)))?(Ra.Z=eb[1]?0:-(eb[2]+(eb[3]||"00")),oc+eb[0].length):-1}function M(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+1)))?(Ra.q=3*eb[0]-3,oc+eb[0].length):-1}function Q(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Ra.m=eb[0]-1,oc+
eb[0].length):-1}function g(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Ra.d=+eb[0],oc+eb[0].length):-1}function u(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+3)))?(Ra.m=0,Ra.d=+eb[0],oc+eb[0].length):-1}function m(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Ra.H=+eb[0],oc+eb[0].length):-1}function C(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Ra.M=+eb[0],oc+eb[0].length):-1}function B(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Ra.S=+eb[0],oc+eb[0].length):-1}function A(Ra,eb,oc){return(eb=
J.exec(eb.slice(oc,oc+3)))?(Ra.L=+eb[0],oc+eb[0].length):-1}function E(Ra,eb,oc){return(eb=J.exec(eb.slice(oc,oc+6)))?(Ra.L=Math.floor(eb[0]/1E3),oc+eb[0].length):-1}function H(Ra,eb,oc){return(Ra=fa.exec(eb.slice(oc,oc+1)))?oc+Ra[0].length:-1}function V(Ra,eb,oc){return(eb=J.exec(eb.slice(oc)))?(Ra.Q=+eb[0],oc+eb[0].length):-1}function Aa(Ra,eb,oc){return(eb=J.exec(eb.slice(oc)))?(Ra.s=+eb[0],oc+eb[0].length):-1}function Y(Ra,eb){return sb(Ra.getDate(),eb,2)}function t(Ra,eb){return sb(Ra.getHours(),
eb,2)}function L(Ra,eb){return sb(Ra.getHours()%12||12,eb,2)}function va(Ra,eb){return sb(1+Nc.count(ec(Ra),Ra),eb,3)}function La(Ra,eb){return sb(Ra.getMilliseconds(),eb,3)}function Wa(Ra,eb){return La(Ra,eb)+"000"}function $a(Ra,eb){return sb(Ra.getMonth()+1,eb,2)}function X(Ra,eb){return sb(Ra.getMinutes(),eb,2)}function Ca(Ra,eb){return sb(Ra.getSeconds(),eb,2)}function Xa(Ra){Ra=Ra.getDay();return 0===Ra?7:Ra}function Jb(Ra,eb){return sb(Gd.count(ec(Ra)-1,Ra),eb,2)}function yc(Ra){var eb=Ra.getDay();
return 4<=eb||0===eb?Ae(Ra):Ae.ceil(Ra)}function sc(Ra,eb){Ra=yc(Ra);return sb(Ae.count(ec(Ra),Ra)+(4===ec(Ra).getDay()),eb,2)}function xc(Ra){return Ra.getDay()}function dd(Ra,eb){return sb($d.count(ec(Ra)-1,Ra),eb,2)}function Zb(Ra,eb){return sb(Ra.getFullYear()%100,eb,2)}function Sc(Ra,eb){Ra=yc(Ra);return sb(Ra.getFullYear()%100,eb,2)}function Pd(Ra,eb){return sb(Ra.getFullYear()%1E4,eb,4)}function Ma(Ra,eb){var oc=Ra.getDay();Ra=4<=oc||0===oc?Ae(Ra):Ae.ceil(Ra);return sb(Ra.getFullYear()%1E4,
eb,4)}function Vb(Ra){Ra=Ra.getTimezoneOffset();return(0<Ra?"-":(Ra*=-1,"+"))+sb(Ra/60|0,"0",2)+sb(Ra%60,"0",2)}function qb(Ra,eb){return sb(Ra.getUTCDate(),eb,2)}function Tb(Ra,eb){return sb(Ra.getUTCHours(),eb,2)}function gc(Ra,eb){return sb(Ra.getUTCHours()%12||12,eb,2)}function cc(Ra,eb){return sb(1+rd.count(Cc(Ra),Ra),eb,3)}function Ic(Ra,eb){return sb(Ra.getUTCMilliseconds(),eb,3)}function zc(Ra,eb){return Ic(Ra,eb)+"000"}function Zc(Ra,eb){return sb(Ra.getUTCMonth()+1,eb,2)}function Md(Ra,
eb){return sb(Ra.getUTCMinutes(),eb,2)}function td(Ra,eb){return sb(Ra.getUTCSeconds(),eb,2)}function Ha(Ra){Ra=Ra.getUTCDay();return 0===Ra?7:Ra}function gb(Ra,eb){return sb(cf.count(Cc(Ra)-1,Ra),eb,2)}function wb(Ra){var eb=Ra.getUTCDay();return 4<=eb||0===eb?ua(Ra):ua.ceil(Ra)}function sa(Ra,eb){Ra=wb(Ra);return sb(ua.count(Cc(Ra),Ra)+(4===Cc(Ra).getUTCDay()),eb,2)}function F(Ra){return Ra.getUTCDay()}function ya(Ra,eb){return sb(se.count(Cc(Ra)-1,Ra),eb,2)}function Na(Ra,eb){return sb(Ra.getUTCFullYear()%
100,eb,2)}function Za(Ra,eb){Ra=wb(Ra);return sb(Ra.getUTCFullYear()%100,eb,2)}function kb(Ra,eb){return sb(Ra.getUTCFullYear()%1E4,eb,4)}function Gb(Ra,eb){var oc=Ra.getUTCDay();Ra=4<=oc||0===oc?ua(Ra):ua.ceil(Ra);return sb(Ra.getUTCFullYear()%1E4,eb,4)}function nc(){return"+0000"}function dc(){return"%"}function ic(Ra){return+Ra}function Vc(Ra){return Math.floor(+Ra/1E3)}function ed(Ra,eb,oc){oc=oc||{};P.isObject(oc)||P.error(`Invalid time multi-format specifier: ${oc}`);const vd=eb(k.SECONDS),
Lc=eb(k.MINUTES),Wc=eb(k.HOURS),Qc=eb(k.DATE),sd=eb(k.WEEK),jd=eb(k.MONTH),Od=eb(k.QUARTER),Cd=eb(k.YEAR),be=Ra(oc[k.MILLISECONDS]||".%L"),xe=Ra(oc[k.SECONDS]||":%S"),Le=Ra(oc[k.MINUTES]||"%I:%M"),Xe=Ra(oc[k.HOURS]||"%I %p"),df=Ra(oc[k.DATE]||oc[k.DAY]||"%a %d"),od=Ra(oc[k.WEEK]||"%b %d"),Ec=Ra(oc[k.MONTH]||"%B"),kd=Ra(oc[k.QUARTER]||"%B"),Fc=Ra(oc[k.YEAR]||"%Y");return Jd=>(vd(Jd)<Jd?be:Lc(Jd)<Jd?xe:Wc(Jd)<Jd?Le:Qc(Jd)<Jd?Xe:jd(Jd)<Jd?sd(Jd)<Jd?df:od:Cd(Jd)<Jd?Od(Jd)<Jd?Ec:kd:Fc)(Jd)}function fd(Ra){const eb=
ib(Ra.format),oc=ib(Ra.utcFormat);return{timeFormat:vd=>P.isString(vd)?eb(vd):ed(eb,k.timeInterval,vd),utcFormat:vd=>P.isString(vd)?oc(vd):ed(oc,k.utcInterval,vd),timeParse:ib(Ra.parse),utcParse:ib(Ra.utcParse)}}function Qd(){return ee=fd({format:Pc,parse:Dc,utcFormat:Tc,utcParse:gd})}function Td(Ra){return fd(xb(Ra))}function Fd(Ra){return arguments.length?ee=Td(Ra):ee}function Zd(Ra,eb){var oc=arguments.length;oc&&2!==oc&&P.error("defaultLocale expects either zero or two arguments.");if(oc){oc=
pb(Ra);var vd=Fd(eb);oc=P.extend({},oc,vd)}else oc=pb(),vd=Fd(),oc=P.extend({},oc,vd);return oc}const de=Math.sqrt(50),Ud=Math.sqrt(10),Ve=Math.sqrt(2);var Xd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;jc.prototype=Yb.prototype;Yb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var N,la={"%":(Ra,eb)=>(100*Ra).toFixed(eb),b:Ra=>Math.round(Ra).toString(2),c:Ra=>Ra+"",d:function(Ra){return 1E21<=Math.abs(Ra=Math.round(Ra))?Ra.toLocaleString("en").replace(/,/g,""):Ra.toString(10)},e:(Ra,eb)=>Ra.toExponential(eb),f:(Ra,eb)=>Ra.toFixed(eb),g:(Ra,eb)=>Ra.toPrecision(eb),o:Ra=>Math.round(Ra).toString(8),p:(Ra,eb)=>Ua(100*Ra,eb),r:Ua,s:function(Ra,eb){var oc=vc(Ra,eb);if(!oc)return Ra+"";var vd=oc[0];oc=oc[1];oc=oc-(N=3*Math.max(-8,Math.min(8,Math.floor(oc/3))))+
1;var Lc=vd.length;return oc===Lc?vd:oc>Lc?vd+Array(oc-Lc+1).join("0"):0<oc?vd.slice(0,oc)+"."+vd.slice(oc):"0."+Array(1-oc).join("0")+vc(Ra,Math.max(0,eb+oc-1))[0]},X:Ra=>Math.round(Ra).toString(16).toUpperCase(),x:Ra=>Math.round(Ra).toString(16)},za=Array.prototype.map,fb="y z a f p n  m  k M G T P E Z Y".split(" "),Ib,Xb,Bc;(function(Ra){Ib=Kb(Ra);Xb=Ib.format;Bc=Ib.formatPrefix;return Ib})({thousands:",",grouping:[3],currency:["$",""]});let lc;Pb();const Gc=new Date,id=new Date,Nc=Qa(Ra=>Ra.setHours(0,
0,0,0),(Ra,eb)=>Ra.setDate(Ra.getDate()+eb),(Ra,eb)=>(eb-Ra-6E4*(eb.getTimezoneOffset()-Ra.getTimezoneOffset()))/864E5,Ra=>Ra.getDate()-1);Nc.range;const rd=Qa(Ra=>{Ra.setUTCHours(0,0,0,0)},(Ra,eb)=>{Ra.setUTCDate(Ra.getUTCDate()+eb)},(Ra,eb)=>(eb-Ra)/864E5,Ra=>Ra.getUTCDate()-1);rd.range;const Hd=Qa(Ra=>{Ra.setUTCHours(0,0,0,0)},(Ra,eb)=>{Ra.setUTCDate(Ra.getUTCDate()+eb)},(Ra,eb)=>(eb-Ra)/864E5,Ra=>Math.floor(Ra/864E5));Hd.range;const Gd=Da(0),$d=Da(1),Wd=Da(2),ae=Da(3),Ae=Da(4),kf=Da(5),hf=Da(6);
Gd.range;$d.range;Wd.range;ae.range;Ae.range;kf.range;hf.range;const cf=Ka(0),se=Ka(1),uf=Ka(2),U=Ka(3),ua=Ka(4),cb=Ka(5),Ab=Ka(6);cf.range;se.range;uf.range;U.range;ua.range;cb.range;Ab.range;const ec=Qa(Ra=>{Ra.setMonth(0,1);Ra.setHours(0,0,0,0)},(Ra,eb)=>{Ra.setFullYear(Ra.getFullYear()+eb)},(Ra,eb)=>eb.getFullYear()-Ra.getFullYear(),Ra=>Ra.getFullYear());ec.every=Ra=>isFinite(Ra=Math.floor(Ra))&&0<Ra?Qa(eb=>{eb.setFullYear(Math.floor(eb.getFullYear()/Ra)*Ra);eb.setMonth(0,1);eb.setHours(0,0,0,
0)},(eb,oc)=>{eb.setFullYear(eb.getFullYear()+oc*Ra)}):null;ec.range;const Cc=Qa(Ra=>{Ra.setUTCMonth(0,1);Ra.setUTCHours(0,0,0,0)},(Ra,eb)=>{Ra.setUTCFullYear(Ra.getUTCFullYear()+eb)},(Ra,eb)=>eb.getUTCFullYear()-Ra.getUTCFullYear(),Ra=>Ra.getUTCFullYear());Cc.every=Ra=>isFinite(Ra=Math.floor(Ra))&&0<Ra?Qa(eb=>{eb.setUTCFullYear(Math.floor(eb.getUTCFullYear()/Ra)*Ra);eb.setUTCMonth(0,1);eb.setUTCHours(0,0,0,0)},(eb,oc)=>{eb.setUTCFullYear(eb.getUTCFullYear()+oc*Ra)}):null;Cc.range;var $b={"-":"",
_:" ",0:"0"},J=/^\s*\d+/,fa=/^%/,Sa=/[\\^$*+?|[\]().{}]/g,bc,Pc,Dc,Tc,gd;(function(Ra){bc=xb(Ra);Pc=bc.format;Dc=bc.parse;Tc=bc.utcFormat;gd=bc.utcParse;return bc})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
let ee;Qd();v.defaultLocale=Zd;v.locale=function(Ra,eb){Ra=Ra?ab(Ra):pb();eb=eb?Td(eb):Fd();return P.extend({},Ra,eb)};v.numberFormatDefaultLocale=pb;v.numberFormatLocale=ab;v.resetDefaultLocale=function(){Pb();Qd();return Zd()};v.resetNumberFormatDefaultLocale=Pb;v.resetTimeFormatDefaultLocale=Qd;v.timeFormatDefaultLocale=Fd;v.timeFormatLocale=Td})};
shadow$provide[24]=function(fc,Fb,Xc,ob){function v(Hb){var ac=Hb.length;if(0<ac%4)throw Error("Invalid string. Length must be a multiple of 4");Hb=Hb.indexOf("\x3d");-1===Hb&&(Hb=ac);return[Hb,Hb===ac?0:4-Hb%4]}ob.byteLength=function(Hb){Hb=v(Hb);var ac=Hb[1];return 3*(Hb[0]+ac)/4-ac};ob.toByteArray=function(Hb){var ac=v(Hb);var vc=ac[0];ac=ac[1];var Ac=new ib(3*(vc+ac)/4-ac),uc=0,Cb=0<ac?vc-4:vc,jc;for(jc=0;jc<Cb;jc+=4)vc=P[Hb.charCodeAt(jc)]<<18|P[Hb.charCodeAt(jc+1)]<<12|P[Hb.charCodeAt(jc+2)]<<
6|P[Hb.charCodeAt(jc+3)],Ac[uc++]=vc>>16&255,Ac[uc++]=vc>>8&255,Ac[uc++]=vc&255;2===ac&&(vc=P[Hb.charCodeAt(jc)]<<2|P[Hb.charCodeAt(jc+1)]>>4,Ac[uc++]=vc&255);1===ac&&(vc=P[Hb.charCodeAt(jc)]<<10|P[Hb.charCodeAt(jc+1)]<<4|P[Hb.charCodeAt(jc+2)]>>2,Ac[uc++]=vc>>8&255,Ac[uc++]=vc&255);return Ac};ob.fromByteArray=function(Hb){for(var ac=Hb.length,vc=ac%3,Ac=[],uc=0,Cb=ac-vc;uc<Cb;uc+=16383){for(var jc=Ac,Yb=jc.push,Ua,ub=Hb,Kb=uc+16383>Cb?Cb:uc+16383,Lb=[],Db=uc;Db<Kb;Db+=3)Ua=(ub[Db]<<16&16711680)+
(ub[Db+1]<<8&65280)+(ub[Db+2]&255),Lb.push(k[Ua>>18&63]+k[Ua>>12&63]+k[Ua>>6&63]+k[Ua&63]);Ua=Lb.join("");Yb.call(jc,Ua)}1===vc?(Hb=Hb[ac-1],Ac.push(k[Hb>>2]+k[Hb<<4&63]+"\x3d\x3d")):2===vc&&(Hb=(Hb[ac-2]<<8)+Hb[ac-1],Ac.push(k[Hb>>10]+k[Hb>>4&63]+k[Hb<<2&63]+"\x3d"));return Ac.join("")};var k=[],P=[],ib="undefined"!==typeof Uint8Array?Uint8Array:Array;for(fc=0;64>fc;++fc)k[fc]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[fc],P["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(fc)]=
fc;P[45]=62;P[95]=63};
shadow$provide[25]=function(fc,Fb,Xc,ob){ob.read=function(v,k,P,ib,Hb){var ac=8*Hb-ib-1;var vc=(1<<ac)-1,Ac=vc>>1,uc=-7;Hb=P?Hb-1:0;var Cb=P?-1:1,jc=v[k+Hb];Hb+=Cb;P=jc&(1<<-uc)-1;jc>>=-uc;for(uc+=ac;0<uc;P=256*P+v[k+Hb],Hb+=Cb,uc-=8);ac=P&(1<<-uc)-1;P>>=-uc;for(uc+=ib;0<uc;ac=256*ac+v[k+Hb],Hb+=Cb,uc-=8);if(0===P)P=1-Ac;else{if(P===vc)return ac?NaN:Infinity*(jc?-1:1);ac+=Math.pow(2,ib);P-=Ac}return(jc?-1:1)*ac*Math.pow(2,P-ib)};ob.write=function(v,k,P,ib,Hb,ac){var vc,Ac=8*ac-Hb-1,uc=(1<<Ac)-1,Cb=
uc>>1,jc=23===Hb?Math.pow(2,-24)-Math.pow(2,-77):0;ac=ib?0:ac-1;var Yb=ib?1:-1,Ua=0>k||0===k&&0>1/k?1:0;k=Math.abs(k);isNaN(k)||Infinity===k?(k=isNaN(k)?1:0,ib=uc):(ib=Math.floor(Math.log(k)/Math.LN2),1>k*(vc=Math.pow(2,-ib))&&(ib--,vc*=2),k=1<=ib+Cb?k+jc/vc:k+jc*Math.pow(2,1-Cb),2<=k*vc&&(ib++,vc/=2),ib+Cb>=uc?(k=0,ib=uc):1<=ib+Cb?(k=(k*vc-1)*Math.pow(2,Hb),ib+=Cb):(k=k*Math.pow(2,Cb-1)*Math.pow(2,Hb),ib=0));for(;8<=Hb;v[P+ac]=k&255,ac+=Yb,k/=256,Hb-=8);ib=ib<<Hb|k;for(Ac+=Hb;0<Ac;v[P+ac]=ib&255,
ac+=Yb,ib/=256,Ac-=8);v[P+ac-Yb]|=128*Ua}};
shadow$provide[26]=function(fc,Fb,Xc,ob){function v(q){if(2147483647<q)throw new RangeError('The value "'+q+'" is invalid for option "size"');q=new Uint8Array(q);Object.setPrototypeOf(q,k.prototype);return q}function k(q,M,Q){if("number"===typeof q){if("string"===typeof M)throw new TypeError('The "string" argument must be of type string. Received type number');return Hb(q)}return P(q,M,Q)}function P(q,M,Q){if("string"===typeof q){var g=M;if("string"!==typeof g||""===g)g="utf8";if(!k.isEncoding(g))throw new TypeError("Unknown encoding: "+
g);M=Cb(q,g)|0;Q=v(M);q=Q.write(q,g);q!==M&&(Q=Q.slice(0,q));return Q}if(ArrayBuffer.isView(q))return nb(q,Uint8Array)?(q=new Uint8Array(q),q=vc(q.buffer,q.byteOffset,q.byteLength)):q=ac(q),q;if(null==q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(nb(q,ArrayBuffer)||q&&nb(q.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(nb(q,SharedArrayBuffer)||q&&nb(q.buffer,SharedArrayBuffer)))return vc(q,
M,Q);if("number"===typeof q)throw new TypeError('The "value" argument must not be of type number. Received type number');g=q.valueOf&&q.valueOf();if(null!=g&&g!==q)return k.from(g,M,Q);if(g=Ac(q))return g;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof q[Symbol.toPrimitive])return k.from(q[Symbol.toPrimitive]("string"),M,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);}
function ib(q){if("number"!==typeof q)throw new TypeError('"size" argument must be of type number');if(0>q)throw new RangeError('The value "'+q+'" is invalid for option "size"');}function Hb(q){ib(q);return v(0>q?0:uc(q)|0)}function ac(q){const M=0>q.length?0:uc(q.length)|0,Q=v(M);for(let g=0;g<M;g+=1)Q[g]=q[g]&255;return Q}function vc(q,M,Q){if(0>M||q.byteLength<M)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<M+(Q||0))throw new RangeError('"length" is outside of buffer bounds');
q=void 0===M&&void 0===Q?new Uint8Array(q):void 0===Q?new Uint8Array(q,M):new Uint8Array(q,M,Q);Object.setPrototypeOf(q,k.prototype);return q}function Ac(q){if(k.isBuffer(q)){var M=uc(q.length)|0;const Q=v(M);if(0===Q.length)return Q;q.copy(Q,0,0,M);return Q}if(void 0!==q.length)return(M="number"!==typeof q.length)||(M=q.length,M=M!==M),M?v(0):ac(q);if("Buffer"===q.type&&Array.isArray(q.data))return ac(q.data)}function uc(q){if(2147483647<=q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return q|0}function Cb(q,M){if(k.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||nb(q,ArrayBuffer))return q.byteLength;if("string"!==typeof q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const Q=q.length,g=2<arguments.length&&!0===arguments[2];if(!g&&0===Q)return 0;let u=!1;for(;;)switch(M){case "ascii":case "latin1":case "binary":return Q;case "utf8":case "utf-8":return sb(q).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*Q;case "hex":return Q>>>1;case "base64":return Qb(q).length;default:if(u)return g?-1:sb(q).length;M=(""+M).toLowerCase();u=!0}}function jc(q,M,Q){let g=!1;if(void 0===M||0>M)M=0;if(M>this.length)return"";if(void 0===Q||Q>this.length)Q=this.length;if(0>=Q)return"";Q>>>=0;M>>>=0;if(Q<=M)return"";for(q||(q="utf8");;)switch(q){case "hex":q=M;M=this.length;if(!q||0>q)q=0;if(!Q||0>Q||Q>M)Q=M;for(M="";q<Q;++q)M+=ma[this[q]];return M;case "utf8":case "utf-8":return Kb(this,
M,Q);case "ascii":q=M;M="";for(Q=Math.min(this.length,Q);q<Q;++q)M+=String.fromCharCode(this[q]&127);return M;case "latin1":case "binary":q=M;M="";for(Q=Math.min(this.length,Q);q<Q;++q)M+=String.fromCharCode(this[q]);return M;case "base64":return q=M,Q=0===q&&Q===this.length?Fa.fromByteArray(this):Fa.fromByteArray(this.slice(q,Q)),Q;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":Q=this.slice(M,Q);q="";for(M=0;M<Q.length-1;M+=2)q+=String.fromCharCode(Q[M]+256*Q[M+1]);return q;default:if(g)throw new TypeError("Unknown encoding: "+
q);q=(q+"").toLowerCase();g=!0}}function Yb(q,M,Q){const g=q[M];q[M]=q[Q];q[Q]=g}function Ua(q,M,Q,g,u){if(0===q.length)return-1;"string"===typeof Q?(g=Q,Q=0):2147483647<Q?Q=2147483647:-2147483648>Q&&(Q=-2147483648);Q=+Q;Q!==Q&&(Q=u?0:q.length-1);0>Q&&(Q=q.length+Q);if(Q>=q.length){if(u)return-1;Q=q.length-1}else if(0>Q)if(u)Q=0;else return-1;"string"===typeof M&&(M=k.from(M,g));if(k.isBuffer(M))return 0===M.length?-1:ub(q,M,Q,g,u);if("number"===typeof M)return M&=255,"function"===typeof Uint8Array.prototype.indexOf?
u?Uint8Array.prototype.indexOf.call(q,M,Q):Uint8Array.prototype.lastIndexOf.call(q,M,Q):ub(q,[M],Q,g,u);throw new TypeError("val must be string, number or Buffer");}function ub(q,M,Q,g,u){function m(E,H){return 1===C?E[H]:E.readUInt16BE(H*C)}let C=1;var B=q.length;let A=M.length;if(void 0!==g&&(g=String(g).toLowerCase(),"ucs2"===g||"ucs-2"===g||"utf16le"===g||"utf-16le"===g)){if(2>q.length||2>M.length)return-1;C=2;B/=2;A/=2;Q/=2}if(u)for(g=-1;Q<B;Q++)if(m(q,Q)===m(M,-1===g?0:Q-g)){if(-1===g&&(g=Q),
Q-g+1===A)return g*C}else-1!==g&&(Q-=Q-g),g=-1;else for(Q+A>B&&(Q=B-A);0<=Q;Q--){B=!0;for(g=0;g<A;g++)if(m(q,Q+g)!==m(M,g)){B=!1;break}if(B)return Q}return-1}function Kb(q,M,Q){Q=Math.min(q.length,Q);for(var g=[];M<Q;){var u=q[M];let m=null,C=239<u?4:223<u?3:191<u?2:1;if(M+C<=Q){let B,A,E;switch(C){case 1:128>u&&(m=u);break;case 2:B=q[M+1];128===(B&192)&&(u=(u&31)<<6|B&63,127<u&&(m=u));break;case 3:B=q[M+1];A=q[M+2];128===(B&192)&&128===(A&192)&&(u=(u&15)<<12|(B&63)<<6|A&63,2047<u&&(55296>u||57343<
u)&&(m=u));break;case 4:B=q[M+1],A=q[M+2],E=q[M+3],128===(B&192)&&128===(A&192)&&128===(E&192)&&(u=(u&15)<<18|(B&63)<<12|(A&63)<<6|E&63,65535<u&&1114112>u&&(m=u))}}null===m?(m=65533,C=1):65535<m&&(m-=65536,g.push(m>>>10&1023|55296),m=56320|m&1023);g.push(m);M+=C}M=g.length;if(4096>=M)g=String.fromCharCode.apply(String,g);else{q="";for(Q=0;Q<M;)q+=String.fromCharCode.apply(String,g.slice(Q,Q+=4096));g=q}return g}function Lb(q,M,Q){if(0!==q%1||0>q)throw new RangeError("offset is not uint");if(q+M>Q)throw new RangeError("Trying to access beyond buffer length");
}function Db(q,M,Q,g,u,m){if(!k.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>u||M<m)throw new RangeError('"value" argument is out of bounds');if(Q+g>q.length)throw new RangeError("Index out of range");}function Pb(q,M,Q,g,u){mb(M,g,u,q,Q,7);g=Number(M&BigInt(4294967295));q[Q++]=g;g>>=8;q[Q++]=g;g>>=8;q[Q++]=g;q[Q++]=g>>8;M=Number(M>>BigInt(32)&BigInt(4294967295));q[Q++]=M;M>>=8;q[Q++]=M;M>>=8;q[Q++]=M;q[Q++]=M>>8;return Q}function ab(q,M,Q,g,u){mb(M,g,u,q,Q,
7);g=Number(M&BigInt(4294967295));q[Q+7]=g;g>>=8;q[Q+6]=g;g>>=8;q[Q+5]=g;q[Q+4]=g>>8;M=Number(M>>BigInt(32)&BigInt(4294967295));q[Q+3]=M;M>>=8;q[Q+2]=M;M>>=8;q[Q+1]=M;q[Q]=M>>8;return Q+8}function pb(q,M,Q,g,u,m){if(Q+g>q.length)throw new RangeError("Index out of range");if(0>Q)throw new RangeError("Index out of range");}function Qa(q,M,Q,g,u){M=+M;Q>>>=0;u||pb(q,M,Q,4,3.4028234663852886E38,-3.4028234663852886E38);Ga.write(q,M,Q,g,23,4);return Q+4}function Da(q,M,Q,g,u){M=+M;Q>>>=0;u||pb(q,M,Q,8,
1.7976931348623157E308,-1.7976931348623157E308);Ga.write(q,M,Q,g,52,8);return Q+8}function Ka(q,M,Q){db[q]=class extends Q{constructor(){super();Object.defineProperty(this,"message",{value:M.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${q}]`;this.stack;delete this.name}get code(){return q}set code(g){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:g,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}function lb(q){let M=
"",Q=q.length;const g="-"===q[0]?1:0;for(;Q>=g+4;Q-=3)M=`_${q.slice(Q-3,Q)}${M}`;return`${q.slice(0,Q)}${M}`}function mb(q,M,Q,g,u,m){if(q>Q||q<M)throw g="bigint"===typeof M?"n":"",new db.ERR_OUT_OF_RANGE("value",3<m?0===M||M===BigInt(0)?`>= 0${g} and < 2${g} ** ${8*(m+1)}${g}`:`>= -(2${g} ** ${8*(m+1)-1}${g}) and < 2 ** `+`${8*(m+1)-1}${g}`:`>= ${M}${g} and <= ${Q}${g}`,q);Pa(u,"offset");void 0!==g[u]&&void 0!==g[u+m]||xb(u,g.length-(m+1))}function Pa(q,M){if("number"!==typeof q)throw new db.ERR_INVALID_ARG_TYPE(M,
"number",q);}function xb(q,M,Q){if(Math.floor(q)!==q)throw Pa(q,Q),new db.ERR_OUT_OF_RANGE(Q||"offset","an integer",q);if(0>M)throw new db.ERR_BUFFER_OUT_OF_BOUNDS;throw new db.ERR_OUT_OF_RANGE(Q||"offset",`>= ${Q?1:0} and <= ${M}`,q);}function sb(q,M){M=M||Infinity;let Q;const g=q.length;let u=null;const m=[];for(let C=0;C<g;++C){Q=q.charCodeAt(C);if(55295<Q&&57344>Q){if(!u){if(56319<Q){-1<(M-=3)&&m.push(239,191,189);continue}else if(C+1===g){-1<(M-=3)&&m.push(239,191,189);continue}u=Q;continue}if(56320>
Q){-1<(M-=3)&&m.push(239,191,189);u=Q;continue}Q=(u-55296<<10|Q-56320)+65536}else u&&-1<(M-=3)&&m.push(239,191,189);u=null;if(128>Q){if(0>--M)break;m.push(Q)}else if(2048>Q){if(0>(M-=2))break;m.push(Q>>6|192,Q&63|128)}else if(65536>Q){if(0>(M-=3))break;m.push(Q>>12|224,Q>>6&63|128,Q&63|128)}else if(1114112>Q){if(0>(M-=4))break;m.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,Q&63|128)}else throw Error("Invalid code point");}return m}function Qb(q){var M=Fa,Q=M.toByteArray;q=q.split("\x3d")[0];q=q.trim().replace(ba,
"");if(2>q.length)q="";else for(;0!==q.length%4;)q+="\x3d";return Q.call(M,q)}function Wb(q,M,Q,g){let u;for(u=0;u<g&&!(u+Q>=M.length||u>=q.length);++u)M[u+Q]=q[u];return u}function nb(q,M){return q instanceof M||null!=q&&null!=q.constructor&&null!=q.constructor.name&&q.constructor.name===M.name}function pa(q){return"undefined"===typeof BigInt?Z:q}function Z(){throw Error("BigInt not supported");}const Fa=Fb(24),Ga=Fb(25);fc="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;ob.Buffer=k;ob.SlowBuffer=function(q){+q!=q&&(q=0);return k.alloc(+q)};ob.INSPECT_MAX_BYTES=50;ob.kMaxLength=2147483647;k.TYPED_ARRAY_SUPPORT=function(){try{const q=new Uint8Array(1),M={foo:function(){return 42}};Object.setPrototypeOf(M,Uint8Array.prototype);Object.setPrototypeOf(q,M);return 42===q.foo()}catch(q){return!1}}();k.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}});Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}});k.poolSize=8192;k.from=function(q,M,Q){return P(q,M,Q)};Object.setPrototypeOf(k.prototype,Uint8Array.prototype);Object.setPrototypeOf(k,Uint8Array);k.alloc=function(q,M,Q){ib(q);q=0>=q?v(q):void 0!==M?"string"===typeof Q?v(q).fill(M,Q):v(q).fill(M):v(q);return q};k.allocUnsafe=
function(q){return Hb(q)};k.allocUnsafeSlow=function(q){return Hb(q)};k.isBuffer=function(q){return null!=q&&!0===q._isBuffer&&q!==k.prototype};k.compare=function(q,M){nb(q,Uint8Array)&&(q=k.from(q,q.offset,q.byteLength));nb(M,Uint8Array)&&(M=k.from(M,M.offset,M.byteLength));if(!k.isBuffer(q)||!k.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===M)return 0;let Q=q.length,g=M.length;for(let u=0,m=Math.min(Q,g);u<m;++u)if(q[u]!==M[u]){Q=
q[u];g=M[u];break}return Q<g?-1:g<Q?1:0};k.isEncoding=function(q){switch(String(q).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};k.concat=function(q,M){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===q.length)return k.alloc(0);let Q;if(void 0===M)for(Q=M=0;Q<q.length;++Q)M+=q[Q].length;M=k.allocUnsafe(M);let g=
0;for(Q=0;Q<q.length;++Q){let u=q[Q];if(nb(u,Uint8Array))g+u.length>M.length?(k.isBuffer(u)||(u=k.from(u)),u.copy(M,g)):Uint8Array.prototype.set.call(M,u,g);else if(k.isBuffer(u))u.copy(M,g);else throw new TypeError('"list" argument must be an Array of Buffers');g+=u.length}return M};k.byteLength=Cb;k.prototype._isBuffer=!0;k.prototype.swap16=function(){const q=this.length;if(0!==q%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<q;M+=2)Yb(this,M,M+1);return this};
k.prototype.swap32=function(){const q=this.length;if(0!==q%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<q;M+=4)Yb(this,M,M+3),Yb(this,M+1,M+2);return this};k.prototype.swap64=function(){const q=this.length;if(0!==q%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<q;M+=8)Yb(this,M,M+7),Yb(this,M+1,M+6),Yb(this,M+2,M+5),Yb(this,M+3,M+4);return this};k.prototype.toString=function(){const q=this.length;return 0===q?"":0===arguments.length?
Kb(this,0,q):jc.apply(this,arguments)};k.prototype.toLocaleString=k.prototype.toString;k.prototype.equals=function(q){if(!k.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q?!0:0===k.compare(this,q)};k.prototype.inspect=function(){let q;const M=ob.INSPECT_MAX_BYTES;q=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim();this.length>M&&(q+=" ... ");return"\x3cBuffer "+q+"\x3e"};fc&&(k.prototype[fc]=k.prototype.inspect);k.prototype.compare=function(q,M,Q,g,u){nb(q,Uint8Array)&&
(q=k.from(q,q.offset,q.byteLength));if(!k.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);void 0===M&&(M=0);void 0===Q&&(Q=q?q.length:0);void 0===g&&(g=0);void 0===u&&(u=this.length);if(0>M||Q>q.length||0>g||u>this.length)throw new RangeError("out of range index");if(g>=u&&M>=Q)return 0;if(g>=u)return-1;if(M>=Q)return 1;M>>>=0;Q>>>=0;g>>>=0;u>>>=0;if(this===q)return 0;let m=u-g,C=Q-M;const B=Math.min(m,C);g=this.slice(g,u);
q=q.slice(M,Q);for(M=0;M<B;++M)if(g[M]!==q[M]){m=g[M];C=q[M];break}return m<C?-1:C<m?1:0};k.prototype.includes=function(q,M,Q){return-1!==this.indexOf(q,M,Q)};k.prototype.indexOf=function(q,M,Q){return Ua(this,q,M,Q,!0)};k.prototype.lastIndexOf=function(q,M,Q){return Ua(this,q,M,Q,!1)};k.prototype.write=function(q,M,Q,g){if(void 0===M)g="utf8",Q=this.length,M=0;else if(void 0===Q&&"string"===typeof M)g=M,Q=this.length,M=0;else if(isFinite(M))M>>>=0,isFinite(Q)?(Q>>>=0,void 0===g&&(g="utf8")):(g=Q,
Q=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var u=this.length-M;if(void 0===Q||Q>u)Q=u;if(0<q.length&&(0>Q||0>M)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");for(u=!1;;)switch(g){case "hex":a:{M=Number(M)||0;g=this.length-M;Q?(Q=Number(Q),Q>g&&(Q=g)):Q=g;g=q.length;Q>g/2&&(Q=g/2);for(g=0;g<Q;++g){u=parseInt(q.substr(2*g,2),16);if(u!==u){q=g;break a}this[M+g]=u}q=g}return q;case "utf8":case "utf-8":return Wb(sb(q,
this.length-M),this,M,Q);case "ascii":case "latin1":case "binary":g=[];for(u=0;u<q.length;++u)g.push(q.charCodeAt(u)&255);return Wb(g,this,M,Q);case "base64":return Wb(Qb(q),this,M,Q);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var m=void 0;g=this.length-M;const C=[];for(let B=0;B<q.length&&!(0>(g-=2));++B)m=q.charCodeAt(B),u=m>>8,m%=256,C.push(m),C.push(u);return Wb(C,this,M,Q);default:if(u)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase();u=!0}};k.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};k.prototype.slice=function(q,M){const Q=this.length;q=~~q;M=void 0===M?Q:~~M;0>q?(q+=Q,0>q&&(q=0)):q>Q&&(q=Q);0>M?(M+=Q,0>M&&(M=0)):M>Q&&(M=Q);M<q&&(M=q);q=this.subarray(q,M);Object.setPrototypeOf(q,k.prototype);return q};k.prototype.readUintLE=k.prototype.readUIntLE=function(q,M,Q){q>>>=0;M>>>=0;Q||Lb(q,M,this.length);Q=this[q];let g=1,u=0;for(;++u<M&&(g*=256);)Q+=this[q+u]*g;return Q};k.prototype.readUintBE=k.prototype.readUIntBE=function(q,M,
Q){q>>>=0;M>>>=0;Q||Lb(q,M,this.length);Q=this[q+--M];let g=1;for(;0<M&&(g*=256);)Q+=this[q+--M]*g;return Q};k.prototype.readUint8=k.prototype.readUInt8=function(q,M){q>>>=0;M||Lb(q,1,this.length);return this[q]};k.prototype.readUint16LE=k.prototype.readUInt16LE=function(q,M){q>>>=0;M||Lb(q,2,this.length);return this[q]|this[q+1]<<8};k.prototype.readUint16BE=k.prototype.readUInt16BE=function(q,M){q>>>=0;M||Lb(q,2,this.length);return this[q]<<8|this[q+1]};k.prototype.readUint32LE=k.prototype.readUInt32LE=
function(q,M){q>>>=0;M||Lb(q,4,this.length);return(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]};k.prototype.readUint32BE=k.prototype.readUInt32BE=function(q,M){q>>>=0;M||Lb(q,4,this.length);return 16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])};k.prototype.readBigUInt64LE=pa(function(q){q>>>=0;Pa(q,"offset");var M=this[q];const Q=this[q+7];void 0!==M&&void 0!==Q||xb(q,this.length-8);M=M+this[++q]*Math.pow(2,8)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,24);q=this[++q]+this[++q]*
Math.pow(2,8)+this[++q]*Math.pow(2,16)+Q*Math.pow(2,24);return BigInt(M)+(BigInt(q)<<BigInt(32))});k.prototype.readBigUInt64BE=pa(function(q){q>>>=0;Pa(q,"offset");var M=this[q];const Q=this[q+7];void 0!==M&&void 0!==Q||xb(q,this.length-8);M=M*Math.pow(2,24)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,8)+this[++q];q=this[++q]*Math.pow(2,24)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,8)+Q;return(BigInt(M)<<BigInt(32))+BigInt(q)});k.prototype.readIntLE=function(q,M,Q){q>>>=0;M>>>=0;Q||Lb(q,M,this.length);
Q=this[q];let g=1,u=0;for(;++u<M&&(g*=256);)Q+=this[q+u]*g;Q>=128*g&&(Q-=Math.pow(2,8*M));return Q};k.prototype.readIntBE=function(q,M,Q){q>>>=0;M>>>=0;Q||Lb(q,M,this.length);Q=M;let g=1,u=this[q+--Q];for(;0<Q&&(g*=256);)u+=this[q+--Q]*g;u>=128*g&&(u-=Math.pow(2,8*M));return u};k.prototype.readInt8=function(q,M){q>>>=0;M||Lb(q,1,this.length);return this[q]&128?-1*(255-this[q]+1):this[q]};k.prototype.readInt16LE=function(q,M){q>>>=0;M||Lb(q,2,this.length);q=this[q]|this[q+1]<<8;return q&32768?q|4294901760:
q};k.prototype.readInt16BE=function(q,M){q>>>=0;M||Lb(q,2,this.length);q=this[q+1]|this[q]<<8;return q&32768?q|4294901760:q};k.prototype.readInt32LE=function(q,M){q>>>=0;M||Lb(q,4,this.length);return this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24};k.prototype.readInt32BE=function(q,M){q>>>=0;M||Lb(q,4,this.length);return this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]};k.prototype.readBigInt64LE=pa(function(q){q>>>=0;Pa(q,"offset");const M=this[q],Q=this[q+7];void 0!==M&&void 0!==Q||xb(q,this.length-
8);return(BigInt(this[q+4]+this[q+5]*Math.pow(2,8)+this[q+6]*Math.pow(2,16)+(Q<<24))<<BigInt(32))+BigInt(M+this[++q]*Math.pow(2,8)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,24))});k.prototype.readBigInt64BE=pa(function(q){q>>>=0;Pa(q,"offset");var M=this[q];const Q=this[q+7];void 0!==M&&void 0!==Q||xb(q,this.length-8);M=(M<<24)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,8)+this[++q];return(BigInt(M)<<BigInt(32))+BigInt(this[++q]*Math.pow(2,24)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,
8)+Q)});k.prototype.readFloatLE=function(q,M){q>>>=0;M||Lb(q,4,this.length);return Ga.read(this,q,!0,23,4)};k.prototype.readFloatBE=function(q,M){q>>>=0;M||Lb(q,4,this.length);return Ga.read(this,q,!1,23,4)};k.prototype.readDoubleLE=function(q,M){q>>>=0;M||Lb(q,8,this.length);return Ga.read(this,q,!0,52,8)};k.prototype.readDoubleBE=function(q,M){q>>>=0;M||Lb(q,8,this.length);return Ga.read(this,q,!1,52,8)};k.prototype.writeUintLE=k.prototype.writeUIntLE=function(q,M,Q,g){q=+q;M>>>=0;Q>>>=0;g||Db(this,
q,M,Q,Math.pow(2,8*Q)-1,0);g=1;let u=0;for(this[M]=q&255;++u<Q&&(g*=256);)this[M+u]=q/g&255;return M+Q};k.prototype.writeUintBE=k.prototype.writeUIntBE=function(q,M,Q,g){q=+q;M>>>=0;Q>>>=0;g||Db(this,q,M,Q,Math.pow(2,8*Q)-1,0);g=Q-1;let u=1;for(this[M+g]=q&255;0<=--g&&(u*=256);)this[M+g]=q/u&255;return M+Q};k.prototype.writeUint8=k.prototype.writeUInt8=function(q,M,Q){q=+q;M>>>=0;Q||Db(this,q,M,1,255,0);this[M]=q&255;return M+1};k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function(q,M,Q){q=
+q;M>>>=0;Q||Db(this,q,M,2,65535,0);this[M]=q&255;this[M+1]=q>>>8;return M+2};k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function(q,M,Q){q=+q;M>>>=0;Q||Db(this,q,M,2,65535,0);this[M]=q>>>8;this[M+1]=q&255;return M+2};k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function(q,M,Q){q=+q;M>>>=0;Q||Db(this,q,M,4,4294967295,0);this[M+3]=q>>>24;this[M+2]=q>>>16;this[M+1]=q>>>8;this[M]=q&255;return M+4};k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function(q,M,Q){q=+q;M>>>=0;Q||Db(this,
q,M,4,4294967295,0);this[M]=q>>>24;this[M+1]=q>>>16;this[M+2]=q>>>8;this[M+3]=q&255;return M+4};k.prototype.writeBigUInt64LE=pa(function(q,M=0){return Pb(this,q,M,BigInt(0),BigInt("0xffffffffffffffff"))});k.prototype.writeBigUInt64BE=pa(function(q,M=0){return ab(this,q,M,BigInt(0),BigInt("0xffffffffffffffff"))});k.prototype.writeIntLE=function(q,M,Q,g){q=+q;M>>>=0;g||(g=Math.pow(2,8*Q-1),Db(this,q,M,Q,g-1,-g));g=0;let u=1,m=0;for(this[M]=q&255;++g<Q&&(u*=256);)0>q&&0===m&&0!==this[M+g-1]&&(m=1),this[M+
g]=(q/u>>0)-m&255;return M+Q};k.prototype.writeIntBE=function(q,M,Q,g){q=+q;M>>>=0;g||(g=Math.pow(2,8*Q-1),Db(this,q,M,Q,g-1,-g));g=Q-1;let u=1,m=0;for(this[M+g]=q&255;0<=--g&&(u*=256);)0>q&&0===m&&0!==this[M+g+1]&&(m=1),this[M+g]=(q/u>>0)-m&255;return M+Q};k.prototype.writeInt8=function(q,M,Q){q=+q;M>>>=0;Q||Db(this,q,M,1,127,-128);0>q&&(q=255+q+1);this[M]=q&255;return M+1};k.prototype.writeInt16LE=function(q,M,Q){q=+q;M>>>=0;Q||Db(this,q,M,2,32767,-32768);this[M]=q&255;this[M+1]=q>>>8;return M+
2};k.prototype.writeInt16BE=function(q,M,Q){q=+q;M>>>=0;Q||Db(this,q,M,2,32767,-32768);this[M]=q>>>8;this[M+1]=q&255;return M+2};k.prototype.writeInt32LE=function(q,M,Q){q=+q;M>>>=0;Q||Db(this,q,M,4,2147483647,-2147483648);this[M]=q&255;this[M+1]=q>>>8;this[M+2]=q>>>16;this[M+3]=q>>>24;return M+4};k.prototype.writeInt32BE=function(q,M,Q){q=+q;M>>>=0;Q||Db(this,q,M,4,2147483647,-2147483648);0>q&&(q=4294967295+q+1);this[M]=q>>>24;this[M+1]=q>>>16;this[M+2]=q>>>8;this[M+3]=q&255;return M+4};k.prototype.writeBigInt64LE=
pa(function(q,M=0){return Pb(this,q,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});k.prototype.writeBigInt64BE=pa(function(q,M=0){return ab(this,q,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});k.prototype.writeFloatLE=function(q,M,Q){return Qa(this,q,M,!0,Q)};k.prototype.writeFloatBE=function(q,M,Q){return Qa(this,q,M,!1,Q)};k.prototype.writeDoubleLE=function(q,M,Q){return Da(this,q,M,!0,Q)};k.prototype.writeDoubleBE=function(q,M,Q){return Da(this,q,M,!1,Q)};k.prototype.copy=
function(q,M,Q,g){if(!k.isBuffer(q))throw new TypeError("argument should be a Buffer");Q||(Q=0);g||0===g||(g=this.length);M>=q.length&&(M=q.length);M||(M=0);0<g&&g<Q&&(g=Q);if(g===Q||0===q.length||0===this.length)return 0;if(0>M)throw new RangeError("targetStart out of bounds");if(0>Q||Q>=this.length)throw new RangeError("Index out of range");if(0>g)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length);q.length-M<g-Q&&(g=q.length-M+Q);const u=g-Q;this===q&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(M,Q,g):Uint8Array.prototype.set.call(q,this.subarray(Q,g),M);return u};k.prototype.fill=function(q,M,Q,g){if("string"===typeof q){"string"===typeof M?(g=M,M=0,Q=this.length):"string"===typeof Q&&(g=Q,Q=this.length);if(void 0!==g&&"string"!==typeof g)throw new TypeError("encoding must be a string");if("string"===typeof g&&!k.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(1===q.length){var u=q.charCodeAt(0);if("utf8"===g&&128>u||"latin1"===g)q=u}}else"number"===typeof q?
q&=255:"boolean"===typeof q&&(q=Number(q));if(0>M||this.length<M||this.length<Q)throw new RangeError("Out of range index");if(Q<=M)return this;M>>>=0;Q=void 0===Q?this.length:Q>>>0;q||(q=0);if("number"===typeof q)for(g=M;g<Q;++g)this[g]=q;else{u=k.isBuffer(q)?q:k.from(q,g);const m=u.length;if(0===m)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(g=0;g<Q-M;++g)this[g+M]=u[g%m]}return this};const db={};Ka("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);Ka("ERR_INVALID_ARG_TYPE",function(q,M){return`The "${q}" argument must be of type number. Received type ${typeof M}`},TypeError);Ka("ERR_OUT_OF_RANGE",function(q,M,Q){q=`The value of "${q}" is out of range.`;let g=Q;if(Number.isInteger(Q)&&Math.abs(Q)>Math.pow(2,32))g=lb(String(Q));else if("bigint"===typeof Q){g=String(Q);if(Q>Math.pow(BigInt(2),BigInt(32))||Q<-Math.pow(BigInt(2),BigInt(32)))g=lb(g);g+="n"}return q+` It must be ${M}. Received ${g}`},
RangeError);const ba=/[^+/0-9A-Za-z-_]/g,ma=function(){const q=Array(256);for(let M=0;16>M;++M){const Q=16*M;for(let g=0;16>g;++g)q[Q+g]="0123456789abcdef"[M]+"0123456789abcdef"[g]}return q}()};
shadow$provide[27]=function(fc,Fb,Xc,ob){var v=Fb(26).Buffer;(function(k,P){"object"===typeof ob&&"undefined"!==typeof Xc?P(ob,Fb(20),Fb(21),Fb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,P(k.vega={},k.vega,k.topojson,k.vega))})(this,function(k,P,ib,Hb){function ac(ba,ma){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const M=yield q.sanitize(ba,ma),
Q=M.href;return M.localFile?q.file(Q):q.http(Q,ma)})}function vc(ba,ma){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ma=P.extend({},q.options,ma);const M=q.fileAccess,Q={href:null};var g;let u;var m=Pa.test(ba.replace(xb,""));null!=ba&&"string"===typeof ba&&m||P.error("Sanitize failure, invalid URI: "+P.stringValue(ba));m=mb.test(ba);(g=ma.baseURL)&&!m&&(ba.startsWith("/")||g.endsWith("/")||(ba="/"+ba),ba=g+ba);u=(g=ba.startsWith("file://"))||"file"===ma.mode||"http"!==
ma.mode&&!m&&M;g?ba=ba.slice(7):ba.startsWith("//")&&("file"===ma.defaultProtocol?(ba=ba.slice(2),u=!0):ba=(ma.defaultProtocol||"http")+":"+ba);Object.defineProperty(Q,"localFile",{value:!!u});Q.href=ba;ma.target&&(Q.target=ma.target+"");ma.rel&&(Q.rel=ma.rel+"");"image"===ma.context&&ma.crossOrigin&&(Q.crossOrigin=ma.crossOrigin+"");return Q})}function Ac(ba){return ba?ma=>new Promise((q,M)=>{ba.readFile(ma,(Q,g)=>{Q?M(Q):q(g)})}):uc}function uc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No file system access.")})}
function Cb(ba){return ba?function(ma,q){const M=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Q=P.extend({},M.options.http,q);const g=q&&q.response;Q=yield ba(ma,Q);return Q.ok?P.isFunction(Q[g])?Q[g]():Q.text():P.error(Q.status+""+Q.statusText)})}:jc}function jc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No HTTP fetch method available.")})}function Yb(ba,ma){if(!ba||!ba.length)return"unknown";const q=ba.length,M=Wb.length,Q=Wb.map((g,u)=>
u+1);for(let g=0,u=0,m,C;g<q;++g)for(C=ma?ba[g][ma]:ba[g],m=0;m<M;++m)if(Q[m]&&null!=C&&C===C&&!Wb[m](C)&&(Q[m]=0,++u,u===Wb.length))return"string";return nb[Q.reduce((g,u)=>0===g?u:g,0)-1]}function Ua(ba,ma){return ma.reduce((q,M)=>{q[M]=Yb(ba,M);return q},{})}function ub(ba){return new Function("d","return {"+ba.map(function(ma,q){return JSON.stringify(ma)+": d["+q+'] || ""'}).join(",")+"}")}function Kb(ba,ma){var q=ub(ba);return function(M,Q){return ma(q(M),Q,ba)}}function Lb(ba){var ma=Object.create(null),
q=[];ba.forEach(function(M){for(var Q in M)Q in ma||q.push(ma[Q]=Q)});return q}function Db(ba,ma){ba+="";var q=ba.length;return q<ma?Array(ma-q+1).join(0)+ba:ba}function Pb(ba){function ma(m,C){function B(){if(Y)return Z;if(t)return t=!1,pa;var va,La=H,Wa;if(34===m.charCodeAt(La)){for(;H++<E&&34!==m.charCodeAt(H)||34===m.charCodeAt(++H););(va=H)>=E?Y=!0:10===(Wa=m.charCodeAt(H++))?t=!0:13===Wa&&(t=!0,10===m.charCodeAt(H)&&++H);return m.slice(La+1,va-1).replace(/""/g,'"')}for(;H<E;){if(10===(Wa=m.charCodeAt(va=
H++)))t=!0;else if(13===Wa)t=!0,10===m.charCodeAt(H)&&++H;else if(Wa!==u)continue;return m.slice(La,va)}return Y=!0,m.slice(La,E)}var A=[],E=m.length,H=0,V=0,Aa,Y=0>=E,t=!1;10===m.charCodeAt(E-1)&&--E;for(13===m.charCodeAt(E-1)&&--E;(Aa=B())!==Z;){for(var L=[];Aa!==pa&&Aa!==Z;)L.push(Aa),Aa=B();C&&null==(L=C(L,V++))||A.push(L)}return A}function q(m,C){return m.map(function(B){return C.map(function(A){return Q(B[A])}).join(ba)})}function M(m){return m.map(Q).join(ba)}function Q(m){if(null==m)m="";
else{if(m instanceof Date){var C=m.getUTCHours();var B=m.getUTCMinutes(),A=m.getUTCSeconds(),E=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var H=m.getUTCFullYear();m=(0>H?"-"+Db(-H,6):9999<H?"+"+Db(H,6):Db(H,4))+"-"+Db(m.getUTCMonth()+1,2)+"-"+Db(m.getUTCDate(),2)+(E?"T"+Db(C,2)+":"+Db(B,2)+":"+Db(A,2)+"."+Db(E,3)+"Z":A?"T"+Db(C,2)+":"+Db(B,2)+":"+Db(A,2)+"Z":B||C?"T"+Db(C,2)+":"+Db(B,2)+"Z":"")}C=m}else C=g.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=C}return m}var g=new RegExp('["'+
ba+"\n\r]"),u=ba.charCodeAt(0);return{parse:function(m,C){var B,A;m=ma(m,function(E,H){if(B)return B(E,H-1);A=E;B=C?Kb(E,C):ub(E)});m.columns=A||[];return m},parseRows:ma,format:function(m,C){null==C&&(C=Lb(m));return[C.map(Q).join(ba)].concat(q(m,C)).join("\n")},formatBody:function(m,C){null==C&&(C=Lb(m));return q(m,C).join("\n")},formatRows:function(m){return m.map(M).join("\n")},formatRow:M,formatValue:Q}}function ab(ba){const ma=function(q,M){const Q={delimiter:ba};return pb(q,M?P.extend(M,Q):
Q)};ma.responseType="text";return ma}function pb(ba,ma){ma.header&&(ba=ma.header.map(P.stringValue).join(ma.delimiter)+"\n"+ba);return Pb(ma.delimiter).parse(ba+"")}function Qa(ba,ma){const q=ma&&ma.property?P.field(ma.property):P.identity;var M;if(M=P.isObject(ba))M=!("function"===typeof v&&P.isFunction(v.isBuffer)&&v.isBuffer(ba));M?(ba=q(ba),!P.isArray(ba)&&P.isIterable(ba)&&(ba=[...ba]),ma=ma&&ma.copy?JSON.parse(JSON.stringify(ba)):ba):ma=q(JSON.parse(ba));return ma}function Da(ba,ma){let q,M,
Q,g;ba=Qa(ba,ma);ma&&ma.feature?(q=ib.feature,Q=ma.feature):ma&&ma.mesh?(q=ib.mesh,Q=ma.mesh,g=Fa[ma.filter]):P.error("Missing TopoJSON feature or mesh parameter.");return(M=(M=ba.objects[Q])?q(ba,M,g):P.error("Invalid TopoJSON object: "+Q))&&M.features||[M]}function Ka(ba,ma){return 1<arguments.length?(Ga[ba]=ma,this):P.hasOwnProperty(Ga,ba)?Ga[ba]:null}function lb(ba,ma,q,M){if(ba.length){var Q=Hb.timeFormatDefaultLocale();q=q||Q.timeParse;M=M||Q.utcParse;Q=ba.columns||Object.keys(ba[0]);var g,
u;"auto"===ma&&(ma=Ua(ba,Q));Q=Object.keys(ma);var m=Q.map(H=>{var V=ma[H];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){H=V.split(/:(.+)?/,2);V=H[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===H[0]?M:q)(V)}if(!Qb[V])throw Error("Illegal format pattern: "+H+":"+V);return Qb[V]});var C=0;var B=ba.length;for(u=Q.length;C<B;++C){var A=ba[C];for(g=0;g<u;++g){var E=Q[g];A[E]=m[g](A[E])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Pa=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
xb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sb=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),Qb={boolean:P.toBoolean,integer:P.toNumber,number:P.toNumber,date:P.toDate,string:P.toString,unknown:P.identity},Wb=[ba=>"true"===ba||"false"===ba||!0===ba||!1===ba,ba=>sb(ba)&&Number.isInteger(+ba),sb,ba=>!Number.isNaN(Date.parse(ba))],nb=["boolean","integer","number","date"];var pa={},Z={};pb.responseType="text";Qa.responseType="json";const Fa={interior:(ba,ma)=>ba!==ma,exterior:(ba,
ma)=>ba===ma};Da.responseType="json";const Ga={dsv:pb,csv:ab(","),tsv:ab("\t"),json:Qa,topojson:Da},db=function(ba,ma){return q=>({options:q||{},sanitize:vc,load:ac,fileAccess:!!ma,file:Ac(ma),http:Cb(ba)})}("undefined"!==typeof fetch&&fetch,null);k.format=Ga;k.formats=Ka;k.inferType=Yb;k.inferTypes=Ua;k.loader=db;k.read=function(ba,ma,q,M){ma=ma||{};const Q=Ka(ma.type||"json");Q||P.error("Unknown data format type: "+ma.type);ba=Q(ba,ma);ma.parse&&lb(ba,ma.parse,q,M);P.hasOwnProperty(ba,"columns")&&
delete ba.columns;return ba};k.responseType=function(ba){return(ba=Ka(ba))&&ba.responseType||"text"};k.typeParsers=Qb})};
shadow$provide[28]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(27),Fb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,ib){function Hb(g){const u=g||k.identity,m=[],C={};m.add=B=>{const A=u(B);C[A]||(C[A]=1,m.push(B));return m};m.remove=B=>{const A=u(B);C[A]&&(C[A]=0,B=m.indexOf(B),
0<=B&&m.splice(B,1));return m};return m}function ac(g,u){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield u(g)}catch(m){g.error(m)}})}function vc(g){g=g===Object(g)?g:{data:g};if(!g[Z]){var u=Fa++;g[Z]=u}return g}function Ac(g,u){for(const m in g)u[m]=g[m];return u}function uc(g){return g&&g.constructor===Cb}function Cb(){const g=[],u=[],m=[],C=[],B=[];let A=null,E=!1;return{constructor:Cb,insert(H){H=k.array(H);const V=H.length;for(let Aa=0;Aa<V;++Aa)g.push(H[Aa]);return this},
remove(H){const V=k.isFunction(H)?C:u;H=k.array(H);const Aa=H.length;for(let Y=0;Y<Aa;++Y)V.push(H[Y]);return this},modify(H,V,Aa){V={field:V,value:k.constant(Aa)};k.isFunction(H)?(V.filter=H,B.push(V)):(V.tuple=H,m.push(V));return this},encode(H,V){k.isFunction(H)?B.push({filter:H,field:V}):m.push({tuple:H,field:V});return this},clean(H){A=H;return this},reflow(){E=!0;return this},pulse(H,V){function Aa(Ca,Xa,Jb){Jb?Ca[Xa]=Jb(Ca):H.encode=Xa;E||(t[Ca[Z]]=Ca)}const Y={},t={};let L,va,La,Wa,$a,X;L=
0;for(va=V.length;L<va;++L)Y[V[L][Z]]=1;L=0;for(va=u.length;L<va;++L)$a=u[L],Y[$a[Z]]=-1;L=0;for(va=C.length;L<va;++L)Wa=C[L],V.forEach(Ca=>{Wa(Ca)&&(Y[Ca[Z]]=-1)});L=0;for(va=g.length;L<va;++L)$a=g[L],X=$a[Z],Y[X]?Y[X]=1:H.add.push(vc(g[L]));L=0;for(va=V.length;L<va;++L)$a=V[L],0>Y[$a[Z]]&&H.rem.push($a);L=0;for(va=m.length;L<va;++L)La=m[L],$a=La.tuple,Wa=La.field,X=Y[$a[Z]],0<X&&(Aa($a,Wa,La.value),H.modifies(Wa));L=0;for(va=B.length;L<va;++L)La=B[L],Wa=La.filter,V.forEach(Ca=>{Wa(Ca)&&0<Y[Ca[Z]]&&
Aa(Ca,La.field,La.value)}),H.modifies(La.field);if(E)H.mod=u.length||C.length?V.filter(Ca=>0<Y[Ca[Z]]):V.slice();else for(X in t)H.mod.push(t[X]);(A||null==A&&(u.length||C.length))&&H.clean(!0);return H}}}function jc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Yb(g,u,m,C){this.id=++Ga;this.value=g;this.qrank=this.rank=this.stamp=-1;this.flags=0;u&&(this._update=u);m&&this.parameters(m,C)}function Ua(g){return function(u){const m=this.flags;if(0===arguments.length)return!!(m&
g);this.flags=u?m|g:m&~g;return this}}function ub(g,u,m){this.id=++ba;this.value=null;m&&(this.receive=m);g&&(this._filter=g);u&&(this._apply=u)}function Kb(g,u,m){return new ub(g,u,m)}function Lb(g){let u;const m=new Promise(C=>u=C);m.requests=0;m.done=()=>{0===--m.requests&&(g._pending=null,u(g))};return g._pending=m}function Db(g,u,m,C,B,A){const E=k.extend({},A,ma);let H;k.isFunction(m)||(m=k.constant(m));void 0===C?B=V=>g.touch(m(V)):k.isFunction(C)?(H=new Yb(null,C,B,!1),B=V=>{H.evaluate(V);
V=m(V);const Aa=H.value;uc(Aa)?g.pulse(V,Aa,A):g.update(V,Aa,E)}):B=V=>g.update(m(V),C,E);u.apply(B)}function Pb(g,u,m,C,B,A){void 0===C?u.targets().add(m):(A=A||{},C=new Yb(null,ab(m,C),B,!1),C.modified(A.force),C.rank=u.rank,u.targets().add(C),m&&(C.skip(!0),C.value=m.value,C.targets().add(m),g.connect(m,[C])))}function ab(g,u){u=k.isFunction(u)?u:k.constant(u);return g?function(m,C){m=u(m,C);g.skip()||(g.skip(m!==this.value).value=m);return m}:u}function pb(g,u,m){this.dataflow=g;this.stamp=null==
u?-1:u;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Qa(g,u){const m=[];k.visitArray(g,u,C=>m.push(C));return m}function Da(g,u){const m={};g.visit(u,C=>{m[C[Z]]=1});return C=>m[C[Z]]?null:C}function Ka(g,u){return g?(m,C)=>g(m,C)&&u(m,C):u}function lb(g,u,m,C){let B=0;this.dataflow=g;this.stamp=u;this.fields=null;this.encode=C||null;this.pulses=m;for(const A of m)if(A.stamp===u){if(A.fields){g=this.fields||(this.fields={});for(const E in A.fields)g[E]=1}A.changed(this.ADD)&&
(B|=this.ADD);A.changed(this.REM)&&(B|=this.REM);A.changed(this.MOD)&&(B|=this.MOD)}this.changes=B}function mb(g){g.error("Dataflow already running. Use runAsync() to chain invocations.");return g}function Pa(g,u){if(u&&u.stamp===g.stamp)return u;g=g.fork();u&&u!==q&&(g.source=u.source);return g}function xb(g){let u=[];return{clear:()=>u=[],size:()=>u.length,peek:()=>u[0],push:m=>{u.push(m);return sb(u,0,u.length-1,g)},pop:()=>{var m=u.pop();let C;if(u.length){C=u[0];u[0]=m;m=u;var B=0;const A=B,
E=m.length,H=m[B];let V=(B<<1)+1,Aa;for(;V<E;)Aa=V+1,Aa<E&&0<=g(m[V],m[Aa])&&(V=Aa),m[B]=m[V],B=V,V=(B<<1)+1;m[B]=H;sb(m,A,B,g)}else C=m;return C}}}function sb(g,u,m,C){let B,A;const E=g[m];for(;m>u;)if(A=m-1>>1,B=g[A],0>C(E,B))g[m]=B,m=A;else break;return g[m]=E}function Qb(){this.logger(k.logger());this.logLevel(k.Error);this._rank=this._clock=0;this._locale=ib.defaultLocale();try{this._loader=P.loader()}catch(g){}this._touched=Hb(k.id);this._input={};this._pulse=null;this._heap=xb((g,u)=>g.qrank-
u.qrank);this._postrun=[]}function Wb(g){return function(){return this._log[g].apply(this,arguments)}}function nb(g,u){Yb.call(this,g,null,u)}function pa(g){g=g&&g.toLowerCase();return k.hasOwnProperty(Q,g)?Q[g]:null}const Z=Symbol("vega_id");let Fa=1;jc.prototype={set(g,u,m,C){const B=this[g],A=this["_:mod:_"];if(null!=u&&0<=u){if(B[u]!==m||C)B[u]=m,A[u+":"+g]=-1,A[g]=-1}else if(B!==m||C)this[g]=m,A[g]=k.isArray(m)?1+m.length:-1;return this},modified(g,u){const m=this["_:mod:_"];if(!arguments.length){for(var C in m)if(m[C])return!0;
return!1}if(k.isArray(g)){for(C=0;C<g.length;++C)if(m[g[C]])return!0;return!1}return null!=u&&0<=u?u+1<m[g]||!!m[u+":"+g]:!!m[g]},clear(){this["_:mod:_"]={};return this}};let Ga=0;const db=new jc;Yb.prototype={targets(){return this._targets||(this._targets=Hb(k.id))},set(g){return this.value!==g?(this.value=g,1):0},skip:Ua(1),modified:Ua(2),parameters(g,u,m){u=!1!==u;const C=this._argval=this._argval||new jc,B=this._argops=this._argops||[],A=[];let E,H,V,Aa;const Y=(t,L,va)=>{va instanceof Yb?(va!==
this&&(u&&va.targets().add(this),A.push(va)),B.push({op:va,name:t,index:L})):C.set(t,L,va)};for(E in g)if(H=g[E],"pulse"===E)k.array(H).forEach(t=>{t instanceof Yb?t!==this&&(t.targets().add(this),A.push(t)):k.error("Pulse parameters must be operator instances.")}),this.source=H;else if(k.isArray(H))for(C.set(E,-1,Array(V=H.length)),Aa=0;Aa<V;++Aa)Y(E,Aa,H[Aa]);else Y(E,-1,H);this.marshall().clear();m&&(B.initonly=!0);return A},marshall(g){const u=this._argval||db,m=this._argops;let C,B,A,E;if(m){const H=
m.length;for(B=0;B<H;++B)C=m[B],A=C.op,E=A.modified()&&A.stamp===g,u.set(C.name,C.index,A.value,E);if(m.initonly){for(B=0;B<H;++B)C=m[B],C.op.targets().remove(this);this._update=this._argops=null}}return u},detach(){const g=this._argops;let u,m;if(g)for(u=0,m=g.length;u<m;++u){var C=g[u];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(g){var u=this._update;if(u){const m=this.marshall(g.stamp);u=u.call(this,m,g);m.clear();if(u!==this.value)this.value=u;else if(!this.modified())return g.StopPropagation}},
run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?(this.skip(!1),u=0):u=this.evaluate(g);return this.pulse=u||g}};let ba=0;ub.prototype={_filter:k.truthy,_apply:k.identity,targets(){return this._targets||(this._targets=Hb(k.id))},consume(g){if(!arguments.length)return!!this._consume;this._consume=!!g;return this},receive(g){if(this._filter(g)){const u=this.value=this._apply(g),m=this._targets,C=m?m.length:0;for(let B=0;B<C;++B)m[B].receive(u);this._consume&&(g.preventDefault(),
g.stopPropagation())}},filter(g){g=Kb(g);this.targets().add(g);return g},apply(g){g=Kb(null,g);this.targets().add(g);return g},merge(){const g=Kb();this.targets().add(g);for(let u=0,m=arguments.length;u<m;++u)arguments[u].targets().add(g);return g},throttle(g){let u=-1;return this.filter(()=>{const m=Date.now();return m-u>g?(u=m,1):0})},debounce(g){const u=Kb();this.targets().add(Kb(null,null,k.debounce(g,m=>{const C=m.dataflow;u.receive(m);C&&C.run&&C.run()})));return u},between(g,u){let m=!1;g.targets().add(Kb(null,
null,()=>m=!0));u.targets().add(Kb(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=k.truthy;this._targets=null}};const ma={skip:!0},q={};pb.prototype={StopPropagation:q,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(g){return(new pb(this.dataflow)).init(this,g)},clone(){const g=this.fork(7);g.add=g.add.slice();g.rem=g.rem.slice();g.mod=g.mod.slice();g.source&&(g.source=g.source.slice());return g.materialize(23)},addAll(){let g=this;
g.source&&g.add!==g.rem&&(g.rem.length||g.source.length!==g.add.length)&&(g=(new pb(this.dataflow)).init(this),g.add=g.source,g.rem=[]);return g},init(g,u){this.stamp=g.stamp;this.encode=g.encode;!g.fields||u&64||(this.fields=g.fields);u&1?(this.addF=g.addF,this.add=g.add):(this.addF=null,this.add=[]);u&2?(this.remF=g.remF,this.rem=g.rem):(this.remF=null,this.rem=[]);u&4?(this.modF=g.modF,this.mod=g.mod):(this.modF=null,this.mod=[]);u&32?this.source=this.srcF=null:(this.srcF=g.srcF,this.source=g.source,
g.cleans&&(this.cleans=g.cleans));return this},runAfter(g){this.dataflow.runAfter(g)},changed(g){g=g||7;return g&1&&this.add.length||g&2&&this.rem.length||g&4&&this.mod.length},reflow(g){if(g)return this.fork(7).reflow();g=this.add.length;const u=this.source&&this.source.length;u&&u!==g&&(this.mod=this.source,g&&this.filter(4,Da(this,1)));return this},clean(g){return arguments.length?(this.cleans=!!g,this):this.cleans},modifies(g){const u=this.fields||(this.fields={});k.isArray(g)?g.forEach(m=>u[m]=
!0):u[g]=!0;return this},modified(g,u){const m=this.fields;return(u||this.mod.length)&&m?arguments.length?k.isArray(g)?g.some(C=>m[C]):m[g]:!!m:!1},filter(g,u){g&1&&(this.addF=Ka(this.addF,u));g&2&&(this.remF=Ka(this.remF,u));g&4&&(this.modF=Ka(this.modF,u));g&16&&(this.srcF=Ka(this.srcF,u));return this},materialize(g){g=g||7;g&1&&this.addF&&(this.add=Qa(this.add,this.addF),this.addF=null);g&2&&this.remF&&(this.rem=Qa(this.rem,this.remF),this.remF=null);g&4&&this.modF&&(this.mod=Qa(this.mod,this.modF),
this.modF=null);g&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(g,u){if(g&16)return k.visitArray(this.source,this.srcF,u),this;g&1&&k.visitArray(this.add,this.addF,u);g&2&&k.visitArray(this.rem,this.remF,u);g&4&&k.visitArray(this.mod,this.modF,u);const m=this.source;g&8&&m&&(g=this.add.length+this.mod.length,g!==m.length&&(g?k.visitArray(m,Da(this,5),u):k.visitArray(m,this.srcF,u)));return this}};k.inherits(lb,pb,{fork(g){const u=(new pb(this.dataflow)).init(this,
g&this.NO_FIELDS);void 0!==g&&(g&u.ADD&&this.visit(u.ADD,m=>u.add.push(m)),g&u.REM&&this.visit(u.REM,m=>u.rem.push(m)),g&u.MOD&&this.visit(u.MOD,m=>u.mod.push(m)));return u},changed(g){return this.changes&g},modified(g){const u=this.fields;return u&&this.changes&this.MOD?k.isArray(g)?g.some(m=>u[m]):u[g]:0},filter(){k.error("MultiPulse does not support filtering.")},materialize(){k.error("MultiPulse does not support materialization.")},visit(g,u){const m=this.pulses,C=m.length;let B=0;if(g&this.SOURCE)for(;B<
C;++B)m[B].visit(g,u);else for(;B<C;++B)m[B].stamp===this.stamp&&m[B].visit(g,u);return this}});const M={skip:!1,force:!1};Qb.prototype={stamp(){return this._clock},loader(g){return arguments.length?(this._loader=g,this):this._loader},locale(g){return arguments.length?(this._locale=g,this):this._locale},logger(g){return arguments.length?(this._log=g,this):this._log},error:Wb("error"),warn:Wb("warn"),info:Wb("info"),debug:Wb("debug"),logLevel:Wb("level"),cleanThreshold:1E4,add:function(g,u,m,C){let B=
1;g instanceof Yb||(g&&g.prototype instanceof Yb?g=new g:k.isFunction(g)?g=new Yb(null,g):(B=0,g=new Yb(g,u)));this.rank(g);B&&(C=m,m=u);m&&this.connect(g,g.parameters(m,C));this.touch(g);return g},connect:function(g,u){const m=g.rank,C=u.length;for(let B=0;B<C;++B)if(m<u[B].rank){this.rerank(g);break}},rank:function(g){g.rank=++this._rank},rerank:function(g){const u=[g];let m,C,B;for(;u.length;)if(this.rank(m=u.pop()),C=m._targets)for(B=C.length;0<=--B;)u.push(m=C[B]),m===g&&k.error("Cycle detected in dataflow graph.")},
pulse:function(g,u,m){this.touch(g,m||M);m=new pb(this,this._clock+(this._pulse?0:1));const C=g.pulse&&g.pulse.source||[];m.target=g;this._input[g.id]=u.pulse(m,C);return this},touch:function(g,u){u=u||M;this._pulse?this._enqueue(g):this._touched.add(g);u.skip&&g.skip(!0);return this},update:function(g,u,m){m=m||M;(g.set(u)||m.force)&&this.touch(g,m);return this},changeset:Cb,ingest:function(g,u,m){u=this.parse(u,m);return this.pulse(g,this.changeset().insert(u))},parse:function(g,u){const m=this.locale();
return P.read(g,u,m.timeParse,m.utcParse)},preload:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Lb(C);B.requests+=1;const A=yield C.request(u,m);C.pulse(g,C.changeset().remove(k.truthy).insert(A.data||[]));B.done();return A})},request:function(g,u){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=yield m.loader().load(g,{context:"dataflow",response:P.responseType(u&&u.type)});try{B=m.parse(B,
u)}catch(A){C=-2,m.warn("Data ingestion failed",g,A)}}catch(A){C=-1,m.warn("Loading failed",g,A)}return{data:B,status:C}})},events:function(g,u,m,C){const B=this,A=Kb(m,C);m=function(E){E.dataflow=B;try{A.receive(E)}catch(H){B.error(H)}finally{B.run()}};g="string"===typeof g&&"undefined"!==typeof document?document.querySelectorAll(g):k.array(g);C=g.length;for(let E=0;E<C;++E)g[E].addEventListener(u,m);return A},on:function(g,u,m,C,B){(g instanceof Yb?Pb:Db)(this,g,u,m,C,B);return this},evaluate:function(g,
u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return mb(C);C._pending&&(yield C._pending);u&&(yield ac(C,u));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var A=++C._clock;C._pulse=new pb(C,A,g);C._touched.forEach(Y=>C._enqueue(Y,!0));C._touched=Hb(k.id);var E=0;let H,V,Aa;try{for(;0<C._heap.size();)H=C._heap.pop(),H.rank!==H.qrank?C._enqueue(H,!0):(V=H.run(C._getPulse(H,g)),V.then?V=yield V:V.async&&(B.push(V.async),
V=q),V!==q&&H._targets&&H._targets.forEach(Y=>C._enqueue(Y)),++E)}catch(Y){C._heap.clear(),Aa=Y}C._input={};C._pulse=null;C.debug(`Pulse ${A}: ${E} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(A=C._postrun.sort((Y,t)=>t.priority-Y.priority),C._postrun=[],E=0;E<A.length;++E)yield ac(C,A[E].callback);m&&(yield ac(C,m));B.length&&Promise.all(B).then(Y=>C.runAsync(null,()=>{Y.forEach(t=>{try{t(C)}catch(L){C.error(L)}})}));return C})},run:function(g,u,m){return this._pulse?mb(this):
(this.evaluate(g,u,m),this)},runAsync:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(g,u,m)).then(B,B);return C._running})},runAfter:function(g,u,m){if(this._pulse||u)this._postrun.push({priority:m||0,callback:g});else try{g(this)}catch(C){this.error(C)}},_enqueue:function(g,u){const m=g.stamp<this._clock;m&&(g.stamp=this._clock);if(m||u)g.qrank=g.rank,this._heap.push(g)},
_getPulse:function(g,u){const m=g.source,C=this._clock;return m&&k.isArray(m)?new lb(this,C,m.map(B=>B.pulse),u):this._input[g.id]||Pa(this._pulse,m&&m.pulse)}};k.inherits(nb,Yb,{run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?this.skip(!1):u=this.evaluate(g);u=u||g;u.then?u=u.then(m=>this.pulse=m):u!==g.StopPropagation&&(this.pulse=u);return u},evaluate(g){const u=this.marshall(g.stamp);g=this.transform(u,g);u.clear();return g},transform(){}});const Q={};v.Dataflow=Qb;v.EventStream=
ub;v.MultiPulse=lb;v.Operator=Yb;v.Parameters=jc;v.Pulse=pb;v.Transform=nb;v.UniqueList=Hb;v.asyncCallback=ac;v.changeset=Cb;v.definition=function(g){return(g=pa(g))&&g.Definition||null};v.derive=function(g){return Ac(g,vc({}))};v.ingest=vc;v.isChangeSet=uc;v.isTuple=function(g){return!(!g||!g[Z])};v.rederive=Ac;v.replace=function(g,u){u[Z]=g[Z];return u};v.stableCompare=function(g,u){return g?u?(m,C)=>g(m,C)||u(m)[Z]-u(C)[Z]:(m,C)=>g(m,C)||m[Z]-C[Z]:null};v.transform=pa;v.transforms=Q;v.tupleid=
function(g){return g[Z]}})};
shadow$provide[29]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function*k(m,C){if(null==C)for(var B of m)null!=B&&""!==B&&(B=+B)>=B&&(yield B);else{B=-1;for(let A of m)A=C(A,++B,m),null!=A&&""!==A&&(A=+A)>=A&&(yield A)}}function P(m,C){return null==m||null==C?NaN:m<C?-1:m>C?1:m>=C?0:NaN}function ib(m){return null===
m?NaN:+m}function*Hb(m,C){if(void 0===C)for(var B of m)null!=B&&(B=+B)>=B&&(yield B);else{B=-1;for(let A of m)null!=(A=C(A,++B,m))&&(A=+A)>=A&&(yield A)}}function ac(m=P){if(m===P)return vc;if("function"!==typeof m)throw new TypeError("compare is not a function");return(C,B)=>{const A=m(C,B);return A||0===A?A:(0===m(B,B))-(0===m(C,C))}}function vc(m,C){return(null==m||!(m>=m))-(null==C||!(C>=C))||(m<C?-1:m>C?1:0)}function Ac(m,C){let B;if(void 0===C)for(var A of m)null!=A&&(B<A||void 0===B&&A>=A)&&
(B=A);else{A=-1;for(let E of m)null!=(E=C(E,++A,m))&&(B<E||void 0===B&&E>=E)&&(B=E)}return B}function uc(m,C){let B;if(void 0===C)for(var A of m)null!=A&&(B>A||void 0===B&&A>=A)&&(B=A);else{A=-1;for(let E of m)null!=(E=C(E,++A,m))&&(B>E||void 0===B&&E>=E)&&(B=E)}return B}function Cb(m,C,B=0,A=Infinity,E){C=Math.floor(C);B=Math.floor(Math.max(0,B));A=Math.floor(Math.min(m.length-1,A));if(!(B<=C&&C<=A))return m;for(E=void 0===E?vc:ac(E);A>B;){if(600<A-B){var H=A-B+1,V=C-B+1,Aa=Math.log(H),Y=.5*Math.exp(2*
Aa/3);Aa=.5*Math.sqrt(Aa*Y*(H-Y)/H)*(0>V-H/2?-1:1);Cb(m,C,Math.max(B,Math.floor(C-V*Y/H+Aa)),Math.min(A,Math.floor(C+(H-V)*Y/H+Aa)),E)}H=m[C];V=B;Y=A;jc(m,B,C);for(0<E(m[A],H)&&jc(m,B,A);V<Y;){jc(m,V,Y);++V;for(--Y;0>E(m[V],H);)++V;for(;0<E(m[Y],H);)--Y}0===E(m[B],H)?jc(m,B,Y):(++Y,jc(m,Y,A));Y<=C&&(B=Y+1);C<=Y&&(A=Y-1)}return m}function jc(m,C,B){const A=m[C];m[C]=m[B];m[B]=A}function Yb(m,C,B){m=Float64Array.from(Hb(m,B));if((B=m.length)&&!isNaN(C=+C)){if(0>=C||2>B)return uc(m);if(1<=C)return Ac(m);
C*=B-1;B=Math.floor(C);var A=Ac(Cb(m,B).subarray(0,B+1));m=uc(m.subarray(B+1));return A+(m-A)*(C-B)}}function Ua(m,C,B=ib){if((A=m.length)&&!isNaN(C=+C)){if(0>=C||2>A)return+B(m[0],0,m);if(1<=C)return+B(m[A-1],A-1,m);var A;C*=A-1;A=Math.floor(C);var E=+B(m[A],A,m);m=+B(m[A+1],A+1,m);return E+(m-E)*(C-A)}}function ub(m,C,B){const A=Float64Array.from(k(m,B));A.sort(P);return C.map(E=>Ua(A,E))}function Kb(m,C){return ub(m,[.25,.5,.75],C)}function Lb(m,C){const B=m.length;{var A=0;let H,V=0,Aa=0;if(void 0===
C)for(var E of m)null!=E&&(E=+E)>=E&&(H=E-V,V+=H/++A,Aa+=H*(E-V));else{E=-1;for(let Y of m)null!=(Y=C(Y,++E,m))&&(Y=+Y)>=Y&&(H=Y-V,V+=H/++A,Aa+=H*(Y-V))}A=1<A?Aa/(A-1):void 0}A=A?Math.sqrt(A):A;m=Kb(m,C);return 1.06*(Math.min(A,(m[2]-m[0])/1.34)||A||Math.abs(m[0])||1)*Math.pow(B,-.2)}function Db(m,C){const B=m.length;let A=0,E=1,H,V;for(;m[A]===m[E];)++E;for(;E<B;){for(H=E+1;m[E]===m[H];)++H;if(m[E]-m[E-1]<C){for(V=E+(A+H-E-E>>1);V<E;)m[V++]=m[E];for(;V>E;)m[V--]=m[A]}A=E;E=H}return m}function Pb(m,
C){m=m||0;C=null==C?1:C;let B,A;if(g===g)B=g,g=NaN;else{do{B=2*v.random()-1;A=2*v.random()-1;var E=B*B+A*A}while(0===E||1<E);E=Math.sqrt(-2*Math.log(E)/E);B*=E;g=A*E}return m+B*C}function ab(m,C,B){B=null==B?1:B;m=(m-(C||0))/B;return Math.exp(-.5*m*m)/(B*M)}function pb(m,C,B){m=(m-(C||0))/(null==B?1:B);C=Math.abs(m);37<C?B=0:(B=Math.exp(-C*C/2),7.07106781186547>C?(B*=(((((.0352624965998911*C+.700383064443688)*C+6.37396220353165)*C+33.912866078383)*C+112.079291497871)*C+221.213596169931)*C+220.206867912376,
B/=((((((.0883883476483184*C+1.75566716318264)*C+16.064177579207)*C+86.7807322029461)*C+296.564248779674)*C+637.333633378831)*C+793.826512519948)*C+440.413735824752):B=B/(C+1/(C+2/(C+3/(C+4/(C+.65)))))/2.506628274631);return 0<m?1-B:B}function Qa(m,C,B){if(0>m||1<m)return NaN;m=2*m-1;var A=-Math.log((1-m)*(1+m));6.25>A?(A-=3.125,A=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+
(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A):16>A?(A=Math.sqrt(A)-3.25,A=3.0838856104922208+(1.0052589676941592+(.005370914553590064+
(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A):Number.isFinite(A)?(A=Math.sqrt(A)-5,A=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+
(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A):A=Infinity;return(C||0)+(null==B?1:B)*Q*A*m}function Da(m,C){let B,A;const E={mean(H){return arguments.length?(B=H||0,E):B},stdev(H){return arguments.length?
(A=null==H?1:H,E):A},sample:()=>Pb(B,A),pdf:H=>ab(H,B,A),cdf:H=>pb(H,B,A),icdf:H=>Qa(H,B,A)};return E.mean(m).stdev(C)}function Ka(m,C){C=null==C?1:C;return Math.exp((m||0)+Pb()*C)}function lb(m,C,B){if(0>=m)return 0;B=null==B?1:B;C=(Math.log(m)-(C||0))/B;return Math.exp(-.5*C*C)/(B*M*m)}function mb(m,C,B){return pb(Math.log(m),C,B)}function Pa(m,C,B){return Math.exp(Qa(m,C,B))}function xb(m,C){null==C&&(C=null==m?1:m,m=0);return m+(C-m)*v.random()}function sb(m,C,B){null==B&&(B=null==C?1:C,C=0);
return m>=C&&m<=B?1/(B-C):0}function Qb(m,C,B){null==B&&(B=null==C?1:C,C=0);return m<C?0:m>B?1:(m-C)/(B-C)}function Wb(m,C,B){null==B&&(B=null==C?1:C,C=0);return 0<=m&&1>=m?C+m*(B-C):NaN}function nb(m,C,B){let A=0,E=0;for(const H of m)m=B(H),null==C(H)||null==m||isNaN(m)||(A+=(m-A)/++E);return{coef:[A],predict:()=>A,rSquared:0}}function pa(m,C,B,A){A-=m*m;B=1E-24>Math.abs(A)?0:(B-m*C)/A;return[C-B*m,B]}function Z(m,C,B,A){m=m.filter(va=>{let La=C(va);va=B(va);return null!=La&&(La=+La)>=La&&null!=
va&&(va=+va)>=va});A&&m.sort((va,La)=>C(va)-C(La));A=m.length;const E=new Float64Array(A),H=new Float64Array(A);let V=0,Aa=0,Y=0,t,L;for(L of m)E[V]=m=+C(L),H[V]=t=+B(L),++V,Aa+=(m-Aa)/V,Y+=(t-Y)/V;for(V=0;V<A;++V)E[V]-=Aa,H[V]-=Y;return[E,H,Aa,Y]}function Fa(m,C,B,A){let E=-1,H;for(const V of m)m=C(V),H=B(V),null!=m&&(m=+m)>=m&&null!=H&&(H=+H)>=H&&A(m,H,++E)}function Ga(m,C,B,A,E){let H=0,V=0;Fa(m,C,B,(Aa,Y)=>{Aa=Y-E(Aa);Y-=A;H+=Aa*Aa;V+=Y*Y});return 1-H/V}function db(m,C,B){let A=0,E=0,H=0,V=0,
Aa=0;Fa(m,C,B,(L,va)=>{++Aa;A+=(L-A)/Aa;E+=(va-E)/Aa;H+=(L*va-H)/Aa;V+=(L*L-V)/Aa});const Y=pa(A,E,H,V),t=L=>Y[0]+Y[1]*L;return{coef:Y,predict:t,rSquared:Ga(m,C,B,E,t)}}function ba(m,C,B){const [A,E,H,V]=Z(m,C,B);var Aa=A.length,Y=0;let t=0;var L=0;let va=0,La=0,Wa,$a,X,Ca;for(Wa=0;Wa<Aa;)$a=A[Wa],X=E[Wa++],Ca=$a*$a,Y+=(Ca-Y)/Wa,t+=(Ca*$a-t)/Wa,L+=(Ca*Ca-L)/Wa,va+=($a*X-va)/Wa,La+=(Ca*X-La)/Wa;Aa=L-Y*Y;L=Y*Aa-t*t;const Xa=(La*Y-va*t)/L,Jb=(va*Aa-La*t)/L,yc=-Xa*Y;Y=sc=>{sc-=H;return Xa*sc*sc+Jb*sc+
yc+V};return{coef:[yc-Jb*H+Xa*H*H+V,Jb-2*Xa*H,Xa],predict:Y,rSquared:Ga(m,C,B,V,Y)}}function ma(m,C,B,A){const E=Array(m);let H,V,Aa;for(H=0;H<m;++H)E[H]=0;for(H=m-1;0<=H;--H)for(V=C[H],Aa=1,E[H]+=V,m=1;m<=H;++m)Aa*=(H+1-m)/m,E[H-m]+=V*Math.pow(B,m)*Aa;E[0]+=A;return E}function q(m){const C=m.length-1,B=[];let A,E,H,V,Aa;for(A=0;A<C;++A){V=A;for(E=A+1;E<C;++E)Math.abs(m[A][E])>Math.abs(m[A][V])&&(V=E);for(H=A;H<C+1;++H)Aa=m[H][A],m[H][A]=m[H][V],m[H][V]=Aa;for(E=A+1;E<C;++E)for(H=C;H>=A;H--)m[H][E]-=
m[H][A]*m[A][E]/m[A][A]}for(E=C-1;0<=E;--E){Aa=0;for(H=E+1;H<C;++H)Aa+=m[H][E]*B[H];B[E]=(m[C][E]-Aa)/m[E][E]}return B}v.random=Math.random;const M=Math.sqrt(2*Math.PI),Q=Math.SQRT2;let g=NaN;const u=.5*Math.PI/180;v.bandwidthNRD=Lb;v.bin=function(m){var C=m.maxbins||20;const B=m.base||10,A=Math.log(B),E=m.divide||[5,2];let H=m.extent[0],V=m.extent[1];let Aa,Y,t,L;const va=m.span||V-H||Math.abs(H)||1;if(m.step)var La=m.step;else if(m.steps){Y=va/C;t=0;for(L=m.steps.length;t<L&&m.steps[t]<Y;++t);La=
m.steps[Math.max(0,t-1)]}else{La=Math.ceil(Math.log(C)/A);Aa=m.minstep||0;for(La=Math.max(Aa,Math.pow(B,Math.round(Math.log(va)/A)-La));Math.ceil(va/La)>C;)La*=B;t=0;for(L=E.length;t<L;++t)Y=La/E[t],Y>=Aa&&va/Y<=C&&(La=Y)}Y=Math.log(La);C=Math.pow(B,-(0<=Y?0:~~(-Y/A)+1)-1);if(m.nice||void 0===m.nice)Y=Math.floor(H/La+C)*La,H=H<Y?Y-La:Y,V=Math.ceil(V/La)*La;return{start:H,stop:V===H?H+La:V,step:La}};v.bootstrapCI=function(m,C,B,A){if(!m.length)return[void 0,void 0];m=Float64Array.from(k(m,A));A=m.length;
let E,H,V,Aa;V=0;for(Aa=Array(C);V<C;++V){for(H=E=0;H<A;++H)E+=m[~~(v.random()*A)];Aa[V]=E/A}Aa.sort(P);return[Yb(Aa,B/2),Yb(Aa,1-B/2)]};v.cumulativeLogNormal=mb;v.cumulativeNormal=pb;v.cumulativeUniform=Qb;v.densityLogNormal=lb;v.densityNormal=ab;v.densityUniform=sb;v.dotbin=function(m,C,B,A){A=A||(La=>La);const E=m.length,H=new Float64Array(E);let V=0,Aa=1,Y=A(m[0]),t=Y,L=Y+C,va;for(;Aa<E;++Aa){va=A(m[Aa]);if(va>=L){for(t=(Y+t)/2;V<Aa;++V)H[V]=t;L=va+C;Y=va}t=va}for(t=(Y+t)/2;V<Aa;++V)H[V]=t;return B?
Db(H,C+C/4):H};v.quantileLogNormal=Pa;v.quantileNormal=Qa;v.quantileUniform=Wb;v.quantiles=ub;v.quartiles=Kb;v.randomInteger=function(m,C){null==C&&(C=m,m=0);let B,A,E;const H={min(V){return arguments.length?(B=V||0,E=A-B,H):B},max(V){return arguments.length?(A=V||0,E=A-B,H):A},sample(){return B+Math.floor(E*v.random())},pdf(V){return V===Math.floor(V)&&V>=B&&V<A?1/E:0},cdf(V){V=Math.floor(V);return V<B?0:V>=A?1:(V-B+1)/E},icdf(V){return 0<=V&&1>=V?B-1+Math.floor(V*E):NaN}};return H.min(m).max(C)};
v.randomKDE=function(m,C){const B=Da();let A=0;const E={data(H){return arguments.length?(A=(m=H)?H.length:0,E.bandwidth(C)):m},bandwidth(H){if(!arguments.length)return C;C=H;!C&&m&&(C=Lb(m));return E},sample(){return m[~~(v.random()*A)]+C*B.sample()},pdf(H){let V=0,Aa=0;for(;Aa<A;++Aa)V+=B.pdf((H-m[Aa])/C);return V/C/A},cdf(H){let V=0,Aa=0;for(;Aa<A;++Aa)V+=B.cdf((H-m[Aa])/C);return V/A},icdf(){throw Error("KDE icdf not supported.");}};return E.data(m)};v.randomLCG=function(m){return function(){m=
(1103515245*m+12345)%2147483647;return m/2147483647}};v.randomLogNormal=function(m,C){let B,A;const E={mean(H){return arguments.length?(B=H||0,E):B},stdev(H){return arguments.length?(A=null==H?1:H,E):A},sample:()=>Ka(B,A),pdf:H=>lb(H,B,A),cdf:H=>mb(H,B,A),icdf:H=>Pa(H,B,A)};return E.mean(m).stdev(C)};v.randomMixture=function(m,C){let B=0,A;const E={weights(H){if(arguments.length){var V=C=H||[];const Aa=[];let Y=0,t;for(t=0;t<B;++t)Y+=Aa[t]=null==V[t]?1:+V[t];for(t=0;t<B;++t)Aa[t]/=Y;A=Aa;return E}return C},
distributions(H){return arguments.length?(H?(B=H.length,m=H):(B=0,m=[]),E.weights(C)):m},sample(){const H=v.random();let V=m[B-1],Aa=A[0],Y=0;for(;Y<B-1;Aa+=A[++Y])if(H<Aa){V=m[Y];break}return V.sample()},pdf(H){let V=0,Aa=0;for(;Aa<B;++Aa)V+=A[Aa]*m[Aa].pdf(H);return V},cdf(H){let V=0,Aa=0;for(;Aa<B;++Aa)V+=A[Aa]*m[Aa].cdf(H);return V},icdf(){throw Error("Mixture icdf not supported.");}};return E.distributions(m).weights(C)};v.randomNormal=Da;v.randomUniform=function(m,C){let B,A;const E={min(H){return arguments.length?
(B=H||0,E):B},max(H){return arguments.length?(A=null==H?1:H,E):A},sample:()=>xb(B,A),pdf:H=>sb(H,B,A),cdf:H=>Qb(H,B,A),icdf:H=>Wb(H,B,A)};null==C&&(C=null==m?1:m,m=0);return E.min(m).max(C)};v.regressionConstant=nb;v.regressionExp=function(m,C,B){const [A,,E,H]=Z(m,C,B);let V=0,Aa=0,Y=0,t=0,L=0,va,La,Wa;Fa(m,C,B,(Xa,Jb)=>{va=A[L++];La=Math.log(Jb);Wa=va*Jb;V+=(Jb*La-V)/L;Aa+=(Wa-Aa)/L;Y+=(Wa*La-Y)/L;t+=(va*Wa-t)/L});const [$a,X]=pa(Aa/H,V/H,Y/H,t/H),Ca=Xa=>Math.exp($a+X*(Xa-E));return{coef:[Math.exp($a-
X*E),X],predict:Ca,rSquared:Ga(m,C,B,H,Ca)}};v.regressionLinear=db;v.regressionLoess=function(m,C,B,A){const [E,H,V,Aa]=Z(m,C,B,!0);m=E.length;C=Math.max(2,~~(A*m));A=new Float64Array(m);B=new Float64Array(m);var Y=(new Float64Array(m)).fill(1);for(var t=-1;2>=++t;){var L=[0,C-1];for(let yc=0;yc<m;++yc){var va=E[yc],La=L[0],Wa=L[1],$a=0,X=0,Ca=0,Xa=0;let sc=0;const xc=1/Math.abs(E[va-E[La]>E[Wa]-va?La:Wa]-va||1);for(;La<=Wa;++La){const Sc=E[La],Pd=H[La];var Jb=Math.abs(va-Sc)*xc;const Ma=(Jb=1-Jb*
Jb*Jb)*Jb*Jb*Y[La];Jb=Sc*Ma;$a+=Ma;X+=Jb;Ca+=Pd*Ma;Xa+=Pd*Jb;sc+=Sc*Jb}const [dd,Zb]=pa(X/$a,Ca/$a,Xa/$a,sc/$a);A[yc]=dd+Zb*va;B[yc]=Math.abs(H[yc]-A[yc]);va=E;Wa=yc+1;$a=L;X=va[Wa];Ca=$a[0];Xa=$a[1]+1;if(!(Xa>=va.length))for(;Wa>Ca&&va[Xa]-X<=X-va[Ca];)$a[0]=++Ca,$a[1]=Xa,++Xa}if(2===t)break;L=Yb(B,.5,void 0);if(1E-12>Math.abs(L))break;for(let yc=0,sc,xc;yc<m;++yc)sc=B[yc]/(6*L),Y[yc]=1<=sc?1E-12:(xc=1-sc*sc)*xc}m=E.length;C=[];Y=B=0;for(t=[];B<m;++B)L=E[B]+V,t[0]===L?t[1]+=(A[B]-t[1])/++Y:(Y=0,
t[1]+=Aa,t=[L,A[B]],C.push(t));t[1]+=Aa;return C};v.regressionLog=function(m,C,B){let A=0,E=0,H=0,V=0,Aa=0;Fa(m,C,B,(L,va)=>{++Aa;L=Math.log(L);A+=(L-A)/Aa;E+=(va-E)/Aa;H+=(L*va-H)/Aa;V+=(L*L-V)/Aa});const Y=pa(A,E,H,V),t=L=>Y[0]+Y[1]*Math.log(L);return{coef:Y,predict:t,rSquared:Ga(m,C,B,E,t)}};v.regressionPoly=function(m,C,B,A){if(0===A)return nb(m,C,B);if(1===A)return db(m,C,B);if(2===A)return ba(m,C,B);const [E,H,V,Aa]=Z(m,C,B);var Y=E.length;const t=[],L=[],va=A+1;let La,Wa,$a,X;for(La=0;La<va;++La){for($a=
Wa=0;Wa<Y;++Wa)$a+=Math.pow(E[Wa],La)*H[Wa];t.push($a);X=new Float64Array(va);for(A=0;A<va;++A){for($a=Wa=0;Wa<Y;++Wa)$a+=Math.pow(E[Wa],La+A);X[A]=$a}L.push(X)}L.push(t);const Ca=q(L);Y=Xa=>{Xa-=V;let Jb=Aa+Ca[0]+Ca[1]*Xa+Ca[2]*Xa*Xa;for(La=3;La<va;++La)Jb+=Ca[La]*Math.pow(Xa,La);return Jb};return{coef:ma(va,Ca,-V,Aa),predict:Y,rSquared:Ga(m,C,B,Aa,Y)}};v.regressionPow=function(m,C,B){let A=0,E=0,H=0,V=0,Aa=0,Y=0;Fa(m,C,B,(va,La)=>{va=Math.log(va);const Wa=Math.log(La);++Y;A+=(va-A)/Y;E+=(Wa-E)/
Y;H+=(va*Wa-H)/Y;V+=(va*va-V)/Y;Aa+=(La-Aa)/Y});const t=pa(A,E,H,V),L=va=>t[0]*Math.pow(va,t[1]);t[0]=Math.exp(t[0]);return{coef:t,predict:L,rSquared:Ga(m,C,B,Aa,L)}};v.regressionQuad=ba;v.sampleCurve=function(m,C,B,A){B=B||25;A=Math.max(B,A||200);var E=C[0],H=C[1],V=H-E,Aa=V/A;C=[[E,m(E)]];var Y=[];if(B===A){for(var t=1;t<A;++t){Aa=C;Y=Aa.push;var L=E+t/B*V;L=[L,m(L)];Y.call(Aa,L)}C.push([H,m(H)]);return C}Y.push([H,m(H)]);for(t=B;0<--t;)A=Y,H=A.push,L=E+t/B*V,L=[L,m(L)],H.call(A,L);B=C[0];E=Y[Y.length-
1];V=1/V;A=H=B[1];t=Y.length;for(L=0;L<t;++L){const va=Y[L][1];va<A&&(A=va);va>H&&(H=va)}for(A=1/(H-A);E;)H=(B[0]+E[0])/2,H=[H,m(H)],H[0]-B[0]>=Aa&&Math.abs(Math.atan2(A*(E[1]-B[1]),V*(E[0]-B[0]))-Math.atan2(A*(H[1]-B[1]),V*(H[0]-B[0])))>u?Y.push(H):(B=E,C.push(E),Y.pop()),E=Y[Y.length-1];return C};v.sampleLogNormal=Ka;v.sampleNormal=Pb;v.sampleUniform=xb;v.setRandom=function(m){v.random=m}})};
shadow$provide[30]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(28),Fb(29),Fb(22)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Hb){function ac(N){return la=>{const za=N.length;let fb=1,Ib=String(N[0](la));for(;fb<za;++fb)Ib+="|"+N[fb](la);return Ib}}function vc(N){return N&&
N.length?1===N.length?N[0]:ac(N):function(){return""}}function Ac(N,la){return za=>k.extend({name:N,out:za||N},ic,la)}function uc(N,la){return N.idx-la.idx}function Cb(N){const la={};N.forEach(fb=>la[fb.name]=fb);const za=fb=>{fb.req&&fb.req.forEach(Ib=>{la[Ib]||za(la[Ib]=Vc[Ib]())})};N.forEach(za);return Object.values(la).sort(uc)}function jc(){this.missing=this.valid=0;this._ops.forEach(N=>N.init(this))}function Yb(N,la){null==N||""===N?++this.missing:N===N&&(++this.valid,this._ops.forEach(za=>
za.add(this,N,la)))}function Ua(N,la){null==N||""===N?--this.missing:N===N&&(--this.valid,this._ops.forEach(za=>za.rem(this,N,la)))}function ub(N){this._out.forEach(la=>N[la.out]=la.value(this));return N}function Kb(N,la){function za(Xb){this._ops=fb;this._out=Ib;this.cell=Xb;this.init()}la=la||k.identity;const fb=Cb(N),Ib=N.slice().sort(uc);za.prototype.init=jc;za.prototype.add=Yb;za.prototype.rem=Ua;za.prototype.set=ub;za.prototype.get=la;za.fields=N.map(Xb=>Xb.out);return za}function Lb(N){this._key=
N?k.field(N):P.tupleid;this.reset()}function Db(N){P.Transform.call(this,null,N);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Pb(N){P.Transform.call(this,null,N)}function ab(N,la,za){let fb=la||[],Ib=za||[],Xb={},Bc=0;return{add:lc=>Ib.push(lc),remove:lc=>Xb[N(lc)]=++Bc,size:()=>fb.length,data:(lc,Gc)=>{Bc&&(fb=fb.filter(id=>!Xb[N(id)]),
Xb={},Bc=0);Gc&&lc&&fb.sort(lc);Ib.length&&(fb=lc?k.merge(lc,fb,Ib.sort(lc)):fb.concat(Ib),Ib=[]);return fb}}}function pb(N){P.Transform.call(this,[],N)}function Qa(N){P.Operator.call(this,null,Da,N)}function Da(N){return this.value&&!N.modified()?this.value:k.compare(N.fields,N.orders)}function Ka(N){P.Transform.call(this,null,N)}function lb(N){P.Transform.call(this,null,N)}function mb(N,la){var za=N["function"];k.hasOwnProperty(Qd,za)||k.error("Unknown distribution function: "+za);za=Qd[za]();for(const fb in N)if("field"===
fb)za.data((N.from||la()).map(N[fb]));else if("distributions"===fb)za[fb](N[fb].map(Ib=>mb(Ib,la)));else if("function"===typeof za[fb])za[fb](N[fb]);return za}function Pa(N){P.Transform.call(this,null,N)}function xb(N){return()=>N.materialize(N.SOURCE).source}function sb(N,la){return N?N.map((za,fb)=>la[fb]||k.accessorName(za)):null}function Qb(N,la,za){const fb=[],Ib=rd=>rd(Gc);let Xb,Bc,lc,Gc,id,Nc;if(null==la)fb.push(N.map(za));else for(Xb={},Bc=0,lc=N.length;Bc<lc;++Bc)Gc=N[Bc],id=la.map(Ib),
Nc=Xb[id],Nc||(Xb[id]=Nc=[],Nc.dims=id,fb.push(Nc)),Nc.push(za(Gc));return fb}function Wb(N){P.Transform.call(this,null,N)}function nb(N){P.Operator.call(this,null,pa,N);this.modified(!0)}function pa(N){const la=N.expr;return this.value&&!N.modified("expr")?this.value:k.accessor(za=>la(za,N),k.accessorFields(la),k.accessorName(la))}function Z(N){P.Transform.call(this,[void 0,void 0],N)}function Fa(N,la){P.Operator.call(this,N);this.parent=la;this.count=0}function Ga(N){P.Transform.call(this,{},N);
this._keys=k.fastmap();const la=this._targets=[];la.active=0;la.forEach=za=>{for(let fb=0,Ib=la.active;fb<Ib;++fb)za(la[fb],fb,la)}}function db(N){P.Operator.call(this,null,ba,N)}function ba(N){return this.value&&!N.modified()?this.value:k.isArray(N.name)?k.array(N.name).map(la=>k.field(la)):k.field(N.name,N.as)}function ma(N){P.Transform.call(this,k.fastmap(),N)}function q(N){P.Transform.call(this,[],N)}function M(N){P.Transform.call(this,[],N)}function Q(N){P.Transform.call(this,null,N)}function g(N){P.Transform.call(this,
[],N)}function u(N,la){return null==N||null==la?NaN:N<la?-1:N>la?1:N>=la?0:NaN}function m(N,la){return null==N||null==la?NaN:la<N?-1:la>N?1:la>=N?0:NaN}function C(N){function la(Xb,Bc,lc=0,Gc=Xb.length){if(lc<Gc){if(0!==za(Bc,Bc))return Gc;do{const id=lc+Gc>>>1;0>fb(Xb[id],Bc)?lc=id+1:Gc=id}while(lc<Gc)}return lc}let za,fb,Ib;2!==N.length?(za=u,fb=(Xb,Bc)=>u(N(Xb),Bc),Ib=(Xb,Bc)=>N(Xb)-Bc):(za=N===u||N===m?N:B,Ib=fb=N);return{left:la,center:function(Xb,Bc,lc=0,Gc=Xb.length){Gc=la(Xb,Bc,lc,Gc-1);return Gc>
lc&&Ib(Xb[Gc-1],Bc)>-Ib(Xb[Gc],Bc)?Gc-1:Gc},right:function(Xb,Bc,lc=0,Gc=Xb.length){if(lc<Gc){if(0!==za(Bc,Bc))return Gc;do{const id=lc+Gc>>>1;0>=fb(Xb[id],Bc)?lc=id+1:Gc=id}while(lc<Gc)}return lc}}}function B(){return 0}function*A(N,la){if(void 0===la)for(var za of N)null!=za&&(za=+za)>=za&&(yield za);else{za=-1;for(let fb of N)null!=(fb=la(fb,++za,N))&&(fb=+fb)>=fb&&(yield fb)}}function E(N=u){if(N===u)return H;if("function"!==typeof N)throw new TypeError("compare is not a function");return(la,
za)=>{const fb=N(la,za);return fb||0===fb?fb:(0===N(za,za))-(0===N(la,la))}}function H(N,la){return(null==N||!(N>=N))-(null==la||!(la>=la))||(N<la?-1:N>la?1:0)}function V(N,la){let za;if(void 0===la)for(var fb of N)null!=fb&&(za<fb||void 0===za&&fb>=fb)&&(za=fb);else{fb=-1;for(let Ib of N)null!=(Ib=la(Ib,++fb,N))&&(za<Ib||void 0===za&&Ib>=Ib)&&(za=Ib)}return za}function Aa(N,la){let za;if(void 0===la)for(var fb of N)null!=fb&&(za>fb||void 0===za&&fb>=fb)&&(za=fb);else{fb=-1;for(let Ib of N)null!=
(Ib=la(Ib,++fb,N))&&(za>Ib||void 0===za&&Ib>=Ib)&&(za=Ib)}return za}function Y(N,la,za=0,fb=Infinity,Ib){la=Math.floor(la);za=Math.floor(Math.max(0,za));fb=Math.floor(Math.min(N.length-1,fb));if(!(za<=la&&la<=fb))return N;for(Ib=void 0===Ib?H:E(Ib);fb>za;){if(600<fb-za){var Xb=fb-za+1,Bc=la-za+1,lc=Math.log(Xb),Gc=.5*Math.exp(2*lc/3);lc=.5*Math.sqrt(lc*Gc*(Xb-Gc)/Xb)*(0>Bc-Xb/2?-1:1);Y(N,la,Math.max(za,Math.floor(la-Bc*Gc/Xb+lc)),Math.min(fb,Math.floor(la+(Xb-Bc)*Gc/Xb+lc)),Ib)}Xb=N[la];Bc=za;Gc=
fb;t(N,za,la);for(0<Ib(N[fb],Xb)&&t(N,za,fb);Bc<Gc;){t(N,Bc,Gc);++Bc;for(--Gc;0>Ib(N[Bc],Xb);)++Bc;for(;0<Ib(N[Gc],Xb);)--Gc}0===Ib(N[za],Xb)?t(N,za,Gc):(++Gc,t(N,Gc,fb));Gc<=la&&(za=Gc+1);la<=Gc&&(fb=Gc-1)}return N}function t(N,la,za){const fb=N[la];N[la]=N[za];N[za]=fb}function L(N,la,za){N=+N;la=+la;za=2>(Ib=arguments.length)?(la=N,N=0,1):3>Ib?1:+za;for(var fb=-1,Ib=Math.max(0,Math.ceil((la-N)/za))|0,Xb=Array(Ib);++fb<Ib;)Xb[fb]=N+fb*za;return Xb}function va(N){P.Transform.call(this,[],N)}function La(N){var la=
N.method||Fd.value;if(null==Fd[la])k.error("Unrecognized imputation method: "+la);else{if(la===Fd.value){var za=void 0!==N.value?N.value:0;return()=>za}return Fd[la]}}function Wa(N){const la=N.field;return za=>za?la(za):NaN}function $a(N,la,za,fb){var Ib=Wd=>Wd(rd),Xb=[];fb=fb?fb.slice():[];var Bc={},lc={},Gc,id;fb.forEach((Wd,ae)=>Bc[Wd]=ae+1);var Nc=0;for(id=N.length;Nc<id;++Nc){var rd=N[Nc];var Hd=za(rd);var Gd=Bc[Hd]||(Bc[Hd]=fb.push(Hd));var $d=(Hd=la?la.map(Ib):Zd)+"";(Gc=lc[$d])||(Gc=lc[$d]=
[],Xb.push(Gc),Gc.values=Hd);Gc[Gd-1]=rd}Xb.domain=fb;return Xb}function X(N){Db.call(this,N)}function Ca(N){P.Transform.call(this,null,N)}function Xa(N){P.Operator.call(this,null,Jb,N)}function Jb(N){return this.value&&!N.modified()?this.value:k.key(N.fields,N.flat)}function yc(N){P.Transform.call(this,[],N);this._pending=null}function sc(N){return N.modified("async")&&!(N.modified("values")||N.modified("url")||N.modified("format"))}function xc(N,la,za){za.forEach(P.ingest);la=la.fork(la.NO_FIELDS&
la.NO_SOURCE);la.rem=N.value;N.value=la.source=la.add=za;N._pending=null;la.rem.length&&la.clean(!0);return la}function dd(N){P.Transform.call(this,{},N)}function Zb(N){P.Operator.call(this,null,Sc,N)}function Sc(N){if(this.value&&!N.modified())return this.value;N=N.extents;const la=N.length;let za=Infinity,fb=-Infinity,Ib,Xb;for(Ib=0;Ib<la;++Ib)Xb=N[Ib],Xb[0]<za&&(za=Xb[0]),Xb[1]>fb&&(fb=Xb[1]);return[za,fb]}function Pd(N){P.Operator.call(this,null,Ma,N)}function Ma(N){return this.value&&!N.modified()?
this.value:N.values.reduce((la,za)=>la.concat(za),[])}function Vb(N){P.Transform.call(this,null,N)}function qb(N){Db.call(this,N)}function Tb(N,la){const za=N.field,fb=N.value,Ib=("count"===N.op?"__count__":N.op)||"sum",Xb=k.accessorFields(za).concat(k.accessorFields(fb)),Bc=cc(za,N.limit||0,la);la.changed()&&N.set("__pivot__",null,null,!0);return{key:N.key,groupby:N.groupby,ops:Bc.map(()=>Ib),fields:Bc.map(lc=>gc(lc,za,fb,Xb)),as:Bc.map(lc=>lc+""),modified:N.modified.bind(N)}}function gc(N,la,za,
fb){return k.accessor(Ib=>la(Ib)===N?za(Ib):NaN,fb,N+"")}function cc(N,la,za){const fb={},Ib=[];za.visit(za.SOURCE,Xb=>{Xb=N(Xb);fb[Xb]||(fb[Xb]=1,Ib.push(Xb))});Ib.sort(k.ascending);return la?Ib.slice(0,la):Ib}function Ic(N){Ga.call(this,N)}function zc(N){P.Transform.call(this,null,N)}function Zc(N){P.Transform.call(this,null,N)}function Md(N){P.Transform.call(this,null,N)}function td(N){P.Transform.call(this,null,N)}function Ha(N){P.Transform.call(this,[],N);this.count=0}function gb(N){P.Transform.call(this,
null,N)}function wb(N){P.Transform.call(this,null,N);this.modified(!0)}function sa(N){P.Transform.call(this,null,N)}function F(N){P.Transform.call(this,k.fastmap(),N)}function ya(N){P.Transform.call(this,null,N)}function Na(N,la,za,fb){const Ib=Ud[N](la,za);return{init:Ib.init||k.zero,update:function(Xb,Bc){Bc[fb]=Ib.next(Xb)}}}function Za(N){function la(Gd){k.array(k.accessorFields(Gd)).forEach($d=>Gc[$d]=1)}const za=k.array(N.ops),fb=k.array(N.fields),Ib=k.array(N.params),Xb=k.array(N.as),Bc=this.outputs=
[],lc=this.windows=[],Gc={},id={},Nc=[],rd=[];let Hd=!0;la(N.sort);za.forEach((Gd,$d)=>{const Wd=fb[$d],ae=k.accessorName(Wd),Ae=Xb[$d]||Gd+(ae?"_"+ae:"");la(Wd);Bc.push(Ae);k.hasOwnProperty(Ud,Gd)?lc.push(Na(Gd,fb[$d],Ib[$d],Ae)):(null==Wd&&"count"!==Gd&&k.error("Null aggregate field specified."),"count"===Gd?Nc.push(Ae):(Hd=!1,$d=id[ae],$d||($d=id[ae]=[],$d.field=Wd,rd.push($d)),$d.push(Vc[Gd](Ae))))});if(Nc.length||rd.length)this.cell=kb(rd,Nc,Hd);this.inputs=Object.keys(Gc)}function kb(N,la,za){N=
N.map(Gc=>Kb(Gc,Gc.field));const fb={num:0,agg:null,store:!1,count:la};if(!za)for(var Ib=N.length,Xb=fb.agg=Array(Ib),Bc=0;Bc<Ib;++Bc)Xb[Bc]=new N[Bc](fb);if(fb.store)var lc=fb.data=new Lb;fb.add=function(Gc){fb.num+=1;if(!za){lc&&lc.add(Gc);for(let id=0;id<Ib;++id)Xb[id].add(Xb[id].get(Gc),Gc)}};fb.rem=function(Gc){--fb.num;if(!za){lc&&lc.rem(Gc);for(let id=0;id<Ib;++id)Xb[id].rem(Xb[id].get(Gc),Gc)}};fb.set=function(Gc){let id,Nc;lc&&lc.values();id=0;for(Nc=la.length;id<Nc;++id)Gc[la[id]]=fb.num;
if(!za)for(id=0,Nc=Xb.length;id<Nc;++id)Xb[id].set(Gc)};fb.init=function(){fb.num=0;lc&&lc.reset();for(let Gc=0;Gc<Ib;++Gc)Xb[Gc].init()};return fb}function Gb(N){P.Transform.call(this,{},N);this._mlen=0;this._mods=[]}function nc(N,la,za,fb){var Ib=fb.sort;const Xb=Ib&&!fb.ignorePeers;fb=fb.frame||[null,0];N=N.data(za);za=N.length;const Bc=Xb?C(Ib):null;Ib={i0:0,i1:0,p0:0,p1:0,index:0,data:N,compare:Ib||k.constant(-1)};la.init();for(let rd=0;rd<za;++rd){var lc=Ib,Gc=fb,id=rd,Nc=za;lc.p0=lc.i0;lc.p1=
lc.i1;lc.i0=null==Gc[0]?0:Math.max(0,id-Math.abs(Gc[0]));lc.i1=null==Gc[1]?Nc:Math.min(Nc,id+Math.abs(Gc[1])+1);lc.index=id;if(Xb){lc=Ib;Gc=Bc;id=lc.i0;Nc=lc.i1-1;const Hd=lc.compare,Gd=lc.data,$d=Gd.length-1;0<id&&!Hd(Gd[id],Gd[id-1])&&(lc.i0=Gc.left(Gd,Gd[id]));Nc<$d&&!Hd(Gd[Nc],Gd[Nc+1])&&(lc.i1=Gc.right(Gd,Gd[Nc]))}la.update(Ib,N[rd])}}const dc=()=>{},ic={init:dc,add:dc,rem:dc,idx:0},Vc={values:{init:N=>N.cell.store=!0,value:N=>N.cell.data.values(),idx:-1},count:{value:N=>N.cell.num},__count__:{value:N=>
N.missing+N.valid},missing:{value:N=>N.missing},valid:{value:N=>N.valid},sum:{init:N=>N.sum=0,value:N=>N.sum,add:(N,la)=>N.sum+=+la,rem:(N,la)=>N.sum-=la},product:{init:N=>N.product=1,value:N=>N.valid?N.product:void 0,add:(N,la)=>N.product*=la,rem:(N,la)=>N.product/=la},mean:{init:N=>N.mean=0,value:N=>N.valid?N.mean:void 0,add:(N,la)=>(N.mean_d=la-N.mean,N.mean+=N.mean_d/N.valid),rem:(N,la)=>(N.mean_d=la-N.mean,N.mean-=N.valid?N.mean_d/N.valid:N.mean)},average:{value:N=>N.valid?N.mean:void 0,req:["mean"],
idx:1},variance:{init:N=>N.dev=0,value:N=>1<N.valid?N.dev/(N.valid-1):void 0,add:(N,la)=>N.dev+=N.mean_d*(la-N.mean),rem:(N,la)=>N.dev-=N.mean_d*(la-N.mean),req:["mean"],idx:1},variancep:{value:N=>1<N.valid?N.dev/N.valid:void 0,req:["variance"],idx:2},stdev:{value:N=>1<N.valid?Math.sqrt(N.dev/(N.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:N=>1<N.valid?Math.sqrt(N.dev/N.valid):void 0,req:["variance"],idx:2},stderr:{value:N=>1<N.valid?Math.sqrt(N.dev/(N.valid*(N.valid-1))):void 0,req:["variance"],
idx:2},distinct:{value:N=>N.cell.data.distinct(N.get),req:["values"],idx:3},ci0:{value:N=>N.cell.data.ci0(N.get),req:["values"],idx:3},ci1:{value:N=>N.cell.data.ci1(N.get),req:["values"],idx:3},median:{value:N=>N.cell.data.q2(N.get),req:["values"],idx:3},q1:{value:N=>N.cell.data.q1(N.get),req:["values"],idx:3},q3:{value:N=>N.cell.data.q3(N.get),req:["values"],idx:3},min:{init:N=>N.min=void 0,value:N=>N.min=Number.isNaN(N.min)?N.cell.data.min(N.get):N.min,add:(N,la)=>{if(la<N.min||void 0===N.min)N.min=
la},rem:(N,la)=>{la<=N.min&&(N.min=NaN)},req:["values"],idx:4},max:{init:N=>N.max=void 0,value:N=>N.max=Number.isNaN(N.max)?N.cell.data.max(N.get):N.max,add:(N,la)=>{if(la>N.max||void 0===N.max)N.max=la},rem:(N,la)=>{la>=N.max&&(N.max=NaN)},req:["values"],idx:4},argmin:{init:N=>N.argmin=void 0,value:N=>N.argmin||N.cell.data.argmin(N.get),add:(N,la,za)=>{la<N.min&&(N.argmin=za)},rem:(N,la)=>{la<=N.min&&(N.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:N=>N.argmax=void 0,value:N=>N.argmax||
N.cell.data.argmax(N.get),add:(N,la,za)=>{la>N.max&&(N.argmax=za)},rem:(N,la)=>{la>=N.max&&(N.argmax=void 0)},req:["max","values"],idx:3}},ed=Object.keys(Vc).filter(N=>"__count__"!==N);[...ed,"__count__"].forEach(N=>{Vc[N]=Ac(N,Vc[N])});const fd=Lb.prototype;fd.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};fd.add=function(N){this._add.push(N)};fd.rem=function(N){this._rem.push(N)};fd.values=function(){this._get=null;if(0===this._rem.length)return this._add;const N=this._add;
var la=this._rem;const za=this._key,fb=N.length,Ib=la.length,Xb=Array(fb-Ib),Bc={};let lc,Gc;for(lc=0;lc<Ib;++lc)Bc[za(la[lc])]=1;for(la=lc=0;lc<fb;++lc)Bc[za(Gc=N[lc])]?Bc[za(Gc)]=0:Xb[la++]=Gc;this._rem=[];return this._add=Xb};fd.distinct=function(N){const la=this.values(),za={};let fb=la.length,Ib=0,Xb;for(;0<=--fb;)Xb=N(la[fb])+"",k.hasOwnProperty(za,Xb)||(za[Xb]=1,++Ib);return Ib};fd.extent=function(N){if(this._get!==N||!this._ext){const la=this.values(),za=k.extentIndex(la,N);this._ext=[la[za[0]],
la[za[1]]];this._get=N}return this._ext};fd.argmin=function(N){return this.extent(N)[0]||{}};fd.argmax=function(N){return this.extent(N)[1]||{}};fd.min=function(N){const la=this.extent(N)[0];return null!=la?N(la):void 0};fd.max=function(N){const la=this.extent(N)[1];return null!=la?N(la):void 0};fd.quartile=function(N){this._get===N&&this._q||(this._q=ib.quartiles(this.values(),N),this._get=N);return this._q};fd.q1=function(N){return this.quartile(N)[0]};fd.q2=function(N){return this.quartile(N)[1]};
fd.q3=function(N){return this.quartile(N)[2]};fd.ci=function(N){this._get===N&&this._ci||(this._ci=ib.bootstrapCI(this.values(),1E3,.05,N),this._get=N);return this._ci};fd.ci0=function(N){return this.ci(N)[0]};fd.ci1=function(N){return this.ci(N)[1]};Db.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ed},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},
{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};k.inherits(Db,P.Transform,{transform(N,la){const za=this,fb=la.fork(la.NO_SOURCE|la.NO_FIELDS),Ib=N.modified();za.stamp=fb.stamp;za.value&&(Ib||la.modified(za._inputs,!0))?(za._prev=za.value,za.value=Ib?za.init(N):Object.create(null),la.visit(la.SOURCE,Xb=>za.add(Xb))):(za.value=za.value||za.init(N),la.visit(la.REM,Xb=>za.rem(Xb)),la.visit(la.ADD,Xb=>za.add(Xb)));fb.modifies(za._outputs);
za._drop=!1!==N.drop;N.cross&&1<za._dims.length&&(za._drop=!1,za.cross());la.clean()&&za._drop&&fb.clean(!0).runAfter(()=>this.clean());return za.changes(fb)},cross(){function N(lc){let Gc,id,Nc,rd;for(Gc in lc)for(Nc=lc[Gc].tuple,id=0;id<Bc;++id)Xb[id][rd=Nc[Ib[id]]]=rd}function la(lc,Gc,id){const Nc=Ib[id],rd=Xb[id++];for(const Hd in rd){const Gd=lc?lc+"|"+Hd:Hd;Gc[Nc]=rd[Hd];id<Bc?la(Gd,Gc,id):fb[Gd]||za.cell(Gd,Gc)}}const za=this,fb=za.value,Ib=za._dnames,Xb=Ib.map(()=>({})),Bc=Ib.length;N(za._prev);
N(fb);la("",{},0)},init(N){function la(Wd){Wd=k.array(k.accessorFields(Wd));const ae=Wd.length;let Ae=0,kf;for(;Ae<ae;++Ae)Ib[kf=Wd[Ae]]||(Ib[kf]=1,za.push(kf))}const za=this._inputs=[],fb=this._outputs=[],Ib={};this._dims=k.array(N.groupby);this._dnames=this._dims.map(Wd=>{const ae=k.accessorName(Wd);la(Wd);fb.push(ae);return ae});this.cellkey=N.key?N.key:vc(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Xb=N.fields||[null],Bc=N.ops||["count"];N=N.as||[];const lc=Xb.length,
Gc={};let id,Nc,rd,Hd,Gd,$d;lc!==Bc.length&&k.error("Unmatched number of fields and aggregate ops.");for($d=0;$d<lc;++$d)id=Xb[$d],Nc=Bc[$d],null==id&&"count"!==Nc&&k.error("Null aggregate field specified."),Hd=k.accessorName(id),Gd=N[$d]||Nc+(Hd?"_"+Hd:""),fb.push(Gd),"count"===Nc?this._counts.push(Gd):(rd=Gc[Hd],rd||(la(id),rd=Gc[Hd]=[],rd.field=id,this._measures.push(rd)),"count"!==Nc&&(this._countOnly=!1),rd.push(Vc[Nc](Gd)));this._measures=this._measures.map(Wd=>Kb(Wd,Wd.field));return Object.create(null)},
cellkey:vc(),cell(N,la){let za=this.value[N];za?0===za.num&&this._drop&&za.stamp<this.stamp?(za.stamp=this.stamp,this._adds[this._alen++]=za):za.stamp<this.stamp&&(za.stamp=this.stamp,this._mods[this._mlen++]=za):(za=this.value[N]=this.newcell(N,la),this._adds[this._alen++]=za);return za},newcell(N,la){N={key:N,num:0,agg:null,tuple:this.newtuple(la,this._prev&&this._prev[N]),stamp:this.stamp,store:!1};if(!this._countOnly){la=this._measures;const za=la.length;N.agg=Array(za);for(let fb=0;fb<za;++fb)N.agg[fb]=
new la[fb](N)}N.store&&(N.data=new Lb);return N},newtuple(N,la){const za=this._dnames,fb=this._dims,Ib=fb.length,Xb={};for(let Bc=0;Bc<Ib;++Bc)Xb[za[Bc]]=fb[Bc](N);return la?P.replace(la.tuple,Xb):P.ingest(Xb)},clean(){const N=this.value;for(const la in N)0===N[la].num&&delete N[la]},add(N){var la=this.cellkey(N);la=this.cell(la,N);la.num+=1;if(!this._countOnly){la.store&&la.data.add(N);la=la.agg;for(let za=0,fb=la.length;za<fb;++za)la[za].add(la[za].get(N),N)}},rem(N){var la=this.cellkey(N);la=this.cell(la,
N);--la.num;if(!this._countOnly){la.store&&la.data.rem(N);la=la.agg;for(let za=0,fb=la.length;za<fb;++za)la[za].rem(la[za].get(N),N)}},celltuple(N){const la=N.tuple,za=this._counts;N.store&&N.data.values();for(let fb=0,Ib=za.length;fb<Ib;++fb)la[za[fb]]=N.num;if(!this._countOnly){N=N.agg;for(let fb=0,Ib=N.length;fb<Ib;++fb)N[fb].set(la)}return la},changes(N){const la=this._adds,za=this._mods;var fb=this._prev;const Ib=this._drop,Xb=N.add,Bc=N.rem,lc=N.mod;let Gc;var id;if(fb)for(id in fb)Gc=fb[id],
Ib&&!Gc.num||Bc.push(Gc.tuple);fb=0;for(id=this._alen;fb<id;++fb)Xb.push(this.celltuple(la[fb])),la[fb]=null;fb=0;for(id=this._mlen;fb<id;++fb)Gc=za[fb],(0===Gc.num&&Ib?Bc:lc).push(this.celltuple(Gc)),za[fb]=null;this._alen=this._mlen=0;this._prev=null;return N}});Pb.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number",
"default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};k.inherits(Pb,P.Transform,{transform(N,la){const za=!1!==N.interval,fb=this._bins(N),Ib=fb.start,
Xb=fb.step,Bc=N.as||["bin0","bin1"],lc=Bc[0],Gc=Bc[1];N.modified()?(la=la.reflow(!0),N=la.SOURCE):N=la.modified(k.accessorFields(N.field))?la.ADD_MOD:la.ADD;la.visit(N,za?id=>{const Nc=fb(id);id[lc]=Nc;id[Gc]=null==Nc?null:Ib+Xb*(1+(Nc-Ib)/Xb)}:id=>id[lc]=fb(id));return la.modifies(za?Bc:lc)},_bins(N){if(this.value&&!N.modified())return this.value;const la=N.field,za=ib.bin(N),fb=za.step;let Ib=za.start,Xb=Ib+Math.ceil((za.stop-Ib)/fb)*fb;var Bc;null!=(Bc=N.anchor)&&(Bc-=Ib+fb*Math.floor((Bc-Ib)/
fb),Ib+=Bc,Xb+=Bc);Bc=function(lc){lc=k.toNumber(la(lc));return null==lc?null:lc<Ib?-Infinity:lc>Xb?Infinity:(lc=Math.max(Ib,Math.min(lc,Xb-fb)),Ib+fb*Math.floor(1E-14+(lc-Ib)/fb))};Bc.start=Ib;Bc.stop=za.stop;Bc.step=fb;return this.value=k.accessor(Bc,k.accessorFields(la),N.name||"bin_"+k.accessorName(la))}});pb.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};k.inherits(pb,P.Transform,{transform(N,la){const za=la.fork(la.ALL),fb=ab(P.tupleid,this.value,za.materialize(za.ADD).add),
Ib=N.sort;N=la.changed()||Ib&&(N.modified("sort")||la.modified(Ib.fields));za.visit(za.REM,fb.remove);this.modified(N);this.value=za.source=fb.data(P.stableCompare(Ib),N);la.source&&la.source.root&&(this.value.root=la.source.root);return za}});k.inherits(Qa,P.Operator);Ka.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},
{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};k.inherits(Ka,P.Transform,{transform(N,la){var za=Nc=>rd=>{rd=lc(rd);var Hd=Xb;switch(N.case){case "upper":rd=rd.toUpperCase();break;case "lower":rd=rd.toLowerCase()}rd=rd.match(Hd)||[];var Gd;Hd=0;for(var $d=rd.length;Hd<$d;++Hd)Bc.test(Gd=rd[Hd])||Nc(Gd)};const fb=this._parameterCheck(N,la),Ib=this._counts,Xb=this._match,Bc=this._stop,lc=N.field,Gc=N.as||["text","count"],id=za(Nc=>
Ib[Nc]=1+(Ib[Nc]||0));za=za(Nc=>--Ib[Nc]);fb?la.visit(la.SOURCE,id):(la.visit(la.ADD,id),la.visit(la.REM,za));return this._finish(la,Gc)},_parameterCheck(N,la){let za=!1;if(N.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(N.stopwords||"")+"$","i"),za=!0;if(N.modified("pattern")||!this._match)this._match=new RegExp(N.pattern||"[\\w']+","g"),za=!0;if(N.modified("field")||la.modified(N.field.fields))za=!0;za&&(this._counts={});return za},_finish(N,la){const za=this._counts,fb=this._tuples||
(this._tuples={}),Ib=la[0],Xb=la[1];N=N.fork(N.NO_SOURCE|N.NO_FIELDS);let Bc,lc,Gc;for(Bc in za)lc=fb[Bc],Gc=za[Bc]||0,!lc&&Gc?(fb[Bc]=lc=P.ingest({}),lc[Ib]=Bc,lc[Xb]=Gc,N.add.push(lc)):0===Gc?(lc&&N.rem.push(lc),za[Bc]=null,fb[Bc]=null):lc[Xb]!==Gc&&(lc[Xb]=Gc,N.mod.push(lc));return N.modifies(la)}});lb.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};k.inherits(lb,P.Transform,{transform(N,la){const za=
la.fork(la.NO_SOURCE),fb=N.as||["a","b"],Ib=fb[0],Xb=fb[1];var Bc=!this.value||la.changed(la.ADD_REM)||N.modified("as")||N.modified("filter"),lc=this.value;if(Bc){lc&&(za.rem=lc);la=lc=la.materialize(la.SOURCE).source;N=N.filter||k.truthy;Bc=[];lc={};for(var Gc=la.length,id=0,Nc,rd;id<Gc;++id)for(lc[Ib]=rd=la[id],Nc=0;Nc<Gc;++Nc)lc[Xb]=la[Nc],N(lc)&&(Bc.push(P.ingest(lc)),lc={},lc[Ib]=rd);za.add=this.value=Bc}else za.mod=lc;za.source=this.value;return za.modifies(fb)}});const Qd={kde:ib.randomKDE,
mixture:ib.randomMixture,normal:ib.randomNormal,lognormal:ib.randomLogNormal,uniform:ib.randomUniform},Td=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",
type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Pa.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Td.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:Td},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};k.inherits(Pa,P.Transform,{transform(N,la){const za=la.fork(la.NO_SOURCE|la.NO_FIELDS);if(!this.value||la.changed()||N.modified()){const fb=mb(N.distribution,xb(la));la=N.steps||N.minsteps||25;const Ib=N.steps||N.maxsteps||200;let Xb=N.method||"pdf";"pdf"!==Xb&&"cdf"!==Xb&&k.error("Invalid density method: "+Xb);N.extent||fb.data||k.error("Missing density extent parameter.");
Xb=fb[Xb];const Bc=N.as||["value","density"];N=N.extent||k.extent(fb.data());N=ib.sampleCurve(Xb,N,la,Ib).map(lc=>{const Gc={};Gc[Bc[0]]=lc[0];Gc[Bc[1]]=lc[1];return P.ingest(Gc)});this.value&&(za.rem=this.value);this.value=za.add=za.source=N}return za}});Wb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
k.inherits(Wb,P.Transform,{transform(N,la){if(this.value&&!N.modified()&&!la.changed())return la;var za=la.materialize(la.SOURCE).source;const fb=Qb(la.source,N.groupby,k.identity),Ib=N.smooth||!1,Xb=N.field;za=N.step||k.span(k.extent(za,Xb))/30;const Bc=P.stableCompare((Hd,Gd)=>Xb(Hd)-Xb(Gd));N=N.as||"bin";const lc=fb.length;let Gc=Infinity,id=-Infinity,Nc=0,rd;for(;Nc<lc;++Nc){const Hd=fb[Nc].sort(Bc);rd=-1;for(const Gd of ib.dotbin(Hd,za,Ib,Xb))Gd<Gc&&(Gc=Gd),Gd>id&&(id=Gd),Hd[++rd][N]=Gd}this.value=
{start:Gc,stop:id,step:za};return la.reflow(!0).modifies(N)}});k.inherits(nb,P.Operator);Z.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};k.inherits(Z,P.Transform,{transform(N,la){var za=this.value;const fb=N.field;N=la.changed()||la.modified(fb.fields)||N.modified("field");let Ib=za[0],Xb=za[1];if(N||null==Ib)Ib=Infinity,Xb=-Infinity;la.visit(N?la.SOURCE:la.ADD,Bc=>{Bc=k.toNumber(fb(Bc));null!=Bc&&(Bc<Ib&&(Ib=Bc),Bc>Xb&&(Xb=Bc))});Number.isFinite(Ib)&&Number.isFinite(Xb)||
((za=k.accessorName(fb))&&(za=` for field "${za}"`),la.dataflow.warn(`Infinite extent${za}: [${Ib}, ${Xb}]`),Ib=Xb=void 0);this.value=[Ib,Xb]}});k.inherits(Fa,P.Operator,{connect(N){this.detachSubflow=N.detachSubflow;this.targets().add(N);return N.source=this},add(N){this.count+=1;this.value.add.push(N)},rem(N){--this.count;this.value.rem.push(N)},mod(N){this.value.mod.push(N)},init(N){this.value.init(N,N.NO_SOURCE)},evaluate(){return this.value}});k.inherits(Ga,P.Transform,{activate(N){this._targets[this._targets.active++]=
N},subflow(N,la,za,fb){const Ib=this.value;let Xb=k.hasOwnProperty(Ib,N)&&Ib[N],Bc;Xb?Xb.value.stamp<za.stamp&&(Xb.init(za),this.activate(Xb)):(Bc=fb||(Bc=this._group[N])&&Bc.tuple,fb=za.dataflow,Xb=new Fa(za.fork(za.NO_SOURCE),this),fb.add(Xb).connect(la(fb,N,Bc)),Ib[N]=Xb,this.activate(Xb));return Xb},clean(){var N=this.value;let la=0;for(const za in N)if(0===N[za].count){const fb=N[za].detachSubflow;fb&&fb();delete N[za];++la}la&&(N=this._targets.filter(za=>za&&0<za.count),this.initTargets(N))},
initTargets(N){const la=this._targets,za=la.length,fb=N?N.length:0;let Ib=0;for(;Ib<fb;++Ib)la[Ib]=N[Ib];for(;Ib<za&&null!=la[Ib];++Ib)la[Ib]=null;la.active=fb},transform(N,la){const za=la.dataflow,fb=N.key,Ib=N.subflow,Xb=this._keys,Bc=N.modified("key"),lc=Gc=>this.subflow(Gc,Ib,la);this._group=N.group||{};this.initTargets();la.visit(la.REM,Gc=>{const id=P.tupleid(Gc),Nc=Xb.get(id);void 0!==Nc&&(Xb.delete(id),lc(Nc).rem(Gc))});la.visit(la.ADD,Gc=>{const id=fb(Gc);Xb.set(P.tupleid(Gc),id);lc(id).add(Gc)});
Bc||la.modified(fb.fields)?la.visit(la.MOD,Gc=>{const id=P.tupleid(Gc),Nc=Xb.get(id),rd=fb(Gc);Nc===rd?lc(rd).mod(Gc):(Xb.set(id,rd),lc(Nc).rem(Gc),lc(rd).add(Gc))}):la.changed(la.MOD)&&la.visit(la.MOD,Gc=>{lc(Xb.get(P.tupleid(Gc))).mod(Gc)});Bc&&la.visit(la.REFLOW,Gc=>{const id=P.tupleid(Gc),Nc=Xb.get(id),rd=fb(Gc);Nc!==rd&&(Xb.set(id,rd),lc(Nc).rem(Gc),lc(rd).add(Gc))});la.clean()?za.runAfter(()=>{this.clean();Xb.clean()}):Xb.empty>za.cleanThreshold&&za.runAfter(Xb.clean);return la}});k.inherits(db,
P.Operator);ma.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};k.inherits(ma,P.Transform,{transform(N,la){function za(rd){const Hd=P.tupleid(rd),Gd=id(rd,N),$d=Ib.get(Hd);Gd&&$d?(Ib.delete(Hd),Bc.push(rd)):Gd||$d?Nc&&Gd&&!$d&&Gc.push(rd):(Ib.set(Hd,1),lc.push(rd))}const fb=la.dataflow,Ib=this.value,Xb=la.fork(),Bc=Xb.add,lc=Xb.rem,Gc=Xb.mod,id=N.expr;let Nc=!0;la.visit(la.REM,rd=>{const Hd=P.tupleid(rd);Ib.has(Hd)?Ib.delete(Hd):lc.push(rd)});la.visit(la.ADD,
rd=>{id(rd,N)?Bc.push(rd):Ib.set(P.tupleid(rd),1)});la.visit(la.MOD,za);N.modified()&&(Nc=!1,la.visit(la.REFLOW,za));Ib.empty>fb.cleanThreshold&&fb.runAfter(Ib.clean);return Xb}});q.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};k.inherits(q,P.Transform,{transform(N,la){const za=la.fork(la.NO_SOURCE),fb=N.fields,Ib=sb(fb,N.as||[]),Xb=N.index||null,Bc=Ib.length;za.rem=this.value;
la.visit(la.SOURCE,lc=>{const Gc=fb.map($d=>$d(lc)),id=Gc.reduce(($d,Wd)=>Math.max($d,Wd.length),0);let Nc=0,rd,Hd,Gd;for(;Nc<id;++Nc){Hd=P.derive(lc);for(rd=0;rd<Bc;++rd)Hd[Ib[rd]]=null==(Gd=Gc[rd][Nc])?null:Gd;Xb&&(Hd[Xb]=Nc);za.add.push(Hd)}});this.value=za.source=za.add;Xb&&za.modifies(Xb);return za.modifies(Ib)}});M.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};
k.inherits(M,P.Transform,{transform(N,la){const za=la.fork(la.NO_SOURCE),fb=N.fields,Ib=fb.map(k.accessorName);N=N.as||["key","value"];const Xb=N[0],Bc=N[1],lc=fb.length;za.rem=this.value;la.visit(la.SOURCE,Gc=>{for(let id=0,Nc;id<lc;++id)Nc=P.derive(Gc),Nc[Xb]=Ib[id],Nc[Bc]=fb[id](Gc),za.add.push(Nc)});this.value=za.source=za.add;return za.modifies(N)}});Q.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",
type:"boolean"}]};k.inherits(Q,P.Transform,{transform(N,la){const za=N.expr,fb=N.as,Ib=N.modified(),Xb=N.initonly?la.ADD:Ib?la.SOURCE:la.modified(za.fields)||la.modified(fb)?la.ADD_MOD:la.ADD;Ib&&(la=la.materialize().reflow(!0));N.initonly||la.modifies(fb);return la.visit(Xb,Bc=>Bc[fb]=za(Bc,N))}});k.inherits(g,P.Transform,{transform(N,la){la=la.fork(la.ALL);const za=N.generator;let fb=this.value,Ib=N.size-fb.length,Xb,Bc;if(0<Ib){for(Xb=[];0<=--Ib;)Xb.push(Bc=P.ingest(za(N))),fb.push(Bc);la.add=
la.add.length?la.materialize(la.ADD).add.concat(Xb):Xb}else N=fb.slice(0,-Ib),la.rem=la.rem.length?la.materialize(la.REM).rem.concat(N):N,fb=fb.slice(-Ib);la.source=this.value=fb;return la}});const Fd={value:"value",median:function(N,la){var za=.5;N=Float64Array.from(A(N,la));if((la=N.length)&&!isNaN(za=+za))if(0>=za||2>la)N=Aa(N);else if(1<=za)N=V(N);else{za*=la-1;la=Math.floor(za);var fb=V(Y(N,la).subarray(0,la+1));N=Aa(N.subarray(la+1));N=fb+(N-fb)*(za-la)}else N=void 0;return N},mean:function(N,
la){let za=0,fb=0;if(void 0===la)for(var Ib of N)null!=Ib&&(Ib=+Ib)>=Ib&&(++za,fb+=Ib);else{Ib=-1;for(let Xb of N)null!=(Xb=la(Xb,++Ib,N))&&(Xb=+Xb)>=Xb&&(++za,fb+=Xb)}if(za)return fb/za},min:Aa,max:V},Zd=[];va.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},
{name:"value","default":0}]};k.inherits(va,P.Transform,{transform(N,la){var za=la.fork(la.ALL),fb=La(N),Ib=Wa(N),Xb=k.accessorName(N.field),Bc=k.accessorName(N.key),lc=(N.groupby||[]).map(k.accessorName);N=$a(la.source,N.groupby,N.key,N.keyvals);la=[];var Gc=this.value,id=N.domain.length,Nc,rd,Hd;var Gd=0;for(rd=N.length;Gd<rd;++Gd){var $d=N[Gd];var Wd=$d.values;var ae=NaN;for(Nc=0;Nc<id;++Nc)if(null==$d[Nc]){var Ae=N.domain[Nc];var kf={_impute:!0};var hf=0;for(Hd=Wd.length;hf<Hd;++hf)kf[lc[hf]]=
Wd[hf];kf[Bc]=Ae;kf[Xb]=Number.isNaN(ae)?ae=fb($d,Ib):ae;la.push(P.ingest(kf))}}la.length&&(za.add=za.materialize(za.ADD).add.concat(la));Gc.length&&(za.rem=za.materialize(za.REM).rem.concat(Gc));this.value=la;return za}});X.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:ed},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};k.inherits(X,
Db,{transform(N,la){const za=this,fb=N.modified();let Ib;za.value&&(fb||la.modified(za._inputs,!0))?(Ib=za.value=fb?za.init(N):{},la.visit(la.SOURCE,Xb=>za.add(Xb))):(Ib=za.value=za.value||this.init(N),la.visit(la.REM,Xb=>za.rem(Xb)),la.visit(la.ADD,Xb=>za.add(Xb)));za.changes();la.visit(la.SOURCE,Xb=>{k.extend(Xb,Ib[za.cellkey(Xb)].tuple)});return la.reflow(fb).modifies(this._outputs)},changes(){const N=this._adds,la=this._mods;let za,fb;za=0;for(fb=this._alen;za<fb;++za)this.celltuple(N[za]),N[za]=
null;za=0;for(fb=this._mlen;za<fb;++za)this.celltuple(la[za]),la[za]=null;this._alen=this._mlen=0}});Ca.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};k.inherits(Ca,P.Transform,{transform(N,la){const za=la.fork(la.NO_SOURCE|la.NO_FIELDS);if(!this.value||la.changed()||N.modified()){la=la.materialize(la.SOURCE).source;const fb=Qb(la,N.groupby,N.field),Ib=(N.groupby||[]).map(k.accessorName),Xb=N.bandwidth,Bc=N.cumulative?"cdf":"pdf",lc=N.as||["value","density"],Gc=
[];let id=N.extent,Nc=N.steps||N.minsteps||25,rd=N.steps||N.maxsteps||200;"pdf"!==Bc&&"cdf"!==Bc&&k.error("Invalid density method: "+Bc);"shared"===N.resolve&&(id||(id=k.extent(la,N.field)),Nc=rd=N.steps||rd);fb.forEach(Hd=>{const Gd=ib.randomKDE(Hd,Xb)[Bc],$d=N.counts?Hd.length:1,Wd=id||k.extent(Hd);ib.sampleCurve(Gd,Wd,Nc,rd).forEach(ae=>{const Ae={};for(let kf=0;kf<Ib.length;++kf)Ae[Ib[kf]]=Hd.dims[kf];Ae[lc[0]]=ae[0];Ae[lc[1]]=ae[1]*$d;Gc.push(P.ingest(Ae))})});this.value&&(za.rem=this.value);
this.value=za.add=za.source=Gc}return za}});k.inherits(Xa,P.Operator);k.inherits(yc,P.Transform,{transform(N,la){const za=la.dataflow;return this._pending?xc(this,la,this._pending):sc(N)?la.StopPropagation:N.values?xc(this,la,za.parse(N.values,N.format)):N.async?{async:za.request(N.url,N.format).then(fb=>{this._pending=k.array(fb.data);return Ib=>Ib.touch(this)})}:za.request(N.url,N.format).then(fb=>xc(this,la,k.array(fb.data)))}});dd.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};k.inherits(dd,P.Transform,{transform(N,la){const za=N.fields,fb=N.index,Ib=N.values,Xb=null==N.default?null:N.default;var Bc=N.modified();const lc=za.length;let Gc=Bc?la.SOURCE:la.ADD,id=la,Nc=N.as,rd;Ib?(rd=Ib.length,1<lc&&!Nc&&k.error('Multi-field lookup requires explicit "as" parameter.'),
Nc&&Nc.length!==lc*rd&&k.error('The "as" parameter has too few output field names.'),Nc=Nc||Ib.map(k.accessorName),N=function(Hd){for(var Gd=0,$d=0,Wd,ae;Gd<lc;++Gd)if(ae=fb.get(za[Gd](Hd)),null==ae)for(Wd=0;Wd<rd;++Wd,++$d)Hd[Nc[$d]]=Xb;else for(Wd=0;Wd<rd;++Wd,++$d)Hd[Nc[$d]]=Ib[Wd](ae)}):(Nc||k.error("Missing output field names."),N=function(Hd){for(var Gd=0,$d;Gd<lc;++Gd)$d=fb.get(za[Gd](Hd)),Hd[Nc[Gd]]=null==$d?Xb:$d});Bc?id=la.reflow(!0):(Bc=za.some(Hd=>la.modified(Hd.fields)),Gc|=Bc?la.MOD:
0);la.visit(Gc,N);return id.modifies(Nc)}});k.inherits(Zb,P.Operator);k.inherits(Pd,P.Operator);k.inherits(Vb,P.Transform,{transform(N,la){this.modified(N.modified());this.value=N;return la.fork(la.NO_SOURCE|la.NO_FIELDS)}});qb.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:ed,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};k.inherits(qb,Db,{_transform:Db.prototype.transform,transform(N,la){return this._transform(Tb(N,la),la)}});k.inherits(Ic,Ga,{transform(N,la){const za=N.subflow,fb=N.field,Ib=Xb=>this.subflow(P.tupleid(Xb),za,la,Xb);(N.modified("field")||fb&&la.modified(k.accessorFields(fb)))&&k.error("PreFacet does not support field modification.");this.initTargets();fb?(la.visit(la.MOD,Xb=>{const Bc=Ib(Xb);fb(Xb).forEach(lc=>Bc.mod(lc))}),la.visit(la.ADD,Xb=>{const Bc=Ib(Xb);fb(Xb).forEach(lc=>
Bc.add(P.ingest(lc)))}),la.visit(la.REM,Xb=>{const Bc=Ib(Xb);fb(Xb).forEach(lc=>Bc.rem(lc))})):(la.visit(la.MOD,Xb=>Ib(Xb).mod(Xb)),la.visit(la.ADD,Xb=>Ib(Xb).add(Xb)),la.visit(la.REM,Xb=>Ib(Xb).rem(Xb)));la.clean()&&la.runAfter(()=>this.clean());return la}});zc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};k.inherits(zc,P.Transform,{transform(N,la){const za=la.fork(la.NO_SOURCE),fb=N.fields,
Ib=sb(N.fields,N.as||[]),Xb=fb?(lc,Gc)=>{for(let id=0,Nc=fb.length;id<Nc;++id)Gc[Ib[id]]=fb[id](lc);return Gc}:P.rederive;let Bc;this.value?Bc=this.value:(la=la.addAll(),Bc=this.value={});la.visit(la.REM,lc=>{lc=P.tupleid(lc);za.rem.push(Bc[lc]);Bc[lc]=null});la.visit(la.ADD,lc=>{const Gc=Xb(lc,P.ingest({}));Bc[P.tupleid(lc)]=Gc;za.add.push(Gc)});la.visit(la.MOD,lc=>{za.mod.push(Xb(lc,Bc[P.tupleid(lc)]))});return za}});k.inherits(Zc,P.Transform,{transform(N,la){this.value=N.value;return N.modified("value")?
la.fork(la.NO_SOURCE|la.NO_FIELDS):la.StopPropagation}});Md.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};k.inherits(Md,P.Transform,{transform(N,la){const za=la.fork(la.NO_SOURCE|la.NO_FIELDS),fb=N.as||["prob","value"];if(this.value&&!N.modified()&&!la.changed())return za.source=
this.value,za;la=la.materialize(la.SOURCE).source;la=Qb(la,N.groupby,N.field);const Ib=(N.groupby||[]).map(k.accessorName),Xb=[],Bc=N.step||.01,lc=N.probs||L(Bc/2,1-1E-14,Bc),Gc=lc.length;la.forEach(id=>{const Nc=ib.quantiles(id,lc);for(let rd=0;rd<Gc;++rd){const Hd={};for(let Gd=0;Gd<Ib.length;++Gd)Hd[Ib[Gd]]=id.dims[Gd];Hd[fb[0]]=lc[rd];Hd[fb[1]]=Nc[rd];Xb.push(P.ingest(Hd))}});this.value&&(za.rem=this.value);this.value=za.add=za.source=Xb;return za}});k.inherits(td,P.Transform,{transform(N,la){let za,
fb;this.value?fb=this.value:(za=la=la.addAll(),fb=this.value={});N.derive&&(za=la.fork(la.NO_SOURCE),la.visit(la.REM,Ib=>{Ib=P.tupleid(Ib);za.rem.push(fb[Ib]);fb[Ib]=null}),la.visit(la.ADD,Ib=>{const Xb=P.derive(Ib);fb[P.tupleid(Ib)]=Xb;za.add.push(Xb)}),la.visit(la.MOD,Ib=>{const Xb=fb[P.tupleid(Ib)];for(const Bc in Ib)Xb[Bc]=Ib[Bc],za.modifies(Bc);za.mod.push(Xb)}));return za}});Ha.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};k.inherits(Ha,P.Transform,
{transform(N,la){function za(Nc){let rd,Hd;lc.length<Xb?lc.push(Nc):(Hd=~~((Gc+1)*ib.random()),Hd<lc.length&&Hd>=id&&(rd=lc[Hd],Bc[P.tupleid(rd)]&&fb.rem.push(rd),lc[Hd]=Nc));++Gc}const fb=la.fork(la.NO_SOURCE);var Ib=N.modified("size");const Xb=N.size,Bc=this.value.reduce((Nc,rd)=>(Nc[P.tupleid(rd)]=1,Nc),{});let lc=this.value,Gc=this.count,id=0;la.rem.length&&(la.visit(la.REM,Nc=>{const rd=P.tupleid(Nc);Bc[rd]&&(Bc[rd]=-1,fb.rem.push(Nc));--Gc}),lc=lc.filter(Nc=>-1!==Bc[P.tupleid(Nc)]));(la.rem.length||
Ib)&&lc.length<Xb&&la.source&&(id=Gc=lc.length,la.visit(la.SOURCE,Nc=>{Bc[P.tupleid(Nc)]||za(Nc)}),id=-1);if(Ib&&lc.length>Xb){N=lc.length-Xb;for(Ib=0;Ib<N;++Ib)Bc[P.tupleid(lc[Ib])]=-1,fb.rem.push(lc[Ib]);lc=lc.slice(N)}la.mod.length&&la.visit(la.MOD,Nc=>{Bc[P.tupleid(Nc)]&&fb.mod.push(Nc)});la.add.length&&la.visit(la.ADD,za);if(la.add.length||0>id)fb.add=lc.filter(Nc=>!Bc[P.tupleid(Nc)]);this.count=Gc;this.value=fb.source=lc;return fb}});gb.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},
params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};k.inherits(gb,P.Transform,{transform(N,la){if(!this.value||N.modified()){var za=la.materialize().fork(la.MOD),fb=N.as||"data";za.rem=this.value?la.rem.concat(this.value):la.rem;this.value=L(N.start,N.stop,N.step||1).map(Ib=>{const Xb={};Xb[fb]=Ib;return P.ingest(Xb)});za.add=la.add.concat(this.value);return za}}});k.inherits(wb,
P.Transform,{transform(N,la){this.value=la.source;return la.changed()?la.fork(la.NO_SOURCE|la.NO_FIELDS):la.StopPropagation}});const de=["unit0","unit1"];sa.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:Hb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",
"default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":de}]};k.inherits(sa,P.Transform,{transform(N,la){const za=N.field,fb=!1!==N.interval;var Ib="utc"===N.timezone;const Xb=this._floor(N,la),Bc=(Ib?Hb.utcInterval:Hb.timeInterval)(Xb.unit).offset;Ib=N.as||de;const lc=Ib[0],Gc=Ib[1],id=Xb.step;let Nc=Xb.start||Infinity,rd=Xb.stop||-Infinity,Hd=la.ADD;if(N.modified()||la.changed(la.REM)||la.modified(k.accessorFields(za)))la=la.reflow(!0),Hd=la.SOURCE,Nc=Infinity,
rd=-Infinity;la.visit(Hd,Gd=>{var $d=za(Gd);let Wd;null==$d?(Gd[lc]=null,fb&&(Gd[Gc]=null)):(Gd[lc]=$d=Wd=Xb($d),fb&&(Gd[Gc]=Wd=Bc($d,id)),$d<Nc&&(Nc=$d),Wd>rd&&(rd=Wd))});Xb.start=Nc;Xb.stop=rd;return la.modifies(fb?Ib:lc)},_floor(N,la){var za="utc"===N.timezone;const {units:fb,step:Ib}=N.units?{units:N.units,step:N.step||1}:Hb.timeBin({extent:N.extent||k.extent(la.materialize(la.SOURCE).source,N.field),maxbins:N.maxbins});N=Hb.timeUnits(fb);la=this.value||{};za=(za?Hb.utcFloor:Hb.timeFloor)(N,Ib);
za.unit=k.peek(N);za.units=N;za.step=Ib;za.start=la.start;za.stop=la.stop;return this.value=za}});k.inherits(F,P.Transform,{transform(N,la){const za=la.dataflow,fb=N.field,Ib=this.value,Xb=lc=>Ib.set(fb(lc),lc);let Bc=!0;N.modified("field")||la.modified(fb.fields)?(Ib.clear(),la.visit(la.SOURCE,Xb)):la.changed()?(la.visit(la.REM,lc=>Ib.delete(fb(lc))),la.visit(la.ADD,Xb)):Bc=!1;this.modified(Bc);Ib.empty>za.cleanThreshold&&za.runAfter(Ib.clean);return la.fork()}});k.inherits(ya,P.Transform,{transform(N,
la){if(!this.value||N.modified("field")||N.modified("sort")||la.changed()||N.sort&&la.modified(N.sort.fields))this.value=(N.sort?la.source.slice().sort(P.stableCompare(N.sort)):la.source).map(N.field)}});const Ud={row_number:function(){return{next:N=>N.index+1}},rank:function(){let N;return{init:()=>N=1,next:la=>{const za=la.index,fb=la.data;return za&&la.compare(fb[za-1],fb[za])?N=za+1:N}}},dense_rank:function(){let N;return{init:()=>N=1,next:la=>{const za=la.index,fb=la.data;return za&&la.compare(fb[za-
1],fb[za])?++N:N}}},percent_rank:function(){const N=Ud.rank(),la=N.next;return{init:N.init,next:za=>(la(za)-1)/(za.data.length-1)}},cume_dist:function(){let N;return{init:()=>N=0,next:la=>{const za=la.data,fb=la.compare;la=la.index;if(N<la){for(;la+1<za.length&&!fb(za[la],za[la+1]);)++la;N=la}return(1+N)/za.length}}},ntile:function(N,la){la=+la;0<la||k.error("ntile num must be greater than zero.");N=Ud.cume_dist();const za=N.next;return{init:N.init,next:fb=>Math.ceil(la*za(fb))}},lag:function(N,la){la=
+la||1;return{next:za=>{const fb=za.index-la;return 0<=fb?N(za.data[fb]):null}}},lead:function(N,la){la=+la||1;return{next:za=>{const fb=za.index+la;za=za.data;return fb<za.length?N(za[fb]):null}}},first_value:function(N){return{next:la=>N(la.data[la.i0])}},last_value:function(N){return{next:la=>N(la.data[la.i1-1])}},nth_value:function(N,la){la=+la;0<la||k.error("nth_value nth must be greater than zero.");return{next:za=>{const fb=za.i0+(la-1);return fb<za.i1?N(za.data[fb]):null}}},prev_value:function(N){let la;
return{init:()=>la=null,next:za=>{za=N(za.data[za.index]);return null!=za?la=za:la}}},next_value:function(N){let la,za;return{init:()=>(la=null,za=-1),next:fb=>{var Ib=fb.data;if(fb.index<=za)Ib=la;else{a:{fb=fb.index;for(let Xb=Ib.length;fb<Xb;++fb)if(null!=N(Ib[fb]))break a;fb=-1}Ib=0>(za=fb)?(za=Ib.length,la=null):la=N(Ib[za])}return Ib}}}},Ve=Object.keys(Ud),Xd=Za.prototype;Xd.init=function(){this.windows.forEach(N=>N.init());this.cell&&this.cell.init()};Xd.update=function(N,la){const za=this.cell,
fb=this.windows,Ib=N.data,Xb=fb&&fb.length;let Bc;if(za){for(Bc=N.p0;Bc<N.i0;++Bc)za.rem(Ib[Bc]);for(Bc=N.p1;Bc<N.i1;++Bc)za.add(Ib[Bc]);za.set(la)}for(Bc=0;Bc<Xb;++Bc)fb[Bc].update(N,la)};Gb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Ve.concat(ed)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,
array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};k.inherits(Gb,P.Transform,{transform(N,la){this.stamp=la.stamp;const za=N.modified(),fb=P.stableCompare(N.sort),Ib=vc(N.groupby),Xb=lc=>this.group(Ib(lc));let Bc=this.state;if(!Bc||za)Bc=this.state=new Za(N);za||la.modified(Bc.inputs)?(this.value={},la.visit(la.SOURCE,lc=>Xb(lc).add(lc))):(la.visit(la.REM,lc=>Xb(lc).remove(lc)),la.visit(la.ADD,lc=>Xb(lc).add(lc)));
for(let lc=0,Gc=this._mlen;lc<Gc;++lc)nc(this._mods[lc],Bc,fb,N);this._mlen=0;this._mods=[];return la.reflow(za).modifies(Bc.outputs)},group(N){let la=this.value[N];la||(la=this.value[N]=ab(P.tupleid),la.stamp=-1);la.stamp<this.stamp&&(la.stamp=this.stamp,this._mods[this._mlen++]=la);return la}});v.aggregate=Db;v.bin=Pb;v.collect=pb;v.compare=Qa;v.countpattern=Ka;v.cross=lb;v.density=Pa;v.dotbin=Wb;v.expression=nb;v.extent=Z;v.facet=Ga;v.field=db;v.filter=ma;v.flatten=q;v.fold=M;v.formula=Q;v.generate=
g;v.impute=va;v.joinaggregate=X;v.kde=Ca;v.key=Xa;v.load=yc;v.lookup=dd;v.multiextent=Zb;v.multivalues=Pd;v.params=Vb;v.pivot=qb;v.prefacet=Ic;v.project=zc;v.proxy=Zc;v.quantile=Md;v.relay=td;v.sample=Ha;v.sequence=gb;v.sieve=wb;v.subflow=Fa;v.timeunit=sa;v.tupleindex=F;v.values=ya;v.window=Gb})};
shadow$provide[31]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function k(P,ib){if("undefined"!==typeof document&&document.createElement){const Hb=document.createElement("canvas");if(Hb&&Hb.getContext)return Hb.width=P,Hb.height=ib,Hb}return null}v.canvas=k;v.domCanvas=k;v.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[32]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(22)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(w,T,aa){T=w-T+2*aa;return w?0<T?T:1:0}function Hb(w){return function(T){let aa=T[0];T=T[1];let Ea;T<aa&&(Ea=aa,aa=T,T=Ea);return[w.invert(aa),w.invert(T)]}}function ac(w){return function(T){const aa=
w.range();let Ea=T[0];T=T[1];let rb=-1,zb;let Mb;if(T<Ea){var Nb=Ea;Ea=T;T=Nb}Nb=0;for(Mb=aa.length;Nb<Mb;++Nb)aa[Nb]>=Ea&&aa[Nb]<=T&&(0>rb&&(rb=Nb),zb=Nb);if(!(0>rb))return Ea=w.invertExtent(aa[rb]),T=w.invertExtent(aa[zb]),[void 0===Ea[0]?Ea[1]:Ea[0],void 0===T[1]?T[0]:T[1]]}}function vc(w,T){return null==w||null==T?NaN:w<T?-1:w>T?1:w>=T?0:NaN}function Ac(w,T){return null==w||null==T?NaN:T<w?-1:T>w?1:T>=w?0:NaN}function uc(w){function T(zb,Mb,Nb=0,Mc=zb.length){if(Nb<Mc){if(0!==aa(Mb,Mb))return Mc;
do{const Ed=Nb+Mc>>>1;0>Ea(zb[Ed],Mb)?Nb=Ed+1:Mc=Ed}while(Nb<Mc)}return Nb}let aa,Ea,rb;2!==w.length?(aa=vc,Ea=(zb,Mb)=>vc(w(zb),Mb),rb=(zb,Mb)=>w(zb)-Mb):(aa=w===vc||w===Ac?w:Cb,rb=Ea=w);return{left:T,center:function(zb,Mb,Nb=0,Mc=zb.length){Mc=T(zb,Mb,Nb,Mc-1);return Mc>Nb&&rb(zb[Mc-1],Mb)>-rb(zb[Mc],Mb)?Mc-1:Mc},right:function(zb,Mb,Nb=0,Mc=zb.length){if(Nb<Mc){if(0!==aa(Mb,Mb))return Mc;do{const Ed=Nb+Mc>>>1;0>=Ea(zb[Ed],Mb)?Nb=Ed+1:Mc=Ed}while(Nb<Mc)}return Nb}}}function Cb(){return 0}function jc(w){return null===
w?NaN:+w}function Yb({_intern:w,_key:T},aa){T=T(aa);return w.has(T)?w.get(T):aa}function Ua({_intern:w,_key:T},aa){T=T(aa);if(w.has(T))return w.get(T);w.set(T,aa);return aa}function ub({_intern:w,_key:T},aa){T=T(aa);w.has(T)&&(aa=w.get(T),w.delete(T));return aa}function Kb(w){return null!==w&&"object"===typeof w?w.valueOf():w}function Lb(w,T,aa){var Ea=(T-w)/Math.max(0,aa),rb=Math.floor(Math.log10(Ea));Ea/=Math.pow(10,rb);Ea=Ea>=xg?10:Ea>=zh?5:Ea>=yh?2:1;let zb;0>rb?(zb=Math.pow(10,-rb)/Ea,rb=Math.round(w*
zb),Ea=Math.round(T*zb),rb/zb<w&&++rb,Ea/zb>T&&--Ea,zb=-zb):(zb=Math.pow(10,rb)*Ea,rb=Math.round(w/zb),Ea=Math.round(T/zb),rb*zb<w&&++rb,Ea*zb>T&&--Ea);return Ea<rb&&.5<=aa&&2>aa?Lb(w,T,2*aa):[rb,Ea,zb]}function Db(w,T,aa){T=+T;w=+w;aa=+aa;if(!(0<aa))return[];if(w===T)return[w];var Ea=T<w;const [rb,zb,Mb]=Ea?Lb(T,w,aa):Lb(w,T,aa);if(!(zb>=rb))return[];w=zb-rb+1;T=Array(w);if(Ea)if(0>Mb)for(Ea=0;Ea<w;++Ea)T[Ea]=(zb-Ea)/-Mb;else for(Ea=0;Ea<w;++Ea)T[Ea]=(zb-Ea)*Mb;else if(0>Mb)for(Ea=0;Ea<w;++Ea)T[Ea]=
(rb+Ea)/-Mb;else for(Ea=0;Ea<w;++Ea)T[Ea]=(rb+Ea)*Mb;return T}function Pb(w,T,aa){return Lb(+w,+T,+aa)[2]}function ab(w,T,aa){T=+T;w=+w;aa=+aa;const Ea=T<w;w=Ea?Pb(T,w,aa):Pb(w,T,aa);return(Ea?-1:1)*(0>w?1/-w:w)}function pb(w,T,aa=jc){if((Ea=w.length)&&!isNaN(T=+T)){if(0>=T||2>Ea)return+aa(w[0],0,w);if(1<=T)return+aa(w[Ea-1],Ea-1,w);var Ea;T*=Ea-1;Ea=Math.floor(T);var rb=+aa(w[Ea],Ea,w);w=+aa(w[Ea+1],Ea+1,w);return rb+(w-rb)*(T-Ea)}}function Qa(w,T,aa){w=+w;T=+T;aa=2>(rb=arguments.length)?(T=w,w=
0,1):3>rb?1:+aa;for(var Ea=-1,rb=Math.max(0,Math.ceil((T-w)/aa))|0,zb=Array(rb);++Ea<rb;)zb[Ea]=w+Ea*aa;return zb}function Da(w,T){switch(arguments.length){case 0:break;case 1:this.range(w);break;default:this.range(T).domain(w)}return this}function Ka(w,T){switch(arguments.length){case 0:break;case 1:"function"===typeof w?this.interpolator(w):this.range(w);break;default:this.domain(w),"function"===typeof T?this.interpolator(T):this.range(T)}return this}function lb(){function w(zb){let Mb=T.get(zb);
if(void 0===Mb){if(rb!==Nh)return rb;T.set(zb,Mb=aa.push(zb)-1)}return Ea[Mb%Ea.length]}var T=new oh,aa=[],Ea=[],rb=Nh;w.domain=function(zb){if(!arguments.length)return aa.slice();aa=[];T=new oh;for(const Mb of zb)T.has(Mb)||T.set(Mb,aa.push(Mb)-1);return w};w.range=function(zb){return arguments.length?(Ea=Array.from(zb),w):Ea.slice()};w.unknown=function(zb){return arguments.length?(rb=zb,w):rb};w.copy=function(){return lb(aa,Ea).unknown(rb)};Da.apply(w,arguments);return w}function mb(w,T,aa){w.prototype=
T.prototype=aa;aa.constructor=w}function Pa(w,T){w=Object.create(w.prototype);for(var aa in T)w[aa]=T[aa];return w}function xb(){}function sb(){return this.rgb().formatHex()}function Qb(){return this.rgb().formatRgb()}function Wb(w){var T,aa;w=(w+"").trim().toLowerCase();return(T=ph.exec(w))?(aa=T[1].length,T=parseInt(T[1],16),6===aa?nb(T):3===aa?new Ga(T>>8&15|T>>4&240,T>>4&15|T&240,(T&15)<<4|T&15,1):8===aa?pa(T>>24&255,T>>16&255,T>>8&255,(T&255)/255):4===aa?pa(T>>12&15|T>>8&240,T>>8&15|T>>4&240,
T>>4&15|T&240,((T&15)<<4|T&15)/255):null):(T=Ah.exec(w))?new Ga(T[1],T[2],T[3],1):(T=bi.exec(w))?new Ga(255*T[1]/100,255*T[2]/100,255*T[3]/100,1):(T=Vg.exec(w))?pa(T[1],T[2],T[3],T[4]):(T=qh.exec(w))?pa(255*T[1]/100,255*T[2]/100,255*T[3]/100,T[4]):(T=Ei.exec(w))?Q(T[1],T[2]/100,T[3]/100,1):(T=Kg.exec(w))?Q(T[1],T[2]/100,T[3]/100,T[4]):Fh.hasOwnProperty(w)?nb(Fh[w]):"transparent"===w?new Ga(NaN,NaN,NaN,0):null}function nb(w){return new Ga(w>>16&255,w>>8&255,w&255,1)}function pa(w,T,aa,Ea){0>=Ea&&(w=
T=aa=NaN);return new Ga(w,T,aa,Ea)}function Z(w){w instanceof xb||(w=Wb(w));if(!w)return new Ga;w=w.rgb();return new Ga(w.r,w.g,w.b,w.opacity)}function Fa(w,T,aa,Ea){return 1===arguments.length?Z(w):new Ga(w,T,aa,null==Ea?1:Ea)}function Ga(w,T,aa,Ea){this.r=+w;this.g=+T;this.b=+aa;this.opacity=+Ea}function db(){return`#${M(this.r)}${M(this.g)}${M(this.b)}`}function ba(){const w=ma(this.opacity);return`${1===w?"rgb(":"rgba("}${q(this.r)}, ${q(this.g)}, ${q(this.b)}${1===w?")":`, ${w})`}`}function ma(w){return isNaN(w)?
1:Math.max(0,Math.min(1,w))}function q(w){return Math.max(0,Math.min(255,Math.round(w)||0))}function M(w){w=q(w);return(16>w?"0":"")+w.toString(16)}function Q(w,T,aa,Ea){0>=Ea?w=T=aa=NaN:0>=aa||1<=aa?w=T=NaN:0>=T&&(w=NaN);return new m(w,T,aa,Ea)}function g(w){if(w instanceof m)return new m(w.h,w.s,w.l,w.opacity);w instanceof xb||(w=Wb(w));if(!w)return new m;if(w instanceof m)return w;w=w.rgb();var T=w.r/255,aa=w.g/255,Ea=w.b/255,rb=Math.min(T,aa,Ea),zb=Math.max(T,aa,Ea),Mb=NaN,Nb=zb-rb,Mc=(zb+rb)/
2;Nb?(Mb=T===zb?(aa-Ea)/Nb+6*(aa<Ea):aa===zb?(Ea-T)/Nb+2:(T-aa)/Nb+4,Nb/=.5>Mc?zb+rb:2-zb-rb,Mb*=60):Nb=0<Mc&&1>Mc?0:Mb;return new m(Mb,Nb,Mc,w.opacity)}function u(w,T,aa,Ea){return 1===arguments.length?g(w):new m(w,T,aa,null==Ea?1:Ea)}function m(w,T,aa,Ea){this.h=+w;this.s=+T;this.l=+aa;this.opacity=+Ea}function C(w){w=(w||0)%360;return 0>w?w+360:w}function B(w){return Math.max(0,Math.min(1,w||0))}function A(w,T,aa){return 255*(60>w?T+(aa-T)*w/60:180>w?aa:240>w?T+(aa-T)*(240-w)/60:T)}function E(w){if(w instanceof
V)return new V(w.l,w.a,w.b,w.opacity);if(w instanceof Wa)return $a(w);w instanceof Ga||(w=Z(w));var T=L(w.r),aa=L(w.g),Ea=L(w.b),rb=Aa(.2225045*T+.7168786*aa+.0606169*Ea);if(T===aa&&aa===Ea)var zb=T=rb;else zb=Aa((.4360747*T+.3850649*aa+.1430804*Ea)/.96422),T=Aa((.0139322*T+.0971045*aa+.7141733*Ea)/.82521);return new V(116*rb-16,500*(zb-rb),200*(rb-T),w.opacity)}function H(w,T,aa,Ea){return 1===arguments.length?E(w):new V(w,T,aa,null==Ea?1:Ea)}function V(w,T,aa,Ea){this.l=+w;this.a=+T;this.b=+aa;
this.opacity=+Ea}function Aa(w){return w>Gg?Math.pow(w,1/3):w/Bh+kh}function Y(w){return w>rh?w*w*w:Bh*(w-kh)}function t(w){return 255*(.0031308>=w?12.92*w:1.055*Math.pow(w,1/2.4)-.055)}function L(w){return.04045>=(w/=255)?w/12.92:Math.pow((w+.055)/1.055,2.4)}function va(w){if(w instanceof Wa)return new Wa(w.h,w.c,w.l,w.opacity);w instanceof V||(w=E(w));if(0===w.a&&0===w.b)return new Wa(NaN,0<w.l&&100>w.l?0:NaN,w.l,w.opacity);var T=Math.atan2(w.b,w.a)*Sg;return new Wa(0>T?T+360:T,Math.sqrt(w.a*w.a+
w.b*w.b),w.l,w.opacity)}function La(w,T,aa,Ea){return 1===arguments.length?va(w):new Wa(w,T,aa,null==Ea?1:Ea)}function Wa(w,T,aa,Ea){this.h=+w;this.c=+T;this.l=+aa;this.opacity=+Ea}function $a(w){if(isNaN(w.h))return new V(w.l,0,0,w.opacity);var T=w.h*Uh;return new V(w.l,Math.cos(T)*w.c,Math.sin(T)*w.c,w.opacity)}function X(w,T,aa,Ea){if(1===arguments.length){var rb=w;if(rb instanceof Ca)rb=new Ca(rb.h,rb.s,rb.l,rb.opacity);else{rb instanceof Ga||(rb=Z(rb));var zb=rb.g/255,Mb=rb.b/255,Nb=(Gh*Mb+rb.r/
255*-1.7884503806-3.5172982438*zb)/(Gh+-1.7884503806-3.5172982438);Mb-=Nb;var Mc=(1.97294*(zb-Nb)- -.29227*Mb)/-.90649;Mb=(zb=Math.sqrt(Mc*Mc+Mb*Mb)/(1.97294*Nb*(1-Nb)))?Math.atan2(Mc,Mb)*Sg-120:NaN;rb=new Ca(0>Mb?Mb+360:Mb,zb,Nb,rb.opacity)}}else rb=new Ca(w,T,aa,null==Ea?1:Ea);return rb}function Ca(w,T,aa,Ea){this.h=+w;this.s=+T;this.l=+aa;this.opacity=+Ea}function Xa(w,T,aa,Ea,rb){var zb=w*w,Mb=zb*w;return((1-3*w+3*zb-Mb)*T+(4-6*zb+3*Mb)*aa+(1+3*w+3*zb-3*Mb)*Ea+Mb*rb)/6}function Jb(w){var T=w.length-
1;return function(aa){var Ea=0>=aa?aa=0:1<=aa?(aa=1,T-1):Math.floor(aa*T),rb=w[Ea],zb=w[Ea+1];return Xa((aa-Ea/T)*T,0<Ea?w[Ea-1]:2*rb-zb,rb,zb,Ea<T-1?w[Ea+2]:2*zb-rb)}}function yc(w){var T=w.length;return function(aa){var Ea=Math.floor((0>(aa%=1)?++aa:aa)*T);return Xa((aa-Ea/T)*T,w[(Ea+T-1)%T],w[Ea%T],w[(Ea+1)%T],w[(Ea+2)%T])}}function sc(w,T){return function(aa){return w+aa*T}}function xc(w,T,aa){return w=Math.pow(w,aa),T=Math.pow(T,aa)-w,aa=1/aa,function(Ea){return Math.pow(w+Ea*T,aa)}}function dd(w,
T){var aa=T-w;return aa?sc(w,180<aa||-180>aa?aa-360*Math.round(aa/360):aa):Ch(isNaN(w)?T:w)}function Zb(w){return 1===(w=+w)?Sc:function(T,aa){return aa-T?xc(T,aa,w):Ch(isNaN(T)?aa:T)}}function Sc(w,T){var aa=T-w;return aa?sc(w,aa):Ch(isNaN(w)?T:w)}function Pd(w){return function(T){var aa=T.length,Ea=Array(aa),rb=Array(aa),zb=Array(aa),Mb;for(Mb=0;Mb<aa;++Mb){var Nb=Fa(T[Mb]);Ea[Mb]=Nb.r||0;rb[Mb]=Nb.g||0;zb[Mb]=Nb.b||0}Ea=w(Ea);rb=w(rb);zb=w(zb);Nb.opacity=1;return function(Mc){Nb.r=Ea(Mc);Nb.g=
rb(Mc);Nb.b=zb(Mc);return Nb+""}}}function Ma(w,T){T||(T=[]);var aa=w?Math.min(T.length,w.length):0,Ea=T.slice(),rb;return function(zb){for(rb=0;rb<aa;++rb)Ea[rb]=w[rb]*(1-zb)+T[rb]*zb;return Ea}}function Vb(w){return ArrayBuffer.isView(w)&&!(w instanceof DataView)}function qb(w,T){var aa=T?T.length:0,Ea=w?Math.min(aa,w.length):0,rb=Array(Ea),zb=Array(aa),Mb;for(Mb=0;Mb<Ea;++Mb)rb[Mb]=Md(w[Mb],T[Mb]);for(;Mb<aa;++Mb)zb[Mb]=T[Mb];return function(Nb){for(Mb=0;Mb<Ea;++Mb)zb[Mb]=rb[Mb](Nb);return zb}}
function Tb(w,T){var aa=new Date;return w=+w,T=+T,function(Ea){return aa.setTime(w*(1-Ea)+T*Ea),aa}}function gc(w,T){return w=+w,T=+T,function(aa){return w*(1-aa)+T*aa}}function cc(w,T){var aa={},Ea={},rb;if(null===w||"object"!==typeof w)w={};if(null===T||"object"!==typeof T)T={};for(rb in T)rb in w?aa[rb]=Md(w[rb],T[rb]):Ea[rb]=T[rb];return function(zb){for(rb in aa)Ea[rb]=aa[rb](zb);return Ea}}function Ic(w){return function(){return w}}function zc(w){return function(T){return w(T)+""}}function Zc(w,
T){var aa=yg.lastIndex=zg.lastIndex=0,Ea,rb,zb,Mb=-1,Nb=[],Mc=[];w+="";for(T+="";(Ea=yg.exec(w))&&(rb=zg.exec(T));)(zb=rb.index)>aa&&(zb=T.slice(aa,zb),Nb[Mb]?Nb[Mb]+=zb:Nb[++Mb]=zb),(Ea=Ea[0])===(rb=rb[0])?Nb[Mb]?Nb[Mb]+=rb:Nb[++Mb]=rb:(Nb[++Mb]=null,Mc.push({i:Mb,x:gc(Ea,rb)})),aa=zg.lastIndex;aa<T.length&&(zb=T.slice(aa),Nb[Mb]?Nb[Mb]+=zb:Nb[++Mb]=zb);return 2>Nb.length?Mc[0]?zc(Mc[0].x):Ic(T):(T=Mc.length,function(Ed){for(var bd=0,mc;bd<T;++bd)Nb[(mc=Mc[bd]).i]=mc.x(Ed);return Nb.join("")})}function Md(w,
T){var aa=typeof T,Ea;return null==T||"boolean"===aa?Ch(T):("number"===aa?gc:"string"===aa?(Ea=Wb(T))?(T=Ea,Hh):Zc:T instanceof Wb?Hh:T instanceof Date?Tb:Vb(T)?Ma:Array.isArray(T)?qb:"function"!==typeof T.valueOf&&"function"!==typeof T.toString||isNaN(T)?cc:gc)(w,T)}function td(w,T){return w=+w,T=+T,function(aa){return Math.round(w*(1-aa)+T*aa)}}function Ha(w,T,aa,Ea,rb,zb){var Mb,Nb,Mc;if(Mb=Math.sqrt(w*w+T*T))w/=Mb,T/=Mb;if(Mc=w*aa+T*Ea)aa-=w*Mc,Ea-=T*Mc;if(Nb=Math.sqrt(aa*aa+Ea*Ea))aa/=Nb,Ea/=
Nb,Mc/=Nb;w*Ea<T*aa&&(w=-w,T=-T,Mc=-Mc,Mb=-Mb);return{translateX:rb,translateY:zb,rotate:Math.atan2(T,w)*Zf,skewX:Math.atan(Mc)*Zf,scaleX:Mb,scaleY:Nb}}function gb(w,T,aa,Ea){function rb(Ed){return Ed.length?Ed.pop()+" ":""}function zb(Ed,bd,mc,qd,xd,ye){Ed!==mc||bd!==qd?(xd=xd.push("translate(",null,T,null,aa),ye.push({i:xd-4,x:gc(Ed,mc)},{i:xd-2,x:gc(bd,qd)})):(mc||qd)&&xd.push("translate("+mc+T+qd+aa)}function Mb(Ed,bd,mc,qd){Ed!==bd?(180<Ed-bd?bd+=360:180<bd-Ed&&(Ed+=360),qd.push({i:mc.push(rb(mc)+
"rotate(",null,Ea)-2,x:gc(Ed,bd)})):bd&&mc.push(rb(mc)+"rotate("+bd+Ea)}function Nb(Ed,bd,mc,qd){Ed!==bd?qd.push({i:mc.push(rb(mc)+"skewX(",null,Ea)-2,x:gc(Ed,bd)}):bd&&mc.push(rb(mc)+"skewX("+bd+Ea)}function Mc(Ed,bd,mc,qd,xd,ye){Ed!==mc||bd!==qd?(xd=xd.push(rb(xd)+"scale(",null,",",null,")"),ye.push({i:xd-4,x:gc(Ed,mc)},{i:xd-2,x:gc(bd,qd)})):1===mc&&1===qd||xd.push(rb(xd)+"scale("+mc+","+qd+")")}return function(Ed,bd){var mc=[],qd=[];Ed=w(Ed);bd=w(bd);zb(Ed.translateX,Ed.translateY,bd.translateX,
bd.translateY,mc,qd);Mb(Ed.rotate,bd.rotate,mc,qd);Nb(Ed.skewX,bd.skewX,mc,qd);Mc(Ed.scaleX,Ed.scaleY,bd.scaleX,bd.scaleY,mc,qd);Ed=bd=null;return function(xd){for(var ye=-1,re=qd.length,Te;++ye<re;)mc[(Te=qd[ye]).i]=Te.x(xd);return mc.join("")}}}function wb(w){return((w=Math.exp(w))+1/w)/2}function sa(w){return function(T,aa){var Ea=w((T=u(T)).h,(aa=u(aa)).h),rb=Sc(T.s,aa.s),zb=Sc(T.l,aa.l),Mb=Sc(T.opacity,aa.opacity);return function(Nb){T.h=Ea(Nb);T.s=rb(Nb);T.l=zb(Nb);T.opacity=Mb(Nb);return T+
""}}}function F(w){return function(T,aa){var Ea=w((T=La(T)).h,(aa=La(aa)).h),rb=Sc(T.c,aa.c),zb=Sc(T.l,aa.l),Mb=Sc(T.opacity,aa.opacity);return function(Nb){T.h=Ea(Nb);T.c=rb(Nb);T.l=zb(Nb);T.opacity=Mb(Nb);return T+""}}}function ya(w){return function Ea(aa){function rb(zb,Mb){var Nb=w((zb=X(zb)).h,(Mb=X(Mb)).h),Mc=Sc(zb.s,Mb.s),Ed=Sc(zb.l,Mb.l),bd=Sc(zb.opacity,Mb.opacity);return function(mc){zb.h=Nb(mc);zb.s=Mc(mc);zb.l=Ed(Math.pow(mc,aa));zb.opacity=bd(mc);return zb+""}}aa=+aa;rb.gamma=Ea;return rb}(1)}
function Na(w,T){void 0===T&&(T=w,w=Md);for(var aa=0,Ea=T.length-1,rb=T[0],zb=Array(0>Ea?0:Ea);aa<Ea;)zb[aa]=w(rb,rb=T[++aa]);return function(Mb){var Nb=Math.max(0,Math.min(Ea-1,Math.floor(Mb*=Ea)));return zb[Nb](Mb-Nb)}}function Za(w){return function(){return w}}function kb(w){return+w}function Gb(w){return w}function nc(w,T){return(T-=w=+w)?function(aa){return(aa-w)/T}:Za(isNaN(T)?NaN:.5)}function dc(w,T){if(w>T){var aa=w;w=T;T=aa}return function(Ea){return Math.max(w,Math.min(T,Ea))}}function ic(w,
T,aa){var Ea=w[0];w=w[1];var rb=T[0];T=T[1];w<Ea?(Ea=nc(w,Ea),rb=aa(T,rb)):(Ea=nc(Ea,w),rb=aa(rb,T));return function(zb){return rb(Ea(zb))}}function Vc(w,T,aa){var Ea=Math.min(w.length,T.length)-1,rb=Array(Ea),zb=Array(Ea),Mb=-1;w[Ea]<w[0]&&(w=w.slice().reverse(),T=T.slice().reverse());for(;++Mb<Ea;)rb[Mb]=nc(w[Mb],w[Mb+1]),zb[Mb]=aa(T[Mb],T[Mb+1]);return function(Nb){var Mc=gh(w,Nb,1,Ea)-1;return zb[Mc](rb[Mc](Nb))}}function ed(w,T){return T.domain(w.domain()).range(w.range()).interpolate(w.interpolate()).clamp(w.clamp()).unknown(w.unknown())}
function fd(){function w(){var qd=Math.min(aa.length,Ea.length);Mc!==Gb&&(Mc=dc(aa[0],aa[qd-1]));Ed=2<qd?Vc:ic;bd=mc=null;return T}function T(qd){return null==qd||isNaN(qd=+qd)?Nb:(bd||(bd=Ed(aa.map(zb),Ea,rb)))(zb(Mc(qd)))}var aa=wa,Ea=wa,rb=Md,zb,Mb,Nb,Mc=Gb,Ed,bd,mc;T.invert=function(qd){return Mc(Mb((mc||(mc=Ed(Ea,aa.map(zb),gc)))(qd)))};T.domain=function(qd){return arguments.length?(aa=Array.from(qd,kb),w()):aa.slice()};T.range=function(qd){return arguments.length?(Ea=Array.from(qd),w()):Ea.slice()};
T.rangeRound=function(qd){return Ea=Array.from(qd),rb=td,w()};T.clamp=function(qd){return arguments.length?(Mc=qd?!0:Gb,w()):Mc!==Gb};T.interpolate=function(qd){return arguments.length?(rb=qd,w()):rb};T.unknown=function(qd){return arguments.length?(Nb=qd,T):Nb};return function(qd,xd){zb=qd;Mb=xd;return w()}}function Qd(w,T){if(0>(T=(w=T?w.toExponential(T-1):w.toExponential()).indexOf("e")))return null;var aa=w.slice(0,T);return[1<aa.length?aa[0]+aa.slice(2):aa,+w.slice(T+1)]}function Td(w){return w=
Qd(Math.abs(w)),w?w[1]:NaN}function Fd(w,T){return function(aa,Ea){for(var rb=aa.length,zb=[],Mb=0,Nb=w[0],Mc=0;0<rb&&0<Nb;){Mc+Nb+1>Ea&&(Nb=Math.max(1,Ea-Mc));zb.push(aa.substring(rb-=Nb,rb+Nb));if((Mc+=Nb+1)>Ea)break;Nb=w[Mb=(Mb+1)%w.length]}return zb.reverse().join(T)}}function Zd(w){return function(T){return T.replace(/[0-9]/g,function(aa){return w[+aa]})}}function de(w){if(!(T=r.exec(w)))throw Error("invalid format: "+w);var T;return new Ud({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],
width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}function Ud(w){this.fill=void 0===w.fill?" ":w.fill+"";this.align=void 0===w.align?"\x3e":w.align+"";this.sign=void 0===w.sign?"-":w.sign+"";this.symbol=void 0===w.symbol?"":w.symbol+"";this.zero=!!w.zero;this.width=void 0===w.width?void 0:+w.width;this.comma=!!w.comma;this.precision=void 0===w.precision?void 0:+w.precision;this.trim=!!w.trim;this.type=void 0===w.type?"":w.type+""}function Ve(w,T){T=Qd(w,T);if(!T)return w+
"";w=T[0];T=T[1];return 0>T?"0."+Array(-T).join("0")+w:w.length>T+1?w.slice(0,T+1)+"."+w.slice(T+1):w+Array(T-w.length+2).join("0")}function Xd(w){return w}function N(w){function T(bd){function mc(oe){var Ne=tf,pe=Ng,og,Pg;if("c"===kg)pe=pg(oe)+pe,oe="";else{oe=+oe;var Mg=0>oe||0>1/oe;oe=isNaN(oe)?Ed:pg(Math.abs(oe),jg);if(Jh){var Yg=oe.length,Ph=1,Yh=-1;a:for(;Ph<Yg;++Ph)switch(oe[Ph]){case ".":Yh=og=Ph;break;case "0":0===Yh&&(Yh=Ph);og=Ph;break;default:if(!+oe[Ph])break a;0<Yh&&(Yh=0)}oe=0<Yh?oe.slice(0,
Yh)+oe.slice(og+1):oe}Mg&&0===+oe&&"+"!==ye&&(Mg=!1);Ne=(Mg?"("===ye?ye:Mc:"-"===ye||"("===ye?"":ye)+Ne;pe=("s"===kg?z[8+G/3]:"")+pe+(Mg&&"("===ye?")":"");if(Ke)for(Mg=-1,og=oe.length;++Mg<og;)if(Pg=oe.charCodeAt(Mg),48>Pg||57<Pg){pe=(46===Pg?zb+oe.slice(Mg+1):oe.slice(Mg))+pe;oe=oe.slice(0,Mg);break}}Xf&&!Te&&(oe=aa(oe,Infinity));Pg=Ne.length+oe.length+pe.length;Mg=Pg<Ff?Array(Ff-Pg+1).join(qd):"";Xf&&Te&&(oe=aa(Mg+oe,Mg.length?Ff-pe.length:Infinity),Mg="");switch(xd){case "\x3c":oe=Ne+oe+pe+Mg;
break;case "\x3d":oe=Ne+Mg+oe+pe;break;case "^":oe=Mg.slice(0,Pg=Mg.length>>1)+Ne+oe+pe+Mg.slice(Pg);break;default:oe=Mg+Ne+oe+pe}return Mb(oe)}bd=de(bd);var qd=bd.fill,xd=bd.align,ye=bd.sign,re=bd.symbol,Te=bd.zero,Ff=bd.width,Xf=bd.comma,jg=bd.precision,Jh=bd.trim,kg=bd.type;"n"===kg?(Xf=!0,kg="g"):ia[kg]||(void 0===jg&&(jg=12),Jh=!0,kg="g");if(Te||"0"===qd&&"\x3d"===xd)Te=!0,qd="0",xd="\x3d";var tf="$"===re?Ea:"#"===re&&/[boxX]/.test(kg)?"0"+kg.toLowerCase():"",Ng="$"===re?rb:/[%p]/.test(kg)?Nb:
"",pg=ia[kg],Ke=/[defgprs%]/.test(kg);jg=void 0===jg?6:/[gprs]/.test(kg)?Math.max(1,Math.min(21,jg)):Math.max(0,Math.min(20,jg));mc.toString=function(){return bd+""};return mc}var aa=void 0===w.grouping||void 0===w.thousands?Xd:Fd(l.call(w.grouping,Number),w.thousands+""),Ea=void 0===w.currency?"":w.currency[0]+"",rb=void 0===w.currency?"":w.currency[1]+"",zb=void 0===w.decimal?".":w.decimal+"",Mb=void 0===w.numerals?Xd:Zd(l.call(w.numerals,String)),Nb=void 0===w.percent?"%":w.percent+"",Mc=void 0===
w.minus?"":w.minus+"",Ed=void 0===w.nan?"NaN":w.nan+"";return{format:T,formatPrefix:function(bd,mc){var qd=T((bd=de(bd),bd.type="f",bd));bd=3*Math.max(-8,Math.min(8,Math.floor(Td(mc)/3)));var xd=Math.pow(10,-bd),ye=z[8+bd/3];return function(re){return qd(xd*re)+ye}}}}function la(w,T,aa,Ea){aa=ab(w,T,aa);Ea=de(null==Ea?",f":Ea);switch(Ea.type){case "s":w=Math.max(Math.abs(w),Math.abs(T));if(T=null==Ea.precision){var rb=isNaN;aa=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Td(w)/3)))-Td(Math.abs(aa)));
T=!rb(rb=aa)}T&&(Ea.precision=rb);return Va(Ea,w);case "":case "e":case "g":case "p":case "r":var zb;if(zb=null==Ea.precision)rb=isNaN,w=Math.max(Math.abs(w),Math.abs(T)),aa=Math.abs(aa),w=Math.abs(w)-aa,aa=Math.max(0,Td(w)-Td(aa))+1,zb=!rb(rb=aa);zb&&(Ea.precision=rb-("e"===Ea.type));break;case "f":case "%":null!=Ea.precision||isNaN(rb=Math.max(0,-Td(Math.abs(aa))))||(Ea.precision=rb-2*("%"===Ea.type))}return oa(Ea)}function za(w){var T=w.domain;w.ticks=function(aa){var Ea=T();return Db(Ea[0],Ea[Ea.length-
1],null==aa?10:aa)};w.tickFormat=function(aa,Ea){var rb=T();return la(rb[0],rb[rb.length-1],null==aa?10:aa,Ea)};w.nice=function(aa){null==aa&&(aa=10);var Ea=T(),rb=0,zb=Ea.length-1,Mb=Ea[rb],Nb=Ea[zb],Mc=10;if(Nb<Mb){var Ed=Mb;Mb=Nb;Nb=Ed;Ed=rb;rb=zb;zb=Ed}for(;0<Mc--;){Ed=Pb(Mb,Nb,aa);if(Ed===bd)return Ea[rb]=Mb,Ea[zb]=Nb,T(Ea);if(0<Ed)Mb=Math.floor(Mb/Ed)*Ed,Nb=Math.ceil(Nb/Ed)*Ed;else if(0>Ed)Mb=Math.ceil(Mb*Ed)/Ed,Nb=Math.floor(Nb*Ed)/Ed;else break;var bd=Ed}return w};return w}function fb(){var w=
fd()(Gb,Gb);w.copy=function(){return ed(w,fb())};Da.apply(w,arguments);return za(w)}function Ib(w){function T(Ea){return null==Ea||isNaN(Ea=+Ea)?aa:Ea}var aa;T.invert=T;T.domain=T.range=function(Ea){return arguments.length?(w=Array.from(Ea,kb),T):w.slice()};T.unknown=function(Ea){return arguments.length?(aa=Ea,T):aa};T.copy=function(){return Ib(w).unknown(aa)};w=arguments.length?Array.from(w,kb):[0,1];return za(T)}function Xb(w,T){w=w.slice();var aa=0,Ea=w.length-1,rb=w[aa],zb=w[Ea];if(zb<rb){var Mb=
aa;aa=Ea;Ea=Mb;Mb=rb;rb=zb;zb=Mb}w[aa]=T.floor(rb);w[Ea]=T.ceil(zb);return w}function Bc(w){return Math.log(w)}function lc(w){return Math.exp(w)}function Gc(w){return-Math.log(-w)}function id(w){return-Math.exp(-w)}function Nc(w){return isFinite(w)?+("1e"+w):0>w?0:w}function rd(w){return 10===w?Nc:w===Math.E?Math.exp:T=>Math.pow(w,T)}function Hd(w){return w===Math.E?Math.log:10===w&&Math.log10||2===w&&Math.log2||(w=Math.log(w),T=>Math.log(T)/w)}function Gd(w){return(T,aa)=>-w(-T,aa)}function $d(w){function T(){zb=
Hd(rb);Mb=rd(rb);0>Ea()[0]?(zb=Gd(zb),Mb=Gd(Mb),w(Gc,id)):w(Bc,lc);return aa}const aa=w(Bc,lc),Ea=aa.domain;let rb=10,zb,Mb;aa.base=function(Nb){return arguments.length?(rb=+Nb,T()):rb};aa.domain=function(Nb){return arguments.length?(Ea(Nb),T()):Ea()};aa.ticks=Nb=>{var Mc=Ea();let Ed=Mc[0];Mc=Mc[Mc.length-1];const bd=Mc<Ed;bd&&([Ed,Mc]=[Mc,Ed]);let mc=zb(Ed),qd=zb(Mc),xd;const ye=null==Nb?10:+Nb;let re=[];if(!(rb%1)&&qd-mc<ye){mc=Math.floor(mc);qd=Math.ceil(qd);if(0<Ed)for(;mc<=qd;++mc)for(Nb=1;Nb<
rb;++Nb){if(xd=0>mc?Nb/Mb(-mc):Nb*Mb(mc),!(xd<Ed)){if(xd>Mc)break;re.push(xd)}}else for(;mc<=qd;++mc)for(Nb=rb-1;1<=Nb;--Nb)if(xd=0<mc?Nb/Mb(-mc):Nb*Mb(mc),!(xd<Ed)){if(xd>Mc)break;re.push(xd)}2*re.length<ye&&(re=Db(Ed,Mc,ye))}else re=Db(mc,qd,Math.min(qd-mc,ye)).map(Mb);return bd?re.reverse():re};aa.tickFormat=(Nb,Mc)=>{null==Nb&&(Nb=10);null==Mc&&(Mc=10===rb?"s":",");"function"!==typeof Mc&&(rb%1||null!=(Mc=de(Mc)).precision||(Mc.trim=!0),Mc=oa(Mc));if(Infinity===Nb)return Mc;const Ed=Math.max(1,
rb*Nb/aa.ticks().length);return bd=>{let mc=bd/Mb(Math.round(zb(bd)));mc*rb<rb-.5&&(mc*=rb);return mc<=Ed?Mc(bd):""}};aa.nice=()=>Ea(Xb(Ea(),{floor:Nb=>Mb(Math.floor(zb(Nb))),ceil:Nb=>Mb(Math.ceil(zb(Nb)))}));return aa}function Wd(){const w=$d(fd()).domain([1,10]);w.copy=()=>ed(w,Wd()).base(w.base());Da.apply(w,arguments);return w}function ae(w){return function(T){return Math.sign(T)*Math.log1p(Math.abs(T/w))}}function Ae(w){return function(T){return Math.sign(T)*Math.expm1(Math.abs(T))*w}}function kf(w){var T=
1,aa=w(ae(T),Ae(T));aa.constant=function(Ea){return arguments.length?w(ae(T=+Ea),Ae(T)):T};return za(aa)}function hf(){var w=kf(fd());w.copy=function(){return ed(w,hf()).constant(w.constant())};return Da.apply(w,arguments)}function cf(w){return function(T){return 0>T?-Math.pow(-T,w):Math.pow(T,w)}}function se(w){return 0>w?-Math.sqrt(-w):Math.sqrt(w)}function uf(w){return 0>w?-w*w:w*w}function U(w){var T=w(Gb,Gb),aa=1;T.exponent=function(Ea){return arguments.length?(aa=+Ea,1===aa?w(Gb,Gb):.5===aa?
w(se,uf):w(cf(aa),cf(1/aa))):aa};return za(T)}function ua(){var w=U(fd());w.copy=function(){return ed(w,ua()).exponent(w.exponent())};Da.apply(w,arguments);return w}function cb(){function w(){var Mb=0,Nb=Math.max(1,Ea.length);for(rb=Array(Nb-1);++Mb<Nb;)rb[Mb-1]=pb(aa,Mb/Nb);return T}function T(Mb){return null==Mb||isNaN(Mb=+Mb)?zb:Ea[gh(rb,Mb)]}var aa=[],Ea=[],rb=[],zb;T.invertExtent=function(Mb){Mb=Ea.indexOf(Mb);return 0>Mb?[NaN,NaN]:[0<Mb?rb[Mb-1]:aa[0],Mb<rb.length?rb[Mb]:aa[aa.length-1]]};T.domain=
function(Mb){if(!arguments.length)return aa.slice();aa=[];for(let Nb of Mb)null==Nb||isNaN(Nb=+Nb)||aa.push(Nb);aa.sort(vc);return w()};T.range=function(Mb){return arguments.length?(Ea=Array.from(Mb),w()):Ea.slice()};T.unknown=function(Mb){return arguments.length?(zb=Mb,T):zb};T.quantiles=function(){return rb.slice()};T.copy=function(){return cb().domain(aa).range(Ea).unknown(zb)};return Da.apply(T,arguments)}function Ab(){function w(Mc){return null!=Mc&&Mc<=Mc?Mb[gh(zb,Mc,0,rb)]:Nb}function T(){var Mc=
-1;for(zb=Array(rb);++Mc<rb;)zb[Mc]=((Mc+1)*Ea-(Mc-rb)*aa)/(rb+1);return w}var aa=0,Ea=1,rb=1,zb=[.5],Mb=[0,1],Nb;w.domain=function(Mc){return arguments.length?([aa,Ea]=Mc,aa=+aa,Ea=+Ea,T()):[aa,Ea]};w.range=function(Mc){return arguments.length?(rb=(Mb=Array.from(Mc)).length-1,T()):Mb.slice()};w.invertExtent=function(Mc){Mc=Mb.indexOf(Mc);return 0>Mc?[NaN,NaN]:1>Mc?[aa,zb[0]]:Mc>=rb?[zb[rb-1],Ea]:[zb[Mc-1],zb[Mc]]};w.unknown=function(Mc){return arguments.length?(Nb=Mc,w):w};w.thresholds=function(){return zb.slice()};
w.copy=function(){return Ab().domain([aa,Ea]).range(Mb).unknown(Nb)};return Da.apply(za(w),arguments)}function ec(){function w(zb){return null!=zb&&zb<=zb?aa[gh(T,zb,0,rb)]:Ea}var T=[.5],aa=[0,1],Ea,rb=1;w.domain=function(zb){return arguments.length?(T=Array.from(zb),rb=Math.min(T.length,aa.length-1),w):T.slice()};w.range=function(zb){return arguments.length?(aa=Array.from(zb),rb=Math.min(T.length,aa.length-1),w):aa.slice()};w.invertExtent=function(zb){zb=aa.indexOf(zb);return[T[zb-1],T[zb]]};w.unknown=
function(zb){return arguments.length?(Ea=zb,w):Ea};w.copy=function(){return ec().domain(T).range(aa).unknown(Ea)};return Da.apply(w,arguments)}function Cc(w,T,aa,Ea){function rb(zb){return w(zb=0===arguments.length?new Date:new Date(+zb)),zb}rb.floor=zb=>(w(zb=new Date(+zb)),zb);rb.ceil=zb=>(w(zb=new Date(zb-1)),T(zb,1),w(zb),zb);rb.round=zb=>{const Mb=rb(zb),Nb=rb.ceil(zb);return zb-Mb<Nb-zb?Mb:Nb};rb.offset=(zb,Mb)=>(T(zb=new Date(+zb),null==Mb?1:Math.floor(Mb)),zb);rb.range=(zb,Mb,Nb)=>{const Mc=
[];zb=rb.ceil(zb);Nb=null==Nb?1:Math.floor(Nb);if(!(zb<Mb&&0<Nb))return Mc;let Ed;do Mc.push(Ed=new Date(+zb)),T(zb,Nb),w(zb);while(Ed<zb&&zb<Mb);return Mc};rb.filter=zb=>Cc(Mb=>{if(Mb>=Mb)for(;w(Mb),!zb(Mb);)Mb.setTime(Mb-1)},(Mb,Nb)=>{if(Mb>=Mb)if(0>Nb)for(;0>=++Nb;)for(;T(Mb,-1),!zb(Mb););else for(;0<=--Nb;)for(;T(Mb,1),!zb(Mb););});aa&&(rb.count=(zb,Mb)=>{Ya.setTime(+zb);Bb.setTime(+Mb);w(Ya);w(Bb);return Math.floor(aa(Ya,Bb))},rb.every=zb=>{zb=Math.floor(zb);return isFinite(zb)&&0<zb?1<zb?rb.filter(Ea?
Mb=>0===Ea(Mb)%zb:Mb=>0===rb.count(0,Mb)%zb):rb:null});return rb}function $b(w){return Cc(T=>{T.setDate(T.getDate()-(T.getDay()+7-w)%7);T.setHours(0,0,0,0)},(T,aa)=>{T.setDate(T.getDate()+7*aa)},(T,aa)=>(aa-T-6E4*(aa.getTimezoneOffset()-T.getTimezoneOffset()))/6048E5)}function J(w){return Cc(T=>{T.setUTCDate(T.getUTCDate()-(T.getUTCDay()+7-w)%7);T.setUTCHours(0,0,0,0)},(T,aa)=>{T.setUTCDate(T.getUTCDate()+7*aa)},(T,aa)=>(aa-T)/6048E5)}function fa(w,T,aa,Ea,rb,zb){function Mb(Mc,Ed,bd){const mc=Math.abs(Ed-
Mc)/bd,qd=uc(([,,re])=>re).right(Nb,mc);if(qd===Nb.length)return w.every(ab(Mc/31536E6,Ed/31536E6,bd));if(0===qd)return hc.every(Math.max(ab(Mc,Ed,bd),1));const [xd,ye]=Nb[mc/Nb[qd-1][2]<Nb[qd][2]/mc?qd-1:qd];return xd.every(ye)}const Nb=[[Ub,1,1E3],[Ub,5,5E3],[Ub,15,15E3],[Ub,30,3E4],[zb,1,6E4],[zb,5,3E5],[zb,15,9E5],[zb,30,18E5],[rb,1,36E5],[rb,3,108E5],[rb,6,216E5],[rb,12,432E5],[Ea,1,864E5],[Ea,2,1728E5],[aa,1,6048E5],[T,1,2592E6],[T,3,7776E6],[w,1,31536E6]];return[function(Mc,Ed,bd){const mc=
Ed<Mc;mc&&([Mc,Ed]=[Ed,Mc]);Mc=(bd=bd&&"function"===typeof bd.range?bd:Mb(Mc,Ed,bd))?bd.range(Mc,+Ed+1):[];return mc?Mc.reverse():Mc},Mb]}function Sa(w){if(0<=w.y&&100>w.y){var T=new Date(-1,w.m,w.d,w.H,w.M,w.S,w.L);T.setFullYear(w.y);return T}return new Date(w.y,w.m,w.d,w.H,w.M,w.S,w.L)}function bc(w){if(0<=w.y&&100>w.y){var T=new Date(Date.UTC(-1,w.m,w.d,w.H,w.M,w.S,w.L));T.setUTCFullYear(w.y);return T}return new Date(Date.UTC(w.y,w.m,w.d,w.H,w.M,w.S,w.L))}function Pc(w,T,aa){return{y:w,m:T,d:aa,
H:0,M:0,S:0,L:0}}function Dc(w){function T(Ke,oe){return function(Ne){var pe=[],og=-1,Pg=0,Mg=Ke.length,Yg,Ph;for(Ne instanceof Date||(Ne=new Date(+Ne));++og<Mg;)if(37===Ke.charCodeAt(og)){pe.push(Ke.slice(Pg,og));null!=(Pg=Zi[Yg=Ke.charAt(++og)])?Yg=Ke.charAt(++og):Pg="e"===Yg?" ":"0";if(Ph=oe[Yg])Yg=Ph(Ne,Pg);pe.push(Yg);Pg=og+1}pe.push(Ke.slice(Pg,og));return pe.join("")}}function aa(Ke,oe){return function(Ne){var pe=Pc(1900,void 0,1);if(Ea(pe,Ke,Ne+="",0)!=Ne.length)return null;if("Q"in pe)return new Date(pe.Q);
if("s"in pe)return new Date(1E3*pe.s+("L"in pe?pe.L:0));!oe||"Z"in pe||(pe.Z=0);"p"in pe&&(pe.H=pe.H%12+12*pe.p);void 0===pe.m&&(pe.m="q"in pe?pe.q:0);if("V"in pe){if(1>pe.V||53<pe.V)return null;"w"in pe||(pe.w=1);if("Z"in pe){Ne=bc(Pc(pe.y,0,1));var og=Ne.getUTCDay();Ne=4<og||0===og?nf.ceil(Ne):nf(Ne);Ne=ue.offset(Ne,7*(pe.V-1));pe.y=Ne.getUTCFullYear();pe.m=Ne.getUTCMonth();pe.d=Ne.getUTCDate()+(pe.w+6)%7}else Ne=Sa(Pc(pe.y,0,1)),og=Ne.getDay(),Ne=4<og||0===og?Tg.ceil(Ne):Tg(Ne),Ne=He.offset(Ne,
7*(pe.V-1)),pe.y=Ne.getFullYear(),pe.m=Ne.getMonth(),pe.d=Ne.getDate()+(pe.w+6)%7}else if("W"in pe||"U"in pe)"w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),og="Z"in pe?bc(Pc(pe.y,0,1)).getUTCDay():Sa(Pc(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+7*pe.W-(og+5)%7:pe.w+7*pe.U-(og+6)%7;return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,bc(pe)):Sa(pe)}}function Ea(Ke,oe,Ne,pe){for(var og=0,Pg=oe.length,Mg=Ne.length,Yg;og<Pg;){if(pe>=Mg)return-1;Yg=oe.charCodeAt(og++);if(37===Yg){if(Yg=oe.charAt(og++),
Yg=pg[Yg in Zi?oe.charAt(og++):Yg],!Yg||0>(pe=Yg(Ke,Ne,pe)))return-1}else if(Yg!=Ne.charCodeAt(pe++))return-1}return pe}var rb=w.dateTime,zb=w.date,Mb=w.time,Nb=w.periods,Mc=w.days,Ed=w.shortDays,bd=w.months,mc=w.shortMonths,qd=ee(Nb),xd=Ra(Nb),ye=ee(Mc),re=Ra(Mc),Te=ee(Ed),Ff=Ra(Ed),Xf=ee(bd),jg=Ra(bd),Jh=ee(mc),kg=Ra(mc),tf={a:function(Ke){return Ed[Ke.getDay()]},A:function(Ke){return Mc[Ke.getDay()]},b:function(Ke){return mc[Ke.getMonth()]},B:function(Ke){return bd[Ke.getMonth()]},c:null,d:Vd,
e:Vd,f:I,g:Hc,G:yd,H:ce,I:le,j:O,L:ea,m:ka,M:ta,p:function(Ke){return Nb[+(12<=Ke.getHours())]},q:function(Ke){return 1+~~(Ke.getMonth()/3)},Q:Jf,s:yf,S:Ja,u:jb,U:vb,V:qc,w:rc,W:Kc,x:null,X:null,y:Bd,Y:$c,Z:Dd,"%":Hf},Ng={a:function(Ke){return Ed[Ke.getUTCDay()]},A:function(Ke){return Mc[Ke.getUTCDay()]},b:function(Ke){return mc[Ke.getUTCMonth()]},B:function(Ke){return bd[Ke.getUTCMonth()]},c:null,d:Kd,e:Kd,f:Ld,g:Yd,G:mf,H:Ee,I:Be,j:wd,L:ze,m:he,M:Fe,p:function(Ke){return Nb[+(12<=Ke.getUTCHours())]},
q:function(Ke){return 1+~~(Ke.getUTCMonth()/3)},Q:Jf,s:yf,S:lf,u:vf,U:Ie,V:Cf,w:If,W:jf,x:null,X:null,y:bg,Y:ef,Z:af,"%":Hf},pg={a:function(Ke,oe,Ne){return(oe=Te.exec(oe.slice(Ne)))?(Ke.w=Ff.get(oe[0].toLowerCase()),Ne+oe[0].length):-1},A:function(Ke,oe,Ne){return(oe=ye.exec(oe.slice(Ne)))?(Ke.w=re.get(oe[0].toLowerCase()),Ne+oe[0].length):-1},b:function(Ke,oe,Ne){return(oe=Jh.exec(oe.slice(Ne)))?(Ke.m=kg.get(oe[0].toLowerCase()),Ne+oe[0].length):-1},B:function(Ke,oe,Ne){return(oe=Xf.exec(oe.slice(Ne)))?
(Ke.m=jg.get(oe[0].toLowerCase()),Ne+oe[0].length):-1},c:function(Ke,oe,Ne){return Ea(Ke,rb,oe,Ne)},d:be,e:be,f:Ec,g:sd,G:Qc,H:Le,I:Le,j:xe,L:od,m:Cd,M:Xe,p:function(Ke,oe,Ne){return(oe=qd.exec(oe.slice(Ne)))?(Ke.p=xd.get(oe[0].toLowerCase()),Ne+oe[0].length):-1},q:Od,Q:Fc,s:Jd,S:df,u:oc,U:vd,V:Lc,w:eb,W:Wc,x:function(Ke,oe,Ne){return Ea(Ke,zb,oe,Ne)},X:function(Ke,oe,Ne){return Ea(Ke,Mb,oe,Ne)},y:sd,Y:Qc,Z:jd,"%":kd};tf.x=T(zb,tf);tf.X=T(Mb,tf);tf.c=T(rb,tf);Ng.x=T(zb,Ng);Ng.X=T(Mb,Ng);Ng.c=T(rb,
Ng);return{format:function(Ke){var oe=T(Ke+="",tf);oe.toString=function(){return Ke};return oe},parse:function(Ke){var oe=aa(Ke+="",!1);oe.toString=function(){return Ke};return oe},utcFormat:function(Ke){var oe=T(Ke+="",Ng);oe.toString=function(){return Ke};return oe},utcParse:function(Ke){var oe=aa(Ke+="",!0);oe.toString=function(){return Ke};return oe}}}function Tc(w,T,aa){var Ea=0>w?"-":"";w=(Ea?-w:w)+"";var rb=w.length;return Ea+(rb<aa?Array(aa-rb+1).join(T)+w:w)}function gd(w){return w.replace(ej,
"\\$\x26")}function ee(w){return new RegExp("^(?:"+w.map(gd).join("|")+")","i")}function Ra(w){return new Map(w.map((T,aa)=>[T.toLowerCase(),aa]))}function eb(w,T,aa){return(T=vg.exec(T.slice(aa,aa+1)))?(w.w=+T[0],aa+T[0].length):-1}function oc(w,T,aa){return(T=vg.exec(T.slice(aa,aa+1)))?(w.u=+T[0],aa+T[0].length):-1}function vd(w,T,aa){return(T=vg.exec(T.slice(aa,aa+2)))?(w.U=+T[0],aa+T[0].length):-1}function Lc(w,T,aa){return(T=vg.exec(T.slice(aa,aa+2)))?(w.V=+T[0],aa+T[0].length):-1}function Wc(w,
T,aa){return(T=vg.exec(T.slice(aa,aa+2)))?(w.W=+T[0],aa+T[0].length):-1}function Qc(w,T,aa){return(T=vg.exec(T.slice(aa,aa+4)))?(w.y=+T[0],aa+T[0].length):-1}function sd(w,T,aa){return(T=vg.exec(T.slice(aa,aa+2)))?(w.y=+T[0]+(68<+T[0]?1900:2E3),aa+T[0].length):-1}function jd(w,T,aa){return(T=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(T.slice(aa,aa+6)))?(w.Z=T[1]?0:-(T[2]+(T[3]||"00")),aa+T[0].length):-1}function Od(w,T,aa){return(T=vg.exec(T.slice(aa,aa+1)))?(w.q=3*T[0]-3,aa+T[0].length):-1}function Cd(w,
T,aa){return(T=vg.exec(T.slice(aa,aa+2)))?(w.m=T[0]-1,aa+T[0].length):-1}function be(w,T,aa){return(T=vg.exec(T.slice(aa,aa+2)))?(w.d=+T[0],aa+T[0].length):-1}function xe(w,T,aa){return(T=vg.exec(T.slice(aa,aa+3)))?(w.m=0,w.d=+T[0],aa+T[0].length):-1}function Le(w,T,aa){return(T=vg.exec(T.slice(aa,aa+2)))?(w.H=+T[0],aa+T[0].length):-1}function Xe(w,T,aa){return(T=vg.exec(T.slice(aa,aa+2)))?(w.M=+T[0],aa+T[0].length):-1}function df(w,T,aa){return(T=vg.exec(T.slice(aa,aa+2)))?(w.S=+T[0],aa+T[0].length):
-1}function od(w,T,aa){return(T=vg.exec(T.slice(aa,aa+3)))?(w.L=+T[0],aa+T[0].length):-1}function Ec(w,T,aa){return(T=vg.exec(T.slice(aa,aa+6)))?(w.L=Math.floor(T[0]/1E3),aa+T[0].length):-1}function kd(w,T,aa){return(w=Fi.exec(T.slice(aa,aa+1)))?aa+w[0].length:-1}function Fc(w,T,aa){return(T=vg.exec(T.slice(aa)))?(w.Q=+T[0],aa+T[0].length):-1}function Jd(w,T,aa){return(T=vg.exec(T.slice(aa)))?(w.s=+T[0],aa+T[0].length):-1}function Vd(w,T){return Tc(w.getDate(),T,2)}function ce(w,T){return Tc(w.getHours(),
T,2)}function le(w,T){return Tc(w.getHours()%12||12,T,2)}function O(w,T){return Tc(1+He.count(hh(w),w),T,3)}function ea(w,T){return Tc(w.getMilliseconds(),T,3)}function I(w,T){return ea(w,T)+"000"}function ka(w,T){return Tc(w.getMonth()+1,T,2)}function ta(w,T){return Tc(w.getMinutes(),T,2)}function Ja(w,T){return Tc(w.getSeconds(),T,2)}function jb(w){w=w.getDay();return 0===w?7:w}function vb(w,T){return Tc(pf.count(hh(w)-1,w),T,2)}function pc(w){var T=w.getDay();return 4<=T||0===T?Ef(w):Ef.ceil(w)}
function qc(w,T){w=pc(w);return Tc(Ef.count(hh(w),w)+(4===hh(w).getDay()),T,2)}function rc(w){return w.getDay()}function Kc(w,T){return Tc(Tg.count(hh(w)-1,w),T,2)}function Bd(w,T){return Tc(w.getFullYear()%100,T,2)}function Hc(w,T){w=pc(w);return Tc(w.getFullYear()%100,T,2)}function $c(w,T){return Tc(w.getFullYear()%1E4,T,4)}function yd(w,T){var aa=w.getDay();w=4<=aa||0===aa?Ef(w):Ef.ceil(w);return Tc(w.getFullYear()%1E4,T,4)}function Dd(w){w=w.getTimezoneOffset();return(0<w?"-":(w*=-1,"+"))+Tc(w/
60|0,"0",2)+Tc(w%60,"0",2)}function Kd(w,T){return Tc(w.getUTCDate(),T,2)}function Ee(w,T){return Tc(w.getUTCHours(),T,2)}function Be(w,T){return Tc(w.getUTCHours()%12||12,T,2)}function wd(w,T){return Tc(1+ue.count(Ag(w),w),T,3)}function ze(w,T){return Tc(w.getUTCMilliseconds(),T,3)}function Ld(w,T){return ze(w,T)+"000"}function he(w,T){return Tc(w.getUTCMonth()+1,T,2)}function Fe(w,T){return Tc(w.getUTCMinutes(),T,2)}function lf(w,T){return Tc(w.getUTCSeconds(),T,2)}function vf(w){w=w.getUTCDay();
return 0===w?7:w}function Ie(w,T){return Tc(Qf.count(Ag(w)-1,w),T,2)}function ne(w){var T=w.getUTCDay();return 4<=T||0===T?Of(w):Of.ceil(w)}function Cf(w,T){w=ne(w);return Tc(Of.count(Ag(w),w)+(4===Ag(w).getUTCDay()),T,2)}function If(w){return w.getUTCDay()}function jf(w,T){return Tc(nf.count(Ag(w)-1,w),T,2)}function bg(w,T){return Tc(w.getUTCFullYear()%100,T,2)}function Yd(w,T){w=ne(w);return Tc(w.getUTCFullYear()%100,T,2)}function ef(w,T){return Tc(w.getUTCFullYear()%1E4,T,4)}function mf(w,T){var aa=
w.getUTCDay();w=4<=aa||0===aa?Of(w):Of.ceil(w);return Tc(w.getUTCFullYear()%1E4,T,4)}function af(){return"+0000"}function Hf(){return"%"}function Jf(w){return+w}function yf(w){return Math.floor(+w/1E3)}function zf(w){return new Date(w)}function Eg(w){return w instanceof Date?+w:+new Date(+w)}function eg(w,T,aa,Ea,rb,zb,Mb,Nb,Mc,Ed){function bd(tf){return(Mc(tf)<tf?ye:Nb(tf)<tf?re:Mb(tf)<tf?Te:zb(tf)<tf?Ff:Ea(tf)<tf?rb(tf)<tf?Xf:jg:aa(tf)<tf?Jh:kg)(tf)}var mc=fd()(Gb,Gb),qd=mc.invert,xd=mc.domain,
ye=Ed(".%L"),re=Ed(":%S"),Te=Ed("%I:%M"),Ff=Ed("%I %p"),Xf=Ed("%a %d"),jg=Ed("%b %d"),Jh=Ed("%B"),kg=Ed("%Y");mc.invert=function(tf){return new Date(qd(tf))};mc.domain=function(tf){return arguments.length?xd(Array.from(tf,Eg)):xd().map(zf)};mc.ticks=function(tf){var Ng=xd();return w(Ng[0],Ng[Ng.length-1],null==tf?10:tf)};mc.tickFormat=function(tf,Ng){return null==Ng?bd:Ed(Ng)};mc.nice=function(tf){var Ng=xd();tf&&"function"===typeof tf.range||(tf=T(Ng[0],Ng[Ng.length-1],null==tf?10:tf));return tf?
xd(Xb(Ng,tf)):mc};mc.copy=function(){return ed(mc,eg(w,T,aa,Ea,rb,zb,Mb,Nb,Mc,Ed))};return mc}function wf(){function w(mc){return null==mc||isNaN(mc=+mc)?bd:Mc(0===Mb?.5:(mc=(Nb(mc)-rb)*Mb,Ed?Math.max(0,Math.min(1,mc)):mc))}function T(mc){return function(qd){var xd,ye;return arguments.length?([xd,ye]=qd,Mc=mc(xd,ye),w):[Mc(0),Mc(1)]}}var aa=0,Ea=1,rb,zb,Mb,Nb,Mc=Gb,Ed=!1,bd;w.domain=function(mc){return arguments.length?([aa,Ea]=mc,rb=Nb(aa=+aa),zb=Nb(Ea=+Ea),Mb=rb===zb?0:1/(zb-rb),w):[aa,Ea]};w.clamp=
function(mc){return arguments.length?(Ed=!!mc,w):Ed};w.interpolator=function(mc){return arguments.length?(Mc=mc,w):Mc};w.range=T(Md);w.rangeRound=T(td);w.unknown=function(mc){return arguments.length?(bd=mc,w):bd};return function(mc){Nb=mc;rb=mc(aa);zb=mc(Ea);Mb=rb===zb?0:1/(zb-rb);return w}}function Kf(w,T){return T.domain(w.domain()).interpolator(w.interpolator()).clamp(w.clamp()).unknown(w.unknown())}function dg(){var w=za(wf()(Gb));w.copy=function(){return Kf(w,dg())};return Ka.apply(w,arguments)}
function eh(){var w=$d(wf()).domain([1,10]);w.copy=function(){return Kf(w,eh()).base(w.base())};return Ka.apply(w,arguments)}function Jg(){var w=kf(wf());w.copy=function(){return Kf(w,Jg()).constant(w.constant())};return Ka.apply(w,arguments)}function Og(){var w=U(wf());w.copy=function(){return Kf(w,Og()).exponent(w.exponent())};return Ka.apply(w,arguments)}function Ug(){function w(re){return isNaN(re=+re)?ye:(re=.5+((re=+qd(re))-Nb)*(zb*re<zb*Nb?Ed:bd),mc(xd?Math.max(0,Math.min(1,re)):re))}function T(re){return function(Te){var Ff,
Xf,jg;return arguments.length?([Ff,Xf,jg]=Te,mc=Na(re,[Ff,Xf,jg]),w):[mc(0),mc(.5),mc(1)]}}var aa=0,Ea=.5,rb=1,zb=1,Mb,Nb,Mc,Ed,bd,mc=Gb,qd,xd=!1,ye;w.domain=function(re){return arguments.length?([aa,Ea,rb]=re,Mb=qd(aa=+aa),Nb=qd(Ea=+Ea),Mc=qd(rb=+rb),Ed=Mb===Nb?0:.5/(Nb-Mb),bd=Nb===Mc?0:.5/(Mc-Nb),zb=Nb<Mb?-1:1,w):[aa,Ea,rb]};w.clamp=function(re){return arguments.length?(xd=!!re,w):xd};w.interpolator=function(re){return arguments.length?(mc=re,w):mc};w.range=T(Md);w.rangeRound=T(td);w.unknown=function(re){return arguments.length?
(ye=re,w):ye};return function(re){qd=re;Mb=re(aa);Nb=re(Ea);Mc=re(rb);Ed=Mb===Nb?0:.5/(Nb-Mb);bd=Nb===Mc?0:.5/(Mc-Nb);zb=Nb<Mb?-1:1;return w}}function qa(){var w=za(Ug()(Gb));w.copy=function(){return Kf(w,qa())};return Ka.apply(w,arguments)}function bb(){var w=$d(Ug()).domain([.1,1,10]);w.copy=function(){return Kf(w,bb()).base(w.base())};return Ka.apply(w,arguments)}function Rb(){var w=kf(Ug());w.copy=function(){return Kf(w,Rb()).constant(w.constant())};return Ka.apply(w,arguments)}function hd(){var w=
U(Ug());w.copy=function(){return Kf(w,hd()).exponent(w.exponent())};return Ka.apply(w,arguments)}function ld(){function w(){var mc=aa().length;const qd=rb[1]<rb[0],xd=rb[1-qd],ye=ib(mc,Mc,Ed);let re=rb[qd-0];zb=(xd-re)/(ye||1);Nb&&(zb=Math.floor(zb));re+=(xd-re-zb*(mc-Mc))*bd;Mb=zb*(1-Mc);Nb&&(re=Math.round(re),Mb=Math.round(Mb));mc=Qa(mc).map(Te=>re+zb*Te);return Ea(qd?mc.reverse():mc)}const T=lb().unknown(void 0),aa=T.domain,Ea=T.range;let rb=[0,1],zb,Mb,Nb=!1,Mc=0,Ed=0,bd=.5;delete T.unknown;T.domain=
function(mc){return arguments.length?(aa(mc),w()):aa()};T.range=function(mc){return arguments.length?(rb=[+mc[0],+mc[1]],w()):rb.slice()};T.rangeRound=function(mc){rb=[+mc[0],+mc[1]];Nb=!0;return w()};T.bandwidth=function(){return Mb};T.step=function(){return zb};T.round=function(mc){return arguments.length?(Nb=!!mc,w()):Nb};T.padding=function(mc){return arguments.length?(Mc=Ed=Math.max(0,Math.min(1,mc)),w()):Mc};T.paddingInner=function(mc){return arguments.length?(Mc=Math.max(0,Math.min(1,mc)),w()):
Mc};T.paddingOuter=function(mc){return arguments.length?(Ed=Math.max(0,Math.min(1,mc)),w()):Ed};T.align=function(mc){return arguments.length?(bd=Math.max(0,Math.min(1,mc)),w()):bd};T.invertRange=function(mc){if(null!=mc[0]&&null!=mc[1]){var qd=rb[1]<rb[0],xd=qd?Ea().reverse():Ea(),ye=xd.length-1,re=+mc[0],Te=+mc[1];if(re===re&&Te===Te){if(Te<re){var Ff=re;re=Te;Te=Ff}if(!(Te<xd[0]||re>rb[1-qd]))return mc=Math.max(0,Rg(xd,re)-1),Te=re===Te?mc:Rg(xd,Te)-1,re-xd[mc]>Mb+1E-10&&++mc,qd&&(Ff=mc,mc=ye-Te,
Te=ye-Ff),mc>Te?void 0:aa().slice(mc,Te+1)}}};T.invert=function(mc){return(mc=T.invertRange([mc,mc]))?mc[0]:mc};T.copy=function(){return ld().domain(aa()).range(rb).round(Nb).paddingInner(Mc).paddingOuter(Ed).align(bd)};return w()}function qe(w){const T=w.copy;w.padding=w.paddingOuter;delete w.paddingInner;w.copy=function(){return qe(T())};return w}function Pe(){function w(Ea){return null==Ea||Ea!==Ea?void 0:aa[(gh(T,Ea)-1)%aa.length]}let T=[],aa=[];w.domain=function(Ea){return arguments.length?(T=
W.call(Ea,k.toNumber),w):T.slice()};w.range=function(Ea){return arguments.length?(aa=ha.call(Ea),w):aa.slice()};w.tickFormat=function(Ea,rb){return la(T[0],k.peek(T),null==Ea?10:Ea,rb)};w.copy=function(){return Pe().domain(w.domain()).range(w.range())};return w}function rf(w){w[yb]=!0;return w}function Gf(w,T,aa){const Ea=function(){const rb=T();rb.invertRange||(rb.invertRange=rb.invert?Hb(rb):rb.invertExtent?ac(rb):void 0);rb.type=w;return rf(rb)};Ea.metadata=k.toSet(k.array(aa));return Ea}function Me(w,
T,aa){return 1<arguments.length?(Oa.set(w,Gf(w,T,aa)),this):cg(w)?Oa.get(w):void 0}function cg(w){return Oa.has(w)}function Sf(w,T){return(w=Oa.get(w))&&w.metadata[T]}function Yf(w){return Sf(w,"discrete")}function rg(w){return Sf(w,"discretizing")}function sg(w){return Sf(w,"log")}function Qg(w){return Sf(w,"temporal")}function fh(w,T,aa){return Na(jh(T||"rgb",aa),w)}function jh(w,T){w=ja[Ce(w)];return null!=T&&w&&w.gamma?w.gamma(T):w}function Ce(w){return"interpolate"+w.toLowerCase().split("-").map(T=>
T[0].toUpperCase()+T.slice(1)).join("")}function Ge(w){const T=w.length/6|0,aa=Array(T);for(let Ea=0;Ea<T;)aa[Ea]="#"+w.slice(6*Ea,6*++Ea);return aa}function Lf(w,T){for(const aa in w)xf(aa,T(w[aa]))}function xf(w,T){w=w&&w.toLowerCase();return 1<arguments.length?(Sb[w]=T,this):Sb[w]}function of(w,T,aa){var Ea=w.range();let rb=Ea[0],zb=k.peek(Ea);Ea=Uc;rb>zb&&(Ea=zb,zb=rb,rb=Ea,Ea=Id);rb=Math.floor(rb);zb=Math.ceil(zb);T=T.map(Mb=>[Mb,w(Mb)]).filter(Mb=>rb<=Mb[1]&&Mb[1]<=zb).sort(Ea).map(Mb=>Mb[0]);
if(0<aa&&1<T.length){for(Ea=[T[0],k.peek(T)];T.length>aa&&3<=T.length;)T=T.filter((Mb,Nb)=>!(Nb%2));3>T.length&&(T=Ea)}return T}function Af(w,T){return w.bins?of(w,w.bins):w.ticks?w.ticks(T):w.domain()}function tg(w,T,aa,Ea,rb,zb){const Mb=T.type;let Nb=kc;if("time"===Mb||"time"===rb)Nb=w.timeFormat(Ea);else if("utc"===Mb||"utc"===rb)Nb=w.utcFormat(Ea);else if(sg(Mb)){const Mc=w.formatFloat(Ea);if(zb||T.bins)Nb=Mc;else{const Ed=wg(T,aa,!1);Nb=bd=>Ed(bd)?Mc(bd):""}}else T.tickFormat?(T=T.domain(),
Nb=w.formatSpan(T[0],T[T.length-1],aa,Ea)):Ea&&(Nb=w.format(Ea));return Nb}function wg(w,T,aa){const Ea=Af(w,T),rb=w.base(),zb=Math.log(rb),Mb=Math.max(1,rb*T/Ea.length);w=Nb=>{Nb/=Math.pow(rb,Math.round(Math.log(Nb)/zb));Nb*rb<rb-.5&&(Nb*=rb);return Nb<=Mb};return aa?Ea.filter(w):w}function fg(w,T){w.bins?(w=w.bins,T=w.slice(0,-1),T.max=k.peek(w),w=T):"log"===w.type?w=wg(w,T,!0):Sd[w.type]?(w=w[Sd[w.type]](),w=[-Infinity].concat(w),w.max=Infinity):w=Af(w,T);return w}function Bf(w,T,aa,Ea,rb,zb,Mb){if(ad[T.type]&&
"time"!==zb&&"utc"!==zb){aa=T[ad[T.type]]();zb=aa.length;Mb=1<zb?aa[1]-aa[0]:aa[0];let Nb;for(Nb=1;Nb<zb;++Nb)Mb=Math.min(Mb,aa[Nb]-aa[Nb-1]);w=w.formatSpan(0,Mb,30,rb)}else w=tg(w,T,aa,rb,zb,Mb);return"symbol"===Ea&&(Sd[T.type]||T.bins)?ke(w):"discrete"===Ea?Je(w):Ue(w)}const Rg=uc(vc).right;uc(jc).center;var gh=Rg;class oh extends Map{constructor(w,T=Kb){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:T}});if(null!=w)for(const [aa,Ea]of w)this.set(aa,Ea)}get(w){return super.get(Yb(this,
w))}has(w){return super.has(Yb(this,w))}set(w,T){return super.set(Ua(this,w),T)}delete(w){return super.delete(ub(this,w))}}const xg=Math.sqrt(50),zh=Math.sqrt(10),yh=Math.sqrt(2),Nh=Symbol("implicit");var $g=1/.7,ph=/^#([0-9a-f]{3,8})$/,Ah=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),bi=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Vg=
RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),qh=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ei=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Kg=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Fh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mb(xb,Wb,{copy(w){return Object.assign(new this.constructor,this,w)},displayable(){return this.rgb().displayable()},hex:sb,formatHex:sb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return g(this).formatHsl()},formatRgb:Qb,toString:Qb});mb(Ga,Fa,Pa(xb,{brighter(w){w=null==w?$g:Math.pow($g,w);return new Ga(this.r*w,this.g*w,this.b*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new Ga(this.r*w,this.g*w,this.b*w,this.opacity)},rgb(){return this},clamp(){return new Ga(q(this.r),q(this.g),q(this.b),ma(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=
this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:db,formatHex:db,formatHex8:function(){return`#${M(this.r)}${M(this.g)}${M(this.b)}${M(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ba,toString:ba}));mb(m,u,Pa(xb,{brighter(w){w=null==w?$g:Math.pow($g,w);return new m(this.h,this.s,this.l*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new m(this.h,this.s,this.l*w,this.opacity)},rgb(){var w=this.h%360+360*(0>this.h),T=isNaN(w)||isNaN(this.s)?0:this.s,aa=this.l;T=aa+
(.5>aa?aa:1-aa)*T;aa=2*aa-T;return new Ga(A(240<=w?w-240:w+120,aa,T),A(w,aa,T),A(120>w?w+240:w-120,aa,T),this.opacity)},clamp(){return new m(C(this.h),B(this.s),B(this.l),ma(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const w=ma(this.opacity);return`${1===w?"hsl(":"hsla("}${C(this.h)}, ${100*B(this.s)}%, ${100*B(this.l)}%${1===w?")":`, ${w})`}`}}));const Uh=Math.PI/180,Sg=180/Math.PI,kh=4/29,rh=6/29,
Bh=3*rh*rh,Gg=rh*rh*rh;mb(V,H,Pa(xb,{brighter(w){return new V(this.l+18*(null==w?1:w),this.a,this.b,this.opacity)},darker(w){return new V(this.l-18*(null==w?1:w),this.a,this.b,this.opacity)},rgb(){var w=(this.l+16)/116,T=isNaN(this.a)?w:w+this.a/500,aa=isNaN(this.b)?w:w-this.b/200;T=.96422*Y(T);w=1*Y(w);aa=.82521*Y(aa);return new Ga(t(3.1338561*T-1.6168667*w-.4906146*aa),t(-.9787684*T+1.9161415*w+.033454*aa),t(.0719453*T-.2289914*w+1.4052427*aa),this.opacity)}}));mb(Wa,La,Pa(xb,{brighter(w){return new Wa(this.h,
this.c,this.l+18*(null==w?1:w),this.opacity)},darker(w){return new Wa(this.h,this.c,this.l-18*(null==w?1:w),this.opacity)},rgb(){return $a(this).rgb()}}));var Gh=1.78277*-.29227-.1347134789;mb(Ca,X,Pa(xb,{brighter(w){w=null==w?$g:Math.pow($g,w);return new Ca(this.h,this.s,this.l*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new Ca(this.h,this.s,this.l*w,this.opacity)},rgb(){var w=isNaN(this.h)?0:(this.h+120)*Uh,T=+this.l,aa=isNaN(this.s)?0:this.s*T*(1-T),Ea=Math.cos(w);w=Math.sin(w);
return new Ga(255*(T+aa*(-.14861*Ea+1.78277*w)),255*(T+aa*(-.29227*Ea+-.90649*w)),255*(T+1.97294*aa*Ea),this.opacity)}}));var Ch=w=>()=>w,Hh=function aa(T){function Ea(zb,Mb){var Nb=rb((zb=Fa(zb)).r,(Mb=Fa(Mb)).r),Mc=rb(zb.g,Mb.g),Ed=rb(zb.b,Mb.b),bd=Sc(zb.opacity,Mb.opacity);return function(mc){zb.r=Nb(mc);zb.g=Mc(mc);zb.b=Ed(mc);zb.opacity=bd(mc);return zb+""}}var rb=Zb(T);Ea.gamma=aa;return Ea}(1),Wh=Pd(Jb),Xh=Pd(yc),yg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zg=new RegExp(yg.source,"g"),
Zf=180/Math.PI,lh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ug,Df=gb(function(T){T=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(T+"");return T.isIdentity?lh:Ha(T.a,T.b,T.c,T.d,T.e,T.f)},"px, ","px)","deg)"),mh=gb(function(T){if(null==T)return lh;ug||(ug=document.createElementNS("http://www.w3.org/2000/svg","g"));ug.setAttribute("transform",T);if(!(T=ug.transform.baseVal.consolidate()))return lh;T=T.matrix;return Ha(T.a,T.b,T.c,T.d,T.e,T.f)},", ",")",")"),Lg=function zb(aa,
Ea,rb){function Mb(Nb,Mc){var Ed=Nb[0],bd=Nb[1],mc=Nb[2];Nb=Mc[2];var qd=Mc[0]-Ed,xd=Mc[1]-bd,ye=qd*qd+xd*xd;if(1E-12>ye){var re=Math.log(Nb/mc)/aa;Nb=function(Xf){return[Ed+Xf*qd,bd+Xf*xd,mc*Math.exp(aa*Xf*re)]}}else{var Te=Math.sqrt(ye);Mc=(Nb*Nb-mc*mc+rb*ye)/(2*mc*Ea*Te);Nb=(Nb*Nb-mc*mc-rb*ye)/(2*Nb*Ea*Te);var Ff=Math.log(Math.sqrt(Mc*Mc+1)-Mc);re=(Math.log(Math.sqrt(Nb*Nb+1)-Nb)-Ff)/aa;Nb=function(Xf){Xf*=re;var jg=wb(Ff),Jh=aa*Xf+Ff;var kg=((Jh=Math.exp(2*Jh))-1)/(Jh+1);var tf=Ff;Jh=((tf=Math.exp(tf))-
1/tf)/2;kg=mc/(Ea*Te)*(jg*kg-Jh);return[Ed+kg*qd,bd+kg*xd,mc*jg/wb(aa*Xf+Ff)]}}Nb.duration=1E3*re*aa/Math.SQRT2;return Nb}Mb.rho=function(Nb){Nb=Math.max(.001,+Nb);var Mc=Nb*Nb;return zb(Nb,Mc,Mc*Mc)};return Mb}(Math.SQRT2,2,4),Pf=sa(dd),S=sa(Sc),xa=F(dd),Ta=F(Sc),p=ya(dd),R=ya(Sc),ja=Object.freeze({__proto__:null,interpolate:Md,interpolateArray:function(aa,Ea){return(Vb(Ea)?Ma:qb)(aa,Ea)},interpolateBasis:Jb,interpolateBasisClosed:yc,interpolateCubehelix:p,interpolateCubehelixLong:R,interpolateDate:Tb,
interpolateDiscrete:function(aa){var Ea=aa.length;return function(rb){return aa[Math.max(0,Math.min(Ea-1,Math.floor(rb*Ea)))]}},interpolateHcl:xa,interpolateHclLong:Ta,interpolateHsl:Pf,interpolateHslLong:S,interpolateHue:function(aa,Ea){var rb=dd(+aa,+Ea);return function(zb){zb=rb(zb);return zb-360*Math.floor(zb/360)}},interpolateLab:function(aa,Ea){var rb=Sc((aa=H(aa)).l,(Ea=H(Ea)).l),zb=Sc(aa.a,Ea.a),Mb=Sc(aa.b,Ea.b),Nb=Sc(aa.opacity,Ea.opacity);return function(Mc){aa.l=rb(Mc);aa.a=zb(Mc);aa.b=
Mb(Mc);aa.opacity=Nb(Mc);return aa+""}},interpolateNumber:gc,interpolateNumberArray:Ma,interpolateObject:cc,interpolateRgb:Hh,interpolateRgbBasis:Wh,interpolateRgbBasisClosed:Xh,interpolateRound:td,interpolateString:Zc,interpolateTransformCss:Df,interpolateTransformSvg:mh,interpolateZoom:Lg,piecewise:Na,quantize:function(aa,Ea){for(var rb=Array(Ea),zb=0;zb<Ea;++zb)rb[zb]=aa(zb/(Ea-1));return rb}}),wa=[0,1],r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;de.prototype=Ud.prototype;
Ud.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var G,ia={"%":(aa,Ea)=>(100*aa).toFixed(Ea),b:aa=>Math.round(aa).toString(2),c:aa=>aa+"",d:function(aa){return 1E21<=Math.abs(aa=Math.round(aa))?aa.toLocaleString("en").replace(/,/g,""):aa.toString(10)},e:(aa,Ea)=>aa.toExponential(Ea),f:(aa,
Ea)=>aa.toFixed(Ea),g:(aa,Ea)=>aa.toPrecision(Ea),o:aa=>Math.round(aa).toString(8),p:(aa,Ea)=>Ve(100*aa,Ea),r:Ve,s:function(aa,Ea){var rb=Qd(aa,Ea);if(!rb)return aa+"";var zb=rb[0];rb=rb[1];rb=rb-(G=3*Math.max(-8,Math.min(8,Math.floor(rb/3))))+1;var Mb=zb.length;return rb===Mb?zb:rb>Mb?zb+Array(rb-Mb+1).join("0"):0<rb?zb.slice(0,rb)+"."+zb.slice(rb):"0."+Array(1-rb).join("0")+Qd(aa,Math.max(0,Ea+rb-1))[0]},X:aa=>Math.round(aa).toString(16).toUpperCase(),x:aa=>Math.round(aa).toString(16)},l=Array.prototype.map,
z="y z a f p n  m  k M G T P E Z Y".split(" "),da,oa,Va;(function(aa){da=N(aa);oa=da.format;Va=da.formatPrefix;return da})({thousands:",",grouping:[3],currency:["$",""]});const Ya=new Date,Bb=new Date,hc=Cc(()=>{},(aa,Ea)=>{aa.setTime(+aa+Ea)},(aa,Ea)=>Ea-aa);hc.every=aa=>{aa=Math.floor(aa);return isFinite(aa)&&0<aa?1<aa?Cc(Ea=>{Ea.setTime(Math.floor(Ea/aa)*aa)},(Ea,rb)=>{Ea.setTime(+Ea+rb*aa)},(Ea,rb)=>(rb-Ea)/aa):hc:null};hc.range;const Ub=Cc(aa=>{aa.setTime(aa-aa.getMilliseconds())},(aa,Ea)=>
{aa.setTime(+aa+1E3*Ea)},(aa,Ea)=>(Ea-aa)/1E3,aa=>aa.getUTCSeconds());Ub.range;const Ad=Cc(aa=>{aa.setTime(aa-aa.getMilliseconds()-1E3*aa.getSeconds())},(aa,Ea)=>{aa.setTime(+aa+6E4*Ea)},(aa,Ea)=>(Ea-aa)/6E4,aa=>aa.getMinutes());Ad.range;const Rc=Cc(aa=>{aa.setUTCSeconds(0,0)},(aa,Ea)=>{aa.setTime(+aa+6E4*Ea)},(aa,Ea)=>(Ea-aa)/6E4,aa=>aa.getUTCMinutes());Rc.range;const Rd=Cc(aa=>{aa.setTime(aa-aa.getMilliseconds()-1E3*aa.getSeconds()-6E4*aa.getMinutes())},(aa,Ea)=>{aa.setTime(+aa+36E5*Ea)},(aa,Ea)=>
(Ea-aa)/36E5,aa=>aa.getHours());Rd.range;const we=Cc(aa=>{aa.setUTCMinutes(0,0,0)},(aa,Ea)=>{aa.setTime(+aa+36E5*Ea)},(aa,Ea)=>(Ea-aa)/36E5,aa=>aa.getUTCHours());we.range;const He=Cc(aa=>aa.setHours(0,0,0,0),(aa,Ea)=>aa.setDate(aa.getDate()+Ea),(aa,Ea)=>(Ea-aa-6E4*(Ea.getTimezoneOffset()-aa.getTimezoneOffset()))/864E5,aa=>aa.getDate()-1);He.range;const ue=Cc(aa=>{aa.setUTCHours(0,0,0,0)},(aa,Ea)=>{aa.setUTCDate(aa.getUTCDate()+Ea)},(aa,Ea)=>(Ea-aa)/864E5,aa=>aa.getUTCDate()-1);ue.range;const Se=Cc(aa=>
{aa.setUTCHours(0,0,0,0)},(aa,Ea)=>{aa.setUTCDate(aa.getUTCDate()+Ea)},(aa,Ea)=>(Ea-aa)/864E5,aa=>Math.floor(aa/864E5));Se.range;const pf=$b(0),Tg=$b(1),ff=$b(2),$e=$b(3),Ef=$b(4),Dh=$b(5),gg=$b(6);pf.range;Tg.range;ff.range;$e.range;Ef.range;Dh.range;gg.range;const Qf=J(0),nf=J(1),Tf=J(2),Rf=J(3),Of=J(4),Wg=J(5),Uf=J(6);Qf.range;nf.range;Tf.range;Rf.range;Of.range;Wg.range;Uf.range;const vh=Cc(aa=>{aa.setDate(1);aa.setHours(0,0,0,0)},(aa,Ea)=>{aa.setMonth(aa.getMonth()+Ea)},(aa,Ea)=>Ea.getMonth()-
aa.getMonth()+12*(Ea.getFullYear()-aa.getFullYear()),aa=>aa.getMonth());vh.range;const mg=Cc(aa=>{aa.setUTCDate(1);aa.setUTCHours(0,0,0,0)},(aa,Ea)=>{aa.setUTCMonth(aa.getUTCMonth()+Ea)},(aa,Ea)=>Ea.getUTCMonth()-aa.getUTCMonth()+12*(Ea.getUTCFullYear()-aa.getUTCFullYear()),aa=>aa.getUTCMonth());mg.range;const hh=Cc(aa=>{aa.setMonth(0,1);aa.setHours(0,0,0,0)},(aa,Ea)=>{aa.setFullYear(aa.getFullYear()+Ea)},(aa,Ea)=>Ea.getFullYear()-aa.getFullYear(),aa=>aa.getFullYear());hh.every=aa=>isFinite(aa=Math.floor(aa))&&
0<aa?Cc(Ea=>{Ea.setFullYear(Math.floor(Ea.getFullYear()/aa)*aa);Ea.setMonth(0,1);Ea.setHours(0,0,0,0)},(Ea,rb)=>{Ea.setFullYear(Ea.getFullYear()+rb*aa)}):null;hh.range;const Ag=Cc(aa=>{aa.setUTCMonth(0,1);aa.setUTCHours(0,0,0,0)},(aa,Ea)=>{aa.setUTCFullYear(aa.getUTCFullYear()+Ea)},(aa,Ea)=>Ea.getUTCFullYear()-aa.getUTCFullYear(),aa=>aa.getUTCFullYear());Ag.every=aa=>isFinite(aa=Math.floor(aa))&&0<aa?Cc(Ea=>{Ea.setUTCFullYear(Math.floor(Ea.getUTCFullYear()/aa)*aa);Ea.setUTCMonth(0,1);Ea.setUTCHours(0,
0,0,0)},(Ea,rb)=>{Ea.setUTCFullYear(Ea.getUTCFullYear()+rb*aa)}):null;Ag.range;const [$h,Ci]=fa(Ag,mg,Qf,Se,we,Rc),[ji,ri]=fa(hh,vh,pf,He,Rd,Ad);var Zi={"-":"",_:" ",0:"0"},vg=/^\s*\d+/,Fi=/^%/,ej=/[\\^$*+?|[\]().{}]/g,Gi,fj,y;(function(aa){Gi=Dc(aa);fj=Gi.format;Gi.parse;y=Gi.utcFormat;Gi.utcParse;return Gi})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var W=Array.prototype.map;const ha=Array.prototype.slice,Oa=new Map,yb=Symbol("vega_scale");Me("identity",Ib);Me("linear",fb,"continuous");Me("log",Wd,["continuous","log"]);Me("pow",ua,"continuous");Me("sqrt",function(){return ua.apply(null,arguments).exponent(.5)},"continuous");Me("symlog",hf,"continuous");Me("time",function(){return Da.apply(eg(ji,
ri,hh,vh,pf,He,Rd,Ad,Ub,fj).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);Me("utc",function(){return Da.apply(eg($h,Ci,Ag,mg,Qf,ue,we,Rc,Ub,y).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);Me("sequential",dg,["continuous","interpolating"]);Me("sequential-linear",dg,["continuous","interpolating"]);Me("sequential-log",eh,["continuous","interpolating","log"]);Me("sequential-pow",Og,["continuous","interpolating"]);Me("sequential-sqrt",
function(){return Og.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Me("sequential-symlog",Jg,["continuous","interpolating"]);Me("diverging-linear",qa,["continuous","interpolating"]);Me("diverging-log",bb,["continuous","interpolating","log"]);Me("diverging-pow",hd,["continuous","interpolating"]);Me("diverging-sqrt",function(){return hd.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Me("diverging-symlog",Rb,["continuous","interpolating"]);Me("quantile",cb,
["discretizing","quantile"]);Me("quantize",Ab,"discretizing");Me("threshold",ec,"discretizing");Me("bin-ordinal",Pe,["discrete","discretizing"]);Me("ordinal",lb,"discrete");Me("band",ld,"discrete");Me("point",function(){return qe(ld().paddingInner(1))},"discrete");const Eb=["clamp","base","constant","exponent"],Sb={};Lf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Ge);Lf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},aa=>fh(Ge(aa)));const kc=aa=>k.isArray(aa)?aa.map(Ea=>String(Ea)):String(aa),Uc=(aa,Ea)=>aa[1]-Ea[1],Id=(aa,Ea)=>Ea[1]-aa[1],Sd={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},ad={quantile:"quantiles",quantize:"domain"},ke=aa=>(Ea,rb,zb)=>{rb=zb[rb+1];zb=zb.max;zb=null!=zb?zb:Infinity;rb=null!=
rb?rb:zb;Ea=Number.isFinite(Ea)?aa(Ea):null;rb=Number.isFinite(rb)?aa(rb):null;return Ea&&rb?Ea+"  "+rb:rb?"\x3c "+rb:" "+Ea},Je=aa=>(Ea,rb)=>rb?aa(Ea):null,Ue=aa=>Ea=>aa(Ea);v.Band="band";v.BinOrdinal="bin-ordinal";v.DiscreteLegend="discrete";v.Diverging="diverging";v.GradientLegend="gradient";v.Identity="identity";v.Linear="linear";v.Log="log";v.Ordinal="ordinal";v.Point="point";v.Pow="pow";v.Quantile="quantile";v.Quantize="quantize";v.Sequential="sequential";v.Sqrt="sqrt";v.SymbolLegend="symbol";
v.Symlog="symlog";v.Threshold="threshold";v.Time="time";v.UTC="utc";v.bandSpace=ib;v.domainCaption=function(aa,Ea,rb){rb=rb||{};var zb=Math.max(3,rb.maxlen||7),Mb=rb.format;const Nb=(rb=rb.formatType)||Ea.type;k.isString(Mb)&&Qg(Nb)&&(Mb=Mb.replace(/%a/g,"%A").replace(/%b/g,"%B"));aa=Mb||"time"!==Nb?Mb||"utc"!==Nb?Bf(aa,Ea,5,null,Mb,rb,!0):aa.utcFormat("%A, %d %B %Y, %X UTC"):aa.timeFormat("%A, %d %B %Y, %X");if(rg(Ea.type))return zb=fg(Ea).slice(1).map(aa),Ea=zb.length,`${Ea} boundar${1===Ea?"y":
"ies"}: ${zb.join(", ")}`;if(Yf(Ea.type))return Mb=Ea.domain(),Ea=Mb.length,zb=Ea>zb?Mb.slice(0,zb-2).map(aa).join(", ")+", ending with "+Mb.slice(-1).map(aa):Mb.map(aa).join(", "),`${Ea} value${1===Ea?"":"s"}: ${zb}`;zb=Ea.domain();return`values from ${aa(zb[0])} to ${aa(k.peek(zb))}`};v.interpolate=jh;v.interpolateColors=fh;v.interpolateRange=function(aa,Ea){const rb=Ea[0],zb=k.peek(Ea)-rb;return function(Mb){return aa(rb+Mb*zb)}};v.isContinuous=function(aa){return Sf(aa,"continuous")};v.isDiscrete=
Yf;v.isDiscretizing=rg;v.isInterpolating=function(aa){return Sf(aa,"interpolating")};v.isLogarithmic=sg;v.isQuantile=function(aa){return Sf(aa,"quantile")};v.isRegisteredScale=function(aa){return aa&&!0===aa[yb]};v.isTemporal=Qg;v.isValidScaleType=cg;v.labelFormat=Bf;v.labelFraction=function(aa){var Ea=aa.domain();const rb=Ea.length-1;let zb=+Ea[0];Ea=+k.peek(Ea);let Mb=Ea-zb;"threshold"===aa.type&&(aa=rb?Mb/rb:.1,zb-=aa,Ea+=aa,Mb=Ea-zb);return Nb=>(Nb-zb)/Mb};v.labelValues=fg;v.quantizeInterpolator=
function(aa,Ea){const rb=Array(Ea),zb=Ea+1;for(let Mb=0;Mb<Ea;)rb[Mb]=aa(++Mb/zb);return rb};v.registerScale=rf;v.scale=Me;v.scaleCopy=function(aa){const Ea=aa.type;aa=aa.copy();aa.type=Ea;return aa};v.scaleFraction=function(aa,Ea,rb){var zb=rb-Ea;let Mb,Nb;return zb&&Number.isFinite(zb)?(zb=(Mb=aa.type).indexOf("-"),Mb=0>zb?Mb:Mb.slice(zb+1),Nb=Me(Mb)().domain([Ea,rb]).range([0,1]),Eb.forEach(Mc=>aa[Mc]?Nb[Mc](aa[Mc]()):0),Nb):k.constant(.5)};v.scaleImplicit=Nh;v.scheme=xf;v.tickCount=function(aa,
Ea,rb){let zb;k.isNumber(Ea)&&(aa.bins&&(Ea=Math.max(Ea,aa.bins.length)),null!=rb&&(Ea=Math.min(Ea,Math.floor(k.span(aa.domain())/rb||1))));k.isObject(Ea)&&(zb=Ea.step,Ea=Ea.interval);k.isString(Ea)&&(Ea="time"===aa.type?P.timeInterval(Ea):"utc"==aa.type?P.utcInterval(Ea):k.error("Only time and utc scales accept interval strings."),zb&&(Ea=Ea.every(zb)));return Ea};v.tickFormat=tg;v.tickValues=Af;v.validTicks=of})};
shadow$provide[33]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(31),Fb(27),Fb(32)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Hb){function ac(p,R,ja){const wa=p.gradient;let r=p.id,G="radial"===wa?"p_":"";r||(r=p.id="gradient_"+vb++,"radial"===wa?(p.x1=vc(p.x1,
.5),p.y1=vc(p.y1,.5),p.r1=vc(p.r1,0),p.x2=vc(p.x2,.5),p.y2=vc(p.y2,.5),p.r2=vc(p.r2,.5),G="p_"):(p.x1=vc(p.x1,0),p.y1=vc(p.y1,0),p.x2=vc(p.x2,1),p.y2=vc(p.y2,0)));R[r]=p;return"url("+(ja||"")+"#"+G+r+")"}function vc(p,R){return null!=p?p:R}function Ac(p){return function(){return p}}function uc(p){return 1<=p?Dd:-1>=p?-Dd:Math.asin(p)}function Cb(p){this._+=p[0];for(let R=1,ja=p.length;R<ja;++R)this._+=arguments[R]+p[R]}function jc(p){let R=Math.floor(p);if(!(0<=R))throw Error(`invalid digits: ${p}`);
if(15<R)return Cb;const ja=Math.pow(10,R);return function(wa){this._+=wa[0];for(let r=1,G=wa.length;r<G;++r)this._+=Math.round(arguments[r]*ja)/ja+wa[r]}}function Yb(){return new ze}function Ua(p){let R=3;p.digits=function(ja){if(!arguments.length)return R;if(null==ja)R=null;else{const wa=Math.floor(ja);if(!(0<=wa))throw new RangeError(`invalid digits: ${ja}`);R=wa}return p};return()=>new ze(R)}function ub(p){return p.innerRadius}function Kb(p){return p.outerRadius}function Lb(p){return p.startAngle}
function Db(p){return p.endAngle}function Pb(p){return p&&p.padAngle}function ab(p,R,ja,wa,r,G,ia){var l=p-ja,z=R-wa;ia=(ia?G:-G)/$c(l*l+z*z);z*=ia;l*=-ia;var da=p+z,oa=R+l,Va=ja+z,Ya=wa+l;ja=(da+Va)/2;wa=(oa+Ya)/2;R=Va-da;p=Ya-oa;ia=R*R+p*p;G=r-G;Ya=da*Ya-Va*oa;var Bb=(0>p?-1:1)*$c(Kc(0,G*G*ia-Ya*Ya));da=(Ya*p-R*Bb)/ia;oa=(-Ya*R-p*Bb)/ia;Va=(Ya*p+R*Bb)/ia;R=(-Ya*R+p*Bb)/ia;p=da-ja;ia=oa-wa;ja=Va-ja;wa=R-wa;p*p+ia*ia>ja*ja+wa*wa&&(da=Va,oa=R);return{cx:da,cy:oa,x01:-z,y01:-l,x11:da*(r/G-1),y11:oa*
(r/G-1)}}function pb(p){return"object"===typeof p&&"length"in p?p:Array.from(p)}function Qa(p){this._context=p}function Da(p){return new Qa(p)}function Ka(p){return p[0]}function lb(p){return p[1]}function mb(p,R){function ja(z){var da,oa=(z=pb(z)).length,Va,Ya=!1,Bb;null==r&&(ia=G(Bb=l()));for(da=0;da<=oa;++da)!(da<oa&&wa(Va=z[da],da,z))===Ya&&((Ya=!Ya)?ia.lineStart():ia.lineEnd()),Ya&&ia.point(+p(Va,da,z),+R(Va,da,z));if(Bb)return ia=null,Bb+""||null}var wa=Ac(!0),r=null,G=Da,ia=null,l=Ua(ja);p=
"function"===typeof p?p:void 0===p?Ka:Ac(p);R="function"===typeof R?R:void 0===R?lb:Ac(R);ja.x=function(z){return arguments.length?(p="function"===typeof z?z:Ac(+z),ja):p};ja.y=function(z){return arguments.length?(R="function"===typeof z?z:Ac(+z),ja):R};ja.defined=function(z){return arguments.length?(wa="function"===typeof z?z:Ac(!!z),ja):wa};ja.curve=function(z){return arguments.length?(G=z,null!=r&&(ia=G(r)),ja):G};ja.context=function(z){return arguments.length?(null==z?r=ia=null:ia=G(r=z),ja):
r};return ja}function Pa(p,R,ja){function wa(Va){var Ya,Bb,hc=(Va=pb(Va)).length,Ub,Ad=!1,Rc,Rd=Array(hc),we=Array(hc);null==l&&(da=z(Rc=oa()));for(Ya=0;Ya<=hc;++Ya){if(!(Ya<hc&&ia(Ub=Va[Ya],Ya,Va))===Ad)if(Ad=!Ad){var He=Ya;da.areaStart();da.lineStart()}else{da.lineEnd();da.lineStart();for(Bb=Ya-1;Bb>=He;--Bb)da.point(Rd[Bb],we[Bb]);da.lineEnd();da.areaEnd()}Ad&&(Rd[Ya]=+p(Ub,Ya,Va),we[Ya]=+R(Ub,Ya,Va),da.point(G?+G(Ub,Ya,Va):Rd[Ya],ja?+ja(Ub,Ya,Va):we[Ya]))}if(Rc)return da=null,Rc+""||null}function r(){return mb().defined(ia).curve(z).context(l)}
var G=null,ia=Ac(!0),l=null,z=Da,da=null,oa=Ua(wa);p="function"===typeof p?p:void 0===p?Ka:Ac(+p);R="function"===typeof R?R:void 0===R?Ac(0):Ac(+R);ja="function"===typeof ja?ja:void 0===ja?lb:Ac(+ja);wa.x=function(Va){return arguments.length?(p="function"===typeof Va?Va:Ac(+Va),G=null,wa):p};wa.x0=function(Va){return arguments.length?(p="function"===typeof Va?Va:Ac(+Va),wa):p};wa.x1=function(Va){return arguments.length?(G=null==Va?null:"function"===typeof Va?Va:Ac(+Va),wa):G};wa.y=function(Va){return arguments.length?
(R="function"===typeof Va?Va:Ac(+Va),ja=null,wa):R};wa.y0=function(Va){return arguments.length?(R="function"===typeof Va?Va:Ac(+Va),wa):R};wa.y1=function(Va){return arguments.length?(ja=null==Va?null:"function"===typeof Va?Va:Ac(+Va),wa):ja};wa.lineX0=wa.lineY0=function(){return r().x(p).y(R)};wa.lineY1=function(){return r().x(p).y(ja)};wa.lineX1=function(){return r().x(G).y(R)};wa.defined=function(Va){return arguments.length?(ia="function"===typeof Va?Va:Ac(!!Va),wa):ia};wa.curve=function(Va){return arguments.length?
(z=Va,null!=l&&(da=z(l)),wa):z};wa.context=function(Va){return arguments.length?(null==Va?l=da=null:da=z(l=Va),wa):l};return wa}function xb(){}function sb(p,R,ja){p._context.bezierCurveTo((2*p._x0+p._x1)/3,(2*p._y0+p._y1)/3,(p._x0+2*p._x1)/3,(p._y0+2*p._y1)/3,(p._x0+4*p._x1+R)/6,(p._y0+4*p._y1+ja)/6)}function Qb(p){this._context=p}function Wb(p){this._context=p}function nb(p){this._context=p}function pa(p,R){this._basis=new Qb(p);this._beta=R}function Z(p,R,ja){p._context.bezierCurveTo(p._x1+p._k*
(p._x2-p._x0),p._y1+p._k*(p._y2-p._y0),p._x2+p._k*(p._x1-R),p._y2+p._k*(p._y1-ja),p._x2,p._y2)}function Fa(p,R){this._context=p;this._k=(1-R)/6}function Ga(p,R){this._context=p;this._k=(1-R)/6}function db(p,R){this._context=p;this._k=(1-R)/6}function ba(p,R,ja){var wa=p._x1,r=p._y1,G=p._x2,ia=p._y2;if(1E-12<p._l01_a){var l=2*p._l01_2a+3*p._l01_a*p._l12_a+p._l12_2a,z=3*p._l01_a*(p._l01_a+p._l12_a);wa=(wa*l-p._x0*p._l12_2a+p._x2*p._l01_2a)/z;r=(r*l-p._y0*p._l12_2a+p._y2*p._l01_2a)/z}1E-12<p._l23_a&&
(l=2*p._l23_2a+3*p._l23_a*p._l12_a+p._l12_2a,z=3*p._l23_a*(p._l23_a+p._l12_a),G=(G*l+p._x1*p._l23_2a-R*p._l12_2a)/z,ia=(ia*l+p._y1*p._l23_2a-ja*p._l12_2a)/z);p._context.bezierCurveTo(wa,r,G,ia,p._x2,p._y2)}function ma(p,R){this._context=p;this._alpha=R}function q(p,R){this._context=p;this._alpha=R}function M(p,R){this._context=p;this._alpha=R}function Q(p){this._context=p}function g(p,R,ja){var wa=p._x1-p._x0;R-=p._x1;var r=(p._y1-p._y0)/(wa||0>R&&-0);p=(ja-p._y1)/(R||0>wa&&-0);return((0>r?-1:1)+
(0>p?-1:1))*Math.min(Math.abs(r),Math.abs(p),.5*Math.abs((r*R+p*wa)/(wa+R)))||0}function u(p,R){var ja=p._x1-p._x0;return ja?(3*(p._y1-p._y0)/ja-R)/2:R}function m(p,R,ja){var wa=p._x0,r=p._x1,G=p._y1,ia=(r-wa)/3;p._context.bezierCurveTo(wa+ia,p._y0+ia*R,r-ia,G-ia*ja,r,G)}function C(p){this._context=p}function B(p){this._context=new A(p)}function A(p){this._context=p}function E(p){this._context=p}function H(p){var R,ja=p.length-1,wa=Array(ja),r=Array(ja),G=Array(ja);wa[0]=0;r[0]=2;G[0]=p[0]+2*p[1];
for(R=1;R<ja-1;++R)wa[R]=1,r[R]=4,G[R]=4*p[R]+2*p[R+1];wa[ja-1]=2;r[ja-1]=7;G[ja-1]=8*p[ja-1]+p[ja];for(R=1;R<ja;++R){var ia=wa[R]/r[R-1];r[R]-=ia;G[R]-=ia*G[R-1]}wa[ja-1]=G[ja-1]/r[ja-1];for(R=ja-2;0<=R;--R)wa[R]=(G[R]-wa[R+1])/r[R];r[ja-1]=(p[ja]+wa[ja-1])/2;for(R=0;R<ja-1;++R)r[R]=2*p[R+1]-wa[R+1];return[wa,r]}function V(p,R){this._context=p;this._t=R}function Aa(p,R,ja){p=k.hasOwnProperty(If,p)&&If[p];var wa=null;p&&(wa=p.curve||p[R||"vertical"],p.tension&&null!=ja&&(wa=wa[p.tension](ja)));return wa}
function Y(p){const R=[];(p.match(bg)||[]).forEach(ja=>{let wa=ja[0];var r=wa.toLowerCase();const G=jf[r];var ia=ja.slice(1).trim();ja=[];for(let z=0;G&&z<ia.length;)for(let da=0;da<G;++da){var l="a"!==r||3!==da&&4!==da?Yd:mf;l=ia.slice(z).match(l);if(null===l)throw Error("Invalid SVG path, incorrect parameter type");z+=l[0].length;ja.push(+l[0]);l=ia.slice(z).match(ef);null!==l&&(z+=l[0].length)}ia=ja.length;if(ia<G||ia&&0!==ia%G)throw Error("Invalid SVG path, incorrect parameter count");R.push([wa,
...ja.slice(0,G)]);if(ia!==G)for("m"===r&&(wa="M"===wa?"L":"l"),r=G;r<ia;r+=G)R.push([wa,...ja.slice(r,r+G)])});return R}function t(p,R,ja,wa,r,G,ia,l,z){const da=eg.call(arguments);if(zf[da])return zf[da];var oa=ia*af;const Va=Math.sin(oa);oa=Math.cos(oa);ja=Math.abs(ja);wa=Math.abs(wa);var Ya=oa*(l-p)*.5+Va*(z-R)*.5,Bb=oa*(z-R)*.5-Va*(l-p)*.5;Ya=Ya*Ya/(ja*ja)+Bb*Bb/(wa*wa);1<Ya&&(Ya=Math.sqrt(Ya),ja*=Ya,wa*=Ya);var hc=oa/ja,Ub=Va/ja,Ad=-Va/wa,Rc=oa/wa;Ya=hc*l+Ub*z;Bb=Ad*l+Rc*z;hc=hc*p+Ub*R;Ub=Ad*
p+Rc*R;Ad=1/((hc-Ya)*(hc-Ya)+(Ub-Bb)*(Ub-Bb))-.25;0>Ad&&(Ad=0);Rc=Math.sqrt(Ad);G==r&&(Rc=-Rc);Ad=.5*(Ya+hc)-Rc*(Ub-Bb);Rc=.5*(Bb+Ub)+Rc*(hc-Ya);Ya=Math.atan2(Bb-Rc,Ya-Ad);Bb=Math.atan2(Ub-Rc,hc-Ad)-Ya;0>Bb&&1===G?Bb+=Jf:0<Bb&&0===G&&(Bb-=Jf);hc=Math.ceil(Math.abs(Bb/(Hf+.001)));Ub=[];for(let Rd=0;Rd<hc;++Rd)Ub[Rd]=[Ad,Rc,Ya+Rd*Bb/hc,Ya+(Rd+1)*Bb/hc,ja,wa,Va,oa];return zf[da]=Ub}function L(p,R,ja,wa,r,G){var ia=null,l=0,z=0,da=0,oa=0,Va=0,Ya=0;null==ja&&(ja=0);null==wa&&(wa=0);null==r&&(r=1);null==
G&&(G=r);p.beginPath&&p.beginPath();for(var Bb=0,hc=R.length;Bb<hc;++Bb){var Ub=R[Bb];if(1!==r||1!==G){var Ad=r;var Rc=G;var Rd=wf[0]=Ub[0];if("a"===Rd||"A"===Rd)wf[1]=Ad*Ub[1],wf[2]=Rc*Ub[2],wf[3]=Ub[3],wf[4]=Ub[4],wf[5]=Ub[5],wf[6]=Ad*Ub[6],wf[7]=Rc*Ub[7];else if("h"===Rd||"H"===Rd)wf[1]=Ad*Ub[1];else if("v"===Rd||"V"===Rd)wf[1]=Rc*Ub[1];else{Rd=1;for(var we=Ub.length;Rd<we;++Rd)wf[Rd]=(1==Rd%2?Ad:Rc)*Ub[Rd]}Ub=wf}switch(Ub[0]){case "l":l+=Ub[1];z+=Ub[2];p.lineTo(l+ja,z+wa);break;case "L":l=Ub[1];
z=Ub[2];p.lineTo(l+ja,z+wa);break;case "h":l+=Ub[1];p.lineTo(l+ja,z+wa);break;case "H":l=Ub[1];p.lineTo(l+ja,z+wa);break;case "v":z+=Ub[1];p.lineTo(l+ja,z+wa);break;case "V":z=Ub[1];p.lineTo(l+ja,z+wa);break;case "m":l+=Ub[1];z+=Ub[2];Va=l;Ya=z;p.moveTo(l+ja,z+wa);break;case "M":l=Ub[1];z=Ub[2];Va=l;Ya=z;p.moveTo(l+ja,z+wa);break;case "c":Ad=l+Ub[5];Rc=z+Ub[6];da=l+Ub[3];oa=z+Ub[4];p.bezierCurveTo(l+Ub[1]+ja,z+Ub[2]+wa,da+ja,oa+wa,Ad+ja,Rc+wa);l=Ad;z=Rc;break;case "C":l=Ub[5];z=Ub[6];da=Ub[3];oa=
Ub[4];p.bezierCurveTo(Ub[1]+ja,Ub[2]+wa,da+ja,oa+wa,l+ja,z+wa);break;case "s":Ad=l+Ub[3];Rc=z+Ub[4];da=2*l-da;oa=2*z-oa;p.bezierCurveTo(da+ja,oa+wa,l+Ub[1]+ja,z+Ub[2]+wa,Ad+ja,Rc+wa);da=l+Ub[1];oa=z+Ub[2];l=Ad;z=Rc;break;case "S":Ad=Ub[3];Rc=Ub[4];da=2*l-da;oa=2*z-oa;p.bezierCurveTo(da+ja,oa+wa,Ub[1]+ja,Ub[2]+wa,Ad+ja,Rc+wa);l=Ad;z=Rc;da=Ub[1];oa=Ub[2];break;case "q":Ad=l+Ub[3];Rc=z+Ub[4];da=l+Ub[1];oa=z+Ub[2];p.quadraticCurveTo(da+ja,oa+wa,Ad+ja,Rc+wa);l=Ad;z=Rc;break;case "Q":Ad=Ub[3];Rc=Ub[4];
p.quadraticCurveTo(Ub[1]+ja,Ub[2]+wa,Ad+ja,Rc+wa);l=Ad;z=Rc;da=Ub[1];oa=Ub[2];break;case "t":Ad=l+Ub[1];Rc=z+Ub[2];null===ia[0].match(/[QqTt]/)?(da=l,oa=z):"t"===ia[0]?(da=2*l-He,oa=2*z-ue):"q"===ia[0]&&(da=2*l-da,oa=2*z-oa);var He=da;var ue=oa;p.quadraticCurveTo(da+ja,oa+wa,Ad+ja,Rc+wa);l=Ad;z=Rc;da=l+Ub[1];oa=z+Ub[2];break;case "T":Ad=Ub[1];Rc=Ub[2];da=2*l-da;oa=2*z-oa;p.quadraticCurveTo(da+ja,oa+wa,Ad+ja,Rc+wa);l=Ad;z=Rc;break;case "a":va(p,l+ja,z+wa,[Ub[1],Ub[2],Ub[3],Ub[4],Ub[5],Ub[6]+l+ja,Ub[7]+
z+wa]);l+=Ub[6];z+=Ub[7];break;case "A":va(p,l+ja,z+wa,[Ub[1],Ub[2],Ub[3],Ub[4],Ub[5],Ub[6]+ja,Ub[7]+wa]);l=Ub[6];z=Ub[7];break;case "z":case "Z":l=Va,z=Ya,p.closePath()}ia=Ub}}function va(p,R,ja,wa){R=t(wa[5],wa[6],wa[0],wa[1],wa[3],wa[4],wa[2],R,ja);for(ja=0;ja<R.length;++ja){a:{var r=R[ja];wa=eg.call(r);if(Eg[wa]){wa=Eg[wa];break a}var G=r[0],ia=r[1],l=r[2],z=r[3],da=r[4],oa=r[5],Va=r[6],Ya=r[7];r=Ya*da;const hc=-Va*oa;da*=Va;oa*=Ya;var Bb=Math.cos(l);const Ub=Math.sin(l);Va=Math.cos(z);Ya=Math.sin(z);
l=.5*(z-l);z=Math.sin(.5*l);z=8/3*z*z/Math.sin(l);l=G+Bb-z*Ub;Bb=ia+Ub+z*Bb;G+=Va;ia+=Ya;Ya=G+z*Ya;Va=ia-z*Va;wa=Eg[wa]=[r*l+hc*Bb,da*l+oa*Bb,r*Ya+hc*Va,da*Ya+oa*Va,r*G+hc*ia,da*G+oa*ia]}p.bezierCurveTo(wa[0],wa[1],wa[2],wa[3],wa[4],wa[5])}}function La(p){return k.hasOwnProperty(Kf,p)?Kf[p]:Wa(p)}function Wa(p){if(!k.hasOwnProperty(dg,p)){const R=Y(p);dg[p]={draw:function(ja,wa){L(ja,R,0,0,Math.sqrt(wa)/2)}}}return dg[p]}function $a(p){return p.x}function X(p){return p.y}function Ca(p){return p.width}
function Xa(p){return p.height}function Jb(p){return"function"===typeof p?p:()=>+p}function yc(p,R,ja){return Math.max(R,Math.min(p,ja))}function sc(){function p(oa,Va,Ya){var Bb;Va=null!=Va?Va:+R.call(this,oa);Ya=null!=Ya?Ya:+ja.call(this,oa);var hc=+wa.call(this,oa),Ub=+r.call(this,oa),Ad=Math.min(hc,Ub)/2,Rc=yc(+G.call(this,oa),0,Ad),Rd=yc(+ia.call(this,oa),0,Ad),we=yc(+l.call(this,oa),0,Ad);oa=yc(+z.call(this,oa),0,Ad);da||(da=Bb=Yb());0>=Rc&&0>=Rd&&0>=we&&0>=oa?da.rect(Va,Ya,hc,Ub):(hc=Va+hc,
Ub=Ya+Ub,da.moveTo(Va+Rc,Ya),da.lineTo(hc-Rd,Ya),da.bezierCurveTo(hc-.448084975506*Rd,Ya,hc,Ya+.448084975506*Rd,hc,Ya+Rd),da.lineTo(hc,Ub-oa),da.bezierCurveTo(hc,Ub-.448084975506*oa,hc-.448084975506*oa,Ub,hc-oa,Ub),da.lineTo(Va+we,Ub),da.bezierCurveTo(Va+.448084975506*we,Ub,Va,Ub-.448084975506*we,Va,Ub-we),da.lineTo(Va,Ya+Rc),da.bezierCurveTo(Va,Ya+.448084975506*Rc,Va+.448084975506*Rc,Ya,Va+Rc,Ya),da.closePath());if(Bb)return da=null,Bb+""||null}var R=$a,ja=X,wa=Ca,r=Xa,G=Jb(0),ia=G,l=G,z=G,da=null;
p.x=function(oa){return arguments.length?(R=Jb(oa),p):R};p.y=function(oa){return arguments.length?(ja=Jb(oa),p):ja};p.width=function(oa){return arguments.length?(wa=Jb(oa),p):wa};p.height=function(oa){return arguments.length?(r=Jb(oa),p):r};p.cornerRadius=function(oa,Va,Ya,Bb){return arguments.length?(G=Jb(oa),ia=null!=Va?Jb(Va):G,z=null!=Ya?Jb(Ya):G,l=null!=Bb?Jb(Bb):ia,p):G};p.context=function(oa){return arguments.length?(da=null==oa?null:oa,p):da};return p}function xc(){function p(oa){var Va,Ya=
oa.length,Bb,hc=!1,Ub;null==G&&(G=Ub=Yb());for(Va=0;Va<=Ya;++Va)if(!(Va<Ya&&r(Bb=oa[Va],Va,oa))===hc&&(hc=!hc)&&(ia=0),hc){var Ad=+R(Bb,Va,oa),Rc=+ja(Bb,Va,oa);const pf=+wa(Bb,Va,oa)/2;if(ia){var Rd=z-Rc,we=Ad-l;if(Rd||we){var He=Math.sqrt(Rd*Rd+we*we),ue=(Rd/=He)*da;He=(we/=He)*da;var Se=Math.atan2(we,Rd);G.moveTo(l-ue,z-He);G.lineTo(Ad-Rd*pf,Rc-we*pf);G.arc(Ad,Rc,pf,Se-Math.PI,Se);G.lineTo(l+ue,z+He);G.arc(l,z,da,Se,Se+Math.PI)}else G.arc(Ad,Rc,pf,0,Jf);G.closePath()}else ia=1;l=Ad;z=Rc;da=pf}if(Ub)return G=
null,Ub+""||null}var R,ja,wa,r,G=null,ia,l,z,da;p.x=function(oa){return arguments.length?(R=oa,p):R};p.y=function(oa){return arguments.length?(ja=oa,p):ja};p.size=function(oa){return arguments.length?(wa=oa,p):wa};p.defined=function(oa){return arguments.length?(r=oa,p):r};p.context=function(oa){return arguments.length?(G=null==oa?null:oa,p):G};return p}function dd(p,R){return null!=p?p:R}function Zb(p){return p.cornerRadius||p.cornerRadiusTopLeft||p.cornerRadiusTopRight||p.cornerRadiusBottomRight||
p.cornerRadiusBottomLeft}function Sc(p,R,ja,wa){return hd.context(p)(R,ja,wa)}function Pd(p,R,ja){var wa=R.clip;p=p._defs;R=R.clip_id||(R.clip_id="clip"+Pe++);p=p.clipping[R]||(p.clipping[R]={id:R});k.isFunction(wa)?p.path=wa(null):Zb(ja)?p.path=Sc(null,ja,0,0):(p.width=ja.width||0,p.height=ja.height||0);return"url(#"+R+")"}function Ma(p){this.clear();p&&this.union(p)}function Vb(p){this.mark=p;this.bounds=this.bounds||new Ma}function qb(p){Vb.call(this,p);this.items=this.items||[]}function Tb(p){this._pending=
0;this._loader=p||ib.loader()}function gc(p,R,ja){if(R.stroke&&0!==R.opacity&&0!==R.strokeOpacity){const wa=null!=R.strokeWidth?+R.strokeWidth:1;p.expand(wa+(ja?R.strokeJoin&&"miter"!==R.strokeJoin?0:wa:0))}return p}function cc(p,R){Gf=p;R?(Sf=R*af,Yf=Qg=Math.cos(Sf),rg=Math.sin(Sf),sg=-rg):(Yf=Qg=1,Sf=rg=sg=0);return xf}function Ic(p,R,ja,wa){ja=(p-R)/(p+ja-2*R);0<ja&&1>ja&&wa(p+(R-p)*ja)}function zc(p,R,ja,wa,r){const G=wa-p+3*R-3*ja,ia=p+ja-2*R;var l=p-R;let z=0,da=0;1E-14<Math.abs(G)?(l=ia*ia+
l*G,0<=l&&(l=Math.sqrt(l),z=(-ia+l)/G,da=(-ia-l)/G)):z=.5*l/ia;0<z&&1>z&&r(Zc(z,p,R,ja,wa));0<da&&1>da&&r(Zc(da,p,R,ja,wa))}function Zc(p,R,ja,wa,r){const G=1-p,ia=G*G,l=p*p;return ia*G*R+3*ia*p*ja+3*G*l*wa+l*p*r}function Md(p){return function(R,ja){if(!of)return!0;p(of,R);Af.clear().union(R.bounds).intersect(ja).round();const {x1:wa,y1:r,x2:G,y2:ia}=Af;for(R=r;R<=ia;++R)for(ja=wa;ja<=G;++ja)if(of.isPointInPath(ja,R))return!0;return!1}}function td(p,R){return R.contains(p.x||0,p.y||0)}function Ha(p,
R){const ja=p.x||0,wa=p.y||0;return R.intersects(Af.set(ja,wa,ja+(p.width||0),wa+(p.height||0)))}function gb(p,R){const ja=p.x||0,wa=p.y||0;return wb(R,ja,wa,null!=p.x2?p.x2:ja,null!=p.y2?p.y2:wa)}function wb(p,R,ja,wa,r){const {x1:G,y1:ia,x2:l,y2:z}=p;p=wa-R;r-=ja;wa=0;let da=1,oa,Va,Ya,Bb;for(Bb=0;4>Bb;++Bb){0===Bb&&(oa=-p,Va=-(G-R));1===Bb&&(oa=p,Va=l-R);2===Bb&&(oa=-r,Va=-(ia-ja));3===Bb&&(oa=r,Va=z-ja);if(1E-10>Math.abs(oa)&&0>Va)return!1;Ya=Va/oa;if(0>oa){if(Ya>da)return!1;Ya>wa&&(wa=Ya)}else if(0<
oa){if(Ya<wa)return!1;Ya<da&&(da=Ya)}}return!0}function sa(p,R){p.globalCompositeOperation=R.blend||"source-over"}function F(p,R){return null==p?R:p}function ya(p,R){const ja=R.length;for(let wa=0;wa<ja;++wa)p.addColorStop(R[wa].offset,R[wa].color);return p}function Na(p,R,ja){const wa=ja.width(),r=ja.height();if("radial"===R.gradient)p=p.createRadialGradient(ja.x1+F(R.x1,.5)*wa,ja.y1+F(R.y1,.5)*r,Math.max(wa,r)*F(R.r1,0),ja.x1+F(R.x2,.5)*wa,ja.y1+F(R.y2,.5)*r,Math.max(wa,r)*F(R.r2,.5));else{const G=
F(R.x1,0),ia=F(R.y1,0),l=F(R.x2,1),z=F(R.y2,0);if(G===l||ia===z||wa===r)p=p.createLinearGradient(ja.x1+G*wa,ja.y1+ia*r,ja.x1+l*wa,ja.y1+z*r);else{ja=P.canvas(Math.ceil(wa),Math.ceil(r));const da=ja.getContext("2d");da.scale(wa,r);da.fillStyle=ya(da.createLinearGradient(G,ia,l,z),R.stops);da.fillRect(0,0,wa,r);return p.createPattern(ja,"no-repeat")}}return ya(p,R.stops)}function Za(p,R,ja){ja*=null==R.fillOpacity?1:R.fillOpacity;return 0<ja?(p.globalAlpha=ja,R=(ja=R.fill)&&ja.gradient?Na(p,ja,R.bounds):
ja,p.fillStyle=R,!0):!1}function kb(p,R,ja){var wa=null!=(wa=R.strokeWidth)?wa:1;if(0>=wa)return!1;ja*=null==R.strokeOpacity?1:R.strokeOpacity;return 0<ja?(p.globalAlpha=ja,ja=(ja=R.stroke)&&ja.gradient?Na(p,ja,R.bounds):ja,p.strokeStyle=ja,p.lineWidth=wa,p.lineCap=R.strokeCap||"butt",p.lineJoin=R.strokeJoin||"miter",p.miterLimit=R.strokeMiterLimit||10,p.setLineDash&&(p.setLineDash(R.strokeDash||tg),p.lineDashOffset=R.strokeDashOffset||0),!0):!1}function Gb(p,R){return p.zindex-R.zindex||p.index-
R.index}function nc(p){if(!p.zdirty)return p.zitems;var R=p.items,ja=[],wa;var r=0;for(wa=R.length;r<wa;++r){var G=R[r];G.index=r;G.zindex&&ja.push(G)}p.zdirty=!1;return p.zitems=ja.sort(Gb)}function dc(p,R){var ja=p.items,wa;if(ja&&ja.length){var r=nc(p);if(r&&r.length){p=0;for(wa=ja.length;p<wa;++p)ja[p].zindex||R(ja[p]);ja=r}p=0;for(wa=ja.length;p<wa;++p)R(ja[p])}}function ic(p,R){var ja=p.items,wa,r;if(!ja||!ja.length)return null;const G=nc(p);G&&G.length&&(ja=G);for(r=ja.length;0<=--r;)if(wa=
R(ja[r]))return wa;if(ja===G)for(ja=p.items,r=ja.length;0<=--r;)if(!ja[r].zindex&&(wa=R(ja[r])))return wa;return null}function Vc(p){return function(R,ja,wa){dc(ja,r=>{wa&&!wa.intersects(r.bounds)||fd(p,R,r,r)})}}function ed(p){return function(R,ja,wa){!ja.items.length||wa&&!wa.intersects(ja.bounds)||fd(p,R,ja.items[0],ja.items)}}function fd(p,R,ja,wa){var r=null==ja.opacity?1:ja.opacity;0===r||p(R,wa)||(sa(R,ja),ja.fill&&Za(R,ja,r)&&R.fill(),ja.stroke&&kb(R,ja,r)&&R.stroke())}function Qd(p){p=p||
k.truthy;return function(R,ja,wa,r,G,ia){wa*=R.pixelRatio;r*=R.pixelRatio;return ic(ja,l=>{const z=l.bounds;if((!z||z.contains(G,ia))&&z&&p(R,l,wa,r,G,ia))return l})}}function Td(p,R){return function(ja,wa,r,G){var ia=Array.isArray(wa)?wa[0]:wa,l=null==R?ia.fill:R,z=ia.stroke&&ja.isPointInStroke;if(z){var da=ia.strokeWidth;ia=ia.strokeCap;ja.lineWidth=null!=da?da:1;ja.lineCap=null!=ia?ia:"butt"}return p(ja,wa)?!1:l&&ja.isPointInPath(r,G)||z&&ja.isPointInStroke(r,G)}}function Fd(p,R){return"translate("+
p+","+R+")"}function Zd(p,R,ja){function wa(r,G){var ia=G.x||0,l=G.y||0,z=G.angle||0;r.translate(ia,l);z&&r.rotate(z*=af);r.beginPath();R(r,G);z&&r.rotate(-z);r.translate(-ia,-l)}return{type:p,tag:"path",nested:!1,attr:function(r,G){var ia=Fd(G.x||0,G.y||0)+(G.angle?" rotate("+(G.angle+")"):"");r("transform",ia);r("d",R(null,G))},bound:function(r,G){R(cc(r,G.angle),G);return gc(r,G).translate(G.x||0,G.y||0)},draw:Vc(wa),pick:Qd(Td(wa)),isect:ja||Md(wa)}}function de(p,R,ja){function wa(G,ia){G.beginPath();
R(G,ia)}const r=Td(wa);return{type:p,tag:"path",nested:!0,attr:function(G,ia){ia=ia.mark.items;ia.length&&G("d",R(null,ia))},bound:function(G,ia){ia=ia.items;if(0===ia.length)return G;R(cc(G),ia);return gc(G,ia[0])},draw:ed(wa),pick:function(G,ia,l,z,da,oa){var Va=ia.items;ia=ia.bounds;if(!Va||!Va.length||ia&&!ia.contains(da,oa))return null;l*=G.pixelRatio;z*=G.pixelRatio;return r(G,Va,l,z)?Va[0]:null},isect:td,tip:ja}}function Ud(p,R){p.beginPath();Zb(R)?Sc(p,R,0,0):p.rect(0,0,R.width||0,R.height||
0);p.clip()}function Ve(p){const R=F(p.strokeWidth,1);return null!=p.strokeOffset?p.strokeOffset:p.stroke&&.5<R&&1.5>R?.5-Math.abs(R-1):0}function Xd(p,R,ja,wa){const r=Ve(R);p.beginPath();Sc(p,R,(ja||0)+r,(wa||0)+r)}function N(p,R){var ja=p.image;if(!ja||p.url&&p.url!==ja.url)ja={complete:!1,width:0,height:0},R.loadImage(p.url).then(wa=>{p.image=wa;p.image.url=p.url});return ja}function la(p,R){return null!=p.width?p.width:R&&R.width?!1!==p.aspect&&p.height?p.height*R.width/R.height:R.width:0}function za(p,
R){return null!=p.height?p.height:R&&R.height?!1!==p.aspect&&p.width?p.width*R.height/R.width:R.height:0}function fb(p,R){return"center"===p?R/2:"right"===p?R:0}function Ib(p,R){return"middle"===p?R/2:"bottom"===p?R:0}function Xb(p,R){var ja=R.path;if(null==ja)return!0;var wa=R.x||0,r=R.y||0,G=R.scaleX||1,ia=R.scaleY||1,l=(R.angle||0)*af,z=R.pathCache;z&&z.path===ja||((R.pathCache=z=Y(ja)).path=ja);l&&p.rotate&&p.translate?(p.translate(wa,r),p.rotate(l),L(p,z,0,0,G,ia),p.rotate(-l),p.translate(-wa,
-r)):L(p,z,wa,r,G,ia)}function Bc(p,R){p.beginPath();Sc(p,R)}function lc(p,R,ja){if(R.stroke&&kb(p,R,ja)){ja=R.x||0;var wa=R.y||0;var r=null!=R.x2?R.x2:ja;R=null!=R.y2?R.y2:wa;p.beginPath();p.moveTo(ja,wa);p.lineTo(r,R);return!0}return!1}function Gc(p){qh.width=p&&of?Nc:id}function id(p,R){R=Wd(p,R);p=Hd(p);return~~(.8*R.length*p)}function Nc(p,R){return 0>=Hd(p)||!(R=Wd(p,R))?0:rd(R,kf(p))}function rd(p,R){const ja=`(${R}) ${p}`;let wa=Vg.get(ja);void 0===wa&&(of.font=R,wa=of.measureText(p).width,
Vg.set(ja,wa));return wa}function Hd(p){return null!=p.fontSize?+p.fontSize||0:11}function Gd(p){return null!=p.lineHeight?p.lineHeight:Hd(p)+2}function $d(p){p=p.lineBreak&&p.text&&!k.isArray(p.text)?p.text.split(p.lineBreak):p.text;return k.isArray(p)?1<p.length?p:p[0]:p}function Wd(p,R){R=null==R?"":(R+"").trim();if(0<p.limit&&R.length){var ja=+p.limit,wa=ae(p);if(!(wa(R)<ja)){var r=p.ellipsis||"",G="rtl"===p.dir;p=0;var ia=R.length;ja-=wa(r);if(G){for(;p<ia;)G=p+ia>>>1,wa(R.slice(G))>ja?p=G+
1:ia=G;R=r+R.slice(p)}else{for(;p<ia;)G=1+(p+ia>>>1),wa(R.slice(0,G))<ja?p=G:ia=G-1;R=R.slice(0,p)+r}}}return R}function ae(p){if(qh.width===Nc){const ja=kf(p);return wa=>rd(wa,ja)}const R=Hd(p);return ja=>~~(.8*ja.length*R)}function Ae(p,R){p=p.font;return(R&&p?String(p).replace(/"/g,"'"):p)||"sans-serif"}function kf(p,R){return(p.fontStyle?p.fontStyle+" ":"")+(p.fontVariant?p.fontVariant+" ":"")+(p.fontWeight?p.fontWeight+" ":"")+Hd(p)+"px "+Ae(p,R)}function hf(p){var R=p.baseline,ja=Hd(p);return Math.round("top"===
R?.79*ja:"middle"===R?.3*ja:"bottom"===R?-.21*ja:"line-top"===R?.29*ja+.5*Gd(p):"line-bottom"===R?.29*ja-.5*Gd(p):0)}function cf(p){var R=p.x||0,ja=p.y||0,wa=p.radius||0;wa&&(p=(p.theta||0)-Hf,R+=wa*Math.cos(p),ja+=wa*Math.sin(p));Kg.x1=R;Kg.y1=ja;return Kg}function se(p,R,ja){var wa=qh.height(R),r=R.align,G=cf(R),ia=G.x1;G=G.y1;var l=R.dx||0,z=(R.dy||0)+hf(R)-Math.round(.8*wa),da=$d(R);k.isArray(da)?(wa+=Gd(R)*(da.length-1),da=da.reduce((oa,Va)=>Math.max(oa,qh.width(R,Va)),0)):da=qh.width(R,da);
"center"===r?l-=da/2:"right"===r&&(l-=da);p.set(l+=ia,z+=G,l+da,z+wa);if(R.angle&&!ja)p.rotate(R.angle*af,ia,G);else if(2===ja)return p.rotatedPoints(R.angle*af,ia,G);return p}function uf(p,R,ja){var wa=Sg[p.mark.marktype];R=R||wa.bound;wa.nested&&(p=p.mark);return R(p.bounds||(p.bounds=new Ma),p,ja)}function U(p,R,ja){var wa=Sg[p.marktype],r=wa.bound,G=p.items,ia=G&&G.length;if(wa.nested)return ia?p=G[0]:(kh.mark=p,p=kh),ja=uf(p,r,ja),R=R&&R.union(ja)||ja;R=R||p.bounds&&p.bounds.clear()||new Ma;
if(ia)for(wa=0,ia=G.length;wa<ia;++wa)R.union(uf(G[wa],r,ja));return p.bounds=R}function ua(p,R){return JSON.stringify(p,rh,R)}function cb(p){p="string"===typeof p?JSON.parse(p):p;return Ab(p)}function Ab(p){var R=p.marktype,ja=p.items,wa;if(ja){var r=0;for(wa=ja.length;r<wa;++r){var G=R?"mark":"group";ja[r][G]=p;ja[r].zindex&&(ja[r][G].zdirty=!0);"group"===(R||G)&&Ab(ja[r])}}R&&U(p);return p}function ec(p){arguments.length?this.root=cb(p):(this.root=Cc({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new qb(this.root)])}function Cc(p,R){R={bounds:new Ma,clip:!!p.clip,group:R,interactive:!1===p.interactive?!1:!0,items:[],marktype:p.marktype,name:p.name||void 0,role:p.role||void 0,zindex:p.zindex||0};null!=p.aria&&(R.aria=p.aria);p.description&&(R.description=p.description);return R}function $b(p,R,ja){!p&&"undefined"!==typeof document&&document.createElement&&(p=document);return p?ja?p.createElementNS(ja,R):p.createElement(R):null}function J(p,R){R=R.toLowerCase();p=p.childNodes;
for(var ja=0,wa=p.length;ja<wa;++ja)if(p[ja].tagName.toLowerCase()===R)return p[ja]}function fa(p,R,ja,wa){R=p.childNodes[R];if(!R||R.tagName.toLowerCase()!==ja.toLowerCase()){var r=R||null;R=$b(p.ownerDocument,ja,wa);p.insertBefore(R,r)}return R}function Sa(p,R){for(var ja=p.childNodes,wa=ja.length;wa>R;)p.removeChild(ja[--wa]);return p}function bc(p){return"mark-"+p.marktype+(p.role?" role-"+p.role:"")+(p.name?" "+p.name:"")}function Pc(p,R){const ja=R.getBoundingClientRect();return[p.clientX-ja.left-
(R.clientLeft||0),p.clientY-ja.top-(R.clientTop||0)]}function Dc(p,R){this._active=null;this._handlers={};this._loader=p||ib.loader();this._tooltip=R||Tc}function Tc(p,R,ja,wa){p.element().setAttribute("title",wa||"")}function gd(p){this._bgcolor=this._el=null;this._loader=new Tb(p)}function ee(p,R){Dc.call(this,p,R);this._touch=this._down=null;this._first=!0;this._events={}}function Ra(p,R){("touchstart"===R||"touchmove"===R||"touchend"===R?["touchstart","touchmove","touchend"]:[R]).forEach(ja=>
eb(p,ja))}function eb(p,R){const ja=p.canvas();ja&&!p._events[R]&&(p._events[R]=1,ja.addEventListener(R,p[R]?wa=>p[R](wa):wa=>p.fire(R,wa)))}function oc(p,R,ja){return function(wa){const r=this._active,G=this.pickEvent(wa);G!==r&&(r&&r.exit||this.fire(ja,wa),this._active=G,this.fire(R,wa));this.fire(p,wa)}}function vd(p){return function(R){this.fire(p,R);this._active=null}}function Lc(p){gd.call(this,p);this._options={};this._redraw=!1;this._dirty=new Ma;this._tempb=new Ma}function Wc(p,R){Dc.call(this,
p,R);const ja=this;ja._hrefHandler=Gh(ja,(wa,r)=>{r&&r.href&&ja.handleHref(wa,r,r.href)});ja._tooltipHandler=Gh(ja,(wa,r)=>{ja.handleTooltip(wa,r,"mouseout"!==wa.type)})}function Qc(p,R){var ja=!1===R.aria;p("aria-hidden",ja||void 0);if(ja||null==R.description)for(const wa in Xh)p(Xh[wa],void 0);else ja=R.mark.marktype,p("aria-label",R.description),p("role",R.ariaRole||("group"===ja?"graphics-object":"graphics-symbol")),p("aria-roledescription",R.ariaRoleDescription||`${ja} mark`)}function sd(p){return!1===
p.aria?{["aria-hidden"]:!0}:Hh[p.role]?null:Wh[p.role]?Od(p,Wh[p.role]):jd(p)}function jd(p){const R=p.marktype,ja="group"===R||"text"===R||p.items.some(wa=>null!=wa.description&&!1!==wa.aria);return Ch(ja?"graphics-object":"graphics-symbol",`${R} mark container`,p.description)}function Od(p,R){try{const ja=p.items[0],wa=R.caption||(()=>"");return Ch(R.role||"graphics-symbol",R.desc,ja.description||wa(ja))}catch(ja){return null}}function Cd(p){try{return k.array(k.peek(p.items).items[0].text).join(" ")}catch(R){return null}}
function be(p){p=p.map(R=>R+("fill"===R||"stroke"===R?" color":""));return 2>p.length?p[0]:p.slice(0,-1).join(", ")+" and "+k.peek(p)}function xe(){let p="",R="",ja="";const wa=[],r=(ia,l)=>{null!=l&&(R+=` ${ia}="${yg(l).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return G},G={open(ia,...l){R&&(p+=`${R}>${ja}`,R=ja="");wa.push(ia);R="\x3c"+ia;for(const z of l)for(const da in z)r(da,z[da]);return G},close(){const ia=wa.pop();p=R?p+(R+
(ja?`>${ja}</${ia}>`:"/\x3e")):p+`</${ia}>`;R=ja="";return G},attr:r,text:ia=>(ja+=yg(ia),G),toString:()=>p};return G}function Le(p,R){p.open(R.tagName);if(R.hasAttributes()){const ja=R.attributes,wa=ja.length;for(let r=0;r<wa;++r)p.attr(ja[r].name,ja[r].value)}if(R.hasChildNodes()){R=R.childNodes;for(const ja of R)3===ja.nodeType?p.text(ja.nodeValue):Le(p,ja)}return p.close()}function Xe(p){gd.call(this,p);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function df(p,R){for(;p&&
p.dirty!==R;p=p.mark.group)if(p.dirty=R,p.mark&&p.mark.dirty!==R)p.mark.dirty=R;else break}function od(p,R,ja){R=R.lastChild.previousSibling;let wa,r=0;dc(ja,G=>{wa=p.mark(R,G,wa);++r});Sa(R,1+r)}function Ec(p,R,ja,wa,r){let G=p._svg;if(!G){var ia=R.ownerDocument;G=$b(ia,wa,Df);p._svg=G;p.mark&&(G.__data__=p,G.__values__={fill:"default"},"g"===wa&&(wa=$b(ia,"path",Df),G.appendChild(wa),wa.__data__=p,wa=$b(ia,"g",Df),G.appendChild(wa),wa.__data__=p,ia=$b(ia,"path",Df),G.appendChild(ia),ia.__data__=
p,ia.__values__={fill:"default"}))}(G.ownerSVGElement!==r||G.parentNode&&1<G.parentNode.childNodes.length&&G.previousSibling!=ja)&&R.insertBefore(G,ja?ja.nextSibling:R.firstChild);return G}function kd(p,R,ja){if(R!==Pf[p]){if(ja){var wa=Lg;null!=R?wa.setAttributeNS(ja,p,R):wa.removeAttributeNS(ja,p)}else Vd(Lg,p,R);Pf[p]=R}}function Fc(p,R,ja){ja!==Pf[R]&&(null==ja?p.style.removeProperty(R):p.style.setProperty(R,ja+""),Pf[R]=ja)}function Jd(p,R){for(const ja in R)Vd(p,ja,R[ja])}function Vd(p,R,ja){null!=
ja?p.setAttribute(R,ja):p.removeAttribute(R)}function ce(){let p;return"undefined"===typeof window?"":(p=window.location).hash?p.href.slice(0,-p.hash.length):p.href}function le(p){gd.call(this,p);this._text=null;this._defs={gradient:{},clipping:{}}}function O(p,R,ja,wa,r){let G;if(null==R)return p;"bgrect"===wa&&!1===ja.interactive&&(p["pointer-events"]="none");if("bgfore"===wa&&(!1===ja.interactive&&(p["pointer-events"]="none"),p.display="none",null!==R.fill))return p;"image"===wa&&!1===R.smooth&&
(G=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===wa&&(p["font-family"]=Ae(R),p["font-size"]=Hd(R)+"px",p["font-style"]=R.fontStyle,p["font-variant"]=R.fontVariant,p["font-weight"]=R.fontWeight);for(const ia in Zf)ja=R[ia],wa=Zf[ia],("transparent"!==ja||"fill"!==wa&&"stroke"!==wa)&&null!=ja&&(ja&&ja.gradient&&(ja=ac(ja,r.gradient,"")),p[wa]=ja);for(const ia in lh)r=R[ia],null!=r&&(G=G||[],G.push(`${lh[ia]}: ${r};`));G&&(p.style=G.join(" "));return p}function ea(p,R,ja,
wa){if(p.bounds&&R.intersects(p.bounds)&&("group"===p.marktype||!1!==p.interactive&&(!ja||ja(p)))){const G=p.items;var r=p.marktype;p=G.length;let ia=0;if("group"===r)for(;ia<p;++ia)I(G[ia],R,ja,wa);else for(ja=Sg[r].isect;ia<p;++ia)r=G[ia],ka(r,R,ja)&&wa.push(r)}return wa}function I(p,R,ja,wa){ja&&ja(p.mark)&&ka(p,R,Sg.group.isect)&&wa.push(p);const r=p.items,G=r&&r.length;if(G){const ia=p.x||0;p=p.y||0;R.translate(-ia,-p);for(let l=0;l<G;++l)ea(r[l],R,ja,wa);R.translate(ia,p)}return wa}function ka(p,
R,ja){const wa=p.bounds;return R.encloses(wa)||R.intersects(wa)&&ja(p,R)}function ta(p,R,ja){return p===R?!0:"path"===ja?Ja(p,R):p instanceof Date&&R instanceof Date?+p===+R:k.isNumber(p)&&k.isNumber(R)?1E-9>=Math.abs(p-R):p&&R&&(k.isObject(p)||k.isObject(R))?jb(p,R):p==R}function Ja(p,R){return ta(Y(p),Y(R))}function jb(p,R){var ja=Object.keys(p),wa=Object.keys(R),r;if(ja.length!==wa.length)return!1;ja.sort();wa.sort();for(r=ja.length-1;0<=r;r--)if(ja[r]!=wa[r])return!1;for(r=ja.length-1;0<=r;r--)if(wa=
ja[r],!ta(p[wa],R[wa],wa))return!1;return typeof p===typeof R}let vb=0;const pc=Math.abs,qc=Math.atan2,rc=Math.cos,Kc=Math.max,Bd=Math.min,Hc=Math.sin,$c=Math.sqrt,yd=Math.PI,Dd=yd/2,Kd=2*yd,Ee=Math.PI,Be=2*Ee,wd=Be-1E-6;class ze{constructor(p){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==p?Cb:jc(p)}moveTo(p,R){this._append`M${this._x0=this._x1=+p},${this._y0=this._y1=+R}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(p,R){this._append`L${this._x1=
+p},${this._y1=+R}`}quadraticCurveTo(p,R,ja,wa){this._append`Q${+p},${+R},${this._x1=+ja},${this._y1=+wa}`}bezierCurveTo(p,R,ja,wa,r,G){this._append`C${+p},${+R},${+ja},${+wa},${this._x1=+r},${this._y1=+G}`}arcTo(p,R,ja,wa,r){p=+p;R=+R;ja=+ja;wa=+wa;r=+r;if(0>r)throw Error(`negative radius: ${r}`);var G=this._x1,ia=this._y1;let l=ja-p,z=wa-R,da=G-p,oa=ia-R;var Va=da*da+oa*oa;if(null===this._x1)this._append`M${this._x1=p},${this._y1=R}`;else if(1E-6<Va)if(1E-6<Math.abs(oa*l-z*da)&&r){ja-=G;wa-=ia;
let Ya=l*l+z*z;ia=Math.sqrt(Ya);G=Math.sqrt(Va);Va=r*Math.tan((Ee-Math.acos((Ya+Va-(ja*ja+wa*wa))/(2*ia*G)))/2);G=Va/G;Va/=ia;1E-6<Math.abs(G-1)&&this._append`L${p+G*da},${R+G*oa}`;this._append`A${r},${r},0,0,${+(oa*ja>da*wa)},${this._x1=p+Va*l},${this._y1=R+Va*z}`}else this._append`L${this._x1=p},${this._y1=R}`}arc(p,R,ja,wa,r,G){p=+p;R=+R;ja=+ja;G=!!G;if(0>ja)throw Error(`negative radius: ${ja}`);let ia=ja*Math.cos(wa),l=ja*Math.sin(wa),z=p+ia,da=R+l,oa=1^G;wa=G?wa-r:r-wa;null===this._x1?this._append`M${z},${da}`:
(1E-6<Math.abs(this._x1-z)||1E-6<Math.abs(this._y1-da))&&this._append`L${z},${da}`;ja&&(0>wa&&(wa=wa%Be+Be),wa>wd?this._append`A${ja},${ja},0,1,${oa},${p-ia},${R-l}A${ja},${ja},0,1,${oa},${this._x1=z},${this._y1=da}`:1E-6<wa&&this._append`A${ja},${ja},0,${+(wa>=Ee)},${oa},${this._x1=p+ja*Math.cos(r)},${this._y1=R+ja*Math.sin(r)}`)}rect(p,R,ja,wa){this._append`M${this._x0=this._x1=+p},${this._y0=this._y1=+R}h${ja=+ja}v${+wa}h${-ja}Z`}toString(){return this._}}Yb.prototype=ze.prototype;Qa.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(p,R):this._context.moveTo(p,R);break;case 1:this._point=2;default:this._context.lineTo(p,R)}}};var Ld={draw(p,R){R=$c(R/yd);p.moveTo(R,0);p.arc(0,0,R,0,Kd)}};Qb.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:sb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(p,R):this._context.moveTo(p,R);break;case 1:this._point=2;break;case 2:this._point=
3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sb(this,p,R)}this._x0=this._x1;this._x1=p;this._y0=this._y1;this._y1=R}};Wb.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+
2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=1;this._x2=p;this._y2=R;break;case 1:this._point=2;this._x3=p;this._y3=R;break;case 2:this._point=3;this._x4=p;this._y4=R;this._context.moveTo((this._x0+4*this._x1+p)/6,(this._y0+4*this._y1+R)/6);break;default:sb(this,
p,R)}this._x0=this._x1;this._x1=p;this._y0=this._y1;this._y1=R}};nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var ja=(this._x0+4*this._x1+p)/6,wa=
(this._y0+4*this._y1+R)/6;this._line?this._context.lineTo(ja,wa):this._context.moveTo(ja,wa);break;case 3:this._point=4;default:sb(this,p,R)}this._x0=this._x1;this._x1=p;this._y0=this._y1;this._y1=R}};pa.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var p=this._x,R=this._y,ja=p.length-1;if(0<ja)for(var wa=p[0],r=R[0],G=p[ja]-wa,ia=R[ja]-r,l=-1,z;++l<=ja;)z=l/ja,this._basis.point(this._beta*p[l]+(1-this._beta)*(wa+z*G),this._beta*R[l]+(1-this._beta)*
(r+z*ia));this._x=this._y=null;this._basis.lineEnd()},point:function(p,R){this._x.push(+p);this._y.push(+R)}};var he=function ja(R){function wa(r){return 1===R?new Qb(r):new pa(r,R)}wa.beta=function(r){return ja(+r)};return wa}(.85);Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;
case 3:Z(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(R,ja){R=+R;ja=+ja;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(R,ja):this._context.moveTo(R,ja);break;case 1:this._point=2;this._x1=R;this._y1=ja;break;case 2:this._point=3;default:Z(this,R,ja)}this._x0=this._x1;this._x1=this._x2;this._x2=R;this._y0=this._y1;this._y1=this._y2;this._y2=ja}};var Fe=function wa(ja){function r(G){return new Fa(G,
ja)}r.tension=function(G){return wa(+G)};return r}(0);Ga.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(ja,wa){ja=+ja;wa=+wa;switch(this._point){case 0:this._point=1;this._x3=ja;this._y3=wa;break;case 1:this._point=2;this._context.moveTo(this._x4=ja,this._y4=wa);break;case 2:this._point=3;this._x5=ja;this._y5=wa;break;default:Z(this,ja,wa)}this._x0=this._x1;this._x1=this._x2;this._x2=ja;this._y0=this._y1;this._y1=this._y2;this._y2=wa}};var lf=function r(wa){function G(ia){return new Ga(ia,wa)}G.tension=function(ia){return r(+ia)};return G}(0);db.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(wa,r){wa=+wa;r=+r;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:Z(this,wa,r)}this._x0=this._x1;this._x1=this._x2;this._x2=wa;this._y0=this._y1;this._y1=this._y2;this._y2=r}};var vf=function G(r){function ia(l){return new db(l,r)}ia.tension=function(l){return G(+l)};return ia}(0);ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(r,G){r=+r;G=+G;if(this._point){var ia=this._x2-r,l=this._y2-G;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ia*ia+l*l,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(r,G):this._context.moveTo(r,G);break;case 1:this._point=
2;break;case 2:this._point=3;default:ba(this,r,G)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=r;this._y0=this._y1;this._y1=this._y2;this._y2=G}};var Ie=function ia(G){function l(z){return G?new ma(z,G):new Fa(z,0)}l.alpha=function(z){return ia(+z)};return l}(.5);q.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=
this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(G,ia){G=+G;ia=+ia;if(this._point){var l=this._x2-G,z=this._y2-ia;this._l23_a=
Math.sqrt(this._l23_2a=Math.pow(l*l+z*z,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=G;this._y3=ia;break;case 1:this._point=2;this._context.moveTo(this._x4=G,this._y4=ia);break;case 2:this._point=3;this._x5=G;this._y5=ia;break;default:ba(this,G,ia)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=G;this._y0=this._y1;this._y1=this._y2;this._y2=ia}};var ne=function l(ia){function z(da){return ia?
new q(da,ia):new Ga(da,0)}z.alpha=function(da){return l(+da)};return z}(.5);M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ia,l){ia=+ia;l=+l;if(this._point){var z=this._x2-
ia,da=this._y2-l;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(z*z+da*da,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ba(this,ia,l)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=ia;this._y0=this._y1;this._y1=this._y2;
this._y2=l}};var Cf=function z(l){function da(oa){return l?new M(oa,l):new db(oa,0)}da.alpha=function(oa){return z(+oa)};return da}(.5);Q.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(l,z){l=+l;z=+z;this._point?this._context.lineTo(l,z):(this._point=1,this._context.moveTo(l,z))}};C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=
this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m(this,this._t0,u(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(l,z){var da=NaN;l=+l;z=+z;if(l!==this._x1||z!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(l,z):this._context.moveTo(l,z);break;case 1:this._point=2;break;case 2:this._point=
3;m(this,u(this,da=g(this,l,z)),da);break;default:m(this,this._t0,da=g(this,l,z))}this._x0=this._x1;this._x1=l;this._y0=this._y1;this._y1=z;this._t0=da}}};(B.prototype=Object.create(C.prototype)).point=function(l,z){C.prototype.point.call(this,z,l)};A.prototype={moveTo:function(l,z){this._context.moveTo(z,l)},closePath:function(){this._context.closePath()},lineTo:function(l,z){this._context.lineTo(z,l)},bezierCurveTo:function(l,z,da,oa,Va,Ya){this._context.bezierCurveTo(z,l,oa,da,Ya,Va)}};E.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var l=this._x,z=this._y,da=l.length;if(da)if(this._line?this._context.lineTo(l[0],z[0]):this._context.moveTo(l[0],z[0]),2===da)this._context.lineTo(l[1],z[1]);else for(var oa=H(l),Va=H(z),Ya=0,Bb=1;Bb<da;++Ya,++Bb)this._context.bezierCurveTo(oa[0][Ya],Va[0][Ya],oa[1][Ya],Va[1][Ya],l[Bb],z[Bb]);(this._line||0!==this._line&&1===da)&&this._context.closePath();this._line=
1-this._line;this._x=this._y=null},point:function(l,z){this._x.push(+l);this._y.push(+z)}};V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(l,z){l=+l;z=+z;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(l,z):this._context.moveTo(l,z);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,z),this._context.lineTo(l,z);else{var da=this._x*(1-this._t)+l*this._t;this._context.lineTo(da,this._y);this._context.lineTo(da,z)}}this._x=l;this._y=z}};const If={basis:{curve:function(l){return new Qb(l)}},"basis-closed":{curve:function(l){return new Wb(l)}},"basis-open":{curve:function(l){return new nb(l)}},bundle:{curve:he,tension:"beta",value:.85},cardinal:{curve:Fe,
tension:"tension",value:0},"cardinal-open":{curve:vf,tension:"tension",value:0},"cardinal-closed":{curve:lf,tension:"tension",value:0},"catmull-rom":{curve:Ie,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ne,tension:"alpha",value:.5},"catmull-rom-open":{curve:Cf,tension:"alpha",value:.5},linear:{curve:Da},"linear-closed":{curve:function(l){return new Q(l)}},monotone:{horizontal:function(l){return new B(l)},vertical:function(l){return new C(l)}},natural:{curve:function(l){return new E(l)}},
step:{curve:function(l){return new V(l,.5)}},"step-after":{curve:function(l){return new V(l,1)}},"step-before":{curve:function(l){return new V(l,0)}}},jf={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},bg=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Yd=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,ef=/^((\s+,?\s*)|(,\s*))/,mf=/^[01]/,af=Math.PI/180,Hf=Math.PI/2,Jf=2*Math.PI,yf=Math.sqrt(3)/2;var zf={},Eg={},eg=[].join;const wf=["l",0,0,0,0,0,0,0],Kf={circle:{draw:function(l,z){z=Math.sqrt(z)/2;
l.moveTo(z,0);l.arc(0,0,z,0,Jf)}},cross:{draw:function(l,z){z=Math.sqrt(z)/2;var da=z/2.5;l.moveTo(-z,-da);l.lineTo(-z,da);l.lineTo(-da,da);l.lineTo(-da,z);l.lineTo(da,z);l.lineTo(da,da);l.lineTo(z,da);l.lineTo(z,-da);l.lineTo(da,-da);l.lineTo(da,-z);l.lineTo(-da,-z);l.lineTo(-da,-da);l.closePath()}},diamond:{draw:function(l,z){z=Math.sqrt(z)/2;l.moveTo(-z,0);l.lineTo(0,-z);l.lineTo(z,0);l.lineTo(0,z);l.closePath()}},square:{draw:function(l,z){z=Math.sqrt(z);var da=-z/2;l.rect(da,da,z,z)}},arrow:{draw:function(l,
z){z=Math.sqrt(z)/2;var da=z/7,oa=z/2.5,Va=z/8;l.moveTo(-da,z);l.lineTo(da,z);l.lineTo(da,-Va);l.lineTo(oa,-Va);l.lineTo(0,-z);l.lineTo(-oa,-Va);l.lineTo(-da,-Va);l.closePath()}},wedge:{draw:function(l,z){var da=Math.sqrt(z)/2;z=yf*da;var oa=z-.5773502691896257*da;da/=4;l.moveTo(0,-z-oa);l.lineTo(-da,z-oa);l.lineTo(da,z-oa);l.closePath()}},triangle:{draw:function(l,z){z=Math.sqrt(z)/2;var da=yf*z,oa=da-.5773502691896257*z;l.moveTo(0,-da-oa);l.lineTo(-z,da-oa);l.lineTo(z,da-oa);l.closePath()}},"triangle-up":{draw:function(l,
z){z=Math.sqrt(z)/2;var da=yf*z;l.moveTo(0,-da);l.lineTo(-z,da);l.lineTo(z,da);l.closePath()}},"triangle-down":{draw:function(l,z){z=Math.sqrt(z)/2;var da=yf*z;l.moveTo(0,da);l.lineTo(-z,-da);l.lineTo(z,-da);l.closePath()}},"triangle-right":{draw:function(l,z){z=Math.sqrt(z)/2;var da=yf*z;l.moveTo(da,0);l.lineTo(-da,-z);l.lineTo(-da,z);l.closePath()}},"triangle-left":{draw:function(l,z){z=Math.sqrt(z)/2;var da=yf*z;l.moveTo(-da,0);l.lineTo(da,-z);l.lineTo(da,z);l.closePath()}},stroke:{draw:function(l,
z){z=Math.sqrt(z)/2;l.moveTo(-z,0);l.lineTo(z,0)}}};var dg={};const eh=l=>l.x||0,Jg=l=>l.y||0,Og=l=>!1!==l.defined,Ug=function(){function l(){var Rc,Rd=+z.apply(this,arguments),we=+da.apply(this,arguments),He=Ya.apply(this,arguments)-Dd,ue=Bb.apply(this,arguments)-Dd,Se=pc(ue-He),pf=ue>He;Ub||(Ub=Rc=Ad());if(we<Rd){var Tg=we;we=Rd;Rd=Tg}if(1E-12<we)if(Se>Kd-1E-12)Ub.moveTo(we*rc(He),we*Hc(He)),Ub.arc(0,0,we,He,ue,!pf),1E-12<Rd&&(Ub.moveTo(Rd*rc(ue),Rd*Hc(ue)),Ub.arc(0,0,Rd,ue,He,pf));else{var ff=
He,$e=ue;Tg=He;var Ef=ue,Dh=Se,gg=Se,Qf=hc.apply(this,arguments)/2,nf=1E-12<Qf&&(Va?+Va.apply(this,arguments):$c(Rd*Rd+we*we)),Tf=Bd(pc(we-Rd)/2,+oa.apply(this,arguments)),Rf=Tf,Of=Tf;if(1E-12<nf){var Wg=uc(nf/Rd*Hc(Qf));Qf=uc(nf/we*Hc(Qf));1E-12<(Dh-=2*Wg)?(Wg*=pf?1:-1,Tg+=Wg,Ef-=Wg):(Dh=0,Tg=Ef=(He+ue)/2);1E-12<(gg-=2*Qf)?(Qf*=pf?1:-1,ff+=Qf,$e-=Qf):(gg=0,ff=$e=(He+ue)/2)}He=we*rc(ff);ue=we*Hc(ff);Wg=Rd*rc(Ef);Qf=Rd*Hc(Ef);if(1E-12<Tf){var Uf=we*rc($e),vh=we*Hc($e),mg=Rd*rc(Tg),hh=Rd*Hc(Tg);if(Se<
yd){Rf=mg-He;Of=hh-ue;Se=Wg-Uf;nf=Qf-vh;var Ag=nf*Rf-Se*Of;1E-12>Ag*Ag?Rf=void 0:(Ag=(Se*(ue-vh)-nf*(He-Uf))/Ag,Rf=[He+Ag*Rf,ue+Ag*Of]);Rf?(Of=He-Rf[0],Se=ue-Rf[1],nf=Uf-Rf[0],Ag=vh-Rf[1],Of=(Of*nf+Se*Ag)/($c(Of*Of+Se*Se)*$c(nf*nf+Ag*Ag)),Of=1/Hc((1<Of?0:-1>Of?yd:Math.acos(Of))/2),Se=$c(Rf[0]*Rf[0]+Rf[1]*Rf[1]),Rf=Bd(Tf,(Rd-Se)/(Of-1)),Of=Bd(Tf,(we-Se)/(Of+1))):Rf=Of=0}}1E-12<gg?1E-12<Of?(ff=ab(mg,hh,He,ue,we,Of,pf),$e=ab(Uf,vh,Wg,Qf,we,Of,pf),Ub.moveTo(ff.cx+ff.x01,ff.cy+ff.y01),Of<Tf?Ub.arc(ff.cx,
ff.cy,Of,qc(ff.y01,ff.x01),qc($e.y01,$e.x01),!pf):(Ub.arc(ff.cx,ff.cy,Of,qc(ff.y01,ff.x01),qc(ff.y11,ff.x11),!pf),Ub.arc(0,0,we,qc(ff.cy+ff.y11,ff.cx+ff.x11),qc($e.cy+$e.y11,$e.cx+$e.x11),!pf),Ub.arc($e.cx,$e.cy,Of,qc($e.y11,$e.x11),qc($e.y01,$e.x01),!pf))):(Ub.moveTo(He,ue),Ub.arc(0,0,we,ff,$e,!pf)):Ub.moveTo(He,ue);1E-12<Rd&&1E-12<Dh?1E-12<Rf?(ff=ab(Wg,Qf,Uf,vh,Rd,-Rf,pf),$e=ab(He,ue,mg,hh,Rd,-Rf,pf),Ub.lineTo(ff.cx+ff.x01,ff.cy+ff.y01),Rf<Tf?Ub.arc(ff.cx,ff.cy,Rf,qc(ff.y01,ff.x01),qc($e.y01,$e.x01),
!pf):(Ub.arc(ff.cx,ff.cy,Rf,qc(ff.y01,ff.x01),qc(ff.y11,ff.x11),!pf),Ub.arc(0,0,Rd,qc(ff.cy+ff.y11,ff.cx+ff.x11),qc($e.cy+$e.y11,$e.cx+$e.x11),pf),Ub.arc($e.cx,$e.cy,Rf,qc($e.y11,$e.x11),qc($e.y01,$e.x01),!pf))):Ub.arc(0,0,Rd,Ef,Tg,pf):Ub.lineTo(Wg,Qf)}else Ub.moveTo(0,0);Ub.closePath();if(Rc)return Ub=null,Rc+""||null}var z=ub,da=Kb,oa=Ac(0),Va=null,Ya=Lb,Bb=Db,hc=Pb,Ub=null,Ad=Ua(l);l.centroid=function(){var Rc=(+z.apply(this,arguments)+ +da.apply(this,arguments))/2,Rd=(+Ya.apply(this,arguments)+
+Bb.apply(this,arguments))/2-yd/2;return[rc(Rd)*Rc,Hc(Rd)*Rc]};l.innerRadius=function(Rc){return arguments.length?(z="function"===typeof Rc?Rc:Ac(+Rc),l):z};l.outerRadius=function(Rc){return arguments.length?(da="function"===typeof Rc?Rc:Ac(+Rc),l):da};l.cornerRadius=function(Rc){return arguments.length?(oa="function"===typeof Rc?Rc:Ac(+Rc),l):oa};l.padRadius=function(Rc){return arguments.length?(Va=null==Rc?null:"function"===typeof Rc?Rc:Ac(+Rc),l):Va};l.startAngle=function(Rc){return arguments.length?
(Ya="function"===typeof Rc?Rc:Ac(+Rc),l):Ya};l.endAngle=function(Rc){return arguments.length?(Bb="function"===typeof Rc?Rc:Ac(+Rc),l):Bb};l.padAngle=function(Rc){return arguments.length?(hc="function"===typeof Rc?Rc:Ac(+Rc),l):hc};l.context=function(Rc){return arguments.length?(Ub=null==Rc?null:Rc,l):Ub};return l}().startAngle(l=>l.startAngle||0).endAngle(l=>l.endAngle||0).padAngle(l=>l.padAngle||0).innerRadius(l=>l.innerRadius||0).outerRadius(l=>l.outerRadius||0).cornerRadius(l=>l.cornerRadius||
0),qa=Pa().x(eh).y1(Jg).y0(l=>(l.y||0)+(l.height||0)).defined(Og),bb=Pa().y(Jg).x1(eh).x0(l=>(l.x||0)+(l.width||0)).defined(Og),Rb=mb().x(eh).y(Jg).defined(Og),hd=sc().x(eh).y(Jg).width(l=>l.width||0).height(l=>l.height||0).cornerRadius(l=>dd(l.cornerRadiusTopLeft,l.cornerRadius)||0,l=>dd(l.cornerRadiusTopRight,l.cornerRadius)||0,l=>dd(l.cornerRadiusBottomRight,l.cornerRadius)||0,l=>dd(l.cornerRadiusBottomLeft,l.cornerRadius)||0),ld=function(l,z){function da(){let Ya;oa||(oa=Ya=Va());l.apply(this,
arguments).draw(oa,+z.apply(this,arguments));if(Ya)return oa=null,Ya+""||null}let oa=null,Va=Ua(da);l="function"===typeof l?l:Ac(l||Ld);z="function"===typeof z?z:Ac(void 0===z?64:+z);da.type=function(Ya){return arguments.length?(l="function"===typeof Ya?Ya:Ac(Ya),da):l};da.size=function(Ya){return arguments.length?(z="function"===typeof Ya?Ya:Ac(+Ya),da):z};da.context=function(Ya){return arguments.length?(oa=null==Ya?null:Ya,da):oa};return da}().type(l=>La(l.shape||"circle")).size(l=>dd(l.size,64)),
qe=xc().x(eh).y(Jg).defined(Og).size(l=>l.size||1);var Pe=1;Ma.prototype={clone(){return new Ma(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(l){return this.x1===l.x1&&this.y1===l.y1&&this.x2===l.x2&&this.y2===l.y2},set(l,z,da,oa){da<l?(this.x2=l,this.x1=da):(this.x1=l,this.x2=
da);oa<z?(this.y2=z,this.y1=oa):(this.y1=z,this.y2=oa);return this},add(l,z){l<this.x1&&(this.x1=l);z<this.y1&&(this.y1=z);l>this.x2&&(this.x2=l);z>this.y2&&(this.y2=z);return this},expand(l){this.x1-=l;this.y1-=l;this.x2+=l;this.y2+=l;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(l){this.x1*=l;this.y1*=l;this.x2*=l;this.y2*=l;return this},translate(l,z){this.x1+=l;this.x2+=l;this.y1+=z;this.y2+=
z;return this},rotate(l,z,da){l=this.rotatedPoints(l,z,da);return this.clear().add(l[0],l[1]).add(l[2],l[3]).add(l[4],l[5]).add(l[6],l[7])},rotatedPoints(l,z,da){var {x1:oa,y1:Va,x2:Ya,y2:Bb}=this,hc=Math.cos(l);l=Math.sin(l);var Ub=z-z*hc+da*l;z=da-z*l-da*hc;return[hc*oa-l*Va+Ub,l*oa+hc*Va+z,hc*oa-l*Bb+Ub,l*oa+hc*Bb+z,hc*Ya-l*Va+Ub,l*Ya+hc*Va+z,hc*Ya-l*Bb+Ub,l*Ya+hc*Bb+z]},union(l){l.x1<this.x1&&(this.x1=l.x1);l.y1<this.y1&&(this.y1=l.y1);l.x2>this.x2&&(this.x2=l.x2);l.y2>this.y2&&(this.y2=l.y2);
return this},intersect(l){l.x1>this.x1&&(this.x1=l.x1);l.y1>this.y1&&(this.y1=l.y1);l.x2<this.x2&&(this.x2=l.x2);l.y2<this.y2&&(this.y2=l.y2);return this},encloses(l){return l&&this.x1<=l.x1&&this.x2>=l.x2&&this.y1<=l.y1&&this.y2>=l.y2},alignsWith(l){return l&&(this.x1==l.x1||this.x2==l.x2||this.y1==l.y1||this.y2==l.y2)},intersects(l){return l&&!(this.x2<l.x1||this.x1>l.x2||this.y2<l.y1||this.y1>l.y2)},contains(l,z){return!(l<this.x1||l>this.x2||z<this.y1||z>this.y2)},width(){return this.x2-this.x1},
height(){return this.y2-this.y1}};k.inherits(qb,Vb);Tb.prototype={pending(){return this._pending},sanitizeURL(l){const z=this;z._pending+=1;return z._loader.sanitize(l,{context:"href"}).then(da=>{--z._pending;return da}).catch(()=>{--z._pending;return null})},loadImage(l){const z=this,da=P.image();z._pending+=1;return z._loader.sanitize(l,{context:"image"}).then(oa=>{const Va=oa.href;if(!Va||!da)throw{url:Va};const Ya=new da;oa=k.hasOwnProperty(oa,"crossOrigin")?oa.crossOrigin:"anonymous";null!=oa&&
(Ya.crossOrigin=oa);Ya.onload=()=>{--z._pending};Ya.onerror=()=>{--z._pending};Ya.src=Va;return Ya}).catch(oa=>{--z._pending;return{complete:!1,width:0,height:0,src:oa&&oa.url||""}})},ready(){const l=this;return new Promise(z=>{function da(oa){l.pending()?setTimeout(()=>{da(!0)},10):z(oa)}da(!1)})}};const rf=Jf-1E-8;let Gf,Me,cg,Sf,Yf,rg,sg,Qg;const fh=(l,z)=>{l=Me=l;z=cg=z;return Gf.add(l,z)},jh=l=>Gf.add(l,Gf.y1),Ce=l=>Gf.add(Gf.x1,l),Ge=(l,z)=>Gf.add(Yf*l+sg*z,rg*l+Qg*z),Lf=(l,z)=>fh(Yf*l+sg*z,
rg*l+Qg*z),xf={beginPath(){},closePath(){},moveTo:Lf,lineTo:Lf,rect(l,z,da,oa){Sf?(Ge(l+da,z),Ge(l+da,z+oa),Ge(l,z+oa),Lf(l,z)):(Gf.add(l+da,z+oa),fh(l,z))},quadraticCurveTo(l,z,da,oa){const Va=rg*l+Qg*z,Ya=Yf*da+sg*oa;da=rg*da+Qg*oa;Ic(Me,Yf*l+sg*z,Ya,jh);Ic(cg,Va,da,Ce);fh(Ya,da)},bezierCurveTo(l,z,da,oa,Va,Ya){const Bb=rg*l+Qg*z,hc=rg*da+Qg*oa,Ub=Yf*Va+sg*Ya;Va=rg*Va+Qg*Ya;zc(Me,Yf*l+sg*z,Yf*da+sg*oa,Ub,jh);zc(cg,Bb,hc,Va,Ce);fh(Ub,Va)},arc(l,z,da,oa,Va,Ya){oa+=Sf;Va+=Sf;Me=da*Math.cos(Va)+l;cg=
da*Math.sin(Va)+z;if(Math.abs(Va-oa)>rf)Gf.add(l-da,z-da),Gf.add(l+da,z+da);else{const Bb=Ub=>Gf.add(da*Math.cos(Ub)+l,da*Math.sin(Ub)+z);let hc;Bb(oa);Bb(Va);if(Va!==oa)if(oa%=Jf,0>oa&&(oa+=Jf),Va%=Jf,0>Va&&(Va+=Jf),Va<oa&&(Ya=!Ya,hc=oa,oa=Va,Va=hc),Ya)for(Va-=Jf,hc=oa-oa%Hf,oa=0;4>oa&&hc>Va;++oa,hc-=Hf)Bb(hc);else for(hc=oa-oa%Hf+Hf,oa=0;4>oa&&hc<Va;++oa,hc+=Hf)Bb(hc)}}};var of=(of=P.canvas(1,1))?of.getContext("2d"):null;const Af=new Ma;var tg=[],wg=Zd("arc",function(l,z){return Ug.context(l)(z)}),
fg=de("area",function(l,z){const da=z[0];return("horizontal"===da.orient?bb:qa).curve(Aa(da.interpolate||"linear",da.orient,da.tension)).context(l)(z)},function(l,z){z="horizontal"===l[0].orient?z[1]:z[0];for(var da="horizontal"===l[0].orient?"y":"x",oa=l.length,Va=Infinity,Ya,Bb;0<=--oa;)!1!==l[oa].defined&&(Bb=Math.abs(l[oa][da]-z),Bb<Va&&(Va=Bb,Ya=l[oa]));return Ya});const Bf=Td(Xd),Rg=Td(Xd,!1),gh=Td(Xd,!0);var oh={type:"group",tag:"g",nested:!1,attr:function(l,z){l("transform",Fd(z.x||0,z.y||
0))},bound:function(l,z){if(!z.clip&&z.items){const da=z.items,oa=da.length;for(let Va=0;Va<oa;++Va)l.union(da[Va].bounds)}(z.clip||z.width||z.height)&&!z.noBound&&l.add(0,0).add(z.width||0,z.height||0);gc(l,z);return l.translate(z.x||0,z.y||0)},draw:function(l,z,da){dc(z,oa=>{const Va=oa.x||0,Ya=oa.y||0,Bb=oa.strokeForeground,hc=null==oa.opacity?1:oa.opacity;(oa.stroke||oa.fill)&&hc&&(Xd(l,oa,Va,Ya),sa(l,oa),oa.fill&&Za(l,oa,hc)&&l.fill(),oa.stroke&&!Bb&&kb(l,oa,hc)&&l.stroke());l.save();l.translate(Va,
Ya);oa.clip&&Ud(l,oa);da&&da.translate(-Va,-Ya);dc(oa,Ub=>{this.draw(l,Ub,da)});da&&da.translate(Va,Ya);l.restore();Bb&&oa.stroke&&hc&&(Xd(l,oa,Va,Ya),sa(l,oa),kb(l,oa,hc)&&l.stroke())})},pick:function(l,z,da,oa,Va,Ya){if(z.bounds&&!z.bounds.contains(Va,Ya)||!z.items)return null;const Bb=da*l.pixelRatio,hc=oa*l.pixelRatio;return ic(z,Ub=>{let Ad,Rc;var Rd=Ub.bounds;if(!Rd||Rd.contains(Va,Ya)){Ad=Ub.x||0;Rc=Ub.y||0;Rd=Ad+(Ub.width||0);var we=Rc+(Ub.height||0),He=Ub.clip;if(!He||!(Va<Ad||Va>Rd||Ya<
Rc||Ya>we)){l.save();l.translate(Ad,Rc);Ad=Va-Ad;Rc=Ya-Rc;if(He&&Zb(Ub)&&!gh(l,Ub,Bb,hc))return l.restore(),null;we=Ub.strokeForeground;if((He=!1!==z.interactive)&&we&&Ub.stroke&&Rg(l,Ub,Bb,hc))return l.restore(),Ub;Rd=ic(Ub,ue=>(!1!==ue.interactive||"group"===ue.marktype)&&ue.bounds&&ue.bounds.contains(Ad,Rc)?this.pick(ue,da,oa,Ad,Rc):null);!Rd&&He&&(Ub.fill||!we&&Ub.stroke)&&Bf(l,Ub,Bb,hc)&&(Rd=Ub);l.restore();return Rd||null}}})},isect:Ha,content:function(l,z,da){z=z.clip?Pd(da,z,z):null;l("clip-path",
z)},background:function(l,z){l("class","background");l("aria-hidden",!0);const da=Ve(z);l("d",Sc(null,z,da,da))},foreground:function(l,z){l("class","foreground");l("aria-hidden",!0);if(z.strokeForeground){const da=Ve(z);l("d",Sc(null,z,da,da))}else l("d","")}},xg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},zh={type:"image",tag:"image",nested:!1,attr:function(l,z,da){var oa=N(z,da);da=la(z,oa);const Va=za(z,oa),Ya=(z.x||0)-fb(z.align,da),Bb=(z.y||
0)-Ib(z.baseline,Va);oa=!oa.src&&oa.toDataURL?oa.toDataURL():oa.src||"";l("href",oa,xg["xmlns:xlink"],"xlink:href");l("transform",Fd(Ya,Bb));l("width",da);l("height",Va);l("preserveAspectRatio",!1===z.aspect?"none":"xMidYMid")},bound:function(l,z){var da=z.image;const oa=la(z,da);da=za(z,da);const Va=(z.x||0)-fb(z.align,oa);z=(z.y||0)-Ib(z.baseline,da);return l.set(Va,z,Va+oa,z+da)},draw:function(l,z,da){dc(z,oa=>{if(!da||da.intersects(oa.bounds)){var Va=N(oa,this),Ya=la(oa,Va),Bb=za(oa,Va);if(0!==
Ya&&0!==Bb){var hc=(oa.x||0)-fb(oa.align,Ya),Ub=(oa.y||0)-Ib(oa.baseline,Bb),Ad;if(!1!==oa.aspect){var Rc=Va.width/Va.height;var Rd=oa.width/oa.height;Rc===Rc&&Rd===Rd&&Rc!==Rd&&(Rd<Rc?(Rc=Ya/Rc,Ub+=(Bb-Rc)/2,Bb=Rc):(Rc*=Bb,hc+=(Ya-Rc)/2,Ya=Rc))}if(Va.complete||Va.toDataURL)sa(l,oa),l.globalAlpha=null!=(Ad=oa.opacity)?Ad:1,l.imageSmoothingEnabled=!1!==oa.smooth,l.drawImage(Va,hc,Ub,Ya,Bb)}}})},pick:Qd(),isect:k.truthy,get:N,xOffset:fb,yOffset:Ib},yh=de("line",function(l,z){const da=z[0];return Rb.curve(Aa(da.interpolate||
"linear",da.orient,da.tension)).context(l)(z)},function(l,z){for(var da=Math.pow(l[0].strokeWidth||1,2),oa=l.length,Va,Ya;0<=--oa;)if(!1!==l[oa].defined&&(Va=l[oa].x-z[0],Ya=l[oa].y-z[1],Va=Va*Va+Ya*Ya,Va<da))return l[oa];return null}),Nh={type:"path",tag:"path",nested:!1,attr:function(l,z){var da=z.scaleY||1;1===(z.scaleX||1)&&1===da||l("vector-effect","non-scaling-stroke");da=Fd(z.x||0,z.y||0)+(z.angle?" rotate("+(z.angle+")"):"")+(z.scaleX||z.scaleY?" scale("+((z.scaleX||1)+","+(z.scaleY||1)+")"):
"");l("transform",da);l("d",z.path)},bound:function(l,z){return Xb(cc(l,z.angle),z)?l.set(0,0,0,0):gc(l,z,!0)},draw:Vc(Xb),pick:Qd(Td(Xb)),isect:Md(Xb)},$g={type:"rect",tag:"path",nested:!1,attr:function(l,z){l("d",Sc(null,z))},bound:function(l,z){var da,oa;return gc(l.set(da=z.x||0,oa=z.y||0,da+z.width||0,oa+z.height||0),z)},draw:Vc(Bc),pick:Qd(Td(Bc)),isect:Ha},ph={type:"rule",tag:"line",nested:!1,attr:function(l,z){l("transform",Fd(z.x||0,z.y||0));l("x2",null!=z.x2?z.x2-(z.x||0):0);l("y2",null!=
z.y2?z.y2-(z.y||0):0)},bound:function(l,z){var da,oa;return gc(l.set(da=z.x||0,oa=z.y||0,null!=z.x2?z.x2:da,null!=z.y2?z.y2:oa),z)},draw:function(l,z,da){dc(z,oa=>{if(!da||da.intersects(oa.bounds)){var Va=null==oa.opacity?1:oa.opacity;Va&&lc(l,oa,Va)&&(sa(l,oa),l.stroke())}})},pick:Qd(function(l,z,da,oa){return l.isPointInStroke?lc(l,z,1)&&l.isPointInStroke(da,oa):!1}),isect:gb},Ah=Zd("shape",function(l,z){return(z.mark.shape||z.shape).context(l)(z)}),bi=Zd("symbol",function(l,z){return ld.context(l)(z)},
td);const Vg=k.lruCache();var qh={height:Hd,measureWidth:Nc,estimateWidth:id,width:id,canvas:Gc};Gc(!0);const Ei={left:"start",center:"middle",right:"end"},Kg=new Ma;var Fh={type:"text",tag:"text",nested:!1,attr:function(l,z){var da=z.dx||0,oa=(z.dy||0)+hf(z),Va=cf(z),Ya=Va.x1;Va=Va.y1;var Bb=z.angle||0;l("text-anchor",Ei[z.align]||"start");if(Bb){if(z=Fd(Ya,Va)+" rotate("+(Bb+")"),da||oa)z+=" "+Fd(da,oa)}else z=Fd(Ya+da,Va+oa);l("transform",z)},bound:se,draw:function(l,z,da){dc(z,oa=>{var Va=null==
oa.opacity?1:oa.opacity,Ya;if(!(da&&!da.intersects(oa.bounds)||0===Va||0>=oa.fontSize||null==oa.text||0===oa.text.length)){l.font=kf(oa);l.textAlign=oa.align||"left";var Bb=cf(oa);var hc=Bb.x1;Bb=Bb.y1;oa.angle&&(l.save(),l.translate(hc,Bb),l.rotate(oa.angle*af),hc=Bb=0);hc+=oa.dx||0;Bb+=(oa.dy||0)+hf(oa);var Ub=$d(oa);sa(l,oa);if(k.isArray(Ub)){var Ad=Gd(oa);for(Ya=0;Ya<Ub.length;++Ya){var Rc=Wd(oa,Ub[Ya]);oa.fill&&Za(l,oa,Va)&&l.fillText(Rc,hc,Bb);oa.stroke&&kb(l,oa,Va)&&l.strokeText(Rc,hc,Bb);
Bb+=Ad}}else Rc=Wd(oa,Ub),oa.fill&&Za(l,oa,Va)&&l.fillText(Rc,hc,Bb),oa.stroke&&kb(l,oa,Va)&&l.strokeText(Rc,hc,Bb);oa.angle&&l.restore()}})},pick:Qd(function(l,z,da,oa,Va,Ya){if(0>=z.fontSize)return!1;if(!z.angle)return!0;da=cf(z);l=da.x1;da=da.y1;oa=se(Kg,z,1);var Bb=-z.angle*af;z=Math.cos(Bb);Bb=Math.sin(Bb);return oa.contains(z*Va-Bb*Ya+(l-z*l+Bb*da),Bb*Va+z*Ya+(da-Bb*l-z*da))}),isect:function(l,z){l=se(Kg,l,2);return wb(z,l[0],l[1],l[2],l[3])||wb(z,l[0],l[1],l[4],l[5])||wb(z,l[4],l[5],l[6],l[7])||
wb(z,l[2],l[3],l[6],l[7])}},Uh=de("trail",function(l,z){return qe.context(l)(z)},function(l,z){for(var da=l.length,oa,Va;0<=--da;)if(!1!==l[da].defined&&(oa=l[da].x-z[0],Va=l[da].y-z[1],Va=oa*oa+Va*Va,oa=l[da].size||1,Va<oa*oa))return l[da];return null}),Sg={arc:wg,area:fg,group:oh,image:zh,line:yh,path:Nh,rect:$g,rule:ph,shape:Ah,symbol:bi,text:Fh,trail:Uh},kh={mark:null};const rh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
ec.prototype={toJSON(l){return ua(this.root,l||0)},mark(l,z,da){z=z||this.root.items[0];l=Cc(l,z);z.items[da]=l;l.zindex&&(l.group.zdirty=!0);return l}};Dc.prototype={initialize(l,z,da){this._el=l;this._obj=da||null;return this.origin(z)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(l){return arguments.length?(this._origin=l||[0,0],this):this._origin.slice()},scene(l){if(!arguments.length)return this._scene;this._scene=l;return this},on(){},off(){},_handlerIndex(l,
z,da){for(let oa=l?l.length:0;0<=--oa;)if(l[oa].type===z&&(!da||l[oa].handler===da))return oa;return-1},handlers(l){const z=this._handlers,da=[];if(l)da.push(...z[this.eventName(l)]);else for(const oa in z)da.push(...z[oa]);return da},eventName(l){const z=l.indexOf(".");return 0>z?l:l.slice(0,z)},handleHref(l,z,da){this._loader.sanitize(da,{context:"href"}).then(oa=>{const Va=new MouseEvent(l.type,l),Ya=$b(null,"a");for(const Bb in oa)Ya.setAttribute(Bb,oa[Bb]);Ya.dispatchEvent(Va)}).catch(()=>{})},
handleTooltip(l,z,da){if(z&&null!=z.tooltip){var oa=this.canvas(),Va=this._origin,Ya=z&&z.mark,Bb;if(Ya&&(Bb=Sg[Ya.marktype]).tip){oa=Pc(l,oa);oa[0]-=Va[0];for(oa[1]-=Va[1];z=z.mark.group;)oa[0]-=z.x||0,oa[1]-=z.y||0;z=Bb.tip(Ya.items,oa)}this._tooltip.call(this._obj,this,l,z,da&&z&&z.tooltip||null)}},getItemBoundingClientRect(l){var z=this.canvas();if(z){var da=z.getBoundingClientRect(),oa=this._origin,Va=l.bounds;z=Va.width();var Ya=Va.height(),Bb=Va.x1+oa[0]+da.left;for(da=Va.y1+oa[1]+da.top;l.mark&&
(l=l.mark.group);)Bb+=l.x||0,da+=l.y||0;return{x:Bb,y:da,width:z,height:Ya,left:Bb,top:da,right:Bb+z,bottom:da+Ya}}}};gd.prototype={initialize(l,z,da,oa,Va){this._el=l;return this.resize(z,da,oa,Va)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(l){if(0===arguments.length)return this._bgcolor;this._bgcolor=l;return this},resize(l,z,da,oa){this._width=l;this._height=z;this._origin=da||[0,0];this._scale=oa||1;return this},dirty(){},render(l){const z=this;z._call=
function(){z._render(l)};z._call();z._call=null;return z},_render(){},renderAsync(l){const z=this.render(l);return this._ready?this._ready.then(()=>z):Promise.resolve(z)},_load(l,z){var da=this;l=da._loader[l](z);if(!da._ready){const oa=da._call;da._ready=da._loader.ready().then(Va=>{Va&&oa();da._ready=null})}return l},sanitizeURL(l){return this._load("sanitizeURL",l)},loadImage(l){return this._load("loadImage",l)}};k.inherits(ee,Dc,{initialize(l,z,da){this._canvas=l&&J(l,"canvas");["click","mousedown",
"mousemove","mouseout","dragleave"].forEach(oa=>Ra(this,oa));return Dc.prototype.initialize.call(this,l,z,da)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(l){this.fire("mousewheel",l)},mousemove:oc("mousemove","mouseover","mouseout"),dragover:oc("dragover","dragenter","dragleave"),
mouseout:vd("mouseout"),dragleave:vd("dragleave"),mousedown(l){this._down=this._active;this.fire("mousedown",l)},click(l){this._down===this._active&&(this.fire("click",l),this._down=null)},touchstart(l){this._touch=this.pickEvent(l.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",l,!0)},touchmove(l){this.fire("touchmove",l,!0)},touchend(l){this.fire("touchend",l,!0);this._touch=null},fire(l,z,da){da=da?this._touch:this._active;const oa=this._handlers[l];
z.vegaType=l;"click"===l&&da&&da.href?this.handleHref(z,da,da.href):("mousemove"===l||"mouseout"===l)&&this.handleTooltip(z,da,"mouseout"!==l);if(oa)for(let Va=0,Ya=oa.length;Va<Ya;++Va)oa[Va].handler.call(this._obj,z,da)},on(l,z){const da=this.eventName(l),oa=this._handlers;0>this._handlerIndex(oa[da],l,z)&&(Ra(this,l),(oa[da]||(oa[da]=[])).push({type:l,handler:z}));return this},off(l,z){var da=this.eventName(l);da=this._handlers[da];l=this._handlerIndex(da,l,z);0<=l&&da.splice(l,1);return this},
pickEvent(l){l=Pc(l,this._canvas);const z=this._origin;return this.pick(this._scene,l[0],l[1],l[0]-z[0],l[1]-z[1])},pick(l,z,da,oa,Va){const Ya=this.context();return Sg[l.marktype].pick.call(this,Ya,l,z,da,oa,Va)}});var Bh="undefined"!==typeof window?window.devicePixelRatio||1:1;const Gg=gd.prototype;k.inherits(Lc,gd,{initialize(l,z,da,oa,Va,Ya){this._options=Ya||{};this._canvas=this._options.externalContext?null:P.canvas(1,1,this._options.type);l&&this._canvas&&(Sa(l,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return Gg.initialize.call(this,l,z,da,oa,Va)},resize(l,z,da,oa){Gg.resize.call(this,l,z,da,oa);if(this._canvas){l=this._canvas;z=this._width;da=this._height;oa=this._origin;var Va=this._scale,Ya=this._options.context;const hc="undefined"!==typeof HTMLElement&&l instanceof HTMLElement&&null!=l.parentNode,Ub=l.getContext("2d");Va=hc?Bh:Va;l.width=z*Va;l.height=da*Va;for(var Bb in Ya)Ub[Bb]=Ya[Bb];hc&&1!==Va&&(l.style.width=z+"px",l.style.height=da+"px");Ub.pixelRatio=
Va;Ub.setTransform(Va,0,0,Va,Va*oa[0],Va*oa[1])}else(Bb=this._options.externalContext)||k.error("CanvasRenderer is missing a valid canvas or context"),Bb.scale(this._scale,this._scale),Bb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(l){const z=this._tempb.clear().union(l.bounds);for(l=l.mark.group;l;)z.translate(l.x||0,l.y||0),l=l.mark.group;
this._dirty.union(z)},_render(l){const z=this.context(),da=this._origin,oa=this._width,Va=this._height,Ya=this._dirty;var Bb=(new Ma).set(0,0,oa,Va).translate(-da[0],-da[1]);z.save();this._redraw||Ya.empty()?Bb=(this._redraw=!1,Bb.expand(1)):(Bb=Bb.intersect(Ya),Bb.expand(1).round(),z.pixelRatio%1&&Bb.scale(z.pixelRatio).round().scale(1/z.pixelRatio),Bb.translate(-(da[0]%1),-(da[1]%1)),z.beginPath(),z.rect(Bb.x1,Bb.y1,Bb.width(),Bb.height()),z.clip());this.clear(-da[0],-da[1],oa,Va);this.draw(z,l,
Bb);z.restore();Ya.clear();return this},draw(l,z,da){const oa=Sg[z.marktype];if(z.clip){var Va=z.clip;l.save();k.isFunction(Va)?(l.beginPath(),Va(l),l.clip()):Ud(l,z.group)}oa.draw.call(this,l,z,da);z.clip&&l.restore()},clear(l,z,da,oa){const Va=this._options,Ya=this.context();"pdf"===Va.type||Va.externalContext||Ya.clearRect(l,z,da,oa);null!=this._bgcolor&&(Ya.fillStyle=this._bgcolor,Ya.fillRect(l,z,da,oa))}});const Gh=(l,z)=>da=>{let oa=da.target.__data__;oa=Array.isArray(oa)?oa[0]:oa;da.vegaType=
da.type;z.call(l._obj,da,oa)};k.inherits(Wc,Dc,{initialize(l,z,da){let oa=this._svg;oa&&(oa.removeEventListener("click",this._hrefHandler),oa.removeEventListener("mousemove",this._tooltipHandler),oa.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=oa=l&&J(l,"svg"))oa.addEventListener("click",this._hrefHandler),oa.addEventListener("mousemove",this._tooltipHandler),oa.addEventListener("mouseout",this._tooltipHandler);return Dc.prototype.initialize.call(this,l,z,da)},canvas(){return this._svg},
on(l,z){const da=this.eventName(l),oa=this._handlers;0>this._handlerIndex(oa[da],l,z)&&(l={type:l,handler:z,listener:Gh(this,z)},(oa[da]||(oa[da]=[])).push(l),this._svg&&this._svg.addEventListener(da,l.listener));return this},off(l,z){const da=this.eventName(l),oa=this._handlers[da];l=this._handlerIndex(oa,l,z);0<=l&&(this._svg&&this._svg.removeEventListener(da,oa[l].listener),oa.splice(l,1));return this}});const Ch=(l,z,da)=>({role:l,["aria-roledescription"]:z,["aria-label"]:da||void 0}),Hh=k.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),
Wh={axis:{desc:"axis",caption:function(l){var z=l.datum;const da=l.orient,oa=z.title?Cd(l):null;var Va=l.context;z=Va.scales[z.scale].value;Va=Va.dataflow.locale();const Ya=z.type;return`${"left"===da||"right"===da?"Y":"X"}-axis`+(oa?` titled '${oa}'`:"")+` for a ${Hb.isDiscrete(Ya)?"discrete":Ya} scale`+` with ${Hb.domainCaption(Va,z,l)}`}},legend:{desc:"legend",caption:function(l){var z=l.datum;const da=z.title?Cd(l):null,oa=`${z.type||""} legend`.trim();var Va=z.scales;z=Object.keys(Va);var Ya=
l.context;Va=Ya.scales[Va[z[0]]].value;Ya=Ya.dataflow.locale();return(oa.length?oa[0].toUpperCase()+oa.slice(1):oa)+(da?` titled '${da}'`:"")+` for ${be(z)}`+` with ${Hb.domainCaption(Ya,Va,l)}`}},"title-text":{desc:"title",caption:l=>`Title text '${k.array(l.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:l=>`Subtitle text '${k.array(l.text).join(" ")}'`}},Xh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},yg=l=>(l+"").replace(/&/g,"\x26amp;").replace(/</g,
"\x26lt;").replace(/>/g,"\x26gt;"),zg=l=>Le(xe(),l)+"",Zf={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},lh={blend:"mix-blend-mode"},ug={fill:"none","stroke-miterlimit":10},Df=xg.xmlns,mh=gd.prototype;k.inherits(Xe,gd,{initialize(l,z,da,oa,Va){this._defs=
{};this._clearDefs();l&&(this._svg=fa(l,0,"svg",Df),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Df),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",xg["xmlns:xlink"]),this._svg.setAttribute("version",xg.version),this._svg.setAttribute("class","marks"),Sa(l,1),this._root=fa(this._svg,0,"g",Df),Jd(this._root,ug),Sa(this._svg,1));this.background(this._bgcolor);return mh.initialize.call(this,l,z,da,oa,Va)},background(l){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
l);return mh.background.apply(this,arguments)},resize(l,z,da,oa){mh.resize.call(this,l,z,da,oa);this._svg&&(Jd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const l=this._svg,z=this._bgcolor;if(!l)return null;let da;z&&(l.removeAttribute("style"),da=fa(l,0,"rect",Df),Jd(da,{width:this._width,height:this._height,
fill:z}));const oa=zg(l);z&&(l.removeChild(da),this._svg.style.setProperty("background-color",z));return oa},_render(l){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,l),Sa(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(l){l.dirty!==this._dirtyID&&(l.dirty=this._dirtyID,this._dirty.push(l))},isDirty(l){return this._dirtyAll||!l._svg||!l._svg.ownerSVGElement||l.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const l=this._dirty;if(!l.length||
!this._dirtyID)return!0;const z=++this._dirtyID;let da;let oa,Va,Ya,Bb;Ya=0;for(Bb=l.length;Ya<Bb;++Ya){da=l[Ya];var hc=da.mark;hc.marktype!==oa&&(oa=hc.marktype,Va=Sg[oa]);hc.zdirty&&hc.dirty!==z&&(this._dirtyAll=!1,df(da,z),hc.items.forEach(Ub=>{Ub.dirty=z}));hc.zdirty||(da.exit?(Va.nested&&hc.items.length?(hc=hc.items[0],hc._svg&&this._update(Va,hc._svg,hc)):da._svg&&(hc=da._svg.parentNode)&&hc.removeChild(da._svg),da._svg=null):(da=Va.nested?hc.items[0]:da,da._update!==z&&(da._svg&&da._svg.ownerSVGElement?
this._update(Va,da._svg,da):(this._dirtyAll=!1,df(da,z)),da._update=z)))}return!this._dirtyAll},mark(l,z,da){if(!this.isDirty(z))return z._svg;const oa=this._svg,Va=Sg[z.marktype];var Ya=!1===z.interactive?"none":null;const Bb="g"===Va.tag,hc=Ec(z,l,da,"g",oa);hc.setAttribute("class",bc(z));l=sd(z);for(const Rc in l)Vd(hc,Rc,l[Rc]);Bb||Vd(hc,"pointer-events",Ya);Vd(hc,"clip-path",z.clip?Pd(this,z,z.group):null);let Ub=null,Ad=0;Ya=Rc=>{const Rd=this.isDirty(Rc),we=Ec(Rc,hc,Ub,Va.tag,oa);Rd&&(this._update(Va,
we,Rc),Bb&&od(this,we,Rc));Ub=we;++Ad};Va.nested?z.items.length&&Ya(z.items[0]):dc(z,Ya);Sa(hc,Ad);return hc},_update(l,z,da){Lg=z;Pf=z.__values__;Qc(kd,da);l.attr(kd,da,this);const oa=S[l.type];oa&&oa.call(this,l,z,da);Lg&&this.style(Lg,da)},style(l,z){if(null!=z){for(const da in Zf){let oa="font"===da?Ae(z):z[da];if(oa===Pf[da])continue;const Va=Zf[da];null==oa?l.removeAttribute(Va):(oa&&oa.gradient&&(oa=ac(oa,this._defs.gradient,ce())),l.setAttribute(Va,oa+""));Pf[da]=oa}for(const da in lh)Fc(l,
lh[da],z[da])}},defs(){const l=this._svg,z=this._defs;let da=z.el;var oa=0;for(var Va in z.gradient){da||(z.el=da=fa(l,1,"defs",Df));var Ya=void 0;let Ub,Ad;var Bb=da,hc=z.gradient[Va];"radial"===hc.gradient?(Ya=fa(Bb,oa++,"pattern",Df),Jd(Ya,{id:"p_"+hc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Ya=fa(Ya,0,"rect",Df),Jd(Ya,{width:1,height:1,fill:`url(${ce()}#${hc.id})`}),Bb=fa(Bb,oa++,"radialGradient",Df),Jd(Bb,{id:hc.id,fx:hc.x1,fy:hc.y1,fr:hc.r1,cx:hc.x2,
cy:hc.y2,r:hc.r2})):(Bb=fa(Bb,oa++,"linearGradient",Df),Jd(Bb,{id:hc.id,x1:hc.x1,x2:hc.x2,y1:hc.y1,y2:hc.y2}));Ad=0;for(Ub=hc.stops.length;Ad<Ub;++Ad)Ya=fa(Bb,Ad,"stop",Df),Ya.setAttribute("offset",hc.stops[Ad].offset),Ya.setAttribute("stop-color",hc.stops[Ad].color);Sa(Bb,Ad)}for(const Ub in z.clipping)da||(z.el=da=fa(l,1,"defs",Df)),Bb=da,hc=z.clipping[Ub],Va=oa,Bb=fa(Bb,Va,"clipPath",Df),Bb.setAttribute("id",hc.id),hc.path?(oa=fa(Bb,0,"path",Df),oa.setAttribute("d",hc.path)):(oa=fa(Bb,0,"rect",
Df),Jd(oa,{x:0,y:0,width:hc.width,height:hc.height})),Sa(Bb,1),oa=Va+1;da&&(0===oa?(l.removeChild(da),z.el=null):Sa(da,oa))},_clearDefs(){const l=this._defs;l.gradient={};l.clipping={}}});let Lg=null,Pf=null;const S={group(l,z,da){const oa=Lg=z.childNodes[2];Pf=oa.__values__;l.foreground(kd,da,this);Pf=z.__values__;Lg=z.childNodes[1];l.content(kd,da,this);z=Lg=z.childNodes[0];l.background(kd,da,this);l=!1===da.mark.interactive?"none":null;l!==Pf.events&&(Vd(oa,"pointer-events",l),Vd(z,"pointer-events",
l),Pf.events=l);da.strokeForeground&&da.stroke?(l=da.fill,Vd(oa,"display",null),this.style(z,da),Vd(z,"stroke",null),l&&(da.fill=null),Pf=oa.__values__,this.style(oa,da),l&&(da.fill=l),Lg=null):Vd(oa,"display","none")},image(l,z,da){!1===da.smooth?(Fc(z,"image-rendering","optimizeSpeed"),Fc(z,"image-rendering","pixelated")):Fc(z,"image-rendering",null)},text(l,z,da){l=$d(da);let oa,Va,Ya;k.isArray(l)?(oa=l.map(Bb=>Wd(da,Bb)),l=oa.join("\n"),l!==Pf.text&&(Sa(z,0),Va=z.ownerDocument,Ya=Gd(da),oa.forEach((Bb,
hc)=>{const Ub=$b(Va,"tspan",Df);Ub.__data__=da;Ub.textContent=Bb;hc&&(Ub.setAttribute("x",0),Ub.setAttribute("dy",Ya));z.appendChild(Ub)}),Pf.text=l)):(oa=Wd(da,l),oa!==Pf.text&&(z.textContent=oa,Pf.text=oa));Vd(z,"font-family",Ae(da));Vd(z,"font-size",Hd(da)+"px");Vd(z,"font-style",da.fontStyle);Vd(z,"font-variant",da.fontVariant);Vd(z,"font-weight",da.fontWeight)}};k.inherits(le,gd,{svg(){return this._text},_render(l){const z=xe();z.open("svg",k.extend({},xg,{class:"marks",width:this._width*this._scale,
height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const da=this._bgcolor;da&&"transparent"!==da&&"none"!==da&&z.open("rect",{width:this._width,height:this._height,fill:da}).close();z.open("g",ug,{transform:"translate("+this._origin+")"});this.mark(z,l);z.close();this.defs(z);this._text=z.close()+"";return this},mark(l,z){const da=Sg[z.marktype],oa=da.tag,Va=[Qc,da.attr];l.open("g",{"class":bc(z),"clip-path":z.clip?Pd(this,z,z.group):null},sd(z),{"pointer-events":"g"!==
oa&&!1===z.interactive?"none":null});const Ya=Bb=>{const hc=this.href(Bb);hc&&l.open("a",hc);l.open(oa,this.attr(z,Bb,Va,"g"!==oa?oa:null));if("text"===oa){var Ub=$d(Bb);if(k.isArray(Ub)){var Ad={x:0,dy:Gd(Bb)};for(var Rc=0;Rc<Ub.length;++Rc)l.open("tspan",Rc?Ad:null).text(Wd(Bb,Ub[Rc])).close()}else l.text(Wd(Bb,Ub))}else"g"===oa&&(Ub=Bb.strokeForeground,Ad=Bb.fill,Rc=Bb.stroke,Ub&&Rc&&(Bb.stroke=null),l.open("path",this.attr(z,Bb,da.background,"bgrect")).close(),l.open("g",this.attr(z,Bb,da.content)),
dc(Bb,Rd=>this.mark(l,Rd)),l.close(),Ub&&Rc?(Ad&&(Bb.fill=null),Bb.stroke=Rc,l.open("path",this.attr(z,Bb,da.foreground,"bgrect")).close(),Ad&&(Bb.fill=Ad)):l.open("path",this.attr(z,Bb,da.foreground,"bgfore")).close());l.close();hc&&l.close()};da.nested?z.items&&z.items.length&&Ya(z.items[0]):dc(z,Ya);return l.close()},href(l){const z=l.href;if(z){if(l=this._hrefs&&this._hrefs[z])return l;this.sanitizeURL(z).then(da=>{da["xlink:href"]=da.href;da.href=null;(this._hrefs||(this._hrefs={}))[z]=da})}return null},
attr(l,z,da,oa){const Va={},Ya=(Bb,hc,Ub,Ad)=>{Va[Ad||Bb]=hc};Array.isArray(da)?da.forEach(Bb=>Bb(Ya,z,this)):da(Ya,z,this);oa&&O(Va,z,l,oa,this._defs);return Va},defs(l){var z=this._defs.gradient;const da=this._defs.clipping;if(0!==Object.keys(z).length+Object.keys(da).length){l.open("defs");for(const Va in z){var oa=z[Va];const Ya=oa.stops;"radial"===oa.gradient?(l.open("pattern",{id:"p_"+Va,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),l.open("rect",{width:"1",
height:"1",fill:"url(#"+Va+")"}).close(),l.close(),l.open("radialGradient",{id:Va,fx:oa.x1,fy:oa.y1,fr:oa.r1,cx:oa.x2,cy:oa.y2,r:oa.r2})):l.open("linearGradient",{id:Va,x1:oa.x1,x2:oa.x2,y1:oa.y1,y2:oa.y2});for(oa=0;oa<Ya.length;++oa)l.open("stop",{offset:Ya[oa].offset,"stop-color":Ya[oa].color}).close();l.close()}for(const Va in da)z=da[Va],l.open("clipPath",{id:Va}),z.path?l.open("path",{d:z.path}).close():l.open("rect",{x:0,y:0,width:z.width,height:z.height}).close(),l.close();l.close()}}});const xa=
{};xa.canvas=xa.png={renderer:Lc,headless:Lc,handler:ee};xa.svg={renderer:Xe,headless:le,handler:Wc};xa.none={};const Ta=new Ma;v.Bounds=Ma;v.CanvasHandler=ee;v.CanvasRenderer=Lc;v.Gradient=function(l,z){var da=[],oa;return oa={gradient:"linear",x1:l?l[0]:0,y1:l?l[1]:0,x2:z?z[0]:1,y2:z?z[1]:0,stops:da,stop:function(Va,Ya){da.push({offset:Va,color:Ya});return oa}}};v.GroupItem=qb;v.Handler=Dc;v.Item=Vb;v.Marks=Sg;v.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};v.Renderer=gd;v.ResourceLoader=
Tb;v.SVGHandler=Wc;v.SVGRenderer=Xe;v.SVGStringRenderer=le;v.Scenegraph=ec;v.boundClip=function(l){const z=l.clip;if(k.isFunction(z))z(cc(Ta.clear()));else if(z)Ta.set(0,0,l.group.width,l.group.height);else return;l.bounds.intersect(Ta)};v.boundContext=cc;v.boundItem=uf;v.boundMark=U;v.boundStroke=gc;v.domChild=fa;v.domClear=Sa;v.domCreate=$b;v.domFind=J;v.font=kf;v.fontFamily=Ae;v.fontSize=Hd;v.intersect=function(l,z,da){const oa=[];z=(new Ma).union(z);const Va=l.marktype;return Va?ea(l,z,da,oa):
"group"===Va?I(l,z,da,oa):k.error("Intersect scene must be mark node or group item.")};v.intersectBoxLine=wb;v.intersectPath=Md;v.intersectPoint=td;v.intersectRule=gb;v.lineHeight=Gd;v.markup=xe;v.multiLineOffset=function(l){const z=$d(l);return(k.isArray(z)?z.length-1:0)*Gd(l)};v.path=Yb;v.pathCurves=Aa;v.pathEqual=Ja;v.pathParse=Y;v.pathRectangle=sc;v.pathRender=L;v.pathSymbols=La;v.pathTrail=xc;v.point=Pc;v.renderModule=function(l,z){l=String(l||"").toLowerCase();return 1<arguments.length?(xa[l]=
z,this):xa[l]};v.resetSVGClipId=function(){Pe=1};v.resetSVGDefIds=function(){Pe=1;vb=0};v.sceneEqual=ta;v.sceneFromJSON=cb;v.scenePickVisit=ic;v.sceneToJSON=ua;v.sceneVisit=dc;v.sceneZOrder=nc;v.serializeXML=zg;v.textMetrics=qh})};
shadow$provide[34]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(28),Fb(33),Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega))})(this,function(v,k,P,ib){function Hb(E){k.Transform.call(this,null,E)}function ac(E,H,V){return H(E.bounds.clear(),E,V)}function vc(E){k.Transform.call(this,
0,E)}function Ac(E){return E._signals[":vega_identifier:"]||(E._signals[":vega_identifier:"]=E.add(0))}function uc(E){k.Transform.call(this,null,E)}function Cb(E){const H=E.groups;E=E.parent;return H&&1===H.size?H.get(Object.keys(H.object)[0]):H&&E?H.lookup(E):null}function jc(E){k.Transform.call(this,null,E)}function Yb(E){k.Transform.call(this,null,E)}function Ua(E,H,V){return E[H]===V?0:(E[H]=V,1)}function ub(E){E=E.items[0].orient;return"left"===E||"right"===E}function Kb(E,H,V,Aa){H=H.items[0];
var Y=H.datum,t=null!=H.translate?H.translate:.5,L=H.orient,va=+Y.grid;var La=[Y.ticks?va++:-1,Y.labels?va++:-1,va+ +Y.domain];va=H.range;var Wa=H.offset,$a=H.position,X=H.minExtent,Ca=H.maxExtent;Y=Y.title&&H.items[La[2]].items[0];var Xa=H.titlePadding,Jb=H.bounds,yc=Y&&P.multiLineOffset(Y),sc;C.clear().union(Jb);Jb.clear();-1<(sc=La[0])&&Jb.union(H.items[sc].bounds);-1<(sc=La[1])&&Jb.union(H.items[sc].bounds);switch(L){case "top":V=$a||0;Aa=-Wa;X=Math.max(X,Math.min(Ca,-Jb.y1));Jb.add(0,-X).add(va,
0);Y&&Lb(E,Y,X,Xa,yc,0,-1,Jb);break;case "left":V=-Wa;Aa=$a||0;X=Math.max(X,Math.min(Ca,-Jb.x1));Jb.add(-X,0).add(0,va);Y&&Lb(E,Y,X,Xa,yc,1,-1,Jb);break;case "right":V+=Wa;Aa=$a||0;X=Math.max(X,Math.min(Ca,Jb.x2));Jb.add(0,0).add(X,va);Y&&Lb(E,Y,X,Xa,yc,1,1,Jb);break;case "bottom":V=$a||0;Aa+=Wa;X=Math.max(X,Math.min(Ca,Jb.y2));Jb.add(0,0).add(va,X);Y&&Lb(E,Y,X,Xa,0,0,1,Jb);break;default:V=H.x,Aa=H.y}P.boundStroke(Jb.translate(V,Aa),H);Ua(H,"x",V+t)|Ua(H,"y",Aa+t)&&(H.bounds=C,E.dirty(H),H.bounds=
Jb,E.dirty(H));return H.mark.bounds.clear().union(Jb)}function Lb(E,H,V,Aa,Y,t,L,va){const La=H.bounds;H.auto&&(V=L*(V+Y+Aa),Y=Aa=0,E.dirty(H),t?Aa=(H.x||0)-(H.x=V):Y=(H.y||0)-(H.y=V),H.mark.bounds.clear().union(La.translate(-Aa,-Y)),E.dirty(H));va.union(La)}function Db(E){return(new P.Bounds).set(0,0,E.width||0,E.height||0)}function Pb(E){const H=E.bounds.clone();return H.empty()?H.set(0,0,0,0):H.translate(-(E.x||0),-(E.y||0))}function ab(E,H,V){E=ib.isObject(E)?E[H]:E;return null!=E?E:void 0!==
V?V:0}function pb(E){return 0>E?Math.ceil(-E):0}function Qa(E,H,V){var Aa=!V.nodirty,Y="flush"===V.bounds?Db:Pb,t=C.set(0,0,0,0),L=ab(V.align,"column"),va=ab(V.align,"row"),La=ab(V.padding,"column"),Wa=ab(V.padding,"row"),$a=V.columns||H.length,X=0>=$a?1:Math.ceil(H.length/$a),Ca=H.length,Xa=Array(Ca),Jb=Array($a),yc=0,sc=Array(Ca),xc=Array(X),dd=0,Zb=Array(Ca),Sc=Array(Ca),Pd=Array(Ca),Ma,Vb,qb;for(Ma=0;Ma<$a;++Ma)Jb[Ma]=0;for(Ma=0;Ma<X;++Ma)xc[Ma]=0;for(Ma=0;Ma<Ca;++Ma){var Tb=H[Ma];var gc=Pd[Ma]=
Y(Tb);Tb.x=Tb.x||0;Zb[Ma]=0;Tb.y=Tb.y||0;Sc[Ma]=0;Tb=Ma%$a;var cc=~~(Ma/$a);yc=Math.max(yc,Vb=Math.ceil(gc.x2));dd=Math.max(dd,qb=Math.ceil(gc.y2));Jb[Tb]=Math.max(Jb[Tb],Vb);xc[cc]=Math.max(xc[cc],qb);Xa[Ma]=La+pb(gc.x1);sc[Ma]=Wa+pb(gc.y1);Aa&&E.dirty(H[Ma])}for(Ma=0;Ma<Ca;++Ma)0===Ma%$a&&(Xa[Ma]=0),Ma<$a&&(sc[Ma]=0);if("each"===L)for(Tb=1;Tb<$a;++Tb){Y=0;for(Ma=Tb;Ma<Ca;Ma+=$a)Y<Xa[Ma]&&(Y=Xa[Ma]);for(Ma=Tb;Ma<Ca;Ma+=$a)Xa[Ma]=Y+Jb[Tb-1]}else if("all"===L){for(Ma=Y=0;Ma<Ca;++Ma)Ma%$a&&Y<Xa[Ma]&&
(Y=Xa[Ma]);for(Ma=0;Ma<Ca;++Ma)Ma%$a&&(Xa[Ma]=Y+yc)}else for(L=!1,Tb=1;Tb<$a;++Tb)for(Ma=Tb;Ma<Ca;Ma+=$a)Xa[Ma]+=Jb[Tb-1];if("each"===va)for(cc=1;cc<X;++cc){Y=0;Ma=cc*$a;for(Tb=Ma+$a;Ma<Tb;++Ma)Y<sc[Ma]&&(Y=sc[Ma]);for(Ma=cc*$a;Ma<Tb;++Ma)sc[Ma]=Y+xc[cc-1]}else if("all"===va){Y=0;for(Ma=$a;Ma<Ca;++Ma)Y<sc[Ma]&&(Y=sc[Ma]);for(Ma=$a;Ma<Ca;++Ma)sc[Ma]=Y+dd}else for(va=!1,cc=1;cc<X;++cc)for(Ma=cc*$a,Tb=Ma+$a;Ma<Tb;++Ma)sc[Ma]+=xc[cc-1];for(Ma=cc=0;Ma<Ca;++Ma)cc=Xa[Ma]+(Ma%$a?cc:0),Zb[Ma]+=cc-H[Ma].x;
for(Tb=0;Tb<$a;++Tb)for(Xa=0,Ma=Tb;Ma<Ca;Ma+=$a)Xa+=sc[Ma],Sc[Ma]+=Xa-H[Ma].y;if(L&&ab(V.center,"column")&&1<X)for(Ma=0;Ma<Ca;++Ma)gc="all"===L?yc:Jb[Ma%$a],cc=gc-Pd[Ma].x2-H[Ma].x-Zb[Ma],0<cc&&(Zb[Ma]+=cc/2);if(va&&ab(V.center,"row")&&1!==$a)for(Ma=0;Ma<Ca;++Ma)gc="all"===va?dd:xc[~~(Ma/$a)],Xa=gc-Pd[Ma].y2-H[Ma].y-Sc[Ma],0<Xa&&(Sc[Ma]+=Xa/2);for(Ma=0;Ma<Ca;++Ma)t.union(Pd[Ma].translate(Zb[Ma],Sc[Ma]));cc=ab(V.anchor,"x");Xa=ab(V.anchor,"y");switch(ab(V.anchor,"column")){case "end":cc-=t.width();
break;case "middle":cc-=t.width()/2}switch(ab(V.anchor,"row")){case "end":Xa-=t.height();break;case "middle":Xa-=t.height()/2}cc=Math.round(cc);Xa=Math.round(Xa);t.clear();for(Ma=0;Ma<Ca;++Ma)H[Ma].mark.bounds.clear();for(Ma=0;Ma<Ca;++Ma)Tb=H[Ma],Tb.x+=Zb[Ma]+=cc,Tb.y+=Sc[Ma]+=Xa,t.union(Tb.mark.bounds.union(Tb.bounds.translate(Zb[Ma],Sc[Ma]))),Aa&&E.dirty(Tb);return t}function Da(E,H){return"x1"===H?E.x||0:"y1"===H?E.y||0:"x2"===H?(E.x||0)+(E.width||0):"y2"===H?(E.y||0)+(E.height||0):void 0}function Ka(E,
H){return E.bounds[H]}function lb(E,H,V,Aa,Y,t,L,va,La,Wa,$a,X,Ca,Xa){var Jb=V.length,yc=Aa=0,sc,xc;if(!Jb)return Aa;for(sc=$a;sc<Jb;sc+=X)V[sc]&&(Aa=L(Aa,La(V[sc],Wa)));if(!H.length)return Aa;H.length>Y&&(E.warn("Grid headers exceed limit: "+Y),H=H.slice(0,Y));Aa+=t;Y=0;for(t=H.length;Y<t;++Y)E.dirty(H[Y]),H[Y].mark.bounds.clear();sc=$a;Y=0;for(t=H.length;Y<t;++Y,sc+=X){La=H[Y];$a=La.mark.bounds;for(Jb=sc;0<=Jb&&null==(xc=V[Jb]);Jb-=Ca);if(va){Jb=null==Xa?xc.x:Math.round(xc.bounds.x1+Xa*xc.bounds.width());
var dd=Aa}else Jb=Aa,dd=null==Xa?xc.y:Math.round(xc.bounds.y1+Xa*xc.bounds.height());$a.union(La.bounds.translate(Jb-(La.x||0),dd-(La.y||0)));La.x=Jb;La.y=dd;E.dirty(La);yc=L(yc,$a[Wa])}return yc}function mb(E,H,V,Aa,Y,t){if(H){E.dirty(H);var L=V;Aa?L=Math.round(Y.x1+t*Y.width()):V=Math.round(Y.y1+t*Y.height());H.bounds.translate(L-(H.x||0),V-(H.y||0));H.mark.bounds.clear().union(H.bounds);H.x=L;H.y=V;E.dirty(H)}}function Pa(E,H){const V=E[H]||{};return(Aa,Y)=>null!=V[Aa]?V[Aa]:null!=E[Aa]?E[Aa]:
Y}function xb(E,H){let V=-Infinity;E.forEach(Aa=>{null!=Aa.offset&&(V=Math.max(V,Aa.offset))});return-Infinity<V?V:H}function sb(E,H,V,Aa,Y,t,L){const va=Pa(V,H);V=xb(E,va("offset",0));const La=va("anchor","start"),Wa="end"===La?1:"middle"===La?.5:0;E={align:"each",bounds:va("bounds","flush"),columns:"vertical"===va("direction")?1:E.length,padding:va("margin",8),center:va("center"),nodirty:!0};switch(H){case "left":E.anchor={x:Math.floor(Aa.x1)-V,column:"end",y:Wa*(L||Aa.height()+2*Aa.y1),row:La};
break;case "right":E.anchor={x:Math.ceil(Aa.x2)+V,y:Wa*(L||Aa.height()+2*Aa.y1),row:La};break;case "top":E.anchor={y:Math.floor(Y.y1)-V,row:"end",x:Wa*(t||Y.width()+2*Y.x1),column:La};break;case "bottom":E.anchor={y:Math.ceil(Y.y2)+V,x:Wa*(t||Y.width()+2*Y.x1),column:La};break;case "top-left":E.anchor={x:V,y:V};break;case "top-right":E.anchor={x:t-V,y:V,column:"end"};break;case "bottom-left":E.anchor={x:V,y:L-V,row:"end"};break;case "bottom-right":E.anchor={x:t-V,y:L-V,column:"end",row:"end"}}return E}
function Qb(E,H){H=H.items[0];var V=H.datum,Aa=H.orient,Y=H.bounds,t=H.x,L=H.y;H._bounds?H._bounds.clear().union(Y):H._bounds=Y.clone();Y.clear();var va=H.items[0].items[0];var La=H.padding,Wa=La-va.x,$a=La-va.y;if(H.datum.title){var X=H.items[1].items[0],Ca=X.anchor,Xa=H.titlePadding||0,Jb=La-X.x,yc=La-X.y;switch(X.orient){case "left":Wa+=Math.ceil(X.bounds.width())+Xa;break;case "right":case "bottom":break;default:$a+=X.bounds.height()+Xa}(Wa||$a)&&pa(E,va,Wa,$a);switch(X.orient){case "left":yc+=
nb(H,va,X,Ca,1,1);break;case "right":Jb+=nb(H,va,X,"end",0,0)+Xa;yc+=nb(H,va,X,Ca,1,1);break;case "bottom":Jb+=nb(H,va,X,Ca,0,0);yc+=nb(H,va,X,"end",-1,0,1)+Xa;break;default:Jb+=nb(H,va,X,Ca,0,0)}(Jb||yc)&&pa(E,X,Jb,yc);0>(Jb=Math.round(X.bounds.x1-La))&&(pa(E,va,-Jb,0),pa(E,X,-Jb,0))}else(Wa||$a)&&pa(E,va,Wa,$a);Y=Wb(H,Y);E=2*H.padding;va=2*H.padding;Y.empty()||(E=Math.ceil(Y.width()+E),va=Math.ceil(Y.height()+va));"symbol"===V.type&&Z(H.items[0].items[0].items[0].items);"none"!==Aa&&(H.x=t=0,H.y=
L=0);H.width=E;H.height=va;P.boundStroke(Y.set(t,L,t+E,L+va),H);H.mark.bounds.clear().union(Y);return H}function Wb(E,H){E.items.forEach(V=>H.union(V.bounds));H.x1=E.padding;H.y1=E.padding;return H}function nb(E,H,V,Aa,Y,t,L){const va=V.datum.vgrad;E=("symbol"===E.datum.type||!t&&va||L?H:H.items[0]).bounds[Y?"y2":"x2"]-E.padding;H=va&&t?E:0;t=va&&t?0:E;V=0>=Y?0:P.multiLineOffset(V);return Math.round("start"===Aa?H:"end"===Aa?t-V:.5*(E-V))}function pa(E,H,V,Aa){H.x+=V;H.y+=Aa;H.bounds.translate(V,
Aa);H.mark.bounds.translate(V,Aa);E.dirty(H)}function Z(E){const H=E.reduce((V,Aa)=>{V[Aa.column]=Math.max(Aa.bounds.x2-Aa.x,V[Aa.column]||0);return V},{});E.forEach(V=>{V.width=H[V.column];V.height=V.bounds.y2-V.y})}function Fa(E,H,V,Aa,Y){var t=H.items[0],L=t.orient,va=t.anchor,La=t.offset,Wa=t.padding,$a=t.items[0].items[0],X=t.items[1]&&t.items[1].items[0],Ca="left"===L||"right"===L?Aa:V,Xa=0,Jb=V=0;"group"!==t.frame?"left"===L?(Xa=Y.y2,Ca=Y.y1):"right"===L?(Xa=Y.y1,Ca=Y.y2):(Xa=Y.x1,Ca=Y.x2):
"left"===L&&(Xa=Aa,Ca=0);Aa="start"===va?Xa:"end"===va?Ca:(Xa+Ca)/2;if(X&&X.text){switch(L){case "top":case "bottom":Jb=$a.bounds.height()+Wa;break;case "left":V=$a.bounds.width()+Wa;break;case "right":V=-$a.bounds.width()-Wa}C.clear().union(X.bounds);C.translate(V-(X.x||0),Jb-(X.y||0));Ua(X,"x",V)|Ua(X,"y",Jb)&&(E.dirty(X),X.bounds.clear().union(C),X.mark.bounds.clear().union(C),E.dirty(X));C.clear().union(X.bounds)}else C.clear();C.union($a.bounds);switch(L){case "top":L=Aa;Y=Y.y1-C.height()-La;
break;case "left":L=Y.x1-C.width()-La;Y=Aa;break;case "right":L=Y.x2+C.width()+La;Y=Aa;break;case "bottom":L=Aa;Y=Y.y2+La;break;default:L=t.x,Y=t.y}Ua(t,"x",L)|Ua(t,"y",Y)&&(C.translate(L,Y),E.dirty(t),t.bounds.clear().union(C),H.bounds.clear().union(C),E.dirty(t));return t.bounds}function Ga(E){k.Transform.call(this,null,E)}function db(E){return E&&"legend-entry"!==E.mark.role}function ba(E,H,V){var Aa=H.items,Y=Math.max(0,H.width||0),t=Math.max(0,H.height||0),L=(new P.Bounds).set(0,0,Y,t),va=L.clone(),
La=L.clone(),Wa=[],$a,X;var Ca=0;for(X=Aa.length;Ca<X;++Ca){var Xa=Aa[Ca];switch(Xa.role){case "axis":var Jb=ub(Xa)?va:La;Jb.union(Kb(E,Xa,Y,t));break;case "title":var yc=Xa;break;case "legend":Wa.push(Qb(E,Xa));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":va.union(Xa.bounds);La.union(Xa.bounds);break;default:L.union(Xa.bounds)}}if(Wa.length){const sc={};Wa.forEach(xc=>{$a=xc.orient||"right";"none"!==
$a&&(sc[$a]||(sc[$a]=[])).push(xc)});for(const xc in sc)Aa=sc[xc],Qa(E,Aa,sb(Aa,xc,V.legends,va,La,Y,t));Wa.forEach(xc=>{const dd=xc.bounds;dd.equals(xc._bounds)||(xc.bounds=xc._bounds,E.dirty(xc),xc.bounds=dd,E.dirty(xc));if(!V.autosize||"fit"!==V.autosize.type&&"fit-x"!==V.autosize.type&&"fit-y"!==V.autosize.type)L.union(dd);else switch(xc.orient){case "left":case "right":L.add(dd.x1,0).add(dd.x2,0);break;case "top":case "bottom":L.add(0,dd.y1).add(0,dd.y2)}})}L.union(va).union(La);yc&&L.union(Fa(E,
yc,Y,t,L));H.clip&&L.set(0,0,H.width||0,H.height||0);ma(E,H,L,V)}function ma(E,H,V,Aa){Aa=Aa.autosize||{};const Y=Aa.type;if(!(1>E._autosize)&&Y){var t=E._width,L=E._height,va=Math.max(0,H.width||0),La=Math.max(0,Math.ceil(-V.x1));H=Math.max(0,H.height||0);var Wa=Math.max(0,Math.ceil(-V.y1)),$a=Math.max(0,Math.ceil(V.x2-va));V=Math.max(0,Math.ceil(V.y2-H));if("padding"===Aa.contains){const X=E.padding();t-=X.left+X.right;L-=X.top+X.bottom}"none"===Y?(Wa=La=0,va=t,H=L):"fit"===Y?(va=Math.max(0,t-La-
$a),H=Math.max(0,L-Wa-V)):"fit-x"===Y?(va=Math.max(0,t-La-$a),L=H+Wa+V):"fit-y"===Y?(t=va+La+$a,H=Math.max(0,L-Wa-V)):"pad"===Y&&(t=va+La+$a,L=H+Wa+V);E._resizeView(t,L,va,H,[La,Wa],Aa.resize)}}ib.inherits(Hb,k.Transform,{transform(E,H){const V=H.dataflow,Aa=E.mark,Y=Aa.marktype,t=P.Marks[Y],L=t.bound;let va=Aa.bounds,La;if(t.nested)Aa.items.length&&V.dirty(Aa.items[0]),va=ac(Aa,L),Aa.items.forEach(Wa=>{Wa.bounds.clear().union(va)});else if("group"===Y||E.modified())switch(H.visit(H.MOD,Wa=>V.dirty(Wa)),
va.clear(),Aa.items.forEach(Wa=>va.union(ac(Wa,L))),Aa.role){case "axis":case "legend":case "title":H.reflow()}else La=H.changed(H.REM),H.visit(H.ADD,Wa=>{va.union(ac(Wa,L))}),H.visit(H.MOD,Wa=>{La=La||va.alignsWith(Wa.bounds);V.dirty(Wa);va.union(ac(Wa,L))}),La&&(va.clear(),Aa.items.forEach(Wa=>va.union(Wa.bounds)));P.boundClip(Aa);return H.modifies("bounds")}});vc.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};ib.inherits(vc,k.Transform,{transform(E,
H){const V=Ac(H.dataflow),Aa=E.as;let Y=V.value;H.visit(H.ADD,t=>t[Aa]=t[Aa]||++Y);V.set(this.value=Y);return H}});ib.inherits(uc,k.Transform,{transform(E,H){let V=this.value;V||(V=H.dataflow.scenegraph().mark(E.markdef,Cb(E),E.index),V.group.context=E.context,E.context.group||(E.context.group=V.group),V.source=this.source,V.clip=E.clip,V.interactive=E.interactive,this.value=V);const Aa="group"===V.marktype?P.GroupItem:P.Item;H.visit(H.ADD,Y=>Aa.call(Y,V));if(E.modified("clip")||E.modified("interactive"))V.clip=
E.clip,V.interactive=!!E.interactive,V.zdirty=!0,H.reflow();V.items=H.source;return H}});const q={parity:E=>E.filter((H,V)=>V%2?H.opacity=0:1),greedy:(E,H)=>{let V;return E.filter((Aa,Y)=>Y&&M(V.bounds,Aa.bounds,H)?Aa.opacity=0:(V=Aa,1))}},M=(E,H,V)=>V>Math.max(H.x1-E.x2,E.x1-H.x2,H.y1-E.y2,E.y1-H.y2),Q=(E,H)=>{for(var V=1,Aa=E.length,Y=E[0].bounds;V<Aa;++V)if(M(Y,Y=E[V].bounds,H))return!0},g=E=>{E=E.bounds;return 1<E.width()&&1<E.height()},u=(E,H,V)=>{E=E.range();var Aa=new P.Bounds;"top"===H||"bottom"===
H?Aa.set(E[0],-Infinity,E[1],Infinity):Aa.set(-Infinity,E[0],Infinity,E[1]);Aa.expand(V||1);return Y=>Aa.encloses(Y.bounds)},m=E=>{E.forEach(H=>H.opacity=1);return E};ib.inherits(jc,k.Transform,{transform(E,H){const V=q[E.method]||q.parity,Aa=E.separation||0;let Y=H.materialize(H.SOURCE).source,t,L;if(Y&&Y.length){if(!E.method)return E.modified("method")&&(m(Y),H=H.reflow(E.modified()).modifies("opacity")),H;Y=Y.filter(g);if(Y.length){E.sort&&(Y=Y.slice().sort(E.sort));t=m(Y);H=H.reflow(E.modified()).modifies("opacity");
if(3<=t.length&&Q(t,Aa)){do t=V(t,Aa);while(3<=t.length&&Q(t,Aa));3>t.length&&!ib.peek(Y).opacity&&(1<t.length&&(ib.peek(t).opacity=0),ib.peek(Y).opacity=1)}E.boundScale&&0<=E.boundTolerance&&(L=u(E.boundScale,E.boundOrient,+E.boundTolerance),Y.forEach(La=>{L(La)||(La.opacity=0)}));var va=t[0].mark.bounds.clear();Y.forEach(La=>{La.opacity&&va.union(La.bounds)});return H}}}});ib.inherits(Yb,k.Transform,{transform(E,H){const V=H.dataflow;H.visit(H.ALL,Aa=>V.dirty(Aa));H.fields&&H.fields.zindex&&(E=
H.source&&H.source[0])&&(E.mark.zdirty=!0)}});const C=new P.Bounds,B=(E,H)=>Math.floor(Math.min(E,H)),A=(E,H)=>Math.ceil(Math.max(E,H));ib.inherits(Ga,k.Transform,{transform(E,H){const V=H.dataflow;E.mark.items.forEach(Aa=>{if(E.layout){var Y=E.layout;var t=Aa.items;for(var L=t.length,va=0,La,Wa,$a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};va<L;++va)if(La=t[va],Wa=La.items,"group"===La.marktype)switch(La.role){case "axis":case "legend":case "title":break;
case "row-header":$a.rowheaders.push(...Wa);break;case "row-footer":$a.rowfooters.push(...Wa);break;case "column-header":$a.colheaders.push(...Wa);break;case "column-footer":$a.colfooters.push(...Wa);break;case "row-title":$a.rowtitle=Wa[0];break;case "column-title":$a.coltitle=Wa[0];break;default:$a.marks.push(...Wa)}t=$a;Wa=t.marks;$a="flush"===Y.bounds?Da:Ka;L=Y.offset;var X=Y.columns||Wa.length,Ca=0>=X?1:Math.ceil(Wa.length/X),Xa=Ca*X;va=Qa(V,Wa,Y);va.empty()&&va.set(0,0,0,0);if(t.rowheaders){La=
ab(Y.headerBand,"row",null);var Jb=lb(V,t.rowheaders,Wa,X,Ca,-ab(L,"rowHeader"),B,0,$a,"x1",0,X,1,La)}if(t.colheaders){La=ab(Y.headerBand,"column",null);var yc=lb(V,t.colheaders,Wa,X,X,-ab(L,"columnHeader"),B,1,$a,"y1",0,1,X,La)}if(t.rowfooters){La=ab(Y.footerBand,"row",null);var sc=lb(V,t.rowfooters,Wa,X,Ca,ab(L,"rowFooter"),A,0,$a,"x2",X-1,X,1,La)}if(t.colfooters){La=ab(Y.footerBand,"column",null);var xc=lb(V,t.colfooters,Wa,X,X,ab(L,"columnFooter"),A,1,$a,"y2",Xa-X,1,X,La)}t.rowtitle&&(La=ab(Y.titleAnchor,
"row"),Wa=ab(L,"rowTitle"),Wa="end"===La?sc+Wa:Jb-Wa,La=ab(Y.titleBand,"row",.5),mb(V,t.rowtitle,Wa,0,va,La));t.coltitle&&(La=ab(Y.titleAnchor,"column"),Wa=ab(L,"columnTitle"),Wa="end"===La?xc+Wa:yc-Wa,La=ab(Y.titleBand,"column",.5),mb(V,t.coltitle,Wa,1,va,La))}ba(V,Aa,E)});return db(E.mark.group)?H.reflow():H}});v.bound=Hb;v.identifier=vc;v.mark=uc;v.overlap=jc;v.render=Yb;v.viewlayout=Ga})};
shadow$provide[35]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(28),Fb(32),Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,ib){function Hb(sa){k.Transform.call(this,null,sa)}function ac(sa){k.Transform.call(this,null,sa)}function vc(){return k.ingest({})}function Ac(sa){const F=ib.fastmap().test(ya=>
ya.exit);F.lookup=ya=>F.get(sa(ya));return F}function uc(sa){k.Transform.call(this,null,sa)}function Cb(sa){k.Transform.call(this,[],sa)}function jc(sa){k.Transform.call(this,{},sa)}function Yb(sa,F,ya){sa=+sa;F=+F;ya=2>(Za=arguments.length)?(F=sa,sa=0,1):3>Za?1:+ya;for(var Na=-1,Za=Math.max(0,Math.ceil((F-sa)/ya))|0,kb=Array(Za);++Na<Za;)kb[Na]=sa+Na*ya;return kb}function Ua(sa,F){let ya=0;if(void 0===F)for(var Na of sa){if(Na=+Na)ya+=Na}else{Na=-1;for(let Za of sa)if(Za=+F(Za,++Na,sa))ya+=Za}return ya}
function ub(sa){k.Transform.call(this,null,sa)}function Kb(sa,F,ya){sa.prototype=F.prototype=ya;ya.constructor=sa}function Lb(sa,F){sa=Object.create(sa.prototype);for(var ya in F)sa[ya]=F[ya];return sa}function Db(){}function Pb(){return this.rgb().formatHex()}function ab(){return this.rgb().formatRgb()}function pb(sa){var F,ya;sa=(sa+"").trim().toLowerCase();return(F=Ma.exec(sa))?(ya=F[1].length,F=parseInt(F[1],16),6===ya?Qa(F):3===ya?new lb(F>>8&15|F>>4&240,F>>4&15|F&240,(F&15)<<4|F&15,1):8===ya?
Da(F>>24&255,F>>16&255,F>>8&255,(F&255)/255):4===ya?Da(F>>12&15|F>>8&240,F>>8&15|F>>4&240,F>>4&15|F&240,((F&15)<<4|F&15)/255):null):(F=Vb.exec(sa))?new lb(F[1],F[2],F[3],1):(F=qb.exec(sa))?new lb(255*F[1]/100,255*F[2]/100,255*F[3]/100,1):(F=Tb.exec(sa))?Da(F[1],F[2],F[3],F[4]):(F=gc.exec(sa))?Da(255*F[1]/100,255*F[2]/100,255*F[3]/100,F[4]):(F=cc.exec(sa))?Wb(F[1],F[2]/100,F[3]/100,1):(F=Ic.exec(sa))?Wb(F[1],F[2]/100,F[3]/100,F[4]):zc.hasOwnProperty(sa)?Qa(zc[sa]):"transparent"===sa?new lb(NaN,NaN,
NaN,0):null}function Qa(sa){return new lb(sa>>16&255,sa>>8&255,sa&255,1)}function Da(sa,F,ya,Na){0>=Na&&(sa=F=ya=NaN);return new lb(sa,F,ya,Na)}function Ka(sa,F,ya,Na){if(1===arguments.length){var Za=sa;Za instanceof Db||(Za=pb(Za));Za?(Za=Za.rgb(),Za=new lb(Za.r,Za.g,Za.b,Za.opacity)):Za=new lb}else Za=new lb(sa,F,ya,null==Na?1:Na);return Za}function lb(sa,F,ya,Na){this.r=+sa;this.g=+F;this.b=+ya;this.opacity=+Na}function mb(){return`#${Qb(this.r)}${Qb(this.g)}${Qb(this.b)}`}function Pa(){const sa=
xb(this.opacity);return`${1===sa?"rgb(":"rgba("}${sb(this.r)}, ${sb(this.g)}, ${sb(this.b)}${1===sa?")":`, ${sa})`}`}function xb(sa){return isNaN(sa)?1:Math.max(0,Math.min(1,sa))}function sb(sa){return Math.max(0,Math.min(255,Math.round(sa)||0))}function Qb(sa){sa=sb(sa);return(16>sa?"0":"")+sa.toString(16)}function Wb(sa,F,ya,Na){0>=Na?sa=F=ya=NaN:0>=ya||1<=ya?sa=F=NaN:0>=F&&(sa=NaN);return new pa(sa,F,ya,Na)}function nb(sa){if(sa instanceof pa)return new pa(sa.h,sa.s,sa.l,sa.opacity);sa instanceof
Db||(sa=pb(sa));if(!sa)return new pa;if(sa instanceof pa)return sa;sa=sa.rgb();var F=sa.r/255,ya=sa.g/255,Na=sa.b/255,Za=Math.min(F,ya,Na),kb=Math.max(F,ya,Na),Gb=NaN,nc=kb-Za,dc=(kb+Za)/2;nc?(Gb=F===kb?(ya-Na)/nc+6*(ya<Na):ya===kb?(Na-F)/nc+2:(F-ya)/nc+4,nc/=.5>dc?kb+Za:2-kb-Za,Gb*=60):nc=0<dc&&1>dc?0:Gb;return new pa(Gb,nc,dc,sa.opacity)}function pa(sa,F,ya,Na){this.h=+sa;this.s=+F;this.l=+ya;this.opacity=+Na}function Z(sa){sa=(sa||0)%360;return 0>sa?sa+360:sa}function Fa(sa){return Math.max(0,
Math.min(1,sa||0))}function Ga(sa,F,ya){return 255*(60>sa?F+(ya-F)*sa/60:180>sa?ya:240>sa?F+(ya-F)*(240-sa)/60:F)}function db(sa,F){return function(ya){return sa+ya*F}}function ba(sa,F,ya){return sa=Math.pow(sa,ya),F=Math.pow(F,ya)-sa,ya=1/ya,function(Na){return Math.pow(sa+Na*F,ya)}}function ma(sa){return 1===(sa=+sa)?q:function(F,ya){return ya-F?ba(F,ya,sa):Zc(isNaN(F)?ya:F)}}function q(sa,F){var ya=F-sa;return ya?db(sa,ya):Zc(isNaN(sa)?F:sa)}function M(sa,F){F||(F=[]);var ya=sa?Math.min(F.length,
sa.length):0,Na=F.slice(),Za;return function(kb){for(Za=0;Za<ya;++Za)Na[Za]=sa[Za]*(1-kb)+F[Za]*kb;return Na}}function Q(sa,F){var ya=F?F.length:0,Na=sa?Math.min(ya,sa.length):0,Za=Array(Na),kb=Array(ya),Gb;for(Gb=0;Gb<Na;++Gb)Za[Gb]=E(sa[Gb],F[Gb]);for(;Gb<ya;++Gb)kb[Gb]=F[Gb];return function(nc){for(Gb=0;Gb<Na;++Gb)kb[Gb]=Za[Gb](nc);return kb}}function g(sa,F){var ya=new Date;return sa=+sa,F=+F,function(Na){return ya.setTime(sa*(1-Na)+F*Na),ya}}function u(sa,F){return sa=+sa,F=+F,function(ya){return sa*
(1-ya)+F*ya}}function m(sa,F){var ya={},Na={},Za;if(null===sa||"object"!==typeof sa)sa={};if(null===F||"object"!==typeof F)F={};for(Za in F)Za in sa?ya[Za]=E(sa[Za],F[Za]):Na[Za]=F[Za];return function(kb){for(Za in ya)Na[Za]=ya[Za](kb);return Na}}function C(sa){return function(){return sa}}function B(sa){return function(F){return sa(F)+""}}function A(sa,F){var ya=td.lastIndex=Ha.lastIndex=0,Na,Za,kb,Gb=-1,nc=[],dc=[];sa+="";for(F+="";(Na=td.exec(sa))&&(Za=Ha.exec(F));)(kb=Za.index)>ya&&(kb=F.slice(ya,
kb),nc[Gb]?nc[Gb]+=kb:nc[++Gb]=kb),(Na=Na[0])===(Za=Za[0])?nc[Gb]?nc[Gb]+=Za:nc[++Gb]=Za:(nc[++Gb]=null,dc.push({i:Gb,x:u(Na,Za)})),ya=Ha.lastIndex;ya<F.length&&(kb=F.slice(ya),nc[Gb]?nc[Gb]+=kb:nc[++Gb]=kb);return 2>nc.length?dc[0]?B(dc[0].x):C(F):(F=dc.length,function(ic){for(var Vc=0,ed;Vc<F;++Vc)nc[(ed=dc[Vc]).i]=ed.x(ic);return nc.join("")})}function E(sa,F){var ya=typeof F;if(null==F||"boolean"===ya)sa=Zc(F);else{if("number"===ya)var Na=u;else"string"===ya?ya=(Na=pb(F))?(F=Na,Md):A:(F instanceof
pb?Na=Md:F instanceof Date?Na=g:(Na=F,Na=!ArrayBuffer.isView(Na)||Na instanceof DataView?Array.isArray(F)?Q:"function"!==typeof F.valueOf&&"function"!==typeof F.toString||isNaN(F)?m:u:M),ya=Na),Na=ya;sa=Na(sa,F)}return sa}function H(sa,F){return sa=+sa,F=+F,function(ya){return Math.round(sa*(1-ya)+F*ya)}}function V(sa){return P.isContinuous(sa)&&sa!==P.Sequential}function Aa(sa){k.Transform.call(this,null,sa);this.modified(!0)}function Y(sa,F,ya){P.isLogarithmic(sa)&&Math.abs(F.reduce((Na,Za)=>Na+
(0>Za?-1:0<Za?1:0),0))!==F.length&&ya.warn("Log scale domain includes zero: "+ib.stringValue(F));return F}function t(sa,F,ya){return ib.isFunction(sa)&&(F||ya)?P.interpolateRange(sa,L(F||[0,1],ya)):sa}function L(sa,F){return F?sa.slice().reverse():sa}function va(sa){k.Transform.call(this,null,sa)}function La(sa){k.Transform.call(this,null,sa)}function Wa(sa,F,ya,Na,Za){F=(F-sa.sum)/2;for(var kb=sa.length,Gb=0,nc;Gb<kb;++Gb)nc=sa[Gb],nc[Na]=F,nc[Za]=F+=Math.abs(ya(nc))}function $a(sa,F,ya,Na,Za){F=
1/sa.sum;for(var kb=0,Gb=sa.length,nc=0,dc=0,ic;nc<Gb;++nc)ic=sa[nc],ic[Na]=kb,ic[Za]=kb=F*(dc+=Math.abs(ya(ic)))}function X(sa,F,ya,Na,Za){for(var kb=F=0,Gb=sa.length,nc=0,dc,ic;nc<Gb;++nc)ic=sa[nc],dc=+ya(ic),0>dc?(ic[Na]=kb,ic[Za]=kb+=dc):(ic[Na]=F,ic[Za]=F+=dc)}function Ca(sa,F,ya,Na){var Za=[],kb=fd=>fd(ic),Gb;if(null==F)Za.push(sa.slice());else{var nc={};var dc=0;for(Gb=sa.length;dc<Gb;++dc){var ic=sa[dc];var Vc=F.map(kb);var ed=nc[Vc];ed||(nc[Vc]=ed=[],Za.push(ed));ed.push(ic)}}kb=Vc=0;for(sa=
Za.length;Vc<sa;++Vc){ed=Za[Vc];F=dc=0;for(Gb=ed.length;dc<Gb;++dc)F+=Math.abs(Na(ed[dc]));ed.sum=F;F>kb&&(kb=F);ya&&ed.sort(ya)}Za.max=kb;return Za}ib.inherits(Hb,k.Transform,{transform(sa,F){if(this.value&&!sa.modified())return F.StopPropagation;var ya=F.dataflow.locale();F=F.fork(F.NO_SOURCE|F.NO_FIELDS);var Na=this.value,Za=sa.scale,kb=P.tickCount(Za,null==sa.count?sa.values?sa.values.length:10:sa.count,sa.minstep),Gb=sa.format||P.tickFormat(ya,Za,kb,sa.formatSpecifier,sa.formatType,!!sa.values),
nc=sa.values?P.validTicks(Za,sa.values,kb):P.tickValues(Za,kb);Na&&(F.rem=Na);Na=nc.map((dc,ic)=>k.ingest({index:ic/(nc.length-1||1),value:dc,label:Gb(dc)}));sa.extra&&Na.length&&Na.push(k.ingest({index:-1,extra:{value:Na[0].value},label:""}));F.source=Na;this.value=F.add=Na;return F}});ib.inherits(ac,k.Transform,{transform(sa,F){var ya=F.dataflow,Na=F.fork(F.NO_SOURCE|F.NO_FIELDS),Za=sa.item||vc,kb=sa.key||k.tupleid,Gb=this.value;ib.isArray(Na.encode)&&(Na.encode=null);Gb&&(sa.modified("key")||F.modified(kb))&&
ib.error("DataJoin does not support modified key function or fields.");Gb||(F=F.addAll(),this.value=Gb=Ac(kb));F.visit(F.ADD,nc=>{const dc=kb(nc);let ic=Gb.get(dc);ic?ic.exit?(Gb.empty--,Na.add.push(ic)):Na.mod.push(ic):(ic=Za(nc),Gb.set(dc,ic),Na.add.push(ic));ic.datum=nc;ic.exit=!1});F.visit(F.MOD,nc=>{var dc=kb(nc);if(dc=Gb.get(dc))dc.datum=nc,Na.mod.push(dc)});F.visit(F.REM,nc=>{var dc=kb(nc);dc=Gb.get(dc);nc!==dc.datum||dc.exit||(Na.rem.push(dc),dc.exit=!0,++Gb.empty)});F.changed(F.ADD_MOD)&&
Na.modifies("datum");(F.clean()||sa.clean&&Gb.empty>ya.cleanThreshold)&&ya.runAfter(Gb.clean);return Na}});ib.inherits(uc,k.Transform,{transform(sa,F){var ya=F.fork(F.ADD_REM),Na=sa.mod||!1,Za=sa.encoders,kb=F.encode;if(ib.isArray(kb))if(ya.changed()||kb.every(ed=>Za[ed]))kb=kb[0],ya.encode=null;else return F.StopPropagation;var Gb="enter"===kb,nc=Za.update||ib.falsy,dc=Za.enter||ib.falsy,ic=Za.exit||ib.falsy,Vc=(kb&&!Gb?Za[kb]:nc)||ib.falsy;F.changed(F.ADD)&&(F.visit(F.ADD,ed=>{dc(ed,sa);nc(ed,sa)}),
ya.modifies(dc.output),ya.modifies(nc.output),Vc!==ib.falsy&&Vc!==nc&&(F.visit(F.ADD,ed=>{Vc(ed,sa)}),ya.modifies(Vc.output)));F.changed(F.REM)&&ic!==ib.falsy&&(F.visit(F.REM,ed=>{ic(ed,sa)}),ya.modifies(ic.output));if(Gb||Vc!==ib.falsy)kb=F.MOD|(sa.modified()?F.REFLOW:0),Gb?(F.visit(kb,ed=>{const fd=dc(ed,sa)||Na;(Vc(ed,sa)||fd)&&ya.mod.push(ed)}),ya.mod.length&&ya.modifies(dc.output)):F.visit(kb,ed=>{(Vc(ed,sa)||Na)&&ya.mod.push(ed)}),ya.mod.length&&ya.modifies(Vc.output);return ya.changed()?ya:
F.StopPropagation}});ib.inherits(Cb,k.Transform,{transform(sa,F){if(null!=this.value&&!sa.modified())return F.StopPropagation;var ya=F.dataflow.locale(),Na=F.fork(F.NO_SOURCE|F.NO_FIELDS),Za=this.value,kb=sa.type||P.SymbolLegend,Gb=sa.scale,nc=+sa.limit,dc=P.tickCount(Gb,null==sa.count?5:sa.count,sa.minstep),ic=!!sa.values||kb===P.SymbolLegend,Vc=sa.format||P.labelFormat(ya,Gb,dc,kb,sa.formatSpecifier,sa.formatType,ic),ed=sa.values||P.labelValues(Gb,dc),fd;Za&&(Na.rem=Za);if(kb===P.SymbolLegend){if(nc&&
ed.length>nc){F.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Za=ed.slice(0,nc-1);var Qd=!0}else Za=ed;if(ib.isFunction(fd=sa.size)){sa.values||0!==Gb(Za[0])||(Za=Za.slice(1));var Td=Za.reduce((Zd,de)=>Math.max(Zd,fd(de,sa)),0)}else fd=ib.constant(Td=fd||8);Za=Za.map((Zd,de)=>k.ingest({index:de,label:Vc(Zd,de,Za),value:Zd,offset:Td,size:fd(Zd,sa)}));Qd&&(Qd=ed[Za.length],Za.push(k.ingest({index:Za.length,label:`\u2026${ed.length-Za.length} entries`,value:Qd,offset:Td,size:fd(Qd,
sa)})))}else if(kb===P.GradientLegend){F=Gb.domain();var Fd=P.scaleFraction(Gb,F[0],ib.peek(F));3>ed.length&&!sa.values&&F[0]!==ib.peek(F)&&(ed=[F[0],ib.peek(F)]);Za=ed.map((Zd,de)=>k.ingest({index:de,label:Vc(Zd,de,ed),value:Zd,perc:Fd(Zd)}))}else fd=ed.length-1,Fd=P.labelFraction(Gb),Za=ed.map((Zd,de)=>k.ingest({index:de,label:Vc(Zd,de,ed),value:Zd,perc:de?Fd(Zd):0,perc2:de===fd?1:Fd(ed[de+1])}));Na.source=Za;this.value=Na.add=Za;return Na}});const Xa=sa=>sa.source.x,Jb=sa=>sa.source.y,yc=sa=>sa.target.x,
sc=sa=>sa.target.y;jc.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},
{name:"as",type:"string","default":"path"}]};ib.inherits(jc,k.Transform,{transform(sa,F){var ya=sa.sourceX||Xa,Na=sa.sourceY||Jb,Za=sa.targetX||yc,kb=sa.targetY||sc,Gb=sa.as||"path",nc=sa.shape||"line",dc=Sc.get(nc+"-"+(sa.orient||"vertical"))||Sc.get(nc);dc||ib.error("LinkPath unsupported type: "+sa.shape+(sa.orient?"-"+sa.orient:""));F.visit(F.SOURCE,ic=>{ic[Gb]=dc(ya(ic),Na(ic),Za(ic),kb(ic))});return F.reflow(sa.modified()).modifies(Gb)}});const xc=(sa,F,ya,Na)=>"M"+sa+","+F+"L"+ya+","+Na,dd=
(sa,F,ya,Na)=>{var Za=ya-sa,kb=Na-F,Gb=Math.hypot(Za,kb)/2;return"M"+sa+","+F+"A"+Gb+","+Gb+" "+180*Math.atan2(kb,Za)/Math.PI+" 0 1 "+ya+","+Na},Zb=(sa,F,ya,Na)=>{var Za=ya-sa;const kb=Na-F,Gb=.2*(Za+kb);Za=.2*(kb-Za);return"M"+sa+","+F+"C"+(sa+Gb)+","+(F+Za)+" "+(ya+Za)+","+(Na-Gb)+" "+ya+","+Na},Sc=ib.fastmap({line:xc,"line-radial":(sa,F,ya,Na)=>xc(F*Math.cos(sa),F*Math.sin(sa),Na*Math.cos(ya),Na*Math.sin(ya)),arc:dd,"arc-radial":(sa,F,ya,Na)=>dd(F*Math.cos(sa),F*Math.sin(sa),Na*Math.cos(ya),Na*
Math.sin(ya)),curve:Zb,"curve-radial":(sa,F,ya,Na)=>Zb(F*Math.cos(sa),F*Math.sin(sa),Na*Math.cos(ya),Na*Math.sin(ya)),"orthogonal-horizontal":(sa,F,ya,Na)=>"M"+sa+","+F+"V"+Na+"H"+ya,"orthogonal-vertical":(sa,F,ya,Na)=>"M"+sa+","+F+"H"+ya+"V"+Na,"orthogonal-radial":(sa,F,ya,Na)=>{const Za=Math.cos(ya),kb=Math.sin(ya);return"M"+F*Math.cos(sa)+","+F*Math.sin(sa)+"A"+F+","+F+" 0 0,"+((Math.abs(ya-sa)>Math.PI?ya<=sa:ya>sa)?1:0)+" "+F*Za+","+F*kb+"L"+Na*Za+","+Na*kb},"diagonal-horizontal":(sa,F,ya,Na)=>
{const Za=(sa+ya)/2;return"M"+sa+","+F+"C"+Za+","+F+" "+Za+","+Na+" "+ya+","+Na},"diagonal-vertical":(sa,F,ya,Na)=>{const Za=(F+Na)/2;return"M"+sa+","+F+"C"+sa+","+Za+" "+ya+","+Za+" "+ya+","+Na},"diagonal-radial":(sa,F,ya,Na)=>{const Za=Math.cos(sa);sa=Math.sin(sa);const kb=Math.cos(ya);ya=Math.sin(ya);const Gb=(F+Na)/2;return"M"+F*Za+","+F*sa+"C"+Gb*Za+","+Gb*sa+" "+Gb*kb+","+Gb*ya+" "+Na*kb+","+Na*ya}});ub.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",
type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};ib.inherits(ub,k.Transform,{transform(sa,F){var ya=sa.as||["startAngle","endAngle"],Na=ya[0],Za=ya[1],kb=sa.startAngle||0,Gb=null!=sa.endAngle?sa.endAngle:2*Math.PI,nc=F.source,dc=nc.map(sa.field||ib.one),ic=dc.length,Vc=kb;kb=(Gb-kb)/Ua(dc);Gb=Yb(ic);var ed;sa.sort&&Gb.sort((Td,Fd)=>dc[Td]-
dc[Fd]);for(ed=0;ed<ic;++ed){var fd=dc[Gb[ed]];var Qd=nc[Gb[ed]];Qd[Na]=Vc;Qd[Za]=Vc+=fd*kb}this.value=dc;return F.reflow(sa.modified()).modifies(ya)}});var Pd=1/.7,Ma=/^#([0-9a-f]{3,8})$/,Vb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),qb=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Tb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
gc=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),cc=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Ic=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
zc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kb(Db,pb,{copy(sa){return Object.assign(new this.constructor,this,sa)},displayable(){return this.rgb().displayable()},hex:Pb,formatHex:Pb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return nb(this).formatHsl()},formatRgb:ab,toString:ab});Kb(lb,Ka,Lb(Db,{brighter(sa){sa=null==sa?Pd:Math.pow(Pd,sa);return new lb(this.r*sa,this.g*sa,this.b*sa,this.opacity)},
darker(sa){sa=null==sa?.7:Math.pow(.7,sa);return new lb(this.r*sa,this.g*sa,this.b*sa,this.opacity)},rgb(){return this},clamp(){return new lb(sb(this.r),sb(this.g),sb(this.b),xb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:mb,formatHex:mb,formatHex8:function(){return`#${Qb(this.r)}${Qb(this.g)}${Qb(this.b)}${Qb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Pa,toString:Pa}));Kb(pa,
function(sa,F,ya,Na){return 1===arguments.length?nb(sa):new pa(sa,F,ya,null==Na?1:Na)},Lb(Db,{brighter(sa){sa=null==sa?Pd:Math.pow(Pd,sa);return new pa(this.h,this.s,this.l*sa,this.opacity)},darker(sa){sa=null==sa?.7:Math.pow(.7,sa);return new pa(this.h,this.s,this.l*sa,this.opacity)},rgb(){var sa=this.h%360+360*(0>this.h),F=isNaN(sa)||isNaN(this.s)?0:this.s,ya=this.l;F=ya+(.5>ya?ya:1-ya)*F;ya=2*ya-F;return new lb(Ga(240<=sa?sa-240:sa+120,ya,F),Ga(sa,ya,F),Ga(120>sa?sa+240:sa-120,ya,F),this.opacity)},
clamp(){return new pa(Z(this.h),Fa(this.s),Fa(this.l),xb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const sa=xb(this.opacity);return`${1===sa?"hsl(":"hsla("}${Z(this.h)}, ${100*Fa(this.s)}%, ${100*Fa(this.l)}%${1===sa?")":`, ${sa})`}`}}));var Zc=sa=>()=>sa,Md=function ya(F){function Na(kb,Gb){var nc=Za((kb=Ka(kb)).r,(Gb=Ka(Gb)).r),dc=Za(kb.g,Gb.g),ic=Za(kb.b,Gb.b),Vc=q(kb.opacity,Gb.opacity);return function(ed){kb.r=
nc(ed);kb.g=dc(ed);kb.b=ic(ed);kb.opacity=Vc(ed);return kb+""}}var Za=ma(F);Na.gamma=ya;return Na}(1),td=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ha=new RegExp(td.source,"g");const gb=ib.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));ib.inherits(Aa,k.Transform,{transform(F,ya){var Na=ya.dataflow,Za=this.value;var kb=F.type;var Gb=
"";if(kb===P.Sequential)kb=P.Sequential+"-"+P.Linear;else{var nc=F.type;P.isContinuous(nc)&&nc!==P.Time&&nc!==P.UTC&&(F.scheme||F.range&&F.range.length&&F.range.every(ib.isString))&&(Gb=F.rawDomain?F.rawDomain.length:F.domain?F.domain.length+ +(null!=F.domainMid):0,Gb=2===Gb?P.Sequential+"-":3===Gb?P.Diverging+"-":"");kb=(Gb+kb||P.Linear).toLowerCase()}Za&&kb===Za.type||(this.value=Za=P.scale(kb)());for(kb in F)gb[kb]||"padding"===kb&&V(Za.type)||(ib.isFunction(Za[kb])?Za[kb](F[kb]):Na.warn("Unsupported scale property: "+
kb));Gb=kb=Za;(nc=F.domainRaw)?(Za.domain(Y(Za.type,nc,Na)),nc=nc.length):nc=-1;if(-1<nc)Na=nc;else{var dc=F.domain;nc=Za.type;var ic;!(ic=F.zero)&&(ic=void 0===F.zero)&&(ic=Za.type,ic=!Za.bins&&(ic===P.Linear||ic===P.Pow||ic===P.Sqrt));if(dc){if(V(nc)&&F.padding&&dc[0]!==ib.peek(dc)){var Vc=F.range,ed=F.padding;var fd=F.exponent;var Qd=F.constant;Vc=Math.abs(ib.peek(Vc)-Vc[0]);ed=Vc/(Vc-2*ed);fd=nc===P.Log?ib.zoomLog(dc,null,ed):nc===P.Sqrt?ib.zoomPow(dc,null,ed,.5):nc===P.Pow?ib.zoomPow(dc,null,
ed,fd||1):nc===P.Symlog?ib.zoomSymlog(dc,null,ed,Qd||1):ib.zoomLinear(dc,null,ed);dc=dc.slice();dc[0]=fd[0];dc[dc.length-1]=fd[1]}if(ic||null!=F.domainMin||null!=F.domainMax||null!=F.domainMid)fd=(dc=dc.slice()).length-1||1,ic&&(0<dc[0]&&(dc[0]=0),0>dc[fd]&&(dc[fd]=0)),null!=F.domainMin&&(dc[0]=F.domainMin),null!=F.domainMax&&(dc[fd]=F.domainMax),null!=F.domainMid&&(ic=F.domainMid,Qd=ic>dc[fd]?fd+1:ic<dc[0]?0:fd,Qd!==fd&&Na.warn("Scale domainMid exceeds domain min or max.",ic),dc.splice(Qd,0,ic));
Za.domain(Y(nc,dc,Na));nc===P.Ordinal&&Za.unknown(F.domainImplicit?P.scaleImplicit:void 0);F.nice&&Za.nice&&Za.nice(!0!==F.nice&&P.tickCount(Za,F.nice)||null);Na=dc.length}else Na=0}(nc=F.bins)&&!ib.isArray(nc)&&(ic=Gb.domain(),Za=ic[0],ic=ib.peek(ic),dc=nc.step,fd=null==nc.start?Za:nc.start,nc=null==nc.stop?ic:nc.stop,dc||ib.error("Scale bins parameter missing step property."),fd<Za&&(fd=dc*Math.ceil(Za/dc)),nc>ic&&(nc=dc*Math.floor(ic/dc)),nc=Yb(fd,nc+dc/2,dc));nc?Gb.bins=nc:Gb.bins&&delete Gb.bins;
Gb.type===P.BinOrdinal&&(nc?F.domain||F.domainRaw||(Gb.domain(nc),Na=nc.length):Gb.bins=Gb.domain());Za=Na;a:{Gb=kb.type;Na=F.round||!1;nc=F.range;if(null!=F.rangeStep)Gb!==P.Band&&Gb!==P.Point&&ib.error("Only band and point scales support rangeStep."),nc=[0,F.rangeStep*P.bandSpace(Za,Gb===P.Point?1:(null!=F.paddingInner?F.paddingInner:F.padding)||0,(null!=F.paddingOuter?F.paddingOuter:F.padding)||0)];else if(F.scheme&&(nc=F.schemeExtent,ib.isArray(F.scheme)?ic=P.interpolateColors(F.scheme,F.interpolate,
F.interpolateGamma):(ic=F.scheme.toLowerCase(),(ic=P.scheme(ic))||ib.error(`Unrecognized scheme name: ${F.scheme}`)),Za=Gb===P.Threshold?Za+1:Gb===P.BinOrdinal?Za-1:Gb===P.Quantile||Gb===P.Quantize?+F.schemeCount||5:Za,nc=P.isInterpolating(Gb)?t(ic,nc,F.reverse):ib.isFunction(ic)?P.quantizeInterpolator(t(ic,nc),Za):Gb===P.Ordinal?ic:ic.slice(0,Za),ib.isFunction(nc)))if(kb.interpolator){kb.interpolator(nc);break a}else ib.error(`Scale type ${Gb} does not support interpolating color schemes.`);nc&&
P.isInterpolating(Gb)?kb.interpolator(P.interpolateColors(L(nc,F.reverse),F.interpolate,F.interpolateGamma)):(nc&&F.interpolate&&kb.interpolate?kb.interpolate(P.interpolate(F.interpolate,F.interpolateGamma)):ib.isFunction(kb.round)?kb.round(Na):ib.isFunction(kb.rangeRound)&&kb.interpolate(Na?H:E),nc&&kb.range(L(nc,F.reverse)))}return ya.fork(ya.NO_SOURCE|ya.NO_FIELDS)}});ib.inherits(va,k.Transform,{transform(F,ya){const Na=F.modified("sort")||ya.changed(ya.ADD)||ya.modified(F.sort.fields)||ya.modified("datum");
Na&&ya.source.sort(k.stableCompare(F.sort));this.modified(Na);return ya}});const wb=["y0","y1"];La.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":wb}]};ib.inherits(La,k.Transform,{transform(F,ya){var Na=F.as||wb,Za=Na[0],kb=Na[1],Gb=k.stableCompare(F.sort),nc=F.field||
ib.one,dc="center"===F.offset?Wa:"normalize"===F.offset?$a:X,ic;Gb=Ca(ya.source,F.groupby,Gb,nc);var Vc=0;var ed=Gb.length;for(ic=Gb.max;Vc<ed;++Vc)dc(Gb[Vc],ic,nc,Za,kb);return ya.reflow(F.modified()).modifies(Na)}});v.axisticks=Hb;v.datajoin=ac;v.encode=uc;v.legendentries=Cb;v.linkpath=jc;v.pie=ub;v.scale=Aa;v.sortitems=va;v.stack=La})};
shadow$provide[36]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(32)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function*P(I){for(const ka of I)yield*ka}function ib(I){return 1<I?0:-1>I?ic:Math.acos(I)}function Hb(I){return 1<I?Vc:-1>I?-Vc:Math.asin(I)}function ac(){}function vc(I,ka){if(I&&Bc.hasOwnProperty(I.type))Bc[I.type](I,
ka)}function Ac(I,ka,ta){var Ja=-1;ta=I.length-ta;for(ka.lineStart();++Ja<ta;){var jb=I[Ja];ka.point(jb[0],jb[1],jb[2])}ka.lineEnd()}function uc(I,ka){var ta=-1,Ja=I.length;for(ka.polygonStart();++ta<Ja;)Ac(I[ta],ka,1);ka.polygonEnd()}function Cb(I,ka){if(I&&Xb.hasOwnProperty(I.type))Xb[I.type](I,ka);else vc(I,ka)}function jc(I){return[de(I[1],I[0]),Hb(I[2])]}function Yb(I){var ka=I[0];I=I[1];var ta=Ud(I);return[ta*Ud(ka),ta*la(ka),la(I)]}function Ua(I,ka){return I[0]*ka[0]+I[1]*ka[1]+I[2]*ka[2]}
function ub(I,ka){return[I[1]*ka[2]-I[2]*ka[1],I[2]*ka[0]-I[0]*ka[2],I[0]*ka[1]-I[1]*ka[0]]}function Kb(I,ka){I[0]+=ka[0];I[1]+=ka[1];I[2]+=ka[2]}function Lb(I,ka){return[I[0]*ka,I[1]*ka,I[2]*ka]}function Db(I){var ka=fb(I[0]*I[0]+I[1]*I[1]+I[2]*I[2]);I[0]/=ka;I[1]/=ka;I[2]/=ka}function Pb(I,ka){function ta(Ja,jb){return Ja=I(Ja,jb),ka(Ja[0],Ja[1])}I.invert&&ka.invert&&(ta.invert=function(Ja,jb){return Ja=ka.invert(Ja,jb),Ja&&I.invert(Ja[0],Ja[1])});return ta}function ab(I,ka){Fd(I)>ic&&(I-=Math.round(I/
fd)*fd);return[I,ka]}function pb(I,ka,ta){return(I%=fd)?ka||ta?Pb(Da(I),Ka(ka,ta)):Da(I):ka||ta?Ka(ka,ta):ab}function Qa(I){return function(ka,ta){ka+=I;Fd(ka)>ic&&(ka-=Math.round(ka/fd)*fd);return[ka,ta]}}function Da(I){var ka=Qa(I);ka.invert=Qa(-I);return ka}function Ka(I,ka){function ta(qc,rc){var Kc=Ud(rc),Bd=Ud(qc)*Kc;qc=la(qc)*Kc;rc=la(rc);Kc=rc*Ja+Bd*jb;return[de(qc*vb-Kc*pc,Bd*Ja-rc*jb),Hb(Kc*vb+qc*pc)]}var Ja=Ud(I),jb=la(I),vb=Ud(ka),pc=la(ka);ta.invert=function(qc,rc){var Kc=Ud(rc),Bd=Ud(qc)*
Kc;qc=la(qc)*Kc;rc=la(rc);Kc=rc*vb-qc*pc;return[de(qc*vb+rc*pc,Bd*Ja+Kc*jb),Hb(Kc*Ja-Bd*jb)]};return ta}function lb(I){function ka(ta){ta=I(ta[0]*Td,ta[1]*Td);return ta[0]*=Qd,ta[1]*=Qd,ta}I=pb(I[0]*Td,I[1]*Td,2<I.length?I[2]*Td:0);ka.invert=function(ta){ta=I.invert(ta[0]*Td,ta[1]*Td);return ta[0]*=Qd,ta[1]*=Qd,ta};return ka}function mb(I,ka){ka=Yb(ka);ka[0]-=I;Db(ka);I=ib(-ka[1]);return((0>-ka[2]?-I:I)+fd-1E-6)%fd}function Pa(){var I=[],ka;return{point:function(ta,Ja,jb){ka.push([ta,Ja,jb])},lineStart:function(){I.push(ka=
[])},lineEnd:ac,rejoin:function(){1<I.length&&I.push(I.pop().concat(I.shift()))},result:function(){var ta=I;I=[];ka=null;return ta}}}function xb(I,ka){return 1E-6>Fd(I[0]-ka[0])&&1E-6>Fd(I[1]-ka[1])}function sb(I,ka,ta,Ja){this.x=I;this.z=ka;this.o=ta;this.e=Ja;this.v=!1;this.n=this.p=null}function Qb(I,ka,ta,Ja,jb){var vb=[],pc=[];I.forEach(function(Hc){if(!(0>=($c=Hc.length-1))){var $c,yd=Hc[0],Dd=Hc[$c];if(xb(yd,Dd)){if(!yd[2]&&!Dd[2]){jb.lineStart();for(qc=0;qc<$c;++qc)jb.point((yd=Hc[qc])[0],
yd[1]);jb.lineEnd();return}Dd[0]+=2E-6}vb.push($c=new sb(yd,Hc,null,!0));pc.push($c.o=new sb(yd,null,$c,!1));vb.push($c=new sb(Dd,Hc,null,!1));pc.push($c.o=new sb(Dd,null,$c,!0))}});if(vb.length){pc.sort(ka);Wb(vb);Wb(pc);var qc=0;for(I=pc.length;qc<I;++qc)pc[qc].e=ta=!ta;ta=vb[0];for(var rc;;){for(var Kc=ta,Bd=!0;Kc.v;)if((Kc=Kc.n)===ta)return;ka=Kc.z;jb.lineStart();do{Kc.v=Kc.o.v=!0;if(Kc.e){if(Bd)for(qc=0,I=ka.length;qc<I;++qc)jb.point((rc=ka[qc])[0],rc[1]);else Ja(Kc.x,Kc.n.x,1,jb);Kc=Kc.n}else{if(Bd)for(ka=
Kc.p.z,qc=ka.length-1;0<=qc;--qc)jb.point((rc=ka[qc])[0],rc[1]);else Ja(Kc.x,Kc.p.x,-1,jb);Kc=Kc.p}Kc=Kc.o;ka=Kc.z;Bd=!Bd}while(!Kc.v);jb.lineEnd()}}}function Wb(I){if(ka=I.length){for(var ka,ta=0,Ja=I[0],jb;++ta<ka;)Ja.n=jb=I[ta],jb.p=Ja,Ja=jb;Ja.n=jb=I[0];jb.p=Ja}}function nb(I){return Fd(I[0])<=ic?I[0]:za(I[0])*((Fd(I[0])+ic)%fd-ic)}function pa(I,ka,ta,Ja){return function(jb){function vb(Ld,he){I(Ld,he)&&jb.point(Ld,he)}function pc(Ld,he){$c.point(Ld,he)}function qc(){ze.point=pc;$c.lineStart()}
function rc(){ze.point=vb;$c.lineEnd()}function Kc(Ld,he){wd.push([Ld,he]);Dd.point(Ld,he)}function Bd(){Dd.lineStart();wd=[]}function Hc(){Kc(wd[0][0],wd[0][1]);Dd.lineEnd();var Ld=Dd.clean(),he=yd.result(),Fe=he.length,lf;wd.pop();Ee.push(wd);wd=null;if(Fe)if(Ld&1){if(Fe=he[0],0<(he=Fe.length-1)){Kd||(jb.polygonStart(),Kd=!0);jb.lineStart();for(Ld=0;Ld<he;++Ld)jb.point((lf=Fe[Ld])[0],lf[1]);jb.lineEnd()}}else 1<Fe&&Ld&2&&he.push(he.pop().concat(he.shift())),Be.push(he.filter(Z))}var $c=ka(jb),yd=
Pa(),Dd=ka(yd),Kd=!1,Ee,Be,wd,ze={point:vb,lineStart:qc,lineEnd:rc,polygonStart:function(){ze.point=Kc;ze.lineStart=Bd;ze.lineEnd=Hc;Be=[];Ee=[]},polygonEnd:function(){ze.point=vb;ze.lineStart=qc;ze.lineEnd=rc;Be=Array.from(P(Be));var Ld=Ee;var he=nb(Ja),Fe=Ja[1],lf=la(Fe),vf=[la(he),-Ud(he),0],Ie=0,ne=0,Cf=new dc;1===lf?Fe=Vc+1E-6:-1===lf&&(Fe=-Vc-1E-6);lf=0;for(var If=Ld.length;lf<If;++lf)if(bg=(jf=Ld[lf]).length){var jf,bg,Yd=jf[bg-1],ef=nb(Yd),mf=Yd[1]/2+ed,af=la(mf),Hf=Ud(mf);for(mf=0;mf<bg;++mf,
ef=yf,af=zf,Hf=Eg,Yd=Jf){var Jf=jf[mf],yf=nb(Jf);Eg=Jf[1]/2+ed;var zf=la(Eg),Eg=Ud(Eg),eg=yf-ef,wf=0<=eg?1:-1,Kf=wf*eg,dg=Kf>ic;af*=zf;Cf.add(de(af*wf*la(Kf),Hf*Eg+af*Ud(Kf)));Ie+=dg?eg+wf*fd:eg;dg^ef>=he^yf>=he&&(Yd=ub(Yb(Yd),Yb(Jf)),Db(Yd),ef=ub(vf,Yd),Db(ef),ef=(dg^0<=eg?-1:1)*Hb(ef[2]),Fe>ef||Fe===ef&&(Yd[0]||Yd[1]))&&(ne+=dg^0<=eg?1:-1)}}Ld=(-1E-6>Ie||1E-6>Ie&&-1E-12>Cf)^ne&1;Be.length?(Kd||(jb.polygonStart(),Kd=!0),Qb(Be,Fa,Ld,ta,jb)):Ld&&(Kd||(jb.polygonStart(),Kd=!0),jb.lineStart(),ta(null,
null,1,jb),jb.lineEnd());Kd&&(jb.polygonEnd(),Kd=!1);Be=Ee=null},sphere:function(){jb.polygonStart();jb.lineStart();ta(null,null,1,jb);jb.lineEnd();jb.polygonEnd()}};return ze}}function Z(I){return 1<I.length}function Fa(I,ka){return(0>(I=I.x)[0]?I[1]-Vc-1E-6:Vc-I[1])-(0>(ka=ka.x)[0]?ka[1]-Vc-1E-6:Vc-ka[1])}function Ga(I){function ka(rc,Kc){return Ud(rc)*Ud(Kc)>jb}function ta(rc,Kc,Bd){var Hc=Yb(rc),$c=Yb(Kc),yd=[1,0,0];$c=ub(Hc,$c);var Dd=Ua($c,$c);Hc=$c[0];var Kd=Dd-Hc*Hc;if(!Kd)return!Bd&&rc;Dd=
jb*Dd/Kd;Kd=-jb*Hc/Kd;Hc=ub(yd,$c);yd=Lb(yd,Dd);$c=Lb($c,Kd);Kb(yd,$c);$c=Ua(yd,Hc);Dd=Ua(Hc,Hc);Kd=$c*$c-Dd*(Ua(yd,yd)-1);if(!(0>Kd)){var Ee=fb(Kd);Kd=Lb(Hc,(-$c-Ee)/Dd);Kb(Kd,yd);Kd=jc(Kd);if(!Bd)return Kd;Bd=rc[0];var Be=Kc[0];rc=rc[1];Kc=Kc[1];if(Be<Bd){var wd=Bd;Bd=Be;Be=wd}var ze=Be-Bd,Ld=1E-6>Fd(ze-ic);!Ld&&Kc<rc&&(wd=rc,rc=Kc,Kc=wd);if(Ld||1E-6>ze?Ld?0<rc+Kc^Kd[1]<(1E-6>Fd(Kd[0]-Bd)?rc:Kc):rc<=Kd[1]&&Kd[1]<=Kc:ze>ic^(Bd<=Kd[0]&&Kd[0]<=Be))return Kc=Lb(Hc,(-$c+Ee)/Dd),Kb(Kc,yd),[Kd,jc(Kc)]}}
function Ja(rc,Kc){var Bd=pc?I:ic-I,Hc=0;rc<-Bd?Hc|=1:rc>Bd&&(Hc|=2);Kc<-Bd?Hc|=4:Kc>Bd&&(Hc|=8);return Hc}var jb=Ud(I),vb=6*Td,pc=0<jb,qc=1E-6<Fd(jb);return pa(ka,function(rc){var Kc,Bd,Hc,$c,yd;return{lineStart:function(){$c=Hc=!1;yd=1},point:function(Dd,Kd){var Ee=[Dd,Kd],Be=ka(Dd,Kd);Kd=pc?Be?0:Ja(Dd,Kd):Be?Ja(Dd+(0>Dd?ic:-ic),Kd):0;!Kc&&($c=Hc=Be)&&rc.lineStart();Be!==Hc&&(Dd=ta(Kc,Ee),!Dd||xb(Kc,Dd)||xb(Ee,Dd))&&(Ee[2]=1);if(Be!==Hc)yd=0,Be?(rc.lineStart(),Dd=ta(Ee,Kc),rc.point(Dd[0],Dd[1])):
(Dd=ta(Kc,Ee),rc.point(Dd[0],Dd[1],2),rc.lineEnd()),Kc=Dd;else if(qc&&Kc&&pc^Be){var wd;Kd&Bd||!(wd=ta(Ee,Kc,!0))||(yd=0,pc?(rc.lineStart(),rc.point(wd[0][0],wd[0][1]),rc.point(wd[1][0],wd[1][1]),rc.lineEnd()):(rc.point(wd[1][0],wd[1][1]),rc.lineEnd(),rc.lineStart(),rc.point(wd[0][0],wd[0][1],3)))}!Be||Kc&&xb(Kc,Ee)||rc.point(Ee[0],Ee[1]);Kc=Ee;Hc=Be;Bd=Kd},lineEnd:function(){Hc&&rc.lineEnd();Kc=null},clean:function(){return yd|($c&&Hc)<<1}}},function(rc,Kc,Bd,Hc){var $c=rc;if(vb){rc=Ud(I);var yd=
la(I),Dd=Bd*vb;if(null==$c)$c=I+Bd*fd,Kc=I-Dd/2;else if($c=mb(rc,$c),Kc=mb(rc,Kc),0<Bd?$c<Kc:$c>Kc)$c+=Bd*fd;for(var Kd=$c;0<Bd?Kd>Kc:Kd<Kc;Kd-=Dd)$c=jc([rc,-yd*Ud(Kd),-yd*la(Kd)]),Hc.point($c[0],$c[1])}},pc?[0,-I]:[-ic,I-ic])}function db(I,ka,ta,Ja,jb,vb){var pc=I[0],qc=I[1],rc=0,Kc=1,Bd=ka[0]-pc,Hc=ka[1]-qc;ta-=pc;if(Bd||!(0<ta)){ta/=Bd;if(0>Bd){if(ta<rc)return;ta<Kc&&(Kc=ta)}else if(0<Bd){if(ta>Kc)return;ta>rc&&(rc=ta)}ta=jb-pc;if(Bd||!(0>ta)){ta/=Bd;if(0>Bd){if(ta>Kc)return;ta>rc&&(rc=ta)}else if(0<
Bd){if(ta<rc)return;ta<Kc&&(Kc=ta)}ta=Ja-qc;if(Hc||!(0<ta)){ta/=Hc;if(0>Hc){if(ta<rc)return;ta<Kc&&(Kc=ta)}else if(0<Hc){if(ta>Kc)return;ta>rc&&(rc=ta)}ta=vb-qc;if(Hc||!(0>ta)){ta/=Hc;if(0>Hc){if(ta>Kc)return;ta>rc&&(rc=ta)}else if(0<Hc){if(ta<rc)return;ta<Kc&&(Kc=ta)}0<rc&&(I[0]=pc+rc*Bd,I[1]=qc+rc*Hc);1>Kc&&(ka[0]=pc+Kc*Bd,ka[1]=qc+Kc*Hc);return!0}}}}}function ba(I,ka,ta,Ja){function jb(rc,Kc,Bd,Hc){var $c=0,yd=0;if(null==rc||($c=vb(rc,Bd))!==(yd=vb(Kc,Bd))||0>qc(rc,Kc)^0<Bd){do Hc.point(0===$c||
3===$c?I:ta,1<$c?Ja:ka);while(($c=($c+Bd+4)%4)!==yd)}else Hc.point(Kc[0],Kc[1])}function vb(rc,Kc){return 1E-6>Fd(rc[0]-I)?0<Kc?0:3:1E-6>Fd(rc[0]-ta)?0<Kc?2:1:1E-6>Fd(rc[1]-ka)?0<Kc?1:0:0<Kc?3:2}function pc(rc,Kc){return qc(rc.x,Kc.x)}function qc(rc,Kc){var Bd=vb(rc,1),Hc=vb(Kc,1);return Bd!==Hc?Bd-Hc:0===Bd?Kc[1]-rc[1]:1===Bd?rc[0]-Kc[0]:2===Bd?rc[1]-Kc[1]:Kc[0]-rc[0]}return function(rc){function Kc(Ie,ne){I<=Ie&&Ie<=ta&&ka<=ne&&ne<=Ja&&Hc.point(Ie,ne)}function Bd(Ie,ne){var Cf=I<=Ie&&Ie<=ta&&ka<=
ne&&ne<=Ja;Dd&&Kd.push([Ie,ne]);if(Fe)Ee=Ie,Be=ne,wd=Cf,Fe=!1,Cf&&(Hc.lineStart(),Hc.point(Ie,ne));else if(Cf&&he)Hc.point(Ie,ne);else{var If=[ze=Math.max(-1E9,Math.min(1E9,ze)),Ld=Math.max(-1E9,Math.min(1E9,Ld))],jf=[Ie=Math.max(-1E9,Math.min(1E9,Ie)),ne=Math.max(-1E9,Math.min(1E9,ne))];db(If,jf,I,ka,ta,Ja)?(he||(Hc.lineStart(),Hc.point(If[0],If[1])),Hc.point(jf[0],jf[1]),Cf||Hc.lineEnd(),lf=!1):Cf&&(Hc.lineStart(),Hc.point(Ie,ne),lf=!1)}ze=Ie;Ld=ne;he=Cf}var Hc=rc,$c=Pa(),yd,Dd,Kd,Ee,Be,wd,ze,Ld,
he,Fe,lf,vf={point:Kc,lineStart:function(){vf.point=Bd;Dd&&Dd.push(Kd=[]);Fe=!0;he=!1;ze=Ld=NaN},lineEnd:function(){yd&&(Bd(Ee,Be),wd&&he&&$c.rejoin(),yd.push($c.result()));vf.point=Kc;he&&Hc.lineEnd()},polygonStart:function(){Hc=$c;yd=[];Dd=[];lf=!0},polygonEnd:function(){for(var Ie,ne=Ie=0,Cf=Dd.length;ne<Cf;++ne){var If=Dd[ne],jf=1,bg=If.length,Yd=If[0],ef=Yd[0];for(Yd=Yd[1];jf<bg;++jf){var mf=ef;var af=Yd;Yd=If[jf];ef=Yd[0];Yd=Yd[1];af<=Ja?Yd>Ja&&(ef-mf)*(Ja-af)>(Yd-af)*(I-mf)&&++Ie:Yd<=Ja&&(ef-
mf)*(Ja-af)<(Yd-af)*(I-mf)&&--Ie}}ne=lf&&Ie;Cf=(yd=Array.from(P(yd))).length;if(ne||Cf)rc.polygonStart(),ne&&(rc.lineStart(),jb(null,null,1,rc),rc.lineEnd()),Cf&&Qb(yd,pc,Ie,jb,rc),rc.polygonEnd();Hc=rc;yd=Dd=Kd=null}};return vf}}function ma(){Wd.point=q}function q(I,ka){Wd.point=M;rd=Gd=I;Hd=$d=ka}function M(I,ka){Nc.add($d*I-Gd*ka);Gd=I;$d=ka}function Q(){M(rd,Hd)}function g(I,ka){uf+=I;U+=ka;++ua}function u(){Dc.point=m}function m(I,ka){Dc.point=C;g(bc=I,Pc=ka)}function C(I,ka){var ta=I-bc,Ja=
ka-Pc;ta=fb(ta*ta+Ja*Ja);cb+=ta*(bc+I)/2;Ab+=ta*(Pc+ka)/2;ec+=ta;g(bc=I,Pc=ka)}function B(){Dc.point=g}function A(){Dc.point=H}function E(){V(fa,Sa)}function H(I,ka){Dc.point=V;g(fa=bc=I,Sa=Pc=ka)}function V(I,ka){var ta=I-bc,Ja=ka-Pc;ta=fb(ta*ta+Ja*Ja);cb+=ta*(bc+I)/2;Ab+=ta*(Pc+ka)/2;ec+=ta;ta=Pc*I-bc*ka;Cc+=ta*(bc+I);$b+=ta*(Pc+ka);J+=3*ta;g(bc=I,Pc=ka)}function Aa(I){this._context=I}function Y(I,ka){Lc.point=t;Ra=oc=I;eb=vd=ka}function t(I,ka){oc-=I;vd-=ka;gd.add(fb(oc*oc+vd*vd));oc=I;vd=ka}function L(I){let ka=
1;this._+=I[0];for(const ta=I.length;ka<ta;++ka)this._+=arguments[ka]+I[ka]}function va(I){const ka=Math.floor(I);if(!(0<=ka))throw new RangeError(`invalid digits: ${I}`);if(15<ka)return L;if(ka!==Qc){const ta=Math.pow(10,ka);Qc=ka;sd=function(Ja){let jb=1;this._+=Ja[0];for(const vb=Ja.length;jb<vb;++jb)this._+=Math.round(arguments[jb]*ta)/ta+Ja[jb]}}return sd}function La(I,ka){function ta(qc){qc&&("function"===typeof jb&&pc.pointRadius(+jb.apply(this,arguments)),Cb(qc,vb(pc)));return pc.result()}
let Ja=3,jb=4.5,vb,pc;ta.area=function(qc){Cb(qc,vb(ae));return ae.result()};ta.measure=function(qc){Cb(qc,vb(Wc));return Wc.result()};ta.bounds=function(qc){Cb(qc,vb(se));return se.result()};ta.centroid=function(qc){Cb(qc,vb(Tc));return Tc.result()};ta.projection=function(qc){if(!arguments.length)return I;vb=null==qc?(I=null,Gc):(I=qc).stream;return ta};ta.context=function(qc){if(!arguments.length)return ka;pc=null==qc?(ka=null,new Cd(Ja)):new Aa(ka=qc);"function"!==typeof jb&&pc.pointRadius(jb);
return ta};ta.pointRadius=function(qc){if(!arguments.length)return jb;jb="function"===typeof qc?qc:(pc.pointRadius(+qc),+qc);return ta};ta.digits=function(qc){if(!arguments.length)return Ja;if(null==qc)Ja=null;else{const rc=Math.floor(qc);if(!(0<=rc))throw new RangeError(`invalid digits: ${qc}`);Ja=rc}null===ka&&(pc=new Cd(Ja));return ta};return ta.projection(I).digits(Ja).context(ka)}function Wa(I){return function(ka){var ta=new $a,Ja;for(Ja in I)ta[Ja]=I[Ja];ta.stream=ka;return ta}}function $a(){}
function X(I,ka,ta){var Ja=I.clipExtent&&I.clipExtent();I.scale(150).translate([0,0]);null!=Ja&&I.clipExtent(null);Cb(ta,I.stream(se));ka(se.result());null!=Ja&&I.clipExtent(Ja);return I}function Ca(I,ka,ta){return X(I,function(Ja){var jb=ka[1][0]-ka[0][0],vb=ka[1][1]-ka[0][1],pc=Math.min(jb/(Ja[1][0]-Ja[0][0]),vb/(Ja[1][1]-Ja[0][1]));jb=+ka[0][0]+(jb-pc*(Ja[1][0]+Ja[0][0]))/2;Ja=+ka[0][1]+(vb-pc*(Ja[1][1]+Ja[0][1]))/2;I.scale(150*pc).translate([jb,Ja])},ta)}function Xa(I,ka,ta){return X(I,function(Ja){var jb=
+ka,vb=jb/(Ja[1][0]-Ja[0][0]);jb=(jb-vb*(Ja[1][0]+Ja[0][0]))/2;Ja=-vb*Ja[0][1];I.scale(150*vb).translate([jb,Ja])},ta)}function Jb(I,ka,ta){return X(I,function(Ja){var jb=+ka,vb=jb/(Ja[1][1]-Ja[0][1]),pc=-vb*Ja[0][0];Ja=(jb-vb*(Ja[1][1]+Ja[0][1]))/2;I.scale(150*vb).translate([pc,Ja])},ta)}function yc(I){return Wa({point:function(ka,ta){ka=I(ka,ta);this.stream.point(ka[0],ka[1])}})}function sc(I,ka){function ta(Ja,jb,vb,pc,qc,rc,Kc,Bd,Hc,$c,yd,Dd,Kd,Ee){var Be=Kc-Ja,wd=Bd-jb,ze=Be*Be+wd*wd;if(ze>4*
ka&&Kd--){var Ld=pc+$c,he=qc+yd,Fe=rc+Dd,lf=fb(Ld*Ld+he*he+Fe*Fe),vf=Hb(Fe/=lf),Ie=1E-6>Fd(Fd(Fe)-1)||1E-6>Fd(vb-Hc)?(vb+Hc)/2:de(he,Ld),ne=I(Ie,vf);vf=ne[0];ne=ne[1];var Cf=vf-Ja,If=ne-jb,jf=wd*Cf-Be*If;if(jf*jf/ze>ka||.3<Fd((Be*Cf+wd*If)/ze-.5)||pc*$c+qc*yd+rc*Dd<be)ta(Ja,jb,vb,pc,qc,rc,vf,ne,Ie,Ld/=lf,he/=lf,Fe,Kd,Ee),Ee.point(vf,ne),ta(vf,ne,Ie,Ld,he,Fe,Kc,Bd,Hc,$c,yd,Dd,Kd,Ee)}}return function(Ja){function jb(vf,Ie){vf=I(vf,Ie);Ja.point(vf[0],vf[1])}function vb(){wd=NaN;lf.point=pc;Ja.lineStart()}
function pc(vf,Ie){var ne=Yb([vf,Ie]);Ie=I(vf,Ie);ta(wd,ze,Be,Ld,he,Fe,wd=Ie[0],ze=Ie[1],Be=vf,Ld=ne[0],he=ne[1],Fe=ne[2],16,Ja);Ja.point(wd,ze)}function qc(){lf.point=jb;Ja.lineEnd()}function rc(){vb();lf.point=Kc;lf.lineEnd=Bd}function Kc(vf,Ie){pc(Hc=vf,Ie);$c=wd;yd=ze;Dd=Ld;Kd=he;Ee=Fe;lf.point=pc}function Bd(){ta(wd,ze,Be,Ld,he,Fe,$c,yd,Hc,Dd,Kd,Ee,16,Ja);lf.lineEnd=qc;qc()}var Hc,$c,yd,Dd,Kd,Ee,Be,wd,ze,Ld,he,Fe,lf={point:jb,lineStart:vb,lineEnd:qc,polygonStart:function(){Ja.polygonStart();
lf.lineStart=rc},polygonEnd:function(){Ja.polygonEnd();lf.lineStart=vb}};return lf}}function xc(I){return Wa({point:function(ka,ta){ka=I(ka,ta);return this.stream.point(ka[0],ka[1])}})}function dd(I,ka,ta,Ja,jb){function vb(pc,qc){pc*=Ja;qc*=jb;return[ka+I*pc,ta-I*qc]}vb.invert=function(pc,qc){return[(pc-ka)/I*Ja,(ta-qc)/I*jb]};return vb}function Zb(I,ka,ta,Ja,jb,vb){function pc(Dd,Kd){Dd*=Ja;Kd*=jb;return[rc*Dd-Kc*Kd+ka,ta-Kc*Dd-rc*Kd]}if(!vb)return dd(I,ka,ta,Ja,jb);var qc=Ud(vb);vb=la(vb);var rc=
qc*I,Kc=vb*I,Bd=qc/I,Hc=vb/I,$c=(vb*ta-qc*ka)/I,yd=(vb*ka+qc*ta)/I;pc.invert=function(Dd,Kd){return[Ja*(Bd*Dd-Hc*Kd+$c),jb*(yd-Hc*Dd-Bd*Kd)]};return pc}function Sc(I){return Pd(function(){return I})()}function Pd(I){function ka(Yd){return If(Yd[0]*Td,Yd[1]*Td)}function ta(Yd){return(Yd=If.invert(Yd[0],Yd[1]))&&[Yd[0]*Qd,Yd[1]*Qd]}function Ja(){var Yd=Zb(pc,0,0,Ee,Be,Kd).apply(null,vb(Kc,Bd));Yd=Zb(pc,qc-Yd[0],rc-Yd[1],Ee,Be,Kd);Dd=pb(Hc,$c,yd);Cf=Pb(vb,Yd);If=Pb(Dd,Cf);Yd=Cf;ne=+Ie?sc(Yd,Ie):yc(Yd);
return jb()}function jb(){jf=bg=null;return ka}var vb,pc=150,qc=480,rc=250,Kc=0,Bd=0,Hc=0,$c=0,yd=0,Dd,Kd=0,Ee=1,Be=1,wd=null,ze=lc,Ld=null,he,Fe,lf,vf=Gc,Ie=.5,ne,Cf,If,jf,bg;ka.stream=function(Yd){return jf&&bg===Yd?jf:jf=xe(xc(Dd)(ze(ne(vf(bg=Yd)))))};ka.preclip=function(Yd){return arguments.length?(ze=Yd,wd=void 0,jb()):ze};ka.postclip=function(Yd){return arguments.length?(vf=Yd,Ld=he=Fe=lf=null,jb()):vf};ka.clipAngle=function(Yd){return arguments.length?(ze=+Yd?Ga(wd=Yd*Td):(wd=null,lc),jb()):
wd*Qd};ka.clipExtent=function(Yd){return arguments.length?(vf=null==Yd?(Ld=he=Fe=lf=null,Gc):ba(Ld=+Yd[0][0],he=+Yd[0][1],Fe=+Yd[1][0],lf=+Yd[1][1]),jb()):null==Ld?null:[[Ld,he],[Fe,lf]]};ka.scale=function(Yd){return arguments.length?(pc=+Yd,Ja()):pc};ka.translate=function(Yd){return arguments.length?(qc=+Yd[0],rc=+Yd[1],Ja()):[qc,rc]};ka.center=function(Yd){return arguments.length?(Kc=Yd[0]%360*Td,Bd=Yd[1]%360*Td,Ja()):[Kc*Qd,Bd*Qd]};ka.rotate=function(Yd){return arguments.length?(Hc=Yd[0]%360*Td,
$c=Yd[1]%360*Td,yd=2<Yd.length?Yd[2]%360*Td:0,Ja()):[Hc*Qd,$c*Qd,yd*Qd]};ka.angle=function(Yd){return arguments.length?(Kd=Yd%360*Td,Ja()):Kd*Qd};ka.reflectX=function(Yd){return arguments.length?(Ee=Yd?-1:1,Ja()):0>Ee};ka.reflectY=function(Yd){return arguments.length?(Be=Yd?-1:1,Ja()):0>Be};ka.precision=function(Yd){if(arguments.length){var ef=Cf;var mf=Ie=Yd*Yd;ef=(ne=+mf?sc(ef,mf):yc(ef),jb())}else ef=fb(Ie);return ef};ka.fitExtent=function(Yd,ef){return Ca(ka,Yd,ef)};ka.fitSize=function(Yd,ef){return Ca(ka,
[[0,0],Yd],ef)};ka.fitWidth=function(Yd,ef){return Xa(ka,Yd,ef)};ka.fitHeight=function(Yd,ef){return Jb(ka,Yd,ef)};return function(){vb=I.apply(this,arguments);ka.invert=vb.invert&&ta;return Ja()}}function Ma(I){var ka=0,ta=ic/3,Ja=Pd(I);I=Ja(ka,ta);I.parallels=function(jb){return arguments.length?Ja(ka=jb[0]*Td,ta=jb[1]*Td):[ka*Qd,ta*Qd]};return I}function Vb(I){function ka(Ja,jb){return[Ja*ta,la(jb)/ta]}var ta=Ud(I);ka.invert=function(Ja,jb){return[Ja/ta,Hb(jb*ta)]};return ka}function qb(I,ka){function ta(qc,
rc){rc=fb(vb-2*jb*la(rc))/jb;return[rc*la(qc*=jb),pc-rc*Ud(qc)]}var Ja=la(I),jb=(Ja+la(ka))/2;if(1E-6>Fd(jb))return Vb(I);var vb=1+Ja*(2*jb-Ja),pc=fb(vb)/jb;ta.invert=function(qc,rc){rc=pc-rc;var Kc=de(qc,Fd(rc))*za(rc);0>rc*jb&&(Kc-=ic*za(qc)*za(rc));return[Kc/jb,Hb((vb-(qc*qc+rc*rc)*jb*jb)/(2*jb))]};return ta}function Tb(){return Ma(qb).scale(155.424).center([0,33.6442])}function gc(){return Tb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function cc(I){var ka=
I.length;return{point:function(ta,Ja){for(var jb=-1;++jb<ka;)I[jb].point(ta,Ja)},sphere:function(){for(var ta=-1;++ta<ka;)I[ta].sphere()},lineStart:function(){for(var ta=-1;++ta<ka;)I[ta].lineStart()},lineEnd:function(){for(var ta=-1;++ta<ka;)I[ta].lineEnd()},polygonStart:function(){for(var ta=-1;++ta<ka;)I[ta].polygonStart()},polygonEnd:function(){for(var ta=-1;++ta<ka;)I[ta].polygonEnd()}}}function Ic(I){return function(ka,ta){var Ja=Ud(ka),jb=Ud(ta);Ja=I(Ja*jb);return Infinity===Ja?[2,0]:[Ja*jb*
la(ka),Ja*la(ta)]}}function zc(I){return function(ka,ta){var Ja=fb(ka*ka+ta*ta),jb=I(Ja),vb=la(jb);jb=Ud(jb);return[de(ka*vb,Ja*jb),Hb(Ja&&ta*vb/Ja)]}}function Zc(I,ka){return[I,Xd(Ib((Vc+ka)/2))]}function Md(I){function ka(){var Hc=ic*jb(),$c=ta(lb(ta.rotate()).invert([0,0]));return pc(null==qc?[[$c[0]-Hc,$c[1]-Hc],[$c[0]+Hc,$c[1]+Hc]]:I===Zc?[[Math.max($c[0]-Hc,qc),rc],[Math.min($c[0]+Hc,Kc),Bd]]:[[qc,Math.max($c[1]-Hc,rc)],[Kc,Math.min($c[1]+Hc,Bd)]])}var ta=Sc(I),Ja=ta.center,jb=ta.scale,vb=ta.translate,
pc=ta.clipExtent,qc=null,rc,Kc,Bd;ta.scale=function(Hc){return arguments.length?(jb(Hc),ka()):jb()};ta.translate=function(Hc){return arguments.length?(vb(Hc),ka()):vb()};ta.center=function(Hc){return arguments.length?(Ja(Hc),ka()):Ja()};ta.clipExtent=function(Hc){return arguments.length?(null==Hc?qc=rc=Kc=Bd=null:(qc=+Hc[0][0],rc=+Hc[0][1],Kc=+Hc[1][0],Bd=+Hc[1][1]),ka()):null==qc?null:[[qc,rc],[Kc,Bd]]};return ka()}function td(I,ka){function ta(pc,qc){0<vb?qc<-Vc+1E-6&&(qc=-Vc+1E-6):qc>Vc-1E-6&&
(qc=Vc-1E-6);qc=vb/N(Ib((Vc+qc)/2),jb);return[qc*la(jb*pc),vb-qc*Ud(jb*pc)]}var Ja=Ud(I),jb=I===ka?la(I):Xd(Ja/Ud(ka))/Xd(Ib((Vc+ka)/2)/Ib((Vc+I)/2)),vb=Ja*N(Ib((Vc+I)/2),jb)/jb;if(!jb)return Zc;ta.invert=function(pc,qc){qc=vb-qc;var rc=za(jb)*fb(pc*pc+qc*qc),Kc=de(pc,Fd(qc))*za(qc);0>qc*jb&&(Kc-=ic*za(pc)*za(qc));return[Kc/jb,2*Zd(N(vb/rc,1/jb))-Vc]};return ta}function Ha(I,ka){return[I,ka]}function gb(I,ka){function ta(pc,qc){qc=vb-qc;pc*=jb;return[qc*la(pc),vb-qc*Ud(pc)]}var Ja=Ud(I),jb=I===ka?
la(I):(Ja-Ud(ka))/(ka-I),vb=Ja/jb+I;if(1E-6>Fd(jb))return Ha;ta.invert=function(pc,qc){qc=vb-qc;var rc=de(pc,Fd(qc))*za(qc);0>qc*jb&&(rc-=ic*za(pc)*za(qc));return[rc/jb,vb-za(jb)*fb(pc*pc+qc*qc)]};return ta}function wb(I,ka){ka=Hb(df*la(ka));var ta=ka*ka,Ja=ta*ta*ta;return[I*Ud(ka)/(df*(1.340264+3*-.081106*ta+Ja*(7*8.93E-4+.034164*ta))),ka*(1.340264+-.081106*ta+Ja*(8.93E-4+.003796*ta))]}function sa(I,ka){var ta=Ud(ka),Ja=Ud(I)*ta;return[ta*la(I)/Ja,la(ka)/Ja]}function F(I,ka){var ta=ka*ka,Ja=ta*ta;
return[I*(.8707-.131979*ta+Ja*(-.013791+Ja*(.003971*ta-.001529*Ja))),ka*(1.007226+ta*(.015085+Ja*(-.044475+.028874*ta-.005916*Ja)))]}function ya(I,ka){return[Ud(ka)*la(I),la(ka)]}function Na(I,ka){var ta=Ud(ka),Ja=1+Ud(I)*ta;return[ta*la(I)/Ja,la(ka)/Ja]}function Za(I,ka){return[Xd(Ib((Vc+ka)/2)),-I]}function kb(I){return 1<I?Jd:-1>I?-Jd:Math.asin(I)}function Gb(I,ka){return function Ja(){const jb=ka();jb.type=I;jb.path=La().projection(jb);jb.copy=jb.copy||function(){const vb=Ja();O.forEach(pc=>{if(jb[pc])vb[pc](jb[pc]())});
vb.path.pointRadius(jb.path.pointRadius());return vb};return k.registerScale(jb)}}function nc(I,ka){if(!I||"string"!==typeof I)throw Error("Projection type must be a name string.");I=I.toLowerCase();return 1<arguments.length?(ea[I]=Gb(I,ka),this):ea[I]||null}class dc{constructor(){this._partials=new Float64Array(32);this._n=0}add(I){const ka=this._partials;let ta=0;for(let Ja=0;Ja<this._n&&32>Ja;Ja++){const jb=ka[Ja],vb=I+jb;(I=Math.abs(I)<Math.abs(jb)?I-(vb-jb):jb-(vb-I))&&(ka[ta++]=I);I=vb}ka[ta]=
I;this._n=ta+1;return this}valueOf(){const I=this._partials;let ka=this._n;let ta,Ja=0;if(0<ka){for(Ja=I[--ka];0<ka;){var jb=Ja;ta=I[--ka];Ja=jb+ta;if(jb=ta-(Ja-jb))break}0<ka&&(0>jb&&0>I[ka-1]||0<jb&&0<I[ka-1])&&(ta=2*jb,jb=Ja+ta,ta==jb-Ja&&(Ja=jb))}return Ja}}var ic=Math.PI,Vc=ic/2,ed=ic/4,fd=2*ic,Qd=180/ic,Td=ic/180,Fd=Math.abs,Zd=Math.atan,de=Math.atan2,Ud=Math.cos,Ve=Math.exp,Xd=Math.log,N=Math.pow,la=Math.sin,za=Math.sign||function(I){return 0<I?1:0>I?-1:0},fb=Math.sqrt,Ib=Math.tan,Xb={Feature:function(I,
ka){vc(I.geometry,ka)},FeatureCollection:function(I,ka){I=I.features;for(var ta=-1,Ja=I.length;++ta<Ja;)vc(I[ta].geometry,ka)}},Bc={Sphere:function(I,ka){ka.sphere()},Point:function(I,ka){I=I.coordinates;ka.point(I[0],I[1],I[2])},MultiPoint:function(I,ka){for(var ta=I.coordinates,Ja=-1,jb=ta.length;++Ja<jb;)I=ta[Ja],ka.point(I[0],I[1],I[2])},LineString:function(I,ka){Ac(I.coordinates,ka,0)},MultiLineString:function(I,ka){I=I.coordinates;for(var ta=-1,Ja=I.length;++ta<Ja;)Ac(I[ta],ka,0)},Polygon:function(I,
ka){uc(I.coordinates,ka)},MultiPolygon:function(I,ka){I=I.coordinates;for(var ta=-1,Ja=I.length;++ta<Ja;)uc(I[ta],ka)},GeometryCollection:function(I,ka){I=I.geometries;for(var ta=-1,Ja=I.length;++ta<Ja;)vc(I[ta],ka)}};ab.invert=ab;var lc=pa(function(){return!0},function(I){var ka=NaN,ta=NaN,Ja=NaN,jb;return{lineStart:function(){I.lineStart();jb=1},point:function(vb,pc){var qc=0<vb?ic:-ic,rc=Fd(vb-ka);if(1E-6>Fd(rc-ic))I.point(ka,ta=0<(ta+pc)/2?Vc:-Vc),I.point(Ja,ta),I.lineEnd(),I.lineStart(),I.point(qc,
ta),I.point(vb,ta),jb=0;else if(Ja!==qc&&rc>=ic){1E-6>Fd(ka-Ja)&&(ka-=1E-6*Ja);1E-6>Fd(vb-qc)&&(vb-=1E-6*qc);rc=ka;var Kc=ta,Bd=vb,Hc,$c,yd=la(rc-Bd);ta=1E-6<Fd(yd)?Zd((la(Kc)*($c=Ud(pc))*la(Bd)-la(pc)*(Hc=Ud(Kc))*la(rc))/(Hc*$c*yd)):(Kc+pc)/2;I.point(Ja,ta);I.lineEnd();I.lineStart();I.point(qc,ta);jb=0}I.point(ka=vb,ta=pc);Ja=qc},lineEnd:function(){I.lineEnd();ka=ta=NaN},clean:function(){return 2-jb}}},function(I,ka,ta,Ja){null==I?(ta*=Vc,Ja.point(-ic,ta),Ja.point(0,ta),Ja.point(ic,ta),Ja.point(ic,
0),Ja.point(ic,-ta),Ja.point(0,-ta),Ja.point(-ic,-ta),Ja.point(-ic,0),Ja.point(-ic,ta)):1E-6<Fd(I[0]-ka[0])?(I=I[0]<ka[0]?ic:-ic,ta=ta*I/2,Ja.point(-I,ta),Ja.point(0,ta),Ja.point(I,ta)):Ja.point(ka[0],ka[1])},[-ic,-Vc]),Gc=I=>I,id=new dc,Nc=new dc,rd,Hd,Gd,$d,Wd={point:ac,lineStart:ac,lineEnd:ac,polygonStart:function(){Wd.lineStart=ma;Wd.lineEnd=Q},polygonEnd:function(){Wd.lineStart=Wd.lineEnd=Wd.point=ac;id.add(Fd(Nc));Nc=new dc},result:function(){var I=id/2;id=new dc;return I}},ae=Wd,Ae=Infinity,
kf=Ae,hf=-Ae,cf=hf,se={point:function(I,ka){I<Ae&&(Ae=I);I>hf&&(hf=I);ka<kf&&(kf=ka);ka>cf&&(cf=ka)},lineStart:ac,lineEnd:ac,polygonStart:ac,polygonEnd:ac,result:function(){var I=[[Ae,kf],[hf,cf]];hf=cf=-(kf=Ae=Infinity);return I}},uf=0,U=0,ua=0,cb=0,Ab=0,ec=0,Cc=0,$b=0,J=0,fa,Sa,bc,Pc,Dc={point:g,lineStart:u,lineEnd:B,polygonStart:function(){Dc.lineStart=A;Dc.lineEnd=E},polygonEnd:function(){Dc.point=g;Dc.lineStart=u;Dc.lineEnd=B},result:function(){var I=J?[Cc/J,$b/J]:ec?[cb/ec,Ab/ec]:ua?[uf/ua,
U/ua]:[NaN,NaN];uf=U=ua=cb=Ab=ec=Cc=$b=J=0;return I}},Tc=Dc;Aa.prototype={_radius:4.5,pointRadius:function(I){return this._radius=I,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(I,ka){switch(this._point){case 0:this._context.moveTo(I,ka);this._point=1;break;case 1:this._context.lineTo(I,ka);break;default:this._context.moveTo(I+this._radius,
ka),this._context.arc(I,ka,this._radius,0,fd)}},result:ac};var gd=new dc,ee,Ra,eb,oc,vd,Lc={point:ac,lineStart:function(){Lc.point=Y},lineEnd:function(){ee&&t(Ra,eb);Lc.point=ac},polygonStart:function(){ee=!0},polygonEnd:function(){ee=null},result:function(){var I=+gd;gd=new dc;return I}},Wc=Lc;let Qc,sd,jd,Od;class Cd{constructor(I){this._append=null==I?L:va(I);this._radius=4.5;this._=""}pointRadius(I){this._radius=+I;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=
0}lineEnd(){0===this._line&&(this._+="Z");this._point=NaN}point(I,ka){switch(this._point){case 0:this._append`M${I},${ka}`;this._point=1;break;case 1:this._append`L${I},${ka}`;break;default:this._append`M${I},${ka}`;if(this._radius!==jd||this._append!==sd)I=this._radius,ka=this._,this._="",this._append`m0,${I}a${I},${I} 0 1,1 0,${-2*I}a${I},${I} 0 1,1 0,${2*I}z`,jd=I,sd=this._append,Od=this._,this._=ka;this._+=Od}}result(){const I=this._;this._="";return I.length?I:null}}$a.prototype={constructor:$a,
point:function(I,ka){this.stream.point(I,ka)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var be=Ud(30*Td),xe=Wa({point:function(I,ka){this.stream.point(I*Td,ka*Td)}}),Le=Ic(function(I){return fb(2/(1+I))});Le.invert=zc(function(I){return 2*Hb(I/2)});var Xe=Ic(function(I){return(I=ib(I))&&I/la(I)});Xe.invert=zc(function(I){return I});
Zc.invert=function(I,ka){return[I,2*Zd(Ve(ka))-Vc]};Ha.invert=Ha;var df=fb(3)/2;wb.invert=function(I,ka){for(var ta=ka,Ja=ta*ta,jb=Ja*Ja*Ja,vb=0,pc;12>vb&&!(pc=ta*(1.340264+-.081106*Ja+jb*(8.93E-4+.003796*Ja))-ka,Ja=1.340264+3*-.081106*Ja+jb*(7*8.93E-4+.034164*Ja),ta-=pc/=Ja,Ja=ta*ta,jb=Ja*Ja*Ja,1E-12>Fd(pc));++vb);return[df*I*(1.340264+3*-.081106*Ja+jb*(7*8.93E-4+.034164*Ja))/Ud(ta),Hb(la(ta)/df)]};sa.invert=zc(Zd);F.invert=function(I,ka){var ta=ka,Ja=25;do{var jb=ta*ta;var vb=jb*jb;ta-=vb=(ta*(1.007226+
jb*(.015085+vb*(-.044475+.028874*jb-.005916*vb)))-ka)/(1.007226+jb*(.045255+vb*(-.311325+.259866*jb-.005916*11*vb)))}while(1E-6<Fd(vb)&&0<--Ja);return[I/(.8707+(jb=ta*ta)*(-.131979+jb*(-.013791+jb*jb*jb*(.003971-.001529*jb)))),ta]};ya.invert=zc(Hb);Na.invert=zc(function(I){return 2*Zd(I)});Za.invert=function(I,ka){return[-ka,2*Zd(Ve(I))-Vc]};var od=Math.abs,Ec=Math.cos,kd=Math.sin,Fc=Math.PI,Jd=Fc/2,Vd=Math.sqrt(2),ce=function(I,ka,ta){function Ja(jb,vb){var pc=vb,qc=ta*kd(pc),rc=30,Kc;do pc-=Kc=
(pc+kd(pc)-qc)/(1+Ec(pc));while(1E-6<od(Kc)&&0<--rc);return[I*jb*Ec(vb=pc/2),ka*kd(vb)]}Ja.invert=function(jb,vb){return vb=kb(vb/ka),[jb/(I*Ec(vb)),kb((2*vb+kd(2*vb))/ta)]};return Ja}(Vd/Jd,Vd,Fc);const le=La(),O="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),ea={albers:gc,albersusa:function(){function I($c){var yd=$c[0];$c=$c[1];return Bd=null,(vb.point(yd,$c),Bd)||(qc.point(yd,
$c),Bd)||(Kc.point(yd,$c),Bd)}function ka(){ta=Ja=null;return I}var ta,Ja,jb=gc(),vb,pc=Tb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),qc,rc=Tb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Kc,Bd,Hc={point:function($c,yd){Bd=[$c,yd]}};I.invert=function($c){var yd=jb.scale(),Dd=jb.translate(),Kd=($c[0]-Dd[0])/yd;yd=($c[1]-Dd[1])/yd;return(.12<=yd&&.234>yd&&-.425<=Kd&&-.214>Kd?pc:.166<=yd&&.234>yd&&-.214<=Kd&&-.115>Kd?rc:jb).invert($c)};I.stream=function($c){return ta&&Ja===$c?ta:
ta=cc([jb.stream(Ja=$c),pc.stream($c),rc.stream($c)])};I.precision=function($c){if(!arguments.length)return jb.precision();jb.precision($c);pc.precision($c);rc.precision($c);return ka()};I.scale=function($c){if(!arguments.length)return jb.scale();jb.scale($c);pc.scale(.35*$c);rc.scale($c);return I.translate(jb.translate())};I.translate=function($c){if(!arguments.length)return jb.translate();var yd=jb.scale(),Dd=+$c[0],Kd=+$c[1];vb=jb.translate($c).clipExtent([[Dd-.455*yd,Kd-.238*yd],[Dd+.455*yd,Kd+
.238*yd]]).stream(Hc);qc=pc.translate([Dd-.307*yd,Kd+.201*yd]).clipExtent([[Dd-.425*yd+1E-6,Kd+.12*yd+1E-6],[Dd-.214*yd-1E-6,Kd+.234*yd-1E-6]]).stream(Hc);Kc=rc.translate([Dd-.205*yd,Kd+.212*yd]).clipExtent([[Dd-.214*yd+1E-6,Kd+.166*yd+1E-6],[Dd-.115*yd-1E-6,Kd+.234*yd-1E-6]]).stream(Hc);return ka()};I.fitExtent=function($c,yd){return Ca(I,$c,yd)};I.fitSize=function($c,yd){return Ca(I,[[0,0],$c],yd)};I.fitWidth=function($c,yd){return Xa(I,$c,yd)};I.fitHeight=function($c,yd){return Jb(I,$c,yd)};return I.scale(1070)},
azimuthalequalarea:function(){return Sc(Le).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Sc(Xe).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Ma(td).scale(109.5).parallels([30,30])},conicequalarea:Tb,conicequidistant:function(){return Ma(gb).scale(131.154).center([0,13.9389])},equalEarth:function(){return Sc(wb).scale(177.158)},equirectangular:function(){return Sc(Ha).scale(152.63)},gnomonic:function(){return Sc(sa).scale(144.049).clipAngle(60)},identity:function(){function I(){Dd=
ta*vb;Kd=ta*pc;wd=ze=null;return ka}function ka(Ld){var he=Ld[0]*Dd;Ld=Ld[1]*Kd;if(qc){var Fe=Ld*rc-he*Kc;he=he*rc+Ld*Kc;Ld=Fe}return[he+Ja,Ld+jb]}var ta=1,Ja=0,jb=0,vb=1,pc=1,qc=0,rc,Kc,Bd=null,Hc,$c,yd,Dd=1,Kd=1,Ee=Wa({point:function(Ld,he){Ld=ka([Ld,he]);this.stream.point(Ld[0],Ld[1])}}),Be=Gc,wd,ze;ka.invert=function(Ld){var he=Ld[0]-Ja;Ld=Ld[1]-jb;if(qc){var Fe=Ld*rc+he*Kc;he=he*rc-Ld*Kc;Ld=Fe}return[he/Dd,Ld/Kd]};ka.stream=function(Ld){return wd&&ze===Ld?wd:wd=Ee(Be(ze=Ld))};ka.postclip=function(Ld){return arguments.length?
(Be=Ld,Bd=Hc=$c=yd=null,I()):Be};ka.clipExtent=function(Ld){return arguments.length?(Be=null==Ld?(Bd=Hc=$c=yd=null,Gc):ba(Bd=+Ld[0][0],Hc=+Ld[0][1],$c=+Ld[1][0],yd=+Ld[1][1]),I()):null==Bd?null:[[Bd,Hc],[$c,yd]]};ka.scale=function(Ld){return arguments.length?(ta=+Ld,I()):ta};ka.translate=function(Ld){return arguments.length?(Ja=+Ld[0],jb=+Ld[1],I()):[Ja,jb]};ka.angle=function(Ld){return arguments.length?(qc=Ld%360*Td,Kc=la(qc),rc=Ud(qc),I()):qc*Qd};ka.reflectX=function(Ld){return arguments.length?
(vb=Ld?-1:1,I()):0>vb};ka.reflectY=function(Ld){return arguments.length?(pc=Ld?-1:1,I()):0>pc};ka.fitExtent=function(Ld,he){return Ca(ka,Ld,he)};ka.fitSize=function(Ld,he){return Ca(ka,[[0,0],Ld],he)};ka.fitWidth=function(Ld,he){return Xa(ka,Ld,he)};ka.fitHeight=function(Ld,he){return Jb(ka,Ld,he)};return ka},mercator:function(){return Md(Zc).scale(961/fd)},mollweide:function(){return Sc(ce).scale(169.529)},naturalEarth1:function(){return Sc(F).scale(175.295)},orthographic:function(){return Sc(ya).scale(249.5).clipAngle(90.000001)},
stereographic:function(){return Sc(Na).scale(250).clipAngle(142)},transversemercator:function(){var I=Md(Za),ka=I.center,ta=I.rotate;I.center=function(Ja){return arguments.length?ka([-Ja[1],Ja[0]]):(Ja=ka(),[Ja[1],-Ja[0]])};I.rotate=function(Ja){return arguments.length?ta([Ja[0],Ja[1],2<Ja.length?Ja[2]+90:90]):(Ja=ta(),[Ja[0],Ja[1],Ja[2]-90])};return ta([0,0,90]).scale(159.155)}};for(const I in ea)nc(I,ea[I]);v.getProjectionPath=function(I){return I&&I.path||le};v.projection=nc;v.projectionProperties=
O})};
shadow$provide[37]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(28),Fb(20),Fb(29),Fb(36),Fb(31)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Hb,ac){function vc(F,ya,Na){var Za=(ya-F)/Math.max(0,Na),kb=Math.floor(Math.log10(Za));
Za/=Math.pow(10,kb);Za=Za>=Pd?10:Za>=Ma?5:Za>=Vb?2:1;let Gb;0>kb?(Gb=Math.pow(10,-kb)/Za,kb=Math.round(F*Gb),Za=Math.round(ya*Gb),kb/Gb<F&&++kb,Za/Gb>ya&&--Za,Gb=-Gb):(Gb=Math.pow(10,kb)*Za,kb=Math.round(F/Gb),Za=Math.round(ya/Gb),kb*Gb<F&&++kb,Za*Gb>ya&&--Za);return Za<kb&&.5<=Na&&2>Na?vc(F,ya,2*Na):[kb,Za,Gb]}function Ac(F,ya,Na){return vc(+F,+ya,+Na)[2]}function uc(F,ya){let Na;if(void 0===ya)for(var Za of F)null!=Za&&(Na<Za||void 0===Na&&Za>=Za)&&(Na=Za);else{Za=-1;for(let kb of F)null!=(kb=ya(kb,
++Za,F))&&(Na<kb||void 0===Na&&kb>=kb)&&(Na=kb)}return Na}function Cb(F,ya,Na){F=+F;ya=+ya;Na=2>(kb=arguments.length)?(ya=F,F=0,1):3>kb?1:+Na;for(var Za=-1,kb=Math.max(0,Math.ceil((ya-F)/Na))|0,Gb=Array(kb);++Za<kb;)Gb[Za]=F+Za*Na;return Gb}function jc(F,ya){let Na=0;if(void 0===ya)for(var Za of F){if(Za=+Za)Na+=Za}else{Za=-1;for(let kb of F)if(kb=+ya(kb,++Za,F))Na+=kb}return Na}function Yb(){}function Ua(){function F(dc,ic){return ic.map(Vc=>ya(dc,Vc))}function ya(dc,ic){var Vc=[],ed=[];Na(dc,ic,
fd=>{nc(fd,dc,ic);for(var Qd=0,Td=fd.length,Fd=fd[Td-1][1]*fd[0][0]-fd[Td-1][0]*fd[0][1];++Qd<Td;)Fd+=fd[Qd-1][1]*fd[Qd][0]-fd[Qd-1][0]*fd[Qd][1];0<Fd?Vc.push([fd]):ed.push(fd)});ed.forEach(fd=>{for(var Qd=0,Td=Vc.length,Fd;Qd<Td;++Qd){a:{var Zd=(Fd=Vc[Qd])[0];for(var de=fd,Ud=-1,Ve=de.length;++Ud<Ve;){b:{var Xd=Zd;for(var N=de[Ud],la=N[0],za=N[1],fb=-1,Ib=0,Xb=Xd.length,Bc=Xb-1;Ib<Xb;Bc=Ib++){var lc=Xd[Ib],Gc=lc[0],id=lc[1],Nc=Xd[Bc];Bc=Nc[0];var rd=Nc[1],Hd,Gd=lc;lc=Nc;Nc=N;if(Hd=(lc[0]-Gd[0])*
(Nc[1]-Gd[1])===(Nc[0]-Gd[0])*(lc[1]-Gd[1]))Gd=Gd[Hd=+(Gd[0]===lc[0])],Nc=Nc[Hd],lc=lc[Hd],Hd=Gd<=Nc&&Nc<=lc||lc<=Nc&&Nc<=Gd;if(Hd){Xd=0;break b}id>za!==rd>za&&la<(Bc-Gc)*(za-id)/(rd-id)+Gc&&(fb=-fb)}Xd=fb}if(Xd){Zd=Xd;break a}}Zd=0}if(-1!==Zd){Fd.push(fd);break}}});return{type:"MultiPolygon",value:ic,coordinates:Vc}}function Na(dc,ic,Vc){function ed(Xd){var N=[Xd[0][0]+Fd,Xd[0][1]+Td];Xd=[Xd[1][0]+Fd,Xd[1][1]+Td];var la=2*N[0]+N[1]*(kb+1)*4,za=2*Xd[0]+Xd[1]*(kb+1)*4,fb,Ib;(fb=Qd[la])?(Ib=fd[za])?
(delete Qd[fb.end],delete fd[Ib.start],fb===Ib?(fb.ring.push(Xd),Vc(fb.ring)):fd[fb.start]=Qd[Ib.end]={start:fb.start,end:Ib.end,ring:fb.ring.concat(Ib.ring)}):(delete Qd[fb.end],fb.ring.push(Xd),Qd[fb.end=za]=fb):(fb=fd[za])?(Ib=Qd[la])?(delete fd[fb.start],delete Qd[Ib.end],fb===Ib?(fb.ring.push(Xd),Vc(fb.ring)):fd[Ib.start]=Qd[fb.end]={start:Ib.start,end:fb.end,ring:Ib.ring.concat(fb.ring)}):(delete fd[fb.start],fb.ring.unshift(N),fd[fb.start=la]=fb):fd[la]=Qd[za]={start:la,end:za,ring:[N,Xd]}}
var fd=[],Qd=[],Td;var Fd=Td=-1;var Zd=dc[0]>=ic;for(qb[Zd<<1].forEach(ed);++Fd<kb-1;){var de=Zd;Zd=dc[Fd+1]>=ic;qb[de|Zd<<1].forEach(ed)}for(qb[Zd<<0].forEach(ed);++Td<Gb-1;){Fd=-1;Zd=dc[Td*kb+kb]>=ic;var Ud=dc[Td*kb]>=ic;for(qb[Zd<<1|Ud<<2].forEach(ed);++Fd<kb-1;){de=Zd;Zd=dc[Td*kb+kb+Fd+1]>=ic;var Ve=Ud;Ud=dc[Td*kb+Fd+1]>=ic;qb[de|Zd<<1|Ud<<2|Ve<<3].forEach(ed)}qb[Zd|Ud<<3].forEach(ed)}Fd=-1;Ud=dc[Td*kb]>=ic;for(qb[Ud<<2].forEach(ed);++Fd<kb-1;)Ve=Ud,Ud=dc[Td*kb+Fd+1]>=ic,qb[Ud<<2|Ve<<3].forEach(ed);
qb[Ud<<3].forEach(ed)}function Za(dc,ic,Vc){dc.forEach(ed=>{var fd=ed[0],Qd=ed[1],Td=fd|0,Fd=Qd|0,Zd=ic[Fd*kb+Td];if(0<fd&&fd<kb&&Td===fd){var de=ic[Fd*kb+Td-1];ed[0]=fd+(Vc-de)/(Zd-de)-.5}0<Qd&&Qd<Gb&&Fd===Qd&&(de=ic[(Fd-1)*kb+Td],ed[1]=Qd+(Vc-de)/(Zd-de)-.5)})}var kb=1,Gb=1,nc=Za;F.contour=ya;F.size=function(dc){if(!arguments.length)return[kb,Gb];var ic=Math.floor(dc[0]),Vc=Math.floor(dc[1]);0<=ic&&0<=Vc||P.error("invalid size");return kb=ic,Gb=Vc,F};F.smooth=function(dc){return arguments.length?
(nc=dc?Za:Yb,F):nc===Za};return F}function ub(F,ya,Na){return function(Za){var kb=P.extent(Za);Za=Na?Math.min(kb[0],0):kb[0];kb=kb[1];var Gb=kb-Za;if(ya){var nc=F;var dc=+kb;var ic=+Za;nc=+nc;ic=(Gb=dc<ic)?Ac(dc,ic,nc):Ac(ic,dc,nc);Gb=(Gb?-1:1)*(0>ic?1/-ic:ic)}else Gb/=F+1;return Cb(Za+Gb,kb,Gb)}}function Kb(F){k.Transform.call(this,null,F)}function Lb(F,ya,Na){const Za=ub(Na.levels||10,Na.nice,!1!==Na.zero);return"shared"!==Na.resolve?Za:Za(F.map(kb=>uc(ya(kb).values)))}function Db(F,ya,Na,Za){var kb=
Za.scale||ya.scale;let Gb=Za.translate||ya.translate;P.isFunction(kb)&&(kb=kb(Na,Za));P.isFunction(Gb)&&(Gb=Gb(Na,Za));if(1!==kb&&null!=kb||Gb)Na=(P.isNumber(kb)?kb:kb[0])||1,kb=(P.isNumber(kb)?kb:kb[1])||1,F.forEach(Pb(ya,Na,kb,Gb&&Gb[0]||0,Gb&&Gb[1]||0))}function Pb(F,ya,Na,Za,kb){function Gb(fd){fd.forEach(nc)}function nc(fd){ed&&fd.reverse();fd.forEach(dc)}function dc(fd){fd[0]=(fd[0]-ic)*ya+Za;fd[1]=(fd[1]-Vc)*Na+kb}const ic=F.x1||0,Vc=F.y1||0,ed=0>ya*Na;return function(fd){fd.coordinates.forEach(Gb);
return fd}}function ab(F,ya,Na){F=0<=F?F:ib.bandwidthNRD(ya,Na);return Math.round((Math.sqrt(4*F*F+1)-1)/2)}function pb(F){return P.isFunction(F)?F:P.constant(+F)}function Qa(){function F(ic,Vc){const ed=ab(kb[0],ic,ya)>>dc,fd=ab(kb[1],ic,Na)>>dc,Qd=ed?ed+2:0,Td=fd?fd+2:0,Fd=2*Qd+(Gb>>dc),Zd=2*Td+(nc>>dc),de=new Float32Array(Fd*Zd),Ud=new Float32Array(Fd*Zd);let Ve=de;ic.forEach(Xd=>{const N=Qd+(+ya(Xd)>>dc),la=Td+(+Na(Xd)>>dc);0<=N&&N<Fd&&0<=la&&la<Zd&&(de[N+la*Fd]+=+Za(Xd))});0<ed&&0<fd?(Da(Fd,
Zd,de,Ud,ed),Ka(Fd,Zd,Ud,de,fd),Da(Fd,Zd,de,Ud,ed),Ka(Fd,Zd,Ud,de,fd),Da(Fd,Zd,de,Ud,ed),Ka(Fd,Zd,Ud,de,fd)):0<ed?(Da(Fd,Zd,de,Ud,ed),Da(Fd,Zd,Ud,de,ed),Da(Fd,Zd,de,Ud,ed),Ve=Ud):0<fd&&(Ka(Fd,Zd,de,Ud,fd),Ka(Fd,Zd,Ud,de,fd),Ka(Fd,Zd,de,Ud,fd),Ve=Ud);ic=Vc?Math.pow(2,-2*dc):1/jc(Ve);for(let Xd=0,N=Fd*Zd;Xd<N;++Xd)Ve[Xd]*=ic;return{values:Ve,scale:1<<dc,width:Fd,height:Zd,x1:Qd,y1:Td,x2:Qd+(Gb>>dc),y2:Td+(nc>>dc)}}var ya=ic=>ic[0],Na=ic=>ic[1],Za=P.one,kb=[-1,-1],Gb=960,nc=500,dc=2;F.x=function(ic){return arguments.length?
(ya=pb(ic),F):ya};F.y=function(ic){return arguments.length?(Na=pb(ic),F):Na};F.weight=function(ic){return arguments.length?(Za=pb(ic),F):Za};F.size=function(ic){if(!arguments.length)return[Gb,nc];var Vc=+ic[0],ed=+ic[1];0<=Vc&&0<=ed||P.error("invalid size");return Gb=Vc,nc=ed,F};F.cellSize=function(ic){if(!arguments.length)return 1<<dc;1<=(ic=+ic)||P.error("invalid cell size");dc=Math.floor(Math.log(ic)/Math.LN2);return F};F.bandwidth=function(ic){if(!arguments.length)return kb;ic=P.array(ic);1===
ic.length&&(ic=[+ic[0],+ic[0]]);2!==ic.length&&P.error("invalid bandwidth");return kb=ic,F};return F}function Da(F,ya,Na,Za,kb){const Gb=(kb<<1)+1;for(let nc=0;nc<ya;++nc)for(let dc=0,ic=0;dc<F+kb;++dc)dc<F&&(ic+=Na[dc+nc*F]),dc>=kb&&(dc>=Gb&&(ic-=Na[dc-Gb+nc*F]),Za[dc-kb+nc*F]=ic/Math.min(dc+1,F-1+Gb-dc,Gb))}function Ka(F,ya,Na,Za,kb){const Gb=(kb<<1)+1;for(let nc=0;nc<F;++nc)for(let dc=0,ic=0;dc<ya+kb;++dc)dc<ya&&(ic+=Na[nc+dc*F]),dc>=kb&&(dc>=Gb&&(ic-=Na[nc+(dc-Gb)*F]),Za[nc+(dc-kb)*F]=ic/Math.min(dc+
1,ya-1+Gb-dc,Gb))}function lb(F){k.Transform.call(this,null,F)}function mb(F,ya){Tb.forEach(Na=>null!=ya[Na]?F[Na](ya[Na]):0);return F}function Pa(F,ya){var Na=[],Za=ed=>ed(dc),kb;if(null==ya)Na.push(F);else{var Gb={};var nc=0;for(kb=F.length;nc<kb;++nc){var dc=F[nc];var ic=ya.map(Za);var Vc=Gb[ic];Vc||(Gb[ic]=Vc=[],Vc.dims=ic,Na.push(Vc));Vc.push(dc)}}return Na}function xb(F){k.Transform.call(this,null,F)}function sb(F){k.Transform.call(this,null,F)}function Qb(F){k.Transform.call(this,null,F)}function Wb(F,
ya){const Na=F.pointRadius();F.context(null);null!=ya&&F.pointRadius(ya);return Na}function nb(F){k.Transform.call(this,null,F)}function pa(F){k.Transform.call(this,null,F)}function Z(F,ya,Na){const Za=null==Na?kb=>F(ya(kb)):kb=>{var Gb=F.pointRadius();kb=F.pointRadius(Na)(ya(kb));F.pointRadius(Gb);return kb};Za.context=kb=>{F.context(kb);return Za};return Za}function Fa(F,ya,Na){var Za=Cb(F,ya-1E-6,Na).concat(ya);return function(kb){return Za.map(function(Gb){return[kb,Gb]})}}function Ga(F,ya,Na){var Za=
Cb(F,ya-1E-6,Na).concat(ya);return function(kb){return Za.map(function(Gb){return[Gb,kb]})}}function db(){function F(){return{type:"MultiLineString",coordinates:ya()}}function ya(){return Cb(cc(Gb/Qd)*Qd,kb,Qd).map(de).concat(Cb(cc(Vc/Td)*Td,ic,Td).map(Ud)).concat(Cb(cc(Za/ed)*ed,Na,ed).filter(function(Xd){return 1E-6<gc(Xd%Qd)}).map(Fd)).concat(Cb(cc(dc/fd)*fd,nc,fd).filter(function(Xd){return 1E-6<gc(Xd%Td)}).map(Zd))}var Na,Za,kb,Gb,nc,dc,ic,Vc,ed=10,fd=ed,Qd=90,Td=360,Fd,Zd,de,Ud,Ve=2.5;F.lines=
function(){return ya().map(function(Xd){return{type:"LineString",coordinates:Xd}})};F.outline=function(){return{type:"Polygon",coordinates:[de(Gb).concat(Ud(ic).slice(1),de(kb).reverse().slice(1),Ud(Vc).reverse().slice(1))]}};F.extent=function(Xd){return arguments.length?F.extentMajor(Xd).extentMinor(Xd):F.extentMinor()};F.extentMajor=function(Xd){if(!arguments.length)return[[Gb,Vc],[kb,ic]];Gb=+Xd[0][0];kb=+Xd[1][0];Vc=+Xd[0][1];ic=+Xd[1][1];Gb>kb&&(Xd=Gb,Gb=kb,kb=Xd);Vc>ic&&(Xd=Vc,Vc=ic,ic=Xd);
return F.precision(Ve)};F.extentMinor=function(Xd){if(!arguments.length)return[[Za,dc],[Na,nc]];Za=+Xd[0][0];Na=+Xd[1][0];dc=+Xd[0][1];nc=+Xd[1][1];Za>Na&&(Xd=Za,Za=Na,Na=Xd);dc>nc&&(Xd=dc,dc=nc,nc=Xd);return F.precision(Ve)};F.step=function(Xd){return arguments.length?F.stepMajor(Xd).stepMinor(Xd):F.stepMinor()};F.stepMajor=function(Xd){if(!arguments.length)return[Qd,Td];Qd=+Xd[0];Td=+Xd[1];return F};F.stepMinor=function(Xd){if(!arguments.length)return[ed,fd];ed=+Xd[0];fd=+Xd[1];return F};F.precision=
function(Xd){if(!arguments.length)return Ve;Ve=+Xd;Fd=Fa(dc,nc,90);Zd=Ga(Za,Na,Ve);de=Fa(Vc,ic,90);Ud=Ga(Gb,kb,Ve);return F};return F.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function ba(F){k.Transform.call(this,[],F);this.generator=db()}function ma(F,ya,Na){F.prototype=ya.prototype=Na;Na.constructor=F}function q(F,ya){F=Object.create(F.prototype);for(var Na in ya)F[Na]=ya[Na];return F}function M(){}function Q(){return this.rgb().formatHex()}
function g(){return this.rgb().formatRgb()}function u(F){var ya,Na;F=(F+"").trim().toLowerCase();return(ya=zc.exec(F))?(Na=ya[1].length,ya=parseInt(ya[1],16),6===Na?m(ya):3===Na?new A(ya>>8&15|ya>>4&240,ya>>4&15|ya&240,(ya&15)<<4|ya&15,1):8===Na?C(ya>>24&255,ya>>16&255,ya>>8&255,(ya&255)/255):4===Na?C(ya>>12&15|ya>>8&240,ya>>8&15|ya>>4&240,ya>>4&15|ya&240,((ya&15)<<4|ya&15)/255):null):(ya=Zc.exec(F))?new A(ya[1],ya[2],ya[3],1):(ya=Md.exec(F))?new A(255*ya[1]/100,255*ya[2]/100,255*ya[3]/100,1):(ya=
td.exec(F))?C(ya[1],ya[2],ya[3],ya[4]):(ya=Ha.exec(F))?C(255*ya[1]/100,255*ya[2]/100,255*ya[3]/100,ya[4]):(ya=gb.exec(F))?t(ya[1],ya[2]/100,ya[3]/100,1):(ya=wb.exec(F))?t(ya[1],ya[2]/100,ya[3]/100,ya[4]):sa.hasOwnProperty(F)?m(sa[F]):"transparent"===F?new A(NaN,NaN,NaN,0):null}function m(F){return new A(F>>16&255,F>>8&255,F&255,1)}function C(F,ya,Na,Za){0>=Za&&(F=ya=Na=NaN);return new A(F,ya,Na,Za)}function B(F,ya,Na,Za){if(1===arguments.length){var kb=F;kb instanceof M||(kb=u(kb));kb?(kb=kb.rgb(),
kb=new A(kb.r,kb.g,kb.b,kb.opacity)):kb=new A}else kb=new A(F,ya,Na,null==Za?1:Za);return kb}function A(F,ya,Na,Za){this.r=+F;this.g=+ya;this.b=+Na;this.opacity=+Za}function E(){return`#${Y(this.r)}${Y(this.g)}${Y(this.b)}`}function H(){const F=V(this.opacity);return`${1===F?"rgb(":"rgba("}${Aa(this.r)}, ${Aa(this.g)}, ${Aa(this.b)}${1===F?")":`, ${F})`}`}function V(F){return isNaN(F)?1:Math.max(0,Math.min(1,F))}function Aa(F){return Math.max(0,Math.min(255,Math.round(F)||0))}function Y(F){F=Aa(F);
return(16>F?"0":"")+F.toString(16)}function t(F,ya,Na,Za){0>=Za?F=ya=Na=NaN:0>=Na||1<=Na?F=ya=NaN:0>=ya&&(F=NaN);return new va(F,ya,Na,Za)}function L(F){if(F instanceof va)return new va(F.h,F.s,F.l,F.opacity);F instanceof M||(F=u(F));if(!F)return new va;if(F instanceof va)return F;F=F.rgb();var ya=F.r/255,Na=F.g/255,Za=F.b/255,kb=Math.min(ya,Na,Za),Gb=Math.max(ya,Na,Za),nc=NaN,dc=Gb-kb,ic=(Gb+kb)/2;dc?(nc=ya===Gb?(Na-Za)/dc+6*(Na<Za):Na===Gb?(Za-ya)/dc+2:(ya-Na)/dc+4,dc/=.5>ic?Gb+kb:2-Gb-kb,nc*=60):
dc=0<ic&&1>ic?0:nc;return new va(nc,dc,ic,F.opacity)}function va(F,ya,Na,Za){this.h=+F;this.s=+ya;this.l=+Na;this.opacity=+Za}function La(F){F=(F||0)%360;return 0>F?F+360:F}function Wa(F){return Math.max(0,Math.min(1,F||0))}function $a(F,ya,Na){return 255*(60>F?ya+(Na-ya)*F/60:180>F?Na:240>F?ya+(Na-ya)*(240-F)/60:ya)}function X(F){k.Transform.call(this,null,F)}function Ca(F,ya){let Na;P.isFunction(F)?(Na=Za=>B(F(Za,ya)),Na.dep=Jb(F)):Na=P.constant(B(F||"#888"));return Na}function Xa(F,ya){let Na;
P.isFunction(F)?(Na=Za=>F(Za,ya),Na.dep=Jb(F)):F?Na=P.constant(F):(Na=Za=>Za.$value/Za.$max||0,Na.dep=!0);return Na}function Jb(F){if(!P.isFunction(F))return!1;F=P.toSet(P.accessorFields(F));return F.$x||F.$y||F.$value||F.$max}function yc(F,ya,Na,Za){const kb=F.width;var Gb=F.height;const nc=F.x1||0,dc=F.y1||0,ic=F.x2||kb;Gb=F.y2||Gb;const Vc=F.values;F=Vc?Fd=>Vc[Fd]:P.zero;const ed=ac.canvas(ic-nc,Gb-dc),fd=ed.getContext("2d"),Qd=fd.getImageData(0,0,ic-nc,Gb-dc),Td=Qd.data;for(let Fd=dc,Zd=0;Fd<
Gb;++Fd){ya.$y=Fd-dc;for(let de=nc,Ud=Fd*kb;de<ic;++de,Zd+=4){ya.$x=de-nc;ya.$value=F(de+Ud);const Ve=Na(ya);Td[Zd+0]=Ve.r;Td[Zd+1]=Ve.g;Td[Zd+2]=Ve.b;Td[Zd+3]=~~(255*Za(ya))}}fd.putImageData(Qd,0,0);return ed}function sc(F){k.Transform.call(this,null,F);this.modified(!0)}function xc(F,ya){const Na=Zb(ya.fit);ya.extent?F.fitExtent(ya.extent,Na):ya.size?F.fitSize(ya.size,Na):0}function dd(F){const ya=Hb.projection((F||"mercator").toLowerCase());ya||P.error("Unrecognized projection type: "+F);return ya()}
function Zb(F){F=P.array(F);return 1===F.length?F[0]:{type:"FeatureCollection",features:F.reduce((ya,Na)=>ya.concat(Sc(Na)),[])}}function Sc(F){return"FeatureCollection"===F.type?F.features:P.array(F).filter(ya=>null!=ya).map(ya=>"Feature"===ya.type?ya:{type:"Feature",geometry:ya})}const Pd=Math.sqrt(50),Ma=Math.sqrt(10),Vb=Math.sqrt(2),qb=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,
1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Kb.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean",
"default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};P.inherits(Kb,k.Transform,{transform(F,ya){if(this.value&&!ya.changed()&&!F.modified())return ya.StopPropagation;var Na=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS);ya=ya.materialize(ya.SOURCE).source;var Za=F.field||P.identity,kb=Ua().smooth(!1!==F.smooth),Gb=F.thresholds||Lb(ya,Za,F),nc=null===F.as?null:F.as||"contour",dc=[];ya.forEach(ic=>{const Vc=
Za(ic),ed=kb.size([Vc.width,Vc.height])(Vc.values,P.isArray(Gb)?Gb:Gb(Vc.values));Db(ed,Vc,ic,F);ed.forEach(fd=>{dc.push(k.rederive(ic,k.ingest(null!=nc?{[nc]:fd}:fd)))})});this.value&&(Na.rem=this.value);this.value=Na.source=Na.add=dc;return Na}});lb.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},
{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Tb="x y weight size cellSize bandwidth".split(" ");P.inherits(lb,k.Transform,{transform(F,ya){if(this.value&&!ya.changed()&&!F.modified())return ya.StopPropagation;var Na=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS);ya=ya.materialize(ya.SOURCE).source;ya=Pa(ya,F.groupby);var Za=(F.groupby||[]).map(P.accessorName),kb=mb(Qa(),F),Gb=F.as||
"grid",nc=[];nc=ya.map(dc=>{var ic=k.ingest,Vc={[Gb]:kb(dc,F.counts)};dc=dc.dims;for(let ed=0;ed<Za.length;++ed)Vc[Za[ed]]=dc[ed];return ic.call(k,Vc)});this.value&&(Na.rem=this.value);this.value=Na.source=Na.add=nc;return Na}});xb.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",
type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};P.inherits(xb,k.Transform,{transform(F,ya){if(this.value&&!ya.changed()&&!F.modified())return ya.StopPropagation;var Na=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS),Za=Ua().smooth(!1!==F.smooth),kb=F.values,Gb=F.thresholds||ub(F.count||10,F.nice,!!kb),nc=F.size;if(!kb){kb=ya.materialize(ya.SOURCE).source;F=mb(Qa(),F)(kb,!0);var dc=Pb(F,
F.scale||1,F.scale||1,0,0);nc=[F.width,F.height];kb=F.values}Gb=P.isArray(Gb)?Gb:Gb(kb);kb=Za.size(nc)(kb,Gb);dc&&kb.forEach(dc);this.value&&(Na.rem=this.value);this.value=Na.source=Na.add=(kb||[]).map(k.ingest);return Na}});sb.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};P.inherits(sb,k.Transform,{transform(F,ya){var Na=this._features,Za=this._points,kb=F.fields,Gb=kb&&kb[0],nc=kb&&kb[1],dc=F.geojson||!kb&&P.identity;
kb=ya.ADD;F=F.modified()||ya.changed(ya.REM)||ya.modified(P.accessorFields(dc))||Gb&&ya.modified(P.accessorFields(Gb))||nc&&ya.modified(P.accessorFields(nc));if(!this.value||F)kb=ya.SOURCE,this._features=Na=[],this._points=Za=[];dc&&ya.visit(kb,ic=>Na.push(dc(ic)));Gb&&nc&&(ya.visit(kb,ic=>{var Vc=Gb(ic);ic=nc(ic);null!=Vc&&null!=ic&&(Vc=+Vc)===Vc&&(ic=+ic)===ic&&Za.push([Vc,ic])}),Na=Na.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:Za}}));this.value={type:"FeatureCollection",features:Na}}});
Qb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};P.inherits(Qb,k.Transform,{transform(F,ya){var Na=ya.fork(ya.ALL),Za=this.value,kb=F.field||P.identity,Gb=F.as||"path",nc=Na.SOURCE;!Za||F.modified()?(this.value=Za=Hb.getProjectionPath(F.projection),Na.materialize().reflow()):nc=kb===P.identity||ya.modified(kb.fields)?Na.ADD_MOD:Na.ADD;
F=Wb(Za,F.pointRadius);Na.visit(nc,dc=>dc[Gb]=Za(kb(dc)));Za.pointRadius(F);return Na.modifies(Gb)}});nb.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};P.inherits(nb,k.Transform,{transform(F,ya){function Na(Vc){const ed=Za([kb(Vc),Gb(Vc)]);ed?(Vc[dc]=ed[0],Vc[ic]=ed[1]):(Vc[dc]=void 0,Vc[ic]=void 0)}var Za=F.projection,
kb=F.fields[0],Gb=F.fields[1],nc=F.as||["x","y"],dc=nc[0],ic=nc[1];F.modified()?ya=ya.materialize().reflow(!0).visit(ya.SOURCE,Na):(F=ya.modified(kb.fields)||ya.modified(Gb.fields),ya.visit(F?ya.ADD_MOD:ya.ADD,Na));return ya.modifies(nc)}});pa.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};P.inherits(pa,k.Transform,
{transform(F,ya){ya=ya.fork(ya.ALL);var Na=this.value,Za=F.as||"shape",kb=ya.ADD;if(!Na||F.modified())this.value=Na=Z(Hb.getProjectionPath(F.projection),F.field||P.field("datum"),F.pointRadius),ya.materialize().reflow(),kb=ya.SOURCE;ya.visit(kb,Gb=>Gb[Za]=Na);return ya.modifies(Za)}});var gc=Math.abs,cc=Math.ceil;ba.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",
array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};P.inherits(ba,k.Transform,{transform(F,ya){var Na=this.value,Za=this.generator;if(!Na.length||F.modified())for(const kb in F)if(P.isFunction(Za[kb]))Za[kb](F[kb]);
F=Za();Na.length?ya.mod.push(k.replace(Na[0],F)):ya.add.push(k.ingest(F));Na[0]=F;return ya}});var Ic=1/.7,zc=/^#([0-9a-f]{3,8})$/,Zc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Md=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),td=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Ha=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),gb=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),wb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
sa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ma(M,u,{copy(F){return Object.assign(new this.constructor,this,F)},displayable(){return this.rgb().displayable()},hex:Q,formatHex:Q,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return L(this).formatHsl()},formatRgb:g,toString:g});ma(A,B,q(M,{brighter(F){F=null==F?Ic:Math.pow(Ic,F);return new A(this.r*F,this.g*F,this.b*F,this.opacity)},darker(F){F=
null==F?.7:Math.pow(.7,F);return new A(this.r*F,this.g*F,this.b*F,this.opacity)},rgb(){return this},clamp(){return new A(Aa(this.r),Aa(this.g),Aa(this.b),V(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:E,formatHex:E,formatHex8:function(){return`#${Y(this.r)}${Y(this.g)}${Y(this.b)}${Y(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:H,toString:H}));ma(va,function(F,ya,Na,Za){return 1===
arguments.length?L(F):new va(F,ya,Na,null==Za?1:Za)},q(M,{brighter(F){F=null==F?Ic:Math.pow(Ic,F);return new va(this.h,this.s,this.l*F,this.opacity)},darker(F){F=null==F?.7:Math.pow(.7,F);return new va(this.h,this.s,this.l*F,this.opacity)},rgb(){var F=this.h%360+360*(0>this.h),ya=isNaN(F)||isNaN(this.s)?0:this.s,Na=this.l;ya=Na+(.5>Na?Na:1-Na)*ya;Na=2*Na-ya;return new A($a(240<=F?F-240:F+120,Na,ya),$a(F,Na,ya),$a(120>F?F+240:F-120,Na,ya),this.opacity)},clamp(){return new va(La(this.h),Wa(this.s),
Wa(this.l),V(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const F=V(this.opacity);return`${1===F?"hsl(":"hsla("}${La(this.h)}, ${100*Wa(this.s)}%, ${100*Wa(this.l)}%${1===F?")":`, ${F})`}`}}));X.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],
"default":"independent"},{name:"as",type:"string","default":"image"}]};P.inherits(X,k.Transform,{transform(F,ya){if(!ya.changed()&&!F.modified())return ya.StopPropagation;var Na=ya.materialize(ya.SOURCE).source,Za="shared"===F.resolve,kb=F.field||P.identity,Gb=Xa(F.opacity,F),nc=Ca(F.color,F),dc=F.as||"image",ic={$x:0,$y:0,$value:0,$max:Za?uc(Na.map(Vc=>uc(kb(Vc).values))):0};Na.forEach(Vc=>{const ed=kb(Vc),fd=P.extend({},Vc,ic);Za||(fd.$max=uc(ed.values||[]));Vc[dc]=yc(ed,fd,nc.dep?nc:P.constant(nc(fd)),
Gb.dep?Gb:P.constant(Gb(fd)))});return ya.reflow(!0).modifies(dc)}});P.inherits(sc,k.Transform,{transform(F,ya){let Na=this.value;!Na||F.modified("type")?(this.value=Na=dd(F.type),Hb.projectionProperties.forEach(Za=>{if(null!=F[Za]){var kb=Na,Gb=F[Za];if(P.isFunction(kb[Za]))kb[Za](Gb)}})):Hb.projectionProperties.forEach(Za=>{if(F.modified(Za)){var kb=Na,Gb=F[Za];if(P.isFunction(kb[Za]))kb[Za](Gb)}});null!=F.pointRadius&&Na.path.pointRadius(F.pointRadius);F.fit&&xc(Na,F);return ya.fork(ya.NO_SOURCE|
ya.NO_FIELDS)}});v.contour=xb;v.geojson=sb;v.geopath=Qb;v.geopoint=nb;v.geoshape=pa;v.graticule=ba;v.heatmap=X;v.isocontour=Kb;v.kde2d=lb;v.projection=sc})};
shadow$provide[38]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(28),Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega))})(this,function(v,k,P){function ib(Y,t,L,va){if(isNaN(t)||isNaN(L))return Y;var La,Wa=Y._root;va={data:va};var $a=Y._x0,X=Y._y0,Ca=Y._x1,Xa=Y._y1,Jb,yc,sc,xc,dd;if(!Wa)return Y._root=
va,Y;for(;Wa.length;)if((sc=t>=(Jb=($a+Ca)/2))?$a=Jb:Ca=Jb,(xc=L>=(yc=(X+Xa)/2))?X=yc:Xa=yc,La=Wa,!(Wa=Wa[dd=xc<<1|sc]))return La[dd]=va,Y;var Zb=+Y._x.call(null,Wa.data);var Sc=+Y._y.call(null,Wa.data);if(t===Zb&&L===Sc)return va.next=Wa,La?La[dd]=va:Y._root=va,Y;do La=La?La[dd]=Array(4):Y._root=Array(4),(sc=t>=(Jb=($a+Ca)/2))?$a=Jb:Ca=Jb,(xc=L>=(yc=(X+Xa)/2))?X=yc:Xa=yc;while((dd=xc<<1|sc)===(sc=(Sc>=yc)<<1|Zb>=Jb));return La[sc]=Wa,La[dd]=va,Y}function Hb(Y,t,L,va,La){this.node=Y;this.x0=t;this.y0=
L;this.x1=va;this.y1=La}function ac(Y){return Y[0]}function vc(Y){return Y[1]}function Ac(Y,t,L){t=new uc(null==t?ac:t,null==L?vc:L,NaN,NaN,NaN,NaN);return null==Y?t:t.addAll(Y)}function uc(Y,t,L,va,La,Wa){this._x=Y;this._y=t;this._x0=L;this._y0=va;this._x1=La;this._y1=Wa;this._root=void 0}function Cb(Y){for(var t={data:Y.data},L=t;Y=Y.next;)L=L.next={data:Y.data};return t}function jc(Y){return function(){return Y}}function Yb(Y){return Y.x+Y.vx}function Ua(Y){return Y.y+Y.vy}function ub(Y){return Y.index}
function Kb(Y,t){Y=Y.get(t);if(!Y)throw Error("node not found: "+t);return Y}function Lb(){for(var Y=0,t=arguments.length,L={},va;Y<t;++Y){if(!(va=arguments[Y]+"")||va in L||/[\s.]/.test(va))throw Error("illegal type: "+va);L[va]=[]}return new Db(L)}function Db(Y){this._=Y}function Pb(Y,t){return Y.trim().split(/^|\s+/).map(function(L){var va="",La=L.indexOf(".");0<=La&&(va=L.slice(La+1),L=L.slice(0,La));if(L&&!t.hasOwnProperty(L))throw Error("unknown type: "+L);return{type:L,name:va}})}function ab(Y,
t,L){for(var va=0,La=Y.length;va<La;++va)if(Y[va].name===t){Y[va]=db;Y=Y.slice(0,va).concat(Y.slice(va+1));break}null!=L&&Y.push({name:t,value:L});return Y}function pb(){u=0}function Qa(){this._call=this._time=this._next=null}function Da(Y,t,L){var va=new Qa;va.restart(Y,t,L);return va}function Ka(){u=(g=C.now())+m;ba=ma=0;try{u||(B(pb),u=C.now()+m);++ba;for(var Y=M,t;Y;)0<=(t=u-Y._time)&&Y._call.call(void 0,t),Y=Y._next;--ba}finally{ba=0;Y=M;for(var L=Infinity;Y;)if(Y._call){L>Y._time&&(L=Y._time);
var va=Y;Y=Y._next}else t=Y._next,Y._next=null,Y=va?va._next=t:M=t;Q=va;mb(L);u=0}}function lb(){var Y=C.now(),t=Y-g;1E3<t&&(m-=t,g=Y)}function mb(Y){ba||(ma&&(ma=clearTimeout(ma)),24<Y-u?(Infinity>Y&&(ma=setTimeout(Ka,Y-C.now()-m)),q&&(q=clearInterval(q))):(q||(g=C.now(),q=setInterval(lb,1E3)),ba=1,B(Ka)))}function Pa(){let Y=1;return()=>(Y=(1664525*Y+1013904223)%4294967296)/4294967296}function xb(Y){return Y.x}function sb(Y){return Y.y}function Qb(Y){function t(){L();xc.call("tick",Wa);$a<X&&(sc.stop(),
xc.call("end",Wa))}function L(Zb){var Sc,Pd=Y.length;void 0===Zb&&(Zb=1);for(var Ma=0;Ma<Zb;++Ma)for($a+=(Xa-$a)*Ca,yc.forEach(function(qb){qb($a)}),Sc=0;Sc<Pd;++Sc){var Vb=Y[Sc];null==Vb.fx?Vb.x+=Vb.vx*=Jb:(Vb.x=Vb.fx,Vb.vx=0);null==Vb.fy?Vb.y+=Vb.vy*=Jb:(Vb.y=Vb.fy,Vb.vy=0)}return Wa}function va(){for(var Zb=0,Sc=Y.length,Pd;Zb<Sc;++Zb){Pd=Y[Zb];Pd.index=Zb;null!=Pd.fx&&(Pd.x=Pd.fx);null!=Pd.fy&&(Pd.y=Pd.fy);if(isNaN(Pd.x)||isNaN(Pd.y)){var Ma=10*Math.sqrt(.5+Zb),Vb=Zb*A;Pd.x=Ma*Math.cos(Vb);Pd.y=
Ma*Math.sin(Vb)}if(isNaN(Pd.vx)||isNaN(Pd.vy))Pd.vx=Pd.vy=0}}function La(Zb){Zb.initialize&&Zb.initialize(Y,dd);return Zb}var Wa,$a=1,X=.001,Ca=1-Math.pow(X,1/300),Xa=0,Jb=.6,yc=new Map,sc=Da(t),xc=Lb("tick","end"),dd=Pa();null==Y&&(Y=[]);va();return Wa={tick:L,restart:function(){return sc.restart(t),Wa},stop:function(){return sc.stop(),Wa},nodes:function(Zb){return arguments.length?(Y=Zb,va(),yc.forEach(La),Wa):Y},alpha:function(Zb){return arguments.length?($a=+Zb,Wa):$a},alphaMin:function(Zb){return arguments.length?
(X=+Zb,Wa):X},alphaDecay:function(Zb){return arguments.length?(Ca=+Zb,Wa):+Ca},alphaTarget:function(Zb){return arguments.length?(Xa=+Zb,Wa):Xa},velocityDecay:function(Zb){return arguments.length?(Jb=1-Zb,Wa):1-Jb},randomSource:function(Zb){return arguments.length?(dd=Zb,yc.forEach(La),Wa):dd},force:function(Zb,Sc){return 1<arguments.length?(null==Sc?yc.delete(Zb):yc.set(Zb,La(Sc)),Wa):yc.get(Zb)},find:function(Zb,Sc,Pd){var Ma,Vb=Y.length;Pd=null==Pd?Infinity:Pd*Pd;for(Ma=0;Ma<Vb;++Ma){var qb=Y[Ma];
var Tb=Zb-qb.x;var gc=Sc-qb.y;Tb=Tb*Tb+gc*gc;if(Tb<Pd){var cc=qb;Pd=Tb}}return cc},on:function(Zb,Sc){return 1<arguments.length?(xc.on(Zb,Sc),Wa):xc.on(Zb)}}}function Wb(Y){k.Transform.call(this,null,Y)}function nb(Y,t){return()=>Y.touch(t).run()}function pa(Y,t){Y=Qb(Y);const L=Y.stop,va=Y.restart;let La=!1;Y.stopped=()=>La;Y.restart=()=>(La=!1,va());Y.stop=()=>(La=!0,L());return Z(Y,t,!0).on("end",()=>La=!0)}function Z(Y,t,L,va){var La=P.array(t.forces),Wa;var $a=0;for(Wa=H.length;$a<Wa;++$a){var X=
H[$a];if("forces"!==X&&t.modified(X))Y[X](t[X])}$a=0;for(Wa=La.length;$a<Wa;++$a){var Ca="forces"+$a;if(L||t.modified("forces",$a)){X=void 0;var Xa=La[$a];P.hasOwnProperty(E,Xa.force)||P.error("Unrecognized force: "+Xa.force);var Jb=E[Xa.force]();for(X in Xa)P.isFunction(Jb[X])&&Fa(Jb[X],Xa[X],Xa);X=Jb}else{if(X=va)a:{Jb=X=void 0;Xa=La[$a];var yc=va;for(Jb in Xa)if(P.isFunction(X=Xa[Jb])&&yc.modified(P.accessorFields(X))){X=1;break a}X=0}X=X?Y.force(Ca):null}X&&Y.force(Ca,X)}for(Wa=Y.numForces||0;$a<
Wa;++$a)Y.force("forces"+$a,null);Y.numForces=La.length;return Y}function Fa(Y,t,L){Y(P.isFunction(t)?va=>t(va,L):t)}var Ga=Ac.prototype=uc.prototype;Ga.copy=function(){var Y=new uc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,L,va;if(!t)return Y;if(!t.length)return Y._root=Cb(t),Y;for(L=[{source:t,target:Y._root=Array(4)}];t=L.pop();)for(var La=0;4>La;++La)if(va=t.source[La])va.length?L.push({source:va,target:t.target[La]=Array(4)}):t.target[La]=Cb(va);return Y};Ga.add=function(Y){const t=
+this._x.call(null,Y),L=+this._y.call(null,Y);return ib(this.cover(t,L),t,L,Y)};Ga.addAll=function(Y){var t,L,va=Y.length,La,Wa,$a=Array(va),X=Array(va),Ca=Infinity,Xa=Infinity,Jb=-Infinity,yc=-Infinity;for(L=0;L<va;++L)isNaN(La=+this._x.call(null,t=Y[L]))||isNaN(Wa=+this._y.call(null,t))||($a[L]=La,X[L]=Wa,La<Ca&&(Ca=La),La>Jb&&(Jb=La),Wa<Xa&&(Xa=Wa),Wa>yc&&(yc=Wa));if(Ca>Jb||Xa>yc)return this;this.cover(Ca,Xa).cover(Jb,yc);for(L=0;L<va;++L)ib(this,$a[L],X[L],Y[L]);return this};Ga.cover=function(Y,
t){if(isNaN(Y=+Y)||isNaN(t=+t))return this;var L=this._x0,va=this._y0,La=this._x1,Wa=this._y1;if(isNaN(L))La=(L=Math.floor(Y))+1,Wa=(va=Math.floor(t))+1;else{for(var $a=La-L||1,X=this._root,Ca,Xa;L>Y||Y>=La||va>t||t>=Wa;)switch(Xa=(t<va)<<1|Y<L,Ca=Array(4),Ca[Xa]=X,X=Ca,$a*=2,Xa){case 0:La=L+$a;Wa=va+$a;break;case 1:L=La-$a;Wa=va+$a;break;case 2:La=L+$a;va=Wa-$a;break;case 3:L=La-$a,va=Wa-$a}this._root&&this._root.length&&(this._root=X)}this._x0=L;this._y0=va;this._x1=La;this._y1=Wa;return this};
Ga.data=function(){var Y=[];this.visit(function(t){if(!t.length){do Y.push(t.data);while(t=t.next)}});return Y};Ga.extent=function(Y){return arguments.length?this.cover(+Y[0][0],+Y[0][1]).cover(+Y[1][0],+Y[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Ga.find=function(Y,t,L){var va=this._x0,La=this._y0,Wa,$a,X,Ca,Xa=this._x1,Jb=this._y1,yc=[],sc=this._root,xc;sc&&yc.push(new Hb(sc,va,La,Xa,Jb));null==L?L=Infinity:(va=Y-L,La=t-L,Xa=Y+L,Jb=t+L,L*=L);for(;xc=yc.pop();)if(!(!(sc=
xc.node)||(Wa=xc.x0)>Xa||($a=xc.y0)>Jb||(X=xc.x1)<va||(Ca=xc.y1)<La))if(sc.length){xc=(Wa+X)/2;var dd=($a+Ca)/2;yc.push(new Hb(sc[3],xc,dd,X,Ca),new Hb(sc[2],Wa,dd,xc,Ca),new Hb(sc[1],xc,$a,X,dd),new Hb(sc[0],Wa,$a,xc,dd));if(sc=(t>=dd)<<1|Y>=xc)xc=yc[yc.length-1],yc[yc.length-1]=yc[yc.length-1-sc],yc[yc.length-1-sc]=xc}else if(xc=Y-+this._x.call(null,sc.data),dd=t-+this._y.call(null,sc.data),xc=xc*xc+dd*dd,xc<L){var Zb=Math.sqrt(L=xc);va=Y-Zb;La=t-Zb;Xa=Y+Zb;Jb=t+Zb;Zb=sc.data}return Zb};Ga.remove=
function(Y){if(isNaN(Ca=+this._x.call(null,Y))||isNaN(Xa=+this._y.call(null,Y)))return this;var t,L=this._root,va,La=this._x0,Wa=this._y0,$a=this._x1,X=this._y1,Ca,Xa,Jb,yc,sc,xc,dd;if(!L)return this;if(L.length)for(;;){(sc=Ca>=(Jb=(La+$a)/2))?La=Jb:$a=Jb;(xc=Xa>=(yc=(Wa+X)/2))?Wa=yc:X=yc;if(!(t=L,L=L[dd=xc<<1|sc]))return this;if(!L.length)break;if(t[dd+1&3]||t[dd+2&3]||t[dd+3&3]){var Zb=t;var Sc=dd}}for(;L.data!==Y;)if(!(va=L,L=L.next))return this;(Y=L.next)&&delete L.next;if(va)return Y?va.next=
Y:delete va.next,this;if(!t)return this._root=Y,this;Y?t[dd]=Y:delete t[dd];(L=t[0]||t[1]||t[2]||t[3])&&L===(t[3]||t[2]||t[1]||t[0])&&!L.length&&(Zb?Zb[Sc]=L:this._root=L);return this};Ga.removeAll=function(Y){for(var t=0,L=Y.length;t<L;++t)this.remove(Y[t]);return this};Ga.root=function(){return this._root};Ga.size=function(){var Y=0;this.visit(function(t){if(!t.length){do++Y;while(t=t.next)}});return Y};Ga.visit=function(Y){var t=[],L,va=this._root,La,Wa,$a,X,Ca;for(va&&t.push(new Hb(va,this._x0,
this._y0,this._x1,this._y1));L=t.pop();)if(!Y(va=L.node,Wa=L.x0,$a=L.y0,X=L.x1,Ca=L.y1)&&va.length){L=(Wa+X)/2;var Xa=($a+Ca)/2;(La=va[3])&&t.push(new Hb(La,L,Xa,X,Ca));(La=va[2])&&t.push(new Hb(La,Wa,Xa,L,Ca));(La=va[1])&&t.push(new Hb(La,L,$a,X,Xa));(La=va[0])&&t.push(new Hb(La,Wa,$a,L,Xa))}return this};Ga.visitAfter=function(Y){var t=[],L=[],va;for(this._root&&t.push(new Hb(this._root,this._x0,this._y0,this._x1,this._y1));va=t.pop();){var La=va.node;if(La.length){var Wa,$a=va.x0,X=va.y0,Ca=va.x1,
Xa=va.y1,Jb=($a+Ca)/2,yc=(X+Xa)/2;(Wa=La[0])&&t.push(new Hb(Wa,$a,X,Jb,yc));(Wa=La[1])&&t.push(new Hb(Wa,Jb,X,Ca,yc));(Wa=La[2])&&t.push(new Hb(Wa,$a,yc,Jb,Xa));(Wa=La[3])&&t.push(new Hb(Wa,Jb,yc,Ca,Xa))}L.push(va)}for(;va=L.pop();)Y(va.node,va.x0,va.y0,va.x1,va.y1);return this};Ga.x=function(Y){return arguments.length?(this._x=Y,this):this._x};Ga.y=function(Y){return arguments.length?(this._y=Y,this):this._y};var db={value:()=>{}};Db.prototype=Lb.prototype={constructor:Db,on:function(Y,t){var L=
this._,va=Pb(Y+"",L),La,Wa=-1,$a=va.length;if(2>arguments.length)for(;++Wa<$a;){var X;if(X=La=(Y=va[Wa]).type){a:{X=L[La];for(var Ca=0,Xa=X.length;Ca<Xa;++Ca)if((La=X[Ca]).name===Y.name){La=La.value;break a}La=void 0}X=La}if(X)return La}else{if(null!=t&&"function"!==typeof t)throw Error("invalid callback: "+t);for(;++Wa<$a;)if(La=(Y=va[Wa]).type)L[La]=ab(L[La],Y.name,t);else if(null==t)for(La in L)L[La]=ab(L[La],Y.name,null);return this}},copy:function(){var Y={},t=this._,L;for(L in t)Y[L]=t[L].slice();
return new Db(Y)},call:function(Y,t){if(0<(La=arguments.length-2))for(var L=Array(La),va=0,La,Wa;va<La;++va)L[va]=arguments[va+2];if(!this._.hasOwnProperty(Y))throw Error("unknown type: "+Y);Wa=this._[Y];va=0;for(La=Wa.length;va<La;++va)Wa[va].value.apply(t,L)},apply:function(Y,t,L){if(!this._.hasOwnProperty(Y))throw Error("unknown type: "+Y);Y=this._[Y];for(var va=0,La=Y.length;va<La;++va)Y[va].value.apply(t,L)}};var ba=0,ma=0,q=0,M,Q,g=0,u=0,m=0,C="object"===typeof performance&&performance.now?
performance:Date,B="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Y){setTimeout(Y,17)};Qa.prototype=Da.prototype={constructor:Qa,restart:function(Y,t,L){if("function"!==typeof Y)throw new TypeError("callback is not a function");L=(null==L?u||(B(pb),u=C.now()+m):+L)+(null==t?0:+t);this._next||Q===this||(Q?Q._next=this:M=this,Q=this);this._call=Y;this._time=L;mb()},stop:function(){this._call&&(this._call=null,this._time=Infinity,mb())}};var A=
Math.PI*(3-Math.sqrt(5));const E={center:function(Y,t){function L(){var Wa,$a=va.length,X=0,Ca=0;for(Wa=0;Wa<$a;++Wa){var Xa=va[Wa];X+=Xa.x;Ca+=Xa.y}X=(X/$a-Y)*La;Ca=(Ca/$a-t)*La;for(Wa=0;Wa<$a;++Wa)Xa=va[Wa],Xa.x-=X,Xa.y-=Ca}var va,La=1;null==Y&&(Y=0);null==t&&(t=0);L.initialize=function(Wa){va=Wa};L.x=function(Wa){return arguments.length?(Y=+Wa,L):Y};L.y=function(Wa){return arguments.length?(t=+Wa,L):t};L.strength=function(Wa){return arguments.length?(La=+Wa,L):La};return L},collide:function(Y){function t(){function Xa(Vb,
qb,Tb,gc,cc){var Ic=Vb.data;Vb=Vb.r;var zc=Sc+Vb;if(Ic)Ic.index>xc.index&&(qb=dd-Ic.x-Ic.vx,Tb=Zb-Ic.y-Ic.vy,gc=qb*qb+Tb*Tb,gc<zc*zc&&(0===qb&&(qb=1E-6*($a()-.5),gc+=qb*qb),0===Tb&&(Tb=1E-6*($a()-.5),gc+=Tb*Tb),gc=(zc-(gc=Math.sqrt(gc)))/gc*X,xc.vx+=(qb*=gc)*(zc=(Vb*=Vb)/(Pd+Vb)),xc.vy+=(Tb*=gc)*zc,Ic.vx-=qb*(zc=1-zc),Ic.vy-=Tb*zc));else return qb>dd+zc||gc<dd-zc||Tb>Zb+zc||cc<Zb-zc}for(var Jb,yc=La.length,sc,xc,dd,Zb,Sc,Pd,Ma=0;Ma<Ca;++Ma)for(sc=Ac(La,Yb,Ua).visitAfter(L),Jb=0;Jb<yc;++Jb)xc=La[Jb],
Sc=Wa[xc.index],Pd=Sc*Sc,dd=xc.x+xc.vx,Zb=xc.y+xc.vy,sc.visit(Xa)}function L(Xa){if(Xa.data)return Xa.r=Wa[Xa.data.index];for(var Jb=Xa.r=0;4>Jb;++Jb)Xa[Jb]&&Xa[Jb].r>Xa.r&&(Xa.r=Xa[Jb].r)}function va(){if(La){var Xa,Jb=La.length;Wa=Array(Jb);for(Xa=0;Xa<Jb;++Xa){var yc=La[Xa];Wa[yc.index]=+Y(yc,Xa,La)}}}var La,Wa,$a,X=1,Ca=1;"function"!==typeof Y&&(Y=jc(null==Y?1:+Y));t.initialize=function(Xa,Jb){La=Xa;$a=Jb;va()};t.iterations=function(Xa){return arguments.length?(Ca=+Xa,t):Ca};t.strength=function(Xa){return arguments.length?
(X=+Xa,t):X};t.radius=function(Xa){return arguments.length?(Y="function"===typeof Xa?Xa:jc(+Xa),va(),t):Y};return t},nbody:function(){function Y(xc){var dd=La.length,Zb=Ac(La,xb,sb).visitAfter(L);X=xc;for(xc=0;xc<dd;++xc)Wa=La[xc],Zb.visit(va)}function t(){if(La){var xc,dd=La.length;Xa=Array(dd);for(xc=0;xc<dd;++xc){var Zb=La[xc];Xa[Zb.index]=+Ca(Zb,xc,La)}}}function L(xc){var dd=0,Zb,Sc,Pd=0,Ma,Vb,qb;if(xc.length){for(Ma=Vb=qb=0;4>qb;++qb)(Zb=xc[qb])&&(Sc=Math.abs(Zb.value))&&(dd+=Zb.value,Pd+=Sc,
Ma+=Sc*Zb.x,Vb+=Sc*Zb.y);xc.x=Ma/Pd;xc.y=Vb/Pd}else{Zb=xc;Zb.x=Zb.data.x;Zb.y=Zb.data.y;do dd+=Xa[Zb.data.index];while(Zb=Zb.next)}xc.value=dd}function va(xc,dd,Zb,Sc){if(!xc.value)return!0;Zb=xc.x-Wa.x;var Pd=xc.y-Wa.y;dd=Sc-dd;Sc=Zb*Zb+Pd*Pd;if(dd*dd/sc<Sc)return Sc<yc&&(0===Zb&&(Zb=1E-6*($a()-.5),Sc+=Zb*Zb),0===Pd&&(Pd=1E-6*($a()-.5),Sc+=Pd*Pd),Sc<Jb&&(Sc=Math.sqrt(Jb*Sc)),Wa.vx+=Zb*xc.value*X/Sc,Wa.vy+=Pd*xc.value*X/Sc),!0;if(!(xc.length||Sc>=yc)){if(xc.data!==Wa||xc.next)0===Zb&&(Zb=1E-6*($a()-
.5),Sc+=Zb*Zb),0===Pd&&(Pd=1E-6*($a()-.5),Sc+=Pd*Pd),Sc<Jb&&(Sc=Math.sqrt(Jb*Sc));do xc.data!==Wa&&(dd=Xa[xc.data.index]*X/Sc,Wa.vx+=Zb*dd,Wa.vy+=Pd*dd);while(xc=xc.next)}}var La,Wa,$a,X,Ca=jc(-30),Xa,Jb=1,yc=Infinity,sc=.81;Y.initialize=function(xc,dd){La=xc;$a=dd;t()};Y.strength=function(xc){return arguments.length?(Ca="function"===typeof xc?xc:jc(+xc),t(),Y):Ca};Y.distanceMin=function(xc){return arguments.length?(Jb=xc*xc,Y):Math.sqrt(Jb)};Y.distanceMax=function(xc){return arguments.length?(yc=
xc*xc,Y):Math.sqrt(yc)};Y.theta=function(xc){return arguments.length?(sc=xc*xc,Y):Math.sqrt(sc)};return Y},link:function(Y){function t(Zb){for(var Sc=0,Pd=Y.length;Sc<dd;++Sc)for(var Ma=0,Vb,qb,Tb,gc,cc;Ma<Pd;++Ma)Vb=Y[Ma],qb=Vb.source,Vb=Vb.target,Tb=Vb.x+Vb.vx-qb.x-qb.vx||1E-6*(xc()-.5),gc=Vb.y+Vb.vy-qb.y-qb.vy||1E-6*(xc()-.5),cc=Math.sqrt(Tb*Tb+gc*gc),cc=(cc-Xa[Ma])/cc*Zb*X[Ma],Tb*=cc,gc*=cc,Vb.vx-=Tb*(cc=sc[Ma]),Vb.vy-=gc*cc,qb.vx+=Tb*(cc=1-cc),qb.vy+=gc*cc}function L(){if(Jb){var Zb=Jb.length,
Sc=Y.length,Pd=new Map(Jb.map((Vb,qb)=>[Wa(Vb,qb,Jb),Vb]));var Ma=0;for(yc=Array(Zb);Ma<Sc;++Ma)Zb=Y[Ma],Zb.index=Ma,"object"!==typeof Zb.source&&(Zb.source=Kb(Pd,Zb.source)),"object"!==typeof Zb.target&&(Zb.target=Kb(Pd,Zb.target)),yc[Zb.source.index]=(yc[Zb.source.index]||0)+1,yc[Zb.target.index]=(yc[Zb.target.index]||0)+1;Ma=0;for(sc=Array(Sc);Ma<Sc;++Ma)Zb=Y[Ma],sc[Ma]=yc[Zb.source.index]/(yc[Zb.source.index]+yc[Zb.target.index]);X=Array(Sc);va();Xa=Array(Sc);La()}}function va(){if(Jb)for(var Zb=
0,Sc=Y.length;Zb<Sc;++Zb)X[Zb]=+$a(Y[Zb],Zb,Y)}function La(){if(Jb)for(var Zb=0,Sc=Y.length;Zb<Sc;++Zb)Xa[Zb]=+Ca(Y[Zb],Zb,Y)}var Wa=ub,$a=function(Zb){return 1/Math.min(yc[Zb.source.index],yc[Zb.target.index])},X,Ca=jc(30),Xa,Jb,yc,sc,xc,dd=1;null==Y&&(Y=[]);t.initialize=function(Zb,Sc){Jb=Zb;xc=Sc;L()};t.links=function(Zb){return arguments.length?(Y=Zb,L(),t):Y};t.id=function(Zb){return arguments.length?(Wa=Zb,t):Wa};t.iterations=function(Zb){return arguments.length?(dd=+Zb,t):dd};t.strength=function(Zb){return arguments.length?
($a="function"===typeof Zb?Zb:jc(+Zb),va(),t):$a};t.distance=function(Zb){return arguments.length?(Ca="function"===typeof Zb?Zb:jc(+Zb),La(),t):Ca};return t},x:function(Y){function t(X){for(var Ca=0,Xa=La.length,Jb;Ca<Xa;++Ca)Jb=La[Ca],Jb.vx+=($a[Ca]-Jb.x)*Wa[Ca]*X}function L(){if(La){var X,Ca=La.length;Wa=Array(Ca);$a=Array(Ca);for(X=0;X<Ca;++X)Wa[X]=isNaN($a[X]=+Y(La[X],X,La))?0:+va(La[X],X,La)}}var va=jc(.1),La,Wa,$a;"function"!==typeof Y&&(Y=jc(null==Y?0:+Y));t.initialize=function(X){La=X;L()};
t.strength=function(X){return arguments.length?(va="function"===typeof X?X:jc(+X),L(),t):va};t.x=function(X){return arguments.length?(Y="function"===typeof X?X:jc(+X),L(),t):Y};return t},y:function(Y){function t(X){for(var Ca=0,Xa=La.length,Jb;Ca<Xa;++Ca)Jb=La[Ca],Jb.vy+=($a[Ca]-Jb.y)*Wa[Ca]*X}function L(){if(La){var X,Ca=La.length;Wa=Array(Ca);$a=Array(Ca);for(X=0;X<Ca;++X)Wa[X]=isNaN($a[X]=+Y(La[X],X,La))?0:+va(La[X],X,La)}}var va=jc(.1),La,Wa,$a;"function"!==typeof Y&&(Y=jc(null==Y?0:+Y));t.initialize=
function(X){La=X;L()};t.strength=function(X){return arguments.length?(va="function"===typeof X?X:jc(+X),L(),t):va};t.y=function(X){return arguments.length?(Y="function"===typeof X?X:jc(+X),L(),t):Y};return t}},H=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],V=["static","iterations"],Aa=["x","y","vx","vy"];Wb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number",
"default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},
{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",
type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":Aa}]};P.inherits(Wb,k.Transform,{transform(Y,t){var L=this.value,va=t.changed(t.ADD_REM),La=Y.modified(H),Wa=Y.iterations||300;L?(va&&(t.modifies("index"),L.nodes(t.source)),(La||t.changed(t.MOD))&&Z(L,Y,0,t)):(this.value=L=pa(t.source,Y),L.on("tick",nb(t.dataflow,this)),Y.static||(va=!0,L.tick()),t.modifies("index"));if(La||va||Y.modified(V)||
t.changed()&&Y.restart)if(L.alpha(Math.max(L.alpha(),Y.alpha||1)).alphaDecay(1-Math.pow(L.alphaMin(),1/Wa)),Y.static)for(L.stop();0<=--Wa;)L.tick();else if(L.stopped()&&L.restart(),!va)return t.StopPropagation;return this.finish(Y,t)},finish(Y,t){const L=t.dataflow;for(let X=this._argops,Ca=0,Xa=X.length,Jb;Ca<Xa;++Ca)if(Jb=X[Ca],"forces"===Jb.name&&"link"===Jb.op._argval.force)for(var va=Jb.op._argops,La=0,Wa=va.length,$a;La<Wa;++La)if("links"===va[La].name&&($a=va[La].op.source)){L.pulse($a,L.changeset().reflow());
break}return t.reflow(Y.modified()).modifies(Aa)}});v.force=Wb})};
shadow$provide[39]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(28),Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(Ma,Vb,qb){const Tb={};Ma.each(gc=>{const cc=gc.data;qb(cc)&&(Tb[Vb(cc)]=gc)});Ma.lookup=Tb;return Ma}function Hb(Ma,Vb){return Ma.parent===Vb.parent?1:2}function ac(Ma,Vb){return Ma+
Vb.x}function vc(Ma,Vb){return Math.max(Ma,Vb.y)}function Ac(Ma){for(var Vb;Vb=Ma.children;)Ma=Vb[0];return Ma}function uc(Ma){for(var Vb;Vb=Ma.children;)Ma=Vb[Vb.length-1];return Ma}function Cb(Ma){var Vb=0,qb=Ma.children,Tb=qb&&qb.length;if(Tb)for(;0<=--Tb;)Vb+=qb[Tb].value;else Vb=1;Ma.value=Vb}function jc(Ma,Vb){Ma instanceof Map?(Ma=[void 0,Ma],void 0===Vb&&(Vb=Ua)):void 0===Vb&&(Vb=Yb);Ma=new Lb(Ma);for(var qb,Tb=[Ma],gc,cc,Ic,zc;qb=Tb.pop();)if((cc=Vb(qb.data))&&(zc=(cc=Array.from(cc)).length))for(qb.children=
cc,Ic=zc-1;0<=Ic;--Ic)Tb.push(gc=cc[Ic]=new Lb(cc[Ic])),gc.parent=qb,gc.depth=qb.depth+1;return Ma.eachBefore(Kb)}function Yb(Ma){return Ma.children}function Ua(Ma){return Array.isArray(Ma)?Ma[1]:null}function ub(Ma){void 0!==Ma.data.value&&(Ma.value=Ma.data.value);Ma.data=Ma.data.data}function Kb(Ma){var Vb=0;do Ma.height=Vb;while((Ma=Ma.parent)&&Ma.height<++Vb)}function Lb(Ma){this.data=Ma;this.depth=this.height=0;this.parent=null}function Db(Ma){if("function"!==typeof Ma)throw Error();return Ma}
function Pb(){return 0}function ab(Ma){return function(){return Ma}}function pb(){let Ma=1;return()=>(Ma=(1664525*Ma+1013904223)%4294967296)/4294967296}function Qa(Ma,Vb){var qb=Ma.r-Vb.r,Tb=Vb.x-Ma.x;Ma=Vb.y-Ma.y;return 0>qb||qb*qb<Tb*Tb+Ma*Ma}function Da(Ma,Vb){var qb=Ma.r-Vb.r+1E-9*Math.max(Ma.r,Vb.r,1),Tb=Vb.x-Ma.x;Ma=Vb.y-Ma.y;return 0<qb&&qb*qb>Tb*Tb+Ma*Ma}function Ka(Ma,Vb){for(var qb=0;qb<Vb.length;++qb)if(!Da(Ma,Vb[qb]))return!1;return!0}function lb(Ma,Vb){var qb=Ma.x,Tb=Ma.y;Ma=Ma.r;var gc=
Vb.x,cc=Vb.y;Vb=Vb.r;var Ic=gc-qb,zc=cc-Tb,Zc=Vb-Ma,Md=Math.sqrt(Ic*Ic+zc*zc);return{x:(qb+gc+Ic/Md*Zc)/2,y:(Tb+cc+zc/Md*Zc)/2,r:(Md+Ma+Vb)/2}}function mb(Ma,Vb,qb){var Tb=Ma.x,gc=Ma.y;Ma=Ma.r;var cc=Vb.x,Ic=Vb.y,zc=Vb.r,Zc=qb.x,Md=qb.y,td=qb.r;qb=Tb-cc;Vb=Tb-Zc;var Ha=gc-Ic,gb=gc-Md,wb=zc-Ma,sa=td-Ma,F=Tb*Tb+gc*gc-Ma*Ma;Ic=F-cc*cc-Ic*Ic+zc*zc;Md=F-Zc*Zc-Md*Md+td*td;Zc=Vb*Ha-qb*gb;cc=(Ha*Md-gb*Ic)/(2*Zc)-Tb;Ha=(gb*wb-Ha*sa)/Zc;gb=(Vb*Ic-qb*Md)/(2*Zc)-gc;qb=(qb*sa-Vb*wb)/Zc;Vb=Ha*Ha+qb*qb-1;wb=2*(Ma+
cc*Ha+gb*qb);Ma=cc*cc+gb*gb-Ma*Ma;Ma=-(1E-6<Math.abs(Vb)?(wb+Math.sqrt(wb*wb-4*Vb*Ma))/(2*Vb):Ma/wb);return{x:Tb+cc+Ha*Ma,y:gc+gb+qb*Ma,r:Ma}}function Pa(Ma,Vb,qb){var Tb=Ma.x-Vb.x,gc=Ma.y-Vb.y,cc=Tb*Tb+gc*gc;if(cc){var Ic=Vb.r+qb.r;Ic*=Ic;var zc=Ma.r+qb.r;zc*=zc;if(Ic>zc){var Zc=(cc+zc-Ic)/(2*cc);Ic=Math.sqrt(Math.max(0,zc/cc-Zc*Zc));qb.x=Ma.x-Zc*Tb-Ic*gc;qb.y=Ma.y-Zc*gc+Ic*Tb}else Zc=(cc+Ic-zc)/(2*cc),Ic=Math.sqrt(Math.max(0,Ic/cc-Zc*Zc)),qb.x=Vb.x+Zc*Tb-Ic*gc,qb.y=Vb.y+Zc*gc+Ic*Tb}else qb.x=Vb.x+
qb.r,qb.y=Vb.y}function xb(Ma,Vb){var qb=Ma.r+Vb.r-1E-6,Tb=Vb.x-Ma.x;Ma=Vb.y-Ma.y;return 0<qb&&qb*qb>Tb*Tb+Ma*Ma}function sb(Ma){var Vb=Ma._,qb=Ma.next._,Tb=Vb.r+qb.r;Ma=(Vb.x*qb.r+qb.x*Vb.r)/Tb;Vb=(Vb.y*qb.r+qb.y*Vb.r)/Tb;return Ma*Ma+Vb*Vb}function Qb(Ma){this._=Ma;this.previous=this.next=null}function Wb(Ma,Vb){if(!(Tb=(Ma="object"===typeof Ma&&"length"in Ma?Ma:Array.from(Ma)).length))return 0;var qb,Tb;var gc=Ma[0];gc.x=0;gc.y=0;if(!(1<Tb))return gc.r;var cc=Ma[1];gc.x=-cc.r;cc.x=gc.r;cc.y=0;
if(!(2<Tb))return gc.r+cc.r;Pa(cc,gc,qb=Ma[2]);gc=new Qb(gc);cc=new Qb(cc);qb=new Qb(qb);gc.next=qb.previous=cc;cc.next=gc.previous=qb;qb.next=cc.previous=gc;var Ic=3;a:for(;Ic<Tb;++Ic){Pa(gc._,cc._,qb=Ma[Ic]);qb=new Qb(qb);var zc=cc.next;var Zc=gc.previous;var Md=cc._.r;var td=gc._.r;do if(Md<=td){if(xb(zc._,qb._)){cc=zc;gc.next=cc;cc.previous=gc;--Ic;continue a}Md+=zc._.r;zc=zc.next}else{if(xb(Zc._,qb._)){gc=Zc;gc.next=cc;cc.previous=gc;--Ic;continue a}td+=Zc._.r;Zc=Zc.previous}while(zc!==Zc.next);
qb.previous=gc;qb.next=cc;gc.next=cc.previous=cc=qb;for(zc=sb(gc);(qb=qb.next)!==cc;)(Zc=sb(qb))<zc&&(gc=qb,zc=Zc);cc=gc.next}gc=[cc._];for(qb=cc;(qb=qb.next)!==cc;)gc.push(qb._);cc=0;gc=Array.from(gc);for(qb=gc.length;qb;)zc=Vb()*qb--|0,Ic=gc[qb],gc[qb]=gc[zc],gc[zc]=Ic;gc=(Vb=gc).length;qb=[];for(var Ha;cc<gc;)if(Ic=Vb[cc],Ha&&Da(Ha,Ic))++cc;else{a:if(Ha=qb,Ka(Ic,Ha))Ha=[Ic];else{for(qb=0;qb<Ha.length;++qb)if(Qa(Ic,Ha[qb])&&Ka(lb(Ha[qb],Ic),Ha)){Ha=[Ha[qb],Ic];break a}for(qb=0;qb<Ha.length-1;++qb)for(cc=
qb+1;cc<Ha.length;++cc)if(Qa(lb(Ha[qb],Ha[cc]),Ic)&&Qa(lb(Ha[qb],Ic),Ha[cc])&&Qa(lb(Ha[cc],Ic),Ha[qb])&&Ka(mb(Ha[qb],Ha[cc],Ic),Ha)){Ha=[Ha[qb],Ha[cc],Ic];break a}throw Error();}a:{Ha=qb=Ha;switch(Ha.length){case 1:Ha=Ha[0];Ha={x:Ha.x,y:Ha.y,r:Ha.r};break a;case 2:Ha=lb(Ha[0],Ha[1]);break a;case 3:Ha=mb(Ha[0],Ha[1],Ha[2]);break a}Ha=void 0}cc=0}qb=Ha;for(Ic=0;Ic<Tb;++Ic)gc=Ma[Ic],gc.x-=qb.x,gc.y-=qb.y;return qb.r}function nb(Ma){return Math.sqrt(Ma.value)}function pa(Ma){return function(Vb){Vb.children||
(Vb.r=Math.max(0,+Ma(Vb)||0))}}function Z(Ma,Vb,qb){return function(Tb){if(gc=Tb.children){var gc,cc,Ic=gc.length,zc=Ma(Tb)*Vb||0;if(zc)for(cc=0;cc<Ic;++cc)gc[cc].r+=zc;var Zc=Wb(gc,qb);if(zc)for(cc=0;cc<Ic;++cc)gc[cc].r-=zc;Tb.r=Zc+zc}}}function Fa(Ma){return function(Vb){var qb=Vb.parent;Vb.r*=Ma;qb&&(Vb.x=qb.x+Ma*Vb.x,Vb.y=qb.y+Ma*Vb.y)}}function Ga(Ma){Ma.x0=Math.round(Ma.x0);Ma.y0=Math.round(Ma.y0);Ma.x1=Math.round(Ma.x1);Ma.y1=Math.round(Ma.y1)}function db(Ma,Vb,qb,Tb,gc){var cc=Ma.children,
Ic=-1,zc=cc.length;for(Tb=Ma.value&&(Tb-Vb)/Ma.value;++Ic<zc;)Ma=cc[Ic],Ma.y0=qb,Ma.y1=gc,Ma.x0=Vb,Ma.x1=Vb+=Ma.value*Tb}function ba(Ma){return Ma.id}function ma(Ma){return Ma.parentId}function q(){function Ma(gc){var cc=Array.from(gc),Ic=Vb,zc=qb,Zc,Md,td=new Map;if(null!=Tb){const ya=cc.map((Za,kb)=>{Za=Tb(Za,kb,gc);Za=`${Za}`;kb=Za.length;Q(Za,kb-1)&&!Q(Za,kb-2)&&(Za=Za.slice(0,-1));return"/"===Za[0]?Za:`/${Za}`}),Na=ya.map(M);Ic=(new Set(ya)).add("");for(wb of Na)Ic.has(wb)||(Ic.add(wb),ya.push(wb),
Na.push(M(wb)),cc.push(Jb));Ic=(Za,kb)=>ya[kb];zc=(Za,kb)=>Na[kb]}var Ha=0;for(Zc=cc.length;Ha<Zc;++Ha){var gb=cc[Ha];var wb=cc[Ha]=new Lb(gb);if(null!=(Md=Ic(gb,Ha,gc))&&(Md+="")){var sa=wb.id=Md;td.set(sa,td.has(sa)?Xa:wb)}null!=(Md=zc(gb,Ha,gc))&&(Md+="")&&(wb.parent=Md)}for(Ha=0;Ha<Zc;++Ha)if(wb=cc[Ha],Md=wb.parent){Ic=td.get(Md);if(!Ic)throw Error("missing: "+Md);if(Ic===Xa)throw Error("ambiguous: "+Md);Ic.children?Ic.children.push(wb):Ic.children=[wb];wb.parent=Ic}else{if(F)throw Error("multiple roots");
var F=wb}if(!F)throw Error("no root");if(null!=Tb){for(;F.data===Jb&&1===F.children.length;)F=F.children[0],--Zc;for(Md=cc.length-1;0<=Md;--Md){wb=cc[Md];if(wb.data!==Jb)break;wb.data=null}}F.parent=Ca;F.eachBefore(function(ya){ya.depth=ya.parent.depth+1;--Zc}).eachBefore(Kb);F.parent=null;if(0<Zc)throw Error("cycle");return F}var Vb=ba,qb=ma,Tb;Ma.id=function(gc){return arguments.length?(Vb=null==gc?null:Db(gc),Ma):Vb};Ma.parentId=function(gc){return arguments.length?(qb=null==gc?null:Db(gc),Ma):
qb};Ma.path=function(gc){return arguments.length?(Tb=null==gc?null:Db(gc),Ma):Tb};return Ma}function M(Ma){let Vb=Ma.length;if(2>Vb)return"";for(;1<--Vb&&!Q(Ma,Vb););return Ma.slice(0,Vb)}function Q(Ma,Vb){if("/"===Ma[Vb]){let qb=0;for(;0<Vb&&"\\"===Ma[--Vb];)++qb;if(0===(qb&1))return!0}return!1}function g(Ma,Vb){return Ma.parent===Vb.parent?1:2}function u(Ma){var Vb=Ma.children;return Vb?Vb[0]:Ma.t}function m(Ma){var Vb=Ma.children;return Vb?Vb[Vb.length-1]:Ma.t}function C(Ma,Vb){this._=Ma;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Vb}function B(Ma){Ma=new C(Ma,0);for(var Vb,qb=[Ma],Tb,gc,cc;Vb=qb.pop();)if(gc=Vb._.children)for(Vb.children=Array(Tb=gc.length),cc=Tb-1;0<=cc;--cc)qb.push(Tb=Vb.children[cc]=new C(gc[cc],cc)),Tb.parent=Vb;(Ma.parent=new C(null,0)).children=[Ma];return Ma}function A(Ma,Vb,qb,Tb,gc){var cc=Ma.children,Ic=-1,zc=cc.length;for(gc=Ma.value&&(gc-qb)/Ma.value;++Ic<zc;)Ma=cc[Ic],Ma.x0=Vb,Ma.x1=Tb,Ma.y0=qb,Ma.y1=qb+=
Ma.value*gc}function E(Ma,Vb,qb,Tb,gc,cc){for(var Ic=[],zc=Vb.children,Zc,Md,td=Zc=0,Ha=zc.length,gb,wb=Vb.value,sa,F,ya,Na,Za,kb;Zc<Ha;){Vb=gc-qb;gb=cc-Tb;do sa=zc[td++].value;while(!sa&&td<Ha);F=ya=sa;kb=Math.max(gb/Vb,Vb/gb)/(wb*Ma);Na=sa*sa*kb;for(Za=Math.max(ya/Na,Na/F);td<Ha;++td){sa+=Md=zc[td].value;Md<F&&(F=Md);Md>ya&&(ya=Md);Na=sa*sa*kb;Na=Math.max(ya/Na,Na/F);if(Na>Za){sa-=Md;break}Za=Na}Ic.push(Zc={value:sa,dice:Vb<gb,children:zc.slice(Zc,td)});Zc.dice?db(Zc,qb,Tb,gc,wb?Tb+=gb*sa/wb:cc):
A(Zc,qb,Tb,wb?qb+=Vb*sa/wb:gc,cc);wb-=sa;Zc=td}return Ic}function H(){function Ma(gb){gb.x0=gb.y0=0;gb.x1=gc;gb.y1=cc;gb.eachBefore(Vb);Ic=[0];Tb&&gb.eachBefore(Ga);return gb}function Vb(gb){var wb=Ic[gb.depth],sa=gb.x0+wb,F=gb.y0+wb,ya=gb.x1-wb,Na=gb.y1-wb;ya<sa&&(sa=ya=(sa+ya)/2);Na<F&&(F=Na=(F+Na)/2);gb.x0=sa;gb.y0=F;gb.x1=ya;gb.y1=Na;gb.children&&(wb=Ic[gb.depth+1]=zc(gb)/2,sa+=Ha(gb)-wb,F+=Zc(gb)-wb,ya-=Md(gb)-wb,Na-=td(gb)-wb,ya<sa&&(sa=ya=(sa+ya)/2),Na<F&&(F=Na=(F+Na)/2),qb(gb,sa,F,ya,Na))}
var qb=sc,Tb=!1,gc=1,cc=1,Ic=[0],zc=Pb,Zc=Pb,Md=Pb,td=Pb,Ha=Pb;Ma.round=function(gb){return arguments.length?(Tb=!!gb,Ma):Tb};Ma.size=function(gb){return arguments.length?(gc=+gb[0],cc=+gb[1],Ma):[gc,cc]};Ma.tile=function(gb){return arguments.length?(qb=Db(gb),Ma):qb};Ma.padding=function(gb){return arguments.length?Ma.paddingInner(gb).paddingOuter(gb):Ma.paddingInner()};Ma.paddingInner=function(gb){return arguments.length?(zc="function"===typeof gb?gb:ab(+gb),Ma):zc};Ma.paddingOuter=function(gb){return arguments.length?
Ma.paddingTop(gb).paddingRight(gb).paddingBottom(gb).paddingLeft(gb):Ma.paddingTop()};Ma.paddingTop=function(gb){return arguments.length?(Zc="function"===typeof gb?gb:ab(+gb),Ma):Zc};Ma.paddingRight=function(gb){return arguments.length?(Md="function"===typeof gb?gb:ab(+gb),Ma):Md};Ma.paddingBottom=function(gb){return arguments.length?(td="function"===typeof gb?gb:ab(+gb),Ma):td};Ma.paddingLeft=function(gb){return arguments.length?(Ha="function"===typeof gb?gb:ab(+gb),Ma):Ha};return Ma}function V(Ma){k.Transform.call(this,
null,Ma)}function Aa(){function Ma(gc,cc){if(cc>=qb.length)return gc;const Ic=gc.length,zc=qb[cc++],Zc={},Md={};let td=-1,Ha,gb,wb;for(;++td<Ic;)Ha=zc(gb=gc[td])+"",(wb=Zc[Ha])?wb.push(gb):Zc[Ha]=[gb];for(Ha in Zc)Md[Ha]=Ma(Zc[Ha],cc);return Md}function Vb(gc,cc){if(++cc>qb.length)return gc;const Ic=[];for(const zc in gc)Ic.push({key:zc,values:Vb(gc[zc],cc)});return Ic}const qb=[],Tb={entries:gc=>Vb(Ma(gc,0),0),key:gc=>(qb.push(gc),Tb)};return Tb}function Y(Ma){k.Transform.call(this,null,Ma)}function t(Ma,
Vb,qb){for(let Tb,gc=0,cc=Vb.length;gc<cc;++gc)if(Tb=Vb[gc],Tb in qb)Ma[Tb](qb[Tb])}function L(Ma){Y.call(this,Ma)}function va(Ma){Y.call(this,Ma)}function La(Ma){k.Transform.call(this,null,Ma)}function Wa(Ma){Y.call(this,Ma)}function $a(Ma){k.Transform.call(this,[],Ma)}function X(Ma){Y.call(this,Ma)}Lb.prototype=jc.prototype={constructor:Lb,count:function(){return this.eachAfter(Cb)},each:function(Ma,Vb){let qb=-1;for(const Tb of this)Ma.call(Vb,Tb,++qb,this);return this},eachAfter:function(Ma,Vb){for(var qb,
Tb=[this],gc=[],cc,Ic,zc=-1;qb=Tb.pop();)if(gc.push(qb),qb=qb.children)for(cc=0,Ic=qb.length;cc<Ic;++cc)Tb.push(qb[cc]);for(;qb=gc.pop();)Ma.call(Vb,qb,++zc,this);return this},eachBefore:function(Ma,Vb){for(var qb,Tb=[this],gc,cc=-1;qb=Tb.pop();)if(Ma.call(Vb,qb,++cc,this),qb=qb.children)for(gc=qb.length-1;0<=gc;--gc)Tb.push(qb[gc]);return this},find:function(Ma,Vb){let qb=-1;for(const Tb of this)if(Ma.call(Vb,Tb,++qb,this))return Tb},sum:function(Ma){return this.eachAfter(function(Vb){for(var qb=
+Ma(Vb.data)||0,Tb=Vb.children,gc=Tb&&Tb.length;0<=--gc;)qb+=Tb[gc].value;Vb.value=qb})},sort:function(Ma){return this.eachBefore(function(Vb){Vb.children&&Vb.children.sort(Ma)})},path:function(Ma){var Vb=this;var qb=Vb;var Tb=Ma;if(qb!==Tb){var gc=qb.ancestors(),cc=Tb.ancestors(),Ic=null;qb=gc.pop();for(Tb=cc.pop();qb===Tb;)Ic=qb,qb=gc.pop(),Tb=cc.pop();qb=Ic}for(Tb=[Vb];Vb!==qb;)Vb=Vb.parent,Tb.push(Vb);for(Vb=Tb.length;Ma!==qb;)Tb.splice(Vb,0,Ma),Ma=Ma.parent;return Tb},ancestors:function(){for(var Ma=
this,Vb=[Ma];Ma=Ma.parent;)Vb.push(Ma);return Vb},descendants:function(){return Array.from(this)},leaves:function(){var Ma=[];this.eachBefore(function(Vb){Vb.children||Ma.push(Vb)});return Ma},links:function(){var Ma=this,Vb=[];Ma.each(function(qb){qb!==Ma&&Vb.push({source:qb.parent,target:qb})});return Vb},copy:function(){return jc(this).eachBefore(ub)},[Symbol.iterator]:function*(){var Ma,Vb=[this],qb;do{var Tb=Vb.reverse();for(Vb=[];Ma=Tb.pop();)if(yield Ma,Ma=Ma.children){var gc=0;for(qb=Ma.length;gc<
qb;++gc)Vb.push(Ma[gc])}}while(Vb.length)}};var Ca={depth:-1},Xa={},Jb={};C.prototype=Object.create(Lb.prototype);var yc=(1+Math.sqrt(5))/2,sc=function qb(Vb){function Tb(gc,cc,Ic,zc,Zc){E(Vb,gc,cc,Ic,zc,Zc)}Tb.ratio=function(gc){return qb(1<(gc=+gc)?gc:1)};return Tb}(yc);yc=function Tb(qb){function gc(cc,Ic,zc,Zc,Md){if((td=cc._squarify)&&td.ratio===qb)for(var td,Ha,gb,wb=-1,sa,F=td.length,ya=cc.value;++wb<F;){cc=td[wb];Ha=cc.children;gb=cc.value=0;for(sa=Ha.length;gb<sa;++gb)cc.value+=Ha[gb].value;
cc.dice?db(cc,Ic,zc,Zc,ya?zc+=(Md-zc)*cc.value/ya:Md):A(cc,Ic,zc,ya?Ic+=(Zc-Ic)*cc.value/ya:Zc,Md);ya-=cc.value}else cc._squarify=td=E(qb,cc,Ic,zc,Zc,Md),td.ratio=qb}gc.ratio=function(cc){return Tb(1<(cc=+cc)?cc:1)};return gc}(yc);V.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const xc=qb=>qb.values;P.inherits(V,k.Transform,{transform(qb,Tb){Tb.source||P.error("Nest transform requires an upstream data source.");
var gc=qb.generate,cc=qb.modified(),Ic=Tb.clone(),zc=this.value;if(!zc||cc||Tb.changed())zc&&zc.each(Zc=>{Zc.children&&k.isTuple(Zc.data)&&Ic.rem.push(Zc.data)}),this.value=zc=jc({values:P.array(qb.keys).reduce((Zc,Md)=>{Zc.key(Md);return Zc},Aa()).entries(Ic.source)},xc),gc&&zc.each(Zc=>{Zc.children&&(Zc=k.ingest(Zc.data),Ic.add.push(Zc),Ic.source.push(Zc))}),ib(zc,k.tupleid,k.tupleid);Ic.source.root=zc;return Ic}});const dd=(qb,Tb)=>qb.parent===Tb.parent?1:2;P.inherits(Y,k.Transform,{transform(qb,
Tb){Tb.source&&Tb.source.root||P.error(this.constructor.name+" transform requires a backing tree data source.");const gc=this.layout(qb.method),cc=this.fields,Ic=Tb.source.root,zc=qb.as||cc;qb.field?Ic.sum(qb.field):Ic.count();qb.sort&&Ic.sort(k.stableCompare(qb.sort,Zc=>Zc.data));t(gc,this.params,qb);gc.separation&&gc.separation(!1!==qb.separation?dd:P.one);try{this.value=gc(Ic)}catch(Zc){P.error(Zc)}Ic.each(Zc=>{const Md=Zc.data,td=cc.length-1;for(let Ha=0;Ha<td;++Ha)Md[zc[Ha]]=Zc[cc[Ha]];Md[zc[td]]=
Zc.children?Zc.children.length:0});return Tb.reflow(qb.modified()).modifies(zc).modifies("leaf")}});var Zb=["x","y","r","depth","children"];L.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Zb.length,"default":Zb}]};P.inherits(L,Y,{layout:function(){function qb(zc){const Zc=
pb();zc.x=gc/2;zc.y=cc/2;Tb?zc.eachBefore(pa(Tb)).eachAfter(Z(Ic,.5,Zc)).eachBefore(Fa(1)):zc.eachBefore(pa(nb)).eachAfter(Z(Pb,1,Zc)).eachAfter(Z(Ic,zc.r/Math.min(gc,cc),Zc)).eachBefore(Fa(Math.min(gc,cc)/(2*zc.r)));return zc}var Tb=null,gc=1,cc=1,Ic=Pb;qb.radius=function(zc){return arguments.length?(Tb=null==zc?null:Db(zc),qb):Tb};qb.size=function(zc){return arguments.length?(gc=+zc[0],cc=+zc[1],qb):[gc,cc]};qb.padding=function(zc){return arguments.length?(Ic="function"===typeof zc?zc:ab(+zc),qb):
Ic};return qb},params:["radius","size","padding"],fields:Zb});Zb="x0 y0 x1 y1 depth children".split(" ");va.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Zb.length,"default":Zb}]};P.inherits(va,Y,{layout:function(){function qb(Zc){var Md=Zc.height+1;
Zc.x0=Zc.y0=Ic;Zc.x1=gc;Zc.y1=cc/Md;Zc.eachBefore(Tb(cc,Md));zc&&Zc.eachBefore(Ga);return Zc}function Tb(Zc,Md){return function(td){td.children&&db(td,td.x0,Zc*(td.depth+1)/Md,td.x1,Zc*(td.depth+2)/Md);var Ha=td.x0,gb=td.y0,wb=td.x1-Ic,sa=td.y1-Ic;wb<Ha&&(Ha=wb=(Ha+wb)/2);sa<gb&&(gb=sa=(gb+sa)/2);td.x0=Ha;td.y0=gb;td.x1=wb;td.y1=sa}}var gc=1,cc=1,Ic=0,zc=!1;qb.round=function(Zc){return arguments.length?(zc=!!Zc,qb):zc};qb.size=function(Zc){return arguments.length?(gc=+Zc[0],cc=+Zc[1],qb):[gc,cc]};
qb.padding=function(Zc){return arguments.length?(Ic=+Zc,qb):Ic};return qb},params:["size","round","padding"],fields:Zb});La.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};P.inherits(La,k.Transform,{transform(qb,Tb){Tb.source||P.error("Stratify transform requires an upstream data source.");let gc=this.value;const cc=qb.modified(),Ic=Tb.fork(Tb.ALL).materialize(Tb.SOURCE);Tb=!gc||cc||Tb.changed(Tb.ADD_REM)||
Tb.modified(qb.key.fields)||Tb.modified(qb.parentKey.fields);Ic.source=Ic.source.slice();Tb&&(gc=Ic.source.length?ib(q().id(qb.key).parentId(qb.parentKey)(Ic.source),qb.key,P.truthy):ib(q()([{}]),qb.key,qb.key));Ic.source.root=this.value=gc;return Ic}});const Sc={tidy:function(){function qb(td){var Ha=B(td);Ha.eachAfter(Tb);Ha.parent.m=-Ha.z;Ha.eachBefore(gc);if(Md)td.eachBefore(cc);else{var gb=td,wb=td,sa=td;td.eachBefore(function(Za){Za.x<gb.x&&(gb=Za);Za.x>wb.x&&(wb=Za);Za.depth>sa.depth&&(sa=
Za)});Ha=gb===wb?1:Ic(gb,wb)/2;var F=Ha-gb.x,ya=zc/(wb.x+Ha+F),Na=Zc/(sa.depth||1);td.eachBefore(function(Za){Za.x=(Za.x+F)*ya;Za.y=Za.depth*Na})}return td}function Tb(td){var Ha=td.children,gb=td.parent.children,wb=td.i?gb[td.i-1]:null;if(Ha){for(var sa=0,F=0,ya=td.children,Na=ya.length,Za;0<=--Na;)Za=ya[Na],Za.z+=sa,Za.m+=sa,sa+=Za.s+(F+=Za.c);Ha=(Ha[0].z+Ha[Ha.length-1].z)/2;wb?(td.z=wb.z+Ic(td._,wb._),td.m=td.z-Ha):td.z=Ha}else wb&&(td.z=wb.z+Ic(td._,wb._));Ha=td.parent;gb=td.parent.A||gb[0];
if(wb){F=sa=td;ya=sa.parent.children[0];Na=sa.m;Za=F.m;for(var kb=wb.m,Gb=ya.m,nc;wb=m(wb),sa=u(sa),wb&&sa;){ya=u(ya);F=m(F);F.a=td;nc=wb.z+kb-sa.z-Na+Ic(wb._,sa._);if(0<nc){var dc=wb.a.parent===td.parent?wb.a:gb,ic=td,Vc=nc,ed=Vc/(ic.i-dc.i);ic.c-=ed;ic.s+=Vc;dc.c+=ed;ic.z+=Vc;ic.m+=Vc;Na+=nc;Za+=nc}kb+=wb.m;Na+=sa.m;Gb+=ya.m;Za+=F.m}wb&&!m(F)&&(F.t=wb,F.m+=kb-Za);sa&&!u(ya)&&(ya.t=sa,ya.m+=Na-Gb,gb=td)}Ha.A=gb}function gc(td){td._.x=td.z+td.parent.m;td.m+=td.parent.m}function cc(td){td.x*=zc;td.y=
td.depth*Zc}var Ic=g,zc=1,Zc=1,Md=null;qb.separation=function(td){return arguments.length?(Ic=td,qb):Ic};qb.size=function(td){return arguments.length?(Md=!1,zc=+td[0],Zc=+td[1],qb):Md?null:[zc,Zc]};qb.nodeSize=function(td){return arguments.length?(Md=!0,zc=+td[0],Zc=+td[1],qb):Md?[zc,Zc]:null};return qb},cluster:function(){function qb(zc){var Zc,Md=0;zc.eachAfter(function(sa){var F=sa.children;if(F){var ya=F.reduce(ac,0)/F.length;sa.x=ya;sa.y=1+F.reduce(vc,0)}else sa.x=Zc?Md+=Tb(sa,Zc):0,sa.y=0,Zc=
sa});var td=Ac(zc),Ha=uc(zc),gb=td.x-Tb(td,Ha)/2,wb=Ha.x+Tb(Ha,td)/2;return zc.eachAfter(Ic?function(sa){sa.x=(sa.x-zc.x)*gc;sa.y=(zc.y-sa.y)*cc}:function(sa){sa.x=(sa.x-gb)/(wb-gb)*gc;sa.y=(1-(zc.y?sa.y/zc.y:1))*cc})}var Tb=Hb,gc=1,cc=1,Ic=!1;qb.separation=function(zc){return arguments.length?(Tb=zc,qb):Tb};qb.size=function(zc){return arguments.length?(Ic=!1,gc=+zc[0],cc=+zc[1],qb):Ic?null:[gc,cc]};qb.nodeSize=function(zc){return arguments.length?(Ic=!0,gc=+zc[0],cc=+zc[1],qb):Ic?[gc,cc]:null};return qb}};
Zb=["x","y","depth","children"];Wa.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Zb.length,"default":Zb}]};P.inherits(Wa,Y,{layout(qb){qb=qb||"tidy";if(P.hasOwnProperty(Sc,
qb))return Sc[qb]();P.error("Unrecognized Tree layout method: "+qb)},params:["size","nodeSize"],fields:Zb});$a.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};P.inherits($a,k.Transform,{transform(qb,Tb){qb=this.value;const gc=Tb.source&&Tb.source.root,cc=Tb.fork(Tb.NO_SOURCE),Ic={};gc||P.error("TreeLinks transform requires a tree data source.");Tb.changed(Tb.ADD_REM)?(cc.rem=qb,Tb.visit(Tb.SOURCE,zc=>Ic[k.tupleid(zc)]=1),gc.each(zc=>{const Zc=zc.data;(zc=zc.parent&&
zc.parent.data)&&Ic[k.tupleid(Zc)]&&Ic[k.tupleid(zc)]&&cc.add.push(k.ingest({source:zc,target:Zc}))}),this.value=cc.add):Tb.changed(Tb.MOD)&&(Tb.visit(Tb.MOD,zc=>Ic[k.tupleid(zc)]=1),qb.forEach(zc=>{(Ic[k.tupleid(zc.source)]||Ic[k.tupleid(zc.target)])&&cc.mod.push(zc)}));return cc}});const Pd={binary:function(qb,Tb,gc,cc,Ic){function zc(wb,sa,F,ya,Na,Za,kb){if(wb>=sa-1)wb=Zc[wb],wb.x0=ya,wb.y0=Na,wb.x1=Za,wb.y1=kb;else{for(var Gb=gb[wb],nc=F/2+Gb,dc=wb+1,ic=sa-1;dc<ic;){var Vc=dc+ic>>>1;gb[Vc]<nc?
dc=Vc+1:ic=Vc}nc-gb[dc-1]<gb[dc]-nc&&wb+1<dc&&--dc;Gb=gb[dc]-Gb;nc=F-Gb;Za-ya>kb-Na?(F=F?(ya*nc+Za*Gb)/F:Za,zc(wb,dc,Gb,ya,Na,F,kb),zc(dc,sa,nc,F,Na,Za,kb)):(F=F?(Na*nc+kb*Gb)/F:kb,zc(wb,dc,Gb,ya,Na,Za,F),zc(dc,sa,nc,ya,F,Za,kb))}}var Zc=qb.children,Md,td=Zc.length,Ha,gb=Array(td+1);for(gb[0]=Ha=Md=0;Md<td;++Md)gb[Md+1]=Ha+=Zc[Md].value;zc(0,td,qb.value,Tb,gc,cc,Ic)},dice:db,slice:A,slicedice:function(qb,Tb,gc,cc,Ic){(qb.depth&1?A:db)(qb,Tb,gc,cc,Ic)},squarify:sc,resquarify:yc};yc="x0 y0 x1 y1 depth children".split(" ");
X.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number",
"default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:yc.length,"default":yc}]};P.inherits(X,Y,{layout(){const qb=H();qb.ratio=Tb=>{const gc=qb.tile();gc.ratio&&qb.tile(gc.ratio(Tb))};qb.method=Tb=>{P.hasOwnProperty(Pd,Tb)?qb.tile(Pd[Tb]):P.error("Unrecognized Treemap layout method: "+Tb)};return qb},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:yc});v.nest=V;v.pack=L;v.partition=va;v.stratify=La;v.tree=Wa;v.treelinks=$a;v.treemap=X})};
shadow$provide[40]=function(fc,Fb,Xc,ob){!function(v,k){"object"==typeof ob&&"undefined"!=typeof Xc?k(ob):"function"==typeof define&&define.amd?define(["exports"],k):k((v="undefined"!=typeof globalThis?globalThis:v||self).vega={})}(this,function(v){function k(P,ib){if("undefined"!=typeof document&&document.createElement){const Hb=document.createElement("canvas");if(Hb&&Hb.getContext)return Hb.width=P,Hb.height=ib,Hb}return null}v.canvas=k;v.domCanvas=k;v.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[41]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function P(t){const L=k.array(t).slice(),va={};L.length||k.error("Missing time unit.");L.forEach(La=>{k.hasOwnProperty(Da,La)?va[La]=1:k.error(`Invalid time unit: ${La}.`)});1<(va.week||va.day?1:0)+(va.quarter||va.month||
va.date?1:0)+(va.dayofyear?1:0)&&k.error(`Incompatible time units: ${t}`);L.sort((La,Wa)=>Da[La]-Da[Wa]);return L}function ib(t,L,va,La){function Wa($a){return t($a=0===arguments.length?new Date:new Date(+$a)),$a}Wa.floor=function($a){return t($a=new Date(+$a)),$a};Wa.ceil=function($a){return t($a=new Date($a-1)),L($a,1),t($a),$a};Wa.round=function($a){var X=Wa($a),Ca=Wa.ceil($a);return $a-X<Ca-$a?X:Ca};Wa.offset=function($a,X){return L($a=new Date(+$a),null==X?1:Math.floor(X)),$a};Wa.range=function($a,
X,Ca){var Xa=[],Jb;$a=Wa.ceil($a);Ca=null==Ca?1:Math.floor(Ca);if(!($a<X&&0<Ca))return Xa;do Xa.push(Jb=new Date(+$a)),L($a,Ca),t($a);while(Jb<$a&&$a<X);return Xa};Wa.filter=function($a){return ib(function(X){if(X>=X)for(;t(X),!$a(X);)X.setTime(X-1)},function(X,Ca){if(X>=X)if(0>Ca)for(;0>=++Ca;)for(;L(X,-1),!$a(X););else for(;0<=--Ca;)for(;L(X,1),!$a(X););})};va&&(Wa.count=function($a,X){lb.setTime(+$a);mb.setTime(+X);t(lb);t(mb);return Math.floor(va(lb,mb))},Wa.every=function($a){$a=Math.floor($a);
return isFinite($a)&&0<$a?1<$a?Wa.filter(La?function(X){return 0===La(X)%$a}:function(X){return 0===Wa.count(0,X)%$a}):Wa:null});return Wa}function Hb(t){return ib(function(L){L.setDate(L.getDate()-(L.getDay()+7-t)%7);L.setHours(0,0,0,0)},function(L,va){L.setDate(L.getDate()+7*va)},function(L,va){return(va-L-6E4*(va.getTimezoneOffset()-L.getTimezoneOffset()))/6048E5})}function ac(t){return ib(function(L){L.setUTCDate(L.getUTCDate()-(L.getUTCDay()+7-t)%7);L.setUTCHours(0,0,0,0)},function(L,va){L.setUTCDate(L.getUTCDate()+
7*va)},function(L,va){return(va-L)/6048E5})}function vc(t,L){return null==t||null==L?NaN:t<L?-1:t>L?1:t>=L?0:NaN}function Ac(t){function L($a,X,Ca=0,Xa=$a.length){if(Ca<Xa){if(0!==La(X,X))return Xa;do{const Jb=Ca+Xa>>>1;0>Wa($a[Jb],X)?Ca=Jb+1:Xa=Jb}while(Ca<Xa)}return Ca}let va=t,La=t,Wa=t;2!==t.length&&(va=($a,X)=>t($a)-X,La=vc,Wa=($a,X)=>vc(t($a),X));return{left:L,center:function($a,X,Ca=0,Xa=$a.length){Xa=L($a,X,Ca,Xa-1);return Xa>Ca&&va($a[Xa-1],X)>-va($a[Xa],X)?Xa-1:Xa},right:function($a,X,Ca=
0,Xa=$a.length){if(Ca<Xa){if(0!==La(X,X))return Xa;do{const Jb=Ca+Xa>>>1;0>=Wa($a[Jb],X)?Ca=Jb+1:Xa=Jb}while(Ca<Xa)}return Ca}}}function uc(t,L,va){var La=Math.abs(L-t)/Math.max(0,va);va=Math.pow(10,Math.floor(Math.log(La)/Math.LN10));La/=va;La>=M?va*=10:La>=Q?va*=5:La>=g&&(va*=2);return L<t?-va:va}function Cb(t){u.setFullYear(t);u.setMonth(0);u.setDate(1);u.setHours(0,0,0,0);return u}function jc(t){return Wb.count(Cb(t.getFullYear())-1,t)}function Yb(t){return nb.count(Cb(t.getFullYear())-1,t)}function Ua(t,
L,va,La,Wa,$a,X){return 0<=t&&100>t?(L=new Date(-1,L,va,La,Wa,$a,X),L.setFullYear(t),L):new Date(t,L,va,La,Wa,$a,X)}function ub(t){const L=Date.UTC(t.getUTCFullYear(),0,1);return db.count(L-1,t)}function Kb(t){const L=Date.UTC(t.getUTCFullYear(),0,1);return ba.count(L-1,t)}function Lb(t){u.setTime(Date.UTC(t,0,1));return u.getUTCDay()}function Db(t,L,va,La,Wa,$a,X){return 0<=t&&100>t?(t=new Date(Date.UTC(-1,L,va,La,Wa,$a,X)),t.setUTCFullYear(va.y),t):new Date(Date.UTC(t,L,va,La,Wa,$a,X))}function Pb(t,
L,va,La,Wa){const $a=L||1,X=k.peek(t);L=(Sc,Pd,Ma)=>{Ma=Ma||Sc;return ab(va[Ma],La[Ma],Sc===X&&$a,Pd)};const Ca=new Date;t=k.toSet(t);const Xa=t.year?L("year"):k.constant(2012),Jb=t.month?L("month"):t.quarter?L("quarter"):k.zero,yc=t.week&&t.day?L("day",1,"weekday"):t.week?L("week",1):t.day?L("day",1):t.date?L("date",1):t.dayofyear?L("dayofyear",1):k.one,sc=t.hours?L("hours"):k.zero,xc=t.minutes?L("minutes"):k.zero,dd=t.seconds?L("seconds"):k.zero,Zb=t.milliseconds?L("milliseconds"):k.zero;return function(Sc){Ca.setTime(+Sc);
Sc=Xa(Ca);return Wa(Sc,Jb(Ca),yc(Ca,Sc),sc(Ca),xc(Ca),dd(Ca),Zb(Ca))}}function ab(t,L,va,La){const Wa=1>=va?t:La?($a,X)=>La+va*Math.floor((t($a,X)-La)/va):($a,X)=>va*Math.floor(t($a,X)/va);return L?($a,X)=>L(Wa($a,X),X):Wa}function pb(t,L,va){return L+7*t-(va+6)%7}const Qa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Da=Qa.reduce((t,L,va)=>(t[L]=1+va,t),{}),Ka={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var lb=new Date,mb=new Date,Pa=ib(function(){},function(t,L){t.setTime(+t+L)},function(t,L){return L-t});Pa.every=function(t){t=Math.floor(t);return isFinite(t)&&0<t?1<t?ib(function(L){L.setTime(Math.floor(L/t)*t)},function(L,va){L.setTime(+L+va*t)},function(L,va){return(va-L)/t}):Pa:null};var xb=ib(function(t){t.setTime(t-t.getMilliseconds())},function(t,L){t.setTime(+t+
1E3*L)},function(t,L){return(L-t)/1E3},function(t){return t.getUTCSeconds()}),sb=ib(function(t){t.setTime(t-t.getMilliseconds()-1E3*t.getSeconds())},function(t,L){t.setTime(+t+6E4*L)},function(t,L){return(L-t)/6E4},function(t){return t.getMinutes()}),Qb=ib(function(t){t.setTime(t-t.getMilliseconds()-1E3*t.getSeconds()-6E4*t.getMinutes())},function(t,L){t.setTime(+t+36E5*L)},function(t,L){return(L-t)/36E5},function(t){return t.getHours()}),Wb=ib(t=>t.setHours(0,0,0,0),(t,L)=>t.setDate(t.getDate()+
L),(t,L)=>(L-t-6E4*(L.getTimezoneOffset()-t.getTimezoneOffset()))/864E5,t=>t.getDate()-1),nb=Hb(0);Hb(1);Hb(2);Hb(3);Hb(4);Hb(5);Hb(6);var pa=ib(function(t){t.setDate(1);t.setHours(0,0,0,0)},function(t,L){t.setMonth(t.getMonth()+L)},function(t,L){return L.getMonth()-t.getMonth()+12*(L.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Z=ib(function(t){t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,L){t.setFullYear(t.getFullYear()+L)},function(t,L){return L.getFullYear()-t.getFullYear()},
function(t){return t.getFullYear()});Z.every=function(t){return isFinite(t=Math.floor(t))&&0<t?ib(function(L){L.setFullYear(Math.floor(L.getFullYear()/t)*t);L.setMonth(0,1);L.setHours(0,0,0,0)},function(L,va){L.setFullYear(L.getFullYear()+va*t)}):null};var Fa=ib(function(t){t.setUTCSeconds(0,0)},function(t,L){t.setTime(+t+6E4*L)},function(t,L){return(L-t)/6E4},function(t){return t.getUTCMinutes()}),Ga=ib(function(t){t.setUTCMinutes(0,0,0)},function(t,L){t.setTime(+t+36E5*L)},function(t,L){return(L-
t)/36E5},function(t){return t.getUTCHours()}),db=ib(function(t){t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCDate(t.getUTCDate()+L)},function(t,L){return(L-t)/864E5},function(t){return t.getUTCDate()-1}),ba=ac(0);ac(1);ac(2);ac(3);ac(4);ac(5);ac(6);var ma=ib(function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCMonth(t.getUTCMonth()+L)},function(t,L){return L.getUTCMonth()-t.getUTCMonth()+12*(L.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),q=ib(function(t){t.setUTCMonth(0,
1);t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCFullYear(t.getUTCFullYear()+L)},function(t,L){return L.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});q.every=function(t){return isFinite(t=Math.floor(t))&&0<t?ib(function(L){L.setUTCFullYear(Math.floor(L.getUTCFullYear()/t)*t);L.setUTCMonth(0,1);L.setUTCHours(0,0,0,0)},function(L,va){L.setUTCFullYear(L.getUTCFullYear()+va*t)}):null};var M=Math.sqrt(50),Q=Math.sqrt(10),g=Math.sqrt(2);const u=new Date,m={year:t=>t.getFullYear(),
quarter:t=>Math.floor(t.getMonth()/3),month:t=>t.getMonth(),date:t=>t.getDate(),hours:t=>t.getHours(),minutes:t=>t.getMinutes(),seconds:t=>t.getSeconds(),milliseconds:t=>t.getMilliseconds(),dayofyear:t=>jc(t),week:t=>Yb(t),weekday:(t,L)=>pb(Yb(t),t.getDay(),Cb(L).getDay()),day:(t,L)=>pb(1,t.getDay(),Cb(L).getDay())},C={quarter:t=>3*t,week:(t,L)=>pb(t,0,Cb(L).getDay())},B={year:t=>t.getUTCFullYear(),quarter:t=>Math.floor(t.getUTCMonth()/3),month:t=>t.getUTCMonth(),date:t=>t.getUTCDate(),hours:t=>t.getUTCHours(),
minutes:t=>t.getUTCMinutes(),seconds:t=>t.getUTCSeconds(),milliseconds:t=>t.getUTCMilliseconds(),dayofyear:t=>ub(t),week:t=>Kb(t),day:(t,L)=>pb(1,t.getUTCDay(),Lb(L)),weekday:(t,L)=>pb(Kb(t),t.getUTCDay(),Lb(L))},A={quarter:t=>3*t,week:(t,L)=>pb(t,0,Lb(L))},E={year:Z,quarter:pa.every(3),month:pa,week:nb,date:Wb,day:Wb,dayofyear:Wb,hours:Qb,minutes:sb,seconds:xb,milliseconds:Pa},H={year:q,quarter:ma.every(3),month:ma,week:ba,date:db,day:db,dayofyear:db,hours:Ga,minutes:Fa,seconds:xb,milliseconds:Pa},
V="year month date hours minutes seconds milliseconds".split(" ");xb=V.slice(0,-1);sb=xb.slice(0,-1);Qb=sb.slice(0,-1);pa=Qb.slice(0,-1);Z=["year","month"];const Aa=["year"],Y=[[xb,1,1E3],[xb,5,5E3],[xb,15,15E3],[xb,30,3E4],[sb,1,6E4],[sb,5,3E5],[sb,15,9E5],[sb,30,18E5],[Qb,1,36E5],[Qb,3,108E5],[Qb,6,216E5],[Qb,12,432E5],[pa,1,864E5],[["year","week"],1,6048E5],[Z,1,2592E6],[Z,3,7776E6],[Aa,1,31536E6]];v.DATE="date";v.DAY="day";v.DAYOFYEAR="dayofyear";v.HOURS="hours";v.MILLISECONDS="milliseconds";
v.MINUTES="minutes";v.MONTH="month";v.QUARTER="quarter";v.SECONDS="seconds";v.TIME_UNITS=Qa;v.WEEK="week";v.YEAR="year";v.dayofyear=function(t){return jc(new Date(t))};v.timeBin=function(t){var L=t.extent;t=t.maxbins||40;var va=Math.abs(k.span(L))/t;let La=Ac(Wa=>Wa[2]).right(Y,va);La===Y.length?(va=Aa,L=uc(L[0]/31536E6,L[1]/31536E6,t)):La?(La=Y[va/Y[La-1][2]<Y[La][2]/va?La-1:La],va=La[0],L=La[1]):(va=V,L=Math.max(uc(L[0],L[1],t),1));return{units:va,step:L}};v.timeFloor=function(t,L){return Pb(t,
L||1,m,C,Ua)};v.timeInterval=function(t){return E[t]};v.timeOffset=function(t,L,va){return(t=E[t])?t.offset(L,va):void 0};v.timeSequence=function(t,L,va,La){return(t=E[t])?t.range(L,va,La):void 0};v.timeUnitSpecifier=function(t,L){L=k.extend({},Ka,L);t=P(t);const va=t.length;let La="",Wa,$a,X;for(Wa=0;Wa<va;)for($a=t.length;$a>Wa;--$a)if(X=t.slice(Wa,$a).join("-"),null!=L[X]){La+=L[X];Wa=$a;break}return La.trim()};v.timeUnits=P;v.utcFloor=function(t,L){return Pb(t,L||1,B,A,Db)};v.utcInterval=function(t){return H[t]};
v.utcOffset=function(t,L,va){return(t=H[t])?t.offset(L,va):void 0};v.utcSequence=function(t,L,va,La){return(t=H[t])?t.range(L,va,La):void 0};v.utcdayofyear=function(t){return ub(new Date(t))};v.utcweek=function(t){return Kb(new Date(t))};v.week=function(t){return Yb(new Date(t))};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[42]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(41),Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(J){const fa={};return Sa=>fa[Sa]||(fa[Sa]=J(Sa))}function Hb(J,fa){if(0>(fa=(J=fa?J.toExponential(fa-1):J.toExponential()).indexOf("e")))return null;var Sa=J.slice(0,fa);return[1<
Sa.length?Sa[0]+Sa.slice(2):Sa,+J.slice(fa+1)]}function ac(J){return J=Hb(Math.abs(J)),J?J[1]:NaN}function vc(J,fa){return function(Sa,bc){for(var Pc=Sa.length,Dc=[],Tc=0,gd=J[0],ee=0;0<Pc&&0<gd;){ee+gd+1>bc&&(gd=Math.max(1,bc-ee));Dc.push(Sa.substring(Pc-=gd,Pc+gd));if((ee+=gd+1)>bc)break;gd=J[Tc=(Tc+1)%J.length]}return Dc.reverse().join(fa)}}function Ac(J){return function(fa){return fa.replace(/[0-9]/g,function(Sa){return J[+Sa]})}}function uc(J){if(!(fa=Ud.exec(J)))throw Error("invalid format: "+
J);var fa;return new Cb({fill:fa[1],align:fa[2],sign:fa[3],symbol:fa[4],zero:fa[5],width:fa[6],comma:fa[7],precision:fa[8]&&fa[8].slice(1),trim:fa[9],type:fa[10]})}function Cb(J){this.fill=void 0===J.fill?" ":J.fill+"";this.align=void 0===J.align?"\x3e":J.align+"";this.sign=void 0===J.sign?"-":J.sign+"";this.symbol=void 0===J.symbol?"":J.symbol+"";this.zero=!!J.zero;this.width=void 0===J.width?void 0:+J.width;this.comma=!!J.comma;this.precision=void 0===J.precision?void 0:+J.precision;this.trim=!!J.trim;
this.type=void 0===J.type?"":J.type+""}function jc(J,fa){fa=Hb(J,fa);if(!fa)return J+"";J=fa[0];fa=fa[1];return 0>fa?"0."+Array(-fa).join("0")+J:J.length>fa+1?J.slice(0,fa+1)+"."+J.slice(fa+1):J+Array(fa-J.length+2).join("0")}function Yb(J){return J}function Ua(J){function fa(eb){function oc(Ec){var kd=Le,Fc=Xe,Jd,Vd;if("c"===xe)Fc=df(Ec)+Fc,Ec="";else{Ec=+Ec;var ce=0>Ec||0>1/Ec;Ec=isNaN(Ec)?Ra:df(Math.abs(Ec),Cd);if(be){var le=Ec.length,O=1,ea=-1;a:for(;O<le;++O)switch(Ec[O]){case ".":ea=Jd=O;break;
case "0":0===ea&&(ea=O);Jd=O;break;default:if(!+Ec[O])break a;0<ea&&(ea=0)}Ec=0<ea?Ec.slice(0,ea)+Ec.slice(Jd+1):Ec}ce&&0===+Ec&&"+"!==Wc&&(ce=!1);kd=(ce?"("===Wc?Wc:ee:"-"===Wc||"("===Wc?"":Wc)+kd;Fc=("s"===xe?la[8+Ve/3]:"")+Fc+(ce&&"("===Wc?")":"");if(od)for(ce=-1,Jd=Ec.length;++ce<Jd;)if(Vd=Ec.charCodeAt(ce),48>Vd||57<Vd){Fc=(46===Vd?Dc+Ec.slice(ce+1):Ec.slice(ce))+Fc;Ec=Ec.slice(0,ce);break}}Od&&!sd&&(Ec=Sa(Ec,Infinity));Vd=kd.length+Ec.length+Fc.length;ce=Vd<jd?Array(jd-Vd+1).join(vd):"";Od&&
sd&&(Ec=Sa(ce+Ec,ce.length?jd-Fc.length:Infinity),ce="");switch(Lc){case "\x3c":Ec=kd+Ec+Fc+ce;break;case "\x3d":Ec=kd+ce+Ec+Fc;break;case "^":Ec=ce.slice(0,Vd=ce.length>>1)+kd+Ec+Fc+ce.slice(Vd);break;default:Ec=ce+kd+Ec+Fc}return Tc(Ec)}eb=uc(eb);var vd=eb.fill,Lc=eb.align,Wc=eb.sign,Qc=eb.symbol,sd=eb.zero,jd=eb.width,Od=eb.comma,Cd=eb.precision,be=eb.trim,xe=eb.type;"n"===xe?(Od=!0,xe="g"):Xd[xe]||(void 0===Cd&&(Cd=12),be=!0,xe="g");if(sd||"0"===vd&&"\x3d"===Lc)sd=!0,vd="0",Lc="\x3d";var Le="$"===
Qc?bc:"#"===Qc&&/[boxX]/.test(xe)?"0"+xe.toLowerCase():"",Xe="$"===Qc?Pc:/[%p]/.test(xe)?gd:"",df=Xd[xe],od=/[defgprs%]/.test(xe);Cd=void 0===Cd?6:/[gprs]/.test(xe)?Math.max(1,Math.min(21,Cd)):Math.max(0,Math.min(20,Cd));oc.toString=function(){return eb+""};return oc}var Sa=void 0===J.grouping||void 0===J.thousands?Yb:vc(N.call(J.grouping,Number),J.thousands+""),bc=void 0===J.currency?"":J.currency[0]+"",Pc=void 0===J.currency?"":J.currency[1]+"",Dc=void 0===J.decimal?".":J.decimal+"",Tc=void 0===
J.numerals?Yb:Ac(N.call(J.numerals,String)),gd=void 0===J.percent?"%":J.percent+"",ee=void 0===J.minus?"":J.minus+"",Ra=void 0===J.nan?"NaN":J.nan+"";return{format:fa,formatPrefix:function(eb,oc){var vd=fa((eb=uc(eb),eb.type="f",eb));eb=3*Math.max(-8,Math.min(8,Math.floor(ac(oc)/3)));var Lc=Math.pow(10,-eb),Wc=la[8+eb/3];return function(Qc){return vd(Lc*Qc)+Wc}}}}function ub(J,fa){return Sa=>{Sa=J(Sa);const bc=Sa.indexOf(fa);if(0>bc)return Sa;a:{var Pc=Sa.lastIndexOf("e");if(!(0<Pc)){for(Pc=Sa.length;--Pc>
bc;){var Dc=Sa.charCodeAt(Pc);if(48<=Dc&&57>=Dc){Pc+=1;break a}}Pc=void 0}}for(Dc=Pc<Sa.length?Sa.slice(Pc):"";--Pc>bc;)if("0"!==Sa[Pc]){++Pc;break}return Sa.slice(0,Pc)+Dc}}function Kb(J){const fa=ib(J.format),Sa=J.formatPrefix;return{format:fa,formatPrefix:Sa,formatFloat(bc){bc=uc(bc||",");if(null==bc.precision){bc.precision=12;switch(bc.type){case "%":bc.precision-=2;break;case "e":--bc.precision}return ub(fa(bc),fa(".1f")(1)[1])}return fa(bc)},formatSpan(bc,Pc,Dc,Tc){Tc=uc(null==Tc?",f":Tc);var gd=
Math.abs(Pc-bc)/Math.max(0,Dc);Dc=Math.pow(10,Math.floor(Math.log(gd)/Math.LN10));gd/=Dc;gd>=Fd?Dc*=10:gd>=Zd?Dc*=5:gd>=de&&(Dc*=2);Dc=Pc<bc?-Dc:Dc;bc=Math.max(Math.abs(bc),Math.abs(Pc));if(null==Tc.precision)switch(Tc.type){case "s":return Pc=isNaN,Dc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ac(bc)/3)))-ac(Math.abs(Dc))),Pc(Pc=Dc)||(Tc.precision=Pc),Sa(Tc,bc);case "":case "e":case "g":case "p":case "r":Pc=isNaN;Dc=Math.abs(Dc);bc=Math.abs(bc)-Dc;bc=Math.max(0,ac(bc)-ac(Dc))+1;Pc(Pc=bc)||(Tc.precision=
Pc-("e"===Tc.type));break;case "f":case "%":isNaN(Pc=Math.max(0,-ac(Math.abs(Dc))))||(Tc.precision=Pc-2*("%"===Tc.type))}return fa(Tc)}}}function Lb(){return Xb=Kb({format:fb,formatPrefix:Ib})}function Db(J){return Kb(Ua(J))}function Pb(J){return arguments.length?Xb=Db(J):Xb}function ab(J,fa,Sa,bc){function Pc(Dc){return J(Dc=0===arguments.length?new Date:new Date(+Dc)),Dc}Pc.floor=function(Dc){return J(Dc=new Date(+Dc)),Dc};Pc.ceil=function(Dc){return J(Dc=new Date(Dc-1)),fa(Dc,1),J(Dc),Dc};Pc.round=
function(Dc){var Tc=Pc(Dc),gd=Pc.ceil(Dc);return Dc-Tc<gd-Dc?Tc:gd};Pc.offset=function(Dc,Tc){return fa(Dc=new Date(+Dc),null==Tc?1:Math.floor(Tc)),Dc};Pc.range=function(Dc,Tc,gd){var ee=[],Ra;Dc=Pc.ceil(Dc);gd=null==gd?1:Math.floor(gd);if(!(Dc<Tc&&0<gd))return ee;do ee.push(Ra=new Date(+Dc)),fa(Dc,gd),J(Dc);while(Ra<Dc&&Dc<Tc);return ee};Pc.filter=function(Dc){return ab(function(Tc){if(Tc>=Tc)for(;J(Tc),!Dc(Tc);)Tc.setTime(Tc-1)},function(Tc,gd){if(Tc>=Tc)if(0>gd)for(;0>=++gd;)for(;fa(Tc,-1),!Dc(Tc););
else for(;0<=--gd;)for(;fa(Tc,1),!Dc(Tc););})};Sa&&(Pc.count=function(Dc,Tc){Bc.setTime(+Dc);lc.setTime(+Tc);J(Bc);J(lc);return Math.floor(Sa(Bc,lc))},Pc.every=function(Dc){Dc=Math.floor(Dc);return isFinite(Dc)&&0<Dc?1<Dc?Pc.filter(bc?function(Tc){return 0===bc(Tc)%Dc}:function(Tc){return 0===Pc.count(0,Tc)%Dc}):Pc:null});return Pc}function pb(J){return ab(function(fa){fa.setDate(fa.getDate()-(fa.getDay()+7-J)%7);fa.setHours(0,0,0,0)},function(fa,Sa){fa.setDate(fa.getDate()+7*Sa)},function(fa,Sa){return(Sa-
fa-6E4*(Sa.getTimezoneOffset()-fa.getTimezoneOffset()))/6048E5})}function Qa(J){return ab(function(fa){fa.setUTCDate(fa.getUTCDate()-(fa.getUTCDay()+7-J)%7);fa.setUTCHours(0,0,0,0)},function(fa,Sa){fa.setUTCDate(fa.getUTCDate()+7*Sa)},function(fa,Sa){return(Sa-fa)/6048E5})}function Da(J){if(0<=J.y&&100>J.y){var fa=new Date(-1,J.m,J.d,J.H,J.M,J.S,J.L);fa.setFullYear(J.y);return fa}return new Date(J.y,J.m,J.d,J.H,J.M,J.S,J.L)}function Ka(J){if(0<=J.y&&100>J.y){var fa=new Date(Date.UTC(-1,J.m,J.d,J.H,
J.M,J.S,J.L));fa.setUTCFullYear(J.y);return fa}return new Date(Date.UTC(J.y,J.m,J.d,J.H,J.M,J.S,J.L))}function lb(J,fa,Sa){return{y:J,m:fa,d:Sa,H:0,M:0,S:0,L:0}}function mb(J){function fa(od,Ec){return function(kd){var Fc=[],Jd=-1,Vd=0,ce=od.length,le,O;for(kd instanceof Date||(kd=new Date(+kd));++Jd<ce;)if(37===od.charCodeAt(Jd)){Fc.push(od.slice(Vd,Jd));null!=(Vd=cf[le=od.charAt(++Jd)])?le=od.charAt(++Jd):Vd="e"===le?" ":"0";if(O=Ec[le])le=O(kd,Vd);Fc.push(le);Vd=Jd+1}Fc.push(od.slice(Vd,Jd));return Fc.join("")}}
function Sa(od,Ec){return function(kd){var Fc=lb(1900,void 0,1);if(bc(Fc,od,kd+="",0)!=kd.length)return null;if("Q"in Fc)return new Date(Fc.Q);if("s"in Fc)return new Date(1E3*Fc.s+("L"in Fc?Fc.L:0));!Ec||"Z"in Fc||(Fc.Z=0);"p"in Fc&&(Fc.H=Fc.H%12+12*Fc.p);void 0===Fc.m&&(Fc.m="q"in Fc?Fc.q:0);if("V"in Fc){if(1>Fc.V||53<Fc.V)return null;"w"in Fc||(Fc.w=1);if("Z"in Fc){kd=Ka(lb(Fc.y,0,1));var Jd=kd.getUTCDay();kd=4<Jd||0===Jd?ae.ceil(kd):ae(kd);kd=$d.offset(kd,7*(Fc.V-1));Fc.y=kd.getUTCFullYear();Fc.m=
kd.getUTCMonth();Fc.d=kd.getUTCDate()+(Fc.w+6)%7}else kd=Da(lb(Fc.y,0,1)),Jd=kd.getDay(),kd=4<Jd||0===Jd?Nc.ceil(kd):Nc(kd),kd=Gc.offset(kd,7*(Fc.V-1)),Fc.y=kd.getFullYear(),Fc.m=kd.getMonth(),Fc.d=kd.getDate()+(Fc.w+6)%7}else if("W"in Fc||"U"in Fc)"w"in Fc||(Fc.w="u"in Fc?Fc.u%7:"W"in Fc?1:0),Jd="Z"in Fc?Ka(lb(Fc.y,0,1)).getUTCDay():Da(lb(Fc.y,0,1)).getDay(),Fc.m=0,Fc.d="W"in Fc?(Fc.w+6)%7+7*Fc.W-(Jd+5)%7:Fc.w+7*Fc.U-(Jd+6)%7;return"Z"in Fc?(Fc.H+=Fc.Z/100|0,Fc.M+=Fc.Z%100,Ka(Fc)):Da(Fc)}}function bc(od,
Ec,kd,Fc){for(var Jd=0,Vd=Ec.length,ce=kd.length,le;Jd<Vd;){if(Fc>=ce)return-1;le=Ec.charCodeAt(Jd++);if(37===le){if(le=Ec.charAt(Jd++),le=df[le in cf?Ec.charAt(Jd++):le],!le||0>(Fc=le(od,kd,Fc)))return-1}else if(le!=kd.charCodeAt(Fc++))return-1}return Fc}var Pc=J.dateTime,Dc=J.date,Tc=J.time,gd=J.periods,ee=J.days,Ra=J.shortDays,eb=J.months,oc=J.shortMonths,vd=sb(gd),Lc=Qb(gd),Wc=sb(ee),Qc=Qb(ee),sd=sb(Ra),jd=Qb(Ra),Od=sb(eb),Cd=Qb(eb),be=sb(oc),xe=Qb(oc),Le={a:function(od){return Ra[od.getDay()]},
A:function(od){return ee[od.getDay()]},b:function(od){return oc[od.getMonth()]},B:function(od){return eb[od.getMonth()]},c:null,d:V,e:V,f:va,g:dd,G:Sc,H:Aa,I:Y,j:t,L,m:La,M:Wa,p:function(od){return gd[+(12<=od.getHours())]},q:function(od){return 1+~~(od.getMonth()/3)},Q:nc,s:dc,S:$a,u:X,U:Ca,V:Jb,w:yc,W:sc,x:null,X:null,y:xc,Y:Zb,Z:Pd,"%":Gb},Xe={a:function(od){return Ra[od.getUTCDay()]},A:function(od){return ee[od.getUTCDay()]},b:function(od){return oc[od.getUTCMonth()]},B:function(od){return eb[od.getUTCMonth()]},
c:null,d:Ma,e:Ma,f:cc,g:ya,G:Za,H:Vb,I:qb,j:Tb,L:gc,m:Ic,M:zc,p:function(od){return gd[+(12<=od.getUTCHours())]},q:function(od){return 1+~~(od.getUTCMonth()/3)},Q:nc,s:dc,S:Zc,u:Md,U:td,V:gb,w:wb,W:sa,x:null,X:null,y:F,Y:Na,Z:kb,"%":Gb},df={a:function(od,Ec,kd){return(Ec=sd.exec(Ec.slice(kd)))?(od.w=jd.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},A:function(od,Ec,kd){return(Ec=Wc.exec(Ec.slice(kd)))?(od.w=Qc.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},b:function(od,Ec,kd){return(Ec=be.exec(Ec.slice(kd)))?
(od.m=xe.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},B:function(od,Ec,kd){return(Ec=Od.exec(Ec.slice(kd)))?(od.m=Cd.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},c:function(od,Ec,kd){return bc(od,Pc,Ec,kd)},d:M,e:M,f:B,g:db,G:Ga,H:g,I:g,j:Q,L:C,m:q,M:u,p:function(od,Ec,kd){return(Ec=vd.exec(Ec.slice(kd)))?(od.p=Lc.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},q:ma,Q:E,s:H,S:m,u:nb,U:pa,V:Z,w:Wb,W:Fa,x:function(od,Ec,kd){return bc(od,Dc,Ec,kd)},X:function(od,Ec,kd){return bc(od,Tc,Ec,kd)},y:db,Y:Ga,
Z:ba,"%":A};Le.x=fa(Dc,Le);Le.X=fa(Tc,Le);Le.c=fa(Pc,Le);Xe.x=fa(Dc,Xe);Xe.X=fa(Tc,Xe);Xe.c=fa(Pc,Xe);return{format:function(od){var Ec=fa(od+="",Le);Ec.toString=function(){return od};return Ec},parse:function(od){var Ec=Sa(od+="",!1);Ec.toString=function(){return od};return Ec},utcFormat:function(od){var Ec=fa(od+="",Xe);Ec.toString=function(){return od};return Ec},utcParse:function(od){var Ec=Sa(od+="",!0);Ec.toString=function(){return od};return Ec}}}function Pa(J,fa,Sa){var bc=0>J?"-":"";J=(bc?
-J:J)+"";var Pc=J.length;return bc+(Pc<Sa?Array(Sa-Pc+1).join(fa)+J:J)}function xb(J){return J.replace(U,"\\$\x26")}function sb(J){return new RegExp("^(?:"+J.map(xb).join("|")+")","i")}function Qb(J){return new Map(J.map((fa,Sa)=>[fa.toLowerCase(),Sa]))}function Wb(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+1)))?(J.w=+fa[0],Sa+fa[0].length):-1}function nb(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+1)))?(J.u=+fa[0],Sa+fa[0].length):-1}function pa(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.U=+fa[0],
Sa+fa[0].length):-1}function Z(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.V=+fa[0],Sa+fa[0].length):-1}function Fa(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.W=+fa[0],Sa+fa[0].length):-1}function Ga(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+4)))?(J.y=+fa[0],Sa+fa[0].length):-1}function db(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.y=+fa[0]+(68<+fa[0]?1900:2E3),Sa+fa[0].length):-1}function ba(J,fa,Sa){return(fa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(fa.slice(Sa,Sa+6)))?(J.Z=fa[1]?
0:-(fa[2]+(fa[3]||"00")),Sa+fa[0].length):-1}function ma(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+1)))?(J.q=3*fa[0]-3,Sa+fa[0].length):-1}function q(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.m=fa[0]-1,Sa+fa[0].length):-1}function M(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.d=+fa[0],Sa+fa[0].length):-1}function Q(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+3)))?(J.m=0,J.d=+fa[0],Sa+fa[0].length):-1}function g(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.H=+fa[0],Sa+fa[0].length):
-1}function u(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.M=+fa[0],Sa+fa[0].length):-1}function m(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.S=+fa[0],Sa+fa[0].length):-1}function C(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+3)))?(J.L=+fa[0],Sa+fa[0].length):-1}function B(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+6)))?(J.L=Math.floor(fa[0]/1E3),Sa+fa[0].length):-1}function A(J,fa,Sa){return(J=uf.exec(fa.slice(Sa,Sa+1)))?Sa+J[0].length:-1}function E(J,fa,Sa){return(fa=se.exec(fa.slice(Sa)))?
(J.Q=+fa[0],Sa+fa[0].length):-1}function H(J,fa,Sa){return(fa=se.exec(fa.slice(Sa)))?(J.s=+fa[0],Sa+fa[0].length):-1}function V(J,fa){return Pa(J.getDate(),fa,2)}function Aa(J,fa){return Pa(J.getHours(),fa,2)}function Y(J,fa){return Pa(J.getHours()%12||12,fa,2)}function t(J,fa){return Pa(1+Gc.count(Gd(J),J),fa,3)}function L(J,fa){return Pa(J.getMilliseconds(),fa,3)}function va(J,fa){return L(J,fa)+"000"}function La(J,fa){return Pa(J.getMonth()+1,fa,2)}function Wa(J,fa){return Pa(J.getMinutes(),fa,
2)}function $a(J,fa){return Pa(J.getSeconds(),fa,2)}function X(J){J=J.getDay();return 0===J?7:J}function Ca(J,fa){return Pa(id.count(Gd(J)-1,J),fa,2)}function Xa(J){var fa=J.getDay();return 4<=fa||0===fa?rd(J):rd.ceil(J)}function Jb(J,fa){J=Xa(J);return Pa(rd.count(Gd(J),J)+(4===Gd(J).getDay()),fa,2)}function yc(J){return J.getDay()}function sc(J,fa){return Pa(Nc.count(Gd(J)-1,J),fa,2)}function xc(J,fa){return Pa(J.getFullYear()%100,fa,2)}function dd(J,fa){J=Xa(J);return Pa(J.getFullYear()%100,fa,
2)}function Zb(J,fa){return Pa(J.getFullYear()%1E4,fa,4)}function Sc(J,fa){var Sa=J.getDay();J=4<=Sa||0===Sa?rd(J):rd.ceil(J);return Pa(J.getFullYear()%1E4,fa,4)}function Pd(J){J=J.getTimezoneOffset();return(0<J?"-":(J*=-1,"+"))+Pa(J/60|0,"0",2)+Pa(J%60,"0",2)}function Ma(J,fa){return Pa(J.getUTCDate(),fa,2)}function Vb(J,fa){return Pa(J.getUTCHours(),fa,2)}function qb(J,fa){return Pa(J.getUTCHours()%12||12,fa,2)}function Tb(J,fa){return Pa(1+$d.count(hf(J),J),fa,3)}function gc(J,fa){return Pa(J.getUTCMilliseconds(),
fa,3)}function cc(J,fa){return gc(J,fa)+"000"}function Ic(J,fa){return Pa(J.getUTCMonth()+1,fa,2)}function zc(J,fa){return Pa(J.getUTCMinutes(),fa,2)}function Zc(J,fa){return Pa(J.getUTCSeconds(),fa,2)}function Md(J){J=J.getUTCDay();return 0===J?7:J}function td(J,fa){return Pa(Wd.count(hf(J)-1,J),fa,2)}function Ha(J){var fa=J.getUTCDay();return 4<=fa||0===fa?Ae(J):Ae.ceil(J)}function gb(J,fa){J=Ha(J);return Pa(Ae.count(hf(J),J)+(4===hf(J).getUTCDay()),fa,2)}function wb(J){return J.getUTCDay()}function sa(J,
fa){return Pa(ae.count(hf(J)-1,J),fa,2)}function F(J,fa){return Pa(J.getUTCFullYear()%100,fa,2)}function ya(J,fa){J=Ha(J);return Pa(J.getUTCFullYear()%100,fa,2)}function Na(J,fa){return Pa(J.getUTCFullYear()%1E4,fa,4)}function Za(J,fa){var Sa=J.getUTCDay();J=4<=Sa||0===Sa?Ae(J):Ae.ceil(J);return Pa(J.getUTCFullYear()%1E4,fa,4)}function kb(){return"+0000"}function Gb(){return"%"}function nc(J){return+J}function dc(J){return Math.floor(+J/1E3)}function ic(J,fa,Sa){Sa=Sa||{};P.isObject(Sa)||P.error(`Invalid time multi-format specifier: ${Sa}`);
const bc=fa(k.SECONDS),Pc=fa(k.MINUTES),Dc=fa(k.HOURS),Tc=fa(k.DATE),gd=fa(k.WEEK),ee=fa(k.MONTH),Ra=fa(k.QUARTER),eb=fa(k.YEAR),oc=J(Sa[k.MILLISECONDS]||".%L"),vd=J(Sa[k.SECONDS]||":%S"),Lc=J(Sa[k.MINUTES]||"%I:%M"),Wc=J(Sa[k.HOURS]||"%I %p"),Qc=J(Sa[k.DATE]||Sa[k.DAY]||"%a %d"),sd=J(Sa[k.WEEK]||"%b %d"),jd=J(Sa[k.MONTH]||"%B"),Od=J(Sa[k.QUARTER]||"%B"),Cd=J(Sa[k.YEAR]||"%Y");return be=>(bc(be)<be?oc:Pc(be)<be?vd:Dc(be)<be?Lc:Tc(be)<be?Wc:ee(be)<be?gd(be)<be?Qc:sd:eb(be)<be?Ra(be)<be?jd:Od:Cd)(be)}
function Vc(J){const fa=ib(J.format),Sa=ib(J.utcFormat);return{timeFormat:bc=>P.isString(bc)?fa(bc):ic(fa,k.timeInterval,bc),utcFormat:bc=>P.isString(bc)?Sa(bc):ic(Sa,k.utcInterval,bc),timeParse:ib(J.parse),utcParse:ib(J.utcParse)}}function ed(){return $b=Vc({format:cb,parse:Ab,utcFormat:ec,utcParse:Cc})}function fd(J){return Vc(mb(J))}function Qd(J){return arguments.length?$b=fd(J):$b}function Td(J,fa){var Sa=arguments.length;Sa&&2!==Sa&&P.error("defaultLocale expects either zero or two arguments.");
if(Sa){Sa=Pb(J);var bc=Qd(fa);Sa=P.extend({},Sa,bc)}else Sa=Pb(),bc=Qd(),Sa=P.extend({},Sa,bc);return Sa}var Fd=Math.sqrt(50),Zd=Math.sqrt(10),de=Math.sqrt(2),Ud=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;uc.prototype=Cb.prototype;Cb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var Ve,Xd={"%":(J,fa)=>(100*J).toFixed(fa),b:J=>Math.round(J).toString(2),c:J=>J+"",d:function(J){return 1E21<=Math.abs(J=Math.round(J))?J.toLocaleString("en").replace(/,/g,""):J.toString(10)},e:(J,fa)=>J.toExponential(fa),f:(J,fa)=>J.toFixed(fa),g:(J,fa)=>J.toPrecision(fa),o:J=>Math.round(J).toString(8),p:(J,fa)=>jc(100*J,fa),r:jc,s:function(J,fa){var Sa=Hb(J,fa);if(!Sa)return J+"";var bc=Sa[0];Sa=Sa[1];Sa=Sa-(Ve=3*Math.max(-8,Math.min(8,Math.floor(Sa/3))))+1;var Pc=bc.length;
return Sa===Pc?bc:Sa>Pc?bc+Array(Sa-Pc+1).join("0"):0<Sa?bc.slice(0,Sa)+"."+bc.slice(Sa):"0."+Array(1-Sa).join("0")+Hb(J,Math.max(0,fa+Sa-1))[0]},X:J=>Math.round(J).toString(16).toUpperCase(),x:J=>Math.round(J).toString(16)},N=Array.prototype.map,la="y z a f p n  m  k M G T P E Z Y".split(" "),za,fb,Ib;(function(J){za=Ua(J);fb=za.format;Ib=za.formatPrefix;return za})({thousands:",",grouping:[3],currency:["$",""]});let Xb;Lb();var Bc=new Date,lc=new Date,Gc=ab(J=>J.setHours(0,0,0,0),(J,fa)=>J.setDate(J.getDate()+
fa),(J,fa)=>(fa-J-6E4*(fa.getTimezoneOffset()-J.getTimezoneOffset()))/864E5,J=>J.getDate()-1),id=pb(0),Nc=pb(1);pb(2);pb(3);var rd=pb(4);pb(5);pb(6);var Hd=ab(function(J){J.setMonth(0,1);J.setHours(0,0,0,0)},function(J,fa){J.setFullYear(J.getFullYear()+fa)},function(J,fa){return fa.getFullYear()-J.getFullYear()},function(J){return J.getFullYear()});Hd.every=function(J){return isFinite(J=Math.floor(J))&&0<J?ab(function(fa){fa.setFullYear(Math.floor(fa.getFullYear()/J)*J);fa.setMonth(0,1);fa.setHours(0,
0,0,0)},function(fa,Sa){fa.setFullYear(fa.getFullYear()+Sa*J)}):null};var Gd=Hd,$d=ab(function(J){J.setUTCHours(0,0,0,0)},function(J,fa){J.setUTCDate(J.getUTCDate()+fa)},function(J,fa){return(fa-J)/864E5},function(J){return J.getUTCDate()-1}),Wd=Qa(0),ae=Qa(1);Qa(2);Qa(3);var Ae=Qa(4);Qa(5);Qa(6);var kf=ab(function(J){J.setUTCMonth(0,1);J.setUTCHours(0,0,0,0)},function(J,fa){J.setUTCFullYear(J.getUTCFullYear()+fa)},function(J,fa){return fa.getUTCFullYear()-J.getUTCFullYear()},function(J){return J.getUTCFullYear()});
kf.every=function(J){return isFinite(J=Math.floor(J))&&0<J?ab(function(fa){fa.setUTCFullYear(Math.floor(fa.getUTCFullYear()/J)*J);fa.setUTCMonth(0,1);fa.setUTCHours(0,0,0,0)},function(fa,Sa){fa.setUTCFullYear(fa.getUTCFullYear()+Sa*J)}):null};var hf=kf,cf={"-":"",_:" ",0:"0"},se=/^\s*\d+/,uf=/^%/,U=/[\\^$*+?|[\]().{}]/g,ua,cb,Ab,ec,Cc;(function(J){ua=mb(J);cb=ua.format;Ab=ua.parse;ec=ua.utcFormat;Cc=ua.utcParse;return ua})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let $b;ed();v.defaultLocale=Td;v.locale=function(J,fa){J=J?Db(J):Pb();fa=fa?fd(fa):Qd();return P.extend({},J,fa)};v.numberFormatDefaultLocale=Pb;v.numberFormatLocale=Db;v.resetDefaultLocale=function(){Lb();
ed();return Td()};v.resetNumberFormatDefaultLocale=Lb;v.resetTimeFormatDefaultLocale=ed;v.timeFormatDefaultLocale=Qd;v.timeFormatLocale=fd;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[43]=function(fc,Fb,Xc,ob){var v=Fb(26).Buffer;(function(k,P){"object"===typeof ob&&"undefined"!==typeof Xc?P(ob,Fb(20),Fb(21),Fb(42)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,P(k.vega={},k.vega,k.topojson,k.vega))})(this,function(k,P,ib,Hb){function ac(ba,ma){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const M=yield q.sanitize(ba,ma),
Q=M.href;return M.localFile?q.file(Q):q.http(Q,ma)})}function vc(ba,ma){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ma=P.extend({},q.options,ma);const M=q.fileAccess,Q={href:null};var g;let u;var m=Pa.test(ba.replace(xb,""));null!=ba&&"string"===typeof ba&&m||P.error("Sanitize failure, invalid URI: "+P.stringValue(ba));m=mb.test(ba);(g=ma.baseURL)&&!m&&(ba.startsWith("/")||g.endsWith("/")||(ba="/"+ba),ba=g+ba);u=(g=ba.startsWith("file://"))||"file"===ma.mode||"http"!==
ma.mode&&!m&&M;g?ba=ba.slice(7):ba.startsWith("//")&&("file"===ma.defaultProtocol?(ba=ba.slice(2),u=!0):ba=(ma.defaultProtocol||"http")+":"+ba);Object.defineProperty(Q,"localFile",{value:!!u});Q.href=ba;ma.target&&(Q.target=ma.target+"");ma.rel&&(Q.rel=ma.rel+"");"image"===ma.context&&ma.crossOrigin&&(Q.crossOrigin=ma.crossOrigin+"");return Q})}function Ac(ba){return ba?ma=>new Promise((q,M)=>{ba.readFile(ma,(Q,g)=>{Q?M(Q):q(g)})}):uc}function uc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No file system access.")})}
function Cb(ba){return ba?function(ma,q){const M=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Q=P.extend({},M.options.http,q);const g=q&&q.response;Q=yield ba(ma,Q);return Q.ok?P.isFunction(Q[g])?Q[g]():Q.text():P.error(Q.status+""+Q.statusText)})}:jc}function jc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No HTTP fetch method available.")})}function Yb(ba,ma){if(!ba||!ba.length)return"unknown";const q=ba.length,M=Wb.length,Q=Wb.map((g,u)=>
u+1);for(let g=0,u=0,m,C;g<q;++g)for(C=ma?ba[g][ma]:ba[g],m=0;m<M;++m)if(Q[m]&&null!=C&&C===C&&!Wb[m](C)&&(Q[m]=0,++u,u===Wb.length))return"string";return nb[Q.reduce((g,u)=>0===g?u:g,0)-1]}function Ua(ba,ma){return ma.reduce((q,M)=>{q[M]=Yb(ba,M);return q},{})}function ub(ba){return new Function("d","return {"+ba.map(function(ma,q){return JSON.stringify(ma)+": d["+q+'] || ""'}).join(",")+"}")}function Kb(ba,ma){var q=ub(ba);return function(M,Q){return ma(q(M),Q,ba)}}function Lb(ba){var ma=Object.create(null),
q=[];ba.forEach(function(M){for(var Q in M)Q in ma||q.push(ma[Q]=Q)});return q}function Db(ba,ma){ba+="";var q=ba.length;return q<ma?Array(ma-q+1).join(0)+ba:ba}function Pb(ba){function ma(m,C){function B(){if(Y)return Z;if(t)return t=!1,pa;var va,La=H,Wa;if(34===m.charCodeAt(La)){for(;H++<E&&34!==m.charCodeAt(H)||34===m.charCodeAt(++H););(va=H)>=E?Y=!0:10===(Wa=m.charCodeAt(H++))?t=!0:13===Wa&&(t=!0,10===m.charCodeAt(H)&&++H);return m.slice(La+1,va-1).replace(/""/g,'"')}for(;H<E;){if(10===(Wa=m.charCodeAt(va=
H++)))t=!0;else if(13===Wa)t=!0,10===m.charCodeAt(H)&&++H;else if(Wa!==u)continue;return m.slice(La,va)}return Y=!0,m.slice(La,E)}var A=[],E=m.length,H=0,V=0,Aa,Y=0>=E,t=!1;10===m.charCodeAt(E-1)&&--E;for(13===m.charCodeAt(E-1)&&--E;(Aa=B())!==Z;){for(var L=[];Aa!==pa&&Aa!==Z;)L.push(Aa),Aa=B();C&&null==(L=C(L,V++))||A.push(L)}return A}function q(m,C){return m.map(function(B){return C.map(function(A){return Q(B[A])}).join(ba)})}function M(m){return m.map(Q).join(ba)}function Q(m){if(null==m)m="";
else{if(m instanceof Date){var C=m.getUTCHours();var B=m.getUTCMinutes(),A=m.getUTCSeconds(),E=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var H=m.getUTCFullYear();m=(0>H?"-"+Db(-H,6):9999<H?"+"+Db(H,6):Db(H,4))+"-"+Db(m.getUTCMonth()+1,2)+"-"+Db(m.getUTCDate(),2)+(E?"T"+Db(C,2)+":"+Db(B,2)+":"+Db(A,2)+"."+Db(E,3)+"Z":A?"T"+Db(C,2)+":"+Db(B,2)+":"+Db(A,2)+"Z":B||C?"T"+Db(C,2)+":"+Db(B,2)+"Z":"")}C=m}else C=g.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=C}return m}var g=new RegExp('["'+
ba+"\n\r]"),u=ba.charCodeAt(0);return{parse:function(m,C){var B,A;m=ma(m,function(E,H){if(B)return B(E,H-1);A=E;B=C?Kb(E,C):ub(E)});m.columns=A||[];return m},parseRows:ma,format:function(m,C){null==C&&(C=Lb(m));return[C.map(Q).join(ba)].concat(q(m,C)).join("\n")},formatBody:function(m,C){null==C&&(C=Lb(m));return q(m,C).join("\n")},formatRows:function(m){return m.map(M).join("\n")},formatRow:M,formatValue:Q}}function ab(ba){const ma=function(q,M){const Q={delimiter:ba};return pb(q,M?P.extend(M,Q):
Q)};ma.responseType="text";return ma}function pb(ba,ma){ma.header&&(ba=ma.header.map(P.stringValue).join(ma.delimiter)+"\n"+ba);return Pb(ma.delimiter).parse(ba+"")}function Qa(ba,ma){const q=ma&&ma.property?P.field(ma.property):P.identity;var M;if(M=P.isObject(ba))M=!("function"===typeof v&&P.isFunction(v.isBuffer)&&v.isBuffer(ba));M?(ba=q(ba),!P.isArray(ba)&&P.isIterable(ba)&&(ba=[...ba]),ma=ma&&ma.copy?JSON.parse(JSON.stringify(ba)):ba):ma=q(JSON.parse(ba));return ma}function Da(ba,ma){let q,M,
Q,g;ba=Qa(ba,ma);ma&&ma.feature?(q=ib.feature,Q=ma.feature):ma&&ma.mesh?(q=ib.mesh,Q=ma.mesh,g=Fa[ma.filter]):P.error("Missing TopoJSON feature or mesh parameter.");return(M=(M=ba.objects[Q])?q(ba,M,g):P.error("Invalid TopoJSON object: "+Q))&&M.features||[M]}function Ka(ba,ma){return 1<arguments.length?(Ga[ba]=ma,this):P.hasOwnProperty(Ga,ba)?Ga[ba]:null}function lb(ba,ma,q,M){if(ba.length){var Q=Hb.timeFormatDefaultLocale();q=q||Q.timeParse;M=M||Q.utcParse;Q=ba.columns||Object.keys(ba[0]);var g,
u;"auto"===ma&&(ma=Ua(ba,Q));Q=Object.keys(ma);var m=Q.map(H=>{var V=ma[H];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){H=V.split(/:(.+)?/,2);V=H[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===H[0]?M:q)(V)}if(!Qb[V])throw Error("Illegal format pattern: "+H+":"+V);return Qb[V]});var C=0;var B=ba.length;for(u=Q.length;C<B;++C){var A=ba[C];for(g=0;g<u;++g){var E=Q[g];A[E]=m[g](A[E])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Pa=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
xb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sb=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),Qb={boolean:P.toBoolean,integer:P.toNumber,number:P.toNumber,date:P.toDate,string:P.toString,unknown:P.identity},Wb=[ba=>"true"===ba||"false"===ba||!0===ba||!1===ba,ba=>sb(ba)&&Number.isInteger(+ba),sb,ba=>!Number.isNaN(Date.parse(ba))],nb=["boolean","integer","number","date"];var pa={},Z={};pb.responseType="text";Qa.responseType="json";const Fa={interior:(ba,ma)=>ba!==ma,exterior:(ba,
ma)=>ba===ma};Da.responseType="json";const Ga={dsv:pb,csv:ab(","),tsv:ab("\t"),json:Qa,topojson:Da},db=function(ba,ma){return q=>({options:q||{},sanitize:vc,load:ac,fileAccess:!!ma,file:Ac(ma),http:Cb(ba)})}("undefined"!==typeof fetch&&fetch,null);k.format=Ga;k.formats=Ka;k.inferType=Yb;k.inferTypes=Ua;k.loader=db;k.read=function(ba,ma,q,M){ma=ma||{};const Q=Ka(ma.type||"json");Q||P.error("Unknown data format type: "+ma.type);ba=Q(ba,ma);ma.parse&&lb(ba,ma.parse,q,M);P.hasOwnProperty(ba,"columns")&&
delete ba.columns;return ba};k.responseType=function(ba){return(ba=Ka(ba))&&ba.responseType||"text"};k.typeParsers=Qb;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[44]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(41)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(y,W,ha){W=y-W+2*ha;return y?0<W?W:1:0}function Hb(y){return function(W){let ha=W[0];W=W[1];let Oa;W<ha&&(Oa=ha,ha=W,W=Oa);return[y.invert(ha),y.invert(W)]}}function ac(y){return function(W){const ha=
y.range();let Oa=W[0];W=W[1];let yb=-1,Eb;let Sb;if(W<Oa){var kc=Oa;Oa=W;W=kc}kc=0;for(Sb=ha.length;kc<Sb;++kc)ha[kc]>=Oa&&ha[kc]<=W&&(0>yb&&(yb=kc),Eb=kc);if(!(0>yb))return Oa=y.invertExtent(ha[yb]),W=y.invertExtent(ha[Eb]),[void 0===Oa[0]?Oa[1]:Oa[0],void 0===W[1]?W[0]:W[1]]}}function vc(y,W){return null==y||null==W?NaN:y<W?-1:y>W?1:y>=W?0:NaN}function Ac(y){function W(Eb,Sb,kc=0,Uc=Eb.length){if(kc<Uc){if(0!==Oa(Sb,Sb))return Uc;do{const Id=kc+Uc>>>1;0>yb(Eb[Id],Sb)?kc=Id+1:Uc=Id}while(kc<Uc)}return kc}
let ha=y,Oa=y,yb=y;2!==y.length&&(ha=(Eb,Sb)=>y(Eb)-Sb,Oa=vc,yb=(Eb,Sb)=>vc(y(Eb),Sb));return{left:W,center:function(Eb,Sb,kc=0,Uc=Eb.length){Uc=W(Eb,Sb,kc,Uc-1);return Uc>kc&&ha(Eb[Uc-1],Sb)>-ha(Eb[Uc],Sb)?Uc-1:Uc},right:function(Eb,Sb,kc=0,Uc=Eb.length){if(kc<Uc){if(0!==Oa(Sb,Sb))return Uc;do{const Id=kc+Uc>>>1;0>=yb(Eb[Id],Sb)?kc=Id+1:Uc=Id}while(kc<Uc)}return kc}}}function uc(y){return null===y?NaN:+y}function Cb({_intern:y,_key:W},ha){W=W(ha);return y.has(W)?y.get(W):ha}function jc({_intern:y,
_key:W},ha){W=W(ha);if(y.has(W))return y.get(W);y.set(W,ha);return ha}function Yb({_intern:y,_key:W},ha){W=W(ha);y.has(W)&&(ha=y.get(W),y.delete(W));return ha}function Ua(y){return null!==y&&"object"===typeof y?y.valueOf():y}function ub(y,W,ha){var Oa,yb=-1,Eb;W=+W;y=+y;ha=+ha;if(y===W&&0<ha)return[y];if(Oa=W<y){var Sb=y;y=W;W=Sb}if(0===(Eb=Kb(y,W,ha))||!isFinite(Eb))return[];if(0<Eb)for(ha=Math.round(y/Eb),Sb=Math.round(W/Eb),ha*Eb<y&&++ha,Sb*Eb>W&&--Sb,y=Array(Sb=Sb-ha+1);++yb<Sb;)y[yb]=(ha+yb)*
Eb;else for(Eb=-Eb,ha=Math.round(y*Eb),Sb=Math.round(W*Eb),ha/Eb<y&&++ha,Sb/Eb>W&&--Sb,y=Array(Sb=Sb-ha+1);++yb<Sb;)y[yb]=(ha+yb)/Eb;Oa&&y.reverse();return y}function Kb(y,W,ha){W=(W-y)/Math.max(0,ha);y=Math.floor(Math.log(W)/Math.LN10);W/=Math.pow(10,y);return 0<=y?(W>=Af?10:W>=tg?5:W>=wg?2:1)*Math.pow(10,y):-Math.pow(10,-y)/(W>=Af?10:W>=tg?5:W>=wg?2:1)}function Lb(y,W,ha){var Oa=Math.abs(W-y)/Math.max(0,ha);ha=Math.pow(10,Math.floor(Math.log(Oa)/Math.LN10));Oa/=ha;Oa>=Af?ha*=10:Oa>=tg?ha*=5:Oa>=
wg&&(ha*=2);return W<y?-ha:ha}function Db(y,W,ha=uc){if(Oa=y.length){if(0>=(W=+W)||2>Oa)return+ha(y[0],0,y);if(1<=W)return+ha(y[Oa-1],Oa-1,y);var Oa;W*=Oa-1;Oa=Math.floor(W);var yb=+ha(y[Oa],Oa,y);y=+ha(y[Oa+1],Oa+1,y);return yb+(y-yb)*(W-Oa)}}function Pb(y,W,ha){y=+y;W=+W;ha=2>(yb=arguments.length)?(W=y,y=0,1):3>yb?1:+ha;for(var Oa=-1,yb=Math.max(0,Math.ceil((W-y)/ha))|0,Eb=Array(yb);++Oa<yb;)Eb[Oa]=y+Oa*ha;return Eb}function ab(y,W){switch(arguments.length){case 0:break;case 1:this.range(y);break;
default:this.range(W).domain(y)}return this}function pb(y,W){switch(arguments.length){case 0:break;case 1:"function"===typeof y?this.interpolator(y):this.range(y);break;default:this.domain(y),"function"===typeof W?this.interpolator(W):this.range(W)}return this}function Qa(){function y(Eb){let Sb=W.get(Eb);if(void 0===Sb){if(yb!==fg)return yb;W.set(Eb,Sb=ha.push(Eb)-1)}return Oa[Sb%Oa.length]}var W=new of,ha=[],Oa=[],yb=fg;y.domain=function(Eb){if(!arguments.length)return ha.slice();ha=[];W=new of;
for(const Sb of Eb)W.has(Sb)||W.set(Sb,ha.push(Sb)-1);return y};y.range=function(Eb){return arguments.length?(Oa=Array.from(Eb),y):Oa.slice()};y.unknown=function(Eb){return arguments.length?(yb=Eb,y):yb};y.copy=function(){return Qa(ha,Oa).unknown(yb)};ab.apply(y,arguments);return y}function Da(y,W,ha){y.prototype=W.prototype=ha;ha.constructor=y}function Ka(y,W){y=Object.create(y.prototype);for(var ha in W)y[ha]=W[ha];return y}function lb(){}function mb(){return this.rgb().formatHex()}function Pa(){return this.rgb().formatRgb()}
function xb(y){var W,ha;y=(y+"").trim().toLowerCase();return(W=Rg.exec(y))?(ha=W[1].length,W=parseInt(W[1],16),6===ha?sb(W):3===ha?new pa(W>>8&15|W>>4&240,W>>4&15|W&240,(W&15)<<4|W&15,1):8===ha?Qb(W>>24&255,W>>16&255,W>>8&255,(W&255)/255):4===ha?Qb(W>>12&15|W>>8&240,W>>8&15|W>>4&240,W>>4&15|W&240,((W&15)<<4|W&15)/255):null):(W=gh.exec(y))?new pa(W[1],W[2],W[3],1):(W=oh.exec(y))?new pa(255*W[1]/100,255*W[2]/100,255*W[3]/100,1):(W=xg.exec(y))?Qb(W[1],W[2],W[3],W[4]):(W=zh.exec(y))?Qb(255*W[1]/100,255*
W[2]/100,255*W[3]/100,W[4]):(W=yh.exec(y))?db(W[1],W[2]/100,W[3]/100,1):(W=Nh.exec(y))?db(W[1],W[2]/100,W[3]/100,W[4]):$g.hasOwnProperty(y)?sb($g[y]):"transparent"===y?new pa(NaN,NaN,NaN,0):null}function sb(y){return new pa(y>>16&255,y>>8&255,y&255,1)}function Qb(y,W,ha,Oa){0>=Oa&&(y=W=ha=NaN);return new pa(y,W,ha,Oa)}function Wb(y){y instanceof lb||(y=xb(y));if(!y)return new pa;y=y.rgb();return new pa(y.r,y.g,y.b,y.opacity)}function nb(y,W,ha,Oa){return 1===arguments.length?Wb(y):new pa(y,W,ha,null==
Oa?1:Oa)}function pa(y,W,ha,Oa){this.r=+y;this.g=+W;this.b=+ha;this.opacity=+Oa}function Z(){return"#"+Ga(this.r)+Ga(this.g)+Ga(this.b)}function Fa(){var y=this.opacity;y=isNaN(y)?1:Math.max(0,Math.min(1,y));return(1===y?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===y?")":", "+y+")")}function Ga(y){y=Math.max(0,Math.min(255,Math.round(y)||0));return(16>y?"0":"")+y.toString(16)}
function db(y,W,ha,Oa){0>=Oa?y=W=ha=NaN:0>=ha||1<=ha?y=W=NaN:0>=W&&(y=NaN);return new q(y,W,ha,Oa)}function ba(y){if(y instanceof q)return new q(y.h,y.s,y.l,y.opacity);y instanceof lb||(y=xb(y));if(!y)return new q;if(y instanceof q)return y;y=y.rgb();var W=y.r/255,ha=y.g/255,Oa=y.b/255,yb=Math.min(W,ha,Oa),Eb=Math.max(W,ha,Oa),Sb=NaN,kc=Eb-yb,Uc=(Eb+yb)/2;kc?(Sb=W===Eb?(ha-Oa)/kc+6*(ha<Oa):ha===Eb?(Oa-W)/kc+2:(W-ha)/kc+4,kc/=.5>Uc?Eb+yb:2-Eb-yb,Sb*=60):kc=0<Uc&&1>Uc?0:Sb;return new q(Sb,kc,Uc,y.opacity)}
function ma(y,W,ha,Oa){return 1===arguments.length?ba(y):new q(y,W,ha,null==Oa?1:Oa)}function q(y,W,ha,Oa){this.h=+y;this.s=+W;this.l=+ha;this.opacity=+Oa}function M(y,W,ha){return 255*(60>y?W+(ha-W)*y/60:180>y?ha:240>y?W+(ha-W)*(240-y)/60:W)}function Q(y){if(y instanceof u)return new u(y.l,y.a,y.b,y.opacity);if(y instanceof V)return Aa(y);y instanceof pa||(y=Wb(y));var W=A(y.r),ha=A(y.g),Oa=A(y.b),yb=m(.2225045*W+.7168786*ha+.0606169*Oa);if(W===ha&&ha===Oa)var Eb=W=yb;else Eb=m((.4360747*W+.3850649*
ha+.1430804*Oa)/.96422),W=m((.0139322*W+.0971045*ha+.7141733*Oa)/.82521);return new u(116*yb-16,500*(Eb-yb),200*(yb-W),y.opacity)}function g(y,W,ha,Oa){return 1===arguments.length?Q(y):new u(y,W,ha,null==Oa?1:Oa)}function u(y,W,ha,Oa){this.l=+y;this.a=+W;this.b=+ha;this.opacity=+Oa}function m(y){return y>Ei?Math.pow(y,1/3):y/qh+bi}function C(y){return y>Vg?y*y*y:qh*(y-bi)}function B(y){return 255*(.0031308>=y?12.92*y:1.055*Math.pow(y,1/2.4)-.055)}function A(y){return.04045>=(y/=255)?y/12.92:Math.pow((y+
.055)/1.055,2.4)}function E(y){if(y instanceof V)return new V(y.h,y.c,y.l,y.opacity);y instanceof u||(y=Q(y));if(0===y.a&&0===y.b)return new V(NaN,0<y.l&&100>y.l?0:NaN,y.l,y.opacity);var W=Math.atan2(y.b,y.a)*Ah;return new V(0>W?W+360:W,Math.sqrt(y.a*y.a+y.b*y.b),y.l,y.opacity)}function H(y,W,ha,Oa){return 1===arguments.length?E(y):new V(y,W,ha,null==Oa?1:Oa)}function V(y,W,ha,Oa){this.h=+y;this.c=+W;this.l=+ha;this.opacity=+Oa}function Aa(y){if(isNaN(y.h))return new u(y.l,0,0,y.opacity);var W=y.h*
ph;return new u(y.l,Math.cos(W)*y.c,Math.sin(W)*y.c,y.opacity)}function Y(y,W,ha,Oa){if(1===arguments.length){var yb=y;if(yb instanceof t)yb=new t(yb.h,yb.s,yb.l,yb.opacity);else{yb instanceof pa||(yb=Wb(yb));var Eb=yb.g/255,Sb=yb.b/255,kc=(Kg*Sb+yb.r/255*-1.7884503806-3.5172982438*Eb)/(Kg+-1.7884503806-3.5172982438);Sb-=kc;var Uc=(1.97294*(Eb-kc)- -.29227*Sb)/-.90649;Sb=(Eb=Math.sqrt(Uc*Uc+Sb*Sb)/(1.97294*kc*(1-kc)))?Math.atan2(Uc,Sb)*Ah-120:NaN;yb=new t(0>Sb?Sb+360:Sb,Eb,kc,yb.opacity)}}else yb=
new t(y,W,ha,null==Oa?1:Oa);return yb}function t(y,W,ha,Oa){this.h=+y;this.s=+W;this.l=+ha;this.opacity=+Oa}function L(y,W,ha,Oa,yb){var Eb=y*y,Sb=Eb*y;return((1-3*y+3*Eb-Sb)*W+(4-6*Eb+3*Sb)*ha+(1+3*y+3*Eb-3*Sb)*Oa+Sb*yb)/6}function va(y){var W=y.length-1;return function(ha){var Oa=0>=ha?ha=0:1<=ha?(ha=1,W-1):Math.floor(ha*W),yb=y[Oa],Eb=y[Oa+1];return L((ha-Oa/W)*W,0<Oa?y[Oa-1]:2*yb-Eb,yb,Eb,Oa<W-1?y[Oa+2]:2*Eb-yb)}}function La(y){var W=y.length;return function(ha){var Oa=Math.floor((0>(ha%=1)?++ha:
ha)*W);return L((ha-Oa/W)*W,y[(Oa+W-1)%W],y[Oa%W],y[(Oa+1)%W],y[(Oa+2)%W])}}function Wa(y,W){return function(ha){return y+ha*W}}function $a(y,W,ha){return y=Math.pow(y,ha),W=Math.pow(W,ha)-y,ha=1/ha,function(Oa){return Math.pow(y+Oa*W,ha)}}function X(y,W){var ha=W-y;return ha?Wa(y,180<ha||-180>ha?ha-360*Math.round(ha/360):ha):Fh(isNaN(y)?W:y)}function Ca(y){return 1===(y=+y)?Xa:function(W,ha){return ha-W?$a(W,ha,y):Fh(isNaN(W)?ha:W)}}function Xa(y,W){var ha=W-y;return ha?Wa(y,ha):Fh(isNaN(y)?W:y)}
function Jb(y){return function(W){var ha=W.length,Oa=Array(ha),yb=Array(ha),Eb=Array(ha),Sb;for(Sb=0;Sb<ha;++Sb){var kc=nb(W[Sb]);Oa[Sb]=kc.r||0;yb[Sb]=kc.g||0;Eb[Sb]=kc.b||0}Oa=y(Oa);yb=y(yb);Eb=y(Eb);kc.opacity=1;return function(Uc){kc.r=Oa(Uc);kc.g=yb(Uc);kc.b=Eb(Uc);return kc+""}}}function yc(y,W){W||(W=[]);var ha=y?Math.min(W.length,y.length):0,Oa=W.slice(),yb;return function(Eb){for(yb=0;yb<ha;++yb)Oa[yb]=y[yb]*(1-Eb)+W[yb]*Eb;return Oa}}function sc(y){return ArrayBuffer.isView(y)&&!(y instanceof
DataView)}function xc(y,W){var ha=W?W.length:0,Oa=y?Math.min(ha,y.length):0,yb=Array(Oa),Eb=Array(ha),Sb;for(Sb=0;Sb<Oa;++Sb)yb[Sb]=qb(y[Sb],W[Sb]);for(;Sb<ha;++Sb)Eb[Sb]=W[Sb];return function(kc){for(Sb=0;Sb<Oa;++Sb)Eb[Sb]=yb[Sb](kc);return Eb}}function dd(y,W){var ha=new Date;return y=+y,W=+W,function(Oa){return ha.setTime(y*(1-Oa)+W*Oa),ha}}function Zb(y,W){return y=+y,W=+W,function(ha){return y*(1-ha)+W*ha}}function Sc(y,W){var ha={},Oa={},yb;if(null===y||"object"!==typeof y)y={};if(null===W||
"object"!==typeof W)W={};for(yb in W)yb in y?ha[yb]=qb(y[yb],W[yb]):Oa[yb]=W[yb];return function(Eb){for(yb in ha)Oa[yb]=ha[yb](Eb);return Oa}}function Pd(y){return function(){return y}}function Ma(y){return function(W){return y(W)+""}}function Vb(y,W){var ha=rh.lastIndex=Bh.lastIndex=0,Oa,yb,Eb,Sb=-1,kc=[],Uc=[];y+="";for(W+="";(Oa=rh.exec(y))&&(yb=Bh.exec(W));)(Eb=yb.index)>ha&&(Eb=W.slice(ha,Eb),kc[Sb]?kc[Sb]+=Eb:kc[++Sb]=Eb),(Oa=Oa[0])===(yb=yb[0])?kc[Sb]?kc[Sb]+=yb:kc[++Sb]=yb:(kc[++Sb]=null,
Uc.push({i:Sb,x:Zb(Oa,yb)})),ha=Bh.lastIndex;ha<W.length&&(Eb=W.slice(ha),kc[Sb]?kc[Sb]+=Eb:kc[++Sb]=Eb);return 2>kc.length?Uc[0]?Ma(Uc[0].x):Pd(W):(W=Uc.length,function(Id){for(var Sd=0,ad;Sd<W;++Sd)kc[(ad=Uc[Sd]).i]=ad.x(Id);return kc.join("")})}function qb(y,W){var ha=typeof W,Oa;return null==W||"boolean"===ha?Fh(W):("number"===ha?Zb:"string"===ha?(Oa=xb(W))?(W=Oa,Uh):Vb:W instanceof xb?Uh:W instanceof Date?dd:sc(W)?yc:Array.isArray(W)?xc:"function"!==typeof W.valueOf&&"function"!==typeof W.toString||
isNaN(W)?Sc:Zb)(y,W)}function Tb(y,W){return y=+y,W=+W,function(ha){return Math.round(y*(1-ha)+W*ha)}}function gc(y,W,ha,Oa,yb,Eb){var Sb,kc,Uc;if(Sb=Math.sqrt(y*y+W*W))y/=Sb,W/=Sb;if(Uc=y*ha+W*Oa)ha-=y*Uc,Oa-=W*Uc;if(kc=Math.sqrt(ha*ha+Oa*Oa))ha/=kc,Oa/=kc,Uc/=kc;y*Oa<W*ha&&(y=-y,W=-W,Uc=-Uc,Sb=-Sb);return{translateX:yb,translateY:Eb,rotate:Math.atan2(W,y)*Gg,skewX:Math.atan(Uc)*Gg,scaleX:Sb,scaleY:kc}}function cc(y,W,ha,Oa){function yb(Id){return Id.length?Id.pop()+" ":""}function Eb(Id,Sd,ad,ke,
Je,Ue){Id!==ad||Sd!==ke?(Je=Je.push("translate(",null,W,null,ha),Ue.push({i:Je-4,x:Zb(Id,ad)},{i:Je-2,x:Zb(Sd,ke)})):(ad||ke)&&Je.push("translate("+ad+W+ke+ha)}function Sb(Id,Sd,ad,ke){Id!==Sd?(180<Id-Sd?Sd+=360:180<Sd-Id&&(Id+=360),ke.push({i:ad.push(yb(ad)+"rotate(",null,Oa)-2,x:Zb(Id,Sd)})):Sd&&ad.push(yb(ad)+"rotate("+Sd+Oa)}function kc(Id,Sd,ad,ke){Id!==Sd?ke.push({i:ad.push(yb(ad)+"skewX(",null,Oa)-2,x:Zb(Id,Sd)}):Sd&&ad.push(yb(ad)+"skewX("+Sd+Oa)}function Uc(Id,Sd,ad,ke,Je,Ue){Id!==ad||Sd!==
ke?(Je=Je.push(yb(Je)+"scale(",null,",",null,")"),Ue.push({i:Je-4,x:Zb(Id,ad)},{i:Je-2,x:Zb(Sd,ke)})):1===ad&&1===ke||Je.push(yb(Je)+"scale("+ad+","+ke+")")}return function(Id,Sd){var ad=[],ke=[];Id=y(Id);Sd=y(Sd);Eb(Id.translateX,Id.translateY,Sd.translateX,Sd.translateY,ad,ke);Sb(Id.rotate,Sd.rotate,ad,ke);kc(Id.skewX,Sd.skewX,ad,ke);Uc(Id.scaleX,Id.scaleY,Sd.scaleX,Sd.scaleY,ad,ke);Id=Sd=null;return function(Je){for(var Ue=-1,w=ke.length,T;++Ue<w;)ad[(T=ke[Ue]).i]=T.x(Je);return ad.join("")}}}
function Ic(y){return((y=Math.exp(y))+1/y)/2}function zc(y){return function(W,ha){var Oa=y((W=ma(W)).h,(ha=ma(ha)).h),yb=Xa(W.s,ha.s),Eb=Xa(W.l,ha.l),Sb=Xa(W.opacity,ha.opacity);return function(kc){W.h=Oa(kc);W.s=yb(kc);W.l=Eb(kc);W.opacity=Sb(kc);return W+""}}}function Zc(y){return function(W,ha){var Oa=y((W=H(W)).h,(ha=H(ha)).h),yb=Xa(W.c,ha.c),Eb=Xa(W.l,ha.l),Sb=Xa(W.opacity,ha.opacity);return function(kc){W.h=Oa(kc);W.c=yb(kc);W.l=Eb(kc);W.opacity=Sb(kc);return W+""}}}function Md(y){return function Oa(ha){function yb(Eb,
Sb){var kc=y((Eb=Y(Eb)).h,(Sb=Y(Sb)).h),Uc=Xa(Eb.s,Sb.s),Id=Xa(Eb.l,Sb.l),Sd=Xa(Eb.opacity,Sb.opacity);return function(ad){Eb.h=kc(ad);Eb.s=Uc(ad);Eb.l=Id(Math.pow(ad,ha));Eb.opacity=Sd(ad);return Eb+""}}ha=+ha;yb.gamma=Oa;return yb}(1)}function td(y,W){void 0===W&&(W=y,y=qb);for(var ha=0,Oa=W.length-1,yb=W[0],Eb=Array(0>Oa?0:Oa);ha<Oa;)Eb[ha]=y(yb,yb=W[++ha]);return function(Sb){var kc=Math.max(0,Math.min(Oa-1,Math.floor(Sb*=Oa)));return Eb[kc](Sb-kc)}}function Ha(y){return function(){return y}}
function gb(y){return+y}function wb(y){return y}function sa(y,W){return(W-=y=+y)?function(ha){return(ha-y)/W}:Ha(isNaN(W)?NaN:.5)}function F(y,W){if(y>W){var ha=y;y=W;W=ha}return function(Oa){return Math.max(y,Math.min(W,Oa))}}function ya(y,W,ha){var Oa=y[0];y=y[1];var yb=W[0];W=W[1];y<Oa?(Oa=sa(y,Oa),yb=ha(W,yb)):(Oa=sa(Oa,y),yb=ha(yb,W));return function(Eb){return yb(Oa(Eb))}}function Na(y,W,ha){var Oa=Math.min(y.length,W.length)-1,yb=Array(Oa),Eb=Array(Oa),Sb=-1;y[Oa]<y[0]&&(y=y.slice().reverse(),
W=W.slice().reverse());for(;++Sb<Oa;)yb[Sb]=sa(y[Sb],y[Sb+1]),Eb[Sb]=ha(W[Sb],W[Sb+1]);return function(kc){var Uc=xf(y,kc,1,Oa)-1;return Eb[Uc](yb[Uc](kc))}}function Za(y,W){return W.domain(y.domain()).range(y.range()).interpolate(y.interpolate()).clamp(y.clamp()).unknown(y.unknown())}function kb(){function y(){var ke=Math.min(ha.length,Oa.length);Uc!==wb&&(Uc=F(ha[0],ha[ke-1]));Id=2<ke?Na:ya;Sd=ad=null;return W}function W(ke){return null==ke||isNaN(ke=+ke)?kc:(Sd||(Sd=Id(ha.map(Eb),Oa,yb)))(Eb(Uc(ke)))}
var ha=Lg,Oa=Lg,yb=qb,Eb,Sb,kc,Uc=wb,Id,Sd,ad;W.invert=function(ke){return Uc(Sb((ad||(ad=Id(Oa,ha.map(Eb),Zb)))(ke)))};W.domain=function(ke){return arguments.length?(ha=Array.from(ke,gb),y()):ha.slice()};W.range=function(ke){return arguments.length?(Oa=Array.from(ke),y()):Oa.slice()};W.rangeRound=function(ke){return Oa=Array.from(ke),yb=Tb,y()};W.clamp=function(ke){return arguments.length?(Uc=ke?!0:wb,y()):Uc!==wb};W.interpolate=function(ke){return arguments.length?(yb=ke,y()):yb};W.unknown=function(ke){return arguments.length?
(kc=ke,W):kc};return function(ke,Je){Eb=ke;Sb=Je;return y()}}function Gb(y,W){if(0>(W=(y=W?y.toExponential(W-1):y.toExponential()).indexOf("e")))return null;var ha=y.slice(0,W);return[1<ha.length?ha[0]+ha.slice(2):ha,+y.slice(W+1)]}function nc(y){return y=Gb(Math.abs(y)),y?y[1]:NaN}function dc(y,W){return function(ha,Oa){for(var yb=ha.length,Eb=[],Sb=0,kc=y[0],Uc=0;0<yb&&0<kc;){Uc+kc+1>Oa&&(kc=Math.max(1,Oa-Uc));Eb.push(ha.substring(yb-=kc,yb+kc));if((Uc+=kc+1)>Oa)break;kc=y[Sb=(Sb+1)%y.length]}return Eb.reverse().join(W)}}
function ic(y){return function(W){return W.replace(/[0-9]/g,function(ha){return y[+ha]})}}function Vc(y){if(!(W=Pf.exec(y)))throw Error("invalid format: "+y);var W;return new ed({fill:W[1],align:W[2],sign:W[3],symbol:W[4],zero:W[5],width:W[6],comma:W[7],precision:W[8]&&W[8].slice(1),trim:W[9],type:W[10]})}function ed(y){this.fill=void 0===y.fill?" ":y.fill+"";this.align=void 0===y.align?"\x3e":y.align+"";this.sign=void 0===y.sign?"-":y.sign+"";this.symbol=void 0===y.symbol?"":y.symbol+"";this.zero=
!!y.zero;this.width=void 0===y.width?void 0:+y.width;this.comma=!!y.comma;this.precision=void 0===y.precision?void 0:+y.precision;this.trim=!!y.trim;this.type=void 0===y.type?"":y.type+""}function fd(y,W){W=Gb(y,W);if(!W)return y+"";y=W[0];W=W[1];return 0>W?"0."+Array(-W).join("0")+y:y.length>W+1?y.slice(0,W+1)+"."+y.slice(W+1):y+Array(W-y.length+2).join("0")}function Qd(y){return y}function Td(y){function W(Sd){function ad(mc){var qd=Nb,xd=Mc,ye,re;if("c"===Mb)xd=Ed(mc)+xd,mc="";else{mc=+mc;var Te=
0>mc||0>1/mc;mc=isNaN(mc)?Id:Ed(Math.abs(mc),rb);if(zb){var Ff=mc.length,Xf=1,jg=-1;a:for(;Xf<Ff;++Xf)switch(mc[Xf]){case ".":jg=ye=Xf;break;case "0":0===jg&&(jg=Xf);ye=Xf;break;default:if(!+mc[Xf])break a;0<jg&&(jg=0)}mc=0<jg?mc.slice(0,jg)+mc.slice(ye+1):mc}Te&&0===+mc&&"+"!==Ue&&(Te=!1);qd=(Te?"("===Ue?Ue:Uc:"-"===Ue||"("===Ue?"":Ue)+qd;xd=("s"===Mb?p[8+S/3]:"")+xd+(Te&&"("===Ue?")":"");if(bd)for(Te=-1,ye=mc.length;++Te<ye;)if(re=mc.charCodeAt(Te),48>re||57<re){xd=(46===re?Eb+mc.slice(Te+1):mc.slice(Te))+
xd;mc=mc.slice(0,Te);break}}Ea&&!T&&(mc=ha(mc,Infinity));re=qd.length+mc.length+xd.length;Te=re<aa?Array(aa-re+1).join(ke):"";Ea&&T&&(mc=ha(Te+mc,Te.length?aa-xd.length:Infinity),Te="");switch(Je){case "\x3c":mc=qd+mc+xd+Te;break;case "\x3d":mc=qd+Te+mc+xd;break;case "^":mc=Te.slice(0,re=Te.length>>1)+qd+mc+xd+Te.slice(re);break;default:mc=Te+qd+mc+xd}return Sb(mc)}Sd=Vc(Sd);var ke=Sd.fill,Je=Sd.align,Ue=Sd.sign,w=Sd.symbol,T=Sd.zero,aa=Sd.width,Ea=Sd.comma,rb=Sd.precision,zb=Sd.trim,Mb=Sd.type;"n"===
Mb?(Ea=!0,Mb="g"):xa[Mb]||(void 0===rb&&(rb=12),zb=!0,Mb="g");if(T||"0"===ke&&"\x3d"===Je)T=!0,ke="0",Je="\x3d";var Nb="$"===w?Oa:"#"===w&&/[boxX]/.test(Mb)?"0"+Mb.toLowerCase():"",Mc="$"===w?yb:/[%p]/.test(Mb)?kc:"",Ed=xa[Mb],bd=/[defgprs%]/.test(Mb);rb=void 0===rb?6:/[gprs]/.test(Mb)?Math.max(1,Math.min(21,rb)):Math.max(0,Math.min(20,rb));ad.toString=function(){return Sd+""};return ad}var ha=void 0===y.grouping||void 0===y.thousands?Qd:dc(Ta.call(y.grouping,Number),y.thousands+""),Oa=void 0===y.currency?
"":y.currency[0]+"",yb=void 0===y.currency?"":y.currency[1]+"",Eb=void 0===y.decimal?".":y.decimal+"",Sb=void 0===y.numerals?Qd:ic(Ta.call(y.numerals,String)),kc=void 0===y.percent?"%":y.percent+"",Uc=void 0===y.minus?"":y.minus+"",Id=void 0===y.nan?"NaN":y.nan+"";return{format:W,formatPrefix:function(Sd,ad){var ke=W((Sd=Vc(Sd),Sd.type="f",Sd));Sd=3*Math.max(-8,Math.min(8,Math.floor(nc(ad)/3)));var Je=Math.pow(10,-Sd),Ue=p[8+Sd/3];return function(w){return ke(Je*w)+Ue}}}}function Fd(y,W,ha,Oa){ha=
Lb(y,W,ha);Oa=Vc(null==Oa?",f":Oa);switch(Oa.type){case "s":y=Math.max(Math.abs(y),Math.abs(W));if(W=null==Oa.precision){var yb=isNaN;ha=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(nc(y)/3)))-nc(Math.abs(ha)));W=!yb(yb=ha)}W&&(Oa.precision=yb);return wa(Oa,y);case "":case "e":case "g":case "p":case "r":var Eb;if(Eb=null==Oa.precision)yb=isNaN,y=Math.max(Math.abs(y),Math.abs(W)),ha=Math.abs(ha),y=Math.abs(y)-ha,ha=Math.max(0,nc(y)-nc(ha))+1,Eb=!yb(yb=ha);Eb&&(Oa.precision=yb-("e"===Oa.type));break;
case "f":case "%":null!=Oa.precision||isNaN(yb=Math.max(0,-nc(Math.abs(ha))))||(Oa.precision=yb-2*("%"===Oa.type))}return ja(Oa)}function Zd(y){var W=y.domain;y.ticks=function(ha){var Oa=W();return ub(Oa[0],Oa[Oa.length-1],null==ha?10:ha)};y.tickFormat=function(ha,Oa){var yb=W();return Fd(yb[0],yb[yb.length-1],null==ha?10:ha,Oa)};y.nice=function(ha){null==ha&&(ha=10);var Oa=W(),yb=0,Eb=Oa.length-1,Sb=Oa[yb],kc=Oa[Eb],Uc=10;if(kc<Sb){var Id=Sb;Sb=kc;kc=Id;Id=yb;yb=Eb;Eb=Id}for(;0<Uc--;){Id=Kb(Sb,kc,
ha);if(Id===Sd)return Oa[yb]=Sb,Oa[Eb]=kc,W(Oa);if(0<Id)Sb=Math.floor(Sb/Id)*Id,kc=Math.ceil(kc/Id)*Id;else if(0>Id)Sb=Math.ceil(Sb*Id)/Id,kc=Math.floor(kc*Id)/Id;else break;var Sd=Id}return y};return y}function de(){var y=kb()(wb,wb);y.copy=function(){return Za(y,de())};ab.apply(y,arguments);return Zd(y)}function Ud(y){function W(Oa){return null==Oa||isNaN(Oa=+Oa)?ha:Oa}var ha;W.invert=W;W.domain=W.range=function(Oa){return arguments.length?(y=Array.from(Oa,gb),W):y.slice()};W.unknown=function(Oa){return arguments.length?
(ha=Oa,W):ha};W.copy=function(){return Ud(y).unknown(ha)};y=arguments.length?Array.from(y,gb):[0,1];return Zd(W)}function Ve(y,W){y=y.slice();var ha=0,Oa=y.length-1,yb=y[ha],Eb=y[Oa];if(Eb<yb){var Sb=ha;ha=Oa;Oa=Sb;Sb=yb;yb=Eb;Eb=Sb}y[ha]=W.floor(yb);y[Oa]=W.ceil(Eb);return y}function Xd(y){return Math.log(y)}function N(y){return Math.exp(y)}function la(y){return-Math.log(-y)}function za(y){return-Math.exp(-y)}function fb(y){return isFinite(y)?+("1e"+y):0>y?0:y}function Ib(y){return 10===y?fb:y===
Math.E?Math.exp:W=>Math.pow(y,W)}function Xb(y){return y===Math.E?Math.log:10===y&&Math.log10||2===y&&Math.log2||(y=Math.log(y),W=>Math.log(W)/y)}function Bc(y){return(W,ha)=>-y(-W,ha)}function lc(y){function W(){Eb=Xb(yb);Sb=Ib(yb);0>Oa()[0]?(Eb=Bc(Eb),Sb=Bc(Sb),y(la,za)):y(Xd,N);return ha}const ha=y(Xd,N),Oa=ha.domain;let yb=10,Eb,Sb;ha.base=function(kc){return arguments.length?(yb=+kc,W()):yb};ha.domain=function(kc){return arguments.length?(Oa(kc),W()):Oa()};ha.ticks=kc=>{var Uc=Oa();let Id=Uc[0];
Uc=Uc[Uc.length-1];const Sd=Uc<Id;Sd&&([Id,Uc]=[Uc,Id]);let ad=Eb(Id),ke=Eb(Uc),Je;const Ue=null==kc?10:+kc;let w=[];if(!(yb%1)&&ke-ad<Ue){ad=Math.floor(ad);ke=Math.ceil(ke);if(0<Id)for(;ad<=ke;++ad)for(kc=1;kc<yb;++kc){if(Je=0>ad?kc/Sb(-ad):kc*Sb(ad),!(Je<Id)){if(Je>Uc)break;w.push(Je)}}else for(;ad<=ke;++ad)for(kc=yb-1;1<=kc;--kc)if(Je=0<ad?kc/Sb(-ad):kc*Sb(ad),!(Je<Id)){if(Je>Uc)break;w.push(Je)}2*w.length<Ue&&(w=ub(Id,Uc,Ue))}else w=ub(ad,ke,Math.min(ke-ad,Ue)).map(Sb);return Sd?w.reverse():w};
ha.tickFormat=(kc,Uc)=>{null==kc&&(kc=10);null==Uc&&(Uc=10===yb?"s":",");"function"!==typeof Uc&&(yb%1||null!=(Uc=Vc(Uc)).precision||(Uc.trim=!0),Uc=ja(Uc));if(Infinity===kc)return Uc;const Id=Math.max(1,yb*kc/ha.ticks().length);return Sd=>{let ad=Sd/Sb(Math.round(Eb(Sd)));ad*yb<yb-.5&&(ad*=yb);return ad<=Id?Uc(Sd):""}};ha.nice=()=>Oa(Ve(Oa(),{floor:kc=>Sb(Math.floor(Eb(kc))),ceil:kc=>Sb(Math.ceil(Eb(kc)))}));return ha}function Gc(){const y=lc(kb()).domain([1,10]);y.copy=()=>Za(y,Gc()).base(y.base());
ab.apply(y,arguments);return y}function id(y){return function(W){return Math.sign(W)*Math.log1p(Math.abs(W/y))}}function Nc(y){return function(W){return Math.sign(W)*Math.expm1(Math.abs(W))*y}}function rd(y){var W=1,ha=y(id(W),Nc(W));ha.constant=function(Oa){return arguments.length?y(id(W=+Oa),Nc(W)):W};return Zd(ha)}function Hd(){var y=rd(kb());y.copy=function(){return Za(y,Hd()).constant(y.constant())};return ab.apply(y,arguments)}function Gd(y){return function(W){return 0>W?-Math.pow(-W,y):Math.pow(W,
y)}}function $d(y){return 0>y?-Math.sqrt(-y):Math.sqrt(y)}function Wd(y){return 0>y?-y*y:y*y}function ae(y){var W=y(wb,wb),ha=1;W.exponent=function(Oa){return arguments.length?(ha=+Oa,1===ha?y(wb,wb):.5===ha?y($d,Wd):y(Gd(ha),Gd(1/ha))):ha};return Zd(W)}function Ae(){var y=ae(kb());y.copy=function(){return Za(y,Ae()).exponent(y.exponent())};ab.apply(y,arguments);return y}function kf(){function y(){var Sb=0,kc=Math.max(1,Oa.length);for(yb=Array(kc-1);++Sb<kc;)yb[Sb-1]=Db(ha,Sb/kc);return W}function W(Sb){return null==
Sb||isNaN(Sb=+Sb)?Eb:Oa[xf(yb,Sb)]}var ha=[],Oa=[],yb=[],Eb;W.invertExtent=function(Sb){Sb=Oa.indexOf(Sb);return 0>Sb?[NaN,NaN]:[0<Sb?yb[Sb-1]:ha[0],Sb<yb.length?yb[Sb]:ha[ha.length-1]]};W.domain=function(Sb){if(!arguments.length)return ha.slice();ha=[];for(let kc of Sb)null==kc||isNaN(kc=+kc)||ha.push(kc);ha.sort(vc);return y()};W.range=function(Sb){return arguments.length?(Oa=Array.from(Sb),y()):Oa.slice()};W.unknown=function(Sb){return arguments.length?(Eb=Sb,W):Eb};W.quantiles=function(){return yb.slice()};
W.copy=function(){return kf().domain(ha).range(Oa).unknown(Eb)};return ab.apply(W,arguments)}function hf(){function y(Uc){return null!=Uc&&Uc<=Uc?Sb[xf(Eb,Uc,0,yb)]:kc}function W(){var Uc=-1;for(Eb=Array(yb);++Uc<yb;)Eb[Uc]=((Uc+1)*Oa-(Uc-yb)*ha)/(yb+1);return y}var ha=0,Oa=1,yb=1,Eb=[.5],Sb=[0,1],kc;y.domain=function(Uc){return arguments.length?([ha,Oa]=Uc,ha=+ha,Oa=+Oa,W()):[ha,Oa]};y.range=function(Uc){return arguments.length?(yb=(Sb=Array.from(Uc)).length-1,W()):Sb.slice()};y.invertExtent=function(Uc){Uc=
Sb.indexOf(Uc);return 0>Uc?[NaN,NaN]:1>Uc?[ha,Eb[0]]:Uc>=yb?[Eb[yb-1],Oa]:[Eb[Uc-1],Eb[Uc]]};y.unknown=function(Uc){return arguments.length?(kc=Uc,y):y};y.thresholds=function(){return Eb.slice()};y.copy=function(){return hf().domain([ha,Oa]).range(Sb).unknown(kc)};return ab.apply(Zd(y),arguments)}function cf(){function y(Eb){return null!=Eb&&Eb<=Eb?ha[xf(W,Eb,0,yb)]:Oa}var W=[.5],ha=[0,1],Oa,yb=1;y.domain=function(Eb){return arguments.length?(W=Array.from(Eb),yb=Math.min(W.length,ha.length-1),y):
W.slice()};y.range=function(Eb){return arguments.length?(ha=Array.from(Eb),yb=Math.min(W.length,ha.length-1),y):ha.slice()};y.invertExtent=function(Eb){Eb=ha.indexOf(Eb);return[W[Eb-1],W[Eb]]};y.unknown=function(Eb){return arguments.length?(Oa=Eb,y):Oa};y.copy=function(){return cf().domain(W).range(ha).unknown(Oa)};return ab.apply(y,arguments)}function se(y,W,ha,Oa){function yb(Eb){return y(Eb=0===arguments.length?new Date:new Date(+Eb)),Eb}yb.floor=function(Eb){return y(Eb=new Date(+Eb)),Eb};yb.ceil=
function(Eb){return y(Eb=new Date(Eb-1)),W(Eb,1),y(Eb),Eb};yb.round=function(Eb){var Sb=yb(Eb),kc=yb.ceil(Eb);return Eb-Sb<kc-Eb?Sb:kc};yb.offset=function(Eb,Sb){return W(Eb=new Date(+Eb),null==Sb?1:Math.floor(Sb)),Eb};yb.range=function(Eb,Sb,kc){var Uc=[],Id;Eb=yb.ceil(Eb);kc=null==kc?1:Math.floor(kc);if(!(Eb<Sb&&0<kc))return Uc;do Uc.push(Id=new Date(+Eb)),W(Eb,kc),y(Eb);while(Id<Eb&&Eb<Sb);return Uc};yb.filter=function(Eb){return se(function(Sb){if(Sb>=Sb)for(;y(Sb),!Eb(Sb);)Sb.setTime(Sb-1)},
function(Sb,kc){if(Sb>=Sb)if(0>kc)for(;0>=++kc;)for(;W(Sb,-1),!Eb(Sb););else for(;0<=--kc;)for(;W(Sb,1),!Eb(Sb););})};ha&&(yb.count=function(Eb,Sb){r.setTime(+Eb);G.setTime(+Sb);y(r);y(G);return Math.floor(ha(r,G))},yb.every=function(Eb){Eb=Math.floor(Eb);return isFinite(Eb)&&0<Eb?1<Eb?yb.filter(Oa?function(Sb){return 0===Oa(Sb)%Eb}:function(Sb){return 0===yb.count(0,Sb)%Eb}):yb:null});return yb}function uf(y){return se(function(W){W.setDate(W.getDate()-(W.getDay()+7-y)%7);W.setHours(0,0,0,0)},function(W,
ha){W.setDate(W.getDate()+7*ha)},function(W,ha){return(ha-W-6E4*(ha.getTimezoneOffset()-W.getTimezoneOffset()))/6048E5})}function U(y){return se(function(W){W.setUTCDate(W.getUTCDate()-(W.getUTCDay()+7-y)%7);W.setUTCHours(0,0,0,0)},function(W,ha){W.setUTCDate(W.getUTCDate()+7*ha)},function(W,ha){return(ha-W)/6048E5})}function ua(y,W,ha,Oa,yb,Eb){function Sb(Uc,Id,Sd){const ad=Math.abs(Id-Uc)/Sd,ke=Ac(([,,w])=>w).right(kc,ad);if(ke===kc.length)return y.every(Lb(Uc/31536E6,Id/31536E6,Sd));if(0===ke)return l.every(Math.max(Lb(Uc,
Id,Sd),1));const [Je,Ue]=kc[ad/kc[ke-1][2]<kc[ke][2]/ad?ke-1:ke];return Je.every(Ue)}const kc=[[z,1,1E3],[z,5,5E3],[z,15,15E3],[z,30,3E4],[Eb,1,6E4],[Eb,5,3E5],[Eb,15,9E5],[Eb,30,18E5],[yb,1,36E5],[yb,3,108E5],[yb,6,216E5],[yb,12,432E5],[Oa,1,864E5],[Oa,2,1728E5],[ha,1,6048E5],[W,1,2592E6],[W,3,7776E6],[y,1,31536E6]];return[function(Uc,Id,Sd){const ad=Id<Uc;ad&&([Uc,Id]=[Id,Uc]);Uc=(Sd=Sd&&"function"===typeof Sd.range?Sd:Sb(Uc,Id,Sd))?Sd.range(Uc,+Id+1):[];return ad?Uc.reverse():Uc},Sb]}function cb(y){if(0<=
y.y&&100>y.y){var W=new Date(-1,y.m,y.d,y.H,y.M,y.S,y.L);W.setFullYear(y.y);return W}return new Date(y.y,y.m,y.d,y.H,y.M,y.S,y.L)}function Ab(y){if(0<=y.y&&100>y.y){var W=new Date(Date.UTC(-1,y.m,y.d,y.H,y.M,y.S,y.L));W.setUTCFullYear(y.y);return W}return new Date(Date.UTC(y.y,y.m,y.d,y.H,y.M,y.S,y.L))}function ec(y,W,ha){return{y,m:W,d:ha,H:0,M:0,S:0,L:0}}function Cc(y){function W(bd,mc){return function(qd){var xd=[],ye=-1,re=0,Te=bd.length,Ff,Xf;for(qd instanceof Date||(qd=new Date(+qd));++ye<Te;)if(37===
bd.charCodeAt(ye)){xd.push(bd.slice(re,ye));null!=(re=nf[Ff=bd.charAt(++ye)])?Ff=bd.charAt(++ye):re="e"===Ff?" ":"0";if(Xf=mc[Ff])Ff=Xf(qd,re);xd.push(Ff);re=ye+1}xd.push(bd.slice(re,ye));return xd.join("")}}function ha(bd,mc){return function(qd){var xd=ec(1900,void 0,1);if(Oa(xd,bd,qd+="",0)!=qd.length)return null;if("Q"in xd)return new Date(xd.Q);if("s"in xd)return new Date(1E3*xd.s+("L"in xd?xd.L:0));!mc||"Z"in xd||(xd.Z=0);"p"in xd&&(xd.H=xd.H%12+12*xd.p);void 0===xd.m&&(xd.m="q"in xd?xd.q:0);
if("V"in xd){if(1>xd.V||53<xd.V)return null;"w"in xd||(xd.w=1);if("Z"in xd){qd=Ab(ec(xd.y,0,1));var ye=qd.getUTCDay();qd=4<ye||0===ye?Se.ceil(qd):Se(qd);qd=He.offset(qd,7*(xd.V-1));xd.y=qd.getUTCFullYear();xd.m=qd.getUTCMonth();xd.d=qd.getUTCDate()+(xd.w+6)%7}else qd=cb(ec(xd.y,0,1)),ye=qd.getDay(),qd=4<ye||0===ye?Bb.ceil(qd):Bb(qd),qd=Va.offset(qd,7*(xd.V-1)),xd.y=qd.getFullYear(),xd.m=qd.getMonth(),xd.d=qd.getDate()+(xd.w+6)%7}else if("W"in xd||"U"in xd)"w"in xd||(xd.w="u"in xd?xd.u%7:"W"in xd?
1:0),ye="Z"in xd?Ab(ec(xd.y,0,1)).getUTCDay():cb(ec(xd.y,0,1)).getDay(),xd.m=0,xd.d="W"in xd?(xd.w+6)%7+7*xd.W-(ye+5)%7:xd.w+7*xd.U-(ye+6)%7;return"Z"in xd?(xd.H+=xd.Z/100|0,xd.M+=xd.Z%100,Ab(xd)):cb(xd)}}function Oa(bd,mc,qd,xd){for(var ye=0,re=mc.length,Te=qd.length,Ff;ye<re;){if(xd>=Te)return-1;Ff=mc.charCodeAt(ye++);if(37===Ff){if(Ff=mc.charAt(ye++),Ff=Ed[Ff in nf?mc.charAt(ye++):Ff],!Ff||0>(xd=Ff(bd,qd,xd)))return-1}else if(Ff!=qd.charCodeAt(xd++))return-1}return xd}var yb=y.dateTime,Eb=y.date,
Sb=y.time,kc=y.periods,Uc=y.days,Id=y.shortDays,Sd=y.months,ad=y.shortMonths,ke=fa(kc),Je=Sa(kc),Ue=fa(Uc),w=Sa(Uc),T=fa(Id),aa=Sa(Id),Ea=fa(Sd),rb=Sa(Sd),zb=fa(ad),Mb=Sa(ad),Nb={a:function(bd){return Id[bd.getDay()]},A:function(bd){return Uc[bd.getDay()]},b:function(bd){return ad[bd.getMonth()]},B:function(bd){return Sd[bd.getMonth()]},c:null,d:Xe,e:Xe,f:Fc,g:jb,G:pc,H:df,I:od,j:Ec,L:kd,m:Jd,M:Vd,p:function(bd){return kc[+(12<=bd.getHours())]},q:function(bd){return 1+~~(bd.getMonth()/3)},Q:jf,s:bg,
S:ce,u:le,U:O,V:I,w:ka,W:ta,x:null,X:null,y:Ja,Y:vb,Z:qc,"%":If},Mc={a:function(bd){return Id[bd.getUTCDay()]},A:function(bd){return Uc[bd.getUTCDay()]},b:function(bd){return ad[bd.getUTCMonth()]},B:function(bd){return Sd[bd.getUTCMonth()]},c:null,d:rc,e:rc,f:yd,g:vf,G:ne,H:Kc,I:Bd,j:Hc,L:$c,m:Dd,M:Kd,p:function(bd){return kc[+(12<=bd.getUTCHours())]},q:function(bd){return 1+~~(bd.getUTCMonth()/3)},Q:jf,s:bg,S:Ee,u:Be,U:wd,V:Ld,w:he,W:Fe,x:null,X:null,y:lf,Y:Ie,Z:Cf,"%":If},Ed={a:function(bd,mc,qd){return(mc=
T.exec(mc.slice(qd)))?(bd.w=aa.get(mc[0].toLowerCase()),qd+mc[0].length):-1},A:function(bd,mc,qd){return(mc=Ue.exec(mc.slice(qd)))?(bd.w=w.get(mc[0].toLowerCase()),qd+mc[0].length):-1},b:function(bd,mc,qd){return(mc=zb.exec(mc.slice(qd)))?(bd.m=Mb.get(mc[0].toLowerCase()),qd+mc[0].length):-1},B:function(bd,mc,qd){return(mc=Ea.exec(mc.slice(qd)))?(bd.m=rb.get(mc[0].toLowerCase()),qd+mc[0].length):-1},c:function(bd,mc,qd){return Oa(bd,yb,mc,qd)},d:Lc,e:Lc,f:Cd,g:Ra,G:ee,H:Qc,I:Qc,j:Wc,L:Od,m:vd,M:sd,
p:function(bd,mc,qd){return(mc=ke.exec(mc.slice(qd)))?(bd.p=Je.get(mc[0].toLowerCase()),qd+mc[0].length):-1},q:oc,Q:xe,s:Le,S:jd,u:Pc,U:Dc,V:Tc,w:bc,W:gd,x:function(bd,mc,qd){return Oa(bd,Eb,mc,qd)},X:function(bd,mc,qd){return Oa(bd,Sb,mc,qd)},y:Ra,Y:ee,Z:eb,"%":be};Nb.x=W(Eb,Nb);Nb.X=W(Sb,Nb);Nb.c=W(yb,Nb);Mc.x=W(Eb,Mc);Mc.X=W(Sb,Mc);Mc.c=W(yb,Mc);return{format:function(bd){var mc=W(bd+="",Nb);mc.toString=function(){return bd};return mc},parse:function(bd){var mc=ha(bd+="",!1);mc.toString=function(){return bd};
return mc},utcFormat:function(bd){var mc=W(bd+="",Mc);mc.toString=function(){return bd};return mc},utcParse:function(bd){var mc=ha(bd+="",!0);mc.toString=function(){return bd};return mc}}}function $b(y,W,ha){var Oa=0>y?"-":"";y=(Oa?-y:y)+"";var yb=y.length;return Oa+(yb<ha?Array(ha-yb+1).join(W)+y:y)}function J(y){return y.replace(Of,"\\$\x26")}function fa(y){return new RegExp("^(?:"+y.map(J).join("|")+")","i")}function Sa(y){return new Map(y.map((W,ha)=>[W.toLowerCase(),ha]))}function bc(y,W,ha){return(W=
Tf.exec(W.slice(ha,ha+1)))?(y.w=+W[0],ha+W[0].length):-1}function Pc(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+1)))?(y.u=+W[0],ha+W[0].length):-1}function Dc(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+2)))?(y.U=+W[0],ha+W[0].length):-1}function Tc(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+2)))?(y.V=+W[0],ha+W[0].length):-1}function gd(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+2)))?(y.W=+W[0],ha+W[0].length):-1}function ee(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+4)))?(y.y=+W[0],ha+W[0].length):-1}function Ra(y,
W,ha){return(W=Tf.exec(W.slice(ha,ha+2)))?(y.y=+W[0]+(68<+W[0]?1900:2E3),ha+W[0].length):-1}function eb(y,W,ha){return(W=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(W.slice(ha,ha+6)))?(y.Z=W[1]?0:-(W[2]+(W[3]||"00")),ha+W[0].length):-1}function oc(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+1)))?(y.q=3*W[0]-3,ha+W[0].length):-1}function vd(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+2)))?(y.m=W[0]-1,ha+W[0].length):-1}function Lc(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+2)))?(y.d=+W[0],ha+W[0].length):-1}function Wc(y,
W,ha){return(W=Tf.exec(W.slice(ha,ha+3)))?(y.m=0,y.d=+W[0],ha+W[0].length):-1}function Qc(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+2)))?(y.H=+W[0],ha+W[0].length):-1}function sd(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+2)))?(y.M=+W[0],ha+W[0].length):-1}function jd(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+2)))?(y.S=+W[0],ha+W[0].length):-1}function Od(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+3)))?(y.L=+W[0],ha+W[0].length):-1}function Cd(y,W,ha){return(W=Tf.exec(W.slice(ha,ha+6)))?(y.L=Math.floor(W[0]/1E3),
ha+W[0].length):-1}function be(y,W,ha){return(y=Rf.exec(W.slice(ha,ha+1)))?ha+y[0].length:-1}function xe(y,W,ha){return(W=Tf.exec(W.slice(ha)))?(y.Q=+W[0],ha+W[0].length):-1}function Le(y,W,ha){return(W=Tf.exec(W.slice(ha)))?(y.s=+W[0],ha+W[0].length):-1}function Xe(y,W){return $b(y.getDate(),W,2)}function df(y,W){return $b(y.getHours(),W,2)}function od(y,W){return $b(y.getHours()%12||12,W,2)}function Ec(y,W){return $b(1+Va.count(Rc(y),y),W,3)}function kd(y,W){return $b(y.getMilliseconds(),W,3)}function Fc(y,
W){return kd(y,W)+"000"}function Jd(y,W){return $b(y.getMonth()+1,W,2)}function Vd(y,W){return $b(y.getMinutes(),W,2)}function ce(y,W){return $b(y.getSeconds(),W,2)}function le(y){y=y.getDay();return 0===y?7:y}function O(y,W){return $b(Ya.count(Rc(y)-1,y),W,2)}function ea(y){var W=y.getDay();return 4<=W||0===W?hc(y):hc.ceil(y)}function I(y,W){y=ea(y);return $b(hc.count(Rc(y),y)+(4===Rc(y).getDay()),W,2)}function ka(y){return y.getDay()}function ta(y,W){return $b(Bb.count(Rc(y)-1,y),W,2)}function Ja(y,
W){return $b(y.getFullYear()%100,W,2)}function jb(y,W){y=ea(y);return $b(y.getFullYear()%100,W,2)}function vb(y,W){return $b(y.getFullYear()%1E4,W,4)}function pc(y,W){var ha=y.getDay();y=4<=ha||0===ha?hc(y):hc.ceil(y);return $b(y.getFullYear()%1E4,W,4)}function qc(y){y=y.getTimezoneOffset();return(0<y?"-":(y*=-1,"+"))+$b(y/60|0,"0",2)+$b(y%60,"0",2)}function rc(y,W){return $b(y.getUTCDate(),W,2)}function Kc(y,W){return $b(y.getUTCHours(),W,2)}function Bd(y,W){return $b(y.getUTCHours()%12||12,W,2)}
function Hc(y,W){return $b(1+He.count($e(y),y),W,3)}function $c(y,W){return $b(y.getUTCMilliseconds(),W,3)}function yd(y,W){return $c(y,W)+"000"}function Dd(y,W){return $b(y.getUTCMonth()+1,W,2)}function Kd(y,W){return $b(y.getUTCMinutes(),W,2)}function Ee(y,W){return $b(y.getUTCSeconds(),W,2)}function Be(y){y=y.getUTCDay();return 0===y?7:y}function wd(y,W){return $b(ue.count($e(y)-1,y),W,2)}function ze(y){var W=y.getUTCDay();return 4<=W||0===W?pf(y):pf.ceil(y)}function Ld(y,W){y=ze(y);return $b(pf.count($e(y),
y)+(4===$e(y).getUTCDay()),W,2)}function he(y){return y.getUTCDay()}function Fe(y,W){return $b(Se.count($e(y)-1,y),W,2)}function lf(y,W){return $b(y.getUTCFullYear()%100,W,2)}function vf(y,W){y=ze(y);return $b(y.getUTCFullYear()%100,W,2)}function Ie(y,W){return $b(y.getUTCFullYear()%1E4,W,4)}function ne(y,W){var ha=y.getUTCDay();y=4<=ha||0===ha?pf(y):pf.ceil(y);return $b(y.getUTCFullYear()%1E4,W,4)}function Cf(){return"+0000"}function If(){return"%"}function jf(y){return+y}function bg(y){return Math.floor(+y/
1E3)}function Yd(y){return new Date(y)}function ef(y){return y instanceof Date?+y:+new Date(+y)}function mf(y,W,ha,Oa,yb,Eb,Sb,kc,Uc,Id){function Sd(Nb){return(Uc(Nb)<Nb?Ue:kc(Nb)<Nb?w:Sb(Nb)<Nb?T:Eb(Nb)<Nb?aa:Oa(Nb)<Nb?yb(Nb)<Nb?Ea:rb:ha(Nb)<Nb?zb:Mb)(Nb)}var ad=kb()(wb,wb),ke=ad.invert,Je=ad.domain,Ue=Id(".%L"),w=Id(":%S"),T=Id("%I:%M"),aa=Id("%I %p"),Ea=Id("%a %d"),rb=Id("%b %d"),zb=Id("%B"),Mb=Id("%Y");ad.invert=function(Nb){return new Date(ke(Nb))};ad.domain=function(Nb){return arguments.length?
Je(Array.from(Nb,ef)):Je().map(Yd)};ad.ticks=function(Nb){var Mc=Je();return y(Mc[0],Mc[Mc.length-1],null==Nb?10:Nb)};ad.tickFormat=function(Nb,Mc){return null==Mc?Sd:Id(Mc)};ad.nice=function(Nb){var Mc=Je();Nb&&"function"===typeof Nb.range||(Nb=W(Mc[0],Mc[Mc.length-1],null==Nb?10:Nb));return Nb?Je(Ve(Mc,Nb)):ad};ad.copy=function(){return Za(ad,mf(y,W,ha,Oa,yb,Eb,Sb,kc,Uc,Id))};return ad}function af(){function y(ad){return null==ad||isNaN(ad=+ad)?Sd:Uc(0===Sb?.5:(ad=(kc(ad)-yb)*Sb,Id?Math.max(0,Math.min(1,
ad)):ad))}function W(ad){return function(ke){var Je,Ue;return arguments.length?([Je,Ue]=ke,Uc=ad(Je,Ue),y):[Uc(0),Uc(1)]}}var ha=0,Oa=1,yb,Eb,Sb,kc,Uc=wb,Id=!1,Sd;y.domain=function(ad){return arguments.length?([ha,Oa]=ad,yb=kc(ha=+ha),Eb=kc(Oa=+Oa),Sb=yb===Eb?0:1/(Eb-yb),y):[ha,Oa]};y.clamp=function(ad){return arguments.length?(Id=!!ad,y):Id};y.interpolator=function(ad){return arguments.length?(Uc=ad,y):Uc};y.range=W(qb);y.rangeRound=W(Tb);y.unknown=function(ad){return arguments.length?(Sd=ad,y):
Sd};return function(ad){kc=ad;yb=ad(ha);Eb=ad(Oa);Sb=yb===Eb?0:1/(Eb-yb);return y}}function Hf(y,W){return W.domain(y.domain()).interpolator(y.interpolator()).clamp(y.clamp()).unknown(y.unknown())}function Jf(){var y=Zd(af()(wb));y.copy=function(){return Hf(y,Jf())};return pb.apply(y,arguments)}function yf(){var y=lc(af()).domain([1,10]);y.copy=function(){return Hf(y,yf()).base(y.base())};return pb.apply(y,arguments)}function zf(){var y=rd(af());y.copy=function(){return Hf(y,zf()).constant(y.constant())};
return pb.apply(y,arguments)}function Eg(){var y=ae(af());y.copy=function(){return Hf(y,Eg()).exponent(y.exponent())};return pb.apply(y,arguments)}function eg(){function y(w){return isNaN(w=+w)?Ue:(w=.5+((w=+ke(w))-kc)*(Eb*w<Eb*kc?Id:Sd),ad(Je?Math.max(0,Math.min(1,w)):w))}function W(w){return function(T){var aa,Ea,rb;return arguments.length?([aa,Ea,rb]=T,ad=td(w,[aa,Ea,rb]),y):[ad(0),ad(.5),ad(1)]}}var ha=0,Oa=.5,yb=1,Eb=1,Sb,kc,Uc,Id,Sd,ad=wb,ke,Je=!1,Ue;y.domain=function(w){return arguments.length?
([ha,Oa,yb]=w,Sb=ke(ha=+ha),kc=ke(Oa=+Oa),Uc=ke(yb=+yb),Id=Sb===kc?0:.5/(kc-Sb),Sd=kc===Uc?0:.5/(Uc-kc),Eb=kc<Sb?-1:1,y):[ha,Oa,yb]};y.clamp=function(w){return arguments.length?(Je=!!w,y):Je};y.interpolator=function(w){return arguments.length?(ad=w,y):ad};y.range=W(qb);y.rangeRound=W(Tb);y.unknown=function(w){return arguments.length?(Ue=w,y):Ue};return function(w){ke=w;Sb=w(ha);kc=w(Oa);Uc=w(yb);Id=Sb===kc?0:.5/(kc-Sb);Sd=kc===Uc?0:.5/(Uc-kc);Eb=kc<Sb?-1:1;return y}}function wf(){var y=Zd(eg()(wb));
y.copy=function(){return Hf(y,wf())};return pb.apply(y,arguments)}function Kf(){var y=lc(eg()).domain([.1,1,10]);y.copy=function(){return Hf(y,Kf()).base(y.base())};return pb.apply(y,arguments)}function dg(){var y=rd(eg());y.copy=function(){return Hf(y,dg()).constant(y.constant())};return pb.apply(y,arguments)}function eh(){var y=ae(eg());y.copy=function(){return Hf(y,eh()).exponent(y.exponent())};return pb.apply(y,arguments)}function Jg(){function y(){var ad=ha().length;const ke=yb[1]<yb[0],Je=yb[1-
ke],Ue=ib(ad,Uc,Id);let w=yb[ke-0];Eb=(Je-w)/(Ue||1);kc&&(Eb=Math.floor(Eb));w+=(Je-w-Eb*(ad-Uc))*Sd;Sb=Eb*(1-Uc);kc&&(w=Math.round(w),Sb=Math.round(Sb));ad=Pb(ad).map(T=>w+Eb*T);return Oa(ke?ad.reverse():ad)}const W=Qa().unknown(void 0),ha=W.domain,Oa=W.range;let yb=[0,1],Eb,Sb,kc=!1,Uc=0,Id=0,Sd=.5;delete W.unknown;W.domain=function(ad){return arguments.length?(ha(ad),y()):ha()};W.range=function(ad){return arguments.length?(yb=[+ad[0],+ad[1]],y()):yb.slice()};W.rangeRound=function(ad){yb=[+ad[0],
+ad[1]];kc=!0;return y()};W.bandwidth=function(){return Sb};W.step=function(){return Eb};W.round=function(ad){return arguments.length?(kc=!!ad,y()):kc};W.padding=function(ad){return arguments.length?(Uc=Id=Math.max(0,Math.min(1,ad)),y()):Uc};W.paddingInner=function(ad){return arguments.length?(Uc=Math.max(0,Math.min(1,ad)),y()):Uc};W.paddingOuter=function(ad){return arguments.length?(Id=Math.max(0,Math.min(1,ad)),y()):Id};W.align=function(ad){return arguments.length?(Sd=Math.max(0,Math.min(1,ad)),
y()):Sd};W.invertRange=function(ad){if(null!=ad[0]&&null!=ad[1]){var ke=yb[1]<yb[0],Je=ke?Oa().reverse():Oa(),Ue=Je.length-1,w=+ad[0],T=+ad[1];if(w===w&&T===T){if(T<w){var aa=w;w=T;T=aa}if(!(T<Je[0]||w>yb[1-ke]))return ad=Math.max(0,Lf(Je,w)-1),T=w===T?ad:Lf(Je,T)-1,w-Je[ad]>Sb+1E-10&&++ad,ke&&(aa=ad,ad=Ue-T,T=Ue-aa),ad>T?void 0:ha().slice(ad,T+1)}}};W.invert=function(ad){return(ad=W.invertRange([ad,ad]))?ad[0]:ad};W.copy=function(){return Jg().domain(ha()).range(yb).round(kc).paddingInner(Uc).paddingOuter(Id).align(Sd)};
return y()}function Og(y){const W=y.copy;y.padding=y.paddingOuter;delete y.paddingInner;y.copy=function(){return Og(W())};return y}function Ug(){function y(Oa){return null==Oa||Oa!==Oa?void 0:ha[(xf(W,Oa)-1)%ha.length]}let W=[],ha=[];y.domain=function(Oa){return arguments.length?(W=mg.call(Oa,k.toNumber),y):W.slice()};y.range=function(Oa){return arguments.length?(ha=hh.call(Oa),y):ha.slice()};y.tickFormat=function(Oa,yb){return Fd(W[0],k.peek(W),null==Oa?10:Oa,yb)};y.copy=function(){return Ug().domain(y.domain()).range(y.range())};
return y}function qa(y,W,ha){const Oa=function(){const yb=W();yb.invertRange||(yb.invertRange=yb.invert?Hb(yb):yb.invertExtent?ac(yb):void 0);yb.type=y;return yb};Oa.metadata=k.toSet(k.array(ha));return Oa}function bb(y,W,ha){return 1<arguments.length?(Ag[y]=qa(y,W,ha),this):Rb(y)?Ag[y]:void 0}function Rb(y){return k.hasOwnProperty(Ag,y)}function hd(y,W){return(y=Ag[y])&&y.metadata[W]}function ld(y){return hd(y,"discrete")}function qe(y){return hd(y,"discretizing")}function Pe(y){return hd(y,"log")}
function rf(y){return hd(y,"temporal")}function Gf(y,W,ha){return td(Me(W||"rgb",ha),y)}function Me(y,W){y=mh[cg(y)];return null!=W&&y&&y.gamma?y.gamma(W):y}function cg(y){return"interpolate"+y.toLowerCase().split("-").map(W=>W[0].toUpperCase()+W.slice(1)).join("")}function Sf(y){const W=y.length/6|0,ha=Array(W);for(let Oa=0;Oa<W;)ha[Oa]="#"+y.slice(6*Oa,6*++Oa);return ha}function Yf(y,W){for(const ha in y)rg(ha,W(y[ha]))}function rg(y,W){y=y&&y.toLowerCase();return 1<arguments.length?(Ci[y]=W,this):
Ci[y]}function sg(y,W,ha){var Oa=y.range();let yb=Oa[0],Eb=k.peek(Oa);Oa=ri;yb>Eb&&(Oa=Eb,Eb=yb,yb=Oa,Oa=Zi);yb=Math.floor(yb);Eb=Math.ceil(Eb);W=W.map(Sb=>[Sb,y(Sb)]).filter(Sb=>yb<=Sb[1]&&Sb[1]<=Eb).sort(Oa).map(Sb=>Sb[0]);if(0<ha&&1<W.length){for(Oa=[W[0],k.peek(W)];W.length>ha&&3<=W.length;)W=W.filter((Sb,kc)=>!(kc%2));3>W.length&&(W=Oa)}return W}function Qg(y,W){return y.bins?sg(y,y.bins):y.ticks?y.ticks(W):y.domain()}function fh(y,W,ha,Oa,yb,Eb){const Sb=W.type;let kc=ji;if("time"===Sb||"time"===
yb)kc=y.timeFormat(Oa);else if("utc"===Sb||"utc"===yb)kc=y.utcFormat(Oa);else if(Pe(Sb)){const Uc=y.formatFloat(Oa);if(Eb||W.bins)kc=Uc;else{const Id=jh(W,ha,!1);kc=Sd=>Id(Sd)?Uc(Sd):""}}else W.tickFormat?(W=W.domain(),kc=y.formatSpan(W[0],W[W.length-1],ha,Oa)):Oa&&(kc=y.format(Oa));return kc}function jh(y,W,ha){const Oa=Qg(y,W),yb=y.base(),Eb=Math.log(yb),Sb=Math.max(1,yb*W/Oa.length);y=kc=>{kc/=Math.pow(yb,Math.round(Math.log(kc)/Eb));kc*yb<yb-.5&&(kc*=yb);return kc<=Sb};return ha?Oa.filter(y):
y}function Ce(y,W){y.bins?(y=y.bins,W=y.slice(0,-1),W.max=k.peek(y),y=W):"log"===y.type?y=jh(y,W,!0):vg[y.type]?(y=y[vg[y.type]](),y=[-Infinity].concat(y),y.max=Infinity):y=Qg(y,W);return y}function Ge(y,W,ha,Oa,yb,Eb,Sb){if(Fi[W.type]&&"time"!==Eb&&"utc"!==Eb){ha=W[Fi[W.type]]();Eb=ha.length;Sb=1<Eb?ha[1]-ha[0]:ha[0];let kc;for(kc=1;kc<Eb;++kc)Sb=Math.min(Sb,ha[kc]-ha[kc-1]);y=y.formatSpan(0,Sb,30,yb)}else y=fh(y,W,ha,yb,Eb,Sb);return"symbol"===Oa&&(vg[W.type]||W.bins)?ej(y):"discrete"===Oa?Gi(y):
fj(y)}const Lf=Ac(vc).right;Ac(uc).center;var xf=Lf;class of extends Map{constructor(y,W=Ua){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:W}});if(null!=y)for(const [ha,Oa]of y)this.set(ha,Oa)}get(y){return super.get(Cb(this,y))}has(y){return super.has(Cb(this,y))}set(y,W){return super.set(jc(this,y),W)}delete(y){return super.delete(Yb(this,y))}}var Af=Math.sqrt(50),tg=Math.sqrt(10),wg=Math.sqrt(2);const fg=Symbol("implicit");var Bf=1/.7,Rg=/^#([0-9a-f]{3,8})$/,gh=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
oh=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),xg=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),zh=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
yh=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Nh=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),$g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
Da(lb,xb,{copy:function(y){return Object.assign(new this.constructor,this,y)},displayable:function(){return this.rgb().displayable()},hex:mb,formatHex:mb,formatHsl:function(){return ba(this).formatHsl()},formatRgb:Pa,toString:Pa});Da(pa,nb,Ka(lb,{brighter:function(y){y=null==y?Bf:Math.pow(Bf,y);return new pa(this.r*y,this.g*y,this.b*y,this.opacity)},darker:function(y){y=null==y?.7:Math.pow(.7,y);return new pa(this.r*y,this.g*y,this.b*y,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Z,formatHex:Z,formatRgb:Fa,toString:Fa}));Da(q,ma,Ka(lb,{brighter:function(y){y=null==y?Bf:Math.pow(Bf,y);return new q(this.h,this.s,this.l*y,this.opacity)},darker:function(y){y=null==y?.7:Math.pow(.7,y);return new q(this.h,this.s,this.l*y,this.opacity)},rgb:function(){var y=this.h%360+360*(0>this.h),W=isNaN(y)||isNaN(this.s)?0:this.s,ha=this.l;W=ha+(.5>ha?ha:1-ha)*W;ha=2*ha-W;return new pa(M(240<=
y?y-240:y+120,ha,W),M(y,ha,W),M(120>y?y+240:y-120,ha,W),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var y=this.opacity;y=isNaN(y)?1:Math.max(0,Math.min(1,y));return(1===y?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===y?")":", "+y+")")}}));const ph=Math.PI/180,Ah=180/Math.PI,bi=4/29,Vg=6/29,qh=3*Vg*Vg,Ei=Vg*Vg*Vg;Da(u,g,Ka(lb,{brighter:function(y){return new u(this.l+
18*(null==y?1:y),this.a,this.b,this.opacity)},darker:function(y){return new u(this.l-18*(null==y?1:y),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,W=isNaN(this.a)?y:y+this.a/500,ha=isNaN(this.b)?y:y-this.b/200;W=.96422*C(W);y=1*C(y);ha=.82521*C(ha);return new pa(B(3.1338561*W-1.6168667*y-.4906146*ha),B(-.9787684*W+1.9161415*y+.033454*ha),B(.0719453*W-.2289914*y+1.4052427*ha),this.opacity)}}));Da(V,H,Ka(lb,{brighter:function(y){return new V(this.h,this.c,this.l+18*(null==y?1:y),
this.opacity)},darker:function(y){return new V(this.h,this.c,this.l-18*(null==y?1:y),this.opacity)},rgb:function(){return Aa(this).rgb()}}));var Kg=1.78277*-.29227-.1347134789;Da(t,Y,Ka(lb,{brighter:function(y){y=null==y?Bf:Math.pow(Bf,y);return new t(this.h,this.s,this.l*y,this.opacity)},darker:function(y){y=null==y?.7:Math.pow(.7,y);return new t(this.h,this.s,this.l*y,this.opacity)},rgb:function(){var y=isNaN(this.h)?0:(this.h+120)*ph,W=+this.l,ha=isNaN(this.s)?0:this.s*W*(1-W),Oa=Math.cos(y);y=
Math.sin(y);return new pa(255*(W+ha*(-.14861*Oa+1.78277*y)),255*(W+ha*(-.29227*Oa+-.90649*y)),255*(W+1.97294*ha*Oa),this.opacity)}}));var Fh=y=>()=>y,Uh=function ha(W){function Oa(Eb,Sb){var kc=yb((Eb=nb(Eb)).r,(Sb=nb(Sb)).r),Uc=yb(Eb.g,Sb.g),Id=yb(Eb.b,Sb.b),Sd=Xa(Eb.opacity,Sb.opacity);return function(ad){Eb.r=kc(ad);Eb.g=Uc(ad);Eb.b=Id(ad);Eb.opacity=Sd(ad);return Eb+""}}var yb=Ca(W);Oa.gamma=ha;return Oa}(1),Sg=Jb(va),kh=Jb(La),rh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bh=new RegExp(rh.source,
"g"),Gg=180/Math.PI,Gh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ch,Hh=cc(function(W){W=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(W+"");return W.isIdentity?Gh:gc(W.a,W.b,W.c,W.d,W.e,W.f)},"px, ","px)","deg)"),Wh=cc(function(W){if(null==W)return Gh;Ch||(Ch=document.createElementNS("http://www.w3.org/2000/svg","g"));Ch.setAttribute("transform",W);if(!(W=Ch.transform.baseVal.consolidate()))return Gh;W=W.matrix;return gc(W.a,W.b,W.c,W.d,W.e,W.f)},", ",")",")"),
Xh=function Eb(ha,Oa,yb){function Sb(kc,Uc){var Id=kc[0],Sd=kc[1],ad=kc[2];kc=Uc[2];var ke=Uc[0]-Id,Je=Uc[1]-Sd,Ue=ke*ke+Je*Je;if(1E-12>Ue){var w=Math.log(kc/ad)/ha;kc=function(Ea){return[Id+Ea*ke,Sd+Ea*Je,ad*Math.exp(ha*Ea*w)]}}else{var T=Math.sqrt(Ue);Uc=(kc*kc-ad*ad+yb*Ue)/(2*ad*Oa*T);kc=(kc*kc-ad*ad-yb*Ue)/(2*kc*Oa*T);var aa=Math.log(Math.sqrt(Uc*Uc+1)-Uc);w=(Math.log(Math.sqrt(kc*kc+1)-kc)-aa)/ha;kc=function(Ea){Ea*=w;var rb=Ic(aa),zb=ha*Ea+aa;var Mb=((zb=Math.exp(2*zb))-1)/(zb+1);var Nb=aa;
zb=((Nb=Math.exp(Nb))-1/Nb)/2;Mb=ad/(Oa*T)*(rb*Mb-zb);return[Id+Mb*ke,Sd+Mb*Je,ad*rb/Ic(ha*Ea+aa)]}}kc.duration=1E3*w*ha/Math.SQRT2;return kc}Sb.rho=function(kc){kc=Math.max(.001,+kc);var Uc=kc*kc;return Eb(kc,Uc,Uc*Uc)};return Sb}(Math.SQRT2,2,4),yg=zc(X),zg=zc(Xa),Zf=Zc(X),lh=Zc(Xa),ug=Md(X),Df=Md(Xa),mh=Object.freeze({__proto__:null,interpolate:qb,interpolateArray:function(ha,Oa){return(sc(Oa)?yc:xc)(ha,Oa)},interpolateBasis:va,interpolateBasisClosed:La,interpolateDate:dd,interpolateDiscrete:function(ha){var Oa=
ha.length;return function(yb){return ha[Math.max(0,Math.min(Oa-1,Math.floor(yb*Oa)))]}},interpolateHue:function(ha,Oa){var yb=X(+ha,+Oa);return function(Eb){Eb=yb(Eb);return Eb-360*Math.floor(Eb/360)}},interpolateNumber:Zb,interpolateNumberArray:yc,interpolateObject:Sc,interpolateRound:Tb,interpolateString:Vb,interpolateTransformCss:Hh,interpolateTransformSvg:Wh,interpolateZoom:Xh,interpolateRgb:Uh,interpolateRgbBasis:Sg,interpolateRgbBasisClosed:kh,interpolateHsl:yg,interpolateHslLong:zg,interpolateLab:function(ha,
Oa){var yb=Xa((ha=g(ha)).l,(Oa=g(Oa)).l),Eb=Xa(ha.a,Oa.a),Sb=Xa(ha.b,Oa.b),kc=Xa(ha.opacity,Oa.opacity);return function(Uc){ha.l=yb(Uc);ha.a=Eb(Uc);ha.b=Sb(Uc);ha.opacity=kc(Uc);return ha+""}},interpolateHcl:Zf,interpolateHclLong:lh,interpolateCubehelix:ug,interpolateCubehelixLong:Df,piecewise:td,quantize:function(ha,Oa){for(var yb=Array(Oa),Eb=0;Eb<Oa;++Eb)yb[Eb]=ha(Eb/(Oa-1));return yb}}),Lg=[0,1],Pf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Vc.prototype=ed.prototype;
ed.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var S,xa={"%":(ha,Oa)=>(100*ha).toFixed(Oa),b:ha=>Math.round(ha).toString(2),c:ha=>ha+"",d:function(ha){return 1E21<=Math.abs(ha=Math.round(ha))?ha.toLocaleString("en").replace(/,/g,""):ha.toString(10)},e:(ha,Oa)=>ha.toExponential(Oa),f:(ha,
Oa)=>ha.toFixed(Oa),g:(ha,Oa)=>ha.toPrecision(Oa),o:ha=>Math.round(ha).toString(8),p:(ha,Oa)=>fd(100*ha,Oa),r:fd,s:function(ha,Oa){var yb=Gb(ha,Oa);if(!yb)return ha+"";var Eb=yb[0];yb=yb[1];yb=yb-(S=3*Math.max(-8,Math.min(8,Math.floor(yb/3))))+1;var Sb=Eb.length;return yb===Sb?Eb:yb>Sb?Eb+Array(yb-Sb+1).join("0"):0<yb?Eb.slice(0,yb)+"."+Eb.slice(yb):"0."+Array(1-yb).join("0")+Gb(ha,Math.max(0,Oa+yb-1))[0]},X:ha=>Math.round(ha).toString(16).toUpperCase(),x:ha=>Math.round(ha).toString(16)},Ta=Array.prototype.map,
p="y z a f p n  m  k M G T P E Z Y".split(" "),R,ja,wa;(function(ha){R=Td(ha);ja=R.format;wa=R.formatPrefix;return R})({thousands:",",grouping:[3],currency:["$",""]});var r=new Date,G=new Date,ia=se(function(){},function(ha,Oa){ha.setTime(+ha+Oa)},function(ha,Oa){return Oa-ha});ia.every=function(ha){ha=Math.floor(ha);return isFinite(ha)&&0<ha?1<ha?se(function(Oa){Oa.setTime(Math.floor(Oa/ha)*ha)},function(Oa,yb){Oa.setTime(+Oa+yb*ha)},function(Oa,yb){return(yb-Oa)/ha}):ia:null};var l=ia,z=se(function(ha){ha.setTime(ha-
ha.getMilliseconds())},function(ha,Oa){ha.setTime(+ha+1E3*Oa)},function(ha,Oa){return(Oa-ha)/1E3},function(ha){return ha.getUTCSeconds()}),da=se(function(ha){ha.setTime(ha-ha.getMilliseconds()-1E3*ha.getSeconds())},function(ha,Oa){ha.setTime(+ha+6E4*Oa)},function(ha,Oa){return(Oa-ha)/6E4},function(ha){return ha.getMinutes()}),oa=se(function(ha){ha.setTime(ha-ha.getMilliseconds()-1E3*ha.getSeconds()-6E4*ha.getMinutes())},function(ha,Oa){ha.setTime(+ha+36E5*Oa)},function(ha,Oa){return(Oa-ha)/36E5},
function(ha){return ha.getHours()}),Va=se(ha=>ha.setHours(0,0,0,0),(ha,Oa)=>ha.setDate(ha.getDate()+Oa),(ha,Oa)=>(Oa-ha-6E4*(Oa.getTimezoneOffset()-ha.getTimezoneOffset()))/864E5,ha=>ha.getDate()-1),Ya=uf(0),Bb=uf(1);uf(2);uf(3);var hc=uf(4);uf(5);uf(6);var Ub=se(function(ha){ha.setDate(1);ha.setHours(0,0,0,0)},function(ha,Oa){ha.setMonth(ha.getMonth()+Oa)},function(ha,Oa){return Oa.getMonth()-ha.getMonth()+12*(Oa.getFullYear()-ha.getFullYear())},function(ha){return ha.getMonth()}),Ad=se(function(ha){ha.setMonth(0,
1);ha.setHours(0,0,0,0)},function(ha,Oa){ha.setFullYear(ha.getFullYear()+Oa)},function(ha,Oa){return Oa.getFullYear()-ha.getFullYear()},function(ha){return ha.getFullYear()});Ad.every=function(ha){return isFinite(ha=Math.floor(ha))&&0<ha?se(function(Oa){Oa.setFullYear(Math.floor(Oa.getFullYear()/ha)*ha);Oa.setMonth(0,1);Oa.setHours(0,0,0,0)},function(Oa,yb){Oa.setFullYear(Oa.getFullYear()+yb*ha)}):null};var Rc=Ad,Rd=se(function(ha){ha.setUTCSeconds(0,0)},function(ha,Oa){ha.setTime(+ha+6E4*Oa)},function(ha,
Oa){return(Oa-ha)/6E4},function(ha){return ha.getUTCMinutes()}),we=se(function(ha){ha.setUTCMinutes(0,0,0)},function(ha,Oa){ha.setTime(+ha+36E5*Oa)},function(ha,Oa){return(Oa-ha)/36E5},function(ha){return ha.getUTCHours()}),He=se(function(ha){ha.setUTCHours(0,0,0,0)},function(ha,Oa){ha.setUTCDate(ha.getUTCDate()+Oa)},function(ha,Oa){return(Oa-ha)/864E5},function(ha){return ha.getUTCDate()-1}),ue=U(0),Se=U(1);U(2);U(3);var pf=U(4);U(5);U(6);var Tg=se(function(ha){ha.setUTCDate(1);ha.setUTCHours(0,
0,0,0)},function(ha,Oa){ha.setUTCMonth(ha.getUTCMonth()+Oa)},function(ha,Oa){return Oa.getUTCMonth()-ha.getUTCMonth()+12*(Oa.getUTCFullYear()-ha.getUTCFullYear())},function(ha){return ha.getUTCMonth()}),ff=se(function(ha){ha.setUTCMonth(0,1);ha.setUTCHours(0,0,0,0)},function(ha,Oa){ha.setUTCFullYear(ha.getUTCFullYear()+Oa)},function(ha,Oa){return Oa.getUTCFullYear()-ha.getUTCFullYear()},function(ha){return ha.getUTCFullYear()});ff.every=function(ha){return isFinite(ha=Math.floor(ha))&&0<ha?se(function(Oa){Oa.setUTCFullYear(Math.floor(Oa.getUTCFullYear()/
ha)*ha);Oa.setUTCMonth(0,1);Oa.setUTCHours(0,0,0,0)},function(Oa,yb){Oa.setUTCFullYear(Oa.getUTCFullYear()+yb*ha)}):null};var $e=ff;const [Ef,Dh]=ua($e,Tg,ue,He,we,Rd),[gg,Qf]=ua(Rc,Ub,Ya,Va,oa,da);var nf={"-":"",_:" ",0:"0"},Tf=/^\s*\d+/,Rf=/^%/,Of=/[\\^$*+?|[\]().{}]/g,Wg,Uf,vh;(function(ha){Wg=Cc(ha);Uf=Wg.format;vh=Wg.utcFormat;return Wg})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var mg=Array.prototype.map;const hh=Array.prototype.slice,Ag={};bb("identity",Ud);bb("linear",de,"continuous");bb("log",Gc,["continuous","log"]);bb("pow",Ae,"continuous");bb("sqrt",function(){return Ae.apply(null,arguments).exponent(.5)},"continuous");bb("symlog",Hd,"continuous");bb("time",function(){return ab.apply(mf(gg,
Qf,Rc,Ub,Ya,Va,oa,da,z,Uf).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);bb("utc",function(){return ab.apply(mf(Ef,Dh,$e,Tg,ue,He,we,Rd,z,vh).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);bb("sequential",Jf,["continuous","interpolating"]);bb("sequential-linear",Jf,["continuous","interpolating"]);bb("sequential-log",yf,["continuous","interpolating","log"]);bb("sequential-pow",Eg,["continuous","interpolating"]);bb("sequential-sqrt",
function(){return Eg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);bb("sequential-symlog",zf,["continuous","interpolating"]);bb("diverging-linear",wf,["continuous","interpolating"]);bb("diverging-log",Kf,["continuous","interpolating","log"]);bb("diverging-pow",eh,["continuous","interpolating"]);bb("diverging-sqrt",function(){return eh.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);bb("diverging-symlog",dg,["continuous","interpolating"]);bb("quantile",kf,
["discretizing","quantile"]);bb("quantize",hf,"discretizing");bb("threshold",cf,"discretizing");bb("bin-ordinal",Ug,["discrete","discretizing"]);bb("ordinal",Qa,"discrete");bb("band",Jg,"discrete");bb("point",function(){return Og(Jg().paddingInner(1))},"discrete");const $h=["clamp","base","constant","exponent"],Ci={};Yf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Sf);Yf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},ha=>Gf(Sf(ha)));const ji=ha=>k.isArray(ha)?ha.map(Oa=>String(Oa)):String(ha),ri=(ha,Oa)=>ha[1]-Oa[1],Zi=(ha,Oa)=>Oa[1]-ha[1],vg={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},Fi={quantile:"quantiles",quantize:"domain"},ej=ha=>(Oa,yb,Eb)=>{yb=Eb[yb+1];Eb=Eb.max;Eb=null!=Eb?Eb:Infinity;yb=null!=
yb?yb:Eb;Oa=Number.isFinite(Oa)?ha(Oa):null;yb=Number.isFinite(yb)?ha(yb):null;return Oa&&yb?Oa+"  "+yb:yb?"\x3c "+yb:" "+Oa},Gi=ha=>(Oa,yb)=>yb?ha(Oa):null,fj=ha=>Oa=>ha(Oa);v.Band="band";v.BinOrdinal="bin-ordinal";v.DiscreteLegend="discrete";v.Diverging="diverging";v.GradientLegend="gradient";v.Identity="identity";v.Linear="linear";v.Log="log";v.Ordinal="ordinal";v.Point="point";v.Pow="pow";v.Quantile="quantile";v.Quantize="quantize";v.Sequential="sequential";v.Sqrt="sqrt";v.SymbolLegend="symbol";
v.Symlog="symlog";v.Threshold="threshold";v.Time="time";v.UTC="utc";v.bandSpace=ib;v.domainCaption=function(ha,Oa,yb){yb=yb||{};var Eb=Math.max(3,yb.maxlen||7),Sb=yb.format;const kc=(yb=yb.formatType)||Oa.type;k.isString(Sb)&&rf(kc)&&(Sb=Sb.replace(/%a/g,"%A").replace(/%b/g,"%B"));ha=Sb||"time"!==kc?Sb||"utc"!==kc?Ge(ha,Oa,5,null,Sb,yb,!0):ha.utcFormat("%A, %d %B %Y, %X UTC"):ha.timeFormat("%A, %d %B %Y, %X");if(qe(Oa.type))return Eb=Ce(Oa).slice(1).map(ha),Oa=Eb.length,`${Oa} boundar${1===Oa?"y":
"ies"}: ${Eb.join(", ")}`;if(ld(Oa.type))return Sb=Oa.domain(),Oa=Sb.length,Eb=Oa>Eb?Sb.slice(0,Eb-2).map(ha).join(", ")+", ending with "+Sb.slice(-1).map(ha):Sb.map(ha).join(", "),`${Oa} value${1===Oa?"":"s"}: ${Eb}`;Eb=Oa.domain();return`values from ${ha(Eb[0])} to ${ha(k.peek(Eb))}`};v.interpolate=Me;v.interpolateColors=Gf;v.interpolateRange=function(ha,Oa){const yb=Oa[0],Eb=k.peek(Oa)-yb;return function(Sb){return ha(yb+Sb*Eb)}};v.isContinuous=function(ha){return hd(ha,"continuous")};v.isDiscrete=
ld;v.isDiscretizing=qe;v.isInterpolating=function(ha){return hd(ha,"interpolating")};v.isLogarithmic=Pe;v.isQuantile=function(ha){return hd(ha,"quantile")};v.isTemporal=rf;v.isValidScaleType=Rb;v.labelFormat=Ge;v.labelFraction=function(ha){var Oa=ha.domain();const yb=Oa.length-1;let Eb=+Oa[0];Oa=+k.peek(Oa);let Sb=Oa-Eb;"threshold"===ha.type&&(ha=yb?Sb/yb:.1,Eb-=ha,Oa+=ha,Sb=Oa-Eb);return kc=>(kc-Eb)/Sb};v.labelValues=Ce;v.quantizeInterpolator=function(ha,Oa){const yb=Array(Oa),Eb=Oa+1;for(let Sb=
0;Sb<Oa;)yb[Sb]=ha(++Sb/Eb);return yb};v.scale=bb;v.scaleCopy=function(ha){const Oa=ha.type;ha=ha.copy();ha.type=Oa;return ha};v.scaleFraction=function(ha,Oa,yb){var Eb=yb-Oa;let Sb,kc;return Eb&&Number.isFinite(Eb)?(Eb=(Sb=ha.type).indexOf("-"),Sb=0>Eb?Sb:Sb.slice(Eb+1),kc=bb(Sb)().domain([Oa,yb]).range([0,1]),$h.forEach(Uc=>ha[Uc]?kc[Uc](ha[Uc]()):0),kc):k.constant(.5)};v.scaleImplicit=fg;v.scheme=rg;v.tickCount=function(ha,Oa,yb){let Eb;k.isNumber(Oa)&&(ha.bins&&(Oa=Math.max(Oa,ha.bins.length)),
null!=yb&&(Oa=Math.min(Oa,Math.floor(k.span(ha.domain())/yb||1))));k.isObject(Oa)&&(Eb=Oa.step,Oa=Oa.interval);k.isString(Oa)&&(Oa="time"===ha.type?P.timeInterval(Oa):"utc"==ha.type?P.utcInterval(Oa):k.error("Only time and utc scales accept interval strings."),Eb&&(Oa=Oa.every(Eb)));return Oa};v.tickFormat=fh;v.tickValues=Qg;v.validTicks=sg;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[45]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(40),Fb(43),Fb(44)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Hb){function ac(S,xa,Ta){const p=S.gradient;let R=S.id,ja="radial"===p?"p_":"";R||(R=S.id="gradient_"+Ja++,"radial"===p?(S.x1=vc(S.x1,
.5),S.y1=vc(S.y1,.5),S.r1=vc(S.r1,0),S.x2=vc(S.x2,.5),S.y2=vc(S.y2,.5),S.r2=vc(S.r2,.5),ja="p_"):(S.x1=vc(S.x1,0),S.y1=vc(S.y1,0),S.x2=vc(S.x2,1),S.y2=vc(S.y2,0)));xa[R]=S;return"url("+(Ta||"")+"#"+ja+R+")"}function vc(S,xa){return null!=S?S:xa}function Ac(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function uc(){return new Ac}function Cb(S){return function(){return S}}function jc(S){return 1<=S?Kd:-1>=S?-Kd:Math.asin(S)}function Yb(S){return S.innerRadius}function Ua(S){return S.outerRadius}
function ub(S){return S.startAngle}function Kb(S){return S.endAngle}function Lb(S){return S&&S.padAngle}function Db(S,xa,Ta,p,R,ja,wa){var r=S-Ta,G=xa-p;wa=(wa?ja:-ja)/yd(r*r+G*G);G*=wa;r*=-wa;var ia=S+G,l=xa+r,z=Ta+G,da=p+r;Ta=(ia+z)/2;p=(l+da)/2;xa=z-ia;S=da-l;wa=xa*xa+S*S;ja=R-ja;da=ia*da-z*l;var oa=(0>S?-1:1)*yd(Bd(0,ja*ja*wa-da*da));ia=(da*S-xa*oa)/wa;l=(-da*xa-S*oa)/wa;z=(da*S+xa*oa)/wa;xa=(-da*xa+S*oa)/wa;S=ia-Ta;wa=l-p;Ta=z-Ta;p=xa-p;S*S+wa*wa>Ta*Ta+p*p&&(ia=z,l=xa);return{cx:ia,cy:l,x01:-G,
y01:-r,x11:ia*(R/ja-1),y11:l*(R/ja-1)}}function Pb(S){return"object"===typeof S&&"length"in S?S:Array.from(S)}function ab(S){this._context=S}function pb(S){return new ab(S)}function Qa(S){return S[0]}function Da(S){return S[1]}function Ka(S,xa){function Ta(r){var G,ia=(r=Pb(r)).length,l,z=!1,da;null==R&&(wa=ja(da=uc()));for(G=0;G<=ia;++G)!(G<ia&&p(l=r[G],G,r))===z&&((z=!z)?wa.lineStart():wa.lineEnd()),z&&wa.point(+S(l,G,r),+xa(l,G,r));if(da)return wa=null,da+""||null}var p=Cb(!0),R=null,ja=pb,wa=
null;S="function"===typeof S?S:void 0===S?Qa:Cb(S);xa="function"===typeof xa?xa:void 0===xa?Da:Cb(xa);Ta.x=function(r){return arguments.length?(S="function"===typeof r?r:Cb(+r),Ta):S};Ta.y=function(r){return arguments.length?(xa="function"===typeof r?r:Cb(+r),Ta):xa};Ta.defined=function(r){return arguments.length?(p="function"===typeof r?r:Cb(!!r),Ta):p};Ta.curve=function(r){return arguments.length?(ja=r,null!=R&&(wa=ja(R)),Ta):ja};Ta.context=function(r){return arguments.length?(null==r?R=wa=null:
wa=ja(R=r),Ta):R};return Ta}function lb(S,xa,Ta){function p(l){var z,da,oa=(l=Pb(l)).length,Va,Ya=!1,Bb,hc=Array(oa),Ub=Array(oa);null==r&&(ia=G(Bb=uc()));for(z=0;z<=oa;++z){if(!(z<oa&&wa(Va=l[z],z,l))===Ya)if(Ya=!Ya){var Ad=z;ia.areaStart();ia.lineStart()}else{ia.lineEnd();ia.lineStart();for(da=z-1;da>=Ad;--da)ia.point(hc[da],Ub[da]);ia.lineEnd();ia.areaEnd()}Ya&&(hc[z]=+S(Va,z,l),Ub[z]=+xa(Va,z,l),ia.point(ja?+ja(Va,z,l):hc[z],Ta?+Ta(Va,z,l):Ub[z]))}if(Bb)return ia=null,Bb+""||null}function R(){return Ka().defined(wa).curve(G).context(r)}
var ja=null,wa=Cb(!0),r=null,G=pb,ia=null;S="function"===typeof S?S:void 0===S?Qa:Cb(+S);xa="function"===typeof xa?xa:void 0===xa?Cb(0):Cb(+xa);Ta="function"===typeof Ta?Ta:void 0===Ta?Da:Cb(+Ta);p.x=function(l){return arguments.length?(S="function"===typeof l?l:Cb(+l),ja=null,p):S};p.x0=function(l){return arguments.length?(S="function"===typeof l?l:Cb(+l),p):S};p.x1=function(l){return arguments.length?(ja=null==l?null:"function"===typeof l?l:Cb(+l),p):ja};p.y=function(l){return arguments.length?
(xa="function"===typeof l?l:Cb(+l),Ta=null,p):xa};p.y0=function(l){return arguments.length?(xa="function"===typeof l?l:Cb(+l),p):xa};p.y1=function(l){return arguments.length?(Ta=null==l?null:"function"===typeof l?l:Cb(+l),p):Ta};p.lineX0=p.lineY0=function(){return R().x(S).y(xa)};p.lineY1=function(){return R().x(S).y(Ta)};p.lineX1=function(){return R().x(ja).y(xa)};p.defined=function(l){return arguments.length?(wa="function"===typeof l?l:Cb(!!l),p):wa};p.curve=function(l){return arguments.length?
(G=l,null!=r&&(ia=G(r)),p):G};p.context=function(l){return arguments.length?(null==l?r=ia=null:ia=G(r=l),p):r};return p}function mb(){}function Pa(S,xa,Ta){S._context.bezierCurveTo((2*S._x0+S._x1)/3,(2*S._y0+S._y1)/3,(S._x0+2*S._x1)/3,(S._y0+2*S._y1)/3,(S._x0+4*S._x1+xa)/6,(S._y0+4*S._y1+Ta)/6)}function xb(S){this._context=S}function sb(S){this._context=S}function Qb(S){this._context=S}function Wb(S,xa){this._basis=new xb(S);this._beta=xa}function nb(S,xa,Ta){S._context.bezierCurveTo(S._x1+S._k*(S._x2-
S._x0),S._y1+S._k*(S._y2-S._y0),S._x2+S._k*(S._x1-xa),S._y2+S._k*(S._y1-Ta),S._x2,S._y2)}function pa(S,xa){this._context=S;this._k=(1-xa)/6}function Z(S,xa){this._context=S;this._k=(1-xa)/6}function Fa(S,xa){this._context=S;this._k=(1-xa)/6}function Ga(S,xa,Ta){var p=S._x1,R=S._y1,ja=S._x2,wa=S._y2;if(1E-12<S._l01_a){var r=2*S._l01_2a+3*S._l01_a*S._l12_a+S._l12_2a,G=3*S._l01_a*(S._l01_a+S._l12_a);p=(p*r-S._x0*S._l12_2a+S._x2*S._l01_2a)/G;R=(R*r-S._y0*S._l12_2a+S._y2*S._l01_2a)/G}1E-12<S._l23_a&&(r=
2*S._l23_2a+3*S._l23_a*S._l12_a+S._l12_2a,G=3*S._l23_a*(S._l23_a+S._l12_a),ja=(ja*r+S._x1*S._l23_2a-xa*S._l12_2a)/G,wa=(wa*r+S._y1*S._l23_2a-Ta*S._l12_2a)/G);S._context.bezierCurveTo(p,R,ja,wa,S._x2,S._y2)}function db(S,xa){this._context=S;this._alpha=xa}function ba(S,xa){this._context=S;this._alpha=xa}function ma(S,xa){this._context=S;this._alpha=xa}function q(S){this._context=S}function M(S,xa,Ta){var p=S._x1-S._x0;xa-=S._x1;var R=(S._y1-S._y0)/(p||0>xa&&-0);S=(Ta-S._y1)/(xa||0>p&&-0);return((0>
R?-1:1)+(0>S?-1:1))*Math.min(Math.abs(R),Math.abs(S),.5*Math.abs((R*xa+S*p)/(p+xa)))||0}function Q(S,xa){var Ta=S._x1-S._x0;return Ta?(3*(S._y1-S._y0)/Ta-xa)/2:xa}function g(S,xa,Ta){var p=S._x0,R=S._x1,ja=S._y1,wa=(R-p)/3;S._context.bezierCurveTo(p+wa,S._y0+wa*xa,R-wa,ja-wa*Ta,R,ja)}function u(S){this._context=S}function m(S){this._context=new C(S)}function C(S){this._context=S}function B(S){this._context=S}function A(S){var xa,Ta=S.length-1,p=Array(Ta),R=Array(Ta),ja=Array(Ta);p[0]=0;R[0]=2;ja[0]=
S[0]+2*S[1];for(xa=1;xa<Ta-1;++xa)p[xa]=1,R[xa]=4,ja[xa]=4*S[xa]+2*S[xa+1];p[Ta-1]=2;R[Ta-1]=7;ja[Ta-1]=8*S[Ta-1]+S[Ta];for(xa=1;xa<Ta;++xa){var wa=p[xa]/R[xa-1];R[xa]-=wa;ja[xa]-=wa*ja[xa-1]}p[Ta-1]=ja[Ta-1]/R[Ta-1];for(xa=Ta-2;0<=xa;--xa)p[xa]=(ja[xa]-p[xa+1])/R[xa];R[Ta-1]=(S[Ta]+p[Ta-1])/2;for(xa=0;xa<Ta-1;++xa)R[xa]=2*S[xa+1]-p[xa+1];return[p,R]}function E(S,xa){this._context=S;this._t=xa}function H(S,xa,Ta){S=k.hasOwnProperty(Ie,S)&&Ie[S];var p=null;S&&(p=S.curve||S[xa||"vertical"],S.tension&&
null!=Ta&&(p=p[S.tension](Ta)));return p}function V(S){const xa=[];(S.match(Cf)||[]).forEach(Ta=>{let p=Ta[0];var R=p.toLowerCase();const ja=ne[R];var wa=Ta.slice(1).trim();Ta=[];for(let G=0;ja&&G<wa.length;)for(let ia=0;ia<ja;++ia){var r="a"!==R||3!==ia&&4!==ia?If:bg;r=wa.slice(G).match(r);if(null===r)throw Error("Invalid SVG path, incorrect parameter type");G+=r[0].length;Ta.push(+r[0]);r=wa.slice(G).match(jf);null!==r&&(G+=r[0].length)}wa=Ta.length;if(wa<ja||wa&&0!==wa%ja)throw Error("Invalid SVG path, incorrect parameter count");
xa.push([p,...Ta.slice(0,ja)]);if(wa!==ja)for("m"===R&&(p="M"===p?"L":"l"),R=ja;R<wa;R+=ja)xa.push([p,...Ta.slice(R,R+ja)])});return xa}function Aa(S,xa,Ta,p,R,ja,wa,r,G){const ia=yf.call(arguments);if(Hf[ia])return Hf[ia];var l=wa*Yd;const z=Math.sin(l);l=Math.cos(l);Ta=Math.abs(Ta);p=Math.abs(p);var da=l*(r-S)*.5+z*(G-xa)*.5,oa=l*(G-xa)*.5-z*(r-S)*.5;da=da*da/(Ta*Ta)+oa*oa/(p*p);1<da&&(da=Math.sqrt(da),Ta*=da,p*=da);var Va=l/Ta,Ya=z/Ta,Bb=-z/p,hc=l/p;da=Va*r+Ya*G;oa=Bb*r+hc*G;Va=Va*S+Ya*xa;Ya=Bb*
S+hc*xa;Bb=1/((Va-da)*(Va-da)+(Ya-oa)*(Ya-oa))-.25;0>Bb&&(Bb=0);hc=Math.sqrt(Bb);ja==R&&(hc=-hc);Bb=.5*(da+Va)-hc*(Ya-oa);hc=.5*(oa+Ya)+hc*(Va-da);da=Math.atan2(oa-hc,da-Bb);oa=Math.atan2(Ya-hc,Va-Bb)-da;0>oa&&1===ja?oa+=mf:0<oa&&0===ja&&(oa-=mf);Va=Math.ceil(Math.abs(oa/(ef+.001)));Ya=[];for(let Ub=0;Ub<Va;++Ub)Ya[Ub]=[Bb,hc,da+Ub*oa/Va,da+(Ub+1)*oa/Va,Ta,p,z,l];return Hf[ia]=Ya}function Y(S,xa,Ta,p,R,ja){var wa=null,r=0,G=0,ia=0,l=0,z=0,da=0;null==Ta&&(Ta=0);null==p&&(p=0);null==R&&(R=1);null==
ja&&(ja=R);S.beginPath&&S.beginPath();for(var oa=0,Va=xa.length;oa<Va;++oa){var Ya=xa[oa];if(1!==R||1!==ja){var Bb=R;var hc=ja;var Ub=zf[0]=Ya[0];if("a"===Ub||"A"===Ub)zf[1]=Bb*Ya[1],zf[2]=hc*Ya[2],zf[3]=Ya[3],zf[4]=Ya[4],zf[5]=Ya[5],zf[6]=Bb*Ya[6],zf[7]=hc*Ya[7];else if("h"===Ub||"H"===Ub)zf[1]=Bb*Ya[1];else if("v"===Ub||"V"===Ub)zf[1]=hc*Ya[1];else{Ub=1;for(var Ad=Ya.length;Ub<Ad;++Ub)zf[Ub]=(1==Ub%2?Bb:hc)*Ya[Ub]}Ya=zf}switch(Ya[0]){case "l":r+=Ya[1];G+=Ya[2];S.lineTo(r+Ta,G+p);break;case "L":r=
Ya[1];G=Ya[2];S.lineTo(r+Ta,G+p);break;case "h":r+=Ya[1];S.lineTo(r+Ta,G+p);break;case "H":r=Ya[1];S.lineTo(r+Ta,G+p);break;case "v":G+=Ya[1];S.lineTo(r+Ta,G+p);break;case "V":G=Ya[1];S.lineTo(r+Ta,G+p);break;case "m":r+=Ya[1];G+=Ya[2];z=r;da=G;S.moveTo(r+Ta,G+p);break;case "M":r=Ya[1];G=Ya[2];z=r;da=G;S.moveTo(r+Ta,G+p);break;case "c":Bb=r+Ya[5];hc=G+Ya[6];ia=r+Ya[3];l=G+Ya[4];S.bezierCurveTo(r+Ya[1]+Ta,G+Ya[2]+p,ia+Ta,l+p,Bb+Ta,hc+p);r=Bb;G=hc;break;case "C":r=Ya[5];G=Ya[6];ia=Ya[3];l=Ya[4];S.bezierCurveTo(Ya[1]+
Ta,Ya[2]+p,ia+Ta,l+p,r+Ta,G+p);break;case "s":Bb=r+Ya[3];hc=G+Ya[4];ia=2*r-ia;l=2*G-l;S.bezierCurveTo(ia+Ta,l+p,r+Ya[1]+Ta,G+Ya[2]+p,Bb+Ta,hc+p);ia=r+Ya[1];l=G+Ya[2];r=Bb;G=hc;break;case "S":Bb=Ya[3];hc=Ya[4];ia=2*r-ia;l=2*G-l;S.bezierCurveTo(ia+Ta,l+p,Ya[1]+Ta,Ya[2]+p,Bb+Ta,hc+p);r=Bb;G=hc;ia=Ya[1];l=Ya[2];break;case "q":Bb=r+Ya[3];hc=G+Ya[4];ia=r+Ya[1];l=G+Ya[2];S.quadraticCurveTo(ia+Ta,l+p,Bb+Ta,hc+p);r=Bb;G=hc;break;case "Q":Bb=Ya[3];hc=Ya[4];S.quadraticCurveTo(Ya[1]+Ta,Ya[2]+p,Bb+Ta,hc+p);r=
Bb;G=hc;ia=Ya[1];l=Ya[2];break;case "t":Bb=r+Ya[1];hc=G+Ya[2];null===wa[0].match(/[QqTt]/)?(ia=r,l=G):"t"===wa[0]?(ia=2*r-Rc,l=2*G-Rd):"q"===wa[0]&&(ia=2*r-ia,l=2*G-l);var Rc=ia;var Rd=l;S.quadraticCurveTo(ia+Ta,l+p,Bb+Ta,hc+p);r=Bb;G=hc;ia=r+Ya[1];l=G+Ya[2];break;case "T":Bb=Ya[1];hc=Ya[2];ia=2*r-ia;l=2*G-l;S.quadraticCurveTo(ia+Ta,l+p,Bb+Ta,hc+p);r=Bb;G=hc;break;case "a":t(S,r+Ta,G+p,[Ya[1],Ya[2],Ya[3],Ya[4],Ya[5],Ya[6]+r+Ta,Ya[7]+G+p]);r+=Ya[6];G+=Ya[7];break;case "A":t(S,r+Ta,G+p,[Ya[1],Ya[2],
Ya[3],Ya[4],Ya[5],Ya[6]+Ta,Ya[7]+p]);r=Ya[6];G=Ya[7];break;case "z":case "Z":r=z,G=da,S.closePath()}wa=Ya}}function t(S,xa,Ta,p){xa=Aa(p[5],p[6],p[0],p[1],p[3],p[4],p[2],xa,Ta);for(Ta=0;Ta<xa.length;++Ta){a:{var R=xa[Ta];p=yf.call(R);if(Jf[p]){p=Jf[p];break a}var ja=R[0],wa=R[1],r=R[2],G=R[3],ia=R[4],l=R[5],z=R[6],da=R[7];R=da*ia;const Va=-z*l;ia*=z;l*=da;var oa=Math.cos(r);const Ya=Math.sin(r);z=Math.cos(G);da=Math.sin(G);r=.5*(G-r);G=Math.sin(.5*r);G=8/3*G*G/Math.sin(r);r=ja+oa-G*Ya;oa=wa+Ya+G*
oa;ja+=z;wa+=da;da=ja+G*da;z=wa-G*z;p=Jf[p]=[R*r+Va*oa,ia*r+l*oa,R*da+Va*z,ia*da+l*z,R*ja+Va*wa,ia*ja+l*wa]}S.bezierCurveTo(p[0],p[1],p[2],p[3],p[4],p[5])}}function L(S){return k.hasOwnProperty(Eg,S)?Eg[S]:va(S)}function va(S){if(!k.hasOwnProperty(eg,S)){const xa=V(S);eg[S]={draw:function(Ta,p){Y(Ta,xa,0,0,Math.sqrt(p)/2)}}}return eg[S]}function La(S){return S.x}function Wa(S){return S.y}function $a(S){return S.width}function X(S){return S.height}function Ca(S){return"function"===typeof S?S:()=>+S}
function Xa(S,xa,Ta){return Math.max(xa,Math.min(S,Ta))}function Jb(){function S(l,z,da){var oa;z=null!=z?z:+xa.call(this,l);da=null!=da?da:+Ta.call(this,l);var Va=+p.call(this,l),Ya=+R.call(this,l),Bb=Math.min(Va,Ya)/2,hc=Xa(+ja.call(this,l),0,Bb),Ub=Xa(+wa.call(this,l),0,Bb),Ad=Xa(+r.call(this,l),0,Bb);l=Xa(+G.call(this,l),0,Bb);ia||(ia=oa=uc());0>=hc&&0>=Ub&&0>=Ad&&0>=l?ia.rect(z,da,Va,Ya):(Va=z+Va,Ya=da+Ya,ia.moveTo(z+hc,da),ia.lineTo(Va-Ub,da),ia.bezierCurveTo(Va-.448084975506*Ub,da,Va,da+.448084975506*
Ub,Va,da+Ub),ia.lineTo(Va,Ya-l),ia.bezierCurveTo(Va,Ya-.448084975506*l,Va-.448084975506*l,Ya,Va-l,Ya),ia.lineTo(z+Ad,Ya),ia.bezierCurveTo(z+.448084975506*Ad,Ya,z,Ya-.448084975506*Ad,z,Ya-Ad),ia.lineTo(z,da+hc),ia.bezierCurveTo(z,da+.448084975506*hc,z+.448084975506*hc,da,z+hc,da),ia.closePath());if(oa)return ia=null,oa+""||null}var xa=La,Ta=Wa,p=$a,R=X,ja=Ca(0),wa=ja,r=ja,G=ja,ia=null;S.x=function(l){return arguments.length?(xa=Ca(l),S):xa};S.y=function(l){return arguments.length?(Ta=Ca(l),S):Ta};
S.width=function(l){return arguments.length?(p=Ca(l),S):p};S.height=function(l){return arguments.length?(R=Ca(l),S):R};S.cornerRadius=function(l,z,da,oa){return arguments.length?(ja=Ca(l),wa=null!=z?Ca(z):ja,G=null!=da?Ca(da):ja,r=null!=oa?Ca(oa):wa,S):ja};S.context=function(l){return arguments.length?(ia=null==l?null:l,S):ia};return S}function yc(){function S(l){var z,da=l.length,oa,Va=!1,Ya;null==ja&&(ja=Ya=uc());for(z=0;z<=da;++z)if(!(z<da&&R(oa=l[z],z,l))===Va&&(Va=!Va)&&(wa=0),Va){var Bb=+xa(oa,
z,l),hc=+Ta(oa,z,l);const He=+p(oa,z,l)/2;if(wa){var Ub=G-hc,Ad=Bb-r;if(Ub||Ad){var Rc=Math.sqrt(Ub*Ub+Ad*Ad),Rd=(Ub/=Rc)*ia;Rc=(Ad/=Rc)*ia;var we=Math.atan2(Ad,Ub);ja.moveTo(r-Rd,G-Rc);ja.lineTo(Bb-Ub*He,hc-Ad*He);ja.arc(Bb,hc,He,we-Math.PI,we);ja.lineTo(r+Rd,G+Rc);ja.arc(r,G,ia,we,we+Math.PI)}else ja.arc(Bb,hc,He,0,mf);ja.closePath()}else wa=1;r=Bb;G=hc;ia=He}if(Ya)return ja=null,Ya+""||null}var xa,Ta,p,R,ja=null,wa,r,G,ia;S.x=function(l){return arguments.length?(xa=l,S):xa};S.y=function(l){return arguments.length?
(Ta=l,S):Ta};S.size=function(l){return arguments.length?(p=l,S):p};S.defined=function(l){return arguments.length?(R=l,S):R};S.context=function(l){return arguments.length?(ja=null==l?null:l,S):ja};return S}function sc(S,xa){return null!=S?S:xa}function xc(S){return S.cornerRadius||S.cornerRadiusTopLeft||S.cornerRadiusTopRight||S.cornerRadiusBottomRight||S.cornerRadiusBottomLeft}function dd(S,xa,Ta,p){return qa.context(S)(xa,Ta,p)}function Zb(S,xa,Ta){var p=xa.clip;S=S._defs;xa=xa.clip_id||(xa.clip_id=
"clip"+hd++);S=S.clipping[xa]||(S.clipping[xa]={id:xa});k.isFunction(p)?S.path=p(null):xc(Ta)?S.path=dd(null,Ta,0,0):(S.width=Ta.width||0,S.height=Ta.height||0);return"url(#"+xa+")"}function Sc(S){this.clear();S&&this.union(S)}function Pd(S){this.mark=S;this.bounds=this.bounds||new Sc}function Ma(S){Pd.call(this,S);this.items=this.items||[]}function Vb(S){this._pending=0;this._loader=S||ib.loader()}function qb(S,xa,Ta){if(xa.stroke&&0!==xa.opacity&&0!==xa.strokeOpacity){const p=null!=xa.strokeWidth?
+xa.strokeWidth:1;S.expand(p+(Ta?xa.strokeJoin&&"miter"!==xa.strokeJoin?0:p:0))}return S}function Tb(S,xa){qe=S;xa?(Gf=xa*Yd,Me=Yf=Math.cos(Gf),cg=Math.sin(Gf),Sf=-cg):(Me=Yf=1,Gf=cg=Sf=0);return Ce}function gc(S,xa,Ta,p){Ta=(S-xa)/(S+Ta-2*xa);0<Ta&&1>Ta&&p(S+(xa-S)*Ta)}function cc(S,xa,Ta,p,R){const ja=p-S+3*xa-3*Ta,wa=S+Ta-2*xa;var r=S-xa;let G=0,ia=0;1E-14<Math.abs(ja)?(r=wa*wa+r*ja,0<=r&&(r=Math.sqrt(r),G=(-wa+r)/ja,ia=(-wa-r)/ja)):G=.5*r/wa;0<G&&1>G&&R(Ic(G,S,xa,Ta,p));0<ia&&1>ia&&R(Ic(ia,S,
xa,Ta,p))}function Ic(S,xa,Ta,p,R){const ja=1-S,wa=ja*ja,r=S*S;return wa*ja*xa+3*wa*S*Ta+3*ja*r*p+r*S*R}function zc(S){return function(xa,Ta){if(!Ge)return!0;S(Ge,xa);Lf.clear().union(xa.bounds).intersect(Ta).round();const {x1:p,y1:R,x2:ja,y2:wa}=Lf;for(xa=R;xa<=wa;++xa)for(Ta=p;Ta<=ja;++Ta)if(Ge.isPointInPath(Ta,xa))return!0;return!1}}function Zc(S,xa){return xa.contains(S.x||0,S.y||0)}function Md(S,xa){const Ta=S.x||0,p=S.y||0;return xa.intersects(Lf.set(Ta,p,Ta+(S.width||0),p+(S.height||0)))}function td(S,
xa){const Ta=S.x||0,p=S.y||0;return Ha(xa,Ta,p,null!=S.x2?S.x2:Ta,null!=S.y2?S.y2:p)}function Ha(S,xa,Ta,p,R){const {x1:ja,y1:wa,x2:r,y2:G}=S;S=p-xa;R-=Ta;p=0;let ia=1,l,z,da,oa;for(oa=0;4>oa;++oa){0===oa&&(l=-S,z=-(ja-xa));1===oa&&(l=S,z=r-xa);2===oa&&(l=-R,z=-(wa-Ta));3===oa&&(l=R,z=G-Ta);if(1E-10>Math.abs(l)&&0>z)return!1;da=z/l;if(0>l){if(da>ia)return!1;da>p&&(p=da)}else if(0<l){if(da<p)return!1;da<ia&&(ia=da)}}return!0}function gb(S,xa){S.globalCompositeOperation=xa.blend||"source-over"}function wb(S,
xa){return null==S?xa:S}function sa(S,xa){const Ta=xa.length;for(let p=0;p<Ta;++p)S.addColorStop(xa[p].offset,xa[p].color);return S}function F(S,xa,Ta){const p=Ta.width(),R=Ta.height();if("radial"===xa.gradient)S=S.createRadialGradient(Ta.x1+wb(xa.x1,.5)*p,Ta.y1+wb(xa.y1,.5)*R,Math.max(p,R)*wb(xa.r1,0),Ta.x1+wb(xa.x2,.5)*p,Ta.y1+wb(xa.y2,.5)*R,Math.max(p,R)*wb(xa.r2,.5));else{const ja=wb(xa.x1,0),wa=wb(xa.y1,0),r=wb(xa.x2,1),G=wb(xa.y2,0);if(ja===r||wa===G||p===R)S=S.createLinearGradient(Ta.x1+ja*
p,Ta.y1+wa*R,Ta.x1+r*p,Ta.y1+G*R);else{Ta=P.canvas(Math.ceil(p),Math.ceil(R));const ia=Ta.getContext("2d");ia.scale(p,R);ia.fillStyle=sa(ia.createLinearGradient(ja,wa,r,G),xa.stops);ia.fillRect(0,0,p,R);return S.createPattern(Ta,"no-repeat")}}return sa(S,xa.stops)}function ya(S,xa,Ta){Ta*=null==xa.fillOpacity?1:xa.fillOpacity;return 0<Ta?(S.globalAlpha=Ta,xa=(Ta=xa.fill)&&Ta.gradient?F(S,Ta,xa.bounds):Ta,S.fillStyle=xa,!0):!1}function Na(S,xa,Ta){var p=null!=(p=xa.strokeWidth)?p:1;if(0>=p)return!1;
Ta*=null==xa.strokeOpacity?1:xa.strokeOpacity;return 0<Ta?(S.globalAlpha=Ta,Ta=(Ta=xa.stroke)&&Ta.gradient?F(S,Ta,xa.bounds):Ta,S.strokeStyle=Ta,S.lineWidth=p,S.lineCap=xa.strokeCap||"butt",S.lineJoin=xa.strokeJoin||"miter",S.miterLimit=xa.strokeMiterLimit||10,S.setLineDash&&(S.setLineDash(xa.strokeDash||xf),S.lineDashOffset=xa.strokeDashOffset||0),!0):!1}function Za(S,xa){return S.zindex-xa.zindex||S.index-xa.index}function kb(S){if(!S.zdirty)return S.zitems;var xa=S.items,Ta=[],p;var R=0;for(p=
xa.length;R<p;++R){var ja=xa[R];ja.index=R;ja.zindex&&Ta.push(ja)}S.zdirty=!1;return S.zitems=Ta.sort(Za)}function Gb(S,xa){var Ta=S.items,p;if(Ta&&Ta.length){var R=kb(S);if(R&&R.length){S=0;for(p=Ta.length;S<p;++S)Ta[S].zindex||xa(Ta[S]);Ta=R}S=0;for(p=Ta.length;S<p;++S)xa(Ta[S])}}function nc(S,xa){var Ta=S.items,p,R;if(!Ta||!Ta.length)return null;const ja=kb(S);ja&&ja.length&&(Ta=ja);for(R=Ta.length;0<=--R;)if(p=xa(Ta[R]))return p;if(Ta===ja)for(Ta=S.items,R=Ta.length;0<=--R;)if(!Ta[R].zindex&&
(p=xa(Ta[R])))return p;return null}function dc(S){return function(xa,Ta,p){Gb(Ta,R=>{p&&!p.intersects(R.bounds)||Vc(S,xa,R,R)})}}function ic(S){return function(xa,Ta,p){!Ta.items.length||p&&!p.intersects(Ta.bounds)||Vc(S,xa,Ta.items[0],Ta.items)}}function Vc(S,xa,Ta,p){var R=null==Ta.opacity?1:Ta.opacity;0===R||S(xa,p)||(gb(xa,Ta),Ta.fill&&ya(xa,Ta,R)&&xa.fill(),Ta.stroke&&Na(xa,Ta,R)&&xa.stroke())}function ed(S){S=S||k.truthy;return function(xa,Ta,p,R,ja,wa){p*=xa.pixelRatio;R*=xa.pixelRatio;return nc(Ta,
r=>{const G=r.bounds;if((!G||G.contains(ja,wa))&&G&&S(xa,r,p,R,ja,wa))return r})}}function fd(S,xa){return function(Ta,p,R,ja){var wa=Array.isArray(p)?p[0]:p,r=null==xa?wa.fill:xa,G=wa.stroke&&Ta.isPointInStroke;if(G){var ia=wa.strokeWidth;wa=wa.strokeCap;Ta.lineWidth=null!=ia?ia:1;Ta.lineCap=null!=wa?wa:"butt"}return S(Ta,p)?!1:r&&Ta.isPointInPath(R,ja)||G&&Ta.isPointInStroke(R,ja)}}function Qd(S,xa){return"translate("+S+","+xa+")"}function Td(S,xa,Ta){function p(R,ja){var wa=ja.x||0,r=ja.y||0,G=
ja.angle||0;R.translate(wa,r);G&&R.rotate(G*=Yd);R.beginPath();xa(R,ja);G&&R.rotate(-G);R.translate(-wa,-r)}return{type:S,tag:"path",nested:!1,attr:function(R,ja){var wa=Qd(ja.x||0,ja.y||0)+(ja.angle?" rotate("+(ja.angle+")"):"");R("transform",wa);R("d",xa(null,ja))},bound:function(R,ja){xa(Tb(R,ja.angle),ja);return qb(R,ja).translate(ja.x||0,ja.y||0)},draw:dc(p),pick:ed(fd(p)),isect:Ta||zc(p)}}function Fd(S,xa,Ta){function p(ja,wa){ja.beginPath();xa(ja,wa)}const R=fd(p);return{type:S,tag:"path",
nested:!0,attr:function(ja,wa){wa=wa.mark.items;wa.length&&ja("d",xa(null,wa))},bound:function(ja,wa){wa=wa.items;if(0===wa.length)return ja;xa(Tb(ja),wa);return qb(ja,wa[0])},draw:ic(p),pick:function(ja,wa,r,G,ia,l){var z=wa.items;wa=wa.bounds;if(!z||!z.length||wa&&!wa.contains(ia,l))return null;r*=ja.pixelRatio;G*=ja.pixelRatio;return R(ja,z,r,G)?z[0]:null},isect:Zc,tip:Ta}}function Zd(S,xa){S.beginPath();xc(xa)?dd(S,xa,0,0):S.rect(0,0,xa.width||0,xa.height||0);S.clip()}function de(S){const xa=
wb(S.strokeWidth,1);return null!=S.strokeOffset?S.strokeOffset:S.stroke&&.5<xa&&1.5>xa?.5-Math.abs(xa-1):0}function Ud(S,xa,Ta,p){const R=de(xa);S.beginPath();dd(S,xa,(Ta||0)+R,(p||0)+R)}function Ve(S,xa){var Ta=S.image;if(!Ta||S.url&&S.url!==Ta.url)Ta={complete:!1,width:0,height:0},xa.loadImage(S.url).then(p=>{S.image=p;S.image.url=S.url});return Ta}function Xd(S,xa){return null!=S.width?S.width:xa&&xa.width?!1!==S.aspect&&S.height?S.height*xa.width/xa.height:xa.width:0}function N(S,xa){return null!=
S.height?S.height:xa&&xa.height?!1!==S.aspect&&S.width?S.width*xa.height/xa.width:xa.height:0}function la(S,xa){return"center"===S?xa/2:"right"===S?xa:0}function za(S,xa){return"middle"===S?xa/2:"bottom"===S?xa:0}function fb(S,xa){var Ta=xa.path;if(null==Ta)return!0;var p=xa.x||0,R=xa.y||0,ja=xa.scaleX||1,wa=xa.scaleY||1,r=(xa.angle||0)*Yd,G=xa.pathCache;G&&G.path===Ta||((xa.pathCache=G=V(Ta)).path=Ta);r&&S.rotate&&S.translate?(S.translate(p,R),S.rotate(r),Y(S,G,0,0,ja,wa),S.rotate(-r),S.translate(-p,
-R)):Y(S,G,p,R,ja,wa)}function Ib(S,xa){S.beginPath();dd(S,xa)}function Xb(S,xa,Ta){if(xa.stroke&&Na(S,xa,Ta)){Ta=xa.x||0;var p=xa.y||0;var R=null!=xa.x2?xa.x2:Ta;xa=null!=xa.y2?xa.y2:p;S.beginPath();S.moveTo(Ta,p);S.lineTo(R,xa);return!0}return!1}function Bc(S){Ah.width=S&&Ge?Gc:lc}function lc(S,xa){xa=Gd(S,xa);S=Nc(S);return~~(.8*xa.length*S)}function Gc(S,xa){return 0>=Nc(S)||!(xa=Gd(S,xa))?0:id(xa,ae(S))}function id(S,xa){const Ta=`(${xa}) ${S}`;let p=ph.get(Ta);void 0===p&&(Ge.font=xa,p=Ge.measureText(S).width,
ph.set(Ta,p));return p}function Nc(S){return null!=S.fontSize?+S.fontSize||0:11}function rd(S){return null!=S.lineHeight?S.lineHeight:Nc(S)+2}function Hd(S){S=S.lineBreak&&S.text&&!k.isArray(S.text)?S.text.split(S.lineBreak):S.text;return k.isArray(S)?1<S.length?S:S[0]:S}function Gd(S,xa){xa=null==xa?"":(xa+"").trim();if(0<S.limit&&xa.length){var Ta=+S.limit,p=$d(S);if(!(p(xa)<Ta)){var R=S.ellipsis||"",ja="rtl"===S.dir;S=0;var wa=xa.length;Ta-=p(R);if(ja){for(;S<wa;)ja=S+wa>>>1,p(xa.slice(ja))>Ta?
S=ja+1:wa=ja;xa=R+xa.slice(S)}else{for(;S<wa;)ja=1+(S+wa>>>1),p(xa.slice(0,ja))<Ta?S=ja:wa=ja-1;xa=xa.slice(0,S)+R}}}return xa}function $d(S){if(Ah.width===Gc){const Ta=ae(S);return p=>id(p,Ta)}const xa=Nc(S);return Ta=>~~(.8*Ta.length*xa)}function Wd(S,xa){S=S.font;return(xa&&S?String(S).replace(/"/g,"'"):S)||"sans-serif"}function ae(S,xa){return(S.fontStyle?S.fontStyle+" ":"")+(S.fontVariant?S.fontVariant+" ":"")+(S.fontWeight?S.fontWeight+" ":"")+Nc(S)+"px "+Wd(S,xa)}function Ae(S){var xa=S.baseline,
Ta=Nc(S);return Math.round("top"===xa?.79*Ta:"middle"===xa?.3*Ta:"bottom"===xa?-.21*Ta:"line-top"===xa?.29*Ta+.5*rd(S):"line-bottom"===xa?.29*Ta-.5*rd(S):0)}function kf(S){var xa=S.x||0,Ta=S.y||0,p=S.radius||0;p&&(S=(S.theta||0)-ef,xa+=p*Math.cos(S),Ta+=p*Math.sin(S));Vg.x1=xa;Vg.y1=Ta;return Vg}function hf(S,xa,Ta){var p=Ah.height(xa),R=xa.align,ja=kf(xa),wa=ja.x1;ja=ja.y1;var r=xa.dx||0,G=(xa.dy||0)+Ae(xa)-Math.round(.8*p),ia=Hd(xa);k.isArray(ia)?(p+=rd(xa)*(ia.length-1),ia=ia.reduce((l,z)=>Math.max(l,
Ah.width(xa,z)),0)):ia=Ah.width(xa,ia);"center"===R?r-=ia/2:"right"===R&&(r-=ia);S.set(r+=wa,G+=ja,r+ia,G+p);if(xa.angle&&!Ta)S.rotate(xa.angle*Yd,wa,ja);else if(2===Ta)return S.rotatedPoints(xa.angle*Yd,wa,ja);return S}function cf(S,xa,Ta){var p=Kg[S.mark.marktype];xa=xa||p.bound;p.nested&&(S=S.mark);return xa(S.bounds||(S.bounds=new Sc),S,Ta)}function se(S,xa,Ta){var p=Kg[S.marktype],R=p.bound,ja=S.items,wa=ja&&ja.length;if(p.nested)return wa?S=ja[0]:(Fh.mark=S,S=Fh),Ta=cf(S,R,Ta),xa=xa&&xa.union(Ta)||
Ta;xa=xa||S.bounds&&S.bounds.clear()||new Sc;if(wa)for(p=0,wa=ja.length;p<wa;++p)xa.union(cf(ja[p],R,Ta));return S.bounds=xa}function uf(S,xa){return JSON.stringify(S,Uh,xa)}function U(S){S="string"===typeof S?JSON.parse(S):S;return ua(S)}function ua(S){var xa=S.marktype,Ta=S.items,p;if(Ta){var R=0;for(p=Ta.length;R<p;++R){var ja=xa?"mark":"group";Ta[R][ja]=S;Ta[R].zindex&&(Ta[R][ja].zdirty=!0);"group"===(xa||ja)&&ua(Ta[R])}}xa&&se(S);return S}function cb(S){arguments.length?this.root=U(S):(this.root=
Ab({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ma(this.root)])}function Ab(S,xa){xa={bounds:new Sc,clip:!!S.clip,group:xa,interactive:!1===S.interactive?!1:!0,items:[],marktype:S.marktype,name:S.name||void 0,role:S.role||void 0,zindex:S.zindex||0};null!=S.aria&&(xa.aria=S.aria);S.description&&(xa.description=S.description);return xa}function ec(S,xa,Ta){!S&&"undefined"!==typeof document&&document.createElement&&(S=document);return S?Ta?S.createElementNS(Ta,xa):S.createElement(xa):
null}function Cc(S,xa){xa=xa.toLowerCase();S=S.childNodes;for(var Ta=0,p=S.length;Ta<p;++Ta)if(S[Ta].tagName.toLowerCase()===xa)return S[Ta]}function $b(S,xa,Ta,p){xa=S.childNodes[xa];if(!xa||xa.tagName.toLowerCase()!==Ta.toLowerCase()){var R=xa||null;xa=ec(S.ownerDocument,Ta,p);S.insertBefore(xa,R)}return xa}function J(S,xa){for(var Ta=S.childNodes,p=Ta.length;p>xa;)S.removeChild(Ta[--p]);return S}function fa(S){return"mark-"+S.marktype+(S.role?" role-"+S.role:"")+(S.name?" "+S.name:"")}function Sa(S,
xa){const Ta=xa.getBoundingClientRect();return[S.clientX-Ta.left-(xa.clientLeft||0),S.clientY-Ta.top-(xa.clientTop||0)]}function bc(S,xa){this._active=null;this._handlers={};this._loader=S||ib.loader();this._tooltip=xa||Pc}function Pc(S,xa,Ta,p){S.element().setAttribute("title",p||"")}function Dc(S){this._bgcolor=this._el=null;this._loader=new Vb(S)}function Tc(S,xa){bc.call(this,S,xa);this._touch=this._down=null;this._first=!0;this._events={}}function gd(S,xa){("touchstart"===xa||"touchmove"===xa||
"touchend"===xa?["touchstart","touchmove","touchend"]:[xa]).forEach(Ta=>ee(S,Ta))}function ee(S,xa){const Ta=S.canvas();Ta&&!S._events[xa]&&(S._events[xa]=1,Ta.addEventListener(xa,S[xa]?p=>S[xa](p):p=>S.fire(xa,p)))}function Ra(S,xa,Ta){return function(p){const R=this._active,ja=this.pickEvent(p);ja!==R&&(R&&R.exit||this.fire(Ta,p),this._active=ja,this.fire(xa,p));this.fire(S,p)}}function eb(S){return function(xa){this.fire(S,xa);this._active=null}}function oc(S){Dc.call(this,S);this._options={};
this._redraw=!1;this._dirty=new Sc;this._tempb=new Sc}function vd(S,xa){bc.call(this,S,xa);const Ta=this;Ta._hrefHandler=rh(Ta,(p,R)=>{R&&R.href&&Ta.handleHref(p,R,R.href)});Ta._tooltipHandler=rh(Ta,(p,R)=>{Ta.handleTooltip(p,R,"mouseout"!==p.type)})}function Lc(S,xa){var Ta=!1===xa.aria;S("aria-hidden",Ta||void 0);if(Ta||null==xa.description)for(const p in Ch)S(Ch[p],void 0);else Ta=xa.mark.marktype,S("aria-label",xa.description),S("role",xa.ariaRole||("group"===Ta?"graphics-object":"graphics-symbol")),
S("aria-roledescription",xa.ariaRoleDescription||`${Ta} mark`)}function Wc(S){return!1===S.aria?{["aria-hidden"]:!0}:Gg[S.role]?null:Gh[S.role]?sd(S,Gh[S.role]):Qc(S)}function Qc(S){const xa=S.marktype,Ta="group"===xa||"text"===xa||S.items.some(p=>null!=p.description&&!1!==p.aria);return Bh(Ta?"graphics-object":"graphics-symbol",`${xa} mark container`,S.description)}function sd(S,xa){try{const Ta=S.items[0],p=xa.caption||(()=>"");return Bh(xa.role||"graphics-symbol",xa.desc,Ta.description||p(Ta))}catch(Ta){return null}}
function jd(S){try{return k.array(k.peek(S.items).items[0].text).join(" ")}catch(xa){return null}}function Od(S){S=S.map(xa=>xa+("fill"===xa||"stroke"===xa?" color":""));return 2>S.length?S[0]:S.slice(0,-1).join(", ")+" and "+k.peek(S)}function Cd(){let S="",xa="",Ta="";const p=[],R=(wa,r)=>{null!=r&&(xa+=` ${wa}="${Hh(r).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return ja},ja={open(wa,...r){xa&&(S+=`${xa}>${Ta}`,xa=Ta="");p.push(wa);
xa="\x3c"+wa;for(const G of r)for(const ia in G)R(ia,G[ia]);return ja},close(){const wa=p.pop();S=xa?S+(xa+(Ta?`>${Ta}</${wa}>`:"/\x3e")):S+`</${wa}>`;xa=Ta="";return ja},attr:R,text:wa=>(Ta+=Hh(wa),ja),toString:()=>S};return ja}function be(S,xa){S.open(xa.tagName);if(xa.hasAttributes()){const Ta=xa.attributes,p=Ta.length;for(let R=0;R<p;++R)S.attr(Ta[R].name,Ta[R].value)}if(xa.hasChildNodes()){xa=xa.childNodes;for(const Ta of xa)3===Ta.nodeType?S.text(Ta.nodeValue):be(S,Ta)}return S.close()}function xe(S){Dc.call(this,
S);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Le(S,xa){for(;S&&S.dirty!==xa;S=S.mark.group)if(S.dirty=xa,S.mark&&S.mark.dirty!==xa)S.mark.dirty=xa;else break}function Xe(S,xa,Ta){xa=xa.lastChild.previousSibling;let p,R=0;Gb(Ta,ja=>{p=S.mark(xa,ja,p);++R});J(xa,1+R)}function df(S,xa,Ta,p,R){let ja=S._svg;if(!ja){var wa=xa.ownerDocument;ja=ec(wa,p,Zf);S._svg=ja;S.mark&&(ja.__data__=S,ja.__values__={fill:"default"},"g"===p&&(p=ec(wa,"path",Zf),ja.appendChild(p),p.__data__=
S,p=ec(wa,"g",Zf),ja.appendChild(p),p.__data__=S,wa=ec(wa,"path",Zf),ja.appendChild(wa),wa.__data__=S,wa.__values__={fill:"default"}))}(ja.ownerSVGElement!==R||ja.parentNode&&1<ja.parentNode.childNodes.length&&ja.previousSibling!=Ta)&&xa.insertBefore(ja,Ta?Ta.nextSibling:xa.firstChild);return ja}function od(S,xa,Ta){if(xa!==Df[S]){if(Ta){var p=ug;null!=xa?p.setAttributeNS(Ta,S,xa):p.removeAttributeNS(Ta,S)}else Fc(ug,S,xa);Df[S]=xa}}function Ec(S,xa,Ta){Ta!==Df[xa]&&(null==Ta?S.style.removeProperty(xa):
S.style.setProperty(xa,Ta+""),Df[xa]=Ta)}function kd(S,xa){for(const Ta in xa)Fc(S,Ta,xa[Ta])}function Fc(S,xa,Ta){null!=Ta?S.setAttribute(xa,Ta):S.removeAttribute(xa)}function Jd(){let S;return"undefined"===typeof window?"":(S=window.location).hash?S.href.slice(0,-S.hash.length):S.href}function Vd(S){Dc.call(this,S);this._text=null;this._defs={gradient:{},clipping:{}}}function ce(S,xa,Ta,p,R){let ja;if(null==xa)return S;"bgrect"===p&&!1===Ta.interactive&&(S["pointer-events"]="none");if("bgfore"===
p&&(!1===Ta.interactive&&(S["pointer-events"]="none"),S.display="none",null!==xa.fill))return S;"image"===p&&!1===xa.smooth&&(ja=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===p&&(S["font-family"]=Wd(xa),S["font-size"]=Nc(xa)+"px",S["font-style"]=xa.fontStyle,S["font-variant"]=xa.fontVariant,S["font-weight"]=xa.fontWeight);for(const wa in Xh)Ta=xa[wa],p=Xh[wa],("transparent"!==Ta||"fill"!==p&&"stroke"!==p)&&null!=Ta&&(Ta&&Ta.gradient&&(Ta=ac(Ta,R.gradient,"")),S[p]=Ta);
for(const wa in yg)R=xa[wa],null!=R&&(ja=ja||[],ja.push(`${yg[wa]}: ${R};`));ja&&(S.style=ja.join(" "));return S}function le(S,xa,Ta,p){if(S.bounds&&xa.intersects(S.bounds)&&("group"===S.marktype||!1!==S.interactive&&(!Ta||Ta(S)))){const ja=S.items;var R=S.marktype;S=ja.length;let wa=0;if("group"===R)for(;wa<S;++wa)O(ja[wa],xa,Ta,p);else for(Ta=Kg[R].isect;wa<S;++wa)R=ja[wa],ea(R,xa,Ta)&&p.push(R)}return p}function O(S,xa,Ta,p){Ta&&Ta(S.mark)&&ea(S,xa,Kg.group.isect)&&p.push(S);const R=S.items,ja=
R&&R.length;if(ja){const wa=S.x||0;S=S.y||0;xa.translate(-wa,-S);for(let r=0;r<ja;++r)le(R[r],xa,Ta,p);xa.translate(wa,S)}return p}function ea(S,xa,Ta){const p=S.bounds;return xa.encloses(p)||xa.intersects(p)&&Ta(S,xa)}function I(S,xa,Ta){return S===xa?!0:"path"===Ta?ka(S,xa):S instanceof Date&&xa instanceof Date?+S===+xa:k.isNumber(S)&&k.isNumber(xa)?1E-9>=Math.abs(S-xa):S&&xa&&(k.isObject(S)||k.isObject(xa))?ta(S,xa):S==xa}function ka(S,xa){return I(V(S),V(xa))}function ta(S,xa){var Ta=Object.keys(S),
p=Object.keys(xa),R;if(Ta.length!==p.length)return!1;Ta.sort();p.sort();for(R=Ta.length-1;0<=R;R--)if(Ta[R]!=p[R])return!1;for(R=Ta.length-1;0<=R;R--)if(p=Ta[R],!I(S[p],xa[p],p))return!1;return typeof S===typeof xa}let Ja=0;const jb=Math.PI,vb=2*jb,pc=vb-1E-6;Ac.prototype=uc.prototype={constructor:Ac,moveTo:function(S,xa){this._+="M"+(this._x0=this._x1=+S)+","+(this._y0=this._y1=+xa)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(S,xa){this._+=
"L"+(this._x1=+S)+","+(this._y1=+xa)},quadraticCurveTo:function(S,xa,Ta,p){this._+="Q"+ +S+","+ +xa+","+(this._x1=+Ta)+","+(this._y1=+p)},bezierCurveTo:function(S,xa,Ta,p,R,ja){this._+="C"+ +S+","+ +xa+","+ +Ta+","+ +p+","+(this._x1=+R)+","+(this._y1=+ja)},arcTo:function(S,xa,Ta,p,R){S=+S;xa=+xa;Ta=+Ta;p=+p;R=+R;var ja=this._x1,wa=this._y1,r=Ta-S,G=p-xa,ia=ja-S,l=wa-xa,z=ia*ia+l*l;if(0>R)throw Error("negative radius: "+R);if(null===this._x1)this._+="M"+(this._x1=S)+","+(this._y1=xa);else if(1E-6<
z)if(1E-6<Math.abs(l*r-G*ia)&&R){Ta-=ja;p-=wa;var da=r*r+G*G;wa=Math.sqrt(da);ja=Math.sqrt(z);z=R*Math.tan((jb-Math.acos((da+z-(Ta*Ta+p*p))/(2*wa*ja)))/2);ja=z/ja;z/=wa;1E-6<Math.abs(ja-1)&&(this._+="L"+(S+ja*ia)+","+(xa+ja*l));this._+="A"+R+","+R+",0,0,"+ +(l*Ta>ia*p)+","+(this._x1=S+z*r)+","+(this._y1=xa+z*G)}else this._+="L"+(this._x1=S)+","+(this._y1=xa)},arc:function(S,xa,Ta,p,R,ja){S=+S;xa=+xa;Ta=+Ta;ja=!!ja;var wa=Ta*Math.cos(p),r=Ta*Math.sin(p),G=S+wa,ia=xa+r,l=1^ja;p=ja?p-R:R-p;if(0>Ta)throw Error("negative radius: "+
Ta);if(null===this._x1)this._+="M"+G+","+ia;else if(1E-6<Math.abs(this._x1-G)||1E-6<Math.abs(this._y1-ia))this._+="L"+G+","+ia;Ta&&(0>p&&(p=p%vb+vb),p>pc?this._+="A"+Ta+","+Ta+",0,1,"+l+","+(S-wa)+","+(xa-r)+"A"+Ta+","+Ta+",0,1,"+l+","+(this._x1=G)+","+(this._y1=ia):1E-6<p&&(this._+="A"+Ta+","+Ta+",0,"+ +(p>=jb)+","+l+","+(this._x1=S+Ta*Math.cos(R))+","+(this._y1=xa+Ta*Math.sin(R))))},rect:function(S,xa,Ta,p){this._+="M"+(this._x0=this._x1=+S)+","+(this._y0=this._y1=+xa)+"h"+ +Ta+"v"+ +p+"h"+-Ta+
"Z"},toString:function(){return this._}};const qc=Math.abs,rc=Math.atan2,Kc=Math.cos,Bd=Math.max,Hc=Math.min,$c=Math.sin,yd=Math.sqrt,Dd=Math.PI,Kd=Dd/2,Ee=2*Dd;ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(S,xa){S=+S;xa=+xa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(S,
xa):this._context.moveTo(S,xa);break;case 1:this._point=2;default:this._context.lineTo(S,xa)}}};var Be={draw(S,xa){xa=yd(xa/Dd);S.moveTo(xa,0);S.arc(0,0,xa,0,Ee)}};xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:Pa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();
this._line=1-this._line},point:function(S,xa){S=+S;xa=+xa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(S,xa):this._context.moveTo(S,xa);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pa(this,S,xa)}this._x0=this._x1;this._x1=S;this._y0=this._y1;this._y1=xa}};sb.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=
this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(S,xa){S=+S;xa=+xa;switch(this._point){case 0:this._point=
1;this._x2=S;this._y2=xa;break;case 1:this._point=2;this._x3=S;this._y3=xa;break;case 2:this._point=3;this._x4=S;this._y4=xa;this._context.moveTo((this._x0+4*this._x1+S)/6,(this._y0+4*this._y1+xa)/6);break;default:Pa(this,S,xa)}this._x0=this._x1;this._x1=S;this._y0=this._y1;this._y1=xa}};Qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===
this._point)&&this._context.closePath();this._line=1-this._line},point:function(S,xa){S=+S;xa=+xa;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Ta=(this._x0+4*this._x1+S)/6,p=(this._y0+4*this._y1+xa)/6;this._line?this._context.lineTo(Ta,p):this._context.moveTo(Ta,p);break;case 3:this._point=4;default:Pa(this,S,xa)}this._x0=this._x1;this._x1=S;this._y0=this._y1;this._y1=xa}};Wb.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},
lineEnd:function(){var S=this._x,xa=this._y,Ta=S.length-1;if(0<Ta)for(var p=S[0],R=xa[0],ja=S[Ta]-p,wa=xa[Ta]-R,r=-1,G;++r<=Ta;)G=r/Ta,this._basis.point(this._beta*S[r]+(1-this._beta)*(p+G*ja),this._beta*xa[r]+(1-this._beta)*(R+G*wa));this._x=this._y=null;this._basis.lineEnd()},point:function(S,xa){this._x.push(+S);this._y.push(+xa)}};var wd=function Ta(xa){function p(R){return 1===xa?new xb(R):new Wb(R,xa)}p.beta=function(R){return Ta(+R)};return p}(.85);pa.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:nb(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(xa,Ta){xa=+xa;Ta=+Ta;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(xa,Ta):this._context.moveTo(xa,Ta);break;
case 1:this._point=2;this._x1=xa;this._y1=Ta;break;case 2:this._point=3;default:nb(this,xa,Ta)}this._x0=this._x1;this._x1=this._x2;this._x2=xa;this._y0=this._y1;this._y1=this._y2;this._y2=Ta}};var ze=function p(Ta){function R(ja){return new pa(ja,Ta)}R.tension=function(ja){return p(+ja)};return R}(0);Z.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Ta,p){Ta=+Ta;p=+p;switch(this._point){case 0:this._point=1;this._x3=Ta;this._y3=p;break;case 1:this._point=2;this._context.moveTo(this._x4=Ta,this._y4=p);break;case 2:this._point=3;this._x5=Ta;this._y5=p;break;default:nb(this,Ta,p)}this._x0=this._x1;this._x1=this._x2;
this._x2=Ta;this._y0=this._y1;this._y1=this._y2;this._y2=p}};var Ld=function R(p){function ja(wa){return new Z(wa,p)}ja.tension=function(wa){return R(+wa)};return ja}(0);Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nb(this,p,R)}this._x0=this._x1;this._x1=this._x2;this._x2=p;this._y0=this._y1;this._y1=this._y2;this._y2=R}};var he=function ja(R){function wa(r){return new Fa(r,R)}wa.tension=function(r){return ja(+r)};return wa}(0);db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(R,ja){R=+R;ja=+ja;if(this._point){var wa=this._x2-R,r=this._y2-ja;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(wa*wa+r*r,
this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(R,ja):this._context.moveTo(R,ja);break;case 1:this._point=2;break;case 2:this._point=3;default:Ga(this,R,ja)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=R;this._y0=this._y1;this._y1=this._y2;this._y2=ja}};var Fe=function wa(ja){function r(G){return ja?new db(G,ja):new pa(G,0)}r.alpha=function(G){return wa(+G)};return r}(.5);
ba.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,
this._y4),this.point(this._x5,this._y5)}},point:function(ja,wa){ja=+ja;wa=+wa;if(this._point){var r=this._x2-ja,G=this._y2-wa;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+G*G,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=ja;this._y3=wa;break;case 1:this._point=2;this._context.moveTo(this._x4=ja,this._y4=wa);break;case 2:this._point=3;this._x5=ja;this._y5=wa;break;default:Ga(this,ja,wa)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;
this._x0=this._x1;this._x1=this._x2;this._x2=ja;this._y0=this._y1;this._y1=this._y2;this._y2=wa}};var lf=function r(wa){function G(ia){return wa?new ba(ia,wa):new Z(ia,0)}G.alpha=function(ia){return r(+ia)};return G}(.5);ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||
0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(wa,r){wa=+wa;r=+r;if(this._point){var G=this._x2-wa,ia=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(G*G+ia*ia,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ga(this,wa,r)}this._l01_a=this._l12_a;this._l12_a=
this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=wa;this._y0=this._y1;this._y1=this._y2;this._y2=r}};var vf=function G(r){function ia(l){return r?new ma(l,r):new Fa(l,0)}ia.alpha=function(l){return G(+l)};return ia}(.5);q.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,G){r=+r;G=+G;this._point?this._context.lineTo(r,G):(this._point=1,this._context.moveTo(r,
G))}};u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:g(this,this._t0,Q(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(r,G){var ia=NaN;r=+r;G=+G;if(r!==this._x1||G!==this._y1){switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(r,G):this._context.moveTo(r,G);break;case 1:this._point=2;break;case 2:this._point=3;g(this,Q(this,ia=M(this,r,G)),ia);break;default:g(this,this._t0,ia=M(this,r,G))}this._x0=this._x1;this._x1=r;this._y0=this._y1;this._y1=G;this._t0=ia}}};(m.prototype=Object.create(u.prototype)).point=function(r,G){u.prototype.point.call(this,G,r)};C.prototype={moveTo:function(r,G){this._context.moveTo(G,r)},closePath:function(){this._context.closePath()},lineTo:function(r,G){this._context.lineTo(G,
r)},bezierCurveTo:function(r,G,ia,l,z,da){this._context.bezierCurveTo(G,r,l,ia,da,z)}};B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var r=this._x,G=this._y,ia=r.length;if(ia)if(this._line?this._context.lineTo(r[0],G[0]):this._context.moveTo(r[0],G[0]),2===ia)this._context.lineTo(r[1],G[1]);else for(var l=A(r),z=A(G),da=0,oa=1;oa<ia;++da,++oa)this._context.bezierCurveTo(l[0][da],z[0][da],l[1][da],z[1][da],
r[oa],G[oa]);(this._line||0!==this._line&&1===ia)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(r,G){this._x.push(+r);this._y.push(+G)}};E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&
(this._t=1-this._t,this._line=1-this._line)},point:function(r,G){r=+r;G=+G;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(r,G):this._context.moveTo(r,G);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,G),this._context.lineTo(r,G);else{var ia=this._x*(1-this._t)+r*this._t;this._context.lineTo(ia,this._y);this._context.lineTo(ia,G)}}this._x=r;this._y=G}};const Ie={basis:{curve:function(r){return new xb(r)}},"basis-closed":{curve:function(r){return new sb(r)}},
"basis-open":{curve:function(r){return new Qb(r)}},bundle:{curve:wd,tension:"beta",value:.85},cardinal:{curve:ze,tension:"tension",value:0},"cardinal-open":{curve:he,tension:"tension",value:0},"cardinal-closed":{curve:Ld,tension:"tension",value:0},"catmull-rom":{curve:Fe,tension:"alpha",value:.5},"catmull-rom-closed":{curve:lf,tension:"alpha",value:.5},"catmull-rom-open":{curve:vf,tension:"alpha",value:.5},linear:{curve:pb},"linear-closed":{curve:function(r){return new q(r)}},monotone:{horizontal:function(r){return new m(r)},
vertical:function(r){return new u(r)}},natural:{curve:function(r){return new B(r)}},step:{curve:function(r){return new E(r,.5)}},"step-after":{curve:function(r){return new E(r,1)}},"step-before":{curve:function(r){return new E(r,0)}}},ne={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Cf=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,If=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,jf=/^((\s+,?\s*)|(,\s*))/,bg=/^[01]/,Yd=Math.PI/180,ef=Math.PI/2,mf=2*Math.PI,af=Math.sqrt(3)/2;var Hf={},Jf={},yf=
[].join;const zf=["l",0,0,0,0,0,0,0],Eg={circle:{draw:function(r,G){G=Math.sqrt(G)/2;r.moveTo(G,0);r.arc(0,0,G,0,mf)}},cross:{draw:function(r,G){G=Math.sqrt(G)/2;var ia=G/2.5;r.moveTo(-G,-ia);r.lineTo(-G,ia);r.lineTo(-ia,ia);r.lineTo(-ia,G);r.lineTo(ia,G);r.lineTo(ia,ia);r.lineTo(G,ia);r.lineTo(G,-ia);r.lineTo(ia,-ia);r.lineTo(ia,-G);r.lineTo(-ia,-G);r.lineTo(-ia,-ia);r.closePath()}},diamond:{draw:function(r,G){G=Math.sqrt(G)/2;r.moveTo(-G,0);r.lineTo(0,-G);r.lineTo(G,0);r.lineTo(0,G);r.closePath()}},
square:{draw:function(r,G){G=Math.sqrt(G);var ia=-G/2;r.rect(ia,ia,G,G)}},arrow:{draw:function(r,G){G=Math.sqrt(G)/2;var ia=G/7,l=G/2.5,z=G/8;r.moveTo(-ia,G);r.lineTo(ia,G);r.lineTo(ia,-z);r.lineTo(l,-z);r.lineTo(0,-G);r.lineTo(-l,-z);r.lineTo(-ia,-z);r.closePath()}},wedge:{draw:function(r,G){var ia=Math.sqrt(G)/2;G=af*ia;var l=G-.5773502691896257*ia;ia/=4;r.moveTo(0,-G-l);r.lineTo(-ia,G-l);r.lineTo(ia,G-l);r.closePath()}},triangle:{draw:function(r,G){G=Math.sqrt(G)/2;var ia=af*G,l=ia-.5773502691896257*
G;r.moveTo(0,-ia-l);r.lineTo(-G,ia-l);r.lineTo(G,ia-l);r.closePath()}},"triangle-up":{draw:function(r,G){G=Math.sqrt(G)/2;var ia=af*G;r.moveTo(0,-ia);r.lineTo(-G,ia);r.lineTo(G,ia);r.closePath()}},"triangle-down":{draw:function(r,G){G=Math.sqrt(G)/2;var ia=af*G;r.moveTo(0,ia);r.lineTo(-G,-ia);r.lineTo(G,-ia);r.closePath()}},"triangle-right":{draw:function(r,G){G=Math.sqrt(G)/2;var ia=af*G;r.moveTo(ia,0);r.lineTo(-ia,-G);r.lineTo(-ia,G);r.closePath()}},"triangle-left":{draw:function(r,G){G=Math.sqrt(G)/
2;var ia=af*G;r.moveTo(-ia,0);r.lineTo(ia,-G);r.lineTo(ia,G);r.closePath()}},stroke:{draw:function(r,G){G=Math.sqrt(G)/2;r.moveTo(-G,0);r.lineTo(G,0)}}};var eg={};const wf=r=>r.x||0,Kf=r=>r.y||0,dg=r=>!1!==r.defined,eh=function(){function r(){var Bb,hc=+G.apply(this,arguments),Ub=+ia.apply(this,arguments),Ad=da.apply(this,arguments)-Kd,Rc=oa.apply(this,arguments)-Kd,Rd=qc(Rc-Ad),we=Rc>Ad;Ya||(Ya=Bb=uc());if(Ub<hc){var He=Ub;Ub=hc;hc=He}if(1E-12<Ub)if(Rd>Ee-1E-12)Ya.moveTo(Ub*Kc(Ad),Ub*$c(Ad)),Ya.arc(0,
0,Ub,Ad,Rc,!we),1E-12<hc&&(Ya.moveTo(hc*Kc(Rc),hc*$c(Rc)),Ya.arc(0,0,hc,Rc,Ad,we));else{var ue=Ad,Se=Rc;He=Ad;var pf=Rc,Tg=Rd,ff=Rd,$e=Va.apply(this,arguments)/2,Ef=1E-12<$e&&(z?+z.apply(this,arguments):yd(hc*hc+Ub*Ub)),Dh=Hc(qc(Ub-hc)/2,+l.apply(this,arguments)),gg=Dh,Qf=Dh;if(1E-12<Ef){var nf=jc(Ef/hc*$c($e));$e=jc(Ef/Ub*$c($e));1E-12<(Tg-=2*nf)?(nf*=we?1:-1,He+=nf,pf-=nf):(Tg=0,He=pf=(Ad+Rc)/2);1E-12<(ff-=2*$e)?($e*=we?1:-1,ue+=$e,Se-=$e):(ff=0,ue=Se=(Ad+Rc)/2)}Ad=Ub*Kc(ue);Rc=Ub*$c(ue);nf=hc*
Kc(pf);$e=hc*$c(pf);if(1E-12<Dh){var Tf=Ub*Kc(Se),Rf=Ub*$c(Se),Of=hc*Kc(He),Wg=hc*$c(He);if(Rd=Rd<Dd){var Uf=Of-Ad;Rd=Wg-Rc;Ef=nf-Tf;var vh=$e-Rf,mg=vh*Uf-Ef*Rd;1E-12>mg*mg?Uf=void 0:(mg=(Ef*(Rc-Rf)-vh*(Ad-Tf))/mg,Uf=[Ad+mg*Uf,Rc+mg*Rd]);Rd=Uf}Rd&&(gg=Ad-Uf[0],Qf=Rc-Uf[1],Rd=Tf-Uf[0],Ef=Rf-Uf[1],gg=(gg*Rd+Qf*Ef)/(yd(gg*gg+Qf*Qf)*yd(Rd*Rd+Ef*Ef)),Qf=1/$c((1<gg?0:-1>gg?Dd:Math.acos(gg))/2),Uf=yd(Uf[0]*Uf[0]+Uf[1]*Uf[1]),gg=Hc(Dh,(hc-Uf)/(Qf-1)),Qf=Hc(Dh,(Ub-Uf)/(Qf+1)))}1E-12<ff?1E-12<Qf?(ue=Db(Of,
Wg,Ad,Rc,Ub,Qf,we),Se=Db(Tf,Rf,nf,$e,Ub,Qf,we),Ya.moveTo(ue.cx+ue.x01,ue.cy+ue.y01),Qf<Dh?Ya.arc(ue.cx,ue.cy,Qf,rc(ue.y01,ue.x01),rc(Se.y01,Se.x01),!we):(Ya.arc(ue.cx,ue.cy,Qf,rc(ue.y01,ue.x01),rc(ue.y11,ue.x11),!we),Ya.arc(0,0,Ub,rc(ue.cy+ue.y11,ue.cx+ue.x11),rc(Se.cy+Se.y11,Se.cx+Se.x11),!we),Ya.arc(Se.cx,Se.cy,Qf,rc(Se.y11,Se.x11),rc(Se.y01,Se.x01),!we))):(Ya.moveTo(Ad,Rc),Ya.arc(0,0,Ub,ue,Se,!we)):Ya.moveTo(Ad,Rc);1E-12<hc&&1E-12<Tg?1E-12<gg?(ue=Db(nf,$e,Tf,Rf,hc,-gg,we),Se=Db(Ad,Rc,Of,Wg,hc,
-gg,we),Ya.lineTo(ue.cx+ue.x01,ue.cy+ue.y01),gg<Dh?Ya.arc(ue.cx,ue.cy,gg,rc(ue.y01,ue.x01),rc(Se.y01,Se.x01),!we):(Ya.arc(ue.cx,ue.cy,gg,rc(ue.y01,ue.x01),rc(ue.y11,ue.x11),!we),Ya.arc(0,0,hc,rc(ue.cy+ue.y11,ue.cx+ue.x11),rc(Se.cy+Se.y11,Se.cx+Se.x11),we),Ya.arc(Se.cx,Se.cy,gg,rc(Se.y11,Se.x11),rc(Se.y01,Se.x01),!we))):Ya.arc(0,0,hc,pf,He,we):Ya.lineTo(nf,$e)}else Ya.moveTo(0,0);Ya.closePath();if(Bb)return Ya=null,Bb+""||null}var G=Yb,ia=Ua,l=Cb(0),z=null,da=ub,oa=Kb,Va=Lb,Ya=null;r.centroid=function(){var Bb=
(+G.apply(this,arguments)+ +ia.apply(this,arguments))/2,hc=(+da.apply(this,arguments)+ +oa.apply(this,arguments))/2-Dd/2;return[Kc(hc)*Bb,$c(hc)*Bb]};r.innerRadius=function(Bb){return arguments.length?(G="function"===typeof Bb?Bb:Cb(+Bb),r):G};r.outerRadius=function(Bb){return arguments.length?(ia="function"===typeof Bb?Bb:Cb(+Bb),r):ia};r.cornerRadius=function(Bb){return arguments.length?(l="function"===typeof Bb?Bb:Cb(+Bb),r):l};r.padRadius=function(Bb){return arguments.length?(z=null==Bb?null:
"function"===typeof Bb?Bb:Cb(+Bb),r):z};r.startAngle=function(Bb){return arguments.length?(da="function"===typeof Bb?Bb:Cb(+Bb),r):da};r.endAngle=function(Bb){return arguments.length?(oa="function"===typeof Bb?Bb:Cb(+Bb),r):oa};r.padAngle=function(Bb){return arguments.length?(Va="function"===typeof Bb?Bb:Cb(+Bb),r):Va};r.context=function(Bb){return arguments.length?(Ya=null==Bb?null:Bb,r):Ya};return r}().startAngle(r=>r.startAngle||0).endAngle(r=>r.endAngle||0).padAngle(r=>r.padAngle||0).innerRadius(r=>
r.innerRadius||0).outerRadius(r=>r.outerRadius||0).cornerRadius(r=>r.cornerRadius||0),Jg=lb().x(wf).y1(Kf).y0(r=>(r.y||0)+(r.height||0)).defined(dg),Og=lb().y(Kf).x1(wf).x0(r=>(r.x||0)+(r.width||0)).defined(dg),Ug=Ka().x(wf).y(Kf).defined(dg),qa=Jb().x(wf).y(Kf).width(r=>r.width||0).height(r=>r.height||0).cornerRadius(r=>sc(r.cornerRadiusTopLeft,r.cornerRadius)||0,r=>sc(r.cornerRadiusTopRight,r.cornerRadius)||0,r=>sc(r.cornerRadiusBottomRight,r.cornerRadius)||0,r=>sc(r.cornerRadiusBottomLeft,r.cornerRadius)||
0),bb=function(r,G){function ia(){let z;l||(l=z=uc());r.apply(this,arguments).draw(l,+G.apply(this,arguments));if(z)return l=null,z+""||null}let l=null;r="function"===typeof r?r:Cb(r||Be);G="function"===typeof G?G:Cb(void 0===G?64:+G);ia.type=function(z){return arguments.length?(r="function"===typeof z?z:Cb(z),ia):r};ia.size=function(z){return arguments.length?(G="function"===typeof z?z:Cb(+z),ia):G};ia.context=function(z){return arguments.length?(l=null==z?null:z,ia):l};return ia}().type(r=>L(r.shape||
"circle")).size(r=>sc(r.size,64)),Rb=yc().x(wf).y(Kf).defined(dg).size(r=>r.size||1);var hd=1;Sc.prototype={clone(){return new Sc(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(r){return this.x1===r.x1&&this.y1===r.y1&&this.x2===r.x2&&this.y2===r.y2},set(r,G,ia,l){ia<r?(this.x2=
r,this.x1=ia):(this.x1=r,this.x2=ia);l<G?(this.y2=G,this.y1=l):(this.y1=G,this.y2=l);return this},add(r,G){r<this.x1&&(this.x1=r);G<this.y1&&(this.y1=G);r>this.x2&&(this.x2=r);G>this.y2&&(this.y2=G);return this},expand(r){this.x1-=r;this.y1-=r;this.x2+=r;this.y2+=r;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(r){this.x1*=r;this.y1*=r;this.x2*=r;this.y2*=r;return this},translate(r,G){this.x1+=r;
this.x2+=r;this.y1+=G;this.y2+=G;return this},rotate(r,G,ia){r=this.rotatedPoints(r,G,ia);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(r,G,ia){var {x1:l,y1:z,x2:da,y2:oa}=this,Va=Math.cos(r);r=Math.sin(r);var Ya=G-G*Va+ia*r;G=ia-G*r-ia*Va;return[Va*l-r*z+Ya,r*l+Va*z+G,Va*l-r*oa+Ya,r*l+Va*oa+G,Va*da-r*z+Ya,r*da+Va*z+G,Va*da-r*oa+Ya,r*da+Va*oa+G]},union(r){r.x1<this.x1&&(this.x1=r.x1);r.y1<this.y1&&(this.y1=r.y1);r.x2>this.x2&&(this.x2=r.x2);r.y2>this.y2&&
(this.y2=r.y2);return this},intersect(r){r.x1>this.x1&&(this.x1=r.x1);r.y1>this.y1&&(this.y1=r.y1);r.x2<this.x2&&(this.x2=r.x2);r.y2<this.y2&&(this.y2=r.y2);return this},encloses(r){return r&&this.x1<=r.x1&&this.x2>=r.x2&&this.y1<=r.y1&&this.y2>=r.y2},alignsWith(r){return r&&(this.x1==r.x1||this.x2==r.x2||this.y1==r.y1||this.y2==r.y2)},intersects(r){return r&&!(this.x2<r.x1||this.x1>r.x2||this.y2<r.y1||this.y1>r.y2)},contains(r,G){return!(r<this.x1||r>this.x2||G<this.y1||G>this.y2)},width(){return this.x2-
this.x1},height(){return this.y2-this.y1}};k.inherits(Ma,Pd);Vb.prototype={pending(){return this._pending},sanitizeURL(r){const G=this;G._pending+=1;return G._loader.sanitize(r,{context:"href"}).then(ia=>{--G._pending;return ia}).catch(()=>{--G._pending;return null})},loadImage(r){const G=this,ia=P.image();G._pending+=1;return G._loader.sanitize(r,{context:"image"}).then(l=>{const z=l.href;if(!z||!ia)throw{url:z};const da=new ia;l=k.hasOwnProperty(l,"crossOrigin")?l.crossOrigin:"anonymous";null!=
l&&(da.crossOrigin=l);da.onload=()=>{--G._pending};da.onerror=()=>{--G._pending};da.src=z;return da}).catch(l=>{--G._pending;return{complete:!1,width:0,height:0,src:l&&l.url||""}})},ready(){const r=this;return new Promise(G=>{function ia(l){r.pending()?setTimeout(()=>{ia(!0)},10):G(l)}ia(!1)})}};const ld=mf-1E-8;let qe,Pe,rf,Gf,Me,cg,Sf,Yf;const rg=(r,G)=>{r=Pe=r;G=rf=G;return qe.add(r,G)},sg=r=>qe.add(r,qe.y1),Qg=r=>qe.add(qe.x1,r),fh=(r,G)=>qe.add(Me*r+Sf*G,cg*r+Yf*G),jh=(r,G)=>rg(Me*r+Sf*G,cg*
r+Yf*G),Ce={beginPath(){},closePath(){},moveTo:jh,lineTo:jh,rect(r,G,ia,l){Gf?(fh(r+ia,G),fh(r+ia,G+l),fh(r,G+l),jh(r,G)):(qe.add(r+ia,G+l),rg(r,G))},quadraticCurveTo(r,G,ia,l){const z=cg*r+Yf*G,da=Me*ia+Sf*l;ia=cg*ia+Yf*l;gc(Pe,Me*r+Sf*G,da,sg);gc(rf,z,ia,Qg);rg(da,ia)},bezierCurveTo(r,G,ia,l,z,da){const oa=cg*r+Yf*G,Va=cg*ia+Yf*l,Ya=Me*z+Sf*da;z=cg*z+Yf*da;cc(Pe,Me*r+Sf*G,Me*ia+Sf*l,Ya,sg);cc(rf,oa,Va,z,Qg);rg(Ya,z)},arc(r,G,ia,l,z,da){l+=Gf;z+=Gf;Pe=ia*Math.cos(z)+r;rf=ia*Math.sin(z)+G;if(Math.abs(z-
l)>ld)qe.add(r-ia,G-ia),qe.add(r+ia,G+ia);else{const oa=Ya=>qe.add(ia*Math.cos(Ya)+r,ia*Math.sin(Ya)+G);let Va;oa(l);oa(z);if(z!==l)if(l%=mf,0>l&&(l+=mf),z%=mf,0>z&&(z+=mf),z<l&&(da=!da,Va=l,l=z,z=Va),da)for(z-=mf,Va=l-l%ef,l=0;4>l&&Va>z;++l,Va-=ef)oa(Va);else for(Va=l-l%ef+ef,l=0;4>l&&Va<z;++l,Va+=ef)oa(Va)}}};var Ge=(Ge=P.canvas(1,1))?Ge.getContext("2d"):null;const Lf=new Sc;var xf=[],of=Td("arc",function(r,G){return eh.context(r)(G)}),Af=Fd("area",function(r,G){const ia=G[0];return("horizontal"===
ia.orient?Og:Jg).curve(H(ia.interpolate||"linear",ia.orient,ia.tension)).context(r)(G)},function(r,G){G="horizontal"===r[0].orient?G[1]:G[0];for(var ia="horizontal"===r[0].orient?"y":"x",l=r.length,z=Infinity,da,oa;0<=--l;)!1!==r[l].defined&&(oa=Math.abs(r[l][ia]-G),oa<z&&(z=oa,da=r[l]));return da});const tg=fd(Ud),wg=fd(Ud,!1),fg=fd(Ud,!0);var Bf={type:"group",tag:"g",nested:!1,attr:function(r,G){r("transform",Qd(G.x||0,G.y||0))},bound:function(r,G){if(!G.clip&&G.items){const ia=G.items,l=ia.length;
for(let z=0;z<l;++z)r.union(ia[z].bounds)}(G.clip||G.width||G.height)&&!G.noBound&&r.add(0,0).add(G.width||0,G.height||0);qb(r,G);return r.translate(G.x||0,G.y||0)},draw:function(r,G,ia){Gb(G,l=>{const z=l.x||0,da=l.y||0,oa=l.strokeForeground,Va=null==l.opacity?1:l.opacity;(l.stroke||l.fill)&&Va&&(Ud(r,l,z,da),gb(r,l),l.fill&&ya(r,l,Va)&&r.fill(),l.stroke&&!oa&&Na(r,l,Va)&&r.stroke());r.save();r.translate(z,da);l.clip&&Zd(r,l);ia&&ia.translate(-z,-da);Gb(l,Ya=>{this.draw(r,Ya,ia)});ia&&ia.translate(z,
da);r.restore();oa&&l.stroke&&Va&&(Ud(r,l,z,da),gb(r,l),Na(r,l,Va)&&r.stroke())})},pick:function(r,G,ia,l,z,da){if(G.bounds&&!G.bounds.contains(z,da)||!G.items)return null;const oa=ia*r.pixelRatio,Va=l*r.pixelRatio;return nc(G,Ya=>{let Bb,hc;var Ub=Ya.bounds;if(!Ub||Ub.contains(z,da)){Bb=Ya.x||0;hc=Ya.y||0;Ub=Bb+(Ya.width||0);var Ad=hc+(Ya.height||0),Rc=Ya.clip;if(!Rc||!(z<Bb||z>Ub||da<hc||da>Ad)){r.save();r.translate(Bb,hc);Bb=z-Bb;hc=da-hc;if(Rc&&xc(Ya)&&!fg(r,Ya,oa,Va))return r.restore(),null;
Ad=Ya.strokeForeground;if((Rc=!1!==G.interactive)&&Ad&&Ya.stroke&&wg(r,Ya,oa,Va))return r.restore(),Ya;Ub=nc(Ya,Rd=>(!1!==Rd.interactive||"group"===Rd.marktype)&&Rd.bounds&&Rd.bounds.contains(Bb,hc)?this.pick(Rd,ia,l,Bb,hc):null);!Ub&&Rc&&(Ya.fill||!Ad&&Ya.stroke)&&tg(r,Ya,oa,Va)&&(Ub=Ya);r.restore();return Ub||null}}})},isect:Md,content:function(r,G,ia){G=G.clip?Zb(ia,G,G):null;r("clip-path",G)},background:function(r,G){r("class","background");r("aria-hidden",!0);const ia=de(G);r("d",dd(null,G,ia,
ia))},foreground:function(r,G){r("class","foreground");r("aria-hidden",!0);if(G.strokeForeground){const ia=de(G);r("d",dd(null,G,ia,ia))}else r("d","")}},Rg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},gh={type:"image",tag:"image",nested:!1,attr:function(r,G,ia){var l=Ve(G,ia);ia=Xd(G,l);const z=N(G,l),da=(G.x||0)-la(G.align,ia),oa=(G.y||0)-za(G.baseline,z);l=!l.src&&l.toDataURL?l.toDataURL():l.src||"";r("href",l,Rg["xmlns:xlink"],"xlink:href");r("transform",
Qd(da,oa));r("width",ia);r("height",z);r("preserveAspectRatio",!1===G.aspect?"none":"xMidYMid")},bound:function(r,G){var ia=G.image;const l=Xd(G,ia);ia=N(G,ia);const z=(G.x||0)-la(G.align,l);G=(G.y||0)-za(G.baseline,ia);return r.set(z,G,z+l,G+ia)},draw:function(r,G,ia){Gb(G,l=>{if(!ia||ia.intersects(l.bounds)){var z=Ve(l,this),da=Xd(l,z),oa=N(l,z);if(0!==da&&0!==oa){var Va=(l.x||0)-la(l.align,da),Ya=(l.y||0)-za(l.baseline,oa),Bb;if(!1!==l.aspect){var hc=z.width/z.height;var Ub=l.width/l.height;hc===
hc&&Ub===Ub&&hc!==Ub&&(Ub<hc?(hc=da/hc,Ya+=(oa-hc)/2,oa=hc):(hc*=oa,Va+=(da-hc)/2,da=hc))}if(z.complete||z.toDataURL)gb(r,l),r.globalAlpha=null!=(Bb=l.opacity)?Bb:1,r.imageSmoothingEnabled=!1!==l.smooth,r.drawImage(z,Va,Ya,da,oa)}}})},pick:ed(),isect:k.truthy,get:Ve,xOffset:la,yOffset:za},oh=Fd("line",function(r,G){const ia=G[0];return Ug.curve(H(ia.interpolate||"linear",ia.orient,ia.tension)).context(r)(G)},function(r,G){for(var ia=Math.pow(r[0].strokeWidth||1,2),l=r.length,z,da;0<=--l;)if(!1!==
r[l].defined&&(z=r[l].x-G[0],da=r[l].y-G[1],z=z*z+da*da,z<ia))return r[l];return null}),xg={type:"path",tag:"path",nested:!1,attr:function(r,G){var ia=G.scaleY||1;1===(G.scaleX||1)&&1===ia||r("vector-effect","non-scaling-stroke");ia=Qd(G.x||0,G.y||0)+(G.angle?" rotate("+(G.angle+")"):"")+(G.scaleX||G.scaleY?" scale("+((G.scaleX||1)+","+(G.scaleY||1)+")"):"");r("transform",ia);r("d",G.path)},bound:function(r,G){return fb(Tb(r,G.angle),G)?r.set(0,0,0,0):qb(r,G,!0)},draw:dc(fb),pick:ed(fd(fb)),isect:zc(fb)},
zh={type:"rect",tag:"path",nested:!1,attr:function(r,G){r("d",dd(null,G))},bound:function(r,G){var ia,l;return qb(r.set(ia=G.x||0,l=G.y||0,ia+G.width||0,l+G.height||0),G)},draw:dc(Ib),pick:ed(fd(Ib)),isect:Md},yh={type:"rule",tag:"line",nested:!1,attr:function(r,G){r("transform",Qd(G.x||0,G.y||0));r("x2",null!=G.x2?G.x2-(G.x||0):0);r("y2",null!=G.y2?G.y2-(G.y||0):0)},bound:function(r,G){var ia,l;return qb(r.set(ia=G.x||0,l=G.y||0,null!=G.x2?G.x2:ia,null!=G.y2?G.y2:l),G)},draw:function(r,G,ia){Gb(G,
l=>{if(!ia||ia.intersects(l.bounds)){var z=null==l.opacity?1:l.opacity;z&&Xb(r,l,z)&&(gb(r,l),r.stroke())}})},pick:ed(function(r,G,ia,l){return r.isPointInStroke?Xb(r,G,1)&&r.isPointInStroke(ia,l):!1}),isect:td},Nh=Td("shape",function(r,G){return(G.mark.shape||G.shape).context(r)(G)}),$g=Td("symbol",function(r,G){return bb.context(r)(G)},Zc);const ph=k.lruCache();var Ah={height:Nc,measureWidth:Gc,estimateWidth:lc,width:lc,canvas:Bc};Bc(!0);const bi={left:"start",center:"middle",right:"end"},Vg=new Sc;
var qh={type:"text",tag:"text",nested:!1,attr:function(r,G){var ia=G.dx||0,l=(G.dy||0)+Ae(G),z=kf(G),da=z.x1;z=z.y1;var oa=G.angle||0;r("text-anchor",bi[G.align]||"start");if(oa){if(G=Qd(da,z)+" rotate("+(oa+")"),ia||l)G+=" "+Qd(ia,l)}else G=Qd(da+ia,z+l);r("transform",G)},bound:hf,draw:function(r,G,ia){Gb(G,l=>{var z=null==l.opacity?1:l.opacity,da;if(!(ia&&!ia.intersects(l.bounds)||0===z||0>=l.fontSize||null==l.text||0===l.text.length)){r.font=ae(l);r.textAlign=l.align||"left";var oa=kf(l);var Va=
oa.x1;oa=oa.y1;l.angle&&(r.save(),r.translate(Va,oa),r.rotate(l.angle*Yd),Va=oa=0);Va+=l.dx||0;oa+=(l.dy||0)+Ae(l);var Ya=Hd(l);gb(r,l);if(k.isArray(Ya)){var Bb=rd(l);for(da=0;da<Ya.length;++da){var hc=Gd(l,Ya[da]);l.fill&&ya(r,l,z)&&r.fillText(hc,Va,oa);l.stroke&&Na(r,l,z)&&r.strokeText(hc,Va,oa);oa+=Bb}}else hc=Gd(l,Ya),l.fill&&ya(r,l,z)&&r.fillText(hc,Va,oa),l.stroke&&Na(r,l,z)&&r.strokeText(hc,Va,oa);l.angle&&r.restore()}})},pick:ed(function(r,G,ia,l,z,da){if(0>=G.fontSize)return!1;if(!G.angle)return!0;
ia=kf(G);r=ia.x1;ia=ia.y1;l=hf(Vg,G,1);var oa=-G.angle*Yd;G=Math.cos(oa);oa=Math.sin(oa);return l.contains(G*z-oa*da+(r-G*r+oa*ia),oa*z+G*da+(ia-oa*r-G*ia))}),isect:function(r,G){r=hf(Vg,r,2);return Ha(G,r[0],r[1],r[2],r[3])||Ha(G,r[0],r[1],r[4],r[5])||Ha(G,r[4],r[5],r[6],r[7])||Ha(G,r[2],r[3],r[6],r[7])}},Ei=Fd("trail",function(r,G){return Rb.context(r)(G)},function(r,G){for(var ia=r.length,l,z;0<=--ia;)if(!1!==r[ia].defined&&(l=r[ia].x-G[0],z=r[ia].y-G[1],z=l*l+z*z,l=r[ia].size||1,z<l*l))return r[ia];
return null}),Kg={arc:of,area:Af,group:Bf,image:gh,line:oh,path:xg,rect:zh,rule:yh,shape:Nh,symbol:$g,text:qh,trail:Ei},Fh={mark:null};const Uh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
cb.prototype={toJSON(r){return uf(this.root,r||0)},mark(r,G,ia){G=G||this.root.items[0];r=Ab(r,G);G.items[ia]=r;r.zindex&&(r.group.zdirty=!0);return r}};bc.prototype={initialize(r,G,ia){this._el=r;this._obj=ia||null;return this.origin(G)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(r){return arguments.length?(this._origin=r||[0,0],this):this._origin.slice()},scene(r){if(!arguments.length)return this._scene;this._scene=r;return this},on(){},off(){},_handlerIndex(r,
G,ia){for(let l=r?r.length:0;0<=--l;)if(r[l].type===G&&(!ia||r[l].handler===ia))return l;return-1},handlers(r){const G=this._handlers,ia=[];if(r)ia.push(...G[this.eventName(r)]);else for(const l in G)ia.push(...G[l]);return ia},eventName(r){const G=r.indexOf(".");return 0>G?r:r.slice(0,G)},handleHref(r,G,ia){this._loader.sanitize(ia,{context:"href"}).then(l=>{const z=new MouseEvent(r.type,r),da=ec(null,"a");for(const oa in l)da.setAttribute(oa,l[oa]);da.dispatchEvent(z)}).catch(()=>{})},handleTooltip(r,
G,ia){if(G&&null!=G.tooltip){var l=this.canvas(),z=this._origin,da=G&&G.mark,oa;if(da&&(oa=Kg[da.marktype]).tip){l=Sa(r,l);l[0]-=z[0];for(l[1]-=z[1];G=G.mark.group;)l[0]-=G.x||0,l[1]-=G.y||0;G=oa.tip(da.items,l)}this._tooltip.call(this._obj,this,r,G,ia&&G&&G.tooltip||null)}},getItemBoundingClientRect(r){var G=this.canvas();if(G){var ia=G.getBoundingClientRect(),l=this._origin,z=r.bounds;G=z.width();var da=z.height(),oa=z.x1+l[0]+ia.left;for(ia=z.y1+l[1]+ia.top;r.mark&&(r=r.mark.group);)oa+=r.x||0,
ia+=r.y||0;return{x:oa,y:ia,width:G,height:da,left:oa,top:ia,right:oa+G,bottom:ia+da}}}};Dc.prototype={initialize(r,G,ia,l,z){this._el=r;return this.resize(G,ia,l,z)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(r){if(0===arguments.length)return this._bgcolor;this._bgcolor=r;return this},resize(r,G,ia,l){this._width=r;this._height=G;this._origin=ia||[0,0];this._scale=l||1;return this},dirty(){},render(r){const G=this;G._call=function(){G._render(r)};G._call();
G._call=null;return G},_render(){},renderAsync(r){const G=this.render(r);return this._ready?this._ready.then(()=>G):Promise.resolve(G)},_load(r,G){var ia=this;r=ia._loader[r](G);if(!ia._ready){const l=ia._call;ia._ready=ia._loader.ready().then(z=>{z&&l();ia._ready=null})}return r},sanitizeURL(r){return this._load("sanitizeURL",r)},loadImage(r){return this._load("loadImage",r)}};k.inherits(Tc,bc,{initialize(r,G,ia){this._canvas=r&&Cc(r,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(l=>
gd(this,l));return bc.prototype.initialize.call(this,r,G,ia)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(r){this.fire("mousewheel",r)},mousemove:Ra("mousemove","mouseover","mouseout"),dragover:Ra("dragover","dragenter","dragleave"),mouseout:eb("mouseout"),dragleave:eb("dragleave"),
mousedown(r){this._down=this._active;this.fire("mousedown",r)},click(r){this._down===this._active&&(this.fire("click",r),this._down=null)},touchstart(r){this._touch=this.pickEvent(r.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",r,!0)},touchmove(r){this.fire("touchmove",r,!0)},touchend(r){this.fire("touchend",r,!0);this._touch=null},fire(r,G,ia){ia=ia?this._touch:this._active;const l=this._handlers[r];G.vegaType=r;"click"===r&&ia&&ia.href?this.handleHref(G,
ia,ia.href):("mousemove"===r||"mouseout"===r)&&this.handleTooltip(G,ia,"mouseout"!==r);if(l)for(let z=0,da=l.length;z<da;++z)l[z].handler.call(this._obj,G,ia)},on(r,G){const ia=this.eventName(r),l=this._handlers;0>this._handlerIndex(l[ia],r,G)&&(gd(this,r),(l[ia]||(l[ia]=[])).push({type:r,handler:G}));return this},off(r,G){var ia=this.eventName(r);ia=this._handlers[ia];r=this._handlerIndex(ia,r,G);0<=r&&ia.splice(r,1);return this},pickEvent(r){r=Sa(r,this._canvas);const G=this._origin;return this.pick(this._scene,
r[0],r[1],r[0]-G[0],r[1]-G[1])},pick(r,G,ia,l,z){const da=this.context();return Kg[r.marktype].pick.call(this,da,r,G,ia,l,z)}});var Sg="undefined"!==typeof window?window.devicePixelRatio||1:1;const kh=Dc.prototype;k.inherits(oc,Dc,{initialize(r,G,ia,l,z,da){this._options=da||{};this._canvas=this._options.externalContext?null:P.canvas(1,1,this._options.type);r&&this._canvas&&(J(r,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return kh.initialize.call(this,r,G,ia,l,z)},resize(r,
G,ia,l){kh.resize.call(this,r,G,ia,l);if(this._canvas){r=this._canvas;G=this._width;ia=this._height;l=this._origin;var z=this._scale,da=this._options.context;const Va="undefined"!==typeof HTMLElement&&r instanceof HTMLElement&&null!=r.parentNode,Ya=r.getContext("2d");z=Va?Sg:z;r.width=G*z;r.height=ia*z;for(var oa in da)Ya[oa]=da[oa];Va&&1!==z&&(r.style.width=G+"px",r.style.height=ia+"px");Ya.pixelRatio=z;Ya.setTransform(z,0,0,z,z*l[0],z*l[1])}else(oa=this._options.externalContext)||k.error("CanvasRenderer is missing a valid canvas or context"),
oa.scale(this._scale,this._scale),oa.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(r){const G=this._tempb.clear().union(r.bounds);for(r=r.mark.group;r;)G.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(G)},_render(r){const G=this.context(),ia=this._origin,l=this._width,z=this._height,da=this._dirty;var oa=(new Sc).set(0,0,l,z).translate(-ia[0],
-ia[1]);G.save();this._redraw||da.empty()?oa=(this._redraw=!1,oa.expand(1)):(oa=oa.intersect(da),oa.expand(1).round(),G.pixelRatio%1&&oa.scale(G.pixelRatio).round().scale(1/G.pixelRatio),oa.translate(-(ia[0]%1),-(ia[1]%1)),G.beginPath(),G.rect(oa.x1,oa.y1,oa.width(),oa.height()),G.clip());this.clear(-ia[0],-ia[1],l,z);this.draw(G,r,oa);G.restore();da.clear();return this},draw(r,G,ia){const l=Kg[G.marktype];if(G.clip){var z=G.clip;r.save();k.isFunction(z)?(r.beginPath(),z(r),r.clip()):Zd(r,G.group)}l.draw.call(this,
r,G,ia);G.clip&&r.restore()},clear(r,G,ia,l){const z=this._options,da=this.context();"pdf"===z.type||z.externalContext||da.clearRect(r,G,ia,l);null!=this._bgcolor&&(da.fillStyle=this._bgcolor,da.fillRect(r,G,ia,l))}});const rh=(r,G)=>ia=>{let l=ia.target.__data__;l=Array.isArray(l)?l[0]:l;ia.vegaType=ia.type;G.call(r._obj,ia,l)};k.inherits(vd,bc,{initialize(r,G,ia){let l=this._svg;l&&(l.removeEventListener("click",this._hrefHandler),l.removeEventListener("mousemove",this._tooltipHandler),l.removeEventListener("mouseout",
this._tooltipHandler));if(this._svg=l=r&&Cc(r,"svg"))l.addEventListener("click",this._hrefHandler),l.addEventListener("mousemove",this._tooltipHandler),l.addEventListener("mouseout",this._tooltipHandler);return bc.prototype.initialize.call(this,r,G,ia)},canvas(){return this._svg},on(r,G){const ia=this.eventName(r),l=this._handlers;0>this._handlerIndex(l[ia],r,G)&&(r={type:r,handler:G,listener:rh(this,G)},(l[ia]||(l[ia]=[])).push(r),this._svg&&this._svg.addEventListener(ia,r.listener));return this},
off(r,G){const ia=this.eventName(r),l=this._handlers[ia];r=this._handlerIndex(l,r,G);0<=r&&(this._svg&&this._svg.removeEventListener(ia,l[r].listener),l.splice(r,1));return this}});const Bh=(r,G,ia)=>({role:r,["aria-roledescription"]:G,["aria-label"]:ia||void 0}),Gg=k.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),Gh={axis:{desc:"axis",caption:function(r){var G=r.datum;const ia=r.orient,
l=G.title?jd(r):null;var z=r.context;G=z.scales[G.scale].value;z=z.dataflow.locale();const da=G.type;return`${"left"===ia||"right"===ia?"Y":"X"}-axis`+(l?` titled '${l}'`:"")+` for a ${Hb.isDiscrete(da)?"discrete":da} scale`+` with ${Hb.domainCaption(z,G,r)}`}},legend:{desc:"legend",caption:function(r){var G=r.datum;const ia=G.title?jd(r):null,l=`${G.type||""} legend`.trim();var z=G.scales;G=Object.keys(z);var da=r.context;z=da.scales[z[G[0]]].value;da=da.dataflow.locale();return(l.length?l[0].toUpperCase()+
l.slice(1):l)+(ia?` titled '${ia}'`:"")+` for ${Od(G)}`+` with ${Hb.domainCaption(da,z,r)}`}},"title-text":{desc:"title",caption:r=>`Title text '${k.array(r.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:r=>`Subtitle text '${k.array(r.text).join(" ")}'`}},Ch={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Hh=r=>(r+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Wh=r=>be(Cd(),r)+"",Xh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},yg={blend:"mix-blend-mode"},zg={fill:"none","stroke-miterlimit":10},Zf=Rg.xmlns,lh=Dc.prototype;k.inherits(xe,Dc,{initialize(r,G,ia,l,z){this._defs={};this._clearDefs();r&&(this._svg=$b(r,0,"svg",Zf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/",
"xmlns",Zf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Rg["xmlns:xlink"]),this._svg.setAttribute("version",Rg.version),this._svg.setAttribute("class","marks"),J(r,1),this._root=$b(this._svg,0,"g",Zf),kd(this._root,zg),J(this._svg,1));this.background(this._bgcolor);return lh.initialize.call(this,r,G,ia,l,z)},background(r){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",r);return lh.background.apply(this,arguments)},resize(r,G,ia,l){lh.resize.call(this,
r,G,ia,l);this._svg&&(kd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const r=this._svg,G=this._bgcolor;if(!r)return null;let ia;G&&(r.removeAttribute("style"),ia=$b(r,0,"rect",Zf),kd(ia,{width:this._width,height:this._height,fill:G}));const l=Wh(r);G&&(r.removeChild(ia),this._svg.style.setProperty("background-color",
G));return l},_render(r){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,r),J(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(r){r.dirty!==this._dirtyID&&(r.dirty=this._dirtyID,this._dirty.push(r))},isDirty(r){return this._dirtyAll||!r._svg||!r._svg.ownerSVGElement||r.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const r=this._dirty;if(!r.length||!this._dirtyID)return!0;const G=++this._dirtyID;let ia;let l,z,da,oa;da=0;for(oa=r.length;da<
oa;++da){ia=r[da];var Va=ia.mark;Va.marktype!==l&&(l=Va.marktype,z=Kg[l]);Va.zdirty&&Va.dirty!==G&&(this._dirtyAll=!1,Le(ia,G),Va.items.forEach(Ya=>{Ya.dirty=G}));Va.zdirty||(ia.exit?(z.nested&&Va.items.length?(Va=Va.items[0],Va._svg&&this._update(z,Va._svg,Va)):ia._svg&&(Va=ia._svg.parentNode)&&Va.removeChild(ia._svg),ia._svg=null):(ia=z.nested?Va.items[0]:ia,ia._update!==G&&(ia._svg&&ia._svg.ownerSVGElement?this._update(z,ia._svg,ia):(this._dirtyAll=!1,Le(ia,G)),ia._update=G)))}return!this._dirtyAll},
mark(r,G,ia){if(!this.isDirty(G))return G._svg;const l=this._svg,z=Kg[G.marktype];var da=!1===G.interactive?"none":null;const oa="g"===z.tag,Va=df(G,r,ia,"g",l);Va.setAttribute("class",fa(G));r=Wc(G);for(const hc in r)Fc(Va,hc,r[hc]);oa||Fc(Va,"pointer-events",da);Fc(Va,"clip-path",G.clip?Zb(this,G,G.group):null);let Ya=null,Bb=0;da=hc=>{const Ub=this.isDirty(hc),Ad=df(hc,Va,Ya,z.tag,l);Ub&&(this._update(z,Ad,hc),oa&&Xe(this,Ad,hc));Ya=Ad;++Bb};z.nested?G.items.length&&da(G.items[0]):Gb(G,da);J(Va,
Bb);return Va},_update(r,G,ia){ug=G;Df=G.__values__;Lc(od,ia);r.attr(od,ia,this);const l=mh[r.type];l&&l.call(this,r,G,ia);ug&&this.style(ug,ia)},style(r,G){if(null!=G){for(const ia in Xh){let l="font"===ia?Wd(G):G[ia];if(l===Df[ia])continue;const z=Xh[ia];null==l?r.removeAttribute(z):(l&&l.gradient&&(l=ac(l,this._defs.gradient,Jd())),r.setAttribute(z,l+""));Df[ia]=l}for(const ia in yg)Ec(r,yg[ia],G[ia])}},defs(){const r=this._svg,G=this._defs;let ia=G.el;var l=0;for(var z in G.gradient){ia||(G.el=
ia=$b(r,1,"defs",Zf));var da=void 0;let Ya,Bb;var oa=ia,Va=G.gradient[z];"radial"===Va.gradient?(da=$b(oa,l++,"pattern",Zf),kd(da,{id:"p_"+Va.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),da=$b(da,0,"rect",Zf),kd(da,{width:1,height:1,fill:`url(${Jd()}#${Va.id})`}),oa=$b(oa,l++,"radialGradient",Zf),kd(oa,{id:Va.id,fx:Va.x1,fy:Va.y1,fr:Va.r1,cx:Va.x2,cy:Va.y2,r:Va.r2})):(oa=$b(oa,l++,"linearGradient",Zf),kd(oa,{id:Va.id,x1:Va.x1,x2:Va.x2,y1:Va.y1,y2:Va.y2}));
Bb=0;for(Ya=Va.stops.length;Bb<Ya;++Bb)da=$b(oa,Bb,"stop",Zf),da.setAttribute("offset",Va.stops[Bb].offset),da.setAttribute("stop-color",Va.stops[Bb].color);J(oa,Bb)}for(const Ya in G.clipping)ia||(G.el=ia=$b(r,1,"defs",Zf)),oa=ia,Va=G.clipping[Ya],z=l,oa=$b(oa,z,"clipPath",Zf),oa.setAttribute("id",Va.id),Va.path?(l=$b(oa,0,"path",Zf),l.setAttribute("d",Va.path)):(l=$b(oa,0,"rect",Zf),kd(l,{x:0,y:0,width:Va.width,height:Va.height})),J(oa,1),l=z+1;ia&&(0===l?(r.removeChild(ia),G.el=null):J(ia,l))},
_clearDefs(){const r=this._defs;r.gradient={};r.clipping={}}});let ug=null,Df=null;const mh={group(r,G,ia){const l=ug=G.childNodes[2];Df=l.__values__;r.foreground(od,ia,this);Df=G.__values__;ug=G.childNodes[1];r.content(od,ia,this);G=ug=G.childNodes[0];r.background(od,ia,this);r=!1===ia.mark.interactive?"none":null;r!==Df.events&&(Fc(l,"pointer-events",r),Fc(G,"pointer-events",r),Df.events=r);ia.strokeForeground&&ia.stroke?(r=ia.fill,Fc(l,"display",null),this.style(G,ia),Fc(G,"stroke",null),r&&(ia.fill=
null),Df=l.__values__,this.style(l,ia),r&&(ia.fill=r),ug=null):Fc(l,"display","none")},image(r,G,ia){!1===ia.smooth?(Ec(G,"image-rendering","optimizeSpeed"),Ec(G,"image-rendering","pixelated")):Ec(G,"image-rendering",null)},text(r,G,ia){r=Hd(ia);let l,z,da;k.isArray(r)?(l=r.map(oa=>Gd(ia,oa)),r=l.join("\n"),r!==Df.text&&(J(G,0),z=G.ownerDocument,da=rd(ia),l.forEach((oa,Va)=>{const Ya=ec(z,"tspan",Zf);Ya.__data__=ia;Ya.textContent=oa;Va&&(Ya.setAttribute("x",0),Ya.setAttribute("dy",da));G.appendChild(Ya)}),
Df.text=r)):(l=Gd(ia,r),l!==Df.text&&(G.textContent=l,Df.text=l));Fc(G,"font-family",Wd(ia));Fc(G,"font-size",Nc(ia)+"px");Fc(G,"font-style",ia.fontStyle);Fc(G,"font-variant",ia.fontVariant);Fc(G,"font-weight",ia.fontWeight)}};k.inherits(Vd,Dc,{svg(){return this._text},_render(r){const G=Cd();G.open("svg",k.extend({},Rg,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ia=this._bgcolor;ia&&"transparent"!==ia&&"none"!==
ia&&G.open("rect",{width:this._width,height:this._height,fill:ia}).close();G.open("g",zg,{transform:"translate("+this._origin+")"});this.mark(G,r);G.close();this.defs(G);this._text=G.close()+"";return this},mark(r,G){const ia=Kg[G.marktype],l=ia.tag,z=[Lc,ia.attr];r.open("g",{"class":fa(G),"clip-path":G.clip?Zb(this,G,G.group):null},Wc(G),{"pointer-events":"g"!==l&&!1===G.interactive?"none":null});const da=oa=>{const Va=this.href(oa);Va&&r.open("a",Va);r.open(l,this.attr(G,oa,z,"g"!==l?l:null));if("text"===
l){var Ya=Hd(oa);if(k.isArray(Ya)){var Bb={x:0,dy:rd(oa)};for(var hc=0;hc<Ya.length;++hc)r.open("tspan",hc?Bb:null).text(Gd(oa,Ya[hc])).close()}else r.text(Gd(oa,Ya))}else"g"===l&&(Ya=oa.strokeForeground,Bb=oa.fill,hc=oa.stroke,Ya&&hc&&(oa.stroke=null),r.open("path",this.attr(G,oa,ia.background,"bgrect")).close(),r.open("g",this.attr(G,oa,ia.content)),Gb(oa,Ub=>this.mark(r,Ub)),r.close(),Ya&&hc?(Bb&&(oa.fill=null),oa.stroke=hc,r.open("path",this.attr(G,oa,ia.foreground,"bgrect")).close(),Bb&&(oa.fill=
Bb)):r.open("path",this.attr(G,oa,ia.foreground,"bgfore")).close());r.close();Va&&r.close()};ia.nested?G.items&&G.items.length&&da(G.items[0]):Gb(G,da);return r.close()},href(r){const G=r.href;if(G){if(r=this._hrefs&&this._hrefs[G])return r;this.sanitizeURL(G).then(ia=>{ia["xlink:href"]=ia.href;ia.href=null;(this._hrefs||(this._hrefs={}))[G]=ia})}return null},attr(r,G,ia,l){const z={},da=(oa,Va,Ya,Bb)=>{z[Bb||oa]=Va};Array.isArray(ia)?ia.forEach(oa=>oa(da,G,this)):ia(da,G,this);l&&ce(z,G,r,l,this._defs);
return z},defs(r){var G=this._defs.gradient;const ia=this._defs.clipping;if(0!==Object.keys(G).length+Object.keys(ia).length){r.open("defs");for(const z in G){var l=G[z];const da=l.stops;"radial"===l.gradient?(r.open("pattern",{id:"p_"+z,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r.open("rect",{width:"1",height:"1",fill:"url(#"+z+")"}).close(),r.close(),r.open("radialGradient",{id:z,fx:l.x1,fy:l.y1,fr:l.r1,cx:l.x2,cy:l.y2,r:l.r2})):r.open("linearGradient",
{id:z,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2});for(l=0;l<da.length;++l)r.open("stop",{offset:da[l].offset,"stop-color":da[l].color}).close();r.close()}for(const z in ia)G=ia[z],r.open("clipPath",{id:z}),G.path?r.open("path",{d:G.path}).close():r.open("rect",{x:0,y:0,width:G.width,height:G.height}).close(),r.close();r.close()}}});const Lg={};Lg.canvas=Lg.png={renderer:oc,headless:oc,handler:Tc};Lg.svg={renderer:xe,headless:Vd,handler:vd};Lg.none={};const Pf=new Sc;v.Bounds=Sc;v.CanvasHandler=Tc;v.CanvasRenderer=
oc;v.Gradient=function(r,G){var ia=[],l;return l={gradient:"linear",x1:r?r[0]:0,y1:r?r[1]:0,x2:G?G[0]:1,y2:G?G[1]:0,stops:ia,stop:function(z,da){ia.push({offset:z,color:da});return l}}};v.GroupItem=Ma;v.Handler=bc;v.Item=Pd;v.Marks=Kg;v.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};v.Renderer=Dc;v.ResourceLoader=Vb;v.SVGHandler=vd;v.SVGRenderer=xe;v.SVGStringRenderer=Vd;v.Scenegraph=cb;v.boundClip=function(r){const G=r.clip;if(k.isFunction(G))G(Tb(Pf.clear()));else if(G)Pf.set(0,0,
r.group.width,r.group.height);else return;r.bounds.intersect(Pf)};v.boundContext=Tb;v.boundItem=cf;v.boundMark=se;v.boundStroke=qb;v.domChild=$b;v.domClear=J;v.domCreate=ec;v.domFind=Cc;v.font=ae;v.fontFamily=Wd;v.fontSize=Nc;v.intersect=function(r,G,ia){const l=[];G=(new Sc).union(G);const z=r.marktype;return z?le(r,G,ia,l):"group"===z?O(r,G,ia,l):k.error("Intersect scene must be mark node or group item.")};v.intersectBoxLine=Ha;v.intersectPath=zc;v.intersectPoint=Zc;v.intersectRule=td;v.lineHeight=
rd;v.markup=Cd;v.multiLineOffset=function(r){const G=Hd(r);return(k.isArray(G)?G.length-1:0)*rd(r)};v.path=uc;v.pathCurves=H;v.pathEqual=ka;v.pathParse=V;v.pathRectangle=Jb;v.pathRender=Y;v.pathSymbols=L;v.pathTrail=yc;v.point=Sa;v.renderModule=function(r,G){r=String(r||"").toLowerCase();return 1<arguments.length?(Lg[r]=G,this):Lg[r]};v.resetSVGClipId=function(){hd=1};v.resetSVGDefIds=function(){hd=1;Ja=0};v.sceneEqual=I;v.sceneFromJSON=U;v.scenePickVisit=nc;v.sceneToJSON=uf;v.sceneVisit=Gb;v.sceneZOrder=
kb;v.serializeXML=Wh;v.textMetrics=Ah;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[46]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(43),Fb(42)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,ib){function Hb(g){const u=g||k.identity,m=[],C={};m.add=B=>{const A=u(B);C[A]||(C[A]=1,m.push(B));return m};m.remove=B=>{const A=u(B);C[A]&&(C[A]=0,B=m.indexOf(B),
0<=B&&m.splice(B,1));return m};return m}function ac(g,u){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield u(g)}catch(m){g.error(m)}})}function vc(g){g=g===Object(g)?g:{data:g};if(!g[Z]){var u=Fa++;g[Z]=u}return g}function Ac(g,u){for(const m in g)u[m]=g[m];return u}function uc(g){return g&&g.constructor===Cb}function Cb(){const g=[],u=[],m=[],C=[],B=[];let A=null,E=!1;return{constructor:Cb,insert(H){H=k.array(H);const V=H.length;for(let Aa=0;Aa<V;++Aa)g.push(H[Aa]);return this},
remove(H){const V=k.isFunction(H)?C:u;H=k.array(H);const Aa=H.length;for(let Y=0;Y<Aa;++Y)V.push(H[Y]);return this},modify(H,V,Aa){V={field:V,value:k.constant(Aa)};k.isFunction(H)?(V.filter=H,B.push(V)):(V.tuple=H,m.push(V));return this},encode(H,V){k.isFunction(H)?B.push({filter:H,field:V}):m.push({tuple:H,field:V});return this},clean(H){A=H;return this},reflow(){E=!0;return this},pulse(H,V){function Aa(Ca,Xa,Jb){Jb?Ca[Xa]=Jb(Ca):H.encode=Xa;E||(t[Ca[Z]]=Ca)}const Y={},t={};let L,va,La,Wa,$a,X;L=
0;for(va=V.length;L<va;++L)Y[V[L][Z]]=1;L=0;for(va=u.length;L<va;++L)$a=u[L],Y[$a[Z]]=-1;L=0;for(va=C.length;L<va;++L)Wa=C[L],V.forEach(Ca=>{Wa(Ca)&&(Y[Ca[Z]]=-1)});L=0;for(va=g.length;L<va;++L)$a=g[L],X=$a[Z],Y[X]?Y[X]=1:H.add.push(vc(g[L]));L=0;for(va=V.length;L<va;++L)$a=V[L],0>Y[$a[Z]]&&H.rem.push($a);L=0;for(va=m.length;L<va;++L)La=m[L],$a=La.tuple,Wa=La.field,X=Y[$a[Z]],0<X&&(Aa($a,Wa,La.value),H.modifies(Wa));L=0;for(va=B.length;L<va;++L)La=B[L],Wa=La.filter,V.forEach(Ca=>{Wa(Ca)&&0<Y[Ca[Z]]&&
Aa(Ca,La.field,La.value)}),H.modifies(La.field);if(E)H.mod=u.length||C.length?V.filter(Ca=>0<Y[Ca[Z]]):V.slice();else for(X in t)H.mod.push(t[X]);(A||null==A&&(u.length||C.length))&&H.clean(!0);return H}}}function jc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Yb(g,u,m,C){this.id=++Ga;this.value=g;this.qrank=this.rank=this.stamp=-1;this.flags=0;u&&(this._update=u);m&&this.parameters(m,C)}function Ua(g){return function(u){const m=this.flags;if(0===arguments.length)return!!(m&
g);this.flags=u?m|g:m&~g;return this}}function ub(g,u,m){this.id=++ba;this.value=null;m&&(this.receive=m);g&&(this._filter=g);u&&(this._apply=u)}function Kb(g,u,m){return new ub(g,u,m)}function Lb(g){let u;const m=new Promise(C=>u=C);m.requests=0;m.done=()=>{0===--m.requests&&(g._pending=null,u(g))};return g._pending=m}function Db(g,u,m,C,B,A){const E=k.extend({},A,ma);let H;k.isFunction(m)||(m=k.constant(m));void 0===C?B=V=>g.touch(m(V)):k.isFunction(C)?(H=new Yb(null,C,B,!1),B=V=>{H.evaluate(V);
V=m(V);const Aa=H.value;uc(Aa)?g.pulse(V,Aa,A):g.update(V,Aa,E)}):B=V=>g.update(m(V),C,E);u.apply(B)}function Pb(g,u,m,C,B,A){void 0===C?u.targets().add(m):(A=A||{},C=new Yb(null,ab(m,C),B,!1),C.modified(A.force),C.rank=u.rank,u.targets().add(C),m&&(C.skip(!0),C.value=m.value,C.targets().add(m),g.connect(m,[C])))}function ab(g,u){u=k.isFunction(u)?u:k.constant(u);return g?function(m,C){m=u(m,C);g.skip()||(g.skip(m!==this.value).value=m);return m}:u}function pb(g,u,m){this.dataflow=g;this.stamp=null==
u?-1:u;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Qa(g,u){const m=[];k.visitArray(g,u,C=>m.push(C));return m}function Da(g,u){const m={};g.visit(u,C=>{m[C[Z]]=1});return C=>m[C[Z]]?null:C}function Ka(g,u){return g?(m,C)=>g(m,C)&&u(m,C):u}function lb(g,u,m,C){const B=m.length;let A=0;this.dataflow=g;this.stamp=u;this.fields=null;this.encode=C||null;this.pulses=m;for(g=0;g<B;++g)if(C=m[g],C.stamp===u){if(C.fields){const E=this.fields||(this.fields={});for(const H in C.fields)E[H]=
1}C.changed(this.ADD)&&(A|=this.ADD);C.changed(this.REM)&&(A|=this.REM);C.changed(this.MOD)&&(A|=this.MOD)}this.changes=A}function mb(g){g.error("Dataflow already running. Use runAsync() to chain invocations.");return g}function Pa(g,u){if(u&&u.stamp===g.stamp)return u;g=g.fork();u&&u!==q&&(g.source=u.source);return g}function xb(g){let u=[];return{clear:()=>u=[],size:()=>u.length,peek:()=>u[0],push:m=>{u.push(m);return sb(u,0,u.length-1,g)},pop:()=>{var m=u.pop();let C;if(u.length){C=u[0];u[0]=m;
m=u;var B=0;const A=B,E=m.length,H=m[B];let V=(B<<1)+1,Aa;for(;V<E;)Aa=V+1,Aa<E&&0<=g(m[V],m[Aa])&&(V=Aa),m[B]=m[V],B=V,V=(B<<1)+1;m[B]=H;sb(m,A,B,g)}else C=m;return C}}}function sb(g,u,m,C){let B,A;const E=g[m];for(;m>u;)if(A=m-1>>1,B=g[A],0>C(E,B))g[m]=B,m=A;else break;return g[m]=E}function Qb(){this.logger(k.logger());this.logLevel(k.Error);this._rank=this._clock=0;this._locale=ib.defaultLocale();try{this._loader=P.loader()}catch(g){}this._touched=Hb(k.id);this._input={};this._pulse=null;this._heap=
xb((g,u)=>g.qrank-u.qrank);this._postrun=[]}function Wb(g){return function(){return this._log[g].apply(this,arguments)}}function nb(g,u){Yb.call(this,g,null,u)}function pa(g){g=g&&g.toLowerCase();return k.hasOwnProperty(Q,g)?Q[g]:null}const Z=Symbol("vega_id");let Fa=1;jc.prototype={set(g,u,m,C){const B=this[g],A=this["_:mod:_"];if(null!=u&&0<=u){if(B[u]!==m||C)B[u]=m,A[u+":"+g]=-1,A[g]=-1}else if(B!==m||C)this[g]=m,A[g]=k.isArray(m)?1+m.length:-1;return this},modified(g,u){const m=this["_:mod:_"];
if(!arguments.length){for(var C in m)if(m[C])return!0;return!1}if(k.isArray(g)){for(C=0;C<g.length;++C)if(m[g[C]])return!0;return!1}return null!=u&&0<=u?u+1<m[g]||!!m[u+":"+g]:!!m[g]},clear(){this["_:mod:_"]={};return this}};let Ga=0;const db=new jc;Yb.prototype={targets(){return this._targets||(this._targets=Hb(k.id))},set(g){return this.value!==g?(this.value=g,1):0},skip:Ua(1),modified:Ua(2),parameters(g,u,m){u=!1!==u;const C=this._argval=this._argval||new jc,B=this._argops=this._argops||[],A=[];
let E,H,V,Aa;const Y=(t,L,va)=>{va instanceof Yb?(va!==this&&(u&&va.targets().add(this),A.push(va)),B.push({op:va,name:t,index:L})):C.set(t,L,va)};for(E in g)if(H=g[E],"pulse"===E)k.array(H).forEach(t=>{t instanceof Yb?t!==this&&(t.targets().add(this),A.push(t)):k.error("Pulse parameters must be operator instances.")}),this.source=H;else if(k.isArray(H))for(C.set(E,-1,Array(V=H.length)),Aa=0;Aa<V;++Aa)Y(E,Aa,H[Aa]);else Y(E,-1,H);this.marshall().clear();m&&(B.initonly=!0);return A},marshall(g){const u=
this._argval||db,m=this._argops;let C,B,A,E;if(m){const H=m.length;for(B=0;B<H;++B)C=m[B],A=C.op,E=A.modified()&&A.stamp===g,u.set(C.name,C.index,A.value,E);if(m.initonly){for(B=0;B<H;++B)C=m[B],C.op.targets().remove(this);this._update=this._argops=null}}return u},detach(){const g=this._argops;let u,m;if(g)for(u=0,m=g.length;u<m;++u){var C=g[u];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(g){var u=this._update;if(u){const m=this.marshall(g.stamp);u=u.call(this,
m,g);m.clear();if(u!==this.value)this.value=u;else if(!this.modified())return g.StopPropagation}},run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?(this.skip(!1),u=0):u=this.evaluate(g);return this.pulse=u||g}};let ba=0;ub.prototype={_filter:k.truthy,_apply:k.identity,targets(){return this._targets||(this._targets=Hb(k.id))},consume(g){if(!arguments.length)return!!this._consume;this._consume=!!g;return this},receive(g){if(this._filter(g)){const u=this.value=this._apply(g),m=
this._targets,C=m?m.length:0;for(let B=0;B<C;++B)m[B].receive(u);this._consume&&(g.preventDefault(),g.stopPropagation())}},filter(g){g=Kb(g);this.targets().add(g);return g},apply(g){g=Kb(null,g);this.targets().add(g);return g},merge(){const g=Kb();this.targets().add(g);for(let u=0,m=arguments.length;u<m;++u)arguments[u].targets().add(g);return g},throttle(g){let u=-1;return this.filter(()=>{const m=Date.now();return m-u>g?(u=m,1):0})},debounce(g){const u=Kb();this.targets().add(Kb(null,null,k.debounce(g,
m=>{const C=m.dataflow;u.receive(m);C&&C.run&&C.run()})));return u},between(g,u){let m=!1;g.targets().add(Kb(null,null,()=>m=!0));u.targets().add(Kb(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=k.truthy;this._targets=null}};const ma={skip:!0},q={};pb.prototype={StopPropagation:q,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(g){return(new pb(this.dataflow)).init(this,g)},clone(){const g=this.fork(7);g.add=g.add.slice();g.rem=
g.rem.slice();g.mod=g.mod.slice();g.source&&(g.source=g.source.slice());return g.materialize(23)},addAll(){let g=this;g.source&&g.add!==g.rem&&(g.rem.length||g.source.length!==g.add.length)&&(g=(new pb(this.dataflow)).init(this),g.add=g.source,g.rem=[]);return g},init(g,u){this.stamp=g.stamp;this.encode=g.encode;!g.fields||u&64||(this.fields=g.fields);u&1?(this.addF=g.addF,this.add=g.add):(this.addF=null,this.add=[]);u&2?(this.remF=g.remF,this.rem=g.rem):(this.remF=null,this.rem=[]);u&4?(this.modF=
g.modF,this.mod=g.mod):(this.modF=null,this.mod=[]);u&32?this.source=this.srcF=null:(this.srcF=g.srcF,this.source=g.source,g.cleans&&(this.cleans=g.cleans));return this},runAfter(g){this.dataflow.runAfter(g)},changed(g){g=g||7;return g&1&&this.add.length||g&2&&this.rem.length||g&4&&this.mod.length},reflow(g){if(g)return this.fork(7).reflow();g=this.add.length;const u=this.source&&this.source.length;u&&u!==g&&(this.mod=this.source,g&&this.filter(4,Da(this,1)));return this},clean(g){return arguments.length?
(this.cleans=!!g,this):this.cleans},modifies(g){const u=this.fields||(this.fields={});k.isArray(g)?g.forEach(m=>u[m]=!0):u[g]=!0;return this},modified(g,u){const m=this.fields;return(u||this.mod.length)&&m?arguments.length?k.isArray(g)?g.some(C=>m[C]):m[g]:!!m:!1},filter(g,u){g&1&&(this.addF=Ka(this.addF,u));g&2&&(this.remF=Ka(this.remF,u));g&4&&(this.modF=Ka(this.modF,u));g&16&&(this.srcF=Ka(this.srcF,u));return this},materialize(g){g=g||7;g&1&&this.addF&&(this.add=Qa(this.add,this.addF),this.addF=
null);g&2&&this.remF&&(this.rem=Qa(this.rem,this.remF),this.remF=null);g&4&&this.modF&&(this.mod=Qa(this.mod,this.modF),this.modF=null);g&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(g,u){if(g&16)return k.visitArray(this.source,this.srcF,u),this;g&1&&k.visitArray(this.add,this.addF,u);g&2&&k.visitArray(this.rem,this.remF,u);g&4&&k.visitArray(this.mod,this.modF,u);const m=this.source;g&8&&m&&(g=this.add.length+this.mod.length,g!==m.length&&(g?k.visitArray(m,
Da(this,5),u):k.visitArray(m,this.srcF,u)));return this}};k.inherits(lb,pb,{fork(g){const u=(new pb(this.dataflow)).init(this,g&this.NO_FIELDS);void 0!==g&&(g&u.ADD&&this.visit(u.ADD,m=>u.add.push(m)),g&u.REM&&this.visit(u.REM,m=>u.rem.push(m)),g&u.MOD&&this.visit(u.MOD,m=>u.mod.push(m)));return u},changed(g){return this.changes&g},modified(g){const u=this.fields;return u&&this.changes&this.MOD?k.isArray(g)?g.some(m=>u[m]):u[g]:0},filter(){k.error("MultiPulse does not support filtering.")},materialize(){k.error("MultiPulse does not support materialization.")},
visit(g,u){const m=this.pulses,C=m.length;let B=0;if(g&this.SOURCE)for(;B<C;++B)m[B].visit(g,u);else for(;B<C;++B)m[B].stamp===this.stamp&&m[B].visit(g,u);return this}});const M={skip:!1,force:!1};Qb.prototype={stamp(){return this._clock},loader(g){return arguments.length?(this._loader=g,this):this._loader},locale(g){return arguments.length?(this._locale=g,this):this._locale},logger(g){return arguments.length?(this._log=g,this):this._log},error:Wb("error"),warn:Wb("warn"),info:Wb("info"),debug:Wb("debug"),
logLevel:Wb("level"),cleanThreshold:1E4,add:function(g,u,m,C){let B=1;g instanceof Yb||(g&&g.prototype instanceof Yb?g=new g:k.isFunction(g)?g=new Yb(null,g):(B=0,g=new Yb(g,u)));this.rank(g);B&&(C=m,m=u);m&&this.connect(g,g.parameters(m,C));this.touch(g);return g},connect:function(g,u){const m=g.rank,C=u.length;for(let B=0;B<C;++B)if(m<u[B].rank){this.rerank(g);break}},rank:function(g){g.rank=++this._rank},rerank:function(g){const u=[g];let m,C,B;for(;u.length;)if(this.rank(m=u.pop()),C=m._targets)for(B=
C.length;0<=--B;)u.push(m=C[B]),m===g&&k.error("Cycle detected in dataflow graph.")},pulse:function(g,u,m){this.touch(g,m||M);m=new pb(this,this._clock+(this._pulse?0:1));const C=g.pulse&&g.pulse.source||[];m.target=g;this._input[g.id]=u.pulse(m,C);return this},touch:function(g,u){u=u||M;this._pulse?this._enqueue(g):this._touched.add(g);u.skip&&g.skip(!0);return this},update:function(g,u,m){m=m||M;(g.set(u)||m.force)&&this.touch(g,m);return this},changeset:Cb,ingest:function(g,u,m){u=this.parse(u,
m);return this.pulse(g,this.changeset().insert(u))},parse:function(g,u){const m=this.locale();return P.read(g,u,m.timeParse,m.utcParse)},preload:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Lb(C);B.requests+=1;const A=yield C.request(u,m);C.pulse(g,C.changeset().remove(k.truthy).insert(A.data||[]));B.done();return A})},request:function(g,u){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=
yield m.loader().load(g,{context:"dataflow",response:P.responseType(u&&u.type)});try{B=m.parse(B,u)}catch(A){C=-2,m.warn("Data ingestion failed",g,A)}}catch(A){C=-1,m.warn("Loading failed",g,A)}return{data:B,status:C}})},events:function(g,u,m,C){const B=this,A=Kb(m,C);m=function(E){E.dataflow=B;try{A.receive(E)}catch(H){B.error(H)}finally{B.run()}};g="string"===typeof g&&"undefined"!==typeof document?document.querySelectorAll(g):k.array(g);C=g.length;for(let E=0;E<C;++E)g[E].addEventListener(u,m);
return A},on:function(g,u,m,C,B){(g instanceof Yb?Pb:Db)(this,g,u,m,C,B);return this},evaluate:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return mb(C);C._pending&&(yield C._pending);u&&(yield ac(C,u));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var A=++C._clock;C._pulse=new pb(C,A,g);C._touched.forEach(Y=>C._enqueue(Y,!0));C._touched=Hb(k.id);var E=0;let H,V,Aa;try{for(;0<C._heap.size();)H=
C._heap.pop(),H.rank!==H.qrank?C._enqueue(H,!0):(V=H.run(C._getPulse(H,g)),V.then?V=yield V:V.async&&(B.push(V.async),V=q),V!==q&&H._targets&&H._targets.forEach(Y=>C._enqueue(Y)),++E)}catch(Y){C._heap.clear(),Aa=Y}C._input={};C._pulse=null;C.debug(`Pulse ${A}: ${E} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(A=C._postrun.sort((Y,t)=>t.priority-Y.priority),C._postrun=[],E=0;E<A.length;++E)yield ac(C,A[E].callback);m&&(yield ac(C,m));B.length&&Promise.all(B).then(Y=>C.runAsync(null,
()=>{Y.forEach(t=>{try{t(C)}catch(L){C.error(L)}})}));return C})},run:function(g,u,m){return this._pulse?mb(this):(this.evaluate(g,u,m),this)},runAsync:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(g,u,m)).then(B,B);return C._running})},runAfter:function(g,u,m){if(this._pulse||u)this._postrun.push({priority:m||0,callback:g});else try{g(this)}catch(C){this.error(C)}},
_enqueue:function(g,u){const m=g.stamp<this._clock;m&&(g.stamp=this._clock);if(m||u)g.qrank=g.rank,this._heap.push(g)},_getPulse:function(g,u){const m=g.source,C=this._clock;return m&&k.isArray(m)?new lb(this,C,m.map(B=>B.pulse),u):this._input[g.id]||Pa(this._pulse,m&&m.pulse)}};k.inherits(nb,Yb,{run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?this.skip(!1):u=this.evaluate(g);u=u||g;u.then?u=u.then(m=>this.pulse=m):u!==g.StopPropagation&&(this.pulse=u);return u},evaluate(g){const u=
this.marshall(g.stamp);g=this.transform(u,g);u.clear();return g},transform(){}});const Q={};v.Dataflow=Qb;v.EventStream=ub;v.MultiPulse=lb;v.Operator=Yb;v.Parameters=jc;v.Pulse=pb;v.Transform=nb;v.UniqueList=Hb;v.asyncCallback=ac;v.changeset=Cb;v.definition=function(g){return(g=pa(g))&&g.Definition||null};v.derive=function(g){return Ac(g,vc({}))};v.ingest=vc;v.isChangeSet=uc;v.isTuple=function(g){return!(!g||!g[Z])};v.rederive=Ac;v.replace=function(g,u){u[Z]=g[Z];return u};v.stableCompare=function(g,
u){return g?u?(m,C)=>g(m,C)||u(m)[Z]-u(C)[Z]:(m,C)=>g(m,C)||m[Z]-C[Z]:null};v.transform=pa;v.transforms=Q;v.tupleid=function(g){return g[Z]};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[47]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(45),Fb(40),Fb(46),Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Hb){function ac(nb,pa){const Z=nb.bitmap();(pa||[]).forEach(Fa=>Z.set(nb(Fa.boundary[0]),nb(Fa.boundary[3])));
return[Z,void 0]}function vc(nb,pa,Z,Fa,Ga){const db=nb.width,ba=nb.height;Fa=Fa||Ga;const ma=P.canvas(db,ba).getContext("2d");var q=P.canvas(db,ba).getContext("2d"),M=Fa&&P.canvas(db,ba).getContext("2d");Z.forEach(H=>Ac(ma,H,!1));Ac(q,pa,!1);Fa&&Ac(M,pa,!0);pa=new Uint32Array(ma.getImageData(0,0,db,ba).data.buffer);Z=new Uint32Array(q.getImageData(0,0,db,ba).data.buffer);M=Fa&&new Uint32Array(M.getImageData(0,0,db,ba).data.buffer);q=nb.bitmap();const Q=Fa&&nb.bitmap();let g,u;let m,C,B,A;for(u=0;u<
ba;++u)for(g=0;g<db;++g){var E=u*db+g;C=pa[E]&4278190080;A=Z[E]&4278190080;B=Fa&&M[E]&4278190080;if(C||B||A)E=nb(g),m=nb(u),Ga||!C&&!A||q.set(E,m),Fa&&(C||B)&&Q.set(E,m)}return[q,Q]}function Ac(nb,pa,Z){if(pa.length){var Fa=pa[0].mark.marktype;"group"===Fa?pa.forEach(Ga=>{Ga.items.forEach(db=>Ac(nb,db.items,Z))}):k.Marks[Fa].draw(nb,{items:Z?pa.map(uc):pa})}}function uc(nb){nb=ib.rederive(nb,{});return nb.stroke&&0!==nb.strokeOpacity||nb.fill&&0!==nb.fillOpacity?Object.assign({},nb,{strokeOpacity:1,
stroke:"#000",fillOpacity:0}):nb}function Cb(nb,pa){const Z=new Uint32Array(~~((nb*pa+32)/32));return{array:Z,get:(Fa,Ga)=>{Fa=Ga*nb+Fa;return Z[Fa>>>5]&1<<(Fa&31)},set:(Fa,Ga)=>{Fa=Ga*nb+Fa;Z[Fa>>>5]|=1<<(Fa&31)},clear:(Fa,Ga)=>{Fa=Ga*nb+Fa;Z[Fa>>>5]&=~(1<<(Fa&31))},getRange:(Fa,Ga,db,ba)=>{let ma,q,M;for(;ba>=Ga;--ba){var Q=ba*nb+Fa;ma=ba*nb+db;q=Q>>>5;M=ma>>>5;if(q===M){if(Z[q]&Qa[Q&31]&Da[(ma&31)+1])return!0}else{if(Z[q]&Qa[Q&31]||Z[M]&Da[(ma&31)+1])return!0;for(Q=q+1;Q<M;++Q)if(Z[Q])return!0}}return!1},
setRange:(Fa,Ga,db,ba)=>{let ma,q,M;for(;Ga<=ba;++Ga){var Q=Ga*nb+Fa;ma=Ga*nb+db;q=Q>>>5;M=ma>>>5;if(q===M)Z[q]|=Qa[Q&31]&Da[(ma&31)+1];else for(Z[q]|=Qa[Q&31],Z[M]|=Da[(ma&31)+1],Q=q+1;Q<M;++Q)Z[Q]|=4294967295}},clearRange:(Fa,Ga,db,ba)=>{let ma,q,M;for(;Ga<=ba;++Ga){var Q=Ga*nb+Fa;ma=Ga*nb+db;q=Q>>>5;M=ma>>>5;if(q===M)Z[q]&=Da[Q&31]|Qa[(ma&31)+1];else for(Z[q]&=Da[Q&31],Z[M]&=Qa[(ma&31)+1],Q=q+1;Q<M;++Q)Z[Q]&=0}},outOfBounds:(Fa,Ga,db,ba)=>0>Fa||0>Ga||ba>=pa||db>=nb}}function jc(nb,pa,Z){const Fa=
Math.max(1,Math.sqrt(nb*pa/1E6)),Ga=~~((nb+2*Z+Fa)/Fa),db=~~((pa+2*Z+Fa)/Fa),ba=ma=>~~((ma+Z)/Fa);ba.invert=ma=>ma*Fa-Z;ba.bitmap=()=>Cb(Ga,db);ba.ratio=Fa;ba.padding=Z;ba.width=nb;ba.height=pa;return ba}function Yb(nb,pa,Z,Fa,Ga,db){Z/=2;return 0>nb-Z||nb+Z>Ga||0>pa-(Z=Fa/2)||pa+Z>db}function Ua(nb,pa,Z,Fa,Ga,db,ba,ma){Ga=Ga*db/(2*Fa);Fa=nb(pa-Ga);pa=nb(pa+Ga);Ga=nb(Z-(db/=2));nb=nb(Z+db);return ba.outOfBounds(Fa,Ga,pa,nb)||ba.getRange(Fa,Ga,pa,nb)||ma&&ma.getRange(Fa,Ga,pa,nb)}function ub(nb,pa,
Z,Fa){const Ga=nb.width,db=nb.height,ba=pa[0],ma=pa[1],q=Fa.length;return function(M){const Q=M.boundary,g=M.datum.fontSize;if(0>Q[2]||0>Q[5]||Q[0]>Ga||Q[3]>db)return!1;var u;let m=null!=(u=M.textWidth)?u:0,C;let B,A;let E;let H;let V,Aa;for(let sc=0;sc<q;++sc){u=(Z[sc]&3)-1;C=(Z[sc]>>>2&3)-1;var Y=0===u&&0===C||0>Fa[sc];var t=u&&C?Math.SQRT1_2:1;B=0>Fa[sc]?-1:1;A=Q[1+u]+Fa[sc]*u*t;H=Q[4+C]+B*g*C/2+Fa[sc]*C*t;t=H-g/2;E=H+g/2;var L=nb(A);V=nb(t);Aa=nb(E);if(!m){var va=L;var La=V;var Wa=Aa;var $a=ba,
X=ma,Ca=Y;if($a.outOfBounds(va,La,L,Wa)||(Ca&&X||$a).getRange(va,La,L,Wa))continue;else m=k.textMetrics.width(M.datum,M.datum.text)}La=A+B*m*u/2;A=La-m/2;va=La+m/2;L=nb(A);Wa=nb(va);$a=L;X=Wa;Ca=V;var Xa=Aa,Jb=ba,yc=ma;if(!Jb.outOfBounds($a,Ca,X,Xa)&&!(Y&&yc||Jb).getRange($a,Ca,X,Xa))return M.x=u?0>u*B?va:A:La,M.y=C?0>C*B?E:t:H,M.align=mb[u*B+1],M.baseline=Pa[C*B+1],ba.setRange(L,V,Wa,Aa),!0}return!1}}function Kb(nb,pa,Z,Fa,Ga,db,ba,ma,q,M,Q){if(!nb.length)return nb;var g=Math.max(Fa.length,Ga.length);
const u=Lb(Fa,g);Ga=Db(Ga,g);const m=Pb(nb[0].datum);var C="group"===m&&nb[0].datum.items[q].marktype;g="area"===C;const B=ab(m,C,ma,q),A=null===M||Infinity===M;C=g&&"naive"===Q;let E=-1,H=-1;ma=nb.map(Y=>{const t=A?k.textMetrics.width(Y,Y.text):void 0;E=Math.max(E,t);H=Math.max(H,Y.fontSize);return{datum:Y,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:B(Y),textWidth:t}});M=null===M||Infinity===M?Math.max(E,H)+Math.max(...Fa):M;pa=jc(pa[0],pa[1],M);if(!C){Z&&ma.sort((Y,t)=>Z(Y.datum,
t.datum));var V=!1;for(Fa=0;Fa<Ga.length&&!V;++Fa)V=5===Ga[Fa]||0>u[Fa];nb=(m&&ba||g)&&nb.map(Y=>Y.datum);V=db.length||nb?vc(pa,nb||[],db,V,g):ac(pa,ba&&ma)}const Aa=g?sb[Q](pa,V,ba,q):ub(pa,V,Ga,u);ma.forEach(Y=>Y.opacity=+Aa(Y));return ma}function Lb(nb,pa){const Z=new Float64Array(pa),Fa=nb.length;for(let Ga=0;Ga<Fa;++Ga)Z[Ga]=nb[Ga]||0;for(nb=Fa;nb<pa;++nb)Z[nb]=Z[Fa-1];return Z}function Db(nb,pa){const Z=new Int8Array(pa),Fa=nb.length;for(let Ga=0;Ga<Fa;++Ga)Z[Ga]|=xb[nb[Ga]];for(nb=Fa;nb<pa;++nb)Z[nb]=
Z[Fa-1];return Z}function Pb(nb){return nb&&nb.mark&&nb.mark.marktype}function ab(nb,pa,Z,Fa){const Ga=db=>[db.x,db.x,db.x,db.y,db.y,db.y];return nb?"line"===nb||"area"===nb?db=>Ga(db.datum):"line"===pa?db=>{db=db.datum.items[Fa].items;return Ga(db.length?db["start"===Z?0:db.length-1]:{x:NaN,y:NaN})}:db=>{db=db.datum.bounds;return[db.x1,(db.x1+db.x2)/2,db.x2,db.y1,(db.y1+db.y2)/2,db.y2]}:Ga}function pb(nb){ib.Transform.call(this,null,nb)}const Qa=new Uint32Array(33),Da=new Uint32Array(33);Da[0]=0;
Qa[0]=~Da[0];for(let nb=1;32>=nb;++nb)Da[nb]=Da[nb-1]<<1|1,Qa[nb]=~Da[nb];const Ka=[-1,-1,1,1],lb=[-1,1,-1,1],mb=["right","center","left"],Pa=["bottom","middle","top"],xb={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},sb={naive:function(nb,pa,Z,Fa){const Ga=nb.width,db=nb.height;return function(ba){const ma=ba.datum.datum.items[Fa].items,q=ma.length,M=ba.datum.fontSize,Q=k.textMetrics.width(ba.datum,ba.datum.text);let g=0;let u,m,C,B,A;for(let H=
0;H<q;++H){var E=ma[H].x;m=ma[H].y;u=void 0===ma[H].x2?E:ma[H].x2;C=void 0===ma[H].y2?m:ma[H].y2;B=(E+u)/2;A=(m+C)/2;E=Math.abs(u-E+C-m);E>=g&&(g=E,ba.x=B,ba.y=A)}B=Q/2;A=M/2;E=ba.x-B;u=ba.x+B;m=ba.y-A;C=ba.y+A;ba.align="center";0>E&&u<=Ga?ba.align="left":0<=E&&Ga<u&&(ba.align="right");ba.baseline="middle";0>m&&C<=db?ba.baseline="top":0<=m&&db<C&&(ba.baseline="bottom");return!0}},"reduced-search":function(nb,pa,Z,Fa){function Ga(M,Q,g,u,m){M=nb.invert(M);Q=nb.invert(Q);let C=g,B=ba,A;if(!Yb(M,Q,u,
m,db,ba)&&!Ua(nb,M,Q,m,u,C,ma,q)&&!Ua(nb,M,Q,m,u,m,ma,null)){for(;1<=B-C;)A=(C+B)/2,Ua(nb,M,Q,m,u,A,ma,q)?B=A:C=A;if(C>g)return[M,Q,C,!0]}}const db=nb.width,ba=nb.height,ma=pa[0],q=pa[1];return function(M){const Q=M.datum.datum.items[Fa].items,g=Q.length,u=M.datum.fontSize,m=k.textMetrics.width(M.datum,M.datum.text);let C=Z?u:0,B=!1,A=!1,E=0;let H;let V;let Aa,Y,t,L,va,La,Wa,$a;for(let Jb=0;Jb<g;++Jb){var X=Q[Jb].x;var Ca=Q[Jb].y;H=void 0===Q[Jb].x2?X:Q[Jb].x2;V=void 0===Q[Jb].y2?Ca:Q[Jb].y2;if(X>
H){var Xa=X;X=H;H=Xa}Ca>V&&(Xa=Ca,Ca=V,V=Xa);Y=nb(X);L=nb(H);t=~~((Y+L)/2);va=nb(Ca);Wa=nb(V);La=~~((va+Wa)/2);for(Xa=t;Xa>=Y;--Xa)for(Aa=La;Aa>=va;--Aa)($a=Ga(Xa,Aa,C,m,u))&&([M.x,M.y,C,B]=$a);for(Xa=t;Xa<=L;++Xa)for(Aa=La;Aa<=Wa;++Aa)($a=Ga(Xa,Aa,C,m,u))&&([M.x,M.y,C,B]=$a);B||Z||(Xa=Math.abs(H-X+V-Ca),X=(X+H)/2,Ca=(Ca+V)/2,Xa>=E&&!Yb(X,Ca,m,u,db,ba)&&!Ua(nb,X,Ca,u,m,u,ma,null)&&(E=Xa,M.x=X,M.y=Ca,A=!0))}return B||A?(X=m/2,Ca=u/2,ma.setRange(nb(M.x-X),nb(M.y-Ca),nb(M.x+X),nb(M.y+Ca)),M.align="center",
M.baseline="middle",!0):!1}},floodfill:function(nb,pa,Z,Fa){const Ga=nb.width,db=nb.height,ba=pa[0],ma=pa[1],q=nb.bitmap();return function(M){const Q=M.datum.datum.items[Fa].items,g=Q.length,u=M.datum.fontSize,m=k.textMetrics.width(M.datum,M.datum.text),C=[];let B=Z?u:0,A=!1,E=!1,H=0,V,Aa,Y,t,L,va;var La;for(let X=0;X<g;++X){V=Q[X].x;Y=Q[X].y;Aa=void 0===Q[X].x2?V:Q[X].x2;t=void 0===Q[X].y2?Y:Q[X].y2;for(C.push([nb((V+Aa)/2),nb((Y+t)/2)]);C.length;)if([Wa,$a]=C.pop(),!(ba.get(Wa,$a)||ma.get(Wa,$a)||
q.get(Wa,$a))){q.set(Wa,$a);for(La=0;4>La;++La)L=Wa+Ka[La],va=$a+lb[La],q.outOfBounds(L,va,L,va)||C.push([L,va]);L=nb.invert(Wa);va=nb.invert($a);var Wa=B;var $a=db;if(!Yb(L,va,m,u,Ga,db)&&!Ua(nb,L,va,u,m,Wa,ba,ma)&&!Ua(nb,L,va,u,m,u,ba,null)){for(;1<=$a-Wa;)La=(Wa+$a)/2,Ua(nb,L,va,u,m,La,ba,ma)?$a=La:Wa=La;Wa>B&&(M.x=L,M.y=va,B=Wa,A=!0)}}A||Z||(Wa=Math.abs(Aa-V+t-Y),L=(V+Aa)/2,va=(Y+t)/2,Wa>=H&&!Yb(L,va,m,u,Ga,db)&&!Ua(nb,L,va,u,m,u,ba,null)&&(H=Wa,M.x=L,M.y=va,E=!0))}return A||E?(L=m/2,va=u/2,ba.setRange(nb(M.x-
L),nb(M.y-va),nb(M.x+L),nb(M.y+va)),M.align="center",M.baseline="middle",!0):!1}}},Qb=["x","y","opacity","align","baseline"],Wb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");pb.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Wb},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},
{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Qb.length,default:Qb}]};Hb.inherits(pb,ib.Transform,{transform(nb,pa){function Z(db){db=nb[db];return Hb.isFunction(db)&&pa.modified(db.fields)}const Fa=nb.modified();if(Fa||pa.changed(pa.ADD_REM)||Z("sort")){nb.size&&
2===nb.size.length||Hb.error("Size parameter should be specified as a [width, height] array.");var Ga=nb.as||Qb;Kb(pa.materialize(pa.SOURCE).source||[],nb.size,nb.sort,Hb.array(null==nb.offset?1:nb.offset),Hb.array(nb.anchor||Wb),nb.avoidMarks||[],!1!==nb.avoidBaseMark,nb.lineAnchor||"end",nb.markIndex||0,void 0===nb.padding?0:nb.padding,nb.method||"naive").forEach(db=>{const ba=db.datum;ba[Ga[0]]=db.x;ba[Ga[1]]=db.y;ba[Ga[2]]=db.opacity;ba[Ga[3]]=db.align;ba[Ga[4]]=db.baseline});return pa.reflow(Fa).modifies(Ga)}}});
v.label=pb})};
shadow$provide[48]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function P(t){const L=k.array(t).slice(),va={};L.length||k.error("Missing time unit.");L.forEach(La=>{k.hasOwnProperty(Da,La)?va[La]=1:k.error(`Invalid time unit: ${La}.`)});1<(va.week||va.day?1:0)+(va.quarter||va.month||
va.date?1:0)+(va.dayofyear?1:0)&&k.error(`Incompatible time units: ${t}`);L.sort((La,Wa)=>Da[La]-Da[Wa]);return L}function ib(t,L,va,La){function Wa($a){return t($a=0===arguments.length?new Date:new Date(+$a)),$a}Wa.floor=function($a){return t($a=new Date(+$a)),$a};Wa.ceil=function($a){return t($a=new Date($a-1)),L($a,1),t($a),$a};Wa.round=function($a){var X=Wa($a),Ca=Wa.ceil($a);return $a-X<Ca-$a?X:Ca};Wa.offset=function($a,X){return L($a=new Date(+$a),null==X?1:Math.floor(X)),$a};Wa.range=function($a,
X,Ca){var Xa=[],Jb;$a=Wa.ceil($a);Ca=null==Ca?1:Math.floor(Ca);if(!($a<X&&0<Ca))return Xa;do Xa.push(Jb=new Date(+$a)),L($a,Ca),t($a);while(Jb<$a&&$a<X);return Xa};Wa.filter=function($a){return ib(function(X){if(X>=X)for(;t(X),!$a(X);)X.setTime(X-1)},function(X,Ca){if(X>=X)if(0>Ca)for(;0>=++Ca;)for(;L(X,-1),!$a(X););else for(;0<=--Ca;)for(;L(X,1),!$a(X););})};va&&(Wa.count=function($a,X){lb.setTime(+$a);mb.setTime(+X);t(lb);t(mb);return Math.floor(va(lb,mb))},Wa.every=function($a){$a=Math.floor($a);
return isFinite($a)&&0<$a?1<$a?Wa.filter(La?function(X){return 0===La(X)%$a}:function(X){return 0===Wa.count(0,X)%$a}):Wa:null});return Wa}function Hb(t){return ib(function(L){L.setDate(L.getDate()-(L.getDay()+7-t)%7);L.setHours(0,0,0,0)},function(L,va){L.setDate(L.getDate()+7*va)},function(L,va){return(va-L-6E4*(va.getTimezoneOffset()-L.getTimezoneOffset()))/6048E5})}function ac(t){return ib(function(L){L.setUTCDate(L.getUTCDate()-(L.getUTCDay()+7-t)%7);L.setUTCHours(0,0,0,0)},function(L,va){L.setUTCDate(L.getUTCDate()+
7*va)},function(L,va){return(va-L)/6048E5})}function vc(t,L){return null==t||null==L?NaN:t<L?-1:t>L?1:t>=L?0:NaN}function Ac(t){function L($a,X,Ca=0,Xa=$a.length){if(Ca<Xa){if(0!==La(X,X))return Xa;do{const Jb=Ca+Xa>>>1;0>Wa($a[Jb],X)?Ca=Jb+1:Xa=Jb}while(Ca<Xa)}return Ca}let va=t,La=t,Wa=t;2!==t.length&&(va=($a,X)=>t($a)-X,La=vc,Wa=($a,X)=>vc(t($a),X));return{left:L,center:function($a,X,Ca=0,Xa=$a.length){Xa=L($a,X,Ca,Xa-1);return Xa>Ca&&va($a[Xa-1],X)>-va($a[Xa],X)?Xa-1:Xa},right:function($a,X,Ca=
0,Xa=$a.length){if(Ca<Xa){if(0!==La(X,X))return Xa;do{const Jb=Ca+Xa>>>1;0>=Wa($a[Jb],X)?Ca=Jb+1:Xa=Jb}while(Ca<Xa)}return Ca}}}function uc(t,L,va){var La=Math.abs(L-t)/Math.max(0,va);va=Math.pow(10,Math.floor(Math.log(La)/Math.LN10));La/=va;La>=M?va*=10:La>=Q?va*=5:La>=g&&(va*=2);return L<t?-va:va}function Cb(t){u.setFullYear(t);u.setMonth(0);u.setDate(1);u.setHours(0,0,0,0);return u}function jc(t){return Wb.count(Cb(t.getFullYear())-1,t)}function Yb(t){return nb.count(Cb(t.getFullYear())-1,t)}function Ua(t,
L,va,La,Wa,$a,X){return 0<=t&&100>t?(L=new Date(-1,L,va,La,Wa,$a,X),L.setFullYear(t),L):new Date(t,L,va,La,Wa,$a,X)}function ub(t){const L=Date.UTC(t.getUTCFullYear(),0,1);return db.count(L-1,t)}function Kb(t){const L=Date.UTC(t.getUTCFullYear(),0,1);return ba.count(L-1,t)}function Lb(t){u.setTime(Date.UTC(t,0,1));return u.getUTCDay()}function Db(t,L,va,La,Wa,$a,X){return 0<=t&&100>t?(t=new Date(Date.UTC(-1,L,va,La,Wa,$a,X)),t.setUTCFullYear(va.y),t):new Date(Date.UTC(t,L,va,La,Wa,$a,X))}function Pb(t,
L,va,La,Wa){const $a=L||1,X=k.peek(t);L=(Sc,Pd,Ma)=>{Ma=Ma||Sc;return ab(va[Ma],La[Ma],Sc===X&&$a,Pd)};const Ca=new Date;t=k.toSet(t);const Xa=t.year?L("year"):k.constant(2012),Jb=t.month?L("month"):t.quarter?L("quarter"):k.zero,yc=t.week&&t.day?L("day",1,"weekday"):t.week?L("week",1):t.day?L("day",1):t.date?L("date",1):t.dayofyear?L("dayofyear",1):k.one,sc=t.hours?L("hours"):k.zero,xc=t.minutes?L("minutes"):k.zero,dd=t.seconds?L("seconds"):k.zero,Zb=t.milliseconds?L("milliseconds"):k.zero;return function(Sc){Ca.setTime(+Sc);
Sc=Xa(Ca);return Wa(Sc,Jb(Ca),yc(Ca,Sc),sc(Ca),xc(Ca),dd(Ca),Zb(Ca))}}function ab(t,L,va,La){const Wa=1>=va?t:La?($a,X)=>La+va*Math.floor((t($a,X)-La)/va):($a,X)=>va*Math.floor(t($a,X)/va);return L?($a,X)=>L(Wa($a,X),X):Wa}function pb(t,L,va){return L+7*t-(va+6)%7}const Qa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Da=Qa.reduce((t,L,va)=>(t[L]=1+va,t),{}),Ka={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var lb=new Date,mb=new Date,Pa=ib(function(){},function(t,L){t.setTime(+t+L)},function(t,L){return L-t});Pa.every=function(t){t=Math.floor(t);return isFinite(t)&&0<t?1<t?ib(function(L){L.setTime(Math.floor(L/t)*t)},function(L,va){L.setTime(+L+va*t)},function(L,va){return(va-L)/t}):Pa:null};var xb=ib(function(t){t.setTime(t-t.getMilliseconds())},function(t,L){t.setTime(+t+
1E3*L)},function(t,L){return(L-t)/1E3},function(t){return t.getUTCSeconds()}),sb=ib(function(t){t.setTime(t-t.getMilliseconds()-1E3*t.getSeconds())},function(t,L){t.setTime(+t+6E4*L)},function(t,L){return(L-t)/6E4},function(t){return t.getMinutes()}),Qb=ib(function(t){t.setTime(t-t.getMilliseconds()-1E3*t.getSeconds()-6E4*t.getMinutes())},function(t,L){t.setTime(+t+36E5*L)},function(t,L){return(L-t)/36E5},function(t){return t.getHours()}),Wb=ib(t=>t.setHours(0,0,0,0),(t,L)=>t.setDate(t.getDate()+
L),(t,L)=>(L-t-6E4*(L.getTimezoneOffset()-t.getTimezoneOffset()))/864E5,t=>t.getDate()-1),nb=Hb(0);Hb(1);Hb(2);Hb(3);Hb(4);Hb(5);Hb(6);var pa=ib(function(t){t.setDate(1);t.setHours(0,0,0,0)},function(t,L){t.setMonth(t.getMonth()+L)},function(t,L){return L.getMonth()-t.getMonth()+12*(L.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Z=ib(function(t){t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,L){t.setFullYear(t.getFullYear()+L)},function(t,L){return L.getFullYear()-t.getFullYear()},
function(t){return t.getFullYear()});Z.every=function(t){return isFinite(t=Math.floor(t))&&0<t?ib(function(L){L.setFullYear(Math.floor(L.getFullYear()/t)*t);L.setMonth(0,1);L.setHours(0,0,0,0)},function(L,va){L.setFullYear(L.getFullYear()+va*t)}):null};var Fa=ib(function(t){t.setUTCSeconds(0,0)},function(t,L){t.setTime(+t+6E4*L)},function(t,L){return(L-t)/6E4},function(t){return t.getUTCMinutes()}),Ga=ib(function(t){t.setUTCMinutes(0,0,0)},function(t,L){t.setTime(+t+36E5*L)},function(t,L){return(L-
t)/36E5},function(t){return t.getUTCHours()}),db=ib(function(t){t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCDate(t.getUTCDate()+L)},function(t,L){return(L-t)/864E5},function(t){return t.getUTCDate()-1}),ba=ac(0);ac(1);ac(2);ac(3);ac(4);ac(5);ac(6);var ma=ib(function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCMonth(t.getUTCMonth()+L)},function(t,L){return L.getUTCMonth()-t.getUTCMonth()+12*(L.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),q=ib(function(t){t.setUTCMonth(0,
1);t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCFullYear(t.getUTCFullYear()+L)},function(t,L){return L.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});q.every=function(t){return isFinite(t=Math.floor(t))&&0<t?ib(function(L){L.setUTCFullYear(Math.floor(L.getUTCFullYear()/t)*t);L.setUTCMonth(0,1);L.setUTCHours(0,0,0,0)},function(L,va){L.setUTCFullYear(L.getUTCFullYear()+va*t)}):null};var M=Math.sqrt(50),Q=Math.sqrt(10),g=Math.sqrt(2);const u=new Date,m={year:t=>t.getFullYear(),
quarter:t=>Math.floor(t.getMonth()/3),month:t=>t.getMonth(),date:t=>t.getDate(),hours:t=>t.getHours(),minutes:t=>t.getMinutes(),seconds:t=>t.getSeconds(),milliseconds:t=>t.getMilliseconds(),dayofyear:t=>jc(t),week:t=>Yb(t),weekday:(t,L)=>pb(Yb(t),t.getDay(),Cb(L).getDay()),day:(t,L)=>pb(1,t.getDay(),Cb(L).getDay())},C={quarter:t=>3*t,week:(t,L)=>pb(t,0,Cb(L).getDay())},B={year:t=>t.getUTCFullYear(),quarter:t=>Math.floor(t.getUTCMonth()/3),month:t=>t.getUTCMonth(),date:t=>t.getUTCDate(),hours:t=>t.getUTCHours(),
minutes:t=>t.getUTCMinutes(),seconds:t=>t.getUTCSeconds(),milliseconds:t=>t.getUTCMilliseconds(),dayofyear:t=>ub(t),week:t=>Kb(t),day:(t,L)=>pb(1,t.getUTCDay(),Lb(L)),weekday:(t,L)=>pb(Kb(t),t.getUTCDay(),Lb(L))},A={quarter:t=>3*t,week:(t,L)=>pb(t,0,Lb(L))},E={year:Z,quarter:pa.every(3),month:pa,week:nb,date:Wb,day:Wb,dayofyear:Wb,hours:Qb,minutes:sb,seconds:xb,milliseconds:Pa},H={year:q,quarter:ma.every(3),month:ma,week:ba,date:db,day:db,dayofyear:db,hours:Ga,minutes:Fa,seconds:xb,milliseconds:Pa},
V="year month date hours minutes seconds milliseconds".split(" ");xb=V.slice(0,-1);sb=xb.slice(0,-1);Qb=sb.slice(0,-1);pa=Qb.slice(0,-1);Z=["year","month"];const Aa=["year"],Y=[[xb,1,1E3],[xb,5,5E3],[xb,15,15E3],[xb,30,3E4],[sb,1,6E4],[sb,5,3E5],[sb,15,9E5],[sb,30,18E5],[Qb,1,36E5],[Qb,3,108E5],[Qb,6,216E5],[Qb,12,432E5],[pa,1,864E5],[["year","week"],1,6048E5],[Z,1,2592E6],[Z,3,7776E6],[Aa,1,31536E6]];v.DATE="date";v.DAY="day";v.DAYOFYEAR="dayofyear";v.HOURS="hours";v.MILLISECONDS="milliseconds";
v.MINUTES="minutes";v.MONTH="month";v.QUARTER="quarter";v.SECONDS="seconds";v.TIME_UNITS=Qa;v.WEEK="week";v.YEAR="year";v.dayofyear=function(t){return jc(new Date(t))};v.timeBin=function(t){var L=t.extent;t=t.maxbins||40;var va=Math.abs(k.span(L))/t;let La=Ac(Wa=>Wa[2]).right(Y,va);La===Y.length?(va=Aa,L=uc(L[0]/31536E6,L[1]/31536E6,t)):La?(La=Y[va/Y[La-1][2]<Y[La][2]/va?La-1:La],va=La[0],L=La[1]):(va=V,L=Math.max(uc(L[0],L[1],t),1));return{units:va,step:L}};v.timeFloor=function(t,L){return Pb(t,
L||1,m,C,Ua)};v.timeInterval=function(t){return E[t]};v.timeOffset=function(t,L,va){return(t=E[t])?t.offset(L,va):void 0};v.timeSequence=function(t,L,va,La){return(t=E[t])?t.range(L,va,La):void 0};v.timeUnitSpecifier=function(t,L){L=k.extend({},Ka,L);t=P(t);const va=t.length;let La="",Wa,$a,X;for(Wa=0;Wa<va;)for($a=t.length;$a>Wa;--$a)if(X=t.slice(Wa,$a).join("-"),null!=L[X]){La+=L[X];Wa=$a;break}return La.trim()};v.timeUnits=P;v.utcFloor=function(t,L){return Pb(t,L||1,B,A,Db)};v.utcInterval=function(t){return H[t]};
v.utcOffset=function(t,L,va){return(t=H[t])?t.offset(L,va):void 0};v.utcSequence=function(t,L,va,La){return(t=H[t])?t.range(L,va,La):void 0};v.utcdayofyear=function(t){return ub(new Date(t))};v.utcweek=function(t){return Kb(new Date(t))};v.week=function(t){return Yb(new Date(t))};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[49]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(48),Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(J){const fa={};return Sa=>fa[Sa]||(fa[Sa]=J(Sa))}function Hb(J,fa){if(0>(fa=(J=fa?J.toExponential(fa-1):J.toExponential()).indexOf("e")))return null;var Sa=J.slice(0,fa);return[1<
Sa.length?Sa[0]+Sa.slice(2):Sa,+J.slice(fa+1)]}function ac(J){return J=Hb(Math.abs(J)),J?J[1]:NaN}function vc(J,fa){return function(Sa,bc){for(var Pc=Sa.length,Dc=[],Tc=0,gd=J[0],ee=0;0<Pc&&0<gd;){ee+gd+1>bc&&(gd=Math.max(1,bc-ee));Dc.push(Sa.substring(Pc-=gd,Pc+gd));if((ee+=gd+1)>bc)break;gd=J[Tc=(Tc+1)%J.length]}return Dc.reverse().join(fa)}}function Ac(J){return function(fa){return fa.replace(/[0-9]/g,function(Sa){return J[+Sa]})}}function uc(J){if(!(fa=Ud.exec(J)))throw Error("invalid format: "+
J);var fa;return new Cb({fill:fa[1],align:fa[2],sign:fa[3],symbol:fa[4],zero:fa[5],width:fa[6],comma:fa[7],precision:fa[8]&&fa[8].slice(1),trim:fa[9],type:fa[10]})}function Cb(J){this.fill=void 0===J.fill?" ":J.fill+"";this.align=void 0===J.align?"\x3e":J.align+"";this.sign=void 0===J.sign?"-":J.sign+"";this.symbol=void 0===J.symbol?"":J.symbol+"";this.zero=!!J.zero;this.width=void 0===J.width?void 0:+J.width;this.comma=!!J.comma;this.precision=void 0===J.precision?void 0:+J.precision;this.trim=!!J.trim;
this.type=void 0===J.type?"":J.type+""}function jc(J,fa){fa=Hb(J,fa);if(!fa)return J+"";J=fa[0];fa=fa[1];return 0>fa?"0."+Array(-fa).join("0")+J:J.length>fa+1?J.slice(0,fa+1)+"."+J.slice(fa+1):J+Array(fa-J.length+2).join("0")}function Yb(J){return J}function Ua(J){function fa(eb){function oc(Ec){var kd=Le,Fc=Xe,Jd,Vd;if("c"===xe)Fc=df(Ec)+Fc,Ec="";else{Ec=+Ec;var ce=0>Ec||0>1/Ec;Ec=isNaN(Ec)?Ra:df(Math.abs(Ec),Cd);if(be){var le=Ec.length,O=1,ea=-1;a:for(;O<le;++O)switch(Ec[O]){case ".":ea=Jd=O;break;
case "0":0===ea&&(ea=O);Jd=O;break;default:if(!+Ec[O])break a;0<ea&&(ea=0)}Ec=0<ea?Ec.slice(0,ea)+Ec.slice(Jd+1):Ec}ce&&0===+Ec&&"+"!==Wc&&(ce=!1);kd=(ce?"("===Wc?Wc:ee:"-"===Wc||"("===Wc?"":Wc)+kd;Fc=("s"===xe?la[8+Ve/3]:"")+Fc+(ce&&"("===Wc?")":"");if(od)for(ce=-1,Jd=Ec.length;++ce<Jd;)if(Vd=Ec.charCodeAt(ce),48>Vd||57<Vd){Fc=(46===Vd?Dc+Ec.slice(ce+1):Ec.slice(ce))+Fc;Ec=Ec.slice(0,ce);break}}Od&&!sd&&(Ec=Sa(Ec,Infinity));Vd=kd.length+Ec.length+Fc.length;ce=Vd<jd?Array(jd-Vd+1).join(vd):"";Od&&
sd&&(Ec=Sa(ce+Ec,ce.length?jd-Fc.length:Infinity),ce="");switch(Lc){case "\x3c":Ec=kd+Ec+Fc+ce;break;case "\x3d":Ec=kd+ce+Ec+Fc;break;case "^":Ec=ce.slice(0,Vd=ce.length>>1)+kd+Ec+Fc+ce.slice(Vd);break;default:Ec=ce+kd+Ec+Fc}return Tc(Ec)}eb=uc(eb);var vd=eb.fill,Lc=eb.align,Wc=eb.sign,Qc=eb.symbol,sd=eb.zero,jd=eb.width,Od=eb.comma,Cd=eb.precision,be=eb.trim,xe=eb.type;"n"===xe?(Od=!0,xe="g"):Xd[xe]||(void 0===Cd&&(Cd=12),be=!0,xe="g");if(sd||"0"===vd&&"\x3d"===Lc)sd=!0,vd="0",Lc="\x3d";var Le="$"===
Qc?bc:"#"===Qc&&/[boxX]/.test(xe)?"0"+xe.toLowerCase():"",Xe="$"===Qc?Pc:/[%p]/.test(xe)?gd:"",df=Xd[xe],od=/[defgprs%]/.test(xe);Cd=void 0===Cd?6:/[gprs]/.test(xe)?Math.max(1,Math.min(21,Cd)):Math.max(0,Math.min(20,Cd));oc.toString=function(){return eb+""};return oc}var Sa=void 0===J.grouping||void 0===J.thousands?Yb:vc(N.call(J.grouping,Number),J.thousands+""),bc=void 0===J.currency?"":J.currency[0]+"",Pc=void 0===J.currency?"":J.currency[1]+"",Dc=void 0===J.decimal?".":J.decimal+"",Tc=void 0===
J.numerals?Yb:Ac(N.call(J.numerals,String)),gd=void 0===J.percent?"%":J.percent+"",ee=void 0===J.minus?"":J.minus+"",Ra=void 0===J.nan?"NaN":J.nan+"";return{format:fa,formatPrefix:function(eb,oc){var vd=fa((eb=uc(eb),eb.type="f",eb));eb=3*Math.max(-8,Math.min(8,Math.floor(ac(oc)/3)));var Lc=Math.pow(10,-eb),Wc=la[8+eb/3];return function(Qc){return vd(Lc*Qc)+Wc}}}}function ub(J,fa){return Sa=>{Sa=J(Sa);const bc=Sa.indexOf(fa);if(0>bc)return Sa;a:{var Pc=Sa.lastIndexOf("e");if(!(0<Pc)){for(Pc=Sa.length;--Pc>
bc;){var Dc=Sa.charCodeAt(Pc);if(48<=Dc&&57>=Dc){Pc+=1;break a}}Pc=void 0}}for(Dc=Pc<Sa.length?Sa.slice(Pc):"";--Pc>bc;)if("0"!==Sa[Pc]){++Pc;break}return Sa.slice(0,Pc)+Dc}}function Kb(J){const fa=ib(J.format),Sa=J.formatPrefix;return{format:fa,formatPrefix:Sa,formatFloat(bc){bc=uc(bc||",");if(null==bc.precision){bc.precision=12;switch(bc.type){case "%":bc.precision-=2;break;case "e":--bc.precision}return ub(fa(bc),fa(".1f")(1)[1])}return fa(bc)},formatSpan(bc,Pc,Dc,Tc){Tc=uc(null==Tc?",f":Tc);var gd=
Math.abs(Pc-bc)/Math.max(0,Dc);Dc=Math.pow(10,Math.floor(Math.log(gd)/Math.LN10));gd/=Dc;gd>=Fd?Dc*=10:gd>=Zd?Dc*=5:gd>=de&&(Dc*=2);Dc=Pc<bc?-Dc:Dc;bc=Math.max(Math.abs(bc),Math.abs(Pc));if(null==Tc.precision)switch(Tc.type){case "s":return Pc=isNaN,Dc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ac(bc)/3)))-ac(Math.abs(Dc))),Pc(Pc=Dc)||(Tc.precision=Pc),Sa(Tc,bc);case "":case "e":case "g":case "p":case "r":Pc=isNaN;Dc=Math.abs(Dc);bc=Math.abs(bc)-Dc;bc=Math.max(0,ac(bc)-ac(Dc))+1;Pc(Pc=bc)||(Tc.precision=
Pc-("e"===Tc.type));break;case "f":case "%":isNaN(Pc=Math.max(0,-ac(Math.abs(Dc))))||(Tc.precision=Pc-2*("%"===Tc.type))}return fa(Tc)}}}function Lb(){return Xb=Kb({format:fb,formatPrefix:Ib})}function Db(J){return Kb(Ua(J))}function Pb(J){return arguments.length?Xb=Db(J):Xb}function ab(J,fa,Sa,bc){function Pc(Dc){return J(Dc=0===arguments.length?new Date:new Date(+Dc)),Dc}Pc.floor=function(Dc){return J(Dc=new Date(+Dc)),Dc};Pc.ceil=function(Dc){return J(Dc=new Date(Dc-1)),fa(Dc,1),J(Dc),Dc};Pc.round=
function(Dc){var Tc=Pc(Dc),gd=Pc.ceil(Dc);return Dc-Tc<gd-Dc?Tc:gd};Pc.offset=function(Dc,Tc){return fa(Dc=new Date(+Dc),null==Tc?1:Math.floor(Tc)),Dc};Pc.range=function(Dc,Tc,gd){var ee=[],Ra;Dc=Pc.ceil(Dc);gd=null==gd?1:Math.floor(gd);if(!(Dc<Tc&&0<gd))return ee;do ee.push(Ra=new Date(+Dc)),fa(Dc,gd),J(Dc);while(Ra<Dc&&Dc<Tc);return ee};Pc.filter=function(Dc){return ab(function(Tc){if(Tc>=Tc)for(;J(Tc),!Dc(Tc);)Tc.setTime(Tc-1)},function(Tc,gd){if(Tc>=Tc)if(0>gd)for(;0>=++gd;)for(;fa(Tc,-1),!Dc(Tc););
else for(;0<=--gd;)for(;fa(Tc,1),!Dc(Tc););})};Sa&&(Pc.count=function(Dc,Tc){Bc.setTime(+Dc);lc.setTime(+Tc);J(Bc);J(lc);return Math.floor(Sa(Bc,lc))},Pc.every=function(Dc){Dc=Math.floor(Dc);return isFinite(Dc)&&0<Dc?1<Dc?Pc.filter(bc?function(Tc){return 0===bc(Tc)%Dc}:function(Tc){return 0===Pc.count(0,Tc)%Dc}):Pc:null});return Pc}function pb(J){return ab(function(fa){fa.setDate(fa.getDate()-(fa.getDay()+7-J)%7);fa.setHours(0,0,0,0)},function(fa,Sa){fa.setDate(fa.getDate()+7*Sa)},function(fa,Sa){return(Sa-
fa-6E4*(Sa.getTimezoneOffset()-fa.getTimezoneOffset()))/6048E5})}function Qa(J){return ab(function(fa){fa.setUTCDate(fa.getUTCDate()-(fa.getUTCDay()+7-J)%7);fa.setUTCHours(0,0,0,0)},function(fa,Sa){fa.setUTCDate(fa.getUTCDate()+7*Sa)},function(fa,Sa){return(Sa-fa)/6048E5})}function Da(J){if(0<=J.y&&100>J.y){var fa=new Date(-1,J.m,J.d,J.H,J.M,J.S,J.L);fa.setFullYear(J.y);return fa}return new Date(J.y,J.m,J.d,J.H,J.M,J.S,J.L)}function Ka(J){if(0<=J.y&&100>J.y){var fa=new Date(Date.UTC(-1,J.m,J.d,J.H,
J.M,J.S,J.L));fa.setUTCFullYear(J.y);return fa}return new Date(Date.UTC(J.y,J.m,J.d,J.H,J.M,J.S,J.L))}function lb(J,fa,Sa){return{y:J,m:fa,d:Sa,H:0,M:0,S:0,L:0}}function mb(J){function fa(od,Ec){return function(kd){var Fc=[],Jd=-1,Vd=0,ce=od.length,le,O;for(kd instanceof Date||(kd=new Date(+kd));++Jd<ce;)if(37===od.charCodeAt(Jd)){Fc.push(od.slice(Vd,Jd));null!=(Vd=cf[le=od.charAt(++Jd)])?le=od.charAt(++Jd):Vd="e"===le?" ":"0";if(O=Ec[le])le=O(kd,Vd);Fc.push(le);Vd=Jd+1}Fc.push(od.slice(Vd,Jd));return Fc.join("")}}
function Sa(od,Ec){return function(kd){var Fc=lb(1900,void 0,1);if(bc(Fc,od,kd+="",0)!=kd.length)return null;if("Q"in Fc)return new Date(Fc.Q);if("s"in Fc)return new Date(1E3*Fc.s+("L"in Fc?Fc.L:0));!Ec||"Z"in Fc||(Fc.Z=0);"p"in Fc&&(Fc.H=Fc.H%12+12*Fc.p);void 0===Fc.m&&(Fc.m="q"in Fc?Fc.q:0);if("V"in Fc){if(1>Fc.V||53<Fc.V)return null;"w"in Fc||(Fc.w=1);if("Z"in Fc){kd=Ka(lb(Fc.y,0,1));var Jd=kd.getUTCDay();kd=4<Jd||0===Jd?ae.ceil(kd):ae(kd);kd=$d.offset(kd,7*(Fc.V-1));Fc.y=kd.getUTCFullYear();Fc.m=
kd.getUTCMonth();Fc.d=kd.getUTCDate()+(Fc.w+6)%7}else kd=Da(lb(Fc.y,0,1)),Jd=kd.getDay(),kd=4<Jd||0===Jd?Nc.ceil(kd):Nc(kd),kd=Gc.offset(kd,7*(Fc.V-1)),Fc.y=kd.getFullYear(),Fc.m=kd.getMonth(),Fc.d=kd.getDate()+(Fc.w+6)%7}else if("W"in Fc||"U"in Fc)"w"in Fc||(Fc.w="u"in Fc?Fc.u%7:"W"in Fc?1:0),Jd="Z"in Fc?Ka(lb(Fc.y,0,1)).getUTCDay():Da(lb(Fc.y,0,1)).getDay(),Fc.m=0,Fc.d="W"in Fc?(Fc.w+6)%7+7*Fc.W-(Jd+5)%7:Fc.w+7*Fc.U-(Jd+6)%7;return"Z"in Fc?(Fc.H+=Fc.Z/100|0,Fc.M+=Fc.Z%100,Ka(Fc)):Da(Fc)}}function bc(od,
Ec,kd,Fc){for(var Jd=0,Vd=Ec.length,ce=kd.length,le;Jd<Vd;){if(Fc>=ce)return-1;le=Ec.charCodeAt(Jd++);if(37===le){if(le=Ec.charAt(Jd++),le=df[le in cf?Ec.charAt(Jd++):le],!le||0>(Fc=le(od,kd,Fc)))return-1}else if(le!=kd.charCodeAt(Fc++))return-1}return Fc}var Pc=J.dateTime,Dc=J.date,Tc=J.time,gd=J.periods,ee=J.days,Ra=J.shortDays,eb=J.months,oc=J.shortMonths,vd=sb(gd),Lc=Qb(gd),Wc=sb(ee),Qc=Qb(ee),sd=sb(Ra),jd=Qb(Ra),Od=sb(eb),Cd=Qb(eb),be=sb(oc),xe=Qb(oc),Le={a:function(od){return Ra[od.getDay()]},
A:function(od){return ee[od.getDay()]},b:function(od){return oc[od.getMonth()]},B:function(od){return eb[od.getMonth()]},c:null,d:V,e:V,f:va,g:dd,G:Sc,H:Aa,I:Y,j:t,L,m:La,M:Wa,p:function(od){return gd[+(12<=od.getHours())]},q:function(od){return 1+~~(od.getMonth()/3)},Q:nc,s:dc,S:$a,u:X,U:Ca,V:Jb,w:yc,W:sc,x:null,X:null,y:xc,Y:Zb,Z:Pd,"%":Gb},Xe={a:function(od){return Ra[od.getUTCDay()]},A:function(od){return ee[od.getUTCDay()]},b:function(od){return oc[od.getUTCMonth()]},B:function(od){return eb[od.getUTCMonth()]},
c:null,d:Ma,e:Ma,f:cc,g:ya,G:Za,H:Vb,I:qb,j:Tb,L:gc,m:Ic,M:zc,p:function(od){return gd[+(12<=od.getUTCHours())]},q:function(od){return 1+~~(od.getUTCMonth()/3)},Q:nc,s:dc,S:Zc,u:Md,U:td,V:gb,w:wb,W:sa,x:null,X:null,y:F,Y:Na,Z:kb,"%":Gb},df={a:function(od,Ec,kd){return(Ec=sd.exec(Ec.slice(kd)))?(od.w=jd.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},A:function(od,Ec,kd){return(Ec=Wc.exec(Ec.slice(kd)))?(od.w=Qc.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},b:function(od,Ec,kd){return(Ec=be.exec(Ec.slice(kd)))?
(od.m=xe.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},B:function(od,Ec,kd){return(Ec=Od.exec(Ec.slice(kd)))?(od.m=Cd.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},c:function(od,Ec,kd){return bc(od,Pc,Ec,kd)},d:M,e:M,f:B,g:db,G:Ga,H:g,I:g,j:Q,L:C,m:q,M:u,p:function(od,Ec,kd){return(Ec=vd.exec(Ec.slice(kd)))?(od.p=Lc.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},q:ma,Q:E,s:H,S:m,u:nb,U:pa,V:Z,w:Wb,W:Fa,x:function(od,Ec,kd){return bc(od,Dc,Ec,kd)},X:function(od,Ec,kd){return bc(od,Tc,Ec,kd)},y:db,Y:Ga,
Z:ba,"%":A};Le.x=fa(Dc,Le);Le.X=fa(Tc,Le);Le.c=fa(Pc,Le);Xe.x=fa(Dc,Xe);Xe.X=fa(Tc,Xe);Xe.c=fa(Pc,Xe);return{format:function(od){var Ec=fa(od+="",Le);Ec.toString=function(){return od};return Ec},parse:function(od){var Ec=Sa(od+="",!1);Ec.toString=function(){return od};return Ec},utcFormat:function(od){var Ec=fa(od+="",Xe);Ec.toString=function(){return od};return Ec},utcParse:function(od){var Ec=Sa(od+="",!0);Ec.toString=function(){return od};return Ec}}}function Pa(J,fa,Sa){var bc=0>J?"-":"";J=(bc?
-J:J)+"";var Pc=J.length;return bc+(Pc<Sa?Array(Sa-Pc+1).join(fa)+J:J)}function xb(J){return J.replace(U,"\\$\x26")}function sb(J){return new RegExp("^(?:"+J.map(xb).join("|")+")","i")}function Qb(J){return new Map(J.map((fa,Sa)=>[fa.toLowerCase(),Sa]))}function Wb(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+1)))?(J.w=+fa[0],Sa+fa[0].length):-1}function nb(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+1)))?(J.u=+fa[0],Sa+fa[0].length):-1}function pa(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.U=+fa[0],
Sa+fa[0].length):-1}function Z(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.V=+fa[0],Sa+fa[0].length):-1}function Fa(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.W=+fa[0],Sa+fa[0].length):-1}function Ga(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+4)))?(J.y=+fa[0],Sa+fa[0].length):-1}function db(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.y=+fa[0]+(68<+fa[0]?1900:2E3),Sa+fa[0].length):-1}function ba(J,fa,Sa){return(fa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(fa.slice(Sa,Sa+6)))?(J.Z=fa[1]?
0:-(fa[2]+(fa[3]||"00")),Sa+fa[0].length):-1}function ma(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+1)))?(J.q=3*fa[0]-3,Sa+fa[0].length):-1}function q(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.m=fa[0]-1,Sa+fa[0].length):-1}function M(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.d=+fa[0],Sa+fa[0].length):-1}function Q(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+3)))?(J.m=0,J.d=+fa[0],Sa+fa[0].length):-1}function g(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.H=+fa[0],Sa+fa[0].length):
-1}function u(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.M=+fa[0],Sa+fa[0].length):-1}function m(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+2)))?(J.S=+fa[0],Sa+fa[0].length):-1}function C(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+3)))?(J.L=+fa[0],Sa+fa[0].length):-1}function B(J,fa,Sa){return(fa=se.exec(fa.slice(Sa,Sa+6)))?(J.L=Math.floor(fa[0]/1E3),Sa+fa[0].length):-1}function A(J,fa,Sa){return(J=uf.exec(fa.slice(Sa,Sa+1)))?Sa+J[0].length:-1}function E(J,fa,Sa){return(fa=se.exec(fa.slice(Sa)))?
(J.Q=+fa[0],Sa+fa[0].length):-1}function H(J,fa,Sa){return(fa=se.exec(fa.slice(Sa)))?(J.s=+fa[0],Sa+fa[0].length):-1}function V(J,fa){return Pa(J.getDate(),fa,2)}function Aa(J,fa){return Pa(J.getHours(),fa,2)}function Y(J,fa){return Pa(J.getHours()%12||12,fa,2)}function t(J,fa){return Pa(1+Gc.count(Gd(J),J),fa,3)}function L(J,fa){return Pa(J.getMilliseconds(),fa,3)}function va(J,fa){return L(J,fa)+"000"}function La(J,fa){return Pa(J.getMonth()+1,fa,2)}function Wa(J,fa){return Pa(J.getMinutes(),fa,
2)}function $a(J,fa){return Pa(J.getSeconds(),fa,2)}function X(J){J=J.getDay();return 0===J?7:J}function Ca(J,fa){return Pa(id.count(Gd(J)-1,J),fa,2)}function Xa(J){var fa=J.getDay();return 4<=fa||0===fa?rd(J):rd.ceil(J)}function Jb(J,fa){J=Xa(J);return Pa(rd.count(Gd(J),J)+(4===Gd(J).getDay()),fa,2)}function yc(J){return J.getDay()}function sc(J,fa){return Pa(Nc.count(Gd(J)-1,J),fa,2)}function xc(J,fa){return Pa(J.getFullYear()%100,fa,2)}function dd(J,fa){J=Xa(J);return Pa(J.getFullYear()%100,fa,
2)}function Zb(J,fa){return Pa(J.getFullYear()%1E4,fa,4)}function Sc(J,fa){var Sa=J.getDay();J=4<=Sa||0===Sa?rd(J):rd.ceil(J);return Pa(J.getFullYear()%1E4,fa,4)}function Pd(J){J=J.getTimezoneOffset();return(0<J?"-":(J*=-1,"+"))+Pa(J/60|0,"0",2)+Pa(J%60,"0",2)}function Ma(J,fa){return Pa(J.getUTCDate(),fa,2)}function Vb(J,fa){return Pa(J.getUTCHours(),fa,2)}function qb(J,fa){return Pa(J.getUTCHours()%12||12,fa,2)}function Tb(J,fa){return Pa(1+$d.count(hf(J),J),fa,3)}function gc(J,fa){return Pa(J.getUTCMilliseconds(),
fa,3)}function cc(J,fa){return gc(J,fa)+"000"}function Ic(J,fa){return Pa(J.getUTCMonth()+1,fa,2)}function zc(J,fa){return Pa(J.getUTCMinutes(),fa,2)}function Zc(J,fa){return Pa(J.getUTCSeconds(),fa,2)}function Md(J){J=J.getUTCDay();return 0===J?7:J}function td(J,fa){return Pa(Wd.count(hf(J)-1,J),fa,2)}function Ha(J){var fa=J.getUTCDay();return 4<=fa||0===fa?Ae(J):Ae.ceil(J)}function gb(J,fa){J=Ha(J);return Pa(Ae.count(hf(J),J)+(4===hf(J).getUTCDay()),fa,2)}function wb(J){return J.getUTCDay()}function sa(J,
fa){return Pa(ae.count(hf(J)-1,J),fa,2)}function F(J,fa){return Pa(J.getUTCFullYear()%100,fa,2)}function ya(J,fa){J=Ha(J);return Pa(J.getUTCFullYear()%100,fa,2)}function Na(J,fa){return Pa(J.getUTCFullYear()%1E4,fa,4)}function Za(J,fa){var Sa=J.getUTCDay();J=4<=Sa||0===Sa?Ae(J):Ae.ceil(J);return Pa(J.getUTCFullYear()%1E4,fa,4)}function kb(){return"+0000"}function Gb(){return"%"}function nc(J){return+J}function dc(J){return Math.floor(+J/1E3)}function ic(J,fa,Sa){Sa=Sa||{};P.isObject(Sa)||P.error(`Invalid time multi-format specifier: ${Sa}`);
const bc=fa(k.SECONDS),Pc=fa(k.MINUTES),Dc=fa(k.HOURS),Tc=fa(k.DATE),gd=fa(k.WEEK),ee=fa(k.MONTH),Ra=fa(k.QUARTER),eb=fa(k.YEAR),oc=J(Sa[k.MILLISECONDS]||".%L"),vd=J(Sa[k.SECONDS]||":%S"),Lc=J(Sa[k.MINUTES]||"%I:%M"),Wc=J(Sa[k.HOURS]||"%I %p"),Qc=J(Sa[k.DATE]||Sa[k.DAY]||"%a %d"),sd=J(Sa[k.WEEK]||"%b %d"),jd=J(Sa[k.MONTH]||"%B"),Od=J(Sa[k.QUARTER]||"%B"),Cd=J(Sa[k.YEAR]||"%Y");return be=>(bc(be)<be?oc:Pc(be)<be?vd:Dc(be)<be?Lc:Tc(be)<be?Wc:ee(be)<be?gd(be)<be?Qc:sd:eb(be)<be?Ra(be)<be?jd:Od:Cd)(be)}
function Vc(J){const fa=ib(J.format),Sa=ib(J.utcFormat);return{timeFormat:bc=>P.isString(bc)?fa(bc):ic(fa,k.timeInterval,bc),utcFormat:bc=>P.isString(bc)?Sa(bc):ic(Sa,k.utcInterval,bc),timeParse:ib(J.parse),utcParse:ib(J.utcParse)}}function ed(){return $b=Vc({format:cb,parse:Ab,utcFormat:ec,utcParse:Cc})}function fd(J){return Vc(mb(J))}function Qd(J){return arguments.length?$b=fd(J):$b}function Td(J,fa){var Sa=arguments.length;Sa&&2!==Sa&&P.error("defaultLocale expects either zero or two arguments.");
if(Sa){Sa=Pb(J);var bc=Qd(fa);Sa=P.extend({},Sa,bc)}else Sa=Pb(),bc=Qd(),Sa=P.extend({},Sa,bc);return Sa}var Fd=Math.sqrt(50),Zd=Math.sqrt(10),de=Math.sqrt(2),Ud=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;uc.prototype=Cb.prototype;Cb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var Ve,Xd={"%":(J,fa)=>(100*J).toFixed(fa),b:J=>Math.round(J).toString(2),c:J=>J+"",d:function(J){return 1E21<=Math.abs(J=Math.round(J))?J.toLocaleString("en").replace(/,/g,""):J.toString(10)},e:(J,fa)=>J.toExponential(fa),f:(J,fa)=>J.toFixed(fa),g:(J,fa)=>J.toPrecision(fa),o:J=>Math.round(J).toString(8),p:(J,fa)=>jc(100*J,fa),r:jc,s:function(J,fa){var Sa=Hb(J,fa);if(!Sa)return J+"";var bc=Sa[0];Sa=Sa[1];Sa=Sa-(Ve=3*Math.max(-8,Math.min(8,Math.floor(Sa/3))))+1;var Pc=bc.length;
return Sa===Pc?bc:Sa>Pc?bc+Array(Sa-Pc+1).join("0"):0<Sa?bc.slice(0,Sa)+"."+bc.slice(Sa):"0."+Array(1-Sa).join("0")+Hb(J,Math.max(0,fa+Sa-1))[0]},X:J=>Math.round(J).toString(16).toUpperCase(),x:J=>Math.round(J).toString(16)},N=Array.prototype.map,la="y z a f p n  m  k M G T P E Z Y".split(" "),za,fb,Ib;(function(J){za=Ua(J);fb=za.format;Ib=za.formatPrefix;return za})({thousands:",",grouping:[3],currency:["$",""]});let Xb;Lb();var Bc=new Date,lc=new Date,Gc=ab(J=>J.setHours(0,0,0,0),(J,fa)=>J.setDate(J.getDate()+
fa),(J,fa)=>(fa-J-6E4*(fa.getTimezoneOffset()-J.getTimezoneOffset()))/864E5,J=>J.getDate()-1),id=pb(0),Nc=pb(1);pb(2);pb(3);var rd=pb(4);pb(5);pb(6);var Hd=ab(function(J){J.setMonth(0,1);J.setHours(0,0,0,0)},function(J,fa){J.setFullYear(J.getFullYear()+fa)},function(J,fa){return fa.getFullYear()-J.getFullYear()},function(J){return J.getFullYear()});Hd.every=function(J){return isFinite(J=Math.floor(J))&&0<J?ab(function(fa){fa.setFullYear(Math.floor(fa.getFullYear()/J)*J);fa.setMonth(0,1);fa.setHours(0,
0,0,0)},function(fa,Sa){fa.setFullYear(fa.getFullYear()+Sa*J)}):null};var Gd=Hd,$d=ab(function(J){J.setUTCHours(0,0,0,0)},function(J,fa){J.setUTCDate(J.getUTCDate()+fa)},function(J,fa){return(fa-J)/864E5},function(J){return J.getUTCDate()-1}),Wd=Qa(0),ae=Qa(1);Qa(2);Qa(3);var Ae=Qa(4);Qa(5);Qa(6);var kf=ab(function(J){J.setUTCMonth(0,1);J.setUTCHours(0,0,0,0)},function(J,fa){J.setUTCFullYear(J.getUTCFullYear()+fa)},function(J,fa){return fa.getUTCFullYear()-J.getUTCFullYear()},function(J){return J.getUTCFullYear()});
kf.every=function(J){return isFinite(J=Math.floor(J))&&0<J?ab(function(fa){fa.setUTCFullYear(Math.floor(fa.getUTCFullYear()/J)*J);fa.setUTCMonth(0,1);fa.setUTCHours(0,0,0,0)},function(fa,Sa){fa.setUTCFullYear(fa.getUTCFullYear()+Sa*J)}):null};var hf=kf,cf={"-":"",_:" ",0:"0"},se=/^\s*\d+/,uf=/^%/,U=/[\\^$*+?|[\]().{}]/g,ua,cb,Ab,ec,Cc;(function(J){ua=mb(J);cb=ua.format;Ab=ua.parse;ec=ua.utcFormat;Cc=ua.utcParse;return ua})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let $b;ed();v.defaultLocale=Td;v.locale=function(J,fa){J=J?Db(J):Pb();fa=fa?fd(fa):Qd();return P.extend({},J,fa)};v.numberFormatDefaultLocale=Pb;v.numberFormatLocale=Db;v.resetDefaultLocale=function(){Lb();
ed();return Td()};v.resetNumberFormatDefaultLocale=Lb;v.resetTimeFormatDefaultLocale=ed;v.timeFormatDefaultLocale=Qd;v.timeFormatLocale=fd;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[50]=function(fc,Fb,Xc,ob){var v=Fb(26).Buffer;(function(k,P){"object"===typeof ob&&"undefined"!==typeof Xc?P(ob,Fb(20),Fb(21),Fb(49)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,P(k.vega={},k.vega,k.topojson,k.vega))})(this,function(k,P,ib,Hb){function ac(ba,ma){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const M=yield q.sanitize(ba,ma),
Q=M.href;return M.localFile?q.file(Q):q.http(Q,ma)})}function vc(ba,ma){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ma=P.extend({},q.options,ma);const M=q.fileAccess,Q={href:null};var g;let u;var m=Pa.test(ba.replace(xb,""));null!=ba&&"string"===typeof ba&&m||P.error("Sanitize failure, invalid URI: "+P.stringValue(ba));m=mb.test(ba);(g=ma.baseURL)&&!m&&(ba.startsWith("/")||g.endsWith("/")||(ba="/"+ba),ba=g+ba);u=(g=ba.startsWith("file://"))||"file"===ma.mode||"http"!==
ma.mode&&!m&&M;g?ba=ba.slice(7):ba.startsWith("//")&&("file"===ma.defaultProtocol?(ba=ba.slice(2),u=!0):ba=(ma.defaultProtocol||"http")+":"+ba);Object.defineProperty(Q,"localFile",{value:!!u});Q.href=ba;ma.target&&(Q.target=ma.target+"");ma.rel&&(Q.rel=ma.rel+"");"image"===ma.context&&ma.crossOrigin&&(Q.crossOrigin=ma.crossOrigin+"");return Q})}function Ac(ba){return ba?ma=>new Promise((q,M)=>{ba.readFile(ma,(Q,g)=>{Q?M(Q):q(g)})}):uc}function uc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No file system access.")})}
function Cb(ba){return ba?function(ma,q){const M=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Q=P.extend({},M.options.http,q);const g=q&&q.response;Q=yield ba(ma,Q);return Q.ok?P.isFunction(Q[g])?Q[g]():Q.text():P.error(Q.status+""+Q.statusText)})}:jc}function jc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No HTTP fetch method available.")})}function Yb(ba,ma){if(!ba||!ba.length)return"unknown";const q=ba.length,M=Wb.length,Q=Wb.map((g,u)=>
u+1);for(let g=0,u=0,m,C;g<q;++g)for(C=ma?ba[g][ma]:ba[g],m=0;m<M;++m)if(Q[m]&&null!=C&&C===C&&!Wb[m](C)&&(Q[m]=0,++u,u===Wb.length))return"string";return nb[Q.reduce((g,u)=>0===g?u:g,0)-1]}function Ua(ba,ma){return ma.reduce((q,M)=>{q[M]=Yb(ba,M);return q},{})}function ub(ba){return new Function("d","return {"+ba.map(function(ma,q){return JSON.stringify(ma)+": d["+q+'] || ""'}).join(",")+"}")}function Kb(ba,ma){var q=ub(ba);return function(M,Q){return ma(q(M),Q,ba)}}function Lb(ba){var ma=Object.create(null),
q=[];ba.forEach(function(M){for(var Q in M)Q in ma||q.push(ma[Q]=Q)});return q}function Db(ba,ma){ba+="";var q=ba.length;return q<ma?Array(ma-q+1).join(0)+ba:ba}function Pb(ba){function ma(m,C){function B(){if(Y)return Z;if(t)return t=!1,pa;var va,La=H,Wa;if(34===m.charCodeAt(La)){for(;H++<E&&34!==m.charCodeAt(H)||34===m.charCodeAt(++H););(va=H)>=E?Y=!0:10===(Wa=m.charCodeAt(H++))?t=!0:13===Wa&&(t=!0,10===m.charCodeAt(H)&&++H);return m.slice(La+1,va-1).replace(/""/g,'"')}for(;H<E;){if(10===(Wa=m.charCodeAt(va=
H++)))t=!0;else if(13===Wa)t=!0,10===m.charCodeAt(H)&&++H;else if(Wa!==u)continue;return m.slice(La,va)}return Y=!0,m.slice(La,E)}var A=[],E=m.length,H=0,V=0,Aa,Y=0>=E,t=!1;10===m.charCodeAt(E-1)&&--E;for(13===m.charCodeAt(E-1)&&--E;(Aa=B())!==Z;){for(var L=[];Aa!==pa&&Aa!==Z;)L.push(Aa),Aa=B();C&&null==(L=C(L,V++))||A.push(L)}return A}function q(m,C){return m.map(function(B){return C.map(function(A){return Q(B[A])}).join(ba)})}function M(m){return m.map(Q).join(ba)}function Q(m){if(null==m)m="";
else{if(m instanceof Date){var C=m.getUTCHours();var B=m.getUTCMinutes(),A=m.getUTCSeconds(),E=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var H=m.getUTCFullYear();m=(0>H?"-"+Db(-H,6):9999<H?"+"+Db(H,6):Db(H,4))+"-"+Db(m.getUTCMonth()+1,2)+"-"+Db(m.getUTCDate(),2)+(E?"T"+Db(C,2)+":"+Db(B,2)+":"+Db(A,2)+"."+Db(E,3)+"Z":A?"T"+Db(C,2)+":"+Db(B,2)+":"+Db(A,2)+"Z":B||C?"T"+Db(C,2)+":"+Db(B,2)+"Z":"")}C=m}else C=g.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=C}return m}var g=new RegExp('["'+
ba+"\n\r]"),u=ba.charCodeAt(0);return{parse:function(m,C){var B,A;m=ma(m,function(E,H){if(B)return B(E,H-1);A=E;B=C?Kb(E,C):ub(E)});m.columns=A||[];return m},parseRows:ma,format:function(m,C){null==C&&(C=Lb(m));return[C.map(Q).join(ba)].concat(q(m,C)).join("\n")},formatBody:function(m,C){null==C&&(C=Lb(m));return q(m,C).join("\n")},formatRows:function(m){return m.map(M).join("\n")},formatRow:M,formatValue:Q}}function ab(ba){const ma=function(q,M){const Q={delimiter:ba};return pb(q,M?P.extend(M,Q):
Q)};ma.responseType="text";return ma}function pb(ba,ma){ma.header&&(ba=ma.header.map(P.stringValue).join(ma.delimiter)+"\n"+ba);return Pb(ma.delimiter).parse(ba+"")}function Qa(ba,ma){const q=ma&&ma.property?P.field(ma.property):P.identity;var M;if(M=P.isObject(ba))M=!("function"===typeof v&&P.isFunction(v.isBuffer)&&v.isBuffer(ba));M?(ba=q(ba),!P.isArray(ba)&&P.isIterable(ba)&&(ba=[...ba]),ma=ma&&ma.copy?JSON.parse(JSON.stringify(ba)):ba):ma=q(JSON.parse(ba));return ma}function Da(ba,ma){let q,M,
Q,g;ba=Qa(ba,ma);ma&&ma.feature?(q=ib.feature,Q=ma.feature):ma&&ma.mesh?(q=ib.mesh,Q=ma.mesh,g=Fa[ma.filter]):P.error("Missing TopoJSON feature or mesh parameter.");return(M=(M=ba.objects[Q])?q(ba,M,g):P.error("Invalid TopoJSON object: "+Q))&&M.features||[M]}function Ka(ba,ma){return 1<arguments.length?(Ga[ba]=ma,this):P.hasOwnProperty(Ga,ba)?Ga[ba]:null}function lb(ba,ma,q,M){if(ba.length){var Q=Hb.timeFormatDefaultLocale();q=q||Q.timeParse;M=M||Q.utcParse;Q=ba.columns||Object.keys(ba[0]);var g,
u;"auto"===ma&&(ma=Ua(ba,Q));Q=Object.keys(ma);var m=Q.map(H=>{var V=ma[H];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){H=V.split(/:(.+)?/,2);V=H[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===H[0]?M:q)(V)}if(!Qb[V])throw Error("Illegal format pattern: "+H+":"+V);return Qb[V]});var C=0;var B=ba.length;for(u=Q.length;C<B;++C){var A=ba[C];for(g=0;g<u;++g){var E=Q[g];A[E]=m[g](A[E])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Pa=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
xb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sb=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),Qb={boolean:P.toBoolean,integer:P.toNumber,number:P.toNumber,date:P.toDate,string:P.toString,unknown:P.identity},Wb=[ba=>"true"===ba||"false"===ba||!0===ba||!1===ba,ba=>sb(ba)&&Number.isInteger(+ba),sb,ba=>!Number.isNaN(Date.parse(ba))],nb=["boolean","integer","number","date"];var pa={},Z={};pb.responseType="text";Qa.responseType="json";const Fa={interior:(ba,ma)=>ba!==ma,exterior:(ba,
ma)=>ba===ma};Da.responseType="json";const Ga={dsv:pb,csv:ab(","),tsv:ab("\t"),json:Qa,topojson:Da},db=function(ba,ma){return q=>({options:q||{},sanitize:vc,load:ac,fileAccess:!!ma,file:Ac(ma),http:Cb(ba)})}("undefined"!==typeof fetch&&fetch,null);k.format=Ga;k.formats=Ka;k.inferType=Yb;k.inferTypes=Ua;k.loader=db;k.read=function(ba,ma,q,M){ma=ma||{};const Q=Ka(ma.type||"json");Q||P.error("Unknown data format type: "+ma.type);ba=Q(ba,ma);ma.parse&&lb(ba,ma.parse,q,M);P.hasOwnProperty(ba,"columns")&&
delete ba.columns;return ba};k.responseType=function(ba){return(ba=Ka(ba))&&ba.responseType||"text"};k.typeParsers=Qb;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[51]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(50),Fb(49)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,ib){function Hb(g){const u=g||k.identity,m=[],C={};m.add=B=>{const A=u(B);C[A]||(C[A]=1,m.push(B));return m};m.remove=B=>{const A=u(B);C[A]&&(C[A]=0,B=m.indexOf(B),
0<=B&&m.splice(B,1));return m};return m}function ac(g,u){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield u(g)}catch(m){g.error(m)}})}function vc(g){g=g===Object(g)?g:{data:g};if(!g[Z]){var u=Fa++;g[Z]=u}return g}function Ac(g,u){for(const m in g)u[m]=g[m];return u}function uc(g){return g&&g.constructor===Cb}function Cb(){const g=[],u=[],m=[],C=[],B=[];let A=null,E=!1;return{constructor:Cb,insert(H){H=k.array(H);const V=H.length;for(let Aa=0;Aa<V;++Aa)g.push(H[Aa]);return this},
remove(H){const V=k.isFunction(H)?C:u;H=k.array(H);const Aa=H.length;for(let Y=0;Y<Aa;++Y)V.push(H[Y]);return this},modify(H,V,Aa){V={field:V,value:k.constant(Aa)};k.isFunction(H)?(V.filter=H,B.push(V)):(V.tuple=H,m.push(V));return this},encode(H,V){k.isFunction(H)?B.push({filter:H,field:V}):m.push({tuple:H,field:V});return this},clean(H){A=H;return this},reflow(){E=!0;return this},pulse(H,V){function Aa(Ca,Xa,Jb){Jb?Ca[Xa]=Jb(Ca):H.encode=Xa;E||(t[Ca[Z]]=Ca)}const Y={},t={};let L,va,La,Wa,$a,X;L=
0;for(va=V.length;L<va;++L)Y[V[L][Z]]=1;L=0;for(va=u.length;L<va;++L)$a=u[L],Y[$a[Z]]=-1;L=0;for(va=C.length;L<va;++L)Wa=C[L],V.forEach(Ca=>{Wa(Ca)&&(Y[Ca[Z]]=-1)});L=0;for(va=g.length;L<va;++L)$a=g[L],X=$a[Z],Y[X]?Y[X]=1:H.add.push(vc(g[L]));L=0;for(va=V.length;L<va;++L)$a=V[L],0>Y[$a[Z]]&&H.rem.push($a);L=0;for(va=m.length;L<va;++L)La=m[L],$a=La.tuple,Wa=La.field,X=Y[$a[Z]],0<X&&(Aa($a,Wa,La.value),H.modifies(Wa));L=0;for(va=B.length;L<va;++L)La=B[L],Wa=La.filter,V.forEach(Ca=>{Wa(Ca)&&0<Y[Ca[Z]]&&
Aa(Ca,La.field,La.value)}),H.modifies(La.field);if(E)H.mod=u.length||C.length?V.filter(Ca=>0<Y[Ca[Z]]):V.slice();else for(X in t)H.mod.push(t[X]);(A||null==A&&(u.length||C.length))&&H.clean(!0);return H}}}function jc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Yb(g,u,m,C){this.id=++Ga;this.value=g;this.qrank=this.rank=this.stamp=-1;this.flags=0;u&&(this._update=u);m&&this.parameters(m,C)}function Ua(g){return function(u){const m=this.flags;if(0===arguments.length)return!!(m&
g);this.flags=u?m|g:m&~g;return this}}function ub(g,u,m){this.id=++ba;this.value=null;m&&(this.receive=m);g&&(this._filter=g);u&&(this._apply=u)}function Kb(g,u,m){return new ub(g,u,m)}function Lb(g){let u;const m=new Promise(C=>u=C);m.requests=0;m.done=()=>{0===--m.requests&&(g._pending=null,u(g))};return g._pending=m}function Db(g,u,m,C,B,A){const E=k.extend({},A,ma);let H;k.isFunction(m)||(m=k.constant(m));void 0===C?B=V=>g.touch(m(V)):k.isFunction(C)?(H=new Yb(null,C,B,!1),B=V=>{H.evaluate(V);
V=m(V);const Aa=H.value;uc(Aa)?g.pulse(V,Aa,A):g.update(V,Aa,E)}):B=V=>g.update(m(V),C,E);u.apply(B)}function Pb(g,u,m,C,B,A){void 0===C?u.targets().add(m):(A=A||{},C=new Yb(null,ab(m,C),B,!1),C.modified(A.force),C.rank=u.rank,u.targets().add(C),m&&(C.skip(!0),C.value=m.value,C.targets().add(m),g.connect(m,[C])))}function ab(g,u){u=k.isFunction(u)?u:k.constant(u);return g?function(m,C){m=u(m,C);g.skip()||(g.skip(m!==this.value).value=m);return m}:u}function pb(g,u,m){this.dataflow=g;this.stamp=null==
u?-1:u;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Qa(g,u){const m=[];k.visitArray(g,u,C=>m.push(C));return m}function Da(g,u){const m={};g.visit(u,C=>{m[C[Z]]=1});return C=>m[C[Z]]?null:C}function Ka(g,u){return g?(m,C)=>g(m,C)&&u(m,C):u}function lb(g,u,m,C){const B=m.length;let A=0;this.dataflow=g;this.stamp=u;this.fields=null;this.encode=C||null;this.pulses=m;for(g=0;g<B;++g)if(C=m[g],C.stamp===u){if(C.fields){const E=this.fields||(this.fields={});for(const H in C.fields)E[H]=
1}C.changed(this.ADD)&&(A|=this.ADD);C.changed(this.REM)&&(A|=this.REM);C.changed(this.MOD)&&(A|=this.MOD)}this.changes=A}function mb(g){g.error("Dataflow already running. Use runAsync() to chain invocations.");return g}function Pa(g,u){if(u&&u.stamp===g.stamp)return u;g=g.fork();u&&u!==q&&(g.source=u.source);return g}function xb(g){let u=[];return{clear:()=>u=[],size:()=>u.length,peek:()=>u[0],push:m=>{u.push(m);return sb(u,0,u.length-1,g)},pop:()=>{var m=u.pop();let C;if(u.length){C=u[0];u[0]=m;
m=u;var B=0;const A=B,E=m.length,H=m[B];let V=(B<<1)+1,Aa;for(;V<E;)Aa=V+1,Aa<E&&0<=g(m[V],m[Aa])&&(V=Aa),m[B]=m[V],B=V,V=(B<<1)+1;m[B]=H;sb(m,A,B,g)}else C=m;return C}}}function sb(g,u,m,C){let B,A;const E=g[m];for(;m>u;)if(A=m-1>>1,B=g[A],0>C(E,B))g[m]=B,m=A;else break;return g[m]=E}function Qb(){this.logger(k.logger());this.logLevel(k.Error);this._rank=this._clock=0;this._locale=ib.defaultLocale();try{this._loader=P.loader()}catch(g){}this._touched=Hb(k.id);this._input={};this._pulse=null;this._heap=
xb((g,u)=>g.qrank-u.qrank);this._postrun=[]}function Wb(g){return function(){return this._log[g].apply(this,arguments)}}function nb(g,u){Yb.call(this,g,null,u)}function pa(g){g=g&&g.toLowerCase();return k.hasOwnProperty(Q,g)?Q[g]:null}const Z=Symbol("vega_id");let Fa=1;jc.prototype={set(g,u,m,C){const B=this[g],A=this["_:mod:_"];if(null!=u&&0<=u){if(B[u]!==m||C)B[u]=m,A[u+":"+g]=-1,A[g]=-1}else if(B!==m||C)this[g]=m,A[g]=k.isArray(m)?1+m.length:-1;return this},modified(g,u){const m=this["_:mod:_"];
if(!arguments.length){for(var C in m)if(m[C])return!0;return!1}if(k.isArray(g)){for(C=0;C<g.length;++C)if(m[g[C]])return!0;return!1}return null!=u&&0<=u?u+1<m[g]||!!m[u+":"+g]:!!m[g]},clear(){this["_:mod:_"]={};return this}};let Ga=0;const db=new jc;Yb.prototype={targets(){return this._targets||(this._targets=Hb(k.id))},set(g){return this.value!==g?(this.value=g,1):0},skip:Ua(1),modified:Ua(2),parameters(g,u,m){u=!1!==u;const C=this._argval=this._argval||new jc,B=this._argops=this._argops||[],A=[];
let E,H,V,Aa;const Y=(t,L,va)=>{va instanceof Yb?(va!==this&&(u&&va.targets().add(this),A.push(va)),B.push({op:va,name:t,index:L})):C.set(t,L,va)};for(E in g)if(H=g[E],"pulse"===E)k.array(H).forEach(t=>{t instanceof Yb?t!==this&&(t.targets().add(this),A.push(t)):k.error("Pulse parameters must be operator instances.")}),this.source=H;else if(k.isArray(H))for(C.set(E,-1,Array(V=H.length)),Aa=0;Aa<V;++Aa)Y(E,Aa,H[Aa]);else Y(E,-1,H);this.marshall().clear();m&&(B.initonly=!0);return A},marshall(g){const u=
this._argval||db,m=this._argops;let C,B,A,E;if(m){const H=m.length;for(B=0;B<H;++B)C=m[B],A=C.op,E=A.modified()&&A.stamp===g,u.set(C.name,C.index,A.value,E);if(m.initonly){for(B=0;B<H;++B)C=m[B],C.op.targets().remove(this);this._update=this._argops=null}}return u},detach(){const g=this._argops;let u,m;if(g)for(u=0,m=g.length;u<m;++u){var C=g[u];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(g){var u=this._update;if(u){const m=this.marshall(g.stamp);u=u.call(this,
m,g);m.clear();if(u!==this.value)this.value=u;else if(!this.modified())return g.StopPropagation}},run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?(this.skip(!1),u=0):u=this.evaluate(g);return this.pulse=u||g}};let ba=0;ub.prototype={_filter:k.truthy,_apply:k.identity,targets(){return this._targets||(this._targets=Hb(k.id))},consume(g){if(!arguments.length)return!!this._consume;this._consume=!!g;return this},receive(g){if(this._filter(g)){const u=this.value=this._apply(g),m=
this._targets,C=m?m.length:0;for(let B=0;B<C;++B)m[B].receive(u);this._consume&&(g.preventDefault(),g.stopPropagation())}},filter(g){g=Kb(g);this.targets().add(g);return g},apply(g){g=Kb(null,g);this.targets().add(g);return g},merge(){const g=Kb();this.targets().add(g);for(let u=0,m=arguments.length;u<m;++u)arguments[u].targets().add(g);return g},throttle(g){let u=-1;return this.filter(()=>{const m=Date.now();return m-u>g?(u=m,1):0})},debounce(g){const u=Kb();this.targets().add(Kb(null,null,k.debounce(g,
m=>{const C=m.dataflow;u.receive(m);C&&C.run&&C.run()})));return u},between(g,u){let m=!1;g.targets().add(Kb(null,null,()=>m=!0));u.targets().add(Kb(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=k.truthy;this._targets=null}};const ma={skip:!0},q={};pb.prototype={StopPropagation:q,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(g){return(new pb(this.dataflow)).init(this,g)},clone(){const g=this.fork(7);g.add=g.add.slice();g.rem=
g.rem.slice();g.mod=g.mod.slice();g.source&&(g.source=g.source.slice());return g.materialize(23)},addAll(){let g=this;g.source&&g.add!==g.rem&&(g.rem.length||g.source.length!==g.add.length)&&(g=(new pb(this.dataflow)).init(this),g.add=g.source,g.rem=[]);return g},init(g,u){this.stamp=g.stamp;this.encode=g.encode;!g.fields||u&64||(this.fields=g.fields);u&1?(this.addF=g.addF,this.add=g.add):(this.addF=null,this.add=[]);u&2?(this.remF=g.remF,this.rem=g.rem):(this.remF=null,this.rem=[]);u&4?(this.modF=
g.modF,this.mod=g.mod):(this.modF=null,this.mod=[]);u&32?this.source=this.srcF=null:(this.srcF=g.srcF,this.source=g.source,g.cleans&&(this.cleans=g.cleans));return this},runAfter(g){this.dataflow.runAfter(g)},changed(g){g=g||7;return g&1&&this.add.length||g&2&&this.rem.length||g&4&&this.mod.length},reflow(g){if(g)return this.fork(7).reflow();g=this.add.length;const u=this.source&&this.source.length;u&&u!==g&&(this.mod=this.source,g&&this.filter(4,Da(this,1)));return this},clean(g){return arguments.length?
(this.cleans=!!g,this):this.cleans},modifies(g){const u=this.fields||(this.fields={});k.isArray(g)?g.forEach(m=>u[m]=!0):u[g]=!0;return this},modified(g,u){const m=this.fields;return(u||this.mod.length)&&m?arguments.length?k.isArray(g)?g.some(C=>m[C]):m[g]:!!m:!1},filter(g,u){g&1&&(this.addF=Ka(this.addF,u));g&2&&(this.remF=Ka(this.remF,u));g&4&&(this.modF=Ka(this.modF,u));g&16&&(this.srcF=Ka(this.srcF,u));return this},materialize(g){g=g||7;g&1&&this.addF&&(this.add=Qa(this.add,this.addF),this.addF=
null);g&2&&this.remF&&(this.rem=Qa(this.rem,this.remF),this.remF=null);g&4&&this.modF&&(this.mod=Qa(this.mod,this.modF),this.modF=null);g&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(g,u){if(g&16)return k.visitArray(this.source,this.srcF,u),this;g&1&&k.visitArray(this.add,this.addF,u);g&2&&k.visitArray(this.rem,this.remF,u);g&4&&k.visitArray(this.mod,this.modF,u);const m=this.source;g&8&&m&&(g=this.add.length+this.mod.length,g!==m.length&&(g?k.visitArray(m,
Da(this,5),u):k.visitArray(m,this.srcF,u)));return this}};k.inherits(lb,pb,{fork(g){const u=(new pb(this.dataflow)).init(this,g&this.NO_FIELDS);void 0!==g&&(g&u.ADD&&this.visit(u.ADD,m=>u.add.push(m)),g&u.REM&&this.visit(u.REM,m=>u.rem.push(m)),g&u.MOD&&this.visit(u.MOD,m=>u.mod.push(m)));return u},changed(g){return this.changes&g},modified(g){const u=this.fields;return u&&this.changes&this.MOD?k.isArray(g)?g.some(m=>u[m]):u[g]:0},filter(){k.error("MultiPulse does not support filtering.")},materialize(){k.error("MultiPulse does not support materialization.")},
visit(g,u){const m=this.pulses,C=m.length;let B=0;if(g&this.SOURCE)for(;B<C;++B)m[B].visit(g,u);else for(;B<C;++B)m[B].stamp===this.stamp&&m[B].visit(g,u);return this}});const M={skip:!1,force:!1};Qb.prototype={stamp(){return this._clock},loader(g){return arguments.length?(this._loader=g,this):this._loader},locale(g){return arguments.length?(this._locale=g,this):this._locale},logger(g){return arguments.length?(this._log=g,this):this._log},error:Wb("error"),warn:Wb("warn"),info:Wb("info"),debug:Wb("debug"),
logLevel:Wb("level"),cleanThreshold:1E4,add:function(g,u,m,C){let B=1;g instanceof Yb||(g&&g.prototype instanceof Yb?g=new g:k.isFunction(g)?g=new Yb(null,g):(B=0,g=new Yb(g,u)));this.rank(g);B&&(C=m,m=u);m&&this.connect(g,g.parameters(m,C));this.touch(g);return g},connect:function(g,u){const m=g.rank,C=u.length;for(let B=0;B<C;++B)if(m<u[B].rank){this.rerank(g);break}},rank:function(g){g.rank=++this._rank},rerank:function(g){const u=[g];let m,C,B;for(;u.length;)if(this.rank(m=u.pop()),C=m._targets)for(B=
C.length;0<=--B;)u.push(m=C[B]),m===g&&k.error("Cycle detected in dataflow graph.")},pulse:function(g,u,m){this.touch(g,m||M);m=new pb(this,this._clock+(this._pulse?0:1));const C=g.pulse&&g.pulse.source||[];m.target=g;this._input[g.id]=u.pulse(m,C);return this},touch:function(g,u){u=u||M;this._pulse?this._enqueue(g):this._touched.add(g);u.skip&&g.skip(!0);return this},update:function(g,u,m){m=m||M;(g.set(u)||m.force)&&this.touch(g,m);return this},changeset:Cb,ingest:function(g,u,m){u=this.parse(u,
m);return this.pulse(g,this.changeset().insert(u))},parse:function(g,u){const m=this.locale();return P.read(g,u,m.timeParse,m.utcParse)},preload:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Lb(C);B.requests+=1;const A=yield C.request(u,m);C.pulse(g,C.changeset().remove(k.truthy).insert(A.data||[]));B.done();return A})},request:function(g,u){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=
yield m.loader().load(g,{context:"dataflow",response:P.responseType(u&&u.type)});try{B=m.parse(B,u)}catch(A){C=-2,m.warn("Data ingestion failed",g,A)}}catch(A){C=-1,m.warn("Loading failed",g,A)}return{data:B,status:C}})},events:function(g,u,m,C){const B=this,A=Kb(m,C);m=function(E){E.dataflow=B;try{A.receive(E)}catch(H){B.error(H)}finally{B.run()}};g="string"===typeof g&&"undefined"!==typeof document?document.querySelectorAll(g):k.array(g);C=g.length;for(let E=0;E<C;++E)g[E].addEventListener(u,m);
return A},on:function(g,u,m,C,B){(g instanceof Yb?Pb:Db)(this,g,u,m,C,B);return this},evaluate:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return mb(C);C._pending&&(yield C._pending);u&&(yield ac(C,u));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var A=++C._clock;C._pulse=new pb(C,A,g);C._touched.forEach(Y=>C._enqueue(Y,!0));C._touched=Hb(k.id);var E=0;let H,V,Aa;try{for(;0<C._heap.size();)H=
C._heap.pop(),H.rank!==H.qrank?C._enqueue(H,!0):(V=H.run(C._getPulse(H,g)),V.then?V=yield V:V.async&&(B.push(V.async),V=q),V!==q&&H._targets&&H._targets.forEach(Y=>C._enqueue(Y)),++E)}catch(Y){C._heap.clear(),Aa=Y}C._input={};C._pulse=null;C.debug(`Pulse ${A}: ${E} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(A=C._postrun.sort((Y,t)=>t.priority-Y.priority),C._postrun=[],E=0;E<A.length;++E)yield ac(C,A[E].callback);m&&(yield ac(C,m));B.length&&Promise.all(B).then(Y=>C.runAsync(null,
()=>{Y.forEach(t=>{try{t(C)}catch(L){C.error(L)}})}));return C})},run:function(g,u,m){return this._pulse?mb(this):(this.evaluate(g,u,m),this)},runAsync:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(g,u,m)).then(B,B);return C._running})},runAfter:function(g,u,m){if(this._pulse||u)this._postrun.push({priority:m||0,callback:g});else try{g(this)}catch(C){this.error(C)}},
_enqueue:function(g,u){const m=g.stamp<this._clock;m&&(g.stamp=this._clock);if(m||u)g.qrank=g.rank,this._heap.push(g)},_getPulse:function(g,u){const m=g.source,C=this._clock;return m&&k.isArray(m)?new lb(this,C,m.map(B=>B.pulse),u):this._input[g.id]||Pa(this._pulse,m&&m.pulse)}};k.inherits(nb,Yb,{run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?this.skip(!1):u=this.evaluate(g);u=u||g;u.then?u=u.then(m=>this.pulse=m):u!==g.StopPropagation&&(this.pulse=u);return u},evaluate(g){const u=
this.marshall(g.stamp);g=this.transform(u,g);u.clear();return g},transform(){}});const Q={};v.Dataflow=Qb;v.EventStream=ub;v.MultiPulse=lb;v.Operator=Yb;v.Parameters=jc;v.Pulse=pb;v.Transform=nb;v.UniqueList=Hb;v.asyncCallback=ac;v.changeset=Cb;v.definition=function(g){return(g=pa(g))&&g.Definition||null};v.derive=function(g){return Ac(g,vc({}))};v.ingest=vc;v.isChangeSet=uc;v.isTuple=function(g){return!(!g||!g[Z])};v.rederive=Ac;v.replace=function(g,u){u[Z]=g[Z];return u};v.stableCompare=function(g,
u){return g?u?(m,C)=>g(m,C)||u(m)[Z]-u(C)[Z]:(m,C)=>g(m,C)||m[Z]-C[Z]:null};v.transform=pa;v.transforms=Q;v.tupleid=function(g){return g[Z]};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[52]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(29),Fb(51),Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,ib){function Hb(uc,Cb){var jc=[],Yb=function(ab){return ab(Lb)},Ua;if(null==Cb)jc.push(uc);else{var ub={};var Kb=0;for(Ua=uc.length;Kb<Ua;++Kb){var Lb=uc[Kb];
var Db=Cb.map(Yb);var Pb=ub[Db];Pb||(ub[Db]=Pb=[],Pb.dims=Db,jc.push(Pb));Pb.push(Lb)}}return jc}function ac(uc){P.Transform.call(this,null,uc)}function vc(uc){P.Transform.call(this,null,uc)}ac.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};ib.inherits(ac,P.Transform,{transform(uc,Cb){const jc=Cb.fork(Cb.NO_SOURCE|
Cb.NO_FIELDS);if(!this.value||Cb.changed()||uc.modified()){Cb=Cb.materialize(Cb.SOURCE).source;Cb=Hb(Cb,uc.groupby);const Yb=(uc.groupby||[]).map(ib.accessorName),Ua=Yb.length,ub=uc.as||[ib.accessorName(uc.x),ib.accessorName(uc.y)],Kb=[];Cb.forEach(Lb=>{k.regressionLoess(Lb,uc.x,uc.y,uc.bandwidth||.3).forEach(Db=>{const Pb={};for(let ab=0;ab<Ua;++ab)Pb[Yb[ab]]=Lb.dims[ab];Pb[ub[0]]=Db[0];Pb[ub[1]]=Db[1];Kb.push(P.ingest(Pb))})});this.value&&(jc.rem=this.value);this.value=jc.add=jc.source=Kb}return jc}});
const Ac={constant:k.regressionConstant,linear:k.regressionLinear,log:k.regressionLog,exp:k.regressionExp,pow:k.regressionPow,quad:k.regressionQuad,poly:k.regressionPoly};vc.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Ac)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},
{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};ib.inherits(vc,P.Transform,{transform(uc,Cb){const jc=Cb.fork(Cb.NO_SOURCE|Cb.NO_FIELDS);if(!this.value||Cb.changed()||uc.modified()){var Yb=Cb.materialize(Cb.SOURCE).source;Yb=Hb(Yb,uc.groupby);const Ua=(uc.groupby||[]).map(ib.accessorName),ub=uc.method||"linear",Kb=null==uc.order?3:uc.order,Lb="poly"===ub?Kb:"quad"===ub?2:1,Db=uc.as||[ib.accessorName(uc.x),ib.accessorName(uc.y)],Pb=Ac[ub],ab=[];let pb=uc.extent;ib.hasOwnProperty(Ac,
ub)||ib.error("Invalid regression method: "+ub);null!=pb&&"log"===ub&&0>=pb[0]&&(Cb.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),pb=null);Yb.forEach(Qa=>{if(Qa.length<=Lb)Cb.dataflow.warn("Skipping regression with more parameters than data points.");else{var Da=Pb(Qa,uc.x,uc.y,Kb);if(uc.params)ab.push(P.ingest({keys:Qa.dims,coef:Da.coef,rSquared:Da.rSquared}));else{var Ka=pb||ib.extent(Qa,uc.x),lb=mb=>{const Pa={};for(let xb=0;xb<Ua.length;++xb)Pa[Ua[xb]]=Qa.dims[xb];
Pa[Db[0]]=mb[0];Pa[Db[1]]=mb[1];ab.push(P.ingest(Pa))};"linear"===ub||"constant"===ub?Ka.forEach(mb=>lb([mb,Da.predict(mb)])):k.sampleCurve(Da.predict,Ka,25,200).forEach(lb)}}});this.value&&(jc.rem=this.value);this.value=jc.add=jc.source=ab}return jc}});v.loess=ac;v.regression=vc})};
shadow$provide[53]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(28),Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega))})(this,function(v,k,P){function ib(pa,Z,Fa,Ga,db){let ba,ma;let q=Z[0],M=Ga[0],Q=0,g=0;M>q===M>-q?(ba=q,q=Z[++Q]):(ba=M,M=Ga[++g]);let u=0;if(Q<pa&&g<Fa){if(M>q===M>-q){ma=q+ba;
var m=ba-(ma-q);q=Z[++Q]}else ma=M+ba,m=ba-(ma-M),M=Ga[++g];ba=ma;for(0!==m&&(db[u++]=m);Q<pa&&g<Fa;)M>q===M>-q?(ma=ba+q,m=ma-ba,m=ba-(ma-m)+(q-m),q=Z[++Q]):(ma=ba+M,m=ma-ba,m=ba-(ma-m)+(M-m),M=Ga[++g]),ba=ma,0!==m&&(db[u++]=m)}for(;Q<pa;)ma=ba+q,m=ma-ba,m=ba-(ma-m)+(q-m),q=Z[++Q],ba=ma,0!==m&&(db[u++]=m);for(;g<Fa;)ma=ba+M,m=ma-ba,m=ba-(ma-m)+(M-m),M=Ga[++g],ba=ma,0!==m&&(db[u++]=m);if(0!==ba||0===u)db[u++]=ba;return u}function Hb(pa,Z,Fa,Ga,db,ba){var ma=(Z-ba)*(Fa-db),q=(pa-db)*(Ga-ba),M=ma-q;
if(0===ma||0===q||0<ma!==0<q)return M;ma=Math.abs(ma+q);if(Math.abs(M)>=3.3306690738754716E-16*ma)return M;{let A;M=pa-db;const E=Fa-db;q=Z-ba;const H=Ga-ba;var Q=M*H;var g=134217729*M;var u=g-(g-M);var m=M-u;g=134217729*H;g-=g-H;A=H-g;var C=m*A-(Q-u*g-m*g-u*A);var B=q*E;g=134217729*q;u=g-(g-q);m=q-u;g=134217729*E;g-=g-E;A=E-g;g=m*A-(B-u*g-m*g-u*A);m=C-g;u=C-m;Db[0]=C-(m+u)+(u-g);C=Q+m;u=C-Q;Q=Q-(C-u)+(m-u);m=Q-B;u=Q-m;Db[1]=Q-(m+u)+(u-B);B=C+m;u=B-C;Db[2]=C-(B-u)+(m-u);Db[3]=B;B=Db[0];for(Q=1;4>
Q;Q++)B+=Db[Q];Q=2.2204460492503146E-16*ma;B>=Q||-B>=Q?Ga=B:(u=pa-M,pa=pa-(M+u)+(u-db),u=Fa-E,Fa=Fa-(E+u)+(u-db),u=Z-q,Z=Z-(q+u)+(u-ba),u=Ga-H,Ga=Ga-(H+u)+(u-ba),0===pa&&0===Z&&0===Fa&&0===Ga?Ga=B:(Q=1.1093356479670487E-31*ma+3.3306690738754706E-16*Math.abs(B),B+=M*Ga+H*pa-(q*Fa+E*Z),B>=Q||-B>=Q?Ga=B:(Q=pa*H,g=134217729*pa,u=g-(g-pa),m=pa-u,g=134217729*H,g-=g-H,A=H-g,C=m*A-(Q-u*g-m*g-u*A),B=Z*E,g=134217729*Z,u=g-(g-Z),m=Z-u,g=134217729*E,g-=g-E,A=E-g,g=m*A-(B-u*g-m*g-u*A),m=C-g,u=C-m,Qa[0]=C-(m+u)+
(u-g),C=Q+m,u=C-Q,Q=Q-(C-u)+(m-u),m=Q-B,u=Q-m,Qa[1]=Q-(m+u)+(u-B),B=C+m,u=B-C,Qa[2]=C-(B-u)+(m-u),Qa[3]=B,ba=ib(4,Db,4,Qa,Pb),Q=M*Ga,g=134217729*M,u=g-(g-M),m=M-u,g=134217729*Ga,g-=g-Ga,A=Ga-g,C=m*A-(Q-u*g-m*g-u*A),B=q*Fa,g=134217729*q,u=g-(g-q),m=q-u,g=134217729*Fa,g-=g-Fa,A=Fa-g,g=m*A-(B-u*g-m*g-u*A),m=C-g,u=C-m,Qa[0]=C-(m+u)+(u-g),C=Q+m,u=C-Q,Q=Q-(C-u)+(m-u),m=Q-B,u=Q-m,Qa[1]=Q-(m+u)+(u-B),B=C+m,u=B-C,Qa[2]=C-(B-u)+(m-u),Qa[3]=B,ba=ib(ba,Pb,4,Qa,ab),Q=pa*Ga,g=134217729*pa,u=g-(g-pa),m=pa-u,g=134217729*
Ga,g-=g-Ga,A=Ga-g,C=m*A-(Q-u*g-m*g-u*A),B=Z*Fa,g=134217729*Z,u=g-(g-Z),m=Z-u,g=134217729*Fa,g-=g-Fa,A=Fa-g,g=m*A-(B-u*g-m*g-u*A),m=C-g,u=C-m,Qa[0]=C-(m+u)+(u-g),C=Q+m,u=C-Q,Q=Q-(C-u)+(m-u),m=Q-B,u=Q-m,Qa[1]=Q-(m+u)+(u-B),B=C+m,u=B-C,Qa[2]=C-(B-u)+(m-u),Qa[3]=B,Ga=ib(ba,ab,4,Qa,pb),Ga=pb[Ga-1])))}return-Ga}function ac(pa,Z,Fa,Ga){pa-=Fa;Z-=Ga;return pa*pa+Z*Z}function vc(pa,Z,Fa,Ga){if(20>=Ga-Fa)for(var db=Fa+1;db<=Ga;db++){for(var ba=pa[db],ma=Z[ba],q=db-1;q>=Fa&&Z[pa[q]]>ma;)pa[q+1]=pa[q--];pa[q+
1]=ba}else{db=Fa+1;ba=Ga;Ac(pa,Fa+Ga>>1,db);Z[pa[Fa]]>Z[pa[Ga]]&&Ac(pa,Fa,Ga);Z[pa[db]]>Z[pa[Ga]]&&Ac(pa,db,Ga);Z[pa[Fa]]>Z[pa[db]]&&Ac(pa,Fa,db);ma=pa[db];for(q=Z[ma];;){do db++;while(Z[pa[db]]<q);do ba--;while(Z[pa[ba]]>q);if(ba<db)break;Ac(pa,db,ba)}pa[Fa+1]=pa[ba];pa[ba]=ma;Ga-db+1>=ba-Fa?(vc(pa,Z,db,Ga),vc(pa,Z,Fa,ba-1)):(vc(pa,Z,Fa,ba-1),vc(pa,Z,db,Ga))}}function Ac(pa,Z,Fa){const Ga=pa[Z];pa[Z]=pa[Fa];pa[Fa]=Ga}function uc(pa){return pa[0]}function Cb(pa){return pa[1]}function jc(pa){return pa[0]}
function Yb(pa){return pa[1]}function Ua(pa){const {triangles:Z,coords:Fa}=pa;for(pa=0;pa<Z.length;pa+=3){const Ga=2*Z[pa],db=2*Z[pa+1],ba=2*Z[pa+2];if(1E-10<(Fa[ba]-Fa[Ga])*(Fa[db+1]-Fa[Ga+1])-(Fa[db]-Fa[Ga])*(Fa[ba+1]-Fa[Ga+1]))return!1}return!0}function ub(pa,Z,Fa){return[pa+Math.sin(pa+Z)*Fa,Z+Math.cos(pa-Z)*Fa]}function*Kb(pa,Z,Fa,Ga){let db=0;for(const ba of pa)yield Z.call(Ga,ba,db,pa),yield Fa.call(Ga,ba,db,pa),++db}function Lb(pa){k.Transform.call(this,null,pa)}const Db=new Float64Array(4),
Pb=new Float64Array(8),ab=new Float64Array(12),pb=new Float64Array(16),Qa=new Float64Array(4),Da=Math.pow(2,-52),Ka=new Uint32Array(512);class lb{static from(pa,Z=uc,Fa=Cb){const Ga=pa.length,db=new Float64Array(2*Ga);for(let ba=0;ba<Ga;ba++){const ma=pa[ba];db[2*ba]=Z(ma);db[2*ba+1]=Fa(ma)}return new lb(db)}constructor(pa){const Z=pa.length>>1;if(0<Z&&"number"!==typeof pa[0])throw Error("Expected coords to contain numbers.");this.coords=pa;pa=Math.max(2*Z-5,0);this._triangles=new Uint32Array(3*pa);
this._halfedges=new Int32Array(3*pa);this._hashSize=Math.ceil(Math.sqrt(Z));this._hullPrev=new Uint32Array(Z);this._hullNext=new Uint32Array(Z);this._hullTri=new Uint32Array(Z);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(Z);this._dists=new Float64Array(Z);this.update()}update(){const {coords:pa,_hullPrev:Z,_hullNext:Fa,_hullTri:Ga,_hullHash:db}=this;var ba=pa.length>>1,ma=Infinity,q=Infinity,M=-Infinity,Q=-Infinity;for(var g=0;g<ba;g++){var u=pa[2*g];var m=pa[2*
g+1];u<ma&&(ma=u);m<q&&(q=m);u>M&&(M=u);m>Q&&(Q=m);this._ids[g]=g}M=(ma+M)/2;q=(q+Q)/2;ma=Infinity;for(Q=0;Q<ba;Q++)if(g=ac(M,q,pa[2*Q],pa[2*Q+1]),g<ma){var C=Q;ma=g}q=pa[2*C];Q=pa[2*C+1];ma=Infinity;for(M=0;M<ba;M++)if(M!==C&&(g=ac(q,Q,pa[2*M],pa[2*M+1]),g<ma&&0<g)){var B=M;ma=g}ma=pa[2*B];M=pa[2*B+1];m=Infinity;for(g=0;g<ba;g++)if(g!==C&&g!==B){u=ma-q;var A=M-Q;var E=pa[2*g]-q;var H=pa[2*g+1]-Q,V=u*u+A*A,Aa=E*E+H*H,Y=.5/(u*H-A*E);A=(H*V-A*Aa)*Y;u=(u*Aa-E*V)*Y;u=A*A+u*u;if(u<m){var t=g;m=u}}g=pa[2*
t];u=pa[2*t+1];if(Infinity===m){for(C=0;C<ba;C++)this._dists[C]=pa[2*C]-pa[0]||pa[2*C+1]-pa[1];vc(this._ids,this._dists,0,ba-1);C=new Uint32Array(ba);B=0;for(let L=0,va=-Infinity;L<ba;L++)t=this._ids[L],this._dists[t]>va&&(C[B++]=t,va=this._dists[t]);this.hull=C.subarray(0,B);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>Hb(q,Q,ma,M,g,u)&&(m=B,E=ma,V=M,B=t,ma=g,M=u,t=m,g=E,u=V);E=ma-q;m=M-Q;V=g-q;H=u-Q;Aa=E*E+m*m;Y=V*V+H*H;A=.5/(E*H-m*V);m=q+(H*Aa-m*Y)*A;E=Q+(E*Y-V*Aa)*
A;this._cx=m;this._cy=E;for(V=0;V<ba;V++)this._dists[V]=ac(pa[2*V],pa[2*V+1],m,E);vc(this._ids,this._dists,0,ba-1);this._hullStart=C;ba=3;Fa[C]=Z[t]=B;Fa[B]=Z[C]=t;Fa[t]=Z[B]=C;Ga[C]=0;Ga[B]=1;Ga[t]=2;db.fill(-1);db[this._hashKey(q,Q)]=C;db[this._hashKey(ma,M)]=B;db[this._hashKey(g,u)]=t;this.trianglesLen=0;this._addTriangle(C,B,t,-1,-1,-1);for(let L=0,va,La;L<this._ids.length;L++){q=this._ids[L];Q=pa[2*q];ma=pa[2*q+1];if(0<L&&Math.abs(Q-va)<=Da&&Math.abs(ma-La)<=Da)continue;va=Q;La=ma;if(q===C||
q===B||q===t)continue;M=0;for(let $a=0,X=this._hashKey(Q,ma);$a<this._hashSize&&(M=db[(X+$a)%this._hashSize],-1===M||M===Fa[M]);$a++);g=M=Z[M];let Wa;for(;Wa=Fa[g],0<=Hb(Q,ma,pa[2*g],pa[2*g+1],pa[2*Wa],pa[2*Wa+1]);)if(g=Wa,g===M){g=-1;break}if(-1!==g){u=this._addTriangle(g,q,Fa[g],-1,-1,Ga[g]);Ga[q]=this._legalize(u+2);Ga[g]=u;ba++;for(m=Fa[g];Wa=Fa[m],0>Hb(Q,ma,pa[2*m],pa[2*m+1],pa[2*Wa],pa[2*Wa+1]);)u=this._addTriangle(m,q,Wa,Ga[q],-1,Ga[m]),Ga[q]=this._legalize(u+2),Fa[m]=m,ba--,m=Wa;if(g===M)for(;Wa=
Z[g],0>Hb(Q,ma,pa[2*Wa],pa[2*Wa+1],pa[2*g],pa[2*g+1]);)u=this._addTriangle(Wa,q,g,-1,Ga[g],Ga[Wa]),this._legalize(u+2),Ga[Wa]=u,Fa[g]=g,ba--,g=Wa;this._hullStart=Z[q]=g;Fa[g]=Z[m]=q;Fa[q]=m;db[this._hashKey(Q,ma)]=q;db[this._hashKey(pa[2*g],pa[2*g+1])]=g}}this.hull=new Uint32Array(ba);for(let L=0,va=this._hullStart;L<ba;L++)this.hull[L]=va,va=Fa[va];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(pa,Z){var Fa=Math;
pa-=this._cx;Z-=this._cy;pa/=Math.abs(pa)+Math.abs(Z);return Fa.floor.call(Fa,(0<Z?3-pa:1+pa)/4*this._hashSize)%this._hashSize}_legalize(pa){const {_triangles:Z,_halfedges:Fa,coords:Ga}=this;let db=0;for(var ba;;){const m=Fa[pa];var ma=pa-pa%3;ba=ma+(pa+2)%3;if(-1===m){if(0===db)break;pa=Ka[--db];continue}const C=m-m%3,B=C+(m+2)%3;var q=Z[ba],M=Z[pa],Q=Z[ma+(pa+1)%3];ma=Z[B];var g=Ga[2*ma],u=Ga[2*ma+1];const A=Ga[2*q]-g,E=Ga[2*q+1]-u,H=Ga[2*M]-g;M=Ga[2*M+1]-u;g=Ga[2*Q]-g;u=Ga[2*Q+1]-u;Q=H*H+M*M;const V=
g*g+u*u;if(0>A*(M*V-Q*u)-E*(H*V-Q*g)+(A*A+E*E)*(H*u-M*g)){Z[pa]=ma;Z[m]=q;q=Fa[B];if(-1===q){ma=this._hullStart;do{if(this._hullTri[ma]===B){this._hullTri[ma]=pa;break}ma=this._hullPrev[ma]}while(ma!==this._hullStart)}this._link(pa,q);this._link(m,Fa[ba]);this._link(ba,B);ba=C+(m+1)%3;db<Ka.length&&(Ka[db++]=ba)}else{if(0===db)break;pa=Ka[--db]}}return ba}_link(pa,Z){this._halfedges[pa]=Z;-1!==Z&&(this._halfedges[Z]=pa)}_addTriangle(pa,Z,Fa,Ga,db,ba){const ma=this.trianglesLen;this._triangles[ma]=
pa;this._triangles[ma+1]=Z;this._triangles[ma+2]=Fa;this._link(ma,Ga);this._link(ma+1,db);this._link(ma+2,ba);this.trianglesLen+=3;return ma}}class mb{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(pa,Z){this._+=`M${this._x0=this._x1=+pa},${this._y0=this._y1=+Z}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(pa,Z){this._+=`L${this._x1=+pa},${this._y1=+Z}`}arc(pa,Z,Fa){pa=+pa;Z=+Z;Fa=+Fa;const Ga=pa+Fa,db=Z;if(0>Fa)throw Error("negative radius");
if(null===this._x1)this._+=`M${Ga},${db}`;else if(1E-6<Math.abs(this._x1-Ga)||1E-6<Math.abs(this._y1-db))this._+="L"+Ga+","+db;Fa&&(this._+=`A${Fa},${Fa},0,1,1,${pa-Fa},${Z}A${Fa},${Fa},0,1,1,${this._x1=Ga},${this._y1=db}`)}rect(pa,Z,Fa,Ga){this._+=`M${this._x0=this._x1=+pa},${this._y0=this._y1=+Z}h${+Fa}v${+Ga}h${-Fa}Z`}value(){return this._||null}}class Pa{constructor(){this._=[]}moveTo(pa,Z){this._.push([pa,Z])}closePath(){this._.push(this._[0].slice())}lineTo(pa,Z){this._.push([pa,Z])}value(){return this._.length?
this._:null}}let xb=class{constructor(pa,[Z,Fa,Ga,db]=[0,0,960,500]){if(!((Ga=+Ga)>=(Z=+Z)&&(db=+db)>=(Fa=+Fa)))throw Error("invalid bounds");this.delaunay=pa;this._circumcenters=new Float64Array(2*pa.points.length);this.vectors=new Float64Array(2*pa.points.length);this.xmax=Ga;this.xmin=Z;this.ymax=db;this.ymin=Fa;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:pa,hull:Z,triangles:Fa},vectors:Ga}=this;var db=this.circumcenters=this._circumcenters.subarray(0,
Fa.length/3*2);for(let B=0,A=0,E=Fa.length,H,V;B<E;B+=3,A+=2){var ba=2*Fa[B],ma=2*Fa[B+1],q=2*Fa[B+2],M=pa[ba];ba=pa[ba+1];var Q=pa[q],g=pa[q+1],u=pa[ma]-M,m=pa[ma+1]-ba;ma=Q-M;q=g-ba;var C=2*(u*q-m*ma);1E-9>Math.abs(C)?(u=1E9,m=2*Fa[0],u*=Math.sign((pa[m]-M)*q-(pa[m+1]-ba)*ma),H=(M+Q)/2-u*q,V=(ba+g)/2+u*ma):(Q=1/C,g=u*u+m*m,C=ma*ma+q*q,H=M+(q*g-m*C)*Q,V=ba+(u*C-ma*g)*Q);db[A]=H;db[A+1]=V}db=Z[Z.length-1];ba=4*db;q=pa[2*db];u=pa[2*db+1];Ga.fill(0);for(g=0;g<Z.length;++g)db=Z[g],M=ba,ma=q,Q=u,ba=4*
db,q=pa[2*db],u=pa[2*db+1],Ga[M+2]=Ga[ba]=Q-u,Ga[M+3]=Ga[ba+1]=q-ma}render(pa){const Z=null==pa?pa=new mb:void 0,{delaunay:{halfedges:Fa,inedges:Ga,hull:db},circumcenters:ba,vectors:ma}=this;if(1>=db.length)return null;for(let u=0,m=Fa.length;u<m;++u){var q=Fa[u];if(!(q<u)){var M=2*Math.floor(u/3);q=2*Math.floor(q/3);this._renderSegment(ba[M],ba[M+1],ba[q],ba[q+1],pa)}}M=db[db.length-1];for(q=0;q<db.length;++q){var Q=M;M=db[q];var g=2*Math.floor(Ga[M]/3);const u=ba[g];g=ba[g+1];Q*=4;(Q=this._project(u,
g,ma[Q+2],ma[Q+3]))&&this._renderSegment(u,g,Q[0],Q[1],pa)}return Z&&Z.value()}renderBounds(pa){const Z=null==pa?pa=new mb:void 0;pa.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return Z&&Z.value()}renderCell(pa,Z){const Fa=null==Z?Z=new mb:void 0;pa=this._clip(pa);if(null!==pa&&pa.length){Z.moveTo(pa[0],pa[1]);for(var Ga=pa.length;pa[0]===pa[Ga-2]&&pa[1]===pa[Ga-1]&&1<Ga;)Ga-=2;for(let db=2;db<Ga;db+=2)pa[db]===pa[db-2]&&pa[db+1]===pa[db-1]||Z.lineTo(pa[db],pa[db+1]);Z.closePath();
return Fa&&Fa.value()}}*cellPolygons(){var {delaunay:{points:pa}}=this;for(let Z=0,Fa=pa.length/2;Z<Fa;++Z)if(pa=this.cellPolygon(Z))pa.index=Z,yield pa}cellPolygon(pa){const Z=new Pa;this.renderCell(pa,Z);return Z.value()}_renderSegment(pa,Z,Fa,Ga,db){const ba=this._regioncode(pa,Z),ma=this._regioncode(Fa,Ga);if(0===ba&&0===ma)db.moveTo(pa,Z),db.lineTo(Fa,Ga);else if(pa=this._clipSegment(pa,Z,Fa,Ga,ba,ma))db.moveTo(pa[0],pa[1]),db.lineTo(pa[2],pa[3])}contains(pa,Z,Fa){return(Z=+Z,Z!==Z)||(Fa=+Fa,
Fa!==Fa)?!1:this.delaunay._step(pa,Z,Fa)===pa}*neighbors(pa){const Z=this._clip(pa);if(Z)for(const Fa of this.delaunay.neighbors(pa))if(pa=this._clip(Fa))a:for(let Ga=0,db=Z.length;Ga<db;Ga+=2)for(let ba=0,ma=pa.length;ba<ma;ba+=2)if(Z[Ga]==pa[ba]&&Z[Ga+1]==pa[ba+1]&&Z[(Ga+2)%db]==pa[(ba+ma-2)%ma]&&Z[(Ga+3)%db]==pa[(ba+ma-1)%ma]){yield Fa;break a}}_cell(pa){const {circumcenters:Z,delaunay:{inedges:Fa,halfedges:Ga,triangles:db}}=this,ba=Fa[pa];if(-1===ba)return null;const ma=[];let q=ba;do{const M=
Math.floor(q/3);ma.push(Z[2*M],Z[2*M+1]);q=2===q%3?q-2:q+1;if(db[q]!==pa)break;q=Ga[q]}while(q!==ba&&-1!==q);return ma}_clip(pa){if(0===pa&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const Z=this._cell(pa);if(null===Z)return null;const {vectors:Fa}=this,Ga=4*pa;return Fa[Ga]||Fa[Ga+1]?this._clipInfinite(pa,Z,Fa[Ga],Fa[Ga+1],Fa[Ga+2],Fa[Ga+3]):this._clipFinite(pa,Z)}_clipFinite(pa,Z){const Fa=Z.length;let Ga=null;let db=Z[Fa-
2],ba=Z[Fa-1];let ma=this._regioncode(db,ba),q=0;for(let u=0;u<Fa;u+=2){var M=db;var Q=ba;db=Z[u];ba=Z[u+1];var g=ma;ma=this._regioncode(db,ba);if(0===g&&0===ma)q=0,Ga?Ga.push(db,ba):Ga=[db,ba];else{let m,C;if(0===g){if(null===(M=this._clipSegment(M,Q,db,ba,g,ma)))continue;[Q,g,m,C]=M}else{if(null===(M=this._clipSegment(db,ba,M,Q,ma,g)))continue;[m,C,Q,g]=M;M=q;q=this._edgecode(Q,g);M&&q&&this._edge(pa,M,q,Ga,Ga.length);Ga?Ga.push(Q,g):Ga=[Q,g]}M=q;q=this._edgecode(m,C);M&&q&&this._edge(pa,M,q,Ga,
Ga.length);Ga?Ga.push(m,C):Ga=[m,C]}}if(Ga)M=q,q=this._edgecode(Ga[0],Ga[1]),M&&q&&this._edge(pa,M,q,Ga,Ga.length);else if(this.contains(pa,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Ga}_clipSegment(pa,Z,Fa,Ga,db,ba){for(;;){if(0===db&&0===ba)return[pa,Z,Fa,Ga];if(db&ba)return null;var ma=void 0;let q;ma=db||ba;ma&8?(ma=pa+(Fa-pa)*(this.ymax-Z)/(Ga-Z),q=this.ymax):ma&4?(ma=pa+(Fa-pa)*(this.ymin-Z)/
(Ga-Z),q=this.ymin):ma&2?(q=Z+(Ga-Z)*(this.xmax-pa)/(Fa-pa),ma=this.xmax):(q=Z+(Ga-Z)*(this.xmin-pa)/(Fa-pa),ma=this.xmin);db?(pa=ma,Z=q,db=this._regioncode(pa,Z)):(Fa=ma,Ga=q,ba=this._regioncode(Fa,Ga))}}_clipInfinite(pa,Z,Fa,Ga,db,ba){Z=Array.from(Z);let ma;(ma=this._project(Z[0],Z[1],Fa,Ga))&&Z.unshift(ma[0],ma[1]);(ma=this._project(Z[Z.length-2],Z[Z.length-1],db,ba))&&Z.push(ma[0],ma[1]);if(Z=this._clipFinite(pa,Z))for(let q=0,M=Z.length,Q,g=this._edgecode(Z[M-2],Z[M-1]);q<M;q+=2)Q=g,g=this._edgecode(Z[q],
Z[q+1]),Q&&g&&(q=this._edge(pa,Q,g,Z,q),M=Z.length);else this.contains(pa,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(Z=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return Z}_edge(pa,Z,Fa,Ga,db){for(;Z!==Fa;){let ba,ma;switch(Z){case 5:Z=4;continue;case 4:Z=6;ba=this.xmax;ma=this.ymin;break;case 6:Z=2;continue;case 2:Z=10;ba=this.xmax;ma=this.ymax;break;case 10:Z=8;continue;case 8:Z=9;ba=this.xmin;ma=this.ymax;break;case 9:Z=1;continue;case 1:Z=5,ba=this.xmin,
ma=this.ymin}Ga[db]===ba&&Ga[db+1]===ma||!this.contains(pa,ba,ma)||(Ga.splice(db,0,ba,ma),db+=2)}if(4<Ga.length)for(pa=0;pa<Ga.length;pa+=2)if(Z=(pa+2)%Ga.length,Fa=(pa+4)%Ga.length,Ga[pa]===Ga[Z]&&Ga[Z]===Ga[Fa]||Ga[pa+1]===Ga[Z+1]&&Ga[Z+1]===Ga[Fa+1])Ga.splice(Z,2),pa-=2;return db}_project(pa,Z,Fa,Ga){let db=Infinity,ba,ma,q;if(0>Ga){if(Z<=this.ymin)return null;(ba=(this.ymin-Z)/Ga)<db&&(q=this.ymin,ma=pa+(db=ba)*Fa)}else if(0<Ga){if(Z>=this.ymax)return null;(ba=(this.ymax-Z)/Ga)<db&&(q=this.ymax,
ma=pa+(db=ba)*Fa)}if(0<Fa){if(pa>=this.xmax)return null;(ba=(this.xmax-pa)/Fa)<db&&(ma=this.xmax,q=Z+ba*Ga)}else if(0>Fa){if(pa<=this.xmin)return null;(ba=(this.xmin-pa)/Fa)<db&&(ma=this.xmin,q=Z+ba*Ga)}return[ma,q]}_edgecode(pa,Z){return(pa===this.xmin?1:pa===this.xmax?2:0)|(Z===this.ymin?4:Z===this.ymax?8:0)}_regioncode(pa,Z){return(pa<this.xmin?1:pa>this.xmax?2:0)|(Z<this.ymin?4:Z>this.ymax?8:0)}};const sb=2*Math.PI,Qb=Math.pow;class Wb{static from(pa,Z=jc,Fa=Yb,Ga){if("length"in pa){const db=
pa.length,ba=new Float64Array(2*db);for(let ma=0;ma<db;++ma){const q=pa[ma];ba[2*ma]=Z.call(Ga,q,ma,pa);ba[2*ma+1]=Fa.call(Ga,q,ma,pa)}pa=ba}else pa=Float64Array.from(Kb(pa,Z,Fa,Ga));return new Wb(pa)}constructor(pa){this._delaunator=new lb(pa);this.inedges=new Int32Array(pa.length/2);this._hullIndex=new Int32Array(pa.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var pa=this._delaunator;const Z=this.points;if(pa.hull&&
2<pa.hull.length&&Ua(pa)){this.collinear=Int32Array.from({length:Z.length/2},(ma,q)=>q).sort((ma,q)=>Z[2*ma]-Z[2*q]||Z[2*ma+1]-Z[2*q+1]);pa=this.collinear[0];var Fa=this.collinear[this.collinear.length-1];pa=[Z[2*pa],Z[2*pa+1],Z[2*Fa],Z[2*Fa+1]];pa=1E-8*Math.hypot(pa[3]-pa[1],pa[2]-pa[0]);for(let ma=0,q=Z.length/2;ma<q;++ma)Fa=ub(Z[2*ma],Z[2*ma+1],pa),Z[2*ma]=Fa[0],Z[2*ma+1]=Fa[1];this._delaunator=new lb(Z)}else delete this.collinear;pa=this.halfedges=this._delaunator.halfedges;Fa=this.hull=this._delaunator.hull;
const Ga=this.triangles=this._delaunator.triangles,db=this.inedges.fill(-1),ba=this._hullIndex.fill(-1);for(let ma=0,q=pa.length;ma<q;++ma){const M=Ga[2===ma%3?ma-2:ma+1];if(-1===pa[ma]||-1===db[M])db[M]=ma}for(let ma=0,q=Fa.length;ma<q;++ma)ba[Fa[ma]]=ma;2>=Fa.length&&0<Fa.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=Fa[0],db[Fa[0]]=1,2===Fa.length&&(db[Fa[1]]=0,this.triangles[1]=Fa[1],this.triangles[2]=Fa[1]))}voronoi(pa){return new xb(this,
pa)}*neighbors(pa){const {inedges:Z,hull:Fa,_hullIndex:Ga,halfedges:db,triangles:ba,collinear:ma}=this;if(ma){var q=ma.indexOf(pa);0<q&&(yield ma[q-1]);q<ma.length-1&&(yield ma[q+1])}else{var M=Z[pa];if(-1!==M){var Q=M;do{yield(q=ba[Q]);Q=2===Q%3?Q-2:Q+1;if(ba[Q]!==pa)break;Q=db[Q];if(-1===Q){pa=Fa[(Ga[pa]+1)%Fa.length];pa!==q&&(yield pa);break}}while(Q!==M)}}}find(pa,Z,Fa=0){if((pa=+pa,pa!==pa)||(Z=+Z,Z!==Z))return-1;const Ga=Fa;let db;for(;0<=(db=this._step(Fa,pa,Z))&&db!==Fa&&db!==Ga;)Fa=db;return db}_step(pa,
Z,Fa){const {inedges:Ga,hull:db,_hullIndex:ba,halfedges:ma,triangles:q,points:M}=this;if(-1===Ga[pa]||!M.length)return(pa+1)%(M.length>>1);let Q=pa,g=Qb(Z-M[2*pa],2)+Qb(Fa-M[2*pa+1],2);const u=Ga[pa];let m=u;do{let C=q[m];const B=Qb(Z-M[2*C],2)+Qb(Fa-M[2*C+1],2);B<g&&(g=B,Q=C);m=2===m%3?m-2:m+1;if(q[m]!==pa)break;m=ma[m];if(-1===m){m=db[(ba[pa]+1)%db.length];if(m!==C&&Qb(Z-M[2*m],2)+Qb(Fa-M[2*m+1],2)<g)return m;break}}while(m!==u);return Q}render(pa){const Z=null==pa?pa=new mb:void 0,{points:Fa,halfedges:Ga,
triangles:db}=this;for(let ma=0,q=Ga.length;ma<q;++ma){var ba=Ga[ma];if(ba<ma)continue;const M=2*db[ma];ba=2*db[ba];pa.moveTo(Fa[M],Fa[M+1]);pa.lineTo(Fa[ba],Fa[ba+1])}this.renderHull(pa);return Z&&Z.value()}renderPoints(pa,Z){void 0!==Z||pa&&"function"===typeof pa.moveTo||(Z=pa,pa=null);Z=void 0==Z?2:+Z;const Fa=null==pa?pa=new mb:void 0,{points:Ga}=this;for(let db=0,ba=Ga.length;db<ba;db+=2){const ma=Ga[db],q=Ga[db+1];pa.moveTo(ma+Z,q);pa.arc(ma,q,Z,0,sb)}return Fa&&Fa.value()}renderHull(pa){const Z=
null==pa?pa=new mb:void 0,{hull:Fa,points:Ga}=this;var db=2*Fa[0];const ba=Fa.length;pa.moveTo(Ga[db],Ga[db+1]);for(db=1;db<ba;++db){const ma=2*Fa[db];pa.lineTo(Ga[ma],Ga[ma+1])}pa.closePath();return Z&&Z.value()}hullPolygon(){const pa=new Pa;this.renderHull(pa);return pa.value()}renderTriangle(pa,Z){const Fa=null==Z?Z=new mb:void 0,{points:Ga,triangles:db}=this,ba=2*db[pa*=3],ma=2*db[pa+1];pa=2*db[pa+2];Z.moveTo(Ga[ba],Ga[ba+1]);Z.lineTo(Ga[ma],Ga[ma+1]);Z.lineTo(Ga[pa],Ga[pa+1]);Z.closePath();return Fa&&
Fa.value()}*trianglePolygons(){const {triangles:pa}=this;for(let Z=0,Fa=pa.length/3;Z<Fa;++Z)yield this.trianglePolygon(Z)}trianglePolygon(pa){const Z=new Pa;this.renderTriangle(pa,Z);return Z.value()}}Lb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},
{name:"as",type:"string","default":"path"}]};const nb=[-1E5,-1E5,1E5,1E5];P.inherits(Lb,k.Transform,{transform(pa,Z){const Fa=pa.as||"path",Ga=Z.source;if(!Ga||!Ga.length)return Z;var db=pa.size;db=db?[0,0,db[0],db[1]]:(db=pa.extent)?[db[0][0],db[0][1],db[1][0],db[1][1]]:nb;db=this.value=Wb.from(Ga,pa.x,pa.y).voronoi(db);for(let q=0,M=Ga.length;q<M;++q){var ba=db.cellPolygon(q),ma=Ga[q];if(ba){const Q=ba[0][0],g=ba[0][1];let u=ba.length-1;for(;ba[u][0]===Q&&ba[u][1]===g;--u);ba="M"+ba.slice(0,u+1).join("L")+
"Z"}else ba=null;ma[Fa]=ba}return Z.reflow(pa.modified()).modifies(Fa)}});v.voronoi=Lb})};
shadow$provide[54]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(31),Fb(28),Fb(20),Fb(32),Fb(29)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Hb,ac){function vc(){function Pb(pa){pa.width=pa.height=1;var Z=Math.sqrt(pa.getContext("2d").getImageData(0,
0,1,1).data.length>>2);pa.width=2048/Z;pa.height=2048/Z;pa=pa.getContext("2d");pa.fillStyle=pa.strokeStyle="red";pa.textAlign="center";return{context:pa,ratio:Z}}function ab(pa,Z,Fa){for(var Ga=Z.x,db=Z.y,ba=Math.sqrt(pb[0]*pb[0]+pb[1]*pb[1]),ma=sb(pb),q=.5>Wb()?1:-1,M=-q,Q,g;Q=ma(M+=q);){g=~~Q[0];Q=~~Q[1];if(Math.min(Math.abs(g),Math.abs(Q))>=ba)break;Z.x=Ga+g;Z.y=db+Q;if(!(0>Z.x+Z.x0||0>Z.y+Z.y0||Z.x+Z.x1>pb[0]||Z.y+Z.y1>pb[1])){if(!(g=!Fa)){a:{g=pb[0];g>>=5;Q=Z.sprite;var u=Z.width>>5;var m=Z.x-
(u<<4);for(var C=m&127,B=32-C,A=Z.y1-Z.y0,E=(Z.y+Z.y0)*g+(m>>5),H=0;H<A;H++){for(var V=m=0;V<=u;V++)if((m<<B|(V<u?(m=Q[H*u+V])>>>C:0))&pa[E+V]){g=!0;break a}E+=g}g=!1}g=!g}if(g&&(!Fa||Z.x+Z.x1>Fa[0].x&&Z.x+Z.x0<Fa[1].x&&Z.y+Z.y1>Fa[0].y&&Z.y+Z.y0<Fa[1].y)){Fa=Z.sprite;Ga=Z.width>>5;db=pb[0]>>5;M=Z.x-(Ga<<4);ba=M&127;ma=32-ba;q=Z.y1-Z.y0;M=(Z.y+Z.y0)*db+(M>>5);for(Q=0;Q<q;Q++){for(u=g=0;u<=Ga;u++)pa[M+u]=pa[M+u]|g<<ma|(u<Ga?(g=Fa[Q*Ga+u])>>>ba:0);M+=db}Z.sprite=null;return!0}}}return!1}var pb=[256,
256],Qa,Da,Ka,lb,mb,Pa,xb,sb=Cb,Qb=[],Wb=Math.random,nb={layout:function(){for(var pa=Pb(k.canvas()),Z=jc((pb[0]>>5)*pb[1]),Fa=null,Ga=Qb.length,db=-1,ba=[],ma=Qb.map(M=>({text:Qa(M),font:Da(M),style:lb(M),weight:mb(M),rotate:Pa(M),size:~~(Ka(M)+1E-14),padding:xb(M),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:M})).sort((M,Q)=>Q.size-M.size);++db<Ga;){var q=ma[db];q.x=pb[0]*(Wb()+.5)>>1;q.y=pb[1]*(Wb()+.5)>>1;Ac(pa,q,ma,db);q.hasText&&ab(Z,q,Fa)&&(ba.push(q),Fa?uc(Fa,q):Fa=[{x:q.x+
q.x0,y:q.y+q.y0},{x:q.x+q.x1,y:q.y+q.y1}],q.x-=pb[0]>>1,q.y-=pb[1]>>1)}return ba},words:function(pa){return arguments.length?(Qb=pa,nb):Qb},size:function(pa){return arguments.length?(pb=[+pa[0],+pa[1]],nb):pb},font:function(pa){return arguments.length?(Da=Yb(pa),nb):Da},fontStyle:function(pa){return arguments.length?(lb=Yb(pa),nb):lb},fontWeight:function(pa){return arguments.length?(mb=Yb(pa),nb):mb},rotate:function(pa){return arguments.length?(Pa=Yb(pa),nb):Pa},text:function(pa){return arguments.length?
(Qa=Yb(pa),nb):Qa},spiral:function(pa){return arguments.length?(sb=Kb[pa]||pa,nb):sb},fontSize:function(pa){return arguments.length?(Ka=Yb(pa),nb):Ka},padding:function(pa){return arguments.length?(xb=Yb(pa),nb):xb},random:function(pa){return arguments.length?(Wb=pa,nb):Wb}};return nb}function Ac(Pb,ab,pb,Qa){if(!ab.sprite){var Da=Pb.context,Ka=Pb.ratio;Da.clearRect(0,0,2048/Ka,2048/Ka);var lb=Pb=0,mb=0,Pa=pb.length;for(--Qa;++Qa<Pa;){ab=pb[Qa];Da.save();Da.font=ab.style+" "+ab.weight+" "+~~((ab.size+
1)/Ka)+"px "+ab.font;var xb=Da.measureText(ab.text+"m").width*Ka;var sb=ab.size<<1;if(ab.rotate){var Qb=Math.sin(ab.rotate*ub),Wb=Math.cos(ab.rotate*ub),nb=xb*Wb,pa=xb*Qb;Wb*=sb;xb=sb*Qb;xb=Math.max(Math.abs(nb+xb),Math.abs(nb-xb))+31>>5<<5;sb=~~Math.max(Math.abs(pa+Wb),Math.abs(pa-Wb))}else xb=xb+31>>5<<5;sb>mb&&(mb=sb);2048<=Pb+xb&&(Pb=0,lb+=mb,mb=0);if(2048<=lb+sb)break;Da.translate((Pb+(xb>>1))/Ka,(lb+(sb>>1))/Ka);ab.rotate&&Da.rotate(ab.rotate*ub);Da.fillText(ab.text,0,0);ab.padding&&(Da.lineWidth=
2*ab.padding,Da.strokeText(ab.text,0,0));Da.restore();ab.width=xb;ab.height=sb;ab.xoff=Pb;ab.yoff=lb;ab.x1=xb>>1;ab.y1=sb>>1;ab.x0=-ab.x1;ab.y0=-ab.y1;ab.hasText=!0;Pb+=xb}Pa=Da.getImageData(0,0,2048/Ka,2048/Ka).data;for(nb=[];0<=--Qa;)if(ab=pb[Qa],ab.hasText){xb=ab.width;Da=xb>>5;sb=ab.y1-ab.y0;for(Ka=0;Ka<sb*Da;Ka++)nb[Ka]=0;Pb=ab.xoff;if(null==Pb)break;lb=ab.yoff;pa=0;Qb=-1;for(mb=0;mb<sb;mb++){for(Ka=0;Ka<xb;Ka++)Wb=Pa[2048*(lb+mb)+(Pb+Ka)<<2]?1<<31-Ka%32:0,nb[Da*mb+(Ka>>5)]|=Wb,pa|=Wb;pa?Qb=
mb:(ab.y0++,sb--,mb--,lb++)}ab.y1=ab.y0+Qb;ab.sprite=nb.slice(0,(ab.y1-ab.y0)*Da)}}}function uc(Pb,ab){var pb=Pb[0];Pb=Pb[1];ab.x+ab.x0<pb.x&&(pb.x=ab.x+ab.x0);ab.y+ab.y0<pb.y&&(pb.y=ab.y+ab.y0);ab.x+ab.x1>Pb.x&&(Pb.x=ab.x+ab.x1);ab.y+ab.y1>Pb.y&&(Pb.y=ab.y+ab.y1)}function Cb(Pb){var ab=Pb[0]/Pb[1];return function(pb){return[ab*(pb*=.1)*Math.cos(pb),pb*Math.sin(pb)]}}function jc(Pb){for(var ab=[],pb=-1;++pb<Pb;)ab[pb]=0;return ab}function Yb(Pb){return"function"===typeof Pb?Pb:function(){return Pb}}
function Ua(Pb){P.Transform.call(this,vc(),Pb)}var ub=Math.PI/180,Kb={archimedean:Cb,rectangular:function(Pb){var ab=4*Pb[0]/Pb[1],pb=0,Qa=0;return function(Da){var Ka=0>Da?-1:1;switch(Math.sqrt(1+4*Ka*Da)-Ka&3){case 0:pb+=ab;break;case 1:Qa+=4;break;case 2:pb-=ab;break;default:Qa-=4}return[pb,Qa]}}};const Lb="x y font fontSize fontStyle fontWeight angle".split(" "),Db="text font rotate fontSize fontStyle fontWeight".split(" ");Ua.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",
type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",
expr:!0},{name:"as",type:"string",array:!0,length:7,"default":Lb}]};ib.inherits(Ua,P.Transform,{transform(Pb,ab){function pb(xb){xb=Pb[xb];return ib.isFunction(xb)&&ab.modified(xb.fields)}!Pb.size||Pb.size[0]&&Pb.size[1]||ib.error("Wordcloud size dimensions must be non-zero.");const Qa=Pb.modified();if(Qa||ab.changed(ab.ADD_REM)||Db.some(pb)){var Da=ab.materialize(ab.SOURCE).source,Ka=this.value,lb=Pb.as||Lb,mb=Pb.fontSize||14,Pa;ib.isFunction(mb)?Pa=Pb.fontSizeRange:mb=ib.constant(mb);if(Pa){const xb=
mb,sb=Hb.scale("sqrt")().domain(ib.extent(Da,xb)).range(Pa);mb=Qb=>sb(xb(Qb))}Da.forEach(xb=>{xb[lb[0]]=NaN;xb[lb[1]]=NaN;xb[lb[3]]=0});Da=Ka.words(Da).text(Pb.text).size(Pb.size||[500,500]).padding(Pb.padding||1).spiral(Pb.spiral||"archimedean").rotate(Pb.rotate||0).font(Pb.font||"sans-serif").fontStyle(Pb.fontStyle||"normal").fontWeight(Pb.fontWeight||"normal").fontSize(mb).random(ac.random).layout();mb=Ka.size();Ka=mb[0]>>1;mb=mb[1]>>1;Pa=Da.length;for(let xb=0,sb,Qb;xb<Pa;++xb)sb=Da[xb],Qb=sb.datum,
Qb[lb[0]]=sb.x+Ka,Qb[lb[1]]=sb.y+mb,Qb[lb[2]]=sb.font,Qb[lb[3]]=sb.size,Qb[lb[4]]=sb.style,Qb[lb[5]]=sb.weight,Qb[lb[6]]=sb.rotate;return ab.reflow(Qa).modifies(lb)}}});v.wordcloud=Ua})};
shadow$provide[55]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(28),Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega))})(this,function(v,k,P){function ib(){let Da=8,Ka=[],lb=new Uint32Array(0),mb=Hb(0,Da),Pa=Hb(0,Da);return{data:()=>Ka,seen:()=>{var xb=lb;var sb=Ka.length;xb.length>=sb||(sb=new xb.constructor(sb),
sb.set(xb),xb=sb);return lb=xb},add(xb){for(let sb=0,Qb=Ka.length,Wb=xb.length,nb;sb<Wb;++sb)nb=xb[sb],nb._index=Qb++,Ka.push(nb)},remove(xb,sb){const Qb=Ka.length;xb=Array(Qb-xb);const Wb=Ka;let nb,pa,Z;for(pa=0;!sb[pa]&&pa<Qb;++pa)xb[pa]=Ka[pa],Wb[pa]=pa;for(Z=pa;pa<Qb;++pa)nb=Ka[pa],sb[pa]?Wb[pa]=-1:(Wb[pa]=Z,mb[Z]=mb[pa],Pa[Z]=Pa[pa],xb[Z]=nb,nb._index=Z++),mb[pa]=0;Ka=xb;return Wb},size:()=>Ka.length,curr:()=>mb,prev:()=>Pa,reset:xb=>Pa[xb]=mb[xb],all:()=>257>Da?255:65537>Da?65535:4294967295,
set(xb,sb){mb[xb]|=sb},clear(xb,sb){mb[xb]&=~sb},resize(xb,sb){if(xb>mb.length||sb>Da)Da=Math.max(sb,Da),mb=Hb(xb,Da,mb),Pa=Hb(xb,Da)}}}function Hb(Da,Ka,lb){Da=(257>Ka?Lb:65537>Ka?Db:Pb)(Da);lb&&Da.set(lb);return Da}function ac(Da,Ka,lb){const mb=1<<Ka;return{one:mb,zero:~mb,range:lb.slice(),bisect:Da.bisect,index:Da.index,size:Da.size,onAdd(Pa,xb){var sb=this.bisect(this.range,Pa.value);Pa=Pa.index;const Qb=sb[0];sb=sb[1];const Wb=Pa.length;let nb;for(nb=0;nb<Qb;++nb)xb[Pa[nb]]|=mb;for(nb=sb;nb<
Wb;++nb)xb[Pa[nb]]|=mb;return this}}}function vc(Da,Ka){return null==Da||null==Ka?NaN:Da<Ka?-1:Da>Ka?1:Da>=Ka?0:NaN}function Ac(Da,Ka){return null==Da||null==Ka?NaN:Ka<Da?-1:Ka>Da?1:Ka>=Da?0:NaN}function uc(Da){function Ka(xb,sb,Qb=0,Wb=xb.length){if(Qb<Wb){if(0!==lb(sb,sb))return Wb;do{const nb=Qb+Wb>>>1;0>mb(xb[nb],sb)?Qb=nb+1:Wb=nb}while(Qb<Wb)}return Qb}let lb,mb,Pa;2!==Da.length?(lb=vc,mb=(xb,sb)=>vc(Da(xb),sb),Pa=(xb,sb)=>Da(xb)-sb):(lb=Da===vc||Da===Ac?Da:Cb,Pa=mb=Da);return{left:Ka,center:function(xb,
sb,Qb=0,Wb=xb.length){Wb=Ka(xb,sb,Qb,Wb-1);return Wb>Qb&&Pa(xb[Wb-1],sb)>-Pa(xb[Wb],sb)?Wb-1:Wb},right:function(xb,sb,Qb=0,Wb=xb.length){if(Qb<Wb){if(0!==lb(sb,sb))return Wb;do{const nb=Qb+Wb>>>1;0>=mb(xb[nb],sb)?Qb=nb+1:Wb=nb}while(Qb<Wb)}return Qb}}}function Cb(){return 0}function jc(Da,Ka){return Array.from(Ka,lb=>Da[lb])}function Yb(){let Da=new Uint32Array(0),Ka=[],lb=0;return{insert:function(mb,Pa,xb){if(!Pa.length)return[];const sb=lb,Qb=Pa.length,Wb=new Uint32Array(Qb);let nb=Array(Qb);var pa;
for(pa=0;pa<Qb;++pa)nb[pa]=mb(Pa[pa]),Wb[pa]=pa;nb=Ua(nb,Wb);if(sb){mb=Ka;Pa=Da;Ka=Array(sb+Qb);Da=new Uint32Array(sb+Qb);pa=nb;var Z=Ka,Fa=Da;let Ga=0,db=0,ba;for(ba=0;Ga<sb&&db<Qb;++ba)mb[Ga]<pa[db]?(Z[ba]=mb[Ga],Fa[ba]=Pa[Ga++]):(Z[ba]=pa[db],Fa[ba]=Wb[db++]+xb);for(;Ga<sb;++Ga,++ba)Z[ba]=mb[Ga],Fa[ba]=Pa[Ga];for(;db<Qb;++db,++ba)Z[ba]=pa[db],Fa[ba]=Wb[db]+xb}else{if(0<xb)for(pa=0;pa<Qb;++pa)Wb[pa]+=xb;Ka=nb;Da=Wb}lb=sb+Qb;return{index:Wb,value:nb}},remove:function(mb,Pa){const xb=lb;let sb,Qb,
Wb;for(Qb=0;!Pa[Da[Qb]]&&Qb<xb;++Qb);for(Wb=Qb;Qb<xb;++Qb)Pa[sb=Da[Qb]]||(Da[Wb]=sb,Ka[Wb]=Ka[Qb],++Wb);lb=xb-mb},bisect:function(mb,Pa){let xb;Pa?xb=Pa.length:(Pa=Ka,xb=lb);return[Qa(Pa,mb[0],0,xb),pb(Pa,mb[1],0,xb)]},reindex:function(mb){for(let Pa=0,xb=lb;Pa<xb;++Pa)Da[Pa]=mb[Da[Pa]]},index:()=>Da,size:()=>lb}}function Ua(Da,Ka){Da.sort.call(Ka,(lb,mb)=>{lb=Da[lb];mb=Da[mb];return lb<mb?-1:lb>mb?1:0});return jc(Da,Ka)}function ub(Da){k.Transform.call(this,ib(),Da);this._dims=this._indices=null}
function Kb(Da){k.Transform.call(this,null,Da)}const Lb=Da=>new Uint8Array(Da),Db=Da=>new Uint16Array(Da),Pb=Da=>new Uint32Array(Da),ab=uc(vc),pb=ab.right,Qa=ab.left;uc(function(Da){return null===Da?NaN:+Da}).center;ub.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};P.inherits(ub,k.Transform,{transform(Da,Ka){return this._dims?Da.modified("fields")||Da.fields.some(lb=>
Ka.modified(lb.fields))?this.reinit(Da,Ka):this.eval(Da,Ka):this.init(Da,Ka)},init(Da,Ka){const lb=Da.fields,mb=Da.query,Pa=this._indices={},xb=this._dims=[],sb=mb.length;let Qb=0;for(var Wb;Qb<sb;++Qb)Wb=lb[Qb].fname,Wb=Pa[Wb]||(Pa[Wb]=Yb()),xb.push(ac(Wb,Qb,mb[Qb]));return this.eval(Da,Ka)},reinit(Da,Ka){const lb=Ka.materialize().fork(),mb=Da.fields,Pa=Da.query,xb=this._indices,sb=this._dims,Qb=this.value,Wb=Qb.curr(),nb=Qb.prev(),pa=Qb.all(),Z=lb.rem=lb.add,Fa=lb.mod,Ga=Pa.length,db={};let ba;
var ma;let q,M,Q,g;nb.set(Wb);Ka.rem.length&&(q=this.remove(Da,Ka,lb));Ka.add.length&&Qb.add(Ka.add);if(Ka.mod.length){M={};var u=Ka.mod;Q=0;for(ma=u.length;Q<ma;++Q)M[u[Q]._index]=1}for(Q=0;Q<Ga;++Q)if(g=mb[Q],!sb[Q]||Da.modified("fields",Q)||Ka.modified(g.fields))ma=g.fname,(u=db[ma])||(xb[ma]=ba=Yb(),db[ma]=u=ba.insert(g,Ka.source,0)),sb[Q]=ac(ba,Q,Pa[Q]).onAdd(u,Wb);Q=0;for(ma=Qb.data().length;Q<ma;++Q)q[Q]||(nb[Q]!==Wb[Q]?Z.push(Q):M[Q]&&Wb[Q]!==pa&&Fa.push(Q));Qb.mask=(1<<Ga)-1;return lb},eval(Da,
Ka){const lb=Ka.materialize().fork(),mb=this._dims.length;let Pa=0;Ka.rem.length&&(this.remove(Da,Ka,lb),Pa|=(1<<mb)-1);Da.modified("query")&&!Da.modified("fields")&&(Pa|=this.update(Da,Ka,lb));Ka.add.length&&(this.insert(Da,Ka,lb),Pa|=(1<<mb)-1);Ka.mod.length&&(this.modify(Ka,lb),Pa|=(1<<mb)-1);this.value.mask=Pa;return lb},insert(Da,Ka,lb){Ka=Ka.add;var mb=this.value;const Pa=this._dims,xb=this._indices;Da=Da.fields;const sb={};lb=lb.add;const Qb=mb.size()+Ka.length,Wb=Pa.length;let nb=mb.size();
mb.resize(Qb,Wb);mb.add(Ka);const pa=mb.curr(),Z=mb.prev(),Fa=mb.all();for(mb=0;mb<Wb;++mb){var Ga=Da[mb].fname;Ga=sb[Ga]||(sb[Ga]=xb[Ga].insert(Da[mb],Ka,nb));Pa[mb].onAdd(Ga,pa)}for(;nb<Qb;++nb)Z[nb]=Fa,pa[nb]!==Fa&&lb.push(nb)},modify(Da,Ka){Ka=Ka.mod;var lb=this.value;const mb=lb.curr();lb=lb.all();Da=Da.mod;let Pa,xb,sb;Pa=0;for(xb=Da.length;Pa<xb;++Pa)sb=Da[Pa]._index,mb[sb]!==lb&&Ka.push(sb)},remove(Da,Ka,lb){Da=this._indices;var mb=this.value;const Pa=mb.curr(),xb=mb.prev();mb=mb.all();const sb=
{};lb=lb.rem;const Qb=Ka.rem;let Wb,nb,pa,Z;Wb=0;for(nb=Qb.length;Wb<nb;++Wb)pa=Qb[Wb]._index,sb[pa]=1,xb[pa]=Z=Pa[pa],Pa[pa]=mb,Z!==mb&&lb.push(pa);for(pa in Da)Da[pa].remove(nb,sb);this.reindex(Ka,nb,sb);return sb},reindex(Da,Ka,lb){const mb=this._indices,Pa=this.value;Da.runAfter(()=>{const xb=Pa.remove(Ka,lb);for(const sb in mb)mb[sb].reindex(xb)})},update(Da,Ka,lb){const mb=this._dims,Pa=Da.query;Ka=Ka.stamp;const xb=mb.length;let sb=0,Qb,Wb;for(Wb=lb.filters=0;Wb<xb;++Wb)Da.modified("query",
Wb)&&(Qb=Wb,++sb);if(1===sb)sb=mb[Qb].one,this.incrementOne(mb[Qb],Pa[Qb],lb.add,lb.rem);else for(sb=Wb=0;Wb<xb;++Wb)Da.modified("query",Wb)&&(sb|=mb[Wb].one,this.incrementAll(mb[Wb],Pa[Wb],Ka,lb.add),lb.rem=lb.add);return sb},incrementAll(Da,Ka,lb,mb){var Pa=this.value;const xb=Pa.seen(),sb=Pa.curr();Pa=Pa.prev();const Qb=Da.index();var Wb=Da.bisect(Da.range),nb=Da.bisect(Ka);const pa=nb[0];nb=nb[1];const Z=Wb[0];Wb=Wb[1];const Fa=Da.one;let Ga,db,ba;if(pa<Z)for(Ga=pa,db=Math.min(Z,nb);Ga<db;++Ga)ba=
Qb[Ga],xb[ba]!==lb&&(Pa[ba]=sb[ba],xb[ba]=lb,mb.push(ba)),sb[ba]^=Fa;else if(pa>Z)for(Ga=Z,db=Math.min(pa,Wb);Ga<db;++Ga)ba=Qb[Ga],xb[ba]!==lb&&(Pa[ba]=sb[ba],xb[ba]=lb,mb.push(ba)),sb[ba]^=Fa;if(nb>Wb)for(Ga=Math.max(pa,Wb),db=nb;Ga<db;++Ga)ba=Qb[Ga],xb[ba]!==lb&&(Pa[ba]=sb[ba],xb[ba]=lb,mb.push(ba)),sb[ba]^=Fa;else if(nb<Wb)for(Ga=Math.max(Z,nb),db=Wb;Ga<db;++Ga)ba=Qb[Ga],xb[ba]!==lb&&(Pa[ba]=sb[ba],xb[ba]=lb,mb.push(ba)),sb[ba]^=Fa;Da.range=Ka.slice()},incrementOne(Da,Ka,lb,mb){const Pa=this.value.curr(),
xb=Da.index();var sb=Da.bisect(Da.range),Qb=Da.bisect(Ka);const Wb=Qb[0];Qb=Qb[1];const nb=sb[0];sb=sb[1];const pa=Da.one;let Z,Fa,Ga;if(Wb<nb)for(Z=Wb,Fa=Math.min(nb,Qb);Z<Fa;++Z)Ga=xb[Z],Pa[Ga]^=pa,lb.push(Ga);else if(Wb>nb)for(Z=nb,Fa=Math.min(Wb,sb);Z<Fa;++Z)Ga=xb[Z],Pa[Ga]^=pa,mb.push(Ga);if(Qb>sb)for(Z=Math.max(Wb,sb),Fa=Qb;Z<Fa;++Z)Ga=xb[Z],Pa[Ga]^=pa,lb.push(Ga);else if(Qb<sb)for(Z=Math.max(nb,Qb),Fa=sb;Z<Fa;++Z)Ga=xb[Z],Pa[Ga]^=pa,mb.push(Ga);Da.range=Ka.slice()}});Kb.Definition={type:"ResolveFilter",
metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};P.inherits(Kb,k.Transform,{transform(Da,Ka){const lb=~(Da.ignore||0);Da=Da.filter;const mb=Da.mask;if(0===(mb&lb))return Ka.StopPropagation;Ka=Ka.fork(Ka.ALL);const Pa=Da.data(),xb=Da.curr(),sb=Da.prev(),Qb=Wb=>xb[Wb]&lb?null:Pa[Wb];Ka.filter(Ka.MOD,Qb);mb&mb-1?(Ka.filter(Ka.ADD,
Wb=>{const nb=xb[Wb]&lb;return!nb&&nb^sb[Wb]&lb?Pa[Wb]:null}),Ka.filter(Ka.REM,Wb=>{const nb=xb[Wb]&lb;return!nb||nb^nb^sb[Wb]&lb?null:Pa[Wb]})):(Ka.filter(Ka.ADD,Qb),Ka.filter(Ka.REM,Wb=>(xb[Wb]&lb)===mb?Pa[Wb]:null));return Ka.filter(Ka.SOURCE,Wb=>Qb(Wb._index))}});v.crossfilter=ub;v.resolvefilter=Kb})};
shadow$provide[56]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function P(A){this.type=A}function ib(A){switch(A.type){case "ArrayExpression":return A.elements;case "BinaryExpression":case "LogicalExpression":return[A.left,A.right];case "CallExpression":return[A.callee].concat(A.arguments);
case "ConditionalExpression":return[A.test,A.consequent,A.alternate];case "MemberExpression":return[A.object,A.property];case "ObjectExpression":return A.properties;case "Property":return[A.key,A.value];case "UnaryExpression":return[A.argument];default:return[]}}function Hb(A,E){if(!A)throw Error("ASSERT: "+E);}function ac(A){return 48<=A&&57>=A}function vc(A){return 0<="0123456789abcdefABCDEF".indexOf(A)}function Ac(A){return 0<="01234567".indexOf(A)}function uc(A){return 10===A||13===A||8232===
A||8233===A}function Cb(A){return 36===A||95===A||65<=A&&90>=A||97<=A&&122>=A||92===A||128<=A&&g.test(String.fromCharCode(A))}function jc(A){return 36===A||95===A||65<=A&&90>=A||97<=A&&122>=A||48<=A&&57>=A||92===A||128<=A&&u.test(String.fromCharCode(A))}function Yb(){for(;q<M;){const A=ma.charCodeAt(q);if(32===A||9===A||11===A||12===A||160===A||5760<=A&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(A)||uc(A))++q;else break}}function Ua(A){var E=
0;var H="u"===A?4:2;for(A=0;A<H;++A)if(q<M&&vc(ma[q])){var V=ma[q++];E=16*E+"0123456789abcdef".indexOf(V.toLowerCase())}else Pa({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(E)}function ub(){var A=ma.charCodeAt(q++);var E=String.fromCharCode(A);92===A&&(117!==ma.charCodeAt(q)&&Pa({},"Unexpected token %0","ILLEGAL"),++q,(A=Ua("u"))&&"\\"!==A&&Cb(A.charCodeAt(0))||Pa({},"Unexpected token %0","ILLEGAL"),E=A);for(;q<M;){A=ma.charCodeAt(q);if(!jc(A))break;++q;E+=String.fromCharCode(A);
92===A&&(E=E.substr(0,E.length-1),117!==ma.charCodeAt(q)&&Pa({},"Unexpected token %0","ILLEGAL"),++q,(A=Ua("u"))&&"\\"!==A&&jc(A.charCodeAt(0))||Pa({},"Unexpected token %0","ILLEGAL"),E+=A)}return E}function Kb(){var A=q,E=ma.charCodeAt(q),H=ma[q];switch(E){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++q,{type:7,value:String.fromCharCode(E),start:A,end:q};default:var V=ma.charCodeAt(q+1);if(61===V)switch(E){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return q+=
2,{type:7,value:String.fromCharCode(E)+String.fromCharCode(V),start:A,end:q};case 33:case 61:return q+=2,61===ma.charCodeAt(q)&&++q,{type:7,value:ma.slice(A,q),start:A,end:q}}}E=ma.substr(q,4);if("\x3e\x3e\x3e\x3d"===E)return q+=4,{type:7,value:E,start:A,end:q};E=E.substr(0,3);if("\x3e\x3e\x3e"===E||"\x3c\x3c\x3d"===E||"\x3e\x3e\x3d"===E)return q+=3,{type:7,value:E,start:A,end:q};E=E.substr(0,2);if(H===E[1]&&0<="+-\x3c\x3e\x26|".indexOf(H)||"\x3d\x3e"===E)return q+=2,{type:7,value:E,start:A,end:q};
"//"===E&&Pa({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(H))return++q,{type:7,value:H,start:A,end:q};Pa({},"Unexpected token %0","ILLEGAL")}function Lb(){var A=ma[q];Hb(ac(A.charCodeAt(0))||"."===A,"Numeric literal must start with a decimal digit or a decimal point");var E=q;var H="";if("."!==A){H=ma[q++];A=ma[q];if("0"===H){if("x"===A||"X"===A){++q;for(H="";q<M&&vc(ma[q]);)H+=ma[q++];0===H.length&&Pa({},"Unexpected token %0","ILLEGAL");Cb(ma.charCodeAt(q))&&Pa({},
"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+H,16),start:E,end:q}}if(Ac(A)){for(H="0"+ma[q++];q<M&&Ac(ma[q]);)H+=ma[q++];(Cb(ma.charCodeAt(q))||ac(ma.charCodeAt(q)))&&Pa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(H,8),octal:!0,start:E,end:q}}A&&ac(A.charCodeAt(0))&&Pa({},"Unexpected token %0","ILLEGAL")}for(;ac(ma.charCodeAt(q));)H+=ma[q++];A=ma[q]}if("."===A){for(H+=ma[q++];ac(ma.charCodeAt(q));)H+=ma[q++];A=ma[q]}if("e"===A||"E"===A){H+=ma[q++];A=ma[q];
if("+"===A||"-"===A)H+=ma[q++];if(ac(ma.charCodeAt(q)))for(;ac(ma.charCodeAt(q));)H+=ma[q++];else Pa({},"Unexpected token %0","ILLEGAL")}Cb(ma.charCodeAt(q))&&Pa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(H),start:E,end:q}}function Db(A,E){let H=A;0<=E.indexOf("u")&&(H=H.replace(/\\u\{([0-9a-fA-F]+)\}/g,(V,Aa)=>{if(1114111>=parseInt(Aa,16))return"x";Pa({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(H)}catch(V){Pa({},"Invalid regular expression")}try{return new RegExp(A,
E)}catch(V){return null}}function Pb(){Yb();if(q>=M)return{type:2,start:q,end:q};var A=ma.charCodeAt(q);if(Cb(A)){A=q;if(92===ma.charCodeAt(q))var E=ub();else a:{for(E=q++;q<M;){var H=ma.charCodeAt(q);if(92===H){q=E;E=ub();break a}if(jc(H))++q;else break}E=ma.slice(E,q)}return{type:1===E.length?3:m.hasOwnProperty(E)?4:"null"===E?5:"true"===E||"false"===E?1:3,value:E,start:A,end:q}}if(40===A||41===A||59===A)return Kb();if(39===A||34===A){var V="";H=!1;A=ma[q];Hb("'"===A||'"'===A,"String literal must starts with a quote");
E=q;for(++q;q<M;){var Aa=ma[q++];if(Aa===A){A="";break}else if("\\"===Aa)if((Aa=ma[q++])&&uc(Aa.charCodeAt(0)))"\r"===Aa&&"\n"===ma[q]&&++q;else switch(Aa){case "u":case "x":if("{"===ma[q]){++q;var Y=ma[q];Aa=0;for("}"===Y&&Pa({},"Unexpected token %0","ILLEGAL");q<M;){Y=ma[q++];if(!vc(Y))break;Aa=16*Aa+"0123456789abcdef".indexOf(Y.toLowerCase())}(1114111<Aa||"}"!==Y)&&Pa({},"Unexpected token %0","ILLEGAL");Aa=65535>=Aa?String.fromCharCode(Aa):String.fromCharCode((Aa-65536>>10)+55296,(Aa-65536&1023)+
56320);V+=Aa}else V+=Ua(Aa);break;case "n":V+="\n";break;case "r":V+="\r";break;case "t":V+="\t";break;case "b":V+="\b";break;case "f":V+="\f";break;case "v":V+="\v";break;default:Ac(Aa)?(Y="01234567".indexOf(Aa),0!==Y&&(H=!0),q<M&&Ac(ma[q])&&(H=!0,Y=8*Y+"01234567".indexOf(ma[q++]),0<="0123".indexOf(Aa)&&q<M&&Ac(ma[q])&&(Y=8*Y+"01234567".indexOf(ma[q++]))),V+=String.fromCharCode(Y)):V+=Aa}else if(uc(Aa.charCodeAt(0)))break;else V+=Aa}""!==A&&Pa({},"Unexpected token %0","ILLEGAL");return{type:8,value:V,
octal:H,start:E,end:q}}return 46===A?ac(ma.charCodeAt(q+1))?Lb():Kb():ac(A)?Lb():Kb()}function ab(){const A=Q;q=A.end;Q=Pb();q=A.end;return A}function pb(){const A=q;Q=Pb();q=A}function Qa(A,E,H){const V=new P("||"===A||"\x26\x26"===A?"LogicalExpression":"BinaryExpression");V.operator=A;V.left=E;V.right=H;return V}function Da(A){const E=new P("Identifier");E.name=A;return E}function Ka(A){const E=new P("Literal");E.value=A.value;E.raw=ma.slice(A.start,A.end);A.regex&&("//"===E.raw&&(E.raw="/(?:)/"),
E.regex=A.regex);return E}function lb(A,E,H){const V=new P("MemberExpression");V.computed="["===A;V.object=E;V.property=H;V.computed||(H.member=!0);return V}function mb(A,E,H){const V=new P("Property");V.key=E;V.value=H;V.kind=A;return V}function Pa(A,E){var H=Array.prototype.slice.call(arguments,2),V=E.replace(/%(\d)/g,(Y,t)=>{Hb(t<H.length,"Message reference must be in range");return H[t]});var Aa=Error(V);Aa.index=q;Aa.description=V;throw Aa;}function xb(A){2===A.type&&Pa(A,"Unexpected end of input");
6===A.type&&Pa(A,"Unexpected number");8===A.type&&Pa(A,"Unexpected string");3===A.type&&Pa(A,"Unexpected identifier");4===A.type&&Pa(A,"Unexpected reserved word");Pa(A,"Unexpected token %0",A.value)}function sb(A){const E=ab();7===E.type&&E.value===A||xb(E)}function Qb(A){return 7===Q.type&&Q.value===A}function Wb(){q=Q.start;const A=ab();return 8===A.type||6===A.type?(A.octal&&Pa(A,"Octal literals are not allowed in strict mode."),Ka(A)):Da(A.value)}function nb(){if(Qb("(")){sb("(");var A=db();sb(")");
return A}if(Qb("[")){A=[];q=Q.start;for(sb("[");!Qb("]");)Qb(",")?(ab(),A.push(null)):(A.push(Ga()),Qb("]")||sb(","));ab();var E=new P("ArrayExpression");E.elements=A;return E}if(Qb("{")){A=[];E={};var H=String;q=Q.start;for(sb("{");!Qb("}");){q=Q.start;var V=Q;if(3===V.type){var Aa=Wb();sb(":");V=Ga();V=mb("init",Aa,V)}else 2===V.type||7===V.type?(xb(V),V=void 0):(Aa=Wb(),sb(":"),V=Ga(),V=mb("init",Aa,V));Aa="Identifier"===V.key.type?V.key.name:H(V.key.value);Aa="$"+Aa;Object.prototype.hasOwnProperty.call(E,
Aa)?Pa({},"Duplicate data property in object literal not allowed in strict mode"):E[Aa]=!0;A.push(V);Qb("}")||sb(",")}sb("}");E=new P("ObjectExpression");E.properties=A;return E}A=Q.type;q=Q.start;if(3===A||C[Q.value])E=Da(ab().value);else if(8===A||6===A)Q.octal&&Pa(Q,"Octal literals are not allowed in strict mode."),E=Ka(ab());else{if(4===A)throw Error("Disabled.");if(1===A)A=ab(),A.value="true"===A.value,E=Ka(A);else if(5===A)A=ab(),A.value=null,E=Ka(A);else if(Qb("/")||Qb("/\x3d")){var Y;Q=null;
Yb();A=q;E=ma[q];Hb("/"===E,"Regular expression literal must start with a slash");H=ma[q++];for(Aa=V=!1;q<M;)if(E=ma[q++],H+=E,"\\"===E)E=ma[q++],uc(E.charCodeAt(0))&&Pa({},"Invalid regular expression: missing /"),H+=E;else if(uc(E.charCodeAt(0)))Pa({},"Invalid regular expression: missing /");else if(V)"]"===E&&(V=!1);else if("/"===E){Aa=!0;break}else"["===E&&(V=!0);Aa||Pa({},"Invalid regular expression: missing /");E=H.substr(1,H.length-2);for(Y=Aa="";q<M;){V=ma[q];if(!jc(V.charCodeAt(0)))break;
++q;"\\"===V&&q<M?Pa({},"Unexpected token %0","ILLEGAL"):(Y+=V,Aa+=V)}0<=Y.search(/[^gimuy]/g)&&Pa({},"Invalid regular expression",Y);V=Y;Y=Db(E,V);E=Ka({literal:H+Aa,value:Y,regex:{pattern:E,flags:V},start:A,end:q});pb()}else xb(ab())}return E}function pa(){var A;for(A=nb();;)if(Qb(".")){sb(".");q=Q.start;var E=ab();3===E.type||4===E.type||1===E.type||5===E.type||xb(E);E=Da(E.value);A=lb(".",A,E)}else if(Qb("(")){E=[];sb("(");if(!Qb(")"))for(;q<M;){E.push(Ga());if(Qb(")"))break;sb(",")}sb(")");const H=
new P("CallExpression");H.callee=A;H.arguments=E;A=H}else if(Qb("["))sb("["),E=db(),sb("]"),A=lb("[",A,E);else break;if(7===Q.type&&(Qb("++")||Qb("--")))throw Error("Disabled.");return A}function Z(){if(7!==Q.type&&4!==Q.type)var A=pa();else{if(Qb("++")||Qb("--"))throw Error("Disabled.");if(Qb("+")||Qb("-")||Qb("~")||Qb("!")){var E=ab();A=Z();E=E.value;const H=new P("UnaryExpression");H.operator=E;H.argument=A;H.prefix=!0;A=H}else{if(4===Q.type&&"delete"===Q.value||4===Q.type&&"void"===Q.value||4===
Q.type&&"typeof"===Q.value)throw Error("Disabled.");A=pa()}}return A}function Fa(A){let E=0;if(7!==A.type&&4!==A.type)return 0;switch(A.value){case "||":E=1;break;case "\x26\x26":E=2;break;case "|":E=3;break;case "^":E=4;break;case "\x26":E=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":E=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":E=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":E=8;break;case "+":case "-":E=
9;break;case "*":case "/":case "%":E=11}return E}function Ga(){var A=Q;var E=Z();var H=Q;var V=Fa(H);if(0===V)var Aa=E;else{H.prec=V;ab();A=[A,Q];var Y=Z();for(Aa=[E,H,Y];0<(V=Fa(Q));){for(;2<Aa.length&&V<=Aa[Aa.length-2].prec;)Y=Aa.pop(),H=Aa.pop().value,E=Aa.pop(),A.pop(),E=Qa(H,E,Y),Aa.push(E);H=ab();H.prec=V;Aa.push(H);A.push(Q);E=Z();Aa.push(E)}V=Aa.length-1;E=Aa[V];for(A.pop();1<V;)A.pop(),E=Qa(Aa[V-1].value,Aa[V-2],E),V-=2;Aa=E}Qb("?")&&(ab(),A=Ga(),sb(":"),V=Ga(),E=new P("ConditionalExpression"),
E.test=Aa,E.consequent=A,E.alternate=V,Aa=E);return Aa}function db(){const A=Ga();if(Qb(","))throw Error("Disabled.");return A}function ba(A){function E(H,V,Aa){return Y=>{let t=A(Y[0]);V&&(t=V+"("+t+")",0===V.lastIndexOf("new ",0)&&(t="("+t+")"));return t+"."+H+(0>Aa?"":0===Aa?"()":"("+Y.slice(1).map(A).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(H){3>H.length&&k.error("Missing arguments to clamp function.");3<H.length&&k.error("Too many arguments to clamp function.");H=H.map(A);return"Math.max("+H[1]+", Math.min("+H[2]+","+H[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:E("getDate","new Date",0),day:E("getDay","new Date",0),
year:E("getFullYear","new Date",0),month:E("getMonth","new Date",0),hours:E("getHours","new Date",0),minutes:E("getMinutes","new Date",0),seconds:E("getSeconds","new Date",0),milliseconds:E("getMilliseconds","new Date",0),time:E("getTime","new Date",0),timezoneoffset:E("getTimezoneOffset","new Date",0),utcdate:E("getUTCDate","new Date",0),utcday:E("getUTCDay","new Date",0),utcyear:E("getUTCFullYear","new Date",0),utcmonth:E("getUTCMonth","new Date",0),utchours:E("getUTCHours","new Date",0),utcminutes:E("getUTCMinutes",
"new Date",0),utcseconds:E("getUTCSeconds","new Date",0),utcmilliseconds:E("getUTCMilliseconds","new Date",0),length:E("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:E("toUpperCase","String",0),lower:E("toLowerCase","String",0),substring:E("substring","String"),split:E("split","String"),trim:E("trim","String",0),regexp:"RegExp",test:E("test","RegExp"),if:function(H){3>H.length&&k.error("Missing arguments to if function.");3<H.length&&k.error("Too many arguments to if function.");
H=H.map(A);return"("+H[0]+"?"+H[1]+":"+H[2]+")"}}}P.prototype.visit=function(A){let E,H,V;if(A(this))return 1;E=ib(this);H=0;for(V=E.length;H<V;++H)if(E[H].visit(A))return 1};var ma,q,M,Q,g=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
u=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const m={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},C={"if":1};var B={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};v.ASTNode=P;v.ArrayExpression="ArrayExpression";v.BinaryExpression="BinaryExpression";v.CallExpression="CallExpression";v.ConditionalExpression="ConditionalExpression";v.Identifier="Identifier";v.Literal="Literal";v.LogicalExpression="LogicalExpression";v.MemberExpression="MemberExpression";v.ObjectExpression="ObjectExpression";v.Property="Property";
v.RawCode="RawCode";v.UnaryExpression="UnaryExpression";v.codegenExpression=function(A){function E(Xa){if(k.isString(Xa))return Xa;const Jb=Ca[Xa.type];null==Jb&&k.error("Unsupported type: "+Xa.type);return Jb(Xa)}function H(Xa){Xa={code:E(Xa),globals:Object.keys(Wa),fields:Object.keys($a)};Wa={};$a={};return Xa}A=A||{};const V=A.allowed?k.toSet(A.allowed):{},Aa=A.forbidden?k.toSet(A.forbidden):{},Y=A.constants||B,t=(A.functions||ba)(E),L=A.globalvar,va=A.fieldvar,La=k.isFunction(L)?L:Xa=>`${L}["${Xa}"]`;
let Wa={},$a={},X=0;const Ca={Literal:Xa=>Xa.raw,Identifier:Xa=>{Xa=Xa.name;if(0<X)return Xa;if(k.hasOwnProperty(Aa,Xa))return k.error("Illegal identifier: "+Xa);if(k.hasOwnProperty(Y,Xa))return Y[Xa];if(k.hasOwnProperty(V,Xa))return Xa;Wa[Xa]=1;return La(Xa)},MemberExpression:Xa=>{const Jb=!Xa.computed,yc=E(Xa.object);Jb&&(X+=1);Xa=E(Xa.property);if(yc===va){var sc=$a;var xc=(xc=Xa&&Xa.length-1)&&('"'===Xa[0]&&'"'===Xa[xc]||"'"===Xa[0]&&"'"===Xa[xc])?Xa.slice(1,-1):Xa;sc[xc]=1}Jb&&--X;return yc+
(Jb?"."+Xa:"["+Xa+"]")},CallExpression:Xa=>{"Identifier"!==Xa.callee.type&&k.error("Illegal callee type: "+Xa.callee.type);const Jb=Xa.callee.name;Xa=Xa.arguments;const yc=k.hasOwnProperty(t,Jb)&&t[Jb];yc||k.error("Unrecognized function: "+Jb);return k.isFunction(yc)?yc(Xa):yc+"("+Xa.map(E).join(",")+")"},ArrayExpression:Xa=>"["+Xa.elements.map(E).join(",")+"]",BinaryExpression:Xa=>"("+E(Xa.left)+" "+Xa.operator+" "+E(Xa.right)+")",UnaryExpression:Xa=>"("+Xa.operator+E(Xa.argument)+")",ConditionalExpression:Xa=>
"("+E(Xa.test)+"?"+E(Xa.consequent)+":"+E(Xa.alternate)+")",LogicalExpression:Xa=>"("+E(Xa.left)+Xa.operator+E(Xa.right)+")",ObjectExpression:Xa=>"{"+Xa.properties.map(E).join(",")+"}",Property:Xa=>{X+=1;const Jb=E(Xa.key);--X;return Jb+":"+E(Xa.value)}};H.functions=t;H.constants=Y;return H};v.constants=B;v.functions=ba;v.parseExpression=function(A){ma=A;q=0;M=ma.length;Q=null;pb();A=db();if(2!==Q.type)throw Error("Unexpect token after expression.");return A}})};
shadow$provide[57]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(56)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(ab,pb){return null==ab||null==pb?NaN:ab<pb?-1:ab>pb?1:ab>=pb?0:NaN}function Hb(ab,pb){return null==ab||null==pb?NaN:pb<ab?-1:pb>ab?1:pb>=ab?0:NaN}function ac(){return 0}function vc({_intern:ab,
_key:pb},Qa){pb=pb(Qa);return ab.has(pb)?ab.get(pb):Qa}function Ac({_intern:ab,_key:pb},Qa){pb=pb(Qa);if(ab.has(pb))return ab.get(pb);ab.set(pb,Qa);return Qa}function uc({_intern:ab,_key:pb},Qa){pb=pb(Qa);ab.has(pb)&&(Qa=ab.get(pb),ab.delete(pb));return Qa}function Cb(ab){return null!==ab&&"object"===typeof ab?ab.valueOf():ab}function jc(ab){return ab instanceof Ua?ab:new Ua(ab)}function Yb(ab,pb){var Qa=pb.fields;pb=pb.values;for(var Da=Qa.length,Ka=0,lb,mb;Ka<Da;++Ka)if(mb=Qa[Ka],mb.getter=k.field.getter||
k.field(mb.field),lb=mb.getter(ab),k.isDate(lb)&&(lb=k.toNumber(lb)),k.isDate(pb[Ka])&&(pb[Ka]=k.toNumber(pb[Ka])),k.isDate(pb[Ka][0])&&(pb[Ka]=pb[Ka].map(k.toNumber)),"E"===mb.type){if(k.isArray(pb[Ka])?0>pb[Ka].indexOf(lb):lb!==pb[Ka])return!1}else if("R"===mb.type){if(!k.inrange(lb,pb[Ka]))return!1}else if("R-RE"===mb.type){if(!k.inrange(lb,pb[Ka],!0,!1))return!1}else if("R-E"===mb.type){if(!k.inrange(lb,pb[Ka],!1,!1))return!1}else if("R-LE"===mb.type&&!k.inrange(lb,pb[Ka],!1,!0))return!1;return!0}
class Ua extends Set{constructor(ab,pb=Cb){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:pb}});if(null!=ab)for(const Qa of ab)this.add(Qa)}has(ab){return super.has(vc(this,ab))}add(ab){return super.add(Ac(this,ab))}delete(ab){return super.delete(uc(this,ab))}}const ub=k.field("_vgsid_"),Kb=function(ab){function pb(lb,mb,Pa=0,xb=lb.length){if(Pa<xb){if(0!==Qa(mb,mb))return xb;do{const sb=Pa+xb>>>1;0>Da(lb[sb],mb)?Pa=sb+1:xb=sb}while(Pa<xb)}return Pa}let Qa,Da,Ka;2!==ab.length?
(Qa=ib,Da=(lb,mb)=>ib(ab(lb),mb),Ka=(lb,mb)=>ab(lb)-mb):(Qa=ab===ib||ab===Hb?ab:ac,Ka=Da=ab);return{left:pb,center:function(lb,mb,Pa=0,xb=lb.length){xb=pb(lb,mb,Pa,xb-1);return xb>Pa&&Ka(lb[xb-1],mb)>-Ka(lb[xb],mb)?xb-1:xb},right:function(lb,mb,Pa=0,xb=lb.length){if(Pa<xb){if(0!==Qa(mb,mb))return xb;do{const sb=Pa+xb>>>1;0>=Da(lb[sb],mb)?Pa=sb+1:xb=sb}while(Pa<xb)}return Pa}}}(ub),Lb=Kb.left,Db=Kb.right;var Pb={_vgsid__union:function(...ab){const pb=new Ua;for(const Qa of ab)for(const Da of Qa)pb.add(Da);
return pb},_vgsid__intersect:function(ab,...pb){ab=new Ua(ab);pb=pb.map(jc);a:for(const Qa of ab)for(const Da of pb)if(!Da.has(Qa)){ab.delete(Qa);continue a}return ab},E_union:function(ab,pb){if(!ab.length)return pb;for(var Qa=0,Da=pb.length;Qa<Da;++Qa)0>ab.indexOf(pb[Qa])&&ab.push(pb[Qa]);return ab},E_intersect:function(ab,pb){return ab.length?ab.filter(Qa=>0<=pb.indexOf(Qa)):pb},R_union:function(ab,pb){var Qa=k.toNumber(pb[0]),Da=k.toNumber(pb[1]);Qa>Da&&(Qa=pb[1],Da=pb[0]);if(!ab.length)return[Qa,
Da];ab[0]>Qa&&(ab[0]=Qa);ab[1]<Da&&(ab[1]=Da);return ab},R_intersect:function(ab,pb){var Qa=k.toNumber(pb[0]),Da=k.toNumber(pb[1]);Qa>Da&&(Qa=pb[1],Da=pb[0]);if(!ab.length)return[Qa,Da];if(Da<ab[0]||ab[1]<Qa)return[];ab[0]<Qa&&(ab[0]=Qa);ab[1]>Da&&(ab[1]=Da);return ab}};v.selectionIdTest=function(ab,pb,Qa){var Da=this.context.data[ab];ab=Da?Da.values.value:[];Da=Da?Da["index:unit"]&&Da["index:unit"].value:void 0;Qa="intersect"===Qa;pb=ub(pb);const Ka=Lb(ab,pb);if(Ka===ab.length||ub(ab[Ka])!==pb)return!1;
if(Da&&Qa){if(1===Da.size)return!0;if(Db(ab,pb)-Ka<Da.size)return!1}return!0};v.selectionResolve=function(ab,pb,Qa,Da){ab=(ab=this.context.data[ab])?ab.values.value:[];for(var Ka={},lb={},mb={},Pa,xb,sb,Qb,Wb,nb,pa=ab.length,Z=0,Fa,Ga;Z<pa;++Z)if(Pa=ab[Z],Qb=Pa.unit,xb=Pa.fields,sb=Pa.values,xb&&sb){Fa=0;for(Ga=xb.length;Fa<Ga;++Fa)Wb=xb[Fa],Pa=Ka[Wb.field]||(Ka[Wb.field]={}),nb=Pa[Qb]||(Pa[Qb]=[]),mb[Wb.field]=Wb=Wb.type.charAt(0),Wb=Pb[`${Wb}_union`],Pa[Qb]=Wb(nb,k.array(sb[Fa]));Qa&&(nb=lb[Qb]||
(lb[Qb]=[]),nb.push(k.array(sb).reduce((db,ba,ma)=>(db[xb[ma].field]=ba,db),{})))}else Wb="_vgsid_",sb=ub(Pa),Pa=Ka[Wb]||(Ka[Wb]={}),nb=Pa[Qb]||(Pa[Qb]=[]),nb.push(sb),Qa&&(nb=lb[Qb]||(lb[Qb]=[]),nb.push({_vgsid_:sb}));pb=pb||"union";Ka._vgsid_?Ka._vgsid_=Pb[`${"_vgsid_"}_${pb}`](...Object.values(Ka._vgsid_)):Object.keys(Ka).forEach(db=>{Ka[db]=Object.keys(Ka[db]).map(ba=>Ka[db][ba]).reduce((ba,ma)=>void 0===ba?ma:Pb[`${mb[db]}_${pb}`](ba,ma))});ab=Object.keys(lb);Qa&&ab.length&&(Ka[Da?"vlPoint":
"vlMulti"]="union"===pb?{or:ab.reduce((db,ba)=>(db.push(...lb[ba]),db),[])}:{and:ab.map(db=>({or:lb[db]}))});return Ka};v.selectionTest=function(ab,pb,Qa){var Da=this.context.data[ab];ab=Da?Da.values.value:[];Da=Da?Da["index:unit"]&&Da["index:unit"].value:void 0;Qa="intersect"===Qa;for(var Ka=ab.length,lb=0,mb,Pa,xb,sb;lb<Ka;++lb)if(mb=ab[lb],Da&&Qa){if(Pa=Pa||{},xb=Pa[sb=mb.unit]||0,-1!==xb){mb=Yb(pb,mb);Pa[sb]=mb?-1:++xb;if(mb&&1===Da.size)return!0;if(!mb&&xb===Da.get(sb).count)return!1}}else if(mb=
Yb(pb,mb),Qa^mb)return mb;return Ka&&Qa};v.selectionTuples=function(ab,pb){return ab.map(Qa=>k.extend(pb.fields?{values:pb.fields.map(Da=>(Da.getter||(Da.getter=k.field(Da.field)))(Qa.datum))}:{_vgsid_:ub(Qa.datum)},pb))};v.selectionVisitor=function(ab,pb,Qa,Da){pb[0].type!==P.Literal&&k.error("First argument to selection functions must be a string literal.");ab=pb[0].value;pb=2<=pb.length&&k.peek(pb).value;const Ka=":"+ab;"intersect"!==pb||k.hasOwnProperty(Da,"@unit")||(Da["@unit"]=Qa.getData(ab).indataRef(Qa,
"unit"));k.hasOwnProperty(Da,Ka)||(Da[Ka]=Qa.getData(ab).tuplesRef())}})};
shadow$provide[58]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(56),Fb(32),Fb(28),Fb(33),Fb(57),Fb(29),Fb(22)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Hb,ac,vc,
Ac,uc){function Cb(qa){return(qa=this.context.data[qa])?qa.values.value:[]}function jc(qa,bb,Rb){return(Rb=(qa=this.context.data[qa]["index:"+bb])?qa.value.get(Rb):void 0)?Rb.count:Rb}function Yb(qa,bb){const Rb=this.context.dataflow;Rb.pulse(this.context.data[qa].input,Rb.changeset().remove(k.truthy).insert(bb));return 1}function Ua(qa,bb,Rb){if(qa){const hd=this.context.dataflow;hd.pulse(qa.mark.source,hd.changeset().encode(qa,bb))}return void 0!==Rb?Rb:qa}function ub(qa,bb,Rb){if(!Number.isInteger(qa)||
!Number.isInteger(bb))return"";Dc.setYear(2E3);Dc.setMonth(qa);Dc.setDate(bb);return fa.call(this,Dc,Rb)}function Kb(qa){return ub.call(this,qa,1,"%B")}function Lb(qa){return ub.call(this,qa,1,"%b")}function Db(qa){return ub.call(this,0,2+qa,"%A")}function Pb(qa){return ub.call(this,0,2+qa,"%a")}function ab(qa,bb,Rb,hd){bb[0].type!==P.Literal&&k.error("First argument to data functions must be a string literal.");qa=bb[0].value;bb=":"+qa;if(!k.hasOwnProperty(bb,hd))try{hd[bb]=Rb.getData(qa).tuplesRef()}catch(ld){}}
function pb(qa,bb,Rb,hd){bb[0].type!==P.Literal&&k.error("First argument to indata must be a string literal.");bb[1].type!==P.Literal&&k.error("Second argument to indata must be a string literal.");qa=bb[0].value;bb=bb[1].value;const ld="@"+bb;k.hasOwnProperty(ld,hd)||(hd[ld]=Rb.getData(qa).indataRef(Rb,bb))}function Qa(qa,bb,Rb,hd){if(bb[0].type===P.Literal)Da(Rb,hd,bb[0].value);else for(qa in Rb.scales)Da(Rb,hd,qa)}function Da(qa,bb,Rb){const hd="%"+Rb;if(!k.hasOwnProperty(bb,hd))try{bb[hd]=qa.scaleRef(Rb)}catch(ld){}}
function Ka(qa,bb){if(k.isFunction(qa))return qa;if(k.isString(qa))return(qa=bb.scales[qa])&&ib.isRegisteredScale(qa.value)?qa.value:void 0}function lb(qa,bb,Rb){bb.__bandwidth=ld=>ld&&ld.bandwidth?ld.bandwidth():0;Rb._bandwidth=Qa;Rb._range=Qa;Rb._scale=Qa;const hd=ld=>"_["+(ld.type===P.Literal?k.stringValue("%"+ld.value):k.stringValue("%")+"+"+qa(ld))+"]";return{_bandwidth:ld=>`this.__bandwidth(${hd(ld[0])})`,_range:ld=>`${hd(ld[0])}.range()`,_scale:ld=>`${hd(ld[0])}(${qa(ld[1])})`}}function mb(qa){return 1<
qa?ee:-1>qa?-ee:Math.asin(qa)}function Pa(){}function xb(qa,bb){if(qa&&be.hasOwnProperty(qa.type))be[qa.type](qa,bb)}function sb(qa,bb,Rb){var hd=-1;Rb=qa.length-Rb;for(bb.lineStart();++hd<Rb;){var ld=qa[hd];bb.point(ld[0],ld[1],ld[2])}bb.lineEnd()}function Qb(qa,bb){var Rb=-1,hd=qa.length;for(bb.polygonStart();++Rb<hd;)sb(qa[Rb],bb,1);bb.polygonEnd()}function Wb(qa,bb){if(qa&&Cd.hasOwnProperty(qa.type))Cd[qa.type](qa,bb);else xb(qa,bb)}function nb(){Fc.point=Z}function pa(){Fa(Xe,df)}function Z(qa,
bb){Fc.point=Fa;Xe=qa;df=bb;qa*=vd;bb*=vd;od=qa;Ec=Qc(bb=bb/2+Ra);kd=jd(bb)}function Fa(qa,bb){qa*=vd;bb*=vd;bb=bb/2+Ra;var Rb=qa-od,hd=0<=Rb?1:-1,ld=hd*Rb;Rb=Qc(bb);bb=jd(bb);var qe=kd*bb,Pe=Ec*Rb+qe*Qc(ld);hd=qe*hd*jd(ld);xe.add(Wc(hd,Pe));od=qa;Ec=Rb;kd=bb}function Ga(qa,bb){return[qa[1]*bb[2]-qa[2]*bb[1],qa[2]*bb[0]-qa[0]*bb[2],qa[0]*bb[1]-qa[1]*bb[0]]}function db(qa,bb){Ja.push(jb=[Jd=qa,ce=qa]);bb<Vd&&(Vd=bb);bb>le&&(le=bb)}function ba(qa,bb){var Rb=[qa*vd,bb*vd];var hd=Rb[0];Rb=Rb[1];var ld=
Qc(Rb);hd=[ld*Qc(hd),ld*jd(hd),jd(Rb)];if(ka){Rb=Ga(ka,hd);ld=Rb=Ga([Rb[1],-Rb[0],0],Rb);var qe=Od(ld[0]*ld[0]+ld[1]*ld[1]+ld[2]*ld[2]);ld[0]/=qe;ld[1]/=qe;ld[2]/=qe;Rb=[Wc(Rb[1],Rb[0]),mb(Rb[2])];var Pe=qa-O;ld=0<Pe?1:-1;qe=Rb[0]*oc*ld;Pe=180<Lc(Pe);Pe^(ld*O<qe&&qe<ld*qa)?(Rb=Rb[1]*oc,Rb>le&&(le=Rb)):(qe=(qe+360)%360-180,Pe^(ld*O<qe&&qe<ld*qa))?(Rb=-Rb[1]*oc,Rb<Vd&&(Vd=Rb)):(bb<Vd&&(Vd=bb),bb>le&&(le=bb));Pe?qa<O?u(Jd,qa)>u(Jd,ce)&&(ce=qa):u(qa,ce)>u(Jd,ce)&&(Jd=qa):ce>=Jd?(qa<Jd&&(Jd=qa),qa>ce&&
(ce=qa)):qa>O?u(Jd,qa)>u(Jd,ce)&&(ce=qa):u(qa,ce)>u(Jd,ce)&&(Jd=qa)}else Ja.push(jb=[Jd=qa,ce=qa]);bb<Vd&&(Vd=bb);bb>le&&(le=bb);ka=hd;O=qa}function ma(){vb.point=ba}function q(){jb[0]=Jd;jb[1]=ce;vb.point=db;ka=null}function M(qa,bb){if(ka){var Rb=qa-O;ta.add(180<Lc(Rb)?Rb+(0<Rb?360:-360):Rb)}else ea=qa,I=bb;Fc.point(qa,bb);ba(qa,bb)}function Q(){Fc.lineStart()}function g(){M(ea,I);Fc.lineEnd();1E-6<Lc(ta)&&(Jd=-(ce=180));jb[0]=Jd;jb[1]=ce;ka=null}function u(qa,bb){return 0>(bb-=qa)?bb+360:bb}function m(qa,
bb){return qa[0]-bb[0]}function C(qa,bb){return qa[0]<=qa[1]?qa[0]<=bb&&bb<=qa[1]:bb<qa[0]||qa[1]<bb}function B(qa,bb){qa*=vd;bb*=vd;var Rb=Qc(bb);A(Rb*Qc(qa),Rb*jd(qa),jd(bb))}function A(qa,bb,Rb){++pc;rc+=(qa-rc)/pc;Kc+=(bb-Kc)/pc;Bd+=(Rb-Bd)/pc}function E(){Fe.point=H}function H(qa,bb){qa*=vd;bb*=vd;var Rb=Qc(bb);ze=Rb*Qc(qa);Ld=Rb*jd(qa);he=jd(bb);Fe.point=V;A(ze,Ld,he)}function V(qa,bb){qa*=vd;bb*=vd;var Rb=Qc(bb),hd=Rb*Qc(qa);qa=Rb*jd(qa);bb=jd(bb);var ld=Wc(Od((ld=Ld*bb-he*qa)*ld+(ld=he*hd-
ze*bb)*ld+(ld=ze*qa-Ld*hd)*ld),ze*hd+Ld*qa+he*bb);qc+=ld;Hc+=ld*(ze+(ze=hd));$c+=ld*(Ld+(Ld=qa));yd+=ld*(he+(he=bb));A(ze,Ld,he)}function Aa(){Fe.point=B}function Y(){Fe.point=L}function t(){va(Be,wd);Fe.point=B}function L(qa,bb){Be=qa;wd=bb;qa*=vd;bb*=vd;Fe.point=va;var Rb=Qc(bb);ze=Rb*Qc(qa);Ld=Rb*jd(qa);he=jd(bb);A(ze,Ld,he)}function va(qa,bb){qa*=vd;bb*=vd;var Rb=Qc(bb),hd=Rb*Qc(qa);qa=Rb*jd(qa);bb=jd(bb);Rb=Ld*bb-he*qa;var ld=he*hd-ze*bb,qe=ze*qa-Ld*hd,Pe=sd(Rb,ld,qe),rf=mb(Pe);Pe=Pe&&-rf/Pe;
Dd.add(Pe*Rb);Kd.add(Pe*ld);Ee.add(Pe*qe);qc+=rf;Hc+=rf*(ze+(ze=hd));$c+=rf*(Ld+(Ld=qa));yd+=rf*(he+(he=bb));A(ze,Ld,he)}function La(qa,bb){return function(Rb,hd,ld){return Rb?(Rb=Ka(Rb,(ld||this).context))&&Rb.path[qa](hd):bb(hd)}}function Wa(qa){const bb=this.context.group;let Rb=!1;if(bb)for(;qa;){if(qa===bb){Rb=!0;break}qa=qa.mark.group}return Rb}function $a(qa,bb,Rb){try{qa[bb].apply(qa,["EXPRESSION"].concat([].slice.call(Rb)))}catch(hd){qa.warn(hd)}return Rb[Rb.length-1]}function X(){return $a(this.context.dataflow,
"warn",arguments)}function Ca(){return $a(this.context.dataflow,"info",arguments)}function Xa(){return $a(this.context.dataflow,"debug",arguments)}function Jb(qa,bb,Rb){qa.prototype=bb.prototype=Rb;Rb.constructor=qa}function yc(qa,bb){qa=Object.create(qa.prototype);for(var Rb in bb)qa[Rb]=bb[Rb];return qa}function sc(){}function xc(){return this.rgb().formatHex()}function dd(){return this.rgb().formatRgb()}function Zb(qa){var bb,Rb;qa=(qa+"").trim().toLowerCase();return(bb=Cf.exec(qa))?(Rb=bb[1].length,
bb=parseInt(bb[1],16),6===Rb?Sc(bb):3===Rb?new qb(bb>>8&15|bb>>4&240,bb>>4&15|bb&240,(bb&15)<<4|bb&15,1):8===Rb?Pd(bb>>24&255,bb>>16&255,bb>>8&255,(bb&255)/255):4===Rb?Pd(bb>>12&15|bb>>8&240,bb>>8&15|bb>>4&240,bb>>4&15|bb&240,((bb&15)<<4|bb&15)/255):null):(bb=If.exec(qa))?new qb(bb[1],bb[2],bb[3],1):(bb=jf.exec(qa))?new qb(255*bb[1]/100,255*bb[2]/100,255*bb[3]/100,1):(bb=bg.exec(qa))?Pd(bb[1],bb[2],bb[3],bb[4]):(bb=Yd.exec(qa))?Pd(255*bb[1]/100,255*bb[2]/100,255*bb[3]/100,bb[4]):(bb=ef.exec(qa))?
Zc(bb[1],bb[2]/100,bb[3]/100,1):(bb=mf.exec(qa))?Zc(bb[1],bb[2]/100,bb[3]/100,bb[4]):af.hasOwnProperty(qa)?Sc(af[qa]):"transparent"===qa?new qb(NaN,NaN,NaN,0):null}function Sc(qa){return new qb(qa>>16&255,qa>>8&255,qa&255,1)}function Pd(qa,bb,Rb,hd){0>=hd&&(qa=bb=Rb=NaN);return new qb(qa,bb,Rb,hd)}function Ma(qa){qa instanceof sc||(qa=Zb(qa));if(!qa)return new qb;qa=qa.rgb();return new qb(qa.r,qa.g,qa.b,qa.opacity)}function Vb(qa,bb,Rb,hd){return 1===arguments.length?Ma(qa):new qb(qa,bb,Rb,null==
hd?1:hd)}function qb(qa,bb,Rb,hd){this.r=+qa;this.g=+bb;this.b=+Rb;this.opacity=+hd}function Tb(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}`}function gc(){const qa=cc(this.opacity);return`${1===qa?"rgb(":"rgba("}${Ic(this.r)}, ${Ic(this.g)}, ${Ic(this.b)}${1===qa?")":`, ${qa})`}`}function cc(qa){return isNaN(qa)?1:Math.max(0,Math.min(1,qa))}function Ic(qa){return Math.max(0,Math.min(255,Math.round(qa)||0))}function zc(qa){qa=Ic(qa);return(16>qa?"0":"")+qa.toString(16)}function Zc(qa,bb,Rb,hd){0>=
hd?qa=bb=Rb=NaN:0>=Rb||1<=Rb?qa=bb=NaN:0>=bb&&(qa=NaN);return new Ha(qa,bb,Rb,hd)}function Md(qa){if(qa instanceof Ha)return new Ha(qa.h,qa.s,qa.l,qa.opacity);qa instanceof sc||(qa=Zb(qa));if(!qa)return new Ha;if(qa instanceof Ha)return qa;qa=qa.rgb();var bb=qa.r/255,Rb=qa.g/255,hd=qa.b/255,ld=Math.min(bb,Rb,hd),qe=Math.max(bb,Rb,hd),Pe=NaN,rf=qe-ld,Gf=(qe+ld)/2;rf?(Pe=bb===qe?(Rb-hd)/rf+6*(Rb<hd):Rb===qe?(hd-bb)/rf+2:(bb-Rb)/rf+4,rf/=.5>Gf?qe+ld:2-qe-ld,Pe*=60):rf=0<Gf&&1>Gf?0:Pe;return new Ha(Pe,
rf,Gf,qa.opacity)}function td(qa,bb,Rb,hd){return 1===arguments.length?Md(qa):new Ha(qa,bb,Rb,null==hd?1:hd)}function Ha(qa,bb,Rb,hd){this.h=+qa;this.s=+bb;this.l=+Rb;this.opacity=+hd}function gb(qa){qa=(qa||0)%360;return 0>qa?qa+360:qa}function wb(qa){return Math.max(0,Math.min(1,qa||0))}function sa(qa,bb,Rb){return 255*(60>qa?bb+(Rb-bb)*qa/60:180>qa?Rb:240>qa?bb+(Rb-bb)*(240-qa)/60:bb)}function F(qa){if(qa instanceof Na)return new Na(qa.l,qa.a,qa.b,qa.opacity);if(qa instanceof Vc)return ed(qa);
qa instanceof qb||(qa=Ma(qa));var bb=nc(qa.r),Rb=nc(qa.g),hd=nc(qa.b),ld=Za(.2225045*bb+.7168786*Rb+.0606169*hd);if(bb===Rb&&Rb===hd)var qe=bb=ld;else qe=Za((.4360747*bb+.3850649*Rb+.1430804*hd)/.96422),bb=Za((.0139322*bb+.0971045*Rb+.7141733*hd)/.82521);return new Na(116*ld-16,500*(qe-ld),200*(ld-bb),qa.opacity)}function ya(qa,bb,Rb,hd){return 1===arguments.length?F(qa):new Na(qa,bb,Rb,null==hd?1:hd)}function Na(qa,bb,Rb,hd){this.l=+qa;this.a=+bb;this.b=+Rb;this.opacity=+hd}function Za(qa){return qa>
eg?Math.pow(qa,1/3):qa/Eg+yf}function kb(qa){return qa>zf?qa*qa*qa:Eg*(qa-yf)}function Gb(qa){return 255*(.0031308>=qa?12.92*qa:1.055*Math.pow(qa,1/2.4)-.055)}function nc(qa){return.04045>=(qa/=255)?qa/12.92:Math.pow((qa+.055)/1.055,2.4)}function dc(qa){if(qa instanceof Vc)return new Vc(qa.h,qa.c,qa.l,qa.opacity);qa instanceof Na||(qa=F(qa));if(0===qa.a&&0===qa.b)return new Vc(NaN,0<qa.l&&100>qa.l?0:NaN,qa.l,qa.opacity);var bb=Math.atan2(qa.b,qa.a)*Jf;return new Vc(0>bb?bb+360:bb,Math.sqrt(qa.a*qa.a+
qa.b*qa.b),qa.l,qa.opacity)}function ic(qa,bb,Rb,hd){return 1===arguments.length?dc(qa):new Vc(qa,bb,Rb,null==hd?1:hd)}function Vc(qa,bb,Rb,hd){this.h=+qa;this.c=+bb;this.l=+Rb;this.opacity=+hd}function ed(qa){if(isNaN(qa.h))return new Na(qa.l,0,0,qa.opacity);var bb=qa.h*Hf;return new Na(qa.l,Math.cos(bb)*qa.c,Math.sin(bb)*qa.c,qa.opacity)}function fd(qa){qa/=255;return.03928>=qa?qa/12.92:Math.pow((qa+.055)/1.055,2.4)}function Qd(qa){var bb=Vb(qa);qa=fd(bb.r);const Rb=fd(bb.g);bb=fd(bb.b);return.2126*
qa+.7152*Rb+.0722*bb}function Td(qa,bb){qa=Qd(qa);bb=Qd(bb);return(Math.max(qa,bb)+.05)/(Math.min(qa,bb)+.05)}function Fd(){const qa=[].slice.call(arguments);qa.unshift({});return k.extend(...qa)}function Zd(qa,bb){if(qa===bb||qa!==qa&&bb!==bb)qa=!0;else if(k.isArray(qa))if(k.isArray(bb)&&qa.length===bb.length)a:{for(let Rb=0,hd=qa.length;Rb<hd;++Rb)if(!Zd(qa[Rb],bb[Rb])){qa=!1;break a}qa=!0}else qa=!1;else qa=k.isObject(qa)&&k.isObject(bb)?de(qa,bb):!1;return qa}function de(qa,bb){for(const Rb in qa)if(!Zd(qa[Rb],
bb[Rb]))return!1;return!0}function Ud(qa){return bb=>de(qa,bb)}function Ve(qa,bb,Rb,hd,ld,qe){const Pe=this.context.dataflow,rf=this.context.data[qa],Gf=rf.input;qa=Pe.stamp();let Me=rf.changes,cg;if(!1===Pe._trigger||!(Gf.value.length||bb||hd))return 0;if(!Me||Me.stamp<qa)rf.changes=Me=Pe.changeset(),Me.stamp=qa,Pe.runAfter(()=>{rf.modified=!0;Pe.pulse(Gf,Me).run()},!0,1);Rb&&(Rb=!0===Rb?k.truthy:k.isArray(Rb)||Hb.isTuple(Rb)?Rb:Ud(Rb),Me.remove(Rb));bb&&Me.insert(bb);hd&&(Rb=Ud(hd),Gf.value.some(Rb)?
Me.remove(Rb):Me.insert(hd));if(ld)for(cg in qe)Me.modify(ld,cg,qe[cg]);return 1}function Xd(qa){qa=qa.touches;return Math.hypot(qa[0].clientX-qa[1].clientX,qa[0].clientY-qa[1].clientY)}function N(qa){qa=qa.touches;return Math.atan2(qa[0].clientY-qa[1].clientY,qa[0].clientX-qa[1].clientX)}function la(qa,bb){bb=wf[bb]||(wf[bb]=k.field(bb));return k.isArray(qa)?qa.map(bb):bb(qa)}function za(qa){return k.isArray(qa)||ArrayBuffer.isView(qa)?qa:null}function fb(qa){return za(qa)||(k.isString(qa)?qa:null)}
function Ib(qa,...bb){return za(qa).join(...bb)}function Xb(qa,...bb){return fb(qa).indexOf(...bb)}function Bc(qa,...bb){return fb(qa).lastIndexOf(...bb)}function lc(qa,...bb){return fb(qa).slice(...bb)}function Gc(qa,bb,Rb){k.isFunction(Rb)&&k.error("Function argument passed to replace.");return String(qa).replace(bb,Rb)}function id(qa){return za(qa).slice().reverse()}function Nc(qa,bb,Rb){return ib.bandSpace(qa||0,bb||0,Rb||0)}function rd(qa,bb){return(qa=Ka(qa,(bb||this).context))&&qa.bandwidth?
qa.bandwidth():0}function Hd(qa,bb){return(qa=Ka(qa,(bb||this).context))?qa.copy():void 0}function Gd(qa,bb){return(qa=Ka(qa,(bb||this).context))?qa.domain():[]}function $d(qa,bb,Rb){return(qa=Ka(qa,(Rb||this).context))?k.isArray(bb)?(qa.invertRange||qa.invert)(bb):(qa.invert||qa.invertExtent)(bb):void 0}function Wd(qa,bb){return(qa=Ka(qa,(bb||this).context))&&qa.range?qa.range():[]}function ae(qa,bb,Rb){return(qa=Ka(qa,(Rb||this).context))?qa(bb):void 0}function Ae(qa,bb,Rb,hd,ld){qa=Ka(qa,(ld||
this).context);const qe=ac.Gradient(bb,Rb);bb=qa.domain();Rb=bb[0];ld=k.peek(bb);let Pe=k.identity;ld-Rb?Pe=ib.scaleFraction(qa,Rb,ld):qa=(qa.interpolator?ib.scale("sequential")().interpolator(qa.interpolator()):ib.scale("linear")().interpolate(qa.interpolate()).range(qa.range())).domain([Rb=0,ld=1]);qa.ticks&&(bb=qa.ticks(+hd||15),Rb!==bb[0]&&bb.unshift(Rb),ld!==k.peek(bb)&&bb.push(ld));bb.forEach(rf=>qe.stop(Pe(rf),qa(rf)));return qe}function kf(qa,bb,Rb){const hd=Ka(qa,(Rb||this).context);return function(ld){return hd?
hd.path.context(ld)(bb):""}}function hf(qa){let bb=null;return function(Rb){return Rb?ac.pathRender(Rb,bb=bb||ac.pathParse(qa)):qa}}function cf(qa,bb){qa=Cb.call(bb,qa);return qa.root&&qa.root.lookup||{}}function se(qa,bb,Rb){qa=cf(qa,this);bb=qa[bb];Rb=qa[Rb];return bb&&Rb?bb.path(Rb).map(Kf):void 0}function uf(qa,bb){return(qa=cf(qa,this)[bb])?qa.ancestors().map(Kf):void 0}function U(){const qa="undefined"!==typeof window&&window||null;return qa?qa.screen:{}}function ua(){const qa="undefined"!==
typeof window&&window||null;return qa?[qa.innerWidth,qa.innerHeight]:[void 0,void 0]}function cb(){var qa=this.context.dataflow;return(qa=qa.container&&qa.container())?[qa.clientWidth,qa.clientHeight]:[void 0,void 0]}function Ab(qa,bb,Rb){if(!qa)return[];const [hd,ld]=qa;qa=(new ac.Bounds).set(hd[0],hd[1],ld[0],ld[1]);Rb=Rb||this.context.dataflow.scenegraph().root;return ac.intersect(Rb,qa,ec(bb))}function ec(qa){let bb=null;if(qa){const Rb=k.array(qa.marktype),hd=k.array(qa.markname);bb=ld=>(!Rb.length||
Rb.some(qe=>ld.marktype===qe))&&(!hd.length||hd.some(qe=>ld.name===qe))}return bb}function Cc(qa,bb,Rb){if(1===arguments.length)return dg[qa];dg[qa]=bb;Rb&&(Jg[qa]=Rb);Ug&&(Ug.functions[qa]="this."+qa);return this}const $b=qa=>function(bb,Rb){return this.context.dataflow.locale()[qa](Rb)(bb)},J=$b("format"),fa=$b("timeFormat"),Sa=$b("utcFormat"),bc=$b("timeParse"),Pc=$b("utcParse"),Dc=new Date(2E3,0,1);class Tc{constructor(){this._partials=new Float64Array(32);this._n=0}add(qa){const bb=this._partials;
let Rb=0;for(let hd=0;hd<this._n&&32>hd;hd++){const ld=bb[hd],qe=qa+ld;(qa=Math.abs(qa)<Math.abs(ld)?qa-(qe-ld):ld-(qe-qa))&&(bb[Rb++]=qa);qa=qe}bb[Rb]=qa;this._n=Rb+1;return this}valueOf(){const qa=this._partials;let bb=this._n;let Rb,hd=0;if(0<bb){for(hd=qa[--bb];0<bb;){var ld=hd;Rb=qa[--bb];hd=ld+Rb;if(ld=Rb-(hd-ld))break}0<bb&&(0>ld&&0>qa[bb-1]||0<ld&&0<qa[bb-1])&&(Rb=2*ld,ld=hd+Rb,Rb==ld-hd&&(hd=ld))}return hd}}var gd=Math.PI,ee=gd/2,Ra=gd/4,eb=2*gd,oc=180/gd,vd=gd/180,Lc=Math.abs,Wc=Math.atan2,
Qc=Math.cos,sd=Math.hypot,jd=Math.sin,Od=Math.sqrt,Cd={Feature:function(qa,bb){xb(qa.geometry,bb)},FeatureCollection:function(qa,bb){qa=qa.features;for(var Rb=-1,hd=qa.length;++Rb<hd;)xb(qa[Rb].geometry,bb)}},be={Sphere:function(qa,bb){bb.sphere()},Point:function(qa,bb){qa=qa.coordinates;bb.point(qa[0],qa[1],qa[2])},MultiPoint:function(qa,bb){for(var Rb=qa.coordinates,hd=-1,ld=Rb.length;++hd<ld;)qa=Rb[hd],bb.point(qa[0],qa[1],qa[2])},LineString:function(qa,bb){sb(qa.coordinates,bb,0)},MultiLineString:function(qa,
bb){qa=qa.coordinates;for(var Rb=-1,hd=qa.length;++Rb<hd;)sb(qa[Rb],bb,0)},Polygon:function(qa,bb){Qb(qa.coordinates,bb)},MultiPolygon:function(qa,bb){qa=qa.coordinates;for(var Rb=-1,hd=qa.length;++Rb<hd;)Qb(qa[Rb],bb)},GeometryCollection:function(qa,bb){qa=qa.geometries;for(var Rb=-1,hd=qa.length;++Rb<hd;)xb(qa[Rb],bb)}},xe=new Tc,Le=new Tc,Xe,df,od,Ec,kd,Fc={point:Pa,lineStart:Pa,lineEnd:Pa,polygonStart:function(){xe=new Tc;Fc.lineStart=nb;Fc.lineEnd=pa},polygonEnd:function(){var qa=+xe;Le.add(0>
qa?eb+qa:qa);this.lineStart=this.lineEnd=this.point=Pa},sphere:function(){Le.add(eb)}},Jd,Vd,ce,le,O,ea,I,ka,ta,Ja,jb,vb={point:db,lineStart:ma,lineEnd:q,polygonStart:function(){vb.point=M;vb.lineStart=Q;vb.lineEnd=g;ta=new Tc;Fc.polygonStart()},polygonEnd:function(){Fc.polygonEnd();vb.point=db;vb.lineStart=ma;vb.lineEnd=q;0>xe?(Jd=-(ce=180),Vd=-(le=90)):1E-6<ta?le=90:-1E-6>ta&&(Vd=-90);jb[0]=Jd;jb[1]=ce},sphere:function(){Jd=-(ce=180);Vd=-(le=90)}},pc,qc,rc,Kc,Bd,Hc,$c,yd,Dd,Kd,Ee,Be,wd,ze,Ld,he,
Fe={sphere:Pa,point:B,lineStart:E,lineEnd:Aa,polygonStart:function(){Fe.lineStart=Y;Fe.lineEnd=t},polygonEnd:function(){Fe.lineStart=E;Fe.lineEnd=Aa}};const lf=La("area",function(qa){Le=new Tc;Wb(qa,Fc);return 2*Le}),vf=La("bounds",function(qa){var bb,Rb,hd;le=ce=-(Jd=Vd=Infinity);Ja=[];Wb(qa,vb);if(bb=Ja.length){Ja.sort(m);qa=1;var ld=Ja[0];for(Rb=[ld];qa<bb;++qa){var qe=Ja[qa];C(ld,qe[0])||C(ld,qe[1])?(u(ld[0],qe[1])>u(ld[0],ld[1])&&(ld[1]=qe[1]),u(qe[0],ld[1])>u(ld[0],ld[1])&&(ld[0]=qe[0])):Rb.push(ld=
qe)}var Pe=-Infinity;bb=Rb.length-1;qa=0;for(ld=Rb[bb];qa<=bb;ld=qe,++qa)qe=Rb[qa],(hd=u(ld[1],qe[0]))>Pe&&(Pe=hd,Jd=qe[0],ce=ld[1])}Ja=jb=null;return Infinity===Jd||Infinity===Vd?[[NaN,NaN],[NaN,NaN]]:[[Jd,Vd],[ce,le]]}),Ie=La("centroid",function(qa){pc=qc=rc=Kc=Bd=Hc=$c=yd=0;Dd=new Tc;Kd=new Tc;Ee=new Tc;Wb(qa,Fe);qa=+Dd;var bb=+Kd,Rb=+Ee,hd=sd(qa,bb,Rb);return 1E-12>hd&&(qa=Hc,bb=$c,Rb=yd,1E-6>qc&&(qa=rc,bb=Kc,Rb=Bd),hd=sd(qa,bb,Rb),1E-12>hd)?[NaN,NaN]:[Wc(bb,qa)*oc,mb(Rb/hd)*oc]});var ne=1/.7,
Cf=/^#([0-9a-f]{3,8})$/,If=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),jf=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),bg=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Yd=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
ef=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),mf=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),af={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};Jb(sc,Zb,{copy(qa){return Object.assign(new this.constructor,this,qa)},displayable(){return this.rgb().displayable()},hex:xc,formatHex:xc,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Md(this).formatHsl()},formatRgb:dd,toString:dd});Jb(qb,Vb,yc(sc,{brighter(qa){qa=null==qa?ne:Math.pow(ne,qa);return new qb(this.r*qa,this.g*qa,this.b*qa,this.opacity)},darker(qa){qa=null==qa?.7:Math.pow(.7,qa);return new qb(this.r*qa,this.g*qa,
this.b*qa,this.opacity)},rgb(){return this},clamp(){return new qb(Ic(this.r),Ic(this.g),Ic(this.b),cc(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Tb,formatHex:Tb,formatHex8:function(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}${zc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:gc,toString:gc}));Jb(Ha,td,yc(sc,{brighter(qa){qa=null==qa?ne:Math.pow(ne,qa);return new Ha(this.h,
this.s,this.l*qa,this.opacity)},darker(qa){qa=null==qa?.7:Math.pow(.7,qa);return new Ha(this.h,this.s,this.l*qa,this.opacity)},rgb(){var qa=this.h%360+360*(0>this.h),bb=isNaN(qa)||isNaN(this.s)?0:this.s,Rb=this.l;bb=Rb+(.5>Rb?Rb:1-Rb)*bb;Rb=2*Rb-bb;return new qb(sa(240<=qa?qa-240:qa+120,Rb,bb),sa(qa,Rb,bb),sa(120>qa?qa+240:qa-120,Rb,bb),this.opacity)},clamp(){return new Ha(gb(this.h),wb(this.s),wb(this.l),cc(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=
this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const qa=cc(this.opacity);return`${1===qa?"hsl(":"hsla("}${gb(this.h)}, ${100*wb(this.s)}%, ${100*wb(this.l)}%${1===qa?")":`, ${qa})`}`}}));const Hf=Math.PI/180,Jf=180/Math.PI,yf=4/29,zf=6/29,Eg=3*zf*zf,eg=zf*zf*zf;Jb(Na,ya,yc(sc,{brighter(qa){return new Na(this.l+18*(null==qa?1:qa),this.a,this.b,this.opacity)},darker(qa){return new Na(this.l-18*(null==qa?1:qa),this.a,this.b,this.opacity)},rgb(){var qa=(this.l+16)/116,bb=isNaN(this.a)?qa:qa+this.a/
500,Rb=isNaN(this.b)?qa:qa-this.b/200;bb=.96422*kb(bb);qa=1*kb(qa);Rb=.82521*kb(Rb);return new qb(Gb(3.1338561*bb-1.6168667*qa-.4906146*Rb),Gb(-.9787684*bb+1.9161415*qa+.033454*Rb),Gb(.0719453*bb-.2289914*qa+1.4052427*Rb),this.opacity)}}));Jb(Vc,ic,yc(sc,{brighter(qa){return new Vc(this.h,this.c,this.l+18*(null==qa?1:qa),this.opacity)},darker(qa){return new Vc(this.h,this.c,this.l-18*(null==qa?1:qa),this.opacity)},rgb(){return ed(this).rgb()}}));const wf={},Kf=qa=>qa.data,dg={random(){return Ac.random()},
cumulativeNormal:Ac.cumulativeNormal,cumulativeLogNormal:Ac.cumulativeLogNormal,cumulativeUniform:Ac.cumulativeUniform,densityNormal:Ac.densityNormal,densityLogNormal:Ac.densityLogNormal,densityUniform:Ac.densityUniform,quantileNormal:Ac.quantileNormal,quantileLogNormal:Ac.quantileLogNormal,quantileUniform:Ac.quantileUniform,sampleNormal:Ac.sampleNormal,sampleLogNormal:Ac.sampleLogNormal,sampleUniform:Ac.sampleUniform,isArray:k.isArray,isBoolean:k.isBoolean,isDate:k.isDate,isDefined(qa){return void 0!==
qa},isNumber:k.isNumber,isObject:k.isObject,isRegExp:k.isRegExp,isString:k.isString,isTuple:Hb.isTuple,isValid(qa){return null!=qa&&qa===qa},toBoolean:k.toBoolean,toDate(qa){return k.toDate(qa)},toNumber:k.toNumber,toString:k.toString,indexof:Xb,join:Ib,lastindexof:Bc,replace:Gc,reverse:id,slice:lc,flush:k.flush,lerp:k.lerp,merge:Fd,pad:k.pad,peek:k.peek,pluck:la,span:k.span,inrange:k.inrange,truncate:k.truncate,rgb:Vb,lab:ya,hcl:ic,hsl:td,luminance:Qd,contrast:Td,sequence:function(qa,bb,Rb){qa=+qa;
bb=+bb;Rb=2>(ld=arguments.length)?(bb=qa,qa=0,1):3>ld?1:+Rb;for(var hd=-1,ld=Math.max(0,Math.ceil((bb-qa)/Rb))|0,qe=Array(ld);++hd<ld;)qe[hd]=qa+hd*Rb;return qe},format:J,utcFormat:Sa,utcParse:Pc,utcOffset:uc.utcOffset,utcSequence:uc.utcSequence,timeFormat:fa,timeParse:bc,timeOffset:uc.timeOffset,timeSequence:uc.timeSequence,timeUnitSpecifier:uc.timeUnitSpecifier,monthFormat:Kb,monthAbbrevFormat:Lb,dayFormat:Db,dayAbbrevFormat:Pb,quarter:k.quarter,utcquarter:k.utcquarter,week:uc.week,utcweek:uc.utcweek,
dayofyear:uc.dayofyear,utcdayofyear:uc.utcdayofyear,warn:X,info:Ca,debug:Xa,extent(qa){return k.extent(qa)},inScope:Wa,intersect:Ab,clampRange:k.clampRange,pinchDistance:Xd,pinchAngle:N,screen:U,containerSize:cb,windowSize:ua,bandspace:Nc,setdata:Yb,pathShape:hf,panLinear:k.panLinear,panLog:k.panLog,panPow:k.panPow,panSymlog:k.panSymlog,zoomLinear:k.zoomLinear,zoomLog:k.zoomLog,zoomPow:k.zoomPow,zoomSymlog:k.zoomSymlog,encode:Ua,modify:Ve,lassoAppend:function(qa,bb,Rb,hd=5){qa=k.array(qa);const ld=
qa[qa.length-1];return void 0===ld||Math.hypot(ld[0]-bb,ld[1]-Rb)>hd?[...qa,[bb,Rb]]:qa},lassoPath:function(qa){return k.array(qa).reduce((bb,[Rb,hd],ld)=>bb+(0==ld?`M ${Rb},${hd} `:ld===qa.length-1?" Z":`L ${Rb},${hd} `),"")},intersectLasso:function(qa,bb,Rb){const {x:hd,y:ld,mark:qe}=Rb;Rb=(new ac.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [Pe,rf]of bb)Pe<Rb.x1&&(Rb.x1=Pe),Pe>Rb.x2&&(Rb.x2=Pe),rf<Rb.y1&&(Rb.y1=rf),rf>Rb.y2&&
(Rb.y2=rf);Rb.translate(hd,ld);return Ab([[Rb.x1,Rb.y1],[Rb.x2,Rb.y2]],qa,qe).filter(Pe=>{var rf=Pe.y;let Gf=0;for(let Me=0,cg=bb.length-1;Me<bb.length;cg=Me++){const [Sf,Yf]=bb[cg],[rg,sg]=bb[Me];sg>rf!=Yf>rf&&Pe.x<(Sf-rg)*(rf-sg)/(Yf-sg)+rg&&Gf++}return Gf&1})}},eh="view item group xy x y".split(" "),Jg={},Og={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:qa=>`_[${k.stringValue("$"+qa)}]`,functions:function(qa){const bb=P.functions(qa);eh.forEach(Rb=>bb[Rb]="event.vega."+
Rb);for(const Rb in dg)bb[Rb]="this."+Rb;k.extend(bb,lb(qa,dg,Jg));return bb},constants:P.constants,visitors:Jg},Ug=P.codegenExpression(Og);Cc("bandwidth",rd,Qa);Cc("copy",Hd,Qa);Cc("domain",Gd,Qa);Cc("range",Wd,Qa);Cc("invert",$d,Qa);Cc("scale",ae,Qa);Cc("gradient",Ae,Qa);Cc("geoArea",lf,Qa);Cc("geoBounds",vf,Qa);Cc("geoCentroid",Ie,Qa);Cc("geoShape",kf,Qa);Cc("indata",jc,pb);Cc("data",Cb,ab);Cc("treePath",se,ab);Cc("treeAncestors",uf,ab);Cc("vlSelectionTest",vc.selectionTest,vc.selectionVisitor);
Cc("vlSelectionIdTest",vc.selectionIdTest,vc.selectionVisitor);Cc("vlSelectionResolve",vc.selectionResolve,vc.selectionVisitor);Cc("vlSelectionTuples",vc.selectionTuples);v.DataPrefix=":";v.IndexPrefix="@";v.ScalePrefix="%";v.SignalPrefix="$";v.bandspace=Nc;v.bandwidth=rd;v.codeGenerator=Ug;v.codegenParams=Og;v.containerSize=cb;v.contrast=Td;v.copy=Hd;v.data=Cb;v.dataVisitor=ab;v.dayAbbrevFormat=Pb;v.dayFormat=Db;v.debug=Xa;v.domain=Gd;v.encode=Ua;v.expressionFunction=Cc;v.format=J;v.functionContext=
dg;v.geoArea=lf;v.geoBounds=vf;v.geoCentroid=Ie;v.geoShape=kf;v.inScope=Wa;v.indata=jc;v.indataVisitor=pb;v.indexof=Xb;v.info=Ca;v.invert=$d;v.join=Ib;v.lastindexof=Bc;v.luminance=Qd;v.merge=Fd;v.modify=Ve;v.monthAbbrevFormat=Lb;v.monthFormat=Kb;v.parseExpression=function(qa,bb){const Rb={};let hd;try{qa=k.isString(qa)?qa:k.stringValue(qa)+"",hd=P.parseExpression(qa)}catch(ld){k.error("Expression parse error: "+qa)}hd.visit(ld=>{if(ld.type===P.CallExpression){var qe=ld.callee.name,Pe=Og.visitors[qe];
Pe&&Pe(qe,ld.arguments,bb,Rb)}});qa=Ug(hd);qa.globals.forEach(ld=>{const qe="$"+ld;!k.hasOwnProperty(Rb,qe)&&bb.getSignal(ld)&&(Rb[qe]=bb.signalRef(ld))});return{$expr:k.extend({code:qa.code},bb.options.ast?{ast:hd}:null),$fields:qa.fields,$params:Rb}};v.pathShape=hf;v.pinchAngle=N;v.pinchDistance=Xd;v.pluck=la;v.range=Wd;v.replace=Gc;v.reverse=id;v.scale=ae;v.scaleGradient=Ae;v.scaleVisitor=Qa;v.screen=U;v.setdata=Yb;v.slice=lc;v.timeFormat=fa;v.timeParse=bc;v.treeAncestors=uf;v.treePath=se;v.utcFormat=
Sa;v.utcParse=Pc;v.warn=X;v.windowSize=ua})};
shadow$provide[59]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(28)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(Ua,ub,Kb){Kb.endsWith(";")||(Kb="return("+Kb+");");ub=Function(...ub.concat(Kb));return Ua&&Ua.functions?ub.bind(Ua.functions):ub}function Hb(Ua,ub,Kb){if(!Ua||!k.isObject(Ua))return Ua;
for(let Lb=0,Db=jc.length,Pb;Lb<Db;++Lb)if(Pb=jc[Lb],k.hasOwnProperty(Ua,Pb.key))return Pb.parse(Ua,ub,Kb);return Ua}function ac(Ua,ub,Kb,Lb){this.dataflow=Ua;this.transforms=ub;this.events=Ua.events.bind(Ua);this.expr=Lb||Cb;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};Kb&&(this.functions=Object.create(Kb),this.functions.context=this)}function vc(Ua){this.dataflow=Ua.dataflow;this.transforms=Ua.transforms;this.events=Ua.events;this.expr=Ua.expr;this.signals=Object.create(Ua.signals);
this.scales=Object.create(Ua.scales);this.nodes=Object.create(Ua.nodes);this.data=Object.create(Ua.data);this.fn=Object.create(Ua.fn);Ua.functions&&(this.functions=Object.create(Ua.functions),this.functions.context=this)}const Ac=k.toSet(["rule"]),uc=k.toSet(["group","image","rect"]);var Cb={operator:(Ua,ub)=>ib(Ua,["_"],ub.code),parameter:(Ua,ub)=>ib(Ua,["datum","_"],ub.code),event:(Ua,ub)=>ib(Ua,["event"],ub.code),handler:(Ua,ub)=>ib(Ua,["_","event"],`var datum=event.item&&event.item.datum;return ${ub.code};`),
encode:(Ua,ub)=>{const {marktype:Kb,channels:Lb}=ub;ub="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var Db in Lb){const Pb="o["+k.stringValue(Db)+"]";ub+=`$=${Lb[Db].code};if(${Pb}!==$)${Pb}=$,m=1;`}Db="";Ac[Kb]||(Lb.x2&&(Lb.x?(uc[Kb]&&(Db+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),Db+="o.width\x3do.x2-o.x;"):Db+="o.x\x3do.x2-(o.width||0);"),Lb.xc&&(Db+="o.x\x3do.xc-(o.width||0)/2;"),Lb.y2&&(Lb.y?(uc[Kb]&&(Db+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),Db+="o.height\x3do.y2-o.y;"):
Db+="o.y\x3do.y2-(o.height||0);"),Lb.yc&&(Db+="o.y\x3do.yc-(o.height||0)/2;"));ub+=Db;return ib(Ua,["item","_"],ub+"return m;")},codegen:{get(Ua){Ua=`[${Ua.map(k.stringValue).join("][")}]`;const ub=Function("_",`return _${Ua};`);ub.path=Ua;return ub},comparator(Ua,ub){let Kb;Ua=Function("a","b","var u, v; return "+Ua.map((Lb,Db)=>{const Pb=ub[Db];let ab;Lb.path?(ab=`a${Lb.path}`,Lb=`b${Lb.path}`):((Kb=Kb||{})["f"+Db]=Lb,ab=`this.f${Db}(a)`,Lb=`this.f${Db}(b)`);Db=-Pb;return`((u = ${ab}) < (v = ${Lb}) || u == null) && v != null ? ${Db}
  : (u > v || v == null) && u != null ? ${Pb}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Db}
  : v !== v && u === u ? ${Pb} : `}).join("")+"0;");return Kb?Ua.bind(Kb):Ua}}},jc=[{key:"$ref",parse:function(Ua,ub){return ub.get(Ua.$ref)||k.error("Operator not defined: "+Ua.$ref)}},{key:"$key",parse:function(Ua,ub){const Kb="k:"+Ua.$key+"_"+!!Ua.$flat;return ub.fn[Kb]||(ub.fn[Kb]=k.key(Ua.$key,Ua.$flat,ub.expr.codegen))}},{key:"$expr",parse:function(Ua,ub,Kb){Ua.$params&&ub.parseParameters(Ua.$params,Kb);Kb="e:"+Ua.$expr.code;return ub.fn[Kb]||(ub.fn[Kb]=k.accessor(ub.parameterExpression(Ua.$expr),
Ua.$fields))}},{key:"$field",parse:function(Ua,ub){if(!Ua.$field)return null;const Kb="f:"+Ua.$field+"_"+Ua.$name;return ub.fn[Kb]||(ub.fn[Kb]=k.field(Ua.$field,Ua.$name,ub.expr.codegen))}},{key:"$encode",parse:function(Ua,ub){Ua=Ua.$encode;const Kb={};for(const Lb in Ua){const Db=Ua[Lb];Kb[Lb]=k.accessor(ub.encodeExpression(Db.$expr),Db.$fields);Kb[Lb].output=Db.$output}return Kb}},{key:"$compare",parse:function(Ua,ub){const Kb="c:"+Ua.$compare+"_"+Ua.$order,Lb=k.array(Ua.$compare).map(Db=>Db&&Db.$tupleid?
P.tupleid:Db);return ub.fn[Kb]||(ub.fn[Kb]=k.compare(Lb,Ua.$order,ub.expr.codegen))}},{key:"$context",parse:function(Ua,ub){return ub}},{key:"$subflow",parse:function(Ua,ub){const Kb=Ua.$subflow;return function(Lb,Db,Pb){const ab=ub.fork().parse(Kb);Lb=ab.get(Kb.operators[0].id);(Db=ab.signals.parent)&&Db.set(Pb);Lb.detachSubflow=()=>ub.detach(ab);return Lb}}},{key:"$tupleid",parse:function(){return P.tupleid}}];const Yb={skip:!0};ac.prototype=vc.prototype={fork(){const Ua=new vc(this);(this.subcontext||
(this.subcontext=[])).push(Ua);return Ua},detach(Ua){this.subcontext=this.subcontext.filter(Kb=>Kb!==Ua);const ub=Object.keys(Ua.nodes);for(const Kb of ub)Ua.nodes[Kb]._targets=null;for(const Kb of ub)Ua.nodes[Kb].detach();Ua.nodes=null},get(Ua){return this.nodes[Ua]},set(Ua,ub){return this.nodes[Ua]=ub},add(Ua,ub){const Kb=this,Lb=Kb.dataflow,Db=Ua.value;Kb.set(Ua.id,ub);"collect"===(Ua.type+"").toLowerCase()&&Db&&(Db.$ingest?Lb.ingest(ub,Db.$ingest,Db.$format):Db.$request?Lb.preload(ub,Db.$request,
Db.$format):Lb.pulse(ub,Lb.changeset().insert(Db)));Ua.root&&(Kb.root=ub);if(Ua.parent){let Pb=Kb.get(Ua.parent.$ref);Pb?(Lb.connect(Pb,[ub]),ub.targets().add(Pb)):(Kb.unresolved=Kb.unresolved||[]).push(()=>{Pb=Kb.get(Ua.parent.$ref);Lb.connect(Pb,[ub]);ub.targets().add(Pb)})}Ua.signal&&(Kb.signals[Ua.signal]=ub);Ua.scale&&(Kb.scales[Ua.scale]=ub);if(Ua.data)for(const Pb in Ua.data){const ab=Kb.data[Pb]||(Kb.data[Pb]={});Ua.data[Pb].forEach(pb=>ab[pb]=ub)}},resolve(){(this.unresolved||[]).forEach(Ua=>
Ua());delete this.unresolved;return this},operator(Ua,ub){this.add(Ua,this.dataflow.add(Ua.value,ub))},transform(Ua,ub){this.add(Ua,this.dataflow.add(this.transforms[(ub+"").toLowerCase()]))},stream(Ua,ub){this.set(Ua.id,ub)},update(Ua,ub,Kb,Lb,Db){this.dataflow.on(ub,Kb,Lb,Db,Ua.options)},operatorExpression(Ua){return this.expr.operator(this,Ua)},parameterExpression(Ua){return this.expr.parameter(this,Ua)},eventExpression(Ua){return this.expr.event(this,Ua)},handlerExpression(Ua){return this.expr.handler(this,
Ua)},encodeExpression(Ua){return this.expr.encode(this,Ua)},parse:function(Ua){const ub=this,Kb=Ua.operators||[];Ua.background&&(ub.background=Ua.background);Ua.eventConfig&&(ub.eventConfig=Ua.eventConfig);Ua.locale&&(ub.locale=Ua.locale);Kb.forEach(Lb=>ub.parseOperator(Lb));Kb.forEach(Lb=>ub.parseOperatorParameters(Lb));(Ua.streams||[]).forEach(Lb=>ub.parseStream(Lb));(Ua.updates||[]).forEach(Lb=>ub.parseUpdate(Lb));return ub.resolve()},parseOperator:function(Ua){"operator"!==(Ua.type+"").toLowerCase()&&
Ua.type?this.transform(Ua,Ua.type):this.operator(Ua,Ua.update?this.operatorExpression(Ua.update):null)},parseOperatorParameters:function(Ua){if(Ua.params){const ub=this.get(Ua.id);ub||k.error("Invalid operator id: "+Ua.id);this.dataflow.connect(ub,ub.parameters(this.parseParameters(Ua.params),Ua.react,Ua.initonly))}},parseParameters:function(Ua,ub){ub=ub||{};const Kb=this;for(const Lb in Ua){const Db=Ua[Lb];ub[Lb]=k.isArray(Db)?Db.map(Pb=>Hb(Pb,Kb,ub)):Hb(Db,Kb,ub)}return ub},parseStream:function(Ua){var ub=
this,Kb=null!=Ua.filter?ub.eventExpression(Ua.filter):void 0,Lb=null!=Ua.stream?ub.get(Ua.stream):void 0;if(Ua.source)Lb=ub.events(Ua.source,Ua.type,Kb);else if(Ua.merge){var Db=Ua.merge.map(Pb=>ub.get(Pb));Lb=Db[0].merge.apply(Db[0],Db.slice(1))}Ua.between&&(Db=Ua.between.map(Pb=>ub.get(Pb)),Lb=Lb.between(Db[0],Db[1]));Ua.filter&&(Lb=Lb.filter(Kb));null!=Ua.throttle&&(Lb=Lb.throttle(+Ua.throttle));null!=Ua.debounce&&(Lb=Lb.debounce(+Ua.debounce));null==Lb&&k.error("Invalid stream definition: "+JSON.stringify(Ua));
Ua.consume&&Lb.consume(!0);ub.stream(Ua,Lb)},parseUpdate:function(Ua){var ub=k.isObject(ub=Ua.source)?ub.$ref:ub;ub=this.get(ub);var Kb=Ua.update,Lb=void 0;ub||k.error("Source not defined: "+Ua.source);var Db=Ua.target&&Ua.target.$expr?this.eventExpression(Ua.target.$expr):this.get(Ua.target);Kb&&Kb.$expr&&(Kb.$params&&(Lb=this.parseParameters(Kb.$params)),Kb=this.handlerExpression(Kb.$expr));this.update(Ua,ub,Db,Kb,Lb)},getState:function(Ua){var ub=this,Kb={};if(Ua.signals){var Lb=Kb.signals={};
Object.keys(ub.signals).forEach(Pb=>{const ab=ub.signals[Pb];Ua.signals(Pb,ab)&&(Lb[Pb]=ab.value)})}if(Ua.data){var Db=Kb.data={};Object.keys(ub.data).forEach(Pb=>{const ab=ub.data[Pb];Ua.data(Pb,ab)&&(Db[Pb]=ab.input.value)})}ub.subcontext&&!1!==Ua.recurse&&(Kb.subcontext=ub.subcontext.map(Pb=>Pb.getState(Ua)));return Kb},setState:function(Ua){var ub=this,Kb=ub.dataflow,Lb=Ua.data,Db=Ua.signals;Object.keys(Db||{}).forEach(Pb=>{Kb.update(ub.signals[Pb],Db[Pb],Yb)});Object.keys(Lb||{}).forEach(Pb=>
{Kb.pulse(ub.data[Pb].input,Kb.changeset().remove(k.truthy).insert(Lb[Pb]))});(Ua.subcontext||[]).forEach((Pb,ab)=>{(ab=ub.subcontext[ab])&&ab.setState(Pb)})}};v.context=function(Ua,ub,Kb,Lb){return new ac(Ua,ub,Kb,Lb)}})};
shadow$provide[60]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(28),Fb(33),Fb(58),Fb(59),Fb(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Hb,ac,vc){function Ac(Ha){const gb=Ha.container();gb&&(gb.setAttribute("role",
"graphics-document"),gb.setAttribute("aria-roleDescription","visualization"),uc(gb,Ha.description()))}function uc(Ha,gb){Ha&&(null==gb?Ha.removeAttribute("aria-label"):Ha.setAttribute("aria-label",gb))}function Cb(Ha){Ha.add(null,gb=>{Ha._background=gb.bg;Ha._resize=1;return gb.bg},{bg:Ha._signals.background})}function jc(Ha){const gb=Ha._signals.cursor||(Ha._signals.cursor=Ha.add({user:"default",item:null}));Ha.on(Ha.events("view","mousemove"),gb,(wb,sa)=>{const F=(wb=gb.value)?k.isString(wb)?wb:
wb.user:"default";sa=sa.item&&sa.item.cursor||null;return wb&&F===wb.user&&sa==wb.item?wb:{user:F,item:sa}});Ha.add(null,function(wb){wb=wb.cursor;let sa=this.value;k.isString(wb)||(sa=wb.item,wb=wb.user);Yb(Ha,wb&&"default"!==wb?wb:sa||wb);return sa},{cursor:gb})}function Yb(Ha,gb){if(Ha=Ha.globalCursor()?"undefined"!==typeof document&&document.body:Ha.container())return null==gb?Ha.style.removeProperty("cursor"):Ha.style.cursor=gb}function Ua(Ha,gb){Ha=Ha._runtime.data;k.hasOwnProperty(Ha,gb)||
k.error("Unrecognized data set: "+gb);return Ha[gb]}function ub(Ha,gb){P.isChangeSet(gb)||k.error("Second argument to changes must be a changeset.");Ha=Ua(this,Ha);Ha.modified=!0;return this.pulse(Ha.input,gb)}function Kb(Ha){var gb=Ha.padding();return Math.max(0,Ha._viewWidth+gb.left+gb.right)}function Lb(Ha){var gb=Ha.padding();return Math.max(0,Ha._viewHeight+gb.top+gb.bottom)}function Db(Ha){var gb=Ha.padding();Ha=Ha._origin;return[gb.left+Ha[0],gb.top+Ha[1]]}function Pb(Ha){var gb=Db(Ha),wb=
Kb(Ha),sa=Lb(Ha);Ha._renderer.background(Ha.background());Ha._renderer.resize(wb,sa,gb);Ha._handler.origin(gb);Ha._resizeListeners.forEach(F=>{try{F(wb,sa)}catch(ya){Ha.error(ya)}})}function ab(Ha,gb,wb){function sa(Na){var Za=ya,kb;if(Na)for(kb=gb;kb;kb=kb.mark.group)if(kb.mark.name===Na){Za=kb;break}return Za&&Za.mark&&Za.mark.interactive?Za:{}}function F(Na){if(!Na)return wb;k.isString(Na)&&(Na=sa(Na));const Za=wb.slice();for(;Na;)Za[0]-=Na.x||0,Za[1]-=Na.y||0,Na=Na.mark&&Na.mark.group;return Za}
const ya=gb?"group"===gb.mark.marktype?gb:gb.mark.group:null;return{view:k.constant(Ha),item:k.constant(gb||{}),group:sa,xy:F,x:Na=>F(Na)[0],y:Na=>F(Na)[1]}}function pb(Ha){Ha=k.extend({defaults:{}},Ha);const gb=(wb,sa)=>{sa.forEach(F=>{k.isArray(wb[F])&&(wb[F]=k.toSet(wb[F]))})};gb(Ha.defaults,["prevent","allow"]);gb(Ha,["view","window","selector"]);return Ha}function Qa(Ha,gb,wb,sa){Ha._eventListeners.push({type:wb,sources:k.array(gb),handler:sa})}function Da(Ha,gb,wb){const sa=Ha._eventConfig&&
Ha._eventConfig[gb];return!1===sa||k.isObject(sa)&&!sa[wb]?(Ha.warn(`Blocked ${gb} ${wb} event listener.`),!1):!0}function Ka(Ha){return Ha.item}function lb(Ha){return Ha.item.mark.source}function mb(Ha){return function(gb,wb){return wb.vega.view().changeset().encode(wb.item,Ha)}}function Pa(Ha,gb,wb){Ha=document.createElement(Ha);for(const sa in gb)Ha.setAttribute(sa,gb[sa]);null!=wb&&(Ha.textContent=wb);return Ha}function xb(Ha,gb,wb){var sa=(gb-Ha)/Math.max(0,wb),F=Math.floor(Math.log10(sa));sa/=
Math.pow(10,F);sa=sa>=Zb?10:sa>=Sc?5:sa>=Pd?2:1;let ya;0>F?(ya=Math.pow(10,-F)/sa,F=Math.round(Ha*ya),sa=Math.round(gb*ya),F/ya<Ha&&++F,sa/ya>gb&&--sa,ya=-ya):(ya=Math.pow(10,F)*sa,F=Math.round(Ha/ya),sa=Math.round(gb/ya),F*ya<Ha&&++F,sa*ya>gb&&--sa);return sa<F&&.5<=wb&&2>wb?xb(Ha,gb,2*wb):[F,sa,ya]}function sb(Ha,gb,wb){return xb(+Ha,+gb,+wb)[2]}function Qb(Ha,gb,wb){gb=+gb;Ha=+Ha;wb=+wb;const sa=gb<Ha;Ha=sa?sb(gb,Ha,wb):sb(Ha,gb,wb);return(sa?-1:1)*(0>Ha?1/-Ha:Ha)}function Wb(Ha,gb,wb){if(gb){var sa=
wb.param,F=wb.state;F||(F=wb.state={elements:null,active:!1,set:null,update:ya=>{ya!=Ha.signal(sa.signal)&&Ha.runAsync(null,()=>{F.source=!0;Ha.signal(sa.signal,ya)})}},sa.debounce&&(F.update=k.debounce(sa.debounce,F.update)));(null==sa.input&&sa.element?nb:pa)(F,gb,sa,Ha);F.active||(Ha.on(Ha._signals[sa.signal],null,()=>{F.source?F.source=!1:F.set(Ha.signal(sa.signal))}),F.active=!0);return F}}function nb(Ha,gb,wb,sa){const F=wb.event||"input",ya=()=>Ha.update(gb.value);sa.signal(wb.signal,gb.value);
gb.addEventListener(F,ya);Qa(sa,gb,F,ya);Ha.set=Na=>{gb.value=Na;Na=gb.dispatchEvent;var Za="undefined"!==typeof Event?new Event(F):{type:F};Na.call(gb,Za)}}function pa(Ha,gb,wb,sa){sa=sa.signal(wb.signal);const F=Pa("div",{"class":"vega-bind"}),ya="radio"===wb.input?F:F.appendChild(Pa("label"));ya.appendChild(Pa("span",{"class":"vega-bind-name"},wb.name||wb.signal));gb.appendChild(F);gb=Z;switch(wb.input){case "checkbox":gb=Fa;break;case "select":gb=Ga;break;case "radio":gb=db;break;case "range":gb=
ba}gb(Ha,ya,wb,sa)}function Z(Ha,gb,wb,sa){const F=Pa("input");for(const ya in wb)"signal"!==ya&&"element"!==ya&&F.setAttribute("input"===ya?"type":ya,wb[ya]);F.setAttribute("name",wb.signal);F.value=sa;gb.appendChild(F);F.addEventListener("input",()=>Ha.update(F.value));Ha.elements=[F];Ha.set=ya=>F.value=ya}function Fa(Ha,gb,wb,sa){wb={type:"checkbox",name:wb.signal};sa&&(wb.checked=!0);const F=Pa("input",wb);gb.appendChild(F);F.addEventListener("change",()=>Ha.update(F.checked));Ha.elements=[F];
Ha.set=ya=>F.checked=!!ya||null}function Ga(Ha,gb,wb,sa){const F=Pa("select",{name:wb.signal}),ya=wb.labels||[];wb.options.forEach((Na,Za)=>{const kb={value:Na};ma(Na,sa)&&(kb.selected=!0);F.appendChild(Pa("option",kb,(ya[Za]||Na)+""))});gb.appendChild(F);F.addEventListener("change",()=>{Ha.update(wb.options[F.selectedIndex])});Ha.elements=[F];Ha.set=Na=>{for(let Za=0,kb=wb.options.length;Za<kb;++Za)if(ma(wb.options[Za],Na)){F.selectedIndex=Za;break}}}function db(Ha,gb,wb,sa){const F=Pa("span",{"class":"vega-bind-radio"}),
ya=wb.labels||[];gb.appendChild(F);Ha.elements=wb.options.map((Na,Za)=>{var kb={type:"radio",name:wb.signal,value:Na};ma(Na,sa)&&(kb.checked=!0);kb=Pa("input",kb);kb.addEventListener("change",()=>Ha.update(Na));Za=Pa("label",{},(ya[Za]||Na)+"");Za.prepend(kb);F.appendChild(Za);return kb});Ha.set=Na=>{const Za=Ha.elements,kb=Za.length;for(let Gb=0;Gb<kb;++Gb)ma(Za[Gb].value,Na)&&(Za[Gb].checked=!0)}}function ba(Ha,gb,wb,sa){sa=void 0!==sa?sa:(+wb.max+ +wb.min)/2;const F=null!=wb.max?wb.max:Math.max(100,
+sa)||100,ya=wb.min||Math.min(0,F,+sa)||0,Na=wb.step||Qb(ya,F,100),Za=Pa("input",{type:"range",name:wb.signal,min:ya,max:F,step:Na});Za.value=sa;const kb=Pa("span",{},+sa);gb.appendChild(Za);gb.appendChild(kb);gb=()=>{kb.textContent=Za.value;Ha.update(+Za.value)};Za.addEventListener("input",gb);Za.addEventListener("change",gb);Ha.elements=[Za];Ha.set=Gb=>{Za.value=Gb;kb.textContent=Gb}}function ma(Ha,gb){return Ha===gb||Ha+""===gb+""}function q(Ha,gb,wb,sa,F,ya){gb=gb||new sa(Ha.loader());return gb.initialize(wb,
Kb(Ha),Lb(Ha),Db(Ha),F,ya).background(Ha.background())}function M(Ha,gb){return gb?function(){try{gb.apply(this,arguments)}catch(wb){Ha.error(wb)}}:null}function Q(Ha,gb,wb,sa){const F=(new sa(Ha.loader(),M(Ha,Ha.tooltip()))).scene(Ha.scenegraph().root).initialize(wb,Db(Ha),Ha);gb&&gb.handlers().forEach(ya=>{F.on(ya.type,ya.handler)});return F}function g(Ha,gb,wb){if("string"===typeof gb)if("undefined"!==typeof document){if(gb=document.querySelector(gb),!gb)return Ha.error("Signal bind element not found: "+
gb),null}else return Ha.error("DOM document instance not found."),null;if(gb&&wb)try{gb.textContent=""}catch(sa){gb=null,Ha.error(sa)}return gb}function u(Ha){k.isObject(Ha)?Ha={top:+Ha.top||0,bottom:+Ha.bottom||0,left:+Ha.left||0,right:+Ha.right||0}:(Ha=+Ha||0,Ha={top:Ha,bottom:Ha,left:Ha,right:Ha});return Ha}function m(Ha,gb,wb,sa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var F=ib.renderModule(gb);(F=F&&F.headless)||k.error("Unrecognized renderer type: "+gb);yield Ha.runAsync();
return q(Ha,null,null,F,wb,sa).renderAsync(Ha._scenegraph.root)})}function C(Ha,gb,wb){return ac.context(Ha,P.transforms,Hb.functionContext,wb).parse(gb)}function B(Ha,gb){var wb=Ha.autosize();Ha=Ha.padding();return gb-(wb&&"padding"===wb.contains?Ha.left+Ha.right:0)}function A(Ha,gb){var wb=Ha.autosize();Ha=Ha.padding();return gb-(wb&&"padding"===wb.contains?Ha.top+Ha.bottom:0)}function E(Ha){function gb(){Ha._autosize=Ha._resize=1}var wb=Ha._signals,sa=wb.width,F=wb.height;wb=wb.padding;Ha._resizeWidth=
Ha.add(null,Na=>{Ha._width=Na.size;Ha._viewWidth=B(Ha,Na.size);gb()},{size:sa});Ha._resizeHeight=Ha.add(null,Na=>{Ha._height=Na.size;Ha._viewHeight=A(Ha,Na.size);gb()},{size:F});const ya=Ha.add(null,gb,{pad:wb});Ha._resizeWidth.rank=sa.rank+1;Ha._resizeHeight.rank=F.rank+1;ya.rank=wb.rank+1}function H(Ha,gb){return gb.modified&&k.isArray(gb.input.value)&&Ha.indexOf("_:vega:_")}function V(Ha,gb){return!("parent"===Ha||gb instanceof P.transforms.proxy)}function Aa(){return zc||(td(Y),zc=Md.now()+Zc)}
function Y(){zc=0}function t(){this._call=this._time=this._next=null}function L(){zc=(Ic=Md.now())+Zc;Vb=qb=0;try{Aa();++Vb;for(var Ha=gc,gb;Ha;)0<=(gb=zc-Ha._time)&&Ha._call.call(void 0,gb),Ha=Ha._next;--Vb}finally{Vb=0;Ha=gc;for(var wb=Infinity;Ha;)if(Ha._call){wb>Ha._time&&(wb=Ha._time);var sa=Ha;Ha=Ha._next}else gb=Ha._next,Ha._next=null,Ha=sa?sa._next=gb:gc=gb;cc=sa;La(wb);zc=0}}function va(){var Ha=Md.now(),gb=Ha-Ic;1E3<gb&&(Zc-=gb,Ic=Ha)}function La(Ha){Vb||(qb&&(qb=clearTimeout(qb)),24<Ha-
zc?(Infinity>Ha&&(qb=setTimeout(L,Ha-Md.now()-Zc)),Tb&&(Tb=clearInterval(Tb))):(Tb||(Ic=Md.now(),Tb=setInterval(va,1E3)),Vb=1,td(L)))}function Wa(Ha,gb,wb){var sa=new t,F=gb;if(null==gb)return sa.restart(Ha,gb,wb),sa;sa._restart=sa.restart;sa.restart=function(ya,Na,Za){Na=+Na;Za=null==Za?Aa():+Za;sa._restart(function nc(Gb){Gb+=F;sa._restart(nc,F+=Na,Za);ya(Gb)},Na,Za)};sa.restart(Ha,gb,wb);return sa}function $a(Ha,gb,wb,sa){if(Ha=Ha.element())gb=Ha.setAttribute,sa=null==sa?"":k.isArray(sa)?"["+sa.map(Ca).join(", ")+
"]":k.isObject(sa)&&!k.isDate(sa)?X(sa):sa+"",gb.call(Ha,"title",sa)}function X(Ha){return Object.keys(Ha).map(gb=>{const wb=Ha[gb];return gb+": "+(k.isArray(wb)?"["+wb.map(Ca).join(", ")+"]":Ca(wb))}).join("\n")}function Ca(Ha){return k.isArray(Ha)?"[]":k.isObject(Ha)&&!k.isDate(Ha)?"{}":Ha}function Xa(Ha,gb){gb=gb||{};P.Dataflow.call(this);gb.loader&&this.loader(gb.loader);gb.logger&&this.logger(gb.logger);null!=gb.logLevel&&this.logLevel(gb.logLevel);if(gb.locale||Ha.locale){var wb=k.extend({},
Ha.locale,gb.locale);this.locale(vc.locale(wb.number,wb.time))}this._elBind=this._el=null;this._renderType=gb.renderer||ib.RenderType.Canvas;this._scenegraph=new ib.Scenegraph;wb=this._scenegraph.root;this._renderer=null;this._tooltip=gb.tooltip||$a;this._redraw=!0;this._handler=(new ib.CanvasHandler).scene(wb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=pb(Ha.eventConfig);this.globalCursor(this._eventConfig.globalCursor);
const sa=C(this,Ha,gb.expr);this._runtime=sa;this._signals=sa.signals;this._bind=(Ha.bindings||[]).map(F=>({state:null,param:k.extend({},F)}));sa.root&&sa.root.set(wb);wb.source=sa.data.root.input;this.pulse(sa.data.root.input,this.changeset().insert(wb.items));this._width=this.width();this._height=this.height();this._viewWidth=B(this,this._width);this._viewHeight=A(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;E(this);Cb(this);jc(this);this.description(Ha.description);gb.hover&&
this.hover();gb.container&&this.initialize(gb.container,gb.bind)}function Jb(Ha,gb){return k.hasOwnProperty(Ha._signals,gb)?Ha._signals[gb]:k.error("Unrecognized signal name: "+k.stringValue(gb))}function yc(Ha,gb){Ha=(Ha._targets||[]).filter(wb=>wb._update&&wb._update.handler===gb);return Ha.length?Ha[0]:null}function sc(Ha,gb,wb,sa){let F=yc(wb,sa);F||(F=M(Ha,()=>sa(gb,wb.value)),F.handler=sa,Ha.on(wb,null,F));return Ha}function xc(Ha,gb,wb){(wb=yc(gb,wb))&&gb._targets.remove(wb);return Ha}const dd=
{trap:!1},Zb=Math.sqrt(50),Sc=Math.sqrt(10),Pd=Math.sqrt(2);var Ma={skip:!0},Vb=0,qb=0,Tb=0,gc,cc,Ic=0,zc=0,Zc=0,Md="object"===typeof performance&&performance.now?performance:Date,td="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ha){setTimeout(Ha,17)};t.prototype={constructor:t,restart:function(Ha,gb,wb){if("function"!==typeof Ha)throw new TypeError("callback is not a function");wb=(null==wb?Aa():+wb)+(null==gb?0:+gb);this._next||cc===this||
(cc?cc._next=this:gc=this,cc=this);this._call=Ha;this._time=wb;La()},stop:function(){this._call&&(this._call=null,this._time=Infinity,La())}};k.inherits(Xa,P.Dataflow,{evaluate(Ha,gb,wb){const sa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield P.Dataflow.prototype.evaluate.call(sa,Ha,gb);if(sa._redraw||sa._resize)try{sa._renderer&&(sa._resize&&(sa._resize=0,Pb(sa)),yield sa._renderer.renderAsync(sa._scenegraph.root)),sa._redraw=!1}catch(F){sa.error(F)}wb&&P.asyncCallback(sa,
wb);return sa})},dirty(Ha){this._redraw=!0;this._renderer&&this._renderer.dirty(Ha)},description(Ha){if(arguments.length){const gb=null!=Ha?Ha+"":null;gb!==this._desc&&uc(this._el,this._desc=gb);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Ha,gb,wb){const sa=Jb(this,Ha);return 1===arguments.length?sa.value:this.update(sa,gb,wb)},width(Ha){return arguments.length?this.signal("width",Ha):this.signal("width")},
height(Ha){return arguments.length?this.signal("height",Ha):this.signal("height")},padding(Ha){return arguments.length?this.signal("padding",u(Ha)):u(this.signal("padding"))},autosize(Ha){return arguments.length?this.signal("autosize",Ha):this.signal("autosize")},background(Ha){return arguments.length?this.signal("background",Ha):this.signal("background")},renderer(Ha){if(!arguments.length)return this._renderType;ib.renderModule(Ha)||k.error("Unrecognized renderer type: "+Ha);Ha!==this._renderType&&
(this._renderType=Ha,this._resetRenderer());return this},tooltip(Ha){if(!arguments.length)return this._tooltip;Ha!==this._tooltip&&(this._tooltip=Ha,this._resetRenderer());return this},loader(Ha){if(!arguments.length)return this._loader;Ha!==this._loader&&(P.Dataflow.prototype.loader.call(this,Ha),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Jb(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(Ha,
gb,wb,sa,F,ya){this.runAfter(Na=>{let Za=0;Na._autosize=0;Na.width()!==wb&&(Za=1,Na.signal("width",wb,Ma),Na._resizeWidth.skip(!0));Na.height()!==sa&&(Za=1,Na.signal("height",sa,Ma),Na._resizeHeight.skip(!0));Na._viewWidth!==Ha&&(Na._resize=1,Na._viewWidth=Ha);Na._viewHeight!==gb&&(Na._resize=1,Na._viewHeight=gb);if(Na._origin[0]!==F[0]||Na._origin[1]!==F[1])Na._resize=1,Na._origin=F;Za&&Na.run("enter");ya&&Na.runAfter(kb=>kb.resize())},!1,1)},addEventListener(Ha,gb,wb){let sa=gb;wb&&!1===wb.trap||
(sa=M(this,gb),sa.raw=gb);this._handler.on(Ha,sa);return this},removeEventListener(Ha,gb){for(var wb=this._handler.handlers(Ha),sa=wb.length,F,ya;0<=--sa;)if(ya=wb[sa].type,F=wb[sa].handler,Ha===ya&&(gb===F||gb===F.raw)){this._handler.off(ya,F);break}return this},addResizeListener(Ha){const gb=this._resizeListeners;0>gb.indexOf(Ha)&&gb.push(Ha);return this},removeResizeListener(Ha){var gb=this._resizeListeners;Ha=gb.indexOf(Ha);0<=Ha&&gb.splice(Ha,1);return this},addSignalListener(Ha,gb){return sc(this,
Ha,Jb(this,Ha),gb)},removeSignalListener(Ha,gb){return xc(this,Jb(this,Ha),gb)},addDataListener(Ha,gb){return sc(this,Ha,Ua(this,Ha).values,gb)},removeDataListener(Ha,gb){return xc(this,Ua(this,Ha).values,gb)},globalCursor(Ha){if(arguments.length){if(this._globalCursor!==!!Ha){const gb=Yb(this,null);this._globalCursor=!!Ha;gb&&Yb(this,gb)}return this}return this._globalCursor},preventDefault(Ha){return arguments.length?(this._preventDefault=Ha,this):this._preventDefault},timer:function(Ha,gb){this._timers.push(Wa(function(wb){Ha({timestamp:Date.now(),
elapsed:wb})},gb))},events:function(Ha,gb,wb){var sa=this,F=new P.EventStream(wb);wb=function(kb,Gb){sa.runAsync(null,()=>{var nc;if(nc="view"===Ha){var dc=sa._eventConfig.defaults;nc=dc.prevent;dc=dc.allow;nc=!1===nc||!0===dc?!1:!0===nc||!1===dc?!0:nc?nc[gb]:dc?!dc[gb]:sa.preventDefault()}nc&&kb.preventDefault();nc=F.receive;dc=(dc=sa._renderer)&&dc.canvas();if(dc){var ic=Db(sa);var Vc=kb.changedTouches?kb.changedTouches[0]:kb;Vc=ib.point(Vc,dc);Vc[0]-=ic[0];Vc[1]-=ic[1]}kb.dataflow=sa;kb.item=Gb;
kb.vega=ab(sa,Gb,Vc);nc.call(F,kb)})};var ya;if("timer"===Ha)Da(sa,"timer",gb)&&sa.timer(wb,gb);else if("view"===Ha)Da(sa,"view",gb)&&sa.addEventListener(gb,wb,dd);else if("window"===Ha?Da(sa,"window",gb)&&"undefined"!==typeof window&&(ya=[window]):"undefined"!==typeof document&&Da(sa,"selector",gb)&&(ya=Array.from(document.querySelectorAll(Ha))),ya){for(var Na=0,Za=ya.length;Na<Za;++Na)ya[Na].addEventListener(gb,wb);Qa(sa,ya,gb,wb)}else sa.warn("Can not resolve event source: "+Ha);return F},finalize:function(){var Ha=
this._tooltip,gb=this._timers,wb=this._eventListeners,sa;for(sa=gb.length;0<=--sa;)gb[sa].stop();for(sa=wb.length;0<=--sa;){var F=wb[sa];for(gb=F.sources.length;0<=--gb;)F.sources[gb].removeEventListener(F.type,F.handler)}Ha&&Ha.call(this,this._handler,null,null,null);return this},hover:function(Ha,gb){Ha=[Ha||"hover"];gb=[gb||"update",Ha[0]];this.on(this.events("view","mouseover",Ka),lb,mb(Ha));this.on(this.events("view","mouseout",Ka),lb,mb(gb));return this},data:function(Ha,gb){return 2>arguments.length?
Ua(this,Ha).values.value:ub.call(this,Ha,P.changeset().remove(k.truthy).insert(gb))},change:ub,insert:function(Ha,gb){return ub.call(this,Ha,P.changeset().insert(gb))},remove:function(Ha,gb){return ub.call(this,Ha,P.changeset().remove(gb))},scale:function(Ha){var gb=this._runtime.scales;k.hasOwnProperty(gb,Ha)||k.error("Unrecognized scale or projection: "+Ha);return gb[Ha].value},initialize:function(Ha,gb){const wb=this;var sa=wb._renderType;const F=wb._eventConfig.bind;var ya=ib.renderModule(sa);
Ha=wb._el=Ha?g(wb,Ha,!0):null;Ac(wb);ya||wb.error("Unrecognized renderer type: "+sa);sa=ya.handler||ib.CanvasHandler;ya=Ha?ya.renderer:ya.headless;wb._renderer=ya?q(wb,wb._renderer,Ha,ya):null;wb._handler=Q(wb,wb._handler,Ha,sa);wb._redraw=!0;Ha&&"none"!==F&&(gb=gb?wb._elBind=g(wb,gb,!0):Ha.appendChild(Pa("form",{"class":"vega-bindings"})),wb._bind.forEach(Na=>{Na.param.element&&"container"!==F&&(Na.element=g(wb,Na.param.element,!!Na.param.input))}),wb._bind.forEach(Na=>{Wb(wb,Na.element||gb,Na)}));
return wb},toImageURL:function(Ha,gb){const wb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ha!==ib.RenderType.Canvas&&Ha!==ib.RenderType.SVG&&Ha!==ib.RenderType.PNG&&k.error("Unrecognized image type: "+Ha);var sa=yield m(wb,Ha,gb);Ha===ib.RenderType.SVG?(sa=sa.svg(),sa=new Blob([sa],{type:"image/svg+xml"}),sa=window.URL.createObjectURL(sa)):sa=sa.canvas().toDataURL("image/png");return sa})},toCanvas:function(Ha,gb){const wb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield m(wb,
ib.RenderType.Canvas,Ha,gb)).canvas()})},toSVG:function(Ha){const gb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield m(gb,ib.RenderType.SVG,Ha)).svg()})},getState:function(Ha){return this._runtime.getState(Ha||{data:H,signals:V,recurse:!0})},setState:function(Ha){this.runAsync(null,gb=>{gb._trigger=!1;gb._runtime.setState(Ha)},gb=>{gb._trigger=!0});return this}});v.View=Xa})};
shadow$provide[61]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function k(Cb,jc,Yb,Ua,ub){const Kb=Cb.length;let Lb=0,Db;for(;jc<Kb;++jc)if(Db=Cb[jc],Lb||Db!==Yb)ub&&0<=ub.indexOf(Db)?--Lb:Ua&&0<=Ua.indexOf(Db)&&++Lb;else break;return jc}function P(Cb){const jc=[],Yb=Cb.length;let Ua=0,ub=0;for(;ub<Yb;)ub=k(Cb,
ub,",","[{","]}"),jc.push(Cb.substring(Ua,ub).trim()),Ua=++ub;if(0===jc.length)throw"Empty event selector: "+Cb;return jc}function ib(Cb){if("["===Cb[0]){var jc=Cb;var Yb=jc.length;Cb=k(jc,1,"]","[","]");if(Cb===Yb)throw"Empty between selector: "+jc;Yb=P(jc.substring(1,Cb));if(2!==Yb.length)throw"Between selector must have two elements: "+jc;jc=jc.slice(Cb+1).trim();if("\x3e"!==jc[0])throw"Expected '\x3e' after between selector: "+jc;Yb=Yb.map(ib);jc=ib(jc.slice(1).trim());jc.between?jc={between:Yb,
stream:jc}:jc.between=Yb}else{Yb={source:Ac};const Ua=[];let ub=[0,0],Kb=0,Lb=0,Db=Cb.length,Pb=0,ab;if("}"===Cb[Db-1]){Pb=Cb.lastIndexOf("{");if(0<=Pb){try{ub=Hb(Cb.substring(Pb+1,Db-1))}catch(pb){throw"Invalid throttle specification: "+Cb;}Cb=Cb.slice(0,Pb).trim();Db=Cb.length}else throw"Unmatched right brace: "+Cb;Pb=0}if(!Db)throw Cb;"@"===Cb[0]&&(Kb=++Pb);ab=k(Cb,Pb,":");ab<Db&&(Ua.push(Cb.substring(Lb,ab).trim()),Lb=Pb=++ab);Pb=k(Cb,Pb,"[");if(Pb===Db)Ua.push(Cb.substring(Lb,Db).trim());else if(Ua.push(Cb.substring(Lb,
Pb).trim()),jc=[],Lb=++Pb,Lb===Db)throw"Unmatched left bracket: "+Cb;for(;Pb<Db;){Pb=k(Cb,Pb,"]");if(Pb===Db)throw"Unmatched left bracket: "+Cb;jc.push(Cb.substring(Lb,Pb).trim());if(Pb<Db-1&&"["!==Cb[++Pb])throw"Expected left bracket: "+Cb;Lb=++Pb}if(!(Db=Ua.length)||ac.test(Ua[Db-1]))throw"Invalid event selector: "+Cb;1<Db?(Yb.type=Ua[1],Kb?Yb.markname=Ua[0].slice(1):uc[Ua[0]]?Yb.marktype=Ua[0]:Yb.source=Ua[0]):Yb.type=Ua[0];"!"===Yb.type.slice(-1)&&(Yb.consume=!0,Yb.type=Yb.type.slice(0,-1));null!=
jc&&(Yb.filter=jc);ub[0]&&(Yb.throttle=ub[0]);ub[1]&&(Yb.debounce=ub[1]);jc=Yb}return jc}function Hb(Cb){const jc=Cb.split(",");if(!Cb.length||2<jc.length)throw Cb;return jc.map(Yb=>{Yb=+Yb;if(Yb!==Yb)throw Cb;return Yb})}const ac=/[[\]{}]/,vc={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Ac,uc;v.parseSelector=function(Cb,jc,Yb){Ac=jc||"view";uc=Yb||vc;return P(Cb.trim()).map(ib)}})};
shadow$provide[62]=function(fc,Fb,Xc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Xc?k(ob,Fb(20),Fb(58),Fb(61),Fb(32),Fb(28)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Hb,ac){function vc(O){return k.isObject(O)?O:{type:O||"pad"}}function Ac(O){k.isObject(O)?
O=O.signal?O:{top:+O.top||0,bottom:+O.bottom||0,left:+O.left||0,right:+O.right||0}:(O=+O||0,O={top:O,bottom:O,left:O,right:O});return O}function uc(O,ea,I,ka){return null!=I?(k.isObject(I)&&!k.isArray(I)||k.isArray(I)&&I.length&&k.isObject(I[0])?O.update[ea]=I:O[ka||"enter"][ea]={value:I},1):0}function Cb(O,ea,I){for(const ka in ea)uc(O,ka,ea[ka]);for(const ka in I)uc(O,ka,I[ka],"update")}function jc(O,ea,I){for(const ka in ea)I&&k.hasOwnProperty(I,ka)||(O[ka]=k.extend(O[ka]||{},ea[ka]));return O}
function Yb(O,ea){return ea&&(ea.enter&&ea.enter[O]||ea.update&&ea.update[O])}function Ua(O,ea,I,ka,ta){const Ja={},jb={};let vb,pc;pc="lineBreak";"text"!==ea||null==ta[pc]||Yb(pc,O)||ub(Ja,pc,ta[pc]);if("legend"==I||String(I).startsWith("axis"))I=null;I="frame"===I?ta.group:"mark"===I?k.extend({},ta.mark,ta[ea]):null;for(pc in I)(ea=Yb(pc,O)||("fill"===pc||"stroke"===pc)&&(Yb("fill",O)||Yb("stroke",O)))||ub(Ja,pc,I[pc]);k.array(ka).forEach(qc=>{qc=ta.style&&ta.style[qc];for(const rc in qc)Yb(rc,
O)||ub(Ja,rc,qc[rc])});O=k.extend({},O);for(pc in Ja)I=Ja[pc],I.signal?(vb=vb||{})[pc]=I:jb[pc]=I;O.enter=k.extend(jb,O.enter);vb&&(O.update=k.extend(vb,O.update));return O}function ub(O,ea,I){O[ea]=I&&I.signal?{signal:I.signal}:{value:I}}function Kb(O){if(null!=O.gradient)return Lb(O);if(O.signal)var ea=`(${O.signal})`;else O.color?(ea=O.color,ea=ea.c?Hd("hcl",ea.h,ea.c,ea.l):ea.h||ea.s?Hd("hsl",ea.h,ea.s,ea.l):ea.l||ea.a?Hd("lab",ea.l,ea.a,ea.b):ea.r||ea.g||ea.b?Hd("rgb",ea.r,ea.g,ea.b):null):ea=
null!=O.field?Pb(O.field):void 0!==O.value?k.stringValue(O.value):void 0;if(null!=O.scale){const I=rd(O.scale);null!=O.range?ea=`lerp(_range(${I}), ${+O.range})`:(void 0!==ea&&(ea=`_scale(${I}, ${ea})`),O.band&&(ea=(ea?ea+"+":"")+`_bandwidth(${I})`+(1===+O.band?"":"*"+Db(O.band)),O.extra&&(ea=`(datum.extra ? _scale(${I}, datum.extra.value) : ${ea})`)),null==ea&&(ea="0"))}void 0===ea&&(ea=null);null!=O.exponent&&(ea=`pow(${ea},${Db(O.exponent)})`);null!=O.mult&&(ea+=`*${Db(O.mult)}`);null!=O.offset&&
(ea+=`+${Db(O.offset)}`);O.round&&(ea=`round(${ea})`);return ea}function Lb(O){const ea=[O.start,O.stop,O.count].map(I=>null==I?null:k.stringValue(I));for(;ea.length&&null==k.peek(ea);)ea.pop();ea.unshift(rd(O.gradient));return`gradient(${ea.join(",")})`}function Db(O){return k.isObject(O)?"("+Kb(O)+")":O}function Pb(O){return ab(k.isObject(O)?O:{datum:O})}function ab(O){let ea;if(O.signal){ea="datum";var I=O.signal}else if(O.group||O.parent){I=Math.max(1,O.level||1);for(ea="item";0<I--;)ea+=".mark.group";
O.parent?(I=O.parent,ea+=".datum"):I=O.group}else O.datum?(ea="datum",I=O.datum):k.error("Invalid field reference: "+k.stringValue(O));O.signal||(I=k.isString(I)?k.splitAccessPath(I).map(k.stringValue).join("]["):ab(I));return ea+"["+I+"]"}function pb(O){let ea="";O.forEach(I=>{const ka=Kb(I);ea+=I.test?`(${I.test})?${ka}:`:ka});":"===k.peek(ea)&&(ea+="null");return ea}function Qa(O,ea,I,ka,ta,Ja){const jb={};Ja=Ja||{};Ja.encoders={$encode:jb};O=Ua(O,ea,I,ka,ta.config);for(const Kc in O){I=O[Kc];
ka=ea;var vb=Ja,pc=ta;const Bd={},Hc={};for(const $c in I)if(null!=I[$c]){var qc=Da;var rc=I[$c];rc=k.isArray(rc)?pb(rc):Kb(rc);Bd[$c]=qc(rc,pc,vb,Hc)}I={$expr:{marktype:ka,channels:Bd},$fields:Object.keys(Hc),$output:Object.keys(I)};jb[Kc]=I}return Ja}function Da(O,ea,I,ka){O=P.parseExpression(O,ea);O.$fields.forEach(ta=>ka[ta]=1);k.extend(I,O.$params);return O.$expr}function Ka(O,ea){k.error(O+' for "outer" push: '+k.stringValue(ea))}function lb(O,ea){const I=O.name;if("outer"===O.push)ea.signals[I]||
Ka("No prior signal definition",I),Gd.forEach(ka=>{void 0!==O[ka]&&Ka("Invalid property ",ka)});else{const ka=ea.addSignal(I,O.value);!1===O.react&&(ka.react=!1);O.bind&&ea.addBinding(I,O.bind)}}function mb(O,ea,I,ka){this.id=-1;this.type=O;this.value=ea;this.params=I;ka&&(this.parent=ka)}function Pa(O){const ea={$ref:O.id};0>O.id&&(O.refs=O.refs||[]).push(ea);return ea}function xb(O,ea){return ea?{$field:O,$name:ea}:{$field:O}}function sb(O,ea){O={$key:O};ea&&(O.$flat=!0);return O}function Qb(O,
ea){return(O&&O.signal?"$"+O.signal:O||"")+(O&&ea?"_":"")+(ea&&ea.signal?"$"+ea.signal:ea||"")}function Wb(O){return O&&O.signal}function nb(O){if(Wb(O))return!0;if(k.isObject(O))for(const ea in O)if(nb(O[ea]))return!0;return!1}function pa(O,ea){return null!=O?O:ea}function Z(O){return O&&O.signal||O}function Fa(O,ea){return(O.merge?Ga:O.stream?db:O.type?ba:k.error("Invalid stream specification: "+k.stringValue(O)))(O,ea)}function Ga(O,ea){const I=O.merge.map(ka=>Fa(ka,ea));O=ma({merge:I},O,ea);return ea.addStream(O).id}
function db(O,ea){const I=Fa(O.stream,ea);O=ma({stream:I},O,ea);return ea.addStream(O).id}function ba(O,ea){if("timer"===O.type){var I=ea.event("timer",O.throttle);O={between:O.between,filter:O.filter}}else I=O.source,I=ea.event.call(ea,"scope"===I?"view":I||"view",O.type);O=ma({stream:I},O,ea);return 1===Object.keys(O).length?I:ea.addStream(O).id}function ma(O,ea,I){let ka=ea.between;ka&&(2!==ka.length&&k.error('Stream "between" parameter must have 2 entries: '+k.stringValue(ea)),O.between=[Fa(ka[0],
I),Fa(ka[1],I)]);ka=ea.filter?[].concat(ea.filter):[];if(ea.marktype||ea.markname||ea.markrole){var ta=ka,Ja=ea.marktype,jb=ea.markname,vb=ea.markrole;ta.push.call(ta,"event.item"+(Ja&&"*"!==Ja?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Ja+"'":"")+(vb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+vb+"'":"")+(jb?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+jb+"'":""))}"scope"===ea.source&&ka.push("inScope(event.item)");ka.length&&(O.filter=P.parseExpression("("+ka.join(")\x26\x26(")+")",I).$expr);
null!=(ka=ea.throttle)&&(O.throttle=+ka);null!=(ka=ea.debounce)&&(O.debounce=+ka);ea.consume&&(O.consume=!0);return O}function q(O,ea,I){const ka=O.encode,ta={target:I};I=O.events;let Ja=O.update,jb=[];I||k.error("Signal update missing events specification.");k.isString(I)&&(I=ib.parseSelector(I,ea.isSubscope()?"scope":"view"));I=k.array(I).filter(vb=>vb.signal||vb.scale?(jb.push(vb),0):1);1<jb.length&&(jb=[M(jb)]);I.length&&jb.push(1<I.length?{merge:I}:I[0]);null!=ka&&(Ja&&k.error("Signal encode and update are mutually exclusive."),
Ja="encode(item(),"+k.stringValue(ka)+")");ta.update=k.isString(Ja)?P.parseExpression(Ja,ea):null!=Ja.expr?P.parseExpression(Ja.expr,ea):null!=Ja.value?Ja.value:null!=Ja.signal?{$expr:Wd,$params:{$value:ea.signalRef(Ja.signal)}}:k.error("Invalid signal update specification.");O.force&&(ta.options={force:!0});jb.forEach(vb=>{var pc=ea.addUpdate,qc=k.extend;vb={source:vb.signal?ea.signalRef(vb.signal):vb.scale?ea.scaleRef(vb.scale):Fa(vb,ea)};return pc.call(ea,qc.call(k,vb,ta))})}function M(O){return{signal:"["+
O.map(ea=>ea.scale?'scale("'+ea.scale+'")':ea.signal)+"]"}}function Q(O,ea){const I=ea.getSignal(O.name);let ka=O.update;O.init&&(ka?k.error("Signals can not include both init and update expressions."):(ka=O.init,I.initonly=!0));ka&&(ka=P.parseExpression(ka,ea),I.update=ka.$expr,I.params=ka.$params);O.on&&O.on.forEach(ta=>q(ta,ea,I.id))}function g(O,ea){return k.isObject(O)?O.signal?ea.signalRef(O.signal):k.error("Unsupported object: "+k.stringValue(O)):O}function u(O,ea){return O.signal?ea.signalRef(O.signal):
O.map(I=>g(I,ea))}function m(O){k.error("Can not find data set: "+k.stringValue(O))}function C(O,ea,I){if(O)return O.signal?I.signalRef(O.signal):(k.isArray(O)?B:O.fields?E:A)(O,ea,I);null==ea.domainMin&&null==ea.domainMax||k.error("No scale domain defined for domainMin/domainMax to override.")}function B(O,ea,I){return O.map(ka=>g(ka,I))}function A(O,ea,I){const ka=I.getData(O.data);ka||m(O.data);return Hb.isDiscrete(ea.type)?ka.valuesRef(I,O.field,V(O.sort,!1)):Hb.isQuantile(ea.type)?ka.domainRef(I,
O.field):ka.extentRef(I,O.field)}function E(O,ea,I){const ka=O.data,ta=O.fields.reduce((Ja,jb)=>{if(k.isString(jb))jb={data:ka,field:jb};else if(k.isArray(jb)||jb.signal){var vb=jb;jb="_:vega:_"+Qc++;const pc=cf({});k.isArray(vb)?pc.value={$ingest:vb}:vb.signal&&(vb="setdata("+k.stringValue(jb)+","+vb.signal+")",pc.params.input=I.signalRef(vb));I.addDataPipeline(jb,[pc,oc({})]);jb={data:jb,field:"data"}}Ja.push(jb);return Ja},[]);return(Hb.isDiscrete(ea.type)?H:Hb.isQuantile(ea.type)?Aa:Y)(O,I,ta)}
function H(O,ea,I){const ka=V(O.sort,!0);O=I.map(Ja=>{const jb=ea.getData(Ja.data);jb||m(Ja.data);return jb.countsRef(ea,Ja.field,ka)});const ta={groupby:$d,pulse:O};ka&&(O=ka.op||"count",I=ka.field?Qb(O,ka.field):"count",ta.ops=[sd[O]],ta.fields=[ea.fieldRef(I)],ta.as=[I]);O=ea.add(Ae(ta));O=ea.add(cf({pulse:Pa(O)}));I=ea.add(Wc({field:$d,sort:ea.sortRef(ka),pulse:Pa(O)}));return Pa(I)}function V(O,ea){O&&(O.field||O.op?O.field||"count"===O.op?ea&&O.field&&O.op&&!sd[O.op]&&k.error("Multiple domain scales can not be sorted using "+
O.op):k.error("No field provided for sort aggregate op: "+O.op):k.isObject(O)?O.field="key":O={field:"key"});return O}function Aa(O,ea,I){O=I.map(ka=>{const ta=ea.getData(ka.data);ta||m(ka.data);return ta.domainRef(ea,ka.field)});return Pa(ea.add(Sa({values:O})))}function Y(O,ea,I){O=I.map(ka=>{const ta=ea.getData(ka.data);ta||m(ka.data);return ta.extentRef(ea,ka.field)});return Pa(ea.add(fa({extents:O})))}function t(O,ea,I){const ka=ea.config.range;let ta=O.range;if(ta.signal)return ea.signalRef(ta.signal);
if(k.isString(ta)){if(ka&&k.hasOwnProperty(ka,ta))return O=k.extend({},O,{range:ka[ta]}),t(O,ea,I);"width"===ta?ta=[0,{signal:"width"}]:"height"===ta?ta=Hb.isDiscrete(O.type)?[0,{signal:"height"}]:[{signal:"height"},0]:k.error("Unrecognized scale range value: "+k.stringValue(ta))}else{if(ta.scheme){I.scheme=k.isArray(ta.scheme)?u(ta.scheme,ea):g(ta.scheme,ea);ta.extent&&(I.schemeExtent=u(ta.extent,ea));ta.count&&(I.schemeCount=g(ta.count,ea));return}if(ta.step){I.rangeStep=g(ta.step,ea);return}if(Hb.isDiscrete(O.type)&&
!k.isArray(ta))return C(ta,O,ea);k.isArray(ta)||k.error("Unsupported range type: "+k.stringValue(ta))}return ta.map(Ja=>(k.isArray(Ja)?u:g)(Ja,ea))}function L(O,ea,I){return k.isArray(O)?O.map(ka=>L(ka,ea,I)):k.isObject(O)?O.signal?I.signalRef(O.signal):"fit"===ea?O:k.error("Unsupported parameter object: "+k.stringValue(O)):O}function va(O){O.type="group";O.interactive=O.interactive||!1;return O}function La(O,ea){const I=(ka,ta)=>pa(O[ka],pa(ea[ka],ta));I.isVertical=ka=>"vertical"===pa(O.direction,
ea.direction||(ka?ea.symbolDirection:ea.gradientDirection));I.gradientLength=()=>pa(O.gradientLength,ea.gradientLength||ea.gradientWidth);I.gradientThickness=()=>pa(O.gradientThickness,ea.gradientThickness||ea.gradientHeight);I.entryColumns=()=>pa(O.columns,pa(ea.columns,+I.isVertical(!0)));return I}function Wa(O,ea){return(O=ea&&(ea.update&&ea.update[O]||ea.enter&&ea.enter[O]))&&O.signal?O:O?O.value:null}function $a(O,ea,I){return`item.anchor === '${"start"}' ? ${O} : item.anchor === '${"end"}' ? ${ea} : ${I}`}
function X(O,ea){return ea?O?k.isObject(O)?Object.assign({},O,{offset:X(O.offset,ea)}):{value:O,offset:ea}:ea:O}function Ca(O,ea){ea?(O.name=ea.name,O.style=ea.style||O.style,O.interactive=!!ea.interactive,O.encode=jc(O.encode,ea,Od)):O.interactive=!1;return O}function Xa(O,ea,I,ka){O=La(O,I);I=O.isVertical();var ta=O.gradientThickness();const Ja=O.gradientLength();let jb,vb,pc;I?(I=[0,1],vb=[0,0],pc=ta,ta=Ja):(I=[0,0],vb=[1,0],pc=Ja);ta={enter:jb={opacity:Cd,x:Cd,y:Cd,width:Nc(pc),height:Nc(ta)},
update:k.extend({},jb,{opacity:be,fill:{gradient:ea,start:I,stop:vb}}),exit:{opacity:Cd}};Cb(ta,{stroke:O("gradientStrokeColor"),strokeWidth:O("gradientStrokeWidth")},{opacity:O("gradientOpacity")});return Ca({type:"rect",role:"legend-gradient",encode:ta},ka)}function Jb(O,ea,I,ka,ta){O=La(O,I);const Ja=O.isVertical();I=O.gradientThickness();const jb=O.gradientLength();var vb;let pc,qc,rc,Kc="";Ja?(vb="y",qc="y2",pc="x",rc="width",Kc="1-"):(vb="x",qc="x2",pc="y",rc="height");ea={opacity:Cd,fill:{scale:ea,
field:"value"}};ea[vb]={signal:Kc+"datum.perc",mult:jb};ea[pc]=Cd;ea[qc]={signal:Kc+"datum.perc2",mult:jb};ea[rc]=Nc(I);vb={enter:ea,update:k.extend({},ea,{opacity:be}),exit:{opacity:Cd}};Cb(vb,{stroke:O("gradientStrokeColor"),strokeWidth:O("gradientStrokeWidth")},{opacity:O("gradientOpacity")});return Ca({type:"rect",role:"legend-band",key:"value",from:ta,encode:vb},ka)}function yc(O,ea,I,ka){const ta=La(O,ea);var Ja=ta.isVertical();const jb=Nc(ta.gradientThickness()),vb=ta.gradientLength();let pc=
ta("labelOverlap"),qc,rc,Kc,Bd="";const Hc={enter:qc={opacity:Cd},update:rc={opacity:be,text:{field:"label"}},exit:{opacity:Cd}};Cb(Hc,{fill:ta("labelColor"),fillOpacity:ta("labelOpacity"),font:ta("labelFont"),fontSize:ta("labelFontSize"),fontStyle:ta("labelFontStyle"),fontWeight:ta("labelFontWeight"),limit:pa(O.labelLimit,ea.gradientLabelLimit)});Ja?(qc.align={value:"left"},qc.baseline=rc.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Ja="y",Kc="x",Bd="1-"):(qc.align=
rc.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},qc.baseline={value:"top"},Ja="x",Kc="y");qc[Ja]=rc[Ja]={signal:Bd+"datum.perc",mult:vb};qc[Kc]=rc[Kc]=jb;jb.offset=pa(O.labelOffset,ea.gradientLabelOffset)||0;pc=pc?{separation:ta("labelSeparation"),method:pc,order:"datum.index"}:void 0;return Ca({type:"text",role:"legend-label",style:"guide-label",key:"value",from:ka,encode:Hc,overlap:pc},I)}function sc(O,ea,I,ka,ta){var Ja=La(O,ea);const jb=I.entries,vb=!(!jb||!jb.interactive),
pc=jb?jb.name:void 0,qc=Ja("clipHeight"),rc=Ja("symbolOffset"),Kc={data:"value"},Bd=`(${ta}) ? datum.${"offset"} : datum.${"size"}`,Hc=qc?Nc(qc):{field:"size"},$c=`max(1, ${ta})`;let yd,Dd;Hc.mult=.5;var Kd={enter:yd={opacity:Cd,x:{signal:Bd,mult:.5,offset:rc},y:Hc},update:Dd={opacity:be,x:yd.x,y:yd.y},exit:{opacity:Cd}};let Ee=null,Be=null;O.fill||(Ee=ea.symbolBaseFillColor,Be=ea.symbolBaseStrokeColor);Cb(Kd,{fill:Ja("symbolFillColor",Ee),shape:Ja("symbolType"),size:Ja("symbolSize"),stroke:Ja("symbolStrokeColor",
Be),strokeDash:Ja("symbolDash"),strokeDashOffset:Ja("symbolDashOffset"),strokeWidth:Ja("symbolStrokeWidth")},{opacity:Ja("symbolOpacity")});jd.forEach(wd=>{O[wd]&&(Dd[wd]=yd[wd]={scale:O[wd],field:"value"})});ea=Ca({type:"symbol",role:"legend-symbol",key:"value",from:Kc,clip:qc?!0:void 0,encode:Kd},I.symbols);Kd=Nc(rc);Kd.offset=Ja("labelOffset");Kd={enter:yd={opacity:Cd,x:{signal:Bd,offset:Kd},y:Hc},update:Dd={opacity:be,text:{field:"label"},x:yd.x,y:yd.y},exit:{opacity:Cd}};Cb(Kd,{align:Ja("labelAlign"),
baseline:Ja("labelBaseline"),fill:Ja("labelColor"),fillOpacity:Ja("labelOpacity"),font:Ja("labelFont"),fontSize:Ja("labelFontSize"),fontStyle:Ja("labelFontStyle"),fontWeight:Ja("labelFontWeight"),limit:Ja("labelLimit")});I=Ca({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Kc,encode:Kd},I.labels);Kd={enter:{noBound:{value:!qc},width:Cd,height:qc?Nc(qc):Cd,opacity:Cd},exit:{opacity:Cd},update:Dd={opacity:be,row:{signal:null},column:{signal:null}}};Ja.isVertical(!0)?(Ja=`ceil(item.mark.items.length / ${$c})`,
Dd.row.signal=`${"datum.index"}%${Ja}`,Dd.column.signal=`floor(${"datum.index"} / ${Ja})`,Ja={field:["row","datum.index"]}):(Dd.row.signal=`floor(${"datum.index"} / ${$c})`,Dd.column.signal=`${"datum.index"} % ${$c}`,Ja={field:"datum.index"});Dd.column.signal=`(${ta})?${Dd.column.signal}:${"datum.index"}`;ka={facet:{data:ka,name:"value",groupby:"index"}};return va({role:"scope",from:ka,encode:jc(Kd,jb,Od),marks:[ea,I],name:pc,interactive:vb,sort:Ja})}function xc(O,ea){O=La(O,ea);return{align:O("gridAlign"),
columns:O.entryColumns(),center:{row:!0,column:!1},padding:{row:O("rowPadding"),column:O("columnPadding")}}}function dd(O,ea,I,ka){ea=La(O,ea);const ta={enter:{opacity:Cd},update:{opacity:be,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Cd}};Cb(ta,{orient:ea("titleOrient"),_anchor:ea("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Xe},baseline:{signal:df},text:O.title,fill:ea("titleColor"),fillOpacity:ea("titleOpacity"),font:ea("titleFont"),fontSize:ea("titleFontSize"),fontStyle:ea("titleFontStyle"),fontWeight:ea("titleFontWeight"),limit:ea("titleLimit"),lineHeight:ea("titleLineHeight")},{align:ea("titleAlign"),baseline:ea("titleBaseline")});return Ca({type:"text",role:"legend-title",style:"guide-title",from:ka,encode:ta},I)}function Zb(O,ea){let I;k.isObject(O)&&(O.signal?I=O.signal:O.path?I="pathShape("+Sc(O.path)+
")":O.sphere&&(I="geoShape("+Sc(O.sphere)+', {type: "Sphere"})'));return I?ea.signalRef(I):!!O}function Sc(O){return k.isObject(O)&&O.signal?O.signal:k.stringValue(O)}function Pd(O){const ea=O.role||"";return ea.indexOf("axis")&&ea.indexOf("legend")&&ea.indexOf("title")?"group"===O.type?"scope":ea||"mark":ea}function Ma(O){return{marktype:O.type,name:O.name||void 0,role:O.role||Pd(O),zindex:+O.zindex||void 0,aria:O.aria,description:O.description}}function Vb(O,ea){return O&&O.signal?ea.signalRef(O.signal):
!1===O?!1:!0}function qb(O,ea){const I=ac.definition(O.type);I||k.error("Unrecognized transform type: "+k.stringValue(O.type));var ka=I.type.toLowerCase();var ta=Tb(I,O,ea);ka=new mb(ka,null,ta,void 0);O.signal&&ea.addSignal(O.signal,ea.proxy(ka));ka.metadata=I.metadata||{};return ka}function Tb(O,ea,I){const ka={},ta=O.params.length;for(let Ja=0;Ja<ta;++Ja){const jb=O.params[Ja];ka[jb.name]=gc(jb,ea,I)}return ka}function gc(O,ea,I){const ka=O.type,ta=ea[O.name];if("index"===ka)return Ic(O,ea,I);
if(void 0===ta)O.required&&k.error("Missing required "+k.stringValue(ea.type)+" parameter: "+k.stringValue(O.name));else return"param"===ka?zc(O,ea,I):"projection"===ka?I.projectionRef(ea[O.name]):O.array&&!Wb(ta)?ta.map(Ja=>cc(O,Ja,I)):cc(O,ta,I)}function cc(O,ea,I){const ka=O.type;return Wb(ea)?"expr"===ka?k.error("Expression references can not be signals."):"field"===ka?I.fieldRef(ea):"compare"===ka?I.compareRef(ea):I.signalRef(ea.signal):(O=O.expr||"field"===ka)&&ea&&ea.expr?I.exprRef(ea.expr,
ea.as):O&&ea&&ea.field?xb(ea.field,ea.as):"expr"===ka?P.parseExpression(ea,I):"data"===ka?Pa(I.getData(ea).values):"field"===ka?xb(ea):"compare"===ka?I.compareRef(ea):ea}function Ic(O,ea,I){k.isString(ea.from)||k.error('Lookup "from" parameter must be a string literal.');return I.getData(ea.from).lookupRef(I,ea.key)}function zc(O,ea,I){ea=ea[O.name];return O.array?(k.isArray(ea)||k.error("Expected an array of sub-parameters. Instead: "+k.stringValue(ea)),ea.map(ka=>Zc(O,ka,I))):Zc(O,ea,I)}function Zc(O,
ea,I){const ka=O.params.length;let ta;for(let Ja=0;Ja<ka;++Ja){ta=O.params[Ja];for(const jb in ta.key)if(ta.key[jb]!==ea[jb]){ta=null;break}if(ta)break}ta||k.error("Unsupported parameter: "+k.stringValue(ea));O=k.extend(Tb(ta,ea,I),ta.key);return Pa(I.add(Pc(O)))}function Md(O,ea,I){let ka,ta,Ja,jb;if(!O)Ja=Pa(I.add(cf(null,[{}])));else if(ka=O.facet)ea||k.error("Only group marks can be faceted."),null!=ka.field?Ja=jb=td(ka,I):(O.data?jb=Pa(I.getData(O.data).aggregate):(ea=qb(k.extend({type:"aggregate",
groupby:k.array(ka.groupby)},ka.aggregate),I),ea.params.key=I.keyRef(ka.groupby),ea.params.pulse=td(ka,I),Ja=jb=Pa(I.add(ea))),ta=I.keyRef(ka.groupby,!0));Ja||(Ja=td(O,I));return{key:ta,pulse:Ja,parent:jb}}function td(O,ea){return O.$ref?O:O.data&&O.data.$ref?O.data:Pa(ea.getData(O.data).output)}function Ha(O,ea,I,ka,ta){this.scope=O;this.input=ea;this.output=I;this.values=ka;this.aggregate=ta;this.index={}}function gb(O){return k.isString(O)?O:null}function wb(O,ea,I){const ka=Qb(I.op,I.field);let ta;
if(ea.ops)for(let Ja=0,jb=ea.as.length;Ja<jb;++Ja){if(ea.as[Ja]===ka)return}else ea.ops=["count"],ea.fields=[null],ea.as=["count"];I.op&&(ea.ops.push((ta=I.op.signal)?O.signalRef(ta):I.op),ea.fields.push(O.fieldRef(I.field)),ea.as.push(ka))}function sa(O,ea,I,ka,ta,Ja,jb){I=ea[I]||(ea[I]={});var vb=k.isObject(Ja)?("descending"===Ja.order?"-":"+")+Qb(Ja.op,Ja.field):"";let pc=gb(ta);if(null!=pc){O=ea.scope;pc+=vb?"|"+vb:"";var qc=I[pc]}qc||(qc=Ja?{field:$d,pulse:ea.countsRef(O,ta,Ja)}:{field:O.fieldRef(ta),
pulse:Pa(ea.output)},vb&&(qc.sort=O.sortRef(Ja)),O=O.add(new mb(ka,void 0,qc,void 0)),jb&&(ea.index[ta]=O),qc=Pa(O),null!=pc&&(I[pc]=qc));return qc}function F(O,ea,I){var ka=O.from.facet;const ta=ka.name,Ja=td(ka,ea);let jb;ka.name||k.error("Facet must have a name: "+k.stringValue(ka));ka.data||k.error("Facet must reference a data set: "+k.stringValue(ka));ka.field?jb=ea.add(Dc({field:ea.fieldRef(ka.field),pulse:Ja})):ka.groupby?jb=ea.add(cb({key:ea.keyRef(ka.groupby),group:Pa(ea.proxy(I.parent)),
pulse:Ja})):k.error("Facet must specify groupby or field: "+k.stringValue(ka));ea=ea.fork();I=ea.add(cf());ka=ea.add(oc({pulse:Pa(I)}));ea.addData(ta,new Ha(ea,I,I,ka));ea.addSignal("parent",null);jb.params.subflow={$subflow:ea.parse(O).toRuntime()}}function ya(O,ea,I){I=ea.add(Dc({pulse:I.pulse}));ea=ea.fork();ea.add(oc());ea.addSignal("parent",null);I.params.subflow={$subflow:ea.parse(O).toRuntime()}}function Na(O,ea,I){const ka=O.remove,ta=O.insert,Ja=O.toggle,jb=O.modify,vb=O.values,pc=ea.add(new mb("operator",
void 0,void 0,void 0));O="if("+O.trigger+',modify("'+I+'",'+[ta,ka,Ja,jb,vb].map(qc=>null==qc?"null":qc).join(",")+"),0)";ea=P.parseExpression(O,ea);pc.update=ea.$expr;pc.params=ea.$params}function Za(O,ea){var I=Pd(O),ka="group"===O.type,ta=O.from&&O.from.facet;const Ja=O.overlap;let jb=O.layout||"scope"===I||"frame"===I,vb,pc,qc,rc,Kc,Bd;const Hc="mark"===I||jb||ta,$c=Md(O.from,ka,ea);pc=ea.add(uf({key:$c.key||(O.key?xb(O.key):void 0),pulse:$c.pulse,clean:!ka}));const yd=Pa(pc);pc=qc=ea.add(cf({pulse:yd}));
pc=ea.add(J({markdef:Ma(O),interactive:Vb(O.interactive,ea),clip:Zb(O.clip,ea),context:{$context:!0},groups:ea.lookup(),parent:ea.signals.parent?ea.signalRef("parent"):null,index:ea.markpath(),pulse:Pa(pc)}));var Dd=Pa(pc);pc=rc=ea.add(U(Qa(O.encode,O.type,I,O.style,ea,{mod:!1,pulse:Dd})));pc.params.parent=ea.encode();O.transform&&O.transform.forEach(Ee=>{Ee=qb(Ee,ea);const Be=Ee.metadata;(Be.generates||Be.changes)&&k.error("Mark transforms should not generate new data.");Be.nomod||(rc.params.mod=
!0);Ee.params.pulse=Pa(pc);ea.add(pc=Ee)});O.sort&&(pc=ea.add(vd({sort:ea.compareRef(O.sort),pulse:Pa(pc)})));I=Pa(pc);if(ta||jb)jb=ea.add(Lc({layout:ea.objectProperty(O.layout),legends:ea.legends,mark:Dd,pulse:I})),Bd=Pa(jb);const Kd=ea.add(hf({mark:Dd,pulse:Bd||I}));Dd=Pa(Kd);ka&&(Hc&&(vb=ea.operators,vb.pop(),jb&&vb.pop()),ea.pushState(I,Bd||Dd,yd),ta?F(O,ea,$c):Hc?ya(O,ea,$c):ea.parse(O),ea.popState(),Hc&&(jb&&vb.push(jb),vb.push(Kd)));Ja&&(Dd=kb(Ja,Dd,ea));ka=ea.add(Ra({pulse:Dd}));ta=ea.add(oc({pulse:Pa(ka)},
void 0,ea.parent()));null!=O.name&&(Kc=O.name,ea.addData(Kc,new Ha(ea,qc,ka,ta)),O.on&&O.on.forEach(Ee=>{(Ee.insert||Ee.remove||Ee.toggle)&&k.error("Marks only support modify triggers.");Na(Ee,ea,Kc)}))}function kb(O,ea,I){const ka=O.method,ta=O.bound,Ja=O.separation;ea={separation:Wb(Ja)?I.signalRef(Ja.signal):Ja,method:Wb(ka)?I.signalRef(ka.signal):ka,pulse:ea};O.order&&(ea.sort=I.compareRef({field:O.order}));ta&&(O=ta.tolerance,ea.boundTolerance=Wb(O)?I.signalRef(O.signal):+O,ea.boundScale=I.scaleRef(ta.scale),
ea.boundOrient=ta.orient);return Pa(I.add(bc(ea)))}function Gb(O,ea){const I=ea.config.legend,ka=O.encode||{},ta=La(O,I),Ja=ka.legend||{},jb=Ja.name||void 0,vb=Ja.interactive,pc=Ja.style,qc={};let rc=0,Kc,Bd;jd.forEach(Kd=>O[Kd]?(qc[Kd]=O[Kd],rc=rc||O[Kd]):0);rc||k.error("Missing valid scale for legend.");var Hc=nc(O,ea.scaleType(rc));const $c={title:null!=O.title,scales:qc,type:Hc,vgrad:"symbol"!==Hc&&ta.isVertical()},yd=Pa(ea.add(cf(null,[$c]))),Dd=Pa(ea.add(Cc(Bd={type:Hc,scale:ea.scaleRef(rc),
count:ea.objectProperty(ta("tickCount")),limit:ea.property(ta("symbolLimit")),values:ea.objectProperty(O.values),minstep:ea.property(O.tickMinStep),formatType:ea.property(O.formatType),formatSpecifier:ea.property(O.format)})));"gradient"===Hc?(Hc=[Xa(O,rc,I,ka.gradient),yc(O,I,ka.labels,Dd)],Bd.count=Bd.count||ea.signalRef(`max(2,2*floor((${Z(ta.gradientLength())})/100))`)):"discrete"===Hc?Hc=[Jb(O,rc,I,ka.gradient,Dd),yc(O,I,ka.labels,Dd)]:(Kc=xc(O,I),Hc=[sc(O,I,ka,Dd,Z(Kc.columns))],Bd.size=Vc(O,
ea,Hc[0].marks));Hc=[va({role:"legend-entry",from:yd,encode:{enter:{x:{value:0},y:{value:0}}},marks:Hc,layout:Kc,interactive:vb})];$c.title&&Hc.push(dd(O,I,ka.title,yd));return Za(va({role:"legend",from:yd,encode:jc(ic(ta,O,I),Ja,Od),marks:Hc,aria:ta("aria"),description:ta("description"),zindex:ta("zindex"),name:jb,interactive:vb,style:pc}),ea)}function nc(O,ea){let I=O.type||"symbol";O.type||1!==dc(O)||!O.fill&&!O.stroke||(I=Hb.isContinuous(ea)?"gradient":Hb.isDiscretizing(ea)?"discrete":"symbol");
return"gradient"!==I?I:Hb.isDiscretizing(ea)?"discrete":"gradient"}function dc(O){return jd.reduce((ea,I)=>ea+(O[I]?1:0),0)}function ic(O,ea,I){const ka={enter:{},update:{}};Cb(ka,{orient:O("orient"),offset:O("offset"),padding:O("padding"),titlePadding:O("titlePadding"),cornerRadius:O("cornerRadius"),fill:O("fillColor"),stroke:O("strokeColor"),strokeWidth:I.strokeWidth,strokeDash:I.strokeDash,x:O("legendX"),y:O("legendY"),format:ea.format,formatType:ea.formatType});return ka}function Vc(O,ea,I){const ka=
Z(ed("size",O,I));O=Z(ed("strokeWidth",O,I));(I=Wa("fontSize",I[1].encode))||(I=(I=ea.config.style["guide-label"])&&I.fontSize);I=Z(I);return P.parseExpression(`max(ceil(sqrt(${ka})+${O}),${I})`,ea)}function ed(O,ea,I){return ea[O]?`scale("${ea[O]}",datum)`:Wa(O,I[0].encode)}function fd(O,ea){O=k.isString(O)?{text:O}:O;const I=La(O,ea.config.title);var ka=O.encode||{},ta=ka.group||{};const Ja=ta.name||void 0,jb=ta.interactive,vb=ta.style,pc=[],qc=Pa(ea.add(cf(null,[{}])));var rc=pc.push,Kc=O;var Bd=
(Bd=O.encode)&&Bd.title||k.extend({name:O.name,interactive:O.interactive,style:O.style},Bd);var Hc={value:0};Hc={enter:{opacity:Hc},update:{opacity:{value:1}},exit:{opacity:Hc}};Cb(Hc,{text:Kc.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:I("dx"),dy:I("dy"),fill:I("color"),font:I("font"),fontSize:I("fontSize"),fontStyle:I("fontStyle"),fontWeight:I("fontWeight"),lineHeight:I("lineHeight")},{align:I("align"),
angle:I("angle"),baseline:I("baseline")});Kc=Ca({type:"text",role:"title-text",style:"group-title",from:qc,encode:Hc},Bd);rc.call(pc,Kc);O.subtitle&&(rc=pc.push,ka=ka.subtitle,Kc={value:0},Kc={enter:{opacity:Kc},update:{opacity:{value:1}},exit:{opacity:Kc}},Cb(Kc,{text:O.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:I("dx"),dy:I("dy"),fill:I("subtitleColor"),font:I("subtitleFont"),fontSize:I("subtitleFontSize"),
fontStyle:I("subtitleFontStyle"),fontWeight:I("subtitleFontWeight"),lineHeight:I("subtitleLineHeight")},{align:I("align"),angle:I("angle"),baseline:I("baseline")}),O=Ca({type:"text",role:"title-subtitle",style:"group-subtitle",from:qc,encode:Kc},ka),rc.call(pc,O));O={enter:{},update:{}};Cb(O,{orient:I("orient"),anchor:I("anchor"),align:{signal:xe},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:I("limit"),frame:I("frame"),offset:I("offset")||0,padding:I("subtitlePadding")});
ta=jc(O,ta,Od);return Za(va({role:"title",from:qc,encode:ta,marks:pc,aria:I("aria"),description:I("description"),zindex:I("zindex"),name:Ja,interactive:jb,style:vb}),ea)}function Qd(O,ea){const I=[];O.transform&&O.transform.forEach(ka=>{I.push(qb(ka,ea))});O.on&&O.on.forEach(ka=>{Na(ka,ea,O.name)});ea.addDataPipeline(O.name,Td(O,ea,I))}function Td(O,ea,I){const ka=[];let ta=null,Ja=!1,jb=!1,vb,pc,qc,rc;O.values?Wb(O.values)||nb(O.format)?(ka.push(Zd(ea,O)),ka.push(ta=Fd())):ka.push(ta=Fd({$ingest:O.values,
$format:O.format})):O.url?nb(O.url)||nb(O.format)?(ka.push(Zd(ea,O)),ka.push(ta=Fd())):ka.push(ta=Fd({$request:O.url,$format:O.format})):O.source&&(ta=vb=k.array(O.source).map(Kc=>Pa(ea.getData(Kc).output)),ka.push(null));O=0;for(pc=I.length;O<pc;++O)qc=I[O],rc=qc.metadata,ta||rc.source||ka.push(ta=Fd()),ka.push(qc),rc.generates&&(jb=!0),rc.modifies&&!jb&&(Ja=!0),rc.source?ta=qc:rc.changes&&(ta=null);vb&&(pc=vb.length-1,ka[0]=ee({derive:Ja,pulse:pc?vb:vb[0]}),(Ja||pc)&&ka.splice(1,0,Fd()));ta||ka.push(Fd());
ka.push(oc({}));return ka}function Fd(O){O=cf({},O);O.metadata={source:!0};return O}function Zd(O,ea){return $b({url:ea.url?O.property(ea.url):void 0,async:ea.async?O.property(ea.async):void 0,values:ea.values?O.property(ea.values):void 0,format:O.objectProperty(ea.format)})}function de(O,ea,I,ka){let ta;if(ea&&k.hasOwnProperty(ea,O))return ea[O];if(k.hasOwnProperty(I,O))return I[O];if(O.startsWith("title")){switch(O){case "titleColor":ta="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":ta=
O[5].toLowerCase()+O.slice(6)}return ka["guide-title"][ta]}if(O.startsWith("label")){switch(O){case "labelColor":ta="fill";break;case "labelFont":case "labelFontSize":ta=O[5].toLowerCase()+O.slice(6)}return ka["guide-label"][ta]}return null}function Ud(O){const ea={};for(const I of O)if(I)for(const ka in I)ea[ka]=1;return Object.keys(ea)}function Ve(O,ea,I,ka,ta){return{signal:'flush(range("'+O+'"), scale("'+O+'", datum.value), '+ea+","+I+","+ka+","+ta+")"}}function Xd(O,ea,I,ka){const ta=(jb,vb)=>
null!=jb?(I.update[vb]=le(Nc(jb),I.update[vb]),!1):Yb(vb,ka)?!1:!0,Ja=ta(O("titleX"),"x");O=ta(O("titleY"),"y");I.enter.auto=O===Ja?Nc(O):Ec(ea,Nc(O),Nc(Ja))}function N(O,ea,I){const ka=k.array(O.signals),ta=k.array(O.scales);I||ka.forEach(Ja=>lb(Ja,ea));k.array(O.projections).forEach(Ja=>{const jb=ea.config.projection||{},vb={};for(const pc in Ja)"name"!==pc&&(vb[pc]=L(Ja[pc],pc,ea));for(const pc in jb)null==vb[pc]&&(vb[pc]=L(jb[pc],pc,ea));ea.addProjection(Ja.name,vb)});ta.forEach(Ja=>{const jb=
Ja.type||"linear";Hb.isValidScaleType(jb)||k.error("Unrecognized scale type: "+k.stringValue(jb));ea.addScale(Ja.name,{type:jb,domain:void 0})});k.array(O.data).forEach(Ja=>Qd(Ja,ea));ta.forEach(Ja=>{const jb=ea.getScale(Ja.name).params;let vb;jb.domain=C(Ja.domain,Ja,ea);null!=Ja.range&&(jb.range=t(Ja,ea,jb));if(null!=Ja.interpolate){var pc=Ja.interpolate;jb.interpolate=g(pc.type||pc);null!=pc.gamma&&(jb.interpolateGamma=g(pc.gamma))}null!=Ja.nice&&(pc=Ja.nice,pc=k.isObject(pc)?{interval:g(pc.interval),
step:g(pc.step)}:g(pc),jb.nice=pc);null!=Ja.bins&&(pc=Ja.bins,pc=pc.signal||k.isArray(pc)?u(pc,ea):ea.objectProperty(pc),jb.bins=pc);for(vb in Ja)k.hasOwnProperty(jb,vb)||"name"===vb||(jb[vb]=g(Ja[vb],ea))});(I||ka).forEach(Ja=>Q(Ja,ea));k.array(O.axes).forEach(Ja=>{var jb=ea.config,vb=jb.style,pc=jb.axis,qc="band"===ea.scaleType(Ja.scale)&&jb.axisBand,rc=Ja.orient,Kc;if(Wb(rc)){const Ce=Ud([jb.axisX,jb.axisY]),Ge=Ud([jb.axisTop,jb.axisBottom,jb.axisLeft,jb.axisRight]);var Bd={};for(Kc of Ce)Bd[Kc]=
Ec(rc,de(Kc,jb.axisX,pc,vb),de(Kc,jb.axisY,pc,vb));var Hc={};for(Kc of Ge){var $c=Hc,yd=Kc,Dd=rc.signal,Kd=de(Kc,jb.axisTop,pc,vb),Ee=de(Kc,jb.axisBottom,pc,vb),Be=de(Kc,jb.axisLeft,pc,vb),wd=de(Kc,jb.axisRight,pc,vb);var ze={signal:(null!=Be?`${Dd} === '${"left"}' ? (${ce(Be)}) : `:"")+(null!=Ee?`${Dd} === '${"bottom"}' ? (${ce(Ee)}) : `:"")+(null!=wd?`${Dd} === '${"right"}' ? (${ce(wd)}) : `:"")+(null!=Kd?`${Dd} === '${"top"}' ? (${ce(Kd)}) : `:"")+"(null)"};$c[yd]=ze}}else Bd="top"===rc||"bottom"===
rc?jb.axisX:jb.axisY,Hc=jb["axis"+rc[0].toUpperCase()+rc.slice(1)];var Ld=Bd||Hc||qc?k.extend({},pc,Bd,Hc,qc):pc;const he=Ja.encode||{},Fe=he.axis||{},lf=Fe.name||void 0,vf=Fe.interactive,Ie=Fe.style,ne=La(Ja,Ld),Cf=ne("tickBand");let If=ne("tickOffset"),jf,bg;Cf?Cf.signal?(jf={signal:`(${Cf.signal}) === 'extent' ? 1 : 0.5`},bg={signal:`(${Cf.signal}) === 'extent'`},k.isObject(If)||(If={signal:`(${Cf.signal}) === 'extent' ? 0 : ${If}`})):"extent"===Cf?(jf=1,bg=!0,If=0):(jf=.5,bg=!1):(jf=ne("bandPosition"),
bg=ne("tickExtra"));var Yd=bg;var ef=jf;var mf=If;const af={scale:Ja.scale,ticks:!!ne("ticks"),labels:!!ne("labels"),grid:!!ne("grid"),domain:!!ne("domain"),title:null!=Ja.title},Hf=Pa(ea.add(cf({},[af]))),Jf=Pa(ea.add(kf({scale:ea.scaleRef(Ja.scale),extra:ea.property(Yd),count:ea.objectProperty(Ja.tickCount),values:ea.objectProperty(Ja.values),minstep:ea.property(Ja.tickMinStep),formatType:ea.property(Ja.formatType),formatSpecifier:ea.property(Ja.format)}))),yf=[];let zf;if(af.grid){var Eg=yf.push,
eg=he.grid;const Ce=La(Ja,Ld),Ge=Ja.orient,Lf=Ja.gridScale,xf=od(Ge,1,-1);a:{var wf=Ja.offset,Kf=xf;if(1!==Kf)if(k.isObject(wf)){let xg=wf=k.extend({},wf);for(;null!=xg.mult;)if(k.isObject(xg.mult))xg=xg.mult=k.extend({},xg.mult);else{xg.mult=Wb(Kf)?{signal:`(${xg.mult}) * (${Kf.signal})`}:xg.mult*Kf;var dg=wf;break a}xg.mult=Kf}else wf=Wb(Kf)?{signal:`(${Kf.signal}) * (${wf||0})`}:Kf*(wf||0);dg=wf}const of=dg;let Af,tg,wg;const fg={enter:Af={opacity:Cd},update:wg={opacity:be},exit:tg={opacity:Cd}};
Cb(fg,{stroke:Ce("gridColor"),strokeCap:Ce("gridCap"),strokeDash:Ce("gridDash"),strokeDashOffset:Ce("gridDashOffset"),strokeOpacity:Ce("gridOpacity"),strokeWidth:Ce("gridWidth")});const Bf={scale:Ja.scale,field:"value",band:ef,extra:Yd,offset:mf,round:Ce("tickRound")},Rg=Ec(Ge,{signal:"height"},{signal:"width"}),gh=Lf?{scale:Lf,range:0,mult:xf,offset:of}:{value:0,offset:of},oh=Lf?{scale:Lf,range:1,mult:xf,offset:of}:k.extend(Rg,{mult:xf,offset:of});Af.x=wg.x=Ec(Ge,Bf,gh);Af.y=wg.y=kd(Ge,Bf,gh);Af.x2=
wg.x2=kd(Ge,oh);Af.y2=wg.y2=Ec(Ge,oh);tg.x=Ec(Ge,Bf);tg.y=kd(Ge,Bf);var eh=Ca({type:"rule",role:"axis-grid",key:"value",from:Jf,encode:fg},eg);Eg.call(yf,eh)}if(af.ticks){zf=ne("tickSize");var Jg=yf.push,Og=he.ticks,Ug=zf;const Ce=La(Ja,Ld),Ge=Ja.orient,Lf=od(Ge,-1,1);let xf,of,Af;const tg={enter:xf={opacity:Cd},update:Af={opacity:be},exit:of={opacity:Cd}};Cb(tg,{stroke:Ce("tickColor"),strokeCap:Ce("tickCap"),strokeDash:Ce("tickDash"),strokeDashOffset:Ce("tickDashOffset"),strokeOpacity:Ce("tickOpacity"),
strokeWidth:Ce("tickWidth")});const wg=Nc(Ug);wg.mult=Lf;const fg={scale:Ja.scale,field:"value",band:ef,extra:Yd,offset:mf,round:Ce("tickRound")};Af.y=xf.y=Ec(Ge,Cd,fg);Af.y2=xf.y2=Ec(Ge,wg);of.x=Ec(Ge,fg);Af.x=xf.x=kd(Ge,Cd,fg);Af.x2=xf.x2=kd(Ge,wg);of.y=kd(Ge,fg);var qa=Ca({type:"rule",role:"axis-tick",key:"value",from:Jf,encode:tg},Og);Jg.call(yf,qa)}if(af.labels){zf=af.ticks?zf:0;var bb=yf.push,Rb=he.labels,hd=zf;const Ce=La(Ja,Ld),Ge=Ja.orient,Lf=Ja.scale,xf=od(Ge,-1,1),of=Z(Ce("labelFlush")),
Af=Z(Ce("labelFlushOffset")),tg=Ce("labelAlign"),wg=Ce("labelBaseline");let fg=0===of||!!of,Bf;const Rg=Nc(hd);Rg.mult=xf;Rg.offset=Nc(Ce("labelPadding")||0);Rg.offset.mult=xf;const gh={scale:Lf,field:"value",band:.5,offset:X(mf,Ce("labelOffset"))};var ld=fg?Ve(Lf,of,'"left"','"right"','"center"'):{value:"center"},qe=Ge;var Pe=Wb(qe)?Vd(`${qe.signal} === '${"right"}'`,"left","right"):"right"===qe?{value:"left"}:{value:"right"};const oh=Ec(Ge,ld,Pe),xg=Ec(Ge,Fc(Ge,"bottom","top"),fg?Ve(Lf,of,'"top"',
'"bottom"','"middle"'):{value:"middle"}),zh=Ve(Lf,of,`-(${Af})`,Af,0);fg=fg&&Af;const yh={opacity:Cd,x:Ec(Ge,gh,Rg),y:kd(Ge,gh,Rg)},Nh={enter:yh,update:Bf={opacity:be,text:{field:"label"},x:yh.x,y:yh.y,align:oh,baseline:xg},exit:{opacity:Cd,x:yh.x,y:yh.y}};Cb(Nh,{dx:!tg&&fg?Ec(Ge,zh):null,dy:!wg&&fg?kd(Ge,zh):null});Cb(Nh,{angle:Ce("labelAngle"),fill:Ce("labelColor"),fillOpacity:Ce("labelOpacity"),font:Ce("labelFont"),fontSize:Ce("labelFontSize"),fontWeight:Ce("labelFontWeight"),fontStyle:Ce("labelFontStyle"),
limit:Ce("labelLimit"),lineHeight:Ce("labelLineHeight")},{align:tg,baseline:wg});const $g=Ce("labelBound");let ph=Ce("labelOverlap");ph=ph||$g?{separation:Ce("labelSeparation"),method:ph,order:"datum.index",bound:$g?{scale:Lf,orient:Ge,tolerance:$g}:null}:void 0;Bf.align!==oh&&(Bf.align=le(Bf.align,oh));Bf.baseline!==xg&&(Bf.baseline=le(Bf.baseline,xg));var rf=Ca({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Jf,encode:Nh,overlap:ph},Rb);bb.call(yf,rf)}if(af.domain){var Gf=yf.push,
Me=he.domain;const Ce=La(Ja,Ld),Ge=Ja.orient;let Lf,xf;const of={enter:Lf={opacity:Cd},update:xf={opacity:be},exit:{opacity:Cd}};Cb(of,{stroke:Ce("domainColor"),strokeCap:Ce("domainCap"),strokeDash:Ce("domainDash"),strokeDashOffset:Ce("domainDashOffset"),strokeWidth:Ce("domainWidth"),strokeOpacity:Ce("domainOpacity")});const Af={scale:Ja.scale,range:0},tg={scale:Ja.scale,range:1};Lf.x=xf.x=Ec(Ge,Af,Cd);Lf.x2=xf.x2=Ec(Ge,tg);Lf.y=xf.y=kd(Ge,Af,Cd);Lf.y2=xf.y2=kd(Ge,tg);var cg=Ca({type:"rule",role:"axis-domain",
from:Hf,encode:of},Me);Gf.call(yf,cg)}if(af.title){var Sf=yf.push,Yf=he.title;const Ce=La(Ja,Ld),Ge=Ja.orient,Lf=od(Ge,-1,1);let xf,of;const Af={enter:xf={opacity:Cd,anchor:Nc(Ce("titleAnchor",null)),align:{signal:xe}},update:of=k.extend({},xf,{opacity:be,text:Nc(Ja.title)}),exit:{opacity:Cd}},tg={signal:`lerp(range("${Ja.scale}"), ${$a(0,1,.5)})`};of.x=Ec(Ge,tg);of.y=kd(Ge,tg);var rg=xf,sg=Lf;var Qg=Wb(sg)?{signal:`(${sg.signal}) * ${90}`}:{value:90*sg};rg.angle=Ec(Ge,Cd,Qg);xf.baseline=Ec(Ge,Fc(Ge,
"bottom","top"),{value:"bottom"});of.angle=xf.angle;of.baseline=xf.baseline;Cb(Af,{fill:Ce("titleColor"),fillOpacity:Ce("titleOpacity"),font:Ce("titleFont"),fontSize:Ce("titleFontSize"),fontStyle:Ce("titleFontStyle"),fontWeight:Ce("titleFontWeight"),limit:Ce("titleLimit"),lineHeight:Ce("titleLineHeight")},{align:Ce("titleAlign"),angle:Ce("titleAngle"),baseline:Ce("titleBaseline")});Xd(Ce,Ge,Af,Yf);Af.update.align=le(Af.update.align,xf.align);Af.update.angle=le(Af.update.angle,xf.angle);Af.update.baseline=
le(Af.update.baseline,xf.baseline);var fh=Ca({type:"text",role:"axis-title",style:"guide-title",from:Hf,encode:Af},Yf);Sf.call(yf,fh)}const jh={enter:{},update:{}};Cb(jh,{orient:ne("orient"),offset:ne("offset")||0,position:pa(Ja.position,0),titlePadding:ne("titlePadding"),minExtent:ne("minExtent"),maxExtent:ne("maxExtent"),range:{signal:`abs(span(range("${Ja.scale}")))`},translate:ne("translate"),format:Ja.format,formatType:Ja.formatType});return Za(va({role:"axis",from:Hf,encode:jc(jh,Fe,Od),marks:yf,
aria:ne("aria"),description:ne("description"),zindex:ne("zindex"),name:lf,interactive:vf,style:Ie}),ea)});k.array(O.marks).forEach(Ja=>Za(Ja,ea));k.array(O.legends).forEach(Ja=>Gb(Ja,ea));O.title&&fd(O.title,ea);ea.parseLambdas();return ea}function la(O,ea){var I=ea.config;const ka=Pa(ea.root=ea.add(new mb("operator",void 0,void 0,void 0))),ta=fb(O,I);ta.forEach(vb=>lb(vb,ea));ea.description=O.description||I.description;ea.eventConfig=I.events;ea.legends=ea.objectProperty(I.legend&&I.legend.layout);
ea.locale=I.locale;I=ea.add(cf());const Ja=ea.add(U(Qa(jc({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},O.encode),"group","frame",O.style,ea,{pulse:Pa(I)}))),jb=ea.add(Lc({layout:ea.objectProperty(O.layout),legends:ea.legends,autosize:ea.signalRef("autosize"),mark:ka,pulse:Pa(Ja)}));ea.operators.pop();ea.pushState(Pa(Ja),Pa(jb),null);N(O,ea,ta);ea.operators.push(jb);O=ea.add(hf({mark:ka,pulse:Pa(jb)}));O=ea.add(Ra({pulse:Pa(O)}));O=ea.add(oc({pulse:Pa(O)}));
ea.addData("root",new Ha(ea,I,I,O));return ea}function za(O,ea){return ea&&ea.signal?{name:O,update:ea.signal}:{name:O,value:ea}}function fb(O,ea){const I=jb=>pa(O[jb],ea[jb]),ka=[za("background",I("background")),za("autosize",vc(I("autosize"))),za("padding",Ac(I("padding"))),za("width",I("width")||0),za("height",I("height")||0)],ta=ka.reduce((jb,vb)=>(jb[vb.name]=vb,jb),{}),Ja={};k.array(O.signals).forEach(jb=>{k.hasOwnProperty(ta,jb.name)?jb=k.extend(ta[jb.name],jb):ka.push(jb);Ja[jb.name]=jb});
k.array(ea.signals).forEach(jb=>{k.hasOwnProperty(Ja,jb.name)||k.hasOwnProperty(ta,jb.name)||ka.push(jb)});return ka}function Ib(O,ea){this.config=O||{};this.options=ea||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Xb(O){this.config=O.config;
this.options=O.options;this.legends=O.legends;this.field=Object.create(O.field);this.signals=Object.create(O.signals);this.lambdas=Object.create(O.lambdas);this.scales=Object.create(O.scales);this.events=Object.create(O.events);this.data=Object.create(O.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++O._nextsub[0];this._nextsub=O._nextsub;this._parent=O._parent.slice();this._encode=O._encode.slice();this._lookup=O._lookup.slice();this._markpath=O._markpath}function Bc(O){return(k.isArray(O)?
lc:Gc)(O)}function lc(O){const ea=O.length;let I="[";for(let ka=0;ka<ea;++ka){const ta=O[ka];I+=(0<ka?",":"")+(k.isObject(ta)?ta.signal||Bc(ta):k.stringValue(ta))}return I+"]"}function Gc(O){let ea="{",I=0,ka,ta;for(ka in O)ta=O[ka],ea+=(1<++I?",":"")+k.stringValue(ka)+":"+(k.isObject(ta)?ta.signal||Bc(ta):k.stringValue(ta));return ea+"}"}function id(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},
area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",
font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",
tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,
symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const Nc=O=>k.isObject(O)&&!k.isArray(O)?k.extend({},O):{value:O},rd=O=>k.isString(O)?k.stringValue(O):O.signal?`(${O.signal})`:Pb(O),Hd=(O,ea,I,ka)=>`(${O}(${[ea,I,ka].map(Kb).join(",")})+'')`,Gd=["value","update","init","react","bind"],$d=xb("key"),Wd={code:"_.$value",ast:{type:"Identifier",value:"value"}},ae=O=>(ea,I,ka)=>new mb(O,I,ea||void 0,ka),Ae=ae("aggregate"),kf=ae("axisticks"),hf=ae("bound"),cf=ae("collect"),se=ae("compare"),uf=ae("datajoin"),U=ae("encode"),ua=ae("expression"),cb=ae("facet"),
Ab=ae("field"),ec=ae("key"),Cc=ae("legendentries"),$b=ae("load"),J=ae("mark"),fa=ae("multiextent"),Sa=ae("multivalues"),bc=ae("overlap"),Pc=ae("params"),Dc=ae("prefacet"),Tc=ae("projection"),gd=ae("proxy"),ee=ae("relay"),Ra=ae("render"),eb=ae("scale"),oc=ae("sieve"),vd=ae("sortitems"),Lc=ae("viewlayout"),Wc=ae("values");let Qc=0;const sd={min:"min",max:"max",count:"sum"},jd="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Od={name:1,style:1,interactive:1},Cd={value:0},be={value:1},
xe=$a(k.stringValue("left"),k.stringValue("right"),k.stringValue("center")),Le=$a('"top"','"bottom"','"middle"'),Xe=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${$a('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${xe}`,df=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Le}) : "top"`;
Ha.fromEntries=function(O,ea){const I=ea.length,ka=ea[I-1],ta=ea[I-2];let Ja=ea[0],jb=null,vb=1;Ja&&"load"===Ja.type&&(Ja=ea[1]);for(O.add(ea[0]);vb<I;++vb)ea[vb].params.pulse=Pa(ea[vb-1]),O.add(ea[vb]),"aggregate"===ea[vb].type&&(jb=ea[vb]);return new Ha(O,Ja,ta,ka,jb)};Ha.prototype={countsRef(O,ea,I){const ka=this.counts||(this.counts={}),ta=gb(ea);if(null!=ta){O=this.scope;var Ja=ka[ta]}Ja?I&&I.field&&wb(O,Ja.agg.params,I):(Ja={groupby:O.fieldRef(ea,"key"),pulse:Pa(this.output)},I&&I.field&&wb(O,
Ja,I),I=O.add(Ae(Ja)),Ja=O.add(cf({pulse:Pa(I)})),Ja={agg:I,ref:Pa(Ja)},null!=ta&&(ka[ta]=Ja));return Ja.ref},tuplesRef(){return Pa(this.values)},extentRef(O,ea){return sa(O,this,"extent","extent",ea,!1)},domainRef(O,ea){return sa(O,this,"domain","values",ea,!1)},valuesRef(O,ea,I){return sa(O,this,"vals","values",ea,I||!0)},lookupRef(O,ea){return sa(O,this,"lookup","tupleindex",ea,!1)},indataRef(O,ea){return sa(O,this,"indata","tupleindex",ea,!0,!0)}};const od=(O,ea,I)=>{Wb(O)?(O=O.signal,ea=Vd(`${O} === '${"left"}' || ${O} === '${"top"}'`,
ea,I)):ea="left"===O||"top"===O?ea:I;return ea},Ec=(O,ea,I)=>{Wb(O)?(O=O.signal,ea=Jd(`${O} === '${"top"}' || ${O} === '${"bottom"}'`,ea,I)):ea="bottom"===O||"top"===O?ea:I;return ea},kd=(O,ea,I)=>{Wb(O)?(O=O.signal,ea=Jd(`${O} !== '${"top"}' && ${O} !== '${"bottom"}'`,ea,I)):ea="bottom"===O||"top"===O?I:ea;return ea},Fc=(O,ea,I)=>Wb(O)?Vd(`${O.signal} === '${"top"}'`,ea,I):"top"===O?{value:ea}:{value:I},Jd=(O,ea,I)=>{ea=null!=ea?Nc(ea):ea;I=null!=I?Nc(I):I;if(null!=ea&&1!==Object.keys(ea).length||
null!=I&&1!==Object.keys(I).length)return[k.extend({test:O},ea)].concat(I||[]);ea=ea?ea.signal||k.stringValue(ea.value):null;I=I?I.signal||k.stringValue(I.value):null;return{signal:`${O} ? (${ea}) : (${I})`}},Vd=(O,ea,I)=>({signal:`${O} ? (${ce(ea)}) : (${ce(I)})`}),ce=O=>Wb(O)?O.signal:null==O?null:k.stringValue(O),le=(O,ea)=>{const I=O.signal;return I&&I.endsWith("(null)")?{signal:I.slice(0,-6)+ea.signal}:O};Ib.prototype=Xb.prototype={parse(O){return N(O,this)},fork(){return new Xb(this)},isSubscope(){return 0<
this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(O){this.operators.push(O);O.id=this.id();O.refs&&(O.refs.forEach(ea=>{ea.$ref=O.id}),O.refs=null);return O},proxy(O){O=O instanceof mb?Pa(O):O;return this.add(gd({value:O}))},addStream(O){this.streams.push(O);O.id=this.id();return O},
addUpdate(O){this.updates.push(O);return O},finish(){function O(ka,ta,Ja){ka&&(ka=ka.data||(ka.data={}),ta=ka[ta]||(ka[ta]=[]),ta.push(Ja))}let ea,I;this.root&&(this.root.root=!0);for(ea in this.signals)this.signals[ea].signal=ea;for(ea in this.scales)this.scales[ea].scale=ea;for(ea in this.data){I=this.data[ea];O(I.input,ea,"input");O(I.output,ea,"output");O(I.values,ea,"values");for(const ka in I.index)O(I.index[ka],ea,"index:"+ka)}return this},pushState(O,ea,I){this._encode.push(Pa(this.add(oc({pulse:O}))));
this._parent.push(ea);this._lookup.push(I?Pa(this.proxy(I)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return k.peek(this._parent)},encode(){return k.peek(this._encode)},lookup(){return k.peek(this._lookup)},markpath(){const O=this._markpath;return++O[O.length-1]},fieldRef(O,ea){if(k.isString(O))return xb(O,ea);O.signal||k.error("Unsupported field reference: "+k.stringValue(O));O=O.signal;var I=this.field[O];I||
(I={name:this.signalRef(O)},ea&&(I.as=ea),this.field[O]=I=Pa(this.add(Ab(I))));return I},compareRef(O){let ea=!1;const I=ta=>Wb(ta)?(ea=!0,this.signalRef(ta.signal)):ta&&ta.expr?(ea=!0,this.exprRef(ta.expr)):ta,ka=k.array(O.field).map(I);O=k.array(O.order).map(I);return ea?Pa(this.add(se({fields:ka,orders:O}))):{$compare:ka,$order:O}},keyRef(O,ea){let I=!1;const ka=this.signals;O=k.array(O).map(ta=>Wb(ta)?(I=!0,Pa(ka[ta.signal])):ta);return I?Pa(this.add(ec({fields:O,flat:ea}))):sb(O,ea)},sortRef(O){if(!O)return O;
const ea=Qb(O.op,O.field);O=O.order||"ascending";return O.signal?Pa(this.add(se({fields:ea,orders:this.signalRef(O.signal)}))):{$compare:ea,$order:O}},event(O,ea){const I=O+":"+ea;if(!this.events[I]){const ka=this.id();this.streams.push({id:ka,source:O,type:ea});this.events[I]=ka}return this.events[I]},hasOwnSignal(O){return k.hasOwnProperty(this.signals,O)},addSignal(O,ea){this.hasOwnSignal(O)&&k.error("Duplicate signal name: "+k.stringValue(O));ea=ea instanceof mb?ea:this.add(new mb("operator",
ea,void 0,void 0));return this.signals[O]=ea},getSignal(O){this.signals[O]||k.error("Unrecognized signal name: "+k.stringValue(O));return this.signals[O]},signalRef(O){if(this.signals[O])return Pa(this.signals[O]);k.hasOwnProperty(this.lambdas,O)||(this.lambdas[O]=this.add(new mb("operator",null,void 0,void 0)));return Pa(this.lambdas[O])},parseLambdas(){const O=Object.keys(this.lambdas);for(let I=0,ka=O.length;I<ka;++I){var ea=O[I];const ta=P.parseExpression(ea,this);ea=this.lambdas[ea];ea.params=
ta.$params;ea.update=ta.$expr}},property(O){return O&&O.signal?this.signalRef(O.signal):O},objectProperty(O){return O&&k.isObject(O)?this.signalRef(O.signal||Bc(O)):O},exprRef(O,ea){O={expr:P.parseExpression(O,this)};ea&&(O.expr.$name=ea);return Pa(this.add(ua(O)))},addBinding(O,ea){this.bindings||k.error("Nested signals do not support binding: "+k.stringValue(O));this.bindings.push(k.extend({signal:O},ea))},addScaleProj(O,ea){k.hasOwnProperty(this.scales,O)&&k.error("Duplicate scale or projection name: "+
k.stringValue(O));this.scales[O]=this.add(ea)},addScale(O,ea){this.addScaleProj(O,eb(ea))},addProjection(O,ea){this.addScaleProj(O,Tc(ea))},getScale(O){this.scales[O]||k.error("Unrecognized scale name: "+k.stringValue(O));return this.scales[O]},scaleRef(O){return Pa(this.getScale(O))},scaleType(O){return this.getScale(O).params.type},projectionRef(O){return this.scaleRef(O)},projectionType(O){return this.scaleType(O)},addData(O,ea){k.hasOwnProperty(this.data,O)&&k.error("Duplicate data set name: "+
k.stringValue(O));return this.data[O]=ea},getData(O){this.data[O]||k.error("Undefined data set name: "+k.stringValue(O));return this.data[O]},addDataPipeline(O,ea){k.hasOwnProperty(this.data,O)&&k.error("Duplicate data set name: "+k.stringValue(O));return this.addData(O,Ha.fromEntries(this,ea))}};v.AxisDomainRole="axis-domain";v.AxisGridRole="axis-grid";v.AxisLabelRole="axis-label";v.AxisRole="axis";v.AxisTickRole="axis-tick";v.AxisTitleRole="axis-title";v.DataScope=Ha;v.FrameRole="frame";v.LegendEntryRole=
"legend-entry";v.LegendLabelRole="legend-label";v.LegendRole="legend";v.LegendSymbolRole="legend-symbol";v.LegendTitleRole="legend-title";v.MarkRole="mark";v.Scope=Ib;v.ScopeRole="scope";v.config=id;v.parse=function(O,ea,I){k.isObject(O)||k.error("Input Vega specification must be an object.");ea=k.mergeConfig(id(),ea,O.config);return la(O,new Ib(ea,I)).toRuntime()};v.signal=lb;v.signalUpdates=Q;v.stream=Fa})};
shadow$provide[63]=function(fc,Fb,Xc,ob){function v(Pa){var xb=Object.create(null);Pa&&Object.keys(Pa).forEach(function(sb){if("default"!==sb){var Qb=Object.getOwnPropertyDescriptor(Pa,sb);Object.defineProperty(xb,sb,Qb.get?Qb:{enumerable:!0,get:function(){return Pa[sb]}})}});xb.default=Pa;return Object.freeze(xb)}var k=Fb(20),P=Fb(28),ib=Fb(30),Hb=Fb(34),ac=Fb(35),vc=Fb(37),Ac=Fb(38),uc=Fb(39),Cb=Fb(47),jc=Fb(52),Yb=Fb(53);Xc=Fb(54);fc=Fb(55);var Ua=Fb(29),ub=Fb(22),Kb=Fb(27),Lb=Fb(33),Db=Fb(32),
Pb=Fb(36),ab=Fb(60),pb=Fb(23),Qa=Fb(58),Da=Fb(62),Ka=Fb(59),lb=Fb(56),mb=Fb(61);Fb=v(ib);Hb=v(Hb);ac=v(ac);vc=v(vc);Ac=v(Ac);uc=v(uc);Cb=v(Cb);jc=v(jc);Yb=v(Yb);Xc=v(Xc);fc=v(fc);k.extend(P.transforms,Fb,Hb,ac,vc,Ac,Cb,uc,jc,Yb,Xc,fc);Object.defineProperty(ob,"Dataflow",{enumerable:!0,get:function(){return P.Dataflow}});Object.defineProperty(ob,"EventStream",{enumerable:!0,get:function(){return P.EventStream}});Object.defineProperty(ob,"MultiPulse",{enumerable:!0,get:function(){return P.MultiPulse}});
Object.defineProperty(ob,"Operator",{enumerable:!0,get:function(){return P.Operator}});Object.defineProperty(ob,"Parameters",{enumerable:!0,get:function(){return P.Parameters}});Object.defineProperty(ob,"Pulse",{enumerable:!0,get:function(){return P.Pulse}});Object.defineProperty(ob,"Transform",{enumerable:!0,get:function(){return P.Transform}});Object.defineProperty(ob,"changeset",{enumerable:!0,get:function(){return P.changeset}});Object.defineProperty(ob,"definition",{enumerable:!0,get:function(){return P.definition}});
Object.defineProperty(ob,"ingest",{enumerable:!0,get:function(){return P.ingest}});Object.defineProperty(ob,"isTuple",{enumerable:!0,get:function(){return P.isTuple}});Object.defineProperty(ob,"transform",{enumerable:!0,get:function(){return P.transform}});Object.defineProperty(ob,"transforms",{enumerable:!0,get:function(){return P.transforms}});Object.defineProperty(ob,"tupleid",{enumerable:!0,get:function(){return P.tupleid}});Object.defineProperty(ob,"interpolate",{enumerable:!0,get:function(){return Db.interpolate}});
Object.defineProperty(ob,"interpolateColors",{enumerable:!0,get:function(){return Db.interpolateColors}});Object.defineProperty(ob,"interpolateRange",{enumerable:!0,get:function(){return Db.interpolateRange}});Object.defineProperty(ob,"quantizeInterpolator",{enumerable:!0,get:function(){return Db.quantizeInterpolator}});Object.defineProperty(ob,"scale",{enumerable:!0,get:function(){return Db.scale}});Object.defineProperty(ob,"scheme",{enumerable:!0,get:function(){return Db.scheme}});Object.defineProperty(ob,
"projection",{enumerable:!0,get:function(){return Pb.projection}});Object.defineProperty(ob,"View",{enumerable:!0,get:function(){return ab.View}});Object.defineProperty(ob,"defaultLocale",{enumerable:!0,get:function(){return pb.defaultLocale}});Object.defineProperty(ob,"formatLocale",{enumerable:!0,get:function(){return pb.numberFormatDefaultLocale}});Object.defineProperty(ob,"locale",{enumerable:!0,get:function(){return pb.locale}});Object.defineProperty(ob,"resetDefaultLocale",{enumerable:!0,get:function(){return pb.resetDefaultLocale}});
Object.defineProperty(ob,"timeFormatLocale",{enumerable:!0,get:function(){return pb.timeFormatDefaultLocale}});Object.defineProperty(ob,"expressionFunction",{enumerable:!0,get:function(){return Qa.expressionFunction}});Object.defineProperty(ob,"parse",{enumerable:!0,get:function(){return Da.parse}});Object.defineProperty(ob,"runtimeContext",{enumerable:!0,get:function(){return Ka.context}});Object.defineProperty(ob,"codegenExpression",{enumerable:!0,get:function(){return lb.codegenExpression}});Object.defineProperty(ob,
"parseExpression",{enumerable:!0,get:function(){return lb.parseExpression}});Object.defineProperty(ob,"parseSelector",{enumerable:!0,get:function(){return mb.parseSelector}});ob.version="5.25.0";Object.keys(k).forEach(function(Pa){"default"===Pa||ob.hasOwnProperty(Pa)||Object.defineProperty(ob,Pa,{enumerable:!0,get:function(){return k[Pa]}})});Object.keys(Ua).forEach(function(Pa){"default"===Pa||ob.hasOwnProperty(Pa)||Object.defineProperty(ob,Pa,{enumerable:!0,get:function(){return Ua[Pa]}})});Object.keys(ub).forEach(function(Pa){"default"===
Pa||ob.hasOwnProperty(Pa)||Object.defineProperty(ob,Pa,{enumerable:!0,get:function(){return ub[Pa]}})});Object.keys(Kb).forEach(function(Pa){"default"===Pa||ob.hasOwnProperty(Pa)||Object.defineProperty(ob,Pa,{enumerable:!0,get:function(){return Kb[Pa]}})});Object.keys(Lb).forEach(function(Pa){"default"===Pa||ob.hasOwnProperty(Pa)||Object.defineProperty(ob,Pa,{enumerable:!0,get:function(){return Lb[Pa]}})})};
shadow$provide[64]=function(fc,Fb,Xc,ob){var v=Fb(26).Buffer;(function(k,P){"object"===typeof ob&&"undefined"!==typeof Xc?P(ob,Fb(63)):"function"===typeof define&&define.amd?define(["exports","vega"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,P(k.vegaLite={},k.vega))})(this,function(k,P){function ib(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c["default"]:c}function Hb(c,a){if(c.not)Hb(c.not,a);else if(c.and)for(const d of c.and)Hb(d,a);else if(c.or)for(const d of c.or)Hb(d,
a);else a(c)}function ac(c,a){return c.not?{not:ac(c.not,a)}:c.and?{and:c.and.map(d=>ac(d,a))}:c.or?{or:c.or.map(d=>ac(d,a))}:a(c)}function vc(c){throw Error(c);}function Ac(c,a){const d={};for(const f of a)P.hasOwnProperty(c,f)&&(d[f]=c[f]);return d}function uc(c,a){c=Object.assign({},c);for(const d of a)delete c[d];return c}function Cb(c){if(P.isNumber(c))return c;c=P.isString(c)?c:Ik(c);if(250>c.length)return c;let a=0;for(let d=0;d<c.length;d++){const f=c.charCodeAt(d);a=(a<<5)-a+f;a&=a}return a}
function jc(c){return!1===c||null===c}function Yb(c,a){return c.includes(a)}function Ua(c,a){let d=0;for(const f of c.entries()){const [h,x]=f;if(a(x,h,d++))return!0}return!1}function ub(c,a){let d=0;for(const f of c.entries()){const [h,x]=f;if(!a(x,h,d++))return!1}return!0}function Kb(c){for(var a=arguments.length,d=Array(1<a?a-1:0),f=1;f<a;f++)d[f-1]=arguments[f];for(const h of d){let x;a=c;d=null!=(x=h)?x:{};for(const D of ie(d))P.writeConfig(a,D,d[D],!0)}return c}function Lb(c,a){const d=[],f=
{};for(const h of c)c=a(h),c in f||(f[c]=1,d.push(h));return d}function Db(c,a){if(c.size!==a.size)return!1;for(const d of c)if(!a.has(d))return!1;return!0}function Pb(c,a){for(const d of c)if(a.has(d))return!0;return!1}function ab(c){const a=new Set;for(const d of c){const f=P.splitAccessPath(d).map((h,x)=>0===x?h:`[${h}]`);c=f.map((h,x)=>f.slice(0,x+1).join(""));for(const h of c)a.add(h)}return a}function pb(c,a){return void 0===c||void 0===a?!0:Pb(ab(c),ab(a))}function Qa(c){return 0===ie(c).length}
function Da(c){return!0===c||!1===c}function Ka(c){const a=c.replace(/\W/g,"_");return(c.match(/^\d+/)?"_":"")+a}function lb(c,a){return c.not?`!(${lb(c.not,a)})`:c.and?`(${c.and.map(d=>lb(d,a)).join(") \x26\x26 (")})`:c.or?`(${c.or.map(d=>lb(d,a)).join(") || (")})`:a(c)}function mb(c,a){if(0===a.length)return!0;const d=a.shift();d in c&&mb(c[d],a)&&delete c[d];return Qa(c)}function Pa(c){return c.charAt(0).toUpperCase()+c.substr(1)}function xb(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
"datum";const d=P.splitAccessPath(c),f=[];for(let h=1;h<=d.length;h++){const x=`[${d.slice(0,h).map(P.stringValue).join("][")}]`;f.push(`${a}${x}`)}return f.join(" \x26\x26 ")}function sb(c){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${P.stringValue(P.splitAccessPath(c).join("."))}]`}function Qb(c){return c.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Wb(c){return`${P.splitAccessPath(c).map(Qb).join("\\.")}`}function nb(c,a,d){return c.replace(new RegExp(a.replace(/[-/\\^$*+?.()|[\]{}]/g,
"\\$\x26"),"g"),d)}function pa(c){return`${P.splitAccessPath(c).join(".")}`}function Z(c){return c?P.splitAccessPath(c).length:0}function Fa(){for(var c=arguments.length,a=Array(c),d=0;d<c;d++)a[d]=arguments[d];for(const f of a)if(void 0!==f)return f}function Ga(c){const a=++lj;return c?String(c)+a:a}function db(c){return ba(c)?c:`__${c}`}function ba(c){return c.startsWith("__")}function ma(c){if(void 0!==c)return(c%360+360)%360}function q(c){return P.isNumber(c)?!0:!isNaN(c)&&!isNaN(parseFloat(c))}
function M(c){switch(c){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function Q(c){return"color"===c||"fill"===c||"stroke"===c}function g(c){return u(c)!==c}function u(c){switch(c){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return c}function m(c){if(c in Jk)switch(c){case "theta":return"startAngle";case "theta2":return"endAngle";
case "radius":return"outerRadius";case "radius2":return"innerRadius"}return c}function C(c){switch(c){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function B(c){switch(c){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function A(c){switch(c){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";
case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function E(c){switch(c){case "x":return"xOffset";case "y":return"yOffset"}}function H(c){switch(c){case "xOffset":return"x";case "yOffset":return"y"}}function V(c){return c in mk}function Aa(c){return"width"===c?"x":"y"}function Y(c){switch(c){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return il;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Nl;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function t(c){switch(c){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function L(c){return!!c&&!!c.argmin}function va(c){return!!c&&!!c.argmax}function La(c){return P.isString(c)&&!!Ol[c]}function Wa(c){return P.isString(c)&&Uk.has(c)}function $a(c){P.isBoolean(c)&&(c=bg(c,void 0));return"bin"+ie(c).map(a=>Xa(c[a])?Ka(`_${a}_${Ki(c[a])}`):Ka(`_${a}_${c[a]}`)).join("")}function X(c){return!0===c||P.isObject(c)&&!c.binned}function Ca(c){return"binned"===c||P.isObject(c)&&!0===c.binned}function Xa(c){return null==
c?void 0:c.param}function Jb(c){switch(c){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function yc(c){return!(null==c||!c.expr)}function sc(c){const a=ie(c||{}),d={};for(const f of a)d[f]=Vb(c[f]);return d}function xc(c){var a=Object.assign({},c),d=c.anchor;const f=c.frame,h=c.offset,x=c.orient,D=c.angle,ca=c.limit;var ra=c.color,
Ia=c.subtitleColor;const hb=c.subtitleFont,Ob=c.subtitleFontSize,tc=c.subtitleFontStyle,md=c.subtitleFontWeight,Jc=c.subtitleLineHeight,cd=c.subtitlePadding;a=(delete a.anchor,delete a.frame,delete a.offset,delete a.orient,delete a.angle,delete a.limit,delete a.color,delete a.subtitleColor,delete a.subtitleFont,delete a.subtitleFontSize,delete a.subtitleFontStyle,delete a.subtitleFontWeight,delete a.subtitleLineHeight,delete a.subtitlePadding,a);ra=Object.assign({},a,ra?{fill:ra}:{});d=Object.assign({},
d?{anchor:d}:{},f?{frame:f}:{},h?{offset:h}:{},x?{orient:x}:{},void 0!==D?{angle:D}:{},void 0!==ca?{limit:ca}:{});Ia=Object.assign({},Ia?{subtitleColor:Ia}:{},hb?{subtitleFont:hb}:{},Ob?{subtitleFontSize:Ob}:{},tc?{subtitleFontStyle:tc}:{},md?{subtitleFontWeight:md}:{},Jc?{subtitleLineHeight:Jc}:{},cd?{subtitlePadding:cd}:{});c=Ac(c,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:ra,subtitleMarkConfig:c,nonMarkTitleProperties:d,subtitle:Ia}}function dd(c){return P.isString(c)||P.isArray(c)&&
P.isString(c[0])}function Zb(c){return!(null==c||!c.signal)}function Sc(c){return!!c.step}function Pd(c){return P.isArray(c)?!1:"field"in c&&"data"in c}function Ma(c){const a=P.isArray(c.condition)?c.condition.map(qb):qb(c.condition);return Object.assign({},Vb(c),{condition:a})}function Vb(c){if(yc(c)){var a=Object.assign({},c);c=c.expr;a=(delete a.expr,a);return Object.assign({},{signal:c},a)}return c}function qb(c){if(yc(c)){var a=Object.assign({},c);c=c.expr;a=(delete a.expr,a);return Object.assign({},
{signal:c},a)}return c}function Tb(c){if(yc(c)){var a=Object.assign({},c);c=c.expr;a=(delete a.expr,a);return Object.assign({},{signal:c},a)}return Zb(c)?c:void 0!==c?{value:c}:void 0}function gc(c){return Zb(c)?c.signal:P.stringValue(c.value)}function cc(c){return Zb(c)?c.signal:null==c?null:P.stringValue(c)}function Ic(c){let a;return[].concat(c.type,null!=(a=c.style)?a:[])}function zc(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:h,ignoreVgConfig:x}=f;
if(h&&void 0!==a[h])return a[h];if(void 0!==a[c])return a[c];if(!x||h&&h!==c)return Zc(c,a,d,f)}function Zc(c,a,d){let {vgChannel:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return Fa(f?Md(c,a,d.style):void 0,Md(c,a,d.style),f?d[a.type][f]:void 0,d[a.type][c],f?d.mark[f]:d.mark[c])}function Md(c,a,d){return td(c,Ic(a),d)}function td(c,a,d){a=P.array(a);let f;for(const h of a)(a=d[h])&&void 0!==a[c]&&(f=a[c]);return f}function Ha(c,a){return P.array(c).reduce((d,f)=>{d.field.push(wd(f,
a));let h;d.order.push(null!=(h=f.sort)?h:"ascending");return d},{field:[],order:[]})}function gb(c,a){const d=[...c];a.forEach(f=>{for(const h of d)if(ei(h,f))return;d.push(f)});return d}function wb(c,a){return ei(c,a)||!a?c:c?[...P.array(c),...P.array(a)].join(", "):a}function sa(c,a){const d=c.value;a=a.value;if(null==d||null===a)return{explicit:c.explicit,value:null};if((dd(d)||Zb(d))&&(dd(a)||Zb(a)))return{explicit:c.explicit,value:wb(d,a)};if(dd(d)||Zb(d))return{explicit:c.explicit,value:d};
if(dd(a)||Zb(a))return{explicit:c.explicit,value:a};if(!(dd(d)||Zb(d)||dd(a)||Zb(a)))return{explicit:c.explicit,value:gb(d,a)};throw Error("It should never reach here");}function F(c,a,d){a:if("object"===typeof a&&null!==a){var f=a[Symbol.toPrimitive];if(void 0!==f){a=f.call(a,"string");if("object"!==typeof a)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}a="symbol"===typeof a?a:String(a);a in c?Object.defineProperty(c,a,{value:d,enumerable:!0,configurable:!0,
writable:!0}):c[a]=d;return c}function ya(c,a,d){a=Na(c,a,"set");if(a.set)a.set.call(c,d);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=d}return d}function Na(c,a,d){if(!a.has(c))throw new TypeError("attempted to "+d+" private field on non-instance");return a.get(c)}function Za(c){return`Invalid specification ${Bg(c)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function kb(c){return`${"width"==c?"Width":"Height"} "container" only works for single views and layered views.`}function Gb(c){return`${"width"==c?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==c?"x":"y"}".`}function nc(c){return c?`Dropping "fit-${c}" because spec has discrete ${B(c)}.`:'Dropping "fit" because spec has discrete size.'}function dc(c){return`Unknown field for ${c}. Cannot calculate view size.`}function ic(c){return`Cannot project a selection on encoding channel "${c}", which has no field.`}
function Vc(c){return`Selection not supported for ${c} yet.`}function ed(c){return`The "columns" property cannot be used when "${c}" has nested row/column.`}function fd(c,a,d){return`An ancestor parsed field "${c}" as ${d} but a child wants to parse the field as ${a}.`}function Qd(c){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${c} are dropped.`}function Td(c,a){const {fill:d,stroke:f}=a;return`Dropping color ${c} as the plot also has ${d&&f?"fill and stroke":
d?"fill":"stroke"}.`}function Fd(c,a){return`Dropping ${Bg(c)} from channel "${a}" since it does not contain any data field, datum, value, or signal.`}function Zd(c,a,d){return`${c} dropped as it is incompatible with "${a}"${d?` when ${d}`:""}.`}function de(c,a){return`Using discrete channel "${c}" to encode "${a}" field can be misleading as it does not encode ${"ordinal"===a?"order":"magnitude"}.`}function Ud(c,a,d){return`${d}-scale's "${a}" is dropped as it does not work with ${c} scale.`}function Ve(c){return`The step for "${c}" is dropped because the ${"width"===
c?"x":"y"} is continuous.`}function Xd(c,a){return`Invalid ${c}: ${Bg(a)}.`}function N(c){return`1D error band does not support ${c}.`}function la(c){return`Channel ${c} is required for "binned" bin.`}function za(){Wi.warn(...arguments)}function fb(){Wi.debug(...arguments)}function Ib(c){if(c&&P.isObject(c))for(const a of Xi)if(a in c)return!0;return!1}function Xb(c){q(c)&&(c=+c);if(P.isNumber(c))return c-1;var a=c.toLowerCase();const d=wi.indexOf(a);if(-1!==d)return d;a=a.substr(0,3);a=Mk.indexOf(a);
if(-1!==a)return a;throw Error(Xd("month",c));}function Bc(c){q(c)&&(c=+c);if(P.isNumber(c))return c%7;var a=c.toLowerCase();const d=ul.indexOf(a);if(-1!==d)return d;a=a.substr(0,3);a=Tl.indexOf(a);if(-1!==a)return a;throw Error(Xd("day",c));}function lc(c,a){const d=[];a&&void 0!==c.day&&1<ie(c).length&&(za(`Dropping day from datetime ${Bg(c)} as day cannot be combined with other units.`),c=sf(c),delete c.day);void 0!==c.year?d.push(c.year):d.push(2012);if(void 0!==c.month){var f=a?Xb(c.month):c.month;
d.push(f)}else if(void 0!==c.quarter){if(a)if(f=c.quarter,q(f)&&(f=+f),P.isNumber(f))4<f&&za(Xd("quarter",f)),--f;else throw Error(Xd("quarter",f));else f=c.quarter;d.push(P.isNumber(f)?3*f:`${f}*3`)}else d.push(0);void 0!==c.date?d.push(c.date):void 0!==c.day?(a=a?Bc(c.day):c.day,d.push(P.isNumber(a)?a+1:`${a}+1`)):d.push(1);for(const h of["hours","minutes","seconds","milliseconds"])a=c[h],d.push("undefined"===typeof a?0:a);return d}function Gc(c){const a=lc(c,!0).join(", ");return c.utc?`utc(${a})`:
`datetime(${a})`}function id(c){const a=lc(c,!0);return c.utc?+new Date(Date.UTC(...a)):+new Date(...a)}function Nc(c){return P.isObject(c)?c.binned:c&&c.startsWith("binned")}function rd(c){return Xi.filter(a=>Gd(c,a))}function Hd(c){c=rd(c);return c[c.length-1]}function Gd(c,a){const d=c.indexOf(a);return 0>d||0<d&&"seconds"===a&&"i"===c.charAt(d-1)||c.length>d+3&&"day"===a&&"o"===c.charAt(d+3)||0<d&&"year"===a&&"f"===c.charAt(d-1)?!1:!0}function $d(c,a){var {end:d}=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:{end:!1};const f=xb(a),h=c.startsWith("utc")?"utc":"";const x={};for(const ca of Xi)if(Gd(c,ca)){var D="quarter"===ca?`(${h}quarter(${f})-1)`:`${h}${ca}(${f})`;x[ca]=D;D=ca}d&&(x[D]+="+1");d=lc(x,!1).join(", ");return x.utc?`utc(${d})`:`datetime(${d})`}function Wd(c){if(c)return c=rd(c),`timeUnitSpecifier(${Bg(c)}, ${Bg(Yi)})`}function ae(c){if(c){var a;P.isString(c)?a=c&&c.startsWith("binned")?{unit:c.substring(6),binned:!0}:{unit:c}:P.isObject(c)&&(a=Object.assign({},c,
c.unit?{unit:c.unit}:{}));a.unit.startsWith("utc")&&(a.utc=!0,a.unit=a.unit.substring(3));return a}}function Ae(c){var a=ae(c);c=Object.assign({},a);a=a.utc;const d=(delete c.utc,c);return d.unit?(a?"utc":"")+ie(d).map(f=>Ka(`${"unit"===f?"":`_${f}_`}${d[f]}`)).join(""):(a?"utc":"")+"timeunit"+ie(d).map(f=>Ka(`_${f}_${d[f]}`)).join("")}function kf(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h=>h;var d=ae(c);const f=Hd(d.unit);if(f&&"day"!==f){const h={year:2001,month:1,date:1,
hours:0,minutes:0,seconds:0,milliseconds:0},{step:x,part:D}=hf(f,d.step);d=Object.assign({},h,{[D]:+h[D]+x});return`${a(Gc(d))} - ${a(Gc(h))}`}}function hf(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(Lh[c])return{part:c,step:a};switch(c){case "day":case "dayofyear":return{part:"date",step:a};case "quarter":return{part:"month",step:3*a};case "week":return{part:"date",step:7*a}}}function cf(c){return!(null==c||!c.field)&&void 0!==c.equal}function se(c){return!(null==c||!c.field)&&
void 0!==c.lt}function uf(c){return!(null==c||!c.field)&&void 0!==c.lte}function U(c){return!(null==c||!c.field)&&void 0!==c.gt}function ua(c){return!(null==c||!c.field)&&void 0!==c.gte}function cb(c){if(null==c?0:c.field)if(P.isArray(c.range)&&2===c.range.length||Zb(c.range))return!0;return!1}function Ab(c){return!(null==c||!c.field)&&(P.isArray(c.oneOf)||P.isArray(c.in))}function ec(c){return Ab(c)||cf(c)||cb(c)||se(c)||U(c)||uf(c)||ua(c)}function Cc(c,a){return mf(c,{timeUnit:a,wrapTime:!0})}function $b(c,
a){return c.map(d=>Cc(d,a))}function J(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:d}=c,f=ae(c.timeUnit);const {unit:h,binned:x}=f||{};f=wd(c,{expr:"datum"});d=h?`time(${x?f:$d(h,d)})`:f;if(cf(c))return`${d}===${Cc(c.equal,h)}`;if(se(c))return`${d}<${Cc(c.lt,h)}`;if(U(c))return`${d}>${Cc(c.gt,h)}`;if(uf(c))return`${d}<=${Cc(c.lte,h)}`;if(ua(c))return`${d}>=${Cc(c.gte,h)}`;if(Ab(c))return`indexof([${$b(c.oneOf,h).join(",")}], ${d}) !== -1`;if(null!=c&&c.field&&void 0!==
c.valid)return fa(d,c.valid);if(cb(c)){var {range:D}=c;f=Zb(D)?{signal:`${D.signal}[0]`}:D[0];D=Zb(D)?{signal:`${D.signal}[1]`}:D[1];if(null!==f&&null!==D&&a)return"inrange("+d+", ["+Cc(f,h)+", "+Cc(D,h)+"])";a=[];null!==f&&a.push(`${d} >= ${Cc(f,h)}`);null!==D&&a.push(`${d} <= ${Cc(D,h)}`);return 0<a.length?a.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${Bg(c)}`);}function fa(c){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${c}) && isFinite(+${c})`:
`!isValid(${c}) || !isFinite(+${c})`}function Sa(c){return ec(c)&&c.timeUnit?Object.assign({},c,{timeUnit:ae(c.timeUnit)}):c}function bc(c){return"quantitative"===c||"temporal"===c}function Pc(c){return"ordinal"===c||"nominal"===c}function Dc(c){if(c)switch(c=c.toLowerCase(),c){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Tc(c){return sk.has(c)}
function gd(c){return xj.has(c)}function ee(c,a){switch(a){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(c);case "bins":return!["point","band","identity","ordinal"].includes(c);case "round":return Sh.has(c)||"band"===c||"point"===c;case "padding":case "rangeMin":case "rangeMax":return Sh.has(c)||["point","band"].includes(c);case "paddingOuter":case "align":return["point","band"].includes(c);case "paddingInner":return"band"===
c;case "domainMax":case "domainMid":case "domainMin":case "clamp":return Sh.has(c);case "nice":return Sh.has(c)||"quantize"===c||"threshold"===c;case "exponent":return"pow"===c;case "base":return"log"===c;case "constant":return"symlog"===c;case "zero":return gd(c)&&!Yb(["log","time","utc","threshold","quantile"],c)}}function Ra(c,a){switch(a){case "interpolate":case "scheme":case "domainMid":if(!Q(c))return`Cannot use the scale property "${a}" with non-color channel.`}}function eb(c,a){let d=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:!1;if(!Hi[c])return!1;switch(c){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return Sh.has(a)||"band"===a?!0:"point"===a?!d:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return Sh.has(a)||fi.has(a)||Yb(["band","point","ordinal"],a);case "color":case "fill":case "stroke":return"band"!==a;case "strokeDash":case "shape":return"ordinal"===a||fi.has(a)}}function oc(c){return["line",
"area","trail"].includes(c)}function vd(c){return["rect","bar","image","arc"].includes(c)}function Lc(c){return c.type}function Wc(c){return c&&void 0!=c.band}function Qc(c){const {channel:a,channelDef:d,markDef:f,scale:h,config:x}=c;c=Cd(c);if(vb(d)&&!Wa(d.aggregate)&&h&&Sh.has(h.get("type"))){{let {fieldDef:ca,channel:ra,markDef:Ia,ref:hb,config:Ob}={fieldDef:d,channel:a,markDef:f,ref:c,config:x};if(oc(Ia.type))c=hb;else if(null===zc("invalid",Ia,Ob)){var D=ra;c=sd(ca,!0);D="y"===u(D)?{field:{group:"height"}}:
{value:0};c=[Object.assign({},{test:c},D),hb]}else c=hb}return c}return c}function sd(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return fa(P.isString(c)?c:wd(c,{expr:"datum"}),!a)}function jd(c,a,d,f){const h={};a&&(h.scale=a);qc(c)?({datum:c}=c,Ib(c)?h.signal=Gc(c):Zb(c)?h.signal=c.signal:yc(c)?h.signal=c.expr:h.value=c):h.field=wd(c,d);if(f){const {offset:x,band:D}=f;x&&(h.offset=x);D&&(h.band=D)}return h}function Od(c){let {scaleName:a,fieldOrDatumDef:d,fieldOrDatumDef2:f,
offset:h,startSuffix:x,bandPosition:D=.5}=c;var ca=0<D&&1>D?"datum":void 0;c=wd(d,{expr:ca,suffix:x});const ra=void 0!==f?wd(f,{expr:ca}):wd(d,{suffix:"end",expr:ca});ca={};0===D||1===D?(ca.scale=a,ca.field=0===D?c:ra):(c=Zb(D)?`${D.signal} * ${c} + (1-${D.signal}) * ${ra}`:`${D} * ${c} + ${1-D} * ${ra}`,ca.signal=`scale("${a}", ${c})`);h&&(ca.offset=h);return ca}function Cd(c){let {channel:a,channelDef:d,channel2Def:f,markDef:h,config:x,scaleName:D,scale:ca,stack:ra,offset:Ia,defaultRef:hb,bandPosition:Ob}=
c;if(d){if(Hc(d)){c=null==ca?void 0:ca.get("type");if($c(d)){null!=Ob||(Ob=ea({fieldDef:d,fieldDef2:f,markDef:h,config:x}));const {bin:Jc,timeUnit:cd,type:pd}=d;if(X(Jc)||Ob&&cd&&"temporal"===pd)return(null==ra?0:ra.impute)?jd(d,D,{binSuffix:"mid"},{offset:Ia}):Ob&&!Tc(c)?Od({scaleName:D,fieldOrDatumDef:d,bandPosition:Ob,offset:Ia}):jd(d,D,Hf(d,a)?{binSuffix:"range"}:{},{offset:Ia});if(Ca(Jc)){if(vb(f))return Od({scaleName:D,fieldOrDatumDef:d,fieldOrDatumDef2:f,bandPosition:Ob,offset:Ia});za(la("x"===
a?"x2":"y2"))}}var tc;let md;return jd(d,D,Tc(c)?{binSuffix:"range"}:{},{offset:Ia,band:"band"===c?null!=(md=null!=(tc=Ob)?tc:d.bandPosition)?md:.5:void 0})}if(yd(d))return tc=Ia?{offset:Ia}:{},Object.assign({},be(a,d.value),tc)}P.isFunction(hb)&&(hb=hb());return hb?Object.assign({},hb,Ia?{offset:Ia}:{}):hb}function be(c,a){return Yb(["x","x2"],c)&&"width"===a?{field:{group:"width"}}:Yb(["y","y2"],c)&&"height"===a?{field:{group:"height"}}:Tb(a)}function xe(c){return c&&"number"!==c&&"time"!==c}function Le(c){let {fieldOrDatumDef:a,
format:d,formatType:f,expr:h,normalizeStack:x,config:D}=c;if(xe(f))return df({fieldOrDatumDef:a,format:d,formatType:f,expr:h,config:D});c=Xe(a,h,x);var ca=pc(a);if(void 0===d&&void 0===f&&D.customFormatTypes){if("quantitative"===ca){if(x&&D.normalizedNumberFormatType)return df({fieldOrDatumDef:a,format:D.normalizedNumberFormat,formatType:D.normalizedNumberFormatType,expr:h,config:D});if(D.numberFormatType)return df({fieldOrDatumDef:a,format:D.numberFormat,formatType:D.numberFormatType,expr:h,config:D})}if("temporal"===
ca&&D.timeFormatType&&vb(a)&&void 0===a.timeUnit)return df({fieldOrDatumDef:a,format:D.timeFormat,formatType:D.timeFormatType,expr:h,config:D})}if(ef(a)){var ra,Ia;{c={field:c,timeUnit:vb(a)?null==(ra=ae(a.timeUnit))?void 0:ra.unit:void 0,format:d,formatType:D.timeFormatType,rawTimeFormat:D.timeFormat,isUTCScale:Dd(a)&&(null==(Ia=a.scale)?void 0:Ia.type)===Cg.UTC};let {field:hb,timeUnit:Ob,format:tc,formatType:md,rawTimeFormat:Jc,isUTCScale:cd}=c;!Ob||tc?!Ob&&md?ra=`${md}(${hb}, '${tc}')`:(tc=P.isString(tc)?
tc:Jc,ra=`${cd?"utc":"time"}Format(${hb}, '${tc}')`):(ra=Ob,Ia=hb,c=cd,ra?(ca=Wd(ra),ra=`${c||ra.startsWith("utc")?"utc":"time"}Format(${Ia}, ${ca})`):ra=void 0)}return ra?{signal:ra}:void 0}d=kd({type:ca,specifiedFormat:d,config:D,normalizeStack:x});return vb(a)&&X(a.bin)?(ra=wd(a,{expr:h,binSuffix:"end"}),{signal:Jd(c,ra,d,f,D)}):d||"quantitative"===pc(a)?{signal:`${`format(${c}, "${d||""}")`}`}:{signal:`isValid(${c}) ? ${c} : ""+${c}`}}function Xe(c,a,d){if(vb(c))return d?`${wd(c,{expr:a,suffix:"end"})}-${wd(c,
{expr:a,suffix:"start"})}`:wd(c,{expr:a});({datum:c}=c);c=Ib(c)?Gc(c):`${Bg(c)}`;return c}function df(c){let {fieldOrDatumDef:a,format:d,formatType:f,expr:h,normalizeStack:x,config:D,field:ca}=c;null!=ca||(ca=Xe(a,h,x));return"datum.value"!==ca&&vb(a)&&X(a.bin)?(c=wd(a,{expr:h,binSuffix:"end"}),{signal:Jd(ca,c,d,f,D)}):{signal:`${f}(${ca}${d?`, ${Bg(d)}`:""})`}}function od(c,a,d,f,h,x){if(!P.isString(f)||!xe(f))if(void 0!==d||void 0!==f||!h.customFormatTypes||"quantitative"!==pc(c)||!(h.normalizedNumberFormatType&&
Kd(c)&&"normalize"===c.stack||h.numberFormatType)){if(Kd(c)&&"normalize"===c.stack&&h.normalizedNumberFormat)return kd({type:"quantitative",config:h,normalizeStack:!0});if(ef(c)){let D;c=vb(c)?null==(D=ae(c.timeUnit))?void 0:D.unit:void 0;if(void 0===c&&h.customFormatTypes&&h.timeFormatType)return;{let {specifiedFormat:ca,timeUnit:ra,config:Ia,omitTimeFormatConfig:hb}={specifiedFormat:d,timeUnit:c,config:h,omitTimeFormatConfig:x};d=ca?ca:ra?{signal:Wd(ra)}:hb?void 0:Ia.timeFormat}return d}return kd({type:a,
specifiedFormat:d,config:h})}}function Ec(c,a,d){if(c&&(Zb(c)||"number"===c||"time"===c))return c;if(ef(a)&&"time"!==d&&"utc"!==d){let f;return vb(a)&&(null==(f=ae(null==a?void 0:a.timeUnit))?0:f.utc)?"utc":"time"}}function kd(c){let {type:a,specifiedFormat:d,config:f,normalizeStack:h}=c;if(P.isString(d))return d;if("quantitative"===a)return h?f.normalizedNumberFormat:f.numberFormat}function Fc(c,a,d,f){if(xe(d))return`${d}(${c}${a?`, ${Bg(a)}`:""})`;let h;a=null!=(h=P.isString(a)?a:void 0)?h:f.numberFormat;
return`format(${c}, "${a||""}")`}function Jd(c,a,d,f,h){if(void 0===d&&void 0===f&&h.customFormatTypes&&h.numberFormatType)return Jd(c,a,h.numberFormat,h.numberFormatType,h);const x=Fc(c,d,f,h);a=Fc(a,d,f,h);return`${fa(c,!1)} ? "null" : ${x} + "${"  "}" + ${a}`}function Vd(c){return c&&("count"===c.op||!!c.field)}function ce(c){return c&&P.isArray(c)}function le(c){return"row"in c||"column"in c}function O(c){const {field:a,timeUnit:d,bin:f,aggregate:h}=c;return Object.assign({},d?{timeUnit:d}:{},
f?{bin:f}:{},h?{aggregate:h}:{},{field:a})}function ea(c){let {fieldDef:a,fieldDef2:d,markDef:f,config:h}=c;if(Hc(a)&&void 0!==a.bandPosition)return a.bandPosition;if(vb(a)){const {timeUnit:x,bin:D}=a;if(x&&!d)return vd(f.type)?0:Zc("timeUnitBandPosition",f,h);if(X(D))return.5}}function I(c){let {channel:a,fieldDef:d,fieldDef2:f,markDef:h,config:x,scaleType:D,useVlSizeChannel:ca}=c;c=B(a);c=zc(ca?"size":c,h,x,{vgChannel:c});if(void 0!==c)return c;if(vb(d)){const {timeUnit:ra,bin:Ia}=d;if(ra&&!f)return{band:Zc("timeUnitBandSize",
h,x)};if(X(Ia)&&!Tc(D))return{band:1}}if(vd(h.type)){if(D){if(Tc(D)){let hb;return(null==(hb=x[h.type])?void 0:hb.discreteBandSize)||{band:1}}let Ia;return null==(Ia=x[h.type])?void 0:Ia.continuousBandSize}let ra;return null==(ra=x[h.type])?void 0:ra.discreteBandSize}}function ka(c,a,d,f){return X(c.bin)||c.timeUnit&&$c(c)&&"temporal"===c.type?void 0!==ea({fieldDef:c,fieldDef2:a,markDef:d,config:f}):!1}function ta(c){return c&&"condition"in c}function Ja(c){c=null==c?void 0:c.condition;return!!c&&
!P.isArray(c)&&vb(c)}function jb(c){c=null==c?void 0:c.condition;return!!c&&!P.isArray(c)&&Hc(c)}function vb(c){return c&&(!!c.field||"count"===c.aggregate)}function pc(c){return null==c?void 0:c.type}function qc(c){return c&&"datum"in c}function rc(c){return $c(c)&&!ze(c)||Bd(c)}function Kc(c){return $c(c)&&"quantitative"===c.type&&!c.bin||Bd(c)}function Bd(c){return qc(c)&&P.isNumber(c.datum)}function Hc(c){return vb(c)||qc(c)}function $c(c){return c&&("field"in c||"count"===c.aggregate)&&"type"in
c}function yd(c){return c&&"value"in c&&"value"in c}function Dd(c){return c&&("scale"in c||"sort"in c)}function Kd(c){return c&&("axis"in c||"stack"in c||"impute"in c)}function Ee(c){return c&&("format"in c||"formatType"in c)}function Be(c){return uc(c,["legend","axis","header","scale"])}function wd(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=c.field;const f=a.prefix;let h=a.suffix,x="";if("count"===c.aggregate)d=db("count");else{let D;if(!a.nofn)if("op"in c)D=c.op;else{const {bin:ca,
aggregate:ra,timeUnit:Ia}=c;if(X(ca)){D=$a(ca);let hb,Ob;h=(null!=(hb=a.binSuffix)?hb:"")+(null!=(Ob=a.suffix)?Ob:"")}else if(ra)va(ra)?(x=`["${d}"]`,d=`argmax_${ra.argmax}`):L(ra)?(x=`["${d}"]`,d=`argmin_${ra.argmin}`):D=String(ra);else if(Ia&&!Nc(Ia)){D=Ae(Ia);let hb;h=(!["range","mid"].includes(a.binSuffix)&&a.binSuffix||"")+(null!=(hb=a.suffix)?hb:"")}}D&&(d=d?`${D}_${d}`:D)}h&&(d=`${d}_${h}`);f&&(d=`${f}_${d}`);return a.forAs?pa(d):a.expr?sb(d,a.expr)+x:Wb(d)+x}function ze(c){switch(c.type){case "nominal":case "ordinal":case "geojson":return!0;
case "quantitative":return vb(c)&&!!c.bin;case "temporal":return!1}throw Error(`Invalid field type "${c.type}".`);}function Ld(c,a){const {field:d,bin:f,timeUnit:h,aggregate:x}=c;if("count"===x)return a.countTitle;if(X(f))return`${d} (binned)`;if(h&&!Nc(h)){let D;if(c=null==(D=ae(h))?void 0:D.unit)return`${d} (${rd(c).join("-")})`}else if(x)return va(x)?`${d} for max ${x.argmax}`:L(x)?`${d} for min ${x.argmin}`:`${Pa(x)} of ${d}`;return d}function he(c,a,d){let {allowDisabling:f,includeDefault:h=
!0}=d,x;d=null==(x=Fe(c))?void 0:x.title;if(!vb(c))return null!=d?d:c.title;a=h?Fg(c,a):void 0;if(f)return Fa(d,c.title,a);let D;return null!=(D=null!=d?d:c.title)?D:a}function Fe(c){if(Kd(c)&&c.axis)return c.axis;if(c&&"legend"in c&&c.legend)return c.legend;if(c&&"header"in c&&c.header)return c.header}function lf(c){if(Ee(c)){const {format:h,formatType:x}=c;return{format:h,formatType:x}}let a;c=null!=(a=Fe(c))?a:{};const {format:d,formatType:f}=c;return{format:d,formatType:f}}function vf(c,a){switch(a){case "latitude":case "longitude":return"quantitative";
case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in c&&P.isArray(c.sort))return"ordinal";const {aggregate:d,bin:f,timeUnit:h}=c;if(h)return"temporal";if(f||d&&!va(d)&&!L(d))return"quantitative";let x;if(Dd(c)&&(null==(x=c.scale)?0:x.type))switch(Li[c.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function Ie(c){if(vb(c))return c;if(Ja(c))return c.condition}function ne(c){if(Hc(c))return c;
if(jb(c))return c.condition}function Cf(c,a,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return P.isString(c)||P.isNumber(c)||P.isBoolean(c)?(f=P.isString(c)?"string":P.isNumber(c)?"number":"boolean",za(`Channel ${a} is a ${f}. Converted to {value: ${Bg(c)}}.`),{value:c}):Hc(c)?If(c,a,d,f):jb(c)?Object.assign({},c,{condition:If(c.condition,a,d,f)}):c}function If(c,a,d,f){if(Ee(c)){var h=Object.assign({},c),x=c.formatType;h=(delete h.format,delete h.formatType,h);if(xe(x)&&!d.customFormatTypes)return za(Qd(a)),
If(h,a,d,f)}else if((x=Kd(c)?"axis":c&&"legend"in c?"legend":c&&"header"in c?"header":null)&&c[x]){var D=c[x];h=Object.assign({},D);D=D.formatType;h=(delete h.format,delete h.formatType,h);if(xe(D)&&!d.customFormatTypes)return za(Qd(a)),If(Object.assign({},c,{[x]:h}),a,d,f)}if(vb(c))return jf(c,a,f);a=c.type;a||({datum:a}=c,a=P.isNumber(a)?"quantitative":P.isString(a)?"nominal":Ib(a)?"temporal":void 0,c=Object.assign({},c,{type:a}));return c}function jf(c,a){var {compositeMark:d=!1}=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:{};const {aggregate:f,timeUnit:h,bin:x,field:D}=c,ca=Object.assign({},c);d||!f||La(f)||va(f)||L(f)||(za(`Invalid aggregation operator "${f}".`),delete ca.aggregate);h&&(ca.timeUnit=ae(h));D&&(ca.field=`${D}`);X(x)&&(ca.bin=bg(x,a));Ca(x)&&!V(a)&&za(`Channel ${a} should not be used with "binned" bin.`);if($c(ca)){({type:d}=ca);var ra=Dc(d);d!==ra&&(ca.type=ra);"quantitative"!==d&&Wa(f)&&(za(`Invalid field type "${d}" for aggregate: "${f}", using "quantitative" instead.`),
ca.type="quantitative")}else g(a)||(d=vf(ca,a),ca.type=d);if($c(ca)){const {compatible:hb,warning:Ob}=Yd(ca,a)||{};!1===hb&&za(Ob)}if("sort"in ca&&P.isString(ca.sort)){({sort:d}=ca);if(d in Aj)return Object.assign({},ca,{sort:{encoding:d}});ra=d.substr(1);if("-"===d.charAt(0)&&ra in Aj)return Object.assign({},ca,{sort:{encoding:ra,order:"descending"}})}if(ca&&"header"in ca&&({header:d}=ca,d)){var Ia=d;ra=Object.assign({},Ia);Ia=Ia.orient;ra=(delete ra.orient,ra);if(Ia)return Object.assign({},ca,{header:Object.assign({},
ra,{labelOrient:d.labelOrient||Ia,titleOrient:d.titleOrient||Ia})})}return ca}function bg(c,a){return P.isBoolean(c)?{maxbins:Jb(a)}:"binned"===c?{binned:!0}:c.maxbins||c.step?c:Object.assign({},c,{maxbins:Jb(a)})}function Yd(c,a){var d=c.type;if("geojson"===d&&"shape"!==a)return{compatible:!1,warning:`Channel ${a} should not be used with a geojson data.`};switch(a){case "row":case "column":case "facet":return ze(c)?aj:{compatible:!1,warning:`${a} encoding should be discrete (ordinal / nominal / binned).`};
case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return aj;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==d?{compatible:!1,warning:`Channel ${a} should be used with a quantitative field only, not ${c.type} field.`}:aj;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==
d||c.sort?aj:{compatible:!1,warning:`Channel ${a} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(d=!ze(c)){let f;d=!(Dd(c)&&fi.has(null==(f=c.scale)?void 0:f.type))}return d?{compatible:!1,warning:`${a} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:aj;case "order":return"nominal"!==c.type||"sort"in c?aj:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}
function ef(c){var {formatType:a}=lf(c),d;if(!(d="time"===a)){if(a=!a)a=c&&("temporal"===c.type||vb(c)&&!!c.timeUnit);d=a}return d}function mf(c,a){let {timeUnit:d,type:f,wrapTime:h,undefinedIfExprNotRequired:x}=a;var D=(a=d&&(null==(D=ae(d))?void 0:D.unit))||"temporal"===f;let ca;yc(c)?ca=c.expr:Zb(c)?ca=c.signal:Ib(c)?(D=!0,ca=Gc(c)):(P.isString(c)||P.isNumber(c))&&D&&(ca=`datetime(${Bg(c)})`,qk[a]&&(P.isNumber(c)&&1E4>c||P.isString(c)&&isNaN(Date.parse(c)))&&(ca=Gc({[a]:c})));return ca?h&&D?`time(${ca})`:
ca:x?void 0:Bg(c)}function af(c,a){const {type:d}=c;return a.map(f=>{var h=vb(c)&&!Nc(c.timeUnit)?c.timeUnit:void 0;h=mf(f,{timeUnit:h,type:d,undefinedIfExprNotRequired:!0});return void 0!==h?{signal:h}:f})}function Hf(c,a){return X(c.bin)?!!Hi[a]&&["ordinal","nominal"].includes(c.type):(console.warn("Only call this method for binned field defs."),!1)}function Jf(c){return null==c?void 0:c.condition}function yf(c){return"mark"in c}function zf(c,a){return(c=c&&c[a])?P.isArray(c)?Ua(c,d=>!!d.field):
vb(c)||Ja(c):!1}function Eg(c,a){return(c=c&&c[a])?P.isArray(c)?Ua(c,d=>!!d.field):vb(c)||qc(c)||jb(c):!1}function eg(c,a){if(V(a)){const d=c[a];if((vb(d)||qc(d))&&(Pc(d.type)||vb(d)&&d.timeUnit))return a=E(a),Eg(c,a)}return!1}function wf(c){return Ua(oi,a=>zf(c,a)?(a=c[a],P.isArray(a)?Ua(a,d=>!!d.aggregate):(a=Ie(a))&&!!a.aggregate):!1)}function Kf(c,a){const d=[],f=[],h=[],x=[],D={};Ug(c,(ca,ra)=>{if(vb(ca)){var Ia=Object.assign({},ca),hb=ca.field;const tc=ca.aggregate,md=ca.bin,Jc=ca.timeUnit;
Ia=(delete Ia.field,delete Ia.aggregate,delete Ia.bin,delete Ia.timeUnit,Ia);if(tc||Jc||md){var Ob;const cd=null==(Ob=Fe(ca))?void 0:Ob.title;Ob=wd(ca,{forAs:!0});Ia=Object.assign({},cd?[]:{title:he(ca,a,{allowDisabling:!0})},Ia,{field:Ob});if(tc){let pd;va(tc)?(pd="argmax",Ob=wd({op:"argmax",field:tc.argmax},{forAs:!0}),Ia.field=`${Ob}.${hb}`):L(tc)?(pd="argmin",Ob=wd({op:"argmin",field:tc.argmin},{forAs:!0}),Ia.field=`${Ob}.${hb}`):"boxplot"!==tc&&"errorbar"!==tc&&"errorband"!==tc&&(pd=tc);pd&&
(ca={op:pd,as:Ob},hb&&(ca.field=hb),x.push(ca))}else d.push(Ob),$c(ca)&&X(md)?(f.push({bin:md,field:hb,as:Ob}),d.push(wd(ca,{binSuffix:"end"})),Hf(ca,ra)&&d.push(wd(ca,{binSuffix:"range"})),V(ra)&&(D[`${ra}2`]={field:`${Ob}_end`}),Ia.bin="binned",g(ra)||(Ia.type="quantitative")):Jc&&!Nc(Jc)&&(h.push({timeUnit:Jc,field:hb,as:Ob}),(hb=$c(ca)&&"temporal"!==ca.type&&"time")&&("text"===ra||"tooltip"===ra?Ia.formatType=hb:jk[ra]?Ia.legend=Object.assign({},{formatType:hb},Ia.legend):V(ra)&&(Ia.axis=Object.assign({},
{formatType:hb},Ia.axis))));D[ra]=Ia}else d.push(hb),D[ra]=c[ra]}else D[ra]=c[ra]});return{bins:f,timeUnits:h,aggregate:x,groupby:d,encoding:D}}function dg(c,a,d){d=Y(a)[d];return d&&("binned"!==d||(d=c["x2"===a?"x":"y"],vb(d)&&vb(c[a])&&Ca(d.bin)))?!0:!1}function eh(c,a,d,f){const h={};for(var x of ie(c))dk[x]||za(`${x}-encoding is dropped as ${x} is not a valid encoding channel.`);for(let ca of vj)if(c[ca]){x=c[ca];if(ca in gj){var D=H(ca);const ra=h[D];if(vb(ra)){if(bc(ra.type)&&vb(x)&&!ra.timeUnit){za(`${D}Offset dropped because ${D} is continuous`);
continue}}else ca=D,za(`There is no ${D} encoding. Replacing ${D}Offset encoding as ${D}.`)}"angle"!==ca||"arc"!==a||c.theta||(za("Arc marks uses theta channel rather than angle, replacing angle with theta."),ca="theta");if(dg(c,ca,a)){if("size"===ca&&"line"===a){let ra;if(null==(ra=Ie(c[ca]))?0:ra.aggregate){za("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}}if("color"===ca&&(d?"fill"in c:"stroke"in c))za(Td("encoding",{fill:"fill"in c,
stroke:"stroke"in c}));else if("detail"===ca||"order"===ca&&!P.isArray(x)&&!yd(x)||"tooltip"===ca&&P.isArray(x)){if(x){if("order"===ca&&(D=c[ca])&&D.sort&&!D.field){h[ca]=D;continue}h[ca]=P.array(x).reduce((ra,Ia)=>{vb(Ia)?ra.push(jf(Ia,ca)):za(Fd(Ia,ca));return ra},[])}}else{if("tooltip"===ca&&null===x)h[ca]=null;else if(!(vb(x)||qc(x)||yd(x)||ta(x)||Zb(x))){za(Fd(x,ca));continue}h[ca]=Cf(x,ca,f)}}else za(Zd(ca,a))}return h}function Jg(c,a){const d={};for(const f of ie(c)){const h=Cf(c[f],f,a,{compositeMark:!0});
d[f]=h}return d}function Og(c){const a=[];for(const d of ie(c))if(zf(c,d)){const f=P.array(c[d]);for(const h of f)vb(h)?a.push(h):Ja(h)&&a.push(h.condition)}return a}function Ug(c,a,d){if(c)for(const f of ie(c)){const h=c[f];if(P.isArray(h))for(const x of h)a.call(d,x,f);else a.call(d,h,f)}}function qa(c,a,d,f){return c?ie(c).reduce((h,x)=>{const D=c[x];return P.isArray(D)?D.reduce((ca,ra)=>a.call(f,ca,ra,x),h):a.call(f,h,D,x)},d):d}function bb(c,a){return ie(a).reduce((d,f)=>{switch(f){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return d;
case "order":if("line"===c||"trail"===c)return d;case "detail":case "key":f=a[f];if(P.isArray(f)||vb(f))for(var h of P.array(f))h.aggregate||d.push(wd(h,{}));return d;case "size":if("trail"===c)return d;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(h=Ie(a[f]))&&!h.aggregate&&d.push(wd(h,{})),d}},[])}function Rb(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in d)return{tooltip:d.tooltip};
const h=c.map(D=>{let {fieldPrefix:ca,titlePrefix:ra}=D;D=f?` of ${hd(a)}`:"";return{field:ca+a.field,type:a.type,title:Zb(ra)?{signal:`${ra}"${escape(D)}"`}:ra+D}}),x=Og(d).map(Be);return{tooltip:[...h,...Lb(x,Cb)]}}function hd(c){const {title:a,field:d}=c;return Fa(a,d)}function ld(c,a,d,f,h){const {scale:x,axis:D}=d;return ca=>{let {partName:ra,mark:Ia,positionPrefix:hb,endPositionPrefix:Ob,extraEncoding:tc={}}=ca;ca=hd(d);return qe(c,ra,h,{mark:Ia,encoding:Object.assign({},{[a]:Object.assign({},
{field:`${hb}_${d.field}`,type:d.type},void 0!==ca?{title:ca}:{},void 0!==x?{scale:x}:{},void 0!==D?{axis:D}:{})},P.isString(Ob)?{[`${a}2`]:{field:`${Ob}_${d.field}`}}:{},f,tc)})}}function qe(c,a,d,f){const {clip:h,color:x,opacity:D}=c,ca=c.type;return c[a]||void 0===c[a]&&d[a]?[Object.assign({},f,{mark:Object.assign({},d[a],h?{clip:h}:{},x?{color:x}:{},D?{opacity:D}:{},Lc(f.mark)?f.mark:{type:f.mark},{style:`${ca}-${String(a)}`},P.isBoolean(c[a])?{}:c[a])})]:[]}function Pe(c,a,d){({encoding:c}=c);
a="vertical"===a?"y":"x";const f=c[`${a}2`],h=c[`${a}Error`],x=c[`${a}Error2`];return{continuousAxisChannelDef:rf(c[a],d),continuousAxisChannelDef2:rf(f,d),continuousAxisChannelDefError:rf(h,d),continuousAxisChannelDefError2:rf(x,d),continuousAxis:a}}function rf(c,a){if(null==c?0:c.aggregate){var d=Object.assign({},c);c=c.aggregate;d=(delete d.aggregate,d);c!==a&&za(`Continuous axis should not have customized aggregation function ${c}; ${a} already agregates the axis.`);return d}return c}function Gf(c,
a){const {mark:d,encoding:f}=c,{x:h,y:x}=f;if(Lc(d)&&d.orient)return d.orient;if(rc(h)){if(rc(x)){c=vb(h)&&h.aggregate;const D=vb(x)&&x.aggregate;if(!c&&D===a)return"vertical";if(D||c!==a){if(c===a&&D===a)throw Error("Both x and y cannot have aggregate");return ef(x)&&!ef(h)?"horizontal":"vertical"}}return"horizontal"}if(rc(x))return"vertical";throw Error(`Need a valid continuous axis for ${a}s`);}function Me(c){return P.isNumber(c)?"tukey":c}function cg(c,a){var {config:d}=a,f=c=Object.assign({},
c,{encoding:Jg(c.encoding,d)});a=Object.assign({},f);var h=f.mark;f=f.params;a=(delete a.mark,delete a.encoding,delete a.params,delete a.projection,a);h=Lc(h)?h:{type:h};f&&za(Vc("boxplot"));var x;f=null!=(x=h.extent)?x:d.boxplot.extent;var D=zc("size",h,d),ca=h.invalid;x=Me(f);var ra=c;c=Gf(ra,"boxplot");const {continuousAxisChannelDef:Ia,continuousAxis:hb}=Pe(ra,c,"boxplot");var Ob=Ia.field,tc=Me(f),md=[...Sf(Ob),{op:"median",field:Ob,as:`mid_box_${Ob}`},{op:"min",field:Ob,as:("min-max"===tc?"lower_whisker_":
"min_")+Ob},{op:"max",field:Ob,as:("min-max"===tc?"upper_whisker_":"max_")+Ob}];Ob="min-max"===tc||"tukey"===tc?[]:[{calculate:`datum["upper_box_${Ob}"] - datum["lower_box_${Ob}"]`,as:`iqr_${Ob}`},{calculate:`min(datum["upper_box_${Ob}"] + datum["iqr_${Ob}"] * ${f}, datum["max_${Ob}"])`,as:`upper_whisker_${Ob}`},{calculate:`max(datum["lower_box_${Ob}"] - datum["iqr_${Ob}"] * ${f}, datum["min_${Ob}"])`,as:`lower_whisker_${Ob}`}];ra=Object.assign({},ra.encoding);var Jc;tc=(delete ra[hb],ra);ra=Object.assign({},
tc);tc=tc.tooltip;ra=(delete ra.tooltip,ra);if(tc){var cd;if(P.isArray(tc)){for(var pd of tc)pd.aggregate?(Jc||(Jc=[]),Jc.push(pd)):(cd||(cd=[]),cd.push(pd));Jc&&(ra.tooltip=Jc)}else tc.aggregate?ra.tooltip=tc:cd=tc;P.isArray(cd)&&1===cd.length&&(cd=cd[0]);Jc={customTooltipWithoutAggregatedField:cd,filteredEncoding:ra}}else Jc={filteredEncoding:ra};const {customTooltipWithoutAggregatedField:je,filteredEncoding:Nd}=Jc,{bins:ve,timeUnits:Qe,aggregate:gf,groupby:Wf,encoding:Vf}=Kf(Nd,d);Jc=[...ve,...Qe,
{aggregate:[...gf,...md],groupby:Wf},...Ob];const {bins:ig,timeUnits:Mf,transform:Xg,continuousAxisChannelDef:Nf,continuousAxis:Ii,groupby:xm,aggregate:Gm,encodingWithoutContinuousAxis:Dk,ticksOrient:ym,boxOrient:Hm,customTooltipWithoutAggregatedField:zm}={bins:ve,timeUnits:Qe,transform:Jc,groupby:Wf,aggregate:gf,continuousAxisChannelDef:Ia,continuousAxis:hb,encodingWithoutContinuousAxis:Vf,ticksOrient:"vertical"===c?"horizontal":"vertical",boxOrient:c,customTooltipWithoutAggregatedField:je};cd=Object.assign({},
Dk);Jc=Dk.color;md=Dk.size;cd=(delete cd.color,delete cd.size,cd);pd=ld(h,Ii,Nf,cd,d.boxplot);c=ld(h,Ii,Nf,Dk,d.boxplot);md=ld(h,Ii,Nf,Object.assign({},cd,md?{size:md}:{}),d.boxplot);Ob=Rb([{fieldPrefix:"min-max"===x?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===x?"lower_whisker_":"min_",titlePrefix:"Min"}],Nf,Dk);ra={type:"tick",color:"black",
opacity:1,orient:ym,invalid:ca,aria:!1};tc="min-max"===x?Ob:Rb([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Nf,Dk);pd=[...pd({partName:"rule",mark:{type:"rule",invalid:ca,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:tc}),...pd({partName:"rule",mark:{type:"rule",invalid:ca,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:tc}),...pd({partName:"ticks",mark:ra,
positionPrefix:"lower_whisker",extraEncoding:tc}),...pd({partName:"ticks",mark:ra,positionPrefix:"upper_whisker",extraEncoding:tc})];D=[...("tukey"!==x?pd:[]),...c({partName:"box",mark:Object.assign({},{type:"bar"},D?{size:D}:{},{orient:Hm,invalid:ca,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Ob}),...md({partName:"median",mark:Object.assign({},{type:"tick",invalid:ca},P.isObject(d.boxplot.median)&&d.boxplot.median.color?{color:d.boxplot.median.color}:
{},D?{size:D}:{},{orient:ym,aria:!1}),positionPrefix:"mid_box",extraEncoding:Ob})];if("min-max"===x){var Hj;return Object.assign({},a,{transform:(null!=(Hj=a.transform)?Hj:[]).concat(Xg),layer:D})}Hj=`datum["lower_box_${Nf.field}"]`;x=`datum["upper_box_${Nf.field}"]`;ca=`(${x} - ${Hj})`;Hj=`${Hj} - ${f} * ${ca}`;ca=`${x} + ${f} * ${ca}`;c=`datum["${Nf.field}"]`;f={joinaggregate:Sf(Nf.field),groupby:xm};x={transform:[{filter:`(${Hj} <= ${c}) && (${c} <= ${ca})`},{aggregate:[{op:"min",field:Nf.field,
as:`lower_whisker_${Nf.field}`},{op:"max",field:Nf.field,as:`upper_whisker_${Nf.field}`},{op:"min",field:`lower_box_${Nf.field}`,as:`lower_box_${Nf.field}`},{op:"max",field:`upper_box_${Nf.field}`,as:`upper_box_${Nf.field}`},...Gm],groupby:xm}],layer:pd};cd=Object.assign({},cd);cd=(delete cd.tooltip,cd);const {scale:Am,axis:Im}=Nf;pd=hd(Nf);md=uc(Im,["title"]);d=qe(h,"outliers",d.boxplot,{transform:[{filter:`(${c} < ${Hj}) || (${c} > ${ca})`}],mark:"point",encoding:Object.assign({},{[Ii]:Object.assign({},
{field:Nf.field,type:Nf.type},void 0!==pd?{title:pd}:{},void 0!==Am?{scale:Am}:{},Qa(md)?{}:{axis:md})},cd,Jc?{color:Jc}:{},zm?{tooltip:zm}:{})})[0];h=[...ig,...Mf,f];d?d={transform:h,layer:[d,x]}:(d=x,d.transform.unshift(...h));return Object.assign({},a,{layer:[d,{transform:Xg,layer:D}]})}function Sf(c){return[{op:"q1",field:c,as:`lower_box_${c}`},{op:"q3",field:c,as:`upper_box_${c}`}]}function Yf(c,a){({config:a}=a);c=Object.assign({},c,{encoding:Jg(c.encoding,a)});const {transform:d,continuousAxisChannelDef:f,
continuousAxis:h,encodingWithoutContinuousAxis:x,ticksOrient:D,markDef:ca,outerSpec:ra,tooltipEncoding:Ia}=sg(c,"errorbar",a);delete x.size;c=ld(ca,h,f,x,a.errorbar);a=ca.thickness;var hb=ca.size;hb=Object.assign({},{type:"tick",orient:D,aria:!1},void 0!==a?{thickness:a}:{},void 0!==hb?{size:hb}:{});c=[...c({partName:"ticks",mark:hb,positionPrefix:"lower",extraEncoding:Ia}),...c({partName:"ticks",mark:hb,positionPrefix:"upper",extraEncoding:Ia}),...c({partName:"rule",mark:Object.assign({},{type:"rule",
ariaRoleDescription:"errorbar"},void 0!==a?{size:a}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Ia})];return Object.assign({},ra,{transform:d},1<c.length?{layer:c}:Object.assign({},c[0]))}function rg(c,a){var {encoding:d}=c;if(!(!Hc(d.x)&&!Hc(d.y)||Hc(d.x2)||Hc(d.y2)||Hc(d.xError)||Hc(d.xError2)||Hc(d.yError)||Hc(d.yError2)))return{orient:Gf(c,a),inputType:"raw"};var f=Hc(d.x2)||Hc(d.y2);var h=Hc(d.xError)||Hc(d.xError2)||Hc(d.yError)||Hc(d.yError2);c=d.x;const x=d.y;if(f){if(h)throw Error(`${a} cannot be both type aggregated-upper-lower and aggregated-error`);
f=d.x2;d=d.y2;if(Hc(f)&&Hc(d))throw Error(`${a} cannot have both x2 and y2`);if(Hc(f)){if(rc(c))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error(`Both x and x2 have to be quantitative in ${a}`);}if(Hc(d)){if(rc(x))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${a}`);}}else{f=d.xError;h=d.yError;const D=d.yError2;if(Hc(d.xError2)&&!Hc(f))throw Error(`${a} cannot have xError2 without xError`);if(Hc(D)&&!Hc(h))throw Error(`${a} cannot have yError2 without yError`);
if(Hc(f)&&Hc(h))throw Error(`${a} cannot have both xError and yError with both are quantiative`);if(Hc(f)){if(rc(c))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(Hc(h)){if(rc(x))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function sg(c,a,d){var f=Object.assign({},c),h=c.mark,x=c.encoding,
D=c.params;f=(delete f.mark,delete f.encoding,delete f.params,delete f.projection,f);h=Lc(h)?h:{type:h};D&&za(Vc(a));const {orient:ca,inputType:ra}=rg(c,a),{continuousAxisChannelDef:Ia,continuousAxisChannelDef2:hb,continuousAxisChannelDefError:Ob,continuousAxisChannelDefError2:tc,continuousAxis:md}=Pe(c,ca,a);c=[];D=[];var Jc=Ia.field,cd=!1;if("raw"===ra){var pd=h.center?h.center:h.extent?"iqr"===h.extent?"median":"mean":d.errorbar.center;var je=h.extent?h.extent:"mean"===pd?"stderr":"iqr";"median"===
pd!==("iqr"===je)&&za(`${pd} is not usually used with ${je} for ${a}.`);"stderr"===je||"stdev"===je?(c=[{op:je,field:Jc,as:`extent_${Jc}`},{op:pd,field:Jc,as:`center_${Jc}`}],D=[{calculate:`datum["center_${Jc}"] + datum["extent_${Jc}"]`,as:`upper_${Jc}`},{calculate:`datum["center_${Jc}"] - datum["extent_${Jc}"]`,as:`lower_${Jc}`}],Jc={fieldPrefix:"center_",titlePrefix:Pa(pd)},cd=je,cd={fieldPrefix:"upper_",titlePrefix:`${Pa(pd)} ${"+"} ${cd}`},a=je,a=`${Pa(pd)} ${"-"} ${a}`,pd=[Jc,cd,{fieldPrefix:"lower_",
titlePrefix:a}],cd=!0):("ci"===je?(a="mean",pd="ci0",je="ci1"):(a="median",pd="q1",je="q3"),c=[{op:pd,field:Jc,as:`lower_${Jc}`},{op:je,field:Jc,as:`upper_${Jc}`},{op:a,field:Jc,as:`center_${Jc}`}],pd=[{fieldPrefix:"upper_",titlePrefix:he({field:Jc,aggregate:je,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:he({field:Jc,aggregate:pd,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:he({field:Jc,aggregate:a,type:"quantitative"},d,{allowDisabling:!1})}])}else{if(h.center||
h.extent){a=h.center;var Nd=h.extent;za(`${Nd?"extent ":""}${Nd&&a?"and ":""}${a?"center ":""}${Nd&&a?"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===ra?(pd=[],D=[{calculate:`datum["${hb.field}"]`,as:`upper_${Jc}`},{calculate:`datum["${Jc}"]`,as:`lower_${Jc}`}]):"aggregated-error"===ra&&(pd=[{fieldPrefix:"",titlePrefix:Jc}],D=[{calculate:`datum["${Jc}"] + datum["${Ob.field}"]`,as:`upper_${Jc}`}],tc?D.push({calculate:`datum["${Jc}"] + datum["${tc.field}"]`,as:`lower_${Jc}`}):
D.push({calculate:`datum["${Jc}"] - datum["${Ob.field}"]`,as:`lower_${Jc}`}));for(je of D)pd.push({fieldPrefix:je.as.substring(0,6),titlePrefix:nb(nb(je.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:ve,postAggregateCalculates:Qe,tooltipSummary:gf,tooltipTitleWithFieldName:Wf}={postAggregateCalculates:D,errorBarSpecificAggregate:c,tooltipSummary:pd,tooltipTitleWithFieldName:cd};x=Object.assign({},x);c="x"===md?"x2":"y2";D="x"===md?"xError":"yError";Jc="x"===md?"xError2":"yError2";
x=(delete x[md],delete x[c],delete x[D],delete x[Jc],x);const {bins:Vf,timeUnits:ig,aggregate:Mf,groupby:Xg,encoding:Nf}=Kf(x,d);d=[...Mf,...ve];x="raw"!==ra?[]:Xg;c=Rb(gf,Ia,Nf,Wf);let Ii;return{transform:[...(null!=(Ii=f.transform)?Ii:[]),...Vf,...ig,...(0===d.length?[]:[{aggregate:d,groupby:x}]),...Qe],groupby:x,continuousAxisChannelDef:Ia,continuousAxis:md,encodingWithoutContinuousAxis:Nf,ticksOrient:"vertical"===ca?"horizontal":"vertical",markDef:h,outerSpec:f,tooltipEncoding:c}}function Qg(c,
a){({config:a}=a);c=Object.assign({},c,{encoding:Jg(c.encoding,a)});const {transform:d,continuousAxisChannelDef:f,continuousAxis:h,encodingWithoutContinuousAxis:x,markDef:D,outerSpec:ca,tooltipEncoding:ra}=sg(c,"errorband",a);a=ld(D,h,f,x,a.errorband);c=void 0!==c.encoding.x&&void 0!==c.encoding.y;let Ia={type:c?"area":"rect"},hb={type:c?"line":"rule"};const Ob=Object.assign({},D.interpolate?{interpolate:D.interpolate}:{},D.tension&&D.interpolate?{tension:D.tension}:{});c?(Ia=Object.assign({},Ia,
Ob,{ariaRoleDescription:"errorband"}),hb=Object.assign({},hb,Ob,{aria:!1})):D.interpolate?za(N("interpolate")):D.tension&&za(N("tension"));return Object.assign({},ca,{transform:d,layer:[...a({partName:"band",mark:Ia,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ra}),...a({partName:"borders",mark:hb,positionPrefix:"lower",extraEncoding:ra}),...a({partName:"borders",mark:hb,positionPrefix:"upper",extraEncoding:ra})]})}function fh(c,a,d){a=new qj(c,a);Vj[c]={normalizer:a,parts:d}}function jh(c){return"legend"===
c||!(null==c||!c.legend)}function Ce(c){return jh(c)&&P.isObject(c)}function Ge(c){return!(null==c||!c.select)}function Lf(c){const a=[];for(const h of c||[])if(!Ge(h)){var d=h,f=Object.assign({},d);c=d.expr;d=d.bind;f=(delete f.expr,delete f.bind,f);d&&c?(c=Object.assign({},f,{bind:d,init:c}),a.push(c)):(c=Object.assign({},f,c?{update:c}:{},d?{bind:d}:{}),a.push(c))}return a}function xf(c){let {step:a,offsetIsDiscrete:d}=c;if(d){let f;return null!=(f=a.for)?f:"offset"}return"position"}function of(c){return P.isObject(c)&&
void 0!==c.step}function Af(c){return c.view||c.width||c.height}function tg(c,a,d){const f={},{spacing:h,columns:x}=d[a];void 0!==h&&(f.spacing=h);void 0!==x&&("facet"in c&&!le(c.facet)||"concat"in c)&&(f.columns=x);"vconcat"in c&&(f.columns=1);for(const D of Sl)if(void 0!==c[D])if("spacing"===D){a=c[D];let ca,ra;f[D]=P.isNumber(a)?a:{row:null!=(ca=a.row)?ca:h,column:null!=(ra=a.column)?ra:h}}else f[D]=c[D];return f}function wg(c,a){let d;return null!=(d=c[a])?d:c["width"===a?"continuousWidth":"continuousHeight"]}
function fg(c,a){c=Bf(c,a);return of(c)?c.step:20}function Bf(c,a){let d;const f=null!=(d=c[a])?d:c["width"===a?"discreteWidth":"discreteHeight"];return Fa(f,{step:c.step})}function Rg(){let c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:P.isObject(c)?Object.assign({},Wj,c):Wj}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},
"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function gh(c){var a=
ie(c||{});const d={};for(const f of a)a=c[f],d[f]=Jf(a)?Ma(a):Vb(a);return d}function oh(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},c),d=c.color,f=c.font,h=c.fontSize;c=c.selection;a=(delete a.color,delete a.font,delete a.fontSize,delete a.selection,a);var x=P.mergeConfig,D=sf(rl);f=f?{text:{font:f},style:{"guide-label":{font:f},"guide-title":{font:f},"group-title":{font:f},"group-subtitle":{font:f}}}:{};d=d?Rg(d):{};h=h?{signals:[{name:"fontSize",value:P.isObject(h)?
Object.assign({},sl,h):sl}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};h=x.call(P,{},D,f,d,h,a||{});c&&P.writeConfig(h,"selection",c,!0);c=uc(h,Oh);for(var ca of["background","lineBreak","padding"])h[ca]&&(c[ca]=Vb(h[ca]));for(var ra of yj)h[ra]&&(c[ra]=sc(h[ra]));
for(var Ia of nh)h[Ia]&&(c[Ia]=gh(h[Ia]));for(const hb of Qh)h[hb]&&(c[hb]=sc(h[hb]));h.legend&&(c.legend=sc(h.legend));h.scale&&(c.scale=sc(h.scale));if(h.style){ca=h.style;ra=ie(ca);Ia={};for(const hb of ra)Ia[hb]=gh(ca[hb]);c.style=Ia}h.title&&(c.title=sc(h.title));h.view&&(c.view=sc(h.view));return c}function xg(c){c=sf(c);for(var a of Oe)delete c[a];if(c.axis)for(var d in c.axis)Jf(c.axis[d])&&delete c.axis[d];if(c.legend)for(var f of Pl)delete c.legend[f];if(c.mark){for(var h of Sk)delete c.mark[h];
c.mark.tooltip&&P.isObject(c.mark.tooltip)&&delete c.mark.tooltip}c.params&&(c.signals=(c.signals||[]).concat(Lf(c.params)),delete c.params);for(var x of Ul){for(const Ob of Sk)delete c[x][Ob];if(a=tl[x])for(const Ob of a)delete c[x][Ob];let hb=h=void 0;a=c;d=x;f=void 0;var D=a[d];"view"===d&&(f="cell");D=Object.assign({},D,a.style[null!=(hb=f)?hb:d]);Qa(D)||(a.style[null!=(h=f)?h:d]=D);delete a[d]}for(const hb of ie(Vj))delete c[hb];x=c;const {titleMarkConfig:ca,subtitleMarkConfig:ra,subtitle:Ia}=
xc(x.title);Qa(ca)||(x.style["group-title"]=Object.assign({},x.style["group-title"],ca));Qa(ra)||(x.style["group-subtitle"]=Object.assign({},x.style["group-subtitle"],ra));Qa(Ia)?delete x.title:x.title=Ia;for(const hb in c)P.isObject(c[hb])&&Qa(c[hb])&&delete c[hb];return Qa(c)?void 0:c}function zh(c){return vb(c)&&"quantitative"===pc(c)&&!c.bin}function yh(c,a,d){let {orient:f,type:h}=d;d="x"===a?"y":"radius";const x="x"===a;var D=c[a];c=c[d];if(vb(D)&&vb(c))if(zh(D)&&zh(c)){if(D.stack)return a;
if(c.stack)return d;D=vb(D)&&!!D.aggregate;c=vb(c)&&!!c.aggregate;if(D!==c)return D?a:d;if(x&&"bar"===h){if("vertical"===f)return d;if("horizontal"===f)return a}}else{if(zh(D))return a;if(zh(c))return d}else{if(zh(D))return a;if(zh(c))return d}}function Nh(c){switch(c){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function $g(c,a){var d=Lc(c)?c:{type:c};c=d.type;if(!Xl.has(c))return null;d=yh(a,"x",d)||yh(a,"theta",d);if(!d)return null;const f=a[d];
var h=vb(f)?wd(f,{}):void 0,x=Nh(d);const D=[],ca=new Set;if(a[x]){var ra=a[x];(ra=vb(ra)?wd(ra,{}):void 0)&&ra!==h&&(D.push(x),ca.add(ra));x="x"===x?"xOffset":"yOffset";ra=a[x];(ra=vb(ra)?wd(ra,{}):void 0)&&ra!==h&&(D.push(x),ca.add(ra))}h=jl.reduce((tc,md)=>{if("tooltip"!==md&&zf(a,md)){var Jc=a[md];for(const cd of P.array(Jc)){Jc=Ie(cd);if(Jc.aggregate)continue;const pd=wd(Jc,{});pd&&ca.has(pd)||tc.push({channel:md,fieldDef:Jc})}}return tc},[]);let Ia;void 0!==f.stack?Ia=P.isBoolean(f.stack)?f.stack?
"zero":null:f.stack:xk.has(c)&&(Ia="zero");if(!(Ia&&Ia in si)||wf(a)&&0===h.length)return null;let hb,Ob;if((null==f?0:null==(hb=f.scale)?0:hb.type)&&(null==f?void 0:null==(Ob=f.scale)?void 0:Ob.type)!==Cg.LINEAR)return(null==f?0:f.stack)&&za(`Cannot stack non-linear scale (${f.scale.type}).`),null;if(Hc(a[C(d)]))return void 0!==f.stack&&za(`Cannot stack "${d}" if there is already "${d}2".`),null;vb(f)&&f.aggregate&&!Xk.has(f.aggregate)&&za(`Stacking is applied even though the aggregate function is non-summative ("${f.aggregate}").`);
return{groupbyChannels:D,groupbyFields:ca,fieldChannel:d,impute:null===f.impute?!1:oc(c),stackBy:h,offset:Ia}}function ph(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=2<arguments.length?arguments[2]:void 0;if("transparent"===c.point)return{opacity:0};if(c.point)return P.isObject(c.point)?c.point:{};if(void 0!==c.point)return null;if(a.point||d.shape)return P.isObject(a.point)?a.point:{}}function Ah(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(c.line)return!0===
c.line?{}:c.line;if(void 0!==c.line)return null;if(a.line)return!0===a.line?{}:a.line}function bi(c,a){return a?Fh(c,a):c}function Vg(c,a,d){const f=a[c];if(f&&!P.isString(f)&&"repeat"in f){if(f.repeat in d)return Object.assign({},a,{[c]:d[f.repeat]});za(`Unknown repeated value "${f.repeat}".`)}else return a}function qh(c,a){c=Vg("field",c,a);if(void 0!==c){if(null===c)return null;"sort"in c&&Vd(c.sort)&&(a=Vg("field",c.sort,a),c=Object.assign({},c,a?{sort:a}:{}));return c}}function Ei(c,a){if(vb(c))return qh(c,
a);a=Vg("datum",c,a);a===c||a.type||(a.type="nominal");return a}function Kg(c,a){if(Hc(c)){if(a=Ei(c,a))return a;if(ta(c))return{condition:c.condition}}else{if(jb(c)){if(a=Ei(c.condition,a))return Object.assign({},c,{condition:a});c=Object.assign({},c);return delete c.condition,c}return c}}function Fh(c,a){const d={};for(const h in c)if(P.hasOwnProperty(c,h)){var f=c[h];P.isArray(f)?d[h]=f.map(x=>Kg(x,a)).filter(x=>x):(f=Kg(f,a),void 0!==f&&(d[h]=f))}return d}function Uh(c){let {parentEncoding:a,
encoding:d={},layer:f}=c;c={};if(a){var h=new Set([...ie(a),...ie(d)]);for(const x of h){h=d[x];const D=a[x];if(Hc(h))h=Object.assign({},D,h),c[x]=h;else if(jb(h))c[x]=Object.assign({},h,{condition:Object.assign({},D,h.condition)});else if(h||null===h)c[x]=h;else if(f||yd(D)||Zb(D)||Hc(D)||P.isArray(D))c[x]=D}}else c=d;return!c||Qa(c)?void 0:c}function Sg(c){const {parentProjection:a,projection:d}=c;if(a&&d){const {parentProjection:f,projection:h}={parentProjection:a,projection:d};c=`Layer's shared projection ${Bg(f)} is overridden by a child projection ${Bg(h)}.`;
za(c)}return null!=d?d:a}function kh(c){return c.map(a=>"filter"in a?{filter:ac(a.filter,Sa)}:a)}function rh(c,a){var d=Object.assign({},c);const f=c.transform;d=(delete d.transform,d);return f?(c=f.map(h=>{if("filter"in h)return{filter:Gh(h,a)};if("bin"in h&&P.isObject(h.bin))return Object.assign({},h,{bin:Gg(h.bin)});if("lookup"in h){var x=h.from,D=Object.assign({},x);x=x.selection;D=(delete D.selection,D);return x?Object.assign({},h,{from:Object.assign({},{param:x},D)}):h}return h}),Object.assign({},
d,{transform:c})):c}function Bh(c,a){c=sf(c);vb(c)&&P.isObject(c.bin)&&(c.bin=Gg(c.bin));var d,f;Dd(c)&&(null==(d=c.scale)?0:null==(f=d.domain)?0:f.selection)&&(f=c.scale.domain,d=Object.assign({},f),f=f.selection,d=(delete d.selection,d),c.scale.domain=Object.assign({},d,f?{param:f}:{}));ta(c)&&(P.isArray(c.condition)?c.condition=c.condition.map(h=>{var x=Object.assign({},h);const D=h.param;x=(delete x.selection,delete x.param,delete x.test,x);return D?h:Object.assign({},x,{test:Gh(h,a)})}):(f=Bh(c.condition,
a),d=Object.assign({},f),f=f.param,d=(delete d.selection,delete d.param,delete d.test,d),c.condition=f?c.condition:Object.assign({},d,{test:Gh(c.condition,a)})));return c}function Gg(c){var a=c.extent;if(null==a?0:a.selection){var d=Object.assign({},a);a=a.selection;d=(delete d.selection,d);return Object.assign({},c,{extent:Object.assign({},d,{param:a})})}return c}function Gh(c,a){const d=f=>ac(f,h=>{var x;const D=null!=(x=a.emptySelections[h])?x:!0;x={param:h,empty:D};let ca;null!=(ca=a.selectionPredicates)[h]||
(ca[h]=[]);a.selectionPredicates[h].push(x);return x});return c.selection?d(c.selection):ac(c.test||c.filter,f=>f.selection?d(f.selection):f)}function Ch(c,a){void 0===a&&(a=oh(c.config));const d=Hh(c,a),{width:f,height:h}=c;{let {width:x,height:D}={width:f,height:h,autosize:c.autosize};c=yf(d)||"layer"in d;const ca={};c?"container"==x&&"container"==D?(ca.type="fit",ca.contains="padding"):"container"==x?(ca.type="fit-x",ca.contains="padding"):"container"==D&&(ca.type="fit-y",ca.contains="padding"):
("container"==x&&(za(kb("width")),x=void 0),"container"==D&&(za(kb("height")),D=void 0));a=Object.assign({},{type:"pad"},ca,a?Wh(a.autosize):{},Wh(d.autosize));"fit"!==a.type||c||(za('Autosize "fit" only works for single views and layered views.'),a.type="pad");"container"==x&&"fit"!=a.type&&"fit-x"!=a.type&&za(Gb("width"));"container"==D&&"fit"!=a.type&&"fit-y"!=a.type&&za(Gb("height"));a=ei(a,{type:"pad"})?void 0:a}return Object.assign({},d,a?{autosize:a}:{})}function Hh(c){const a={config:1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{}};return Cj.map(Ih.map(ai.map(c,a),a),a)}function Wh(c){return P.isString(c)?{type:c}:null!=c?c:{}}function Xh(c,a){const d={};for(const f of sh)c&&void 0!==c[f]&&(d[f]=Vb(c[f]));a&&(d.params=c.params);return d}function yg(c){return{explicit:!0,value:c}}function zg(c){return{explicit:!1,value:c}}function Zf(c){return(a,d,f,h)=>{const x=c(a.value,d.value);return 0<x?a:0>x?d:lh(a,d,f,h)}}function lh(c,a,d,f){if(c.explicit&&a.explicit){var h=c.value;a=a.value;d=`Conflicting ${f.toString()} property "${d.toString()}" (${Bg(h)} and ${Bg(a)}). Using ${Bg(h)}.`;
za(d)}return c}function ug(c,a,d,f){let h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:lh;return void 0===c||void 0===c.value?a:c.explicit&&!a.explicit?c:a.explicit&&!c.explicit?a:ei(c.value,a.value)?c:h(c,a,d,f)}function Df(c){return"name"in c&&!("url"in c)&&!("values"in c)&&!mh(c)}function mh(c){return c&&("sequence"in c||"sphere"in c||"graticule"in c)}function Lg(c){c=Object.assign({},c);c=(delete c.signals,delete c.hasLegend,delete c.index,c);c.field=Wb(c.field);return c}function Pf(c){let a=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:P.identity;if(P.isArray(c)){const f=c.map(h=>Pf(h,a,d));return a?`[${f.join(", ")}]`:f}return Ib(c)?a?d(Gc(c)):d(id(c)):a?d(Bg(c)):c}function S(c,a){c.component.selection&&ie(c.component.selection).length&&(c=P.stringValue(c.getName("cell")),a.unshift({name:"facet",value:{},on:[{events:P.parseSelector("mousemove","scope"),update:`isTuple(facet) ? facet : group(${c}).datum`}]}));return ja(a)}
function xa(c,a){var d=!1,f;for(const h of wh(null!=(f=c.component.selection)?f:{})){const x=h.name;d=P.stringValue(x+"_store");0===a.filter(D=>D.name===x).length&&(f="point"===h.type?", true, true)":")",a.push({name:h.name,update:`${"vlSelectionResolve"}(${d}, ${P.stringValue("global"===h.resolve?"union":h.resolve)}${f}`}));d=!0;for(const D of dj)D.defined(h)&&D.topLevelSignals&&(a=D.topLevelSignals(c,h,a))}d&&0===a.filter(h=>"unit"===h.name).length&&a.unshift({name:"unit",value:{},on:[{events:"mousemove",
update:"isTuple(group()) ? group() : unit"}]});return ja(a)}function Ta(c,a){a=[...a];const d=Uf(c,{escape:!1});let f;for(const h of wh(null!=(f=c.component.selection)?f:{})){c={name:h.name+"_store"};h.project.hasSelectionId&&(c.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(h.init){const x=h.project.items.map(Lg);c.values=h.project.hasSelectionId?h.init.map(D=>({unit:d,_vgsid_:Pf(D,!1)[0]})):h.init.map(D=>({unit:d,fields:x,values:Pf(D,!1)}))}a.filter(x=>x.name===h.name+"_store").length||
a.push(c)}return a}function p(c,a){let d;for(const f of wh(null!=(d=c.component.selection)?d:{}))for(const h of dj)h.defined(f)&&h.marks&&(a=h.marks(c,f,a));return a}function R(c,a){for(const d of c.children)Ig(d)&&(a=p(d,a));return a}function ja(c){return c.map(a=>{a.on&&!a.on.length&&delete a.on;return a})}function wa(c,a){return`domain(${P.stringValue(c.scaleName(a))})`}function r(c){let a;return c.parent&&Ui(c.parent)&&(null!=(a=!c.parent.parent)?a:r(c.parent.parent))}function G(c,a,d,f){var h=
!c.hasProjection,x=d.channel;const D=d.signals.visual,ca=P.stringValue(h?c.scaleName(x):c.projectionName());var ra=tc=>`scale(${ca}, ${tc})`;const Ia=c.getSizeSignalRef("x"===x?"width":"height").signal,hb=`${x}(unit)`,Ob=a.events.reduce((tc,md)=>[...tc,{events:md.between[0],update:`[${hb}, ${hb}]`},{events:md,update:`[${D}[0], clamp(${hb}, 0, ${Ia})]`}],[]);if(h)return d=d.signals.data,h=Vh.defined(a),c=(c=c.getScaleComponent(x))?c.get("type"):void 0,x=f?{init:Pf(f,!0,ra)}:{value:[]},Ob.push({events:{signal:a.name+
"_scale_trigger"},update:gd(c)?`[${ra(`${d}[0]`)}, ${ra(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[Object.assign({},{name:D},x,{on:Ob}),Object.assign({},{name:d},f?{init:Pf(f)}:{},{on:[{events:{signal:D},update:`${D}[0] === ${D}[1] ? null : invert(${ca}, ${D})`}]})];ra="x"===x?0:1;a=a.name+"_init";return[Object.assign({},{name:D},f?{init:`[${a}[0][${ra}], ${a}[1][${ra}]]`}:{value:[]},{on:Ob})]}function ia(c,a,d,f){var h=ta(a)&&a.condition;a=f(a);return h?(h=P.array(h).map(x=>{const D=f(x);if(x.param){const {param:ca,
empty:ra}=x;x=Ci(c,{param:ca,empty:ra});return Object.assign({},{test:x},D)}x=ri(c,x.test);return Object.assign({},{test:x},D)}),{[d]:[...h,...(void 0!==a?[a]:[])]}):void 0!==a?{[d]:a}:{}}function l(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return ia(c,c.encoding[a],a,d=>z(d,c.config))}function z(c,a){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(c){if(yd(c))return Tb(c.value);if(Hc(c)){const {format:f,formatType:h}=lf(c);return Le({fieldOrDatumDef:c,
format:f,formatType:h,expr:d,config:a})}}}function da(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:d,markDef:f,config:h,stack:x}=c,D=d.tooltip;if(P.isArray(D))return{tooltip:Va({tooltip:D},x,h,a)};const ca=a.reactiveGeom?"datum.datum":"datum";return ia(c,D,"tooltip",ra=>{const Ia=z(ra,h,ca);if(Ia)return Ia;if(null!==ra){ra=zc("tooltip",f,h);!0===ra&&(ra={content:"encoding"});if(P.isString(ra))return{value:ra};if(P.isObject(ra))return Zb(ra)?ra:"encoding"===ra.content?
Va(d,x,h,a):{signal:ca}}})}function oa(c,a,d){function f(Ia,hb){var Ob=u(hb);Ia=$c(Ia)?Ia:Object.assign({},Ia,{type:c[Ob].type});Ob=Ia.title||Fg(Ia,x);Ob=P.array(Ob).join(", ");if(V(hb)){const Jc="x"===hb?"x2":"y2";var tc=Ie(c[Jc]);if(Ca(Ia.bin)&&tc){var md=wd(Ia,{expr:ca});tc=wd(tc,{expr:ca});const {format:cd,formatType:pd}=lf(Ia);md=Jd(md,tc,cd,pd,x);D[Jc]=!0}}if((V(hb)||"theta"===hb||"radius"===hb)&&a&&a.fieldChannel===hb&&"normalize"===a.offset){const {format:Jc,formatType:cd}=lf(Ia);md=Le({fieldOrDatumDef:Ia,
format:Jc,formatType:cd,expr:ca,config:x,normalizeStack:!0}).signal}null!=md||(md=z(Ia,x,ca).signal);ra.push({channel:hb,key:Ob,value:md})}var {reactiveGeom:h}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const x=Object.assign({},d,d.tooltipFormat),D={},ca=h?"datum.datum":"datum",ra=[];Ug(c,(Ia,hb)=>{vb(Ia)?f(Ia,hb):Ja(Ia)&&f(Ia.condition,hb)});h={};for(const Ia of ra){const {channel:hb,key:Ob,value:tc}=Ia;D[hb]||h[Ob]||(h[Ob]=tc)}return h}function Va(c,a,d){var {reactiveGeom:f}=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{};f=oa(c,a,d,{reactiveGeom:f});f=Ki(f).map(h=>{let [x,D]=h;return`"${x}": ${D}`});return 0<f.length?{signal:`{${f.join(", ")}}`}:void 0}function Ya(c){const {encoding:a,markDef:d,config:f,stack:h}=c;var x=a.description;if(x)return ia(c,x,"description",D=>z(D,c.config));x=zc("description",d,f);if(null!=x)return{description:Tb(x)};if(!1===f.aria)return{};x=oa(a,h,f);if(!Qa(x))return{description:{signal:Ki(x).map((D,ca)=>{let [ra,Ia]=D;return`"${0<ca?"; ":""}${ra}: " + (${Ia})`}).join(" + ")}}}
function Bb(c,a){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:f,encoding:h,config:x}=a,{vgChannel:D}=d;let {defaultRef:ca,defaultValue:ra}=d;void 0===ca&&(null!=ra||(ra=zc(c,f,x,{vgChannel:D,ignoreVgConfig:!0})),void 0!==ra&&(ca=Tb(ra)));return ia(a,h[c],null!=D?D:c,Ia=>Cd({channel:c,channelDef:Ia,markDef:f,config:x,scaleName:a.scaleName(c),scale:a.getScaleComponent(c),stack:null,defaultRef:ca}))}function hc(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{filled:void 0};const {markDef:d,encoding:f,config:h}=c;var {type:x}=d,D;a=null!=(D=a.filled)?D:zc("filled",d,h);D=Yb(["bar","point","circle","square","geoshape"],x)?"transparent":void 0;var ca,ra;x=null!=(ra=null!=(ca=zc(!0===a?"color":void 0,d,h,{vgChannel:"fill"}))?ca:h.mark[!0===a&&"color"])?ra:D;var Ia;ca=null!=(Ia=zc(!1===a?"color":void 0,d,h,{vgChannel:"stroke"}))?Ia:h.mark[!1===a&&"color"];Ia=a?"fill":"stroke";ra=Object.assign({},x?{fill:Tb(x)}:{},ca?{stroke:Tb(ca)}:{});d.color&&(a?d.fill:
d.stroke)&&za(Td("property",{fill:"fill"in d,stroke:"stroke"in d}));return Object.assign({},ra,Bb("color",c,{vgChannel:Ia,defaultValue:a?x:ca}),Bb("fill",c,{defaultValue:f.fill?x:void 0}),Bb("stroke",c,{defaultValue:f.stroke?ca:void 0}))}function Ub(c){const {encoding:a,mark:d}=c,f=a.order;return!oc(d)&&yd(f)?ia(c,f,"zindex",h=>Tb(h.value)):{}}function Ad(c){let {channel:a,markDef:d,encoding:f={},model:h,bandPosition:x}=c;c=`${a}Offset`;const D=d[c],ca=f[c];return"xOffset"!==c&&"yOffset"!==c||!ca?
(c=d[c])?{offsetType:"visual",offset:c}:{}:{offsetType:"encoding",offset:Cd({channel:c,channelDef:ca,markDef:d,config:null==h?void 0:h.config,scaleName:h.scaleName(c),scale:h.getScaleComponent(c),stack:null,defaultRef:Tb(D),bandPosition:x})}}function Rc(c,a,d){let {defaultPos:f,vgChannel:h}=d;const {encoding:x,markDef:D,config:ca,stack:ra}=a;d=x[c];const Ia=x[C(c)],hb=a.scaleName(c),Ob=a.getScaleComponent(c),{offset:tc,offsetType:md}=Ad({channel:c,markDef:D,encoding:x,model:a,bandPosition:.5}),Jc=
Rd({model:a,defaultPos:f,channel:c,scaleName:hb,scale:Ob});if(!d&&V(c)&&(x.latitude||x.longitude))a={field:a.getName(c)};else a:{a={channel:c,channelDef:d,channel2Def:Ia,markDef:D,config:ca,scaleName:hb,scale:Ob,stack:ra,offset:tc,defaultRef:Jc,bandPosition:"encoding"===md?0:void 0};const {channel:cd,channelDef:pd,scaleName:je,stack:Nd,offset:ve,markDef:Qe}=a;if(Hc(pd)&&Nd&&cd===Nd.fieldChannel){if(vb(pd)&&(a=pd.bandPosition,void 0!==a||"text"!==Qe.type||"radius"!==cd&&"theta"!==cd||(a=.5),void 0!==
a)){a=Od({scaleName:je,fieldOrDatumDef:pd,startSuffix:"start",bandPosition:a,offset:ve});break a}a=jd(pd,je,{suffix:"end"},{offset:ve})}else a=Qc(a)}return a?{[h||c]:a}:void 0}function Rd(c){let {model:a,defaultPos:d,channel:f,scaleName:h,scale:x}=c;const {markDef:D,config:ca}=a;return()=>{var ra=u(f),Ia=m(f);Ia=zc(f,D,ca,{vgChannel:Ia});if(void 0!==Ia)return be(f,Ia);switch(d){case "zeroOrMin":case "zeroOrMax":if(h&&(Ia=x.get("type"),!Yb([Cg.LOG,Cg.TIME,Cg.UTC],Ia)&&x.domainDefinitelyIncludesZero()))return{scale:h,
value:0};if("zeroOrMin"===d)return"y"===ra?{field:{group:"height"}}:{value:0};switch(ra){case "radius":return{signal:`min(${a.width.signal},${a.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return ra=a[B(f)],Object.assign({},ra,{mult:.5})}}}function we(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===c||"theta"===c)return m(c);var h="x"===c?"align":"baseline";const x=
zc(h,a,d);Zb(x)?(za(`The ${h} for range marks cannot be an expression`),h=void 0):h=x;return"x"===c?Pi[h||("top"===f?"left":"center")]:vk[h||f]}function He(c,a,d){let {defaultPos:f,defaultPos2:h,range:x}=d;return x?ue(c,a,{defaultPos:f,defaultPos2:h}):Rc(c,a,{defaultPos:f})}function ue(c,a,d){let {defaultPos:f,defaultPos2:h}=d;const {markDef:x,config:D}=a;var ca=C(c);d=B(c);{const {encoding:tc,mark:md,markDef:Jc,stack:cd,config:pd}=a;var ra=u(ca),Ia=B(ca);const je=m(ca);var hb=tc[ra],Ob=a.scaleName(ra);
const Nd=a.getScaleComponent(ra);({offset:ra}=ca in tc||ca in Jc?Ad({channel:ca,markDef:Jc,encoding:tc,model:a}):Ad({channel:ra,markDef:Jc,encoding:tc,model:a}));if(hb||"x2"!==ca&&"y2"!==ca||!tc.latitude&&!tc.longitude){let {channel:ve,channelDef:Qe,channel2Def:gf,markDef:Wf,config:Vf,scaleName:ig,scale:Mf,stack:Xg,offset:Nf,defaultRef:Ii}={channel:ca,channelDef:hb,channel2Def:tc[ca],markDef:Jc,config:pd,scaleName:Ob,scale:Nd,stack:cd,offset:ra,defaultRef:void 0};hb=Hc(Qe)&&Xg&&ve.charAt(0)===Xg.fieldChannel.charAt(0)?
jd(Qe,ig,{suffix:"start"},{offset:Nf}):Qc({channel:ve,channelDef:gf,scaleName:ig,scale:Mf,stack:Xg,markDef:Wf,config:Vf,offset:Nf,defaultRef:Ii});ca=void 0!==hb?{[je]:hb}:Se(ca,Jc)||Se(ca,{[ca]:Md(ca,Jc,pd.style),[Ia]:Md(Ia,Jc,pd.style)})||Se(ca,pd[md])||Se(ca,pd.mark)||{[je]:Rd({model:a,defaultPos:h,channel:ca,scaleName:Ob,scale:Nd})()}}else Ia=B(ca),Ob=a.markDef[Ia],ca=null!=Ob?{[Ia]:{value:Ob}}:{[je]:{field:a.getName(ca)}}}d=ca[d]?we(c,x,D):m(c);return Object.assign({},Rc(c,a,{defaultPos:f,vgChannel:d}),
ca)}function Se(c,a){const d=B(c),f=m(c);if(void 0!==a[f])return{[f]:be(c,a[f])};if(void 0!==a[c])return{[f]:be(c,a[c])};if(a[d])if(a=a[d],Wc(a))za(`Position range does not support relative band size for ${d}.`);else return{[d]:be(c,a)}}function pf(c,a){const {config:d,encoding:f,markDef:h}=c;var x=h.type,D=C(a),ca=B(a),ra=f[a];D=f[D];var Ia=c.getScaleComponent(a);Ia=Ia?Ia.get("type"):void 0;const hb=h.orient;var Ob;let tc;const md=null!=(tc=null!=(Ob=f[ca])?Ob:f.size)?tc:zc("size",h,d,{vgChannel:ca});
ca=A(a);x="bar"===x&&("x"===a?"vertical"===hb:"horizontal"===hb);if(!vb(ra)||!(X(ra.bin)||Ca(ra.bin)||ra.timeUnit&&!D)||md&&!Wc(md)||f[ca]||Tc(Ia)){if((Hc(ra)&&Tc(Ia)||x)&&!D){var Jc;{const {markDef:ve,encoding:Qe,config:gf,stack:Wf}=c;x=ve.orient;var cd=c.scaleName(a),pd=c.getScaleComponent(a),je=B(a),Nd=C(a);D=A(a);D=c.scaleName(D);ca=c.getScaleComponent(E(a));x="horizontal"===x&&"y"===a||"vertical"===x&&"x"===a;if(Qe.size||ve.size)x?Jc=Bb("size",c,{vgChannel:je,defaultRef:Tb(ve.size)}):za(`Cannot apply size to non-oriented mark "${ve.type}".`);
Ia=!!Jc;x=I({channel:a,fieldDef:ra,markDef:ve,config:gf,scaleType:null==pd?void 0:pd.get("type"),useVlSizeChannel:x});Jc=Jc||{[je]:Tg(je,D||cd,ca||pd,gf,x,!!ra,ve.type)};D="band"===(null==pd?void 0:pd.get("type"))&&Wc(x)&&!Ia?"top":"middle";D=we(a,ve,gf,D);ca="xc"===D||"yc"===D;const {offset:Vf,offsetType:ig}=Ad({channel:a,markDef:ve,encoding:Qe,model:c,bandPosition:ca?.5:0});c=Qc({channel:a,channelDef:ra,markDef:ve,config:gf,scaleName:cd,scale:pd,stack:Wf,offset:Vf,defaultRef:Rd({model:c,defaultPos:"mid",
channel:a,scaleName:cd,scale:pd}),bandPosition:ca?"encoding"===ig?0:.5:Zb(x)?{signal:`(1-${x})/2`}:Wc(x)?(1-x.band)/2:0});je?Jc=Object.assign({},{[D]:c},Jc):(a=m(Nd),Jc=Jc[je],Jc=Vf?Object.assign({},Jc,{offset:Vf}):Jc,Jc={[D]:c,[a]:P.isArray(c)?[c[0],Object.assign({},c[1],{offset:Jc})]:Object.assign({},c,{offset:Jc})})}return Jc}return ue(a,c,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:ve,fieldDef2:Qe,channel:gf,model:Wf}={fieldDef:ra,fieldDef2:D,channel:a,model:c};const {config:Vf,
markDef:ig,encoding:Mf}=Wf;c=Wf.getScaleComponent(gf);Jc=Wf.scaleName(gf);a=c?c.get("type"):void 0;c=c.get("reverse");a=I({channel:gf,fieldDef:ve,markDef:ig,config:Vf,scaleType:a});ra=null!=(pd=null==(cd=null==(Nd=Wf.component.axes[gf])?void 0:Nd[0])?void 0:cd.get("translate"))?pd:.5;pd=V(gf)?null!=(je=zc("binSpacing",ig,Vf))?je:0:0;je=C(gf);Nd=m(gf);cd=m(je);D=Zc("minBandSize",ig,Vf);({offset:ca}=Ad({channel:gf,markDef:ig,encoding:Mf,model:Wf,bandPosition:0}));({offset:Ia}=Ad({channel:je,markDef:ig,
encoding:Mf,model:Wf,bandPosition:0}));let {scaleName:Xg,fieldDef:Nf}={fieldDef:ve,scaleName:Jc};x=wd(Nf,{expr:"datum"});Ob=wd(Nf,{expr:"datum",suffix:"end"});Ob=`abs(scale("${Xg}", ${Ob}) - scale("${Xg}", ${x}))`;x=ff(gf,pd,c,ra,ca,D,Ob);c=ff(je,pd,c,ra,null!=Ia?Ia:ca,D,Ob);a=Zb(a)?{signal:`(1-${a.signal})/2`}:Wc(a)?(1-a.band)/2:.5;if(X(ve.bin)||ve.timeUnit)Jc={[cd]:$e({fieldDef:ve,scaleName:Jc,bandPosition:a,offset:c}),[Nd]:$e({fieldDef:ve,scaleName:Jc,bandPosition:Zb(a)?{signal:`1-${a.signal}`}:
1-a,offset:x})};else{if(Ca(ve.bin)){c=jd(ve,Jc,{},{offset:c});if(vb(Qe)){Jc={[cd]:c,[Nd]:jd(Qe,Jc,{},{offset:x})};break a}if(P.isObject(ve.bin)&&ve.bin.step){Jc={[cd]:c,[Nd]:{signal:`scale("${Jc}", ${wd(ve,{expr:"datum"})} + ${ve.bin.step})`,offset:x}};break a}}za(la(je));Jc=void 0}}return Jc}function Tg(c,a,d,f,h,x,D){if(Wc(h))if(d){const ca=d.get("type");if("band"===ca)return c=`bandwidth('${a}')`,1!==h.band&&(c=`${h.band} * ${c}`),f=Zc("minBandSize",{type:D},f),{signal:f?`max(${cc(f)}, ${c})`:
c};1!==h.band&&za(`Cannot use the relative band size with ${ca} scale.`)}else return{mult:h.band,field:{group:c}};else{if(Zb(h))return h;if(h)return{value:h}}if(d&&(h=d.get("range"),Sc(h)&&P.isNumber(h.step)))return{value:h.step-2};if(!x){const {bandPaddingInner:ca,barBandPaddingInner:ra,rectBandPaddingInner:Ia}=f.scale;D=Fa(ca,"bar"===D?ra:Ia);if(Zb(D))return{signal:`(1 - (${D.signal})) * ${c}`};if(P.isNumber(D))return{signal:`${1-D} * ${c}`}}return{value:fg(f.view,c)-2}}function ff(c,a,d,f,h,x,
D){if(c in Jk)return 0;a=(c="x"===c||"y2"===c)?-a/2:a/2;if(Zb(d)||Zb(h)||Zb(f)||x){d=cc(d);h=cc(h);f=cc(f);const ca=cc(x);x=x?`(${D} < ${ca} ? ${c?"":"-"}0.5 * (${ca} - (${D})) : ${a})`:a;return{signal:(f?`${f} + `:"")+(d?`(${d} ? -1 : 1) * `:"")+(h?`(${h} + ${x})`:x)}}h=h||0;return f+(d?-h-a:+h+a)}function $e(c){let {fieldDef:a,scaleName:d,bandPosition:f,offset:h}=c;return Od({scaleName:d,fieldOrDatumDef:a,bandPosition:f,offset:h})}function Ef(c,a){const {fill:d,stroke:f}="include"===a.color?hc(c):
{};var h=Object,x=h.assign;a=gg(c.markDef,a);var D=Dh(c,"fill",d),ca=Dh(c,"stroke",f),ra=Bb("opacity",c),Ia=Bb("fillOpacity",c),hb=Bb("strokeOpacity",c),Ob=Bb("strokeWidth",c),tc=Bb("strokeDash",c),md=Ub(c),Jc=da(c),cd=l(c,"href");{const {markDef:ve,config:Qe}=c,gf=zc("aria",ve,Qe);if(!1===gf)c={};else{var pd=Object,je=pd.assign;{const {mark:Wf,markDef:Vf,config:ig}=c;if(!1===ig.aria)var Nd={};else Nd=zc("ariaRoleDescription",Vf,ig),Nd=null!=Nd?{ariaRoleDescription:{value:Nd}}:Wf in Wl?{}:{ariaRoleDescription:{value:Wf}}}c=
je.call(pd,{},gf?{aria:gf}:{},Nd,Ya(c))}}return x.call(h,{},a,D,ca,ra,Ia,hb,Ob,tc,md,Jc,cd,c)}function Dh(c,a,d){const {config:f,mark:h,markDef:x}=c;return"hide"===zc("invalid",x,f)&&d&&!oc(h)&&(c=Qf(c,{invalid:!0,channels:bj}))?{[a]:[{test:c,value:null},...P.array(d)]}:d?{[a]:d}:{}}function gg(c,a){return wl.reduce((d,f)=>{Rk.has(f)||void 0===c[f]||"ignore"===a[f]||(d[f]=Tb(c[f]));return d},{})}function Qf(c,a){let {invalid:d=!1,channels:f}=a;a=f.reduce((h,x)=>{var D=c.getScaleComponent(x);D&&(D=
D.get("type"),(x=c.vgField(x,{expr:"datum"}))&&gd(D)&&(h[x]=!0));return h},{});a=ie(a);if(0<a.length){const h=d?"||":"\x26\x26";return a.map(x=>sd(x,d)).join(` ${h} `)}}function nf(c){const {config:a,markDef:d}=c;return zc("invalid",d,a)&&(c=Tf(c,{channels:pi}))?{defined:{signal:c}}:{}}function Tf(c,a){let {invalid:d=!1,channels:f}=a;a=f.reduce((h,x)=>{var D=c.getScaleComponent(x);if(D){D=D.get("type");let ca;(x=c.vgField(x,{expr:"datum",binSuffix:(null==(ca=c.stack)?0:ca.impute)?"mid":void 0}))&&
gd(D)&&(h[x]=!0)}return h},{});a=ie(a);if(0<a.length){const h=d?"||":"\x26\x26";return a.map(x=>sd(x,d)).join(` ${h} `)}}function Rf(c,a){if(void 0!==a)return{[c]:Tb(a)}}function Of(c,a,d,f,h){var x=a.name,D=x+"_translate_anchor";x+="_translate_delta";var ca=d.channel;const ra=Vh.defined(a);a=h.filter(md=>md.name===d.signals[ra?"data":"visual"])[0];f=c.getSizeSignalRef(f).signal;h=(c=c.getScaleComponent(ca))&&c.get("type");var Ia=c&&c.get("reverse");D=`${D}.extent_${ca}`;ca=`${ra?"x"===ca?Ia?"":"-":
Ia?"-":"":""}${x}.${ca} / ${ra?`${f}`:`span(${D})`}`;Ia=ra&&c?"log"===h?"panLog":"symlog"===h?"panSymlog":"pow"===h?"panPow":"panLinear":"panLinear";var hb;let Ob;const tc=ra?"pow"===h?`, ${null!=(hb=c.get("exponent"))?hb:1}`:"symlog"===h?`, ${null!=(Ob=c.get("constant"))?Ob:1}`:"":"";hb=`${Ia}(${D}, ${ca}${tc})`;a.on.push({events:{signal:x},update:ra?hb:`clampRange(${hb}, 0, ${f})`})}function Wg(c,a,d,f,h){var x=a.name,D=d.channel;const ca=Vh.defined(a);a=h.filter(md=>md.name===d.signals[ca?"data":
"visual"])[0];f=c.getSizeSignalRef(f).signal;const ra=(h=c.getScaleComponent(D))&&h.get("type"),Ia=ca?wa(c,D):a.name;c=x+"_zoom_delta";x=`${x}${"_zoom_anchor"}.${D}`;D=ca&&h?"log"===ra?"zoomLog":"symlog"===ra?"zoomSymlog":"pow"===ra?"zoomPow":"zoomLinear":"zoomLinear";var hb;let Ob;const tc=ca?"pow"===ra?`, ${null!=(hb=h.get("exponent"))?hb:1}`:"symlog"===ra?`, ${null!=(Ob=h.get("constant"))?Ob:1}`:"":"";hb=`${D}(${Ia}, ${x}, ${c}${tc})`;a.on.push({events:{signal:c},update:ca?hb:`clampRange(${hb}, 0, ${f})`})}
function Uf(c){var {escape:a}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};a=a?P.stringValue(c.name):c.name;var d;for(d=c.parent;d&&!Rh(d);)d=d.parent;if(d){const {facet:f}=d;for(const h of ci)f[h]&&(a+=` + '__facet_${h}_' + (facet[${P.stringValue(d.vgField(h))}])`)}return a}function vh(c){let a;return wh(null!=(a=c.component.selection)?a:{}).reduce((d,f)=>d||f.project.hasSelectionId,!1)}function mg(c,a){!P.isString(a.select)&&a.select.on||delete c.events;!P.isString(a.select)&&
a.select.clear||delete c.clear;!P.isString(a.select)&&a.select.toggle||delete c.toggle}function hh(c){const a=[];if("Identifier"===c.type)return[c.name];if("Literal"===c.type)return[c.value];"MemberExpression"===c.type&&(a.push(...hh(c.object)),a.push(...hh(c.property)));return a}function Ag(c){return"MemberExpression"===c.object.type?Ag(c.object):"datum"===c.object.name}function $h(c){c=P.parseExpression(c);const a=new Set;c.visit(d=>{"MemberExpression"===d.type&&Ag(d)&&a.add(hh(d).slice(1).join("."))});
return a}function Ci(c,a,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",h=P.isString(a)?a:a.param,x=Ka(h),D=P.stringValue(x+"_store");try{var ca=c.getSelectionComponent(x,h)}catch(ra){return`!!${x}`}ca.project.timeUnit&&(h=null!=d?d:c.component.data.raw,x=ca.project.timeUnit.clone(),h.parent?x.insertAsParentOf(h):h.parent=x);h=ca.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";ca="global"===ca.resolve?")":`, ${P.stringValue(ca.resolve)})`;f=`${h}${D}, ${f}${ca}`;
D=`length(data(${D}))`;return!1===a.empty?`${D} && ${f}`:`!${D} || ${f}`}function ji(c,a,d){const f=Ka(a),h=d.encoding;let x=d.field,D;try{D=c.getSelectionComponent(f,a)}catch(ca){return f}h||x?h&&!x&&(c=D.project.items.filter(ca=>ca.channel===h),!c.length||1<c.length?(x=D.project.items[0].field,za((c.length?"Multiple ":"No ")+`matching ${P.stringValue(h)} encoding found for selection ${P.stringValue(d.param)}. `+`Using "field": ${P.stringValue(x)}.`)):x=c[0].field):(x=D.project.items[0].field,1<
D.project.items.length&&za('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${P.stringValue(x)}.`));return`${D.name}[${P.stringValue(Wb(x))}]`}function ri(c,a,d){return lb(a,f=>P.isString(f)?f:(null==f?0:f.param)?Ci(c,f,d):J(f))}function Zi(c,a){if(c)return P.isArray(c)&&!dd(c)?c.map(d=>Fg(d,a)).join(", "):c}function vg(c,a,d,f){null!=c.encode||(c.encode={});let h;null!=(h=c.encode)[a]||(h[a]={});let x;null!=(x=c.encode[a]).update||(x.update={});
c.encode[a].update[d]=f}function Fi(c,a,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},h=c.combine(),x=Object.assign({},h),D=h.disable;const ca=h.orient,ra=h.scale;var Ia=h.labelExpr;const hb=h.title;h=h.zindex;x=(delete x.disable,delete x.orient,delete x.scale,delete x.labelExpr,delete x.title,delete x.zindex,x);if(!D){for(const tc in x){var Ob=pj[tc];D=x[tc];if(Ob&&Ob!==a&&"both"!==Ob)delete x[tc];else if(Jf(D)){Ob=D;D=Object.assign({},Ob);Ob=Ob.condition;D=(delete D.condition,
D);Ob=P.array(Ob);const md=Sj[tc];if(md){const {vgProp:Jc,part:cd}=md;D=[...Ob.map(pd=>{var je=Object.assign({},pd);pd=pd.test;je=(delete je.test,je);return Object.assign({},{test:ri(null,pd)},je)}),D];vg(x,cd,Jc,D);delete x[tc]}else null===md&&(D={signal:Ob.map(Jc=>{var cd=Object.assign({},Jc);Jc=Jc.test;cd=(delete cd.test,cd);return`${ri(null,Jc)} ? ${gc(cd)} : `}).join("")+gc(D)},x[tc]=D)}else if(Zb(D)&&(Ob=Sj[tc])){const {vgProp:md,part:Jc}=Ob;vg(x,Jc,md,D);delete x[tc]}Yb(["labelAlign","labelBaseline"],
tc)&&null===x[tc]&&delete x[tc]}if("grid"===a){if(x.grid)return x.encode&&({grid:Ia}=x.encode,x.encode=Object.assign({},Ia?{grid:Ia}:{}),Qa(x.encode)&&delete x.encode),Object.assign({},{scale:ra,orient:ca},x,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Fa(h,0)})}else if(f.header||!c.mainExtracted){if(void 0!==Ia){f=Ia;let tc,md;(null==(tc=x.encode)?0:null==(md=tc.labels)?0:md.update)&&Zb(x.encode.labels.update.text)&&(f=nb(Ia,"datum.label",x.encode.labels.update.text.signal));
vg(x,"labels","text",{signal:f})}null===x.labelAlign&&delete x.labelAlign;if(x.encode){for(const tc of uk)c.hasAxisPart(tc)||delete x.encode[tc];Qa(x.encode)&&delete x.encode}Ia=Zi(hb,d);return Object.assign({},{scale:ra,orient:ca,grid:!1},Ia?{title:Ia}:{},x,!1===d.aria?{aria:!1}:{},{zindex:Fa(h,0)})}}}function ej(c){const {axes:a}=c.component,d=[];for(const f of pi)if(a[f])for(const h of a[f])if(!h.get("disable")&&!h.get("gridScale")){const x="x"===f?"height":"width",D=c.getSizeSignalRef(x).signal;
x!==D&&d.push({name:x,update:D})}return d}function Gi(c,a){const {x:d=[],y:f=[]}=c;return[...d.map(h=>Fi(h,"grid",a)),...f.map(h=>Fi(h,"grid",a)),...d.map(h=>Fi(h,"main",a)),...f.map(h=>Fi(h,"main",a))].filter(h=>h)}function fj(c,a,d,f){return Object.assign.apply(null,[{},...c.map(h=>{if("axisOrient"===h){h="x"===d?"bottom":"left";const x=a["x"===d?"axisBottom":"axisLeft"]||{},D=a["x"===d?"axisTop":"axisRight"]||{},ca=new Set([...ie(x),...ie(D)]),ra={};for(const Ia of ca.values())ra[Ia]={signal:`${f.signal} === "${h}" ? ${cc(x[Ia])} : ${cc(D[Ia])}`};
return ra}return a[h]})])}function y(c,a,d,f){var h="band"===a?["axisDiscrete","axisBand"]:"point"===a?["axisDiscrete","axisPoint"]:wj.has(a)?["axisQuantitative"]:"time"===a||"utc"===a?["axisTemporal"]:[];const x="x"===c?"axisX":"axisY";a=Zb(d)?"axisOrient":`axis${Pa(d)}`;h=[...h,...h.map(D=>x+D.substr(4))];a=["axis",a,x];return{vlOnlyAxisConfig:fj(h,f,c,d),vgAxisConfig:fj(a,f,c,d),axisConfigStyle:W([...a,...h],f)}}function W(c,a){const d=[{}];for(const f of c){let h;if(c=null==(h=a[f])?void 0:h.style){c=
P.array(c);for(const x of c)d.push(a.style[x])}}return Object.assign.apply(null,d)}function ha(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const h=td(c,d,a);if(void 0!==h)return{configFrom:"style",configValue:h};for(const x of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){let D;if(void 0!==(null==(D=f[x])?void 0:D[c]))return{configFrom:x,configValue:f[x][c]}}return{}}function Oa(c,a,d,f,h){const x=null==a?void 0:a.labelAngle;if(void 0!==x)return Zb(x)?x:ma(x);({configValue:a}=
ha("labelAngle",f,null==a?void 0:a.style,h));if(void 0!==a)return ma(a);if("x"===d&&Yb(["nominal","ordinal"],c.type)&&(!vb(c)||!c.timeUnit))return 270}function yb(c){return`(((${c.signal} % 360) + 360) % 360)`}function Eb(c,a,d,f){if(void 0!==c)return"x"===d?Zb(c)?(f=yb(c),a=Zb(a)?`(${a.signal} === "top")`:"top"===a,{signal:`(45 < ${f} && ${f} < 135) || (225 < ${f} && ${f} < 315) ? "middle" :`+`(${f} <= 45 || 315 <= ${f}) === ${a} ? "bottom" : "top"`}):45<c&&135>c||225<c&&315>c?"middle":Zb(a)?{signal:`${a.signal} ${45>=
c||315<=c?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:(45>=c||315<=c)===("top"===a)?"bottom":"top":Zb(c)?(c=yb(c),a=Zb(a)?`(${a.signal} === "left")`:"left"===a,{signal:`${c} <= 45 || 315 <= ${c} || (135 <= ${c} && ${c} <= 225) ? ${f?'"middle"':"null"} : (45 <= ${c} && ${c} <= 135) === ${a} ? "top" : "bottom"`}):45>=c||315<=c||135<=c&&225>=c?f?"middle":null:Zb(a)?{signal:`${a.signal} ${45<=c&&135>=c?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:(45<=c&&135>=c)===("left"===a)?"top":
"bottom"}function Sb(c,a,d){if(void 0!==c){var f=(d="x"===d)?0:90,h=d?"bottom":"left";return Zb(c)?(c=yb(c),a=Zb(a)?`(${a.signal} === "${h}")`:a===h,{signal:`(${f?`(${c} + 90)`:c} % 180 === 0) ? ${d?null:'"center"'} :`+`(${f} < ${c} && ${c} < ${180+f}) === ${a} ? "left" : "right"`}):0===(c+f)%180?d?null:"center":Zb(a)?{signal:`${`${a.signal} ${f<c&&c<180+f?"\x3d\x3d\x3d":"!\x3d\x3d"} "${h}"`} ? "left" : "right"`}:(f<c&&c<180+f)===(a===h)?"left":"right"}}function kc(c,a){var d="x"===a?"x2":"y2";a=
c.fieldDef(a);c=c.fieldDef(d);d=a?a.title:void 0;c=c?c.title:void 0;if(d&&c)return wb(d,c);if(d)return d;if(c)return c;if(void 0!==d)return d;if(void 0!==c)return c}function Uc(c,a,d){return wd(c,Object.assign({},{prefix:a,suffix:"sort_index"},null!=d?d:{}))}function Id(c,a){return Yb(["top","bottom"],a)?"column":Yb(["left","right"],a)?"row":"row"===c?"row":"column"}function Sd(c,a,d,f){return Fa((a||{})[c],("row"===f?d.headerRow:"column"===f?d.headerColumn:d.headerFacet)[c],d.header[c])}function ad(c,
a,d,f){const h={};for(const x of c)c=Sd(x,a||{},d,f),void 0!==c&&(h[x]=c);return h}function ke(c,a){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const d=Sb(a,"row"===c?"left":"top","row"===c?"y":"x");return d?{align:d}:{}}function Je(c,a){return(c=Eb(c,"row"===a?"left":"top","row"===a?"y":"x",!0))?{baseline:c}:{}}function Ue(c,a,d){const {format:f,formatType:h,labelAngle:x,labelAnchor:D,labelOrient:ca,labelExpr:ra}=
ad("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),c.header,d,a),Ia=Le({fieldOrDatumDef:c,format:f,formatType:h,expr:"parent",config:d}).signal,hb=Id(a,ca);return Object.assign({},{text:{signal:ra?nb(nb(ra,"datum.label",Ia),"datum.value",wd(c,{expr:"parent"})):Ia}},"row"===a?{orient:"left"}:{},{style:"guide-label",frame:"group"},Je(x,hb),ke(hb,x,D),w(d,c,a,Rl,ql))}function w(c,a,d,f,h){const x={};for(const D of f){if(!h[D])continue;let ca;f=Sd(D,null==(ca=a)?void 0:ca.header,
c,d);void 0!==f&&(x[h[D]]=f)}return x}function T(c){return[...aa(c,"width"),...aa(c,"height"),...aa(c,"childWidth"),...aa(c,"childHeight")]}function aa(c,a){var d="width"===a?"x":"y",f=c.component.layoutSize.get(a);if(!f||"merged"===f)return[];a=c.getSizeSignalRef(a).signal;if("step"===f){if(f=c.getScaleComponent(d)){var h=f.get("type");const x=f.get("range");if(Tc(h)&&Sc(x))return h=c.scaleName(d),Rh(c.parent)&&"independent"===c.parent.component.resolve.scale[d]?[Ea(h,x)]:[Ea(h,x),{name:a,update:rb(h,
f,`domain('${h}').length`)}]}throw Error("layout size is step although width/height is not step.");}return"container"==f?(d=(f=a.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",c=wg(c.config.view,f?"width":"height"),c=`isFinite(${d}) ? ${d} : ${c}`,[{name:a,init:c,on:[{update:c,events:"window:resize"}]}]):[{name:a,value:f}]}function Ea(c,a){c=`${c}_step`;return Zb(a.step)?{name:c,update:a.step.signal}:{name:c,value:a.step}}function rb(c,a,d){const f=a.get("type"),h=a.get("padding"),x=
Fa(a.get("paddingOuter"),h);a=a.get("paddingInner");return`bandspace(${d}, ${cc("band"===f?void 0!==a?a:h:1)}, ${cc(x)}) * ${c}_step`}function zb(c){return"childWidth"===c?"width":"childHeight"===c?"height":c}function Mb(c,a){return ie(c).reduce((d,f)=>Object.assign({},d,ia(a,c[f],f,h=>Tb(h.value))),{})}function Nb(c,a){if(Rh(a))return"theta"===c?"independent":"shared";if(Ui(a))return"shared";if(vi(a))return V(c)||"theta"===c||"radius"===c?"independent":"shared";throw Error("invalid model type for resolve");
}function Mc(c,a){const d=c.scale[a],f=V(a)?"axis":"legend";return"independent"===d?("shared"===c[f][a]&&za(`Setting the scale to be independent for "${a}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):c[f][a]||"shared"}function Ed(c){return mc(c,(a,d)=>Math.max(a,d.value))}function bd(c){return mc(c,(a,d)=>Fa(a,d.value))}function mc(c,a){const d=null==c?void 0:c.condition;if(d&&(P.isArray(d)||yd(d)))return P.array(c.condition).reduce(a,c.value);if(yd(c))return c.value}
function qd(c,a,d){c=a.get("selections");if(null!=c&&c.length){var f=P.stringValue(d.field);return c.map(h=>`(!length(data(${P.stringValue(Ka(h)+"_store")})) || (${h}[${f}] && indexof(${h}[${f}], datum.value) >= 0))`).join(" || ")}}function xd(c,a,d,f){return{signal:`clamp(${c.getSizeSignalRef(a).signal}, ${d}, ${f})`}}function ye(c){if(Ig(c)){var {encoding:a}=c,d={};for(pd of["color",...wk]){var f=ne(a[pd]);if(f&&c.getScaleComponent(pd)&&("shape"!==pd||!vb(f)||"geojson"!==f.type)){a:{var h=void 0,
x=void 0,D=void 0,ca=void 0,ra=void 0,Ia,hb=Ia=void 0,Ob=void 0;f=c;var tc=pd;let je=f.legend(tc);const {markDef:Nd,encoding:ve,config:Qe}=f;var md=Qe.legend;b:{var Jc=f;var cd=tc;ca=Jc.scaleName(cd);if("trail"===Jc.mark){if("color"===cd){Jc={stroke:ca};break b}if("size"===cd){Jc={strokeWidth:ca};break b}}Jc="color"===cd?Jc.markDef.filled?{fill:ca}:{stroke:ca}:{[cd]:ca}}Jc=new lm({},Jc);cd=null==(Ob=f.fieldDef(tc))?void 0:Ob.field;for(const Mf of wh(null!=(hb=f.component.selection)?hb:{})){let Xg;
if((hb=null!=(Xg=Mf.project.hasField[cd])?Xg:Mf.project.hasChannel[tc])&&Zj.defined(Mf)){let Nf;Ob=null!=(Nf=Jc.get("selections"))?Nf:[];Ob.push(Mf.name);Jc.set("selections",Ob,!1);hb.hasLegend=!0}}hb=void 0!==je?!je:md.disable;Jc.set("disable",hb,void 0!==je);if(hb){f=Jc;break a}je=je||{};Ob=f.getScaleComponent(tc).get("type");hb=ne(ve[tc]);ca=vb(hb)?null==(Ia=ae(hb.timeUnit))?void 0:Ia.unit:void 0;cd=je.orient||Qe.legend.orient||"right";Ia={legend:je,channel:tc,timeUnit:ca,scaleType:Ob};({legend:ca}=
Ia);ca=ca.type;b:{let {channel:Mf,timeUnit:Xg,scaleType:Nf}=Ia;if(Q(Mf)){if(Yb(["quarter","month","day"],Xg)){Ia="symbol";break b}if(Sh.has(Nf)){Ia="gradient";break b}}Ia="symbol"}Ia=Fa(ca,Ia);let {legendConfig:gf,legendType:Wf,orient:Vf,legend:ig}={legend:je,legendType:Ia,orient:cd,legendConfig:md};if(null!=(ca=null!=(ra=ig.direction)?ra:gf[Wf?"gradientDirection":"symbolDirection"]))ra=ca;else b:{switch(Vf){case "top":case "bottom":ra="horizontal";break b;case "left":case "right":case "none":case void 0:break;
default:ra="gradient"===Wf?"horizontal":void 0;break b}ra=void 0}md={legend:je,channel:tc,model:f,markDef:Nd,encoding:ve,fieldOrDatumDef:hb,legendConfig:md,config:Qe,scaleType:Ob,orient:cd,legendType:Ia,direction:ra};for(const Mf of el)if(!("gradient"===Ia&&Mf.startsWith("symbol")||"symbol"===Ia&&Mf.startsWith("gradient"))&&(ra=Mf in xl?xl[Mf](md):je[Mf],void 0!==ra)){b:{Ob=ca=void 0;cd=f.fieldDef(tc);switch(Mf){case "disable":cd=void 0!==je;break b;case "values":cd=!(null==(Ob=je)||!Ob.values);break b;
case "title":if("title"===Mf&&ra===(null==(ca=cd)?void 0:ca.title)){cd=!0;break b}}cd=ra===(je||{})[Mf]}((Ob=cd)||void 0===Qe.legend[Mf])&&Jc.set(Mf,ra,Ob)}md=null!=(x=null==(D=je)?void 0:D.encoding)?x:{};x=Jc.get("selections");D={};tc={fieldOrDatumDef:hb,model:f,channel:tc,legendCmpt:Jc,legendType:Ia};for(const Mf of"labels legend title symbols gradient entries".split(" ")){let Xg;ra=Mb(null!=(Xg=md[Mf])?Xg:{},f);ra=Mf in dl?dl[Mf](ra,tc):ra;if(void 0!==ra&&!Qa(ra)){let Nf,Ii;D[Mf]=Object.assign({},
(null==(Nf=x)?0:Nf.length)&&vb(hb)?{name:`${Ka(hb.field)}_legend_${Mf}`}:{},(null==(Ii=x)?0:Ii.length)?{interactive:!!x}:{},{update:ra})}}Qa(D)||Jc.set("encode",D,!(null==(h=je)||!h.encoding));f=Jc}d[pd]=f}}var pd=d}else{const {legends:je,resolve:Nd}=c.component;for(a of c.children){ye(a);for(d of ie(a.component.legends))Nd.legend[d]=Mc(c.component.resolve,d),"shared"===Nd.legend[d]&&(je[d]=re(je[d],a.component.legends[d]),je[d]||(Nd.legend[d]="independent",delete je[d]))}for(f of ie(je))for(h of c.children)h.component.legends[f]&&
"shared"===Nd.legend[f]&&delete h.component.legends[f];pd=je}return c.component.legends=pd}function re(c,a){if(!c)return a.clone();var d=c.getWithExplicit("orient");const f=a.getWithExplicit("orient");if(!d.explicit||!f.explicit||d.value===f.value){var h=!1;for(const x of el)d=ug(c.getWithExplicit(x),a.getWithExplicit(x),x,"legend",(D,ca)=>{switch(x){case "symbolType":return D="circle"===ca.value?ca:D,D;case "title":return sa(D,ca);case "type":return h=!0,zg("symbol")}return lh(D,ca,x,"legend")}),
c.setWithExplicit(x,d);if(h){let x,D;(null==(x=c.implicit)?0:null==(D=x.encode)?0:D.gradient)&&mb(c.implicit,["encode","gradient"]);let ca,ra;(null==(ca=c.explicit)?0:null==(ra=ca.encode)?0:ra.gradient)&&mb(c.explicit,["encode","gradient"])}return c}}function Te(c){const a=c.component.legends,d={};for(const h of ie(a)){var f=c.getScaleComponent(h);f=Bg(f.get("domains"));if(d[f])for(const x of d[f])re(x,a[h])||d[f].push(a[h]);else d[f]=[a[h].clone()]}return wh(d).flat().map(h=>{{var x=c.config,D=h.combine();
h=Object.assign({},D);const tc=D.disable;D=D.labelExpr;h=(delete h.disable,delete h.labelExpr,delete h.selections,h);if(tc)var ca=void 0;else{!1===x.aria&&void 0==h.aria&&(h.aria=!1);var ra;if(null==(ra=h.encode)?0:ra.symbols){x=h.encode.symbols.update;!x.fill||"transparent"===x.fill.value||x.stroke||h.stroke||(x.stroke={value:"transparent"});for(var Ia of wk)h[Ia]&&delete x[Ia]}h.title||delete h.title;if(void 0!==D){Ia=D;var hb,Ob;(null==(hb=h.encode)?0:null==(Ob=hb.labels)?0:Ob.update)&&Zb(h.encode.labels.update.text)&&
(Ia=nb(D,"datum.label",h.encode.labels.update.text.signal));hb=h;Ob={signal:Ia};null!=hb.encode||(hb.encode={});null!=(ca=hb.encode).labels||(ca.labels={});let md;null!=(md=hb.encode.labels).update||(md.update={});hb.encode.labels.update.text=Ob}ca=h}}return ca}).filter(h=>void 0!==h)}function Ff(c){return c.children.reduce((a,d)=>a.concat(d.assembleProjections()),Xf(c))}function Xf(c){var a=c.component.projection;if(!a||a.merged)return[];const d=a.combine(),{name:f}=d;if(a.data){const h={signal:`[${a.size.map(x=>
x.signal).join(", ")}]`};a=a.data.reduce((x,D)=>{D=Zb(D)?D.signal:`data('${c.lookupDataSource(D)}')`;x.includes(D)||x.push(D);return x},[]);if(0>=a.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:f,size:h,fit:{signal:1<a.length?`[${a.join(", ")}]`:a[0]}},d)]}return[Object.assign({},{name:f},{translate:{signal:"[width / 2, height / 2]"}},d)]}function jg(c){var a=c.component;if(Ig(c))if(c.hasProjection){var d=sc(c.specifiedProjection);var f=!(d&&(null!=
d.scale||null!=d.translate));const x=f?[c.getSizeSignalRef("width"),c.getSizeSignalRef("height")]:void 0;if(f){f=[];const {encoding:ca}=c;for(h of[["longitude","latitude"],["longitude2","latitude2"]])(ne(ca[h[0]])||ne(ca[h[1]]))&&f.push({signal:c.getName(`geojson_${f.length}`)});c.channelHasField("shape")&&"geojson"===c.typedFieldDef("shape").type&&f.push({signal:c.getName(`geojson_${f.length}`)});0===f.length&&f.push(c.requestDataName(Hg.Main));var h=f}else h=void 0;let D;c=new yl(c.projectionName(!0),
Object.assign({},null!=(D=sc(c.config.projection))?D:{},null!=d?d:{}),x,h);c.get("type")||c.set("type","equalEarth",!1);d=c}else d=void 0;else d=kg(c);a.projection=d}function Jh(c,a){const d=ub(ek,f=>!P.hasOwnProperty(c.explicit,f)&&!P.hasOwnProperty(a.explicit,f)||P.hasOwnProperty(c.explicit,f)&&P.hasOwnProperty(a.explicit,f)&&ei(c.get(f),a.get(f))?!0:!1);if(ei(c.size,a.size)){if(d)return c;if(ei(c.explicit,{}))return a;if(ei(a.explicit,{}))return c}return null}function kg(c){if(0!==c.children.length){var a;
for(var d of c.children)jg(d);d=ub(c.children,f=>{if(f=f.component.projection){if(a)return(f=Jh(a,f))&&(a=f),!!f;a=f}return!0});if(a&&d){d=c.projectionName(!0);const f=new yl(d,a.specifiedProjection,a.size,sf(a.data));for(const h of c.children)if(c=h.component.projection)c.isFit&&f.data.push(...h.component.projection.data),h.renameProjection(c.get("name"),d),c.merged=!0;return f}}}function tf(c,a,d){let f;d=null!=(f=bg(d,void 0))?f:{};a=`${$a(d)}_${a}`;return c.getName(`${a}_bins`)}function Ng(c,
a,d){let f;f="as"in c?P.isString(c.as)?[c.as,`${c.as}_end`]:[c.as[0],c.as[1]]:[wd(c,{forAs:!0}),wd(c,{binSuffix:"end",forAs:!0})];a=Object.assign({},bg(a,void 0));var h=c.field;h=`${$a(a)}_${h}`;var x={signal:d.getName(`${h}_bins`),extentSignal:d.getName(`${h}_extent`)};const {signal:D,extentSignal:ca}=x;if(Xa(a.extent)){var ra=a.extent;ra=ji(d,ra.param,ra);delete a.extent}c=Object.assign({},{bin:a,field:c.field,as:[f]},D?{signal:D}:{},ca?{extentSignal:ca}:{},ra?{span:ra}:{});return{key:h,binComponent:c}}
function pg(c){return c.startsWith("'")&&c.endsWith("'")||c.startsWith('"')&&c.endsWith('"')?c.slice(1,-1):c}function Ke(c,a){c=xb(c);if("number"===a)return`toNumber(${c})`;if("boolean"===a)return`toBoolean(${c})`;if("string"===a)return`toString(${c})`;if("date"===a)return`toDate(${c})`;if("flatten"===a)return c;if(a.startsWith("date:"))return a=pg(a.slice(5,a.length)),`timeParse(${c},'${a}')`;if(a.startsWith("utc:"))return a=pg(a.slice(4,a.length)),`utcParse(${c},'${a}')`;za(`Unrecognized parse "${a}".`);
return null}function oe(c){const a={};Hb(c.filter,d=>{if(ec(d)){let f=null;if(cf(d))f=Vb(d.equal);else if(uf(d))f=Vb(d.lte);else if(se(d))f=Vb(d.lt);else if(U(d))f=Vb(d.gt);else if(ua(d))f=Vb(d.gte);else if(cb(d))f=d.range[0];else if(Ab(d)){let h;f=(null!=(h=d.oneOf)?h:d["in"])[0]}f&&(Ib(f)?a[d.field]="date":P.isNumber(f)?a[d.field]="number":P.isString(f)&&(a[d.field]="string"));d.timeUnit&&(a[d.field]="date")}});return a}function Ne(c){function a(f){if(ef(f))d[f.field]="date";else{var h;if(h="quantitative"===
f.type)h=f.aggregate,h=P.isString(h)&&Yb(["min","max"],h);h?d[f.field]="number":1<Z(f.field)?f.field in d||(d[f.field]="flatten"):Dd(f)&&Vd(f.sort)&&1<Z(f.sort.field)&&(f.sort.field in d||(d[f.sort.field]="flatten"))}}const d={};(Ig(c)||Rh(c))&&c.forEachFieldDef((f,h)=>{$c(f)?a(f):(h=u(h),h=c.fieldDef(h),a(Object.assign({},f,{type:h.type})))});if(Ig(c)){const {mark:f,markDef:h,encoding:x}=c;if(oc(f)&&!c.encoding.order){const D=x["horizontal"===h.orient?"y":"x"];!vb(D)||"quantitative"!==D.type||D.field in
d||(d[D.field]="number")}}return d}function pe(c){return c instanceof tb||c instanceof na||c instanceof Ba}function og(c){return c.stack.stackBy.reduce((a,d)=>{(d=wd(d.fieldDef))&&a.push(d);return a},[])}function Pg(c){return P.isArray(c)&&c.every(a=>P.isString(a))&&1<c.length}function Mg(c){function a(d){if(!(d instanceof e)){const f=d.clone();if(f instanceof uh){const h="scale_"+f.getSource();f.setSource(h);c.model.component.data.outputNodes[h]=f}else(f instanceof b||f instanceof Ze||f instanceof
qf||f instanceof bf)&&f.addDimensions(c.fields);for(const h of d.children.flatMap(a))h.parent=f;return[f]}return d.children.flatMap(a)}return a}function Yg(c){if(c instanceof e)if(1!==c.numChildren()||c.children[0]instanceof uh){var a=c.model.component.data.main;Ph(a);const d=Mg(c);c=c.children.map(d).flat();for(const f of c)f.parent=a}else a=c.children[0],(a instanceof b||a instanceof Ze||a instanceof qf||a instanceof bf)&&a.addDimensions(c.fields),a.swapWithParent(),Yg(c);else c.children.map(Yg)}
function Ph(c){if(c instanceof uh&&c.type===Hg.Main&&1===c.numChildren()){const a=c.children[0];a instanceof e||(a.swapWithParent(),Ph(c))}}function Yh(c){for(const a of c){for(const d of a.children)if(d.parent!==a)return!1;if(!Yh(a.children))return!1}return!0}function Kh(c,a){let d=!1;for(const f of a)d=c.optimize(f)||d;return d}function ij(c,a,d){let f=c.sources,h=!1;h=Kh(new Re,f)||h;h=Kh(new ge(a),f)||h;f=f.filter(x=>0<x.numChildren());h=Kh(new nd,f)||h;f=f.filter(x=>0<x.numChildren());d||(h=
Kh(new We,f)||h,h=Kh(new te(a),f)||h,h=Kh(new De,f)||h,h=Kh(new Zg,f)||h,h=Kh(new ud,f)||h,h=Kh(new Yc,f)||h,h=Kh(new me,f)||h,h=Kh(new Ye,f)||h);c.sources=f;return h}function fk(c){const a=c.component.scales;for(const Ia of ie(a)){var d=c,f=Ia,h=d.getScaleComponent(f).get("type"),{encoding:x}=d;var D=d.scaleDomain(f);var ca=d.typedFieldDef(f),ra=d.config.scale;if("unaggregated"===D){const {valid:hb,reason:Ob}=bl(ca,h);hb||(za(Ob),D=void 0)}else void 0===D&&ra.useUnaggregatedDomain&&({valid:ca}=bl(ca,
h),ca&&(D="unaggregated"));D!==d.scaleDomain(f)&&(d.specifiedScales[f]=Object.assign({},d.specifiedScales[f],{domain:D}));d="x"===f&&ne(x.x2)?ne(x.x)?ug(ni(h,D,d,"x"),ni(h,D,d,"x2"),"domain","scale",rk):ni(h,D,d,"x2"):"y"===f&&ne(x.y2)?ne(x.y)?ug(ni(h,D,d,"y"),ni(h,D,d,"y2"),"domain","scale",rk):ni(h,D,d,"y2"):ni(h,D,d,f);a[Ia].setWithExplicit("domains",d);D=f=void 0;h=c.component.scales[Ia];ca=c.specifiedScales[Ia].domain;x=null==(D=c.fieldDef(Ia))?void 0:D.bin;D=(null==ca?void 0:ca.param)&&ca;x=
P.isObject(x)&&Xa(x.extent)&&x.extent;(D||x)&&h.set("selectionExtent",null!=(f=D)?f:x,!0);if(c.component.data.isFaceted){for(f=c;!Rh(f)&&f.parent;)f=f.parent;if("shared"===f.component.resolve.scale[Ia])for(const hb of d.value)Pd(hb)&&(hb.data="scale_"+hb.data.replace("scale_",""))}}}function kk(c){for(var a of c.children){var d=a;Ig(d)?fk(d):kk(d)}d=c.component.scales;for(const h of ie(d)){let x;a=null;for(const D of c.children){var f=D.component.scales[h];f&&(x=void 0===x?f.getWithExplicit("domains"):
ug(x,f.getWithExplicit("domains"),"domains","scale",rk),f=f.get("selectionExtent"),a&&f&&a.param!==f.param&&za("The same selection must be used to override scale domains in a layered view."),a=f)}d[h].setWithExplicit("domains",x);a&&d[h].set("selectionExtent",a,!0)}}function ak(c,a,d){return c.map(f=>({signal:`{data: ${mf(f,{timeUnit:d,type:a})}}`}))}function jj(c,a,d){let f;d=null==(f=ae(d))?void 0:f.unit;return"temporal"===a||d?ak(c,a,d):[c]}function ni(c,a,d,f){var {encoding:h}=d;h=ne(h[f]);const {type:x}=
h,D=h.timeUnit;if(null==a?0:a.unionWith)return f=ni(c,void 0,d,f),a=jj(a.unionWith,x,D),yg([...a,...f.value]);if(Zb(a))return yg([a]);if(a&&"unaggregated"!==a&&(null==a||!a.param))return yg(jj(a,x,D));var ca=d.stack;if(ca&&f===ca.fieldChannel){if("normalize"===ca.offset)return zg([[0,1]]);a=d.requestDataName(Hg.Main);return zg([{data:a,field:d.vgField(f,{suffix:"start"})},{data:a,field:d.vgField(f,{suffix:"end"})}])}ca=Hi[f]&&vb(h)?Fk(d,f,c):void 0;if(qc(h))return f=jj([h.datum],x,D),zg(f);if("unaggregated"===
a)return f=d.requestDataName(Hg.Main),{field:a}=h,zg([{data:f,field:wd({field:a,aggregate:"min"})},{data:f,field:wd({field:a,aggregate:"max"})}]);if(X(h.bin)){if(Tc(c))return"bin-ordinal"===c?zg([]):zg([{data:Da(ca)?d.requestDataName(Hg.Main):d.requestDataName(Hg.Raw),field:d.vgField(f,Hf(h,f)?{binSuffix:"range"}:{}),sort:!0!==ca&&P.isObject(ca)?ca:{field:d.vgField(f,{}),op:"min"}}]);({bin:a}=h);if(X(a)){const ra=tf(d,h.field,a);return zg([new ng(()=>{const Ia=d.getSignalName(ra);return`[${Ia}.start, ${Ia}.stop]`})])}return zg([{data:d.requestDataName(Hg.Main),
field:d.vgField(f,{})}])}return h.timeUnit&&Yb(["time","utc"],c)&&ka(h,Ig(d)?d.encoding[C(f)]:void 0,d.markDef,d.config)?(a=d.requestDataName(Hg.Main),zg([{data:a,field:d.vgField(f)},{data:a,field:d.vgField(f,{suffix:"end"})}])):ca?zg([{data:Da(ca)?d.requestDataName(Hg.Main):d.requestDataName(Hg.Raw),field:d.vgField(f),sort:ca}]):zg([{data:d.requestDataName(Hg.Main),field:d.vgField(f)}])}function sj(c,a){const {op:d,field:f,order:h}=c;return Object.assign({},{op:null!=d?d:a?"sum":"min"},f?{field:Wb(f)}:
{},h?{order:h}:{})}function Fk(c,a,d){if(Tc(d)){var f=c.fieldDef(a);d=f.sort;if(ce(d))return{op:"min",field:Uc(f,a),order:"ascending"};({stack:f}=c);var h=f?new Set([...f.groupbyFields,...f.stackBy.map(x=>x.fieldDef.field)]):void 0;if(Vd(d))return c=f&&!h.has(d.field),sj(d,c);if(null!=d&&d.encoding){const {encoding:x,order:D}=d;c=c.fieldDef(x);const {aggregate:ca,field:ra}=c;a=f&&!h.has(ra);if(L(ca)||va(ca))return sj({field:wd(c),order:D},a);if(La(ca)||!ca)return sj({op:ca,field:ra,order:D},a)}else{if("descending"===
d)return{op:"min",field:c.vgField(a),order:"descending"};if(Yb(["ascending",void 0],d))return!0}}}function bl(c,a){const {aggregate:d,type:f}=c;return d?P.isString(d)&&!Yl.has(d)?{valid:!1,reason:`Unaggregated domain not applicable for "${d}" since it produces values outside the origin domain of the source data.`}:"quantitative"===f&&"log"===a?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${Bg(c)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${Bg(c)}).`}}
function rk(c,a,d,f){if(c.explicit&&a.explicit){var h=a.value;d=`Conflicting ${f.toString()} property "${d.toString()}" (${Bg(c.value)} and ${Bg(h)}). Using the union of the two domains.`;za(d)}return{explicit:c.explicit,value:[...c.value,...a.value]}}function vl(c){var a=Lb(c.map(h=>Pd(h)?(h=Object.assign({},h),delete h.sort,h):h),Cb),d=Lb(c.map(h=>{if(Pd(h))return h=h.sort,void 0===h||Da(h)||("op"in h&&"count"===h.op&&delete h.field,"ascending"===h.order&&delete h.order),h}).filter(h=>void 0!==
h),Cb);if(0!==a.length){if(1===a.length){a=c[0];if(Pd(a)&&0<d.length){var f=d[0];1<d.length?(za("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=d.filter(h=>P.isObject(h)&&"op"in h&&"min"!==h.op),f=d.every(h=>P.isObject(h)&&"op"in h)&&1===f.length?f[0]:!0):P.isObject(f)&&"field"in f&&a.field===f.field&&(f=f.order?{order:f.order}:!0);return Object.assign({},a,{sort:f})}return a}d=Lb(d.map(h=>{if(Da(h)||!("op"in h)||P.isString(h.op)&&h.op in Tk)return h;
za(`Dropping sort property ${Bg(h)} as unioned domains only support boolean or op "count", "min", and "max".`);return!0}),Cb);1===d.length?f=d[0]:1<d.length&&(za("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=!0);d=Lb(c.map(h=>Pd(h)?h.data:null),h=>h);return 1===d.length&&null!==d[0]?Object.assign({},{data:d[0],fields:a.map(h=>h.field)},f?{sort:f}:{}):Object.assign({},{fields:a},f?{sort:f}:{})}}function Wk(c){if(Pd(c)&&P.isString(c.field))return c.field;
var a=P.isArray(c)?!1:"fields"in c&&!("data"in c);if(a){let d;for(const f of c.fields)if(Pd(f)&&P.isString(f.field))if(!d)d=f.field;else if(d!==f.field)return za("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),d;za("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return d}a=P.isArray(c)?!1:"fields"in c&&"data"in c;if(a)return za("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),c=c.fields[0],P.isString(c)?c:void 0}function yk(c,a){a=c.component.scales[a].get("domains").map(d=>{Pd(d)&&(d.data=c.lookupDataSource(d.data));return d});return vl(a)}function ah(c){return Ui(c)||vi(c)?c.children.reduce((a,d)=>a.concat(ah(d)),fl(c)):fl(c)}function fl(c){return ie(c.component.scales).reduce((a,
d)=>{var f=c.component.scales[d];if(f.merged)return a;var h=f.combine(),x=Object.assign({},h);const D=h.name,ca=h.type;var ra=h.selectionExtent;const Ia=h.reverse;x=(delete x.name,delete x.type,delete x.selectionExtent,delete x.domains,delete x.range,delete x.reverse,x);h=h.range;V(d)?Sc(h)&&(h={step:{signal:`${D}_step`}}):P.isObject(h)&&Pd(h)&&(h=Object.assign({},h,{data:c.lookupDataSource(h.data)}));d=yk(c,d);ra?(ra=ji(c,ra.param,ra),f={signal:gd(f.get("type"))&&P.isArray(d)&&d[0]>d[1]?`isValid(${ra}) && reverse(${ra})`:
ra}):f=null;a.push(Object.assign({},{name:D,type:ca},d?{domain:d}:{},f?{domainRaw:f}:{},{range:h},void 0!==Ia?{reverse:Ia}:{},x));return a},[])}function hk(c,a){var d=c.fieldDef(a);if(null==d?0:d.bin){const {bin:f,field:h}=d;d=B(a);const x=c.getName(d);if(P.isObject(f)&&f.binned&&void 0!==f.step)return new ng(()=>{var D=c.scaleName(a);D=`(domain("${D}")[1] - domain("${D}")[0]) / ${f.step}`;return`${c.getSignalName(x)} / (${D})`});if(X(f)){const D=tf(c,h,f);return new ng(()=>{var ca=c.getSignalName(D);
ca=`(${ca}.stop - ${ca}.start) / ${ca}.step`;return`${c.getSignalName(x)} / (${ca})`})}}}function gl(c,a){const d=a.specifiedScales[c];var {size:f}=a,h=a.getScaleComponent(c).get("type");for(var x of $i)if(void 0!==d[x]){const ra=ee(h,x),Ia=Ra(c,x);if(ra)if(Ia)za(Ia);else switch(x){case "range":h=d.range;if(P.isArray(h)){if(V(c))return yg(h.map(hb=>{if("width"===hb||"height"===hb){hb=a.getName(hb);const Ob=a.getSignalName.bind(a);return ng.fromName(Ob,hb)}return hb}))}else if(P.isObject(h))return yg({data:a.requestDataName(Hg.Main),
field:h.field,sort:{op:"min",field:a.vgField(c)}});return yg(h);case "scheme":return yg(ik(d[x]))}else za(Ud(h,x,c))}x="x"===c||"xOffset"===c?"width":"height";f=f[x];if(of(f))if(V(c))if(Tc(h)){if(f=Gk(f,a,c))return yg({step:f})}else za(Ve(x));else if(c in gj&&"band"===a.getScaleComponent("xOffset"===c?"x":"y").get("type")&&(f=Ij(f,h)))return yg(f);const {rangeMin:D,rangeMax:ca}=d;c=Il(c,a);return(void 0!==D||void 0!==ca)&&ee(h,"rangeMin")&&P.isArray(c)&&2===c.length?yg([null!=D?D:c[0],null!=ca?ca:
c[1]]):zg(c)}function ik(c){return!P.isString(c)&&c.name?Object.assign({},{scheme:c.name},uc(c,["name"])):{scheme:c}}function Il(c,a){const {size:d,config:f,mark:h,encoding:x}=a;var D=a.getSignalName.bind(a),{type:ca}=ne(x[c]);const ra=a.getScaleComponent(c).get("type"),{domain:Ia,domainMid:hb}=a.specifiedScales[c];switch(c){case "x":case "y":if(Yb(["point","band"],ra)&&(ca=di(c,d,f.view),of(ca)))return{step:Gk(ca,a,c)};ca=B(c);ca=a.getName(ca);return"y"===c&&gd(ra)?[ng.fromName(D,ca),0]:[0,ng.fromName(D,
ca)];case "xOffset":case "yOffset":return ui(c,a,ra);case "size":return D=a.component.scales[c].get("zero"),D=Jj(h,D,f),ca=zk(h,d,a,f),fi.has(ra)?Fl(D,ca,El(ra,f,Ia,c)):[D,ca];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new ng(()=>{const Ob=a.getSignalName("width"),tc=a.getSignalName("height");return`min(${Ob},${tc})/2`})];case "strokeWidth":return[f.scale.minStrokeWidth,f.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";
case "color":case "fill":case "stroke":return"ordinal"===ra?"nominal"===ca?"category":"ordinal":void 0!==hb?"diverging":"rect"===h||"geoshape"===h?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[f.scale.minOpacity,f.scale.maxOpacity]}}function Gk(c,a,d){var {encoding:f}=a,h=a.getScaleComponent(d);d=E(d);const x=f[d];if("offset"===xf({step:c,offsetIsDiscrete:Hc(x)&&Pc(x.type)})&&Eg(f,d)){f=a.getScaleComponent(d);a=`domain('${a.scaleName(d)}').length`;if("band"===f.get("type")){var D;
let Ia;d=null!=(Ia=null!=(D=f.get("paddingInner"))?D:f.get("padding"))?Ia:0;var ca;let hb;D=null!=(hb=null!=(ca=f.get("paddingOuter"))?ca:f.get("padding"))?hb:0;a=`bandspace(${a}, ${d}, ${D})`}var ra;ca=null!=(ra=h.get("paddingInner"))?ra:h.get("padding");c=c.step;h=a;ra=ca;ra=Zb(ra)?ra.signal:P.stringValue(ra);return{signal:`${c} * ${h} / (1-${ra})`}}return c.step}function Ij(c,a){if("offset"===xf({step:c,offsetIsDiscrete:Tc(a)}))return{step:c.step}}function ui(c,a,d){const f="xOffset"===c?"x":"y",
h=a.getScaleComponent(f).get("type"),x=a.scaleName(f);if("band"===h)return a=di(f,a.size,a.config.view),of(a)&&(a=Ij(a,d))?a:[0,{signal:`bandwidth('${x}')`}];d=a.encoding[f];return vb(d)&&d.timeUnit?(c=kf(d.timeUnit,D=>`scale('${x}', ${D})`),(d=a.config.scale.bandWithNestedOffsetPaddingInner)?(a=Zb(d)?`${d.signal}/2`:`${d/2}`,d=Zb(d)?`(1 - ${d.signal}/2)`:`${1-d/2}`,[{signal:`${a} * (${c})`},{signal:`${d} * (${c})`}]):[0,{signal:c}]):vc(`Cannot use ${c} scale if ${f} scale is not discrete.`)}function di(c,
a,d){c="x"===c?"width":"height";return(a=a[c])?a:Bf(d,c)}function El(c,a,d,f){switch(c){case "quantile":return a.scale.quantileCount;case "quantize":return a.scale.quantizeCount;case "threshold":if(void 0!==d&&P.isArray(d))return d.length+1;za(`Domain for ${f} is required for threshold scale.`);return 3}}function Fl(c,a,d){const f=()=>{const h=cc(a),x=cc(c),D=`(${h} - ${x}) / (${d} - 1)`;return`sequence(${x}, ${h} + ${D}, ${D})`};return Zb(a)?new ng(f):{signal:f()}}function Jj(c,a,d){if(a)return Zb(a)?
{signal:`${a.signal} ? 0 : ${Jj(c,!1,d)}`}:0;switch(c){case "bar":case "tick":return d.scale.minBandSize;case "line":case "trail":case "rule":return d.scale.minStrokeWidth;case "text":return d.scale.minFontSize;case "point":case "square":case "circle":return d.scale.minSize}throw Error(Zd("size",c));}function zk(c,a,d,f){d={x:hk(d,"x"),y:hk(d,"y")};switch(c){case "bar":case "tick":if(void 0!==f.scale.maxBandSize)return f.scale.maxBandSize;const h=lg(a,d,f.view);return P.isNumber(h)?h-1:new ng(()=>
`${h.signal} - 1`);case "line":case "trail":case "rule":return f.scale.maxStrokeWidth;case "text":return f.scale.maxFontSize;case "point":case "square":case "circle":if(f.scale.maxSize)return f.scale.maxSize;const x=lg(a,d,f.view);return P.isNumber(x)?Math.pow(.95*x,2):new ng(()=>`pow(${.95} * ${x.signal}, 2)`)}throw Error(Zd("size",c));}function lg(c,a,d){const f=of(c.width)?c.width.step:fg(d,"width"),h=of(c.height)?c.height.step:fg(d,"height");return a.x||a.y?new ng(()=>`min(${[a.x?a.x.signal:f,
a.y?a.y.signal:h].join(", ")})`):Math.min(f,h)}function gk(c,a){if(Ig(c)){const D=c.component.scales,{config:ca,encoding:ra,markDef:Ia,specifiedScales:hb}=c;for(const Ob of ie(D)){var d=hb[Ob];const tc=D[Ob];var f=c.getScaleComponent(Ob),h=ne(ra[Ob]),x=d[a];const md=f.get("type"),Jc=f.get("padding");f=f.get("paddingInner");const cd=ee(md,a),pd=Ra(Ob,a);void 0!==x&&(cd?pd&&za(pd):za(Ud(md,a,Ob)));if(cd&&void 0===pd)if(void 0!==x)switch(x=h.timeUnit,h=h.type,a){case "domainMax":case "domainMin":Ib(d[a])||
"temporal"===h||x?tc.set(a,{signal:mf(d[a],{type:h,timeUnit:x})},!0):tc.set(a,d[a],!0);break;default:tc.copyKeyFromObject(a,d)}else d=a in ol?ol[a]({model:c,channel:Ob,fieldOrDatumDef:h,scaleType:md,scalePadding:Jc,scalePaddingInner:f,domain:d.domain,domainMin:d.domainMin,domainMax:d.domainMax,markDef:Ia,config:ca,hasNestedOffsetScale:eg(ra,Ob),hasSecondaryRangeChannel:!!ra[C(Ob)]}):ca.scale[a],void 0!==d&&tc.set(a,d,!1)}}else Ji(c,a)}function Mj(c){if(Ig(c)){const a=c.component.scales;for(const d of bj){const f=
a[d];if(!f)continue;const h=gl(d,c);f.setWithExplicit("range",h)}}else Ji(c,"range")}function Ji(c,a){const d=c.component.scales;for(var f of c.children)"range"===a?Mj(f):gk(f,a);for(const h of ie(d)){let x;for(const D of c.children)if(f=D.component.scales[h])f=f.getWithExplicit(a),x=ug(x,f,a,"scale",Zf((ca,ra)=>{switch(a){case "range":if(ca.step&&ra.step)return ca.step-ra.step}return 0}));d[h].setWithExplicit(a,x)}}function Ri(c,a){const d=a.bin;if(X(d)){const f=tf(c,a.field,d);return new ng(()=>
c.getSignalName(f))}if(Ca(d)&&P.isObject(d)&&void 0!==d.step)return{step:d.step}}function Si(c,a,d,f,h){let x=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===c){if(V(a)){const {bandPaddingInner:D,barBandPaddingInner:ca,rectBandPaddingInner:ra,bandWithNestedOffsetPaddingInner:Ia}=h;return x?Ia:Fa(D,"bar"===d?ca:ra)}if(a in gj&&f===Cg.BAND)return h.offsetBandPaddingInner}}function Kj(c,a,d,f,h){let x=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===c)if(V(a)){const {bandPaddingOuter:D,
bandWithNestedOffsetPaddingOuter:ca}=h;if(x)return ca;if(d===Cg.BAND)return Fa(D,Zb(f)?{signal:`${f.signal}/2`}:f/2)}else if(a in gj){if(d===Cg.POINT)return.5;if(d===Cg.BAND)return h.offsetBandPaddingOuter}}function Lj(c,a,d,f){const h=Ti(a,d,f,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:x}=c;if(!Hi[a])return null;if(void 0!==x){if(!eb(a,x))return za(`Channel "${a}" does not work with "${x}" scale. We are using "${h}" scale instead.`),h;var D;if(D=vb(d))D=d.type,D=!(Yb(["ordinal",
"nominal"],D)?void 0===x||Tc(x):"temporal"===D?Yb([Cg.TIME,Cg.UTC,void 0],x):"quantitative"===D?wj.has(x)||fi.has(x)||void 0===x:1);return D?(za(`FieldDef does not work with "${x}" scale. We are using "${h}" scale instead.`),h):x}return h}function Ti(c,a,d,f){switch(a.type){case "nominal":case "ordinal":if(Q(c)||"discrete"===t(c))return"shape"===c&&"ordinal"===a.type&&za(de(c,"ordinal")),"ordinal";if(V(c)||c in gj){if(Yb(["rect","bar","image","rule"],d.type)||f)return"band"}else if("arc"===d.type&&
c in nk)return"band";c=d[B(c)];if(Wc(c))return"band";let h;return Kd(a)&&(null==(h=a.axis)?0:h.tickBand)?"band":"point";case "temporal":if(!Q(c)){if("discrete"===t(c))return za(de(c,"temporal")),"ordinal";if(vb(a)&&a.timeUnit&&ae(a.timeUnit).utc)return"utc"}return"time";case "quantitative":if(Q(c)){if(vb(a)&&X(a.bin))return"bin-ordinal"}else if("discrete"===t(c))return za(de(c,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${a.type}".`);}function Gl(c){let {ignoreRange:a}=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};kj(c);Ig(c)?fk(c):kk(c);for(const d of hi)gk(c,d);a||Mj(c)}function kj(c){if(Ig(c)){var a=c.component;const {encoding:ra,mark:Ia,markDef:hb}=c;var d={};for(var f of bj){var h=ne(ra[f]);if(!h||Ia!==Qk||"shape"!==f||"geojson"!==h.type){var x=h&&h.scale;if(f in gj){var D=H(f);if(!eg(ra,D)){x&&za(`${f} encoding has no scale, so specified scale is ignored.`);continue}}h&&null!==x&&!1!==x&&(null!=x||(x={}),D=eg(ra,f),h=Lj(x,f,h,hb,D),d[f]=new ag(c.scaleName(`${f}`,
!0),{value:h,explicit:x.type===h}))}}a.scales=d}else{f=c.component;x=c.component.scales={};h={};const ra=c.component.resolve;for(D of c.children){kj(D);for(var ca of ie(D.component.scales)){let Ia,hb;null!=(Ia=ra.scale)[hb=ca]||(Ia[hb]=Nb(ca,c));if("shared"===ra.scale[ca]){const Ob=h[ca],tc=D.component.scales[ca].getWithExplicit("type");if(Ob){const md=Li[Ob.value],Jc=Li[tc.value];md===Jc||"ordinal-position"===md&&"time"===Jc||"ordinal-position"===Jc&&"time"===md?h[ca]=ug(Ob,tc,"type","scale",Jm):
(ra.scale[ca]="independent",delete h[ca])}else h[ca]=tc}}}for(a of ie(h)){D=c.scaleName(a,!0);x[a]=new ag(D,h[a]);for(d of c.children)if(ca=d.component.scales[a])d.renameScale(ca.get("name"),D),ca.merged=!0}f.scales=x}}function Ig(c){return"unit"===(null==c?void 0:c.type)}function Rh(c){return"facet"===(null==c?void 0:c.type)}function vi(c){return"concat"===(null==c?void 0:c.type)}function Ui(c){return"layer"===(null==c?void 0:c.type)}function Nj(c){function a(f,h){f instanceof tb&&!(f.isGenerator||
"url"in f.data)&&(c.push(h),h={name:null,source:h.name,transform:[]});if(f instanceof n)if(f.parent instanceof tb&&!h.source){var x;h.format=Object.assign({},null!=(x=h.format)?x:{},{parse:f.assembleFormatParse()});h.transform.push(...f.assembleTransforms(!0))}else h.transform.push(...f.assembleTransforms());if(f instanceof e)h.name||(h.name=`data_${d++}`),!h.source||0<h.transform.length?(c.push(h),f.data=h.name):f.data=h.source,c.push(...f.assemble());else switch((f instanceof na||f instanceof Ba||
f instanceof zl||f instanceof rj||f instanceof cj||f instanceof Al||f instanceof b||f instanceof Bl||f instanceof qf||f instanceof bf||f instanceof mm||f instanceof nm||f instanceof om||f instanceof pm||f instanceof qm||f instanceof rm||f instanceof K||f instanceof sm||f instanceof tm||f instanceof um)&&h.transform.push(f.assemble()),(f instanceof mi||f instanceof ch||f instanceof Ek||f instanceof Ze||f instanceof al)&&h.transform.push(...f.assemble()),f instanceof uh&&(h.source&&0===h.transform.length?
f.setSource(h.source):f.parent instanceof uh?f.setSource(h.name):(h.name||(h.name=`data_${d++}`),f.setSource(h.name),1===f.numChildren()&&(c.push(h),h={name:null,source:h.name,transform:[]}))),f.numChildren()){case 0:f instanceof uh&&(!h.source||0<h.transform.length)&&c.push(h);break;case 1:a(f.children[0],h);break;default:h.name||(h.name=`data_${d++}`);x=h.name;!h.source||0<h.transform.length?c.push(h):x=h.source;for(const D of f.children)a(D,{name:null,source:x,transform:[]})}}let d=0;return a}
function Dj(c){const a=[],d=Nj(a);for(const f of c.children)d(f,{source:c.name,name:null,transform:[]});return a}function Kk(c,a){const d=[];var f=Nj(d);let h=0;for(const x of c.sources){x.hasName()||(x.dataName=`source_${h++}`);const D=x.assemble();f(x,D)}for(const x of d)0===x.transform.length&&delete x.transform;f=0;for(const x of d.entries()){const [D,ca]=x;let ra;0!==(null!=(ra=ca.transform)?ra:[]).length||ca.source||d.splice(f++,0,d.splice(D,1)[0])}for(const x of d){let D;for(const ca of null!=
(D=x.transform)?D:[])"lookup"===ca.type&&(ca.from=c.outputNodes[ca.from].getSource())}for(const x of d)x.name in a&&(x.values=a[x.name]);return d}function Ej(c,a,d){a="row"===a?"height":"width";return{labels:d,sizeSignal:c.child.component.layoutSize.get(a)?c.child.getSizeSignalRef(a):void 0,axes:[]}}function ll(c,a){var {child:d}=c;if(d.component.axes[a]){const {layoutHeaders:f,resolve:h}=c.component;h.axis[a]=Mc(h,a);if("shared"===h.axis[a]){const x="x"===a?"column":"row",D=f[x];for(const ca of d.component.axes[a]){a=
ca.get("orient");a="top"===a||"left"===a||Zb(a)?"header":"footer";let ra,Ia;null!=(ra=D)[Ia=a]||(ra[Ia]=[Ej(c,x,!1)]);(d=Fi(ca,"main",c.config,{header:!0}))&&D[a][0].axes.push(d);ca.mainExtracted=!0}}}}function bk(c){for(const a of c.children)a.parseLayoutSize()}function Fj(c,a){const d=zb(a),f=Aa(d),h=c.component.resolve,x=c.component.layoutSize;let D;for(const ca of c.children){const ra=ca.component.layoutSize.getWithExplicit(d);let Ia;const hb=null!=(Ia=h.scale[f])?Ia:Nb(f,c);if("independent"===
hb&&"step"===ra.value){D=void 0;break}if(D){if("independent"===hb&&D.value!==ra.value){D=void 0;break}D=ug(D,ra,d,"")}else D=ra}if(D){for(const ca of c.children)c.renameSignal(ca.getName(d),c.getName(a)),ca.component.layoutSize.set(d,"merged",!1);x.setWithExplicit(a,D)}else x.setWithExplicit(a,{explicit:!1,value:void 0})}function ck(c,a){const d=c.config;var f=c.getScaleComponent("width"===a?"x":"y");if(f)return c=f.get("type"),f=f.get("range"),Tc(c)?(a=Bf(d.view,a),Sc(f)||of(a)?"step":a):wg(d.view,
a);if(c.hasProjection||"arc"===c.mark)return wg(d.view,a);a=Bf(d.view,a);return of(a)?a.step:a}function Gj(c,a,d){return wd(a,Object.assign({},{suffix:`by_${wd(c)}`},null!=d?d:{}))}function Ok(c,a){for(const f of a){a=f.data;if(c.name&&f.hasName()&&c.name!==f.dataName)continue;let h;const x=null==(h=c.format)?void 0:h.mesh;let D;var d=null==(D=a.format)?void 0:D.feature;if(x&&d)continue;let ca;const ra=null==(ca=c.format)?void 0:ca.feature;if((ra||d)&&ra!==d)continue;let Ia;d=null==(Ia=a.format)?
void 0:Ia.mesh;if(!x&&!d||x===d)if("values"in c&&"values"in a){if(ei(c.values,a.values))return f}else if("url"in c&&"url"in a){if(c.url===a.url)return f}else if(Df(c)&&c.name===f.dataName)return f}return null}function Zl(c,a){if(c.data||!c.parent){if(null===c.data)return c=new tb({values:[]}),a.push(c),c;const d=Ok(c.data,a);if(d)return mh(c.data)||(d.data.format=Kb({},c.data.format,d.data.format)),!d.hasName()&&c.data.name&&(d.dataName=c.data.name),d;c=new tb(c.data);a.push(c);return c}return c.parent.component.data.facetRoot?
c.parent.component.data.facetRoot:c.parent.component.data.main}function lk(c){var a=Zl(c,c.component.data.sources);const {outputNodes:d,outputNodeRefCounts:f}=c.component.data;var h=c.data;const x=h&&(mh(h)||"url"in h||"values"in h)||!c.parent?new oj:c.parent.component.data.ancestorParse.clone();if(mh(h))"sequence"in h?a=new Ba(a,h.sequence):"graticule"in h&&(a=new na(a,h.graticule)),x.parseNothing=!0;else{let ve;null===(null==h?void 0:null==(ve=h.format)?void 0:ve.parse)&&(x.parseNothing=!0)}var D;
a=null!=(D=n.makeExplicit(a,c,x))?D:a;a=new K(a);h=c.parent&&Ui(c.parent);if((Ig(c)||Rh(c))&&h){var ca;a=null!=(ca=mi.makeFromEncoding(a,c))?ca:a}if(0<c.transforms.length){ca=0;for(var ra of c.transforms){var Ia=D=void 0;if("calculate"in ra)Ia=a=new cj(a,ra),D="derived";else if("filter"in ra){Ia=oe(ra);var hb=void 0;Ia=a=null!=(hb=n.makeWithAncestors(a,{},Ia,x))?hb:a;a=new rj(a,c,ra.filter)}else if("bin"in ra)Ia=a=mi.makeFromTransform(a,ra,c),D="number";else if("timeUnit"in ra)D="date",void 0===x.getWithExplicit(ra.field).value&&
(a=new n(a,{[ra.field]:D}),x.set(ra.field,D,!1)),Ia=a=ch.makeFromTransform(a,ra);else if("aggregate"in ra)Ia=a=b.makeFromTransform(a,ra),D="number",vh(c)&&(a=new K(a));else if("lookup"in ra)Ia=a=Bl.make(a,c,ra,ca++),D="derived";else if("window"in ra)Ia=a=new qf(a,ra),D="number";else if("joinaggregate"in ra)Ia=a=new bf(a,ra),D="number";else if("stack"in ra)Ia=a=Ze.makeFromTransform(a,ra),D="derived";else if("fold"in ra)Ia=a=new mm(a,ra),D="derived";else if("extent"in ra&&!("density"in ra))Ia=a=new um(a,
ra),D="derived";else if("flatten"in ra)Ia=a=new nm(a,ra),D="derived";else if("pivot"in ra)Ia=a=new tm(a,ra),D="derived";else if("sample"in ra)a=new sm(a,ra);else if("impute"in ra)Ia=a=Ek.makeFromTransform(a,ra),D="derived";else if("density"in ra)Ia=a=new om(a,ra),D="derived";else if("quantile"in ra)Ia=a=new qm(a,ra),D="derived";else if("regression"in ra)Ia=a=new rm(a,ra),D="derived";else if("loess"in ra)Ia=a=new pm(a,ra),D="derived";else{za(`Ignoring an invalid transform: ${Bg(ra)}.`);continue}if(Ia&&
void 0!==D){let ve;for(const Qe of null!=(ve=Ia.producedFields())?ve:[])x.set(Qe,D,!1)}}}ra={};if(Ig(c)&&c.component.selection)for(var Ob of ie(c.component.selection)){hb=c.component.selection[Ob];for(const ve of hb.project.items)!ve.channel&&1<Z(ve.field)&&(ra[ve.field]="flatten")}Ob=Ne(c);var tc;a=null!=(tc=n.makeWithAncestors(a,{},Object.assign({},ra,Ob),x))?tc:a;Ig(c)&&(a=al.parseAll(a,c),a=Al.parseAll(a,c));if(Ig(c)||Rh(c)){if(!h){let ve;a=null!=(ve=mi.makeFromEncoding(a,c))?ve:a}var md;a=null!=
(md=ch.makeFromEncoding(a,c))?md:a;a=cj.parseAllForSortIndex(a,c)}md=c.getDataName(Hg.Raw);tc=new uh(a,md,Hg.Raw,f);a=d[md]=tc;if(Ig(c)){if(md=b.makeFromEncoding(a,c))a=md,vh(c)&&(a=new K(a));var Jc;a=null!=(Jc=Ek.makeFromEncoding(a,c))?Jc:a;var cd;a=null!=(cd=Ze.makeFromEncoding(a,c))?cd:a}if(Ig(c)){let ve;a=null!=(ve=zl.make(a,c))?ve:a}cd=c.getDataName(Hg.Main);Jc=new uh(a,cd,Hg.Main,f);a=d[cd]=Jc;if(Ig(c)){var pd;for(var je of Ki(null!=(pd=c.component.selection)?pd:{})){const [ve,Qe]=je;pd=c.getName(`lookup_${ve}`);
c.component.data.outputNodes[pd]=Qe.materialized=new uh(new rj(Jc,c,{param:ve}),pd,Hg.Lookup,c.component.data.outputNodeRefCounts)}}pd=null;if(Rh(c)){je=c.getName("facet");let ve;{pd=a;const {row:Qe,column:gf}=c.facet;if(Qe&&gf){cd=null;for(Nd of[Qe,gf])if(Vd(Nd.sort)){const {field:Wf,op:Vf="min"}=Nd.sort;pd=cd=new bf(pd,{joinaggregate:[{op:Vf,field:Wf,as:Gj(Nd,Nd.sort,{forAs:!0})}],groupby:[wd(Nd)]})}var Nd=cd}else Nd=null}a=null!=(ve=Nd)?ve:a;pd=new e(a,c,je,Jc.getSource());d[je]=pd}return Object.assign({},
c.component.data,{outputNodes:d,outputNodeRefCounts:f,raw:tc,main:Jc,facetRoot:pd,ancestorParse:x})}function $l(c,a,d){const {encoding:f,config:h}=c;let x;const D=null!=(x=ne(f[a]))?x:ne(f[C(a)]);c=c.axis(a)||{};const {format:ca,formatType:ra}=c;if(xe(ra))return Object.assign({},{text:df({fieldOrDatumDef:D,field:"datum.value",format:ca,formatType:ra,config:h})},d);if(void 0===ca&&void 0===ra&&h.customFormatTypes){if("quantitative"===pc(D)){if(Kd(D)&&"normalize"===D.stack&&h.normalizedNumberFormatType)return Object.assign({},
{text:df({fieldOrDatumDef:D,field:"datum.value",format:h.normalizedNumberFormat,formatType:h.normalizedNumberFormatType,config:h})},d);if(h.numberFormatType)return Object.assign({},{text:df({fieldOrDatumDef:D,field:"datum.value",format:h.numberFormat,formatType:h.numberFormatType,config:h})},d)}if("temporal"===pc(D)&&h.timeFormatType&&vb(D)&&!D.timeUnit)return Object.assign({},{text:df({fieldOrDatumDef:D,field:"datum.value",format:h.timeFormat,formatType:h.timeFormatType,config:h})},d)}return d}function Nk(c){return pi.reduce((a,
d)=>{c.component.scales[d]&&(a[d]=[Ml(d,c)]);return a},{})}function am(c,a){if(c){if(c.length!==a.length)return;const d=c.length;for(let f=0;f<d;f++){const h=c[f],x=a[f];if(!!h!==!!x)return;if(h&&x){const D=h.getWithExplicit("orient"),ca=x.getWithExplicit("orient");if(D.explicit&&ca.explicit&&D.value!==ca.value)return;c[f]=Kl(h,x)}}}else return a.map(d=>d.clone());return c}function Kl(c,a){for(const d of Bm){const f=ug(c.getWithExplicit(d),a.getWithExplicit(d),d,"axis",(h,x)=>{switch(d){case "title":return sa(h,
x);case "gridScale":return{explicit:h.explicit,value:Fa(h.value,x.value)}}return lh(h,x,d,"axis")});c.setWithExplicit(d,f)}return c}function bm(c,a,d,f,h){if("disable"===a)return void 0!==d;d=d||{};switch(a){case "titleAngle":case "labelAngle":return c===(Zb(d.labelAngle)?d.labelAngle:ma(d.labelAngle));case "values":return!!d.values;case "encode":return!!d.encoding||!!d.labelAngle;case "title":if(c===kc(f,h))return!0}return c===d[a]}function Ml(c,a){let d=a.axis(c);const f=new Cm;var h=ne(a.encoding[c]);
const {mark:x,config:D}=a;var ca,ra,Ia,hb=(null==(ca=d)?void 0:ca.orient)||(null==(ra=D["x"===c?"axisX":"axisY"])?void 0:ra.orient)||(null==(Ia=D.axis)?void 0:Ia.orient)||("x"===c?"bottom":"left");ra=a.getScaleComponent(c).get("type");ca=y(c,ra,hb,a.config);var Ob;Ia=void 0!==d?!d:ha("disable",D.style,null==(Ob=d)?void 0:Ob.style,ca).configValue;f.set("disable",Ia,void 0!==d);if(Ia)return f;d=d||{};Ob=Oa(h,d,c,D.style,ca);Ia=Ec(d.formatType,h,ra);const tc=od(h,h.type,d.format,d.formatType,D,!0);h=
{fieldOrDatumDef:h,axis:d,channel:c,model:a,scaleType:ra,orient:hb,labelAngle:Ob,format:tc,formatType:Ia,mark:x,config:D};for(const cd of Bm)if(hb=cd in Xj?Xj[cd](h):ih[cd]?d[cd]:void 0,ra=void 0!==hb,Ob=bm(hb,cd,d,a,c),ra&&Ob)f.set(cd,hb,Ob);else{const {configValue:pd,configFrom:je}=ih[cd]&&"values"!==cd?ha(cd,D.style,d.style,ca):{};Ia=void 0!==pd;ra&&!Ia?f.set(cd,hb,Ob):("vgAxisConfig"!==je||Km.has(cd)&&Ia||Jf(pd)||Zb(pd))&&f.set(cd,pd,!1)}var md;const Jc=null!=(md=d.encoding)?md:{};md=uk.reduce((cd,
pd)=>{if(!f.hasAxisPart(pd))return cd;var je;const Nd=Mb(null!=(je=Jc[pd])?je:{},a);je="labels"===pd?$l(a,c,Nd):Nd;void 0===je||Qa(je)||(cd[pd]={update:je});return cd},{});Qa(md)||f.set("encode",md,!!d.encoding||void 0!==d.labelAngle);return f}function cm(c){let {encoding:a,size:d}=c;for(const f of pi)c=B(f),of(d[c])&&rc(a[f])&&(delete d[c],za(Ve(c)));return d}function nl(c,a,d){c=sc(c);var f=zc("orient",c,d);c.orient=em(c.type,a,f);void 0!==f&&f!==c.orient&&za(`Specified orient "${c.orient}" overridden with "${f}".`);
if("bar"===c.type&&c.orient&&(f=zc("cornerRadiusEnd",c,d),void 0!==f)){const x="horizontal"===c.orient&&a.x2||"vertical"===c.orient&&a.y2?["cornerRadius"]:Di[c.orient];for(var h of x)c[h]=f;void 0!==c.cornerRadiusEnd&&delete c.cornerRadiusEnd}void 0===zc("opacity",c,d)&&(h=Yb([Th,Ai,Mi,Bi],c.type)&&!wf(a)?.7:void 0,c.opacity=h);void 0===zc("cursor",c,d)&&(a=a.href||c.href||zc("href",c,d)?"pointer":c.cursor,c.cursor=a);return c}function dm(c,a,d){({graticule:d}=d);if(d)return!1;a=Zc("filled",c,a);
c=c.type;return Fa(a,c!==Th&&c!==Dg&&c!==mj)}function em(c,a,d){switch(c){case Th:case Mi:case Bi:case nj:case Vl:case Zh:return}const {x:f,y:h,x2:x,y2:D}=a;switch(c){case Mh:if(vb(f)&&(Ca(f.bin)||vb(h)&&h.aggregate&&!f.aggregate))break;if(vb(h)&&(Ca(h.bin)||vb(f)&&f.aggregate&&!h.aggregate))return"horizontal";if(D||x){if(d)return d;if(!x){if((vb(f)&&"quantitative"===f.type&&!X(f.bin)||Bd(f))&&vb(h)&&Ca(h.bin))return"horizontal";break}if(!D){if((vb(h)&&"quantitative"===h.type&&!X(h.bin)||Bd(h))&&
vb(f)&&Ca(f.bin))break;return"horizontal"}}case mj:if(!(!x||vb(f)&&Ca(f.bin)||!D||vb(h)&&Ca(h.bin)))return;case ii:if(D){if(vb(h)&&Ca(h.bin))return"horizontal";break}else if(x)if(vb(f)&&Ca(f.bin))break;else return"horizontal";else if(c===mj)if(f&&!h)break;else if(h&&!f)return"horizontal";case Dg:case Ai:a=Kc(f);const ca=Kc(h);if(d)return d;if(a&&!ca)return"tick"!==c?"horizontal":"vertical";if(!a&&ca)return"tick"!==c?"vertical":"horizontal";if(!a||!ca)if(c=$c(f)&&"temporal"===f.type,d=$c(h)&&"temporal"===
h.type,!c||d){if(!c&&d)return"horizontal";return}}return"vertical"}function Hk(c,a){var d=Object,f=d.assign,h=Ef(c,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),x=Rc("x",c,{defaultPos:"mid"}),D=Rc("y",c,{defaultPos:"mid"}),ca=Bb("size",c),ra=Bb("angle",c);c=a?{shape:{value:a}}:Bb("shape",c);return f.call(d,{},h,x,D,ca,ra,c)}function fm(c){if(Yb([Dg,ii,Rj],c.mark)){var a=bb(c.mark,c.encoding);if(0<a.length)return Jl(c,a)}else if(c.mark===Mh&&(a=hj.some(d=>
zc(d,c.markDef,c.config)),c.stack&&!c.fieldDef("size")&&a))return gm(c);return $k(c)}function Jl(c,a){return[{name:c.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+c.requestDataName(Hg.Main),data:c.requestDataName(Hg.Main),groupby:a}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:$k(c,{fromPrefix:"faceted_path_"})}]}function gm(c){const [a]=$k(c,{fromPrefix:"stack_group_"}),d=c.scaleName(c.stack.fieldChannel),f=function(){return c.vgField(c.stack.fieldChannel,
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var h=(Ia,hb)=>{hb=[f({prefix:"min",suffix:"start",expr:hb}),f({prefix:"max",suffix:"start",expr:hb}),f({prefix:"min",suffix:"end",expr:hb}),f({prefix:"max",suffix:"end",expr:hb})];return`${Ia}(${hb.map(Ob=>`scale('${d}',${Ob})`).join(",")})`};let x;"x"===c.stack.fieldChannel?(h=Object.assign({},Ac(a.encode.update,["y","yc","y2","height",...hj]),{x:{signal:h("min","datum")},x2:{signal:h("max","datum")},clip:{value:!0}}),x={x:{field:{group:"x"},
mult:-1},height:{field:{group:"height"}}},a.encode.update=Object.assign({},uc(a.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(h=Object.assign({},Ac(a.encode.update,["x","xc","x2","width"]),{y:{signal:h("min","datum")},y2:{signal:h("max","datum")},clip:{value:!0}}),x={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},a.encode.update=Object.assign({},uc(a.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var D of hj){var ca=Zc(D,c.markDef,c.config);
a.encode.update[D]?(h[D]=a.encode.update[D],delete a.encode.update[D]):ca&&(h[D]=Tb(ca));ca&&(a.encode.update[D]={value:0})}D=[];var ra;if(0<(null==(ra=c.stack.groupbyChannels)?void 0:ra.length))for(const Ia of c.stack.groupbyChannels){ra=c.fieldDef(Ia);(ca=wd(ra))&&D.push(ca);let hb,Ob;((null==(hb=ra)?0:hb.bin)||(null==(Ob=ra)?0:Ob.timeUnit))&&D.push(wd(ra,{binSuffix:"end"}))}h="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((Ia,
hb)=>{if(a.encode.update[hb])return Object.assign({},Ia,{[hb]:a.encode.update[hb]});const Ob=Zc(hb,c.markDef,c.config);return void 0!==Ob?Object.assign({},Ia,{[hb]:Tb(Ob)}):Ia},h);h.stroke&&(h.strokeForeground={value:!0},h.strokeOffset={value:0});return[{type:"group",from:{facet:{data:c.requestDataName(Hg.Main),name:"stack_group_"+c.requestDataName(Hg.Main),groupby:D,aggregate:{fields:[f({suffix:"start"}),f({suffix:"start"}),f({suffix:"end"}),f({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:h},
marks:[{type:"group",encode:{update:x},marks:[a]}]}]}function ml(c){const {encoding:a,stack:d,mark:f,markDef:h,config:x}=c;var D=a.order;if(!(!P.isArray(D)&&yd(D)&&jc(D.value)||!D&&jc(zc("order",h,x)))){if((P.isArray(D)||vb(D))&&!d)return Ha(D,{expr:"datum"});if(oc(f)){const ca="horizontal"===h.orient?"y":"x",ra=a[ca];if(vb(ra)){D=ra.sort;if(P.isArray(D))return{field:wd(ra,{prefix:ca,suffix:"sort_index",expr:"datum"})};if(Vd(D))return{field:wd({aggregate:wf(c.encoding)?D.op:void 0,field:D.field},
{expr:"datum"})};if(null!=D&&D.encoding)return c=c.fieldDef(D.encoding),{field:wd(c,{expr:"datum"}),order:D.order};if(null!==D){let Ia;return{field:wd(ra,{binSuffix:(null==(Ia=c.stack)?0:Ia.impute)?"mid":void 0,expr:"datum"})}}}}}}function $k(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:d,markDef:f,encoding:h,config:x}=c;var D=f.clip;var ca=c.getScaleComponent("x");var ra=c.getScaleComponent("y");ca=(null==ca?0:ca.get("selectionExtent"))||(null==ra?0:
ra.get("selectionExtent"))?!0:void 0;ra=c.component.projection;D=Fa(D,ca,ra&&!ra.isFit?!0:void 0);ca=Ic(f);ra=h.key;const Ia=ml(c);var hb;if(c.component.selection){for(var Ob=hb=ie(c.component.selection).length,tc=c.parent;tc&&0===Ob;)Ob=ie(tc.component.selection).length,tc=tc.parent;hb=Ob?{interactive:0<hb||"geoshape"===c.mark||!!c.encoding.tooltip}:null}else hb=null;Ob=zc("aria",f,x);tc=Cl[d].postEncodingTransform?Cl[d].postEncodingTransform(c):null;return[Object.assign({},{name:c.getName("marks"),
type:Cl[d].vgMark},D?{clip:!0}:{},ca?{style:ca}:{},ra?{key:ra.field}:{},Ia?{sort:Ia}:{},hb?hb:{},!1===Ob?{aria:Ob}:{},{from:{data:a.fromPrefix+c.requestDataName(Hg.Main)},encode:{update:Cl[d].encodeEntry(c)}},tc?{transform:tc}:{})]}function Pk(c,a,d,f,h){if("facet"in c)return new Dl(c,a,d,h);if("layer"in c)return new Dm(c,a,d,f,h);if(yf(c))return new Em(c,a,d,f,h);if("vconcat"in c||"hconcat"in c||"concat"in c)return new Lm(c,a,d,h);throw Error(Za(c));}function hm(c,a){var d=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:{};let f=3<arguments.length?arguments[3]:void 0;const h=c.config?xg(c.config):void 0;d=[].concat(c.assembleSelectionData([]),Kk(c.component.data,d));const x=c.assembleProjections(),D=c.assembleTitle(),ca=c.assembleGroupStyle(),ra=c.assembleGroupEncodeEntry(!0);let Ia=c.assembleLayoutSignals();Ia=Ia.filter(tc=>"width"!==tc.name&&"height"!==tc.name||void 0===tc.value?!0:(a[tc.name]=+tc.value,!1));var hb=Object.assign({},a);const Ob=a.params;hb=(delete hb.params,hb);return Object.assign({},
{$schema:"https://vega.github.io/schema/vega/v5.json"},c.description?{description:c.description}:{},hb,D?{title:D}:{},ca?{style:ca}:{},ra?{encode:{update:ra}}:{},{data:d},0<x.length?{projections:x}:{},c.assembleGroup([...Ia,...c.assembleSelectionTopLevelSignals([]),...Lf(Ob)]),h?{config:h}:{},f?{usermeta:f}:{})}var kl={exports:{}};(function(c){var a=function(){function d(Ia,hb){return null!=hb&&Ia instanceof hb}function f(Ia,hb,Ob,tc,md){function Jc(Nd,ve){if(null===Nd)return null;if(0===ve||"object"!=
typeof Nd)return Nd;if(d(Nd,D))var Qe=new D;else if(d(Nd,ca))Qe=new ca;else if(d(Nd,ra))Qe=new ra(function(Mf,Xg){Nd.then(function(Nf){Mf(Jc(Nf,ve-1))},function(Nf){Xg(Jc(Nf,ve-1))})});else if(f.__isArray(Nd))Qe=[];else if(f.__isRegExp(Nd))Qe=new RegExp(Nd.source,x(Nd)),Nd.lastIndex&&(Qe.lastIndex=Nd.lastIndex);else if(f.__isDate(Nd))Qe=new Date(Nd.getTime());else{if(je&&v.isBuffer(Nd))return Qe=v.allocUnsafe?v.allocUnsafe(Nd.length):new v(Nd.length),Nd.copy(Qe),Qe;if(d(Nd,Error))Qe=Object.create(Nd);
else if("undefined"==typeof tc){var gf=Object.getPrototypeOf(Nd);Qe=Object.create(gf)}else Qe=Object.create(tc),gf=tc}if(hb){var Wf=cd.indexOf(Nd);if(-1!=Wf)return pd[Wf];cd.push(Nd);pd.push(Qe)}d(Nd,D)&&Nd.forEach(function(Mf,Xg){Xg=Jc(Xg,ve-1);Mf=Jc(Mf,ve-1);Qe.set(Xg,Mf)});d(Nd,ca)&&Nd.forEach(function(Mf){Mf=Jc(Mf,ve-1);Qe.add(Mf)});for(var Vf in Nd){var ig;gf&&(ig=Object.getOwnPropertyDescriptor(gf,Vf));ig&&null==ig.set||(Qe[Vf]=Jc(Nd[Vf],ve-1))}if(Object.getOwnPropertySymbols)for(Wf=Object.getOwnPropertySymbols(Nd),
Vf=0;Vf<Wf.length;Vf++)if(ig=Wf[Vf],gf=Object.getOwnPropertyDescriptor(Nd,ig),!gf||gf.enumerable||md)Qe[ig]=Jc(Nd[ig],ve-1),gf.enumerable||Object.defineProperty(Qe,ig,{enumerable:!1});if(md)for(Wf=Object.getOwnPropertyNames(Nd),Vf=0;Vf<Wf.length;Vf++)ig=Wf[Vf],gf=Object.getOwnPropertyDescriptor(Nd,ig),gf&&gf.enumerable||(Qe[ig]=Jc(Nd[ig],ve-1),Object.defineProperty(Qe,ig,{enumerable:!1}));return Qe}"object"===typeof hb&&(Ob=hb.depth,tc=hb.prototype,md=hb.includeNonEnumerable,hb=hb.circular);var cd=
[],pd=[],je="undefined"!=typeof v;"undefined"==typeof hb&&(hb=!0);"undefined"==typeof Ob&&(Ob=Infinity);return Jc(Ia,Ob)}function h(Ia){return Object.prototype.toString.call(Ia)}function x(Ia){var hb="";Ia.global&&(hb+="g");Ia.ignoreCase&&(hb+="i");Ia.multiline&&(hb+="m");return hb}try{var D=Map}catch(Ia){D=function(){}}try{var ca=Set}catch(Ia){ca=function(){}}try{var ra=Promise}catch(Ia){ra=function(){}}f.clonePrototype=function(Ia){if(null===Ia)return null;var hb=function(){};hb.prototype=Ia;return new hb};
f.__objToStr=h;f.__isDate=function(Ia){return"object"===typeof Ia&&"[object Date]"===h(Ia)};f.__isArray=function(Ia){return"object"===typeof Ia&&"[object Array]"===h(Ia)};f.__isRegExp=function(Ia){return"object"===typeof Ia&&"[object RegExp]"===h(Ia)};f.__getRegExpFlags=x;return f}();c.exports&&(c.exports=a)})(kl);var im=ib(kl.exports),Ll=ib(function f(a,d){if(a===d)return!0;if(a&&d&&"object"==typeof a&&"object"==typeof d){if(a.constructor!==d.constructor)return!1;var h;if(Array.isArray(a)){var x=
a.length;if(x!=d.length)return!1;for(h=x;0!==h--;)if(!f(a[h],d[h]))return!1;return!0}if(a.constructor===RegExp)return a.source===d.source&&a.flags===d.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===d.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===d.toString();var D=Object.keys(a);x=D.length;if(x!==Object.keys(d).length)return!1;for(h=x;0!==h--;)if(!Object.prototype.hasOwnProperty.call(d,D[h]))return!1;for(h=x;0!==h--;)if(x=D[h],!f(a[x],d[x]))return!1;
return!0}return a!==a&&d!==d}),Ik=ib(function(a,d){d||(d={});"function"===typeof d&&(d={cmp:d});var f="boolean"===typeof d.cycles?d.cycles:!1,h=d.cmp&&function(D){return function(ca){return function(ra,Ia){return D({key:ra,value:ca[ra]},{key:Ia,value:ca[Ia]})}}}(d.cmp),x=[];return function ra(ca){ca&&ca.toJSON&&"function"===typeof ca.toJSON&&(ca=ca.toJSON());if(void 0!==ca){if("number"==typeof ca)return isFinite(ca)?""+ca:"null";if("object"!==typeof ca)return JSON.stringify(ca);var Ia;if(Array.isArray(ca)){var hb=
"[";for(Ia=0;Ia<ca.length;Ia++)Ia&&(hb+=","),hb+=ra(ca[Ia])||"null";return hb+"]"}if(null===ca)return"null";if(-1!==x.indexOf(ca)){if(f)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Ob=x.push(ca)-1,tc=Object.keys(ca).sort(h&&h(ca));hb="";for(Ia=0;Ia<tc.length;Ia++){var md=tc[Ia],Jc=ra(ca[md]);Jc&&(hb&&(hb+=","),hb+=JSON.stringify(md)+":"+Jc)}x.splice(Ob,1);return"{"+hb+"}"}}(a)});const ei=Ll,sf=im;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>
Ik(a)).join(",")})`};const Bg=Ik,ie=Object.keys,wh=Object.values,Ki=Object.entries;let lj=42;const Jk={theta:1,theta2:1,radius:1,radius2:1},Vi={longitude:1,longitude2:1,latitude:1,latitude2:1},Oj=ie(Vi),ok=Object.assign({},{x:1,y:1,x2:1,y2:1},Jk,Vi,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),Ak={row:1,column:1,facet:1},ci=ie(Ak),dk=Object.assign({},
ok,Ak),oi=ie(dk);var pk=Object.assign({},dk),tj=(delete pk.order,delete pk.detail,delete pk.tooltip,pk),uj=Object.assign({},tj);const Pj=(delete uj.row,delete uj.column,delete uj.facet,uj),Lk="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),vj=ie(ok);var Eh=Object.assign({},ok);const jk=(delete Eh.x,delete Eh.y,delete Eh.x2,delete Eh.y2,delete Eh.xOffset,delete Eh.yOffset,delete Eh.latitude,delete Eh.longitude,delete Eh.latitude2,delete Eh.longitude2,delete Eh.theta,delete Eh.theta2,delete Eh.radius,
delete Eh.radius2,Eh),jl=ie(jk),mk={x:1,y:1},pi=ie(mk),nk={theta:1,radius:1},hl=ie(nk),gj={xOffset:1,yOffset:1};var ti=Object.assign({},jk);const Bk=(delete ti.text,delete ti.tooltip,delete ti.href,delete ti.url,delete ti.description,delete ti.detail,delete ti.key,delete ti.order,ti),jm=ie(Bk),Hi=Object.assign({},mk,nk,gj,Bk),bj=ie(Hi),il={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",
trail:"always",text:"always",tick:"always"};var Qj=Object.assign({},il);const Nl=(delete Qj.geoshape,Qj),Ol={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Tk={count:1,min:1,max:1},Uk=new Set(["count","valid","missing","distinct"]),Xk=new Set(["count","sum","distinct","valid","missing"]),Yl=new Set("mean average median q1 q3 min max".split(" ")),wl=ie({aria:1,
description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,
cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Wl={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},hj=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],qi=P.logger(P.Warn);let Wi=qi;const wi="january february march april may june july august september october november december".split(" "),
Mk=wi.map(a=>a.substr(0,3)),ul="sunday monday tuesday wednesday thursday friday saturday".split(" "),Tl=ul.map(a=>a.substr(0,3)),qk={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Xi=ie(qk),Yi={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Lh={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Cg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",
QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Li={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},xi={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,
time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},wj=new Set(["linear","log","pow","sqrt","symlog"]),Sh=new Set([...wj,"time","utc"]),fi=new Set(["quantile","quantize","threshold"]),xj=new Set([...Sh,...fi,"sequential","identity"]),sk=new Set(["ordinal","bin-ordinal","point","band"]);new Set(["time","utc"]);var yi=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,
nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const gi=(delete yi.type,delete yi.domain,delete yi.range,delete yi.rangeMax,delete yi.rangeMin,delete yi.scheme,yi),hi=ie(gi),dh={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},zi=dh.arc,ii=dh.area,Mh=dh.bar,Zh=dh.image,Dg=dh.line,Th=dh.point,Vl=dh.rect,mj=dh.rule,
nj=dh.text,Ai=dh.tick,Rj=dh.trail,Mi=dh.circle,Bi=dh.square,Qk=dh.geoshape,tk=new Set(ie(dh)),Bj="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),Sk=ie({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),yj=ie({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),Di={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],
vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Aj={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},zj=(a,d)=>{switch(d.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:f,bin:h,timeUnit:x,field:D}=a;va(f)?a=`${D} for argmax(${f.argmax})`:L(f)?a=`${D} for argmin(${f.argmin})`:(a=x&&!Nc(x)?ae(x):void 0,a=(a=f||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||X(h)&&"bin")?`${a.toUpperCase()}(${D})`:
D)}return a;default:return Ld(a,d)}};let Fg=zj;const aj={compatible:!0},Sj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",
vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},uk=["domain","grid","labels","ticks","title"],pj={grid:"grid",
gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",
labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",
titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},qg={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,
domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,
tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},ih=Object.assign({},qg,{style:1,labelExpr:1,encoding:1}),nh=ie({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,
axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class qj{constructor(a,d){this.name=a;this.run=d}hasMatchingType(a){return yf(a)?(a=a.mark,(Lc(a)?a.type:a)===this.name):!1}}const Tj=new qj("boxplot",cg),Uj=new qj("errorbar",Yf),km=new qj("errorband",Qg),Vj={};fh("boxplot",cg,["box","median","outliers","rule","ticks"]);fh("errorbar",
Yf,["ticks","rule"]);fh("errorband",Qg,["band","borders"]);const Pl=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],pl={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},
ql={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Ql=ie(pl),Rl=ie(ql),Qh=ie({header:1,headerRow:1,headerColumn:1,headerFacet:1}),wk="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Sl=ie({align:1,bounds:1,center:1,columns:1,spacing:1}),
rl={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},
boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,
gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,
stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},Oi="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),sl={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Wj={blue:Oi[0],orange:Oi[1],red:Oi[2],teal:Oi[3],green:Oi[4],yellow:Oi[5],purple:Oi[6],pink:Oi[7],brown:Oi[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",
gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Oh=[...yj,...nh,...Qh,"background","padding","legend","lineBreak","scale","style","title","view"],Ul=new Set(["view",...tk]),Oe="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
tl=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});class th{map(a,d){return"facet"in a?this.mapFacet(a,d):"repeat"in a?this.mapRepeat(a,d):"hconcat"in a?this.mapHConcat(a,d):"vconcat"in a?this.mapVConcat(a,d):"concat"in a?this.mapConcat(a,
d):this.mapLayerOrUnit(a,d)}mapLayerOrUnit(a,d){if("layer"in a)return this.mapLayer(a,d);if(yf(a))return this.mapUnit(a,d);throw Error(Za(a));}mapLayer(a,d){return Object.assign({},a,{layer:a.layer.map(f=>this.mapLayerOrUnit(f,d))})}mapHConcat(a,d){return Object.assign({},a,{hconcat:a.hconcat.map(f=>this.map(f,d))})}mapVConcat(a,d){return Object.assign({},a,{vconcat:a.vconcat.map(f=>this.map(f,d))})}mapConcat(a,d){var f=Object.assign({},a);a=a.concat;f=(delete f.concat,f);return Object.assign({},
f,{concat:a.map(h=>this.map(h,d))})}mapFacet(a,d){return Object.assign({},a,{spec:this.map(a.spec,d)})}mapRepeat(a,d){return Object.assign({},a,{spec:this.map(a.spec,d)})}}const si={zero:1,center:1,normalize:1},Xl=new Set([zi,Mh,ii,mj,Th,Mi,Bi,Dg,nj,Ai]),xk=new Set([Mh,ii,zi]);class Yk{constructor(){F(this,"name","path-overlay")}hasMatchingType(a,d){if(yf(a)){const {mark:f,encoding:h}=a;a=Lc(f)?f:{type:f};switch(a.type){case "line":case "rule":case "trail":return!!ph(a,d[a.type],h);case "area":return!!ph(a,
d[a.type],h)||!!Ah(a,d[a.type])}}return!1}run(a,d,f){var {config:h}=d,x=Object.assign({},a),D=a.params,ca=a.projection,ra=a.mark,Ia=a.name;a=a.encoding;x=(delete x.params,delete x.projection,delete x.mark,delete x.name,delete x.encoding,x);a=Jg(a,h);ra=Lc(ra)?ra:{type:ra};const hb=ph(ra,h[ra.type],a),Ob="area"===ra.type&&Ah(ra,h[ra.type]);var tc=Object,md=tc.assign;var Jc=Object.assign({},"area"===ra.type&&void 0===ra.opacity&&void 0===ra.fillOpacity?{opacity:.7}:{},ra);Jc=Object.assign({},Jc);Jc=
(delete Jc.point,delete Jc.line,Jc);Jc=1<ie(Jc).length?Jc:Jc.type;D=[md.call(tc,{},{name:Ia},D?{params:D}:{},{mark:Jc,encoding:uc(a,["shape"])})];Ia=$g(ra,a);tc=a;if(Ia){const {fieldChannel:cd,offset:pd}=Ia;tc=Object.assign({},a,{[cd]:Object.assign({},a[cd],pd?{stack:pd}:{})})}tc=uc(tc,["y2","x2"]);Ob&&D.push(Object.assign({},ca?{projection:ca}:{},{mark:Object.assign({},{type:"line"},Ac(ra,["clip","interpolate","tension","tooltip"]),Ob),encoding:tc}));hb&&D.push(Object.assign({},ca?{projection:ca}:
{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},Ac(ra,["clip","tooltip"]),hb),encoding:tc}));ca=Object.assign({},x,{layer:D});x=Object;D=x.assign;for(const cd of["line","area","rule","trail"])h[cd]&&(h=Object.assign({},h,{[cd]:uc(h[cd],["point","line"])}));return f(ca,D.call(x,{},d,{config:h}))}}class li{constructor(){F(this,"name","RuleForRangedLine")}hasMatchingType(a){if(yf(a)){const {encoding:d,mark:f}=a;if("line"===f||Lc(f)&&"line"===f.type)for(const h of Lk)if(a=u(h),a=d[a],d[h]&&
(vb(a)&&!Ca(a.bin)||qc(a)))return!0}return!1}run(a,d,f){const {encoding:h,mark:x}=a;var D=!!h.x2;za(`Line mark is for continuous lines and thus cannot be used with ${D&&h.y2?"x2 and y2":D?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return f(Object.assign({},a,{mark:P.isObject(x)?Object.assign({},x,{type:"rule"}):"rule"}),d)}}class $f extends th{constructor(){super(...arguments);F(this,"nonFacetUnitNormalizers",[Tj,Uj,km,new Yk,new li])}map(a,d){if(yf(a)){const f=zf(a.encoding,
"row"),h=zf(a.encoding,"column"),x=zf(a.encoding,"facet");if(f||h||x)return this.mapFacetedUnit(a,d)}return super.map(a,d)}mapUnit(a,d){const {parentEncoding:f,parentProjection:h}=d;var x=bi(a.encoding,d.repeater);a=Object.assign({},a,a.name?{name:[d.repeaterPrefix,a.name].filter(D=>D).join("_")}:{},x?{encoding:x}:{});if(f||h)return this.mapUnitWithParentEncodingOrProjection(a,d);x=this.mapLayerOrUnit.bind(this);for(const D of this.nonFacetUnitNormalizers)if(D.hasMatchingType(a,d.config))return D.run(a,
d,x);return a}mapRepeat(a,d){return!P.isArray(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,d):this.mapNonLayerRepeat(a,d)}mapLayerRepeat(a,d){var f=Object.assign({},a);const h=a.repeat,x=a.spec;f=(delete f.repeat,delete f.spec,f);const {row:D,column:ca,layer:ra}=h,{repeater:Ia={},repeaterPrefix:hb=""}=d;return D||ca?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},D?{row:D}:{},ca?{column:ca}:{}),spec:{repeat:{layer:ra},spec:x}}),d):Object.assign({},f,{layer:ra.map(Ob=>{var tc=Object.assign({},
Ia,{layer:Ob});Ob=`${(x.name?`${x.name}_`:"")+hb}child__layer_${Ka(Ob)}`;tc=this.mapLayerOrUnit(x,Object.assign({},d,{repeater:tc,repeaterPrefix:Ob}));tc.name=Ob;return tc})})}mapNonLayerRepeat(a,d){var f=a,h=Object.assign({},f);const x=f.repeat,D=f.spec;f=f.data;h=(delete h.repeat,delete h.spec,delete h.data,h);!P.isArray(x)&&a.columns&&(a=uc(a,["columns"]),za(ed("repeat")));const ca=[],{repeater:ra={},repeaterPrefix:Ia=""}=d,hb=!P.isArray(x)&&x.row||[ra?ra.row:null],Ob=!P.isArray(x)&&x.column||
[ra?ra.column:null];var tc=P.isArray(x)&&x||[ra?ra.repeat:null];for(const cd of tc)for(const pd of hb)for(const je of Ob){var md={repeat:cd,row:pd,column:je,layer:ra.layer};tc=(D.name?`${D.name}_`:"")+Ia+"child__"+(P.isArray(x)?`${Ka(cd)}`:(x.row?`row_${Ka(pd)}`:"")+(x.column?`column_${Ka(je)}`:""));md=this.map(D,Object.assign({},d,{repeater:md,repeaterPrefix:tc}));md.name=tc;ca.push(uc(md,["data"]))}a=P.isArray(x)?a.columns:x.column?x.column.length:1;let Jc;return Object.assign({},{data:null!=(Jc=
D.data)?Jc:f,align:"all"},h,{columns:a,concat:ca})}mapFacet(a,d){const {facet:f}=a;le(f)&&a.columns&&(a=uc(a,["columns"]),za(ed("facet")));return super.mapFacet(a,d)}mapUnitWithParentEncodingOrProjection(a,d){const {encoding:f,projection:h}=a,{parentEncoding:x,parentProjection:D,config:ca}=d,ra=Sg({parentProjection:D,projection:h});d=Uh({parentEncoding:x,encoding:bi(f,d.repeater)});return this.mapUnit(Object.assign({},a,ra?{projection:ra}:{},d?{encoding:d}:{}),{config:ca})}mapFacetedUnit(a,d){var f=
a.encoding,h=Object.assign({},f),x=f.row;const D=f.column;f=f.facet;const ca=(delete h.row,delete h.column,delete h.facet,h);var ra=Object.assign({},a);h=a.mark;const Ia=a.width,hb=a.projection,Ob=a.height,tc=a.view;a=a.params;ra=(delete ra.mark,delete ra.width,delete ra.projection,delete ra.height,delete ra.view,delete ra.params,delete ra.encoding,ra);const {facetMapping:md,layout:Jc}=this.getFacetMappingAndLayout({row:x,column:D,facet:f},d);x=bi(ca,d.repeater);return this.mapFacet(Object.assign({},
ra,Jc,{facet:md,spec:Object.assign({},Ia?{width:Ia}:{},Ob?{height:Ob}:{},tc?{view:tc}:{},hb?{projection:hb}:{},{mark:h,encoding:x},a?{params:a}:{})}),d)}getFacetMappingAndLayout(a,d){const {row:f,column:h,facet:x}=a;if(f||h){x&&(d=[...(f?["row"]:[]),...(h?["column"]:[])],d=`Facet encoding dropped as ${d.join(" and ")} ${1<d.length?"are":"is"} also specified.`,za(d));d={};const Ob={};for(var D of["row","column"]){const tc=a[D];if(tc){var ca=Object.assign({},tc);ca=(delete ca.align,delete ca.center,
delete ca.spacing,delete ca.columns,ca);d[D]=ca;for(var ra of["align","center","spacing"])if(void 0!==tc[ra]){var Ia=void 0,hb=void 0;null!=(Ia=Ob)[hb=ra]||(Ia[hb]={});Ob[ra][D]=tc[ra]}}}return{facetMapping:d,layout:Ob}}hb=Object.assign({},x);a=x.align;D=x.center;ra=x.spacing;Ia=x.columns;hb=(delete hb.align,delete hb.center,delete hb.spacing,delete hb.columns,hb);hb=(d=d.repeater)?le(hb)?Fh(hb,d):qh(hb,d):hb;return{facetMapping:hb,layout:Object.assign({},a?{align:a}:{},D?{center:D}:{},ra?{spacing:ra}:
{},Ia?{columns:Ia}:{})}}mapLayer(a,d){var f=Object.assign({},d),h=d.parentEncoding;d=d.parentProjection;f=(delete f.parentEncoding,delete f.parentProjection,f);var x=Object.assign({},a);const D=a.encoding,ca=a.projection;x=(delete x.encoding,delete x.projection,x);h=Object.assign({},f,{parentEncoding:Uh({parentEncoding:h,encoding:D,layer:!0}),parentProjection:Sg({parentProjection:d,projection:ca})});return super.mapLayer(Object.assign({},x,a.name?{name:[h.repeaterPrefix,a.name].filter(ra=>ra).join("_")}:
{}),h)}}class xh extends th{map(a,d){null!=d.emptySelections||(d.emptySelections={});null!=d.selectionPredicates||(d.selectionPredicates={});a=rh(a,d);return super.map(a,d)}mapLayerOrUnit(a,d){a=rh(a,d);if(a.encoding){const f={};for(const h of Ki(a.encoding)){const [x,D]=h;f[x]=Bh(D,d)}a=Object.assign({},a,{encoding:f})}return super.mapLayerOrUnit(a,d)}mapUnit(a,d){var f=Object.assign({},a);const h=a.selection;f=(delete f.selection,f);return h?Object.assign({},f,{params:Ki(h).map(x=>{let [D,ca]=x;
var ra=Object.assign({},ca);x=ca.init;const Ia=ca.bind,hb=ca.empty;ra=(delete ra.init,delete ra.bind,delete ra.empty,ra);"single"===ra.type?(ra.type="point",ra.toggle=!1):"multi"===ra.type&&(ra.type="point");d.emptySelections[D]="none"!==hb;let Ob;for(const tc of wh(null!=(Ob=d.selectionPredicates[D])?Ob:{}))tc.empty="none"!==hb;return{name:D,value:x,select:ra,bind:Ia}})}):a}}class bh extends th{map(a,d){var f;const h=null!=(f=d.selections)?f:[];if(a.params&&!yf(a)){f=[];for(const x of a.params)Ge(x)?
h.push(x):f.push(x);a.params=f}d.selections=h;return super.map(a,d)}mapUnit(a,d){const f=d.selections;if(!f||!f.length)return a;let h;const x=(null!=(h=d.path)?h:[]).concat(a.name);d=[];for(const D of f)if(D.views&&D.views.length)for(const ca of D.views)(P.isString(ca)&&(ca===a.name||x.includes(ca))||P.isArray(ca)&&ca.map(ra=>x.indexOf(ra)).every((ra,Ia,hb)=>-1!==ra&&(0===Ia||ra>hb[Ia-1])))&&d.push(D);else d.push(D);d.length&&(a.params=d);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat",
"mapVConcat","mapLayer"]){const d=bh.prototype[a];bh.prototype[a]=function(f,h){var x=d,D=x.call;let ca;var ra=f.name?Object.assign({},h,{path:(null!=(ca=h.path)?ca:[]).concat(f.name)}):h;return D.call(x,this,f,ra)}}const Ih=new $f,ai=new xh,Cj=new bh,sh=["background","padding"];class ki{constructor(){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new ki(sf(this.explicit),sf(this.implicit))}combine(){return Object.assign({},
this.explicit,this.implicit)}get(a){return Fa(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,d){let {value:f,explicit:h}=d;void 0!==f&&this.set(a,f,h)}set(a,d,f){delete this[f?"implicit":"explicit"][a];this[f?"explicit":"implicit"][a]=d;return this}copyKeyFromSplit(a,d){let {explicit:f,implicit:h}=d;void 0!==f[a]?this.set(a,
f[a],!0):void 0!==h[a]&&this.set(a,h[a],!1)}copyKeyFromObject(a,d){void 0!==d[a]&&this.set(a,d[a],!0)}copyAll(a){for(const d of ie(a.combine())){const f=a.getWithExplicit(d);this.setWithExplicit(d,f)}}}class oj extends ki{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,d);this.explicit=a;this.implicit=d;this.parseNothing=f}clone(){const a=super.clone();
a.parseNothing=this.parseNothing;return a}}let Hg=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup";return a}({});class hg{constructor(a,d){this.debugName=d;F(this,"_children",[]);F(this,"_parent",null);F(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,
d){this._children.includes(a)?za("Attempt to add the same child twice."):void 0!==d?this._children.splice(d,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);for(const d of this._children)d._parent=this._parent,this._parent.addChild(d,a++)}insertAsParentOf(a){const d=a.parent;d.removeChild(this);this.parent=d;a.parent=this}swapWithParent(){const a=this._parent,d=a.parent;for(var f of this._children)f.parent=
a;this._children=[];a.removeChild(this);f=a.parent.removeChild(a);this._parent=d;d.addChild(this,f);a.parent=this}}class uh extends hg{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,d,f,h){super(a,d);this.type=f;this.refCounts=h;F(this,"_source",void 0);F(this,"_name",void 0);this._source=this._name=d;!this.refCounts||this._name in
this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${Ga()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=a}}class ch extends hg{clone(){return new ch(null,sf(this.formula))}constructor(a,d){super(a);this.formula=d}static makeFromEncoding(a,d){const f=d.reduceFieldDef((h,x)=>{const {field:D,
timeUnit:ca}=x;if(ca){let ra;if(Nc(ca)){if(Ig(d)){const {mark:Ia}=d;if(vd(Ia)||x.bandPosition)ra={timeUnit:ae(ca),field:D}}}else ra={as:wd(x,{forAs:!0}),field:D,timeUnit:ca};ra&&(h[Cb(ra)]=ra)}return h},{});return Qa(f)?null:new ch(a,f)}static makeFromTransform(a,d){var f=Object.assign({},d);d=Object.assign({},f);f=f.timeUnit;d=(delete d.timeUnit,d);f=ae(f);d=Object.assign({},d,{timeUnit:f});return new ch(a,{[Cb(d)]:d})}merge(a){this.formula=Object.assign({},this.formula);for(const d in a.formula)this.formula[d]||
(this.formula[d]=a.formula[d]);for(const d of a.children)a.removeChild(d),d.parent=this;a.remove()}removeFormulas(a){const d={};for(const f of Ki(this.formula)){const [h,x]=f;a.has(void 0!==x.as?x.as:`${x.field}_end`)||(d[h]=x)}this.formula=d}producedFields(){return new Set(wh(this.formula).map(a=>void 0!==a.as?a.as:`${a.field}_end`))}dependentFields(){return new Set(wh(this.formula).map(a=>a.field))}hash(){return`TimeUnit ${Cb(this.formula)}`}assemble(){const a=[];for(const x of wh(this.formula))if(void 0!==
x.as){const {field:D,as:ca,timeUnit:ra}=x;var d=ae(ra),f=Object.assign({},d),h=d.unit;d=d.utc;f=(delete f.unit,delete f.utc,f);a.push(Object.assign({},{field:Wb(D),type:"timeunit"},h?{units:rd(h)}:{},d?{timezone:"utc"}:{},f,{as:[ca,`${ca}_end`]}))}else if(x){const {field:D,timeUnit:ca}=x;let ra;h=Hd(null==(ra=ca)?void 0:ra.unit);const {part:Ia,step:hb}=hf(h,ca.step);a.push({type:"formula",expr:`timeOffset('${Ia}', datum['${D}'], ${hb})`,as:`${D}_end`})}return a}}class Vk{constructor(){F(this,"hasChannel",
void 0);F(this,"hasField",void 0);F(this,"hasSelectionId",void 0);F(this,"timeUnit",void 0);F(this,"items",void 0);for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];this.items=d;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const Vh={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,d)=>{const f=d.scales=[];for(const x of d.project.items){var h=x.channel;if(!Hi[h])continue;const D=(h=a.getScaleComponent(h))?h.get("type"):void 0;
h&&gd(D)?(h.set("selectionExtent",{param:d.name,field:x.field},!0),f.push(x)):za("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(a,d,f)=>{const h=d.scales.filter(D=>0===f.filter(ca=>ca.name===D.signals.data).length);if(!a.parent||r(a)||0===h.length)return f;a=f.filter(D=>D.name===d.name)[0];let x=a.update;if(0<=x.indexOf("vlSelectionResolve"))a.update=`{${h.map(D=>`${P.stringValue(Wb(D.field))}: ${D.signals.data}`).join(", ")}}`;else{for(const D of h){const ca=
`${P.stringValue(Wb(D.field))}: ${D.signals.data}`;x.includes(ca)||(x=`${x.substring(0,x.length-1)}, ${ca}}`)}a.update=x}return f.concat(h.map(D=>({name:D.signals.data})))},signals:(a,d,f)=>{if(a.parent&&!r(a))for(const h of d.scales)a=f.filter(x=>x.name===h.signals.data)[0],a.push="outer",delete a.value,delete a.update;return f}},Pi={left:"x",center:"xc",right:"x2"},vk={top:"y",middle:"yc",bottom:"y2"},Rk=new Set(["aria","width","height"]),Ni={defined:a=>"point"===a.type&&a.nearest,parse:(a,d)=>
{if(d.events)for(const f of d.events)f.markname=a.getName("voronoi")},marks:(a,d,f)=>{const {x:h,y:x}=d.project.hasChannel;d=a.mark;if(oc(d))return za(`The "nearest" transform is not supported for ${d} marks.`),f;d={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},da(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:h||!x?
"datum.datum.x || 0":"0"},y:{expr:x||!h?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let D=0,ca=!1;f.forEach((ra,Ia)=>{let hb;ra=null!=(hb=ra.name)?hb:"";ra===a.component.mark[0].name?D=Ia:0<=ra.indexOf("voronoi")&&(ca=!0)});ca||f.splice(D+1,0,d);return f}},Yj={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!jh(a.bind),parse:(a,d,f)=>mg(d,f),topLevelSignals:(a,d,f)=>{const h=d.name;a=d.project;const x=d.bind,D=d.init&&
d.init[0],ca=Ni.defined(d)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((ra,Ia)=>{const hb=Ka(`${h}_${ra.field}`);if(!f.filter(Ob=>Ob.name===hb).length){let Ob,tc;f.unshift(Object.assign({},{name:hb},D?{init:Pf(D[Ia])}:{value:null},{on:d.events?[{events:d.events,update:`datum && item().mark.marktype !== 'group' ? ${ca}[${P.stringValue(ra.field)}] : null`}]:[],bind:null!=(tc=null!=(Ob=x[ra.field])?Ob:x[ra.channel])?tc:x}))}});return f},signals:(a,d,f)=>{const h=d.name;var x=d.project;
a=f.filter(ca=>ca.name===h+"_tuple")[0];d=h+"_tuple_fields";x=x.items.map(ca=>Ka(`${h}_${ca.field}`));const D=x.map(ca=>`${ca} !== null`).join(" \x26\x26 ");x.length&&(a.update=`${D} ? {fields: ${d}, values: [${x.join(", ")}]} : null`);delete a.value;delete a.on;return f}},Qi={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,d,f)=>f.concat({name:d.name+"_toggle",value:!1,on:[{events:d.events,update:d.toggle}]}),modifyExpr:(a,d)=>{const f=d.name+"_tuple",h=d.name+"_toggle";return`${h} ? null : ${f}, `+
("global"===d.resolve?`${h} ? null : true, `:`${h} ? null : {unit: ${Uf(a)}}, `)+`${h} ? ${f} : null`}},Zj={defined:a=>{const d="global"===a.resolve&&a.bind&&jh(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;d&&!a&&za("Legend bindings are only supported for selections over an individual field or encoding channel.");return d&&a},parse:(a,d,f)=>{a=sf(f);a.select=P.isString(a.select)?{type:a.select,toggle:d.toggle}:Object.assign({},a.select,{toggle:d.toggle});mg(d,a);if(P.isObject(f.select)&&
(f.select.on||f.select.clear))for(const h of d.events){let x;h.filter=P.array(null!=(x=h.filter)?x:[]);h.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||h.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}f=Ce(d.bind)?d.bind.legend:"click";f=P.isString(f)?P.parseSelector(f,"view"):P.array(f);d.bind={legend:{merge:f}}},topLevelSignals:(a,d,f)=>{a=d.name;const h=Ce(d.bind)&&d.bind.legend,x=ca=>ra=>{ra=sf(ra);ra.markname=ca;return ra};
for(const ca of d.project.items){if(!ca.hasLegend)continue;var D=`${Ka(ca.field)}_legend`;const ra=`${a}_${D}`;0===f.filter(Ia=>Ia.name===ra).length&&(D=h.merge.map(x(`${D}_symbols`)).concat(h.merge.map(x(`${D}_labels`))).concat(h.merge.map(x(`${D}_entries`))),f.unshift(Object.assign({},{name:ra},d.init?{}:{value:null},{on:[{events:D,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:h.merge,update:`!event.item || !datum ? null : ${ra}`,force:!0}]})))}return f},
signals:(a,d,f)=>{const h=d.name;var x=d.project;a=f.find(ca=>ca.name===h+"_tuple");var D=h+"_tuple_fields";x=x.items.filter(ca=>ca.hasLegend).map(ca=>Ka(`${h}_${Ka(ca.field)}_legend`));D=`${x.map(ca=>`${ca} !== null`).join(" \x26\x26 ")} ? {fields: ${D}, values: [${x.join(", ")}]} : null`;d.events&&0<x.length?a.on.push({events:x.map(ca=>({signal:ca})),update:D}):0<x.length&&(a.update=D,delete a.value,delete a.on);a=f.find(ca=>ca.name===h+"_toggle");D=Ce(d.bind)&&d.bind.legend;a&&(d.events?a.on.push(Object.assign({},
a.on[0],{events:D})):a.on[0].events=D);return f}},dj=[{defined:a=>"point"===a.type,signals:(a,d,f)=>{const h=d.name,x=h+"_tuple_fields";var D=d.project,ca,ra=wh(null!=(ca=a.component.selection)?ca:{}).reduce((Ia,hb)=>"interval"===hb.type?Ia.concat(hb.name+"_brush"):Ia,[]).map(Ia=>`indexof(item().mark.name, '${Ia}') < 0`).join(" \x26\x26 ");ca=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${ra?` && ${ra}`:""}`;ra=`unit: ${Uf(a)}, `;d.project.hasSelectionId?ra+=
`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${P.stringValue("_vgsid_")}]`:(D=D.items.map(Ia=>{let hb;return(null==(hb=a.fieldDef(Ia.channel))?0:hb.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${P.stringValue(a.vgField(Ia.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${P.stringValue(a.vgField(Ia.channel,{binSuffix:"end"}))}]]`:`${"(item().isVoronoi ? datum.datum : datum)"}[${P.stringValue(Ia.field)}]`}).join(", "),ra+=`fields: ${x}, values: [${D}]`);d=d.events;
return f.concat([{name:h+"_tuple",on:d?[{events:d,update:`${ca} ? {${ra}} : null`,force:!0}]:[]}])}},{defined:a=>"interval"===a.type,parse:(a,d,f)=>{a.hasProjection&&(a=Object.assign({},P.isObject(f.select)?f.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=f.value?ie(f.value):["longitude","latitude"]),f.select=Object.assign({},{type:"interval"},a));if(d.translate&&!Vh.defined(d)){f=`!event.item || event.item.mark.name !== ${P.stringValue(d.name+"_brush")}`;for(const h of d.events){if(!h.between){za(`${h} is not an ordered event stream for interval selections.`);
continue}let x,D;d=P.array(null!=(D=(x=h.between[0]).filter)?D:x.filter=[]);0>d.indexOf(f)&&d.push(f)}}},signals:(a,d,f)=>{var h=d.name;const x=h+"_tuple";var D=wh(d.project.hasChannel).filter(Ob=>"x"===Ob.channel||"y"===Ob.channel);const ca=d.init?d.init[0]:null;f.push(...D.reduce((Ob,tc)=>Ob.concat(G(a,d,tc,ca&&ca[tc.index])),[]));if(a.hasProjection){var ra=P.stringValue(a.projectionName());const Ob=a.projectionName()+"_center",{x:tc,y:md}=d.project.hasChannel;var Ia=tc&&tc.signals.visual;const Jc=
md&&md.signals.visual;var hb=tc?ca&&ca[tc.index]:`${Ob}[0]`;const cd=md?ca&&ca[md.index]:`${Ob}[1]`;Ia="["+`[${Ia?Ia+"[0]":"0"}, ${Jc?Jc+"[0]":"0"}],`+`[${Ia?Ia+"[1]":a.getSizeSignalRef("width").signal}, `+`${Jc?Jc+"[1]":a.getSizeSignalRef("height").signal}]`+"]";ca&&(f.unshift({name:h+"_init",init:`[scale(${ra}, [${tc?hb[0]:hb}, ${md?cd[0]:cd}]), `+`scale(${ra}, [${tc?hb[1]:hb}, ${md?cd[1]:cd}])]`}),tc&&md||f.find(pd=>pd.name===Ob)||f.unshift({name:Ob,update:`invert(${ra}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));
h=`intersect(${Ia}, {markname: ${P.stringValue(a.getName("marks"))}}, unit.mark)`;ra=`{unit: ${Uf(a)}}`;h=`vlSelectionTuples(${h}, ${ra})`;D=D.map(pd=>pd.signals.visual);return f.concat({name:x,on:[{events:[...(D.length?[{signal:D.join(" || ")}]:[]),...(ca?[{signal:"geo_interval_init_tick"}]:[])],update:h}]})}Vh.defined(d)||(ra=h+"_scale_trigger",hb=D.map(Ob=>{var tc=Ob.channel;const {data:md,visual:Jc}=Ob.signals;Ob=P.stringValue(a.scaleName(tc));tc=a.getScaleComponent(tc).get("type");tc=gd(tc)?
"+":"";return`(!isArray(${md}) || `+`(${tc}invert(${Ob}, ${Jc})[0] === ${tc}${md}[0] && `+`${tc}invert(${Ob}, ${Jc})[1] === ${tc}${md}[1]))`}),hb.length&&f.push({name:ra,value:{},on:[{events:D.map(Ob=>({scale:a.scaleName(Ob.channel)})),update:hb.join(" \x26\x26 ")+` ? ${ra} : {}`}]}));D=D.map(Ob=>Ob.signals.data);h=`unit: ${Uf(a)}, fields: ${h+"_tuple_fields"}, values`;return f.concat(Object.assign({},{name:x},ca?{init:`{${h}: ${Pf(ca)}}`}:{},D.length?{on:[{events:[{signal:D.join(" || ")}],update:`${D.join(" \x26\x26 ")} ? {${h}: [${D}]} : null`}]}:
{}))},topLevelSignals:(a,d,f)=>{Ig(a)&&a.hasProjection&&d.init&&(f.filter(h=>"geo_interval_init_tick"===h.name).length||f.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));return f},marks:(a,d,f)=>{const h=d.name,{x,y:D}=d.project.hasChannel,ca=null==x?void 0:x.signals.visual,ra=null==D?void 0:D.signals.visual;var Ia=`data(${P.stringValue(d.name+"_store")})`;if(Vh.defined(d)||!x&&!D)return f;
const hb={x:void 0!==x?{signal:`${ca}[0]`}:{value:0},y:void 0!==D?{signal:`${ra}[0]`}:{value:0},x2:void 0!==x?{signal:`${ca}[1]`}:{field:{group:"width"}},y2:void 0!==D?{signal:`${ra}[1]`}:{field:{group:"height"}}};if("global"===d.resolve)for(var Ob of ie(hb))hb[Ob]=[Object.assign({},{test:`${Ia}.length && ${Ia}[0].unit === ${Uf(a)}`},hb[Ob]),{value:0}];Ob=d.mark;Ia=Object.assign({},Ob);a=Ob.fill;d=Ob.fillOpacity;Ob=Ob.cursor;const tc=(delete Ia.fill,delete Ia.fillOpacity,delete Ia.cursor,Ia);Ia=ie(tc).reduce((md,
Jc)=>{md[Jc]=[{test:[void 0!==x&&`${ca}[0] !== ${ca}[1]`,void 0!==D&&`${ra}[0] !== ${ra}[1]`].filter(cd=>cd).join(" \x26\x26 "),value:tc[Jc]},{value:null}];return md},{});return[{name:`${h+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:d}},update:hb}},...f,{name:h+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},Ob?{cursor:{value:Ob}}:{},{fill:{value:"transparent"}}),update:Object.assign({},hb,Ia)}}]}},{defined:()=>!0,parse:(a,d,f)=>{const h=d.name;var x;
const D=null!=(x=d.project)?x:d.project=new Vk,ca={};x={};const ra=new Set,Ia=(Nd,ve)=>{Nd="visual"===ve?Nd.channel:Nd.field;let Qe=Ka(`${h}_${Nd}`);for(let gf=1;ra.has(Qe);gf++)Qe=Ka(`${h}_${Nd}_${gf}`);ra.add(Qe);return{[ve]:Qe}},hb=d.type,Ob=a.config.selection[hb],tc=void 0!==f.value?P.array(f.value):null;let {fields:md,encodings:Jc}=P.isObject(f.select)?f.select:{};if(!md&&!Jc&&tc)for(var cd of tc)if(P.isObject(cd))for(const Nd of ie(cd))if(Pj[Nd])(Jc||(Jc=[])).push(Nd);else if("interval"===hb)za('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),
Jc=Ob.encodings;else{let ve;(null!=(ve=md)?ve:md=[]).push(Nd)}md||Jc||(Jc=Ob.encodings,"fields"in Ob&&(md=Ob.fields));var pd;for(const Nd of null!=(pd=Jc)?pd:[])(pd=a.fieldDef(Nd))?(f=pd.field,pd.aggregate?za(`Cannot project a selection on encoding channel "${Nd}" as it uses an aggregate function ("${pd.aggregate}").`):f?(pd.timeUnit&&!Nc(pd.timeUnit)&&(f=a.vgField(Nd),cd={timeUnit:pd.timeUnit,as:f,field:pd.field},x[Cb(cd)]=cd),ca[f]||(pd="interval"===hb&&Hi[Nd]&&gd(a.getScaleComponent(Nd).get("type"))?
"R":pd.bin?"R-RE":"E",pd={field:f,channel:Nd,type:pd,index:D.items.length},pd.signals=Object.assign({},Ia(pd,"data"),Ia(pd,"visual")),D.items.push(ca[f]=pd),D.hasField[f]=ca[f],D.hasSelectionId=D.hasSelectionId||"_vgsid_"===f,Nd in Vi?(pd.geoChannel=Nd,pd.channel=M(Nd),D.hasChannel[pd.channel]=ca[f]):D.hasChannel[Nd]=ca[f])):za(ic(Nd))):za(ic(Nd));let je;for(const Nd of null!=(je=md)?je:[])D.hasField[Nd]||(a={type:"E",field:Nd,index:D.items.length},a.signals=Object.assign({},Ia(a,"data")),D.items.push(a),
D.hasField[Nd]=a,D.hasSelectionId=D.hasSelectionId||"_vgsid_"===Nd);tc&&(d.init=tc.map(Nd=>D.items.map(ve=>P.isObject(Nd)?void 0!==Nd[ve.geoChannel||ve.channel]?Nd[ve.geoChannel||ve.channel]:Nd[ve.field]:Nd)));Qa(x)||(D.timeUnit=new ch(null,x))},signals:(a,d,f)=>{const h=d.name+"_tuple_fields";return 0<f.filter(x=>x.name===h).length||d.project.hasSelectionId?f:f.concat({name:h,value:d.project.items.map(Lg)})}},Qi,Yj,Vh,Zj,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,d)=>{d.clear&&(d.clear=
P.isString(d.clear)?P.parseSelector(d.clear,"view"):d.clear)},topLevelSignals:(a,d,f)=>{if(Yj.defined(d))for(const h of d.project.items)a=f.findIndex(x=>x.name===Ka(`${d.name}_${h.field}`)),-1!==a&&f[a].on.push({events:d.clear,update:"null"});return f},signals:(a,d,f)=>{function h(x,D){-1!==x&&f[x].on&&f[x].on.push({events:d.clear,update:D})}if("interval"===d.type)for(const x of d.project.items)a=f.findIndex(D=>D.name===x.signals.visual),h(a,"[0, 0]"),-1===a&&(a=f.findIndex(D=>D.name===x.signals.data),
h(a,"null"));else a=f.findIndex(x=>x.name===d.name+"_tuple"),h(a,"null"),Qi.defined(d)&&(a=f.findIndex(x=>x.name===d.name+"_toggle"),h(a,"false"));return f}},{defined:a=>"interval"===a.type&&a.translate,signals:(a,d,f)=>{const h=d.name,x=Vh.defined(d),D=h+"_translate_anchor",{x:ca,y:ra}=d.project.hasChannel;let Ia=P.parseSelector(d.translate,"scope");x||(Ia=Ia.map(hb=>(hb.between[0].markname=h+"_brush",hb)));f.push({name:D,value:{},on:[{events:Ia.map(hb=>hb.between[0]),update:"{x: x(unit), y: y(unit)"+
(void 0!==ca?`, extent_x: ${x?wa(a,"x"):`slice(${ca.signals.visual})`}`:"")+(void 0!==ra?`, extent_y: ${x?wa(a,"y"):`slice(${ra.signals.visual})`}`:"")+"}"}]},{name:h+"_translate_delta",value:{},on:[{events:Ia,update:`{x: ${D}.x - x(unit), y: ${D}.y - y(unit)}`}]});void 0!==ca&&Of(a,d,ca,"width",f);void 0!==ra&&Of(a,d,ra,"height",f);return f}},{defined:a=>"interval"===a.type&&a.zoom,signals:(a,d,f)=>{const h=d.name,x=Vh.defined(d),D=h+"_zoom_delta",{x:ca,y:ra}=d.project.hasChannel,Ia=P.stringValue(a.scaleName("x")),
hb=P.stringValue(a.scaleName("y"));let Ob=P.parseSelector(d.zoom,"scope");x||(Ob=Ob.map(tc=>(tc.markname=h+"_brush",tc)));f.push({name:h+"_zoom_anchor",on:[{events:Ob,update:x?"{"+[Ia?`x: invert(${Ia}, x(unit))`:"",hb?`y: invert(${hb}, y(unit))`:""].filter(tc=>tc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:D,on:[{events:Ob,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==ca&&Wg(a,d,ca,"width",f);void 0!==ra&&Wg(a,d,ra,"height",f);return f}},Ni];class rj extends hg{clone(){return new rj(null,
this.model,sf(this.filter))}constructor(a,d,f){super(a);this.model=d;this.filter=f;F(this,"expr",void 0);F(this,"_dependentFields",void 0);this.expr=ri(this.model,this.filter,this);this._dependentFields=$h(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}const Xj={scale:a=>{let {model:d,channel:f}=a;return d.scaleName(f)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=
a);return a},grid:a=>{let {fieldOrDatumDef:d,axis:f,scaleType:h}=a,x;return null!=(x=f.grid)?x:!Tc(h)&&vb(d)&&!X(null==d?void 0:d.bin)&&!Ca(null==d?void 0:d.bin)},gridScale:a=>{let {model:d,channel:f}=a;a="x"===f?"y":"x";a=d.getScaleComponent(a)?d.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:d,labelAngle:f,orient:h,channel:x}=a;return d.labelAlign||Sb(f,h,x)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:d,labelAngle:f,orient:h,channel:x}=a;return d.labelBaseline||
Eb(f,h,x)},labelFlush:a=>{let {axis:d,fieldOrDatumDef:f,channel:h}=a;null==(a=d.labelFlush)&&(a="x"===h&&Yb(["quantitative","temporal"],f.type)?!0:void 0);return a},labelOverlap:a=>{let {axis:d,fieldOrDatumDef:f,scaleType:h}=a;if(null==(a=d.labelOverlap)){a=f.type;var x=vb(f)&&!!f.timeUnit,D=vb(f)?f.sort:void 0;a=x&&!P.isObject(D)||"nominal"!==a&&"ordinal"!==a?"log"===h||"symlog"===h?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:d,model:f,axis:h,fieldOrDatumDef:x,
scaleType:D}=a;a=(a="x"===d?"width":"y"===d?"height":void 0)?f.getSizeSignalRef(a):void 0;let ca;if(null!=(ca=h.tickCount))var ra=ca;else a:{let {fieldOrDatumDef:Ia,scaleType:hb,size:Ob,values:tc}={fieldOrDatumDef:x,scaleType:D,size:a,values:h.values};if(tc||Tc(hb)||"log"===hb)ra=void 0;else{if(vb(Ia)){if(X(Ia.bin)){ra={signal:`ceil(${Ob.signal}/10)`};break a}if(Ia.timeUnit&&Yb(["month","hours","day","quarter"],null==(ra=ae(Ia.timeUnit))?void 0:ra.unit)){ra=void 0;break a}}ra={signal:`ceil(${Ob.signal}/40)`}}}return ra},
tickMinStep:function(a){let {format:d,fieldOrDatumDef:f}=a;if("d"===d)return 1;if(vb(f)&&({timeUnit:a}=f,a&&(a=kf(a))))return{signal:a}},title:a=>{let {axis:d,model:f,channel:h}=a;if(void 0!==d.title)return d.title;a=kc(f,h);if(void 0!==a)return a;a=f.typedFieldDef(h);const x=f.fieldDef("x"===h?"x2":"y2");return gb(a?[O(a)]:[],vb(x)?[O(x)]:[])},values:a=>{let {axis:d,fieldOrDatumDef:f}=a;a=d.values;a=P.isArray(a)?af(f,a):Zb(a)?a:void 0;return a},zindex:a=>{let {axis:d,fieldOrDatumDef:f,mark:h}=a;
null==(a=d.zindex)&&(a="rect"===h&&ze(f)?1:0);return a}};class cj extends hg{clone(){return new cj(null,sf(this.transform))}constructor(a,d){super(a);this.transform=d;F(this,"_dependentFields",void 0);this._dependentFields=$h(this.transform.calculate)}static parseAllForSortIndex(a,d){d.forEachFieldDef((f,h)=>{if(Dd(f)&&ce(f.sort)){const {field:D,timeUnit:ca}=f;var x=f.sort;x=x.map((ra,Ia)=>`${J({field:D,timeUnit:ca,equal:ra})} ? ${Ia} : `).join("")+x.length;a=new cj(a,{calculate:x,as:Uc(f,h,{forAs:!0})})}});
return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Cb(this.transform)}`}}const Zk=["row","column"],Ck=["header","footer"],Hl={column:{start:0,end:1},row:{start:1,end:0}},cl=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,
gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,
tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),el=ie(cl);class lm extends ki{}const dl={symbols:function(a,d){let {fieldOrDatumDef:f,model:h,channel:x,legendCmpt:D,legendType:ca}=
d;if("symbol"===ca){var {markDef:ra,encoding:Ia,config:hb,mark:Ob}=h;d=ra.filled&&"trail"!==Ob;var tc=Object,md=tc.assign,Jc={};for(var cd of Bj){const gf=Zc(cd,h.markDef,h.config);void 0!==gf&&(Jc[cd]=Tb(gf))}cd=md.call(tc,{},Jc,hc(h,{filled:d}));var pd;tc=null!=(pd=D.get("symbolOpacity"))?pd:hb.legend.symbolOpacity;var je;pd=null!=(je=D.get("symbolFillColor"))?je:hb.legend.symbolFillColor;var Nd;je=null!=(Nd=D.get("symbolStrokeColor"))?Nd:hb.legend.symbolStrokeColor;var ve;Nd=void 0===tc?null!=
(ve=Ed(Ia.opacity))?ve:ra.opacity:void 0;if(cd.fill)if("fill"===x||d&&"color"===x)delete cd.fill;else if(cd.fill.field)if(pd)delete cd.fill;else{let gf;cd.fill=Tb(null!=(gf=hb.legend.symbolBaseFillColor)?gf:"black");cd.fillOpacity=Tb(null!=Nd?Nd:1)}else if(P.isArray(cd.fill)){var Qe;let gf,Wf;if(ve=null!=(Wf=null!=(gf=bd(null!=(Qe=Ia.fill)?Qe:Ia.color))?gf:ra.fill)?Wf:d&&ra.color)cd.fill=Tb(ve)}cd.stroke&&("stroke"===x||!d&&"color"===x?delete cd.stroke:cd.stroke.field||je?delete cd.stroke:P.isArray(cd.stroke)&&
(Qe=Fa(bd(Ia.stroke||Ia.color),ra.stroke,d?ra.color:void 0))&&(cd.stroke={value:Qe}));"opacity"!==x&&((Qe=vb(f)&&qd(h,D,f))?cd.opacity=[Object.assign({},{test:Qe},Tb(null!=Nd?Nd:1)),Tb(hb.legend.unselectedOpacity)]:Nd&&(cd.opacity=Tb(Nd)));cd=Object.assign({},cd,a);return Qa(cd)?void 0:cd}},gradient:function(a,d){let {model:f,legendType:h,legendCmpt:x}=d;if("gradient"===h){var {config:D,markDef:ca,encoding:ra}=f;d={};var Ia,hb=void 0===(null!=(Ia=x.get("gradientOpacity"))?Ia:D.legend.gradientOpacity)?
Ed(ra.opacity)||ca.opacity:void 0;hb&&(d.opacity=Tb(hb));d=Object.assign({},d,a);return Qa(d)?void 0:d}},labels:function(a,d){let {fieldOrDatumDef:f,model:h,channel:x,legendCmpt:D}=d;var ca=h.legend(x)||{};d=h.config;var ra=vb(f)?qd(h,D,f):void 0;ra=ra?[{test:ra,value:1},{value:d.legend.unselectedOpacity}]:void 0;const {format:Ia,formatType:hb}=ca;ca=void 0;xe(hb)?ca=df({fieldOrDatumDef:f,field:"datum.value",format:Ia,formatType:hb,config:d}):void 0===Ia&&void 0===hb&&d.customFormatTypes&&("quantitative"===
f.type&&d.numberFormatType?ca=df({fieldOrDatumDef:f,field:"datum.value",format:d.numberFormat,formatType:d.numberFormatType,config:d}):"temporal"===f.type&&d.timeFormatType&&vb(f)&&void 0===f.timeUnit&&(ca=df({fieldOrDatumDef:f,field:"datum.value",format:d.timeFormat,formatType:d.timeFormatType,config:d})));a=Object.assign({},ra?{opacity:ra}:{},ca?{text:ca}:{},a);return Qa(a)?void 0:a},entries:function(a,d){({legendCmpt:d}=d);let f;return(null==(f=d.get("selections"))?0:f.length)?Object.assign({},
a,{fill:{value:"transparent"}}):a}},xl={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:d,legend:f,config:h}=a;const {format:x,formatType:D}=f;return od(d,d.type,x,D,h,!1)},formatType:a=>{let {legend:d,fieldOrDatumDef:f,scaleType:h}=a;({formatType:a}=d);return Ec(a,f,h)},gradientLength:a=>{const {legend:d,legendConfig:f}=a;let h,x;if(null!=(x=null!=(h=d.gradientLength)?h:f.gradientLength))a=x;else{{let {legendConfig:D,model:ca,direction:ra,orient:Ia,scaleType:hb}=a;const {gradientHorizontalMaxLength:Ob,
gradientHorizontalMinLength:tc,gradientVerticalMaxLength:md,gradientVerticalMinLength:Jc}=D;a=Sh.has(hb)?"horizontal"===ra?"top"===Ia||"bottom"===Ia?xd(ca,"width",tc,Ob):tc:xd(ca,"height",Jc,md):void 0}}return a},labelOverlap:a=>{let {legend:d,legendConfig:f,scaleType:h}=a;var x;x=null!=(a=null!=(x=d.labelOverlap)?x:f.labelOverlap)?a:Yb(["quantile","threshold","log","symlog"],h)?"greedy":void 0;return x},symbolType:a=>{let {legend:d,markDef:f,channel:h,encoding:x}=a;if(null!=(a=d.symbolType))var D=
a;else a:{a=f.type;var ca=f.shape;if("shape"!==h){const ra=null!=(D=bd(x.shape))?D:ca;if(ra){D=ra;break a}}switch(a){case "bar":case "rect":case "image":case "square":D="square";break a;case "line":case "trail":case "rule":D="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":D="circle";break a}D=void 0}return D},title:a=>{let {fieldOrDatumDef:d,config:f}=a;return he(d,f,{allowDisabling:!0})},type:a=>{let {legendType:d,scaleType:f,channel:h}=
a;if(Q(h)&&Sh.has(f)){if("gradient"===d)return}else if("symbol"===d)return;return d},values:a=>{let {fieldOrDatumDef:d,legend:f}=a;a=f.values;a=P.isArray(a)?af(d,a):Zb(a)?a:void 0;return a}},ek="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class yl extends ki{constructor(a,d,f,h){super(Object.assign({},d),{name:a});this.specifiedProjection=d;this.size=f;this.data=h;F(this,"merged",!1)}get isFit(){return!!this.data}}
class mi extends hg{clone(){return new mi(null,sf(this.bins))}constructor(a,d){super(a);this.bins=d}static makeFromEncoding(a,d){const f=d.reduceFieldDef((h,x,D)=>{if($c(x)&&X(x.bin)){const {key:tc,binComponent:md}=Ng(x,x.bin,d);var ca=Object,ra=ca.assign,Ia=h[tc];var hb=d.config;if(Hf(x,D)){var Ob;let Jc;const cd=Ig(d)?null!=(Jc=null!=(Ob=d.axis(D))?Ob:d.legend(D))?Jc:{}:{};D=wd(x,{expr:"datum"});Ob=wd(x,{expr:"datum",binSuffix:"end"});x={formulaAs:wd(x,{binSuffix:"range",forAs:!0}),formula:Jd(D,
Ob,cd.format,cd.formatType,hb)}}else x={};h[tc]=ra.call(ca,{},md,Ia,x)}return h},{});return Qa(f)?null:new mi(a,f)}static makeFromTransform(a,d,f){const {key:h,binComponent:x}=Ng(d,d.bin,f);return new mi(a,{[h]:x})}merge(a,d){for(const f of ie(a.bins))f in this.bins?(d(a.bins[f].signal,this.bins[f].signal),this.bins[f].as=Lb([...this.bins[f].as,...a.bins[f].as],Cb)):this.bins[f]=a.bins[f];for(const f of a.children)a.removeChild(f),f.parent=this;a.remove()}producedFields(){return new Set(wh(this.bins).map(a=>
a.as).flat(2))}dependentFields(){return new Set(wh(this.bins).map(a=>a.field))}hash(){return`Bin ${Cb(this.bins)}`}assemble(){return wh(this.bins).flatMap(a=>{const d=[],[f,...h]=a.as;var x=a.bin,D=Object.assign({},x);x=x.extent;D=(delete D.extent,D);D=Object.assign({},{type:"bin",field:Wb(a.field),as:f,signal:a.signal},Xa(x)?{extent:null}:{extent:x},a.span?{span:{signal:`span(${a.span})`}}:{},D);!x&&a.extentSignal&&(d.push({type:"extent",field:Wb(a.field),signal:a.extentSignal}),D.extent={signal:a.extentSignal});
d.push(D);for(const ca of h)for(x=0;2>x;x++)d.push({type:"formula",expr:wd({field:f[x]},{expr:"datum"}),as:ca[x]});a.formula&&d.push({type:"formula",expr:a.formula,as:a.formulaAs});return d})}}class b extends hg{clone(){return new b(null,new Set(this.dimensions),sf(this.measures))}constructor(a,d,f){super(a);this.dimensions=d;this.measures=f}get groupBy(){return this.dimensions}static makeFromEncoding(a,d){let f=!1;d.forEachFieldDef(D=>{D.aggregate&&(f=!0)});const h={},x=new Set;if(!f)return null;
d.forEachFieldDef((D,ca)=>{const {aggregate:ra,field:Ia}=D;if(ra)if("count"===ra)null!=h["*"]||(h["*"]={}),h["*"].count=new Set([wd(D,{forAs:!0})]);else{if(L(ra)||va(ra)){D=L(ra)?"argmin":"argmax";var hb=ra[D];null!=h[hb]||(h[hb]={});h[hb][D]=new Set([wd({op:D,field:hb},{forAs:!0})])}else null!=h[Ia]||(h[Ia]={}),h[Ia][ra]=new Set([wd(D,{forAs:!0})]);Hi[ca]&&"unaggregated"===d.scaleDomain(ca)&&(null!=h[Ia]||(h[Ia]={}),h[Ia].min=new Set([wd({field:Ia,aggregate:"min"},{forAs:!0})]),h[Ia].max=new Set([wd({field:Ia,
aggregate:"max"},{forAs:!0})]))}else{const Ob=Ig(d)?d.encoding[C(ca)]:void 0;$c(D)&&Ig(d)&&ka(D,Ob,d.markDef,d.config)?(x.add(wd(D,{})),x.add(wd(D,{suffix:"end"})),D.bin&&Hf(D,ca)&&x.add(wd(D,{binSuffix:"range"}))):ca in Vi?(ca=M(ca),x.add(d.getName(ca))):x.add(wd(D));if(ca=Dd(D))ca=null==(hb=D.scale)?void 0:hb.range,ca=P.isObject(ca)&&"field"in ca;ca&&x.add(D.scale.range.field)}});return 0===x.size+ie(h).length?null:new b(a,x,h)}static makeFromTransform(a,d){const f=new Set,h={};for(const D of d.aggregate){const {op:ca,
field:ra,as:Ia}=D;if(ca)if("count"===ca){let hb;null!=(hb=h)["*"]||(hb["*"]={});h["*"].count=new Set([Ia?Ia:wd(D,{forAs:!0})])}else{let hb,Ob;null!=(hb=h)[Ob=ra]||(hb[Ob]={});h[ra][ca]=new Set([Ia?Ia:wd(D,{forAs:!0})])}}let x;for(const D of null!=(x=d.groupby)?x:[])f.add(D);return 0===f.size+ie(h).length?null:new b(a,f,h)}merge(a){if(Db(this.dimensions,a.dimensions)){var d=this.measures;a=a.measures;for(const f of ie(a)){const h=a[f];for(const x of ie(h))if(f in d){let D;d[f][x]=new Set([...(null!=
(D=d[f][x])?D:[]),...h[x]])}else d[f]={[x]:h[x]}}return!0}fb("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ie(this.measures)])}producedFields(){const a=new Set;for(const d of ie(this.measures))for(const f of ie(this.measures[d])){const h=this.measures[d][f];0===h.size?a.add(`${f}_${d}`):h.forEach(a.add,a)}return a}hash(){return`Aggregate ${Cb({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const a=
[],d=[],f=[];for(const h of ie(this.measures))for(const x of ie(this.measures[h]))for(const D of this.measures[h][x])f.push(D),a.push(x),d.push("*"===h?null:Wb(h));return{type:"aggregate",groupby:[...this.dimensions].map(Wb),ops:a,fields:d,as:f}}}class e extends hg{constructor(a,d,f,h){super(a);this.model=d;this.name=f;this.data=h;F(this,"column",void 0);F(this,"row",void 0);F(this,"facet",void 0);F(this,"childModel",void 0);for(const x of ci)if(a=d.facet[x]){const {bin:D,sort:ca}=a;this[x]=Object.assign({},
{name:d.getName(`${x}_domain`),fields:[wd(a),...(X(D)?[wd(a,{binSuffix:"end"})]:[])]},Vd(ca)?{sortField:ca}:P.isArray(ca)?{sortIndexField:Uc(a,x)}:{})}this.childModel=d.child}hash(){let a="Facet";for(const d of ci)this[d]&&(a+=` ${d.charAt(0)}:${Cb(this[d])}`);return a}get fields(){const a=[];for(const d of ci){let f;(null==(f=this[d])?0:f.fields)&&a.push(...this[d].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const d of ci)this[d]&&(this[d].sortField&&a.add(this[d].sortField.field),
this[d].sortIndexField&&a.add(this[d].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const h of pi){var d=this.childModel.component.scales[h];if(d&&!d.merged){var f=d.get("type");d=d.get("range");Tc(f)&&Sc(d)&&(f=yk(this.childModel,h),(f=Wk(f))?a[h]=f:za(dc(h)))}}return a}assembleRowColumnHeaderData(a,d,f){const h={row:"y",column:"x",facet:void 0}[a],x=[],D=[],ca=[];h&&f&&f[h]&&(d?(x.push(`distinct_${f[h]}`),
D.push("max")):(x.push(f[h]),D.push("distinct")),ca.push(`distinct_${f[h]}`));const {sortField:ra,sortIndexField:Ia}=this[a];if(ra){const {op:hb="min",field:Ob}=ra;x.push(Ob);D.push(hb);ca.push(wd(ra,{forAs:!0}))}else Ia&&(x.push(Ia),D.push("max"),ca.push(Ia));return{name:this[a].name,source:null!=d?d:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},x.length?{fields:x,ops:D,as:ca}:{})]}}assembleFacetHeaderData(a){const {columns:d}=this.model.layout,{layoutHeaders:f}=
this.model.component,h=[],x={};for(const Ia of Zk){for(const hb of Ck){let Ob;var D=null!=(Ob=f[Ia]&&f[Ia][hb])?Ob:[];for(const tc of D){let md;if(0<(null==(md=tc.axes)?void 0:md.length)){x[Ia]=!0;break}}}x[Ia]&&(D=`length(data("${this.facet.name}"))`,h.push({name:`${this.facet.name}_${Ia}`,transform:[{type:"sequence",start:0,stop:"row"===Ia?d?{signal:`ceil(${D} / ${d})`}:1:d?{signal:`min(${D}, ${d})`}:{signal:D}}]}))}const {row:ca,column:ra}=x;(ca||ra)&&h.unshift(this.assembleRowColumnHeaderData("facet",
null,a));return h}assemble(){const a=[];var d=null;const f=this.getChildIndependentFieldsWithStep(),{column:h,row:x,facet:D}=this;if(h&&x&&(f.x||f.y)){d=`cross_${this.column.name}_${this.row.name}`;var ca;let ra;const Ia=[].concat(null!=(ca=f.x)?ca:[],null!=(ra=f.y)?ra:[]);ca=Ia.map(()=>"distinct");a.push({name:d,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Ia,ops:ca}]})}for(const ra of["column","row"])this[ra]&&a.push(this.assembleRowColumnHeaderData(ra,d,f));D&&(d=this.assembleFacetHeaderData(f))&&
a.push(...d);return a}}class n extends hg{clone(){return new n(null,sf(this._parse))}constructor(a,d){super(a);F(this,"_parse",void 0);this._parse=d}hash(){return`Parse ${Cb(this._parse)}`}static makeExplicit(a,d,f){let h={};d=d.data;let x;!mh(d)&&(null==d?0:null==(x=d.format)?0:x.parse)&&(h=d.format.parse);return this.makeWithAncestors(a,h,{},f)}static makeWithAncestors(a,d,f,h){for(var x of ie(f)){const ca=h.getWithExplicit(x);void 0!==ca.value&&(ca.explicit||ca.value===f[x]||"derived"===ca.value||
"flatten"===f[x]?delete f[x]:za(fd(x,f[x],ca.value)))}for(var D of ie(d))x=h.get(D),void 0!==x&&(x===d[D]?delete d[D]:za(fd(D,d[D],x)));d=new ki(d,f);h.copyAll(d);f={};for(const ca of ie(d.combine()))D=d.get(ca),null!==D&&(f[ca]=D);return 0===ie(f).length||h.parseNothing?null:new n(a,f)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const d of ie(this._parse)){const f=this._parse[d];1===Z(d)&&(a[d]=f)}return a}producedFields(){return new Set(ie(this._parse))}dependentFields(){return new Set(ie(this._parse))}assembleTransforms(){let a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return ie(this._parse).filter(d=>a?1<Z(d):!0).map(d=>{const f=Ke(d,this._parse[d]);return f?{type:"formula",expr:f,as:pa(d)}:null}).filter(d=>null!==d)}}class K extends hg{clone(){return new K(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class na extends hg{clone(){return new na(null,this.params)}constructor(a,
d){super(a);this.params=d}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Cb(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class Ba extends hg{clone(){return new Ba(null,this.params)}constructor(a,d){super(a);this.params=d}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${Cb(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},
this.params)}}class tb extends hg{constructor(a){super(null);F(this,"_data",void 0);F(this,"_name",void 0);F(this,"_generator",void 0);null!=a||(a={name:"source"});let d;mh(a)||(d=a.format?Object.assign({},uc(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!d.type){let f=/(?:\.([^.]+))?$/.exec(a.url)[1];Yb(["json","csv","tsv","dsv","topojson"],f)||(f="json");d.type=f}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Df(a)||
mh(a))this._data={};this._generator=mh(a);a.name&&(this._name=a.name);d&&!Qa(d)&&(this._data.format=d)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},
{name:this._name},this._data,{transform:[]})}}var wc=new WeakMap;class Oc{constructor(){if(wc.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");wc.set(this,{writable:!0,value:void 0});ya(this,wc,!1)}setModified(){ya(this,wc,!0)}get modifiedFlag(){var a=Na(this,wc,"get");return a.get?a.get.call(this):a.value}}class zd extends Oc{getNodeDepths(a,d,f){f.set(a,d);for(const h of a.children)this.getNodeDepths(h,d+1,f);return f}optimize(a){a=[...this.getNodeDepths(a,
0,new Map).entries()].sort((d,f)=>f[1]-d[1]);for(const d of a)this.run(d[0]);return this.modifiedFlag}}class fe extends Oc{optimize(a){this.run(a);for(const d of a.children)this.optimize(d);return this.modifiedFlag}}class me extends fe{mergeNodes(a,d){const f=d.shift();for(const h of d)a.removeChild(h),h.parent=f,h.remove()}run(a){const d=a.children.map(h=>h.hash()),f={};for(let h=0;h<d.length;h++)void 0===f[d[h]]?f[d[h]]=[a.children[h]]:f[d[h]].push(a.children[h]);for(const h of ie(f))1<f[h].length&&
(this.setModified(),this.mergeNodes(a,f[h]))}}class ge extends fe{constructor(a){super();F(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&vh(a)}run(a){!(a instanceof K)||this.requiresSelectionId&&(pe(a.parent)||a.parent instanceof b||a.parent instanceof n)||(this.setModified(),a.remove())}}class De extends Oc{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,d){let f=new Set;a instanceof ch&&(f=a.producedFields(),Pb(f,d)&&(this.setModified(),a.removeFormulas(d),0===a.producedFields.length&&
a.remove()));for(const h of a.children)this.run(h,new Set([...d,...f]))}}class Re extends fe{constructor(){super()}run(a){a instanceof uh&&!a.isRequired()&&(this.setModified(),a.remove())}}class We extends zd{run(a){if(!(pe(a)||1<a.numChildren()))for(const d of a.children)d instanceof n&&(a instanceof n?(this.setModified(),a.merge(d)):pb(a.producedFields(),d.dependentFields())||(this.setModified(),d.swapWithParent()))}}class Zg extends zd{run(a){const d=[...a.children];var f=a.children.filter(x=>
x instanceof n);if(1<a.numChildren()&&1<=f.length){const x={};var h=new Set;for(const D of f){f=D.parse;for(const ca of ie(f))ca in x?x[ca]!==f[ca]&&h.add(ca):x[ca]=f[ca]}for(const D of h)delete x[D];if(!Qa(x)){this.setModified();h=new n(a,x);for(const D of d){if(D instanceof n)for(const ca of ie(x))delete D.parse[ca];a.removeChild(D);D.parent=h;D instanceof n&&0===ie(D.parse).length&&D.remove()}}}}}class nd extends zd{run(a){a instanceof uh||0<a.numChildren()||a instanceof e||a instanceof tb||(this.setModified(),
a.remove())}}class Yc extends zd{run(a){a=a.children.filter(f=>f instanceof ch);const d=a.pop();for(const f of a)this.setModified(),d.merge(f)}}class ud extends zd{run(a){var d=a.children.filter(x=>x instanceof b);const f={};for(var h of d)d=Cb(h.groupBy),d in f||(f[d]=[]),f[d].push(h);for(const x of ie(f))if(h=f[x],1<h.length){d=h.pop();for(const D of h)d.merge(D)&&(a.removeChild(D),D.parent=d,D.remove(),this.setModified())}}}class te extends zd{constructor(a){super();this.model=a}run(a){var d=!(pe(a)||
a instanceof rj||a instanceof n||a instanceof K);const f=[],h=[];for(const x of a.children)x instanceof mi&&(d&&!pb(a.producedFields(),x.dependentFields())?f.push(x):h.push(x));if(0<f.length){d=f.pop();for(const x of f)d.merge(x,this.model.renameSignal.bind(this.model));this.setModified();a instanceof mi?a.merge(d,this.model.renameSignal.bind(this.model)):d.swapWithParent()}if(1<h.length){a=h.pop();for(const x of h)a.merge(x,this.model.renameSignal.bind(this.model));this.setModified()}}}class Ye extends zd{run(a){var d=
[...a.children];if(Ua(d,x=>x instanceof uh)&&!(1>=a.numChildren())){var f=[];for(const x of d)if(x instanceof uh){for(d=x;1===d.numChildren();){const [D]=d.children;if(D instanceof uh)d=D;else break}f.push(...d.children);if(h)a.removeChild(x),x.parent=h.parent,h.parent.removeChild(h),h.parent=d,this.setModified();else var h=d}else f.push(x);if(f.length){this.setModified();for(const x of f)x.parent.removeChild(x),x.parent=h}}}}class bf extends hg{clone(){return new bf(null,sf(this.transform))}constructor(a,
d){super(a);this.transform=d}addDimensions(a){this.transform.groupby=Lb(this.transform.groupby.concat(a),d=>d)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(d=>d.field).filter(d=>void 0!==d).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let d;return null!=(d=a.as)?d:wd(a)}hash(){return`JoinAggregateTransform ${Cb(this.transform)}`}assemble(){const a=
[],d=[],f=[];for(var h of this.transform.joinaggregate)d.push(h.op),f.push(this.getDefaultName(h)),a.push(void 0===h.field?null:h.field);h=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:f,ops:d,fields:a},void 0!==h?{groupby:h}:{})}}class Ze extends hg{clone(){return new Ze(null,sf(this._stack))}constructor(a,d){super(a);F(this,"_stack",void 0);this._stack=d}static makeFromTransform(a,d){const {stack:f,groupby:h,as:x,offset:D="zero"}=d;var ca=[];const ra=[];if(void 0!==d.sort)for(const Ia of d.sort)ca.push(Ia.field),
ra.push(Fa(Ia.order,"ascending"));ca={field:ca,order:ra};d=Pg(x)?x:P.isString(x)?[x,`${x}_end`]:[`${d.stack}_start`,`${d.stack}_end`];return new Ze(a,{dimensionFieldDefs:[],stackField:f,groupby:h,offset:D,sort:ca,facetby:[],as:d})}static makeFromEncoding(a,d){var f=d.stack;const {encoding:h}=d;if(!f)return null;const {groupbyChannels:x,fieldChannel:D,offset:ca,impute:ra}=f;f=x.map(Ob=>Ie(h[Ob])).filter(Ob=>!!Ob);const Ia=og(d);var hb=d.encoding.order;if(P.isArray(hb)||vb(hb))hb=Ha(hb);else{const Ob=
hb&&hb.sort&&!hb.field?hb.sort:"y"===D?"descending":"ascending";hb=Ia.reduce((tc,md)=>{tc.field.push(md);tc.order.push(Ob);return tc},{field:[],order:[]})}return new Ze(a,{dimensionFieldDefs:f,stackField:d.vgField(D),facetby:[],stackby:Ia,sort:hb,offset:ca,impute:ra,as:[d.vgField(D,{suffix:"start",forAs:!0}),d.vgField(D,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,
a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Cb(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:d,groupby:f}=this._stack;return 0<a.length?a.map(h=>h.bin?d?[wd(h,{binSuffix:"mid"})]:[wd(h,{}),wd(h,{binSuffix:"end"})]:[wd(h)]).flat():null!=f?f:[]}assemble(){const a=[],{facetby:d,dimensionFieldDefs:f,stackField:h,stackby:x,sort:D,offset:ca,impute:ra,as:Ia}=this._stack;
if(ra)for(const hb of f){const {bandPosition:Ob=.5,bin:tc}=hb;if(tc){const md=wd(hb,{expr:"datum"}),Jc=wd(hb,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${Ob}*${md}+${1-Ob}*${Jc}`,as:wd(hb,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",field:h,groupby:[...x,...d],key:wd(hb,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...d],field:h,sort:D,as:Ia,offset:ca});return a}}class qf extends hg{clone(){return new qf(null,sf(this.transform))}constructor(a,
d){super(a);this.transform=d}addDimensions(a){this.transform.groupby=Lb(this.transform.groupby.concat(a),d=>d)}dependentFields(){const a=new Set;let d;(null!=(d=this.transform.groupby)?d:[]).forEach(a.add,a);let f;(null!=(f=this.transform.sort)?f:[]).forEach(h=>a.add(h.field));this.transform.window.map(h=>h.field).filter(h=>void 0!==h).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let d;return null!=(d=a.as)?d:wd(a)}hash(){return`WindowTransform ${Cb(this.transform)}`}assemble(){const a=
[],d=[],f=[],h=[];for(var x of this.transform.window)d.push(x.op),f.push(this.getDefaultName(x)),h.push(void 0===x.param?null:x.param),a.push(void 0===x.field?null:x.field);x=this.transform.frame;const D=this.transform.groupby;if(x&&null===x[0]&&null===x[1]&&d.every(hb=>La(hb)))return Object.assign({},{type:"joinaggregate",as:f,ops:d,fields:a},void 0!==D?{groupby:D}:{});const ca=[],ra=[];if(void 0!==this.transform.sort)for(var Ia of this.transform.sort){ca.push(Ia.field);let hb;ra.push(null!=(hb=
Ia.order)?hb:"ascending")}Ia=this.transform.ignorePeers;return Object.assign({},{type:"window",params:h,as:f,ops:d,fields:a,sort:{field:ca,order:ra}},void 0!==Ia?{ignorePeers:Ia}:{},void 0!==D?{groupby:D}:{},void 0!==x?{frame:x}:{})}}class ng{constructor(a){F(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,d){return new ng(()=>a(d))}}class ag extends ki{constructor(a,d){super({},{name:a});F(this,"merged",!1);this.setWithExplicit("type",d)}domainDefinitelyIncludesZero(){return!1!==
this.get("zero")?!0:Ua(this.get("domains"),a=>P.isArray(a)&&2===a.length&&0>=a[0]&&0<=a[1])}}const $i=["range","scheme"],ol={bins:a=>{let {model:d,fieldOrDatumDef:f}=a;return vb(f)?Ri(d,f):void 0},interpolate:a=>{let {channel:d,fieldOrDatumDef:f}=a;a=f.type;a=Yb(["color","fill","stroke"],d)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:d,channel:f,domain:h,domainMin:x,domainMax:D,fieldOrDatumDef:ca}=a;{let ra;a=(null==(ra=Ie(ca))?0:ra.bin)||P.isArray(h)||null!=D||null!=x||Yb([Cg.TIME,
Cg.UTC],d)?void 0:V(f)?!0:void 0}return a},padding:a=>{let {channel:d,scaleType:f,fieldOrDatumDef:h,markDef:x,config:D}=a;a:{a=D.scale;var ca=D.bar;if(V(d)){if(Sh.has(f)){if(void 0!==a.continuousPadding){a=a.continuousPadding;break a}const {type:ra,orient:Ia}=x;if("bar"===ra&&(!vb(h)||!h.bin&&!h.timeUnit)&&("vertical"===Ia&&"x"===d||"horizontal"===Ia&&"y"===d)){a=ca.continuousBandSize;break a}}if(f===Cg.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>{let {scalePadding:d,channel:f,
markDef:h,scaleType:x,config:D,hasNestedOffsetScale:ca}=a;return Si(d,f,h.type,x,D.scale,ca)},paddingOuter:a=>{let {scalePadding:d,channel:f,scaleType:h,scalePaddingInner:x,config:D,hasNestedOffsetScale:ca}=a;return Kj(d,f,h,x,D.scale,ca)},reverse:a=>{let {fieldOrDatumDef:d,scaleType:f,channel:h,config:x}=a;a=vb(d)?d.sort:void 0;var D=x.scale;a="x"===h&&void 0!==D.xReverse?gd(f)&&"descending"===a?Zb(D.xReverse)?{signal:`!${D.xReverse.signal}`}:!D.xReverse:D.xReverse:gd(f)&&"descending"===a?!0:void 0;
return a},zero:a=>{let {channel:d,fieldOrDatumDef:f,domain:h,markDef:x,scaleType:D,config:ca,hasSecondaryRangeChannel:ra}=a;a:if(a=ca.scale,h&&"unaggregated"!==h&&gd(D)){if(P.isArray(h)&&(a=h[h.length-1],0>=h[0]&&0<=a)){a=!0;break a}a=!1}else if("size"!==d||"quantitative"!==f.type||fi.has(D))if(vb(f)&&f.bin||!Yb([...pi,...hl],d))a=!1;else{const {orient:Ia,type:hb}=x;a=Yb(["bar","area","line","trail"],hb)&&("horizontal"===Ia&&"y"===d||"vertical"===Ia&&"x"===d)?!1:Yb(["bar","area"],hb)&&!ra?!0:null==
a?void 0:a.zero}else a=!0;return a}},Jm=Zf((a,d)=>xi[a]-xi[d]);class vm{constructor(){F(this,"nameMap",void 0);this.nameMap={}}rename(a,d){this.nameMap[a]=d}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class wm{constructor(a,d,f,h,x,D,ca){this.type=d;this.parent=f;this.config=x;F(this,"name",void 0);F(this,"size",void 0);F(this,"title",void 0);F(this,"description",void 0);F(this,"data",void 0);F(this,"transforms",void 0);F(this,
"layout",void 0);F(this,"scaleNameMap",void 0);F(this,"projectionNameMap",void 0);F(this,"signalNameMap",void 0);F(this,"component",void 0);F(this,"view",void 0);F(this,"children",void 0);F(this,"correctDataNames",hb=>{let Ob;if(null==(Ob=hb.from)?0:Ob.data)hb.from.data=this.lookupDataSource(hb.from.data);let tc,md;if(null==(tc=hb.from)?0:null==(md=tc.facet)?0:md.data)hb.from.facet.data=this.lookupDataSource(hb.from.facet.data);return hb});this.parent=f;this.config=x;this.view=sc(ca);let ra;this.name=
null!=(ra=a.name)?ra:h;this.title=dd(a.title)?{text:a.title}:a.title?sc(a.title):void 0;this.scaleNameMap=f?f.scaleNameMap:new vm;this.projectionNameMap=f?f.projectionNameMap:new vm;this.signalNameMap=f?f.signalNameMap:new vm;this.data=a.data;this.description=a.description;let Ia;this.transforms=kh(null!=(Ia=a.transform)?Ia:[]);this.layout="layer"===d||"unit"===d?{}:tg(a,d,x);this.component={data:{sources:f?f.component.data.sources:[],outputNodes:f?f.component.data.outputNodes:{},outputNodeRefCounts:f?
f.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==f?void 0:f.component.data.isFaceted)&&void 0===a.data},layoutSize:new ki,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},D?sf(D):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();
this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){Gl(this)}parseProjection(){jg(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){ye(this)}assembleEncodeFromView(a){a=Object.assign({},a);a=(delete a.style,a);const d={};for(const f of ie(a)){const h=
a[f];void 0!==h&&(d[f]=Tb(h))}return d}assembleGroupEncodeEntry(a){let d={};this.view&&(d=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(d.description=Tb(this.description)),"unit"===this.type||"layer"===this.type)){let f;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(f=d)?f:{})}return Qa(d)?void 0:d}assembleLayout(){if(this.layout){var a=this.layout,d=Object.assign({},a);a=a.spacing;d=(delete d.spacing,d);var {component:f,
config:h}=this,x=f.layoutHeaders,D={};for(ra of ci){var ca=x[ra];let Ia;if(null==(Ia=ca)?0:Ia.facetFieldDef){const {titleAnchor:hb,titleOrient:Ob}=ad(["titleAnchor","titleOrient"],ca.facetFieldDef.header,h,ra);ca=Id(ra,Ob);const tc=Hl[ca][hb];void 0!==tc&&(D[ca]=tc)}}var ra=Qa(D)?void 0:D;return Object.assign({},{padding:a},this.assembleDefaultLayout(),d,ra?{titleBand:ra}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=this.component,d=[];for(var f of ci)if(a[f].title){var h=
d,x=h.push;var D=f;var ca=this.component.layoutHeaders[D].title,ra=this.config?this.config:void 0,Ia=this.component.layoutHeaders[D].facetFieldDef?this.component.layoutHeaders[D].facetFieldDef:void 0;const {titleAnchor:pd,titleAngle:je,titleOrient:Nd}=ad(["titleAnchor","titleAngle","titleOrient"],Ia.header,ra,D);var hb=Id(D,Nd),Ob=ma(je);D={name:`${D}-title`,type:"group",role:`${hb}-title`,title:Object.assign({},{text:ca},"row"===D?{orient:"left"}:{},{style:"guide-title"},Je(Ob,hb),ke(hb,Ob,pd),w(ra,
Ia,D,Ql,pl))};x.call(h,D)}for(const pd of Zk){a=d;d=a.concat;h=pd;x=this.component.layoutHeaders[h];f=[];for(const je of Ck)if(x[je])for(const Nd of x[je]){a:{Ia=void 0;D=h;var tc=je,md=x;if(ca=Nd){ra=null;({facetFieldDef:cd}=md);hb=this.config?this.config:void 0;cd&&ca.labels&&({labelOrient:Ob}=ad(["labelOrient"],cd.header,hb,D),"row"===D&&!Yb(["top","bottom"],Ob)||"column"===D&&!Yb(["left","right"],Ob))&&(ra=Ue(cd,D,hb));const ve=Rh(this)&&!le(this.facet),Qe=ca.axes,gf=0<(null==Qe?void 0:Qe.length);
if(ra||gf){const Wf="row"===D?"height":"width";hb=Object;Ob=hb.assign;tc={name:this.getName(`${D}_${tc}`),type:"group",role:`${D}-${tc}`};if(md.facetFieldDef){md={data:this.getName(`${D}_domain`)};{var Jc=cd;const {sort:Vf}=Jc;var cd=Vd(Vf)?{field:wd(Vf,{expr:"datum"}),order:null!=(Ia=Vf.order)?Ia:"ascending"}:P.isArray(Vf)?{field:Uc(Jc,D,{expr:"datum"}),order:"ascending"}:{field:wd(Jc,{expr:"datum"}),order:null!=Vf?Vf:"ascending"}}Ia={from:md,sort:cd}}else Ia={};D=Ob.call(hb,{},tc,Ia,gf&&ve?{from:{data:this.getName(`facet_domain_${D}`)}}:
{},ra?{title:ra}:{},ca.sizeSignal?{encode:{update:{[Wf]:ca.sizeSignal}}}:{},gf?{axes:Qe}:{});break a}}D=null}null!=D&&f.push(D)}d=d.call(a,f)}return d}assembleAxes(){return Gi(this.component.axes,this.config)}assembleLegends(){return Te(this)}assembleProjections(){var a=Ui(this)||vi(this)?Ff(this):Xf(this);return a}assembleTitle(){var a,d=null!=(a=this.title)?a:{};a=Object.assign({},d);d=d.encoding;a=(delete a.encoding,a);d=Object.assign({},xc(this.config.title).nonMarkTitleProperties,a,d?{encode:{update:d}}:
{});if(d.text)return Yb(["unit","layer"],this.type)?Yb(["middle",void 0],d.anchor)&&(null!=d.frame||(d.frame="group")):null!=d.anchor||(d.anchor="start"),Qa(d)?void 0:d}assembleGroup(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const d={};a=a.concat(this.assembleSignals());0<a.length&&(d.signals=a);if(a=this.assembleLayout())d.layout=a;d.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||Rh(this.parent)?ah(this):[];0<a.length&&(d.scales=a);a=this.assembleAxes();
0<a.length&&(d.axes=a);a=this.assembleLegends();0<a.length&&(d.legends=a);return d}getName(a){return Ka((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(Hg[a].toLowerCase())}requestDataName(a){a=this.getDataName(a);const d=this.component.data.outputNodeRefCounts;d[a]=(d[a]||0)+1;return a}getSizeSignalRef(a){if(Rh(this.parent)){var d=zb(a),f=Aa(d);if((d=this.component.scales[f])&&!d.merged){var h=d.get("type");const x=d.get("range");if(Tc(h)&&Sc(x)){a=d.get("name");h=yk(this,f);
if(h=Wk(h))return f=wd({aggregate:"distinct",field:h},{expr:"datum"}),{signal:rb(a,d,f)};za(dc(f));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const d=this.component.data.outputNodes[a];return d?d.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,d){this.signalNameMap.rename(a,d)}renameScale(a,d){this.scaleNameMap.rename(a,d)}renameProjection(a,d){this.projectionNameMap.rename(a,d)}scaleName(a,d){if(d)return this.getName(a);
if(dk[a]&&Hi[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const d=this.component.scales[a];return d&&!d.merged?d:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,d){let f=this.component.selection[a];!f&&this.parent&&(f=this.parent.getSelectionComponent(a,d));if(!f)throw Error(`Cannot find a selection named "${d}".`);return f}hasAxisOrientSignalRef(){let a,d;return(null==(a=this.component.axes.x)?void 0:a.some(f=>f.hasOrientSignalRef()))||(null==(d=this.component.axes.y)?void 0:d.some(f=>f.hasOrientSignalRef()))}}class Fm extends wm{vgField(a){let d=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const f=this.fieldDef(a);if(f)return wd(f,d)}reduceFieldDef(a,d){return qa(this.getMapping(),(f,h,x)=>(h=Ie(h))?a(f,h,x):f,d)}forEachFieldDef(a,d){Ug(this.getMapping(),(f,h)=>{(f=Ie(f))&&a(f,h)},d)}}class om extends hg{clone(){return new om(null,sf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=sf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:"value",null!=(x=
a[1])?x:"density"];d.groupby&&null==d.minsteps&&null==d.maxsteps&&null==d.steps&&(this.transform.steps=200)}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Cb(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);a=a.density;d=(delete d.density,d);return Object.assign({},{type:"kde",field:a},d)}}class um extends hg{clone(){return new um(null,
sf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=sf(d)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Cb(this.transform)}`}assemble(){const {extent:a,param:d}=this.transform;return{type:"extent",field:a,signal:d}}}class zl extends hg{clone(){return new zl(null,Object.assign({},this.filter))}constructor(a,d){super(a);this.filter=d}static make(a,d){const {config:f,mark:h,markDef:x}=d;if("filter"!==
zc("invalid",x,f))return null;const D=d.reduceFieldDef((ca,ra,Ia)=>{if(Ia=!!Hi[Ia]&&d.getScaleComponent(Ia))Ia=Ia.get("type"),gd(Ia)&&"count"!==ra.aggregate&&!oc(h)&&(ca[ra.field]=ra);return ca},{});return ie(D).length?new zl(a,D):null}dependentFields(){return new Set(ie(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Cb(this.filter)}`}assemble(){const a=ie(this.filter).reduce((d,f)=>{f=this.filter[f];const h=wd(f,{expr:"datum"});null!==f&&("temporal"===f.type?d.push(`(isDate(${h}) || (isValid(${h}) && isFinite(+${h})))`):
"quantitative"===f.type&&(d.push(`isValid(${h})`),d.push(`isFinite(+${h})`)));return d},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class nm extends hg{clone(){return new nm(this.parent,sf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=sf(d);const {flatten:f,as:h=[]}=this.transform;this.transform.as=f.map((x,D)=>{let ca;return null!=(ca=h[D])?ca:x})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Cb(this.transform)}`}assemble(){const {flatten:a,
as:d}=this.transform;return{type:"flatten",fields:a,as:d}}}class mm extends hg{clone(){return new mm(null,sf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=sf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:"key",null!=(x=a[1])?x:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Cb(this.transform)}`}assemble(){const {fold:a,
as:d}=this.transform;return{type:"fold",fields:a,as:d}}}class al extends hg{clone(){return new al(null,sf(this.fields),this.geojson,this.signal)}static parseAll(a,d){if(d.component.projection&&!d.component.projection.isFit)return a;let f=0;for(var h of[["longitude","latitude"],["longitude2","latitude2"]]){const x=h.map(D=>{D=ne(d.encoding[D]);return vb(D)?D.field:qc(D)?{expr:`${D.datum}`}:yd(D)?{expr:`${D.value}`}:void 0});if(x[0]||x[1])a=new al(a,x,null,d.getName(`geojson_${f++}`))}d.channelHasField("shape")&&
(h=d.typedFieldDef("shape"),"geojson"===h.type&&(a=new al(a,null,h.field,d.getName(`geojson_${f++}`))));return a}constructor(a,d,f,h){super(a);this.fields=d;this.geojson=f;this.signal=h}dependentFields(){let a;const d=(null!=(a=this.fields)?a:[]).filter(P.isString);return new Set([...(this.geojson?[this.geojson]:[]),...d])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Cb(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:
[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Al extends hg{clone(){return new Al(null,this.projection,sf(this.fields),sf(this.as))}constructor(a,d,f,h){super(a);this.projection=d;this.fields=f;this.as=h}static parseAll(a,d){if(!d.projectionName())return a;for(const f of[["longitude","latitude"],["longitude2","latitude2"]]){const h=f.map(D=>{D=ne(d.encoding[D]);return vb(D)?D.field:qc(D)?{expr:`${D.datum}`}:
yd(D)?{expr:`${D.value}`}:void 0}),x="longitude2"===f[0]?"2":"";if(h[0]||h[1])a=new Al(a,d.projectionName(),h,[d.getName(`x${x}`),d.getName(`y${x}`)])}return a}dependentFields(){return new Set(this.fields.filter(P.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Cb(this.fields)} ${Cb(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Ek extends hg{clone(){return new Ek(null,sf(this.transform))}constructor(a,
d){super(a);this.transform=d}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:d=0,stop:f,step:h}=a;return{signal:`sequence(${[d,f,...(h?[h]:[])].join()})`}}static makeFromTransform(a,d){return new Ek(a,d)}static makeFromEncoding(a,d){const f=d.encoding;var h=f.x;const x=f.y;if(vb(h)&&vb(x)){const D=h.impute?h:x.impute?x:void 0;if(void 0===
D)return;h=h.impute?x:x.impute?h:void 0;const {method:ca,value:ra,frame:Ia,keyvals:hb}=D.impute;d=bb(d.mark,f);return new Ek(a,Object.assign({},{impute:D.field,key:h.field},ca?{method:ca}:{},void 0!==ra?{value:ra}:{},Ia?{frame:Ia}:{},void 0!==hb?{keyvals:hb}:{},d.length?{groupby:d}:{}))}return null}hash(){return`Impute ${Cb(this.transform)}`}assemble(){const {impute:a,key:d,keyvals:f,method:h,groupby:x,value:D,frame:ca=[null,null]}=this.transform;var ra=Object,Ia=ra.assign;var hb=f?{keyvals:void 0!==
(null==f?void 0:f.stop)?this.processSequence(f):f}:{};ra=Ia.call(ra,{},{type:"impute",field:a,key:d},hb,{method:"value"},x?{groupby:x}:{},{value:h&&"value"!==h?null:D});return h&&"value"!==h?(Ia=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[h],fields:[a],frame:ca,ignorePeers:!1},x?{groupby:x}:{}),[ra,Ia,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,as:a}]):[ra]}}class pm extends hg{clone(){return new pm(null,sf(this.transform))}constructor(a,d){super(a);
this.transform=d;this.transform=sf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:d.on,null!=(x=a[1])?x:d.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Cb(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);const f=a.loess;a=a.on;d=(delete d.loess,delete d.on,
d);return Object.assign({},{type:"loess",x:a,y:f},d)}}class Bl extends hg{clone(){return new Bl(null,sf(this.transform),this.secondary)}constructor(a,d,f){super(a);this.transform=d;this.secondary=f}static make(a,d,f,h){const x=d.component.data.sources,{from:D}=f;var ca=null;if("data"in D)ca=Ok(D.data,x),ca||(ca=new tb(D.data),x.push(ca)),h=d.getName(`lookup_${h}`),ca=new uh(ca,h,Hg.Lookup,d.component.data.outputNodeRefCounts),d.component.data.outputNodes[h]=ca;else if("param"in D){h=D.param;f=Object.assign({},
{as:h},f);let ra;try{ra=d.getSelectionComponent(Ka(h),h)}catch(Ia){throw Error(`Lookups can only be performed on selection parameters. "${h}" is a variable parameter.`);}ca=ra.materialized;if(!ca)throw Error(`Cannot define and lookup the "${h}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new Bl(a,f,ca.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?P.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Cb({transform:this.transform,
secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:P.array(this.transform.as)}:{});else a=this.transform.as,P.isString(a)||(za('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},
a,this.transform.default?{default:this.transform.default}:{})}}class qm extends hg{clone(){return new qm(null,sf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=sf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:"prob",null!=(x=a[1])?x:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Cb(this.transform)}`}assemble(){var a=
this.transform,d=Object.assign({},a);a=a.quantile;d=(delete d.quantile,d);return Object.assign({},{type:"quantile",field:a},d)}}class rm extends hg{clone(){return new rm(null,sf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=sf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:d.on,null!=(x=a[1])?x:d.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Cb(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);const f=a.regression;a=a.on;d=(delete d.regression,delete d.on,d);return Object.assign({},{type:"regression",x:a,y:f},d)}}class tm extends hg{clone(){return new tm(null,sf(this.transform))}constructor(a,d){super(a);this.transform=d}addDimensions(a){let d;this.transform.groupby=Lb((null!=(d=this.transform.groupby)?d:[]).concat(a),
f=>f)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${Cb(this.transform)}`}assemble(){const {pivot:a,value:d,groupby:f,limit:h,op:x}=this.transform;return Object.assign({},{type:"pivot",field:a,value:d},void 0!==h?{limit:h}:{},void 0!==x?{op:x}:{},void 0!==f?{groupby:f}:{})}}class sm extends hg{clone(){return new sm(null,sf(this.transform))}constructor(a,d){super(a);this.transform=
d}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Cb(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class Dl extends Fm{constructor(a,d,f,h){super(a,"facet",d,f,h,a.resolve);F(this,"facet",void 0);F(this,"child",void 0);F(this,"children",void 0);this.child=Pk(a.spec,this,this.getName("child"),void 0,h);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!le(a))return{facet:this.initFacetFieldDef(a,
"facet")};var d=ie(a);const f={};for(const h of d){if(!["row","column"].includes(h)){za(Zd(h,"facet"));break}d=a[h];if(void 0===d.field){za(Fd(d,h));break}f[h]=this.initFacetFieldDef(d,h)}return f}initFacetFieldDef(a,d){a=jf(a,d);a.header?a.header=sc(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=lk(this);this.child.parseData()}parseLayoutSize(){bk(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const h of ci){var a=void 0,d=h;const {facet:x,config:D,child:ca,component:ra}=this;if(this.channelHasField(d)){const Ia=x[d];var f=Sd("title",null,D,d);f=he(Ia,D,{allowDisabling:!0,includeDefault:void 0===f||!!f});ca.component.layoutHeaders[d].title&&(f=P.isArray(f)?f.join(", "):f,f+=` / ${ca.component.layoutHeaders[d].title}`,ca.component.layoutHeaders[d].title=
null);const hb=Sd("labelOrient",Ia.header,D,d),Ob=null!==Ia.header?Fa(null==(a=Ia.header)?void 0:a.labels,D.header.labels,!0):!1;a=Yb(["bottom","right"],hb)?"footer":"header";ra.layoutHeaders[d]={title:null!==Ia.header?f:null,facetFieldDef:Ia,[a]:"facet"===d?[]:[Ej(this,d,Ob)]}}}ll(this,"x");ll(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a=
{};for(const h of ci)for(const x of Ck){const D=this.component.layoutHeaders[h];var d=D[x],{facetFieldDef:f}=D;if(f&&(f=Sd("titleOrient",f.header,this.config,h),["right","bottom"].includes(f))){f=Id(h,f);let ra;null!=(ra=a).titleAnchor||(ra.titleAnchor={});a.titleAnchor[f]="end"}let ca;if(null==(ca=d)?0:ca[0]){d="row"===h?"height":"width";f="header"===x?"headerBand":"footerBand";if("facet"!==h&&!this.child.component.layoutSize.get(d)){let ra,Ia;null!=(ra=a)[Ia=f]||(ra[Ia]={});a[f][h]=.5}if(D.title){let ra;
null!=(ra=a).offset||(ra.offset={});a.offset["row"===h?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:d}=this.facet,f=a?this.columnDistinctSignal():d?1:void 0;let h="all";d||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(h="none"):h="none";return Object.assign({},this.getHeaderLayoutMixins(),f?{columns:f}:{},{bounds:"full",align:h})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof Dl))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof Dl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:wd(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],d=[],f=[];if(this.child instanceof Dl){if(this.child.channelHasField("column")){var h=wd(this.child.facet.column);
a.push(h);d.push("distinct");f.push(`distinct_${h}`)}}else for(h of pi){var x=this.child.component.scales[h];if(x&&!x.merged){var D=x.get("type");x=x.get("range");Tc(D)&&Sc(x)&&(D=yk(this.child,h),(D=Wk(D))?(a.push(D),d.push("distinct"),f.push(`distinct_${D}`)):za(dc(h)))}}return{fields:a,ops:d,as:f}}assembleFacet(){const {name:a,data:d}=this.component.data.facetRoot,{row:f,column:h}=this.facet,{fields:x,ops:D,as:ca}=this.getCardinalityAggregateForChild(),ra=[];for(var Ia of ci){var hb=this.facet[Ia];
if(hb){ra.push(wd(hb));const {bin:Ob,sort:tc}=hb;X(Ob)&&ra.push(wd(hb,{binSuffix:"end"}));if(Vd(tc)){const {field:md,op:Jc="min"}=tc;hb=Gj(hb,tc);f&&h?(x.push(hb),D.push("max")):(x.push(md),D.push(Jc));ca.push(hb)}else P.isArray(tc)&&(hb=Uc(hb,Ia),x.push(hb),D.push("max"),ca.push(hb))}}Ia=!!f&&!!h;return Object.assign({},{name:a,data:d,groupby:ra},Ia||0<x.length?{aggregate:Object.assign({},Ia?{cross:Ia}:{},x.length?{fields:x,ops:D,as:ca}:{})}:{})}facetSortFields(a){var {facet:d}=this;return(d=d[a])?
Vd(d.sort)?[Gj(d,d.sort,{expr:"datum"})]:P.isArray(d.sort)?[Uc(d,a,{expr:"datum"})]:[wd(d,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:d}=this;return(a=d[a])?({sort:a}=a,[(Vd(a)?a.order:!P.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:d}=this;if(a.facet)return Ue(a.facet,"facet",d);const f={row:["top","bottom"],column:["left","right"]};for(const h of Zk)if(a[h]){let x;const D=Sd("labelOrient",null==(x=a[h])?void 0:x.header,d,h);if(f[h].includes(D))return Ue(a[h],
h,d)}}assembleMarks(){const {child:a}=this,d=Dj(this.component.data.facetRoot),f=a.assembleGroupEncodeEntry(!1),h=this.assembleLabelTitle()||a.assembleTitle(),x=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},h?{title:h}:{},x?{style:x}:{},{from:{facet:this.assembleFacet()},sort:{field:ci.map(D=>this.facetSortFields(D)).flat(),order:ci.map(D=>this.facetSortOrder(D)).flat()}},0<d.length?{data:d}:{},f?{encode:{update:f}}:{},a.assembleGroup(S(this,[])))]}getMapping(){return this.facet}}
class Lm extends wm{constructor(a,d,f,h){super(a,"concat",d,f,h,a.resolve);F(this,"children",void 0);let x,D,ca,ra;"shared"!==(null==(x=a.resolve)?void 0:null==(D=x.axis)?void 0:D.x)&&"shared"!==(null==(ca=a.resolve)?void 0:null==(ra=ca.axis)?void 0:ra.y)||za("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((Ia,hb)=>Pk(Ia,this,this.getName(`concat_${hb}`),void 0,h))}parseData(){this.component.data=
lk(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const d of ie(a.component.selection))this.component.selection[d]=a.component.selection[d]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){bk(this);const a=void 0===
this.layout.columns?"height":"childHeight";Fj(this,1===this.layout.columns?"width":"childWidth");Fj(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((d,f)=>f.assembleSelectionTopLevelSignals(d),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=T(this);for(const d of this.children)a.push(...d.assembleLayoutSignals());return a}assembleSelectionData(a){return this.children.reduce((d,f)=>f.assembleSelectionData(d),
a)}assembleMarks(){return this.children.map(a=>{const d=a.assembleTitle(),f=a.assembleGroupStyle(),h=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},d?{title:d}:{},f?{style:f}:{},h?{encode:{update:h}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})}}const Mm=Object.assign({},{disable:1,gridScale:1,scale:1},qg,{labelExpr:1,encode:1}),
Bm=ie(Mm);class Cm extends ki{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=d;this.mainExtracted=f}clone(){return new Cm(sf(this.explicit),sf(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Zb(this.explicit.orient)}}
const Nm={bottom:"top",top:"bottom",left:"right",right:"left"},Km=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Cl={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},Ef(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Rc("x",a,{defaultPos:"mid"}),Rc("y",a,{defaultPos:"mid"}),pf(a,"radius"),pf(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},Ef(a,{align:"ignore",baseline:"ignore",
color:"include",orient:"include",size:"ignore",theta:"ignore"}),He("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),He("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),nf(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},Ef(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),pf(a,"x"),pf(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>Hk(a,"circle")},geoshape:{vgMark:"shape",
encodeEntry:a=>Object.assign({},Ef(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:d}=a;d=d.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},d&&vb(d)&&"geojson"===d.type?{field:wd(d,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>Object.assign({},Ef(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),pf(a,"x"),pf(a,"y"),
l(a,"url"))},line:{vgMark:"line",encodeEntry:a=>Object.assign({},Ef(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Rc("x",a,{defaultPos:"mid"}),Rc("y",a,{defaultPos:"mid"}),Bb("size",a,{vgChannel:"strokeWidth"}),nf(a))},point:{vgMark:"symbol",encodeEntry:a=>Hk(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},Ef(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),pf(a,"x"),pf(a,"y"))},rule:{vgMark:"rule",
encodeEntry:a=>{var {markDef:d}=a;d=d.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},Ef(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),He("x",a,{defaultPos:"horizontal"===d?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==d}),He("y",a,{defaultPos:"vertical"===d?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==d}),Bb("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",
encodeEntry:a=>Hk(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:d}=a,f=Object,h=f.assign,x=Ef(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),D=Rc("x",a,{defaultPos:"mid"}),ca=Rc("y",a,{defaultPos:"mid"}),ra=l(a),Ia=Bb("size",a,{vgChannel:"fontSize"}),hb=Bb("angle",a);var Ob=void 0===zc("align",a.markDef,d)?"center":void 0;Ob=Rf("align",Ob);d=void 0===zc("baseline",a.markDef,d)?"middle":void 0;return h.call(f,{},x,D,ca,ra,Ia,hb,
Ob,Rf("baseline",d),Rc("radius",a,{defaultPos:null}),Rc("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:d,markDef:f}=a;var h=f.orient;const x="horizontal"===h?"width":"height";h="horizontal"===h?"height":"width";var D=Object,ca=D.assign,ra=Ef(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ia=Rc("x",a,{defaultPos:"mid",vgChannel:"xc"}),hb=Rc("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:Jc,markDef:cd}=a;
var {orient:Ob}=cd;var tc="horizontal"===Ob?"width":"height";Ob=a.getScaleComponent("horizontal"===Ob?"x":"y");var md;const pd=null!=(md=zc("size",cd,Jc,{vgChannel:tc}))?md:Jc.tick.bandSize;tc=void 0!==pd?pd:(md=Ob?Ob.get("range"):void 0)&&Sc(md)&&P.isNumber(md.step)?3*md.step/4:3*fg(Jc.view,tc)/4}return ca.call(D,{},ra,Ia,hb,Bb("size",a,{defaultValue:tc,vgChannel:x}),{[h]:Tb(zc("thickness",f,d))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},Ef(a,{align:"ignore",baseline:"ignore",color:"include",
size:"include",orient:"ignore",theta:"ignore"}),Rc("x",a,{defaultPos:"mid"}),Rc("y",a,{defaultPos:"mid"}),Bb("size",a),nf(a))}};class Em extends Fm{constructor(a,d,f){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},x=4<arguments.length?arguments[4]:void 0;super(a,"unit",d,f,x,void 0,Af(a)?a.view:void 0);F(this,"markDef",void 0);F(this,"encoding",void 0);F(this,"specifiedScales",{});F(this,"stack",void 0);F(this,"specifiedAxes",{});F(this,"specifiedLegends",{});F(this,"specifiedProjection",
{});F(this,"selection",[]);F(this,"children",[]);const D=Lc(a.mark)?Object.assign({},a.mark):{type:a.mark},ca=D.type;void 0===D.filled&&(D.filled=dm(D,x,{graticule:a.data&&"graticule"in a.data}));const ra=this.encoding=eh(a.encoding||{},ca,D.filled,x);this.markDef=nl(D,ra,x);this.size=cm({encoding:ra,size:Af(a)?Object.assign({},h,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):h});this.stack=$g(this.markDef,ra);this.specifiedScales=this.initScales(ca,ra);this.specifiedAxes=this.initAxes(ra);
this.specifiedLegends=this.initLegends(ra);this.specifiedProjection=a.projection;let Ia;this.selection=(null!=(Ia=a.params)?Ia:[]).filter(hb=>Ge(hb))}get hasProjection(){const {encoding:a}=this,d=this.mark===Qk,f=a&&Oj.some(h=>Hc(a[h]));return d||f}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,d){return bj.reduce((f,h)=>{const x=ne(d[h]);if(x){let D;f[h]=this.initScale(null!=(D=x.scale)?
D:{})}return f},{})}initScale(a){const {domain:d,range:f}=a;a=sc(a);P.isArray(d)&&(a.domain=d.map(Vb));P.isArray(f)&&(a.range=f.map(Vb));return a}initAxes(a){return pi.reduce((d,f)=>{var h=a[f];if(Hc(h)||"x"===f&&Hc(a.x2)||"y"===f&&Hc(a.y2))h=Hc(h)?h.axis:void 0,d[f]=h?this.initAxis(Object.assign({},h)):h;return d},{})}initAxis(a){var d=ie(a);const f={};for(const h of d)d=a[h],f[h]=Jf(d)?Ma(d):Vb(d);return f}initLegends(a){return jm.reduce((d,f)=>{var h=ne(a[f]),x;if(x=h)a:{switch(f){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":x=
!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":x=!1;break a}x=void 0}x&&(h=h.legend,d[f]=h?sc(h):h);return d},{})}parseData(){this.component.data=lk(this)}parseLayoutSize(){const {size:a,component:d}=this;for(const h of pi){const x=B(h);if(a[x]){var f=a[x];d.layoutSize.set(x,of(f)?"step":f,!0)}else f=ck(this,x),d.layoutSize.set(x,f,!1)}}parseSelections(){var a=this.component;{var d=this.selection;var f={};const D=this.config.selection;if(d&&d.length)for(const ca of d){d=Ka(ca.name);
var h=ca.select,x=P.isString(h)?h:h.type;h=P.isObject(h)?sf(h):{type:x};const ra=D[x];for(const Ia in ra)if("fields"!==Ia&&"encodings"!==Ia&&("mark"===Ia&&(h[Ia]=Object.assign({},ra[Ia],h[Ia])),void 0===h[Ia]||!0===h[Ia])){let hb;h[Ia]=sf(null!=(hb=ra[Ia])?hb:h[Ia])}d=f[d]=Object.assign({},h,{name:d,type:x,init:ca.value,bind:ca.bind,events:P.isString(h.on)?P.parseSelector(h.on,"scope"):P.array(sf(h.on))});x=sf(ca);for(const Ia of dj)Ia.defined(d)&&Ia.parse&&Ia.parse(this,d,x)}}a.selection=f}parseMarkGroup(){this.component.mark=
fm(this)}parseAxesAndHeaders(){this.component.axes=Nk(this)}assembleSelectionTopLevelSignals(a){return xa(this,a)}assembleSignals(){var a=[...ej(this)];var d=[];var f;for(const h of wh(null!=(f=this.component.selection)?f:{})){f=h.name;let x=`${f}${"_tuple"}, ${"global"===h.resolve?"true":`{unit: ${Uf(this)}}`}`;for(const D of dj)D.defined(h)&&(D.signals&&(d=D.signals(this,h,d)),D.modifyExpr&&(x=D.modifyExpr(this,h,x)));d.push({name:f+"_modify",on:[{events:{signal:h.name+"_tuple"},update:`modify(${P.stringValue(h.name+
"_store")}, ${x})`}]})}d=ja(d);return[...a,...d]}assembleSelectionData(a){return Ta(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return T(this)}assembleMarks(){let a,d=null!=(a=this.component.mark)?a:[];this.parent&&Ui(this.parent)||(d=p(this,d));return d.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return zf(this.encoding,
a)}fieldDef(a){return Ie(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return $c(a)?a:null}}class Dm extends wm{constructor(a,d,f,h,x){super(a,"layer",d,f,x,a.resolve,a.view);F(this,"children",void 0);const D=Object.assign({},h,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=a.layer.map((ca,ra)=>{if("layer"in ca)return new Dm(ca,this,this.getName(`layer_${ra}`),D,x);if(yf(ca))return new Em(ca,this,this.getName(`layer_${ra}`),D,x);throw Error(Za(ca));})}parseData(){this.component.data=
lk(this);for(const a of this.children)a.parseData()}parseLayoutSize(){bk(this);Fj(this,"width");Fj(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const d of ie(a.component.selection))this.component.selection[d]=a.component.selection[d]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,resolve:d}=this.component,f={top:0,bottom:0,right:0,left:0};for(var h of this.children){h.parseAxesAndHeaders();
for(const x of ie(h.component.axes))d.axis[x]=Mc(this.component.resolve,x),"shared"===d.axis[x]&&(a[x]=am(a[x],h.component.axes[x]),a[x]||(d.axis[x]="independent",delete a[x]))}for(const x of pi){for(const D of this.children)if(D.component.axes[x]){if("independent"===d.axis[x]){let ca;a[x]=(null!=(ca=a[x])?ca:[]).concat(D.component.axes[x]);for(const ra of D.component.axes[x]){const {value:Ia,explicit:hb}=ra.getWithExplicit("orient");Zb(Ia)||(0<f[Ia]&&!hb&&(h=Nm[Ia],f[Ia]>f[h]&&ra.set("orient",h,
!1)),f[Ia]++)}}delete D.component.axes[x]}if("independent"===d.axis[x]&&a[x]&&1<a[x].length)for(const D of(a[x]||[]).entries()){const [ca,ra]=D;0<ca&&ra.get("grid")&&!ra.explicit.grid&&(ra.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((d,f)=>f.assembleSelectionTopLevelSignals(d),a)}assembleSignals(){return this.children.reduce((a,d)=>a.concat(d.assembleSignals()),ej(this))}assembleLayoutSignals(){return this.children.reduce((a,d)=>a.concat(d.assembleLayoutSignals()),
T(this))}assembleSelectionData(a){return this.children.reduce((d,f)=>f.assembleSelectionData(d),a)}assembleGroupStyle(){var a=new Set;for(const d of this.children)for(const f of P.array(d.assembleGroupStyle()))a.add(f);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const d of this.children)if(a=d.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return R(this,this.children.flatMap(a=>a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,
d)=>a.concat(d.assembleLegends()),Te(this))}}k.accessPathDepth=Z;k.accessPathWithDatum=xb;k.compile=function(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d.logger&&(Wi=d.logger);d.fieldTitle&&(Fg=d.fieldTitle);try{const Ob=oh(P.mergeConfig(d.config,a.config)),tc=Ch(a,Ob),md=Pk(tc,null,"",void 0,Ob);md.parse();var f=md.component.data,h=md;Yh(f.sources);let Jc=0,cd=0;for(var x=0;5>x&&ij(f,h,!0);x++)Jc++;f.sources.map(Yg);for(x=0;5>x&&ij(f,h,!1);x++)cd++;Yh(f.sources);5===Math.max(Jc,
cd)&&za("Maximum optimization runs(5) reached.");var D=tc.autosize;f=Ob;h=md;const pd=h.component.layoutSize.get("width"),je=h.component.layoutSize.get("height");void 0===D?(D={type:"pad"},h.hasAxisOrientSignalRef()&&(D.resize=!0)):P.isString(D)&&(D={type:D});var ca;if(ca=pd&&je){var ra=D.type;ca="fit"===ra||"fit-x"===ra||"fit-y"===ra}if(ca)if("step"===pd&&"step"===je)za(nc()),D.type="pad";else if("step"===pd||"step"===je){ra="step"===pd?"width":"height";za(nc(Aa(ra)));ca=D;var Ia=(ra="width"===ra?
"height":"width",`fit-${Aa(ra)}`);ca.type=Ia}var hb=Object.assign({},1===ie(D).length&&D.type?"pad"===D.type?{}:{autosize:D.type}:{autosize:D},Xh(f,!1),Xh(a,!0));return{spec:hm(md,hb,a.datasets,a.usermeta),normalized:tc}}finally{d.logger&&(Wi=qi),d.fieldTitle&&(Fg=zj)}};k.contains=Yb;k.deepEqual=ei;k.deleteNestedProperty=mb;k.duplicate=sf;k.entries=Ki;k.every=ub;k.fieldIntersection=pb;k.flatAccessWithDatum=sb;k.getFirstDefined=Fa;k.hasIntersection=Pb;k.hash=Cb;k.internalField=db;k.isBoolean=Da;k.isEmpty=
Qa;k.isEqual=function(a,d){const f=ie(a),h=ie(d);if(f.length!==h.length)return!1;for(const x of f)if(a[x]!==d[x])return!1;return!0};k.isInternalField=ba;k.isNullOrFalse=jc;k.isNumeric=q;k.keys=ie;k.logicalExpr=lb;k.mergeDeep=Kb;k.never=vc;k.normalize=Ch;k.normalizeAngle=ma;k.omit=uc;k.pick=Ac;k.prefixGenerator=ab;k.removePathFromField=pa;k.replaceAll=nb;k.replacePathInField=Wb;k.resetIdCounter=function(){lj=42};k.setEqual=Db;k.some=Ua;k.stringify=Bg;k.titleCase=Pa;k.unique=Lb;k.uniqueId=Ga;k.vals=
wh;k.varName=Ka;k.version="5.12.0"})};
shadow$provide[65]=function(fc,Fb,Xc,ob){function v(){throw Error("setTimeout has not been defined");}function k(){throw Error("clearTimeout has not been defined");}function P(Kb){if(uc===setTimeout)return setTimeout(Kb,0);if((uc===v||!uc)&&setTimeout)return uc=setTimeout,setTimeout(Kb,0);try{return uc(Kb,0)}catch(Lb){try{return uc.call(null,Kb,0)}catch(Db){return uc.call(this,Kb,0)}}}function ib(Kb){if(Cb===clearTimeout)return clearTimeout(Kb);if((Cb===k||!Cb)&&clearTimeout)return Cb=clearTimeout,
clearTimeout(Kb);try{return Cb(Kb)}catch(Lb){try{return Cb.call(null,Kb)}catch(Db){return Cb.call(this,Kb)}}}function Hb(){Yb&&Ua&&(Yb=!1,Ua.length?jc=Ua.concat(jc):ub=-1,jc.length&&ac())}function ac(){if(!Yb){var Kb=P(Hb);Yb=!0;for(var Lb=jc.length;Lb;){Ua=jc;for(jc=[];++ub<Lb;)Ua&&Ua[ub].run();ub=-1;Lb=jc.length}Ua=null;Yb=!1;ib(Kb)}}function vc(Kb,Lb){this.fun=Kb;this.array=Lb}function Ac(){}fc=Xc.exports={};try{var uc="function"===typeof setTimeout?setTimeout:v}catch(Kb){uc=v}try{var Cb="function"===
typeof clearTimeout?clearTimeout:k}catch(Kb){Cb=k}var jc=[],Yb=!1,Ua,ub=-1;fc.nextTick=function(Kb){var Lb=Array(arguments.length-1);if(1<arguments.length)for(var Db=1;Db<arguments.length;Db++)Lb[Db-1]=arguments[Db];jc.push(new vc(Kb,Lb));1!==jc.length||Yb||P(ac)};vc.prototype.run=function(){this.fun.apply(null,this.array)};fc.title="browser";fc.browser=!0;fc.env={};fc.argv=[];fc.version="";fc.versions={};fc.on=Ac;fc.addListener=Ac;fc.once=Ac;fc.off=Ac;fc.removeListener=Ac;fc.removeAllListeners=Ac;
fc.emit=Ac;fc.prependListener=Ac;fc.prependOnceListener=Ac;fc.listeners=function(Kb){return[]};fc.binding=function(Kb){throw Error("process.binding is not supported");};fc.cwd=function(){return"/"};fc.chdir=function(Kb){throw Error("process.chdir is not supported");};fc.umask=function(){return 0}};
shadow$provide[66]=function(fc,Fb,Xc,ob){var v=Fb(65);(function(k,P){"object"===typeof ob&&"undefined"!==typeof Xc?Xc.exports=P(Fb(63),Fb(64)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,k.vegaEmbed=P(k.vega,k.vegaLite))})(this,function(k,P){function ib(U){if(U&&U.__esModule)return U;var ua=Object.create(null);U&&Object.keys(U).forEach(function(cb){if("default"!==cb){var Ab=Object.getOwnPropertyDescriptor(U,cb);Object.defineProperty(ua,
cb,Ab.get?Ab:{enumerable:!0,get:function(){return U[cb]}})}});ua["default"]=U;return Object.freeze(ua)}function Hb(U){if(Array.isArray(U)){U=Array(U.length);for(var ua=0;ua<U.length;ua++)U[ua]=""+ua;return U}if(Object.keys)return Object.keys(U);ua=[];for(var cb in U)m.call(U,cb)&&ua.push(cb);return ua}function ac(U){switch(typeof U){case "object":return JSON.parse(JSON.stringify(U));case "undefined":return null;default:return U}}function vc(U){for(var ua=0,cb=U.length,Ab;ua<cb;)if(Ab=U.charCodeAt(ua),
48<=Ab&&57>=Ab)ua++;else return!1;return!0}function Ac(U){return-1===U.indexOf("/")&&-1===U.indexOf("~")?U:U.replace(/~/g,"~0").replace(/\//g,"~1")}function uc(U){return U.replace(/~1/g,"/").replace(/~0/g,"~")}function Cb(U){if(void 0===U)return!0;if(U)if(Array.isArray(U))for(var ua=0,cb=U.length;ua<cb;ua++){if(Cb(U[ua]))return!0}else if("object"===typeof U){ua=Hb(U);cb=ua.length;for(var Ab=0;Ab<cb;Ab++)if(Cb(U[ua[Ab]]))return!0}return!1}function jc(U,ua){U=[U];for(var cb in ua){var Ab="object"===
typeof ua[cb]?JSON.stringify(ua[cb],null,2):ua[cb];"undefined"!==typeof Ab&&U.push(cb+": "+Ab)}return U.join("\n")}function Yb(U,ua){if(""==ua)return U;ua={op:"_get",path:ua};Ua(U,ua);return ua.value}function Ua(U,ua,cb,Ab,ec,Cc){void 0===cb&&(cb=!1);void 0===Ab&&(Ab=!0);void 0===ec&&(ec=!0);void 0===Cc&&(Cc=0);cb&&("function"==typeof cb?cb(ua,0,U,ua.path):Kb(ua,0));if(""===ua.path){ec={newDocument:U};if("add"===ua.op)return ec.newDocument=ua.value,ec;if("replace"===ua.op)return ec.newDocument=ua.value,
ec.removed=U,ec;if("move"===ua.op||"copy"===ua.op)return ec.newDocument=Yb(U,ua.from),"move"===ua.op&&(ec.removed=U),ec;if("test"===ua.op){ec.test=Db(U,ua.value);if(!1===ec.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Cc,ua,U);ec.newDocument=U;return ec}if("remove"===ua.op)return ec.removed=U,ec.newDocument=null,ec;if("_get"===ua.op)return ua.value=U,ec;if(cb)throw new B("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Cc,ua,U);return ec}Ab||
(U=ac(U));Ab=(ua.path||"").split("/");var $b=U,J=1,fa=Ab.length,Sa=void 0,bc,Pc;for(Pc="function"==typeof cb?cb:Kb;;){(bc=Ab[J])&&-1!=bc.indexOf("~")&&(bc=uc(bc));if(ec&&("__proto__"==bc||"prototype"==bc&&0<J&&"constructor"==Ab[J-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");cb&&void 0===
Sa&&(void 0===$b[bc]?Sa=Ab.slice(0,J).join("/"):J==fa-1&&(Sa=ua.path),void 0!==Sa&&Pc(ua,0,U,Sa));J++;if(Array.isArray($b)){if("-"===bc)bc=$b.length;else{if(cb&&!vc(bc))throw new B("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Cc,ua,U);vc(bc)&&(bc=~~bc)}if(J>=fa){if(cb&&"add"===ua.op&&bc>$b.length)throw new B("The specified index MUST NOT be greater than the number of elements in the array",
"OPERATION_VALUE_OUT_OF_BOUNDS",Cc,ua,U);ec=E[ua.op].call(ua,$b,bc,U);if(!1===ec.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Cc,ua,U);return ec}}else if(J>=fa){ec=A[ua.op].call(ua,$b,bc,U);if(!1===ec.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Cc,ua,U);return ec}$b=$b[bc];if(cb&&J<fa&&(!$b||"object"!==typeof $b))throw new B("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",Cc,ua,U);}}function ub(U,ua,cb,Ab,ec){void 0===Ab&&(Ab=!0);
void 0===ec&&(ec=!0);if(cb&&!Array.isArray(ua))throw new B("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Ab||(U=ac(U));Ab=Array(ua.length);for(var Cc=0,$b=ua.length;Cc<$b;Cc++)Ab[Cc]=Ua(U,ua[Cc],cb,!0,ec,Cc),U=Ab[Cc].newDocument;Ab.newDocument=U;return Ab}function Kb(U,ua,cb,Ab){if("object"!==typeof U||null===U||Array.isArray(U))throw new B("Operation is not an object","OPERATION_NOT_AN_OBJECT",ua,U,cb);if(A[U.op]){if("string"!==typeof U.path)throw new B("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",ua,U,cb);if(0!==U.path.indexOf("/")&&0<U.path.length)throw new B('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ua,U,cb);if("move"!==U.op&&"copy"!==U.op||"string"===typeof U.from)if("add"!==U.op&&"replace"!==U.op&&"test"!==U.op||void 0!==U.value){if(("add"===U.op||"replace"===U.op||"test"===U.op)&&Cb(U.value))throw new B("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
ua,U,cb);if(cb)if("add"==U.op){var ec=U.path.split("/").length;Ab=Ab.split("/").length;if(ec!==Ab+1&&ec!==Ab)throw new B("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",ua,U,cb);}else if("replace"===U.op||"remove"===U.op||"_get"===U.op){if(U.path!==Ab)throw new B("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ua,U,cb);}else if(("move"===U.op||"copy"===U.op)&&(ec=Lb([{op:"_get",path:U.from,value:void 0}],cb))&&"OPERATION_PATH_UNRESOLVABLE"===
ec.name)throw new B("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ua,U,cb);}else throw new B("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",ua,U,cb);else throw new B("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ua,U,cb);}else throw new B("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",ua,U,cb);}function Lb(U,ua,cb){try{if(!Array.isArray(U))throw new B("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ua)ub(ac(ua),ac(U),cb||!0);else{cb=cb||Kb;for(var Ab=0;Ab<U.length;Ab++)cb(U[Ab],Ab,ua,void 0)}}catch(ec){if(ec instanceof B)return ec;throw ec;}}function Db(U,ua){if(U===ua)return!0;if(U&&ua&&"object"==typeof U&&"object"==typeof ua){var cb=Array.isArray(U),Ab=Array.isArray(ua);if(cb&&Ab){var ec=U.length;if(ec!=ua.length)return!1;for(cb=ec;0!==cb--;)if(!Db(U[cb],
ua[cb]))return!1;return!0}if(cb!=Ab)return!1;Ab=Object.keys(U);ec=Ab.length;if(ec!==Object.keys(ua).length)return!1;for(cb=ec;0!==cb--;)if(!ua.hasOwnProperty(Ab[cb]))return!1;for(cb=ec;0!==cb--;)if(ec=Ab[cb],!Db(U[ec],ua[ec]))return!1;return!0}return U!==U&&ua!==ua}function Pb(U,ua){void 0===ua&&(ua=!1);var cb=V.get(U.object);ab(cb.value,U.object,U.patches,"",ua);U.patches.length&&ub(cb.value,U.patches);ua=U.patches;0<ua.length&&(U.patches=[],U.callback&&U.callback(ua));return ua}function ab(U,ua,
cb,Ab,ec){if(ua!==U){"function"===typeof ua.toJSON&&(ua=ua.toJSON());for(var Cc=Hb(ua),$b=Hb(U),J=!1,fa=$b.length-1;0<=fa;fa--){var Sa=$b[fa],bc=U[Sa];if(!m.call(ua,Sa)||void 0===ua[Sa]&&void 0!==bc&&!1===Array.isArray(ua))Array.isArray(U)===Array.isArray(ua)?(ec&&cb.push({op:"test",path:Ab+"/"+Ac(Sa),value:ac(bc)}),cb.push({op:"remove",path:Ab+"/"+Ac(Sa)}),J=!0):(ec&&cb.push({op:"test",path:Ab,value:U}),cb.push({op:"replace",path:Ab,value:ua}));else{var Pc=ua[Sa];"object"==typeof bc&&null!=bc&&"object"==
typeof Pc&&null!=Pc&&Array.isArray(bc)===Array.isArray(Pc)?ab(bc,Pc,cb,Ab+"/"+Ac(Sa),ec):bc!==Pc&&(ec&&cb.push({op:"test",path:Ab+"/"+Ac(Sa),value:ac(bc)}),cb.push({op:"replace",path:Ab+"/"+Ac(Sa),value:ac(Pc)}))}}if(J||Cc.length!=$b.length)for(fa=0;fa<Cc.length;fa++)Sa=Cc[fa],m.call(U,Sa)||void 0===ua[Sa]||cb.push({op:"add",path:Ab+"/"+Ac(Sa),value:ac(ua[Sa])})}}function pb(U){var ua=this;ua instanceof pb||(ua=new pb);ua.tail=null;ua.head=null;ua.length=0;if(U&&"function"===typeof U.forEach)U.forEach(function(ec){ua.push(ec)});
else if(0<arguments.length)for(var cb=0,Ab=arguments.length;cb<Ab;cb++)ua.push(arguments[cb]);return ua}function Qa(U,ua,cb,Ab){if(!(this instanceof Qa))return new Qa(U,ua,cb,Ab);this.list=Ab;this.value=U;ua?(ua.next=this,this.prev=ua):this.prev=null;cb?(cb.prev=this,this.next=cb):this.next=null}function Da(){if(fd)return ed;fd=1;const U=Symbol("SemVer ANY");class ua{static get ANY(){return U}constructor(Sa,bc){bc=cb(bc);if(Sa instanceof ua){if(Sa.loose===!!bc.loose)return Sa;Sa=Sa.value}$b("comparator",
Sa,bc);this.options=bc;this.loose=!!bc.loose;this.parse(Sa);this.value=this.semver===U?"":this.operator+this.semver.version;$b("comp",this)}parse(Sa){const bc=Sa.match(this.options.loose?Ab[ec.COMPARATORLOOSE]:Ab[ec.COMPARATOR]);if(!bc)throw new TypeError("Invalid comparator: ".concat(Sa));this.operator=void 0!==bc[1]?bc[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=bc[2]?new J(bc[2],this.options.loose):U}toString(){return this.value}test(Sa){$b("Comparator.test",Sa,this.options.loose);
if(this.semver===U||Sa===U)return!0;if("string"===typeof Sa)try{Sa=new J(Sa,this.options)}catch(bc){return!1}return Cc(Sa,this.operator,this.semver,this.options)}intersects(Sa,bc){if(!(Sa instanceof ua))throw new TypeError("a Comparator is required");bc&&"object"===typeof bc||(bc={loose:!!bc,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new fa(Sa.value,bc)).test(this.value);if(""===Sa.operator)return""===Sa.value?!0:(new fa(this.value,bc)).test(Sa.semver);const Pc=("\x3e\x3d"===
this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===Sa.operator||"\x3e"===Sa.operator),Dc=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===Sa.operator||"\x3c"===Sa.operator),Tc=this.semver.version===Sa.semver.version,gd=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===Sa.operator||"\x3c\x3d"===Sa.operator),ee=Cc(this.semver,"\x3c",Sa.semver,bc)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===Sa.operator||"\x3c"===Sa.operator);Sa=Cc(this.semver,
"\x3e",Sa.semver,bc)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===Sa.operator||"\x3e"===Sa.operator);return Pc||Dc||Tc&&gd||ee||Sa}}ed=ua;const cb=Ic,{re:Ab,t:ec}=zc.exports,Cc=Vc,$b=Md,J=nc,fa=Ka();return ed}function Ka(){if(Td)return Qd;Td=1;class U{constructor(Lc,Wc){Wc=cb(Wc);if(Lc instanceof U)return Lc.loose===!!Wc.loose&&Lc.includePrerelease===!!Wc.includePrerelease?Lc:new U(Lc.raw,Wc);if(Lc instanceof Ab)return this.raw=Lc.value,this.set=[[Lc]],this.format(),this;this.options=
Wc;this.loose=!!Wc.loose;this.includePrerelease=!!Wc.includePrerelease;this.raw=Lc;this.set=Lc.split("||").map(Qc=>this.parseRange(Qc.trim())).filter(Qc=>Qc.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(Lc));if(1<this.set.length)if(Lc=this.set[0],this.set=this.set.filter(Qc=>"\x3c0.0.0-0"!==Qc[0].value),0===this.set.length)this.set=[Lc];else if(1<this.set.length)for(const Qc of this.set)if(1===Qc.length&&""===Qc[0].value){this.set=[Qc];break}this.format()}format(){return this.range=
this.set.map(Lc=>Lc.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(Lc){Lc=Lc.trim();var Wc=Object.keys(this.options).join(",");Wc="parseRange:".concat(Wc,":").concat(Lc);var Qc=ua.get(Wc);if(Qc)return Qc;Qc=this.options.loose;Lc=Lc.replace(Qc?$b[J.HYPHENRANGELOOSE]:$b[J.HYPHENRANGE],vd(this.options.includePrerelease));ec("hyphen replace",Lc);Lc=Lc.replace($b[J.COMPARATORTRIM],fa);ec("comparator trim",Lc);Lc=Lc.replace($b[J.TILDETRIM],Sa);Lc=Lc.replace($b[J.CARETTRIM],
bc);Lc=Lc.split(/\s+/).join(" ");Lc=Lc.split(" ").map(jd=>{var Od=jd;jd=this.options;ec("comp",Od,jd);Od=ee(Od,jd);ec("caret",Od);Od=Tc(Od,jd);ec("tildes",Od);Od=eb(Od,jd);ec("xrange",Od);ec("replaceStars",Od,jd);Od=Od.trim().replace($b[J.STAR],"");ec("stars",Od);return Od}).join(" ").split(/\s+/).map(jd=>{var Od=this.options;ec("replaceGTE0",jd,Od);return jd.trim().replace($b[Od.includePrerelease?J.GTE0PRE:J.GTE0],"")});Qc&&(Lc=Lc.filter(jd=>{ec("loose invalid filter",jd,this.options);return!!jd.match($b[J.COMPARATORLOOSE])}));
ec("range list",Lc);Qc=new Map;Lc=Lc.map(jd=>new Ab(jd,this.options));for(var sd of Lc){if("\x3c0.0.0-0"===sd.value)return[sd];Qc.set(sd.value,sd)}1<Qc.size&&Qc.has("")&&Qc.delete("");sd=[...Qc.values()];ua.set(Wc,sd);return sd}intersects(Lc,Wc){if(!(Lc instanceof U))throw new TypeError("a Range is required");return this.set.some(Qc=>Pc(Qc,Wc)&&Lc.set.some(sd=>Pc(sd,Wc)&&Qc.every(jd=>sd.every(Od=>jd.intersects(Od,Wc)))))}test(Lc){if(!Lc)return!1;if("string"===typeof Lc)try{Lc=new Cc(Lc,this.options)}catch(Od){return!1}for(let Od=
0;Od<this.set.length;Od++){a:{var Wc=this.set[Od];var Qc=Lc,sd=this.options;for(var jd=0;jd<Wc.length;jd++)if(!Wc[jd].test(Qc)){Wc=!1;break a}if(Qc.prerelease.length&&!sd.includePrerelease){for(sd=0;sd<Wc.length;sd++)if(ec(Wc[sd].semver),Wc[sd].semver!==Ab.ANY&&0<Wc[sd].semver.prerelease.length&&(jd=Wc[sd].semver,jd.major===Qc.major&&jd.minor===Qc.minor&&jd.patch===Qc.patch)){Wc=!0;break a}Wc=!1}else Wc=!0}if(Wc)return!0}return!1}}Qd=U;const ua=new gc({max:1E3}),cb=Ic,Ab=Da(),ec=Md,Cc=nc,{re:$b,t:J,
comparatorTrimReplace:fa,tildeTrimReplace:Sa,caretTrimReplace:bc}=zc.exports,Pc=(Lc,Wc)=>{let Qc=!0;Lc=Lc.slice();let sd=Lc.pop();for(;Qc&&Lc.length;)Qc=Lc.every(jd=>sd.intersects(jd,Wc)),sd=Lc.pop();return Qc},Dc=Lc=>!Lc||"x"===Lc.toLowerCase()||"*"===Lc,Tc=(Lc,Wc)=>Lc.trim().split(/\s+/).map(Qc=>gd(Qc,Wc)).join(" "),gd=(Lc,Wc)=>Lc.replace(Wc.loose?$b[J.TILDELOOSE]:$b[J.TILDE],(Qc,sd,jd,Od,Cd)=>{ec("tilde",Lc,Qc,sd,jd,Od,Cd);Dc(sd)?Qc="":Dc(jd)?Qc="\x3e\x3d".concat(sd,".0.0 \x3c").concat(+sd+1,".0.0-0"):
Dc(Od)?Qc="\x3e\x3d".concat(sd,".").concat(jd,".0 \x3c").concat(sd,".").concat(+jd+1,".0-0"):Cd?(ec("replaceTilde pr",Cd),Qc="\x3e\x3d".concat(sd,".").concat(jd,".").concat(Od,"-").concat(Cd," \x3c").concat(sd,".").concat(+jd+1,".0-0")):Qc="\x3e\x3d".concat(sd,".").concat(jd,".").concat(Od," \x3c").concat(sd,".").concat(+jd+1,".0-0");ec("tilde return",Qc);return Qc}),ee=(Lc,Wc)=>Lc.trim().split(/\s+/).map(Qc=>Ra(Qc,Wc)).join(" "),Ra=(Lc,Wc)=>{ec("caret",Lc,Wc);const Qc=Wc.includePrerelease?"-0":"";
return Lc.replace(Wc.loose?$b[J.CARETLOOSE]:$b[J.CARET],(sd,jd,Od,Cd,be)=>{ec("caret",Lc,sd,jd,Od,Cd,be);Dc(jd)?sd="":Dc(Od)?sd="\x3e\x3d".concat(jd,".0.0").concat(Qc," \x3c").concat(+jd+1,".0.0-0"):Dc(Cd)?sd="0"===jd?"\x3e\x3d".concat(jd,".").concat(Od,".0").concat(Qc," \x3c").concat(jd,".").concat(+Od+1,".0-0"):"\x3e\x3d".concat(jd,".").concat(Od,".0").concat(Qc," \x3c").concat(+jd+1,".0.0-0"):be?(ec("replaceCaret pr",be),sd="0"===jd?"0"===Od?"\x3e\x3d".concat(jd,".").concat(Od,".").concat(Cd,"-").concat(be,
" \x3c").concat(jd,".").concat(Od,".").concat(+Cd+1,"-0"):"\x3e\x3d".concat(jd,".").concat(Od,".").concat(Cd,"-").concat(be," \x3c").concat(jd,".").concat(+Od+1,".0-0"):"\x3e\x3d".concat(jd,".").concat(Od,".").concat(Cd,"-").concat(be," \x3c").concat(+jd+1,".0.0-0")):(ec("no pr"),sd="0"===jd?"0"===Od?"\x3e\x3d".concat(jd,".").concat(Od,".").concat(Cd).concat(Qc," \x3c").concat(jd,".").concat(Od,".").concat(+Cd+1,"-0"):"\x3e\x3d".concat(jd,".").concat(Od,".").concat(Cd).concat(Qc," \x3c").concat(jd,
".").concat(+Od+1,".0-0"):"\x3e\x3d".concat(jd,".").concat(Od,".").concat(Cd," \x3c").concat(+jd+1,".0.0-0"));ec("caret return",sd);return sd})},eb=(Lc,Wc)=>{ec("replaceXRanges",Lc,Wc);return Lc.split(/\s+/).map(Qc=>oc(Qc,Wc)).join(" ")},oc=(Lc,Wc)=>{Lc=Lc.trim();return Lc.replace(Wc.loose?$b[J.XRANGELOOSE]:$b[J.XRANGE],(Qc,sd,jd,Od,Cd,be)=>{ec("xRange",Lc,Qc,sd,jd,Od,Cd,be);const xe=Dc(jd),Le=xe||Dc(Od);Cd=Le||Dc(Cd);"\x3d"===sd&&Cd&&(sd="");be=Wc.includePrerelease?"-0":"";xe?Qc="\x3e"===sd||"\x3c"===
sd?"\x3c0.0.0-0":"*":sd&&Cd?(Le&&(Od=0),Cd=0,"\x3e"===sd?(sd="\x3e\x3d",Le?(jd=+jd+1,Od=0):Od=+Od+1,Cd=0):"\x3c\x3d"===sd&&(sd="\x3c",Le?jd=+jd+1:Od=+Od+1),"\x3c"===sd&&(be="-0"),Qc="".concat(sd+jd,".").concat(Od,".").concat(Cd).concat(be)):Le?Qc="\x3e\x3d".concat(jd,".0.0").concat(be," \x3c").concat(+jd+1,".0.0-0"):Cd&&(Qc="\x3e\x3d".concat(jd,".").concat(Od,".0").concat(be," \x3c").concat(jd,".").concat(+Od+1,".0-0"));ec("xRange return",Qc);return Qc})},vd=Lc=>(Wc,Qc,sd,jd,Od,Cd,be,xe,Le,Xe,df,
od,Ec)=>{Qc=Dc(sd)?"":Dc(jd)?"\x3e\x3d".concat(sd,".0.0").concat(Lc?"-0":""):Dc(Od)?"\x3e\x3d".concat(sd,".").concat(jd,".0").concat(Lc?"-0":""):Cd?"\x3e\x3d".concat(Qc):"\x3e\x3d".concat(Qc).concat(Lc?"-0":"");xe=Dc(Le)?"":Dc(Xe)?"\x3c".concat(+Le+1,".0.0-0"):Dc(df)?"\x3c".concat(Le,".").concat(+Xe+1,".0-0"):od?"\x3c\x3d".concat(Le,".").concat(Xe,".").concat(df,"-").concat(od):Lc?"\x3c".concat(Le,".").concat(Xe,".").concat(+df+1,"-0"):"\x3c\x3d".concat(xe);return"".concat(Qc," ").concat(xe).trim()};
return Qd}function lb(U,ua,cb,Ab,ec,Cc){const $b=J=>fb[J.type]($b,J);$b.memberDepth=0;$b.fn=Object.create(ua);$b.params=cb;$b.datum=Ab;$b.event=ec;$b.item=Cc;za.forEach(J=>$b.fn[J]=function(){return ec.vega[J](...arguments)});return $b(U)}function mb(U){const [ua,cb]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(U).slice(1,3);return{library:ua,version:cb}}function Pa(U,ua,cb){U.fields=ua||[];U.fname=cb;return U}function xb(U){return 1===U.length?Gc(U[0]):id(U)}function sb(U){function ua(){cb.push($b+
U.substring(J,fa));$b="";J=fa+1}const cb=[],Ab=U.length;let ec=null,Cc=0,$b="",J,fa,Sa;U+="";for(J=fa=0;fa<Ab;++fa)if(Sa=U[fa],"\\"===Sa)$b+=U.substring(J,fa),$b+=U.substring(++fa,++fa),J=fa;else if(Sa===ec)ua(),ec=null,Cc=-1;else if(!ec)if(J===Cc&&'"'===Sa)J=fa+1,ec=Sa;else if(J===Cc&&"'"===Sa)J=fa+1,ec=Sa;else if("."===Sa&&!Cc)fa>J?ua():J=fa+1;else if("["===Sa)fa>J&&ua(),Cc=J=fa+1;else if("]"===Sa){if(!Cc)throw Error("Access path missing open bracket: "+U);0<Cc&&ua();Cc=0;J=fa+1}if(Cc)throw Error("Access path missing closing bracket: "+
U);if(ec)throw Error("Access path missing closing quote: "+U);fa>J&&(fa++,ua());return cb}function Qb(U,ua){var cb={},Ab;for(Ab in U)Object.prototype.hasOwnProperty.call(U,Ab)&&0>ua.indexOf(Ab)&&(cb[Ab]=U[Ab]);if(null!=U&&"function"===typeof Object.getOwnPropertySymbols){var ec=0;for(Ab=Object.getOwnPropertySymbols(U);ec<Ab.length;ec++)0>ua.indexOf(Ab[ec])&&Object.prototype.propertyIsEnumerable.call(U,Ab[ec])&&(cb[Ab[ec]]=U[Ab[ec]])}return cb}function Wb(U){const ua=[];return function(cb,Ab){if("object"!==
typeof Ab||null===Ab)return Ab;cb=ua.indexOf(this)+1;ua.length=cb;if(ua.length>U)return"[Object]";if(0<=ua.indexOf(Ab))return"[Circular]";ua.push(Ab);return Ab}}function nb(U,ua,cb){function Ab(fa){fa.source===Cc&&(J=0,U.removeEventListener("message",Ab,!1))}function ec(){0>=J||(Cc.postMessage(cb,$b),setTimeout(ec,250),--J)}const Cc=U.open(ua),{origin:$b}=new URL(ua);let J=40;U.addEventListener("message",Ab,!1);setTimeout(ec,250)}function pa(U){for(var ua=arguments.length,cb=Array(1<ua?ua-1:0),Ab=
1;Ab<ua;Ab++)cb[Ab-1]=arguments[Ab];for(const ec of cb){ua=U;cb=ec;for(const Cc of Object.keys(cb))k.writeConfig(ua,Cc,cb[Cc],!0)}return U}function Z(U,ua,cb,Ab){ua="\x3chtml\x3e\x3chead\x3e".concat(ua,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');cb="\x3c/code\x3e\x3c/pre\x3e".concat(cb,"\x3c/body\x3e\x3c/html\x3e");const ec=window.open("");ec.document.write(ua+U+cb);ec.document.title="".concat(hf[Ab]," JSON Source")}function Fa(U,ua){if(U.$schema){U=mb(U.$schema);if(ua&&ua!==
U.library){var cb;console.warn("The given visualization spec is written in ".concat(hf[U.library],", but mode argument sets ").concat(null!==(cb=hf[ua])&&void 0!==cb?cb:ua,"."))}ua=U.library;Zd(cf[ua],"^".concat(U.version.slice(1)))||console.warn("The input spec uses ".concat(hf[ua]," ").concat(U.version,", but the current version of ").concat(hf[ua]," is v").concat(cf[ua],"."));return ua}return"mark"in U||"encoding"in U||"layer"in U||"hconcat"in U||"vconcat"in U||"facet"in U||"repeat"in U?"vega-lite":
"marks"in U||"signals"in U||"scales"in U||"axes"in U?"vega":null!==ua&&void 0!==ua?ua:"vega"}function Ga(U){return U&&"load"in U?U:$d.loader(U)}function db(U,ua){const cb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Ab,ec,Cc=2<cb.length&&void 0!==cb[2]?cb[2]:{};let $b,J;k.isString(ua)?(J=Ga(Cc.loader),$b=JSON.parse(yield J.load(ua))):$b=ua;var fa,Sa,bc=null!==(fa=null===(Sa=$b.usermeta)||void 0===Sa?void 0:Sa.embedOptions)&&void 0!==fa?fa:{};k.isString(bc.defaultStyle)&&
(bc.defaultStyle=!1);fa=bc.loader;if(!J||fa){var Pc;J=Ga(null!==(Pc=Cc.loader)&&void 0!==Pc?Pc:fa)}bc=yield ba(bc,J);Cc=yield ba(Cc,J);Cc=Object.assign({},pa(Cc,bc),{config:k.mergeConfig(null!==(Ab=Cc.config)&&void 0!==Ab?Ab:{},null!==(ec=bc.config)&&void 0!==ec?ec:{})});return yield q(U,$b,Cc,J)})}function ba(U,ua){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var cb;const Ab=k.isString(U.config)?JSON.parse(yield ua.load(U.config)):null!==(cb=U.config)&&void 0!==cb?cb:{};cb=k.isString(U.patch)?
JSON.parse(yield ua.load(U.patch)):U.patch;return Object.assign({},U,cb?{patch:cb}:{},Ab?{config:Ab}:{})})}function ma(U){var ua;U=U.getRootNode?U.getRootNode():document;return U instanceof ShadowRoot?{root:U,rootContainer:U}:{root:document,rootContainer:null!==(ua=document.head)&&void 0!==ua?ua:document.body}}function q(U,ua){const cb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Ab,ec,Cc,$b,J,fa,Sa;let bc=2<cb.length&&void 0!==cb[2]?cb[2]:{};var Pc=3<cb.length?cb[3]:
void 0;const Dc=bc.theme?k.mergeConfig(lc[bc.theme],null!==(Ab=bc.config)&&void 0!==Ab?Ab:{}):bc.config;Ab=k.isBoolean(bc.actions)?bc.actions:pa({},Ae,null!==(ec=bc.actions)&&void 0!==ec?ec:{});ec=Object.assign({},kf,bc.i18n);const Tc=null!==(Cc=bc.renderer)&&void 0!==Cc?Cc:"canvas";Cc=null!==($b=bc.logLevel)&&void 0!==$b?$b:$d.Warn;$b=null!==(J=bc.downloadFileName)&&void 0!==J?J:"visualization";J="string"===typeof U?document.querySelector(U):U;if(!J)throw Error("".concat(U," does not exist"));if(!1!==
bc.defaultStyle){const {root:Qc,rootContainer:sd}=ma(J);if(!Qc.getElementById("vega-embed-style")){var gd=document.createElement("style");gd.id="vega-embed-style";gd.innerHTML=void 0===bc.defaultStyle||!0===bc.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
bc.defaultStyle;sd.appendChild(gd)}}const ee=Fa(ua,bc.mode);let Ra=se[ee](ua,Dc);"vega-lite"===ee&&Ra.$schema&&(gd=mb(Ra.$schema),Zd(cf.vega,"^".concat(gd.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(gd.version,", but current version is v").concat(cf.vega,".")));J.classList.add("vega-embed");Ab&&J.classList.add("has-actions");J.innerHTML="";let eb=J;Ab&&(gd=document.createElement("div"),gd.classList.add("chart-wrapper"),J.appendChild(gd),eb=gd);(gd=bc.patch)&&(Ra=gd instanceof
Function?gd(Ra):ub(Ra,gd,!0,!1).newDocument);bc.formatLocale&&$d.formatLocale(bc.formatLocale);bc.timeFormatLocale&&$d.timeFormatLocale(bc.timeFormatLocale);if(bc.expressionFunctions)for(var oc in bc.expressionFunctions)gd=bc.expressionFunctions[oc],"fn"in gd?$d.expressionFunction(oc,gd.fn,gd.visitor):gd instanceof Function&&$d.expressionFunction(oc,gd);({ast:oc}=bc);gd=$d.parse(Ra,"vega-lite"===ee?{}:Dc,{ast:oc});const vd=new (bc.viewClass||$d.View)(gd,Object.assign({},{loader:Pc,logLevel:Cc,renderer:Tc},
oc?{expr:null!==(fa=null!==(Sa=$d.expressionInterpreter)&&void 0!==Sa?Sa:bc.expr)&&void 0!==fa?fa:Ib}:{}));vd.addSignalListener("autosize",(Qc,sd)=>{({type:Qc}=sd);"fit-x"==Qc?(eb.classList.add("fit-x"),eb.classList.remove("fit-y")):"fit-y"==Qc?(eb.classList.remove("fit-x"),eb.classList.add("fit-y")):"fit"==Qc?eb.classList.add("fit-x","fit-y"):eb.classList.remove("fit-x","fit-y")});!1!==bc.tooltip&&(fa="function"===typeof bc.tooltip?bc.tooltip:(new Hd(!0===bc.tooltip?{}:bc.tooltip)).call,vd.tooltip(fa));
({hover:fa}=bc);void 0===fa&&(fa="vega"===ee);if(fa){const {hoverSet:Qc,updateSet:sd}="boolean"===typeof fa?{}:fa;vd.hover(Qc,sd)}bc&&(null!=bc.width&&vd.width(bc.width),null!=bc.height&&vd.height(bc.height),null!=bc.padding&&vd.padding(bc.padding));yield vd.initialize(eb,bc.bind).runAsync();let Lc;if(!1!==Ab){Sa=J;if(!1!==bc.defaultStyle){const Qc=document.createElement("details");Qc.title=ec.CLICK_TO_VIEW_ACTIONS;J.append(Qc);Sa=Qc;fa=document.createElement("summary");fa.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Qc.append(fa);Lc=sd=>{Qc.contains(sd.target)||Qc.removeAttribute("open")};document.addEventListener("click",Lc)}fa=document.createElement("div");Sa.append(fa);fa.classList.add("vega-actions");if(!0===Ab||!1!==Ab.export)for(const Qc of["svg","png"])if(!0===Ab||!0===Ab.export||Ab.export[Qc])Sa=ec["".concat(Qc.toUpperCase(),"_ACTION")],Pc=document.createElement("a"),Pc.text=Sa,Pc.href="#",Pc.target="_blank",Pc.download="".concat($b,".").concat(Qc),Pc.addEventListener("mousedown",function(sd){const jd=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){sd.preventDefault();const Od=yield vd.toImageURL(Qc,bc.scaleFactor);jd.href=Od})}),fa.append(Pc);if(!0===Ab||!1!==Ab.source)$b=document.createElement("a"),$b.text=ec.SOURCE_ACTION,$b.href="#",$b.addEventListener("click",function(Qc){var sd,jd;Z(va(ua),null!==(sd=bc.sourceHeader)&&void 0!==sd?sd:"",null!==(jd=bc.sourceFooter)&&void 0!==jd?jd:"",ee);Qc.preventDefault()}),fa.append($b);"vega-lite"!==ee||!0!==Ab&&!1===Ab.compiled||($b=
document.createElement("a"),$b.text=ec.COMPILED_ACTION,$b.href="#",$b.addEventListener("click",function(Qc){var sd,jd;Z(va(Ra),null!==(sd=bc.sourceHeader)&&void 0!==sd?sd:"",null!==(jd=bc.sourceFooter)&&void 0!==jd?jd:"","vega");Qc.preventDefault()}),fa.append($b));if(!0===Ab||!1!==Ab.editor){var Wc;const Qc=null!==(Wc=bc.editorUrl)&&void 0!==Wc?Wc:"https://vega.github.io/editor/";Wc=document.createElement("a");Wc.text=ec.EDITOR_ACTION;Wc.href="#";Wc.addEventListener("click",function(sd){nb(window,
Qc,{config:Dc,mode:ee,renderer:Tc,spec:va(ua)});sd.preventDefault()});fa.append(Wc)}}return{view:vd,spec:ua,vgSpec:Ra,finalize:function(){Lc&&document.removeEventListener("click",Lc);vd.finalize()},embedOptions:bc}})}function M(U){const ua=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var cb;let Ab=1<ua.length&&void 0!==ua[1]?ua[1]:{};const ec=document.createElement("div");ec.classList.add("vega-embed-wrapper");const Cc=document.createElement("div");ec.appendChild(Cc);
const $b=!0===Ab.actions||!1===Ab.actions?Ab.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(cb=Ab.actions)&&void 0!==cb?cb:{});cb=yield db(Cc,U,Object.assign({},{actions:$b},null!==Ab&&void 0!==Ab?Ab:{}));ec.value=cb.view;return ec})}var Q=ib(k),g=ib(P),u=function(){var U=function(ua,cb){U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ab,ec){Ab.__proto__=ec}||function(Ab,ec){for(var Cc in ec)ec.hasOwnProperty(Cc)&&(Ab[Cc]=ec[Cc])};return U(ua,cb)};return function(ua,
cb){function Ab(){this.constructor=ua}U(ua,cb);ua.prototype=null===cb?Object.create(cb):(Ab.prototype=cb.prototype,new Ab)}}(),m=Object.prototype.hasOwnProperty,C=function(U){function ua(cb,Ab,ec,Cc,$b){var J=this.constructor,fa=U.call(this,jc(cb,{name:Ab,index:ec,operation:Cc,tree:$b}))||this;fa.name=Ab;fa.index=ec;fa.operation=Cc;fa.tree=$b;Object.setPrototypeOf(fa,J.prototype);fa.message=jc(cb,{name:Ab,index:ec,operation:Cc,tree:$b});return fa}u(ua,U);return ua}(Error),B=C,A={add:function(U,ua,
cb){U[ua]=this.value;return{newDocument:cb}},remove:function(U,ua,cb){var Ab=U[ua];delete U[ua];return{newDocument:cb,removed:Ab}},replace:function(U,ua,cb){var Ab=U[ua];U[ua]=this.value;return{newDocument:cb,removed:Ab}},move:function(U,ua,cb){(U=Yb(cb,this.path))&&(U=ac(U));ua=Ua(cb,{op:"remove",path:this.from}).removed;Ua(cb,{op:"add",path:this.path,value:ua});return{newDocument:cb,removed:U}},copy:function(U,ua,cb){U=Yb(cb,this.from);Ua(cb,{op:"add",path:this.path,value:ac(U)});return{newDocument:cb}},
test:function(U,ua,cb){return{newDocument:cb,test:Db(U[ua],this.value)}},_get:function(U,ua,cb){this.value=U[ua];return{newDocument:cb}}},E={add:function(U,ua,cb){vc(ua)?U.splice(ua,0,this.value):U[ua]=this.value;return{newDocument:cb,index:ua}},remove:function(U,ua,cb){U=U.splice(ua,1);return{newDocument:cb,removed:U[0]}},replace:function(U,ua,cb){var Ab=U[ua];U[ua]=this.value;return{newDocument:cb,removed:Ab}},move:A.move,copy:A.copy,test:A.test,_get:A._get},H=Object.freeze({__proto__:null,JsonPatchError:B,
deepClone:ac,getValueByPointer:Yb,applyOperation:Ua,applyPatch:ub,applyReducer:function(U,ua,cb){var Ab=Ua(U,ua);if(!1===Ab.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",cb,ua,U);return Ab.newDocument},validator:Kb,validate:Lb,_areEquals:Db}),V=new WeakMap,Aa=function(){return function(U){this.observers=new Map;this.obj=U}}(),Y=function(){return function(U,ua){this.callback=U;this.observer=ua}}(),t=Object.freeze({__proto__:null,unobserve:function(U,ua){ua.unobserve()},observe:function(U,
ua){var cb=V.get(U);if(cb){var Ab=cb.observers.get(ua);var ec=Ab&&Ab.observer}else cb=new Aa(U),V.set(U,cb);if(ec)return ec;ec={};cb.value=ac(U);if(ua){ec.callback=ua;ec.next=null;var Cc=function(){Pb(ec)},$b=function(){clearTimeout(ec.next);ec.next=setTimeout(Cc)};"undefined"!==typeof window&&(window.addEventListener("mouseup",$b),window.addEventListener("keyup",$b),window.addEventListener("mousedown",$b),window.addEventListener("keydown",$b),window.addEventListener("change",$b))}ec.patches=[];ec.object=
U;ec.unobserve=function(){Pb(ec);clearTimeout(ec.next);cb.observers.delete(ec.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",$b),window.removeEventListener("keyup",$b),window.removeEventListener("mousedown",$b),window.removeEventListener("keydown",$b),window.removeEventListener("change",$b))};cb.observers.set(ua,new Y(ua,ec));return ec},generate:Pb,compare:function(U,ua,cb){void 0===cb&&(cb=!1);var Ab=[];ab(U,ua,Ab,"",cb);return Ab}});Object.assign({},H,t,{JsonPatchError:C,
deepClone:ac,escapePathComponent:Ac,unescapePathComponent:uc});var L=/("(?:[^\\"]|\\.)*")|[:,]/g,va=function(U,ua){ua=ua||{};var cb=JSON.stringify([1],void 0,void 0===ua.indent?2:ua.indent).slice(2,-3);var Ab=""===cb?Infinity:void 0===ua.maxLength?80:ua.maxLength;var ec=ua.replacer;return function Sa($b,J,fa){$b&&"function"===typeof $b.toJSON&&($b=$b.toJSON());var bc=JSON.stringify($b,ec);if(void 0===bc)return bc;fa=Ab-J.length-fa;if(bc.length<=fa){var Pc=bc.replace(L,function(vd,Lc){return Lc||vd+
" "});if(Pc.length<=fa)return Pc}null!=ec&&($b=JSON.parse(bc),ec=void 0);if("object"===typeof $b&&null!==$b){var Dc=J+cb;var Tc=[];var gd=0;if(Array.isArray($b)){var ee="[";Pc="]";for(fa=$b.length;gd<fa;gd++)Tc.push(Sa($b[gd],Dc,gd===fa-1?0:1)||"null")}else{ee="{";Pc="}";var Ra=Object.keys($b);for(fa=Ra.length;gd<fa;gd++){var eb=Ra[gd];var oc=JSON.stringify(eb)+": ";eb=Sa($b[eb],Dc,oc.length+(gd===fa-1?0:1));void 0!==eb&&Tc.push(oc+eb)}}if(0<Tc.length)return[ee,cb+Tc.join(",\n"+Dc),Pc].join("\n"+
J)}return bc}(U,"",0)};pb.Node=Qa;pb.create=pb;pb.prototype.removeNode=function(U){if(U.list!==this)throw Error("removing node which does not belong to this list");var ua=U.next,cb=U.prev;ua&&(ua.prev=cb);cb&&(cb.next=ua);U===this.head&&(this.head=ua);U===this.tail&&(this.tail=cb);U.list.length--;U.next=null;U.prev=null;U.list=null;return ua};pb.prototype.unshiftNode=function(U){if(U!==this.head){U.list&&U.list.removeNode(U);var ua=this.head;U.list=this;if(U.next=ua)ua.prev=U;this.head=U;this.tail||
(this.tail=U);this.length++}};pb.prototype.pushNode=function(U){if(U!==this.tail){U.list&&U.list.removeNode(U);var ua=this.tail;U.list=this;if(U.prev=ua)ua.next=U;this.tail=U;this.head||(this.head=U);this.length++}};pb.prototype.push=function(){for(var U=0,ua=arguments.length;U<ua;U++)this.tail=new Qa(arguments[U],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};pb.prototype.unshift=function(){for(var U=0,ua=arguments.length;U<ua;U++)this.head=new Qa(arguments[U],
null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};pb.prototype.pop=function(){if(this.tail){var U=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return U}};pb.prototype.shift=function(){if(this.head){var U=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return U}};pb.prototype.forEach=function(U,ua){ua=ua||this;for(var cb=this.head,Ab=0;null!==cb;Ab++)U.call(ua,cb.value,Ab,
this),cb=cb.next};pb.prototype.forEachReverse=function(U,ua){ua=ua||this;for(var cb=this.tail,Ab=this.length-1;null!==cb;Ab--)U.call(ua,cb.value,Ab,this),cb=cb.prev};pb.prototype.get=function(U){for(var ua=0,cb=this.head;null!==cb&&ua<U;ua++)cb=cb.next;if(ua===U&&null!==cb)return cb.value};pb.prototype.getReverse=function(U){for(var ua=0,cb=this.tail;null!==cb&&ua<U;ua++)cb=cb.prev;if(ua===U&&null!==cb)return cb.value};pb.prototype.map=function(U,ua){ua=ua||this;for(var cb=new pb,Ab=this.head;null!==
Ab;)cb.push(U.call(ua,Ab.value,this)),Ab=Ab.next;return cb};pb.prototype.mapReverse=function(U,ua){ua=ua||this;for(var cb=new pb,Ab=this.tail;null!==Ab;)cb.push(U.call(ua,Ab.value,this)),Ab=Ab.prev;return cb};pb.prototype.reduce=function(U,ua){var cb=this.head;if(1<arguments.length)var Ab=ua;else if(this.head)cb=this.head.next,Ab=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var ec=0;null!==cb;ec++)Ab=U(Ab,cb.value,ec),cb=cb.next;return Ab};pb.prototype.reduceReverse=
function(U,ua){var cb=this.tail;if(1<arguments.length)var Ab=ua;else if(this.tail)cb=this.tail.prev,Ab=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var ec=this.length-1;null!==cb;ec--)Ab=U(Ab,cb.value,ec),cb=cb.prev;return Ab};pb.prototype.toArray=function(){for(var U=Array(this.length),ua=0,cb=this.head;null!==cb;ua++)U[ua]=cb.value,cb=cb.next;return U};pb.prototype.toArrayReverse=function(){for(var U=Array(this.length),ua=0,cb=this.tail;null!==cb;ua++)U[ua]=
cb.value,cb=cb.prev;return U};pb.prototype.slice=function(U,ua){ua=ua||this.length;0>ua&&(ua+=this.length);U=U||0;0>U&&(U+=this.length);var cb=new pb;if(ua<U||0>ua)return cb;0>U&&(U=0);ua>this.length&&(ua=this.length);for(var Ab=0,ec=this.head;null!==ec&&Ab<U;Ab++)ec=ec.next;for(;null!==ec&&Ab<ua;Ab++,ec=ec.next)cb.push(ec.value);return cb};pb.prototype.sliceReverse=function(U,ua){ua=ua||this.length;0>ua&&(ua+=this.length);U=U||0;0>U&&(U+=this.length);var cb=new pb;if(ua<U||0>ua)return cb;0>U&&(U=
0);ua>this.length&&(ua=this.length);for(var Ab=this.length,ec=this.tail;null!==ec&&Ab>ua;Ab--)ec=ec.prev;for(;null!==ec&&Ab>U;Ab--,ec=ec.prev)cb.push(ec.value);return cb};pb.prototype.splice=function(U,ua){U>this.length&&(U=this.length-1);0>U&&(U=this.length+U);for(var cb=0,Ab=this.head;null!==Ab&&cb<U;cb++)Ab=Ab.next;var ec=[];for(cb=0;Ab&&cb<ua;cb++)ec.push(Ab.value),Ab=this.removeNode(Ab);null===Ab&&(Ab=this.tail);Ab!==this.head&&Ab!==this.tail&&(Ab=Ab.prev);for(cb=0;cb<(2>=arguments.length?0:
arguments.length-2);cb++){var Cc=2>cb+2||arguments.length<=cb+2?void 0:arguments[cb+2];Ab=Ab===this.head?new Qa(Cc,null,Ab,this):new Qa(Cc,Ab,Ab.next,this);null===Ab.next&&(this.tail=Ab);null===Ab.prev&&(this.head=Ab);this.length++}return ec};pb.prototype.reverse=function(){for(var U=this.head,ua=this.tail,cb=U;null!==cb;cb=cb.prev){var Ab=cb.prev;cb.prev=cb.next;cb.next=Ab}this.head=ua;this.tail=U;return this};try{pb.prototype[Symbol.iterator]=function*(){for(let U=this.head;U;U=U.next)yield U.value}}catch(U){}const La=
Symbol("max"),Wa=Symbol("length"),$a=Symbol("lengthCalculator"),X=Symbol("allowStale"),Ca=Symbol("maxAge"),Xa=Symbol("dispose"),Jb=Symbol("noDisposeOnSet"),yc=Symbol("lruList"),sc=Symbol("cache"),xc=Symbol("updateAgeOnGet"),dd=()=>1;class Zb{constructor(U){"number"===typeof U&&(U={max:U});U||(U={});if(U.max&&("number"!==typeof U.max||0>U.max))throw new TypeError("max must be a non-negative number");this[La]=U.max||Infinity;const ua=U.length||dd;this[$a]="function"!==typeof ua?dd:ua;this[X]=U.stale||
!1;if(U.maxAge&&"number"!==typeof U.maxAge)throw new TypeError("maxAge must be a number");this[Ca]=U.maxAge||0;this[Xa]=U.dispose;this[Jb]=U.noDisposeOnSet||!1;this[xc]=U.updateAgeOnGet||!1;this.reset()}set max(U){if("number"!==typeof U||0>U)throw new TypeError("max must be a non-negative number");this[La]=U||Infinity;Ma(this)}get max(){return this[La]}set allowStale(U){this[X]=!!U}get allowStale(){return this[X]}set maxAge(U){if("number"!==typeof U)throw new TypeError("maxAge must be a non-negative number");
this[Ca]=U;Ma(this)}get maxAge(){return this[Ca]}set lengthCalculator(U){"function"!==typeof U&&(U=dd);U!==this[$a]&&(this[$a]=U,this[Wa]=0,this[yc].forEach(ua=>{ua.length=this[$a](ua.value,ua.key);this[Wa]+=ua.length}));Ma(this)}get lengthCalculator(){return this[$a]}get length(){return this[Wa]}get itemCount(){return this[yc].length}rforEach(U,ua){ua=ua||this;for(let cb=this[yc].tail;null!==cb;){const Ab=cb.prev;Tb(this,U,cb,ua);cb=Ab}}forEach(U,ua){ua=ua||this;for(let cb=this[yc].head;null!==cb;){const Ab=
cb.next;Tb(this,U,cb,ua);cb=Ab}}keys(){return this[yc].toArray().map(U=>U.key)}values(){return this[yc].toArray().map(U=>U.value)}reset(){this[Xa]&&this[yc]&&this[yc].length&&this[yc].forEach(U=>this[Xa](U.key,U.value));this[sc]=new Map;this[yc]=new pb;this[Wa]=0}dump(){return this[yc].map(U=>Pd(this,U)?!1:{k:U.key,v:U.value,e:U.now+(U.maxAge||0)}).toArray().filter(U=>U)}dumpLru(){return this[yc]}set(U,ua,cb){if((cb=cb||this[Ca])&&"number"!==typeof cb)throw new TypeError("maxAge must be a number");
const Ab=cb?Date.now():0,ec=this[$a](ua,U);if(this[sc].has(U)){if(ec>this[La])return Vb(this,this[sc].get(U)),!1;const Cc=this[sc].get(U).value;if(this[Xa]&&!this[Jb])this[Xa](U,Cc.value);Cc.now=Ab;Cc.maxAge=cb;Cc.value=ua;this[Wa]+=ec-Cc.length;Cc.length=ec;this.get(U);Ma(this);return!0}cb=new qb(U,ua,ec,Ab,cb);if(cb.length>this[La]){if(this[Xa])this[Xa](U,ua);return!1}this[Wa]+=cb.length;this[yc].unshift(cb);this[sc].set(U,this[yc].head);Ma(this);return!0}has(U){if(!this[sc].has(U))return!1;U=this[sc].get(U).value;
return!Pd(this,U)}get(U){return Sc(this,U,!0)}peek(U){return Sc(this,U,!1)}pop(){const U=this[yc].tail;if(!U)return null;Vb(this,U);return U.value}del(U){Vb(this,this[sc].get(U))}load(U){this.reset();const ua=Date.now();for(let Ab=U.length-1;0<=Ab;Ab--){const ec=U[Ab];var cb=ec.e||0;0===cb?this.set(ec.k,ec.v):(cb-=ua,0<cb&&this.set(ec.k,ec.v,cb))}}prune(){this[sc].forEach((U,ua)=>Sc(this,ua,!1))}}const Sc=(U,ua,cb)=>{if(ua=U[sc].get(ua)){const Ab=ua.value;if(Pd(U,Ab)){if(Vb(U,ua),!U[X])return}else cb&&
(U[xc]&&(ua.value.now=Date.now()),U[yc].unshiftNode(ua));return Ab.value}},Pd=(U,ua)=>{if(!ua||!ua.maxAge&&!U[Ca])return!1;const cb=Date.now()-ua.now;return ua.maxAge?cb>ua.maxAge:U[Ca]&&cb>U[Ca]},Ma=U=>{if(U[Wa]>U[La])for(let ua=U[yc].tail;U[Wa]>U[La]&&null!==ua;){const cb=ua.prev;Vb(U,ua);ua=cb}},Vb=(U,ua)=>{if(ua){const cb=ua.value;if(U[Xa])U[Xa](cb.key,cb.value);U[Wa]-=cb.length;U[sc].delete(cb.key);U[yc].removeNode(ua)}};class qb{constructor(U,ua,cb,Ab,ec){this.key=U;this.value=ua;this.length=
cb;this.now=Ab;this.maxAge=ec||0}}const Tb=(U,ua,cb,Ab)=>{let ec=cb.value;Pd(U,ec)&&(Vb(U,cb),U[X]||(ec=void 0));ec&&ua.call(Ab,ec.value,ec.key,U)};var gc=Zb;const cc=["includePrerelease","loose","rtl"];var Ic=U=>U?"object"!==typeof U?{loose:!0}:cc.filter(ua=>U[ua]).reduce((ua,cb)=>{ua[cb]=!0;return ua},{}):{},zc={exports:{}},Zc={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Md="object"===typeof v&&v.env&&v.env.NODE_DEBUG&&
/\bsemver\b/i.test(v.env.NODE_DEBUG)?function(){for(var U=arguments.length,ua=Array(U),cb=0;cb<U;cb++)ua[cb]=arguments[cb];return console.error("SEMVER",...ua)}:()=>{};(function(U,ua){const {MAX_SAFE_COMPONENT_LENGTH:cb}=Zc,Ab=Md;ua=U.exports={};const ec=ua.re=[],Cc=ua.src=[],$b=ua.t={};let J=0;U=(fa,Sa,bc)=>{const Pc=J++;Ab(fa,Pc,Sa);$b[fa]=Pc;Cc[Pc]=Sa;ec[Pc]=new RegExp(Sa,bc?"g":void 0)};U("NUMERICIDENTIFIER","0|[1-9]\\d*");U("NUMERICIDENTIFIERLOOSE","[0-9]+");U("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");
U("MAINVERSION","(".concat(Cc[$b.NUMERICIDENTIFIER],")\\.")+"(".concat(Cc[$b.NUMERICIDENTIFIER],")\\.")+"(".concat(Cc[$b.NUMERICIDENTIFIER],")"));U("MAINVERSIONLOOSE","(".concat(Cc[$b.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Cc[$b.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Cc[$b.NUMERICIDENTIFIERLOOSE],")"));U("PRERELEASEIDENTIFIER","(?:".concat(Cc[$b.NUMERICIDENTIFIER],"|").concat(Cc[$b.NONNUMERICIDENTIFIER],")"));U("PRERELEASEIDENTIFIERLOOSE","(?:".concat(Cc[$b.NUMERICIDENTIFIERLOOSE],"|").concat(Cc[$b.NONNUMERICIDENTIFIER],
")"));U("PRERELEASE","(?:-(".concat(Cc[$b.PRERELEASEIDENTIFIER],"(?:\\.").concat(Cc[$b.PRERELEASEIDENTIFIER],")*))"));U("PRERELEASELOOSE","(?:-?(".concat(Cc[$b.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(Cc[$b.PRERELEASEIDENTIFIERLOOSE],")*))"));U("BUILDIDENTIFIER","[0-9A-Za-z-]+");U("BUILD","(?:\\+(".concat(Cc[$b.BUILDIDENTIFIER],"(?:\\.").concat(Cc[$b.BUILDIDENTIFIER],")*))"));U("FULLPLAIN","v?".concat(Cc[$b.MAINVERSION]).concat(Cc[$b.PRERELEASE],"?").concat(Cc[$b.BUILD],"?"));U("FULL","^".concat(Cc[$b.FULLPLAIN],
"$"));U("LOOSEPLAIN","[v\x3d\\s]*".concat(Cc[$b.MAINVERSIONLOOSE]).concat(Cc[$b.PRERELEASELOOSE],"?").concat(Cc[$b.BUILD],"?"));U("LOOSE","^".concat(Cc[$b.LOOSEPLAIN],"$"));U("GTLT","((?:\x3c|\x3e)?\x3d?)");U("XRANGEIDENTIFIERLOOSE","".concat(Cc[$b.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));U("XRANGEIDENTIFIER","".concat(Cc[$b.NUMERICIDENTIFIER],"|x|X|\\*"));U("XRANGEPLAIN","[v\x3d\\s]*(".concat(Cc[$b.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Cc[$b.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Cc[$b.XRANGEIDENTIFIER],
")")+"(?:".concat(Cc[$b.PRERELEASE],")?").concat(Cc[$b.BUILD],"?")+")?)?");U("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(Cc[$b.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Cc[$b.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Cc[$b.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(Cc[$b.PRERELEASELOOSE],")?").concat(Cc[$b.BUILD],"?")+")?)?");U("XRANGE","^".concat(Cc[$b.GTLT],"\\s*").concat(Cc[$b.XRANGEPLAIN],"$"));U("XRANGELOOSE","^".concat(Cc[$b.GTLT],"\\s*").concat(Cc[$b.XRANGEPLAINLOOSE],"$"));U("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(cb,
"})")+"(?:\\.(\\d{1,".concat(cb,"}))?")+"(?:\\.(\\d{1,".concat(cb,"}))?")+"(?:$|[^\\d])");U("COERCERTL",Cc[$b.COERCE],!0);U("LONETILDE","(?:~\x3e?)");U("TILDETRIM","(\\s*)".concat(Cc[$b.LONETILDE],"\\s+"),!0);ua.tildeTrimReplace="$1~";U("TILDE","^".concat(Cc[$b.LONETILDE]).concat(Cc[$b.XRANGEPLAIN],"$"));U("TILDELOOSE","^".concat(Cc[$b.LONETILDE]).concat(Cc[$b.XRANGEPLAINLOOSE],"$"));U("LONECARET","(?:\\^)");U("CARETTRIM","(\\s*)".concat(Cc[$b.LONECARET],"\\s+"),!0);ua.caretTrimReplace="$1^";U("CARET",
"^".concat(Cc[$b.LONECARET]).concat(Cc[$b.XRANGEPLAIN],"$"));U("CARETLOOSE","^".concat(Cc[$b.LONECARET]).concat(Cc[$b.XRANGEPLAINLOOSE],"$"));U("COMPARATORLOOSE","^".concat(Cc[$b.GTLT],"\\s*(").concat(Cc[$b.LOOSEPLAIN],")$|^$"));U("COMPARATOR","^".concat(Cc[$b.GTLT],"\\s*(").concat(Cc[$b.FULLPLAIN],")$|^$"));U("COMPARATORTRIM","(\\s*)".concat(Cc[$b.GTLT],"\\s*(").concat(Cc[$b.LOOSEPLAIN],"|").concat(Cc[$b.XRANGEPLAIN],")"),!0);ua.comparatorTrimReplace="$1$2$3";U("HYPHENRANGE","^\\s*(".concat(Cc[$b.XRANGEPLAIN],
")")+"\\s+-\\s+"+"(".concat(Cc[$b.XRANGEPLAIN],")")+"\\s*$");U("HYPHENRANGELOOSE","^\\s*(".concat(Cc[$b.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(Cc[$b.XRANGEPLAINLOOSE],")")+"\\s*$");U("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");U("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");U("GTE0PRE","^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(zc,zc.exports);const td=/^[0-9]+$/,Ha=(U,ua)=>{const cb=td.test(U),Ab=td.test(ua);cb&&Ab&&(U=+U,ua=+ua);return U===ua?0:cb&&!Ab?-1:Ab&&!cb?1:U<ua?-1:1};var gb={compareIdentifiers:Ha,
rcompareIdentifiers:(U,ua)=>Ha(ua,U)};const wb=Md,{MAX_LENGTH:sa,MAX_SAFE_INTEGER:F}=Zc,{re:ya,t:Na}=zc.exports,Za=Ic,{compareIdentifiers:kb}=gb;class Gb{constructor(U,ua){ua=Za(ua);if(U instanceof Gb){if(U.loose===!!ua.loose&&U.includePrerelease===!!ua.includePrerelease)return U;U=U.version}else if("string"!==typeof U)throw new TypeError("Invalid Version: ".concat(U));if(U.length>sa)throw new TypeError("version is longer than ".concat(sa," characters"));wb("SemVer",U,ua);this.options=ua;this.loose=
!!ua.loose;this.includePrerelease=!!ua.includePrerelease;ua=U.trim().match(ua.loose?ya[Na.LOOSE]:ya[Na.FULL]);if(!ua)throw new TypeError("Invalid Version: ".concat(U));this.raw=U;this.major=+ua[1];this.minor=+ua[2];this.patch=+ua[3];if(this.major>F||0>this.major)throw new TypeError("Invalid major version");if(this.minor>F||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>F||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=ua[4]?ua[4].split(".").map(cb=>
{if(/^[0-9]+$/.test(cb)){const Ab=+cb;if(0<=Ab&&Ab<F)return Ab}return cb}):[];this.build=ua[5]?ua[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(U){wb("SemVer.compare",this.version,this.options,U);if(!(U instanceof Gb)){if("string"===typeof U&&U===this.version)return 0;U=new Gb(U,this.options)}return U.version===
this.version?0:this.compareMain(U)||this.comparePre(U)}compareMain(U){U instanceof Gb||(U=new Gb(U,this.options));return kb(this.major,U.major)||kb(this.minor,U.minor)||kb(this.patch,U.patch)}comparePre(U){U instanceof Gb||(U=new Gb(U,this.options));if(this.prerelease.length&&!U.prerelease.length)return-1;if(!this.prerelease.length&&U.prerelease.length)return 1;if(!this.prerelease.length&&!U.prerelease.length)return 0;let ua=0;do{const cb=this.prerelease[ua],Ab=U.prerelease[ua];wb("prerelease compare",
ua,cb,Ab);if(void 0===cb&&void 0===Ab)return 0;if(void 0===Ab)return 1;if(void 0===cb)return-1;if(cb!==Ab)return kb(cb,Ab)}while(++ua)}compareBuild(U){U instanceof Gb||(U=new Gb(U,this.options));let ua=0;do{const cb=this.build[ua],Ab=U.build[ua];wb("prerelease compare",ua,cb,Ab);if(void 0===cb&&void 0===Ab)return 0;if(void 0===Ab)return 1;if(void 0===cb)return-1;if(cb!==Ab)return kb(cb,Ab)}while(++ua)}inc(U,ua){switch(U){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;
this.inc("pre",ua);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",ua);break;case "prepatch":this.prerelease.length=0;this.inc("patch",ua);this.inc("pre",ua);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",ua);this.inc("pre",ua);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=
0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(U=this.prerelease.length;0<=--U;)"number"===typeof this.prerelease[U]&&(this.prerelease[U]++,U=-2);-1===U&&this.prerelease.push(0)}ua&&(0===kb(this.prerelease[0],ua)?isNaN(this.prerelease[1])&&(this.prerelease=[ua,0]):this.prerelease=[ua,0]);break;default:throw Error("invalid increment argument: ".concat(U));}this.format();
this.raw=this.version;return this}}var nc=Gb;const dc=nc;var ic=(U,ua,cb)=>(new dc(U,cb)).compare(new dc(ua,cb)),Vc=(U,ua,cb,Ab)=>{switch(ua){case "\x3d\x3d\x3d":return"object"===typeof U&&(U=U.version),"object"===typeof cb&&(cb=cb.version),U===cb;case "!\x3d\x3d":return"object"===typeof U&&(U=U.version),"object"===typeof cb&&(cb=cb.version),U!==cb;case "":case "\x3d":case "\x3d\x3d":return 0===ic(U,cb,Ab);case "!\x3d":return 0!==ic(U,cb,Ab);case "\x3e":return 0<ic(U,cb,Ab);case "\x3e\x3d":return 0<=
ic(U,cb,Ab);case "\x3c":return 0>ic(U,cb,Ab);case "\x3c\x3d":return 0>=ic(U,cb,Ab);default:throw new TypeError("Invalid operator: ".concat(ua));}},ed,fd,Qd,Td;const Fd=Ka();var Zd=(U,ua,cb)=>{try{ua=new Fd(ua,cb)}catch(Ab){return!1}return ua.test(U)},de={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Ud={"*":(U,ua)=>U*ua,"+":(U,ua)=>U+ua,"-":(U,ua)=>U-ua,"/":(U,ua)=>
U/ua,"%":(U,ua)=>U%ua,"\x3e":(U,ua)=>U>ua,"\x3c":(U,ua)=>U<ua,"\x3c\x3d":(U,ua)=>U<=ua,"\x3e\x3d":(U,ua)=>U>=ua,"\x3d\x3d":(U,ua)=>U==ua,"!\x3d":(U,ua)=>U!=ua,"\x3d\x3d\x3d":(U,ua)=>U===ua,"!\x3d\x3d":(U,ua)=>U!==ua,"\x26":(U,ua)=>U&ua,"|":(U,ua)=>U|ua,"^":(U,ua)=>U^ua,"\x3c\x3c":(U,ua)=>U<<ua,"\x3e\x3e":(U,ua)=>U>>ua,"\x3e\x3e\x3e":(U,ua)=>U>>>ua},Ve={"+":U=>+U,"-":U=>-U,"~":U=>~U,"!":U=>!U};const Xd=Array.prototype.slice,N=(U,ua,cb)=>{cb=cb?cb(ua[0]):ua[0];return cb[U].apply(cb,Xd.call(ua,1))};
var la={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(U,ua,cb)=>Math.max(ua,Math.min(cb,U)),now:Date.now,utc:Date.UTC,datetime:(U,ua,cb,Ab,ec,Cc,$b)=>new Date(U,ua||0,null!=cb?cb:1,Ab||0,ec||0,Cc||0,$b||0),date:U=>(new Date(U)).getDate(),
day:U=>(new Date(U)).getDay(),year:U=>(new Date(U)).getFullYear(),month:U=>(new Date(U)).getMonth(),hours:U=>(new Date(U)).getHours(),minutes:U=>(new Date(U)).getMinutes(),seconds:U=>(new Date(U)).getSeconds(),milliseconds:U=>(new Date(U)).getMilliseconds(),time:U=>(new Date(U)).getTime(),timezoneoffset:U=>(new Date(U)).getTimezoneOffset(),utcdate:U=>(new Date(U)).getUTCDate(),utcday:U=>(new Date(U)).getUTCDay(),utcyear:U=>(new Date(U)).getUTCFullYear(),utcmonth:U=>(new Date(U)).getUTCMonth(),utchours:U=>
(new Date(U)).getUTCHours(),utcminutes:U=>(new Date(U)).getUTCMinutes(),utcseconds:U=>(new Date(U)).getUTCSeconds(),utcmilliseconds:U=>(new Date(U)).getUTCMilliseconds(),length:U=>U.length,join:function(){return N("join",arguments)},indexof:function(){return N("indexOf",arguments)},lastindexof:function(){return N("lastIndexOf",arguments)},slice:function(){return N("slice",arguments)},reverse:U=>U.slice().reverse(),parseFloat,parseInt,upper:U=>String(U).toUpperCase(),lower:U=>String(U).toLowerCase(),
substring:function(){return N("substring",arguments,String)},split:function(){return N("split",arguments,String)},replace:function(){return N("replace",arguments,String)},trim:U=>String(U).trim(),regexp:RegExp,test:(U,ua)=>RegExp(U).test(ua)};const za="view item group xy x y".split(" "),fb={Literal:(U,ua)=>ua.value,Identifier:(U,ua)=>{ua=ua.name;return 0<U.memberDepth?ua:"datum"===ua?U.datum:"event"===ua?U.event:"item"===ua?U.item:de[ua]||U.params["$"+ua]},MemberExpression:(U,ua)=>{const cb=!ua.computed,
Ab=U(ua.object);cb&&(U.memberDepth+=1);ua=U(ua.property);cb&&--U.memberDepth;return Ab[ua]},CallExpression:(U,ua)=>{const cb=ua.arguments;ua=ua.callee.name;ua.startsWith("_")&&(ua=ua.slice(1));return"if"===ua?U(cb[0])?U(cb[1]):U(cb[2]):(U.fn[ua]||la[ua]).apply(U.fn,cb.map(U))},ArrayExpression:(U,ua)=>ua.elements.map(U),BinaryExpression:(U,ua)=>Ud[ua.operator](U(ua.left),U(ua.right)),UnaryExpression:(U,ua)=>Ve[ua.operator](U(ua.argument)),ConditionalExpression:(U,ua)=>U(ua.test)?U(ua.consequent):U(ua.alternate),
LogicalExpression:(U,ua)=>"\x26\x26"===ua.operator?U(ua.left)&&U(ua.right):U(ua.left)||U(ua.right),ObjectExpression:(U,ua)=>ua.properties.reduce((cb,Ab)=>{U.memberDepth+=1;const ec=U(Ab.key);--U.memberDepth;cb[ec]=U(Ab.value);return cb},{})};var Ib={operator(U,ua){const cb=ua.ast,Ab=U.functions;return ec=>lb(cb,Ab,ec)},parameter(U,ua){const cb=ua.ast,Ab=U.functions;return(ec,Cc)=>lb(cb,Ab,Cc,ec)},event(U,ua){const cb=ua.ast,Ab=U.functions;return ec=>lb(cb,Ab,void 0,void 0,ec)},handler(U,ua){const cb=
ua.ast,Ab=U.functions;return(ec,Cc)=>lb(cb,Ab,ec,Cc.item&&Cc.item.datum,Cc)},encode(U,ua){const {marktype:cb,channels:Ab}=ua,ec=U.functions,Cc="group"===cb||"image"===cb||"rect"===cb;return($b,J)=>{const fa=$b.datum;let Sa=0,bc;for(const Pc in Ab)bc=lb(Ab[Pc].ast,ec,J,fa,void 0,$b),$b[Pc]!==bc&&($b[Pc]=bc,Sa=1);"rule"!==cb&&(Ab.x2&&(Ab.x?(Cc&&$b.x>$b.x2&&(J=$b.x,$b.x=$b.x2,$b.x2=J),$b.width=$b.x2-$b.x):$b.x=$b.x2-($b.width||0)),Ab.xc&&($b.x=$b.xc-($b.width||0)/2),Ab.y2&&(Ab.y?(Cc&&$b.y>$b.y2&&(J=
$b.y,$b.y=$b.y2,$b.y2=J),$b.height=$b.y2-$b.y):$b.y=$b.y2-($b.height||0)),Ab.yc&&($b.y=$b.yc-($b.height||0)/2));return Sa}}};const Xb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},Bc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var lc=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},
symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",
gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Xb["category-6"],diverging:Xb["fireandice-6"],heatmap:Xb["fire-7"],ordinal:Xb["fire-7"],ramp:Xb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Bc["six-groups-cat-1"],diverging:Bc["diverging-colors"],heatmap:Bc["diverging-colors"],ordinal:Bc["six-groups-seq"],ramp:Bc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},
axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Gc=U=>function(ua){return ua[U]},id=U=>{const ua=U.length;return function(cb){for(let Ab=0;Ab<ua;++Ab)cb=cb[U[Ab]];return cb}};(function(U,ua,cb){const Ab=sb(U);U=1===Ab.length?Ab[0]:U;return Pa((cb&&cb.get||xb)(Ab),[U],ua||U)})("id");Pa(U=>U,[],"identity");Pa(()=>0,[],
"zero");Pa(()=>1,[],"one");Pa(()=>!0,[],"true");Pa(()=>!1,[],"false");var Nc=Array.isArray;const rd={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(U){return String(U).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(U,ua,cb){if(Nc(U))return"[".concat(U.map(ec=>ua("string"===typeof ec?ec:JSON.stringify(ec,Wb(cb)))).join(", "),"]");if(U===Object(U)){let ec="";const {title:Cc,image:$b}=
U;U=Qb(U,["title","image"]);Cc&&(ec+="\x3ch2\x3e".concat(ua(Cc),"\x3c/h2\x3e"));$b&&(ec+='\x3cimg src\x3d"'.concat(ua($b),'"\x3e'));var Ab=Object.keys(U);if(0<Ab.length){ec+="\x3ctable\x3e";for(const J of Ab)Ab=U[J],void 0!==Ab&&(Ab===Object(Ab)&&(Ab=JSON.stringify(Ab,Wb(cb))),ec+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(ua(J),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(ua(Ab),"\x3c/td\x3e\x3c/tr\x3e"));ec+="\x3c/table\x3e"}return ec||"{}"}return ua(U)}};class Hd{constructor(U){this.options=
Object.assign(Object.assign({},rd),U);var ua=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){U=document.createElement("style");U.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(ua))throw Error("Invalid HTML ID");ua="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
ua);U.innerHTML=ua;ua=document.head;0<ua.childNodes.length?ua.insertBefore(U,ua.childNodes[0]):ua.appendChild(U)}}tooltipHandler(U,ua,cb,Ab){var ec;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(ec=document.fullscreenElement)&&void 0!==ec?ec:document.body).appendChild(this.el));if(null==Ab||""===Ab)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(Ab,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));U=this.el.getBoundingClientRect();ec=this.options.offsetX;cb=this.options.offsetY;Ab=ua.clientX+ec;Ab+U.width>window.innerWidth&&(Ab=+ua.clientX-ec-U.width);ec=ua.clientY+cb;ec+U.height>window.innerHeight&&(ec=+ua.clientY-cb-U.height);var {x:Cc,y:$b}={x:Ab,y:ec};this.el.setAttribute("style","top: ".concat($b,"px; left: ").concat(Cc,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(U,ua){return this.substr(!ua||0>ua?0:+ua,U.length)===U});var Gd;const $d=Q;let Wd=g;const ae="undefined"!==typeof window?window:void 0;void 0===Wd&&null!==ae&&void 0!==ae&&null!==(Gd=ae.vl)&&void 0!==Gd&&Gd.compile&&(Wd=ae.vl);const Ae={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},kf={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},hf={vega:"Vega","vega-lite":"Vega-Lite"},cf={vega:$d.version,"vega-lite":Wd?Wd.version:"not available"},se={vega:U=>U,"vega-lite":(U,ua)=>Wd.compile(U,{config:ua}).spec},uf=function(){var U;if(U=1<arguments.length){if(U=k.isString(0>=arguments.length?void 0:arguments[0]))U=0>=arguments.length?void 0:arguments[0],U=!(U.startsWith("http://")||U.startsWith("https://")||U.startsWith("//"));U=U||(0>=arguments.length?void 0:arguments[0])instanceof HTMLElement||
3===arguments.length}return U?db(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):M(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};uf.vegaLite=Wd;uf.vl=Wd;uf.container=M;uf.embed=db;uf.vega=$d;uf.default=db;uf.version="6.21.0";return uf})};
shadow$provide[67]=function(fc,Fb,Xc,ob){ob.__esModule=!0;ob.default=function(v){const k={};return!!v&&"[object Function]"===k.toString.call(v)}};
shadow$provide[68]=function(fc,Fb,Xc,ob){ob.__esModule=!0;ob.default=function(P,ib,Hb){Hb&&((0,k.default)(Hb)?Hb(P.data(ib)):P.change(ib,v.vega.changeset().remove(()=>!0).insert(Hb)))};var v=Fb(66),k=function(P){return P&&P.__esModule?P:{default:P}}(Fb(67))};
shadow$provide[69]=function(fc,Fb,Xc,ob){ob.__esModule=!0;ob.default=function(k,P){Object.keys(P).forEach(ib=>{(0,v.default)(k,ib,P[ib])})};var v=function(k){return k&&k.__esModule?k:{default:k}}(Fb(68))};
shadow$provide[70]=function(fc,Fb,Xc,ob){ob.__esModule=!0;ob.default=function(v){const k=new Set;v.forEach(P=>{Object.keys(P).forEach(ib=>{k.add(ib)})});return k}};
shadow$provide[71]=function(fc,Fb,Xc,ob){ob.__esModule=!0;ob.NOOP=void 0;ob.NOOP=()=>{}};
shadow$provide[72]=function(fc,Fb,Xc,ob){ob.__esModule=!0;ob.default=function(v,k){const P=Object.keys(k);P.forEach(ib=>{try{v.addSignalListener(ib,k[ib])}catch(Hb){console.warn("Cannot add invalid signal listener.",Hb)}});return 0<P.length}};
shadow$provide[73]=function(fc,Fb,Xc,ob){Xc.exports=function ib(k,P){if(k===P)return!0;if(k&&P&&"object"==typeof k&&"object"==typeof P){if(k.constructor!==P.constructor)return!1;var Hb;if(Array.isArray(k)){var ac=k.length;if(ac!=P.length)return!1;for(Hb=ac;0!==Hb--;)if(!ib(k[Hb],P[Hb]))return!1;return!0}if(k.constructor===RegExp)return k.source===P.source&&k.flags===P.flags;if(k.valueOf!==Object.prototype.valueOf)return k.valueOf()===P.valueOf();if(k.toString!==Object.prototype.toString)return k.toString()===
P.toString();var vc=Object.keys(k);ac=vc.length;if(ac!==Object.keys(P).length)return!1;for(Hb=ac;0!==Hb--;)if(!Object.prototype.hasOwnProperty.call(P,vc[Hb]))return!1;for(Hb=ac;0!==Hb--;)if(ac=vc[Hb],!ib(k[ac],P[ac]))return!1;return!0}return k!==k&&P!==P}};
shadow$provide[74]=function(fc,Fb,Xc,ob){function v(ib){return ib&&ib.__esModule?ib:{default:ib}}ob.__esModule=!0;ob.default=function(ib,Hb){if(ib===Hb)return!1;const ac={width:!1,height:!1,isExpensive:!1},vc=(0,P.default)([ib,Hb]);!vc.has("width")||"width"in ib&&"width"in Hb&&ib.width===Hb.width||("width"in ib&&"number"===typeof ib.width?ac.width=ib.width:ac.isExpensive=!0);!vc.has("height")||"height"in ib&&"height"in Hb&&ib.height===Hb.height||("height"in ib&&"number"===typeof ib.height?ac.height=
ib.height:ac.isExpensive=!0);vc.delete("width");vc.delete("height");[...vc].some(Ac=>!(Ac in ib)||!(Ac in Hb)||!(0,k.default)(ib[Ac],Hb[Ac]))&&(ac.isExpensive=!0);return!1!==ac.width||!1!==ac.height||ac.isExpensive?ac:!1};var k=v(Fb(73)),P=v(Fb(70))};
shadow$provide[75]=function(fc,Fb,Xc,ob){ob.__esModule=!0;ob.default=function(v,k){const P=Object.keys(k);P.forEach(ib=>{try{v.removeSignalListener(ib,k[ib])}catch(Hb){console.warn("Cannot remove invalid signal listener.",Hb)}});return 0<P.length}};
shadow$provide[76]=function(fc,Fb,Xc,ob){ob.__esModule=!0;ob.default=function(v){const {spec:k,width:P,height:ib}=v;return"undefined"!==typeof P&&"undefined"!==typeof ib?Object.assign({},k,{width:P,height:ib}):"undefined"!==typeof P?Object.assign({},k,{width:P}):"undefined"!==typeof ib?Object.assign({},k,{height:ib}):k}};
shadow$provide[77]=function(fc,Fb,Xc,ob){function v(Ua){return Ua&&Ua.__esModule?Ua:{default:Ua}}function k(Ua,ub,Kb){ub in Ua?Object.defineProperty(Ua,ub,{value:Kb,enumerable:!0,configurable:!0,writable:!0}):Ua[ub]=Kb;return Ua}ob.__esModule=!0;ob.default=void 0;fc=v(Fb(18));var P=v(Fb(2)),ib=v(Fb(66)),Hb=v(Fb(19)),ac=v(Fb(70)),vc=Fb(71),Ac=v(Fb(72)),uc=v(Fb(74)),Cb=v(Fb(75)),jc=v(Fb(76));class Yb extends P.default.PureComponent{constructor(){super(...arguments);k(this,"containerRef",P.default.createRef());
k(this,"resultPromise",void 0);k(this,"handleError",Ua=>{const {onError:ub=vc.NOOP}=this.props;ub(Ua,this.containerRef.current);console.warn(Ua)});k(this,"modifyView",Ua=>{this.resultPromise&&this.resultPromise.then(ub=>{ub&&Ua(ub.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ua){const ub=(0,ac.default)([this.props,Ua]);ub.delete("className");ub.delete("signalListeners");ub.delete("spec");ub.delete("style");ub.delete("width");ub.delete("height");
if(Array.from(ub).some(Kb=>this.props[Kb]!==Ua[Kb]))this.clearView(),this.createView();else{const Kb=(0,uc.default)((0,jc.default)(this.props),(0,jc.default)(Ua)),{signalListeners:Lb}=this.props,{signalListeners:Db}=Ua;if(Kb)if(Kb.isExpensive)this.clearView(),this.createView();else{const Pb=!(0,Hb.default)(Lb,Db);this.modifyView(ab=>{!1!==Kb.width&&ab.width(Kb.width);!1!==Kb.height&&ab.height(Kb.height);Pb&&(Db&&(0,Cb.default)(ab,Db),Lb&&(0,Ac.default)(ab,Lb));ab.run()})}else(0,Hb.default)(Lb,Db)||
this.modifyView(Pb=>{Db&&(0,Cb.default)(Pb,Db);Lb&&(0,Ac.default)(Pb,Lb);Pb.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ua=this.props,ub=Object.assign({},Ua);const Kb=Ua.onNewView,Lb=void 0===Ua.signalListeners?{}:Ua.signalListeners;Ua=(delete ub.spec,delete ub.onNewView,delete ub.signalListeners,delete ub.width,delete ub.height,ub);this.containerRef.current&&(ub=(0,jc.default)(this.props),this.resultPromise=(0,ib.default)(this.containerRef.current,ub,Ua).then(Db=>{if(Db){const {view:Pb}=
Db;(0,Ac.default)(Pb,Lb)&&Pb.run()}return Db}).catch(this.handleError),Kb&&this.modifyView(Kb))}clearView(){this.resultPromise&&this.resultPromise.then(Ua=>{Ua&&Ua.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ua,style:ub}=this.props;return P.default.createElement("div",{ref:this.containerRef,className:Ua,style:ub})}}ob.default=Yb;k(Yb,"propTypes",{className:fc.default.string,onError:fc.default.func})};
shadow$provide[78]=function(fc,Fb,Xc,ob){function v(Cb){return Cb&&Cb.__esModule?Cb:{default:Cb}}function k(){k=Object.assign||function(Cb){for(var jc=1;jc<arguments.length;jc++){var Yb=arguments[jc],Ua;for(Ua in Yb)Object.prototype.hasOwnProperty.call(Yb,Ua)&&(Cb[Ua]=Yb[Ua])}return Cb};return k.apply(this,arguments)}function P(Cb,jc,Yb){jc in Cb?Object.defineProperty(Cb,jc,{value:Yb,enumerable:!0,configurable:!0,writable:!0}):Cb[jc]=Yb;return Cb}ob.__esModule=!0;ob.default=void 0;v(Fb(18));var ib=
v(Fb(2)),Hb=v(Fb(19)),ac=v(Fb(69)),vc=v(Fb(77)),Ac=Fb(71);class uc extends ib.default.PureComponent{constructor(){super(...arguments);P(this,"vegaEmbed",ib.default.createRef());P(this,"handleNewView",Cb=>{this.update();const {onNewView:jc=Ac.NOOP}=this.props;jc(Cb)})}componentDidMount(){this.update()}componentDidUpdate(Cb){(0,Hb.default)(this.props.data,Cb.data)||this.update()}update(){const {data:Cb}=this.props;this.vegaEmbed.current&&Cb&&0<Object.keys(Cb).length&&this.vegaEmbed.current.modifyView(jc=>
{(0,ac.default)(jc,Cb);jc.resize().run()})}render(){var Cb=Object.assign({},this.props);Cb=(delete Cb.data,Cb);return ib.default.createElement(vc.default,k({ref:this.vegaEmbed},Cb,{onNewView:this.handleNewView}))}}ob.default=uc;P(uc,"defaultProps",{data:{}})};
shadow$provide[79]=function(fc,Fb,Xc,ob){function v(Hb){return Hb&&Hb.__esModule?Hb:{default:Hb}}function k(){k=Object.assign||function(Hb){for(var ac=1;ac<arguments.length;ac++){var vc=arguments[ac],Ac;for(Ac in vc)Object.prototype.hasOwnProperty.call(vc,Ac)&&(Hb[Ac]=vc[Ac])}return Hb};return k.apply(this,arguments)}ob.__esModule=!0;ob.default=function(Hb){return P.default.createElement(ib.default,k({},Hb,{mode:"vega-lite"}))};var P=v(Fb(2)),ib=v(Fb(78))};
shadow$provide[80]=function(fc,Fb,Xc,ob){function v(ac){return ac&&ac.__esModule?ac:{default:ac}}function k(){k=Object.assign||function(ac){for(var vc=1;vc<arguments.length;vc++){var Ac=arguments[vc],uc;for(uc in Ac)Object.prototype.hasOwnProperty.call(Ac,uc)&&(ac[uc]=Ac[uc])}return ac};return k.apply(this,arguments)}function P(ac,vc,Ac){vc in ac?Object.defineProperty(ac,vc,{value:Ac,enumerable:!0,configurable:!0,writable:!0}):ac[vc]=Ac;return ac}ob.__esModule=!0;ob.default=function(ac){let {mode:vc,
spec:Ac}=ac;class uc extends ib.default.PureComponent{render(){return ib.default.createElement(Hb.default,k({mode:vc,spec:Ac},this.props))}}P(uc,"getSpec",function(){return Ac});return uc};var ib=v(Fb(2)),Hb=v(Fb(78))};
shadow$provide[81]=function(fc,Fb,Xc,ob){ob.__esModule=!0};
shadow$provide[82]=function(fc,Fb,Xc,ob){ob.__esModule=!0;var v=Fb(81);Object.keys(v).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in ob&&ob[k]===v[k]||(ob[k]=v[k]))})};
shadow$provide[83]=function(fc,Fb,Xc,ob){function v(ib){return ib&&ib.__esModule?ib:{default:ib}}ob.__esModule=!0;var k={Vega:!0,VegaLite:!0,createClassFromSpec:!0};ob.createClassFromSpec=ob.VegaLite=ob.Vega=void 0;fc=v(Fb(78));ob.Vega=fc.default;fc=v(Fb(79));ob.VegaLite=fc.default;fc=v(Fb(80));ob.createClassFromSpec=fc.default;var P=Fb(82);Object.keys(P).forEach(function(ib){"default"!==ib&&"__esModule"!==ib&&(Object.prototype.hasOwnProperty.call(k,ib)||ib in ob&&ob[ib]===P[ib]||(ob[ib]=P[ib]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Dd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.kb="";g.set=function(a){this.kb=""+a};g.append=function(a,b,c){this.kb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.kb+=arguments[d];return this};g.clear=function(){this.kb=""};g.toString=function(){return this.kb};var qa={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Ib:c)?c.nb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.nb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):Ta(a,b)};Sa.D=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Ta(a,b,c)};Sa.$=3;function Ua(){}
function D(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):Za(a,b)};Ya.D=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Za(a,b,c)};Ya.$=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.lb)a=a.lb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.jc)a=a.jc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.Xc)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.Yc)a=a.R;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.zc)a=a.zc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.mb)a=a.mb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):sb(a,b)};rb.D=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):sb(a,b,c)};rb.$=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Db)a=a.Db(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.uc)a=a.uc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.hc)a=a.hc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Eb)a=a.Eb(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=Rb._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.aa=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.D(arguments[0],arguments[1],arguments[2]);case 4:return Rb.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rb.B=function(a,b){return null!=a&&null!=a.kc?a.kc(a,b):Sb(a,b)};
Rb.D=function(a,b,c){return null!=a&&null!=a.lc?a.lc(a,b,c):Sb(a,b,c)};Rb.T=function(a,b,c,d){return null!=a&&null!=a.mc?a.mc(a,b,c,d):Sb(a,b,c,d)};Rb.aa=function(a,b,c,d,e){return null!=a&&null!=a.nc?a.nc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.$=5;function Tb(){}function Ub(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}
function Vb(a){this.pd=a;this.F=1073741824;this.P=0}Vb.prototype.Ac=function(a,b){return this.pd.append(b)};function Wb(a){var b=new pa;a.ia(null,new Vb(b),va());return B.j(b)}var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}
function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;
function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.F&4194304||u===a.td))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Bb=a;this.name=b;this.jb=c;this._hash=d;this.Ya=e;this.F=2154168321;this.P=4096}g=gc.prototype;g.toString=function(){return this.jb};g.fa=function(a,b){return b instanceof gc?this.jb===b.jb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ha=function(){return this.Ya};g.ka=function(a,b){return new gc(this.Bb,this.name,this.jb,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))};g.Eb=function(){return this.name};g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,this.jb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ra;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.$=2;function ic(a){return null!=a?a.P&131072||u===a.ud?!0:a.P?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.ad))return a.ja(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.ub))return a.wa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.F&64||u===a.ub)?a.xa(null):(a=J(a))?a.xa(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.K(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.K=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};P.$=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Ab=b;this.bc=null;this.F=8388672;this.P=0}oc.prototype.ja=function(){return this};oc.prototype.wa=function(){return this.value};
oc.prototype.xa=function(){null==this.bc&&(this.bc=jc.j?jc.j(this.Ab):jc.call(null,this.Ab));return this.bc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.R=!1;this.F=32768;this.P=0}uc.prototype.fb=function(){return this.R};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.la(null);if(0===c)return b.N?b.N():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.N?b.N():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.F&2||u===a.Qc?!0:a.F?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.F&16||u===a.wc?!0:a.F?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.C=a;this.i=b}Gc.prototype.pa=function(){return this.i<this.C.length};Gc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Qa=function(){return new Gc(this.C,this.i)};g.ha=function(){return this.meta};g.va=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.la=function(){var a=this.C.length-this.i;return 0>a?0:a};g.ga=function(){return pc(this)};g.fa=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.ma=function(){return lc};g.qa=function(a,b){return Bc(this.C,b,this.C[this.i],this.i+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.i)};g.wa=function(){return this.C[this.i]};
g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):lc};g.ja=function(){return this.i<this.C.length?this:null};g.ka=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.oa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.N();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.K(arguments[0],arguments[1],c)}};Jc.N=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.K=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Jc.$=2;function R(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Qc))a=a.la(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.ad))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.wc))return a.ea(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.wc))return a.Aa(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Wc)?a.ya(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Wc)?a.ca(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.$=3;var W=function W(a){switch(arguments.length){case 3:return W.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.K(arguments[0],arguments[1],arguments[2],c)}};
W.D=function(a,b,c){return null!=a&&(a.F&512||u===a.Pc)?a.ab(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.K=function(a,b,c,d){for(;;)if(a=W.D(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.K(b,a,c,d)};W.$=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.K(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.K=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Oc.$=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Oc?!0:a.Bc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.I=a;this.meta=b;this.F=393217;this.P=0}g=Qc.prototype;g.ha=function(){return this.meta};g.ka=function(a,b){return new Qc(this.I,b)};g.Oc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.N=function(){return this.I.N?this.I.N():this.I.call(null)};g.j=function(a){return this.I.j?this.I.j(a):this.I.call(null,a)};g.B=function(a,b){return this.I.B?this.I.B(a,b):this.I.call(null,a,b)};g.D=function(a,b,c){return this.I.D?this.I.D(a,b,c):this.I.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.I.T?this.I.T(a,b,c,d):this.I.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.I.aa?this.I.aa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){return this.I.Na?this.I.Na(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};g.Oa=function(a,b,c,d,e,f,h){return this.I.Oa?this.I.Oa(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){return this.I.za?this.I.za(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){return this.I.Pa?this.I.Pa(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ca?this.I.Ca(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};g.Da=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Da?this.I.Da(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Ea?this.I.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.Fa?this.I.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.I.Ga?this.I.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.I.Ha?this.I.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.I.Ia?this.I.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.I.Ja?this.I.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.I.Ka?this.I.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.I.La?this.I.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.I.Ma?this.I.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Vc?Rc.Vc(this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.F&131072||u===a.Zc||(a.F?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.K(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.K=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Uc.$=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.F&8||u===a.rd?!0:a.F?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.F&4096||u===a.Ad?!0:a.F?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.F&16777216||u===a.yc?!0:a.F?!1:y(zb,a):y(zb,a)}function Zc(a){return null==a?!1:null!=a?a.F&1024||u===a.xd?!0:a.F?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.F&67108864||u===a.zd?!0:a.F?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.F&16384||u===a.Bd?!0:a.F?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.P&512||u===a.qd?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.F&1||u===a.sd?!0:a.F?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.F&512||u===a.Pc)?a.lb(null,b):y($a,a)?ab(a,b):H.D(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.N?a.N():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.N?b.N():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.F&524288||u===b.$c)?b.qa(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.F&524288||u===c.$c)?c.ra(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.N();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.K(arguments[0],arguments[1],c)}};rd.N=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.K=function(a,b,c){return Ga(rd,a+b,c)};
rd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};rd.$=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.K(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.K=function(a,b,c){return Ga(sd,a-b,c)};
sd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};sd.$=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.N();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.K(arguments[0],c)}};B.N=function(){return""};
B.j=function(a){return null==a?"":[a].join("")};B.K=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};B.$=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.O=e;this.F=65937646;this.P=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.xa(null)};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Lc(b,this.first,this.eb,this.count,this.O)};g.oa=function(a,b){return new Lc(this.meta,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.meta=a;this.F=65937614;this.P=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ga=function(){return qc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.wd||(b.F?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.ma=function(){return this};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null};g.xa=function(){return lc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new vd(b)};g.oa=function(a,b){return new Lc(this.meta,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.O=d;this.F=65929452;this.P=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.eb?null:J(this.eb)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};
g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new wd(b,this.first,this.eb,this.O)};g.oa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.F&64||u===b.ub)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Bb=a;this.name=b;this.Ra=c;this._hash=d;this.F=2153775105;this.P=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Ra)].join("")};g.fa=function(a,b){return b instanceof I?this.Ra===b.Ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))+2654435769|0};g.Eb=function(){return this.name};
g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,[":",B.j(this.Ra)].join(""))};function xd(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Fb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.jb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.$=2;function zd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.O=c;this.F=32374988;this.P=1}g=zd.prototype;g.toString=function(){return Wb(this)};
function Ad(a){null!=a.fn&&(a.s=a.fn.N?a.fn.N():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){this.ja(null);return null==this.s?null:O(this.s)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};
g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:N(this.s)};g.xa=function(){this.ja(null);return null!=this.s?kc(this.s):lc};g.ja=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new zd(b,function(){return c.ja(null)},this.O)};
g.oa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.cc=a;this.end=0;this.F=2;this.P=0}Bd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Bd.prototype.$a=function(){var a=new Cd(this.cc,0,this.end);this.cc=null;return a};Bd.prototype.la=function(){return this.end};function Cd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=Cd.prototype;g.la=function(){return this.end-this.off};
g.ea=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.uc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.C,this.off+1,this.end)};g.qa=function(a,b){return Bc(this.C,b,this.C[this.off],this.off+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.off)};function Dd(a,b,c,d){this.$a=a;this.Va=b;this.meta=c;this.O=d;this.F=31850732;this.P=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?null:yb(this.Va)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.wa=function(){return Sa(this.$a,0)};g.xa=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?lc:this.Va};g.ja=function(){return this};g.hc=function(){return this.$a};g.Rb=function(){return null==this.Va?lc:this.Va};g.ka=function(a,b){return b===this.meta?this:new Dd(this.$a,this.Va,b,this.O)};g.oa=function(a,b){return U(b,this)};g.vc=function(){return null==this.Va?null:this.Va};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.N?a.N():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Na?a.Na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=Va(m);if(7===b)return a.Oa?a.Oa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.za?a.za(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ca?a.Ca(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Da?a.Da(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Fa?a.Fa(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var ra=Va(da);if(18===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(ra);ra=Va(ra);if(19===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var $c=D(ra);Va(ra);if(20===b)return a.Ma?a.Ma(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,$c):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,$c);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Na?a.Na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Oa?a.Oa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.za?a.za(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=O(p);if(null==q)return a.Ca?a.Ca(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Da?a.Da(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ea?a.Ea(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Fa?a.Fa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,w,z,C,E,M);T=D(da);var ra=O(da);if(null==ra)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(ra);ra=O(ra);if(null==ra)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=ra;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.ba?(c=U(c,U(d,e)),d=b.$,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.ba(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.ba){var c=a.$,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.ba(b)}b=J(b);return null==b?a.N?a.N():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.ba){b=U(b,c);var d=a.$;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.ba(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.ba?(b=U(b,U(c,U(d,e))),c=a.$,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.ba(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.ba?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.$,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.ba(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.F&64||u===a.ub))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof qa||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.gd=a;this.F=393216;this.P=0},ta.prototype.ka=function(a,b){return new ta(b)},ta.prototype.ha=function(){return this.gd},ta.prototype.pa=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Ib=!0,ta.nb="cljs.core/t_cljs$core20121",ta.Ub=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Cb=Vd;this._next=a}Xd.prototype.pa=function(){this.Cb===Vd?(this.Cb=Wd,this._next=J(this._next)):this.Cb===this._next&&(this._next=O(this.Cb));return null!=this._next};Xd.prototype.next=function(){if(this.pa())return this.Cb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.$a(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ua=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=ae.prototype;
g.fa=function(a,b){return this===b};g.fb=function(){return this.state};g.ha=function(){return this.meta};g.oc=function(a,b){for(var c=J(this.ua),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ua=W.D(this.ua,b,c);return this};
g.Tb=function(a,b){return this.ua=Oc.B(this.ua,b)};g.ga=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ua&&a.oc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.D(arguments[0],arguments[1],arguments[2]);case 4:return ce.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.D=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.T=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.K=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};ce.$=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.D(arguments[0],arguments[1],arguments[2]);case 4:return de.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.N?b.N():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.$=2;k.ba=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.K=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.K(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ba=h.ba;f.N=e;f.j=d;f.B=c;f.K=h.K;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.$a(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.D=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.D(a,kc(d),kc(e)))}else d=null;return d},null)};de.T=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,de.T(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.K=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.K(e,d,Ic([c,b]))))};de.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};de.$=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.D(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.meta=a;this.count=b;this.R=c;this.next=d;this.O=null;this.F=32374988;this.P=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:null:this.next};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.R,this.R):b.call(null,this.R,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=1,c=this.R;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};
g.ra=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.R):b.call(null,c,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};g.wa=function(){return this.R};g.xa=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:lc:this.next};g.ja=function(){return this};
g.ka=function(a,b){return b===this.meta?this:new he(b,this.count,this.R,this.next)};g.oa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.N();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.N=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.P&4||u===a.Rc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.D=function(a,b,c){if(null!=a&&(a.P&4||u===a.Rc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.$=3;
function je(a,b,c){var d=W.D,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.D,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.da=a;this.C=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.da,Ea(a.C))}
function oe(a){a=a.G;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.C[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=qe.T?qe.T(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.C[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function te(a,b){return 0<=b&&b<a.G?se(a,b):re(b,a.G)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=ue.aa?ue.aa(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.C[k]=a}return h},ve=function ve(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=ve.D?ve.D(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.C[e]=a;return c}if(0===e)return null;c=ne(c);c.C[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
we.prototype.pa=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.C=se(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.N?b.N():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.O=f;this.F=167666463;this.P=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.G?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fc=u;g.ea=function(a,b){return te(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?se(this,b)[b&31]:c};
g.mb=function(a,b,c){if(0<=b&&b<this.G)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.oa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.G),"]"].join(""));};g.Qa=function(){return xe(this,0,this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};
g.vb=function(){return 0<this.G?this.ea(null,this.G-1):null};g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return pb(Kc,this.meta);if(1<this.G-oe(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.G-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===R(b))for(a=this.Qa(null),b=b.Qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.sb=function(){return new Be(this.G,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.ma=function(){return pb(Kc,this.meta)};g.qa=function(a,b){return ye(this,b,0,this.G)};
g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.G:!1};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.O)};
g.oa=function(a,b){if(32>this.G-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.C[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.C[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ea(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.K(c)};Le.K=function(a){return a instanceof K&&0===a.i?Ge(a.C,!Ba(a.C)):He(a)};Le.$=0;Le.ba=function(a){return this.K(J(a))};
function Me(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.O=null;this.F=32375020;this.P=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.vc()};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return ye(this.Ba,b,this.i+this.off,R(this.Ba))};g.ra=function(a,b,c){return ze(this.Ba,b,c,this.i+this.off,R(this.Ba))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Rb(null)};g.ja=function(){return this};
g.hc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.ka=function(a,b){return b===this.meta?this:Ne?Ne(this.Ba,this.node,this.i,this.off,b):Fe.call(null,this.Ba,this.node,this.i,this.off,b)};g.oa=function(a,b){return U(b,this)};
g.vc=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.O=e;this.F=167666463;this.P=139264}g=Oe.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.mb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.la(null)),"]"].join(""));b=this.meta;c=W.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.aa?Pe.aa(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Qa=function(){return null!=this.v&&u===this.v.fc?xe(this.v,this.start,this.end):new Xd(this)};g.ha=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(Kc,this.meta)};
g.qa=function(a,b){return null!=this.v&&u===this.v.fc?ye(this.v,b,this.start,this.end):xc(this,b)};g.ra=function(a,b,c){return null!=this.v&&u===this.v.fc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};
g.ja=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};g.ka=function(a,b){return b===this.meta?this:Pe.aa?Pe.aa(b,this.v,this.start,this.end,this.O):Pe.call(null,b,this.v,this.start,this.end,this.O)};g.oa=function(a,b){a=this.meta;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};
function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.da?b:new le(a,Ea(b.C))}function Ce(a){return new le({},Ea(a.C))}
function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.da,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Re.T?Re.T(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.da,b-5,d)}c.C[f]=a;return c};function Be(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Be.prototype;
g.yb=function(a,b){if(this.root.da){if(32>this.G-oe(this))this.tail[this.G&31]=b;else{a=new le(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.da,this.shift,a),this.root=new le(this.root.da,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Hb=function(){if(this.root.da){this.root.da=null;var a=this.G-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.da){if(0<=b&&b<a.G){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.da,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.da)return this.G;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.da)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ea(null,b):c};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Te(){this.F=2097152;this.P=0}Te.prototype.fa=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd(Zc(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.F&1048576||u===a.vd||(a.F?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.D(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.D(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.jb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].jb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.R=b;this.O=null;this.F=166619935;this.P=0}g=Ae.prototype;g.tb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.R);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.Aa(null,b,null)};g.ca=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.R;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.R:c};g.mb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.R],null)).mb(null,b,c)};g.ha=function(){return null};g.la=function(){return 2};g.Xc=function(){return this.key};g.Yc=function(){return this.R};g.vb=function(){return this.R};g.wb=function(){return new Y(null,1,5,Z,[this.key],null)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return null};
g.qa=function(a,b){return xc(this,b)};g.ra=function(a,b,c){return yc(this,b,c)};g.ab=function(a,b,c){return W.D(new Y(null,2,5,Z,[this.key,this.R],null),b,c)};g.lb=function(a,b){return 0===b||1===b};g.ja=function(){return new K([this.key,this.R],0,null)};g.ka=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.R],null),b)};g.oa=function(a,b){return new Y(null,3,5,Z,[this.key,this.R,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function Ie(a){return null!=a?a.F&2048||u===a.yd?!0:!1:!1}function Ze(a,b,c){this.C=a;this.i=b;this.Ya=c;this.F=32374990;this.P=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):null};g.la=function(){return(this.C.length-this.i)/2};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return new Ae(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Ze(this.C,this.i,b)};g.oa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.C=a;this.i=0;this.G=b}$e.prototype.pa=function(){return this.i<this.G};$e.prototype.next=function(){var a=new Ae(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.O=d;this.F=16647951;this.P=139268}g=v.prototype;g.tb=function(a,b){a=Ye(this.C,b);return-1===a?null:new Ae(this.C[a],this.C[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};
g.ca=function(a,b,c){a=Ye(this.C,b);return-1===a?c:this.C[a+1]};g.Db=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Qa=function(){return new $e(this.C,2*this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=rc(this)};
g.fa=function(a,b){if(Zc(b)&&!ad(b))if(a=this.C.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.ca(null,this.C[c],ed);if(d!==ed)if(P.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new cf(this.C.length,Ea(this.C))};g.ma=function(){return pb(Td,this.meta)};g.qa=function(a,b){return ld(this,b)};g.ra=function(a,b,c){return md(this,b,c)};
g.jc=function(a,b){if(0<=Ye(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.ma(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);P.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.ab=function(a,b,c){a=Ye(this.C,b);if(-1===a){if(this.G<df){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=Ea(this.C);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.lb=function(a,b){return-1!==Ye(this.C,b)};g.ja=function(){var a=this.C;return 0<=a.length-2?new Ze(a,0,null):null};
g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.C,this.O)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ra===b.Ra?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.zb={};this.pb=a;this.C=b;this.F=259;this.P=56}g=cf.prototype;g.la=function(){if(this.zb)return td(this.pb);throw Error("count after persistent!");};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.zb)return a=Ye(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.zb){if(Ie(b))return this.xb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.xb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Hb=function(){if(this.zb)return this.zb=!1,new v(null,td(this.pb),this.C,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.zb){a=Ye(this.C,b);if(-1===a){if(this.pb+2<=2*df)return this.pb+=2,this.C.push(b),this.C.push(c),this;a=kf.B?kf.B(this.pb,this.C):kf.call(null,this.pb,this.C);return Kb(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ca(null,a,null)};g.B=function(a,b){return this.ca(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.R=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.ob(b);a.C[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Mb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.C=a;this.i=0;this.Wa=this.Nb=null}qf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Nb=new Ae(b,c):null!=c?(b=Ub(c),b=b.pa()?this.Wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.pa=function(){var a=null!=this.Nb;return a?a:(a=null!=this.Wa)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Nb){var a=this.Nb;this.Nb=null;return a}if(null!=this.Wa)return a=this.Wa.next(),this.Wa.pa()||(this.Wa=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.da=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=rf.prototype;
g.ob=function(a){if(a===this.da)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.C,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};g.hb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.hb(a+5,b,c,d):ff(c,e)?f:d};
g.Ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.C.length){a=this.ob(a);b=a.C;f.R=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?uf.Ua(a,b+5,ec(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.C,2*k,b,2*(k+1),2*(l-k));f.R=!0;a=this.ob(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ua(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.R=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.ob(a);a.C[e]=null;a.C[k]=d;return a};
g.Ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?uf.Ta(a+5,ec(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.C,2*h,a,2*(h+1),2*(k-h));e.R=!0;return new rf(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Ta(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,d));e.R=!0;e=this.bitmap;k=this.C;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Jb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Jb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Lb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Lb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.C,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e)):this};g.Qa=function(){return new qf(this.C)};var uf=new rf(null,0,[]);function zf(a){this.C=a;this.i=0;this.Wa=null}
zf.prototype.pa=function(){for(var a=this.C.length;;){if(null!=this.Wa&&this.Wa.pa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Wa=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.pa())return this.Wa.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.da=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=vf.prototype;g.ob=function(a){return a===this.da?this:new vf(a,this.G,Ea(this.C))};
g.Kb=function(){return Af?Af(this.C):Bf.call(null,this.C)};g.Mb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Mb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.hb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.hb(a+5,b,c,d):d};g.Ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=of(this,a,h,uf.Ua(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ua(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new vf(null,this.G+1,mf(this.C,f,uf.Ta(a+5,b,c,d,e)));a=h.Ta(a+5,b,c,d,e);return a===h?this:new vf(null,this.G,mf(this.C,f,a))};g.Jb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Jb(a+5,b,c,d):d};
g.Lb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Lb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.G-1,mf(this.C,d,a));else d=new vf(null,this.G,mf(this.C,d,a));return d}return this};g.Qa=function(){return new zf(this.C)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.da=a;this.bb=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Df.prototype;g.ob=function(a){if(a===this.da)return this;var b=Array(2*(this.G+1));dd(this.C,0,b,0,2*this.G);return new Df(a,this.bb,this.G,b)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};
g.hb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?this.C[a+1]:d};
g.Ua=function(a,b,c,d,e,f){if(c===this.bb){b=Cf(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.C[b]=d,a.C[c]=e,f.R=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);dd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.R=!0;d=this.G+1;a===this.da?(this.C=b,this.G=d,a=this):a=new Df(this.da,this.bb,d,b);return a}return this.C[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ua(a,b,c,d,e,f)};
g.Ta=function(a,b,c,d,e){return b===this.bb?(a=Cf(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),dd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.R=!0,new Df(null,this.bb,this.G+1,b)):P.B(this.C[a+1],d)?this:new Df(null,this.bb,this.G,mf(this.C,a+1,d))):(new rf(null,1<<(this.bb>>>a&31),[null,this])).Ta(a,b,c,d,e)};g.Jb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?new Ae(this.C[a],this.C[a+1]):d};
g.Lb=function(a,b,c){a=Cf(this.C,this.G,c);return-1===a?this:1===this.G?null:new Df(null,this.bb,this.G-1,nf(this.C,td(a)))};g.Qa=function(){return new qf(this.C)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Ta(a,h,b,c,k).Ta(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ua(a,b,k,c,d,l).Ua(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.O=e;this.F=32374988;this.P=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Ef(b,this.nodes,this.i,this.s,this.O)};g.oa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Kb(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.O=e;this.F=32374988;this.P=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return N(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Gf(b,this.nodes,this.i,this.s,this.O)};g.oa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Kb(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.ta=a;this.Lc=b;this.seen=!1}
If.prototype.pa=function(){return!this.seen||this.Lc.pa()};If.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Ae(null,this.ta)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.sa=d;this.ta=e;this.O=f;this.F=16123663;this.P=139268}g=Jf.prototype;g.tb=function(a,b){return null==b?this.sa?new Ae(null,this.ta):null:null==this.root?null:this.root.Jb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.Db=function(a,b,c){a=this.sa?b.D?b.D(c,null,this.ta):b.call(null,c,null,this.ta):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Mb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Qa=function(){var a=this.root?Ub(this.root):Ud();return this.sa?new If(this.ta,a):a};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=rc(this)};g.fa=function(a,b){return Ve(this,b)};g.sb=function(){return new Kf(this.root,this.G,this.sa,this.ta)};
g.ma=function(){return pb(ef,this.meta)};g.jc=function(a,b){if(null==b)return this.sa?new Jf(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Lb(0,ec(b),b);return a===this.root?this:new Jf(this.meta,this.G-1,a,this.sa,this.ta,null)};
g.ab=function(a,b,c){if(null==b)return this.sa&&c===this.ta?this:new Jf(this.meta,this.sa?this.G:this.G+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Ta(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.meta,a.R?this.G+1:this.G,b,this.sa,this.ta,null)};g.lb=function(a,b){return null==b?this.sa:null==this.root?!1:this.root.hb(0,ec(b),b,ed)!==ed};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Kb():null;return this.sa?U(new Ae(null,this.ta),a):a}return null};
g.ka=function(a,b){return b===this.meta?this:new Jf(b,this.G,this.root,this.sa,this.ta,this.O)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.da={};this.root=a;this.count=b;this.sa=c;this.ta=d;this.F=259;this.P=56}function Lf(a,b,c){if(a.da){if(null==b)a.ta!==c&&(a.ta=c),a.sa||(a.count+=1,a.sa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ua(a.da,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.R&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.la=function(){if(this.da)return this.count;throw Error("count after persistent!");};
g.ya=function(a,b){return null==b?this.sa?this.ta:null:null==this.root?null:this.root.hb(0,ec(b),b)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.yb=function(a,b){a:if(this.da)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Hb=function(){if(this.da){this.da=null;var a=new Jf(null,this.count,this.root,this.sa,this.ta,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Mf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Mf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).key};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Mf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Mf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Mf.prototype[Da]=function(){return nc(this)};
function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Nf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).R};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Nf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Nf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Nf.prototype[Da]=function(){return nc(this)};
function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.K(c)};Of.K=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.$=0;Of.ba=function(a){return this.K(J(a))};function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.D(a,d,Rf);b=P.B(e,Rf)?b:W.D(b,d,e);c=O(c)}else return pb(b,Tc(a))}
function Sf(a){this.Ab=a}Sf.prototype.pa=function(){return this.Ab.pa()};Sf.prototype.next=function(){if(this.Ab.pa())return this.Ab.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.meta=a;this.cb=b;this.O=c;this.F=15077647;this.P=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};
g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){a=cb(this.cb,b);return x(a)?fb(a):c};g.Qa=function(){return new Sf(Ub(this.cb))};g.ha=function(){return this.meta};
g.la=function(){return Ma(this.cb)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=rc(this)};g.fa=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.sb=function(){return new Uf(Hb(this.cb))};g.ma=function(){return pb(Vf,this.meta)};g.zc=function(a,b){return new Tf(this.meta,eb(this.cb,b),null)};g.ja=function(){return af(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Tf(b,this.cb,this.O)};g.oa=function(a,b){return new Tf(this.meta,W.D(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};
var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.qb=a;this.P=136;this.F=259}g=Uf.prototype;g.yb=function(a,b){this.qb=Kb(this.qb,b,null);return this};g.Hb=function(){return new Tf(null,Jb(this.qb),null)};g.la=function(){return R(this.qb)};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return Ya(this.qb,b,ed)===ed?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.qb,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.qb,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Eb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.F&131072||u===b.Zc?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.D?eg.D(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Ib)return a.Ub(b);if(null!=a?a.F&2147483648||u===a.na||(a.F?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.T?fg.T(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.nb}()))return $f(b,Ic(["#object[",a.constructor.nb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.D(c,hg,dg),d.D?d.D(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ea(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Sc)?a.ma(null):(null!=a?a.F&4||u===a.Sc||(a.F?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.D(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.D(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=Zc(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.na=u;K.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.na=u;zd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.na=u;Ae.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.na=u;Ef.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.na=u;Ze.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.na=u;oc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.na=u;Me.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.na=u;
wd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.na=u;Jf.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.na=u;Gf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.na=u;Oe.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.na=u;Tf.prototype.ia=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.na=u;Dd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.na=u;ae.prototype.ia=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.na=u;Nf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.na=u;he.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.na=u;Y.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.na=u;vd.prototype.ia=function(a,b){return G(b,"()")};v.prototype.na=u;
v.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.na=u;Mf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.na=u;Lc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Tc||(a.Bc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.K(arguments[0],c)};
sg.K=function(a,b){b=Sd(b);var c=H.D(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Tc||(f.Bc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if(Zc(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.$=1;sg.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.T(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.za?Eg.za(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.J=b;this.fd=k;this.Xb=c;this.Zb=d;this.md=e;this.Yb=f;this.Qb=h;this.F=4194305;this.P=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.N=function(){var a=this.J.N?this.J.N():this.J.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.N?b.N():b.call(null)};g.j=function(a){var b=this.J.j?this.J.j(a):this.J.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.J.B?this.J.B(a,b):this.J.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.aa=function(a,b,c,d,e){var f=this.J.aa?this.J.aa(a,b,c,d,e):this.J.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.aa?h.aa(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){var h=this.J.Na?this.J.Na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Na?k.Na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Oa=function(a,b,c,d,e,f,h){var k=this.J.Oa?this.J.Oa(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Oa?l.Oa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){var l=this.J.za?this.J.za(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.za?m.za(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){var m=this.J.Pa?this.J.Pa(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Pa?n.Pa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){var n=this.J.Ca?this.J.Ca(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ca?p.Ca(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Da=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.J.Da?this.J.Da(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Da?q.Da(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.J.Ea?this.J.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ea?r.Ea(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.J.Fa?this.J.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Fa?w.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.J.Ga?this.J.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ga?z.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.J.Ha?this.J.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.Ha?C.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.J.Ia?this.J.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ia?E.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.J.Ja?this.J.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Ja?M.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.J.Ka?this.J.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Ka?T.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.J.La?this.J.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.La?da.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.J.Ma?this.J.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),ra=Ig(this,da);x(ra)||Fg(this.name,da);return ra.Ma?ra.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):ra.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var ra=Rd(this.J,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),$c=Ig(this,ra);x($c)||Fg(this.name,ra);return Rd($c,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.T(c.Zb,W,a,b);Bg(c.Yb,c.Zb,c.Qb,c.Xb)}function Ig(a,b){P.B(F(a.Qb),F(a.Xb))||Bg(a.Yb,a.Zb,a.Qb,a.Xb);var c=F(a.Yb);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.Xb,a.Zb,a.md,a.Yb,a.Qb,a.fd)}g.Eb=function(){return Ob(this.name)};g.Fb=function(){return Pb(this.name)};
g.ga=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"layer","layer",-1601820589),Sg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",
1499536964),Tg=new I(null,"displayName","displayName",-809144601),Ug=new I(null,"on-dispose","on-dispose",2105306360),Vg=new I(null,"data","data",-232669377),Wg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Xg=new I(null,"sigma","sigma",-63715703),Yg=new I(null,"spec","spec",347520401),Zg=new I(null,"aggregate","aggregate",1511468442),$g=new I(null,"constructor","constructor",-1953928811),ah=new I(null,"div.column","div.column",-1380853326),bh=new I(null,"actions","actions",
-812656882),ch=new I(null,"childContextTypes","childContextTypes",578717991),dh=new I(null,"transform","transform",1381301764),eh=new I(null,"field","field",-1302436500),fh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),gh=new I(null,"running","running",1554969103),hh=new I(null,"class","class",-2030961996),ih=new I(null,"description","description",-1428560544),jh=new I(null,"title","title",636505583),kh=new I(null,"on-click","on-click",1632826543),lh=new I(null,
"cljsLegacyRender","cljsLegacyRender",-1527295613),mh=new I(null,"color","color",1011675173),nh=new I(null,"stack","stack",-793405930),oh=new I(null,"as","as",1148689641),ph=new I(null,"reagentRender","reagentRender",-358306383),qh=new I(null,"name","name",1843675177),rh=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),sh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,
"default","default",-1987822328),th=new I("skier","joins-queue","skier/joins-queue",-1286647213),uh=new I(null,"no-cache","no-cache",1588056370),vh=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),wh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),xh=new I("lift","leaves","lift/leaves",-2138482165),yh=new I(null,"component-did-update","component-did-update",
-1468549173),zh=new I("sim","end-time","sim/end-time",-1849965709),Ah=new I(null,"reagent-render","reagent-render",-985383853),Bh=new I(null,"encoding","encoding",1728578272),Ch=new I(null,"function-components","function-components",1492814963),Dh=new I(null,"hierarchy","hierarchy",-1053470341),Eh=new I(null,"on-write","on-write",31519475),Fh=new I("skiers","skiing","skiers/skiing",-957605270),Gh=new I(null,"key","key",-1516042587),Hh=new I(null,"zero","zero",-858964576),Ih=new I("lift","ride-time",
"lift/ride-time",78775400),Jh=new I(null,"y","y",-1757859776),Kh=new I(null,"x","x",2099068185),Lh=new I(null,"t","t",-1397832519),Mh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Nh=new I(null,"scale","scale",-230427353),Oh=new I(null,"contextType","contextType",1033066077),Ph=new I("skiers","waiting","skiers/waiting",1070582748),Qh=new I(null,"mark","mark",-373816345),Rh=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Sh=new I(null,"getDerivedStateFromProps",
"getDerivedStateFromProps",-991834739),Th=new I(null,"validator","validator",-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Uh=new I(null,"display-name","display-name",694513143),Vh=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Wh=new I("slope","length","slope/length",1017254753),Xh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Yh=new I(null,"contextTypes","contextTypes",-2023853910),
tg=new I(null,"keyword-fn","keyword-fn",-64566675),Zh=new I(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),$h=new I(null,"unit","unit",375175175),ai=new I(null,"id","id",-1388402092),bi=new I(null,"$schema","$schema",1635092088),ci=new I(null,"component-will-unmount","component-will-unmount",-2058314698),di=new I("lift","chair-width","lift/chair-width",1126373462),ei=new I(null,"results","results",-1134170113),fi=new I(null,"className","className",-1983287057),gi=new I(null,"h1.title",
"h1.title",-2139952071),hi=new I("lift","chair-period","lift/chair-period",169813739),ii=new I(null,"events","events",1792552201),ji=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ki=new I(null,"parse-tag","parse-tag",1427313738),li=new I(null,"type","type",1174270348),mi=new I("skiers","speed","skiers/speed",88597428),ni=new I(null,"callback","callback",-705136228),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var oi={},pi;function qi(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var ri=aa.navigator||null;ri&&(ri.appVersion||"").indexOf("X11");oa("Android");qi();oa("iPad");oa("iPod");qi()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof qa||"undefined"===typeof sa||"undefined"===typeof oi||"undefined"===typeof pi)pi=function(b,c,d){this.f=b;this.Nc=c;this.hd=d;this.F=393216;this.P=0},pi.prototype.ka=function(b,c){return new pi(this.f,this.Nc,c)},pi.prototype.ha=function(){return this.hd},pi.Ib=!0,pi.nb="cljs.core.async/t_cljs$core$async23426",pi.Ub=function(b){return G(b,"cljs.core.async/t_cljs$core$async23426")};return new pi(a,!0,Td)})(function(){return null});var si={},ti={},ui=[];function vi(a,b){var c=ti[a];if(void 0!==c)return c;try{ui.push(a);var d=si[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};si[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,vi,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ui.pop()}return d.exports}vi.cache={};vi.resolve=function(a){return a};var wi=vi(2,{});function xi(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function yi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}()}
function zi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?xi(a,b,c):xi(a,b,yi(c));throw["Invalid match arg: ",B.j(b)].join("");}function Ai(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function Bi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var Ci={};var Di={},Ei="undefined"!==typeof window&&null!=window.document,Fi=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Gi(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Hi(a){if("string"===typeof a)return a;a=X(a);var b=Bi(a),c=J(b);b=N(c);c=O(c);return x(Fi.j?Fi.j(b):Fi.call(null,b))?a:Pd(B,b,de.B(Gi,c))}
function Ii(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.P&4096||u===a.xc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return Zc(c)?qh.j(c):null}();return x(b)?zi(B.j(b),"$","."):null}function Ji(a){return a instanceof I||a instanceof gc}
var Ki=function Ki(a){switch(arguments.length){case 0:return Ki.N();case 1:return Ki.j(arguments[0]);case 2:return Ki.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Ki.K(arguments[0],arguments[1],c)}};Ki.N=function(){return null};Ki.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Ji(b)?X(b):b:null},a),J(a)?Ai(a):null):Ji(a)?X(a):a};
Ki.B=function(a,b){return x(a)?x(b)?[B.j(Ki.j(a))," ",B.j(Ki.j(b))].join(""):Ki.j(a):Ki.j(b)};Ki.K=function(a,b,c){return Ga(Ki,Ki.B(a,b),c)};Ki.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Ki.$=2;var Li=!1;function Mi(a){if(Zc(a))try{var b=H.B(a,Gh)}catch(c){b=null}else b=null;return b}
function Ni(a){var b=Gh.j(Tc(a));if(x(b))return b;b=Mi(V(a,1,null));if(x(b))return b;b=V(a,0,null);switch(b instanceof I?b.Ra:null){case "\x3e":case "f\x3e":return Mi(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return null}};var Oi=0;function Pi(a){return setTimeout(a,16)}var Qi=Ei?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Pi}().bind(a)}():Pi;function Ri(a,b){return a.qc-b.qc}function Si(){return null}function Ti(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.N?d.N():d.call(null);c+=1}else return null}
function Ui(a,b,c){b.push(c);return a.schedule()}function Vi(){this.ac=!1}g=Vi.prototype;g.flush_after_render=function(){var a=this.Ob;if(null==a)return null;this.Ob=null;return Ti(a)};g.queue_render=function(a){null==this.Wb&&(this.Wb=[]);return Ui(this,this.Wb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ac)return null;this.ac=!0;return Qi.j?Qi.j(a):Qi.call(null,a)};g.flush_before_flush=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return Ti(a)};
g.flush_queues=function(){this.flush_before_flush();Si();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ac=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Pb&&(this.Pb=[]);return Ui(this,this.Pb,a)};g.add_after_render=function(a){null==this.Ob&&(this.Ob=[]);return Ui(this,this.Ob,a)};
g.flush_render=function(){var a=this.Wb;if(null==a)return null;this.Wb=null;a:{a.sort(Ri);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Wi=new Vi;function Xi(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Wi.queue_render(a)};function Yi(a){if(null!=a&&null!=a.nd)a=a.id;else{var b=Yi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Yi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Zi(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=Zi[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Zi._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function $i(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=$i[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=$i._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function aj(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=aj[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=aj._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var bj=function bj(a){switch(arguments.length){case 1:return bj.j(arguments[0]);case 2:return bj.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return bj.K(arguments[0],arguments[1],c)}};bj.j=function(a){return a};bj.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};bj.K=function(a,b,c){return Ga(bj,a,Jc.B(c,b))};
bj.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};bj.$=2;var cj;function dj(a,b){b.dc=null;a:{var c=cj;cj=b;try{var d=a.N?a.N():a.call(null);break a}finally{cj=c}d=void 0}a=b.dc;b.gb=!1;a:{c=b.rb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function ej(a){var b=cj;if(null!=b){var c=b.dc;null==c?b.dc=[a]:c.push(a)}}function fj(a,b,c){a.ua=W.D(a.ua,b,c);return a.tc=null}
function gj(a,b){a.ua=Oc.B(a.ua,b);return a.tc=null}function hj(a,b,c){var d=a.tc;d=null==d?a.tc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ua):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function ij(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=cj;cj=null;try{var e=d;break a}finally{cj=c}e=void 0}eg(e,a,b);return G(a,"]")}var jj=null;
function kj(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ua=d;this.F=2154201088;this.P=114690}g=kj.prototype;g.ia=function(a,b,c){return ij(b,c,"RAtom",new v(null,1,[mg,this.fb(null)],null))};g.ha=function(){return this.meta};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};g.Sa=function(a,b){a=this.state;this.state=b;null!=this.ua&&hj(this,a,b);return b};g.kc=function(a,b){return this.Sa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.lc=function(a,b,c){return this.Sa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.mc=function(a,b,c,d){return this.Sa(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this.state,c,d,e))};g.oc=function(a,b){hj(this,a,b)};g.Sb=function(a,b,c){return fj(this,b,c)};g.Tb=function(a,b){return gj(this,b)};g.ka=function(a,b){return new kj(this.state,b,this.validator,this.ua)};g.fb=function(){ej(this);return this.state};
var lj=function lj(a){switch(arguments.length){case 1:return lj.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return lj.K(arguments[0],c)}};lj.j=function(a){return new kj(a,null,null,null)};lj.K=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Th);return new kj(a,b,c,null)};lj.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};lj.$=1;
function mj(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=mj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=mj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function nj(a){this.f=a;this.state=null;this.gb=!0;this.Fc=!1;this.ec=this.Za=this.ua=this.rb=null;this.F=2153807872;this.P=114690}g=nj.prototype;g._peek_at=function(){var a=cj;cj=null;try{return this.fb(null)}finally{cj=a}};
g._handle_change=function(a,b,c){return b===c||this.gb?null:null==this.Za?(this.gb=!0,null==jj&&(jj=[],!1===Wi.ac&&Wi.schedule()),jj.push(this)):!0===this.Za?this._run(!1):this.Za.j?this.Za.j(this):this.Za.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.rb);this.rb=a;a=J(bj.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(bj.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.gb&&null!=this.rb?this._run(!0):null};g._try_capture=function(a){try{return this.ec=null,dj(a,this)}catch(b){return this.ec=this.state=a=b,this.gb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):dj(this.f,this);this.Fc||(this.state=a,null==this.ua||P.B(b,a)||hj(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Sg);var c=H.B(b,sh),d=H.B(b,Ug);b=H.B(b,uh);null!=a&&(this.Za=a);null!=c&&(this.kd=c);null!=d&&(this.Gc=d);return null!=b?this.Fc=b:null};g.ia=function(a,b,c){return ij(b,c,"Reaction",new v(null,1,[mg,this.fb(null)],null))};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.rb;this.Za=this.state=this.rb=null;this.gb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Gc&&this.Gc(a);a=this.Cd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Sa=function(a,b){a=this.state;this.state=b;this.kd(a,b);hj(this,a,b);return b};
g.kc=function(a,b){a=this.Sa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.lc=function(a,b,c){a=this.Sa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.mc=function(a,b,c,d){a=this.Sa;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this._peek_at(),c,d,e))};g.oc=function(a,b){hj(this,a,b)};g.Sb=function(a,b,c){return fj(this,b,c)};
g.Tb=function(a,b){a=Vc(this.ua);gj(this,b);return!a&&Vc(this.ua)&&null==this.Za?this.sc(null):null};g.fb=function(){var a=this.ec;if(null!=a)throw a;(a=null==cj)&&(oj.N?oj.N():oj.call(null));a&&null==this.Za?this.gb&&(a=this.state,this.state=this.f.N?this.f.N():this.f.call(null),null==this.ua||P.B(a,this.state)||hj(this,a,this.state)):(ej(this),this.gb&&this._run(!1));return this.state};
function oj(){for(;;){var a=jj;if(null==a)return null;jj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Si=oj;function pj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Sg);d=H.B(e,sh);e=H.B(e,Ug);b=new nj(b);b._set_opts(new v(null,3,[Sg,c,sh,d,Ug,e],null));return b}var qj=pj(null);
function rj(a,b){var c=sj,d=qj,e=dj(a,d);null!=d.rb&&(qj=pj(null),d._set_opts(c),d.f=a,d.Za=function(){return Xi.j?Xi.j(b):Xi.call(null,b)},b.cljsRatom=d);return e};var tj;function uj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.D(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function vj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.ib);return b}
function wj(a,b){for(;;){var c=a.ib,d=!0===a.bd?c.call(a,a):function(){var e=uj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return $i(b,d);if(gd(d))d=vj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return $i(f,Pd(Le,l,p))}m.$=0;m.ba=function(p){p=J(p);return n(p)};m.K=n;return m}()}(a,b,c,null,d):d,a.ib=d;else return d}}var sj=new v(null,1,[uh,!0],null);
function xj(a,b){switch(a instanceof I?a.Ra:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=Zc(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.dd;d=null!=d?d:c.dd=lj.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,uj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,uj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,uj(this,c))};case "shouldComponentUpdate":return function(c){var d=Li;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,uj(this,this.props),uj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,uj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,uj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,uj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&mj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var yj=new v(null,2,[Zh,null,Mh,null],null),zj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.T(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=zi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=Bi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Gi,b))});function Aj(a){return od(function(b,c,d){return W.D(b,yd.j(zj(c)),d)},Td,a)}
function Bj(a,b){var c=function(){var h=ph.j(a);return x(h)?h:Og.j(a)}(),d=null==ph.j(a),e=function(){var h=Tg.j(a);if(x(h))return h;h=Ii(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.D,n=xj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.K(f,Tg,e,Ic([lh,d,ph,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?rj(function(){a:{var l=tj;tj=h;try{var m=wj(h,b);break a}finally{tj=l}m=void 0}return m},h):k._run(!1)}]))}
function Cj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Dj(a,b){return Bj(Of.K(Ic([yj,Aj(a)])),b)}var Qf=new Y(null,5,5,Z,[ch,Yh,Oh,Sh,Wg],null);
function Ej(a,b){function c(k,l,m){wi.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.qc=Oi+=1;return this}a=Dj(a,b);b=Cj(Rd(Oc,a,Tg,rh,$g,Ic([Og,ph,Qf])));var d=Cj(Pf(a)),e=Tg.j(a),f=rh.j(a),h=$g.j(a);ka(c.prototype,wi.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(ph.j(a))&&(c.prototype.ib=ph.j(a));x(lh.j(a))&&(c.prototype.bd=lh.j(a));ka(c,wi.Component,d);x(e)&&(c.displayName=e,c.nb=e,c.Ub=function(k){return G(k,
e)});c.Ib=!0;return c.prototype.constructor=c}function Fj(a,b,c){a=Yi(a);return b[a]=c}
function Gj(a,b){for(;;){var c=b.ib,d=b.argv,e=Od(c,d);if(bd(e))return $i(a,e);if(gd(e))c=vj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return $i(f,Pd(Le,n,r))}p.$=0;p.ba=function(r){r=J(r);return q(r)};p.K=q;return p}()}(a,b,c,null,d,e):e,b.ib=c;else return e}}
function Hj(a,b){var c=b.argv,d=b.ib;b=wi.useState(0);V(b,0,null);var e=V(b,1,null),f=wi.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.qc=Oi+=1;k.constructor=d;k.ib=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");wi.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:mj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?rj(function(){a:{var k=tj;tj=h;try{var l=Gj(a,h);break a}finally{tj=k}l=void 0}return l},
h):b._run(!1)}function Ij(a,b){a=a.argv;b=b.argv;var c=!1===Li;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Jj(a,b){function c(e){return Hj(a,e)}var d=ia(b,Yi(a));if(x(d))return d;c.displayName=Ii(b);d=wi.memo(c,Ij);Fj(a,b,d);return d};var Kj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function Lj(a,b,c,d){var e=Sd(Td);e=H.B(e,Eh);if(a===document.activeElement&&id(Kj,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(!P.B(f,c))return Wi.add_after_render(function(){return Mj.j?Mj.j(d):Mj.call(null,d)});c=R(f)-a.selectionStart;c=R(b)-c;d.Vb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.Vb=b;a.value=b;return Pc(e)?e.j?e.j(b):e.call(null,b):null}
function Mj(a){if(x(a.pc)){a.Cc=!1;var b=a.cd,c=a.Vb,d=a.rc;return P.B(b,c)?null:Lj(d,b,c,a)}return null}function Nj(a,b,c){a.Vb=c.target.value;x(a.Cc)||(a.Cc=!0,Wi.add_after_render(function(){return Mj(a)}));return b.j?b.j(c):b.call(null,c)}
function Oj(a){var b=tj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.pc)||(b.pc=!0,b.Vb=c);x(b.Kc)||(b.Kc=Pc(e)?function(f){b.rc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.rc=f;return e.current=f}:function(f){return b.rc=f});b.cd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Nj(b,d,f)};a.ref=b.Kc}}
var Pj=new v(null,4,[Uh,"ReagentInput",yh,Mj,ci,function(a){return a.pc=null},Ah,function(a,b,c,d,e){Oj(c);return aj(e,a,b,c,d)}],null);var Qj={},Rj,Sj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Tj={"class":"className","for":"htmlFor",charset:"charSet"};function Uj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Vj(a,b,c){if(Ji(b)){var d=Uj(Tj,X(b));null==d?(d=Hi(b),b=X(b),b=Tj[b]=d):b=d}c=Wj.j?Wj.j(c):Wj.call(null,c);a[b]=c;return a}
function Wj(a){return"object"!==t(a)?a:Ji(a)?X(a):Zc(a)?od(Vj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}var Xj={};function Yj(a,b,c){if(Ji(b)){var d=Uj(Xj,X(b));null==d?(d=Hi(b),b=X(b),b=Xj[b]=d):b=d}c=Wj(c);a[b]=c;return a}
function Zj(a){return"object"!==t(a)?a:Ji(a)?X(a):Zc(a)?od(Yj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}
function ak(a,b,c,d,e){switch(R(b)-e){case 0:return wi.createElement(c,d);case 1:return wi.createElement(c,d,$i(a,V(b,e,null)));default:return wi.createElement.apply(null,od(function(f,h,k){h>=e&&f.push($i(a,k));return f},[c,d],b))}}function bk(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ed=d}function ck(a,b,c){var d=ia(a,Yi(c));null==d?vj(a)?a=Fj(c,a,a):(d=Tc(a),d=W.D(d,Ah,a),d=Ej(d,c),a=Fj(c,a,d)):a=d;c={};c.argv=b;b=Ni(b);null!=b&&(c.key=b);return wi.createElement(a,c)}
function dk(a,b,c,d){var e={};e.ib=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ni(b);null!=b&&(e.key=b);return wi.createElement(Jj(d,a),e)}function ek(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ck(a,b,c):dk(a,b,1,c)}var fk={};function gk(a,b){a=Uj(fk,b);if(null==a){var c=O(Xf(Sj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:zi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new bk(a,d,c,e);return fk[b]=a}return a}
function hk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||Zc(f),k=function(){var n=h?f:null;var p=hh.j(n);p=x(p)?W.D(n,hh,Ki.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==ai.j(p)?W.D(p,ai,q):p;if(x(n)){var r=W.D,w=Ki.B,z=hh.j(p);p=x(z)?z:fi.j(p);n=r.call(W,q,hh,w.call(Ki,n,p))}else n=q;n=x(a.ed)?Zj(n):Wj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Mi(f);var m=function(){var n=d.od;if(x(n))return n;n=Ej(Pj,d);return d.od=n}();return $i(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.K(Ic([x(l)?new v(null,1,[Gh,l],null):null,Tc(b)]))))}l=Mi(Tc(b));null!=l&&(k.key=l);return aj(d,b,e,k,c)}function ik(a,b){return Fa(de.B(function(c){return $i(b,c)},a))}
function jk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Ra:null){case "\x3e":return c=V(a,1,null),hk(new bk(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Mi(Tc(a));null!=e&&(d.key=e);return aj(b,a,c,d,3);case "f\x3e":return dk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||Zc(d),d=Wj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ni(a),null!=e&&(d.key=e),aj(b,a,wi.Fragment,d,c);default:if(Ji(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=hk(Zi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.D(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var kk=function(a){var b=og("G__"),c=x(Ch.j(a))?ek:ck,d=H.D(a,ki,gk);if("undefined"===typeof Ci||"undefined"===typeof Di||"undefined"===typeof Qj||"undefined"===typeof Rj)Rj=function(e,f,h,k,l){this.ld=e;this.id=f;this.Dc=h;this.$b=k;this.jd=l;this.F=393216;this.P=0},Rj.prototype.ka=function(e,f){return new Rj(this.ld,this.id,this.Dc,this.$b,f)},Rj.prototype.ha=function(){return this.jd},Rj.prototype.nd=function(){return this.id},Rj.prototype.Jc=function(e,f,h){return this.$b.D?this.$b.D(this,f,h):
this.$b.call(null,this,f,h)},Rj.prototype.Hc=function(e,f){e=this.Dc;return"object"!==t(f)?f:bd(f)?jk(f,this,e):(null==f?0:null!=f?f.F&64||u===f.ub||(f.F?0:y(Ua,f)):y(Ua,f))?ik(f,this):Ji(f)?X(f):(null!=f?f.F&2147483648||u===f.na||(f.F?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Rj.prototype.Ic=function(e,f,h,k,l){return ak(this,f,h,k,l)},Rj.Ib=!0,Rj.nb="reagent.impl.template/t_reagent$impl$template26403",Rj.Ub=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26403")};return new Rj(a,b,
c,d,Td)}(Td);var lk=vi(8,{});var mk=new ae(Td);function nk(a,b,c){var d=Li;Li=!0;try{lk.render(a.N?a.N():a.call(null),b,function(){var e=Li;Li=!1;try{return ce.T(mk,W,b,a),Wi.flush_after_render(),null!=c?c.N?c.N():c.call(null):null}finally{Li=e}})}finally{Li=d}};var ok=vi(83,{});function pk(a,b){this.Ec=a;this.Mc=b}pk.prototype.getKey=function(){return this.Ec};pk.prototype.getValue=function(){return this.Mc};pk.prototype.clone=function(){return new pk(this.Ec,this.Mc)};function qk(a){this.Xa=[];if(a)a:{if(a instanceof qk){var b=a.Xa;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.Xa;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.Xa.length){c=this.Xa;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.Xa;c.push(new pk(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Xa;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.Xa.length};g.clear=function(){la(this.Xa)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Xg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.D(Td,Dh,vg.N?vg.N():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Rh.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(th,function(a){return je(je(a,Fh,sk),Ph,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,mi),d=H.B(a,Wh);b=Sd(b);b=H.B(b,Lh);c=d/tk(c);return ke(je(je(a,ji,sk),Fh,tc),ii,Jc,new v(null,2,[Rh,th,Lh,b+c],null))});Jg(xh,function(a,b){var c=Sd(a),d=H.B(c,Ih),e=H.B(c,di);a=H.B(c,hi);b=Sd(b);b=H.B(b,Lh);var f=Ph.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Ph,sd,e),ji,rd,e);d=new v(null,2,[Rh,Mg,Lh,b+tk(d)],null);return ke(ke(c,ii,ie,ee(e,new he(null,-1,d,null))),ii,Jc,new v(null,2,[Rh,xh,Lh,b+a],null))});var uk;
a:for(var vk=[Wh,ji,Ih,ii,Fh,hi,zh,mi,di,Lh,Ph],wk=[3E3,0,new v(null,2,[Pg,300,Xg,30],null),new Y(null,1,5,Z,[new v(null,2,[Rh,xh,Lh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Xg,1,$h,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,5,[bi,"https://vega.github.io/schema/vega-lite/v5.json",ih,"A simple bar chart with embedded data.",Vg,new v(null,1,[qh,ei],null),dh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Fh,Ph,ji],null),oh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Rg,new Y(null,2,5,Z,[new v(null,2,[Qh,"line",Bh,new v(null,3,[Kh,new v(null,4,[eh,Lh,li,"quantitative",jh,"time",Nh,new v(null,1,[Hh,!1],null)],null),Jh,new v(null,3,[eh,"number-of-skiers",li,"quantitative",jh,"Number of skiers"],
null),mh,new v(null,1,[eh,"state"],null)],null)],null),new v(null,2,[Qh,new v(null,2,[li,"line",mh,"gray"],null),Bh,new v(null,2,[Kh,new v(null,2,[eh,Lh,li,"quantitative"],null),Jh,new v(null,2,[Zg,"sum",eh,"number-of-skiers"],null)],null)],null)],null)],null),Dk=new v(null,6,[bi,"https://vega.github.io/schema/vega-lite/v5.json",ih,"A simple bar chart with embedded data.",Vg,new v(null,1,[qh,ei],null),dh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Fh,Ph,ji],null),oh,new Y(null,2,5,Z,["state",
"number-of-skiers"],null)],null)],null),Qh,"bar",Bh,new v(null,3,[Kh,new v(null,4,[eh,Lh,li,"quantitative",jh,"time",Nh,new v(null,1,[Hh,!1],null)],null),Jh,new v(null,4,[eh,"number-of-skiers",li,"quantitative",nh,"normalize",jh,"Percentage of skiers"],null),mh,new v(null,1,[eh,"state"],null)],null)],null),Ek=lj.j(new v(null,1,[ei,new Y(null,1,5,Z,[uk],null)],null)),Fk=lj.j(new v(null,1,[gh,!0],null));
function Gk(){ce.B(Ek,function(a){var b=W.D,c=Jc.B,d=ei.j(a),e;a:for(e=ei.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=ii.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n);k.enqueue(Lh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Lh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.D;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,ii,n);e=e.B?e.B(f,h):
e.call(null,f,h);e=l.call(W,e,Lh,h.j?h.j(Lh):h.call(null,Lh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ei,He(c))})}function Hk(){return x(gh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[kh,function(){return ce.T(Fk,W,gh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[kh,function(){return ce.T(Fk,W,gh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Vh,new v(null,2,[li,"reset",kh,function(){be(Ek,new v(null,1,[ei,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[gh,!0],null))}],null),"Restart"],null)}
var Jk=new Y(null,1,5,Z,[function(){return new Y(null,4,5,Z,[vh,new Y(null,2,5,Z,[Xh,new Y(null,2,5,Z,[gi,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Xh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Xh,new Y(null,3,5,Z,[wh,new Y(null,2,5,Z,[ah,new Y(null,3,5,Z,[fh,ok.VegaLite,new v(null,3,[Yg,Ck,Vg,F(Ek),bh,!1],null)],null)],null),new Y(null,2,5,Z,[ah,new Y(null,3,5,Z,[fh,ok.VegaLite,new v(null,3,[Yg,Dk,Vg,F(Ek),bh,!1],null)],
null)],null)],null)],null)],null)}],null),Kk=document.getElementById("app");(function(a,b){oj();var c=Pc(kk)?new Y(null,2,5,Z,[kk,kk],null):new Y(null,2,5,Z,[kk,ni.j(kk)],null),d=V(c,0,null);c=V(c,1,null);nk(function(){return $i(d,Pc(a)?a.N?a.N():a.call(null):a)},b,c)})(Jk,Kk);(function Lk(){x(gh.j(F(Fk)))&&Gk();return setTimeout(Lk,100)})();
}).call(this);