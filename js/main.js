var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(Db,ob,zc,Ya){function w(da){if(null===da||"object"!==typeof da)return null;da=ha&&da[ha]||da["@@iterator"];return"function"===typeof da?da:null}function h(da,ia,Ma){this.props=da;this.context=ia;this.refs=Wa;this.updater=Ma||ya}function ka(){}function Za(da,ia,Ma){this.props=da;this.context=ia;this.refs=Wa;this.updater=Ma||ya}function zb(da,ia,Ma){var pa,sa={},m=null,F=null;if(null!=ia)for(pa in void 0!==ia.ref&&(F=ia.ref),void 0!==ia.key&&(m=""+ia.key),ia)cb.call(ia,pa)&&
!Pb.hasOwnProperty(pa)&&(sa[pa]=ia[pa]);var L=arguments.length-2;if(1===L)sa.children=Ma;else if(1<L){for(var u=Array(L),R=0;R<L;R++)u[R]=arguments[R+2];sa.children=u}if(da&&da.defaultProps)for(pa in L=da.defaultProps,L)void 0===sa[pa]&&(sa[pa]=L[pa]);return{$$typeof:$a,type:da,key:m,ref:F,props:sa,_owner:tb.current}}function Vb(da,ia){return{$$typeof:$a,type:da.type,key:ia,ref:da.ref,props:da.props,_owner:da._owner}}function Zb(da){return"object"===typeof da&&null!==da&&da.$$typeof===$a}function Ub(da){var ia=
{"\x3d":"\x3d0",":":"\x3d2"};return"$"+da.replace(/[=:]/g,function(Ma){return ia[Ma]})}function jc(da,ia){return"object"===typeof da&&null!==da&&null!=da.key?Ub(""+da.key):ia.toString(36)}function Bb(da,ia,Ma,pa,sa){var m=typeof da;if("undefined"===m||"boolean"===m)da=null;var F=!1;if(null===da)F=!0;else switch(m){case "string":case "number":F=!0;break;case "object":switch(da.$$typeof){case $a:case vb:F=!0}}if(F)return F=da,sa=sa(F),da=""===pa?"."+jc(F,0):pa,ib(sa)?(Ma="",null!=da&&(Ma=da.replace(gb,
"$\x26/")+"/"),Bb(sa,ia,Ma,"",function(R){return R})):null!=sa&&(Zb(sa)&&(sa=Vb(sa,Ma+(!sa.key||F&&F.key===sa.key?"":(""+sa.key).replace(gb,"$\x26/")+"/")+da)),ia.push(sa)),1;F=0;pa=""===pa?".":pa+":";if(ib(da))for(var L=0;L<da.length;L++){m=da[L];var u=pa+jc(m,L);F+=Bb(m,ia,Ma,u,sa)}else if(u=w(da),"function"===typeof u)for(da=u.call(da),L=0;!(m=da.next()).done;)m=m.value,u=pa+jc(m,L++),F+=Bb(m,ia,Ma,u,sa);else if("object"===m)throw ia=String(da),Error("Objects are not valid as a React child (found: "+
("[object Object]"===ia?"object with keys {"+Object.keys(da).join(", ")+"}":ia)+"). If you meant to render a collection of children, use an array instead.");return F}function Rb(da,ia,Ma){if(null==da)return da;var pa=[],sa=0;Bb(da,pa,"","",function(m){return ia.call(Ma,m,sa++)});return pa}function ec(da){if(-1===da._status){var ia=da._result;ia=ia();ia.then(function(Ma){if(0===da._status||-1===da._status)da._status=1,da._result=Ma},function(Ma){if(0===da._status||-1===da._status)da._status=2,da._result=
Ma});-1===da._status&&(da._status=0,da._result=ia)}if(1===da._status)return da._result.default;throw da._result;}function Ea(){throw Error("act(...) is not supported in production builds of React.");}var $a=Symbol.for("react.element"),vb=Symbol.for("react.portal");Db=Symbol.for("react.fragment");ob=Symbol.for("react.strict_mode");zc=Symbol.for("react.profiler");var ub=Symbol.for("react.provider"),sb=Symbol.for("react.context"),wb=Symbol.for("react.forward_ref"),jb=Symbol.for("react.suspense"),lc=
Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),ha=Symbol.iterator,ya={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ra=Object.assign,Wa={};h.prototype.isReactComponent={};h.prototype.setState=function(da,ia){if("object"!==typeof da&&"function"!==typeof da&&null!=da)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,
da,ia,"setState")};h.prototype.forceUpdate=function(da){this.updater.enqueueForceUpdate(this,da,"forceUpdate")};ka.prototype=h.prototype;var Ja=Za.prototype=new ka;Ja.constructor=Za;Ra(Ja,h.prototype);Ja.isPureReactComponent=!0;var ib=Array.isArray,cb=Object.prototype.hasOwnProperty,tb={current:null},Pb={key:!0,ref:!0,__self:!0,__source:!0},gb=/\/+/g,V={current:null},aa={transition:null};Ja={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:aa,ReactCurrentOwner:tb};Ya.Children={map:Rb,forEach:function(da,
ia,Ma){Rb(da,function(){ia.apply(this,arguments)},Ma)},count:function(da){var ia=0;Rb(da,function(){ia++});return ia},toArray:function(da){return Rb(da,function(ia){return ia})||[]},only:function(da){if(!Zb(da))throw Error("React.Children.only expected to receive a single React element child.");return da}};Ya.Component=h;Ya.Fragment=Db;Ya.Profiler=zc;Ya.PureComponent=Za;Ya.StrictMode=ob;Ya.Suspense=jb;Ya.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ja;Ya.act=Ea;Ya.cloneElement=function(da,ia,
Ma){if(null===da||void 0===da)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+da+".");var pa=Ra({},da.props),sa=da.key,m=da.ref,F=da._owner;if(null!=ia){void 0!==ia.ref&&(m=ia.ref,F=tb.current);void 0!==ia.key&&(sa=""+ia.key);if(da.type&&da.type.defaultProps)var L=da.type.defaultProps;for(u in ia)cb.call(ia,u)&&!Pb.hasOwnProperty(u)&&(pa[u]=void 0===ia[u]&&void 0!==L?L[u]:ia[u])}var u=arguments.length-2;if(1===u)pa.children=Ma;else if(1<u){L=Array(u);for(var R=
0;R<u;R++)L[R]=arguments[R+2];pa.children=L}return{$$typeof:$a,type:da.type,key:sa,ref:m,props:pa,_owner:F}};Ya.createContext=function(da){da={$$typeof:sb,_currentValue:da,_currentValue2:da,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};da.Provider={$$typeof:ub,_context:da};return da.Consumer=da};Ya.createElement=zb;Ya.createFactory=function(da){var ia=zb.bind(null,da);ia.type=da;return ia};Ya.createRef=function(){return{current:null}};Ya.forwardRef=function(da){return{$$typeof:wb,
render:da}};Ya.isValidElement=Zb;Ya.lazy=function(da){return{$$typeof:ta,_payload:{_status:-1,_result:da},_init:ec}};Ya.memo=function(da,ia){return{$$typeof:lc,type:da,compare:void 0===ia?null:ia}};Ya.startTransition=function(da){var ia=aa.transition;aa.transition={};try{da()}finally{aa.transition=ia}};Ya.unstable_act=Ea;Ya.useCallback=function(da,ia){return V.current.useCallback(da,ia)};Ya.useContext=function(da){return V.current.useContext(da)};Ya.useDebugValue=function(){};Ya.useDeferredValue=
function(da){return V.current.useDeferredValue(da)};Ya.useEffect=function(da,ia){return V.current.useEffect(da,ia)};Ya.useId=function(){return V.current.useId()};Ya.useImperativeHandle=function(da,ia,Ma){return V.current.useImperativeHandle(da,ia,Ma)};Ya.useInsertionEffect=function(da,ia){return V.current.useInsertionEffect(da,ia)};Ya.useLayoutEffect=function(da,ia){return V.current.useLayoutEffect(da,ia)};Ya.useMemo=function(da,ia){return V.current.useMemo(da,ia)};Ya.useReducer=function(da,ia,Ma){return V.current.useReducer(da,
ia,Ma)};Ya.useRef=function(da){return V.current.useRef(da)};Ya.useState=function(da){return V.current.useState(da)};Ya.useSyncExternalStore=function(da,ia,Ma){return V.current.useSyncExternalStore(da,ia,Ma)};Ya.useTransition=function(){return V.current.useTransition()};Ya.version="18.3.1"};
shadow$provide[2]=function(Db,ob,zc,Ya){zc.exports=ob(0)};
shadow$provide[3]=function(Db,ob,zc,Ya){function w(aa,da){var ia=aa.length;aa.push(da);a:for(;0<ia;){var Ma=ia-1>>>1,pa=aa[Ma];if(0<Za(pa,da))aa[Ma]=da,aa[ia]=pa,ia=Ma;else break a}}function h(aa){return 0===aa.length?null:aa[0]}function ka(aa){if(0===aa.length)return null;var da=aa[0],ia=aa.pop();if(ia!==da){aa[0]=ia;var Ma=0,pa=aa.length,sa=pa>>>1;a:for(;Ma<sa;){var m=2*(Ma+1)-1,F=aa[m],L=m+1,u=aa[L];if(0>Za(F,ia))L<pa&&0>Za(u,F)?(aa[Ma]=u,aa[L]=ia,Ma=L):(aa[Ma]=F,aa[m]=ia,Ma=m);else if(L<pa&&0>
Za(u,ia))aa[Ma]=u,aa[L]=ia,Ma=L;else break a}}return da}function Za(aa,da){var ia=aa.sortIndex-da.sortIndex;return 0!==ia?ia:aa.id-da.id}function zb(aa){for(var da=h(ub);null!==da;){if(null===da.callback)ka(ub);else if(da.startTime<=aa)ka(ub),da.sortIndex=da.expirationTime,w(vb,da);else break;da=h(ub)}}function Vb(aa){ha=!1;zb(aa);if(!ta)if(null!==h(vb))ta=!0,Bb(Zb);else{var da=h(ub);null!==da&&Rb(Vb,da.startTime-aa)}}function Zb(aa,da){ta=!1;ha&&(ha=!1,Ra(cb),cb=-1);lc=!0;var ia=jb;try{zb(da);for(wb=
h(vb);null!==wb&&(!(wb.expirationTime>da)||aa&&!Ub());){var Ma=wb.callback;if("function"===typeof Ma){wb.callback=null;jb=wb.priorityLevel;var pa=Ma(wb.expirationTime<=da);da=Ya.unstable_now();"function"===typeof pa?wb.callback=pa:wb===h(vb)&&ka(vb);zb(da)}else ka(vb);wb=h(vb)}if(null!==wb)var sa=!0;else{var m=h(ub);null!==m&&Rb(Vb,m.startTime-da);sa=!1}return sa}finally{wb=null,jb=ia,lc=!1}}function Ub(){return Ya.unstable_now()-Pb<tb?!1:!0}function jc(){if(null!==ib){var aa=Ya.unstable_now();Pb=
aa;var da=!0;try{da=ib(!0,aa)}finally{da?gb():(Ja=!1,ib=null)}}else Ja=!1}function Bb(aa){ib=aa;Ja||(Ja=!0,gb())}function Rb(aa,da){cb=ya(function(){aa(Ya.unstable_now())},da)}if("object"===typeof performance&&"function"===typeof performance.now){var ec=performance;Ya.unstable_now=function(){return ec.now()}}else{var Ea=Date,$a=Ea.now();Ya.unstable_now=function(){return Ea.now()-$a}}var vb=[],ub=[],sb=1,wb=null,jb=3,lc=!1,ta=!1,ha=!1,ya="function"===typeof setTimeout?setTimeout:null,Ra="function"===
typeof clearTimeout?clearTimeout:null,Wa="undefined"!==typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Ja=!1,ib=null,cb=-1,tb=5,Pb=-1;if("function"===typeof Wa)var gb=function(){Wa(jc)};else if("undefined"!==typeof MessageChannel){Db=new MessageChannel;var V=Db.port2;Db.port1.onmessage=jc;gb=function(){V.postMessage(null)}}else gb=function(){ya(jc,
0)};Ya.unstable_IdlePriority=5;Ya.unstable_ImmediatePriority=1;Ya.unstable_LowPriority=4;Ya.unstable_NormalPriority=3;Ya.unstable_Profiling=null;Ya.unstable_UserBlockingPriority=2;Ya.unstable_cancelCallback=function(aa){aa.callback=null};Ya.unstable_continueExecution=function(){ta||lc||(ta=!0,Bb(Zb))};Ya.unstable_forceFrameRate=function(aa){0>aa||125<aa?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):tb=0<aa?Math.floor(1E3/
aa):5};Ya.unstable_getCurrentPriorityLevel=function(){return jb};Ya.unstable_getFirstCallbackNode=function(){return h(vb)};Ya.unstable_next=function(aa){switch(jb){case 1:case 2:case 3:var da=3;break;default:da=jb}var ia=jb;jb=da;try{return aa()}finally{jb=ia}};Ya.unstable_pauseExecution=function(){};Ya.unstable_requestPaint=function(){};Ya.unstable_runWithPriority=function(aa,da){switch(aa){case 1:case 2:case 3:case 4:case 5:break;default:aa=3}var ia=jb;jb=aa;try{return da()}finally{jb=ia}};Ya.unstable_scheduleCallback=
function(aa,da,ia){var Ma=Ya.unstable_now();"object"===typeof ia&&null!==ia?(ia=ia.delay,ia="number"===typeof ia&&0<ia?Ma+ia:Ma):ia=Ma;switch(aa){case 1:var pa=-1;break;case 2:pa=250;break;case 5:pa=1073741823;break;case 4:pa=1E4;break;default:pa=5E3}pa=ia+pa;aa={id:sb++,callback:da,priorityLevel:aa,startTime:ia,expirationTime:pa,sortIndex:-1};ia>Ma?(aa.sortIndex=ia,w(ub,aa),null===h(vb)&&aa===h(ub)&&(ha?(Ra(cb),cb=-1):ha=!0,Rb(Vb,ia-Ma))):(aa.sortIndex=pa,w(vb,aa),ta||lc||(ta=!0,Bb(Zb)));return aa};
Ya.unstable_shouldYield=Ub;Ya.unstable_wrapCallback=function(aa){var da=jb;return function(){var ia=jb;jb=da;try{return aa.apply(this,arguments)}finally{jb=ia}}}};
shadow$provide[5]=function(Db,ob,zc,Ya){zc.exports=ob(3)};
shadow$provide[6]=function(Db,ob,zc,Ya){function w(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+c,k=1;k<arguments.length;k++)d+="\x26args[]\x3d"+encodeURIComponent(arguments[k]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(c,d){ka(c,d);ka(c+"Capture",d)}function ka(c,d){Wh[c]=d;for(c=0;c<d.length;c++)hi.add(d[c])}function Za(c){if(hj.call(ij,c))return!0;
if(hj.call(Hj,c))return!1;if(jj.test(c))return ij[c]=!0;Hj[c]=!0;return!1}function zb(c,d,k,x){if(null!==k&&0===k.type)return!1;switch(typeof d){case "function":case "symbol":return!0;case "boolean":if(x)return!1;if(null!==k)return!k.acceptsBooleans;c=c.toLowerCase().slice(0,5);return"data-"!==c&&"aria-"!==c;default:return!1}}function Vb(c,d,k,x){if(null===d||"undefined"===typeof d||zb(c,d,k,x))return!0;if(x)return!1;if(null!==k)switch(k.type){case 3:return!d;case 4:return!1===d;case 5:return isNaN(d);
case 6:return isNaN(d)||1>d}return!1}function Zb(c,d,k,x,T,ea,Sa){this.acceptsBooleans=2===d||3===d||4===d;this.attributeName=x;this.attributeNamespace=T;this.mustUseProperty=k;this.propertyName=c;this.type=d;this.sanitizeURL=ea;this.removeEmptyString=Sa}function Ub(c){return c[1].toUpperCase()}function jc(c,d,k,x){var T=Yf.hasOwnProperty(d)?Yf[d]:null;if(null!==T?0!==T.type:x||!(2<d.length)||"o"!==d[0]&&"O"!==d[0]||"n"!==d[1]&&"N"!==d[1])Vb(d,k,T,x)&&(k=null),x||null===T?Za(d)&&(null===k?c.removeAttribute(d):
c.setAttribute(d,""+k)):T.mustUseProperty?c[T.propertyName]=null===k?3===T.type?!1:"":k:(d=T.attributeName,x=T.attributeNamespace,null===k?c.removeAttribute(d):(T=T.type,k=3===T||4===T&&!0===k?"":""+k,x?c.setAttributeNS(x,d,k):c.setAttribute(d,k)))}function Bb(c){if(null===c||"object"!==typeof c)return null;c=Yc&&c[Yc]||c["@@iterator"];return"function"===typeof c?c:null}function Rb(c){if(void 0===nd)try{throw Error();}catch(k){var d=k.stack.trim().match(/\n( *(at )?)/);nd=d&&d[1]||""}return"\n"+nd+
c}function ec(c,d){if(!c||Jd)return"";Jd=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error();},Object.defineProperty(d.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(d,[])}catch(Jc){var x=Jc}Reflect.construct(c,[],d)}else{try{d.call()}catch(Jc){x=Jc}c.call(d.prototype)}else{try{throw Error();}catch(Jc){x=Jc}c()}}catch(Jc){if(Jc&&x&&"string"===typeof Jc.stack){for(var T=Jc.stack.split("\n"),
ea=x.stack.split("\n"),Sa=T.length-1,Tb=ea.length-1;1<=Sa&&0<=Tb&&T[Sa]!==ea[Tb];)Tb--;for(;1<=Sa&&0<=Tb;Sa--,Tb--)if(T[Sa]!==ea[Tb]){if(1!==Sa||1!==Tb){do if(Sa--,Tb--,0>Tb||T[Sa]!==ea[Tb]){var hc="\n"+T[Sa].replace(" at new "," at ");c.displayName&&hc.includes("\x3canonymous\x3e")&&(hc=hc.replace("\x3canonymous\x3e",c.displayName));return hc}while(1<=Sa&&0<=Tb)}break}}}finally{Jd=!1,Error.prepareStackTrace=k}return(c=c?c.displayName||c.name:"")?Rb(c):""}function Ea(c){switch(c.tag){case 5:return Rb(c.type);
case 16:return Rb("Lazy");case 13:return Rb("Suspense");case 19:return Rb("SuspenseList");case 0:case 2:case 15:return c=ec(c.type,!1),c;case 11:return c=ec(c.type.render,!1),c;case 1:return c=ec(c.type,!0),c;default:return""}}function $a(c){if(null==c)return null;if("function"===typeof c)return c.displayName||c.name||null;if("string"===typeof c)return c;switch(c){case ii:return"Fragment";case ji:return"Portal";case G:return"Profiler";case n:return"StrictMode";case fb:return"Suspense";case qb:return"SuspenseList"}if("object"===
typeof c)switch(c.$$typeof){case ma:return(c.displayName||"Context")+".Consumer";case M:return(c._context.displayName||"Context")+".Provider";case Xa:var d=c.render;(c=c.displayName)||(c=d.displayName||d.name||"",c=""!==c?"ForwardRef("+c+")":"ForwardRef");return c;case Ib:return d=c.displayName||null,null!==d?d:$a(c.type)||"Memo";case oc:d=c._payload;c=c._init;try{return $a(c(d))}catch(k){}}return null}function vb(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+
".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(""!==c?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $a(d);case 8:return d===n?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof d)return d.displayName||d.name||null;if("string"===typeof d)return d}return null}function ub(c){switch(typeof c){case "boolean":case "number":case "string":case "undefined":return c;case "object":return c;default:return""}}function sb(c){var d=c.type;return(c=c.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===d||"radio"===d)}function wb(c){var d=sb(c)?"checked":"value",k=Object.getOwnPropertyDescriptor(c.constructor.prototype,
d),x=""+c[d];if(!c.hasOwnProperty(d)&&"undefined"!==typeof k&&"function"===typeof k.get&&"function"===typeof k.set){var T=k.get,ea=k.set;Object.defineProperty(c,d,{configurable:!0,get:function(){return T.call(this)},set:function(Sa){x=""+Sa;ea.call(this,Sa)}});Object.defineProperty(c,d,{enumerable:k.enumerable});return{getValue:function(){return x},setValue:function(Sa){x=""+Sa},stopTracking:function(){c._valueTracker=null;delete c[d]}}}}function jb(c){c._valueTracker||(c._valueTracker=wb(c))}function lc(c){if(!c)return!1;
var d=c._valueTracker;if(!d)return!0;var k=d.getValue(),x="";c&&(x=sb(c)?c.checked?"true":"false":c.value);c=x;return c!==k?(d.setValue(c),!0):!1}function ta(c){c=c||("undefined"!==typeof document?document:void 0);if("undefined"===typeof c)return null;try{return c.activeElement||c.body}catch(d){return c.body}}function ha(c,d){var k=d.checked;return mc({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=k?k:c._wrapperState.initialChecked})}function ya(c,d){var k=null==d.defaultValue?
"":d.defaultValue,x=null!=d.checked?d.checked:d.defaultChecked;k=ub(null!=d.value?d.value:k);c._wrapperState={initialChecked:x,initialValue:k,controlled:"checkbox"===d.type||"radio"===d.type?null!=d.checked:null!=d.value}}function Ra(c,d){d=d.checked;null!=d&&jc(c,"checked",d,!1)}function Wa(c,d){Ra(c,d);var k=ub(d.value),x=d.type;if(null!=k)if("number"===x){if(0===k&&""===c.value||c.value!=k)c.value=""+k}else c.value!==""+k&&(c.value=""+k);else if("submit"===x||"reset"===x){c.removeAttribute("value");
return}d.hasOwnProperty("value")?ib(c,d.type,k):d.hasOwnProperty("defaultValue")&&ib(c,d.type,ub(d.defaultValue));null==d.checked&&null!=d.defaultChecked&&(c.defaultChecked=!!d.defaultChecked)}function Ja(c,d,k){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var x=d.type;if(!("submit"!==x&&"reset"!==x||void 0!==d.value&&null!==d.value))return;d=""+c._wrapperState.initialValue;k||d===c.value||(c.value=d);c.defaultValue=d}k=c.name;""!==k&&(c.name="");c.defaultChecked=!!c._wrapperState.initialChecked;
""!==k&&(c.name=k)}function ib(c,d,k){if("number"!==d||ta(c.ownerDocument)!==c)null==k?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+k&&(c.defaultValue=""+k)}function cb(c,d,k,x){c=c.options;if(d){d={};for(var T=0;T<k.length;T++)d["$"+k[T]]=!0;for(k=0;k<c.length;k++)T=d.hasOwnProperty("$"+c[k].value),c[k].selected!==T&&(c[k].selected=T),T&&x&&(c[k].defaultSelected=!0)}else{k=""+ub(k);d=null;for(T=0;T<c.length;T++){if(c[T].value===k){c[T].selected=!0;x&&(c[T].defaultSelected=!0);
return}null!==d||c[T].disabled||(d=c[T])}null!==d&&(d.selected=!0)}}function tb(c,d){if(null!=d.dangerouslySetInnerHTML)throw Error(w(91));return mc({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Pb(c,d){var k=d.value;if(null==k){k=d.children;d=d.defaultValue;if(null!=k){if(null!=d)throw Error(w(92));if(me(k)){if(1<k.length)throw Error(w(93));k=k[0]}d=k}null==d&&(d="");k=d}c._wrapperState={initialValue:ub(k)}}function gb(c,d){var k=ub(d.value),x=ub(d.defaultValue);
null!=k&&(k=""+k,k!==c.value&&(c.value=k),null==d.defaultValue&&c.defaultValue!==k&&(c.defaultValue=k));null!=x&&(c.defaultValue=""+x)}function V(c){var d=c.textContent;d===c._wrapperState.initialValue&&""!==d&&null!==d&&(c.value=d)}function aa(c){switch(c){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function da(c,d){return null==c||"http://www.w3.org/1999/xhtml"===c?aa(d):"http://www.w3.org/2000/svg"===
c&&"foreignObject"===d?"http://www.w3.org/1999/xhtml":c}function ia(c,d){if(d){var k=c.firstChild;if(k&&k===c.lastChild&&3===k.nodeType){k.nodeValue=d;return}}c.textContent=d}function Ma(c,d,k){return null==d||"boolean"===typeof d||""===d?"":k||"number"!==typeof d||0===d||Df.hasOwnProperty(c)&&Df[c]?(""+d).trim():d+"px"}function pa(c,d){c=c.style;for(var k in d)if(d.hasOwnProperty(k)){var x=0===k.indexOf("--"),T=Ma(k,d[k],x);"float"===k&&(k="cssFloat");x?c.setProperty(k,T):c[k]=T}}function sa(c,d){if(d){if(tg[c]&&
(null!=d.children||null!=d.dangerouslySetInnerHTML))throw Error(w(137,c));if(null!=d.dangerouslySetInnerHTML){if(null!=d.children)throw Error(w(60));if("object"!==typeof d.dangerouslySetInnerHTML||!("__html"in d.dangerouslySetInnerHTML))throw Error(w(61));}if(null!=d.style&&"object"!==typeof d.style)throw Error(w(62));}}function m(c,d){if(-1===c.indexOf("-"))return"string"===typeof d.is;switch(c){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function F(c){c=c.target||c.srcElement||window;c.correspondingUseElement&&(c=c.correspondingUseElement);return 3===c.nodeType?c.parentNode:c}function L(c){if(c=Pe(c)){if("function"!==typeof Kf)throw Error(w(280));var d=c.stateNode;d&&(d=Ke(d),Kf(c.stateNode,c.type,d))}}function u(c){ne?wf?wf.push(c):wf=[c]:ne=c}function R(){if(ne){var c=ne,d=wf;wf=ne=null;L(c);if(d)for(c=0;c<d.length;c++)L(d[c])}}function B(c,d){return c(d)}function z(){}function N(c,d,k){if(Xh)return c(d,k);Xh=
!0;try{return B(c,d,k)}finally{if(Xh=!1,null!==ne||null!==wf)z(),R()}}function A(c,d){var k=c.stateNode;if(null===k)return null;var x=Ke(k);if(null===x)return null;k=x[d];a:switch(d){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(x=!x.disabled)||(c=c.type,x=!("button"===c||"input"===c||"select"===c||"textarea"===
c));c=!x;break a;default:c=!1}if(c)return null;if(k&&"function"!==typeof k)throw Error(w(231,d,typeof k));return k}function D(c,d,k,x,T,ea,Sa,Tb,hc){var Jc=Array.prototype.slice.call(arguments,3);try{d.apply(k,Jc)}catch(ed){this.onError(ed)}}function H(c,d,k,x,T,ea,Sa,Tb,hc){zd=!1;pd=null;D.apply(Ef,arguments)}function W(c,d,k,x,T,ea,Sa,Tb,hc){H.apply(this,arguments);if(zd){if(zd){var Jc=pd;zd=!1;pd=null}else throw Error(w(198));Ye||(Ye=!0,Rf=Jc)}}function Da(c){var d=c,k=c;if(c.alternate)for(;d.return;)d=
d.return;else{c=d;do d=c,0!==(d.flags&4098)&&(k=d.return),c=d.return;while(c)}return 3===d.tag?k:null}function P(c){if(13===c.tag){var d=c.memoizedState;null===d&&(c=c.alternate,null!==c&&(d=c.memoizedState));if(null!==d)return d.dehydrated}return null}function ja(c){if(Da(c)!==c)throw Error(w(188));}function Ba(c){var d=c.alternate;if(!d){d=Da(c);if(null===d)throw Error(w(188));return d!==c?null:c}for(var k=c,x=d;;){var T=k.return;if(null===T)break;var ea=T.alternate;if(null===ea){x=T.return;if(null!==
x){k=x;continue}break}if(T.child===ea.child){for(ea=T.child;ea;){if(ea===k)return ja(T),c;if(ea===x)return ja(T),d;ea=ea.sibling}throw Error(w(188));}if(k.return!==x.return)k=T,x=ea;else{for(var Sa=!1,Tb=T.child;Tb;){if(Tb===k){Sa=!0;k=T;x=ea;break}if(Tb===x){Sa=!0;x=T;k=ea;break}Tb=Tb.sibling}if(!Sa){for(Tb=ea.child;Tb;){if(Tb===k){Sa=!0;k=ea;x=T;break}if(Tb===x){Sa=!0;x=ea;k=T;break}Tb=Tb.sibling}if(!Sa)throw Error(w(189));}}if(k.alternate!==x)throw Error(w(190));}if(3!==k.tag)throw Error(w(188));
return k.stateNode.current===k?c:d}function Na(c){c=Ba(c);return null!==c?Qa(c):null}function Qa(c){if(5===c.tag||6===c.tag)return c;for(c=c.child;null!==c;){var d=Qa(c);if(null!==d)return d;c=c.sibling}return null}function eb(c){if(Yh&&"function"===typeof Yh.onCommitFiberRoot)try{Yh.onCommitFiberRoot(Ij,c,void 0,128===(c.current.flags&128))}catch(d){}}function xb(c){c>>>=0;return 0===c?32:31-(kl(c)/Ll|0)|0}function kb(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Sb(c,d){var k=c.pendingLanes;if(0===
k)return 0;var x=0,T=c.suspendedLanes,ea=c.pingedLanes,Sa=k&268435455;if(0!==Sa){var Tb=Sa&~T;0!==Tb?x=kb(Tb):(ea&=Sa,0!==ea&&(x=kb(ea)))}else Sa=k&~T,0!==Sa?x=kb(Sa):0!==ea&&(x=kb(ea));if(0===x)return 0;if(0!==d&&d!==x&&0===(d&T)&&(T=x&-x,ea=d&-d,T>=ea||16===T&&0!==(ea&4194240)))return d;0!==(x&4)&&(x|=k&16);d=c.entangledLanes;if(0!==d)for(c=c.entanglements,d&=x;0<d;)k=31-Nh(d),T=1<<k,x|=c[k],d&=~T;return x}function X(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ha(c,d){for(var k=c.suspendedLanes,x=c.pingedLanes,T=c.expirationTimes,ea=c.pendingLanes;0<ea;){var Sa=31-Nh(ea),Tb=1<<Sa,hc=T[Sa];if(-1===hc){if(0===(Tb&k)||0!==(Tb&x))T[Sa]=X(Tb,d)}else hc<=d&&(c.expiredLanes|=Tb);ea&=~Tb}}function Nb(c){c=c.pendingLanes&-1073741825;return 0!==c?c:c&1073741824?1073741824:0}function nc(){var c=
Jj;Jj<<=1;0===(Jj&4194240)&&(Jj=64);return c}function Wb(c){for(var d=[],k=0;31>k;k++)d.push(c);return d}function Jb(c,d,k){c.pendingLanes|=d;536870912!==d&&(c.suspendedLanes=0,c.pingedLanes=0);c=c.eventTimes;d=31-Nh(d);c[d]=k}function Lb(c,d){var k=c.pendingLanes&~d;c.pendingLanes=d;c.suspendedLanes=0;c.pingedLanes=0;c.expiredLanes&=d;c.mutableReadLanes&=d;c.entangledLanes&=d;d=c.entanglements;var x=c.eventTimes;for(c=c.expirationTimes;0<k;){var T=31-Nh(k),ea=1<<T;d[T]=0;x[T]=-1;c[T]=-1;k&=~ea}}
function sc(c,d){var k=c.entangledLanes|=d;for(c=c.entanglements;k;){var x=31-Nh(k),T=1<<x;T&d|c[x]&d&&(c[x]|=d);k&=~T}}function Oc(c){c&=-c;return 1<c?4<c?0!==(c&268435455)?16:536870912:4:1}function ra(c,d){switch(c){case "focusin":case "focusout":Ci=null;break;case "dragenter":case "dragleave":ki=null;break;case "mouseover":case "mouseout":Di=null;break;case "pointerover":case "pointerout":kj.delete(d.pointerId);break;case "gotpointercapture":case "lostpointercapture":lj.delete(d.pointerId)}}function Eb(c,
d,k,x,T,ea){if(null===c||c.nativeEvent!==ea)return c={blockedOn:d,domEventName:k,eventSystemFlags:x,nativeEvent:ea,targetContainers:[T]},null!==d&&(d=Pe(d),null!==d&&Fk(d)),c;c.eventSystemFlags|=x;d=c.targetContainers;null!==T&&-1===d.indexOf(T)&&d.push(T);return c}function Ta(c,d,k,x,T){switch(d){case "focusin":return Ci=Eb(Ci,c,d,k,x,T),!0;case "dragenter":return ki=Eb(ki,c,d,k,x,T),!0;case "mouseover":return Di=Eb(Di,c,d,k,x,T),!0;case "pointerover":var ea=T.pointerId;kj.set(ea,Eb(kj.get(ea)||
null,c,d,k,x,T));return!0;case "gotpointercapture":return ea=T.pointerId,lj.set(ea,Eb(lj.get(ea)||null,c,d,k,x,T)),!0}return!1}function yb(c){var d=Ze(c.target);if(null!==d){var k=Da(d);if(null!==k)if(d=k.tag,13===d){if(d=P(k),null!==d){c.blockedOn=d;ll(c.priority,function(){Ml(k)});return}}else if(3===d&&k.stateNode.current.memoizedState.isDehydrated){c.blockedOn=3===k.tag?k.stateNode.containerInfo:null;return}}c.blockedOn=null}function Gb(c){if(null!==c.blockedOn)return!1;for(var d=c.targetContainers;0<
d.length;){var k=Ia(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(null===k){k=c.nativeEvent;var x=new k.constructor(k.type,k);zg=x;k.target.dispatchEvent(x);zg=null}else return d=Pe(k),null!==d&&Fk(d),c.blockedOn=k,!1;d.shift()}return!0}function Cb(c,d,k){Gb(c)&&k.delete(d)}function Xb(){Zj=!1;null!==Ci&&Gb(Ci)&&(Ci=null);null!==ki&&Gb(ki)&&(ki=null);null!==Di&&Gb(Di)&&(Di=null);kj.forEach(Cb);lj.forEach(Cb)}function gc(c,d){c.blockedOn===d&&(c.blockedOn=null,Zj||(Zj=!0,Ag.unstable_scheduleCallback(Ag.unstable_NormalPriority,
Xb)))}function wc(c){function d(T){return gc(T,c)}if(0<ak.length){gc(ak[0],c);for(var k=1;k<ak.length;k++){var x=ak[k];x.blockedOn===c&&(x.blockedOn=null)}}null!==Ci&&gc(Ci,c);null!==ki&&gc(ki,c);null!==Di&&gc(Di,c);kj.forEach(d);lj.forEach(d);for(k=0;k<li.length;k++)x=li[k],x.blockedOn===c&&(x.blockedOn=null);for(;0<li.length&&(k=li[0],null===k.blockedOn);)yb(k),null===k.blockedOn&&li.shift()}function Xc(c,d,k,x){var T=rf,ea=mj.transition;mj.transition=null;try{rf=1,na(c,d,k,x)}finally{rf=T,mj.transition=
ea}}function Kc(c,d,k,x){var T=rf,ea=mj.transition;mj.transition=null;try{rf=4,na(c,d,k,x)}finally{rf=T,mj.transition=ea}}function na(c,d,k,x){if(bk){var T=Ia(c,d,k,x);if(null===T)Kd(c,d,x,ck,k),ra(c,x);else if(Ta(T,c,d,k,x))x.stopPropagation();else if(ra(c,x),d&4&&-1<ml.indexOf(c)){for(;null!==T;){var ea=Pe(T);null!==ea&&Nl(ea);ea=Ia(c,d,k,x);null===ea&&Kd(c,d,x,ck,k);if(ea===T)break;T=ea}null!==T&&x.stopPropagation()}else Kd(c,d,x,null,k)}}function Ia(c,d,k,x){ck=null;c=F(x);c=Ze(c);if(null!==c)if(d=
Da(c),null===d)c=null;else if(k=d.tag,13===k){c=P(d);if(null!==c)return c;c=null}else if(3===k){if(d.stateNode.current.memoizedState.isDehydrated)return 3===d.tag?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);ck=c;return null}function hb(c){switch(c){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(Gk()){case Hk:return 1;case dk:return 4;case Ui:case nl:return 16;case Ik:return 536870912;default:return 16}default:return 16}}function S(){if(ek)return ek;
var c,d=Jk,k=d.length,x,T="value"in Ei?Ei.value:Ei.textContent,ea=T.length;for(c=0;c<k&&d[c]===T[c];c++);var Sa=k-c;for(x=1;x<=Sa&&d[k-x]===T[ea-x];x++);return ek=T.slice(c,1<x?1-x:void 0)}function v(c){var d=c.keyCode;"charCode"in c?(c=c.charCode,0===c&&13===d&&(c=13)):c=d;10===c&&(c=13);return 32<=c||13===c?c:0}function ca(){return!0}function za(){return!1}function Fa(c){function d(k,x,T,ea,Sa){this._reactName=k;this._targetInst=T;this.type=x;this.nativeEvent=ea;this.target=Sa;this.currentTarget=
null;for(var Tb in c)c.hasOwnProperty(Tb)&&(k=c[Tb],this[Tb]=k?k(ea):ea[Tb]);this.isDefaultPrevented=(null!=ea.defaultPrevented?ea.defaultPrevented:!1===ea.returnValue)?ca:za;this.isPropagationStopped=za;return this}mc(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():"unknown"!==typeof k.returnValue&&(k.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():
"unknown"!==typeof k.cancelBubble&&(k.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca});return d}function Ua(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Ol[c])?!!d[c]:!1}function mb(){return Ua}function Mb(c,d){switch(c){case "keyup":return-1!==te.indexOf(d.keyCode);case "keydown":return 229!==d.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function Fb(c){c=c.detail;return"object"===typeof c&&
"data"in c?c.data:null}function Kb(c,d){switch(c){case "compositionend":return Fb(d);case "keypress":if(32!==d.which)return null;fk=!0;return Kk;case "textInput":return c=d.data,c===Kk&&fk?null:c;default:return null}}function vc(c,d){if(mi)return"compositionend"===c||!bd&&Mb(c,d)?(c=S(),ek=Jk=Ei=null,mi=!1,c):null;switch(c){case "paste":return null;case "keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;
case "compositionend":return Lk&&"ko"!==d.locale?null:d.data;default:return null}}function yc(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return"input"===d?!!Pl[c.type]:"textarea"===d?!0:!1}function Ic(c,d,k,x){u(x);d=Je(d,"onChange");0<d.length&&(k=new Lf("onChange","change",null,k,x),c.push({event:k,listeners:d}))}function kd(c){Nc(c,0)}function $c(c){var d=Qe(c);if(lc(d))return c}function Pc(c,d){if("change"===c)return d}function hd(){Vi&&(Vi.detachEvent("onpropertychange",md),nj=Vi=null)}
function md(c){if("value"===c.propertyName&&$c(nj)){var d=[];Ic(d,nj,c,F(c));N(kd,d)}}function ad(c,d,k){"focusin"===c?(hd(),Vi=d,nj=k,Vi.attachEvent("onpropertychange",md)):"focusout"===c&&hd()}function ke(c){if("selectionchange"===c||"keyup"===c||"keydown"===c)return $c(nj)}function id(c,d){if("click"===c)return $c(d)}function y(c,d){if("input"===c||"change"===c)return $c(d)}function K(c,d){return c===d&&(0!==c||1/c===1/d)||c!==c&&d!==d}function ua(c,d){if(Oh(c,d))return!0;if("object"!==typeof c||
null===c||"object"!==typeof d||null===d)return!1;var k=Object.keys(c),x=Object.keys(d);if(k.length!==x.length)return!1;for(x=0;x<k.length;x++){var T=k[x];if(!hj.call(d,T)||!Oh(c[T],d[T]))return!1}return!0}function t(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function O(c,d){var k=t(c);c=0;for(var x;k;){if(3===k.nodeType){x=c+k.textContent.length;if(c<=d&&x>=d)return{node:k,offset:d-c};c=x}a:{for(;k;){if(k.nextSibling){k=k.nextSibling;break a}k=k.parentNode}k=void 0}k=t(k)}}function ba(c,d){return c&&
d?c===d?!0:c&&3===c.nodeType?!1:d&&3===d.nodeType?ba(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function xa(){for(var c=window,d=ta();d instanceof c.HTMLIFrameElement;){try{var k="string"===typeof d.contentWindow.location.href}catch(x){k=!1}if(k)c=d.contentWindow;else break;d=ta(c.document)}return d}function oa(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&("input"===d&&("text"===c.type||"search"===c.type||"tel"===
c.type||"url"===c.type||"password"===c.type)||"textarea"===d||"true"===c.contentEditable)}function ab(c){var d=xa(),k=c.focusedElem,x=c.selectionRange;if(d!==k&&k&&k.ownerDocument&&ba(k.ownerDocument.documentElement,k)){if(null!==x&&oa(k))if(d=x.start,c=x.end,void 0===c&&(c=d),"selectionStart"in k)k.selectionStart=d,k.selectionEnd=Math.min(c,k.value.length);else if(c=(d=k.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var T=k.textContent.length,ea=Math.min(x.start,
T);x=void 0===x.end?ea:Math.min(x.end,T);!c.extend&&ea>x&&(T=x,x=ea,ea=T);T=O(k,ea);var Sa=O(k,x);T&&Sa&&(1!==c.rangeCount||c.anchorNode!==T.node||c.anchorOffset!==T.offset||c.focusNode!==Sa.node||c.focusOffset!==Sa.offset)&&(d=d.createRange(),d.setStart(T.node,T.offset),c.removeAllRanges(),ea>x?(c.addRange(d),c.extend(Sa.node,Sa.offset)):(d.setEnd(Sa.node,Sa.offset),c.addRange(d)))}d=[];for(c=k;c=c.parentNode;)1===c.nodeType&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});"function"===typeof k.focus&&
k.focus();for(k=0;k<d.length;k++)c=d[k],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}function Qb(c,d,k){var x=k.window===k?k.document:9===k.nodeType?k:k.ownerDocument;Jg||null==oj||oj!==ta(x)||(x=oj,"selectionStart"in x&&oa(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Kj&&ua(Kj,x)||(Kj=x,x=Je(Mk,"onSelect"),
0<x.length&&(d=new Lf("onSelect","select",null,d,k),c.push({event:d,listeners:x}),d.target=oj)))}function Yb(c,d){var k={};k[c.toLowerCase()]=d.toLowerCase();k["Webkit"+c]="webkit"+d;k["Moz"+c]="moz"+d;return k}function ic(c){if(Nk[c])return Nk[c];if(!Fi[c])return c;var d=Fi[c],k;for(k in d)if(d.hasOwnProperty(k)&&k in gk)return Nk[c]=d[k];return c}function Ac(c,d){Zh.set(c,d);h(d,[c])}function Mc(c,d,k){var x=c.type||"unknown-event";c.currentTarget=k;W(x,d,void 0,c);c.currentTarget=null}function Nc(c,
d){d=0!==(d&4);for(var k=0;k<c.length;k++){var x=c[k],T=x.event;x=x.listeners;a:{var ea=void 0;if(d)for(var Sa=x.length-1;0<=Sa;Sa--){var Tb=x[Sa],hc=Tb.instance,Jc=Tb.currentTarget;Tb=Tb.listener;if(hc!==ea&&T.isPropagationStopped())break a;Mc(T,Tb,Jc);ea=hc}else for(Sa=0;Sa<x.length;Sa++){Tb=x[Sa];hc=Tb.instance;Jc=Tb.currentTarget;Tb=Tb.listener;if(hc!==ea&&T.isPropagationStopped())break a;Mc(T,Tb,Jc);ea=hc}}}if(Ye)throw c=Rf,Ye=!1,Rf=null,c;}function Wc(c,d){var k=d[Ok];void 0===k&&(k=d[Ok]=new Set);
var x=c+"__bubble";k.has(x)||(ee(d,c,2,!1),k.add(x))}function td(c,d,k){var x=0;d&&(x|=4);ee(k,c,x,d)}function ud(c){if(!c[hk]){c[hk]=!0;hi.forEach(function(k){"selectionchange"!==k&&(Ql.has(k)||td(k,!1,c),td(k,!0,c))});var d=9===c.nodeType?c:c.ownerDocument;null===d||d[hk]||(d[hk]=!0,td("selectionchange",!1,d))}}function ee(c,d,k,x){switch(hb(d)){case 1:var T=Xc;break;case 4:T=Kc;break;default:T=na}k=T.bind(null,d,k,c);T=void 0;!Hd||"touchstart"!==d&&"touchmove"!==d&&"wheel"!==d||(T=!0);x?void 0!==
T?c.addEventListener(d,k,{capture:!0,passive:T}):c.addEventListener(d,k,!0):void 0!==T?c.addEventListener(d,k,{passive:T}):c.addEventListener(d,k,!1)}function Kd(c,d,k,x,T){var ea=x;if(0===(d&1)&&0===(d&2)&&null!==x)a:for(;;){if(null===x)return;var Sa=x.tag;if(3===Sa||4===Sa){var Tb=x.stateNode.containerInfo;if(Tb===T||8===Tb.nodeType&&Tb.parentNode===T)break;if(4===Sa)for(Sa=x.return;null!==Sa;){var hc=Sa.tag;if(3===hc||4===hc)if(hc=Sa.stateNode.containerInfo,hc===T||8===hc.nodeType&&hc.parentNode===
T)return;Sa=Sa.return}for(;null!==Tb;){Sa=Ze(Tb);if(null===Sa)return;hc=Sa.tag;if(5===hc||6===hc){x=ea=Sa;continue a}Tb=Tb.parentNode}}x=x.return}N(function(){var Jc=ea,ed=F(k),ld=[];a:{var cd=Zh.get(c);if(void 0!==cd){var Dd=Lf,Qd=c;switch(c){case "keypress":if(0===v(k))break a;case "keydown":case "keyup":Dd=Rl;break;case "focusin":Qd="focus";Dd=Pk;break;case "focusout":Qd="blur";Dd=Pk;break;case "beforeblur":case "afterblur":Dd=Pk;break;case "click":if(2===k.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Dd=
Qk;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Dd=Rk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Dd=Sl;break;case Ph:case ik:case ol:Dd=pl;break;case Wi:Dd=Sk;break;case "scroll":Dd=Tk;break;case "wheel":Dd=Tl;break;case "copy":case "cut":case "paste":Dd=jk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Dd=
ql}var Vd=0!==(d&4),Zf=!Vd&&"scroll"===c,Cc=Vd?null!==cd?cd+"Capture":null:cd;Vd=[];for(var qc=Jc,Gc;null!==qc;){Gc=qc;var sd=Gc.stateNode;5===Gc.tag&&null!==sd&&(Gc=sd,null!==Cc&&(sd=A(qc,Cc),null!=sd&&Vd.push(ge(qc,sd,Gc))));if(Zf)break;qc=qc.return}0<Vd.length&&(cd=new Dd(cd,Qd,null,k,ed),ld.push({event:cd,listeners:Vd}))}}if(0===(d&7)){cd="mouseover"===c||"pointerover"===c;Dd="mouseout"===c||"pointerout"===c;if(!cd||k===zg||!(Qd=k.relatedTarget||k.fromElement)||!Ze(Qd)&&!Qd[$h])if(Dd||cd){cd=
ed.window===ed?ed:(cd=ed.ownerDocument)?cd.defaultView||cd.parentWindow:window;if(Dd){if(Qd=k.relatedTarget||k.toElement,Dd=Jc,Qd=Qd?Ze(Qd):null,null!==Qd&&(Zf=Da(Qd),Qd!==Zf||5!==Qd.tag&&6!==Qd.tag))Qd=null}else Dd=null,Qd=Jc;if(Dd!==Qd){Vd=Qk;sd="onMouseLeave";Cc="onMouseEnter";qc="mouse";if("pointerout"===c||"pointerover"===c)Vd=ql,sd="onPointerLeave",Cc="onPointerEnter",qc="pointer";Zf=null==Dd?cd:Qe(Dd);Gc=null==Qd?cd:Qe(Qd);cd=new Vd(sd,qc+"leave",Dd,k,ed);cd.target=Zf;cd.relatedTarget=Gc;sd=
null;Ze(ed)===Jc&&(Vd=new Vd(Cc,qc+"enter",Qd,k,ed),Vd.target=Gc,Vd.relatedTarget=Zf,sd=Vd);Zf=sd;if(Dd&&Qd)b:{Vd=Dd;Cc=Qd;qc=0;for(Gc=Vd;Gc;Gc=Ie(Gc))qc++;Gc=0;for(sd=Cc;sd;sd=Ie(sd))Gc++;for(;0<qc-Gc;)Vd=Ie(Vd),qc--;for(;0<Gc-qc;)Cc=Ie(Cc),Gc--;for(;qc--;){if(Vd===Cc||null!==Cc&&Vd===Cc.alternate)break b;Vd=Ie(Vd);Cc=Ie(Cc)}Vd=null}else Vd=null;null!==Dd&&Ne(ld,cd,Dd,Vd,!1);null!==Qd&&null!==Zf&&Ne(ld,Zf,Qd,Vd,!0)}}cd=Jc?Qe(Jc):window;Dd=cd.nodeName&&cd.nodeName.toLowerCase();if("select"===Dd||
"input"===Dd&&"file"===cd.type)var Od=Pc;else if(yc(cd))if(sh)Od=y;else{Od=ke;var Yd=ad}else(Dd=cd.nodeName)&&"input"===Dd.toLowerCase()&&("checkbox"===cd.type||"radio"===cd.type)&&(Od=id);Od&&(Od=Od(c,Jc))?Ic(ld,Od,k,ed):(Yd&&Yd(c,cd,Jc),"focusout"===c&&(Yd=cd._wrapperState)&&Yd.controlled&&"number"===cd.type&&ib(cd,"number",cd.value));Yd=Jc?Qe(Jc):window;switch(c){case "focusin":if(yc(Yd)||"true"===Yd.contentEditable)oj=Yd,Mk=Jc,Kj=null;break;case "focusout":Kj=Mk=oj=null;break;case "mousedown":Jg=
!0;break;case "contextmenu":case "mouseup":case "dragend":Jg=!1;Qb(ld,k,ed);break;case "selectionchange":if(kk)break;case "keydown":case "keyup":Qb(ld,k,ed)}var fe;if(bd)a:{switch(c){case "compositionstart":var Rd="onCompositionStart";break a;case "compositionend":Rd="onCompositionEnd";break a;case "compositionupdate":Rd="onCompositionUpdate";break a}Rd=void 0}else mi?Mb(c,k)&&(Rd="onCompositionEnd"):"keydown"===c&&229===k.keyCode&&(Rd="onCompositionStart");Rd&&(Lk&&"ko"!==k.locale&&(mi||"onCompositionStart"!==
Rd?"onCompositionEnd"===Rd&&mi&&(fe=S()):(Ei=ed,Jk="value"in Ei?Ei.value:Ei.textContent,mi=!0)),Yd=Je(Jc,Rd),0<Yd.length&&(Rd=new rl(Rd,c,null,k,ed),ld.push({event:Rd,listeners:Yd}),fe?Rd.data=fe:(fe=Fb(k),null!==fe&&(Rd.data=fe))));if(fe=Gi?Kb(c,k):vc(c,k))Jc=Je(Jc,"onBeforeInput"),0<Jc.length&&(ed=new rl("onBeforeInput","beforeinput",null,k,ed),ld.push({event:ed,listeners:Jc}),ed.data=fe)}Nc(ld,d)})}function ge(c,d,k){return{instance:c,listener:d,currentTarget:k}}function Je(c,d){for(var k=d+"Capture",
x=[];null!==c;){var T=c,ea=T.stateNode;5===T.tag&&null!==ea&&(T=ea,ea=A(c,k),null!=ea&&x.unshift(ge(c,ea,T)),ea=A(c,d),null!=ea&&x.push(ge(c,ea,T)));c=c.return}return x}function Ie(c){if(null===c)return null;do c=c.return;while(c&&5!==c.tag);return c?c:null}function Ne(c,d,k,x,T){for(var ea=d._reactName,Sa=[];null!==k&&k!==x;){var Tb=k,hc=Tb.alternate,Jc=Tb.stateNode;if(null!==hc&&hc===x)break;5===Tb.tag&&null!==Jc&&(Tb=Jc,T?(hc=A(k,ea),null!=hc&&Sa.unshift(ge(k,hc,Tb))):T||(hc=A(k,ea),null!=hc&&
Sa.push(ge(k,hc,Tb))));k=k.return}0!==Sa.length&&c.push({event:d,listeners:Sa})}function $e(c){return("string"===typeof c?c:""+c).replace(Ul,"\n").replace(Vl,"")}function Ae(c,d,k){d=$e(d);if($e(c)!==d&&k)throw Error(w(425));}function Ge(){}function oe(c,d){return"textarea"===c||"noscript"===c||"string"===typeof d.children||"number"===typeof d.children||"object"===typeof d.dangerouslySetInnerHTML&&null!==d.dangerouslySetInnerHTML&&null!=d.dangerouslySetInnerHTML.__html}function Ee(c){setTimeout(function(){throw c;
})}function ye(c,d){var k=d,x=0;do{var T=k.nextSibling;c.removeChild(k);if(T&&8===T.nodeType)if(k=T.data,"/$"===k){if(0===x){c.removeChild(T);wc(d);return}x--}else"$"!==k&&"$?"!==k&&"$!"!==k||x++;k=T}while(k);wc(d)}function yd(c){for(;null!=c;c=c.nextSibling){var d=c.nodeType;if(1===d||3===d)break;if(8===d){d=c.data;if("$"===d||"$!"===d||"$?"===d)break;if("/$"===d)return null}}return c}function fg(c){c=c.previousSibling;for(var d=0;c;){if(8===c.nodeType){var k=c.data;if("$"===k||"$!"===k||"$?"===
k){if(0===d)return c;d--}else"/$"===k&&d++}c=c.previousSibling}return null}function Ze(c){var d=c[Qh];if(d)return d;for(var k=c.parentNode;k;){if(d=k[$h]||k[Qh]){k=d.alternate;if(null!==d.child||null!==k&&null!==k.child)for(c=fg(c);null!==c;){if(k=c[Qh])return k;c=fg(c)}return d}c=k;k=c.parentNode}return null}function Pe(c){c=c[Qh]||c[$h];return!c||5!==c.tag&&6!==c.tag&&13!==c.tag&&3!==c.tag?null:c}function Qe(c){if(5===c.tag||6===c.tag)return c.stateNode;throw Error(w(33));}function Ke(c){return c[Lj]||
null}function Ed(c){return{current:c}}function ze(c){0>pj||(c.current=Uk[pj],Uk[pj]=null,pj--)}function ie(c,d){pj++;Uk[pj]=c.current;c.current=d}function Ca(c,d){var k=c.type.contextTypes;if(!k)return gg;var x=c.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===d)return x.__reactInternalMemoizedMaskedChildContext;var T={},ea;for(ea in k)T[ea]=d[ea];x&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=T);return T}function Va(c){c=
c.childContextTypes;return null!==c&&void 0!==c}function dc(){ze(ch);ze(Bg)}function dd(c,d,k){if(Bg.current!==gg)throw Error(w(168));ie(Bg,d);ie(ch,k)}function fd(c,d,k){var x=c.stateNode;d=d.childContextTypes;if("function"!==typeof x.getChildContext)return k;x=x.getChildContext();for(var T in x)if(!(T in d))throw Error(w(108,vb(c)||"Unknown",T));return mc({},k,x)}function Zc(c){c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||gg;ni=Bg.current;ie(Bg,c);ie(ch,ch.current);return!0}function Bd(c,
d,k){var x=c.stateNode;if(!x)throw Error(w(169));k?(c=fd(c,d,ni),x.__reactInternalMemoizedMergedChildContext=c,ze(ch),ze(Bg),ie(Bg,c)):ze(ch);ie(ch,k)}function Zd(c){null===lg?lg=[c]:lg.push(c)}function Pd(c){ai=!0;Zd(c)}function He(){if(!Vk&&null!==lg){Vk=!0;var c=0,d=rf;try{var k=lg;for(rf=1;c<k.length;c++){var x=k[c];do x=x(!0);while(null!==x)}lg=null;ai=!1}catch(T){throw null!==lg&&(lg=lg.slice(c+1)),Sf(Hk,He),T;}finally{rf=d,Vk=!1}}return null}function gd(c,d){qj[Bh++]=lk;qj[Bh++]=mk;mk=c;lk=
d}function se(c,d,k){Ff[th++]=Ch;Ff[th++]=oi;Ff[th++]=bi;bi=c;var x=Ch;c=oi;var T=32-Nh(x)-1;x&=~(1<<T);k+=1;var ea=32-Nh(d)+T;if(30<ea){var Sa=T-T%5;ea=(x&(1<<Sa)-1).toString(32);x>>=Sa;T-=Sa;Ch=1<<32-Nh(d)+T|k<<T|x;oi=ea+c}else Ch=1<<ea|k<<T|x,oi=c}function Ve(c){null!==c.return&&(gd(c,1),se(c,1,0))}function af(c){for(;c===mk;)mk=qj[--Bh],qj[Bh]=null,lk=qj[--Bh],qj[Bh]=null;for(;c===bi;)bi=Ff[--th],Ff[th]=null,oi=Ff[--th],Ff[th]=null,Ch=Ff[--th],Ff[th]=null}function he(c,d){var k=hg(5,null,null,
0);k.elementType="DELETED";k.stateNode=d;k.return=c;d=c.deletions;null===d?(c.deletions=[k],c.flags|=16):d.push(k)}function lf(c,d){switch(c.tag){case 5:var k=c.type;d=1!==d.nodeType||k.toLowerCase()!==d.nodeName.toLowerCase()?null:d;return null!==d?(c.stateNode=d,Qg=c,Rg=yd(d.firstChild),!0):!1;case 6:return d=""===c.pendingProps||3!==d.nodeType?null:d,null!==d?(c.stateNode=d,Qg=c,Rg=null,!0):!1;case 13:return d=8!==d.nodeType?null:d,null!==d?(k=null!==bi?{id:Ch,overflow:oi}:null,c.memoizedState=
{dehydrated:d,treeContext:k,retryLane:1073741824},k=hg(18,null,null,0),k.stateNode=d,k.return=c,c.child=k,Qg=c,Rg=null,!0):!1;default:return!1}}function xf(c){return 0!==(c.mode&1)&&0===(c.flags&128)}function Be(c){if(Pf){var d=Rg;if(d){var k=d;if(!lf(c,d)){if(xf(c))throw Error(w(418));d=yd(k.nextSibling);var x=Qg;d&&lf(c,d)?he(x,k):(c.flags=c.flags&-4097|2,Pf=!1,Qg=c)}}else{if(xf(c))throw Error(w(418));c.flags=c.flags&-4097|2;Pf=!1;Qg=c}}}function Ue(c){for(c=c.return;null!==c&&5!==c.tag&&3!==c.tag&&
13!==c.tag;)c=c.return;Qg=c}function We(c){if(c!==Qg)return!1;if(!Pf)return Ue(c),Pf=!0,!1;var d;(d=3!==c.tag)&&!(d=5!==c.tag)&&(d=c.type,d="head"!==d&&"body"!==d&&!oe(c.type,c.memoizedProps));if(d&&(d=Rg)){if(xf(c))throw pe(),Error(w(418));for(;d;)he(c,d),d=yd(d.nextSibling)}Ue(c);if(13===c.tag){c=c.memoizedState;c=null!==c?c.dehydrated:null;if(!c)throw Error(w(317));a:{c=c.nextSibling;for(d=0;c;){if(8===c.nodeType){var k=c.data;if("/$"===k){if(0===d){Rg=yd(c.nextSibling);break a}d--}else"$"!==k&&
"$!"!==k&&"$?"!==k||d++}c=c.nextSibling}Rg=null}}else Rg=Qg?yd(c.stateNode.nextSibling):null;return!0}function pe(){for(var c=Rg;c;)c=yd(c.nextSibling)}function ue(){Rg=Qg=null;Pf=!1}function ae(c){null===jh?jh=[c]:jh.push(c)}function qa(c,d,k){c=k.ref;if(null!==c&&"function"!==typeof c&&"object"!==typeof c){if(k._owner){if(k=k._owner){if(1!==k.tag)throw Error(w(309));var x=k.stateNode}if(!x)throw Error(w(147,c));var T=x,ea=""+c;if(null!==d&&null!==d.ref&&"function"===typeof d.ref&&d.ref._stringRef===
ea)return d.ref;d=function(Sa){var Tb=T.refs;null===Sa?delete Tb[ea]:Tb[ea]=Sa};d._stringRef=ea;return d}if("string"!==typeof c)throw Error(w(284));if(!k._owner)throw Error(w(290,c));}return c}function l(c,d){c=Object.prototype.toString.call(d);throw Error(w(31,"[object Object]"===c?"object with keys {"+Object.keys(d).join(", ")+"}":c));}function q(c){var d=c._init;return d(c._payload)}function J(c){function d(Cc,qc){if(c){var Gc=Cc.deletions;null===Gc?(Cc.deletions=[qc],Cc.flags|=16):Gc.push(qc)}}
function k(Cc,qc){if(!c)return null;for(;null!==qc;)d(Cc,qc),qc=qc.sibling;return null}function x(Cc,qc){for(Cc=new Map;null!==qc;)null!==qc.key?Cc.set(qc.key,qc):Cc.set(qc.index,qc),qc=qc.sibling;return Cc}function T(Cc,qc){Cc=$f(Cc,qc);Cc.index=0;Cc.sibling=null;return Cc}function ea(Cc,qc,Gc){Cc.index=Gc;if(!c)return Cc.flags|=1048576,qc;Gc=Cc.alternate;if(null!==Gc)return Gc=Gc.index,Gc<qc?(Cc.flags|=2,qc):Gc;Cc.flags|=2;return qc}function Sa(Cc){c&&null===Cc.alternate&&(Cc.flags|=2);return Cc}
function Tb(Cc,qc,Gc,sd){if(null===qc||6!==qc.tag)return qc=rj(Gc,Cc.mode,sd),qc.return=Cc,qc;qc=T(qc,Gc);qc.return=Cc;return qc}function hc(Cc,qc,Gc,sd){var Od=Gc.type;if(Od===ii)return ed(Cc,qc,Gc.props.children,sd,Gc.key);if(null!==qc&&(qc.elementType===Od||"object"===typeof Od&&null!==Od&&Od.$$typeof===oc&&q(Od)===qc.type))return sd=T(qc,Gc.props),sd.ref=qa(Cc,qc,Gc),sd.return=Cc,sd;sd=zf(Gc.type,Gc.key,Gc.props,null,Cc.mode,sd);sd.ref=qa(Cc,qc,Gc);sd.return=Cc;return sd}function Jc(Cc,qc,Gc,
sd){if(null===qc||4!==qc.tag||qc.stateNode.containerInfo!==Gc.containerInfo||qc.stateNode.implementation!==Gc.implementation)return qc=sj(Gc,Cc.mode,sd),qc.return=Cc,qc;qc=T(qc,Gc.children||[]);qc.return=Cc;return qc}function ed(Cc,qc,Gc,sd,Od){if(null===qc||7!==qc.tag)return qc=Cg(Gc,Cc.mode,sd,Od),qc.return=Cc,qc;qc=T(qc,Gc);qc.return=Cc;return qc}function ld(Cc,qc,Gc){if("string"===typeof qc&&""!==qc||"number"===typeof qc)return qc=rj(""+qc,Cc.mode,Gc),qc.return=Cc,qc;if("object"===typeof qc&&
null!==qc){switch(qc.$$typeof){case Xi:return Gc=zf(qc.type,qc.key,qc.props,null,Cc.mode,Gc),Gc.ref=qa(Cc,null,qc),Gc.return=Cc,Gc;case ji:return qc=sj(qc,Cc.mode,Gc),qc.return=Cc,qc;case oc:var sd=qc._init;return ld(Cc,sd(qc._payload),Gc)}if(me(qc)||Bb(qc))return qc=Cg(qc,Cc.mode,Gc,null),qc.return=Cc,qc;l(Cc,qc)}return null}function cd(Cc,qc,Gc,sd){var Od=null!==qc?qc.key:null;if("string"===typeof Gc&&""!==Gc||"number"===typeof Gc)return null!==Od?null:Tb(Cc,qc,""+Gc,sd);if("object"===typeof Gc&&
null!==Gc){switch(Gc.$$typeof){case Xi:return Gc.key===Od?hc(Cc,qc,Gc,sd):null;case ji:return Gc.key===Od?Jc(Cc,qc,Gc,sd):null;case oc:return Od=Gc._init,cd(Cc,qc,Od(Gc._payload),sd)}if(me(Gc)||Bb(Gc))return null!==Od?null:ed(Cc,qc,Gc,sd,null);l(Cc,Gc)}return null}function Dd(Cc,qc,Gc,sd,Od){if("string"===typeof sd&&""!==sd||"number"===typeof sd)return Cc=Cc.get(Gc)||null,Tb(qc,Cc,""+sd,Od);if("object"===typeof sd&&null!==sd){switch(sd.$$typeof){case Xi:return Cc=Cc.get(null===sd.key?Gc:sd.key)||
null,hc(qc,Cc,sd,Od);case ji:return Cc=Cc.get(null===sd.key?Gc:sd.key)||null,Jc(qc,Cc,sd,Od);case oc:var Yd=sd._init;return Dd(Cc,qc,Gc,Yd(sd._payload),Od)}if(me(sd)||Bb(sd))return Cc=Cc.get(Gc)||null,ed(qc,Cc,sd,Od,null);l(qc,sd)}return null}function Qd(Cc,qc,Gc,sd){for(var Od=null,Yd=null,fe=qc,Rd=qc=0,ug=null;null!==fe&&Rd<Gc.length;Rd++){fe.index>Rd?(ug=fe,fe=null):ug=fe.sibling;var df=cd(Cc,fe,Gc[Rd],sd);if(null===df){null===fe&&(fe=ug);break}c&&fe&&null===df.alternate&&d(Cc,fe);qc=ea(df,qc,
Rd);null===Yd?Od=df:Yd.sibling=df;Yd=df;fe=ug}if(Rd===Gc.length)return k(Cc,fe),Pf&&gd(Cc,Rd),Od;if(null===fe){for(;Rd<Gc.length;Rd++)fe=ld(Cc,Gc[Rd],sd),null!==fe&&(qc=ea(fe,qc,Rd),null===Yd?Od=fe:Yd.sibling=fe,Yd=fe);Pf&&gd(Cc,Rd);return Od}for(fe=x(Cc,fe);Rd<Gc.length;Rd++)ug=Dd(fe,Cc,Rd,Gc[Rd],sd),null!==ug&&(c&&null!==ug.alternate&&fe.delete(null===ug.key?Rd:ug.key),qc=ea(ug,qc,Rd),null===Yd?Od=ug:Yd.sibling=ug,Yd=ug);c&&fe.forEach(function(pi){return d(Cc,pi)});Pf&&gd(Cc,Rd);return Od}function Vd(Cc,
qc,Gc,sd){var Od=Bb(Gc);if("function"!==typeof Od)throw Error(w(150));Gc=Od.call(Gc);if(null==Gc)throw Error(w(151));for(var Yd=Od=null,fe=qc,Rd=qc=0,ug=null,df=Gc.next();null!==fe&&!df.done;Rd++,df=Gc.next()){fe.index>Rd?(ug=fe,fe=null):ug=fe.sibling;var pi=cd(Cc,fe,df.value,sd);if(null===pi){null===fe&&(fe=ug);break}c&&fe&&null===pi.alternate&&d(Cc,fe);qc=ea(pi,qc,Rd);null===Yd?Od=pi:Yd.sibling=pi;Yd=pi;fe=ug}if(df.done)return k(Cc,fe),Pf&&gd(Cc,Rd),Od;if(null===fe){for(;!df.done;Rd++,df=Gc.next())df=
ld(Cc,df.value,sd),null!==df&&(qc=ea(df,qc,Rd),null===Yd?Od=df:Yd.sibling=df,Yd=df);Pf&&gd(Cc,Rd);return Od}for(fe=x(Cc,fe);!df.done;Rd++,df=Gc.next())df=Dd(fe,Cc,Rd,df.value,sd),null!==df&&(c&&null!==df.alternate&&fe.delete(null===df.key?Rd:df.key),qc=ea(df,qc,Rd),null===Yd?Od=df:Yd.sibling=df,Yd=df);c&&fe.forEach(function(Wl){return d(Cc,Wl)});Pf&&gd(Cc,Rd);return Od}function Zf(Cc,qc,Gc,sd){"object"===typeof Gc&&null!==Gc&&Gc.type===ii&&null===Gc.key&&(Gc=Gc.props.children);if("object"===typeof Gc&&
null!==Gc){switch(Gc.$$typeof){case Xi:a:{for(var Od=Gc.key,Yd=qc;null!==Yd;){if(Yd.key===Od){Od=Gc.type;if(Od===ii){if(7===Yd.tag){k(Cc,Yd.sibling);qc=T(Yd,Gc.props.children);qc.return=Cc;Cc=qc;break a}}else if(Yd.elementType===Od||"object"===typeof Od&&null!==Od&&Od.$$typeof===oc&&q(Od)===Yd.type){k(Cc,Yd.sibling);qc=T(Yd,Gc.props);qc.ref=qa(Cc,Yd,Gc);qc.return=Cc;Cc=qc;break a}k(Cc,Yd);break}else d(Cc,Yd);Yd=Yd.sibling}Gc.type===ii?(qc=Cg(Gc.props.children,Cc.mode,sd,Gc.key),qc.return=Cc,Cc=qc):
(sd=zf(Gc.type,Gc.key,Gc.props,null,Cc.mode,sd),sd.ref=qa(Cc,qc,Gc),sd.return=Cc,Cc=sd)}return Sa(Cc);case ji:a:{for(Yd=Gc.key;null!==qc;){if(qc.key===Yd)if(4===qc.tag&&qc.stateNode.containerInfo===Gc.containerInfo&&qc.stateNode.implementation===Gc.implementation){k(Cc,qc.sibling);qc=T(qc,Gc.children||[]);qc.return=Cc;Cc=qc;break a}else{k(Cc,qc);break}else d(Cc,qc);qc=qc.sibling}qc=sj(Gc,Cc.mode,sd);qc.return=Cc;Cc=qc}return Sa(Cc);case oc:return Yd=Gc._init,Zf(Cc,qc,Yd(Gc._payload),sd)}if(me(Gc))return Qd(Cc,
qc,Gc,sd);if(Bb(Gc))return Vd(Cc,qc,Gc,sd);l(Cc,Gc)}return"string"===typeof Gc&&""!==Gc||"number"===typeof Gc?(Gc=""+Gc,null!==qc&&6===qc.tag?(k(Cc,qc.sibling),qc=T(qc,Gc),qc.return=Cc,Cc=qc):(k(Cc,qc),qc=rj(Gc,Cc.mode,sd),qc.return=Cc,Cc=qc),Sa(Cc)):k(Cc,qc)}return Zf}function la(c){var d=tj.current;ze(tj);c._currentValue=d}function Ga(c,d,k){for(;null!==c;){var x=c.alternate;(c.childLanes&d)!==d?(c.childLanes|=d,null!==x&&(x.childLanes|=d)):null!==x&&(x.childLanes&d)!==d&&(x.childLanes|=d);if(c===
k)break;c=c.return}}function Pa(c,d){Hi=c;Mj=qi=null;c=c.dependencies;null!==c&&null!==c.firstContext&&(0!==(c.lanes&d)&&(dh=!0),c.firstContext=null)}function Ka(c){var d=c._currentValue;if(Mj!==c)if(c={context:c,memoizedValue:d,next:null},null===qi){if(null===Hi)throw Error(w(308));qi=c;Hi.dependencies={lanes:0,firstContext:c}}else qi=qi.next=c;return d}function rb(c){null===Yi?Yi=[c]:Yi.push(c)}function nb(c,d,k,x){var T=d.interleaved;null===T?(k.next=k,rb(d)):(k.next=T.next,T.next=k);d.interleaved=
k;return pc(c,x)}function pc(c,d){c.lanes|=d;var k=c.alternate;null!==k&&(k.lanes|=d);k=c;for(c=c.return;null!==c;)c.childLanes|=d,k=c.alternate,null!==k&&(k.childLanes|=d),k=c,c=c.return;return 3===k.tag?k.stateNode:null}function rc(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uc(c,d){c=c.updateQueue;d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,
lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function tc(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Hc(c,d,k){var x=c.updateQueue;if(null===x)return null;x=x.shared;if(0!==(bf&2)){var T=x.pending;null===T?d.next=d:(d.next=T.next,T.next=d);x.pending=d;return pc(c,k)}T=x.interleaved;null===T?(d.next=d,rb(x)):(d.next=T.next,T.next=d);x.interleaved=d;return pc(c,k)}function Uc(c,d,k){d=d.updateQueue;if(null!==d&&(d=d.shared,0!==(k&4194240))){var x=
d.lanes;x&=c.pendingLanes;k|=x;d.lanes=k;sc(c,k)}}function Fd(c,d){var k=c.updateQueue,x=c.alternate;if(null!==x&&(x=x.updateQueue,k===x)){var T=null,ea=null;k=k.firstBaseUpdate;if(null!==k){do{var Sa={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};null===ea?T=ea=Sa:ea=ea.next=Sa;k=k.next}while(null!==k);null===ea?T=ea=d:ea=ea.next=d}else T=ea=d;k={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:ea,shared:x.shared,effects:x.effects};c.updateQueue=
k}else c=k.lastBaseUpdate,null===c?k.firstBaseUpdate=d:c.next=d,k.lastBaseUpdate=d}function od(c,d,k,x){var T=c.updateQueue;ri=!1;var ea=T.firstBaseUpdate,Sa=T.lastBaseUpdate,Tb=T.shared.pending;if(null!==Tb){T.shared.pending=null;var hc=Tb,Jc=hc.next;hc.next=null;null===Sa?ea=Jc:Sa.next=Jc;var ed=c.alternate;null!==ed&&(ed=ed.updateQueue,Tb=ed.lastBaseUpdate,Tb!==hc&&(null===Tb?ed.firstBaseUpdate=Jc:Tb.next=Jc,ed.lastBaseUpdate=hc))}if(null!==ea){var ld=T.baseState;Sa=0;ed=Jc=hc=null;Tb=ea;do{var cd=
Tb.lane,Dd=Tb.eventTime;if((x&cd)===cd){null!==ed&&(ed=ed.next={eventTime:Dd,lane:0,tag:Tb.tag,payload:Tb.payload,callback:Tb.callback,next:null});a:{var Qd=c,Vd=Tb;cd=d;Dd=k;switch(Vd.tag){case 1:Qd=Vd.payload;if("function"===typeof Qd){ld=Qd.call(Dd,ld,cd);break a}ld=Qd;break a;case 3:Qd.flags=Qd.flags&-65537|128;case 0:Qd=Vd.payload;cd="function"===typeof Qd?Qd.call(Dd,ld,cd):Qd;if(null===cd||void 0===cd)break a;ld=mc({},ld,cd);break a;case 2:ri=!0}}null!==Tb.callback&&0!==Tb.lane&&(c.flags|=64,
cd=T.effects,null===cd?T.effects=[Tb]:cd.push(Tb))}else Dd={eventTime:Dd,lane:cd,tag:Tb.tag,payload:Tb.payload,callback:Tb.callback,next:null},null===ed?(Jc=ed=Dd,hc=ld):ed=ed.next=Dd,Sa|=cd;Tb=Tb.next;if(null===Tb)if(Tb=T.shared.pending,null===Tb)break;else cd=Tb,Tb=cd.next,cd.next=null,T.lastBaseUpdate=cd,T.shared.pending=null}while(1);null===ed&&(hc=ld);T.baseState=hc;T.firstBaseUpdate=Jc;T.lastBaseUpdate=ed;d=T.shared.interleaved;if(null!==d){T=d;do Sa|=T.lane,T=T.next;while(T!==d)}else null===
ea&&(T.shared.lanes=0);mf|=Sa;c.lanes=Sa;c.memoizedState=ld}}function vd(c,d,k){c=d.effects;d.effects=null;if(null!==c)for(d=0;d<c.length;d++){var x=c[d],T=x.callback;if(null!==T){x.callback=null;x=k;if("function"!==typeof T)throw Error(w(191,T));T.call(x)}}}function Gd(c){if(c===uj)throw Error(w(174));return c}function kc(c,d){ie(vj,d);ie(wj,c);ie(ci,uj);c=d.nodeType;switch(c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:da(null,"");break;default:c=8===c?d.parentNode:d,d=c.namespaceURI||
null,c=c.tagName,d=da(d,c)}ze(ci);ie(ci,d)}function qd(){ze(ci);ze(wj);ze(vj)}function qe(c){Gd(vj.current);var d=Gd(ci.current),k=da(d,c.type);d!==k&&(ie(wj,c),ie(ci,k))}function de(c){wj.current===c&&(ze(ci),ze(wj))}function Wd(c){for(var d=c;null!==d;){if(13===d.tag){var k=d.memoizedState;if(null!==k&&(k=k.dehydrated,null===k||"$?"===k.data||"$!"===k.data))return d}else if(19===d.tag&&void 0!==d.memoizedProps.revealOrder){if(0!==(d.flags&128))return d}else if(null!==d.child){d.child.return=d;d=
d.child;continue}if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return null;d=d.return}d.sibling.return=d.return;d=d.sibling}return null}function Ad(){for(var c=0;c<Ii.length;c++)Ii[c]._workInProgressVersionPrimary=null;Ii.length=0}function xd(){throw Error(w(321));}function le(c,d){if(null===d)return!1;for(var k=0;k<d.length&&k<c.length;k++)if(!Oh(c[k],d[k]))return!1;return!0}function ve(c,d,k,x,T,ea){Zi=ea;sf=d;d.memoizedState=null;d.updateQueue=null;d.lanes=0;Nj.current=
null===c||null===c.memoizedState?Xl:sl;c=k(x,T);if(Oj){ea=0;do{Oj=!1;Pj=0;if(25<=ea)throw Error(w(301));ea+=1;vg=mg=null;d.updateQueue=null;Nj.current=tl;c=k(x,T)}while(Oj)}Nj.current=Qj;d=null!==mg&&null!==mg.next;Zi=0;vg=mg=sf=null;$i=!1;if(d)throw Error(w(300));return c}function be(){var c=0!==Pj;Pj=0;return c}function Ce(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===vg?sf.memoizedState=vg=c:vg=vg.next=c;return vg}function Vc(){if(null===mg){var c=sf.alternate;
c=null!==c?c.memoizedState:null}else c=mg.next;var d=null===vg?sf.memoizedState:vg.next;if(null!==d)vg=d,mg=c;else{if(null===c)throw Error(w(310));mg=c;c={memoizedState:mg.memoizedState,baseState:mg.baseState,baseQueue:mg.baseQueue,queue:mg.queue,next:null};null===vg?sf.memoizedState=vg=c:vg=vg.next=c}return vg}function je(c,d){return"function"===typeof d?d(c):d}function ef(c){var d=Vc(),k=d.queue;if(null===k)throw Error(w(311));k.lastRenderedReducer=c;var x=mg,T=x.baseQueue,ea=k.pending;if(null!==
ea){if(null!==T){var Sa=T.next;T.next=ea.next;ea.next=Sa}x.baseQueue=T=ea;k.pending=null}if(null!==T){ea=T.next;x=x.baseState;var Tb=Sa=null,hc=null,Jc=ea;do{var ed=Jc.lane;if((Zi&ed)===ed)null!==hc&&(hc=hc.next={lane:0,action:Jc.action,hasEagerState:Jc.hasEagerState,eagerState:Jc.eagerState,next:null}),x=Jc.hasEagerState?Jc.eagerState:c(x,Jc.action);else{var ld={lane:ed,action:Jc.action,hasEagerState:Jc.hasEagerState,eagerState:Jc.eagerState,next:null};null===hc?(Tb=hc=ld,Sa=x):hc=hc.next=ld;sf.lanes|=
ed;mf|=ed}Jc=Jc.next}while(null!==Jc&&Jc!==ea);null===hc?Sa=x:hc.next=Tb;Oh(x,d.memoizedState)||(dh=!0);d.memoizedState=x;d.baseState=Sa;d.baseQueue=hc;k.lastRenderedState=x}c=k.interleaved;if(null!==c){T=c;do ea=T.lane,sf.lanes|=ea,mf|=ea,T=T.next;while(T!==c)}else null===T&&(k.lanes=0);return[d.memoizedState,k.dispatch]}function jf(c){var d=Vc(),k=d.queue;if(null===k)throw Error(w(311));k.lastRenderedReducer=c;var x=k.dispatch,T=k.pending,ea=d.memoizedState;if(null!==T){k.pending=null;var Sa=T=
T.next;do ea=c(ea,Sa.action),Sa=Sa.next;while(Sa!==T);Oh(ea,d.memoizedState)||(dh=!0);d.memoizedState=ea;null===d.baseQueue&&(d.baseState=ea);k.lastRenderedState=ea}return[ea,x]}function Dg(){}function tf(c,d){var k=sf,x=Vc(),T=d(),ea=!Oh(x.memoizedState,T);ea&&(x.memoizedState=T,dh=!0);x=x.queue;Sg(ff.bind(null,k,x,c),[c]);if(x.getSnapshot!==d||ea||null!==vg&&vg.memoizedState.tag&1){k.flags|=2048;Af(9,ag.bind(null,k,x,T,d),void 0,null);if(null===ng)throw Error(w(349));0!==(Zi&30)||Mf(k,d,T)}return T}
function Mf(c,d,k){c.flags|=16384;c={getSnapshot:d,value:k};d=sf.updateQueue;null===d?(d={lastEffect:null,stores:null},sf.updateQueue=d,d.stores=[c]):(k=d.stores,null===k?d.stores=[c]:k.push(c))}function ag(c,d,k,x){d.value=k;d.getSnapshot=x;Le(d)&&bg(c)}function ff(c,d,k){return k(function(){Le(d)&&bg(c)})}function Le(c){var d=c.getSnapshot;c=c.value;try{var k=d();return!Oh(c,k)}catch(x){return!0}}function bg(c){var d=pc(c,1);null!==d&&r(d,c,1,-1)}function Tg(c){var d=Ce();"function"===typeof c&&
(c=c());d.memoizedState=d.baseState=c;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:je,lastRenderedState:c};d.queue=c;c=c.dispatch=Id.bind(null,sf,c);return[d.memoizedState,c]}function Af(c,d,k,x){c={tag:c,create:d,destroy:k,deps:x,next:null};d=sf.updateQueue;null===d?(d={lastEffect:null,stores:null},sf.updateQueue=d,d.lastEffect=c.next=c):(k=d.lastEffect,null===k?d.lastEffect=c.next=c:(x=k.next,k.next=c,c.next=x,d.lastEffect=c));return c}function cg(){return Vc().memoizedState}
function Gf(c,d,k,x){var T=Ce();sf.flags|=c;T.memoizedState=Af(1|d,k,void 0,void 0===x?null:x)}function Ug(c,d,k,x){var T=Vc();x=void 0===x?null:x;var ea=void 0;if(null!==mg){var Sa=mg.memoizedState;ea=Sa.destroy;if(null!==x&&le(x,Sa.deps)){T.memoizedState=Af(d,k,ea,x);return}}sf.flags|=c;T.memoizedState=Af(1|d,k,ea,x)}function eh(c,d){return Gf(8390656,8,c,d)}function Sg(c,d){return Ug(2048,8,c,d)}function Vg(c,d){return Ug(4,2,c,d)}function Wg(c,d){return Ug(4,4,c,d)}function kh(c,d){if("function"===
typeof d)return c=c(),d(c),function(){d(null)};if(null!==d&&void 0!==d)return c=c(),d.current=c,function(){d.current=null}}function Hf(c,d,k){k=null!==k&&void 0!==k?k.concat([c]):null;return Ug(4,4,kh.bind(null,d,c),k)}function U(){}function La(c,d){var k=Vc();d=void 0===d?null:d;var x=k.memoizedState;if(null!==x&&null!==d&&le(d,x[1]))return x[0];k.memoizedState=[c,d];return c}function lb(c,d){var k=Vc();d=void 0===d?null:d;var x=k.memoizedState;if(null!==x&&null!==d&&le(d,x[1]))return x[0];c=c();
k.memoizedState=[c,d];return c}function xc(c,d,k){if(0===(Zi&21))return c.baseState&&(c.baseState=!1,dh=!0),c.memoizedState=k;Oh(k,d)||(k=nc(),sf.lanes|=k,mf|=k,c.baseState=!0);return d}function Bc(c,d){var k=rf;rf=0!==k&&4>k?k:4;c(!0);var x=nk.transition;nk.transition={};try{c(!1),d()}finally{rf=k,nk.transition=x}}function wd(){return Vc().memoizedState}function Xd(c,d,k){var x=$b(c);k={lane:x,action:k,hasEagerState:!1,eagerState:null,next:null};if(Tf(c))kf(d,k);else if(k=nb(c,d,k,x),null!==k){var T=
Ab();r(k,c,x,T);wg(k,d,x)}}function Id(c,d,k){var x=$b(c),T={lane:x,action:k,hasEagerState:!1,eagerState:null,next:null};if(Tf(c))kf(d,T);else{var ea=c.alternate;if(0===c.lanes&&(null===ea||0===ea.lanes)&&(ea=d.lastRenderedReducer,null!==ea))try{var Sa=d.lastRenderedState,Tb=ea(Sa,k);T.hasEagerState=!0;T.eagerState=Tb;if(Oh(Tb,Sa)){var hc=d.interleaved;null===hc?(T.next=T,rb(d)):(T.next=hc.next,hc.next=T);d.interleaved=T;return}}catch(Jc){}finally{}k=nb(c,d,T,x);null!==k&&(T=Ab(),r(k,c,x,T),wg(k,
d,x))}}function Tf(c){var d=c.alternate;return c===sf||null!==d&&d===sf}function kf(c,d){Oj=$i=!0;var k=c.pending;null===k?d.next=d:(d.next=k.next,k.next=d);c.pending=d}function wg(c,d,k){if(0!==(k&4194240)){var x=d.lanes;x&=c.pendingLanes;k|=x;d.lanes=k;sc(c,k)}}function Uf(c,d){if(c&&c.defaultProps){d=mc({},d);c=c.defaultProps;for(var k in c)void 0===d[k]&&(d[k]=c[k])}return d}function Xg(c,d,k,x){d=c.memoizedState;k=k(x,d);k=null===k||void 0===k?d:mc({},d,k);c.memoizedState=k;0===c.lanes&&(c.updateQueue.baseState=
k)}function ig(c,d,k,x,T,ea,Sa){c=c.stateNode;return"function"===typeof c.shouldComponentUpdate?c.shouldComponentUpdate(x,ea,Sa):d.prototype&&d.prototype.isPureReactComponent?!ua(k,x)||!ua(T,ea):!0}function Kg(c,d,k){var x=!1,T=gg,ea=d.contextType;"object"===typeof ea&&null!==ea?ea=Ka(ea):(T=Va(d)?ni:Bg.current,x=d.contextTypes,ea=(x=null!==x&&void 0!==x)?Ca(c,T):gg);d=new d(k,ea);c.memoizedState=null!==d.state&&void 0!==d.state?d.state:null;d.updater=ok;c.stateNode=d;d._reactInternals=c;x&&(c=c.stateNode,
c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=ea);return d}function Dh(c,d,k,x){c=d.state;"function"===typeof d.componentWillReceiveProps&&d.componentWillReceiveProps(k,x);"function"===typeof d.UNSAFE_componentWillReceiveProps&&d.UNSAFE_componentWillReceiveProps(k,x);d.state!==c&&ok.enqueueReplaceState(d,d.state,null)}function Ld(c,d,k,x){var T=c.stateNode;T.props=k;T.state=c.memoizedState;T.refs={};rc(c);var ea=d.contextType;"object"===typeof ea&&null!==
ea?T.context=Ka(ea):(ea=Va(d)?ni:Bg.current,T.context=Ca(c,ea));T.state=c.memoizedState;ea=d.getDerivedStateFromProps;"function"===typeof ea&&(Xg(c,d,ea,k),T.state=c.memoizedState);"function"===typeof d.getDerivedStateFromProps||"function"===typeof T.getSnapshotBeforeUpdate||"function"!==typeof T.UNSAFE_componentWillMount&&"function"!==typeof T.componentWillMount||(d=T.state,"function"===typeof T.componentWillMount&&T.componentWillMount(),"function"===typeof T.UNSAFE_componentWillMount&&T.UNSAFE_componentWillMount(),
d!==T.state&&ok.enqueueReplaceState(T,T.state,null),od(c,k,T,x),T.state=c.memoizedState);"function"===typeof T.componentDidMount&&(c.flags|=4194308)}function Sd(c,d){try{var k="",x=d;do k+=Ea(x),x=x.return;while(x)}catch(T){k="\nError generating stack: "+T.message+"\n"+T.stack}return{value:c,source:d,stack:k,digest:null}}function nf(c,d,k){return{value:c,source:null,stack:null!=k?k:null,digest:null!=d?d:null}}function we(c,d){try{console.error(d.value)}catch(k){setTimeout(function(){throw k;})}}function gf(c,
d,k){k=tc(-1,k);k.tag=3;k.payload={element:null};var x=d.value;k.callback=function(){pk||(pk=!0,qk=x);we(c,d)};return k}function Re(c,d,k){k=tc(-1,k);k.tag=3;var x=c.type.getDerivedStateFromError;if("function"===typeof x){var T=d.value;k.payload=function(){return x(T)};k.callback=function(){we(c,d)}}var ea=c.stateNode;null!==ea&&"function"===typeof ea.componentDidCatch&&(k.callback=function(){we(c,d);"function"!==typeof x&&(null===si?si=new Set([this]):si.add(this));var Sa=d.stack;this.componentDidCatch(d.value,
{componentStack:null!==Sa?Sa:""})});return k}function of(c,d,k){var x=c.pingCache;if(null===x){x=c.pingCache=new Yl;var T=new Set;x.set(d,T)}else T=x.get(d),void 0===T&&(T=new Set,x.set(d,T));T.has(k)||(T.add(k),c=yf.bind(null,c,d,k),d.then(c,c))}function Vf(c){do{var d;if(d=13===c.tag)d=c.memoizedState,d=null!==d?null!==d.dehydrated?!0:!1:!0;if(d)return c;c=c.return}while(null!==c);return null}function Nf(c,d,k,x,T){if(0===(c.mode&1))return c===d?c.flags|=65536:(c.flags|=128,k.flags|=131072,k.flags&=
-52805,1===k.tag&&(null===k.alternate?k.tag=17:(d=tc(-1,1),d.tag=2,Hc(k,d,1))),k.lanes|=1),c;c.flags|=65536;c.lanes=T;return c}function Xe(c,d,k,x){d.child=null===c?ul(d,null,k,x):Ji(d,c.child,k,x)}function Yg(c,d,k,x,T){k=k.render;var ea=d.ref;Pa(d,T);x=ve(c,d,k,x,ea,T);k=be();if(null!==c&&!dh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~T,Eg(c,d,T);Pf&&k&&Ve(d);d.flags|=1;Xe(c,d,x,T);return d.child}function xg(c,d,k,x,T){if(null===c){var ea=k.type;if("function"===typeof ea&&!Eh(ea)&&
void 0===ea.defaultProps&&null===k.compare&&void 0===k.defaultProps)return d.tag=15,d.type=ea,lh(c,d,ea,x,T);c=zf(k.type,null,x,d,d.mode,T);c.ref=d.ref;c.return=d;return d.child=c}ea=c.child;if(0===(c.lanes&T)){var Sa=ea.memoizedProps;k=k.compare;k=null!==k?k:ua;if(k(Sa,x)&&c.ref===d.ref)return Eg(c,d,T)}d.flags|=1;c=$f(ea,x);c.ref=d.ref;c.return=d;return d.child=c}function lh(c,d,k,x,T){if(null!==c){var ea=c.memoizedProps;if(ua(ea,x)&&c.ref===d.ref)if(dh=!1,d.pendingProps=x=ea,0!==(c.lanes&T))0!==
(c.flags&131072)&&(dh=!0);else return d.lanes=c.lanes,Eg(c,d,T)}return og(c,d,k,x,T)}function Of(c,d,k){var x=d.pendingProps,T=x.children,ea=null!==c?c.memoizedState:null;if("hidden"===x.mode)if(0===(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(xj,uh),uh|=k;else{if(0===(k&1073741824))return c=null!==ea?ea.baseLanes|k:k,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,ie(xj,uh),uh|=c,null;d.memoizedState=
{baseLanes:0,cachePool:null,transitions:null};x=null!==ea?ea.baseLanes:k;ie(xj,uh);uh|=x}else null!==ea?(x=ea.baseLanes|k,d.memoizedState=null):x=k,ie(xj,uh),uh|=x;Xe(c,d,T,k);return d.child}function Rh(c,d){var k=d.ref;if(null===c&&null!==k||null!==c&&c.ref!==k)d.flags|=512,d.flags|=2097152}function og(c,d,k,x,T){var ea=Va(k)?ni:Bg.current;ea=Ca(d,ea);Pa(d,T);k=ve(c,d,k,x,ea,T);x=be();if(null!==c&&!dh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~T,Eg(c,d,T);Pf&&x&&Ve(d);d.flags|=1;
Xe(c,d,k,T);return d.child}function vh(c,d,k,x,T){if(Va(k)){var ea=!0;Zc(d)}else ea=!1;Pa(d,T);if(null===d.stateNode)Fh(c,d),Kg(d,k,x),Ld(d,k,x,T),x=!0;else if(null===c){var Sa=d.stateNode,Tb=d.memoizedProps;Sa.props=Tb;var hc=Sa.context,Jc=k.contextType;"object"===typeof Jc&&null!==Jc?Jc=Ka(Jc):(Jc=Va(k)?ni:Bg.current,Jc=Ca(d,Jc));var ed=k.getDerivedStateFromProps,ld="function"===typeof ed||"function"===typeof Sa.getSnapshotBeforeUpdate;ld||"function"!==typeof Sa.UNSAFE_componentWillReceiveProps&&
"function"!==typeof Sa.componentWillReceiveProps||(Tb!==x||hc!==Jc)&&Dh(d,Sa,x,Jc);ri=!1;var cd=d.memoizedState;Sa.state=cd;od(d,x,Sa,T);hc=d.memoizedState;Tb!==x||cd!==hc||ch.current||ri?("function"===typeof ed&&(Xg(d,k,ed,x),hc=d.memoizedState),(Tb=ri||ig(d,k,Tb,x,cd,hc,Jc))?(ld||"function"!==typeof Sa.UNSAFE_componentWillMount&&"function"!==typeof Sa.componentWillMount||("function"===typeof Sa.componentWillMount&&Sa.componentWillMount(),"function"===typeof Sa.UNSAFE_componentWillMount&&Sa.UNSAFE_componentWillMount()),
"function"===typeof Sa.componentDidMount&&(d.flags|=4194308)):("function"===typeof Sa.componentDidMount&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=hc),Sa.props=x,Sa.state=hc,Sa.context=Jc,x=Tb):("function"===typeof Sa.componentDidMount&&(d.flags|=4194308),x=!1)}else{Sa=d.stateNode;uc(c,d);Tb=d.memoizedProps;Jc=d.type===d.elementType?Tb:Uf(d.type,Tb);Sa.props=Jc;ld=d.pendingProps;cd=Sa.context;hc=k.contextType;"object"===typeof hc&&null!==hc?hc=Ka(hc):(hc=Va(k)?ni:Bg.current,hc=Ca(d,hc));
var Dd=k.getDerivedStateFromProps;(ed="function"===typeof Dd||"function"===typeof Sa.getSnapshotBeforeUpdate)||"function"!==typeof Sa.UNSAFE_componentWillReceiveProps&&"function"!==typeof Sa.componentWillReceiveProps||(Tb!==ld||cd!==hc)&&Dh(d,Sa,x,hc);ri=!1;cd=d.memoizedState;Sa.state=cd;od(d,x,Sa,T);var Qd=d.memoizedState;Tb!==ld||cd!==Qd||ch.current||ri?("function"===typeof Dd&&(Xg(d,k,Dd,x),Qd=d.memoizedState),(Jc=ri||ig(d,k,Jc,x,cd,Qd,hc)||!1)?(ed||"function"!==typeof Sa.UNSAFE_componentWillUpdate&&
"function"!==typeof Sa.componentWillUpdate||("function"===typeof Sa.componentWillUpdate&&Sa.componentWillUpdate(x,Qd,hc),"function"===typeof Sa.UNSAFE_componentWillUpdate&&Sa.UNSAFE_componentWillUpdate(x,Qd,hc)),"function"===typeof Sa.componentDidUpdate&&(d.flags|=4),"function"===typeof Sa.getSnapshotBeforeUpdate&&(d.flags|=1024)):("function"!==typeof Sa.componentDidUpdate||Tb===c.memoizedProps&&cd===c.memoizedState||(d.flags|=4),"function"!==typeof Sa.getSnapshotBeforeUpdate||Tb===c.memoizedProps&&
cd===c.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=Qd),Sa.props=x,Sa.state=Qd,Sa.context=hc,x=Jc):("function"!==typeof Sa.componentDidUpdate||Tb===c.memoizedProps&&cd===c.memoizedState||(d.flags|=4),"function"!==typeof Sa.getSnapshotBeforeUpdate||Tb===c.memoizedProps&&cd===c.memoizedState||(d.flags|=1024),x=!1)}return jg(c,d,k,x,ea,T)}function jg(c,d,k,x,T,ea){Rh(c,d);var Sa=0!==(d.flags&128);if(!x&&!Sa)return T&&Bd(d,k,!1),Eg(c,d,ea);x=d.stateNode;vl.current=d;var Tb=Sa&&"function"!==
typeof k.getDerivedStateFromError?null:x.render();d.flags|=1;null!==c&&Sa?(d.child=Ji(d,c.child,null,ea),d.child=Ji(d,null,Tb,ea)):Xe(c,d,Tb,ea);d.memoizedState=x.state;T&&Bd(d,k,!0);return d.child}function Sh(c){var d=c.stateNode;d.pendingContext?dd(c,d.pendingContext,d.pendingContext!==d.context):d.context&&dd(c,d.context,!1);kc(c,d.containerInfo)}function aj(c){return{baseLanes:c,cachePool:null,transitions:null}}function Fg(c,d,k){var x=d.pendingProps,T=Bf.current,ea=!1,Sa=0!==(d.flags&128),Tb;
(Tb=Sa)||(Tb=null!==c&&null===c.memoizedState?!1:0!==(T&2));if(Tb)ea=!0,d.flags&=-129;else if(null===c||null!==c.memoizedState)T|=1;ie(Bf,T&1);if(null===c){Be(d);c=d.memoizedState;if(null!==c&&(c=c.dehydrated,null!==c))return 0===(d.mode&1)?d.lanes=1:"$!"===c.data?d.lanes=8:d.lanes=1073741824,null;Sa=x.children;c=x.fallback;return ea?(x=d.mode,ea=d.child,Sa={mode:"hidden",children:Sa},0===(x&1)&&null!==ea?(ea.childLanes=0,ea.pendingProps=Sa):ea=Ki(Sa,x,0,null),c=Cg(c,x,k,null),ea.return=d,c.return=
d,ea.sibling=c,d.child=ea,d.child.memoizedState=aj(k),d.memoizedState=Wk,c):ti(d,Sa)}T=c.memoizedState;if(null!==T&&(Tb=T.dehydrated,null!==Tb))return bj(c,d,Sa,x,Tb,T,k);if(ea){ea=x.fallback;Sa=d.mode;T=c.child;Tb=T.sibling;var hc={mode:"hidden",children:x.children};0===(Sa&1)&&d.child!==T?(x=d.child,x.childLanes=0,x.pendingProps=hc,d.deletions=null):(x=$f(T,hc),x.subtreeFlags=T.subtreeFlags&14680064);null!==Tb?ea=$f(Tb,ea):(ea=Cg(ea,Sa,k,null),ea.flags|=2);ea.return=d;x.return=d;x.sibling=ea;d.child=
x;x=ea;ea=d.child;Sa=c.child.memoizedState;Sa=null===Sa?aj(k):{baseLanes:Sa.baseLanes|k,cachePool:null,transitions:Sa.transitions};ea.memoizedState=Sa;ea.childLanes=c.childLanes&~k;d.memoizedState=Wk;return x}ea=c.child;c=ea.sibling;x=$f(ea,{mode:"visible",children:x.children});0===(d.mode&1)&&(x.lanes=k);x.return=d;x.sibling=null;null!==c&&(k=d.deletions,null===k?(d.deletions=[c],d.flags|=16):k.push(c));d.child=x;d.memoizedState=null;return x}function ti(c,d){d=Ki({mode:"visible",children:d},c.mode,
0,null);d.return=c;return c.child=d}function di(c,d,k,x){null!==x&&ae(x);Ji(d,c.child,null,k);c=ti(d,d.pendingProps.children);c.flags|=2;d.memoizedState=null;return c}function bj(c,d,k,x,T,ea,Sa){if(k){if(d.flags&256)return d.flags&=-257,x=nf(Error(w(422))),di(c,d,Sa,x);if(null!==d.memoizedState)return d.child=c.child,d.flags|=128,null;ea=x.fallback;T=d.mode;x=Ki({mode:"visible",children:x.children},T,0,null);ea=Cg(ea,T,Sa,null);ea.flags|=2;x.return=d;ea.return=d;x.sibling=ea;d.child=x;0!==(d.mode&
1)&&Ji(d,c.child,null,Sa);d.child.memoizedState=aj(Sa);d.memoizedState=Wk;return ea}if(0===(d.mode&1))return di(c,d,Sa,null);if("$!"===T.data){if(x=T.nextSibling&&T.nextSibling.dataset)var Tb=x.dgst;x=Tb;ea=Error(w(419));x=nf(ea,x,void 0);return di(c,d,Sa,x)}Tb=0!==(Sa&c.childLanes);if(dh||Tb){x=ng;if(null!==x){switch(Sa&-Sa){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=
32;break;case 536870912:T=268435456;break;default:T=0}T=0!==(T&(x.suspendedLanes|Sa))?0:T;0!==T&&T!==ea.retryLane&&(ea.retryLane=T,pc(c,T),r(x,c,T,-1))}xe();x=nf(Error(w(421)));return di(c,d,Sa,x)}if("$?"===T.data)return d.flags|=128,d.child=c.child,d=mh.bind(null,c),T._reactRetry=d,null;c=ea.treeContext;Rg=yd(T.nextSibling);Qg=d;Pf=!0;jh=null;null!==c&&(Ff[th++]=Ch,Ff[th++]=oi,Ff[th++]=bi,Ch=c.id,oi=c.overflow,bi=d);d=ti(d,x.children);d.flags|=4096;return d}function ui(c,d,k){c.lanes|=d;var x=c.alternate;
null!==x&&(x.lanes|=d);Ga(c.return,d,k)}function wh(c,d,k,x,T){var ea=c.memoizedState;null===ea?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:k,tailMode:T}:(ea.isBackwards=d,ea.rendering=null,ea.renderingStartTime=0,ea.last=x,ea.tail=k,ea.tailMode=T)}function Li(c,d,k){var x=d.pendingProps,T=x.revealOrder,ea=x.tail;Xe(c,d,x.children,k);x=Bf.current;if(0!==(x&2))x=x&1|2,d.flags|=128;else{if(null!==c&&0!==(c.flags&128))a:for(c=d.child;null!==c;){if(13===c.tag)null!==
c.memoizedState&&ui(c,k,d);else if(19===c.tag)ui(c,k,d);else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===d)break a;for(;null===c.sibling;){if(null===c.return||c.return===d)break a;c=c.return}c.sibling.return=c.return;c=c.sibling}x&=1}ie(Bf,x);if(0===(d.mode&1))d.memoizedState=null;else switch(T){case "forwards":k=d.child;for(T=null;null!==k;)c=k.alternate,null!==c&&null===Wd(c)&&(T=k),k=k.sibling;k=T;null===k?(T=d.child,d.child=null):(T=k.sibling,k.sibling=null);wh(d,!1,T,k,ea);
break;case "backwards":k=null;T=d.child;for(d.child=null;null!==T;){c=T.alternate;if(null!==c&&null===Wd(c)){d.child=T;break}c=T.sibling;T.sibling=k;k=T;T=c}wh(d,!0,k,null,ea);break;case "together":wh(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Fh(c,d){0===(d.mode&1)&&null!==c&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Eg(c,d,k){null!==c&&(d.dependencies=c.dependencies);mf|=d.lanes;if(0===(k&d.childLanes))return null;if(null!==c&&d.child!==c.child)throw Error(w(153));
if(null!==d.child){c=d.child;k=$f(c,c.pendingProps);d.child=k;for(k.return=d;null!==c.sibling;)c=c.sibling,k=k.sibling=$f(c,c.pendingProps),k.return=d;k.sibling=null}return d.child}function Gh(c,d,k){switch(d.tag){case 3:Sh(d);ue();break;case 5:qe(d);break;case 1:Va(d.type)&&Zc(d);break;case 4:kc(d,d.stateNode.containerInfo);break;case 10:var x=d.type._context,T=d.memoizedProps.value;ie(tj,x._currentValue);x._currentValue=T;break;case 13:x=d.memoizedState;if(null!==x){if(null!==x.dehydrated)return ie(Bf,
Bf.current&1),d.flags|=128,null;if(0!==(k&d.child.childLanes))return Fg(c,d,k);ie(Bf,Bf.current&1);c=Eg(c,d,k);return null!==c?c.sibling:null}ie(Bf,Bf.current&1);break;case 19:x=0!==(k&d.childLanes);if(0!==(c.flags&128)){if(x)return Li(c,d,k);d.flags|=128}T=d.memoizedState;null!==T&&(T.rendering=null,T.tail=null,T.lastEffect=null);ie(Bf,Bf.current);if(x)break;else return null;case 22:case 23:return d.lanes=0,Of(c,d,k)}return Eg(c,d,k)}function Hh(c,d){if(!Pf)switch(c.tailMode){case "hidden":d=c.tail;
for(var k=null;null!==d;)null!==d.alternate&&(k=d),d=d.sibling;null===k?c.tail=null:k.sibling=null;break;case "collapsed":k=c.tail;for(var x=null;null!==k;)null!==k.alternate&&(x=k),k=k.sibling;null===x?d||null===c.tail?c.tail=null:c.tail.sibling=null:x.sibling=null}}function dg(c){var d=null!==c.alternate&&c.alternate.child===c.child,k=0,x=0;if(d)for(var T=c.child;null!==T;)k|=T.lanes|T.childLanes,x|=T.subtreeFlags&14680064,x|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;null!==T;)k|=
T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=c,T=T.sibling;c.subtreeFlags|=x;c.childLanes=k;return d}function cj(c,d,k){var x=d.pendingProps;af(d);switch(d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dg(d),null;case 1:return Va(d.type)&&dc(),dg(d),null;case 3:x=d.stateNode;qd();ze(ch);ze(Bg);Ad();x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null);if(null===c||null===c.child)We(d)?d.flags|=4:null===c||c.memoizedState.isDehydrated&&
0===(d.flags&256)||(d.flags|=1024,null!==jh&&(bb(jh),jh=null));ei(c,d);dg(d);return null;case 5:de(d);var T=Gd(vj.current);k=d.type;if(null!==c&&null!=d.stateNode)wl(c,d,k,x,T),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!x){if(null===d.stateNode)throw Error(w(166));dg(d);return null}c=Gd(ci.current);if(We(d)){x=d.stateNode;k=d.type;var ea=d.memoizedProps;x[Qh]=d;x[Lj]=ea;c=0!==(d.mode&1);switch(k){case "dialog":Wc("cancel",x);Wc("close",x);break;case "iframe":case "object":case "embed":Wc("load",
x);break;case "video":case "audio":for(T=0;T<yj.length;T++)Wc(yj[T],x);break;case "source":Wc("error",x);break;case "img":case "image":case "link":Wc("error",x);Wc("load",x);break;case "details":Wc("toggle",x);break;case "input":ya(x,ea);Wc("invalid",x);break;case "select":x._wrapperState={wasMultiple:!!ea.multiple};Wc("invalid",x);break;case "textarea":Pb(x,ea),Wc("invalid",x)}sa(k,ea);T=null;for(var Sa in ea)if(ea.hasOwnProperty(Sa)){var Tb=ea[Sa];"children"===Sa?"string"===typeof Tb?x.textContent!==
Tb&&(!0!==ea.suppressHydrationWarning&&Ae(x.textContent,Tb,c),T=["children",Tb]):"number"===typeof Tb&&x.textContent!==""+Tb&&(!0!==ea.suppressHydrationWarning&&Ae(x.textContent,Tb,c),T=["children",""+Tb]):Wh.hasOwnProperty(Sa)&&null!=Tb&&"onScroll"===Sa&&Wc("scroll",x)}switch(k){case "input":jb(x);Ja(x,ea,!0);break;case "textarea":jb(x);V(x);break;case "select":case "option":break;default:"function"===typeof ea.onClick&&(x.onclick=Ge)}x=T;d.updateQueue=x;null!==x&&(d.flags|=4)}else{Sa=9===T.nodeType?
T:T.ownerDocument;"http://www.w3.org/1999/xhtml"===c&&(c=aa(k));"http://www.w3.org/1999/xhtml"===c?"script"===k?(c=Sa.createElement("div"),c.innerHTML="\x3cscript\x3e\x3c/script\x3e",c=c.removeChild(c.firstChild)):"string"===typeof x.is?c=Sa.createElement(k,{is:x.is}):(c=Sa.createElement(k),"select"===k&&(Sa=c,x.multiple?Sa.multiple=!0:x.size&&(Sa.size=x.size))):c=Sa.createElementNS(c,k);c[Qh]=d;c[Lj]=x;Zl(c,d,!1,!1);d.stateNode=c;a:{Sa=m(k,x);switch(k){case "dialog":Wc("cancel",c);Wc("close",c);
T=x;break;case "iframe":case "object":case "embed":Wc("load",c);T=x;break;case "video":case "audio":for(T=0;T<yj.length;T++)Wc(yj[T],c);T=x;break;case "source":Wc("error",c);T=x;break;case "img":case "image":case "link":Wc("error",c);Wc("load",c);T=x;break;case "details":Wc("toggle",c);T=x;break;case "input":ya(c,x);T=ha(c,x);Wc("invalid",c);break;case "option":T=x;break;case "select":c._wrapperState={wasMultiple:!!x.multiple};T=mc({},x,{value:void 0});Wc("invalid",c);break;case "textarea":Pb(c,x);
T=tb(c,x);Wc("invalid",c);break;default:T=x}sa(k,T);Tb=T;for(ea in Tb)if(Tb.hasOwnProperty(ea)){var hc=Tb[ea];"style"===ea?pa(c,hc):"dangerouslySetInnerHTML"===ea?(hc=hc?hc.__html:void 0,null!=hc&&Oe(c,hc)):"children"===ea?"string"===typeof hc?("textarea"!==k||""!==hc)&&ia(c,hc):"number"===typeof hc&&ia(c,""+hc):"suppressContentEditableWarning"!==ea&&"suppressHydrationWarning"!==ea&&"autoFocus"!==ea&&(Wh.hasOwnProperty(ea)?null!=hc&&"onScroll"===ea&&Wc("scroll",c):null!=hc&&jc(c,ea,hc,Sa))}switch(k){case "input":jb(c);
Ja(c,x,!1);break;case "textarea":jb(c);V(c);break;case "option":null!=x.value&&c.setAttribute("value",""+ub(x.value));break;case "select":c.multiple=!!x.multiple;ea=x.value;null!=ea?cb(c,!!x.multiple,ea,!1):null!=x.defaultValue&&cb(c,!!x.multiple,x.defaultValue,!0);break;default:"function"===typeof T.onClick&&(c.onclick=Ge)}switch(k){case "button":case "input":case "select":case "textarea":x=!!x.autoFocus;break a;case "img":x=!0;break a;default:x=!1}}x&&(d.flags|=4)}null!==d.ref&&(d.flags|=512,d.flags|=
2097152)}dg(d);return null;case 6:if(c&&null!=d.stateNode)xl(c,d,c.memoizedProps,x);else{if("string"!==typeof x&&null===d.stateNode)throw Error(w(166));k=Gd(vj.current);Gd(ci.current);if(We(d)){x=d.stateNode;k=d.memoizedProps;x[Qh]=d;if(ea=x.nodeValue!==k)if(c=Qg,null!==c)switch(c.tag){case 3:Ae(x.nodeValue,k,0!==(c.mode&1));break;case 5:!0!==c.memoizedProps.suppressHydrationWarning&&Ae(x.nodeValue,k,0!==(c.mode&1))}ea&&(d.flags|=4)}else x=(9===k.nodeType?k:k.ownerDocument).createTextNode(x),x[Qh]=
d,d.stateNode=x}dg(d);return null;case 13:ze(Bf);x=d.memoizedState;if(null===c||null!==c.memoizedState&&null!==c.memoizedState.dehydrated){if(Pf&&null!==Rg&&0!==(d.mode&1)&&0===(d.flags&128))pe(),ue(),d.flags|=98560,ea=!1;else if(ea=We(d),null!==x&&null!==x.dehydrated){if(null===c){if(!ea)throw Error(w(318));ea=d.memoizedState;ea=null!==ea?ea.dehydrated:null;if(!ea)throw Error(w(317));ea[Qh]=d}else ue(),0===(d.flags&128)&&(d.memoizedState=null),d.flags|=4;dg(d);ea=!1}else null!==jh&&(bb(jh),jh=null),
ea=!0;if(!ea)return d.flags&65536?d:null}if(0!==(d.flags&128))return d.lanes=k,d;x=null!==x;x!==(null!==c&&null!==c.memoizedState)&&x&&(d.child.flags|=8192,0!==(d.mode&1)&&(null===c||0!==(Bf.current&1)?0===If&&(If=3):xe()));null!==d.updateQueue&&(d.flags|=4);dg(d);return null;case 4:return qd(),ei(c,d),null===c&&ud(d.stateNode.containerInfo),dg(d),null;case 10:return la(d.type._context),dg(d),null;case 17:return Va(d.type)&&dc(),dg(d),null;case 19:ze(Bf);ea=d.memoizedState;if(null===ea)return dg(d),
null;x=0!==(d.flags&128);Sa=ea.rendering;if(null===Sa)if(x)Hh(ea,!1);else{if(0!==If||null!==c&&0!==(c.flags&128))for(c=d.child;null!==c;){Sa=Wd(c);if(null!==Sa){d.flags|=128;Hh(ea,!1);x=Sa.updateQueue;null!==x&&(d.updateQueue=x,d.flags|=4);d.subtreeFlags=0;x=k;for(k=d.child;null!==k;)ea=k,c=x,ea.flags&=14680066,Sa=ea.alternate,null===Sa?(ea.childLanes=0,ea.lanes=c,ea.child=null,ea.subtreeFlags=0,ea.memoizedProps=null,ea.memoizedState=null,ea.updateQueue=null,ea.dependencies=null,ea.stateNode=null):
(ea.childLanes=Sa.childLanes,ea.lanes=Sa.lanes,ea.child=Sa.child,ea.subtreeFlags=0,ea.deletions=null,ea.memoizedProps=Sa.memoizedProps,ea.memoizedState=Sa.memoizedState,ea.updateQueue=Sa.updateQueue,ea.type=Sa.type,c=Sa.dependencies,ea.dependencies=null===c?null:{lanes:c.lanes,firstContext:c.firstContext}),k=k.sibling;ie(Bf,Bf.current&1|2);return d.child}c=c.sibling}null!==ea.tail&&eg()>zj&&(d.flags|=128,x=!0,Hh(ea,!1),d.lanes=4194304)}else{if(!x)if(c=Wd(Sa),null!==c){if(d.flags|=128,x=!0,k=c.updateQueue,
null!==k&&(d.updateQueue=k,d.flags|=4),Hh(ea,!0),null===ea.tail&&"hidden"===ea.tailMode&&!Sa.alternate&&!Pf)return dg(d),null}else 2*eg()-ea.renderingStartTime>zj&&1073741824!==k&&(d.flags|=128,x=!0,Hh(ea,!1),d.lanes=4194304);ea.isBackwards?(Sa.sibling=d.child,d.child=Sa):(k=ea.last,null!==k?k.sibling=Sa:d.child=Sa,ea.last=Sa)}if(null!==ea.tail)return d=ea.tail,ea.rendering=d,ea.tail=d.sibling,ea.renderingStartTime=eg(),d.sibling=null,k=Bf.current,ie(Bf,x?k&1|2:k&1),d;dg(d);return null;case 22:case 23:return Lc(),
x=null!==d.memoizedState,null!==c&&null!==c.memoizedState!==x&&(d.flags|=8192),x&&0!==(d.mode&1)?0!==(uh&1073741824)&&(dg(d),d.subtreeFlags&6&&(d.flags|=8192)):dg(d),null;case 24:return null;case 25:return null}throw Error(w(156,d.tag));}function fi(c,d){af(d);switch(d.tag){case 1:return Va(d.type)&&dc(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return qd(),ze(ch),ze(Bg),Ad(),c=d.flags,0!==(c&65536)&&0===(c&128)?(d.flags=c&-65537|128,d):null;case 5:return de(d),null;case 13:ze(Bf);c=
d.memoizedState;if(null!==c&&null!==c.dehydrated){if(null===d.alternate)throw Error(w(340));ue()}c=d.flags;return c&65536?(d.flags=c&-65537|128,d):null;case 19:return ze(Bf),null;case 4:return qd(),null;case 10:return la(d.type._context),null;case 22:case 23:return Lc(),null;case 24:return null;default:return null}}function fh(c,d){var k=c.ref;if(null!==k)if("function"===typeof k)try{k(null)}catch(x){uf(c,d,x)}else k.current=null}function vi(c,d,k){try{k()}catch(x){uf(c,d,x)}}function Aj(c,d){Xk=
bk;c=xa();if(oa(c)){if("selectionStart"in c)var k={start:c.selectionStart,end:c.selectionEnd};else a:{k=(k=c.ownerDocument)&&k.defaultView||window;var x=k.getSelection&&k.getSelection();if(x&&0!==x.rangeCount){k=x.anchorNode;var T=x.anchorOffset,ea=x.focusNode;x=x.focusOffset;try{k.nodeType,ea.nodeType}catch(sd){k=null;break a}var Sa=0,Tb=-1,hc=-1,Jc=0,ed=0,ld=c,cd=null;b:for(;;){for(var Dd;;){ld!==k||0!==T&&3!==ld.nodeType||(Tb=Sa+T);ld!==ea||0!==x&&3!==ld.nodeType||(hc=Sa+x);3===ld.nodeType&&(Sa+=
ld.nodeValue.length);if(null===(Dd=ld.firstChild))break;cd=ld;ld=Dd}for(;;){if(ld===c)break b;cd===k&&++Jc===T&&(Tb=Sa);cd===ea&&++ed===x&&(hc=Sa);if(null!==(Dd=ld.nextSibling))break;ld=cd;cd=ld.parentNode}ld=Dd}k=-1===Tb||-1===hc?null:{start:Tb,end:hc}}else k=null}k=k||{start:0,end:0}}else k=null;Yk={focusedElem:c,selectionRange:k};bk=!1;for(Nd=d;null!==Nd;)if(d=Nd,c=d.child,0!==(d.subtreeFlags&1028)&&null!==c)c.return=d,Nd=c;else for(;null!==Nd;){d=Nd;try{var Qd=d.alternate;if(0!==(d.flags&1024))switch(d.tag){case 0:case 11:case 15:break;
case 1:if(null!==Qd){var Vd=Qd.memoizedProps,Zf=Qd.memoizedState,Cc=d.stateNode,qc=Cc.getSnapshotBeforeUpdate(d.elementType===d.type?Vd:Uf(d.type,Vd),Zf);Cc.__reactInternalSnapshotBeforeUpdate=qc}break;case 3:var Gc=d.stateNode.containerInfo;1===Gc.nodeType?Gc.textContent="":9===Gc.nodeType&&Gc.documentElement&&Gc.removeChild(Gc.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163));}}catch(sd){uf(d,d.return,sd)}c=d.sibling;if(null!==c){c.return=d.return;Nd=c;break}Nd=
d.return}Qd=rk;rk=!1;return Qd}function gh(c,d,k){var x=d.updateQueue;x=null!==x?x.lastEffect:null;if(null!==x){var T=x=x.next;do{if((T.tag&c)===c){var ea=T.destroy;T.destroy=void 0;void 0!==ea&&vi(d,k,ea)}T=T.next}while(T!==x)}}function nh(c,d){d=d.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var k=d=d.next;do{if((k.tag&c)===c){var x=k.create;k.destroy=x()}k=k.next}while(k!==d)}}function Gg(c){var d=c.ref;if(null!==d){var k=c.stateNode;switch(c.tag){case 5:c=k;break;default:c=k}"function"===
typeof d?d(c):d.current=c}}function Me(c){var d=c.alternate;null!==d&&(c.alternate=null,Me(d));c.child=null;c.deletions=null;c.sibling=null;5===c.tag&&(d=c.stateNode,null!==d&&(delete d[Qh],delete d[Lj],delete d[Ok],delete d[yl],delete d[Zk]));c.stateNode=null;c.return=null;c.dependencies=null;c.memoizedProps=null;c.memoizedState=null;c.pendingProps=null;c.stateNode=null;c.updateQueue=null}function Ih(c){return 5===c.tag||3===c.tag||4===c.tag}function Lg(c){a:for(;;){for(;null===c.sibling;){if(null===
c.return||Ih(c.return))return null;c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue a;if(null===c.child||4===c.tag)continue a;else c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function vf(c,d,k){var x=c.tag;if(5===x||6===x)c=c.stateNode,d?8===k.nodeType?k.parentNode.insertBefore(c,d):k.insertBefore(c,d):(8===k.nodeType?(d=k.parentNode,d.insertBefore(c,k)):(d=k,d.appendChild(c)),k=k._reactRootContainer,null!==k&&void 0!==
k||null!==d.onclick||(d.onclick=Ge));else if(4!==x&&(c=c.child,null!==c))for(vf(c,d,k),c=c.sibling;null!==c;)vf(c,d,k),c=c.sibling}function Mi(c,d,k){var x=c.tag;if(5===x||6===x)c=c.stateNode,d?k.insertBefore(c,d):k.appendChild(c);else if(4!==x&&(c=c.child,null!==c))for(Mi(c,d,k),c=c.sibling;null!==c;)Mi(c,d,k),c=c.sibling}function pg(c,d,k){for(k=k.child;null!==k;)Mg(c,d,k),k=k.sibling}function Mg(c,d,k){if(Yh&&"function"===typeof Yh.onCommitFiberUnmount)try{Yh.onCommitFiberUnmount(Ij,k)}catch(Tb){}switch(k.tag){case 5:Zg||
fh(k,d);case 6:var x=Ng,T=Th;Ng=null;pg(c,d,k);Ng=x;Th=T;null!==Ng&&(Th?(c=Ng,k=k.stateNode,8===c.nodeType?c.parentNode.removeChild(k):c.removeChild(k)):Ng.removeChild(k.stateNode));break;case 18:null!==Ng&&(Th?(c=Ng,k=k.stateNode,8===c.nodeType?ye(c.parentNode,k):1===c.nodeType&&ye(c,k),wc(c)):ye(Ng,k.stateNode));break;case 4:x=Ng;T=Th;Ng=k.stateNode.containerInfo;Th=!0;pg(c,d,k);Ng=x;Th=T;break;case 0:case 11:case 14:case 15:if(!Zg&&(x=k.updateQueue,null!==x&&(x=x.lastEffect,null!==x))){T=x=x.next;
do{var ea=T,Sa=ea.destroy;ea=ea.tag;void 0!==Sa&&(0!==(ea&2)?vi(k,d,Sa):0!==(ea&4)&&vi(k,d,Sa));T=T.next}while(T!==x)}pg(c,d,k);break;case 1:if(!Zg&&(fh(k,d),x=k.stateNode,"function"===typeof x.componentWillUnmount))try{x.props=k.memoizedProps,x.state=k.memoizedState,x.componentWillUnmount()}catch(Tb){uf(k,d,Tb)}pg(c,d,k);break;case 21:pg(c,d,k);break;case 22:k.mode&1?(Zg=(x=Zg)||null!==k.memoizedState,pg(c,d,k),Zg=x):pg(c,d,k);break;default:pg(c,d,k)}}function oh(c){var d=c.updateQueue;if(null!==
d){c.updateQueue=null;var k=c.stateNode;null===k&&(k=c.stateNode=new $l);d.forEach(function(x){var T=Cf.bind(null,c,x);k.has(x)||(k.add(x),x.then(T,T))})}}function $g(c,d){var k=d.deletions;if(null!==k)for(var x=0;x<k.length;x++){var T=k[x];try{var ea=c,Sa=d,Tb=Sa;a:for(;null!==Tb;){switch(Tb.tag){case 5:Ng=Tb.stateNode;Th=!1;break a;case 3:Ng=Tb.stateNode.containerInfo;Th=!0;break a;case 4:Ng=Tb.stateNode.containerInfo;Th=!0;break a}Tb=Tb.return}if(null===Ng)throw Error(w(160));Mg(ea,Sa,T);Ng=null;
Th=!1;var hc=T.alternate;null!==hc&&(hc.return=null);T.return=null}catch(Jc){uf(T,d,Jc)}}if(d.subtreeFlags&12854)for(d=d.child;null!==d;)Jh(d,c),d=d.sibling}function Jh(c,d){var k=c.alternate,x=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:$g(d,c);ah(c);if(x&4){try{gh(3,c,c.return),nh(3,c)}catch(Vd){uf(c,c.return,Vd)}try{gh(5,c,c.return)}catch(Vd){uf(c,c.return,Vd)}}break;case 1:$g(d,c);ah(c);x&512&&null!==k&&fh(k,k.return);break;case 5:$g(d,c);ah(c);x&512&&null!==k&&fh(k,k.return);if(c.flags&
32){var T=c.stateNode;try{ia(T,"")}catch(Vd){uf(c,c.return,Vd)}}if(x&4&&(T=c.stateNode,null!=T)){var ea=c.memoizedProps,Sa=null!==k?k.memoizedProps:ea,Tb=c.type,hc=c.updateQueue;c.updateQueue=null;if(null!==hc)try{"input"===Tb&&"radio"===ea.type&&null!=ea.name&&Ra(T,ea);m(Tb,Sa);var Jc=m(Tb,ea);for(Sa=0;Sa<hc.length;Sa+=2){var ed=hc[Sa],ld=hc[Sa+1];"style"===ed?pa(T,ld):"dangerouslySetInnerHTML"===ed?Oe(T,ld):"children"===ed?ia(T,ld):jc(T,ed,ld,Jc)}switch(Tb){case "input":Wa(T,ea);break;case "textarea":gb(T,
ea);break;case "select":var cd=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!ea.multiple;var Dd=ea.value;null!=Dd?cb(T,!!ea.multiple,Dd,!1):cd!==!!ea.multiple&&(null!=ea.defaultValue?cb(T,!!ea.multiple,ea.defaultValue,!0):cb(T,!!ea.multiple,ea.multiple?[]:"",!1))}T[Lj]=ea}catch(Vd){uf(c,c.return,Vd)}}break;case 6:$g(d,c);ah(c);if(x&4){if(null===c.stateNode)throw Error(w(162));T=c.stateNode;ea=c.memoizedProps;try{T.nodeValue=ea}catch(Vd){uf(c,c.return,Vd)}}break;case 3:$g(d,c);ah(c);if(x&
4&&null!==k&&k.memoizedState.isDehydrated)try{wc(d.containerInfo)}catch(Vd){uf(c,c.return,Vd)}break;case 4:$g(d,c);ah(c);break;case 13:$g(d,c);ah(c);T=c.child;T.flags&8192&&(ea=null!==T.memoizedState,T.stateNode.isHidden=ea,!ea||null!==T.alternate&&null!==T.alternate.memoizedState||(Uh=eg()));x&4&&oh(c);break;case 22:ed=null!==k&&null!==k.memoizedState;c.mode&1?(Zg=(Jc=Zg)||ed,$g(d,c),Zg=Jc):$g(d,c);ah(c);if(x&8192){Jc=null!==c.memoizedState;if((c.stateNode.isHidden=Jc)&&!ed&&0!==(c.mode&1))for(Nd=
c,ed=c.child;null!==ed;){for(ld=Nd=ed;null!==Nd;){cd=Nd;Dd=cd.child;switch(cd.tag){case 0:case 11:case 14:case 15:gh(4,cd,cd.return);break;case 1:fh(cd,cd.return);var Qd=cd.stateNode;if("function"===typeof Qd.componentWillUnmount){x=cd;k=cd.return;try{d=x,Qd.props=d.memoizedProps,Qd.state=d.memoizedState,Qd.componentWillUnmount()}catch(Vd){uf(x,k,Vd)}}break;case 5:fh(cd,cd.return);break;case 22:if(null!==cd.memoizedState){Oa(ld);continue}}null!==Dd?(Dd.return=cd,Nd=Dd):Oa(ld)}ed=ed.sibling}ed=null;
ld=c;a:for(;;){if(5===ld.tag){if(null===ed){ed=ld;try{T=ld.stateNode,Jc?(ea=T.style,"function"===typeof ea.setProperty?ea.setProperty("display","none","important"):ea.display="none"):(Tb=ld.stateNode,hc=ld.memoizedProps.style,Sa=void 0!==hc&&null!==hc&&hc.hasOwnProperty("display")?hc.display:null,Tb.style.display=Ma("display",Sa))}catch(Vd){uf(c,c.return,Vd)}}}else if(6===ld.tag){if(null===ed)try{ld.stateNode.nodeValue=Jc?"":ld.memoizedProps}catch(Vd){uf(c,c.return,Vd)}}else if((22!==ld.tag&&23!==
ld.tag||null===ld.memoizedState||ld===c)&&null!==ld.child){ld.child.return=ld;ld=ld.child;continue}if(ld===c)break a;for(;null===ld.sibling;){if(null===ld.return||ld.return===c)break a;ed===ld&&(ed=null);ld=ld.return}ed===ld&&(ed=null);ld.sibling.return=ld.return;ld=ld.sibling}}break;case 19:$g(d,c);ah(c);x&4&&oh(c);break;case 21:break;default:$g(d,c),ah(c)}}function ah(c){var d=c.flags;if(d&2){try{a:{for(var k=c.return;null!==k;){if(Ih(k))break a;k=k.return}throw Error(w(160));}switch(k.tag){case 5:var x=
k.stateNode;k.flags&32&&(ia(x,""),k.flags&=-33);var T=Lg(c);Mi(c,T,x);break;case 3:case 4:var ea=k.stateNode.containerInfo,Sa=Lg(c);vf(c,Sa,ea);break;default:throw Error(w(161));}}catch(Tb){uf(c,c.return,Tb)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function E(c,d,k){Nd=c;Z(c,d,k)}function Z(c,d,k){for(var x=0!==(c.mode&1);null!==Nd;){var T=Nd,ea=T.child;if(22===T.tag&&x){var Sa=null!==T.memoizedState||sk;if(!Sa){var Tb=T.alternate,hc=null!==Tb&&null!==Tb.memoizedState||Zg;Tb=sk;var Jc=Zg;sk=Sa;if((Zg=
hc)&&!Jc)for(Nd=T;null!==Nd;)Sa=Nd,hc=Sa.child,22===Sa.tag&&null!==Sa.memoizedState?Hb(T):null!==hc?(hc.return=Sa,Nd=hc):Hb(T);for(;null!==ea;)Nd=ea,Z(ea,d,k),ea=ea.sibling;Nd=T;sk=Tb;Zg=Jc}Aa(c,d,k)}else 0!==(T.subtreeFlags&8772)&&null!==ea?(ea.return=T,Nd=ea):Aa(c,d,k)}}function Aa(c){for(;null!==Nd;){var d=Nd;if(0!==(d.flags&8772)){var k=d.alternate;try{if(0!==(d.flags&8772))switch(d.tag){case 0:case 11:case 15:Zg||nh(5,d);break;case 1:var x=d.stateNode;if(d.flags&4&&!Zg)if(null===k)x.componentDidMount();
else{var T=d.elementType===d.type?k.memoizedProps:Uf(d.type,k.memoizedProps);x.componentDidUpdate(T,k.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var ea=d.updateQueue;null!==ea&&vd(d,ea,x);break;case 3:var Sa=d.updateQueue;if(null!==Sa){k=null;if(null!==d.child)switch(d.child.tag){case 5:k=d.child.stateNode;break;case 1:k=d.child.stateNode}vd(d,Sa,k)}break;case 5:var Tb=d.stateNode;if(null===k&&d.flags&4){k=Tb;var hc=d.memoizedProps;switch(d.type){case "button":case "input":case "select":case "textarea":hc.autoFocus&&
k.focus();break;case "img":hc.src&&(k.src=hc.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===d.memoizedState){var Jc=d.alternate;if(null!==Jc){var ed=Jc.memoizedState;if(null!==ed){var ld=ed.dehydrated;null!==ld&&wc(ld)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163));}Zg||d.flags&512&&Gg(d)}catch(cd){uf(d,d.return,cd)}}if(d===c){Nd=null;break}k=d.sibling;if(null!==k){k.return=d.return;Nd=k;break}Nd=d.return}}function Oa(c){for(;null!==
Nd;){var d=Nd;if(d===c){Nd=null;break}var k=d.sibling;if(null!==k){k.return=d.return;Nd=k;break}Nd=d.return}}function Hb(c){for(;null!==Nd;){var d=Nd;try{switch(d.tag){case 0:case 11:case 15:var k=d.return;try{nh(4,d)}catch(hc){uf(d,k,hc)}break;case 1:var x=d.stateNode;if("function"===typeof x.componentDidMount){var T=d.return;try{x.componentDidMount()}catch(hc){uf(d,T,hc)}}var ea=d.return;try{Gg(d)}catch(hc){uf(d,ea,hc)}break;case 5:var Sa=d.return;try{Gg(d)}catch(hc){uf(d,Sa,hc)}}}catch(hc){uf(d,
d.return,hc)}if(d===c){Nd=null;break}var Tb=d.sibling;if(null!==Tb){Tb.return=d.return;Nd=Tb;break}Nd=d.return}}function Ab(){return 0!==(bf&6)?eg():-1!==Ni?Ni:Ni=eg()}function $b(c){if(0===(c.mode&1))return 1;if(0!==(bf&2)&&0!==Og)return Og&-Og;if(null!==zl.transition)return 0===Bj&&(Bj=nc()),Bj;c=rf;if(0!==c)return c;c=window.event;return c=void 0===c?16:hb(c.type)}function r(c,d,k,x){if(50<wi)throw wi=0,tk=null,Error(w(185));Jb(c,k,x);if(0===(bf&2)||c!==ng)c===ng&&(0===(bf&2)&&(hf|=k),4===If&&
cc(c,Og)),I(c,x),1===k&&0===bf&&0===(d.mode&1)&&(zj=eg()+500,ai&&He())}function I(c,d){var k=c.callbackNode;Ha(c,d);var x=Sb(c,c===ng?Og:0);if(0===x)null!==k&&qg(k),c.callbackNode=null,c.callbackPriority=0;else if(d=x&-x,c.callbackPriority!==d){null!=k&&qg(k);if(1===d)0===c.tag?Pd(Dc.bind(null,c)):Zd(Dc.bind(null,c)),Al(function(){0===(bf&6)&&He()}),k=null;else{switch(Oc(x)){case 1:k=Hk;break;case 4:k=dk;break;case 16:k=Ui;break;case 536870912:k=Ik;break;default:k=Ui}k=pf(k,fa.bind(null,c))}c.callbackPriority=
d;c.callbackNode=k}}function fa(c,d){Ni=-1;Bj=0;if(0!==(bf&6))throw Error(w(327));var k=c.callbackNode;if(ph()&&c.callbackNode!==k)return null;var x=Sb(c,c===ng?Og:0);if(0===x)return null;if(0!==(x&30)||0!==(x&c.expiredLanes)||d)d=qf(c,x);else{d=x;var T=bf;bf|=2;var ea=ce();if(ng!==c||Og!==d)xi=null,zj=eg()+500,rd(c,d);do try{for(;null!==rg&&!Vh();)cf(rg);break}catch(Tb){Td(c,Tb)}while(1);Mj=qi=Hi=null;uk.current=ea;bf=T;null!==rg?d=0:(ng=null,Og=0,d=If)}if(0!==d){2===d&&(T=Nb(c),0!==T&&(x=T,d=va(c,
T)));if(1===d)throw k=Rj,rd(c,0),cc(c,x),I(c,eg()),k;if(6===d)cc(c,x);else{T=c.current.alternate;if(0===(x&30)&&!Ob(T)&&(d=qf(c,x),2===d&&(ea=Nb(c),0!==ea&&(x=ea,d=va(c,ea))),1===d))throw k=Rj,rd(c,0),cc(c,x),I(c,eg()),k;c.finishedWork=T;c.finishedLanes=x;switch(d){case 0:case 1:throw Error(w(345));case 2:$d(c,qh,xi);break;case 3:cc(c,x);if((x&130023424)===x&&(d=Uh+500-eg(),10<d)){if(0!==Sb(c,0))break;T=c.suspendedLanes;if((T&x)!==x){Ab();c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=$k($d.bind(null,
c,qh,xi),d);break}$d(c,qh,xi);break;case 4:cc(c,x);if((x&4194240)===x)break;d=c.eventTimes;for(T=-1;0<x;){var Sa=31-Nh(x);ea=1<<Sa;Sa=d[Sa];Sa>T&&(T=Sa);x&=~ea}x=T;x=eg()-x;x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3E3>x?3E3:4320>x?4320:1960*am(x/1960))-x;if(10<x){c.timeoutHandle=$k($d.bind(null,c,qh,xi),x);break}$d(c,qh,xi);break;case 5:$d(c,qh,xi);break;default:throw Error(w(329));}}}I(c,eg());return c.callbackNode===k?fa.bind(null,c):null}function va(c,d){var k=xh;c.current.memoizedState.isDehydrated&&
(rd(c,d).flags|=256);c=qf(c,d);2!==c&&(d=qh,qh=k,null!==d&&bb(d));return c}function bb(c){null===qh?qh=c:qh.push.apply(qh,c)}function Ob(c){for(var d=c;;){if(d.flags&16384){var k=d.updateQueue;if(null!==k&&(k=k.stores,null!==k))for(var x=0;x<k.length;x++){var T=k[x],ea=T.getSnapshot;T=T.value;try{if(!Oh(ea(),T))return!1}catch(Sa){return!1}}}k=d.child;if(d.subtreeFlags&16384&&null!==k)k.return=d,d=k;else{if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return!0;d=d.return}d.sibling.return=
d.return;d=d.sibling}}return!0}function cc(c,d){d&=~Pg;d&=~hf;c.suspendedLanes|=d;c.pingedLanes&=~d;for(c=c.expirationTimes;0<d;){var k=31-Nh(d),x=1<<k;c[k]=-1;d&=~x}}function Dc(c){if(0!==(bf&6))throw Error(w(327));ph();var d=Sb(c,0);if(0===(d&1))return I(c,eg()),null;var k=qf(c,d);if(0!==c.tag&&2===k){var x=Nb(c);0!==x&&(d=x,k=va(c,x))}if(1===k)throw k=Rj,rd(c,0),cc(c,d),I(c,eg()),k;if(6===k)throw Error(w(345));c.finishedWork=c.current.alternate;c.finishedLanes=d;$d(c,qh,xi);I(c,eg());return null}
function ac(c,d){var k=bf;bf|=1;try{return c(d)}finally{bf=k,0===bf&&(zj=eg()+500,ai&&He())}}function Rc(c){null!==yi&&0===yi.tag&&0===(bf&6)&&ph();var d=bf;bf|=1;var k=Kh.transition,x=rf;try{if(Kh.transition=null,rf=1,c)return c()}finally{rf=x,Kh.transition=k,bf=d,0===(bf&6)&&He()}}function Lc(){uh=xj.current;ze(xj)}function rd(c,d){c.finishedWork=null;c.finishedLanes=0;var k=c.timeoutHandle;-1!==k&&(c.timeoutHandle=-1,bm(k));if(null!==rg)for(k=rg.return;null!==k;){var x=k;af(x);switch(x.tag){case 1:x=
x.type.childContextTypes;null!==x&&void 0!==x&&dc();break;case 3:qd();ze(ch);ze(Bg);Ad();break;case 5:de(x);break;case 4:qd();break;case 13:ze(Bf);break;case 19:ze(Bf);break;case 10:la(x.type._context);break;case 22:case 23:Lc()}k=k.return}ng=c;rg=c=$f(c.current,null);Og=uh=d;If=0;Rj=null;Pg=hf=mf=0;qh=xh=null;if(null!==Yi){for(d=0;d<Yi.length;d++)if(k=Yi[d],x=k.interleaved,null!==x){k.interleaved=null;var T=x.next,ea=k.pending;if(null!==ea){var Sa=ea.next;ea.next=T;x.next=Sa}k.pending=x}Yi=null}return c}
function Td(c,d){do{var k=rg;try{Mj=qi=Hi=null;Nj.current=Qj;if($i){for(var x=sf.memoizedState;null!==x;){var T=x.queue;null!==T&&(T.pending=null);x=x.next}$i=!1}Zi=0;vg=mg=sf=null;Oj=!1;Pj=0;al.current=null;if(null===k||null===k.return){If=1;Rj=d;rg=null;break}a:{var ea=c,Sa=k.return,Tb=k,hc=d;d=Og;Tb.flags|=32768;if(null!==hc&&"object"===typeof hc&&"function"===typeof hc.then){var Jc=hc,ed=Tb,ld=ed.tag;if(0===(ed.mode&1)&&(0===ld||11===ld||15===ld)){var cd=ed.alternate;cd?(ed.updateQueue=cd.updateQueue,
ed.memoizedState=cd.memoizedState,ed.lanes=cd.lanes):(ed.updateQueue=null,ed.memoizedState=null)}var Dd=Vf(Sa);if(null!==Dd){Dd.flags&=-257;Nf(Dd,Sa,Tb,ea,d);Dd.mode&1&&of(ea,Jc,d);d=Dd;hc=Jc;var Qd=d.updateQueue;if(null===Qd){var Vd=new Set;Vd.add(hc);d.updateQueue=Vd}else Qd.add(hc);break a}else{if(0===(d&1)){of(ea,Jc,d);xe();break a}hc=Error(w(426))}}else if(Pf&&Tb.mode&1){var Zf=Vf(Sa);if(null!==Zf){0===(Zf.flags&65536)&&(Zf.flags|=256);Nf(Zf,Sa,Tb,ea,d);ae(Sd(hc,Tb));break a}}ea=hc=Sd(hc,Tb);
4!==If&&(If=2);null===xh?xh=[ea]:xh.push(ea);ea=Sa;do{switch(ea.tag){case 3:ea.flags|=65536;d&=-d;ea.lanes|=d;var Cc=gf(ea,hc,d);Fd(ea,Cc);break a;case 1:Tb=hc;var qc=ea.type,Gc=ea.stateNode;if(0===(ea.flags&128)&&("function"===typeof qc.getDerivedStateFromError||null!==Gc&&"function"===typeof Gc.componentDidCatch&&(null===si||!si.has(Gc)))){ea.flags|=65536;d&=-d;ea.lanes|=d;var sd=Re(ea,Tb,d);Fd(ea,sd);break a}}ea=ea.return}while(null!==ea)}bh(k)}catch(Od){d=Od;rg===k&&null!==k&&(rg=k.return);continue}break}while(1)}
function ce(){var c=uk.current;uk.current=Qj;return null===c?Qj:c}function xe(){if(0===If||3===If||2===If)If=4;null===ng||0===(mf&268435455)&&0===(hf&268435455)||cc(ng,Og)}function qf(c,d){var k=bf;bf|=2;var x=ce();if(ng!==c||Og!==d)xi=null,rd(c,d);do try{for(;null!==rg;)cf(rg);break}catch(T){Td(c,T)}while(1);Mj=qi=Hi=null;bf=k;uk.current=x;if(null!==rg)throw Error(w(261));ng=null;Og=0;return If}function cf(c){var d=bl(c.alternate,c,uh);c.memoizedProps=c.pendingProps;null===d?bh(c):rg=d;al.current=
null}function bh(c){var d=c;do{var k=d.alternate;c=d.return;if(0===(d.flags&32768)){if(k=cj(k,d,uh),null!==k){rg=k;return}}else{k=fi(k,d);if(null!==k){k.flags&=32767;rg=k;return}if(null!==c)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{If=6;rg=null;return}}d=d.sibling;if(null!==d){rg=d;return}rg=d=c}while(null!==d);0===If&&(If=5)}function $d(c,d,k){var x=rf,T=Kh.transition;try{Kh.transition=null,rf=1,Fe(c,d,k,x)}finally{Kh.transition=T,rf=x}return null}function Fe(c,d,k,x){do ph();while(null!==
yi);if(0!==(bf&6))throw Error(w(327));k=c.finishedWork;var T=c.finishedLanes;if(null===k)return null;c.finishedWork=null;c.finishedLanes=0;if(k===c.current)throw Error(w(177));c.callbackNode=null;c.callbackPriority=0;var ea=k.lanes|k.childLanes;Lb(c,ea);c===ng&&(rg=ng=null,Og=0);0===(k.subtreeFlags&2064)&&0===(k.flags&2064)||Sj||(Sj=!0,pf(Ui,function(){ph();return null}));ea=0!==(k.flags&15990);if(0!==(k.subtreeFlags&15990)||ea){ea=Kh.transition;Kh.transition=null;var Sa=rf;rf=1;var Tb=bf;bf|=4;al.current=
null;Aj(c,k);Jh(k,c);ab(Yk);bk=!!Xk;Yk=Xk=null;c.current=k;E(k,c,T);cm();bf=Tb;rf=Sa;Kh.transition=ea}else c.current=k;Sj&&(Sj=!1,yi=c,dj=T);ea=c.pendingLanes;0===ea&&(si=null);eb(k.stateNode,x);I(c,eg());if(null!==d)for(x=c.onRecoverableError,k=0;k<d.length;k++)T=d[k],x(T.value,{componentStack:T.stack,digest:T.digest});if(pk)throw pk=!1,c=qk,qk=null,c;0!==(dj&1)&&0!==c.tag&&ph();ea=c.pendingLanes;0!==(ea&1)?c===tk?wi++:(wi=0,tk=c):wi=0;He();return null}function ph(){if(null!==yi){var c=Oc(dj),d=
Kh.transition,k=rf;try{Kh.transition=null;rf=16>c?16:c;if(null===yi)var x=!1;else{c=yi;yi=null;dj=0;if(0!==(bf&6))throw Error(w(331));var T=bf;bf|=4;for(Nd=c.current;null!==Nd;){var ea=Nd,Sa=ea.child;if(0!==(Nd.flags&16)){var Tb=ea.deletions;if(null!==Tb){for(var hc=0;hc<Tb.length;hc++){var Jc=Tb[hc];for(Nd=Jc;null!==Nd;){var ed=Nd;switch(ed.tag){case 0:case 11:case 15:gh(8,ed,ea)}var ld=ed.child;if(null!==ld)ld.return=ed,Nd=ld;else for(;null!==Nd;){ed=Nd;var cd=ed.sibling,Dd=ed.return;Me(ed);if(ed===
Jc){Nd=null;break}if(null!==cd){cd.return=Dd;Nd=cd;break}Nd=Dd}}}var Qd=ea.alternate;if(null!==Qd){var Vd=Qd.child;if(null!==Vd){Qd.child=null;do{var Zf=Vd.sibling;Vd.sibling=null;Vd=Zf}while(null!==Vd)}}Nd=ea}}if(0!==(ea.subtreeFlags&2064)&&null!==Sa)Sa.return=ea,Nd=Sa;else a:for(;null!==Nd;){ea=Nd;if(0!==(ea.flags&2048))switch(ea.tag){case 0:case 11:case 15:gh(9,ea,ea.return)}var Cc=ea.sibling;if(null!==Cc){Cc.return=ea.return;Nd=Cc;break a}Nd=ea.return}}var qc=c.current;for(Nd=qc;null!==Nd;){Sa=
Nd;var Gc=Sa.child;if(0!==(Sa.subtreeFlags&2064)&&null!==Gc)Gc.return=Sa,Nd=Gc;else a:for(Sa=qc;null!==Nd;){Tb=Nd;if(0!==(Tb.flags&2048))try{switch(Tb.tag){case 0:case 11:case 15:nh(9,Tb)}}catch(Od){uf(Tb,Tb.return,Od)}if(Tb===Sa){Nd=null;break a}var sd=Tb.sibling;if(null!==sd){sd.return=Tb.return;Nd=sd;break a}Nd=Tb.return}}bf=T;He();if(Yh&&"function"===typeof Yh.onPostCommitFiberRoot)try{Yh.onPostCommitFiberRoot(Ij,c)}catch(Od){}x=!0}return x}finally{rf=k,Kh.transition=d}}return!1}function rh(c,
d,k){d=Sd(k,d);d=gf(c,d,1);c=Hc(c,d,1);d=Ab();null!==c&&(Jb(c,1,d),I(c,d))}function uf(c,d,k){if(3===c.tag)rh(c,c,k);else for(;null!==d;){if(3===d.tag){rh(d,c,k);break}else if(1===d.tag){var x=d.stateNode;if("function"===typeof d.type.getDerivedStateFromError||"function"===typeof x.componentDidCatch&&(null===si||!si.has(x))){c=Sd(k,c);c=Re(d,c,1);d=Hc(d,c,1);c=Ab();null!==d&&(Jb(d,1,c),I(d,c));break}}d=d.return}}function yf(c,d,k){var x=c.pingCache;null!==x&&x.delete(d);d=Ab();c.pingedLanes|=c.suspendedLanes&
k;ng===c&&(Og&k)===k&&(4===If||3===If&&(Og&130023424)===Og&&500>eg()-Uh?rd(c,0):Pg|=k);I(c,d)}function yg(c,d){0===d&&(0===(c.mode&1)?d=1:(d=Tj,Tj<<=1,0===(Tj&130023424)&&(Tj=4194304)));var k=Ab();c=pc(c,d);null!==c&&(Jb(c,d,k),I(c,k))}function mh(c){var d=c.memoizedState,k=0;null!==d&&(k=d.retryLane);yg(c,k)}function Cf(c,d){var k=0;switch(c.tag){case 13:var x=c.stateNode,T=c.memoizedState;null!==T&&(k=T.retryLane);break;case 19:x=c.stateNode;break;default:throw Error(w(314));}null!==x&&x.delete(d);
yg(c,k)}function pf(c,d){return Sf(c,d)}function Hg(c,d,k,x){this.tag=c;this.key=k;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=d;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=x;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function hg(c,d,k,x){return new Hg(c,d,k,x)}function Eh(c){c=c.prototype;return!(!c||!c.isReactComponent)}
function gi(c){if("function"===typeof c)return Eh(c)?1:0;if(void 0!==c&&null!==c){c=c.$$typeof;if(c===Xa)return 11;if(c===Ib)return 14}return 2}function $f(c,d){var k=c.alternate;null===k?(k=hg(c.tag,d,c.key,c.mode),k.elementType=c.elementType,k.type=c.type,k.stateNode=c.stateNode,k.alternate=c,c.alternate=k):(k.pendingProps=d,k.type=c.type,k.flags=0,k.subtreeFlags=0,k.deletions=null);k.flags=c.flags&14680064;k.childLanes=c.childLanes;k.lanes=c.lanes;k.child=c.child;k.memoizedProps=c.memoizedProps;
k.memoizedState=c.memoizedState;k.updateQueue=c.updateQueue;d=c.dependencies;k.dependencies=null===d?null:{lanes:d.lanes,firstContext:d.firstContext};k.sibling=c.sibling;k.index=c.index;k.ref=c.ref;return k}function zf(c,d,k,x,T,ea){var Sa=2;x=c;if("function"===typeof c)Eh(c)&&(Sa=1);else if("string"===typeof c)Sa=5;else a:switch(c){case ii:return Cg(k.children,T,ea,d);case n:Sa=8;T|=8;break;case G:return c=hg(12,k,d,T|2),c.elementType=G,c.lanes=ea,c;case fb:return c=hg(13,k,d,T),c.elementType=fb,
c.lanes=ea,c;case qb:return c=hg(19,k,d,T),c.elementType=qb,c.lanes=ea,c;case Sc:return Ki(k,T,ea,d);default:if("object"===typeof c&&null!==c)switch(c.$$typeof){case M:Sa=10;break a;case ma:Sa=9;break a;case Xa:Sa=11;break a;case Ib:Sa=14;break a;case oc:Sa=16;x=null;break a}throw Error(w(130,null==c?c:typeof c,""));}d=hg(Sa,k,d,T);d.elementType=c;d.type=x;d.lanes=ea;return d}function Cg(c,d,k,x){c=hg(7,c,x,d);c.lanes=k;return c}function Ki(c,d,k,x){c=hg(22,c,x,d);c.elementType=Sc;c.lanes=k;c.stateNode=
{isHidden:!1};return c}function rj(c,d,k){c=hg(6,c,null,d);c.lanes=k;return c}function sj(c,d,k){d=hg(4,null!==c.children?c.children:[],c.key,d);d.lanes=k;d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation};return d}function vk(c,d,k,x,T){this.tag=d;this.containerInfo=c;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=
Wb(0);this.expirationTimes=Wb(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Wb(0);this.identifierPrefix=x;this.onRecoverableError=T;this.mutableSourceEagerHydrationData=null}function ej(c,d,k,x,T,ea,Sa,Tb,hc){c=new vk(c,d,k,Tb,hc);1===d?(d=1,!0===ea&&(d|=8)):d=0;ea=hg(3,null,null,d);c.current=ea;ea.stateNode=c;ea.memoizedState={element:x,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null};
rc(ea);return c}function Wf(c,d,k){var x=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ji,key:null==x?null:""+x,children:c,containerInfo:d,implementation:k}}function wk(c){if(!c)return gg;c=c._reactInternals;a:{if(Da(c)!==c||1!==c.tag)throw Error(w(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break a;case 1:if(Va(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break a}}d=d.return}while(null!==d);throw Error(w(171));}if(1===c.tag){var k=
c.type;if(Va(k))return fd(c,k,d)}return d}function Cj(c,d,k,x,T,ea,Sa,Tb,hc){c=ej(k,x,!0,c,T,ea,Sa,Tb,hc);c.context=wk(null);k=c.current;x=Ab();T=$b(k);ea=tc(x,T);ea.callback=void 0!==d&&null!==d?d:null;Hc(k,ea,T);c.current.lanes=T;Jb(c,T,x);I(c,x);return c}function hh(c,d,k,x){var T=d.current,ea=Ab(),Sa=$b(T);k=wk(k);null===d.context?d.context=k:d.pendingContext=k;d=tc(ea,Sa);d.payload={element:c};x=void 0===x?null:x;null!==x&&(d.callback=x);c=Hc(T,d,Sa);null!==c&&(r(c,T,Sa,ea),Uc(c,T,Sa));return Sa}
function Oi(c){c=c.current;if(!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function Uj(c,d){c=c.memoizedState;if(null!==c&&null!==c.dehydrated){var k=c.retryLane;c.retryLane=0!==k&&k<d?k:d}}function Dj(c,d){Uj(c,d);(c=c.alternate)&&Uj(c,d)}function cl(){return null}function Pi(c){this._internalRoot=c}function zi(c){this._internalRoot=c}function Vj(c){return!(!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType)}function Qi(c){return!(!c||
1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType&&(8!==c.nodeType||" react-mount-point-unstable "!==c.nodeValue))}function Wj(){}function xk(c,d,k,x,T){if(T){if("function"===typeof x){var ea=x;x=function(){var Jc=Oi(Sa);ea.call(Jc)}}var Sa=Cj(d,x,c,0,null,!1,!1,"",Wj);c._reactRootContainer=Sa;c[$h]=Sa.current;ud(8===c.nodeType?c.parentNode:c);Rc();return Sa}for(;T=c.lastChild;)c.removeChild(T);if("function"===typeof x){var Tb=x;x=function(){var Jc=Oi(hc);Tb.call(Jc)}}var hc=ej(c,0,!1,null,null,!1,
!1,"",Wj);c._reactRootContainer=hc;c[$h]=hc.current;ud(8===c.nodeType?c.parentNode:c);Rc(function(){hh(d,hc,k,x)});return hc}function fj(c,d,k,x,T){var ea=k._reactRootContainer;if(ea){var Sa=ea;if("function"===typeof T){var Tb=T;T=function(){var hc=Oi(Sa);Tb.call(hc)}}hh(d,Sa,c,T)}else Sa=xk(k,d,c,T,x);return Oi(Sa)}var Ri=ob(2),Ag=ob(5),hi=new Set,Wh={},Lh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),hj=Object.prototype.hasOwnProperty,
jj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hj={},ij={},Yf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){Yf[c]=
new Zb(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];Yf[d]=new Zb(d,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){Yf[c]=new Zb(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){Yf[c]=new Zb(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){Yf[c]=
new Zb(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){Yf[c]=new Zb(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){Yf[c]=new Zb(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){Yf[c]=new Zb(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){Yf[c]=new Zb(c,5,!1,c.toLowerCase(),null,!1,!1)});var Si=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=
c.replace(Si,Ub);Yf[d]=new Zb(d,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(Si,Ub);Yf[d]=new Zb(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(Si,Ub);Yf[d]=new Zb(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){Yf[c]=new Zb(c,1,!1,c.toLowerCase(),null,!1,!1)});Yf.xlinkHref=
new Zb("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){Yf[c]=new Zb(c,1,!1,c.toLowerCase(),null,!0,!0)});var yh=Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xi=Symbol.for("react.element"),ji=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),ma=Symbol.for("react.context"),Xa=Symbol.for("react.forward_ref"),fb=
Symbol.for("react.suspense"),qb=Symbol.for("react.suspense_list"),Ib=Symbol.for("react.memo"),oc=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var Sc=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Yc=Symbol.iterator,mc=Object.assign,nd,Jd=!1,me=Array.isArray,Cd,Oe=function(c){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(d,k,x,T){MSApp.execUnsafeLocalFunction(function(){return c(d,
k,x,T)})}:c}(function(c,d){if("http://www.w3.org/2000/svg"!==c.namespaceURI||"innerHTML"in c)c.innerHTML=d;else{Cd=Cd||document.createElement("div");Cd.innerHTML="\x3csvg\x3e"+d.valueOf().toString()+"\x3c/svg\x3e";for(d=Cd.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}}),Df={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sg=["Webkit","ms","Moz","O"];Object.keys(Df).forEach(function(c){sg.forEach(function(d){d=
d+c.charAt(0).toUpperCase()+c.substring(1);Df[d]=Df[c]})});var tg=mc({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),zg=null,Kf=null,ne=null,wf=null,Xh=!1,Hd=!1;if(Lh)try{var jd={};Object.defineProperty(jd,"passive",{get:function(){Hd=!0}});window.addEventListener("test",jd,jd);window.removeEventListener("test",jd,jd)}catch(c){Hd=!1}var zd=!1,pd=null,Ye=!1,Rf=null,Ef={onError:function(c){zd=!0;pd=c}},Sf=Ag.unstable_scheduleCallback,
qg=Ag.unstable_cancelCallback,Vh=Ag.unstable_shouldYield,cm=Ag.unstable_requestPaint,eg=Ag.unstable_now,Gk=Ag.unstable_getCurrentPriorityLevel,Hk=Ag.unstable_ImmediatePriority,dk=Ag.unstable_UserBlockingPriority,Ui=Ag.unstable_NormalPriority,nl=Ag.unstable_LowPriority,Ik=Ag.unstable_IdlePriority,Ij=null,Yh=null,Nh=Math.clz32?Math.clz32:xb,kl=Math.log,Ll=Math.LN2,Jj=64,Tj=4194304,rf=0,Zj=!1,ak=[],Ci=null,ki=null,Di=null,kj=new Map,lj=new Map,li=[],ml="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
mj=yh.ReactCurrentBatchConfig,bk=!0,ck=null,Ei=null,Jk=null,ek=null,gj={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=Fa(gj),ih=mc({},gj,{view:0,detail:0}),Tk=Fa(ih),Ti,yk,Xj,zk=mc({},ih,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mb,button:0,buttons:0,relatedTarget:function(c){return void 0===c.relatedTarget?c.fromElement===c.srcElement?c.toElement:
c.fromElement:c.relatedTarget},movementX:function(c){if("movementX"in c)return c.movementX;c!==Xj&&(Xj&&"mousemove"===c.type?(Ti=c.screenX-Xj.screenX,yk=c.screenY-Xj.screenY):yk=Ti=0,Xj=c);return Ti},movementY:function(c){return"movementY"in c?c.movementY:yk}}),Qk=Fa(zk),Bl=mc({},zk,{dataTransfer:0}),Rk=Fa(Bl),Ak=mc({},ih,{relatedTarget:0}),Pk=Fa(Ak),dl=mc({},gj,{animationName:0,elapsedTime:0,pseudoElement:0}),pl=Fa(dl),dm=mc({},gj,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:
window.clipboardData}}),jk=Fa(dm),em=mc({},gj,{data:0}),rl=Fa(em),fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},hm=mc({},ih,{key:function(c){if(c.key){var d=fm[c.key]||c.key;if("Unidentified"!==d)return d}return"keypress"===c.type?(c=v(c),13===c?"Enter":String.fromCharCode(c)):"keydown"===c.type||"keyup"===c.type?gm[c.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mb,charCode:function(c){return"keypress"===c.type?v(c):0},keyCode:function(c){return"keydown"===c.type||"keyup"===c.type?c.keyCode:0},which:function(c){return"keypress"===c.type?v(c):"keydown"===c.type||"keyup"===c.type?c.keyCode:0}}),Rl=Fa(hm),el=mc({},zk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=Fa(el),im=mc({},ih,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mb}),Sl=Fa(im),jm=mc({},gj,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sk=Fa(jm),fl=mc({},zk,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Tl=Fa(fl),te=[9,13,27,32],bd=Lh&&"CompositionEvent"in window,kg=null;Lh&&"documentMode"in document&&(kg=document.documentMode);
var Gi=Lh&&"TextEvent"in window&&!kg,Lk=Lh&&(!bd||kg&&8<kg&&11>=kg),Kk=String.fromCharCode(32),fk=!1,mi=!1,Pl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Vi=null,nj=null,sh=!1;if(Lh){if(Lh){var Ej="oninput"in document;if(!Ej){var Cl=document.createElement("div");Cl.setAttribute("oninput","return;");Ej="function"===typeof Cl.oninput}var Yj=Ej}else Yj=!1;sh=Yj&&(!document.documentMode||9<document.documentMode)}var Oh=
"function"===typeof Object.is?Object.is:K,kk=Lh&&"documentMode"in document&&11>=document.documentMode,oj=null,Mk=null,Kj=null,Jg=!1,Fi={animationend:Yb("Animation","AnimationEnd"),animationiteration:Yb("Animation","AnimationIteration"),animationstart:Yb("Animation","AnimationStart"),transitionend:Yb("Transition","TransitionEnd")},Nk={},gk={};Lh&&(gk=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),
"TransitionEvent"in window||delete Fi.transitionend.transition);for(var Ph=ic("animationend"),ik=ic("animationiteration"),ol=ic("animationstart"),Wi=ic("transitionend"),Zh=new Map,gl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
hl=0;hl<gl.length;hl++){var Mh=gl[hl],Bk=Mh.toLowerCase(),Dl=Mh[0].toUpperCase()+Mh.slice(1);Ac(Bk,"on"+Dl)}Ac(Ph,"onAnimationEnd");Ac(ik,"onAnimationIteration");Ac(ol,"onAnimationStart");Ac("dblclick","onDoubleClick");Ac("focusin","onFocus");Ac("focusout","onBlur");Ac(Wi,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));h("onBeforeInput",["compositionend","keypress","textInput","paste"]);h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yj="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
Ql=new Set("cancel close invalid load scroll toggle".split(" ").concat(yj)),hk="_reactListening"+Math.random().toString(36).slice(2),Ul=/\r\n?/g,Vl=/\u0000|\uFFFD/g,Xk=null,Yk=null,$k="function"===typeof setTimeout?setTimeout:void 0,bm="function"===typeof clearTimeout?clearTimeout:void 0,Ck="function"===typeof Promise?Promise:void 0,Al="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ck?function(c){return Ck.resolve(null).then(c).catch(Ee)}:$k,Ai=Math.random().toString(36).slice(2),
Qh="__reactFiber$"+Ai,Lj="__reactProps$"+Ai,$h="__reactContainer$"+Ai,Ok="__reactEvents$"+Ai,yl="__reactListeners$"+Ai,Zk="__reactHandles$"+Ai,Uk=[],pj=-1,gg={},Bg=Ed(gg),ch=Ed(!1),ni=gg,lg=null,ai=!1,Vk=!1,qj=[],Bh=0,mk=null,lk=0,Ff=[],th=0,bi=null,Ch=1,oi="",Qg=null,Rg=null,Pf=!1,jh=null,zl=yh.ReactCurrentBatchConfig,Ji=J(!0),ul=J(!1),tj=Ed(null),Hi=null,qi=null,Mj=null,Yi=null,ri=!1,uj={},ci=Ed(uj),wj=Ed(uj),vj=Ed(uj),Bf=Ed(0),Ii=[],Nj=yh.ReactCurrentDispatcher,nk=yh.ReactCurrentBatchConfig,Zi=
0,sf=null,mg=null,vg=null,$i=!1,Oj=!1,Pj=0,km=0,Qj={readContext:Ka,useCallback:xd,useContext:xd,useEffect:xd,useImperativeHandle:xd,useInsertionEffect:xd,useLayoutEffect:xd,useMemo:xd,useReducer:xd,useRef:xd,useState:xd,useDebugValue:xd,useDeferredValue:xd,useTransition:xd,useMutableSource:xd,useSyncExternalStore:xd,useId:xd,unstable_isNewReconciler:!1},Xl={readContext:Ka,useCallback:function(c,d){Ce().memoizedState=[c,void 0===d?null:d];return c},useContext:Ka,useEffect:eh,useImperativeHandle:function(c,
d,k){k=null!==k&&void 0!==k?k.concat([c]):null;return Gf(4194308,4,kh.bind(null,d,c),k)},useLayoutEffect:function(c,d){return Gf(4194308,4,c,d)},useInsertionEffect:function(c,d){return Gf(4,2,c,d)},useMemo:function(c,d){var k=Ce();d=void 0===d?null:d;c=c();k.memoizedState=[c,d];return c},useReducer:function(c,d,k){var x=Ce();d=void 0!==k?k(d):d;x.memoizedState=x.baseState=d;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d};x.queue=c;c=c.dispatch=Xd.bind(null,
sf,c);return[x.memoizedState,c]},useRef:function(c){var d=Ce();c={current:c};return d.memoizedState=c},useState:Tg,useDebugValue:U,useDeferredValue:function(c){return Ce().memoizedState=c},useTransition:function(){var c=Tg(!1),d=c[0];c=Bc.bind(null,c[1]);Ce().memoizedState=c;return[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,k){var x=sf,T=Ce();if(Pf){if(void 0===k)throw Error(w(407));k=k()}else{k=d();if(null===ng)throw Error(w(349));0!==(Zi&30)||Mf(x,d,k)}T.memoizedState=
k;var ea={value:k,getSnapshot:d};T.queue=ea;eh(ff.bind(null,x,ea,c),[c]);x.flags|=2048;Af(9,ag.bind(null,x,ea,k,d),void 0,null);return k},useId:function(){var c=Ce(),d=ng.identifierPrefix;if(Pf){var k=oi,x=Ch;k=(x&~(1<<32-Nh(x)-1)).toString(32)+k;d=":"+d+"R"+k;k=Pj++;0<k&&(d+="H"+k.toString(32));d+=":"}else k=km++,d=":"+d+"r"+k.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},sl={readContext:Ka,useCallback:La,useContext:Ka,useEffect:Sg,useImperativeHandle:Hf,useInsertionEffect:Vg,
useLayoutEffect:Wg,useMemo:lb,useReducer:ef,useRef:cg,useState:function(){return ef(je)},useDebugValue:U,useDeferredValue:function(c){var d=Vc();return xc(d,mg.memoizedState,c)},useTransition:function(){var c=ef(je)[0],d=Vc().memoizedState;return[c,d]},useMutableSource:Dg,useSyncExternalStore:tf,useId:wd,unstable_isNewReconciler:!1},tl={readContext:Ka,useCallback:La,useContext:Ka,useEffect:Sg,useImperativeHandle:Hf,useInsertionEffect:Vg,useLayoutEffect:Wg,useMemo:lb,useReducer:jf,useRef:cg,useState:function(){return jf(je)},
useDebugValue:U,useDeferredValue:function(c){var d=Vc();return null===mg?d.memoizedState=c:xc(d,mg.memoizedState,c)},useTransition:function(){var c=jf(je)[0],d=Vc().memoizedState;return[c,d]},useMutableSource:Dg,useSyncExternalStore:tf,useId:wd,unstable_isNewReconciler:!1},ok={isMounted:function(c){return(c=c._reactInternals)?Da(c)===c:!1},enqueueSetState:function(c,d,k){c=c._reactInternals;var x=Ab(),T=$b(c),ea=tc(x,T);ea.payload=d;void 0!==k&&null!==k&&(ea.callback=k);d=Hc(c,ea,T);null!==d&&(r(d,
c,T,x),Uc(d,c,T))},enqueueReplaceState:function(c,d,k){c=c._reactInternals;var x=Ab(),T=$b(c),ea=tc(x,T);ea.tag=1;ea.payload=d;void 0!==k&&null!==k&&(ea.callback=k);d=Hc(c,ea,T);null!==d&&(r(d,c,T,x),Uc(d,c,T))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var k=Ab(),x=$b(c),T=tc(k,x);T.tag=2;void 0!==d&&null!==d&&(T.callback=d);d=Hc(c,T,x);null!==d&&(r(d,c,x,k),Uc(d,c,x))}},Yl="function"===typeof WeakMap?WeakMap:Map,vl=yh.ReactCurrentOwner,dh=!1,Wk={dehydrated:null,treeContext:null,retryLane:0};
var Zl=function(c,d){for(var k=d.child;null!==k;){if(5===k.tag||6===k.tag)c.appendChild(k.stateNode);else if(4!==k.tag&&null!==k.child){k.child.return=k;k=k.child;continue}if(k===d)break;for(;null===k.sibling;){if(null===k.return||k.return===d)return;k=k.return}k.sibling.return=k.return;k=k.sibling}};var ei=function(){};var wl=function(c,d,k,x){var T=c.memoizedProps;if(T!==x){c=d.stateNode;Gd(ci.current);var ea=null;switch(k){case "input":T=ha(c,T);x=ha(c,x);ea=[];break;case "select":T=mc({},T,{value:void 0});
x=mc({},x,{value:void 0});ea=[];break;case "textarea":T=tb(c,T);x=tb(c,x);ea=[];break;default:"function"!==typeof T.onClick&&"function"===typeof x.onClick&&(c.onclick=Ge)}sa(k,x);var Sa;k=null;for(Jc in T)if(!x.hasOwnProperty(Jc)&&T.hasOwnProperty(Jc)&&null!=T[Jc])if("style"===Jc){var Tb=T[Jc];for(Sa in Tb)Tb.hasOwnProperty(Sa)&&(k||(k={}),k[Sa]="")}else"dangerouslySetInnerHTML"!==Jc&&"children"!==Jc&&"suppressContentEditableWarning"!==Jc&&"suppressHydrationWarning"!==Jc&&"autoFocus"!==Jc&&(Wh.hasOwnProperty(Jc)?
ea||(ea=[]):(ea=ea||[]).push(Jc,null));for(Jc in x){var hc=x[Jc];Tb=null!=T?T[Jc]:void 0;if(x.hasOwnProperty(Jc)&&hc!==Tb&&(null!=hc||null!=Tb))if("style"===Jc)if(Tb){for(Sa in Tb)!Tb.hasOwnProperty(Sa)||hc&&hc.hasOwnProperty(Sa)||(k||(k={}),k[Sa]="");for(Sa in hc)hc.hasOwnProperty(Sa)&&Tb[Sa]!==hc[Sa]&&(k||(k={}),k[Sa]=hc[Sa])}else k||(ea||(ea=[]),ea.push(Jc,k)),k=hc;else"dangerouslySetInnerHTML"===Jc?(hc=hc?hc.__html:void 0,Tb=Tb?Tb.__html:void 0,null!=hc&&Tb!==hc&&(ea=ea||[]).push(Jc,hc)):"children"===
Jc?"string"!==typeof hc&&"number"!==typeof hc||(ea=ea||[]).push(Jc,""+hc):"suppressContentEditableWarning"!==Jc&&"suppressHydrationWarning"!==Jc&&(Wh.hasOwnProperty(Jc)?(null!=hc&&"onScroll"===Jc&&Wc("scroll",c),ea||Tb===hc||(ea=[])):(ea=ea||[]).push(Jc,hc))}k&&(ea=ea||[]).push("style",k);var Jc;if(d.updateQueue=ea)d.flags|=4}};var xl=function(c,d,k,x){k!==x&&(d.flags|=4)};var sk=!1,Zg=!1,$l="function"===typeof WeakSet?WeakSet:Set,Nd=null,rk=!1,Ng=null,Th=!1,am=Math.ceil,uk=yh.ReactCurrentDispatcher,
al=yh.ReactCurrentOwner,Kh=yh.ReactCurrentBatchConfig,bf=0,ng=null,rg=null,Og=0,uh=0,xj=Ed(0),If=0,Rj=null,mf=0,hf=0,Pg=0,xh=null,qh=null,Uh=0,zj=Infinity,xi=null,pk=!1,qk=null,si=null,Sj=!1,yi=null,dj=0,wi=0,tk=null,Ni=-1,Bj=0;var bl=function(c,d,k){if(null!==c)if(c.memoizedProps!==d.pendingProps||ch.current)dh=!0;else{if(0===(c.lanes&k)&&0===(d.flags&128))return dh=!1,Gh(c,d,k);dh=0!==(c.flags&131072)?!0:!1}else dh=!1,Pf&&0!==(d.flags&1048576)&&se(d,lk,d.index);d.lanes=0;switch(d.tag){case 2:var x=
d.type;Fh(c,d);c=d.pendingProps;var T=Ca(d,Bg.current);Pa(d,k);T=ve(null,d,x,c,T,k);var ea=be();d.flags|=1;"object"===typeof T&&null!==T&&"function"===typeof T.render&&void 0===T.$$typeof?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Va(x)?(ea=!0,Zc(d)):ea=!1,d.memoizedState=null!==T.state&&void 0!==T.state?T.state:null,rc(d),T.updater=ok,d.stateNode=T,T._reactInternals=d,Ld(d,x,c,k),d=jg(null,d,x,!0,ea,k)):(d.tag=0,Pf&&ea&&Ve(d),Xe(null,d,T,k),d=d.child);return d;case 16:x=d.elementType;a:{Fh(c,
d);c=d.pendingProps;T=x._init;x=T(x._payload);d.type=x;T=d.tag=gi(x);c=Uf(x,c);switch(T){case 0:d=og(null,d,x,c,k);break a;case 1:d=vh(null,d,x,c,k);break a;case 11:d=Yg(null,d,x,c,k);break a;case 14:d=xg(null,d,x,Uf(x.type,c),k);break a}throw Error(w(306,x,""));}return d;case 0:return x=d.type,T=d.pendingProps,T=d.elementType===x?T:Uf(x,T),og(c,d,x,T,k);case 1:return x=d.type,T=d.pendingProps,T=d.elementType===x?T:Uf(x,T),vh(c,d,x,T,k);case 3:a:{Sh(d);if(null===c)throw Error(w(387));x=d.pendingProps;
ea=d.memoizedState;T=ea.element;uc(c,d);od(d,x,null,k);var Sa=d.memoizedState;x=Sa.element;if(ea.isDehydrated)if(ea={element:x,isDehydrated:!1,cache:Sa.cache,pendingSuspenseBoundaries:Sa.pendingSuspenseBoundaries,transitions:Sa.transitions},d.updateQueue.baseState=ea,d.memoizedState=ea,d.flags&256){T=Sd(Error(w(423)),d);ue();ae(T);d.flags|=256;Xe(c,d,x,k);d=d.child;break a}else if(x!==T){T=Sd(Error(w(424)),d);ue();ae(T);d.flags|=256;Xe(c,d,x,k);d=d.child;break a}else for(Rg=yd(d.stateNode.containerInfo.firstChild),
Qg=d,Pf=!0,jh=null,k=ul(d,null,x,k),d.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{ue();if(x===T){d=Eg(c,d,k);break a}Xe(c,d,x,k)}d=d.child}return d;case 5:return qe(d),null===c&&Be(d),x=d.type,T=d.pendingProps,ea=null!==c?c.memoizedProps:null,Sa=T.children,oe(x,T)?Sa=null:null!==ea&&oe(x,ea)&&(d.flags|=32),Rh(c,d),Xe(c,d,Sa,k),d.child;case 6:return null===c&&Be(d),null;case 13:return Fg(c,d,k);case 4:return kc(d,d.stateNode.containerInfo),x=d.pendingProps,null===c?d.child=Ji(d,null,x,k):Xe(c,
d,x,k),d.child;case 11:return x=d.type,T=d.pendingProps,T=d.elementType===x?T:Uf(x,T),Yg(c,d,x,T,k);case 7:return Xe(c,d,d.pendingProps,k),d.child;case 8:return Xe(c,d,d.pendingProps.children,k),d.child;case 12:return Xe(c,d,d.pendingProps.children,k),d.child;case 10:a:{x=d.type._context;T=d.pendingProps;ea=d.memoizedProps;Sa=T.value;ie(tj,x._currentValue);x._currentValue=Sa;if(null!==ea)if(Oh(ea.value,Sa)){if(ea.children===T.children&&!ch.current){d=Eg(c,d,k);break a}}else for(ea=d.child,null!==
ea&&(ea.return=d);null!==ea;){var Tb=ea.dependencies;if(null!==Tb){Sa=ea.child;for(var hc=Tb.firstContext;null!==hc;){if(hc.context===x){if(1===ea.tag){hc=tc(-1,k&-k);hc.tag=2;var Jc=ea.updateQueue;if(null!==Jc){Jc=Jc.shared;var ed=Jc.pending;null===ed?hc.next=hc:(hc.next=ed.next,ed.next=hc);Jc.pending=hc}}ea.lanes|=k;hc=ea.alternate;null!==hc&&(hc.lanes|=k);Ga(ea.return,k,d);Tb.lanes|=k;break}hc=hc.next}}else if(10===ea.tag)Sa=ea.type===d.type?null:ea.child;else if(18===ea.tag){Sa=ea.return;if(null===
Sa)throw Error(w(341));Sa.lanes|=k;Tb=Sa.alternate;null!==Tb&&(Tb.lanes|=k);Ga(Sa,k,d);Sa=ea.sibling}else Sa=ea.child;if(null!==Sa)Sa.return=ea;else for(Sa=ea;null!==Sa;){if(Sa===d){Sa=null;break}ea=Sa.sibling;if(null!==ea){ea.return=Sa.return;Sa=ea;break}Sa=Sa.return}ea=Sa}Xe(c,d,T.children,k);d=d.child}return d;case 9:return T=d.type,x=d.pendingProps.children,Pa(d,k),T=Ka(T),x=x(T),d.flags|=1,Xe(c,d,x,k),d.child;case 14:return x=d.type,T=Uf(x,d.pendingProps),T=Uf(x.type,T),xg(c,d,x,T,k);case 15:return lh(c,
d,d.type,d.pendingProps,k);case 17:return x=d.type,T=d.pendingProps,T=d.elementType===x?T:Uf(x,T),Fh(c,d),d.tag=1,Va(x)?(c=!0,Zc(d)):c=!1,Pa(d,k),Kg(d,x,T),Ld(d,x,T,k),jg(null,d,x,!0,c,k);case 19:return Li(c,d,k);case 22:return Of(c,d,k)}throw Error(w(156,d.tag));};var El="function"===typeof reportError?reportError:function(c){console.error(c)};zi.prototype.render=Pi.prototype.render=function(c){var d=this._internalRoot;if(null===d)throw Error(w(409));hh(c,d,null,null)};zi.prototype.unmount=Pi.prototype.unmount=
function(){var c=this._internalRoot;if(null!==c){this._internalRoot=null;var d=c.containerInfo;Rc(function(){hh(null,c,null,null)});d[$h]=null}};zi.prototype.unstable_scheduleHydration=function(c){if(c){var d=Fl();c={blockedOn:null,target:c,priority:d};for(var k=0;k<li.length&&0!==d&&d<li[k].priority;k++);li.splice(k,0,c);0===k&&yb(c)}};var Nl=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var k=kb(d.pendingLanes);0!==k&&(sc(d,k|1),I(d,eg()),0===(bf&6)&&
(zj=eg()+500,He()))}break;case 13:Rc(function(){var x=pc(c,1);if(null!==x){var T=Ab();r(x,c,1,T)}}),Dj(c,1)}};var Fk=function(c){if(13===c.tag){var d=pc(c,134217728);if(null!==d){var k=Ab();r(d,c,134217728,k)}Dj(c,134217728)}};var Ml=function(c){if(13===c.tag){var d=$b(c),k=pc(c,d);if(null!==k){var x=Ab();r(k,c,d,x)}Dj(c,d)}};var Fl=function(){return rf};var ll=function(c,d){var k=rf;try{return rf=c,d()}finally{rf=k}};Kf=function(c,d,k){switch(d){case "input":Wa(c,k);d=k.name;if("radio"===k.type&&
null!=d){for(k=c;k.parentNode;)k=k.parentNode;k=k.querySelectorAll("input[name\x3d"+JSON.stringify(""+d)+'][type\x3d"radio"]');for(d=0;d<k.length;d++){var x=k[d];if(x!==c&&x.form===c.form){var T=Ke(x);if(!T)throw Error(w(90));lc(x);Wa(x,T)}}}break;case "textarea":gb(c,k);break;case "select":d=k.value,null!=d&&cb(c,!!k.multiple,d,!1)}};B=ac;z=Rc;var lm={usingClientEntryPoint:!1,Events:[Pe,Qe,Ke,u,R,ac]},Fj={findFiberByHostInstance:Ze,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bi=
{bundleType:Fj.bundleType,version:Fj.version,rendererPackageName:Fj.rendererPackageName,rendererConfig:Fj.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yh.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){c=Na(c);return null===c?null:c.stateNode},findFiberByHostInstance:Fj.findFiberByHostInstance||
cl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{Ij=zh.inject(Bi),Yh=zh}catch(c){}}Ya.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm;Ya.createPortal=function(c,d){var k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vj(d))throw Error(w(200));
return Wf(c,d,null,k)};Ya.createRoot=function(c,d){if(!Vj(c))throw Error(w(299));var k=!1,x="",T=El;null!==d&&void 0!==d&&(!0===d.unstable_strictMode&&(k=!0),void 0!==d.identifierPrefix&&(x=d.identifierPrefix),void 0!==d.onRecoverableError&&(T=d.onRecoverableError));d=ej(c,1,!1,null,null,k,!1,x,T);c[$h]=d.current;ud(8===c.nodeType?c.parentNode:c);return new Pi(d)};Ya.findDOMNode=function(c){if(null==c)return null;if(1===c.nodeType)return c;var d=c._reactInternals;if(void 0===d){if("function"===typeof c.render)throw Error(w(188));
c=Object.keys(c).join(",");throw Error(w(268,c));}c=Na(d);return c=null===c?null:c.stateNode};Ya.flushSync=function(c){return Rc(c)};Ya.hydrate=function(c,d,k){if(!Qi(d))throw Error(w(200));return fj(null,c,d,!0,k)};Ya.hydrateRoot=function(c,d,k){if(!Vj(c))throw Error(w(405));var x=null!=k&&k.hydratedSources||null,T=!1,ea="",Sa=El;null!==k&&void 0!==k&&(!0===k.unstable_strictMode&&(T=!0),void 0!==k.identifierPrefix&&(ea=k.identifierPrefix),void 0!==k.onRecoverableError&&(Sa=k.onRecoverableError));
d=Cj(d,null,c,1,null!=k?k:null,T,!1,ea,Sa);c[$h]=d.current;ud(c);if(x)for(c=0;c<x.length;c++)k=x[c],T=k._getVersion,T=T(k._source),null==d.mutableSourceEagerHydrationData?d.mutableSourceEagerHydrationData=[k,T]:d.mutableSourceEagerHydrationData.push(k,T);return new zi(d)};Ya.render=function(c,d,k){if(!Qi(d))throw Error(w(200));return fj(null,c,d,!1,k)};Ya.unmountComponentAtNode=function(c){if(!Qi(c))throw Error(w(40));return c._reactRootContainer?(Rc(function(){fj(null,null,c,!1,function(){c._reactRootContainer=
null;c[$h]=null})}),!0):!1};Ya.unstable_batchedUpdates=ac;Ya.unstable_renderSubtreeIntoContainer=function(c,d,k,x){if(!Qi(k))throw Error(w(200));if(null==c||void 0===c._reactInternals)throw Error(w(38));return fj(c,d,k,!1,x)};Ya.version="18.3.1-next-f1338f8080-20240426"};
shadow$provide[8]=function(Db,ob,zc,Ya){function w(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w)}catch(h){console.error(h)}}w();zc.exports=ob(6)};
shadow$provide[9]=function(Db,ob,zc,Ya){Db=ob(8);Ya.createRoot=Db.createRoot;Ya.hydrateRoot=Db.hydrateRoot};
shadow$provide[14]=function(Db,ob,zc,Ya){zc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[18]=function(Db,ob,zc,Ya){function w(){}function h(){}var ka=ob(14);h.resetWarningCache=w;zc.exports=function(){function Za(Zb,Ub,jc,Bb,Rb,ec){if(ec!==ka)throw Zb=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),Zb.name="Invariant Violation",Zb;}function zb(){return Za}Za.isRequired=Za;var Vb={array:Za,bigint:Za,bool:Za,func:Za,number:Za,object:Za,
string:Za,symbol:Za,any:Za,arrayOf:zb,element:Za,elementType:Za,instanceOf:zb,node:Za,objectOf:zb,oneOf:zb,oneOfType:zb,shape:zb,exact:zb,checkPropTypes:h,resetWarningCache:w};return Vb.PropTypes=Vb}};
shadow$provide[19]=function(Db,ob,zc,Ya){zc.exports=ob(18)()};
shadow$provide[20]=function(Db,ob,zc,Ya){Ya.__esModule=!0;Ya.default=function(h,ka){void 0===h&&(h=w);void 0===ka&&(ka=w);const Za=Object.keys(h),zb=Object.keys(ka);return h===ka||Za.length===zb.length&&Za.every(Vb=>h[Vb]===ka[Vb])};const w={}};
shadow$provide[21]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya):"function"===typeof define&&define.amd?define(["exports"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={}))})(this,function(w){function h(z,N,A){z.fields=N||[];z.fname=A;return z}function ka(z){return null==z?null:z.fields}function Za(z){return 1===z.length?Wa(z[0]):Ja(z)}function zb(z){throw Error(z);}function Vb(z){function N(){A.push(Da+z.substring(P,ja));Da="";P=ja+
1}const A=[],D=z.length;let H=null,W=0,Da="",P,ja,Ba;z+="";for(P=ja=0;ja<D;++ja)(Ba=z[ja],"\\"===Ba)?(Da+=z.substring(P,ja++),P=ja):Ba===H?(N(),H=null,W=-1):H||(P===W&&'"'===Ba?(P=ja+1,H=Ba):P===W&&"'"===Ba?(P=ja+1,H=Ba):"."!==Ba||W?"["===Ba?(ja>P&&N(),W=P=ja+1):"]"===Ba&&(W||zb("Access path missing open bracket: "+z),0<W&&N(),W=0,P=ja+1):ja>P?N():P=ja+1);W&&zb("Access path missing closing bracket: "+z);H&&zb("Access path missing closing quote: "+z);ja>P&&(ja++,N());return A}function Zb(z,N,A){const D=
Vb(z);z=1===D.length?D[0]:z;return h((A&&A.get||Za)(D),[z],N||z)}function Ub(z,N,A){N=[N].concat([].slice.call(A));console[z].apply(console,N)}function jc(z){return z===Object(z)}function Bb(z,N,A,D){if("__proto__"!==N){var H;if(jc(A)&&!aa(A))for(H in z=jc(z[N])?z[N]:z[N]={},A)D&&(!0===D||D[H])?Bb(z,H,A[H]):"__proto__"!==H&&(z[H]=A[H]);else z[N]=A}}function Rb(z,N){function A(W){D[W.name]||(D[W.name]=1,H.push(W))}if(null==z)return N;const D={},H=[];N.forEach(A);z.forEach(A);return H}function ec(z){return z[z.length-
1]}function Ea(z){return null==z||""===z?null:+z}function $a(z,N,A,D){const H=A(z[0]);z=A(ec(z));N*=z-H;return[D(H-N),D(z-N)]}function vb(z,N,A,D,H){const W=D(z[0]);z=D(ec(z));N=null!=N?D(N):(W+z)/2;return[H(N+(W-N)*A),H(N+(z-N)*A)]}function ub(z){return null!=z?aa(z)?z:[z]:[]}function sb(z){return"function"===typeof z}function wb(z){for(let N,A,D=1,H=arguments.length;D<H;++D)for(A in N=arguments[D],N)z[A]=N[A];return z}function jb(z,N){return Object.hasOwn(z,N)}function lc(z){return"[object Date]"===
Object.prototype.toString.call(z)}function ta(z){return"number"===typeof z}function ha(z){return"string"===typeof z}function ya(z,N){let A="";for(;0<=--N;)A+=z;return A}function Ra(z){return aa(z)?"["+z.map(Ra)+"]":jc(z)||ha(z)?JSON.stringify(z).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):z}const Wa=z=>function(N){return N[z]},Ja=z=>{const N=z.length;return function(A){for(let D=0;D<N;++D)A=A[z[D]];return A}},ib=Zb("id"),cb=h(z=>z,[],"identity"),tb=h(()=>0,[],"zero"),Pb=h(()=>1,[],"one"),
gb=h(()=>!0,[],"true"),V=h(()=>!1,[],"false");var aa=Array.isArray;const da=z=>N=>z*Math.exp(N),ia=z=>N=>Math.log(z*N),Ma=z=>N=>Math.sign(N)*Math.log1p(Math.abs(N/z)),pa=z=>N=>Math.sign(N)*Math.expm1(Math.abs(N))*z,sa=z=>N=>0>N?-Math.pow(-N,z):Math.pow(N,z),m=(z,N)=>(z<N||null==z)&&null!=N?-1:(z>N||null==N)&&null!=z?1:(N=N instanceof Date?+N:N,z=z instanceof Date?+z:z)!==z&&N===N?-1:N!==N&&z===z?1:0,F=(z,N)=>1===z.length?L(z[0],N[0]):u(z,N,z.length),L=(z,N)=>function(A,D){return m(z(A),z(D))*N},u=
(z,N,A)=>{N.push(0);return function(D,H){var W=0;let Da=-1;for(;0===W&&++Da<A;)W=z[Da],W=m(W(D),W(H));return W*N[Da]}},R={},B=z=>ta(z)?z:lc(z)?z:Date.parse(z);w.Debug=4;w.Error=1;w.Info=3;w.None=0;w.Warn=2;w.accessor=h;w.accessorFields=ka;w.accessorName=function(z){return null==z?null:z.fname};w.array=ub;w.ascending=m;w.clampRange=function(z,N,A){let D=z[0];z=z[1];let H;z<D&&(H=z,z=D,D=H);H=z-D;return H>=A-N?[N,A]:[D=Math.min(Math.max(D,N),A-H),D+H]};w.compare=function(z,N,A){A=A||{};N=ub(N)||[];
const D=[],H=[],W={},Da=A.comparator||F;ub(z).forEach((P,ja)=>{null!=P&&(D.push("descending"===N[ja]?-1:1),H.push(P=sb(P)?P:Zb(P,null,A)),(ka(P)||[]).forEach(Ba=>W[Ba]=1))});return 0===H.length?null:h(Da(H,D),Object.keys(W))};w.constant=function(z){return sb(z)?z:()=>z};w.debounce=function(z,N){let A;return D=>{A&&clearTimeout(A);A=setTimeout(()=>(N(D),A=null),z)}};w.error=zb;w.extend=wb;w.extent=function(z,N){let A=0,D,H,W,Da;if(z&&(D=z.length))if(null==N){for(H=z[A];A<D&&(null==H||H!==H);H=z[++A]);
for(W=Da=H;A<D;++A)H=z[A],null!=H&&(H<W&&(W=H),H>Da&&(Da=H))}else{for(H=N(z[A]);A<D&&(null==H||H!==H);H=N(z[++A]));for(W=Da=H;A<D;++A)H=N(z[A]),null!=H&&(H<W&&(W=H),H>Da&&(Da=H))}return[W,Da]};w.extentIndex=function(z,N){const A=z.length;let D=-1,H,W,Da,P,ja;if(null==N){for(;++D<A;)if(W=z[D],null!=W&&W>=W){H=Da=W;break}if(D===A)return[-1,-1];for(P=ja=D;++D<A;)W=z[D],null!=W&&(H>W&&(H=W,P=D),Da<W&&(Da=W,ja=D))}else{for(;++D<A;)if(W=N(z[D],D,z),null!=W&&W>=W){H=Da=W;break}if(D===A)return[-1,-1];for(P=
ja=D;++D<A;)W=N(z[D],D,z),null!=W&&(H>W&&(H=W,P=D),Da<W&&(Da=W,ja=D))}return[P,ja]};w.falsy=V;w.fastmap=function(z){function N(W){return jb(A,W)&&A[W]!==R}let A={},D;const H={size:0,empty:0,object:A,has:N,get(W){return N(W)?A[W]:void 0},set(W,Da){N(W)||(++H.size,A[W]===R&&--H.empty);A[W]=Da;return this},delete(W){N(W)&&(--H.size,++H.empty,A[W]=R);return this},clear(){H.size=H.empty=0;H.object=A={}},test(W){return arguments.length?(D=W,H):D},clean(){const W={};let Da=0;for(const P in A){const ja=A[P];
ja===R||D&&D(ja)||(W[P]=ja,++Da)}H.size=Da;H.empty=0;H.object=A=W}};z&&Object.keys(z).forEach(W=>{H.set(W,z[W])});return H};w.field=Zb;w.flush=function(z,N,A,D,H,W){if(!A&&0!==A)return W;A=+A;let Da=z[0],P=ec(z);P<Da&&(z=Da,Da=P,P=z);z=Math.abs(N-Da);N=Math.abs(P-N);return z<N&&z<=A?D:N<=A?H:W};w.hasOwnProperty=jb;w.id=ib;w.identity=cb;w.inherits=function(z,N,A){N=z.prototype=Object.create(N.prototype);Object.defineProperty(N,"constructor",{value:z,writable:!0,enumerable:!0,configurable:!0});return wb(N,
A)};w.inrange=function(z,N,A,D){let H=N[0];N=N[N.length-1];let W;H>N&&(W=H,H=N,N=W);return(void 0===A||A?H<=z:H<z)&&(void 0===D||D?z<=N:z<N)};w.isArray=aa;w.isBoolean=function(z){return"boolean"===typeof z};w.isDate=lc;w.isFunction=sb;w.isIterable=function(z){return z&&sb(z[Symbol.iterator])};w.isNumber=ta;w.isObject=jc;w.isRegExp=function(z){return"[object RegExp]"===Object.prototype.toString.call(z)};w.isString=ha;w.key=function(z,N,A){z&&(z=N?ub(z).map(W=>W.replace(/\\(.)/g,"$1")):ub(z));const D=
z&&z.length,H=A&&A.get||Za;A=W=>H(N?[W]:Vb(W));if(D)if(1===D){const W=A(z[0]);A=function(Da){return""+W(Da)}}else{const W=z.map(A);A=function(Da){let P=""+W[0](Da),ja=0;for(;++ja<D;)P+="|"+W[ja](Da);return P}}else A=function(){return""};return h(A,z,"key")};w.lerp=function(z,N){const A=z[0];z=ec(z);return(N=+N)?1===N?z:A+N*(z-A):A};w.logger=function(z,N,A=Ub){let D=z||0;return{level(H){return arguments.length?(D=+H,this):D},error(){1<=D&&A(N||"error","ERROR",arguments);return this},warn(){2<=D&&A(N||
"warn","WARN",arguments);return this},info(){3<=D&&A(N||"log","INFO",arguments);return this},debug(){4<=D&&A(N||"log","DEBUG",arguments);return this}}};w.lruCache=function(z){z=+z||1E4;let N,A,D;const H=()=>{N={};A={};D=0},W=(Da,P)=>{++D>z&&(A=N,N={},D=1);return N[Da]=P};H();return{clear:H,has:Da=>jb(N,Da)||jb(A,Da),get:Da=>jb(N,Da)?N[Da]:jb(A,Da)?W(Da,A[Da]):void 0,set:(Da,P)=>jb(N,Da)?N[Da]=P:W(Da,P)}};w.merge=function(z,N,A,D){const H=N.length,W=A.length;if(!W)return N;if(!H)return A;D=D||new N.constructor(H+
W);let Da=0,P=0,ja=0;for(;Da<H&&P<W;++ja)D[ja]=0<z(N[Da],A[P])?A[P++]:N[Da++];for(;Da<H;++Da,++ja)D[ja]=N[Da];for(;P<W;++P,++ja)D[ja]=A[P];return D};w.mergeConfig=function(...z){return z.reduce((N,A)=>{for(const D in A)"signals"===D?N.signals=Rb(N.signals,A.signals):Bb(N,D,A[D],"legend"===D?{layout:1}:"style"===D?!0:null);return N},{})};w.one=Pb;w.pad=function(z,N,A,D){A=A||" ";z+="";N-=z.length;return 0>=N?z:"left"===D?ya(A,N)+z:"center"===D?ya(A,~~(N/2))+z+ya(A,Math.ceil(N/2)):z+ya(A,N)};w.panLinear=
function(z,N){return $a(z,N,Ea,cb)};w.panLog=function(z,N){var A=Math.sign(z[0]);return $a(z,N,ia(A),da(A))};w.panPow=function(z,N,A){return $a(z,N,sa(A),sa(1/A))};w.panSymlog=function(z,N,A){return $a(z,N,Ma(A),pa(A))};w.peek=ec;w.quarter=function(z){return 1+~~((new Date(z)).getMonth()/3)};w.repeat=ya;w.span=function(z){return z&&ec(z)-z[0]||0};w.splitAccessPath=Vb;w.stringValue=Ra;w.toBoolean=function(z){return null==z||""===z?null:z&&"false"!==z&&"0"!==z?!!z:!1};w.toDate=function(z,N){N=N||B;
return null==z||""===z?null:N(z)};w.toNumber=Ea;w.toSet=function(z){const N={},A=z.length;for(let D=0;D<A;++D)N[z[D]]=!0;return N};w.toString=function(z){return null==z||""===z?null:z+""};w.truncate=function(z,N,A,D){D=null!=D?D:"";z+="";const H=z.length,W=Math.max(0,N-D.length);return H<=N?z:"left"===A?D+z.slice(H-W):"center"===A?z.slice(0,Math.ceil(W/2))+D+z.slice(H-~~(W/2)):z.slice(0,W)+D};w.truthy=gb;w.utcquarter=function(z){return 1+~~((new Date(z)).getUTCMonth()/3)};w.visitArray=function(z,
N,A){if(z)if(N){const D=z.length;for(let H=0;H<D;++H){const W=N(z[H]);W&&A(W,H,z)}}else z.forEach(A)};w.writeConfig=Bb;w.zero=tb;w.zoomLinear=function(z,N,A){return vb(z,N,A,Ea,cb)};w.zoomLog=function(z,N,A){const D=Math.sign(z[0]);return vb(z,N,A,ia(D),da(D))};w.zoomPow=function(z,N,A,D){return vb(z,N,A,sa(D),sa(1/D))};w.zoomSymlog=function(z,N,A,D){return vb(z,N,A,Ma(D),pa(D))}})};
shadow$provide[22]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya):"function"===typeof define&&define.amd?define(["exports"],h):(w=w||self,h(w.topojson=w.topojson||{}))})(this,function(w){function h(Ea){return Ea}function ka(Ea){if(null==Ea)return h;var $a,vb,ub=Ea.scale[0],sb=Ea.scale[1],wb=Ea.translate[0],jb=Ea.translate[1];return function(lc,ta){ta||($a=vb=0);ta=2;var ha=lc.length,ya=Array(ha);ya[0]=($a+=lc[0])*ub+wb;for(ya[1]=(vb+=lc[1])*sb+jb;ta<ha;)ya[ta]=
lc[ta],++ta;return ya}}function Za(Ea){function $a(ha){ha=ub(ha);ha[0]<wb&&(wb=ha[0]);ha[0]>lc&&(lc=ha[0]);ha[1]<jb&&(jb=ha[1]);ha[1]>ta&&(ta=ha[1])}function vb(ha){switch(ha.type){case "GeometryCollection":ha.geometries.forEach(vb);break;case "Point":$a(ha.coordinates);break;case "MultiPoint":ha.coordinates.forEach($a)}}var ub=ka(Ea.transform),sb,wb=Infinity,jb=wb,lc=-wb,ta=-wb;Ea.arcs.forEach(function(ha){for(var ya=-1,Ra=ha.length,Wa;++ya<Ra;)Wa=ub(ha[ya],ya),Wa[0]<wb&&(wb=Wa[0]),Wa[0]>lc&&(lc=
Wa[0]),Wa[1]<jb&&(jb=Wa[1]),Wa[1]>ta&&(ta=Wa[1])});for(sb in Ea.objects)vb(Ea.objects[sb]);return[wb,jb,lc,ta]}function zb(Ea,$a){var vb=$a.id,ub=$a.bbox,sb=null==$a.properties?{}:$a.properties;Ea=Vb(Ea,$a);return null==vb&&null==ub?{type:"Feature",properties:sb,geometry:Ea}:null==ub?{type:"Feature",id:vb,properties:sb,geometry:Ea}:{type:"Feature",id:vb,bbox:ub,properties:sb,geometry:Ea}}function Vb(Ea,$a){function vb(ha){return lc(ha)}function ub(ha){for(var ya=[],Ra=0,Wa=ha.length;Ra<Wa;++Ra){var Ja=
ha[Ra],ib=ya;ib.length&&ib.pop();for(var cb=ta[0>Ja?~Ja:Ja],tb=0,Pb=cb.length;tb<Pb;++tb)ib.push(lc(cb[tb],tb));if(0>Ja)for(Ja=ib,ib=Ja.length,cb=ib-Pb;cb<--ib;)Pb=Ja[cb],Ja[cb++]=Ja[ib],Ja[ib]=Pb}2>ya.length&&ya.push(ya[0]);return ya}function sb(ha){for(ha=ub(ha);4>ha.length;)ha.push(ha[0]);return ha}function wb(ha){return ha.map(sb)}function jb(ha){var ya=ha.type;switch(ya){case "GeometryCollection":return{type:ya,geometries:ha.geometries.map(jb)};case "Point":ha=lc(ha.coordinates);break;case "MultiPoint":ha=
ha.coordinates.map(vb);break;case "LineString":ha=ub(ha.arcs);break;case "MultiLineString":ha=ha.arcs.map(ub);break;case "Polygon":ha=wb(ha.arcs);break;case "MultiPolygon":ha=ha.arcs.map(wb);break;default:return null}return{type:ya,coordinates:ha}}var lc=ka(Ea.transform),ta=Ea.arcs;return jb($a)}function Zb(Ea,$a){function vb(ha){var ya=Ea.arcs[0>ha?~ha:ha],Ra=ya[0];if(Ea.transform){var Wa=[0,0];ya.forEach(function(Ja){Wa[0]+=Ja[0];Wa[1]+=Ja[1]})}else Wa=ya[ya.length-1];return 0>ha?[Wa,Ra]:[Ra,Wa]}
function ub(ha,ya){for(var Ra in ha){var Wa=ha[Ra];delete ya[Wa.start];delete Wa.start;delete Wa.end;Wa.forEach(function(Ja){sb[0>Ja?~Ja:Ja]=1});lc.push(Wa)}}var sb={},wb={},jb={},lc=[],ta=-1;$a.forEach(function(ha,ya){var Ra=Ea.arcs[0>ha?~ha:ha];3>Ra.length&&!Ra[1][0]&&!Ra[1][1]&&(Ra=$a[++ta],$a[ta]=ha,$a[ya]=Ra)});$a.forEach(function(ha){var ya=vb(ha),Ra=ya[0],Wa=ya[1];(ya=jb[Ra])?(delete jb[ya.end],ya.push(ha),ya.end=Wa,(ha=wb[Wa])?(delete wb[ha.start],Ra=ha===ya?ya:ya.concat(ha),wb[Ra.start=ya.start]=
jb[Ra.end=ha.end]=Ra):wb[ya.start]=jb[ya.end]=ya):(ya=wb[Wa])?(delete wb[ya.start],ya.unshift(ha),ya.start=Ra,(ha=jb[Ra])?(delete jb[ha.end],Ra=ha===ya?ya:ha.concat(ya),wb[Ra.start=ha.start]=jb[Ra.end=ya.end]=Ra):wb[ya.start]=jb[ya.end]=ya):(ya=[ha],wb[ya.start=Ra]=jb[ya.end=Wa]=ya)});ub(jb,wb);ub(wb,jb);$a.forEach(function(ha){sb[0>ha?~ha:ha]||lc.push([ha])});return lc}function Ub(Ea,$a,vb){var ub;if(1<arguments.length)var sb=jc(Ea,$a,vb);else{var wb=0;for(sb=Array(ub=Ea.arcs.length);wb<ub;++wb)sb[wb]=
wb}return{type:"MultiLineString",arcs:Zb(Ea,sb)}}function jc(Ea,$a,vb){function ub(ya){var Ra=0>ya?~ya:ya;(ta[Ra]||(ta[Ra]=[])).push({i:ya,g:ha})}function sb(ya){ya.forEach(ub)}function wb(ya){ya.forEach(sb)}function jb(ya){switch(ha=ya,ya.type){case "GeometryCollection":ya.geometries.forEach(jb);break;case "LineString":sb(ya.arcs);break;case "MultiLineString":case "Polygon":wb(ya.arcs);break;case "MultiPolygon":ya.arcs.forEach(wb)}}var lc=[],ta=[],ha;jb($a);ta.forEach(null==vb?function(ya){lc.push(ya[0].i)}:
function(ya){vb(ya[0].g,ya[ya.length-1].g)&&lc.push(ya[0].i)});return lc}function Bb(Ea,$a){function vb(ta){switch(ta.type){case "GeometryCollection":ta.geometries.forEach(vb);break;case "Polygon":ub(ta.arcs);break;case "MultiPolygon":ta.arcs.forEach(ub)}}function ub(ta){ta.forEach(function(ha){ha.forEach(function(ya){(wb[ya=0>ya?~ya:ya]||(wb[ya]=[])).push(ta)})});jb.push(ta)}function sb(ta){ta=Vb(Ea,{type:"Polygon",arcs:[ta]}).coordinates[0];for(var ha=-1,ya=ta.length,Ra,Wa=ta[ya-1],Ja=0;++ha<ya;)Ra=
Wa,Wa=ta[ha],Ja+=Ra[0]*Wa[1]-Ra[1]*Wa[0];return Math.abs(Ja)}var wb={},jb=[],lc=[];$a.forEach(vb);jb.forEach(function(ta){if(!ta._){var ha=[],ya=[ta];ta._=1;for(lc.push(ha);ta=ya.pop();)ha.push(ta),ta.forEach(function(Ra){Ra.forEach(function(Wa){wb[0>Wa?~Wa:Wa].forEach(function(Ja){Ja._||(Ja._=1,ya.push(Ja))})})})}});jb.forEach(function(ta){delete ta._});return{type:"MultiPolygon",arcs:lc.map(function(ta){var ha=[];ta.forEach(function(Ja){Ja.forEach(function(ib){ib.forEach(function(cb){2>wb[0>cb?
~cb:cb].length&&ha.push(cb)})})});ha=Zb(Ea,ha);if(1<(ta=ha.length))for(var ya=1,Ra=sb(ha[0]),Wa;ya<ta;++ya)(Wa=sb(ha[ya]))>Ra&&(Ra=ha[0],ha[0]=ha[ya],ha[ya]=Ra,Ra=Wa);return ha}).filter(function(ta){return 0<ta.length})}}function Rb(Ea,$a){for(var vb=0,ub=Ea.length;vb<ub;){var sb=vb+ub>>>1;Ea[sb]<$a?vb=sb+1:ub=sb}return vb}function ec(Ea){if(null==Ea)return h;var $a,vb,ub=Ea.scale[0],sb=Ea.scale[1],wb=Ea.translate[0],jb=Ea.translate[1];return function(lc,ta){ta||($a=vb=0);ta=2;var ha=lc.length,ya=
Array(ha),Ra=Math.round((lc[0]-wb)/ub),Wa=Math.round((lc[1]-jb)/sb);ya[0]=Ra-$a;$a=Ra;ya[1]=Wa-vb;for(vb=Wa;ta<ha;)ya[ta]=lc[ta],++ta;return ya}}w.bbox=Za;w.feature=function(Ea,$a){"string"===typeof $a&&($a=Ea.objects[$a]);return"GeometryCollection"===$a.type?{type:"FeatureCollection",features:$a.geometries.map(function(vb){return zb(Ea,vb)})}:zb(Ea,$a)};w.merge=function(Ea){return Vb(Ea,Bb.apply(this,arguments))};w.mergeArcs=Bb;w.mesh=function(Ea){return Vb(Ea,Ub.apply(this,arguments))};w.meshArcs=
Ub;w.neighbors=function(Ea){function $a(ib,cb){ib.forEach(function(tb){0>tb&&(tb=~tb);var Pb=sb[tb];Pb?Pb.push(cb):sb[tb]=[cb]})}function vb(ib,cb){ib.forEach(function(tb){$a(tb,cb)})}function ub(ib,cb){if("GeometryCollection"===ib.type)ib.geometries.forEach(function(tb){ub(tb,cb)});else if(ib.type in jb)jb[ib.type](ib.arcs,cb)}var sb={},wb=Ea.map(function(){return[]}),jb={LineString:$a,MultiLineString:vb,Polygon:vb,MultiPolygon:function(ib,cb){ib.forEach(function(tb){vb(tb,cb)})}};Ea.forEach(ub);
for(var lc in sb){Ea=sb[lc];for(var ta=Ea.length,ha=0;ha<ta;++ha)for(var ya=ha+1;ya<ta;++ya){var Ra=Ea[ha],Wa=Ea[ya],Ja;(Ja=wb[Ra])[lc=Rb(Ja,Wa)]!==Wa&&Ja.splice(lc,0,Wa);(Ja=wb[Wa])[lc=Rb(Ja,Ra)]!==Ra&&Ja.splice(lc,0,Ra)}}return wb};w.quantize=function(Ea,$a){function vb(Ra){return ha(Ra)}function ub(Ra){switch(Ra.type){case "GeometryCollection":var Wa={type:"GeometryCollection",geometries:Ra.geometries.map(ub)};break;case "Point":Wa={type:"Point",coordinates:ha(Ra.coordinates)};break;case "MultiPoint":Wa=
{type:"MultiPoint",coordinates:Ra.coordinates.map(vb)};break;default:return Ra}null!=Ra.id&&(Wa.id=Ra.id);null!=Ra.bbox&&(Wa.bbox=Ra.bbox);null!=Ra.properties&&(Wa.properties=Ra.properties);return Wa}if(Ea.transform)throw Error("already quantized");if($a&&$a.scale)var sb=Ea.bbox;else{if(!(2<=(ta=Math.floor($a))))throw Error("n must be 2");sb=Ea.bbox||Za(Ea);$a=sb[0];var wb=sb[1],jb=sb[2],lc=sb[3],ta;$a={scale:[jb-$a?(jb-$a)/(ta-1):1,lc-wb?(lc-wb)/(ta-1):1],translate:[$a,wb]}}var ha=ec($a),ya;wb=
Ea.objects;jb={};for(ya in wb)jb[ya]=ub(wb[ya]);return{type:"Topology",bbox:sb,transform:$a,objects:jb,arcs:Ea.arcs.map(function(Ra){var Wa=0,Ja=1,ib=Ra.length,cb,tb=Array(ib);for(tb[0]=ha(Ra[0],0);++Wa<ib;)if((cb=ha(Ra[Wa],Wa))[0]||cb[1])tb[Ja++]=cb;1===Ja&&(tb[Ja++]=[0,0]);tb.length=Ja;return tb})}};w.transform=ka;w.untransform=ec;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[23]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega))})(this,function(w,h){function ka(X){const Ha=h.array(X).slice(),Nb={};Ha.length||h.error("Missing time unit.");Ha.forEach(nc=>{h.hasOwnProperty(Ja,nc)?Nb[nc]=1:h.error(`Invalid time unit: ${nc}.`)});1<(Nb.week||Nb.day?1:0)+(Nb.quarter||Nb.month||
Nb.date?1:0)+(Nb.dayofyear?1:0)&&h.error(`Incompatible time units: ${X}`);Ha.sort((nc,Wb)=>Ja[nc]-Ja[Wb]);return Ha}function Za(X,Ha,Nb,nc){function Wb(Jb){return X(Jb=0===arguments.length?new Date:new Date(+Jb)),Jb}Wb.floor=Jb=>(X(Jb=new Date(+Jb)),Jb);Wb.ceil=Jb=>(X(Jb=new Date(Jb-1)),Ha(Jb,1),X(Jb),Jb);Wb.round=Jb=>{const Lb=Wb(Jb),sc=Wb.ceil(Jb);return Jb-Lb<sc-Jb?Lb:sc};Wb.offset=(Jb,Lb)=>(Ha(Jb=new Date(+Jb),null==Lb?1:Math.floor(Lb)),Jb);Wb.range=(Jb,Lb,sc)=>{const Oc=[];Jb=Wb.ceil(Jb);sc=
null==sc?1:Math.floor(sc);if(!(Jb<Lb&&0<sc))return Oc;let ra;do Oc.push(ra=new Date(+Jb)),Ha(Jb,sc),X(Jb);while(ra<Jb&&Jb<Lb);return Oc};Wb.filter=Jb=>Za(Lb=>{if(Lb>=Lb)for(;X(Lb),!Jb(Lb);)Lb.setTime(Lb-1)},(Lb,sc)=>{if(Lb>=Lb)if(0>sc)for(;0>=++sc;)for(;Ha(Lb,-1),!Jb(Lb););else for(;0<=--sc;)for(;Ha(Lb,1),!Jb(Lb););});Nb&&(Wb.count=(Jb,Lb)=>{cb.setTime(+Jb);tb.setTime(+Lb);X(cb);X(tb);return Math.floor(Nb(cb,tb))},Wb.every=Jb=>{Jb=Math.floor(Jb);return isFinite(Jb)&&0<Jb?1<Jb?Wb.filter(nc?Lb=>0===
nc(Lb)%Jb:Lb=>0===Wb.count(0,Lb)%Jb):Wb:null});return Wb}function zb(X){return Za(Ha=>{Ha.setDate(Ha.getDate()-(Ha.getDay()+7-X)%7);Ha.setHours(0,0,0,0)},(Ha,Nb)=>{Ha.setDate(Ha.getDate()+7*Nb)},(Ha,Nb)=>(Nb-Ha-6E4*(Nb.getTimezoneOffset()-Ha.getTimezoneOffset()))/gb)}function Vb(X){return Za(Ha=>{Ha.setUTCDate(Ha.getUTCDate()-(Ha.getUTCDay()+7-X)%7);Ha.setUTCHours(0,0,0,0)},(Ha,Nb)=>{Ha.setUTCDate(Ha.getUTCDate()+7*Nb)},(Ha,Nb)=>(Nb-Ha)/gb)}function Zb(X,Ha){return null==X||null==Ha?NaN:X<Ha?-1:X>
Ha?1:X>=Ha?0:NaN}function Ub(X,Ha){return null==X||null==Ha?NaN:Ha<X?-1:Ha>X?1:Ha>=X?0:NaN}function jc(X){function Ha(Jb,Lb,sc=0,Oc=Jb.length){if(sc<Oc){if(0!==Nb(Lb,Lb))return Oc;do{const ra=sc+Oc>>>1;0>nc(Jb[ra],Lb)?sc=ra+1:Oc=ra}while(sc<Oc)}return sc}let Nb,nc,Wb;2!==X.length?(Nb=Zb,nc=(Jb,Lb)=>Zb(X(Jb),Lb),Wb=(Jb,Lb)=>X(Jb)-Lb):(Nb=X===Zb||X===Ub?X:Bb,Wb=nc=X);return{left:Ha,center:function(Jb,Lb,sc=0,Oc=Jb.length){Oc=Ha(Jb,Lb,sc,Oc-1);return Oc>sc&&Wb(Jb[Oc-1],Lb)>-Wb(Jb[Oc],Lb)?Oc-1:Oc},right:function(Jb,
Lb,sc=0,Oc=Jb.length){if(sc<Oc){if(0!==Nb(Lb,Lb))return Oc;do{const ra=sc+Oc>>>1;0>=nc(Jb[ra],Lb)?sc=ra+1:Oc=ra}while(sc<Oc)}return sc}}}function Bb(){return 0}function Rb(X,Ha,Nb){var nc=(Ha-X)/Math.max(0,Nb),Wb=Math.floor(Math.log10(nc));nc/=Math.pow(10,Wb);nc=nc>=A?10:nc>=D?5:nc>=H?2:1;let Jb;0>Wb?(Jb=Math.pow(10,-Wb)/nc,Wb=Math.round(X*Jb),nc=Math.round(Ha*Jb),Wb/Jb<X&&++Wb,nc/Jb>Ha&&--nc,Jb=-Jb):(Jb=Math.pow(10,Wb)*nc,Wb=Math.round(X/Jb),nc=Math.round(Ha/Jb),Wb*Jb<X&&++Wb,nc*Jb>Ha&&--nc);return nc<
Wb&&.5<=Nb&&2>Nb?Rb(X,Ha,2*Nb):[Wb,nc,Jb]}function ec(X,Ha,Nb){return Rb(+X,+Ha,+Nb)[2]}function Ea(X,Ha,Nb){Ha=+Ha;X=+X;Nb=+Nb;const nc=Ha<X;X=nc?ec(Ha,X,Nb):ec(X,Ha,Nb);return(nc?-1:1)*(0>X?1/-X:X)}function $a(X){W.setFullYear(X);W.setMonth(0);W.setDate(1);W.setHours(0,0,0,0);return W}function vb(X){return pa.count($a(X.getFullYear())-1,X)}function ub(X){return F.count($a(X.getFullYear())-1,X)}function sb(X,Ha,Nb,nc,Wb,Jb,Lb){return 0<=X&&100>X?(Ha=new Date(-1,Ha,Nb,nc,Wb,Jb,Lb),Ha.setFullYear(X),
Ha):new Date(X,Ha,Nb,nc,Wb,Jb,Lb)}function wb(X){const Ha=Date.UTC(X.getUTCFullYear(),0,1);return sa.count(Ha-1,X)}function jb(X){const Ha=Date.UTC(X.getUTCFullYear(),0,1);return N.count(Ha-1,X)}function lc(X){W.setTime(Date.UTC(X,0,1));return W.getUTCDay()}function ta(X,Ha,Nb,nc,Wb,Jb,Lb){return 0<=X&&100>X?(X=new Date(Date.UTC(-1,Ha,Nb,nc,Wb,Jb,Lb)),X.setUTCFullYear(Nb.y),X):new Date(Date.UTC(X,Ha,Nb,nc,Wb,Jb,Lb))}function ha(X,Ha,Nb,nc,Wb){const Jb=Ha||1,Lb=h.peek(X);Ha=(Xb,gc,wc)=>{wc=wc||Xb;
return ya(Nb[wc],nc[wc],Xb===Lb&&Jb,gc)};const sc=new Date;X=h.toSet(X);const Oc=X.year?Ha("year"):h.constant(2012),ra=X.month?Ha("month"):X.quarter?Ha("quarter"):h.zero,Eb=X.week&&X.day?Ha("day",1,"weekday"):X.week?Ha("week",1):X.day?Ha("day",1):X.date?Ha("date",1):X.dayofyear?Ha("dayofyear",1):h.one,Ta=X.hours?Ha("hours"):h.zero,yb=X.minutes?Ha("minutes"):h.zero,Gb=X.seconds?Ha("seconds"):h.zero,Cb=X.milliseconds?Ha("milliseconds"):h.zero;return function(Xb){sc.setTime(+Xb);Xb=Oc(sc);return Wb(Xb,
ra(sc),Eb(sc,Xb),Ta(sc),yb(sc),Gb(sc),Cb(sc))}}function ya(X,Ha,Nb,nc){const Wb=1>=Nb?X:nc?(Jb,Lb)=>nc+Nb*Math.floor((X(Jb,Lb)-nc)/Nb):(Jb,Lb)=>Nb*Math.floor(X(Jb,Lb)/Nb);return Ha?(Jb,Lb)=>Ha(Wb(Jb,Lb),Lb):Wb}function Ra(X,Ha,Nb){return Ha+7*X-(Nb+6)%7}const Wa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Ja=Wa.reduce((X,Ha,Nb)=>(X[Ha]=1+Nb,X),{}),ib={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},cb=new Date,tb=new Date,Pb=Za(()=>{},(X,Ha)=>{X.setTime(+X+Ha)},(X,Ha)=>Ha-X);Pb.every=X=>{X=Math.floor(X);return isFinite(X)&&0<X?1<X?Za(Ha=>{Ha.setTime(Math.floor(Ha/X)*X)},(Ha,Nb)=>{Ha.setTime(+Ha+Nb*X)},(Ha,Nb)=>(Nb-Ha)/X):Pb:null};Pb.range;const gb=6048E5;var V=Za(X=>{X.setTime(X-X.getMilliseconds())},(X,Ha)=>{X.setTime(+X+1E3*Ha)},(X,Ha)=>(Ha-X)/1E3,X=>X.getUTCSeconds());
V.range;var aa=Za(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds())},(X,Ha)=>{X.setTime(+X+6E4*Ha)},(X,Ha)=>(Ha-X)/6E4,X=>X.getMinutes());aa.range;var da=Za(X=>{X.setUTCSeconds(0,0)},(X,Ha)=>{X.setTime(+X+6E4*Ha)},(X,Ha)=>(Ha-X)/6E4,X=>X.getUTCMinutes());da.range;var ia=Za(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds()-6E4*X.getMinutes())},(X,Ha)=>{X.setTime(+X+36E5*Ha)},(X,Ha)=>(Ha-X)/36E5,X=>X.getHours());ia.range;var Ma=Za(X=>{X.setUTCMinutes(0,0,0)},(X,Ha)=>{X.setTime(+X+36E5*Ha)},
(X,Ha)=>(Ha-X)/36E5,X=>X.getUTCHours());Ma.range;const pa=Za(X=>X.setHours(0,0,0,0),(X,Ha)=>X.setDate(X.getDate()+Ha),(X,Ha)=>(Ha-X-6E4*(Ha.getTimezoneOffset()-X.getTimezoneOffset()))/864E5,X=>X.getDate()-1);pa.range;const sa=Za(X=>{X.setUTCHours(0,0,0,0)},(X,Ha)=>{X.setUTCDate(X.getUTCDate()+Ha)},(X,Ha)=>(Ha-X)/864E5,X=>X.getUTCDate()-1);sa.range;var m=Za(X=>{X.setUTCHours(0,0,0,0)},(X,Ha)=>{X.setUTCDate(X.getUTCDate()+Ha)},(X,Ha)=>(Ha-X)/864E5,X=>Math.floor(X/864E5));m.range;const F=zb(0);m=zb(1);
var L=zb(2),u=zb(3),R=zb(4),B=zb(5),z=zb(6);F.range;m.range;L.range;u.range;R.range;B.range;z.range;const N=Vb(0);m=Vb(1);L=Vb(2);u=Vb(3);R=Vb(4);B=Vb(5);z=Vb(6);N.range;m.range;L.range;u.range;R.range;B.range;z.range;m=Za(X=>{X.setDate(1);X.setHours(0,0,0,0)},(X,Ha)=>{X.setMonth(X.getMonth()+Ha)},(X,Ha)=>Ha.getMonth()-X.getMonth()+12*(Ha.getFullYear()-X.getFullYear()),X=>X.getMonth());m.range;L=Za(X=>{X.setUTCDate(1);X.setUTCHours(0,0,0,0)},(X,Ha)=>{X.setUTCMonth(X.getUTCMonth()+Ha)},(X,Ha)=>Ha.getUTCMonth()-
X.getUTCMonth()+12*(Ha.getUTCFullYear()-X.getUTCFullYear()),X=>X.getUTCMonth());L.range;u=Za(X=>{X.setMonth(0,1);X.setHours(0,0,0,0)},(X,Ha)=>{X.setFullYear(X.getFullYear()+Ha)},(X,Ha)=>Ha.getFullYear()-X.getFullYear(),X=>X.getFullYear());u.every=X=>isFinite(X=Math.floor(X))&&0<X?Za(Ha=>{Ha.setFullYear(Math.floor(Ha.getFullYear()/X)*X);Ha.setMonth(0,1);Ha.setHours(0,0,0,0)},(Ha,Nb)=>{Ha.setFullYear(Ha.getFullYear()+Nb*X)}):null;u.range;R=Za(X=>{X.setUTCMonth(0,1);X.setUTCHours(0,0,0,0)},(X,Ha)=>{X.setUTCFullYear(X.getUTCFullYear()+
Ha)},(X,Ha)=>Ha.getUTCFullYear()-X.getUTCFullYear(),X=>X.getUTCFullYear());R.every=X=>isFinite(X=Math.floor(X))&&0<X?Za(Ha=>{Ha.setUTCFullYear(Math.floor(Ha.getUTCFullYear()/X)*X);Ha.setUTCMonth(0,1);Ha.setUTCHours(0,0,0,0)},(Ha,Nb)=>{Ha.setUTCFullYear(Ha.getUTCFullYear()+Nb*X)}):null;R.range;const A=Math.sqrt(50),D=Math.sqrt(10),H=Math.sqrt(2),W=new Date,Da={year:X=>X.getFullYear(),quarter:X=>Math.floor(X.getMonth()/3),month:X=>X.getMonth(),date:X=>X.getDate(),hours:X=>X.getHours(),minutes:X=>X.getMinutes(),
seconds:X=>X.getSeconds(),milliseconds:X=>X.getMilliseconds(),dayofyear:X=>vb(X),week:X=>ub(X),weekday:(X,Ha)=>Ra(ub(X),X.getDay(),$a(Ha).getDay()),day:(X,Ha)=>Ra(1,X.getDay(),$a(Ha).getDay())},P={quarter:X=>3*X,week:(X,Ha)=>Ra(X,0,$a(Ha).getDay())},ja={year:X=>X.getUTCFullYear(),quarter:X=>Math.floor(X.getUTCMonth()/3),month:X=>X.getUTCMonth(),date:X=>X.getUTCDate(),hours:X=>X.getUTCHours(),minutes:X=>X.getUTCMinutes(),seconds:X=>X.getUTCSeconds(),milliseconds:X=>X.getUTCMilliseconds(),dayofyear:X=>
wb(X),week:X=>jb(X),day:(X,Ha)=>Ra(1,X.getUTCDay(),lc(Ha)),weekday:(X,Ha)=>Ra(jb(X),X.getUTCDay(),lc(Ha))},Ba={quarter:X=>3*X,week:(X,Ha)=>Ra(X,0,lc(Ha))},Na={year:u,quarter:m.every(3),month:m,week:F,date:pa,day:pa,dayofyear:pa,hours:ia,minutes:aa,seconds:V,milliseconds:Pb},Qa={year:R,quarter:L.every(3),month:L,week:N,date:sa,day:sa,dayofyear:sa,hours:Ma,minutes:da,seconds:V,milliseconds:Pb};V=6048E5;aa=2592E6;const eb=31536E6,xb="year month date hours minutes seconds milliseconds".split(" ");da=
xb.slice(0,-1);ia=da.slice(0,-1);Ma=ia.slice(0,-1);m=Ma.slice(0,-1);L=["year","month"];const kb=["year"],Sb=[[da,1,1E3],[da,5,5E3],[da,15,15E3],[da,30,3E4],[ia,1,6E4],[ia,5,3E5],[ia,15,9E5],[ia,30,18E5],[Ma,1,36E5],[Ma,3,108E5],[Ma,6,216E5],[Ma,12,432E5],[m,1,864E5],[["year","week"],1,V],[L,1,aa],[L,3,3*aa],[kb,1,eb]];w.DATE="date";w.DAY="day";w.DAYOFYEAR="dayofyear";w.HOURS="hours";w.MILLISECONDS="milliseconds";w.MINUTES="minutes";w.MONTH="month";w.QUARTER="quarter";w.SECONDS="seconds";w.TIME_UNITS=
Wa;w.WEEK="week";w.YEAR="year";w.dayofyear=function(X){return vb(new Date(X))};w.timeBin=function(X){var Ha=X.extent;X=X.maxbins||40;var Nb=Math.abs(h.span(Ha))/X;let nc=jc(Wb=>Wb[2]).right(Sb,Nb);nc===Sb.length?(Nb=kb,Ha=Ea(Ha[0]/eb,Ha[1]/eb,X)):nc?(nc=Sb[Nb/Sb[nc-1][2]<Sb[nc][2]/Nb?nc-1:nc],Nb=nc[0],Ha=nc[1]):(Nb=xb,Ha=Math.max(Ea(Ha[0],Ha[1],X),1));return{units:Nb,step:Ha}};w.timeFloor=function(X,Ha){return ha(X,Ha||1,Da,P,sb)};w.timeInterval=function(X){return Na[X]};w.timeOffset=function(X,Ha,
Nb){return(X=Na[X])?X.offset(Ha,Nb):void 0};w.timeSequence=function(X,Ha,Nb,nc){return(X=Na[X])?X.range(Ha,Nb,nc):void 0};w.timeUnitSpecifier=function(X,Ha){Ha=h.extend({},ib,Ha);X=ka(X);const Nb=X.length;let nc="",Wb,Jb,Lb;for(Wb=0;Wb<Nb;)for(Jb=X.length;Jb>Wb;--Jb)if(Lb=X.slice(Wb,Jb).join("-"),null!=Ha[Lb]){nc+=Ha[Lb];Wb=Jb;break}return nc.trim()};w.timeUnits=ka;w.utcFloor=function(X,Ha){return ha(X,Ha||1,ja,Ba,ta)};w.utcInterval=function(X){return Qa[X]};w.utcOffset=function(X,Ha,Nb){return(X=
Qa[X])?X.offset(Ha,Nb):void 0};w.utcSequence=function(X,Ha,Nb,nc){return(X=Qa[X])?X.range(Ha,Nb,nc):void 0};w.utcdayofyear=function(X){return wb(new Date(X))};w.utcweek=function(X){return jb(new Date(X))};w.week=function(X){return ub(new Date(X))}})};
shadow$provide[24]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(23),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega))})(this,function(w,h,ka){function Za(Ca){const Va={};return dc=>Va[dc]||(Va[dc]=Ca(dc))}function zb(Ca,Va,dc){var dd=(Va-Ca)/Math.max(0,dc),fd=Math.floor(Math.log10(dd));dd/=Math.pow(10,fd);dd=dd>=md?10:dd>=ad?5:dd>=
ke?2:1;let Zc;0>fd?(Zc=Math.pow(10,-fd)/dd,fd=Math.round(Ca*Zc),dd=Math.round(Va*Zc),fd/Zc<Ca&&++fd,dd/Zc>Va&&--dd,Zc=-Zc):(Zc=Math.pow(10,fd)*dd,fd=Math.round(Ca/Zc),dd=Math.round(Va/Zc),fd*Zc<Ca&&++fd,dd*Zc>Va&&--dd);return dd<fd&&.5<=dc&&2>dc?zb(Ca,Va,2*dc):[fd,dd,Zc]}function Vb(Ca,Va,dc){return zb(+Ca,+Va,+dc)[2]}function Zb(Ca,Va){if(0>(Va=(Ca=Va?Ca.toExponential(Va-1):Ca.toExponential()).indexOf("e")))return null;var dc=Ca.slice(0,Va);return[1<dc.length?dc[0]+dc.slice(2):dc,+Ca.slice(Va+1)]}
function Ub(Ca){return Ca=Zb(Math.abs(Ca)),Ca?Ca[1]:NaN}function jc(Ca,Va){return function(dc,dd){for(var fd=dc.length,Zc=[],Bd=0,Zd=Ca[0],Pd=0;0<fd&&0<Zd;){Pd+Zd+1>dd&&(Zd=Math.max(1,dd-Pd));Zc.push(dc.substring(fd-=Zd,fd+Zd));if((Pd+=Zd+1)>dd)break;Zd=Ca[Bd=(Bd+1)%Ca.length]}return Zc.reverse().join(Va)}}function Bb(Ca){return function(Va){return Va.replace(/[0-9]/g,function(dc){return Ca[+dc]})}}function Rb(Ca){if(!(Va=id.exec(Ca)))throw Error("invalid format: "+Ca);var Va;return new ec({fill:Va[1],
align:Va[2],sign:Va[3],symbol:Va[4],zero:Va[5],width:Va[6],comma:Va[7],precision:Va[8]&&Va[8].slice(1),trim:Va[9],type:Va[10]})}function ec(Ca){this.fill=void 0===Ca.fill?" ":Ca.fill+"";this.align=void 0===Ca.align?"\x3e":Ca.align+"";this.sign=void 0===Ca.sign?"-":Ca.sign+"";this.symbol=void 0===Ca.symbol?"":Ca.symbol+"";this.zero=!!Ca.zero;this.width=void 0===Ca.width?void 0:+Ca.width;this.comma=!!Ca.comma;this.precision=void 0===Ca.precision?void 0:+Ca.precision;this.trim=!!Ca.trim;this.type=void 0===
Ca.type?"":Ca.type+""}function Ea(Ca,Va){Va=Zb(Ca,Va);if(!Va)return Ca+"";Ca=Va[0];Va=Va[1];return 0>Va?"0."+Array(-Va).join("0")+Ca:Ca.length>Va+1?Ca.slice(0,Va+1)+"."+Ca.slice(Va+1):Ca+Array(Va-Ca.length+2).join("0")}function $a(Ca){return Ca}function vb(Ca){function Va(gd){function se(J){var la=ae,Ga=qa,Pa,Ka;if("c"===ue)Ga=l(J)+Ga,J="";else{J=+J;var rb=0>J||0>1/J;J=isNaN(J)?He:l(Math.abs(J),We);if(pe){var nb=J.length,pc=1,rc=-1;a:for(;pc<nb;++pc)switch(J[pc]){case ".":rc=Pa=pc;break;case "0":0===
rc&&(rc=pc);Pa=pc;break;default:if(!+J[pc])break a;0<rc&&(rc=0)}J=0<rc?J.slice(0,rc)+J.slice(Pa+1):J}rb&&0===+J&&"+"!==he&&(rb=!1);la=(rb?"("===he?he:Pd:"-"===he||"("===he?"":he)+la;Ga=("s"===ue?t[8+y/3]:"")+Ga+(rb&&"("===he?")":"");if(q)for(rb=-1,Pa=J.length;++rb<Pa;)if(Ka=J.charCodeAt(rb),48>Ka||57<Ka){Ga=(46===Ka?Zc+J.slice(rb+1):J.slice(rb))+Ga;J=J.slice(0,rb);break}}Ue&&!xf&&(J=dc(J,Infinity));Ka=la.length+J.length+Ga.length;rb=Ka<Be?Array(Be-Ka+1).join(Ve):"";Ue&&xf&&(J=dc(rb+J,rb.length?Be-
Ga.length:Infinity),rb="");switch(af){case "\x3c":J=la+J+Ga+rb;break;case "\x3d":J=la+rb+J+Ga;break;case "^":J=rb.slice(0,Ka=rb.length>>1)+la+J+Ga+rb.slice(Ka);break;default:J=rb+la+J+Ga}return Bd(J)}gd=Rb(gd);var Ve=gd.fill,af=gd.align,he=gd.sign,lf=gd.symbol,xf=gd.zero,Be=gd.width,Ue=gd.comma,We=gd.precision,pe=gd.trim,ue=gd.type;"n"===ue?(Ue=!0,ue="g"):K[ue]||(void 0===We&&(We=12),pe=!0,ue="g");if(xf||"0"===Ve&&"\x3d"===af)xf=!0,Ve="0",af="\x3d";var ae="$"===lf?dd:"#"===lf&&/[boxX]/.test(ue)?"0"+
ue.toLowerCase():"",qa="$"===lf?fd:/[%p]/.test(ue)?Zd:"",l=K[ue],q=/[defgprs%]/.test(ue);We=void 0===We?6:/[gprs]/.test(ue)?Math.max(1,Math.min(21,We)):Math.max(0,Math.min(20,We));se.toString=function(){return gd+""};return se}var dc=void 0===Ca.grouping||void 0===Ca.thousands?$a:jc(ua.call(Ca.grouping,Number),Ca.thousands+""),dd=void 0===Ca.currency?"":Ca.currency[0]+"",fd=void 0===Ca.currency?"":Ca.currency[1]+"",Zc=void 0===Ca.decimal?".":Ca.decimal+"",Bd=void 0===Ca.numerals?$a:Bb(ua.call(Ca.numerals,
String)),Zd=void 0===Ca.percent?"%":Ca.percent+"",Pd=void 0===Ca.minus?"":Ca.minus+"",He=void 0===Ca.nan?"NaN":Ca.nan+"";return{format:Va,formatPrefix:function(gd,se){var Ve=Va((gd=Rb(gd),gd.type="f",gd));gd=3*Math.max(-8,Math.min(8,Math.floor(Ub(se)/3)));var af=Math.pow(10,-gd),he=t[8+gd/3];return function(lf){return Ve(af*lf)+he}}}}function ub(Ca,Va){return dc=>{dc=Ca(dc);const dd=dc.indexOf(Va);if(0>dd)return dc;a:{var fd=dc.lastIndexOf("e");if(!(0<fd)){for(fd=dc.length;--fd>dd;){var Zc=dc.charCodeAt(fd);
if(48<=Zc&&57>=Zc){fd+=1;break a}}fd=void 0}}for(Zc=fd<dc.length?dc.slice(fd):"";--fd>dd;)if("0"!==dc[fd]){++fd;break}return dc.slice(0,fd)+Zc}}function sb(Ca){const Va=Za(Ca.format),dc=Ca.formatPrefix;return{format:Va,formatPrefix:dc,formatFloat(dd){dd=Rb(dd||",");if(null==dd.precision){dd.precision=12;switch(dd.type){case "%":dd.precision-=2;break;case "e":--dd.precision}return ub(Va(dd),Va(".1f")(1)[1])}return Va(dd)},formatSpan(dd,fd,Zc,Bd){Bd=Rb(null==Bd?",f":Bd);var Zd=+fd;var Pd=+dd;var He=
+Zc;Pd=(Zc=Zd<Pd)?Vb(Zd,Pd,He):Vb(Pd,Zd,He);Pd=(Zc?-1:1)*(0>Pd?1/-Pd:Pd);dd=Math.max(Math.abs(dd),Math.abs(fd));if(null==Bd.precision)switch(Bd.type){case "s":return fd=isNaN,Pd=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ub(dd)/3)))-Ub(Math.abs(Pd))),fd(fd=Pd)||(Bd.precision=fd),dc(Bd,dd);case "":case "e":case "g":case "p":case "r":fd=isNaN;Pd=Math.abs(Pd);dd=Math.abs(dd)-Pd;dd=Math.max(0,Ub(dd)-Ub(Pd))+1;fd(fd=dd)||(Bd.precision=fd-("e"===Bd.type));break;case "f":case "%":isNaN(fd=Math.max(0,
-Ub(Math.abs(Pd))))||(Bd.precision=fd-2*("%"===Bd.type))}return Va(Bd)}}}function wb(){return oa=sb({format:ba,formatPrefix:xa})}function jb(Ca){return sb(vb(Ca))}function lc(Ca){return arguments.length?oa=jb(Ca):oa}function ta(Ca,Va,dc,dd){function fd(Zc){return Ca(Zc=0===arguments.length?new Date:new Date(+Zc)),Zc}fd.floor=Zc=>(Ca(Zc=new Date(+Zc)),Zc);fd.ceil=Zc=>(Ca(Zc=new Date(Zc-1)),Va(Zc,1),Ca(Zc),Zc);fd.round=Zc=>{const Bd=fd(Zc),Zd=fd.ceil(Zc);return Zc-Bd<Zd-Zc?Bd:Zd};fd.offset=(Zc,Bd)=>
(Va(Zc=new Date(+Zc),null==Bd?1:Math.floor(Bd)),Zc);fd.range=(Zc,Bd,Zd)=>{const Pd=[];Zc=fd.ceil(Zc);Zd=null==Zd?1:Math.floor(Zd);if(!(Zc<Bd&&0<Zd))return Pd;let He;do Pd.push(He=new Date(+Zc)),Va(Zc,Zd),Ca(Zc);while(He<Zc&&Zc<Bd);return Pd};fd.filter=Zc=>ta(Bd=>{if(Bd>=Bd)for(;Ca(Bd),!Zc(Bd);)Bd.setTime(Bd-1)},(Bd,Zd)=>{if(Bd>=Bd)if(0>Zd)for(;0>=++Zd;)for(;Va(Bd,-1),!Zc(Bd););else for(;0<=--Zd;)for(;Va(Bd,1),!Zc(Bd););});dc&&(fd.count=(Zc,Bd)=>{ab.setTime(+Zc);Qb.setTime(+Bd);Ca(ab);Ca(Qb);return Math.floor(dc(ab,
Qb))},fd.every=Zc=>{Zc=Math.floor(Zc);return isFinite(Zc)&&0<Zc?1<Zc?fd.filter(dd?Bd=>0===dd(Bd)%Zc:Bd=>0===fd.count(0,Bd)%Zc):fd:null});return fd}function ha(Ca){return ta(Va=>{Va.setDate(Va.getDate()-(Va.getDay()+7-Ca)%7);Va.setHours(0,0,0,0)},(Va,dc)=>{Va.setDate(Va.getDate()+7*dc)},(Va,dc)=>(dc-Va-6E4*(dc.getTimezoneOffset()-Va.getTimezoneOffset()))/6048E5)}function ya(Ca){return ta(Va=>{Va.setUTCDate(Va.getUTCDate()-(Va.getUTCDay()+7-Ca)%7);Va.setUTCHours(0,0,0,0)},(Va,dc)=>{Va.setUTCDate(Va.getUTCDate()+
7*dc)},(Va,dc)=>(dc-Va)/6048E5)}function Ra(Ca){if(0<=Ca.y&&100>Ca.y){var Va=new Date(-1,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L);Va.setFullYear(Ca.y);return Va}return new Date(Ca.y,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L)}function Wa(Ca){if(0<=Ca.y&&100>Ca.y){var Va=new Date(Date.UTC(-1,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L));Va.setUTCFullYear(Ca.y);return Va}return new Date(Date.UTC(Ca.y,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L))}function Ja(Ca,Va,dc){return{y:Ca,m:Va,d:dc,H:0,M:0,S:0,L:0}}function ib(Ca){function Va(q,J){return function(la){var Ga=
[],Pa=-1,Ka=0,rb=q.length,nb,pc;for(la instanceof Date||(la=new Date(+la));++Pa<rb;)if(37===q.charCodeAt(Pa)){Ga.push(q.slice(Ka,Pa));null!=(Ka=ye[nb=q.charAt(++Pa)])?nb=q.charAt(++Pa):Ka="e"===nb?" ":"0";if(pc=J[nb])nb=pc(la,Ka);Ga.push(nb);Ka=Pa+1}Ga.push(q.slice(Ka,Pa));return Ga.join("")}}function dc(q,J){return function(la){var Ga=Ja(1900,void 0,1);if(dd(Ga,q,la+="",0)!=la.length)return null;if("Q"in Ga)return new Date(Ga.Q);if("s"in Ga)return new Date(1E3*Ga.s+("L"in Ga?Ga.L:0));!J||"Z"in Ga||
(Ga.Z=0);"p"in Ga&&(Ga.H=Ga.H%12+12*Ga.p);void 0===Ga.m&&(Ga.m="q"in Ga?Ga.q:0);if("V"in Ga){if(1>Ga.V||53<Ga.V)return null;"w"in Ga||(Ga.w=1);if("Z"in Ga){la=Wa(Ja(Ga.y,0,1));var Pa=la.getUTCDay();la=4<Pa||0===Pa?Je.ceil(la):Je(la);la=ic.offset(la,7*(Ga.V-1));Ga.y=la.getUTCFullYear();Ga.m=la.getUTCMonth();Ga.d=la.getUTCDate()+(Ga.w+6)%7}else la=Ra(Ja(Ga.y,0,1)),Pa=la.getDay(),la=4<Pa||0===Pa?Nc.ceil(la):Nc(la),la=Yb.offset(la,7*(Ga.V-1)),Ga.y=la.getFullYear(),Ga.m=la.getMonth(),Ga.d=la.getDate()+
(Ga.w+6)%7}else if("W"in Ga||"U"in Ga)"w"in Ga||(Ga.w="u"in Ga?Ga.u%7:"W"in Ga?1:0),Pa="Z"in Ga?Wa(Ja(Ga.y,0,1)).getUTCDay():Ra(Ja(Ga.y,0,1)).getDay(),Ga.m=0,Ga.d="W"in Ga?(Ga.w+6)%7+7*Ga.W-(Pa+5)%7:Ga.w+7*Ga.U-(Pa+6)%7;return"Z"in Ga?(Ga.H+=Ga.Z/100|0,Ga.M+=Ga.Z%100,Wa(Ga)):Ra(Ga)}}function dd(q,J,la,Ga){for(var Pa=0,Ka=J.length,rb=la.length,nb;Pa<Ka;){if(Ga>=rb)return-1;nb=J.charCodeAt(Pa++);if(37===nb){if(nb=J.charAt(Pa++),nb=l[nb in ye?J.charAt(Pa++):nb],!nb||0>(Ga=nb(q,la,Ga)))return-1}else if(nb!=
la.charCodeAt(Ga++))return-1}return Ga}var fd=Ca.dateTime,Zc=Ca.date,Bd=Ca.time,Zd=Ca.periods,Pd=Ca.days,He=Ca.shortDays,gd=Ca.months,se=Ca.shortMonths,Ve=Pb(Zd),af=gb(Zd),he=Pb(Pd),lf=gb(Pd),xf=Pb(He),Be=gb(He),Ue=Pb(gd),We=gb(gd),pe=Pb(se),ue=gb(se),ae={a:function(q){return He[q.getDay()]},A:function(q){return Pd[q.getDay()]},b:function(q){return se[q.getMonth()]},B:function(q){return gd[q.getMonth()]},c:null,d:P,e:P,f:eb,g:sc,G:ra,H:ja,I:Ba,j:Na,L:Qa,m:xb,M:kb,p:function(q){return Zd[+(12<=q.getHours())]},
q:function(q){return 1+~~(q.getMonth()/3)},Q:Kb,s:vc,S:Sb,u:X,U:Ha,V:nc,w:Wb,W:Jb,x:null,X:null,y:Lb,Y:Oc,Z:Eb,"%":Fb},qa={a:function(q){return He[q.getUTCDay()]},A:function(q){return Pd[q.getUTCDay()]},b:function(q){return se[q.getUTCMonth()]},B:function(q){return gd[q.getUTCMonth()]},c:null,d:Ta,e:Ta,f:gc,g:Fa,G:mb,H:yb,I:Gb,j:Cb,L:Xb,m:wc,M:Xc,p:function(q){return Zd[+(12<=q.getUTCHours())]},q:function(q){return 1+~~(q.getUTCMonth()/3)},Q:Kb,s:vc,S:Kc,u:na,U:Ia,V:S,w:v,W:ca,x:null,X:null,y:za,
Y:Ua,Z:Mb,"%":Fb},l={a:function(q,J,la){return(J=xf.exec(J.slice(la)))?(q.w=Be.get(J[0].toLowerCase()),la+J[0].length):-1},A:function(q,J,la){return(J=he.exec(J.slice(la)))?(q.w=lf.get(J[0].toLowerCase()),la+J[0].length):-1},b:function(q,J,la){return(J=pe.exec(J.slice(la)))?(q.m=ue.get(J[0].toLowerCase()),la+J[0].length):-1},B:function(q,J,la){return(J=Ue.exec(J.slice(la)))?(q.m=We.get(J[0].toLowerCase()),la+J[0].length):-1},c:function(q,J,la){return dd(q,fd,J,la)},d:u,e:u,f:D,g:sa,G:pa,H:B,I:B,j:R,
L:A,m:L,M:z,p:function(q,J,la){return(J=Ve.exec(J.slice(la)))?(q.p=af.get(J[0].toLowerCase()),la+J[0].length):-1},q:F,Q:W,s:Da,S:N,u:aa,U:da,V:ia,w:V,W:Ma,x:function(q,J,la){return dd(q,Zc,J,la)},X:function(q,J,la){return dd(q,Bd,J,la)},y:sa,Y:pa,Z:m,"%":H};ae.x=Va(Zc,ae);ae.X=Va(Bd,ae);ae.c=Va(fd,ae);qa.x=Va(Zc,qa);qa.X=Va(Bd,qa);qa.c=Va(fd,qa);return{format:function(q){var J=Va(q+="",ae);J.toString=function(){return q};return J},parse:function(q){var J=dc(q+="",!1);J.toString=function(){return q};
return J},utcFormat:function(q){var J=Va(q+="",qa);J.toString=function(){return q};return J},utcParse:function(q){var J=dc(q+="",!0);J.toString=function(){return q};return J}}}function cb(Ca,Va,dc){var dd=0>Ca?"-":"";Ca=(dd?-Ca:Ca)+"";var fd=Ca.length;return dd+(fd<dc?Array(dc-fd+1).join(Va)+Ca:Ca)}function tb(Ca){return Ca.replace(Ze,"\\$\x26")}function Pb(Ca){return new RegExp("^(?:"+Ca.map(tb).join("|")+")","i")}function gb(Ca){return new Map(Ca.map((Va,dc)=>[Va.toLowerCase(),dc]))}function V(Ca,
Va,dc){return(Va=yd.exec(Va.slice(dc,dc+1)))?(Ca.w=+Va[0],dc+Va[0].length):-1}function aa(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,dc+1)))?(Ca.u=+Va[0],dc+Va[0].length):-1}function da(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,dc+2)))?(Ca.U=+Va[0],dc+Va[0].length):-1}function ia(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,dc+2)))?(Ca.V=+Va[0],dc+Va[0].length):-1}function Ma(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,dc+2)))?(Ca.W=+Va[0],dc+Va[0].length):-1}function pa(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,
dc+4)))?(Ca.y=+Va[0],dc+Va[0].length):-1}function sa(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,dc+2)))?(Ca.y=+Va[0]+(68<+Va[0]?1900:2E3),dc+Va[0].length):-1}function m(Ca,Va,dc){return(Va=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Va.slice(dc,dc+6)))?(Ca.Z=Va[1]?0:-(Va[2]+(Va[3]||"00")),dc+Va[0].length):-1}function F(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,dc+1)))?(Ca.q=3*Va[0]-3,dc+Va[0].length):-1}function L(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,dc+2)))?(Ca.m=Va[0]-1,dc+Va[0].length):-1}function u(Ca,
Va,dc){return(Va=yd.exec(Va.slice(dc,dc+2)))?(Ca.d=+Va[0],dc+Va[0].length):-1}function R(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,dc+3)))?(Ca.m=0,Ca.d=+Va[0],dc+Va[0].length):-1}function B(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,dc+2)))?(Ca.H=+Va[0],dc+Va[0].length):-1}function z(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,dc+2)))?(Ca.M=+Va[0],dc+Va[0].length):-1}function N(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,dc+2)))?(Ca.S=+Va[0],dc+Va[0].length):-1}function A(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,
dc+3)))?(Ca.L=+Va[0],dc+Va[0].length):-1}function D(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc,dc+6)))?(Ca.L=Math.floor(Va[0]/1E3),dc+Va[0].length):-1}function H(Ca,Va,dc){return(Ca=fg.exec(Va.slice(dc,dc+1)))?dc+Ca[0].length:-1}function W(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc)))?(Ca.Q=+Va[0],dc+Va[0].length):-1}function Da(Ca,Va,dc){return(Va=yd.exec(Va.slice(dc)))?(Ca.s=+Va[0],dc+Va[0].length):-1}function P(Ca,Va){return cb(Ca.getDate(),Va,2)}function ja(Ca,Va){return cb(Ca.getHours(),Va,2)}function Ba(Ca,
Va){return cb(Ca.getHours()%12||12,Va,2)}function Na(Ca,Va){return cb(1+Yb.count(oe(Ca),Ca),Va,3)}function Qa(Ca,Va){return cb(Ca.getMilliseconds(),Va,3)}function eb(Ca,Va){return Qa(Ca,Va)+"000"}function xb(Ca,Va){return cb(Ca.getMonth()+1,Va,2)}function kb(Ca,Va){return cb(Ca.getMinutes(),Va,2)}function Sb(Ca,Va){return cb(Ca.getSeconds(),Va,2)}function X(Ca){Ca=Ca.getDay();return 0===Ca?7:Ca}function Ha(Ca,Va){return cb(Mc.count(oe(Ca)-1,Ca),Va,2)}function Nb(Ca){var Va=Ca.getDay();return 4<=Va||
0===Va?ud(Ca):ud.ceil(Ca)}function nc(Ca,Va){Ca=Nb(Ca);return cb(ud.count(oe(Ca),Ca)+(4===oe(Ca).getDay()),Va,2)}function Wb(Ca){return Ca.getDay()}function Jb(Ca,Va){return cb(Nc.count(oe(Ca)-1,Ca),Va,2)}function Lb(Ca,Va){return cb(Ca.getFullYear()%100,Va,2)}function sc(Ca,Va){Ca=Nb(Ca);return cb(Ca.getFullYear()%100,Va,2)}function Oc(Ca,Va){return cb(Ca.getFullYear()%1E4,Va,4)}function ra(Ca,Va){var dc=Ca.getDay();Ca=4<=dc||0===dc?ud(Ca):ud.ceil(Ca);return cb(Ca.getFullYear()%1E4,Va,4)}function Eb(Ca){Ca=
Ca.getTimezoneOffset();return(0<Ca?"-":(Ca*=-1,"+"))+cb(Ca/60|0,"0",2)+cb(Ca%60,"0",2)}function Ta(Ca,Va){return cb(Ca.getUTCDate(),Va,2)}function yb(Ca,Va){return cb(Ca.getUTCHours(),Va,2)}function Gb(Ca,Va){return cb(Ca.getUTCHours()%12||12,Va,2)}function Cb(Ca,Va){return cb(1+ic.count(Ee(Ca),Ca),Va,3)}function Xb(Ca,Va){return cb(Ca.getUTCMilliseconds(),Va,3)}function gc(Ca,Va){return Xb(Ca,Va)+"000"}function wc(Ca,Va){return cb(Ca.getUTCMonth()+1,Va,2)}function Xc(Ca,Va){return cb(Ca.getUTCMinutes(),
Va,2)}function Kc(Ca,Va){return cb(Ca.getUTCSeconds(),Va,2)}function na(Ca){Ca=Ca.getUTCDay();return 0===Ca?7:Ca}function Ia(Ca,Va){return cb(ge.count(Ee(Ca)-1,Ca),Va,2)}function hb(Ca){var Va=Ca.getUTCDay();return 4<=Va||0===Va?$e(Ca):$e.ceil(Ca)}function S(Ca,Va){Ca=hb(Ca);return cb($e.count(Ee(Ca),Ca)+(4===Ee(Ca).getUTCDay()),Va,2)}function v(Ca){return Ca.getUTCDay()}function ca(Ca,Va){return cb(Je.count(Ee(Ca)-1,Ca),Va,2)}function za(Ca,Va){return cb(Ca.getUTCFullYear()%100,Va,2)}function Fa(Ca,
Va){Ca=hb(Ca);return cb(Ca.getUTCFullYear()%100,Va,2)}function Ua(Ca,Va){return cb(Ca.getUTCFullYear()%1E4,Va,4)}function mb(Ca,Va){var dc=Ca.getUTCDay();Ca=4<=dc||0===dc?$e(Ca):$e.ceil(Ca);return cb(Ca.getUTCFullYear()%1E4,Va,4)}function Mb(){return"+0000"}function Fb(){return"%"}function Kb(Ca){return+Ca}function vc(Ca){return Math.floor(+Ca/1E3)}function yc(Ca,Va,dc){dc=dc||{};ka.isObject(dc)||ka.error(`Invalid time multi-format specifier: ${dc}`);const dd=Va(h.SECONDS),fd=Va(h.MINUTES),Zc=Va(h.HOURS),
Bd=Va(h.DATE),Zd=Va(h.WEEK),Pd=Va(h.MONTH),He=Va(h.QUARTER),gd=Va(h.YEAR),se=Ca(dc[h.MILLISECONDS]||".%L"),Ve=Ca(dc[h.SECONDS]||":%S"),af=Ca(dc[h.MINUTES]||"%I:%M"),he=Ca(dc[h.HOURS]||"%I %p"),lf=Ca(dc[h.DATE]||dc[h.DAY]||"%a %d"),xf=Ca(dc[h.WEEK]||"%b %d"),Be=Ca(dc[h.MONTH]||"%B"),Ue=Ca(dc[h.QUARTER]||"%B"),We=Ca(dc[h.YEAR]||"%Y");return pe=>(dd(pe)<pe?se:fd(pe)<pe?Ve:Zc(pe)<pe?af:Bd(pe)<pe?he:Pd(pe)<pe?Zd(pe)<pe?lf:xf:gd(pe)<pe?He(pe)<pe?Be:Ue:We)(pe)}function Ic(Ca){const Va=Za(Ca.format),dc=Za(Ca.utcFormat);
return{timeFormat:dd=>ka.isString(dd)?Va(dd):yc(Va,h.timeInterval,dd),utcFormat:dd=>ka.isString(dd)?dc(dd):yc(dc,h.utcInterval,dd),timeParse:Za(Ca.parse),utcParse:Za(Ca.utcParse)}}function kd(){return ie=Ic({format:Qe,parse:Ke,utcFormat:Ed,utcParse:ze})}function $c(Ca){return Ic(ib(Ca))}function Pc(Ca){return arguments.length?ie=$c(Ca):ie}function hd(Ca,Va){var dc=arguments.length;dc&&2!==dc&&ka.error("defaultLocale expects either zero or two arguments.");if(dc){dc=lc(Ca);var dd=Pc(Va);dc=ka.extend({},
dc,dd)}else dc=lc(),dd=Pc(),dc=ka.extend({},dc,dd);return dc}const md=Math.sqrt(50),ad=Math.sqrt(10),ke=Math.sqrt(2);var id=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Rb.prototype=ec.prototype;ec.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var y,K={"%":(Ca,
Va)=>(100*Ca).toFixed(Va),b:Ca=>Math.round(Ca).toString(2),c:Ca=>Ca+"",d:function(Ca){return 1E21<=Math.abs(Ca=Math.round(Ca))?Ca.toLocaleString("en").replace(/,/g,""):Ca.toString(10)},e:(Ca,Va)=>Ca.toExponential(Va),f:(Ca,Va)=>Ca.toFixed(Va),g:(Ca,Va)=>Ca.toPrecision(Va),o:Ca=>Math.round(Ca).toString(8),p:(Ca,Va)=>Ea(100*Ca,Va),r:Ea,s:function(Ca,Va){var dc=Zb(Ca,Va);if(!dc)return Ca+"";var dd=dc[0];dc=dc[1];dc=dc-(y=3*Math.max(-8,Math.min(8,Math.floor(dc/3))))+1;var fd=dd.length;return dc===fd?
dd:dc>fd?dd+Array(dc-fd+1).join("0"):0<dc?dd.slice(0,dc)+"."+dd.slice(dc):"0."+Array(1-dc).join("0")+Zb(Ca,Math.max(0,Va+dc-1))[0]},X:Ca=>Math.round(Ca).toString(16).toUpperCase(),x:Ca=>Math.round(Ca).toString(16)},ua=Array.prototype.map,t="y z a f p n  m  k M G T P E Z Y".split(" "),O,ba,xa;(function(Ca){O=vb(Ca);ba=O.format;xa=O.formatPrefix;return O})({thousands:",",grouping:[3],currency:["$",""]});let oa;wb();const ab=new Date,Qb=new Date,Yb=ta(Ca=>Ca.setHours(0,0,0,0),(Ca,Va)=>Ca.setDate(Ca.getDate()+
Va),(Ca,Va)=>(Va-Ca-6E4*(Va.getTimezoneOffset()-Ca.getTimezoneOffset()))/864E5,Ca=>Ca.getDate()-1);Yb.range;const ic=ta(Ca=>{Ca.setUTCHours(0,0,0,0)},(Ca,Va)=>{Ca.setUTCDate(Ca.getUTCDate()+Va)},(Ca,Va)=>(Va-Ca)/864E5,Ca=>Ca.getUTCDate()-1);ic.range;const Ac=ta(Ca=>{Ca.setUTCHours(0,0,0,0)},(Ca,Va)=>{Ca.setUTCDate(Ca.getUTCDate()+Va)},(Ca,Va)=>(Va-Ca)/864E5,Ca=>Math.floor(Ca/864E5));Ac.range;const Mc=ha(0),Nc=ha(1),Wc=ha(2),td=ha(3),ud=ha(4),ee=ha(5),Kd=ha(6);Mc.range;Nc.range;Wc.range;td.range;ud.range;
ee.range;Kd.range;const ge=ya(0),Je=ya(1),Ie=ya(2),Ne=ya(3),$e=ya(4),Ae=ya(5),Ge=ya(6);ge.range;Je.range;Ie.range;Ne.range;$e.range;Ae.range;Ge.range;const oe=ta(Ca=>{Ca.setMonth(0,1);Ca.setHours(0,0,0,0)},(Ca,Va)=>{Ca.setFullYear(Ca.getFullYear()+Va)},(Ca,Va)=>Va.getFullYear()-Ca.getFullYear(),Ca=>Ca.getFullYear());oe.every=Ca=>isFinite(Ca=Math.floor(Ca))&&0<Ca?ta(Va=>{Va.setFullYear(Math.floor(Va.getFullYear()/Ca)*Ca);Va.setMonth(0,1);Va.setHours(0,0,0,0)},(Va,dc)=>{Va.setFullYear(Va.getFullYear()+
dc*Ca)}):null;oe.range;const Ee=ta(Ca=>{Ca.setUTCMonth(0,1);Ca.setUTCHours(0,0,0,0)},(Ca,Va)=>{Ca.setUTCFullYear(Ca.getUTCFullYear()+Va)},(Ca,Va)=>Va.getUTCFullYear()-Ca.getUTCFullYear(),Ca=>Ca.getUTCFullYear());Ee.every=Ca=>isFinite(Ca=Math.floor(Ca))&&0<Ca?ta(Va=>{Va.setUTCFullYear(Math.floor(Va.getUTCFullYear()/Ca)*Ca);Va.setUTCMonth(0,1);Va.setUTCHours(0,0,0,0)},(Va,dc)=>{Va.setUTCFullYear(Va.getUTCFullYear()+dc*Ca)}):null;Ee.range;var ye={"-":"",_:" ",0:"0"},yd=/^\s*\d+/,fg=/^%/,Ze=/[\\^$*+?|[\]().{}]/g,
Pe,Qe,Ke,Ed,ze;(function(Ca){Pe=ib(Ca);Qe=Pe.format;Ke=Pe.parse;Ed=Pe.utcFormat;ze=Pe.utcParse;return Pe})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let ie;kd();
w.defaultLocale=hd;w.locale=function(Ca,Va){Ca=Ca?jb(Ca):lc();Va=Va?$c(Va):Pc();return ka.extend({},Ca,Va)};w.numberFormatDefaultLocale=lc;w.numberFormatLocale=jb;w.resetDefaultLocale=function(){wb();kd();return hd()};w.resetNumberFormatDefaultLocale=wb;w.resetTimeFormatDefaultLocale=kd;w.timeFormatDefaultLocale=Pc;w.timeFormatLocale=$c})};
shadow$provide[25]=function(Db,ob,zc,Ya){function w(zb){var Vb=zb.length;if(0<Vb%4)throw Error("Invalid string. Length must be a multiple of 4");zb=zb.indexOf("\x3d");-1===zb&&(zb=Vb);return[zb,zb===Vb?0:4-zb%4]}Ya.byteLength=function(zb){zb=w(zb);var Vb=zb[1];return 3*(zb[0]+Vb)/4-Vb};Ya.toByteArray=function(zb){var Vb=w(zb);var Zb=Vb[0];Vb=Vb[1];var Ub=new Za(3*(Zb+Vb)/4-Vb),jc=0,Bb=0<Vb?Zb-4:Zb,Rb;for(Rb=0;Rb<Bb;Rb+=4)Zb=ka[zb.charCodeAt(Rb)]<<18|ka[zb.charCodeAt(Rb+1)]<<12|ka[zb.charCodeAt(Rb+
2)]<<6|ka[zb.charCodeAt(Rb+3)],Ub[jc++]=Zb>>16&255,Ub[jc++]=Zb>>8&255,Ub[jc++]=Zb&255;2===Vb&&(Zb=ka[zb.charCodeAt(Rb)]<<2|ka[zb.charCodeAt(Rb+1)]>>4,Ub[jc++]=Zb&255);1===Vb&&(Zb=ka[zb.charCodeAt(Rb)]<<10|ka[zb.charCodeAt(Rb+1)]<<4|ka[zb.charCodeAt(Rb+2)]>>2,Ub[jc++]=Zb>>8&255,Ub[jc++]=Zb&255);return Ub};Ya.fromByteArray=function(zb){for(var Vb=zb.length,Zb=Vb%3,Ub=[],jc=0,Bb=Vb-Zb;jc<Bb;jc+=16383){for(var Rb=Ub,ec=Rb.push,Ea,$a=zb,vb=jc+16383>Bb?Bb:jc+16383,ub=[],sb=jc;sb<vb;sb+=3)Ea=($a[sb]<<16&
16711680)+($a[sb+1]<<8&65280)+($a[sb+2]&255),ub.push(h[Ea>>18&63]+h[Ea>>12&63]+h[Ea>>6&63]+h[Ea&63]);Ea=ub.join("");ec.call(Rb,Ea)}1===Zb?(zb=zb[Vb-1],Ub.push(h[zb>>2]+h[zb<<4&63]+"\x3d\x3d")):2===Zb&&(zb=(zb[Vb-2]<<8)+zb[Vb-1],Ub.push(h[zb>>10]+h[zb>>4&63]+h[zb<<2&63]+"\x3d"));return Ub.join("")};var h=[],ka=[],Za="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Db=0;64>Db;++Db)h[Db]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Db],ka["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Db)]=
Db;ka[45]=62;ka[95]=63};
shadow$provide[26]=function(Db,ob,zc,Ya){Ya.read=function(w,h,ka,Za,zb){var Vb=8*zb-Za-1;var Zb=(1<<Vb)-1,Ub=Zb>>1,jc=-7;zb=ka?zb-1:0;var Bb=ka?-1:1,Rb=w[h+zb];zb+=Bb;ka=Rb&(1<<-jc)-1;Rb>>=-jc;for(jc+=Vb;0<jc;ka=256*ka+w[h+zb],zb+=Bb,jc-=8);Vb=ka&(1<<-jc)-1;ka>>=-jc;for(jc+=Za;0<jc;Vb=256*Vb+w[h+zb],zb+=Bb,jc-=8);if(0===ka)ka=1-Ub;else{if(ka===Zb)return Vb?NaN:Infinity*(Rb?-1:1);Vb+=Math.pow(2,Za);ka-=Ub}return(Rb?-1:1)*Vb*Math.pow(2,ka-Za)};Ya.write=function(w,h,ka,Za,zb,Vb){var Zb,Ub=8*Vb-zb-1,
jc=(1<<Ub)-1,Bb=jc>>1,Rb=23===zb?Math.pow(2,-24)-Math.pow(2,-77):0;Vb=Za?0:Vb-1;var ec=Za?1:-1,Ea=0>h||0===h&&0>1/h?1:0;h=Math.abs(h);isNaN(h)||Infinity===h?(h=isNaN(h)?1:0,Za=jc):(Za=Math.floor(Math.log(h)/Math.LN2),1>h*(Zb=Math.pow(2,-Za))&&(Za--,Zb*=2),h=1<=Za+Bb?h+Rb/Zb:h+Rb*Math.pow(2,1-Bb),2<=h*Zb&&(Za++,Zb/=2),Za+Bb>=jc?(h=0,Za=jc):1<=Za+Bb?(h=(h*Zb-1)*Math.pow(2,zb),Za+=Bb):(h=h*Math.pow(2,Bb-1)*Math.pow(2,zb),Za=0));for(;8<=zb;w[ka+Vb]=h&255,Vb+=ec,h/=256,zb-=8);Za=Za<<zb|h;for(Ub+=zb;0<
Ub;w[ka+Vb]=Za&255,Vb+=ec,Za/=256,Ub-=8);w[ka+Vb-ec]|=128*Ea}};
shadow$provide[27]=function(Db,ob,zc,Ya){function w(m){if(2147483647<m)throw new RangeError('The value "'+m+'" is invalid for option "size"');m=new Uint8Array(m);Object.setPrototypeOf(m,h.prototype);return m}function h(m,F,L){if("number"===typeof m){if("string"===typeof F)throw new TypeError('The "string" argument must be of type string. Received type number');return zb(m)}return ka(m,F,L)}function ka(m,F,L){if("string"===typeof m){var u=F;if("string"!==typeof u||""===u)u="utf8";if(!h.isEncoding(u))throw new TypeError("Unknown encoding: "+
u);F=Bb(m,u)|0;L=w(F);m=L.write(m,u);m!==F&&(L=L.slice(0,m));return L}if(ArrayBuffer.isView(m))return gb(m,Uint8Array)?(m=new Uint8Array(m),m=Zb(m.buffer,m.byteOffset,m.byteLength)):m=Vb(m),m;if(null==m)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(gb(m,ArrayBuffer)||m&&gb(m.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(gb(m,SharedArrayBuffer)||m&&gb(m.buffer,SharedArrayBuffer)))return Zb(m,
F,L);if("number"===typeof m)throw new TypeError('The "value" argument must not be of type number. Received type number');u=m.valueOf&&m.valueOf();if(null!=u&&u!==m)return h.from(u,F,L);if(u=Ub(m))return u;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof m[Symbol.toPrimitive])return h.from(m[Symbol.toPrimitive]("string"),F,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);}
function Za(m){if("number"!==typeof m)throw new TypeError('"size" argument must be of type number');if(0>m)throw new RangeError('The value "'+m+'" is invalid for option "size"');}function zb(m){Za(m);return w(0>m?0:jc(m)|0)}function Vb(m){const F=0>m.length?0:jc(m.length)|0,L=w(F);for(let u=0;u<F;u+=1)L[u]=m[u]&255;return L}function Zb(m,F,L){if(0>F||m.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<F+(L||0))throw new RangeError('"length" is outside of buffer bounds');
m=void 0===F&&void 0===L?new Uint8Array(m):void 0===L?new Uint8Array(m,F):new Uint8Array(m,F,L);Object.setPrototypeOf(m,h.prototype);return m}function Ub(m){if(h.isBuffer(m)){var F=jc(m.length)|0;const L=w(F);if(0===L.length)return L;m.copy(L,0,0,F);return L}if(void 0!==m.length)return(F="number"!==typeof m.length)||(F=m.length,F=F!==F),F?w(0):Vb(m);if("Buffer"===m.type&&Array.isArray(m.data))return Vb(m.data)}function jc(m){if(2147483647<=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return m|0}function Bb(m,F){if(h.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||gb(m,ArrayBuffer))return m.byteLength;if("string"!==typeof m)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);const L=m.length,u=2<arguments.length&&!0===arguments[2];if(!u&&0===L)return 0;let R=!1;for(;;)switch(F){case "ascii":case "latin1":case "binary":return L;case "utf8":case "utf-8":return cb(m).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*L;case "hex":return L>>>1;case "base64":return tb(m).length;default:if(R)return u?-1:cb(m).length;F=(""+F).toLowerCase();R=!0}}function Rb(m,F,L){let u=!1;if(void 0===F||0>F)F=0;if(F>this.length)return"";if(void 0===L||L>this.length)L=this.length;if(0>=L)return"";L>>>=0;F>>>=0;if(L<=F)return"";for(m||(m="utf8");;)switch(m){case "hex":m=F;F=this.length;if(!m||0>m)m=0;if(!L||0>L||L>F)L=F;for(F="";m<L;++m)F+=sa[this[m]];return F;case "utf8":case "utf-8":return vb(this,
F,L);case "ascii":m=F;F="";for(L=Math.min(this.length,L);m<L;++m)F+=String.fromCharCode(this[m]&127);return F;case "latin1":case "binary":m=F;F="";for(L=Math.min(this.length,L);m<L;++m)F+=String.fromCharCode(this[m]);return F;case "base64":return m=F,L=0===m&&L===this.length?da.fromByteArray(this):da.fromByteArray(this.slice(m,L)),L;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":L=this.slice(F,L);m="";for(F=0;F<L.length-1;F+=2)m+=String.fromCharCode(L[F]+256*L[F+1]);return m;default:if(u)throw new TypeError("Unknown encoding: "+
m);m=(m+"").toLowerCase();u=!0}}function ec(m,F,L){const u=m[F];m[F]=m[L];m[L]=u}function Ea(m,F,L,u,R){if(0===m.length)return-1;"string"===typeof L?(u=L,L=0):2147483647<L?L=2147483647:-2147483648>L&&(L=-2147483648);L=+L;L!==L&&(L=R?0:m.length-1);0>L&&(L=m.length+L);if(L>=m.length){if(R)return-1;L=m.length-1}else if(0>L)if(R)L=0;else return-1;"string"===typeof F&&(F=h.from(F,u));if(h.isBuffer(F))return 0===F.length?-1:$a(m,F,L,u,R);if("number"===typeof F)return F&=255,"function"===typeof Uint8Array.prototype.indexOf?
R?Uint8Array.prototype.indexOf.call(m,F,L):Uint8Array.prototype.lastIndexOf.call(m,F,L):$a(m,[F],L,u,R);throw new TypeError("val must be string, number or Buffer");}function $a(m,F,L,u,R){function B(D,H){return 1===z?D[H]:D.readUInt16BE(H*z)}let z=1;var N=m.length;let A=F.length;if(void 0!==u&&(u=String(u).toLowerCase(),"ucs2"===u||"ucs-2"===u||"utf16le"===u||"utf-16le"===u)){if(2>m.length||2>F.length)return-1;z=2;N/=2;A/=2;L/=2}if(R)for(u=-1;L<N;L++)if(B(m,L)===B(F,-1===u?0:L-u)){if(-1===u&&(u=L),
L-u+1===A)return u*z}else-1!==u&&(L-=L-u),u=-1;else for(L+A>N&&(L=N-A);0<=L;L--){N=!0;for(u=0;u<A;u++)if(B(m,L+u)!==B(F,u)){N=!1;break}if(N)return L}return-1}function vb(m,F,L){L=Math.min(m.length,L);for(var u=[];F<L;){var R=m[F];let B=null,z=239<R?4:223<R?3:191<R?2:1;if(F+z<=L){let N,A,D;switch(z){case 1:128>R&&(B=R);break;case 2:N=m[F+1];128===(N&192)&&(R=(R&31)<<6|N&63,127<R&&(B=R));break;case 3:N=m[F+1];A=m[F+2];128===(N&192)&&128===(A&192)&&(R=(R&15)<<12|(N&63)<<6|A&63,2047<R&&(55296>R||57343<
R)&&(B=R));break;case 4:N=m[F+1],A=m[F+2],D=m[F+3],128===(N&192)&&128===(A&192)&&128===(D&192)&&(R=(R&15)<<18|(N&63)<<12|(A&63)<<6|D&63,65535<R&&1114112>R&&(B=R))}}null===B?(B=65533,z=1):65535<B&&(B-=65536,u.push(B>>>10&1023|55296),B=56320|B&1023);u.push(B);F+=z}F=u.length;if(4096>=F)u=String.fromCharCode.apply(String,u);else{m="";for(L=0;L<F;)m+=String.fromCharCode.apply(String,u.slice(L,L+=4096));u=m}return u}function ub(m,F,L){if(0!==m%1||0>m)throw new RangeError("offset is not uint");if(m+F>L)throw new RangeError("Trying to access beyond buffer length");
}function sb(m,F,L,u,R,B){if(!h.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>R||F<B)throw new RangeError('"value" argument is out of bounds');if(L+u>m.length)throw new RangeError("Index out of range");}function wb(m,F,L,u,R){Wa(F,u,R,m,L,7);u=Number(F&BigInt(4294967295));m[L++]=u;u>>=8;m[L++]=u;u>>=8;m[L++]=u;m[L++]=u>>8;F=Number(F>>BigInt(32)&BigInt(4294967295));m[L++]=F;F>>=8;m[L++]=F;F>>=8;m[L++]=F;m[L++]=F>>8;return L}function jb(m,F,L,u,R){Wa(F,u,R,m,L,
7);u=Number(F&BigInt(4294967295));m[L+7]=u;u>>=8;m[L+6]=u;u>>=8;m[L+5]=u;m[L+4]=u>>8;F=Number(F>>BigInt(32)&BigInt(4294967295));m[L+3]=F;F>>=8;m[L+2]=F;F>>=8;m[L+1]=F;m[L]=F>>8;return L+8}function lc(m,F,L,u,R,B){if(L+u>m.length)throw new RangeError("Index out of range");if(0>L)throw new RangeError("Index out of range");}function ta(m,F,L,u,R){F=+F;L>>>=0;R||lc(m,F,L,4,3.4028234663852886E38,-3.4028234663852886E38);ia.write(m,F,L,u,23,4);return L+4}function ha(m,F,L,u,R){F=+F;L>>>=0;R||lc(m,F,L,8,
1.7976931348623157E308,-1.7976931348623157E308);ia.write(m,F,L,u,52,8);return L+8}function ya(m,F,L){Ma[m]=class extends L{constructor(){super();Object.defineProperty(this,"message",{value:F.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${m}]`;this.stack;delete this.name}get code(){return m}set code(u){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:u,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}function Ra(m){let F=
"",L=m.length;const u="-"===m[0]?1:0;for(;L>=u+4;L-=3)F=`_${m.slice(L-3,L)}${F}`;return`${m.slice(0,L)}${F}`}function Wa(m,F,L,u,R,B){if(m>L||m<F)throw u="bigint"===typeof F?"n":"",new Ma.ERR_OUT_OF_RANGE("value",3<B?0===F||F===BigInt(0)?`>= 0${u} and < 2${u} ** ${8*(B+1)}${u}`:`>= -(2${u} ** ${8*(B+1)-1}${u}) and < 2 ** `+`${8*(B+1)-1}${u}`:`>= ${F}${u} and <= ${L}${u}`,m);Ja(R,"offset");void 0!==u[R]&&void 0!==u[R+B]||ib(R,u.length-(B+1))}function Ja(m,F){if("number"!==typeof m)throw new Ma.ERR_INVALID_ARG_TYPE(F,
"number",m);}function ib(m,F,L){if(Math.floor(m)!==m)throw Ja(m,L),new Ma.ERR_OUT_OF_RANGE(L||"offset","an integer",m);if(0>F)throw new Ma.ERR_BUFFER_OUT_OF_BOUNDS;throw new Ma.ERR_OUT_OF_RANGE(L||"offset",`>= ${L?1:0} and <= ${F}`,m);}function cb(m,F){F=F||Infinity;let L;const u=m.length;let R=null;const B=[];for(let z=0;z<u;++z){L=m.charCodeAt(z);if(55295<L&&57344>L){if(!R){if(56319<L){-1<(F-=3)&&B.push(239,191,189);continue}else if(z+1===u){-1<(F-=3)&&B.push(239,191,189);continue}R=L;continue}if(56320>
L){-1<(F-=3)&&B.push(239,191,189);R=L;continue}L=(R-55296<<10|L-56320)+65536}else R&&-1<(F-=3)&&B.push(239,191,189);R=null;if(128>L){if(0>--F)break;B.push(L)}else if(2048>L){if(0>(F-=2))break;B.push(L>>6|192,L&63|128)}else if(65536>L){if(0>(F-=3))break;B.push(L>>12|224,L>>6&63|128,L&63|128)}else if(1114112>L){if(0>(F-=4))break;B.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw Error("Invalid code point");}return B}function tb(m){var F=da,L=F.toByteArray;m=m.split("\x3d")[0];m=m.trim().replace(pa,
"");if(2>m.length)m="";else for(;0!==m.length%4;)m+="\x3d";return L.call(F,m)}function Pb(m,F,L,u){let R;for(R=0;R<u&&!(R+L>=F.length||R>=m.length);++R)F[R+L]=m[R];return R}function gb(m,F){return m instanceof F||null!=m&&null!=m.constructor&&null!=m.constructor.name&&m.constructor.name===F.name}function V(m){return"undefined"===typeof BigInt?aa:m}function aa(){throw Error("BigInt not supported");}const da=ob(25),ia=ob(26);Db="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;Ya.Buffer=h;Ya.SlowBuffer=function(m){+m!=m&&(m=0);return h.alloc(+m)};Ya.INSPECT_MAX_BYTES=50;Ya.kMaxLength=2147483647;h.TYPED_ARRAY_SUPPORT=function(){try{const m=new Uint8Array(1),F={foo:function(){return 42}};Object.setPrototypeOf(F,Uint8Array.prototype);Object.setPrototypeOf(m,F);return 42===m.foo()}catch(m){return!1}}();h.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}});Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});h.poolSize=8192;h.from=function(m,F,L){return ka(m,F,L)};Object.setPrototypeOf(h.prototype,Uint8Array.prototype);Object.setPrototypeOf(h,Uint8Array);h.alloc=function(m,F,L){Za(m);m=0>=m?w(m):void 0!==F?"string"===typeof L?w(m).fill(F,L):w(m).fill(F):w(m);return m};h.allocUnsafe=
function(m){return zb(m)};h.allocUnsafeSlow=function(m){return zb(m)};h.isBuffer=function(m){return null!=m&&!0===m._isBuffer&&m!==h.prototype};h.compare=function(m,F){gb(m,Uint8Array)&&(m=h.from(m,m.offset,m.byteLength));gb(F,Uint8Array)&&(F=h.from(F,F.offset,F.byteLength));if(!h.isBuffer(m)||!h.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===F)return 0;let L=m.length,u=F.length;for(let R=0,B=Math.min(L,u);R<B;++R)if(m[R]!==F[R]){L=
m[R];u=F[R];break}return L<u?-1:u<L?1:0};h.isEncoding=function(m){switch(String(m).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};h.concat=function(m,F){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(0===m.length)return h.alloc(0);let L;if(void 0===F)for(L=F=0;L<m.length;++L)F+=m[L].length;F=h.allocUnsafe(F);let u=
0;for(L=0;L<m.length;++L){let R=m[L];if(gb(R,Uint8Array))u+R.length>F.length?(h.isBuffer(R)||(R=h.from(R)),R.copy(F,u)):Uint8Array.prototype.set.call(F,R,u);else if(h.isBuffer(R))R.copy(F,u);else throw new TypeError('"list" argument must be an Array of Buffers');u+=R.length}return F};h.byteLength=Bb;h.prototype._isBuffer=!0;h.prototype.swap16=function(){const m=this.length;if(0!==m%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<m;F+=2)ec(this,F,F+1);return this};
h.prototype.swap32=function(){const m=this.length;if(0!==m%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<m;F+=4)ec(this,F,F+3),ec(this,F+1,F+2);return this};h.prototype.swap64=function(){const m=this.length;if(0!==m%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<m;F+=8)ec(this,F,F+7),ec(this,F+1,F+6),ec(this,F+2,F+5),ec(this,F+3,F+4);return this};h.prototype.toString=function(){const m=this.length;return 0===m?"":0===arguments.length?
vb(this,0,m):Rb.apply(this,arguments)};h.prototype.toLocaleString=h.prototype.toString;h.prototype.equals=function(m){if(!h.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:0===h.compare(this,m)};h.prototype.inspect=function(){let m;const F=Ya.INSPECT_MAX_BYTES;m=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim();this.length>F&&(m+=" ... ");return"\x3cBuffer "+m+"\x3e"};Db&&(h.prototype[Db]=h.prototype.inspect);h.prototype.compare=function(m,F,L,u,R){gb(m,Uint8Array)&&
(m=h.from(m,m.offset,m.byteLength));if(!h.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);void 0===F&&(F=0);void 0===L&&(L=m?m.length:0);void 0===u&&(u=0);void 0===R&&(R=this.length);if(0>F||L>m.length||0>u||R>this.length)throw new RangeError("out of range index");if(u>=R&&F>=L)return 0;if(u>=R)return-1;if(F>=L)return 1;F>>>=0;L>>>=0;u>>>=0;R>>>=0;if(this===m)return 0;let B=R-u,z=L-F;const N=Math.min(B,z);u=this.slice(u,R);
m=m.slice(F,L);for(F=0;F<N;++F)if(u[F]!==m[F]){B=u[F];z=m[F];break}return B<z?-1:z<B?1:0};h.prototype.includes=function(m,F,L){return-1!==this.indexOf(m,F,L)};h.prototype.indexOf=function(m,F,L){return Ea(this,m,F,L,!0)};h.prototype.lastIndexOf=function(m,F,L){return Ea(this,m,F,L,!1)};h.prototype.write=function(m,F,L,u){if(void 0===F)u="utf8",L=this.length,F=0;else if(void 0===L&&"string"===typeof F)u=F,L=this.length,F=0;else if(isFinite(F))F>>>=0,isFinite(L)?(L>>>=0,void 0===u&&(u="utf8")):(u=L,
L=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var R=this.length-F;if(void 0===L||L>R)L=R;if(0<m.length&&(0>L||0>F)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");for(R=!1;;)switch(u){case "hex":a:{F=Number(F)||0;u=this.length-F;L?(L=Number(L),L>u&&(L=u)):L=u;u=m.length;L>u/2&&(L=u/2);for(u=0;u<L;++u){R=parseInt(m.substr(2*u,2),16);if(R!==R){m=u;break a}this[F+u]=R}m=u}return m;case "utf8":case "utf-8":return Pb(cb(m,
this.length-F),this,F,L);case "ascii":case "latin1":case "binary":u=[];for(R=0;R<m.length;++R)u.push(m.charCodeAt(R)&255);return Pb(u,this,F,L);case "base64":return Pb(tb(m),this,F,L);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var B=void 0;u=this.length-F;const z=[];for(let N=0;N<m.length&&!(0>(u-=2));++N)B=m.charCodeAt(N),R=B>>8,B%=256,z.push(B),z.push(R);return Pb(z,this,F,L);default:if(R)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase();R=!0}};h.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};h.prototype.slice=function(m,F){const L=this.length;m=~~m;F=void 0===F?L:~~F;0>m?(m+=L,0>m&&(m=0)):m>L&&(m=L);0>F?(F+=L,0>F&&(F=0)):F>L&&(F=L);F<m&&(F=m);m=this.subarray(m,F);Object.setPrototypeOf(m,h.prototype);return m};h.prototype.readUintLE=h.prototype.readUIntLE=function(m,F,L){m>>>=0;F>>>=0;L||ub(m,F,this.length);L=this[m];let u=1,R=0;for(;++R<F&&(u*=256);)L+=this[m+R]*u;return L};h.prototype.readUintBE=h.prototype.readUIntBE=function(m,F,
L){m>>>=0;F>>>=0;L||ub(m,F,this.length);L=this[m+--F];let u=1;for(;0<F&&(u*=256);)L+=this[m+--F]*u;return L};h.prototype.readUint8=h.prototype.readUInt8=function(m,F){m>>>=0;F||ub(m,1,this.length);return this[m]};h.prototype.readUint16LE=h.prototype.readUInt16LE=function(m,F){m>>>=0;F||ub(m,2,this.length);return this[m]|this[m+1]<<8};h.prototype.readUint16BE=h.prototype.readUInt16BE=function(m,F){m>>>=0;F||ub(m,2,this.length);return this[m]<<8|this[m+1]};h.prototype.readUint32LE=h.prototype.readUInt32LE=
function(m,F){m>>>=0;F||ub(m,4,this.length);return(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]};h.prototype.readUint32BE=h.prototype.readUInt32BE=function(m,F){m>>>=0;F||ub(m,4,this.length);return 16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])};h.prototype.readBigUInt64LE=V(function(m){m>>>=0;Ja(m,"offset");var F=this[m];const L=this[m+7];void 0!==F&&void 0!==L||ib(m,this.length-8);F=F+this[++m]*Math.pow(2,8)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,24);m=this[++m]+this[++m]*
Math.pow(2,8)+this[++m]*Math.pow(2,16)+L*Math.pow(2,24);return BigInt(F)+(BigInt(m)<<BigInt(32))});h.prototype.readBigUInt64BE=V(function(m){m>>>=0;Ja(m,"offset");var F=this[m];const L=this[m+7];void 0!==F&&void 0!==L||ib(m,this.length-8);F=F*Math.pow(2,24)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,8)+this[++m];m=this[++m]*Math.pow(2,24)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,8)+L;return(BigInt(F)<<BigInt(32))+BigInt(m)});h.prototype.readIntLE=function(m,F,L){m>>>=0;F>>>=0;L||ub(m,F,this.length);
L=this[m];let u=1,R=0;for(;++R<F&&(u*=256);)L+=this[m+R]*u;L>=128*u&&(L-=Math.pow(2,8*F));return L};h.prototype.readIntBE=function(m,F,L){m>>>=0;F>>>=0;L||ub(m,F,this.length);L=F;let u=1,R=this[m+--L];for(;0<L&&(u*=256);)R+=this[m+--L]*u;R>=128*u&&(R-=Math.pow(2,8*F));return R};h.prototype.readInt8=function(m,F){m>>>=0;F||ub(m,1,this.length);return this[m]&128?-1*(255-this[m]+1):this[m]};h.prototype.readInt16LE=function(m,F){m>>>=0;F||ub(m,2,this.length);m=this[m]|this[m+1]<<8;return m&32768?m|4294901760:
m};h.prototype.readInt16BE=function(m,F){m>>>=0;F||ub(m,2,this.length);m=this[m+1]|this[m]<<8;return m&32768?m|4294901760:m};h.prototype.readInt32LE=function(m,F){m>>>=0;F||ub(m,4,this.length);return this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24};h.prototype.readInt32BE=function(m,F){m>>>=0;F||ub(m,4,this.length);return this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]};h.prototype.readBigInt64LE=V(function(m){m>>>=0;Ja(m,"offset");const F=this[m],L=this[m+7];void 0!==F&&void 0!==L||ib(m,this.length-
8);return(BigInt(this[m+4]+this[m+5]*Math.pow(2,8)+this[m+6]*Math.pow(2,16)+(L<<24))<<BigInt(32))+BigInt(F+this[++m]*Math.pow(2,8)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,24))});h.prototype.readBigInt64BE=V(function(m){m>>>=0;Ja(m,"offset");var F=this[m];const L=this[m+7];void 0!==F&&void 0!==L||ib(m,this.length-8);F=(F<<24)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,8)+this[++m];return(BigInt(F)<<BigInt(32))+BigInt(this[++m]*Math.pow(2,24)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,8)+
L)});h.prototype.readFloatLE=function(m,F){m>>>=0;F||ub(m,4,this.length);return ia.read(this,m,!0,23,4)};h.prototype.readFloatBE=function(m,F){m>>>=0;F||ub(m,4,this.length);return ia.read(this,m,!1,23,4)};h.prototype.readDoubleLE=function(m,F){m>>>=0;F||ub(m,8,this.length);return ia.read(this,m,!0,52,8)};h.prototype.readDoubleBE=function(m,F){m>>>=0;F||ub(m,8,this.length);return ia.read(this,m,!1,52,8)};h.prototype.writeUintLE=h.prototype.writeUIntLE=function(m,F,L,u){m=+m;F>>>=0;L>>>=0;u||sb(this,
m,F,L,Math.pow(2,8*L)-1,0);u=1;let R=0;for(this[F]=m&255;++R<L&&(u*=256);)this[F+R]=m/u&255;return F+L};h.prototype.writeUintBE=h.prototype.writeUIntBE=function(m,F,L,u){m=+m;F>>>=0;L>>>=0;u||sb(this,m,F,L,Math.pow(2,8*L)-1,0);u=L-1;let R=1;for(this[F+u]=m&255;0<=--u&&(R*=256);)this[F+u]=m/R&255;return F+L};h.prototype.writeUint8=h.prototype.writeUInt8=function(m,F,L){m=+m;F>>>=0;L||sb(this,m,F,1,255,0);this[F]=m&255;return F+1};h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(m,F,L){m=
+m;F>>>=0;L||sb(this,m,F,2,65535,0);this[F]=m&255;this[F+1]=m>>>8;return F+2};h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(m,F,L){m=+m;F>>>=0;L||sb(this,m,F,2,65535,0);this[F]=m>>>8;this[F+1]=m&255;return F+2};h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(m,F,L){m=+m;F>>>=0;L||sb(this,m,F,4,4294967295,0);this[F+3]=m>>>24;this[F+2]=m>>>16;this[F+1]=m>>>8;this[F]=m&255;return F+4};h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(m,F,L){m=+m;F>>>=0;L||sb(this,
m,F,4,4294967295,0);this[F]=m>>>24;this[F+1]=m>>>16;this[F+2]=m>>>8;this[F+3]=m&255;return F+4};h.prototype.writeBigUInt64LE=V(function(m,F=0){return wb(this,m,F,BigInt(0),BigInt("0xffffffffffffffff"))});h.prototype.writeBigUInt64BE=V(function(m,F=0){return jb(this,m,F,BigInt(0),BigInt("0xffffffffffffffff"))});h.prototype.writeIntLE=function(m,F,L,u){m=+m;F>>>=0;u||(u=Math.pow(2,8*L-1),sb(this,m,F,L,u-1,-u));u=0;let R=1,B=0;for(this[F]=m&255;++u<L&&(R*=256);)0>m&&0===B&&0!==this[F+u-1]&&(B=1),this[F+
u]=(m/R>>0)-B&255;return F+L};h.prototype.writeIntBE=function(m,F,L,u){m=+m;F>>>=0;u||(u=Math.pow(2,8*L-1),sb(this,m,F,L,u-1,-u));u=L-1;let R=1,B=0;for(this[F+u]=m&255;0<=--u&&(R*=256);)0>m&&0===B&&0!==this[F+u+1]&&(B=1),this[F+u]=(m/R>>0)-B&255;return F+L};h.prototype.writeInt8=function(m,F,L){m=+m;F>>>=0;L||sb(this,m,F,1,127,-128);0>m&&(m=255+m+1);this[F]=m&255;return F+1};h.prototype.writeInt16LE=function(m,F,L){m=+m;F>>>=0;L||sb(this,m,F,2,32767,-32768);this[F]=m&255;this[F+1]=m>>>8;return F+
2};h.prototype.writeInt16BE=function(m,F,L){m=+m;F>>>=0;L||sb(this,m,F,2,32767,-32768);this[F]=m>>>8;this[F+1]=m&255;return F+2};h.prototype.writeInt32LE=function(m,F,L){m=+m;F>>>=0;L||sb(this,m,F,4,2147483647,-2147483648);this[F]=m&255;this[F+1]=m>>>8;this[F+2]=m>>>16;this[F+3]=m>>>24;return F+4};h.prototype.writeInt32BE=function(m,F,L){m=+m;F>>>=0;L||sb(this,m,F,4,2147483647,-2147483648);0>m&&(m=4294967295+m+1);this[F]=m>>>24;this[F+1]=m>>>16;this[F+2]=m>>>8;this[F+3]=m&255;return F+4};h.prototype.writeBigInt64LE=
V(function(m,F=0){return wb(this,m,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});h.prototype.writeBigInt64BE=V(function(m,F=0){return jb(this,m,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});h.prototype.writeFloatLE=function(m,F,L){return ta(this,m,F,!0,L)};h.prototype.writeFloatBE=function(m,F,L){return ta(this,m,F,!1,L)};h.prototype.writeDoubleLE=function(m,F,L){return ha(this,m,F,!0,L)};h.prototype.writeDoubleBE=function(m,F,L){return ha(this,m,F,!1,L)};h.prototype.copy=
function(m,F,L,u){if(!h.isBuffer(m))throw new TypeError("argument should be a Buffer");L||(L=0);u||0===u||(u=this.length);F>=m.length&&(F=m.length);F||(F=0);0<u&&u<L&&(u=L);if(u===L||0===m.length||0===this.length)return 0;if(0>F)throw new RangeError("targetStart out of bounds");if(0>L||L>=this.length)throw new RangeError("Index out of range");if(0>u)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length);m.length-F<u-L&&(u=m.length-F+L);const R=u-L;this===m&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(F,L,u):Uint8Array.prototype.set.call(m,this.subarray(L,u),F);return R};h.prototype.fill=function(m,F,L,u){if("string"===typeof m){"string"===typeof F?(u=F,F=0,L=this.length):"string"===typeof L&&(u=L,L=this.length);if(void 0!==u&&"string"!==typeof u)throw new TypeError("encoding must be a string");if("string"===typeof u&&!h.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(1===m.length){var R=m.charCodeAt(0);if("utf8"===u&&128>R||"latin1"===u)m=R}}else"number"===typeof m?
m&=255:"boolean"===typeof m&&(m=Number(m));if(0>F||this.length<F||this.length<L)throw new RangeError("Out of range index");if(L<=F)return this;F>>>=0;L=void 0===L?this.length:L>>>0;m||(m=0);if("number"===typeof m)for(u=F;u<L;++u)this[u]=m;else{R=h.isBuffer(m)?m:h.from(m,u);const B=R.length;if(0===B)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(u=0;u<L-F;++u)this[u+F]=R[u%B]}return this};const Ma={};ya("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);ya("ERR_INVALID_ARG_TYPE",function(m,F){return`The "${m}" argument must be of type number. Received type ${typeof F}`},TypeError);ya("ERR_OUT_OF_RANGE",function(m,F,L){m=`The value of "${m}" is out of range.`;let u=L;if(Number.isInteger(L)&&Math.abs(L)>Math.pow(2,32))u=Ra(String(L));else if("bigint"===typeof L){u=String(L);if(L>Math.pow(BigInt(2),BigInt(32))||L<-Math.pow(BigInt(2),BigInt(32)))u=Ra(u);u+="n"}return m+` It must be ${F}. Received ${u}`},
RangeError);const pa=/[^+/0-9A-Za-z-_]/g,sa=function(){const m=Array(256);for(let F=0;16>F;++F){const L=16*F;for(let u=0;16>u;++u)m[L+u]="0123456789abcdef"[F]+"0123456789abcdef"[u]}return m}()};
shadow$provide[28]=function(Db,ob,zc,Ya){var w=ob(27).Buffer;(function(h,ka){"object"===typeof Ya&&"undefined"!==typeof zc?ka(Ya,ob(21),ob(22),ob(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],ka):(h="undefined"!==typeof globalThis?globalThis:h||self,ka(h.vega={},h.vega,h.topojson,h.vega))})(this,function(h,ka,Za,zb){function Vb(pa,sa){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const F=yield m.sanitize(pa,
sa),L=F.href;return F.localFile?m.file(L):m.http(L,sa)})}function Zb(pa,sa){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){sa=ka.extend({},m.options,sa);const F=m.fileAccess,L={href:null};var u;let R;var B=Ja.test(pa.replace(ib,""));null!=pa&&"string"===typeof pa&&B||ka.error("Sanitize failure, invalid URI: "+ka.stringValue(pa));B=Wa.test(pa);(u=sa.baseURL)&&!B&&(pa.startsWith("/")||u.endsWith("/")||(pa="/"+pa),pa=u+pa);R=(u=pa.startsWith("file://"))||"file"===sa.mode||
"http"!==sa.mode&&!B&&F;u?pa=pa.slice(7):pa.startsWith("//")&&("file"===sa.defaultProtocol?(pa=pa.slice(2),R=!0):pa=(sa.defaultProtocol||"http")+":"+pa);Object.defineProperty(L,"localFile",{value:!!R});L.href=pa;sa.target&&(L.target=sa.target+"");sa.rel&&(L.rel=sa.rel+"");"image"===sa.context&&sa.crossOrigin&&(L.crossOrigin=sa.crossOrigin+"");return L})}function Ub(pa){return pa?sa=>new Promise((m,F)=>{pa.readFile(sa,(L,u)=>{L?F(L):m(u)})}):jc}function jc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ka.error("No file system access.")})}
function Bb(pa){return pa?function(sa,m){const F=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var L=ka.extend({},F.options.http,m);const u=m&&m.response;L=yield pa(sa,L);return L.ok?ka.isFunction(L[u])?L[u]():L.text():ka.error(L.status+""+L.statusText)})}:Rb}function Rb(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ka.error("No HTTP fetch method available.")})}function ec(pa,sa){if(!pa||!pa.length)return"unknown";const m=pa.length,F=Pb.length,L=Pb.map((u,
R)=>R+1);for(let u=0,R=0,B,z;u<m;++u)for(z=sa?pa[u][sa]:pa[u],B=0;B<F;++B)if(L[B]&&null!=z&&z===z&&!Pb[B](z)&&(L[B]=0,++R,R===Pb.length))return"string";return gb[L.reduce((u,R)=>0===u?R:u,0)-1]}function Ea(pa,sa){return sa.reduce((m,F)=>{m[F]=ec(pa,F);return m},{})}function $a(pa){return new Function("d","return {"+pa.map(function(sa,m){return JSON.stringify(sa)+": d["+m+'] || ""'}).join(",")+"}")}function vb(pa,sa){var m=$a(pa);return function(F,L){return sa(m(F),L,pa)}}function ub(pa){var sa=Object.create(null),
m=[];pa.forEach(function(F){for(var L in F)L in sa||m.push(sa[L]=L)});return m}function sb(pa,sa){pa+="";var m=pa.length;return m<sa?Array(sa-m+1).join(0)+pa:pa}function wb(pa){function sa(B,z){function N(){if(P)return aa;if(ja)return ja=!1,V;var Na,Qa=H,eb;if(34===B.charCodeAt(Qa)){for(;H++<D&&34!==B.charCodeAt(H)||34===B.charCodeAt(++H););(Na=H)>=D?P=!0:10===(eb=B.charCodeAt(H++))?ja=!0:13===eb&&(ja=!0,10===B.charCodeAt(H)&&++H);return B.slice(Qa+1,Na-1).replace(/""/g,'"')}for(;H<D;){if(10===(eb=
B.charCodeAt(Na=H++)))ja=!0;else if(13===eb)ja=!0,10===B.charCodeAt(H)&&++H;else if(eb!==R)continue;return B.slice(Qa,Na)}return P=!0,B.slice(Qa,D)}var A=[],D=B.length,H=0,W=0,Da,P=0>=D,ja=!1;10===B.charCodeAt(D-1)&&--D;for(13===B.charCodeAt(D-1)&&--D;(Da=N())!==aa;){for(var Ba=[];Da!==V&&Da!==aa;)Ba.push(Da),Da=N();z&&null==(Ba=z(Ba,W++))||A.push(Ba)}return A}function m(B,z){return B.map(function(N){return z.map(function(A){return L(N[A])}).join(pa)})}function F(B){return B.map(L).join(pa)}function L(B){if(null==
B)B="";else{if(B instanceof Date){var z=B.getUTCHours();var N=B.getUTCMinutes(),A=B.getUTCSeconds(),D=B.getUTCMilliseconds();if(isNaN(B))B="Invalid Date";else{var H=B.getUTCFullYear();B=(0>H?"-"+sb(-H,6):9999<H?"+"+sb(H,6):sb(H,4))+"-"+sb(B.getUTCMonth()+1,2)+"-"+sb(B.getUTCDate(),2)+(D?"T"+sb(z,2)+":"+sb(N,2)+":"+sb(A,2)+"."+sb(D,3)+"Z":A?"T"+sb(z,2)+":"+sb(N,2)+":"+sb(A,2)+"Z":N||z?"T"+sb(z,2)+":"+sb(N,2)+"Z":"")}z=B}else z=u.test(B+="")?'"'+B.replace(/"/g,'""')+'"':B;B=z}return B}var u=new RegExp('["'+
pa+"\n\r]"),R=pa.charCodeAt(0);return{parse:function(B,z){var N,A;B=sa(B,function(D,H){if(N)return N(D,H-1);A=D;N=z?vb(D,z):$a(D)});B.columns=A||[];return B},parseRows:sa,format:function(B,z){null==z&&(z=ub(B));return[z.map(L).join(pa)].concat(m(B,z)).join("\n")},formatBody:function(B,z){null==z&&(z=ub(B));return m(B,z).join("\n")},formatRows:function(B){return B.map(F).join("\n")},formatRow:F,formatValue:L}}function jb(pa){const sa=function(m,F){const L={delimiter:pa};return lc(m,F?ka.extend(F,L):
L)};sa.responseType="text";return sa}function lc(pa,sa){sa.header&&(pa=sa.header.map(ka.stringValue).join(sa.delimiter)+"\n"+pa);return wb(sa.delimiter).parse(pa+"")}function ta(pa,sa){const m=sa&&sa.property?ka.field(sa.property):ka.identity;var F;if(F=ka.isObject(pa))F=!("function"===typeof w&&ka.isFunction(w.isBuffer)&&w.isBuffer(pa));F?(pa=m(pa),!ka.isArray(pa)&&ka.isIterable(pa)&&(pa=[...pa]),sa=sa&&sa.copy?JSON.parse(JSON.stringify(pa)):pa):sa=m(JSON.parse(pa));return sa}function ha(pa,sa){let m,
F,L,u;pa=ta(pa,sa);sa&&sa.feature?(m=Za.feature,L=sa.feature):sa&&sa.mesh?(m=Za.mesh,L=sa.mesh,u=da[sa.filter]):ka.error("Missing TopoJSON feature or mesh parameter.");return(F=(F=pa.objects[L])?m(pa,F,u):ka.error("Invalid TopoJSON object: "+L))&&F.features||[F]}function ya(pa,sa){return 1<arguments.length?(ia[pa]=sa,this):ka.hasOwnProperty(ia,pa)?ia[pa]:null}function Ra(pa,sa,m,F){if(pa.length){var L=zb.timeFormatDefaultLocale();m=m||L.timeParse;F=F||L.utcParse;L=pa.columns||Object.keys(pa[0]);var u,
R;"auto"===sa&&(sa=Ea(pa,L));L=Object.keys(sa);var B=L.map(H=>{var W=sa[H];if(W&&(W.startsWith("date:")||W.startsWith("utc:"))){H=W.split(/:(.+)?/,2);W=H[1];if("'"===W[0]&&"'"===W[W.length-1]||'"'===W[0]&&'"'===W[W.length-1])W=W.slice(1,-1);return("utc"===H[0]?F:m)(W)}if(!tb[W])throw Error("Illegal format pattern: "+H+":"+W);return tb[W]});var z=0;var N=pa.length;for(R=L.length;z<N;++z){var A=pa[z];for(u=0;u<R;++u){var D=L[u];A[D]=B[u](A[D])}}}}const Wa=/^(data:|([A-Za-z]+:)?\/\/)/,Ja=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
ib=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,cb=pa=>!Number.isNaN(+pa)&&!(pa instanceof Date),tb={boolean:ka.toBoolean,integer:ka.toNumber,number:ka.toNumber,date:ka.toDate,string:ka.toString,unknown:ka.identity},Pb=[pa=>"true"===pa||"false"===pa||!0===pa||!1===pa,pa=>cb(pa)&&Number.isInteger(+pa),cb,pa=>!Number.isNaN(Date.parse(pa))],gb=["boolean","integer","number","date"];var V={},aa={};lc.responseType="text";ta.responseType="json";const da={interior:(pa,sa)=>pa!==sa,exterior:(pa,
sa)=>pa===sa};ha.responseType="json";const ia={dsv:lc,csv:jb(","),tsv:jb("\t"),json:ta,topojson:ha},Ma=function(pa,sa){return m=>({options:m||{},sanitize:Zb,load:Vb,fileAccess:!1,file:Ub(sa),http:Bb(pa)})}("undefined"!==typeof fetch&&fetch,null);h.format=ia;h.formats=ya;h.inferType=ec;h.inferTypes=Ea;h.loader=Ma;h.read=function(pa,sa,m,F){sa=sa||{};const L=ya(sa.type||"json");L||ka.error("Unknown data format type: "+sa.type);pa=L(pa,sa);sa.parse&&Ra(pa,sa.parse,m,F);ka.hasOwnProperty(pa,"columns")&&
delete pa.columns;return pa};h.responseType=function(pa){return(pa=ya(pa))&&pa.responseType||"text"};h.typeParsers=tb})};
shadow$provide[29]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(21),ob(28),ob(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega,w.vega))})(this,function(w,h,ka,Za){function zb(u){const R=u||h.identity,B=[],z={};B.add=N=>{const A=R(N);z[A]||(z[A]=1,B.push(N));return B};B.remove=N=>{const A=R(N);z[A]&&(z[A]=0,N=B.indexOf(N),
0<=N&&B.splice(N,1));return B};return B}function Vb(u,R){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield R(u)}catch(B){u.error(B)}})}function Zb(u){u=u===Object(u)?u:{data:u};if(!u[aa]){var R=da++;u[aa]=R}return u}function Ub(u,R){for(const B in u)R[B]=u[B];return R}function jc(u){return u&&u.constructor===Bb}function Bb(){const u=[],R=[],B=[],z=[],N=[];let A=null,D=!1;return{constructor:Bb,insert(H){H=h.array(H);const W=H.length;for(let Da=0;Da<W;++Da)u.push(H[Da]);return this},
remove(H){const W=h.isFunction(H)?z:R;H=h.array(H);const Da=H.length;for(let P=0;P<Da;++P)W.push(H[P]);return this},modify(H,W,Da){W={field:W,value:h.constant(Da)};h.isFunction(H)?(W.filter=H,N.push(W)):(W.tuple=H,B.push(W));return this},encode(H,W){h.isFunction(H)?N.push({filter:H,field:W}):B.push({tuple:H,field:W});return this},clean(H){A=H;return this},reflow(){D=!0;return this},pulse(H,W){function Da(Sb,X,Ha){Ha?Sb[X]=Ha(Sb):H.encode=X;D||(ja[Sb[aa]]=Sb)}const P={},ja={};let Ba,Na,Qa,eb,xb,kb;
Ba=0;for(Na=W.length;Ba<Na;++Ba)P[W[Ba][aa]]=1;Ba=0;for(Na=R.length;Ba<Na;++Ba)xb=R[Ba],P[xb[aa]]=-1;Ba=0;for(Na=z.length;Ba<Na;++Ba)eb=z[Ba],W.forEach(Sb=>{eb(Sb)&&(P[Sb[aa]]=-1)});Ba=0;for(Na=u.length;Ba<Na;++Ba)xb=u[Ba],kb=xb[aa],P[kb]?P[kb]=1:H.add.push(Zb(u[Ba]));Ba=0;for(Na=W.length;Ba<Na;++Ba)xb=W[Ba],0>P[xb[aa]]&&H.rem.push(xb);Ba=0;for(Na=B.length;Ba<Na;++Ba)Qa=B[Ba],xb=Qa.tuple,eb=Qa.field,kb=P[xb[aa]],0<kb&&(Da(xb,eb,Qa.value),H.modifies(eb));Ba=0;for(Na=N.length;Ba<Na;++Ba)Qa=N[Ba],eb=
Qa.filter,W.forEach(Sb=>{eb(Sb)&&0<P[Sb[aa]]&&Da(Sb,Qa.field,Qa.value)}),H.modifies(Qa.field);if(D)H.mod=R.length||z.length?W.filter(Sb=>0<P[Sb[aa]]):W.slice();else for(kb in ja)H.mod.push(ja[kb]);(A||null==A&&(R.length||z.length))&&H.clean(!0);return H}}}function Rb(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function ec(u,R,B,z){this.id=++ia;this.value=u;this.qrank=this.rank=this.stamp=-1;this.flags=0;R&&(this._update=R);B&&this.parameters(B,z)}function Ea(u){return function(R){const B=
this.flags;if(0===arguments.length)return!!(B&u);this.flags=R?B|u:B&~u;return this}}function $a(u,R,B){this.id=++pa;this.value=null;B&&(this.receive=B);u&&(this._filter=u);R&&(this._apply=R)}function vb(u,R,B){return new $a(u,R,B)}function ub(u){let R;const B=new Promise(z=>R=z);B.requests=0;B.done=()=>{0===--B.requests&&(u._pending=null,R(u))};return u._pending=B}function sb(u,R,B,z,N,A){const D=h.extend({},A,sa);let H;h.isFunction(B)||(B=h.constant(B));void 0===z?N=W=>u.touch(B(W)):h.isFunction(z)?
(H=new ec(null,z,N,!1),N=W=>{H.evaluate(W);W=B(W);const Da=H.value;jc(Da)?u.pulse(W,Da,A):u.update(W,Da,D)}):N=W=>u.update(B(W),z,D);R.apply(N)}function wb(u,R,B,z,N,A){void 0===z?R.targets().add(B):(A=A||{},z=new ec(null,jb(B,z),N,!1),z.modified(A.force),z.rank=R.rank,R.targets().add(z),B&&(z.skip(!0),z.value=B.value,z.targets().add(B),u.connect(B,[z])))}function jb(u,R){R=h.isFunction(R)?R:h.constant(R);return u?function(B,z){B=R(B,z);u.skip()||(u.skip(B!==this.value).value=B);return B}:R}function lc(u,
R,B){this.dataflow=u;this.stamp=null==R?-1:R;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=B||null}function ta(u,R){const B=[];h.visitArray(u,R,z=>B.push(z));return B}function ha(u,R){const B={};u.visit(R,z=>{B[z[aa]]=1});return z=>B[z[aa]]?null:z}function ya(u,R){return u?(B,z)=>u(B,z)&&R(B,z):R}function Ra(u,R,B,z){let N=0;this.dataflow=u;this.stamp=R;this.fields=null;this.encode=z||null;this.pulses=B;for(const A of B)if(A.stamp===R){if(A.fields){u=this.fields||(this.fields={});
for(const D in A.fields)u[D]=1}A.changed(this.ADD)&&(N|=this.ADD);A.changed(this.REM)&&(N|=this.REM);A.changed(this.MOD)&&(N|=this.MOD)}this.changes=N}function Wa(u){u.error("Dataflow already running. Use runAsync() to chain invocations.");return u}function Ja(u,R){if(R&&R.stamp===u.stamp)return R;u=u.fork();R&&R!==m&&(u.source=R.source);return u}function ib(u){let R=[];return{clear:()=>R=[],size:()=>R.length,peek:()=>R[0],push:B=>{R.push(B);return cb(R,0,R.length-1,u)},pop:()=>{var B=R.pop();let z;
if(R.length){z=R[0];R[0]=B;B=R;var N=0;const A=N,D=B.length,H=B[N];let W=(N<<1)+1,Da;for(;W<D;)Da=W+1,Da<D&&0<=u(B[W],B[Da])&&(W=Da),B[N]=B[W],N=W,W=(N<<1)+1;B[N]=H;cb(B,A,N,u)}else z=B;return z}}}function cb(u,R,B,z){let N,A;const D=u[B];for(;B>R;)if(A=B-1>>1,N=u[A],0>z(D,N))u[B]=N,B=A;else break;return u[B]=D}function tb(){this.logger(h.logger());this.logLevel(h.Error);this._rank=this._clock=0;this._locale=Za.defaultLocale();try{this._loader=ka.loader()}catch(u){}this._touched=zb(h.id);this._input=
{};this._pulse=null;this._heap=ib((u,R)=>u.qrank-R.qrank);this._postrun=[]}function Pb(u){return function(){return this._log[u].apply(this,arguments)}}function gb(u,R){ec.call(this,u,null,R)}function V(u){u=u&&u.toLowerCase();return h.hasOwnProperty(L,u)?L[u]:null}const aa=Symbol("vega_id");let da=1;Rb.prototype={set(u,R,B,z){const N=this[u],A=this["_:mod:_"];if(null!=R&&0<=R){if(N[R]!==B||z)N[R]=B,A[R+":"+u]=-1,A[u]=-1}else if(N!==B||z)this[u]=B,A[u]=h.isArray(B)?1+B.length:-1;return this},modified(u,
R){const B=this["_:mod:_"];if(!arguments.length){for(var z in B)if(B[z])return!0;return!1}if(h.isArray(u)){for(z=0;z<u.length;++z)if(B[u[z]])return!0;return!1}return null!=R&&0<=R?R+1<B[u]||!!B[R+":"+u]:!!B[u]},clear(){this["_:mod:_"]={};return this}};let ia=0;const Ma=new Rb;ec.prototype={targets(){return this._targets||(this._targets=zb(h.id))},set(u){return this.value!==u?(this.value=u,1):0},skip:Ea(1),modified:Ea(2),parameters(u,R,B){R=!1!==R;const z=this._argval=this._argval||new Rb,N=this._argops=
this._argops||[],A=[];let D,H,W,Da;const P=(ja,Ba,Na)=>{Na instanceof ec?(Na!==this&&(R&&Na.targets().add(this),A.push(Na)),N.push({op:Na,name:ja,index:Ba})):z.set(ja,Ba,Na)};for(D in u)if(H=u[D],"pulse"===D)h.array(H).forEach(ja=>{ja instanceof ec?ja!==this&&(ja.targets().add(this),A.push(ja)):h.error("Pulse parameters must be operator instances.")}),this.source=H;else if(h.isArray(H))for(z.set(D,-1,Array(W=H.length)),Da=0;Da<W;++Da)P(D,Da,H[Da]);else P(D,-1,H);this.marshall().clear();B&&(N.initonly=
!0);return A},marshall(u){const R=this._argval||Ma,B=this._argops;let z,N,A,D;if(B){const H=B.length;for(N=0;N<H;++N)z=B[N],A=z.op,D=A.modified()&&A.stamp===u,R.set(z.name,z.index,A.value,D);if(B.initonly){for(N=0;N<H;++N)z=B[N],z.op.targets().remove(this);this._update=this._argops=null}}return R},detach(){const u=this._argops;let R,B;if(u)for(R=0,B=u.length;R<B;++R){var z=u[R];z=z.op;z._targets&&z._targets.remove(this)}this.source=this.pulse=null},evaluate(u){var R=this._update;if(R){const B=this.marshall(u.stamp);
R=R.call(this,B,u);B.clear();if(R!==this.value)this.value=R;else if(!this.modified())return u.StopPropagation}},run(u){if(u.stamp<this.stamp)return u.StopPropagation;let R;this.skip()?(this.skip(!1),R=0):R=this.evaluate(u);return this.pulse=R||u}};let pa=0;$a.prototype={_filter:h.truthy,_apply:h.identity,targets(){return this._targets||(this._targets=zb(h.id))},consume(u){if(!arguments.length)return!!this._consume;this._consume=!!u;return this},receive(u){if(this._filter(u)){const R=this.value=this._apply(u),
B=this._targets,z=B?B.length:0;for(let N=0;N<z;++N)B[N].receive(R);this._consume&&(u.preventDefault(),u.stopPropagation())}},filter(u){u=vb(u);this.targets().add(u);return u},apply(u){u=vb(null,u);this.targets().add(u);return u},merge(){const u=vb();this.targets().add(u);for(let R=0,B=arguments.length;R<B;++R)arguments[R].targets().add(u);return u},throttle(u){let R=-1;return this.filter(()=>{const B=Date.now();return B-R>u?(R=B,1):0})},debounce(u){const R=vb();this.targets().add(vb(null,null,h.debounce(u,
B=>{const z=B.dataflow;R.receive(B);z&&z.run&&z.run()})));return R},between(u,R){let B=!1;u.targets().add(vb(null,null,()=>B=!0));R.targets().add(vb(null,null,()=>B=!1));return this.filter(()=>B)},detach(){this._filter=h.truthy;this._targets=null}};const sa={skip:!0},m={};lc.prototype={StopPropagation:m,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(u){return(new lc(this.dataflow)).init(this,u)},clone(){const u=this.fork(7);u.add=u.add.slice();u.rem=
u.rem.slice();u.mod=u.mod.slice();u.source&&(u.source=u.source.slice());return u.materialize(23)},addAll(){let u=this;u.source&&u.add!==u.rem&&(u.rem.length||u.source.length!==u.add.length)&&(u=(new lc(this.dataflow)).init(this),u.add=u.source,u.rem=[]);return u},init(u,R){this.stamp=u.stamp;this.encode=u.encode;!u.fields||R&64||(this.fields=u.fields);R&1?(this.addF=u.addF,this.add=u.add):(this.addF=null,this.add=[]);R&2?(this.remF=u.remF,this.rem=u.rem):(this.remF=null,this.rem=[]);R&4?(this.modF=
u.modF,this.mod=u.mod):(this.modF=null,this.mod=[]);R&32?this.source=this.srcF=null:(this.srcF=u.srcF,this.source=u.source,u.cleans&&(this.cleans=u.cleans));return this},runAfter(u){this.dataflow.runAfter(u)},changed(u){u=u||7;return u&1&&this.add.length||u&2&&this.rem.length||u&4&&this.mod.length},reflow(u){if(u)return this.fork(7).reflow();u=this.add.length;const R=this.source&&this.source.length;R&&R!==u&&(this.mod=this.source,u&&this.filter(4,ha(this,1)));return this},clean(u){return arguments.length?
(this.cleans=!!u,this):this.cleans},modifies(u){const R=this.fields||(this.fields={});h.isArray(u)?u.forEach(B=>R[B]=!0):R[u]=!0;return this},modified(u,R){const B=this.fields;return(R||this.mod.length)&&B?arguments.length?h.isArray(u)?u.some(z=>B[z]):B[u]:!!B:!1},filter(u,R){u&1&&(this.addF=ya(this.addF,R));u&2&&(this.remF=ya(this.remF,R));u&4&&(this.modF=ya(this.modF,R));u&16&&(this.srcF=ya(this.srcF,R));return this},materialize(u){u=u||7;u&1&&this.addF&&(this.add=ta(this.add,this.addF),this.addF=
null);u&2&&this.remF&&(this.rem=ta(this.rem,this.remF),this.remF=null);u&4&&this.modF&&(this.mod=ta(this.mod,this.modF),this.modF=null);u&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(u,R){if(u&16)return h.visitArray(this.source,this.srcF,R),this;u&1&&h.visitArray(this.add,this.addF,R);u&2&&h.visitArray(this.rem,this.remF,R);u&4&&h.visitArray(this.mod,this.modF,R);const B=this.source;u&8&&B&&(u=this.add.length+this.mod.length,u!==B.length&&(u?h.visitArray(B,
ha(this,5),R):h.visitArray(B,this.srcF,R)));return this}};h.inherits(Ra,lc,{fork(u){const R=(new lc(this.dataflow)).init(this,u&this.NO_FIELDS);void 0!==u&&(u&R.ADD&&this.visit(R.ADD,B=>R.add.push(B)),u&R.REM&&this.visit(R.REM,B=>R.rem.push(B)),u&R.MOD&&this.visit(R.MOD,B=>R.mod.push(B)));return R},changed(u){return this.changes&u},modified(u){const R=this.fields;return R&&this.changes&this.MOD?h.isArray(u)?u.some(B=>R[B]):R[u]:0},filter(){h.error("MultiPulse does not support filtering.")},materialize(){h.error("MultiPulse does not support materialization.")},
visit(u,R){const B=this.pulses,z=B.length;let N=0;if(u&this.SOURCE)for(;N<z;++N)B[N].visit(u,R);else for(;N<z;++N)B[N].stamp===this.stamp&&B[N].visit(u,R);return this}});const F={skip:!1,force:!1};tb.prototype={stamp(){return this._clock},loader(u){return arguments.length?(this._loader=u,this):this._loader},locale(u){return arguments.length?(this._locale=u,this):this._locale},logger(u){return arguments.length?(this._log=u,this):this._log},error:Pb("error"),warn:Pb("warn"),info:Pb("info"),debug:Pb("debug"),
logLevel:Pb("level"),cleanThreshold:1E4,add:function(u,R,B,z){let N=1;u instanceof ec||(u&&u.prototype instanceof ec?u=new u:h.isFunction(u)?u=new ec(null,u):(N=0,u=new ec(u,R)));this.rank(u);N&&(z=B,B=R);B&&this.connect(u,u.parameters(B,z));this.touch(u);return u},connect:function(u,R){const B=u.rank,z=R.length;for(let N=0;N<z;++N)if(B<R[N].rank){this.rerank(u);break}},rank:function(u){u.rank=++this._rank},rerank:function(u){const R=[u];let B,z,N;for(;R.length;)if(this.rank(B=R.pop()),z=B._targets)for(N=
z.length;0<=--N;)R.push(B=z[N]),B===u&&h.error("Cycle detected in dataflow graph.")},pulse:function(u,R,B){this.touch(u,B||F);B=new lc(this,this._clock+(this._pulse?0:1));const z=u.pulse&&u.pulse.source||[];B.target=u;this._input[u.id]=R.pulse(B,z);return this},touch:function(u,R){R=R||F;this._pulse?this._enqueue(u):this._touched.add(u);R.skip&&u.skip(!0);return this},update:function(u,R,B){B=B||F;(u.set(R)||B.force)&&this.touch(u,B);return this},changeset:Bb,ingest:function(u,R,B){R=this.parse(R,
B);return this.pulse(u,this.changeset().insert(R))},parse:function(u,R){const B=this.locale();return ka.read(u,R,B.timeParse,B.utcParse)},preload:function(u,R,B){const z=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const N=z._pending||ub(z);N.requests+=1;const A=yield z.request(R,B);z.pulse(u,z.changeset().remove(h.truthy).insert(A.data||[]));N.done();return A})},request:function(u,R){const B=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let z=0,N;try{N=
yield B.loader().load(u,{context:"dataflow",response:ka.responseType(R&&R.type)});try{N=B.parse(N,R)}catch(A){z=-2,B.warn("Data ingestion failed",u,A)}}catch(A){z=-1,B.warn("Loading failed",u,A)}return{data:N,status:z}})},events:function(u,R,B,z){const N=this,A=vb(B,z);B=function(D){D.dataflow=N;try{A.receive(D)}catch(H){N.error(H)}finally{N.run()}};u="string"===typeof u&&"undefined"!==typeof document?document.querySelectorAll(u):h.array(u);z=u.length;for(let D=0;D<z;++D)u[D].addEventListener(R,B);
return A},on:function(u,R,B,z,N){(u instanceof ec?wb:sb)(this,u,R,B,z,N);return this},evaluate:function(u,R,B){const z=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const N=[];if(z._pulse)return Wa(z);z._pending&&(yield z._pending);R&&(yield Vb(z,R));if(!z._touched.length)return z.debug("Dataflow invoked, but nothing to do."),z;var A=++z._clock;z._pulse=new lc(z,A,u);z._touched.forEach(P=>z._enqueue(P,!0));z._touched=zb(h.id);var D=0;let H,W,Da;try{for(;0<z._heap.size();)H=
z._heap.pop(),H.rank!==H.qrank?z._enqueue(H,!0):(W=H.run(z._getPulse(H,u)),W.then?W=yield W:W.async&&(N.push(W.async),W=m),W!==m&&H._targets&&H._targets.forEach(P=>z._enqueue(P)),++D)}catch(P){z._heap.clear(),Da=P}z._input={};z._pulse=null;z.debug(`Pulse ${A}: ${D} operators`);Da&&(z._postrun=[],z.error(Da));if(z._postrun.length)for(A=z._postrun.sort((P,ja)=>ja.priority-P.priority),z._postrun=[],D=0;D<A.length;++D)yield Vb(z,A[D].callback);B&&(yield Vb(z,B));N.length&&Promise.all(N).then(P=>z.runAsync(null,
()=>{P.forEach(ja=>{try{ja(z)}catch(Ba){z.error(Ba)}})}));return z})},run:function(u,R,B){return this._pulse?Wa(this):(this.evaluate(u,R,B),this)},runAsync:function(u,R,B){const z=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;z._running;)yield z._running;const N=()=>z._running=null;(z._running=z.evaluate(u,R,B)).then(N,N);return z._running})},runAfter:function(u,R,B){if(this._pulse||R)this._postrun.push({priority:B||0,callback:u});else try{u(this)}catch(z){this.error(z)}},
_enqueue:function(u,R){const B=u.stamp<this._clock;B&&(u.stamp=this._clock);if(B||R)u.qrank=u.rank,this._heap.push(u)},_getPulse:function(u,R){const B=u.source,z=this._clock;return B&&h.isArray(B)?new Ra(this,z,B.map(N=>N.pulse),R):this._input[u.id]||Ja(this._pulse,B&&B.pulse)}};h.inherits(gb,ec,{run(u){if(u.stamp<this.stamp)return u.StopPropagation;let R;this.skip()?this.skip(!1):R=this.evaluate(u);R=R||u;R.then?R=R.then(B=>this.pulse=B):R!==u.StopPropagation&&(this.pulse=R);return R},evaluate(u){const R=
this.marshall(u.stamp);u=this.transform(R,u);R.clear();return u},transform(){}});const L={};w.Dataflow=tb;w.EventStream=$a;w.MultiPulse=Ra;w.Operator=ec;w.Parameters=Rb;w.Pulse=lc;w.Transform=gb;w.UniqueList=zb;w.asyncCallback=Vb;w.changeset=Bb;w.definition=function(u){return(u=V(u))&&u.Definition||null};w.derive=function(u){return Ub(u,Zb({}))};w.ingest=Zb;w.isChangeSet=jc;w.isTuple=function(u){return!(!u||!u[aa])};w.rederive=Ub;w.replace=function(u,R){R[aa]=u[aa];return R};w.stableCompare=function(u,
R){return u?R?(B,z)=>u(B,z)||R(B)[aa]-R(z)[aa]:(B,z)=>u(B,z)||B[aa]-z[aa]:null};w.transform=V;w.transforms=L;w.tupleid=function(u){return u[aa]}})};
shadow$provide[30]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya):"function"===typeof define&&define.amd?define(["exports"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={}))})(this,function(w){function*h(B,z){if(null==z)for(var N of B)null!=N&&""!==N&&(N=+N)>=N&&(yield N);else{N=-1;for(let A of B)A=z(A,++N,B),null!=A&&""!==A&&(A=+A)>=A&&(yield A)}}function ka(B,z){return null==B||null==z?NaN:B<z?-1:B>z?1:B>=z?0:NaN}function Za(B){return null===
B?NaN:+B}function*zb(B,z){if(void 0===z)for(var N of B)null!=N&&(N=+N)>=N&&(yield N);else{N=-1;for(let A of B)null!=(A=z(A,++N,B))&&(A=+A)>=A&&(yield A)}}function Vb(B=ka){if(B===ka)return Zb;if("function"!==typeof B)throw new TypeError("compare is not a function");return(z,N)=>{const A=B(z,N);return A||0===A?A:(0===B(N,N))-(0===B(z,z))}}function Zb(B,z){return(null==B||!(B>=B))-(null==z||!(z>=z))||(B<z?-1:B>z?1:0)}function Ub(B,z){let N;if(void 0===z)for(var A of B)null!=A&&(N<A||void 0===N&&A>=
A)&&(N=A);else{A=-1;for(let D of B)null!=(D=z(D,++A,B))&&(N<D||void 0===N&&D>=D)&&(N=D)}return N}function jc(B,z){let N;if(void 0===z)for(var A of B)null!=A&&(N>A||void 0===N&&A>=A)&&(N=A);else{A=-1;for(let D of B)null!=(D=z(D,++A,B))&&(N>D||void 0===N&&D>=D)&&(N=D)}return N}function Bb(B,z,N=0,A=Infinity,D){z=Math.floor(z);N=Math.floor(Math.max(0,N));A=Math.floor(Math.min(B.length-1,A));if(!(N<=z&&z<=A))return B;for(D=void 0===D?Zb:Vb(D);A>N;){if(600<A-N){var H=A-N+1,W=z-N+1,Da=Math.log(H),P=.5*
Math.exp(2*Da/3);Da=.5*Math.sqrt(Da*P*(H-P)/H)*(0>W-H/2?-1:1);Bb(B,z,Math.max(N,Math.floor(z-W*P/H+Da)),Math.min(A,Math.floor(z+(H-W)*P/H+Da)),D)}H=B[z];W=N;P=A;Rb(B,N,z);for(0<D(B[A],H)&&Rb(B,N,A);W<P;){Rb(B,W,P);++W;for(--P;0>D(B[W],H);)++W;for(;0<D(B[P],H);)--P}0===D(B[N],H)?Rb(B,N,P):(++P,Rb(B,P,A));P<=z&&(N=P+1);z<=P&&(A=P-1)}return B}function Rb(B,z,N){const A=B[z];B[z]=B[N];B[N]=A}function ec(B,z,N){B=Float64Array.from(zb(B,N));if((N=B.length)&&!isNaN(z=+z)){if(0>=z||2>N)return jc(B);if(1<=
z)return Ub(B);z*=N-1;N=Math.floor(z);var A=Ub(Bb(B,N).subarray(0,N+1));B=jc(B.subarray(N+1));return A+(B-A)*(z-N)}}function Ea(B,z,N=Za){if((A=B.length)&&!isNaN(z=+z)){if(0>=z||2>A)return+N(B[0],0,B);if(1<=z)return+N(B[A-1],A-1,B);var A;z*=A-1;A=Math.floor(z);var D=+N(B[A],A,B);B=+N(B[A+1],A+1,B);return D+(B-D)*(z-A)}}function $a(B,z,N){const A=Float64Array.from(h(B,N));A.sort(ka);return z.map(D=>Ea(A,D))}function vb(B,z){return $a(B,[.25,.5,.75],z)}function ub(B,z){const N=B.length;{var A=0;let H,
W=0,Da=0;if(void 0===z)for(var D of B)null!=D&&(D=+D)>=D&&(H=D-W,W+=H/++A,Da+=H*(D-W));else{D=-1;for(let P of B)null!=(P=z(P,++D,B))&&(P=+P)>=P&&(H=P-W,W+=H/++A,Da+=H*(P-W))}A=1<A?Da/(A-1):void 0}A=A?Math.sqrt(A):A;B=vb(B,z);return 1.06*(Math.min(A,(B[2]-B[0])/1.34)||A||Math.abs(B[0])||1)*Math.pow(N,-.2)}function sb(B,z){const N=B.length;let A=0,D=1,H,W;for(;B[A]===B[D];)++D;for(;D<N;){for(H=D+1;B[D]===B[H];)++H;if(B[D]-B[D-1]<z){for(W=D+(A+H-D-D>>1);W<D;)B[W++]=B[D];for(;W>D;)B[W--]=B[A]}A=D;D=H}return B}
function wb(B,z){B=B||0;z=null==z?1:z;let N,A;if(u===u)N=u,u=NaN;else{do{N=2*w.random()-1;A=2*w.random()-1;var D=N*N+A*A}while(0===D||1<D);D=Math.sqrt(-2*Math.log(D)/D);N*=D;u=A*D}return B+N*z}function jb(B,z,N){N=null==N?1:N;B=(B-(z||0))/N;return Math.exp(-.5*B*B)/(N*F)}function lc(B,z,N){B=(B-(z||0))/(null==N?1:N);z=Math.abs(B);37<z?N=0:(N=Math.exp(-z*z/2),7.07106781186547>z?(N*=(((((.0352624965998911*z+.700383064443688)*z+6.37396220353165)*z+33.912866078383)*z+112.079291497871)*z+221.213596169931)*
z+220.206867912376,N/=((((((.0883883476483184*z+1.75566716318264)*z+16.064177579207)*z+86.7807322029461)*z+296.564248779674)*z+637.333633378831)*z+793.826512519948)*z+440.413735824752):N=N/(z+1/(z+2/(z+3/(z+4/(z+.65)))))/2.506628274631);return 0<B?1-N:N}function ta(B,z,N){if(0>B||1<B)return NaN;B=2*B-1;var A=-Math.log((1-B)*(1+B));6.25>A?(A-=3.125,A=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+
(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A):16>A?(A=Math.sqrt(A)-3.25,A=3.0838856104922208+(1.0052589676941592+
(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A):Number.isFinite(A)?(A=Math.sqrt(A)-5,A=4.849906401408584+(1.0103004648645344+
(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A):A=Infinity;return(z||0)+(null==N?1:N)*L*A*B}function ha(B,z){let N,A;const D={mean(H){return arguments.length?(N=
H||0,D):N},stdev(H){return arguments.length?(A=null==H?1:H,D):A},sample:()=>wb(N,A),pdf:H=>jb(H,N,A),cdf:H=>lc(H,N,A),icdf:H=>ta(H,N,A)};return D.mean(B).stdev(z)}function ya(B,z){z=null==z?1:z;return Math.exp((B||0)+wb()*z)}function Ra(B,z,N){if(0>=B)return 0;N=null==N?1:N;z=(Math.log(B)-(z||0))/N;return Math.exp(-.5*z*z)/(N*F*B)}function Wa(B,z,N){return lc(Math.log(B),z,N)}function Ja(B,z,N){return Math.exp(ta(B,z,N))}function ib(B,z){null==z&&(z=null==B?1:B,B=0);return B+(z-B)*w.random()}function cb(B,
z,N){null==N&&(N=null==z?1:z,z=0);return B>=z&&B<=N?1/(N-z):0}function tb(B,z,N){null==N&&(N=null==z?1:z,z=0);return B<z?0:B>N?1:(B-z)/(N-z)}function Pb(B,z,N){null==N&&(N=null==z?1:z,z=0);return 0<=B&&1>=B?z+B*(N-z):NaN}function gb(B,z,N){let A=0,D=0;for(const H of B)B=N(H),null==z(H)||null==B||isNaN(B)||(A+=(B-A)/++D);return{coef:[A],predict:()=>A,rSquared:0}}function V(B,z,N,A){A-=B*B;N=1E-24>Math.abs(A)?0:(N-B*z)/A;return[z-N*B,N]}function aa(B,z,N,A){B=B.filter(Na=>{let Qa=z(Na);Na=N(Na);return null!=
Qa&&(Qa=+Qa)>=Qa&&null!=Na&&(Na=+Na)>=Na});A&&B.sort((Na,Qa)=>z(Na)-z(Qa));A=B.length;const D=new Float64Array(A),H=new Float64Array(A);let W=0,Da=0,P=0,ja,Ba;for(Ba of B)D[W]=B=+z(Ba),H[W]=ja=+N(Ba),++W,Da+=(B-Da)/W,P+=(ja-P)/W;for(W=0;W<A;++W)D[W]-=Da,H[W]-=P;return[D,H,Da,P]}function da(B,z,N,A){let D=-1,H;for(const W of B)B=z(W),H=N(W),null!=B&&(B=+B)>=B&&null!=H&&(H=+H)>=H&&A(B,H,++D)}function ia(B,z,N,A,D){let H=0,W=0;da(B,z,N,(Da,P)=>{Da=P-D(Da);P-=A;H+=Da*Da;W+=P*P});return 1-H/W}function Ma(B,
z,N){let A=0,D=0,H=0,W=0,Da=0;da(B,z,N,(Ba,Na)=>{++Da;A+=(Ba-A)/Da;D+=(Na-D)/Da;H+=(Ba*Na-H)/Da;W+=(Ba*Ba-W)/Da});const P=V(A,D,H,W),ja=Ba=>P[0]+P[1]*Ba;return{coef:P,predict:ja,rSquared:ia(B,z,N,D,ja)}}function pa(B,z,N){const [A,D,H,W]=aa(B,z,N);var Da=A.length,P=0;let ja=0;var Ba=0;let Na=0,Qa=0,eb,xb,kb,Sb;for(eb=0;eb<Da;)xb=A[eb],kb=D[eb++],Sb=xb*xb,P+=(Sb-P)/eb,ja+=(Sb*xb-ja)/eb,Ba+=(Sb*Sb-Ba)/eb,Na+=(xb*kb-Na)/eb,Qa+=(Sb*kb-Qa)/eb;Da=Ba-P*P;Ba=P*Da-ja*ja;const X=(Qa*P-Na*ja)/Ba,Ha=(Na*Da-Qa*
ja)/Ba,Nb=-X*P;P=nc=>{nc-=H;return X*nc*nc+Ha*nc+Nb+W};return{coef:[Nb-Ha*H+X*H*H+W,Ha-2*X*H,X],predict:P,rSquared:ia(B,z,N,W,P)}}function sa(B,z,N,A){const D=Array(B);let H,W,Da;for(H=0;H<B;++H)D[H]=0;for(H=B-1;0<=H;--H)for(W=z[H],Da=1,D[H]+=W,B=1;B<=H;++B)Da*=(H+1-B)/B,D[H-B]+=W*Math.pow(N,B)*Da;D[0]+=A;return D}function m(B){const z=B.length-1,N=[];let A,D,H,W,Da;for(A=0;A<z;++A){W=A;for(D=A+1;D<z;++D)Math.abs(B[A][D])>Math.abs(B[A][W])&&(W=D);for(H=A;H<z+1;++H)Da=B[H][A],B[H][A]=B[H][W],B[H][W]=
Da;for(D=A+1;D<z;++D)for(H=z;H>=A;H--)B[H][D]-=B[H][A]*B[A][D]/B[A][A]}for(D=z-1;0<=D;--D){Da=0;for(H=D+1;H<z;++H)Da+=B[H][D]*N[H];N[D]=(B[z][D]-Da)/B[D][D]}return N}w.random=Math.random;const F=Math.sqrt(2*Math.PI),L=Math.SQRT2;let u=NaN;const R=.5*Math.PI/180;w.bandwidthNRD=ub;w.bin=function(B){var z=B.maxbins||20;const N=B.base||10,A=Math.log(N),D=B.divide||[5,2];let H=B.extent[0],W=B.extent[1];let Da,P,ja,Ba;const Na=B.span||W-H||Math.abs(H)||1;if(B.step)var Qa=B.step;else if(B.steps){P=Na/z;
ja=0;for(Ba=B.steps.length;ja<Ba&&B.steps[ja]<P;++ja);Qa=B.steps[Math.max(0,ja-1)]}else{Qa=Math.ceil(Math.log(z)/A);Da=B.minstep||0;for(Qa=Math.max(Da,Math.pow(N,Math.round(Math.log(Na)/A)-Qa));Math.ceil(Na/Qa)>z;)Qa*=N;ja=0;for(Ba=D.length;ja<Ba;++ja)P=Qa/D[ja],P>=Da&&Na/P<=z&&(Qa=P)}P=Math.log(Qa);z=Math.pow(N,-(0<=P?0:~~(-P/A)+1)-1);if(B.nice||void 0===B.nice)P=Math.floor(H/Qa+z)*Qa,H=H<P?P-Qa:P,W=Math.ceil(W/Qa)*Qa;return{start:H,stop:W===H?H+Qa:W,step:Qa}};w.bootstrapCI=function(B,z,N,A){if(!B.length)return[void 0,
void 0];B=Float64Array.from(h(B,A));A=B.length;let D,H,W,Da;W=0;for(Da=Array(z);W<z;++W){for(H=D=0;H<A;++H)D+=B[~~(w.random()*A)];Da[W]=D/A}Da.sort(ka);return[ec(Da,N/2),ec(Da,1-N/2)]};w.cumulativeLogNormal=Wa;w.cumulativeNormal=lc;w.cumulativeUniform=tb;w.densityLogNormal=Ra;w.densityNormal=jb;w.densityUniform=cb;w.dotbin=function(B,z,N,A){A=A||(Qa=>Qa);const D=B.length,H=new Float64Array(D);let W=0,Da=1,P=A(B[0]),ja=P,Ba=P+z,Na;for(;Da<D;++Da){Na=A(B[Da]);if(Na>=Ba){for(ja=(P+ja)/2;W<Da;++W)H[W]=
ja;Ba=Na+z;P=Na}ja=Na}for(ja=(P+ja)/2;W<Da;++W)H[W]=ja;return N?sb(H,z+z/4):H};w.quantileLogNormal=Ja;w.quantileNormal=ta;w.quantileUniform=Pb;w.quantiles=$a;w.quartiles=vb;w.randomInteger=function(B,z){null==z&&(z=B,B=0);let N,A,D;const H={min(W){return arguments.length?(N=W||0,D=A-N,H):N},max(W){return arguments.length?(A=W||0,D=A-N,H):A},sample(){return N+Math.floor(D*w.random())},pdf(W){return W===Math.floor(W)&&W>=N&&W<A?1/D:0},cdf(W){W=Math.floor(W);return W<N?0:W>=A?1:(W-N+1)/D},icdf(W){return 0<=
W&&1>=W?N-1+Math.floor(W*D):NaN}};return H.min(B).max(z)};w.randomKDE=function(B,z){const N=ha();let A=0;const D={data(H){return arguments.length?(A=(B=H)?H.length:0,D.bandwidth(z)):B},bandwidth(H){if(!arguments.length)return z;z=H;!z&&B&&(z=ub(B));return D},sample(){return B[~~(w.random()*A)]+z*N.sample()},pdf(H){let W=0,Da=0;for(;Da<A;++Da)W+=N.pdf((H-B[Da])/z);return W/z/A},cdf(H){let W=0,Da=0;for(;Da<A;++Da)W+=N.cdf((H-B[Da])/z);return W/A},icdf(){throw Error("KDE icdf not supported.");}};return D.data(B)};
w.randomLCG=function(B){return function(){B=(1103515245*B+12345)%2147483647;return B/2147483647}};w.randomLogNormal=function(B,z){let N,A;const D={mean(H){return arguments.length?(N=H||0,D):N},stdev(H){return arguments.length?(A=null==H?1:H,D):A},sample:()=>ya(N,A),pdf:H=>Ra(H,N,A),cdf:H=>Wa(H,N,A),icdf:H=>Ja(H,N,A)};return D.mean(B).stdev(z)};w.randomMixture=function(B,z){let N=0,A;const D={weights(H){if(arguments.length){var W=z=H||[];const Da=[];let P=0,ja;for(ja=0;ja<N;++ja)P+=Da[ja]=null==W[ja]?
1:+W[ja];for(ja=0;ja<N;++ja)Da[ja]/=P;A=Da;return D}return z},distributions(H){return arguments.length?(H?(N=H.length,B=H):(N=0,B=[]),D.weights(z)):B},sample(){const H=w.random();let W=B[N-1],Da=A[0],P=0;for(;P<N-1;Da+=A[++P])if(H<Da){W=B[P];break}return W.sample()},pdf(H){let W=0,Da=0;for(;Da<N;++Da)W+=A[Da]*B[Da].pdf(H);return W},cdf(H){let W=0,Da=0;for(;Da<N;++Da)W+=A[Da]*B[Da].cdf(H);return W},icdf(){throw Error("Mixture icdf not supported.");}};return D.distributions(B).weights(z)};w.randomNormal=
ha;w.randomUniform=function(B,z){let N,A;const D={min(H){return arguments.length?(N=H||0,D):N},max(H){return arguments.length?(A=null==H?1:H,D):A},sample:()=>ib(N,A),pdf:H=>cb(H,N,A),cdf:H=>tb(H,N,A),icdf:H=>Pb(H,N,A)};null==z&&(z=null==B?1:B,B=0);return D.min(B).max(z)};w.regressionConstant=gb;w.regressionExp=function(B,z,N){const [A,,D,H]=aa(B,z,N);let W=0,Da=0,P=0,ja=0,Ba=0,Na,Qa,eb;da(B,z,N,(X,Ha)=>{Na=A[Ba++];Qa=Math.log(Ha);eb=Na*Ha;W+=(Ha*Qa-W)/Ba;Da+=(eb-Da)/Ba;P+=(eb*Qa-P)/Ba;ja+=(Na*eb-
ja)/Ba});const [xb,kb]=V(Da/H,W/H,P/H,ja/H),Sb=X=>Math.exp(xb+kb*(X-D));return{coef:[Math.exp(xb-kb*D),kb],predict:Sb,rSquared:ia(B,z,N,H,Sb)}};w.regressionLinear=Ma;w.regressionLoess=function(B,z,N,A){const [D,H,W,Da]=aa(B,z,N,!0);B=D.length;z=Math.max(2,~~(A*B));A=new Float64Array(B);N=new Float64Array(B);var P=(new Float64Array(B)).fill(1);for(var ja=-1;2>=++ja;){var Ba=[0,z-1];for(let Nb=0;Nb<B;++Nb){var Na=D[Nb],Qa=Ba[0],eb=Ba[1],xb=0,kb=0,Sb=0,X=0;let nc=0;const Wb=1/Math.abs(D[Na-D[Qa]>D[eb]-
Na?Qa:eb]-Na||1);for(;Qa<=eb;++Qa){const sc=D[Qa],Oc=H[Qa];var Ha=Math.abs(Na-sc)*Wb;const ra=(Ha=1-Ha*Ha*Ha)*Ha*Ha*P[Qa];Ha=sc*ra;xb+=ra;kb+=Ha;Sb+=Oc*ra;X+=Oc*Ha;nc+=sc*Ha}const [Jb,Lb]=V(kb/xb,Sb/xb,X/xb,nc/xb);A[Nb]=Jb+Lb*Na;N[Nb]=Math.abs(H[Nb]-A[Nb]);Na=D;eb=Nb+1;xb=Ba;kb=Na[eb];Sb=xb[0];X=xb[1]+1;if(!(X>=Na.length))for(;eb>Sb&&Na[X]-kb<=kb-Na[Sb];)xb[0]=++Sb,xb[1]=X,++X}if(2===ja)break;Ba=ec(N,.5,void 0);if(1E-12>Math.abs(Ba))break;for(let Nb=0,nc,Wb;Nb<B;++Nb)nc=N[Nb]/(6*Ba),P[Nb]=1<=nc?1E-12:
(Wb=1-nc*nc)*Wb}B=D.length;z=[];P=N=0;for(ja=[];N<B;++N)Ba=D[N]+W,ja[0]===Ba?ja[1]+=(A[N]-ja[1])/++P:(P=0,ja[1]+=Da,ja=[Ba,A[N]],z.push(ja));ja[1]+=Da;return z};w.regressionLog=function(B,z,N){let A=0,D=0,H=0,W=0,Da=0;da(B,z,N,(Ba,Na)=>{++Da;Ba=Math.log(Ba);A+=(Ba-A)/Da;D+=(Na-D)/Da;H+=(Ba*Na-H)/Da;W+=(Ba*Ba-W)/Da});const P=V(A,D,H,W),ja=Ba=>P[0]+P[1]*Math.log(Ba);return{coef:P,predict:ja,rSquared:ia(B,z,N,D,ja)}};w.regressionPoly=function(B,z,N,A){if(0===A)return gb(B,z,N);if(1===A)return Ma(B,z,
N);if(2===A)return pa(B,z,N);const [D,H,W,Da]=aa(B,z,N);var P=D.length;const ja=[],Ba=[],Na=A+1;let Qa,eb,xb,kb;for(Qa=0;Qa<Na;++Qa){for(xb=eb=0;eb<P;++eb)xb+=Math.pow(D[eb],Qa)*H[eb];ja.push(xb);kb=new Float64Array(Na);for(A=0;A<Na;++A){for(xb=eb=0;eb<P;++eb)xb+=Math.pow(D[eb],Qa+A);kb[A]=xb}Ba.push(kb)}Ba.push(ja);const Sb=m(Ba);P=X=>{X-=W;let Ha=Da+Sb[0]+Sb[1]*X+Sb[2]*X*X;for(Qa=3;Qa<Na;++Qa)Ha+=Sb[Qa]*Math.pow(X,Qa);return Ha};return{coef:sa(Na,Sb,-W,Da),predict:P,rSquared:ia(B,z,N,Da,P)}};w.regressionPow=
function(B,z,N){let A=0,D=0,H=0,W=0,Da=0,P=0;da(B,z,N,(Na,Qa)=>{Na=Math.log(Na);const eb=Math.log(Qa);++P;A+=(Na-A)/P;D+=(eb-D)/P;H+=(Na*eb-H)/P;W+=(Na*Na-W)/P;Da+=(Qa-Da)/P});const ja=V(A,D,H,W),Ba=Na=>ja[0]*Math.pow(Na,ja[1]);ja[0]=Math.exp(ja[0]);return{coef:ja,predict:Ba,rSquared:ia(B,z,N,Da,Ba)}};w.regressionQuad=pa;w.sampleCurve=function(B,z,N,A){N=N||25;A=Math.max(N,A||200);var D=z[0],H=z[1],W=H-D,Da=W/A;z=[[D,B(D)]];var P=[];if(N===A){for(var ja=1;ja<A;++ja){Da=z;P=Da.push;var Ba=D+ja/N*W;
Ba=[Ba,B(Ba)];P.call(Da,Ba)}z.push([H,B(H)]);return z}P.push([H,B(H)]);for(ja=N;0<--ja;)A=P,H=A.push,Ba=D+ja/N*W,Ba=[Ba,B(Ba)],H.call(A,Ba);N=z[0];D=P[P.length-1];W=1/W;A=H=N[1];ja=P.length;for(Ba=0;Ba<ja;++Ba){const Na=P[Ba][1];Na<A&&(A=Na);Na>H&&(H=Na)}for(A=1/(H-A);D;)H=(N[0]+D[0])/2,H=[H,B(H)],H[0]-N[0]>=Da&&Math.abs(Math.atan2(A*(D[1]-N[1]),W*(D[0]-N[0]))-Math.atan2(A*(H[1]-N[1]),W*(H[0]-N[0])))>R?P.push(H):(N=D,z.push(D),P.pop()),D=P[P.length-1];return z};w.sampleLogNormal=ya;w.sampleNormal=
wb;w.sampleUniform=ib;w.setRandom=function(B){w.random=B}})};
shadow$provide[31]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(21),ob(29),ob(30),ob(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega,w.vega,w.vega))})(this,function(w,h,ka,Za,zb){function Vb(y){return K=>{const ua=y.length;let t=1,O=String(y[0](K));for(;t<ua;++t)O+="|"+y[t](K);return O}}function Zb(y){return y&&
y.length?1===y.length?y[0]:Vb(y):function(){return""}}function Ub(y,K){return(ua,t)=>h.extend({name:y,aggregate_param:t,out:ua||y},Kb,K)}function jc(y,K){return y.idx-K.idx}function Bb(y){const K={};y.forEach(t=>K[t.name]=t);const ua=t=>{t.req&&t.req.forEach(O=>{K[O]||ua(K[O]=vc[O]())})};y.forEach(ua);return Object.values(K).sort(jc)}function Rb(){this.missing=this.valid=0;this._ops.forEach(y=>null==y.aggregate_param?y.init(this):y.init(this,y.aggregate_param))}function ec(y,K){null==y||""===y?++this.missing:
y===y&&(++this.valid,this._ops.forEach(ua=>ua.add(this,y,K)))}function Ea(y,K){null==y||""===y?--this.missing:y===y&&(--this.valid,this._ops.forEach(ua=>ua.rem(this,y,K)))}function $a(y){this._out.forEach(K=>y[K.out]=K.value(this));return y}function vb(y,K){function ua(ba){this._ops=t;this._out=O;this.cell=ba;this.init()}K=K||h.identity;const t=Bb(y),O=y.slice().sort(jc);ua.prototype.init=Rb;ua.prototype.add=ec;ua.prototype.rem=Ea;ua.prototype.set=$a;ua.prototype.get=K;ua.fields=y.map(ba=>ba.out);
return ua}function ub(y){this._key=y?h.field(y):ka.tupleid;this.reset()}function sb(y){ka.Transform.call(this,null,y);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function wb(y){ka.Transform.call(this,null,y)}function jb(y,K,ua){let t=K||[],O=ua||[],ba={},xa=0;return{add:oa=>O.push(oa),remove:oa=>ba[y(oa)]=++xa,size:()=>t.length,data:(oa,ab)=>
{xa&&(t=t.filter(Qb=>!ba[y(Qb)]),ba={},xa=0);ab&&oa&&t.sort(oa);O.length&&(t=oa?h.merge(oa,t,O.sort(oa)):t.concat(O),O=[]);return t}}}function lc(y){ka.Transform.call(this,[],y)}function ta(y){ka.Operator.call(this,null,ha,y)}function ha(y){return this.value&&!y.modified()?this.value:h.compare(y.fields,y.orders)}function ya(y){ka.Transform.call(this,null,y)}function Ra(y){ka.Transform.call(this,null,y)}function Wa(y,K){var ua=y["function"];h.hasOwnProperty(kd,ua)||h.error("Unknown distribution function: "+
ua);ua=kd[ua]();for(const t in y)if("field"===t)ua.data((y.from||K()).map(y[t]));else if("distributions"===t)ua[t](y[t].map(O=>Wa(O,K)));else if("function"===typeof ua[t])ua[t](y[t]);return ua}function Ja(y){ka.Transform.call(this,null,y)}function ib(y){return()=>y.materialize(y.SOURCE).source}function cb(y,K){return y?y.map((ua,t)=>K[t]||h.accessorName(ua)):null}function tb(y,K,ua){const t=[],O=ic=>ic(ab);let ba,xa,oa,ab,Qb,Yb;if(null==K)t.push(y.map(ua));else for(ba={},xa=0,oa=y.length;xa<oa;++xa)ab=
y[xa],Qb=K.map(O),Yb=ba[Qb],Yb||(ba[Qb]=Yb=[],Yb.dims=Qb,t.push(Yb)),Yb.push(ua(ab));return t}function Pb(y){ka.Transform.call(this,null,y)}function gb(y){ka.Operator.call(this,null,V,y);this.modified(!0)}function V(y){const K=y.expr;return this.value&&!y.modified("expr")?this.value:h.accessor(ua=>K(ua,y),h.accessorFields(K),h.accessorName(K))}function aa(y){ka.Transform.call(this,[void 0,void 0],y)}function da(y,K){ka.Operator.call(this,y);this.parent=K;this.count=0}function ia(y){ka.Transform.call(this,
{},y);this._keys=h.fastmap();const K=this._targets=[];K.active=0;K.forEach=ua=>{for(let t=0,O=K.active;t<O;++t)ua(K[t],t,K)}}function Ma(y){ka.Operator.call(this,null,pa,y)}function pa(y){return this.value&&!y.modified()?this.value:h.isArray(y.name)?h.array(y.name).map(K=>h.field(K)):h.field(y.name,y.as)}function sa(y){ka.Transform.call(this,h.fastmap(),y)}function m(y){ka.Transform.call(this,[],y)}function F(y){ka.Transform.call(this,[],y)}function L(y){ka.Transform.call(this,null,y)}function u(y){ka.Transform.call(this,
[],y)}function R(y,K){return null==y||null==K?NaN:y<K?-1:y>K?1:y>=K?0:NaN}function B(y,K){return null==y||null==K?NaN:K<y?-1:K>y?1:K>=y?0:NaN}function z(y){function K(ba,xa,oa=0,ab=ba.length){if(oa<ab){if(0!==ua(xa,xa))return ab;do{const Qb=oa+ab>>>1;0>t(ba[Qb],xa)?oa=Qb+1:ab=Qb}while(oa<ab)}return oa}let ua,t,O;2!==y.length?(ua=R,t=(ba,xa)=>R(y(ba),xa),O=(ba,xa)=>y(ba)-xa):(ua=y===R||y===B?y:N,O=t=y);return{left:K,center:function(ba,xa,oa=0,ab=ba.length){ab=K(ba,xa,oa,ab-1);return ab>oa&&O(ba[ab-
1],xa)>-O(ba[ab],xa)?ab-1:ab},right:function(ba,xa,oa=0,ab=ba.length){if(oa<ab){if(0!==ua(xa,xa))return ab;do{const Qb=oa+ab>>>1;0>=t(ba[Qb],xa)?oa=Qb+1:ab=Qb}while(oa<ab)}return oa}}}function N(){return 0}function*A(y,K){if(void 0===K)for(var ua of y)null!=ua&&(ua=+ua)>=ua&&(yield ua);else{ua=-1;for(let t of y)null!=(t=K(t,++ua,y))&&(t=+t)>=t&&(yield t)}}function D(y=R){if(y===R)return H;if("function"!==typeof y)throw new TypeError("compare is not a function");return(K,ua)=>{const t=y(K,ua);return t||
0===t?t:(0===y(ua,ua))-(0===y(K,K))}}function H(y,K){return(null==y||!(y>=y))-(null==K||!(K>=K))||(y<K?-1:y>K?1:0)}function W(y,K){let ua;if(void 0===K)for(var t of y)null!=t&&(ua<t||void 0===ua&&t>=t)&&(ua=t);else{t=-1;for(let O of y)null!=(O=K(O,++t,y))&&(ua<O||void 0===ua&&O>=O)&&(ua=O)}return ua}function Da(y,K){let ua;if(void 0===K)for(var t of y)null!=t&&(ua>t||void 0===ua&&t>=t)&&(ua=t);else{t=-1;for(let O of y)null!=(O=K(O,++t,y))&&(ua>O||void 0===ua&&O>=O)&&(ua=O)}return ua}function P(y,
K,ua=0,t=Infinity,O){K=Math.floor(K);ua=Math.floor(Math.max(0,ua));t=Math.floor(Math.min(y.length-1,t));if(!(ua<=K&&K<=t))return y;for(O=void 0===O?H:D(O);t>ua;){if(600<t-ua){var ba=t-ua+1,xa=K-ua+1,oa=Math.log(ba),ab=.5*Math.exp(2*oa/3);oa=.5*Math.sqrt(oa*ab*(ba-ab)/ba)*(0>xa-ba/2?-1:1);P(y,K,Math.max(ua,Math.floor(K-xa*ab/ba+oa)),Math.min(t,Math.floor(K+(ba-xa)*ab/ba+oa)),O)}ba=y[K];xa=ua;ab=t;ja(y,ua,K);for(0<O(y[t],ba)&&ja(y,ua,t);xa<ab;){ja(y,xa,ab);++xa;for(--ab;0>O(y[xa],ba);)++xa;for(;0<O(y[ab],
ba);)--ab}0===O(y[ua],ba)?ja(y,ua,ab):(++ab,ja(y,ab,t));ab<=K&&(ua=ab+1);K<=ab&&(t=ab-1)}return y}function ja(y,K,ua){const t=y[K];y[K]=y[ua];y[ua]=t}function Ba(y,K,ua){y=+y;K=+K;ua=2>(O=arguments.length)?(K=y,y=0,1):3>O?1:+ua;for(var t=-1,O=Math.max(0,Math.ceil((K-y)/ua))|0,ba=Array(O);++t<O;)ba[t]=y+t*ua;return ba}function Na(y){ka.Transform.call(this,[],y)}function Qa(y){var K=y.method||Pc.value;if(null==Pc[K])h.error("Unrecognized imputation method: "+K);else{if(K===Pc.value){var ua=void 0!==
y.value?y.value:0;return()=>ua}return Pc[K]}}function eb(y){const K=y.field;return ua=>ua?K(ua):NaN}function xb(y,K,ua,t){var O=Wc=>Wc(ic),ba=[];t=t?t.slice():[];var xa={},oa={},ab,Qb;t.forEach((Wc,td)=>xa[Wc]=td+1);var Yb=0;for(Qb=y.length;Yb<Qb;++Yb){var ic=y[Yb];var Ac=ua(ic);var Mc=xa[Ac]||(xa[Ac]=t.push(Ac));var Nc=(Ac=K?K.map(O):hd)+"";(ab=oa[Nc])||(ab=oa[Nc]=[],ba.push(ab),ab.values=Ac);ab[Mc-1]=ic}ba.domain=t;return ba}function kb(y){sb.call(this,y)}function Sb(y){ka.Transform.call(this,null,
y)}function X(y){ka.Operator.call(this,null,Ha,y)}function Ha(y){return this.value&&!y.modified()?this.value:h.key(y.fields,y.flat)}function Nb(y){ka.Transform.call(this,[],y);this._pending=null}function nc(y){return y.modified("async")&&!(y.modified("values")||y.modified("url")||y.modified("format"))}function Wb(y,K,ua){ua.forEach(ka.ingest);K=K.fork(K.NO_FIELDS&K.NO_SOURCE);K.rem=y.value;y.value=K.source=K.add=ua;y._pending=null;K.rem.length&&K.clean(!0);return K}function Jb(y){ka.Transform.call(this,
{},y)}function Lb(y){ka.Operator.call(this,null,sc,y)}function sc(y){if(this.value&&!y.modified())return this.value;y=y.extents;const K=y.length;let ua=Infinity,t=-Infinity,O,ba;for(O=0;O<K;++O)ba=y[O],ba[0]<ua&&(ua=ba[0]),ba[1]>t&&(t=ba[1]);return[ua,t]}function Oc(y){ka.Operator.call(this,null,ra,y)}function ra(y){return this.value&&!y.modified()?this.value:y.values.reduce((K,ua)=>K.concat(ua),[])}function Eb(y){ka.Transform.call(this,null,y)}function Ta(y){sb.call(this,y)}function yb(y,K){const ua=
y.field,t=y.value,O=("count"===y.op?"__count__":y.op)||"sum",ba=h.accessorFields(ua).concat(h.accessorFields(t)),xa=Cb(ua,y.limit||0,K);K.changed()&&y.set("__pivot__",null,null,!0);return{key:y.key,groupby:y.groupby,ops:xa.map(()=>O),fields:xa.map(oa=>Gb(oa,ua,t,ba)),as:xa.map(oa=>oa+""),modified:y.modified.bind(y)}}function Gb(y,K,ua,t){return h.accessor(O=>K(O)===y?ua(O):NaN,t,y+"")}function Cb(y,K,ua){const t={},O=[];ua.visit(ua.SOURCE,ba=>{ba=y(ba);t[ba]||(t[ba]=1,O.push(ba))});O.sort(h.ascending);
return K?O.slice(0,K):O}function Xb(y){ia.call(this,y)}function gc(y){ka.Transform.call(this,null,y)}function wc(y){ka.Transform.call(this,null,y)}function Xc(y){ka.Transform.call(this,null,y)}function Kc(y){ka.Transform.call(this,null,y)}function na(y){ka.Transform.call(this,[],y);this.count=0}function Ia(y){ka.Transform.call(this,null,y)}function hb(y){ka.Transform.call(this,null,y);this.modified(!0)}function S(y){ka.Transform.call(this,null,y)}function v(y){ka.Transform.call(this,h.fastmap(),y)}
function ca(y){ka.Transform.call(this,null,y)}function za(y,K,ua,t){const O=ad[y](K,ua);return{init:O.init||h.zero,update:function(ba,xa){xa[t]=O.next(ba)}}}function Fa(y){function K(Nc){h.array(h.accessorFields(Nc)).forEach(Wc=>Qb[Wc]=1)}const ua=h.array(y.ops),t=h.array(y.fields),O=h.array(y.params),ba=h.array(y.aggregate_params),xa=h.array(y.as),oa=this.outputs=[],ab=this.windows=[],Qb={},Yb={},ic=[],Ac=[];let Mc=!0;K(y.sort);ua.forEach((Nc,Wc)=>{const td=t[Wc];var ud=O[Wc];const ee=ba[Wc]||null,
Kd=h.accessorName(td);Wc=xa[Wc]||Nc+(Kd?"_"+Kd:"");K(td);oa.push(Wc);h.hasOwnProperty(ad,Nc)?ab.push(za(Nc,td,ud,Wc)):(null==td&&"count"!==Nc&&h.error("Null aggregate field specified."),"count"===Nc?ic.push(Wc):(Mc=!1,ud=Yb[Kd],ud||(ud=Yb[Kd]=[],ud.field=td,Ac.push(ud)),ud.push(vc[Nc](Wc,ee))))});if(ic.length||Ac.length)this.cell=Ua(Ac,ic,Mc);this.inputs=Object.keys(Qb)}function Ua(y,K,ua){y=y.map(ab=>vb(ab,ab.field));const t={num:0,agg:null,store:!1,count:K};if(!ua)for(var O=y.length,ba=t.agg=Array(O),
xa=0;xa<O;++xa)ba[xa]=new y[xa](t);if(t.store)var oa=t.data=new ub;t.add=function(ab){t.num+=1;if(!ua){oa&&oa.add(ab);for(let Qb=0;Qb<O;++Qb)ba[Qb].add(ba[Qb].get(ab),ab)}};t.rem=function(ab){--t.num;if(!ua){oa&&oa.rem(ab);for(let Qb=0;Qb<O;++Qb)ba[Qb].rem(ba[Qb].get(ab),ab)}};t.set=function(ab){let Qb,Yb;oa&&oa.values();Qb=0;for(Yb=K.length;Qb<Yb;++Qb)ab[K[Qb]]=t.num;if(!ua)for(Qb=0,Yb=ba.length;Qb<Yb;++Qb)ba[Qb].set(ab)};t.init=function(){t.num=0;oa&&oa.reset();for(let ab=0;ab<O;++ab)ba[ab].init()};
return t}function mb(y){ka.Transform.call(this,{},y);this._mlen=0;this._mods=[]}function Mb(y,K,ua,t){var O=t.sort;const ba=O&&!t.ignorePeers;t=t.frame||[null,0];y=y.data(ua);ua=y.length;const xa=ba?z(O):null;O={i0:0,i1:0,p0:0,p1:0,index:0,data:y,compare:O||h.constant(-1)};K.init();for(let ic=0;ic<ua;++ic){var oa=O,ab=t,Qb=ic,Yb=ua;oa.p0=oa.i0;oa.p1=oa.i1;oa.i0=null==ab[0]?0:Math.max(0,Qb-Math.abs(ab[0]));oa.i1=null==ab[1]?Yb:Math.min(Yb,Qb+Math.abs(ab[1])+1);oa.index=Qb;if(ba){oa=O;ab=xa;Qb=oa.i0;
Yb=oa.i1-1;const Ac=oa.compare,Mc=oa.data,Nc=Mc.length-1;0<Qb&&!Ac(Mc[Qb],Mc[Qb-1])&&(oa.i0=ab.left(Mc,Mc[Qb]));Yb<Nc&&!Ac(Mc[Yb],Mc[Yb+1])&&(oa.i1=ab.right(Mc,Mc[Yb]))}K.update(O,y[ic])}}const Fb=()=>{},Kb={init:Fb,add:Fb,rem:Fb,idx:0},vc={values:{init:y=>y.cell.store=!0,value:y=>y.cell.data.values(),idx:-1},count:{value:y=>y.cell.num},__count__:{value:y=>y.missing+y.valid},missing:{value:y=>y.missing},valid:{value:y=>y.valid},sum:{init:y=>y.sum=0,value:y=>y.valid?y.sum:void 0,add:(y,K)=>y.sum+=
+K,rem:(y,K)=>y.sum-=K},product:{init:y=>y.product=1,value:y=>y.valid?y.product:void 0,add:(y,K)=>y.product*=K,rem:(y,K)=>y.product/=K},mean:{init:y=>y.mean=0,value:y=>y.valid?y.mean:void 0,add:(y,K)=>(y.mean_d=K-y.mean,y.mean+=y.mean_d/y.valid),rem:(y,K)=>(y.mean_d=K-y.mean,y.mean-=y.valid?y.mean_d/y.valid:y.mean)},average:{value:y=>y.valid?y.mean:void 0,req:["mean"],idx:1},variance:{init:y=>y.dev=0,value:y=>1<y.valid?y.dev/(y.valid-1):void 0,add:(y,K)=>y.dev+=y.mean_d*(K-y.mean),rem:(y,K)=>y.dev-=
y.mean_d*(K-y.mean),req:["mean"],idx:1},variancep:{value:y=>1<y.valid?y.dev/y.valid:void 0,req:["variance"],idx:2},stdev:{value:y=>1<y.valid?Math.sqrt(y.dev/(y.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:y=>1<y.valid?Math.sqrt(y.dev/y.valid):void 0,req:["variance"],idx:2},stderr:{value:y=>1<y.valid?Math.sqrt(y.dev/(y.valid*(y.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:y=>y.cell.data.distinct(y.get),req:["values"],idx:3},ci0:{value:y=>y.cell.data.ci0(y.get),req:["values"],
idx:3},ci1:{value:y=>y.cell.data.ci1(y.get),req:["values"],idx:3},median:{value:y=>y.cell.data.q2(y.get),req:["values"],idx:3},q1:{value:y=>y.cell.data.q1(y.get),req:["values"],idx:3},q3:{value:y=>y.cell.data.q3(y.get),req:["values"],idx:3},min:{init:y=>y.min=void 0,value:y=>y.min=Number.isNaN(y.min)?y.cell.data.min(y.get):y.min,add:(y,K)=>{if(K<y.min||void 0===y.min)y.min=K},rem:(y,K)=>{K<=y.min&&(y.min=NaN)},req:["values"],idx:4},max:{init:y=>y.max=void 0,value:y=>y.max=Number.isNaN(y.max)?y.cell.data.max(y.get):
y.max,add:(y,K)=>{if(K>y.max||void 0===y.max)y.max=K},rem:(y,K)=>{K>=y.max&&(y.max=NaN)},req:["values"],idx:4},argmin:{init:y=>y.argmin=void 0,value:y=>y.argmin||y.cell.data.argmin(y.get),add:(y,K,ua)=>{K<y.min&&(y.argmin=ua)},rem:(y,K)=>{K<=y.min&&(y.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:y=>y.argmax=void 0,value:y=>y.argmax||y.cell.data.argmax(y.get),add:(y,K,ua)=>{K>y.max&&(y.argmax=ua)},rem:(y,K)=>{K>=y.max&&(y.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(y,
K)=>{y.exp=0;y.exp_r=K},value:y=>y.valid?y.exp*(1-y.exp_r)/(1-Math.pow(y.exp_r,y.valid)):void 0,add:(y,K)=>y.exp=y.exp_r*y.exp+K,rem:(y,K)=>y.exp=(y.exp-K/Math.pow(y.exp_r,y.valid-1))/y.exp_r},exponentialb:{value:y=>y.valid?y.exp*(1-y.exp_r):void 0,req:["exponential"],idx:1}},yc=Object.keys(vc).filter(y=>"__count__"!==y);[...yc,"__count__"].forEach(y=>{vc[y]=Ub(y,vc[y])});const Ic=ub.prototype;Ic.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Ic.add=function(y){this._add.push(y)};
Ic.rem=function(y){this._rem.push(y)};Ic.values=function(){this._get=null;if(0===this._rem.length)return this._add;const y=this._add;var K=this._rem;const ua=this._key,t=y.length,O=K.length,ba=Array(t-O),xa={};let oa,ab;for(oa=0;oa<O;++oa)xa[ua(K[oa])]=1;for(K=oa=0;oa<t;++oa)xa[ua(ab=y[oa])]?xa[ua(ab)]=0:ba[K++]=ab;this._rem=[];return this._add=ba};Ic.distinct=function(y){const K=this.values(),ua={};let t=K.length,O=0,ba;for(;0<=--t;)ba=y(K[t])+"",h.hasOwnProperty(ua,ba)||(ua[ba]=1,++O);return O};
Ic.extent=function(y){if(this._get!==y||!this._ext){const K=this.values(),ua=h.extentIndex(K,y);this._ext=[K[ua[0]],K[ua[1]]];this._get=y}return this._ext};Ic.argmin=function(y){return this.extent(y)[0]||{}};Ic.argmax=function(y){return this.extent(y)[1]||{}};Ic.min=function(y){const K=this.extent(y)[0];return null!=K?y(K):void 0};Ic.max=function(y){const K=this.extent(y)[1];return null!=K?y(K):void 0};Ic.quartile=function(y){this._get===y&&this._q||(this._q=Za.quartiles(this.values(),y),this._get=
y);return this._q};Ic.q1=function(y){return this.quartile(y)[0]};Ic.q2=function(y){return this.quartile(y)[1]};Ic.q3=function(y){return this.quartile(y)[2]};Ic.ci=function(y){this._get===y&&this._ci||(this._ci=Za.bootstrapCI(this.values(),1E3,.05,y),this._get=y);return this._ci};Ic.ci0=function(y){return this.ci(y)[0]};Ic.ci1=function(y){return this.ci(y)[1]};sb.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,
values:yc},{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};h.inherits(sb,ka.Transform,{transform(y,K){const ua=this,t=K.fork(K.NO_SOURCE|K.NO_FIELDS),O=y.modified();ua.stamp=t.stamp;ua.value&&(O||K.modified(ua._inputs,!0))?(ua._prev=ua.value,ua.value=O?ua.init(y):Object.create(null),
K.visit(K.SOURCE,ba=>ua.add(ba))):(ua.value=ua.value||ua.init(y),K.visit(K.REM,ba=>ua.rem(ba)),K.visit(K.ADD,ba=>ua.add(ba)));t.modifies(ua._outputs);ua._drop=!1!==y.drop;y.cross&&1<ua._dims.length&&(ua._drop=!1,ua.cross());K.clean()&&ua._drop&&t.clean(!0).runAfter(()=>this.clean());return ua.changes(t)},cross(){function y(oa){let ab,Qb,Yb,ic;for(ab in oa)for(Yb=oa[ab].tuple,Qb=0;Qb<xa;++Qb)ba[Qb][ic=Yb[O[Qb]]]=ic}function K(oa,ab,Qb){const Yb=O[Qb],ic=ba[Qb++];for(const Ac in ic){const Mc=oa?oa+
"|"+Ac:Ac;ab[Yb]=ic[Ac];Qb<xa?K(Mc,ab,Qb):t[Mc]||ua.cell(Mc,ab)}}const ua=this,t=ua.value,O=ua._dnames,ba=O.map(()=>({})),xa=O.length;y(ua._prev);y(t);K("",{},0)},init(y){function K(ud){ud=h.array(h.accessorFields(ud));const ee=ud.length;let Kd=0,ge;for(;Kd<ee;++Kd)O[ge=ud[Kd]]||(O[ge]=1,ua.push(ge))}const ua=this._inputs=[],t=this._outputs=[],O={};this._dims=h.array(y.groupby);this._dnames=this._dims.map(ud=>{const ee=h.accessorName(ud);K(ud);t.push(ee);return ee});this.cellkey=y.key?y.key:Zb(this._dims);
this._countOnly=!0;this._counts=[];this._measures=[];const ba=y.fields||[null],xa=y.ops||["count"],oa=y.aggregate_params||[null];y=y.as||[];const ab=ba.length,Qb={};let Yb,ic,Ac,Mc,Nc,Wc,td;ab!==xa.length&&h.error("Unmatched number of fields and aggregate ops.");for(td=0;td<ab;++td)Yb=ba[td],ic=xa[td],Ac=oa[td]||null,null==Yb&&"count"!==ic&&h.error("Null aggregate field specified."),Nc=h.accessorName(Yb),Wc=y[td]||ic+(Nc?"_"+Nc:""),t.push(Wc),"count"===ic?this._counts.push(Wc):(Mc=Qb[Nc],Mc||(K(Yb),
Mc=Qb[Nc]=[],Mc.field=Yb,this._measures.push(Mc)),"count"!==ic&&(this._countOnly=!1),Mc.push(vc[ic](Wc,Ac)));this._measures=this._measures.map(ud=>vb(ud,ud.field));return Object.create(null)},cellkey:Zb(),cell(y,K){let ua=this.value[y];ua?0===ua.num&&this._drop&&ua.stamp<this.stamp?(ua.stamp=this.stamp,this._adds[this._alen++]=ua):ua.stamp<this.stamp&&(ua.stamp=this.stamp,this._mods[this._mlen++]=ua):(ua=this.value[y]=this.newcell(y,K),this._adds[this._alen++]=ua);return ua},newcell(y,K){y={key:y,
num:0,agg:null,tuple:this.newtuple(K,this._prev&&this._prev[y]),stamp:this.stamp,store:!1};if(!this._countOnly){K=this._measures;const ua=K.length;y.agg=Array(ua);for(let t=0;t<ua;++t)y.agg[t]=new K[t](y)}y.store&&(y.data=new ub);return y},newtuple(y,K){const ua=this._dnames,t=this._dims,O=t.length,ba={};for(let xa=0;xa<O;++xa)ba[ua[xa]]=t[xa](y);return K?ka.replace(K.tuple,ba):ka.ingest(ba)},clean(){const y=this.value;for(const K in y)0===y[K].num&&delete y[K]},add(y){var K=this.cellkey(y);K=this.cell(K,
y);K.num+=1;if(!this._countOnly){K.store&&K.data.add(y);K=K.agg;for(let ua=0,t=K.length;ua<t;++ua)K[ua].add(K[ua].get(y),y)}},rem(y){var K=this.cellkey(y);K=this.cell(K,y);--K.num;if(!this._countOnly){K.store&&K.data.rem(y);K=K.agg;for(let ua=0,t=K.length;ua<t;++ua)K[ua].rem(K[ua].get(y),y)}},celltuple(y){const K=y.tuple,ua=this._counts;y.store&&y.data.values();for(let t=0,O=ua.length;t<O;++t)K[ua[t]]=y.num;if(!this._countOnly){y=y.agg;for(let t=0,O=y.length;t<O;++t)y[t].set(K)}return K},changes(y){const K=
this._adds,ua=this._mods;var t=this._prev;const O=this._drop,ba=y.add,xa=y.rem,oa=y.mod;let ab;var Qb;if(t)for(Qb in t)ab=t[Qb],O&&!ab.num||xa.push(ab.tuple);t=0;for(Qb=this._alen;t<Qb;++t)ba.push(this.celltuple(K[t])),K[t]=null;t=0;for(Qb=this._mlen;t<Qb;++t)ab=ua[t],(0===ab.num&&O?xa:oa).push(this.celltuple(ab)),ua[t]=null;this._alen=this._mlen=0;this._prev=null;return y}});wb.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",
"default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0",
"bin1"]}]};h.inherits(wb,ka.Transform,{transform(y,K){const ua=!1!==y.interval,t=this._bins(y),O=t.start,ba=t.step,xa=y.as||["bin0","bin1"],oa=xa[0],ab=xa[1];y.modified()?(K=K.reflow(!0),y=K.SOURCE):y=K.modified(h.accessorFields(y.field))?K.ADD_MOD:K.ADD;K.visit(y,ua?Qb=>{const Yb=t(Qb);Qb[oa]=Yb;Qb[ab]=null==Yb?null:O+ba*(1+(Yb-O)/ba)}:Qb=>Qb[oa]=t(Qb));return K.modifies(ua?xa:oa)},_bins(y){if(this.value&&!y.modified())return this.value;const K=y.field,ua=Za.bin(y),t=ua.step;let O=ua.start,ba=O+
Math.ceil((ua.stop-O)/t)*t;var xa;null!=(xa=y.anchor)&&(xa-=O+t*Math.floor((xa-O)/t),O+=xa,ba+=xa);xa=function(oa){oa=h.toNumber(K(oa));return null==oa?null:oa<O?-Infinity:oa>ba?Infinity:(oa=Math.max(O,Math.min(oa,ba-t)),O+t*Math.floor(1E-14+(oa-O)/t))};xa.start=O;xa.stop=ua.stop;xa.step=t;return this.value=h.accessor(xa,h.accessorFields(K),y.name||"bin_"+h.accessorName(K))}});lc.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};h.inherits(lc,ka.Transform,{transform(y,
K){const ua=K.fork(K.ALL),t=jb(ka.tupleid,this.value,ua.materialize(ua.ADD).add),O=y.sort;y=K.changed()||O&&(y.modified("sort")||K.modified(O.fields));ua.visit(ua.REM,t.remove);this.modified(y);this.value=ua.source=t.data(ka.stableCompare(O),y);K.source&&K.source.root&&(this.value.root=K.source.root);return ua}});h.inherits(ta,ka.Operator);ya.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper",
"lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};h.inherits(ya,ka.Transform,{transform(y,K){var ua=Yb=>ic=>{ic=oa(ic);var Ac=ba;switch(y.case){case "upper":ic=ic.toUpperCase();break;case "lower":ic=ic.toLowerCase()}ic=ic.match(Ac)||[];var Mc;Ac=0;for(var Nc=ic.length;Ac<Nc;++Ac)xa.test(Mc=ic[Ac])||Yb(Mc)};const t=this._parameterCheck(y,K),O=this._counts,
ba=this._match,xa=this._stop,oa=y.field,ab=y.as||["text","count"],Qb=ua(Yb=>O[Yb]=1+(O[Yb]||0));ua=ua(Yb=>--O[Yb]);t?K.visit(K.SOURCE,Qb):(K.visit(K.ADD,Qb),K.visit(K.REM,ua));return this._finish(K,ab)},_parameterCheck(y,K){let ua=!1;if(y.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(y.stopwords||"")+"$","i"),ua=!0;if(y.modified("pattern")||!this._match)this._match=new RegExp(y.pattern||"[\\w']+","g"),ua=!0;if(y.modified("field")||K.modified(y.field.fields))ua=!0;ua&&(this._counts=
{});return ua},_finish(y,K){const ua=this._counts,t=this._tuples||(this._tuples={}),O=K[0],ba=K[1];y=y.fork(y.NO_SOURCE|y.NO_FIELDS);let xa,oa,ab;for(xa in ua)oa=t[xa],ab=ua[xa]||0,!oa&&ab?(t[xa]=oa=ka.ingest({}),oa[O]=xa,oa[ba]=ab,y.add.push(oa)):0===ab?(oa&&y.rem.push(oa),ua[xa]=null,t[xa]=null):oa[ba]!==ab&&(oa[ba]=ab,y.mod.push(oa));return y.modifies(K)}});Ra.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a",
"b"]}]};h.inherits(Ra,ka.Transform,{transform(y,K){const ua=K.fork(K.NO_SOURCE),t=y.as||["a","b"],O=t[0],ba=t[1];var xa=!this.value||K.changed(K.ADD_REM)||y.modified("as")||y.modified("filter"),oa=this.value;if(xa){oa&&(ua.rem=oa);K=oa=K.materialize(K.SOURCE).source;y=y.filter||h.truthy;xa=[];oa={};for(var ab=K.length,Qb=0,Yb,ic;Qb<ab;++Qb)for(oa[O]=ic=K[Qb],Yb=0;Yb<ab;++Yb)oa[ba]=K[Yb],y(oa)&&(xa.push(ka.ingest(oa)),oa={},oa[O]=ic);ua.add=this.value=xa}else ua.mod=oa;ua.source=this.value;return ua.modifies(t)}});
const kd={kde:Za.randomKDE,mixture:Za.randomMixture,normal:Za.randomNormal,lognormal:Za.randomLogNormal,uniform:Za.randomUniform},$c=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},
params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Ja.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:$c.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:$c},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};h.inherits(Ja,ka.Transform,{transform(y,K){const ua=K.fork(K.NO_SOURCE|K.NO_FIELDS);if(!this.value||K.changed()||y.modified()){const t=Wa(y.distribution,ib(K));K=y.steps||y.minsteps||25;const O=y.steps||y.maxsteps||200;let ba=y.method||"pdf";"pdf"!==ba&&"cdf"!==ba&&h.error("Invalid density method: "+ba);y.extent||t.data||h.error("Missing density extent parameter.");
ba=t[ba];const xa=y.as||["value","density"];y=y.extent||h.extent(t.data());y=Za.sampleCurve(ba,y,K,O).map(oa=>{const ab={};ab[xa[0]]=oa[0];ab[xa[1]]=oa[1];return ka.ingest(ab)});this.value&&(ua.rem=this.value);this.value=ua.add=ua.source=y}return ua}});Pb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
h.inherits(Pb,ka.Transform,{transform(y,K){if(this.value&&!y.modified()&&!K.changed())return K;var ua=K.materialize(K.SOURCE).source;const t=tb(K.source,y.groupby,h.identity),O=y.smooth||!1,ba=y.field;ua=y.step||h.span(h.extent(ua,ba))/30;const xa=ka.stableCompare((Ac,Mc)=>ba(Ac)-ba(Mc));y=y.as||"bin";const oa=t.length;let ab=Infinity,Qb=-Infinity,Yb=0,ic;for(;Yb<oa;++Yb){const Ac=t[Yb].sort(xa);ic=-1;for(const Mc of Za.dotbin(Ac,ua,O,ba))Mc<ab&&(ab=Mc),Mc>Qb&&(Qb=Mc),Ac[++ic][y]=Mc}this.value={start:ab,
stop:Qb,step:ua};return K.reflow(!0).modifies(y)}});h.inherits(gb,ka.Operator);aa.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};h.inherits(aa,ka.Transform,{transform(y,K){var ua=this.value;const t=y.field;y=K.changed()||K.modified(t.fields)||y.modified("field");let O=ua[0],ba=ua[1];if(y||null==O)O=Infinity,ba=-Infinity;K.visit(y?K.SOURCE:K.ADD,xa=>{xa=h.toNumber(t(xa));null!=xa&&(xa<O&&(O=xa),xa>ba&&(ba=xa))});Number.isFinite(O)&&Number.isFinite(ba)||((ua=
h.accessorName(t))&&(ua=` for field "${ua}"`),K.dataflow.warn(`Infinite extent${ua}: [${O}, ${ba}]`),O=ba=void 0);this.value=[O,ba]}});h.inherits(da,ka.Operator,{connect(y){this.detachSubflow=y.detachSubflow;this.targets().add(y);return y.source=this},add(y){this.count+=1;this.value.add.push(y)},rem(y){--this.count;this.value.rem.push(y)},mod(y){this.value.mod.push(y)},init(y){this.value.init(y,y.NO_SOURCE)},evaluate(){return this.value}});h.inherits(ia,ka.Transform,{activate(y){this._targets[this._targets.active++]=
y},subflow(y,K,ua,t){const O=this.value;let ba=h.hasOwnProperty(O,y)&&O[y],xa;ba?ba.value.stamp<ua.stamp&&(ba.init(ua),this.activate(ba)):(xa=t||(xa=this._group[y])&&xa.tuple,t=ua.dataflow,ba=new da(ua.fork(ua.NO_SOURCE),this),t.add(ba).connect(K(t,y,xa)),O[y]=ba,this.activate(ba));return ba},clean(){var y=this.value;let K=0;for(const ua in y)if(0===y[ua].count){const t=y[ua].detachSubflow;t&&t();delete y[ua];++K}K&&(y=this._targets.filter(ua=>ua&&0<ua.count),this.initTargets(y))},initTargets(y){const K=
this._targets,ua=K.length,t=y?y.length:0;let O=0;for(;O<t;++O)K[O]=y[O];for(;O<ua&&null!=K[O];++O)K[O]=null;K.active=t},transform(y,K){const ua=K.dataflow,t=y.key,O=y.subflow,ba=this._keys,xa=y.modified("key"),oa=ab=>this.subflow(ab,O,K);this._group=y.group||{};this.initTargets();K.visit(K.REM,ab=>{const Qb=ka.tupleid(ab),Yb=ba.get(Qb);void 0!==Yb&&(ba.delete(Qb),oa(Yb).rem(ab))});K.visit(K.ADD,ab=>{const Qb=t(ab);ba.set(ka.tupleid(ab),Qb);oa(Qb).add(ab)});xa||K.modified(t.fields)?K.visit(K.MOD,ab=>
{const Qb=ka.tupleid(ab),Yb=ba.get(Qb),ic=t(ab);Yb===ic?oa(ic).mod(ab):(ba.set(Qb,ic),oa(Yb).rem(ab),oa(ic).add(ab))}):K.changed(K.MOD)&&K.visit(K.MOD,ab=>{oa(ba.get(ka.tupleid(ab))).mod(ab)});xa&&K.visit(K.REFLOW,ab=>{const Qb=ka.tupleid(ab),Yb=ba.get(Qb),ic=t(ab);Yb!==ic&&(ba.set(Qb,ic),oa(Yb).rem(ab),oa(ic).add(ab))});K.clean()?ua.runAfter(()=>{this.clean();ba.clean()}):ba.empty>ua.cleanThreshold&&ua.runAfter(ba.clean);return K}});h.inherits(Ma,ka.Operator);sa.Definition={type:"Filter",metadata:{changes:!0},
params:[{name:"expr",type:"expr",required:!0}]};h.inherits(sa,ka.Transform,{transform(y,K){function ua(ic){const Ac=ka.tupleid(ic),Mc=Qb(ic,y),Nc=O.get(Ac);Mc&&Nc?(O.delete(Ac),xa.push(ic)):Mc||Nc?Yb&&Mc&&!Nc&&ab.push(ic):(O.set(Ac,1),oa.push(ic))}const t=K.dataflow,O=this.value,ba=K.fork(),xa=ba.add,oa=ba.rem,ab=ba.mod,Qb=y.expr;let Yb=!0;K.visit(K.REM,ic=>{const Ac=ka.tupleid(ic);O.has(Ac)?O.delete(Ac):oa.push(ic)});K.visit(K.ADD,ic=>{Qb(ic,y)?xa.push(ic):O.set(ka.tupleid(ic),1)});K.visit(K.MOD,
ua);y.modified()&&(Yb=!1,K.visit(K.REFLOW,ua));O.empty>t.cleanThreshold&&t.runAfter(O.clean);return ba}});m.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};h.inherits(m,ka.Transform,{transform(y,K){const ua=K.fork(K.NO_SOURCE),t=y.fields,O=cb(t,y.as||[]),ba=y.index||null,xa=O.length;ua.rem=this.value;K.visit(K.SOURCE,oa=>{const ab=t.map(Nc=>Nc(oa)),Qb=ab.reduce((Nc,Wc)=>Math.max(Nc,
Wc.length),0);let Yb=0,ic,Ac,Mc;for(;Yb<Qb;++Yb){Ac=ka.derive(oa);for(ic=0;ic<xa;++ic)Ac[O[ic]]=null==(Mc=ab[ic][Yb])?null:Mc;ba&&(Ac[ba]=Yb);ua.add.push(Ac)}});this.value=ua.source=ua.add;ba&&ua.modifies(ba);return ua.modifies(O)}});F.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};h.inherits(F,ka.Transform,{transform(y,K){const ua=K.fork(K.NO_SOURCE),t=y.fields,O=t.map(h.accessorName);
y=y.as||["key","value"];const ba=y[0],xa=y[1],oa=t.length;ua.rem=this.value;K.visit(K.SOURCE,ab=>{for(let Qb=0,Yb;Qb<oa;++Qb)Yb=ka.derive(ab),Yb[ba]=O[Qb],Yb[xa]=t[Qb](ab),ua.add.push(Yb)});this.value=ua.source=ua.add;return ua.modifies(y)}});L.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};h.inherits(L,ka.Transform,{transform(y,K){const ua=y.expr,t=y.as,O=y.modified(),ba=y.initonly?
K.ADD:O?K.SOURCE:K.modified(ua.fields)||K.modified(t)?K.ADD_MOD:K.ADD;O&&(K=K.materialize().reflow(!0));y.initonly||K.modifies(t);return K.visit(ba,xa=>xa[t]=ua(xa,y))}});h.inherits(u,ka.Transform,{transform(y,K){K=K.fork(K.ALL);const ua=y.generator;let t=this.value,O=y.size-t.length,ba,xa;if(0<O){for(ba=[];0<=--O;)ba.push(xa=ka.ingest(ua(y))),t.push(xa);K.add=K.add.length?K.materialize(K.ADD).add.concat(ba):ba}else y=t.slice(0,-O),K.rem=K.rem.length?K.materialize(K.REM).rem.concat(y):y,t=t.slice(-O);
K.source=this.value=t;return K}});const Pc={value:"value",median:function(y,K){var ua=.5;y=Float64Array.from(A(y,K));if((K=y.length)&&!isNaN(ua=+ua))if(0>=ua||2>K)y=Da(y);else if(1<=ua)y=W(y);else{ua*=K-1;K=Math.floor(ua);var t=W(P(y,K).subarray(0,K+1));y=Da(y.subarray(K+1));y=t+(y-t)*(ua-K)}else y=void 0;return y},mean:function(y,K){let ua=0,t=0;if(void 0===K)for(var O of y)null!=O&&(O=+O)>=O&&(++ua,t+=O);else{O=-1;for(let ba of y)null!=(ba=K(ba,++O,y))&&(ba=+ba)>=ba&&(++ua,t+=ba)}if(ua)return t/
ua},min:Da,max:W},hd=[];Na.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};h.inherits(Na,ka.Transform,{transform(y,K){var ua=K.fork(K.ALL),t=Qa(y),O=eb(y),ba=h.accessorName(y.field),xa=h.accessorName(y.key),oa=(y.groupby||[]).map(h.accessorName);
y=xb(K.source,y.groupby,y.key,y.keyvals);K=[];var ab=this.value,Qb=y.domain.length,Yb,ic,Ac;var Mc=0;for(ic=y.length;Mc<ic;++Mc){var Nc=y[Mc];var Wc=Nc.values;var td=NaN;for(Yb=0;Yb<Qb;++Yb)if(null==Nc[Yb]){var ud=y.domain[Yb];var ee={_impute:!0};var Kd=0;for(Ac=Wc.length;Kd<Ac;++Kd)ee[oa[Kd]]=Wc[Kd];ee[xa]=ud;ee[ba]=Number.isNaN(td)?td=t(Nc,O):td;K.push(ka.ingest(ee))}}K.length&&(ua.add=ua.materialize(ua.ADD).add.concat(K));ab.length&&(ua.rem=ua.materialize(ua.REM).rem.concat(ab));this.value=K;return ua}});
kb.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:yc},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};h.inherits(kb,sb,{transform(y,K){const ua=this,t=y.modified();let O;ua.value&&(t||K.modified(ua._inputs,!0))?(O=ua.value=t?ua.init(y):{},K.visit(K.SOURCE,ba=>ua.add(ba))):(O=ua.value=ua.value||this.init(y),K.visit(K.REM,ba=>ua.rem(ba)),
K.visit(K.ADD,ba=>ua.add(ba)));ua.changes();K.visit(K.SOURCE,ba=>{h.extend(ba,O[ua.cellkey(ba)].tuple)});return K.reflow(t).modifies(this._outputs)},changes(){const y=this._adds,K=this._mods;let ua,t;ua=0;for(t=this._alen;ua<t;++ua)this.celltuple(y[ua]),y[ua]=null;ua=0;for(t=this._mlen;ua<t;++ua)this.celltuple(K[ua]),K[ua]=null;this._alen=this._mlen=0}});Sb.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",
type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};h.inherits(Sb,ka.Transform,{transform(y,K){const ua=K.fork(K.NO_SOURCE|
K.NO_FIELDS);if(!this.value||K.changed()||y.modified()){K=K.materialize(K.SOURCE).source;const t=tb(K,y.groupby,y.field),O=(y.groupby||[]).map(h.accessorName),ba=y.bandwidth,xa=y.cumulative?"cdf":"pdf",oa=y.as||["value","density"],ab=[];let Qb=y.extent,Yb=y.steps||y.minsteps||25,ic=y.steps||y.maxsteps||200;"pdf"!==xa&&"cdf"!==xa&&h.error("Invalid density method: "+xa);"shared"===y.resolve&&(Qb||(Qb=h.extent(K,y.field)),Yb=ic=y.steps||ic);t.forEach(Ac=>{const Mc=Za.randomKDE(Ac,ba)[xa],Nc=y.counts?
Ac.length:1,Wc=Qb||h.extent(Ac);Za.sampleCurve(Mc,Wc,Yb,ic).forEach(td=>{const ud={};for(let ee=0;ee<O.length;++ee)ud[O[ee]]=Ac.dims[ee];ud[oa[0]]=td[0];ud[oa[1]]=td[1]*Nc;ab.push(ka.ingest(ud))})});this.value&&(ua.rem=this.value);this.value=ua.add=ua.source=ab}return ua}});h.inherits(X,ka.Operator);h.inherits(Nb,ka.Transform,{transform(y,K){const ua=K.dataflow;return this._pending?Wb(this,K,this._pending):nc(y)?K.StopPropagation:y.values?Wb(this,K,ua.parse(y.values,y.format)):y.async?{async:ua.request(y.url,
y.format).then(t=>{this._pending=h.array(t.data);return O=>O.touch(this)})}:ua.request(y.url,y.format).then(t=>Wb(this,K,h.array(t.data)))}});Jb.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};h.inherits(Jb,ka.Transform,{transform(y,
K){const ua=y.fields,t=y.index,O=y.values,ba=null==y.default?null:y.default;var xa=y.modified();const oa=ua.length;let ab=xa?K.SOURCE:K.ADD,Qb=K,Yb=y.as,ic;O?(ic=O.length,1<oa&&!Yb&&h.error('Multi-field lookup requires explicit "as" parameter.'),Yb&&Yb.length!==oa*ic&&h.error('The "as" parameter has too few output field names.'),Yb=Yb||O.map(h.accessorName),y=function(Ac){for(var Mc=0,Nc=0,Wc,td;Mc<oa;++Mc)if(td=t.get(ua[Mc](Ac)),null==td)for(Wc=0;Wc<ic;++Wc,++Nc)Ac[Yb[Nc]]=ba;else for(Wc=0;Wc<ic;++Wc,
++Nc)Ac[Yb[Nc]]=O[Wc](td)}):(Yb||h.error("Missing output field names."),y=function(Ac){for(var Mc=0,Nc;Mc<oa;++Mc)Nc=t.get(ua[Mc](Ac)),Ac[Yb[Mc]]=null==Nc?ba:Nc});xa?Qb=K.reflow(!0):(xa=ua.some(Ac=>K.modified(Ac.fields)),ab|=xa?K.MOD:0);K.visit(ab,y);return Qb.modifies(Yb)}});h.inherits(Lb,ka.Operator);h.inherits(Oc,ka.Operator);h.inherits(Eb,ka.Transform,{transform(y,K){this.modified(y.modified());this.value=y;return K.fork(K.NO_SOURCE|K.NO_FIELDS)}});Ta.Definition={type:"Pivot",metadata:{generates:!0,
changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:yc,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};h.inherits(Ta,sb,{_transform:sb.prototype.transform,transform(y,K){return this._transform(yb(y,K),K)}});h.inherits(Xb,ia,{transform(y,K){const ua=y.subflow,t=y.field,O=ba=>this.subflow(ka.tupleid(ba),ua,K,ba);(y.modified("field")||t&&K.modified(h.accessorFields(t)))&&
h.error("PreFacet does not support field modification.");this.initTargets();t?(K.visit(K.MOD,ba=>{const xa=O(ba);t(ba).forEach(oa=>xa.mod(oa))}),K.visit(K.ADD,ba=>{const xa=O(ba);t(ba).forEach(oa=>xa.add(ka.ingest(oa)))}),K.visit(K.REM,ba=>{const xa=O(ba);t(ba).forEach(oa=>xa.rem(oa))})):(K.visit(K.MOD,ba=>O(ba).mod(ba)),K.visit(K.ADD,ba=>O(ba).add(ba)),K.visit(K.REM,ba=>O(ba).rem(ba)));K.clean()&&K.runAfter(()=>this.clean());return K}});gc.Definition={type:"Project",metadata:{generates:!0,changes:!0},
params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};h.inherits(gc,ka.Transform,{transform(y,K){const ua=K.fork(K.NO_SOURCE),t=y.fields,O=cb(y.fields,y.as||[]),ba=t?(oa,ab)=>{for(let Qb=0,Yb=t.length;Qb<Yb;++Qb)ab[O[Qb]]=t[Qb](oa);return ab}:ka.rederive;let xa;this.value?xa=this.value:(K=K.addAll(),xa=this.value={});K.visit(K.REM,oa=>{oa=ka.tupleid(oa);ua.rem.push(xa[oa]);xa[oa]=null});K.visit(K.ADD,oa=>{const ab=ba(oa,ka.ingest({}));xa[ka.tupleid(oa)]=ab;ua.add.push(ab)});
K.visit(K.MOD,oa=>{ua.mod.push(ba(oa,xa[ka.tupleid(oa)]))});return ua}});h.inherits(wc,ka.Transform,{transform(y,K){this.value=y.value;return y.modified("value")?K.fork(K.NO_SOURCE|K.NO_FIELDS):K.StopPropagation}});Xc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};
h.inherits(Xc,ka.Transform,{transform(y,K){const ua=K.fork(K.NO_SOURCE|K.NO_FIELDS),t=y.as||["prob","value"];if(this.value&&!y.modified()&&!K.changed())return ua.source=this.value,ua;K=K.materialize(K.SOURCE).source;K=tb(K,y.groupby,y.field);const O=(y.groupby||[]).map(h.accessorName),ba=[],xa=y.step||.01,oa=y.probs||Ba(xa/2,1-1E-14,xa),ab=oa.length;K.forEach(Qb=>{const Yb=Za.quantiles(Qb,oa);for(let ic=0;ic<ab;++ic){const Ac={};for(let Mc=0;Mc<O.length;++Mc)Ac[O[Mc]]=Qb.dims[Mc];Ac[t[0]]=oa[ic];
Ac[t[1]]=Yb[ic];ba.push(ka.ingest(Ac))}});this.value&&(ua.rem=this.value);this.value=ua.add=ua.source=ba;return ua}});h.inherits(Kc,ka.Transform,{transform(y,K){let ua,t;this.value?t=this.value:(ua=K=K.addAll(),t=this.value={});y.derive&&(ua=K.fork(K.NO_SOURCE),K.visit(K.REM,O=>{O=ka.tupleid(O);ua.rem.push(t[O]);t[O]=null}),K.visit(K.ADD,O=>{const ba=ka.derive(O);t[ka.tupleid(O)]=ba;ua.add.push(ba)}),K.visit(K.MOD,O=>{const ba=t[ka.tupleid(O)];for(const xa in O)ba[xa]=O[xa],ua.modifies(xa);ua.mod.push(ba)}));
return ua}});na.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};h.inherits(na,ka.Transform,{transform(y,K){function ua(Yb){let ic,Ac;oa.length<ba?oa.push(Yb):(Ac=~~((ab+1)*Za.random()),Ac<oa.length&&Ac>=Qb&&(ic=oa[Ac],xa[ka.tupleid(ic)]&&t.rem.push(ic),oa[Ac]=Yb));++ab}const t=K.fork(K.NO_SOURCE);var O=y.modified("size");const ba=y.size,xa=this.value.reduce((Yb,ic)=>(Yb[ka.tupleid(ic)]=1,Yb),{});let oa=this.value,ab=this.count,Qb=0;K.rem.length&&(K.visit(K.REM,
Yb=>{const ic=ka.tupleid(Yb);xa[ic]&&(xa[ic]=-1,t.rem.push(Yb));--ab}),oa=oa.filter(Yb=>-1!==xa[ka.tupleid(Yb)]));(K.rem.length||O)&&oa.length<ba&&K.source&&(Qb=ab=oa.length,K.visit(K.SOURCE,Yb=>{xa[ka.tupleid(Yb)]||ua(Yb)}),Qb=-1);if(O&&oa.length>ba){y=oa.length-ba;for(O=0;O<y;++O)xa[ka.tupleid(oa[O])]=-1,t.rem.push(oa[O]);oa=oa.slice(y)}K.mod.length&&K.visit(K.MOD,Yb=>{xa[ka.tupleid(Yb)]&&t.mod.push(Yb)});K.add.length&&K.visit(K.ADD,ua);if(K.add.length||0>Qb)t.add=oa.filter(Yb=>!xa[ka.tupleid(Yb)]);
this.count=ab;this.value=t.source=oa;return t}});Ia.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};h.inherits(Ia,ka.Transform,{transform(y,K){if(!this.value||y.modified()){var ua=K.materialize().fork(K.MOD),t=y.as||"data";ua.rem=this.value?K.rem.concat(this.value):K.rem;this.value=Ba(y.start,y.stop,y.step||1).map(O=>
{const ba={};ba[t]=O;return ka.ingest(ba)});ua.add=K.add.concat(this.value);return ua}}});h.inherits(hb,ka.Transform,{transform(y,K){this.value=K.source;return K.changed()?K.fork(K.NO_SOURCE|K.NO_FIELDS):K.StopPropagation}});const md=["unit0","unit1"];S.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:zb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",
type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":md}]};h.inherits(S,ka.Transform,{transform(y,K){const ua=y.field,t=!1!==y.interval;var O="utc"===y.timezone;const ba=this._floor(y,K),xa=(O?zb.utcInterval:zb.timeInterval)(ba.unit).offset;O=y.as||md;const oa=O[0],ab=O[1],Qb=ba.step;let Yb=ba.start||Infinity,ic=ba.stop||-Infinity,Ac=K.ADD;if(y.modified()||K.changed(K.REM)||
K.modified(h.accessorFields(ua)))K=K.reflow(!0),Ac=K.SOURCE,Yb=Infinity,ic=-Infinity;K.visit(Ac,Mc=>{var Nc=ua(Mc);let Wc;null==Nc?(Mc[oa]=null,t&&(Mc[ab]=null)):(Mc[oa]=Nc=Wc=ba(Nc),t&&(Mc[ab]=Wc=xa(Nc,Qb)),Nc<Yb&&(Yb=Nc),Wc>ic&&(ic=Wc))});ba.start=Yb;ba.stop=ic;return K.modifies(t?O:oa)},_floor(y,K){var ua="utc"===y.timezone;const {units:t,step:O}=y.units?{units:y.units,step:y.step||1}:zb.timeBin({extent:y.extent||h.extent(K.materialize(K.SOURCE).source,y.field),maxbins:y.maxbins});y=zb.timeUnits(t);
K=this.value||{};ua=(ua?zb.utcFloor:zb.timeFloor)(y,O);ua.unit=h.peek(y);ua.units=y;ua.step=O;ua.start=K.start;ua.stop=K.stop;return this.value=ua}});h.inherits(v,ka.Transform,{transform(y,K){const ua=K.dataflow,t=y.field,O=this.value,ba=oa=>O.set(t(oa),oa);let xa=!0;y.modified("field")||K.modified(t.fields)?(O.clear(),K.visit(K.SOURCE,ba)):K.changed()?(K.visit(K.REM,oa=>O.delete(t(oa))),K.visit(K.ADD,ba)):xa=!1;this.modified(xa);O.empty>ua.cleanThreshold&&ua.runAfter(O.clean);return K.fork()}});
h.inherits(ca,ka.Transform,{transform(y,K){if(!this.value||y.modified("field")||y.modified("sort")||K.changed()||y.sort&&K.modified(y.sort.fields))this.value=(y.sort?K.source.slice().sort(ka.stableCompare(y.sort)):K.source).map(y.field)}});const ad={row_number:function(){return{next:y=>y.index+1}},rank:function(){let y;return{init:()=>y=1,next:K=>{const ua=K.index,t=K.data;return ua&&K.compare(t[ua-1],t[ua])?y=ua+1:y}}},dense_rank:function(){let y;return{init:()=>y=1,next:K=>{const ua=K.index,t=K.data;
return ua&&K.compare(t[ua-1],t[ua])?++y:y}}},percent_rank:function(){const y=ad.rank(),K=y.next;return{init:y.init,next:ua=>(K(ua)-1)/(ua.data.length-1)}},cume_dist:function(){let y;return{init:()=>y=0,next:K=>{const ua=K.data,t=K.compare;K=K.index;if(y<K){for(;K+1<ua.length&&!t(ua[K],ua[K+1]);)++K;y=K}return(1+y)/ua.length}}},ntile:function(y,K){K=+K;0<K||h.error("ntile num must be greater than zero.");y=ad.cume_dist();const ua=y.next;return{init:y.init,next:t=>Math.ceil(K*ua(t))}},lag:function(y,
K){K=+K||1;return{next:ua=>{const t=ua.index-K;return 0<=t?y(ua.data[t]):null}}},lead:function(y,K){K=+K||1;return{next:ua=>{const t=ua.index+K;ua=ua.data;return t<ua.length?y(ua[t]):null}}},first_value:function(y){return{next:K=>y(K.data[K.i0])}},last_value:function(y){return{next:K=>y(K.data[K.i1-1])}},nth_value:function(y,K){K=+K;0<K||h.error("nth_value nth must be greater than zero.");return{next:ua=>{const t=ua.i0+(K-1);return t<ua.i1?y(ua.data[t]):null}}},prev_value:function(y){let K;return{init:()=>
K=null,next:ua=>{ua=y(ua.data[ua.index]);return null!=ua?K=ua:K}}},next_value:function(y){let K,ua;return{init:()=>(K=null,ua=-1),next:t=>{var O=t.data;if(t.index<=ua)O=K;else{a:{t=t.index;for(let ba=O.length;t<ba;++t)if(null!=y(O[t]))break a;t=-1}O=0>(ua=t)?(ua=O.length,K=null):K=y(O[ua])}return O}}}},ke=Object.keys(ad),id=Fa.prototype;id.init=function(){this.windows.forEach(y=>y.init());this.cell&&this.cell.init()};id.update=function(y,K){const ua=this.cell,t=this.windows,O=y.data,ba=t&&t.length;
let xa;if(ua){for(xa=y.p0;xa<y.i0;++xa)ua.rem(O[xa]);for(xa=y.p1;xa<y.i1;++xa)ua.add(O[xa]);ua.set(K)}for(xa=0;xa<ba;++xa)t[xa].update(y,K)};mb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ke.concat(yc)},{name:"params",type:"number","null":!0,array:!0},{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string",
"null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};h.inherits(mb,ka.Transform,{transform(y,K){this.stamp=K.stamp;const ua=y.modified(),t=ka.stableCompare(y.sort),O=Zb(y.groupby),ba=oa=>this.group(O(oa));let xa=this.state;if(!xa||ua)xa=this.state=new Fa(y);ua||K.modified(xa.inputs)?(this.value={},K.visit(K.SOURCE,oa=>ba(oa).add(oa))):(K.visit(K.REM,oa=>ba(oa).remove(oa)),K.visit(K.ADD,oa=>ba(oa).add(oa)));
for(let oa=0,ab=this._mlen;oa<ab;++oa)Mb(this._mods[oa],xa,t,y);this._mlen=0;this._mods=[];return K.reflow(ua).modifies(xa.outputs)},group(y){let K=this.value[y];K||(K=this.value[y]=jb(ka.tupleid),K.stamp=-1);K.stamp<this.stamp&&(K.stamp=this.stamp,this._mods[this._mlen++]=K);return K}});w.aggregate=sb;w.bin=wb;w.collect=lc;w.compare=ta;w.countpattern=ya;w.cross=Ra;w.density=Ja;w.dotbin=Pb;w.expression=gb;w.extent=aa;w.facet=ia;w.field=Ma;w.filter=sa;w.flatten=m;w.fold=F;w.formula=L;w.generate=u;
w.impute=Na;w.joinaggregate=kb;w.kde=Sb;w.key=X;w.load=Nb;w.lookup=Jb;w.multiextent=Lb;w.multivalues=Oc;w.params=Eb;w.pivot=Ta;w.prefacet=Xb;w.project=gc;w.proxy=wc;w.quantile=Xc;w.relay=Kc;w.sample=na;w.sequence=Ia;w.sieve=hb;w.subflow=da;w.timeunit=S;w.tupleindex=v;w.values=ca;w.window=mb})};
shadow$provide[32]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya):"function"===typeof define&&define.amd?define(["exports"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={}))})(this,function(w){function h(ka,Za){if("undefined"!==typeof document&&document.createElement){const zb=document.createElement("canvas");if(zb&&zb.getContext)return zb.width=ka,zb.height=Za,zb}return null}w.canvas=h;w.domCanvas=h;w.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[33]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(21),ob(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega))})(this,function(w,h,ka){function Za(n,G,M){G=n-G+2*M;return n?0<G?G:1:0}function zb(n){return function(G){let M=G[0];G=G[1];let ma;G<M&&(ma=M,M=G,G=ma);return[n.invert(M),n.invert(G)]}}function Vb(n){return function(G){const M=
n.range();let ma=G[0];G=G[1];let Xa=-1,fb;let qb;if(G<ma){var Ib=ma;ma=G;G=Ib}Ib=0;for(qb=M.length;Ib<qb;++Ib)M[Ib]>=ma&&M[Ib]<=G&&(0>Xa&&(Xa=Ib),fb=Ib);if(!(0>Xa))return ma=n.invertExtent(M[Xa]),G=n.invertExtent(M[fb]),[void 0===ma[0]?ma[1]:ma[0],void 0===G[1]?G[0]:G[1]]}}function Zb(n,G){return null==n||null==G?NaN:n<G?-1:n>G?1:n>=G?0:NaN}function Ub(n,G){return null==n||null==G?NaN:G<n?-1:G>n?1:G>=n?0:NaN}function jc(n){function G(fb,qb,Ib=0,oc=fb.length){if(Ib<oc){if(0!==M(qb,qb))return oc;do{const Sc=
Ib+oc>>>1;0>ma(fb[Sc],qb)?Ib=Sc+1:oc=Sc}while(Ib<oc)}return Ib}let M,ma,Xa;2!==n.length?(M=Zb,ma=(fb,qb)=>Zb(n(fb),qb),Xa=(fb,qb)=>n(fb)-qb):(M=n===Zb||n===Ub?n:Bb,Xa=ma=n);return{left:G,center:function(fb,qb,Ib=0,oc=fb.length){oc=G(fb,qb,Ib,oc-1);return oc>Ib&&Xa(fb[oc-1],qb)>-Xa(fb[oc],qb)?oc-1:oc},right:function(fb,qb,Ib=0,oc=fb.length){if(Ib<oc){if(0!==M(qb,qb))return oc;do{const Sc=Ib+oc>>>1;0>=ma(fb[Sc],qb)?Ib=Sc+1:oc=Sc}while(Ib<oc)}return Ib}}}function Bb(){return 0}function Rb(n){return null===
n?NaN:+n}function ec({_intern:n,_key:G},M){G=G(M);return n.has(G)?n.get(G):M}function Ea({_intern:n,_key:G},M){G=G(M);if(n.has(G))return n.get(G);n.set(G,M);return M}function $a({_intern:n,_key:G},M){G=G(M);n.has(G)&&(M=n.get(G),n.delete(G));return M}function vb(n){return null!==n&&"object"===typeof n?n.valueOf():n}function ub(n,G,M){var ma=(G-n)/Math.max(0,M),Xa=Math.floor(Math.log10(ma));ma/=Math.pow(10,Xa);ma=ma>=Of?10:ma>=Rh?5:ma>=og?2:1;let fb;0>Xa?(fb=Math.pow(10,-Xa)/ma,Xa=Math.round(n*fb),
ma=Math.round(G*fb),Xa/fb<n&&++Xa,ma/fb>G&&--ma,fb=-fb):(fb=Math.pow(10,Xa)*ma,Xa=Math.round(n/fb),ma=Math.round(G/fb),Xa*fb<n&&++Xa,ma*fb>G&&--ma);return ma<Xa&&.5<=M&&2>M?ub(n,G,2*M):[Xa,ma,fb]}function sb(n,G,M){G=+G;n=+n;M=+M;if(!(0<M))return[];if(n===G)return[n];var ma=G<n;const [Xa,fb,qb]=ma?ub(G,n,M):ub(n,G,M);if(!(fb>=Xa))return[];n=fb-Xa+1;G=Array(n);if(ma)if(0>qb)for(ma=0;ma<n;++ma)G[ma]=(fb-ma)/-qb;else for(ma=0;ma<n;++ma)G[ma]=(fb-ma)*qb;else if(0>qb)for(ma=0;ma<n;++ma)G[ma]=(Xa+ma)/-qb;
else for(ma=0;ma<n;++ma)G[ma]=(Xa+ma)*qb;return G}function wb(n,G,M){return ub(+n,+G,+M)[2]}function jb(n,G,M){G=+G;n=+n;M=+M;const ma=G<n;n=ma?wb(G,n,M):wb(n,G,M);return(ma?-1:1)*(0>n?1/-n:n)}function lc(n,G,M=Rb){if((ma=n.length)&&!isNaN(G=+G)){if(0>=G||2>ma)return+M(n[0],0,n);if(1<=G)return+M(n[ma-1],ma-1,n);var ma;G*=ma-1;ma=Math.floor(G);var Xa=+M(n[ma],ma,n);n=+M(n[ma+1],ma+1,n);return Xa+(n-Xa)*(G-ma)}}function ta(n,G,M){n=+n;G=+G;M=2>(Xa=arguments.length)?(G=n,n=0,1):3>Xa?1:+M;for(var ma=
-1,Xa=Math.max(0,Math.ceil((G-n)/M))|0,fb=Array(Xa);++ma<Xa;)fb[ma]=n+ma*M;return fb}function ha(n,G){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(G).domain(n)}return this}function ya(n,G){switch(arguments.length){case 0:break;case 1:"function"===typeof n?this.interpolator(n):this.range(n);break;default:this.domain(n),"function"===typeof G?this.interpolator(G):this.range(G)}return this}function Ra(){function n(fb){let qb=G.get(fb);if(void 0===qb){if(Xa!==vh)return Xa;
G.set(fb,qb=M.push(fb)-1)}return ma[qb%ma.length]}var G=new lh,M=[],ma=[],Xa=vh;n.domain=function(fb){if(!arguments.length)return M.slice();M=[];G=new lh;for(const qb of fb)G.has(qb)||G.set(qb,M.push(qb)-1);return n};n.range=function(fb){return arguments.length?(ma=Array.from(fb),n):ma.slice()};n.unknown=function(fb){return arguments.length?(Xa=fb,n):Xa};n.copy=function(){return Ra(M,ma).unknown(Xa)};ha.apply(n,arguments);return n}function Wa(n,G,M){n.prototype=G.prototype=M;M.constructor=n}function Ja(n,
G){n=Object.create(n.prototype);for(var M in G)n[M]=G[M];return n}function ib(){}function cb(){return this.rgb().formatHex()}function tb(){return this.rgb().formatRgb()}function Pb(n){var G,M;n=(n+"").trim().toLowerCase();return(G=Sh.exec(n))?(M=G[1].length,G=parseInt(G[1],16),6===M?gb(G):3===M?new ia(G>>8&15|G>>4&240,G>>4&15|G&240,(G&15)<<4|G&15,1):8===M?V(G>>24&255,G>>16&255,G>>8&255,(G&255)/255):4===M?V(G>>12&15|G>>8&240,G>>8&15|G>>4&240,G>>4&15|G&240,((G&15)<<4|G&15)/255):null):(G=aj.exec(n))?
new ia(G[1],G[2],G[3],1):(G=Fg.exec(n))?new ia(255*G[1]/100,255*G[2]/100,255*G[3]/100,1):(G=ti.exec(n))?V(G[1],G[2],G[3],G[4]):(G=di.exec(n))?V(255*G[1]/100,255*G[2]/100,255*G[3]/100,G[4]):(G=bj.exec(n))?L(G[1],G[2]/100,G[3]/100,1):(G=ui.exec(n))?L(G[1],G[2]/100,G[3]/100,G[4]):wh.hasOwnProperty(n)?gb(wh[n]):"transparent"===n?new ia(NaN,NaN,NaN,0):null}function gb(n){return new ia(n>>16&255,n>>8&255,n&255,1)}function V(n,G,M,ma){0>=ma&&(n=G=M=NaN);return new ia(n,G,M,ma)}function aa(n){n instanceof
ib||(n=Pb(n));if(!n)return new ia;n=n.rgb();return new ia(n.r,n.g,n.b,n.opacity)}function da(n,G,M,ma){return 1===arguments.length?aa(n):new ia(n,G,M,null==ma?1:ma)}function ia(n,G,M,ma){this.r=+n;this.g=+G;this.b=+M;this.opacity=+ma}function Ma(){return`#${F(this.r)}${F(this.g)}${F(this.b)}`}function pa(){const n=sa(this.opacity);return`${1===n?"rgb(":"rgba("}${m(this.r)}, ${m(this.g)}, ${m(this.b)}${1===n?")":`, ${n})`}`}function sa(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function m(n){return Math.max(0,
Math.min(255,Math.round(n)||0))}function F(n){n=m(n);return(16>n?"0":"")+n.toString(16)}function L(n,G,M,ma){0>=ma?n=G=M=NaN:0>=M||1<=M?n=G=NaN:0>=G&&(n=NaN);return new B(n,G,M,ma)}function u(n){if(n instanceof B)return new B(n.h,n.s,n.l,n.opacity);n instanceof ib||(n=Pb(n));if(!n)return new B;if(n instanceof B)return n;n=n.rgb();var G=n.r/255,M=n.g/255,ma=n.b/255,Xa=Math.min(G,M,ma),fb=Math.max(G,M,ma),qb=NaN,Ib=fb-Xa,oc=(fb+Xa)/2;Ib?(qb=G===fb?(M-ma)/Ib+6*(M<ma):M===fb?(ma-G)/Ib+2:(G-M)/Ib+4,Ib/=
.5>oc?fb+Xa:2-fb-Xa,qb*=60):Ib=0<oc&&1>oc?0:qb;return new B(qb,Ib,oc,n.opacity)}function R(n,G,M,ma){return 1===arguments.length?u(n):new B(n,G,M,null==ma?1:ma)}function B(n,G,M,ma){this.h=+n;this.s=+G;this.l=+M;this.opacity=+ma}function z(n){n=(n||0)%360;return 0>n?n+360:n}function N(n){return Math.max(0,Math.min(1,n||0))}function A(n,G,M){return 255*(60>n?G+(M-G)*n/60:180>n?M:240>n?G+(M-G)*(240-n)/60:G)}function D(n){if(n instanceof W)return new W(n.l,n.a,n.b,n.opacity);if(n instanceof eb)return xb(n);
n instanceof ia||(n=aa(n));var G=Ba(n.r),M=Ba(n.g),ma=Ba(n.b),Xa=Da(.2225045*G+.7168786*M+.0606169*ma);if(G===M&&M===ma)var fb=G=Xa;else fb=Da((.4360747*G+.3850649*M+.1430804*ma)/.96422),G=Da((.0139322*G+.0971045*M+.7141733*ma)/.82521);return new W(116*Xa-16,500*(fb-Xa),200*(Xa-G),n.opacity)}function H(n,G,M,ma){return 1===arguments.length?D(n):new W(n,G,M,null==ma?1:ma)}function W(n,G,M,ma){this.l=+n;this.a=+G;this.b=+M;this.opacity=+ma}function Da(n){return n>dg?Math.pow(n,1/3):n/Hh+Eg}function P(n){return n>
Gh?n*n*n:Hh*(n-Eg)}function ja(n){return 255*(.0031308>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function Ba(n){return.04045>=(n/=255)?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Na(n){if(n instanceof eb)return new eb(n.h,n.c,n.l,n.opacity);n instanceof W||(n=D(n));if(0===n.a&&0===n.b)return new eb(NaN,0<n.l&&100>n.l?0:NaN,n.l,n.opacity);var G=Math.atan2(n.b,n.a)*Fh;return new eb(0>G?G+360:G,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function Qa(n,G,M,ma){return 1===arguments.length?Na(n):new eb(n,
G,M,null==ma?1:ma)}function eb(n,G,M,ma){this.h=+n;this.c=+G;this.l=+M;this.opacity=+ma}function xb(n){if(isNaN(n.h))return new W(n.l,0,0,n.opacity);var G=n.h*Li;return new W(n.l,Math.cos(G)*n.c,Math.sin(G)*n.c,n.opacity)}function kb(n,G,M,ma){if(1===arguments.length){var Xa=n;if(Xa instanceof Sb)Xa=new Sb(Xa.h,Xa.s,Xa.l,Xa.opacity);else{Xa instanceof ia||(Xa=aa(Xa));var fb=Xa.g/255,qb=Xa.b/255,Ib=(cj*qb+Xa.r/255*-1.7884503806-3.5172982438*fb)/(cj+-1.7884503806-3.5172982438);qb-=Ib;var oc=(1.97294*
(fb-Ib)- -.29227*qb)/-.90649;qb=(fb=Math.sqrt(oc*oc+qb*qb)/(1.97294*Ib*(1-Ib)))?Math.atan2(oc,qb)*Fh-120:NaN;Xa=new Sb(0>qb?qb+360:qb,fb,Ib,Xa.opacity)}}else Xa=new Sb(n,G,M,null==ma?1:ma);return Xa}function Sb(n,G,M,ma){this.h=+n;this.s=+G;this.l=+M;this.opacity=+ma}function X(n,G,M,ma,Xa){var fb=n*n,qb=fb*n;return((1-3*n+3*fb-qb)*G+(4-6*fb+3*qb)*M+(1+3*n+3*fb-3*qb)*ma+qb*Xa)/6}function Ha(n){var G=n.length-1;return function(M){var ma=0>=M?M=0:1<=M?(M=1,G-1):Math.floor(M*G),Xa=n[ma],fb=n[ma+1];return X((M-
ma/G)*G,0<ma?n[ma-1]:2*Xa-fb,Xa,fb,ma<G-1?n[ma+2]:2*fb-Xa)}}function Nb(n){var G=n.length;return function(M){var ma=Math.floor((0>(M%=1)?++M:M)*G);return X((M-ma/G)*G,n[(ma+G-1)%G],n[ma%G],n[(ma+1)%G],n[(ma+2)%G])}}function nc(n,G){return function(M){return n+M*G}}function Wb(n,G,M){return n=Math.pow(n,M),G=Math.pow(G,M)-n,M=1/M,function(ma){return Math.pow(n+ma*G,M)}}function Jb(n,G){var M=G-n;return M?nc(n,180<M||-180>M?M-360*Math.round(M/360):M):fi(isNaN(n)?G:n)}function Lb(n){return 1===(n=+n)?
sc:function(G,M){return M-G?Wb(G,M,n):fi(isNaN(G)?M:G)}}function sc(n,G){var M=G-n;return M?nc(n,M):fi(isNaN(n)?G:n)}function Oc(n){return function(G){var M=G.length,ma=Array(M),Xa=Array(M),fb=Array(M),qb;for(qb=0;qb<M;++qb){var Ib=da(G[qb]);ma[qb]=Ib.r||0;Xa[qb]=Ib.g||0;fb[qb]=Ib.b||0}ma=n(ma);Xa=n(Xa);fb=n(fb);Ib.opacity=1;return function(oc){Ib.r=ma(oc);Ib.g=Xa(oc);Ib.b=fb(oc);return Ib+""}}}function ra(n,G){G||(G=[]);var M=n?Math.min(G.length,n.length):0,ma=G.slice(),Xa;return function(fb){for(Xa=
0;Xa<M;++Xa)ma[Xa]=n[Xa]*(1-fb)+G[Xa]*fb;return ma}}function Eb(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Ta(n,G){var M=G?G.length:0,ma=n?Math.min(M,n.length):0,Xa=Array(ma),fb=Array(M),qb;for(qb=0;qb<ma;++qb)Xa[qb]=Xc(n[qb],G[qb]);for(;qb<M;++qb)fb[qb]=G[qb];return function(Ib){for(qb=0;qb<ma;++qb)fb[qb]=Xa[qb](Ib);return fb}}function yb(n,G){var M=new Date;return n=+n,G=+G,function(ma){return M.setTime(n*(1-ma)+G*ma),M}}function Gb(n,G){return n=+n,G=+G,function(M){return n*
(1-M)+G*M}}function Cb(n,G){var M={},ma={},Xa;if(null===n||"object"!==typeof n)n={};if(null===G||"object"!==typeof G)G={};for(Xa in G)Xa in n?M[Xa]=Xc(n[Xa],G[Xa]):ma[Xa]=G[Xa];return function(fb){for(Xa in M)ma[Xa]=M[Xa](fb);return ma}}function Xb(n){return function(){return n}}function gc(n){return function(G){return n(G)+""}}function wc(n,G){var M=gh.lastIndex=nh.lastIndex=0,ma,Xa,fb,qb=-1,Ib=[],oc=[];n+="";for(G+="";(ma=gh.exec(n))&&(Xa=nh.exec(G));)(fb=Xa.index)>M&&(fb=G.slice(M,fb),Ib[qb]?Ib[qb]+=
fb:Ib[++qb]=fb),(ma=ma[0])===(Xa=Xa[0])?Ib[qb]?Ib[qb]+=Xa:Ib[++qb]=Xa:(Ib[++qb]=null,oc.push({i:qb,x:Gb(ma,Xa)})),M=nh.lastIndex;M<G.length&&(fb=G.slice(M),Ib[qb]?Ib[qb]+=fb:Ib[++qb]=fb);return 2>Ib.length?oc[0]?gc(oc[0].x):Xb(G):(G=oc.length,function(Sc){for(var Yc=0,mc;Yc<G;++Yc)Ib[(mc=oc[Yc]).i]=mc.x(Sc);return Ib.join("")})}function Xc(n,G){var M=typeof G,ma;return null==G||"boolean"===M?fi(G):("number"===M?Gb:"string"===M?(ma=Pb(G))?(G=ma,fh):wc:G instanceof Pb?fh:G instanceof Date?yb:Eb(G)?
ra:Array.isArray(G)?Ta:"function"!==typeof G.valueOf&&"function"!==typeof G.toString||isNaN(G)?Cb:Gb)(n,G)}function Kc(n,G){return n=+n,G=+G,function(M){return Math.round(n*(1-M)+G*M)}}function na(n,G,M,ma,Xa,fb){var qb,Ib,oc;if(qb=Math.sqrt(n*n+G*G))n/=qb,G/=qb;if(oc=n*M+G*ma)M-=n*oc,ma-=G*oc;if(Ib=Math.sqrt(M*M+ma*ma))M/=Ib,ma/=Ib,oc/=Ib;n*ma<G*M&&(n=-n,G=-G,oc=-oc,qb=-qb);return{translateX:Xa,translateY:fb,rotate:Math.atan2(G,n)*Gg,skewX:Math.atan(oc)*Gg,scaleX:qb,scaleY:Ib}}function Ia(n,G,M,
ma){function Xa(Sc){return Sc.length?Sc.pop()+" ":""}function fb(Sc,Yc,mc,nd,Jd,me){Sc!==mc||Yc!==nd?(Jd=Jd.push("translate(",null,G,null,M),me.push({i:Jd-4,x:Gb(Sc,mc)},{i:Jd-2,x:Gb(Yc,nd)})):(mc||nd)&&Jd.push("translate("+mc+G+nd+M)}function qb(Sc,Yc,mc,nd){Sc!==Yc?(180<Sc-Yc?Yc+=360:180<Yc-Sc&&(Sc+=360),nd.push({i:mc.push(Xa(mc)+"rotate(",null,ma)-2,x:Gb(Sc,Yc)})):Yc&&mc.push(Xa(mc)+"rotate("+Yc+ma)}function Ib(Sc,Yc,mc,nd){Sc!==Yc?nd.push({i:mc.push(Xa(mc)+"skewX(",null,ma)-2,x:Gb(Sc,Yc)}):Yc&&
mc.push(Xa(mc)+"skewX("+Yc+ma)}function oc(Sc,Yc,mc,nd,Jd,me){Sc!==mc||Yc!==nd?(Jd=Jd.push(Xa(Jd)+"scale(",null,",",null,")"),me.push({i:Jd-4,x:Gb(Sc,mc)},{i:Jd-2,x:Gb(Yc,nd)})):1===mc&&1===nd||Jd.push(Xa(Jd)+"scale("+mc+","+nd+")")}return function(Sc,Yc){var mc=[],nd=[];Sc=n(Sc);Yc=n(Yc);fb(Sc.translateX,Sc.translateY,Yc.translateX,Yc.translateY,mc,nd);qb(Sc.rotate,Yc.rotate,mc,nd);Ib(Sc.skewX,Yc.skewX,mc,nd);oc(Sc.scaleX,Sc.scaleY,Yc.scaleX,Yc.scaleY,mc,nd);Sc=Yc=null;return function(Jd){for(var me=
-1,Cd=nd.length,Oe;++me<Cd;)mc[(Oe=nd[me]).i]=Oe.x(Jd);return mc.join("")}}}function hb(n){return((n=Math.exp(n))+1/n)/2}function S(n){return function(G,M){var ma=n((G=R(G)).h,(M=R(M)).h),Xa=sc(G.s,M.s),fb=sc(G.l,M.l),qb=sc(G.opacity,M.opacity);return function(Ib){G.h=ma(Ib);G.s=Xa(Ib);G.l=fb(Ib);G.opacity=qb(Ib);return G+""}}}function v(n){return function(G,M){var ma=n((G=Qa(G)).h,(M=Qa(M)).h),Xa=sc(G.c,M.c),fb=sc(G.l,M.l),qb=sc(G.opacity,M.opacity);return function(Ib){G.h=ma(Ib);G.c=Xa(Ib);G.l=
fb(Ib);G.opacity=qb(Ib);return G+""}}}function ca(n){return function ma(M){function Xa(fb,qb){var Ib=n((fb=kb(fb)).h,(qb=kb(qb)).h),oc=sc(fb.s,qb.s),Sc=sc(fb.l,qb.l),Yc=sc(fb.opacity,qb.opacity);return function(mc){fb.h=Ib(mc);fb.s=oc(mc);fb.l=Sc(Math.pow(mc,M));fb.opacity=Yc(mc);return fb+""}}M=+M;Xa.gamma=ma;return Xa}(1)}function za(n,G){void 0===G&&(G=n,n=Xc);for(var M=0,ma=G.length-1,Xa=G[0],fb=Array(0>ma?0:ma);M<ma;)fb[M]=n(Xa,Xa=G[++M]);return function(qb){var Ib=Math.max(0,Math.min(ma-1,Math.floor(qb*=
ma)));return fb[Ib](qb-Ib)}}function Fa(n){return function(){return n}}function Ua(n){return+n}function mb(n){return n}function Mb(n,G){return(G-=n=+n)?function(M){return(M-n)/G}:Fa(isNaN(G)?NaN:.5)}function Fb(n,G){if(n>G){var M=n;n=G;G=M}return function(ma){return Math.max(n,Math.min(G,ma))}}function Kb(n,G,M){var ma=n[0];n=n[1];var Xa=G[0];G=G[1];n<ma?(ma=Mb(n,ma),Xa=M(G,Xa)):(ma=Mb(ma,n),Xa=M(Xa,G));return function(fb){return Xa(ma(fb))}}function vc(n,G,M){var ma=Math.min(n.length,G.length)-1,
Xa=Array(ma),fb=Array(ma),qb=-1;n[ma]<n[0]&&(n=n.slice().reverse(),G=G.slice().reverse());for(;++qb<ma;)Xa[qb]=Mb(n[qb],n[qb+1]),fb[qb]=M(G[qb],G[qb+1]);return function(Ib){var oc=xg(n,Ib,1,ma)-1;return fb[oc](Xa[oc](Ib))}}function yc(n,G){return G.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Ic(){function n(){var nd=Math.min(M.length,ma.length);oc!==mb&&(oc=Fb(M[0],M[nd-1]));Sc=2<nd?vc:Kb;Yc=mc=null;return G}function G(nd){return null==
nd||isNaN(nd=+nd)?Ib:(Yc||(Yc=Sc(M.map(fb),ma,Xa)))(fb(oc(nd)))}var M=Z,ma=Z,Xa=Xc,fb,qb,Ib,oc=mb,Sc,Yc,mc;G.invert=function(nd){return oc(qb((mc||(mc=Sc(ma,M.map(fb),Gb)))(nd)))};G.domain=function(nd){return arguments.length?(M=Array.from(nd,Ua),n()):M.slice()};G.range=function(nd){return arguments.length?(ma=Array.from(nd),n()):ma.slice()};G.rangeRound=function(nd){return ma=Array.from(nd),Xa=Kc,n()};G.clamp=function(nd){return arguments.length?(oc=nd?!0:mb,n()):oc!==mb};G.interpolate=function(nd){return arguments.length?
(Xa=nd,n()):Xa};G.unknown=function(nd){return arguments.length?(Ib=nd,G):Ib};return function(nd,Jd){fb=nd;qb=Jd;return n()}}function kd(n,G){if(0>(G=(n=G?n.toExponential(G-1):n.toExponential()).indexOf("e")))return null;var M=n.slice(0,G);return[1<M.length?M[0]+M.slice(2):M,+n.slice(G+1)]}function $c(n){return n=kd(Math.abs(n)),n?n[1]:NaN}function Pc(n,G){return function(M,ma){for(var Xa=M.length,fb=[],qb=0,Ib=n[0],oc=0;0<Xa&&0<Ib;){oc+Ib+1>ma&&(Ib=Math.max(1,ma-oc));fb.push(M.substring(Xa-=Ib,Xa+
Ib));if((oc+=Ib+1)>ma)break;Ib=n[qb=(qb+1)%n.length]}return fb.reverse().join(G)}}function hd(n){return function(G){return G.replace(/[0-9]/g,function(M){return n[+M]})}}function md(n){if(!(G=Aa.exec(n)))throw Error("invalid format: "+n);var G;return new ad({fill:G[1],align:G[2],sign:G[3],symbol:G[4],zero:G[5],width:G[6],comma:G[7],precision:G[8]&&G[8].slice(1),trim:G[9],type:G[10]})}function ad(n){this.fill=void 0===n.fill?" ":n.fill+"";this.align=void 0===n.align?"\x3e":n.align+"";this.sign=void 0===
n.sign?"-":n.sign+"";this.symbol=void 0===n.symbol?"":n.symbol+"";this.zero=!!n.zero;this.width=void 0===n.width?void 0:+n.width;this.comma=!!n.comma;this.precision=void 0===n.precision?void 0:+n.precision;this.trim=!!n.trim;this.type=void 0===n.type?"":n.type+""}function ke(n,G){G=kd(n,G);if(!G)return n+"";n=G[0];G=G[1];return 0>G?"0."+Array(-G).join("0")+n:n.length>G+1?n.slice(0,G+1)+"."+n.slice(G+1):n+Array(G-n.length+2).join("0")}function id(n){return n}function y(n){function G(Yc){function mc(jd){var zd=
ne,pd=wf,Ye,Rf;if("c"===Kf)pd=Xh(jd)+pd,jd="";else{jd=+jd;var Ef=0>jd||0>1/jd;jd=isNaN(jd)?Sc:Xh(Math.abs(jd),tg);if(zg){var Sf=jd.length,qg=1,Vh=-1;a:for(;qg<Sf;++qg)switch(jd[qg]){case ".":Vh=Ye=qg;break;case "0":0===Vh&&(Vh=qg);Ye=qg;break;default:if(!+jd[qg])break a;0<Vh&&(Vh=0)}jd=0<Vh?jd.slice(0,Vh)+jd.slice(Ye+1):jd}Ef&&0===+jd&&"+"!==me&&(Ef=!1);zd=(Ef?"("===me?me:oc:"-"===me||"("===me?"":me)+zd;pd=("s"===Kf?$b[8+Oa/3]:"")+pd+(Ef&&"("===me?")":"");if(Hd)for(Ef=-1,Ye=jd.length;++Ef<Ye;)if(Rf=
jd.charCodeAt(Ef),48>Rf||57<Rf){pd=(46===Rf?fb+jd.slice(Ef+1):jd.slice(Ef))+pd;jd=jd.slice(0,Ef);break}}sg&&!Oe&&(jd=M(jd,Infinity));Rf=zd.length+jd.length+pd.length;Ef=Rf<Df?Array(Df-Rf+1).join(nd):"";sg&&Oe&&(jd=M(Ef+jd,Ef.length?Df-pd.length:Infinity),Ef="");switch(Jd){case "\x3c":jd=zd+jd+pd+Ef;break;case "\x3d":jd=zd+Ef+jd+pd;break;case "^":jd=Ef.slice(0,Rf=Ef.length>>1)+zd+jd+pd+Ef.slice(Rf);break;default:jd=Ef+zd+jd+pd}return qb(jd)}Yc=md(Yc);var nd=Yc.fill,Jd=Yc.align,me=Yc.sign,Cd=Yc.symbol,
Oe=Yc.zero,Df=Yc.width,sg=Yc.comma,tg=Yc.precision,zg=Yc.trim,Kf=Yc.type;"n"===Kf?(sg=!0,Kf="g"):Hb[Kf]||(void 0===tg&&(tg=12),zg=!0,Kf="g");if(Oe||"0"===nd&&"\x3d"===Jd)Oe=!0,nd="0",Jd="\x3d";var ne="$"===Cd?ma:"#"===Cd&&/[boxX]/.test(Kf)?"0"+Kf.toLowerCase():"",wf="$"===Cd?Xa:/[%p]/.test(Kf)?Ib:"",Xh=Hb[Kf],Hd=/[defgprs%]/.test(Kf);tg=void 0===tg?6:/[gprs]/.test(Kf)?Math.max(1,Math.min(21,tg)):Math.max(0,Math.min(20,tg));mc.toString=function(){return Yc+""};return mc}var M=void 0===n.grouping||
void 0===n.thousands?id:Pc(Ab.call(n.grouping,Number),n.thousands+""),ma=void 0===n.currency?"":n.currency[0]+"",Xa=void 0===n.currency?"":n.currency[1]+"",fb=void 0===n.decimal?".":n.decimal+"",qb=void 0===n.numerals?id:hd(Ab.call(n.numerals,String)),Ib=void 0===n.percent?"%":n.percent+"",oc=void 0===n.minus?"":n.minus+"",Sc=void 0===n.nan?"NaN":n.nan+"";return{format:G,formatPrefix:function(Yc,mc){var nd=G((Yc=md(Yc),Yc.type="f",Yc));Yc=3*Math.max(-8,Math.min(8,Math.floor($c(mc)/3)));var Jd=Math.pow(10,
-Yc),me=$b[8+Yc/3];return function(Cd){return nd(Jd*Cd)+me}}}}function K(n,G,M,ma){M=jb(n,G,M);ma=md(null==ma?",f":ma);switch(ma.type){case "s":n=Math.max(Math.abs(n),Math.abs(G));if(G=null==ma.precision){var Xa=isNaN;M=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($c(n)/3)))-$c(Math.abs(M)));G=!Xa(Xa=M)}G&&(ma.precision=Xa);return fa(ma,n);case "":case "e":case "g":case "p":case "r":var fb;if(fb=null==ma.precision)Xa=isNaN,n=Math.max(Math.abs(n),Math.abs(G)),M=Math.abs(M),n=Math.abs(n)-M,M=Math.max(0,
$c(n)-$c(M))+1,fb=!Xa(Xa=M);fb&&(ma.precision=Xa-("e"===ma.type));break;case "f":case "%":null!=ma.precision||isNaN(Xa=Math.max(0,-$c(Math.abs(M))))||(ma.precision=Xa-2*("%"===ma.type))}return I(ma)}function ua(n){var G=n.domain;n.ticks=function(M){var ma=G();return sb(ma[0],ma[ma.length-1],null==M?10:M)};n.tickFormat=function(M,ma){var Xa=G();return K(Xa[0],Xa[Xa.length-1],null==M?10:M,ma)};n.nice=function(M){null==M&&(M=10);var ma=G(),Xa=0,fb=ma.length-1,qb=ma[Xa],Ib=ma[fb],oc=10;if(Ib<qb){var Sc=
qb;qb=Ib;Ib=Sc;Sc=Xa;Xa=fb;fb=Sc}for(;0<oc--;){Sc=wb(qb,Ib,M);if(Sc===Yc)return ma[Xa]=qb,ma[fb]=Ib,G(ma);if(0<Sc)qb=Math.floor(qb/Sc)*Sc,Ib=Math.ceil(Ib/Sc)*Sc;else if(0>Sc)qb=Math.ceil(qb*Sc)/Sc,Ib=Math.floor(Ib*Sc)/Sc;else break;var Yc=Sc}return n};return n}function t(){var n=Ic()(mb,mb);n.copy=function(){return yc(n,t())};ha.apply(n,arguments);return ua(n)}function O(n){function G(ma){return null==ma||isNaN(ma=+ma)?M:ma}var M;G.invert=G;G.domain=G.range=function(ma){return arguments.length?(n=
Array.from(ma,Ua),G):n.slice()};G.unknown=function(ma){return arguments.length?(M=ma,G):M};G.copy=function(){return O(n).unknown(M)};n=arguments.length?Array.from(n,Ua):[0,1];return ua(G)}function ba(n,G){n=n.slice();var M=0,ma=n.length-1,Xa=n[M],fb=n[ma];if(fb<Xa){var qb=M;M=ma;ma=qb;qb=Xa;Xa=fb;fb=qb}n[M]=G.floor(Xa);n[ma]=G.ceil(fb);return n}function xa(n){return Math.log(n)}function oa(n){return Math.exp(n)}function ab(n){return-Math.log(-n)}function Qb(n){return-Math.exp(-n)}function Yb(n){return isFinite(n)?
+("1e"+n):0>n?0:n}function ic(n){return 10===n?Yb:n===Math.E?Math.exp:G=>Math.pow(n,G)}function Ac(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),G=>Math.log(G)/n)}function Mc(n){return(G,M)=>-n(-G,M)}function Nc(n){function G(){fb=Ac(Xa);qb=ic(Xa);0>ma()[0]?(fb=Mc(fb),qb=Mc(qb),n(ab,Qb)):n(xa,oa);return M}const M=n(xa,oa),ma=M.domain;let Xa=10,fb,qb;M.base=function(Ib){return arguments.length?(Xa=+Ib,G()):Xa};M.domain=function(Ib){return arguments.length?(ma(Ib),
G()):ma()};M.ticks=Ib=>{var oc=ma();let Sc=oc[0];oc=oc[oc.length-1];const Yc=oc<Sc;Yc&&([Sc,oc]=[oc,Sc]);let mc=fb(Sc),nd=fb(oc),Jd;const me=null==Ib?10:+Ib;let Cd=[];if(!(Xa%1)&&nd-mc<me){mc=Math.floor(mc);nd=Math.ceil(nd);if(0<Sc)for(;mc<=nd;++mc)for(Ib=1;Ib<Xa;++Ib){if(Jd=0>mc?Ib/qb(-mc):Ib*qb(mc),!(Jd<Sc)){if(Jd>oc)break;Cd.push(Jd)}}else for(;mc<=nd;++mc)for(Ib=Xa-1;1<=Ib;--Ib)if(Jd=0<mc?Ib/qb(-mc):Ib*qb(mc),!(Jd<Sc)){if(Jd>oc)break;Cd.push(Jd)}2*Cd.length<me&&(Cd=sb(Sc,oc,me))}else Cd=sb(mc,
nd,Math.min(nd-mc,me)).map(qb);return Yc?Cd.reverse():Cd};M.tickFormat=(Ib,oc)=>{null==Ib&&(Ib=10);null==oc&&(oc=10===Xa?"s":",");"function"!==typeof oc&&(Xa%1||null!=(oc=md(oc)).precision||(oc.trim=!0),oc=I(oc));if(Infinity===Ib)return oc;const Sc=Math.max(1,Xa*Ib/M.ticks().length);return Yc=>{let mc=Yc/qb(Math.round(fb(Yc)));mc*Xa<Xa-.5&&(mc*=Xa);return mc<=Sc?oc(Yc):""}};M.nice=()=>ma(ba(ma(),{floor:Ib=>qb(Math.floor(fb(Ib))),ceil:Ib=>qb(Math.ceil(fb(Ib)))}));return M}function Wc(){const n=Nc(Ic()).domain([1,
10]);n.copy=()=>yc(n,Wc()).base(n.base());ha.apply(n,arguments);return n}function td(n){return function(G){return Math.sign(G)*Math.log1p(Math.abs(G/n))}}function ud(n){return function(G){return Math.sign(G)*Math.expm1(Math.abs(G))*n}}function ee(n){var G=1,M=n(td(G),ud(G));M.constant=function(ma){return arguments.length?n(td(G=+ma),ud(G)):G};return ua(M)}function Kd(){var n=ee(Ic());n.copy=function(){return yc(n,Kd()).constant(n.constant())};return ha.apply(n,arguments)}function ge(n){return function(G){return 0>
G?-Math.pow(-G,n):Math.pow(G,n)}}function Je(n){return 0>n?-Math.sqrt(-n):Math.sqrt(n)}function Ie(n){return 0>n?-n*n:n*n}function Ne(n){var G=n(mb,mb),M=1;G.exponent=function(ma){return arguments.length?(M=+ma,1===M?n(mb,mb):.5===M?n(Je,Ie):n(ge(M),ge(1/M))):M};return ua(G)}function $e(){var n=Ne(Ic());n.copy=function(){return yc(n,$e()).exponent(n.exponent())};ha.apply(n,arguments);return n}function Ae(){function n(){var qb=0,Ib=Math.max(1,ma.length);for(Xa=Array(Ib-1);++qb<Ib;)Xa[qb-1]=lc(M,qb/
Ib);return G}function G(qb){return null==qb||isNaN(qb=+qb)?fb:ma[xg(Xa,qb)]}var M=[],ma=[],Xa=[],fb;G.invertExtent=function(qb){qb=ma.indexOf(qb);return 0>qb?[NaN,NaN]:[0<qb?Xa[qb-1]:M[0],qb<Xa.length?Xa[qb]:M[M.length-1]]};G.domain=function(qb){if(!arguments.length)return M.slice();M=[];for(let Ib of qb)null==Ib||isNaN(Ib=+Ib)||M.push(Ib);M.sort(Zb);return n()};G.range=function(qb){return arguments.length?(ma=Array.from(qb),n()):ma.slice()};G.unknown=function(qb){return arguments.length?(fb=qb,G):
fb};G.quantiles=function(){return Xa.slice()};G.copy=function(){return Ae().domain(M).range(ma).unknown(fb)};return ha.apply(G,arguments)}function Ge(){function n(oc){return null!=oc&&oc<=oc?qb[xg(fb,oc,0,Xa)]:Ib}function G(){var oc=-1;for(fb=Array(Xa);++oc<Xa;)fb[oc]=((oc+1)*ma-(oc-Xa)*M)/(Xa+1);return n}var M=0,ma=1,Xa=1,fb=[.5],qb=[0,1],Ib;n.domain=function(oc){return arguments.length?([M,ma]=oc,M=+M,ma=+ma,G()):[M,ma]};n.range=function(oc){return arguments.length?(Xa=(qb=Array.from(oc)).length-
1,G()):qb.slice()};n.invertExtent=function(oc){oc=qb.indexOf(oc);return 0>oc?[NaN,NaN]:1>oc?[M,fb[0]]:oc>=Xa?[fb[Xa-1],ma]:[fb[oc-1],fb[oc]]};n.unknown=function(oc){return arguments.length?(Ib=oc,n):n};n.thresholds=function(){return fb.slice()};n.copy=function(){return Ge().domain([M,ma]).range(qb).unknown(Ib)};return ha.apply(ua(n),arguments)}function oe(){function n(fb){return null!=fb&&fb<=fb?M[xg(G,fb,0,Xa)]:ma}var G=[.5],M=[0,1],ma,Xa=1;n.domain=function(fb){return arguments.length?(G=Array.from(fb),
Xa=Math.min(G.length,M.length-1),n):G.slice()};n.range=function(fb){return arguments.length?(M=Array.from(fb),Xa=Math.min(G.length,M.length-1),n):M.slice()};n.invertExtent=function(fb){fb=M.indexOf(fb);return[G[fb-1],G[fb]]};n.unknown=function(fb){return arguments.length?(ma=fb,n):ma};n.copy=function(){return oe().domain(G).range(M).unknown(ma)};return ha.apply(n,arguments)}function Ee(n,G,M,ma){function Xa(fb){return n(fb=0===arguments.length?new Date:new Date(+fb)),fb}Xa.floor=fb=>(n(fb=new Date(+fb)),
fb);Xa.ceil=fb=>(n(fb=new Date(fb-1)),G(fb,1),n(fb),fb);Xa.round=fb=>{const qb=Xa(fb),Ib=Xa.ceil(fb);return fb-qb<Ib-fb?qb:Ib};Xa.offset=(fb,qb)=>(G(fb=new Date(+fb),null==qb?1:Math.floor(qb)),fb);Xa.range=(fb,qb,Ib)=>{const oc=[];fb=Xa.ceil(fb);Ib=null==Ib?1:Math.floor(Ib);if(!(fb<qb&&0<Ib))return oc;let Sc;do oc.push(Sc=new Date(+fb)),G(fb,Ib),n(fb);while(Sc<fb&&fb<qb);return oc};Xa.filter=fb=>Ee(qb=>{if(qb>=qb)for(;n(qb),!fb(qb);)qb.setTime(qb-1)},(qb,Ib)=>{if(qb>=qb)if(0>Ib)for(;0>=++Ib;)for(;G(qb,
-1),!fb(qb););else for(;0<=--Ib;)for(;G(qb,1),!fb(qb););});M&&(Xa.count=(fb,qb)=>{va.setTime(+fb);bb.setTime(+qb);n(va);n(bb);return Math.floor(M(va,bb))},Xa.every=fb=>{fb=Math.floor(fb);return isFinite(fb)&&0<fb?1<fb?Xa.filter(ma?qb=>0===ma(qb)%fb:qb=>0===Xa.count(0,qb)%fb):Xa:null});return Xa}function ye(n){return Ee(G=>{G.setDate(G.getDate()-(G.getDay()+7-n)%7);G.setHours(0,0,0,0)},(G,M)=>{G.setDate(G.getDate()+7*M)},(G,M)=>(M-G-6E4*(M.getTimezoneOffset()-G.getTimezoneOffset()))/cc)}function yd(n){return Ee(G=>
{G.setUTCDate(G.getUTCDate()-(G.getUTCDay()+7-n)%7);G.setUTCHours(0,0,0,0)},(G,M)=>{G.setUTCDate(G.getUTCDate()+7*M)},(G,M)=>(M-G)/cc)}function fg(n,G,M,ma,Xa,fb){function qb(oc,Sc,Yc){const mc=Math.abs(Sc-oc)/Yc,nd=jc(([,,Cd])=>Cd).right(Ib,mc);if(nd===Ib.length)return n.every(jb(oc/ac,Sc/ac,Yc));if(0===nd)return Ob.every(Math.max(jb(oc,Sc,Yc),1));const [Jd,me]=Ib[mc/Ib[nd-1][2]<Ib[nd][2]/mc?nd-1:nd];return Jd.every(me)}const Ib=[[Rc,1,1E3],[Rc,5,5E3],[Rc,15,15E3],[Rc,30,3E4],[fb,1,6E4],[fb,5,3E5],
[fb,15,9E5],[fb,30,18E5],[Xa,1,36E5],[Xa,3,108E5],[Xa,6,216E5],[Xa,12,432E5],[ma,1,864E5],[ma,2,1728E5],[M,1,cc],[G,1,Dc],[G,3,3*Dc],[n,1,ac]];return[function(oc,Sc,Yc){const mc=Sc<oc;mc&&([oc,Sc]=[Sc,oc]);oc=(Yc=Yc&&"function"===typeof Yc.range?Yc:qb(oc,Sc,Yc))?Yc.range(oc,+Sc+1):[];return mc?oc.reverse():oc},qb]}function Ze(n){if(0<=n.y&&100>n.y){var G=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);G.setFullYear(n.y);return G}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Pe(n){if(0<=n.y&&100>n.y){var G=
new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));G.setUTCFullYear(n.y);return G}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Qe(n,G,M){return{y:n,m:G,d:M,H:0,M:0,S:0,L:0}}function Ke(n){function G(Hd,jd){return function(zd){var pd=[],Ye=-1,Rf=0,Ef=Hd.length,Sf,qg;for(zd instanceof Date||(zd=new Date(+zd));++Ye<Ef;)if(37===Hd.charCodeAt(Ye)){pd.push(Hd.slice(Rf,Ye));null!=(Rf=ej[Sf=Hd.charAt(++Ye)])?Sf=Hd.charAt(++Ye):Rf="e"===Sf?" ":"0";if(qg=jd[Sf])Sf=qg(zd,Rf);pd.push(Sf);Rf=Ye+
1}pd.push(Hd.slice(Rf,Ye));return pd.join("")}}function M(Hd,jd){return function(zd){var pd=Qe(1900,void 0,1);if(ma(pd,Hd,zd+="",0)!=zd.length)return null;if("Q"in pd)return new Date(pd.Q);if("s"in pd)return new Date(1E3*pd.s+("L"in pd?pd.L:0));!jd||"Z"in pd||(pd.Z=0);"p"in pd&&(pd.H=pd.H%12+12*pd.p);void 0===pd.m&&(pd.m="q"in pd?pd.q:0);if("V"in pd){if(1>pd.V||53<pd.V)return null;"w"in pd||(pd.w=1);if("Z"in pd){zd=Pe(Qe(pd.y,0,1));var Ye=zd.getUTCDay();zd=4<Ye||0===Ye?mh.ceil(zd):mh(zd);zd=qf.offset(zd,
7*(pd.V-1));pd.y=zd.getUTCFullYear();pd.m=zd.getUTCMonth();pd.d=zd.getUTCDate()+(pd.w+6)%7}else zd=Ze(Qe(pd.y,0,1)),Ye=zd.getDay(),zd=4<Ye||0===Ye?$d.ceil(zd):$d(zd),zd=xe.offset(zd,7*(pd.V-1)),pd.y=zd.getFullYear(),pd.m=zd.getMonth(),pd.d=zd.getDate()+(pd.w+6)%7}else if("W"in pd||"U"in pd)"w"in pd||(pd.w="u"in pd?pd.u%7:"W"in pd?1:0),Ye="Z"in pd?Pe(Qe(pd.y,0,1)).getUTCDay():Ze(Qe(pd.y,0,1)).getDay(),pd.m=0,pd.d="W"in pd?(pd.w+6)%7+7*pd.W-(Ye+5)%7:pd.w+7*pd.U-(Ye+6)%7;return"Z"in pd?(pd.H+=pd.Z/100|
0,pd.M+=pd.Z%100,Pe(pd)):Ze(pd)}}function ma(Hd,jd,zd,pd){for(var Ye=0,Rf=jd.length,Ef=zd.length,Sf;Ye<Rf;){if(pd>=Ef)return-1;Sf=jd.charCodeAt(Ye++);if(37===Sf){if(Sf=jd.charAt(Ye++),Sf=Xh[Sf in ej?jd.charAt(Ye++):Sf],!Sf||0>(pd=Sf(Hd,zd,pd)))return-1}else if(Sf!=zd.charCodeAt(pd++))return-1}return pd}var Xa=n.dateTime,fb=n.date,qb=n.time,Ib=n.periods,oc=n.days,Sc=n.shortDays,Yc=n.months,mc=n.shortMonths,nd=ie(Ib),Jd=Ca(Ib),me=ie(oc),Cd=Ca(oc),Oe=ie(Sc),Df=Ca(Sc),sg=ie(Yc),tg=Ca(Yc),zg=ie(mc),Kf=
Ca(mc),ne={a:function(Hd){return Sc[Hd.getDay()]},A:function(Hd){return oc[Hd.getDay()]},b:function(Hd){return mc[Hd.getMonth()]},B:function(Hd){return Yc[Hd.getMonth()]},c:null,d:ue,e:ue,f:J,g:Hc,G:Fd,H:ae,I:qa,j:l,L:q,m:la,M:Ga,p:function(Hd){return Ib[+(12<=Hd.getHours())]},q:function(Hd){return 1+~~(Hd.getMonth()/3)},Q:ff,s:Le,S:Pa,u:Ka,U:rb,V:pc,w:rc,W:uc,x:null,X:null,y:tc,Y:Uc,Z:od,"%":ag},wf={a:function(Hd){return Sc[Hd.getUTCDay()]},A:function(Hd){return oc[Hd.getUTCDay()]},b:function(Hd){return mc[Hd.getUTCMonth()]},
B:function(Hd){return Yc[Hd.getUTCMonth()]},c:null,d:vd,e:vd,f:de,g:jf,G:tf,H:Gd,I:kc,j:qd,L:qe,m:Wd,M:Ad,p:function(Hd){return Ib[+(12<=Hd.getUTCHours())]},q:function(Hd){return 1+~~(Hd.getUTCMonth()/3)},Q:ff,s:Le,S:xd,u:le,U:ve,V:Ce,w:Vc,W:je,x:null,X:null,y:ef,Y:Dg,Z:Mf,"%":ag},Xh={a:function(Hd,jd,zd){return(jd=Oe.exec(jd.slice(zd)))?(Hd.w=Df.get(jd[0].toLowerCase()),zd+jd[0].length):-1},A:function(Hd,jd,zd){return(jd=me.exec(jd.slice(zd)))?(Hd.w=Cd.get(jd[0].toLowerCase()),zd+jd[0].length):-1},
b:function(Hd,jd,zd){return(jd=zg.exec(jd.slice(zd)))?(Hd.m=Kf.get(jd[0].toLowerCase()),zd+jd[0].length):-1},B:function(Hd,jd,zd){return(jd=sg.exec(jd.slice(zd)))?(Hd.m=tg.get(jd[0].toLowerCase()),zd+jd[0].length):-1},c:function(Hd,jd,zd){return ma(Hd,Xa,jd,zd)},d:se,e:se,f:Be,g:Zd,G:Bd,H:af,I:af,j:Ve,L:xf,m:gd,M:he,p:function(Hd,jd,zd){return(jd=nd.exec(jd.slice(zd)))?(Hd.p=Jd.get(jd[0].toLowerCase()),zd+jd[0].length):-1},q:He,Q:We,s:pe,S:lf,u:dc,U:dd,V:fd,w:Va,W:Zc,x:function(Hd,jd,zd){return ma(Hd,
fb,jd,zd)},X:function(Hd,jd,zd){return ma(Hd,qb,jd,zd)},y:Zd,Y:Bd,Z:Pd,"%":Ue};ne.x=G(fb,ne);ne.X=G(qb,ne);ne.c=G(Xa,ne);wf.x=G(fb,wf);wf.X=G(qb,wf);wf.c=G(Xa,wf);return{format:function(Hd){var jd=G(Hd+="",ne);jd.toString=function(){return Hd};return jd},parse:function(Hd){var jd=M(Hd+="",!1);jd.toString=function(){return Hd};return jd},utcFormat:function(Hd){var jd=G(Hd+="",wf);jd.toString=function(){return Hd};return jd},utcParse:function(Hd){var jd=M(Hd+="",!0);jd.toString=function(){return Hd};
return jd}}}function Ed(n,G,M){var ma=0>n?"-":"";n=(ma?-n:n)+"";var Xa=n.length;return ma+(Xa<M?Array(M-Xa+1).join(G)+n:n)}function ze(n){return n.replace(Cj,"\\$\x26")}function ie(n){return new RegExp("^(?:"+n.map(ze).join("|")+")","i")}function Ca(n){return new Map(n.map((G,M)=>[G.toLowerCase(),M]))}function Va(n,G,M){return(G=Wf.exec(G.slice(M,M+1)))?(n.w=+G[0],M+G[0].length):-1}function dc(n,G,M){return(G=Wf.exec(G.slice(M,M+1)))?(n.u=+G[0],M+G[0].length):-1}function dd(n,G,M){return(G=Wf.exec(G.slice(M,
M+2)))?(n.U=+G[0],M+G[0].length):-1}function fd(n,G,M){return(G=Wf.exec(G.slice(M,M+2)))?(n.V=+G[0],M+G[0].length):-1}function Zc(n,G,M){return(G=Wf.exec(G.slice(M,M+2)))?(n.W=+G[0],M+G[0].length):-1}function Bd(n,G,M){return(G=Wf.exec(G.slice(M,M+4)))?(n.y=+G[0],M+G[0].length):-1}function Zd(n,G,M){return(G=Wf.exec(G.slice(M,M+2)))?(n.y=+G[0]+(68<+G[0]?1900:2E3),M+G[0].length):-1}function Pd(n,G,M){return(G=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(G.slice(M,M+6)))?(n.Z=G[1]?0:-(G[2]+(G[3]||"00")),M+G[0].length):
-1}function He(n,G,M){return(G=Wf.exec(G.slice(M,M+1)))?(n.q=3*G[0]-3,M+G[0].length):-1}function gd(n,G,M){return(G=Wf.exec(G.slice(M,M+2)))?(n.m=G[0]-1,M+G[0].length):-1}function se(n,G,M){return(G=Wf.exec(G.slice(M,M+2)))?(n.d=+G[0],M+G[0].length):-1}function Ve(n,G,M){return(G=Wf.exec(G.slice(M,M+3)))?(n.m=0,n.d=+G[0],M+G[0].length):-1}function af(n,G,M){return(G=Wf.exec(G.slice(M,M+2)))?(n.H=+G[0],M+G[0].length):-1}function he(n,G,M){return(G=Wf.exec(G.slice(M,M+2)))?(n.M=+G[0],M+G[0].length):
-1}function lf(n,G,M){return(G=Wf.exec(G.slice(M,M+2)))?(n.S=+G[0],M+G[0].length):-1}function xf(n,G,M){return(G=Wf.exec(G.slice(M,M+3)))?(n.L=+G[0],M+G[0].length):-1}function Be(n,G,M){return(G=Wf.exec(G.slice(M,M+6)))?(n.L=Math.floor(G[0]/1E3),M+G[0].length):-1}function Ue(n,G,M){return(n=wk.exec(G.slice(M,M+1)))?M+n[0].length:-1}function We(n,G,M){return(G=Wf.exec(G.slice(M)))?(n.Q=+G[0],M+G[0].length):-1}function pe(n,G,M){return(G=Wf.exec(G.slice(M)))?(n.s=+G[0],M+G[0].length):-1}function ue(n,
G){return Ed(n.getDate(),G,2)}function ae(n,G){return Ed(n.getHours(),G,2)}function qa(n,G){return Ed(n.getHours()%12||12,G,2)}function l(n,G){return Ed(1+xe.count(zf(n),n),G,3)}function q(n,G){return Ed(n.getMilliseconds(),G,3)}function J(n,G){return q(n,G)+"000"}function la(n,G){return Ed(n.getMonth()+1,G,2)}function Ga(n,G){return Ed(n.getMinutes(),G,2)}function Pa(n,G){return Ed(n.getSeconds(),G,2)}function Ka(n){n=n.getDay();return 0===n?7:n}function rb(n,G){return Ed(bh.count(zf(n)-1,n),G,2)}
function nb(n){var G=n.getDay();return 4<=G||0===G?rh(n):rh.ceil(n)}function pc(n,G){n=nb(n);return Ed(rh.count(zf(n),n)+(4===zf(n).getDay()),G,2)}function rc(n){return n.getDay()}function uc(n,G){return Ed($d.count(zf(n)-1,n),G,2)}function tc(n,G){return Ed(n.getFullYear()%100,G,2)}function Hc(n,G){n=nb(n);return Ed(n.getFullYear()%100,G,2)}function Uc(n,G){return Ed(n.getFullYear()%1E4,G,4)}function Fd(n,G){var M=n.getDay();n=4<=M||0===M?rh(n):rh.ceil(n);return Ed(n.getFullYear()%1E4,G,4)}function od(n){n=
n.getTimezoneOffset();return(0<n?"-":(n*=-1,"+"))+Ed(n/60|0,"0",2)+Ed(n%60,"0",2)}function vd(n,G){return Ed(n.getUTCDate(),G,2)}function Gd(n,G){return Ed(n.getUTCHours(),G,2)}function kc(n,G){return Ed(n.getUTCHours()%12||12,G,2)}function qd(n,G){return Ed(1+qf.count(Cg(n),n),G,3)}function qe(n,G){return Ed(n.getUTCMilliseconds(),G,3)}function de(n,G){return qe(n,G)+"000"}function Wd(n,G){return Ed(n.getUTCMonth()+1,G,2)}function Ad(n,G){return Ed(n.getUTCMinutes(),G,2)}function xd(n,G){return Ed(n.getUTCSeconds(),
G,2)}function le(n){n=n.getUTCDay();return 0===n?7:n}function ve(n,G){return Ed(yg.count(Cg(n)-1,n),G,2)}function be(n){var G=n.getUTCDay();return 4<=G||0===G?Hg(n):Hg.ceil(n)}function Ce(n,G){n=be(n);return Ed(Hg.count(Cg(n),n)+(4===Cg(n).getUTCDay()),G,2)}function Vc(n){return n.getUTCDay()}function je(n,G){return Ed(mh.count(Cg(n)-1,n),G,2)}function ef(n,G){return Ed(n.getUTCFullYear()%100,G,2)}function jf(n,G){n=be(n);return Ed(n.getUTCFullYear()%100,G,2)}function Dg(n,G){return Ed(n.getUTCFullYear()%
1E4,G,4)}function tf(n,G){var M=n.getUTCDay();n=4<=M||0===M?Hg(n):Hg.ceil(n);return Ed(n.getUTCFullYear()%1E4,G,4)}function Mf(){return"+0000"}function ag(){return"%"}function ff(n){return+n}function Le(n){return Math.floor(+n/1E3)}function bg(n){return new Date(n)}function Tg(n){return n instanceof Date?+n:+new Date(+n)}function Af(n,G,M,ma,Xa,fb,qb,Ib,oc,Sc){function Yc(ne){return(oc(ne)<ne?me:Ib(ne)<ne?Cd:qb(ne)<ne?Oe:fb(ne)<ne?Df:ma(ne)<ne?Xa(ne)<ne?sg:tg:M(ne)<ne?zg:Kf)(ne)}var mc=Ic()(mb,mb),
nd=mc.invert,Jd=mc.domain,me=Sc(".%L"),Cd=Sc(":%S"),Oe=Sc("%I:%M"),Df=Sc("%I %p"),sg=Sc("%a %d"),tg=Sc("%b %d"),zg=Sc("%B"),Kf=Sc("%Y");mc.invert=function(ne){return new Date(nd(ne))};mc.domain=function(ne){return arguments.length?Jd(Array.from(ne,Tg)):Jd().map(bg)};mc.ticks=function(ne){var wf=Jd();return n(wf[0],wf[wf.length-1],null==ne?10:ne)};mc.tickFormat=function(ne,wf){return null==wf?Yc:Sc(wf)};mc.nice=function(ne){var wf=Jd();ne&&"function"===typeof ne.range||(ne=G(wf[0],wf[wf.length-1],
null==ne?10:ne));return ne?Jd(ba(wf,ne)):mc};mc.copy=function(){return yc(mc,Af(n,G,M,ma,Xa,fb,qb,Ib,oc,Sc))};return mc}function cg(){function n(mc){return null==mc||isNaN(mc=+mc)?Yc:oc(0===qb?.5:(mc=(Ib(mc)-Xa)*qb,Sc?Math.max(0,Math.min(1,mc)):mc))}function G(mc){return function(nd){var Jd,me;return arguments.length?([Jd,me]=nd,oc=mc(Jd,me),n):[oc(0),oc(1)]}}var M=0,ma=1,Xa,fb,qb,Ib,oc=mb,Sc=!1,Yc;n.domain=function(mc){return arguments.length?([M,ma]=mc,Xa=Ib(M=+M),fb=Ib(ma=+ma),qb=Xa===fb?0:1/(fb-
Xa),n):[M,ma]};n.clamp=function(mc){return arguments.length?(Sc=!!mc,n):Sc};n.interpolator=function(mc){return arguments.length?(oc=mc,n):oc};n.range=G(Xc);n.rangeRound=G(Kc);n.unknown=function(mc){return arguments.length?(Yc=mc,n):Yc};return function(mc){Ib=mc;Xa=mc(M);fb=mc(ma);qb=Xa===fb?0:1/(fb-Xa);return n}}function Gf(n,G){return G.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Ug(){var n=ua(cg()(mb));n.copy=function(){return Gf(n,Ug())};return ya.apply(n,
arguments)}function eh(){var n=Nc(cg()).domain([1,10]);n.copy=function(){return Gf(n,eh()).base(n.base())};return ya.apply(n,arguments)}function Sg(){var n=ee(cg());n.copy=function(){return Gf(n,Sg()).constant(n.constant())};return ya.apply(n,arguments)}function Vg(){var n=Ne(cg());n.copy=function(){return Gf(n,Vg()).exponent(n.exponent())};return ya.apply(n,arguments)}function Wg(){function n(Cd){return isNaN(Cd=+Cd)?me:(Cd=.5+((Cd=+nd(Cd))-Ib)*(fb*Cd<fb*Ib?Sc:Yc),mc(Jd?Math.max(0,Math.min(1,Cd)):
Cd))}function G(Cd){return function(Oe){var Df,sg,tg;return arguments.length?([Df,sg,tg]=Oe,mc=za(Cd,[Df,sg,tg]),n):[mc(0),mc(.5),mc(1)]}}var M=0,ma=.5,Xa=1,fb=1,qb,Ib,oc,Sc,Yc,mc=mb,nd,Jd=!1,me;n.domain=function(Cd){return arguments.length?([M,ma,Xa]=Cd,qb=nd(M=+M),Ib=nd(ma=+ma),oc=nd(Xa=+Xa),Sc=qb===Ib?0:.5/(Ib-qb),Yc=Ib===oc?0:.5/(oc-Ib),fb=Ib<qb?-1:1,n):[M,ma,Xa]};n.clamp=function(Cd){return arguments.length?(Jd=!!Cd,n):Jd};n.interpolator=function(Cd){return arguments.length?(mc=Cd,n):mc};n.range=
G(Xc);n.rangeRound=G(Kc);n.unknown=function(Cd){return arguments.length?(me=Cd,n):me};return function(Cd){nd=Cd;qb=Cd(M);Ib=Cd(ma);oc=Cd(Xa);Sc=qb===Ib?0:.5/(Ib-qb);Yc=Ib===oc?0:.5/(oc-Ib);fb=Ib<qb?-1:1;return n}}function kh(){var n=ua(Wg()(mb));n.copy=function(){return Gf(n,kh())};return ya.apply(n,arguments)}function Hf(){var n=Nc(Wg()).domain([.1,1,10]);n.copy=function(){return Gf(n,Hf()).base(n.base())};return ya.apply(n,arguments)}function U(){var n=ee(Wg());n.copy=function(){return Gf(n,U()).constant(n.constant())};
return ya.apply(n,arguments)}function La(){var n=Ne(Wg());n.copy=function(){return Gf(n,La()).exponent(n.exponent())};return ya.apply(n,arguments)}function lb(){function n(){var mc=M().length;const nd=Xa[1]<Xa[0],Jd=Xa[1-nd],me=Za(mc,oc,Sc);let Cd=Xa[nd-0];fb=(Jd-Cd)/(me||1);Ib&&(fb=Math.floor(fb));Cd+=(Jd-Cd-fb*(mc-oc))*Yc;qb=fb*(1-oc);Ib&&(Cd=Math.round(Cd),qb=Math.round(qb));mc=ta(mc).map(Oe=>Cd+fb*Oe);return ma(nd?mc.reverse():mc)}const G=Ra().unknown(void 0),M=G.domain,ma=G.range;let Xa=[0,1],
fb,qb,Ib=!1,oc=0,Sc=0,Yc=.5;delete G.unknown;G.domain=function(mc){return arguments.length?(M(mc),n()):M()};G.range=function(mc){return arguments.length?(Xa=[+mc[0],+mc[1]],n()):Xa.slice()};G.rangeRound=function(mc){Xa=[+mc[0],+mc[1]];Ib=!0;return n()};G.bandwidth=function(){return qb};G.step=function(){return fb};G.round=function(mc){return arguments.length?(Ib=!!mc,n()):Ib};G.padding=function(mc){return arguments.length?(oc=Sc=Math.max(0,Math.min(1,mc)),n()):oc};G.paddingInner=function(mc){return arguments.length?
(oc=Math.max(0,Math.min(1,mc)),n()):oc};G.paddingOuter=function(mc){return arguments.length?(Sc=Math.max(0,Math.min(1,mc)),n()):Sc};G.align=function(mc){return arguments.length?(Yc=Math.max(0,Math.min(1,mc)),n()):Yc};G.invertRange=function(mc){if(null!=mc[0]&&null!=mc[1]){var nd=Xa[1]<Xa[0],Jd=nd?ma().reverse():ma(),me=Jd.length-1,Cd=+mc[0],Oe=+mc[1];if(Cd===Cd&&Oe===Oe){if(Oe<Cd){var Df=Cd;Cd=Oe;Oe=Df}if(!(Oe<Jd[0]||Cd>Xa[1-nd]))return mc=Math.max(0,xg(Jd,Cd)-1),Oe=Cd===Oe?mc:xg(Jd,Oe)-1,Cd-Jd[mc]>
qb+1E-10&&++mc,nd&&(Df=mc,mc=me-Oe,Oe=me-Df),mc>Oe?void 0:M().slice(mc,Oe+1)}}};G.invert=function(mc){return(mc=G.invertRange([mc,mc]))?mc[0]:mc};G.copy=function(){return lb().domain(M()).range(Xa).round(Ib).paddingInner(oc).paddingOuter(Sc).align(Yc)};return n()}function xc(n){const G=n.copy;n.padding=n.paddingOuter;delete n.paddingInner;n.copy=function(){return xc(G())};return n}function Bc(){function n(ma){return null==ma||ma!==ma?void 0:M[(xg(G,ma)-1)%M.length]}let G=[],M=[];n.domain=function(ma){return arguments.length?
(G=Dj.call(ma,h.toNumber),n):G.slice()};n.range=function(ma){return arguments.length?(M=cl.call(ma),n):M.slice()};n.tickFormat=function(ma,Xa){return K(G[0],h.peek(G),null==ma?10:ma,Xa)};n.copy=function(){return Bc().domain(n.domain()).range(n.range())};return n}function wd(n){n[zi]=!0;return n}function Xd(n,G,M){const ma=function(){const Xa=G();Xa.invertRange||(Xa.invertRange=Xa.invert?zb(Xa):Xa.invertExtent?Vb(Xa):void 0);Xa.type=n;return wd(Xa)};ma.metadata=h.toSet(h.array(M));return ma}function Id(n,
G,M){return 1<arguments.length?(Pi.set(n,Xd(n,G,M)),this):Tf(n)?Pi.get(n):void 0}function Tf(n){return Pi.has(n)}function kf(n,G){return(n=Pi.get(n))&&n.metadata[G]}function wg(n){return kf(n,"discrete")}function Uf(n){return kf(n,"discretizing")}function Xg(n){return kf(n,"log")}function ig(n){return kf(n,"temporal")}function Kg(n,G,M){return za(Dh(G||"rgb",M),n)}function Dh(n,G){n=E[Ld(n)];return null!=G&&n&&n.gamma?n.gamma(G):n}function Ld(n){return"interpolate"+n.toLowerCase().split("-").map(G=>
G[0].toUpperCase()+G.slice(1)).join("")}function Sd(n){for(var G=n.length/6|0,M=Array(G),ma=0;ma<G;)M[ma]="#"+n.slice(6*ma,6*++ma);return M}function nf(n){if(h.isArray(n))return n;const G=n.length/6|0,M=Array(G);for(let ma=0;ma<G;)M[ma]="#"+n.slice(6*ma,6*++ma);return M}function we(n,G){for(const M in n)gf(M,G(n[M]))}function gf(n,G){n=n&&n.toLowerCase();return 1<arguments.length?(jj[n]=G,this):jj[n]}function Re(n,G,M){var ma=n.range();let Xa=ma[0],fb=h.peek(ma);ma=ij;Xa>fb&&(ma=fb,fb=Xa,Xa=ma,ma=
Yf);Xa=Math.floor(Xa);fb=Math.ceil(fb);G=G.map(qb=>[qb,n(qb)]).filter(qb=>Xa<=qb[1]&&qb[1]<=fb).sort(ma).map(qb=>qb[0]);if(0<M&&1<G.length){for(ma=[G[0],h.peek(G)];G.length>M&&3<=G.length;)G=G.filter((qb,Ib)=>!(Ib%2));3>G.length&&(G=ma)}return G}function of(n,G){return n.bins?Re(n,n.bins,G):n.ticks?n.ticks(G):n.domain()}function Vf(n,G,M,ma,Xa,fb){const qb=G.type;let Ib=Hj;if("time"===qb||"time"===Xa)Ib=n.timeFormat(ma);else if("utc"===qb||"utc"===Xa)Ib=n.utcFormat(ma);else if(Xg(qb)){const oc=n.formatFloat(ma);
if(fb||G.bins)Ib=oc;else{const Sc=Nf(G,M,!1);Ib=Yc=>Sc(Yc)?oc(Yc):""}}else G.tickFormat?(G=G.domain(),Ib=n.formatSpan(G[0],G[G.length-1],M,ma)):ma&&(Ib=n.format(ma));return Ib}function Nf(n,G,M){const ma=of(n,G),Xa=n.base(),fb=Math.log(Xa),qb=Math.max(1,Xa*G/ma.length);n=Ib=>{Ib/=Math.pow(Xa,Math.round(Math.log(Ib)/fb));Ib*Xa<Xa-.5&&(Ib*=Xa);return Ib<=qb};return M?ma.filter(n):n}function Xe(n,G){n.bins?(n=n.bins,G=n.slice(0,-1),G.max=h.peek(n),n=G):"log"===n.type?n=Nf(n,G,!0):Si[n.type]?(n=n[Si[n.type]](),
n=[-Infinity].concat(n),n.max=Infinity):n=of(n,G);return n}function Yg(n,G,M,ma,Xa,fb,qb){if(yh[G.type]&&"time"!==fb&&"utc"!==fb){M=G[yh[G.type]]();fb=M.length;qb=1<fb?M[1]-M[0]:M[0];let Ib;for(Ib=1;Ib<fb;++Ib)qb=Math.min(qb,M[Ib]-M[Ib-1]);n=n.formatSpan(0,qb,30,Xa)}else n=Vf(n,G,M,Xa,fb,qb);return"symbol"===ma&&(Si[G.type]||G.bins)?Xi(n):"discrete"===ma?ji(n):ii(n)}const xg=jc(Zb).right;jc(Rb).center;class lh extends Map{constructor(n,G=vb){super();Object.defineProperties(this,{_intern:{value:new Map},
_key:{value:G}});if(null!=n)for(const [M,ma]of n)this.set(M,ma)}get(n){return super.get(ec(this,n))}has(n){return super.has(ec(this,n))}set(n,G){return super.set(Ea(this,n),G)}delete(n){return super.delete($a(this,n))}}const Of=Math.sqrt(50),Rh=Math.sqrt(10),og=Math.sqrt(2),vh=Symbol("implicit");var jg=1/.7,Sh=/^#([0-9a-f]{3,8})$/,aj=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Fg=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
ti=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),di=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),bj=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
ui=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),wh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wa(ib,Pb,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:cb,formatHex:cb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return u(this).formatHsl()},formatRgb:tb,toString:tb});Wa(ia,da,Ja(ib,{brighter(n){n=null==n?jg:Math.pow(jg,n);return new ia(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){n=null==n?.7:Math.pow(.7,n);return new ia(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ia(m(this.r),m(this.g),m(this.b),sa(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=
this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Ma,formatHex:Ma,formatHex8:function(){return`#${F(this.r)}${F(this.g)}${F(this.b)}${F(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:pa,toString:pa}));Wa(B,R,Ja(ib,{brighter(n){n=null==n?jg:Math.pow(jg,n);return new B(this.h,this.s,this.l*n,this.opacity)},darker(n){n=null==n?.7:Math.pow(.7,n);return new B(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(0>this.h),G=isNaN(n)||isNaN(this.s)?0:this.s,M=this.l;G=M+(.5>
M?M:1-M)*G;M=2*M-G;return new ia(A(240<=n?n-240:n+120,M,G),A(n,M,G),A(120>n?n+240:n-120,M,G),this.opacity)},clamp(){return new B(z(this.h),N(this.s),N(this.l),sa(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const n=sa(this.opacity);return`${1===n?"hsl(":"hsla("}${z(this.h)}, ${100*N(this.s)}%, ${100*N(this.l)}%${1===n?")":`, ${n})`}`}}));const Li=Math.PI/180,Fh=180/Math.PI,Eg=4/29,Gh=6/29,Hh=3*Gh*Gh,
dg=Gh*Gh*Gh;Wa(W,H,Ja(ib,{brighter(n){return new W(this.l+18*(null==n?1:n),this.a,this.b,this.opacity)},darker(n){return new W(this.l-18*(null==n?1:n),this.a,this.b,this.opacity)},rgb(){var n=(this.l+16)/116,G=isNaN(this.a)?n:n+this.a/500,M=isNaN(this.b)?n:n-this.b/200;G=.96422*P(G);n=1*P(n);M=.82521*P(M);return new ia(ja(3.1338561*G-1.6168667*n-.4906146*M),ja(-.9787684*G+1.9161415*n+.033454*M),ja(.0719453*G-.2289914*n+1.4052427*M),this.opacity)}}));Wa(eb,Qa,Ja(ib,{brighter(n){return new eb(this.h,
this.c,this.l+18*(null==n?1:n),this.opacity)},darker(n){return new eb(this.h,this.c,this.l-18*(null==n?1:n),this.opacity)},rgb(){return xb(this).rgb()}}));var cj=1.78277*-.29227-.1347134789;Wa(Sb,kb,Ja(ib,{brighter(n){n=null==n?jg:Math.pow(jg,n);return new Sb(this.h,this.s,this.l*n,this.opacity)},darker(n){n=null==n?.7:Math.pow(.7,n);return new Sb(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*Li,G=+this.l,M=isNaN(this.s)?0:this.s*G*(1-G),ma=Math.cos(n);n=Math.sin(n);
return new ia(255*(G+M*(-.14861*ma+1.78277*n)),255*(G+M*(-.29227*ma+-.90649*n)),255*(G+1.97294*M*ma),this.opacity)}}));var fi=n=>()=>n,fh=function M(G){function ma(fb,qb){var Ib=Xa((fb=da(fb)).r,(qb=da(qb)).r),oc=Xa(fb.g,qb.g),Sc=Xa(fb.b,qb.b),Yc=sc(fb.opacity,qb.opacity);return function(mc){fb.r=Ib(mc);fb.g=oc(mc);fb.b=Sc(mc);fb.opacity=Yc(mc);return fb+""}}var Xa=Lb(G);ma.gamma=M;return ma}(1),vi=Oc(Ha),Aj=Oc(Nb),gh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nh=new RegExp(gh.source,"g"),Gg=180/
Math.PI,Me={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ih,Lg=Ia(function(G){G=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(G+"");return G.isIdentity?Me:na(G.a,G.b,G.c,G.d,G.e,G.f)},"px, ","px)","deg)"),vf=Ia(function(G){if(null==G)return Me;Ih||(Ih=document.createElementNS("http://www.w3.org/2000/svg","g"));Ih.setAttribute("transform",G);if(!(G=Ih.transform.baseVal.consolidate()))return Me;G=G.matrix;return na(G.a,G.b,G.c,G.d,G.e,G.f)},", ",")",")"),Mi=function fb(M,
ma,Xa){function qb(Ib,oc){var Sc=Ib[0],Yc=Ib[1],mc=Ib[2];Ib=oc[2];var nd=oc[0]-Sc,Jd=oc[1]-Yc,me=nd*nd+Jd*Jd;if(1E-12>me){var Cd=Math.log(Ib/mc)/M;Ib=function(sg){return[Sc+sg*nd,Yc+sg*Jd,mc*Math.exp(M*sg*Cd)]}}else{var Oe=Math.sqrt(me);oc=(Ib*Ib-mc*mc+Xa*me)/(2*mc*ma*Oe);Ib=(Ib*Ib-mc*mc-Xa*me)/(2*Ib*ma*Oe);var Df=Math.log(Math.sqrt(oc*oc+1)-oc);Cd=(Math.log(Math.sqrt(Ib*Ib+1)-Ib)-Df)/M;Ib=function(sg){sg*=Cd;var tg=hb(Df),zg=M*sg+Df;var Kf=((zg=Math.exp(2*zg))-1)/(zg+1);var ne=Df;zg=((ne=Math.exp(ne))-
1/ne)/2;Kf=mc/(ma*Oe)*(tg*Kf-zg);return[Sc+Kf*nd,Yc+Kf*Jd,mc*tg/hb(M*sg+Df)]}}Ib.duration=1E3*Cd*M/Math.SQRT2;return Ib}qb.rho=function(Ib){Ib=Math.max(.001,+Ib);var oc=Ib*Ib;return fb(Ib,oc,oc*oc)};return qb}(Math.SQRT2,2,4),pg=S(Jb),Mg=S(sc),oh=v(Jb),$g=v(sc),Jh=ca(Jb),ah=ca(sc),E=Object.freeze({__proto__:null,interpolate:Xc,interpolateArray:function(M,ma){return(Eb(ma)?ra:Ta)(M,ma)},interpolateBasis:Ha,interpolateBasisClosed:Nb,interpolateCubehelix:Jh,interpolateCubehelixLong:ah,interpolateDate:yb,
interpolateDiscrete:function(M){var ma=M.length;return function(Xa){return M[Math.max(0,Math.min(ma-1,Math.floor(Xa*ma)))]}},interpolateHcl:oh,interpolateHclLong:$g,interpolateHsl:pg,interpolateHslLong:Mg,interpolateHue:function(M,ma){var Xa=Jb(+M,+ma);return function(fb){fb=Xa(fb);return fb-360*Math.floor(fb/360)}},interpolateLab:function(M,ma){var Xa=sc((M=H(M)).l,(ma=H(ma)).l),fb=sc(M.a,ma.a),qb=sc(M.b,ma.b),Ib=sc(M.opacity,ma.opacity);return function(oc){M.l=Xa(oc);M.a=fb(oc);M.b=qb(oc);M.opacity=
Ib(oc);return M+""}},interpolateNumber:Gb,interpolateNumberArray:ra,interpolateObject:Cb,interpolateRgb:fh,interpolateRgbBasis:vi,interpolateRgbBasisClosed:Aj,interpolateRound:Kc,interpolateString:wc,interpolateTransformCss:Lg,interpolateTransformSvg:vf,interpolateZoom:Mi,piecewise:za,quantize:function(M,ma){for(var Xa=Array(ma),fb=0;fb<ma;++fb)Xa[fb]=M(fb/(ma-1));return Xa}}),Z=[0,1],Aa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;md.prototype=ad.prototype;ad.prototype.toString=
function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Oa,Hb={"%":(M,ma)=>(100*M).toFixed(ma),b:M=>Math.round(M).toString(2),c:M=>M+"",d:function(M){return 1E21<=Math.abs(M=Math.round(M))?M.toLocaleString("en").replace(/,/g,""):M.toString(10)},e:(M,ma)=>M.toExponential(ma),f:(M,ma)=>M.toFixed(ma),g:(M,ma)=>M.toPrecision(ma),
o:M=>Math.round(M).toString(8),p:(M,ma)=>ke(100*M,ma),r:ke,s:function(M,ma){var Xa=kd(M,ma);if(!Xa)return M+"";var fb=Xa[0];Xa=Xa[1];Xa=Xa-(Oa=3*Math.max(-8,Math.min(8,Math.floor(Xa/3))))+1;var qb=fb.length;return Xa===qb?fb:Xa>qb?fb+Array(Xa-qb+1).join("0"):0<Xa?fb.slice(0,Xa)+"."+fb.slice(Xa):"0."+Array(1-Xa).join("0")+kd(M,Math.max(0,ma+Xa-1))[0]},X:M=>Math.round(M).toString(16).toUpperCase(),x:M=>Math.round(M).toString(16)},Ab=Array.prototype.map,$b="y z a f p n  m  k M G T P E Z Y".split(" "),
r,I,fa;(function(M){r=y(M);I=r.format;fa=r.formatPrefix;return r})({thousands:",",grouping:[3],currency:["$",""]});const va=new Date,bb=new Date,Ob=Ee(()=>{},(M,ma)=>{M.setTime(+M+ma)},(M,ma)=>ma-M);Ob.every=M=>{M=Math.floor(M);return isFinite(M)&&0<M?1<M?Ee(ma=>{ma.setTime(Math.floor(ma/M)*M)},(ma,Xa)=>{ma.setTime(+ma+Xa*M)},(ma,Xa)=>(Xa-ma)/M):Ob:null};Ob.range;const cc=6048E5,Dc=2592E6,ac=31536E6,Rc=Ee(M=>{M.setTime(M-M.getMilliseconds())},(M,ma)=>{M.setTime(+M+1E3*ma)},(M,ma)=>(ma-M)/1E3,M=>M.getUTCSeconds());
Rc.range;const Lc=Ee(M=>{M.setTime(M-M.getMilliseconds()-1E3*M.getSeconds())},(M,ma)=>{M.setTime(+M+6E4*ma)},(M,ma)=>(ma-M)/6E4,M=>M.getMinutes());Lc.range;const rd=Ee(M=>{M.setUTCSeconds(0,0)},(M,ma)=>{M.setTime(+M+6E4*ma)},(M,ma)=>(ma-M)/6E4,M=>M.getUTCMinutes());rd.range;const Td=Ee(M=>{M.setTime(M-M.getMilliseconds()-1E3*M.getSeconds()-6E4*M.getMinutes())},(M,ma)=>{M.setTime(+M+36E5*ma)},(M,ma)=>(ma-M)/36E5,M=>M.getHours());Td.range;const ce=Ee(M=>{M.setUTCMinutes(0,0,0)},(M,ma)=>{M.setTime(+M+
36E5*ma)},(M,ma)=>(ma-M)/36E5,M=>M.getUTCHours());ce.range;const xe=Ee(M=>M.setHours(0,0,0,0),(M,ma)=>M.setDate(M.getDate()+ma),(M,ma)=>(ma-M-6E4*(ma.getTimezoneOffset()-M.getTimezoneOffset()))/864E5,M=>M.getDate()-1);xe.range;const qf=Ee(M=>{M.setUTCHours(0,0,0,0)},(M,ma)=>{M.setUTCDate(M.getUTCDate()+ma)},(M,ma)=>(ma-M)/864E5,M=>M.getUTCDate()-1);qf.range;const cf=Ee(M=>{M.setUTCHours(0,0,0,0)},(M,ma)=>{M.setUTCDate(M.getUTCDate()+ma)},(M,ma)=>(ma-M)/864E5,M=>Math.floor(M/864E5));cf.range;const bh=
ye(0),$d=ye(1),Fe=ye(2),ph=ye(3),rh=ye(4),uf=ye(5),yf=ye(6);bh.range;$d.range;Fe.range;ph.range;rh.range;uf.range;yf.range;const yg=yd(0),mh=yd(1),Cf=yd(2),pf=yd(3),Hg=yd(4),hg=yd(5),Eh=yd(6);yg.range;mh.range;Cf.range;pf.range;Hg.range;hg.range;Eh.range;const gi=Ee(M=>{M.setDate(1);M.setHours(0,0,0,0)},(M,ma)=>{M.setMonth(M.getMonth()+ma)},(M,ma)=>ma.getMonth()-M.getMonth()+12*(ma.getFullYear()-M.getFullYear()),M=>M.getMonth());gi.range;const $f=Ee(M=>{M.setUTCDate(1);M.setUTCHours(0,0,0,0)},(M,
ma)=>{M.setUTCMonth(M.getUTCMonth()+ma)},(M,ma)=>ma.getUTCMonth()-M.getUTCMonth()+12*(ma.getUTCFullYear()-M.getUTCFullYear()),M=>M.getUTCMonth());$f.range;const zf=Ee(M=>{M.setMonth(0,1);M.setHours(0,0,0,0)},(M,ma)=>{M.setFullYear(M.getFullYear()+ma)},(M,ma)=>ma.getFullYear()-M.getFullYear(),M=>M.getFullYear());zf.every=M=>isFinite(M=Math.floor(M))&&0<M?Ee(ma=>{ma.setFullYear(Math.floor(ma.getFullYear()/M)*M);ma.setMonth(0,1);ma.setHours(0,0,0,0)},(ma,Xa)=>{ma.setFullYear(ma.getFullYear()+Xa*M)}):
null;zf.range;const Cg=Ee(M=>{M.setUTCMonth(0,1);M.setUTCHours(0,0,0,0)},(M,ma)=>{M.setUTCFullYear(M.getUTCFullYear()+ma)},(M,ma)=>ma.getUTCFullYear()-M.getUTCFullYear(),M=>M.getUTCFullYear());Cg.every=M=>isFinite(M=Math.floor(M))&&0<M?Ee(ma=>{ma.setUTCFullYear(Math.floor(ma.getUTCFullYear()/M)*M);ma.setUTCMonth(0,1);ma.setUTCHours(0,0,0,0)},(ma,Xa)=>{ma.setUTCFullYear(ma.getUTCFullYear()+Xa*M)}):null;Cg.range;const [Ki,rj]=fg(Cg,$f,yg,cf,ce,rd),[sj,vk]=fg(zf,gi,bh,xe,Td,Lc);var ej={"-":"",_:" ",
0:"0"},Wf=/^\s*\d+/,wk=/^%/,Cj=/[\\^$*+?|[\]().{}]/g,hh,Oi,Uj;(function(M){hh=Ke(M);Oi=hh.format;hh.parse;Uj=hh.utcFormat;hh.utcParse;return hh})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
var Dj=Array.prototype.map;const cl=Array.prototype.slice,Pi=new Map,zi=Symbol("vega_scale");Id("identity",O);Id("linear",t,"continuous");Id("log",Wc,["continuous","log"]);Id("pow",$e,"continuous");Id("sqrt",function(){return $e.apply(null,arguments).exponent(.5)},"continuous");Id("symlog",Kd,"continuous");Id("time",function(){return ha.apply(Af(sj,vk,zf,gi,bh,xe,Td,Lc,Rc,Oi).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);Id("utc",function(){return ha.apply(Af(Ki,
rj,Cg,$f,yg,qf,ce,rd,Rc,Uj).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);Id("sequential",Ug,["continuous","interpolating"]);Id("sequential-linear",Ug,["continuous","interpolating"]);Id("sequential-log",eh,["continuous","interpolating","log"]);Id("sequential-pow",Vg,["continuous","interpolating"]);Id("sequential-sqrt",function(){return Vg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Id("sequential-symlog",Sg,["continuous","interpolating"]);
Id("diverging-linear",kh,["continuous","interpolating"]);Id("diverging-log",Hf,["continuous","interpolating","log"]);Id("diverging-pow",La,["continuous","interpolating"]);Id("diverging-sqrt",function(){return La.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Id("diverging-symlog",U,["continuous","interpolating"]);Id("quantile",Ae,["discretizing","quantile"]);Id("quantize",Ge,"discretizing");Id("threshold",oe,"discretizing");Id("bin-ordinal",Bc,["discrete","discretizing"]);Id("ordinal",
Ra,"discrete");Id("band",lb,"discrete");Id("point",function(){return xc(lb().paddingInner(1))},"discrete");const Vj=["clamp","base","constant","exponent"];var Qi=Sd("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Wj=Sd("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),xk=Sd("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),fj=Sd("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Ri=Sd("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ag=Sd("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),
hi=Sd("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Wh=Sd("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Lh=Sd("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),hj=Sd("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");const jj={};we({accent:Wj,category10:Qi,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:xk,observable10:fj,paired:Ri,pastel1:Ag,pastel2:hi,set1:Wh,set2:Lh,set3:hj,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"},nf);we({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},M=>Kg(nf(M)));const Hj=M=>h.isArray(M)?M.map(ma=>String(ma)):String(M),ij=(M,ma)=>M[1]-ma[1],Yf=(M,ma)=>ma[1]-M[1],Si={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},yh={quantile:"quantiles",quantize:"domain"},Xi=M=>(ma,Xa,fb)=>{Xa=fb[Xa+1];fb=fb.max;fb=null!=fb?fb:Infinity;Xa=null!=Xa?Xa:fb;
ma=Number.isFinite(ma)?M(ma):null;Xa=Number.isFinite(Xa)?M(Xa):null;return ma&&Xa?ma+"  "+Xa:Xa?"\x3c "+Xa:" "+ma},ji=M=>(ma,Xa)=>Xa?M(ma):null,ii=M=>ma=>M(ma);w.Band="band";w.BinOrdinal="bin-ordinal";w.DiscreteLegend="discrete";w.Diverging="diverging";w.GradientLegend="gradient";w.Identity="identity";w.Linear="linear";w.Log="log";w.Ordinal="ordinal";w.Point="point";w.Pow="pow";w.Quantile="quantile";w.Quantize="quantize";w.Sequential="sequential";w.Sqrt="sqrt";w.SymbolLegend="symbol";w.Symlog="symlog";
w.Threshold="threshold";w.Time="time";w.UTC="utc";w.bandSpace=Za;w.domainCaption=function(M,ma,Xa){Xa=Xa||{};var fb=Math.max(3,Xa.maxlen||7),qb=Xa.format;const Ib=(Xa=Xa.formatType)||ma.type;h.isString(qb)&&ig(Ib)&&(qb=qb.replace(/%a/g,"%A").replace(/%b/g,"%B"));M=qb||"time"!==Ib?qb||"utc"!==Ib?Yg(M,ma,5,null,qb,Xa,!0):M.utcFormat("%A, %d %B %Y, %X UTC"):M.timeFormat("%A, %d %B %Y, %X");if(Uf(ma.type))return fb=Xe(ma).slice(1).map(M),ma=fb.length,`${ma} boundar${1===ma?"y":"ies"}: ${fb.join(", ")}`;
if(wg(ma.type))return qb=ma.domain(),ma=qb.length,fb=ma>fb?qb.slice(0,fb-2).map(M).join(", ")+", ending with "+qb.slice(-1).map(M):qb.map(M).join(", "),`${ma} value${1===ma?"":"s"}: ${fb}`;fb=ma.domain();return`values from ${M(fb[0])} to ${M(h.peek(fb))}`};w.interpolate=Dh;w.interpolateColors=Kg;w.interpolateRange=function(M,ma){const Xa=ma[0],fb=h.peek(ma)-Xa;return function(qb){return M(Xa+qb*fb)}};w.isContinuous=function(M){return kf(M,"continuous")};w.isDiscrete=wg;w.isDiscretizing=Uf;w.isInterpolating=
function(M){return kf(M,"interpolating")};w.isLogarithmic=Xg;w.isQuantile=function(M){return kf(M,"quantile")};w.isRegisteredScale=function(M){return M&&!0===M[zi]};w.isTemporal=ig;w.isValidScaleType=Tf;w.labelFormat=Yg;w.labelFraction=function(M){var ma=M.domain();const Xa=ma.length-1;let fb=+ma[0];ma=+h.peek(ma);let qb=ma-fb;"threshold"===M.type&&(M=Xa?qb/Xa:.1,fb-=M,ma+=M,qb=ma-fb);return Ib=>(Ib-fb)/qb};w.labelValues=Xe;w.quantizeInterpolator=function(M,ma){const Xa=Array(ma),fb=ma+1;for(let qb=
0;qb<ma;)Xa[qb]=M(++qb/fb);return Xa};w.registerScale=wd;w.scale=Id;w.scaleCopy=function(M){const ma=M.type;M=M.copy();M.type=ma;return M};w.scaleFraction=function(M,ma,Xa){var fb=Xa-ma;let qb,Ib;return fb&&Number.isFinite(fb)?(fb=(qb=M.type).indexOf("-"),qb=0>fb?qb:qb.slice(fb+1),Ib=Id(qb)().domain([ma,Xa]).range([0,1]),Vj.forEach(oc=>M[oc]?Ib[oc](M[oc]()):0),Ib):h.constant(.5)};w.scaleImplicit=vh;w.scheme=gf;w.tickCount=function(M,ma,Xa){let fb;h.isNumber(ma)&&(M.bins&&(ma=Math.max(ma,M.bins.length)),
null!=Xa&&(ma=Math.min(ma,Math.floor(h.span(M.domain())/Xa||1)+1)));h.isObject(ma)&&(fb=ma.step,ma=ma.interval);h.isString(ma)&&(ma="time"===M.type?ka.timeInterval(ma):"utc"==M.type?ka.utcInterval(ma):h.error("Only time and utc scales accept interval strings."),fb&&(ma=ma.every(fb)));return ma};w.tickFormat=Vf;w.tickValues=of;w.validTicks=Re})};
shadow$provide[34]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(21),ob(32),ob(28),ob(33)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega,w.vega,w.vega))})(this,function(w,h,ka,Za,zb){function Vb(E,Z,Aa){const Oa=E.gradient;let Hb=E.id,Ab="radial"===Oa?"p_":"";Hb||(Hb=E.id="gradient_"+qa++,"radial"===Oa?(E.x1=
Zb(E.x1,.5),E.y1=Zb(E.y1,.5),E.r1=Zb(E.r1,0),E.x2=Zb(E.x2,.5),E.y2=Zb(E.y2,.5),E.r2=Zb(E.r2,.5),Ab="p_"):(E.x1=Zb(E.x1,0),E.y1=Zb(E.y1,0),E.x2=Zb(E.x2,1),E.y2=Zb(E.y2,0)));Z[Hb]=E;return"url("+(Aa||"")+"#"+Ab+Hb+")"}function Zb(E,Z){return null!=E?E:Z}function Ub(E){return function(){return E}}function jc(E){return 1<=E?nb:-1>=E?-nb:Math.asin(E)}function Bb(E){this._+=E[0];for(let Z=1,Aa=E.length;Z<Aa;++Z)this._+=arguments[Z]+E[Z]}function Rb(E){let Z=Math.floor(E);if(!(0<=Z))throw Error(`invalid digits: ${E}`);
if(15<Z)return Bb;const Aa=Math.pow(10,Z);return function(Oa){this._+=Oa[0];for(let Hb=1,Ab=Oa.length;Hb<Ab;++Hb)this._+=Math.round(arguments[Hb]*Aa)/Aa+Oa[Hb]}}function ec(){return new Hc}function Ea(E){let Z=3;E.digits=function(Aa){if(!arguments.length)return Z;if(null==Aa)Z=null;else{const Oa=Math.floor(Aa);if(!(0<=Oa))throw new RangeError(`invalid digits: ${Aa}`);Z=Oa}return E};return()=>new Hc(Z)}function $a(E){return E.innerRadius}function vb(E){return E.outerRadius}function ub(E){return E.startAngle}
function sb(E){return E.endAngle}function wb(E){return E&&E.padAngle}function jb(E,Z,Aa,Oa,Hb,Ab,$b){var r=E-Aa,I=Z-Oa;$b=($b?Ab:-Ab)/Ka(r*r+I*I);I*=$b;r*=-$b;var fa=E+I,va=Z+r,bb=Aa+I,Ob=Oa+r;Aa=(fa+bb)/2;Oa=(va+Ob)/2;Z=bb-fa;E=Ob-va;$b=Z*Z+E*E;Ab=Hb-Ab;Ob=fa*Ob-bb*va;var cc=(0>E?-1:1)*Ka(la(0,Ab*Ab*$b-Ob*Ob));fa=(Ob*E-Z*cc)/$b;va=(-Ob*Z-E*cc)/$b;bb=(Ob*E+Z*cc)/$b;Z=(-Ob*Z+E*cc)/$b;E=fa-Aa;$b=va-Oa;Aa=bb-Aa;Oa=Z-Oa;E*E+$b*$b>Aa*Aa+Oa*Oa&&(fa=bb,va=Z);return{cx:fa,cy:va,x01:-I,y01:-r,x11:fa*(Hb/Ab-
1),y11:va*(Hb/Ab-1)}}function lc(E){return"object"===typeof E&&"length"in E?E:Array.from(E)}function ta(E){this._context=E}function ha(E){return new ta(E)}function ya(E){return E[0]}function Ra(E){return E[1]}function Wa(E,Z){function Aa(I){var fa,va=(I=lc(I)).length,bb,Ob=!1,cc;null==Hb&&($b=Ab(cc=r()));for(fa=0;fa<=va;++fa)!(fa<va&&Oa(bb=I[fa],fa,I))===Ob&&((Ob=!Ob)?$b.lineStart():$b.lineEnd()),Ob&&$b.point(+E(bb,fa,I),+Z(bb,fa,I));if(cc)return $b=null,cc+""||null}var Oa=Ub(!0),Hb=null,Ab=ha,$b=
null,r=Ea(Aa);E="function"===typeof E?E:void 0===E?ya:Ub(E);Z="function"===typeof Z?Z:void 0===Z?Ra:Ub(Z);Aa.x=function(I){return arguments.length?(E="function"===typeof I?I:Ub(+I),Aa):E};Aa.y=function(I){return arguments.length?(Z="function"===typeof I?I:Ub(+I),Aa):Z};Aa.defined=function(I){return arguments.length?(Oa="function"===typeof I?I:Ub(!!I),Aa):Oa};Aa.curve=function(I){return arguments.length?(Ab=I,null!=Hb&&($b=Ab(Hb)),Aa):Ab};Aa.context=function(I){return arguments.length?(null==I?Hb=
$b=null:$b=Ab(Hb=I),Aa):Hb};return Aa}function Ja(E,Z,Aa){function Oa(bb){var Ob,cc,Dc=(bb=lc(bb)).length,ac,Rc=!1,Lc,rd=Array(Dc),Td=Array(Dc);null==r&&(fa=I(Lc=va()));for(Ob=0;Ob<=Dc;++Ob){if(!(Ob<Dc&&$b(ac=bb[Ob],Ob,bb))===Rc)if(Rc=!Rc){var ce=Ob;fa.areaStart();fa.lineStart()}else{fa.lineEnd();fa.lineStart();for(cc=Ob-1;cc>=ce;--cc)fa.point(rd[cc],Td[cc]);fa.lineEnd();fa.areaEnd()}Rc&&(rd[Ob]=+E(ac,Ob,bb),Td[Ob]=+Z(ac,Ob,bb),fa.point(Ab?+Ab(ac,Ob,bb):rd[Ob],Aa?+Aa(ac,Ob,bb):Td[Ob]))}if(Lc)return fa=
null,Lc+""||null}function Hb(){return Wa().defined($b).curve(I).context(r)}var Ab=null,$b=Ub(!0),r=null,I=ha,fa=null,va=Ea(Oa);E="function"===typeof E?E:void 0===E?ya:Ub(+E);Z="function"===typeof Z?Z:void 0===Z?Ub(0):Ub(+Z);Aa="function"===typeof Aa?Aa:void 0===Aa?Ra:Ub(+Aa);Oa.x=function(bb){return arguments.length?(E="function"===typeof bb?bb:Ub(+bb),Ab=null,Oa):E};Oa.x0=function(bb){return arguments.length?(E="function"===typeof bb?bb:Ub(+bb),Oa):E};Oa.x1=function(bb){return arguments.length?(Ab=
null==bb?null:"function"===typeof bb?bb:Ub(+bb),Oa):Ab};Oa.y=function(bb){return arguments.length?(Z="function"===typeof bb?bb:Ub(+bb),Aa=null,Oa):Z};Oa.y0=function(bb){return arguments.length?(Z="function"===typeof bb?bb:Ub(+bb),Oa):Z};Oa.y1=function(bb){return arguments.length?(Aa=null==bb?null:"function"===typeof bb?bb:Ub(+bb),Oa):Aa};Oa.lineX0=Oa.lineY0=function(){return Hb().x(E).y(Z)};Oa.lineY1=function(){return Hb().x(E).y(Aa)};Oa.lineX1=function(){return Hb().x(Ab).y(Z)};Oa.defined=function(bb){return arguments.length?
($b="function"===typeof bb?bb:Ub(!!bb),Oa):$b};Oa.curve=function(bb){return arguments.length?(I=bb,null!=r&&(fa=I(r)),Oa):I};Oa.context=function(bb){return arguments.length?(null==bb?r=fa=null:fa=I(r=bb),Oa):r};return Oa}function ib(){}function cb(E,Z,Aa){E._context.bezierCurveTo((2*E._x0+E._x1)/3,(2*E._y0+E._y1)/3,(E._x0+2*E._x1)/3,(E._y0+2*E._y1)/3,(E._x0+4*E._x1+Z)/6,(E._y0+4*E._y1+Aa)/6)}function tb(E){this._context=E}function Pb(E){this._context=E}function gb(E){this._context=E}function V(E,
Z){this._basis=new tb(E);this._beta=Z}function aa(E,Z,Aa){E._context.bezierCurveTo(E._x1+E._k*(E._x2-E._x0),E._y1+E._k*(E._y2-E._y0),E._x2+E._k*(E._x1-Z),E._y2+E._k*(E._y1-Aa),E._x2,E._y2)}function da(E,Z){this._context=E;this._k=(1-Z)/6}function ia(E,Z){this._context=E;this._k=(1-Z)/6}function Ma(E,Z){this._context=E;this._k=(1-Z)/6}function pa(E,Z,Aa){var Oa=E._x1,Hb=E._y1,Ab=E._x2,$b=E._y2;if(1E-12<E._l01_a){var r=2*E._l01_2a+3*E._l01_a*E._l12_a+E._l12_2a,I=3*E._l01_a*(E._l01_a+E._l12_a);Oa=(Oa*
r-E._x0*E._l12_2a+E._x2*E._l01_2a)/I;Hb=(Hb*r-E._y0*E._l12_2a+E._y2*E._l01_2a)/I}1E-12<E._l23_a&&(r=2*E._l23_2a+3*E._l23_a*E._l12_a+E._l12_2a,I=3*E._l23_a*(E._l23_a+E._l12_a),Ab=(Ab*r+E._x1*E._l23_2a-Z*E._l12_2a)/I,$b=($b*r+E._y1*E._l23_2a-Aa*E._l12_2a)/I);E._context.bezierCurveTo(Oa,Hb,Ab,$b,E._x2,E._y2)}function sa(E,Z){this._context=E;this._alpha=Z}function m(E,Z){this._context=E;this._alpha=Z}function F(E,Z){this._context=E;this._alpha=Z}function L(E){this._context=E}function u(E,Z,Aa){var Oa=
E._x1-E._x0;Z-=E._x1;var Hb=(E._y1-E._y0)/(Oa||0>Z&&-0);E=(Aa-E._y1)/(Z||0>Oa&&-0);return((0>Hb?-1:1)+(0>E?-1:1))*Math.min(Math.abs(Hb),Math.abs(E),.5*Math.abs((Hb*Z+E*Oa)/(Oa+Z)))||0}function R(E,Z){var Aa=E._x1-E._x0;return Aa?(3*(E._y1-E._y0)/Aa-Z)/2:Z}function B(E,Z,Aa){var Oa=E._x0,Hb=E._x1,Ab=E._y1,$b=(Hb-Oa)/3;E._context.bezierCurveTo(Oa+$b,E._y0+$b*Z,Hb-$b,Ab-$b*Aa,Hb,Ab)}function z(E){this._context=E}function N(E){this._context=new A(E)}function A(E){this._context=E}function D(E){this._context=
E}function H(E){var Z,Aa=E.length-1,Oa=Array(Aa),Hb=Array(Aa),Ab=Array(Aa);Oa[0]=0;Hb[0]=2;Ab[0]=E[0]+2*E[1];for(Z=1;Z<Aa-1;++Z)Oa[Z]=1,Hb[Z]=4,Ab[Z]=4*E[Z]+2*E[Z+1];Oa[Aa-1]=2;Hb[Aa-1]=7;Ab[Aa-1]=8*E[Aa-1]+E[Aa];for(Z=1;Z<Aa;++Z){var $b=Oa[Z]/Hb[Z-1];Hb[Z]-=$b;Ab[Z]-=$b*Ab[Z-1]}Oa[Aa-1]=Ab[Aa-1]/Hb[Aa-1];for(Z=Aa-2;0<=Z;--Z)Oa[Z]=(Ab[Z]-Oa[Z+1])/Hb[Z];Hb[Aa-1]=(E[Aa]+Oa[Aa-1])/2;for(Z=0;Z<Aa-1;++Z)Hb[Z]=2*E[Z+1]-Oa[Z+1];return[Oa,Hb]}function W(E,Z){this._context=E;this._t=Z}function Da(E,Z,Aa){E=
h.hasOwnProperty(de,E)&&de[E];var Oa=null;E&&(Oa=E.curve||E[Z||"vertical"],E.tension&&null!=Aa&&(Oa=Oa[E.tension](Aa)));return Oa}function P(E){const Z=[];(E.match(Ad)||[]).forEach(Aa=>{let Oa=Aa[0];var Hb=Oa.toLowerCase();const Ab=Wd[Hb];var $b=Aa.slice(1).trim();Aa=[];for(let I=0;Ab&&I<$b.length;)for(let fa=0;fa<Ab;++fa){var r="a"!==Hb||3!==fa&&4!==fa?xd:ve;r=$b.slice(I).match(r);if(null===r)throw Error("Invalid SVG path, incorrect parameter type");I+=r[0].length;Aa.push(+r[0]);r=$b.slice(I).match(le);
null!==r&&(I+=r[0].length)}$b=Aa.length;if($b<Ab||$b&&0!==$b%Ab)throw Error("Invalid SVG path, incorrect parameter count");Z.push([Oa,...Aa.slice(0,Ab)]);if($b!==Ab)for("m"===Hb&&(Oa="M"===Oa?"L":"l"),Hb=Ab;Hb<$b;Hb+=Ab)Z.push([Oa,...Aa.slice(Hb,Hb+Ab)])});return Z}function ja(E,Z,Aa,Oa,Hb,Ab,$b,r,I){const fa=Dg.call(arguments);if(ef[fa])return ef[fa];var va=$b*be;const bb=Math.sin(va);va=Math.cos(va);Aa=Math.abs(Aa);Oa=Math.abs(Oa);var Ob=va*(r-E)*.5+bb*(I-Z)*.5,cc=va*(I-Z)*.5-bb*(r-E)*.5;Ob=Ob*
Ob/(Aa*Aa)+cc*cc/(Oa*Oa);1<Ob&&(Ob=Math.sqrt(Ob),Aa*=Ob,Oa*=Ob);var Dc=va/Aa,ac=bb/Aa,Rc=-bb/Oa,Lc=va/Oa;Ob=Dc*r+ac*I;cc=Rc*r+Lc*I;Dc=Dc*E+ac*Z;ac=Rc*E+Lc*Z;Rc=1/((Dc-Ob)*(Dc-Ob)+(ac-cc)*(ac-cc))-.25;0>Rc&&(Rc=0);Lc=Math.sqrt(Rc);Ab==Hb&&(Lc=-Lc);Rc=.5*(Ob+Dc)-Lc*(ac-cc);Lc=.5*(cc+ac)+Lc*(Dc-Ob);Ob=Math.atan2(cc-Lc,Ob-Rc);cc=Math.atan2(ac-Lc,Dc-Rc)-Ob;0>cc&&1===Ab?cc+=Vc:0<cc&&0===Ab&&(cc-=Vc);Dc=Math.ceil(Math.abs(cc/(Ce+.001)));ac=[];for(let rd=0;rd<Dc;++rd)ac[rd]=[Rc,Lc,Ob+rd*cc/Dc,Ob+(rd+1)*cc/
Dc,Aa,Oa,bb,va];return ef[fa]=ac}function Ba(E,Z,Aa,Oa,Hb,Ab){var $b=null,r=0,I=0,fa=0,va=0,bb=0,Ob=0;null==Aa&&(Aa=0);null==Oa&&(Oa=0);null==Hb&&(Hb=1);null==Ab&&(Ab=Hb);E.beginPath&&E.beginPath();for(var cc=0,Dc=Z.length;cc<Dc;++cc){var ac=Z[cc];if(1!==Hb||1!==Ab){var Rc=Hb;var Lc=Ab;var rd=tf[0]=ac[0];if("a"===rd||"A"===rd)tf[1]=Rc*ac[1],tf[2]=Lc*ac[2],tf[3]=ac[3],tf[4]=ac[4],tf[5]=ac[5],tf[6]=Rc*ac[6],tf[7]=Lc*ac[7];else if("h"===rd||"H"===rd)tf[1]=Rc*ac[1];else if("v"===rd||"V"===rd)tf[1]=Lc*
ac[1];else{rd=1;for(var Td=ac.length;rd<Td;++rd)tf[rd]=(1==rd%2?Rc:Lc)*ac[rd]}ac=tf}switch(ac[0]){case "l":r+=ac[1];I+=ac[2];E.lineTo(r+Aa,I+Oa);break;case "L":r=ac[1];I=ac[2];E.lineTo(r+Aa,I+Oa);break;case "h":r+=ac[1];E.lineTo(r+Aa,I+Oa);break;case "H":r=ac[1];E.lineTo(r+Aa,I+Oa);break;case "v":I+=ac[1];E.lineTo(r+Aa,I+Oa);break;case "V":I=ac[1];E.lineTo(r+Aa,I+Oa);break;case "m":r+=ac[1];I+=ac[2];bb=r;Ob=I;E.moveTo(r+Aa,I+Oa);break;case "M":r=ac[1];I=ac[2];bb=r;Ob=I;E.moveTo(r+Aa,I+Oa);break;case "c":Rc=
r+ac[5];Lc=I+ac[6];fa=r+ac[3];va=I+ac[4];E.bezierCurveTo(r+ac[1]+Aa,I+ac[2]+Oa,fa+Aa,va+Oa,Rc+Aa,Lc+Oa);r=Rc;I=Lc;break;case "C":r=ac[5];I=ac[6];fa=ac[3];va=ac[4];E.bezierCurveTo(ac[1]+Aa,ac[2]+Oa,fa+Aa,va+Oa,r+Aa,I+Oa);break;case "s":Rc=r+ac[3];Lc=I+ac[4];fa=2*r-fa;va=2*I-va;E.bezierCurveTo(fa+Aa,va+Oa,r+ac[1]+Aa,I+ac[2]+Oa,Rc+Aa,Lc+Oa);fa=r+ac[1];va=I+ac[2];r=Rc;I=Lc;break;case "S":Rc=ac[3];Lc=ac[4];fa=2*r-fa;va=2*I-va;E.bezierCurveTo(fa+Aa,va+Oa,ac[1]+Aa,ac[2]+Oa,Rc+Aa,Lc+Oa);r=Rc;I=Lc;fa=ac[1];
va=ac[2];break;case "q":Rc=r+ac[3];Lc=I+ac[4];fa=r+ac[1];va=I+ac[2];E.quadraticCurveTo(fa+Aa,va+Oa,Rc+Aa,Lc+Oa);r=Rc;I=Lc;break;case "Q":Rc=ac[3];Lc=ac[4];E.quadraticCurveTo(ac[1]+Aa,ac[2]+Oa,Rc+Aa,Lc+Oa);r=Rc;I=Lc;fa=ac[1];va=ac[2];break;case "t":Rc=r+ac[1];Lc=I+ac[2];null===$b[0].match(/[QqTt]/)?(fa=r,va=I):"t"===$b[0]?(fa=2*r-ce,va=2*I-xe):"q"===$b[0]&&(fa=2*r-fa,va=2*I-va);var ce=fa;var xe=va;E.quadraticCurveTo(fa+Aa,va+Oa,Rc+Aa,Lc+Oa);r=Rc;I=Lc;fa=r+ac[1];va=I+ac[2];break;case "T":Rc=ac[1];Lc=
ac[2];fa=2*r-fa;va=2*I-va;E.quadraticCurveTo(fa+Aa,va+Oa,Rc+Aa,Lc+Oa);r=Rc;I=Lc;break;case "a":Na(E,r+Aa,I+Oa,[ac[1],ac[2],ac[3],ac[4],ac[5],ac[6]+r+Aa,ac[7]+I+Oa]);r+=ac[6];I+=ac[7];break;case "A":Na(E,r+Aa,I+Oa,[ac[1],ac[2],ac[3],ac[4],ac[5],ac[6]+Aa,ac[7]+Oa]);r=ac[6];I=ac[7];break;case "z":case "Z":r=bb,I=Ob,E.closePath()}$b=ac}}function Na(E,Z,Aa,Oa){Z=ja(Oa[5],Oa[6],Oa[0],Oa[1],Oa[3],Oa[4],Oa[2],Z,Aa);for(Aa=0;Aa<Z.length;++Aa){a:{var Hb=Z[Aa];Oa=Dg.call(Hb);if(jf[Oa]){Oa=jf[Oa];break a}var Ab=
Hb[0],$b=Hb[1],r=Hb[2],I=Hb[3],fa=Hb[4],va=Hb[5],bb=Hb[6],Ob=Hb[7];Hb=Ob*fa;const Dc=-bb*va;fa*=bb;va*=Ob;var cc=Math.cos(r);const ac=Math.sin(r);bb=Math.cos(I);Ob=Math.sin(I);r=.5*(I-r);I=Math.sin(.5*r);I=8/3*I*I/Math.sin(r);r=Ab+cc-I*ac;cc=$b+ac+I*cc;Ab+=bb;$b+=Ob;Ob=Ab+I*Ob;bb=$b-I*bb;Oa=jf[Oa]=[Hb*r+Dc*cc,fa*r+va*cc,Hb*Ob+Dc*bb,fa*Ob+va*bb,Hb*Ab+Dc*$b,fa*Ab+va*$b]}E.bezierCurveTo(Oa[0],Oa[1],Oa[2],Oa[3],Oa[4],Oa[5])}}function Qa(E){return h.hasOwnProperty(Mf,E)?Mf[E]:eb(E)}function eb(E){if(!h.hasOwnProperty(ag,
E)){const Z=P(E);ag[E]={draw:function(Aa,Oa){Ba(Aa,Z,0,0,Math.sqrt(Oa)/2)}}}return ag[E]}function xb(E){return E.x}function kb(E){return E.y}function Sb(E){return E.width}function X(E){return E.height}function Ha(E){return"function"===typeof E?E:()=>+E}function Nb(E,Z,Aa){return Math.max(Z,Math.min(E,Aa))}function nc(){function E(va,bb,Ob){var cc;bb=null!=bb?bb:+Z.call(this,va);Ob=null!=Ob?Ob:+Aa.call(this,va);var Dc=+Oa.call(this,va),ac=+Hb.call(this,va),Rc=Math.min(Dc,ac)/2,Lc=Nb(+Ab.call(this,
va),0,Rc),rd=Nb(+$b.call(this,va),0,Rc),Td=Nb(+r.call(this,va),0,Rc);va=Nb(+I.call(this,va),0,Rc);fa||(fa=cc=ec());0>=Lc&&0>=rd&&0>=Td&&0>=va?fa.rect(bb,Ob,Dc,ac):(Dc=bb+Dc,ac=Ob+ac,fa.moveTo(bb+Lc,Ob),fa.lineTo(Dc-rd,Ob),fa.bezierCurveTo(Dc-.448084975506*rd,Ob,Dc,Ob+.448084975506*rd,Dc,Ob+rd),fa.lineTo(Dc,ac-va),fa.bezierCurveTo(Dc,ac-.448084975506*va,Dc-.448084975506*va,ac,Dc-va,ac),fa.lineTo(bb+Td,ac),fa.bezierCurveTo(bb+.448084975506*Td,ac,bb,ac-.448084975506*Td,bb,ac-Td),fa.lineTo(bb,Ob+Lc),
fa.bezierCurveTo(bb,Ob+.448084975506*Lc,bb+.448084975506*Lc,Ob,bb+Lc,Ob),fa.closePath());if(cc)return fa=null,cc+""||null}var Z=xb,Aa=kb,Oa=Sb,Hb=X,Ab=Ha(0),$b=Ab,r=Ab,I=Ab,fa=null;E.x=function(va){return arguments.length?(Z=Ha(va),E):Z};E.y=function(va){return arguments.length?(Aa=Ha(va),E):Aa};E.width=function(va){return arguments.length?(Oa=Ha(va),E):Oa};E.height=function(va){return arguments.length?(Hb=Ha(va),E):Hb};E.cornerRadius=function(va,bb,Ob,cc){return arguments.length?(Ab=Ha(va),$b=null!=
bb?Ha(bb):Ab,I=null!=Ob?Ha(Ob):Ab,r=null!=cc?Ha(cc):$b,E):Ab};E.context=function(va){return arguments.length?(fa=null==va?null:va,E):fa};return E}function Wb(){function E(va){var bb,Ob=va.length,cc,Dc=!1,ac;null==Ab&&(Ab=ac=ec());for(bb=0;bb<=Ob;++bb)if(!(bb<Ob&&Hb(cc=va[bb],bb,va))===Dc&&(Dc=!Dc)&&($b=0),Dc){var Rc=+Z(cc,bb,va),Lc=+Aa(cc,bb,va);const cf=+Oa(cc,bb,va)/2;if($b){var rd=I-Lc,Td=Rc-r;if(rd||Td){var ce=Math.hypot(rd,Td),xe=(rd/=ce)*fa;ce=(Td/=ce)*fa;var qf=Math.atan2(Td,rd);Ab.moveTo(r-
xe,I-ce);Ab.lineTo(Rc-rd*cf,Lc-Td*cf);Ab.arc(Rc,Lc,cf,qf-Math.PI,qf);Ab.lineTo(r+xe,I+ce);Ab.arc(r,I,fa,qf,qf+Math.PI)}else Ab.arc(Rc,Lc,cf,0,Vc);Ab.closePath()}else $b=1;r=Rc;I=Lc;fa=cf}if(ac)return Ab=null,ac+""||null}var Z,Aa,Oa,Hb,Ab=null,$b,r,I,fa;E.x=function(va){return arguments.length?(Z=va,E):Z};E.y=function(va){return arguments.length?(Aa=va,E):Aa};E.size=function(va){return arguments.length?(Oa=va,E):Oa};E.defined=function(va){return arguments.length?(Hb=va,E):Hb};E.context=function(va){return arguments.length?
(Ab=null==va?null:va,E):Ab};return E}function Jb(E,Z){return null!=E?E:Z}function Lb(E){return E.cornerRadius||E.cornerRadiusTopLeft||E.cornerRadiusTopRight||E.cornerRadiusBottomRight||E.cornerRadiusBottomLeft}function sc(E,Z,Aa,Oa){return Ug.context(E)(Z,Aa,Oa)}function Oc(E,Z,Aa){var Oa=Z.clip;E=E._defs;Z=Z.clip_id||(Z.clip_id="clip"+Vg++);E=E.clipping[Z]||(E.clipping[Z]={id:Z});h.isFunction(Oa)?E.path=Oa(null):Lb(Aa)?E.path=sc(null,Aa,0,0):(E.width=Aa.width||0,E.height=Aa.height||0);return"url(#"+
Z+")"}function ra(E){this.clear();E&&this.union(E)}function Eb(E){this.mark=E;this.bounds=this.bounds||new ra}function Ta(E){Eb.call(this,E);this.items=this.items||[]}function yb(E,Z,Aa){if(Z.stroke&&0!==Z.opacity&&0!==Z.strokeOpacity){const Oa=null!=Z.strokeWidth?+Z.strokeWidth:1;E.expand(Oa+(Aa?Z.strokeJoin&&"miter"!==Z.strokeJoin?0:Oa:0))}return E}function Gb(E,Z){Hf=E;Z?(lb=Z*be,xc=Xd=Math.cos(lb),Bc=Math.sin(lb),wd=-Bc):(xc=Xd=1,lb=Bc=wd=0);return Xg}function Cb(E,Z,Aa,Oa){Aa=(E-Z)/(E+Aa-2*Z);
0<Aa&&1>Aa&&Oa(E+(Z-E)*Aa)}function Xb(E,Z,Aa,Oa,Hb){const Ab=Oa-E+3*Z-3*Aa,$b=E+Aa-2*Z;var r=E-Z;let I=0,fa=0;1E-14<Math.abs(Ab)?(r=$b*$b+r*Ab,0<=r&&(r=Math.sqrt(r),I=(-$b+r)/Ab,fa=(-$b-r)/Ab)):I=.5*r/$b;0<I&&1>I&&Hb(gc(I,E,Z,Aa,Oa));0<fa&&1>fa&&Hb(gc(fa,E,Z,Aa,Oa))}function gc(E,Z,Aa,Oa,Hb){const Ab=1-E,$b=Ab*Ab,r=E*E;return $b*Ab*Z+3*$b*E*Aa+3*Ab*r*Oa+r*E*Hb}function wc(E){return function(Z,Aa){if(!ig)return!0;E(ig,Z);Kg.clear().union(Z.bounds).intersect(Aa).round();const {x1:Oa,y1:Hb,x2:Ab,y2:$b}=
Kg;for(Z=Hb;Z<=$b;++Z)for(Aa=Oa;Aa<=Ab;++Aa)if(ig.isPointInPath(Aa,Z))return!0;return!1}}function Xc(E,Z){return Z.contains(E.x||0,E.y||0)}function Kc(E,Z){const Aa=E.x||0,Oa=E.y||0;return Z.intersects(Kg.set(Aa,Oa,Aa+(E.width||0),Oa+(E.height||0)))}function na(E,Z){const Aa=E.x||0,Oa=E.y||0;return Ia(Z,Aa,Oa,null!=E.x2?E.x2:Aa,null!=E.y2?E.y2:Oa)}function Ia(E,Z,Aa,Oa,Hb){const {x1:Ab,y1:$b,x2:r,y2:I}=E;E=Oa-Z;Hb-=Aa;Oa=0;let fa=1,va,bb,Ob,cc;for(cc=0;4>cc;++cc){0===cc&&(va=-E,bb=-(Ab-Z));1===cc&&
(va=E,bb=r-Z);2===cc&&(va=-Hb,bb=-($b-Aa));3===cc&&(va=Hb,bb=I-Aa);if(1E-10>Math.abs(va)&&0>bb)return!1;Ob=bb/va;if(0>va){if(Ob>fa)return!1;Ob>Oa&&(Oa=Ob)}else if(0<va){if(Ob<Oa)return!1;Ob<fa&&(fa=Ob)}}return!0}function hb(E,Z){E.globalCompositeOperation=Z.blend||"source-over"}function S(E,Z){return null==E?Z:E}function v(E,Z){const Aa=Z.length;for(let Oa=0;Oa<Aa;++Oa)E.addColorStop(Z[Oa].offset,Z[Oa].color);return E}function ca(E,Z,Aa){const Oa=Aa.width(),Hb=Aa.height();if("radial"===Z.gradient)E=
E.createRadialGradient(Aa.x1+S(Z.x1,.5)*Oa,Aa.y1+S(Z.y1,.5)*Hb,Math.max(Oa,Hb)*S(Z.r1,0),Aa.x1+S(Z.x2,.5)*Oa,Aa.y1+S(Z.y2,.5)*Hb,Math.max(Oa,Hb)*S(Z.r2,.5));else{const Ab=S(Z.x1,0),$b=S(Z.y1,0),r=S(Z.x2,1),I=S(Z.y2,0);if(Ab===r||$b===I||Oa===Hb)E=E.createLinearGradient(Aa.x1+Ab*Oa,Aa.y1+$b*Hb,Aa.x1+r*Oa,Aa.y1+I*Hb);else{Aa=ka.canvas(Math.ceil(Oa),Math.ceil(Hb));const fa=Aa.getContext("2d");fa.scale(Oa,Hb);fa.fillStyle=v(fa.createLinearGradient(Ab,$b,r,I),Z.stops);fa.fillRect(0,0,Oa,Hb);return E.createPattern(Aa,
"no-repeat")}}return v(E,Z.stops)}function za(E,Z,Aa){Aa*=null==Z.fillOpacity?1:Z.fillOpacity;return 0<Aa?(E.globalAlpha=Aa,Z=(Aa=Z.fill)&&Aa.gradient?ca(E,Aa,Z.bounds):Aa,E.fillStyle=Z,!0):!1}function Fa(E,Z,Aa){var Oa=null!=(Oa=Z.strokeWidth)?Oa:1;if(0>=Oa)return!1;Aa*=null==Z.strokeOpacity?1:Z.strokeOpacity;return 0<Aa?(E.globalAlpha=Aa,Aa=(Aa=Z.stroke)&&Aa.gradient?ca(E,Aa,Z.bounds):Aa,E.strokeStyle=Aa,E.lineWidth=Oa,E.lineCap=Z.strokeCap||"butt",E.lineJoin=Z.strokeJoin||"miter",E.miterLimit=
Z.strokeMiterLimit||10,E.setLineDash&&(E.setLineDash(Z.strokeDash||Dh),E.lineDashOffset=Z.strokeDashOffset||0),!0):!1}function Ua(E,Z){return E.zindex-Z.zindex||E.index-Z.index}function mb(E){if(!E.zdirty)return E.zitems;var Z=E.items,Aa=[],Oa;var Hb=0;for(Oa=Z.length;Hb<Oa;++Hb){var Ab=Z[Hb];Ab.index=Hb;Ab.zindex&&Aa.push(Ab)}E.zdirty=!1;return E.zitems=Aa.sort(Ua)}function Mb(E,Z){var Aa=E.items,Oa;if(Aa&&Aa.length){var Hb=mb(E);if(Hb&&Hb.length){E=0;for(Oa=Aa.length;E<Oa;++E)Aa[E].zindex||Z(Aa[E]);
Aa=Hb}E=0;for(Oa=Aa.length;E<Oa;++E)Z(Aa[E])}}function Fb(E,Z){var Aa=E.items,Oa,Hb;if(!Aa||!Aa.length)return null;const Ab=mb(E);Ab&&Ab.length&&(Aa=Ab);for(Hb=Aa.length;0<=--Hb;)if(Oa=Z(Aa[Hb]))return Oa;if(Aa===Ab)for(Aa=E.items,Hb=Aa.length;0<=--Hb;)if(!Aa[Hb].zindex&&(Oa=Z(Aa[Hb])))return Oa;return null}function Kb(E){return function(Z,Aa,Oa){Mb(Aa,Hb=>{Oa&&!Oa.intersects(Hb.bounds)||yc(E,Z,Hb,Hb)})}}function vc(E){return function(Z,Aa,Oa){!Aa.items.length||Oa&&!Oa.intersects(Aa.bounds)||yc(E,
Z,Aa.items[0],Aa.items)}}function yc(E,Z,Aa,Oa){var Hb=null==Aa.opacity?1:Aa.opacity;0===Hb||E(Z,Oa)||(hb(Z,Aa),Aa.fill&&za(Z,Aa,Hb)&&Z.fill(),Aa.stroke&&Fa(Z,Aa,Hb)&&Z.stroke())}function Ic(E){E=E||h.truthy;return function(Z,Aa,Oa,Hb,Ab,$b){Oa*=Z.pixelRatio;Hb*=Z.pixelRatio;return Fb(Aa,r=>{const I=r.bounds;if((!I||I.contains(Ab,$b))&&I&&E(Z,r,Oa,Hb,Ab,$b))return r})}}function kd(E,Z){return function(Aa,Oa,Hb,Ab){var $b=Array.isArray(Oa)?Oa[0]:Oa,r=null==Z?$b.fill:Z,I=$b.stroke&&Aa.isPointInStroke;
if(I){var fa=$b.strokeWidth;$b=$b.strokeCap;Aa.lineWidth=null!=fa?fa:1;Aa.lineCap=null!=$b?$b:"butt"}return E(Aa,Oa)?!1:r&&Aa.isPointInPath(Hb,Ab)||I&&Aa.isPointInStroke(Hb,Ab)}}function $c(E,Z){return"translate("+E+","+Z+")"}function Pc(E,Z,Aa){function Oa(Hb,Ab){var $b=Ab.x||0,r=Ab.y||0,I=Ab.angle||0;Hb.translate($b,r);I&&Hb.rotate(I*=be);Hb.beginPath();Z(Hb,Ab);I&&Hb.rotate(-I);Hb.translate(-$b,-r)}return{type:E,tag:"path",nested:!1,attr:function(Hb,Ab){var $b=$c(Ab.x||0,Ab.y||0)+(Ab.angle?" rotate("+
(Ab.angle+")"):"");Hb("transform",$b);Hb("d",Z(null,Ab))},bound:function(Hb,Ab){Z(Gb(Hb,Ab.angle),Ab);return yb(Hb,Ab).translate(Ab.x||0,Ab.y||0)},draw:Kb(Oa),pick:Ic(kd(Oa)),isect:Aa||wc(Oa)}}function hd(E,Z,Aa){function Oa(Ab,$b){Ab.beginPath();Z(Ab,$b)}const Hb=kd(Oa);return{type:E,tag:"path",nested:!0,attr:function(Ab,$b){$b=$b.mark.items;$b.length&&Ab("d",Z(null,$b))},bound:function(Ab,$b){$b=$b.items;if(0===$b.length)return Ab;Z(Gb(Ab),$b);return yb(Ab,$b[0])},draw:vc(Oa),pick:function(Ab,$b,
r,I,fa,va){var bb=$b.items;$b=$b.bounds;if(!bb||!bb.length||$b&&!$b.contains(fa,va))return null;r*=Ab.pixelRatio;I*=Ab.pixelRatio;return Hb(Ab,bb,r,I)?bb[0]:null},isect:Xc,tip:Aa}}function md(E,Z){E.beginPath();Lb(Z)?sc(E,Z,0,0):E.rect(0,0,Z.width||0,Z.height||0);E.clip()}function ad(E){const Z=S(E.strokeWidth,1);return null!=E.strokeOffset?E.strokeOffset:E.stroke&&.5<Z&&1.5>Z?.5-Math.abs(Z-1):0}function ke(E,Z,Aa,Oa){const Hb=ad(Z);E.beginPath();sc(E,Z,(Aa||0)+Hb,(Oa||0)+Hb)}function id(E,Z){var Aa=
E.image;if(!Aa||E.url&&E.url!==Aa.url)Aa={complete:!1,width:0,height:0},Z.loadImage(E.url).then(Oa=>{E.image=Oa;E.image.url=E.url});return Aa}function y(E,Z){return null!=E.width?E.width:Z&&Z.width?!1!==E.aspect&&E.height?E.height*Z.width/Z.height:Z.width:0}function K(E,Z){return null!=E.height?E.height:Z&&Z.height?!1!==E.aspect&&E.width?E.width*Z.height/Z.width:Z.height:0}function ua(E,Z){return"center"===E?Z/2:"right"===E?Z:0}function t(E,Z){return"middle"===E?Z/2:"bottom"===E?Z:0}function O(E,
Z){var Aa=Z.path;if(null==Aa)return!0;var Oa=Z.x||0,Hb=Z.y||0,Ab=Z.scaleX||1,$b=Z.scaleY||1,r=(Z.angle||0)*be,I=Z.pathCache;I&&I.path===Aa||((Z.pathCache=I=P(Aa)).path=Aa);r&&E.rotate&&E.translate?(E.translate(Oa,Hb),E.rotate(r),Ba(E,I,0,0,Ab,$b),E.rotate(-r),E.translate(-Oa,-Hb)):Ba(E,I,Oa,Hb,Ab,$b)}function ba(E,Z){E.beginPath();sc(E,Z)}function xa(E,Z,Aa){if(Z.stroke&&Fa(E,Z,Aa)){Aa=Z.x||0;var Oa=Z.y||0;var Hb=null!=Z.x2?Z.x2:Aa;Z=null!=Z.y2?Z.y2:Oa;E.beginPath();E.moveTo(Aa,Oa);E.lineTo(Hb,Z);
return!0}return!1}function oa(E){og.width=E&&ig?Qb:ab}function ab(E,Z){Z=Nc(E,Z);E=ic(E);return~~(.8*Z.length*E)}function Qb(E,Z){return 0>=ic(E)||!(Z=Nc(E,Z))?0:Yb(Z,ud(E))}function Yb(E,Z){const Aa=`(${Z}) ${E}`;let Oa=Rh.get(Aa);void 0===Oa&&(ig.font=Z,Oa=ig.measureText(E).width,Rh.set(Aa,Oa));return Oa}function ic(E){return null!=E.fontSize?+E.fontSize||0:11}function Ac(E){return null!=E.lineHeight?E.lineHeight:ic(E)+2}function Mc(E){E=E.lineBreak&&E.text&&!h.isArray(E.text)?E.text.split(E.lineBreak):
E.text;return h.isArray(E)?1<E.length?E:E[0]:E}function Nc(E,Z){Z=null==Z?"":(Z+"").trim();if(0<E.limit&&Z.length){var Aa=+E.limit,Oa=Wc(E);if(!(Oa(Z)<Aa)){var Hb=E.ellipsis||"",Ab="rtl"===E.dir;E=0;var $b=Z.length;Aa-=Oa(Hb);if(Ab){for(;E<$b;)Ab=E+$b>>>1,Oa(Z.slice(Ab))>Aa?E=Ab+1:$b=Ab;Z=Hb+Z.slice(E)}else{for(;E<$b;)Ab=1+(E+$b>>>1),Oa(Z.slice(0,Ab))<Aa?E=Ab:$b=Ab-1;Z=Z.slice(0,E)+Hb}}}return Z}function Wc(E){if(og.width===Qb){const Z=ud(E);return Aa=>Yb(Aa,Z)}if(og.width===ab){const Z=ic(E);return Aa=>
~~(.8*Aa.length*Z)}return Z=>og.width(E,Z)}function td(E,Z){E=E.font;return(Z&&E?String(E).replace(/"/g,"'"):E)||"sans-serif"}function ud(E,Z){return(E.fontStyle?E.fontStyle+" ":"")+(E.fontVariant?E.fontVariant+" ":"")+(E.fontWeight?E.fontWeight+" ":"")+ic(E)+"px "+td(E,Z)}function ee(E){var Z=E.baseline,Aa=ic(E);return Math.round("top"===Z?.79*Aa:"middle"===Z?.3*Aa:"bottom"===Z?-.21*Aa:"line-top"===Z?.29*Aa+.5*Ac(E):"line-bottom"===Z?.29*Aa-.5*Ac(E):0)}function Kd(E){var Z=E.x||0,Aa=E.y||0,Oa=E.radius||
0;Oa&&(E=(E.theta||0)-Ce,Z+=Oa*Math.cos(E),Aa+=Oa*Math.sin(E));jg.x1=Z;jg.y1=Aa;return jg}function ge(E,Z,Aa){var Oa=og.height(Z),Hb=Z.align,Ab=Kd(Z),$b=Ab.x1;Ab=Ab.y1;var r=Z.dx||0,I=(Z.dy||0)+ee(Z)-Math.round(.8*Oa),fa=Mc(Z);h.isArray(fa)?(Oa+=Ac(Z)*(fa.length-1),fa=fa.reduce((va,bb)=>Math.max(va,og.width(Z,bb)),0)):fa=og.width(Z,fa);"center"===Hb?r-=fa/2:"right"===Hb&&(r-=fa);E.set(r+=$b,I+=Ab,r+fa,I+Oa);if(Z.angle&&!Aa)E.rotate(Z.angle*be,$b,Ab);else if(2===Aa)return E.rotatedPoints(Z.angle*be,
$b,Ab);return E}function Je(E,Z,Aa){var Oa=Fg[E.mark.marktype];Z=Z||Oa.bound;Oa.nested&&(E=E.mark);return Z(E.bounds||(E.bounds=new ra),E,Aa)}function Ie(E,Z,Aa){var Oa=Fg[E.marktype],Hb=Oa.bound,Ab=E.items,$b=Ab&&Ab.length;if(Oa.nested)return $b?E=Ab[0]:(ti.mark=E,E=ti),Aa=Je(E,Hb,Aa),Z=Z&&Z.union(Aa)||Aa;Z=Z||E.bounds&&E.bounds.clear()||new ra;if($b)for(Oa=0,$b=Ab.length;Oa<$b;++Oa)Z.union(Je(Ab[Oa],Hb,Aa));return E.bounds=Z}function Ne(E,Z){return JSON.stringify(E,di,Z)}function $e(E){E="string"===
typeof E?JSON.parse(E):E;return Ae(E)}function Ae(E){var Z=E.marktype,Aa=E.items,Oa;if(Aa){var Hb=0;for(Oa=Aa.length;Hb<Oa;++Hb){var Ab=Z?"mark":"group";Aa[Hb][Ab]=E;Aa[Hb].zindex&&(Aa[Hb][Ab].zdirty=!0);"group"===(Z||Ab)&&Ae(Aa[Hb])}}Z&&Ie(E);return E}function Ge(E,Z){Z={bounds:new ra,clip:!!E.clip,group:Z,interactive:!1===E.interactive?!1:!0,items:[],marktype:E.marktype,name:E.name||void 0,role:E.role||void 0,zindex:E.zindex||0};null!=E.aria&&(Z.aria=E.aria);E.description&&(Z.description=E.description);
return Z}function oe(E,Z,Aa){!E&&"undefined"!==typeof document&&document.createElement&&(E=document);return E?Aa?E.createElementNS(Aa,Z):E.createElement(Z):null}function Ee(E,Z){Z=Z.toLowerCase();E=E.childNodes;for(var Aa=0,Oa=E.length;Aa<Oa;++Aa)if(E[Aa].tagName.toLowerCase()===Z)return E[Aa]}function ye(E,Z,Aa,Oa){Z=E.childNodes[Z];if(!Z||Z.tagName.toLowerCase()!==Aa.toLowerCase()){var Hb=Z||null;Z=oe(E.ownerDocument,Aa,Oa);E.insertBefore(Z,Hb)}return Z}function yd(E,Z){for(var Aa=E.childNodes,
Oa=Aa.length;Oa>Z;)E.removeChild(Aa[--Oa]);return E}function fg(E){return"mark-"+E.marktype+(E.role?" role-"+E.role:"")+(E.name?" "+E.name:"")}function Ze(E,Z){const Aa=Z.getBoundingClientRect();return[E.clientX-Aa.left-(Z.clientLeft||0),E.clientY-Aa.top-(Z.clientTop||0)]}function Pe(E,Z,Aa,Oa){E.element().setAttribute("title",Oa||"")}function Qe(E,Z){("touchstart"===Z||"touchmove"===Z||"touchend"===Z?["touchstart","touchmove","touchend"]:[Z]).forEach(Aa=>Ke(E,Aa))}function Ke(E,Z){const Aa=E.canvas();
Aa&&!E._events[Z]&&(E._events[Z]=1,Aa.addEventListener(Z,E[Z]?Oa=>E[Z](Oa):Oa=>E.fire(Z,Oa)))}function Ed(E,Z,Aa){Z.forEach(Oa=>E.fire(Oa,Aa))}function ze(E,Z,Aa){return function(Oa){const Hb=this._active,Ab=this.pickEvent(Oa);Ab!==Hb&&(Hb&&Hb.exit||Ed(this,Aa,Oa),this._active=Ab,Ed(this,Z,Oa));Ed(this,E,Oa)}}function ie(E){return function(Z){Ed(this,E,Z);this._active=null}}function Ca(E,Z){var Aa=!1===Z.aria;E("aria-hidden",Aa||void 0);if(Aa||null==Z.description)for(const Oa in fh)E(fh[Oa],void 0);
else Aa=Z.mark.marktype,E("aria-label",Z.description),E("role",Z.ariaRole||("group"===Aa?"graphics-object":"graphics-symbol")),E("aria-roledescription",Z.ariaRoleDescription||`${Aa} mark`)}function Va(E){return!1===E.aria?{["aria-hidden"]:!0}:cj[E.role]?null:fi[E.role]?dd(E,fi[E.role]):dc(E)}function dc(E){const Z=E.marktype,Aa="group"===Z||"text"===Z||E.items.some(Oa=>null!=Oa.description&&!1!==Oa.aria);return dg(Aa?"graphics-object":"graphics-symbol",`${Z} mark container`,E.description)}function dd(E,
Z){try{const Aa=E.items[0],Oa=Z.caption||(()=>"");return dg(Z.role||"graphics-symbol",Z.desc,Aa.description||Oa(Aa))}catch(Aa){return null}}function fd(E){try{return h.array(h.peek(E.items).items[0].text).join(" ")}catch(Z){return null}}function Zc(E){E=E.map(Z=>Z+("fill"===Z||"stroke"===Z?" color":""));return 2>E.length?E[0]:E.slice(0,-1).join(", ")+" and "+h.peek(E)}function Bd(){let E="",Z="",Aa="";const Oa=[],Hb=($b,r)=>{null!=r&&(Z+=` ${$b}="${vi(r).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,
"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Ab},Ab={open($b,...r){Z&&(E+=`${Z}>${Aa}`,Z=Aa="");Oa.push($b);Z="\x3c"+$b;for(const I of r)for(const fa in I)Hb(fa,I[fa]);return Ab},close(){const $b=Oa.pop();E=Z?E+(Z+(Aa?`>${Aa}</${$b}>`:"/\x3e")):E+`</${$b}>`;Z=Aa="";return Ab},attr:Hb,text:$b=>(Aa+=vi($b),Ab),toString:()=>E};return Ab}function Zd(E,Z){E.open(Z.tagName);if(Z.hasAttributes()){const Aa=Z.attributes,Oa=Aa.length;for(let Hb=0;Hb<Oa;++Hb)E.attr(Aa[Hb].name,Aa[Hb].value)}if(Z.hasChildNodes()){Z=
Z.childNodes;for(const Aa of Z)3===Aa.nodeType?E.text(Aa.nodeValue):Zd(E,Aa)}return E.close()}function Pd(E,Z){for(;E&&E.dirty!==Z;E=E.mark.group)if(E.dirty=Z,E.mark&&E.mark.dirty!==Z)E.mark.dirty=Z;else break}function He(E,Z,Aa,Oa){Z=Z.lastChild.previousSibling;let Hb,Ab=0;Mb(Aa,$b=>{Hb=E.mark(Z,$b,Hb,Oa);++Ab});yd(Z,1+Ab)}function gd(E,Z,Aa,Oa,Hb){let Ab=E._svg;if(!Ab){var $b=Z.ownerDocument;Ab=oe($b,Oa,Me);E._svg=Ab;E.mark&&(Ab.__data__=E,Ab.__values__={fill:"default"},"g"===Oa&&(Oa=oe($b,"path",
Me),Ab.appendChild(Oa),Oa.__data__=E,Oa=oe($b,"g",Me),Ab.appendChild(Oa),Oa.__data__=E,$b=oe($b,"path",Me),Ab.appendChild($b),$b.__data__=E,$b.__values__={fill:"default"}))}(Ab.ownerSVGElement!==Hb||Ab.parentNode&&1<Ab.parentNode.childNodes.length&&Ab.previousSibling!=Aa)&&Z.insertBefore(Ab,Aa?Aa.nextSibling:Z.firstChild);return Ab}function se(E,Z,Aa){if(Z!==vf[E]){if(Aa){var Oa=Lg;null!=Z?Oa.setAttributeNS(Aa,E,Z):Oa.removeAttributeNS(Aa,E)}else he(Lg,E,Z);vf[E]=Z}}function Ve(E,Z,Aa){Aa!==vf[Z]&&
(null==Aa?E.style.removeProperty(Z):E.style.setProperty(Z,Aa+""),vf[Z]=Aa)}function af(E,Z){for(const Aa in Z)he(E,Aa,Z[Aa])}function he(E,Z,Aa){null!=Aa?E.setAttribute(Z,Aa):E.removeAttribute(Z)}function lf(){let E;return"undefined"===typeof window?"":(E=window.location).hash?E.href.slice(0,-E.hash.length):E.href}function xf(E,Z,Aa,Oa,Hb){let Ab;if(null==Z)return E;"bgrect"===Oa&&!1===Aa.interactive&&(E["pointer-events"]="none");if("bgfore"===Oa&&(!1===Aa.interactive&&(E["pointer-events"]="none"),
E.display="none",null!==Z.fill))return E;"image"===Oa&&!1===Z.smooth&&(Ab=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===Oa&&(E["font-family"]=td(Z),E["font-size"]=ic(Z)+"px",E["font-style"]=Z.fontStyle,E["font-variant"]=Z.fontVariant,E["font-weight"]=Z.fontWeight);for(const $b in gh)Aa=Z[$b],Oa=gh[$b],("transparent"!==Aa||"fill"!==Oa&&"stroke"!==Oa)&&null!=Aa&&(Aa&&Aa.gradient&&(Aa=Vb(Aa,Hb.gradient,"")),E[Oa]=Aa);for(const $b in nh)Hb=Z[$b],null!=Hb&&(Ab=Ab||[],Ab.push(`${nh[$b]}: ${Hb};`));
Ab&&(E.style=Ab.join(" "));return E}function Be(E,Z,Aa,Oa){if(E.bounds&&Z.intersects(E.bounds)&&("group"===E.marktype||!1!==E.interactive&&(!Aa||Aa(E)))){const Ab=E.items;var Hb=E.marktype;E=Ab.length;let $b=0;if("group"===Hb)for(;$b<E;++$b)Ue(Ab[$b],Z,Aa,Oa);else for(Aa=Fg[Hb].isect;$b<E;++$b)Hb=Ab[$b],We(Hb,Z,Aa)&&Oa.push(Hb)}return Oa}function Ue(E,Z,Aa,Oa){Aa&&Aa(E.mark)&&We(E,Z,Fg.group.isect)&&Oa.push(E);const Hb=E.items,Ab=Hb&&Hb.length;if(Ab){const $b=E.x||0;E=E.y||0;Z.translate(-$b,-E);for(let r=
0;r<Ab;++r)Be(Hb[r],Z,Aa,Oa);Z.translate($b,E)}return Oa}function We(E,Z,Aa){const Oa=E.bounds;return Z.encloses(Oa)||Z.intersects(Oa)&&Aa(E,Z)}function pe(E,Z,Aa){return E===Z?!0:"path"===Aa?ue(E,Z):E instanceof Date&&Z instanceof Date?+E===+Z:h.isNumber(E)&&h.isNumber(Z)?1E-9>=Math.abs(E-Z):E&&Z&&(h.isObject(E)||h.isObject(Z))?ae(E,Z):E==Z}function ue(E,Z){return pe(P(E),P(Z))}function ae(E,Z){var Aa=Object.keys(E),Oa=Object.keys(Z),Hb;if(Aa.length!==Oa.length)return!1;Aa.sort();Oa.sort();for(Hb=
Aa.length-1;0<=Hb;Hb--)if(Aa[Hb]!=Oa[Hb])return!1;for(Hb=Aa.length-1;0<=Hb;Hb--)if(Oa=Aa[Hb],!pe(E[Oa],Z[Oa],Oa))return!1;return typeof E===typeof Z}let qa=0;const l=Math.abs,q=Math.atan2,J=Math.cos,la=Math.max,Ga=Math.min,Pa=Math.sin,Ka=Math.sqrt,rb=Math.PI,nb=rb/2,pc=2*rb,rc=Math.PI,uc=2*rc,tc=uc-1E-6;class Hc{constructor(E){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==E?Bb:Rb(E)}moveTo(E,Z){this._append`M${this._x0=this._x1=+E},${this._y0=this._y1=+Z}`}closePath(){null!==
this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(E,Z){this._append`L${this._x1=+E},${this._y1=+Z}`}quadraticCurveTo(E,Z,Aa,Oa){this._append`Q${+E},${+Z},${this._x1=+Aa},${this._y1=+Oa}`}bezierCurveTo(E,Z,Aa,Oa,Hb,Ab){this._append`C${+E},${+Z},${+Aa},${+Oa},${this._x1=+Hb},${this._y1=+Ab}`}arcTo(E,Z,Aa,Oa,Hb){E=+E;Z=+Z;Aa=+Aa;Oa=+Oa;Hb=+Hb;if(0>Hb)throw Error(`negative radius: ${Hb}`);var Ab=this._x1,$b=this._y1;let r=Aa-E,I=Oa-Z,fa=Ab-E,va=$b-Z;var bb=fa*fa+va*va;if(null===this._x1)this._append`M${this._x1=
E},${this._y1=Z}`;else if(1E-6<bb)if(1E-6<Math.abs(va*r-I*fa)&&Hb){Aa-=Ab;Oa-=$b;let Ob=r*r+I*I;$b=Math.sqrt(Ob);Ab=Math.sqrt(bb);bb=Hb*Math.tan((rc-Math.acos((Ob+bb-(Aa*Aa+Oa*Oa))/(2*$b*Ab)))/2);Ab=bb/Ab;bb/=$b;1E-6<Math.abs(Ab-1)&&this._append`L${E+Ab*fa},${Z+Ab*va}`;this._append`A${Hb},${Hb},0,0,${+(va*Aa>fa*Oa)},${this._x1=E+bb*r},${this._y1=Z+bb*I}`}else this._append`L${this._x1=E},${this._y1=Z}`}arc(E,Z,Aa,Oa,Hb,Ab){E=+E;Z=+Z;Aa=+Aa;Ab=!!Ab;if(0>Aa)throw Error(`negative radius: ${Aa}`);let $b=
Aa*Math.cos(Oa),r=Aa*Math.sin(Oa),I=E+$b,fa=Z+r,va=1^Ab;Oa=Ab?Oa-Hb:Hb-Oa;null===this._x1?this._append`M${I},${fa}`:(1E-6<Math.abs(this._x1-I)||1E-6<Math.abs(this._y1-fa))&&this._append`L${I},${fa}`;Aa&&(0>Oa&&(Oa=Oa%uc+uc),Oa>tc?this._append`A${Aa},${Aa},0,1,${va},${E-$b},${Z-r}A${Aa},${Aa},0,1,${va},${this._x1=I},${this._y1=fa}`:1E-6<Oa&&this._append`A${Aa},${Aa},0,${+(Oa>=rc)},${va},${this._x1=E+Aa*Math.cos(Hb)},${this._y1=Z+Aa*Math.sin(Hb)}`)}rect(E,Z,Aa,Oa){this._append`M${this._x0=this._x1=
+E},${this._y0=this._y1=+Z}h${Aa=+Aa}v${+Oa}h${-Aa}Z`}toString(){return this._}}ec.prototype=Hc.prototype;ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(E,Z){E=+E;Z=+Z;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(E,Z):this._context.moveTo(E,Z);break;case 1:this._point=
2;default:this._context.lineTo(E,Z)}}};var Uc={draw(E,Z){Z=Ka(Z/rb);E.moveTo(Z,0);E.arc(0,0,Z,0,pc)}};tb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:cb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(E,Z){E=
+E;Z=+Z;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(E,Z):this._context.moveTo(E,Z);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cb(this,E,Z)}this._x0=this._x1;this._x1=E;this._y0=this._y1;this._y1=Z}};Pb.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,
this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(E,Z){E=+E;Z=+Z;switch(this._point){case 0:this._point=1;this._x2=E;this._y2=Z;break;case 1:this._point=2;this._x3=E;this._y3=Z;break;case 2:this._point=3;this._x4=E;this._y4=
Z;this._context.moveTo((this._x0+4*this._x1+E)/6,(this._y0+4*this._y1+Z)/6);break;default:cb(this,E,Z)}this._x0=this._x1;this._x1=E;this._y0=this._y1;this._y1=Z}};gb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(E,Z){E=+E;Z=+Z;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;var Aa=(this._x0+4*this._x1+E)/6,Oa=(this._y0+4*this._y1+Z)/6;this._line?this._context.lineTo(Aa,Oa):this._context.moveTo(Aa,Oa);break;case 3:this._point=4;default:cb(this,E,Z)}this._x0=this._x1;this._x1=E;this._y0=this._y1;this._y1=Z}};V.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var E=this._x,Z=this._y,Aa=E.length-1;if(0<Aa)for(var Oa=E[0],Hb=Z[0],Ab=E[Aa]-Oa,$b=Z[Aa]-Hb,r=-1,I;++r<=Aa;)I=
r/Aa,this._basis.point(this._beta*E[r]+(1-this._beta)*(Oa+I*Ab),this._beta*Z[r]+(1-this._beta)*(Hb+I*$b));this._x=this._y=null;this._basis.lineEnd()},point:function(E,Z){this._x.push(+E);this._y.push(+Z)}};var Fd=function Aa(Z){function Oa(Hb){return 1===Z?new tb(Hb):new V(Hb,Z)}Oa.beta=function(Hb){return Aa(+Hb)};return Oa}(.85);da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:aa(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Z,Aa){Z=+Z;Aa=+Aa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Z,Aa):this._context.moveTo(Z,Aa);break;case 1:this._point=2;this._x1=Z;this._y1=Aa;break;case 2:this._point=3;default:aa(this,Z,Aa)}this._x0=this._x1;this._x1=this._x2;
this._x2=Z;this._y0=this._y1;this._y1=this._y2;this._y2=Aa}};var od=function Oa(Aa){function Hb(Ab){return new da(Ab,Aa)}Hb.tension=function(Ab){return Oa(+Ab)};return Hb}(0);ia.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,
this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Aa,Oa){Aa=+Aa;Oa=+Oa;switch(this._point){case 0:this._point=1;this._x3=Aa;this._y3=Oa;break;case 1:this._point=2;this._context.moveTo(this._x4=Aa,this._y4=Oa);break;case 2:this._point=3;this._x5=Aa;this._y5=Oa;break;default:aa(this,Aa,Oa)}this._x0=this._x1;this._x1=this._x2;this._x2=Aa;this._y0=this._y1;this._y1=this._y2;this._y2=Oa}};var vd=function Hb(Oa){function Ab($b){return new ia($b,
Oa)}Ab.tension=function($b){return Hb(+$b)};return Ab}(0);Ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Oa,Hb){Oa=+Oa;Hb=+Hb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,
this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:aa(this,Oa,Hb)}this._x0=this._x1;this._x1=this._x2;this._x2=Oa;this._y0=this._y1;this._y1=this._y2;this._y2=Hb}};var Gd=function Ab(Hb){function $b(r){return new Ma(r,Hb)}$b.tension=function(r){return Ab(+r)};return $b}(0);sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=
this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Hb,Ab){Hb=+Hb;Ab=+Ab;if(this._point){var $b=this._x2-Hb,r=this._y2-Ab;this._l23_a=Math.sqrt(this._l23_2a=Math.pow($b*$b+r*r,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Hb,
Ab):this._context.moveTo(Hb,Ab);break;case 1:this._point=2;break;case 2:this._point=3;default:pa(this,Hb,Ab)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Hb;this._y0=this._y1;this._y1=this._y2;this._y2=Ab}};var kc=function $b(Ab){function r(I){return Ab?new sa(I,Ab):new da(I,0)}r.alpha=function(I){return $b(+I)};return r}(.5);m.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._x0=this._x1=
this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Ab,$b){Ab=
+Ab;$b=+$b;if(this._point){var r=this._x2-Ab,I=this._y2-$b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+I*I,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Ab;this._y3=$b;break;case 1:this._point=2;this._context.moveTo(this._x4=Ab,this._y4=$b);break;case 2:this._point=3;this._x5=Ab;this._y5=$b;break;default:pa(this,Ab,$b)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Ab;this._y0=this._y1;
this._y1=this._y2;this._y2=$b}};var qd=function r($b){function I(fa){return $b?new m(fa,$b):new ia(fa,0)}I.alpha=function(fa){return r(+fa)};return I}(.5);F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=
1-this._line},point:function($b,r){$b=+$b;r=+r;if(this._point){var I=this._x2-$b,fa=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(I*I+fa*fa,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pa(this,$b,r)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=
this._x1;this._x1=this._x2;this._x2=$b;this._y0=this._y1;this._y1=this._y2;this._y2=r}};var qe=function I(r){function fa(va){return r?new F(va,r):new Ma(va,0)}fa.alpha=function(va){return I(+va)};return fa}(.5);L.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,I){r=+r;I=+I;this._point?this._context.lineTo(r,I):(this._point=1,this._context.moveTo(r,I))}};z.prototype={areaStart:function(){this._line=0},
areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:B(this,this._t0,R(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(r,I){var fa=NaN;r=+r;I=+I;if(r!==this._x1||I!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(r,I):
this._context.moveTo(r,I);break;case 1:this._point=2;break;case 2:this._point=3;B(this,R(this,fa=u(this,r,I)),fa);break;default:B(this,this._t0,fa=u(this,r,I))}this._x0=this._x1;this._x1=r;this._y0=this._y1;this._y1=I;this._t0=fa}}};(N.prototype=Object.create(z.prototype)).point=function(r,I){z.prototype.point.call(this,I,r)};A.prototype={moveTo:function(r,I){this._context.moveTo(I,r)},closePath:function(){this._context.closePath()},lineTo:function(r,I){this._context.lineTo(I,r)},bezierCurveTo:function(r,
I,fa,va,bb,Ob){this._context.bezierCurveTo(I,r,va,fa,Ob,bb)}};D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var r=this._x,I=this._y,fa=r.length;if(fa)if(this._line?this._context.lineTo(r[0],I[0]):this._context.moveTo(r[0],I[0]),2===fa)this._context.lineTo(r[1],I[1]);else for(var va=H(r),bb=H(I),Ob=0,cc=1;cc<fa;++Ob,++cc)this._context.bezierCurveTo(va[0][Ob],bb[0][Ob],va[1][Ob],bb[1][Ob],r[cc],I[cc]);
(this._line||0!==this._line&&1===fa)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(r,I){this._x.push(+r);this._y.push(+I)}};W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,
this._line=1-this._line)},point:function(r,I){r=+r;I=+I;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(r,I):this._context.moveTo(r,I);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,I),this._context.lineTo(r,I);else{var fa=this._x*(1-this._t)+r*this._t;this._context.lineTo(fa,this._y);this._context.lineTo(fa,I)}}this._x=r;this._y=I}};const de={basis:{curve:function(r){return new tb(r)}},"basis-closed":{curve:function(r){return new Pb(r)}},"basis-open":{curve:function(r){return new gb(r)}},
bundle:{curve:Fd,tension:"beta",value:.85},cardinal:{curve:od,tension:"tension",value:0},"cardinal-open":{curve:Gd,tension:"tension",value:0},"cardinal-closed":{curve:vd,tension:"tension",value:0},"catmull-rom":{curve:kc,tension:"alpha",value:.5},"catmull-rom-closed":{curve:qd,tension:"alpha",value:.5},"catmull-rom-open":{curve:qe,tension:"alpha",value:.5},linear:{curve:ha},"linear-closed":{curve:function(r){return new L(r)}},monotone:{horizontal:function(r){return new N(r)},vertical:function(r){return new z(r)}},
natural:{curve:function(r){return new D(r)}},step:{curve:function(r){return new W(r,.5)}},"step-after":{curve:function(r){return new W(r,1)}},"step-before":{curve:function(r){return new W(r,0)}}},Wd={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Ad=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,xd=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,le=/^((\s+,?\s*)|(,\s*))/,ve=/^[01]/,be=Math.PI/180,Ce=Math.PI/2,Vc=2*Math.PI,je=Math.sqrt(3)/2;var ef={},jf={},Dg=[].join;const tf=["l",0,0,0,0,0,0,0],Mf=
{circle:{draw:function(r,I){I=Math.sqrt(I)/2;r.moveTo(I,0);r.arc(0,0,I,0,Vc)}},cross:{draw:function(r,I){I=Math.sqrt(I)/2;var fa=I/2.5;r.moveTo(-I,-fa);r.lineTo(-I,fa);r.lineTo(-fa,fa);r.lineTo(-fa,I);r.lineTo(fa,I);r.lineTo(fa,fa);r.lineTo(I,fa);r.lineTo(I,-fa);r.lineTo(fa,-fa);r.lineTo(fa,-I);r.lineTo(-fa,-I);r.lineTo(-fa,-fa);r.closePath()}},diamond:{draw:function(r,I){I=Math.sqrt(I)/2;r.moveTo(-I,0);r.lineTo(0,-I);r.lineTo(I,0);r.lineTo(0,I);r.closePath()}},square:{draw:function(r,I){I=Math.sqrt(I);
var fa=-I/2;r.rect(fa,fa,I,I)}},arrow:{draw:function(r,I){I=Math.sqrt(I)/2;var fa=I/7,va=I/2.5,bb=I/8;r.moveTo(-fa,I);r.lineTo(fa,I);r.lineTo(fa,-bb);r.lineTo(va,-bb);r.lineTo(0,-I);r.lineTo(-va,-bb);r.lineTo(-fa,-bb);r.closePath()}},wedge:{draw:function(r,I){var fa=Math.sqrt(I)/2;I=je*fa;var va=I-.5773502691896257*fa;fa/=4;r.moveTo(0,-I-va);r.lineTo(-fa,I-va);r.lineTo(fa,I-va);r.closePath()}},triangle:{draw:function(r,I){I=Math.sqrt(I)/2;var fa=je*I,va=fa-.5773502691896257*I;r.moveTo(0,-fa-va);r.lineTo(-I,
fa-va);r.lineTo(I,fa-va);r.closePath()}},"triangle-up":{draw:function(r,I){I=Math.sqrt(I)/2;var fa=je*I;r.moveTo(0,-fa);r.lineTo(-I,fa);r.lineTo(I,fa);r.closePath()}},"triangle-down":{draw:function(r,I){I=Math.sqrt(I)/2;var fa=je*I;r.moveTo(0,fa);r.lineTo(-I,-fa);r.lineTo(I,-fa);r.closePath()}},"triangle-right":{draw:function(r,I){I=Math.sqrt(I)/2;var fa=je*I;r.moveTo(fa,0);r.lineTo(-fa,-I);r.lineTo(-fa,I);r.closePath()}},"triangle-left":{draw:function(r,I){I=Math.sqrt(I)/2;var fa=je*I;r.moveTo(-fa,
0);r.lineTo(fa,-I);r.lineTo(fa,I);r.closePath()}},stroke:{draw:function(r,I){I=Math.sqrt(I)/2;r.moveTo(-I,0);r.lineTo(I,0)}}};var ag={};const ff=r=>r.x||0,Le=r=>r.y||0,bg=r=>!1!==r.defined,Tg=function(){function r(){var Lc,rd=+I.apply(this,arguments),Td=+fa.apply(this,arguments),ce=Ob.apply(this,arguments)-nb,xe=cc.apply(this,arguments)-nb,qf=l(xe-ce),cf=xe>ce;ac||(ac=Lc=Rc());if(Td<rd){var bh=Td;Td=rd;rd=bh}if(1E-12<Td)if(qf>pc-1E-12)ac.moveTo(Td*J(ce),Td*Pa(ce)),ac.arc(0,0,Td,ce,xe,!cf),1E-12<rd&&
(ac.moveTo(rd*J(xe),rd*Pa(xe)),ac.arc(0,0,rd,xe,ce,cf));else{var $d=ce,Fe=xe;bh=ce;var ph=xe,rh=qf,uf=qf,yf=Dc.apply(this,arguments)/2,yg=1E-12<yf&&(bb?+bb.apply(this,arguments):Ka(rd*rd+Td*Td)),mh=Ga(l(Td-rd)/2,+va.apply(this,arguments)),Cf=mh,pf=mh;if(1E-12<yg){var Hg=jc(yg/rd*Pa(yf));yf=jc(yg/Td*Pa(yf));1E-12<(rh-=2*Hg)?(Hg*=cf?1:-1,bh+=Hg,ph-=Hg):(rh=0,bh=ph=(ce+xe)/2);1E-12<(uf-=2*yf)?(yf*=cf?1:-1,$d+=yf,Fe-=yf):(uf=0,$d=Fe=(ce+xe)/2)}ce=Td*J($d);xe=Td*Pa($d);Hg=rd*J(ph);yf=rd*Pa(ph);if(1E-12<
mh){var hg=Td*J(Fe),Eh=Td*Pa(Fe),gi=rd*J(bh),$f=rd*Pa(bh);if(qf<rb){Cf=gi-ce;pf=$f-xe;qf=Hg-hg;yg=yf-Eh;var zf=yg*Cf-qf*pf;1E-12>zf*zf?Cf=void 0:(zf=(qf*(xe-Eh)-yg*(ce-hg))/zf,Cf=[ce+zf*Cf,xe+zf*pf]);Cf?(pf=ce-Cf[0],qf=xe-Cf[1],yg=hg-Cf[0],zf=Eh-Cf[1],pf=(pf*yg+qf*zf)/(Ka(pf*pf+qf*qf)*Ka(yg*yg+zf*zf)),pf=1/Pa((1<pf?0:-1>pf?rb:Math.acos(pf))/2),qf=Ka(Cf[0]*Cf[0]+Cf[1]*Cf[1]),Cf=Ga(mh,(rd-qf)/(pf-1)),pf=Ga(mh,(Td-qf)/(pf+1))):Cf=pf=0}}1E-12<uf?1E-12<pf?($d=jb(gi,$f,ce,xe,Td,pf,cf),Fe=jb(hg,Eh,Hg,yf,
Td,pf,cf),ac.moveTo($d.cx+$d.x01,$d.cy+$d.y01),pf<mh?ac.arc($d.cx,$d.cy,pf,q($d.y01,$d.x01),q(Fe.y01,Fe.x01),!cf):(ac.arc($d.cx,$d.cy,pf,q($d.y01,$d.x01),q($d.y11,$d.x11),!cf),ac.arc(0,0,Td,q($d.cy+$d.y11,$d.cx+$d.x11),q(Fe.cy+Fe.y11,Fe.cx+Fe.x11),!cf),ac.arc(Fe.cx,Fe.cy,pf,q(Fe.y11,Fe.x11),q(Fe.y01,Fe.x01),!cf))):(ac.moveTo(ce,xe),ac.arc(0,0,Td,$d,Fe,!cf)):ac.moveTo(ce,xe);1E-12<rd&&1E-12<rh?1E-12<Cf?($d=jb(Hg,yf,hg,Eh,rd,-Cf,cf),Fe=jb(ce,xe,gi,$f,rd,-Cf,cf),ac.lineTo($d.cx+$d.x01,$d.cy+$d.y01),
Cf<mh?ac.arc($d.cx,$d.cy,Cf,q($d.y01,$d.x01),q(Fe.y01,Fe.x01),!cf):(ac.arc($d.cx,$d.cy,Cf,q($d.y01,$d.x01),q($d.y11,$d.x11),!cf),ac.arc(0,0,rd,q($d.cy+$d.y11,$d.cx+$d.x11),q(Fe.cy+Fe.y11,Fe.cx+Fe.x11),cf),ac.arc(Fe.cx,Fe.cy,Cf,q(Fe.y11,Fe.x11),q(Fe.y01,Fe.x01),!cf))):ac.arc(0,0,rd,ph,bh,cf):ac.lineTo(Hg,yf)}else ac.moveTo(0,0);ac.closePath();if(Lc)return ac=null,Lc+""||null}var I=$a,fa=vb,va=Ub(0),bb=null,Ob=ub,cc=sb,Dc=wb,ac=null,Rc=Ea(r);r.centroid=function(){var Lc=(+I.apply(this,arguments)+ +fa.apply(this,
arguments))/2,rd=(+Ob.apply(this,arguments)+ +cc.apply(this,arguments))/2-rb/2;return[J(rd)*Lc,Pa(rd)*Lc]};r.innerRadius=function(Lc){return arguments.length?(I="function"===typeof Lc?Lc:Ub(+Lc),r):I};r.outerRadius=function(Lc){return arguments.length?(fa="function"===typeof Lc?Lc:Ub(+Lc),r):fa};r.cornerRadius=function(Lc){return arguments.length?(va="function"===typeof Lc?Lc:Ub(+Lc),r):va};r.padRadius=function(Lc){return arguments.length?(bb=null==Lc?null:"function"===typeof Lc?Lc:Ub(+Lc),r):bb};
r.startAngle=function(Lc){return arguments.length?(Ob="function"===typeof Lc?Lc:Ub(+Lc),r):Ob};r.endAngle=function(Lc){return arguments.length?(cc="function"===typeof Lc?Lc:Ub(+Lc),r):cc};r.padAngle=function(Lc){return arguments.length?(Dc="function"===typeof Lc?Lc:Ub(+Lc),r):Dc};r.context=function(Lc){return arguments.length?(ac=null==Lc?null:Lc,r):ac};return r}().startAngle(r=>r.startAngle||0).endAngle(r=>r.endAngle||0).padAngle(r=>r.padAngle||0).innerRadius(r=>r.innerRadius||0).outerRadius(r=>
r.outerRadius||0).cornerRadius(r=>r.cornerRadius||0),Af=Ja().x(ff).y1(Le).y0(r=>(r.y||0)+(r.height||0)).defined(bg),cg=Ja().y(Le).x1(ff).x0(r=>(r.x||0)+(r.width||0)).defined(bg),Gf=Wa().x(ff).y(Le).defined(bg),Ug=nc().x(ff).y(Le).width(r=>r.width||0).height(r=>r.height||0).cornerRadius(r=>Jb(r.cornerRadiusTopLeft,r.cornerRadius)||0,r=>Jb(r.cornerRadiusTopRight,r.cornerRadius)||0,r=>Jb(r.cornerRadiusBottomRight,r.cornerRadius)||0,r=>Jb(r.cornerRadiusBottomLeft,r.cornerRadius)||0),eh=function(r,I){function fa(){let Ob;
va||(va=Ob=bb());r.apply(this,arguments).draw(va,+I.apply(this,arguments));if(Ob)return va=null,Ob+""||null}let va=null,bb=Ea(fa);r="function"===typeof r?r:Ub(r||Uc);I="function"===typeof I?I:Ub(void 0===I?64:+I);fa.type=function(Ob){return arguments.length?(r="function"===typeof Ob?Ob:Ub(Ob),fa):r};fa.size=function(Ob){return arguments.length?(I="function"===typeof Ob?Ob:Ub(+Ob),fa):I};fa.context=function(Ob){return arguments.length?(va=null==Ob?null:Ob,fa):va};return fa}().type(r=>Qa(r.shape||"circle")).size(r=>
Jb(r.size,64)),Sg=Wb().x(ff).y(Le).defined(bg).size(r=>r.size||1);var Vg=1;ra.prototype={clone(){return new ra(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(r){return this.x1===r.x1&&this.y1===r.y1&&this.x2===r.x2&&this.y2===r.y2},set(r,I,fa,va){fa<r?(this.x2=r,this.x1=fa):(this.x1=
r,this.x2=fa);va<I?(this.y2=I,this.y1=va):(this.y1=I,this.y2=va);return this},add(r,I){r<this.x1&&(this.x1=r);I<this.y1&&(this.y1=I);r>this.x2&&(this.x2=r);I>this.y2&&(this.y2=I);return this},expand(r){this.x1-=r;this.y1-=r;this.x2+=r;this.y2+=r;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(r){this.x1*=r;this.y1*=r;this.x2*=r;this.y2*=r;return this},translate(r,I){this.x1+=r;this.x2+=r;this.y1+=
I;this.y2+=I;return this},rotate(r,I,fa){r=this.rotatedPoints(r,I,fa);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(r,I,fa){var {x1:va,y1:bb,x2:Ob,y2:cc}=this,Dc=Math.cos(r);r=Math.sin(r);var ac=I-I*Dc+fa*r;I=fa-I*r-fa*Dc;return[Dc*va-r*bb+ac,r*va+Dc*bb+I,Dc*va-r*cc+ac,r*va+Dc*cc+I,Dc*Ob-r*bb+ac,r*Ob+Dc*bb+I,Dc*Ob-r*cc+ac,r*Ob+Dc*cc+I]},union(r){r.x1<this.x1&&(this.x1=r.x1);r.y1<this.y1&&(this.y1=r.y1);r.x2>this.x2&&(this.x2=r.x2);r.y2>this.y2&&(this.y2=
r.y2);return this},intersect(r){r.x1>this.x1&&(this.x1=r.x1);r.y1>this.y1&&(this.y1=r.y1);r.x2<this.x2&&(this.x2=r.x2);r.y2<this.y2&&(this.y2=r.y2);return this},encloses(r){return r&&this.x1<=r.x1&&this.x2>=r.x2&&this.y1<=r.y1&&this.y2>=r.y2},alignsWith(r){return r&&(this.x1==r.x1||this.x2==r.x2||this.y1==r.y1||this.y2==r.y2)},intersects(r){return r&&!(this.x2<r.x1||this.x1>r.x2||this.y2<r.y1||this.y1>r.y2)},contains(r,I){return!(r<this.x1||r>this.x2||I<this.y1||I>this.y2)},width(){return this.x2-
this.x1},height(){return this.y2-this.y1}};h.inherits(Ta,Eb);class Wg{constructor(r){this._pending=0;this._loader=r||Za.loader()}pending(){return this._pending}sanitizeURL(r){const I=this;I._pending+=1;return I._loader.sanitize(r,{context:"href"}).then(fa=>{--I._pending;return fa}).catch(()=>{--I._pending;return null})}loadImage(r){const I=this,fa=ka.image();I._pending+=1;return I._loader.sanitize(r,{context:"image"}).then(va=>{const bb=va.href;if(!bb||!fa)throw{url:bb};const Ob=new fa;va=h.hasOwnProperty(va,
"crossOrigin")?va.crossOrigin:"anonymous";null!=va&&(Ob.crossOrigin=va);Ob.onload=()=>{--I._pending};Ob.onerror=()=>{--I._pending};Ob.src=bb;return Ob}).catch(va=>{--I._pending;return{complete:!1,width:0,height:0,src:va&&va.url||""}})}ready(){const r=this;return new Promise(I=>{function fa(va){r.pending()?setTimeout(()=>{fa(!0)},10):I(va)}fa(!1)})}}const kh=Vc-1E-8;let Hf,U,La,lb,xc,Bc,wd,Xd;const Id=(r,I)=>{r=U=r;I=La=I;return Hf.add(r,I)},Tf=r=>Hf.add(r,Hf.y1),kf=r=>Hf.add(Hf.x1,r),wg=(r,I)=>Hf.add(xc*
r+wd*I,Bc*r+Xd*I),Uf=(r,I)=>Id(xc*r+wd*I,Bc*r+Xd*I),Xg={beginPath(){},closePath(){},moveTo:Uf,lineTo:Uf,rect(r,I,fa,va){lb?(wg(r+fa,I),wg(r+fa,I+va),wg(r,I+va),Uf(r,I)):(Hf.add(r+fa,I+va),Id(r,I))},quadraticCurveTo(r,I,fa,va){const bb=Bc*r+Xd*I,Ob=xc*fa+wd*va;fa=Bc*fa+Xd*va;Cb(U,xc*r+wd*I,Ob,Tf);Cb(La,bb,fa,kf);Id(Ob,fa)},bezierCurveTo(r,I,fa,va,bb,Ob){const cc=Bc*r+Xd*I,Dc=Bc*fa+Xd*va,ac=xc*bb+wd*Ob;bb=Bc*bb+Xd*Ob;Xb(U,xc*r+wd*I,xc*fa+wd*va,ac,Tf);Xb(La,cc,Dc,bb,kf);Id(ac,bb)},arc(r,I,fa,va,bb,Ob){va+=
lb;bb+=lb;U=fa*Math.cos(bb)+r;La=fa*Math.sin(bb)+I;if(Math.abs(bb-va)>kh)Hf.add(r-fa,I-fa),Hf.add(r+fa,I+fa);else{const cc=ac=>Hf.add(fa*Math.cos(ac)+r,fa*Math.sin(ac)+I);let Dc;cc(va);cc(bb);if(bb!==va)if(va%=Vc,0>va&&(va+=Vc),bb%=Vc,0>bb&&(bb+=Vc),bb<va&&(Ob=!Ob,Dc=va,va=bb,bb=Dc),Ob)for(bb-=Vc,Dc=va-va%Ce,va=0;4>va&&Dc>bb;++va,Dc-=Ce)cc(Dc);else for(Dc=va-va%Ce+Ce,va=0;4>va&&Dc<bb;++va,Dc+=Ce)cc(Dc)}}};var ig=(ig=ka.canvas(1,1))?ig.getContext("2d"):null;const Kg=new ra;var Dh=[],Ld=Pc("arc",function(r,
I){return Tg.context(r)(I)}),Sd=hd("area",function(r,I){const fa=I[0];return("horizontal"===fa.orient?cg:Af).curve(Da(fa.interpolate||"linear",fa.orient,fa.tension)).context(r)(I)},function(r,I){I="horizontal"===r[0].orient?I[1]:I[0];for(var fa="horizontal"===r[0].orient?"y":"x",va=r.length,bb=Infinity,Ob,cc;0<=--va;)!1!==r[va].defined&&(cc=Math.abs(r[va][fa]-I),cc<bb&&(bb=cc,Ob=r[va]));return Ob});const nf=kd(ke),we=kd(ke,!1),gf=kd(ke,!0);var Re={type:"group",tag:"g",nested:!1,attr:function(r,I){r("transform",
$c(I.x||0,I.y||0))},bound:function(r,I){if(!I.clip&&I.items){const fa=I.items,va=fa.length;for(let bb=0;bb<va;++bb)r.union(fa[bb].bounds)}(I.clip||I.width||I.height)&&!I.noBound&&r.add(0,0).add(I.width||0,I.height||0);yb(r,I);return r.translate(I.x||0,I.y||0)},draw:function(r,I,fa,va){Mb(I,bb=>{const Ob=bb.x||0,cc=bb.y||0,Dc=bb.strokeForeground,ac=null==bb.opacity?1:bb.opacity;(bb.stroke||bb.fill)&&ac&&(ke(r,bb,Ob,cc),hb(r,bb),bb.fill&&za(r,bb,ac)&&r.fill(),bb.stroke&&!Dc&&Fa(r,bb,ac)&&r.stroke());
r.save();r.translate(Ob,cc);bb.clip&&md(r,bb);fa&&fa.translate(-Ob,-cc);Mb(bb,Rc=>{("group"===Rc.marktype||null==va||va.includes(Rc.marktype))&&this.draw(r,Rc,fa,va)});fa&&fa.translate(Ob,cc);r.restore();Dc&&bb.stroke&&ac&&(ke(r,bb,Ob,cc),hb(r,bb),Fa(r,bb,ac)&&r.stroke())})},pick:function(r,I,fa,va,bb,Ob){if(I.bounds&&!I.bounds.contains(bb,Ob)||!I.items)return null;const cc=fa*r.pixelRatio,Dc=va*r.pixelRatio;return Fb(I,ac=>{let Rc,Lc;var rd=ac.bounds;if(!rd||rd.contains(bb,Ob)){Rc=ac.x||0;Lc=ac.y||
0;rd=Rc+(ac.width||0);var Td=Lc+(ac.height||0),ce=ac.clip;if(!ce||!(bb<Rc||bb>rd||Ob<Lc||Ob>Td)){r.save();r.translate(Rc,Lc);Rc=bb-Rc;Lc=Ob-Lc;if(ce&&Lb(ac)&&!gf(r,ac,cc,Dc))return r.restore(),null;Td=ac.strokeForeground;if((ce=!1!==I.interactive)&&Td&&ac.stroke&&we(r,ac,cc,Dc))return r.restore(),ac;rd=Fb(ac,xe=>(!1!==xe.interactive||"group"===xe.marktype)&&xe.bounds&&xe.bounds.contains(Rc,Lc)?this.pick(xe,fa,va,Rc,Lc):null);!rd&&ce&&(ac.fill||!Td&&ac.stroke)&&nf(r,ac,cc,Dc)&&(rd=ac);r.restore();
return rd||null}}})},isect:Kc,content:function(r,I,fa){I=I.clip?Oc(fa,I,I):null;r("clip-path",I)},background:function(r,I){r("class","background");r("aria-hidden",!0);const fa=ad(I);r("d",sc(null,I,fa,fa))},foreground:function(r,I){r("class","foreground");r("aria-hidden",!0);if(I.strokeForeground){const fa=ad(I);r("d",sc(null,I,fa,fa))}else r("d","")}},of={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Vf={type:"image",tag:"image",nested:!1,attr:function(r,
I,fa){var va=id(I,fa);fa=y(I,va);const bb=K(I,va),Ob=(I.x||0)-ua(I.align,fa),cc=(I.y||0)-t(I.baseline,bb);va=!va.src&&va.toDataURL?va.toDataURL():va.src||"";r("href",va,of["xmlns:xlink"],"xlink:href");r("transform",$c(Ob,cc));r("width",fa);r("height",bb);r("preserveAspectRatio",!1===I.aspect?"none":"xMidYMid")},bound:function(r,I){var fa=I.image;const va=y(I,fa);fa=K(I,fa);const bb=(I.x||0)-ua(I.align,va);I=(I.y||0)-t(I.baseline,fa);return r.set(bb,I,bb+va,I+fa)},draw:function(r,I,fa){Mb(I,va=>{if(!fa||
fa.intersects(va.bounds)){var bb=id(va,this),Ob=y(va,bb),cc=K(va,bb);if(0!==Ob&&0!==cc){var Dc=(va.x||0)-ua(va.align,Ob),ac=(va.y||0)-t(va.baseline,cc),Rc;if(!1!==va.aspect){var Lc=bb.width/bb.height;var rd=va.width/va.height;Lc===Lc&&rd===rd&&Lc!==rd&&(rd<Lc?(Lc=Ob/Lc,ac+=(cc-Lc)/2,cc=Lc):(Lc*=cc,Dc+=(Ob-Lc)/2,Ob=Lc))}if(bb.complete||bb.toDataURL)hb(r,va),r.globalAlpha=null!=(Rc=va.opacity)?Rc:1,r.imageSmoothingEnabled=!1!==va.smooth,r.drawImage(bb,Dc,ac,Ob,cc)}}})},pick:Ic(),isect:h.truthy,get:id,
xOffset:ua,yOffset:t},Nf=hd("line",function(r,I){const fa=I[0];return Gf.curve(Da(fa.interpolate||"linear",fa.orient,fa.tension)).context(r)(I)},function(r,I){for(var fa=Math.pow(r[0].strokeWidth||1,2),va=r.length,bb,Ob;0<=--va;)if(!1!==r[va].defined&&(bb=r[va].x-I[0],Ob=r[va].y-I[1],bb=bb*bb+Ob*Ob,bb<fa))return r[va];return null}),Xe={type:"path",tag:"path",nested:!1,attr:function(r,I){var fa=I.scaleY||1;1===(I.scaleX||1)&&1===fa||r("vector-effect","non-scaling-stroke");fa=$c(I.x||0,I.y||0)+(I.angle?
" rotate("+(I.angle+")"):"")+(I.scaleX||I.scaleY?" scale("+((I.scaleX||1)+","+(I.scaleY||1)+")"):"");r("transform",fa);r("d",I.path)},bound:function(r,I){return O(Gb(r,I.angle),I)?r.set(0,0,0,0):yb(r,I,!0)},draw:Kb(O),pick:Ic(kd(O)),isect:wc(O)},Yg={type:"rect",tag:"path",nested:!1,attr:function(r,I){r("d",sc(null,I))},bound:function(r,I){var fa,va;return yb(r.set(fa=I.x||0,va=I.y||0,fa+I.width||0,va+I.height||0),I)},draw:Kb(ba),pick:Ic(kd(ba)),isect:Kc},xg={type:"rule",tag:"line",nested:!1,attr:function(r,
I){r("transform",$c(I.x||0,I.y||0));r("x2",null!=I.x2?I.x2-(I.x||0):0);r("y2",null!=I.y2?I.y2-(I.y||0):0)},bound:function(r,I){var fa,va;return yb(r.set(fa=I.x||0,va=I.y||0,null!=I.x2?I.x2:fa,null!=I.y2?I.y2:va),I)},draw:function(r,I,fa){Mb(I,va=>{if(!fa||fa.intersects(va.bounds)){var bb=null==va.opacity?1:va.opacity;bb&&xa(r,va,bb)&&(hb(r,va),r.stroke())}})},pick:Ic(function(r,I,fa,va){return r.isPointInStroke?xa(r,I,1)&&r.isPointInStroke(fa,va):!1}),isect:na},lh=Pc("shape",function(r,I){return(I.mark.shape||
I.shape).context(r)(I)}),Of=Pc("symbol",function(r,I){return eh.context(r)(I)},Xc);const Rh=h.lruCache();var og={height:ic,measureWidth:Qb,estimateWidth:ab,width:ab,canvas:oa};oa(!0);const vh={left:"start",center:"middle",right:"end"},jg=new ra;var Sh={type:"text",tag:"text",nested:!1,attr:function(r,I){var fa=I.dx||0,va=(I.dy||0)+ee(I),bb=Kd(I),Ob=bb.x1;bb=bb.y1;var cc=I.angle||0;r("text-anchor",vh[I.align]||"start");if(cc){if(I=$c(Ob,bb)+" rotate("+(cc+")"),fa||va)I+=" "+$c(fa,va)}else I=$c(Ob+
fa,bb+va);r("transform",I)},bound:ge,draw:function(r,I,fa){Mb(I,va=>{var bb=null==va.opacity?1:va.opacity,Ob;if(!(fa&&!fa.intersects(va.bounds)||0===bb||0>=va.fontSize||null==va.text||0===va.text.length)){r.font=ud(va);r.textAlign=va.align||"left";var cc=Kd(va);var Dc=cc.x1;cc=cc.y1;va.angle&&(r.save(),r.translate(Dc,cc),r.rotate(va.angle*be),Dc=cc=0);Dc+=va.dx||0;cc+=(va.dy||0)+ee(va);var ac=Mc(va);hb(r,va);if(h.isArray(ac)){var Rc=Ac(va);for(Ob=0;Ob<ac.length;++Ob){var Lc=Nc(va,ac[Ob]);va.fill&&
za(r,va,bb)&&r.fillText(Lc,Dc,cc);va.stroke&&Fa(r,va,bb)&&r.strokeText(Lc,Dc,cc);cc+=Rc}}else Lc=Nc(va,ac),va.fill&&za(r,va,bb)&&r.fillText(Lc,Dc,cc),va.stroke&&Fa(r,va,bb)&&r.strokeText(Lc,Dc,cc);va.angle&&r.restore()}})},pick:Ic(function(r,I,fa,va,bb,Ob){if(0>=I.fontSize)return!1;if(!I.angle)return!0;fa=Kd(I);r=fa.x1;fa=fa.y1;va=ge(jg,I,1);var cc=-I.angle*be;I=Math.cos(cc);cc=Math.sin(cc);return va.contains(I*bb-cc*Ob+(r-I*r+cc*fa),cc*bb+I*Ob+(fa-cc*r-I*fa))}),isect:function(r,I){r=ge(jg,r,2);return Ia(I,
r[0],r[1],r[2],r[3])||Ia(I,r[0],r[1],r[4],r[5])||Ia(I,r[4],r[5],r[6],r[7])||Ia(I,r[2],r[3],r[6],r[7])}},aj=hd("trail",function(r,I){return Sg.context(r)(I)},function(r,I){for(var fa=r.length,va,bb;0<=--fa;)if(!1!==r[fa].defined&&(va=r[fa].x-I[0],bb=r[fa].y-I[1],bb=va*va+bb*bb,va=r[fa].size||1,bb<va*va))return r[fa];return null}),Fg={arc:Ld,area:Sd,group:Re,image:Vf,line:Nf,path:Xe,rect:Yg,rule:xg,shape:lh,symbol:Of,text:Sh,trail:aj},ti={mark:null};const di="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
class bj{constructor(r){arguments.length?this.root=$e(r):(this.root=Ge({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ta(this.root)])}toJSON(r){return Ne(this.root,r||0)}mark(r,I,fa){I=I||this.root.items[0];r=Ge(r,I);I.items[fa]=r;r.zindex&&(r.group.zdirty=!0);return r}}class ui{constructor(r,I){this._active=null;this._handlers={};this._loader=r||Za.loader();this._tooltip=I||Pe}initialize(r,I,fa){this._el=r;this._obj=fa||null;return this.origin(I)}element(){return this._el}canvas(){return this._el&&
this._el.firstChild}origin(r){return arguments.length?(this._origin=r||[0,0],this):this._origin.slice()}scene(r){if(!arguments.length)return this._scene;this._scene=r;return this}on(){}off(){}_handlerIndex(r,I,fa){for(let va=r?r.length:0;0<=--va;)if(r[va].type===I&&(!fa||r[va].handler===fa))return va;return-1}handlers(r){const I=this._handlers,fa=[];if(r)fa.push(...I[this.eventName(r)]);else for(const va in I)fa.push(...I[va]);return fa}eventName(r){const I=r.indexOf(".");return 0>I?r:r.slice(0,I)}handleHref(r,
I,fa){this._loader.sanitize(fa,{context:"href"}).then(va=>{const bb=new MouseEvent(r.type,r),Ob=oe(null,"a");for(const cc in va)Ob.setAttribute(cc,va[cc]);Ob.dispatchEvent(bb)}).catch(()=>{})}handleTooltip(r,I,fa){if(I&&null!=I.tooltip){var va=this.canvas(),bb=this._origin,Ob=I&&I.mark,cc;if(Ob&&(cc=Fg[Ob.marktype]).tip){va=Ze(r,va);va[0]-=bb[0];for(va[1]-=bb[1];I=I.mark.group;)va[0]-=I.x||0,va[1]-=I.y||0;I=cc.tip(Ob.items,va)}this._tooltip.call(this._obj,this,r,I,fa&&I&&I.tooltip||null)}}getItemBoundingClientRect(r){var I=
this.canvas();if(I){var fa=I.getBoundingClientRect(),va=this._origin,bb=r.bounds;I=bb.width();var Ob=bb.height(),cc=bb.x1+va[0]+fa.left;for(fa=bb.y1+va[1]+fa.top;r.mark&&(r=r.mark.group);)cc+=r.x||0,fa+=r.y||0;return{x:cc,y:fa,width:I,height:Ob,left:cc,top:fa,right:cc+I,bottom:fa+Ob}}}}class wh{constructor(r){this._bgcolor=this._el=null;this._loader=new Wg(r)}initialize(r,I,fa,va,bb){this._el=r;return this.resize(I,fa,va,bb)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(r){if(0===
arguments.length)return this._bgcolor;this._bgcolor=r;return this}resize(r,I,fa,va){this._width=r;this._height=I;this._origin=fa||[0,0];this._scale=va||1;return this}dirty(){}render(r,I){const fa=this;fa._call=function(){fa._render(r,I)};fa._call();fa._call=null;return fa}_render(){}renderAsync(r,I){const fa=this.render(r,I);return this._ready?this._ready.then(()=>fa):Promise.resolve(fa)}_load(r,I){var fa=this;r=fa._loader[r](I);if(!fa._ready){const va=fa._call;fa._ready=fa._loader.ready().then(bb=>
{bb&&va();fa._ready=null})}return r}sanitizeURL(r){return this._load("sanitizeURL",r)}loadImage(r){return this._load("loadImage",r)}}const Li="keydown keypress keyup dragenter dragleave dragover pointerdown pointerup pointermove pointerout pointerover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" ");class Fh extends ui{constructor(r,I){super(r,I);this._touch=this._down=null;this._first=!0;this._events={};this.events=Li;this.pointermove=
ze(["pointermove","mousemove"],["pointerover","mouseover"],["pointerout","mouseout"]);this.dragover=ze(["dragover"],["dragenter"],["dragleave"]);this.pointerout=ie(["pointerout","mouseout"]);this.dragleave=ie(["dragleave"])}initialize(r,I,fa){this._canvas=r&&Ee(r,"canvas");"click mousedown pointerdown pointermove pointerout dragleave".split(" ").forEach(va=>Qe(this,va));return super.initialize(r,I,fa)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(r){this.fire("mousewheel",
r)}pointerdown(r){this._down=this._active;this.fire("pointerdown",r)}mousedown(r){this._down=this._active;this.fire("mousedown",r)}click(r){this._down===this._active&&(this.fire("click",r),this._down=null)}touchstart(r){this._touch=this.pickEvent(r.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",r,!0)}touchmove(r){this.fire("touchmove",r,!0)}touchend(r){this.fire("touchend",r,!0);this._touch=null}fire(r,I,fa){fa=fa?this._touch:this._active;const va=
this._handlers[r];I.vegaType=r;"click"===r&&fa&&fa.href?this.handleHref(I,fa,fa.href):("pointermove"===r||"mouseout"===r)&&this.handleTooltip(I,fa,"mouseout"!==r);if(va)for(let bb=0,Ob=va.length;bb<Ob;++bb)va[bb].handler.call(this._obj,I,fa)}on(r,I){const fa=this.eventName(r),va=this._handlers;0>this._handlerIndex(va[fa],r,I)&&(Qe(this,r),(va[fa]||(va[fa]=[])).push({type:r,handler:I}));return this}off(r,I){var fa=this.eventName(r);fa=this._handlers[fa];r=this._handlerIndex(fa,r,I);0<=r&&fa.splice(r,
1);return this}pickEvent(r){r=Ze(r,this._canvas);const I=this._origin;return this.pick(this._scene,r[0],r[1],r[0]-I[0],r[1]-I[1])}pick(r,I,fa,va,bb){const Ob=this.context();return Fg[r.marktype].pick.call(this,Ob,r,I,fa,va,bb)}}class Eg extends wh{constructor(r){super(r);this._options={};this._redraw=!1;this._dirty=new ra;this._tempb=new ra}initialize(r,I,fa,va,bb,Ob){this._options=Ob||{};this._canvas=this._options.externalContext?null:ka.canvas(1,1,this._options.type);r&&this._canvas&&(yd(r,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return super.initialize(r,I,fa,va,bb)}resize(r,I,fa,va){super.resize(r,I,fa,va);if(this._canvas){r=this._canvas;I=this._width;fa=this._height;va=this._origin;var bb=this._scale,Ob=this._options.context;const Dc="undefined"!==typeof HTMLElement&&r instanceof HTMLElement&&null!=r.parentNode,ac=r.getContext("2d");bb=Dc?"undefined"!==typeof window?window.devicePixelRatio||1:1:bb;r.width=I*bb;r.height=fa*bb;for(var cc in Ob)ac[cc]=Ob[cc];Dc&&1!==bb&&(r.style.width=
I+"px",r.style.height=fa+"px");ac.pixelRatio=bb;ac.setTransform(bb,0,0,bb,bb*va[0],bb*va[1])}else(cc=this._options.externalContext)||h.error("CanvasRenderer is missing a valid canvas or context"),cc.scale(this._scale,this._scale),cc.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(r){const I=this._tempb.clear().union(r.bounds);for(r=r.mark.group;r;)I.translate(r.x||
0,r.y||0),r=r.mark.group;this._dirty.union(I)}_render(r,I){const fa=this.context(),va=this._origin,bb=this._width,Ob=this._height,cc=this._dirty;var Dc=(new ra).set(0,0,bb,Ob).translate(-va[0],-va[1]);fa.save();this._redraw||cc.empty()?Dc=(this._redraw=!1,Dc.expand(1)):(Dc=Dc.intersect(cc),Dc.expand(1).round(),fa.pixelRatio%1&&Dc.scale(fa.pixelRatio).round().scale(1/fa.pixelRatio),Dc.translate(-(va[0]%1),-(va[1]%1)),fa.beginPath(),fa.rect(Dc.x1,Dc.y1,Dc.width(),Dc.height()),fa.clip());this.clear(-va[0],
-va[1],bb,Ob);this.draw(fa,r,Dc,I);fa.restore();cc.clear();return this}draw(r,I,fa,va){if("group"===I.marktype||null==va||va.includes(I.marktype)){var bb=Fg[I.marktype];if(I.clip){var Ob=I.clip;r.save();h.isFunction(Ob)?(r.beginPath(),Ob(r),r.clip()):md(r,I.group)}bb.draw.call(this,r,I,fa,va);I.clip&&r.restore()}}clear(r,I,fa,va){const bb=this._options,Ob=this.context();"pdf"===bb.type||bb.externalContext||Ob.clearRect(r,I,fa,va);null!=this._bgcolor&&(Ob.fillStyle=this._bgcolor,Ob.fillRect(r,I,fa,
va))}}class Gh extends ui{constructor(r,I){super(r,I);const fa=this;fa._hrefHandler=Hh(fa,(va,bb)=>{bb&&bb.href&&fa.handleHref(va,bb,bb.href)});fa._tooltipHandler=Hh(fa,(va,bb)=>{fa.handleTooltip(va,bb,"mouseout"!==va.type)})}initialize(r,I,fa){let va=this._svg;va&&(va.removeEventListener("click",this._hrefHandler),va.removeEventListener("pointermove",this._tooltipHandler),va.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=va=r&&Ee(r,"svg"))va.addEventListener("click",this._hrefHandler),
va.addEventListener("pointermove",this._tooltipHandler),va.addEventListener("mouseout",this._tooltipHandler);return super.initialize(r,I,fa)}canvas(){return this._svg}on(r,I){const fa=this.eventName(r),va=this._handlers;0>this._handlerIndex(va[fa],r,I)&&(r={type:r,handler:I,listener:Hh(this,I)},(va[fa]||(va[fa]=[])).push(r),this._svg&&this._svg.addEventListener(fa,r.listener));return this}off(r,I){const fa=this.eventName(r),va=this._handlers[fa];r=this._handlerIndex(va,r,I);0<=r&&(this._svg&&this._svg.removeEventListener(fa,
va[r].listener),va.splice(r,1));return this}}const Hh=(r,I)=>fa=>{let va=fa.target.__data__;va=Array.isArray(va)?va[0]:va;fa.vegaType=fa.type;I.call(r._obj,fa,va)},dg=(r,I,fa)=>({role:r,["aria-roledescription"]:I,["aria-label"]:fa||void 0}),cj=h.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),fi={axis:{desc:"axis",caption:function(r){var I=r.datum;const fa=r.orient,va=I.title?fd(r):null;
var bb=r.context;I=bb.scales[I.scale].value;bb=bb.dataflow.locale();const Ob=I.type;return`${"left"===fa||"right"===fa?"Y":"X"}-axis`+(va?` titled '${va}'`:"")+` for a ${zb.isDiscrete(Ob)?"discrete":Ob} scale`+` with ${zb.domainCaption(bb,I,r)}`}},legend:{desc:"legend",caption:function(r){var I=r.datum;const fa=I.title?fd(r):null,va=`${I.type||""} legend`.trim();var bb=I.scales;I=Object.keys(bb);var Ob=r.context;bb=Ob.scales[bb[I[0]]].value;Ob=Ob.dataflow.locale();return(va.length?va[0].toUpperCase()+
va.slice(1):va)+(fa?` titled '${fa}'`:"")+` for ${Zc(I)}`+` with ${zb.domainCaption(Ob,bb,r)}`}},"title-text":{desc:"title",caption:r=>`Title text '${h.array(r.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:r=>`Subtitle text '${h.array(r.text).join(" ")}'`}},fh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},vi=r=>(r+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Aj=r=>Zd(Bd(),r)+"",gh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},nh={blend:"mix-blend-mode"},Gg={fill:"none","stroke-miterlimit":10},Me=of.xmlns;class Ih extends wh{constructor(r){super(r);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}initialize(r,I,fa,va,bb){this._defs={};this._clearDefs();
r&&(this._svg=ye(r,0,"svg",Me),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Me),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",of["xmlns:xlink"]),this._svg.setAttribute("version",of.version),this._svg.setAttribute("class","marks"),yd(r,1),this._root=ye(this._svg,0,"g",Me),af(this._root,Gg),yd(this._svg,1));this.background(this._bgcolor);return super.initialize(r,I,fa,va,bb)}background(r){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
r);return super.background(...arguments)}resize(r,I,fa,va){super.resize(r,I,fa,va);this._svg&&(af(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this}canvas(){return this._svg}svg(){const r=this._svg,I=this._bgcolor;if(!r)return null;let fa;I&&(r.removeAttribute("style"),fa=ye(r,0,"rect",Me),af(fa,{width:this._width,height:this._height,fill:I}));
const va=Aj(r);I&&(r.removeChild(fa),this._svg.style.setProperty("background-color",I));return va}_render(r,I){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,r,void 0,I),yd(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this}dirty(r){r.dirty!==this._dirtyID&&(r.dirty=this._dirtyID,this._dirty.push(r))}isDirty(r){return this._dirtyAll||!r._svg||!r._svg.ownerSVGElement||r.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const r=this._dirty;if(!r.length||
!this._dirtyID)return!0;const I=++this._dirtyID;let fa;let va,bb,Ob,cc;Ob=0;for(cc=r.length;Ob<cc;++Ob){fa=r[Ob];var Dc=fa.mark;Dc.marktype!==va&&(va=Dc.marktype,bb=Fg[va]);Dc.zdirty&&Dc.dirty!==I&&(this._dirtyAll=!1,Pd(fa,I),Dc.items.forEach(ac=>{ac.dirty=I}));Dc.zdirty||(fa.exit?(bb.nested&&Dc.items.length?(Dc=Dc.items[0],Dc._svg&&this._update(bb,Dc._svg,Dc)):fa._svg&&(Dc=fa._svg.parentNode)&&Dc.removeChild(fa._svg),fa._svg=null):(fa=bb.nested?Dc.items[0]:fa,fa._update!==I&&(fa._svg&&fa._svg.ownerSVGElement?
this._update(bb,fa._svg,fa):(this._dirtyAll=!1,Pd(fa,I)),fa._update=I)))}return!this._dirtyAll}mark(r,I,fa,va){if(!this.isDirty(I))return I._svg;const bb=this._svg,Ob=I.marktype,cc=Fg[Ob];var Dc=!1===I.interactive?"none":null;const ac="g"===cc.tag,Rc=gd(I,r,fa,"g",bb);if("group"!==Ob&&null!=va&&!va.includes(Ob))return yd(Rc,0),I._svg;Rc.setAttribute("class",fg(I));r=Va(I);for(const Td in r)he(Rc,Td,r[Td]);ac||he(Rc,"pointer-events",Dc);he(Rc,"clip-path",I.clip?Oc(this,I,I.group):null);let Lc=null,
rd=0;Dc=Td=>{const ce=this.isDirty(Td),xe=gd(Td,Rc,Lc,cc.tag,bb);ce&&(this._update(cc,xe,Td),ac&&He(this,xe,Td,va));Lc=xe;++rd};cc.nested?I.items.length&&Dc(I.items[0]):Mb(I,Dc);yd(Rc,rd);return Rc}_update(r,I,fa){Lg=I;vf=I.__values__;Ca(se,fa);r.attr(se,fa,this);const va=Mi[r.type];va&&va.call(this,r,I,fa);Lg&&this.style(Lg,fa)}style(r,I){if(null!=I){for(const fa in gh){let va="font"===fa?td(I):I[fa];if(va===vf[fa])continue;const bb=gh[fa];null==va?r.removeAttribute(bb):(va&&va.gradient&&(va=Vb(va,
this._defs.gradient,lf())),r.setAttribute(bb,va+""));vf[fa]=va}for(const fa in nh)Ve(r,nh[fa],I[fa])}}defs(){const r=this._svg,I=this._defs;let fa=I.el;var va=0;for(var bb in I.gradient){fa||(I.el=fa=ye(r,1,"defs",Me));var Ob=void 0;let ac,Rc;var cc=fa,Dc=I.gradient[bb];"radial"===Dc.gradient?(Ob=ye(cc,va++,"pattern",Me),af(Ob,{id:"p_"+Dc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Ob=ye(Ob,0,"rect",Me),af(Ob,{width:1,height:1,fill:`url(${lf()}#${Dc.id})`}),
cc=ye(cc,va++,"radialGradient",Me),af(cc,{id:Dc.id,fx:Dc.x1,fy:Dc.y1,fr:Dc.r1,cx:Dc.x2,cy:Dc.y2,r:Dc.r2})):(cc=ye(cc,va++,"linearGradient",Me),af(cc,{id:Dc.id,x1:Dc.x1,x2:Dc.x2,y1:Dc.y1,y2:Dc.y2}));Rc=0;for(ac=Dc.stops.length;Rc<ac;++Rc)Ob=ye(cc,Rc,"stop",Me),Ob.setAttribute("offset",Dc.stops[Rc].offset),Ob.setAttribute("stop-color",Dc.stops[Rc].color);yd(cc,Rc)}for(const ac in I.clipping)fa||(I.el=fa=ye(r,1,"defs",Me)),cc=fa,Dc=I.clipping[ac],bb=va,cc=ye(cc,bb,"clipPath",Me),cc.setAttribute("id",
Dc.id),Dc.path?(va=ye(cc,0,"path",Me),va.setAttribute("d",Dc.path)):(va=ye(cc,0,"rect",Me),af(va,{x:0,y:0,width:Dc.width,height:Dc.height})),yd(cc,1),va=bb+1;fa&&(0===va?(r.removeChild(fa),I.el=null):yd(fa,va))}_clearDefs(){const r=this._defs;r.gradient={};r.clipping={}}}let Lg=null,vf=null;const Mi={group(r,I,fa){const va=Lg=I.childNodes[2];vf=va.__values__;r.foreground(se,fa,this);vf=I.__values__;Lg=I.childNodes[1];r.content(se,fa,this);I=Lg=I.childNodes[0];r.background(se,fa,this);r=!1===fa.mark.interactive?
"none":null;r!==vf.events&&(he(va,"pointer-events",r),he(I,"pointer-events",r),vf.events=r);fa.strokeForeground&&fa.stroke?(r=fa.fill,he(va,"display",null),this.style(I,fa),he(I,"stroke",null),r&&(fa.fill=null),vf=va.__values__,this.style(va,fa),r&&(fa.fill=r),Lg=null):he(va,"display","none")},image(r,I,fa){!1===fa.smooth?(Ve(I,"image-rendering","optimizeSpeed"),Ve(I,"image-rendering","pixelated")):Ve(I,"image-rendering",null)},text(r,I,fa){r=Mc(fa);let va,bb,Ob;h.isArray(r)?(va=r.map(cc=>Nc(fa,cc)),
r=va.join("\n"),r!==vf.text&&(yd(I,0),bb=I.ownerDocument,Ob=Ac(fa),va.forEach((cc,Dc)=>{const ac=oe(bb,"tspan",Me);ac.__data__=fa;ac.textContent=cc;Dc&&(ac.setAttribute("x",0),ac.setAttribute("dy",Ob));I.appendChild(ac)}),vf.text=r)):(va=Nc(fa,r),va!==vf.text&&(I.textContent=va,vf.text=va));he(I,"font-family",td(fa));he(I,"font-size",ic(fa)+"px");he(I,"font-style",fa.fontStyle);he(I,"font-variant",fa.fontVariant);he(I,"font-weight",fa.fontWeight)}};class pg extends wh{constructor(r){super(r);this._text=
null;this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(r){const I=Bd();I.open("svg",h.extend({},of,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const fa=this._bgcolor;fa&&"transparent"!==fa&&"none"!==fa&&I.open("rect",{width:this._width,height:this._height,fill:fa}).close();I.open("g",Gg,{transform:"translate("+this._origin+")"});this.mark(I,r);I.close();this.defs(I);this._text=I.close()+"";return this}mark(r,
I){const fa=Fg[I.marktype],va=fa.tag,bb=[Ca,fa.attr];r.open("g",{"class":fg(I),"clip-path":I.clip?Oc(this,I,I.group):null},Va(I),{"pointer-events":"g"!==va&&!1===I.interactive?"none":null});const Ob=cc=>{const Dc=this.href(cc);Dc&&r.open("a",Dc);r.open(va,this.attr(I,cc,bb,"g"!==va?va:null));if("text"===va){var ac=Mc(cc);if(h.isArray(ac)){var Rc={x:0,dy:Ac(cc)};for(var Lc=0;Lc<ac.length;++Lc)r.open("tspan",Lc?Rc:null).text(Nc(cc,ac[Lc])).close()}else r.text(Nc(cc,ac))}else"g"===va&&(ac=cc.strokeForeground,
Rc=cc.fill,Lc=cc.stroke,ac&&Lc&&(cc.stroke=null),r.open("path",this.attr(I,cc,fa.background,"bgrect")).close(),r.open("g",this.attr(I,cc,fa.content)),Mb(cc,rd=>this.mark(r,rd)),r.close(),ac&&Lc?(Rc&&(cc.fill=null),cc.stroke=Lc,r.open("path",this.attr(I,cc,fa.foreground,"bgrect")).close(),Rc&&(cc.fill=Rc)):r.open("path",this.attr(I,cc,fa.foreground,"bgfore")).close());r.close();Dc&&r.close()};fa.nested?I.items&&I.items.length&&Ob(I.items[0]):Mb(I,Ob);return r.close()}href(r){const I=r.href;if(I){if(r=
this._hrefs&&this._hrefs[I])return r;this.sanitizeURL(I).then(fa=>{fa["xlink:href"]=fa.href;fa.href=null;(this._hrefs||(this._hrefs={}))[I]=fa})}return null}attr(r,I,fa,va){const bb={},Ob=(cc,Dc,ac,Rc)=>{bb[Rc||cc]=Dc};Array.isArray(fa)?fa.forEach(cc=>cc(Ob,I,this)):fa(Ob,I,this);va&&xf(bb,I,r,va,this._defs);return bb}defs(r){var I=this._defs.gradient;const fa=this._defs.clipping;if(0!==Object.keys(I).length+Object.keys(fa).length){r.open("defs");for(const bb in I){var va=I[bb];const Ob=va.stops;
"radial"===va.gradient?(r.open("pattern",{id:"p_"+bb,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r.open("rect",{width:"1",height:"1",fill:"url(#"+bb+")"}).close(),r.close(),r.open("radialGradient",{id:bb,fx:va.x1,fy:va.y1,fr:va.r1,cx:va.x2,cy:va.y2,r:va.r2})):r.open("linearGradient",{id:bb,x1:va.x1,x2:va.x2,y1:va.y1,y2:va.y2});for(va=0;va<Ob.length;++va)r.open("stop",{offset:Ob[va].offset,"stop-color":Ob[va].color}).close();r.close()}for(const bb in fa)I=fa[bb],
r.open("clipPath",{id:bb}),I.path?r.open("path",{d:I.path}).close():r.open("rect",{x:0,y:0,width:I.width,height:I.height}).close(),r.close();r.close()}}}const Mg={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};class oh extends wh{constructor(r){super(r);this._svgRenderer=new Ih(r);this._canvasRenderer=new Eg(r)}initialize(r,I,fa,va,bb){this._root_el=ye(r,0,"div");const Ob=ye(this._root_el,0,"div"),cc=ye(this._root_el,1,"div");this._root_el.style.position="relative";Mg.debug||(Ob.style.height="100%",
cc.style.position="absolute",cc.style.top="0",cc.style.left="0",cc.style.height="100%",cc.style.width="100%");this._svgEl=Mg.svgOnTop?cc:Ob;this._canvasEl=Mg.svgOnTop?Ob:cc;this._svgEl.style.pointerEvents="none";this._canvasRenderer.initialize(this._canvasEl,I,fa,va,bb);this._svgRenderer.initialize(this._svgEl,I,fa,va,bb);return super.initialize(r,I,fa,va,bb)}dirty(r){Mg.svgMarkTypes.includes(r.mark.marktype)?this._svgRenderer.dirty(r):this._canvasRenderer.dirty(r);return this}_render(r,I){I=(null!=
I?I:"arc area image line path rect rule shape symbol text trail".split(" ")).filter(fa=>!Mg.svgMarkTypes.includes(fa));this._svgRenderer.render(r,Mg.svgMarkTypes);this._canvasRenderer.render(r,I)}resize(r,I,fa,va){super.resize(r,I,fa,va);this._svgRenderer.resize(r,I,fa,va);this._canvasRenderer.resize(r,I,fa,va);return this}background(r){Mg.svgOnTop?this._canvasRenderer.background(r):this._svgRenderer.background(r);return this}}class $g extends Fh{constructor(r,I){super(r,I)}initialize(r,I,fa){r=ye(ye(r,
0,"div"),Mg.svgOnTop?0:1,"div");return super.initialize(r,I,fa)}}const Jh={};Jh.canvas=Jh.png={renderer:Eg,headless:Eg,handler:Fh};Jh.svg={renderer:Ih,headless:pg,handler:Gh};Jh.hybrid={renderer:oh,headless:oh,handler:$g};Jh.none={};const ah=new ra;w.Bounds=ra;w.CanvasHandler=Fh;w.CanvasRenderer=Eg;w.Gradient=function(r,I){var fa=[],va;return va={gradient:"linear",x1:r?r[0]:0,y1:r?r[1]:0,x2:I?I[0]:1,y2:I?I[1]:0,stops:fa,stop:function(bb,Ob){fa.push({offset:bb,color:Ob});return va}}};w.GroupItem=Ta;
w.Handler=ui;w.HybridHandler=$g;w.HybridRenderer=oh;w.Item=Eb;w.Marks=Fg;w.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",Hybrid:"hybrid",None:"none"};w.Renderer=wh;w.ResourceLoader=Wg;w.SVGHandler=Gh;w.SVGRenderer=Ih;w.SVGStringRenderer=pg;w.Scenegraph=bj;w.boundClip=function(r){const I=r.clip;if(h.isFunction(I))I(Gb(ah.clear()));else if(I)ah.set(0,0,r.group.width,r.group.height);else return;r.bounds.intersect(ah)};w.boundContext=Gb;w.boundItem=Je;w.boundMark=Ie;w.boundStroke=yb;w.domChild=ye;w.domClear=
yd;w.domCreate=oe;w.domFind=Ee;w.font=ud;w.fontFamily=td;w.fontSize=ic;w.intersect=function(r,I,fa){const va=[];I=(new ra).union(I);const bb=r.marktype;return bb?Be(r,I,fa,va):"group"===bb?Ue(r,I,fa,va):h.error("Intersect scene must be mark node or group item.")};w.intersectBoxLine=Ia;w.intersectPath=wc;w.intersectPoint=Xc;w.intersectRule=na;w.lineHeight=Ac;w.markup=Bd;w.multiLineOffset=function(r){const I=Mc(r);return(h.isArray(I)?I.length-1:0)*Ac(r)};w.path=ec;w.pathCurves=Da;w.pathEqual=ue;w.pathParse=
P;w.pathRectangle=nc;w.pathRender=Ba;w.pathSymbols=Qa;w.pathTrail=Wb;w.point=Ze;w.renderModule=function(r,I){r=String(r||"").toLowerCase();return 1<arguments.length?(Jh[r]=I,this):Jh[r]};w.resetSVGClipId=function(){Vg=1};w.resetSVGDefIds=function(){Vg=1;qa=0};w.sceneEqual=pe;w.sceneFromJSON=$e;w.scenePickVisit=Fb;w.sceneToJSON=Ne;w.sceneVisit=Mb;w.sceneZOrder=mb;w.serializeXML=Aj;w.setHybridRendererOptions=function(r){let I;Mg.svgMarkTypes=null!=(I=r.svgMarkTypes)?I:["text"];let fa;Mg.svgOnTop=null!=
(fa=r.svgOnTop)?fa:!0;let va;Mg.debug=null!=(va=r.debug)?va:!1};w.textMetrics=og})};
shadow$provide[35]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(29),ob(34),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega,w.vega))})(this,function(w,h,ka,Za){function zb(D){h.Transform.call(this,null,D)}function Vb(D,H,W){return H(D.bounds.clear(),D,W)}function Zb(D){h.Transform.call(this,
0,D)}function Ub(D){return D._signals[":vega_identifier:"]||(D._signals[":vega_identifier:"]=D.add(0))}function jc(D){h.Transform.call(this,null,D)}function Bb(D){const H=D.groups;D=D.parent;return H&&1===H.size?H.get(Object.keys(H.object)[0]):H&&D?H.lookup(D):null}function Rb(D){h.Transform.call(this,null,D)}function ec(D){h.Transform.call(this,null,D)}function Ea(D,H,W){return D[H]===W?0:(D[H]=W,1)}function $a(D){D=D.items[0].orient;return"left"===D||"right"===D}function vb(D,H,W,Da){H=H.items[0];
var P=H.datum,ja=null!=H.translate?H.translate:.5,Ba=H.orient,Na=+P.grid;var Qa=[P.ticks?Na++:-1,P.labels?Na++:-1,Na+ +P.domain];Na=H.range;var eb=H.offset,xb=H.position,kb=H.minExtent,Sb=H.maxExtent;P=P.title&&H.items[Qa[2]].items[0];var X=H.titlePadding,Ha=H.bounds,Nb=P&&ka.multiLineOffset(P),nc;z.clear().union(Ha);Ha.clear();-1<(nc=Qa[0])&&Ha.union(H.items[nc].bounds);-1<(nc=Qa[1])&&Ha.union(H.items[nc].bounds);switch(Ba){case "top":W=xb||0;Da=-eb;kb=Math.max(kb,Math.min(Sb,-Ha.y1));Ha.add(0,-kb).add(Na,
0);P&&ub(D,P,kb,X,Nb,0,-1,Ha);break;case "left":W=-eb;Da=xb||0;kb=Math.max(kb,Math.min(Sb,-Ha.x1));Ha.add(-kb,0).add(0,Na);P&&ub(D,P,kb,X,Nb,1,-1,Ha);break;case "right":W+=eb;Da=xb||0;kb=Math.max(kb,Math.min(Sb,Ha.x2));Ha.add(0,0).add(kb,Na);P&&ub(D,P,kb,X,Nb,1,1,Ha);break;case "bottom":W=xb||0;Da+=eb;kb=Math.max(kb,Math.min(Sb,Ha.y2));Ha.add(0,0).add(Na,kb);P&&ub(D,P,kb,X,0,0,1,Ha);break;default:W=H.x,Da=H.y}ka.boundStroke(Ha.translate(W,Da),H);Ea(H,"x",W+ja)|Ea(H,"y",Da+ja)&&(H.bounds=z,D.dirty(H),
H.bounds=Ha,D.dirty(H));return H.mark.bounds.clear().union(Ha)}function ub(D,H,W,Da,P,ja,Ba,Na){const Qa=H.bounds;H.auto&&(W=Ba*(W+P+Da),P=Da=0,D.dirty(H),ja?Da=(H.x||0)-(H.x=W):P=(H.y||0)-(H.y=W),H.mark.bounds.clear().union(Qa.translate(-Da,-P)),D.dirty(H));Na.union(Qa)}function sb(D){return(new ka.Bounds).set(0,0,D.width||0,D.height||0)}function wb(D){const H=D.bounds.clone();return H.empty()?H.set(0,0,0,0):H.translate(-(D.x||0),-(D.y||0))}function jb(D,H,W){D=Za.isObject(D)?D[H]:D;return null!=
D?D:void 0!==W?W:0}function lc(D){return 0>D?Math.ceil(-D):0}function ta(D,H,W){var Da=!W.nodirty,P="flush"===W.bounds?sb:wb,ja=z.set(0,0,0,0),Ba=jb(W.align,"column"),Na=jb(W.align,"row"),Qa=jb(W.padding,"column"),eb=jb(W.padding,"row"),xb=W.columns||H.length,kb=0>=xb?1:Math.ceil(H.length/xb),Sb=H.length,X=Array(Sb),Ha=Array(xb),Nb=0,nc=Array(Sb),Wb=Array(kb),Jb=0,Lb=Array(Sb),sc=Array(Sb),Oc=Array(Sb),ra,Eb,Ta;for(ra=0;ra<xb;++ra)Ha[ra]=0;for(ra=0;ra<kb;++ra)Wb[ra]=0;for(ra=0;ra<Sb;++ra){var yb=
H[ra];var Gb=Oc[ra]=P(yb);yb.x=yb.x||0;Lb[ra]=0;yb.y=yb.y||0;sc[ra]=0;yb=ra%xb;var Cb=~~(ra/xb);Nb=Math.max(Nb,Eb=Math.ceil(Gb.x2));Jb=Math.max(Jb,Ta=Math.ceil(Gb.y2));Ha[yb]=Math.max(Ha[yb],Eb);Wb[Cb]=Math.max(Wb[Cb],Ta);X[ra]=Qa+lc(Gb.x1);nc[ra]=eb+lc(Gb.y1);Da&&D.dirty(H[ra])}for(ra=0;ra<Sb;++ra)0===ra%xb&&(X[ra]=0),ra<xb&&(nc[ra]=0);if("each"===Ba)for(yb=1;yb<xb;++yb){P=0;for(ra=yb;ra<Sb;ra+=xb)P<X[ra]&&(P=X[ra]);for(ra=yb;ra<Sb;ra+=xb)X[ra]=P+Ha[yb-1]}else if("all"===Ba){for(ra=P=0;ra<Sb;++ra)ra%
xb&&P<X[ra]&&(P=X[ra]);for(ra=0;ra<Sb;++ra)ra%xb&&(X[ra]=P+Nb)}else for(Ba=!1,yb=1;yb<xb;++yb)for(ra=yb;ra<Sb;ra+=xb)X[ra]+=Ha[yb-1];if("each"===Na)for(Cb=1;Cb<kb;++Cb){P=0;ra=Cb*xb;for(yb=ra+xb;ra<yb;++ra)P<nc[ra]&&(P=nc[ra]);for(ra=Cb*xb;ra<yb;++ra)nc[ra]=P+Wb[Cb-1]}else if("all"===Na){P=0;for(ra=xb;ra<Sb;++ra)P<nc[ra]&&(P=nc[ra]);for(ra=xb;ra<Sb;++ra)nc[ra]=P+Jb}else for(Na=!1,Cb=1;Cb<kb;++Cb)for(ra=Cb*xb,yb=ra+xb;ra<yb;++ra)nc[ra]+=Wb[Cb-1];for(ra=Cb=0;ra<Sb;++ra)Cb=X[ra]+(ra%xb?Cb:0),Lb[ra]+=
Cb-H[ra].x;for(yb=0;yb<xb;++yb)for(X=0,ra=yb;ra<Sb;ra+=xb)X+=nc[ra],sc[ra]+=X-H[ra].y;if(Ba&&jb(W.center,"column")&&1<kb)for(ra=0;ra<Sb;++ra)Gb="all"===Ba?Nb:Ha[ra%xb],Cb=Gb-Oc[ra].x2-H[ra].x-Lb[ra],0<Cb&&(Lb[ra]+=Cb/2);if(Na&&jb(W.center,"row")&&1!==xb)for(ra=0;ra<Sb;++ra)Gb="all"===Na?Jb:Wb[~~(ra/xb)],X=Gb-Oc[ra].y2-H[ra].y-sc[ra],0<X&&(sc[ra]+=X/2);for(ra=0;ra<Sb;++ra)ja.union(Oc[ra].translate(Lb[ra],sc[ra]));Cb=jb(W.anchor,"x");X=jb(W.anchor,"y");switch(jb(W.anchor,"column")){case "end":Cb-=ja.width();
break;case "middle":Cb-=ja.width()/2}switch(jb(W.anchor,"row")){case "end":X-=ja.height();break;case "middle":X-=ja.height()/2}Cb=Math.round(Cb);X=Math.round(X);ja.clear();for(ra=0;ra<Sb;++ra)H[ra].mark.bounds.clear();for(ra=0;ra<Sb;++ra)yb=H[ra],yb.x+=Lb[ra]+=Cb,yb.y+=sc[ra]+=X,ja.union(yb.mark.bounds.union(yb.bounds.translate(Lb[ra],sc[ra]))),Da&&D.dirty(yb);return ja}function ha(D,H){return"x1"===H?D.x||0:"y1"===H?D.y||0:"x2"===H?(D.x||0)+(D.width||0):"y2"===H?(D.y||0)+(D.height||0):void 0}function ya(D,
H){return D.bounds[H]}function Ra(D,H,W,Da,P,ja,Ba,Na,Qa,eb,xb,kb,Sb,X){var Ha=W.length,Nb=Da=0,nc,Wb;if(!Ha)return Da;for(nc=xb;nc<Ha;nc+=kb)W[nc]&&(Da=Ba(Da,Qa(W[nc],eb)));if(!H.length)return Da;H.length>P&&(D.warn("Grid headers exceed limit: "+P),H=H.slice(0,P));Da+=ja;P=0;for(ja=H.length;P<ja;++P)D.dirty(H[P]),H[P].mark.bounds.clear();nc=xb;P=0;for(ja=H.length;P<ja;++P,nc+=kb){Qa=H[P];xb=Qa.mark.bounds;for(Ha=nc;0<=Ha&&null==(Wb=W[Ha]);Ha-=Sb);if(Na){Ha=null==X?Wb.x:Math.round(Wb.bounds.x1+X*
Wb.bounds.width());var Jb=Da}else Ha=Da,Jb=null==X?Wb.y:Math.round(Wb.bounds.y1+X*Wb.bounds.height());xb.union(Qa.bounds.translate(Ha-(Qa.x||0),Jb-(Qa.y||0)));Qa.x=Ha;Qa.y=Jb;D.dirty(Qa);Nb=Ba(Nb,xb[eb])}return Nb}function Wa(D,H,W,Da,P,ja){if(H){D.dirty(H);var Ba=W;Da?Ba=Math.round(P.x1+ja*P.width()):W=Math.round(P.y1+ja*P.height());H.bounds.translate(Ba-(H.x||0),W-(H.y||0));H.mark.bounds.clear().union(H.bounds);H.x=Ba;H.y=W;D.dirty(H)}}function Ja(D,H){const W=D[H]||{};return(Da,P)=>null!=W[Da]?
W[Da]:null!=D[Da]?D[Da]:P}function ib(D,H){let W=-Infinity;D.forEach(Da=>{null!=Da.offset&&(W=Math.max(W,Da.offset))});return-Infinity<W?W:H}function cb(D,H,W,Da,P,ja,Ba){const Na=Ja(W,H);W=ib(D,Na("offset",0));const Qa=Na("anchor","start"),eb="end"===Qa?1:"middle"===Qa?.5:0;D={align:"each",bounds:Na("bounds","flush"),columns:"vertical"===Na("direction")?1:D.length,padding:Na("margin",8),center:Na("center"),nodirty:!0};switch(H){case "left":D.anchor={x:Math.floor(Da.x1)-W,column:"end",y:eb*(Ba||Da.height()+
2*Da.y1),row:Qa};break;case "right":D.anchor={x:Math.ceil(Da.x2)+W,y:eb*(Ba||Da.height()+2*Da.y1),row:Qa};break;case "top":D.anchor={y:Math.floor(P.y1)-W,row:"end",x:eb*(ja||P.width()+2*P.x1),column:Qa};break;case "bottom":D.anchor={y:Math.ceil(P.y2)+W,x:eb*(ja||P.width()+2*P.x1),column:Qa};break;case "top-left":D.anchor={x:W,y:W};break;case "top-right":D.anchor={x:ja-W,y:W,column:"end"};break;case "bottom-left":D.anchor={x:W,y:Ba-W,row:"end"};break;case "bottom-right":D.anchor={x:ja-W,y:Ba-W,column:"end",
row:"end"}}return D}function tb(D,H){H=H.items[0];var W=H.datum,Da=H.orient,P=H.bounds,ja=H.x,Ba=H.y;H._bounds?H._bounds.clear().union(P):H._bounds=P.clone();P.clear();var Na=H.items[0].items[0];var Qa=H.padding,eb=Qa-Na.x,xb=Qa-Na.y;if(H.datum.title){var kb=H.items[1].items[0],Sb=kb.anchor,X=H.titlePadding||0,Ha=Qa-kb.x,Nb=Qa-kb.y;switch(kb.orient){case "left":eb+=Math.ceil(kb.bounds.width())+X;break;case "right":case "bottom":break;default:xb+=kb.bounds.height()+X}(eb||xb)&&V(D,Na,eb,xb);switch(kb.orient){case "left":Nb+=
gb(H,Na,kb,Sb,1,1);break;case "right":Ha+=gb(H,Na,kb,"end",0,0)+X;Nb+=gb(H,Na,kb,Sb,1,1);break;case "bottom":Ha+=gb(H,Na,kb,Sb,0,0);Nb+=gb(H,Na,kb,"end",-1,0,1)+X;break;default:Ha+=gb(H,Na,kb,Sb,0,0)}(Ha||Nb)&&V(D,kb,Ha,Nb);0>(Ha=Math.round(kb.bounds.x1-Qa))&&(V(D,Na,-Ha,0),V(D,kb,-Ha,0))}else(eb||xb)&&V(D,Na,eb,xb);P=Pb(H,P);D=2*H.padding;Na=2*H.padding;P.empty()||(D=Math.ceil(P.width()+D),Na=Math.ceil(P.height()+Na));"symbol"===W.type&&aa(H.items[0].items[0].items[0].items);"none"!==Da&&(H.x=ja=
0,H.y=Ba=0);H.width=D;H.height=Na;ka.boundStroke(P.set(ja,Ba,ja+D,Ba+Na),H);H.mark.bounds.clear().union(P);return H}function Pb(D,H){D.items.forEach(W=>H.union(W.bounds));H.x1=D.padding;H.y1=D.padding;return H}function gb(D,H,W,Da,P,ja,Ba){const Na=W.datum.vgrad;D=("symbol"===D.datum.type||!ja&&Na||Ba?H:H.items[0]).bounds[P?"y2":"x2"]-D.padding;H=Na&&ja?D:0;ja=Na&&ja?0:D;W=0>=P?0:ka.multiLineOffset(W);return Math.round("start"===Da?H:"end"===Da?ja-W:.5*(D-W))}function V(D,H,W,Da){H.x+=W;H.y+=Da;H.bounds.translate(W,
Da);H.mark.bounds.translate(W,Da);D.dirty(H)}function aa(D){const H=D.reduce((W,Da)=>{W[Da.column]=Math.max(Da.bounds.x2-Da.x,W[Da.column]||0);return W},{});D.forEach(W=>{W.width=H[W.column];W.height=W.bounds.y2-W.y})}function da(D,H,W,Da,P){var ja=H.items[0],Ba=ja.orient,Na=ja.anchor,Qa=ja.offset,eb=ja.padding,xb=ja.items[0].items[0],kb=ja.items[1]&&ja.items[1].items[0],Sb="left"===Ba||"right"===Ba?Da:W,X=0,Ha=W=0;"group"!==ja.frame?"left"===Ba?(X=P.y2,Sb=P.y1):"right"===Ba?(X=P.y1,Sb=P.y2):(X=P.x1,
Sb=P.x2):"left"===Ba&&(X=Da,Sb=0);Da="start"===Na?X:"end"===Na?Sb:(X+Sb)/2;if(kb&&kb.text){switch(Ba){case "top":case "bottom":Ha=xb.bounds.height()+eb;break;case "left":W=xb.bounds.width()+eb;break;case "right":W=-xb.bounds.width()-eb}z.clear().union(kb.bounds);z.translate(W-(kb.x||0),Ha-(kb.y||0));Ea(kb,"x",W)|Ea(kb,"y",Ha)&&(D.dirty(kb),kb.bounds.clear().union(z),kb.mark.bounds.clear().union(z),D.dirty(kb));z.clear().union(kb.bounds)}else z.clear();z.union(xb.bounds);switch(Ba){case "top":Ba=Da;
P=P.y1-z.height()-Qa;break;case "left":Ba=P.x1-z.width()-Qa;P=Da;break;case "right":Ba=P.x2+z.width()+Qa;P=Da;break;case "bottom":Ba=Da;P=P.y2+Qa;break;default:Ba=ja.x,P=ja.y}Ea(ja,"x",Ba)|Ea(ja,"y",P)&&(z.translate(Ba,P),D.dirty(ja),ja.bounds.clear().union(z),H.bounds.clear().union(z),D.dirty(ja));return ja.bounds}function ia(D){h.Transform.call(this,null,D)}function Ma(D){return D&&"legend-entry"!==D.mark.role}function pa(D,H,W){var Da=H.items,P=Math.max(0,H.width||0),ja=Math.max(0,H.height||0),
Ba=(new ka.Bounds).set(0,0,P,ja),Na=Ba.clone(),Qa=Ba.clone(),eb=[],xb,kb;var Sb=0;for(kb=Da.length;Sb<kb;++Sb){var X=Da[Sb];switch(X.role){case "axis":var Ha=$a(X)?Na:Qa;Ha.union(vb(D,X,P,ja));break;case "title":var Nb=X;break;case "legend":eb.push(tb(D,X));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Na.union(X.bounds);Qa.union(X.bounds);break;default:Ba.union(X.bounds)}}if(eb.length){const nc={};
eb.forEach(Wb=>{xb=Wb.orient||"right";"none"!==xb&&(nc[xb]||(nc[xb]=[])).push(Wb)});for(const Wb in nc)Da=nc[Wb],ta(D,Da,cb(Da,Wb,W.legends,Na,Qa,P,ja));eb.forEach(Wb=>{const Jb=Wb.bounds;Jb.equals(Wb._bounds)||(Wb.bounds=Wb._bounds,D.dirty(Wb),Wb.bounds=Jb,D.dirty(Wb));if(!W.autosize||"fit"!==W.autosize.type&&"fit-x"!==W.autosize.type&&"fit-y"!==W.autosize.type)Ba.union(Jb);else switch(Wb.orient){case "left":case "right":Ba.add(Jb.x1,0).add(Jb.x2,0);break;case "top":case "bottom":Ba.add(0,Jb.y1).add(0,
Jb.y2)}})}Ba.union(Na).union(Qa);Nb&&Ba.union(da(D,Nb,P,ja,Ba));H.clip&&Ba.set(0,0,H.width||0,H.height||0);sa(D,H,Ba,W)}function sa(D,H,W,Da){Da=Da.autosize||{};const P=Da.type;if(!(1>D._autosize)&&P){var ja=D._width,Ba=D._height,Na=Math.max(0,H.width||0),Qa=Math.max(0,Math.ceil(-W.x1));H=Math.max(0,H.height||0);var eb=Math.max(0,Math.ceil(-W.y1)),xb=Math.max(0,Math.ceil(W.x2-Na));W=Math.max(0,Math.ceil(W.y2-H));if("padding"===Da.contains){const kb=D.padding();ja-=kb.left+kb.right;Ba-=kb.top+kb.bottom}"none"===
P?(eb=Qa=0,Na=ja,H=Ba):"fit"===P?(Na=Math.max(0,ja-Qa-xb),H=Math.max(0,Ba-eb-W)):"fit-x"===P?(Na=Math.max(0,ja-Qa-xb),Ba=H+eb+W):"fit-y"===P?(ja=Na+Qa+xb,H=Math.max(0,Ba-eb-W)):"pad"===P&&(ja=Na+Qa+xb,Ba=H+eb+W);D._resizeView(ja,Ba,Na,H,[Qa,eb],Da.resize)}}Za.inherits(zb,h.Transform,{transform(D,H){const W=H.dataflow,Da=D.mark,P=Da.marktype,ja=ka.Marks[P],Ba=ja.bound;let Na=Da.bounds,Qa;if(ja.nested)Da.items.length&&W.dirty(Da.items[0]),Na=Vb(Da,Ba),Da.items.forEach(eb=>{eb.bounds.clear().union(Na)});
else if("group"===P||D.modified())switch(H.visit(H.MOD,eb=>W.dirty(eb)),Na.clear(),Da.items.forEach(eb=>Na.union(Vb(eb,Ba))),Da.role){case "axis":case "legend":case "title":H.reflow()}else Qa=H.changed(H.REM),H.visit(H.ADD,eb=>{Na.union(Vb(eb,Ba))}),H.visit(H.MOD,eb=>{Qa=Qa||Na.alignsWith(eb.bounds);W.dirty(eb);Na.union(Vb(eb,Ba))}),Qa&&(Na.clear(),Da.items.forEach(eb=>Na.union(eb.bounds)));ka.boundClip(Da);return H.modifies("bounds")}});Zb.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",
type:"string",required:!0}]};Za.inherits(Zb,h.Transform,{transform(D,H){const W=Ub(H.dataflow),Da=D.as;let P=W.value;H.visit(H.ADD,ja=>ja[Da]=ja[Da]||++P);W.set(this.value=P);return H}});Za.inherits(jc,h.Transform,{transform(D,H){let W=this.value;W||(W=H.dataflow.scenegraph().mark(D.markdef,Bb(D),D.index),W.group.context=D.context,D.context.group||(D.context.group=W.group),W.source=this.source,W.clip=D.clip,W.interactive=D.interactive,this.value=W);const Da="group"===W.marktype?ka.GroupItem:ka.Item;
H.visit(H.ADD,P=>Da.call(P,W));if(D.modified("clip")||D.modified("interactive"))W.clip=D.clip,W.interactive=!!D.interactive,W.zdirty=!0,H.reflow();W.items=H.source;return H}});const m={parity:D=>D.filter((H,W)=>W%2?H.opacity=0:1),greedy:(D,H)=>{let W;return D.filter((Da,P)=>P&&F(W.bounds,Da.bounds,H)?Da.opacity=0:(W=Da,1))}},F=(D,H,W)=>W>Math.max(H.x1-D.x2,D.x1-H.x2,H.y1-D.y2,D.y1-H.y2),L=(D,H)=>{for(var W=1,Da=D.length,P=D[0].bounds;W<Da;++W)if(F(P,P=D[W].bounds,H))return!0},u=D=>{D=D.bounds;return 1<
D.width()&&1<D.height()},R=(D,H,W)=>{D=D.range();var Da=new ka.Bounds;"top"===H||"bottom"===H?Da.set(D[0],-Infinity,D[1],Infinity):Da.set(-Infinity,D[0],Infinity,D[1]);Da.expand(W||1);return P=>Da.encloses(P.bounds)},B=D=>{D.forEach(H=>H.opacity=1);return D};Za.inherits(Rb,h.Transform,{transform(D,H){const W=m[D.method]||m.parity,Da=D.separation||0;let P=H.materialize(H.SOURCE).source,ja,Ba;if(P&&P.length){if(!D.method)return D.modified("method")&&(B(P),H=H.reflow(D.modified()).modifies("opacity")),
H;P=P.filter(u);if(P.length){D.sort&&(P=P.slice().sort(D.sort));ja=B(P);H=H.reflow(D.modified()).modifies("opacity");if(3<=ja.length&&L(ja,Da)){do ja=W(ja,Da);while(3<=ja.length&&L(ja,Da));3>ja.length&&!Za.peek(P).opacity&&(1<ja.length&&(Za.peek(ja).opacity=0),Za.peek(P).opacity=1)}D.boundScale&&0<=D.boundTolerance&&(Ba=R(D.boundScale,D.boundOrient,+D.boundTolerance),P.forEach(Qa=>{Ba(Qa)||(Qa.opacity=0)}));var Na=ja[0].mark.bounds.clear();P.forEach(Qa=>{Qa.opacity&&Na.union(Qa.bounds)});return H}}}});
Za.inherits(ec,h.Transform,{transform(D,H){const W=H.dataflow;H.visit(H.ALL,Da=>W.dirty(Da));H.fields&&H.fields.zindex&&(D=H.source&&H.source[0])&&(D.mark.zdirty=!0)}});const z=new ka.Bounds,N=(D,H)=>Math.floor(Math.min(D,H)),A=(D,H)=>Math.ceil(Math.max(D,H));Za.inherits(ia,h.Transform,{transform(D,H){const W=H.dataflow;D.mark.items.forEach(Da=>{if(D.layout){var P=D.layout;var ja=Da.items;for(var Ba=ja.length,Na=0,Qa,eb,xb={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,
coltitle:null};Na<Ba;++Na)if(Qa=ja[Na],eb=Qa.items,"group"===Qa.marktype)switch(Qa.role){case "axis":case "legend":case "title":break;case "row-header":xb.rowheaders.push(...eb);break;case "row-footer":xb.rowfooters.push(...eb);break;case "column-header":xb.colheaders.push(...eb);break;case "column-footer":xb.colfooters.push(...eb);break;case "row-title":xb.rowtitle=eb[0];break;case "column-title":xb.coltitle=eb[0];break;default:xb.marks.push(...eb)}ja=xb;eb=ja.marks;xb="flush"===P.bounds?ha:ya;Ba=
P.offset;var kb=P.columns||eb.length,Sb=0>=kb?1:Math.ceil(eb.length/kb),X=Sb*kb;Na=ta(W,eb,P);Na.empty()&&Na.set(0,0,0,0);if(ja.rowheaders){Qa=jb(P.headerBand,"row",null);var Ha=Ra(W,ja.rowheaders,eb,kb,Sb,-jb(Ba,"rowHeader"),N,0,xb,"x1",0,kb,1,Qa)}if(ja.colheaders){Qa=jb(P.headerBand,"column",null);var Nb=Ra(W,ja.colheaders,eb,kb,kb,-jb(Ba,"columnHeader"),N,1,xb,"y1",0,1,kb,Qa)}if(ja.rowfooters){Qa=jb(P.footerBand,"row",null);var nc=Ra(W,ja.rowfooters,eb,kb,Sb,jb(Ba,"rowFooter"),A,0,xb,"x2",kb-1,
kb,1,Qa)}if(ja.colfooters){Qa=jb(P.footerBand,"column",null);var Wb=Ra(W,ja.colfooters,eb,kb,kb,jb(Ba,"columnFooter"),A,1,xb,"y2",X-kb,1,kb,Qa)}ja.rowtitle&&(Qa=jb(P.titleAnchor,"row"),eb=jb(Ba,"rowTitle"),eb="end"===Qa?nc+eb:Ha-eb,Qa=jb(P.titleBand,"row",.5),Wa(W,ja.rowtitle,eb,0,Na,Qa));ja.coltitle&&(Qa=jb(P.titleAnchor,"column"),eb=jb(Ba,"columnTitle"),eb="end"===Qa?Wb+eb:Nb-eb,Qa=jb(P.titleBand,"column",.5),Wa(W,ja.coltitle,eb,1,Na,Qa))}pa(W,Da,D)});return Ma(D.mark.group)?H.reflow():H}});w.bound=
zb;w.identifier=Zb;w.mark=jc;w.overlap=Rb;w.render=ec;w.viewlayout=ia})};
shadow$provide[36]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(29),ob(33),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega,w.vega))})(this,function(w,h,ka,Za){function zb(S){h.Transform.call(this,null,S)}function Vb(S){h.Transform.call(this,null,S)}function Zb(){return h.ingest({})}function Ub(S){const v=Za.fastmap().test(ca=>
ca.exit);v.lookup=ca=>v.get(S(ca));return v}function jc(S){h.Transform.call(this,null,S)}function Bb(S){h.Transform.call(this,[],S)}function Rb(S){h.Transform.call(this,{},S)}function ec(S,v,ca){S=+S;v=+v;ca=2>(Fa=arguments.length)?(v=S,S=0,1):3>Fa?1:+ca;for(var za=-1,Fa=Math.max(0,Math.ceil((v-S)/ca))|0,Ua=Array(Fa);++za<Fa;)Ua[za]=S+za*ca;return Ua}function Ea(S,v){v=0;for(let ca of S)if(ca=+ca)v+=ca;return v}function $a(S){h.Transform.call(this,null,S)}function vb(S,v,ca){S.prototype=v.prototype=
ca;ca.constructor=S}function ub(S,v){S=Object.create(S.prototype);for(var ca in v)S[ca]=v[ca];return S}function sb(){}function wb(){return this.rgb().formatHex()}function jb(){return this.rgb().formatRgb()}function lc(S){var v,ca;S=(S+"").trim().toLowerCase();return(v=ra.exec(S))?(ca=v[1].length,v=parseInt(v[1],16),6===ca?ta(v):3===ca?new Ra(v>>8&15|v>>4&240,v>>4&15|v&240,(v&15)<<4|v&15,1):8===ca?ha(v>>24&255,v>>16&255,v>>8&255,(v&255)/255):4===ca?ha(v>>12&15|v>>8&240,v>>8&15|v>>4&240,v>>4&15|v&240,
((v&15)<<4|v&15)/255):null):(v=Eb.exec(S))?new Ra(v[1],v[2],v[3],1):(v=Ta.exec(S))?new Ra(255*v[1]/100,255*v[2]/100,255*v[3]/100,1):(v=yb.exec(S))?ha(v[1],v[2],v[3],v[4]):(v=Gb.exec(S))?ha(255*v[1]/100,255*v[2]/100,255*v[3]/100,v[4]):(v=Cb.exec(S))?Pb(v[1],v[2]/100,v[3]/100,1):(v=Xb.exec(S))?Pb(v[1],v[2]/100,v[3]/100,v[4]):gc.hasOwnProperty(S)?ta(gc[S]):"transparent"===S?new Ra(NaN,NaN,NaN,0):null}function ta(S){return new Ra(S>>16&255,S>>8&255,S&255,1)}function ha(S,v,ca,za){0>=za&&(S=v=ca=NaN);
return new Ra(S,v,ca,za)}function ya(S,v,ca,za){if(1===arguments.length){var Fa=S;Fa instanceof sb||(Fa=lc(Fa));Fa?(Fa=Fa.rgb(),Fa=new Ra(Fa.r,Fa.g,Fa.b,Fa.opacity)):Fa=new Ra}else Fa=new Ra(S,v,ca,null==za?1:za);return Fa}function Ra(S,v,ca,za){this.r=+S;this.g=+v;this.b=+ca;this.opacity=+za}function Wa(){return`#${tb(this.r)}${tb(this.g)}${tb(this.b)}`}function Ja(){const S=ib(this.opacity);return`${1===S?"rgb(":"rgba("}${cb(this.r)}, ${cb(this.g)}, ${cb(this.b)}${1===S?")":`, ${S})`}`}function ib(S){return isNaN(S)?
1:Math.max(0,Math.min(1,S))}function cb(S){return Math.max(0,Math.min(255,Math.round(S)||0))}function tb(S){S=cb(S);return(16>S?"0":"")+S.toString(16)}function Pb(S,v,ca,za){0>=za?S=v=ca=NaN:0>=ca||1<=ca?S=v=NaN:0>=v&&(S=NaN);return new V(S,v,ca,za)}function gb(S){if(S instanceof V)return new V(S.h,S.s,S.l,S.opacity);S instanceof sb||(S=lc(S));if(!S)return new V;if(S instanceof V)return S;S=S.rgb();var v=S.r/255,ca=S.g/255,za=S.b/255,Fa=Math.min(v,ca,za),Ua=Math.max(v,ca,za),mb=NaN,Mb=Ua-Fa,Fb=(Ua+
Fa)/2;Mb?(mb=v===Ua?(ca-za)/Mb+6*(ca<za):ca===Ua?(za-v)/Mb+2:(v-ca)/Mb+4,Mb/=.5>Fb?Ua+Fa:2-Ua-Fa,mb*=60):Mb=0<Fb&&1>Fb?0:mb;return new V(mb,Mb,Fb,S.opacity)}function V(S,v,ca,za){this.h=+S;this.s=+v;this.l=+ca;this.opacity=+za}function aa(S){S=(S||0)%360;return 0>S?S+360:S}function da(S){return Math.max(0,Math.min(1,S||0))}function ia(S,v,ca){return 255*(60>S?v+(ca-v)*S/60:180>S?ca:240>S?v+(ca-v)*(240-S)/60:v)}function Ma(S,v){return function(ca){return S+ca*v}}function pa(S,v,ca){return S=Math.pow(S,
ca),v=Math.pow(v,ca)-S,ca=1/ca,function(za){return Math.pow(S+za*v,ca)}}function sa(S){return 1===(S=+S)?m:function(v,ca){return ca-v?pa(v,ca,S):wc(isNaN(v)?ca:v)}}function m(S,v){var ca=v-S;return ca?Ma(S,ca):wc(isNaN(S)?v:S)}function F(S,v){v||(v=[]);var ca=S?Math.min(v.length,S.length):0,za=v.slice(),Fa;return function(Ua){for(Fa=0;Fa<ca;++Fa)za[Fa]=S[Fa]*(1-Ua)+v[Fa]*Ua;return za}}function L(S,v){var ca=v?v.length:0,za=S?Math.min(ca,S.length):0,Fa=Array(za),Ua=Array(ca),mb;for(mb=0;mb<za;++mb)Fa[mb]=
D(S[mb],v[mb]);for(;mb<ca;++mb)Ua[mb]=v[mb];return function(Mb){for(mb=0;mb<za;++mb)Ua[mb]=Fa[mb](Mb);return Ua}}function u(S,v){var ca=new Date;return S=+S,v=+v,function(za){return ca.setTime(S*(1-za)+v*za),ca}}function R(S,v){return S=+S,v=+v,function(ca){return S*(1-ca)+v*ca}}function B(S,v){var ca={},za={},Fa;if(null===S||"object"!==typeof S)S={};if(null===v||"object"!==typeof v)v={};for(Fa in v)Fa in S?ca[Fa]=D(S[Fa],v[Fa]):za[Fa]=v[Fa];return function(Ua){for(Fa in ca)za[Fa]=ca[Fa](Ua);return za}}
function z(S){return function(){return S}}function N(S){return function(v){return S(v)+""}}function A(S,v){var ca=Kc.lastIndex=na.lastIndex=0,za,Fa,Ua,mb=-1,Mb=[],Fb=[];S+="";for(v+="";(za=Kc.exec(S))&&(Fa=na.exec(v));)(Ua=Fa.index)>ca&&(Ua=v.slice(ca,Ua),Mb[mb]?Mb[mb]+=Ua:Mb[++mb]=Ua),(za=za[0])===(Fa=Fa[0])?Mb[mb]?Mb[mb]+=Fa:Mb[++mb]=Fa:(Mb[++mb]=null,Fb.push({i:mb,x:R(za,Fa)})),ca=na.lastIndex;ca<v.length&&(Ua=v.slice(ca),Mb[mb]?Mb[mb]+=Ua:Mb[++mb]=Ua);return 2>Mb.length?Fb[0]?N(Fb[0].x):z(v):
(v=Fb.length,function(Kb){for(var vc=0,yc;vc<v;++vc)Mb[(yc=Fb[vc]).i]=yc.x(Kb);return Mb.join("")})}function D(S,v){var ca=typeof v;if(null==v||"boolean"===ca)S=wc(v);else{if("number"===ca)var za=R;else"string"===ca?ca=(za=lc(v))?(v=za,Xc):A:(v instanceof lc?za=Xc:v instanceof Date?za=u:(za=v,za=!ArrayBuffer.isView(za)||za instanceof DataView?Array.isArray(v)?L:"function"!==typeof v.valueOf&&"function"!==typeof v.toString||isNaN(v)?B:R:F),ca=za),za=ca;S=za(S,v)}return S}function H(S,v){return S=+S,
v=+v,function(ca){return Math.round(S*(1-ca)+v*ca)}}function W(S){return ka.isContinuous(S)&&S!==ka.Sequential}function Da(S){h.Transform.call(this,null,S);this.modified(!0)}function P(S,v,ca){ka.isLogarithmic(S)&&Math.abs(v.reduce((za,Fa)=>za+(0>Fa?-1:0<Fa?1:0),0))!==v.length&&ca.warn("Log scale domain includes zero: "+Za.stringValue(v));return v}function ja(S,v,ca){return Za.isFunction(S)&&(v||ca)?ka.interpolateRange(S,Ba(v||[0,1],ca)):S}function Ba(S,v){return v?S.slice().reverse():S}function Na(S){h.Transform.call(this,
null,S)}function Qa(S){h.Transform.call(this,null,S)}function eb(S,v,ca,za,Fa){v=(v-S.sum)/2;for(var Ua=S.length,mb=0,Mb;mb<Ua;++mb)Mb=S[mb],Mb[za]=v,Mb[Fa]=v+=Math.abs(ca(Mb))}function xb(S,v,ca,za,Fa){v=1/S.sum;for(var Ua=0,mb=S.length,Mb=0,Fb=0,Kb;Mb<mb;++Mb)Kb=S[Mb],Kb[za]=Ua,Kb[Fa]=Ua=v*(Fb+=Math.abs(ca(Kb)))}function kb(S,v,ca,za,Fa){for(var Ua=v=0,mb=S.length,Mb=0,Fb,Kb;Mb<mb;++Mb)Kb=S[Mb],Fb=+ca(Kb),0>Fb?(Kb[za]=Ua,Kb[Fa]=Ua+=Fb):(Kb[za]=v,Kb[Fa]=v+=Fb)}function Sb(S,v,ca,za){var Fa=[],Ua=
Ic=>Ic(Kb),mb;if(null==v)Fa.push(S.slice());else{var Mb={};var Fb=0;for(mb=S.length;Fb<mb;++Fb){var Kb=S[Fb];var vc=v.map(Ua);var yc=Mb[vc];yc||(Mb[vc]=yc=[],Fa.push(yc));yc.push(Kb)}}Ua=vc=0;for(S=Fa.length;vc<S;++vc){yc=Fa[vc];v=Fb=0;for(mb=yc.length;Fb<mb;++Fb)v+=Math.abs(za(yc[Fb]));yc.sum=v;v>Ua&&(Ua=v);ca&&yc.sort(ca)}Fa.max=Ua;return Fa}Za.inherits(zb,h.Transform,{transform(S,v){if(this.value&&!S.modified())return v.StopPropagation;var ca=v.dataflow.locale();v=v.fork(v.NO_SOURCE|v.NO_FIELDS);
var za=this.value,Fa=S.scale,Ua=ka.tickCount(Fa,null==S.count?S.values?S.values.length:10:S.count,S.minstep),mb=S.format||ka.tickFormat(ca,Fa,Ua,S.formatSpecifier,S.formatType,!!S.values),Mb=S.values?ka.validTicks(Fa,S.values,Ua):ka.tickValues(Fa,Ua);za&&(v.rem=za);za=Mb.map((Fb,Kb)=>h.ingest({index:Kb/(Mb.length-1||1),value:Fb,label:mb(Fb)}));S.extra&&za.length&&za.push(h.ingest({index:-1,extra:{value:za[0].value},label:""}));v.source=za;this.value=v.add=za;return v}});Za.inherits(Vb,h.Transform,
{transform(S,v){var ca=v.dataflow,za=v.fork(v.NO_SOURCE|v.NO_FIELDS),Fa=S.item||Zb,Ua=S.key||h.tupleid,mb=this.value;Za.isArray(za.encode)&&(za.encode=null);mb&&(S.modified("key")||v.modified(Ua))&&Za.error("DataJoin does not support modified key function or fields.");mb||(v=v.addAll(),this.value=mb=Ub(Ua));v.visit(v.ADD,Mb=>{const Fb=Ua(Mb);let Kb=mb.get(Fb);Kb?Kb.exit?(mb.empty--,za.add.push(Kb)):za.mod.push(Kb):(Kb=Fa(Mb),mb.set(Fb,Kb),za.add.push(Kb));Kb.datum=Mb;Kb.exit=!1});v.visit(v.MOD,Mb=>
{var Fb=Ua(Mb);if(Fb=mb.get(Fb))Fb.datum=Mb,za.mod.push(Fb)});v.visit(v.REM,Mb=>{var Fb=Ua(Mb);Fb=mb.get(Fb);Mb!==Fb.datum||Fb.exit||(za.rem.push(Fb),Fb.exit=!0,++mb.empty)});v.changed(v.ADD_MOD)&&za.modifies("datum");(v.clean()||S.clean&&mb.empty>ca.cleanThreshold)&&ca.runAfter(mb.clean);return za}});Za.inherits(jc,h.Transform,{transform(S,v){var ca=v.fork(v.ADD_REM),za=S.mod||!1,Fa=S.encoders,Ua=v.encode;if(Za.isArray(Ua))if(ca.changed()||Ua.every(yc=>Fa[yc]))Ua=Ua[0],ca.encode=null;else return v.StopPropagation;
var mb="enter"===Ua,Mb=Fa.update||Za.falsy,Fb=Fa.enter||Za.falsy,Kb=Fa.exit||Za.falsy,vc=(Ua&&!mb?Fa[Ua]:Mb)||Za.falsy;v.changed(v.ADD)&&(v.visit(v.ADD,yc=>{Fb(yc,S);Mb(yc,S)}),ca.modifies(Fb.output),ca.modifies(Mb.output),vc!==Za.falsy&&vc!==Mb&&(v.visit(v.ADD,yc=>{vc(yc,S)}),ca.modifies(vc.output)));v.changed(v.REM)&&Kb!==Za.falsy&&(v.visit(v.REM,yc=>{Kb(yc,S)}),ca.modifies(Kb.output));if(mb||vc!==Za.falsy)Ua=v.MOD|(S.modified()?v.REFLOW:0),mb?(v.visit(Ua,yc=>{const Ic=Fb(yc,S)||za;(vc(yc,S)||Ic)&&
ca.mod.push(yc)}),ca.mod.length&&ca.modifies(Fb.output)):v.visit(Ua,yc=>{(vc(yc,S)||za)&&ca.mod.push(yc)}),ca.mod.length&&ca.modifies(vc.output);return ca.changed()?ca:v.StopPropagation}});Za.inherits(Bb,h.Transform,{transform(S,v){if(null!=this.value&&!S.modified())return v.StopPropagation;var ca=v.dataflow.locale(),za=v.fork(v.NO_SOURCE|v.NO_FIELDS),Fa=this.value,Ua=S.type||ka.SymbolLegend,mb=S.scale,Mb=+S.limit,Fb=ka.tickCount(mb,null==S.count?5:S.count,S.minstep),Kb=!!S.values||Ua===ka.SymbolLegend,
vc=S.format||ka.labelFormat(ca,mb,Fb,Ua,S.formatSpecifier,S.formatType,Kb),yc=S.values||ka.labelValues(mb,Fb),Ic;Fa&&(za.rem=Fa);if(Ua===ka.SymbolLegend){if(Mb&&yc.length>Mb){v.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Fa=yc.slice(0,Mb-1);var kd=!0}else Fa=yc;if(Za.isFunction(Ic=S.size)){S.values||0!==mb(Fa[0])||(Fa=Fa.slice(1));var $c=Fa.reduce((hd,md)=>Math.max(hd,Ic(md,S)),0)}else Ic=Za.constant($c=Ic||8);Fa=Fa.map((hd,md)=>h.ingest({index:md,label:vc(hd,md,Fa),value:hd,
offset:$c,size:Ic(hd,S)}));kd&&(kd=yc[Fa.length],Fa.push(h.ingest({index:Fa.length,label:`\u2026${yc.length-Fa.length} entries`,value:kd,offset:$c,size:Ic(kd,S)})))}else if(Ua===ka.GradientLegend){v=mb.domain();var Pc=ka.scaleFraction(mb,v[0],Za.peek(v));3>yc.length&&!S.values&&v[0]!==Za.peek(v)&&(yc=[v[0],Za.peek(v)]);Fa=yc.map((hd,md)=>h.ingest({index:md,label:vc(hd,md,yc),value:hd,perc:Pc(hd)}))}else Ic=yc.length-1,Pc=ka.labelFraction(mb),Fa=yc.map((hd,md)=>h.ingest({index:md,label:vc(hd,md,yc),
value:hd,perc:md?Pc(hd):0,perc2:md===Ic?1:Pc(yc[md+1])}));za.source=Fa;this.value=za.add=Fa;return za}});const X=S=>S.source.x,Ha=S=>S.source.y,Nb=S=>S.target.x,nc=S=>S.target.y;Rb.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal",
"vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Za.inherits(Rb,h.Transform,{transform(S,v){var ca=S.sourceX||X,za=S.sourceY||Ha,Fa=S.targetX||Nb,Ua=S.targetY||nc,mb=S.as||"path",Mb=S.shape||"line",Fb=sc.get(Mb+"-"+(S.orient||"vertical"))||sc.get(Mb);Fb||Za.error("LinkPath unsupported type: "+S.shape+(S.orient?"-"+S.orient:""));v.visit(v.SOURCE,Kb=>{Kb[mb]=
Fb(ca(Kb),za(Kb),Fa(Kb),Ua(Kb))});return v.reflow(S.modified()).modifies(mb)}});const Wb=(S,v,ca,za)=>"M"+S+","+v+"L"+ca+","+za,Jb=(S,v,ca,za)=>{var Fa=ca-S,Ua=za-v,mb=Math.hypot(Fa,Ua)/2;return"M"+S+","+v+"A"+mb+","+mb+" "+180*Math.atan2(Ua,Fa)/Math.PI+" 0 1 "+ca+","+za},Lb=(S,v,ca,za)=>{var Fa=ca-S;const Ua=za-v,mb=.2*(Fa+Ua);Fa=.2*(Ua-Fa);return"M"+S+","+v+"C"+(S+mb)+","+(v+Fa)+" "+(ca+Fa)+","+(za-mb)+" "+ca+","+za},sc=Za.fastmap({line:Wb,"line-radial":(S,v,ca,za)=>Wb(v*Math.cos(S),v*Math.sin(S),
za*Math.cos(ca),za*Math.sin(ca)),arc:Jb,"arc-radial":(S,v,ca,za)=>Jb(v*Math.cos(S),v*Math.sin(S),za*Math.cos(ca),za*Math.sin(ca)),curve:Lb,"curve-radial":(S,v,ca,za)=>Lb(v*Math.cos(S),v*Math.sin(S),za*Math.cos(ca),za*Math.sin(ca)),"orthogonal-horizontal":(S,v,ca,za)=>"M"+S+","+v+"V"+za+"H"+ca,"orthogonal-vertical":(S,v,ca,za)=>"M"+S+","+v+"H"+ca+"V"+za,"orthogonal-radial":(S,v,ca,za)=>{const Fa=Math.cos(ca),Ua=Math.sin(ca);return"M"+v*Math.cos(S)+","+v*Math.sin(S)+"A"+v+","+v+" 0 0,"+((Math.abs(ca-
S)>Math.PI?ca<=S:ca>S)?1:0)+" "+v*Fa+","+v*Ua+"L"+za*Fa+","+za*Ua},"diagonal-horizontal":(S,v,ca,za)=>{const Fa=(S+ca)/2;return"M"+S+","+v+"C"+Fa+","+v+" "+Fa+","+za+" "+ca+","+za},"diagonal-vertical":(S,v,ca,za)=>{const Fa=(v+za)/2;return"M"+S+","+v+"C"+S+","+Fa+" "+ca+","+Fa+" "+ca+","+za},"diagonal-radial":(S,v,ca,za)=>{const Fa=Math.cos(S);S=Math.sin(S);const Ua=Math.cos(ca);ca=Math.sin(ca);const mb=(v+za)/2;return"M"+v*Fa+","+v*S+"C"+mb*Fa+","+mb*S+" "+mb*Ua+","+mb*ca+" "+za*Ua+","+za*ca}});
$a.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};Za.inherits($a,h.Transform,{transform(S,v){var ca=S.as||["startAngle","endAngle"],za=ca[0],Fa=ca[1],Ua=S.startAngle||0,mb=null!=S.endAngle?S.endAngle:2*Math.PI,Mb=v.source,Fb=Mb.map(S.field||
Za.one),Kb=Fb.length,vc=Ua;Ua=(mb-Ua)/Ea(Fb);mb=ec(Kb);var yc;S.sort&&mb.sort(($c,Pc)=>Fb[$c]-Fb[Pc]);for(yc=0;yc<Kb;++yc){var Ic=Fb[mb[yc]];var kd=Mb[mb[yc]];kd[za]=vc;kd[Fa]=vc+=Ic*Ua}this.value=Fb;return v.reflow(S.modified()).modifies(ca)}});var Oc=1/.7,ra=/^#([0-9a-f]{3,8})$/,Eb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Ta=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
yb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Gb=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Cb=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Xb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),gc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vb(sb,lc,{copy(S){return Object.assign(new this.constructor,this,S)},displayable(){return this.rgb().displayable()},hex:wb,formatHex:wb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return gb(this).formatHsl()},formatRgb:jb,toString:jb});vb(Ra,ya,ub(sb,{brighter(S){S=null==S?Oc:Math.pow(Oc,S);return new Ra(this.r*S,this.g*S,this.b*S,this.opacity)},darker(S){S=null==S?.7:Math.pow(.7,S);return new Ra(this.r*S,this.g*S,this.b*S,this.opacity)},rgb(){return this},clamp(){return new Ra(cb(this.r),cb(this.g),cb(this.b),ib(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&
-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Wa,formatHex:Wa,formatHex8:function(){return`#${tb(this.r)}${tb(this.g)}${tb(this.b)}${tb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ja,toString:Ja}));vb(V,function(S,v,ca,za){return 1===arguments.length?gb(S):new V(S,v,ca,null==za?1:za)},ub(sb,{brighter(S){S=null==S?Oc:Math.pow(Oc,S);return new V(this.h,this.s,this.l*S,this.opacity)},darker(S){S=null==S?.7:Math.pow(.7,S);return new V(this.h,this.s,this.l*S,this.opacity)},
rgb(){var S=this.h%360+360*(0>this.h),v=isNaN(S)||isNaN(this.s)?0:this.s,ca=this.l;v=ca+(.5>ca?ca:1-ca)*v;ca=2*ca-v;return new Ra(ia(240<=S?S-240:S+120,ca,v),ia(S,ca,v),ia(120>S?S+240:S-120,ca,v),this.opacity)},clamp(){return new V(aa(this.h),da(this.s),da(this.l),ib(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const S=ib(this.opacity);return`${1===S?"hsl(":"hsla("}${aa(this.h)}, ${100*da(this.s)}%, ${100*
da(this.l)}%${1===S?")":`, ${S})`}`}}));var wc=S=>()=>S,Xc=function ca(v){function za(Ua,mb){var Mb=Fa((Ua=ya(Ua)).r,(mb=ya(mb)).r),Fb=Fa(Ua.g,mb.g),Kb=Fa(Ua.b,mb.b),vc=m(Ua.opacity,mb.opacity);return function(yc){Ua.r=Mb(yc);Ua.g=Fb(yc);Ua.b=Kb(yc);Ua.opacity=vc(yc);return Ua+""}}var Fa=sa(v);za.gamma=ca;return za}(1),Kc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,na=new RegExp(Kc.source,"g");const Ia=Za.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));
Za.inherits(Da,h.Transform,{transform(v,ca){var za=ca.dataflow,Fa=this.value;var Ua=v.type;var mb="";if(Ua===ka.Sequential)Ua=ka.Sequential+"-"+ka.Linear;else{var Mb=v.type;ka.isContinuous(Mb)&&Mb!==ka.Time&&Mb!==ka.UTC&&(v.scheme||v.range&&v.range.length&&v.range.every(Za.isString))&&(mb=v.rawDomain?v.rawDomain.length:v.domain?v.domain.length+ +(null!=v.domainMid):0,mb=2===mb?ka.Sequential+"-":3===mb?ka.Diverging+"-":"");Ua=(mb+Ua||ka.Linear).toLowerCase()}Fa&&Ua===Fa.type||(this.value=Fa=ka.scale(Ua)());
for(Ua in v)Ia[Ua]||"padding"===Ua&&W(Fa.type)||(Za.isFunction(Fa[Ua])?Fa[Ua](v[Ua]):za.warn("Unsupported scale property: "+Ua));mb=Ua=Fa;(Mb=v.domainRaw)?(Fa.domain(P(Fa.type,Mb,za)),Mb=Mb.length):Mb=-1;if(-1<Mb)za=Mb;else{var Fb=v.domain;Mb=Fa.type;var Kb;!(Kb=v.zero)&&(Kb=void 0===v.zero)&&(Kb=Fa.type,Kb=!Fa.bins&&(Kb===ka.Linear||Kb===ka.Pow||Kb===ka.Sqrt));var vc=Kb;if(Fb){if(vc||null!=v.domainMin||null!=v.domainMax||null!=v.domainMid)if(Kb=(Fb=Fb.slice()).length-1||1,vc&&(0<Fb[0]&&(Fb[0]=0),
0>Fb[Kb]&&(Fb[Kb]=0)),null!=v.domainMin&&(Fb[0]=v.domainMin),null!=v.domainMax&&(Fb[Kb]=v.domainMax),null!=v.domainMid){vc=v.domainMid;var yc=vc>Fb[Kb]?Kb+1:vc<Fb[0]?0:Kb;yc!==Kb&&za.warn("Scale domainMid exceeds domain min or max.",vc);Fb.splice(yc,0,vc)}if(W(Mb)&&v.padding&&Fb[0]!==Za.peek(Fb)){var Ic=v.range;yc=v.padding;Kb=v.exponent;vc=v.constant;Ic=Math.abs(Za.peek(Ic)-Ic[0]);yc=Ic/(Ic-2*yc);Kb=Mb===ka.Log?Za.zoomLog(Fb,null,yc):Mb===ka.Sqrt?Za.zoomPow(Fb,null,yc,.5):Mb===ka.Pow?Za.zoomPow(Fb,
null,yc,Kb||1):Mb===ka.Symlog?Za.zoomSymlog(Fb,null,yc,vc||1):Za.zoomLinear(Fb,null,yc);Fb=Fb.slice();Fb[0]=Kb[0];Fb[Fb.length-1]=Kb[1]}Fa.domain(P(Mb,Fb,za));Mb===ka.Ordinal&&Fa.unknown(v.domainImplicit?ka.scaleImplicit:void 0);v.nice&&Fa.nice&&Fa.nice(!0!==v.nice&&ka.tickCount(Fa,v.nice)||null);za=Fb.length}else za=0}(Mb=v.bins)&&!Za.isArray(Mb)&&(Fb=mb.domain(),Fa=Fb[0],Fb=Za.peek(Fb),Kb=Mb.step,vc=null==Mb.start?Fa:Mb.start,Mb=null==Mb.stop?Fb:Mb.stop,Kb||Za.error("Scale bins parameter missing step property."),
vc<Fa&&(vc=Kb*Math.ceil(Fa/Kb)),Mb>Fb&&(Mb=Kb*Math.floor(Fb/Kb)),Mb=ec(vc,Mb+Kb/2,Kb));Mb?mb.bins=Mb:mb.bins&&delete mb.bins;mb.type===ka.BinOrdinal&&(Mb?v.domain||v.domainRaw||(mb.domain(Mb),za=Mb.length):mb.bins=mb.domain());Fa=za;a:{mb=Ua.type;za=v.round||!1;Mb=v.range;if(null!=v.rangeStep)mb!==ka.Band&&mb!==ka.Point&&Za.error("Only band and point scales support rangeStep."),Mb=[0,v.rangeStep*ka.bandSpace(Fa,mb===ka.Point?1:(null!=v.paddingInner?v.paddingInner:v.padding)||0,(null!=v.paddingOuter?
v.paddingOuter:v.padding)||0)];else if(v.scheme&&(Mb=v.schemeExtent,Za.isArray(v.scheme)?Fb=ka.interpolateColors(v.scheme,v.interpolate,v.interpolateGamma):(Fb=v.scheme.toLowerCase(),(Fb=ka.scheme(Fb))||Za.error(`Unrecognized scheme name: ${v.scheme}`)),Fa=mb===ka.Threshold?Fa+1:mb===ka.BinOrdinal?Fa-1:mb===ka.Quantile||mb===ka.Quantize?+v.schemeCount||5:Fa,Mb=ka.isInterpolating(mb)?ja(Fb,Mb,v.reverse):Za.isFunction(Fb)?ka.quantizeInterpolator(ja(Fb,Mb),Fa):mb===ka.Ordinal?Fb:Fb.slice(0,Fa),Za.isFunction(Mb)))if(Ua.interpolator){Ua.interpolator(Mb);
break a}else Za.error(`Scale type ${mb} does not support interpolating color schemes.`);Mb&&ka.isInterpolating(mb)?Ua.interpolator(ka.interpolateColors(Ba(Mb,v.reverse),v.interpolate,v.interpolateGamma)):(Mb&&v.interpolate&&Ua.interpolate?Ua.interpolate(ka.interpolate(v.interpolate,v.interpolateGamma)):Za.isFunction(Ua.round)?Ua.round(za):Za.isFunction(Ua.rangeRound)&&Ua.interpolate(za?H:D),Mb&&Ua.range(Ba(Mb,v.reverse)))}return ca.fork(ca.NO_SOURCE|ca.NO_FIELDS)}});Za.inherits(Na,h.Transform,{transform(v,
ca){const za=v.modified("sort")||ca.changed(ca.ADD)||ca.modified(v.sort.fields)||ca.modified("datum");za&&ca.source.sort(h.stableCompare(v.sort));this.modified(za);return ca}});const hb=["y0","y1"];Qa.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":hb}]};Za.inherits(Qa,
h.Transform,{transform(v,ca){var za=v.as||hb,Fa=za[0],Ua=za[1],mb=h.stableCompare(v.sort),Mb=v.field||Za.one,Fb="center"===v.offset?eb:"normalize"===v.offset?xb:kb,Kb;mb=Sb(ca.source,v.groupby,mb,Mb);var vc=0;var yc=mb.length;for(Kb=mb.max;vc<yc;++vc)Fb(mb[vc],Kb,Mb,Fa,Ua);return ca.reflow(v.modified()).modifies(za)}});w.axisticks=zb;w.datajoin=Vb;w.encode=jc;w.legendentries=Bb;w.linkpath=Rb;w.pie=$a;w.scale=Da;w.sortitems=Na;w.stack=Qa})};
shadow$provide[37]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(33)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega))})(this,function(w,h){function*ka(qa){for(const l of qa)yield*l}function Za(qa){return 1<qa?0:-1>qa?Kb:Math.acos(qa)}function zb(qa){return 1<qa?vc:-1>qa?-vc:Math.asin(qa)}function Vb(){}function Zb(qa,l){if(qa&&xa.hasOwnProperty(qa.type))xa[qa.type](qa,
l)}function Ub(qa,l,q){var J=-1;q=qa.length-q;for(l.lineStart();++J<q;){var la=qa[J];l.point(la[0],la[1],la[2])}l.lineEnd()}function jc(qa,l){var q=-1,J=qa.length;for(l.polygonStart();++q<J;)Ub(qa[q],l,1);l.polygonEnd()}function Bb(qa,l){if(qa&&ba.hasOwnProperty(qa.type))ba[qa.type](qa,l);else Zb(qa,l)}function Rb(qa){return[md(qa[1],qa[0]),zb(qa[2])]}function ec(qa){var l=qa[0];qa=qa[1];var q=ad(qa);return[q*ad(l),q*K(l),K(qa)]}function Ea(qa,l){return qa[0]*l[0]+qa[1]*l[1]+qa[2]*l[2]}function $a(qa,
l){return[qa[1]*l[2]-qa[2]*l[1],qa[2]*l[0]-qa[0]*l[2],qa[0]*l[1]-qa[1]*l[0]]}function vb(qa,l){qa[0]+=l[0];qa[1]+=l[1];qa[2]+=l[2]}function ub(qa,l){return[qa[0]*l,qa[1]*l,qa[2]*l]}function sb(qa){var l=t(qa[0]*qa[0]+qa[1]*qa[1]+qa[2]*qa[2]);qa[0]/=l;qa[1]/=l;qa[2]/=l}function wb(qa,l){function q(J,la){return J=qa(J,la),l(J[0],J[1])}qa.invert&&l.invert&&(q.invert=function(J,la){return J=l.invert(J,la),J&&qa.invert(J[0],J[1])});return q}function jb(qa,l){Pc(qa)>Kb&&(qa-=Math.round(qa/Ic)*Ic);return[qa,
l]}function lc(qa,l,q){return(qa%=Ic)?l||q?wb(ha(qa),ya(l,q)):ha(qa):l||q?ya(l,q):jb}function ta(qa){return function(l,q){l+=qa;Pc(l)>Kb&&(l-=Math.round(l/Ic)*Ic);return[l,q]}}function ha(qa){var l=ta(qa);l.invert=ta(-qa);return l}function ya(qa,l){function q(Ka,rb){var nb=ad(rb),pc=ad(Ka)*nb;Ka=K(Ka)*nb;rb=K(rb);nb=rb*J+pc*la;return[md(Ka*Ga-nb*Pa,pc*J-rb*la),zb(nb*Ga+Ka*Pa)]}var J=ad(qa),la=K(qa),Ga=ad(l),Pa=K(l);q.invert=function(Ka,rb){var nb=ad(rb),pc=ad(Ka)*nb;Ka=K(Ka)*nb;rb=K(rb);nb=rb*Ga-
Ka*Pa;return[md(Ka*Ga+rb*Pa,pc*J+nb*la),zb(nb*J-pc*la)]};return q}function Ra(qa){function l(q){q=qa(q[0]*$c,q[1]*$c);return q[0]*=kd,q[1]*=kd,q}qa=lc(qa[0]*$c,qa[1]*$c,2<qa.length?qa[2]*$c:0);l.invert=function(q){q=qa.invert(q[0]*$c,q[1]*$c);return q[0]*=kd,q[1]*=kd,q};return l}function Wa(qa,l){l=ec(l);l[0]-=qa;sb(l);qa=Za(-l[1]);return((0>-l[2]?-qa:qa)+Ic-1E-6)%Ic}function Ja(){var qa=[],l;return{point:function(q,J,la){l.push([q,J,la])},lineStart:function(){qa.push(l=[])},lineEnd:Vb,rejoin:function(){1<
qa.length&&qa.push(qa.pop().concat(qa.shift()))},result:function(){var q=qa;qa=[];l=null;return q}}}function ib(qa,l){return 1E-6>Pc(qa[0]-l[0])&&1E-6>Pc(qa[1]-l[1])}function cb(qa,l,q,J){this.x=qa;this.z=l;this.o=q;this.e=J;this.v=!1;this.n=this.p=null}function tb(qa,l,q,J,la){var Ga=[],Pa=[];qa.forEach(function(rc){if(!(0>=(uc=rc.length-1))){var uc,tc=rc[0],Hc=rc[uc];if(ib(tc,Hc)){if(!tc[2]&&!Hc[2]){la.lineStart();for(Ka=0;Ka<uc;++Ka)la.point((tc=rc[Ka])[0],tc[1]);la.lineEnd();return}Hc[0]+=2E-6}Ga.push(uc=
new cb(tc,rc,null,!0));Pa.push(uc.o=new cb(tc,null,uc,!1));Ga.push(uc=new cb(Hc,rc,null,!1));Pa.push(uc.o=new cb(Hc,null,uc,!0))}});if(Ga.length){Pa.sort(l);Pb(Ga);Pb(Pa);var Ka=0;for(qa=Pa.length;Ka<qa;++Ka)Pa[Ka].e=q=!q;q=Ga[0];for(var rb;;){for(var nb=q,pc=!0;nb.v;)if((nb=nb.n)===q)return;l=nb.z;la.lineStart();do{nb.v=nb.o.v=!0;if(nb.e){if(pc)for(Ka=0,qa=l.length;Ka<qa;++Ka)la.point((rb=l[Ka])[0],rb[1]);else J(nb.x,nb.n.x,1,la);nb=nb.n}else{if(pc)for(l=nb.p.z,Ka=l.length-1;0<=Ka;--Ka)la.point((rb=
l[Ka])[0],rb[1]);else J(nb.x,nb.p.x,-1,la);nb=nb.p}nb=nb.o;l=nb.z;pc=!pc}while(!nb.v);la.lineEnd()}}}function Pb(qa){if(l=qa.length){for(var l,q=0,J=qa[0],la;++q<l;)J.n=la=qa[q],la.p=J,J=la;J.n=la=qa[0];la.p=J}}function gb(qa){return Pc(qa[0])<=Kb?qa[0]:ua(qa[0])*((Pc(qa[0])+Kb)%Ic-Kb)}function V(qa,l,q,J){return function(la){function Ga(kc,qd){qa(kc,qd)&&la.point(kc,qd)}function Pa(kc,qd){uc.point(kc,qd)}function Ka(){Gd.point=Pa;uc.lineStart()}function rb(){Gd.point=Ga;uc.lineEnd()}function nb(kc,
qd){vd.push([kc,qd]);Hc.point(kc,qd)}function pc(){Hc.lineStart();vd=[]}function rc(){nb(vd[0][0],vd[0][1]);Hc.lineEnd();var kc=Hc.clean(),qd=tc.result(),qe=qd.length,de;vd.pop();Fd.push(vd);vd=null;if(qe)if(kc&1){if(qe=qd[0],0<(qd=qe.length-1)){Uc||(la.polygonStart(),Uc=!0);la.lineStart();for(kc=0;kc<qd;++kc)la.point((de=qe[kc])[0],de[1]);la.lineEnd()}}else 1<qe&&kc&2&&qd.push(qd.pop().concat(qd.shift())),od.push(qd.filter(aa))}var uc=l(la),tc=Ja(),Hc=l(tc),Uc=!1,Fd,od,vd,Gd={point:Ga,lineStart:Ka,
lineEnd:rb,polygonStart:function(){Gd.point=nb;Gd.lineStart=pc;Gd.lineEnd=rc;od=[];Fd=[]},polygonEnd:function(){Gd.point=Ga;Gd.lineStart=Ka;Gd.lineEnd=rb;od=Array.from(ka(od));var kc=Fd;var qd=gb(J),qe=J[1],de=K(qe),Wd=[K(qd),-ad(qd),0],Ad=0,xd=0,le=new Fb;1===de?qe=vc+1E-6:-1===de&&(qe=-vc-1E-6);de=0;for(var ve=kc.length;de<ve;++de)if(Ce=(be=kc[de]).length){var be,Ce,Vc=be[Ce-1],je=gb(Vc),ef=Vc[1]/2+yc,jf=K(ef),Dg=ad(ef);for(ef=0;ef<Ce;++ef,je=Mf,jf=ag,Dg=ff,Vc=tf){var tf=be[ef],Mf=gb(tf);ff=tf[1]/
2+yc;var ag=K(ff),ff=ad(ff),Le=Mf-je,bg=0<=Le?1:-1,Tg=bg*Le,Af=Tg>Kb;jf*=ag;le.add(md(jf*bg*K(Tg),Dg*ff+jf*ad(Tg)));Ad+=Af?Le+bg*Ic:Le;Af^je>=qd^Mf>=qd&&(Vc=$a(ec(Vc),ec(tf)),sb(Vc),je=$a(Wd,Vc),sb(je),je=(Af^0<=Le?-1:1)*zb(je[2]),qe>je||qe===je&&(Vc[0]||Vc[1]))&&(xd+=Af^0<=Le?1:-1)}}kc=(-1E-6>Ad||1E-6>Ad&&-1E-12>le)^xd&1;od.length?(Uc||(la.polygonStart(),Uc=!0),tb(od,da,kc,q,la)):kc&&(Uc||(la.polygonStart(),Uc=!0),la.lineStart(),q(null,null,1,la),la.lineEnd());Uc&&(la.polygonEnd(),Uc=!1);od=Fd=null},
sphere:function(){la.polygonStart();la.lineStart();q(null,null,1,la);la.lineEnd();la.polygonEnd()}};return Gd}}function aa(qa){return 1<qa.length}function da(qa,l){return(0>(qa=qa.x)[0]?qa[1]-vc-1E-6:vc-qa[1])-(0>(l=l.x)[0]?l[1]-vc-1E-6:vc-l[1])}function ia(qa){function l(rb,nb){return ad(rb)*ad(nb)>la}function q(rb,nb,pc){var rc=ec(rb),uc=ec(nb),tc=[1,0,0];uc=$a(rc,uc);var Hc=Ea(uc,uc);rc=uc[0];var Uc=Hc-rc*rc;if(!Uc)return!pc&&rb;Hc=la*Hc/Uc;Uc=-la*rc/Uc;rc=$a(tc,uc);tc=ub(tc,Hc);uc=ub(uc,Uc);vb(tc,
uc);uc=Ea(tc,rc);Hc=Ea(rc,rc);Uc=uc*uc-Hc*(Ea(tc,tc)-1);if(!(0>Uc)){var Fd=t(Uc);Uc=ub(rc,(-uc-Fd)/Hc);vb(Uc,tc);Uc=Rb(Uc);if(!pc)return Uc;pc=rb[0];var od=nb[0];rb=rb[1];nb=nb[1];if(od<pc){var vd=pc;pc=od;od=vd}var Gd=od-pc,kc=1E-6>Pc(Gd-Kb);!kc&&nb<rb&&(vd=rb,rb=nb,nb=vd);if(kc||1E-6>Gd?kc?0<rb+nb^Uc[1]<(1E-6>Pc(Uc[0]-pc)?rb:nb):rb<=Uc[1]&&Uc[1]<=nb:Gd>Kb^(pc<=Uc[0]&&Uc[0]<=od))return nb=ub(rc,(-uc+Fd)/Hc),vb(nb,tc),[Uc,Rb(nb)]}}function J(rb,nb){var pc=Pa?qa:Kb-qa,rc=0;rb<-pc?rc|=1:rb>pc&&(rc|=
2);nb<-pc?rc|=4:nb>pc&&(rc|=8);return rc}var la=ad(qa),Ga=6*$c,Pa=0<la,Ka=1E-6<Pc(la);return V(l,function(rb){var nb,pc,rc,uc,tc;return{lineStart:function(){uc=rc=!1;tc=1},point:function(Hc,Uc){var Fd=[Hc,Uc],od=l(Hc,Uc);Uc=Pa?od?0:J(Hc,Uc):od?J(Hc+(0>Hc?Kb:-Kb),Uc):0;!nb&&(uc=rc=od)&&rb.lineStart();od!==rc&&(Hc=q(nb,Fd),!Hc||ib(nb,Hc)||ib(Fd,Hc))&&(Fd[2]=1);if(od!==rc)tc=0,od?(rb.lineStart(),Hc=q(Fd,nb),rb.point(Hc[0],Hc[1])):(Hc=q(nb,Fd),rb.point(Hc[0],Hc[1],2),rb.lineEnd()),nb=Hc;else if(Ka&&nb&&
Pa^od){var vd;Uc&pc||!(vd=q(Fd,nb,!0))||(tc=0,Pa?(rb.lineStart(),rb.point(vd[0][0],vd[0][1]),rb.point(vd[1][0],vd[1][1]),rb.lineEnd()):(rb.point(vd[1][0],vd[1][1]),rb.lineEnd(),rb.lineStart(),rb.point(vd[0][0],vd[0][1],3)))}!od||nb&&ib(nb,Fd)||rb.point(Fd[0],Fd[1]);nb=Fd;rc=od;pc=Uc},lineEnd:function(){rc&&rb.lineEnd();nb=null},clean:function(){return tc|(uc&&rc)<<1}}},function(rb,nb,pc,rc){var uc=rb;if(Ga){rb=ad(qa);var tc=K(qa),Hc=pc*Ga;if(null==uc)uc=qa+pc*Ic,nb=qa-Hc/2;else if(uc=Wa(rb,uc),nb=
Wa(rb,nb),0<pc?uc<nb:uc>nb)uc+=pc*Ic;for(var Uc=uc;0<pc?Uc>nb:Uc<nb;Uc-=Hc)uc=Rb([rb,-tc*ad(Uc),-tc*K(Uc)]),rc.point(uc[0],uc[1])}},Pa?[0,-qa]:[-Kb,qa-Kb])}function Ma(qa,l,q,J,la,Ga){var Pa=qa[0],Ka=qa[1],rb=0,nb=1,pc=l[0]-Pa,rc=l[1]-Ka;q-=Pa;if(pc||!(0<q)){q/=pc;if(0>pc){if(q<rb)return;q<nb&&(nb=q)}else if(0<pc){if(q>nb)return;q>rb&&(rb=q)}q=la-Pa;if(pc||!(0>q)){q/=pc;if(0>pc){if(q>nb)return;q>rb&&(rb=q)}else if(0<pc){if(q<rb)return;q<nb&&(nb=q)}q=J-Ka;if(rc||!(0<q)){q/=rc;if(0>rc){if(q<rb)return;
q<nb&&(nb=q)}else if(0<rc){if(q>nb)return;q>rb&&(rb=q)}q=Ga-Ka;if(rc||!(0>q)){q/=rc;if(0>rc){if(q>nb)return;q>rb&&(rb=q)}else if(0<rc){if(q<rb)return;q<nb&&(nb=q)}0<rb&&(qa[0]=Pa+rb*pc,qa[1]=Ka+rb*rc);1>nb&&(l[0]=Pa+nb*pc,l[1]=Ka+nb*rc);return!0}}}}}function pa(qa,l,q,J){function la(rb,nb,pc,rc){var uc=0,tc=0;if(null==rb||(uc=Ga(rb,pc))!==(tc=Ga(nb,pc))||0>Ka(rb,nb)^0<pc){do rc.point(0===uc||3===uc?qa:q,1<uc?J:l);while((uc=(uc+pc+4)%4)!==tc)}else rc.point(nb[0],nb[1])}function Ga(rb,nb){return 1E-6>
Pc(rb[0]-qa)?0<nb?0:3:1E-6>Pc(rb[0]-q)?0<nb?2:1:1E-6>Pc(rb[1]-l)?0<nb?1:0:0<nb?3:2}function Pa(rb,nb){return Ka(rb.x,nb.x)}function Ka(rb,nb){var pc=Ga(rb,1),rc=Ga(nb,1);return pc!==rc?pc-rc:0===pc?nb[1]-rb[1]:1===pc?rb[0]-nb[0]:2===pc?rb[1]-nb[1]:nb[0]-rb[0]}return function(rb){function nb(Ad,xd){qa<=Ad&&Ad<=q&&l<=xd&&xd<=J&&rc.point(Ad,xd)}function pc(Ad,xd){var le=qa<=Ad&&Ad<=q&&l<=xd&&xd<=J;Hc&&Uc.push([Ad,xd]);if(qe)Fd=Ad,od=xd,vd=le,qe=!1,le&&(rc.lineStart(),rc.point(Ad,xd));else if(le&&qd)rc.point(Ad,
xd);else{var ve=[Gd=Math.max(-1E9,Math.min(1E9,Gd)),kc=Math.max(-1E9,Math.min(1E9,kc))],be=[Ad=Math.max(-1E9,Math.min(1E9,Ad)),xd=Math.max(-1E9,Math.min(1E9,xd))];Ma(ve,be,qa,l,q,J)?(qd||(rc.lineStart(),rc.point(ve[0],ve[1])),rc.point(be[0],be[1]),le||rc.lineEnd(),de=!1):le&&(rc.lineStart(),rc.point(Ad,xd),de=!1)}Gd=Ad;kc=xd;qd=le}var rc=rb,uc=Ja(),tc,Hc,Uc,Fd,od,vd,Gd,kc,qd,qe,de,Wd={point:nb,lineStart:function(){Wd.point=pc;Hc&&Hc.push(Uc=[]);qe=!0;qd=!1;Gd=kc=NaN},lineEnd:function(){tc&&(pc(Fd,
od),vd&&qd&&uc.rejoin(),tc.push(uc.result()));Wd.point=nb;qd&&rc.lineEnd()},polygonStart:function(){rc=uc;tc=[];Hc=[];de=!0},polygonEnd:function(){for(var Ad,xd=Ad=0,le=Hc.length;xd<le;++xd){var ve=Hc[xd],be=1,Ce=ve.length,Vc=ve[0],je=Vc[0];for(Vc=Vc[1];be<Ce;++be){var ef=je;var jf=Vc;Vc=ve[be];je=Vc[0];Vc=Vc[1];jf<=J?Vc>J&&(je-ef)*(J-jf)>(Vc-jf)*(qa-ef)&&++Ad:Vc<=J&&(je-ef)*(J-jf)<(Vc-jf)*(qa-ef)&&--Ad}}xd=de&&Ad;le=(tc=Array.from(ka(tc))).length;if(xd||le)rb.polygonStart(),xd&&(rb.lineStart(),la(null,
null,1,rb),rb.lineEnd()),le&&tb(tc,Pa,Ad,la,rb),rb.polygonEnd();rc=rb;tc=Hc=Uc=null}};return Wd}}function sa(){Wc.point=m}function m(qa,l){Wc.point=F;ic=Mc=qa;Ac=Nc=l}function F(qa,l){Yb.add(Nc*qa-Mc*l);Mc=qa;Nc=l}function L(){F(ic,Ac)}function u(qa,l){Je+=qa;Ie+=l;++Ne}function R(){Qe.point=B}function B(qa,l){Qe.point=z;u(Ze=qa,Pe=l)}function z(qa,l){var q=qa-Ze,J=l-Pe;q=t(q*q+J*J);$e+=q*(Ze+qa)/2;Ae+=q*(Pe+l)/2;Ge+=q;u(Ze=qa,Pe=l)}function N(){Qe.point=u}function A(){Qe.point=H}function D(){W(yd,
fg)}function H(qa,l){Qe.point=W;u(yd=Ze=qa,fg=Pe=l)}function W(qa,l){var q=qa-Ze,J=l-Pe;q=t(q*q+J*J);$e+=q*(Ze+qa)/2;Ae+=q*(Pe+l)/2;Ge+=q;q=Pe*qa-Ze*l;oe+=q*(Ze+qa);Ee+=q*(Pe+l);ye+=3*q;u(Ze=qa,Pe=l)}function Da(qa){this._context=qa}function P(qa,l){dc.point=ja;ze=Ca=qa;ie=Va=l}function ja(qa,l){Ca-=qa;Va-=l;Ke.add(t(Ca*Ca+Va*Va));Ca=qa;Va=l}function Ba(qa){let l=1;this._+=qa[0];for(const q=qa.length;l<q;++l)this._+=arguments[l]+qa[l]}function Na(qa){const l=Math.floor(qa);if(!(0<=l))throw new RangeError(`invalid digits: ${qa}`);
if(15<l)return Ba;if(l!==dd){const q=Math.pow(10,l);dd=l;fd=function(J){let la=1;this._+=J[0];for(const Ga=J.length;la<Ga;++la)this._+=Math.round(arguments[la]*q)/q+J[la]}}return fd}function Qa(qa,l){function q(Ka){Ka&&("function"===typeof la&&Pa.pointRadius(+la.apply(this,arguments)),Bb(Ka,Ga(Pa)));return Pa.result()}let J=3,la=4.5,Ga,Pa;q.area=function(Ka){Bb(Ka,Ga(Wc));return Wc.result()};q.measure=function(Ka){Bb(Ka,Ga(dc));return dc.result()};q.bounds=function(Ka){Bb(Ka,Ga(ge));return ge.result()};
q.centroid=function(Ka){Bb(Ka,Ga(Qe));return Qe.result()};q.projection=function(Ka){if(!arguments.length)return qa;Ga=null==Ka?(qa=null,ab):(qa=Ka).stream;return q};q.context=function(Ka){if(!arguments.length)return l;Pa=null==Ka?(l=null,new Zd(J)):new Da(l=Ka);"function"!==typeof la&&Pa.pointRadius(la);return q};q.pointRadius=function(Ka){if(!arguments.length)return la;la="function"===typeof Ka?Ka:(Pa.pointRadius(+Ka),+Ka);return q};q.digits=function(Ka){if(!arguments.length)return J;if(null==Ka)J=
null;else{const rb=Math.floor(Ka);if(!(0<=rb))throw new RangeError(`invalid digits: ${Ka}`);J=rb}null===l&&(Pa=new Zd(J));return q};return q.projection(qa).digits(J).context(l)}function eb(qa){return function(l){var q=new xb,J;for(J in qa)q[J]=qa[J];q.stream=l;return q}}function xb(){}function kb(qa,l,q){var J=qa.clipExtent&&qa.clipExtent();qa.scale(150).translate([0,0]);null!=J&&qa.clipExtent(null);Bb(q,qa.stream(ge));l(ge.result());null!=J&&qa.clipExtent(J);return qa}function Sb(qa,l,q){return kb(qa,
function(J){var la=l[1][0]-l[0][0],Ga=l[1][1]-l[0][1],Pa=Math.min(la/(J[1][0]-J[0][0]),Ga/(J[1][1]-J[0][1]));la=+l[0][0]+(la-Pa*(J[1][0]+J[0][0]))/2;J=+l[0][1]+(Ga-Pa*(J[1][1]+J[0][1]))/2;qa.scale(150*Pa).translate([la,J])},q)}function X(qa,l,q){return kb(qa,function(J){var la=+l,Ga=la/(J[1][0]-J[0][0]);la=(la-Ga*(J[1][0]+J[0][0]))/2;J=-Ga*J[0][1];qa.scale(150*Ga).translate([la,J])},q)}function Ha(qa,l,q){return kb(qa,function(J){var la=+l,Ga=la/(J[1][1]-J[0][1]),Pa=-Ga*J[0][0];J=(la-Ga*(J[1][1]+
J[0][1]))/2;qa.scale(150*Ga).translate([Pa,J])},q)}function Nb(qa){return eb({point:function(l,q){l=qa(l,q);this.stream.point(l[0],l[1])}})}function nc(qa,l){function q(J,la,Ga,Pa,Ka,rb,nb,pc,rc,uc,tc,Hc,Uc,Fd){var od=nb-J,vd=pc-la,Gd=od*od+vd*vd;if(Gd>4*l&&Uc--){var kc=Pa+uc,qd=Ka+tc,qe=rb+Hc,de=t(kc*kc+qd*qd+qe*qe),Wd=zb(qe/=de),Ad=1E-6>Pc(Pc(qe)-1)||1E-6>Pc(Ga-rc)?(Ga+rc)/2:md(qd,kc),xd=qa(Ad,Wd);Wd=xd[0];xd=xd[1];var le=Wd-J,ve=xd-la,be=vd*le-od*ve;if(be*be/Gd>l||.3<Pc((od*le+vd*ve)/Gd-.5)||Pa*
uc+Ka*tc+rb*Hc<Pd)q(J,la,Ga,Pa,Ka,rb,Wd,xd,Ad,kc/=de,qd/=de,qe,Uc,Fd),Fd.point(Wd,xd),q(Wd,xd,Ad,kc,qd,qe,nb,pc,rc,uc,tc,Hc,Uc,Fd)}}return function(J){function la(Wd,Ad){Wd=qa(Wd,Ad);J.point(Wd[0],Wd[1])}function Ga(){vd=NaN;de.point=Pa;J.lineStart()}function Pa(Wd,Ad){var xd=ec([Wd,Ad]);Ad=qa(Wd,Ad);q(vd,Gd,od,kc,qd,qe,vd=Ad[0],Gd=Ad[1],od=Wd,kc=xd[0],qd=xd[1],qe=xd[2],16,J);J.point(vd,Gd)}function Ka(){de.point=la;J.lineEnd()}function rb(){Ga();de.point=nb;de.lineEnd=pc}function nb(Wd,Ad){Pa(rc=
Wd,Ad);uc=vd;tc=Gd;Hc=kc;Uc=qd;Fd=qe;de.point=Pa}function pc(){q(vd,Gd,od,kc,qd,qe,uc,tc,rc,Hc,Uc,Fd,16,J);de.lineEnd=Ka;Ka()}var rc,uc,tc,Hc,Uc,Fd,od,vd,Gd,kc,qd,qe,de={point:la,lineStart:Ga,lineEnd:Ka,polygonStart:function(){J.polygonStart();de.lineStart=rb},polygonEnd:function(){J.polygonEnd();de.lineStart=Ga}};return de}}function Wb(qa){return eb({point:function(l,q){l=qa(l,q);return this.stream.point(l[0],l[1])}})}function Jb(qa,l,q,J,la){function Ga(Pa,Ka){Pa*=J;Ka*=la;return[l+qa*Pa,q-qa*Ka]}
Ga.invert=function(Pa,Ka){return[(Pa-l)/qa*J,(q-Ka)/qa*la]};return Ga}function Lb(qa,l,q,J,la,Ga){function Pa(Hc,Uc){Hc*=J;Uc*=la;return[rb*Hc-nb*Uc+l,q-nb*Hc-rb*Uc]}if(!Ga)return Jb(qa,l,q,J,la);var Ka=ad(Ga);Ga=K(Ga);var rb=Ka*qa,nb=Ga*qa,pc=Ka/qa,rc=Ga/qa,uc=(Ga*q-Ka*l)/qa,tc=(Ga*l+Ka*q)/qa;Pa.invert=function(Hc,Uc){return[J*(pc*Hc-rc*Uc+uc),la*(tc-rc*Hc-pc*Uc)]};return Pa}function sc(qa){return Oc(function(){return qa})()}function Oc(qa){function l(Vc){return ve(Vc[0]*$c,Vc[1]*$c)}function q(Vc){return(Vc=
ve.invert(Vc[0],Vc[1]))&&[Vc[0]*kd,Vc[1]*kd]}function J(){var Vc=Lb(Pa,0,0,Fd,od,Uc).apply(null,Ga(nb,pc));Vc=Lb(Pa,Ka-Vc[0],rb-Vc[1],Fd,od,Uc);Hc=lc(rc,uc,tc);le=wb(Ga,Vc);ve=wb(Hc,le);Vc=le;xd=+Ad?nc(Vc,Ad):Nb(Vc);return la()}function la(){be=Ce=null;return l}var Ga,Pa=150,Ka=480,rb=250,nb=0,pc=0,rc=0,uc=0,tc=0,Hc,Uc=0,Fd=1,od=1,vd=null,Gd=oa,kc=null,qd,qe,de,Wd=ab,Ad=.5,xd,le,ve,be,Ce;l.stream=function(Vc){return be&&Ce===Vc?be:be=He(Wb(Hc)(Gd(xd(Wd(Ce=Vc)))))};l.preclip=function(Vc){return arguments.length?
(Gd=Vc,vd=void 0,la()):Gd};l.postclip=function(Vc){return arguments.length?(Wd=Vc,kc=qd=qe=de=null,la()):Wd};l.clipAngle=function(Vc){return arguments.length?(Gd=+Vc?ia(vd=Vc*$c):(vd=null,oa),la()):vd*kd};l.clipExtent=function(Vc){return arguments.length?(Wd=null==Vc?(kc=qd=qe=de=null,ab):pa(kc=+Vc[0][0],qd=+Vc[0][1],qe=+Vc[1][0],de=+Vc[1][1]),la()):null==kc?null:[[kc,qd],[qe,de]]};l.scale=function(Vc){return arguments.length?(Pa=+Vc,J()):Pa};l.translate=function(Vc){return arguments.length?(Ka=+Vc[0],
rb=+Vc[1],J()):[Ka,rb]};l.center=function(Vc){return arguments.length?(nb=Vc[0]%360*$c,pc=Vc[1]%360*$c,J()):[nb*kd,pc*kd]};l.rotate=function(Vc){return arguments.length?(rc=Vc[0]%360*$c,uc=Vc[1]%360*$c,tc=2<Vc.length?Vc[2]%360*$c:0,J()):[rc*kd,uc*kd,tc*kd]};l.angle=function(Vc){return arguments.length?(Uc=Vc%360*$c,J()):Uc*kd};l.reflectX=function(Vc){return arguments.length?(Fd=Vc?-1:1,J()):0>Fd};l.reflectY=function(Vc){return arguments.length?(od=Vc?-1:1,J()):0>od};l.precision=function(Vc){if(arguments.length){var je=
le;var ef=Ad=Vc*Vc;je=(xd=+ef?nc(je,ef):Nb(je),la())}else je=t(Ad);return je};l.fitExtent=function(Vc,je){return Sb(l,Vc,je)};l.fitSize=function(Vc,je){return Sb(l,[[0,0],Vc],je)};l.fitWidth=function(Vc,je){return X(l,Vc,je)};l.fitHeight=function(Vc,je){return Ha(l,Vc,je)};return function(){Ga=qa.apply(this,arguments);l.invert=Ga.invert&&q;return J()}}function ra(qa){var l=0,q=Kb/3,J=Oc(qa);qa=J(l,q);qa.parallels=function(la){return arguments.length?J(l=la[0]*$c,q=la[1]*$c):[l*kd,q*kd]};return qa}
function Eb(qa){function l(J,la){return[J*q,K(la)/q]}var q=ad(qa);l.invert=function(J,la){return[J/q,zb(la*q)]};return l}function Ta(qa,l){function q(Ka,rb){rb=t(Ga-2*la*K(rb))/la;return[rb*K(Ka*=la),Pa-rb*ad(Ka)]}var J=K(qa),la=(J+K(l))/2;if(1E-6>Pc(la))return Eb(qa);var Ga=1+J*(2*la-J),Pa=t(Ga)/la;q.invert=function(Ka,rb){rb=Pa-rb;var nb=md(Ka,Pc(rb))*ua(rb);0>rb*la&&(nb-=Kb*ua(Ka)*ua(rb));return[nb/la,zb((Ga-(Ka*Ka+rb*rb)*la*la)/(2*la))]};return q}function yb(){return ra(Ta).scale(155.424).center([0,
33.6442])}function Gb(){return yb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Cb(qa){var l=qa.length;return{point:function(q,J){for(var la=-1;++la<l;)qa[la].point(q,J)},sphere:function(){for(var q=-1;++q<l;)qa[q].sphere()},lineStart:function(){for(var q=-1;++q<l;)qa[q].lineStart()},lineEnd:function(){for(var q=-1;++q<l;)qa[q].lineEnd()},polygonStart:function(){for(var q=-1;++q<l;)qa[q].polygonStart()},polygonEnd:function(){for(var q=-1;++q<
l;)qa[q].polygonEnd()}}}function Xb(qa){return function(l,q){var J=ad(l),la=ad(q);J=qa(J*la);return Infinity===J?[2,0]:[J*la*K(l),J*K(q)]}}function gc(qa){return function(l,q){var J=t(l*l+q*q),la=qa(J),Ga=K(la);la=ad(la);return[md(l*Ga,J*la),zb(J&&q*Ga/J)]}}function wc(qa,l){return[qa,id(O((vc+l)/2))]}function Xc(qa){function l(){var rc=Kb*la(),uc=q(Ra(q.rotate()).invert([0,0]));return Pa(null==Ka?[[uc[0]-rc,uc[1]-rc],[uc[0]+rc,uc[1]+rc]]:qa===wc?[[Math.max(uc[0]-rc,Ka),rb],[Math.min(uc[0]+rc,nb),
pc]]:[[Ka,Math.max(uc[1]-rc,rb)],[nb,Math.min(uc[1]+rc,pc)]])}var q=sc(qa),J=q.center,la=q.scale,Ga=q.translate,Pa=q.clipExtent,Ka=null,rb,nb,pc;q.scale=function(rc){return arguments.length?(la(rc),l()):la()};q.translate=function(rc){return arguments.length?(Ga(rc),l()):Ga()};q.center=function(rc){return arguments.length?(J(rc),l()):J()};q.clipExtent=function(rc){return arguments.length?(null==rc?Ka=rb=nb=pc=null:(Ka=+rc[0][0],rb=+rc[0][1],nb=+rc[1][0],pc=+rc[1][1]),l()):null==Ka?null:[[Ka,rb],[nb,
pc]]};return l()}function Kc(qa,l){function q(Pa,Ka){0<Ga?Ka<-vc+1E-6&&(Ka=-vc+1E-6):Ka>vc-1E-6&&(Ka=vc-1E-6);Ka=Ga/y(O((vc+Ka)/2),la);return[Ka*K(la*Pa),Ga-Ka*ad(la*Pa)]}var J=ad(qa),la=qa===l?K(qa):id(J/ad(l))/id(O((vc+l)/2)/O((vc+qa)/2)),Ga=J*y(O((vc+qa)/2),la)/la;if(!la)return wc;q.invert=function(Pa,Ka){Ka=Ga-Ka;var rb=ua(la)*t(Pa*Pa+Ka*Ka),nb=md(Pa,Pc(Ka))*ua(Ka);0>Ka*la&&(nb-=Kb*ua(Pa)*ua(Ka));return[nb/la,2*hd(y(Ga/rb,1/la))-vc]};return q}function na(qa,l){return[qa,l]}function Ia(qa,l){function q(Pa,
Ka){Ka=Ga-Ka;Pa*=la;return[Ka*K(Pa),Ga-Ka*ad(Pa)]}var J=ad(qa),la=qa===l?K(qa):(J-ad(l))/(l-qa),Ga=J/la+qa;if(1E-6>Pc(la))return na;q.invert=function(Pa,Ka){Ka=Ga-Ka;var rb=md(Pa,Pc(Ka))*ua(Ka);0>Ka*la&&(rb-=Kb*ua(Pa)*ua(Ka));return[rb/la,Ga-ua(la)*t(Pa*Pa+Ka*Ka)]};return q}function hb(qa,l){l=zb(Ve*K(l));var q=l*l,J=q*q*q;return[qa*ad(l)/(Ve*(1.340264+3*-.081106*q+J*(7*8.93E-4+.034164*q))),l*(1.340264+-.081106*q+J*(8.93E-4+.003796*q))]}function S(qa,l){var q=ad(l),J=ad(qa)*q;return[q*K(qa)/J,K(l)/
J]}function v(qa,l){var q=l*l,J=q*q;return[qa*(.8707-.131979*q+J*(-.013791+J*(.003971*q-.001529*J))),l*(1.007226+q*(.015085+J*(-.044475+.028874*q-.005916*J)))]}function ca(qa,l){return[ad(l)*K(qa),K(l)]}function za(qa,l){var q=ad(l),J=1+ad(qa)*q;return[q*K(qa)/J,K(l)/J]}function Fa(qa,l){return[id(O((vc+l)/2)),-qa]}function Ua(qa){return 1<qa?Be:-1>qa?-Be:Math.asin(qa)}function mb(qa,l){return function J(){const la=l();la.type=qa;la.path=Qa().projection(la);la.copy=la.copy||function(){const Ga=J();
ue.forEach(Pa=>{if(la[Pa])Ga[Pa](la[Pa]())});Ga.path.pointRadius(la.path.pointRadius());return Ga};return h.registerScale(la)}}function Mb(qa,l){if(!qa||"string"!==typeof qa)throw Error("Projection type must be a name string.");qa=qa.toLowerCase();return 1<arguments.length?(ae[qa]=mb(qa,l),this):ae[qa]||null}class Fb{constructor(){this._partials=new Float64Array(32);this._n=0}add(qa){const l=this._partials;let q=0;for(let J=0;J<this._n&&32>J;J++){const la=l[J],Ga=qa+la;(qa=Math.abs(qa)<Math.abs(la)?
qa-(Ga-la):la-(Ga-qa))&&(l[q++]=qa);qa=Ga}l[q]=qa;this._n=q+1;return this}valueOf(){const qa=this._partials;let l=this._n;let q,J=0;if(0<l){for(J=qa[--l];0<l;){var la=J;q=qa[--l];J=la+q;if(la=q-(J-la))break}0<l&&(0>la&&0>qa[l-1]||0<la&&0<qa[l-1])&&(q=2*la,la=J+q,q==la-J&&(J=la))}return J}}var Kb=Math.PI,vc=Kb/2,yc=Kb/4,Ic=2*Kb,kd=180/Kb,$c=Kb/180,Pc=Math.abs,hd=Math.atan,md=Math.atan2,ad=Math.cos,ke=Math.exp,id=Math.log,y=Math.pow,K=Math.sin,ua=Math.sign||function(qa){return 0<qa?1:0>qa?-1:0},t=Math.sqrt,
O=Math.tan,ba={Feature:function(qa,l){Zb(qa.geometry,l)},FeatureCollection:function(qa,l){qa=qa.features;for(var q=-1,J=qa.length;++q<J;)Zb(qa[q].geometry,l)}},xa={Sphere:function(qa,l){l.sphere()},Point:function(qa,l){qa=qa.coordinates;l.point(qa[0],qa[1],qa[2])},MultiPoint:function(qa,l){for(var q=qa.coordinates,J=-1,la=q.length;++J<la;)qa=q[J],l.point(qa[0],qa[1],qa[2])},LineString:function(qa,l){Ub(qa.coordinates,l,0)},MultiLineString:function(qa,l){qa=qa.coordinates;for(var q=-1,J=qa.length;++q<
J;)Ub(qa[q],l,0)},Polygon:function(qa,l){jc(qa.coordinates,l)},MultiPolygon:function(qa,l){qa=qa.coordinates;for(var q=-1,J=qa.length;++q<J;)jc(qa[q],l)},GeometryCollection:function(qa,l){qa=qa.geometries;for(var q=-1,J=qa.length;++q<J;)Zb(qa[q],l)}};jb.invert=jb;var oa=V(function(){return!0},function(qa){var l=NaN,q=NaN,J=NaN,la;return{lineStart:function(){qa.lineStart();la=1},point:function(Ga,Pa){var Ka=0<Ga?Kb:-Kb,rb=Pc(Ga-l);if(1E-6>Pc(rb-Kb))qa.point(l,q=0<(q+Pa)/2?vc:-vc),qa.point(J,q),qa.lineEnd(),
qa.lineStart(),qa.point(Ka,q),qa.point(Ga,q),la=0;else if(J!==Ka&&rb>=Kb){1E-6>Pc(l-J)&&(l-=1E-6*J);1E-6>Pc(Ga-Ka)&&(Ga-=1E-6*Ka);rb=l;var nb=q,pc=Ga,rc,uc,tc=K(rb-pc);q=1E-6<Pc(tc)?hd((K(nb)*(uc=ad(Pa))*K(pc)-K(Pa)*(rc=ad(nb))*K(rb))/(rc*uc*tc)):(nb+Pa)/2;qa.point(J,q);qa.lineEnd();qa.lineStart();qa.point(Ka,q);la=0}qa.point(l=Ga,q=Pa);J=Ka},lineEnd:function(){qa.lineEnd();l=q=NaN},clean:function(){return 2-la}}},function(qa,l,q,J){null==qa?(q*=vc,J.point(-Kb,q),J.point(0,q),J.point(Kb,q),J.point(Kb,
0),J.point(Kb,-q),J.point(0,-q),J.point(-Kb,-q),J.point(-Kb,0),J.point(-Kb,q)):1E-6<Pc(qa[0]-l[0])?(qa=qa[0]<l[0]?Kb:-Kb,q=q*qa/2,J.point(-qa,q),J.point(0,q),J.point(qa,q)):J.point(l[0],l[1])},[-Kb,-vc]),ab=qa=>qa,Qb=new Fb,Yb=new Fb,ic,Ac,Mc,Nc,Wc={point:Vb,lineStart:Vb,lineEnd:Vb,polygonStart:function(){Wc.lineStart=sa;Wc.lineEnd=L},polygonEnd:function(){Wc.lineStart=Wc.lineEnd=Wc.point=Vb;Qb.add(Pc(Yb));Yb=new Fb},result:function(){var qa=Qb/2;Qb=new Fb;return qa}},td=Infinity,ud=td,ee=-td,Kd=
ee,ge={point:function(qa,l){qa<td&&(td=qa);qa>ee&&(ee=qa);l<ud&&(ud=l);l>Kd&&(Kd=l)},lineStart:Vb,lineEnd:Vb,polygonStart:Vb,polygonEnd:Vb,result:function(){var qa=[[td,ud],[ee,Kd]];ee=Kd=-(ud=td=Infinity);return qa}},Je=0,Ie=0,Ne=0,$e=0,Ae=0,Ge=0,oe=0,Ee=0,ye=0,yd,fg,Ze,Pe,Qe={point:u,lineStart:R,lineEnd:N,polygonStart:function(){Qe.lineStart=A;Qe.lineEnd=D},polygonEnd:function(){Qe.point=u;Qe.lineStart=R;Qe.lineEnd=N},result:function(){var qa=ye?[oe/ye,Ee/ye]:Ge?[$e/Ge,Ae/Ge]:Ne?[Je/Ne,Ie/Ne]:[NaN,
NaN];Je=Ie=Ne=$e=Ae=Ge=oe=Ee=ye=0;return qa}};Da.prototype={_radius:4.5,pointRadius:function(qa){return this._radius=qa,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(qa,l){switch(this._point){case 0:this._context.moveTo(qa,l);this._point=1;break;case 1:this._context.lineTo(qa,l);break;default:this._context.moveTo(qa+this._radius,l),this._context.arc(qa,
l,this._radius,0,Ic)}},result:Vb};var Ke=new Fb,Ed,ze,ie,Ca,Va,dc={point:Vb,lineStart:function(){dc.point=P},lineEnd:function(){Ed&&ja(ze,ie);dc.point=Vb},polygonStart:function(){Ed=!0},polygonEnd:function(){Ed=null},result:function(){var qa=+Ke;Ke=new Fb;return qa}};let dd,fd,Zc,Bd;class Zd{constructor(qa){this._append=null==qa?Ba:Na(qa);this._radius=4.5;this._=""}pointRadius(qa){this._radius=+qa;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===
this._line&&(this._+="Z");this._point=NaN}point(qa,l){switch(this._point){case 0:this._append`M${qa},${l}`;this._point=1;break;case 1:this._append`L${qa},${l}`;break;default:this._append`M${qa},${l}`;if(this._radius!==Zc||this._append!==fd)qa=this._radius,l=this._,this._="",this._append`m0,${qa}a${qa},${qa} 0 1,1 0,${-2*qa}a${qa},${qa} 0 1,1 0,${2*qa}z`,Zc=qa,fd=this._append,Bd=this._,this._=l;this._+=Bd}}result(){const qa=this._;this._="";return qa.length?qa:null}}xb.prototype={constructor:xb,point:function(qa,
l){this.stream.point(qa,l)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Pd=ad(30*$c),He=eb({point:function(qa,l){this.stream.point(qa*$c,l*$c)}}),gd=Xb(function(qa){return t(2/(1+qa))});gd.invert=gc(function(qa){return 2*zb(qa/2)});var se=Xb(function(qa){return(qa=Za(qa))&&qa/K(qa)});se.invert=gc(function(qa){return qa});
wc.invert=function(qa,l){return[qa,2*hd(ke(l))-vc]};na.invert=na;var Ve=t(3)/2;hb.invert=function(qa,l){for(var q=l,J=q*q,la=J*J*J,Ga=0,Pa;12>Ga&&!(Pa=q*(1.340264+-.081106*J+la*(8.93E-4+.003796*J))-l,J=1.340264+3*-.081106*J+la*(7*8.93E-4+.034164*J),q-=Pa/=J,J=q*q,la=J*J*J,1E-12>Pc(Pa));++Ga);return[Ve*qa*(1.340264+3*-.081106*J+la*(7*8.93E-4+.034164*J))/ad(q),zb(K(q)/Ve)]};S.invert=gc(hd);v.invert=function(qa,l){var q=l,J=25;do{var la=q*q;var Ga=la*la;q-=Ga=(q*(1.007226+la*(.015085+Ga*(-.044475+.028874*
la-.005916*Ga)))-l)/(1.007226+la*(.045255+Ga*(-.311325+.259866*la-.005916*11*Ga)))}while(1E-6<Pc(Ga)&&0<--J);return[qa/(.8707+(la=q*q)*(-.131979+la*(-.013791+la*la*la*(.003971-.001529*la)))),q]};ca.invert=gc(zb);za.invert=gc(function(qa){return 2*hd(qa)});Fa.invert=function(qa,l){return[-l,2*hd(ke(qa))-vc]};var af=Math.abs,he=Math.cos,lf=Math.sin,xf=Math.PI,Be=xf/2,Ue=Math.sqrt(2),We=function(qa,l,q){function J(la,Ga){var Pa=Ga,Ka=q*lf(Pa),rb=30,nb;do Pa-=nb=(Pa+lf(Pa)-Ka)/(1+he(Pa));while(1E-6<af(nb)&&
0<--rb);return[qa*la*he(Ga=Pa/2),l*lf(Ga)]}J.invert=function(la,Ga){return Ga=Ua(Ga/l),[la/(qa*he(Ga)),Ua((2*Ga+lf(2*Ga))/q)]};return J}(Ue/Be,Ue,xf);const pe=Qa(),ue="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),ae={albers:Gb,albersusa:function(){function qa(uc){var tc=uc[0];uc=uc[1];return pc=null,(Ga.point(tc,uc),pc)||(Ka.point(tc,uc),pc)||(nb.point(tc,uc),pc)}function l(){q=
J=null;return qa}var q,J,la=Gb(),Ga,Pa=yb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Ka,rb=yb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),nb,pc,rc={point:function(uc,tc){pc=[uc,tc]}};qa.invert=function(uc){var tc=la.scale(),Hc=la.translate(),Uc=(uc[0]-Hc[0])/tc;tc=(uc[1]-Hc[1])/tc;return(.12<=tc&&.234>tc&&-.425<=Uc&&-.214>Uc?Pa:.166<=tc&&.234>tc&&-.214<=Uc&&-.115>Uc?rb:la).invert(uc)};qa.stream=function(uc){return q&&J===uc?q:q=Cb([la.stream(J=uc),Pa.stream(uc),rb.stream(uc)])};
qa.precision=function(uc){if(!arguments.length)return la.precision();la.precision(uc);Pa.precision(uc);rb.precision(uc);return l()};qa.scale=function(uc){if(!arguments.length)return la.scale();la.scale(uc);Pa.scale(.35*uc);rb.scale(uc);return qa.translate(la.translate())};qa.translate=function(uc){if(!arguments.length)return la.translate();var tc=la.scale(),Hc=+uc[0],Uc=+uc[1];Ga=la.translate(uc).clipExtent([[Hc-.455*tc,Uc-.238*tc],[Hc+.455*tc,Uc+.238*tc]]).stream(rc);Ka=Pa.translate([Hc-.307*tc,
Uc+.201*tc]).clipExtent([[Hc-.425*tc+1E-6,Uc+.12*tc+1E-6],[Hc-.214*tc-1E-6,Uc+.234*tc-1E-6]]).stream(rc);nb=rb.translate([Hc-.205*tc,Uc+.212*tc]).clipExtent([[Hc-.214*tc+1E-6,Uc+.166*tc+1E-6],[Hc-.115*tc-1E-6,Uc+.234*tc-1E-6]]).stream(rc);return l()};qa.fitExtent=function(uc,tc){return Sb(qa,uc,tc)};qa.fitSize=function(uc,tc){return Sb(qa,[[0,0],uc],tc)};qa.fitWidth=function(uc,tc){return X(qa,uc,tc)};qa.fitHeight=function(uc,tc){return Ha(qa,uc,tc)};return qa.scale(1070)},azimuthalequalarea:function(){return sc(gd).scale(124.75).clipAngle(179.999)},
azimuthalequidistant:function(){return sc(se).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return ra(Kc).scale(109.5).parallels([30,30])},conicequalarea:yb,conicequidistant:function(){return ra(Ia).scale(131.154).center([0,13.9389])},equalEarth:function(){return sc(hb).scale(177.158)},equirectangular:function(){return sc(na).scale(152.63)},gnomonic:function(){return sc(S).scale(144.049).clipAngle(60)},identity:function(){function qa(){Hc=q*Ga;Uc=q*Pa;vd=Gd=null;return l}function l(kc){var qd=
kc[0]*Hc;kc=kc[1]*Uc;if(Ka){var qe=kc*rb-qd*nb;qd=qd*rb+kc*nb;kc=qe}return[qd+J,kc+la]}var q=1,J=0,la=0,Ga=1,Pa=1,Ka=0,rb,nb,pc=null,rc,uc,tc,Hc=1,Uc=1,Fd=eb({point:function(kc,qd){kc=l([kc,qd]);this.stream.point(kc[0],kc[1])}}),od=ab,vd,Gd;l.invert=function(kc){var qd=kc[0]-J;kc=kc[1]-la;if(Ka){var qe=kc*rb+qd*nb;qd=qd*rb-kc*nb;kc=qe}return[qd/Hc,kc/Uc]};l.stream=function(kc){return vd&&Gd===kc?vd:vd=Fd(od(Gd=kc))};l.postclip=function(kc){return arguments.length?(od=kc,pc=rc=uc=tc=null,qa()):od};
l.clipExtent=function(kc){return arguments.length?(od=null==kc?(pc=rc=uc=tc=null,ab):pa(pc=+kc[0][0],rc=+kc[0][1],uc=+kc[1][0],tc=+kc[1][1]),qa()):null==pc?null:[[pc,rc],[uc,tc]]};l.scale=function(kc){return arguments.length?(q=+kc,qa()):q};l.translate=function(kc){return arguments.length?(J=+kc[0],la=+kc[1],qa()):[J,la]};l.angle=function(kc){return arguments.length?(Ka=kc%360*$c,nb=K(Ka),rb=ad(Ka),qa()):Ka*kd};l.reflectX=function(kc){return arguments.length?(Ga=kc?-1:1,qa()):0>Ga};l.reflectY=function(kc){return arguments.length?
(Pa=kc?-1:1,qa()):0>Pa};l.fitExtent=function(kc,qd){return Sb(l,kc,qd)};l.fitSize=function(kc,qd){return Sb(l,[[0,0],kc],qd)};l.fitWidth=function(kc,qd){return X(l,kc,qd)};l.fitHeight=function(kc,qd){return Ha(l,kc,qd)};return l},mercator:function(){return Xc(wc).scale(961/Ic)},mollweide:function(){return sc(We).scale(169.529)},naturalEarth1:function(){return sc(v).scale(175.295)},orthographic:function(){return sc(ca).scale(249.5).clipAngle(90.000001)},stereographic:function(){return sc(za).scale(250).clipAngle(142)},
transversemercator:function(){var qa=Xc(Fa),l=qa.center,q=qa.rotate;qa.center=function(J){return arguments.length?l([-J[1],J[0]]):(J=l(),[J[1],-J[0]])};qa.rotate=function(J){return arguments.length?q([J[0],J[1],2<J.length?J[2]+90:90]):(J=q(),[J[0],J[1],J[2]-90])};return q([0,0,90]).scale(159.155)}};for(const qa in ae)Mb(qa,ae[qa]);w.getProjectionPath=function(qa){return qa&&qa.path||pe};w.projection=Mb;w.projectionProperties=ue})};
shadow$provide[38]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(29),ob(21),ob(30),ob(37),ob(32)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),h):(w="undefined"!==typeof globalThis?globalThis:w||self,h((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,h,ka,Za,zb,Vb){function Zb(v,ca,za){var Fa=(ca-v)/Math.max(0,za),Ua=
Math.floor(Math.log10(Fa));Fa/=Math.pow(10,Ua);Fa=Fa>=Oc?10:Fa>=ra?5:Fa>=Eb?2:1;let mb;0>Ua?(mb=Math.pow(10,-Ua)/Fa,Ua=Math.round(v*mb),Fa=Math.round(ca*mb),Ua/mb<v&&++Ua,Fa/mb>ca&&--Fa,mb=-mb):(mb=Math.pow(10,Ua)*Fa,Ua=Math.round(v/mb),Fa=Math.round(ca/mb),Ua*mb<v&&++Ua,Fa*mb>ca&&--Fa);return Fa<Ua&&.5<=za&&2>za?Zb(v,ca,2*za):[Ua,Fa,mb]}function Ub(v,ca,za){return Zb(+v,+ca,+za)[2]}function jc(v,ca){let za;for(const Fa of v)null!=Fa&&(za<Fa||void 0===za&&Fa>=Fa)&&(za=Fa);return za}function Bb(v,
ca,za){v=+v;ca=+ca;za=2>(Ua=arguments.length)?(ca=v,v=0,1):3>Ua?1:+za;for(var Fa=-1,Ua=Math.max(0,Math.ceil((ca-v)/za))|0,mb=Array(Ua);++Fa<Ua;)mb[Fa]=v+Fa*za;return mb}function Rb(v,ca){ca=0;for(let za of v)if(za=+za)ca+=za;return ca}function ec(){}function Ea(){function v(Fb,Kb){return Kb.map(vc=>ca(Fb,vc))}function ca(Fb,Kb){var vc=[],yc=[];za(Fb,Kb,Ic=>{Mb(Ic,Fb,Kb);for(var kd=0,$c=Ic.length,Pc=Ic[$c-1][1]*Ic[0][0]-Ic[$c-1][0]*Ic[0][1];++kd<$c;)Pc+=Ic[kd-1][1]*Ic[kd][0]-Ic[kd-1][0]*Ic[kd][1];
0<Pc?vc.push([Ic]):yc.push(Ic)});yc.forEach(Ic=>{for(var kd=0,$c=vc.length,Pc;kd<$c;++kd){a:{var hd=(Pc=vc[kd])[0];for(var md=Ic,ad=-1,ke=md.length;++ad<ke;){b:{var id=hd;for(var y=md[ad],K=y[0],ua=y[1],t=-1,O=0,ba=id.length,xa=ba-1;O<ba;xa=O++){var oa=id[O],ab=oa[0],Qb=oa[1],Yb=id[xa];xa=Yb[0];var ic=Yb[1],Ac,Mc=oa;oa=Yb;Yb=y;if(Ac=(oa[0]-Mc[0])*(Yb[1]-Mc[1])===(Yb[0]-Mc[0])*(oa[1]-Mc[1]))Mc=Mc[Ac=+(Mc[0]===oa[0])],Yb=Yb[Ac],oa=oa[Ac],Ac=Mc<=Yb&&Yb<=oa||oa<=Yb&&Yb<=Mc;if(Ac){id=0;break b}Qb>ua!==
ic>ua&&K<(xa-ab)*(ua-Qb)/(ic-Qb)+ab&&(t=-t)}id=t}if(id){hd=id;break a}}hd=0}if(-1!==hd){Pc.push(Ic);break}}});return{type:"MultiPolygon",value:Kb,coordinates:vc}}function za(Fb,Kb,vc){function yc(id){var y=[id[0][0]+Pc,id[0][1]+$c];id=[id[1][0]+Pc,id[1][1]+$c];var K=2*y[0]+y[1]*(Ua+1)*4,ua=2*id[0]+id[1]*(Ua+1)*4,t,O;(t=kd[K])?(O=Ic[ua])?(delete kd[t.end],delete Ic[O.start],t===O?(t.ring.push(id),vc(t.ring)):Ic[t.start]=kd[O.end]={start:t.start,end:O.end,ring:t.ring.concat(O.ring)}):(delete kd[t.end],
t.ring.push(id),kd[t.end=ua]=t):(t=Ic[ua])?(O=kd[K])?(delete Ic[t.start],delete kd[O.end],t===O?(t.ring.push(id),vc(t.ring)):Ic[O.start]=kd[t.end]={start:O.start,end:t.end,ring:O.ring.concat(t.ring)}):(delete Ic[t.start],t.ring.unshift(y),Ic[t.start=K]=t):Ic[K]=kd[ua]={start:K,end:ua,ring:[y,id]}}var Ic=[],kd=[],$c;var Pc=$c=-1;var hd=Fb[0]>=Kb;for(Ta[hd<<1].forEach(yc);++Pc<Ua-1;){var md=hd;hd=Fb[Pc+1]>=Kb;Ta[md|hd<<1].forEach(yc)}for(Ta[hd<<0].forEach(yc);++$c<mb-1;){Pc=-1;hd=Fb[$c*Ua+Ua]>=Kb;var ad=
Fb[$c*Ua]>=Kb;for(Ta[hd<<1|ad<<2].forEach(yc);++Pc<Ua-1;){md=hd;hd=Fb[$c*Ua+Ua+Pc+1]>=Kb;var ke=ad;ad=Fb[$c*Ua+Pc+1]>=Kb;Ta[md|hd<<1|ad<<2|ke<<3].forEach(yc)}Ta[hd|ad<<3].forEach(yc)}Pc=-1;ad=Fb[$c*Ua]>=Kb;for(Ta[ad<<2].forEach(yc);++Pc<Ua-1;)ke=ad,ad=Fb[$c*Ua+Pc+1]>=Kb,Ta[ad<<2|ke<<3].forEach(yc);Ta[ad<<3].forEach(yc)}function Fa(Fb,Kb,vc){Fb.forEach(yc=>{var Ic=yc[0],kd=yc[1],$c=Ic|0,Pc=kd|0,hd=Kb[Pc*Ua+$c];if(0<Ic&&Ic<Ua&&$c===Ic){var md=Kb[Pc*Ua+$c-1];yc[0]=Ic+(vc-md)/(hd-md)-.5}0<kd&&kd<mb&&
Pc===kd&&(md=Kb[(Pc-1)*Ua+$c],yc[1]=kd+(vc-md)/(hd-md)-.5)})}var Ua=1,mb=1,Mb=Fa;v.contour=ca;v.size=function(Fb){if(!arguments.length)return[Ua,mb];var Kb=Math.floor(Fb[0]),vc=Math.floor(Fb[1]);0<=Kb&&0<=vc||ka.error("invalid size");return Ua=Kb,mb=vc,v};v.smooth=function(Fb){return arguments.length?(Mb=Fb?Fa:ec,v):Mb===Fa};return v}function $a(v,ca,za){return function(Fa){var Ua=ka.extent(Fa);Fa=za?Math.min(Ua[0],0):Ua[0];Ua=Ua[1];var mb=Ua-Fa;if(ca){var Mb=v;var Fb=+Ua;var Kb=+Fa;Mb=+Mb;Kb=(mb=
Fb<Kb)?Ub(Fb,Kb,Mb):Ub(Kb,Fb,Mb);mb=(mb?-1:1)*(0>Kb?1/-Kb:Kb)}else mb/=v+1;return Bb(Fa+mb,Ua,mb)}}function vb(v){h.Transform.call(this,null,v)}function ub(v,ca,za){const Fa=$a(za.levels||10,za.nice,!1!==za.zero);return"shared"!==za.resolve?Fa:Fa(v.map(Ua=>jc(ca(Ua).values)))}function sb(v,ca,za,Fa){var Ua=Fa.scale||ca.scale;let mb=Fa.translate||ca.translate;ka.isFunction(Ua)&&(Ua=Ua(za,Fa));ka.isFunction(mb)&&(mb=mb(za,Fa));if(1!==Ua&&null!=Ua||mb)za=(ka.isNumber(Ua)?Ua:Ua[0])||1,Ua=(ka.isNumber(Ua)?
Ua:Ua[1])||1,v.forEach(wb(ca,za,Ua,mb&&mb[0]||0,mb&&mb[1]||0))}function wb(v,ca,za,Fa,Ua){function mb(Ic){Ic.forEach(Mb)}function Mb(Ic){yc&&Ic.reverse();Ic.forEach(Fb)}function Fb(Ic){Ic[0]=(Ic[0]-Kb)*ca+Fa;Ic[1]=(Ic[1]-vc)*za+Ua}const Kb=v.x1||0,vc=v.y1||0,yc=0>ca*za;return function(Ic){Ic.coordinates.forEach(mb);return Ic}}function jb(v,ca,za){v=0<=v?v:Za.bandwidthNRD(ca,za);return Math.round((Math.sqrt(4*v*v+1)-1)/2)}function lc(v){return ka.isFunction(v)?v:ka.constant(+v)}function ta(){function v(Kb,
vc){const yc=jb(Ua[0],Kb,ca)>>Fb,Ic=jb(Ua[1],Kb,za)>>Fb,kd=yc?yc+2:0,$c=Ic?Ic+2:0,Pc=2*kd+(mb>>Fb),hd=2*$c+(Mb>>Fb),md=new Float32Array(Pc*hd),ad=new Float32Array(Pc*hd);let ke=md;Kb.forEach(id=>{const y=kd+(+ca(id)>>Fb),K=$c+(+za(id)>>Fb);0<=y&&y<Pc&&0<=K&&K<hd&&(md[y+K*Pc]+=+Fa(id))});0<yc&&0<Ic?(ha(Pc,hd,md,ad,yc),ya(Pc,hd,ad,md,Ic),ha(Pc,hd,md,ad,yc),ya(Pc,hd,ad,md,Ic),ha(Pc,hd,md,ad,yc),ya(Pc,hd,ad,md,Ic)):0<yc?(ha(Pc,hd,md,ad,yc),ha(Pc,hd,ad,md,yc),ha(Pc,hd,md,ad,yc),ke=ad):0<Ic&&(ya(Pc,hd,
md,ad,Ic),ya(Pc,hd,ad,md,Ic),ya(Pc,hd,md,ad,Ic),ke=ad);Kb=vc?Math.pow(2,-2*Fb):1/Rb(ke);for(let id=0,y=Pc*hd;id<y;++id)ke[id]*=Kb;return{values:ke,scale:1<<Fb,width:Pc,height:hd,x1:kd,y1:$c,x2:kd+(mb>>Fb),y2:$c+(Mb>>Fb)}}var ca=Kb=>Kb[0],za=Kb=>Kb[1],Fa=ka.one,Ua=[-1,-1],mb=960,Mb=500,Fb=2;v.x=function(Kb){return arguments.length?(ca=lc(Kb),v):ca};v.y=function(Kb){return arguments.length?(za=lc(Kb),v):za};v.weight=function(Kb){return arguments.length?(Fa=lc(Kb),v):Fa};v.size=function(Kb){if(!arguments.length)return[mb,
Mb];var vc=+Kb[0],yc=+Kb[1];0<=vc&&0<=yc||ka.error("invalid size");return mb=vc,Mb=yc,v};v.cellSize=function(Kb){if(!arguments.length)return 1<<Fb;1<=(Kb=+Kb)||ka.error("invalid cell size");Fb=Math.floor(Math.log(Kb)/Math.LN2);return v};v.bandwidth=function(Kb){if(!arguments.length)return Ua;Kb=ka.array(Kb);1===Kb.length&&(Kb=[+Kb[0],+Kb[0]]);2!==Kb.length&&ka.error("invalid bandwidth");return Ua=Kb,v};return v}function ha(v,ca,za,Fa,Ua){const mb=(Ua<<1)+1;for(let Mb=0;Mb<ca;++Mb)for(let Fb=0,Kb=
0;Fb<v+Ua;++Fb)Fb<v&&(Kb+=za[Fb+Mb*v]),Fb>=Ua&&(Fb>=mb&&(Kb-=za[Fb-mb+Mb*v]),Fa[Fb-Ua+Mb*v]=Kb/Math.min(Fb+1,v-1+mb-Fb,mb))}function ya(v,ca,za,Fa,Ua){const mb=(Ua<<1)+1;for(let Mb=0;Mb<v;++Mb)for(let Fb=0,Kb=0;Fb<ca+Ua;++Fb)Fb<ca&&(Kb+=za[Mb+Fb*v]),Fb>=Ua&&(Fb>=mb&&(Kb-=za[Mb+(Fb-mb)*v]),Fa[Mb+(Fb-Ua)*v]=Kb/Math.min(Fb+1,ca-1+mb-Fb,mb))}function Ra(v){h.Transform.call(this,null,v)}function Wa(v,ca){yb.forEach(za=>null!=ca[za]?v[za](ca[za]):0);return v}function Ja(v,ca){var za=[],Fa=yc=>yc(Fb),Ua;
if(null==ca)za.push(v);else{var mb={};var Mb=0;for(Ua=v.length;Mb<Ua;++Mb){var Fb=v[Mb];var Kb=ca.map(Fa);var vc=mb[Kb];vc||(mb[Kb]=vc=[],vc.dims=Kb,za.push(vc));vc.push(Fb)}}return za}function ib(v){h.Transform.call(this,null,v)}function cb(v){h.Transform.call(this,null,v)}function tb(v){h.Transform.call(this,null,v)}function Pb(v,ca){const za=v.pointRadius();v.context(null);null!=ca&&v.pointRadius(ca);return za}function gb(v){h.Transform.call(this,null,v)}function V(v){h.Transform.call(this,null,
v)}function aa(v,ca,za){const Fa=null==za?Ua=>v(ca(Ua)):Ua=>{var mb=v.pointRadius();Ua=v.pointRadius(za)(ca(Ua));v.pointRadius(mb);return Ua};Fa.context=Ua=>{v.context(Ua);return Fa};return Fa}function da(v,ca,za){var Fa=Bb(v,ca-1E-6,za).concat(ca);return function(Ua){return Fa.map(function(mb){return[Ua,mb]})}}function ia(v,ca,za){var Fa=Bb(v,ca-1E-6,za).concat(ca);return function(Ua){return Fa.map(function(mb){return[mb,Ua]})}}function Ma(){function v(){return{type:"MultiLineString",coordinates:ca()}}
function ca(){return Bb(Cb(mb/kd)*kd,Ua,kd).map(md).concat(Bb(Cb(vc/$c)*$c,Kb,$c).map(ad)).concat(Bb(Cb(Fa/yc)*yc,za,yc).filter(function(id){return 1E-6<Gb(id%kd)}).map(Pc)).concat(Bb(Cb(Fb/Ic)*Ic,Mb,Ic).filter(function(id){return 1E-6<Gb(id%$c)}).map(hd))}var za,Fa,Ua,mb,Mb,Fb,Kb,vc,yc=10,Ic=yc,kd=90,$c=360,Pc,hd,md,ad,ke=2.5;v.lines=function(){return ca().map(function(id){return{type:"LineString",coordinates:id}})};v.outline=function(){return{type:"Polygon",coordinates:[md(mb).concat(ad(Kb).slice(1),
md(Ua).reverse().slice(1),ad(vc).reverse().slice(1))]}};v.extent=function(id){return arguments.length?v.extentMajor(id).extentMinor(id):v.extentMinor()};v.extentMajor=function(id){if(!arguments.length)return[[mb,vc],[Ua,Kb]];mb=+id[0][0];Ua=+id[1][0];vc=+id[0][1];Kb=+id[1][1];mb>Ua&&(id=mb,mb=Ua,Ua=id);vc>Kb&&(id=vc,vc=Kb,Kb=id);return v.precision(ke)};v.extentMinor=function(id){if(!arguments.length)return[[Fa,Fb],[za,Mb]];Fa=+id[0][0];za=+id[1][0];Fb=+id[0][1];Mb=+id[1][1];Fa>za&&(id=Fa,Fa=za,za=
id);Fb>Mb&&(id=Fb,Fb=Mb,Mb=id);return v.precision(ke)};v.step=function(id){return arguments.length?v.stepMajor(id).stepMinor(id):v.stepMinor()};v.stepMajor=function(id){if(!arguments.length)return[kd,$c];kd=+id[0];$c=+id[1];return v};v.stepMinor=function(id){if(!arguments.length)return[yc,Ic];yc=+id[0];Ic=+id[1];return v};v.precision=function(id){if(!arguments.length)return ke;ke=+id;Pc=da(Fb,Mb,90);hd=ia(Fa,za,ke);md=da(vc,Kb,90);ad=ia(mb,Ua,ke);return v};return v.extentMajor([[-180,-89.999999],
[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function pa(v){h.Transform.call(this,[],v);this.generator=Ma()}function sa(v,ca,za){v.prototype=ca.prototype=za;za.constructor=v}function m(v,ca){v=Object.create(v.prototype);for(var za in ca)v[za]=ca[za];return v}function F(){}function L(){return this.rgb().formatHex()}function u(){return this.rgb().formatRgb()}function R(v){var ca,za;v=(v+"").trim().toLowerCase();return(ca=gc.exec(v))?(za=ca[1].length,ca=parseInt(ca[1],16),6===za?
B(ca):3===za?new A(ca>>8&15|ca>>4&240,ca>>4&15|ca&240,(ca&15)<<4|ca&15,1):8===za?z(ca>>24&255,ca>>16&255,ca>>8&255,(ca&255)/255):4===za?z(ca>>12&15|ca>>8&240,ca>>8&15|ca>>4&240,ca>>4&15|ca&240,((ca&15)<<4|ca&15)/255):null):(ca=wc.exec(v))?new A(ca[1],ca[2],ca[3],1):(ca=Xc.exec(v))?new A(255*ca[1]/100,255*ca[2]/100,255*ca[3]/100,1):(ca=Kc.exec(v))?z(ca[1],ca[2],ca[3],ca[4]):(ca=na.exec(v))?z(255*ca[1]/100,255*ca[2]/100,255*ca[3]/100,ca[4]):(ca=Ia.exec(v))?ja(ca[1],ca[2]/100,ca[3]/100,1):(ca=hb.exec(v))?
ja(ca[1],ca[2]/100,ca[3]/100,ca[4]):S.hasOwnProperty(v)?B(S[v]):"transparent"===v?new A(NaN,NaN,NaN,0):null}function B(v){return new A(v>>16&255,v>>8&255,v&255,1)}function z(v,ca,za,Fa){0>=Fa&&(v=ca=za=NaN);return new A(v,ca,za,Fa)}function N(v,ca,za,Fa){if(1===arguments.length){var Ua=v;Ua instanceof F||(Ua=R(Ua));Ua?(Ua=Ua.rgb(),Ua=new A(Ua.r,Ua.g,Ua.b,Ua.opacity)):Ua=new A}else Ua=new A(v,ca,za,null==Fa?1:Fa);return Ua}function A(v,ca,za,Fa){this.r=+v;this.g=+ca;this.b=+za;this.opacity=+Fa}function D(){return`#${P(this.r)}${P(this.g)}${P(this.b)}`}
function H(){const v=W(this.opacity);return`${1===v?"rgb(":"rgba("}${Da(this.r)}, ${Da(this.g)}, ${Da(this.b)}${1===v?")":`, ${v})`}`}function W(v){return isNaN(v)?1:Math.max(0,Math.min(1,v))}function Da(v){return Math.max(0,Math.min(255,Math.round(v)||0))}function P(v){v=Da(v);return(16>v?"0":"")+v.toString(16)}function ja(v,ca,za,Fa){0>=Fa?v=ca=za=NaN:0>=za||1<=za?v=ca=NaN:0>=ca&&(v=NaN);return new Na(v,ca,za,Fa)}function Ba(v){if(v instanceof Na)return new Na(v.h,v.s,v.l,v.opacity);v instanceof
F||(v=R(v));if(!v)return new Na;if(v instanceof Na)return v;v=v.rgb();var ca=v.r/255,za=v.g/255,Fa=v.b/255,Ua=Math.min(ca,za,Fa),mb=Math.max(ca,za,Fa),Mb=NaN,Fb=mb-Ua,Kb=(mb+Ua)/2;Fb?(Mb=ca===mb?(za-Fa)/Fb+6*(za<Fa):za===mb?(Fa-ca)/Fb+2:(ca-za)/Fb+4,Fb/=.5>Kb?mb+Ua:2-mb-Ua,Mb*=60):Fb=0<Kb&&1>Kb?0:Mb;return new Na(Mb,Fb,Kb,v.opacity)}function Na(v,ca,za,Fa){this.h=+v;this.s=+ca;this.l=+za;this.opacity=+Fa}function Qa(v){v=(v||0)%360;return 0>v?v+360:v}function eb(v){return Math.max(0,Math.min(1,v||
0))}function xb(v,ca,za){return 255*(60>v?ca+(za-ca)*v/60:180>v?za:240>v?ca+(za-ca)*(240-v)/60:ca)}function kb(v){h.Transform.call(this,null,v)}function Sb(v,ca){let za;ka.isFunction(v)?(za=Fa=>N(v(Fa,ca)),za.dep=Ha(v)):za=ka.constant(N(v||"#888"));return za}function X(v,ca){let za;ka.isFunction(v)?(za=Fa=>v(Fa,ca),za.dep=Ha(v)):v?za=ka.constant(v):(za=Fa=>Fa.$value/Fa.$max||0,za.dep=!0);return za}function Ha(v){if(!ka.isFunction(v))return!1;v=ka.toSet(ka.accessorFields(v));return v.$x||v.$y||v.$value||
v.$max}function Nb(v,ca,za,Fa){const Ua=v.width;var mb=v.height;const Mb=v.x1||0,Fb=v.y1||0,Kb=v.x2||Ua;mb=v.y2||mb;const vc=v.values;v=vc?Pc=>vc[Pc]:ka.zero;const yc=Vb.canvas(Kb-Mb,mb-Fb),Ic=yc.getContext("2d"),kd=Ic.getImageData(0,0,Kb-Mb,mb-Fb),$c=kd.data;for(let Pc=Fb,hd=0;Pc<mb;++Pc){ca.$y=Pc-Fb;for(let md=Mb,ad=Pc*Ua;md<Kb;++md,hd+=4){ca.$x=md-Mb;ca.$value=v(md+ad);const ke=za(ca);$c[hd+0]=ke.r;$c[hd+1]=ke.g;$c[hd+2]=ke.b;$c[hd+3]=~~(255*Fa(ca))}}Ic.putImageData(kd,0,0);return yc}function nc(v){h.Transform.call(this,
null,v);this.modified(!0)}function Wb(v,ca){const za=Lb(ca.fit);ca.extent?v.fitExtent(ca.extent,za):ca.size?v.fitSize(ca.size,za):0}function Jb(v){const ca=zb.projection((v||"mercator").toLowerCase());ca||ka.error("Unrecognized projection type: "+v);return ca()}function Lb(v){v=ka.array(v);return 1===v.length?v[0]:{type:"FeatureCollection",features:v.reduce((ca,za)=>ca.concat(sc(za)),[])}}function sc(v){return"FeatureCollection"===v.type?v.features:ka.array(v).filter(ca=>null!=ca).map(ca=>"Feature"===
ca.type?ca:{type:"Feature",geometry:ca})}const Oc=Math.sqrt(50),ra=Math.sqrt(10),Eb=Math.sqrt(2),Ta=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];vb.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},
{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};ka.inherits(vb,h.Transform,{transform(v,ca){if(this.value&&!ca.changed()&&
!v.modified())return ca.StopPropagation;var za=ca.fork(ca.NO_SOURCE|ca.NO_FIELDS);ca=ca.materialize(ca.SOURCE).source;var Fa=v.field||ka.identity,Ua=Ea().smooth(!1!==v.smooth),mb=v.thresholds||ub(ca,Fa,v),Mb=null===v.as?null:v.as||"contour",Fb=[];ca.forEach(Kb=>{const vc=Fa(Kb),yc=Ua.size([vc.width,vc.height])(vc.values,ka.isArray(mb)?mb:mb(vc.values));sb(yc,vc,Kb,v);yc.forEach(Ic=>{Fb.push(h.rederive(Kb,h.ingest(null!=Mb?{[Mb]:Ic}:Ic)))})});this.value&&(za.rem=this.value);this.value=za.source=za.add=
Fb;return za}});Ra.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const yb="x y weight size cellSize bandwidth".split(" ");
ka.inherits(Ra,h.Transform,{transform(v,ca){if(this.value&&!ca.changed()&&!v.modified())return ca.StopPropagation;var za=ca.fork(ca.NO_SOURCE|ca.NO_FIELDS);ca=ca.materialize(ca.SOURCE).source;ca=Ja(ca,v.groupby);var Fa=(v.groupby||[]).map(ka.accessorName),Ua=Wa(ta(),v),mb=v.as||"grid",Mb=[];Mb=ca.map(Fb=>{var Kb=h.ingest,vc={[mb]:Ua(Fb,v.counts)};Fb=Fb.dims;for(let yc=0;yc<Fa.length;++yc)vc[Fa[yc]]=Fb[yc];return Kb.call(h,vc)});this.value&&(za.rem=this.value);this.value=za.source=za.add=Mb;return za}});
ib.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};ka.inherits(ib,h.Transform,{transform(v,
ca){if(this.value&&!ca.changed()&&!v.modified())return ca.StopPropagation;var za=ca.fork(ca.NO_SOURCE|ca.NO_FIELDS),Fa=Ea().smooth(!1!==v.smooth),Ua=v.values,mb=v.thresholds||$a(v.count||10,v.nice,!!Ua),Mb=v.size;if(!Ua){Ua=ca.materialize(ca.SOURCE).source;v=Wa(ta(),v)(Ua,!0);var Fb=wb(v,v.scale||1,v.scale||1,0,0);Mb=[v.width,v.height];Ua=v.values}mb=ka.isArray(mb)?mb:mb(Ua);Ua=Fa.size(Mb)(Ua,mb);Fb&&Ua.forEach(Fb);this.value&&(za.rem=this.value);this.value=za.source=za.add=(Ua||[]).map(h.ingest);
return za}});cb.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ka.inherits(cb,h.Transform,{transform(v,ca){var za=this._features,Fa=this._points,Ua=v.fields,mb=Ua&&Ua[0],Mb=Ua&&Ua[1],Fb=v.geojson||!Ua&&ka.identity;Ua=ca.ADD;v=v.modified()||ca.changed(ca.REM)||ca.modified(ka.accessorFields(Fb))||mb&&ca.modified(ka.accessorFields(mb))||Mb&&ca.modified(ka.accessorFields(Mb));if(!this.value||v)Ua=ca.SOURCE,this._features=za=
[],this._points=Fa=[];Fb&&ca.visit(Ua,Kb=>za.push(Fb(Kb)));mb&&Mb&&(ca.visit(Ua,Kb=>{var vc=mb(Kb);Kb=Mb(Kb);null!=vc&&null!=Kb&&(vc=+vc)===vc&&(Kb=+Kb)===Kb&&Fa.push([vc,Kb])}),za=za.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:Fa}}));this.value={type:"FeatureCollection",features:za}}});tb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",
"default":"path"}]};ka.inherits(tb,h.Transform,{transform(v,ca){var za=ca.fork(ca.ALL),Fa=this.value,Ua=v.field||ka.identity,mb=v.as||"path",Mb=za.SOURCE;!Fa||v.modified()?(this.value=Fa=zb.getProjectionPath(v.projection),za.materialize().reflow()):Mb=Ua===ka.identity||ca.modified(Ua.fields)?za.ADD_MOD:za.ADD;v=Pb(Fa,v.pointRadius);za.visit(Mb,Fb=>Fb[mb]=Fa(Ua(Fb)));Fa.pointRadius(v);return za.modifies(mb)}});gb.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",
required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};ka.inherits(gb,h.Transform,{transform(v,ca){function za(vc){const yc=Fa([Ua(vc),mb(vc)]);yc?(vc[Fb]=yc[0],vc[Kb]=yc[1]):(vc[Fb]=void 0,vc[Kb]=void 0)}var Fa=v.projection,Ua=v.fields[0],mb=v.fields[1],Mb=v.as||["x","y"],Fb=Mb[0],Kb=Mb[1];v.modified()?ca=ca.materialize().reflow(!0).visit(ca.SOURCE,za):(v=ca.modified(Ua.fields)||ca.modified(mb.fields),ca.visit(v?ca.ADD_MOD:
ca.ADD,za));return ca.modifies(Mb)}});V.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};ka.inherits(V,h.Transform,{transform(v,ca){ca=ca.fork(ca.ALL);var za=this.value,Fa=v.as||"shape",Ua=ca.ADD;if(!za||v.modified())this.value=za=aa(zb.getProjectionPath(v.projection),v.field||ka.field("datum"),v.pointRadius),
ca.materialize().reflow(),Ua=ca.SOURCE;ca.visit(Ua,mb=>mb[Fa]=za);return ca.modifies(Fa)}});var Gb=Math.abs,Cb=Math.ceil;pa.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,
length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};ka.inherits(pa,h.Transform,{transform(v,ca){var za=this.value,Fa=this.generator;if(!za.length||v.modified())for(const Ua in v)if(ka.isFunction(Fa[Ua]))Fa[Ua](v[Ua]);v=Fa();za.length?ca.mod.push(h.replace(za[0],v)):ca.add.push(h.ingest(v));za[0]=v;return ca}});var Xb=1/.7,gc=/^#([0-9a-f]{3,8})$/,wc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
Xc=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Kc=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),na=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Ia=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),hb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),S={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};sa(F,R,{copy(v){return Object.assign(new this.constructor,this,v)},displayable(){return this.rgb().displayable()},hex:L,formatHex:L,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ba(this).formatHsl()},formatRgb:u,toString:u});sa(A,N,m(F,{brighter(v){v=null==v?Xb:Math.pow(Xb,v);return new A(this.r*v,this.g*v,this.b*v,this.opacity)},darker(v){v=null==v?.7:Math.pow(.7,v);return new A(this.r*v,this.g*v,this.b*v,this.opacity)},rgb(){return this},
clamp(){return new A(Da(this.r),Da(this.g),Da(this.b),W(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:D,formatHex:D,formatHex8:function(){return`#${P(this.r)}${P(this.g)}${P(this.b)}${P(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:H,toString:H}));sa(Na,function(v,ca,za,Fa){return 1===arguments.length?Ba(v):new Na(v,ca,za,null==Fa?1:Fa)},m(F,{brighter(v){v=null==v?Xb:Math.pow(Xb,v);
return new Na(this.h,this.s,this.l*v,this.opacity)},darker(v){v=null==v?.7:Math.pow(.7,v);return new Na(this.h,this.s,this.l*v,this.opacity)},rgb(){var v=this.h%360+360*(0>this.h),ca=isNaN(v)||isNaN(this.s)?0:this.s,za=this.l;ca=za+(.5>za?za:1-za)*ca;za=2*za-ca;return new A(xb(240<=v?v-240:v+120,za,ca),xb(v,za,ca),xb(120>v?v+240:v-120,za,ca),this.opacity)},clamp(){return new Na(Qa(this.h),eb(this.s),eb(this.l),W(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&
1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const v=W(this.opacity);return`${1===v?"hsl(":"hsla("}${Qa(this.h)}, ${100*eb(this.s)}%, ${100*eb(this.l)}%${1===v?")":`, ${v})`}`}}));kb.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};ka.inherits(kb,
h.Transform,{transform(v,ca){if(!ca.changed()&&!v.modified())return ca.StopPropagation;var za=ca.materialize(ca.SOURCE).source,Fa="shared"===v.resolve,Ua=v.field||ka.identity,mb=X(v.opacity,v),Mb=Sb(v.color,v),Fb=v.as||"image",Kb={$x:0,$y:0,$value:0,$max:Fa?jc(za.map(vc=>jc(Ua(vc).values))):0};za.forEach(vc=>{const yc=Ua(vc),Ic=ka.extend({},vc,Kb);Fa||(Ic.$max=jc(yc.values||[]));vc[Fb]=Nb(yc,Ic,Mb.dep?Mb:ka.constant(Mb(Ic)),mb.dep?mb:ka.constant(mb(Ic)))});return ca.reflow(!0).modifies(Fb)}});ka.inherits(nc,
h.Transform,{transform(v,ca){let za=this.value;!za||v.modified("type")?(this.value=za=Jb(v.type),zb.projectionProperties.forEach(Fa=>{if(null!=v[Fa]){var Ua=za,mb=v[Fa];if(ka.isFunction(Ua[Fa]))Ua[Fa](mb)}})):zb.projectionProperties.forEach(Fa=>{if(v.modified(Fa)){var Ua=za,mb=v[Fa];if(ka.isFunction(Ua[Fa]))Ua[Fa](mb)}});null!=v.pointRadius&&za.path.pointRadius(v.pointRadius);v.fit&&Wb(za,v);return ca.fork(ca.NO_SOURCE|ca.NO_FIELDS)}});w.contour=ib;w.geojson=cb;w.geopath=tb;w.geopoint=gb;w.geoshape=
V;w.graticule=pa;w.heatmap=kb;w.isocontour=vb;w.kde2d=Ra;w.projection=nc})};
shadow$provide[39]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(29),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega))})(this,function(w,h,ka){function Za(P,ja,Ba,Na){if(isNaN(ja)||isNaN(Ba))return P;var Qa,eb=P._root;Na={data:Na};var xb=P._x0,kb=P._y0,Sb=P._x1,X=P._y1,Ha,Nb,nc,Wb,Jb;if(!eb)return P._root=
Na,P;for(;eb.length;)if((nc=ja>=(Ha=(xb+Sb)/2))?xb=Ha:Sb=Ha,(Wb=Ba>=(Nb=(kb+X)/2))?kb=Nb:X=Nb,Qa=eb,!(eb=eb[Jb=Wb<<1|nc]))return Qa[Jb]=Na,P;var Lb=+P._x.call(null,eb.data);var sc=+P._y.call(null,eb.data);if(ja===Lb&&Ba===sc)return Na.next=eb,Qa?Qa[Jb]=Na:P._root=Na,P;do Qa=Qa?Qa[Jb]=Array(4):P._root=Array(4),(nc=ja>=(Ha=(xb+Sb)/2))?xb=Ha:Sb=Ha,(Wb=Ba>=(Nb=(kb+X)/2))?kb=Nb:X=Nb;while((Jb=Wb<<1|nc)===(nc=(sc>=Nb)<<1|Lb>=Ha));return Qa[nc]=eb,Qa[Jb]=Na,P}function zb(P,ja,Ba,Na,Qa){this.node=P;this.x0=
ja;this.y0=Ba;this.x1=Na;this.y1=Qa}function Vb(P){return P[0]}function Zb(P){return P[1]}function Ub(P,ja,Ba){ja=new jc(null==ja?Vb:ja,null==Ba?Zb:Ba,NaN,NaN,NaN,NaN);return null==P?ja:ja.addAll(P)}function jc(P,ja,Ba,Na,Qa,eb){this._x=P;this._y=ja;this._x0=Ba;this._y0=Na;this._x1=Qa;this._y1=eb;this._root=void 0}function Bb(P){for(var ja={data:P.data},Ba=ja;P=P.next;)Ba=Ba.next={data:P.data};return ja}function Rb(P){return function(){return P}}function ec(P){return P.x+P.vx}function Ea(P){return P.y+
P.vy}function $a(P){return P.index}function vb(P,ja){P=P.get(ja);if(!P)throw Error("node not found: "+ja);return P}function ub(){for(var P=0,ja=arguments.length,Ba={},Na;P<ja;++P){if(!(Na=arguments[P]+"")||Na in Ba||/[\s.]/.test(Na))throw Error("illegal type: "+Na);Ba[Na]=[]}return new sb(Ba)}function sb(P){this._=P}function wb(P,ja){return P.trim().split(/^|\s+/).map(function(Ba){var Na="",Qa=Ba.indexOf(".");0<=Qa&&(Na=Ba.slice(Qa+1),Ba=Ba.slice(0,Qa));if(Ba&&!ja.hasOwnProperty(Ba))throw Error("unknown type: "+
Ba);return{type:Ba,name:Na}})}function jb(P,ja,Ba){for(var Na=0,Qa=P.length;Na<Qa;++Na)if(P[Na].name===ja){P[Na]=Ma;P=P.slice(0,Na).concat(P.slice(Na+1));break}null!=Ba&&P.push({name:ja,value:Ba});return P}function lc(){R=0}function ta(){this._call=this._time=this._next=null}function ha(P,ja,Ba){var Na=new ta;Na.restart(P,ja,Ba);return Na}function ya(){R=(u=z.now())+B;pa=sa=0;try{R||(N(lc),R=z.now()+B);++pa;for(var P=F,ja;P;)0<=(ja=R-P._time)&&P._call.call(void 0,ja),P=P._next;--pa}finally{pa=0;P=
F;for(var Ba=Infinity;P;)if(P._call){Ba>P._time&&(Ba=P._time);var Na=P;P=P._next}else ja=P._next,P._next=null,P=Na?Na._next=ja:F=ja;L=Na;Wa(Ba);R=0}}function Ra(){var P=z.now(),ja=P-u;1E3<ja&&(B-=ja,u=P)}function Wa(P){pa||(sa&&(sa=clearTimeout(sa)),24<P-R?(Infinity>P&&(sa=setTimeout(ya,P-z.now()-B)),m&&(m=clearInterval(m))):(m||(u=z.now(),m=setInterval(Ra,1E3)),pa=1,N(ya)))}function Ja(){let P=1;return()=>(P=(1664525*P+1013904223)%4294967296)/4294967296}function ib(P){return P.x}function cb(P){return P.y}
function tb(P){function ja(){Ba();Wb.call("tick",eb);xb<kb&&(nc.stop(),Wb.call("end",eb))}function Ba(Lb){var sc,Oc=P.length;void 0===Lb&&(Lb=1);for(var ra=0;ra<Lb;++ra)for(xb+=(X-xb)*Sb,Nb.forEach(function(Ta){Ta(xb)}),sc=0;sc<Oc;++sc){var Eb=P[sc];null==Eb.fx?Eb.x+=Eb.vx*=Ha:(Eb.x=Eb.fx,Eb.vx=0);null==Eb.fy?Eb.y+=Eb.vy*=Ha:(Eb.y=Eb.fy,Eb.vy=0)}return eb}function Na(){for(var Lb=0,sc=P.length,Oc;Lb<sc;++Lb){Oc=P[Lb];Oc.index=Lb;null!=Oc.fx&&(Oc.x=Oc.fx);null!=Oc.fy&&(Oc.y=Oc.fy);if(isNaN(Oc.x)||
isNaN(Oc.y)){var ra=10*Math.sqrt(.5+Lb),Eb=Lb*A;Oc.x=ra*Math.cos(Eb);Oc.y=ra*Math.sin(Eb)}if(isNaN(Oc.vx)||isNaN(Oc.vy))Oc.vx=Oc.vy=0}}function Qa(Lb){Lb.initialize&&Lb.initialize(P,Jb);return Lb}var eb,xb=1,kb=.001,Sb=1-Math.pow(kb,1/300),X=0,Ha=.6,Nb=new Map,nc=ha(ja),Wb=ub("tick","end"),Jb=Ja();null==P&&(P=[]);Na();return eb={tick:Ba,restart:function(){return nc.restart(ja),eb},stop:function(){return nc.stop(),eb},nodes:function(Lb){return arguments.length?(P=Lb,Na(),Nb.forEach(Qa),eb):P},alpha:function(Lb){return arguments.length?
(xb=+Lb,eb):xb},alphaMin:function(Lb){return arguments.length?(kb=+Lb,eb):kb},alphaDecay:function(Lb){return arguments.length?(Sb=+Lb,eb):+Sb},alphaTarget:function(Lb){return arguments.length?(X=+Lb,eb):X},velocityDecay:function(Lb){return arguments.length?(Ha=1-Lb,eb):1-Ha},randomSource:function(Lb){return arguments.length?(Jb=Lb,Nb.forEach(Qa),eb):Jb},force:function(Lb,sc){return 1<arguments.length?(null==sc?Nb.delete(Lb):Nb.set(Lb,Qa(sc)),eb):Nb.get(Lb)},find:function(Lb,sc,Oc){var ra,Eb=P.length;
Oc=null==Oc?Infinity:Oc*Oc;for(ra=0;ra<Eb;++ra){var Ta=P[ra];var yb=Lb-Ta.x;var Gb=sc-Ta.y;yb=yb*yb+Gb*Gb;if(yb<Oc){var Cb=Ta;Oc=yb}}return Cb},on:function(Lb,sc){return 1<arguments.length?(Wb.on(Lb,sc),eb):Wb.on(Lb)}}}function Pb(P){h.Transform.call(this,null,P)}function gb(P,ja){return()=>P.touch(ja).run()}function V(P,ja){P=tb(P);const Ba=P.stop,Na=P.restart;let Qa=!1;P.stopped=()=>Qa;P.restart=()=>(Qa=!1,Na());P.stop=()=>(Qa=!0,Ba());return aa(P,ja,!0).on("end",()=>Qa=!0)}function aa(P,ja,Ba,
Na){var Qa=ka.array(ja.forces),eb;var xb=0;for(eb=H.length;xb<eb;++xb){var kb=H[xb];if("forces"!==kb&&ja.modified(kb))P[kb](ja[kb])}xb=0;for(eb=Qa.length;xb<eb;++xb){var Sb="forces"+xb;if(Ba||ja.modified("forces",xb)){kb=void 0;var X=Qa[xb];ka.hasOwnProperty(D,X.force)||ka.error("Unrecognized force: "+X.force);var Ha=D[X.force]();for(kb in X)ka.isFunction(Ha[kb])&&da(Ha[kb],X[kb],X);kb=Ha}else{if(kb=Na)a:{Ha=kb=void 0;X=Qa[xb];var Nb=Na;for(Ha in X)if(ka.isFunction(kb=X[Ha])&&Nb.modified(ka.accessorFields(kb))){kb=
1;break a}kb=0}kb=kb?P.force(Sb):null}kb&&P.force(Sb,kb)}for(eb=P.numForces||0;xb<eb;++xb)P.force("forces"+xb,null);P.numForces=Qa.length;return P}function da(P,ja,Ba){P(ka.isFunction(ja)?Na=>ja(Na,Ba):ja)}var ia=Ub.prototype=jc.prototype;ia.copy=function(){var P=new jc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ja=this._root,Ba,Na;if(!ja)return P;if(!ja.length)return P._root=Bb(ja),P;for(Ba=[{source:ja,target:P._root=Array(4)}];ja=Ba.pop();)for(var Qa=0;4>Qa;++Qa)if(Na=ja.source[Qa])Na.length?
Ba.push({source:Na,target:ja.target[Qa]=Array(4)}):ja.target[Qa]=Bb(Na);return P};ia.add=function(P){const ja=+this._x.call(null,P),Ba=+this._y.call(null,P);return Za(this.cover(ja,Ba),ja,Ba,P)};ia.addAll=function(P){var ja,Ba,Na=P.length,Qa,eb,xb=Array(Na),kb=Array(Na),Sb=Infinity,X=Infinity,Ha=-Infinity,Nb=-Infinity;for(Ba=0;Ba<Na;++Ba)isNaN(Qa=+this._x.call(null,ja=P[Ba]))||isNaN(eb=+this._y.call(null,ja))||(xb[Ba]=Qa,kb[Ba]=eb,Qa<Sb&&(Sb=Qa),Qa>Ha&&(Ha=Qa),eb<X&&(X=eb),eb>Nb&&(Nb=eb));if(Sb>Ha||
X>Nb)return this;this.cover(Sb,X).cover(Ha,Nb);for(Ba=0;Ba<Na;++Ba)Za(this,xb[Ba],kb[Ba],P[Ba]);return this};ia.cover=function(P,ja){if(isNaN(P=+P)||isNaN(ja=+ja))return this;var Ba=this._x0,Na=this._y0,Qa=this._x1,eb=this._y1;if(isNaN(Ba))Qa=(Ba=Math.floor(P))+1,eb=(Na=Math.floor(ja))+1;else{for(var xb=Qa-Ba||1,kb=this._root,Sb,X;Ba>P||P>=Qa||Na>ja||ja>=eb;)switch(X=(ja<Na)<<1|P<Ba,Sb=Array(4),Sb[X]=kb,kb=Sb,xb*=2,X){case 0:Qa=Ba+xb;eb=Na+xb;break;case 1:Ba=Qa-xb;eb=Na+xb;break;case 2:Qa=Ba+xb;Na=
eb-xb;break;case 3:Ba=Qa-xb,Na=eb-xb}this._root&&this._root.length&&(this._root=kb)}this._x0=Ba;this._y0=Na;this._x1=Qa;this._y1=eb;return this};ia.data=function(){var P=[];this.visit(function(ja){if(!ja.length){do P.push(ja.data);while(ja=ja.next)}});return P};ia.extent=function(P){return arguments.length?this.cover(+P[0][0],+P[0][1]).cover(+P[1][0],+P[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};ia.find=function(P,ja,Ba){var Na=this._x0,Qa=this._y0,eb,xb,kb,Sb,X=this._x1,
Ha=this._y1,Nb=[],nc=this._root,Wb;nc&&Nb.push(new zb(nc,Na,Qa,X,Ha));null==Ba?Ba=Infinity:(Na=P-Ba,Qa=ja-Ba,X=P+Ba,Ha=ja+Ba,Ba*=Ba);for(;Wb=Nb.pop();)if(!(!(nc=Wb.node)||(eb=Wb.x0)>X||(xb=Wb.y0)>Ha||(kb=Wb.x1)<Na||(Sb=Wb.y1)<Qa))if(nc.length){Wb=(eb+kb)/2;var Jb=(xb+Sb)/2;Nb.push(new zb(nc[3],Wb,Jb,kb,Sb),new zb(nc[2],eb,Jb,Wb,Sb),new zb(nc[1],Wb,xb,kb,Jb),new zb(nc[0],eb,xb,Wb,Jb));if(nc=(ja>=Jb)<<1|P>=Wb)Wb=Nb[Nb.length-1],Nb[Nb.length-1]=Nb[Nb.length-1-nc],Nb[Nb.length-1-nc]=Wb}else if(Wb=P-+this._x.call(null,
nc.data),Jb=ja-+this._y.call(null,nc.data),Wb=Wb*Wb+Jb*Jb,Wb<Ba){var Lb=Math.sqrt(Ba=Wb);Na=P-Lb;Qa=ja-Lb;X=P+Lb;Ha=ja+Lb;Lb=nc.data}return Lb};ia.remove=function(P){if(isNaN(Sb=+this._x.call(null,P))||isNaN(X=+this._y.call(null,P)))return this;var ja,Ba=this._root,Na,Qa=this._x0,eb=this._y0,xb=this._x1,kb=this._y1,Sb,X,Ha,Nb,nc,Wb,Jb;if(!Ba)return this;if(Ba.length)for(;;){(nc=Sb>=(Ha=(Qa+xb)/2))?Qa=Ha:xb=Ha;(Wb=X>=(Nb=(eb+kb)/2))?eb=Nb:kb=Nb;if(!(ja=Ba,Ba=Ba[Jb=Wb<<1|nc]))return this;if(!Ba.length)break;
if(ja[Jb+1&3]||ja[Jb+2&3]||ja[Jb+3&3]){var Lb=ja;var sc=Jb}}for(;Ba.data!==P;)if(!(Na=Ba,Ba=Ba.next))return this;(P=Ba.next)&&delete Ba.next;if(Na)return P?Na.next=P:delete Na.next,this;if(!ja)return this._root=P,this;P?ja[Jb]=P:delete ja[Jb];(Ba=ja[0]||ja[1]||ja[2]||ja[3])&&Ba===(ja[3]||ja[2]||ja[1]||ja[0])&&!Ba.length&&(Lb?Lb[sc]=Ba:this._root=Ba);return this};ia.removeAll=function(P){for(var ja=0,Ba=P.length;ja<Ba;++ja)this.remove(P[ja]);return this};ia.root=function(){return this._root};ia.size=
function(){var P=0;this.visit(function(ja){if(!ja.length){do++P;while(ja=ja.next)}});return P};ia.visit=function(P){var ja=[],Ba,Na=this._root,Qa,eb,xb,kb,Sb;for(Na&&ja.push(new zb(Na,this._x0,this._y0,this._x1,this._y1));Ba=ja.pop();)if(!P(Na=Ba.node,eb=Ba.x0,xb=Ba.y0,kb=Ba.x1,Sb=Ba.y1)&&Na.length){Ba=(eb+kb)/2;var X=(xb+Sb)/2;(Qa=Na[3])&&ja.push(new zb(Qa,Ba,X,kb,Sb));(Qa=Na[2])&&ja.push(new zb(Qa,eb,X,Ba,Sb));(Qa=Na[1])&&ja.push(new zb(Qa,Ba,xb,kb,X));(Qa=Na[0])&&ja.push(new zb(Qa,eb,xb,Ba,X))}return this};
ia.visitAfter=function(P){var ja=[],Ba=[],Na;for(this._root&&ja.push(new zb(this._root,this._x0,this._y0,this._x1,this._y1));Na=ja.pop();){var Qa=Na.node;if(Qa.length){var eb,xb=Na.x0,kb=Na.y0,Sb=Na.x1,X=Na.y1,Ha=(xb+Sb)/2,Nb=(kb+X)/2;(eb=Qa[0])&&ja.push(new zb(eb,xb,kb,Ha,Nb));(eb=Qa[1])&&ja.push(new zb(eb,Ha,kb,Sb,Nb));(eb=Qa[2])&&ja.push(new zb(eb,xb,Nb,Ha,X));(eb=Qa[3])&&ja.push(new zb(eb,Ha,Nb,Sb,X))}Ba.push(Na)}for(;Na=Ba.pop();)P(Na.node,Na.x0,Na.y0,Na.x1,Na.y1);return this};ia.x=function(P){return arguments.length?
(this._x=P,this):this._x};ia.y=function(P){return arguments.length?(this._y=P,this):this._y};var Ma={value:()=>{}};sb.prototype=ub.prototype={constructor:sb,on:function(P,ja){var Ba=this._,Na=wb(P+"",Ba),Qa,eb=-1,xb=Na.length;if(2>arguments.length)for(;++eb<xb;){var kb;if(kb=Qa=(P=Na[eb]).type){a:{kb=Ba[Qa];for(var Sb=0,X=kb.length;Sb<X;++Sb)if((Qa=kb[Sb]).name===P.name){Qa=Qa.value;break a}Qa=void 0}kb=Qa}if(kb)return Qa}else{if(null!=ja&&"function"!==typeof ja)throw Error("invalid callback: "+ja);
for(;++eb<xb;)if(Qa=(P=Na[eb]).type)Ba[Qa]=jb(Ba[Qa],P.name,ja);else if(null==ja)for(Qa in Ba)Ba[Qa]=jb(Ba[Qa],P.name,null);return this}},copy:function(){var P={},ja=this._,Ba;for(Ba in ja)P[Ba]=ja[Ba].slice();return new sb(P)},call:function(P,ja){if(0<(Qa=arguments.length-2))for(var Ba=Array(Qa),Na=0,Qa,eb;Na<Qa;++Na)Ba[Na]=arguments[Na+2];if(!this._.hasOwnProperty(P))throw Error("unknown type: "+P);eb=this._[P];Na=0;for(Qa=eb.length;Na<Qa;++Na)eb[Na].value.apply(ja,Ba)},apply:function(P,ja,Ba){if(!this._.hasOwnProperty(P))throw Error("unknown type: "+
P);P=this._[P];for(var Na=0,Qa=P.length;Na<Qa;++Na)P[Na].value.apply(ja,Ba)}};var pa=0,sa=0,m=0,F,L,u=0,R=0,B=0,z="object"===typeof performance&&performance.now?performance:Date,N="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(P){setTimeout(P,17)};ta.prototype=ha.prototype={constructor:ta,restart:function(P,ja,Ba){if("function"!==typeof P)throw new TypeError("callback is not a function");Ba=(null==Ba?R||(N(lc),R=z.now()+B):+Ba)+(null==ja?
0:+ja);this._next||L===this||(L?L._next=this:F=this,L=this);this._call=P;this._time=Ba;Wa()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Wa())}};var A=Math.PI*(3-Math.sqrt(5));const D={center:function(P,ja){function Ba(){var eb,xb=Na.length,kb=0,Sb=0;for(eb=0;eb<xb;++eb){var X=Na[eb];kb+=X.x;Sb+=X.y}kb=(kb/xb-P)*Qa;Sb=(Sb/xb-ja)*Qa;for(eb=0;eb<xb;++eb)X=Na[eb],X.x-=kb,X.y-=Sb}var Na,Qa=1;null==P&&(P=0);null==ja&&(ja=0);Ba.initialize=function(eb){Na=eb};Ba.x=function(eb){return arguments.length?
(P=+eb,Ba):P};Ba.y=function(eb){return arguments.length?(ja=+eb,Ba):ja};Ba.strength=function(eb){return arguments.length?(Qa=+eb,Ba):Qa};return Ba},collide:function(P){function ja(){function X(Eb,Ta,yb,Gb,Cb){var Xb=Eb.data;Eb=Eb.r;var gc=sc+Eb;if(Xb)Xb.index>Wb.index&&(Ta=Jb-Xb.x-Xb.vx,yb=Lb-Xb.y-Xb.vy,Gb=Ta*Ta+yb*yb,Gb<gc*gc&&(0===Ta&&(Ta=1E-6*(xb()-.5),Gb+=Ta*Ta),0===yb&&(yb=1E-6*(xb()-.5),Gb+=yb*yb),Gb=(gc-(Gb=Math.sqrt(Gb)))/Gb*kb,Wb.vx+=(Ta*=Gb)*(gc=(Eb*=Eb)/(Oc+Eb)),Wb.vy+=(yb*=Gb)*gc,Xb.vx-=
Ta*(gc=1-gc),Xb.vy-=yb*gc));else return Ta>Jb+gc||Gb<Jb-gc||yb>Lb+gc||Cb<Lb-gc}for(var Ha,Nb=Qa.length,nc,Wb,Jb,Lb,sc,Oc,ra=0;ra<Sb;++ra)for(nc=Ub(Qa,ec,Ea).visitAfter(Ba),Ha=0;Ha<Nb;++Ha)Wb=Qa[Ha],sc=eb[Wb.index],Oc=sc*sc,Jb=Wb.x+Wb.vx,Lb=Wb.y+Wb.vy,nc.visit(X)}function Ba(X){if(X.data)return X.r=eb[X.data.index];for(var Ha=X.r=0;4>Ha;++Ha)X[Ha]&&X[Ha].r>X.r&&(X.r=X[Ha].r)}function Na(){if(Qa){var X,Ha=Qa.length;eb=Array(Ha);for(X=0;X<Ha;++X){var Nb=Qa[X];eb[Nb.index]=+P(Nb,X,Qa)}}}var Qa,eb,xb,
kb=1,Sb=1;"function"!==typeof P&&(P=Rb(null==P?1:+P));ja.initialize=function(X,Ha){Qa=X;xb=Ha;Na()};ja.iterations=function(X){return arguments.length?(Sb=+X,ja):Sb};ja.strength=function(X){return arguments.length?(kb=+X,ja):kb};ja.radius=function(X){return arguments.length?(P="function"===typeof X?X:Rb(+X),Na(),ja):P};return ja},nbody:function(){function P(Wb){var Jb=Qa.length,Lb=Ub(Qa,ib,cb).visitAfter(Ba);kb=Wb;for(Wb=0;Wb<Jb;++Wb)eb=Qa[Wb],Lb.visit(Na)}function ja(){if(Qa){var Wb,Jb=Qa.length;
X=Array(Jb);for(Wb=0;Wb<Jb;++Wb){var Lb=Qa[Wb];X[Lb.index]=+Sb(Lb,Wb,Qa)}}}function Ba(Wb){var Jb=0,Lb,sc,Oc=0,ra,Eb,Ta;if(Wb.length){for(ra=Eb=Ta=0;4>Ta;++Ta)(Lb=Wb[Ta])&&(sc=Math.abs(Lb.value))&&(Jb+=Lb.value,Oc+=sc,ra+=sc*Lb.x,Eb+=sc*Lb.y);Wb.x=ra/Oc;Wb.y=Eb/Oc}else{Lb=Wb;Lb.x=Lb.data.x;Lb.y=Lb.data.y;do Jb+=X[Lb.data.index];while(Lb=Lb.next)}Wb.value=Jb}function Na(Wb,Jb,Lb,sc){if(!Wb.value)return!0;Lb=Wb.x-eb.x;var Oc=Wb.y-eb.y;Jb=sc-Jb;sc=Lb*Lb+Oc*Oc;if(Jb*Jb/nc<sc)return sc<Nb&&(0===Lb&&(Lb=
1E-6*(xb()-.5),sc+=Lb*Lb),0===Oc&&(Oc=1E-6*(xb()-.5),sc+=Oc*Oc),sc<Ha&&(sc=Math.sqrt(Ha*sc)),eb.vx+=Lb*Wb.value*kb/sc,eb.vy+=Oc*Wb.value*kb/sc),!0;if(!(Wb.length||sc>=Nb)){if(Wb.data!==eb||Wb.next)0===Lb&&(Lb=1E-6*(xb()-.5),sc+=Lb*Lb),0===Oc&&(Oc=1E-6*(xb()-.5),sc+=Oc*Oc),sc<Ha&&(sc=Math.sqrt(Ha*sc));do Wb.data!==eb&&(Jb=X[Wb.data.index]*kb/sc,eb.vx+=Lb*Jb,eb.vy+=Oc*Jb);while(Wb=Wb.next)}}var Qa,eb,xb,kb,Sb=Rb(-30),X,Ha=1,Nb=Infinity,nc=.81;P.initialize=function(Wb,Jb){Qa=Wb;xb=Jb;ja()};P.strength=
function(Wb){return arguments.length?(Sb="function"===typeof Wb?Wb:Rb(+Wb),ja(),P):Sb};P.distanceMin=function(Wb){return arguments.length?(Ha=Wb*Wb,P):Math.sqrt(Ha)};P.distanceMax=function(Wb){return arguments.length?(Nb=Wb*Wb,P):Math.sqrt(Nb)};P.theta=function(Wb){return arguments.length?(nc=Wb*Wb,P):Math.sqrt(nc)};return P},link:function(P){function ja(Lb){for(var sc=0,Oc=P.length;sc<Jb;++sc)for(var ra=0,Eb,Ta,yb,Gb,Cb;ra<Oc;++ra)Eb=P[ra],Ta=Eb.source,Eb=Eb.target,yb=Eb.x+Eb.vx-Ta.x-Ta.vx||1E-6*
(Wb()-.5),Gb=Eb.y+Eb.vy-Ta.y-Ta.vy||1E-6*(Wb()-.5),Cb=Math.sqrt(yb*yb+Gb*Gb),Cb=(Cb-X[ra])/Cb*Lb*kb[ra],yb*=Cb,Gb*=Cb,Eb.vx-=yb*(Cb=nc[ra]),Eb.vy-=Gb*Cb,Ta.vx+=yb*(Cb=1-Cb),Ta.vy+=Gb*Cb}function Ba(){if(Ha){var Lb=Ha.length,sc=P.length,Oc=new Map(Ha.map((Eb,Ta)=>[eb(Eb,Ta,Ha),Eb]));var ra=0;for(Nb=Array(Lb);ra<sc;++ra)Lb=P[ra],Lb.index=ra,"object"!==typeof Lb.source&&(Lb.source=vb(Oc,Lb.source)),"object"!==typeof Lb.target&&(Lb.target=vb(Oc,Lb.target)),Nb[Lb.source.index]=(Nb[Lb.source.index]||0)+
1,Nb[Lb.target.index]=(Nb[Lb.target.index]||0)+1;ra=0;for(nc=Array(sc);ra<sc;++ra)Lb=P[ra],nc[ra]=Nb[Lb.source.index]/(Nb[Lb.source.index]+Nb[Lb.target.index]);kb=Array(sc);Na();X=Array(sc);Qa()}}function Na(){if(Ha)for(var Lb=0,sc=P.length;Lb<sc;++Lb)kb[Lb]=+xb(P[Lb],Lb,P)}function Qa(){if(Ha)for(var Lb=0,sc=P.length;Lb<sc;++Lb)X[Lb]=+Sb(P[Lb],Lb,P)}var eb=$a,xb=function(Lb){return 1/Math.min(Nb[Lb.source.index],Nb[Lb.target.index])},kb,Sb=Rb(30),X,Ha,Nb,nc,Wb,Jb=1;null==P&&(P=[]);ja.initialize=
function(Lb,sc){Ha=Lb;Wb=sc;Ba()};ja.links=function(Lb){return arguments.length?(P=Lb,Ba(),ja):P};ja.id=function(Lb){return arguments.length?(eb=Lb,ja):eb};ja.iterations=function(Lb){return arguments.length?(Jb=+Lb,ja):Jb};ja.strength=function(Lb){return arguments.length?(xb="function"===typeof Lb?Lb:Rb(+Lb),Na(),ja):xb};ja.distance=function(Lb){return arguments.length?(Sb="function"===typeof Lb?Lb:Rb(+Lb),Qa(),ja):Sb};return ja},x:function(P){function ja(kb){for(var Sb=0,X=Qa.length,Ha;Sb<X;++Sb)Ha=
Qa[Sb],Ha.vx+=(xb[Sb]-Ha.x)*eb[Sb]*kb}function Ba(){if(Qa){var kb,Sb=Qa.length;eb=Array(Sb);xb=Array(Sb);for(kb=0;kb<Sb;++kb)eb[kb]=isNaN(xb[kb]=+P(Qa[kb],kb,Qa))?0:+Na(Qa[kb],kb,Qa)}}var Na=Rb(.1),Qa,eb,xb;"function"!==typeof P&&(P=Rb(null==P?0:+P));ja.initialize=function(kb){Qa=kb;Ba()};ja.strength=function(kb){return arguments.length?(Na="function"===typeof kb?kb:Rb(+kb),Ba(),ja):Na};ja.x=function(kb){return arguments.length?(P="function"===typeof kb?kb:Rb(+kb),Ba(),ja):P};return ja},y:function(P){function ja(kb){for(var Sb=
0,X=Qa.length,Ha;Sb<X;++Sb)Ha=Qa[Sb],Ha.vy+=(xb[Sb]-Ha.y)*eb[Sb]*kb}function Ba(){if(Qa){var kb,Sb=Qa.length;eb=Array(Sb);xb=Array(Sb);for(kb=0;kb<Sb;++kb)eb[kb]=isNaN(xb[kb]=+P(Qa[kb],kb,Qa))?0:+Na(Qa[kb],kb,Qa)}}var Na=Rb(.1),Qa,eb,xb;"function"!==typeof P&&(P=Rb(null==P?0:+P));ja.initialize=function(kb){Qa=kb;Ba()};ja.strength=function(kb){return arguments.length?(Na="function"===typeof kb?kb:Rb(+kb),Ba(),ja):Na};ja.y=function(kb){return arguments.length?(P="function"===typeof kb?kb:Rb(+kb),Ba(),
ja):P};return ja}},H=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],W=["static","iterations"],Da=["x","y","vx","vy"];Pb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},
{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",
type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":Da}]};ka.inherits(Pb,
h.Transform,{transform(P,ja){var Ba=this.value,Na=ja.changed(ja.ADD_REM),Qa=P.modified(H),eb=P.iterations||300;Ba?(Na&&(ja.modifies("index"),Ba.nodes(ja.source)),(Qa||ja.changed(ja.MOD))&&aa(Ba,P,0,ja)):(this.value=Ba=V(ja.source,P),Ba.on("tick",gb(ja.dataflow,this)),P.static||(Na=!0,Ba.tick()),ja.modifies("index"));if(Qa||Na||P.modified(W)||ja.changed()&&P.restart)if(Ba.alpha(Math.max(Ba.alpha(),P.alpha||1)).alphaDecay(1-Math.pow(Ba.alphaMin(),1/eb)),P.static)for(Ba.stop();0<=--eb;)Ba.tick();else if(Ba.stopped()&&
Ba.restart(),!Na)return ja.StopPropagation;return this.finish(P,ja)},finish(P,ja){const Ba=ja.dataflow;for(let kb=this._argops,Sb=0,X=kb.length,Ha;Sb<X;++Sb)if(Ha=kb[Sb],"forces"===Ha.name&&"link"===Ha.op._argval.force)for(var Na=Ha.op._argops,Qa=0,eb=Na.length,xb;Qa<eb;++Qa)if("links"===Na[Qa].name&&(xb=Na[Qa].op.source)){Ba.pulse(xb,Ba.changeset().reflow());break}return ja.reflow(P.modified()).modifies(Da)}});w.force=Pb})};
shadow$provide[40]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(29),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega))})(this,function(w,h,ka){function Za(ra,Eb,Ta){const yb={};ra.each(Gb=>{const Cb=Gb.data;Ta(Cb)&&(yb[Eb(Cb)]=Gb)});ra.lookup=yb;return ra}function zb(ra,Eb){return ra.parent===Eb.parent?1:2}function Vb(ra,Eb){return ra+
Eb.x}function Zb(ra,Eb){return Math.max(ra,Eb.y)}function Ub(ra){for(var Eb;Eb=ra.children;)ra=Eb[0];return ra}function jc(ra){for(var Eb;Eb=ra.children;)ra=Eb[Eb.length-1];return ra}function Bb(ra){var Eb=0,Ta=ra.children,yb=Ta&&Ta.length;if(yb)for(;0<=--yb;)Eb+=Ta[yb].value;else Eb=1;ra.value=Eb}function Rb(ra,Eb){ra instanceof Map?(ra=[void 0,ra],void 0===Eb&&(Eb=Ea)):void 0===Eb&&(Eb=ec);ra=new ub(ra);for(var Ta,yb=[ra],Gb,Cb,Xb,gc;Ta=yb.pop();)if((Cb=Eb(Ta.data))&&(gc=(Cb=Array.from(Cb)).length))for(Ta.children=
Cb,Xb=gc-1;0<=Xb;--Xb)yb.push(Gb=Cb[Xb]=new ub(Cb[Xb])),Gb.parent=Ta,Gb.depth=Ta.depth+1;return ra.eachBefore(vb)}function ec(ra){return ra.children}function Ea(ra){return Array.isArray(ra)?ra[1]:null}function $a(ra){void 0!==ra.data.value&&(ra.value=ra.data.value);ra.data=ra.data.data}function vb(ra){var Eb=0;do ra.height=Eb;while((ra=ra.parent)&&ra.height<++Eb)}function ub(ra){this.data=ra;this.depth=this.height=0;this.parent=null}function sb(ra){if("function"!==typeof ra)throw Error();return ra}
function wb(){return 0}function jb(ra){return function(){return ra}}function lc(){let ra=1;return()=>(ra=(1664525*ra+1013904223)%4294967296)/4294967296}function ta(ra,Eb){var Ta=ra.r-Eb.r,yb=Eb.x-ra.x;ra=Eb.y-ra.y;return 0>Ta||Ta*Ta<yb*yb+ra*ra}function ha(ra,Eb){var Ta=ra.r-Eb.r+1E-9*Math.max(ra.r,Eb.r,1),yb=Eb.x-ra.x;ra=Eb.y-ra.y;return 0<Ta&&Ta*Ta>yb*yb+ra*ra}function ya(ra,Eb){for(var Ta=0;Ta<Eb.length;++Ta)if(!ha(ra,Eb[Ta]))return!1;return!0}function Ra(ra,Eb){var Ta=ra.x,yb=ra.y;ra=ra.r;var Gb=
Eb.x,Cb=Eb.y;Eb=Eb.r;var Xb=Gb-Ta,gc=Cb-yb,wc=Eb-ra,Xc=Math.sqrt(Xb*Xb+gc*gc);return{x:(Ta+Gb+Xb/Xc*wc)/2,y:(yb+Cb+gc/Xc*wc)/2,r:(Xc+ra+Eb)/2}}function Wa(ra,Eb,Ta){var yb=ra.x,Gb=ra.y;ra=ra.r;var Cb=Eb.x,Xb=Eb.y,gc=Eb.r,wc=Ta.x,Xc=Ta.y,Kc=Ta.r;Ta=yb-Cb;Eb=yb-wc;var na=Gb-Xb,Ia=Gb-Xc,hb=gc-ra,S=Kc-ra,v=yb*yb+Gb*Gb-ra*ra;Xb=v-Cb*Cb-Xb*Xb+gc*gc;Xc=v-wc*wc-Xc*Xc+Kc*Kc;wc=Eb*na-Ta*Ia;Cb=(na*Xc-Ia*Xb)/(2*wc)-yb;na=(Ia*hb-na*S)/wc;Ia=(Eb*Xb-Ta*Xc)/(2*wc)-Gb;Ta=(Ta*S-Eb*hb)/wc;Eb=na*na+Ta*Ta-1;hb=2*(ra+
Cb*na+Ia*Ta);ra=Cb*Cb+Ia*Ia-ra*ra;ra=-(1E-6<Math.abs(Eb)?(hb+Math.sqrt(hb*hb-4*Eb*ra))/(2*Eb):ra/hb);return{x:yb+Cb+na*ra,y:Gb+Ia+Ta*ra,r:ra}}function Ja(ra,Eb,Ta){var yb=ra.x-Eb.x,Gb=ra.y-Eb.y,Cb=yb*yb+Gb*Gb;if(Cb){var Xb=Eb.r+Ta.r;Xb*=Xb;var gc=ra.r+Ta.r;gc*=gc;if(Xb>gc){var wc=(Cb+gc-Xb)/(2*Cb);Xb=Math.sqrt(Math.max(0,gc/Cb-wc*wc));Ta.x=ra.x-wc*yb-Xb*Gb;Ta.y=ra.y-wc*Gb+Xb*yb}else wc=(Cb+Xb-gc)/(2*Cb),Xb=Math.sqrt(Math.max(0,Xb/Cb-wc*wc)),Ta.x=Eb.x+wc*yb-Xb*Gb,Ta.y=Eb.y+wc*Gb+Xb*yb}else Ta.x=Eb.x+
Ta.r,Ta.y=Eb.y}function ib(ra,Eb){var Ta=ra.r+Eb.r-1E-6,yb=Eb.x-ra.x;ra=Eb.y-ra.y;return 0<Ta&&Ta*Ta>yb*yb+ra*ra}function cb(ra){var Eb=ra._,Ta=ra.next._,yb=Eb.r+Ta.r;ra=(Eb.x*Ta.r+Ta.x*Eb.r)/yb;Eb=(Eb.y*Ta.r+Ta.y*Eb.r)/yb;return ra*ra+Eb*Eb}function tb(ra){this._=ra;this.previous=this.next=null}function Pb(ra,Eb){if(!(yb=(ra="object"===typeof ra&&"length"in ra?ra:Array.from(ra)).length))return 0;var Ta,yb;var Gb=ra[0];Gb.x=0;Gb.y=0;if(!(1<yb))return Gb.r;var Cb=ra[1];Gb.x=-Cb.r;Cb.x=Gb.r;Cb.y=0;
if(!(2<yb))return Gb.r+Cb.r;Ja(Cb,Gb,Ta=ra[2]);Gb=new tb(Gb);Cb=new tb(Cb);Ta=new tb(Ta);Gb.next=Ta.previous=Cb;Cb.next=Gb.previous=Ta;Ta.next=Cb.previous=Gb;var Xb=3;a:for(;Xb<yb;++Xb){Ja(Gb._,Cb._,Ta=ra[Xb]);Ta=new tb(Ta);var gc=Cb.next;var wc=Gb.previous;var Xc=Cb._.r;var Kc=Gb._.r;do if(Xc<=Kc){if(ib(gc._,Ta._)){Cb=gc;Gb.next=Cb;Cb.previous=Gb;--Xb;continue a}Xc+=gc._.r;gc=gc.next}else{if(ib(wc._,Ta._)){Gb=wc;Gb.next=Cb;Cb.previous=Gb;--Xb;continue a}Kc+=wc._.r;wc=wc.previous}while(gc!==wc.next);
Ta.previous=Gb;Ta.next=Cb;Gb.next=Cb.previous=Cb=Ta;for(gc=cb(Gb);(Ta=Ta.next)!==Cb;)(wc=cb(Ta))<gc&&(Gb=Ta,gc=wc);Cb=Gb.next}Gb=[Cb._];for(Ta=Cb;(Ta=Ta.next)!==Cb;)Gb.push(Ta._);Cb=0;Gb=Array.from(Gb);for(Ta=Gb.length;Ta;)gc=Eb()*Ta--|0,Xb=Gb[Ta],Gb[Ta]=Gb[gc],Gb[gc]=Xb;Gb=(Eb=Gb).length;Ta=[];for(var na;Cb<Gb;)if(Xb=Eb[Cb],na&&ha(na,Xb))++Cb;else{a:if(na=Ta,ya(Xb,na))na=[Xb];else{for(Ta=0;Ta<na.length;++Ta)if(ta(Xb,na[Ta])&&ya(Ra(na[Ta],Xb),na)){na=[na[Ta],Xb];break a}for(Ta=0;Ta<na.length-1;++Ta)for(Cb=
Ta+1;Cb<na.length;++Cb)if(ta(Ra(na[Ta],na[Cb]),Xb)&&ta(Ra(na[Ta],Xb),na[Cb])&&ta(Ra(na[Cb],Xb),na[Ta])&&ya(Wa(na[Ta],na[Cb],Xb),na)){na=[na[Ta],na[Cb],Xb];break a}throw Error();}a:{na=Ta=na;switch(na.length){case 1:na=na[0];na={x:na.x,y:na.y,r:na.r};break a;case 2:na=Ra(na[0],na[1]);break a;case 3:na=Wa(na[0],na[1],na[2]);break a}na=void 0}Cb=0}Ta=na;for(Xb=0;Xb<yb;++Xb)Gb=ra[Xb],Gb.x-=Ta.x,Gb.y-=Ta.y;return Ta.r}function gb(ra){return Math.sqrt(ra.value)}function V(ra){return function(Eb){Eb.children||
(Eb.r=Math.max(0,+ra(Eb)||0))}}function aa(ra,Eb,Ta){return function(yb){if(Gb=yb.children){var Gb,Cb,Xb=Gb.length,gc=ra(yb)*Eb||0;if(gc)for(Cb=0;Cb<Xb;++Cb)Gb[Cb].r+=gc;var wc=Pb(Gb,Ta);if(gc)for(Cb=0;Cb<Xb;++Cb)Gb[Cb].r-=gc;yb.r=wc+gc}}}function da(ra){return function(Eb){var Ta=Eb.parent;Eb.r*=ra;Ta&&(Eb.x=Ta.x+ra*Eb.x,Eb.y=Ta.y+ra*Eb.y)}}function ia(ra){ra.x0=Math.round(ra.x0);ra.y0=Math.round(ra.y0);ra.x1=Math.round(ra.x1);ra.y1=Math.round(ra.y1)}function Ma(ra,Eb,Ta,yb,Gb){var Cb=ra.children,
Xb=-1,gc=Cb.length;for(yb=ra.value&&(yb-Eb)/ra.value;++Xb<gc;)ra=Cb[Xb],ra.y0=Ta,ra.y1=Gb,ra.x0=Eb,ra.x1=Eb+=ra.value*yb}function pa(ra){return ra.id}function sa(ra){return ra.parentId}function m(){function ra(Gb){var Cb=Array.from(Gb),Xb=Eb,gc=Ta,wc,Xc,Kc=new Map;if(null!=yb){const ca=Cb.map((Fa,Ua)=>{Fa=yb(Fa,Ua,Gb);Fa=`${Fa}`;Ua=Fa.length;L(Fa,Ua-1)&&!L(Fa,Ua-2)&&(Fa=Fa.slice(0,-1));return"/"===Fa[0]?Fa:`/${Fa}`}),za=ca.map(F);Xb=(new Set(ca)).add("");for(hb of za)Xb.has(hb)||(Xb.add(hb),ca.push(hb),
za.push(F(hb)),Cb.push(Ha));Xb=(Fa,Ua)=>ca[Ua];gc=(Fa,Ua)=>za[Ua]}var na=0;for(wc=Cb.length;na<wc;++na){var Ia=Cb[na];var hb=Cb[na]=new ub(Ia);if(null!=(Xc=Xb(Ia,na,Gb))&&(Xc+="")){var S=hb.id=Xc;Kc.set(S,Kc.has(S)?X:hb)}null!=(Xc=gc(Ia,na,Gb))&&(Xc+="")&&(hb.parent=Xc)}for(na=0;na<wc;++na)if(hb=Cb[na],Xc=hb.parent){Xb=Kc.get(Xc);if(!Xb)throw Error("missing: "+Xc);if(Xb===X)throw Error("ambiguous: "+Xc);Xb.children?Xb.children.push(hb):Xb.children=[hb];hb.parent=Xb}else{if(v)throw Error("multiple roots");
var v=hb}if(!v)throw Error("no root");if(null!=yb){for(;v.data===Ha&&1===v.children.length;)v=v.children[0],--wc;for(Xc=Cb.length-1;0<=Xc;--Xc){hb=Cb[Xc];if(hb.data!==Ha)break;hb.data=null}}v.parent=Sb;v.eachBefore(function(ca){ca.depth=ca.parent.depth+1;--wc}).eachBefore(vb);v.parent=null;if(0<wc)throw Error("cycle");return v}var Eb=pa,Ta=sa,yb;ra.id=function(Gb){return arguments.length?(Eb=null==Gb?null:sb(Gb),ra):Eb};ra.parentId=function(Gb){return arguments.length?(Ta=null==Gb?null:sb(Gb),ra):
Ta};ra.path=function(Gb){return arguments.length?(yb=null==Gb?null:sb(Gb),ra):yb};return ra}function F(ra){let Eb=ra.length;if(2>Eb)return"";for(;1<--Eb&&!L(ra,Eb););return ra.slice(0,Eb)}function L(ra,Eb){if("/"===ra[Eb]){let Ta=0;for(;0<Eb&&"\\"===ra[--Eb];)++Ta;if(0===(Ta&1))return!0}return!1}function u(ra,Eb){return ra.parent===Eb.parent?1:2}function R(ra){var Eb=ra.children;return Eb?Eb[0]:ra.t}function B(ra){var Eb=ra.children;return Eb?Eb[Eb.length-1]:ra.t}function z(ra,Eb){this._=ra;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Eb}function N(ra){ra=new z(ra,0);for(var Eb,Ta=[ra],yb,Gb,Cb;Eb=Ta.pop();)if(Gb=Eb._.children)for(Eb.children=Array(yb=Gb.length),Cb=yb-1;0<=Cb;--Cb)Ta.push(yb=Eb.children[Cb]=new z(Gb[Cb],Cb)),yb.parent=Eb;(ra.parent=new z(null,0)).children=[ra];return ra}function A(ra,Eb,Ta,yb,Gb){var Cb=ra.children,Xb=-1,gc=Cb.length;for(Gb=ra.value&&(Gb-Ta)/ra.value;++Xb<gc;)ra=Cb[Xb],ra.x0=Eb,ra.x1=yb,ra.y0=Ta,ra.y1=Ta+=
ra.value*Gb}function D(ra,Eb,Ta,yb,Gb,Cb){for(var Xb=[],gc=Eb.children,wc,Xc,Kc=wc=0,na=gc.length,Ia,hb=Eb.value,S,v,ca,za,Fa,Ua;wc<na;){Eb=Gb-Ta;Ia=Cb-yb;do S=gc[Kc++].value;while(!S&&Kc<na);v=ca=S;Ua=Math.max(Ia/Eb,Eb/Ia)/(hb*ra);za=S*S*Ua;for(Fa=Math.max(ca/za,za/v);Kc<na;++Kc){S+=Xc=gc[Kc].value;Xc<v&&(v=Xc);Xc>ca&&(ca=Xc);za=S*S*Ua;za=Math.max(ca/za,za/v);if(za>Fa){S-=Xc;break}Fa=za}Xb.push(wc={value:S,dice:Eb<Ia,children:gc.slice(wc,Kc)});wc.dice?Ma(wc,Ta,yb,Gb,hb?yb+=Ia*S/hb:Cb):A(wc,Ta,yb,
hb?Ta+=Eb*S/hb:Gb,Cb);hb-=S;wc=Kc}return Xb}function H(){function ra(Ia){Ia.x0=Ia.y0=0;Ia.x1=Gb;Ia.y1=Cb;Ia.eachBefore(Eb);Xb=[0];yb&&Ia.eachBefore(ia);return Ia}function Eb(Ia){var hb=Xb[Ia.depth],S=Ia.x0+hb,v=Ia.y0+hb,ca=Ia.x1-hb,za=Ia.y1-hb;ca<S&&(S=ca=(S+ca)/2);za<v&&(v=za=(v+za)/2);Ia.x0=S;Ia.y0=v;Ia.x1=ca;Ia.y1=za;Ia.children&&(hb=Xb[Ia.depth+1]=gc(Ia)/2,S+=na(Ia)-hb,v+=wc(Ia)-hb,ca-=Xc(Ia)-hb,za-=Kc(Ia)-hb,ca<S&&(S=ca=(S+ca)/2),za<v&&(v=za=(v+za)/2),Ta(Ia,S,v,ca,za))}var Ta=nc,yb=!1,Gb=1,Cb=
1,Xb=[0],gc=wb,wc=wb,Xc=wb,Kc=wb,na=wb;ra.round=function(Ia){return arguments.length?(yb=!!Ia,ra):yb};ra.size=function(Ia){return arguments.length?(Gb=+Ia[0],Cb=+Ia[1],ra):[Gb,Cb]};ra.tile=function(Ia){return arguments.length?(Ta=sb(Ia),ra):Ta};ra.padding=function(Ia){return arguments.length?ra.paddingInner(Ia).paddingOuter(Ia):ra.paddingInner()};ra.paddingInner=function(Ia){return arguments.length?(gc="function"===typeof Ia?Ia:jb(+Ia),ra):gc};ra.paddingOuter=function(Ia){return arguments.length?
ra.paddingTop(Ia).paddingRight(Ia).paddingBottom(Ia).paddingLeft(Ia):ra.paddingTop()};ra.paddingTop=function(Ia){return arguments.length?(wc="function"===typeof Ia?Ia:jb(+Ia),ra):wc};ra.paddingRight=function(Ia){return arguments.length?(Xc="function"===typeof Ia?Ia:jb(+Ia),ra):Xc};ra.paddingBottom=function(Ia){return arguments.length?(Kc="function"===typeof Ia?Ia:jb(+Ia),ra):Kc};ra.paddingLeft=function(Ia){return arguments.length?(na="function"===typeof Ia?Ia:jb(+Ia),ra):na};return ra}function W(ra){h.Transform.call(this,
null,ra)}function Da(){function ra(Gb,Cb){if(Cb>=Ta.length)return Gb;const Xb=Gb.length,gc=Ta[Cb++],wc={},Xc={};let Kc=-1,na,Ia,hb;for(;++Kc<Xb;)na=gc(Ia=Gb[Kc])+"",(hb=wc[na])?hb.push(Ia):wc[na]=[Ia];for(na in wc)Xc[na]=ra(wc[na],Cb);return Xc}function Eb(Gb,Cb){if(++Cb>Ta.length)return Gb;const Xb=[];for(const gc in Gb)Xb.push({key:gc,values:Eb(Gb[gc],Cb)});return Xb}const Ta=[],yb={entries:Gb=>Eb(ra(Gb,0),0),key:Gb=>(Ta.push(Gb),yb)};return yb}function P(ra){h.Transform.call(this,null,ra)}function ja(ra,
Eb,Ta){for(let yb,Gb=0,Cb=Eb.length;Gb<Cb;++Gb)if(yb=Eb[Gb],yb in Ta)ra[yb](Ta[yb])}function Ba(ra){P.call(this,ra)}function Na(ra){P.call(this,ra)}function Qa(ra){h.Transform.call(this,null,ra)}function eb(ra){P.call(this,ra)}function xb(ra){h.Transform.call(this,[],ra)}function kb(ra){P.call(this,ra)}ub.prototype=Rb.prototype={constructor:ub,count:function(){return this.eachAfter(Bb)},each:function(ra,Eb){let Ta=-1;for(const yb of this)ra.call(Eb,yb,++Ta,this);return this},eachAfter:function(ra,
Eb){for(var Ta,yb=[this],Gb=[],Cb,Xb,gc=-1;Ta=yb.pop();)if(Gb.push(Ta),Ta=Ta.children)for(Cb=0,Xb=Ta.length;Cb<Xb;++Cb)yb.push(Ta[Cb]);for(;Ta=Gb.pop();)ra.call(Eb,Ta,++gc,this);return this},eachBefore:function(ra,Eb){for(var Ta,yb=[this],Gb,Cb=-1;Ta=yb.pop();)if(ra.call(Eb,Ta,++Cb,this),Ta=Ta.children)for(Gb=Ta.length-1;0<=Gb;--Gb)yb.push(Ta[Gb]);return this},find:function(ra,Eb){let Ta=-1;for(const yb of this)if(ra.call(Eb,yb,++Ta,this))return yb},sum:function(ra){return this.eachAfter(function(Eb){for(var Ta=
+ra(Eb.data)||0,yb=Eb.children,Gb=yb&&yb.length;0<=--Gb;)Ta+=yb[Gb].value;Eb.value=Ta})},sort:function(ra){return this.eachBefore(function(Eb){Eb.children&&Eb.children.sort(ra)})},path:function(ra){var Eb=this;var Ta=Eb;var yb=ra;if(Ta!==yb){var Gb=Ta.ancestors(),Cb=yb.ancestors(),Xb=null;Ta=Gb.pop();for(yb=Cb.pop();Ta===yb;)Xb=Ta,Ta=Gb.pop(),yb=Cb.pop();Ta=Xb}for(yb=[Eb];Eb!==Ta;)Eb=Eb.parent,yb.push(Eb);for(Eb=yb.length;ra!==Ta;)yb.splice(Eb,0,ra),ra=ra.parent;return yb},ancestors:function(){for(var ra=
this,Eb=[ra];ra=ra.parent;)Eb.push(ra);return Eb},descendants:function(){return Array.from(this)},leaves:function(){var ra=[];this.eachBefore(function(Eb){Eb.children||ra.push(Eb)});return ra},links:function(){var ra=this,Eb=[];ra.each(function(Ta){Ta!==ra&&Eb.push({source:Ta.parent,target:Ta})});return Eb},copy:function(){return Rb(this).eachBefore($a)},[Symbol.iterator]:function*(){var ra,Eb=[this],Ta;do{var yb=Eb.reverse();for(Eb=[];ra=yb.pop();)if(yield ra,ra=ra.children){var Gb=0;for(Ta=ra.length;Gb<
Ta;++Gb)Eb.push(ra[Gb])}}while(Eb.length)}};var Sb={depth:-1},X={},Ha={};z.prototype=Object.create(ub.prototype);var Nb=(1+Math.sqrt(5))/2,nc=function Ta(Eb){function yb(Gb,Cb,Xb,gc,wc){D(Eb,Gb,Cb,Xb,gc,wc)}yb.ratio=function(Gb){return Ta(1<(Gb=+Gb)?Gb:1)};return yb}(Nb);Nb=function yb(Ta){function Gb(Cb,Xb,gc,wc,Xc){if((Kc=Cb._squarify)&&Kc.ratio===Ta)for(var Kc,na,Ia,hb=-1,S,v=Kc.length,ca=Cb.value;++hb<v;){Cb=Kc[hb];na=Cb.children;Ia=Cb.value=0;for(S=na.length;Ia<S;++Ia)Cb.value+=na[Ia].value;
Cb.dice?Ma(Cb,Xb,gc,wc,ca?gc+=(Xc-gc)*Cb.value/ca:Xc):A(Cb,Xb,gc,ca?Xb+=(wc-Xb)*Cb.value/ca:wc,Xc);ca-=Cb.value}else Cb._squarify=Kc=D(Ta,Cb,Xb,gc,wc,Xc),Kc.ratio=Ta}Gb.ratio=function(Cb){return yb(1<(Cb=+Cb)?Cb:1)};return Gb}(Nb);W.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Wb=Ta=>Ta.values;ka.inherits(W,h.Transform,{transform(Ta,yb){yb.source||ka.error("Nest transform requires an upstream data source.");
var Gb=Ta.generate,Cb=Ta.modified(),Xb=yb.clone(),gc=this.value;if(!gc||Cb||yb.changed())gc&&gc.each(wc=>{wc.children&&h.isTuple(wc.data)&&Xb.rem.push(wc.data)}),this.value=gc=Rb({values:ka.array(Ta.keys).reduce((wc,Xc)=>{wc.key(Xc);return wc},Da()).entries(Xb.source)},Wb),Gb&&gc.each(wc=>{wc.children&&(wc=h.ingest(wc.data),Xb.add.push(wc),Xb.source.push(wc))}),Za(gc,h.tupleid,h.tupleid);Xb.source.root=gc;return Xb}});const Jb=(Ta,yb)=>Ta.parent===yb.parent?1:2;ka.inherits(P,h.Transform,{transform(Ta,
yb){yb.source&&yb.source.root||ka.error(this.constructor.name+" transform requires a backing tree data source.");const Gb=this.layout(Ta.method),Cb=this.fields,Xb=yb.source.root,gc=Ta.as||Cb;Ta.field?Xb.sum(Ta.field):Xb.count();Ta.sort&&Xb.sort(h.stableCompare(Ta.sort,wc=>wc.data));ja(Gb,this.params,Ta);Gb.separation&&Gb.separation(!1!==Ta.separation?Jb:ka.one);try{this.value=Gb(Xb)}catch(wc){ka.error(wc)}Xb.each(wc=>{const Xc=wc.data,Kc=Cb.length-1;for(let na=0;na<Kc;++na)Xc[gc[na]]=wc[Cb[na]];Xc[gc[Kc]]=
wc.children?wc.children.length:0});return yb.reflow(Ta.modified()).modifies(gc).modifies("leaf")}});var Lb=["x","y","r","depth","children"];Ba.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Lb.length,"default":Lb}]};ka.inherits(Ba,P,{layout:function(){function Ta(gc){const wc=
lc();gc.x=Gb/2;gc.y=Cb/2;yb?gc.eachBefore(V(yb)).eachAfter(aa(Xb,.5,wc)).eachBefore(da(1)):gc.eachBefore(V(gb)).eachAfter(aa(wb,1,wc)).eachAfter(aa(Xb,gc.r/Math.min(Gb,Cb),wc)).eachBefore(da(Math.min(Gb,Cb)/(2*gc.r)));return gc}var yb=null,Gb=1,Cb=1,Xb=wb;Ta.radius=function(gc){return arguments.length?(yb=null==gc?null:sb(gc),Ta):yb};Ta.size=function(gc){return arguments.length?(Gb=+gc[0],Cb=+gc[1],Ta):[Gb,Cb]};Ta.padding=function(gc){return arguments.length?(Xb="function"===typeof gc?gc:jb(+gc),
Ta):Xb};return Ta},params:["radius","size","padding"],fields:Lb});Lb="x0 y0 x1 y1 depth children".split(" ");Na.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Lb.length,"default":Lb}]};ka.inherits(Na,P,{layout:function(){function Ta(wc){var Xc=wc.height+
1;wc.x0=wc.y0=Xb;wc.x1=Gb;wc.y1=Cb/Xc;wc.eachBefore(yb(Cb,Xc));gc&&wc.eachBefore(ia);return wc}function yb(wc,Xc){return function(Kc){Kc.children&&Ma(Kc,Kc.x0,wc*(Kc.depth+1)/Xc,Kc.x1,wc*(Kc.depth+2)/Xc);var na=Kc.x0,Ia=Kc.y0,hb=Kc.x1-Xb,S=Kc.y1-Xb;hb<na&&(na=hb=(na+hb)/2);S<Ia&&(Ia=S=(Ia+S)/2);Kc.x0=na;Kc.y0=Ia;Kc.x1=hb;Kc.y1=S}}var Gb=1,Cb=1,Xb=0,gc=!1;Ta.round=function(wc){return arguments.length?(gc=!!wc,Ta):gc};Ta.size=function(wc){return arguments.length?(Gb=+wc[0],Cb=+wc[1],Ta):[Gb,Cb]};Ta.padding=
function(wc){return arguments.length?(Xb=+wc,Ta):Xb};return Ta},params:["size","round","padding"],fields:Lb});Qa.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ka.inherits(Qa,h.Transform,{transform(Ta,yb){yb.source||ka.error("Stratify transform requires an upstream data source.");let Gb=this.value;const Cb=Ta.modified(),Xb=yb.fork(yb.ALL).materialize(yb.SOURCE);yb=!Gb||Cb||yb.changed(yb.ADD_REM)||yb.modified(Ta.key.fields)||
yb.modified(Ta.parentKey.fields);Xb.source=Xb.source.slice();yb&&(Gb=Xb.source.length?Za(m().id(Ta.key).parentId(Ta.parentKey)(Xb.source),Ta.key,ka.truthy):Za(m()([{}]),Ta.key,Ta.key));Xb.source.root=this.value=Gb;return Xb}});const sc={tidy:function(){function Ta(Kc){var na=N(Kc);na.eachAfter(yb);na.parent.m=-na.z;na.eachBefore(Gb);if(Xc)Kc.eachBefore(Cb);else{var Ia=Kc,hb=Kc,S=Kc;Kc.eachBefore(function(Fa){Fa.x<Ia.x&&(Ia=Fa);Fa.x>hb.x&&(hb=Fa);Fa.depth>S.depth&&(S=Fa)});na=Ia===hb?1:Xb(Ia,hb)/2;
var v=na-Ia.x,ca=gc/(hb.x+na+v),za=wc/(S.depth||1);Kc.eachBefore(function(Fa){Fa.x=(Fa.x+v)*ca;Fa.y=Fa.depth*za})}return Kc}function yb(Kc){var na=Kc.children,Ia=Kc.parent.children,hb=Kc.i?Ia[Kc.i-1]:null;if(na){for(var S=0,v=0,ca=Kc.children,za=ca.length,Fa;0<=--za;)Fa=ca[za],Fa.z+=S,Fa.m+=S,S+=Fa.s+(v+=Fa.c);na=(na[0].z+na[na.length-1].z)/2;hb?(Kc.z=hb.z+Xb(Kc._,hb._),Kc.m=Kc.z-na):Kc.z=na}else hb&&(Kc.z=hb.z+Xb(Kc._,hb._));na=Kc.parent;Ia=Kc.parent.A||Ia[0];if(hb){v=S=Kc;ca=S.parent.children[0];
za=S.m;Fa=v.m;for(var Ua=hb.m,mb=ca.m,Mb;hb=B(hb),S=R(S),hb&&S;){ca=R(ca);v=B(v);v.a=Kc;Mb=hb.z+Ua-S.z-za+Xb(hb._,S._);if(0<Mb){var Fb=hb.a.parent===Kc.parent?hb.a:Ia,Kb=Kc,vc=Mb,yc=vc/(Kb.i-Fb.i);Kb.c-=yc;Kb.s+=vc;Fb.c+=yc;Kb.z+=vc;Kb.m+=vc;za+=Mb;Fa+=Mb}Ua+=hb.m;za+=S.m;mb+=ca.m;Fa+=v.m}hb&&!B(v)&&(v.t=hb,v.m+=Ua-Fa);S&&!R(ca)&&(ca.t=S,ca.m+=za-mb,Ia=Kc)}na.A=Ia}function Gb(Kc){Kc._.x=Kc.z+Kc.parent.m;Kc.m+=Kc.parent.m}function Cb(Kc){Kc.x*=gc;Kc.y=Kc.depth*wc}var Xb=u,gc=1,wc=1,Xc=null;Ta.separation=
function(Kc){return arguments.length?(Xb=Kc,Ta):Xb};Ta.size=function(Kc){return arguments.length?(Xc=!1,gc=+Kc[0],wc=+Kc[1],Ta):Xc?null:[gc,wc]};Ta.nodeSize=function(Kc){return arguments.length?(Xc=!0,gc=+Kc[0],wc=+Kc[1],Ta):Xc?[gc,wc]:null};return Ta},cluster:function(){function Ta(gc){var wc,Xc=0;gc.eachAfter(function(S){var v=S.children;if(v){var ca=v.reduce(Vb,0)/v.length;S.x=ca;S.y=1+v.reduce(Zb,0)}else S.x=wc?Xc+=yb(S,wc):0,S.y=0,wc=S});var Kc=Ub(gc),na=jc(gc),Ia=Kc.x-yb(Kc,na)/2,hb=na.x+yb(na,
Kc)/2;return gc.eachAfter(Xb?function(S){S.x=(S.x-gc.x)*Gb;S.y=(gc.y-S.y)*Cb}:function(S){S.x=(S.x-Ia)/(hb-Ia)*Gb;S.y=(1-(gc.y?S.y/gc.y:1))*Cb})}var yb=zb,Gb=1,Cb=1,Xb=!1;Ta.separation=function(gc){return arguments.length?(yb=gc,Ta):yb};Ta.size=function(gc){return arguments.length?(Xb=!1,Gb=+gc[0],Cb=+gc[1],Ta):Xb?null:[Gb,Cb]};Ta.nodeSize=function(gc){return arguments.length?(Xb=!0,Gb=+gc[0],Cb=+gc[1],Ta):Xb?[Gb,Cb]:null};return Ta}};Lb=["x","y","depth","children"];eb.Definition={type:"Tree",metadata:{tree:!0,
modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Lb.length,"default":Lb}]};ka.inherits(eb,P,{layout(Ta){Ta=Ta||"tidy";if(ka.hasOwnProperty(sc,Ta))return sc[Ta]();ka.error("Unrecognized Tree layout method: "+Ta)},params:["size",
"nodeSize"],fields:Lb});xb.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ka.inherits(xb,h.Transform,{transform(Ta,yb){Ta=this.value;const Gb=yb.source&&yb.source.root,Cb=yb.fork(yb.NO_SOURCE),Xb={};Gb||ka.error("TreeLinks transform requires a tree data source.");yb.changed(yb.ADD_REM)?(Cb.rem=Ta,yb.visit(yb.SOURCE,gc=>Xb[h.tupleid(gc)]=1),Gb.each(gc=>{const wc=gc.data;(gc=gc.parent&&gc.parent.data)&&Xb[h.tupleid(wc)]&&Xb[h.tupleid(gc)]&&Cb.add.push(h.ingest({source:gc,
target:wc}))}),this.value=Cb.add):yb.changed(yb.MOD)&&(yb.visit(yb.MOD,gc=>Xb[h.tupleid(gc)]=1),Ta.forEach(gc=>{(Xb[h.tupleid(gc.source)]||Xb[h.tupleid(gc.target)])&&Cb.mod.push(gc)}));return Cb}});const Oc={binary:function(Ta,yb,Gb,Cb,Xb){function gc(hb,S,v,ca,za,Fa,Ua){if(hb>=S-1)hb=wc[hb],hb.x0=ca,hb.y0=za,hb.x1=Fa,hb.y1=Ua;else{for(var mb=Ia[hb],Mb=v/2+mb,Fb=hb+1,Kb=S-1;Fb<Kb;){var vc=Fb+Kb>>>1;Ia[vc]<Mb?Fb=vc+1:Kb=vc}Mb-Ia[Fb-1]<Ia[Fb]-Mb&&hb+1<Fb&&--Fb;mb=Ia[Fb]-mb;Mb=v-mb;Fa-ca>Ua-za?(v=v?
(ca*Mb+Fa*mb)/v:Fa,gc(hb,Fb,mb,ca,za,v,Ua),gc(Fb,S,Mb,v,za,Fa,Ua)):(v=v?(za*Mb+Ua*mb)/v:Ua,gc(hb,Fb,mb,ca,za,Fa,v),gc(Fb,S,Mb,ca,v,Fa,Ua))}}var wc=Ta.children,Xc,Kc=wc.length,na,Ia=Array(Kc+1);for(Ia[0]=na=Xc=0;Xc<Kc;++Xc)Ia[Xc+1]=na+=wc[Xc].value;gc(0,Kc,Ta.value,yb,Gb,Cb,Xb)},dice:Ma,slice:A,slicedice:function(Ta,yb,Gb,Cb,Xb){(Ta.depth&1?A:Ma)(Ta,yb,Gb,Cb,Xb)},squarify:nc,resquarify:Nb};Nb="x0 y0 x1 y1 depth children".split(" ");kb.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",
type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Nb.length,"default":Nb}]};ka.inherits(kb,P,{layout(){const Ta=H();Ta.ratio=yb=>{const Gb=Ta.tile();Gb.ratio&&Ta.tile(Gb.ratio(yb))};Ta.method=yb=>{ka.hasOwnProperty(Oc,yb)?Ta.tile(Oc[yb]):ka.error("Unrecognized Treemap layout method: "+yb)};return Ta},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:Nb});w.nest=W;w.pack=Ba;w.partition=Na;w.stratify=Qa;w.tree=eb;w.treelinks=xb;w.treemap=kb})};
shadow$provide[41]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(34),ob(32),ob(29),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega,w.vega,w.vega))})(this,function(w,h,ka,Za,zb){function Vb(gb,V){const aa=gb.bitmap();(V||[]).forEach(da=>aa.set(gb(da.boundary[0]),gb(da.boundary[3])));
return[aa,void 0]}function Zb(gb,V,aa,da,ia){const Ma=gb.width,pa=gb.height;da=da||ia;const sa=ka.canvas(Ma,pa).getContext("2d");var m=ka.canvas(Ma,pa).getContext("2d"),F=da&&ka.canvas(Ma,pa).getContext("2d");aa.forEach(H=>Ub(sa,H,!1));Ub(m,V,!1);da&&Ub(F,V,!0);V=new Uint32Array(sa.getImageData(0,0,Ma,pa).data.buffer);aa=new Uint32Array(m.getImageData(0,0,Ma,pa).data.buffer);F=da&&new Uint32Array(F.getImageData(0,0,Ma,pa).data.buffer);m=gb.bitmap();const L=da&&gb.bitmap();let u,R;let B,z,N,A;for(R=
0;R<pa;++R)for(u=0;u<Ma;++u){var D=R*Ma+u;z=V[D]&4278190080;A=aa[D]&4278190080;N=da&&F[D]&4278190080;if(z||N||A)D=gb(u),B=gb(R),ia||!z&&!A||m.set(D,B),da&&(z||N)&&L.set(D,B)}return[m,L]}function Ub(gb,V,aa){if(V.length){var da=V[0].mark.marktype;"group"===da?V.forEach(ia=>{ia.items.forEach(Ma=>Ub(gb,Ma.items,aa))}):h.Marks[da].draw(gb,{items:aa?V.map(jc):V})}}function jc(gb){gb=Za.rederive(gb,{});return gb.stroke&&0!==gb.strokeOpacity||gb.fill&&0!==gb.fillOpacity?Object.assign({},gb,{strokeOpacity:1,
stroke:"#000",fillOpacity:0}):gb}function Bb(gb,V){const aa=new Uint32Array(~~((gb*V+32)/32));return{array:aa,get:(da,ia)=>{da=ia*gb+da;return aa[da>>>5]&1<<(da&31)},set:(da,ia)=>{da=ia*gb+da;aa[da>>>5]|=1<<(da&31)},clear:(da,ia)=>{da=ia*gb+da;aa[da>>>5]&=~(1<<(da&31))},getRange:(da,ia,Ma,pa)=>{let sa,m,F;for(;pa>=ia;--pa){var L=pa*gb+da;sa=pa*gb+Ma;m=L>>>5;F=sa>>>5;if(m===F){if(aa[m]&ta[L&31]&ha[(sa&31)+1])return!0}else{if(aa[m]&ta[L&31]||aa[F]&ha[(sa&31)+1])return!0;for(L=m+1;L<F;++L)if(aa[L])return!0}}return!1},
setRange:(da,ia,Ma,pa)=>{let sa,m,F;for(;ia<=pa;++ia){var L=ia*gb+da;sa=ia*gb+Ma;m=L>>>5;F=sa>>>5;if(m===F)aa[m]|=ta[L&31]&ha[(sa&31)+1];else for(aa[m]|=ta[L&31],aa[F]|=ha[(sa&31)+1],L=m+1;L<F;++L)aa[L]|=4294967295}},clearRange:(da,ia,Ma,pa)=>{let sa,m,F;for(;ia<=pa;++ia){var L=ia*gb+da;sa=ia*gb+Ma;m=L>>>5;F=sa>>>5;if(m===F)aa[m]&=ha[L&31]|ta[(sa&31)+1];else for(aa[m]&=ha[L&31],aa[F]&=ta[(sa&31)+1],L=m+1;L<F;++L)aa[L]&=0}},outOfBounds:(da,ia,Ma,pa)=>0>da||0>ia||pa>=V||Ma>=gb}}function Rb(gb,V,aa){const da=
Math.max(1,Math.sqrt(gb*V/1E6)),ia=~~((gb+2*aa+da)/da),Ma=~~((V+2*aa+da)/da),pa=sa=>~~((sa+aa)/da);pa.invert=sa=>sa*da-aa;pa.bitmap=()=>Bb(ia,Ma);pa.ratio=da;pa.padding=aa;pa.width=gb;pa.height=V;return pa}function ec(gb,V,aa,da,ia,Ma){aa/=2;return 0>gb-aa||gb+aa>ia||0>V-(aa=da/2)||V+aa>Ma}function Ea(gb,V,aa,da,ia,Ma,pa,sa){ia=ia*Ma/(2*da);da=gb(V-ia);V=gb(V+ia);ia=gb(aa-(Ma/=2));gb=gb(aa+Ma);return pa.outOfBounds(da,ia,V,gb)||pa.getRange(da,ia,V,gb)||sa&&sa.getRange(da,ia,V,gb)}function $a(gb,V,
aa,da){const ia=gb.width,Ma=gb.height,pa=V[0],sa=V[1],m=da.length;return function(F){const L=F.boundary,u=F.datum.fontSize;if(0>L[2]||0>L[5]||L[0]>ia||L[3]>Ma)return!1;var R;let B=null!=(R=F.textWidth)?R:0,z;let N,A;let D;let H;let W,Da;for(let nc=0;nc<m;++nc){R=(aa[nc]&3)-1;z=(aa[nc]>>>2&3)-1;var P=0===R&&0===z||0>da[nc];var ja=R&&z?Math.SQRT1_2:1;N=0>da[nc]?-1:1;A=L[1+R]+da[nc]*R*ja;H=L[4+z]+N*u*z/2+da[nc]*z*ja;ja=H-u/2;D=H+u/2;var Ba=gb(A);W=gb(ja);Da=gb(D);if(!B){var Na=Ba;var Qa=W;var eb=Da;
var xb=pa,kb=sa,Sb=P;if(xb.outOfBounds(Na,Qa,Ba,eb)||(Sb&&kb||xb).getRange(Na,Qa,Ba,eb))continue;else B=h.textMetrics.width(F.datum,F.datum.text)}Qa=A+N*B*R/2;A=Qa-B/2;Na=Qa+B/2;Ba=gb(A);eb=gb(Na);xb=Ba;kb=eb;Sb=W;var X=Da,Ha=pa,Nb=sa;if(!Ha.outOfBounds(xb,Sb,kb,X)&&!(P&&Nb||Ha).getRange(xb,Sb,kb,X))return F.x=R?0>R*N?Na:A:Qa,F.y=z?0>z*N?D:ja:H,F.align=Wa[R*N+1],F.baseline=Ja[z*N+1],pa.setRange(Ba,W,eb,Da),!0}return!1}}function vb(gb,V,aa,da,ia,Ma,pa,sa,m,F,L){if(!gb.length)return gb;var u=Math.max(da.length,
ia.length);const R=ub(da,u);ia=sb(ia,u);const B=wb(gb[0].datum);var z="group"===B&&gb[0].datum.items[m].marktype;u="area"===z;const N=jb(B,z,sa,m),A=null===F||Infinity===F;z=u&&"naive"===L;let D=-1,H=-1;sa=gb.map(P=>{const ja=A?h.textMetrics.width(P,P.text):void 0;D=Math.max(D,ja);H=Math.max(H,P.fontSize);return{datum:P,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:N(P),textWidth:ja}});F=null===F||Infinity===F?Math.max(D,H)+Math.max(...da):F;V=Rb(V[0],V[1],F);if(!z){aa&&sa.sort((P,
ja)=>aa(P.datum,ja.datum));var W=!1;for(da=0;da<ia.length&&!W;++da)W=5===ia[da]||0>R[da];gb=(B&&pa||u)&&gb.map(P=>P.datum);W=Ma.length||gb?Zb(V,gb||[],Ma,W,u):Vb(V,pa&&sa)}const Da=u?cb[L](V,W,pa,m):$a(V,W,ia,R);sa.forEach(P=>P.opacity=+Da(P));return sa}function ub(gb,V){const aa=new Float64Array(V),da=gb.length;for(let ia=0;ia<da;++ia)aa[ia]=gb[ia]||0;for(gb=da;gb<V;++gb)aa[gb]=aa[da-1];return aa}function sb(gb,V){const aa=new Int8Array(V),da=gb.length;for(let ia=0;ia<da;++ia)aa[ia]|=ib[gb[ia]];
for(gb=da;gb<V;++gb)aa[gb]=aa[da-1];return aa}function wb(gb){return gb&&gb.mark&&gb.mark.marktype}function jb(gb,V,aa,da){const ia=Ma=>[Ma.x,Ma.x,Ma.x,Ma.y,Ma.y,Ma.y];return gb?"line"===gb||"area"===gb?Ma=>ia(Ma.datum):"line"===V?Ma=>{Ma=Ma.datum.items[da].items;return ia(Ma.length?Ma["start"===aa?0:Ma.length-1]:{x:NaN,y:NaN})}:Ma=>{Ma=Ma.datum.bounds;return[Ma.x1,(Ma.x1+Ma.x2)/2,Ma.x2,Ma.y1,(Ma.y1+Ma.y2)/2,Ma.y2]}:ia}function lc(gb){Za.Transform.call(this,null,gb)}const ta=new Uint32Array(33),ha=
new Uint32Array(33);ha[0]=0;ta[0]=~ha[0];for(let gb=1;32>=gb;++gb)ha[gb]=ha[gb-1]<<1|1,ta[gb]=~ha[gb];const ya=[-1,-1,1,1],Ra=[-1,1,-1,1],Wa=["right","center","left"],Ja=["bottom","middle","top"],ib={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},cb={naive:function(gb,V,aa,da){const ia=gb.width,Ma=gb.height;return function(pa){const sa=pa.datum.datum.items[da].items,m=sa.length,F=pa.datum.fontSize,L=h.textMetrics.width(pa.datum,pa.datum.text);
let u=0;let R,B,z,N,A;for(let H=0;H<m;++H){var D=sa[H].x;B=sa[H].y;R=void 0===sa[H].x2?D:sa[H].x2;z=void 0===sa[H].y2?B:sa[H].y2;N=(D+R)/2;A=(B+z)/2;D=Math.abs(R-D+z-B);D>=u&&(u=D,pa.x=N,pa.y=A)}N=L/2;A=F/2;D=pa.x-N;R=pa.x+N;B=pa.y-A;z=pa.y+A;pa.align="center";0>D&&R<=ia?pa.align="left":0<=D&&ia<R&&(pa.align="right");pa.baseline="middle";0>B&&z<=Ma?pa.baseline="top":0<=B&&Ma<z&&(pa.baseline="bottom");return!0}},"reduced-search":function(gb,V,aa,da){function ia(F,L,u,R,B){F=gb.invert(F);L=gb.invert(L);
let z=u,N=pa,A;if(!ec(F,L,R,B,Ma,pa)&&!Ea(gb,F,L,B,R,z,sa,m)&&!Ea(gb,F,L,B,R,B,sa,null)){for(;1<=N-z;)A=(z+N)/2,Ea(gb,F,L,B,R,A,sa,m)?N=A:z=A;if(z>u)return[F,L,z,!0]}}const Ma=gb.width,pa=gb.height,sa=V[0],m=V[1];return function(F){const L=F.datum.datum.items[da].items,u=L.length,R=F.datum.fontSize,B=h.textMetrics.width(F.datum,F.datum.text);let z=aa?R:0,N=!1,A=!1,D=0;let H;let W;let Da,P,ja,Ba,Na,Qa,eb,xb;for(let Ha=0;Ha<u;++Ha){var kb=L[Ha].x;var Sb=L[Ha].y;H=void 0===L[Ha].x2?kb:L[Ha].x2;W=void 0===
L[Ha].y2?Sb:L[Ha].y2;if(kb>H){var X=kb;kb=H;H=X}Sb>W&&(X=Sb,Sb=W,W=X);P=gb(kb);Ba=gb(H);ja=~~((P+Ba)/2);Na=gb(Sb);eb=gb(W);Qa=~~((Na+eb)/2);for(X=ja;X>=P;--X)for(Da=Qa;Da>=Na;--Da)(xb=ia(X,Da,z,B,R))&&([F.x,F.y,z,N]=xb);for(X=ja;X<=Ba;++X)for(Da=Qa;Da<=eb;++Da)(xb=ia(X,Da,z,B,R))&&([F.x,F.y,z,N]=xb);N||aa||(X=Math.abs(H-kb+W-Sb),kb=(kb+H)/2,Sb=(Sb+W)/2,X>=D&&!ec(kb,Sb,B,R,Ma,pa)&&!Ea(gb,kb,Sb,R,B,R,sa,null)&&(D=X,F.x=kb,F.y=Sb,A=!0))}return N||A?(kb=B/2,Sb=R/2,sa.setRange(gb(F.x-kb),gb(F.y-Sb),gb(F.x+
kb),gb(F.y+Sb)),F.align="center",F.baseline="middle",!0):!1}},floodfill:function(gb,V,aa,da){const ia=gb.width,Ma=gb.height,pa=V[0],sa=V[1],m=gb.bitmap();return function(F){const L=F.datum.datum.items[da].items,u=L.length,R=F.datum.fontSize,B=h.textMetrics.width(F.datum,F.datum.text),z=[];let N=aa?R:0,A=!1,D=!1,H=0,W,Da,P,ja,Ba,Na;var Qa;for(let kb=0;kb<u;++kb){W=L[kb].x;P=L[kb].y;Da=void 0===L[kb].x2?W:L[kb].x2;ja=void 0===L[kb].y2?P:L[kb].y2;for(z.push([gb((W+Da)/2),gb((P+ja)/2)]);z.length;)if([eb,
xb]=z.pop(),!(pa.get(eb,xb)||sa.get(eb,xb)||m.get(eb,xb))){m.set(eb,xb);for(Qa=0;4>Qa;++Qa)Ba=eb+ya[Qa],Na=xb+Ra[Qa],m.outOfBounds(Ba,Na,Ba,Na)||z.push([Ba,Na]);Ba=gb.invert(eb);Na=gb.invert(xb);var eb=N;var xb=Ma;if(!ec(Ba,Na,B,R,ia,Ma)&&!Ea(gb,Ba,Na,R,B,eb,pa,sa)&&!Ea(gb,Ba,Na,R,B,R,pa,null)){for(;1<=xb-eb;)Qa=(eb+xb)/2,Ea(gb,Ba,Na,R,B,Qa,pa,sa)?xb=Qa:eb=Qa;eb>N&&(F.x=Ba,F.y=Na,N=eb,A=!0)}}A||aa||(eb=Math.abs(Da-W+ja-P),Ba=(W+Da)/2,Na=(P+ja)/2,eb>=H&&!ec(Ba,Na,B,R,ia,Ma)&&!Ea(gb,Ba,Na,R,B,R,pa,
null)&&(H=eb,F.x=Ba,F.y=Na,D=!0))}return A||D?(Ba=B/2,Na=R/2,pa.setRange(gb(F.x-Ba),gb(F.y-Na),gb(F.x+Ba),gb(F.y+Na)),F.align="center",F.baseline="middle",!0):!1}}},tb=["x","y","opacity","align","baseline"],Pb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");lc.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Pb},{name:"offset",type:"number",
array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:tb.length,default:tb}]};zb.inherits(lc,Za.Transform,{transform(gb,V){function aa(Ma){Ma=gb[Ma];return zb.isFunction(Ma)&&V.modified(Ma.fields)}
const da=gb.modified();if(da||V.changed(V.ADD_REM)||aa("sort")){gb.size&&2===gb.size.length||zb.error("Size parameter should be specified as a [width, height] array.");var ia=gb.as||tb;vb(V.materialize(V.SOURCE).source||[],gb.size,gb.sort,zb.array(null==gb.offset?1:gb.offset),zb.array(gb.anchor||Pb),gb.avoidMarks||[],!1!==gb.avoidBaseMark,gb.lineAnchor||"end",gb.markIndex||0,void 0===gb.padding?0:gb.padding,gb.method||"naive").forEach(Ma=>{const pa=Ma.datum;pa[ia[0]]=Ma.x;pa[ia[1]]=Ma.y;pa[ia[2]]=
Ma.opacity;pa[ia[3]]=Ma.align;pa[ia[4]]=Ma.baseline});return V.reflow(da).modifies(ia)}}});w.label=lc})};
shadow$provide[42]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(30),ob(29),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega,w.vega))})(this,function(w,h,ka,Za){function zb(jc,Bb){var Rb=[],ec=function(jb){return jb(ub)},Ea;if(null==Bb)Rb.push(jc);else{var $a={};var vb=0;for(Ea=jc.length;vb<Ea;++vb){var ub=jc[vb];
var sb=Bb.map(ec);var wb=$a[sb];wb||($a[sb]=wb=[],wb.dims=sb,Rb.push(wb));wb.push(ub)}}return Rb}function Vb(jc){ka.Transform.call(this,null,jc)}function Zb(jc){ka.Transform.call(this,null,jc)}Vb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Za.inherits(Vb,ka.Transform,{transform(jc,Bb){const Rb=
Bb.fork(Bb.NO_SOURCE|Bb.NO_FIELDS);if(!this.value||Bb.changed()||jc.modified()){Bb=Bb.materialize(Bb.SOURCE).source;Bb=zb(Bb,jc.groupby);const ec=(jc.groupby||[]).map(Za.accessorName),Ea=ec.length,$a=jc.as||[Za.accessorName(jc.x),Za.accessorName(jc.y)],vb=[];Bb.forEach(ub=>{h.regressionLoess(ub,jc.x,jc.y,jc.bandwidth||.3).forEach(sb=>{const wb={};for(let jb=0;jb<Ea;++jb)wb[ec[jb]]=ub.dims[jb];wb[$a[0]]=sb[0];wb[$a[1]]=sb[1];vb.push(ka.ingest(wb))})});this.value&&(Rb.rem=this.value);this.value=Rb.add=
Rb.source=vb}return Rb}});const Ub={constant:h.regressionConstant,linear:h.regressionLinear,log:h.regressionLog,exp:h.regressionExp,pow:h.regressionPow,quad:h.regressionQuad,poly:h.regressionPoly};Zb.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Ub)},{name:"order",type:"number","default":3},{name:"extent",
type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};Za.inherits(Zb,ka.Transform,{transform(jc,Bb){const Rb=Bb.fork(Bb.NO_SOURCE|Bb.NO_FIELDS);if(!this.value||Bb.changed()||jc.modified()){var ec=Bb.materialize(Bb.SOURCE).source;ec=zb(ec,jc.groupby);const Ea=(jc.groupby||[]).map(Za.accessorName),$a=jc.method||"linear",vb=null==jc.order?3:jc.order,ub="poly"===$a?vb:"quad"===$a?2:1,sb=jc.as||[Za.accessorName(jc.x),Za.accessorName(jc.y)],wb=
Ub[$a],jb=[];let lc=jc.extent;Za.hasOwnProperty(Ub,$a)||Za.error("Invalid regression method: "+$a);null!=lc&&"log"===$a&&0>=lc[0]&&(Bb.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),lc=null);ec.forEach(ta=>{if(ta.length<=ub)Bb.dataflow.warn("Skipping regression with more parameters than data points.");else{var ha=wb(ta,jc.x,jc.y,vb);if(jc.params)jb.push(ka.ingest({keys:ta.dims,coef:ha.coef,rSquared:ha.rSquared}));else{var ya=lc||Za.extent(ta,jc.x),Ra=Wa=>{const Ja={};
for(let ib=0;ib<Ea.length;++ib)Ja[Ea[ib]]=ta.dims[ib];Ja[sb[0]]=Wa[0];Ja[sb[1]]=Wa[1];jb.push(ka.ingest(Ja))};"linear"===$a||"constant"===$a?ya.forEach(Wa=>Ra([Wa,ha.predict(Wa)])):h.sampleCurve(ha.predict,ya,25,200).forEach(Ra)}}});this.value&&(Rb.rem=this.value);this.value=Rb.add=Rb.source=jb}return Rb}});w.loess=Vb;w.regression=Zb})};
shadow$provide[43]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(29),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega))})(this,function(w,h,ka){function Za(V,aa,da,ia,Ma){let pa,sa;let m=aa[0],F=ia[0],L=0,u=0;F>m===F>-m?(pa=m,m=aa[++L]):(pa=F,F=ia[++u]);let R=0;if(L<V&&u<da){if(F>m===F>-m){sa=m+pa;
var B=pa-(sa-m);m=aa[++L]}else sa=F+pa,B=pa-(sa-F),F=ia[++u];pa=sa;for(0!==B&&(Ma[R++]=B);L<V&&u<da;)F>m===F>-m?(sa=pa+m,B=sa-pa,B=pa-(sa-B)+(m-B),m=aa[++L]):(sa=pa+F,B=sa-pa,B=pa-(sa-B)+(F-B),F=ia[++u]),pa=sa,0!==B&&(Ma[R++]=B)}for(;L<V;)sa=pa+m,B=sa-pa,B=pa-(sa-B)+(m-B),m=aa[++L],pa=sa,0!==B&&(Ma[R++]=B);for(;u<da;)sa=pa+F,B=sa-pa,B=pa-(sa-B)+(F-B),F=ia[++u],pa=sa,0!==B&&(Ma[R++]=B);if(0!==pa||0===R)Ma[R++]=pa;return R}function zb(V,aa,da,ia,Ma,pa){var sa=(aa-pa)*(da-Ma),m=(V-Ma)*(ia-pa),F=sa-m;
if(0===sa||0===m||0<sa!==0<m)return F;sa=Math.abs(sa+m);if(Math.abs(F)>=3.3306690738754716E-16*sa)return F;{let A;F=V-Ma;const D=da-Ma;m=aa-pa;const H=ia-pa;var L=F*H;var u=134217729*F;var R=u-(u-F);var B=F-R;u=134217729*H;u-=u-H;A=H-u;var z=B*A-(L-R*u-B*u-R*A);var N=m*D;u=134217729*m;R=u-(u-m);B=m-R;u=134217729*D;u-=u-D;A=D-u;u=B*A-(N-R*u-B*u-R*A);B=z-u;R=z-B;sb[0]=z-(B+R)+(R-u);z=L+B;R=z-L;L=L-(z-R)+(B-R);B=L-N;R=L-B;sb[1]=L-(B+R)+(R-N);N=z+B;R=N-z;sb[2]=z-(N-R)+(B-R);sb[3]=N;N=sb[0];for(L=1;4>
L;L++)N+=sb[L];L=2.2204460492503146E-16*sa;N>=L||-N>=L?ia=N:(R=V-F,V=V-(F+R)+(R-Ma),R=da-D,da=da-(D+R)+(R-Ma),R=aa-m,aa=aa-(m+R)+(R-pa),R=ia-H,ia=ia-(H+R)+(R-pa),0===V&&0===aa&&0===da&&0===ia?ia=N:(L=1.1093356479670487E-31*sa+3.3306690738754706E-16*Math.abs(N),N+=F*ia+H*V-(m*da+D*aa),N>=L||-N>=L?ia=N:(L=V*H,u=134217729*V,R=u-(u-V),B=V-R,u=134217729*H,u-=u-H,A=H-u,z=B*A-(L-R*u-B*u-R*A),N=aa*D,u=134217729*aa,R=u-(u-aa),B=aa-R,u=134217729*D,u-=u-D,A=D-u,u=B*A-(N-R*u-B*u-R*A),B=z-u,R=z-B,ta[0]=z-(B+R)+
(R-u),z=L+B,R=z-L,L=L-(z-R)+(B-R),B=L-N,R=L-B,ta[1]=L-(B+R)+(R-N),N=z+B,R=N-z,ta[2]=z-(N-R)+(B-R),ta[3]=N,pa=Za(4,sb,4,ta,wb),L=F*ia,u=134217729*F,R=u-(u-F),B=F-R,u=134217729*ia,u-=u-ia,A=ia-u,z=B*A-(L-R*u-B*u-R*A),N=m*da,u=134217729*m,R=u-(u-m),B=m-R,u=134217729*da,u-=u-da,A=da-u,u=B*A-(N-R*u-B*u-R*A),B=z-u,R=z-B,ta[0]=z-(B+R)+(R-u),z=L+B,R=z-L,L=L-(z-R)+(B-R),B=L-N,R=L-B,ta[1]=L-(B+R)+(R-N),N=z+B,R=N-z,ta[2]=z-(N-R)+(B-R),ta[3]=N,pa=Za(pa,wb,4,ta,jb),L=V*ia,u=134217729*V,R=u-(u-V),B=V-R,u=134217729*
ia,u-=u-ia,A=ia-u,z=B*A-(L-R*u-B*u-R*A),N=aa*da,u=134217729*aa,R=u-(u-aa),B=aa-R,u=134217729*da,u-=u-da,A=da-u,u=B*A-(N-R*u-B*u-R*A),B=z-u,R=z-B,ta[0]=z-(B+R)+(R-u),z=L+B,R=z-L,L=L-(z-R)+(B-R),B=L-N,R=L-B,ta[1]=L-(B+R)+(R-N),N=z+B,R=N-z,ta[2]=z-(N-R)+(B-R),ta[3]=N,ia=Za(pa,jb,4,ta,lc),ia=lc[ia-1])))}return-ia}function Vb(V,aa,da,ia){V-=da;aa-=ia;return V*V+aa*aa}function Zb(V,aa,da,ia){if(20>=ia-da)for(var Ma=da+1;Ma<=ia;Ma++){for(var pa=V[Ma],sa=aa[pa],m=Ma-1;m>=da&&aa[V[m]]>sa;)V[m+1]=V[m--];V[m+
1]=pa}else{Ma=da+1;pa=ia;Ub(V,da+ia>>1,Ma);aa[V[da]]>aa[V[ia]]&&Ub(V,da,ia);aa[V[Ma]]>aa[V[ia]]&&Ub(V,Ma,ia);aa[V[da]]>aa[V[Ma]]&&Ub(V,da,Ma);sa=V[Ma];for(m=aa[sa];;){do Ma++;while(aa[V[Ma]]<m);do pa--;while(aa[V[pa]]>m);if(pa<Ma)break;Ub(V,Ma,pa)}V[da+1]=V[pa];V[pa]=sa;ia-Ma+1>=pa-da?(Zb(V,aa,Ma,ia),Zb(V,aa,da,pa-1)):(Zb(V,aa,da,pa-1),Zb(V,aa,Ma,ia))}}function Ub(V,aa,da){const ia=V[aa];V[aa]=V[da];V[da]=ia}function jc(V){return V[0]}function Bb(V){return V[1]}function Rb(V){return V[0]}function ec(V){return V[1]}
function Ea(V){const {triangles:aa,coords:da}=V;for(V=0;V<aa.length;V+=3){const ia=2*aa[V],Ma=2*aa[V+1],pa=2*aa[V+2];if(1E-10<(da[pa]-da[ia])*(da[Ma+1]-da[ia+1])-(da[Ma]-da[ia])*(da[pa+1]-da[ia+1]))return!1}return!0}function $a(V,aa,da){return[V+Math.sin(V+aa)*da,aa+Math.cos(V-aa)*da]}function*vb(V,aa,da,ia){let Ma=0;for(const pa of V)yield aa.call(ia,pa,Ma,V),yield da.call(ia,pa,Ma,V),++Ma}function ub(V){h.Transform.call(this,null,V)}const sb=new Float64Array(4),wb=new Float64Array(8),jb=new Float64Array(12),
lc=new Float64Array(16),ta=new Float64Array(4),ha=Math.pow(2,-52),ya=new Uint32Array(512);class Ra{static from(V,aa=jc,da=Bb){const ia=V.length,Ma=new Float64Array(2*ia);for(let pa=0;pa<ia;pa++){const sa=V[pa];Ma[2*pa]=aa(sa);Ma[2*pa+1]=da(sa)}return new Ra(Ma)}constructor(V){const aa=V.length>>1;if(0<aa&&"number"!==typeof V[0])throw Error("Expected coords to contain numbers.");this.coords=V;V=Math.max(2*aa-5,0);this._triangles=new Uint32Array(3*V);this._halfedges=new Int32Array(3*V);this._hashSize=
Math.ceil(Math.sqrt(aa));this._hullPrev=new Uint32Array(aa);this._hullNext=new Uint32Array(aa);this._hullTri=new Uint32Array(aa);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(aa);this._dists=new Float64Array(aa);this.update()}update(){const {coords:V,_hullPrev:aa,_hullNext:da,_hullTri:ia,_hullHash:Ma}=this;var pa=V.length>>1,sa=Infinity,m=Infinity,F=-Infinity,L=-Infinity;for(var u=0;u<pa;u++){var R=V[2*u];var B=V[2*u+1];R<sa&&(sa=R);B<m&&(m=B);R>F&&(F=R);B>L&&
(L=B);this._ids[u]=u}F=(sa+F)/2;m=(m+L)/2;sa=Infinity;for(L=0;L<pa;L++)if(u=Vb(F,m,V[2*L],V[2*L+1]),u<sa){var z=L;sa=u}m=V[2*z];L=V[2*z+1];sa=Infinity;for(F=0;F<pa;F++)if(F!==z&&(u=Vb(m,L,V[2*F],V[2*F+1]),u<sa&&0<u)){var N=F;sa=u}sa=V[2*N];F=V[2*N+1];B=Infinity;for(u=0;u<pa;u++)if(u!==z&&u!==N){R=sa-m;var A=F-L;var D=V[2*u]-m;var H=V[2*u+1]-L,W=R*R+A*A,Da=D*D+H*H,P=.5/(R*H-A*D);A=(H*W-A*Da)*P;R=(R*Da-D*W)*P;R=A*A+R*R;if(R<B){var ja=u;B=R}}u=V[2*ja];R=V[2*ja+1];if(Infinity===B){for(z=0;z<pa;z++)this._dists[z]=
V[2*z]-V[0]||V[2*z+1]-V[1];Zb(this._ids,this._dists,0,pa-1);z=new Uint32Array(pa);N=0;for(let Ba=0,Na=-Infinity;Ba<pa;Ba++)ja=this._ids[Ba],this._dists[ja]>Na&&(z[N++]=ja,Na=this._dists[ja]);this.hull=z.subarray(0,N);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>zb(m,L,sa,F,u,R)&&(B=N,D=sa,W=F,N=ja,sa=u,F=R,ja=B,u=D,R=W);D=sa-m;B=F-L;W=u-m;H=R-L;Da=D*D+B*B;P=W*W+H*H;A=.5/(D*H-B*W);B=m+(H*Da-B*P)*A;D=L+(D*P-W*Da)*A;this._cx=B;this._cy=D;for(W=0;W<pa;W++)this._dists[W]=
Vb(V[2*W],V[2*W+1],B,D);Zb(this._ids,this._dists,0,pa-1);this._hullStart=z;pa=3;da[z]=aa[ja]=N;da[N]=aa[z]=ja;da[ja]=aa[N]=z;ia[z]=0;ia[N]=1;ia[ja]=2;Ma.fill(-1);Ma[this._hashKey(m,L)]=z;Ma[this._hashKey(sa,F)]=N;Ma[this._hashKey(u,R)]=ja;this.trianglesLen=0;this._addTriangle(z,N,ja,-1,-1,-1);for(let Ba=0,Na,Qa;Ba<this._ids.length;Ba++){m=this._ids[Ba];L=V[2*m];sa=V[2*m+1];if(0<Ba&&Math.abs(L-Na)<=ha&&Math.abs(sa-Qa)<=ha)continue;Na=L;Qa=sa;if(m===z||m===N||m===ja)continue;F=0;for(let xb=0,kb=this._hashKey(L,
sa);xb<this._hashSize&&(F=Ma[(kb+xb)%this._hashSize],-1===F||F===da[F]);xb++);u=F=aa[F];let eb;for(;eb=da[u],0<=zb(L,sa,V[2*u],V[2*u+1],V[2*eb],V[2*eb+1]);)if(u=eb,u===F){u=-1;break}if(-1!==u){R=this._addTriangle(u,m,da[u],-1,-1,ia[u]);ia[m]=this._legalize(R+2);ia[u]=R;pa++;for(B=da[u];eb=da[B],0>zb(L,sa,V[2*B],V[2*B+1],V[2*eb],V[2*eb+1]);)R=this._addTriangle(B,m,eb,ia[m],-1,ia[B]),ia[m]=this._legalize(R+2),da[B]=B,pa--,B=eb;if(u===F)for(;eb=aa[u],0>zb(L,sa,V[2*eb],V[2*eb+1],V[2*u],V[2*u+1]);)R=this._addTriangle(eb,
m,u,-1,ia[u],ia[eb]),this._legalize(R+2),ia[eb]=R,da[u]=u,pa--,u=eb;this._hullStart=aa[m]=u;da[u]=aa[B]=m;da[m]=B;Ma[this._hashKey(L,sa)]=m;Ma[this._hashKey(V[2*u],V[2*u+1])]=u}}this.hull=new Uint32Array(pa);for(let Ba=0,Na=this._hullStart;Ba<pa;Ba++)this.hull[Ba]=Na,Na=da[Na];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(V,aa){var da=Math;V-=this._cx;aa-=this._cy;V/=Math.abs(V)+Math.abs(aa);return da.floor.call(da,
(0<aa?3-V:1+V)/4*this._hashSize)%this._hashSize}_legalize(V){const {_triangles:aa,_halfedges:da,coords:ia}=this;let Ma=0;for(var pa;;){const B=da[V];var sa=V-V%3;pa=sa+(V+2)%3;if(-1===B){if(0===Ma)break;V=ya[--Ma];continue}const z=B-B%3,N=z+(B+2)%3;var m=aa[pa],F=aa[V],L=aa[sa+(V+1)%3];sa=aa[N];var u=ia[2*sa],R=ia[2*sa+1];const A=ia[2*m]-u,D=ia[2*m+1]-R,H=ia[2*F]-u;F=ia[2*F+1]-R;u=ia[2*L]-u;R=ia[2*L+1]-R;L=H*H+F*F;const W=u*u+R*R;if(0>A*(F*W-L*R)-D*(H*W-L*u)+(A*A+D*D)*(H*R-F*u)){aa[V]=sa;aa[B]=m;
m=da[N];if(-1===m){sa=this._hullStart;do{if(this._hullTri[sa]===N){this._hullTri[sa]=V;break}sa=this._hullPrev[sa]}while(sa!==this._hullStart)}this._link(V,m);this._link(B,da[pa]);this._link(pa,N);pa=z+(B+1)%3;Ma<ya.length&&(ya[Ma++]=pa)}else{if(0===Ma)break;V=ya[--Ma]}}return pa}_link(V,aa){this._halfedges[V]=aa;-1!==aa&&(this._halfedges[aa]=V)}_addTriangle(V,aa,da,ia,Ma,pa){const sa=this.trianglesLen;this._triangles[sa]=V;this._triangles[sa+1]=aa;this._triangles[sa+2]=da;this._link(sa,ia);this._link(sa+
1,Ma);this._link(sa+2,pa);this.trianglesLen+=3;return sa}}class Wa{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(V,aa){this._+=`M${this._x0=this._x1=+V},${this._y0=this._y1=+aa}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(V,aa){this._+=`L${this._x1=+V},${this._y1=+aa}`}arc(V,aa,da){V=+V;aa=+aa;da=+da;const ia=V+da,Ma=aa;if(0>da)throw Error("negative radius");if(null===this._x1)this._+=`M${ia},${Ma}`;else if(1E-6<Math.abs(this._x1-
ia)||1E-6<Math.abs(this._y1-Ma))this._+="L"+ia+","+Ma;da&&(this._+=`A${da},${da},0,1,1,${V-da},${aa}A${da},${da},0,1,1,${this._x1=ia},${this._y1=Ma}`)}rect(V,aa,da,ia){this._+=`M${this._x0=this._x1=+V},${this._y0=this._y1=+aa}h${+da}v${+ia}h${-da}Z`}value(){return this._||null}}class Ja{constructor(){this._=[]}moveTo(V,aa){this._.push([V,aa])}closePath(){this._.push(this._[0].slice())}lineTo(V,aa){this._.push([V,aa])}value(){return this._.length?this._:null}}let ib=class{constructor(V,[aa,da,ia,Ma]=
[0,0,960,500]){if(!((ia=+ia)>=(aa=+aa)&&(Ma=+Ma)>=(da=+da)))throw Error("invalid bounds");this.delaunay=V;this._circumcenters=new Float64Array(2*V.points.length);this.vectors=new Float64Array(2*V.points.length);this.xmax=ia;this.xmin=aa;this.ymax=Ma;this.ymin=da;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:V,hull:aa,triangles:da},vectors:ia}=this;var Ma,pa=this.circumcenters=this._circumcenters.subarray(0,da.length/3*2);for(let A=0,D=0,H=da.length,
W,Da;A<H;A+=3,D+=2){var sa=2*da[A],m=2*da[A+1],F=2*da[A+2],L=V[sa];sa=V[sa+1];var u=V[F],R=V[F+1];F=V[m]-L;const P=V[m+1]-sa;m=u-L;const ja=R-sa;var B=2*(F*ja-P*m);if(1E-9>Math.abs(B)){if(void 0===z){var z=Ma=0;for(var N of aa)z+=V[2*N],Ma+=V[2*N+1];z/=aa.length;Ma/=aa.length}F=1E9*Math.sign((z-L)*ja-(Ma-sa)*m);W=(L+u)/2-F*ja;Da=(sa+R)/2+F*m}else u=1/B,R=F*F+P*P,B=m*m+ja*ja,W=L+(ja*R-P*B)*u,Da=sa+(F*B-m*R)*u;pa[D]=W;pa[D+1]=Da}z=aa[aa.length-1];pa=4*z;N=V[2*z];F=V[2*z+1];ia.fill(0);for(m=0;m<aa.length;++m)z=
aa[m],Ma=pa,L=N,sa=F,pa=4*z,N=V[2*z],F=V[2*z+1],ia[Ma+2]=ia[pa]=sa-F,ia[Ma+3]=ia[pa+1]=N-L}render(V){const aa=null==V?V=new Wa:void 0,{delaunay:{halfedges:da,inedges:ia,hull:Ma},circumcenters:pa,vectors:sa}=this;if(1>=Ma.length)return null;for(let R=0,B=da.length;R<B;++R){var m=da[R];if(!(m<R)){var F=2*Math.floor(R/3);m=2*Math.floor(m/3);this._renderSegment(pa[F],pa[F+1],pa[m],pa[m+1],V)}}F=Ma[Ma.length-1];for(m=0;m<Ma.length;++m){var L=F;F=Ma[m];var u=2*Math.floor(ia[F]/3);const R=pa[u];u=pa[u+1];
L*=4;(L=this._project(R,u,sa[L+2],sa[L+3]))&&this._renderSegment(R,u,L[0],L[1],V)}return aa&&aa.value()}renderBounds(V){const aa=null==V?V=new Wa:void 0;V.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return aa&&aa.value()}renderCell(V,aa){const da=null==aa?aa=new Wa:void 0;V=this._clip(V);if(null!==V&&V.length){aa.moveTo(V[0],V[1]);for(var ia=V.length;V[0]===V[ia-2]&&V[1]===V[ia-1]&&1<ia;)ia-=2;for(let Ma=2;Ma<ia;Ma+=2)V[Ma]===V[Ma-2]&&V[Ma+1]===V[Ma-1]||aa.lineTo(V[Ma],V[Ma+
1]);aa.closePath();return da&&da.value()}}*cellPolygons(){var {delaunay:{points:V}}=this;for(let aa=0,da=V.length/2;aa<da;++aa)if(V=this.cellPolygon(aa))V.index=aa,yield V}cellPolygon(V){const aa=new Ja;this.renderCell(V,aa);return aa.value()}_renderSegment(V,aa,da,ia,Ma){const pa=this._regioncode(V,aa),sa=this._regioncode(da,ia);if(0===pa&&0===sa)Ma.moveTo(V,aa),Ma.lineTo(da,ia);else if(V=this._clipSegment(V,aa,da,ia,pa,sa))Ma.moveTo(V[0],V[1]),Ma.lineTo(V[2],V[3])}contains(V,aa,da){return(aa=+aa,
aa!==aa)||(da=+da,da!==da)?!1:this.delaunay._step(V,aa,da)===V}*neighbors(V){const aa=this._clip(V);if(aa)for(const da of this.delaunay.neighbors(V))if(V=this._clip(da))a:for(let ia=0,Ma=aa.length;ia<Ma;ia+=2)for(let pa=0,sa=V.length;pa<sa;pa+=2)if(aa[ia]===V[pa]&&aa[ia+1]===V[pa+1]&&aa[(ia+2)%Ma]===V[(pa+sa-2)%sa]&&aa[(ia+3)%Ma]===V[(pa+sa-1)%sa]){yield da;break a}}_cell(V){const {circumcenters:aa,delaunay:{inedges:da,halfedges:ia,triangles:Ma}}=this,pa=da[V];if(-1===pa)return null;const sa=[];let m=
pa;do{const F=Math.floor(m/3);sa.push(aa[2*F],aa[2*F+1]);m=2===m%3?m-2:m+1;if(Ma[m]!==V)break;m=ia[m]}while(m!==pa&&-1!==m);return sa}_clip(V){if(0===V&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const aa=this._cell(V);if(null===aa)return null;const {vectors:da}=this,ia=4*V;return this._simplify(da[ia]||da[ia+1]?this._clipInfinite(V,aa,da[ia],da[ia+1],da[ia+2],da[ia+3]):this._clipFinite(V,aa))}_clipFinite(V,aa){const da=aa.length;
let ia=null;let Ma=aa[da-2],pa=aa[da-1];let sa=this._regioncode(Ma,pa),m=0;for(let R=0;R<da;R+=2){var F=Ma;var L=pa;Ma=aa[R];pa=aa[R+1];var u=sa;sa=this._regioncode(Ma,pa);if(0===u&&0===sa)m=0,ia?ia.push(Ma,pa):ia=[Ma,pa];else{let B,z;if(0===u){if(null===(F=this._clipSegment(F,L,Ma,pa,u,sa)))continue;[L,u,B,z]=F}else{if(null===(F=this._clipSegment(Ma,pa,F,L,sa,u)))continue;[B,z,L,u]=F;F=m;m=this._edgecode(L,u);F&&m&&this._edge(V,F,m,ia,ia.length);ia?ia.push(L,u):ia=[L,u]}F=m;m=this._edgecode(B,z);
F&&m&&this._edge(V,F,m,ia,ia.length);ia?ia.push(B,z):ia=[B,z]}}if(ia)F=m,m=this._edgecode(ia[0],ia[1]),F&&m&&this._edge(V,F,m,ia,ia.length);else if(this.contains(V,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ia}_clipSegment(V,aa,da,ia,Ma,pa){const sa=Ma<pa;for(sa&&([V,aa,da,ia,Ma,pa]=[da,ia,V,aa,pa,Ma]);;){if(0===Ma&&0===pa)return sa?[da,ia,V,aa]:[V,aa,da,ia];if(Ma&pa)return null;var m=void 0;let F;
m=Ma||pa;m&8?(m=V+(da-V)*(this.ymax-aa)/(ia-aa),F=this.ymax):m&4?(m=V+(da-V)*(this.ymin-aa)/(ia-aa),F=this.ymin):m&2?(F=aa+(ia-aa)*(this.xmax-V)/(da-V),m=this.xmax):(F=aa+(ia-aa)*(this.xmin-V)/(da-V),m=this.xmin);Ma?(V=m,aa=F,Ma=this._regioncode(V,aa)):(da=m,ia=F,pa=this._regioncode(da,ia))}}_clipInfinite(V,aa,da,ia,Ma,pa){aa=Array.from(aa);let sa;(sa=this._project(aa[0],aa[1],da,ia))&&aa.unshift(sa[0],sa[1]);(sa=this._project(aa[aa.length-2],aa[aa.length-1],Ma,pa))&&aa.push(sa[0],sa[1]);if(aa=this._clipFinite(V,
aa))for(let m=0,F=aa.length,L,u=this._edgecode(aa[F-2],aa[F-1]);m<F;m+=2)L=u,u=this._edgecode(aa[m],aa[m+1]),L&&u&&(m=this._edge(V,L,u,aa,m),F=aa.length);else this.contains(V,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(aa=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return aa}_edge(V,aa,da,ia,Ma){for(;aa!==da;){let pa,sa;switch(aa){case 5:aa=4;continue;case 4:aa=6;pa=this.xmax;sa=this.ymin;break;case 6:aa=2;continue;case 2:aa=10;pa=this.xmax;sa=this.ymax;
break;case 10:aa=8;continue;case 8:aa=9;pa=this.xmin;sa=this.ymax;break;case 9:aa=1;continue;case 1:aa=5,pa=this.xmin,sa=this.ymin}ia[Ma]===pa&&ia[Ma+1]===sa||!this.contains(V,pa,sa)||(ia.splice(Ma,0,pa,sa),Ma+=2)}return Ma}_project(V,aa,da,ia){let Ma=Infinity,pa,sa,m;if(0>ia){if(aa<=this.ymin)return null;(pa=(this.ymin-aa)/ia)<Ma&&(m=this.ymin,sa=V+(Ma=pa)*da)}else if(0<ia){if(aa>=this.ymax)return null;(pa=(this.ymax-aa)/ia)<Ma&&(m=this.ymax,sa=V+(Ma=pa)*da)}if(0<da){if(V>=this.xmax)return null;
(pa=(this.xmax-V)/da)<Ma&&(sa=this.xmax,m=aa+pa*ia)}else if(0>da){if(V<=this.xmin)return null;(pa=(this.xmin-V)/da)<Ma&&(sa=this.xmin,m=aa+pa*ia)}return[sa,m]}_edgecode(V,aa){return(V===this.xmin?1:V===this.xmax?2:0)|(aa===this.ymin?4:aa===this.ymax?8:0)}_regioncode(V,aa){return(V<this.xmin?1:V>this.xmax?2:0)|(aa<this.ymin?4:aa>this.ymax?8:0)}_simplify(V){if(V&&4<V.length){for(let aa=0;aa<V.length;aa+=2){const da=(aa+2)%V.length,ia=(aa+4)%V.length;if(V[aa]===V[da]&&V[da]===V[ia]||V[aa+1]===V[da+1]&&
V[da+1]===V[ia+1])V.splice(da,2),aa-=2}V.length||(V=null)}return V}};const cb=2*Math.PI,tb=Math.pow;class Pb{static from(V,aa=Rb,da=ec,ia){if("length"in V){const Ma=V.length,pa=new Float64Array(2*Ma);for(let sa=0;sa<Ma;++sa){const m=V[sa];pa[2*sa]=aa.call(ia,m,sa,V);pa[2*sa+1]=da.call(ia,m,sa,V)}V=pa}else V=Float64Array.from(vb(V,aa,da,ia));return new Pb(V)}constructor(V){this._delaunator=new Ra(V);this.inedges=new Int32Array(V.length/2);this._hullIndex=new Int32Array(V.length/2);this.points=this._delaunator.coords;
this._init()}update(){this._delaunator.update();this._init();return this}_init(){var V=this._delaunator;const aa=this.points;if(V.hull&&2<V.hull.length&&Ea(V)){this.collinear=Int32Array.from({length:aa.length/2},(sa,m)=>m).sort((sa,m)=>aa[2*sa]-aa[2*m]||aa[2*sa+1]-aa[2*m+1]);V=this.collinear[0];var da=this.collinear[this.collinear.length-1];V=[aa[2*V],aa[2*V+1],aa[2*da],aa[2*da+1]];V=1E-8*Math.hypot(V[3]-V[1],V[2]-V[0]);for(let sa=0,m=aa.length/2;sa<m;++sa)da=$a(aa[2*sa],aa[2*sa+1],V),aa[2*sa]=da[0],
aa[2*sa+1]=da[1];this._delaunator=new Ra(aa)}else delete this.collinear;V=this.halfedges=this._delaunator.halfedges;da=this.hull=this._delaunator.hull;const ia=this.triangles=this._delaunator.triangles,Ma=this.inedges.fill(-1),pa=this._hullIndex.fill(-1);for(let sa=0,m=V.length;sa<m;++sa){const F=ia[2===sa%3?sa-2:sa+1];if(-1===V[sa]||-1===Ma[F])Ma[F]=sa}for(let sa=0,m=da.length;sa<m;++sa)pa[da[sa]]=sa;2>=da.length&&0<da.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),
this.triangles[0]=da[0],Ma[da[0]]=1,2===da.length&&(Ma[da[1]]=0,this.triangles[1]=da[1],this.triangles[2]=da[1]))}voronoi(V){return new ib(this,V)}*neighbors(V){const {inedges:aa,hull:da,_hullIndex:ia,halfedges:Ma,triangles:pa,collinear:sa}=this;if(sa){var m=sa.indexOf(V);0<m&&(yield sa[m-1]);m<sa.length-1&&(yield sa[m+1])}else{var F=aa[V];if(-1!==F){var L=F;do{yield(m=pa[L]);L=2===L%3?L-2:L+1;if(pa[L]!==V)break;L=Ma[L];if(-1===L){V=da[(ia[V]+1)%da.length];V!==m&&(yield V);break}}while(L!==F)}}}find(V,
aa,da=0){if((V=+V,V!==V)||(aa=+aa,aa!==aa))return-1;const ia=da;let Ma;for(;0<=(Ma=this._step(da,V,aa))&&Ma!==da&&Ma!==ia;)da=Ma;return Ma}_step(V,aa,da){const {inedges:ia,hull:Ma,_hullIndex:pa,halfedges:sa,triangles:m,points:F}=this;if(-1===ia[V]||!F.length)return(V+1)%(F.length>>1);let L=V,u=tb(aa-F[2*V],2)+tb(da-F[2*V+1],2);const R=ia[V];let B=R;do{let z=m[B];const N=tb(aa-F[2*z],2)+tb(da-F[2*z+1],2);N<u&&(u=N,L=z);B=2===B%3?B-2:B+1;if(m[B]!==V)break;B=sa[B];if(-1===B){B=Ma[(pa[V]+1)%Ma.length];
if(B!==z&&tb(aa-F[2*B],2)+tb(da-F[2*B+1],2)<u)return B;break}}while(B!==R);return L}render(V){const aa=null==V?V=new Wa:void 0,{points:da,halfedges:ia,triangles:Ma}=this;for(let sa=0,m=ia.length;sa<m;++sa){var pa=ia[sa];if(pa<sa)continue;const F=2*Ma[sa];pa=2*Ma[pa];V.moveTo(da[F],da[F+1]);V.lineTo(da[pa],da[pa+1])}this.renderHull(V);return aa&&aa.value()}renderPoints(V,aa){void 0!==aa||V&&"function"===typeof V.moveTo||(aa=V,V=null);aa=void 0==aa?2:+aa;const da=null==V?V=new Wa:void 0,{points:ia}=
this;for(let Ma=0,pa=ia.length;Ma<pa;Ma+=2){const sa=ia[Ma],m=ia[Ma+1];V.moveTo(sa+aa,m);V.arc(sa,m,aa,0,cb)}return da&&da.value()}renderHull(V){const aa=null==V?V=new Wa:void 0,{hull:da,points:ia}=this;var Ma=2*da[0];const pa=da.length;V.moveTo(ia[Ma],ia[Ma+1]);for(Ma=1;Ma<pa;++Ma){const sa=2*da[Ma];V.lineTo(ia[sa],ia[sa+1])}V.closePath();return aa&&aa.value()}hullPolygon(){const V=new Ja;this.renderHull(V);return V.value()}renderTriangle(V,aa){const da=null==aa?aa=new Wa:void 0,{points:ia,triangles:Ma}=
this,pa=2*Ma[V*=3],sa=2*Ma[V+1];V=2*Ma[V+2];aa.moveTo(ia[pa],ia[pa+1]);aa.lineTo(ia[sa],ia[sa+1]);aa.lineTo(ia[V],ia[V+1]);aa.closePath();return da&&da.value()}*trianglePolygons(){const {triangles:V}=this;for(let aa=0,da=V.length/3;aa<da;++aa)yield this.trianglePolygon(aa)}trianglePolygon(V){const aa=new Ja;this.renderTriangle(V,aa);return aa.value()}}ub.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",
array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const gb=[-1E5,-1E5,1E5,1E5];ka.inherits(ub,h.Transform,{transform(V,aa){const da=V.as||"path",ia=aa.source;if(!ia||!ia.length)return aa;var Ma=V.size;Ma=Ma?[0,0,Ma[0],Ma[1]]:(Ma=V.extent)?[Ma[0][0],Ma[0][1],Ma[1][0],Ma[1][1]]:gb;Ma=this.value=Pb.from(ia,V.x,V.y).voronoi(Ma);for(let m=0,F=ia.length;m<F;++m){var pa=
Ma.cellPolygon(m),sa=ia[m];if(!pa||2===pa.length&&pa[0][0]===pa[1][0]&&pa[0][1]===pa[1][1])pa=null;else{const L=pa[0][0],u=pa[0][1];let R=pa.length-1;for(;pa[R][0]===L&&pa[R][1]===u;--R);pa="M"+pa.slice(0,R+1).join("L")+"Z"}sa[da]=pa}return aa.reflow(V.modified()).modifies(da)}});w.voronoi=ub})};
shadow$provide[44]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(32),ob(29),ob(21),ob(33),ob(30)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),h):(w="undefined"!==typeof globalThis?globalThis:w||self,h((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,h,ka,Za,zb,Vb){function Zb(){function wb(V){V.width=V.height=1;var aa=Math.sqrt(V.getContext("2d").getImageData(0,
0,1,1).data.length>>2);V.width=2048/aa;V.height=2048/aa;V=V.getContext("2d");V.fillStyle=V.strokeStyle="red";V.textAlign="center";return{context:V,ratio:aa}}function jb(V,aa,da){for(var ia=aa.x,Ma=aa.y,pa=Math.hypot(lc[0],lc[1]),sa=cb(lc),m=.5>Pb()?1:-1,F=-m,L,u;L=sa(F+=m);){u=~~L[0];L=~~L[1];if(Math.min(Math.abs(u),Math.abs(L))>=pa)break;aa.x=ia+u;aa.y=Ma+L;if(!(0>aa.x+aa.x0||0>aa.y+aa.y0||aa.x+aa.x1>lc[0]||aa.y+aa.y1>lc[1])){if(!(u=!da)){a:{u=lc[0];u>>=5;L=aa.sprite;var R=aa.width>>5;var B=aa.x-
(R<<4);for(var z=B&127,N=32-z,A=aa.y1-aa.y0,D=(aa.y+aa.y0)*u+(B>>5),H=0;H<A;H++){for(var W=B=0;W<=R;W++)if((B<<N|(W<R?(B=L[H*R+W])>>>z:0))&V[D+W]){u=!0;break a}D+=u}u=!1}u=!u}if(u&&(!da||aa.x+aa.x1>da[0].x&&aa.x+aa.x0<da[1].x&&aa.y+aa.y1>da[0].y&&aa.y+aa.y0<da[1].y)){da=aa.sprite;ia=aa.width>>5;Ma=lc[0]>>5;F=aa.x-(ia<<4);pa=F&127;sa=32-pa;m=aa.y1-aa.y0;F=(aa.y+aa.y0)*Ma+(F>>5);for(L=0;L<m;L++){for(R=u=0;R<=ia;R++)V[F+R]=V[F+R]|u<<sa|(R<ia?(u=da[L*ia+R])>>>pa:0);F+=Ma}aa.sprite=null;return!0}}}return!1}
var lc=[256,256],ta,ha,ya,Ra,Wa,Ja,ib,cb=Bb,tb=[],Pb=Math.random,gb={layout:function(){for(var V=wb(h.canvas()),aa=Rb((lc[0]>>5)*lc[1]),da=null,ia=tb.length,Ma=-1,pa=[],sa=tb.map(F=>({text:ta(F),font:ha(F),style:Ra(F),weight:Wa(F),rotate:Ja(F),size:~~(ya(F)+1E-14),padding:ib(F),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:F})).sort((F,L)=>L.size-F.size);++Ma<ia;){var m=sa[Ma];m.x=lc[0]*(Pb()+.5)>>1;m.y=lc[1]*(Pb()+.5)>>1;Ub(V,m,sa,Ma);m.hasText&&jb(aa,m,da)&&(pa.push(m),da?jc(da,
m):da=[{x:m.x+m.x0,y:m.y+m.y0},{x:m.x+m.x1,y:m.y+m.y1}],m.x-=lc[0]>>1,m.y-=lc[1]>>1)}return pa},words:function(V){return arguments.length?(tb=V,gb):tb},size:function(V){return arguments.length?(lc=[+V[0],+V[1]],gb):lc},font:function(V){return arguments.length?(ha=ec(V),gb):ha},fontStyle:function(V){return arguments.length?(Ra=ec(V),gb):Ra},fontWeight:function(V){return arguments.length?(Wa=ec(V),gb):Wa},rotate:function(V){return arguments.length?(Ja=ec(V),gb):Ja},text:function(V){return arguments.length?
(ta=ec(V),gb):ta},spiral:function(V){return arguments.length?(cb=vb[V]||V,gb):cb},fontSize:function(V){return arguments.length?(ya=ec(V),gb):ya},padding:function(V){return arguments.length?(ib=ec(V),gb):ib},random:function(V){return arguments.length?(Pb=V,gb):Pb}};return gb}function Ub(wb,jb,lc,ta){if(!jb.sprite){var ha=wb.context,ya=wb.ratio;ha.clearRect(0,0,2048/ya,2048/ya);var Ra=wb=0,Wa=0,Ja=lc.length;for(--ta;++ta<Ja;){jb=lc[ta];ha.save();ha.font=jb.style+" "+jb.weight+" "+~~((jb.size+1)/ya)+
"px "+jb.font;var ib=ha.measureText(jb.text+"m").width*ya;var cb=jb.size<<1;if(jb.rotate){var tb=Math.sin(jb.rotate*$a),Pb=Math.cos(jb.rotate*$a),gb=ib*Pb,V=ib*tb;Pb*=cb;ib=cb*tb;ib=Math.max(Math.abs(gb+ib),Math.abs(gb-ib))+31>>5<<5;cb=~~Math.max(Math.abs(V+Pb),Math.abs(V-Pb))}else ib=ib+31>>5<<5;cb>Wa&&(Wa=cb);2048<=wb+ib&&(wb=0,Ra+=Wa,Wa=0);if(2048<=Ra+cb)break;ha.translate((wb+(ib>>1))/ya,(Ra+(cb>>1))/ya);jb.rotate&&ha.rotate(jb.rotate*$a);ha.fillText(jb.text,0,0);jb.padding&&(ha.lineWidth=2*jb.padding,
ha.strokeText(jb.text,0,0));ha.restore();jb.width=ib;jb.height=cb;jb.xoff=wb;jb.yoff=Ra;jb.x1=ib>>1;jb.y1=cb>>1;jb.x0=-jb.x1;jb.y0=-jb.y1;jb.hasText=!0;wb+=ib}Ja=ha.getImageData(0,0,2048/ya,2048/ya).data;for(gb=[];0<=--ta;)if(jb=lc[ta],jb.hasText){ib=jb.width;ha=ib>>5;cb=jb.y1-jb.y0;for(ya=0;ya<cb*ha;ya++)gb[ya]=0;wb=jb.xoff;if(null==wb)break;Ra=jb.yoff;V=0;tb=-1;for(Wa=0;Wa<cb;Wa++){for(ya=0;ya<ib;ya++)Pb=Ja[2048*(Ra+Wa)+(wb+ya)<<2]?1<<31-ya%32:0,gb[ha*Wa+(ya>>5)]|=Pb,V|=Pb;V?tb=Wa:(jb.y0++,cb--,
Wa--,Ra++)}jb.y1=jb.y0+tb;jb.sprite=gb.slice(0,(jb.y1-jb.y0)*ha)}}}function jc(wb,jb){var lc=wb[0];wb=wb[1];jb.x+jb.x0<lc.x&&(lc.x=jb.x+jb.x0);jb.y+jb.y0<lc.y&&(lc.y=jb.y+jb.y0);jb.x+jb.x1>wb.x&&(wb.x=jb.x+jb.x1);jb.y+jb.y1>wb.y&&(wb.y=jb.y+jb.y1)}function Bb(wb){var jb=wb[0]/wb[1];return function(lc){return[jb*(lc*=.1)*Math.cos(lc),lc*Math.sin(lc)]}}function Rb(wb){for(var jb=[],lc=-1;++lc<wb;)jb[lc]=0;return jb}function ec(wb){return"function"===typeof wb?wb:function(){return wb}}function Ea(wb){ka.Transform.call(this,
Zb(),wb)}var $a=Math.PI/180,vb={archimedean:Bb,rectangular:function(wb){var jb=4*wb[0]/wb[1],lc=0,ta=0;return function(ha){var ya=0>ha?-1:1;switch(Math.sqrt(1+4*ya*ha)-ya&3){case 0:lc+=jb;break;case 1:ta+=4;break;case 2:lc-=jb;break;default:ta-=4}return[lc,ta]}}};const ub="x y font fontSize fontStyle fontWeight angle".split(" "),sb="text font rotate fontSize fontStyle fontWeight".split(" ");Ea.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},
{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",
array:!0,length:7,"default":ub}]};Za.inherits(Ea,ka.Transform,{transform(wb,jb){function lc(ib){ib=wb[ib];return Za.isFunction(ib)&&jb.modified(ib.fields)}!wb.size||wb.size[0]&&wb.size[1]||Za.error("Wordcloud size dimensions must be non-zero.");const ta=wb.modified();if(ta||jb.changed(jb.ADD_REM)||sb.some(lc)){var ha=jb.materialize(jb.SOURCE).source,ya=this.value,Ra=wb.as||ub,Wa=wb.fontSize||14,Ja;Za.isFunction(Wa)?Ja=wb.fontSizeRange:Wa=Za.constant(Wa);if(Ja){const ib=Wa,cb=zb.scale("sqrt")().domain(Za.extent(ha,
ib)).range(Ja);Wa=tb=>cb(ib(tb))}ha.forEach(ib=>{ib[Ra[0]]=NaN;ib[Ra[1]]=NaN;ib[Ra[3]]=0});ha=ya.words(ha).text(wb.text).size(wb.size||[500,500]).padding(wb.padding||1).spiral(wb.spiral||"archimedean").rotate(wb.rotate||0).font(wb.font||"sans-serif").fontStyle(wb.fontStyle||"normal").fontWeight(wb.fontWeight||"normal").fontSize(Wa).random(Vb.random).layout();Wa=ya.size();ya=Wa[0]>>1;Wa=Wa[1]>>1;Ja=ha.length;for(let ib=0,cb,tb;ib<Ja;++ib)cb=ha[ib],tb=cb.datum,tb[Ra[0]]=cb.x+ya,tb[Ra[1]]=cb.y+Wa,tb[Ra[2]]=
cb.font,tb[Ra[3]]=cb.size,tb[Ra[4]]=cb.style,tb[Ra[5]]=cb.weight,tb[Ra[6]]=cb.rotate;return jb.reflow(ta).modifies(Ra)}}});w.wordcloud=Ea})};
shadow$provide[45]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(29),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega))})(this,function(w,h,ka){function Za(){let ha=8,ya=[],Ra=new Uint32Array(0),Wa=zb(0,ha),Ja=zb(0,ha);return{data:()=>ya,seen:()=>{var ib=Ra;var cb=ya.length;ib.length>=cb||(cb=new ib.constructor(cb),
cb.set(ib),ib=cb);return Ra=ib},add(ib){for(let cb=0,tb=ya.length,Pb=ib.length,gb;cb<Pb;++cb)gb=ib[cb],gb._index=tb++,ya.push(gb)},remove(ib,cb){const tb=ya.length;ib=Array(tb-ib);const Pb=ya;let gb,V,aa;for(V=0;!cb[V]&&V<tb;++V)ib[V]=ya[V],Pb[V]=V;for(aa=V;V<tb;++V)gb=ya[V],cb[V]?Pb[V]=-1:(Pb[V]=aa,Wa[aa]=Wa[V],Ja[aa]=Ja[V],ib[aa]=gb,gb._index=aa++),Wa[V]=0;ya=ib;return Pb},size:()=>ya.length,curr:()=>Wa,prev:()=>Ja,reset:ib=>Ja[ib]=Wa[ib],all:()=>257>ha?255:65537>ha?65535:4294967295,set(ib,cb){Wa[ib]|=
cb},clear(ib,cb){Wa[ib]&=~cb},resize(ib,cb){if(ib>Wa.length||cb>ha)ha=Math.max(cb,ha),Wa=zb(ib,ha,Wa),Ja=zb(ib,ha)}}}function zb(ha,ya,Ra){ha=(257>ya?ub:65537>ya?sb:wb)(ha);Ra&&ha.set(Ra);return ha}function Vb(ha,ya,Ra){const Wa=1<<ya;return{one:Wa,zero:~Wa,range:Ra.slice(),bisect:ha.bisect,index:ha.index,size:ha.size,onAdd(Ja,ib){var cb=this.bisect(this.range,Ja.value);Ja=Ja.index;const tb=cb[0];cb=cb[1];const Pb=Ja.length;let gb;for(gb=0;gb<tb;++gb)ib[Ja[gb]]|=Wa;for(gb=cb;gb<Pb;++gb)ib[Ja[gb]]|=
Wa;return this}}}function Zb(ha,ya){return null==ha||null==ya?NaN:ha<ya?-1:ha>ya?1:ha>=ya?0:NaN}function Ub(ha,ya){return null==ha||null==ya?NaN:ya<ha?-1:ya>ha?1:ya>=ha?0:NaN}function jc(ha){function ya(ib,cb,tb=0,Pb=ib.length){if(tb<Pb){if(0!==Ra(cb,cb))return Pb;do{const gb=tb+Pb>>>1;0>Wa(ib[gb],cb)?tb=gb+1:Pb=gb}while(tb<Pb)}return tb}let Ra,Wa,Ja;2!==ha.length?(Ra=Zb,Wa=(ib,cb)=>Zb(ha(ib),cb),Ja=(ib,cb)=>ha(ib)-cb):(Ra=ha===Zb||ha===Ub?ha:Bb,Ja=Wa=ha);return{left:ya,center:function(ib,cb,tb=0,
Pb=ib.length){Pb=ya(ib,cb,tb,Pb-1);return Pb>tb&&Ja(ib[Pb-1],cb)>-Ja(ib[Pb],cb)?Pb-1:Pb},right:function(ib,cb,tb=0,Pb=ib.length){if(tb<Pb){if(0!==Ra(cb,cb))return Pb;do{const gb=tb+Pb>>>1;0>=Wa(ib[gb],cb)?tb=gb+1:Pb=gb}while(tb<Pb)}return tb}}}function Bb(){return 0}function Rb(ha,ya){return Array.from(ya,Ra=>ha[Ra])}function ec(){let ha=new Uint32Array(0),ya=[],Ra=0;return{insert:function(Wa,Ja,ib){if(!Ja.length)return[];const cb=Ra,tb=Ja.length,Pb=new Uint32Array(tb);let gb=Array(tb);var V;for(V=
0;V<tb;++V)gb[V]=Wa(Ja[V]),Pb[V]=V;gb=Ea(gb,Pb);if(cb){Wa=ya;Ja=ha;ya=Array(cb+tb);ha=new Uint32Array(cb+tb);V=gb;var aa=ya,da=ha;let ia=0,Ma=0,pa;for(pa=0;ia<cb&&Ma<tb;++pa)Wa[ia]<V[Ma]?(aa[pa]=Wa[ia],da[pa]=Ja[ia++]):(aa[pa]=V[Ma],da[pa]=Pb[Ma++]+ib);for(;ia<cb;++ia,++pa)aa[pa]=Wa[ia],da[pa]=Ja[ia];for(;Ma<tb;++Ma,++pa)aa[pa]=V[Ma],da[pa]=Pb[Ma]+ib}else{if(0<ib)for(V=0;V<tb;++V)Pb[V]+=ib;ya=gb;ha=Pb}Ra=cb+tb;return{index:Pb,value:gb}},remove:function(Wa,Ja){const ib=Ra;let cb,tb,Pb;for(tb=0;!Ja[ha[tb]]&&
tb<ib;++tb);for(Pb=tb;tb<ib;++tb)Ja[cb=ha[tb]]||(ha[Pb]=cb,ya[Pb]=ya[tb],++Pb);Ra=ib-Wa},bisect:function(Wa,Ja){let ib;Ja?ib=Ja.length:(Ja=ya,ib=Ra);return[ta(Ja,Wa[0],0,ib),lc(Ja,Wa[1],0,ib)]},reindex:function(Wa){for(let Ja=0,ib=Ra;Ja<ib;++Ja)ha[Ja]=Wa[ha[Ja]]},index:()=>ha,size:()=>Ra}}function Ea(ha,ya){ha.sort.call(ya,(Ra,Wa)=>{Ra=ha[Ra];Wa=ha[Wa];return Ra<Wa?-1:Ra>Wa?1:0});return Rb(ha,ya)}function $a(ha){h.Transform.call(this,Za(),ha);this._dims=this._indices=null}function vb(ha){h.Transform.call(this,
null,ha)}const ub=ha=>new Uint8Array(ha),sb=ha=>new Uint16Array(ha),wb=ha=>new Uint32Array(ha),jb=jc(Zb),lc=jb.right,ta=jb.left;jc(function(ha){return null===ha?NaN:+ha}).center;$a.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ka.inherits($a,h.Transform,{transform(ha,ya){return this._dims?ha.modified("fields")||ha.fields.some(Ra=>ya.modified(Ra.fields))?
this.reinit(ha,ya):this.eval(ha,ya):this.init(ha,ya)},init(ha,ya){const Ra=ha.fields,Wa=ha.query,Ja=this._indices={},ib=this._dims=[],cb=Wa.length;let tb=0;for(var Pb;tb<cb;++tb)Pb=Ra[tb].fname,Pb=Ja[Pb]||(Ja[Pb]=ec()),ib.push(Vb(Pb,tb,Wa[tb]));return this.eval(ha,ya)},reinit(ha,ya){const Ra=ya.materialize().fork(),Wa=ha.fields,Ja=ha.query,ib=this._indices,cb=this._dims,tb=this.value,Pb=tb.curr(),gb=tb.prev(),V=tb.all(),aa=Ra.rem=Ra.add,da=Ra.mod,ia=Ja.length,Ma={};let pa;var sa;let m,F,L,u;gb.set(Pb);
ya.rem.length&&(m=this.remove(ha,ya,Ra));ya.add.length&&tb.add(ya.add);if(ya.mod.length){F={};var R=ya.mod;L=0;for(sa=R.length;L<sa;++L)F[R[L]._index]=1}for(L=0;L<ia;++L)if(u=Wa[L],!cb[L]||ha.modified("fields",L)||ya.modified(u.fields))sa=u.fname,(R=Ma[sa])||(ib[sa]=pa=ec(),Ma[sa]=R=pa.insert(u,ya.source,0)),cb[L]=Vb(pa,L,Ja[L]).onAdd(R,Pb);L=0;for(sa=tb.data().length;L<sa;++L)m[L]||(gb[L]!==Pb[L]?aa.push(L):F[L]&&Pb[L]!==V&&da.push(L));tb.mask=(1<<ia)-1;return Ra},eval(ha,ya){const Ra=ya.materialize().fork(),
Wa=this._dims.length;let Ja=0;ya.rem.length&&(this.remove(ha,ya,Ra),Ja|=(1<<Wa)-1);ha.modified("query")&&!ha.modified("fields")&&(Ja|=this.update(ha,ya,Ra));ya.add.length&&(this.insert(ha,ya,Ra),Ja|=(1<<Wa)-1);ya.mod.length&&(this.modify(ya,Ra),Ja|=(1<<Wa)-1);this.value.mask=Ja;return Ra},insert(ha,ya,Ra){ya=ya.add;var Wa=this.value;const Ja=this._dims,ib=this._indices;ha=ha.fields;const cb={};Ra=Ra.add;const tb=Wa.size()+ya.length,Pb=Ja.length;let gb=Wa.size();Wa.resize(tb,Pb);Wa.add(ya);const V=
Wa.curr(),aa=Wa.prev(),da=Wa.all();for(Wa=0;Wa<Pb;++Wa){var ia=ha[Wa].fname;ia=cb[ia]||(cb[ia]=ib[ia].insert(ha[Wa],ya,gb));Ja[Wa].onAdd(ia,V)}for(;gb<tb;++gb)aa[gb]=da,V[gb]!==da&&Ra.push(gb)},modify(ha,ya){ya=ya.mod;var Ra=this.value;const Wa=Ra.curr();Ra=Ra.all();ha=ha.mod;let Ja,ib,cb;Ja=0;for(ib=ha.length;Ja<ib;++Ja)cb=ha[Ja]._index,Wa[cb]!==Ra&&ya.push(cb)},remove(ha,ya,Ra){ha=this._indices;var Wa=this.value;const Ja=Wa.curr(),ib=Wa.prev();Wa=Wa.all();const cb={};Ra=Ra.rem;const tb=ya.rem;let Pb,
gb,V,aa;Pb=0;for(gb=tb.length;Pb<gb;++Pb)V=tb[Pb]._index,cb[V]=1,ib[V]=aa=Ja[V],Ja[V]=Wa,aa!==Wa&&Ra.push(V);for(V in ha)ha[V].remove(gb,cb);this.reindex(ya,gb,cb);return cb},reindex(ha,ya,Ra){const Wa=this._indices,Ja=this.value;ha.runAfter(()=>{const ib=Ja.remove(ya,Ra);for(const cb in Wa)Wa[cb].reindex(ib)})},update(ha,ya,Ra){const Wa=this._dims,Ja=ha.query;ya=ya.stamp;const ib=Wa.length;let cb=0,tb,Pb;for(Pb=Ra.filters=0;Pb<ib;++Pb)ha.modified("query",Pb)&&(tb=Pb,++cb);if(1===cb)cb=Wa[tb].one,
this.incrementOne(Wa[tb],Ja[tb],Ra.add,Ra.rem);else for(cb=Pb=0;Pb<ib;++Pb)ha.modified("query",Pb)&&(cb|=Wa[Pb].one,this.incrementAll(Wa[Pb],Ja[Pb],ya,Ra.add),Ra.rem=Ra.add);return cb},incrementAll(ha,ya,Ra,Wa){var Ja=this.value;const ib=Ja.seen(),cb=Ja.curr();Ja=Ja.prev();const tb=ha.index();var Pb=ha.bisect(ha.range),gb=ha.bisect(ya);const V=gb[0];gb=gb[1];const aa=Pb[0];Pb=Pb[1];const da=ha.one;let ia,Ma,pa;if(V<aa)for(ia=V,Ma=Math.min(aa,gb);ia<Ma;++ia)pa=tb[ia],ib[pa]!==Ra&&(Ja[pa]=cb[pa],ib[pa]=
Ra,Wa.push(pa)),cb[pa]^=da;else if(V>aa)for(ia=aa,Ma=Math.min(V,Pb);ia<Ma;++ia)pa=tb[ia],ib[pa]!==Ra&&(Ja[pa]=cb[pa],ib[pa]=Ra,Wa.push(pa)),cb[pa]^=da;if(gb>Pb)for(ia=Math.max(V,Pb),Ma=gb;ia<Ma;++ia)pa=tb[ia],ib[pa]!==Ra&&(Ja[pa]=cb[pa],ib[pa]=Ra,Wa.push(pa)),cb[pa]^=da;else if(gb<Pb)for(ia=Math.max(aa,gb),Ma=Pb;ia<Ma;++ia)pa=tb[ia],ib[pa]!==Ra&&(Ja[pa]=cb[pa],ib[pa]=Ra,Wa.push(pa)),cb[pa]^=da;ha.range=ya.slice()},incrementOne(ha,ya,Ra,Wa){const Ja=this.value.curr(),ib=ha.index();var cb=ha.bisect(ha.range),
tb=ha.bisect(ya);const Pb=tb[0];tb=tb[1];const gb=cb[0];cb=cb[1];const V=ha.one;let aa,da,ia;if(Pb<gb)for(aa=Pb,da=Math.min(gb,tb);aa<da;++aa)ia=ib[aa],Ja[ia]^=V,Ra.push(ia);else if(Pb>gb)for(aa=gb,da=Math.min(Pb,cb);aa<da;++aa)ia=ib[aa],Ja[ia]^=V,Wa.push(ia);if(tb>cb)for(aa=Math.max(Pb,cb),da=tb;aa<da;++aa)ia=ib[aa],Ja[ia]^=V,Ra.push(ia);else if(tb<cb)for(aa=Math.max(gb,tb),da=cb;aa<da;++aa)ia=ib[aa],Ja[ia]^=V,Wa.push(ia);ha.range=ya.slice()}});vb.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",
type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ka.inherits(vb,h.Transform,{transform(ha,ya){const Ra=~(ha.ignore||0);ha=ha.filter;const Wa=ha.mask;if(0===(Wa&Ra))return ya.StopPropagation;ya=ya.fork(ya.ALL);const Ja=ha.data(),ib=ha.curr(),cb=ha.prev(),tb=Pb=>ib[Pb]&Ra?null:Ja[Pb];ya.filter(ya.MOD,tb);Wa&Wa-1?(ya.filter(ya.ADD,Pb=>{const gb=ib[Pb]&
Ra;return!gb&&gb^cb[Pb]&Ra?Ja[Pb]:null}),ya.filter(ya.REM,Pb=>{const gb=ib[Pb]&Ra;return!gb||gb^gb^cb[Pb]&Ra?null:Ja[Pb]})):(ya.filter(ya.ADD,tb),ya.filter(ya.REM,Pb=>(ib[Pb]&Ra)===Wa?Ja[Pb]:null));return ya.filter(ya.SOURCE,Pb=>tb(Pb._index))}});w.crossfilter=$a;w.resolvefilter=vb})};
shadow$provide[46]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega))})(this,function(w,h){function ka(A){this.type=A}function Za(A){switch(A.type){case "ArrayExpression":return A.elements;case "BinaryExpression":case "LogicalExpression":return[A.left,A.right];case "CallExpression":return[A.callee].concat(A.arguments);
case "ConditionalExpression":return[A.test,A.consequent,A.alternate];case "MemberExpression":return[A.object,A.property];case "ObjectExpression":return A.properties;case "Property":return[A.key,A.value];case "UnaryExpression":return[A.argument];default:return[]}}function zb(A,D){if(!A)throw Error("ASSERT: "+D);}function Vb(A){return 48<=A&&57>=A}function Zb(A){return"0123456789abcdefABCDEF".includes(A)}function Ub(A){return"01234567".includes(A)}function jc(A){return 10===A||13===A||8232===A||8233===
A}function Bb(A){return 36===A||95===A||65<=A&&90>=A||97<=A&&122>=A||92===A||128<=A&&u.test(String.fromCharCode(A))}function Rb(A){return 36===A||95===A||65<=A&&90>=A||97<=A&&122>=A||48<=A&&57>=A||92===A||128<=A&&R.test(String.fromCharCode(A))}function ec(){for(;m<F;){const A=sa.charCodeAt(m);if(32===A||9===A||11===A||12===A||160===A||5760<=A&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(A)||jc(A))++m;else break}}function Ea(A){var D=0;var H="u"===
A?4:2;for(A=0;A<H;++A)if(m<F&&Zb(sa[m])){var W=sa[m++];D=16*D+"0123456789abcdef".indexOf(W.toLowerCase())}else Ja({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(D)}function $a(){var A=sa.charCodeAt(m++);var D=String.fromCharCode(A);92===A&&(117!==sa.charCodeAt(m)&&Ja({},"Unexpected token %0","ILLEGAL"),++m,(A=Ea("u"))&&"\\"!==A&&Bb(A.charCodeAt(0))||Ja({},"Unexpected token %0","ILLEGAL"),D=A);for(;m<F;){A=sa.charCodeAt(m);if(!Rb(A))break;++m;D+=String.fromCharCode(A);92===A&&(D=D.substr(0,
D.length-1),117!==sa.charCodeAt(m)&&Ja({},"Unexpected token %0","ILLEGAL"),++m,(A=Ea("u"))&&"\\"!==A&&Rb(A.charCodeAt(0))||Ja({},"Unexpected token %0","ILLEGAL"),D+=A)}return D}function vb(){var A=m,D=sa.charCodeAt(m),H=sa[m];switch(D){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++m,{type:7,value:String.fromCharCode(D),start:A,end:m};default:var W=sa.charCodeAt(m+1);if(61===W)switch(D){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return m+=
2,{type:7,value:String.fromCharCode(D)+String.fromCharCode(W),start:A,end:m};case 33:case 61:return m+=2,61===sa.charCodeAt(m)&&++m,{type:7,value:sa.slice(A,m),start:A,end:m}}}D=sa.substr(m,4);if("\x3e\x3e\x3e\x3d"===D)return m+=4,{type:7,value:D,start:A,end:m};D=D.substr(0,3);if("\x3e\x3e\x3e"===D||"\x3c\x3c\x3d"===D||"\x3e\x3e\x3d"===D)return m+=3,{type:7,value:D,start:A,end:m};D=D.substr(0,2);if(H===D[1]&&"+-\x3c\x3e\x26|".includes(H)||"\x3d\x3e"===D)return m+=2,{type:7,value:D,start:A,end:m};
"//"===D&&Ja({},"Unexpected token %0","ILLEGAL");if("\x3c\x3e\x3d!+-*%\x26|^/".includes(H))return++m,{type:7,value:H,start:A,end:m};Ja({},"Unexpected token %0","ILLEGAL")}function ub(){var A=sa[m];zb(Vb(A.charCodeAt(0))||"."===A,"Numeric literal must start with a decimal digit or a decimal point");var D=m;var H="";if("."!==A){H=sa[m++];A=sa[m];if("0"===H){if("x"===A||"X"===A){++m;for(H="";m<F&&Zb(sa[m]);)H+=sa[m++];0===H.length&&Ja({},"Unexpected token %0","ILLEGAL");Bb(sa.charCodeAt(m))&&Ja({},"Unexpected token %0",
"ILLEGAL");return{type:6,value:parseInt("0x"+H,16),start:D,end:m}}if(Ub(A)){for(H="0"+sa[m++];m<F&&Ub(sa[m]);)H+=sa[m++];(Bb(sa.charCodeAt(m))||Vb(sa.charCodeAt(m)))&&Ja({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(H,8),octal:!0,start:D,end:m}}A&&Vb(A.charCodeAt(0))&&Ja({},"Unexpected token %0","ILLEGAL")}for(;Vb(sa.charCodeAt(m));)H+=sa[m++];A=sa[m]}if("."===A){for(H+=sa[m++];Vb(sa.charCodeAt(m));)H+=sa[m++];A=sa[m]}if("e"===A||"E"===A){H+=sa[m++];A=sa[m];if("+"===A||"-"===A)H+=
sa[m++];if(Vb(sa.charCodeAt(m)))for(;Vb(sa.charCodeAt(m));)H+=sa[m++];else Ja({},"Unexpected token %0","ILLEGAL")}Bb(sa.charCodeAt(m))&&Ja({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(H),start:D,end:m}}function sb(A,D){let H=A;D.includes("u")&&(H=H.replace(/\\u\{([0-9a-fA-F]+)\}/g,(W,Da)=>{if(1114111>=parseInt(Da,16))return"x";Ja({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(H)}catch(W){Ja({},"Invalid regular expression")}try{return new RegExp(A,
D)}catch(W){return null}}function wb(){ec();if(m>=F)return{type:2,start:m,end:m};var A=sa.charCodeAt(m);if(Bb(A)){A=m;if(92===sa.charCodeAt(m))var D=$a();else a:{for(D=m++;m<F;){var H=sa.charCodeAt(m);if(92===H){m=D;D=$a();break a}if(Rb(H))++m;else break}D=sa.slice(D,m)}return{type:1===D.length?3:B.hasOwnProperty(D)?4:"null"===D?5:"true"===D||"false"===D?1:3,value:D,start:A,end:m}}if(40===A||41===A||59===A)return vb();if(39===A||34===A){var W="";H=!1;A=sa[m];zb("'"===A||'"'===A,"String literal must starts with a quote");
D=m;for(++m;m<F;){var Da=sa[m++];if(Da===A){A="";break}else if("\\"===Da)if((Da=sa[m++])&&jc(Da.charCodeAt(0)))"\r"===Da&&"\n"===sa[m]&&++m;else switch(Da){case "u":case "x":if("{"===sa[m]){++m;var P=sa[m];Da=0;for("}"===P&&Ja({},"Unexpected token %0","ILLEGAL");m<F;){P=sa[m++];if(!Zb(P))break;Da=16*Da+"0123456789abcdef".indexOf(P.toLowerCase())}(1114111<Da||"}"!==P)&&Ja({},"Unexpected token %0","ILLEGAL");Da=65535>=Da?String.fromCharCode(Da):String.fromCharCode((Da-65536>>10)+55296,(Da-65536&1023)+
56320);W+=Da}else W+=Ea(Da);break;case "n":W+="\n";break;case "r":W+="\r";break;case "t":W+="\t";break;case "b":W+="\b";break;case "f":W+="\f";break;case "v":W+="\v";break;default:Ub(Da)?(P="01234567".indexOf(Da),0!==P&&(H=!0),m<F&&Ub(sa[m])&&(H=!0,P=8*P+"01234567".indexOf(sa[m++]),"0123".includes(Da)&&m<F&&Ub(sa[m])&&(P=8*P+"01234567".indexOf(sa[m++]))),W+=String.fromCharCode(P)):W+=Da}else if(jc(Da.charCodeAt(0)))break;else W+=Da}""!==A&&Ja({},"Unexpected token %0","ILLEGAL");return{type:8,value:W,
octal:H,start:D,end:m}}return 46===A?Vb(sa.charCodeAt(m+1))?ub():vb():Vb(A)?ub():vb()}function jb(){const A=L;m=A.end;L=wb();m=A.end;return A}function lc(){const A=m;L=wb();m=A}function ta(A,D,H){const W=new ka("||"===A||"\x26\x26"===A?"LogicalExpression":"BinaryExpression");W.operator=A;W.left=D;W.right=H;return W}function ha(A){const D=new ka("Identifier");D.name=A;return D}function ya(A){const D=new ka("Literal");D.value=A.value;D.raw=sa.slice(A.start,A.end);A.regex&&("//"===D.raw&&(D.raw="/(?:)/"),
D.regex=A.regex);return D}function Ra(A,D,H){const W=new ka("MemberExpression");W.computed="["===A;W.object=D;W.property=H;W.computed||(H.member=!0);return W}function Wa(A,D,H){const W=new ka("Property");W.key=D;W.value=H;W.kind=A;return W}function Ja(A,D){var H=Array.prototype.slice.call(arguments,2),W=D.replace(/%(\d)/g,(P,ja)=>{zb(ja<H.length,"Message reference must be in range");return H[ja]});var Da=Error(W);Da.index=m;Da.description=W;throw Da;}function ib(A){2===A.type&&Ja(A,"Unexpected end of input");
6===A.type&&Ja(A,"Unexpected number");8===A.type&&Ja(A,"Unexpected string");3===A.type&&Ja(A,"Unexpected identifier");4===A.type&&Ja(A,"Unexpected reserved word");Ja(A,"Unexpected token %0",A.value)}function cb(A){const D=jb();7===D.type&&D.value===A||ib(D)}function tb(A){return 7===L.type&&L.value===A}function Pb(){m=L.start;const A=jb();return 8===A.type||6===A.type?(A.octal&&Ja(A,"Octal literals are not allowed in strict mode."),ya(A)):ha(A.value)}function gb(){if(tb("(")){cb("(");var A=Ma();cb(")");
return A}if(tb("[")){A=[];m=L.start;for(cb("[");!tb("]");)tb(",")?(jb(),A.push(null)):(A.push(ia()),tb("]")||cb(","));jb();var D=new ka("ArrayExpression");D.elements=A;return D}if(tb("{")){A=[];D={};var H=String;m=L.start;for(cb("{");!tb("}");){m=L.start;var W=L;if(3===W.type){var Da=Pb();cb(":");W=ia();W=Wa("init",Da,W)}else 2===W.type||7===W.type?(ib(W),W=void 0):(Da=Pb(),cb(":"),W=ia(),W=Wa("init",Da,W));Da="Identifier"===W.key.type?W.key.name:H(W.key.value);Da="$"+Da;Object.prototype.hasOwnProperty.call(D,
Da)?Ja({},"Duplicate data property in object literal not allowed in strict mode"):D[Da]=!0;A.push(W);tb("}")||cb(",")}cb("}");D=new ka("ObjectExpression");D.properties=A;return D}A=L.type;m=L.start;if(3===A||z[L.value])D=ha(jb().value);else if(8===A||6===A)L.octal&&Ja(L,"Octal literals are not allowed in strict mode."),D=ya(jb());else{if(4===A)throw Error("Disabled.");if(1===A)A=jb(),A.value="true"===A.value,D=ya(A);else if(5===A)A=jb(),A.value=null,D=ya(A);else if(tb("/")||tb("/\x3d")){var P;L=null;
ec();A=m;D=sa[m];zb("/"===D,"Regular expression literal must start with a slash");H=sa[m++];for(Da=W=!1;m<F;)if(D=sa[m++],H+=D,"\\"===D)D=sa[m++],jc(D.charCodeAt(0))&&Ja({},"Invalid regular expression: missing /"),H+=D;else if(jc(D.charCodeAt(0)))Ja({},"Invalid regular expression: missing /");else if(W)"]"===D&&(W=!1);else if("/"===D){Da=!0;break}else"["===D&&(W=!0);Da||Ja({},"Invalid regular expression: missing /");D=H.substr(1,H.length-2);for(P=Da="";m<F;){W=sa[m];if(!Rb(W.charCodeAt(0)))break;
++m;"\\"===W&&m<F?Ja({},"Unexpected token %0","ILLEGAL"):(P+=W,Da+=W)}0<=P.search(/[^gimuy]/g)&&Ja({},"Invalid regular expression",P);W=P;P=sb(D,W);D=ya({literal:H+Da,value:P,regex:{pattern:D,flags:W},start:A,end:m});lc()}else ib(jb())}return D}function V(){var A;for(A=gb();;)if(tb(".")){cb(".");m=L.start;var D=jb();3===D.type||4===D.type||1===D.type||5===D.type||ib(D);D=ha(D.value);A=Ra(".",A,D)}else if(tb("(")){D=[];cb("(");if(!tb(")"))for(;m<F;){D.push(ia());if(tb(")"))break;cb(",")}cb(")");const H=
new ka("CallExpression");H.callee=A;H.arguments=D;A=H}else if(tb("["))cb("["),D=Ma(),cb("]"),A=Ra("[",A,D);else break;if(7===L.type&&(tb("++")||tb("--")))throw Error("Disabled.");return A}function aa(){if(7!==L.type&&4!==L.type)var A=V();else{if(tb("++")||tb("--"))throw Error("Disabled.");if(tb("+")||tb("-")||tb("~")||tb("!")){var D=jb();A=aa();D=D.value;const H=new ka("UnaryExpression");H.operator=D;H.argument=A;H.prefix=!0;A=H}else{if(4===L.type&&"delete"===L.value||4===L.type&&"void"===L.value||
4===L.type&&"typeof"===L.value)throw Error("Disabled.");A=V()}}return A}function da(A){let D=0;if(7!==A.type&&4!==A.type)return 0;switch(A.value){case "||":D=1;break;case "\x26\x26":D=2;break;case "|":D=3;break;case "^":D=4;break;case "\x26":D=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":D=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":D=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":D=8;break;case "+":case "-":D=
9;break;case "*":case "/":case "%":D=11}return D}function ia(){var A=L;var D=aa();var H=L;var W=da(H);if(0===W)var Da=D;else{H.prec=W;jb();A=[A,L];var P=aa();for(Da=[D,H,P];0<(W=da(L));){for(;2<Da.length&&W<=Da[Da.length-2].prec;)P=Da.pop(),H=Da.pop().value,D=Da.pop(),A.pop(),D=ta(H,D,P),Da.push(D);H=jb();H.prec=W;Da.push(H);A.push(L);D=aa();Da.push(D)}W=Da.length-1;D=Da[W];for(A.pop();1<W;)A.pop(),D=ta(Da[W-1].value,Da[W-2],D),W-=2;Da=D}tb("?")&&(jb(),A=ia(),cb(":"),W=ia(),D=new ka("ConditionalExpression"),
D.test=Da,D.consequent=A,D.alternate=W,Da=D);return Da}function Ma(){const A=ia();if(tb(","))throw Error("Disabled.");return A}function pa(A){function D(H,W,Da){return P=>{let ja=A(P[0]);W&&(ja=W+"("+ja+")",0===W.lastIndexOf("new ",0)&&(ja="("+ja+")"));return ja+"."+H+(0>Da?"":0===Da?"()":"("+P.slice(1).map(A).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(H){3>H.length&&h.error("Missing arguments to clamp function.");3<H.length&&h.error("Too many arguments to clamp function.");H=H.map(A);return"Math.max("+H[1]+", Math.min("+H[2]+","+H[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:D("getDate","new Date",0),day:D("getDay","new Date",0),
year:D("getFullYear","new Date",0),month:D("getMonth","new Date",0),hours:D("getHours","new Date",0),minutes:D("getMinutes","new Date",0),seconds:D("getSeconds","new Date",0),milliseconds:D("getMilliseconds","new Date",0),time:D("getTime","new Date",0),timezoneoffset:D("getTimezoneOffset","new Date",0),utcdate:D("getUTCDate","new Date",0),utcday:D("getUTCDay","new Date",0),utcyear:D("getUTCFullYear","new Date",0),utcmonth:D("getUTCMonth","new Date",0),utchours:D("getUTCHours","new Date",0),utcminutes:D("getUTCMinutes",
"new Date",0),utcseconds:D("getUTCSeconds","new Date",0),utcmilliseconds:D("getUTCMilliseconds","new Date",0),length:D("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:D("toUpperCase","String",0),lower:D("toLowerCase","String",0),substring:D("substring","String"),split:D("split","String"),trim:D("trim","String",0),btoa:"btoa",atob:"atob",regexp:"RegExp",test:D("test","RegExp"),if:function(H){3>H.length&&h.error("Missing arguments to if function.");3<H.length&&h.error("Too many arguments to if function.");
H=H.map(A);return"("+H[0]+"?"+H[1]+":"+H[2]+")"}}}ka.prototype.visit=function(A){let D,H,W;if(A(this))return 1;D=Za(this);H=0;for(W=D.length;H<W;++H)if(D[H].visit(A))return 1};var sa,m,F,L,u=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
R=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const B={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},z={"if":1};var N={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};w.ASTNode=ka;w.ArrayExpression="ArrayExpression";w.BinaryExpression="BinaryExpression";w.CallExpression="CallExpression";w.ConditionalExpression="ConditionalExpression";w.Identifier="Identifier";w.Literal="Literal";w.LogicalExpression="LogicalExpression";w.MemberExpression="MemberExpression";w.ObjectExpression="ObjectExpression";w.Property="Property";
w.RawCode="RawCode";w.UnaryExpression="UnaryExpression";w.codegenExpression=function(A){function D(X){if(h.isString(X))return X;const Ha=Sb[X.type];null==Ha&&h.error("Unsupported type: "+X.type);return Ha(X)}function H(X){X={code:D(X),globals:Object.keys(eb),fields:Object.keys(xb)};eb={};xb={};return X}A=A||{};const W=A.allowed?h.toSet(A.allowed):{},Da=A.forbidden?h.toSet(A.forbidden):{},P=A.constants||N,ja=(A.functions||pa)(D),Ba=A.globalvar,Na=A.fieldvar,Qa=h.isFunction(Ba)?Ba:X=>`${Ba}["${X}"]`;
let eb={},xb={},kb=0;const Sb={Literal:X=>X.raw,Identifier:X=>{X=X.name;if(0<kb)return X;if(h.hasOwnProperty(Da,X))return h.error("Illegal identifier: "+X);if(h.hasOwnProperty(P,X))return P[X];if(h.hasOwnProperty(W,X))return X;eb[X]=1;return Qa(X)},MemberExpression:X=>{const Ha=!X.computed,Nb=D(X.object);Ha&&(kb+=1);X=D(X.property);if(Nb===Na){var nc=xb;var Wb=(Wb=X&&X.length-1)&&('"'===X[0]&&'"'===X[Wb]||"'"===X[0]&&"'"===X[Wb])?X.slice(1,-1):X;nc[Wb]=1}Ha&&--kb;return Nb+(Ha?"."+X:"["+X+"]")},CallExpression:X=>
{"Identifier"!==X.callee.type&&h.error("Illegal callee type: "+X.callee.type);const Ha=X.callee.name;X=X.arguments;const Nb=h.hasOwnProperty(ja,Ha)&&ja[Ha];Nb||h.error("Unrecognized function: "+Ha);return h.isFunction(Nb)?Nb(X):Nb+"("+X.map(D).join(",")+")"},ArrayExpression:X=>"["+X.elements.map(D).join(",")+"]",BinaryExpression:X=>"("+D(X.left)+" "+X.operator+" "+D(X.right)+")",UnaryExpression:X=>"("+X.operator+D(X.argument)+")",ConditionalExpression:X=>"("+D(X.test)+"?"+D(X.consequent)+":"+D(X.alternate)+
")",LogicalExpression:X=>"("+D(X.left)+X.operator+D(X.right)+")",ObjectExpression:X=>"{"+X.properties.map(D).join(",")+"}",Property:X=>{kb+=1;const Ha=D(X.key);--kb;return Ha+":"+D(X.value)}};H.functions=ja;H.constants=P;return H};w.constants=N;w.functions=pa;w.parseExpression=function(A){sa=A;m=0;F=sa.length;L=null;lc();A=Ma();if(2!==L.type)throw Error("Unexpect token after expression.");return A}})};
shadow$provide[47]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(21),ob(46)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega))})(this,function(w,h,ka){function Za(ta,ha){return null==ta||null==ha?NaN:ta<ha?-1:ta>ha?1:ta>=ha?0:NaN}function zb(ta,ha){return null==ta||null==ha?NaN:ha<ta?-1:ha>ta?1:ha>=ta?0:NaN}function Vb(){return 0}function Zb({_intern:ta,
_key:ha},ya){ha=ha(ya);return ta.has(ha)?ta.get(ha):ya}function Ub({_intern:ta,_key:ha},ya){ha=ha(ya);if(ta.has(ha))return ta.get(ha);ta.set(ha,ya);return ya}function jc({_intern:ta,_key:ha},ya){ha=ha(ya);ta.has(ha)&&(ya=ta.get(ha),ta.delete(ha));return ya}function Bb(ta){return null!==ta&&"object"===typeof ta?ta.valueOf():ta}function Rb(ta){return ta instanceof $a?ta:new $a(ta)}function ec(ta){ta.getter&&ta.getter[vb]||(ta.getter=h.field(ta.field),ta.getter[vb]=!0);return ta.getter}function Ea(ta,
ha){var ya=ha.fields;ha=ha.values;for(var Ra=ya.length,Wa=0,Ja,ib;Wa<Ra;++Wa)if(ib=ya[Wa],Ja=ec(ib)(ta),h.isDate(Ja)&&(Ja=h.toNumber(Ja)),h.isDate(ha[Wa])&&(ha[Wa]=h.toNumber(ha[Wa])),h.isArray(ha[Wa])&&h.isDate(ha[Wa][0])&&(ha[Wa]=ha[Wa].map(h.toNumber)),"E"===ib.type){if(h.isArray(ha[Wa])?!ha[Wa].includes(Ja):Ja!==ha[Wa])return!1}else if("R"===ib.type){if(!h.inrange(Ja,ha[Wa]))return!1}else if("R-RE"===ib.type){if(!h.inrange(Ja,ha[Wa],!0,!1))return!1}else if("R-E"===ib.type){if(!h.inrange(Ja,ha[Wa],
!1,!1))return!1}else if("R-LE"===ib.type){if(!h.inrange(Ja,ha[Wa],!1,!0))return!1}else if("E-LT"===ib.type){if(Ja>=ha[Wa])return!1}else if("E-LTE"===ib.type){if(Ja>ha[Wa])return!1}else if("E-GT"===ib.type){if(Ja<=ha[Wa])return!1}else if("E-GTE"===ib.type){if(Ja<ha[Wa])return!1}else if("E-VALID"===ib.type){if(null===Ja||isNaN(Ja))return!1}else if("E-ONE"===ib.type&&-1===ha[Wa].indexOf(Ja))return!1;return!0}class $a extends Set{constructor(ta,ha=Bb){super();Object.defineProperties(this,{_intern:{value:new Map},
_key:{value:ha}});if(null!=ta)for(const ya of ta)this.add(ya)}has(ta){return super.has(Zb(this,ta))}add(ta){return super.add(Ub(this,ta))}delete(ta){return super.delete(jc(this,ta))}}const vb=Symbol("vega_selection_getter"),ub=h.field("_vgsid_"),sb=function(ta){function ha(Ja,ib,cb=0,tb=Ja.length){if(cb<tb){if(0!==ya(ib,ib))return tb;do{const Pb=cb+tb>>>1;0>Ra(Ja[Pb],ib)?cb=Pb+1:tb=Pb}while(cb<tb)}return cb}let ya,Ra,Wa;2!==ta.length?(ya=Za,Ra=(Ja,ib)=>Za(ta(Ja),ib),Wa=(Ja,ib)=>ta(Ja)-ib):(ya=ta===
Za||ta===zb?ta:Vb,Wa=Ra=ta);return{left:ha,center:function(Ja,ib,cb=0,tb=Ja.length){tb=ha(Ja,ib,cb,tb-1);return tb>cb&&Wa(Ja[tb-1],ib)>-Wa(Ja[tb],ib)?tb-1:tb},right:function(Ja,ib,cb=0,tb=Ja.length){if(cb<tb){if(0!==ya(ib,ib))return tb;do{const Pb=cb+tb>>>1;0>=Ra(Ja[Pb],ib)?cb=Pb+1:tb=Pb}while(cb<tb)}return cb}}}(ub),wb=sb.left,jb=sb.right;var lc={_vgsid__union:function(...ta){const ha=new $a;for(const ya of ta)for(const Ra of ya)ha.add(Ra);return ha},_vgsid__intersect:function(ta,...ha){ta=new $a(ta);
ha=ha.map(Rb);a:for(const ya of ta)for(const Ra of ha)if(!Ra.has(ya)){ta.delete(ya);continue a}return ta},E_union:function(ta,ha){if(!ta.length)return ha;for(var ya=0,Ra=ha.length;ya<Ra;++ya)ta.includes(ha[ya])||ta.push(ha[ya]);return ta},E_intersect:function(ta,ha){return ta.length?ta.filter(ya=>ha.includes(ya)):ha},R_union:function(ta,ha){var ya=h.toNumber(ha[0]),Ra=h.toNumber(ha[1]);ya>Ra&&(ya=ha[1],Ra=ha[0]);if(!ta.length)return[ya,Ra];ta[0]>ya&&(ta[0]=ya);ta[1]<Ra&&(ta[1]=Ra);return ta},R_intersect:function(ta,
ha){var ya=h.toNumber(ha[0]),Ra=h.toNumber(ha[1]);ya>Ra&&(ya=ha[1],Ra=ha[0]);if(!ta.length)return[ya,Ra];if(Ra<ta[0]||ta[1]<ya)return[];ta[0]<ya&&(ta[0]=ya);ta[1]>Ra&&(ta[1]=Ra);return ta}};w.selectionIdTest=function(ta,ha,ya){var Ra=this.context.data[ta];ta=Ra?Ra.values.value:[];Ra=Ra?Ra["index:unit"]&&Ra["index:unit"].value:void 0;ya="intersect"===ya;ha=ub(ha);const Wa=wb(ta,ha);if(Wa===ta.length||ub(ta[Wa])!==ha)return!1;if(Ra&&ya){if(1===Ra.size)return!0;if(jb(ta,ha)-Wa<Ra.size)return!1}return!0};
w.selectionResolve=function(ta,ha,ya,Ra){ta=(ta=this.context.data[ta])?ta.values.value:[];for(var Wa={},Ja={},ib={},cb,tb,Pb,gb,V,aa,da=ta.length,ia=0,Ma,pa;ia<da;++ia)if(cb=ta[ia],gb=cb.unit,tb=cb.fields,Pb=cb.values,tb&&Pb){Ma=0;for(pa=tb.length;Ma<pa;++Ma)V=tb[Ma],cb=Wa[V.field]||(Wa[V.field]={}),aa=cb[gb]||(cb[gb]=[]),ib[V.field]=V=V.type.charAt(0),V=lc[`${V}_union`],cb[gb]=V(aa,h.array(Pb[Ma]));ya&&(aa=Ja[gb]||(Ja[gb]=[]),aa.push(h.array(Pb).reduce((sa,m,F)=>(sa[tb[F].field]=m,sa),{})))}else V=
"_vgsid_",Pb=ub(cb),cb=Wa[V]||(Wa[V]={}),aa=cb[gb]||(cb[gb]=[]),aa.push(Pb),ya&&(aa=Ja[gb]||(Ja[gb]=[]),aa.push({_vgsid_:Pb}));ha=ha||"union";Wa._vgsid_?Wa._vgsid_=lc[`${"_vgsid_"}_${ha}`](...Object.values(Wa._vgsid_)):Object.keys(Wa).forEach(sa=>{Wa[sa]=Object.keys(Wa[sa]).map(m=>Wa[sa][m]).reduce((m,F)=>void 0===m?F:lc[`${ib[sa]}_${ha}`](m,F))});ta=Object.keys(Ja);ya&&ta.length&&(Wa[Ra?"vlPoint":"vlMulti"]="union"===ha?{or:ta.reduce((sa,m)=>(sa.push(...Ja[m]),sa),[])}:{and:ta.map(sa=>({or:Ja[sa]}))});
return Wa};w.selectionTest=function(ta,ha,ya){var Ra=this.context.data[ta];ta=Ra?Ra.values.value:[];Ra=Ra?Ra["index:unit"]&&Ra["index:unit"].value:void 0;ya="intersect"===ya;for(var Wa=ta.length,Ja=0,ib,cb,tb,Pb;Ja<Wa;++Ja)if(ib=ta[Ja],Ra&&ya){if(cb=cb||{},tb=cb[Pb=ib.unit]||0,-1!==tb){ib=Ea(ha,ib);cb[Pb]=ib?-1:++tb;if(ib&&1===Ra.size)return!0;if(!ib&&tb===Ra.get(Pb).count)return!1}}else if(ib=Ea(ha,ib),ya^ib)return ib;return Wa&&ya};w.selectionTuples=function(ta,ha){return ta.map(ya=>h.extend(ha.fields?
{values:ha.fields.map(Ra=>ec(Ra)(ya.datum))}:{_vgsid_:ub(ya.datum)},ha))};w.selectionVisitor=function(ta,ha,ya,Ra){ha[0].type!==ka.Literal&&h.error("First argument to selection functions must be a string literal.");ta=ha[0].value;ha=2<=ha.length&&h.peek(ha).value;const Wa=":"+ta;"intersect"!==ha||h.hasOwnProperty(Ra,"@unit")||(Ra["@unit"]=ya.getData(ta).indataRef(ya,"unit"));h.hasOwnProperty(Ra,Wa)||(Ra[Wa]=ya.getData(ta).tuplesRef())}})};
shadow$provide[48]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(21),ob(46),ob(33),ob(29),ob(34),ob(47),ob(30),ob(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega,w.vega,w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,h,ka,Za,zb,Vb,Zb,
Ub,jc){function Bb(U){return(U=this.context.data[U])?U.values.value:[]}function Rb(U,La,lb){return(lb=(U=this.context.data[U]["index:"+La])?U.value.get(lb):void 0)?lb.count:lb}function ec(U,La){const lb=this.context.dataflow;lb.pulse(this.context.data[U].input,lb.changeset().remove(h.truthy).insert(La));return 1}function Ea(U,La,lb){if(U){const xc=this.context.dataflow;xc.pulse(U.mark.source,xc.changeset().encode(U,La))}return void 0!==lb?lb:U}function $a(U,La,lb){if(!Number.isInteger(U)||!Number.isInteger(La))return"";
ze.setYear(2E3);ze.setMonth(U);ze.setDate(La);return Pe.call(this,ze,lb)}function vb(U){return $a.call(this,U,1,"%B")}function ub(U){return $a.call(this,U,1,"%b")}function sb(U){return $a.call(this,0,2+U,"%A")}function wb(U){return $a.call(this,0,2+U,"%a")}function jb(U,La,lb,xc){La[0].type!==ka.Literal&&h.error("First argument to data functions must be a string literal.");U=La[0].value;La=":"+U;if(!h.hasOwnProperty(La,xc))try{xc[La]=lb.getData(U).tuplesRef()}catch(Bc){}}function lc(U,La,lb,xc){La[0].type!==
ka.Literal&&h.error("First argument to indata must be a string literal.");La[1].type!==ka.Literal&&h.error("Second argument to indata must be a string literal.");U=La[0].value;La=La[1].value;const Bc="@"+La;h.hasOwnProperty(Bc,xc)||(xc[Bc]=lb.getData(U).indataRef(lb,La))}function ta(U,La,lb,xc){if(La[0].type===ka.Literal)ha(lb,xc,La[0].value);else for(U in lb.scales)ha(lb,xc,U)}function ha(U,La,lb){const xc="%"+lb;if(!h.hasOwnProperty(La,xc))try{La[xc]=U.scaleRef(lb)}catch(Bc){}}function ya(U,La){if(h.isString(U))return(U=
La.scales[U])&&Za.isRegisteredScale(U.value)?U.value:void 0;if(h.isFunction(U))return Za.isRegisteredScale(U)?U:void 0}function Ra(U,La,lb){La.__bandwidth=Bc=>Bc&&Bc.bandwidth?Bc.bandwidth():0;lb._bandwidth=ta;lb._range=ta;lb._scale=ta;const xc=Bc=>"_["+(Bc.type===ka.Literal?h.stringValue("%"+Bc.value):h.stringValue("%")+"+"+U(Bc))+"]";return{_bandwidth:Bc=>`this.__bandwidth(${xc(Bc[0])})`,_range:Bc=>`${xc(Bc[0])}.range()`,_scale:Bc=>`${xc(Bc[0])}(${U(Bc[1])})`}}function Wa(U){return 1<U?Va:-1>U?
-Va:Math.asin(U)}function Ja(){}function ib(U,La){if(U&&af.hasOwnProperty(U.type))af[U.type](U,La)}function cb(U,La,lb){var xc=-1;lb=U.length-lb;for(La.lineStart();++xc<lb;){var Bc=U[xc];La.point(Bc[0],Bc[1],Bc[2])}La.lineEnd()}function tb(U,La){var lb=-1,xc=U.length;for(La.polygonStart();++lb<xc;)cb(U[lb],La,1);La.polygonEnd()}function Pb(U,La){if(U&&Ve.hasOwnProperty(U.type))Ve[U.type](U,La);else ib(U,La)}function gb(){ue.point=aa}function V(){da(xf,Be)}function aa(U,La){ue.point=da;xf=U;Be=La;
U*=Zc;La*=Zc;Ue=U;We=Pd(La=La/2+dc);pe=gd(La)}function da(U,La){U*=Zc;La*=Zc;La=La/2+dc;var lb=U-Ue,xc=0<=lb?1:-1,Bc=xc*lb;lb=Pd(La);La=gd(La);var wd=pe*La,Xd=We*lb+wd*Pd(Bc);xc=wd*xc*gd(Bc);he.add(Zd(xc,Xd));Ue=U;We=lb;pe=La}function ia(U,La){return[U[1]*La[2]-U[2]*La[1],U[2]*La[0]-U[0]*La[2],U[0]*La[1]-U[1]*La[0]]}function Ma(U,La){rb.push(nb=[ae=U,l=U]);La<qa&&(qa=La);La>q&&(q=La)}function pa(U,La){var lb=[U*Zc,La*Zc];var xc=lb[0];lb=lb[1];var Bc=Pd(lb);xc=[Bc*Pd(xc),Bc*gd(xc),gd(lb)];if(Pa){lb=
ia(Pa,xc);Bc=lb=ia([lb[1],-lb[0],0],lb);var wd=se(Bc[0]*Bc[0]+Bc[1]*Bc[1]+Bc[2]*Bc[2]);Bc[0]/=wd;Bc[1]/=wd;Bc[2]/=wd;lb=[Zd(lb[1],lb[0]),Wa(lb[2])];var Xd=U-J;Bc=0<Xd?1:-1;wd=lb[0]*fd*Bc;Xd=180<Bd(Xd);Xd^(Bc*J<wd&&wd<Bc*U)?(lb=lb[1]*fd,lb>q&&(q=lb)):(wd=(wd+360)%360-180,Xd^(Bc*J<wd&&wd<Bc*U))?(lb=-lb[1]*fd,lb<qa&&(qa=lb)):(La<qa&&(qa=La),La>q&&(q=La));Xd?U<J?R(ae,U)>R(ae,l)&&(l=U):R(U,l)>R(ae,l)&&(ae=U):l>=ae?(U<ae&&(ae=U),U>l&&(l=U)):U>J?R(ae,U)>R(ae,l)&&(l=U):R(U,l)>R(ae,l)&&(ae=U)}else rb.push(nb=
[ae=U,l=U]);La<qa&&(qa=La);La>q&&(q=La);Pa=xc;J=U}function sa(){pc.point=pa}function m(){nb[0]=ae;nb[1]=l;pc.point=Ma;Pa=null}function F(U,La){if(Pa){var lb=U-J;Ka.add(180<Bd(lb)?lb+(0<lb?360:-360):lb)}else la=U,Ga=La;ue.point(U,La);pa(U,La)}function L(){ue.lineStart()}function u(){F(la,Ga);ue.lineEnd();1E-6<Bd(Ka)&&(ae=-(l=180));nb[0]=ae;nb[1]=l;Pa=null}function R(U,La){return 0>(La-=U)?La+360:La}function B(U,La){return U[0]-La[0]}function z(U,La){return U[0]<=U[1]?U[0]<=La&&La<=U[1]:La<U[0]||U[1]<
La}function N(U,La){U*=Zc;La*=Zc;var lb=Pd(La);A(lb*Pd(U),lb*gd(U),gd(La))}function A(U,La,lb){++rc;tc+=(U-tc)/rc;Hc+=(La-Hc)/rc;Uc+=(lb-Uc)/rc}function D(){le.point=H}function H(U,La){U*=Zc;La*=Zc;var lb=Pd(La);Wd=lb*Pd(U);Ad=lb*gd(U);xd=gd(La);le.point=W;A(Wd,Ad,xd)}function W(U,La){U*=Zc;La*=Zc;var lb=Pd(La),xc=lb*Pd(U);U=lb*gd(U);La=gd(La);var Bc=Zd(se((Bc=Ad*La-xd*U)*Bc+(Bc=xd*xc-Wd*La)*Bc+(Bc=Wd*U-Ad*xc)*Bc),Wd*xc+Ad*U+xd*La);uc+=Bc;Fd+=Bc*(Wd+(Wd=xc));od+=Bc*(Ad+(Ad=U));vd+=Bc*(xd+(xd=La));
A(Wd,Ad,xd)}function Da(){le.point=N}function P(){le.point=Ba}function ja(){Na(qe,de);le.point=N}function Ba(U,La){qe=U;de=La;U*=Zc;La*=Zc;le.point=Na;var lb=Pd(La);Wd=lb*Pd(U);Ad=lb*gd(U);xd=gd(La);A(Wd,Ad,xd)}function Na(U,La){U*=Zc;La*=Zc;var lb=Pd(La),xc=lb*Pd(U);U=lb*gd(U);La=gd(La);lb=Ad*La-xd*U;var Bc=xd*xc-Wd*La,wd=Wd*U-Ad*xc,Xd=He(lb,Bc,wd),Id=Wa(Xd);Xd=Xd&&-Id/Xd;Gd.add(Xd*lb);kc.add(Xd*Bc);qd.add(Xd*wd);uc+=Id;Fd+=Id*(Wd+(Wd=xc));od+=Id*(Ad+(Ad=U));vd+=Id*(xd+(xd=La));A(Wd,Ad,xd)}function Qa(U,
La){return function(lb,xc,Bc){return lb?(lb=ya(lb,(Bc||this).context))&&lb.path[U](xc):La(xc)}}function eb(U,La){return(U=ya(U,(La||this).context))&&U.scale()}function xb(U){const La=this.context.group;let lb=!1;if(La)for(;U;){if(U===La){lb=!0;break}U=U.mark.group}return lb}function kb(U,La,lb){try{U[La].apply(U,["EXPRESSION"].concat([].slice.call(lb)))}catch(xc){U.warn(xc)}return lb[lb.length-1]}function Sb(){return kb(this.context.dataflow,"warn",arguments)}function X(){return kb(this.context.dataflow,
"info",arguments)}function Ha(){return kb(this.context.dataflow,"debug",arguments)}function Nb(U,La,lb){U.prototype=La.prototype=lb;lb.constructor=U}function nc(U,La){U=Object.create(U.prototype);for(var lb in La)U[lb]=La[lb];return U}function Wb(){}function Jb(){return this.rgb().formatHex()}function Lb(){return this.rgb().formatRgb()}function sc(U){var La,lb;U=(U+"").trim().toLowerCase();return(La=je.exec(U))?(lb=La[1].length,La=parseInt(La[1],16),6===lb?Oc(La):3===lb?new yb(La>>8&15|La>>4&240,
La>>4&15|La&240,(La&15)<<4|La&15,1):8===lb?ra(La>>24&255,La>>16&255,La>>8&255,(La&255)/255):4===lb?ra(La>>12&15|La>>8&240,La>>8&15|La>>4&240,La>>4&15|La&240,((La&15)<<4|La&15)/255):null):(La=ef.exec(U))?new yb(La[1],La[2],La[3],1):(La=jf.exec(U))?new yb(255*La[1]/100,255*La[2]/100,255*La[3]/100,1):(La=Dg.exec(U))?ra(La[1],La[2],La[3],La[4]):(La=tf.exec(U))?ra(255*La[1]/100,255*La[2]/100,255*La[3]/100,La[4]):(La=Mf.exec(U))?Xc(La[1],La[2]/100,La[3]/100,1):(La=ag.exec(U))?Xc(La[1],La[2]/100,La[3]/100,
La[4]):ff.hasOwnProperty(U)?Oc(ff[U]):"transparent"===U?new yb(NaN,NaN,NaN,0):null}function Oc(U){return new yb(U>>16&255,U>>8&255,U&255,1)}function ra(U,La,lb,xc){0>=xc&&(U=La=lb=NaN);return new yb(U,La,lb,xc)}function Eb(U){U instanceof Wb||(U=sc(U));if(!U)return new yb;U=U.rgb();return new yb(U.r,U.g,U.b,U.opacity)}function Ta(U,La,lb,xc){return 1===arguments.length?Eb(U):new yb(U,La,lb,null==xc?1:xc)}function yb(U,La,lb,xc){this.r=+U;this.g=+La;this.b=+lb;this.opacity=+xc}function Gb(){return`#${wc(this.r)}${wc(this.g)}${wc(this.b)}`}
function Cb(){const U=Xb(this.opacity);return`${1===U?"rgb(":"rgba("}${gc(this.r)}, ${gc(this.g)}, ${gc(this.b)}${1===U?")":`, ${U})`}`}function Xb(U){return isNaN(U)?1:Math.max(0,Math.min(1,U))}function gc(U){return Math.max(0,Math.min(255,Math.round(U)||0))}function wc(U){U=gc(U);return(16>U?"0":"")+U.toString(16)}function Xc(U,La,lb,xc){0>=xc?U=La=lb=NaN:0>=lb||1<=lb?U=La=NaN:0>=La&&(U=NaN);return new Ia(U,La,lb,xc)}function Kc(U){if(U instanceof Ia)return new Ia(U.h,U.s,U.l,U.opacity);U instanceof
Wb||(U=sc(U));if(!U)return new Ia;if(U instanceof Ia)return U;U=U.rgb();var La=U.r/255,lb=U.g/255,xc=U.b/255,Bc=Math.min(La,lb,xc),wd=Math.max(La,lb,xc),Xd=NaN,Id=wd-Bc,Tf=(wd+Bc)/2;Id?(Xd=La===wd?(lb-xc)/Id+6*(lb<xc):lb===wd?(xc-La)/Id+2:(La-lb)/Id+4,Id/=.5>Tf?wd+Bc:2-wd-Bc,Xd*=60):Id=0<Tf&&1>Tf?0:Xd;return new Ia(Xd,Id,Tf,U.opacity)}function na(U,La,lb,xc){return 1===arguments.length?Kc(U):new Ia(U,La,lb,null==xc?1:xc)}function Ia(U,La,lb,xc){this.h=+U;this.s=+La;this.l=+lb;this.opacity=+xc}function hb(U){U=
(U||0)%360;return 0>U?U+360:U}function S(U){return Math.max(0,Math.min(1,U||0))}function v(U,La,lb){return 255*(60>U?La+(lb-La)*U/60:180>U?lb:240>U?La+(lb-La)*(240-U)/60:La)}function ca(U){if(U instanceof Fa)return new Fa(U.l,U.a,U.b,U.opacity);if(U instanceof yc)return Ic(U);U instanceof yb||(U=Eb(U));var La=Fb(U.r),lb=Fb(U.g),xc=Fb(U.b),Bc=Ua(.2225045*La+.7168786*lb+.0606169*xc);if(La===lb&&lb===xc)var wd=La=Bc;else wd=Ua((.4360747*La+.3850649*lb+.1430804*xc)/.96422),La=Ua((.0139322*La+.0971045*
lb+.7141733*xc)/.82521);return new Fa(116*Bc-16,500*(wd-Bc),200*(Bc-La),U.opacity)}function za(U,La,lb,xc){return 1===arguments.length?ca(U):new Fa(U,La,lb,null==xc?1:xc)}function Fa(U,La,lb,xc){this.l=+U;this.a=+La;this.b=+lb;this.opacity=+xc}function Ua(U){return U>Gf?Math.pow(U,1/3):U/cg+Tg}function mb(U){return U>Af?U*U*U:cg*(U-Tg)}function Mb(U){return 255*(.0031308>=U?12.92*U:1.055*Math.pow(U,1/2.4)-.055)}function Fb(U){return.04045>=(U/=255)?U/12.92:Math.pow((U+.055)/1.055,2.4)}function Kb(U){if(U instanceof
yc)return new yc(U.h,U.c,U.l,U.opacity);U instanceof Fa||(U=ca(U));if(0===U.a&&0===U.b)return new yc(NaN,0<U.l&&100>U.l?0:NaN,U.l,U.opacity);var La=Math.atan2(U.b,U.a)*bg;return new yc(0>La?La+360:La,Math.sqrt(U.a*U.a+U.b*U.b),U.l,U.opacity)}function vc(U,La,lb,xc){return 1===arguments.length?Kb(U):new yc(U,La,lb,null==xc?1:xc)}function yc(U,La,lb,xc){this.h=+U;this.c=+La;this.l=+lb;this.opacity=+xc}function Ic(U){if(isNaN(U.h))return new Fa(U.l,0,0,U.opacity);var La=U.h*Le;return new Fa(U.l,Math.cos(La)*
U.c,Math.sin(La)*U.c,U.opacity)}function kd(U){U/=255;return.03928>=U?U/12.92:Math.pow((U+.055)/1.055,2.4)}function $c(U){var La=Ta(U);U=kd(La.r);const lb=kd(La.g);La=kd(La.b);return.2126*U+.7152*lb+.0722*La}function Pc(U,La){U=$c(U);La=$c(La);return(Math.max(U,La)+.05)/(Math.min(U,La)+.05)}function hd(){const U=[].slice.call(arguments);U.unshift({});return h.extend(...U)}function md(U,La){if(U===La||U!==U&&La!==La)U=!0;else if(h.isArray(U))if(h.isArray(La)&&U.length===La.length)a:{for(let lb=0,xc=
U.length;lb<xc;++lb)if(!md(U[lb],La[lb])){U=!1;break a}U=!0}else U=!1;else U=h.isObject(U)&&h.isObject(La)?ad(U,La):!1;return U}function ad(U,La){for(const lb in U)if(!md(U[lb],La[lb]))return!1;return!0}function ke(U){return La=>ad(U,La)}function id(U,La,lb,xc,Bc,wd){const Xd=this.context.dataflow,Id=this.context.data[U],Tf=Id.input;U=Xd.stamp();let kf=Id.changes,wg;if(!1===Xd._trigger||!(Tf.value.length||La||xc))return 0;if(!kf||kf.stamp<U)Id.changes=kf=Xd.changeset(),kf.stamp=U,Xd.runAfter(()=>
{Id.modified=!0;Xd.pulse(Tf,kf).run()},!0,1);lb&&(lb=!0===lb?h.truthy:h.isArray(lb)||zb.isTuple(lb)?lb:ke(lb),kf.remove(lb));La&&kf.insert(La);xc&&(lb=ke(xc),Tf.value.some(lb)?kf.remove(lb):kf.insert(xc));if(Bc)for(wg in wd)kf.modify(Bc,wg,wd[wg]);return 1}function y(U){U=U.touches;return Math.hypot(U[0].clientX-U[1].clientX,U[0].clientY-U[1].clientY)}function K(U){U=U.touches;return Math.atan2(U[0].clientY-U[1].clientY,U[0].clientX-U[1].clientX)}function ua(U,La){La=Ug[La]||(Ug[La]=h.field(La));
return h.isArray(U)?U.map(La):La(U)}function t(U){return h.isArray(U)||ArrayBuffer.isView(U)?U:null}function O(U){return t(U)||(h.isString(U)?U:null)}function ba(U,...La){return t(U).join(...La)}function xa(U,...La){return O(U).indexOf(...La)}function oa(U,...La){return O(U).lastIndexOf(...La)}function ab(U,...La){return O(U).slice(...La)}function Qb(U,La,lb){h.isFunction(lb)&&h.error("Function argument passed to replace.");h.isString(La)||h.isRegExp(La)||h.error("Please pass a string or RegExp argument to replace.");
return String(U).replace(La,lb)}function Yb(U){return t(U).slice().reverse()}function ic(U){return t(U).slice().sort(h.ascending)}function Ac(U,La,lb){return Za.bandSpace(U||0,La||0,lb||0)}function Mc(U,La){return(U=ya(U,(La||this).context))&&U.bandwidth?U.bandwidth():0}function Nc(U,La){return(U=ya(U,(La||this).context))?U.copy():void 0}function Wc(U,La){return(U=ya(U,(La||this).context))?U.domain():[]}function td(U,La,lb){return(U=ya(U,(lb||this).context))?h.isArray(La)?(U.invertRange||U.invert)(La):
(U.invert||U.invertExtent)(La):void 0}function ud(U,La){return(U=ya(U,(La||this).context))&&U.range?U.range():[]}function ee(U,La,lb){return(U=ya(U,(lb||this).context))?U(La):void 0}function Kd(U,La,lb,xc,Bc){U=ya(U,(Bc||this).context);const wd=Vb.Gradient(La,lb);La=U.domain();lb=La[0];Bc=h.peek(La);let Xd=h.identity;Bc-lb?Xd=Za.scaleFraction(U,lb,Bc):U=(U.interpolator?Za.scale("sequential")().interpolator(U.interpolator()):Za.scale("linear")().interpolate(U.interpolate()).range(U.range())).domain([lb=
0,Bc=1]);U.ticks&&(La=U.ticks(+xc||15),lb!==La[0]&&La.unshift(lb),Bc!==h.peek(La)&&La.push(Bc));La.forEach(Id=>wd.stop(Xd(Id),U(Id)));return wd}function ge(U,La,lb){const xc=ya(U,(lb||this).context);return function(Bc){return xc?xc.path.context(Bc)(La):""}}function Je(U){let La=null;return function(lb){return lb?Vb.pathRender(lb,La=La||Vb.pathParse(U)):U}}function Ie(U,La){U=Bb.call(La,U);return U.root&&U.root.lookup||{}}function Ne(U,La,lb){U=Ie(U,this);La=U[La];lb=U[lb];return La&&lb?La.path(lb).map(eh):
void 0}function $e(U,La){return(U=Ie(U,this)[La])?U.ancestors().map(eh):void 0}function Ae(){const U="undefined"!==typeof window&&window||null;return U?U.screen:{}}function Ge(){const U="undefined"!==typeof window&&window||null;return U?[U.innerWidth,U.innerHeight]:[void 0,void 0]}function oe(){var U=this.context.dataflow;return(U=U.container&&U.container())?[U.clientWidth,U.clientHeight]:[void 0,void 0]}function Ee(U,La,lb){if(!U)return[];const [xc,Bc]=U;U=(new Vb.Bounds).set(xc[0],xc[1],Bc[0],Bc[1]);
lb=lb||this.context.dataflow.scenegraph().root;return Vb.intersect(lb,U,ye(La))}function ye(U){let La=null;if(U){const lb=h.array(U.marktype),xc=h.array(U.markname);La=Bc=>(!lb.length||lb.some(wd=>Bc.marktype===wd))&&(!xc.length||xc.some(wd=>Bc.name===wd))}return La}function yd(U,La,lb){if(1===arguments.length)return Sg[U];Sg[U]=La;lb&&(Wg[U]=lb);Hf&&(Hf.functions[U]="this."+U);return this}const fg=U=>function(La,lb){const xc=this.context.dataflow.locale();return null===La?"null":xc[U](lb)(La)},Ze=
fg("format"),Pe=fg("timeFormat"),Qe=fg("utcFormat"),Ke=fg("timeParse"),Ed=fg("utcParse"),ze=new Date(2E3,0,1);class ie{constructor(){this._partials=new Float64Array(32);this._n=0}add(U){const La=this._partials;let lb=0;for(let xc=0;xc<this._n&&32>xc;xc++){const Bc=La[xc],wd=U+Bc;(U=Math.abs(U)<Math.abs(Bc)?U-(wd-Bc):Bc-(wd-U))&&(La[lb++]=U);U=wd}La[lb]=U;this._n=lb+1;return this}valueOf(){const U=this._partials;let La=this._n;let lb,xc=0;if(0<La){for(xc=U[--La];0<La;){var Bc=xc;lb=U[--La];xc=Bc+lb;
if(Bc=lb-(xc-Bc))break}0<La&&(0>Bc&&0>U[La-1]||0<Bc&&0<U[La-1])&&(lb=2*Bc,Bc=xc+lb,lb==Bc-xc&&(xc=Bc))}return xc}}var Ca=Math.PI,Va=Ca/2,dc=Ca/4,dd=2*Ca,fd=180/Ca,Zc=Ca/180,Bd=Math.abs,Zd=Math.atan2,Pd=Math.cos,He=Math.hypot,gd=Math.sin,se=Math.sqrt,Ve={Feature:function(U,La){ib(U.geometry,La)},FeatureCollection:function(U,La){U=U.features;for(var lb=-1,xc=U.length;++lb<xc;)ib(U[lb].geometry,La)}},af={Sphere:function(U,La){La.sphere()},Point:function(U,La){U=U.coordinates;La.point(U[0],U[1],U[2])},
MultiPoint:function(U,La){for(var lb=U.coordinates,xc=-1,Bc=lb.length;++xc<Bc;)U=lb[xc],La.point(U[0],U[1],U[2])},LineString:function(U,La){cb(U.coordinates,La,0)},MultiLineString:function(U,La){U=U.coordinates;for(var lb=-1,xc=U.length;++lb<xc;)cb(U[lb],La,0)},Polygon:function(U,La){tb(U.coordinates,La)},MultiPolygon:function(U,La){U=U.coordinates;for(var lb=-1,xc=U.length;++lb<xc;)tb(U[lb],La)},GeometryCollection:function(U,La){U=U.geometries;for(var lb=-1,xc=U.length;++lb<xc;)ib(U[lb],La)}},he=
new ie,lf=new ie,xf,Be,Ue,We,pe,ue={point:Ja,lineStart:Ja,lineEnd:Ja,polygonStart:function(){he=new ie;ue.lineStart=gb;ue.lineEnd=V},polygonEnd:function(){var U=+he;lf.add(0>U?dd+U:U);this.lineStart=this.lineEnd=this.point=Ja},sphere:function(){lf.add(dd)}},ae,qa,l,q,J,la,Ga,Pa,Ka,rb,nb,pc={point:Ma,lineStart:sa,lineEnd:m,polygonStart:function(){pc.point=F;pc.lineStart=L;pc.lineEnd=u;Ka=new ie;ue.polygonStart()},polygonEnd:function(){ue.polygonEnd();pc.point=Ma;pc.lineStart=sa;pc.lineEnd=m;0>he?(ae=
-(l=180),qa=-(q=90)):1E-6<Ka?q=90:-1E-6>Ka&&(qa=-90);nb[0]=ae;nb[1]=l},sphere:function(){ae=-(l=180);qa=-(q=90)}},rc,uc,tc,Hc,Uc,Fd,od,vd,Gd,kc,qd,qe,de,Wd,Ad,xd,le={sphere:Ja,point:N,lineStart:D,lineEnd:Da,polygonStart:function(){le.lineStart=P;le.lineEnd=ja},polygonEnd:function(){le.lineStart=D;le.lineEnd=Da}};const ve=Qa("area",function(U){lf=new ie;Pb(U,ue);return 2*lf}),be=Qa("bounds",function(U){var La,lb,xc;q=l=-(ae=qa=Infinity);rb=[];Pb(U,pc);if(La=rb.length){rb.sort(B);U=1;var Bc=rb[0];for(lb=
[Bc];U<La;++U){var wd=rb[U];z(Bc,wd[0])||z(Bc,wd[1])?(R(Bc[0],wd[1])>R(Bc[0],Bc[1])&&(Bc[1]=wd[1]),R(wd[0],Bc[1])>R(Bc[0],Bc[1])&&(Bc[0]=wd[0])):lb.push(Bc=wd)}var Xd=-Infinity;La=lb.length-1;U=0;for(Bc=lb[La];U<=La;Bc=wd,++U)wd=lb[U],(xc=R(Bc[1],wd[0]))>Xd&&(Xd=xc,ae=wd[0],l=Bc[1])}rb=nb=null;return Infinity===ae||Infinity===qa?[[NaN,NaN],[NaN,NaN]]:[[ae,qa],[l,q]]}),Ce=Qa("centroid",function(U){rc=uc=tc=Hc=Uc=Fd=od=vd=0;Gd=new ie;kc=new ie;qd=new ie;Pb(U,le);U=+Gd;var La=+kc,lb=+qd,xc=He(U,La,lb);
return 1E-12>xc&&(U=Fd,La=od,lb=vd,1E-6>uc&&(U=tc,La=Hc,lb=Uc),xc=He(U,La,lb),1E-12>xc)?[NaN,NaN]:[Zd(La,U)*fd,Wa(lb/xc)*fd]});var Vc=1/.7,je=/^#([0-9a-f]{3,8})$/,ef=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),jf=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Dg=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
tf=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Mf=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),ag=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
ff={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nb(Wb,sc,{copy(U){return Object.assign(new this.constructor,this,U)},displayable(){return this.rgb().displayable()},hex:Jb,formatHex:Jb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Kc(this).formatHsl()},formatRgb:Lb,toString:Lb});Nb(yb,Ta,nc(Wb,{brighter(U){U=null==U?Vc:Math.pow(Vc,U);return new yb(this.r*U,this.g*U,this.b*U,this.opacity)},
darker(U){U=null==U?.7:Math.pow(.7,U);return new yb(this.r*U,this.g*U,this.b*U,this.opacity)},rgb(){return this},clamp(){return new yb(gc(this.r),gc(this.g),gc(this.b),Xb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Gb,formatHex:Gb,formatHex8:function(){return`#${wc(this.r)}${wc(this.g)}${wc(this.b)}${wc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Cb,toString:Cb}));Nb(Ia,na,nc(Wb,
{brighter(U){U=null==U?Vc:Math.pow(Vc,U);return new Ia(this.h,this.s,this.l*U,this.opacity)},darker(U){U=null==U?.7:Math.pow(.7,U);return new Ia(this.h,this.s,this.l*U,this.opacity)},rgb(){var U=this.h%360+360*(0>this.h),La=isNaN(U)||isNaN(this.s)?0:this.s,lb=this.l;La=lb+(.5>lb?lb:1-lb)*La;lb=2*lb-La;return new yb(v(240<=U?U-240:U+120,lb,La),v(U,lb,La),v(120>U?U+240:U-120,lb,La),this.opacity)},clamp(){return new Ia(hb(this.h),S(this.s),S(this.l),Xb(this.opacity))},displayable(){return(0<=this.s&&
1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const U=Xb(this.opacity);return`${1===U?"hsl(":"hsla("}${hb(this.h)}, ${100*S(this.s)}%, ${100*S(this.l)}%${1===U?")":`, ${U})`}`}}));const Le=Math.PI/180,bg=180/Math.PI,Tg=4/29,Af=6/29,cg=3*Af*Af,Gf=Af*Af*Af;Nb(Fa,za,nc(Wb,{brighter(U){return new Fa(this.l+18*(null==U?1:U),this.a,this.b,this.opacity)},darker(U){return new Fa(this.l-18*(null==U?1:U),this.a,this.b,this.opacity)},rgb(){var U=(this.l+16)/116,
La=isNaN(this.a)?U:U+this.a/500,lb=isNaN(this.b)?U:U-this.b/200;La=.96422*mb(La);U=1*mb(U);lb=.82521*mb(lb);return new yb(Mb(3.1338561*La-1.6168667*U-.4906146*lb),Mb(-.9787684*La+1.9161415*U+.033454*lb),Mb(.0719453*La-.2289914*U+1.4052427*lb),this.opacity)}}));Nb(yc,vc,nc(Wb,{brighter(U){return new yc(this.h,this.c,this.l+18*(null==U?1:U),this.opacity)},darker(U){return new yc(this.h,this.c,this.l-18*(null==U?1:U),this.opacity)},rgb(){return Ic(this).rgb()}}));const Ug={},eh=U=>U.data,Sg={random(){return Ub.random()},
cumulativeNormal:Ub.cumulativeNormal,cumulativeLogNormal:Ub.cumulativeLogNormal,cumulativeUniform:Ub.cumulativeUniform,densityNormal:Ub.densityNormal,densityLogNormal:Ub.densityLogNormal,densityUniform:Ub.densityUniform,quantileNormal:Ub.quantileNormal,quantileLogNormal:Ub.quantileLogNormal,quantileUniform:Ub.quantileUniform,sampleNormal:Ub.sampleNormal,sampleLogNormal:Ub.sampleLogNormal,sampleUniform:Ub.sampleUniform,isArray:h.isArray,isBoolean:h.isBoolean,isDate:h.isDate,isDefined(U){return void 0!==
U},isNumber:h.isNumber,isObject:h.isObject,isRegExp:h.isRegExp,isString:h.isString,isTuple:zb.isTuple,isValid(U){return null!=U&&U===U},toBoolean:h.toBoolean,toDate(U){return h.toDate(U)},toNumber:h.toNumber,toString:h.toString,indexof:xa,join:ba,lastindexof:oa,replace:Qb,reverse:Yb,sort:ic,slice:ab,flush:h.flush,lerp:h.lerp,merge:hd,pad:h.pad,peek:h.peek,pluck:ua,span:h.span,inrange:h.inrange,truncate:h.truncate,rgb:Ta,lab:za,hcl:vc,hsl:na,luminance:$c,contrast:Pc,sequence:function(U,La,lb){U=+U;
La=+La;lb=2>(Bc=arguments.length)?(La=U,U=0,1):3>Bc?1:+lb;for(var xc=-1,Bc=Math.max(0,Math.ceil((La-U)/lb))|0,wd=Array(Bc);++xc<Bc;)wd[xc]=U+xc*lb;return wd},format:Ze,utcFormat:Qe,utcParse:Ed,utcOffset:jc.utcOffset,utcSequence:jc.utcSequence,timeFormat:Pe,timeParse:Ke,timeOffset:jc.timeOffset,timeSequence:jc.timeSequence,timeUnitSpecifier:jc.timeUnitSpecifier,monthFormat:vb,monthAbbrevFormat:ub,dayFormat:sb,dayAbbrevFormat:wb,quarter:h.quarter,utcquarter:h.utcquarter,week:jc.week,utcweek:jc.utcweek,
dayofyear:jc.dayofyear,utcdayofyear:jc.utcdayofyear,warn:Sb,info:X,debug:Ha,extent(U){return h.extent(U)},inScope:xb,intersect:Ee,clampRange:h.clampRange,pinchDistance:y,pinchAngle:K,screen:Ae,containerSize:oe,windowSize:Ge,bandspace:Ac,setdata:ec,pathShape:Je,panLinear:h.panLinear,panLog:h.panLog,panPow:h.panPow,panSymlog:h.panSymlog,zoomLinear:h.zoomLinear,zoomLog:h.zoomLog,zoomPow:h.zoomPow,zoomSymlog:h.zoomSymlog,encode:Ea,modify:id,lassoAppend:function(U,La,lb,xc=5){U=h.array(U);const Bc=U[U.length-
1];return void 0===Bc||Math.hypot(Bc[0]-La,Bc[1]-lb)>xc?[...U,[La,lb]]:U},lassoPath:function(U){return h.array(U).reduce((La,[lb,xc],Bc)=>La+(0==Bc?`M ${lb},${xc} `:Bc===U.length-1?" Z":`L ${lb},${xc} `),"")},intersectLasso:function(U,La,lb){const {x:xc,y:Bc,mark:wd}=lb;lb=(new Vb.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [Xd,Id]of La)Xd<lb.x1&&(lb.x1=Xd),Xd>lb.x2&&(lb.x2=Xd),Id<lb.y1&&(lb.y1=Id),Id>lb.y2&&(lb.y2=Id);lb.translate(xc,
Bc);return Ee([[lb.x1,lb.y1],[lb.x2,lb.y2]],U,wd).filter(Xd=>{var Id=Xd.y;let Tf=0;for(let kf=0,wg=La.length-1;kf<La.length;wg=kf++){const [Uf,Xg]=La[wg],[ig,Kg]=La[kf];Kg>Id!=Xg>Id&&Xd.x<(Uf-ig)*(Id-Kg)/(Xg-Kg)+ig&&Tf++}return Tf&1})}},Vg="view item group xy x y".split(" "),Wg={},kh={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:U=>`_[${h.stringValue("$"+U)}]`,functions:function(U){const La=ka.functions(U);Vg.forEach(lb=>La[lb]="event.vega."+lb);for(const lb in Sg)La[lb]=
"this."+lb;h.extend(La,Ra(U,Sg,Wg));return La},constants:ka.constants,visitors:Wg},Hf=ka.codegenExpression(kh);yd("bandwidth",Mc,ta);yd("copy",Nc,ta);yd("domain",Wc,ta);yd("range",ud,ta);yd("invert",td,ta);yd("scale",ee,ta);yd("gradient",Kd,ta);yd("geoArea",ve,ta);yd("geoBounds",be,ta);yd("geoCentroid",Ce,ta);yd("geoShape",ge,ta);yd("geoScale",eb,ta);yd("indata",Rb,lc);yd("data",Bb,jb);yd("treePath",Ne,jb);yd("treeAncestors",$e,jb);yd("vlSelectionTest",Zb.selectionTest,Zb.selectionVisitor);yd("vlSelectionIdTest",
Zb.selectionIdTest,Zb.selectionVisitor);yd("vlSelectionResolve",Zb.selectionResolve,Zb.selectionVisitor);yd("vlSelectionTuples",Zb.selectionTuples);w.DataPrefix=":";w.IndexPrefix="@";w.ScalePrefix="%";w.SignalPrefix="$";w.bandspace=Ac;w.bandwidth=Mc;w.codeGenerator=Hf;w.codegenParams=kh;w.containerSize=oe;w.contrast=Pc;w.copy=Nc;w.data=Bb;w.dataVisitor=jb;w.dayAbbrevFormat=wb;w.dayFormat=sb;w.debug=Ha;w.domain=Wc;w.encode=Ea;w.expressionFunction=yd;w.format=Ze;w.functionContext=Sg;w.geoArea=ve;w.geoBounds=
be;w.geoCentroid=Ce;w.geoScale=eb;w.geoShape=ge;w.inScope=xb;w.indata=Rb;w.indataVisitor=lc;w.indexof=xa;w.info=X;w.invert=td;w.join=ba;w.lastindexof=oa;w.luminance=$c;w.merge=hd;w.modify=id;w.monthAbbrevFormat=ub;w.monthFormat=vb;w.parseExpression=function(U,La){const lb={};let xc;try{U=h.isString(U)?U:h.stringValue(U)+"",xc=ka.parseExpression(U)}catch(Bc){h.error("Expression parse error: "+U)}xc.visit(Bc=>{if(Bc.type===ka.CallExpression){var wd=Bc.callee.name,Xd=kh.visitors[wd];Xd&&Xd(wd,Bc.arguments,
La,lb)}});U=Hf(xc);U.globals.forEach(Bc=>{const wd="$"+Bc;!h.hasOwnProperty(lb,wd)&&La.getSignal(Bc)&&(lb[wd]=La.signalRef(Bc))});return{$expr:h.extend({code:U.code},La.options.ast?{ast:xc}:null),$fields:U.fields,$params:lb}};w.pathShape=Je;w.pinchAngle=K;w.pinchDistance=y;w.pluck=ua;w.range=ud;w.replace=Qb;w.reverse=Yb;w.scale=ee;w.scaleGradient=Kd;w.scaleVisitor=ta;w.screen=Ae;w.setdata=ec;w.slice=ab;w.sort=ic;w.timeFormat=Pe;w.timeParse=Ke;w.treeAncestors=$e;w.treePath=Ne;w.utcFormat=Qe;w.utcParse=
Ed;w.warn=Sb;w.windowSize=Ge})};
shadow$provide[49]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(21),ob(29)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega))})(this,function(w,h,ka){function Za(Ea,$a,vb){vb.endsWith(";")||(vb="return("+vb+");");$a=Function(...$a.concat(vb));return Ea&&Ea.functions?$a.bind(Ea.functions):$a}function zb(Ea,$a,vb){if(!Ea||!h.isObject(Ea))return Ea;
for(let ub=0,sb=Rb.length,wb;ub<sb;++ub)if(wb=Rb[ub],h.hasOwnProperty(Ea,wb.key))return wb.parse(Ea,$a,vb);return Ea}function Vb(Ea,$a,vb,ub){this.dataflow=Ea;this.transforms=$a;this.events=Ea.events.bind(Ea);this.expr=ub||Bb;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};vb&&(this.functions=Object.create(vb),this.functions.context=this)}function Zb(Ea){this.dataflow=Ea.dataflow;this.transforms=Ea.transforms;this.events=Ea.events;this.expr=Ea.expr;this.signals=Object.create(Ea.signals);
this.scales=Object.create(Ea.scales);this.nodes=Object.create(Ea.nodes);this.data=Object.create(Ea.data);this.fn=Object.create(Ea.fn);Ea.functions&&(this.functions=Object.create(Ea.functions),this.functions.context=this)}const Ub=h.toSet(["rule"]),jc=h.toSet(["group","image","rect"]);var Bb={operator:(Ea,$a)=>Za(Ea,["_"],$a.code),parameter:(Ea,$a)=>Za(Ea,["datum","_"],$a.code),event:(Ea,$a)=>Za(Ea,["event"],$a.code),handler:(Ea,$a)=>Za(Ea,["_","event"],`var datum=event.item&&event.item.datum;return ${$a.code};`),
encode:(Ea,$a)=>{const {marktype:vb,channels:ub}=$a;$a="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var sb in ub){const wb="o["+h.stringValue(sb)+"]";$a+=`$=${ub[sb].code};if(${wb}!==$)${wb}=$,m=1;`}sb="";Ub[vb]||(ub.x2&&(ub.x?(jc[vb]&&(sb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),sb+="o.width\x3do.x2-o.x;"):sb+="o.x\x3do.x2-(o.width||0);"),ub.xc&&(sb+="o.x\x3do.xc-(o.width||0)/2;"),ub.y2&&(ub.y?(jc[vb]&&(sb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),sb+="o.height\x3do.y2-o.y;"):
sb+="o.y\x3do.y2-(o.height||0);"),ub.yc&&(sb+="o.y\x3do.yc-(o.height||0)/2;"));$a+=sb;return Za(Ea,["item","_"],$a+"return m;")},codegen:{get(Ea){Ea=`[${Ea.map(h.stringValue).join("][")}]`;const $a=Function("_",`return _${Ea};`);$a.path=Ea;return $a},comparator(Ea,$a){let vb;Ea=Function("a","b","var u, v; return "+Ea.map((ub,sb)=>{const wb=$a[sb];let jb;ub.path?(jb=`a${ub.path}`,ub=`b${ub.path}`):((vb=vb||{})["f"+sb]=ub,jb=`this.f${sb}(a)`,ub=`this.f${sb}(b)`);sb=-wb;return`((u = ${jb}) < (v = ${ub}) || u == null) && v != null ? ${sb}
  : (u > v || v == null) && u != null ? ${wb}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${sb}
  : v !== v && u === u ? ${wb} : `}).join("")+"0;");return vb?Ea.bind(vb):Ea}}},Rb=[{key:"$ref",parse:function(Ea,$a){return $a.get(Ea.$ref)||h.error("Operator not defined: "+Ea.$ref)}},{key:"$key",parse:function(Ea,$a){const vb="k:"+Ea.$key+"_"+!!Ea.$flat;return $a.fn[vb]||($a.fn[vb]=h.key(Ea.$key,Ea.$flat,$a.expr.codegen))}},{key:"$expr",parse:function(Ea,$a,vb){Ea.$params&&$a.parseParameters(Ea.$params,vb);vb="e:"+Ea.$expr.code;return $a.fn[vb]||($a.fn[vb]=h.accessor($a.parameterExpression(Ea.$expr),
Ea.$fields))}},{key:"$field",parse:function(Ea,$a){if(!Ea.$field)return null;const vb="f:"+Ea.$field+"_"+Ea.$name;return $a.fn[vb]||($a.fn[vb]=h.field(Ea.$field,Ea.$name,$a.expr.codegen))}},{key:"$encode",parse:function(Ea,$a){Ea=Ea.$encode;const vb={};for(const ub in Ea){const sb=Ea[ub];vb[ub]=h.accessor($a.encodeExpression(sb.$expr),sb.$fields);vb[ub].output=sb.$output}return vb}},{key:"$compare",parse:function(Ea,$a){const vb="c:"+Ea.$compare+"_"+Ea.$order,ub=h.array(Ea.$compare).map(sb=>sb&&sb.$tupleid?
ka.tupleid:sb);return $a.fn[vb]||($a.fn[vb]=h.compare(ub,Ea.$order,$a.expr.codegen))}},{key:"$context",parse:function(Ea,$a){return $a}},{key:"$subflow",parse:function(Ea,$a){const vb=Ea.$subflow;return function(ub,sb,wb){const jb=$a.fork().parse(vb);ub=jb.get(vb.operators[0].id);(sb=jb.signals.parent)&&sb.set(wb);ub.detachSubflow=()=>$a.detach(jb);return ub}}},{key:"$tupleid",parse:function(){return ka.tupleid}}];const ec={skip:!0};Vb.prototype=Zb.prototype={fork(){const Ea=new Zb(this);(this.subcontext||
(this.subcontext=[])).push(Ea);return Ea},detach(Ea){this.subcontext=this.subcontext.filter(vb=>vb!==Ea);const $a=Object.keys(Ea.nodes);for(const vb of $a)Ea.nodes[vb]._targets=null;for(const vb of $a)Ea.nodes[vb].detach();Ea.nodes=null},get(Ea){return this.nodes[Ea]},set(Ea,$a){return this.nodes[Ea]=$a},add(Ea,$a){const vb=this,ub=vb.dataflow,sb=Ea.value;vb.set(Ea.id,$a);"collect"===(Ea.type+"").toLowerCase()&&sb&&(sb.$ingest?ub.ingest($a,sb.$ingest,sb.$format):sb.$request?ub.preload($a,sb.$request,
sb.$format):ub.pulse($a,ub.changeset().insert(sb)));Ea.root&&(vb.root=$a);if(Ea.parent){let wb=vb.get(Ea.parent.$ref);wb?(ub.connect(wb,[$a]),$a.targets().add(wb)):(vb.unresolved=vb.unresolved||[]).push(()=>{wb=vb.get(Ea.parent.$ref);ub.connect(wb,[$a]);$a.targets().add(wb)})}Ea.signal&&(vb.signals[Ea.signal]=$a);Ea.scale&&(vb.scales[Ea.scale]=$a);if(Ea.data)for(const wb in Ea.data){const jb=vb.data[wb]||(vb.data[wb]={});Ea.data[wb].forEach(lc=>jb[lc]=$a)}},resolve(){(this.unresolved||[]).forEach(Ea=>
Ea());delete this.unresolved;return this},operator(Ea,$a){this.add(Ea,this.dataflow.add(Ea.value,$a))},transform(Ea,$a){this.add(Ea,this.dataflow.add(this.transforms[($a+"").toLowerCase()]))},stream(Ea,$a){this.set(Ea.id,$a)},update(Ea,$a,vb,ub,sb){this.dataflow.on($a,vb,ub,sb,Ea.options)},operatorExpression(Ea){return this.expr.operator(this,Ea)},parameterExpression(Ea){return this.expr.parameter(this,Ea)},eventExpression(Ea){return this.expr.event(this,Ea)},handlerExpression(Ea){return this.expr.handler(this,
Ea)},encodeExpression(Ea){return this.expr.encode(this,Ea)},parse:function(Ea){const $a=this,vb=Ea.operators||[];Ea.background&&($a.background=Ea.background);Ea.eventConfig&&($a.eventConfig=Ea.eventConfig);Ea.locale&&($a.locale=Ea.locale);vb.forEach(ub=>$a.parseOperator(ub));vb.forEach(ub=>$a.parseOperatorParameters(ub));(Ea.streams||[]).forEach(ub=>$a.parseStream(ub));(Ea.updates||[]).forEach(ub=>$a.parseUpdate(ub));return $a.resolve()},parseOperator:function(Ea){"operator"!==(Ea.type+"").toLowerCase()&&
Ea.type?this.transform(Ea,Ea.type):this.operator(Ea,Ea.update?this.operatorExpression(Ea.update):null)},parseOperatorParameters:function(Ea){if(Ea.params){const $a=this.get(Ea.id);$a||h.error("Invalid operator id: "+Ea.id);this.dataflow.connect($a,$a.parameters(this.parseParameters(Ea.params),Ea.react,Ea.initonly))}},parseParameters:function(Ea,$a){$a=$a||{};const vb=this;for(const ub in Ea){const sb=Ea[ub];$a[ub]=h.isArray(sb)?sb.map(wb=>zb(wb,vb,$a)):zb(sb,vb,$a)}return $a},parseStream:function(Ea){var $a=
this,vb=null!=Ea.filter?$a.eventExpression(Ea.filter):void 0,ub=null!=Ea.stream?$a.get(Ea.stream):void 0;if(Ea.source)ub=$a.events(Ea.source,Ea.type,vb);else if(Ea.merge){var sb=Ea.merge.map(wb=>$a.get(wb));ub=sb[0].merge.apply(sb[0],sb.slice(1))}Ea.between&&(sb=Ea.between.map(wb=>$a.get(wb)),ub=ub.between(sb[0],sb[1]));Ea.filter&&(ub=ub.filter(vb));null!=Ea.throttle&&(ub=ub.throttle(+Ea.throttle));null!=Ea.debounce&&(ub=ub.debounce(+Ea.debounce));null==ub&&h.error("Invalid stream definition: "+JSON.stringify(Ea));
Ea.consume&&ub.consume(!0);$a.stream(Ea,ub)},parseUpdate:function(Ea){var $a=h.isObject($a=Ea.source)?$a.$ref:$a;$a=this.get($a);var vb=Ea.update,ub=void 0;$a||h.error("Source not defined: "+Ea.source);var sb=Ea.target&&Ea.target.$expr?this.eventExpression(Ea.target.$expr):this.get(Ea.target);vb&&vb.$expr&&(vb.$params&&(ub=this.parseParameters(vb.$params)),vb=this.handlerExpression(vb.$expr));this.update(Ea,$a,sb,vb,ub)},getState:function(Ea){var $a=this,vb={};if(Ea.signals){var ub=vb.signals={};
Object.keys($a.signals).forEach(wb=>{const jb=$a.signals[wb];Ea.signals(wb,jb)&&(ub[wb]=jb.value)})}if(Ea.data){var sb=vb.data={};Object.keys($a.data).forEach(wb=>{const jb=$a.data[wb];Ea.data(wb,jb)&&(sb[wb]=jb.input.value)})}$a.subcontext&&!1!==Ea.recurse&&(vb.subcontext=$a.subcontext.map(wb=>wb.getState(Ea)));return vb},setState:function(Ea){var $a=this,vb=$a.dataflow,ub=Ea.data,sb=Ea.signals;Object.keys(sb||{}).forEach(wb=>{vb.update($a.signals[wb],sb[wb],ec)});Object.keys(ub||{}).forEach(wb=>
{vb.pulse($a.data[wb].input,vb.changeset().remove(h.truthy).insert(ub[wb]))});(Ea.subcontext||[]).forEach((wb,jb)=>{(jb=$a.subcontext[jb])&&jb.setState(wb)})}};w.context=function(Ea,$a,vb,ub){return new Vb(Ea,$a,vb,ub)}})};
shadow$provide[50]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(21),ob(29),ob(34),ob(48),ob(49),ob(24)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,h,ka,Za,zb,Vb,Zb){function Ub(na){const Ia=na.container();Ia&&(Ia.setAttribute("role",
"graphics-document"),Ia.setAttribute("aria-roleDescription","visualization"),jc(Ia,na.description()))}function jc(na,Ia){na&&(null==Ia?na.removeAttribute("aria-label"):na.setAttribute("aria-label",Ia))}function Bb(na){na.add(null,Ia=>{na._background=Ia.bg;na._resize=1;return Ia.bg},{bg:na._signals.background})}function Rb(na){const Ia=na._signals.cursor||(na._signals.cursor=na.add({user:"default",item:null}));na.on(na.events("view","pointermove"),Ia,(hb,S)=>{const v=(hb=Ia.value)?h.isString(hb)?hb:
hb.user:"default";S=S.item&&S.item.cursor||null;return hb&&v===hb.user&&S==hb.item?hb:{user:v,item:S}});na.add(null,function(hb){hb=hb.cursor;let S=this.value;h.isString(hb)||(S=hb.item,hb=hb.user);ec(na,hb&&"default"!==hb?hb:S||hb);return S},{cursor:Ia})}function ec(na,Ia){if(na=na.globalCursor()?"undefined"!==typeof document&&document.body:na.container())return null==Ia?na.style.removeProperty("cursor"):na.style.cursor=Ia}function Ea(na,Ia){na=na._runtime.data;h.hasOwnProperty(na,Ia)||h.error("Unrecognized data set: "+
Ia);return na[Ia]}function $a(na,Ia){ka.isChangeSet(Ia)||h.error("Second argument to changes must be a changeset.");na=Ea(this,na);na.modified=!0;return this.pulse(na.input,Ia)}function vb(na){var Ia=na.padding();return Math.max(0,na._viewWidth+Ia.left+Ia.right)}function ub(na){var Ia=na.padding();return Math.max(0,na._viewHeight+Ia.top+Ia.bottom)}function sb(na){var Ia=na.padding();na=na._origin;return[Ia.left+na[0],Ia.top+na[1]]}function wb(na){var Ia=sb(na),hb=vb(na),S=ub(na);na._renderer.background(na.background());
na._renderer.resize(hb,S,Ia);na._handler.origin(Ia);na._resizeListeners.forEach(v=>{try{v(hb,S)}catch(ca){na.error(ca)}})}function jb(na,Ia,hb){function S(za){var Fa=ca,Ua;if(za)for(Ua=Ia;Ua;Ua=Ua.mark.group)if(Ua.mark.name===za){Fa=Ua;break}return Fa&&Fa.mark&&Fa.mark.interactive?Fa:{}}function v(za){if(!za)return hb;h.isString(za)&&(za=S(za));const Fa=hb.slice();for(;za;)Fa[0]-=za.x||0,Fa[1]-=za.y||0,za=za.mark&&za.mark.group;return Fa}const ca=Ia?"group"===Ia.mark.marktype?Ia:Ia.mark.group:null;
return{view:h.constant(na),item:h.constant(Ia||{}),group:S,xy:v,x:za=>v(za)[0],y:za=>v(za)[1]}}function lc(na){na=h.extend({defaults:{}},na);const Ia=(hb,S)=>{S.forEach(v=>{h.isArray(hb[v])&&(hb[v]=h.toSet(hb[v]))})};Ia(na.defaults,["prevent","allow"]);Ia(na,["view","window","selector"]);return na}function ta(na,Ia,hb,S){na._eventListeners.push({type:hb,sources:h.array(Ia),handler:S})}function ha(na,Ia,hb){const S=na._eventConfig&&na._eventConfig[Ia];return!1===S||h.isObject(S)&&!S[hb]?(na.warn(`Blocked ${Ia} ${hb} event listener.`),
!1):!0}function ya(na){return na.item}function Ra(na){return na.item.mark.source}function Wa(na){return function(Ia,hb){return hb.vega.view().changeset().encode(hb.item,na)}}function Ja(na,Ia,hb){na=document.createElement(na);for(const S in Ia)na.setAttribute(S,Ia[S]);null!=hb&&(na.textContent=hb);return na}function ib(na,Ia,hb){var S=(Ia-na)/Math.max(0,hb),v=Math.floor(Math.log10(S));S/=Math.pow(10,v);S=S>=Lb?10:S>=sc?5:S>=Oc?2:1;let ca;0>v?(ca=Math.pow(10,-v)/S,v=Math.round(na*ca),S=Math.round(Ia*
ca),v/ca<na&&++v,S/ca>Ia&&--S,ca=-ca):(ca=Math.pow(10,v)*S,v=Math.round(na/ca),S=Math.round(Ia/ca),v*ca<na&&++v,S*ca>Ia&&--S);return S<v&&.5<=hb&&2>hb?ib(na,Ia,2*hb):[v,S,ca]}function cb(na,Ia,hb){return ib(+na,+Ia,+hb)[2]}function tb(na,Ia,hb){Ia=+Ia;na=+na;hb=+hb;const S=Ia<na;na=S?cb(Ia,na,hb):cb(na,Ia,hb);return(S?-1:1)*(0>na?1/-na:na)}function Pb(na,Ia,hb){if(Ia){var S=hb.param,v=hb.state;v||(v=hb.state={elements:null,active:!1,set:null,update:ca=>{ca!=na.signal(S.signal)&&na.runAsync(null,()=>
{v.source=!0;na.signal(S.signal,ca)})}},S.debounce&&(v.update=h.debounce(S.debounce,v.update)));(null==S.input&&S.element?gb:V)(v,Ia,S,na);v.active||(na.on(na._signals[S.signal],null,()=>{v.source?v.source=!1:v.set(na.signal(S.signal))}),v.active=!0);return v}}function gb(na,Ia,hb,S){const v=hb.event||"input",ca=()=>na.update(Ia.value);S.signal(hb.signal,Ia.value);Ia.addEventListener(v,ca);ta(S,Ia,v,ca);na.set=za=>{Ia.value=za;za=Ia.dispatchEvent;var Fa="undefined"!==typeof Event?new Event(v):{type:v};
za.call(Ia,Fa)}}function V(na,Ia,hb,S){S=S.signal(hb.signal);const v=Ja("div",{"class":"vega-bind"}),ca="radio"===hb.input?v:v.appendChild(Ja("label"));ca.appendChild(Ja("span",{"class":"vega-bind-name"},hb.name||hb.signal));Ia.appendChild(v);Ia=aa;switch(hb.input){case "checkbox":Ia=da;break;case "select":Ia=ia;break;case "radio":Ia=Ma;break;case "range":Ia=pa}Ia(na,ca,hb,S)}function aa(na,Ia,hb,S){const v=Ja("input");for(const ca in hb)"signal"!==ca&&"element"!==ca&&v.setAttribute("input"===ca?
"type":ca,hb[ca]);v.setAttribute("name",hb.signal);v.value=S;Ia.appendChild(v);v.addEventListener("input",()=>na.update(v.value));na.elements=[v];na.set=ca=>v.value=ca}function da(na,Ia,hb,S){hb={type:"checkbox",name:hb.signal};S&&(hb.checked=!0);const v=Ja("input",hb);Ia.appendChild(v);v.addEventListener("change",()=>na.update(v.checked));na.elements=[v];na.set=ca=>v.checked=!!ca||null}function ia(na,Ia,hb,S){const v=Ja("select",{name:hb.signal}),ca=hb.labels||[];hb.options.forEach((za,Fa)=>{const Ua=
{value:za};sa(za,S)&&(Ua.selected=!0);v.appendChild(Ja("option",Ua,(ca[Fa]||za)+""))});Ia.appendChild(v);v.addEventListener("change",()=>{na.update(hb.options[v.selectedIndex])});na.elements=[v];na.set=za=>{for(let Fa=0,Ua=hb.options.length;Fa<Ua;++Fa)if(sa(hb.options[Fa],za)){v.selectedIndex=Fa;break}}}function Ma(na,Ia,hb,S){const v=Ja("span",{"class":"vega-bind-radio"}),ca=hb.labels||[];Ia.appendChild(v);na.elements=hb.options.map((za,Fa)=>{var Ua={type:"radio",name:hb.signal,value:za};sa(za,S)&&
(Ua.checked=!0);Ua=Ja("input",Ua);Ua.addEventListener("change",()=>na.update(za));Fa=Ja("label",{},(ca[Fa]||za)+"");Fa.prepend(Ua);v.appendChild(Fa);return Ua});na.set=za=>{const Fa=na.elements,Ua=Fa.length;for(let mb=0;mb<Ua;++mb)sa(Fa[mb].value,za)&&(Fa[mb].checked=!0)}}function pa(na,Ia,hb,S){S=void 0!==S?S:(+hb.max+ +hb.min)/2;const v=null!=hb.max?hb.max:Math.max(100,+S)||100,ca=hb.min||Math.min(0,v,+S)||0,za=hb.step||tb(ca,v,100),Fa=Ja("input",{type:"range",name:hb.signal,min:ca,max:v,step:za});
Fa.value=S;const Ua=Ja("span",{},+S);Ia.appendChild(Fa);Ia.appendChild(Ua);Ia=()=>{Ua.textContent=Fa.value;na.update(+Fa.value)};Fa.addEventListener("input",Ia);Fa.addEventListener("change",Ia);na.elements=[Fa];na.set=mb=>{Fa.value=mb;Ua.textContent=mb}}function sa(na,Ia){return na===Ia||na+""===Ia+""}function m(na,Ia,hb,S,v,ca){Ia=Ia||new S(na.loader());return Ia.initialize(hb,vb(na),ub(na),sb(na),v,ca).background(na.background())}function F(na,Ia){return Ia?function(){try{Ia.apply(this,arguments)}catch(hb){na.error(hb)}}:
null}function L(na,Ia,hb,S){const v=(new S(na.loader(),F(na,na.tooltip()))).scene(na.scenegraph().root).initialize(hb,sb(na),na);Ia&&Ia.handlers().forEach(ca=>{v.on(ca.type,ca.handler)});return v}function u(na,Ia,hb){if("string"===typeof Ia)if("undefined"!==typeof document){if(Ia=document.querySelector(Ia),!Ia)return na.error("Signal bind element not found: "+Ia),null}else return na.error("DOM document instance not found."),null;if(Ia&&hb)try{Ia.textContent=""}catch(S){Ia=null,na.error(S)}return Ia}
function R(na){h.isObject(na)?na={top:+na.top||0,bottom:+na.bottom||0,left:+na.left||0,right:+na.right||0}:(na=+na||0,na={top:na,bottom:na,left:na,right:na});return na}function B(na,Ia,hb,S){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var v=Za.renderModule(Ia);(v=v&&v.headless)||h.error("Unrecognized renderer type: "+Ia);yield na.runAsync();return m(na,null,null,v,hb,S).renderAsync(na._scenegraph.root)})}function z(na,Ia,hb){return Vb.context(na,ka.transforms,zb.functionContext,
hb).parse(Ia)}function N(na,Ia){var hb=na.autosize();na=na.padding();return Ia-(hb&&"padding"===hb.contains?na.left+na.right:0)}function A(na,Ia){var hb=na.autosize();na=na.padding();return Ia-(hb&&"padding"===hb.contains?na.top+na.bottom:0)}function D(na){function Ia(){na._autosize=na._resize=1}var hb=na._signals,S=hb.width,v=hb.height;hb=hb.padding;na._resizeWidth=na.add(null,za=>{na._width=za.size;na._viewWidth=N(na,za.size);Ia()},{size:S});na._resizeHeight=na.add(null,za=>{na._height=za.size;
na._viewHeight=A(na,za.size);Ia()},{size:v});const ca=na.add(null,Ia,{pad:hb});na._resizeWidth.rank=S.rank+1;na._resizeHeight.rank=v.rank+1;ca.rank=hb.rank+1}function H(na,Ia){return Ia.modified&&h.isArray(Ia.input.value)&&!na.startsWith("_:vega:_")}function W(na,Ia){return!("parent"===na||Ia instanceof ka.transforms.proxy)}function Da(){return gc||(Kc(P),gc=Xc.now()+wc)}function P(){gc=0}function ja(){this._call=this._time=this._next=null}function Ba(){gc=(Xb=Xc.now())+wc;Eb=Ta=0;try{Da();++Eb;for(var na=
Gb,Ia;na;)0<=(Ia=gc-na._time)&&na._call.call(void 0,Ia),na=na._next;--Eb}finally{Eb=0;na=Gb;for(var hb=Infinity;na;)if(na._call){hb>na._time&&(hb=na._time);var S=na;na=na._next}else Ia=na._next,na._next=null,na=S?S._next=Ia:Gb=Ia;Cb=S;Qa(hb);gc=0}}function Na(){var na=Xc.now(),Ia=na-Xb;1E3<Ia&&(wc-=Ia,Xb=na)}function Qa(na){Eb||(Ta&&(Ta=clearTimeout(Ta)),24<na-gc?(Infinity>na&&(Ta=setTimeout(Ba,na-Xc.now()-wc)),yb&&(yb=clearInterval(yb))):(yb||(Xb=Xc.now(),yb=setInterval(Na,1E3)),Eb=1,Kc(Ba)))}function eb(na,
Ia,hb){var S=new ja,v=Ia;if(null==Ia)return S.restart(na,Ia,hb),S;S._restart=S.restart;S.restart=function(ca,za,Fa){za=+za;Fa=null==Fa?Da():+Fa;S._restart(function Mb(mb){mb+=v;S._restart(Mb,v+=za,Fa);ca(mb)},za,Fa)};S.restart(na,Ia,hb);return S}function xb(na,Ia,hb,S){if(na=na.element())Ia=na.setAttribute,S=null==S?"":h.isArray(S)?"["+S.map(Sb).join(", ")+"]":h.isObject(S)&&!h.isDate(S)?kb(S):S+"",Ia.call(na,"title",S)}function kb(na){return Object.keys(na).map(Ia=>{const hb=na[Ia];return Ia+": "+
(h.isArray(hb)?"["+hb.map(Sb).join(", ")+"]":Sb(hb))}).join("\n")}function Sb(na){return h.isArray(na)?"[]":h.isObject(na)&&!h.isDate(na)?"{}":na}function X(na,Ia){Ia=Ia||{};ka.Dataflow.call(this);Ia.loader&&this.loader(Ia.loader);Ia.logger&&this.logger(Ia.logger);null!=Ia.logLevel&&this.logLevel(Ia.logLevel);if(Ia.locale||na.locale){var hb=h.extend({},na.locale,Ia.locale);this.locale(Zb.locale(hb.number,hb.time))}this._elBind=this._el=null;this._renderType=Ia.renderer||Za.RenderType.Canvas;this._scenegraph=
new Za.Scenegraph;hb=this._scenegraph.root;this._renderer=null;this._tooltip=Ia.tooltip||xb;this._redraw=!0;this._handler=(new Za.CanvasHandler).scene(hb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=lc(na.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const S=z(this,na,Ia.expr);this._runtime=S;this._signals=S.signals;this._bind=(na.bindings||[]).map(v=>({state:null,param:h.extend({},v)}));S.root&&S.root.set(hb);
hb.source=S.data.root.input;this.pulse(S.data.root.input,this.changeset().insert(hb.items));this._width=this.width();this._height=this.height();this._viewWidth=N(this,this._width);this._viewHeight=A(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;D(this);Bb(this);Rb(this);this.description(na.description);Ia.hover&&this.hover();Ia.container&&this.initialize(Ia.container,Ia.bind);Ia.watchPixelRatio&&this._watchPixelRatio()}function Ha(na,Ia){return h.hasOwnProperty(na._signals,
Ia)?na._signals[Ia]:h.error("Unrecognized signal name: "+h.stringValue(Ia))}function Nb(na,Ia){na=(na._targets||[]).filter(hb=>hb._update&&hb._update.handler===Ia);return na.length?na[0]:null}function nc(na,Ia,hb,S){let v=Nb(hb,S);v||(v=F(na,()=>S(Ia,hb.value)),v.handler=S,na.on(hb,null,v));return na}function Wb(na,Ia,hb){(hb=Nb(Ia,hb))&&Ia._targets.remove(hb);return na}const Jb={trap:!1},Lb=Math.sqrt(50),sc=Math.sqrt(10),Oc=Math.sqrt(2);var ra={skip:!0},Eb=0,Ta=0,yb=0,Gb,Cb,Xb=0,gc=0,wc=0,Xc="object"===
typeof performance&&performance.now?performance:Date,Kc="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(na){setTimeout(na,17)};ja.prototype={constructor:ja,restart:function(na,Ia,hb){if("function"!==typeof na)throw new TypeError("callback is not a function");hb=(null==hb?Da():+hb)+(null==Ia?0:+Ia);this._next||Cb===this||(Cb?Cb._next=this:Gb=this,Cb=this);this._call=na;this._time=hb;Qa()},stop:function(){this._call&&(this._call=null,this._time=
Infinity,Qa())}};h.inherits(X,ka.Dataflow,{evaluate(na,Ia,hb){const S=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield ka.Dataflow.prototype.evaluate.call(S,na,Ia);if(S._redraw||S._resize)try{S._renderer&&(S._resize&&(S._resize=0,wb(S)),yield S._renderer.renderAsync(S._scenegraph.root)),S._redraw=!1}catch(v){S.error(v)}hb&&ka.asyncCallback(S,hb);return S})},dirty(na){this._redraw=!0;this._renderer&&this._renderer.dirty(na)},description(na){if(arguments.length){const Ia=null!=
na?na+"":null;Ia!==this._desc&&jc(this._el,this._desc=Ia);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(na,Ia,hb){const S=Ha(this,na);return 1===arguments.length?S.value:this.update(S,Ia,hb)},width(na){return arguments.length?this.signal("width",na):this.signal("width")},height(na){return arguments.length?this.signal("height",na):this.signal("height")},padding(na){return arguments.length?this.signal("padding",
R(na)):R(this.signal("padding"))},autosize(na){return arguments.length?this.signal("autosize",na):this.signal("autosize")},background(na){return arguments.length?this.signal("background",na):this.signal("background")},renderer(na){if(!arguments.length)return this._renderType;Za.renderModule(na)||h.error("Unrecognized renderer type: "+na);na!==this._renderType&&(this._renderType=na,this._resetRenderer());return this},tooltip(na){if(!arguments.length)return this._tooltip;na!==this._tooltip&&(this._tooltip=
na,this._resetRenderer());return this},loader(na){if(!arguments.length)return this._loader;na!==this._loader&&(ka.Dataflow.prototype.loader.call(this,na),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Ha(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(na,Ia,hb,S,v,ca){this.runAfter(za=>{let Fa=0;za._autosize=0;za.width()!==hb&&(Fa=1,za.signal("width",hb,ra),za._resizeWidth.skip(!0));
za.height()!==S&&(Fa=1,za.signal("height",S,ra),za._resizeHeight.skip(!0));za._viewWidth!==na&&(za._resize=1,za._viewWidth=na);za._viewHeight!==Ia&&(za._resize=1,za._viewHeight=Ia);if(za._origin[0]!==v[0]||za._origin[1]!==v[1])za._resize=1,za._origin=v;Fa&&za.run("enter");ca&&za.runAfter(Ua=>Ua.resize())},!1,1)},addEventListener(na,Ia,hb){let S=Ia;hb&&!1===hb.trap||(S=F(this,Ia),S.raw=Ia);this._handler.on(na,S);return this},removeEventListener(na,Ia){for(var hb=this._handler.handlers(na),S=hb.length,
v,ca;0<=--S;)if(ca=hb[S].type,v=hb[S].handler,na===ca&&(Ia===v||Ia===v.raw)){this._handler.off(ca,v);break}return this},addResizeListener(na){const Ia=this._resizeListeners;Ia.includes(na)||Ia.push(na);return this},removeResizeListener(na){var Ia=this._resizeListeners;na=Ia.indexOf(na);0<=na&&Ia.splice(na,1);return this},addSignalListener(na,Ia){return nc(this,na,Ha(this,na),Ia)},removeSignalListener(na,Ia){return Wb(this,Ha(this,na),Ia)},addDataListener(na,Ia){return nc(this,na,Ea(this,na).values,
Ia)},removeDataListener(na,Ia){return Wb(this,Ea(this,na).values,Ia)},globalCursor(na){if(arguments.length){if(this._globalCursor!==!!na){const Ia=ec(this,null);this._globalCursor=!!na;Ia&&ec(this,Ia)}return this}return this._globalCursor},preventDefault(na){return arguments.length?(this._preventDefault=na,this):this._preventDefault},timer:function(na,Ia){this._timers.push(eb(function(hb){na({timestamp:Date.now(),elapsed:hb})},Ia))},events:function(na,Ia,hb){var S=this,v=new ka.EventStream(hb);hb=
function(Ua,mb){S.runAsync(null,()=>{var Mb;if(Mb="view"===na){var Fb=S._eventConfig.defaults;Mb=Fb.prevent;Fb=Fb.allow;Mb=!1===Mb||!0===Fb?!1:!0===Mb||!1===Fb?!0:Mb?Mb[Ia]:Fb?!Fb[Ia]:S.preventDefault()}Mb&&Ua.preventDefault();Mb=v.receive;Fb=(Fb=S._renderer)&&Fb.canvas();if(Fb){var Kb=sb(S);var vc=Ua.changedTouches?Ua.changedTouches[0]:Ua;vc=Za.point(vc,Fb);vc[0]-=Kb[0];vc[1]-=Kb[1]}Ua.dataflow=S;Ua.item=mb;Ua.vega=jb(S,mb,vc);Mb.call(v,Ua)})};var ca;if("timer"===na)ha(S,"timer",Ia)&&S.timer(hb,
Ia);else if("view"===na)ha(S,"view",Ia)&&S.addEventListener(Ia,hb,Jb);else if("window"===na?ha(S,"window",Ia)&&"undefined"!==typeof window&&(ca=[window]):"undefined"!==typeof document&&ha(S,"selector",Ia)&&(ca=Array.from(document.querySelectorAll(na))),ca){for(var za=0,Fa=ca.length;za<Fa;++za)ca[za].addEventListener(Ia,hb);ta(S,ca,Ia,hb)}else S.warn("Can not resolve event source: "+na);return v},finalize:function(){var na=this._tooltip,Ia=this._timers,hb=this._handler.handlers(),S=this._eventListeners,
v;for(v=Ia.length;0<=--v;)Ia[v].stop();for(v=S.length;0<=--v;){var ca=S[v];for(Ia=ca.sources.length;0<=--Ia;)ca.sources[Ia].removeEventListener(ca.type,ca.handler)}na&&na.call(this,this._handler,null,null,null);for(v=hb.length;0<=--v;)S=hb[v].type,na=hb[v].handler,this._handler.off(S,na);return this},hover:function(na,Ia){na=[na||"hover"];Ia=[Ia||"update",na[0]];this.on(this.events("view","pointerover",ya),Ra,Wa(na));this.on(this.events("view","pointerout",ya),Ra,Wa(Ia));return this},data:function(na,
Ia){return 2>arguments.length?Ea(this,na).values.value:$a.call(this,na,ka.changeset().remove(h.truthy).insert(Ia))},change:$a,insert:function(na,Ia){return $a.call(this,na,ka.changeset().insert(Ia))},remove:function(na,Ia){return $a.call(this,na,ka.changeset().remove(Ia))},scale:function(na){var Ia=this._runtime.scales;h.hasOwnProperty(Ia,na)||h.error("Unrecognized scale or projection: "+na);return Ia[na].value},initialize:function(na,Ia){const hb=this;var S=hb._renderType;const v=hb._eventConfig.bind;
var ca=Za.renderModule(S);na=hb._el=na?u(hb,na,!0):null;Ub(hb);ca||hb.error("Unrecognized renderer type: "+S);S=ca.handler||Za.CanvasHandler;ca=na?ca.renderer:ca.headless;hb._renderer=ca?m(hb,hb._renderer,na,ca):null;hb._handler=L(hb,hb._handler,na,S);hb._redraw=!0;na&&"none"!==v&&(Ia=Ia?hb._elBind=u(hb,Ia,!0):na.appendChild(Ja("form",{"class":"vega-bindings"})),hb._bind.forEach(za=>{za.param.element&&"container"!==v&&(za.element=u(hb,za.param.element,!!za.param.input))}),hb._bind.forEach(za=>{Pb(hb,
za.element||Ia,za)}));return hb},toImageURL:function(na,Ia){const hb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){na!==Za.RenderType.Canvas&&na!==Za.RenderType.SVG&&na!==Za.RenderType.PNG&&h.error("Unrecognized image type: "+na);var S=yield B(hb,na,Ia);na===Za.RenderType.SVG?(S=S.svg(),S=new Blob([S],{type:"image/svg+xml"}),S=window.URL.createObjectURL(S)):S=S.canvas().toDataURL("image/png");return S})},toCanvas:function(na,Ia){const hb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield B(hb,
Za.RenderType.Canvas,na,Ia)).canvas()})},toSVG:function(na){const Ia=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield B(Ia,Za.RenderType.SVG,na)).svg()})},getState:function(na){return this._runtime.getState(na||{data:H,signals:W,recurse:!0})},setState:function(na){this.runAsync(null,Ia=>{Ia._trigger=!1;Ia._runtime.setState(na)},Ia=>{Ia._trigger=!0});return this},_watchPixelRatio:function(){if("canvas"===this.renderer()&&this._renderer._canvas){let na=null;const Ia=
()=>{null!=na&&na();const hb=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);hb.addEventListener("change",Ia);na=()=>{hb.removeEventListener("change",Ia)};this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1;this._redraw=!0;this._resize=1;this.resize().runAsync()};Ia()}}});w.View=X})};
shadow$provide[51]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya):"function"===typeof define&&define.amd?define(["exports"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={}))})(this,function(w){function h(Bb,Rb,ec,Ea,$a){const vb=Bb.length;let ub=0,sb;for(;Rb<vb;++Rb)if(sb=Bb[Rb],ub||sb!==ec)$a&&0<=$a.indexOf(sb)?--ub:Ea&&0<=Ea.indexOf(sb)&&++ub;else break;return Rb}function ka(Bb){const Rb=[],ec=Bb.length;let Ea=0,$a=0;for(;$a<ec;)$a=
h(Bb,$a,",","[{","]}"),Rb.push(Bb.substring(Ea,$a).trim()),Ea=++$a;if(0===Rb.length)throw"Empty event selector: "+Bb;return Rb}function Za(Bb){if("["===Bb[0]){var Rb=Bb;var ec=Rb.length;Bb=h(Rb,1,"]","[","]");if(Bb===ec)throw"Empty between selector: "+Rb;ec=ka(Rb.substring(1,Bb));if(2!==ec.length)throw"Between selector must have two elements: "+Rb;Rb=Rb.slice(Bb+1).trim();if("\x3e"!==Rb[0])throw"Expected '\x3e' after between selector: "+Rb;ec=ec.map(Za);Rb=Za(Rb.slice(1).trim());Rb.between?Rb={between:ec,
stream:Rb}:Rb.between=ec}else{ec={source:Ub};const Ea=[];let $a=[0,0],vb=0,ub=0,sb=Bb.length,wb=0,jb;if("}"===Bb[sb-1]){wb=Bb.lastIndexOf("{");if(0<=wb){try{$a=zb(Bb.substring(wb+1,sb-1))}catch(lc){throw"Invalid throttle specification: "+Bb;}Bb=Bb.slice(0,wb).trim();sb=Bb.length}else throw"Unmatched right brace: "+Bb;wb=0}if(!sb)throw Bb;"@"===Bb[0]&&(vb=++wb);jb=h(Bb,wb,":");jb<sb&&(Ea.push(Bb.substring(ub,jb).trim()),ub=wb=++jb);wb=h(Bb,wb,"[");if(wb===sb)Ea.push(Bb.substring(ub,sb).trim());else if(Ea.push(Bb.substring(ub,
wb).trim()),Rb=[],ub=++wb,ub===sb)throw"Unmatched left bracket: "+Bb;for(;wb<sb;){wb=h(Bb,wb,"]");if(wb===sb)throw"Unmatched left bracket: "+Bb;Rb.push(Bb.substring(ub,wb).trim());if(wb<sb-1&&"["!==Bb[++wb])throw"Expected left bracket: "+Bb;ub=++wb}if(!(sb=Ea.length)||Vb.test(Ea[sb-1]))throw"Invalid event selector: "+Bb;1<sb?(ec.type=Ea[1],vb?ec.markname=Ea[0].slice(1):jc[Ea[0]]?ec.marktype=Ea[0]:ec.source=Ea[0]):ec.type=Ea[0];"!"===ec.type.slice(-1)&&(ec.consume=!0,ec.type=ec.type.slice(0,-1));null!=
Rb&&(ec.filter=Rb);$a[0]&&(ec.throttle=$a[0]);$a[1]&&(ec.debounce=$a[1]);Rb=ec}return Rb}function zb(Bb){const Rb=Bb.split(",");if(!Bb.length||2<Rb.length)throw Bb;return Rb.map(ec=>{ec=+ec;if(ec!==ec)throw Bb;return ec})}const Vb=/[[\]{}]/,Zb={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Ub,jc;w.parseSelector=function(Bb,Rb,ec){Ub=Rb||"view";jc=ec||Zb;return ka(Bb.trim()).map(Za)}})};
shadow$provide[52]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(21),ob(48),ob(51),ob(33),ob(29)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vega={},w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,h,ka,Za,zb,Vb){function Zb(l){return h.isObject(l)?l:{type:l||"pad"}}function Ub(l){h.isObject(l)?
l=l.signal?l:{top:+l.top||0,bottom:+l.bottom||0,left:+l.left||0,right:+l.right||0}:(l=+l||0,l={top:l,bottom:l,left:l,right:l});return l}function jc(l,q,J,la){return null!=J?(h.isObject(J)&&!h.isArray(J)||h.isArray(J)&&J.length&&h.isObject(J[0])?l.update[q]=J:l[la||"enter"][q]={value:J},1):0}function Bb(l,q,J){for(const la in q)jc(l,la,q[la]);for(const la in J)jc(l,la,J[la],"update")}function Rb(l,q,J){for(const la in q)J&&h.hasOwnProperty(J,la)||(l[la]=h.extend(l[la]||{},q[la]));return l}function ec(l,
q){return q&&(q.enter&&q.enter[l]||q.update&&q.update[l])}function Ea(l,q,J,la,Ga){const Pa={},Ka={};let rb,nb;nb="lineBreak";"text"!==q||null==Ga[nb]||ec(nb,l)||$a(Pa,nb,Ga[nb]);if("legend"==J||String(J).startsWith("axis"))J=null;J="frame"===J?Ga.group:"mark"===J?h.extend({},Ga.mark,Ga[q]):null;for(nb in J)(q=ec(nb,l)||("fill"===nb||"stroke"===nb)&&(ec("fill",l)||ec("stroke",l)))||$a(Pa,nb,J[nb]);h.array(la).forEach(pc=>{pc=Ga.style&&Ga.style[pc];for(const rc in pc)ec(rc,l)||$a(Pa,rc,pc[rc])});l=
h.extend({},l);for(nb in Pa)J=Pa[nb],J.signal?(rb=rb||{})[nb]=J:Ka[nb]=J;l.enter=h.extend(Ka,l.enter);rb&&(l.update=h.extend(rb,l.update));return l}function $a(l,q,J){l[q]=J&&J.signal?{signal:J.signal}:{value:J}}function vb(l){if(null!=l.gradient)return ub(l);if(l.signal)var q=`(${l.signal})`;else l.color?(q=l.color,q=q.c?Ac("hcl",q.h,q.c,q.l):q.h||q.s?Ac("hsl",q.h,q.s,q.l):q.l||q.a?Ac("lab",q.l,q.a,q.b):q.r||q.g||q.b?Ac("rgb",q.r,q.g,q.b):null):q=null!=l.field?wb(l.field):void 0!==l.value?h.stringValue(l.value):
void 0;if(null!=l.scale){const J=ic(l.scale);null!=l.range?q=`lerp(_range(${J}), ${+l.range})`:(void 0!==q&&(q=`_scale(${J}, ${q})`),l.band&&(q=(q?q+"+":"")+`_bandwidth(${J})`+(1===+l.band?"":"*"+sb(l.band)),l.extra&&(q=`(datum.extra ? _scale(${J}, datum.extra.value) : ${q})`)),null==q&&(q="0"))}void 0===q&&(q=null);null!=l.exponent&&(q=`pow(${q},${sb(l.exponent)})`);null!=l.mult&&(q+=`*${sb(l.mult)}`);null!=l.offset&&(q+=`+${sb(l.offset)}`);l.round&&(q=`round(${q})`);return q}function ub(l){const q=
[l.start,l.stop,l.count].map(J=>null==J?null:h.stringValue(J));for(;q.length&&null==h.peek(q);)q.pop();q.unshift(ic(l.gradient));return`gradient(${q.join(",")})`}function sb(l){return h.isObject(l)?"("+vb(l)+")":l}function wb(l){return jb(h.isObject(l)?l:{datum:l})}function jb(l){let q;if(l.signal){q="datum";var J=l.signal}else if(l.group||l.parent){J=Math.max(1,l.level||1);for(q="item";0<J--;)q+=".mark.group";l.parent?(J=l.parent,q+=".datum"):J=l.group}else l.datum?(q="datum",J=l.datum):h.error("Invalid field reference: "+
h.stringValue(l));l.signal||(J=h.isString(J)?h.splitAccessPath(J).map(h.stringValue).join("]["):jb(J));return q+"["+J+"]"}function lc(l){let q="";l.forEach(J=>{const la=vb(J);q+=J.test?`(${J.test})?${la}:`:la});":"===h.peek(q)&&(q+="null");return q}function ta(l,q,J,la,Ga,Pa){const Ka={};Pa=Pa||{};Pa.encoders={$encode:Ka};l=Ea(l,q,J,la,Ga.config);for(const uc in l){J=l[uc];la=q;var rb=Pa,nb=Ga;const tc={},Hc={};for(const Uc in J)if(null!=J[Uc]){var pc=ha;var rc=J[Uc];rc=h.isArray(rc)?lc(rc):vb(rc);
tc[Uc]=pc(rc,nb,rb,Hc)}J={$expr:{marktype:la,channels:tc},$fields:Object.keys(Hc),$output:Object.keys(J)};Ka[uc]=J}return Pa}function ha(l,q,J,la){l=ka.parseExpression(l,q);l.$fields.forEach(Ga=>la[Ga]=1);h.extend(J,l.$params);return l.$expr}function ya(l,q){h.error(l+' for "outer" push: '+h.stringValue(q))}function Ra(l,q){const J=l.name;if("outer"===l.push)q.signals[J]||ya("No prior signal definition",J),Mc.forEach(la=>{void 0!==l[la]&&ya("Invalid property ",la)});else{const la=q.addSignal(J,l.value);
!1===l.react&&(la.react=!1);l.bind&&q.addBinding(J,l.bind)}}function Wa(l,q,J,la){this.id=-1;this.type=l;this.value=q;this.params=J;la&&(this.parent=la)}function Ja(l){const q={$ref:l.id};0>l.id&&(l.refs=l.refs||[]).push(q);return q}function ib(l,q){return q?{$field:l,$name:q}:{$field:l}}function cb(l,q){l={$key:l};q&&(l.$flat=!0);return l}function tb(l,q){return(l&&l.signal?"$"+l.signal:l||"")+(l&&q?"_":"")+(q&&q.signal?"$"+q.signal:q||"")}function Pb(l){return l&&l.signal}function gb(l){if(Pb(l))return!0;
if(h.isObject(l))for(const q in l)if(gb(l[q]))return!0;return!1}function V(l,q){return null!=l?l:q}function aa(l){return l&&l.signal||l}function da(l,q){return(l.merge?ia:l.stream?Ma:l.type?pa:h.error("Invalid stream specification: "+h.stringValue(l)))(l,q)}function ia(l,q){const J=l.merge.map(la=>da(la,q));l=sa({merge:J},l,q);return q.addStream(l).id}function Ma(l,q){const J=da(l.stream,q);l=sa({stream:J},l,q);return q.addStream(l).id}function pa(l,q){if("timer"===l.type){var J=q.event("timer",l.throttle);
l={between:l.between,filter:l.filter}}else J=l.source,J=q.event.call(q,"scope"===J?"view":J||"view",l.type);l=sa({stream:J},l,q);return 1===Object.keys(l).length?J:q.addStream(l).id}function sa(l,q,J){let la=q.between;la&&(2!==la.length&&h.error('Stream "between" parameter must have 2 entries: '+h.stringValue(q)),l.between=[da(la[0],J),da(la[1],J)]);la=q.filter?[].concat(q.filter):[];if(q.marktype||q.markname||q.markrole){var Ga=la,Pa=q.marktype,Ka=q.markname,rb=q.markrole;Ga.push.call(Ga,"event.item"+
(Pa&&"*"!==Pa?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Pa+"'":"")+(rb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+rb+"'":"")+(Ka?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Ka+"'":""))}"scope"===q.source&&la.push("inScope(event.item)");la.length&&(l.filter=ka.parseExpression("("+la.join(")\x26\x26(")+")",J).$expr);null!=(la=q.throttle)&&(l.throttle=+la);null!=(la=q.debounce)&&(l.debounce=+la);q.consume&&(l.consume=!0);return l}function m(l,q,J){const la=l.encode,Ga={target:J};J=l.events;let Pa=
l.update,Ka=[];J||h.error("Signal update missing events specification.");h.isString(J)&&(J=Za.parseSelector(J,q.isSubscope()?"scope":"view"));J=h.array(J).filter(rb=>rb.signal||rb.scale?(Ka.push(rb),0):1);1<Ka.length&&(Ka=[F(Ka)]);J.length&&Ka.push(1<J.length?{merge:J}:J[0]);null!=la&&(Pa&&h.error("Signal encode and update are mutually exclusive."),Pa="encode(item(),"+h.stringValue(la)+")");Ga.update=h.isString(Pa)?ka.parseExpression(Pa,q):null!=Pa.expr?ka.parseExpression(Pa.expr,q):null!=Pa.value?
Pa.value:null!=Pa.signal?{$expr:Wc,$params:{$value:q.signalRef(Pa.signal)}}:h.error("Invalid signal update specification.");l.force&&(Ga.options={force:!0});Ka.forEach(rb=>{var nb=q.addUpdate,pc=h.extend;rb={source:rb.signal?q.signalRef(rb.signal):rb.scale?q.scaleRef(rb.scale):da(rb,q)};return nb.call(q,pc.call(h,rb,Ga))})}function F(l){return{signal:"["+l.map(q=>q.scale?'scale("'+q.scale+'")':q.signal)+"]"}}function L(l,q){const J=q.getSignal(l.name);let la=l.update;l.init&&(la?h.error("Signals can not include both init and update expressions."):
(la=l.init,J.initonly=!0));la&&(la=ka.parseExpression(la,q),J.update=la.$expr,J.params=la.$params);l.on&&l.on.forEach(Ga=>m(Ga,q,J.id))}function u(l,q){return h.isObject(l)?l.signal?q.signalRef(l.signal):h.error("Unsupported object: "+h.stringValue(l)):l}function R(l,q){return l.signal?q.signalRef(l.signal):l.map(J=>u(J,q))}function B(l){h.error("Can not find data set: "+h.stringValue(l))}function z(l,q,J){if(l)return l.signal?J.signalRef(l.signal):(h.isArray(l)?N:l.fields?D:A)(l,q,J);null==q.domainMin&&
null==q.domainMax||h.error("No scale domain defined for domainMin/domainMax to override.")}function N(l,q,J){return l.map(la=>u(la,J))}function A(l,q,J){const la=J.getData(l.data);la||B(l.data);return zb.isDiscrete(q.type)?la.valuesRef(J,l.field,W(l.sort,!1)):zb.isQuantile(q.type)?la.domainRef(J,l.field):la.extentRef(J,l.field)}function D(l,q,J){const la=l.data,Ga=l.fields.reduce((Pa,Ka)=>{if(h.isString(Ka))Ka={data:la,field:Ka};else if(h.isArray(Ka)||Ka.signal){var rb=Ka;Ka="_:vega:_"+Bd++;const nb=
ge({});h.isArray(rb)?nb.value={$ingest:rb}:rb.signal&&(rb="setdata("+h.stringValue(Ka)+","+rb.signal+")",nb.params.input=J.signalRef(rb));J.addDataPipeline(Ka,[nb,dc({})]);Ka={data:Ka,field:"data"}}Pa.push(Ka);return Pa},[]);return(zb.isDiscrete(q.type)?H:zb.isQuantile(q.type)?Da:P)(l,J,Ga)}function H(l,q,J){const la=W(l.sort,!0);l=J.map(Pa=>{const Ka=q.getData(Pa.data);Ka||B(Pa.data);return Ka.countsRef(q,Pa.field,la)});const Ga={groupby:Nc,pulse:l};la&&(l=la.op||"count",J=la.field?tb(l,la.field):
"count",Ga.ops=[Zd[l]],Ga.fields=[q.fieldRef(J)],Ga.as=[J]);l=q.add(ud(Ga));l=q.add(ge({pulse:Ja(l)}));J=q.add(Zc({field:Nc,sort:q.sortRef(la),pulse:Ja(l)}));return Ja(J)}function W(l,q){l&&(l.field||l.op?l.field||"count"===l.op?q&&l.field&&l.op&&!Zd[l.op]&&h.error("Multiple domain scales can not be sorted using "+l.op):h.error("No field provided for sort aggregate op: "+l.op):h.isObject(l)?l.field="key":l={field:"key"});return l}function Da(l,q,J){l=J.map(la=>{const Ga=q.getData(la.data);Ga||B(la.data);
return Ga.domainRef(q,la.field)});return Ja(q.add(Ze({values:l})))}function P(l,q,J){l=J.map(la=>{const Ga=q.getData(la.data);Ga||B(la.data);return Ga.extentRef(q,la.field)});return Ja(q.add(fg({extents:l})))}function ja(l,q,J){const la=q.config.range;let Ga=l.range;if(Ga.signal)return q.signalRef(Ga.signal);if(h.isString(Ga)){if(la&&h.hasOwnProperty(la,Ga))return l=h.extend({},l,{range:la[Ga]}),ja(l,q,J);"width"===Ga?Ga=[0,{signal:"width"}]:"height"===Ga?Ga=zb.isDiscrete(l.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:h.error("Unrecognized scale range value: "+h.stringValue(Ga))}else{if(Ga.scheme){J.scheme=h.isArray(Ga.scheme)?R(Ga.scheme,q):u(Ga.scheme,q);Ga.extent&&(J.schemeExtent=R(Ga.extent,q));Ga.count&&(J.schemeCount=u(Ga.count,q));return}if(Ga.step){J.rangeStep=u(Ga.step,q);return}if(zb.isDiscrete(l.type)&&!h.isArray(Ga))return z(Ga,l,q);h.isArray(Ga)||h.error("Unsupported range type: "+h.stringValue(Ga))}return Ga.map(Pa=>(h.isArray(Pa)?R:u)(Pa,q))}function Ba(l,q,J){return h.isArray(l)?
l.map(la=>Ba(la,q,J)):h.isObject(l)?l.signal?J.signalRef(l.signal):"fit"===q?l:h.error("Unsupported parameter object: "+h.stringValue(l)):l}function Na(l){l.type="group";l.interactive=l.interactive||!1;return l}function Qa(l,q){const J=(la,Ga)=>V(l[la],V(q[la],Ga));J.isVertical=la=>"vertical"===V(l.direction,q.direction||(la?q.symbolDirection:q.gradientDirection));J.gradientLength=()=>V(l.gradientLength,q.gradientLength||q.gradientWidth);J.gradientThickness=()=>V(l.gradientThickness,q.gradientThickness||
q.gradientHeight);J.entryColumns=()=>V(l.columns,V(q.columns,+J.isVertical(!0)));return J}function eb(l,q){return(l=q&&(q.update&&q.update[l]||q.enter&&q.enter[l]))&&l.signal?l:l?l.value:null}function xb(l,q,J){return`item.anchor === '${"start"}' ? ${l} : item.anchor === '${"end"}' ? ${q} : ${J}`}function kb(l,q){return q?l?h.isObject(l)?Object.assign({},l,{offset:kb(l.offset,q)}):{value:l,offset:q}:q:l}function Sb(l,q){q?(l.name=q.name,l.style=q.style||l.style,l.interactive=!!q.interactive,l.encode=
Rb(l.encode,q,He)):l.interactive=!1;return l}function X(l,q,J,la){l=Qa(l,J);J=l.isVertical();var Ga=l.gradientThickness();const Pa=l.gradientLength();let Ka,rb,nb;J?(J=[0,1],rb=[0,0],nb=Ga,Ga=Pa):(J=[0,0],rb=[1,0],nb=Pa);Ga={enter:Ka={opacity:gd,x:gd,y:gd,width:Yb(nb),height:Yb(Ga)},update:h.extend({},Ka,{opacity:se,fill:{gradient:q,start:J,stop:rb}}),exit:{opacity:gd}};Bb(Ga,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")});return Sb({type:"rect",
role:"legend-gradient",encode:Ga},la)}function Ha(l,q,J,la,Ga){l=Qa(l,J);const Pa=l.isVertical();J=l.gradientThickness();const Ka=l.gradientLength();var rb;let nb,pc,rc,uc="";Pa?(rb="y",pc="y2",nb="x",rc="width",uc="1-"):(rb="x",pc="x2",nb="y",rc="height");q={opacity:gd,fill:{scale:q,field:"value"}};q[rb]={signal:uc+"datum.perc",mult:Ka};q[nb]=gd;q[pc]={signal:uc+"datum.perc2",mult:Ka};q[rc]=Yb(J);rb={enter:q,update:h.extend({},q,{opacity:se}),exit:{opacity:gd}};Bb(rb,{stroke:l("gradientStrokeColor"),
strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")});return Sb({type:"rect",role:"legend-band",key:"value",from:Ga,encode:rb},la)}function Nb(l,q,J,la){const Ga=Qa(l,q);var Pa=Ga.isVertical();const Ka=Yb(Ga.gradientThickness()),rb=Ga.gradientLength();let nb=Ga("labelOverlap"),pc,rc,uc,tc="";const Hc={enter:pc={opacity:gd},update:rc={opacity:se,text:{field:"label"}},exit:{opacity:gd}};Bb(Hc,{fill:Ga("labelColor"),fillOpacity:Ga("labelOpacity"),font:Ga("labelFont"),fontSize:Ga("labelFontSize"),
fontStyle:Ga("labelFontStyle"),fontWeight:Ga("labelFontWeight"),limit:V(l.labelLimit,q.gradientLabelLimit)});Pa?(pc.align={value:"left"},pc.baseline=rc.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Pa="y",uc="x",tc="1-"):(pc.align=rc.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},pc.baseline={value:"top"},Pa="x",uc="y");pc[Pa]=rc[Pa]={signal:tc+"datum.perc",mult:rb};pc[uc]=rc[uc]=Ka;Ka.offset=V(l.labelOffset,q.gradientLabelOffset)||
0;nb=nb?{separation:Ga("labelSeparation"),method:nb,order:"datum.index"}:void 0;return Sb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:la,encode:Hc,overlap:nb},J)}function nc(l,q,J,la,Ga){var Pa=Qa(l,q);const Ka=J.entries,rb=!(!Ka||!Ka.interactive),nb=Ka?Ka.name:void 0,pc=Pa("clipHeight"),rc=Pa("symbolOffset"),uc={data:"value"},tc=`(${Ga}) ? datum.${"offset"} : datum.${"size"}`,Hc=pc?Yb(pc):{field:"size"},Uc=`max(1, ${Ga})`;let Fd,od;Hc.mult=.5;var vd={enter:Fd={opacity:gd,
x:{signal:tc,mult:.5,offset:rc},y:Hc},update:od={opacity:se,x:Fd.x,y:Fd.y},exit:{opacity:gd}};let Gd=null,kc=null;l.fill||(Gd=q.symbolBaseFillColor,kc=q.symbolBaseStrokeColor);Bb(vd,{fill:Pa("symbolFillColor",Gd),shape:Pa("symbolType"),size:Pa("symbolSize"),stroke:Pa("symbolStrokeColor",kc),strokeDash:Pa("symbolDash"),strokeDashOffset:Pa("symbolDashOffset"),strokeWidth:Pa("symbolStrokeWidth")},{opacity:Pa("symbolOpacity")});Pd.forEach(qd=>{l[qd]&&(od[qd]=Fd[qd]={scale:l[qd],field:"value"})});q=Sb({type:"symbol",
role:"legend-symbol",key:"value",from:uc,clip:pc?!0:void 0,encode:vd},J.symbols);vd=Yb(rc);vd.offset=Pa("labelOffset");vd={enter:Fd={opacity:gd,x:{signal:tc,offset:vd},y:Hc},update:od={opacity:se,text:{field:"label"},x:Fd.x,y:Fd.y},exit:{opacity:gd}};Bb(vd,{align:Pa("labelAlign"),baseline:Pa("labelBaseline"),fill:Pa("labelColor"),fillOpacity:Pa("labelOpacity"),font:Pa("labelFont"),fontSize:Pa("labelFontSize"),fontStyle:Pa("labelFontStyle"),fontWeight:Pa("labelFontWeight"),limit:Pa("labelLimit")});
J=Sb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:uc,encode:vd},J.labels);vd={enter:{noBound:{value:!pc},width:gd,height:pc?Yb(pc):gd,opacity:gd},exit:{opacity:gd},update:od={opacity:se,row:{signal:null},column:{signal:null}}};Pa.isVertical(!0)?(Pa=`ceil(item.mark.items.length / ${Uc})`,od.row.signal=`${"datum.index"}%${Pa}`,od.column.signal=`floor(${"datum.index"} / ${Pa})`,Pa={field:["row","datum.index"]}):(od.row.signal=`floor(${"datum.index"} / ${Uc})`,od.column.signal=
`${"datum.index"} % ${Uc}`,Pa={field:"datum.index"});od.column.signal=`(${Ga})?${od.column.signal}:${"datum.index"}`;la={facet:{data:la,name:"value",groupby:"index"}};return Na({role:"scope",from:la,encode:Rb(vd,Ka,He),marks:[q,J],name:nb,interactive:rb,sort:Pa})}function Wb(l,q){l=Qa(l,q);return{align:l("gridAlign"),columns:l.entryColumns(),center:{row:!0,column:!1},padding:{row:l("rowPadding"),column:l("columnPadding")}}}function Jb(l,q,J,la){q=Qa(l,q);const Ga={enter:{opacity:gd},update:{opacity:se,
x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:gd}};Bb(Ga,{orient:q("titleOrient"),_anchor:q("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:he},baseline:{signal:lf},text:l.title,fill:q("titleColor"),fillOpacity:q("titleOpacity"),
font:q("titleFont"),fontSize:q("titleFontSize"),fontStyle:q("titleFontStyle"),fontWeight:q("titleFontWeight"),limit:q("titleLimit"),lineHeight:q("titleLineHeight")},{align:q("titleAlign"),baseline:q("titleBaseline")});return Sb({type:"text",role:"legend-title",style:"guide-title",from:la,encode:Ga},J)}function Lb(l,q){let J;h.isObject(l)&&(l.signal?J=l.signal:l.path?J="pathShape("+sc(l.path)+")":l.sphere&&(J="geoShape("+sc(l.sphere)+', {type: "Sphere"})'));return J?q.signalRef(J):!!l}function sc(l){return h.isObject(l)&&
l.signal?l.signal:h.stringValue(l)}function Oc(l){const q=l.role||"";return q.startsWith("axis")||q.startsWith("legend")||q.startsWith("title")?q:"group"===l.type?"scope":q||"mark"}function ra(l){return{marktype:l.type,name:l.name||void 0,role:l.role||Oc(l),zindex:+l.zindex||void 0,aria:l.aria,description:l.description}}function Eb(l,q){return l&&l.signal?q.signalRef(l.signal):!1===l?!1:!0}function Ta(l,q){const J=Vb.definition(l.type);J||h.error("Unrecognized transform type: "+h.stringValue(l.type));
var la=J.type.toLowerCase();var Ga=yb(J,l,q);la=new Wa(la,null,Ga,void 0);l.signal&&q.addSignal(l.signal,q.proxy(la));la.metadata=J.metadata||{};return la}function yb(l,q,J){const la={},Ga=l.params.length;for(let Pa=0;Pa<Ga;++Pa){const Ka=l.params[Pa];la[Ka.name]=Gb(Ka,q,J)}return la}function Gb(l,q,J){const la=l.type,Ga=q[l.name];if("index"===la)return Xb(l,q,J);if(void 0===Ga)l.required&&h.error("Missing required "+h.stringValue(q.type)+" parameter: "+h.stringValue(l.name));else return"param"===
la?gc(l,q,J):"projection"===la?J.projectionRef(q[l.name]):l.array&&!Pb(Ga)?Ga.map(Pa=>Cb(l,Pa,J)):Cb(l,Ga,J)}function Cb(l,q,J){const la=l.type;return Pb(q)?"expr"===la?h.error("Expression references can not be signals."):"field"===la?J.fieldRef(q):"compare"===la?J.compareRef(q):J.signalRef(q.signal):(l=l.expr||"field"===la)&&q&&q.expr?J.exprRef(q.expr,q.as):l&&q&&q.field?ib(q.field,q.as):"expr"===la?ka.parseExpression(q,J):"data"===la?Ja(J.getData(q).values):"field"===la?ib(q):"compare"===la?J.compareRef(q):
q}function Xb(l,q,J){h.isString(q.from)||h.error('Lookup "from" parameter must be a string literal.');return J.getData(q.from).lookupRef(J,q.key)}function gc(l,q,J){q=q[l.name];return l.array?(h.isArray(q)||h.error("Expected an array of sub-parameters. Instead: "+h.stringValue(q)),q.map(la=>wc(l,la,J))):wc(l,q,J)}function wc(l,q,J){const la=l.params.length;let Ga;for(let Pa=0;Pa<la;++Pa){Ga=l.params[Pa];for(const Ka in Ga.key)if(Ga.key[Ka]!==q[Ka]){Ga=null;break}if(Ga)break}Ga||h.error("Unsupported parameter: "+
h.stringValue(q));l=h.extend(yb(Ga,q,J),Ga.key);return Ja(J.add(Qe(l)))}function Xc(l,q,J){let la,Ga,Pa,Ka;if(!l)Pa=Ja(J.add(ge(null,[{}])));else if(la=l.facet)q||h.error("Only group marks can be faceted."),null!=la.field?Pa=Ka=Kc(la,J):(l.data?Ka=Ja(J.getData(l.data).aggregate):(q=Ta(h.extend({type:"aggregate",groupby:h.array(la.groupby)},la.aggregate),J),q.params.key=J.keyRef(la.groupby),q.params.pulse=Kc(la,J),Pa=Ka=Ja(J.add(q))),Ga=J.keyRef(la.groupby,!0));Pa||(Pa=Kc(l,J));return{key:Ga,pulse:Pa,
parent:Ka}}function Kc(l,q){return l.$ref?l:l.data&&l.data.$ref?l.data:Ja(q.getData(l.data).output)}function na(l,q,J,la,Ga){this.scope=l;this.input=q;this.output=J;this.values=la;this.aggregate=Ga;this.index={}}function Ia(l){return h.isString(l)?l:null}function hb(l,q,J){const la=tb(J.op,J.field);let Ga;if(q.ops)for(let Pa=0,Ka=q.as.length;Pa<Ka;++Pa){if(q.as[Pa]===la)return}else q.ops=["count"],q.fields=[null],q.as=["count"];J.op&&(q.ops.push((Ga=J.op.signal)?l.signalRef(Ga):J.op),q.fields.push(l.fieldRef(J.field)),
q.as.push(la))}function S(l,q,J,la,Ga,Pa,Ka){J=q[J]||(q[J]={});var rb=h.isObject(Pa)?("descending"===Pa.order?"-":"+")+tb(Pa.op,Pa.field):"";let nb=Ia(Ga);if(null!=nb){l=q.scope;nb+=rb?"|"+rb:"";var pc=J[nb]}pc||(pc=Pa?{field:Nc,pulse:q.countsRef(l,Ga,Pa)}:{field:l.fieldRef(Ga),pulse:Ja(q.output)},rb&&(pc.sort=l.sortRef(Pa)),l=l.add(new Wa(la,void 0,pc,void 0)),Ka&&(q.index[Ga]=l),pc=Ja(l),null!=nb&&(J[nb]=pc));return pc}function v(l,q,J){var la=l.from.facet;const Ga=la.name,Pa=Kc(la,q);let Ka;la.name||
h.error("Facet must have a name: "+h.stringValue(la));la.data||h.error("Facet must reference a data set: "+h.stringValue(la));la.field?Ka=q.add(Ke({field:q.fieldRef(la.field),pulse:Pa})):la.groupby?Ka=q.add(Ae({key:q.keyRef(la.groupby),group:Ja(q.proxy(J.parent)),pulse:Pa})):h.error("Facet must specify groupby or field: "+h.stringValue(la));q=q.fork();J=q.add(ge());la=q.add(dc({pulse:Ja(J)}));q.addData(Ga,new na(q,J,J,la));q.addSignal("parent",null);Ka.params.subflow={$subflow:q.parse(l).toRuntime()}}
function ca(l,q,J){J=q.add(Ke({pulse:J.pulse}));q=q.fork();q.add(dc());q.addSignal("parent",null);J.params.subflow={$subflow:q.parse(l).toRuntime()}}function za(l,q,J){const la=l.remove,Ga=l.insert,Pa=l.toggle,Ka=l.modify,rb=l.values,nb=q.add(new Wa("operator",void 0,void 0,void 0));l="if("+l.trigger+',modify("'+J+'",'+[Ga,la,Pa,Ka,rb].map(pc=>null==pc?"null":pc).join(",")+"),0)";q=ka.parseExpression(l,q);nb.update=q.$expr;nb.params=q.$params}function Fa(l,q){var J=Oc(l),la="group"===l.type,Ga=l.from&&
l.from.facet;const Pa=l.overlap;let Ka=l.layout||"scope"===J||"frame"===J,rb,nb,pc,rc,uc,tc;const Hc="mark"===J||Ka||Ga,Uc=Xc(l.from,la,q);nb=q.add(Ie({key:Uc.key||(l.key?ib(l.key):void 0),pulse:Uc.pulse,clean:!la}));const Fd=Ja(nb);nb=pc=q.add(ge({pulse:Fd}));nb=q.add(yd({markdef:ra(l),interactive:Eb(l.interactive,q),clip:Lb(l.clip,q),context:{$context:!0},groups:q.lookup(),parent:q.signals.parent?q.signalRef("parent"):null,index:q.markpath(),pulse:Ja(nb)}));var od=Ja(nb);nb=rc=q.add(Ne(ta(l.encode,
l.type,J,l.style,q,{mod:!1,pulse:od})));nb.params.parent=q.encode();l.transform&&l.transform.forEach(Gd=>{Gd=Ta(Gd,q);const kc=Gd.metadata;(kc.generates||kc.changes)&&h.error("Mark transforms should not generate new data.");kc.nomod||(rc.params.mod=!0);Gd.params.pulse=Ja(nb);q.add(nb=Gd)});l.sort&&(nb=q.add(dd({sort:q.compareRef(l.sort),pulse:Ja(nb)})));J=Ja(nb);if(Ga||Ka)Ka=q.add(fd({layout:q.objectProperty(l.layout),legends:q.legends,mark:od,pulse:J})),tc=Ja(Ka);const vd=q.add(Kd({mark:od,pulse:tc||
J}));od=Ja(vd);la&&(Hc&&(rb=q.operators,rb.pop(),Ka&&rb.pop()),q.pushState(J,tc||od,Fd),Ga?v(l,q,Uc):Hc?ca(l,q,Uc):q.parse(l),q.popState(),Hc&&(Ka&&rb.push(Ka),rb.push(vd)));Pa&&(od=Ua(Pa,od,q));la=q.add(Ca({pulse:od}));Ga=q.add(dc({pulse:Ja(la)},void 0,q.parent()));null!=l.name&&(uc=l.name,q.addData(uc,new na(q,pc,la,Ga)),l.on&&l.on.forEach(Gd=>{(Gd.insert||Gd.remove||Gd.toggle)&&h.error("Marks only support modify triggers.");za(Gd,q,uc)}))}function Ua(l,q,J){const la=l.method,Ga=l.bound,Pa=l.separation;
q={separation:Pb(Pa)?J.signalRef(Pa.signal):Pa,method:Pb(la)?J.signalRef(la.signal):la,pulse:q};l.order&&(q.sort=J.compareRef({field:l.order}));Ga&&(l=Ga.tolerance,q.boundTolerance=Pb(l)?J.signalRef(l.signal):+l,q.boundScale=J.scaleRef(Ga.scale),q.boundOrient=Ga.orient);return Ja(J.add(Pe(q)))}function mb(l,q){const J=q.config.legend,la=l.encode||{},Ga=Qa(l,J),Pa=la.legend||{},Ka=Pa.name||void 0,rb=Pa.interactive,nb=Pa.style,pc={};let rc=0,uc,tc;Pd.forEach(vd=>l[vd]?(pc[vd]=l[vd],rc=rc||l[vd]):0);
rc||h.error("Missing valid scale for legend.");var Hc=Mb(l,q.scaleType(rc));const Uc={title:null!=l.title,scales:pc,type:Hc,vgrad:"symbol"!==Hc&&Ga.isVertical()},Fd=Ja(q.add(ge(null,[Uc]))),od=Ja(q.add(Ee(tc={type:Hc,scale:q.scaleRef(rc),count:q.objectProperty(Ga("tickCount")),limit:q.property(Ga("symbolLimit")),values:q.objectProperty(l.values),minstep:q.property(l.tickMinStep),formatType:q.property(l.formatType),formatSpecifier:q.property(l.format)})));"gradient"===Hc?(Hc=[X(l,rc,J,la.gradient),
Nb(l,J,la.labels,od)],tc.count=tc.count||q.signalRef(`max(2,2*floor((${aa(Ga.gradientLength())})/100))`)):"discrete"===Hc?Hc=[Ha(l,rc,J,la.gradient,od),Nb(l,J,la.labels,od)]:(uc=Wb(l,J),Hc=[nc(l,J,la,od,aa(uc.columns))],tc.size=vc(l,q,Hc[0].marks));Hc=[Na({role:"legend-entry",from:Fd,encode:{enter:{x:{value:0},y:{value:0}}},marks:Hc,layout:uc,interactive:rb})];Uc.title&&Hc.push(Jb(l,J,la.title,Fd));return Fa(Na({role:"legend",from:Fd,encode:Rb(Kb(Ga,l,J),Pa,He),marks:Hc,aria:Ga("aria"),description:Ga("description"),
zindex:Ga("zindex"),name:Ka,interactive:rb,style:nb}),q)}function Mb(l,q){let J=l.type||"symbol";l.type||1!==Fb(l)||!l.fill&&!l.stroke||(J=zb.isContinuous(q)?"gradient":zb.isDiscretizing(q)?"discrete":"symbol");return"gradient"!==J?J:zb.isDiscretizing(q)?"discrete":"gradient"}function Fb(l){return Pd.reduce((q,J)=>q+(l[J]?1:0),0)}function Kb(l,q,J){const la={enter:{},update:{}};Bb(la,{orient:l("orient"),offset:l("offset"),padding:l("padding"),titlePadding:l("titlePadding"),cornerRadius:l("cornerRadius"),
fill:l("fillColor"),stroke:l("strokeColor"),strokeWidth:J.strokeWidth,strokeDash:J.strokeDash,x:l("legendX"),y:l("legendY"),format:q.format,formatType:q.formatType});return la}function vc(l,q,J){const la=aa(yc("size",l,J));l=aa(yc("strokeWidth",l,J));(J=eb("fontSize",J[1].encode))||(J=(J=q.config.style["guide-label"])&&J.fontSize);J=aa(J);return ka.parseExpression(`max(ceil(sqrt(${la})+${l}),${J})`,q)}function yc(l,q,J){return q[l]?`scale("${q[l]}",datum)`:eb(l,J[0].encode)}function Ic(l,q){l=h.isString(l)?
{text:l}:l;const J=Qa(l,q.config.title);var la=l.encode||{},Ga=la.group||{};const Pa=Ga.name||void 0,Ka=Ga.interactive,rb=Ga.style,nb=[],pc=Ja(q.add(ge(null,[{}])));var rc=nb.push,uc=l;var tc=(tc=l.encode)&&tc.title||h.extend({name:l.name,interactive:l.interactive,style:l.style},tc);var Hc={value:0};Hc={enter:{opacity:Hc},update:{opacity:{value:1}},exit:{opacity:Hc}};Bb(Hc,{text:uc.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},
baseline:"top",dx:J("dx"),dy:J("dy"),fill:J("color"),font:J("font"),fontSize:J("fontSize"),fontStyle:J("fontStyle"),fontWeight:J("fontWeight"),lineHeight:J("lineHeight")},{align:J("align"),angle:J("angle"),baseline:J("baseline")});uc=Sb({type:"text",role:"title-text",style:"group-title",from:pc,encode:Hc},tc);rc.call(nb,uc);l.subtitle&&(rc=nb.push,la=la.subtitle,uc={value:0},uc={enter:{opacity:uc},update:{opacity:{value:1}},exit:{opacity:uc}},Bb(uc,{text:l.subtitle,align:{signal:"item.mark.group.align"},
angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:J("dx"),dy:J("dy"),fill:J("subtitleColor"),font:J("subtitleFont"),fontSize:J("subtitleFontSize"),fontStyle:J("subtitleFontStyle"),fontWeight:J("subtitleFontWeight"),lineHeight:J("subtitleLineHeight")},{align:J("align"),angle:J("angle"),baseline:J("baseline")}),l=Sb({type:"text",role:"title-subtitle",style:"group-subtitle",from:pc,encode:uc},la),rc.call(nb,l));l={enter:{},update:{}};Bb(l,{orient:J("orient"),
anchor:J("anchor"),align:{signal:Ve},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:J("limit"),frame:J("frame"),offset:J("offset")||0,padding:J("subtitlePadding")});Ga=Rb(l,Ga,He);return Fa(Na({role:"title",from:pc,encode:Ga,marks:nb,aria:J("aria"),description:J("description"),zindex:J("zindex"),name:Pa,interactive:Ka,style:rb}),q)}function kd(l,q){const J=[];l.transform&&l.transform.forEach(la=>{J.push(Ta(la,q))});l.on&&l.on.forEach(la=>{za(la,q,l.name)});
q.addDataPipeline(l.name,$c(l,q,J))}function $c(l,q,J){const la=[];let Ga=null,Pa=!1,Ka=!1,rb,nb,pc,rc;l.values?Pb(l.values)||gb(l.format)?(la.push(hd(q,l)),la.push(Ga=Pc())):la.push(Ga=Pc({$ingest:l.values,$format:l.format})):l.url?gb(l.url)||gb(l.format)?(la.push(hd(q,l)),la.push(Ga=Pc())):la.push(Ga=Pc({$request:l.url,$format:l.format})):l.source&&(Ga=rb=h.array(l.source).map(uc=>Ja(q.getData(uc).output)),la.push(null));l=0;for(nb=J.length;l<nb;++l)pc=J[l],rc=pc.metadata,Ga||rc.source||la.push(Ga=
Pc()),la.push(pc),rc.generates&&(Ka=!0),rc.modifies&&!Ka&&(Pa=!0),rc.source?Ga=pc:rc.changes&&(Ga=null);rb&&(nb=rb.length-1,la[0]=ie({derive:Pa,pulse:nb?rb:rb[0]}),(Pa||nb)&&la.splice(1,0,Pc()));Ga||la.push(Pc());la.push(dc({}));return la}function Pc(l){l=ge({},l);l.metadata={source:!0};return l}function hd(l,q){return ye({url:q.url?l.property(q.url):void 0,async:q.async?l.property(q.async):void 0,values:q.values?l.property(q.values):void 0,format:l.objectProperty(q.format)})}function md(l,q,J,la){let Ga;
if(q&&h.hasOwnProperty(q,l))return q[l];if(h.hasOwnProperty(J,l))return J[l];if(l.startsWith("title")){switch(l){case "titleColor":Ga="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Ga=l[5].toLowerCase()+l.slice(6)}return la["guide-title"][Ga]}if(l.startsWith("label")){switch(l){case "labelColor":Ga="fill";break;case "labelFont":case "labelFontSize":Ga=l[5].toLowerCase()+l.slice(6)}return la["guide-label"][Ga]}return null}function ad(l){const q={};for(const J of l)if(J)for(const la in J)q[la]=
1;return Object.keys(q)}function ke(l,q,J,la,Ga){return{signal:'flush(range("'+l+'"), scale("'+l+'", datum.value), '+q+","+J+","+la+","+Ga+")"}}function id(l,q,J,la){const Ga=(Ka,rb)=>null!=Ka?(J.update[rb]=qa(Yb(Ka),J.update[rb]),!1):ec(rb,la)?!1:!0,Pa=Ga(l("titleX"),"x");l=Ga(l("titleY"),"y");J.enter.auto=l===Pa?Yb(l):Be(q,Yb(l),Yb(Pa))}function y(l,q,J){const la=h.array(l.signals),Ga=h.array(l.scales);J||la.forEach(Pa=>Ra(Pa,q));h.array(l.projections).forEach(Pa=>{const Ka=q.config.projection||
{},rb={};for(const nb in Pa)"name"!==nb&&(rb[nb]=Ba(Pa[nb],nb,q));for(const nb in Ka)null==rb[nb]&&(rb[nb]=Ba(Ka[nb],nb,q));q.addProjection(Pa.name,rb)});Ga.forEach(Pa=>{const Ka=Pa.type||"linear";zb.isValidScaleType(Ka)||h.error("Unrecognized scale type: "+h.stringValue(Ka));q.addScale(Pa.name,{type:Ka,domain:void 0})});h.array(l.data).forEach(Pa=>kd(Pa,q));Ga.forEach(Pa=>{const Ka=q.getScale(Pa.name).params;let rb;Ka.domain=z(Pa.domain,Pa,q);null!=Pa.range&&(Ka.range=ja(Pa,q,Ka));if(null!=Pa.interpolate){var nb=
Pa.interpolate;Ka.interpolate=u(nb.type||nb);null!=nb.gamma&&(Ka.interpolateGamma=u(nb.gamma))}null!=Pa.nice&&(nb=Pa.nice,nb=nb.signal?q.signalRef(nb.signal):h.isObject(nb)?{interval:u(nb.interval),step:u(nb.step)}:u(nb),Ka.nice=nb);null!=Pa.bins&&(nb=Pa.bins,nb=nb.signal||h.isArray(nb)?R(nb,q):q.objectProperty(nb),Ka.bins=nb);for(rb in Pa)h.hasOwnProperty(Ka,rb)||"name"===rb||(Ka[rb]=u(Pa[rb],q))});(J||la).forEach(Pa=>L(Pa,q));h.array(l.axes).forEach(Pa=>{var Ka=q.config,rb=Ka.style,nb=Ka.axis,pc=
"band"===q.scaleType(Pa.scale)&&Ka.axisBand,rc=Pa.orient,uc;if(Pb(rc)){const Ld=ad([Ka.axisX,Ka.axisY]),Sd=ad([Ka.axisTop,Ka.axisBottom,Ka.axisLeft,Ka.axisRight]);var tc={};for(uc of Ld)tc[uc]=Be(rc,md(uc,Ka.axisX,nb,rb),md(uc,Ka.axisY,nb,rb));var Hc={};for(uc of Sd){var Uc=Hc,Fd=uc,od=rc.signal,vd=md(uc,Ka.axisTop,nb,rb),Gd=md(uc,Ka.axisBottom,nb,rb),kc=md(uc,Ka.axisLeft,nb,rb),qd=md(uc,Ka.axisRight,nb,rb);var qe={signal:(null!=kc?`${od} === '${"left"}' ? (${ae(kc)}) : `:"")+(null!=Gd?`${od} === '${"bottom"}' ? (${ae(Gd)}) : `:
"")+(null!=qd?`${od} === '${"right"}' ? (${ae(qd)}) : `:"")+(null!=vd?`${od} === '${"top"}' ? (${ae(vd)}) : `:"")+"(null)"};Uc[Fd]=qe}}else tc="top"===rc||"bottom"===rc?Ka.axisX:Ka.axisY,Hc=Ka["axis"+rc[0].toUpperCase()+rc.slice(1)];var de=tc||Hc||pc?h.extend({},nb,tc,Hc,pc):nb;const Wd=Pa.encode||{},Ad=Wd.axis||{},xd=Ad.name||void 0,le=Ad.interactive,ve=Ad.style,be=Qa(Pa,de),Ce=be("tickBand");let Vc=be("tickOffset"),je,ef;Ce?Ce.signal?(je={signal:`(${Ce.signal}) === 'extent' ? 1 : 0.5`},ef={signal:`(${Ce.signal}) === 'extent'`},
h.isObject(Vc)||(Vc={signal:`(${Ce.signal}) === 'extent' ? 0 : ${Vc}`})):"extent"===Ce?(je=1,ef=!0,Vc=0):(je=.5,ef=!1):(je=be("bandPosition"),ef=be("tickExtra"));var jf=ef;var Dg=je;var tf=Vc;const Mf={scale:Pa.scale,ticks:!!be("ticks"),labels:!!be("labels"),grid:!!be("grid"),domain:!!be("domain"),title:null!=Pa.title},ag=Ja(q.add(ge({},[Mf]))),ff=Ja(q.add(ee({scale:q.scaleRef(Pa.scale),extra:q.property(jf),count:q.objectProperty(Pa.tickCount),values:q.objectProperty(Pa.values),minstep:q.property(Pa.tickMinStep),
formatType:q.property(Pa.formatType),formatSpecifier:q.property(Pa.format)}))),Le=[];let bg;if(Mf.grid){var Tg=Le.push,Af=Wd.grid;const Ld=Qa(Pa,de),Sd=Pa.orient,nf=Pa.gridScale,we=xf(Sd,1,-1);a:{var cg=Pa.offset,Gf=we;if(1!==Gf)if(h.isObject(cg)){let Of=cg=h.extend({},cg);for(;null!=Of.mult;)if(h.isObject(Of.mult))Of=Of.mult=h.extend({},Of.mult);else{Of.mult=Pb(Gf)?{signal:`(${Of.mult}) * (${Gf.signal})`}:Of.mult*Gf;var Ug=cg;break a}Of.mult=Gf}else cg=Pb(Gf)?{signal:`(${Gf.signal}) * (${cg||0})`}:
Gf*(cg||0);Ug=cg}const gf=Ug;let Re,of,Vf;const Nf={enter:Re={opacity:gd},update:Vf={opacity:se},exit:of={opacity:gd}};Bb(Nf,{stroke:Ld("gridColor"),strokeCap:Ld("gridCap"),strokeDash:Ld("gridDash"),strokeDashOffset:Ld("gridDashOffset"),strokeOpacity:Ld("gridOpacity"),strokeWidth:Ld("gridWidth")});const Xe={scale:Pa.scale,field:"value",band:Dg,extra:jf,offset:tf,round:Ld("tickRound")},Yg=Be(Sd,{signal:"height"},{signal:"width"}),xg=nf?{scale:nf,range:0,mult:we,offset:gf}:{value:0,offset:gf},lh=nf?
{scale:nf,range:1,mult:we,offset:gf}:h.extend(Yg,{mult:we,offset:gf});Re.x=Vf.x=Be(Sd,Xe,xg);Re.y=Vf.y=Ue(Sd,Xe,xg);Re.x2=Vf.x2=Ue(Sd,lh);Re.y2=Vf.y2=Be(Sd,lh);of.x=Be(Sd,Xe);of.y=Ue(Sd,Xe);var eh=Sb({type:"rule",role:"axis-grid",key:"value",from:ff,encode:Nf},Af);Tg.call(Le,eh)}if(Mf.ticks){bg=be("tickSize");var Sg=Le.push,Vg=Wd.ticks,Wg=bg;const Ld=Qa(Pa,de),Sd=Pa.orient,nf=xf(Sd,-1,1);let we,gf,Re;const of={enter:we={opacity:gd},update:Re={opacity:se},exit:gf={opacity:gd}};Bb(of,{stroke:Ld("tickColor"),
strokeCap:Ld("tickCap"),strokeDash:Ld("tickDash"),strokeDashOffset:Ld("tickDashOffset"),strokeOpacity:Ld("tickOpacity"),strokeWidth:Ld("tickWidth")});const Vf=Yb(Wg);Vf.mult=nf;const Nf={scale:Pa.scale,field:"value",band:Dg,extra:jf,offset:tf,round:Ld("tickRound")};Re.y=we.y=Be(Sd,gd,Nf);Re.y2=we.y2=Be(Sd,Vf);gf.x=Be(Sd,Nf);Re.x=we.x=Ue(Sd,gd,Nf);Re.x2=we.x2=Ue(Sd,Vf);gf.y=Ue(Sd,Nf);var kh=Sb({type:"rule",role:"axis-tick",key:"value",from:ff,encode:of},Vg);Sg.call(Le,kh)}if(Mf.labels){bg=Mf.ticks?
bg:0;var Hf=Le.push,U=Wd.labels,La=bg;const Ld=Qa(Pa,de),Sd=Pa.orient,nf=Pa.scale,we=xf(Sd,-1,1),gf=aa(Ld("labelFlush")),Re=aa(Ld("labelFlushOffset")),of=Ld("labelAlign"),Vf=Ld("labelBaseline");let Nf=0===gf||!!gf,Xe;const Yg=Yb(La);Yg.mult=we;Yg.offset=Yb(Ld("labelPadding")||0);Yg.offset.mult=we;const xg={scale:nf,field:"value",band:.5,offset:kb(tf,Ld("labelOffset"))};var lb=Nf?ke(nf,gf,'"left"','"right"','"center"'):{value:"center"},xc=Sd;var Bc=Pb(xc)?ue(`${xc.signal} === '${"right"}'`,"left",
"right"):"right"===xc?{value:"left"}:{value:"right"};const lh=Be(Sd,lb,Bc),Of=Be(Sd,We(Sd,"bottom","top"),Nf?ke(nf,gf,'"top"','"bottom"','"middle"'):{value:"middle"}),Rh=ke(nf,gf,`-(${Re})`,Re,0);Nf=Nf&&Re;const og={opacity:gd,x:Be(Sd,xg,Yg),y:Ue(Sd,xg,Yg)},vh={enter:og,update:Xe={opacity:se,text:{field:"label"},x:og.x,y:og.y,align:lh,baseline:Of},exit:{opacity:gd,x:og.x,y:og.y}};Bb(vh,{dx:!of&&Nf?Be(Sd,Rh):null,dy:!Vf&&Nf?Ue(Sd,Rh):null});Bb(vh,{angle:Ld("labelAngle"),fill:Ld("labelColor"),fillOpacity:Ld("labelOpacity"),
font:Ld("labelFont"),fontSize:Ld("labelFontSize"),fontWeight:Ld("labelFontWeight"),fontStyle:Ld("labelFontStyle"),limit:Ld("labelLimit"),lineHeight:Ld("labelLineHeight")},{align:of,baseline:Vf});const jg=Ld("labelBound");let Sh=Ld("labelOverlap");Sh=Sh||jg?{separation:Ld("labelSeparation"),method:Sh,order:"datum.index",bound:jg?{scale:nf,orient:Sd,tolerance:jg}:null}:void 0;Xe.align!==lh&&(Xe.align=qa(Xe.align,lh));Xe.baseline!==Of&&(Xe.baseline=qa(Xe.baseline,Of));var wd=Sb({type:"text",role:"axis-label",
style:"guide-label",key:"value",from:ff,encode:vh,overlap:Sh},U);Hf.call(Le,wd)}if(Mf.domain){var Xd=Le.push,Id=Wd.domain;const Ld=Qa(Pa,de),Sd=Pa.orient;let nf,we;const gf={enter:nf={opacity:gd},update:we={opacity:se},exit:{opacity:gd}};Bb(gf,{stroke:Ld("domainColor"),strokeCap:Ld("domainCap"),strokeDash:Ld("domainDash"),strokeDashOffset:Ld("domainDashOffset"),strokeWidth:Ld("domainWidth"),strokeOpacity:Ld("domainOpacity")});const Re={scale:Pa.scale,range:0},of={scale:Pa.scale,range:1};nf.x=we.x=
Be(Sd,Re,gd);nf.x2=we.x2=Be(Sd,of);nf.y=we.y=Ue(Sd,Re,gd);nf.y2=we.y2=Ue(Sd,of);var Tf=Sb({type:"rule",role:"axis-domain",from:ag,encode:gf},Id);Xd.call(Le,Tf)}if(Mf.title){var kf=Le.push,wg=Wd.title;const Ld=Qa(Pa,de),Sd=Pa.orient,nf=xf(Sd,-1,1);let we,gf;const Re={enter:we={opacity:gd,anchor:Yb(Ld("titleAnchor",null)),align:{signal:Ve}},update:gf=h.extend({},we,{opacity:se,text:Yb(Pa.title)}),exit:{opacity:gd}},of={signal:`lerp(range("${Pa.scale}"), ${xb(0,1,.5)})`};gf.x=Be(Sd,of);gf.y=Ue(Sd,of);
var Uf=we,Xg=nf;var ig=Pb(Xg)?{signal:`(${Xg.signal}) * ${90}`}:{value:90*Xg};Uf.angle=Be(Sd,gd,ig);we.baseline=Be(Sd,We(Sd,"bottom","top"),{value:"bottom"});gf.angle=we.angle;gf.baseline=we.baseline;Bb(Re,{fill:Ld("titleColor"),fillOpacity:Ld("titleOpacity"),font:Ld("titleFont"),fontSize:Ld("titleFontSize"),fontStyle:Ld("titleFontStyle"),fontWeight:Ld("titleFontWeight"),limit:Ld("titleLimit"),lineHeight:Ld("titleLineHeight")},{align:Ld("titleAlign"),angle:Ld("titleAngle"),baseline:Ld("titleBaseline")});
id(Ld,Sd,Re,wg);Re.update.align=qa(Re.update.align,we.align);Re.update.angle=qa(Re.update.angle,we.angle);Re.update.baseline=qa(Re.update.baseline,we.baseline);var Kg=Sb({type:"text",role:"axis-title",style:"guide-title",from:ag,encode:Re},wg);kf.call(Le,Kg)}const Dh={enter:{},update:{}};Bb(Dh,{orient:be("orient"),offset:be("offset")||0,position:V(Pa.position,0),titlePadding:be("titlePadding"),minExtent:be("minExtent"),maxExtent:be("maxExtent"),range:{signal:`abs(span(range("${Pa.scale}")))`},translate:be("translate"),
format:Pa.format,formatType:Pa.formatType});return Fa(Na({role:"axis",from:ag,encode:Rb(Dh,Ad,He),marks:Le,aria:be("aria"),description:be("description"),zindex:be("zindex"),name:xd,interactive:le,style:ve}),q)});h.array(l.marks).forEach(Pa=>Fa(Pa,q));h.array(l.legends).forEach(Pa=>mb(Pa,q));l.title&&Ic(l.title,q);q.parseLambdas();return q}function K(l,q){var J=q.config;const la=Ja(q.root=q.add(new Wa("operator",void 0,void 0,void 0))),Ga=t(l,J);Ga.forEach(rb=>Ra(rb,q));q.description=l.description||
J.description;q.eventConfig=J.events;q.legends=q.objectProperty(J.legend&&J.legend.layout);q.locale=J.locale;J=q.add(ge());const Pa=q.add(Ne(ta(Rb({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},l.encode),"group","frame",l.style,q,{pulse:Ja(J)}))),Ka=q.add(fd({layout:q.objectProperty(l.layout),legends:q.legends,autosize:q.signalRef("autosize"),mark:la,pulse:Ja(Pa)}));q.operators.pop();q.pushState(Ja(Pa),Ja(Ka),null);y(l,q,Ga);q.operators.push(Ka);l=q.add(Kd({mark:la,
pulse:Ja(Ka)}));l=q.add(Ca({pulse:Ja(l)}));l=q.add(dc({pulse:Ja(l)}));q.addData("root",new na(q,J,J,l));return q}function ua(l,q){return q&&q.signal?{name:l,update:q.signal}:{name:l,value:q}}function t(l,q){const J=Ka=>V(l[Ka],q[Ka]),la=[ua("background",J("background")),ua("autosize",Zb(J("autosize"))),ua("padding",Ub(J("padding"))),ua("width",J("width")||0),ua("height",J("height")||0)],Ga=la.reduce((Ka,rb)=>(Ka[rb.name]=rb,Ka),{}),Pa={};h.array(l.signals).forEach(Ka=>{h.hasOwnProperty(Ga,Ka.name)?
Ka=h.extend(Ga[Ka.name],Ka):la.push(Ka);Pa[Ka.name]=Ka});h.array(q.signals).forEach(Ka=>{h.hasOwnProperty(Pa,Ka.name)||h.hasOwnProperty(Ga,Ka.name)||la.push(Ka)});return la}function O(l,q){this.config=l||{};this.options=q||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=
[];this._markpath=[]}function ba(l){this.config=l.config;this.options=l.options;this.legends=l.legends;this.field=Object.create(l.field);this.signals=Object.create(l.signals);this.lambdas=Object.create(l.lambdas);this.scales=Object.create(l.scales);this.events=Object.create(l.events);this.data=Object.create(l.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++l._nextsub[0];this._nextsub=l._nextsub;this._parent=l._parent.slice();this._encode=l._encode.slice();this._lookup=
l._lookup.slice();this._markpath=l._markpath}function xa(l){return(h.isArray(l)?oa:ab)(l)}function oa(l){const q=l.length;let J="[";for(let la=0;la<q;++la){const Ga=l[la];J+=(0<la?",":"")+(h.isObject(Ga)?Ga.signal||xa(Ga):h.stringValue(Ga))}return J+"]"}function ab(l){let q="{",J=0,la,Ga;for(la in l)Ga=l[la],q+=(1<++J?",":"")+h.stringValue(la)+":"+(h.isObject(Ga)?Ga.signal||xa(Ga):h.stringValue(Ga));return q+"}"}function Qb(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,
events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",
font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,
labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,
labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const Yb=l=>h.isObject(l)&&!h.isArray(l)?h.extend({},l):{value:l},ic=l=>h.isString(l)?h.stringValue(l):l.signal?`(${l.signal})`:wb(l),Ac=(l,q,J,la)=>`(${l}(${[q,J,la].map(vb).join(",")})+'')`,Mc=["value","update","init","react","bind"],Nc=ib("key"),Wc={code:"_.$value",ast:{type:"Identifier",value:"value"}},td=l=>(q,J,la)=>new Wa(l,J,q||void 0,la),ud=td("aggregate"),ee=td("axisticks"),Kd=td("bound"),ge=td("collect"),Je=td("compare"),Ie=td("datajoin"),Ne=td("encode"),$e=td("expression"),Ae=td("facet"),
Ge=td("field"),oe=td("key"),Ee=td("legendentries"),ye=td("load"),yd=td("mark"),fg=td("multiextent"),Ze=td("multivalues"),Pe=td("overlap"),Qe=td("params"),Ke=td("prefacet"),Ed=td("projection"),ze=td("proxy"),ie=td("relay"),Ca=td("render"),Va=td("scale"),dc=td("sieve"),dd=td("sortitems"),fd=td("viewlayout"),Zc=td("values");let Bd=0;const Zd={min:"min",max:"max",count:"sum"},Pd="size shape fill stroke strokeWidth strokeDash opacity".split(" "),He={name:1,style:1,interactive:1},gd={value:0},se={value:1},
Ve=xb(h.stringValue("left"),h.stringValue("right"),h.stringValue("center")),af=xb('"top"','"bottom"','"middle"'),he=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${xb('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Ve}`,lf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${af}) : "top"`;
na.fromEntries=function(l,q){const J=q.length,la=q[J-1],Ga=q[J-2];let Pa=q[0],Ka=null,rb=1;Pa&&"load"===Pa.type&&(Pa=q[1]);for(l.add(q[0]);rb<J;++rb)q[rb].params.pulse=Ja(q[rb-1]),l.add(q[rb]),"aggregate"===q[rb].type&&(Ka=q[rb]);return new na(l,Pa,Ga,la,Ka)};na.prototype={countsRef(l,q,J){const la=this.counts||(this.counts={}),Ga=Ia(q);if(null!=Ga){l=this.scope;var Pa=la[Ga]}Pa?J&&J.field&&hb(l,Pa.agg.params,J):(Pa={groupby:l.fieldRef(q,"key"),pulse:Ja(this.output)},J&&J.field&&hb(l,Pa,J),J=l.add(ud(Pa)),
Pa=l.add(ge({pulse:Ja(J)})),Pa={agg:J,ref:Ja(Pa)},null!=Ga&&(la[Ga]=Pa));return Pa.ref},tuplesRef(){return Ja(this.values)},extentRef(l,q){return S(l,this,"extent","extent",q,!1)},domainRef(l,q){return S(l,this,"domain","values",q,!1)},valuesRef(l,q,J){return S(l,this,"vals","values",q,J||!0)},lookupRef(l,q){return S(l,this,"lookup","tupleindex",q,!1)},indataRef(l,q){return S(l,this,"indata","tupleindex",q,!0,!0)}};const xf=(l,q,J)=>{Pb(l)?(l=l.signal,q=ue(`${l} === '${"left"}' || ${l} === '${"top"}'`,
q,J)):q="left"===l||"top"===l?q:J;return q},Be=(l,q,J)=>{Pb(l)?(l=l.signal,q=pe(`${l} === '${"top"}' || ${l} === '${"bottom"}'`,q,J)):q="bottom"===l||"top"===l?q:J;return q},Ue=(l,q,J)=>{Pb(l)?(l=l.signal,q=pe(`${l} !== '${"top"}' && ${l} !== '${"bottom"}'`,q,J)):q="bottom"===l||"top"===l?J:q;return q},We=(l,q,J)=>Pb(l)?ue(`${l.signal} === '${"top"}'`,q,J):"top"===l?{value:q}:{value:J},pe=(l,q,J)=>{q=null!=q?Yb(q):q;J=null!=J?Yb(J):J;if(null!=q&&1!==Object.keys(q).length||null!=J&&1!==Object.keys(J).length)return[h.extend({test:l},
q)].concat(J||[]);q=q?q.signal||h.stringValue(q.value):null;J=J?J.signal||h.stringValue(J.value):null;return{signal:`${l} ? (${q}) : (${J})`}},ue=(l,q,J)=>({signal:`${l} ? (${ae(q)}) : (${ae(J)})`}),ae=l=>Pb(l)?l.signal:null==l?null:h.stringValue(l),qa=(l,q)=>{const J=l.signal;return J&&J.endsWith("(null)")?{signal:J.slice(0,-6)+q.signal}:l};O.prototype=ba.prototype={parse(l){return y(l,this)},fork(){return new ba(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,
operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(l){this.operators.push(l);l.id=this.id();l.refs&&(l.refs.forEach(q=>{q.$ref=l.id}),l.refs=null);return l},proxy(l){l=l instanceof Wa?Ja(l):l;return this.add(ze({value:l}))},addStream(l){this.streams.push(l);l.id=this.id();return l},addUpdate(l){this.updates.push(l);return l},finish(){function l(la,Ga,
Pa){la&&(la=la.data||(la.data={}),Ga=la[Ga]||(la[Ga]=[]),Ga.push(Pa))}let q,J;this.root&&(this.root.root=!0);for(q in this.signals)this.signals[q].signal=q;for(q in this.scales)this.scales[q].scale=q;for(q in this.data){J=this.data[q];l(J.input,q,"input");l(J.output,q,"output");l(J.values,q,"values");for(const la in J.index)l(J.index[la],q,"index:"+la)}return this},pushState(l,q,J){this._encode.push(Ja(this.add(dc({pulse:l}))));this._parent.push(q);this._lookup.push(J?Ja(this.proxy(J)):null);this._markpath.push(-1)},
popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return h.peek(this._parent)},encode(){return h.peek(this._encode)},lookup(){return h.peek(this._lookup)},markpath(){const l=this._markpath;return++l[l.length-1]},fieldRef(l,q){if(h.isString(l))return ib(l,q);l.signal||h.error("Unsupported field reference: "+h.stringValue(l));l=l.signal;var J=this.field[l];J||(J={name:this.signalRef(l)},q&&(J.as=q),this.field[l]=J=Ja(this.add(Ge(J))));return J},compareRef(l){let q=
!1;const J=Ga=>Pb(Ga)?(q=!0,this.signalRef(Ga.signal)):Ga&&Ga.expr?(q=!0,this.exprRef(Ga.expr)):Ga,la=h.array(l.field).map(J);l=h.array(l.order).map(J);return q?Ja(this.add(Je({fields:la,orders:l}))):{$compare:la,$order:l}},keyRef(l,q){let J=!1;const la=this.signals;l=h.array(l).map(Ga=>Pb(Ga)?(J=!0,Ja(la[Ga.signal])):Ga);return J?Ja(this.add(oe({fields:l,flat:q}))):cb(l,q)},sortRef(l){if(!l)return l;const q=tb(l.op,l.field);l=l.order||"ascending";return l.signal?Ja(this.add(Je({fields:q,orders:this.signalRef(l.signal)}))):
{$compare:q,$order:l}},event(l,q){const J=l+":"+q;if(!this.events[J]){const la=this.id();this.streams.push({id:la,source:l,type:q});this.events[J]=la}return this.events[J]},hasOwnSignal(l){return h.hasOwnProperty(this.signals,l)},addSignal(l,q){this.hasOwnSignal(l)&&h.error("Duplicate signal name: "+h.stringValue(l));q=q instanceof Wa?q:this.add(new Wa("operator",q,void 0,void 0));return this.signals[l]=q},getSignal(l){this.signals[l]||h.error("Unrecognized signal name: "+h.stringValue(l));return this.signals[l]},
signalRef(l){if(this.signals[l])return Ja(this.signals[l]);h.hasOwnProperty(this.lambdas,l)||(this.lambdas[l]=this.add(new Wa("operator",null,void 0,void 0)));return Ja(this.lambdas[l])},parseLambdas(){const l=Object.keys(this.lambdas);for(let J=0,la=l.length;J<la;++J){var q=l[J];const Ga=ka.parseExpression(q,this);q=this.lambdas[q];q.params=Ga.$params;q.update=Ga.$expr}},property(l){return l&&l.signal?this.signalRef(l.signal):l},objectProperty(l){return l&&h.isObject(l)?this.signalRef(l.signal||
xa(l)):l},exprRef(l,q){l={expr:ka.parseExpression(l,this)};q&&(l.expr.$name=q);return Ja(this.add($e(l)))},addBinding(l,q){this.bindings||h.error("Nested signals do not support binding: "+h.stringValue(l));this.bindings.push(h.extend({signal:l},q))},addScaleProj(l,q){h.hasOwnProperty(this.scales,l)&&h.error("Duplicate scale or projection name: "+h.stringValue(l));this.scales[l]=this.add(q)},addScale(l,q){this.addScaleProj(l,Va(q))},addProjection(l,q){this.addScaleProj(l,Ed(q))},getScale(l){this.scales[l]||
h.error("Unrecognized scale name: "+h.stringValue(l));return this.scales[l]},scaleRef(l){return Ja(this.getScale(l))},scaleType(l){return this.getScale(l).params.type},projectionRef(l){return this.scaleRef(l)},projectionType(l){return this.scaleType(l)},addData(l,q){h.hasOwnProperty(this.data,l)&&h.error("Duplicate data set name: "+h.stringValue(l));return this.data[l]=q},getData(l){this.data[l]||h.error("Undefined data set name: "+h.stringValue(l));return this.data[l]},addDataPipeline(l,q){h.hasOwnProperty(this.data,
l)&&h.error("Duplicate data set name: "+h.stringValue(l));return this.addData(l,na.fromEntries(this,q))}};w.AxisDomainRole="axis-domain";w.AxisGridRole="axis-grid";w.AxisLabelRole="axis-label";w.AxisRole="axis";w.AxisTickRole="axis-tick";w.AxisTitleRole="axis-title";w.DataScope=na;w.FrameRole="frame";w.LegendEntryRole="legend-entry";w.LegendLabelRole="legend-label";w.LegendRole="legend";w.LegendSymbolRole="legend-symbol";w.LegendTitleRole="legend-title";w.MarkRole="mark";w.Scope=O;w.ScopeRole="scope";
w.config=Qb;w.parse=function(l,q,J){h.isObject(l)||h.error("Input Vega specification must be an object.");q=h.mergeConfig(Qb(),q,l.config);return K(l,new O(q,J)).toRuntime()};w.signal=Ra;w.signalUpdates=L;w.stream=da})};
shadow$provide[53]=function(Db,ob,zc,Ya){function w(Ja){var ib=Object.create(null);Ja&&Object.keys(Ja).forEach(function(cb){if("default"!==cb){var tb=Object.getOwnPropertyDescriptor(Ja,cb);Object.defineProperty(ib,cb,tb.get?tb:{enumerable:!0,get:function(){return Ja[cb]}})}});ib.default=Ja;return Object.freeze(ib)}var h=ob(21),ka=ob(29),Za=ob(31),zb=ob(35),Vb=ob(36),Zb=ob(38),Ub=ob(39),jc=ob(40),Bb=ob(41),Rb=ob(42),ec=ob(43);zc=ob(44);Db=ob(45);var Ea=ob(30),$a=ob(23),vb=ob(28),ub=ob(34),sb=ob(33),
wb=ob(37),jb=ob(50),lc=ob(24),ta=ob(48),ha=ob(52),ya=ob(49),Ra=ob(46),Wa=ob(51);ob=w(Za);zb=w(zb);Vb=w(Vb);Zb=w(Zb);Ub=w(Ub);jc=w(jc);Bb=w(Bb);Rb=w(Rb);ec=w(ec);zc=w(zc);Db=w(Db);h.extend(ka.transforms,ob,zb,Vb,Zb,Ub,Bb,jc,Rb,ec,zc,Db);Object.defineProperty(Ya,"Dataflow",{enumerable:!0,get:function(){return ka.Dataflow}});Object.defineProperty(Ya,"EventStream",{enumerable:!0,get:function(){return ka.EventStream}});Object.defineProperty(Ya,"MultiPulse",{enumerable:!0,get:function(){return ka.MultiPulse}});
Object.defineProperty(Ya,"Operator",{enumerable:!0,get:function(){return ka.Operator}});Object.defineProperty(Ya,"Parameters",{enumerable:!0,get:function(){return ka.Parameters}});Object.defineProperty(Ya,"Pulse",{enumerable:!0,get:function(){return ka.Pulse}});Object.defineProperty(Ya,"Transform",{enumerable:!0,get:function(){return ka.Transform}});Object.defineProperty(Ya,"changeset",{enumerable:!0,get:function(){return ka.changeset}});Object.defineProperty(Ya,"definition",{enumerable:!0,get:function(){return ka.definition}});
Object.defineProperty(Ya,"ingest",{enumerable:!0,get:function(){return ka.ingest}});Object.defineProperty(Ya,"isTuple",{enumerable:!0,get:function(){return ka.isTuple}});Object.defineProperty(Ya,"transform",{enumerable:!0,get:function(){return ka.transform}});Object.defineProperty(Ya,"transforms",{enumerable:!0,get:function(){return ka.transforms}});Object.defineProperty(Ya,"tupleid",{enumerable:!0,get:function(){return ka.tupleid}});Object.defineProperty(Ya,"interpolate",{enumerable:!0,get:function(){return sb.interpolate}});
Object.defineProperty(Ya,"interpolateColors",{enumerable:!0,get:function(){return sb.interpolateColors}});Object.defineProperty(Ya,"interpolateRange",{enumerable:!0,get:function(){return sb.interpolateRange}});Object.defineProperty(Ya,"quantizeInterpolator",{enumerable:!0,get:function(){return sb.quantizeInterpolator}});Object.defineProperty(Ya,"scale",{enumerable:!0,get:function(){return sb.scale}});Object.defineProperty(Ya,"scheme",{enumerable:!0,get:function(){return sb.scheme}});Object.defineProperty(Ya,
"projection",{enumerable:!0,get:function(){return wb.projection}});Object.defineProperty(Ya,"View",{enumerable:!0,get:function(){return jb.View}});Object.defineProperty(Ya,"defaultLocale",{enumerable:!0,get:function(){return lc.defaultLocale}});Object.defineProperty(Ya,"formatLocale",{enumerable:!0,get:function(){return lc.numberFormatDefaultLocale}});Object.defineProperty(Ya,"locale",{enumerable:!0,get:function(){return lc.locale}});Object.defineProperty(Ya,"resetDefaultLocale",{enumerable:!0,get:function(){return lc.resetDefaultLocale}});
Object.defineProperty(Ya,"timeFormatLocale",{enumerable:!0,get:function(){return lc.timeFormatDefaultLocale}});Object.defineProperty(Ya,"expressionFunction",{enumerable:!0,get:function(){return ta.expressionFunction}});Object.defineProperty(Ya,"parse",{enumerable:!0,get:function(){return ha.parse}});Object.defineProperty(Ya,"runtimeContext",{enumerable:!0,get:function(){return ya.context}});Object.defineProperty(Ya,"codegenExpression",{enumerable:!0,get:function(){return Ra.codegenExpression}});Object.defineProperty(Ya,
"parseExpression",{enumerable:!0,get:function(){return Ra.parseExpression}});Object.defineProperty(Ya,"parseSelector",{enumerable:!0,get:function(){return Wa.parseSelector}});Ya.version="5.33.0";Object.keys(h).forEach(function(Ja){"default"===Ja||Object.prototype.hasOwnProperty.call(Ya,Ja)||Object.defineProperty(Ya,Ja,{enumerable:!0,get:function(){return h[Ja]}})});Object.keys(Ea).forEach(function(Ja){"default"===Ja||Object.prototype.hasOwnProperty.call(Ya,Ja)||Object.defineProperty(Ya,Ja,{enumerable:!0,
get:function(){return Ea[Ja]}})});Object.keys($a).forEach(function(Ja){"default"===Ja||Object.prototype.hasOwnProperty.call(Ya,Ja)||Object.defineProperty(Ya,Ja,{enumerable:!0,get:function(){return $a[Ja]}})});Object.keys(vb).forEach(function(Ja){"default"===Ja||Object.prototype.hasOwnProperty.call(Ya,Ja)||Object.defineProperty(Ya,Ja,{enumerable:!0,get:function(){return vb[Ja]}})});Object.keys(ub).forEach(function(Ja){"default"===Ja||Object.prototype.hasOwnProperty.call(Ya,Ja)||Object.defineProperty(Ya,
Ja,{enumerable:!0,get:function(){return ub[Ja]}})})};
shadow$provide[54]=function(Db,ob,zc,Ya){(function(w,h){"object"===typeof Ya&&"undefined"!==typeof zc?h(Ya,ob(53)):"function"===typeof define&&define.amd?define(["exports","vega"],h):(w="undefined"!==typeof globalThis?globalThis:w||self,h(w.vegaLite={},w.vega))})(this,function(w,h){function ka(a,b){if(a.not)ka(a.not,b);else if(a.and)for(const e of a.and)ka(e,b);else if(a.or)for(const e of a.or)ka(e,b);else b(a)}function Za(a,b){return a.not?{not:Za(a.not,b)}:a.and?{and:a.and.map(e=>Za(e,b))}:a.or?
{or:a.or.map(e=>Za(e,b))}:b(a)}function zb(a){throw Error(a);}function Vb(a,b){const e={};for(const f of b)h.hasOwnProperty(a,f)&&(e[f]=a[f]);return e}function Zb(a,b){a=Object.assign({},a);for(const e of b)delete a[e];return a}function Ub(a){if(h.isNumber(a))return a;a=h.isString(a)?a:m(a);if(250>a.length)return a;let b=0;for(let e=0;e<a.length;e++){const f=a.charCodeAt(e);b=(b<<5)-b+f;b&=b}return b}function jc(a){return!1===a||null===a}function Bb(a,b){return a.includes(b)}function Rb(a,b){let e=
0;for(const f of a.entries()){const [g,p]=f;if(b(p,g,e++))return!0}return!1}function ec(a,b){let e=0;for(const f of a.entries()){const [g,p]=f;if(!b(p,g,e++))return!1}return!0}function Ea(a){for(var b=arguments.length,e=Array(1<b?b-1:0),f=1;f<b;f++)e[f-1]=arguments[f];for(const g of e){let p;b=a;e=null!=(p=g)?p:{};for(const C of bd(e))h.writeConfig(b,C,e[C],!0)}return a}function $a(a,b){const e=[],f={};for(const g of a)a=b(g),a in f||(f[a]=1,e.push(g));return e}function vb(a,b){if(a.size!==b.size)return!1;
for(const e of a)if(!b.has(e))return!1;return!0}function ub(a,b){for(const e of a)if(b.has(e))return!0;return!1}function sb(a){const b=new Set;for(const e of a){const f=h.splitAccessPath(e).map((g,p)=>0===p?g:`[${g}]`);a=f.map((g,p)=>f.slice(0,p+1).join(""));for(const g of a)b.add(g)}return b}function wb(a,b){return void 0===a||void 0===b?!0:ub(sb(a),sb(b))}function jb(a){return 0===bd(a).length}function lc(a){return!0===a||!1===a}function ta(a){const b=a.replace(/\W/g,"_");return(a.match(/^\d+/)?
"_":"")+b}function ha(a,b){return a.not?`!(${ha(a.not,b)})`:a.and?`(${a.and.map(e=>ha(e,b)).join(") \x26\x26 (")})`:a.or?`(${a.or.map(e=>ha(e,b)).join(") || (")})`:b(a)}function ya(a,b){if(0===b.length)return!0;const e=b.shift();e in a&&ya(a[e],b)&&delete a[e];return jb(a)}function Ra(a){return a.charAt(0).toUpperCase()+a.substr(1)}function Wa(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const e=h.splitAccessPath(a),f=[];for(let g=1;g<=e.length;g++){const p=`[${e.slice(0,
g).map(h.stringValue).join("][")}]`;f.push(`${b}${p}`)}return f.join(" \x26\x26 ")}function Ja(a){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${h.stringValue(h.splitAccessPath(a).join("."))}]`}function ib(a){return a.replace(/(\[|\]|\.|'|")/g,"\\$1")}function cb(a){return`${h.splitAccessPath(a).map(ib).join("\\.")}`}function tb(a,b,e){return a.replace(new RegExp(b.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),e)}function Pb(a){return`${h.splitAccessPath(a).join(".")}`}
function gb(a){return a?h.splitAccessPath(a).length:0}function V(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];for(const f of b)if(void 0!==f)return f}function aa(a){const b=++Lk;return a?String(a)+b:b}function da(a){return ia(a)?a:`__${a}`}function ia(a){return a.startsWith("__")}function Ma(a){if(void 0!==a)return(a%360+360)%360}function pa(a){return h.isNumber(a)?!0:!isNaN(a)&&!isNaN(parseFloat(a))}function sa(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==
typeof b){if(a.constructor.name!==b.constructor.name)return!1;let f;if(Array.isArray(a)){var e=a.length;if(e!=b.length)return!1;for(f=e;0!==f--;)if(!sa(a[f],b[f]))return!1;return!0}if(a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;for(f of a.entries())if(!b.has(f[0]))return!1;for(f of a.entries())if(!sa(f[1],b.get(f[0])))return!1;return!0}if(a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;for(f of a.entries())if(!b.has(f[0]))return!1;return!0}if(ArrayBuffer.isView(a)&&
ArrayBuffer.isView(b)){e=a.length;if(e!=b.length)return!1;for(f=e;0!==f--;)if(a[f]!==b[f])return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf&&a.valueOf!==Kk.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString&&a.toString!==Kk.toString)return a.toString()===b.toString();const g=Object.keys(a);e=g.length;if(e!==Object.keys(b).length)return!1;for(f=e;0!==f--;)if(!Object.prototype.hasOwnProperty.call(b,
g[f]))return!1;for(f=e;0!==f--;)if(e=g[f],!sa(a[e],b[e]))return!1;return!0}return a!==a&&b!==b}function m(a){const b=[];return function g(f){f&&f.toJSON&&"function"===typeof f.toJSON&&(f=f.toJSON());if(void 0!==f){if("number"==typeof f)return isFinite(f)?""+f:"null";if("object"!==typeof f)return JSON.stringify(f);var p;if(Array.isArray(f)){var C="[";for(p=0;p<f.length;p++)p&&(C+=","),C+=g(f[p])||"null";return C+"]"}if(null===f)return"null";if(b.includes(f))throw new TypeError("Converting circular structure to JSON");
var Q=b.push(f)-1,Y=Object.keys(f).sort();C="";for(p=0;p<Y.length;p++){const wa=Y[p],db=g(f[wa]);db&&(C&&(C+=","),C+=JSON.stringify(wa)+":"+db)}b.splice(Q,1);return`{${C}}`}}(a)}function F(a){switch(a){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function L(a){return"color"===a||"fill"===a||"stroke"===a}function u(a){return R(a)!==a}function R(a){switch(a){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";
case "theta2":return"theta";case "radius2":return"radius"}return a}function B(a){if(a in fk)switch(a){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return a}function z(a){switch(a){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function N(a){switch(a){case "x":case "x2":return"width";case "y":case "y2":return"height"}}
function A(a){switch(a){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function D(a){switch(a){case "x":return"xOffset";case "y":return"yOffset"}}function H(a){return a in gk}function W(a){return"width"===a?"x":"y"}function Da(a){switch(a){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Dl;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Ql;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function P(a){switch(a){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function ja(a){return!!a&&!!a.argmin}function Ba(a){return!!a&&!!a.argmax}function Na(a){return h.isString(a)&&!!hk[a]}function Qa(a){return h.isString(a)&&Vl.has(a)}function eb(a){h.isBoolean(a)&&(a=je(a,void 0));return"bin"+bd(a).map(b=>Sb(a[b])?ta(`_${b}_${Gi(a[b])}`):ta(`_${b}_${a[b]}`)).join("")}function xb(a){return!0===a||h.isObject(a)&&!a.binned}function kb(a){return"binned"===a||h.isObject(a)&&!0===a.binned}function Sb(a){return null==
a?void 0:a.param}function X(a){switch(a){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Ha(a){return!(null==a||!a.expr)}function Nb(a){const b=bd(a||{}),e={};for(const f of b)e[f]=ra(a[f]);return e}function nc(a){var b=Object.assign({},a),e=a.anchor;const f=a.frame,g=a.offset,p=a.orient,C=a.angle,Q=a.limit;var Y=a.color,
wa=a.subtitleColor;const db=a.subtitleFont,pb=a.subtitleFontSize,bc=a.subtitleFontStyle,Fc=a.subtitleFontWeight,fc=a.subtitleLineHeight,Ec=a.subtitlePadding;b=(delete b.anchor,delete b.frame,delete b.offset,delete b.orient,delete b.angle,delete b.limit,delete b.color,delete b.subtitleColor,delete b.subtitleFont,delete b.subtitleFontSize,delete b.subtitleFontStyle,delete b.subtitleFontWeight,delete b.subtitleLineHeight,delete b.subtitlePadding,b);Y=Object.assign({},b,Y?{fill:Y}:{});e=Object.assign({},
e?{anchor:e}:{},f?{frame:f}:{},g?{offset:g}:{},p?{orient:p}:{},void 0!==C?{angle:C}:{},void 0!==Q?{limit:Q}:{});wa=Object.assign({},wa?{subtitleColor:wa}:{},db?{subtitleFont:db}:{},pb?{subtitleFontSize:pb}:{},bc?{subtitleFontStyle:bc}:{},Fc?{subtitleFontWeight:Fc}:{},fc?{subtitleLineHeight:fc}:{},Ec?{subtitlePadding:Ec}:{});a=Vb(a,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:Y,subtitleMarkConfig:a,nonMarkTitleProperties:e,subtitle:wa}}function Wb(a){return h.isString(a)||h.isArray(a)&&
h.isString(a[0])}function Jb(a){return!(null==a||!a.signal)}function Lb(a){return!!a.step}function sc(a){return h.isArray(a)?!1:"field"in a&&"data"in a}function Oc(a){const b=h.isArray(a.condition)?a.condition.map(Eb):Eb(a.condition);return Object.assign({},ra(a),{condition:b})}function ra(a){if(Ha(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return a}function Eb(a){if(Ha(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},
{signal:a},b)}return a}function Ta(a){if(Ha(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return Jb(a)?a:void 0!==a?{value:a}:void 0}function yb(a){return Jb(a)?a.signal:h.stringValue(a.value)}function Gb(a){return Jb(a)?a.signal:null==a?null:h.stringValue(a)}function Cb(a){let b;return[].concat(a.type,null!=(b=a.style)?b:[])}function Xb(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:g,ignoreVgConfig:p}=f;
if(g&&void 0!==b[g])return b[g];if(void 0!==b[a])return b[a];if(!p||g&&g!==a)return gc(a,b,e,f)}function gc(a,b,e){let {vgChannel:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return V(f?wc(a,b,e.style):void 0,wc(a,b,e.style),f?e[b.type][f]:void 0,e[b.type][a],f?e.mark[f]:e.mark[a])}function wc(a,b,e){return Xc(a,Cb(b),e)}function Xc(a,b,e){b=h.array(b);let f;for(const g of b)(b=e[g])&&void 0!==b[a]&&(f=b[a]);return f}function Kc(a,b){return h.array(a).reduce((e,f)=>{e.field.push(kc(f,
b));let g;e.order.push(null!=(g=f.sort)?g:"ascending");return e},{field:[],order:[]})}function na(a,b){const e=[...a];b.forEach(f=>{for(const g of e)if(sa(g,f))return;e.push(f)});return e}function Ia(a,b){return sa(a,b)||!b?a:a?[...h.array(a),...h.array(b)].join(", "):b}function hb(a,b){const e=a.value;b=b.value;if(null==e||null===b)return{explicit:a.explicit,value:null};if((Wb(e)||Jb(e))&&(Wb(b)||Jb(b)))return{explicit:a.explicit,value:Ia(e,b)};if(Wb(e)||Jb(e))return{explicit:a.explicit,value:e};
if(Wb(b)||Jb(b))return{explicit:a.explicit,value:b};if(!(Wb(e)||Jb(e)||Wb(b)||Jb(b)))return{explicit:a.explicit,value:na(e,b)};throw Error("It should never reach here");}function S(a,b,e){a:if("object"===typeof b&&null!==b){var f=b[Symbol.toPrimitive];if(void 0!==f){b=f.call(b,"string");if("object"!==typeof b)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}b="symbol"===typeof b?b:String(b);b in a?Object.defineProperty(a,b,{value:e,enumerable:!0,configurable:!0,
writable:!0}):a[b]=e;return a}function v(a,b,e){b=ca(a,b,"set");if(b.set)b.set.call(a,e);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=e}return e}function ca(a,b,e){if(!b.has(a))throw new TypeError("attempted to "+e+" private field on non-instance");return b.get(a)}function za(a){return`Invalid specification ${m(a)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function Fa(a){return`${"width"==a?"Width":"Height"} "container" only works for single views and layered views.`}function Ua(a){return`${"width"==a?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==a?"x":"y"}".`}function mb(a){return a?`Dropping "fit-${a}" because spec has discrete ${N(a)}.`:'Dropping "fit" because spec has discrete size.'}function Mb(a){return`Unknown field for ${a}. Cannot calculate view size.`}function Fb(a){return`Cannot project a selection on encoding channel "${a}", which has no field.`}
function Kb(a){return`Selection not supported for ${a} yet.`}function vc(a){return`The "columns" property cannot be used when "${a}" has nested row/column.`}function yc(a,b,e){return`An ancestor parsed field "${a}" as ${e} but a child wants to parse the field as ${b}.`}function Ic(a){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${a} are dropped.`}function kd(a,b){const {fill:e,stroke:f}=b;return`Dropping color ${a} as the plot also has ${e&&f?"fill and stroke":
e?"fill":"stroke"}.`}function $c(a,b){return`Dropping ${m(a)} from channel "${b}" since it does not contain any data field, datum, value, or signal.`}function Pc(a,b,e){return`${a} dropped as it is incompatible with "${b}"${e?` when ${e}`:""}.`}function hd(a,b){return`Using discrete channel "${a}" to encode "${b}" field can be misleading as it does not encode ${"ordinal"===b?"order":"magnitude"}.`}function md(a,b,e){return`${e}-scale's "${b}" is dropped as it does not work with ${a} scale.`}function ad(a){return`The step for "${a}" is dropped because the ${"width"===
a?"x":"y"} is continuous.`}function ke(a,b){return`Invalid ${a}: ${m(b)}.`}function id(a){return`1D error band does not support ${a}.`}function y(a){return`Channel ${a} is required for "binned" bin.`}function K(){Ai.warn(...arguments)}function ua(){Ai.debug(...arguments)}function t(a){if(a&&h.isObject(a))for(const b of Zk)if(b in a)return!0;return!1}function O(a){pa(a)&&(a=+a);if(h.isNumber(a))return a-1;var b=a.toLowerCase();const e=Qh.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Lj.indexOf(b);
if(-1!==b)return b;throw Error(ke("month",a));}function ba(a){pa(a)&&(a=+a);if(h.isNumber(a))return a%7;var b=a.toLowerCase();const e=$h.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Ok.indexOf(b);if(-1!==b)return b;throw Error(ke("day",a));}function xa(a,b){const e=[];b&&void 0!==a.day&&1<bd(a).length&&(K(`Dropping day from datetime ${m(a)} as day cannot be combined with other units.`),a=te(a),delete a.day);void 0!==a.year?e.push(a.year):e.push(2012);if(void 0!==a.month){var f=b?O(a.month):a.month;
e.push(f)}else if(void 0!==a.quarter){if(b)if(f=a.quarter,pa(f)&&(f=+f),h.isNumber(f))4<f&&K(ke("quarter",f)),--f;else throw Error(ke("quarter",f));else f=a.quarter;e.push(h.isNumber(f)?3*f:`${f}*3`)}else e.push(0);void 0!==a.date?e.push(a.date):void 0!==a.day?(b=b?ba(a.day):a.day,e.push(h.isNumber(b)?b+1:`${b}+1`)):e.push(1);for(const g of["hours","minutes","seconds","milliseconds"])b=a[g],e.push("undefined"===typeof b?0:b);return e}function oa(a){const b=xa(a,!0).join(", ");return a.utc?`utc(${b})`:
`datetime(${b})`}function ab(a){const b=xa(a,!0);return a.utc?+new Date(Date.UTC(...b)):+new Date(...b)}function Qb(a){return h.isObject(a)?a.binned:a&&a.startsWith("binned")}function Yb(a){return Zk.filter(b=>Ac(a,b))}function ic(a){a=Yb(a);return a[a.length-1]}function Ac(a,b){const e=a.indexOf(b);return 0>e||0<e&&"seconds"===b&&"i"===a.charAt(e-1)||a.length>e+3&&"day"===b&&"o"===a.charAt(e+3)||0<e&&"year"===b&&"f"===a.charAt(e-1)?!1:!0}function Mc(a,b){var {end:e}=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:{end:!1};const f=Wa(b),g=a.startsWith("utc")?"utc":"";const p={};for(const Q of Zk)if(Ac(a,Q)){var C="quarter"===Q?`(${g}quarter(${f})-1)`:`${g}${Q}(${f})`;p[Q]=C;C=Q}e&&(p[C]+="+1");e=xa(p,!1).join(", ");return p.utc?`utc(${e})`:`datetime(${e})`}function Nc(a){if(a)return a=Yb(a),`timeUnitSpecifier(${m(a)}, ${m(Uk)})`}function Wc(a){if(a){var b;h.isString(a)?b=a&&a.startsWith("binned")?{unit:a.substring(6),binned:!0}:{unit:a}:h.isObject(a)&&(b=Object.assign({},a,a.unit?
{unit:a.unit}:{}));b.unit.startsWith("utc")&&(b.utc=!0,b.unit=b.unit.substring(3));return b}}function td(a){var b=Wc(a);a=Object.assign({},b);b=b.utc;const e=(delete a.utc,a);return e.unit?(b?"utc":"")+bd(e).map(f=>ta(`${"unit"===f?"":`_${f}_`}${e[f]}`)).join(""):(b?"utc":"")+"timeunit"+bd(e).map(f=>ta(`_${f}_${e[f]}`)).join("")}function ud(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g=>g;var e=Wc(a);const f=ic(e.unit);if(f&&"day"!==f){const g={year:2001,month:1,date:1,hours:0,
minutes:0,seconds:0,milliseconds:0},{step:p,part:C}=ee(f,e.step);e=Object.assign({},g,{[C]:+g[C]+p});return`${b(oa(e))} - ${b(oa(g))}`}}function ee(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(pj[a])return{part:a,step:b};switch(a){case "day":case "dayofyear":return{part:"date",step:b};case "quarter":return{part:"month",step:3*b};case "week":return{part:"date",step:7*b}}}function Kd(a){return!(null==a||!a.field)&&void 0!==a.equal}function ge(a){return!(null==a||!a.field)&&void 0!==
a.lt}function Je(a){return!(null==a||!a.field)&&void 0!==a.lte}function Ie(a){return!(null==a||!a.field)&&void 0!==a.gt}function Ne(a){return!(null==a||!a.field)&&void 0!==a.gte}function $e(a){if(null==a?0:a.field)if(h.isArray(a.range)&&2===a.range.length||Jb(a.range))return!0;return!1}function Ae(a){return!(null==a||!a.field)&&(h.isArray(a.oneOf)||h.isArray(a.in))}function Ge(a){return Ae(a)||Kd(a)||$e(a)||ge(a)||Ie(a)||Je(a)||Ne(a)}function oe(a,b){return Dg(a,{timeUnit:b,wrapTime:!0})}function Ee(a,
b){return a.map(e=>oe(e,b))}function ye(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:e}=a,f=Wc(a.timeUnit);const {unit:g,binned:p}=f||{};f=kc(a,{expr:"datum"});e=g?`time(${p?f:Mc(g,e)})`:f;if(Kd(a))return`${e}===${oe(a.equal,g)}`;if(ge(a))return`${e}<${oe(a.lt,g)}`;if(Ie(a))return`${e}>${oe(a.gt,g)}`;if(Je(a))return`${e}<=${oe(a.lte,g)}`;if(Ne(a))return`${e}>=${oe(a.gte,g)}`;if(Ae(a))return`indexof([${Ee(a.oneOf,g).join(",")}], ${e}) !== -1`;if(null!=a&&a.field&&void 0!==
a.valid)return yd(e,a.valid);if($e(a)){var {range:C}=a;f=Jb(C)?{signal:`${C.signal}[0]`}:C[0];C=Jb(C)?{signal:`${C.signal}[1]`}:C[1];if(null!==f&&null!==C&&b)return"inrange("+e+", ["+oe(f,g)+", "+oe(C,g)+"])";b=[];null!==f&&b.push(`${e} >= ${oe(f,g)}`);null!==C&&b.push(`${e} <= ${oe(C,g)}`);return 0<b.length?b.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${m(a)}`);}function yd(a){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${a}) && isFinite(+${a})`:
`!isValid(${a}) || !isFinite(+${a})`}function fg(a){return Ge(a)&&a.timeUnit?Object.assign({},a,{timeUnit:Wc(a.timeUnit)}):a}function Ze(a){return"quantitative"===a||"temporal"===a}function Pe(a){return"ordinal"===a||"nominal"===a}function Qe(a){if(a)switch(a=a.toLowerCase(),a){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Ke(a){return qj.has(a)}
function Ed(a){return Vk.has(a)}function ze(a,b){switch(b){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(a);case "bins":return!["point","band","identity","ordinal"].includes(a);case "round":return lg.has(a)||"band"===a||"point"===a;case "padding":case "rangeMin":case "rangeMax":return lg.has(a)||["point","band"].includes(a);case "paddingOuter":case "align":return["point","band"].includes(a);case "paddingInner":return"band"===
a;case "domainMax":case "domainMid":case "domainMin":case "domainRaw":case "clamp":return lg.has(a);case "nice":return lg.has(a)||"quantize"===a||"threshold"===a;case "exponent":return"pow"===a;case "base":return"log"===a;case "constant":return"symlog"===a;case "zero":return Ed(a)&&!Bb(["log","time","utc","threshold","quantile"],a)}}function ie(a,b){switch(b){case "interpolate":case "scheme":case "domainMid":if(!L(a))return`Cannot use the scale property "${b}" with non-color channel.`}}function Ca(a,
b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!Mh[a])return!1;switch(a){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return lg.has(b)||"band"===b?!0:"point"===b?!e:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return lg.has(b)||ai.has(b)||Bb(["band","point","ordinal"],b);case "color":case "fill":case "stroke":return"band"!==b;case "strokeDash":case "shape":return"ordinal"===b||ai.has(b)}}
function Va(a){return["line","area","trail"].includes(a)}function dc(a){return["rect","bar","image","arc"].includes(a)}function dd(a){return a.type}function fd(a){return a&&void 0!=a.band}function Zc(a){const {channel:b,channelDef:e,markDef:f,scale:g,config:p}=a;a=He(a);if(Ka(e)&&!Qa(e.aggregate)&&g&&lg.has(g.get("type"))){{let {fieldDef:Q,channel:Y,markDef:wa,ref:db,config:pb}={fieldDef:e,channel:b,markDef:f,ref:a,config:p};if(Va(wa.type))a=db;else if(null===Xb("invalid",wa,pb)){var C=Y;a=Bd(Q,!0);
C="y"===R(C)?{field:{group:"height"}}:{value:0};a=[Object.assign({},{test:a},C),db]}else a=db}return a}return a}function Bd(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return yd(h.isString(a)?a:kc(a,{expr:"datum"}),!b)}function Zd(a,b,e,f){const g={};b&&(g.scale=b);nb(a)?({datum:a}=a,t(a)?g.signal=oa(a):Jb(a)?g.signal=a.signal:Ha(a)?g.signal=a.expr:g.value=a):g.field=kc(a,e);if(f){const {offset:p,band:C}=f;p&&(g.offset=p);C&&(g.band=C)}return g}function Pd(a){let {scaleName:b,
fieldOrDatumDef:e,fieldOrDatumDef2:f,offset:g,startSuffix:p,endSuffix:C="end",bandPosition:Q=.5}=a;var Y=!Jb(Q)&&0<Q&&1>Q?"datum":void 0;a=kc(e,{expr:Y,suffix:p});const wa=void 0!==f?kc(f,{expr:Y}):kc(e,{suffix:C,expr:Y});Y={};0===Q||1===Q?(Y.scale=b,Y.field=0===Q?a:wa):(a=Jb(Q)?`(1-${Q.signal}) * ${a} + ${Q.signal} * ${wa}`:`${1-Q} * ${a} + ${Q} * ${wa}`,Y.signal=`scale("${b}", ${a})`);g&&(Y.offset=g);return Y}function He(a){let {channel:b,channelDef:e,channel2Def:f,markDef:g,config:p,scaleName:C,
scale:Q,stack:Y,offset:wa,defaultRef:db,bandPosition:pb}=a;if(e){if(tc(e)){a=null==Q?void 0:Q.get("type");if(Hc(e)){null!=pb||(pb=l({fieldDef:e,fieldDef2:f,markDef:g,config:p}));const {bin:fc,timeUnit:Ec,type:Qc}=e;if(xb(fc)||pb&&Ec&&"temporal"===Qc)return(null==Y?0:Y.impute)?Zd(e,C,{binSuffix:"mid"},{offset:wa}):pb&&!Ke(a)?Pd({scaleName:C,fieldOrDatumDef:e,bandPosition:pb,offset:wa}):Zd(e,C,Mf(e,b)?{binSuffix:"range"}:{},{offset:wa});if(kb(fc)){if(Ka(f))return Pd({scaleName:C,fieldOrDatumDef:e,fieldOrDatumDef2:f,
bandPosition:pb,offset:wa});K(y("x"===b?"x2":"y2"))}}var bc;let Fc;return Zd(e,C,Ke(a)?{binSuffix:"range"}:{},{offset:wa,band:"band"===a?null!=(Fc=null!=(bc=pb)?bc:e.bandPosition)?Fc:.5:void 0})}if(Uc(e))return bc=wa?{offset:wa}:{},Object.assign({},gd(b,e.value),bc)}h.isFunction(db)&&(db=db());return db?Object.assign({},db,wa?{offset:wa}:{}):db}function gd(a,b){return Bb(["x","x2"],a)&&"width"===b?{field:{group:"width"}}:Bb(["y","y2"],a)&&"height"===b?{field:{group:"height"}}:Ta(b)}function se(a){return a&&
"number"!==a&&"time"!==a}function Ve(a){let {fieldOrDatumDef:b,format:e,formatType:f,expr:g,normalizeStack:p,config:C}=a;if(se(f))return he({fieldOrDatumDef:b,format:e,formatType:f,expr:g,config:C});a=af(b,g,p);var Q=rb(b);if(void 0===e&&void 0===f&&C.customFormatTypes){if("quantitative"===Q){if(p&&C.normalizedNumberFormatType)return he({fieldOrDatumDef:b,format:C.normalizedNumberFormat,formatType:C.normalizedNumberFormatType,expr:g,config:C});if(C.numberFormatType)return he({fieldOrDatumDef:b,format:C.numberFormat,
formatType:C.numberFormatType,expr:g,config:C})}if("temporal"===Q&&C.timeFormatType&&Ka(b)&&void 0===b.timeUnit)return he({fieldOrDatumDef:b,format:C.timeFormat,formatType:C.timeFormatType,expr:g,config:C})}if(jf(b)){var Y,wa;{a={field:a,timeUnit:Ka(b)?null==(Y=Wc(b.timeUnit))?void 0:Y.unit:void 0,format:e,formatType:C.timeFormatType,rawTimeFormat:C.timeFormat,isUTCScale:Fd(b)&&(null==(wa=b.scale)?void 0:wa.type)===gg.UTC};let {field:db,timeUnit:pb,format:bc,formatType:Fc,rawTimeFormat:fc,isUTCScale:Ec}=
a;!pb||bc?!pb&&Fc?Y=`${Fc}(${db}, '${bc}')`:(bc=h.isString(bc)?bc:fc,Y=`${Ec?"utc":"time"}Format(${db}, '${bc}')`):(Y=pb,wa=db,a=Ec,Y?(Q=Nc(Y),Y=`${a||Y.startsWith("utc")?"utc":"time"}Format(${wa}, ${Q})`):Y=void 0)}return Y?{signal:Y}:void 0}e=Be({type:Q,specifiedFormat:e,config:C,normalizeStack:p});return Ka(b)&&xb(b.bin)?(Y=kc(b,{expr:g,binSuffix:"end"}),{signal:We(a,Y,e,f,C)}):e||"quantitative"===rb(b)?{signal:`${`format(${a}, "${e||""}")`}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function af(a,
b,e){if(Ka(a))return e?`${kc(a,{expr:b,suffix:"end"})}-${kc(a,{expr:b,suffix:"start"})}`:kc(a,{expr:b});({datum:a}=a);a=t(a)?oa(a):`${m(a)}`;return a}function he(a){let {fieldOrDatumDef:b,format:e,formatType:f,expr:g,normalizeStack:p,config:C,field:Q}=a;null!=Q||(Q=af(b,g,p));return"datum.value"!==Q&&Ka(b)&&xb(b.bin)?(a=kc(b,{expr:g,binSuffix:"end"}),{signal:We(Q,a,e,f,C)}):{signal:`${f}(${Q}${e?`, ${m(e)}`:""})`}}function lf(a,b,e,f,g,p){if(!h.isString(f)||!se(f))if(void 0!==e||void 0!==f||!g.customFormatTypes||
"quantitative"!==rb(a)||!(g.normalizedNumberFormatType&&od(a)&&"normalize"===a.stack||g.numberFormatType)){if(od(a)&&"normalize"===a.stack&&g.normalizedNumberFormat)return Be({type:"quantitative",config:g,normalizeStack:!0});if(jf(a)){let C;a=Ka(a)?null==(C=Wc(a.timeUnit))?void 0:C.unit:void 0;if(void 0===a&&g.customFormatTypes&&g.timeFormatType)return;{let {specifiedFormat:Q,timeUnit:Y,config:wa,omitTimeFormatConfig:db}={specifiedFormat:e,timeUnit:a,config:g,omitTimeFormatConfig:p};e=Q?Q:Y?{signal:Nc(Y)}:
db?void 0:wa.timeFormat}return e}return Be({type:b,specifiedFormat:e,config:g})}}function xf(a,b,e){if(a&&(Jb(a)||"number"===a||"time"===a))return a;if(jf(b)&&"time"!==e&&"utc"!==e){let f;return Ka(b)&&(null==(f=Wc(null==b?void 0:b.timeUnit))?0:f.utc)?"utc":"time"}}function Be(a){let {type:b,specifiedFormat:e,config:f,normalizeStack:g}=a;if(h.isString(e))return e;if("quantitative"===b)return g?f.normalizedNumberFormat:f.numberFormat}function Ue(a,b,e,f){if(se(e))return`${e}(${a}${b?`, ${m(b)}`:""})`;
let g;b=null!=(g=h.isString(b)?b:void 0)?g:f.numberFormat;return`format(${a}, "${b||""}")`}function We(a,b,e,f,g){if(void 0===e&&void 0===f&&g.customFormatTypes&&g.numberFormatType)return We(a,b,g.numberFormat,g.numberFormatType,g);const p=Ue(a,e,f,g);b=Ue(b,e,f,g);return`${yd(a,!1)} ? "null" : ${p} + "${"  "}" + ${b}`}function pe(a){return a&&("count"===a.op||!!a.field)}function ue(a){return a&&h.isArray(a)}function ae(a){return"row"in a||"column"in a}function qa(a){const {field:b,timeUnit:e,bin:f,
aggregate:g}=a;return Object.assign({},e?{timeUnit:e}:{},f?{bin:f}:{},g?{aggregate:g}:{},{field:b})}function l(a){let {fieldDef:b,fieldDef2:e,markDef:f,config:g}=a;if(tc(b)&&void 0!==b.bandPosition)return b.bandPosition;if(Ka(b)){const {timeUnit:p,bin:C}=b;if(p&&!e)return gc("timeUnitBandPosition",f,g);if(xb(C))return.5}}function q(a){let {channel:b,fieldDef:e,fieldDef2:f,markDef:g,config:p,scaleType:C,useVlSizeChannel:Q}=a;a=N(b);a=Xb(Q?"size":a,g,p,{vgChannel:a});if(void 0!==a)return a;if(Ka(e)){const {timeUnit:Y,
bin:wa}=e;if(Y&&!f)return{band:gc("timeUnitBandSize",g,p)};if(xb(wa)&&!Ke(C))return{band:1}}if(dc(g.type)){if(C){if(Ke(C)){let db;return(null==(db=p[g.type])?void 0:db.discreteBandSize)||{band:1}}let wa;return null==(wa=p[g.type])?void 0:wa.continuousBandSize}let Y;return null==(Y=p[g.type])?void 0:Y.discreteBandSize}}function J(a,b,e,f){return xb(a.bin)||a.timeUnit&&Hc(a)&&"temporal"===a.type?void 0!==l({fieldDef:a,fieldDef2:b,markDef:e,config:f}):!1}function la(a){return a&&"condition"in a}function Ga(a){a=
null==a?void 0:a.condition;return!!a&&!h.isArray(a)&&Ka(a)}function Pa(a){a=null==a?void 0:a.condition;return!!a&&!h.isArray(a)&&tc(a)}function Ka(a){return a&&(!!a.field||"count"===a.aggregate)}function rb(a){return null==a?void 0:a.type}function nb(a){return a&&"datum"in a}function pc(a){return Hc(a)&&!qd(a)||uc(a)}function rc(a){return Hc(a)&&"quantitative"===a.type&&!a.bin||uc(a)}function uc(a){return nb(a)&&h.isNumber(a.datum)}function tc(a){return Ka(a)||nb(a)}function Hc(a){return a&&("field"in
a||"count"===a.aggregate)&&"type"in a}function Uc(a){return a&&"value"in a&&"value"in a}function Fd(a){return a&&("scale"in a||"sort"in a)}function od(a){return a&&("axis"in a||"stack"in a||"impute"in a)}function vd(a){return a&&("format"in a||"formatType"in a)}function Gd(a){return Zb(a,["legend","axis","header","scale"])}function kc(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=a.field;const f=b.prefix;let g=b.suffix,p="";if("count"===a.aggregate)e=da("count");else{let C;
if(!b.nofn)if("op"in a)C=a.op;else{const {bin:Q,aggregate:Y,timeUnit:wa}=a;if(xb(Q)){C=eb(Q);let db,pb;g=(null!=(db=b.binSuffix)?db:"")+(null!=(pb=b.suffix)?pb:"")}else if(Y)Ba(Y)?(p=`["${e}"]`,e=`argmax_${Y.argmax}`):ja(Y)?(p=`["${e}"]`,e=`argmin_${Y.argmin}`):C=String(Y);else if(wa&&!Qb(wa)){C=td(wa);let db;g=(!["range","mid"].includes(b.binSuffix)&&b.binSuffix||"")+(null!=(db=b.suffix)?db:"")}}C&&(e=e?`${C}_${e}`:C)}g&&(e=`${e}_${g}`);f&&(e=`${f}_${e}`);return b.forAs?Pb(e):b.expr?Ja(e,b.expr)+
p:cb(e)+p}function qd(a){switch(a.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return Ka(a)&&!!a.bin;case "temporal":return!1}throw Error(`Invalid field type "${a.type}".`);}function qe(a,b){const {field:e,bin:f,timeUnit:g,aggregate:p}=a;if("count"===p)return b.countTitle;if(xb(f))return`${e} (binned)`;if(g&&!Qb(g)){let C;if(a=null==(C=Wc(g))?void 0:C.unit)return`${e} (${Yb(a).join("-")})`}else if(p)return Ba(p)?`${e} for max ${p.argmax}`:ja(p)?`${e} for min ${p.argmin}`:
`${Ra(p)} of ${e}`;return e}function de(a,b,e){let {allowDisabling:f,includeDefault:g=!0}=e,p;e=null==(p=Wd(a))?void 0:p.title;if(!Ka(a))return null!=e?e:a.title;b=g?Bf(a,b):void 0;if(f)return V(e,a.title,b);let C;return null!=(C=null!=e?e:a.title)?C:b}function Wd(a){if(od(a)&&a.axis)return a.axis;if(a&&"legend"in a&&a.legend)return a.legend;if(a&&"header"in a&&a.header)return a.header}function Ad(a){if(vd(a)){const {format:g,formatType:p}=a;return{format:g,formatType:p}}let b;a=null!=(b=Wd(a))?b:
{};const {format:e,formatType:f}=a;return{format:e,formatType:f}}function xd(a,b){switch(b){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in a&&h.isArray(a.sort))return"ordinal";const {aggregate:e,bin:f,timeUnit:g}=a;if(g)return"temporal";if(f||e&&!Ba(e)&&!ja(e))return"quantitative";let p;if(Fd(a)&&(null==(p=a.scale)?0:p.type))switch(Bg[a.scale.type]){case "numeric":case "discretizing":return"quantitative";
case "time":return"temporal"}return"nominal"}function le(a){if(Ka(a))return a;if(Ga(a))return a.condition}function ve(a){if(tc(a))return a;if(Pa(a))return a.condition}function be(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return h.isString(a)||h.isNumber(a)||h.isBoolean(a)?(f=h.isString(a)?"string":h.isNumber(a)?"number":"boolean",K(`Channel ${b} is a ${f}. Converted to {value: ${m(a)}}.`),{value:a}):tc(a)?Ce(a,b,e,f):Pa(a)?Object.assign({},a,{condition:Ce(a.condition,
b,e,f)}):a}function Ce(a,b,e,f){if(vd(a)){var g=Object.assign({},a),p=a.formatType;g=(delete g.format,delete g.formatType,g);if(se(p)&&!e.customFormatTypes)return K(Ic(b)),Ce(g,b,e,f)}else if((p=od(a)?"axis":a&&"legend"in a?"legend":a&&"header"in a?"header":null)&&a[p]){var C=a[p];g=Object.assign({},C);C=C.formatType;g=(delete g.format,delete g.formatType,g);if(se(C)&&!e.customFormatTypes)return K(Ic(b)),Ce(Object.assign({},a,{[p]:g}),b,e,f)}if(Ka(a))return Vc(a,b,f);b=a.type;b||({datum:b}=a,b=h.isNumber(b)?
"quantitative":h.isString(b)?"nominal":t(b)?"temporal":void 0,a=Object.assign({},a,{type:b}));return a}function Vc(a,b){var {compositeMark:e=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:f,timeUnit:g,bin:p,field:C}=a,Q=Object.assign({},a);e||!f||Na(f)||Ba(f)||ja(f)||(K(`Invalid aggregation operator "${f}".`),delete Q.aggregate);g&&(Q.timeUnit=Wc(g));C&&(Q.field=`${C}`);xb(p)&&(Q.bin=je(p,b));kb(p)&&!H(b)&&K(`Channel ${b} should not be used with "binned" bin.`);if(Hc(Q)){({type:e}=
Q);var Y=Qe(e);e!==Y&&(Q.type=Y);"quantitative"!==e&&Qa(f)&&(K(`Invalid field type "${e}" for aggregate: "${f}", using "quantitative" instead.`),Q.type="quantitative")}else u(b)||(e=xd(Q,b),Q.type=e);if(Hc(Q)){const {compatible:db,warning:pb}=ef(Q,b)||{};!1===db&&K(pb)}if("sort"in Q&&h.isString(Q.sort)){({sort:e}=Q);if(e in wj)return Object.assign({},Q,{sort:{encoding:e}});Y=e.substr(1);if("-"===e.charAt(0)&&Y in wj)return Object.assign({},Q,{sort:{encoding:Y,order:"descending"}})}if(Q&&"header"in
Q&&({header:e}=Q,e)){var wa=e;Y=Object.assign({},wa);wa=wa.orient;Y=(delete Y.orient,Y);if(wa)return Object.assign({},Q,{header:Object.assign({},Y,{labelOrient:e.labelOrient||wa,titleOrient:e.titleOrient||wa})})}return Q}function je(a,b){return h.isBoolean(a)?{maxbins:X(b)}:"binned"===a?{binned:!0}:a.maxbins||a.step?a:Object.assign({},a,{maxbins:X(b)})}function ef(a,b){var e=a.type;if("geojson"===e&&"shape"!==b)return{compatible:!1,warning:`Channel ${b} should not be used with a geojson data.`};switch(b){case "row":case "column":case "facet":return qd(a)?
Ii:{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Ii;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==e?{compatible:!1,warning:`Channel ${b} should be used with a quantitative field only, not ${a.type} field.`}:
Ii;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==e||a.sort?Ii:{compatible:!1,warning:`Channel ${b} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(e=!qd(a)){let f;e=!(Fd(a)&&ai.has(null==(f=a.scale)?void 0:f.type))}return e?{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:
Ii;case "order":return"nominal"!==a.type||"sort"in a?Ii:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function jf(a){var {formatType:b}=Ad(a),e;if(!(e="time"===b)){if(b=!b)b=a&&("temporal"===a.type||Ka(a)&&!!a.timeUnit);e=b}return e}function Dg(a,b){let {timeUnit:e,type:f,wrapTime:g,undefinedIfExprNotRequired:p}=b;var C=(b=e&&(null==(C=Wc(e))?void 0:C.unit))||"temporal"===f;let Q;Ha(a)?Q=a.expr:Jb(a)?Q=a.signal:t(a)?(C=!0,Q=oa(a)):(h.isString(a)||
h.isNumber(a))&&C&&(Q=`datetime(${m(a)})`,yl[b]&&(h.isNumber(a)&&1E4>a||h.isString(a)&&isNaN(Date.parse(a)))&&(Q=oa({[b]:a})));return Q?g&&C?`time(${Q})`:Q:p?void 0:m(a)}function tf(a,b){const {type:e}=a;return b.map(f=>{var g=Ka(a)&&!Qb(a.timeUnit)?a.timeUnit:void 0;g=Dg(f,{timeUnit:g,type:e,undefinedIfExprNotRequired:!0});return void 0!==g?{signal:g}:f})}function Mf(a,b){return xb(a.bin)?!!Mh[b]&&["ordinal","nominal"].includes(a.type):(console.warn("Only call this method for binned field defs."),
!1)}function ag(a){return null==a?void 0:a.condition}function ff(a){return"mark"in a}function Le(a,b){return(a=a&&a[b])?h.isArray(a)?Rb(a,e=>!!e.field):Ka(a)||Ga(a):!1}function bg(a,b){return(a=a&&a[b])?h.isArray(a)?Rb(a,e=>!!e.field):Ka(a)||nb(a)||Pa(a):!1}function Tg(a,b){if(H(b)){const e=a[b];if((Ka(e)||nb(e))&&(Pe(e.type)||Ka(e)&&e.timeUnit))return b=D(b),bg(a,b)}return!1}function Af(a){return Rb(Cl,b=>Le(a,b)?(b=a[b],h.isArray(b)?Rb(b,e=>!!e.aggregate):(b=le(b))&&!!b.aggregate):!1)}function cg(a,
b){const e=[],f=[],g=[],p=[],C={};Vg(a,(Q,Y)=>{if(Ka(Q)){var wa=Object.assign({},Q),db=Q.field;const bc=Q.aggregate,Fc=Q.bin,fc=Q.timeUnit;wa=(delete wa.field,delete wa.aggregate,delete wa.bin,delete wa.timeUnit,wa);if(bc||fc||Fc){var pb;const Ec=null==(pb=Wd(Q))?void 0:pb.title;pb=kc(Q,{forAs:!0});wa=Object.assign({},Ec?[]:{title:de(Q,b,{allowDisabling:!0})},wa,{field:pb});if(bc){let Qc;Ba(bc)?(Qc="argmax",pb=kc({op:"argmax",field:bc.argmax},{forAs:!0}),wa.field=`${pb}.${db}`):ja(bc)?(Qc="argmin",
pb=kc({op:"argmin",field:bc.argmin},{forAs:!0}),wa.field=`${pb}.${db}`):"boxplot"!==bc&&"errorbar"!==bc&&"errorband"!==bc&&(Qc=bc);Qc&&(Q={op:Qc,as:pb},db&&(Q.field=db),p.push(Q))}else e.push(pb),Hc(Q)&&xb(Fc)?(f.push({bin:Fc,field:db,as:pb}),e.push(kc(Q,{binSuffix:"end"})),Mf(Q,Y)&&e.push(kc(Q,{binSuffix:"range"})),H(Y)&&(C[`${Y}2`]={field:`${pb}_end`}),wa.bin="binned",u(Y)||(wa.type="quantitative")):fc&&!Qb(fc)&&(g.push({timeUnit:fc,field:db,as:pb}),(db=Hc(Q)&&"temporal"!==Q.type&&"time")&&("text"===
Y||"tooltip"===Y?wa.formatType=db:Fi[Y]?wa.legend=Object.assign({},{formatType:db},wa.legend):H(Y)&&(wa.axis=Object.assign({},{formatType:db},wa.axis))));C[Y]=wa}else e.push(db),C[Y]=a[Y]}else C[Y]=a[Y]});return{bins:f,timeUnits:g,aggregate:p,groupby:e,encoding:C}}function Gf(a,b,e){e=Da(b)[e];return e&&("binned"!==e||(e=a["x2"===b?"x":"y"],Ka(e)&&Ka(a[b])&&kb(e.bin)))?!0:!1}function Ug(a,b,e,f){const g={};for(var p of bd(a))Ej[p]||K(`${p}-encoding is dropped as ${p} is not a valid encoding channel.`);
for(let Q of Kj)if(a[Q]){p=a[Q];if(Q in Wi){a:{switch(Q){case "xOffset":var C="x";break a;case "yOffset":C="y";break a}C=void 0}const Y=g[C];if(Ka(Y)&&Ze(Y.type)&&Ka(p)&&!Y.timeUnit){K(`${C}Offset dropped because ${C} is continuous`);continue}}"angle"!==Q||"arc"!==b||a.theta||(K("Arc marks uses theta channel rather than angle, replacing angle with theta."),Q="theta");if(Gf(a,Q,b)){if("size"===Q&&"line"===b){let Y;if(null==(Y=le(a[Q]))?0:Y.aggregate){K("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");
continue}}if("color"===Q&&(e?"fill"in a:"stroke"in a))K(kd("encoding",{fill:"fill"in a,stroke:"stroke"in a}));else if("detail"===Q||"order"===Q&&!h.isArray(p)&&!Uc(p)||"tooltip"===Q&&h.isArray(p)){if(p){if("order"===Q&&(C=a[Q])&&C.sort&&!C.field){g[Q]=C;continue}g[Q]=h.array(p).reduce((Y,wa)=>{Ka(wa)?Y.push(Vc(wa,Q)):K($c(wa,Q));return Y},[])}}else{if("tooltip"===Q&&null===p)g[Q]=null;else if(!(Ka(p)||nb(p)||Uc(p)||la(p)||Jb(p))){K($c(p,Q));continue}g[Q]=be(p,Q,f)}}else K(Pc(Q,b))}return g}function eh(a,
b){const e={};for(const f of bd(a)){const g=be(a[f],f,b,{compositeMark:!0});e[f]=g}return e}function Sg(a){const b=[];for(const e of bd(a))if(Le(a,e)){const f=h.array(a[e]);for(const g of f)Ka(g)?b.push(g):Ga(g)&&b.push(g.condition)}return b}function Vg(a,b,e){if(a)for(const f of bd(a)){const g=a[f];if(h.isArray(g))for(const p of g)b.call(e,p,f);else b.call(e,g,f)}}function Wg(a,b,e,f){return a?bd(a).reduce((g,p)=>{const C=a[p];return h.isArray(C)?C.reduce((Q,Y)=>b.call(f,Q,Y,p),g):b.call(f,g,C,p)},
e):e}function kh(a,b){return bd(b).reduce((e,f)=>{switch(f){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return e;case "order":if("line"===a||"trail"===a)return e;case "detail":case "key":f=b[f];if(h.isArray(f)||Ka(f))for(var g of h.array(f))g.aggregate||e.push(kc(g,
{}));return e;case "size":if("trail"===a)return e;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(g=le(b[f]))&&!g.aggregate&&e.push(kc(g,{})),e}},[])}function Hf(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in e)return{tooltip:e.tooltip};const g=a.map(C=>{let {fieldPrefix:Q,titlePrefix:Y}=C;C=f?` of ${U(b)}`:"";return{field:Q+b.field,type:b.type,title:Jb(Y)?{signal:`${Y}"${escape(C)}"`}:
Y+C}}),p=Sg(e).map(Gd);return{tooltip:[...g,...$a(p,Ub)]}}function U(a){const {title:b,field:e}=a;return V(b,e)}function La(a,b,e,f,g){const {scale:p,axis:C}=e;return Q=>{let {partName:Y,mark:wa,positionPrefix:db,endPositionPrefix:pb,extraEncoding:bc={}}=Q;Q=U(e);return lb(a,Y,g,{mark:wa,encoding:Object.assign({},{[b]:Object.assign({},{field:`${db}_${e.field}`,type:e.type},void 0!==Q?{title:Q}:{},void 0!==p?{scale:p}:{},void 0!==C?{axis:C}:{})},h.isString(pb)?{[`${b}2`]:{field:`${pb}_${e.field}`}}:
{},f,bc)})}}function lb(a,b,e,f){const {clip:g,color:p,opacity:C}=a,Q=a.type;return a[b]||void 0===a[b]&&e[b]?[Object.assign({},f,{mark:Object.assign({},e[b],g?{clip:g}:{},p?{color:p}:{},C?{opacity:C}:{},dd(f.mark)?f.mark:{type:f.mark},{style:`${Q}-${String(b)}`},h.isBoolean(a[b])?{}:a[b])})]:[]}function xc(a,b,e){({encoding:a}=a);b="vertical"===b?"y":"x";const f=a[`${b}2`],g=a[`${b}Error`],p=a[`${b}Error2`];return{continuousAxisChannelDef:Bc(a[b],e),continuousAxisChannelDef2:Bc(f,e),continuousAxisChannelDefError:Bc(g,
e),continuousAxisChannelDefError2:Bc(p,e),continuousAxis:b}}function Bc(a,b){if(null==a?0:a.aggregate){var e=Object.assign({},a);a=a.aggregate;e=(delete e.aggregate,e);a!==b&&K(`Continuous axis should not have customized aggregation function ${a}; ${b} already agregates the axis.`);return e}return a}function wd(a,b){const {mark:e,encoding:f}=a,{x:g,y:p}=f;if(dd(e)&&e.orient)return e.orient;if(pc(g)){if(pc(p)){a=Ka(g)&&g.aggregate;const C=Ka(p)&&p.aggregate;if(!a&&C===b)return"vertical";if(C||a!==
b){if(a===b&&C===b)throw Error("Both x and y cannot have aggregate");return jf(p)&&!jf(g)?"horizontal":"vertical"}}return"horizontal"}if(pc(p))return"vertical";throw Error(`Need a valid continuous axis for ${b}s`);}function Xd(a){return h.isNumber(a)?"tukey":a}function Id(a,b){var {config:e}=b,f=a=Object.assign({},a,{encoding:eh(a.encoding,e)});b=Object.assign({},f);var g=f.mark;f=f.params;b=(delete b.mark,delete b.encoding,delete b.params,delete b.projection,b);g=dd(g)?g:{type:g};f&&K(Kb("boxplot"));
var p;f=null!=(p=g.extent)?p:e.boxplot.extent;var C=Xb("size",g,e),Q=g.invalid;p=Xd(f);var Y=a;a=wd(Y,"boxplot");const {continuousAxisChannelDef:wa,continuousAxis:db}=xc(Y,a,"boxplot");var pb=wa.field,bc=Xd(f),Fc=[...Tf(pb),{op:"median",field:pb,as:`mid_box_${pb}`},{op:"min",field:pb,as:("min-max"===bc?"lower_whisker_":"min_")+pb},{op:"max",field:pb,as:("min-max"===bc?"upper_whisker_":"max_")+pb}];pb="min-max"===bc||"tukey"===bc?[]:[{calculate:`datum["upper_box_${pb}"] - datum["lower_box_${pb}"]`,
as:`iqr_${pb}`},{calculate:`min(datum["upper_box_${pb}"] + datum["iqr_${pb}"] * ${f}, datum["max_${pb}"])`,as:`upper_whisker_${pb}`},{calculate:`max(datum["lower_box_${pb}"] - datum["iqr_${pb}"] * ${f}, datum["min_${pb}"])`,as:`lower_whisker_${pb}`}];Y=Object.assign({},Y.encoding);var fc;bc=(delete Y[db],Y);Y=Object.assign({},bc);bc=bc.tooltip;Y=(delete Y.tooltip,Y);if(bc){var Ec;if(h.isArray(bc)){for(var Qc of bc)Qc.aggregate?(fc||(fc=[]),fc.push(Qc)):(Ec||(Ec=[]),Ec.push(Qc));fc&&(Y.tooltip=fc)}else bc.aggregate?
Y.tooltip=bc:Ec=bc;h.isArray(Ec)&&1===Ec.length&&(Ec=Ec[0]);fc={customTooltipWithoutAggregatedField:Ec,filteredEncoding:Y}}else fc={filteredEncoding:Y};const {customTooltipWithoutAggregatedField:Tc,filteredEncoding:Ud}=fc,{bins:Md,timeUnits:re,aggregate:De,groupby:Jf,encoding:Qf}=cg(Ud,e);fc=[...Md,...re,{aggregate:[...De,...Fc],groupby:Jf},...pb];const {bins:Ig,timeUnits:Se,transform:Xf,continuousAxisChannelDef:Te,continuousAxis:Ah,groupby:il,aggregate:Fm,encodingWithoutContinuousAxis:Dk,ticksOrient:xm,
boxOrient:Gm,customTooltipWithoutAggregatedField:ym}={bins:Md,timeUnits:re,transform:fc,groupby:Jf,aggregate:De,continuousAxisChannelDef:wa,continuousAxis:db,encodingWithoutContinuousAxis:Qf,ticksOrient:"vertical"===a?"horizontal":"vertical",boxOrient:a,customTooltipWithoutAggregatedField:Tc};Ec=Object.assign({},Dk);fc=Dk.color;Fc=Dk.size;Ec=(delete Ec.color,delete Ec.size,Ec);Qc=La(g,Ah,Te,Ec,e.boxplot);a=La(g,Ah,Te,Dk,e.boxplot);Fc=La(g,Ah,Te,Object.assign({},Ec,Fc?{size:Fc}:{}),e.boxplot);pb=Hf([{fieldPrefix:"min-max"===
p?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===p?"lower_whisker_":"min_",titlePrefix:"Min"}],Te,Dk);Y={type:"tick",color:"black",opacity:1,orient:xm,invalid:Q,aria:!1};bc="min-max"===p?pb:Hf([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Te,Dk);Qc=[...Qc({partName:"rule",
mark:{type:"rule",invalid:Q,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:bc}),...Qc({partName:"rule",mark:{type:"rule",invalid:Q,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:bc}),...Qc({partName:"ticks",mark:Y,positionPrefix:"lower_whisker",extraEncoding:bc}),...Qc({partName:"ticks",mark:Y,positionPrefix:"upper_whisker",extraEncoding:bc})];C=[...("tukey"!==p?Qc:[]),...a({partName:"box",mark:Object.assign({},{type:"bar"},
C?{size:C}:{},{orient:Gm,invalid:Q,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:pb}),...Fc({partName:"median",mark:Object.assign({},{type:"tick",invalid:Q},h.isObject(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:{},C?{size:C}:{},{orient:xm,aria:!1}),positionPrefix:"mid_box",extraEncoding:pb})];if("min-max"===p){var Gj;return Object.assign({},b,{transform:(null!=(Gj=b.transform)?Gj:[]).concat(Xf),layer:C})}Gj=`datum["lower_box_${Te.field}"]`;
p=`datum["upper_box_${Te.field}"]`;Q=`(${p} - ${Gj})`;Gj=`${Gj} - ${f} * ${Q}`;Q=`${p} + ${f} * ${Q}`;a=`datum["${Te.field}"]`;f={joinaggregate:Tf(Te.field),groupby:il};p={transform:[{filter:`(${Gj} <= ${a}) && (${a} <= ${Q})`},{aggregate:[{op:"min",field:Te.field,as:`lower_whisker_${Te.field}`},{op:"max",field:Te.field,as:`upper_whisker_${Te.field}`},{op:"min",field:`lower_box_${Te.field}`,as:`lower_box_${Te.field}`},{op:"max",field:`upper_box_${Te.field}`,as:`upper_box_${Te.field}`},...Fm],groupby:il}],
layer:Qc};Ec=Object.assign({},Ec);Ec=(delete Ec.tooltip,Ec);const {scale:zm,axis:Hm}=Te;Qc=U(Te);Fc=Zb(Hm,["title"]);e=lb(g,"outliers",e.boxplot,{transform:[{filter:`(${a} < ${Gj}) || (${a} > ${Q})`}],mark:"point",encoding:Object.assign({},{[Ah]:Object.assign({},{field:Te.field,type:Te.type},void 0!==Qc?{title:Qc}:{},void 0!==zm?{scale:zm}:{},jb(Fc)?{}:{axis:Fc})},Ec,fc?{color:fc}:{},ym?{tooltip:ym}:{})})[0];g=[...Ig,...Se,f];e?e={transform:g,layer:[e,p]}:(e=p,e.transform.unshift(...g));return Object.assign({},
b,{layer:[e,{transform:Xf,layer:C}]})}function Tf(a){return[{op:"q1",field:a,as:`lower_box_${a}`},{op:"q3",field:a,as:`upper_box_${a}`}]}function kf(a,b){({config:b}=b);a=Object.assign({},a,{encoding:eh(a.encoding,b)});const {transform:e,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:p,ticksOrient:C,markDef:Q,outerSpec:Y,tooltipEncoding:wa}=Uf(a,"errorbar",b);delete p.size;a=La(Q,g,f,p,b.errorbar);b=Q.thickness;var db=Q.size;db=Object.assign({},{type:"tick",orient:C,aria:!1},
void 0!==b?{thickness:b}:{},void 0!==db?{size:db}:{});a=[...a({partName:"ticks",mark:db,positionPrefix:"lower",extraEncoding:wa}),...a({partName:"ticks",mark:db,positionPrefix:"upper",extraEncoding:wa}),...a({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==b?{size:b}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:wa})];return Object.assign({},Y,{transform:e},1<a.length?{layer:a}:Object.assign({},a[0]))}function wg(a,b){var {encoding:e}=
a;if(!(!tc(e.x)&&!tc(e.y)||tc(e.x2)||tc(e.y2)||tc(e.xError)||tc(e.xError2)||tc(e.yError)||tc(e.yError2)))return{orient:wd(a,b),inputType:"raw"};var f=tc(e.x2)||tc(e.y2);var g=tc(e.xError)||tc(e.xError2)||tc(e.yError)||tc(e.yError2);a=e.x;const p=e.y;if(f){if(g)throw Error(`${b} cannot be both type aggregated-upper-lower and aggregated-error`);f=e.x2;e=e.y2;if(tc(f)&&tc(e))throw Error(`${b} cannot have both x2 and y2`);if(tc(f)){if(pc(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};
throw Error(`Both x and x2 have to be quantitative in ${b}`);}if(tc(e)){if(pc(p))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${b}`);}}else{f=e.xError;g=e.yError;const C=e.yError2;if(tc(e.xError2)&&!tc(f))throw Error(`${b} cannot have xError2 without xError`);if(tc(C)&&!tc(g))throw Error(`${b} cannot have yError2 without yError`);if(tc(f)&&tc(g))throw Error(`${b} cannot have both xError and yError with both are quantiative`);if(tc(f)){if(pc(a))return{orient:"horizontal",
inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(tc(g)){if(pc(p))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Uf(a,b,e){var f=Object.assign({},a),g=a.mark,p=a.encoding,C=a.params;f=(delete f.mark,delete f.encoding,delete f.params,delete f.projection,f);g=dd(g)?g:{type:g};C&&K(Kb(b));const {orient:Q,inputType:Y}=
wg(a,b),{continuousAxisChannelDef:wa,continuousAxisChannelDef2:db,continuousAxisChannelDefError:pb,continuousAxisChannelDefError2:bc,continuousAxis:Fc}=xc(a,Q,b);a=[];C=[];var fc=wa.field,Ec=!1;if("raw"===Y){var Qc=g.center?g.center:g.extent?"iqr"===g.extent?"median":"mean":e.errorbar.center;var Tc=g.extent?g.extent:"mean"===Qc?"stderr":"iqr";"median"===Qc!==("iqr"===Tc)&&K(`${Qc} is not usually used with ${Tc} for ${b}.`);"stderr"===Tc||"stdev"===Tc?(a=[{op:Tc,field:fc,as:`extent_${fc}`},{op:Qc,
field:fc,as:`center_${fc}`}],C=[{calculate:`datum["center_${fc}"] + datum["extent_${fc}"]`,as:`upper_${fc}`},{calculate:`datum["center_${fc}"] - datum["extent_${fc}"]`,as:`lower_${fc}`}],fc={fieldPrefix:"center_",titlePrefix:Ra(Qc)},Ec=Tc,Ec={fieldPrefix:"upper_",titlePrefix:`${Ra(Qc)} ${"+"} ${Ec}`},b=Tc,b=`${Ra(Qc)} ${"-"} ${b}`,Qc=[fc,Ec,{fieldPrefix:"lower_",titlePrefix:b}],Ec=!0):("ci"===Tc?(b="mean",Qc="ci0",Tc="ci1"):(b="median",Qc="q1",Tc="q3"),a=[{op:Qc,field:fc,as:`lower_${fc}`},{op:Tc,
field:fc,as:`upper_${fc}`},{op:b,field:fc,as:`center_${fc}`}],Qc=[{fieldPrefix:"upper_",titlePrefix:de({field:fc,aggregate:Tc,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:de({field:fc,aggregate:Qc,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:de({field:fc,aggregate:b,type:"quantitative"},e,{allowDisabling:!1})}])}else{if(g.center||g.extent){b=g.center;var Ud=g.extent;K(`${Ud?"extent ":""}${Ud&&b?"and ":""}${b?"center ":""}${Ud&&b?
"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===Y?(Qc=[],C=[{calculate:`datum["${db.field}"]`,as:`upper_${fc}`},{calculate:`datum["${fc}"]`,as:`lower_${fc}`}]):"aggregated-error"===Y&&(Qc=[{fieldPrefix:"",titlePrefix:fc}],C=[{calculate:`datum["${fc}"] + datum["${pb.field}"]`,as:`upper_${fc}`}],bc?C.push({calculate:`datum["${fc}"] + datum["${bc.field}"]`,as:`lower_${fc}`}):C.push({calculate:`datum["${fc}"] - datum["${pb.field}"]`,as:`lower_${fc}`}));for(Tc of C)Qc.push({fieldPrefix:Tc.as.substring(0,
6),titlePrefix:tb(tb(Tc.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:Md,postAggregateCalculates:re,tooltipSummary:De,tooltipTitleWithFieldName:Jf}={postAggregateCalculates:C,errorBarSpecificAggregate:a,tooltipSummary:Qc,tooltipTitleWithFieldName:Ec};p=Object.assign({},p);a="x"===Fc?"x2":"y2";C="x"===Fc?"xError":"yError";fc="x"===Fc?"xError2":"yError2";p=(delete p[Fc],delete p[a],delete p[C],delete p[fc],p);const {bins:Qf,timeUnits:Ig,aggregate:Se,groupby:Xf,encoding:Te}=cg(p,
e);e=[...Se,...Md];p="raw"!==Y?[]:Xf;a=Hf(De,wa,Te,Jf);let Ah;return{transform:[...(null!=(Ah=f.transform)?Ah:[]),...Qf,...Ig,...(0===e.length?[]:[{aggregate:e,groupby:p}]),...re],groupby:p,continuousAxisChannelDef:wa,continuousAxis:Fc,encodingWithoutContinuousAxis:Te,ticksOrient:"vertical"===Q?"horizontal":"vertical",markDef:g,outerSpec:f,tooltipEncoding:a}}function Xg(a,b){({config:b}=b);a=Object.assign({},a,{encoding:eh(a.encoding,b)});const {transform:e,continuousAxisChannelDef:f,continuousAxis:g,
encodingWithoutContinuousAxis:p,markDef:C,outerSpec:Q,tooltipEncoding:Y}=Uf(a,"errorband",b);b=La(C,g,f,p,b.errorband);a=void 0!==a.encoding.x&&void 0!==a.encoding.y;let wa={type:a?"area":"rect"},db={type:a?"line":"rule"};const pb=Object.assign({},C.interpolate?{interpolate:C.interpolate}:{},C.tension&&C.interpolate?{tension:C.tension}:{});a?(wa=Object.assign({},wa,pb,{ariaRoleDescription:"errorband"}),db=Object.assign({},db,pb,{aria:!1})):C.interpolate?K(id("interpolate")):C.tension&&K(id("tension"));
return Object.assign({},Q,{transform:e,layer:[...b({partName:"band",mark:wa,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Y}),...b({partName:"borders",mark:db,positionPrefix:"lower",extraEncoding:Y}),...b({partName:"borders",mark:db,positionPrefix:"upper",extraEncoding:Y})]})}function ig(a,b,e){b=new $i(a,b);Qj[a]={normalizer:b,parts:e}}function Kg(a){return"legend"===a||!(null==a||!a.legend)}function Dh(a){return Kg(a)&&h.isObject(a)}function Ld(a){return!(null==a||!a.select)}function Sd(a){const b=
[];for(const g of a||[])if(!Ld(g)){var e=g,f=Object.assign({},e);a=e.expr;e=e.bind;f=(delete f.expr,delete f.bind,f);e&&a?(a=Object.assign({},f,{bind:e,init:a}),b.push(a)):(a=Object.assign({},f,a?{update:a}:{},e?{bind:e}:{}),b.push(a))}return b}function nf(a){let {step:b,offsetIsDiscrete:e}=a;if(e){let f;return null!=(f=b.for)?f:"offset"}return"position"}function we(a){return h.isObject(a)&&void 0!==a.step}function gf(a){return a.view||a.width||a.height}function Re(a,b,e){const f={},{spacing:g,columns:p}=
e[b];void 0!==g&&(f.spacing=g);void 0!==p&&("facet"in a&&!ae(a.facet)||"concat"in a)&&(f.columns=p);"vconcat"in a&&(f.columns=1);for(const C of Wk)if(void 0!==a[C])if("spacing"===C){b=a[C];let Q,Y;f[C]=h.isNumber(b)?b:{row:null!=(Q=b.row)?Q:g,column:null!=(Y=b.column)?Y:g}}else f[C]=a[C];return f}function of(a,b){let e;return null!=(e=a[b])?e:a["width"===b?"continuousWidth":"continuousHeight"]}function Vf(a,b){a=Nf(a,b);return we(a)?a.step:20}function Nf(a,b){let e;const f=null!=(e=a[b])?e:a["width"===
b?"discreteWidth":"discreteHeight"];return V(f,{step:a.step})}function Xe(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:h.isObject(a)?Object.assign({},xl,a):xl}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},
cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Yg(a){var b=bd(a||{});const e={};for(const f of b)b=a[f],e[f]=ag(b)?Oc(b):ra(b);return e}function xg(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=Object.assign({},a),e=a.color,f=a.font,g=a.fontSize;a=a.selection;b=(delete b.color,delete b.font,delete b.fontSize,delete b.selection,b);var p=h.mergeConfig,C=te(Zl);f=f?{text:{font:f},style:{"guide-label":{font:f},"guide-title":{font:f},"group-title":{font:f},"group-subtitle":{font:f}}}:{};e=e?Xe(e):{};g=g?{signals:[{name:"fontSize",value:h.isObject(g)?Object.assign({},wl,g):wl}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},
"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};g=p.call(h,{},C,f,e,g,b||{});a&&h.writeConfig(g,"selection",a,!0);a=Zb(g,sk);for(var Q of["background","lineBreak","padding"])g[Q]&&(a[Q]=ra(g[Q]));for(var Y of uj)g[Y]&&(a[Y]=Nb(g[Y]));for(var wa of vg)g[wa]&&(a[wa]=Yg(g[wa]));for(const db of vl)g[db]&&(a[db]=Nb(g[db]));g.legend&&(a.legend=Nb(g.legend));g.scale&&(a.scale=
Nb(g.scale));if(g.style){Q=g.style;Y=bd(Q);wa={};for(const db of Y)wa[db]=Yg(Q[db]);a.style=wa}g.title&&(a.title=Nb(g.title));g.view&&(a.view=Nb(g.view));return a}function lh(a){a=te(a);for(var b of $l)delete a[b];if(a.axis)for(var e in a.axis)ag(a.axis[e])&&delete a.axis[e];if(a.legend)for(var f of Xl)delete a.legend[f];if(a.mark){for(var g of ri)delete a.mark[g];a.mark.tooltip&&h.isObject(a.mark.tooltip)&&delete a.mark.tooltip}a.params&&(a.signals=(a.signals||[]).concat(Sd(a.params)),delete a.params);
for(var p of Zg){for(const pb of ri)delete a[p][pb];if(b=Nd[p])for(const pb of b)delete a[p][pb];let db=g=void 0;b=a;e=p;f=void 0;var C=b[e];"view"===e&&(f="cell");C=Object.assign({},C,b.style[null!=(db=f)?db:e]);jb(C)||(b.style[null!=(g=f)?g:e]=C);delete b[e]}for(const db of bd(Qj))delete a[db];p=a;const {titleMarkConfig:Q,subtitleMarkConfig:Y,subtitle:wa}=nc(p.title);jb(Q)||(p.style["group-title"]=Object.assign({},p.style["group-title"],Q));jb(Y)||(p.style["group-subtitle"]=Object.assign({},p.style["group-subtitle"],
Y));jb(wa)?delete p.title:p.title=wa;for(const db in a)h.isObject(a[db])&&jb(a[db])&&delete a[db];return jb(a)?void 0:a}function Of(a){return Ka(a)&&"quantitative"===rb(a)&&!a.bin}function Rh(a,b,e){let {orient:f,type:g}=e;e="x"===b?"y":"radius";const p="x"===b&&["bar","area"].includes(g);var C=a[b];a=a[e];if(Ka(C)&&Ka(a))if(Of(C)&&Of(a)){if(C.stack)return b;if(a.stack)return e;C=Ka(C)&&!!C.aggregate;a=Ka(a)&&!!a.aggregate;if(C!==a)return C?b:e;if(p){if("vertical"===f)return e;if("horizontal"===f)return b}}else{if(Of(C))return b;
if(Of(a))return e}else{if(Of(C))return p&&"vertical"===f?void 0:b;if(Of(a))return p&&"horizontal"===f?void 0:e}}function og(a){switch(a){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function vh(a,b){var e=dd(a)?a:{type:a};a=e.type;if(!Th.has(a))return null;e=Rh(b,"x",e)||Rh(b,"theta",e);if(!e)return null;const f=b[e];var g=Ka(f)?kc(f,{}):void 0,p=og(e);const C=[],Q=new Set;if(b[p]){var Y=b[p];(Y=Ka(Y)?kc(Y,{}):void 0)&&Y!==g&&(C.push(p),Q.add(Y))}p=
"x"===p?"xOffset":"yOffset";Y=b[p];(Y=Ka(Y)?kc(Y,{}):void 0)&&Y!==g&&(C.push(p),Q.add(Y));g=Nk.reduce((bc,Fc)=>{if("tooltip"!==Fc&&Le(b,Fc)){var fc=b[Fc];for(const Ec of h.array(fc)){fc=le(Ec);if(fc.aggregate)continue;const Qc=kc(fc,{});Qc&&Q.has(Qc)||bc.push({channel:Fc,fieldDef:fc})}}return bc},[]);let wa;void 0!==f.stack?wa=h.isBoolean(f.stack)?f.stack?"zero":null:f.stack:am.has(a)&&(wa="zero");if(!(wa&&wa in Ng)||Af(b)&&0===g.length)return null;let db,pb;if((null==f?0:null==(db=f.scale)?0:db.type)&&
(null==f?void 0:null==(pb=f.scale)?void 0:pb.type)!==gg.LINEAR)return(null==f?0:f.stack)&&K(`Cannot stack non-linear scale (${f.scale.type}).`),null;if(tc(b[z(e)]))return void 0!==f.stack&&K(`Cannot stack "${e}" if there is already "${e}2".`),null;Ka(f)&&f.aggregate&&!Xk.has(f.aggregate)&&K(`Stacking is applied even though the aggregate function is non-summative ("${f.aggregate}").`);return{groupbyChannels:C,groupbyFields:Q,fieldChannel:e,impute:null===f.impute?!1:Va(a),stackBy:g,offset:wa}}function jg(a,
b,e){a=Nb(a);var f=Xb("orient",a,e);a.orient=aj(a.type,b,f);void 0!==f&&f!==a.orient&&K(`Specified orient "${a.orient}" overridden with "${f}".`);if("bar"===a.type&&a.orient&&(f=Xb("cornerRadiusEnd",a,e),void 0!==f)){const p="horizontal"===a.orient&&b.x2||"vertical"===a.orient&&b.y2?["cornerRadius"]:ci[a.orient];for(var g of p)a[g]=f;void 0!==a.cornerRadiusEnd&&delete a.cornerRadiusEnd}void 0===Xb("opacity",a,e)&&(g=Bb([Rg,Ji,tj,Hi],a.type)&&!Af(b)?.7:void 0,a.opacity=g);void 0===Xb("cursor",a,e)&&
(b=b.href||a.href||Xb("href",a,e)?"pointer":a.cursor,a.cursor=b);return a}function Sh(a,b,e){({graticule:e}=e);if(e)return!1;b=gc("filled",a,b);a=a.type;return V(b,a!==Rg&&a!==Qg&&a!==jh)}function aj(a,b,e){switch(a){case Rg:case tj:case Hi:case zl:case Pf:case oi:return}const {x:f,y:g,x2:p,y2:C}=b;switch(a){case Ch:if(Ka(f)&&(kb(f.bin)||Ka(g)&&g.aggregate&&!f.aggregate))break;if(Ka(g)&&(kb(g.bin)||Ka(f)&&f.aggregate&&!g.aggregate))return"horizontal";if(C||p){if(e)return e;if(!p){if((Ka(f)&&"quantitative"===
f.type&&!xb(f.bin)||uc(f))&&Ka(g)&&kb(g.bin))return"horizontal";break}if(!C){if((Ka(g)&&"quantitative"===g.type&&!xb(g.bin)||uc(g))&&Ka(f)&&kb(f.bin))break;return"horizontal"}}case jh:if(!(!p||Ka(f)&&kb(f.bin)||!C||Ka(g)&&kb(g.bin)))return;case bi:if(C){if(Ka(g)&&kb(g.bin))return"horizontal";break}else if(p)if(Ka(f)&&kb(f.bin))break;else return"horizontal";else if(a===jh)if(f&&!g)break;else if(g&&!f)return"horizontal";case Qg:case Ji:b=rc(f);const Q=rc(g);if(e)return e;if(b&&!Q)return"tick"!==a?"horizontal":
"vertical";if(!b&&Q)return"tick"!==a?"vertical":"horizontal";if(!b||!Q)if(a=Hc(f)&&"temporal"===f.type,e=Hc(g)&&"temporal"===g.type,!a||e){if(!a&&e)return"horizontal";return}}return"vertical"}function Fg(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length?arguments[2]:void 0;if("transparent"===a.point)return{opacity:0};if(a.point)return h.isObject(a.point)?a.point:{};if(void 0!==a.point)return null;if(b.point||e.shape)return h.isObject(b.point)?b.point:{}}function ti(a){let b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(a.line)return!0===a.line?{}:a.line;if(void 0!==a.line)return null;if(b.line)return!0===b.line?{}:b.line}function di(a,b){return b?Fh(a,b):a}function bj(a,b,e){const f=b[a];if(f&&!h.isString(f)&&"repeat"in f){if(f.repeat in e)return Object.assign({},b,{[a]:e[f.repeat]});K(`Unknown repeated value "${f.repeat}".`)}else return b}function ui(a,b){a=bj("field",a,b);if(void 0!==a){if(null===a)return null;"sort"in a&&pe(a.sort)&&(b=bj("field",a.sort,
b),a=Object.assign({},a,b?{sort:b}:{}));return a}}function wh(a,b){if(Ka(a))return ui(a,b);b=bj("datum",a,b);b===a||b.type||(b.type="nominal");return b}function Li(a,b){if(tc(a)){if(b=wh(a,b))return b;if(la(a))return{condition:a.condition}}else{if(Pa(a)){if(b=wh(a.condition,b))return Object.assign({},a,{condition:b});a=Object.assign({},a);return delete a.condition,a}return a}}function Fh(a,b){const e={};for(const g in a)if(h.hasOwnProperty(a,g)){var f=a[g];h.isArray(f)?e[g]=f.map(p=>Li(p,b)).filter(p=>
p):(f=Li(f,b),void 0!==f&&(e[g]=f))}return e}function Eg(a){let {parentEncoding:b,encoding:e={},layer:f}=a;a={};if(b){var g=new Set([...bd(b),...bd(e)]);for(const p of g){g=e[p];const C=b[p];if(tc(g))g=Object.assign({},C,g),a[p]=g;else if(Pa(g))a[p]=Object.assign({},g,{condition:Object.assign({},C,g.condition)});else if(g||null===g)a[p]=g;else if(f||Uc(C)||Jb(C)||tc(C)||h.isArray(C))a[p]=C}}else a=e;return!a||jb(a)?void 0:a}function Gh(a){const {parentProjection:b,projection:e}=a;if(b&&e){const {parentProjection:f,
projection:g}={parentProjection:b,projection:e};a=`Layer's shared projection ${m(f)} is overridden by a child projection ${m(g)}.`;K(a)}return null!=e?e:b}function Hh(a){return a.map(b=>"filter"in b?{filter:Za(b.filter,fg)}:b)}function dg(a,b){var e=Object.assign({},a);const f=a.transform;e=(delete e.transform,e);return f?(a=f.map(g=>{if("filter"in g)return{filter:fh(g,b)};if("bin"in g&&h.isObject(g.bin))return Object.assign({},g,{bin:fi(g.bin)});if("lookup"in g){var p=g.from,C=Object.assign({},p);
p=p.selection;C=(delete C.selection,C);return p?Object.assign({},g,{from:Object.assign({},{param:p},C)}):g}return g}),Object.assign({},e,{transform:a})):a}function cj(a,b){a=te(a);Ka(a)&&h.isObject(a.bin)&&(a.bin=fi(a.bin));var e,f;Fd(a)&&(null==(e=a.scale)?0:null==(f=e.domain)?0:f.selection)&&(f=a.scale.domain,e=Object.assign({},f),f=f.selection,e=(delete e.selection,e),a.scale.domain=Object.assign({},e,f?{param:f}:{}));la(a)&&(h.isArray(a.condition)?a.condition=a.condition.map(g=>{var p=Object.assign({},
g);const C=g.param;p=(delete p.selection,delete p.param,delete p.test,p);return C?g:Object.assign({},p,{test:fh(g,b)})}):(f=cj(a.condition,b),e=Object.assign({},f),f=f.param,e=(delete e.selection,delete e.param,delete e.test,e),a.condition=f?a.condition:Object.assign({},e,{test:fh(a.condition,b)})));return a}function fi(a){var b=a.extent;if(null==b?0:b.selection){var e=Object.assign({},b);b=b.selection;e=(delete e.selection,e);return Object.assign({},a,{extent:Object.assign({},e,{param:b})})}return a}
function fh(a,b){const e=f=>Za(f,g=>{var p;const C=null!=(p=b.emptySelections[g])?p:!0;p={param:g,empty:C};let Q;null!=(Q=b.selectionPredicates)[g]||(Q[g]=[]);b.selectionPredicates[g].push(p);return p});return a.selection?e(a.selection):Za(a.test||a.filter,f=>f.selection?e(f.selection):f)}function vi(a,b){void 0===b&&(b=xg(a.config));const e=Aj(a,b),{width:f,height:g}=a;{let {width:p,height:C}={width:f,height:g,autosize:a.autosize};a=ff(e)||"layer"in e;const Q={};a?"container"==p&&"container"==C?
(Q.type="fit",Q.contains="padding"):"container"==p?(Q.type="fit-x",Q.contains="padding"):"container"==C&&(Q.type="fit-y",Q.contains="padding"):("container"==p&&(K(Fa("width")),p=void 0),"container"==C&&(K(Fa("height")),C=void 0));b=Object.assign({},{type:"pad"},Q,b?gh(b.autosize):{},gh(e.autosize));"fit"!==b.type||a||(K('Autosize "fit" only works for single views and layered views.'),b.type="pad");"container"==p&&"fit"!=b.type&&"fit-x"!=b.type&&K(Ua("width"));"container"==C&&"fit"!=b.type&&"fit-y"!=
b.type&&K(Ua("height"));b=sa(b,{type:"pad"})?void 0:b}return Object.assign({},e,b?{autosize:b}:{})}function Aj(a){const b={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return uh.map(rg.map(Og.map(a,b),b),b)}function gh(a){return h.isString(a)?{type:a}:null!=a?a:{}}function nh(a,b){const e={};for(const f of xj)a&&void 0!==a[f]&&(e[f]=ra(a[f]));b&&(e.params=a.params);return e}function Gg(a){return{explicit:!0,value:a}}function Me(a){return{explicit:!1,value:a}}function Ih(a){return(b,
e,f,g)=>{const p=a(b.value,e.value);return 0<p?b:0>p?e:Lg(b,e,f,g)}}function Lg(a,b,e,f){if(a.explicit&&b.explicit){var g=a.value;b=b.value;e=`Conflicting ${f.toString()} property "${e.toString()}" (${m(g)} and ${m(b)}). Using ${m(g)}.`;K(e)}return a}function vf(a,b,e,f){let g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Lg;return void 0===a||void 0===a.value?b:a.explicit&&!b.explicit?a:b.explicit&&!a.explicit?b:sa(a.value,b.value)?a:g(a,b,e,f)}function Mi(a){return"name"in a&&!("url"in
a)&&!("values"in a)&&!pg(a)}function pg(a){return a&&("sequence"in a||"sphere"in a||"graticule"in a)}function Mg(a){a=Object.assign({},a);a=(delete a.signals,delete a.hasLegend,delete a.index,a);a.field=cb(a.field);return a}function oh(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h.identity;if(h.isArray(a)){const f=a.map(g=>oh(g,b,e));return b?`[${f.join(", ")}]`:f}return t(a)?b?e(oa(a)):e(ab(a)):b?e(m(a)):a}function $g(a,
b){a.component.selection&&bd(a.component.selection).length&&(a=h.stringValue(a.getName("cell")),b.unshift({name:"facet",value:{},on:[{events:h.parseSelector("pointermove","scope"),update:`isTuple(facet) ? facet : group(${a}).datum`}]}));return Aa(b)}function Jh(a,b){var e=!1,f;for(const g of kg(null!=(f=a.component.selection)?f:{})){const p=g.name;e=h.stringValue(p+"_store");0===b.filter(C=>C.name===p).length&&(f="point"===g.type?", true, true)":")",b.push({name:g.name,update:`${"vlSelectionResolve"}(${e}, ${h.stringValue("global"===
g.resolve?"union":g.resolve)}${f}`}));e=!0;for(const C of dj)C.defined(g)&&C.topLevelSignals&&(b=C.topLevelSignals(a,g,b))}e&&0===b.filter(g=>"unit"===g.name).length&&b.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]});return Aa(b)}function ah(a,b){b=[...b];const e=$f(a,{escape:!1});let f;for(const g of kg(null!=(f=a.component.selection)?f:{})){a={name:g.name+"_store"};g.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);
if(g.init){const p=g.project.items.map(Mg);a.values=g.project.hasSelectionId?g.init.map(C=>({unit:e,_vgsid_:oh(C,!1)[0]})):g.init.map(C=>({unit:e,fields:p,values:oh(C,!1)}))}b.filter(p=>p.name===g.name+"_store").length||b.push(a)}return b}function E(a,b){let e;for(const f of kg(null!=(e=a.component.selection)?e:{}))for(const g of dj)g.defined(f)&&g.marks&&(b=g.marks(a,f,b));return b}function Z(a,b){for(const e of a.children)Lf(e)&&(b=E(e,b));return b}function Aa(a){return a.map(b=>{b.on&&!b.on.length&&
delete b.on;return b})}function Oa(a){let {timeUnit:b,field:e,reverse:f}=a;const {unit:g,utc:p}=b;a=ic(g);const {part:C,step:Q}=ee(a,b.step);return`${p?"utcOffset":"timeOffset"}('${C}', datum['${e}'], ${f?-Q:Q})`}function Hb(a,b,e){let [f,g]=a;if(void 0!==b&&.5!==b){a=`datum['${f}']`;const p=`datum['${g}']`;return[{type:"formula",expr:Ab([Oa({timeUnit:e,field:f,reverse:!0}),a],b+.5),as:`${f}_${"offsetted_rect_start"}`},{type:"formula",expr:Ab([a,p],b+.5),as:`${f}_${"offsetted_rect_end"}`}]}return[]}
function Ab(a,b){let [e,f]=a;return`${1-b} * ${e} + ${b} * ${f}`}function $b(a,b){return`domain(${h.stringValue(a.scaleName(b))})`}function r(a){let b;return a.parent&&Ti(a.parent)&&(null!=(b=!a.parent.parent)?b:r(a.parent.parent))}function I(a,b,e,f){var g=!a.hasProjection,p=e.channel;const C=e.signals.visual,Q=h.stringValue(g?a.scaleName(p):a.projectionName());var Y=bc=>`scale(${Q}, ${bc})`;const wa=a.getSizeSignalRef("x"===p?"width":"height").signal,db=`${p}(unit)`,pb=b.events.reduce((bc,Fc)=>
[...bc,{events:Fc.between[0],update:`[${db}, ${db}]`},{events:Fc,update:`[${C}[0], clamp(${db}, 0, ${wa})]`}],[]);if(g)return e=e.signals.data,g=Uh.defined(b),a=(a=a.getScaleComponent(p))?a.get("type"):void 0,p=f?{init:oh(f,!0,Y)}:{value:[]},pb.push({events:{signal:b.name+"_scale_trigger"},update:Ed(a)?`[${Y(`${e}[0]`)}, ${Y(`${e}[1]`)}]`:"[0, 0]"}),g?[{name:e,on:[]}]:[Object.assign({},{name:C},p,{on:pb}),Object.assign({},{name:e},f?{init:oh(f)}:{},{on:[{events:{signal:C},update:`${C}[0] === ${C}[1] ? null : invert(${Q}, ${C})`}]})];
Y="x"===p?0:1;b=b.name+"_init";return[Object.assign({},{name:C},f?{init:`[${b}[0][${Y}], ${b}[1][${Y}]]`}:{value:[]},{on:pb})]}function fa(a,b,e,f){var g=la(b)&&b.condition;b=f(b);return g?(g=h.array(g).map(p=>{const C=f(p);if(p.param){const {param:Q,empty:Y}=p;p=vk(a,{param:Q,empty:Y});return Object.assign({},{test:p},C)}p=Wf(a,p.test);return Object.assign({},{test:p},C)}),{[e]:[...g,...(void 0!==b?[b]:[])]}):void 0!==b?{[e]:b}:{}}function va(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
"text";return fa(a,a.encoding[b],b,e=>bb(e,a.config))}function bb(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(a){if(Uc(a))return Ta(a.value);if(tc(a)){const {format:f,formatType:g}=Ad(a);return Ve({fieldOrDatumDef:a,format:f,formatType:g,expr:e,config:b})}}}function Ob(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:e,markDef:f,config:g,stack:p}=a,C=e.tooltip;if(h.isArray(C))return{tooltip:Dc({tooltip:C},p,g,b)};const Q=b.reactiveGeom?
"datum.datum":"datum";return fa(a,C,"tooltip",Y=>{const wa=bb(Y,g,Q);if(wa)return wa;if(null!==Y){Y=Xb("tooltip",f,g);!0===Y&&(Y={content:"encoding"});if(h.isString(Y))return{value:Y};if(h.isObject(Y))return Jb(Y)?Y:"encoding"===Y.content?Dc(e,p,g,b):{signal:Q}}})}function cc(a,b,e){function f(wa,db){var pb=R(db);wa=Hc(wa)?wa:Object.assign({},wa,{type:a[pb].type});pb=wa.title||Bf(wa,p);pb=h.array(pb).join(", ").replaceAll(/"/g,'\\"');if(H(db)){const fc="x"===db?"x2":"y2";var bc=le(a[fc]);if(kb(wa.bin)&&
bc){var Fc=kc(wa,{expr:Q});bc=kc(bc,{expr:Q});const {format:Ec,formatType:Qc}=Ad(wa);Fc=We(Fc,bc,Ec,Qc,p);C[fc]=!0}}if((H(db)||"theta"===db||"radius"===db)&&b&&b.fieldChannel===db&&"normalize"===b.offset){const {format:fc,formatType:Ec}=Ad(wa);Fc=Ve({fieldOrDatumDef:wa,format:fc,formatType:Ec,expr:Q,config:p,normalizeStack:!0}).signal}null!=Fc||(Fc=bb(wa,p,Q).signal);Y.push({channel:db,key:pb,value:Fc})}var {reactiveGeom:g}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const p=Object.assign({},
e,e.tooltipFormat),C={},Q=g?"datum.datum":"datum",Y=[];Vg(a,(wa,db)=>{Ka(wa)?f(wa,db):Ga(wa)&&f(wa.condition,db)});g={};for(const wa of Y){const {channel:db,key:pb,value:bc}=wa;C[db]||g[pb]||(g[pb]=bc)}return g}function Dc(a,b,e){var {reactiveGeom:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};f=cc(a,b,e,{reactiveGeom:f});f=Gi(f).map(g=>{let [p,C]=g;return`"${p}": ${C}`});return 0<f.length?{signal:`{${f.join(", ")}}`}:void 0}function ac(a){const {encoding:b,markDef:e,config:f,stack:g}=
a;var p=b.description;if(p)return fa(a,p,"description",C=>bb(C,a.config));p=Xb("description",e,f);if(null!=p)return{description:Ta(p)};if(!1===f.aria)return{};p=cc(b,g,f);if(!jb(p))return{description:{signal:Gi(p).map((C,Q)=>{let [Y,wa]=C;return`"${0<Q?"; ":""}${Y}: " + (${wa})`}).join(" + ")}}}function Rc(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:f,encoding:g,config:p}=b,{vgChannel:C}=e;let {defaultRef:Q,defaultValue:Y}=e;void 0===Q&&(null!=Y||(Y=Xb(a,f,
p,{vgChannel:C,ignoreVgConfig:!0})),void 0!==Y&&(Q=Ta(Y)));return fa(b,g[a],null!=C?C:a,wa=>He({channel:a,channelDef:wa,markDef:f,config:p,scaleName:b.scaleName(a),scale:b.getScaleComponent(a),stack:null,defaultRef:Q}))}function Lc(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{filled:void 0};const {markDef:e,encoding:f,config:g}=a;var {type:p}=e,C;b=null!=(C=b.filled)?C:Xb("filled",e,g);C=Bb(["bar","point","circle","square","geoshape"],p)?"transparent":void 0;var Q,Y;p=null!=(Y=
null!=(Q=Xb(!0===b?"color":void 0,e,g,{vgChannel:"fill"}))?Q:g.mark[!0===b&&"color"])?Y:C;var wa;Q=null!=(wa=Xb(!1===b?"color":void 0,e,g,{vgChannel:"stroke"}))?wa:g.mark[!1===b&&"color"];wa=b?"fill":"stroke";Y=Object.assign({},p?{fill:Ta(p)}:{},Q?{stroke:Ta(Q)}:{});e.color&&(b?e.fill:e.stroke)&&K(kd("property",{fill:"fill"in e,stroke:"stroke"in e}));return Object.assign({},Y,Rc("color",a,{vgChannel:wa,defaultValue:b?p:Q}),Rc("fill",a,{defaultValue:f.fill?p:void 0}),Rc("stroke",a,{defaultValue:f.stroke?
Q:void 0}))}function rd(a){const {encoding:b,mark:e}=a,f=b.order;return!Va(e)&&Uc(f)?fa(a,f,"zindex",g=>Ta(g.value)):{}}function Td(a){let {channel:b,markDef:e,encoding:f={},model:g,bandPosition:p}=a;a=`${b}Offset`;const C=e[a],Q=f[a];return"xOffset"!==a&&"yOffset"!==a||!Q?(a=e[a])?{offsetType:"visual",offset:a}:{}:{offsetType:"encoding",offset:He({channel:a,channelDef:Q,markDef:e,config:null==g?void 0:g.config,scaleName:g.scaleName(a),scale:g.getScaleComponent(a),stack:null,defaultRef:Ta(C),bandPosition:p})}}
function ce(a,b,e){let {defaultPos:f,vgChannel:g}=e;const {encoding:p,markDef:C,config:Q,stack:Y}=b;e=p[a];const wa=p[z(a)],db=b.scaleName(a),pb=b.getScaleComponent(a),{offset:bc,offsetType:Fc}=Td({channel:a,markDef:C,encoding:p,model:b,bandPosition:.5}),fc=xe({model:b,defaultPos:f,channel:a,scaleName:db,scale:pb});if(!e&&H(a)&&(p.latitude||p.longitude))b={field:b.getName(a)};else a:{b={channel:a,channelDef:e,channel2Def:wa,markDef:C,config:Q,scaleName:db,scale:pb,stack:Y,offset:bc,defaultRef:fc,
bandPosition:"encoding"===Fc?0:void 0};const {channel:Ec,channelDef:Qc,scaleName:Tc,stack:Ud,offset:Md,markDef:re}=b;if(tc(Qc)&&Ud&&Ec===Ud.fieldChannel){if(Ka(Qc)&&(b=Qc.bandPosition,void 0!==b||"text"!==re.type||"radius"!==Ec&&"theta"!==Ec||(b=.5),void 0!==b)){b=Pd({scaleName:Tc,fieldOrDatumDef:Qc,startSuffix:"start",bandPosition:b,offset:Md});break a}b=Zd(Qc,Tc,{suffix:"end"},{offset:Md})}else b=Zc(b)}return b?{[g||a]:b}:void 0}function xe(a){let {model:b,defaultPos:e,channel:f,scaleName:g,scale:p}=
a;const {markDef:C,config:Q}=b;return()=>{var Y=R(f),wa=B(f);wa=Xb(f,C,Q,{vgChannel:wa});if(void 0!==wa)return gd(f,wa);switch(e){case "zeroOrMin":case "zeroOrMax":if(g&&(wa=p.get("type"),!Bb([gg.LOG,gg.TIME,gg.UTC],wa)&&p.domainDefinitelyIncludesZero()))return{scale:g,value:0};if("zeroOrMin"===e)return"y"===Y?{field:{group:"height"}}:{value:0};switch(Y){case "radius":return{signal:`min(${b.width.signal},${b.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};
case "y":return{value:0}}break;case "mid":return Y=b[N(f)],Object.assign({},Y,{mult:.5})}}}function qf(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===a||"theta"===a)return B(a);var g="x"===a?"align":"baseline";const p=Xb(g,b,e);Jb(p)?(K(`The ${g} for range marks cannot be an expression`),g=void 0):g=p;return"x"===a?zj[g||("top"===f?"left":"center")]:xi[g||f]}function cf(a,b,e){let {defaultPos:f,defaultPos2:g,range:p}=e;return p?bh(a,b,{defaultPos:f,defaultPos2:g}):
ce(a,b,{defaultPos:f})}function bh(a,b,e){let {defaultPos:f,defaultPos2:g}=e;const {markDef:p,config:C}=b;var Q=z(a);e=N(a);{const {encoding:bc,mark:Fc,markDef:fc,stack:Ec,config:Qc}=b;var Y=R(Q),wa=N(Q);const Tc=B(Q);var db=bc[Y],pb=b.scaleName(Y);const Ud=b.getScaleComponent(Y);({offset:Y}=Q in bc||Q in fc?Td({channel:Q,markDef:fc,encoding:bc,model:b}):Td({channel:Y,markDef:fc,encoding:bc,model:b}));if(db||"x2"!==Q&&"y2"!==Q||!bc.latitude&&!bc.longitude){let {channel:Md,channelDef:re,channel2Def:De,
markDef:Jf,config:Qf,scaleName:Ig,scale:Se,stack:Xf,offset:Te,defaultRef:Ah}={channel:Q,channelDef:db,channel2Def:bc[Q],markDef:fc,config:Qc,scaleName:pb,scale:Ud,stack:Ec,offset:Y,defaultRef:void 0};db=tc(re)&&Xf&&Md.charAt(0)===Xf.fieldChannel.charAt(0)?Zd(re,Ig,{suffix:"start"},{offset:Te}):Zc({channel:Md,channelDef:De,scaleName:Ig,scale:Se,stack:Xf,markDef:Jf,config:Qf,offset:Te,defaultRef:Ah});Q=void 0!==db?{[Tc]:db}:$d(Q,fc)||$d(Q,{[Q]:wc(Q,fc,Qc.style),[wa]:wc(wa,fc,Qc.style)})||$d(Q,Qc[Fc])||
$d(Q,Qc.mark)||{[Tc]:xe({model:b,defaultPos:g,channel:Q,scaleName:pb,scale:Ud})()}}else wa=N(Q),pb=b.markDef[wa],Q=null!=pb?{[wa]:{value:pb}}:{[Tc]:{field:b.getName(Q)}}}e=Q[e]?qf(a,p,C):B(a);return Object.assign({},ce(a,b,{defaultPos:f,vgChannel:e}),Q)}function $d(a,b){const e=N(a),f=B(a);if(void 0!==b[f])return{[f]:gd(a,b[f])};if(void 0!==b[a])return{[f]:gd(a,b[a])};if(b[e])if(b=b[e],fd(b))K(`Position range does not support relative band size for ${e}.`);else return{[e]:gd(a,b)}}function Fe(a,b){const {config:e,
encoding:f,markDef:g}=a;var p=g.type,C=z(b),Q=N(b),Y=f[b];C=f[C];var wa=a.getScaleComponent(b);wa=wa?wa.get("type"):void 0;const db=g.orient;var pb;let bc;const Fc=null!=(bc=null!=(pb=f[Q])?pb:f.size)?bc:Xb("size",g,e,{vgChannel:Q});Q=A(b);p="bar"===p&&("x"===b?"vertical"===db:"horizontal"===db);if(!Ka(Y)||!(xb(Y.bin)||kb(Y.bin)||Y.timeUnit&&!C)||Fc&&!fd(Fc)||f[Q]||Ke(wa)){if((tc(Y)&&Ke(wa)||p)&&!C){var fc;{const {markDef:De,encoding:Jf,config:Qf,stack:Ig}=a;p=De.orient;var Ec=a.scaleName(b),Qc=a.getScaleComponent(b),
Tc=N(b),Ud=z(b);C=A(b);C=a.scaleName(C);Q=a.getScaleComponent(D(b));pb="horizontal"===p&&"y"===b||"vertical"===p&&"x"===b;if(Jf.size||De.size)pb?fc=Rc("size",a,{vgChannel:Tc,defaultRef:Ta(De.size)}):K(`Cannot apply size to non-oriented mark "${De.type}".`);wa=!!fc;var Md;p=q({channel:b,fieldDef:Y,markDef:De,config:Qf,scaleType:null==(Md=Qc||Q)?void 0:Md.get("type"),useVlSizeChannel:pb});fc=fc||{[Tc]:ph(Tc,C||Ec,Q||Qc,Qf,p,!!Y,De.type)};var re;Md="band"===(null==(re=Qc||Q)?void 0:re.get("type"))&&
fd(p)&&!wa?"top":"middle";re=qf(b,De,Qf,Md);Md="xc"===re||"yc"===re;const {offset:Se,offsetType:Xf}=Td({channel:b,markDef:De,encoding:Jf,model:a,bandPosition:Md?.5:0});a=Zc({channel:b,channelDef:Y,markDef:De,config:Qf,scaleName:Ec,scale:Qc,stack:Ig,offset:Se,defaultRef:xe({model:a,defaultPos:"mid",channel:b,scaleName:Ec,scale:Qc}),bandPosition:Md?"encoding"===Xf?0:.5:Jb(p)?{signal:`(1-${p})/2`}:fd(p)?(1-p.band)/2:0});Tc?fc=Object.assign({},{[re]:a},fc):(b=B(Ud),fc=fc[Tc],fc=Se?Object.assign({},fc,
{offset:Se}):fc,fc={[re]:a,[b]:h.isArray(a)?[a[0],Object.assign({},a[1],{offset:fc})]:Object.assign({},a,{offset:fc})})}return fc}return bh(b,a,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:De,fieldDef2:Jf,channel:Qf,model:Ig}={fieldDef:Y,fieldDef2:C,channel:b,model:a};const {config:Se,markDef:Xf,encoding:Te}=Ig;a=Ig.getScaleComponent(Qf);fc=Ig.scaleName(Qf);b=a?a.get("type"):void 0;a=a.get("reverse");b=q({channel:Qf,fieldDef:De,markDef:Xf,config:Se,scaleType:b});Md=null!=(Qc=
null==(Ec=null==(Ud=Ig.component.axes[Qf])?void 0:Ud[0])?void 0:Ec.get("translate"))?Qc:.5;Ec=H(Qf)?null!=(Tc=Xb("binSpacing",Xf,Se))?Tc:0:0;Tc=z(Qf);Y=B(Qf);re=B(Tc);Qc=gc("minBandSize",Xf,Se);({offset:p}=Td({channel:Qf,markDef:Xf,encoding:Te,model:Ig,bandPosition:0}));({offset:C}=Td({channel:Tc,markDef:Xf,encoding:Te,model:Ig,bandPosition:0}));let {scaleName:Ah,fieldDef:il}={fieldDef:De,scaleName:fc};Ud=kc(il,{expr:"datum"});Q=kc(il,{expr:"datum",suffix:"end"});Q=`abs(scale("${Ah}", ${Q}) - scale("${Ah}", ${Ud}))`;
Ud=rh(Qf,Ec,a,Md,p,Qc,Q);a=rh(Tc,Ec,a,Md,null!=C?C:p,Qc,Q);b=Jb(b)?{signal:`(1-${b.signal})/2`}:fd(b)?(1-b.band)/2:.5;Md=l({fieldDef:De,fieldDef2:Jf,markDef:Xf,config:Se});if(xb(De.bin)||De.timeUnit)Md=De.timeUnit&&.5!==Md,fc={[re]:uf({fieldDef:De,scaleName:fc,bandPosition:b,offset:a,useRectOffsetField:Md}),[Y]:uf({fieldDef:De,scaleName:fc,bandPosition:Jb(b)?{signal:`1-${b.signal}`}:1-b,offset:Ud,useRectOffsetField:Md})};else{if(kb(De.bin)){a=Zd(De,fc,{},{offset:a});if(Ka(Jf)){fc={[re]:a,[Y]:Zd(Jf,
fc,{},{offset:Ud})};break a}if(h.isObject(De.bin)&&De.bin.step){fc={[re]:a,[Y]:{signal:`scale("${fc}", ${kc(De,{expr:"datum"})} + ${De.bin.step})`,offset:Ud}};break a}}K(y(Tc));fc=void 0}}return fc}function ph(a,b,e,f,g,p,C){if(fd(g))if(e){const Q=e.get("type");if("band"===Q)return a=`bandwidth('${b}')`,1!==g.band&&(a=`${g.band} * ${a}`),f=gc("minBandSize",{type:C},f),{signal:f?`max(${Gb(f)}, ${a})`:a};1!==g.band&&K(`Cannot use the relative band size with ${Q} scale.`)}else return{mult:g.band,field:{group:a}};
else{if(Jb(g))return g;if(g)return{value:g}}if(e&&(g=e.get("range"),Lb(g)&&h.isNumber(g.step)))return{value:g.step-2};if(!p){const {bandPaddingInner:Q,barBandPaddingInner:Y,rectBandPaddingInner:wa}=f.scale;C=V(Q,"bar"===C?Y:wa);if(Jb(C))return{signal:`(1 - (${C.signal})) * ${a}`};if(h.isNumber(C))return{signal:`${1-C} * ${a}`}}return{value:Vf(f.view,a)-2}}function rh(a,b,e,f,g,p,C){if(a in fk)return 0;b=(a="x"===a||"y2"===a)?-b/2:b/2;if(Jb(e)||Jb(g)||Jb(f)||p){e=Gb(e);g=Gb(g);f=Gb(f);const Q=Gb(p);
p=p?`(${C} < ${Q} ? ${a?"":"-"}0.5 * (${Q} - (${C})) : ${b})`:b;return{signal:(f?`${f} + `:"")+(e?`(${e} ? -1 : 1) * `:"")+(g?`(${g} + ${p})`:p)}}g=g||0;return f+(e?-g-b:+g+b)}function uf(a){let {fieldDef:b,scaleName:e,bandPosition:f,offset:g,useRectOffsetField:p}=a;return Pd(Object.assign({},{scaleName:e,fieldOrDatumDef:b,bandPosition:f,offset:g},p?{startSuffix:"offsetted_rect_start",endSuffix:"offsetted_rect_end"}:{}))}function yf(a,b){const {fill:e,stroke:f}="include"===b.color?Lc(a):{};var g=
Object,p=g.assign;b=mh(a.markDef,b);var C=yg(a,"fill",e),Q=yg(a,"stroke",f),Y=Rc("opacity",a),wa=Rc("fillOpacity",a),db=Rc("strokeOpacity",a),pb=Rc("strokeWidth",a),bc=Rc("strokeDash",a),Fc=rd(a),fc=Ob(a),Ec=va(a,"href");{const {markDef:Md,config:re}=a,De=Xb("aria",Md,re);if(!1===De)a={};else{var Qc=Object,Tc=Qc.assign;{const {mark:Jf,markDef:Qf,config:Ig}=a;if(!1===Ig.aria)var Ud={};else Ud=Xb("ariaRoleDescription",Qf,Ig),Ud=null!=Ud?{ariaRoleDescription:{value:Ud}}:Jf in bm?{}:{ariaRoleDescription:{value:Jf}}}a=
Tc.call(Qc,{},De?{aria:De}:{},Ud,ac(a))}}return p.call(g,{},b,C,Q,Y,wa,db,pb,bc,Fc,fc,Ec,a)}function yg(a,b,e){const {config:f,mark:g,markDef:p}=a;return"hide"===Xb("invalid",p,f)&&e&&!Va(g)&&(a=Cf(a,{invalid:!0,channels:Bk}))?{[b]:[{test:a,value:null},...h.array(e)]}:e?{[b]:e}:{}}function mh(a,b){return $k.reduce((e,f)=>{pk.has(f)||void 0===a[f]||"ignore"===b[f]||(e[f]=Ta(a[f]));return e},{})}function Cf(a,b){let {invalid:e=!1,channels:f}=b;b=f.reduce((g,p)=>{var C=a.getScaleComponent(p);C&&(C=C.get("type"),
(p=a.vgField(p,{expr:"datum"}))&&Ed(C)&&(g[p]=!0));return g},{});b=bd(b);if(0<b.length){const g=e?"||":"\x26\x26";return b.map(p=>Bd(p,e)).join(` ${g} `)}}function pf(a){const {config:b,markDef:e}=a;return Xb("invalid",e,b)&&(a=Hg(a,{channels:Ph}))?{defined:{signal:a}}:{}}function Hg(a,b){let {invalid:e=!1,channels:f}=b;b=f.reduce((g,p)=>{var C=a.getScaleComponent(p);if(C){C=C.get("type");let Q;(p=a.vgField(p,{expr:"datum",binSuffix:(null==(Q=a.stack)?0:Q.impute)?"mid":void 0}))&&Ed(C)&&(g[p]=!0)}return g},
{});b=bd(b);if(0<b.length){const g=e?"||":"\x26\x26";return b.map(p=>Bd(p,e)).join(` ${g} `)}}function hg(a,b){if(void 0!==b)return{[a]:Ta(b)}}function Eh(a,b,e,f,g){var p=b.name,C=p+"_translate_anchor";p+="_translate_delta";var Q=e.channel;const Y=Uh.defined(b);b=g.filter(Fc=>Fc.name===e.signals[Y?"data":"visual"])[0];f=a.getSizeSignalRef(f).signal;g=(a=a.getScaleComponent(Q))&&a.get("type");var wa=a&&a.get("reverse");C=`${C}.extent_${Q}`;Q=`${Y?"x"===Q?wa?"":"-":wa?"-":"":""}${p}.${Q} / ${Y?`${f}`:
`span(${C})`}`;wa=Y&&a?"log"===g?"panLog":"symlog"===g?"panSymlog":"pow"===g?"panPow":"panLinear":"panLinear";var db;let pb;const bc=Y?"pow"===g?`, ${null!=(db=a.get("exponent"))?db:1}`:"symlog"===g?`, ${null!=(pb=a.get("constant"))?pb:1}`:"":"";db=`${wa}(${C}, ${Q}${bc})`;b.on.push({events:{signal:p},update:Y?db:`clampRange(${db}, 0, ${f})`})}function gi(a,b,e,f,g){var p=b.name,C=e.channel;const Q=Uh.defined(b);b=g.filter(Fc=>Fc.name===e.signals[Q?"data":"visual"])[0];f=a.getSizeSignalRef(f).signal;
const Y=(g=a.getScaleComponent(C))&&g.get("type"),wa=Q?$b(a,C):b.name;a=p+"_zoom_delta";p=`${p}${"_zoom_anchor"}.${C}`;C=Q&&g?"log"===Y?"zoomLog":"symlog"===Y?"zoomSymlog":"pow"===Y?"zoomPow":"zoomLinear":"zoomLinear";var db;let pb;const bc=Q?"pow"===Y?`, ${null!=(db=g.get("exponent"))?db:1}`:"symlog"===Y?`, ${null!=(pb=g.get("constant"))?pb:1}`:"":"";db=`${C}(${wa}, ${p}, ${a}${bc})`;b.on.push({events:{signal:a},update:Q?db:`clampRange(${db}, 0, ${f})`})}function $f(a){var {escape:b}=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{escape:!0};b=b?h.stringValue(a.name):a.name;var e;for(e=a.parent;e&&!ih(e);)e=e.parent;if(e){const {facet:f}=e;for(const g of sh)f[g]&&(b+=` + '__facet_${g}_' + (facet[${h.stringValue(e.vgField(g))}])`)}return b}function zf(a){let b;return kg(null!=(b=a.component.selection)?b:{}).reduce((e,f)=>e||f.project.hasSelectionId,!1)}function Cg(a,b){!h.isString(b.select)&&b.select.on||delete a.events;!h.isString(b.select)&&b.select.clear||delete a.clear;!h.isString(b.select)&&
b.select.toggle||delete a.toggle}function Ki(a){const b=[];if("Identifier"===a.type)return[a.name];if("Literal"===a.type)return[a.value];"MemberExpression"===a.type&&(b.push(...Ki(a.object)),b.push(...Ki(a.property)));return b}function rj(a){return"MemberExpression"===a.object.type?rj(a.object):"datum"===a.object.name}function sj(a){a=h.parseExpression(a);const b=new Set;a.visit(e=>{"MemberExpression"===e.type&&rj(e)&&b.add(Ki(e).slice(1).join("."))});return b}function vk(a,b,e){var f=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:"datum",g=h.isString(b)?b:b.param,p=ta(g),C=h.stringValue(p+"_store");try{var Q=a.getSelectionComponent(p,g)}catch(Y){return`!!${p}`}Q.project.timeUnit&&(g=null!=e?e:a.component.data.raw,p=Q.project.timeUnit.clone(),g.parent?p.insertAsParentOf(g):g.parent=p);g=Q.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";Q="global"===Q.resolve?")":`, ${h.stringValue(Q.resolve)})`;f=`${g}${C}, ${f}${Q}`;C=`length(data(${C}))`;return!1===b.empty?`${C} && ${f}`:
`!${C} || ${f}`}function ej(a,b,e){const f=ta(b),g=e.encoding;let p=e.field,C;try{C=a.getSelectionComponent(f,b)}catch(Q){return f}g||p?g&&!p&&(a=C.project.items.filter(Q=>Q.channel===g),!a.length||1<a.length?(p=C.project.items[0].field,K((a.length?"Multiple ":"No ")+`matching ${h.stringValue(g)} encoding found for selection ${h.stringValue(e.param)}. `+`Using "field": ${h.stringValue(p)}.`)):p=a[0].field):(p=C.project.items[0].field,1<C.project.items.length&&K('A "field" or "encoding" must be specified when using a selection as a scale domain. '+
`Using "field": ${h.stringValue(p)}.`));return`${C.name}[${h.stringValue(cb(p))}]`}function Wf(a,b,e){return ha(b,f=>h.isString(f)?f:(null==f?0:f.param)?vk(a,f,e):ye(f))}function wk(a,b){if(a)return h.isArray(a)&&!Wb(a)?a.map(e=>Bf(e,b)).join(", "):a}function Cj(a,b,e,f){null!=a.encode||(a.encode={});let g;null!=(g=a.encode)[b]||(g[b]={});let p;null!=(p=a.encode[b]).update||(p.update={});a.encode[b].update[e]=f}function hh(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},
g=a.combine(),p=Object.assign({},g),C=g.disable;const Q=g.orient,Y=g.scale;var wa=g.labelExpr;const db=g.title;g=g.zindex;p=(delete p.disable,delete p.orient,delete p.scale,delete p.labelExpr,delete p.title,delete p.zindex,p);if(!C){for(const bc in p){var pb=Zi[bc];C=p[bc];if(pb&&pb!==b&&"both"!==pb)delete p[bc];else if(ag(C)){pb=C;C=Object.assign({},pb);pb=pb.condition;C=(delete C.condition,C);pb=h.array(pb);const Fc=Nj[bc];if(Fc){const {vgProp:fc,part:Ec}=Fc;C=[...pb.map(Qc=>{var Tc=Object.assign({},
Qc);Qc=Qc.test;Tc=(delete Tc.test,Tc);return Object.assign({},{test:Wf(null,Qc)},Tc)}),C];Cj(p,Ec,fc,C);delete p[bc]}else null===Fc&&(C={signal:pb.map(fc=>{var Ec=Object.assign({},fc);fc=fc.test;Ec=(delete Ec.test,Ec);return`${Wf(null,fc)} ? ${yb(Ec)} : `}).join("")+yb(C)},p[bc]=C)}else if(Jb(C)&&(pb=Nj[bc])){const {vgProp:Fc,part:fc}=pb;Cj(p,fc,Fc,C);delete p[bc]}Bb(["labelAlign","labelBaseline"],bc)&&null===p[bc]&&delete p[bc]}if("grid"===b){if(p.grid)return p.encode&&({grid:wa}=p.encode,p.encode=
Object.assign({},wa?{grid:wa}:{}),jb(p.encode)&&delete p.encode),Object.assign({},{scale:Y,orient:Q},p,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:V(g,0)})}else if(f.header||!a.mainExtracted){if(void 0!==wa){f=wa;let bc,Fc;(null==(bc=p.encode)?0:null==(Fc=bc.labels)?0:Fc.update)&&Jb(p.encode.labels.update.text)&&(f=tb(wa,"datum.label",p.encode.labels.update.text.signal));Cj(p,"labels","text",{signal:f})}null===p.labelAlign&&delete p.labelAlign;if(p.encode){for(const bc of nk)a.hasAxisPart(bc)||
delete p.encode[bc];jb(p.encode)&&delete p.encode}wa=wk(db,e);return Object.assign({},{scale:Y,orient:Q,grid:!1},wa?{title:wa}:{},p,!1===e.aria?{aria:!1}:{},{zindex:V(g,0)})}}}function Oi(a){const {axes:b}=a.component,e=[];for(const f of Ph)if(b[f])for(const g of b[f])if(!g.get("disable")&&!g.get("gridScale")){const p="x"===f?"height":"width",C=a.getSizeSignalRef(p).signal;p!==C&&e.push({name:p,update:C})}return e}function Uj(a,b){const {x:e=[],y:f=[]}=a;return[...e.map(g=>hh(g,"grid",b)),...f.map(g=>
hh(g,"grid",b)),...e.map(g=>hh(g,"main",b)),...f.map(g=>hh(g,"main",b))].filter(g=>g)}function Dj(a,b,e,f){return Object.assign.apply(null,[{},...a.map(g=>{if("axisOrient"===g){g="x"===e?"bottom":"left";const p=b["x"===e?"axisBottom":"axisLeft"]||{},C=b["x"===e?"axisTop":"axisRight"]||{},Q=new Set([...bd(p),...bd(C)]),Y={};for(const wa of Q.values())Y[wa]={signal:`${f.signal} === "${g}" ? ${Gb(p[wa])} : ${Gb(C[wa])}`};return Y}return b[g]})])}function cl(a,b,e,f){var g="band"===b?["axisDiscrete",
"axisBand"]:"point"===b?["axisDiscrete","axisPoint"]:ni.has(b)?["axisQuantitative"]:"time"===b||"utc"===b?["axisTemporal"]:[];const p="x"===a?"axisX":"axisY";b=Jb(e)?"axisOrient":`axis${Ra(e)}`;g=[...g,...g.map(C=>p+C.substr(4))];b=["axis",b,p];return{vlOnlyAxisConfig:Dj(g,f,a,e),vgAxisConfig:Dj(b,f,a,e),axisConfigStyle:Pi([...b,...g],f)}}function Pi(a,b){const e=[{}];for(const f of a){let g;if(a=null==(g=b[f])?void 0:g.style){a=h.array(a);for(const p of a)e.push(b.style[p])}}return Object.assign.apply(null,
e)}function zi(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const g=Xc(a,e,b);if(void 0!==g)return{configFrom:"style",configValue:g};for(const p of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){let C;if(void 0!==(null==(C=f[p])?void 0:C[a]))return{configFrom:p,configValue:f[p][a]}}return{}}function Vj(a,b,e,f,g){const p=null==b?void 0:b.labelAngle;if(void 0!==p)return Jb(p)?p:Ma(p);({configValue:b}=zi("labelAngle",f,null==b?void 0:b.style,g));if(void 0!==b)return Ma(b);
if("x"===e&&Bb(["nominal","ordinal"],a.type)&&(!Ka(a)||!a.timeUnit))return 270}function Qi(a){return`(((${a.signal} % 360) + 360) % 360)`}function Wj(a,b,e,f){if(void 0!==a)return"x"===e?Jb(a)?(f=Qi(a),b=Jb(b)?`(${b.signal} === "top")`:"top"===b,{signal:`(45 < ${f} && ${f} < 135) || (225 < ${f} && ${f} < 315) ? "middle" :`+`(${f} <= 45 || 315 <= ${f}) === ${b} ? "bottom" : "top"`}):45<a&&135>a||225<a&&315>a?"middle":Jb(b)?{signal:`${b.signal} ${45>=a||315<=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:
(45>=a||315<=a)===("top"===b)?"bottom":"top":Jb(a)?(a=Qi(a),b=Jb(b)?`(${b.signal} === "left")`:"left"===b,{signal:`${a} <= 45 || 315 <= ${a} || (135 <= ${a} && ${a} <= 225) ? ${f?'"middle"':"null"} : (45 <= ${a} && ${a} <= 135) === ${b} ? "top" : "bottom"`}):45>=a||315<=a||135<=a&&225>=a?f?"middle":null:Jb(b)?{signal:`${b.signal} ${45<=a&&135>=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:(45<=a&&135>=a)===("left"===b)?"top":"bottom"}function xk(a,b,e){if(void 0!==a){var f=(e="x"===e)?
0:90,g=e?"bottom":"left";return Jb(a)?(a=Qi(a),b=Jb(b)?`(${b.signal} === "${g}")`:b===g,{signal:`(${f?`(${a} + 90)`:a} % 180 === 0) ? ${e?null:'"center"'} :`+`(${f} < ${a} && ${a} < ${180+f}) === ${b} ? "left" : "right"`}):0===(a+f)%180?e?null:"center":Jb(b)?{signal:`${`${b.signal} ${f<a&&a<180+f?"\x3d\x3d\x3d":"!\x3d\x3d"} "${g}"`} ? "left" : "right"`}:(f<a&&a<180+f)===(b===g)?"left":"right"}}function fj(a,b){var e="x"===b?"x2":"y2";b=a.fieldDef(b);a=a.fieldDef(e);e=b?b.title:void 0;a=a?a.title:
void 0;if(e&&a)return Ia(e,a);if(e)return e;if(a)return a;if(void 0!==e)return e;if(void 0!==a)return a}function Ri(a,b,e){return kc(a,Object.assign({},{prefix:b,suffix:"sort_index"},null!=e?e:{}))}function Ag(a,b){return Bb(["top","bottom"],b)?"column":Bb(["left","right"],b)?"row":"row"===a?"row":"column"}function hi(a,b,e,f){return V((b||{})[a],("row"===f?e.headerRow:"column"===f?e.headerColumn:e.headerFacet)[a],e.header[a])}function Wh(a,b,e,f){const g={};for(const p of a)a=hi(p,b||{},e,f),void 0!==
a&&(g[p]=a);return g}function Lh(a,b){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const e=xk(b,"row"===a?"left":"top","row"===a?"y":"x");return e?{align:e}:{}}function hj(a,b){return(a=Wj(a,"row"===b?"left":"top","row"===b?"y":"x",!0))?{baseline:a}:{}}function jj(a,b,e){const {format:f,formatType:g,labelAngle:p,labelAnchor:C,labelOrient:Q,labelExpr:Y}=Wh("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),
a.header,e,b),wa=Ve({fieldOrDatumDef:a,format:f,formatType:g,expr:"parent",config:e}).signal,db=Ag(b,Q);return Object.assign({},{text:{signal:Y?tb(tb(Y,"datum.label",wa),"datum.value",kc(a,{expr:"parent"})):wa}},"row"===b?{orient:"left"}:{},{style:"guide-label",frame:"group"},hj(p,db),Lh(db,p,C),Hj(e,a,b,Yl,tl))}function Hj(a,b,e,f,g){const p={};for(const C of f){if(!g[C])continue;let Q;f=hi(C,null==(Q=b)?void 0:Q.header,a,e);void 0!==f&&(p[g[C]]=f)}return p}function ij(a){return[...Yf(a,"width"),
...Yf(a,"height"),...Yf(a,"childWidth"),...Yf(a,"childHeight")]}function Yf(a,b){var e="width"===b?"x":"y",f=a.component.layoutSize.get(b);if(!f||"merged"===f)return[];b=a.getSizeSignalRef(b).signal;if("step"===f){if(f=a.getScaleComponent(e)){var g=f.get("type");const p=f.get("range");if(Ke(g)&&Lb(p))return g=a.scaleName(e),ih(a.parent)&&"independent"===a.parent.component.resolve.scale[e]?[Si(g,p)]:[Si(g,p),{name:b,update:yh(g,f,`domain('${g}').length`)}]}throw Error("layout size is step although width/height is not step.");
}return"container"==f?(e=(f=b.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",a=of(a.config.view,f?"width":"height"),a=`isFinite(${e}) ? ${e} : ${a}`,[{name:b,init:a,on:[{update:a,events:"window:resize"}]}]):[{name:b,value:f}]}function Si(a,b){a=`${a}_step`;return Jb(b.step)?{name:a,update:b.step.signal}:{name:a,value:b.step}}function yh(a,b,e){const f=b.get("type"),g=b.get("padding"),p=V(b.get("paddingOuter"),g);b=b.get("paddingInner");return`bandspace(${e}, ${Gb("band"===f?void 0!==
b?b:g:1)}, ${Gb(p)}) * ${a}_step`}function Xi(a){return"childWidth"===a?"width":"childHeight"===a?"height":a}function ji(a,b){return bd(a).reduce((e,f)=>Object.assign({},e,fa(b,a[f],f,g=>Ta(g.value))),{})}function ii(a,b){if(ih(b))return"theta"===a?"independent":"shared";if(Ti(b))return"shared";if(Tk(b))return H(a)||"theta"===a||"radius"===a?"independent":"shared";throw Error("invalid model type for resolve");}function n(a,b){const e=a.scale[b],f=H(b)?"axis":"legend";return"independent"===e?("shared"===
a[f][b]&&K(`Setting the scale to be independent for "${b}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):a[f][b]||"shared"}function G(a){return ma(a,(b,e)=>Math.max(b,e.value))}function M(a){return ma(a,(b,e)=>V(b,e.value))}function ma(a,b){const e=null==a?void 0:a.condition;if(e&&(h.isArray(e)||Uc(e)))return h.array(a.condition).reduce(b,a.value);if(Uc(a))return a.value}function Xa(a,b,e){a=b.get("selections");if(null!=a&&a.length){var f=h.stringValue(e.field);
return a.map(g=>`(!length(data(${h.stringValue(ta(g)+"_store")})) || (${g}[${f}] && indexof(${g}[${f}], datum.value) >= 0))`).join(" || ")}}function fb(a,b,e,f){return{signal:`clamp(${a.getSizeSignalRef(b).signal}, ${e}, ${f})`}}function qb(a){if(Lf(a)){var {encoding:b}=a,e={};for(Qc of["color",...dh]){var f=ve(b[Qc]);if(f&&a.getScaleComponent(Qc)&&("shape"!==Qc||!Ka(f)||"geojson"!==f.type)){a:{var g=void 0,p=void 0,C=void 0,Q=void 0,Y=void 0,wa,db=wa=void 0,pb=void 0;f=a;var bc=Qc;let Tc=f.legend(bc);
const {markDef:Ud,encoding:Md,config:re}=f;var Fc=re.legend;b:{var fc=f;var Ec=bc;Q=fc.scaleName(Ec);if("trail"===fc.mark){if("color"===Ec){fc={stroke:Q};break b}if("size"===Ec){fc={strokeWidth:Q};break b}}fc="color"===Ec?fc.markDef.filled?{fill:Q}:{stroke:Q}:{[Ec]:Q}}fc=new Ml({},fc);Ec=null==(pb=f.fieldDef(bc))?void 0:pb.field;for(const Se of kg(null!=(db=f.component.selection)?db:{})){let Xf;if((db=null!=(Xf=Se.project.hasField[Ec])?Xf:Se.project.hasChannel[bc])&&yi.defined(Se)){let Te;pb=null!=
(Te=fc.get("selections"))?Te:[];pb.push(Se.name);fc.set("selections",pb,!1);db.hasLegend=!0}}db=void 0!==Tc?!Tc:Fc.disable;fc.set("disable",db,void 0!==Tc);if(db){f=fc;break a}Tc=Tc||{};pb=f.getScaleComponent(bc).get("type");db=ve(Md[bc]);Q=Ka(db)?null==(wa=Wc(db.timeUnit))?void 0:wa.unit:void 0;Ec=Tc.orient||re.legend.orient||"right";wa={legend:Tc,channel:bc,timeUnit:Q,scaleType:pb};({legend:Q}=wa);Q=Q.type;b:{let {channel:Se,timeUnit:Xf,scaleType:Te}=wa;if(L(Se)){if(Bb(["quarter","month","day"],
Xf)){wa="symbol";break b}if(lg.has(Te)){wa="gradient";break b}}wa="symbol"}wa=V(Q,wa);let {legendConfig:De,legendType:Jf,orient:Qf,legend:Ig}={legend:Tc,legendType:wa,orient:Ec,legendConfig:Fc};if(null!=(Q=null!=(Y=Ig.direction)?Y:De[Jf?"gradientDirection":"symbolDirection"]))Y=Q;else b:{switch(Qf){case "top":case "bottom":Y="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:Y="gradient"===Jf?"horizontal":void 0;break b}Y=void 0}Fc={legend:Tc,channel:bc,model:f,markDef:Ud,
encoding:Md,fieldOrDatumDef:db,legendConfig:Fc,config:re,scaleType:pb,orient:Ec,legendType:wa,direction:Y};for(const Se of Fk)if(!("gradient"===wa&&Se.startsWith("symbol")||"symbol"===wa&&Se.startsWith("gradient"))&&(Y=Se in ll?ll[Se](Fc):Tc[Se],void 0!==Y)){b:{pb=Q=void 0;Ec=f.fieldDef(bc);switch(Se){case "disable":Ec=void 0!==Tc;break b;case "values":Ec=!(null==(pb=Tc)||!pb.values);break b;case "title":if("title"===Se&&Y===(null==(Q=Ec)?void 0:Q.title)){Ec=!0;break b}}Ec=Y===(Tc||{})[Se]}((pb=Ec)||
void 0===re.legend[Se])&&fc.set(Se,Y,pb)}Fc=null!=(p=null==(C=Tc)?void 0:C.encoding)?p:{};p=fc.get("selections");C={};bc={fieldOrDatumDef:db,model:f,channel:bc,legendCmpt:fc,legendType:wa};for(const Se of"labels legend title symbols gradient entries".split(" ")){let Xf;Y=ji(null!=(Xf=Fc[Se])?Xf:{},f);Y=Se in Fl?Fl[Se](Y,bc):Y;if(void 0!==Y&&!jb(Y)){let Te,Ah;C[Se]=Object.assign({},(null==(Te=p)?0:Te.length)&&Ka(db)?{name:`${ta(db.field)}_legend_${Se}`}:{},(null==(Ah=p)?0:Ah.length)?{interactive:!!p}:
{},{update:Y})}}jb(C)||fc.set("encode",C,!(null==(g=Tc)||!g.encoding));f=fc}e[Qc]=f}}var Qc=e}else{const {legends:Tc,resolve:Ud}=a.component;for(b of a.children){qb(b);for(e of bd(b.component.legends))Ud.legend[e]=n(a.component.resolve,e),"shared"===Ud.legend[e]&&(Tc[e]=Ib(Tc[e],b.component.legends[e]),Tc[e]||(Ud.legend[e]="independent",delete Tc[e]))}for(f of bd(Tc))for(g of a.children)g.component.legends[f]&&"shared"===Ud.legend[f]&&delete g.component.legends[f];Qc=Tc}return a.component.legends=
Qc}function Ib(a,b){if(!a)return b.clone();var e=a.getWithExplicit("orient");const f=b.getWithExplicit("orient");if(!e.explicit||!f.explicit||e.value===f.value){var g=!1;for(const p of Fk)e=vf(a.getWithExplicit(p),b.getWithExplicit(p),p,"legend",(C,Q)=>{switch(p){case "symbolType":return C="circle"===Q.value?Q:C,C;case "title":return hb(C,Q);case "type":return g=!0,Me("symbol")}return Lg(C,Q,p,"legend")}),a.setWithExplicit(p,e);if(g){let p,C;(null==(p=a.implicit)?0:null==(C=p.encode)?0:C.gradient)&&
ya(a.implicit,["encode","gradient"]);let Q,Y;(null==(Q=a.explicit)?0:null==(Y=Q.encode)?0:Y.gradient)&&ya(a.explicit,["encode","gradient"])}return a}}function oc(a){const b=a.component.legends,e={};for(const g of bd(b)){var f=a.getScaleComponent(g);f=m(f.get("domains"));if(e[f])for(const p of e[f])Ib(p,b[g])||e[f].push(b[g]);else e[f]=[b[g].clone()]}return kg(e).flat().map(g=>{{var p=a.config,C=g.combine();g=Object.assign({},C);const bc=C.disable;C=C.labelExpr;g=(delete g.disable,delete g.labelExpr,
delete g.selections,g);if(bc)var Q=void 0;else{!1===p.aria&&void 0==g.aria&&(g.aria=!1);var Y;if(null==(Y=g.encode)?0:Y.symbols){p=g.encode.symbols.update;!p.fill||"transparent"===p.fill.value||p.stroke||g.stroke||(p.stroke={value:"transparent"});for(var wa of dh)g[wa]&&delete p[wa]}g.title||delete g.title;if(void 0!==C){wa=C;var db,pb;(null==(db=g.encode)?0:null==(pb=db.labels)?0:pb.update)&&Jb(g.encode.labels.update.text)&&(wa=tb(C,"datum.label",g.encode.labels.update.text.signal));db=g;pb={signal:wa};
null!=db.encode||(db.encode={});null!=(Q=db.encode).labels||(Q.labels={});let Fc;null!=(Fc=db.encode.labels).update||(Fc.update={});db.encode.labels.update.text=pb}Q=g}}return Q}).filter(g=>void 0!==g)}function Sc(a){return a.children.reduce((b,e)=>b.concat(e.assembleProjections()),Yc(a))}function Yc(a){var b=a.component.projection;if(!b||b.merged)return[];const e=b.combine(),{name:f}=e;if(b.data){const g={signal:`[${b.size.map(p=>p.signal).join(", ")}]`};b=b.data.reduce((p,C)=>{C=Jb(C)?C.signal:
`data('${a.lookupDataSource(C)}')`;p.includes(C)||p.push(C);return p},[]);if(0>=b.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:f,size:g,fit:{signal:1<b.length?`[${b.join(", ")}]`:b[0]}},e)]}return[Object.assign({},{name:f},{translate:{signal:"[width / 2, height / 2]"}},e)]}function mc(a){var b=a.component;if(Lf(a))if(a.hasProjection){var e=Nb(a.specifiedProjection);var f=!(e&&(null!=e.scale||null!=e.translate));const p=f?[a.getSizeSignalRef("width"),
a.getSizeSignalRef("height")]:void 0;if(f){f=[];const {encoding:Q}=a;for(g of[["longitude","latitude"],["longitude2","latitude2"]])(ve(Q[g[0]])||ve(Q[g[1]]))&&f.push({signal:a.getName(`geojson_${f.length}`)});a.channelHasField("shape")&&"geojson"===a.typedFieldDef("shape").type&&f.push({signal:a.getName(`geojson_${f.length}`)});0===f.length&&f.push(a.requestDataName(mf.Main));var g=f}else g=void 0;let C;a=new Fj(a.projectionName(!0),Object.assign({},null!=(C=Nb(a.config.projection))?C:{},null!=e?
e:{}),p,g);a.get("type")||a.set("type","equalEarth",!1);e=a}else e=void 0;else e=Jd(a);b.projection=e}function nd(a,b){const e=ec(lm,f=>!h.hasOwnProperty(a.explicit,f)&&!h.hasOwnProperty(b.explicit,f)||h.hasOwnProperty(a.explicit,f)&&h.hasOwnProperty(b.explicit,f)&&sa(a.get(f),b.get(f))?!0:!1);if(sa(a.size,b.size)){if(e)return a;if(sa(a.explicit,{}))return b;if(sa(b.explicit,{}))return a}return null}function Jd(a){if(0!==a.children.length){var b;for(var e of a.children)mc(e);e=ec(a.children,f=>{if(f=
f.component.projection){if(b)return(f=nd(b,f))&&(b=f),!!f;b=f}return!0});if(b&&e){e=a.projectionName(!0);const f=new Fj(e,b.specifiedProjection,b.size,te(b.data));for(const g of a.children)if(a=g.component.projection)a.isFit&&f.data.push(...g.component.projection.data),g.renameProjection(a.get("name"),e),a.merged=!0;return f}}}function me(a,b,e){let f;e=null!=(f=je(e,void 0))?f:{};b=`${eb(e)}_${b}`;return a.getName(`${b}_bins`)}function Cd(a,b,e){let f;f="as"in a?h.isString(a.as)?[a.as,`${a.as}_end`]:
[a.as[0],a.as[1]]:[kc(a,{forAs:!0}),kc(a,{binSuffix:"end",forAs:!0})];b=Object.assign({},je(b,void 0));var g=a.field;g=`${eb(b)}_${g}`;var p={signal:e.getName(`${g}_bins`),extentSignal:e.getName(`${g}_extent`)};const {signal:C,extentSignal:Q}=p;if(Sb(b.extent)){var Y=b.extent;Y=ej(e,Y.param,Y);delete b.extent}a=Object.assign({},{bin:b,field:a.field,as:[f]},C?{signal:C}:{},Q?{extentSignal:Q}:{},Y?{span:Y}:{});return{key:g,binComponent:a}}function Oe(a){return a.startsWith("'")&&a.endsWith("'")||a.startsWith('"')&&
a.endsWith('"')?a.slice(1,-1):a}function Df(a,b){a=Wa(a);if("number"===b)return`toNumber(${a})`;if("boolean"===b)return`toBoolean(${a})`;if("string"===b)return`toString(${a})`;if("date"===b)return`toDate(${a})`;if("flatten"===b)return a;if(b.startsWith("date:"))return b=Oe(b.slice(5,b.length)),`timeParse(${a},'${b}')`;if(b.startsWith("utc:"))return b=Oe(b.slice(4,b.length)),`utcParse(${a},'${b}')`;K(`Unrecognized parse "${b}".`);return null}function sg(a){const b={};ka(a.filter,e=>{if(Ge(e)){let f=
null;if(Kd(e))f=ra(e.equal);else if(Je(e))f=ra(e.lte);else if(ge(e))f=ra(e.lt);else if(Ie(e))f=ra(e.gt);else if(Ne(e))f=ra(e.gte);else if($e(e))f=e.range[0];else if(Ae(e)){let g;f=(null!=(g=e.oneOf)?g:e["in"])[0]}f&&(t(f)?b[e.field]="date":h.isNumber(f)?b[e.field]="number":h.isString(f)&&(b[e.field]="string"));e.timeUnit&&(b[e.field]="date")}});return b}function tg(a){function b(f){if(jf(f))e[f.field]="date";else{var g;if(g="quantitative"===f.type)g=f.aggregate,g=h.isString(g)&&Bb(["min","max"],g);
g?e[f.field]="number":1<gb(f.field)?f.field in e||(e[f.field]="flatten"):Fd(f)&&pe(f.sort)&&1<gb(f.sort.field)&&(f.sort.field in e||(e[f.sort.field]="flatten"))}}const e={};(Lf(a)||ih(a))&&a.forEachFieldDef((f,g)=>{Hc(f)?b(f):(g=R(g),g=a.fieldDef(g),b(Object.assign({},f,{type:g.type})))});if(Lf(a)){const {mark:f,markDef:g,encoding:p}=a;if(Va(f)&&!a.encoding.order){const C=p["horizontal"===g.orient?"y":"x"];!Ka(C)||"quantitative"!==C.type||C.field in e||(e[C.field]="number")}}return e}function zg(a){return a instanceof
ea||a instanceof x||a instanceof T}function Kf(a){return a.stack.stackBy.reduce((b,e)=>{(e=kc(e.fieldDef))&&b.push(e);return b},[])}function ne(a){return h.isArray(a)&&a.every(b=>h.isString(b))&&1<a.length}function wf(a){function b(e){if(!(e instanceof c)){const f=e.clone();if(f instanceof Pg){const g="scale_"+f.getSource();f.setSource(g);a.model.component.data.outputNodes[g]=f}else(f instanceof zh||f instanceof Yd||f instanceof fe||f instanceof Od)&&f.addDimensions(a.fields);for(const g of e.children.flatMap(b))g.parent=
f;return[f]}return e.children.flatMap(b)}return b}function Xh(a){if(a instanceof c)if(1!==a.numChildren()||a.children[0]instanceof Pg){var b=a.model.component.data.main;Hd(b);const e=wf(a);a=a.children.map(e).flat();for(const f of a)f.parent=b}else b=a.children[0],(b instanceof zh||b instanceof Yd||b instanceof fe||b instanceof Od)&&b.addDimensions(a.fields),b.swapWithParent(),Xh(a);else a.children.map(Xh)}function Hd(a){if(a instanceof Pg&&a.type===mf.Main&&1===a.numChildren()){const b=a.children[0];
b instanceof c||(b.swapWithParent(),Hd(a))}}function jd(a){for(const b of a){for(const e of b.children)if(e.parent!==b)return!1;if(!jd(b.children))return!1}return!0}function zd(a,b){let e=!1;for(const f of b)e=a.optimize(f)||e;return e}function pd(a,b,e){let f=a.sources,g=!1;g=zd(new Dd,f)||g;g=zd(new ld(b),f)||g;f=f.filter(p=>0<p.numChildren());g=zd(new Zf,f)||g;f=f.filter(p=>0<p.numChildren());e||(g=zd(new Qd,f)||g,g=zd(new Gc(b),f)||g,g=zd(new cd,f)||g,g=zd(new Vd,f)||g,g=zd(new qc,f)||g,g=zd(new Cc,
f)||g,g=zd(new ed,f)||g,g=zd(new sd,f)||g);a.sources=f;return g}function Ye(a){const b=a.component.scales;for(const wa of bd(b)){var e=a,f=wa,g=e.getScaleComponent(f).get("type"),{encoding:p}=e;var C=e.scaleDomain(f);var Q=e.typedFieldDef(f),Y=e.config.scale;if("unaggregated"===C){const {valid:db,reason:pb}=eg(Q,g);db||(K(pb),C=void 0)}else void 0===C&&Y.useUnaggregatedDomain&&({valid:Q}=eg(Q,g),Q&&(C="unaggregated"));C!==e.scaleDomain(f)&&(e.specifiedScales[f]=Object.assign({},e.specifiedScales[f],
{domain:C}));e="x"===f&&ve(p.x2)?ve(p.x)?vf(qg(g,C,e,"x"),qg(g,C,e,"x2"),"domain","scale",Gk):qg(g,C,e,"x2"):"y"===f&&ve(p.y2)?ve(p.y)?vf(qg(g,C,e,"y"),qg(g,C,e,"y2"),"domain","scale",Gk):qg(g,C,e,"y2"):qg(g,C,e,f);b[wa].setWithExplicit("domains",e);C=f=void 0;g=a.component.scales[wa];Q=a.specifiedScales[wa].domain;p=null==(C=a.fieldDef(wa))?void 0:C.bin;C=(null==Q?void 0:Q.param)&&Q;p=h.isObject(p)&&Sb(p.extent)&&p.extent;(C||p)&&g.set("selectionExtent",null!=(f=C)?f:p,!0);if(a.component.data.isFaceted){for(f=
a;!ih(f)&&f.parent;)f=f.parent;if("shared"===f.component.resolve.scale[wa])for(const db of e.value)sc(db)&&(db.data="scale_"+db.data.replace("scale_",""))}}}function Rf(a){for(var b of a.children){var e=b;Lf(e)?Ye(e):Rf(e)}e=a.component.scales;for(const g of bd(e)){let p;b=null;for(const C of a.children){var f=C.component.scales[g];f&&(p=void 0===p?f.getWithExplicit("domains"):vf(p,f.getWithExplicit("domains"),"domains","scale",Gk),f=f.get("selectionExtent"),b&&f&&b.param!==f.param&&K("The same selection must be used to override scale domains in a layered view."),
b=f)}e[g].setWithExplicit("domains",p);b&&e[g].set("selectionExtent",b,!0)}}function Ef(a,b,e){return a.map(f=>({signal:`{data: ${Dg(f,{timeUnit:e,type:b})}}`}))}function Sf(a,b,e){let f;e=null==(f=Wc(e))?void 0:f.unit;return"temporal"===b||e?Ef(a,b,e):[a]}function qg(a,b,e,f){const {encoding:g,markDef:p,mark:C,config:Q,stack:Y}=e;var wa=ve(g[f]),{type:db}=wa;const pb=wa.timeUnit;if(null==b?0:b.unionWith)return f=qg(a,void 0,e,f),wa=Sf(b.unionWith,db,pb),Gg([...wa,...f.value]);if(Jb(b))return Gg([b]);
if(b&&"unaggregated"!==b&&(null==b||!b.param))return Gg(Sf(b,db,pb));if(Y&&f===Y.fieldChannel){if("normalize"===Y.offset)return Me([[0,1]]);wa=e.requestDataName(mf.Main);return Me([{data:wa,field:e.vgField(f,{suffix:"start"})},{data:wa,field:e.vgField(f,{suffix:"end"})}])}const bc=Mh[f]&&Ka(wa)?cm(e,f,a):void 0;if(nb(wa))return f=Sf([wa.datum],db,pb),Me(f);if("unaggregated"===b)return f=e.requestDataName(mf.Main),{field:wa}=wa,Me([{data:f,field:kc({field:wa,aggregate:"min"})},{data:f,field:kc({field:wa,
aggregate:"max"})}]);if(xb(wa.bin)){if(Ke(a))return"bin-ordinal"===a?Me([]):Me([{data:lc(bc)?e.requestDataName(mf.Main):e.requestDataName(mf.Raw),field:e.vgField(f,Mf(wa,f)?{binSuffix:"range"}:{}),sort:!0!==bc&&h.isObject(bc)?bc:{field:e.vgField(f,{}),op:"min"}}]);({bin:b}=wa);if(xb(b)){const Fc=me(e,wa.field,b);return Me([new Rd(()=>{const fc=e.getSignalName(Fc);return`[${fc}.start, ${fc}.stop]`})])}return Me([{data:e.requestDataName(mf.Main),field:e.vgField(f,{})}])}return wa.timeUnit&&Bb(["time",
"utc"],a)&&(db=g[z(f)],J(wa,db,p,Q))?(b=e.requestDataName(mf.Main),wa=l({fieldDef:wa,fieldDef2:db,markDef:p,config:Q}),wa=dc(C)&&.5!==wa&&H(f),Me([{data:b,field:e.vgField(f,wa?{suffix:"offsetted_rect_start"}:{})},{data:b,field:e.vgField(f,{suffix:wa?"offsetted_rect_end":"end"})}])):bc?Me([{data:lc(bc)?e.requestDataName(mf.Main):e.requestDataName(mf.Raw),field:e.vgField(f),sort:bc}]):Me([{data:e.requestDataName(mf.Main),field:e.vgField(f)}])}function Vh(a,b){const {op:e,field:f,order:g}=a;return Object.assign({},
{op:null!=e?e:b?"sum":"min"},f?{field:cb(f)}:{},g?{order:g}:{})}function cm(a,b,e){if(Ke(e)){var f=a.fieldDef(b);e=f.sort;if(ue(e))return{op:"min",field:Ri(f,b),order:"ascending"};({stack:f}=a);var g=f?new Set([...f.groupbyFields,...f.stackBy.map(p=>p.fieldDef.field)]):void 0;if(pe(e))return a=f&&!g.has(e.field),Vh(e,a);if(null!=e&&e.encoding){const {encoding:p,order:C}=e;a=a.fieldDef(p);const {aggregate:Q,field:Y}=a;b=f&&!g.has(Y);if(ja(Q)||Ba(Q))return Vh({field:kc(a),order:C},b);if(Na(Q)||!Q)return Vh({op:Q,
field:Y,order:C},b)}else{if("descending"===e)return{op:"min",field:a.vgField(b),order:"descending"};if(Bb(["ascending",void 0],e))return!0}}}function eg(a,b){const {aggregate:e,type:f}=a;return e?h.isString(e)&&!Yk.has(e)?{valid:!1,reason:`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}:"quantitative"===f&&"log"===b?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${m(a)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${m(a)}).`}}
function Gk(a,b,e,f){if(a.explicit&&b.explicit){var g=b.value;e=`Conflicting ${f.toString()} property "${e.toString()}" (${m(a.value)} and ${m(g)}). Using the union of the two domains.`;K(e)}return{explicit:a.explicit,value:[...a.value,...b.value]}}function Hk(a){var b=$a(a.map(g=>sc(g)?(g=Object.assign({},g),delete g.sort,g):g),Ub),e=$a(a.map(g=>{if(sc(g))return g=g.sort,void 0===g||lc(g)||("op"in g&&"count"===g.op&&delete g.field,"ascending"===g.order&&delete g.order),g}).filter(g=>void 0!==g),
Ub);if(0!==b.length){if(1===b.length){b=a[0];if(sc(b)&&0<e.length){var f=e[0];1<e.length?(K("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=e.filter(g=>h.isObject(g)&&"op"in g&&"min"!==g.op),f=e.every(g=>h.isObject(g)&&"op"in g)&&1===f.length?f[0]:!0):h.isObject(f)&&"field"in f&&b.field===f.field&&(f=f.order?{order:f.order}:!0);return Object.assign({},b,{sort:f})}return b}e=$a(e.map(g=>{if(lc(g)||!("op"in g)||h.isString(g.op)&&g.op in Ul)return g;K(`Dropping sort property ${m(g)} as unioned domains only support boolean or op "count", "min", and "max".`);
return!0}),Ub);1===e.length?f=e[0]:1<e.length&&(K("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=!0);e=$a(a.map(g=>sc(g)?g.data:null),g=>g);return 1===e.length&&null!==e[0]?Object.assign({},{data:e[0],fields:b.map(g=>g.field)},f?{sort:f}:{}):Object.assign({},{fields:b},f?{sort:f}:{})}}function dk(a){if(sc(a)&&h.isString(a.field))return a.field;var b=h.isArray(a)?!1:"fields"in a&&!("data"in a);if(b){let e;for(const f of a.fields)if(sc(f)&&h.isString(f.field))if(!e)e=
f.field;else if(e!==f.field)return K("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),e;K("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return e}b=h.isArray(a)?!1:
"fields"in a&&"data"in a;if(b)return K("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),a=a.fields[0],h.isString(a)?a:void 0}function Ui(a,b){b=a.component.scales[b].get("domains").map(e=>{sc(e)&&(e.data=a.lookupDataSource(e.data));return e});return Hk(b)}function nl(a){return Ti(a)||Tk(a)?a.children.reduce((b,e)=>b.concat(nl(e)),Ik(a)):Ik(a)}function Ik(a){return bd(a.component.scales).reduce((b,
e)=>{var f=a.component.scales[e];if(f.merged)return b;var g=f.combine(),p=Object.assign({},g);const C=g.name,Q=g.type;var Y=g.selectionExtent;const wa=g.reverse;p=(delete p.name,delete p.type,delete p.selectionExtent,delete p.domains,delete p.range,delete p.reverse,p);g=g.range;H(e)?Lb(g)&&(g={step:{signal:`${C}_step`}}):h.isObject(g)&&sc(g)&&(g=Object.assign({},g,{data:a.lookupDataSource(g.data)}));e=Ui(a,e);Y?(Y=ej(a,Y.param,Y),f={signal:Ed(f.get("type"))&&h.isArray(e)&&e[0]>e[1]?`isValid(${Y}) && reverse(${Y})`:
Y}):f=null;b.push(Object.assign({},{name:C,type:Q},e?{domain:e}:{},f?{domainRaw:f}:{},{range:g},void 0!==wa?{reverse:wa}:{},p));return b},[])}function Ij(a,b){var e=a.fieldDef(b);if(null==e?0:e.bin){const {bin:f,field:g}=e;e=N(b);const p=a.getName(e);if(h.isObject(f)&&f.binned&&void 0!==f.step)return new Rd(()=>{var C=a.scaleName(b);C=`(domain("${C}")[1] - domain("${C}")[0]) / ${f.step}`;return`${a.getSignalName(p)} / (${C})`});if(xb(f)){const C=me(a,g,f);return new Rd(()=>{var Q=a.getSignalName(C);
Q=`(${Q}.stop - ${Q}.start) / ${Q}.step`;return`${a.getSignalName(p)} / (${Q})`})}}}function Yh(a,b){const e=b.specifiedScales[a];var {size:f}=b,g=b.getScaleComponent(a).get("type");for(var p of df)if(void 0!==e[p]){const Y=ze(g,p),wa=ie(a,p);if(Y)if(wa)K(wa);else switch(p){case "range":g=e.range;if(h.isArray(g)){if(H(a))return Gg(g.map(db=>{if("width"===db||"height"===db){db=b.getName(db);const pb=b.getSignalName.bind(b);return Rd.fromName(pb,db)}return db}))}else if(h.isObject(g))return Gg({data:b.requestDataName(mf.Main),
field:g.field,sort:{op:"min",field:b.vgField(a)}});return Gg(g);case "scheme":return Gg(Nh(e[p]))}else K(md(g,p,a))}p="x"===a||"xOffset"===a?"width":"height";f=f[p];if(we(f))if(H(a))if(Ke(g)){if(f=Jj(f,b,a))return Gg({step:f})}else K(ad(p));else if(a in Wi&&"band"===b.getScaleComponent("xOffset"===a?"x":"y").get("type")&&(f=Tj(f,g)))return Gg(f);const {rangeMin:C,rangeMax:Q}=e;a=Ll(a,b);return(void 0!==C||void 0!==Q)&&ze(g,"rangeMin")&&h.isArray(a)&&2===a.length?Gg([null!=C?C:a[0],null!=Q?Q:a[1]]):
Me(a)}function Nh(a){return!h.isString(a)&&a.name?Object.assign({},{scheme:a.name},Zb(a,["name"])):{scheme:a}}function kl(a,b,e){let {center:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};var g=N(a);g=b.getName(g);const p=b.getSignalName.bind(b);return"y"===a&&Ed(e)?f?[Rd.fromName(C=>`${p(C)}/2`,g),Rd.fromName(C=>`-${p(C)}/2`,g)]:[Rd.fromName(p,g),0]:f?[Rd.fromName(C=>`-${p(C)}/2`,g),Rd.fromName(C=>`${p(C)}/2`,g)]:[0,Rd.fromName(p,g)]}function Ll(a,b){const {size:e,config:f,mark:g,encoding:p}=
b;var {type:C}=ve(p[a]);const Q=b.getScaleComponent(a).get("type"),{domain:Y,domainMid:wa}=b.specifiedScales[a];switch(a){case "x":case "y":return Bb(["point","band"],Q)&&(C=Zj(a,e,f.view),we(C))?{step:Jj(C,b,a)}:kl(a,b,Q);case "xOffset":case "yOffset":return rf(a,b,Q);case "size":C=b.component.scales[a].get("zero");C=ki(g,C,f);const db=Di(g,e,b,f);return ai.has(Q)?Ci(C,db,ak(Q,f,Y,a)):[C,db];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Rd(()=>{const pb=b.getSignalName("width"),
bc=b.getSignalName("height");return`min(${pb},${bc})/2`})];case "strokeWidth":return[f.scale.minStrokeWidth,f.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===Q?"nominal"===C?"category":"ordinal":void 0!==wa?"diverging":"rect"===g||"geoshape"===g?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[f.scale.minOpacity,f.scale.maxOpacity]}}function Jj(a,b,e){var {encoding:f}=
b,g=b.getScaleComponent(e);e=D(e);const p=f[e];if("offset"===nf({step:a,offsetIsDiscrete:tc(p)&&Pe(p.type)})&&bg(f,e)){f=b.getScaleComponent(e);b=`domain('${b.scaleName(e)}').length`;if("band"===f.get("type")){var C;let wa;e=null!=(wa=null!=(C=f.get("paddingInner"))?C:f.get("padding"))?wa:0;var Q;let db;C=null!=(db=null!=(Q=f.get("paddingOuter"))?Q:f.get("padding"))?db:0;b=`bandspace(${b}, ${e}, ${C})`}var Y;Q=null!=(Y=g.get("paddingInner"))?Y:g.get("padding");a=a.step;g=b;Y=Q;Y=Jb(Y)?Y.signal:h.stringValue(Y);
return{signal:`${a} * ${g} / (1-${Y})`}}return a.step}function Tj(a,b){if("offset"===nf({step:a,offsetIsDiscrete:Ke(b)}))return{step:a.step}}function rf(a,b,e){var f="xOffset"===a?"x":"y",g=b.getScaleComponent(f);if(!g)return kl(f,b,e,{center:!0});g=g.get("type");const p=b.scaleName(f),{markDef:C,config:Q}=b;if("band"===g)return b=Zj(f,b.size,b.config.view),we(b)&&(b=Tj(b,e))?b:[0,{signal:`bandwidth('${p}')`}];e=b.encoding[f];return Ka(e)&&e.timeUnit?(a=ud(e.timeUnit,Y=>`scale('${p}', ${Y})`),b=b.config.scale.bandWithNestedOffsetPaddingInner,
f=l({fieldDef:e,markDef:C,config:Q})-.5,g=0!==f?` + ${f}`:"",b?(e=Jb(b)?`${b.signal}/2`+g:`${b/2+f}`,b=Jb(b)?`(1 - ${b.signal}/2)`+g:`${1-b/2+f}`,[{signal:`${e} * (${a})`},{signal:`${b} * (${a})`}]):[0,{signal:a}]):zb(`Cannot use ${a} scale if ${f} scale is not discrete.`)}function Zj(a,b,e){a="x"===a?"width":"height";return(b=b[a])?b:Nf(e,a)}function ak(a,b,e,f){switch(a){case "quantile":return b.scale.quantileCount;case "quantize":return b.scale.quantizeCount;case "threshold":if(void 0!==e&&h.isArray(e))return e.length+
1;K(`Domain for ${f} is required for threshold scale.`);return 3}}function Ci(a,b,e){const f=()=>{const g=Gb(b),p=Gb(a),C=`(${g} - ${p}) / (${e} - 1)`;return`sequence(${p}, ${g} + ${C}, ${C})`};return Jb(b)?new Rd(f):{signal:f()}}function ki(a,b,e){if(b)return Jb(b)?{signal:`${b.signal} ? 0 : ${ki(a,!1,e)}`}:0;switch(a){case "bar":case "tick":return e.scale.minBandSize;case "line":case "trail":case "rule":return e.scale.minStrokeWidth;case "text":return e.scale.minFontSize;case "point":case "square":case "circle":return e.scale.minSize}throw Error(Pc("size",
a));}function Di(a,b,e,f){e={x:Ij(e,"x"),y:Ij(e,"y")};switch(a){case "bar":case "tick":if(void 0!==f.scale.maxBandSize)return f.scale.maxBandSize;const g=kj(b,e,f.view);return h.isNumber(g)?g-1:new Rd(()=>`${g.signal} - 1`);case "line":case "trail":case "rule":return f.scale.maxStrokeWidth;case "text":return f.scale.maxFontSize;case "point":case "square":case "circle":if(f.scale.maxSize)return f.scale.maxSize;const p=kj(b,e,f.view);return h.isNumber(p)?Math.pow(.95*p,2):new Rd(()=>`pow(${.95} * ${p.signal}, 2)`)}throw Error(Pc("size",
a));}function kj(a,b,e){const f=we(a.width)?a.width.step:Vf(e,"width"),g=we(a.height)?a.height.step:Vf(e,"height");return b.x||b.y?new Rd(()=>`min(${[b.x?b.x.signal:f,b.y?b.y.signal:g].join(", ")})`):Math.min(f,g)}function lj(a,b){if(Lf(a)){const C=a.component.scales,{config:Q,encoding:Y,markDef:wa,specifiedScales:db}=a;for(const pb of bd(C)){var e=db[pb];const bc=C[pb];var f=a.getScaleComponent(pb),g=ve(Y[pb]),p=e[b];const Fc=f.get("type"),fc=f.get("padding");f=f.get("paddingInner");const Ec=ze(Fc,
b),Qc=ie(pb,b);void 0!==p&&(Ec?Qc&&K(Qc):K(md(Fc,b,pb)));if(Ec&&void 0===Qc)if(void 0!==p)switch(p=g.timeUnit,g=g.type,b){case "domainMax":case "domainMin":t(e[b])||"temporal"===g||p?bc.set(b,{signal:Dg(e[b],{type:g,timeUnit:p})},!0):bc.set(b,e[b],!0);break;default:bc.copyKeyFromObject(b,e)}else e=b in pi?pi[b]({model:a,channel:pb,fieldOrDatumDef:g,scaleType:Fc,scalePadding:fc,scalePaddingInner:f,domain:e.domain,domainMin:e.domainMin,domainMax:e.domainMax,markDef:wa,config:Q,hasNestedOffsetScale:Tg(Y,
pb),hasSecondaryRangeChannel:!!Y[z(pb)]}):Q.scale[b],void 0!==e&&bc.set(b,e,!1)}}else ml(a,b)}function li(a){if(Lf(a)){const b=a.component.scales;for(const e of Bk){const f=b[e];if(!f)continue;const g=Yh(e,a);f.setWithExplicit("range",g)}}else ml(a,"range")}function ml(a,b){const e=a.component.scales;for(var f of a.children)"range"===b?li(f):lj(f,b);for(const g of bd(e)){let p;for(const C of a.children)if(f=C.component.scales[g])f=f.getWithExplicit(b),p=vf(p,f,b,"scale",Ih((Q,Y)=>{switch(b){case "range":if(Q.step&&
Y.step)return Q.step-Y.step}return 0}));e[g].setWithExplicit(b,p)}}function mj(a,b){const e=b.bin;if(xb(e)){const f=me(a,b.field,e);return new Rd(()=>a.getSignalName(f))}if(kb(e)&&h.isObject(e)&&void 0!==e.step)return{step:e.step}}function bk(a,b,e,f,g){let p=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a){if(H(b)){const {bandPaddingInner:C,barBandPaddingInner:Q,rectBandPaddingInner:Y,bandWithNestedOffsetPaddingInner:wa}=g;return p?wa:V(C,"bar"===e?Q:Y)}if(b in Wi&&f===gg.BAND)return g.offsetBandPaddingInner}}
function ck(a,b,e,f,g){let p=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a)if(H(b)){const {bandPaddingOuter:C,bandWithNestedOffsetPaddingOuter:Q}=g;if(p)return Q;if(e===gg.BAND)return V(C,Jb(f)?{signal:`${f.signal}/2`}:f/2)}else if(b in Wi){if(e===gg.POINT)return.5;if(e===gg.BAND)return g.offsetBandPaddingOuter}}function Ei(a,b,e,f){const g=Jk(b,e,f,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:p}=a;if(!Mh[b])return null;if(void 0!==p){if(!Ca(b,p))return K(`Channel "${b}" does not work with "${p}" scale. We are using "${g}" scale instead.`),
g;var C;if(C=Ka(e))C=e.type,C=!(Bb(["ordinal","nominal"],C)?void 0===p||Ke(p):"temporal"===C?Bb([gg.TIME,gg.UTC,void 0],p):"quantitative"===C?ni.has(p)||ai.has(p)||void 0===p:1);return C?(K(`FieldDef does not work with "${p}" scale. We are using "${g}" scale instead.`),g):p}return g}function Jk(a,b,e,f){switch(b.type){case "nominal":case "ordinal":if(L(a)||"discrete"===P(a))return"shape"===a&&"ordinal"===b.type&&K(hd(a,"ordinal")),"ordinal";if(H(a)||a in Wi){if(Bb(["rect","bar","image","rule"],e.type)||
f)return"band"}else if("arc"===e.type&&a in ik)return"band";a=e[N(a)];if(fd(a))return"band";let g;return od(b)&&(null==(g=b.axis)?0:g.tickBand)?"band":"point";case "temporal":if(!L(a)){if("discrete"===P(a))return K(hd(a,"temporal")),"ordinal";if(Ka(b)&&b.timeUnit&&Wc(b.timeUnit).utc)return"utc"}return"time";case "quantitative":if(L(a)){if(Ka(b)&&xb(b.bin))return"bin-ordinal"}else if("discrete"===P(a))return K(hd(a,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${b.type}".`);
}function ek(a){let {ignoreRange:b}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};gj(a);Lf(a)?Ye(a):Rf(a);for(const e of lk)lj(a,e);b||li(a)}function gj(a){if(Lf(a)){var b=a.component;const {encoding:Y,mark:wa,markDef:db}=a;var e={};for(var f of Bk){var g=ve(Y[f]);if(!g||wa!==qi||"shape"!==f||"geojson"!==g.type){var p=g&&g.scale;if(g&&null!==p&&!1!==p){null!=p||(p={});var C=Tg(Y,f);g=Ei(p,f,g,db,C);e[f]=new ug(a.scaleName(`${f}`,!0),{value:g,explicit:p.type===g})}}}b.scales=e}else{f=a.component;
p=a.component.scales={};g={};const Y=a.component.resolve;for(C of a.children){gj(C);for(var Q of bd(C.component.scales)){let wa,db;null!=(wa=Y.scale)[db=Q]||(wa[db]=ii(Q,a));if("shared"===Y.scale[Q]){const pb=g[Q],bc=C.component.scales[Q].getWithExplicit("type");if(pb){const Fc=Bg[pb.value],fc=Bg[bc.value];Fc===fc||"ordinal-position"===Fc&&"time"===fc||"ordinal-position"===fc&&"time"===Fc?g[Q]=vf(pb,bc,"type","scale",Wl):(Y.scale[Q]="independent",delete g[Q])}else g[Q]=bc}}}for(b of bd(g)){C=a.scaleName(b,
!0);p[b]=new ug(C,g[b]);for(e of a.children)if(Q=e.component.scales[b])e.renameScale(Q.get("name"),C),Q.merged=!0}f.scales=p}}function Lf(a){return"unit"===(null==a?void 0:a.type)}function ih(a){return"facet"===(null==a?void 0:a.type)}function Tk(a){return"concat"===(null==a?void 0:a.type)}function Ti(a){return"layer"===(null==a?void 0:a.type)}function yk(a){function b(f,g){f instanceof ea&&!(f.isGenerator||"url"in f.data)&&(a.push(g),g={name:null,source:g.name,transform:[]});if(f instanceof d)if(f.parent instanceof
ea&&!g.source){var p;g.format=Object.assign({},null!=(p=g.format)?p:{},{parse:f.assembleFormatParse()});g.transform.push(...f.assembleTransforms(!0))}else g.transform.push(...f.assembleTransforms());if(f instanceof c)g.name||(g.name=`data_${e++}`),!g.source||0<g.transform.length?(a.push(g),f.data=g.name):f.data=g.source,a.push(...f.assemble());else switch((f instanceof x||f instanceof T||f instanceof Gl||f instanceof wi||f instanceof Ni||f instanceof Hl||f instanceof zh||f instanceof Il||f instanceof
fe||f instanceof Od||f instanceof mm||f instanceof nm||f instanceof om||f instanceof pm||f instanceof qm||f instanceof rm||f instanceof k||f instanceof sm||f instanceof tm||f instanceof um)&&g.transform.push(f.assemble()),(f instanceof Bi||f instanceof xh||f instanceof Ek||f instanceof Yd||f instanceof jl)&&g.transform.push(...f.assemble()),f instanceof Pg&&(g.source&&0===g.transform.length?f.setSource(g.source):f.parent instanceof Pg?f.setSource(g.name):(g.name||(g.name=`data_${e++}`),f.setSource(g.name),
1===f.numChildren()&&(a.push(g),g={name:null,source:g.name,transform:[]}))),f.numChildren()){case 0:f instanceof Pg&&(!g.source||0<g.transform.length)&&a.push(g);break;case 1:b(f.children[0],g);break;default:g.name||(g.name=`data_${e++}`);p=g.name;!g.source||0<g.transform.length?a.push(g):p=g.source;for(const C of f.children)b(C,{name:null,source:p,transform:[]})}}let e=0;return b}function Xj(a){const b=[],e=yk(b);for(const f of a.children)e(f,{source:a.name,name:null,transform:[]});return b}function zk(a,
b){const e=[];var f=yk(e);let g=0;for(const p of a.sources){p.hasName()||(p.dataName=`source_${g++}`);const C=p.assemble();f(p,C)}for(const p of e)0===p.transform.length&&delete p.transform;f=0;for(const p of e.entries()){const [C,Q]=p;let Y;0!==(null!=(Y=Q.transform)?Y:[]).length||Q.source||e.splice(f++,0,e.splice(C,1)[0])}for(const p of e){let C;for(const Q of null!=(C=p.transform)?C:[])"lookup"===Q.type&&(Q.from=a.outputNodes[Q.from].getSource())}for(const p of e)p.name in b&&(p.values=b[p.name]);
return e}function Qk(a,b,e){b="row"===b?"height":"width";return{labels:e,sizeSignal:a.child.component.layoutSize.get(b)?a.child.getSizeSignalRef(b):void 0,axes:[]}}function Bl(a,b){var {child:e}=a;if(e.component.axes[b]){const {layoutHeaders:f,resolve:g}=a.component;g.axis[b]=n(g,b);if("shared"===g.axis[b]){const p="x"===b?"column":"row",C=f[p];for(const Q of e.component.axes[b]){b=Q.get("orient");b="top"===b||"left"===b||Jb(b)?"header":"footer";let Y,wa;null!=(Y=C)[wa=b]||(Y[wa]=[Qk(a,p,!1)]);(e=
hh(Q,"main",a.config,{header:!0}))&&C[b][0].axes.push(e);Q.mainExtracted=!0}}}}function Rk(a){for(const b of a.children)b.parseLayoutSize()}function Ak(a,b){const e=Xi(b),f=W(e),g=a.component.resolve,p=a.component.layoutSize;let C;for(const Q of a.children){const Y=Q.component.layoutSize.getWithExplicit(e);let wa;const db=null!=(wa=g.scale[f])?wa:ii(f,a);if("independent"===db&&"step"===Y.value){C=void 0;break}if(C){if("independent"===db&&C.value!==Y.value){C=void 0;break}C=vf(C,Y,e,"")}else C=Y}if(C){for(const Q of a.children)a.renameSignal(Q.getName(e),
a.getName(b)),Q.component.layoutSize.set(e,"merged",!1);p.setWithExplicit(b,C)}else p.setWithExplicit(b,{explicit:!1,value:void 0})}function Pk(a,b){const e=a.config;var f=a.getScaleComponent("width"===b?"x":"y");if(f)return a=f.get("type"),f=f.get("range"),Ke(a)?(b=Nf(e.view,b),Lb(f)||we(b)?"step":b):of(e.view,b);if(a.hasProjection||"arc"===a.mark)return of(e.view,b);b=Nf(e.view,b);return we(b)?b.step:b}function dl(a,b,e){return kc(b,Object.assign({},{suffix:`by_${kc(a)}`},null!=e?e:{}))}function pl(a,
b){for(const f of b){b=f.data;if(a.name&&f.hasName()&&a.name!==f.dataName)continue;let g;const p=null==(g=a.format)?void 0:g.mesh;let C;var e=null==(C=b.format)?void 0:C.feature;if(p&&e)continue;let Q;const Y=null==(Q=a.format)?void 0:Q.feature;if((Y||e)&&Y!==e)continue;let wa;e=null==(wa=b.format)?void 0:wa.mesh;if(!p&&!e||p===e)if("values"in a&&"values"in b){if(sa(a.values,b.values))return f}else if("url"in a&&"url"in b){if(a.url===b.url)return f}else if(Mi(a)&&a.name===f.dataName)return f}return null}
function dm(a,b){if(a.data||!a.parent){if(null===a.data)return a=new ea({values:[]}),b.push(a),a;const e=pl(a.data,b);if(e)return pg(a.data)||(e.data.format=Ea({},a.data.format,e.data.format)),!e.hasName()&&a.data.name&&(e.dataName=a.data.name),e;a=new ea(a.data);b.push(a);return a}return a.parent.component.data.facetRoot?a.parent.component.data.facetRoot:a.parent.component.data.main}function jk(a){var b=dm(a,a.component.data.sources);const {outputNodes:e,outputNodeRefCounts:f}=a.component.data;var g=
a.data;const p=g&&(pg(g)||"url"in g||"values"in g)||!a.parent?new Rj:a.parent.component.data.ancestorParse.clone();if(pg(g))"sequence"in g?b=new T(b,g.sequence):"graticule"in g&&(b=new x(b,g.graticule)),p.parseNothing=!0;else{let Md;null===(null==g?void 0:null==(Md=g.format)?void 0:Md.parse)&&(p.parseNothing=!0)}var C;b=null!=(C=d.makeExplicit(b,a,p))?C:b;b=new k(b);g=a.parent&&Ti(a.parent);if((Lf(a)||ih(a))&&g){var Q;b=null!=(Q=Bi.makeFromEncoding(b,a))?Q:b}if(0<a.transforms.length){Q=0;for(var Y of a.transforms){var wa=
C=void 0;if("calculate"in Y)wa=b=new Ni(b,Y),C="derived";else if("filter"in Y){wa=sg(Y);var db=void 0;wa=b=null!=(db=d.makeWithAncestors(b,{},wa,p))?db:b;b=new wi(b,a,Y.filter)}else if("bin"in Y)wa=b=Bi.makeFromTransform(b,Y,a),C="number";else if("timeUnit"in Y)C="date",void 0===p.getWithExplicit(Y.field).value&&(b=new d(b,{[Y.field]:C}),p.set(Y.field,C,!1)),wa=b=xh.makeFromTransform(b,Y);else if("aggregate"in Y)wa=b=zh.makeFromTransform(b,Y),C="number",zf(a)&&(b=new k(b));else if("lookup"in Y)wa=
b=Il.make(b,a,Y,Q++),C="derived";else if("window"in Y)wa=b=new fe(b,Y),C="number";else if("joinaggregate"in Y)wa=b=new Od(b,Y),C="number";else if("stack"in Y)wa=b=Yd.makeFromTransform(b,Y),C="derived";else if("fold"in Y)wa=b=new mm(b,Y),C="derived";else if("extent"in Y&&!("density"in Y))wa=b=new um(b,Y),C="derived";else if("flatten"in Y)wa=b=new nm(b,Y),C="derived";else if("pivot"in Y)wa=b=new tm(b,Y),C="derived";else if("sample"in Y)b=new sm(b,Y);else if("impute"in Y)wa=b=Ek.makeFromTransform(b,
Y),C="derived";else if("density"in Y)wa=b=new om(b,Y),C="derived";else if("quantile"in Y)wa=b=new qm(b,Y),C="derived";else if("regression"in Y)wa=b=new rm(b,Y),C="derived";else if("loess"in Y)wa=b=new pm(b,Y),C="derived";else{K(`Ignoring an invalid transform: ${m(Y)}.`);continue}if(wa&&void 0!==C){let Md;for(const re of null!=(Md=wa.producedFields())?Md:[])p.set(re,C,!1)}}}Y={};if(Lf(a)&&a.component.selection)for(var pb of bd(a.component.selection)){db=a.component.selection[pb];for(const Md of db.project.items)!Md.channel&&
1<gb(Md.field)&&(Y[Md.field]="flatten")}pb=tg(a);var bc;b=null!=(bc=d.makeWithAncestors(b,{},Object.assign({},Y,pb),p))?bc:b;Lf(a)&&(b=jl.parseAll(b,a),b=Hl.parseAll(b,a));if(Lf(a)||ih(a)){if(!g){let Md;b=null!=(Md=Bi.makeFromEncoding(b,a))?Md:b}var Fc;b=null!=(Fc=xh.makeFromEncoding(b,a))?Fc:b;b=Ni.parseAllForSortIndex(b,a)}Fc=a.getDataName(mf.Raw);bc=new Pg(b,Fc,mf.Raw,f);b=e[Fc]=bc;if(Lf(a)){if(Fc=zh.makeFromEncoding(b,a))b=Fc,zf(a)&&(b=new k(b));var fc;b=null!=(fc=Ek.makeFromEncoding(b,a))?fc:
b;var Ec;b=null!=(Ec=Yd.makeFromEncoding(b,a))?Ec:b}if(Lf(a)){let Md;b=null!=(Md=Gl.make(b,a))?Md:b}Ec=a.getDataName(mf.Main);fc=new Pg(b,Ec,mf.Main,f);b=e[Ec]=fc;if(Lf(a)){var Qc;for(var Tc of Gi(null!=(Qc=a.component.selection)?Qc:{})){const [Md,re]=Tc;Qc=a.getName(`lookup_${Md}`);a.component.data.outputNodes[Qc]=re.materialized=new Pg(new wi(fc,a,{param:Md}),Qc,mf.Lookup,a.component.data.outputNodeRefCounts)}}Qc=null;if(ih(a)){Tc=a.getName("facet");let Md;{Qc=b;const {row:re,column:De}=a.facet;
if(re&&De){Ec=null;for(Ud of[re,De])if(pe(Ud.sort)){const {field:Jf,op:Qf="min"}=Ud.sort;Qc=Ec=new Od(Qc,{joinaggregate:[{op:Qf,field:Jf,as:dl(Ud,Ud.sort,{forAs:!0})}],groupby:[kc(Ud)]})}var Ud=Ec}else Ud=null}b=null!=(Md=Ud)?Md:b;Qc=new c(b,a,Tc,fc.getSource());e[Tc]=Qc}return Object.assign({},a.component.data,{outputNodes:e,outputNodeRefCounts:f,raw:bc,main:fc,facetRoot:Qc,ancestorParse:p})}function em(a,b,e){const {encoding:f,config:g}=a;let p;const C=null!=(p=ve(f[b]))?p:ve(f[z(b)]);a=a.axis(b)||
{};const {format:Q,formatType:Y}=a;if(se(Y))return Object.assign({},{text:he({fieldOrDatumDef:C,field:"datum.value",format:Q,formatType:Y,config:g})},e);if(void 0===Q&&void 0===Y&&g.customFormatTypes){if("quantitative"===rb(C)){if(od(C)&&"normalize"===C.stack&&g.normalizedNumberFormatType)return Object.assign({},{text:he({fieldOrDatumDef:C,field:"datum.value",format:g.normalizedNumberFormat,formatType:g.normalizedNumberFormatType,config:g})},e);if(g.numberFormatType)return Object.assign({},{text:he({fieldOrDatumDef:C,
field:"datum.value",format:g.numberFormat,formatType:g.numberFormatType,config:g})},e)}if("temporal"===rb(C)&&g.timeFormatType&&Ka(C)&&!C.timeUnit)return Object.assign({},{text:he({fieldOrDatumDef:C,field:"datum.value",format:g.timeFormat,formatType:g.timeFormatType,config:g})},e)}return e}function rl(a){return Ph.reduce((b,e)=>{a.component.scales[e]&&(b[e]=[hm(e,a)]);return b},{})}function fm(a,b){if(a){if(a.length!==b.length)return;const e=a.length;for(let f=0;f<e;f++){const g=a[f],p=b[f];if(!!g!==
!!p)return;if(g&&p){const C=g.getWithExplicit("orient"),Q=p.getWithExplicit("orient");if(C.explicit&&Q.explicit&&C.value!==Q.value)return;a[f]=gm(g,p)}}}else return b.map(e=>e.clone());return a}function gm(a,b){for(const e of Am){const f=vf(a.getWithExplicit(e),b.getWithExplicit(e),e,"axis",(g,p)=>{switch(e){case "title":return hb(g,p);case "gridScale":return{explicit:g.explicit,value:V(g.value,p.value)}}return Lg(g,p,e,"axis")});a.setWithExplicit(e,f)}return a}function Ol(a,b,e,f,g){if("disable"===
b)return void 0!==e;e=e||{};switch(b){case "titleAngle":case "labelAngle":return a===(Jb(e.labelAngle)?e.labelAngle:Ma(e.labelAngle));case "values":return!!e.values;case "encode":return!!e.encoding||!!e.labelAngle;case "title":if(a===fj(f,g))return!0}return a===e[b]}function hm(a,b){let e=b.axis(a);const f=new Bm;var g=ve(b.encoding[a]);const {mark:p,config:C}=b;var Q,Y,wa,db=(null==(Q=e)?void 0:Q.orient)||(null==(Y=C["x"===a?"axisX":"axisY"])?void 0:Y.orient)||(null==(wa=C.axis)?void 0:wa.orient)||
("x"===a?"bottom":"left");Y=b.getScaleComponent(a).get("type");Q=cl(a,Y,db,b.config);var pb;wa=void 0!==e?!e:zi("disable",C.style,null==(pb=e)?void 0:pb.style,Q).configValue;f.set("disable",wa,void 0!==e);if(wa)return f;e=e||{};pb=Vj(g,e,a,C.style,Q);wa=xf(e.formatType,g,Y);const bc=lf(g,g.type,e.format,e.formatType,C,!0);g={fieldOrDatumDef:g,axis:e,channel:a,model:b,scaleType:Y,orient:db,labelAngle:pb,format:bc,formatType:wa,mark:p,config:C};for(const Ec of Am)if(db=Ec in tk?tk[Ec](g):mg[Ec]?e[Ec]:
void 0,Y=void 0!==db,pb=Ol(db,Ec,e,b,a),Y&&pb)f.set(Ec,db,pb);else{const {configValue:Qc,configFrom:Tc}=mg[Ec]&&"values"!==Ec?zi(Ec,C.style,e.style,Q):{};wa=void 0!==Qc;Y&&!wa?f.set(Ec,db,pb):("vgAxisConfig"!==Tc||Im.has(Ec)&&wa||ag(Qc)||Jb(Qc))&&f.set(Ec,Qc,!1)}var Fc;const fc=null!=(Fc=e.encoding)?Fc:{};Fc=nk.reduce((Ec,Qc)=>{if(!f.hasAxisPart(Qc))return Ec;var Tc;const Ud=ji(null!=(Tc=fc[Qc])?Tc:{},b);Tc="labels"===Qc?em(b,a,Ud):Ud;void 0===Tc||jb(Tc)||(Ec[Qc]={update:Tc});return Ec},{});jb(Fc)||
f.set("encode",Fc,!!e.encoding||void 0!==e.labelAngle);return f}function Rl(a){let {encoding:b,size:e}=a;for(const f of Ph)a=N(f),we(e[a])&&pc(b[f])&&(delete e[a],K(ad(a)));return e}function el(a,b){var e=Object,f=e.assign,g=yf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),p=ce("x",a,{defaultPos:"mid"}),C=ce("y",a,{defaultPos:"mid"}),Q=Rc("size",a),Y=Rc("angle",a);a=b?{shape:{value:b}}:Rc("shape",a);return f.call(e,{},g,p,C,Q,Y,a)}function ql(a){if(Bb([Qg,
bi,ul],a.mark)){var b=kh(a.mark,a.encoding);if(0<b.length)return im(a,b)}else if(a.mark===Ch&&(b=Ck.some(e=>Xb(e,a.markDef,a.config)),a.stack&&!a.fieldDef("size")&&b))return Sl(a);return Sk(a)}function im(a,b){return[{name:a.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+a.requestDataName(mf.Main),data:a.requestDataName(mf.Main),groupby:b}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Sk(a,{fromPrefix:"faceted_path_"})}]}function Sl(a){const [b]=
Sk(a,{fromPrefix:"stack_group_"}),e=a.scaleName(a.stack.fieldChannel),f=function(){return a.vgField(a.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var g=(wa,db)=>{db=[f({prefix:"min",suffix:"start",expr:db}),f({prefix:"max",suffix:"start",expr:db}),f({prefix:"min",suffix:"end",expr:db}),f({prefix:"max",suffix:"end",expr:db})];return`${wa}(${db.map(pb=>`scale('${e}',${pb})`).join(",")})`};let p;"x"===a.stack.fieldChannel?(g=Object.assign({},Vb(b.encode.update,["y",
"yc","y2","height",...Ck]),{x:{signal:g("min","datum")},x2:{signal:g("max","datum")},clip:{value:!0}}),p={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},b.encode.update=Object.assign({},Zb(b.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(g=Object.assign({},Vb(b.encode.update,["x","xc","x2","width"]),{y:{signal:g("min","datum")},y2:{signal:g("max","datum")},clip:{value:!0}}),p={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},b.encode.update=Object.assign({},
Zb(b.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var C of Ck){var Q=gc(C,a.markDef,a.config);b.encode.update[C]?(g[C]=b.encode.update[C],delete b.encode.update[C]):Q&&(g[C]=Ta(Q));Q&&(b.encode.update[C]={value:0})}C=[];var Y;if(0<(null==(Y=a.stack.groupbyChannels)?void 0:Y.length))for(const wa of a.stack.groupbyChannels){Y=a.fieldDef(wa);(Q=kc(Y))&&C.push(Q);let db,pb;((null==(db=Y)?0:db.bin)||(null==(pb=Y)?0:pb.timeUnit))&&C.push(kc(Y,{binSuffix:"end"}))}g="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((wa,
db)=>{if(b.encode.update[db])return Object.assign({},wa,{[db]:b.encode.update[db]});const pb=gc(db,a.markDef,a.config);return void 0!==pb?Object.assign({},wa,{[db]:Ta(pb)}):wa},g);g.stroke&&(g.strokeForeground={value:!0},g.strokeOffset={value:0});return[{type:"group",from:{facet:{data:a.requestDataName(mf.Main),name:"stack_group_"+a.requestDataName(mf.Main),groupby:C,aggregate:{fields:[f({suffix:"start"}),f({suffix:"start"}),f({suffix:"end"}),f({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:g},
marks:[{type:"group",encode:{update:p},marks:[b]}]}]}function jm(a){const {encoding:b,stack:e,mark:f,markDef:g,config:p}=a;var C=b.order;if(!(!h.isArray(C)&&Uc(C)&&jc(C.value)||!C&&jc(Xb("order",g,p)))){if((h.isArray(C)||Ka(C))&&!e)return Kc(C,{expr:"datum"});if(Va(f)){const Q="horizontal"===g.orient?"y":"x",Y=b[Q];if(Ka(Y)){C=Y.sort;if(h.isArray(C))return{field:kc(Y,{prefix:Q,suffix:"sort_index",expr:"datum"})};if(pe(C))return{field:kc({aggregate:Af(a.encoding)?C.op:void 0,field:C.field},{expr:"datum"})};
if(null!=C&&C.encoding)return a=a.fieldDef(C.encoding),{field:kc(a,{expr:"datum"}),order:C.order};if(null!==C){let wa;return{field:kc(Y,{binSuffix:(null==(wa=a.stack)?0:wa.impute)?"mid":void 0,expr:"datum"})}}}}}}function Sk(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:e,markDef:f,encoding:g,config:p}=a;var C=f.clip;var Q=a.getScaleComponent("x");var Y=a.getScaleComponent("y");Q=(null==Q?0:Q.get("selectionExtent"))||(null==Y?0:Y.get("selectionExtent"))?
!0:void 0;Y=a.component.projection;C=V(C,Q,Y&&!Y.isFit?!0:void 0);Q=Cb(f);Y=g.key;const wa=jm(a);var db;if(a.component.selection){for(var pb=db=bd(a.component.selection).length,bc=a.parent;bc&&0===pb;)pb=bd(bc.component.selection).length,bc=bc.parent;db=pb?{interactive:0<db||"geoshape"===a.mark||!!a.encoding.tooltip}:null}else db=null;pb=Xb("aria",f,p);bc=Jl[e].postEncodingTransform?Jl[e].postEncodingTransform(a):null;return[Object.assign({},{name:a.getName("marks"),type:Jl[e].vgMark},C?{clip:!0}:
{},Q?{style:Q}:{},Y?{key:Y.field}:{},wa?{sort:wa}:{},db?db:{},!1===pb?{aria:pb}:{},{from:{data:b.fromPrefix+a.requestDataName(mf.Main)},encode:{update:Jl[e].encodeEntry(a)}},bc?{transform:bc}:{})]}function fl(a,b,e,f,g){if("facet"in a)return new Kl(a,b,e,g);if("layer"in a)return new Cm(a,b,e,f,g);if(ff(a))return new Dm(a,b,e,f,g);if("vconcat"in a||"hconcat"in a||"concat"in a)return new Jm(a,b,e,g);throw Error(za(a));}function Tl(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};
let f=3<arguments.length?arguments[3]:void 0;const g=a.config?lh(a.config):void 0;e=[].concat(a.assembleSelectionData([]),zk(a.component.data,e));const p=a.assembleProjections(),C=a.assembleTitle(),Q=a.assembleGroupStyle(),Y=a.assembleGroupEncodeEntry(!0);let wa=a.assembleLayoutSignals();wa=wa.filter(bc=>"width"!==bc.name&&"height"!==bc.name||void 0===bc.value?!0:(b[bc.name]=+bc.value,!1));var db=Object.assign({},b);const pb=b.params;db=(delete db.params,db);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},
a.description?{description:a.description}:{},db,C?{title:C}:{},Q?{style:Q}:{},Y?{encode:{update:Y}}:{},{data:e},0<p.length?{projections:p}:{},a.assembleGroup([...wa,...a.assembleSelectionTopLevelSignals([]),...Sd(pb)]),g?{config:g}:{},f?{usermeta:f}:{})}const te=structuredClone;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>m(a)).join(",")})`};const bd=Object.keys,kg=Object.values,Gi=Object.entries;let Lk=42;const Kk=Object.getPrototypeOf(structuredClone({})),fk={theta:1,theta2:1,radius:1,
radius2:1},mi={longitude:1,longitude2:1,latitude:1,latitude2:1},Pl=bd(mi),Vi=Object.assign({},{x:1,y:1,x2:1,y2:1},fk,mi,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),nj={row:1,column:1,facet:1},sh=bd(nj),Ej=Object.assign({},Vi,nj),Cl=bd(Ej);var Yj=Object.assign({},Ej),Oh=(delete Yj.order,delete Yj.detail,delete Yj.tooltip,Yj),kk=Object.assign({},
Oh);const oj=(delete kk.row,delete kk.column,delete kk.facet,kk),Mk="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),Kj=bd(Vi);var Jg=Object.assign({},Vi);const Fi=(delete Jg.x,delete Jg.y,delete Jg.x2,delete Jg.y2,delete Jg.xOffset,delete Jg.yOffset,delete Jg.latitude,delete Jg.longitude,delete Jg.latitude2,delete Jg.longitude2,delete Jg.theta,delete Jg.theta2,delete Jg.radius,delete Jg.radius2,Jg),Nk=bd(Fi),gk={x:1,y:1},Ph=bd(gk),ik={theta:1,radius:1},ol=bd(ik),Wi={xOffset:1,yOffset:1};var Zh=
Object.assign({},Fi);const gl=(delete Zh.text,delete Zh.tooltip,delete Zh.href,delete Zh.url,delete Zh.description,delete Zh.detail,delete Zh.key,delete Zh.order,Zh),hl=bd(gl),Mh=Object.assign({},gk,ik,Wi,gl),Bk=bd(Mh),Dl={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var yj=Object.assign({},Dl);const Ql=(delete yj.geoshape,yj),hk={argmax:1,
argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Ul={count:1,min:1,max:1},Vl=new Set(["count","valid","missing","distinct"]),Xk=new Set(["count","sum","distinct","valid","missing"]),Yk=new Set("mean average median q1 q3 min max".split(" ")),$k=bd({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,
strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,
width:1,height:1,url:1,smooth:1}),bm={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Ck=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Al=h.logger(h.Warn);let Ai=Al;const Qh="january february march april may june july august september october november december".split(" "),Lj=Qh.map(a=>a.substr(0,3)),$h="sunday monday tuesday wednesday thursday friday saturday".split(" "),Ok=$h.map(a=>a.substr(0,
3)),yl={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Zk=bd(yl),Uk={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},pj={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},gg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",
BAND:"band"},Bg={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},ch={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},ni=new Set(["linear",
"log","pow","sqrt","symlog"]),lg=new Set([...ni,"time","utc"]),ai=new Set(["quantile","quantize","threshold"]),Vk=new Set([...lg,...ai,"sequential","identity"]),qj=new Set(["ordinal","bin-ordinal","point","band"]);var Bh=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const mk=(delete Bh.type,
delete Bh.domain,delete Bh.range,delete Bh.rangeMax,delete Bh.rangeMin,delete Bh.scheme,Bh),lk=bd(mk),Ff={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},th=Ff.arc,bi=Ff.area,Ch=Ff.bar,oi=Ff.image,Qg=Ff.line,Rg=Ff.point,Pf=Ff.rect,jh=Ff.rule,zl=Ff.text,Ji=Ff.tick,ul=Ff.trail,tj=Ff.circle,Hi=Ff.square,qi=Ff.geoshape,Mj=new Set(bd(Ff)),Yi="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),
ri=bd({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),uj=bd({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),ci={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},wj={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},vj=(a,b)=>{switch(b.fieldTitle){case "plain":return a.field;
case "functional":{const {aggregate:e,bin:f,timeUnit:g,field:p}=a;Ba(e)?a=`${p} for argmax(${e.argmax})`:ja(e)?a=`${p} for argmin(${e.argmin})`:(a=g&&!Qb(g)?Wc(g):void 0,a=(a=e||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||xb(f)&&"bin")?`${a.toUpperCase()}(${p})`:p)}return a;default:return qe(a,b)}};let Bf=vj;const Ii={compatible:!0},Nj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",
vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},
tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},nk=["domain","grid","labels","ticks","title"],Zi={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",
domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",
minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",
titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},sf={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,
labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,
titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},mg=Object.assign({},sf,{style:1,labelExpr:1,encoding:1}),vg=bd({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class $i{constructor(a,
b){this.name=a;this.run=b}hasMatchingType(a){return ff(a)?(a=a.mark,(dd(a)?a.type:a)===this.name):!1}}const Oj=new $i("boxplot",Id),Pj=new $i("errorbar",kf),km=new $i("errorband",Xg),Qj={};ig("boxplot",Id,["box","median","outliers","rule","ticks"]);ig("errorbar",kf,["ticks","rule"]);ig("errorband",Xg,["band","borders"]);const Xl=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],sl={titleAlign:"align",titleAnchor:"anchor",
titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},tl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",
labelOrient:"orient",labelPadding:"offset"},ok=bd(sl),Yl=bd(tl),vl=bd({header:1,headerRow:1,headerColumn:1,headerFacet:1}),dh="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Wk=bd({align:1,bounds:1,center:1,columns:1,spacing:1}),Zl={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,
minBandSize:.25,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,
bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",
resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] \x3e window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] \x3e window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},ei="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),wl={text:11,guideLabel:10,
guideTitle:11,groupTitle:13,groupSubtitle:12},xl={blue:ei[0],orange:ei[1],red:ei[2],teal:ei[3],green:ei[4],yellow:ei[5],purple:ei[6],pink:ei[7],brown:ei[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},sk=[...uj,...vg,...vl,"background","padding","legend","lineBreak","scale","style","title","view"],Zg=new Set(["view",...Mj]),$l="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Nd=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});class rk{map(a,b){return"facet"in a?this.mapFacet(a,b):"repeat"in a?this.mapRepeat(a,b):"hconcat"in a?this.mapHConcat(a,b):"vconcat"in a?this.mapVConcat(a,b):"concat"in a?this.mapConcat(a,
b):this.mapLayerOrUnit(a,b)}mapLayerOrUnit(a,b){if("layer"in a)return this.mapLayer(a,b);if(ff(a))return this.mapUnit(a,b);throw Error(za(a));}mapLayer(a,b){return Object.assign({},a,{layer:a.layer.map(e=>this.mapLayerOrUnit(e,b))})}mapHConcat(a,b){return Object.assign({},a,{hconcat:a.hconcat.map(e=>this.map(e,b))})}mapVConcat(a,b){return Object.assign({},a,{vconcat:a.vconcat.map(e=>this.map(e,b))})}mapConcat(a,b){var e=Object.assign({},a);a=a.concat;e=(delete e.concat,e);return Object.assign({},
e,{concat:a.map(f=>this.map(f,b))})}mapFacet(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}mapRepeat(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}}const Ng={zero:1,center:1,normalize:1},Th=new Set([th,Ch,bi,jh,Rg,tj,Hi,Qg,zl,Ji]),am=new Set([Ch,bi,th]);class uk{constructor(){S(this,"name","path-overlay")}hasMatchingType(a,b){if(ff(a)){const {mark:e,encoding:f}=a;a=dd(e)?e:{type:e};switch(a.type){case "line":case "rule":case "trail":return!!Fg(a,b[a.type],f);case "area":return!!Fg(a,
b[a.type],f)||!!ti(a,b[a.type])}}return!1}run(a,b,e){var {config:f}=b,g=Object.assign({},a),p=a.params,C=a.projection,Q=a.mark,Y=a.name;a=a.encoding;g=(delete g.params,delete g.projection,delete g.mark,delete g.name,delete g.encoding,g);a=eh(a,f);Q=dd(Q)?Q:{type:Q};const wa=Fg(Q,f[Q.type],a),db="area"===Q.type&&ti(Q,f[Q.type]);var pb=Object,bc=pb.assign;var Fc=Object.assign({},"area"===Q.type&&void 0===Q.opacity&&void 0===Q.fillOpacity?{opacity:.7}:{},Q);Fc=Object.assign({},Fc);Fc=(delete Fc.point,
delete Fc.line,Fc);Fc=1<bd(Fc).length?Fc:Fc.type;p=[bc.call(pb,{},{name:Y},p?{params:p}:{},{mark:Fc,encoding:Zb(a,["shape"])})];Y=vh(jg(Q,a,f),a);pb=a;if(Y){const {fieldChannel:fc,offset:Ec}=Y;pb=Object.assign({},a,{[fc]:Object.assign({},a[fc],Ec?{stack:Ec}:{})})}pb=Zb(pb,["y2","x2"]);db&&p.push(Object.assign({},C?{projection:C}:{},{mark:Object.assign({},{type:"line"},Vb(Q,["clip","interpolate","tension","tooltip"]),db),encoding:pb}));wa&&p.push(Object.assign({},C?{projection:C}:{},{mark:Object.assign({},
{type:"point",opacity:1,filled:!0},Vb(Q,["clip","tooltip"]),wa),encoding:pb}));C=Object.assign({},g,{layer:p});g=Object;p=g.assign;for(const fc of["line","area","rule","trail"])f[fc]&&(f=Object.assign({},f,{[fc]:Zb(f[fc],["point","line"])}));return e(C,p.call(g,{},b,{config:f}))}}class al{constructor(){S(this,"name","RuleForRangedLine")}hasMatchingType(a){if(ff(a)){const {encoding:b,mark:e}=a;if("line"===e||dd(e)&&"line"===e.type)for(const f of Mk)if(a=R(f),a=b[a],b[f]&&(Ka(a)&&!kb(a.bin)||nb(a)))return!0}return!1}run(a,
b,e){const {encoding:f,mark:g}=a;var p=!!f.x2;K(`Line mark is for continuous lines and thus cannot be used with ${p&&f.y2?"x2 and y2":p?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return e(Object.assign({},a,{mark:h.isObject(g)?Object.assign({},g,{type:"rule"}):"rule"}),b)}}class Kh extends rk{constructor(){super(...arguments);S(this,"nonFacetUnitNormalizers",[Oj,Pj,km,new uk,new al])}map(a,b){if(ff(a)){const e=Le(a.encoding,"row"),f=Le(a.encoding,"column"),g=Le(a.encoding,"facet");
if(e||f||g)return this.mapFacetedUnit(a,b)}return super.map(a,b)}mapUnit(a,b){const {parentEncoding:e,parentProjection:f}=b;var g=di(a.encoding,b.repeater);a=Object.assign({},a,a.name?{name:[b.repeaterPrefix,a.name].filter(p=>p).join("_")}:{},g?{encoding:g}:{});if(e||f)return this.mapUnitWithParentEncodingOrProjection(a,b);g=this.mapLayerOrUnit.bind(this);for(const p of this.nonFacetUnitNormalizers)if(p.hasMatchingType(a,b.config))return p.run(a,b,g);return a}mapRepeat(a,b){return!h.isArray(a.repeat)&&
a.repeat.layer?this.mapLayerRepeat(a,b):this.mapNonLayerRepeat(a,b)}mapLayerRepeat(a,b){var e=Object.assign({},a);const f=a.repeat,g=a.spec;e=(delete e.repeat,delete e.spec,e);const {row:p,column:C,layer:Q}=f,{repeater:Y={},repeaterPrefix:wa=""}=b;return p||C?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},p?{row:p}:{},C?{column:C}:{}),spec:{repeat:{layer:Q},spec:g}}),b):Object.assign({},e,{layer:Q.map(db=>{var pb=Object.assign({},Y,{layer:db});db=`${(g.name?`${g.name}_`:"")+wa}child__layer_${ta(db)}`;
pb=this.mapLayerOrUnit(g,Object.assign({},b,{repeater:pb,repeaterPrefix:db}));pb.name=db;return pb})})}mapNonLayerRepeat(a,b){var e=a,f=Object.assign({},e);const g=e.repeat,p=e.spec;e=e.data;f=(delete f.repeat,delete f.spec,delete f.data,f);!h.isArray(g)&&a.columns&&(a=Zb(a,["columns"]),K(vc("repeat")));const C=[],{repeater:Q={},repeaterPrefix:Y=""}=b,wa=!h.isArray(g)&&g.row||[Q?Q.row:null],db=!h.isArray(g)&&g.column||[Q?Q.column:null];var pb=h.isArray(g)&&g||[Q?Q.repeat:null];for(const fc of pb)for(const Ec of wa)for(const Qc of db){var bc=
{repeat:fc,row:Ec,column:Qc,layer:Q.layer};pb=(p.name?`${p.name}_`:"")+Y+"child__"+(h.isArray(g)?`${ta(fc)}`:(g.row?`row_${ta(Ec)}`:"")+(g.column?`column_${ta(Qc)}`:""));bc=this.map(p,Object.assign({},b,{repeater:bc,repeaterPrefix:pb}));bc.name=pb;C.push(Zb(bc,["data"]))}a=h.isArray(g)?a.columns:g.column?g.column.length:1;let Fc;return Object.assign({},{data:null!=(Fc=p.data)?Fc:e,align:"all"},f,{columns:a,concat:C})}mapFacet(a,b){const {facet:e}=a;ae(e)&&a.columns&&(a=Zb(a,["columns"]),K(vc("facet")));
return super.mapFacet(a,b)}mapUnitWithParentEncodingOrProjection(a,b){const {encoding:e,projection:f}=a,{parentEncoding:g,parentProjection:p,config:C}=b,Q=Gh({parentProjection:p,projection:f});b=Eg({parentEncoding:g,encoding:di(e,b.repeater)});return this.mapUnit(Object.assign({},a,Q?{projection:Q}:{},b?{encoding:b}:{}),{config:C})}mapFacetedUnit(a,b){var e=a.encoding,f=Object.assign({},e),g=e.row;const p=e.column;e=e.facet;const C=(delete f.row,delete f.column,delete f.facet,f);var Q=Object.assign({},
a);f=a.mark;const Y=a.width,wa=a.projection,db=a.height,pb=a.view;a=a.params;Q=(delete Q.mark,delete Q.width,delete Q.projection,delete Q.height,delete Q.view,delete Q.params,delete Q.encoding,Q);const {facetMapping:bc,layout:Fc}=this.getFacetMappingAndLayout({row:g,column:p,facet:e},b);g=di(C,b.repeater);return this.mapFacet(Object.assign({},Q,Fc,{facet:bc,spec:Object.assign({},Y?{width:Y}:{},db?{height:db}:{},pb?{view:pb}:{},wa?{projection:wa}:{},{mark:f,encoding:g},a?{params:a}:{})}),b)}getFacetMappingAndLayout(a,
b){const {row:e,column:f,facet:g}=a;if(e||f){g&&(b=[...(e?["row"]:[]),...(f?["column"]:[])],b=`Facet encoding dropped as ${b.join(" and ")} ${1<b.length?"are":"is"} also specified.`,K(b));b={};const db={};for(var p of["row","column"]){const pb=a[p];if(pb){var C=Object.assign({},pb);C=(delete C.align,delete C.center,delete C.spacing,delete C.columns,C);b[p]=C;for(var Q of["align","center","spacing"])if(void 0!==pb[Q]){var Y=void 0,wa=void 0;null!=(Y=db)[wa=Q]||(Y[wa]={});db[Q][p]=pb[Q]}}}return{facetMapping:b,
layout:db}}wa=Object.assign({},g);a=g.align;p=g.center;Q=g.spacing;Y=g.columns;wa=(delete wa.align,delete wa.center,delete wa.spacing,delete wa.columns,wa);wa=(b=b.repeater)?ae(wa)?Fh(wa,b):ui(wa,b):wa;return{facetMapping:wa,layout:Object.assign({},a?{align:a}:{},p?{center:p}:{},Q?{spacing:Q}:{},Y?{columns:Y}:{})}}mapLayer(a,b){var e=Object.assign({},b),f=b.parentEncoding;b=b.parentProjection;e=(delete e.parentEncoding,delete e.parentProjection,e);var g=Object.assign({},a);const p=a.encoding,C=a.projection;
g=(delete g.encoding,delete g.projection,g);f=Object.assign({},e,{parentEncoding:Eg({parentEncoding:f,encoding:p,layer:!0}),parentProjection:Gh({parentProjection:b,projection:C})});return super.mapLayer(Object.assign({},g,a.name?{name:[f.repeaterPrefix,a.name].filter(Q=>Q).join("_")}:{}),f)}}class bf extends rk{map(a,b){null!=b.emptySelections||(b.emptySelections={});null!=b.selectionPredicates||(b.selectionPredicates={});a=dg(a,b);return super.map(a,b)}mapLayerOrUnit(a,b){a=dg(a,b);if(a.encoding){const e=
{};for(const f of Gi(a.encoding)){const [g,p]=f;e[g]=cj(p,b)}a=Object.assign({},a,{encoding:e})}return super.mapLayerOrUnit(a,b)}mapUnit(a,b){var e=Object.assign({},a);const f=a.selection;e=(delete e.selection,e);return f?Object.assign({},e,{params:Gi(f).map(g=>{let [p,C]=g;var Q=Object.assign({},C);g=C.init;const Y=C.bind,wa=C.empty;Q=(delete Q.init,delete Q.bind,delete Q.empty,Q);"single"===Q.type?(Q.type="point",Q.toggle=!1):"multi"===Q.type&&(Q.type="point");b.emptySelections[p]="none"!==wa;let db;
for(const pb of kg(null!=(db=b.selectionPredicates[p])?db:{}))pb.empty="none"!==wa;return{name:p,value:g,select:Q,bind:Y}})}):a}}class ng extends rk{map(a,b){var e;const f=null!=(e=b.selections)?e:[];if(a.params&&!ff(a)){e=[];for(const g of a.params)Ld(g)?f.push(g):e.push(g);a.params=e}b.selections=f;return super.map(a,b)}mapUnit(a,b){const e=b.selections;if(!e||!e.length)return a;let f;const g=(null!=(f=b.path)?f:[]).concat(a.name);b=[];for(const p of e)if(p.views&&p.views.length)for(const C of p.views)(h.isString(C)&&
(C===a.name||g.includes(C))||h.isArray(C)&&C.map(Q=>g.indexOf(Q)).every((Q,Y,wa)=>-1!==Q&&(0===Y||Q>wa[Y-1])))&&b.push(p);else b.push(p);b.length&&(a.params=b);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const b=ng.prototype[a];ng.prototype[a]=function(e,f){var g=b,p=g.call;let C;var Q=e.name?Object.assign({},f,{path:(null!=(C=f.path)?C:[]).concat(e.name)}):f;return p.call(g,this,e,Q)}}const rg=new Kh,Og=new bf,uh=new ng,xj=["background","padding"];class If{constructor(){let a=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new If(te(this.explicit),te(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(a){return V(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,
b){let {value:e,explicit:f}=b;void 0!==e&&this.set(a,e,f)}set(a,b,e){delete this[e?"implicit":"explicit"][a];this[e?"explicit":"implicit"][a]=b;return this}copyKeyFromSplit(a,b){let {explicit:e,implicit:f}=b;void 0!==e[a]?this.set(a,e[a],!0):void 0!==f[a]&&this.set(a,f[a],!1)}copyKeyFromObject(a,b){void 0!==b[a]&&this.set(a,b[a],!0)}copyAll(a){for(const b of bd(a.combine())){const e=a.getWithExplicit(b);this.setWithExplicit(b,e)}}}class Rj extends If{constructor(){let a=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,b);this.explicit=a;this.implicit=b;this.parseNothing=e}clone(){const a=super.clone();a.parseNothing=this.parseNothing;return a}}let mf=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup";return a}({});class hf{constructor(a,b){this.debugName=b;S(this,"_children",[]);S(this,"_parent",null);
S(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,b){this._children.includes(a)?K("Attempt to add the same child twice."):void 0!==b?this._children.splice(b,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);
for(const b of this._children)b._parent=this._parent,this._parent.addChild(b,a++)}insertAsParentOf(a){const b=a.parent;b.removeChild(this);this.parent=b;a.parent=this}swapWithParent(){const a=this._parent,b=a.parent;for(var e of this._children)e.parent=a;this._children=[];a.removeChild(this);e=a.parent.removeChild(a);this._parent=b;b.addChild(this,e);a.parent=this}}class Pg extends hf{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;
a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,b,e,f){super(a,b);this.type=e;this.refCounts=f;S(this,"_source",void 0);S(this,"_name",void 0);this._source=this._name=b;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${aa()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=
a}}class xh extends hf{clone(){return new xh(null,te(this.timeUnits))}constructor(a,b){super(a);this.timeUnits=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((f,g,p)=>{const {field:C,timeUnit:Q}=g;if(Q){let Y;if(Qb(Q)){if(Lf(b)){const {mark:wa,markDef:db,config:pb}=b,bc=l({fieldDef:g,markDef:db,config:pb});if(dc(wa)||bc)Y={timeUnit:Wc(Q),field:C}}}else Y={as:kc(g,{forAs:!0}),field:C,timeUnit:Q};if(Lf(b)){const {mark:wa,markDef:db,config:pb}=b;g=l({fieldDef:g,markDef:db,config:pb});dc(wa)&&
H(p)&&.5!==g&&(Y.rectBandPosition=g)}Y&&(f[Ub(Y)]=Y)}return f},{});return jb(e)?null:new xh(a,e)}static makeFromTransform(a,b){var e=Object.assign({},b);b=Object.assign({},e);e=e.timeUnit;b=(delete b.timeUnit,b);e=Wc(e);b=Object.assign({},b,{timeUnit:e});return new xh(a,{[Ub(b)]:b})}merge(a){this.timeUnits=Object.assign({},this.timeUnits);for(const b in a.timeUnits)this.timeUnits[b]||(this.timeUnits[b]=a.timeUnits[b]);for(const b of a.children)a.removeChild(b),b.parent=this;a.remove()}removeFormulas(a){const b=
{};for(const e of Gi(this.timeUnits)){const [f,g]=e;a.has(void 0!==g.as?g.as:`${g.field}_end`)||(b[f]=g)}this.timeUnits=b}producedFields(){return new Set(kg(this.timeUnits).map(a=>void 0!==a.as?a.as:`${a.field}_end`))}dependentFields(){return new Set(kg(this.timeUnits).map(a=>a.field))}hash(){return`TimeUnit ${Ub(this.timeUnits)}`}assemble(){const a=[];for(const g of kg(this.timeUnits)){const {rectBandPosition:p}=g,C=Wc(g.timeUnit);if(void 0!==g.as){const {field:Q,as:Y}=g;var b=C,e=Object.assign({},
b),f=b.unit;b=b.utc;e=(delete e.unit,delete e.utc,e);const wa=[Y,`${Y}_end`];a.push(Object.assign({},{field:cb(Q),type:"timeunit"},f?{units:Yb(f)}:{},b?{timezone:"utc"}:{},e,{as:wa}));a.push(...Hb(wa,p,C))}else g&&({field:f}=g,f=f.replaceAll("\\.","."),b=Oa({timeUnit:C,field:f}),e=`${f}_end`,a.push({type:"formula",expr:b,as:e}),a.push(...Hb([f,e],p,C)))}return a}}class qh{constructor(){S(this,"hasChannel",void 0);S(this,"hasField",void 0);S(this,"hasSelectionId",void 0);S(this,"timeUnit",void 0);
S(this,"items",void 0);for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];this.items=b;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const Uh={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,b)=>{const e=b.scales=[];for(const g of b.project.items){var f=g.channel;if(!Mh[f])continue;const p=(f=a.getScaleComponent(f))?f.get("type"):void 0;f&&Ed(p)?(f.set("selectionExtent",{param:b.name,field:g.field},!0),e.push(g)):K("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},
topLevelSignals:(a,b,e)=>{const f=b.scales.filter(p=>0===e.filter(C=>C.name===p.signals.data).length);if(!a.parent||r(a)||0===f.length)return e;a=e.filter(p=>p.name===b.name)[0];let g=a.update;if(0<=g.indexOf("vlSelectionResolve"))a.update=`{${f.map(p=>`${h.stringValue(cb(p.field))}: ${p.signals.data}`).join(", ")}}`;else{for(const p of f){const C=`${h.stringValue(cb(p.field))}: ${p.signals.data}`;g.includes(C)||(g=`${g.substring(0,g.length-1)}, ${C}}`)}a.update=g}return e.concat(f.map(p=>({name:p.signals.data})))},
signals:(a,b,e)=>{if(a.parent&&!r(a))for(const f of b.scales)a=e.filter(g=>g.name===f.signals.data)[0],a.push="outer",delete a.value,delete a.update;return e}},zj={left:"x",center:"xc",right:"x2"},xi={top:"y",middle:"yc",bottom:"y2"},pk=new Set(["aria","width","height"]),qk={defined:a=>"point"===a.type&&a.nearest,parse:(a,b)=>{if(b.events)for(const e of b.events)e.markname=a.getName("voronoi")},marks:(a,b,e)=>{const {x:f,y:g}=b.project.hasChannel;b=a.mark;if(Va(b))return K(`The "nearest" transform is not supported for ${b} marks.`),
e;b={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Ob(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:f||!g?"datum.datum.x || 0":"0"},y:{expr:g||!f?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let p=0,C=!1;e.forEach((Q,Y)=>{let wa;Q=null!=(wa=Q.name)?wa:"";Q===a.component.mark[0].name?
p=Y:0<=Q.indexOf("voronoi")&&(C=!0)});C||e.splice(p+1,0,b);return e}},si={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!Kg(a.bind),parse:(a,b,e)=>Cg(b,e),topLevelSignals:(a,b,e)=>{const f=b.name;a=b.project;const g=b.bind,p=b.init&&b.init[0],C=qk.defined(b)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((Q,Y)=>{const wa=ta(`${f}_${Q.field}`);if(!e.filter(db=>db.name===wa).length){let db,pb;e.unshift(Object.assign({},{name:wa},p?{init:oh(p[Y])}:
{value:null},{on:b.events?[{events:b.events,update:`datum && item().mark.marktype !== 'group' ? ${C}[${h.stringValue(Q.field)}] : null`}]:[],bind:null!=(pb=null!=(db=g[Q.field])?db:g[Q.channel])?pb:g}))}});return e},signals:(a,b,e)=>{const f=b.name;var g=b.project;a=e.filter(C=>C.name===f+"_tuple")[0];b=f+"_tuple_fields";g=g.items.map(C=>ta(`${f}_${C.field}`));const p=g.map(C=>`${C} !== null`).join(" \x26\x26 ");g.length&&(a.update=`${p} ? {fields: ${b}, values: [${g.join(", ")}]} : null`);delete a.value;
delete a.on;return e}},Sj={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,b,e)=>e.concat({name:b.name+"_toggle",value:!1,on:[{events:b.events,update:b.toggle}]}),modifyExpr:(a,b)=>{const e=b.name+"_tuple",f=b.name+"_toggle";return`${f} ? null : ${e}, `+("global"===b.resolve?`${f} ? null : true, `:`${f} ? null : {unit: ${$f(a)}}, `)+`${f} ? ${e} : null`}},yi={defined:a=>{const b="global"===a.resolve&&a.bind&&Kg(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;b&&!a&&K("Legend bindings are only supported for selections over an individual field or encoding channel.");
return b&&a},parse:(a,b,e)=>{a=te(e);a.select=h.isString(a.select)?{type:a.select,toggle:b.toggle}:Object.assign({},a.select,{toggle:b.toggle});Cg(b,a);if(h.isObject(e.select)&&(e.select.on||e.select.clear))for(const f of b.events){let g;f.filter=h.array(null!=(g=f.filter)?g:[]);f.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||f.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}e=Dh(b.bind)?b.bind.legend:"click";e=h.isString(e)?
h.parseSelector(e,"view"):h.array(e);b.bind={legend:{merge:e}}},topLevelSignals:(a,b,e)=>{a=b.name;const f=Dh(b.bind)&&b.bind.legend,g=C=>Q=>{Q=te(Q);Q.markname=C;return Q};for(const C of b.project.items){if(!C.hasLegend)continue;var p=`${ta(C.field)}_legend`;const Q=`${a}_${p}`;0===e.filter(Y=>Y.name===Q).length&&(p=f.merge.map(g(`${p}_symbols`)).concat(f.merge.map(g(`${p}_labels`))).concat(f.merge.map(g(`${p}_entries`))),e.unshift(Object.assign({},{name:Q},b.init?{}:{value:null},{on:[{events:p,
update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:f.merge,update:`!event.item || !datum ? null : ${Q}`,force:!0}]})))}return e},signals:(a,b,e)=>{const f=b.name;var g=b.project;a=e.find(C=>C.name===f+"_tuple");var p=f+"_tuple_fields";g=g.items.filter(C=>C.hasLegend).map(C=>ta(`${f}_${ta(C.field)}_legend`));p=`${g.map(C=>`${C} !== null`).join(" \x26\x26 ")} ? {fields: ${p}, values: [${g.join(", ")}]} : null`;b.events&&0<g.length?a.on.push({events:g.map(C=>
({signal:C})),update:p}):0<g.length&&(a.update=p,delete a.value,delete a.on);a=e.find(C=>C.name===f+"_toggle");p=Dh(b.bind)&&b.bind.legend;a&&(b.events?a.on.push(Object.assign({},a.on[0],{events:p})):a.on[0].events=p);return e}},dj=[{defined:a=>"point"===a.type,signals:(a,b,e)=>{const f=b.name,g=f+"_tuple_fields";var p=b.project,C,Q=kg(null!=(C=a.component.selection)?C:{}).reduce((Y,wa)=>"interval"===wa.type?Y.concat(wa.name+"_brush"):Y,[]).map(Y=>`indexof(item().mark.name, '${Y}') < 0`).join(" \x26\x26 ");
C=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${Q?` && ${Q}`:""}`;Q=`unit: ${$f(a)}, `;b.project.hasSelectionId?Q+=`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue("_vgsid_")}]`:(p=p.items.map(Y=>{let wa;return(null==(wa=a.fieldDef(Y.channel))?0:wa.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(a.vgField(Y.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(a.vgField(Y.channel,{binSuffix:"end"}))}]]`:
`${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(Y.field)}]`}).join(", "),Q+=`fields: ${g}, values: [${p}]`);b=b.events;return e.concat([{name:f+"_tuple",on:b?[{events:b,update:`${C} ? {${Q}} : null`,force:!0}]:[]}])}},{defined:a=>"interval"===a.type,parse:(a,b,e)=>{a.hasProjection&&(a=Object.assign({},h.isObject(e.select)?e.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=e.value?bd(e.value):["longitude","latitude"]),e.select=Object.assign({},{type:"interval"},a));if(b.translate&&
!Uh.defined(b)){e=`!event.item || event.item.mark.name !== ${h.stringValue(b.name+"_brush")}`;for(const f of b.events){if(!f.between){K(`${f} is not an ordered event stream for interval selections.`);continue}let g,p;b=h.array(null!=(p=(g=f.between[0]).filter)?p:g.filter=[]);0>b.indexOf(e)&&b.push(e)}}},signals:(a,b,e)=>{var f=b.name;const g=f+"_tuple";var p=kg(b.project.hasChannel).filter(db=>"x"===db.channel||"y"===db.channel);const C=b.init?b.init[0]:null;e.push(...p.reduce((db,pb)=>db.concat(I(a,
b,pb,C&&C[pb.index])),[]));if(a.hasProjection){var Q=h.stringValue(a.projectionName());const db=a.projectionName()+"_center",{x:pb,y:bc}=b.project.hasChannel;var Y=pb&&pb.signals.visual;const Fc=bc&&bc.signals.visual;var wa=pb?C&&C[pb.index]:`${db}[0]`;const fc=bc?C&&C[bc.index]:`${db}[1]`;Y="["+`[${Y?Y+"[0]":"0"}, ${Fc?Fc+"[0]":"0"}],`+`[${Y?Y+"[1]":a.getSizeSignalRef("width").signal}, `+`${Fc?Fc+"[1]":a.getSizeSignalRef("height").signal}]`+"]";C&&(e.unshift({name:f+"_init",init:`[scale(${Q}, [${pb?
wa[0]:wa}, ${bc?fc[0]:fc}]), `+`scale(${Q}, [${pb?wa[1]:wa}, ${bc?fc[1]:fc}])]`}),pb&&bc||e.find(Ec=>Ec.name===db)||e.unshift({name:db,update:`invert(${Q}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));f=`intersect(${Y}, {markname: ${h.stringValue(a.getName("marks"))}}, unit.mark)`;Q=`{unit: ${$f(a)}}`;f=`vlSelectionTuples(${f}, ${Q})`;p=p.map(Ec=>Ec.signals.visual);return e.concat({name:g,on:[{events:[...(p.length?[{signal:p.join(" || ")}]:[]),...(C?[{signal:"geo_interval_init_tick"}]:
[])],update:f}]})}Uh.defined(b)||(Q=f+"_scale_trigger",wa=p.map(db=>{var pb=db.channel;const {data:bc,visual:Fc}=db.signals;db=h.stringValue(a.scaleName(pb));pb=a.getScaleComponent(pb).get("type");pb=Ed(pb)?"+":"";return`(!isArray(${bc}) || `+`(${pb}invert(${db}, ${Fc})[0] === ${pb}${bc}[0] && `+`${pb}invert(${db}, ${Fc})[1] === ${pb}${bc}[1]))`}),wa.length&&e.push({name:Q,value:{},on:[{events:p.map(db=>({scale:a.scaleName(db.channel)})),update:wa.join(" \x26\x26 ")+` ? ${Q} : {}`}]}));p=p.map(db=>
db.signals.data);f=`unit: ${$f(a)}, fields: ${f+"_tuple_fields"}, values`;return e.concat(Object.assign({},{name:g},C?{init:`{${f}: ${oh(C)}}`}:{},p.length?{on:[{events:[{signal:p.join(" || ")}],update:`${p.join(" \x26\x26 ")} ? {${f}: [${p}]} : null`}]}:{}))},topLevelSignals:(a,b,e)=>{Lf(a)&&a.hasProjection&&b.init&&(e.filter(f=>"geo_interval_init_tick"===f.name).length||e.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));
return e},marks:(a,b,e)=>{const f=b.name,{x:g,y:p}=b.project.hasChannel,C=null==g?void 0:g.signals.visual,Q=null==p?void 0:p.signals.visual;var Y=`data(${h.stringValue(b.name+"_store")})`;if(Uh.defined(b)||!g&&!p)return e;const wa={x:void 0!==g?{signal:`${C}[0]`}:{value:0},y:void 0!==p?{signal:`${Q}[0]`}:{value:0},x2:void 0!==g?{signal:`${C}[1]`}:{field:{group:"width"}},y2:void 0!==p?{signal:`${Q}[1]`}:{field:{group:"height"}}};if("global"===b.resolve)for(var db of bd(wa))wa[db]=[Object.assign({},
{test:`${Y}.length && ${Y}[0].unit === ${$f(a)}`},wa[db]),{value:0}];db=b.mark;Y=Object.assign({},db);a=db.fill;b=db.fillOpacity;db=db.cursor;const pb=(delete Y.fill,delete Y.fillOpacity,delete Y.cursor,Y);Y=bd(pb).reduce((bc,Fc)=>{bc[Fc]=[{test:[void 0!==g&&`${C}[0] !== ${C}[1]`,void 0!==p&&`${Q}[0] !== ${Q}[1]`].filter(fc=>fc).join(" \x26\x26 "),value:pb[Fc]},{value:null}];return bc},{});return[{name:`${f+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:b}},update:wa}},
...e,{name:f+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},db?{cursor:{value:db}}:{},{fill:{value:"transparent"}}),update:Object.assign({},wa,Y)}}]}},{defined:()=>!0,parse:(a,b,e)=>{const f=b.name;var g;const p=null!=(g=b.project)?g:b.project=new qh,C={};g={};const Q=new Set,Y=(Tc,Ud)=>{Tc="visual"===Ud?Tc.channel:Tc.field;let Md=ta(`${f}_${Tc}`);for(let re=1;Q.has(Md);re++)Md=ta(`${f}_${Tc}_${re}`);Q.add(Md);return{[Ud]:Md}},wa=b.type,db=a.config.selection[wa],pb=void 0!==e.value?h.array(e.value):
null;let {fields:bc,encodings:Fc}=h.isObject(e.select)?e.select:{};if(!bc&&!Fc&&pb)for(var fc of pb)if(h.isObject(fc))for(const Tc of bd(fc))if(oj[Tc])(Fc||(Fc=[])).push(Tc);else if("interval"===wa)K('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),Fc=db.encodings;else{let Ud;(null!=(Ud=bc)?Ud:bc=[]).push(Tc)}bc||Fc||(Fc=db.encodings,"fields"in db&&(bc=db.fields));var Ec;for(const Tc of null!=(Ec=Fc)?Ec:[])(Ec=a.fieldDef(Tc))?(e=Ec.field,Ec.aggregate?K(`Cannot project a selection on encoding channel "${Tc}" as it uses an aggregate function ("${Ec.aggregate}").`):
e?(Ec.timeUnit&&!Qb(Ec.timeUnit)&&(e=a.vgField(Tc),fc={timeUnit:Ec.timeUnit,as:e,field:Ec.field},g[Ub(fc)]=fc),C[e]||(Ec="interval"===wa&&Mh[Tc]&&Ed(a.getScaleComponent(Tc).get("type"))?"R":Ec.bin?"R-RE":"E",Ec={field:e,channel:Tc,type:Ec,index:p.items.length},Ec.signals=Object.assign({},Y(Ec,"data"),Y(Ec,"visual")),p.items.push(C[e]=Ec),p.hasField[e]=C[e],p.hasSelectionId=p.hasSelectionId||"_vgsid_"===e,Tc in mi?(Ec.geoChannel=Tc,Ec.channel=F(Tc),p.hasChannel[Ec.channel]=C[e]):p.hasChannel[Tc]=C[e])):
K(Fb(Tc))):K(Fb(Tc));let Qc;for(const Tc of null!=(Qc=bc)?Qc:[])p.hasField[Tc]||(a={type:"E",field:Tc,index:p.items.length},a.signals=Object.assign({},Y(a,"data")),p.items.push(a),p.hasField[Tc]=a,p.hasSelectionId=p.hasSelectionId||"_vgsid_"===Tc);pb&&(b.init=pb.map(Tc=>p.items.map(Ud=>h.isObject(Tc)?void 0!==Tc[Ud.geoChannel||Ud.channel]?Tc[Ud.geoChannel||Ud.channel]:Tc[Ud.field]:Tc)));jb(g)||(p.timeUnit=new xh(null,g))},signals:(a,b,e)=>{const f=b.name+"_tuple_fields";return 0<e.filter(g=>g.name===
f).length||b.project.hasSelectionId?e:e.concat({name:f,value:b.project.items.map(Mg)})}},Sj,si,Uh,yi,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,b)=>{b.clear&&(b.clear=h.isString(b.clear)?h.parseSelector(b.clear,"view"):b.clear)},topLevelSignals:(a,b,e)=>{if(si.defined(b))for(const f of b.project.items)a=e.findIndex(g=>g.name===ta(`${b.name}_${f.field}`)),-1!==a&&e[a].on.push({events:b.clear,update:"null"});return e},signals:(a,b,e)=>{function f(g,p){-1!==g&&e[g].on&&e[g].on.push({events:b.clear,
update:p})}if("interval"===b.type)for(const g of b.project.items)a=e.findIndex(p=>p.name===g.signals.visual),f(a,"[0, 0]"),-1===a&&(a=e.findIndex(p=>p.name===g.signals.data),f(a,"null"));else a=e.findIndex(g=>g.name===b.name+"_tuple"),f(a,"null"),Sj.defined(b)&&(a=e.findIndex(g=>g.name===b.name+"_toggle"),f(a,"false"));return e}},{defined:a=>"interval"===a.type&&a.translate,signals:(a,b,e)=>{const f=b.name,g=Uh.defined(b),p=f+"_translate_anchor",{x:C,y:Q}=b.project.hasChannel;let Y=h.parseSelector(b.translate,
"scope");g||(Y=Y.map(wa=>(wa.between[0].markname=f+"_brush",wa)));e.push({name:p,value:{},on:[{events:Y.map(wa=>wa.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==C?`, extent_x: ${g?$b(a,"x"):`slice(${C.signals.visual})`}`:"")+(void 0!==Q?`, extent_y: ${g?$b(a,"y"):`slice(${Q.signals.visual})`}`:"")+"}"}]},{name:f+"_translate_delta",value:{},on:[{events:Y,update:`{x: ${p}.x - x(unit), y: ${p}.y - y(unit)}`}]});void 0!==C&&Eh(a,b,C,"width",e);void 0!==Q&&Eh(a,b,Q,"height",e);return e}},{defined:a=>
"interval"===a.type&&a.zoom,signals:(a,b,e)=>{const f=b.name,g=Uh.defined(b),p=f+"_zoom_delta",{x:C,y:Q}=b.project.hasChannel,Y=h.stringValue(a.scaleName("x")),wa=h.stringValue(a.scaleName("y"));let db=h.parseSelector(b.zoom,"scope");g||(db=db.map(pb=>(pb.markname=f+"_brush",pb)));e.push({name:f+"_zoom_anchor",on:[{events:db,update:g?"{"+[Y?`x: invert(${Y}, x(unit))`:"",wa?`y: invert(${wa}, y(unit))`:""].filter(pb=>pb).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:p,on:[{events:db,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});
void 0!==C&&gi(a,b,C,"width",e);void 0!==Q&&gi(a,b,Q,"height",e);return e}},qk];class wi extends hf{clone(){return new wi(null,this.model,te(this.filter))}constructor(a,b,e){super(a);this.model=b;this.filter=e;S(this,"expr",void 0);S(this,"_dependentFields",void 0);this.expr=Wf(this.model,this.filter,this);this._dependentFields=sj(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}
const tk={scale:a=>{let {model:b,channel:e}=a;return b.scaleName(e)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=a);return a},grid:a=>{let {fieldOrDatumDef:b,axis:e,scaleType:f}=a,g;return null!=(g=e.grid)?g:!Ke(f)&&Ka(b)&&!xb(null==b?void 0:b.bin)&&!kb(null==b?void 0:b.bin)},gridScale:a=>{let {model:b,channel:e}=a;a="x"===e?"y":"x";a=b.getScaleComponent(a)?b.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:b,labelAngle:e,orient:f,channel:g}=a;return b.labelAlign||xk(e,
f,g)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:b,labelAngle:e,orient:f,channel:g}=a;return b.labelBaseline||Wj(e,f,g)},labelFlush:a=>{let {axis:b,fieldOrDatumDef:e,channel:f}=a;null==(a=b.labelFlush)&&(a="x"===f&&Bb(["quantitative","temporal"],e.type)?!0:void 0);return a},labelOverlap:a=>{let {axis:b,fieldOrDatumDef:e,scaleType:f}=a;if(null==(a=b.labelOverlap)){a=e.type;var g=Ka(e)&&!!e.timeUnit,p=Ka(e)?e.sort:void 0;a=g&&!h.isObject(p)||"nominal"!==a&&"ordinal"!==a?
"log"===f||"symlog"===f?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:b,model:e,axis:f,fieldOrDatumDef:g,scaleType:p}=a;a=(a="x"===b?"width":"y"===b?"height":void 0)?e.getSizeSignalRef(a):void 0;let C;if(null!=(C=f.tickCount))var Q=C;else a:{let {fieldOrDatumDef:Y,scaleType:wa,size:db,values:pb}={fieldOrDatumDef:g,scaleType:p,size:a,values:f.values};if(pb||Ke(wa)||"log"===wa)Q=void 0;else{if(Ka(Y)){if(xb(Y.bin)){Q={signal:`ceil(${db.signal}/10)`};break a}if(Y.timeUnit&&
Bb(["month","hours","day","quarter"],null==(Q=Wc(Y.timeUnit))?void 0:Q.unit)){Q=void 0;break a}}Q={signal:`ceil(${db.signal}/40)`}}}return Q},tickMinStep:function(a){let {format:b,fieldOrDatumDef:e}=a;if("d"===b)return 1;if(Ka(e)&&({timeUnit:a}=e,a&&(a=ud(a))))return{signal:a}},title:a=>{let {axis:b,model:e,channel:f}=a;if(void 0!==b.title)return b.title;a=fj(e,f);if(void 0!==a)return a;a=e.typedFieldDef(f);const g=e.fieldDef("x"===f?"x2":"y2");return na(a?[qa(a)]:[],Ka(g)?[qa(g)]:[])},values:a=>
{let {axis:b,fieldOrDatumDef:e}=a;a=b.values;a=h.isArray(a)?tf(e,a):Jb(a)?a:void 0;return a},zindex:a=>{let {axis:b,fieldOrDatumDef:e,mark:f}=a;null==(a=b.zindex)&&(a="rect"===f&&qd(e)?1:0);return a}};class Ni extends hf{clone(){return new Ni(null,te(this.transform))}constructor(a,b){super(a);this.transform=b;S(this,"_dependentFields",void 0);this._dependentFields=sj(this.transform.calculate)}static parseAllForSortIndex(a,b){b.forEachFieldDef((e,f)=>{if(Fd(e)&&ue(e.sort)){const {field:p,timeUnit:C}=
e;var g=e.sort;g=g.map((Q,Y)=>`${ye({field:p,timeUnit:C,equal:Q})} ? ${Y} : `).join("")+g.length;a=new Ni(a,{calculate:g,as:Ri(e,f,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Ub(this.transform)}`}}const Bj=["row","column"],bl=["header","footer"],El={column:{start:0,end:1},row:{start:1,end:0}},Nl=Object.assign({},
{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,
symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,
strokeDash:1,encode:1}),Fk=bd(Nl);class Ml extends If{}const Fl={symbols:function(a,b){let {fieldOrDatumDef:e,model:f,channel:g,legendCmpt:p,legendType:C}=b;if("symbol"===C){var {markDef:Q,encoding:Y,config:wa,mark:db}=f;b=Q.filled&&"trail"!==db;var pb=Object,bc=pb.assign,Fc={};for(var fc of Yi){const re=gc(fc,f.markDef,f.config);void 0!==re&&(Fc[fc]=Ta(re))}fc=bc.call(pb,{},Fc,Lc(f,{filled:b}));var Ec;pb=null!=(Ec=p.get("symbolOpacity"))?Ec:wa.legend.symbolOpacity;var Qc;Ec=null!=(Qc=p.get("symbolFillColor"))?
Qc:wa.legend.symbolFillColor;var Tc;Qc=null!=(Tc=p.get("symbolStrokeColor"))?Tc:wa.legend.symbolStrokeColor;var Ud;Tc=void 0===pb?null!=(Ud=G(Y.opacity))?Ud:Q.opacity:void 0;if(fc.fill)if("fill"===g||b&&"color"===g)delete fc.fill;else if(fc.fill.field)if(Ec)delete fc.fill;else{let re;fc.fill=Ta(null!=(re=wa.legend.symbolBaseFillColor)?re:"black");fc.fillOpacity=Ta(null!=Tc?Tc:1)}else if(h.isArray(fc.fill)){var Md;let re,De;if(Ud=null!=(De=null!=(re=M(null!=(Md=Y.fill)?Md:Y.color))?re:Q.fill)?De:b&&
Q.color)fc.fill=Ta(Ud)}fc.stroke&&("stroke"===g||!b&&"color"===g?delete fc.stroke:fc.stroke.field||Qc?delete fc.stroke:h.isArray(fc.stroke)&&(Md=V(M(Y.stroke||Y.color),Q.stroke,b?Q.color:void 0))&&(fc.stroke={value:Md}));"opacity"!==g&&((Md=Ka(e)&&Xa(f,p,e))?fc.opacity=[Object.assign({},{test:Md},Ta(null!=Tc?Tc:1)),Ta(wa.legend.unselectedOpacity)]:Tc&&(fc.opacity=Ta(Tc)));fc=Object.assign({},fc,a);return jb(fc)?void 0:fc}},gradient:function(a,b){let {model:e,legendType:f,legendCmpt:g}=b;if("gradient"===
f){var {config:p,markDef:C,encoding:Q}=e;b={};var Y,wa=void 0===(null!=(Y=g.get("gradientOpacity"))?Y:p.legend.gradientOpacity)?G(Q.opacity)||C.opacity:void 0;wa&&(b.opacity=Ta(wa));b=Object.assign({},b,a);return jb(b)?void 0:b}},labels:function(a,b){let {fieldOrDatumDef:e,model:f,channel:g,legendCmpt:p}=b;var C=f.legend(g)||{};b=f.config;var Q=Ka(e)?Xa(f,p,e):void 0;Q=Q?[{test:Q,value:1},{value:b.legend.unselectedOpacity}]:void 0;const {format:Y,formatType:wa}=C;C=void 0;se(wa)?C=he({fieldOrDatumDef:e,
field:"datum.value",format:Y,formatType:wa,config:b}):void 0===Y&&void 0===wa&&b.customFormatTypes&&("quantitative"===e.type&&b.numberFormatType?C=he({fieldOrDatumDef:e,field:"datum.value",format:b.numberFormat,formatType:b.numberFormatType,config:b}):"temporal"===e.type&&b.timeFormatType&&Ka(e)&&void 0===e.timeUnit&&(C=he({fieldOrDatumDef:e,field:"datum.value",format:b.timeFormat,formatType:b.timeFormatType,config:b})));a=Object.assign({},Q?{opacity:Q}:{},C?{text:C}:{},a);return jb(a)?void 0:a},
entries:function(a,b){({legendCmpt:b}=b);let e;return(null==(e=b.get("selections"))?0:e.length)?Object.assign({},a,{fill:{value:"transparent"}}):a}},ll={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:b,legend:e,config:f}=a;const {format:g,formatType:p}=e;return lf(b,b.type,g,p,f,!1)},formatType:a=>{let {legend:b,fieldOrDatumDef:e,scaleType:f}=a;({formatType:a}=b);return xf(a,e,f)},gradientLength:a=>{const {legend:b,legendConfig:e}=a;let f,g;if(null!=(g=null!=(f=b.gradientLength)?
f:e.gradientLength))a=g;else{{let {legendConfig:p,model:C,direction:Q,orient:Y,scaleType:wa}=a;const {gradientHorizontalMaxLength:db,gradientHorizontalMinLength:pb,gradientVerticalMaxLength:bc,gradientVerticalMinLength:Fc}=p;a=lg.has(wa)?"horizontal"===Q?"top"===Y||"bottom"===Y?fb(C,"width",pb,db):pb:fb(C,"height",Fc,bc):void 0}}return a},labelOverlap:a=>{let {legend:b,legendConfig:e,scaleType:f}=a;var g;g=null!=(a=null!=(g=b.labelOverlap)?g:e.labelOverlap)?a:Bb(["quantile","threshold","log","symlog"],
f)?"greedy":void 0;return g},symbolType:a=>{let {legend:b,markDef:e,channel:f,encoding:g}=a;if(null!=(a=b.symbolType))var p=a;else a:{a=e.type;var C=e.shape;if("shape"!==f){const Q=null!=(p=M(g.shape))?p:C;if(Q){p=Q;break a}}switch(a){case "bar":case "rect":case "image":case "square":p="square";break a;case "line":case "trail":case "rule":p="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":p="circle";break a}p=void 0}return p},title:a=>{let {fieldOrDatumDef:b,
config:e}=a;return de(b,e,{allowDisabling:!0})},type:a=>{let {legendType:b,scaleType:e,channel:f}=a;if(L(f)&&lg.has(e)){if("gradient"===b)return}else if("symbol"===b)return;return b},values:a=>{let {fieldOrDatumDef:b,legend:e}=a;a=e.values;a=h.isArray(a)?tf(b,a):Jb(a)?a:void 0;return a}},lm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class Fj extends If{constructor(a,b,e,f){super(Object.assign({},
b),{name:a});this.specifiedProjection=b;this.size=e;this.data=f;S(this,"merged",!1)}get isFit(){return!!this.data}}class Bi extends hf{clone(){return new Bi(null,te(this.bins))}constructor(a,b){super(a);this.bins=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((f,g,p)=>{if(Hc(g)&&xb(g.bin)){const {key:pb,binComponent:bc}=Cd(g,g.bin,b);var C=Object,Q=C.assign,Y=f[pb];var wa=b.config;if(Mf(g,p)){var db;let Fc;const fc=Lf(b)?null!=(Fc=null!=(db=b.axis(p))?db:b.legend(p))?Fc:{}:{};p=kc(g,{expr:"datum"});
db=kc(g,{expr:"datum",binSuffix:"end"});g={formulaAs:kc(g,{binSuffix:"range",forAs:!0}),formula:We(p,db,fc.format,fc.formatType,wa)}}else g={};f[pb]=Q.call(C,{},bc,Y,g)}return f},{});return jb(e)?null:new Bi(a,e)}static makeFromTransform(a,b,e){const {key:f,binComponent:g}=Cd(b,b.bin,e);return new Bi(a,{[f]:g})}merge(a,b){for(const e of bd(a.bins))e in this.bins?(b(a.bins[e].signal,this.bins[e].signal),this.bins[e].as=$a([...this.bins[e].as,...a.bins[e].as],Ub)):this.bins[e]=a.bins[e];for(const e of a.children)a.removeChild(e),
e.parent=this;a.remove()}producedFields(){return new Set(kg(this.bins).map(a=>a.as).flat(2))}dependentFields(){return new Set(kg(this.bins).map(a=>a.field))}hash(){return`Bin ${Ub(this.bins)}`}assemble(){return kg(this.bins).flatMap(a=>{const b=[],[e,...f]=a.as;var g=a.bin,p=Object.assign({},g);g=g.extent;p=(delete p.extent,p);p=Object.assign({},{type:"bin",field:cb(a.field),as:e,signal:a.signal},Sb(g)?{extent:null}:{extent:g},a.span?{span:{signal:`span(${a.span})`}}:{},p);!g&&a.extentSignal&&(b.push({type:"extent",
field:cb(a.field),signal:a.extentSignal}),p.extent={signal:a.extentSignal});b.push(p);for(const C of f)for(g=0;2>g;g++)b.push({type:"formula",expr:kc({field:e[g]},{expr:"datum"}),as:C[g]});a.formula&&b.push({type:"formula",expr:a.formula,as:a.formulaAs});return b})}}class zh extends hf{clone(){return new zh(null,new Set(this.dimensions),te(this.measures))}constructor(a,b,e){super(a);this.dimensions=b;this.measures=e}get groupBy(){return this.dimensions}static makeFromEncoding(a,b){let e=!1;b.forEachFieldDef(p=>
{p.aggregate&&(e=!0)});const f={},g=new Set;if(!e)return null;b.forEachFieldDef((p,C)=>{const {aggregate:Q,field:Y}=p;if(Q)if("count"===Q)null!=f["*"]||(f["*"]={}),f["*"].count=new Set([kc(p,{forAs:!0})]);else{if(ja(Q)||Ba(Q)){p=ja(Q)?"argmin":"argmax";var wa=Q[p];null!=f[wa]||(f[wa]={});f[wa][p]=new Set([kc({op:p,field:wa},{forAs:!0})])}else null!=f[Y]||(f[Y]={}),f[Y][Q]=new Set([kc(p,{forAs:!0})]);Mh[C]&&"unaggregated"===b.scaleDomain(C)&&(null!=f[Y]||(f[Y]={}),f[Y].min=new Set([kc({field:Y,aggregate:"min"},
{forAs:!0})]),f[Y].max=new Set([kc({field:Y,aggregate:"max"},{forAs:!0})]))}else{var db=Lf(b)?b.encoding[z(C)]:void 0;if(Hc(p)&&Lf(b)&&J(p,db,b.markDef,b.config)){g.add(kc(p,{}));g.add(kc(p,{suffix:"end"}));const {mark:pb,markDef:bc,config:Fc}=b;db=l({fieldDef:p,markDef:bc,config:Fc});dc(pb)&&.5!==db&&H(C)&&(g.add(kc(p,{suffix:"offsetted_rect_start"})),g.add(kc(p,{suffix:"offsetted_rect_end"})));p.bin&&Mf(p,C)&&g.add(kc(p,{binSuffix:"range"}))}else C in mi?(C=F(C),g.add(b.getName(C))):g.add(kc(p));
if(C=Fd(p))C=null==(wa=p.scale)?void 0:wa.range,C=h.isObject(C)&&"field"in C;C&&g.add(p.scale.range.field)}});return 0===g.size+bd(f).length?null:new zh(a,g,f)}static makeFromTransform(a,b){const e=new Set,f={};for(const p of b.aggregate){const {op:C,field:Q,as:Y}=p;if(C)if("count"===C){let wa;null!=(wa=f)["*"]||(wa["*"]={});f["*"].count=new Set([Y?Y:kc(p,{forAs:!0})])}else{let wa,db;null!=(wa=f)[db=Q]||(wa[db]={});f[Q][C]=new Set([Y?Y:kc(p,{forAs:!0})])}}let g;for(const p of null!=(g=b.groupby)?
g:[])e.add(p);return 0===e.size+bd(f).length?null:new zh(a,e,f)}merge(a){if(vb(this.dimensions,a.dimensions)){var b=this.measures;a=a.measures;for(const e of bd(a)){const f=a[e];for(const g of bd(f))if(e in b){let p;b[e][g]=new Set([...(null!=(p=b[e][g])?p:[]),...f[g]])}else b[e]={[g]:f[g]}}return!0}ua("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...bd(this.measures)])}producedFields(){const a=
new Set;for(const b of bd(this.measures))for(const e of bd(this.measures[b])){const f=this.measures[b][e];0===f.size?a.add(`${e}_${b}`):f.forEach(a.add,a)}return a}hash(){return`Aggregate ${Ub({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const a=[],b=[],e=[];for(const f of bd(this.measures))for(const g of bd(this.measures[f]))for(const p of this.measures[f][g])e.push(p),a.push(g),b.push("*"===f?null:cb(f));return{type:"aggregate",groupby:[...this.dimensions].map(cb),ops:a,fields:b,
as:e}}}class c extends hf{constructor(a,b,e,f){super(a);this.model=b;this.name=e;this.data=f;S(this,"column",void 0);S(this,"row",void 0);S(this,"facet",void 0);S(this,"childModel",void 0);for(const g of sh)if(a=b.facet[g]){const {bin:p,sort:C}=a;this[g]=Object.assign({},{name:b.getName(`${g}_domain`),fields:[kc(a),...(xb(p)?[kc(a,{binSuffix:"end"})]:[])]},pe(C)?{sortField:C}:h.isArray(C)?{sortIndexField:Ri(a,g)}:{})}this.childModel=b.child}hash(){let a="Facet";for(const b of sh)this[b]&&(a+=` ${b.charAt(0)}:${Ub(this[b])}`);
return a}get fields(){const a=[];for(const b of sh){let e;(null==(e=this[b])?0:e.fields)&&a.push(...this[b].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const b of sh)this[b]&&(this[b].sortField&&a.add(this[b].sortField.field),this[b].sortIndexField&&a.add(this[b].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const f of Ph){var b=this.childModel.component.scales[f];if(b&&!b.merged){var e=
b.get("type");b=b.get("range");Ke(e)&&Lb(b)&&(e=Ui(this.childModel,f),(e=dk(e))?a[f]=e:K(Mb(f)))}}return a}assembleRowColumnHeaderData(a,b,e){const f={row:"y",column:"x",facet:void 0}[a],g=[],p=[],C=[];f&&e&&e[f]&&(b?(g.push(`distinct_${e[f]}`),p.push("max")):(g.push(e[f]),p.push("distinct")),C.push(`distinct_${e[f]}`));const {sortField:Q,sortIndexField:Y}=this[a];if(Q){const {op:wa="min",field:db}=Q;g.push(db);p.push(wa);C.push(kc(Q,{forAs:!0}))}else Y&&(g.push(Y),p.push("max"),C.push(Y));return{name:this[a].name,
source:null!=b?b:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},g.length?{fields:g,ops:p,as:C}:{})]}}assembleFacetHeaderData(a){const {columns:b}=this.model.layout,{layoutHeaders:e}=this.model.component,f=[],g={};for(const Y of Bj){for(const wa of bl){let db;var p=null!=(db=e[Y]&&e[Y][wa])?db:[];for(const pb of p){let bc;if(0<(null==(bc=pb.axes)?void 0:bc.length)){g[Y]=!0;break}}}g[Y]&&(p=`length(data("${this.facet.name}"))`,f.push({name:`${this.facet.name}_${Y}`,
transform:[{type:"sequence",start:0,stop:"row"===Y?b?{signal:`ceil(${p} / ${b})`}:1:b?{signal:`min(${p}, ${b})`}:{signal:p}}]}))}const {row:C,column:Q}=g;(C||Q)&&f.unshift(this.assembleRowColumnHeaderData("facet",null,a));return f}assemble(){const a=[];var b=null;const e=this.getChildIndependentFieldsWithStep(),{column:f,row:g,facet:p}=this;if(f&&g&&(e.x||e.y)){b=`cross_${this.column.name}_${this.row.name}`;var C;let Q;const Y=[].concat(null!=(C=e.x)?C:[],null!=(Q=e.y)?Q:[]);C=Y.map(()=>"distinct");
a.push({name:b,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Y,ops:C}]})}for(const Q of["column","row"])this[Q]&&a.push(this.assembleRowColumnHeaderData(Q,b,e));p&&(b=this.assembleFacetHeaderData(e))&&a.push(...b);return a}}class d extends hf{clone(){return new d(null,te(this._parse))}constructor(a,b){super(a);S(this,"_parse",void 0);this._parse=b}hash(){return`Parse ${Ub(this._parse)}`}static makeExplicit(a,b,e){let f={};b=b.data;let g;!pg(b)&&(null==b?0:null==(g=b.format)?
0:g.parse)&&(f=b.format.parse);return this.makeWithAncestors(a,f,{},e)}static makeWithAncestors(a,b,e,f){for(var g of bd(e)){const C=f.getWithExplicit(g);void 0!==C.value&&(C.explicit||C.value===e[g]||"derived"===C.value||"flatten"===e[g]?delete e[g]:K(yc(g,e[g],C.value)))}for(var p of bd(b))g=f.get(p),void 0!==g&&(g===b[p]?delete b[p]:K(yc(p,b[p],g)));b=new If(b,e);f.copyAll(b);e={};for(const C of bd(b.combine()))p=b.get(C),null!==p&&(e[C]=p);return 0===bd(e).length||f.parseNothing?null:new d(a,
e)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const b of bd(this._parse)){const e=this._parse[b];1===gb(b)&&(a[b]=e)}return a}producedFields(){return new Set(bd(this._parse))}dependentFields(){return new Set(bd(this._parse))}assembleTransforms(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return bd(this._parse).filter(b=>a?1<gb(b):!0).map(b=>{const e=Df(b,this._parse[b]);return e?{type:"formula",
expr:e,as:Pb(b)}:null}).filter(b=>null!==b)}}class k extends hf{clone(){return new k(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class x extends hf{clone(){return new x(null,this.params)}constructor(a,b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Ub(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},
!0===this.params?{}:this.params)}}class T extends hf{clone(){return new T(null,this.params)}constructor(a,b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${Ub(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class ea extends hf{constructor(a){super(null);S(this,"_data",void 0);S(this,"_name",void 0);S(this,"_generator",void 0);null!=a||(a={name:"source"});let b;
pg(a)||(b=a.format?Object.assign({},Zb(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!b.type){let e=/(?:\.([^.]+))?$/.exec(a.url)[1];Bb(["json","csv","tsv","dsv","topojson"],e)||(e="json");b.type=e}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Mi(a)||pg(a))this._data={};this._generator=pg(a);a.name&&(this._name=a.name);b&&!jb(b)&&(this._data.format=b)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=
a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var Sa=new WeakMap;class Tb{constructor(){if(Sa.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");Sa.set(this,{writable:!0,value:void 0});v(this,Sa,!1)}setModified(){v(this,Sa,!0)}get modifiedFlag(){var a=
ca(this,Sa,"get");return a.get?a.get.call(this):a.value}}class hc extends Tb{getNodeDepths(a,b,e){e.set(a,b);for(const f of a.children)this.getNodeDepths(f,b+1,e);return e}optimize(a){a=[...this.getNodeDepths(a,0,new Map).entries()].sort((b,e)=>e[1]-b[1]);for(const b of a)this.run(b[0]);return this.modifiedFlag}}class Jc extends Tb{optimize(a){this.run(a);for(const b of a.children)this.optimize(b);return this.modifiedFlag}}class ed extends Jc{mergeNodes(a,b){const e=b.shift();for(const f of b)a.removeChild(f),
f.parent=e,f.remove()}run(a){const b=a.children.map(f=>f.hash()),e={};for(let f=0;f<b.length;f++)void 0===e[b[f]]?e[b[f]]=[a.children[f]]:e[b[f]].push(a.children[f]);for(const f of bd(e))1<e[f].length&&(this.setModified(),this.mergeNodes(a,e[f]))}}class ld extends Jc{constructor(a){super();S(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&zf(a)}run(a){!(a instanceof k)||this.requiresSelectionId&&(zg(a.parent)||a.parent instanceof zh||a.parent instanceof d)||(this.setModified(),a.remove())}}
class cd extends Tb{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,b){let e=new Set;a instanceof xh&&(e=a.producedFields(),ub(e,b)&&(this.setModified(),a.removeFormulas(b),0===a.producedFields.length&&a.remove()));for(const f of a.children)this.run(f,new Set([...b,...e]))}}class Dd extends Jc{constructor(){super()}run(a){a instanceof Pg&&!a.isRequired()&&(this.setModified(),a.remove())}}class Qd extends hc{run(a){if(!(zg(a)||1<a.numChildren()))for(const b of a.children)b instanceof
d&&(a instanceof d?(this.setModified(),a.merge(b)):wb(a.producedFields(),b.dependentFields())||(this.setModified(),b.swapWithParent()))}}class Vd extends hc{run(a){const b=[...a.children];var e=a.children.filter(g=>g instanceof d);if(1<a.numChildren()&&1<=e.length){const g={};var f=new Set;for(const p of e){e=p.parse;for(const C of bd(e))C in g?g[C]!==e[C]&&f.add(C):g[C]=e[C]}for(const p of f)delete g[p];if(!jb(g)){this.setModified();f=new d(a,g);for(const p of b){if(p instanceof d)for(const C of bd(g))delete p.parse[C];
a.removeChild(p);p.parent=f;p instanceof d&&0===bd(p.parse).length&&p.remove()}}}}}class Zf extends hc{run(a){a instanceof Pg||0<a.numChildren()||a instanceof c||a instanceof ea||(this.setModified(),a.remove())}}class Cc extends hc{run(a){a=a.children.filter(e=>e instanceof xh);const b=a.pop();for(const e of a)this.setModified(),b.merge(e)}}class qc extends hc{run(a){var b=a.children.filter(g=>g instanceof zh);const e={};for(var f of b)b=Ub(f.groupBy),b in e||(e[b]=[]),e[b].push(f);for(const g of bd(e))if(f=
e[g],1<f.length){b=f.pop();for(const p of f)b.merge(p)&&(a.removeChild(p),p.parent=b,p.remove(),this.setModified())}}}class Gc extends hc{constructor(a){super();this.model=a}run(a){var b=!(zg(a)||a instanceof wi||a instanceof d||a instanceof k);const e=[],f=[];for(const g of a.children)g instanceof Bi&&(b&&!wb(a.producedFields(),g.dependentFields())?e.push(g):f.push(g));if(0<e.length){b=e.pop();for(const g of e)b.merge(g,this.model.renameSignal.bind(this.model));this.setModified();a instanceof Bi?
a.merge(b,this.model.renameSignal.bind(this.model)):b.swapWithParent()}if(1<f.length){a=f.pop();for(const g of f)a.merge(g,this.model.renameSignal.bind(this.model));this.setModified()}}}class sd extends hc{run(a){var b=[...a.children];if(Rb(b,g=>g instanceof Pg)&&!(1>=a.numChildren())){var e=[];for(const g of b)if(g instanceof Pg){for(b=g;1===b.numChildren();){const [p]=b.children;if(p instanceof Pg)b=p;else break}e.push(...b.children);if(f)a.removeChild(g),g.parent=f.parent,f.parent.removeChild(f),
f.parent=b,this.setModified();else var f=b}else e.push(g);if(e.length){this.setModified();for(const g of e)g.parent.removeChild(g),g.parent=f}}}}class Od extends hf{clone(){return new Od(null,te(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=$a(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(b=>b.field).filter(b=>void 0!==b).forEach(a.add,
a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:kc(a)}hash(){return`JoinAggregateTransform ${Ub(this.transform)}`}assemble(){const a=[],b=[],e=[];for(var f of this.transform.joinaggregate)b.push(f.op),e.push(this.getDefaultName(f)),a.push(void 0===f.field?null:f.field);f=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==f?{groupby:f}:{})}}class Yd extends hf{clone(){return new Yd(null,
te(this._stack))}constructor(a,b){super(a);S(this,"_stack",void 0);this._stack=b}static makeFromTransform(a,b){const {stack:e,groupby:f,as:g,offset:p="zero"}=b;var C=[];const Q=[];if(void 0!==b.sort)for(const Y of b.sort)C.push(Y.field),Q.push(V(Y.order,"ascending"));C={field:C,order:Q};b=ne(g)?g:h.isString(g)?[g,`${g}_end`]:[`${b.stack}_start`,`${b.stack}_end`];return new Yd(a,{dimensionFieldDefs:[],stackField:e,groupby:f,offset:p,sort:C,facetby:[],as:b})}static makeFromEncoding(a,b){var e=b.stack;
const {encoding:f}=b;if(!e)return null;const {groupbyChannels:g,fieldChannel:p,offset:C,impute:Q}=e;e=g.map(db=>le(f[db])).filter(db=>!!db);const Y=Kf(b);var wa=b.encoding.order;if(h.isArray(wa)||Ka(wa))wa=Kc(wa);else{const db=wa&&wa.sort&&!wa.field?wa.sort:"y"===p?"descending":"ascending";wa=Y.reduce((pb,bc)=>{pb.field.push(bc);pb.order.push(db);return pb},{field:[],order:[]})}return new Yd(a,{dimensionFieldDefs:e,stackField:b.vgField(p),facetby:[],stackby:Y,sort:wa,offset:C,impute:Q,as:[b.vgField(p,
{suffix:"start",forAs:!0}),b.vgField(p,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Ub(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:b,groupby:e}=this._stack;
return 0<a.length?a.map(f=>f.bin?b?[kc(f,{binSuffix:"mid"})]:[kc(f,{}),kc(f,{binSuffix:"end"})]:[kc(f)]).flat():null!=e?e:[]}assemble(){const a=[],{facetby:b,dimensionFieldDefs:e,stackField:f,stackby:g,sort:p,offset:C,impute:Q,as:Y}=this._stack;if(Q)for(const wa of e){const {bandPosition:db=.5,bin:pb}=wa;if(pb){const bc=kc(wa,{expr:"datum"}),Fc=kc(wa,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${db}*${bc}+${1-db}*${Fc}`,as:kc(wa,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",
field:f,groupby:[...g,...b],key:kc(wa,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...b],field:f,sort:p,as:Y,offset:C});return a}}class fe extends hf{clone(){return new fe(null,te(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=$a(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;let b;(null!=(b=this.transform.groupby)?b:[]).forEach(a.add,a);let e;(null!=(e=this.transform.sort)?
e:[]).forEach(f=>a.add(f.field));this.transform.window.map(f=>f.field).filter(f=>void 0!==f).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:kc(a)}hash(){return`WindowTransform ${Ub(this.transform)}`}assemble(){const a=[],b=[],e=[],f=[];for(var g of this.transform.window)b.push(g.op),e.push(this.getDefaultName(g)),f.push(void 0===g.param?null:g.param),a.push(void 0===g.field?null:g.field);g=this.transform.frame;
const p=this.transform.groupby;if(g&&null===g[0]&&null===g[1]&&b.every(wa=>Na(wa)))return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==p?{groupby:p}:{});const C=[],Q=[];if(void 0!==this.transform.sort)for(var Y of this.transform.sort){C.push(Y.field);let wa;Q.push(null!=(wa=Y.order)?wa:"ascending")}Y=this.transform.ignorePeers;return Object.assign({},{type:"window",params:f,as:e,ops:b,fields:a,sort:{field:C,order:Q}},void 0!==Y?{ignorePeers:Y}:{},void 0!==p?{groupby:p}:{},
void 0!==g?{frame:g}:{})}}class Rd{constructor(a){S(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,b){return new Rd(()=>a(b))}}class ug extends If{constructor(a,b){super({},{name:a});S(this,"merged",!1);this.setWithExplicit("type",b)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:Rb(this.get("domains"),a=>h.isArray(a)&&2===a.length&&h.isNumber(a[0])&&0>=a[0]&&h.isNumber(a[1])&&0<=a[1])}}const df=["range","scheme"],pi={bins:a=>{let {model:b,
fieldOrDatumDef:e}=a;return Ka(e)?mj(b,e):void 0},interpolate:a=>{let {channel:b,fieldOrDatumDef:e}=a;a=e.type;a=Bb(["color","fill","stroke"],b)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:b,channel:e,domain:f,domainMin:g,domainMax:p,fieldOrDatumDef:C}=a;{let Q;a=(null==(Q=le(C))?0:Q.bin)||h.isArray(f)||null!=p||null!=g||Bb([gg.TIME,gg.UTC],b)?void 0:H(e)?!0:void 0}return a},padding:a=>{let {channel:b,scaleType:e,fieldOrDatumDef:f,markDef:g,config:p}=a;a:{a=p.scale;var C=p.bar;if(H(b)){if(lg.has(e)){if(void 0!==
a.continuousPadding){a=a.continuousPadding;break a}const {type:Q,orient:Y}=g;if("bar"===Q&&(!Ka(f)||!f.bin&&!f.timeUnit)&&("vertical"===Y&&"x"===b||"horizontal"===Y&&"y"===b)){a=C.continuousBandSize;break a}}if(e===gg.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>{let {scalePadding:b,channel:e,markDef:f,scaleType:g,config:p,hasNestedOffsetScale:C}=a;return bk(b,e,f.type,g,p.scale,C)},paddingOuter:a=>{let {scalePadding:b,channel:e,scaleType:f,scalePaddingInner:g,config:p,hasNestedOffsetScale:C}=
a;return ck(b,e,f,g,p.scale,C)},reverse:a=>{let {fieldOrDatumDef:b,scaleType:e,channel:f,config:g}=a;a=Ka(b)?b.sort:void 0;var p=g.scale;a="x"===f&&void 0!==p.xReverse?Ed(e)&&"descending"===a?Jb(p.xReverse)?{signal:`!${p.xReverse.signal}`}:!p.xReverse:p.xReverse:Ed(e)&&"descending"===a?!0:void 0;return a},zero:a=>{let {channel:b,fieldOrDatumDef:e,domain:f,markDef:g,scaleType:p,config:C,hasSecondaryRangeChannel:Q}=a;a:if(a=C.scale,f&&"unaggregated"!==f&&Ed(p)){if(h.isArray(f)){a=f[0];const Y=f[f.length-
1];if(h.isNumber(a)&&0>=a&&h.isNumber(Y)&&0<=Y){a=!0;break a}}a=!1}else if("size"!==b||"quantitative"!==e.type||ai.has(p))if(Ka(e)&&e.bin||!Bb([...Ph,...ol],b))a=!1;else{const {orient:Y,type:wa}=g;a=Bb(["bar","area","line","trail"],wa)&&("horizontal"===Y&&"y"===b||"vertical"===Y&&"x"===b)?!1:Bb(["bar","area"],wa)&&!Q?!0:null==a?void 0:a.zero}else a=!0;return a}},Wl=Ih((a,b)=>ch[a]-ch[b]);class vm{constructor(){S(this,"nameMap",void 0);this.nameMap={}}rename(a,b){this.nameMap[a]=b}has(a){return void 0!==
this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class wm{constructor(a,b,e,f,g,p,C){this.type=b;this.parent=e;this.config=g;S(this,"name",void 0);S(this,"size",void 0);S(this,"title",void 0);S(this,"description",void 0);S(this,"data",void 0);S(this,"transforms",void 0);S(this,"layout",void 0);S(this,"scaleNameMap",void 0);S(this,"projectionNameMap",void 0);S(this,"signalNameMap",void 0);S(this,"component",void 0);S(this,"view",void 0);S(this,"children",
void 0);S(this,"correctDataNames",wa=>{let db;if(null==(db=wa.from)?0:db.data)wa.from.data=this.lookupDataSource(wa.from.data);let pb,bc;if(null==(pb=wa.from)?0:null==(bc=pb.facet)?0:bc.data)wa.from.facet.data=this.lookupDataSource(wa.from.facet.data);return wa});this.parent=e;this.config=g;this.view=Nb(C);let Q;this.name=null!=(Q=a.name)?Q:f;this.title=Wb(a.title)?{text:a.title}:a.title?Nb(a.title):void 0;this.scaleNameMap=e?e.scaleNameMap:new vm;this.projectionNameMap=e?e.projectionNameMap:new vm;
this.signalNameMap=e?e.signalNameMap:new vm;this.data=a.data;this.description=a.description;let Y;this.transforms=Hh(null!=(Y=a.transform)?Y:[]);this.layout="layer"===b||"unit"===b?{}:Re(a,b,g);this.component={data:{sources:e?e.component.data.sources:[],outputNodes:e?e.component.data.outputNodes:{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==e?void 0:e.component.data.isFaceted)&&void 0===a.data},layoutSize:new If,layoutHeaders:{row:{},column:{},facet:{}},
mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},p?te(p):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){ek(this)}parseProjection(){mc(this)}renameTopLevelLayoutSizeSignal(){"width"!==
this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){qb(this)}assembleEncodeFromView(a){a=Object.assign({},a);a=(delete a.style,a);const b={};for(const e of bd(a)){const f=a[e];void 0!==f&&(b[e]=Ta(f))}return b}assembleGroupEncodeEntry(a){let b={};this.view&&(b=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(b.description=Ta(this.description)),"unit"===this.type||
"layer"===this.type)){let e;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(e=b)?e:{})}return jb(b)?void 0:b}assembleLayout(){if(this.layout){var a=this.layout,b=Object.assign({},a);a=a.spacing;b=(delete b.spacing,b);var {component:e,config:f}=this,g=e.layoutHeaders,p={};for(Q of sh){var C=g[Q];let Y;if(null==(Y=C)?0:Y.facetFieldDef){const {titleAnchor:wa,titleOrient:db}=Wh(["titleAnchor","titleOrient"],C.facetFieldDef.header,f,Q);C=Ag(Q,
db);const pb=El[C][wa];void 0!==pb&&(p[C]=pb)}}var Q=jb(p)?void 0:p;return Object.assign({},{padding:a},this.assembleDefaultLayout(),b,Q?{titleBand:Q}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=this.component,b=[];for(var e of sh)if(a[e].title){var f=b,g=f.push;var p=e;var C=this.component.layoutHeaders[p].title,Q=this.config?this.config:void 0,Y=this.component.layoutHeaders[p].facetFieldDef?this.component.layoutHeaders[p].facetFieldDef:void 0;const {titleAnchor:Ec,
titleAngle:Qc,titleOrient:Tc}=Wh(["titleAnchor","titleAngle","titleOrient"],Y.header,Q,p);var wa=Ag(p,Tc),db=Ma(Qc);p={name:`${p}-title`,type:"group",role:`${wa}-title`,title:Object.assign({},{text:C},"row"===p?{orient:"left"}:{},{style:"guide-title"},hj(db,wa),Lh(wa,db,Ec),Hj(Q,Y,p,ok,sl))};g.call(f,p)}for(const Ec of Bj){a=b;b=a.concat;f=Ec;g=this.component.layoutHeaders[f];e=[];for(const Qc of bl)if(g[Qc])for(const Tc of g[Qc]){a:{Y=void 0;p=f;var pb=Qc,bc=g;if(C=Tc){Q=null;({facetFieldDef:fc}=
bc);wa=this.config?this.config:void 0;fc&&C.labels&&({labelOrient:db}=Wh(["labelOrient"],fc.header,wa,p),"row"===p&&!Bb(["top","bottom"],db)||"column"===p&&!Bb(["left","right"],db))&&(Q=jj(fc,p,wa));const Ud=ih(this)&&!ae(this.facet),Md=C.axes,re=0<(null==Md?void 0:Md.length);if(Q||re){const De="row"===p?"height":"width";wa=Object;db=wa.assign;pb={name:this.getName(`${p}_${pb}`),type:"group",role:`${p}-${pb}`};if(bc.facetFieldDef){bc={data:this.getName(`${p}_domain`)};{var Fc=fc;const {sort:Jf}=Fc;
var fc=pe(Jf)?{field:kc(Jf,{expr:"datum"}),order:null!=(Y=Jf.order)?Y:"ascending"}:h.isArray(Jf)?{field:Ri(Fc,p,{expr:"datum"}),order:"ascending"}:{field:kc(Fc,{expr:"datum"}),order:null!=Jf?Jf:"ascending"}}Y={from:bc,sort:fc}}else Y={};p=db.call(wa,{},pb,Y,re&&Ud?{from:{data:this.getName(`facet_domain_${p}`)}}:{},Q?{title:Q}:{},C.sizeSignal?{encode:{update:{[De]:C.sizeSignal}}}:{},re?{axes:Md}:{});break a}}p=null}null!=p&&e.push(p)}b=b.call(a,e)}return b}assembleAxes(){return Uj(this.component.axes,
this.config)}assembleLegends(){return oc(this)}assembleProjections(){var a=Ti(this)||Tk(this)?Sc(this):Yc(this);return a}assembleTitle(){var a,b=null!=(a=this.title)?a:{};a=Object.assign({},b);b=b.encoding;a=(delete a.encoding,a);b=Object.assign({},nc(this.config.title).nonMarkTitleProperties,a,b?{encode:{update:b}}:{});if(b.text)return Bb(["unit","layer"],this.type)?Bb(["middle",void 0],b.anchor)&&(null!=b.frame||(b.frame="group")):null!=b.anchor||(b.anchor="start"),jb(b)?void 0:b}assembleGroup(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const b={};a=a.concat(this.assembleSignals());0<a.length&&(b.signals=a);if(a=this.assembleLayout())b.layout=a;b.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||ih(this.parent)?nl(this):[];0<a.length&&(b.scales=a);a=this.assembleAxes();0<a.length&&(b.axes=a);a=this.assembleLegends();0<a.length&&(b.legends=a);return b}getName(a){return ta((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(mf[a].toLowerCase())}requestDataName(a){a=
this.getDataName(a);const b=this.component.data.outputNodeRefCounts;b[a]=(b[a]||0)+1;return a}getSizeSignalRef(a){if(ih(this.parent)){var b=Xi(a),e=W(b);if((b=this.component.scales[e])&&!b.merged){var f=b.get("type");const g=b.get("range");if(Ke(f)&&Lb(g)){a=b.get("name");f=Ui(this,e);if(f=dk(f))return e=kc({aggregate:"distinct",field:f},{expr:"datum"}),{signal:yh(a,b,e)};K(Mb(e));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const b=this.component.data.outputNodes[a];
return b?b.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,b){this.signalNameMap.rename(a,b)}renameScale(a,b){this.scaleNameMap.rename(a,b)}renameProjection(a,b){this.projectionNameMap.rename(a,b)}scaleName(a,b){if(b)return this.getName(a);if(Ej[a]&&Mh[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||
this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const b=this.component.scales[a];return b&&!b.merged?b:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,b){let e=this.component.selection[a];!e&&this.parent&&(e=this.parent.getSelectionComponent(a,
b));if(!e)throw Error(`Cannot find a selection named "${b}".`);return e}hasAxisOrientSignalRef(){let a,b;return(null==(a=this.component.axes.x)?void 0:a.some(e=>e.hasOrientSignalRef()))||(null==(b=this.component.axes.y)?void 0:b.some(e=>e.hasOrientSignalRef()))}}class Em extends wm{vgField(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const e=this.fieldDef(a);if(e)return kc(e,b)}reduceFieldDef(a,b){return Wg(this.getMapping(),(e,f,g)=>(f=le(f))?a(e,f,g):e,b)}forEachFieldDef(a,
b){Vg(this.getMapping(),(e,f)=>{(e=le(e))&&a(e,f)},b)}}class om extends hf{clone(){return new om(null,te(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=te(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:"value",null!=(g=a[1])?g:"density"]}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Ub(this.transform)}`}assemble(){var a=
this.transform,b=Object.assign({},a);a=a.density;b=(delete b.density,b);b=Object.assign({},{type:"kde",field:a},b);this.transform.groupby&&(b.resolve="shared");return b}}class um extends hf{clone(){return new um(null,te(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=te(b)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Ub(this.transform)}`}assemble(){const {extent:a,param:b}=this.transform;return{type:"extent",
field:a,signal:b}}}class Gl extends hf{clone(){return new Gl(null,Object.assign({},this.filter))}constructor(a,b){super(a);this.filter=b}static make(a,b){const {config:e,mark:f,markDef:g}=b;if("filter"!==Xb("invalid",g,e))return null;const p=b.reduceFieldDef((C,Q,Y)=>{if(Y=!!Mh[Y]&&b.getScaleComponent(Y))Y=Y.get("type"),Ed(Y)&&"count"!==Q.aggregate&&!Va(f)&&(C[Q.field]=Q);return C},{});return bd(p).length?new Gl(a,p):null}dependentFields(){return new Set(bd(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Ub(this.filter)}`}assemble(){const a=
bd(this.filter).reduce((b,e)=>{e=this.filter[e];const f=kc(e,{expr:"datum"});null!==e&&("temporal"===e.type?b.push(`(isDate(${f}) || (isValid(${f}) && isFinite(+${f})))`):"quantitative"===e.type&&(b.push(`isValid(${f})`),b.push(`isFinite(+${f})`)));return b},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class nm extends hf{clone(){return new nm(this.parent,te(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=te(b);const {flatten:e,as:f=[]}=this.transform;
this.transform.as=e.map((g,p)=>{let C;return null!=(C=f[p])?C:g})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Ub(this.transform)}`}assemble(){const {flatten:a,as:b}=this.transform;return{type:"flatten",fields:a,as:b}}}class mm extends hf{clone(){return new mm(null,te(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=te(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,
g;this.transform.as=[null!=(f=a[0])?f:"key",null!=(g=a[1])?g:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Ub(this.transform)}`}assemble(){const {fold:a,as:b}=this.transform;return{type:"fold",fields:a,as:b}}}class jl extends hf{clone(){return new jl(null,te(this.fields),this.geojson,this.signal)}static parseAll(a,b){if(b.component.projection&&!b.component.projection.isFit)return a;let e=0;for(var f of[["longitude",
"latitude"],["longitude2","latitude2"]]){const g=f.map(p=>{p=ve(b.encoding[p]);return Ka(p)?p.field:nb(p)?{expr:`${p.datum}`}:Uc(p)?{expr:`${p.value}`}:void 0});if(g[0]||g[1])a=new jl(a,g,null,b.getName(`geojson_${e++}`))}b.channelHasField("shape")&&(f=b.typedFieldDef("shape"),"geojson"===f.type&&(a=new jl(a,null,f.field,b.getName(`geojson_${e++}`))));return a}constructor(a,b,e,f){super(a);this.fields=b;this.geojson=e;this.signal=f}dependentFields(){let a;const b=(null!=(a=this.fields)?a:[]).filter(h.isString);
return new Set([...(this.geojson?[this.geojson]:[]),...b])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Ub(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Hl extends hf{clone(){return new Hl(null,this.projection,te(this.fields),te(this.as))}constructor(a,
b,e,f){super(a);this.projection=b;this.fields=e;this.as=f}static parseAll(a,b){if(!b.projectionName())return a;for(const e of[["longitude","latitude"],["longitude2","latitude2"]]){const f=e.map(p=>{p=ve(b.encoding[p]);return Ka(p)?p.field:nb(p)?{expr:`${p.datum}`}:Uc(p)?{expr:`${p.value}`}:void 0}),g="longitude2"===e[0]?"2":"";if(f[0]||f[1])a=new Hl(a,b.projectionName(),f,[b.getName(`x${g}`),b.getName(`y${g}`)])}return a}dependentFields(){return new Set(this.fields.filter(h.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Ub(this.fields)} ${Ub(this.as)}`}assemble(){return{type:"geopoint",
projection:this.projection,fields:this.fields,as:this.as}}}class Ek extends hf{clone(){return new Ek(null,te(this.transform))}constructor(a,b){super(a);this.transform=b}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:b=0,stop:e,step:f}=a;return{signal:`sequence(${[b,e,...(f?[f]:[])].join()})`}}static makeFromTransform(a,b){return new Ek(a,
b)}static makeFromEncoding(a,b){const e=b.encoding;var f=e.x;const g=e.y;if(Ka(f)&&Ka(g)){const p=f.impute?f:g.impute?g:void 0;if(void 0===p)return;f=f.impute?g:g.impute?f:void 0;const {method:C,value:Q,frame:Y,keyvals:wa}=p.impute;b=kh(b.mark,e);return new Ek(a,Object.assign({},{impute:p.field,key:f.field},C?{method:C}:{},void 0!==Q?{value:Q}:{},Y?{frame:Y}:{},void 0!==wa?{keyvals:wa}:{},b.length?{groupby:b}:{}))}return null}hash(){return`Impute ${Ub(this.transform)}`}assemble(){const {impute:a,
key:b,keyvals:e,method:f,groupby:g,value:p,frame:C=[null,null]}=this.transform;var Q=Object,Y=Q.assign;var wa=e?{keyvals:void 0!==(null==e?void 0:e.stop)?this.processSequence(e):e}:{};Q=Y.call(Q,{},{type:"impute",field:a,key:b},wa,{method:"value"},g?{groupby:g}:{},{value:f&&"value"!==f?null:p});return f&&"value"!==f?(Y=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[f],fields:[a],frame:C,ignorePeers:!1},g?{groupby:g}:{}),[Q,Y,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,
as:a}]):[Q]}}class pm extends hf{clone(){return new pm(null,te(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=te(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:b.on,null!=(g=a[1])?g:b.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Ub(this.transform)}`}assemble(){var a=
this.transform,b=Object.assign({},a);const e=a.loess;a=a.on;b=(delete b.loess,delete b.on,b);return Object.assign({},{type:"loess",x:a,y:e},b)}}class Il extends hf{clone(){return new Il(null,te(this.transform),this.secondary)}constructor(a,b,e){super(a);this.transform=b;this.secondary=e}static make(a,b,e,f){const g=b.component.data.sources,{from:p}=e;var C=null;if("data"in p)C=pl(p.data,g),C||(C=new ea(p.data),g.push(C)),f=b.getName(`lookup_${f}`),C=new Pg(C,f,mf.Lookup,b.component.data.outputNodeRefCounts),
b.component.data.outputNodes[f]=C;else if("param"in p){f=p.param;e=Object.assign({},{as:f},e);let Q;try{Q=b.getSelectionComponent(ta(f),f)}catch(Y){throw Error(`Lookups can only be performed on selection parameters. "${f}" is a variable parameter.`);}C=Q.materialized;if(!C)throw Error(`Cannot define and lookup the "${f}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new Il(a,e,C.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?
h.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Ub({transform:this.transform,secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:h.array(this.transform.as)}:{});else a=this.transform.as,h.isString(a)||(K('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},
{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},a,this.transform.default?{default:this.transform.default}:{})}}class qm extends hf{clone(){return new qm(null,te(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=te(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:"prob",null!=(g=a[1])?g:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Ub(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);a=a.quantile;b=(delete b.quantile,b);return Object.assign({},{type:"quantile",field:a},b)}}class rm extends hf{clone(){return new rm(null,te(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=te(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:b.on,null!=(g=
a[1])?g:b.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Ub(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);const e=a.regression;a=a.on;b=(delete b.regression,delete b.on,b);return Object.assign({},{type:"regression",x:a,y:e},b)}}class tm extends hf{clone(){return new tm(null,te(this.transform))}constructor(a,
b){super(a);this.transform=b}addDimensions(a){let b;this.transform.groupby=$a((null!=(b=this.transform.groupby)?b:[]).concat(a),e=>e)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${Ub(this.transform)}`}assemble(){const {pivot:a,value:b,groupby:e,limit:f,op:g}=this.transform;return Object.assign({},{type:"pivot",field:a,value:b},void 0!==f?{limit:f}:{},void 0!==g?{op:g}:
{},void 0!==e?{groupby:e}:{})}}class sm extends hf{clone(){return new sm(null,te(this.transform))}constructor(a,b){super(a);this.transform=b}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Ub(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class Kl extends Em{constructor(a,b,e,f){super(a,"facet",b,e,f,a.resolve);S(this,"facet",void 0);S(this,"child",void 0);S(this,"children",void 0);this.child=fl(a.spec,this,this.getName("child"),
void 0,f);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!ae(a))return{facet:this.initFacetFieldDef(a,"facet")};var b=bd(a);const e={};for(const f of b){if(!["row","column"].includes(f)){K(Pc(f,"facet"));break}b=a[f];if(void 0===b.field){K($c(b,f));break}e[f]=this.initFacetFieldDef(b,f)}return e}initFacetFieldDef(a,b){a=Vc(a,b);a.header?a.header=Nb(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=
jk(this);this.child.parseData()}parseLayoutSize(){Rk(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const f of sh){var a=void 0,b=f;const {facet:g,config:p,child:C,component:Q}=this;if(this.channelHasField(b)){const Y=g[b];var e=hi("title",null,p,b);e=de(Y,p,{allowDisabling:!0,includeDefault:void 0===e||!!e});C.component.layoutHeaders[b].title&&
(e=h.isArray(e)?e.join(", "):e,e+=` / ${C.component.layoutHeaders[b].title}`,C.component.layoutHeaders[b].title=null);const wa=hi("labelOrient",Y.header,p,b),db=null!==Y.header?V(null==(a=Y.header)?void 0:a.labels,p.header.labels,!0):!1;a=Bb(["bottom","right"],wa)?"footer":"header";Q.layoutHeaders[b]={title:null!==Y.header?e:null,facetFieldDef:Y,[a]:"facet"===b?[]:[Qk(this,b,db)]}}}Bl(this,"x");Bl(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();
return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a={};for(const f of sh)for(const g of bl){const p=this.component.layoutHeaders[f];var b=p[g],{facetFieldDef:e}=p;if(e&&(e=hi("titleOrient",e.header,this.config,f),["right","bottom"].includes(e))){e=Ag(f,e);let Q;null!=(Q=a).titleAnchor||(Q.titleAnchor={});a.titleAnchor[e]="end"}let C;if(null==(C=b)?0:C[0]){b="row"===f?"height":"width";e="header"===g?"headerBand":"footerBand";if("facet"!==f&&
!this.child.component.layoutSize.get(b)){let Q,Y;null!=(Q=a)[Y=e]||(Q[Y]={});a[e][f]=.5}if(p.title){let Q;null!=(Q=a).offset||(Q.offset={});a.offset["row"===f?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:b}=this.facet,e=a?this.columnDistinctSignal():b?1:void 0;let f="all";b||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(f="none"):f="none";return Object.assign({},this.getHeaderLayoutMixins(),e?{columns:e}:{},
{bounds:"full",align:f})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Kl))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof Kl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:kc(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=
[],b=[],e=[];if(this.child instanceof Kl){if(this.child.channelHasField("column")){var f=kc(this.child.facet.column);a.push(f);b.push("distinct");e.push(`distinct_${f}`)}}else for(f of Ph){var g=this.child.component.scales[f];if(g&&!g.merged){var p=g.get("type");g=g.get("range");Ke(p)&&Lb(g)&&(p=Ui(this.child,f),(p=dk(p))?(a.push(p),b.push("distinct"),e.push(`distinct_${p}`)):K(Mb(f)))}}return{fields:a,ops:b,as:e}}assembleFacet(){const {name:a,data:b}=this.component.data.facetRoot,{row:e,column:f}=
this.facet,{fields:g,ops:p,as:C}=this.getCardinalityAggregateForChild(),Q=[];for(var Y of sh){var wa=this.facet[Y];if(wa){Q.push(kc(wa));const {bin:db,sort:pb}=wa;xb(db)&&Q.push(kc(wa,{binSuffix:"end"}));if(pe(pb)){const {field:bc,op:Fc="min"}=pb;wa=dl(wa,pb);e&&f?(g.push(wa),p.push("max")):(g.push(bc),p.push(Fc));C.push(wa)}else h.isArray(pb)&&(wa=Ri(wa,Y),g.push(wa),p.push("max"),C.push(wa))}}Y=!!e&&!!f;return Object.assign({},{name:a,data:b,groupby:Q},Y||0<g.length?{aggregate:Object.assign({},
Y?{cross:Y}:{},g.length?{fields:g,ops:p,as:C}:{})}:{})}facetSortFields(a){var {facet:b}=this;return(b=b[a])?pe(b.sort)?[dl(b,b.sort,{expr:"datum"})]:h.isArray(b.sort)?[Ri(b,a,{expr:"datum"})]:[kc(b,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:b}=this;return(a=b[a])?({sort:a}=a,[(pe(a)?a.order:!h.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:b}=this;if(a.facet)return jj(a.facet,"facet",b);const e={row:["top","bottom"],column:["left","right"]};for(const f of Bj)if(a[f]){let g;
const p=hi("labelOrient",null==(g=a[f])?void 0:g.header,b,f);if(e[f].includes(p))return jj(a[f],f,b)}}assembleMarks(){const {child:a}=this,b=Xj(this.component.data.facetRoot),e=a.assembleGroupEncodeEntry(!1),f=this.assembleLabelTitle()||a.assembleTitle(),g=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},f?{title:f}:{},g?{style:g}:{},{from:{facet:this.assembleFacet()},sort:{field:sh.map(p=>this.facetSortFields(p)).flat(),order:sh.map(p=>this.facetSortOrder(p)).flat()}},
0<b.length?{data:b}:{},e?{encode:{update:e}}:{},a.assembleGroup($g(this,[])))]}getMapping(){return this.facet}}class Jm extends wm{constructor(a,b,e,f){super(a,"concat",b,e,f,a.resolve);S(this,"children",void 0);let g,p,C,Q;"shared"!==(null==(g=a.resolve)?void 0:null==(p=g.axis)?void 0:p.x)&&"shared"!==(null==(C=a.resolve)?void 0:null==(Q=C.axis)?void 0:Q.y)||K("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((Y,
wa)=>fl(Y,this,this.getName(`concat_${wa}`),void 0,f))}parseData(){this.component.data=jk(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const b of bd(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in
a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){Rk(this);const a=void 0===this.layout.columns?"height":"childHeight";Ak(this,1===this.layout.columns?"width":"childWidth");Ak(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=ij(this);for(const b of this.children)a.push(...b.assembleLayoutSignals());
return a}assembleSelectionData(a){return this.children.reduce((b,e)=>e.assembleSelectionData(b),a)}assembleMarks(){return this.children.map(a=>{const b=a.assembleTitle(),e=a.assembleGroupStyle(),f=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},b?{title:b}:{},e?{style:e}:{},f?{encode:{update:f}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",
align:"each"})}}const Km=Object.assign({},{disable:1,gridScale:1,scale:1},sf,{labelExpr:1,encode:1}),Am=bd(Km);class Bm extends If{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=b;this.mainExtracted=e}clone(){return new Bm(te(this.explicit),te(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;
if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Jb(this.explicit.orient)}}const Lm={bottom:"top",top:"bottom",left:"right",right:"left"},Im=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Jl={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},yf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),ce("x",a,{defaultPos:"mid"}),ce("y",
a,{defaultPos:"mid"}),Fe(a,"radius"),Fe(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},yf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),cf("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),cf("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),pf(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},yf(a,{align:"ignore",baseline:"ignore",color:"include",
orient:"ignore",size:"ignore",theta:"ignore"}),Fe(a,"x"),Fe(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>el(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>Object.assign({},yf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:b}=a;b=b.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},b&&Ka(b)&&"geojson"===b.type?{field:kc(b,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>
Object.assign({},yf(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Fe(a,"x"),Fe(a,"y"),va(a,"url"))},line:{vgMark:"line",encodeEntry:a=>Object.assign({},yf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),ce("x",a,{defaultPos:"mid"}),ce("y",a,{defaultPos:"mid"}),Rc("size",a,{vgChannel:"strokeWidth"}),pf(a))},point:{vgMark:"symbol",encodeEntry:a=>el(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},
yf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Fe(a,"x"),Fe(a,"y"))},rule:{vgMark:"rule",encodeEntry:a=>{var {markDef:b}=a;b=b.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},yf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),cf("x",a,{defaultPos:"horizontal"===b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==b}),cf("y",a,{defaultPos:"vertical"===
b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==b}),Rc("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:a=>el(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:b}=a,e=Object,f=e.assign,g=yf(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),p=ce("x",a,{defaultPos:"mid"}),C=ce("y",a,{defaultPos:"mid"}),Q=va(a),Y=Rc("size",a,{vgChannel:"fontSize"}),wa=Rc("angle",a);var db=void 0===Xb("align",
a.markDef,b)?"center":void 0;db=hg("align",db);b=void 0===Xb("baseline",a.markDef,b)?"middle":void 0;return f.call(e,{},g,p,C,Q,Y,wa,db,hg("baseline",b),ce("radius",a,{defaultPos:null}),ce("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:b,markDef:e}=a;var f=e.orient;const g="horizontal"===f?"width":"height";f="horizontal"===f?"height":"width";var p=Object,C=p.assign,Q=yf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),
Y=ce("x",a,{defaultPos:"mid",vgChannel:"xc"}),wa=ce("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:Fc,markDef:fc}=a;var {orient:db}=fc;var pb="horizontal"===db?"width":"height";db=a.getScaleComponent("horizontal"===db?"x":"y");var bc;const Ec=null!=(bc=Xb("size",fc,Fc,{vgChannel:pb}))?bc:Fc.tick.bandSize;pb=void 0!==Ec?Ec:(bc=db?db.get("range"):void 0)&&Lb(bc)&&h.isNumber(bc.step)?3*bc.step/4:3*Vf(Fc.view,pb)/4}return C.call(p,{},Q,Y,wa,Rc("size",a,{defaultValue:pb,vgChannel:g}),{[f]:Ta(Xb("thickness",
e,b))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},yf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),ce("x",a,{defaultPos:"mid"}),ce("y",a,{defaultPos:"mid"}),Rc("size",a),pf(a))}};class Dm extends Em{constructor(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},g=4<arguments.length?arguments[4]:void 0;super(a,"unit",b,e,g,void 0,gf(a)?a.view:void 0);S(this,"markDef",void 0);S(this,"encoding",void 0);S(this,"specifiedScales",
{});S(this,"stack",void 0);S(this,"specifiedAxes",{});S(this,"specifiedLegends",{});S(this,"specifiedProjection",{});S(this,"selection",[]);S(this,"children",[]);const p=dd(a.mark)?Object.assign({},a.mark):{type:a.mark},C=p.type;void 0===p.filled&&(p.filled=Sh(p,g,{graticule:a.data&&"graticule"in a.data}));const Q=this.encoding=Ug(a.encoding||{},C,p.filled,g);this.markDef=jg(p,Q,g);this.size=Rl({encoding:Q,size:gf(a)?Object.assign({},f,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):f});
this.stack=vh(this.markDef,Q);this.specifiedScales=this.initScales(C,Q);this.specifiedAxes=this.initAxes(Q);this.specifiedLegends=this.initLegends(Q);this.specifiedProjection=a.projection;let Y;this.selection=(null!=(Y=a.params)?Y:[]).filter(wa=>Ld(wa))}get hasProjection(){const {encoding:a}=this,b=this.mark===qi,e=a&&Pl.some(f=>tc(a[f]));return b||e}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,
b){return Bk.reduce((e,f)=>{const g=ve(b[f]);if(g){let p;e[f]=this.initScale(null!=(p=g.scale)?p:{})}return e},{})}initScale(a){const {domain:b,range:e}=a;a=Nb(a);h.isArray(b)&&(a.domain=b.map(ra));h.isArray(e)&&(a.range=e.map(ra));return a}initAxes(a){return Ph.reduce((b,e)=>{var f=a[e];if(tc(f)||"x"===e&&tc(a.x2)||"y"===e&&tc(a.y2))f=tc(f)?f.axis:void 0,b[e]=f?this.initAxis(Object.assign({},f)):f;return b},{})}initAxis(a){var b=bd(a);const e={};for(const f of b)b=a[f],e[f]=ag(b)?Oc(b):ra(b);return e}initLegends(a){return hl.reduce((b,
e)=>{var f=ve(a[e]),g;if(g=f)a:{switch(e){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":g=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":g=!1;break a}g=void 0}g&&(f=f.legend,b[e]=f?Nb(f):f);return b},{})}parseData(){this.component.data=jk(this)}parseLayoutSize(){const {size:a,component:b}=this;for(const f of Ph){const g=N(f);if(a[g]){var e=a[g];b.layoutSize.set(g,we(e)?"step":e,!0)}else e=Pk(this,g),b.layoutSize.set(g,
e,!1)}}parseSelections(){var a=this.component;{var b=this.selection;var e={};const p=this.config.selection;if(b&&b.length)for(const C of b){b=ta(C.name);var f=C.select,g=h.isString(f)?f:f.type;f=h.isObject(f)?te(f):{type:g};const Q=p[g];for(const Y in Q)if("fields"!==Y&&"encodings"!==Y&&("mark"===Y&&(f[Y]=Object.assign({},Q[Y],f[Y])),void 0===f[Y]||!0===f[Y])){let wa;f[Y]=te(null!=(wa=Q[Y])?wa:f[Y])}b=e[b]=Object.assign({},f,{name:b,type:g,init:C.value,bind:C.bind,events:h.isString(f.on)?h.parseSelector(f.on,
"scope"):h.array(te(f.on))});g=te(C);for(const Y of dj)Y.defined(b)&&Y.parse&&Y.parse(this,b,g)}}a.selection=e}parseMarkGroup(){this.component.mark=ql(this)}parseAxesAndHeaders(){this.component.axes=rl(this)}assembleSelectionTopLevelSignals(a){return Jh(this,a)}assembleSignals(){var a=[...Oi(this)];var b=[];var e;for(const f of kg(null!=(e=this.component.selection)?e:{})){e=f.name;let g=`${e}${"_tuple"}, ${"global"===f.resolve?"true":`{unit: ${$f(this)}}`}`;for(const p of dj)p.defined(f)&&(p.signals&&
(b=p.signals(this,f,b)),p.modifyExpr&&(g=p.modifyExpr(this,f,g)));b.push({name:e+"_modify",on:[{events:{signal:f.name+"_tuple"},update:`modify(${h.stringValue(f.name+"_store")}, ${g})`}]})}b=Aa(b);return[...a,...b]}assembleSelectionData(a){return ah(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return ij(this)}assembleMarks(){let a,b=null!=(a=this.component.mark)?a:[];this.parent&&Ti(this.parent)||(b=E(this,b));return b.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=
this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return Le(this.encoding,a)}fieldDef(a){return le(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return Hc(a)?a:null}}class Cm extends wm{constructor(a,b,e,f,g){super(a,"layer",b,e,g,a.resolve,a.view);S(this,"children",void 0);const p=Object.assign({},f,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=
a.layer.map((C,Q)=>{if("layer"in C)return new Cm(C,this,this.getName(`layer_${Q}`),p,g);if(ff(C))return new Dm(C,this,this.getName(`layer_${Q}`),p,g);throw Error(za(C));})}parseData(){this.component.data=jk(this);for(const a of this.children)a.parseData()}parseLayoutSize(){Rk(this);Ak(this,"width");Ak(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const b of bd(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,
resolve:b}=this.component,e={top:0,bottom:0,right:0,left:0};for(var f of this.children){f.parseAxesAndHeaders();for(const g of bd(f.component.axes))b.axis[g]=n(this.component.resolve,g),"shared"===b.axis[g]&&(a[g]=fm(a[g],f.component.axes[g]),a[g]||(b.axis[g]="independent",delete a[g]))}for(const g of Ph){for(const p of this.children)if(p.component.axes[g]){if("independent"===b.axis[g]){let C;a[g]=(null!=(C=a[g])?C:[]).concat(p.component.axes[g]);for(const Q of p.component.axes[g]){const {value:Y,
explicit:wa}=Q.getWithExplicit("orient");Jb(Y)||(0<e[Y]&&!wa&&(f=Lm[Y],e[Y]>e[f]&&Q.set("orient",f,!1)),e[Y]++)}}delete p.component.axes[g]}if("independent"===b.axis[g]&&a[g]&&1<a[g].length)for(const p of(a[g]||[]).entries()){const [C,Q]=p;0<C&&Q.get("grid")&&!Q.explicit.grid&&(Q.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleSignals()),Oi(this))}assembleLayoutSignals(){return this.children.reduce((a,
b)=>a.concat(b.assembleLayoutSignals()),ij(this))}assembleSelectionData(a){return this.children.reduce((b,e)=>e.assembleSelectionData(b),a)}assembleGroupStyle(){var a=new Set;for(const b of this.children)for(const e of h.array(b.assembleGroupStyle()))a.add(e);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const b of this.children)if(a=b.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return Z(this,this.children.flatMap(a=>
a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,b)=>a.concat(b.assembleLegends()),oc(this))}}w.accessPathDepth=gb;w.accessPathWithDatum=Wa;w.compile=function(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b.logger&&(Ai=b.logger);b.fieldTitle&&(Bf=b.fieldTitle);try{const db=xg(h.mergeConfig(b.config,a.config)),pb=vi(a,db),bc=fl(pb,null,"",void 0,db);bc.parse();var e=bc.component.data,f=bc;jd(e.sources);let Fc=0,fc=0;for(var g=0;5>g&&pd(e,f,!0);g++)Fc++;e.sources.map(Xh);
for(g=0;5>g&&pd(e,f,!1);g++)fc++;jd(e.sources);5===Math.max(Fc,fc)&&K("Maximum optimization runs(5) reached.");var p=pb.autosize;e=db;f=bc;const Ec=f.component.layoutSize.get("width"),Qc=f.component.layoutSize.get("height");void 0===p?(p={type:"pad"},f.hasAxisOrientSignalRef()&&(p.resize=!0)):h.isString(p)&&(p={type:p});var C;if(C=Ec&&Qc){var Q=p.type;C="fit"===Q||"fit-x"===Q||"fit-y"===Q}if(C)if("step"===Ec&&"step"===Qc)K(mb()),p.type="pad";else if("step"===Ec||"step"===Qc){Q="step"===Ec?"width":
"height";K(mb(W(Q)));C=p;var Y=(Q="width"===Q?"height":"width",`fit-${W(Q)}`);C.type=Y}var wa=Object.assign({},1===bd(p).length&&p.type?"pad"===p.type?{}:{autosize:p.type}:{autosize:p},nh(e,!1),nh(a,!0));return{spec:Tl(bc,wa,a.datasets,a.usermeta),normalized:pb}}finally{b.logger&&(Ai=Al),b.fieldTitle&&(Bf=vj)}};w.contains=Bb;w.deepEqual=sa;w.deleteNestedProperty=ya;w.duplicate=te;w.entries=Gi;w.every=ec;w.fieldIntersection=wb;w.flatAccessWithDatum=Ja;w.getFirstDefined=V;w.hasIntersection=ub;w.hash=
Ub;w.internalField=da;w.isBoolean=lc;w.isEmpty=jb;w.isEqual=function(a,b){const e=bd(a),f=bd(b);if(e.length!==f.length)return!1;for(const g of e)if(a[g]!==b[g])return!1;return!0};w.isInternalField=ia;w.isNullOrFalse=jc;w.isNumeric=pa;w.keys=bd;w.logicalExpr=ha;w.mergeDeep=Ea;w.never=zb;w.normalize=vi;w.normalizeAngle=Ma;w.omit=Zb;w.pick=Vb;w.prefixGenerator=sb;w.removePathFromField=Pb;w.replaceAll=tb;w.replacePathInField=cb;w.resetIdCounter=function(){Lk=42};w.setEqual=vb;w.some=Rb;w.stringify=m;
w.titleCase=Ra;w.unique=$a;w.uniqueId=aa;w.vals=kg;w.varName=ta;w.version="5.16.3"})};
shadow$provide[55]=function(Db,ob,zc,Ya){function w(){throw Error("setTimeout has not been defined");}function h(){throw Error("clearTimeout has not been defined");}function ka(vb){if(jc===setTimeout)return setTimeout(vb,0);if((jc===w||!jc)&&setTimeout)return jc=setTimeout,setTimeout(vb,0);try{return jc(vb,0)}catch(ub){try{return jc.call(null,vb,0)}catch(sb){return jc.call(this,vb,0)}}}function Za(vb){if(Bb===clearTimeout)return clearTimeout(vb);if((Bb===h||!Bb)&&clearTimeout)return Bb=clearTimeout,
clearTimeout(vb);try{return Bb(vb)}catch(ub){try{return Bb.call(null,vb)}catch(sb){return Bb.call(this,vb)}}}function zb(){ec&&Ea&&(ec=!1,Ea.length?Rb=Ea.concat(Rb):$a=-1,Rb.length&&Vb())}function Vb(){if(!ec){var vb=ka(zb);ec=!0;for(var ub=Rb.length;ub;){Ea=Rb;for(Rb=[];++$a<ub;)Ea&&Ea[$a].run();$a=-1;ub=Rb.length}Ea=null;ec=!1;Za(vb)}}function Zb(vb,ub){this.fun=vb;this.array=ub}function Ub(){}Db=zc.exports={};try{var jc="function"===typeof setTimeout?setTimeout:w}catch(vb){jc=w}try{var Bb="function"===
typeof clearTimeout?clearTimeout:h}catch(vb){Bb=h}var Rb=[],ec=!1,Ea,$a=-1;Db.nextTick=function(vb){var ub=Array(arguments.length-1);if(1<arguments.length)for(var sb=1;sb<arguments.length;sb++)ub[sb-1]=arguments[sb];Rb.push(new Zb(vb,ub));1!==Rb.length||ec||ka(Vb)};Zb.prototype.run=function(){this.fun.apply(null,this.array)};Db.title="browser";Db.browser=!0;Db.env={};Db.argv=[];Db.version="";Db.versions={};Db.on=Ub;Db.addListener=Ub;Db.once=Ub;Db.off=Ub;Db.removeListener=Ub;Db.removeAllListeners=
Ub;Db.emit=Ub;Db.prependListener=Ub;Db.prependOnceListener=Ub;Db.listeners=function(vb){return[]};Db.binding=function(vb){throw Error("process.binding is not supported");};Db.cwd=function(){return"/"};Db.chdir=function(vb){throw Error("process.chdir is not supported");};Db.umask=function(){return 0}};
shadow$provide[56]=function(Db,ob,zc,Ya){var w=ob(55);(function(h,ka){"object"===typeof Ya&&"undefined"!==typeof zc?zc.exports=ka(ob(53),ob(54)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],ka):(h=h||self,h.vegaEmbed=ka(h.vega,h.vegaLite))})(this,function(h,ka){function Za(t,O,ba,xa){function oa(ab){return ab instanceof ba?ab:new ba(function(Qb){Qb(ab)})}return new (ba||(ba=Promise))(function(ab,Qb){function Yb(Mc){try{Ac(xa.next(Mc))}catch(Nc){Qb(Nc)}}function ic(Mc){try{Ac(xa["throw"](Mc))}catch(Nc){Qb(Nc)}}
function Ac(Mc){Mc.done?ab(Mc.value):oa(Mc.value).then(Yb,ic)}Ac((xa=xa.apply(t,O||[])).next())})}function zb(t){if(Array.isArray(t)){var O=Array(t.length);for(t=0;t<O.length;t++)O[t]=""+t;return O}if(Object.keys)return Object.keys(t);O=[];for(var ba in t)F.call(t,ba)&&O.push(ba);return O}function Vb(t){switch(typeof t){case "object":return JSON.parse(JSON.stringify(t));case "undefined":return null;default:return t}}function Zb(t){for(var O=0,ba=t.length,xa;O<ba;)if(xa=t.charCodeAt(O),48<=xa&&57>=
xa)O++;else return!1;return!0}function Ub(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function jc(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function Bb(t){if(void 0===t)return!0;if(t)if(Array.isArray(t))for(var O=0,ba=t.length;O<ba;O++){if(Bb(t[O]))return!0}else if("object"===typeof t){ba=zb(t);var xa=ba.length;for(O=0;O<xa;O++)if(Bb(t[ba[O]]))return!0}return!1}function Rb(t,O){t=[t];for(var ba in O){var xa="object"===typeof O[ba]?JSON.stringify(O[ba],
null,2):O[ba];"undefined"!==typeof xa&&t.push(ba+": "+xa)}return t.join("\n")}function ec(t,O){if(""==O)return t;O={op:"_get",path:O};Ea(t,O);return O.value}function Ea(t,O,ba,xa,oa,ab){void 0===ba&&(ba=!1);void 0===xa&&(xa=!0);void 0===oa&&(oa=!0);void 0===ab&&(ab=0);ba&&("function"==typeof ba?ba(O,0,t,O.path):vb(O,0));if(""===O.path){oa={newDocument:t};if("add"===O.op)return oa.newDocument=O.value,oa;if("replace"===O.op)return oa.newDocument=O.value,oa.removed=t,oa;if("move"===O.op||"copy"===O.op)return oa.newDocument=
ec(t,O.from),"move"===O.op&&(oa.removed=t),oa;if("test"===O.op){oa.test=sb(t,O.value);if(!1===oa.test)throw new u("Test operation failed","TEST_OPERATION_FAILED",ab,O,t);oa.newDocument=t;return oa}if("remove"===O.op)return oa.removed=t,oa.newDocument=null,oa;if("_get"===O.op)return O.value=t,oa;if(ba)throw new u("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",ab,O,t);return oa}xa||(t=Vb(t));xa=(O.path||"").split("/");var Qb=t,Yb=1,ic=xa.length,Ac=void 0,
Mc;for(Mc="function"==typeof ba?ba:vb;;){var Nc=xa[Yb];if(oa&&"__proto__"==Nc)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");ba&&void 0===Ac&&(void 0===Qb[Nc]?Ac=xa.slice(0,Yb).join("/"):Yb==ic-1&&(Ac=O.path),void 0!==Ac&&Mc(O,0,t,Ac));Yb++;if(Array.isArray(Qb)){if("-"===Nc)Nc=Qb.length;else{if(ba&&!Zb(Nc))throw new u("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index",
"OPERATION_PATH_ILLEGAL_ARRAY_INDEX",ab,O,t);Zb(Nc)&&(Nc=~~Nc)}if(Yb>=ic){if(ba&&"add"===O.op&&Nc>Qb.length)throw new u("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",ab,O,t);oa=B[O.op].call(O,Qb,Nc,t);if(!1===oa.test)throw new u("Test operation failed","TEST_OPERATION_FAILED",ab,O,t);return oa}}else if(Nc&&-1!=Nc.indexOf("~")&&(Nc=jc(Nc)),Yb>=ic){oa=R[O.op].call(O,Qb,Nc,t);if(!1===oa.test)throw new u("Test operation failed","TEST_OPERATION_FAILED",
ab,O,t);return oa}Qb=Qb[Nc]}}function $a(t,O,ba,xa,oa){void 0===xa&&(xa=!0);void 0===oa&&(oa=!0);if(ba&&!Array.isArray(O))throw new u("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");xa||(t=Vb(t));xa=Array(O.length);for(var ab=0,Qb=O.length;ab<Qb;ab++)xa[ab]=Ea(t,O[ab],ba,!0,oa,ab),t=xa[ab].newDocument;xa.newDocument=t;return xa}function vb(t,O,ba,xa){if("object"!==typeof t||null===t||Array.isArray(t))throw new u("Operation is not an object","OPERATION_NOT_AN_OBJECT",O,t,ba);if(R[t.op]){if("string"!==
typeof t.path)throw new u("Operation `path` property is not a string","OPERATION_PATH_INVALID",O,t,ba);if(0!==t.path.indexOf("/")&&0<t.path.length)throw new u('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",O,t,ba);if("move"!==t.op&&"copy"!==t.op||"string"===typeof t.from)if("add"!==t.op&&"replace"!==t.op&&"test"!==t.op||void 0!==t.value){if(("add"===t.op||"replace"===t.op||"test"===t.op)&&Bb(t.value))throw new u("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",O,t,ba);if(ba)if("add"==t.op){var oa=t.path.split("/").length;xa=xa.split("/").length;if(oa!==xa+1&&oa!==xa)throw new u("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",O,t,ba);}else if("replace"===t.op||"remove"===t.op||"_get"===t.op){if(t.path!==xa)throw new u("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",O,t,ba);}else if(("move"===t.op||"copy"===t.op)&&(oa=ub([{op:"_get",path:t.from,
value:void 0}],ba))&&"OPERATION_PATH_UNRESOLVABLE"===oa.name)throw new u("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",O,t,ba);}else throw new u("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",O,t,ba);else throw new u("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",O,t,ba);}else throw new u("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",O,t,ba);}function ub(t,O,ba){try{if(!Array.isArray(t))throw new u("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(O)$a(Vb(O),Vb(t),ba||!0);else{ba=ba||vb;for(var xa=0;xa<t.length;xa++)ba(t[xa],xa,O,void 0)}}catch(oa){if(oa instanceof u)return oa;throw oa;}}function sb(t,O){if(t===O)return!0;if(t&&O&&"object"==typeof t&&"object"==typeof O){var ba=Array.isArray(t),xa=Array.isArray(O);if(ba&&xa){var oa=t.length;if(oa!=O.length)return!1;for(ba=oa;0!==ba--;)if(!sb(t[ba],
O[ba]))return!1;return!0}if(ba!=xa)return!1;xa=Object.keys(t);oa=xa.length;if(oa!==Object.keys(O).length)return!1;for(ba=oa;0!==ba--;)if(!O.hasOwnProperty(xa[ba]))return!1;for(ba=oa;0!==ba--;)if(oa=xa[ba],!sb(t[oa],O[oa]))return!1;return!0}return t!==t&&O!==O}function wb(t,O){void 0===O&&(O=!1);var ba=N.get(t.object);jb(ba.value,t.object,t.patches,"",O);t.patches.length&&$a(ba.value,t.patches);O=t.patches;0<O.length&&(t.patches=[],t.callback&&t.callback(O));return O}function jb(t,O,ba,xa,oa){if(O!==
t){"function"===typeof O.toJSON&&(O=O.toJSON());for(var ab=zb(O),Qb=zb(t),Yb=!1,ic=Qb.length-1;0<=ic;ic--){var Ac=Qb[ic],Mc=t[Ac];if(!F.call(O,Ac)||void 0===O[Ac]&&void 0!==Mc&&!1===Array.isArray(O))Array.isArray(t)===Array.isArray(O)?(oa&&ba.push({op:"test",path:xa+"/"+Ub(Ac),value:Vb(Mc)}),ba.push({op:"remove",path:xa+"/"+Ub(Ac)}),Yb=!0):(oa&&ba.push({op:"test",path:xa,value:t}),ba.push({op:"replace",path:xa,value:O}));else{var Nc=O[Ac];"object"==typeof Mc&&null!=Mc&&"object"==typeof Nc&&null!=
Nc?jb(Mc,Nc,ba,xa+"/"+Ub(Ac),oa):Mc!==Nc&&(oa&&ba.push({op:"test",path:xa+"/"+Ub(Ac),value:Vb(Mc)}),ba.push({op:"replace",path:xa+"/"+Ub(Ac),value:Vb(Nc)}))}}if(Yb||ab.length!=Qb.length)for(ic=0;ic<ab.length;ic++)Ac=ab[ic],F.call(t,Ac)||void 0===O[Ac]||ba.push({op:"add",path:xa+"/"+Ub(Ac),value:Vb(O[Ac])})}}function lc(t,O){return O={exports:{}},t(O,O.exports),O.exports}function ta(t,O,ba){t.fields=O||[];t.fname=ba;return t}function ha(t){function O(){ba.push(Qb+t.substring(Yb,ic));Qb="";Yb=ic+1}
var ba=[],xa=null,oa=0,ab=t.length,Qb="",Yb,ic;t+="";for(Yb=ic=0;ic<ab;++ic){var Ac=t[ic];if("\\"===Ac)Qb+=t.substring(Yb,ic),Qb+=t.substring(++ic,++ic),Yb=ic;else if(Ac===xa)O(),xa=null,oa=-1;else if(!xa)if(Yb===oa&&'"'===Ac)Yb=ic+1,xa=Ac;else if(Yb===oa&&"'"===Ac)Yb=ic+1,xa=Ac;else if("."===Ac&&!oa)ic>Yb?O():Yb=ic+1;else if("["===Ac)ic>Yb&&O(),oa=Yb=ic+1;else if("]"===Ac){if(!oa)throw Error("Access path missing open bracket: "+t);0<oa&&O();oa=0;Yb=ic+1}}if(oa)throw Error("Access path missing closing bracket: "+
t);if(xa)throw Error("Access path missing closing quote: "+t);ic>Yb&&(ic++,O());return ba}function ya(t){return t===Object(t)}function Ra(t){return"string"===typeof t}function Wa(t){return vc(t)?"["+t.map(Wa)+"]":ya(t)||Ra(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function Ja(...t){return t.reduce((O,ba)=>{for(var xa in ba)"signals"===xa?O.signals=cb(O.signals,ba.signals):ib(O,xa,ba[xa],"legend"===xa?{layout:1}:"style"===xa?!0:null);return O},{})}function ib(t,
O,ba,xa){if("__proto__"!==O){var oa;if(ya(ba)&&!vc(ba))for(oa in t=ya(t[O])?t[O]:t[O]={},ba)xa&&(!0===xa||xa[oa])?ib(t,oa,ba[oa]):"__proto__"!==oa&&(t[oa]=ba[oa]);else t[O]=ba}}function cb(t,O){function ba(ab){xa[ab.name]||(xa[ab.name]=1,oa.push(ab))}if(null==t)return O;const xa={},oa=[];O.forEach(ba);t.forEach(ba);return oa}function tb(t,O,ba){if(vc(t))return`[${t.map(oa=>O(Ra(oa)?oa:JSON.stringify(oa,Pb(ba)))).join(", ")}]`;if(ya(t)){let oa="";var {title:xa}=t;t=Ic(t,["title"]);xa&&(oa+=`<h2>${O(xa)}</h2>`);
xa=Object.keys(t);if(0<xa.length){oa+="\x3ctable\x3e";for(const ab of xa)xa=t[ab],void 0!==xa&&(ya(xa)&&(xa=JSON.stringify(xa,Pb(ba))),oa+=`<tr><td class="key">${O(ab)}:</td><td class="value">${O(xa)}</td></tr>`);oa+="\x3c/table\x3e"}return oa||"{}"}return O(t)}function Pb(t){const O=[];return function(ba,xa){if("object"!==typeof xa||null===xa)return xa;ba=O.indexOf(this)+1;O.length=ba;if(O.length>t)return"[Object]";if(0<=O.indexOf(xa))return"[Circular]";O.push(xa);return xa}}function gb(t,O,ba){function xa(Yb){Yb.source===
ab&&(Qb=0,t.removeEventListener("message",xa,!1))}function oa(){0>=Qb||(ab.postMessage(ba,"*"),setTimeout(oa,250),--Qb)}const ab=t.open(O);let Qb=40;t.addEventListener("message",xa,!1);setTimeout(oa,250)}function V(t,...O){for(const xa of O){O=t;var ba=xa;for(const oa of Object.keys(ba))h.writeConfig(O,oa,ba[oa],!0)}return t}function aa(t,O,ba,xa){O=`<html><head>${O}</head><body><pre><code class="json">`;ba=`</code></pre>${ba}</body></html>`;const oa=window.open("");oa.document.write(O+t+ba);oa.document.title=
`${id[xa]} JSON Source`}function da(t,O){var ba;return t.$schema?(t=Ua(t.$schema),O&&O!==t.library&&console.warn(`The given visualization spec is written in ${id[t.library]}, but mode argument sets ${null!==(ba=id[O])&&void 0!==ba?ba:O}.`),O=t.library,Fa(y[O],`^${t.version.slice(1)}`)||console.warn(`The input spec uses ${id[O]} ${t.version}, but the current version of ${id[O]} is v${y[O]}.`),O):"mark"in t||"encoding"in t||"layer"in t||"hconcat"in t||"vconcat"in t||"facet"in t||"repeat"in t?"vega-lite":
"marks"in t||"signals"in t||"scales"in t||"axes"in t?"vega":null!==O&&void 0!==O?O:"vega"}function ia(t,O,ba={}){var xa,oa,ab;return Za(this,void 0,void 0,function*(){var Qb=ba.loader;Qb=Qb&&"load"in Qb?ba.loader:Pc.loader(ba.loader);const Yb=Ra(O)?JSON.parse(yield Qb.load(O)):O;var ic=yield Ma(null!==(xa=Yb.usermeta&&Yb.usermeta.embedOptions)&&void 0!==xa?xa:{},Qb);const Ac=yield Ma(ba,Qb);ic=Object.assign(Object.assign({},V(Ac,ic)),{config:Ja(null!==(oa=Ac.config)&&void 0!==oa?oa:{},null!==(ab=
ic.config)&&void 0!==ab?ab:{})});return yield pa(t,Yb,ic,Qb)})}function Ma(t,O){var ba;return Za(this,void 0,void 0,function*(){const xa=Ra(t.config)?JSON.parse(yield O.load(t.config)):null!==(ba=t.config)&&void 0!==ba?ba:{},oa=Ra(t.patch)?JSON.parse(yield O.load(t.patch)):t.patch;return Object.assign(Object.assign(Object.assign({},t),oa?{patch:oa}:{}),xa?{config:xa}:{})})}function pa(t,O,ba={},xa){var oa,ab,Qb,Yb,ic,Ac;return Za(this,void 0,void 0,function*(){const Mc=ba.theme?Ja(Fb[ba.theme],null!==
(oa=ba.config)&&void 0!==oa?oa:{}):ba.config;var Nc="boolean"===typeof ba.actions?ba.actions:V({},ad,null!==(ab=ba.actions)&&void 0!==ab?ab:{});const Wc=Object.assign(Object.assign({},ke),ba.i18n),td=null!==(Qb=ba.renderer)&&void 0!==Qb?Qb:"canvas";var ud=null!==(Yb=ba.logLevel)&&void 0!==Yb?Yb:Pc.Warn,ee=null!==(ic=ba.downloadFileName)&&void 0!==ic?ic:"visualization";if(!1!==ba.defaultStyle&&!document.getElementById("vega-embed-style")){var Kd=document.createElement("style");Kd.id="vega-embed-style";
Kd.innerText=void 0===ba.defaultStyle||!0===ba.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
ba.defaultStyle;document.head.appendChild(Kd)}const ge=da(O,ba.mode);let Je=K[ge](O,Mc);"vega-lite"===ge&&Je.$schema&&(Kd=Ua(Je.$schema),Fa(y.vega,`^${Kd.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${Kd.version}, but current version is v${y.vega}.`));Kd="string"===typeof t?document.querySelector(t):t;if(!Kd)throw Error(`${t} does not exist`);Kd.classList.add("vega-embed");Nc&&Kd.classList.add("has-actions");Kd.innerHTML="";var Ie=ba.patch;Ie&&(Je=Ie instanceof Function?Ie(Je):$a(Je,
Ie,!0,!1).newDocument);ba.formatLocale&&Pc.formatLocale(ba.formatLocale);ba.timeFormatLocale&&Pc.timeFormatLocale(ba.timeFormatLocale);Ie=Pc.parse(Je,"vega-lite"===ge?{}:Mc);const Ne=new Pc.View(Ie,{loader:xa,logLevel:ud,renderer:td});!1!==ba.tooltip&&(ud="function"===typeof ba.tooltip?ba.tooltip:(new kd(!0===ba.tooltip?{}:ba.tooltip)).call,Ne.tooltip(ud));({hover:ud}=ba);void 0===ud&&(ud="vega"===ge);if(ud){const {hoverSet:Ae,updateSet:Ge}="boolean"===typeof ud?{}:ud;Ne.hover(Ae,Ge)}ba&&(null!=ba.width&&
Ne.width(ba.width),null!=ba.height&&Ne.height(ba.height),null!=ba.padding&&Ne.padding(ba.padding));yield Ne.initialize(t).runAsync();let $e;if(!1!==Nc){ud=Kd;if(!1!==ba.defaultStyle){const Ae=document.createElement("details");Ae.title=Wc.CLICK_TO_VIEW_ACTIONS;Kd.append(Ae);ud=Ae;Kd=document.createElement("summary");Kd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Ae.append(Kd);$e=Ge=>{Ae.contains(Ge.target)||Ae.removeAttribute("open")};document.addEventListener("click",$e)}Kd=document.createElement("div");ud.append(Kd);Kd.classList.add("vega-actions");if(!0===Nc||!1!==Nc.export)for(const Ae of["svg","png"])if(!0===Nc||!0===Nc.export||Nc.export[Ae])ud=Wc[`${Ae.toUpperCase()}_ACTION`],Ie=document.createElement("a"),Ie.text=ud,Ie.href="#",Ie.target="_blank",Ie.download=`${ee}.${Ae}`,Ie.addEventListener("mousedown",function(Ge){return Za(this,void 0,void 0,function*(){Ge.preventDefault();
this.href=yield Ne.toImageURL(Ae,ba.scaleFactor)})}),Kd.append(Ie);if(!0===Nc||!1!==Nc.source)ee=document.createElement("a"),ee.text=Wc.SOURCE_ACTION,ee.href="#",ee.addEventListener("mousedown",function(Ae){var Ge,oe;aa(Da(O),null!==(Ge=ba.sourceHeader)&&void 0!==Ge?Ge:"",null!==(oe=ba.sourceFooter)&&void 0!==oe?oe:"",ge);Ae.preventDefault()}),Kd.append(ee);"vega-lite"!==ge||!0!==Nc&&!1===Nc.compiled||(ee=document.createElement("a"),ee.text=Wc.COMPILED_ACTION,ee.href="#",ee.addEventListener("mousedown",
function(Ae){var Ge,oe;aa(Da(Je),null!==(Ge=ba.sourceHeader)&&void 0!==Ge?Ge:"",null!==(oe=ba.sourceFooter)&&void 0!==oe?oe:"","vega");Ae.preventDefault()}),Kd.append(ee));if(!0===Nc||!1!==Nc.editor){const Ae=null!==(Ac=ba.editorUrl)&&void 0!==Ac?Ac:"https://vega.github.io/editor/";Nc=document.createElement("a");Nc.text=Wc.EDITOR_ACTION;Nc.href="#";Nc.addEventListener("mousedown",function(Ge){gb(window,Ae,{config:Mc,mode:ge,renderer:td,spec:Da(O)});Ge.preventDefault()});Kd.append(Nc)}}return{view:Ne,
spec:O,vgSpec:Je,finalize:function(){$e&&document.removeEventListener("click",$e);Ne.finalize()}}})}function sa(t,O={}){var ba;return Za(this,void 0,void 0,function*(){const xa=document.createElement("div");xa.classList.add("vega-embed-wrapper");var oa=document.createElement("div");xa.appendChild(oa);const ab=!0===O.actions||!1===O.actions?O.actions:Object.assign({export:!0,source:!1,compiled:!0,editor:!0},null!==(ba=O.actions)&&void 0!==ba?ba:{});oa=yield ia(oa,t,Object.assign({actions:ab},null!==
O&&void 0!==O?O:{}));xa.value=oa.view;return xa})}var m=function(){var t=function(O,ba){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xa,oa){xa.__proto__=oa}||function(xa,oa){for(var ab in oa)oa.hasOwnProperty(ab)&&(xa[ab]=oa[ab])};return t(O,ba)};return function(O,ba){function xa(){this.constructor=O}t(O,ba);O.prototype=null===ba?Object.create(ba):(xa.prototype=ba.prototype,new xa)}}(),F=Object.prototype.hasOwnProperty,L=function(t){function O(ba,xa,oa,ab,Qb){var Yb=this.constructor,
ic=t.call(this,Rb(ba,{name:xa,index:oa,operation:ab,tree:Qb}))||this;ic.name=xa;ic.index=oa;ic.operation=ab;ic.tree=Qb;Object.setPrototypeOf(ic,Yb.prototype);ic.message=Rb(ba,{name:xa,index:oa,operation:ab,tree:Qb});return ic}m(O,t);return O}(Error),u=L,R={add:function(t,O,ba){t[O]=this.value;return{newDocument:ba}},remove:function(t,O,ba){var xa=t[O];delete t[O];return{newDocument:ba,removed:xa}},replace:function(t,O,ba){var xa=t[O];t[O]=this.value;return{newDocument:ba,removed:xa}},move:function(t,
O,ba){(t=ec(ba,this.path))&&(t=Vb(t));O=Ea(ba,{op:"remove",path:this.from}).removed;Ea(ba,{op:"add",path:this.path,value:O});return{newDocument:ba,removed:t}},copy:function(t,O,ba){t=ec(ba,this.from);Ea(ba,{op:"add",path:this.path,value:Vb(t)});return{newDocument:ba}},test:function(t,O,ba){return{newDocument:ba,test:sb(t[O],this.value)}},_get:function(t,O,ba){this.value=t[O];return{newDocument:ba}}},B={add:function(t,O,ba){Zb(O)?t.splice(O,0,this.value):t[O]=this.value;return{newDocument:ba,index:O}},
remove:function(t,O,ba){t=t.splice(O,1);return{newDocument:ba,removed:t[0]}},replace:function(t,O,ba){var xa=t[O];t[O]=this.value;return{newDocument:ba,removed:xa}},move:R.move,copy:R.copy,test:R.test,_get:R._get},z=Object.freeze({__proto__:null,JsonPatchError:u,deepClone:Vb,getValueByPointer:ec,applyOperation:Ea,applyPatch:$a,applyReducer:function(t,O,ba){var xa=Ea(t,O);if(!1===xa.test)throw new u("Test operation failed","TEST_OPERATION_FAILED",ba,O,t);return xa.newDocument},validator:vb,validate:ub,
_areEquals:sb}),N=new WeakMap,A=function(){return function(t){this.observers=new Map;this.obj=t}}(),D=function(){return function(t,O){this.callback=t;this.observer=O}}(),H=Object.freeze({__proto__:null,unobserve:function(t,O){O.unobserve()},observe:function(t,O){var ba=N.get(t);if(ba){var xa=ba.observers.get(O);var oa=xa&&xa.observer}else ba=new A(t),N.set(t,ba);if(oa)return oa;oa={};ba.value=Vb(t);if(O){oa.callback=O;oa.next=null;var ab=function(){wb(oa)},Qb=function(){clearTimeout(oa.next);oa.next=
setTimeout(ab)};"undefined"!==typeof window&&(window.addEventListener("mouseup",Qb),window.addEventListener("keyup",Qb),window.addEventListener("mousedown",Qb),window.addEventListener("keydown",Qb),window.addEventListener("change",Qb))}oa.patches=[];oa.object=t;oa.unobserve=function(){wb(oa);clearTimeout(oa.next);ba.observers.delete(oa.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Qb),window.removeEventListener("keyup",Qb),window.removeEventListener("mousedown",Qb),
window.removeEventListener("keydown",Qb),window.removeEventListener("change",Qb))};ba.observers.set(O,new D(O,oa));return oa},generate:wb,compare:function(t,O,ba){void 0===ba&&(ba=!1);var xa=[];jb(t,O,xa,"",ba);return xa}});Object.assign({},z,H,{JsonPatchError:L,deepClone:Vb,escapePathComponent:Ub,unescapePathComponent:jc});var W=/("(?:[^\\"]|\\.)*")|[:,]/g,Da=function(t,O){O=O||{};var ba=JSON.stringify([1],void 0,void 0===O.indent?2:O.indent).slice(2,-3);var xa=""===ba?Infinity:void 0===O.maxLength?
80:O.maxLength;var oa=O.replacer;return function Ac(Qb,Yb,ic){Qb&&"function"===typeof Qb.toJSON&&(Qb=Qb.toJSON());var Mc=JSON.stringify(Qb,oa);if(void 0===Mc)return Mc;ic=xa-Yb.length-ic;if(Mc.length<=ic){var Nc=Mc.replace(W,function(Ie,Ne){return Ne||Ie+" "});if(Nc.length<=ic)return Nc}null!=oa&&(Qb=JSON.parse(Mc),oa=void 0);if("object"===typeof Qb&&null!==Qb){var Wc=Yb+ba;var td=[];var ud=0;if(Array.isArray(Qb)){var ee="[";Nc="]";for(ic=Qb.length;ud<ic;ud++)td.push(Ac(Qb[ud],Wc,ud===ic-1?0:1)||
"null")}else{ee="{";Nc="}";var Kd=Object.keys(Qb);for(ic=Kd.length;ud<ic;ud++){var ge=Kd[ud];var Je=JSON.stringify(ge)+": ";ge=Ac(Qb[ge],Wc,Je.length+(ud===ic-1?0:1));void 0!==ge&&td.push(Je+ge)}}if(0<td.length)return[ee,ba+td.join(",\n"+Wc),Nc].join("\n"+Yb)}return Mc}(t,"",0)},P={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},ja="object"===typeof w&&w.env&&w.env.NODE_DEBUG&&/\bsemver\b/i.test(w.env.NODE_DEBUG)?
(...t)=>console.error("SEMVER",...t):()=>{},Ba=lc(function(t,O){const {MAX_SAFE_COMPONENT_LENGTH:ba}=P;O=t.exports={};const xa=O.re=[],oa=O.src=[],ab=O.t={};let Qb=0;t=(Yb,ic,Ac)=>{const Mc=Qb++;ja(Mc,ic);ab[Yb]=Mc;oa[Mc]=ic;xa[Mc]=new RegExp(ic,Ac?"g":void 0)};t("NUMERICIDENTIFIER","0|[1-9]\\d*");t("NUMERICIDENTIFIERLOOSE","[0-9]+");t("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");t("MAINVERSION",`(${oa[ab.NUMERICIDENTIFIER]})\\.`+`(${oa[ab.NUMERICIDENTIFIER]})\\.`+`(${oa[ab.NUMERICIDENTIFIER]})`);
t("MAINVERSIONLOOSE",`(${oa[ab.NUMERICIDENTIFIERLOOSE]})\\.`+`(${oa[ab.NUMERICIDENTIFIERLOOSE]})\\.`+`(${oa[ab.NUMERICIDENTIFIERLOOSE]})`);t("PRERELEASEIDENTIFIER",`(?:${oa[ab.NUMERICIDENTIFIER]}|${oa[ab.NONNUMERICIDENTIFIER]})`);t("PRERELEASEIDENTIFIERLOOSE",`(?:${oa[ab.NUMERICIDENTIFIERLOOSE]}|${oa[ab.NONNUMERICIDENTIFIER]})`);t("PRERELEASE",`(?:-(${oa[ab.PRERELEASEIDENTIFIER]}(?:\\.${oa[ab.PRERELEASEIDENTIFIER]})*))`);t("PRERELEASELOOSE",`(?:-?(${oa[ab.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${oa[ab.PRERELEASEIDENTIFIERLOOSE]})*))`);
t("BUILDIDENTIFIER","[0-9A-Za-z-]+");t("BUILD",`(?:\\+(${oa[ab.BUILDIDENTIFIER]}(?:\\.${oa[ab.BUILDIDENTIFIER]})*))`);t("FULLPLAIN",`v?${oa[ab.MAINVERSION]}${oa[ab.PRERELEASE]}?${oa[ab.BUILD]}?`);t("FULL",`^${oa[ab.FULLPLAIN]}$`);t("LOOSEPLAIN",`[v=\\s]*${oa[ab.MAINVERSIONLOOSE]}${oa[ab.PRERELEASELOOSE]}?${oa[ab.BUILD]}?`);t("LOOSE",`^${oa[ab.LOOSEPLAIN]}$`);t("GTLT","((?:\x3c|\x3e)?\x3d?)");t("XRANGEIDENTIFIERLOOSE",`${oa[ab.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);t("XRANGEIDENTIFIER",`${oa[ab.NUMERICIDENTIFIER]}|x|X|\\*`);
t("XRANGEPLAIN",`[v=\\s]*(${oa[ab.XRANGEIDENTIFIER]})`+`(?:\\.(${oa[ab.XRANGEIDENTIFIER]})`+`(?:\\.(${oa[ab.XRANGEIDENTIFIER]})`+`(?:${oa[ab.PRERELEASE]})?${oa[ab.BUILD]}?`+")?)?");t("XRANGEPLAINLOOSE",`[v=\\s]*(${oa[ab.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${oa[ab.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${oa[ab.XRANGEIDENTIFIERLOOSE]})`+`(?:${oa[ab.PRERELEASELOOSE]})?${oa[ab.BUILD]}?`+")?)?");t("XRANGE",`^${oa[ab.GTLT]}\\s*${oa[ab.XRANGEPLAIN]}$`);t("XRANGELOOSE",`^${oa[ab.GTLT]}\\s*${oa[ab.XRANGEPLAINLOOSE]}$`);
t("COERCE",`${"(^|[^\\d])(\\d{1,"}${ba}})`+`(?:\\.(\\d{1,${ba}}))?`+`(?:\\.(\\d{1,${ba}}))?`+"(?:$|[^\\d])");t("COERCERTL",oa[ab.COERCE],!0);t("LONETILDE","(?:~\x3e?)");t("TILDETRIM",`(\\s*)${oa[ab.LONETILDE]}\\s+`,!0);O.tildeTrimReplace="$1~";t("TILDE",`^${oa[ab.LONETILDE]}${oa[ab.XRANGEPLAIN]}$`);t("TILDELOOSE",`^${oa[ab.LONETILDE]}${oa[ab.XRANGEPLAINLOOSE]}$`);t("LONECARET","(?:\\^)");t("CARETTRIM",`(\\s*)${oa[ab.LONECARET]}\\s+`,!0);O.caretTrimReplace="$1^";t("CARET",`^${oa[ab.LONECARET]}${oa[ab.XRANGEPLAIN]}$`);
t("CARETLOOSE",`^${oa[ab.LONECARET]}${oa[ab.XRANGEPLAINLOOSE]}$`);t("COMPARATORLOOSE",`^${oa[ab.GTLT]}\\s*(${oa[ab.LOOSEPLAIN]})$|^$`);t("COMPARATOR",`^${oa[ab.GTLT]}\\s*(${oa[ab.FULLPLAIN]})$|^$`);t("COMPARATORTRIM",`(\\s*)${oa[ab.GTLT]}\\s*(${oa[ab.LOOSEPLAIN]}|${oa[ab.XRANGEPLAIN]})`,!0);O.comparatorTrimReplace="$1$2$3";t("HYPHENRANGE",`^\\s*(${oa[ab.XRANGEPLAIN]})`+"\\s+-\\s+"+`(${oa[ab.XRANGEPLAIN]})`+"\\s*$");t("HYPHENRANGELOOSE",`^\\s*(${oa[ab.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${oa[ab.XRANGEPLAINLOOSE]})`+
"\\s*$");t("STAR","(\x3c|\x3e)?\x3d?\\s*\\*")});const Na=/^[0-9]+$/,Qa=(t,O)=>{const ba=Na.test(t),xa=Na.test(O);ba&&xa&&(t=+t,O=+O);return t===O?0:ba&&!xa?-1:xa&&!ba?1:t<O?-1:1};var eb={compareIdentifiers:Qa,rcompareIdentifiers:(t,O)=>Qa(O,t)};const {MAX_LENGTH:xb,MAX_SAFE_INTEGER:kb}=P,{re:Sb,t:X}=Ba,{compareIdentifiers:Ha}=eb;class Nb{constructor(t,O){O&&"object"===typeof O||(O={loose:!!O,includePrerelease:!1});if(t instanceof Nb){if(t.loose===!!O.loose&&t.includePrerelease===!!O.includePrerelease)return t;
t=t.version}else if("string"!==typeof t)throw new TypeError(`Invalid Version: ${t}`);if(t.length>xb)throw new TypeError(`version is longer than ${xb} characters`);ja("SemVer",t,O);this.options=O;this.loose=!!O.loose;this.includePrerelease=!!O.includePrerelease;O=t.trim().match(O.loose?Sb[X.LOOSE]:Sb[X.FULL]);if(!O)throw new TypeError(`Invalid Version: ${t}`);this.raw=t;this.major=+O[1];this.minor=+O[2];this.patch=+O[3];if(this.major>kb||0>this.major)throw new TypeError("Invalid major version");if(this.minor>
kb||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>kb||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=O[4]?O[4].split(".").map(ba=>{if(/^[0-9]+$/.test(ba)){const xa=+ba;if(0<=xa&&xa<kb)return xa}return ba}):[];this.build=O[5]?O[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(t){ja("SemVer.compare",
this.version,this.options,t);if(!(t instanceof Nb)){if("string"===typeof t&&t===this.version)return 0;t=new Nb(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){t instanceof Nb||(t=new Nb(t,this.options));return Ha(this.major,t.major)||Ha(this.minor,t.minor)||Ha(this.patch,t.patch)}comparePre(t){t instanceof Nb||(t=new Nb(t,this.options));if(this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;
if(!this.prerelease.length&&!t.prerelease.length)return 0;let O=0;do{const ba=this.prerelease[O],xa=t.prerelease[O];ja("prerelease compare",O,ba,xa);if(void 0===ba&&void 0===xa)return 0;if(void 0===xa)return 1;if(void 0===ba)return-1;if(ba!==xa)return Ha(ba,xa)}while(++O)}compareBuild(t){t instanceof Nb||(t=new Nb(t,this.options));let O=0;do{const ba=this.build[O],xa=t.build[O];ja("prerelease compare",O,ba,xa);if(void 0===ba&&void 0===xa)return 0;if(void 0===xa)return 1;if(void 0===ba)return-1;if(ba!==
xa)return Ha(ba,xa)}while(++O)}inc(t,O){switch(t){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",O);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",O);break;case "prepatch":this.prerelease.length=0;this.inc("patch",O);this.inc("pre",O);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",O);this.inc("pre",O);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=
this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(t=this.prerelease.length;0<=--t;)"number"===typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}O&&(this.prerelease[0]===O?isNaN(this.prerelease[1])&&(this.prerelease=[O,0]):
this.prerelease=[O,0]);break;default:throw Error(`invalid increment argument: ${t}`);}this.format();this.raw=this.version;return this}}var nc=Nb,Wb=(t,O,ba)=>(new nc(t,ba)).compare(new nc(O,ba)),Jb=(t,O,ba,xa)=>{switch(O){case "\x3d\x3d\x3d":return"object"===typeof t&&(t=t.version),"object"===typeof ba&&(ba=ba.version),t===ba;case "!\x3d\x3d":return"object"===typeof t&&(t=t.version),"object"===typeof ba&&(ba=ba.version),t!==ba;case "":case "\x3d":case "\x3d\x3d":return 0===Wb(t,ba,xa);case "!\x3d":return 0!==
Wb(t,ba,xa);case "\x3e":return 0<Wb(t,ba,xa);case "\x3e\x3d":return 0<=Wb(t,ba,xa);case "\x3c":return 0>Wb(t,ba,xa);case "\x3c\x3d":return 0>=Wb(t,ba,xa);default:throw new TypeError(`Invalid operator: ${O}`);}};class Lb{constructor(t,O){O&&"object"===typeof O||(O={loose:!!O,includePrerelease:!1});if(t instanceof Lb)return t.loose===!!O.loose&&t.includePrerelease===!!O.includePrerelease?t:new Lb(t.raw,O);if(t instanceof v)return this.raw=t.value,this.set=[[t]],this.format(),this;this.options=O;this.loose=
!!O.loose;this.includePrerelease=!!O.includePrerelease;this.raw=t;this.set=t.split(/\s*\|\|\s*/).map(ba=>this.parseRange(ba.trim())).filter(ba=>ba.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(t){const O=this.options.loose;t=t.trim();t=t.replace(O?Oc[ra.HYPHENRANGELOOSE]:Oc[ra.HYPHENRANGE],Ia);ja("hyphen replace",t);t=t.replace(Oc[ra.COMPARATORTRIM],
Eb);ja("comparator trim",t,Oc[ra.COMPARATORTRIM]);t=t.replace(Oc[ra.TILDETRIM],Ta);t=t.replace(Oc[ra.CARETTRIM],yb);t=t.split(/\s+/).join(" ");const ba=O?Oc[ra.COMPARATORLOOSE]:Oc[ra.COMPARATOR];return t.split(" ").map(xa=>{var oa=xa;xa=this.options;ja("comp",oa,xa);oa=wc(oa,xa);ja("caret",oa);oa=Xb(oa,xa);ja("tildes",oa);oa=Kc(oa,xa);ja("xrange",oa);ja("replaceStars",oa,xa);oa=oa.trim().replace(Oc[ra.STAR],"");ja("stars",oa);return oa}).join(" ").split(/\s+/).filter(this.options.loose?xa=>!!xa.match(ba):
()=>!0).map(xa=>new v(xa,this.options))}intersects(t,O){if(!(t instanceof Lb))throw new TypeError("a Range is required");return this.set.some(ba=>Gb(ba,O)&&t.set.some(xa=>Gb(xa,O)&&ba.every(oa=>xa.every(ab=>oa.intersects(ab,O)))))}test(t){if(!t)return!1;if("string"===typeof t)try{t=new nc(t,this.options)}catch(ab){return!1}for(let ab=0;ab<this.set.length;ab++){a:{var O=this.set[ab];var ba=t,xa=this.options;for(var oa=0;oa<O.length;oa++)if(!O[oa].test(ba)){O=!1;break a}if(ba.prerelease.length&&!xa.includePrerelease){for(xa=
0;xa<O.length;xa++)if(ja(O[xa].semver),O[xa].semver!==v.ANY&&0<O[xa].semver.prerelease.length&&(oa=O[xa].semver,oa.major===ba.major&&oa.minor===ba.minor&&oa.patch===ba.patch)){O=!0;break a}O=!1}else O=!0}if(O)return!0}return!1}}var sc=Lb;const {re:Oc,t:ra,comparatorTrimReplace:Eb,tildeTrimReplace:Ta,caretTrimReplace:yb}=Ba,Gb=(t,O)=>{let ba=!0;t=t.slice();let xa=t.pop();for(;ba&&t.length;)ba=t.every(oa=>xa.intersects(oa,O)),xa=t.pop();return ba},Cb=t=>!t||"x"===t.toLowerCase()||"*"===t,Xb=(t,O)=>
t.trim().split(/\s+/).map(ba=>gc(ba,O)).join(" "),gc=(t,O)=>t.replace(O.loose?Oc[ra.TILDELOOSE]:Oc[ra.TILDE],(ba,xa,oa,ab,Qb)=>{ja("tilde",t,ba,xa,oa,ab,Qb);Cb(xa)?ba="":Cb(oa)?ba=`>=${xa}.0.0 <${+xa+1}.0.0`:Cb(ab)?ba=`>=${xa}.${oa}.0 <${xa}.${+oa+1}.0`:Qb?(ja("replaceTilde pr",Qb),ba=`>=${xa}.${oa}.${ab}-${Qb} <${xa}.${+oa+1}.0`):ba=`>=${xa}.${oa}.${ab} <${xa}.${+oa+1}.0`;ja("tilde return",ba);return ba}),wc=(t,O)=>t.trim().split(/\s+/).map(ba=>Xc(ba,O)).join(" "),Xc=(t,O)=>{ja("caret",t,O);return t.replace(O.loose?
Oc[ra.CARETLOOSE]:Oc[ra.CARET],(ba,xa,oa,ab,Qb)=>{ja("caret",t,ba,xa,oa,ab,Qb);Cb(xa)?ba="":Cb(oa)?ba=`>=${xa}.0.0 <${+xa+1}.0.0`:Cb(ab)?ba="0"===xa?`>=${xa}.${oa}.0 <${xa}.${+oa+1}.0`:`>=${xa}.${oa}.0 <${+xa+1}.0.0`:Qb?(ja("replaceCaret pr",Qb),ba="0"===xa?"0"===oa?`>=${xa}.${oa}.${ab}-${Qb} <${xa}.${oa}.${+ab+1}`:`>=${xa}.${oa}.${ab}-${Qb} <${xa}.${+oa+1}.0`:`>=${xa}.${oa}.${ab}-${Qb} <${+xa+1}.0.0`):(ja("no pr"),ba="0"===xa?"0"===oa?`>=${xa}.${oa}.${ab} <${xa}.${oa}.${+ab+1}`:`>=${xa}.${oa}.${ab} <${xa}.${+oa+
1}.0`:`>=${xa}.${oa}.${ab} <${+xa+1}.0.0`);ja("caret return",ba);return ba})},Kc=(t,O)=>{ja("replaceXRanges",t,O);return t.split(/\s+/).map(ba=>na(ba,O)).join(" ")},na=(t,O)=>{t=t.trim();return t.replace(O.loose?Oc[ra.XRANGELOOSE]:Oc[ra.XRANGE],(ba,xa,oa,ab,Qb,Yb)=>{ja("xRange",t,ba,xa,oa,ab,Qb,Yb);const ic=Cb(oa),Ac=ic||Cb(ab);Qb=Ac||Cb(Qb);"\x3d"===xa&&Qb&&(xa="");Yb=O.includePrerelease?"-0":"";ic?ba="\x3e"===xa||"\x3c"===xa?"\x3c0.0.0-0":"*":xa&&Qb?(Ac&&(ab=0),Qb=0,"\x3e"===xa?(xa="\x3e\x3d",Ac?
(oa=+oa+1,ab=0):ab=+ab+1,Qb=0):"\x3c\x3d"===xa&&(xa="\x3c",Ac?oa=+oa+1:ab=+ab+1),ba=`${xa+oa}.${ab}.${Qb}${Yb}`):Ac?ba=`>=${oa}.0.0${Yb} <${+oa+1}.0.0${Yb}`:Qb&&(ba=`>=${oa}.${ab}.0${Yb} <${oa}.${+ab+1}.0${Yb}`);ja("xRange return",ba);return ba})},Ia=(t,O,ba,xa,oa,ab,Qb,Yb,ic,Ac,Mc,Nc,Wc)=>{O=Cb(ba)?"":Cb(xa)?`>=${ba}.0.0`:Cb(oa)?`>=${ba}.${xa}.0`:`>=${O}`;Yb=Cb(ic)?"":Cb(Ac)?`<${+ic+1}.0.0`:Cb(Mc)?`<${ic}.${+Ac+1}.0`:Nc?`<=${ic}.${Ac}.${Mc}-${Nc}`:`<=${Yb}`;return`${O} ${Yb}`.trim()},hb=Symbol("SemVer ANY");
class S{static get ANY(){return hb}constructor(t,O){O&&"object"===typeof O||(O={loose:!!O,includePrerelease:!1});if(t instanceof S){if(t.loose===!!O.loose)return t;t=t.value}ja("comparator",t,O);this.options=O;this.loose=!!O.loose;this.parse(t);this.value=this.semver===hb?"":this.operator+this.semver.version;ja("comp",this)}parse(t){const O=t.match(this.options.loose?ca[za.COMPARATORLOOSE]:ca[za.COMPARATOR]);if(!O)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==O[1]?O[1]:"";
"\x3d"===this.operator&&(this.operator="");this.semver=O[2]?new nc(O[2],this.options.loose):hb}toString(){return this.value}test(t){ja("Comparator.test",t,this.options.loose);if(this.semver===hb||t===hb)return!0;if("string"===typeof t)try{t=new nc(t,this.options)}catch(O){return!1}return Jb(t,this.operator,this.semver,this.options)}intersects(t,O){if(!(t instanceof S))throw new TypeError("a Comparator is required");O&&"object"===typeof O||(O={loose:!!O,includePrerelease:!1});if(""===this.operator)return""===
this.value?!0:(new sc(t.value,O)).test(this.value);if(""===t.operator)return""===t.value?!0:(new sc(this.value,O)).test(t.semver);const ba=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===t.operator||"\x3e"===t.operator),xa=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===t.operator||"\x3c"===t.operator),oa=this.semver.version===t.semver.version,ab=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===t.operator||"\x3c\x3d"===t.operator),Qb=
Jb(this.semver,"\x3c",t.semver,O)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===t.operator||"\x3c"===t.operator);t=Jb(this.semver,"\x3e",t.semver,O)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===t.operator||"\x3e"===t.operator);return ba||xa||oa&&ab||Qb||t}}var v=S;const {re:ca,t:za}=Ba;var Fa=(t,O,ba)=>{try{O=new sc(O,ba)}catch(xa){return!1}return O.test(t)},Ua=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:
t}(lc(function(t,O){Object.defineProperty(O,"__esModule",{value:!0});O.default=function(ba){ba=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(ba).slice(1,3);return{library:ba[0],version:ba[1]}}}));const mb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},
Mb={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),
"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000",
"#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),
"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Fb=Object.freeze({__proto__:null,version:"2.8.2",dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},
path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},
area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},
rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},
line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},latimes:{background:"#ffffff",title:{anchor:"start",
color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",
maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:mb["category-6"],diverging:mb["fireandice-6"],heatmap:mb["fire-7"],ordinal:mb["fire-7"],ramp:mb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},
rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},vox:{background:"#fff",arc:{fill:"#3e5c69"},
area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}},urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",
fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,
titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Mb["six-groups-cat-1"],diverging:Mb["diverging-colors"],heatmap:Mb["diverging-colors"],ordinal:Mb["six-groups-seq"],ramp:Mb["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,
align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},
"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6","#2a56c6"]}}});const Kb={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(t){return String(t).replace(/&/g,
"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};var vc=Array.isArray,yc=[];(function(t,O){var ba=ha(t),xa="return _["+ba.map(Wa).join("][")+"];";return ta(Function("_",xa),[t=1===ba.length?ba[0]:t],O||t)})("id");ta(function(t){return t},yc,"identity");ta(function(){return 0},yc,"zero");ta(function(){return 1},yc,"one");ta(function(){return!0},yc,"true");ta(function(){return!1},yc,"false");var Ic=function(t,O){var ba={},xa;for(xa in t)Object.prototype.hasOwnProperty.call(t,xa)&&0>O.indexOf(xa)&&(ba[xa]=
t[xa]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var oa=0;for(xa=Object.getOwnPropertySymbols(t);oa<xa.length;oa++)0>O.indexOf(xa[oa])&&Object.prototype.propertyIsEnumerable.call(t,xa[oa])&&(ba[xa[oa]]=t[xa[oa]])}return ba};class kd{constructor(t){this.options=Object.assign(Object.assign({},Kb),t);t=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const ba=document.createElement("style");
ba.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(t))throw Error("Invalid HTML ID");var O="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
t);ba.innerHTML=O;O=document.head;0<O.childNodes.length?O.insertBefore(ba,O.childNodes[0]):O.appendChild(ba)}this.el=document.getElementById(t);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",t),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(t,O,ba,xa){if(null==xa||""===xa)this.el.classList.remove("visible",`${this.options.theme}-theme`);else{this.el.innerHTML=tb(xa,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",
`${this.options.theme}-theme`);t=this.el.getBoundingClientRect();var oa=this.options.offsetX;ba=this.options.offsetY;xa=O.clientX+oa;xa+t.width>window.innerWidth&&(xa=+O.clientX-oa-t.width);oa=O.clientY+ba;oa+t.height>window.innerHeight&&(oa=+O.clientY-ba-t.height);var {x:ab,y:Qb}={x:xa,y:oa};this.el.setAttribute("style",`top: ${Qb}px; left: ${ab}px`)}}}String.prototype.startsWith||(String.prototype.startsWith=function(t,O){return this.substr(!O||0>O?0:+O,t.length)===t});var $c;const Pc=h;let hd=
ka;const md="undefined"!==typeof window?window:void 0;void 0===hd&&(null===($c=null===md||void 0===md?void 0:md.vl)||void 0===$c?0:$c.compile)&&(hd=md.vl);const ad={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},ke={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},id={vega:"Vega","vega-lite":"Vega-Lite"},y={vega:Pc.version,"vega-lite":hd?hd.version:
"not available"},K={vega:t=>t,"vega-lite":(t,O)=>hd.compile(t,{config:O}).spec},ua=(...t)=>{var O;if(O=1<t.length){if(O=h.isString(t[0]))O=t[0],O=!(O.startsWith("http://")||O.startsWith("https://")||O.startsWith("//"));O=O||t[0]instanceof HTMLElement||3===t.length}return O?ia(t[0],t[1],t[2]):sa(t[0],t[1])};ua.vegaLite=hd;ua.vl=hd;ua.container=sa;ua.embed=ia;ua.vega=Pc;ua.default=ia;ua.version="6.5.1";return ua})};
shadow$provide[57]=function(Db,ob,zc,Ya){Ya.__esModule=!0;Ya.default=function(w){const h={};return!!w&&"[object Function]"===h.toString.call(w)}};
shadow$provide[58]=function(Db,ob,zc,Ya){Ya.__esModule=!0;Ya.default=function(ka,Za,zb){zb&&((0,h.default)(zb)?zb(ka.data(Za)):ka.change(Za,w.vega.changeset().remove(()=>!0).insert(zb)))};var w=ob(56),h=function(ka){return ka&&ka.__esModule?ka:{default:ka}}(ob(57))};
shadow$provide[59]=function(Db,ob,zc,Ya){Ya.__esModule=!0;Ya.default=function(h,ka){Object.keys(ka).forEach(Za=>{(0,w.default)(h,Za,ka[Za])})};var w=function(h){return h&&h.__esModule?h:{default:h}}(ob(58))};
shadow$provide[60]=function(Db,ob,zc,Ya){Ya.__esModule=!0;Ya.default=function(w){const h=new Set;w.forEach(ka=>{Object.keys(ka).forEach(Za=>{h.add(Za)})});return h}};
shadow$provide[61]=function(Db,ob,zc,Ya){Ya.__esModule=!0;Ya.NOOP=void 0;Ya.NOOP=()=>{}};
shadow$provide[62]=function(Db,ob,zc,Ya){Ya.__esModule=!0;Ya.default=function(w,h){const ka=Object.keys(h);ka.forEach(Za=>{try{w.addSignalListener(Za,h[Za])}catch(zb){console.warn("Cannot add invalid signal listener.",zb)}});return 0<ka.length}};
shadow$provide[63]=function(Db,ob,zc,Ya){zc.exports=function Za(h,ka){if(h===ka)return!0;if(h&&ka&&"object"==typeof h&&"object"==typeof ka){if(h.constructor!==ka.constructor)return!1;var zb;if(Array.isArray(h)){var Vb=h.length;if(Vb!=ka.length)return!1;for(zb=Vb;0!==zb--;)if(!Za(h[zb],ka[zb]))return!1;return!0}if(h.constructor===RegExp)return h.source===ka.source&&h.flags===ka.flags;if(h.valueOf!==Object.prototype.valueOf)return h.valueOf()===ka.valueOf();if(h.toString!==Object.prototype.toString)return h.toString()===
ka.toString();var Zb=Object.keys(h);Vb=Zb.length;if(Vb!==Object.keys(ka).length)return!1;for(zb=Vb;0!==zb--;)if(!Object.prototype.hasOwnProperty.call(ka,Zb[zb]))return!1;for(zb=Vb;0!==zb--;)if(Vb=Zb[zb],!Za(h[Vb],ka[Vb]))return!1;return!0}return h!==h&&ka!==ka}};
shadow$provide[64]=function(Db,ob,zc,Ya){function w(Za){return Za&&Za.__esModule?Za:{default:Za}}Ya.__esModule=!0;Ya.default=function(Za,zb){if(Za===zb)return!1;const Vb={width:!1,height:!1,isExpensive:!1},Zb=(0,ka.default)([Za,zb]);!Zb.has("width")||"width"in Za&&"width"in zb&&Za.width===zb.width||("width"in Za&&"number"===typeof Za.width?Vb.width=Za.width:Vb.isExpensive=!0);!Zb.has("height")||"height"in Za&&"height"in zb&&Za.height===zb.height||("height"in Za&&"number"===typeof Za.height?Vb.height=
Za.height:Vb.isExpensive=!0);Zb.delete("width");Zb.delete("height");[...Zb].some(Ub=>!(Ub in Za)||!(Ub in zb)||!(0,h.default)(Za[Ub],zb[Ub]))&&(Vb.isExpensive=!0);return!1!==Vb.width||!1!==Vb.height||Vb.isExpensive?Vb:!1};var h=w(ob(63)),ka=w(ob(60))};
shadow$provide[65]=function(Db,ob,zc,Ya){Ya.__esModule=!0;Ya.default=function(w,h){const ka=Object.keys(h);ka.forEach(Za=>{try{w.removeSignalListener(Za,h[Za])}catch(zb){console.warn("Cannot remove invalid signal listener.",zb)}});return 0<ka.length}};
shadow$provide[66]=function(Db,ob,zc,Ya){Ya.__esModule=!0;Ya.default=function(w){const {spec:h,width:ka,height:Za}=w;return"undefined"!==typeof ka&&"undefined"!==typeof Za?Object.assign({},h,{width:ka,height:Za}):"undefined"!==typeof ka?Object.assign({},h,{width:ka}):"undefined"!==typeof Za?Object.assign({},h,{height:Za}):h}};
shadow$provide[67]=function(Db,ob,zc,Ya){function w(Ea){return Ea&&Ea.__esModule?Ea:{default:Ea}}function h(Ea,$a,vb){$a in Ea?Object.defineProperty(Ea,$a,{value:vb,enumerable:!0,configurable:!0,writable:!0}):Ea[$a]=vb;return Ea}Ya.__esModule=!0;Ya.default=void 0;Db=w(ob(19));var ka=w(ob(2)),Za=w(ob(56)),zb=w(ob(20)),Vb=w(ob(60)),Zb=ob(61),Ub=w(ob(62)),jc=w(ob(64)),Bb=w(ob(65)),Rb=w(ob(66));class ec extends ka.default.PureComponent{constructor(){super(...arguments);h(this,"containerRef",ka.default.createRef());
h(this,"resultPromise",void 0);h(this,"handleError",Ea=>{const {onError:$a=Zb.NOOP}=this.props;$a(Ea,this.containerRef.current);console.warn(Ea)});h(this,"modifyView",Ea=>{this.resultPromise&&this.resultPromise.then($a=>{$a&&Ea($a.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ea){const $a=(0,Vb.default)([this.props,Ea]);$a.delete("className");$a.delete("signalListeners");$a.delete("spec");$a.delete("style");$a.delete("width");$a.delete("height");
if(Array.from($a).some(vb=>this.props[vb]!==Ea[vb]))this.clearView(),this.createView();else{const vb=(0,jc.default)((0,Rb.default)(this.props),(0,Rb.default)(Ea)),{signalListeners:ub}=this.props,{signalListeners:sb}=Ea;if(vb)if(vb.isExpensive)this.clearView(),this.createView();else{const wb=!(0,zb.default)(ub,sb);this.modifyView(jb=>{!1!==vb.width&&jb.width(vb.width);!1!==vb.height&&jb.height(vb.height);wb&&(sb&&(0,Bb.default)(jb,sb),ub&&(0,Ub.default)(jb,ub));jb.run()})}else(0,zb.default)(ub,sb)||
this.modifyView(wb=>{sb&&(0,Bb.default)(wb,sb);ub&&(0,Ub.default)(wb,ub);wb.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ea=this.props,$a=Object.assign({},Ea);const vb=Ea.onNewView,ub=void 0===Ea.signalListeners?{}:Ea.signalListeners;Ea=(delete $a.spec,delete $a.onNewView,delete $a.signalListeners,delete $a.width,delete $a.height,$a);this.containerRef.current&&($a=(0,Rb.default)(this.props),this.resultPromise=(0,Za.default)(this.containerRef.current,$a,Ea).then(sb=>{if(sb){const {view:wb}=
sb;(0,Ub.default)(wb,ub)&&wb.run()}return sb}).catch(this.handleError),vb&&this.modifyView(vb))}clearView(){this.resultPromise&&this.resultPromise.then(Ea=>{Ea&&Ea.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ea,style:$a}=this.props;return ka.default.createElement("div",{ref:this.containerRef,className:Ea,style:$a})}}Ya.default=ec;h(ec,"propTypes",{className:Db.default.string,onError:Db.default.func})};
shadow$provide[68]=function(Db,ob,zc,Ya){function w(Bb){return Bb&&Bb.__esModule?Bb:{default:Bb}}function h(){h=Object.assign||function(Bb){for(var Rb=1;Rb<arguments.length;Rb++){var ec=arguments[Rb],Ea;for(Ea in ec)Object.prototype.hasOwnProperty.call(ec,Ea)&&(Bb[Ea]=ec[Ea])}return Bb};return h.apply(this,arguments)}function ka(Bb,Rb,ec){Rb in Bb?Object.defineProperty(Bb,Rb,{value:ec,enumerable:!0,configurable:!0,writable:!0}):Bb[Rb]=ec;return Bb}Ya.__esModule=!0;Ya.default=void 0;w(ob(19));var Za=
w(ob(2)),zb=w(ob(20)),Vb=w(ob(59)),Zb=w(ob(67)),Ub=ob(61);class jc extends Za.default.PureComponent{constructor(){super(...arguments);ka(this,"vegaEmbed",Za.default.createRef());ka(this,"handleNewView",Bb=>{this.update();const {onNewView:Rb=Ub.NOOP}=this.props;Rb(Bb)})}componentDidMount(){this.update()}componentDidUpdate(Bb){(0,zb.default)(this.props.data,Bb.data)||this.update()}update(){const {data:Bb}=this.props;this.vegaEmbed.current&&Bb&&0<Object.keys(Bb).length&&this.vegaEmbed.current.modifyView(Rb=>
{(0,Vb.default)(Rb,Bb);Rb.resize().run()})}render(){var Bb=Object.assign({},this.props);Bb=(delete Bb.data,Bb);return Za.default.createElement(Zb.default,h({ref:this.vegaEmbed},Bb,{onNewView:this.handleNewView}))}}Ya.default=jc;ka(jc,"defaultProps",{data:{}})};
shadow$provide[69]=function(Db,ob,zc,Ya){function w(zb){return zb&&zb.__esModule?zb:{default:zb}}function h(){h=Object.assign||function(zb){for(var Vb=1;Vb<arguments.length;Vb++){var Zb=arguments[Vb],Ub;for(Ub in Zb)Object.prototype.hasOwnProperty.call(Zb,Ub)&&(zb[Ub]=Zb[Ub])}return zb};return h.apply(this,arguments)}Ya.__esModule=!0;Ya.default=function(zb){return ka.default.createElement(Za.default,h({},zb,{mode:"vega-lite"}))};var ka=w(ob(2)),Za=w(ob(68))};
shadow$provide[70]=function(Db,ob,zc,Ya){function w(Vb){return Vb&&Vb.__esModule?Vb:{default:Vb}}function h(){h=Object.assign||function(Vb){for(var Zb=1;Zb<arguments.length;Zb++){var Ub=arguments[Zb],jc;for(jc in Ub)Object.prototype.hasOwnProperty.call(Ub,jc)&&(Vb[jc]=Ub[jc])}return Vb};return h.apply(this,arguments)}function ka(Vb,Zb,Ub){Zb in Vb?Object.defineProperty(Vb,Zb,{value:Ub,enumerable:!0,configurable:!0,writable:!0}):Vb[Zb]=Ub;return Vb}Ya.__esModule=!0;Ya.default=function(Vb){let {mode:Zb,
spec:Ub}=Vb;class jc extends Za.default.PureComponent{render(){return Za.default.createElement(zb.default,h({mode:Zb,spec:Ub},this.props))}}ka(jc,"getSpec",function(){return Ub});return jc};var Za=w(ob(2)),zb=w(ob(68))};
shadow$provide[71]=function(Db,ob,zc,Ya){Ya.__esModule=!0};
shadow$provide[72]=function(Db,ob,zc,Ya){Ya.__esModule=!0;var w=ob(71);Object.keys(w).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in Ya&&Ya[h]===w[h]||(Ya[h]=w[h]))})};
shadow$provide[73]=function(Db,ob,zc,Ya){function w(Za){return Za&&Za.__esModule?Za:{default:Za}}Ya.__esModule=!0;var h={Vega:!0,VegaLite:!0,createClassFromSpec:!0};Ya.createClassFromSpec=Ya.VegaLite=Ya.Vega=void 0;Db=w(ob(68));Ya.Vega=Db.default;Db=w(ob(69));Ya.VegaLite=Db.default;Db=w(ob(70));Ya.createClassFromSpec=Db.default;var ka=ob(72);Object.keys(ka).forEach(function(Za){"default"!==Za&&"__esModule"!==Za&&(Object.prototype.hasOwnProperty.call(h,Za)||Za in Ya&&Ya[Za]===ka[Za]||(Ya[Za]=ka[Za]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Dd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.kb="";g.set=function(a){this.kb=""+a};g.append=function(a,b,c){this.kb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.kb+=arguments[d];return this};g.clear=function(){this.kb=""};g.toString=function(){return this.kb};var ra={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Ib:c)?c.nb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.nb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):Ta(a,b)};Sa.D=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Ta(a,b,c)};Sa.$=3;function Ua(){}
function D(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):Za(a,b)};Ya.D=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Za(a,b,c)};Ya.$=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.lb)a=a.lb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.jc)a=a.jc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.Xc)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.Yc)a=a.R;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.zc)a=a.zc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.mb)a=a.mb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):sb(a,b)};rb.D=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):sb(a,b,c)};rb.$=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Db)a=a.Db(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.uc)a=a.uc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.hc)a=a.hc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Eb)a=a.Eb(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=Rb._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.aa=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.D(arguments[0],arguments[1],arguments[2]);case 4:return Rb.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rb.B=function(a,b){return null!=a&&null!=a.kc?a.kc(a,b):Sb(a,b)};
Rb.D=function(a,b,c){return null!=a&&null!=a.lc?a.lc(a,b,c):Sb(a,b,c)};Rb.T=function(a,b,c,d){return null!=a&&null!=a.mc?a.mc(a,b,c,d):Sb(a,b,c,d)};Rb.aa=function(a,b,c,d,e){return null!=a&&null!=a.nc?a.nc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.$=5;function Tb(){}function Ub(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}
function Vb(a){this.pd=a;this.F=1073741824;this.P=0}Vb.prototype.Ac=function(a,b){return this.pd.append(b)};function Wb(a){var b=new pa;a.ia(null,new Vb(b),va());return B.j(b)}var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}
function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;
function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.F&4194304||u===a.td))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Bb=a;this.name=b;this.jb=c;this._hash=d;this.Ya=e;this.F=2154168321;this.P=4096}g=gc.prototype;g.toString=function(){return this.jb};g.fa=function(a,b){return b instanceof gc?this.jb===b.jb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ha=function(){return this.Ya};g.ka=function(a,b){return new gc(this.Bb,this.name,this.jb,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))};g.Eb=function(){return this.name};g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,this.jb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ra;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.$=2;function ic(a){return null!=a?a.P&131072||u===a.ud?!0:a.P?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.ad))return a.ja(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.ub))return a.wa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.F&64||u===a.ub)?a.xa(null):(a=J(a))?a.xa(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.K(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.K=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};P.$=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Ab=b;this.bc=null;this.F=8388672;this.P=0}oc.prototype.ja=function(){return this};oc.prototype.wa=function(){return this.value};
oc.prototype.xa=function(){null==this.bc&&(this.bc=jc.j?jc.j(this.Ab):jc.call(null,this.Ab));return this.bc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.R=!1;this.F=32768;this.P=0}uc.prototype.fb=function(){return this.R};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.la(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.F&2||u===a.Qc?!0:a.F?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.F&16||u===a.wc?!0:a.F?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.C=a;this.i=b}Gc.prototype.pa=function(){return this.i<this.C.length};Gc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Qa=function(){return new Gc(this.C,this.i)};g.ha=function(){return this.meta};g.va=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.la=function(){var a=this.C.length-this.i;return 0>a?0:a};g.ga=function(){return pc(this)};g.fa=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.ma=function(){return lc};g.qa=function(a,b){return Bc(this.C,b,this.C[this.i],this.i+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.i)};g.wa=function(){return this.C[this.i]};
g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):lc};g.ja=function(){return this.i<this.C.length?this:null};g.ka=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.oa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.O();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.K(arguments[0],arguments[1],c)}};Jc.O=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.K=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Jc.$=2;function R(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Qc))a=a.la(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.ad))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.wc))return a.ea(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.wc))return a.Aa(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Wc)?a.ya(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Wc)?a.ca(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.$=3;var W=function W(a){switch(arguments.length){case 3:return W.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.K(arguments[0],arguments[1],arguments[2],c)}};
W.D=function(a,b,c){return null!=a&&(a.F&512||u===a.Pc)?a.ab(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.K=function(a,b,c,d){for(;;)if(a=W.D(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.K(b,a,c,d)};W.$=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.K(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.K=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Oc.$=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Oc?!0:a.Bc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.I=a;this.meta=b;this.F=393217;this.P=0}g=Qc.prototype;g.ha=function(){return this.meta};g.ka=function(a,b){return new Qc(this.I,b)};g.Oc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){return this.I.O?this.I.O():this.I.call(null)};g.j=function(a){return this.I.j?this.I.j(a):this.I.call(null,a)};g.B=function(a,b){return this.I.B?this.I.B(a,b):this.I.call(null,a,b)};g.D=function(a,b,c){return this.I.D?this.I.D(a,b,c):this.I.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.I.T?this.I.T(a,b,c,d):this.I.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.I.aa?this.I.aa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){return this.I.Na?this.I.Na(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};g.Oa=function(a,b,c,d,e,f,h){return this.I.Oa?this.I.Oa(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){return this.I.za?this.I.za(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){return this.I.Pa?this.I.Pa(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ca?this.I.Ca(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};g.Da=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Da?this.I.Da(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Ea?this.I.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.Fa?this.I.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.I.Ga?this.I.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.I.Ha?this.I.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.I.Ia?this.I.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.I.Ja?this.I.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.I.Ka?this.I.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.I.La?this.I.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.I.Ma?this.I.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Vc?Rc.Vc(this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.F&131072||u===a.Zc||(a.F?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.K(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.K=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Uc.$=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.F&8||u===a.rd?!0:a.F?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.F&4096||u===a.Ad?!0:a.F?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.F&16777216||u===a.yc?!0:a.F?!1:y(zb,a):y(zb,a)}function $c(a){return null==a?!1:null!=a?a.F&1024||u===a.xd?!0:a.F?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.F&67108864||u===a.zd?!0:a.F?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.F&16384||u===a.Bd?!0:a.F?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.P&512||u===a.qd?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.F&1||u===a.sd?!0:a.F?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.F&512||u===a.Pc)?a.lb(null,b):y($a,a)?ab(a,b):H.D(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.O?a.O():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.O?b.O():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.F&524288||u===b.$c)?b.qa(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.F&524288||u===c.$c)?c.ra(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.O();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.K(arguments[0],arguments[1],c)}};rd.O=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.K=function(a,b,c){return Ga(rd,a+b,c)};
rd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};rd.$=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.K(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.K=function(a,b,c){return Ga(sd,a-b,c)};
sd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};sd.$=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.O();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.K(arguments[0],c)}};B.O=function(){return""};
B.j=function(a){return null==a?"":[a].join("")};B.K=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};B.$=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.N=e;this.F=65937646;this.P=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.xa(null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Lc(b,this.first,this.eb,this.count,this.N)};g.oa=function(a,b){return new Lc(this.meta,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.meta=a;this.F=65937614;this.P=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ga=function(){return qc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.wd||(b.F?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.ma=function(){return this};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null};g.xa=function(){return lc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new vd(b)};g.oa=function(a,b){return new Lc(this.meta,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.N=d;this.F=65929452;this.P=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.eb?null:J(this.eb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};
g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new wd(b,this.first,this.eb,this.N)};g.oa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.F&64||u===b.ub)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Bb=a;this.name=b;this.Ra=c;this._hash=d;this.F=2153775105;this.P=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Ra)].join("")};g.fa=function(a,b){return b instanceof I?this.Ra===b.Ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))+2654435769|0};g.Eb=function(){return this.name};
g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,[":",B.j(this.Ra)].join(""))};function xd(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Fb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.jb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.$=2;function zd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.N=c;this.F=32374988;this.P=1}g=zd.prototype;g.toString=function(){return Wb(this)};
function Ad(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){this.ja(null);return null==this.s?null:O(this.s)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};
g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:N(this.s)};g.xa=function(){this.ja(null);return null!=this.s?kc(this.s):lc};g.ja=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new zd(b,function(){return c.ja(null)},this.N)};
g.oa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.cc=a;this.end=0;this.F=2;this.P=0}Bd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Bd.prototype.$a=function(){var a=new Cd(this.cc,0,this.end);this.cc=null;return a};Bd.prototype.la=function(){return this.end};function Cd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=Cd.prototype;g.la=function(){return this.end-this.off};
g.ea=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.uc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.C,this.off+1,this.end)};g.qa=function(a,b){return Bc(this.C,b,this.C[this.off],this.off+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.off)};function Dd(a,b,c,d){this.$a=a;this.Va=b;this.meta=c;this.N=d;this.F=31850732;this.P=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?null:yb(this.Va)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.wa=function(){return Sa(this.$a,0)};g.xa=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?lc:this.Va};g.ja=function(){return this};g.hc=function(){return this.$a};g.Rb=function(){return null==this.Va?lc:this.Va};g.ka=function(a,b){return b===this.meta?this:new Dd(this.$a,this.Va,b,this.N)};g.oa=function(a,b){return U(b,this)};g.vc=function(){return null==this.Va?null:this.Va};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.O?a.O():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Na?a.Na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=Va(m);if(7===b)return a.Oa?a.Oa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.za?a.za(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ca?a.Ca(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Da?a.Da(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Fa?a.Fa(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var qa=Va(da);if(18===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=Va(qa);if(19===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var Zc=D(qa);Va(qa);if(20===b)return a.Ma?a.Ma(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Na?a.Na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Oa?a.Oa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.za?a.za(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=O(p);if(null==q)return a.Ca?a.Ca(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Da?a.Da(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ea?a.Ea(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Fa?a.Fa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,w,z,C,E,M);T=D(da);var qa=O(da);if(null==qa)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=O(qa);if(null==qa)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=qa;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.ba?(c=U(c,U(d,e)),d=b.$,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.ba(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.ba){var c=a.$,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.ba(b)}b=J(b);return null==b?a.O?a.O():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.ba){b=U(b,c);var d=a.$;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.ba(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.ba?(b=U(b,U(c,U(d,e))),c=a.$,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.ba(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.ba?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.$,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.ba(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.F&64||u===a.ub))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.gd=a;this.F=393216;this.P=0},ta.prototype.ka=function(a,b){return new ta(b)},ta.prototype.ha=function(){return this.gd},ta.prototype.pa=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Ib=!0,ta.nb="cljs.core/t_cljs$core20121",ta.Ub=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Cb=Vd;this._next=a}Xd.prototype.pa=function(){this.Cb===Vd?(this.Cb=Wd,this._next=J(this._next)):this.Cb===this._next&&(this._next=O(this.Cb));return null!=this._next};Xd.prototype.next=function(){if(this.pa())return this.Cb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.$a(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ua=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=ae.prototype;
g.fa=function(a,b){return this===b};g.fb=function(){return this.state};g.ha=function(){return this.meta};g.oc=function(a,b){for(var c=J(this.ua),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ua=W.D(this.ua,b,c);return this};
g.Tb=function(a,b){return this.ua=Oc.B(this.ua,b)};g.ga=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ua&&a.oc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.D(arguments[0],arguments[1],arguments[2]);case 4:return ce.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.D=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.T=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.K=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};ce.$=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.D(arguments[0],arguments[1],arguments[2]);case 4:return de.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.$=2;k.ba=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.K=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.K(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ba=h.ba;f.O=e;f.j=d;f.B=c;f.K=h.K;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.$a(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.D=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.D(a,kc(d),kc(e)))}else d=null;return d},null)};de.T=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,de.T(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.K=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.K(e,d,Ic([c,b]))))};de.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};de.$=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.D(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.meta=a;this.count=b;this.R=c;this.next=d;this.N=null;this.F=32374988;this.P=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:null:this.next};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.R,this.R):b.call(null,this.R,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=1,c=this.R;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};
g.ra=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.R):b.call(null,c,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};g.wa=function(){return this.R};g.xa=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:lc:this.next};g.ja=function(){return this};
g.ka=function(a,b){return b===this.meta?this:new he(b,this.count,this.R,this.next)};g.oa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.O();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.O=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.P&4||u===a.Rc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.D=function(a,b,c){if(null!=a&&(a.P&4||u===a.Rc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.$=3;
function je(a,b,c){var d=W.D,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.D,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.da=a;this.C=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.da,Ea(a.C))}
function oe(a){a=a.G;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.C[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=qe.T?qe.T(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.C[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function te(a,b){return 0<=b&&b<a.G?se(a,b):re(b,a.G)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=ue.aa?ue.aa(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.C[k]=a}return h},ve=function ve(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=ve.D?ve.D(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.C[e]=a;return c}if(0===e)return null;c=ne(c);c.C[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
we.prototype.pa=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.C=se(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.O?b.O():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.N=f;this.F=167666463;this.P=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.G?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fc=u;g.ea=function(a,b){return te(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?se(this,b)[b&31]:c};
g.mb=function(a,b,c){if(0<=b&&b<this.G)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.oa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.G),"]"].join(""));};g.Qa=function(){return xe(this,0,this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};
g.vb=function(){return 0<this.G?this.ea(null,this.G-1):null};g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return pb(Kc,this.meta);if(1<this.G-oe(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.G-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===R(b))for(a=this.Qa(null),b=b.Qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.sb=function(){return new Be(this.G,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.ma=function(){return pb(Kc,this.meta)};g.qa=function(a,b){return ye(this,b,0,this.G)};
g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.G:!1};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.N)};
g.oa=function(a,b){if(32>this.G-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.C[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.C[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ea(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.K(c)};Le.K=function(a){return a instanceof K&&0===a.i?Ge(a.C,!Ba(a.C)):He(a)};Le.$=0;Le.ba=function(a){return this.K(J(a))};
function Me(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.N=null;this.F=32375020;this.P=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.vc()};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return ye(this.Ba,b,this.i+this.off,R(this.Ba))};g.ra=function(a,b,c){return ze(this.Ba,b,c,this.i+this.off,R(this.Ba))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Rb(null)};g.ja=function(){return this};
g.hc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.ka=function(a,b){return b===this.meta?this:Ne?Ne(this.Ba,this.node,this.i,this.off,b):Fe.call(null,this.Ba,this.node,this.i,this.off,b)};g.oa=function(a,b){return U(b,this)};
g.vc=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.N=e;this.F=167666463;this.P=139264}g=Oe.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.mb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.la(null)),"]"].join(""));b=this.meta;c=W.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.aa?Pe.aa(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Qa=function(){return null!=this.v&&u===this.v.fc?xe(this.v,this.start,this.end):new Xd(this)};g.ha=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(Kc,this.meta)};
g.qa=function(a,b){return null!=this.v&&u===this.v.fc?ye(this.v,b,this.start,this.end):xc(this,b)};g.ra=function(a,b,c){return null!=this.v&&u===this.v.fc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};
g.ja=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};g.ka=function(a,b){return b===this.meta?this:Pe.aa?Pe.aa(b,this.v,this.start,this.end,this.N):Pe.call(null,b,this.v,this.start,this.end,this.N)};g.oa=function(a,b){a=this.meta;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};
function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.da?b:new le(a,Ea(b.C))}function Ce(a){return new le({},Ea(a.C))}
function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.da,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Re.T?Re.T(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.da,b-5,d)}c.C[f]=a;return c};function Be(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Be.prototype;
g.yb=function(a,b){if(this.root.da){if(32>this.G-oe(this))this.tail[this.G&31]=b;else{a=new le(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.da,this.shift,a),this.root=new le(this.root.da,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Hb=function(){if(this.root.da){this.root.da=null;var a=this.G-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.da){if(0<=b&&b<a.G){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.da,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.da)return this.G;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.da)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ea(null,b):c};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Te(){this.F=2097152;this.P=0}Te.prototype.fa=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd($c(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.F&1048576||u===a.vd||(a.F?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.D(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.D(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.jb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].jb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.R=b;this.N=null;this.F=166619935;this.P=0}g=Ae.prototype;g.tb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.R);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.Aa(null,b,null)};g.ca=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.R;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.R:c};g.mb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.R],null)).mb(null,b,c)};g.ha=function(){return null};g.la=function(){return 2};g.Xc=function(){return this.key};g.Yc=function(){return this.R};g.vb=function(){return this.R};g.wb=function(){return new Y(null,1,5,Z,[this.key],null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return null};
g.qa=function(a,b){return xc(this,b)};g.ra=function(a,b,c){return yc(this,b,c)};g.ab=function(a,b,c){return W.D(new Y(null,2,5,Z,[this.key,this.R],null),b,c)};g.lb=function(a,b){return 0===b||1===b};g.ja=function(){return new K([this.key,this.R],0,null)};g.ka=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.R],null),b)};g.oa=function(a,b){return new Y(null,3,5,Z,[this.key,this.R,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function Ie(a){return null!=a?a.F&2048||u===a.yd?!0:!1:!1}function Ze(a,b,c){this.C=a;this.i=b;this.Ya=c;this.F=32374990;this.P=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):null};g.la=function(){return(this.C.length-this.i)/2};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return new Ae(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Ze(this.C,this.i,b)};g.oa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.C=a;this.i=0;this.G=b}$e.prototype.pa=function(){return this.i<this.G};$e.prototype.next=function(){var a=new Ae(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.N=d;this.F=16647951;this.P=139268}g=v.prototype;g.tb=function(a,b){a=Ye(this.C,b);return-1===a?null:new Ae(this.C[a],this.C[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};
g.ca=function(a,b,c){a=Ye(this.C,b);return-1===a?c:this.C[a+1]};g.Db=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Qa=function(){return new $e(this.C,2*this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};
g.fa=function(a,b){if($c(b)&&!ad(b))if(a=this.C.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.ca(null,this.C[c],ed);if(d!==ed)if(P.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new cf(this.C.length,Ea(this.C))};g.ma=function(){return pb(Td,this.meta)};g.qa=function(a,b){return ld(this,b)};g.ra=function(a,b,c){return md(this,b,c)};
g.jc=function(a,b){if(0<=Ye(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.ma(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);P.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.ab=function(a,b,c){a=Ye(this.C,b);if(-1===a){if(this.G<df){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=Ea(this.C);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.lb=function(a,b){return-1!==Ye(this.C,b)};g.ja=function(){var a=this.C;return 0<=a.length-2?new Ze(a,0,null):null};
g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.C,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ra===b.Ra?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.zb={};this.pb=a;this.C=b;this.F=259;this.P=56}g=cf.prototype;g.la=function(){if(this.zb)return td(this.pb);throw Error("count after persistent!");};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.zb)return a=Ye(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.zb){if(Ie(b))return this.xb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.xb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Hb=function(){if(this.zb)return this.zb=!1,new v(null,td(this.pb),this.C,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.zb){a=Ye(this.C,b);if(-1===a){if(this.pb+2<=2*df)return this.pb+=2,this.C.push(b),this.C.push(c),this;a=kf.B?kf.B(this.pb,this.C):kf.call(null,this.pb,this.C);return Kb(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ca(null,a,null)};g.B=function(a,b){return this.ca(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.R=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.ob(b);a.C[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Mb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.C=a;this.i=0;this.Wa=this.Nb=null}qf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Nb=new Ae(b,c):null!=c?(b=Ub(c),b=b.pa()?this.Wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.pa=function(){var a=null!=this.Nb;return a?a:(a=null!=this.Wa)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Nb){var a=this.Nb;this.Nb=null;return a}if(null!=this.Wa)return a=this.Wa.next(),this.Wa.pa()||(this.Wa=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.da=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=rf.prototype;
g.ob=function(a){if(a===this.da)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.C,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};g.hb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.hb(a+5,b,c,d):ff(c,e)?f:d};
g.Ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.C.length){a=this.ob(a);b=a.C;f.R=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?uf.Ua(a,b+5,ec(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.C,2*k,b,2*(k+1),2*(l-k));f.R=!0;a=this.ob(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ua(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.R=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.ob(a);a.C[e]=null;a.C[k]=d;return a};
g.Ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?uf.Ta(a+5,ec(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.C,2*h,a,2*(h+1),2*(k-h));e.R=!0;return new rf(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Ta(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,d));e.R=!0;e=this.bitmap;k=this.C;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Jb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Jb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Lb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Lb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.C,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e)):this};g.Qa=function(){return new qf(this.C)};var uf=new rf(null,0,[]);function zf(a){this.C=a;this.i=0;this.Wa=null}
zf.prototype.pa=function(){for(var a=this.C.length;;){if(null!=this.Wa&&this.Wa.pa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Wa=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.pa())return this.Wa.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.da=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=vf.prototype;g.ob=function(a){return a===this.da?this:new vf(a,this.G,Ea(this.C))};
g.Kb=function(){return Af?Af(this.C):Bf.call(null,this.C)};g.Mb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Mb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.hb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.hb(a+5,b,c,d):d};g.Ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=of(this,a,h,uf.Ua(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ua(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new vf(null,this.G+1,mf(this.C,f,uf.Ta(a+5,b,c,d,e)));a=h.Ta(a+5,b,c,d,e);return a===h?this:new vf(null,this.G,mf(this.C,f,a))};g.Jb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Jb(a+5,b,c,d):d};
g.Lb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Lb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.G-1,mf(this.C,d,a));else d=new vf(null,this.G,mf(this.C,d,a));return d}return this};g.Qa=function(){return new zf(this.C)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.da=a;this.bb=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Df.prototype;g.ob=function(a){if(a===this.da)return this;var b=Array(2*(this.G+1));dd(this.C,0,b,0,2*this.G);return new Df(a,this.bb,this.G,b)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};
g.hb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?this.C[a+1]:d};
g.Ua=function(a,b,c,d,e,f){if(c===this.bb){b=Cf(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.C[b]=d,a.C[c]=e,f.R=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);dd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.R=!0;d=this.G+1;a===this.da?(this.C=b,this.G=d,a=this):a=new Df(this.da,this.bb,d,b);return a}return this.C[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ua(a,b,c,d,e,f)};
g.Ta=function(a,b,c,d,e){return b===this.bb?(a=Cf(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),dd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.R=!0,new Df(null,this.bb,this.G+1,b)):P.B(this.C[a+1],d)?this:new Df(null,this.bb,this.G,mf(this.C,a+1,d))):(new rf(null,1<<(this.bb>>>a&31),[null,this])).Ta(a,b,c,d,e)};g.Jb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?new Ae(this.C[a],this.C[a+1]):d};
g.Lb=function(a,b,c){a=Cf(this.C,this.G,c);return-1===a?this:1===this.G?null:new Df(null,this.bb,this.G-1,nf(this.C,td(a)))};g.Qa=function(){return new qf(this.C)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Ta(a,h,b,c,k).Ta(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ua(a,b,k,c,d,l).Ua(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Ef(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Kb(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return N(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Gf(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Kb(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.ta=a;this.Lc=b;this.seen=!1}
If.prototype.pa=function(){return!this.seen||this.Lc.pa()};If.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Ae(null,this.ta)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.sa=d;this.ta=e;this.N=f;this.F=16123663;this.P=139268}g=Jf.prototype;g.tb=function(a,b){return null==b?this.sa?new Ae(null,this.ta):null:null==this.root?null:this.root.Jb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.Db=function(a,b,c){a=this.sa?b.D?b.D(c,null,this.ta):b.call(null,c,null,this.ta):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Mb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Qa=function(){var a=this.root?Ub(this.root):Ud();return this.sa?new If(this.ta,a):a};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){return Ve(this,b)};g.sb=function(){return new Kf(this.root,this.G,this.sa,this.ta)};
g.ma=function(){return pb(ef,this.meta)};g.jc=function(a,b){if(null==b)return this.sa?new Jf(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Lb(0,ec(b),b);return a===this.root?this:new Jf(this.meta,this.G-1,a,this.sa,this.ta,null)};
g.ab=function(a,b,c){if(null==b)return this.sa&&c===this.ta?this:new Jf(this.meta,this.sa?this.G:this.G+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Ta(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.meta,a.R?this.G+1:this.G,b,this.sa,this.ta,null)};g.lb=function(a,b){return null==b?this.sa:null==this.root?!1:this.root.hb(0,ec(b),b,ed)!==ed};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Kb():null;return this.sa?U(new Ae(null,this.ta),a):a}return null};
g.ka=function(a,b){return b===this.meta?this:new Jf(b,this.G,this.root,this.sa,this.ta,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.da={};this.root=a;this.count=b;this.sa=c;this.ta=d;this.F=259;this.P=56}function Lf(a,b,c){if(a.da){if(null==b)a.ta!==c&&(a.ta=c),a.sa||(a.count+=1,a.sa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ua(a.da,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.R&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.la=function(){if(this.da)return this.count;throw Error("count after persistent!");};
g.ya=function(a,b){return null==b?this.sa?this.ta:null:null==this.root?null:this.root.hb(0,ec(b),b)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.yb=function(a,b){a:if(this.da)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Hb=function(){if(this.da){this.da=null;var a=new Jf(null,this.count,this.root,this.sa,this.ta,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Mf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Mf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).key};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Mf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Mf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Mf.prototype[Da]=function(){return nc(this)};
function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Nf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).R};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Nf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Nf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Nf.prototype[Da]=function(){return nc(this)};
function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.K(c)};Of.K=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.$=0;Of.ba=function(a){return this.K(J(a))};function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.D(a,d,Rf);b=P.B(e,Rf)?b:W.D(b,d,e);c=O(c)}else return pb(b,Tc(a))}
function Sf(a){this.Ab=a}Sf.prototype.pa=function(){return this.Ab.pa()};Sf.prototype.next=function(){if(this.Ab.pa())return this.Ab.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.meta=a;this.cb=b;this.N=c;this.F=15077647;this.P=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};
g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){a=cb(this.cb,b);return x(a)?fb(a):c};g.Qa=function(){return new Sf(Ub(this.cb))};g.ha=function(){return this.meta};
g.la=function(){return Ma(this.cb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.sb=function(){return new Uf(Hb(this.cb))};g.ma=function(){return pb(Vf,this.meta)};g.zc=function(a,b){return new Tf(this.meta,eb(this.cb,b),null)};g.ja=function(){return af(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Tf(b,this.cb,this.N)};g.oa=function(a,b){return new Tf(this.meta,W.D(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};
var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.qb=a;this.P=136;this.F=259}g=Uf.prototype;g.yb=function(a,b){this.qb=Kb(this.qb,b,null);return this};g.Hb=function(){return new Tf(null,Jb(this.qb),null)};g.la=function(){return R(this.qb)};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return Ya(this.qb,b,ed)===ed?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.qb,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.qb,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Eb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.F&131072||u===b.Zc?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.D?eg.D(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Ib)return a.Ub(b);if(null!=a?a.F&2147483648||u===a.na||(a.F?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.T?fg.T(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.nb}()))return $f(b,Ic(["#object[",a.constructor.nb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.D(c,hg,dg),d.D?d.D(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ea(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Sc)?a.ma(null):(null!=a?a.F&4||u===a.Sc||(a.F?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.D(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.D(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=$c(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.na=u;K.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.na=u;zd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.na=u;Ae.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.na=u;Ef.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.na=u;Ze.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.na=u;oc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.na=u;Me.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.na=u;
wd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.na=u;Jf.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.na=u;Gf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.na=u;Oe.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.na=u;Tf.prototype.ia=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.na=u;Dd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.na=u;ae.prototype.ia=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.na=u;Nf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.na=u;he.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.na=u;Y.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.na=u;vd.prototype.ia=function(a,b){return G(b,"()")};v.prototype.na=u;
v.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.na=u;Mf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.na=u;Lc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Tc||(a.Bc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.K(arguments[0],c)};
sg.K=function(a,b){b=Sd(b);var c=H.D(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Tc||(f.Bc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if($c(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.$=1;sg.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.T(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.za?Eg.za(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.J=b;this.fd=k;this.Xb=c;this.Zb=d;this.md=e;this.Yb=f;this.Qb=h;this.F=4194305;this.P=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){var a=this.J.O?this.J.O():this.J.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.O?b.O():b.call(null)};g.j=function(a){var b=this.J.j?this.J.j(a):this.J.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.J.B?this.J.B(a,b):this.J.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.aa=function(a,b,c,d,e){var f=this.J.aa?this.J.aa(a,b,c,d,e):this.J.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.aa?h.aa(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){var h=this.J.Na?this.J.Na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Na?k.Na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Oa=function(a,b,c,d,e,f,h){var k=this.J.Oa?this.J.Oa(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Oa?l.Oa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){var l=this.J.za?this.J.za(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.za?m.za(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){var m=this.J.Pa?this.J.Pa(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Pa?n.Pa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){var n=this.J.Ca?this.J.Ca(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ca?p.Ca(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Da=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.J.Da?this.J.Da(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Da?q.Da(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.J.Ea?this.J.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ea?r.Ea(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.J.Fa?this.J.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Fa?w.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.J.Ga?this.J.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ga?z.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.J.Ha?this.J.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.Ha?C.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.J.Ia?this.J.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ia?E.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.J.Ja?this.J.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Ja?M.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.J.Ka?this.J.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Ka?T.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.J.La?this.J.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.La?da.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.J.Ma?this.J.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),qa=Ig(this,da);x(qa)||Fg(this.name,da);return qa.Ma?qa.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):qa.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var qa=Rd(this.J,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),Zc=Ig(this,qa);x(Zc)||Fg(this.name,qa);return Rd(Zc,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.T(c.Zb,W,a,b);Bg(c.Yb,c.Zb,c.Qb,c.Xb)}function Ig(a,b){P.B(F(a.Qb),F(a.Xb))||Bg(a.Yb,a.Zb,a.Qb,a.Xb);var c=F(a.Yb);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.Xb,a.Zb,a.md,a.Yb,a.Qb,a.fd)}g.Eb=function(){return Ob(this.name)};g.Fb=function(){return Pb(this.name)};
g.ga=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",1499536964),Sg=new I(null,"displayName","displayName",
-809144601),Tg=new I(null,"on-dispose","on-dispose",2105306360),Ug=new I(null,"data","data",-232669377),Vg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Wg=new I(null,"sigma","sigma",-63715703),Xg=new I(null,"spec","spec",347520401),Yg=new I(null,"constructor","constructor",-1953928811),Zg=new I(null,"div.column","div.column",-1380853326),$g=new I(null,"actions","actions",-812656882),ah=new I(null,"childContextTypes","childContextTypes",578717991),bh=new I(null,"transform",
"transform",1381301764),ch=new I(null,"field","field",-1302436500),dh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),eh=new I(null,"running","running",1554969103),fh=new I(null,"class","class",-2030961996),gh=new I(null,"description","description",-1428560544),hh=new I(null,"title","title",636505583),ih=new I(null,"on-click","on-click",1632826543),jh=new I(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),kh=new I(null,"color","color",1011675173),
lh=new I(null,"stack","stack",-793405930),mh=new I(null,"as","as",1148689641),nh=new I(null,"reagentRender","reagentRender",-358306383),oh=new I(null,"name","name",1843675177),ph=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),qh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,"default","default",-1987822328),rh=new I("skier","joins-queue","skier/joins-queue",-1286647213),
sh=new I(null,"no-cache","no-cache",1588056370),th=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),uh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),vh=new I("lift","leaves","lift/leaves",-2138482165),wh=new I(null,"component-did-update","component-did-update",-1468549173),xh=new I("sim","end-time","sim/end-time",-1849965709),yh=new I(null,"reagent-render",
"reagent-render",-985383853),zh=new I(null,"encoding","encoding",1728578272),Ah=new I(null,"function-components","function-components",1492814963),Bh=new I(null,"hierarchy","hierarchy",-1053470341),Ch=new I(null,"on-write","on-write",31519475),Dh=new I("skiers","skiing","skiers/skiing",-957605270),Eh=new I(null,"key","key",-1516042587),Fh=new I(null,"zero","zero",-858964576),Gh=new I("lift","ride-time","lift/ride-time",78775400),Hh=new I(null,"y","y",-1757859776),Ih=new I(null,"x","x",2099068185),
Jh=new I(null,"t","t",-1397832519),Kh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Lh=new I(null,"scale","scale",-230427353),Mh=new I(null,"contextType","contextType",1033066077),Nh=new I("skiers","waiting","skiers/waiting",1070582748),Oh=new I(null,"mark","mark",-373816345),Ph=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Qh=new I(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Rh=new I(null,"validator","validator",
-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Sh=new I(null,"display-name","display-name",694513143),Th=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Uh=new I("slope","length","slope/length",1017254753),Vh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Wh=new I(null,"contextTypes","contextTypes",-2023853910),tg=new I(null,"keyword-fn","keyword-fn",-64566675),Xh=new I(null,"shouldComponentUpdate",
"shouldComponentUpdate",1795750960),Yh=new I(null,"unit","unit",375175175),Zh=new I(null,"id","id",-1388402092),$h=new I(null,"$schema","$schema",1635092088),ai=new I(null,"component-will-unmount","component-will-unmount",-2058314698),bi=new I("lift","chair-width","lift/chair-width",1126373462),ci=new I(null,"results","results",-1134170113),di=new I(null,"className","className",-1983287057),ei=new I(null,"h1.title","h1.title",-2139952071),fi=new I("lift","chair-period","lift/chair-period",169813739),
gi=new I(null,"events","events",1792552201),hi=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ii=new I(null,"parse-tag","parse-tag",1427313738),ji=new I(null,"type","type",1174270348),ki=new I("skiers","speed","skiers/speed",88597428),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var li={},mi;function ni(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var oi=aa.navigator||null;oi&&(oi.appVersion||"").indexOf("X11");oa("Android");ni();oa("iPad");oa("iPod");ni()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof li||"undefined"===typeof mi)mi=function(b,c,d){this.f=b;this.Nc=c;this.hd=d;this.F=393216;this.P=0},mi.prototype.ka=function(b,c){return new mi(this.f,this.Nc,c)},mi.prototype.ha=function(){return this.hd},mi.Ib=!0,mi.nb="cljs.core.async/t_cljs$core$async22982",mi.Ub=function(b){return G(b,"cljs.core.async/t_cljs$core$async22982")};return new mi(a,!0,Td)})(function(){return null});var pi={},qi={},ri=[];function si(a,b){var c=qi[a];if(void 0!==c)return c;try{ri.push(a);var d=pi[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};pi[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,si,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ri.pop()}return d.exports}si.cache={};si.resolve=function(a){return a};var ti=si(2,{});function ui(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function vi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}()}
function wi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ui(a,b,c):ui(a,b,vi(c));throw["Invalid match arg: ",B.j(b)].join("");}function xi(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function yi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var zi={};var Ai={},Bi="undefined"!==typeof window&&null!=window.document,Ci=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Di(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Ei(a){if("string"===typeof a)return a;a=X(a);var b=yi(a),c=J(b);b=N(c);c=O(c);return x(Ci.j?Ci.j(b):Ci.call(null,b))?a:Pd(B,b,de.B(Di,c))}
function Fi(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.P&4096||u===a.xc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return $c(c)?oh.j(c):null}();return x(b)?wi(B.j(b),"$","."):null}function Gi(a){return a instanceof I||a instanceof gc}
var Hi=function Hi(a){switch(arguments.length){case 0:return Hi.O();case 1:return Hi.j(arguments[0]);case 2:return Hi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Hi.K(arguments[0],arguments[1],c)}};Hi.O=function(){return null};Hi.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Gi(b)?X(b):b:null},a),J(a)?xi(a):null):Gi(a)?X(a):a};
Hi.B=function(a,b){return x(a)?x(b)?[B.j(Hi.j(a))," ",B.j(Hi.j(b))].join(""):Hi.j(a):Hi.j(b)};Hi.K=function(a,b,c){return Ga(Hi,Hi.B(a,b),c)};Hi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Hi.$=2;var Ii=!1;function Ji(a){if($c(a))try{var b=H.B(a,Eh)}catch(c){b=null}else b=null;return b}
function Ki(a){var b=Eh.j(Tc(a));if(null!=b)return b;b=V(a,0,null);switch(b instanceof I?b.Ra:null){case "\x3e":case "f\x3e":return Ji(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return Ji(V(a,1,null))}};var Li=0;function Mi(a){return setTimeout(a,16)}var Ni=Bi?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Mi}().bind(a)}():Mi;function Oi(a,b){return a.qc-b.qc}function Pi(){return null}function Qi(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function Ri(a,b,c){b.push(c);return a.schedule()}function Si(){this.ac=!1}g=Si.prototype;g.flush_after_render=function(){var a=this.Ob;if(null==a)return null;this.Ob=null;return Qi(a)};g.queue_render=function(a){null==this.Wb&&(this.Wb=[]);return Ri(this,this.Wb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ac)return null;this.ac=!0;return Ni.j?Ni.j(a):Ni.call(null,a)};g.flush_before_flush=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return Qi(a)};
g.flush_queues=function(){this.flush_before_flush();Pi();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ac=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Pb&&(this.Pb=[]);return Ri(this,this.Pb,a)};g.add_after_render=function(a){null==this.Ob&&(this.Ob=[]);return Ri(this,this.Ob,a)};
g.flush_render=function(){var a=this.Wb;if(null==a)return null;this.Wb=null;a:{a.sort(Oi);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Ti=new Si;function Ui(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Ti.queue_render(a)};function Vi(a){if(null!=a&&null!=a.nd)a=a.id;else{var b=Vi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Wi(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=Wi[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Wi._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function Xi(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=Xi[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xi._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function Yi(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=Yi[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Yi._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var Zi=function Zi(a){switch(arguments.length){case 1:return Zi.j(arguments[0]);case 2:return Zi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Zi.K(arguments[0],arguments[1],c)}};Zi.j=function(a){return a};Zi.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};Zi.K=function(a,b,c){return Ga(Zi,a,Jc.B(c,b))};
Zi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Zi.$=2;var $i;function aj(a,b){b.dc=null;a:{var c=$i;$i=b;try{var d=a.O?a.O():a.call(null);break a}finally{$i=c}d=void 0}a=b.dc;b.gb=!1;a:{c=b.rb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function bj(a){var b=$i;if(null!=b){var c=b.dc;null==c?b.dc=[a]:c.push(a)}}function cj(a,b,c){a.ua=W.D(a.ua,b,c);return a.tc=null}
function dj(a,b){a.ua=Oc.B(a.ua,b);return a.tc=null}function ej(a,b,c){var d=a.tc;d=null==d?a.tc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ua):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function fj(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=$i;$i=null;try{var e=d;break a}finally{$i=c}e=void 0}eg(e,a,b);return G(a,"]")}var gj=null;
function hj(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ua=d;this.F=2154201088;this.P=114690}g=hj.prototype;g.ia=function(a,b,c){return fj(b,c,"RAtom",new v(null,1,[mg,this.fb(null)],null))};g.ha=function(){return this.meta};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};g.Sa=function(a,b){a=this.state;this.state=b;null!=this.ua&&ej(this,a,b);return b};g.kc=function(a,b){return this.Sa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.lc=function(a,b,c){return this.Sa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.mc=function(a,b,c,d){return this.Sa(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this.state,c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};g.Tb=function(a,b){return dj(this,b)};g.ka=function(a,b){return new hj(this.state,b,this.validator,this.ua)};g.fb=function(){bj(this);return this.state};
var ij=function ij(a){switch(arguments.length){case 1:return ij.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return ij.K(arguments[0],c)}};ij.j=function(a){return new hj(a,null,null,null)};ij.K=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Rh);return new hj(a,b,c,null)};ij.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};ij.$=1;
function jj(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=jj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function kj(a){this.f=a;this.state=null;this.gb=!0;this.Fc=!1;this.ec=this.Za=this.ua=this.rb=null;this.F=2153807872;this.P=114690}g=kj.prototype;g._peek_at=function(){var a=$i;$i=null;try{return this.fb(null)}finally{$i=a}};
g._handle_change=function(a,b,c){return b===c||this.gb?null:null==this.Za?(this.gb=!0,null==gj&&(gj=[],!1===Ti.ac&&Ti.schedule()),gj.push(this)):!0===this.Za?this._run(!1):this.Za.j?this.Za.j(this):this.Za.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.rb);this.rb=a;a=J(Zi.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(Zi.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.gb&&null!=this.rb?this._run(!0):null};g._try_capture=function(a){try{return this.ec=null,aj(a,this)}catch(b){return this.ec=this.state=a=b,this.gb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):aj(this.f,this);this.Fc||(this.state=a,null==this.ua||P.B(b,a)||ej(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Rg);var c=H.B(b,qh),d=H.B(b,Tg);b=H.B(b,sh);null!=a&&(this.Za=a);null!=c&&(this.kd=c);null!=d&&(this.Gc=d);return null!=b?this.Fc=b:null};g.ia=function(a,b,c){return fj(b,c,"Reaction",new v(null,1,[mg,this.fb(null)],null))};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.rb;this.Za=this.state=this.rb=null;this.gb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Gc&&this.Gc(a);a=this.Cd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Sa=function(a,b){a=this.state;this.state=b;this.kd(a,b);ej(this,a,b);return b};
g.kc=function(a,b){a=this.Sa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.lc=function(a,b,c){a=this.Sa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.mc=function(a,b,c,d){a=this.Sa;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this._peek_at(),c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};
g.Tb=function(a,b){a=Vc(this.ua);dj(this,b);return!a&&Vc(this.ua)&&null==this.Za?this.sc(null):null};g.fb=function(){var a=this.ec;if(null!=a)throw a;(a=null==$i)&&(lj.O?lj.O():lj.call(null));a&&null==this.Za?this.gb&&(a=this.state,this.state=this.f.O?this.f.O():this.f.call(null),null==this.ua||P.B(a,this.state)||ej(this,a,this.state)):(bj(this),this.gb&&this._run(!1));return this.state};
function lj(){for(;;){var a=gj;if(null==a)return null;gj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Pi=lj;function mj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Rg);d=H.B(e,qh);e=H.B(e,Tg);b=new kj(b);b._set_opts(new v(null,3,[Rg,c,qh,d,Tg,e],null));return b}var nj=mj(null);
function oj(a,b){var c=pj,d=nj,e=aj(a,d);null!=d.rb&&(nj=mj(null),d._set_opts(c),d.f=a,d.Za=function(){return Ui.j?Ui.j(b):Ui.call(null,b)},b.cljsRatom=d);return e};var qj;function rj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.D(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function sj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.ib);return b}
function tj(a,b){for(;;){var c=a.ib,d=!0===a.bd?c.call(a,a):function(){var e=rj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return Xi(b,d);if(gd(d))d=sj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return Xi(f,Pd(Le,l,p))}m.$=0;m.ba=function(p){p=J(p);return n(p)};m.K=n;return m}()}(a,b,c,null,d):d,a.ib=d;else return d}}var pj=new v(null,1,[sh,!0],null);
function uj(a,b){switch(a instanceof I?a.Ra:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=$c(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.dd;d=null!=d?d:c.dd=ij.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,rj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,rj(this,c))};case "shouldComponentUpdate":return function(c){var d=Ii;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,rj(this,this.props),rj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,rj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,rj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&jj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var vj=new v(null,2,[Xh,null,Kh,null],null),wj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.T(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=wi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=yi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Di,b))});function xj(a){return od(function(b,c,d){return W.D(b,yd.j(wj(c)),d)},Td,a)}
function yj(a,b){var c=function(){var h=nh.j(a);return x(h)?h:Og.j(a)}(),d=null==nh.j(a),e=function(){var h=Sg.j(a);if(x(h))return h;h=Fi(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.D,n=uj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.K(f,Sg,e,Ic([jh,d,nh,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?oj(function(){a:{var l=qj;qj=h;try{var m=tj(h,b);break a}finally{qj=l}m=void 0}return m},h):k._run(!1)}]))}
function zj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Aj(a,b){return yj(Of.K(Ic([vj,xj(a)])),b)}var Qf=new Y(null,5,5,Z,[ah,Wh,Mh,Qh,Vg],null);
function Bj(a,b){function c(k,l,m){ti.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.qc=Li+=1;return this}a=Aj(a,b);b=zj(Rd(Oc,a,Sg,ph,Yg,Ic([Og,nh,Qf])));var d=zj(Pf(a)),e=Sg.j(a),f=ph.j(a),h=Yg.j(a);ka(c.prototype,ti.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(nh.j(a))&&(c.prototype.ib=nh.j(a));x(jh.j(a))&&(c.prototype.bd=jh.j(a));ka(c,ti.Component,d);x(e)&&(c.displayName=e,c.nb=e,c.Ub=function(k){return G(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Ib=!0;return c.prototype.constructor=c}function Cj(a,b,c){a=Vi(a);return b[a]=c}
function Dj(a,b){for(;;){var c=b.ib,d=b.argv,e=Od(c,d);if(bd(e))return Xi(a,e);if(gd(e))c=sj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return Xi(f,Pd(Le,n,r))}p.$=0;p.ba=function(r){r=J(r);return q(r)};p.K=q;return p}()}(a,b,c,null,d,e):e,b.ib=c;else return e}}
function Ej(a,b){var c=b.argv,d=b.ib;b=ti.useState(0);V(b,0,null);var e=V(b,1,null),f=ti.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.qc=Li+=1;k.constructor=d;k.ib=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");ti.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:jj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?oj(function(){a:{var k=qj;qj=h;try{var l=Dj(a,h);break a}finally{qj=k}l=void 0}return l},
h):b._run(!1)}function Fj(a,b){a=a.argv;b=b.argv;var c=!1===Ii;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Gj(a,b){function c(e){return Ej(a,e)}var d=ia(b,Vi(a));if(x(d))return d;d=Fi(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=ti.memo(c,Fj);Cj(a,b,d);return d};var Hj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null),Ij=!1;
function Jj(a,b,c,d){var e=Sd(Td);e=H.B(e,Ch);if(x(function(){var h=!(a===document.activeElement&&id(Hj,a.type)&&"string"===typeof b&&"string"===typeof c);return h?h:Ij}()))return d.Vb=b,a.value=b,Pc(e)?e.j?e.j(b):e.call(null,b):null;var f=a.value;if(!P.B(f,c))return Ti.add_after_render(function(){var h=Ij;Ij=!0;try{return Kj.j?Kj.j(d):Kj.call(null,d)}finally{Ij=h}});f=R(f)-a.selectionStart;f=R(b)-f;d.Vb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=f;return a.selectionEnd=f}
function Kj(a){if(x(a.pc)){a.Cc=!1;var b=a.cd,c=a.Vb,d=a.rc;return P.B(b,c)?null:Jj(d,b,c,a)}return null}function Lj(a,b,c){a.Vb=c.target.value;x(a.Cc)||(a.Cc=!0,Ti.add_after_render(function(){return Kj(a)}));return b.j?b.j(c):b.call(null,c)}
function Mj(a){var b=qj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.pc)||(b.pc=!0,b.Vb=c);x(b.Kc)||(b.Kc=Pc(e)?function(f){b.rc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.rc=f;return e.current=f}:function(f){return b.rc=f});b.cd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Lj(b,d,f)};a.ref=b.Kc}}
var Nj=new v(null,4,[Sh,"ReagentInput",wh,Kj,ai,function(a){return a.pc=null},yh,function(a,b,c,d,e){Mj(c);return Yi(e,a,b,c,d)}],null);var Oj={},Pj,Qj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Rj={"class":"className","for":"htmlFor",charset:"charSet"};function Sj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Tj(a,b,c){if(Gi(b)){var d=Sj(Rj,X(b));null==d?(d=Ei(b),b=X(b),b=Rj[b]=d):b=d}c=Uj.j?Uj.j(c):Uj.call(null,c);a[b]=c;return a}
function Uj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Tj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}var Vj={};function Wj(a,b,c){if(Gi(b)){var d=Sj(Vj,X(b));null==d?(d=Ei(b),b=X(b),b=Vj[b]=d):b=d}c=Uj(c);a[b]=c;return a}
function Xj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Wj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}
function Yj(a,b,c,d,e){switch(R(b)-e){case 0:return ti.createElement(c,d);case 1:return ti.createElement(c,d,Xi(a,V(b,e,null)));default:return ti.createElement.apply(null,od(function(f,h,k){h>=e&&f.push(Xi(a,k));return f},[c,d],b))}}function Zj(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ed=d}function ak(a,b,c){var d=ia(a,Vi(c));null==d?sj(a)?a=Cj(c,a,a):(d=Tc(a),d=W.D(d,yh,a),d=Bj(d,c),a=Cj(c,a,d)):a=d;c={};c.argv=b;b=Ki(b);null!=b&&(c.key=b);return ti.createElement(a,c)}
function bk(a,b,c,d){var e={};e.ib=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ki(b);null!=b&&(e.key=b);return ti.createElement(Gj(d,a),e)}function ck(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ak(a,b,c):bk(a,b,1,c)}var dk={};function ek(a,b){a=Sj(dk,b);if(null==a){var c=O(Xf(Qj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:wi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new Zj(a,d,c,e);return dk[b]=a}return a}
function fk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||$c(f),k=function(){var n=h?f:null;var p=fh.j(n);p=x(p)?W.D(n,fh,Hi.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==Zh.j(p)?W.D(p,Zh,q):p;if(x(n)){var r=W.D,w=Hi.B,z=fh.j(p);p=x(z)?z:di.j(p);n=r.call(W,q,fh,w.call(Hi,n,p))}else n=q;n=x(a.ed)?Xj(n):Uj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Ji(f);var m=function(){var n=d.od;if(x(n))return n;n=Bj(Nj,d);return d.od=n}();return Xi(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.K(Ic([x(l)?new v(null,1,[Eh,l],null):null,Tc(b)]))))}l=Ji(Tc(b));null!=l&&(k.key=l);return Yi(d,b,e,k,c)}function gk(a,b){return Fa(de.B(function(c){return Xi(b,c)},a))}
function hk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Ra:null){case "\x3e":return c=V(a,1,null),fk(new Zj(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Ji(Tc(a));null!=e&&(d.key=e);return Yi(b,a,c,d,3);case "f\x3e":return bk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||$c(d),d=Uj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ki(a),null!=e&&(d.key=e),Yi(b,a,ti.Fragment,d,c);default:if(Gi(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=fk(Wi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.D(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var ik=function(a){var b=og("reagent-compiler"),c=x(Ah.j(a))?ck:ak,d=H.D(a,ii,ek);if("undefined"===typeof zi||"undefined"===typeof Ai||"undefined"===typeof Oj||"undefined"===typeof Pj)Pj=function(e,f,h,k,l){this.ld=e;this.id=f;this.Dc=h;this.$b=k;this.jd=l;this.F=393216;this.P=0},Pj.prototype.ka=function(e,f){return new Pj(this.ld,this.id,this.Dc,this.$b,f)},Pj.prototype.ha=function(){return this.jd},Pj.prototype.nd=function(){return this.id},Pj.prototype.Jc=function(e,f,h){return this.$b.D?this.$b.D(this,
f,h):this.$b.call(null,this,f,h)},Pj.prototype.Hc=function(e,f){e=this.Dc;return"object"!==t(f)?f:bd(f)?hk(f,this,e):(null==f?0:null!=f?f.F&64||u===f.ub||(f.F?0:y(Ua,f)):y(Ua,f))?gk(f,this):Gi(f)?X(f):(null!=f?f.F&2147483648||u===f.na||(f.F?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Pj.prototype.Ic=function(e,f,h,k,l){return Yj(this,f,h,k,l)},Pj.Ib=!0,Pj.nb="reagent.impl.template/t_reagent$impl$template26154",Pj.Ub=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26154")};return new Pj(a,
b,c,d,Td)}(Td);var jk=si(9,{});function kk(a){a=ia(a,"comp");ti.useEffect(function(){var c=Ii;Ii=!1;try{Ti.flush_after_render()}finally{Ii=c}});var b=Ii;Ii=!0;try{return a.O?a.O():a.call(null)}finally{Ii=b}}function lk(){var a=new Y(null,1,5,Z,[mk],null);nk.render(ti.createElement(kk,{comp:function(){return Xi(ik,a)}}))};var ok=si(73,{});function pk(a,b){this.Ec=a;this.Mc=b}pk.prototype.getKey=function(){return this.Ec};pk.prototype.getValue=function(){return this.Mc};pk.prototype.clone=function(){return new pk(this.Ec,this.Mc)};function qk(a){this.Xa=[];if(a)a:{if(a instanceof qk){var b=a.Xa;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.Xa;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.Xa.length){c=this.Xa;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.Xa;c.push(new pk(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Xa;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.Xa.length};g.clear=function(){la(this.Xa)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Wg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.D(Td,Bh,vg.O?vg.O():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Ph.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(rh,function(a){return je(je(a,Dh,sk),Nh,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,ki),d=H.B(a,Uh);b=Sd(b);b=H.B(b,Jh);c=d/tk(c);return ke(je(je(a,hi,sk),Dh,tc),gi,Jc,new v(null,2,[Ph,rh,Jh,b+c],null))});Jg(vh,function(a,b){var c=Sd(a),d=H.B(c,Gh),e=H.B(c,bi);a=H.B(c,fi);b=Sd(b);b=H.B(b,Jh);var f=Nh.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Nh,sd,e),hi,rd,e);d=new v(null,2,[Ph,Mg,Jh,b+tk(d)],null);return ke(ke(c,gi,ie,ee(e,new he(null,-1,d,null))),gi,Jc,new v(null,2,[Ph,vh,Jh,b+a],null))});var uk;
a:for(var vk=[Uh,hi,Gh,gi,Dh,fi,xh,ki,bi,Jh,Nh],wk=[3E3,0,new v(null,2,[Pg,300,Wg,30],null),new Y(null,1,5,Z,[new v(null,2,[Ph,vh,Jh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Wg,1,Yh,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"line",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,3,[ch,"number-of-skiers",ji,"quantitative",hh,"Number of skiers"],null),kh,new v(null,
1,[ch,"state"],null)],null)],null),Dk=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"bar",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,4,[ch,"number-of-skiers",ji,"quantitative",lh,"normalize",
hh,"Percentage of skiers"],null),kh,new v(null,1,[ch,"state"],null)],null)],null),Ek=ij.j(new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null)),Fk=ij.j(new v(null,1,[eh,!0],null));
function Gk(){return ce.B(Ek,function(a){var b=W.D,c=Jc.B,d=ci.j(a),e;a:for(e=ci.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=gi.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n);k.enqueue(Jh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Jh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.D;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,gi,n);e=e.B?e.B(f,
h):e.call(null,f,h);e=l.call(W,e,Jh,h.j?h.j(Jh):h.call(null,Jh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ci,He(c))})}function Hk(){return x(eh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Th,new v(null,2,[ji,"reset",ih,function(){be(Ek,new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[eh,!0],null))}],null),"Restart"],null)}
function mk(){x(eh.j(F(Fk)))&&setTimeout(function(){return Gk()},100);return new Y(null,4,5,Z,[th,new Y(null,2,5,Z,[Vh,new Y(null,2,5,Z,[ei,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[uh,new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,3,[Xg,Ck,Ug,F(Ek),$g,!1],null)],null)],null),new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,
3,[Xg,Dk,Ug,F(Ek),$g,!1],null)],null)],null)],null)],null)],null)}var Jk=jk.createRoot,Kk;Kk=document.getElementById("app");var nk=Jk.call(jk,Kk);try{lk()}catch(a){throw console.error("An error occurred when calling (net.thewagner.skiers.web/init)"),a;};
}).call(this);