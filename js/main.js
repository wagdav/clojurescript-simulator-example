var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(hc,Db,Wc,ob){function v(Z){if(null===Z||"object"!==typeof Z)return null;Z=Qa&&Z[Qa]||Z["@@iterator"];return"function"===typeof Z?Z:null}function k(Z,Fa,Ga){this.props=Z;this.context=Fa;this.refs=lb;this.updater=Ga||Da}function P(){}function jb(Z,Fa,Ga){this.props=Z;this.context=Fa;this.refs=lb;this.updater=Ga||Da}function Fb(Z,Fa,Ga){var eb,ba={},oa=null,q=null;if(null!=Fa)for(eb in void 0!==Fa.ref&&(q=Fa.ref),void 0!==Fa.key&&(oa=""+Fa.key),Fa)wb.call(Fa,eb)&&!Pb.hasOwnProperty(eb)&&
(ba[eb]=Fa[eb]);var M=arguments.length-2;if(1===M)ba.children=Ga;else if(1<M){for(var Q=Array(M),g=0;g<M;g++)Q[g]=arguments[g+2];ba.children=Q}if(Z&&Z.defaultProps)for(eb in M=Z.defaultProps,M)void 0===ba[eb]&&(ba[eb]=M[eb]);return{$$typeof:Ua,type:Z,key:oa,ref:q,props:ba,_owner:sb.current}}function bc(Z,Fa){return{$$typeof:Ua,type:Z.type,key:Fa,ref:Z.ref,props:Z.props,_owner:Z._owner}}function vc(Z){return"object"===typeof Z&&null!==Z&&Z.$$typeof===Ua}function Bc(Z){var Fa={"\x3d":"\x3d0",":":"\x3d2"};
return"$"+Z.replace(/[=:]/g,function(Ga){return Fa[Ga]})}function uc(Z,Fa){return"object"===typeof Z&&null!==Z&&null!=Z.key?Bc(""+Z.key):Fa.toString(36)}function Ab(Z,Fa,Ga,eb,ba){var oa=typeof Z;if("undefined"===oa||"boolean"===oa)Z=null;var q=!1;if(null===Z)q=!0;else switch(oa){case "string":case "number":q=!0;break;case "object":switch(Z.$$typeof){case Ua:case tb:q=!0}}if(q)return q=Z,ba=ba(q),Z=""===eb?"."+uc(q,0):eb,Pa(ba)?(Ga="",null!=Z&&(Ga=Z.replace(Vb,"$\x26/")+"/"),Ab(ba,Fa,Ga,"",function(g){return g})):
null!=ba&&(vc(ba)&&(ba=bc(ba,Ga+(!ba.key||q&&q.key===ba.key?"":(""+ba.key).replace(Vb,"$\x26/")+"/")+Z)),Fa.push(ba)),1;q=0;eb=""===eb?".":eb+":";if(Pa(Z))for(var M=0;M<Z.length;M++){oa=Z[M];var Q=eb+uc(oa,M);q+=Ab(oa,Fa,Ga,Q,ba)}else if(Q=v(Z),"function"===typeof Q)for(Z=Q.call(Z),M=0;!(oa=Z.next()).done;)oa=oa.value,Q=eb+uc(oa,M++),q+=Ab(oa,Fa,Ga,Q,ba);else if("object"===oa)throw Fa=String(Z),Error("Objects are not valid as a React child (found: "+("[object Object]"===Fa?"object with keys {"+Object.keys(Z).join(", ")+
"}":Fa)+"). If you meant to render a collection of children, use an array instead.");return q}function kc(Z,Fa,Ga){if(null==Z)return Z;var eb=[],ba=0;Ab(Z,eb,"","",function(oa){return Fa.call(Ga,oa,ba++)});return eb}function Yb(Z){if(-1===Z._status){var Fa=Z._result;Fa=Fa();Fa.then(function(Ga){if(0===Z._status||-1===Z._status)Z._status=1,Z._result=Ga},function(Ga){if(0===Z._status||-1===Z._status)Z._status=2,Z._result=Ga});-1===Z._status&&(Z._status=0,Z._result=Fa)}if(1===Z._status)return Z._result.default;
throw Z._result;}var Ua=Symbol.for("react.element"),tb=Symbol.for("react.portal");hc=Symbol.for("react.fragment");Db=Symbol.for("react.strict_mode");Wc=Symbol.for("react.profiler");var Jb=Symbol.for("react.provider"),Kb=Symbol.for("react.context"),Cb=Symbol.for("react.forward_ref"),Ob=Symbol.for("react.suspense"),ab=Symbol.for("react.memo"),pb=Symbol.for("react.lazy"),Qa=Symbol.iterator,Da={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},
Ka=Object.assign,lb={};k.prototype.isReactComponent={};k.prototype.setState=function(Z,Fa){if("object"!==typeof Z&&"function"!==typeof Z&&null!=Z)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,Fa,"setState")};k.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};P.prototype=k.prototype;var mb=jb.prototype=new P;mb.constructor=jb;Ka(mb,k.prototype);
mb.isPureReactComponent=!0;var Pa=Array.isArray,wb=Object.prototype.hasOwnProperty,sb={current:null},Pb={key:!0,ref:!0,__self:!0,__source:!0},Vb=/\/+/g,nb={current:null},qa={transition:null};mb={ReactCurrentDispatcher:nb,ReactCurrentBatchConfig:qa,ReactCurrentOwner:sb};ob.Children={map:kc,forEach:function(Z,Fa,Ga){kc(Z,function(){Fa.apply(this,arguments)},Ga)},count:function(Z){var Fa=0;kc(Z,function(){Fa++});return Fa},toArray:function(Z){return kc(Z,function(Fa){return Fa})||[]},only:function(Z){if(!vc(Z))throw Error("React.Children.only expected to receive a single React element child.");
return Z}};ob.Component=k;ob.Fragment=hc;ob.Profiler=Wc;ob.PureComponent=jb;ob.StrictMode=Db;ob.Suspense=Ob;ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mb;ob.cloneElement=function(Z,Fa,Ga){if(null===Z||void 0===Z)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var eb=Ka({},Z.props),ba=Z.key,oa=Z.ref,q=Z._owner;if(null!=Fa){void 0!==Fa.ref&&(oa=Fa.ref,q=sb.current);void 0!==Fa.key&&(ba=""+Fa.key);if(Z.type&&Z.type.defaultProps)var M=Z.type.defaultProps;
for(Q in Fa)wb.call(Fa,Q)&&!Pb.hasOwnProperty(Q)&&(eb[Q]=void 0===Fa[Q]&&void 0!==M?M[Q]:Fa[Q])}var Q=arguments.length-2;if(1===Q)eb.children=Ga;else if(1<Q){M=Array(Q);for(var g=0;g<Q;g++)M[g]=arguments[g+2];eb.children=M}return{$$typeof:Ua,type:Z.type,key:ba,ref:oa,props:eb,_owner:q}};ob.createContext=function(Z){Z={$$typeof:Kb,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};Z.Provider={$$typeof:Jb,_context:Z};return Z.Consumer=Z};
ob.createElement=Fb;ob.createFactory=function(Z){var Fa=Fb.bind(null,Z);Fa.type=Z;return Fa};ob.createRef=function(){return{current:null}};ob.forwardRef=function(Z){return{$$typeof:Cb,render:Z}};ob.isValidElement=vc;ob.lazy=function(Z){return{$$typeof:pb,_payload:{_status:-1,_result:Z},_init:Yb}};ob.memo=function(Z,Fa){return{$$typeof:ab,type:Z,compare:void 0===Fa?null:Fa}};ob.startTransition=function(Z){var Fa=qa.transition;qa.transition={};try{Z()}finally{qa.transition=Fa}};ob.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.");
};ob.useCallback=function(Z,Fa){return nb.current.useCallback(Z,Fa)};ob.useContext=function(Z){return nb.current.useContext(Z)};ob.useDebugValue=function(){};ob.useDeferredValue=function(Z){return nb.current.useDeferredValue(Z)};ob.useEffect=function(Z,Fa){return nb.current.useEffect(Z,Fa)};ob.useId=function(){return nb.current.useId()};ob.useImperativeHandle=function(Z,Fa,Ga){return nb.current.useImperativeHandle(Z,Fa,Ga)};ob.useInsertionEffect=function(Z,Fa){return nb.current.useInsertionEffect(Z,
Fa)};ob.useLayoutEffect=function(Z,Fa){return nb.current.useLayoutEffect(Z,Fa)};ob.useMemo=function(Z,Fa){return nb.current.useMemo(Z,Fa)};ob.useReducer=function(Z,Fa,Ga){return nb.current.useReducer(Z,Fa,Ga)};ob.useRef=function(Z){return nb.current.useRef(Z)};ob.useState=function(Z){return nb.current.useState(Z)};ob.useSyncExternalStore=function(Z,Fa,Ga){return nb.current.useSyncExternalStore(Z,Fa,Ga)};ob.useTransition=function(){return nb.current.useTransition()};ob.version="18.2.0"};
shadow$provide[2]=function(hc,Db,Wc,ob){Wc.exports=Db(0)};
shadow$provide[3]=function(hc,Db,Wc,ob){function v(Z,Fa){var Ga=Z.length;Z.push(Fa);a:for(;0<Ga;){var eb=Ga-1>>>1,ba=Z[eb];if(0<jb(ba,Fa))Z[eb]=Fa,Z[Ga]=ba,Ga=eb;else break a}}function k(Z){return 0===Z.length?null:Z[0]}function P(Z){if(0===Z.length)return null;var Fa=Z[0],Ga=Z.pop();if(Ga!==Fa){Z[0]=Ga;var eb=0,ba=Z.length,oa=ba>>>1;a:for(;eb<oa;){var q=2*(eb+1)-1,M=Z[q],Q=q+1,g=Z[Q];if(0>jb(M,Ga))Q<ba&&0>jb(g,M)?(Z[eb]=g,Z[Q]=Ga,eb=Q):(Z[eb]=M,Z[q]=Ga,eb=q);else if(Q<ba&&0>jb(g,Ga))Z[eb]=g,Z[Q]=
Ga,eb=Q;else break a}}return Fa}function jb(Z,Fa){var Ga=Z.sortIndex-Fa.sortIndex;return 0!==Ga?Ga:Z.id-Fa.id}function Fb(Z){for(var Fa=k(Kb);null!==Fa;){if(null===Fa.callback)P(Kb);else if(Fa.startTime<=Z)P(Kb),Fa.sortIndex=Fa.expirationTime,v(Jb,Fa);else break;Fa=k(Kb)}}function bc(Z){Da=!1;Fb(Z);if(!Qa)if(null!==k(Jb))Qa=!0,Ab(vc);else{var Fa=k(Kb);null!==Fa&&kc(bc,Fa.startTime-Z)}}function vc(Z,Fa){Qa=!1;Da&&(Da=!1,lb(sb),sb=-1);pb=!0;var Ga=ab;try{Fb(Fa);for(Ob=k(Jb);null!==Ob&&(!(Ob.expirationTime>
Fa)||Z&&!Bc());){var eb=Ob.callback;if("function"===typeof eb){Ob.callback=null;ab=Ob.priorityLevel;var ba=eb(Ob.expirationTime<=Fa);Fa=ob.unstable_now();"function"===typeof ba?Ob.callback=ba:Ob===k(Jb)&&P(Jb);Fb(Fa)}else P(Jb);Ob=k(Jb)}if(null!==Ob)var oa=!0;else{var q=k(Kb);null!==q&&kc(bc,q.startTime-Fa);oa=!1}return oa}finally{Ob=null,ab=Ga,pb=!1}}function Bc(){return ob.unstable_now()-Vb<Pb?!1:!0}function uc(){if(null!==wb){var Z=ob.unstable_now();Vb=Z;var Fa=!0;try{Fa=wb(!0,Z)}finally{Fa?nb():
(Pa=!1,wb=null)}}else Pa=!1}function Ab(Z){wb=Z;Pa||(Pa=!0,nb())}function kc(Z,Fa){sb=Ka(function(){Z(ob.unstable_now())},Fa)}if("object"===typeof performance&&"function"===typeof performance.now){var Yb=performance;ob.unstable_now=function(){return Yb.now()}}else{var Ua=Date,tb=Ua.now();ob.unstable_now=function(){return Ua.now()-tb}}var Jb=[],Kb=[],Cb=1,Ob=null,ab=3,pb=!1,Qa=!1,Da=!1,Ka="function"===typeof setTimeout?setTimeout:null,lb="function"===typeof clearTimeout?clearTimeout:null,mb="undefined"!==
typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Pa=!1,wb=null,sb=-1,Pb=5,Vb=-1;if("function"===typeof mb)var nb=function(){mb(uc)};else if("undefined"!==typeof MessageChannel){hc=new MessageChannel;var qa=hc.port2;hc.port1.onmessage=uc;nb=function(){qa.postMessage(null)}}else nb=function(){Ka(uc,0)};ob.unstable_IdlePriority=5;ob.unstable_ImmediatePriority=
1;ob.unstable_LowPriority=4;ob.unstable_NormalPriority=3;ob.unstable_Profiling=null;ob.unstable_UserBlockingPriority=2;ob.unstable_cancelCallback=function(Z){Z.callback=null};ob.unstable_continueExecution=function(){Qa||pb||(Qa=!0,Ab(vc))};ob.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pb=0<Z?Math.floor(1E3/Z):5};ob.unstable_getCurrentPriorityLevel=function(){return ab};
ob.unstable_getFirstCallbackNode=function(){return k(Jb)};ob.unstable_next=function(Z){switch(ab){case 1:case 2:case 3:var Fa=3;break;default:Fa=ab}var Ga=ab;ab=Fa;try{return Z()}finally{ab=Ga}};ob.unstable_pauseExecution=function(){};ob.unstable_requestPaint=function(){};ob.unstable_runWithPriority=function(Z,Fa){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Ga=ab;ab=Z;try{return Fa()}finally{ab=Ga}};ob.unstable_scheduleCallback=function(Z,Fa,Ga){var eb=ob.unstable_now();"object"===
typeof Ga&&null!==Ga?(Ga=Ga.delay,Ga="number"===typeof Ga&&0<Ga?eb+Ga:eb):Ga=eb;switch(Z){case 1:var ba=-1;break;case 2:ba=250;break;case 5:ba=1073741823;break;case 4:ba=1E4;break;default:ba=5E3}ba=Ga+ba;Z={id:Cb++,callback:Fa,priorityLevel:Z,startTime:Ga,expirationTime:ba,sortIndex:-1};Ga>eb?(Z.sortIndex=Ga,v(Kb,Z),null===k(Jb)&&Z===k(Kb)&&(Da?(lb(sb),sb=-1):Da=!0,kc(bc,Ga-eb))):(Z.sortIndex=ba,v(Jb,Z),Qa||pb||(Qa=!0,Ab(vc)));return Z};ob.unstable_shouldYield=Bc;ob.unstable_wrapCallback=function(Z){var Fa=
ab;return function(){var Ga=ab;ab=Fa;try{return Z.apply(this,arguments)}finally{ab=Ga}}}};
shadow$provide[5]=function(hc,Db,Wc,ob){Wc.exports=Db(3)};
shadow$provide[6]=function(hc,Db,Wc,ob){function v(b){for(var e="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+b,n=1;n<arguments.length;n++)e+="\x26args[]\x3d"+encodeURIComponent(arguments[n]);return"Minified React error #"+b+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function k(b,e){P(b,e);P(b+"Capture",e)}function P(b,e){T[b]=e;for(b=0;b<e.length;b++)w.add(e[b])}function jb(b){if(Ea.call(Lb,b))return!0;
if(Ea.call(xb,b))return!1;if(rb.test(b))return Lb[b]=!0;xb[b]=!0;return!1}function Fb(b,e,n,K){if(null!==n&&0===n.type)return!1;switch(typeof e){case "function":case "symbol":return!0;case "boolean":if(K)return!1;if(null!==n)return!n.acceptsBooleans;b=b.toLowerCase().slice(0,5);return"data-"!==b&&"aria-"!==b;default:return!1}}function bc(b,e,n,K){if(null===e||"undefined"===typeof e||Fb(b,e,n,K))return!0;if(K)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);
case 6:return isNaN(e)||1>e}return!1}function vc(b,e,n,K,pa,Ba,ub){this.acceptsBooleans=2===e||3===e||4===e;this.attributeName=K;this.attributeNamespace=pa;this.mustUseProperty=n;this.propertyName=b;this.type=e;this.sanitizeURL=Ba;this.removeEmptyString=ub}function Bc(b){return b[1].toUpperCase()}function uc(b,e,n,K){var pa=Mb.hasOwnProperty(e)?Mb[e]:null;if(null!==pa?0!==pa.type:K||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])bc(e,n,pa,K)&&(n=null),K||null===pa?jb(e)&&(null===n?
b.removeAttribute(e):b.setAttribute(e,""+n)):pa.mustUseProperty?b[pa.propertyName]=null===n?3===pa.type?!1:"":n:(e=pa.attributeName,K=pa.attributeNamespace,null===n?b.removeAttribute(e):(pa=pa.type,n=3===pa||4===pa&&!0===n?"":""+n,K?b.setAttributeNS(K,e,n):b.setAttribute(e,n)))}function Ab(b){if(null===b||"object"!==typeof b)return null;b=Pg&&b[Pg]||b["@@iterator"];return"function"===typeof b?b:null}function kc(b){if(void 0===Je)try{throw Error();}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);
Je=e&&e[1]||""}return"\n"+Je+b}function Yb(b,e){if(!b||le)return"";le=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error();},Object.defineProperty(e.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(zd){var K=zd}Reflect.construct(b,[],e)}else{try{e.call()}catch(zd){K=zd}b.call(e.prototype)}else{try{throw Error();}catch(zd){K=zd}b()}}catch(zd){if(zd&&K&&"string"===typeof zd.stack){for(var pa=
zd.stack.split("\n"),Ba=K.stack.split("\n"),ub=pa.length-1,wc=Ba.length-1;1<=ub&&0<=wc&&pa[ub]!==Ba[wc];)wc--;for(;1<=ub&&0<=wc;ub--,wc--)if(pa[ub]!==Ba[wc]){if(1!==ub||1!==wc){do if(ub--,wc--,0>wc||pa[ub]!==Ba[wc]){var Pc="\n"+pa[ub].replace(" at new "," at ");b.displayName&&Pc.includes("\x3canonymous\x3e")&&(Pc=Pc.replace("\x3canonymous\x3e",b.displayName));return Pc}while(1<=ub&&0<=wc)}break}}}finally{le=!1,Error.prepareStackTrace=n}return(b=b?b.displayName||b.name:"")?kc(b):""}function Ua(b){switch(b.tag){case 5:return kc(b.type);
case 16:return kc("Lazy");case 13:return kc("Suspense");case 19:return kc("SuspenseList");case 0:case 2:case 15:return b=Yb(b.type,!1),b;case 11:return b=Yb(b.type.render,!1),b;case 1:return b=Yb(b.type,!0),b;default:return""}}function tb(b){if(null==b)return null;if("function"===typeof b)return b.displayName||b.name||null;if("string"===typeof b)return b;switch(b){case sd:return"Fragment";case nc:return"Portal";case ze:return"Profiler";case xd:return"StrictMode";case Zf:return"Suspense";case ig:return"SuspenseList"}if("object"===
typeof b)switch(b.$$typeof){case We:return(b.displayName||"Context")+".Consumer";case oe:return(b._context.displayName||"Context")+".Provider";case Ef:var e=b.render;(b=b.displayName)||(b=e.displayName||e.name||"",b=""!==b?"ForwardRef("+b+")":"ForwardRef");return b;case Gh:return e=b.displayName||null,null!==e?e:tb(b.type)||"Memo";case jg:e=b._payload;b=b._init;try{return tb(b(e))}catch(n){}}return null}function Jb(b){var e=b.type;switch(b.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+
".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=e.render,b=b.displayName||b.name||"",e.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tb(e);case 8:return e===xd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function Kb(b){switch(typeof b){case "boolean":case "number":case "string":case "undefined":return b;case "object":return b;default:return""}}function Cb(b){var e=b.type;return(b=b.nodeName)&&"input"===b.toLowerCase()&&("checkbox"===e||"radio"===e)}function Ob(b){var e=Cb(b)?"checked":"value",n=Object.getOwnPropertyDescriptor(b.constructor.prototype,
e),K=""+b[e];if(!b.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var pa=n.get,Ba=n.set;Object.defineProperty(b,e,{configurable:!0,get:function(){return pa.call(this)},set:function(ub){K=""+ub;Ba.call(this,ub)}});Object.defineProperty(b,e,{enumerable:n.enumerable});return{getValue:function(){return K},setValue:function(ub){K=""+ub},stopTracking:function(){b._valueTracker=null;delete b[e]}}}}function ab(b){b._valueTracker||(b._valueTracker=Ob(b))}function pb(b){if(!b)return!1;
var e=b._valueTracker;if(!e)return!0;var n=e.getValue(),K="";b&&(K=Cb(b)?b.checked?"true":"false":b.value);b=K;return b!==n?(e.setValue(b),!0):!1}function Qa(b){b=b||("undefined"!==typeof document?document:void 0);if("undefined"===typeof b)return null;try{return b.activeElement||b.body}catch(e){return b.body}}function Da(b,e){var n=e.checked;return vg({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:b._wrapperState.initialChecked})}function Ka(b,e){var n=null==e.defaultValue?
"":e.defaultValue,K=null!=e.checked?e.checked:e.defaultChecked;n=Kb(null!=e.value?e.value:n);b._wrapperState={initialChecked:K,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function lb(b,e){e=e.checked;null!=e&&uc(b,"checked",e,!1)}function mb(b,e){lb(b,e);var n=Kb(e.value),K=e.type;if(null!=n)if("number"===K){if(0===n&&""===b.value||b.value!=n)b.value=""+n}else b.value!==""+n&&(b.value=""+n);else if("submit"===K||"reset"===K){b.removeAttribute("value");
return}e.hasOwnProperty("value")?wb(b,e.type,n):e.hasOwnProperty("defaultValue")&&wb(b,e.type,Kb(e.defaultValue));null==e.checked&&null!=e.defaultChecked&&(b.defaultChecked=!!e.defaultChecked)}function Pa(b,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var K=e.type;if(!("submit"!==K&&"reset"!==K||void 0!==e.value&&null!==e.value))return;e=""+b._wrapperState.initialValue;n||e===b.value||(b.value=e);b.defaultValue=e}n=b.name;""!==n&&(b.name="");b.defaultChecked=!!b._wrapperState.initialChecked;
""!==n&&(b.name=n)}function wb(b,e,n){if("number"!==e||Qa(b.ownerDocument)!==b)null==n?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+n&&(b.defaultValue=""+n)}function sb(b,e,n,K){b=b.options;if(e){e={};for(var pa=0;pa<n.length;pa++)e["$"+n[pa]]=!0;for(n=0;n<b.length;n++)pa=e.hasOwnProperty("$"+b[n].value),b[n].selected!==pa&&(b[n].selected=pa),pa&&K&&(b[n].defaultSelected=!0)}else{n=""+Kb(n);e=null;for(pa=0;pa<b.length;pa++){if(b[pa].value===n){b[pa].selected=!0;K&&(b[pa].defaultSelected=
!0);return}null!==e||b[pa].disabled||(e=b[pa])}null!==e&&(e.selected=!0)}}function Pb(b,e){if(null!=e.dangerouslySetInnerHTML)throw Error(v(91));return vg({},e,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function Vb(b,e){var n=e.value;if(null==n){n=e.children;e=e.defaultValue;if(null!=n){if(null!=e)throw Error(v(92));if(Oe(n)){if(1<n.length)throw Error(v(93));n=n[0]}e=n}null==e&&(e="");n=e}b._wrapperState={initialValue:Kb(n)}}function nb(b,e){var n=Kb(e.value),K=Kb(e.defaultValue);
null!=n&&(n=""+n,n!==b.value&&(b.value=n),null==e.defaultValue&&b.defaultValue!==n&&(b.defaultValue=n));null!=K&&(b.defaultValue=""+K)}function qa(b){var e=b.textContent;e===b._wrapperState.initialValue&&""!==e&&null!==e&&(b.value=e)}function Z(b){switch(b){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fa(b,e){return null==b||"http://www.w3.org/1999/xhtml"===b?Z(e):"http://www.w3.org/2000/svg"===
b&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":b}function Ga(b,e){if(e){var n=b.firstChild;if(n&&n===b.lastChild&&3===n.nodeType){n.nodeValue=e;return}}b.textContent=e}function eb(b,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Ig.hasOwnProperty(b)&&Ig[b]?(""+e).trim():e+"px"}function ba(b,e){b=b.style;for(var n in e)if(e.hasOwnProperty(n)){var K=0===n.indexOf("--"),pa=eb(n,e[n],K);"float"===n&&(n="cssFloat");K?b.setProperty(n,pa):b[n]=pa}}function oa(b,
e){if(e){if(ng[b]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(v(137,b));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(v(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(v(61));}if(null!=e.style&&"object"!==typeof e.style)throw Error(v(62));}}function q(b,e){if(-1===b.indexOf("-"))return"string"===typeof e.is;switch(b){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function M(b){b=b.target||b.srcElement||window;b.correspondingUseElement&&(b=b.correspondingUseElement);return 3===b.nodeType?b.parentNode:b}function Q(b){if(b=cc(b)){if("function"!==typeof fi)throw Error(v(280));var e=b.stateNode;e&&(e=Ac(e),fi(b.stateNode,b.type,e))}}function g(b){ej?qj?qj.push(b):qj=[b]:ej=b}function u(){if(ej){var b=ej,e=qj;qj=ej=null;Q(b);if(e)for(b=0;b<e.length;b++)Q(e[b])}}function m(b,e){return b(e)}function C(){}function B(b,e,n){if(Gj)return b(e,n);Gj=
!0;try{return m(b,e,n)}finally{if(Gj=!1,null!==ej||null!==qj)C(),u()}}function A(b,e){var n=b.stateNode;if(null===n)return null;var K=Ac(n);if(null===K)return null;n=K[e];a:switch(e){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(K=!K.disabled)||(b=b.type,K=!("button"===b||"input"===b||"select"===b||"textarea"===
b));b=!K;break a;default:b=!1}if(b)return null;if(n&&"function"!==typeof n)throw Error(v(231,e,typeof n));return n}function D(b,e,n,K,pa,Ba,ub,wc,Pc){var zd=Array.prototype.slice.call(arguments,3);try{e.apply(n,zd)}catch(ge){this.onError(ge)}}function I(b,e,n,K,pa,Ba,ub,wc,Pc){Hj=!1;Ij=null;D.apply(Fk,arguments)}function V(b,e,n,K,pa,Ba,ub,wc,Pc){I.apply(this,arguments);if(Hj){if(Hj){var zd=Ij;Hj=!1;Ij=null}else throw Error(v(198));rj||(rj=!0,Gk=zd)}}function Aa(b){var e=b,n=b;if(b.alternate)for(;e.return;)e=
e.return;else{b=e;do e=b,0!==(e.flags&4098)&&(n=e.return),b=e.return;while(b)}return 3===e.tag?n:null}function Y(b){if(13===b.tag){var e=b.memoizedState;null===e&&(b=b.alternate,null!==b&&(e=b.memoizedState));if(null!==e)return e.dehydrated}return null}function t(b){if(Aa(b)!==b)throw Error(v(188));}function L(b){var e=b.alternate;if(!e){e=Aa(b);if(null===e)throw Error(v(188));return e!==b?null:b}for(var n=b,K=e;;){var pa=n.return;if(null===pa)break;var Ba=pa.alternate;if(null===Ba){K=pa.return;if(null!==
K){n=K;continue}break}if(pa.child===Ba.child){for(Ba=pa.child;Ba;){if(Ba===n)return t(pa),b;if(Ba===K)return t(pa),e;Ba=Ba.sibling}throw Error(v(188));}if(n.return!==K.return)n=pa,K=Ba;else{for(var ub=!1,wc=pa.child;wc;){if(wc===n){ub=!0;n=pa;K=Ba;break}if(wc===K){ub=!0;K=pa;n=Ba;break}wc=wc.sibling}if(!ub){for(wc=Ba.child;wc;){if(wc===n){ub=!0;n=Ba;K=pa;break}if(wc===K){ub=!0;K=Ba;n=pa;break}wc=wc.sibling}if(!ub)throw Error(v(189));}}if(n.alternate!==K)throw Error(v(190));}if(3!==n.tag)throw Error(v(188));
return n.stateNode.current===n?b:e}function va(b){b=L(b);return null!==b?La(b):null}function La(b){if(5===b.tag||6===b.tag)return b;for(b=b.child;null!==b;){var e=La(b);if(null!==e)return e;b=b.sibling}return null}function Wa(b){if(si&&"function"===typeof si.onCommitFiberRoot)try{si.onCommitFiberRoot(ik,b,void 0,128===(b.current.flags&128))}catch(e){}}function $a(b){b>>>=0;return 0===b?32:31-(Hl(b)/gl|0)|0}function X(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Ca(b,e){var n=b.pendingLanes;if(0===
n)return 0;var K=0,pa=b.suspendedLanes,Ba=b.pingedLanes,ub=n&268435455;if(0!==ub){var wc=ub&~pa;0!==wc?K=X(wc):(Ba&=ub,0!==Ba&&(K=X(Ba)))}else ub=n&~pa,0!==ub?K=X(ub):0!==Ba&&(K=X(Ba));if(0===K)return 0;if(0!==e&&e!==K&&0===(e&pa)&&(pa=K&-K,Ba=e&-e,pa>=Ba||16===pa&&0!==(Ba&4194240)))return e;0!==(K&4)&&(K|=n&16);e=b.entangledLanes;if(0!==e)for(b=b.entanglements,e&=K;0<e;)n=31-gi(e),pa=1<<n,K|=b[n],e&=~pa;return K}function Xa(b,e){switch(b){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ib(b,e){for(var n=b.suspendedLanes,K=b.pingedLanes,pa=b.expirationTimes,Ba=b.pendingLanes;0<Ba;){var ub=31-gi(Ba),wc=1<<ub,Pc=pa[ub];if(-1===Pc){if(0===(wc&n)||0!==(wc&K))pa[ub]=Xa(wc,e)}else Pc<=e&&(b.expiredLanes|=wc);Ba&=~wc}}function yc(b){b=b.pendingLanes&-1073741825;return 0!==b?b:b&1073741824?1073741824:0}function qc(){var b=
Jj;Jj<<=1;0===(Jj&4194240)&&(Jj=64);return b}function xc(b){for(var e=[],n=0;31>n;n++)e.push(b);return e}function dd(b,e,n){b.pendingLanes|=e;536870912!==e&&(b.suspendedLanes=0,b.pingedLanes=0);b=b.eventTimes;e=31-gi(e);b[e]=n}function Zb(b,e){var n=b.pendingLanes&~e;b.pendingLanes=e;b.suspendedLanes=0;b.pingedLanes=0;b.expiredLanes&=e;b.mutableReadLanes&=e;b.entangledLanes&=e;e=b.entanglements;var K=b.eventTimes;for(b=b.expirationTimes;0<n;){var pa=31-gi(n),Ba=1<<pa;e[pa]=0;K[pa]=-1;b[pa]=-1;n&=
~Ba}}function Rc(b,e){var n=b.entangledLanes|=e;for(b=b.entanglements;n;){var K=31-gi(n),pa=1<<K;pa&e|b[K]&e&&(b[K]|=e);n&=~pa}}function Pd(b){b&=-b;return 1<b?4<b?0!==(b&268435455)?16:536870912:4:1}function Na(b,e){switch(b){case "focusin":case "focusout":Ti=null;break;case "dragenter":case "dragleave":Ui=null;break;case "mouseover":case "mouseout":Vi=null;break;case "pointerover":case "pointerout":Kj.delete(e.pointerId);break;case "gotpointercapture":case "lostpointercapture":sj.delete(e.pointerId)}}
function Ub(b,e,n,K,pa,Ba){if(null===b||b.nativeEvent!==Ba)return b={blockedOn:e,domEventName:n,eventSystemFlags:K,nativeEvent:Ba,targetContainers:[pa]},null!==e&&(e=cc(e),null!==e&&Hk(e)),b;b.eventSystemFlags|=K;e=b.targetContainers;null!==pa&&-1===e.indexOf(pa)&&e.push(pa);return b}function qb(b,e,n,K,pa){switch(e){case "focusin":return Ti=Ub(Ti,b,e,n,K,pa),!0;case "dragenter":return Ui=Ub(Ui,b,e,n,K,pa),!0;case "mouseover":return Vi=Ub(Vi,b,e,n,K,pa),!0;case "pointerover":var Ba=pa.pointerId;Kj.set(Ba,
Ub(Kj.get(Ba)||null,b,e,n,K,pa));return!0;case "gotpointercapture":return Ba=pa.pointerId,sj.set(Ba,Ub(sj.get(Ba)||null,b,e,n,K,pa)),!0}return!1}function Sb(b){var e=Sa(b.target);if(null!==e){var n=Aa(e);if(null!==n)if(e=n.tag,13===e){if(e=Y(n),null!==e){b.blockedOn=e;Gi(b.priority,function(){Il(n)});return}}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated){b.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}b.blockedOn=null}function ic(b){if(null!==b.blockedOn)return!1;for(var e=
b.targetContainers;0<e.length;){var n=gb(b.domEventName,b.eventSystemFlags,e[0],b.nativeEvent);if(null===n){n=b.nativeEvent;var K=new n.constructor(n.type,n);Oh=K;n.target.dispatchEvent(K);Oh=null}else return e=cc(n),null!==e&&Hk(e),b.blockedOn=n,!1;e.shift()}return!0}function dc(b,e,n){ic(b)&&n.delete(e)}function Ic(){Ik=!1;null!==Ti&&ic(Ti)&&(Ti=null);null!==Ui&&ic(Ui)&&(Ui=null);null!==Vi&&ic(Vi)&&(Vi=null);Kj.forEach(dc);sj.forEach(dc)}function zc(b,e){b.blockedOn===e&&(b.blockedOn=null,Ik||(Ik=
!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Ic)))}function Yc(b){function e(pa){return zc(pa,b)}if(0<jk.length){zc(jk[0],b);for(var n=1;n<jk.length;n++){var K=jk[n];K.blockedOn===b&&(K.blockedOn=null)}}null!==Ti&&zc(Ti,b);null!==Ui&&zc(Ui,b);null!==Vi&&zc(Vi,b);Kj.forEach(e);sj.forEach(e);for(n=0;n<rg.length;n++)K=rg[n],K.blockedOn===b&&(K.blockedOn=null);for(;0<rg.length&&(n=rg[0],null===n.blockedOn);)Sb(n),null===n.blockedOn&&rg.shift()}function Md(b,e,n,K){var pa=og,Ba=Wi.transition;
Wi.transition=null;try{og=1,Ha(b,e,n,K)}finally{og=pa,Wi.transition=Ba}}function ud(b,e,n,K){var pa=og,Ba=Wi.transition;Wi.transition=null;try{og=4,Ha(b,e,n,K)}finally{og=pa,Wi.transition=Ba}}function Ha(b,e,n,K){if(Hi){var pa=gb(b,e,n,K);if(null===pa)cf(b,e,K,Lj,n),Na(b,K);else if(qb(pa,b,e,n,K))K.stopPropagation();else if(Na(b,K),e&4&&-1<ni.indexOf(b)){for(;null!==pa;){var Ba=cc(pa);null!==Ba&&hl(Ba);Ba=gb(b,e,n,K);null===Ba&&cf(b,e,K,Lj,n);if(Ba===pa)break;pa=Ba}null!==pa&&K.stopPropagation()}else cf(b,
e,K,null,n)}}function gb(b,e,n,K){Lj=null;b=M(K);b=Sa(b);if(null!==b)if(e=Aa(b),null===e)b=null;else if(n=e.tag,13===n){b=Y(e);if(null!==b)return b;b=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;b=null}else e!==b&&(b=null);Lj=b;return null}function vb(b){switch(b){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(Jl()){case Jk:return 1;case Kk:return 4;case Mj:case Kl:return 16;case Lk:return 536870912;default:return 16}default:return 16}}function ta(){if(Nj)return Nj;
var b,e=Mk,n=e.length,K,pa="value"in Xi?Xi.value:Xi.textContent,Ba=pa.length;for(b=0;b<n&&e[b]===pa[b];b++);var ub=n-b;for(K=1;K<=ub&&e[n-K]===pa[Ba-K];K++);return Nj=pa.slice(b,1<K?1-K:void 0)}function F(b){var e=b.keyCode;"charCode"in b?(b=b.charCode,0===b&&13===e&&(b=13)):b=e;10===b&&(b=13);return 32<=b||13===b?b:0}function ya(){return!0}function Oa(){return!1}function Za(b){function e(n,K,pa,Ba,ub){this._reactName=n;this._targetInst=pa;this.type=K;this.nativeEvent=Ba;this.target=ub;this.currentTarget=
null;for(var wc in b)b.hasOwnProperty(wc)&&(n=b[wc],this[wc]=n?n(Ba):Ba[wc]);this.isDefaultPrevented=(null!=Ba.defaultPrevented?Ba.defaultPrevented:!1===Ba.returnValue)?ya:Oa;this.isPropagationStopped=Oa;return this}vg(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():"unknown"!==typeof n.returnValue&&(n.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():
"unknown"!==typeof n.cancelBubble&&(n.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya});return e}function kb(b){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(b):(b=Ll[b])?!!e[b]:!1}function Eb(){return kb}function oc(b,e){switch(b){case "keyup":return-1!==Ag.indexOf(e.keyCode);case "keydown":return 229!==e.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function ec(b){b=b.detail;return"object"===typeof b&&
"data"in b?b.data:null}function jc(b,e){switch(b){case "compositionend":return ec(e);case "keypress":if(32!==e.which)return null;Oj=!0;return kk;case "textInput":return b=e.data,b===kk&&Oj?null:b;default:return null}}function Sc(b,e){if(tj)return"compositionend"===b||!ce&&oc(b,e)?(b=ta(),Nj=Mk=Xi=null,tj=!1,b):null;switch(b){case "paste":return null;case "keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;
case "compositionend":return Nk&&"ko"!==e.locale?null:e.data;default:return null}}function ed(b){var e=b&&b.nodeName&&b.nodeName.toLowerCase();return"input"===e?!!Ok[b.type]:"textarea"===e?!0:!1}function fd(b,e,n,K){g(K);e=pe(e,"onChange");0<e.length&&(n=new Pj("onChange","change",null,n,K),b.push({event:n,listeners:e}))}function Qd(b){Xd(b,0)}function Td(b){var e=Jc(b);if(pb(e))return b}function Ed(b,e){if("change"===b)return e}function Yd(){uj&&(uj.detachEvent("onpropertychange",ae),Jh=uj=null)}
function ae(b){if("value"===b.propertyName&&Td(Jh)){var e=[];fd(e,Jh,b,M(b));B(Qd,e)}}function Ud(b,e,n){"focusin"===b?(Yd(),uj=e,Jh=n,uj.attachEvent("onpropertychange",ae)):"focusout"===b&&Yd()}function Xe(b){if("selectionchange"===b||"keyup"===b||"keydown"===b)return Td(Jh)}function Wd(b,e){if("click"===b)return Td(e)}function N(b,e){if("input"===b||"change"===b)return Td(e)}function ma(b,e){return b===e&&(0!==b||1/b===1/e)||b!==b&&e!==e}function za(b,e){if(Vh(b,e))return!0;if("object"!==typeof b||
null===b||"object"!==typeof e||null===e)return!1;var n=Object.keys(b),K=Object.keys(e);if(n.length!==K.length)return!1;for(K=0;K<n.length;K++){var pa=n[K];if(!Ea.call(e,pa)||!Vh(b[pa],e[pa]))return!1}return!0}function fb(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Hb(b,e){var n=fb(b);b=0;for(var K;n;){if(3===n.nodeType){K=b+n.textContent.length;if(b<=e&&K>=e)return{node:n,offset:e-b};b=K}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=fb(n)}}function Xb(b,
e){return b&&e?b===e?!0:b&&3===b.nodeType?!1:e&&3===e.nodeType?Xb(b,e.parentNode):"contains"in b?b.contains(e):b.compareDocumentPosition?!!(b.compareDocumentPosition(e)&16):!1:!1}function Cc(){for(var b=window,e=Qa();e instanceof b.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(K){n=!1}if(n)b=e.contentWindow;else break;e=Qa(b.document)}return e}function mc(b){var e=b&&b.nodeName&&b.nodeName.toLowerCase();return e&&("input"===e&&("text"===b.type||"search"===b.type||
"tel"===b.type||"url"===b.type||"password"===b.type)||"textarea"===e||"true"===b.contentEditable)}function Hc(b){var e=Cc(),n=b.focusedElem,K=b.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xb(n.ownerDocument.documentElement,n)){if(null!==K&&mc(n))if(e=K.start,b=K.end,void 0===b&&(b=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(b,n.value.length);else if(b=(e=n.ownerDocument||document)&&e.defaultView||window,b.getSelection){b=b.getSelection();var pa=n.textContent.length,Ba=Math.min(K.start,
pa);K=void 0===K.end?Ba:Math.min(K.end,pa);!b.extend&&Ba>K&&(pa=K,K=Ba,Ba=pa);pa=Hb(n,Ba);var ub=Hb(n,K);pa&&ub&&(1!==b.rangeCount||b.anchorNode!==pa.node||b.anchorOffset!==pa.offset||b.focusNode!==ub.node||b.focusOffset!==ub.offset)&&(e=e.createRange(),e.setStart(pa.node,pa.offset),b.removeAllRanges(),Ba>K?(b.addRange(e),b.extend(ub.node,ub.offset)):(e.setEnd(ub.node,ub.offset),b.addRange(e)))}e=[];for(b=n;b=b.parentNode;)1===b.nodeType&&e.push({element:b,left:b.scrollLeft,top:b.scrollTop});"function"===
typeof n.focus&&n.focus();for(n=0;n<e.length;n++)b=e[n],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}function jd(b,e,n){var K=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Qj||null==vj||vj!==Qa(K)||(K=vj,"selectionStart"in K&&mc(K)?K={start:K.selectionStart,end:K.selectionEnd}:(K=(K.ownerDocument&&K.ownerDocument.defaultView||window).getSelection(),K={anchorNode:K.anchorNode,anchorOffset:K.anchorOffset,focusNode:K.focusNode,focusOffset:K.focusOffset}),nh&&za(nh,K)||(nh=K,K=pe(Pk,
"onSelect"),0<K.length&&(e=new Pj("onSelect","select",null,e,n),b.push({event:e,listeners:K}),e.target=vj)))}function Nc(b,e){var n={};n[b.toLowerCase()]=e.toLowerCase();n["Webkit"+b]="webkit"+e;n["Moz"+b]="moz"+e;return n}function vd(b){if(Rj[b])return Rj[b];if(!wj[b])return b;var e=wj[b],n;for(n in e)if(e.hasOwnProperty(n)&&n in oi)return Rj[b]=e[n];return b}function Gd(b,e){Qk.set(b,e);k(e,[b])}function Fd(b,e,n){var K=b.type||"unknown-event";b.currentTarget=n;V(K,e,void 0,b);b.currentTarget=null}
function Xd(b,e){e=0!==(e&4);for(var n=0;n<b.length;n++){var K=b[n],pa=K.event;K=K.listeners;a:{var Ba=void 0;if(e)for(var ub=K.length-1;0<=ub;ub--){var wc=K[ub],Pc=wc.instance,zd=wc.currentTarget;wc=wc.listener;if(Pc!==Ba&&pa.isPropagationStopped())break a;Fd(pa,wc,zd);Ba=Pc}else for(ub=0;ub<K.length;ub++){wc=K[ub];Pc=wc.instance;zd=wc.currentTarget;wc=wc.listener;if(Pc!==Ba&&pa.isPropagationStopped())break a;Fd(pa,wc,zd);Ba=Pc}}}if(rj)throw b=Gk,rj=!1,Gk=null,b;}function Nd(b,e){var n=e[lk];void 0===
n&&(n=e[lk]=new Set);var K=b+"__bubble";n.has(K)||(gf(e,b,2,!1),n.add(K))}function qe(b,e,n){var K=0;e&&(K|=4);gf(n,b,K,e)}function De(b){if(!b[mk]){b[mk]=!0;w.forEach(function(n){"selectionchange"!==n&&(Ml.has(n)||qe(n,!1,b),qe(n,!0,b))});var e=9===b.nodeType?b:b.ownerDocument;null===e||e[mk]||(e[mk]=!0,qe("selectionchange",!1,e))}}function gf(b,e,n,K){switch(vb(e)){case 1:var pa=Md;break;case 4:pa=ud;break;default:pa=Ha}n=pa.bind(null,e,n,b);pa=void 0;!ti||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==
e||(pa=!0);K?void 0!==pa?b.addEventListener(e,n,{capture:!0,passive:pa}):b.addEventListener(e,n,!0):void 0!==pa?b.addEventListener(e,n,{passive:pa}):b.addEventListener(e,n,!1)}function cf(b,e,n,K,pa){var Ba=K;if(0===(e&1)&&0===(e&2)&&null!==K)a:for(;;){if(null===K)return;var ub=K.tag;if(3===ub||4===ub){var wc=K.stateNode.containerInfo;if(wc===pa||8===wc.nodeType&&wc.parentNode===pa)break;if(4===ub)for(ub=K.return;null!==ub;){var Pc=ub.tag;if(3===Pc||4===Pc)if(Pc=ub.stateNode.containerInfo,Pc===pa||
8===Pc.nodeType&&Pc.parentNode===pa)return;ub=ub.return}for(;null!==wc;){ub=Sa(wc);if(null===ub)return;Pc=ub.tag;if(5===Pc||6===Pc){K=Ba=ub;continue a}wc=wc.parentNode}}K=K.return}B(function(){var zd=Ba,ge=M(n),je=[];a:{var de=Qk.get(b);if(void 0!==de){var He=Pj,Te=b;switch(b){case "keypress":if(0===F(n))break a;case "keydown":case "keyup":He=Rk;break;case "focusin":Te="focus";He=Sk;break;case "focusout":Te="blur";He=Sk;break;case "beforeblur":case "afterblur":He=Sk;break;case "click":if(2===n.button)break a;
case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":He=il;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":He=Nl;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":He=Ol;break;case nk:case jl:case Yi:He=Pl;break;case ui:He=Tk;break;case "scroll":He=Ql;break;case "wheel":He=vf;break;case "copy":case "cut":case "paste":He=
Rl;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":He=kl}var Ye=0!==(e&4),ch=!Ye&&"scroll"===b,md=Ye?null!==de?de+"Capture":null:de;Ye=[];for(var Tc=zd,qd;null!==Tc;){qd=Tc;var me=qd.stateNode;5===qd.tag&&null!==me&&(qd=me,null!==md&&(me=A(Tc,md),null!=me&&Ye.push(df(Tc,me,qd))));if(ch)break;Tc=Tc.return}0<Ye.length&&(de=new He(de,Te,null,n,ge),je.push({event:de,listeners:Ye}))}}if(0===
(e&7)){de="mouseover"===b||"pointerover"===b;He="mouseout"===b||"pointerout"===b;if(!de||n===Oh||!(Te=n.relatedTarget||n.fromElement)||!Sa(Te)&&!Te[Ii])if(He||de){de=ge.window===ge?ge:(de=ge.ownerDocument)?de.defaultView||de.parentWindow:window;if(He){if(Te=n.relatedTarget||n.toElement,He=zd,Te=Te?Sa(Te):null,null!==Te&&(ch=Aa(Te),Te!==ch||5!==Te.tag&&6!==Te.tag))Te=null}else He=null,Te=zd;if(He!==Te){Ye=il;me="onMouseLeave";md="onMouseEnter";Tc="mouse";if("pointerout"===b||"pointerover"===b)Ye=kl,
me="onPointerLeave",md="onPointerEnter",Tc="pointer";ch=null==He?de:Jc(He);qd=null==Te?de:Jc(Te);de=new Ye(me,Tc+"leave",He,n,ge);de.target=ch;de.relatedTarget=qd;me=null;Sa(ge)===zd&&(Ye=new Ye(md,Tc+"enter",Te,n,ge),Ye.target=qd,Ye.relatedTarget=ch,me=Ye);ch=me;if(He&&Te)b:{Ye=He;md=Te;Tc=0;for(qd=Ye;qd;qd=nf(qd))Tc++;qd=0;for(me=md;me;me=nf(me))qd++;for(;0<Tc-qd;)Ye=nf(Ye),Tc--;for(;0<qd-Tc;)md=nf(md),qd--;for(;Tc--;){if(Ye===md||null!==md&&Ye===md.alternate)break b;Ye=nf(Ye);md=nf(md)}Ye=null}else Ye=
null;null!==He&&U(je,de,He,Ye,!1);null!==Te&&null!==ch&&U(je,ch,Te,Ye,!0)}}de=zd?Jc(zd):window;He=de.nodeName&&de.nodeName.toLowerCase();if("select"===He||"input"===He&&"file"===de.type)var Fe=Ed;else if(ed(de))if(Sj)Fe=N;else{Fe=Xe;var kf=Ud}else(He=de.nodeName)&&"input"===He.toLowerCase()&&("checkbox"===de.type||"radio"===de.type)&&(Fe=Wd);Fe&&(Fe=Fe(b,zd))?fd(je,Fe,n,ge):(kf&&kf(b,de,zd),"focusout"===b&&(kf=de._wrapperState)&&kf.controlled&&"number"===de.type&&wb(de,"number",de.value));kf=zd?Jc(zd):
window;switch(b){case "focusin":if(ed(kf)||"true"===kf.contentEditable)vj=kf,Pk=zd,nh=null;break;case "focusout":nh=Pk=vj=null;break;case "mousedown":Qj=!0;break;case "contextmenu":case "mouseup":case "dragend":Qj=!1;jd(je,n,ge);break;case "selectionchange":if(Sl)break;case "keydown":case "keyup":jd(je,n,ge)}var lf;if(ce)a:{switch(b){case "compositionstart":var rf="onCompositionStart";break a;case "compositionend":rf="onCompositionEnd";break a;case "compositionupdate":rf="onCompositionUpdate";break a}rf=
void 0}else tj?oc(b,n)&&(rf="onCompositionEnd"):"keydown"===b&&229===n.keyCode&&(rf="onCompositionStart");rf&&(Nk&&"ko"!==n.locale&&(tj||"onCompositionStart"!==rf?"onCompositionEnd"===rf&&tj&&(lf=ta()):(Xi=ge,Mk="value"in Xi?Xi.value:Xi.textContent,tj=!0)),kf=pe(zd,rf),0<kf.length&&(rf=new ok(rf,b,null,n,ge),je.push({event:rf,listeners:kf}),lf?rf.data=lf:(lf=ec(n),null!==lf&&(rf.data=lf))));if(lf=Zi?jc(b,n):Sc(b,n))zd=pe(zd,"onBeforeInput"),0<zd.length&&(ge=new ok("onBeforeInput","beforeinput",null,
n,ge),je.push({event:ge,listeners:zd}),ge.data=lf)}Xd(je,e)})}function df(b,e,n){return{instance:b,listener:e,currentTarget:n}}function pe(b,e){for(var n=e+"Capture",K=[];null!==b;){var pa=b,Ba=pa.stateNode;5===pa.tag&&null!==Ba&&(pa=Ba,Ba=A(b,n),null!=Ba&&K.unshift(df(b,Ba,pa)),Ba=A(b,e),null!=Ba&&K.push(df(b,Ba,pa)));b=b.return}return K}function nf(b){if(null===b)return null;do b=b.return;while(b&&5!==b.tag);return b?b:null}function U(b,e,n,K,pa){for(var Ba=e._reactName,ub=[];null!==n&&n!==K;){var wc=
n,Pc=wc.alternate,zd=wc.stateNode;if(null!==Pc&&Pc===K)break;5===wc.tag&&null!==zd&&(wc=zd,pa?(Pc=A(n,Ba),null!=Pc&&ub.unshift(df(n,Pc,wc))):pa||(Pc=A(n,Ba),null!=Pc&&ub.push(df(n,Pc,wc))));n=n.return}0!==ub.length&&b.push({event:e,listeners:ub})}function ua(b){return("string"===typeof b?b:""+b).replace(Tl,"\n").replace(Ul,"")}function cb(b,e,n){e=ua(e);if(ua(b)!==e&&n)throw Error(v(425));}function yb(){}function gc(b,e){return"textarea"===b||"noscript"===b||"string"===typeof e.children||"number"===
typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function Ec(b){setTimeout(function(){throw b;})}function $b(b,e){var n=e,K=0;do{var pa=n.nextSibling;b.removeChild(n);if(pa&&8===pa.nodeType)if(n=pa.data,"/$"===n){if(0===K){b.removeChild(pa);Yc(e);return}K--}else"$"!==n&&"$?"!==n&&"$!"!==n||K++;n=pa}while(n);Yc(e)}function J(b){for(;null!=b;b=b.nextSibling){var e=b.nodeType;if(1===e||3===e)break;if(8===e){e=b.data;
if("$"===e||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return b}function fa(b){b=b.previousSibling;for(var e=0;b;){if(8===b.nodeType){var n=b.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return b;e--}else"/$"===n&&e++}b=b.previousSibling}return null}function Sa(b){var e=b[vi];if(e)return e;for(var n=b.parentNode;n;){if(e=n[Ii]||n[vi]){n=e.alternate;if(null!==e.child||null!==n&&null!==n.child)for(b=fa(b);null!==b;){if(n=b[vi])return n;b=fa(b)}return e}b=n;n=b.parentNode}return null}function cc(b){b=
b[vi]||b[Ii];return!b||5!==b.tag&&6!==b.tag&&13!==b.tag&&3!==b.tag?null:b}function Jc(b){if(5===b.tag||6===b.tag)return b.stateNode;throw Error(v(33));}function Ac(b){return b[xj]||null}function $c(b){return{current:b}}function pd(b){0>$i||(b.current=Kh[$i],Kh[$i]=null,$i--)}function ee(b,e){$i++;Kh[$i]=b.current;b.current=e}function Ra(b,e){var n=b.type.contextTypes;if(!n)return Ji;var K=b.stateNode;if(K&&K.__reactInternalMemoizedUnmaskedChildContext===e)return K.__reactInternalMemoizedMaskedChildContext;
var pa={},Ba;for(Ba in n)pa[Ba]=e[Ba];K&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=e,b.__reactInternalMemoizedMaskedChildContext=pa);return pa}function db(b){b=b.childContextTypes;return null!==b&&void 0!==b}function pc(){pd(Jg);pd(wh)}function wd(b,e,n){if(wh.current!==Ji)throw Error(v(168));ee(wh,e);ee(Jg,n)}function Mc(b,e,n){var K=b.stateNode;e=e.childContextTypes;if("function"!==typeof K.getChildContext)return n;K=K.getChildContext();for(var pa in K)if(!(pa in e))throw Error(v(108,
Jb(b)||"Unknown",pa));return vg({},n,K)}function Uc(b){b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Ji;$h=wh.current;ee(wh,b);ee(Jg,Jg.current);return!0}function Qc(b,e,n){var K=b.stateNode;if(!K)throw Error(v(169));n?(b=Mc(b,e,$h),K.__reactInternalMemoizedMergedChildContext=b,pd(Jg),pd(wh),ee(wh,b)):pd(Jg);ee(Jg,n)}function td(b){null===Ki?Ki=[b]:Ki.push(b)}function kd(b){pk=!0;td(b)}function Ld(){if(!Li&&null!==Ki){Li=!0;var b=0,e=og;try{var n=Ki;for(og=1;b<n.length;b++){var K=
n[b];do K=K(!0);while(null!==K)}Ki=null;pk=!1}catch(pa){throw null!==Ki&&(Ki=Ki.slice(b+1)),Tj(Jk,Ld),pa;}finally{og=e,Li=!1}}return null}function Cd(b,e){yj[zj++]=Uj;yj[zj++]=xh;xh=b;Uj=e}function be(b,e,n){Ph[Qh++]=hi;Ph[Qh++]=ii;Ph[Qh++]=fj;fj=b;var K=hi;b=ii;var pa=32-gi(K)-1;K&=~(1<<pa);n+=1;var Ba=32-gi(e)+pa;if(30<Ba){var ub=pa-pa%5;Ba=(K&(1<<ub)-1).toString(32);K>>=ub;pa-=ub;hi=1<<32-gi(e)+pa|n<<pa|K;ii=Ba+b}else hi=1<<Ba|n<<pa|K,ii=b}function ve(b){null!==b.return&&(Cd(b,1),be(b,1,0))}function Me(b){for(;b===
xh;)xh=yj[--zj],yj[zj]=null,Uj=yj[--zj],yj[zj]=null;for(;b===fj;)fj=Ph[--Qh],Ph[Qh]=null,ii=Ph[--Qh],Ph[Qh]=null,hi=Ph[--Qh],Ph[Qh]=null}function $e(b,e){var n=pg(5,null,null,0);n.elementType="DELETED";n.stateNode=e;n.return=b;e=b.deletions;null===e?(b.deletions=[n],b.flags|=16):e.push(n)}function sf(b,e){switch(b.tag){case 5:var n=b.type;e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e;return null!==e?(b.stateNode=e,ai=b,Lh=J(e.firstChild),!0):!1;case 6:return e=""===b.pendingProps||
3!==e.nodeType?null:e,null!==e?(b.stateNode=e,ai=b,Lh=null,!0):!1;case 13:return e=8!==e.nodeType?null:e,null!==e?(n=null!==fj?{id:hi,overflow:ii}:null,b.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pg(18,null,null,0),n.stateNode=e,n.return=b,b.child=n,ai=b,Lh=null,!0):!1;default:return!1}}function nd(b){return 0!==(b.mode&1)&&0===(b.flags&128)}function Fc(b){if(Kg){var e=Lh;if(e){var n=e;if(!sf(b,e)){if(nd(b))throw Error(v(418));e=J(n.nextSibling);var K=ai;e&&sf(b,e)?$e(K,n):
(b.flags=b.flags&-4097|2,Kg=!1,ai=b)}}else{if(nd(b))throw Error(v(418));b.flags=b.flags&-4097|2;Kg=!1;ai=b}}}function bd(b){for(b=b.return;null!==b&&5!==b.tag&&3!==b.tag&&13!==b.tag;)b=b.return;ai=b}function Gc(b){if(b!==ai)return!1;if(!Kg)return bd(b),Kg=!0,!1;var e;(e=3!==b.tag)&&!(e=5!==b.tag)&&(e=b.type,e="head"!==e&&"body"!==e&&!gc(b.type,b.memoizedProps));if(e&&(e=Lh)){if(nd(b))throw Jd(),Error(v(418));for(;e;)$e(b,e),e=J(e.nextSibling)}bd(b);if(13===b.tag){b=b.memoizedState;b=null!==b?b.dehydrated:
null;if(!b)throw Error(v(317));a:{b=b.nextSibling;for(e=0;b;){if(8===b.nodeType){var n=b.data;if("/$"===n){if(0===e){Lh=J(b.nextSibling);break a}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}b=b.nextSibling}Lh=null}}else Lh=ai?J(b.stateNode.nextSibling):null;return!0}function Jd(){for(var b=Lh;b;)b=J(b.nextSibling)}function Zd(){Lh=ai=null;Kg=!1}function $d(b){null===bi?bi=[b]:bi.push(b)}function ke(b,e){if(b&&b.defaultProps){e=vg({},e);b=b.defaultProps;for(var n in b)void 0===e[n]&&(e[n]=b[n])}return e}
function O(b){var e=Aj.current;pd(Aj);b._currentValue=e}function da(b,e,n){for(;null!==b;){var K=b.alternate;(b.childLanes&e)!==e?(b.childLanes|=e,null!==K&&(K.childLanes|=e)):null!==K&&(K.childLanes&e)!==e&&(K.childLanes|=e);if(b===n)break;b=b.return}}function H(b,e){aj=b;Vj=Mi=null;b=b.dependencies;null!==b&&null!==b.firstContext&&(0!==(b.lanes&e)&&(dh=!0),b.firstContext=null)}function ka(b){var e=b._currentValue;if(Vj!==b)if(b={context:b,memoizedValue:e,next:null},null===Mi){if(null===aj)throw Error(v(308));
Mi=b;aj.dependencies={lanes:0,firstContext:b}}else Mi=Mi.next=b;return e}function la(b){null===gj?gj=[b]:gj.push(b)}function Ja(b,e,n,K){var pa=e.interleaved;null===pa?(n.next=n,la(e)):(n.next=pa.next,pa.next=n);e.interleaved=n;return hb(b,K)}function hb(b,e){b.lanes|=e;var n=b.alternate;null!==n&&(n.lanes|=e);n=b;for(b=b.return;null!==b;)b.childLanes|=e,n=b.alternate,null!==n&&(n.childLanes|=e),n=b,b=b.return;return 3===n.tag?n.stateNode:null}function fc(b){b.updateQueue={baseState:b.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rc(b,e){b=b.updateQueue;e.updateQueue===b&&(e.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function tc(b,e){return{eventTime:b,lane:e,tag:0,payload:null,callback:null,next:null}}function Wb(b,e,n){var K=b.updateQueue;if(null===K)return null;K=K.shared;if(0!==($f&2)){var pa=K.pending;null===pa?e.next=
e:(e.next=pa.next,pa.next=e);K.pending=e;return hb(b,n)}pa=K.interleaved;null===pa?(e.next=e,la(K)):(e.next=pa.next,pa.next=e);K.interleaved=e;return hb(b,n)}function Dc(b,e,n){e=e.updateQueue;if(null!==e&&(e=e.shared,0!==(n&4194240))){var K=e.lanes;K&=b.pendingLanes;n|=K;e.lanes=n;Rc(b,n)}}function yd(b,e){var n=b.updateQueue,K=b.alternate;if(null!==K&&(K=K.updateQueue,n===K)){var pa=null,Ba=null;n=n.firstBaseUpdate;if(null!==n){do{var ub={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,
callback:n.callback,next:null};null===Ba?pa=Ba=ub:Ba=Ba.next=ub;n=n.next}while(null!==n);null===Ba?pa=Ba=e:Ba=Ba.next=e}else pa=Ba=e;n={baseState:K.baseState,firstBaseUpdate:pa,lastBaseUpdate:Ba,shared:K.shared,effects:K.effects};b.updateQueue=n}else b=n.lastBaseUpdate,null===b?n.firstBaseUpdate=e:b.next=e,n.lastBaseUpdate=e}function Zc(b,e,n,K){var pa=b.updateQueue;Ni=!1;var Ba=pa.firstBaseUpdate,ub=pa.lastBaseUpdate,wc=pa.shared.pending;if(null!==wc){pa.shared.pending=null;var Pc=wc,zd=Pc.next;
Pc.next=null;null===ub?Ba=zd:ub.next=zd;var ge=b.alternate;null!==ge&&(ge=ge.updateQueue,wc=ge.lastBaseUpdate,wc!==Pc&&(null===wc?ge.firstBaseUpdate=zd:wc.next=zd,ge.lastBaseUpdate=Pc))}if(null!==Ba){var je=pa.baseState;ub=0;ge=zd=Pc=null;wc=Ba;do{var de=wc.lane,He=wc.eventTime;if((K&de)===de){null!==ge&&(ge=ge.next={eventTime:He,lane:0,tag:wc.tag,payload:wc.payload,callback:wc.callback,next:null});a:{var Te=b,Ye=wc;de=e;He=n;switch(Ye.tag){case 1:Te=Ye.payload;if("function"===typeof Te){je=Te.call(He,
je,de);break a}je=Te;break a;case 3:Te.flags=Te.flags&-65537|128;case 0:Te=Ye.payload;de="function"===typeof Te?Te.call(He,je,de):Te;if(null===de||void 0===de)break a;je=vg({},je,de);break a;case 2:Ni=!0}}null!==wc.callback&&0!==wc.lane&&(b.flags|=64,de=pa.effects,null===de?pa.effects=[wc]:de.push(wc))}else He={eventTime:He,lane:de,tag:wc.tag,payload:wc.payload,callback:wc.callback,next:null},null===ge?(zd=ge=He,Pc=je):ge=ge.next=He,ub|=de;wc=wc.next;if(null===wc)if(wc=pa.shared.pending,null===wc)break;
else de=wc,wc=de.next,de.next=null,pa.lastBaseUpdate=de,pa.shared.pending=null}while(1);null===ge&&(Pc=je);pa.baseState=Pc;pa.firstBaseUpdate=zd;pa.lastBaseUpdate=ge;e=pa.shared.interleaved;if(null!==e){pa=e;do ub|=pa.lane,pa=pa.next;while(pa!==e)}else null===Ba&&(pa.shared.lanes=0);Rh|=ub;b.lanes=ub;b.memoizedState=je}}function hd(b,e,n){b=e.effects;e.effects=null;if(null!==b)for(e=0;e<b.length;e++){var K=b[e],pa=K.callback;if(null!==pa){K.callback=null;K=n;if("function"!==typeof pa)throw Error(v(191,
pa));pa.call(K)}}}function Ad(b,e,n,K){e=b.memoizedState;n=n(K,e);n=null===n||void 0===n?e:vg({},e,n);b.memoizedState=n;0===b.lanes&&(b.updateQueue.baseState=n)}function Hd(b,e,n,K,pa,Ba,ub){b=b.stateNode;return"function"===typeof b.shouldComponentUpdate?b.shouldComponentUpdate(K,Ba,ub):e.prototype&&e.prototype.isPureReactComponent?!za(n,K)||!za(pa,Ba):!0}function Oc(b,e,n){var K=!1,pa=Ji,Ba=e.contextType;"object"===typeof Ba&&null!==Ba?Ba=ka(Ba):(pa=db(e)?$h:wh.current,K=e.contextTypes,Ba=(K=null!==
K&&void 0!==K)?Ra(b,pa):Ji);e=new e(n,Ba);b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;e.updater=qk;b.stateNode=e;e._reactInternals=b;K&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=pa,b.__reactInternalMemoizedMaskedChildContext=Ba);return e}function Ee(b,e,n,K){b=e.state;"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,K);"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,K);e.state!==b&&qk.enqueueReplaceState(e,
e.state,null)}function Ge(b,e,n,K){var pa=b.stateNode;pa.props=n;pa.state=b.memoizedState;pa.refs=Uk;fc(b);var Ba=e.contextType;"object"===typeof Ba&&null!==Ba?pa.context=ka(Ba):(Ba=db(e)?$h:wh.current,pa.context=Ra(b,Ba));pa.state=b.memoizedState;Ba=e.getDerivedStateFromProps;"function"===typeof Ba&&(Ad(b,e,Ba,n),pa.state=b.memoizedState);"function"===typeof e.getDerivedStateFromProps||"function"===typeof pa.getSnapshotBeforeUpdate||"function"!==typeof pa.UNSAFE_componentWillMount&&"function"!==
typeof pa.componentWillMount||(e=pa.state,"function"===typeof pa.componentWillMount&&pa.componentWillMount(),"function"===typeof pa.UNSAFE_componentWillMount&&pa.UNSAFE_componentWillMount(),e!==pa.state&&qk.enqueueReplaceState(pa,pa.state,null),Zc(b,n,pa,K),pa.state=b.memoizedState);"function"===typeof pa.componentDidMount&&(b.flags|=4194308)}function Ae(b,e,n){b=n.ref;if(null!==b&&"function"!==typeof b&&"object"!==typeof b){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(v(309));var K=n.stateNode}if(!K)throw Error(v(147,
b));var pa=K,Ba=""+b;if(null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===Ba)return e.ref;e=function(ub){var wc=pa.refs;wc===Uk&&(wc=pa.refs={});null===ub?delete wc[Ba]:wc[Ba]=ub};e._stringRef=Ba;return e}if("string"!==typeof b)throw Error(v(284));if(!n._owner)throw Error(v(290,b));}return b}function Be(b,e){b=Object.prototype.toString.call(e);throw Error(v(31,"[object Object]"===b?"object with keys {"+Object.keys(e).join(", ")+"}":b));}function Id(b){var e=b._init;return e(b._payload)}
function he(b){function e(md,Tc){if(b){var qd=md.deletions;null===qd?(md.deletions=[Tc],md.flags|=16):qd.push(Tc)}}function n(md,Tc){if(!b)return null;for(;null!==Tc;)e(md,Tc),Tc=Tc.sibling;return null}function K(md,Tc){for(md=new Map;null!==Tc;)null!==Tc.key?md.set(Tc.key,Tc):md.set(Tc.index,Tc),Tc=Tc.sibling;return md}function pa(md,Tc){md=Sh(md,Tc);md.index=0;md.sibling=null;return md}function Ba(md,Tc,qd){md.index=qd;if(!b)return md.flags|=1048576,Tc;qd=md.alternate;if(null!==qd)return qd=qd.index,
qd<Tc?(md.flags|=2,Tc):qd;md.flags|=2;return Tc}function ub(md){b&&null===md.alternate&&(md.flags|=2);return md}function wc(md,Tc,qd,me){if(null===Tc||6!==Tc.tag)return Tc=Oi(qd,md.mode,me),Tc.return=md,Tc;Tc=pa(Tc,qd);Tc.return=md;return Tc}function Pc(md,Tc,qd,me){var Fe=qd.type;if(Fe===sd)return ge(md,Tc,qd.props.children,me,qd.key);if(null!==Tc&&(Tc.elementType===Fe||"object"===typeof Fe&&null!==Fe&&Fe.$$typeof===jg&&Id(Fe)===Tc.type))return me=pa(Tc,qd.props),me.ref=Ae(md,Tc,qd),me.return=md,
me;me=Pi(qd.type,qd.key,qd.props,null,md.mode,me);me.ref=Ae(md,Tc,qd);me.return=md;return me}function zd(md,Tc,qd,me){if(null===Tc||4!==Tc.tag||Tc.stateNode.containerInfo!==qd.containerInfo||Tc.stateNode.implementation!==qd.implementation)return Tc=Cg(qd,md.mode,me),Tc.return=md,Tc;Tc=pa(Tc,qd.children||[]);Tc.return=md;return Tc}function ge(md,Tc,qd,me,Fe){if(null===Tc||7!==Tc.tag)return Tc=ci(qd,md.mode,me,Fe),Tc.return=md,Tc;Tc=pa(Tc,qd);Tc.return=md;return Tc}function je(md,Tc,qd){if("string"===
typeof Tc&&""!==Tc||"number"===typeof Tc)return Tc=Oi(""+Tc,md.mode,qd),Tc.return=md,Tc;if("object"===typeof Tc&&null!==Tc){switch(Tc.$$typeof){case gd:return qd=Pi(Tc.type,Tc.key,Tc.props,null,md.mode,qd),qd.ref=Ae(md,null,Tc),qd.return=md,qd;case nc:return Tc=Cg(Tc,md.mode,qd),Tc.return=md,Tc;case jg:var me=Tc._init;return je(md,me(Tc._payload),qd)}if(Oe(Tc)||Ab(Tc))return Tc=ci(Tc,md.mode,qd,null),Tc.return=md,Tc;Be(md,Tc)}return null}function de(md,Tc,qd,me){var Fe=null!==Tc?Tc.key:null;if("string"===
typeof qd&&""!==qd||"number"===typeof qd)return null!==Fe?null:wc(md,Tc,""+qd,me);if("object"===typeof qd&&null!==qd){switch(qd.$$typeof){case gd:return qd.key===Fe?Pc(md,Tc,qd,me):null;case nc:return qd.key===Fe?zd(md,Tc,qd,me):null;case jg:return Fe=qd._init,de(md,Tc,Fe(qd._payload),me)}if(Oe(qd)||Ab(qd))return null!==Fe?null:ge(md,Tc,qd,me,null);Be(md,qd)}return null}function He(md,Tc,qd,me,Fe){if("string"===typeof me&&""!==me||"number"===typeof me)return md=md.get(qd)||null,wc(Tc,md,""+me,Fe);
if("object"===typeof me&&null!==me){switch(me.$$typeof){case gd:return md=md.get(null===me.key?qd:me.key)||null,Pc(Tc,md,me,Fe);case nc:return md=md.get(null===me.key?qd:me.key)||null,zd(Tc,md,me,Fe);case jg:var kf=me._init;return He(md,Tc,qd,kf(me._payload),Fe)}if(Oe(me)||Ab(me))return md=md.get(qd)||null,ge(Tc,md,me,Fe,null);Be(Tc,me)}return null}function Te(md,Tc,qd,me){for(var Fe=null,kf=null,lf=Tc,rf=Tc=0,yh=null;null!==lf&&rf<qd.length;rf++){lf.index>rf?(yh=lf,lf=null):yh=lf.sibling;var Wf=
de(md,lf,qd[rf],me);if(null===Wf){null===lf&&(lf=yh);break}b&&lf&&null===Wf.alternate&&e(md,lf);Tc=Ba(Wf,Tc,rf);null===kf?Fe=Wf:kf.sibling=Wf;kf=Wf;lf=yh}if(rf===qd.length)return n(md,lf),Kg&&Cd(md,rf),Fe;if(null===lf){for(;rf<qd.length;rf++)lf=je(md,qd[rf],me),null!==lf&&(Tc=Ba(lf,Tc,rf),null===kf?Fe=lf:kf.sibling=lf,kf=lf);Kg&&Cd(md,rf);return Fe}for(lf=K(md,lf);rf<qd.length;rf++)yh=He(lf,md,rf,qd[rf],me),null!==yh&&(b&&null!==yh.alternate&&lf.delete(null===yh.key?rf:yh.key),Tc=Ba(yh,Tc,rf),null===
kf?Fe=yh:kf.sibling=yh,kf=yh);b&&lf.forEach(function(wi){return e(md,wi)});Kg&&Cd(md,rf);return Fe}function Ye(md,Tc,qd,me){var Fe=Ab(qd);if("function"!==typeof Fe)throw Error(v(150));qd=Fe.call(qd);if(null==qd)throw Error(v(151));for(var kf=Fe=null,lf=Tc,rf=Tc=0,yh=null,Wf=qd.next();null!==lf&&!Wf.done;rf++,Wf=qd.next()){lf.index>rf?(yh=lf,lf=null):yh=lf.sibling;var wi=de(md,lf,Wf.value,me);if(null===wi){null===lf&&(lf=yh);break}b&&lf&&null===wi.alternate&&e(md,lf);Tc=Ba(wi,Tc,rf);null===kf?Fe=wi:
kf.sibling=wi;kf=wi;lf=yh}if(Wf.done)return n(md,lf),Kg&&Cd(md,rf),Fe;if(null===lf){for(;!Wf.done;rf++,Wf=qd.next())Wf=je(md,Wf.value,me),null!==Wf&&(Tc=Ba(Wf,Tc,rf),null===kf?Fe=Wf:kf.sibling=Wf,kf=Wf);Kg&&Cd(md,rf);return Fe}for(lf=K(md,lf);!Wf.done;rf++,Wf=qd.next())Wf=He(lf,md,rf,Wf.value,me),null!==Wf&&(b&&null!==Wf.alternate&&lf.delete(null===Wf.key?rf:Wf.key),Tc=Ba(Wf,Tc,rf),null===kf?Fe=Wf:kf.sibling=Wf,kf=Wf);b&&lf.forEach(function(ll){return e(md,ll)});Kg&&Cd(md,rf);return Fe}function ch(md,
Tc,qd,me){"object"===typeof qd&&null!==qd&&qd.type===sd&&null===qd.key&&(qd=qd.props.children);if("object"===typeof qd&&null!==qd){switch(qd.$$typeof){case gd:a:{for(var Fe=qd.key,kf=Tc;null!==kf;){if(kf.key===Fe){Fe=qd.type;if(Fe===sd){if(7===kf.tag){n(md,kf.sibling);Tc=pa(kf,qd.props.children);Tc.return=md;md=Tc;break a}}else if(kf.elementType===Fe||"object"===typeof Fe&&null!==Fe&&Fe.$$typeof===jg&&Id(Fe)===kf.type){n(md,kf.sibling);Tc=pa(kf,qd.props);Tc.ref=Ae(md,kf,qd);Tc.return=md;md=Tc;break a}n(md,
kf);break}else e(md,kf);kf=kf.sibling}qd.type===sd?(Tc=ci(qd.props.children,md.mode,me,qd.key),Tc.return=md,md=Tc):(me=Pi(qd.type,qd.key,qd.props,null,md.mode,me),me.ref=Ae(md,Tc,qd),me.return=md,md=me)}return ub(md);case nc:a:{for(kf=qd.key;null!==Tc;){if(Tc.key===kf)if(4===Tc.tag&&Tc.stateNode.containerInfo===qd.containerInfo&&Tc.stateNode.implementation===qd.implementation){n(md,Tc.sibling);Tc=pa(Tc,qd.children||[]);Tc.return=md;md=Tc;break a}else{n(md,Tc);break}else e(md,Tc);Tc=Tc.sibling}Tc=
Cg(qd,md.mode,me);Tc.return=md;md=Tc}return ub(md);case jg:return kf=qd._init,ch(md,Tc,kf(qd._payload),me)}if(Oe(qd))return Te(md,Tc,qd,me);if(Ab(qd))return Ye(md,Tc,qd,me);Be(md,qd)}return"string"===typeof qd&&""!==qd||"number"===typeof qd?(qd=""+qd,null!==Tc&&6===Tc.tag?(n(md,Tc.sibling),Tc=pa(Tc,qd),Tc.return=md,md=Tc):(n(md,Tc),Tc=Oi(qd,md.mode,me),Tc.return=md,md=Tc),ub(md)):n(md,Tc)}return ch}function xe(b){if(b===Qi)throw Error(v(174));return b}function Le(b,e){ee(Bj,e);ee(Cj,b);ee(Th,Qi);
b=e.nodeType;switch(b){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fa(null,"");break;default:b=8===b?e.parentNode:e,e=b.namespaceURI||null,b=b.tagName,e=Fa(e,b)}pd(Th);ee(Th,e)}function of(){pd(Th);pd(Cj);pd(Bj)}function Ve(b){xe(Bj.current);var e=xe(Th.current),n=Fa(e,b.type);e!==n&&(ee(Cj,b),ee(Th,n))}function we(b){Cj.current===b&&(pd(Th),pd(Cj))}function wf(b){for(var e=b;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||"$?"===n.data||"$!"===n.data))return e}else if(19===
e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(e.flags&128))return e}else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return null;e=e.return}e.sibling.return=e.return;e=e.sibling}return null}function Pf(){for(var b=0;b<rk.length;b++)rk[b]._workInProgressVersionPrimary=null;rk.length=0}function af(){throw Error(v(321));}function ag(b,e){if(null===e)return!1;for(var n=0;n<e.length&&n<b.length;n++)if(!Vh(b[n],e[n]))return!1;
return!0}function Vd(b,e,n,K,pa,Ba){xi=Ba;wg=e;e.memoizedState=null;e.updateQueue=null;e.lanes=0;Wj.current=null===b||null===b.memoizedState?Vl:ml;b=n(K,pa);if(Xj){Ba=0;do{Xj=!1;Dj=0;if(25<=Ba)throw Error(v(301));Ba+=1;zh=oh=null;e.updateQueue=null;Wj.current=nl;b=n(K,pa)}while(Xj)}Wj.current=sk;e=null!==oh&&null!==oh.next;xi=0;zh=oh=wg=null;Yj=!1;if(e)throw Error(v(300));return b}function hf(){var b=0!==Dj;Dj=0;return b}function jf(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,
next:null};null===zh?wg.memoizedState=zh=b:zh=zh.next=b;return zh}function Qe(){if(null===oh){var b=wg.alternate;b=null!==b?b.memoizedState:null}else b=oh.next;var e=null===zh?wg.memoizedState:zh.next;if(null!==e)zh=e,oh=b;else{if(null===b)throw Error(v(310));oh=b;b={memoizedState:oh.memoizedState,baseState:oh.baseState,baseQueue:oh.baseQueue,queue:oh.queue,next:null};null===zh?wg.memoizedState=zh=b:zh=zh.next=b}return zh}function Cf(b,e){return"function"===typeof e?e(b):e}function Qf(b){var e=Qe(),
n=e.queue;if(null===n)throw Error(v(311));n.lastRenderedReducer=b;var K=oh,pa=K.baseQueue,Ba=n.pending;if(null!==Ba){if(null!==pa){var ub=pa.next;pa.next=Ba.next;Ba.next=ub}K.baseQueue=pa=Ba;n.pending=null}if(null!==pa){Ba=pa.next;K=K.baseState;var wc=ub=null,Pc=null,zd=Ba;do{var ge=zd.lane;if((xi&ge)===ge)null!==Pc&&(Pc=Pc.next={lane:0,action:zd.action,hasEagerState:zd.hasEagerState,eagerState:zd.eagerState,next:null}),K=zd.hasEagerState?zd.eagerState:b(K,zd.action);else{var je={lane:ge,action:zd.action,
hasEagerState:zd.hasEagerState,eagerState:zd.eagerState,next:null};null===Pc?(wc=Pc=je,ub=K):Pc=Pc.next=je;wg.lanes|=ge;Rh|=ge}zd=zd.next}while(null!==zd&&zd!==Ba);null===Pc?ub=K:Pc.next=wc;Vh(K,e.memoizedState)||(dh=!0);e.memoizedState=K;e.baseState=ub;e.baseQueue=Pc;n.lastRenderedState=K}b=n.interleaved;if(null!==b){pa=b;do Ba=pa.lane,wg.lanes|=Ba,Rh|=Ba,pa=pa.next;while(pa!==b)}else null===pa&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jf(b){var e=Qe(),n=e.queue;if(null===n)throw Error(v(311));
n.lastRenderedReducer=b;var K=n.dispatch,pa=n.pending,Ba=e.memoizedState;if(null!==pa){n.pending=null;var ub=pa=pa.next;do Ba=b(Ba,ub.action),ub=ub.next;while(ub!==pa);Vh(Ba,e.memoizedState)||(dh=!0);e.memoizedState=Ba;null===e.baseQueue&&(e.baseState=Ba);n.lastRenderedState=Ba}return[Ba,K]}function Gf(){}function Bg(b,e){var n=wg,K=Qe(),pa=e(),Ba=!Vh(K.memoizedState,pa);Ba&&(K.memoizedState=pa,dh=!0);K=K.queue;id(Hf.bind(null,n,K,b),[b]);if(K.getSnapshot!==e||Ba||null!==zh&&zh.memoizedState.tag&
1){n.flags|=2048;Dg(9,Af.bind(null,n,K,pa,e),void 0,null);if(null===Ah)throw Error(v(349));0!==(xi&30)||sg(n,e,pa)}return pa}function sg(b,e,n){b.flags|=16384;b={getSnapshot:e,value:n};e=wg.updateQueue;null===e?(e={lastEffect:null,stores:null},wg.updateQueue=e,e.stores=[b]):(n=e.stores,null===n?e.stores=[b]:n.push(b))}function Af(b,e,n,K){e.value=n;e.getSnapshot=K;dg(e)&&Ug(b)}function Hf(b,e,n){return n(function(){dg(e)&&Ug(b)})}function dg(b){var e=b.getSnapshot;b=b.value;try{var n=e();return!Vh(b,
n)}catch(K){return!0}}function Ug(b){var e=hb(b,1);null!==e&&ca(e,b,1,-1)}function Vg(b){var e=jf();"function"===typeof b&&(b=b());e.memoizedState=e.baseState=b;b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:b};e.queue=b;b=b.dispatch=Lg.bind(null,wg,b);return[e.memoizedState,b]}function Dg(b,e,n,K){b={tag:b,create:e,destroy:n,deps:K,next:null};e=wg.updateQueue;null===e?(e={lastEffect:null,stores:null},wg.updateQueue=e,e.lastEffect=b.next=b):(n=e.lastEffect,
null===n?e.lastEffect=b.next=b:(K=n.next,n.next=b,b.next=K,e.lastEffect=b));return b}function Wg(){return Qe().memoizedState}function ra(b,e,n,K){var pa=jf();wg.flags|=b;pa.memoizedState=Dg(1|e,n,void 0,void 0===K?null:K)}function bb(b,e,n,K){var pa=Qe();K=void 0===K?null:K;var Ba=void 0;if(null!==oh){var ub=oh.memoizedState;Ba=ub.destroy;if(null!==K&&ag(K,ub.deps)){pa.memoizedState=Dg(e,n,Ba,K);return}}wg.flags|=b;pa.memoizedState=Dg(1|e,n,Ba,K)}function Rb(b,e){return ra(8390656,8,b,e)}function id(b,
e){return bb(2048,8,b,e)}function od(b,e){return bb(4,2,b,e)}function ne(b,e){return bb(4,4,b,e)}function Re(b,e){if("function"===typeof e)return b=b(),e(b),function(){e(null)};if(null!==e&&void 0!==e)return b=b(),e.current=b,function(){e.current=null}}function pf(b,e,n){n=null!==n&&void 0!==n?n.concat([b]):null;return bb(4,4,Re.bind(null,e,b),n)}function Ff(){}function Ne(b,e){var n=Qe();e=void 0===e?null:e;var K=n.memoizedState;if(null!==K&&null!==e&&ag(e,K[1]))return K[0];n.memoizedState=[b,e];
return b}function eg(b,e){var n=Qe();e=void 0===e?null:e;var K=n.memoizedState;if(null!==K&&null!==e&&ag(e,K[1]))return K[0];b=b();n.memoizedState=[b,e];return b}function Sf(b,e,n){if(0===(xi&21))return b.baseState&&(b.baseState=!1,dh=!0),b.memoizedState=n;Vh(n,e)||(n=qc(),wg.lanes|=n,Rh|=n,b.baseState=!0);return e}function Xf(b,e){var n=og;og=0!==n&&4>n?n:4;b(!0);var K=tk.transition;tk.transition={};try{b(!1),e()}finally{og=n,tk.transition=K}}function kg(){return Qe().memoizedState}function qg(b,
e,n){var K=z(b);n={lane:K,action:n,hasEagerState:!1,eagerState:null,next:null};if(gh(b))ph(e,n);else if(n=Ja(b,e,n,K),null!==n){var pa=l();ca(n,b,K,pa);Ie(n,e,K)}}function Lg(b,e,n){var K=z(b),pa={lane:K,action:n,hasEagerState:!1,eagerState:null,next:null};if(gh(b))ph(e,pa);else{var Ba=b.alternate;if(0===b.lanes&&(null===Ba||0===Ba.lanes)&&(Ba=e.lastRenderedReducer,null!==Ba))try{var ub=e.lastRenderedState,wc=Ba(ub,n);pa.hasEagerState=!0;pa.eagerState=wc;if(Vh(wc,ub)){var Pc=e.interleaved;null===
Pc?(pa.next=pa,la(e)):(pa.next=Pc.next,Pc.next=pa);e.interleaved=pa;return}}catch(zd){}finally{}n=Ja(b,e,pa,K);null!==n&&(pa=l(),ca(n,b,K,pa),Ie(n,e,K))}}function gh(b){var e=b.alternate;return b===wg||null!==e&&e===wg}function ph(b,e){Xj=Yj=!0;var n=b.pending;null===n?e.next=e:(e.next=n.next,n.next=e);b.pending=e}function Ie(b,e,n){if(0!==(n&4194240)){var K=e.lanes;K&=b.pendingLanes;n|=K;e.lanes=n;Rc(b,n)}}function ye(b,e){try{var n="",K=e;do n+=Ua(K),K=K.return;while(K)}catch(pa){n="\nError generating stack: "+
pa.message+"\n"+pa.stack}return{value:b,source:e,stack:n,digest:null}}function Kf(b,e,n){return{value:b,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function yf(b,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n;})}}function Bf(b,e,n){n=tc(-1,n);n.tag=3;n.payload={element:null};var K=e.value;n.callback=function(){Zj||(Zj=!0,uk=K);yf(b,e)};return n}function tf(b,e,n){n=tc(-1,n);n.tag=3;var K=b.type.getDerivedStateFromError;if("function"===typeof K){var pa=e.value;n.payload=
function(){return K(pa)};n.callback=function(){yf(b,e)}}var Ba=b.stateNode;null!==Ba&&"function"===typeof Ba.componentDidCatch&&(n.callback=function(){yf(b,e);"function"!==typeof K&&(null===pi?pi=new Set([this]):pi.add(this));var ub=e.stack;this.componentDidCatch(e.value,{componentStack:null!==ub?ub:""})});return n}function fg(b,e,n){var K=b.pingCache;if(null===K){K=b.pingCache=new Wl;var pa=new Set;K.set(e,pa)}else pa=K.get(e),void 0===pa&&(pa=new Set,K.set(e,pa));pa.has(n)||(pa.add(n),b=Rf.bind(null,
b,e,n),e.then(b,b))}function Eg(b){do{var e;if(e=13===b.tag)e=b.memoizedState,e=null!==e?null!==e.dehydrated?!0:!1:!0;if(e)return b;b=b.return}while(null!==b);return null}function tg(b,e,n,K,pa){if(0===(b.mode&1))return b===e?b.flags|=65536:(b.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:(e=tc(-1,1),e.tag=2,Wb(n,e,1))),n.lanes|=1),b;b.flags|=65536;b.lanes=pa;return b}function Df(b,e,n,K){e.child=null===b?Vk(e,null,n,K):hj(e,b.child,n,K)}function Qg(b,e,n,K,pa){n=
n.render;var Ba=e.ref;H(e,pa);K=Vd(b,e,n,K,Ba,pa);n=hf();if(null!==b&&!dh)return e.updateQueue=b.updateQueue,e.flags&=-2053,b.lanes&=~pa,hh(b,e,pa);Kg&&n&&ve(e);e.flags|=1;Df(b,e,K,pa);return e.child}function Mg(b,e,n,K,pa){if(null===b){var Ba=n.type;if("function"===typeof Ba&&!kh(Ba)&&void 0===Ba.defaultProps&&null===n.compare&&void 0===n.defaultProps)return e.tag=15,e.type=Ba,qh(b,e,Ba,K,pa);b=Pi(n.type,null,K,e,e.mode,pa);b.ref=e.ref;b.return=e;return e.child=b}Ba=b.child;if(0===(b.lanes&pa)){var ub=
Ba.memoizedProps;n=n.compare;n=null!==n?n:za;if(n(ub,K)&&b.ref===e.ref)return hh(b,e,pa)}e.flags|=1;b=Sh(Ba,K);b.ref=e.ref;b.return=e;return e.child=b}function qh(b,e,n,K,pa){if(null!==b){var Ba=b.memoizedProps;if(za(Ba,K)&&b.ref===e.ref)if(dh=!1,e.pendingProps=K=Ba,0!==(b.lanes&pa))0!==(b.flags&131072)&&(dh=!0);else return e.lanes=b.lanes,hh(b,e,pa)}return rh(b,e,n,K,pa)}function xg(b,e,n){var K=e.pendingProps,pa=K.children,Ba=null!==b?b.memoizedState:null;if("hidden"===K.mode)if(0===(e.mode&1))e.memoizedState=
{baseLanes:0,cachePool:null,transitions:null},ee(ug,di),di|=n;else{if(0===(n&1073741824))return b=null!==Ba?Ba.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:b,cachePool:null,transitions:null},e.updateQueue=null,ee(ug,di),di|=b,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null};K=null!==Ba?Ba.baseLanes:n;ee(ug,di);di|=K}else null!==Ba?(K=Ba.baseLanes|n,e.memoizedState=null):K=n,ee(ug,di),di|=K;Df(b,e,pa,n);return e.child}function Wh(b,e){var n=e.ref;if(null===
b&&null!==n||null!==b&&b.ref!==n)e.flags|=512,e.flags|=2097152}function rh(b,e,n,K,pa){var Ba=db(n)?$h:wh.current;Ba=Ra(e,Ba);H(e,pa);n=Vd(b,e,n,K,Ba,pa);K=hf();if(null!==b&&!dh)return e.updateQueue=b.updateQueue,e.flags&=-2053,b.lanes&=~pa,hh(b,e,pa);Kg&&K&&ve(e);e.flags|=1;Df(b,e,n,pa);return e.child}function Hh(b,e,n,K,pa){if(db(n)){var Ba=!0;Uc(e)}else Ba=!1;H(e,pa);if(null===e.stateNode)Rg(b,e),Oc(e,n,K),Ge(e,n,K,pa),K=!0;else if(null===b){var ub=e.stateNode,wc=e.memoizedProps;ub.props=wc;var Pc=
ub.context,zd=n.contextType;"object"===typeof zd&&null!==zd?zd=ka(zd):(zd=db(n)?$h:wh.current,zd=Ra(e,zd));var ge=n.getDerivedStateFromProps,je="function"===typeof ge||"function"===typeof ub.getSnapshotBeforeUpdate;je||"function"!==typeof ub.UNSAFE_componentWillReceiveProps&&"function"!==typeof ub.componentWillReceiveProps||(wc!==K||Pc!==zd)&&Ee(e,ub,K,zd);Ni=!1;var de=e.memoizedState;ub.state=de;Zc(e,K,ub,pa);Pc=e.memoizedState;wc!==K||de!==Pc||Jg.current||Ni?("function"===typeof ge&&(Ad(e,n,ge,
K),Pc=e.memoizedState),(wc=Ni||Hd(e,n,wc,K,de,Pc,zd))?(je||"function"!==typeof ub.UNSAFE_componentWillMount&&"function"!==typeof ub.componentWillMount||("function"===typeof ub.componentWillMount&&ub.componentWillMount(),"function"===typeof ub.UNSAFE_componentWillMount&&ub.UNSAFE_componentWillMount()),"function"===typeof ub.componentDidMount&&(e.flags|=4194308)):("function"===typeof ub.componentDidMount&&(e.flags|=4194308),e.memoizedProps=K,e.memoizedState=Pc),ub.props=K,ub.state=Pc,ub.context=zd,
K=wc):("function"===typeof ub.componentDidMount&&(e.flags|=4194308),K=!1)}else{ub=e.stateNode;rc(b,e);wc=e.memoizedProps;zd=e.type===e.elementType?wc:ke(e.type,wc);ub.props=zd;je=e.pendingProps;de=ub.context;Pc=n.contextType;"object"===typeof Pc&&null!==Pc?Pc=ka(Pc):(Pc=db(n)?$h:wh.current,Pc=Ra(e,Pc));var He=n.getDerivedStateFromProps;(ge="function"===typeof He||"function"===typeof ub.getSnapshotBeforeUpdate)||"function"!==typeof ub.UNSAFE_componentWillReceiveProps&&"function"!==typeof ub.componentWillReceiveProps||
(wc!==je||de!==Pc)&&Ee(e,ub,K,Pc);Ni=!1;de=e.memoizedState;ub.state=de;Zc(e,K,ub,pa);var Te=e.memoizedState;wc!==je||de!==Te||Jg.current||Ni?("function"===typeof He&&(Ad(e,n,He,K),Te=e.memoizedState),(zd=Ni||Hd(e,n,zd,K,de,Te,Pc)||!1)?(ge||"function"!==typeof ub.UNSAFE_componentWillUpdate&&"function"!==typeof ub.componentWillUpdate||("function"===typeof ub.componentWillUpdate&&ub.componentWillUpdate(K,Te,Pc),"function"===typeof ub.UNSAFE_componentWillUpdate&&ub.UNSAFE_componentWillUpdate(K,Te,Pc)),
"function"===typeof ub.componentDidUpdate&&(e.flags|=4),"function"===typeof ub.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof ub.componentDidUpdate||wc===b.memoizedProps&&de===b.memoizedState||(e.flags|=4),"function"!==typeof ub.getSnapshotBeforeUpdate||wc===b.memoizedProps&&de===b.memoizedState||(e.flags|=1024),e.memoizedProps=K,e.memoizedState=Te),ub.props=K,ub.state=Te,ub.context=Pc,K=zd):("function"!==typeof ub.componentDidUpdate||wc===b.memoizedProps&&de===b.memoizedState||(e.flags|=
4),"function"!==typeof ub.getSnapshotBeforeUpdate||wc===b.memoizedProps&&de===b.memoizedState||(e.flags|=1024),K=!1)}return Xg(b,e,n,K,Ba,pa)}function Xg(b,e,n,K,pa,Ba){Wh(b,e);var ub=0!==(e.flags&128);if(!K&&!ub)return pa&&Qc(e,n,!1),hh(b,e,Ba);K=e.stateNode;Xl.current=e;var wc=ub&&"function"!==typeof n.getDerivedStateFromError?null:K.render();e.flags|=1;null!==b&&ub?(e.child=hj(e,b.child,null,Ba),e.child=hj(e,null,wc,Ba)):Df(b,e,wc,Ba);e.memoizedState=K.state;pa&&Qc(e,n,!0);return e.child}function sh(b){var e=
b.stateNode;e.pendingContext?wd(b,e.pendingContext,e.pendingContext!==e.context):e.context&&wd(b,e.context,!1);Le(b,e.containerInfo)}function Bh(b){return{baseLanes:b,cachePool:null,transitions:null}}function ji(b,e,n){var K=e.pendingProps,pa=Yg.current,Ba=!1,ub=0!==(e.flags&128),wc;(wc=ub)||(wc=null!==b&&null===b.memoizedState?!1:0!==(pa&2));if(wc)Ba=!0,e.flags&=-129;else if(null===b||null!==b.memoizedState)pa|=1;ee(Yg,pa&1);if(null===b){Fc(e);b=e.memoizedState;if(null!==b&&(b=b.dehydrated,null!==
b))return 0===(e.mode&1)?e.lanes=1:"$!"===b.data?e.lanes=8:e.lanes=1073741824,null;ub=K.children;b=K.fallback;return Ba?(K=e.mode,Ba=e.child,ub={mode:"hidden",children:ub},0===(K&1)&&null!==Ba?(Ba.childLanes=0,Ba.pendingProps=ub):Ba=ki(ub,K,0,null),b=ci(b,K,n,null),Ba.return=e,b.return=e,Ba.sibling=b,e.child=Ba,e.child.memoizedState=Bh(n),e.memoizedState=vk,b):eh(e,ub)}pa=b.memoizedState;if(null!==pa&&(wc=pa.dehydrated,null!==wc))return yi(b,e,ub,K,wc,pa,n);if(Ba){Ba=K.fallback;ub=e.mode;pa=b.child;
wc=pa.sibling;var Pc={mode:"hidden",children:K.children};0===(ub&1)&&e.child!==pa?(K=e.child,K.childLanes=0,K.pendingProps=Pc,e.deletions=null):(K=Sh(pa,Pc),K.subtreeFlags=pa.subtreeFlags&14680064);null!==wc?Ba=Sh(wc,Ba):(Ba=ci(Ba,ub,n,null),Ba.flags|=2);Ba.return=e;K.return=e;K.sibling=Ba;e.child=K;K=Ba;Ba=e.child;ub=b.child.memoizedState;ub=null===ub?Bh(n):{baseLanes:ub.baseLanes|n,cachePool:null,transitions:ub.transitions};Ba.memoizedState=ub;Ba.childLanes=b.childLanes&~n;e.memoizedState=vk;return K}Ba=
b.child;b=Ba.sibling;K=Sh(Ba,{mode:"visible",children:K.children});0===(e.mode&1)&&(K.lanes=n);K.return=e;K.sibling=null;null!==b&&(n=e.deletions,null===n?(e.deletions=[b],e.flags|=16):n.push(b));e.child=K;e.memoizedState=null;return K}function eh(b,e){e=ki({mode:"visible",children:e},b.mode,0,null);e.return=b;return b.child=e}function th(b,e,n,K){null!==K&&$d(K);hj(e,b.child,null,n);b=eh(e,e.pendingProps.children);b.flags|=2;e.memoizedState=null;return b}function yi(b,e,n,K,pa,Ba,ub){if(n){if(e.flags&
256)return e.flags&=-257,K=Kf(Error(v(422))),th(b,e,ub,K);if(null!==e.memoizedState)return e.child=b.child,e.flags|=128,null;Ba=K.fallback;pa=e.mode;K=ki({mode:"visible",children:K.children},pa,0,null);Ba=ci(Ba,pa,ub,null);Ba.flags|=2;K.return=e;Ba.return=e;K.sibling=Ba;e.child=K;0!==(e.mode&1)&&hj(e,b.child,null,ub);e.child.memoizedState=Bh(ub);e.memoizedState=vk;return Ba}if(0===(e.mode&1))return th(b,e,ub,null);if("$!"===pa.data){if(K=pa.nextSibling&&pa.nextSibling.dataset)var wc=K.dgst;K=wc;Ba=
Error(v(419));K=Kf(Ba,K,void 0);return th(b,e,ub,K)}wc=0!==(ub&b.childLanes);if(dh||wc){K=Ah;if(null!==K){switch(ub&-ub){case 4:pa=2;break;case 16:pa=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:pa=32;break;case 536870912:pa=268435456;break;default:pa=0}pa=0!==(pa&(K.suspendedLanes|ub))?0:pa;0!==pa&&
pa!==Ba.retryLane&&(Ba.retryLane=pa,hb(b,pa),ca(K,b,pa,-1))}zf();K=Kf(Error(v(421)));return th(b,e,ub,K)}if("$?"===pa.data)return e.flags|=128,e.child=b.child,e=Lf.bind(null,b),pa._reactRetry=e,null;b=Ba.treeContext;Lh=J(pa.nextSibling);ai=e;Kg=!0;bi=null;null!==b&&(Ph[Qh++]=hi,Ph[Qh++]=ii,Ph[Qh++]=fj,hi=b.id,ii=b.overflow,fj=e);e=eh(e,K.children);e.flags|=4096;return e}function Fg(b,e,n){b.lanes|=e;var K=b.alternate;null!==K&&(K.lanes|=e);da(b.return,e,n)}function Mh(b,e,n,K,pa){var Ba=b.memoizedState;
null===Ba?b.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:K,tail:n,tailMode:pa}:(Ba.isBackwards=e,Ba.rendering=null,Ba.renderingStartTime=0,Ba.last=K,Ba.tail=n,Ba.tailMode=pa)}function Xh(b,e,n){var K=e.pendingProps,pa=K.revealOrder,Ba=K.tail;Df(b,e,K.children,n);K=Yg.current;if(0!==(K&2))K=K&1|2,e.flags|=128;else{if(null!==b&&0!==(b.flags&128))a:for(b=e.child;null!==b;){if(13===b.tag)null!==b.memoizedState&&Fg(b,n,e);else if(19===b.tag)Fg(b,n,e);else if(null!==b.child){b.child.return=
b;b=b.child;continue}if(b===e)break a;for(;null===b.sibling;){if(null===b.return||b.return===e)break a;b=b.return}b.sibling.return=b.return;b=b.sibling}K&=1}ee(Yg,K);if(0===(e.mode&1))e.memoizedState=null;else switch(pa){case "forwards":n=e.child;for(pa=null;null!==n;)b=n.alternate,null!==b&&null===wf(b)&&(pa=n),n=n.sibling;n=pa;null===n?(pa=e.child,e.child=null):(pa=n.sibling,n.sibling=null);Mh(e,!1,pa,n,Ba);break;case "backwards":n=null;pa=e.child;for(e.child=null;null!==pa;){b=pa.alternate;if(null!==
b&&null===wf(b)){e.child=pa;break}b=pa.sibling;pa.sibling=n;n=pa;pa=b}Mh(e,!0,n,null,Ba);break;case "together":Mh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rg(b,e){0===(e.mode&1)&&null!==b&&(b.alternate=null,e.alternate=null,e.flags|=2)}function hh(b,e,n){null!==b&&(e.dependencies=b.dependencies);Rh|=e.lanes;if(0===(n&e.childLanes))return null;if(null!==b&&e.child!==b.child)throw Error(v(153));if(null!==e.child){b=e.child;n=Sh(b,b.pendingProps);e.child=n;for(n.return=
e;null!==b.sibling;)b=b.sibling,n=n.sibling=Sh(b,b.pendingProps),n.return=e;n.sibling=null}return e.child}function lh(b,e,n){switch(e.tag){case 3:sh(e);Zd();break;case 5:Ve(e);break;case 1:db(e.type)&&Uc(e);break;case 4:Le(e,e.stateNode.containerInfo);break;case 10:var K=e.type._context,pa=e.memoizedProps.value;ee(Aj,K._currentValue);K._currentValue=pa;break;case 13:K=e.memoizedState;if(null!==K){if(null!==K.dehydrated)return ee(Yg,Yg.current&1),e.flags|=128,null;if(0!==(n&e.child.childLanes))return ji(b,
e,n);ee(Yg,Yg.current&1);b=hh(b,e,n);return null!==b?b.sibling:null}ee(Yg,Yg.current&1);break;case 19:K=0!==(n&e.childLanes);if(0!==(b.flags&128)){if(K)return Xh(b,e,n);e.flags|=128}pa=e.memoizedState;null!==pa&&(pa.rendering=null,pa.tail=null,pa.lastEffect=null);ee(Yg,Yg.current);if(K)break;else return null;case 22:case 23:return e.lanes=0,xg(b,e,n)}return hh(b,e,n)}function Ch(b,e){if(!Kg)switch(b.tailMode){case "hidden":e=b.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===
n?b.tail=null:n.sibling=null;break;case "collapsed":n=b.tail;for(var K=null;null!==n;)null!==n.alternate&&(K=n),n=n.sibling;null===K?e||null===b.tail?b.tail=null:b.tail.sibling=null:K.sibling=null}}function Gg(b){var e=null!==b.alternate&&b.alternate.child===b.child,n=0,K=0;if(e)for(var pa=b.child;null!==pa;)n|=pa.lanes|pa.childLanes,K|=pa.subtreeFlags&14680064,K|=pa.flags&14680064,pa.return=b,pa=pa.sibling;else for(pa=b.child;null!==pa;)n|=pa.lanes|pa.childLanes,K|=pa.subtreeFlags,K|=pa.flags,pa.return=
b,pa=pa.sibling;b.subtreeFlags|=K;b.childLanes=n;return e}function Nh(b,e,n){var K=e.pendingProps;Me(e);switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gg(e),null;case 1:return db(e.type)&&pc(),Gg(e),null;case 3:K=e.stateNode;of();pd(Jg);pd(wh);Pf();K.pendingContext&&(K.context=K.pendingContext,K.pendingContext=null);if(null===b||null===b.child)Gc(e)?e.flags|=4:null===b||b.memoizedState.isDehydrated&&0===(e.flags&256)||(e.flags|=1024,null!==bi&&(Gb(bi),
bi=null));ol(b,e);Gg(e);return null;case 5:we(e);var pa=xe(Bj.current);n=e.type;if(null!==b&&null!=e.stateNode)Yl(b,e,n,K,pa),b.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!K){if(null===e.stateNode)throw Error(v(166));Gg(e);return null}b=xe(Th.current);if(Gc(e)){K=e.stateNode;n=e.type;var Ba=e.memoizedProps;K[vi]=e;K[xj]=Ba;b=0!==(e.mode&1);switch(n){case "dialog":Nd("cancel",K);Nd("close",K);break;case "iframe":case "object":case "embed":Nd("load",K);break;case "video":case "audio":for(pa=
0;pa<ak.length;pa++)Nd(ak[pa],K);break;case "source":Nd("error",K);break;case "img":case "image":case "link":Nd("error",K);Nd("load",K);break;case "details":Nd("toggle",K);break;case "input":Ka(K,Ba);Nd("invalid",K);break;case "select":K._wrapperState={wasMultiple:!!Ba.multiple};Nd("invalid",K);break;case "textarea":Vb(K,Ba),Nd("invalid",K)}oa(n,Ba);pa=null;for(var ub in Ba)if(Ba.hasOwnProperty(ub)){var wc=Ba[ub];"children"===ub?"string"===typeof wc?K.textContent!==wc&&(!0!==Ba.suppressHydrationWarning&&
cb(K.textContent,wc,b),pa=["children",wc]):"number"===typeof wc&&K.textContent!==""+wc&&(!0!==Ba.suppressHydrationWarning&&cb(K.textContent,wc,b),pa=["children",""+wc]):T.hasOwnProperty(ub)&&null!=wc&&"onScroll"===ub&&Nd("scroll",K)}switch(n){case "input":ab(K);Pa(K,Ba,!0);break;case "textarea":ab(K);qa(K);break;case "select":case "option":break;default:"function"===typeof Ba.onClick&&(K.onclick=yb)}K=pa;e.updateQueue=K;null!==K&&(e.flags|=4)}else{ub=9===pa.nodeType?pa:pa.ownerDocument;"http://www.w3.org/1999/xhtml"===
b&&(b=Z(n));"http://www.w3.org/1999/xhtml"===b?"script"===n?(b=ub.createElement("div"),b.innerHTML="\x3cscript\x3e\x3c/script\x3e",b=b.removeChild(b.firstChild)):"string"===typeof K.is?b=ub.createElement(n,{is:K.is}):(b=ub.createElement(n),"select"===n&&(ub=b,K.multiple?ub.multiple=!0:K.size&&(ub.size=K.size))):b=ub.createElementNS(b,n);b[vi]=e;b[xj]=K;pl(b,e,!1,!1);e.stateNode=b;a:{ub=q(n,K);switch(n){case "dialog":Nd("cancel",b);Nd("close",b);pa=K;break;case "iframe":case "object":case "embed":Nd("load",
b);pa=K;break;case "video":case "audio":for(pa=0;pa<ak.length;pa++)Nd(ak[pa],b);pa=K;break;case "source":Nd("error",b);pa=K;break;case "img":case "image":case "link":Nd("error",b);Nd("load",b);pa=K;break;case "details":Nd("toggle",b);pa=K;break;case "input":Ka(b,K);pa=Da(b,K);Nd("invalid",b);break;case "option":pa=K;break;case "select":b._wrapperState={wasMultiple:!!K.multiple};pa=vg({},K,{value:void 0});Nd("invalid",b);break;case "textarea":Vb(b,K);pa=Pb(b,K);Nd("invalid",b);break;default:pa=K}oa(n,
pa);wc=pa;for(Ba in wc)if(wc.hasOwnProperty(Ba)){var Pc=wc[Ba];"style"===Ba?ba(b,Pc):"dangerouslySetInnerHTML"===Ba?(Pc=Pc?Pc.__html:void 0,null!=Pc&&gg(b,Pc)):"children"===Ba?"string"===typeof Pc?("textarea"!==n||""!==Pc)&&Ga(b,Pc):"number"===typeof Pc&&Ga(b,""+Pc):"suppressContentEditableWarning"!==Ba&&"suppressHydrationWarning"!==Ba&&"autoFocus"!==Ba&&(T.hasOwnProperty(Ba)?null!=Pc&&"onScroll"===Ba&&Nd("scroll",b):null!=Pc&&uc(b,Ba,Pc,ub))}switch(n){case "input":ab(b);Pa(b,K,!1);break;case "textarea":ab(b);
qa(b);break;case "option":null!=K.value&&b.setAttribute("value",""+Kb(K.value));break;case "select":b.multiple=!!K.multiple;Ba=K.value;null!=Ba?sb(b,!!K.multiple,Ba,!1):null!=K.defaultValue&&sb(b,!!K.multiple,K.defaultValue,!0);break;default:"function"===typeof pa.onClick&&(b.onclick=yb)}switch(n){case "button":case "input":case "select":case "textarea":K=!!K.autoFocus;break a;case "img":K=!0;break a;default:K=!1}}K&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}Gg(e);return null;case 6:if(b&&
null!=e.stateNode)Zl(b,e,b.memoizedProps,K);else{if("string"!==typeof K&&null===e.stateNode)throw Error(v(166));n=xe(Bj.current);xe(Th.current);if(Gc(e)){K=e.stateNode;n=e.memoizedProps;K[vi]=e;if(Ba=K.nodeValue!==n)if(b=ai,null!==b)switch(b.tag){case 3:cb(K.nodeValue,n,0!==(b.mode&1));break;case 5:!0!==b.memoizedProps.suppressHydrationWarning&&cb(K.nodeValue,n,0!==(b.mode&1))}Ba&&(e.flags|=4)}else K=(9===n.nodeType?n:n.ownerDocument).createTextNode(K),K[vi]=e,e.stateNode=K}Gg(e);return null;case 13:pd(Yg);
K=e.memoizedState;if(null===b||null!==b.memoizedState&&null!==b.memoizedState.dehydrated){if(Kg&&null!==Lh&&0!==(e.mode&1)&&0===(e.flags&128))Jd(),Zd(),e.flags|=98560,Ba=!1;else if(Ba=Gc(e),null!==K&&null!==K.dehydrated){if(null===b){if(!Ba)throw Error(v(318));Ba=e.memoizedState;Ba=null!==Ba?Ba.dehydrated:null;if(!Ba)throw Error(v(317));Ba[vi]=e}else Zd(),0===(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gg(e);Ba=!1}else null!==bi&&(Gb(bi),bi=null),Ba=!0;if(!Ba)return e.flags&65536?e:null}if(0!==
(e.flags&128))return e.lanes=n,e;K=null!==K;K!==(null!==b&&null!==b.memoizedState)&&K&&(e.child.flags|=8192,0!==(e.mode&1)&&(null===b||0!==(Yg.current&1)?0===xf&&(xf=3):zf()));null!==e.updateQueue&&(e.flags|=4);Gg(e);return null;case 4:return of(),ol(b,e),null===b&&De(e.stateNode.containerInfo),Gg(e),null;case 10:return O(e.type._context),Gg(e),null;case 17:return db(e.type)&&pc(),Gg(e),null;case 19:pd(Yg);Ba=e.memoizedState;if(null===Ba)return Gg(e),null;K=0!==(e.flags&128);ub=Ba.rendering;if(null===
ub)if(K)Ch(Ba,!1);else{if(0!==xf||null!==b&&0!==(b.flags&128))for(b=e.child;null!==b;){ub=wf(b);if(null!==ub){e.flags|=128;Ch(Ba,!1);K=ub.updateQueue;null!==K&&(e.updateQueue=K,e.flags|=4);e.subtreeFlags=0;K=n;for(n=e.child;null!==n;)Ba=n,b=K,Ba.flags&=14680066,ub=Ba.alternate,null===ub?(Ba.childLanes=0,Ba.lanes=b,Ba.child=null,Ba.subtreeFlags=0,Ba.memoizedProps=null,Ba.memoizedState=null,Ba.updateQueue=null,Ba.dependencies=null,Ba.stateNode=null):(Ba.childLanes=ub.childLanes,Ba.lanes=ub.lanes,Ba.child=
ub.child,Ba.subtreeFlags=0,Ba.deletions=null,Ba.memoizedProps=ub.memoizedProps,Ba.memoizedState=ub.memoizedState,Ba.updateQueue=ub.updateQueue,Ba.type=ub.type,b=ub.dependencies,Ba.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext}),n=n.sibling;ee(Yg,Yg.current&1|2);return e.child}b=b.sibling}null!==Ba.tail&&ih()>ij&&(e.flags|=128,K=!0,Ch(Ba,!1),e.lanes=4194304)}else{if(!K)if(b=wf(ub),null!==b){if(e.flags|=128,K=!0,n=b.updateQueue,null!==n&&(e.updateQueue=n,e.flags|=4),Ch(Ba,!0),
null===Ba.tail&&"hidden"===Ba.tailMode&&!ub.alternate&&!Kg)return Gg(e),null}else 2*ih()-Ba.renderingStartTime>ij&&1073741824!==n&&(e.flags|=128,K=!0,Ch(Ba,!1),e.lanes=4194304);Ba.isBackwards?(ub.sibling=e.child,e.child=ub):(n=Ba.last,null!==n?n.sibling=ub:e.child=ub,Ba.last=ub)}if(null!==Ba.tail)return e=Ba.tail,Ba.rendering=e,Ba.tail=e.sibling,Ba.renderingStartTime=ih(),e.sibling=null,n=Yg.current,ee(Yg,K?n&1|2:n&1),e;Gg(e);return null;case 22:case 23:return te(),K=null!==e.memoizedState,null!==
b&&null!==b.memoizedState!==K&&(e.flags|=8192),K&&0!==(e.mode&1)?0!==(di&1073741824)&&(Gg(e),e.subtreeFlags&6&&(e.flags|=8192)):Gg(e),null;case 24:return null;case 25:return null}throw Error(v(156,e.tag));}function Dh(b,e){Me(e);switch(e.tag){case 1:return db(e.type)&&pc(),b=e.flags,b&65536?(e.flags=b&-65537|128,e):null;case 3:return of(),pd(Jg),pd(wh),Pf(),b=e.flags,0!==(b&65536)&&0===(b&128)?(e.flags=b&-65537|128,e):null;case 5:return we(e),null;case 13:pd(Yg);b=e.memoizedState;if(null!==b&&null!==
b.dehydrated){if(null===e.alternate)throw Error(v(340));Zd()}b=e.flags;return b&65536?(e.flags=b&-65537|128,e):null;case 19:return pd(Yg),null;case 4:return of(),null;case 10:return O(e.type._context),null;case 22:case 23:return te(),null;case 24:return null;default:return null}}function Hg(b,e){var n=b.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(K){mf(b,e,K)}else n.current=null}function Ng(b,e,n){try{n()}catch(K){mf(b,e,K)}}function Yh(b,e){Wk=Hi;b=Cc();if(mc(b)){if("selectionStart"in
b)var n={start:b.selectionStart,end:b.selectionEnd};else a:{n=(n=b.ownerDocument)&&n.defaultView||window;var K=n.getSelection&&n.getSelection();if(K&&0!==K.rangeCount){n=K.anchorNode;var pa=K.anchorOffset,Ba=K.focusNode;K=K.focusOffset;try{n.nodeType,Ba.nodeType}catch(me){n=null;break a}var ub=0,wc=-1,Pc=-1,zd=0,ge=0,je=b,de=null;b:for(;;){for(var He;;){je!==n||0!==pa&&3!==je.nodeType||(wc=ub+pa);je!==Ba||0!==K&&3!==je.nodeType||(Pc=ub+K);3===je.nodeType&&(ub+=je.nodeValue.length);if(null===(He=je.firstChild))break;
de=je;je=He}for(;;){if(je===b)break b;de===n&&++zd===pa&&(wc=ub);de===Ba&&++ge===K&&(Pc=ub);if(null!==(He=je.nextSibling))break;je=de;de=je.parentNode}je=He}n=-1===wc||-1===Pc?null:{start:wc,end:Pc}}else n=null}n=n||{start:0,end:0}}else n=null;Xk={focusedElem:b,selectionRange:n};Hi=!1;for(Pe=e;null!==Pe;)if(e=Pe,b=e.child,0!==(e.subtreeFlags&1028)&&null!==b)b.return=e,Pe=b;else for(;null!==Pe;){e=Pe;try{var Te=e.alternate;if(0!==(e.flags&1024))switch(e.tag){case 0:case 11:case 15:break;case 1:if(null!==
Te){var Ye=Te.memoizedProps,ch=Te.memoizedState,md=e.stateNode,Tc=md.getSnapshotBeforeUpdate(e.elementType===e.type?Ye:ke(e.type,Ye),ch);md.__reactInternalSnapshotBeforeUpdate=Tc}break;case 3:var qd=e.stateNode.containerInfo;1===qd.nodeType?qd.textContent="":9===qd.nodeType&&qd.documentElement&&qd.removeChild(qd.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(v(163));}}catch(me){mf(e,e.return,me)}b=e.sibling;if(null!==b){b.return=e.return;Pe=b;break}Pe=e.return}Te=ql;
ql=!1;return Te}function fh(b,e,n){var K=e.updateQueue;K=null!==K?K.lastEffect:null;if(null!==K){var pa=K=K.next;do{if((pa.tag&b)===b){var Ba=pa.destroy;pa.destroy=void 0;void 0!==Ba&&Ng(e,n,Ba)}pa=pa.next}while(pa!==K)}}function Zg(b,e){e=e.updateQueue;e=null!==e?e.lastEffect:null;if(null!==e){var n=e=e.next;do{if((n.tag&b)===b){var K=n.create;n.destroy=K()}n=n.next}while(n!==e)}}function Yf(b){var e=b.ref;if(null!==e){var n=b.stateNode;switch(b.tag){case 5:b=n;break;default:b=n}"function"===typeof e?
e(b):e.current=b}}function Sg(b){var e=b.alternate;null!==e&&(b.alternate=null,Sg(e));b.child=null;b.deletions=null;b.sibling=null;5===b.tag&&(e=b.stateNode,null!==e&&(delete e[vi],delete e[xj],delete e[lk],delete e[Yk],delete e[$l]));b.stateNode=null;b.return=null;b.dependencies=null;b.memoizedProps=null;b.memoizedState=null;b.pendingProps=null;b.stateNode=null;b.updateQueue=null}function $g(b){return 5===b.tag||3===b.tag||4===b.tag}function qf(b){a:for(;;){for(;null===b.sibling;){if(null===b.return||
$g(b.return))return null;b=b.return}b.sibling.return=b.return;for(b=b.sibling;5!==b.tag&&6!==b.tag&&18!==b.tag;){if(b.flags&2)continue a;if(null===b.child||4===b.tag)continue a;else b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function ei(b,e,n){var K=b.tag;if(5===K||6===K)b=b.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(b,e):n.insertBefore(b,e):(8===n.nodeType?(e=n.parentNode,e.insertBefore(b,n)):(e=n,e.appendChild(b)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==
e.onclick||(e.onclick=yb));else if(4!==K&&(b=b.child,null!==b))for(ei(b,e,n),b=b.sibling;null!==b;)ei(b,e,n),b=b.sibling}function Og(b,e,n){var K=b.tag;if(5===K||6===K)b=b.stateNode,e?n.insertBefore(b,e):n.appendChild(b);else if(4!==K&&(b=b.child,null!==b))for(Og(b,e,n),b=b.sibling;null!==b;)Og(b,e,n),b=b.sibling}function bg(b,e,n){for(n=n.child;null!==n;)S(b,e,n),n=n.sibling}function S(b,e,n){if(si&&"function"===typeof si.onCommitFiberUnmount)try{si.onCommitFiberUnmount(ik,n)}catch(wc){}switch(n.tag){case 5:Eh||
Hg(n,e);case 6:var K=Ih,pa=qi;Ih=null;bg(b,e,n);Ih=K;qi=pa;null!==Ih&&(qi?(b=Ih,n=n.stateNode,8===b.nodeType?b.parentNode.removeChild(n):b.removeChild(n)):Ih.removeChild(n.stateNode));break;case 18:null!==Ih&&(qi?(b=Ih,n=n.stateNode,8===b.nodeType?$b(b.parentNode,n):1===b.nodeType&&$b(b,n),Yc(b)):$b(Ih,n.stateNode));break;case 4:K=Ih;pa=qi;Ih=n.stateNode.containerInfo;qi=!0;bg(b,e,n);Ih=K;qi=pa;break;case 0:case 11:case 14:case 15:if(!Eh&&(K=n.updateQueue,null!==K&&(K=K.lastEffect,null!==K))){pa=
K=K.next;do{var Ba=pa,ub=Ba.destroy;Ba=Ba.tag;void 0!==ub&&(0!==(Ba&2)?Ng(n,e,ub):0!==(Ba&4)&&Ng(n,e,ub));pa=pa.next}while(pa!==K)}bg(b,e,n);break;case 1:if(!Eh&&(Hg(n,e),K=n.stateNode,"function"===typeof K.componentWillUnmount))try{K.props=n.memoizedProps,K.state=n.memoizedState,K.componentWillUnmount()}catch(wc){mf(n,e,wc)}bg(b,e,n);break;case 21:bg(b,e,n);break;case 22:n.mode&1?(Eh=(K=Eh)||null!==n.memoizedState,bg(b,e,n),Eh=K):bg(b,e,n);break;default:bg(b,e,n)}}function xa(b){var e=b.updateQueue;
if(null!==e){b.updateQueue=null;var n=b.stateNode;null===n&&(n=b.stateNode=new am);e.forEach(function(K){var pa=ah.bind(null,b,K);n.has(K)||(n.add(K),K.then(pa,pa))})}}function Ta(b,e){var n=e.deletions;if(null!==n)for(var K=0;K<n.length;K++){var pa=n[K];try{var Ba=b,ub=e,wc=ub;a:for(;null!==wc;){switch(wc.tag){case 5:Ih=wc.stateNode;qi=!1;break a;case 3:Ih=wc.stateNode.containerInfo;qi=!0;break a;case 4:Ih=wc.stateNode.containerInfo;qi=!0;break a}wc=wc.return}if(null===Ih)throw Error(v(160));S(Ba,
ub,pa);Ih=null;qi=!1;var Pc=pa.alternate;null!==Pc&&(Pc.return=null);pa.return=null}catch(zd){mf(pa,e,zd)}}if(e.subtreeFlags&12854)for(e=e.child;null!==e;)p(e,b),e=e.sibling}function p(b,e){var n=b.alternate,K=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:Ta(e,b);R(b);if(K&4){try{fh(3,b,b.return),Zg(3,b)}catch(Ye){mf(b,b.return,Ye)}try{fh(5,b,b.return)}catch(Ye){mf(b,b.return,Ye)}}break;case 1:Ta(e,b);R(b);K&512&&null!==n&&Hg(n,n.return);break;case 5:Ta(e,b);R(b);K&512&&null!==n&&Hg(n,n.return);
if(b.flags&32){var pa=b.stateNode;try{Ga(pa,"")}catch(Ye){mf(b,b.return,Ye)}}if(K&4&&(pa=b.stateNode,null!=pa)){var Ba=b.memoizedProps,ub=null!==n?n.memoizedProps:Ba,wc=b.type,Pc=b.updateQueue;b.updateQueue=null;if(null!==Pc)try{"input"===wc&&"radio"===Ba.type&&null!=Ba.name&&lb(pa,Ba);q(wc,ub);var zd=q(wc,Ba);for(ub=0;ub<Pc.length;ub+=2){var ge=Pc[ub],je=Pc[ub+1];"style"===ge?ba(pa,je):"dangerouslySetInnerHTML"===ge?gg(pa,je):"children"===ge?Ga(pa,je):uc(pa,ge,je,zd)}switch(wc){case "input":mb(pa,
Ba);break;case "textarea":nb(pa,Ba);break;case "select":var de=pa._wrapperState.wasMultiple;pa._wrapperState.wasMultiple=!!Ba.multiple;var He=Ba.value;null!=He?sb(pa,!!Ba.multiple,He,!1):de!==!!Ba.multiple&&(null!=Ba.defaultValue?sb(pa,!!Ba.multiple,Ba.defaultValue,!0):sb(pa,!!Ba.multiple,Ba.multiple?[]:"",!1))}pa[xj]=Ba}catch(Ye){mf(b,b.return,Ye)}}break;case 6:Ta(e,b);R(b);if(K&4){if(null===b.stateNode)throw Error(v(162));pa=b.stateNode;Ba=b.memoizedProps;try{pa.nodeValue=Ba}catch(Ye){mf(b,b.return,
Ye)}}break;case 3:Ta(e,b);R(b);if(K&4&&null!==n&&n.memoizedState.isDehydrated)try{Yc(e.containerInfo)}catch(Ye){mf(b,b.return,Ye)}break;case 4:Ta(e,b);R(b);break;case 13:Ta(e,b);R(b);pa=b.child;pa.flags&8192&&(Ba=null!==pa.memoizedState,pa.stateNode.isHidden=Ba,!Ba||null!==pa.alternate&&null!==pa.alternate.memoizedState||(Zk=ih()));K&4&&xa(b);break;case 22:ge=null!==n&&null!==n.memoizedState;b.mode&1?(Eh=(zd=Eh)||ge,Ta(e,b),Eh=zd):Ta(e,b);R(b);if(K&8192){zd=null!==b.memoizedState;if((b.stateNode.isHidden=
zd)&&!ge&&0!==(b.mode&1))for(Pe=b,ge=b.child;null!==ge;){for(je=Pe=ge;null!==Pe;){de=Pe;He=de.child;switch(de.tag){case 0:case 11:case 14:case 15:fh(4,de,de.return);break;case 1:Hg(de,de.return);var Te=de.stateNode;if("function"===typeof Te.componentWillUnmount){K=de;n=de.return;try{e=K,Te.props=e.memoizedProps,Te.state=e.memoizedState,Te.componentWillUnmount()}catch(Ye){mf(K,n,Ye)}}break;case 5:Hg(de,de.return);break;case 22:if(null!==de.memoizedState){E(je);continue}}null!==He?(He.return=de,Pe=
He):E(je)}ge=ge.sibling}ge=null;je=b;a:for(;;){if(5===je.tag){if(null===ge){ge=je;try{pa=je.stateNode,zd?(Ba=pa.style,"function"===typeof Ba.setProperty?Ba.setProperty("display","none","important"):Ba.display="none"):(wc=je.stateNode,Pc=je.memoizedProps.style,ub=void 0!==Pc&&null!==Pc&&Pc.hasOwnProperty("display")?Pc.display:null,wc.style.display=eb("display",ub))}catch(Ye){mf(b,b.return,Ye)}}}else if(6===je.tag){if(null===ge)try{je.stateNode.nodeValue=zd?"":je.memoizedProps}catch(Ye){mf(b,b.return,
Ye)}}else if((22!==je.tag&&23!==je.tag||null===je.memoizedState||je===b)&&null!==je.child){je.child.return=je;je=je.child;continue}if(je===b)break a;for(;null===je.sibling;){if(null===je.return||je.return===b)break a;ge===je&&(ge=null);je=je.return}ge===je&&(ge=null);je.sibling.return=je.return;je=je.sibling}}break;case 19:Ta(e,b);R(b);K&4&&xa(b);break;case 21:break;default:Ta(e,b),R(b)}}function R(b){var e=b.flags;if(e&2){try{a:{for(var n=b.return;null!==n;){if($g(n))break a;n=n.return}throw Error(v(160));
}switch(n.tag){case 5:var K=n.stateNode;n.flags&32&&(Ga(K,""),n.flags&=-33);var pa=qf(b);Og(b,pa,K);break;case 3:case 4:var Ba=n.stateNode.containerInfo,ub=qf(b);ei(b,ub,Ba);break;default:throw Error(v(161));}}catch(wc){mf(b,b.return,wc)}b.flags&=-3}e&4096&&(b.flags&=-4097)}function ja(b,e,n){Pe=b;wa(b,e,n)}function wa(b,e,n){for(var K=0!==(b.mode&1);null!==Pe;){var pa=Pe,Ba=pa.child;if(22===pa.tag&&K){var ub=null!==pa.memoizedState||wk;if(!ub){var wc=pa.alternate,Pc=null!==wc&&null!==wc.memoizedState||
Eh;wc=wk;var zd=Eh;wk=ub;if((Eh=Pc)&&!zd)for(Pe=pa;null!==Pe;)ub=Pe,Pc=ub.child,22===ub.tag&&null!==ub.memoizedState?ia(pa):null!==Pc?(Pc.return=ub,Pe=Pc):ia(pa);for(;null!==Ba;)Pe=Ba,wa(Ba,e,n),Ba=Ba.sibling;Pe=pa;wk=wc;Eh=zd}r(b,e,n)}else 0!==(pa.subtreeFlags&8772)&&null!==Ba?(Ba.return=pa,Pe=Ba):r(b,e,n)}}function r(b){for(;null!==Pe;){var e=Pe;if(0!==(e.flags&8772)){var n=e.alternate;try{if(0!==(e.flags&8772))switch(e.tag){case 0:case 11:case 15:Eh||Zg(5,e);break;case 1:var K=e.stateNode;if(e.flags&
4&&!Eh)if(null===n)K.componentDidMount();else{var pa=e.elementType===e.type?n.memoizedProps:ke(e.type,n.memoizedProps);K.componentDidUpdate(pa,n.memoizedState,K.__reactInternalSnapshotBeforeUpdate)}var Ba=e.updateQueue;null!==Ba&&hd(e,Ba,K);break;case 3:var ub=e.updateQueue;if(null!==ub){n=null;if(null!==e.child)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hd(e,ub,n)}break;case 5:var wc=e.stateNode;if(null===n&&e.flags&4){n=wc;var Pc=e.memoizedProps;switch(e.type){case "button":case "input":case "select":case "textarea":Pc.autoFocus&&
n.focus();break;case "img":Pc.src&&(n.src=Pc.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===e.memoizedState){var zd=e.alternate;if(null!==zd){var ge=zd.memoizedState;if(null!==ge){var je=ge.dehydrated;null!==je&&Yc(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(v(163));}Eh||e.flags&512&&Yf(e)}catch(de){mf(e,e.return,de)}}if(e===b){Pe=null;break}n=e.sibling;if(null!==n){n.return=e.return;Pe=n;break}Pe=e.return}}function E(b){for(;null!==
Pe;){var e=Pe;if(e===b){Pe=null;break}var n=e.sibling;if(null!==n){n.return=e.return;Pe=n;break}Pe=e.return}}function ia(b){for(;null!==Pe;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zg(4,e)}catch(Pc){mf(e,n,Pc)}break;case 1:var K=e.stateNode;if("function"===typeof K.componentDidMount){var pa=e.return;try{K.componentDidMount()}catch(Pc){mf(e,pa,Pc)}}var Ba=e.return;try{Yf(e)}catch(Pc){mf(e,Ba,Pc)}break;case 5:var ub=e.return;try{Yf(e)}catch(Pc){mf(e,ub,Pc)}}}catch(Pc){mf(e,
e.return,Pc)}if(e===b){Pe=null;break}var wc=e.sibling;if(null!==wc){wc.return=e.return;Pe=wc;break}Pe=e.return}}function l(){return 0!==($f&6)?ih():-1!==xk?xk:xk=ih()}function z(b){if(0===(b.mode&1))return 1;if(0!==($f&2)&&0!==Tg)return Tg&-Tg;if(null!==bm.transition)return 0===yk&&(yk=qc()),yk;b=og;if(0!==b)return b;b=window.event;return b=void 0===b?16:vb(b.type)}function ca(b,e,n,K){if(50<jj)throw jj=0,bk=null,Error(v(185));dd(b,n,K);if(0===($f&2)||b!==Ah)b===Ah&&(0===($f&2)&&(zk|=n),4===xf&&Tb(b,
Tg)),na(b,K),1===n&&0===$f&&0===(e.mode&1)&&(ij=ih()+500,pk&&Ld())}function na(b,e){var n=b.callbackNode;Ib(b,e);var K=Ca(b,b===Ah?Tg:0);if(0===K)null!==n&&$k(n),b.callbackNode=null,b.callbackPriority=0;else if(e=K&-K,b.callbackPriority!==e){null!=n&&$k(n);if(1===e)0===b.tag?kd(Bd.bind(null,b)):td(Bd.bind(null,b)),Ak(function(){0===($f&6)&&Ld()}),n=null;else{switch(Pd(K)){case 1:n=Jk;break;case 4:n=Kk;break;case 16:n=Mj;break;case 536870912:n=Lk;break;default:n=Mj}n=hg(n,Va.bind(null,b))}b.callbackPriority=
e;b.callbackNode=n}}function Va(b,e){xk=-1;yk=0;if(0!==($f&6))throw Error(v(327));var n=b.callbackNode;if(lg()&&b.callbackNode!==n)return null;var K=Ca(b,b===Ah?Tg:0);if(0===K)return null;if(0!==(K&30)||0!==(K&b.expiredLanes)||e)e=Uf(b,K);else{e=K;var pa=$f;$f|=2;var Ba=Ze();if(Ah!==b||Tg!==e)zi=null,ij=ih()+500,Ce(b,e);do try{for(;null!==mh&&!rl();)ef(mh);break}catch(wc){ue(b,wc)}while(1);Vj=Mi=aj=null;Bk.current=Ba;$f=pa;null!==mh?e=0:(Ah=null,Tg=0,e=xf)}if(0!==e){2===e&&(pa=yc(b),0!==pa&&(K=pa,
e=Ya(b,pa)));if(1===e)throw n=uh,Ce(b,0),Tb(b,K),na(b,ih()),n;if(6===e)Tb(b,K);else{pa=b.current.alternate;if(0===(K&30)&&!ac(pa)&&(e=Uf(b,K),2===e&&(Ba=yc(b),0!==Ba&&(K=Ba,e=Ya(b,Ba))),1===e))throw n=uh,Ce(b,0),Tb(b,K),na(b,ih()),n;b.finishedWork=pa;b.finishedLanes=K;switch(e){case 0:case 1:throw Error(v(345));case 2:cg(b,Zh,zi);break;case 3:Tb(b,K);if((K&130023424)===K&&(e=Zk+500-ih(),10<e)){if(0!==Ca(b,0))break;pa=b.suspendedLanes;if((pa&K)!==K){l();b.pingedLanes|=b.suspendedLanes&pa;break}b.timeoutHandle=
al(cg.bind(null,b,Zh,zi),e);break}cg(b,Zh,zi);break;case 4:Tb(b,K);if((K&4194240)===K)break;e=b.eventTimes;for(pa=-1;0<K;){var ub=31-gi(K);Ba=1<<ub;ub=e[ub];ub>pa&&(pa=ub);K&=~Ba}K=pa;K=ih()-K;K=(120>K?120:480>K?480:1080>K?1080:1920>K?1920:3E3>K?3E3:4320>K?4320:1960*cm(K/1960))-K;if(10<K){b.timeoutHandle=al(cg.bind(null,b,Zh,zi),K);break}cg(b,Zh,zi);break;case 5:cg(b,Zh,zi);break;default:throw Error(v(329));}}}na(b,ih());return b.callbackNode===n?Va.bind(null,b):null}function Ya(b,e){var n=ck;b.current.memoizedState.isDehydrated&&
(Ce(b,e).flags|=256);b=Uf(b,e);2!==b&&(e=Zh,Zh=n,null!==e&&Gb(e));return b}function Gb(b){null===Zh?Zh=b:Zh.push.apply(Zh,b)}function ac(b){for(var e=b;;){if(e.flags&16384){var n=e.updateQueue;if(null!==n&&(n=n.stores,null!==n))for(var K=0;K<n.length;K++){var pa=n[K],Ba=pa.getSnapshot;pa=pa.value;try{if(!Vh(Ba(),pa))return!1}catch(ub){return!1}}}n=e.child;if(e.subtreeFlags&16384&&null!==n)n.return=e,e=n;else{if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return!0;e=e.return}e.sibling.return=
e.return;e=e.sibling}}return!0}function Tb(b,e){e&=~ri;e&=~zk;b.suspendedLanes|=e;b.pingedLanes&=~e;for(b=b.expirationTimes;0<e;){var n=31-gi(e),K=1<<n;b[n]=-1;e&=~K}}function Bd(b){if(0!==($f&6))throw Error(v(327));lg();var e=Ca(b,0);if(0===(e&1))return na(b,ih()),null;var n=Uf(b,e);if(0!==b.tag&&2===n){var K=yc(b);0!==K&&(e=K,n=Ya(b,K))}if(1===n)throw n=uh,Ce(b,0),Tb(b,e),na(b,ih()),n;if(6===n)throw Error(v(345));b.finishedWork=b.current.alternate;b.finishedLanes=e;cg(b,Zh,zi);na(b,ih());return null}
function Xc(b,e){var n=$f;$f|=1;try{return b(e)}finally{$f=n,0===$f&&(ij=ih()+500,pk&&Ld())}}function Rd(b){null!==Ri&&0===Ri.tag&&0===($f&6)&&lg();var e=$f;$f|=1;var n=li.transition,K=og;try{if(li.transition=null,og=1,b)return b()}finally{og=K,li.transition=n,$f=e,0===($f&6)&&Ld()}}function te(){di=ug.current;pd(ug)}function Ce(b,e){b.finishedWork=null;b.finishedLanes=0;var n=b.timeoutHandle;-1!==n&&(b.timeoutHandle=-1,bl(n));if(null!==mh)for(n=mh.return;null!==n;){var K=n;Me(K);switch(K.tag){case 1:K=
K.type.childContextTypes;null!==K&&void 0!==K&&pc();break;case 3:of();pd(Jg);pd(wh);Pf();break;case 5:we(K);break;case 4:of();break;case 13:pd(Yg);break;case 19:pd(Yg);break;case 10:O(K.type._context);break;case 22:case 23:te()}n=n.return}Ah=b;mh=b=Sh(b.current,null);Tg=di=e;xf=0;uh=null;ri=zk=Rh=0;Zh=ck=null;if(null!==gj){for(e=0;e<gj.length;e++)if(n=gj[e],K=n.interleaved,null!==K){n.interleaved=null;var pa=K.next,Ba=n.pending;if(null!==Ba){var ub=Ba.next;Ba.next=pa;K.next=ub}n.pending=K}gj=null}return b}
function ue(b,e){do{var n=mh;try{Vj=Mi=aj=null;Wj.current=sk;if(Yj){for(var K=wg.memoizedState;null!==K;){var pa=K.queue;null!==pa&&(pa.pending=null);K=K.next}Yj=!1}xi=0;zh=oh=wg=null;Xj=!1;Dj=0;dk.current=null;if(null===n||null===n.return){xf=1;uh=e;mh=null;break}a:{var Ba=b,ub=n.return,wc=n,Pc=e;e=Tg;wc.flags|=32768;if(null!==Pc&&"object"===typeof Pc&&"function"===typeof Pc.then){var zd=Pc,ge=wc,je=ge.tag;if(0===(ge.mode&1)&&(0===je||11===je||15===je)){var de=ge.alternate;de?(ge.updateQueue=de.updateQueue,
ge.memoizedState=de.memoizedState,ge.lanes=de.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var He=Eg(ub);if(null!==He){He.flags&=-257;tg(He,ub,wc,Ba,e);He.mode&1&&fg(Ba,zd,e);e=He;Pc=zd;var Te=e.updateQueue;if(null===Te){var Ye=new Set;Ye.add(Pc);e.updateQueue=Ye}else Te.add(Pc);break a}else{if(0===(e&1)){fg(Ba,zd,e);zf();break a}Pc=Error(v(426))}}else if(Kg&&wc.mode&1){var ch=Eg(ub);if(null!==ch){0===(ch.flags&65536)&&(ch.flags|=256);tg(ch,ub,wc,Ba,e);$d(ye(Pc,wc));break a}}Ba=Pc=ye(Pc,wc);
4!==xf&&(xf=2);null===ck?ck=[Ba]:ck.push(Ba);Ba=ub;do{switch(Ba.tag){case 3:Ba.flags|=65536;e&=-e;Ba.lanes|=e;var md=Bf(Ba,Pc,e);yd(Ba,md);break a;case 1:wc=Pc;var Tc=Ba.type,qd=Ba.stateNode;if(0===(Ba.flags&128)&&("function"===typeof Tc.getDerivedStateFromError||null!==qd&&"function"===typeof qd.componentDidCatch&&(null===pi||!pi.has(qd)))){Ba.flags|=65536;e&=-e;Ba.lanes|=e;var me=tf(Ba,wc,e);yd(Ba,me);break a}}Ba=Ba.return}while(null!==Ba)}bf(n)}catch(Fe){e=Fe;mh===n&&null!==n&&(mh=n.return);continue}break}while(1)}
function Ze(){var b=Bk.current;Bk.current=sk;return null===b?sk:b}function zf(){if(0===xf||3===xf||2===xf)xf=4;null===Ah||0===(Rh&268435455)&&0===(zk&268435455)||Tb(Ah,Tg)}function Uf(b,e){var n=$f;$f|=2;var K=Ze();if(Ah!==b||Tg!==e)zi=null,Ce(b,e);do try{for(;null!==mh;)ef(mh);break}catch(pa){ue(b,pa)}while(1);Vj=Mi=aj=null;$f=n;Bk.current=K;if(null!==mh)throw Error(v(261));Ah=null;Tg=0;return xf}function ef(b){var e=sl(b.alternate,b,di);b.memoizedProps=b.pendingProps;null===e?bf(b):mh=e;dk.current=
null}function bf(b){var e=b;do{var n=e.alternate;b=e.return;if(0===(e.flags&32768)){if(n=Nh(n,e,di),null!==n){mh=n;return}}else{n=Dh(n,e);if(null!==n){n.flags&=32767;mh=n;return}if(null!==b)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{xf=6;mh=null;return}}e=e.sibling;if(null!==e){mh=e;return}mh=e=b}while(null!==e);0===xf&&(xf=5)}function cg(b,e,n){var K=og,pa=li.transition;try{li.transition=null,og=1,vh(b,e,n,K)}finally{li.transition=pa,og=K}return null}function vh(b,e,n,K){do lg();while(null!==
Ri);if(0!==($f&6))throw Error(v(327));n=b.finishedWork;var pa=b.finishedLanes;if(null===n)return null;b.finishedWork=null;b.finishedLanes=0;if(n===b.current)throw Error(v(177));b.callbackNode=null;b.callbackPriority=0;var Ba=n.lanes|n.childLanes;Zb(b,Ba);b===Ah&&(mh=Ah=null,Tg=0);0===(n.subtreeFlags&2064)&&0===(n.flags&2064)||bj||(bj=!0,hg(Mj,function(){lg();return null}));Ba=0!==(n.flags&15990);if(0!==(n.subtreeFlags&15990)||Ba){Ba=li.transition;li.transition=null;var ub=og;og=1;var wc=$f;$f|=4;
dk.current=null;Yh(b,n);p(n,b);Hc(Xk);Hi=!!Wk;Xk=Wk=null;b.current=n;ja(n,b,pa);tl();$f=wc;og=ub;li.transition=Ba}else b.current=n;bj&&(bj=!1,Ri=b,cj=pa);Ba=b.pendingLanes;0===Ba&&(pi=null);Wa(n.stateNode,K);na(b,ih());if(null!==e)for(K=b.onRecoverableError,n=0;n<e.length;n++)pa=e[n],K(pa.value,{componentStack:pa.stack,digest:pa.digest});if(Zj)throw Zj=!1,b=uk,uk=null,b;0!==(cj&1)&&0!==b.tag&&lg();Ba=b.pendingLanes;0!==(Ba&1)?b===bk?jj++:(jj=0,bk=b):jj=0;Ld();return null}function lg(){if(null!==Ri){var b=
Pd(cj),e=li.transition,n=og;try{li.transition=null;og=16>b?16:b;if(null===Ri)var K=!1;else{b=Ri;Ri=null;cj=0;if(0!==($f&6))throw Error(v(331));var pa=$f;$f|=4;for(Pe=b.current;null!==Pe;){var Ba=Pe,ub=Ba.child;if(0!==(Pe.flags&16)){var wc=Ba.deletions;if(null!==wc){for(var Pc=0;Pc<wc.length;Pc++){var zd=wc[Pc];for(Pe=zd;null!==Pe;){var ge=Pe;switch(ge.tag){case 0:case 11:case 15:fh(8,ge,Ba)}var je=ge.child;if(null!==je)je.return=ge,Pe=je;else for(;null!==Pe;){ge=Pe;var de=ge.sibling,He=ge.return;
Sg(ge);if(ge===zd){Pe=null;break}if(null!==de){de.return=He;Pe=de;break}Pe=He}}}var Te=Ba.alternate;if(null!==Te){var Ye=Te.child;if(null!==Ye){Te.child=null;do{var ch=Ye.sibling;Ye.sibling=null;Ye=ch}while(null!==Ye)}}Pe=Ba}}if(0!==(Ba.subtreeFlags&2064)&&null!==ub)ub.return=Ba,Pe=ub;else a:for(;null!==Pe;){Ba=Pe;if(0!==(Ba.flags&2048))switch(Ba.tag){case 0:case 11:case 15:fh(9,Ba,Ba.return)}var md=Ba.sibling;if(null!==md){md.return=Ba.return;Pe=md;break a}Pe=Ba.return}}var Tc=b.current;for(Pe=Tc;null!==
Pe;){ub=Pe;var qd=ub.child;if(0!==(ub.subtreeFlags&2064)&&null!==qd)qd.return=ub,Pe=qd;else a:for(ub=Tc;null!==Pe;){wc=Pe;if(0!==(wc.flags&2048))try{switch(wc.tag){case 0:case 11:case 15:Zg(9,wc)}}catch(Fe){mf(wc,wc.return,Fe)}if(wc===ub){Pe=null;break a}var me=wc.sibling;if(null!==me){me.return=wc.return;Pe=me;break a}Pe=wc.return}}$f=pa;Ld();if(si&&"function"===typeof si.onPostCommitFiberRoot)try{si.onPostCommitFiberRoot(ik,b)}catch(Fe){}K=!0}return K}finally{og=n,li.transition=e}}return!1}function Mf(b,
e,n){e=ye(n,e);e=Bf(b,e,1);b=Wb(b,e,1);e=l();null!==b&&(dd(b,1,e),na(b,e))}function mf(b,e,n){if(3===b.tag)Mf(b,b,n);else for(;null!==e;){if(3===e.tag){Mf(e,b,n);break}else if(1===e.tag){var K=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof K.componentDidCatch&&(null===pi||!pi.has(K))){b=ye(n,b);b=tf(e,b,1);e=Wb(e,b,1);b=l();null!==e&&(dd(e,1,b),na(e,b));break}}e=e.return}}function Rf(b,e,n){var K=b.pingCache;null!==K&&K.delete(e);e=l();b.pingedLanes|=b.suspendedLanes&
n;Ah===b&&(Tg&n)===n&&(4===xf||3===xf&&(Tg&130023424)===Tg&&500>ih()-Zk?Ce(b,0):ri|=n);na(b,e)}function If(b,e){0===e&&(0===(b.mode&1)?e=1:(e=ek,ek<<=1,0===(ek&130023424)&&(ek=4194304)));var n=l();b=hb(b,e);null!==b&&(dd(b,e,n),na(b,n))}function Lf(b){var e=b.memoizedState,n=0;null!==e&&(n=e.retryLane);If(b,n)}function ah(b,e){var n=0;switch(b.tag){case 13:var K=b.stateNode,pa=b.memoizedState;null!==pa&&(n=pa.retryLane);break;case 19:K=b.stateNode;break;default:throw Error(v(314));}null!==K&&K.delete(e);
If(b,n)}function hg(b,e){return Tj(b,e)}function Fh(b,e,n,K){this.tag=b;this.key=n;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=e;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=K;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function pg(b,e,n,K){return new Fh(b,e,n,K)}function kh(b){b=b.prototype;return!(!b||!b.isReactComponent)}
function yg(b){if("function"===typeof b)return kh(b)?1:0;if(void 0!==b&&null!==b){b=b.$$typeof;if(b===Ef)return 11;if(b===Gh)return 14}return 2}function Sh(b,e){var n=b.alternate;null===n?(n=pg(b.tag,e,b.key,b.mode),n.elementType=b.elementType,n.type=b.type,n.stateNode=b.stateNode,n.alternate=b,b.alternate=n):(n.pendingProps=e,n.type=b.type,n.flags=0,n.subtreeFlags=0,n.deletions=null);n.flags=b.flags&14680064;n.childLanes=b.childLanes;n.lanes=b.lanes;n.child=b.child;n.memoizedProps=b.memoizedProps;
n.memoizedState=b.memoizedState;n.updateQueue=b.updateQueue;e=b.dependencies;n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext};n.sibling=b.sibling;n.index=b.index;n.ref=b.ref;return n}function Pi(b,e,n,K,pa,Ba){var ub=2;K=b;if("function"===typeof b)kh(b)&&(ub=1);else if("string"===typeof b)ub=5;else a:switch(b){case sd:return ci(n.children,pa,Ba,e);case xd:ub=8;pa|=8;break;case ze:return b=pg(12,n,e,pa|2),b.elementType=ze,b.lanes=Ba,b;case Zf:return b=pg(13,n,e,pa),b.elementType=
Zf,b.lanes=Ba,b;case ig:return b=pg(19,n,e,pa),b.elementType=ig,b.lanes=Ba,b;case uf:return ki(n,pa,Ba,e);default:if("object"===typeof b&&null!==b)switch(b.$$typeof){case oe:ub=10;break a;case We:ub=9;break a;case Ef:ub=11;break a;case Gh:ub=14;break a;case jg:ub=16;K=null;break a}throw Error(v(130,null==b?b:typeof b,""));}e=pg(ub,n,e,pa);e.elementType=b;e.type=K;e.lanes=Ba;return e}function ci(b,e,n,K){b=pg(7,b,K,e);b.lanes=n;return b}function ki(b,e,n,K){b=pg(22,b,K,e);b.elementType=uf;b.lanes=
n;b.stateNode={isHidden:!1};return b}function Oi(b,e,n){b=pg(6,b,null,e);b.lanes=n;return b}function Cg(b,e,n){e=pg(4,null!==b.children?b.children:[],b.key,e);e.lanes=n;e.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation};return e}function kj(b,e,n,K,pa){this.tag=e;this.containerInfo=b;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=
0;this.eventTimes=xc(0);this.expirationTimes=xc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=xc(0);this.identifierPrefix=K;this.onRecoverableError=pa;this.mutableSourceEagerHydrationData=null}function lj(b,e,n,K,pa,Ba,ub,wc,Pc){b=new kj(b,e,n,wc,Pc);1===e?(e=1,!0===Ba&&(e|=8)):e=0;Ba=pg(3,null,null,e);b.current=Ba;Ba.stateNode=b;Ba.memoizedState={element:K,isDehydrated:n,cache:null,transitions:null,
pendingSuspenseBoundaries:null};fc(Ba);return b}function Ai(b,e,n){var K=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:nc,key:null==K?null:""+K,children:b,containerInfo:e,implementation:n}}function Si(b){if(!b)return Ji;b=b._reactInternals;a:{if(Aa(b)!==b||1!==b.tag)throw Error(v(170));var e=b;do{switch(e.tag){case 3:e=e.stateNode.context;break a;case 1:if(db(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break a}}e=e.return}while(null!==e);throw Error(v(171));
}if(1===b.tag){var n=b.type;if(db(n))return Mc(b,n,e)}return e}function y(b,e,n,K,pa,Ba,ub,wc,Pc){b=lj(n,K,!0,b,pa,Ba,ub,wc,Pc);b.context=Si(null);n=b.current;K=l();pa=z(n);Ba=tc(K,pa);Ba.callback=void 0!==e&&null!==e?e:null;Wb(n,Ba,pa);b.current.lanes=pa;dd(b,pa,K);na(b,K);return b}function W(b,e,n,K){var pa=e.current,Ba=l(),ub=z(pa);n=Si(n);null===e.context?e.context=n:e.pendingContext=n;e=tc(Ba,ub);e.payload={element:b};K=void 0===K?null:K;null!==K&&(e.callback=K);b=Wb(pa,e,ub);null!==b&&(ca(b,
pa,ub,Ba),Dc(b,pa,ub));return ub}function ha(b){b=b.current;if(!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function Ma(b,e){b=b.memoizedState;if(null!==b&&null!==b.dehydrated){var n=b.retryLane;b.retryLane=0!==n&&n<e?n:e}}function zb(b,e){Ma(b,e);(b=b.alternate)&&Ma(b,e)}function Bb(){return null}function Qb(b){this._internalRoot=b}function lc(b){this._internalRoot=b}function Vc(b){return!(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType)}
function Kd(b){return!(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType&&(8!==b.nodeType||" react-mount-point-unstable "!==b.nodeValue))}function Sd(){}function ad(b,e,n,K,pa){if(pa){if("function"===typeof K){var Ba=K;K=function(){var zd=ha(ub);Ba.call(zd)}}var ub=y(e,K,b,0,null,!1,!1,"",Sd);b._reactRootContainer=ub;b[Ii]=ub.current;De(8===b.nodeType?b.parentNode:b);Rd();return ub}for(;pa=b.lastChild;)b.removeChild(pa);if("function"===typeof K){var wc=K;K=function(){var zd=ha(Pc);wc.call(zd)}}var Pc=
lj(b,0,!1,null,null,!1,!1,"",Sd);b._reactRootContainer=Pc;b[Ii]=Pc.current;De(8===b.nodeType?b.parentNode:b);Rd(function(){W(e,Pc,n,K)});return Pc}function ie(b,e,n,K,pa){var Ba=n._reactRootContainer;if(Ba){var ub=Ba;if("function"===typeof pa){var wc=pa;pa=function(){var Pc=ha(ub);wc.call(Pc)}}W(e,ub,b,pa)}else ub=ad(n,e,b,pa,K);return ha(ub)}var Ke=Db(2),Ue=Db(5),w=new Set,T={},aa=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),
Ea=Object.prototype.hasOwnProperty,rb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xb={},Lb={},Mb={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){Mb[b]=
new vc(b,0,!1,b,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var e=b[0];Mb[e]=new vc(e,1,!1,b[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(b){Mb[b]=new vc(b,2,!1,b.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){Mb[b]=new vc(b,2,!1,b,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){Mb[b]=
new vc(b,3,!1,b.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(b){Mb[b]=new vc(b,3,!0,b,null,!1,!1)});["capture","download"].forEach(function(b){Mb[b]=new vc(b,4,!1,b,null,!1,!1)});["cols","rows","size","span"].forEach(function(b){Mb[b]=new vc(b,6,!1,b,null,!1,!1)});["rowSpan","start"].forEach(function(b){Mb[b]=new vc(b,5,!1,b.toLowerCase(),null,!1,!1)});var Lc=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var e=
b.replace(Lc,Bc);Mb[e]=new vc(e,1,!1,b,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var e=b.replace(Lc,Bc);Mb[e]=new vc(e,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(b){var e=b.replace(Lc,Bc);Mb[e]=new vc(e,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(b){Mb[b]=new vc(b,1,!1,b.toLowerCase(),null,!1,!1)});Mb.xlinkHref=
new vc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(b){Mb[b]=new vc(b,1,!1,b.toLowerCase(),null,!0,!0)});var Dd=Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gd=Symbol.for("react.element"),nc=Symbol.for("react.portal"),sd=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),ze=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),We=Symbol.for("react.context"),Ef=Symbol.for("react.forward_ref"),
Zf=Symbol.for("react.suspense"),ig=Symbol.for("react.suspense_list"),Gh=Symbol.for("react.memo"),jg=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var uf=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Pg=Symbol.iterator,vg=Object.assign,Je,le=!1,Oe=Array.isArray,re,gg=function(b){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,K,pa){MSApp.execUnsafeLocalFunction(function(){return b(e,
n,K,pa)})}:b}(function(b,e){if("http://www.w3.org/2000/svg"!==b.namespaceURI||"innerHTML"in b)b.innerHTML=e;else{re=re||document.createElement("div");re.innerHTML="\x3csvg\x3e"+e.valueOf().toString()+"\x3c/svg\x3e";for(e=re.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;e.firstChild;)b.appendChild(e.firstChild)}}),Ig={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zg=["Webkit","ms","Moz","O"];Object.keys(Ig).forEach(function(b){zg.forEach(function(e){e=
e+b.charAt(0).toUpperCase()+b.substring(1);Ig[e]=Ig[b]})});var ng=vg({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Oh=null,fi=null,ej=null,qj=null,Gj=!1,ti=!1;if(aa)try{var mj={};Object.defineProperty(mj,"passive",{get:function(){ti=!0}});window.addEventListener("test",mj,mj);window.removeEventListener("test",mj,mj)}catch(b){ti=!1}var Hj=!1,Ij=null,rj=!1,Gk=null,Fk={onError:function(b){Hj=!0;Ij=b}},Tj=Ue.unstable_scheduleCallback,
$k=Ue.unstable_cancelCallback,rl=Ue.unstable_shouldYield,tl=Ue.unstable_requestPaint,ih=Ue.unstable_now,Jl=Ue.unstable_getCurrentPriorityLevel,Jk=Ue.unstable_ImmediatePriority,Kk=Ue.unstable_UserBlockingPriority,Mj=Ue.unstable_NormalPriority,Kl=Ue.unstable_LowPriority,Lk=Ue.unstable_IdlePriority,ik=null,si=null,gi=Math.clz32?Math.clz32:$a,Hl=Math.log,gl=Math.LN2,Jj=64,ek=4194304,og=0,Ik=!1,jk=[],Ti=null,Ui=null,Vi=null,Kj=new Map,sj=new Map,rg=[],ni="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
Wi=Dd.ReactCurrentBatchConfig,Hi=!0,Lj=null,Xi=null,Mk=null,Nj=null,nj={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pj=Za(nj),dj=vg({},nj,{view:0,detail:0}),Ql=Za(dj),fk,Ck,gk,oj=vg({},dj,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eb,button:0,buttons:0,relatedTarget:function(b){return void 0===b.relatedTarget?b.fromElement===b.srcElement?b.toElement:
b.fromElement:b.relatedTarget},movementX:function(b){if("movementX"in b)return b.movementX;b!==gk&&(gk&&"mousemove"===b.type?(fk=b.screenX-gk.screenX,Ck=b.screenY-gk.screenY):Ck=fk=0,gk=b);return fk},movementY:function(b){return"movementY"in b?b.movementY:Ck}}),il=Za(oj),dm=vg({},oj,{dataTransfer:0}),Nl=Za(dm),em=vg({},dj,{relatedTarget:0}),Sk=Za(em),fm=vg({},nj,{animationName:0,elapsedTime:0,pseudoElement:0}),Pl=Za(fm),gm=vg({},nj,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:
window.clipboardData}}),Rl=Za(gm),hm=vg({},nj,{data:0}),ok=Za(hm),im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},km=vg({},dj,{key:function(b){if(b.key){var e=im[b.key]||b.key;if("Unidentified"!==e)return e}return"keypress"===b.type?(b=F(b),13===b?"Enter":String.fromCharCode(b)):"keydown"===b.type||"keyup"===b.type?jm[b.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eb,charCode:function(b){return"keypress"===b.type?F(b):0},keyCode:function(b){return"keydown"===b.type||"keyup"===b.type?b.keyCode:0},which:function(b){return"keypress"===b.type?F(b):"keydown"===b.type||"keyup"===b.type?b.keyCode:0}}),Rk=Za(km),cl=vg({},oj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=Za(cl),ul=vg({},dj,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eb}),Ol=Za(ul),lm=vg({},nj,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tk=Za(lm),Bi=vg({},oj,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),vf=Za(Bi),Ag=[9,13,27,32],ce=aa&&"CompositionEvent"in window,jh=null;aa&&"documentMode"in document&&(jh=document.documentMode);
var Zi=aa&&"TextEvent"in window&&!jh,Nk=aa&&(!ce||jh&&8<jh&&11>=jh),kk=String.fromCharCode(32),Oj=!1,tj=!1,Ok={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},uj=null,Jh=null,Sj=!1;if(aa){if(aa){var dl="oninput"in document;if(!dl){var hk=document.createElement("div");hk.setAttribute("oninput","return;");dl="function"===typeof hk.oninput}var vl=dl}else vl=!1;Sj=vl&&(!document.documentMode||9<document.documentMode)}var Vh=
"function"===typeof Object.is?Object.is:ma,Sl=aa&&"documentMode"in document&&11>=document.documentMode,vj=null,Pk=null,nh=null,Qj=!1,wj={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},Rj={},oi={};aa&&(oi=document.createElement("div").style,"AnimationEvent"in window||(delete wj.animationend.animation,delete wj.animationiteration.animation,delete wj.animationstart.animation),
"TransitionEvent"in window||delete wj.transitionend.transition);for(var nk=vd("animationend"),jl=vd("animationiteration"),Yi=vd("animationstart"),ui=vd("transitionend"),Qk=new Map,wl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
mi=0;mi<wl.length;mi++){var Ej=wl[mi],xl=Ej.toLowerCase(),yl=Ej[0].toUpperCase()+Ej.slice(1);Gd(xl,"on"+yl)}Gd(nk,"onAnimationEnd");Gd(jl,"onAnimationIteration");Gd(Yi,"onAnimationStart");Gd("dblclick","onDoubleClick");Gd("focusin","onFocus");Gd("focusout","onBlur");Gd(ui,"onTransitionEnd");P("onMouseEnter",["mouseout","mouseover"]);P("onMouseLeave",["mouseout","mouseover"]);P("onPointerEnter",["pointerout","pointerover"]);P("onPointerLeave",["pointerout","pointerover"]);k("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
k("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));k("onBeforeInput",["compositionend","keypress","textInput","paste"]);k("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));k("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));k("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ak="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
Ml=new Set("cancel close invalid load scroll toggle".split(" ").concat(ak)),mk="_reactListening"+Math.random().toString(36).slice(2),Tl=/\r\n?/g,Ul=/\u0000|\uFFFD/g,Wk=null,Xk=null,al="function"===typeof setTimeout?setTimeout:void 0,bl="function"===typeof clearTimeout?clearTimeout:void 0,el="function"===typeof Promise?Promise:void 0,Ak="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof el?function(b){return el.resolve(null).then(b).catch(Ec)}:al,pj=Math.random().toString(36).slice(2),
vi="__reactFiber$"+pj,xj="__reactProps$"+pj,Ii="__reactContainer$"+pj,lk="__reactEvents$"+pj,Yk="__reactListeners$"+pj,$l="__reactHandles$"+pj,Kh=[],$i=-1,Ji={},wh=$c(Ji),Jg=$c(!1),$h=Ji,Ki=null,pk=!1,Li=!1,yj=[],zj=0,xh=null,Uj=0,Ph=[],Qh=0,fj=null,hi=1,ii="",ai=null,Lh=null,Kg=!1,bi=null,bm=Dd.ReactCurrentBatchConfig,Aj=$c(null),aj=null,Mi=null,Vj=null,gj=null,Ni=!1,Uk=(new Ke.Component).refs,qk={isMounted:function(b){return(b=b._reactInternals)?Aa(b)===b:!1},enqueueSetState:function(b,e,n){b=b._reactInternals;
var K=l(),pa=z(b),Ba=tc(K,pa);Ba.payload=e;void 0!==n&&null!==n&&(Ba.callback=n);e=Wb(b,Ba,pa);null!==e&&(ca(e,b,pa,K),Dc(e,b,pa))},enqueueReplaceState:function(b,e,n){b=b._reactInternals;var K=l(),pa=z(b),Ba=tc(K,pa);Ba.tag=1;Ba.payload=e;void 0!==n&&null!==n&&(Ba.callback=n);e=Wb(b,Ba,pa);null!==e&&(ca(e,b,pa,K),Dc(e,b,pa))},enqueueForceUpdate:function(b,e){b=b._reactInternals;var n=l(),K=z(b),pa=tc(n,K);pa.tag=2;void 0!==e&&null!==e&&(pa.callback=e);e=Wb(b,pa,K);null!==e&&(ca(e,b,K,n),Dc(e,b,K))}},
hj=he(!0),Vk=he(!1),Qi={},Th=$c(Qi),Cj=$c(Qi),Bj=$c(Qi),Yg=$c(0),rk=[],Wj=Dd.ReactCurrentDispatcher,tk=Dd.ReactCurrentBatchConfig,xi=0,wg=null,oh=null,zh=null,Yj=!1,Xj=!1,Dj=0,zl=0,sk={readContext:ka,useCallback:af,useContext:af,useEffect:af,useImperativeHandle:af,useInsertionEffect:af,useLayoutEffect:af,useMemo:af,useReducer:af,useRef:af,useState:af,useDebugValue:af,useDeferredValue:af,useTransition:af,useMutableSource:af,useSyncExternalStore:af,useId:af,unstable_isNewReconciler:!1},Vl={readContext:ka,
useCallback:function(b,e){jf().memoizedState=[b,void 0===e?null:e];return b},useContext:ka,useEffect:Rb,useImperativeHandle:function(b,e,n){n=null!==n&&void 0!==n?n.concat([b]):null;return ra(4194308,4,Re.bind(null,e,b),n)},useLayoutEffect:function(b,e){return ra(4194308,4,b,e)},useInsertionEffect:function(b,e){return ra(4,2,b,e)},useMemo:function(b,e){var n=jf();e=void 0===e?null:e;b=b();n.memoizedState=[b,e];return b},useReducer:function(b,e,n){var K=jf();e=void 0!==n?n(e):e;K.memoizedState=K.baseState=
e;b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:e};K.queue=b;b=b.dispatch=qg.bind(null,wg,b);return[K.memoizedState,b]},useRef:function(b){var e=jf();b={current:b};return e.memoizedState=b},useState:Vg,useDebugValue:Ff,useDeferredValue:function(b){return jf().memoizedState=b},useTransition:function(){var b=Vg(!1),e=b[0];b=Xf.bind(null,b[1]);jf().memoizedState=b;return[e,b]},useMutableSource:function(){},useSyncExternalStore:function(b,e,n){var K=wg,
pa=jf();if(Kg){if(void 0===n)throw Error(v(407));n=n()}else{n=e();if(null===Ah)throw Error(v(349));0!==(xi&30)||sg(K,e,n)}pa.memoizedState=n;var Ba={value:n,getSnapshot:e};pa.queue=Ba;Rb(Hf.bind(null,K,Ba,b),[b]);K.flags|=2048;Dg(9,Af.bind(null,K,Ba,n,e),void 0,null);return n},useId:function(){var b=jf(),e=Ah.identifierPrefix;if(Kg){var n=ii,K=hi;n=(K&~(1<<32-gi(K)-1)).toString(32)+n;e=":"+e+"R"+n;n=Dj++;0<n&&(e+="H"+n.toString(32));e+=":"}else n=zl++,e=":"+e+"r"+n.toString(32)+":";return b.memoizedState=
e},unstable_isNewReconciler:!1},ml={readContext:ka,useCallback:Ne,useContext:ka,useEffect:id,useImperativeHandle:pf,useInsertionEffect:od,useLayoutEffect:ne,useMemo:eg,useReducer:Qf,useRef:Wg,useState:function(){return Qf(Cf)},useDebugValue:Ff,useDeferredValue:function(b){var e=Qe();return Sf(e,oh.memoizedState,b)},useTransition:function(){var b=Qf(Cf)[0],e=Qe().memoizedState;return[b,e]},useMutableSource:Gf,useSyncExternalStore:Bg,useId:kg,unstable_isNewReconciler:!1},nl={readContext:ka,useCallback:Ne,
useContext:ka,useEffect:id,useImperativeHandle:pf,useInsertionEffect:od,useLayoutEffect:ne,useMemo:eg,useReducer:Jf,useRef:Wg,useState:function(){return Jf(Cf)},useDebugValue:Ff,useDeferredValue:function(b){var e=Qe();return null===oh?e.memoizedState=b:Sf(e,oh.memoizedState,b)},useTransition:function(){var b=Jf(Cf)[0],e=Qe().memoizedState;return[b,e]},useMutableSource:Gf,useSyncExternalStore:Bg,useId:kg,unstable_isNewReconciler:!1},Wl="function"===typeof WeakMap?WeakMap:Map,Xl=Dd.ReactCurrentOwner,
dh=!1,vk={dehydrated:null,treeContext:null,retryLane:0};var pl=function(b,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)b.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n;n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return;n=n.sibling}};var ol=function(){};var Yl=function(b,e,n,K){var pa=b.memoizedProps;if(pa!==K){b=e.stateNode;xe(Th.current);var Ba=null;switch(n){case "input":pa=
Da(b,pa);K=Da(b,K);Ba=[];break;case "select":pa=vg({},pa,{value:void 0});K=vg({},K,{value:void 0});Ba=[];break;case "textarea":pa=Pb(b,pa);K=Pb(b,K);Ba=[];break;default:"function"!==typeof pa.onClick&&"function"===typeof K.onClick&&(b.onclick=yb)}oa(n,K);var ub;n=null;for(zd in pa)if(!K.hasOwnProperty(zd)&&pa.hasOwnProperty(zd)&&null!=pa[zd])if("style"===zd){var wc=pa[zd];for(ub in wc)wc.hasOwnProperty(ub)&&(n||(n={}),n[ub]="")}else"dangerouslySetInnerHTML"!==zd&&"children"!==zd&&"suppressContentEditableWarning"!==
zd&&"suppressHydrationWarning"!==zd&&"autoFocus"!==zd&&(T.hasOwnProperty(zd)?Ba||(Ba=[]):(Ba=Ba||[]).push(zd,null));for(zd in K){var Pc=K[zd];wc=null!=pa?pa[zd]:void 0;if(K.hasOwnProperty(zd)&&Pc!==wc&&(null!=Pc||null!=wc))if("style"===zd)if(wc){for(ub in wc)!wc.hasOwnProperty(ub)||Pc&&Pc.hasOwnProperty(ub)||(n||(n={}),n[ub]="");for(ub in Pc)Pc.hasOwnProperty(ub)&&wc[ub]!==Pc[ub]&&(n||(n={}),n[ub]=Pc[ub])}else n||(Ba||(Ba=[]),Ba.push(zd,n)),n=Pc;else"dangerouslySetInnerHTML"===zd?(Pc=Pc?Pc.__html:
void 0,wc=wc?wc.__html:void 0,null!=Pc&&wc!==Pc&&(Ba=Ba||[]).push(zd,Pc)):"children"===zd?"string"!==typeof Pc&&"number"!==typeof Pc||(Ba=Ba||[]).push(zd,""+Pc):"suppressContentEditableWarning"!==zd&&"suppressHydrationWarning"!==zd&&(T.hasOwnProperty(zd)?(null!=Pc&&"onScroll"===zd&&Nd("scroll",b),Ba||wc===Pc||(Ba=[])):(Ba=Ba||[]).push(zd,Pc))}n&&(Ba=Ba||[]).push("style",n);var zd;if(e.updateQueue=Ba)e.flags|=4}};var Zl=function(b,e,n,K){n!==K&&(e.flags|=4)};var wk=!1,Eh=!1,am="function"===typeof WeakSet?
WeakSet:Set,Pe=null,ql=!1,Ih=null,qi=!1,cm=Math.ceil,Bk=Dd.ReactCurrentDispatcher,dk=Dd.ReactCurrentOwner,li=Dd.ReactCurrentBatchConfig,$f=0,Ah=null,mh=null,Tg=0,di=0,ug=$c(0),xf=0,uh=null,Rh=0,zk=0,ri=0,ck=null,Zh=null,Zk=0,ij=Infinity,zi=null,Zj=!1,uk=null,pi=null,bj=!1,Ri=null,cj=0,jj=0,bk=null,xk=-1,yk=0;var sl=function(b,e,n){if(null!==b)if(b.memoizedProps!==e.pendingProps||Jg.current)dh=!0;else{if(0===(b.lanes&n)&&0===(e.flags&128))return dh=!1,lh(b,e,n);dh=0!==(b.flags&131072)?!0:!1}else dh=
!1,Kg&&0!==(e.flags&1048576)&&be(e,Uj,e.index);e.lanes=0;switch(e.tag){case 2:var K=e.type;Rg(b,e);b=e.pendingProps;var pa=Ra(e,wh.current);H(e,n);pa=Vd(null,e,K,b,pa,n);var Ba=hf();e.flags|=1;"object"===typeof pa&&null!==pa&&"function"===typeof pa.render&&void 0===pa.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,db(K)?(Ba=!0,Uc(e)):Ba=!1,e.memoizedState=null!==pa.state&&void 0!==pa.state?pa.state:null,fc(e),pa.updater=qk,e.stateNode=pa,pa._reactInternals=e,Ge(e,K,b,n),e=Xg(null,e,K,!0,
Ba,n)):(e.tag=0,Kg&&Ba&&ve(e),Df(null,e,pa,n),e=e.child);return e;case 16:K=e.elementType;a:{Rg(b,e);b=e.pendingProps;pa=K._init;K=pa(K._payload);e.type=K;pa=e.tag=yg(K);b=ke(K,b);switch(pa){case 0:e=rh(null,e,K,b,n);break a;case 1:e=Hh(null,e,K,b,n);break a;case 11:e=Qg(null,e,K,b,n);break a;case 14:e=Mg(null,e,K,ke(K.type,b),n);break a}throw Error(v(306,K,""));}return e;case 0:return K=e.type,pa=e.pendingProps,pa=e.elementType===K?pa:ke(K,pa),rh(b,e,K,pa,n);case 1:return K=e.type,pa=e.pendingProps,
pa=e.elementType===K?pa:ke(K,pa),Hh(b,e,K,pa,n);case 3:a:{sh(e);if(null===b)throw Error(v(387));K=e.pendingProps;Ba=e.memoizedState;pa=Ba.element;rc(b,e);Zc(e,K,null,n);var ub=e.memoizedState;K=ub.element;if(Ba.isDehydrated)if(Ba={element:K,isDehydrated:!1,cache:ub.cache,pendingSuspenseBoundaries:ub.pendingSuspenseBoundaries,transitions:ub.transitions},e.updateQueue.baseState=Ba,e.memoizedState=Ba,e.flags&256){pa=ye(Error(v(423)),e);Zd();$d(pa);e.flags|=256;Df(b,e,K,n);e=e.child;break a}else if(K!==
pa){pa=ye(Error(v(424)),e);Zd();$d(pa);e.flags|=256;Df(b,e,K,n);e=e.child;break a}else for(Lh=J(e.stateNode.containerInfo.firstChild),ai=e,Kg=!0,bi=null,n=Vk(e,null,K,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{Zd();if(K===pa){e=hh(b,e,n);break a}Df(b,e,K,n)}e=e.child}return e;case 5:return Ve(e),null===b&&Fc(e),K=e.type,pa=e.pendingProps,Ba=null!==b?b.memoizedProps:null,ub=pa.children,gc(K,pa)?ub=null:null!==Ba&&gc(K,Ba)&&(e.flags|=32),Wh(b,e),Df(b,e,ub,n),e.child;case 6:return null===
b&&Fc(e),null;case 13:return ji(b,e,n);case 4:return Le(e,e.stateNode.containerInfo),K=e.pendingProps,null===b?e.child=hj(e,null,K,n):Df(b,e,K,n),e.child;case 11:return K=e.type,pa=e.pendingProps,pa=e.elementType===K?pa:ke(K,pa),Qg(b,e,K,pa,n);case 7:return Df(b,e,e.pendingProps,n),e.child;case 8:return Df(b,e,e.pendingProps.children,n),e.child;case 12:return Df(b,e,e.pendingProps.children,n),e.child;case 10:a:{K=e.type._context;pa=e.pendingProps;Ba=e.memoizedProps;ub=pa.value;ee(Aj,K._currentValue);
K._currentValue=ub;if(null!==Ba)if(Vh(Ba.value,ub)){if(Ba.children===pa.children&&!Jg.current){e=hh(b,e,n);break a}}else for(Ba=e.child,null!==Ba&&(Ba.return=e);null!==Ba;){var wc=Ba.dependencies;if(null!==wc){ub=Ba.child;for(var Pc=wc.firstContext;null!==Pc;){if(Pc.context===K){if(1===Ba.tag){Pc=tc(-1,n&-n);Pc.tag=2;var zd=Ba.updateQueue;if(null!==zd){zd=zd.shared;var ge=zd.pending;null===ge?Pc.next=Pc:(Pc.next=ge.next,ge.next=Pc);zd.pending=Pc}}Ba.lanes|=n;Pc=Ba.alternate;null!==Pc&&(Pc.lanes|=
n);da(Ba.return,n,e);wc.lanes|=n;break}Pc=Pc.next}}else if(10===Ba.tag)ub=Ba.type===e.type?null:Ba.child;else if(18===Ba.tag){ub=Ba.return;if(null===ub)throw Error(v(341));ub.lanes|=n;wc=ub.alternate;null!==wc&&(wc.lanes|=n);da(ub,n,e);ub=Ba.sibling}else ub=Ba.child;if(null!==ub)ub.return=Ba;else for(ub=Ba;null!==ub;){if(ub===e){ub=null;break}Ba=ub.sibling;if(null!==Ba){Ba.return=ub.return;ub=Ba;break}ub=ub.return}Ba=ub}Df(b,e,pa.children,n);e=e.child}return e;case 9:return pa=e.type,K=e.pendingProps.children,
H(e,n),pa=ka(pa),K=K(pa),e.flags|=1,Df(b,e,K,n),e.child;case 14:return K=e.type,pa=ke(K,e.pendingProps),pa=ke(K.type,pa),Mg(b,e,K,pa,n);case 15:return qh(b,e,e.type,e.pendingProps,n);case 17:return K=e.type,pa=e.pendingProps,pa=e.elementType===K?pa:ke(K,pa),Rg(b,e),e.tag=1,db(K)?(b=!0,Uc(e)):b=!1,H(e,n),Oc(e,K,pa),Ge(e,K,pa,n),Xg(null,e,K,!0,b,n);case 19:return Xh(b,e,n);case 22:return xg(b,e,n)}throw Error(v(156,e.tag));};var Al="function"===typeof reportError?reportError:function(b){console.error(b)};
lc.prototype.render=Qb.prototype.render=function(b){var e=this._internalRoot;if(null===e)throw Error(v(409));W(b,e,null,null)};lc.prototype.unmount=Qb.prototype.unmount=function(){var b=this._internalRoot;if(null!==b){this._internalRoot=null;var e=b.containerInfo;Rd(function(){W(null,b,null,null)});e[Ii]=null}};lc.prototype.unstable_scheduleHydration=function(b){if(b){var e=Bl();b={blockedOn:null,target:b,priority:e};for(var n=0;n<rg.length&&0!==e&&e<rg[n].priority;n++);rg.splice(n,0,b);0===n&&Sb(b)}};
var hl=function(b){switch(b.tag){case 3:var e=b.stateNode;if(e.current.memoizedState.isDehydrated){var n=X(e.pendingLanes);0!==n&&(Rc(e,n|1),na(e,ih()),0===($f&6)&&(ij=ih()+500,Ld()))}break;case 13:Rd(function(){var K=hb(b,1);if(null!==K){var pa=l();ca(K,b,1,pa)}}),zb(b,1)}};var Hk=function(b){if(13===b.tag){var e=hb(b,134217728);if(null!==e){var n=l();ca(e,b,134217728,n)}zb(b,134217728)}};var Il=function(b){if(13===b.tag){var e=z(b),n=hb(b,e);if(null!==n){var K=l();ca(n,b,e,K)}zb(b,e)}};var Bl=function(){return og};
var Gi=function(b,e){var n=og;try{return og=b,e()}finally{og=n}};fi=function(b,e,n){switch(e){case "input":mb(b,n);e=n.name;if("radio"===n.type&&null!=e){for(n=b;n.parentNode;)n=n.parentNode;n=n.querySelectorAll("input[name\x3d"+JSON.stringify(""+e)+'][type\x3d"radio"]');for(e=0;e<n.length;e++){var K=n[e];if(K!==b&&K.form===b.form){var pa=Ac(K);if(!pa)throw Error(v(90));pb(K);mb(K,pa)}}}break;case "textarea":nb(b,n);break;case "select":e=n.value,null!=e&&sb(b,!!n.multiple,e,!1)}};m=Xc;C=Rd;var Ci=
{usingClientEntryPoint:!1,Events:[cc,Jc,Ac,g,u,Xc]},Di={findFiberByHostInstance:Sa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Uh={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,
currentDispatcherRef:Dd.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){b=va(b);return null===b?null:b.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance||Bb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ei=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ei.isDisabled&&Ei.supportsFiber)try{ik=Ei.inject(Uh),si=
Ei}catch(b){}}ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ci;ob.createPortal=function(b,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(e))throw Error(v(200));return Ai(b,e,null,n)};ob.createRoot=function(b,e){if(!Vc(b))throw Error(v(299));var n=!1,K="",pa=Al;null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(K=e.identifierPrefix),void 0!==e.onRecoverableError&&(pa=e.onRecoverableError));e=lj(b,1,!1,null,null,n,!1,K,pa);b[Ii]=
e.current;De(8===b.nodeType?b.parentNode:b);return new Qb(e)};ob.findDOMNode=function(b){if(null==b)return null;if(1===b.nodeType)return b;var e=b._reactInternals;if(void 0===e){if("function"===typeof b.render)throw Error(v(188));b=Object.keys(b).join(",");throw Error(v(268,b));}b=va(e);return b=null===b?null:b.stateNode};ob.flushSync=function(b){return Rd(b)};ob.hydrate=function(b,e,n){if(!Kd(e))throw Error(v(200));return ie(null,b,e,!0,n)};ob.hydrateRoot=function(b,e,n){if(!Vc(b))throw Error(v(405));
var K=null!=n&&n.hydratedSources||null,pa=!1,Ba="",ub=Al;null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(pa=!0),void 0!==n.identifierPrefix&&(Ba=n.identifierPrefix),void 0!==n.onRecoverableError&&(ub=n.onRecoverableError));e=y(e,null,b,1,null!=n?n:null,pa,!1,Ba,ub);b[Ii]=e.current;De(b);if(K)for(b=0;b<K.length;b++)n=K[b],pa=n._getVersion,pa=pa(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,pa]:e.mutableSourceEagerHydrationData.push(n,pa);return new lc(e)};
ob.render=function(b,e,n){if(!Kd(e))throw Error(v(200));return ie(null,b,e,!1,n)};ob.unmountComponentAtNode=function(b){if(!Kd(b))throw Error(v(40));return b._reactRootContainer?(Rd(function(){ie(null,null,b,!1,function(){b._reactRootContainer=null;b[Ii]=null})}),!0):!1};ob.unstable_batchedUpdates=Xc;ob.unstable_renderSubtreeIntoContainer=function(b,e,n,K){if(!Kd(n))throw Error(v(200));if(null==b||void 0===b._reactInternals)throw Error(v(38));return ie(b,e,n,!1,K)};ob.version="18.2.0-next-9e3b772b8-20220608"};
shadow$provide[8]=function(hc,Db,Wc,ob){function v(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v)}catch(k){console.error(k)}}v();Wc.exports=Db(6)};
shadow$provide[13]=function(hc,Db,Wc,ob){Wc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[17]=function(hc,Db,Wc,ob){function v(){}function k(){}var P=Db(13);k.resetWarningCache=v;Wc.exports=function(){function jb(vc,Bc,uc,Ab,kc,Yb){if(Yb!==P)throw vc=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),vc.name="Invariant Violation",vc;}function Fb(){return jb}jb.isRequired=jb;var bc={array:jb,bigint:jb,bool:jb,func:jb,number:jb,object:jb,string:jb,
symbol:jb,any:jb,arrayOf:Fb,element:jb,elementType:jb,instanceOf:Fb,node:jb,objectOf:Fb,oneOf:Fb,oneOfType:Fb,shape:Fb,exact:Fb,checkPropTypes:k,resetWarningCache:v};return bc.PropTypes=bc}};
shadow$provide[18]=function(hc,Db,Wc,ob){Wc.exports=Db(17)()};
shadow$provide[19]=function(hc,Db,Wc,ob){ob.__esModule=!0;ob.default=function(k,P){void 0===k&&(k=v);void 0===P&&(P=v);const jb=Object.keys(k),Fb=Object.keys(P);return k===P||jb.length===Fb.length&&jb.every(bc=>k[bc]===P[bc])};const v={}};
shadow$provide[20]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function k(B,A,D){B.fields=A||[];B.fname=D;return B}function P(B){return null==B?null:B.fields}function jb(B){return 1===B.length?mb(B[0]):Pa(B)}function Fb(B){throw Error(B);}function bc(B){function A(){D.push(Y+B.substring(t,L));Y="";t=L+1}const D=
[],I=B.length;let V=null,Aa=0,Y="",t,L,va;B+="";for(t=L=0;L<I;++L)(va=B[L],"\\"===va)?(Y+=B.substring(t,L++),t=L):va===V?(A(),V=null,Aa=-1):V||(t===Aa&&'"'===va?(t=L+1,V=va):t===Aa&&"'"===va?(t=L+1,V=va):"."!==va||Aa?"["===va?(L>t&&A(),Aa=t=L+1):"]"===va&&(Aa||Fb("Access path missing open bracket: "+B),0<Aa&&A(),Aa=0,t=L+1):L>t?A():t=L+1);Aa&&Fb("Access path missing closing bracket: "+B);V&&Fb("Access path missing closing quote: "+B);L>t&&(L++,A());return D}function vc(B,A,D){const I=bc(B);B=1===
I.length?I[0]:B;return k((D&&D.get||jb)(I),[B],A||B)}function Bc(B,A,D){A=[A].concat([].slice.call(D));console[B].apply(console,A)}function uc(B){return B===Object(B)}function Ab(B,A,D,I){if("__proto__"!==A){var V;if(uc(D)&&!Z(D))for(V in B=uc(B[A])?B[A]:B[A]={},D)I&&(!0===I||I[V])?Ab(B,V,D[V]):"__proto__"!==V&&(B[V]=D[V]);else B[A]=D}}function kc(B,A){function D(Aa){I[Aa.name]||(I[Aa.name]=1,V.push(Aa))}if(null==B)return A;const I={},V=[];A.forEach(D);B.forEach(D);return V}function Yb(B){return B[B.length-
1]}function Ua(B){return null==B||""===B?null:+B}function tb(B,A,D,I){const V=D(B[0]);B=D(Yb(B));A*=B-V;return[I(V-A),I(B-A)]}function Jb(B,A,D,I,V){const Aa=I(B[0]);B=I(Yb(B));A=null!=A?I(A):(Aa+B)/2;return[V(A+(Aa-A)*D),V(A+(B-A)*D)]}function Kb(B){return null!=B?Z(B)?B:[B]:[]}function Cb(B){return"function"===typeof B}function Ob(B){for(let A,D,I=1,V=arguments.length;I<V;++I)for(D in A=arguments[I],A)B[D]=A[D];return B}function ab(B,A){return u.call(B,A)}function pb(B){return"[object Date]"===
Object.prototype.toString.call(B)}function Qa(B){return"number"===typeof B}function Da(B){return"string"===typeof B}function Ka(B,A){let D="";for(;0<=--A;)D+=B;return D}function lb(B){return Z(B)?"["+B.map(lb)+"]":uc(B)||Da(B)?JSON.stringify(B).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):B}const mb=B=>function(A){return A[B]},Pa=B=>{const A=B.length;return function(D){for(let I=0;I<A;++I)D=D[B[I]];return D}},wb=vc("id"),sb=k(B=>B,[],"identity"),Pb=k(()=>0,[],"zero"),Vb=k(()=>1,[],"one"),
nb=k(()=>!0,[],"true"),qa=k(()=>!1,[],"false");var Z=Array.isArray;const Fa=B=>A=>B*Math.exp(A),Ga=B=>A=>Math.log(B*A),eb=B=>A=>Math.sign(A)*Math.log1p(Math.abs(A/B)),ba=B=>A=>Math.sign(A)*Math.expm1(Math.abs(A))*B,oa=B=>A=>0>A?-Math.pow(-A,B):Math.pow(A,B),q=(B,A)=>(B<A||null==B)&&null!=A?-1:(B>A||null==A)&&null!=B?1:(A=A instanceof Date?+A:A,B=B instanceof Date?+B:B)!==B&&A===A?-1:A!==A&&B===B?1:0,M=(B,A)=>1===B.length?Q(B[0],A[0]):g(B,A,B.length),Q=(B,A)=>function(D,I){return q(B(D),B(I))*A},g=
(B,A,D)=>{A.push(0);return function(I,V){var Aa=0;let Y=-1;for(;0===Aa&&++Y<D;)Aa=B[Y],Aa=q(Aa(I),Aa(V));return Aa*A[Y]}},u=Object.prototype.hasOwnProperty,m={},C=B=>Qa(B)?B:pb(B)?B:Date.parse(B);v.Debug=4;v.Error=1;v.Info=3;v.None=0;v.Warn=2;v.accessor=k;v.accessorFields=P;v.accessorName=function(B){return null==B?null:B.fname};v.array=Kb;v.ascending=q;v.clampRange=function(B,A,D){let I=B[0];B=B[1];let V;B<I&&(V=B,B=I,I=V);V=B-I;return V>=D-A?[A,D]:[I=Math.min(Math.max(I,A),D-V),I+V]};v.compare=
function(B,A,D){D=D||{};A=Kb(A)||[];const I=[],V=[],Aa={},Y=D.comparator||M;Kb(B).forEach((t,L)=>{null!=t&&(I.push("descending"===A[L]?-1:1),V.push(t=Cb(t)?t:vc(t,null,D)),(P(t)||[]).forEach(va=>Aa[va]=1))});return 0===V.length?null:k(Y(V,I),Object.keys(Aa))};v.constant=function(B){return Cb(B)?B:()=>B};v.debounce=function(B,A){let D;return I=>{D&&clearTimeout(D);D=setTimeout(()=>(A(I),D=null),B)}};v.error=Fb;v.extend=Ob;v.extent=function(B,A){let D=0,I,V,Aa,Y;if(B&&(I=B.length))if(null==A){for(V=
B[D];D<I&&(null==V||V!==V);V=B[++D]);for(Aa=Y=V;D<I;++D)V=B[D],null!=V&&(V<Aa&&(Aa=V),V>Y&&(Y=V))}else{for(V=A(B[D]);D<I&&(null==V||V!==V);V=A(B[++D]));for(Aa=Y=V;D<I;++D)V=A(B[D]),null!=V&&(V<Aa&&(Aa=V),V>Y&&(Y=V))}return[Aa,Y]};v.extentIndex=function(B,A){const D=B.length;let I=-1,V,Aa,Y,t,L;if(null==A){for(;++I<D;)if(Aa=B[I],null!=Aa&&Aa>=Aa){V=Y=Aa;break}if(I===D)return[-1,-1];for(t=L=I;++I<D;)Aa=B[I],null!=Aa&&(V>Aa&&(V=Aa,t=I),Y<Aa&&(Y=Aa,L=I))}else{for(;++I<D;)if(Aa=A(B[I],I,B),null!=Aa&&Aa>=
Aa){V=Y=Aa;break}if(I===D)return[-1,-1];for(t=L=I;++I<D;)Aa=A(B[I],I,B),null!=Aa&&(V>Aa&&(V=Aa,t=I),Y<Aa&&(Y=Aa,L=I))}return[t,L]};v.falsy=qa;v.fastmap=function(B){function A(Aa){return ab(D,Aa)&&D[Aa]!==m}let D={},I;const V={size:0,empty:0,object:D,has:A,get(Aa){return A(Aa)?D[Aa]:void 0},set(Aa,Y){A(Aa)||(++V.size,D[Aa]===m&&--V.empty);D[Aa]=Y;return this},delete(Aa){A(Aa)&&(--V.size,++V.empty,D[Aa]=m);return this},clear(){V.size=V.empty=0;V.object=D={}},test(Aa){return arguments.length?(I=Aa,V):
I},clean(){const Aa={};let Y=0;for(const t in D){const L=D[t];L===m||I&&I(L)||(Aa[t]=L,++Y)}V.size=Y;V.empty=0;V.object=D=Aa}};B&&Object.keys(B).forEach(Aa=>{V.set(Aa,B[Aa])});return V};v.field=vc;v.flush=function(B,A,D,I,V,Aa){if(!D&&0!==D)return Aa;D=+D;let Y=B[0],t=Yb(B);t<Y&&(B=Y,Y=t,t=B);B=Math.abs(A-Y);A=Math.abs(t-A);return B<A&&B<=D?I:A<=D?V:Aa};v.hasOwnProperty=ab;v.id=wb;v.identity=sb;v.inherits=function(B,A,D){A=B.prototype=Object.create(A.prototype);Object.defineProperty(A,"constructor",
{value:B,writable:!0,enumerable:!0,configurable:!0});return Ob(A,D)};v.inrange=function(B,A,D,I){let V=A[0];A=A[A.length-1];let Aa;V>A&&(Aa=V,V=A,A=Aa);return(void 0===D||D?V<=B:V<B)&&(void 0===I||I?B<=A:B<A)};v.isArray=Z;v.isBoolean=function(B){return"boolean"===typeof B};v.isDate=pb;v.isFunction=Cb;v.isIterable=function(B){return B&&Cb(B[Symbol.iterator])};v.isNumber=Qa;v.isObject=uc;v.isRegExp=function(B){return"[object RegExp]"===Object.prototype.toString.call(B)};v.isString=Da;v.key=function(B,
A,D){B&&(B=A?Kb(B).map(Aa=>Aa.replace(/\\(.)/g,"$1")):Kb(B));const I=B&&B.length,V=D&&D.get||jb;D=Aa=>V(A?[Aa]:bc(Aa));if(I)if(1===I){const Aa=D(B[0]);D=function(Y){return""+Aa(Y)}}else{const Aa=B.map(D);D=function(Y){let t=""+Aa[0](Y),L=0;for(;++L<I;)t+="|"+Aa[L](Y);return t}}else D=function(){return""};return k(D,B,"key")};v.lerp=function(B,A){const D=B[0];B=Yb(B);return(A=+A)?1===A?B:D+A*(B-D):D};v.logger=function(B,A,D=Bc){let I=B||0;return{level(V){return arguments.length?(I=+V,this):I},error(){1<=
I&&D(A||"error","ERROR",arguments);return this},warn(){2<=I&&D(A||"warn","WARN",arguments);return this},info(){3<=I&&D(A||"log","INFO",arguments);return this},debug(){4<=I&&D(A||"log","DEBUG",arguments);return this}}};v.lruCache=function(B){B=+B||1E4;let A,D,I;const V=()=>{A={};D={};I=0},Aa=(Y,t)=>{++I>B&&(D=A,A={},I=1);return A[Y]=t};V();return{clear:V,has:Y=>ab(A,Y)||ab(D,Y),get:Y=>ab(A,Y)?A[Y]:ab(D,Y)?Aa(Y,D[Y]):void 0,set:(Y,t)=>ab(A,Y)?A[Y]=t:Aa(Y,t)}};v.merge=function(B,A,D,I){const V=A.length,
Aa=D.length;if(!Aa)return A;if(!V)return D;I=I||new A.constructor(V+Aa);let Y=0,t=0,L=0;for(;Y<V&&t<Aa;++L)I[L]=0<B(A[Y],D[t])?D[t++]:A[Y++];for(;Y<V;++Y,++L)I[L]=A[Y];for(;t<Aa;++t,++L)I[L]=D[t];return I};v.mergeConfig=function(...B){return B.reduce((A,D)=>{for(const I in D)"signals"===I?A.signals=kc(A.signals,D.signals):Ab(A,I,D[I],"legend"===I?{layout:1}:"style"===I?!0:null);return A},{})};v.one=Vb;v.pad=function(B,A,D,I){D=D||" ";B+="";A-=B.length;return 0>=A?B:"left"===I?Ka(D,A)+B:"center"===
I?Ka(D,~~(A/2))+B+Ka(D,Math.ceil(A/2)):B+Ka(D,A)};v.panLinear=function(B,A){return tb(B,A,Ua,sb)};v.panLog=function(B,A){var D=Math.sign(B[0]);return tb(B,A,Ga(D),Fa(D))};v.panPow=function(B,A,D){return tb(B,A,oa(D),oa(1/D))};v.panSymlog=function(B,A,D){return tb(B,A,eb(D),ba(D))};v.peek=Yb;v.quarter=function(B){return 1+~~((new Date(B)).getMonth()/3)};v.repeat=Ka;v.span=function(B){return B&&Yb(B)-B[0]||0};v.splitAccessPath=bc;v.stringValue=lb;v.toBoolean=function(B){return null==B||""===B?null:
B&&"false"!==B&&"0"!==B?!!B:!1};v.toDate=function(B,A){A=A||C;return null==B||""===B?null:A(B)};v.toNumber=Ua;v.toSet=function(B){const A={},D=B.length;for(let I=0;I<D;++I)A[B[I]]=!0;return A};v.toString=function(B){return null==B||""===B?null:B+""};v.truncate=function(B,A,D,I){I=null!=I?I:"";B+="";const V=B.length,Aa=Math.max(0,A-I.length);return V<=A?B:"left"===D?I+B.slice(V-Aa):"center"===D?B.slice(0,Math.ceil(Aa/2))+I+B.slice(V-~~(Aa/2)):B.slice(0,Aa)+I};v.truthy=nb;v.utcquarter=function(B){return 1+
~~((new Date(B)).getUTCMonth()/3)};v.visitArray=function(B,A,D){if(B)if(A){const I=B.length;for(let V=0;V<I;++V){const Aa=A(B[V]);Aa&&D(Aa,V,B)}}else B.forEach(D)};v.writeConfig=Ab;v.zero=Pb;v.zoomLinear=function(B,A,D){return Jb(B,A,D,Ua,sb)};v.zoomLog=function(B,A,D){const I=Math.sign(B[0]);return Jb(B,A,D,Ga(I),Fa(I))};v.zoomPow=function(B,A,D,I){return Jb(B,A,D,oa(I),oa(1/I))};v.zoomSymlog=function(B,A,D,I){return Jb(B,A,D,eb(I),ba(I))}})};
shadow$provide[21]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob):"function"===typeof define&&define.amd?define(["exports"],k):(v=v||self,k(v.topojson=v.topojson||{}))})(this,function(v){function k(Ua){return Ua}function P(Ua){if(null==Ua)return k;var tb,Jb,Kb=Ua.scale[0],Cb=Ua.scale[1],Ob=Ua.translate[0],ab=Ua.translate[1];return function(pb,Qa){Qa||(tb=Jb=0);Qa=2;var Da=pb.length,Ka=Array(Da);Ka[0]=(tb+=pb[0])*Kb+Ob;for(Ka[1]=(Jb+=pb[1])*Cb+ab;Qa<Da;)Ka[Qa]=
pb[Qa],++Qa;return Ka}}function jb(Ua){function tb(Da){Da=Kb(Da);Da[0]<Ob&&(Ob=Da[0]);Da[0]>pb&&(pb=Da[0]);Da[1]<ab&&(ab=Da[1]);Da[1]>Qa&&(Qa=Da[1])}function Jb(Da){switch(Da.type){case "GeometryCollection":Da.geometries.forEach(Jb);break;case "Point":tb(Da.coordinates);break;case "MultiPoint":Da.coordinates.forEach(tb)}}var Kb=P(Ua.transform),Cb,Ob=Infinity,ab=Ob,pb=-Ob,Qa=-Ob;Ua.arcs.forEach(function(Da){for(var Ka=-1,lb=Da.length,mb;++Ka<lb;)mb=Kb(Da[Ka],Ka),mb[0]<Ob&&(Ob=mb[0]),mb[0]>pb&&(pb=
mb[0]),mb[1]<ab&&(ab=mb[1]),mb[1]>Qa&&(Qa=mb[1])});for(Cb in Ua.objects)Jb(Ua.objects[Cb]);return[Ob,ab,pb,Qa]}function Fb(Ua,tb){var Jb=tb.id,Kb=tb.bbox,Cb=null==tb.properties?{}:tb.properties;Ua=bc(Ua,tb);return null==Jb&&null==Kb?{type:"Feature",properties:Cb,geometry:Ua}:null==Kb?{type:"Feature",id:Jb,properties:Cb,geometry:Ua}:{type:"Feature",id:Jb,bbox:Kb,properties:Cb,geometry:Ua}}function bc(Ua,tb){function Jb(Da){return pb(Da)}function Kb(Da){for(var Ka=[],lb=0,mb=Da.length;lb<mb;++lb){var Pa=
Da[lb],wb=Ka;wb.length&&wb.pop();for(var sb=Qa[0>Pa?~Pa:Pa],Pb=0,Vb=sb.length;Pb<Vb;++Pb)wb.push(pb(sb[Pb],Pb));if(0>Pa)for(Pa=wb,wb=Pa.length,sb=wb-Vb;sb<--wb;)Vb=Pa[sb],Pa[sb++]=Pa[wb],Pa[wb]=Vb}2>Ka.length&&Ka.push(Ka[0]);return Ka}function Cb(Da){for(Da=Kb(Da);4>Da.length;)Da.push(Da[0]);return Da}function Ob(Da){return Da.map(Cb)}function ab(Da){var Ka=Da.type;switch(Ka){case "GeometryCollection":return{type:Ka,geometries:Da.geometries.map(ab)};case "Point":Da=pb(Da.coordinates);break;case "MultiPoint":Da=
Da.coordinates.map(Jb);break;case "LineString":Da=Kb(Da.arcs);break;case "MultiLineString":Da=Da.arcs.map(Kb);break;case "Polygon":Da=Ob(Da.arcs);break;case "MultiPolygon":Da=Da.arcs.map(Ob);break;default:return null}return{type:Ka,coordinates:Da}}var pb=P(Ua.transform),Qa=Ua.arcs;return ab(tb)}function vc(Ua,tb){function Jb(Da){var Ka=Ua.arcs[0>Da?~Da:Da],lb=Ka[0];if(Ua.transform){var mb=[0,0];Ka.forEach(function(Pa){mb[0]+=Pa[0];mb[1]+=Pa[1]})}else mb=Ka[Ka.length-1];return 0>Da?[mb,lb]:[lb,mb]}
function Kb(Da,Ka){for(var lb in Da){var mb=Da[lb];delete Ka[mb.start];delete mb.start;delete mb.end;mb.forEach(function(Pa){Cb[0>Pa?~Pa:Pa]=1});pb.push(mb)}}var Cb={},Ob={},ab={},pb=[],Qa=-1;tb.forEach(function(Da,Ka){var lb=Ua.arcs[0>Da?~Da:Da];3>lb.length&&!lb[1][0]&&!lb[1][1]&&(lb=tb[++Qa],tb[Qa]=Da,tb[Ka]=lb)});tb.forEach(function(Da){var Ka=Jb(Da),lb=Ka[0],mb=Ka[1];(Ka=ab[lb])?(delete ab[Ka.end],Ka.push(Da),Ka.end=mb,(Da=Ob[mb])?(delete Ob[Da.start],lb=Da===Ka?Ka:Ka.concat(Da),Ob[lb.start=Ka.start]=
ab[lb.end=Da.end]=lb):Ob[Ka.start]=ab[Ka.end]=Ka):(Ka=Ob[mb])?(delete Ob[Ka.start],Ka.unshift(Da),Ka.start=lb,(Da=ab[lb])?(delete ab[Da.end],lb=Da===Ka?Ka:Da.concat(Ka),Ob[lb.start=Da.start]=ab[lb.end=Ka.end]=lb):Ob[Ka.start]=ab[Ka.end]=Ka):(Ka=[Da],Ob[Ka.start=lb]=ab[Ka.end=mb]=Ka)});Kb(ab,Ob);Kb(Ob,ab);tb.forEach(function(Da){Cb[0>Da?~Da:Da]||pb.push([Da])});return pb}function Bc(Ua,tb,Jb){var Kb;if(1<arguments.length)var Cb=uc(Ua,tb,Jb);else{var Ob=0;for(Cb=Array(Kb=Ua.arcs.length);Ob<Kb;++Ob)Cb[Ob]=
Ob}return{type:"MultiLineString",arcs:vc(Ua,Cb)}}function uc(Ua,tb,Jb){function Kb(Ka){var lb=0>Ka?~Ka:Ka;(Qa[lb]||(Qa[lb]=[])).push({i:Ka,g:Da})}function Cb(Ka){Ka.forEach(Kb)}function Ob(Ka){Ka.forEach(Cb)}function ab(Ka){switch(Da=Ka,Ka.type){case "GeometryCollection":Ka.geometries.forEach(ab);break;case "LineString":Cb(Ka.arcs);break;case "MultiLineString":case "Polygon":Ob(Ka.arcs);break;case "MultiPolygon":Ka.arcs.forEach(Ob)}}var pb=[],Qa=[],Da;ab(tb);Qa.forEach(null==Jb?function(Ka){pb.push(Ka[0].i)}:
function(Ka){Jb(Ka[0].g,Ka[Ka.length-1].g)&&pb.push(Ka[0].i)});return pb}function Ab(Ua,tb){function Jb(Qa){switch(Qa.type){case "GeometryCollection":Qa.geometries.forEach(Jb);break;case "Polygon":Kb(Qa.arcs);break;case "MultiPolygon":Qa.arcs.forEach(Kb)}}function Kb(Qa){Qa.forEach(function(Da){Da.forEach(function(Ka){(Ob[Ka=0>Ka?~Ka:Ka]||(Ob[Ka]=[])).push(Qa)})});ab.push(Qa)}function Cb(Qa){Qa=bc(Ua,{type:"Polygon",arcs:[Qa]}).coordinates[0];for(var Da=-1,Ka=Qa.length,lb,mb=Qa[Ka-1],Pa=0;++Da<Ka;)lb=
mb,mb=Qa[Da],Pa+=lb[0]*mb[1]-lb[1]*mb[0];return Math.abs(Pa)}var Ob={},ab=[],pb=[];tb.forEach(Jb);ab.forEach(function(Qa){if(!Qa._){var Da=[],Ka=[Qa];Qa._=1;for(pb.push(Da);Qa=Ka.pop();)Da.push(Qa),Qa.forEach(function(lb){lb.forEach(function(mb){Ob[0>mb?~mb:mb].forEach(function(Pa){Pa._||(Pa._=1,Ka.push(Pa))})})})}});ab.forEach(function(Qa){delete Qa._});return{type:"MultiPolygon",arcs:pb.map(function(Qa){var Da=[];Qa.forEach(function(Pa){Pa.forEach(function(wb){wb.forEach(function(sb){2>Ob[0>sb?
~sb:sb].length&&Da.push(sb)})})});Da=vc(Ua,Da);if(1<(Qa=Da.length))for(var Ka=1,lb=Cb(Da[0]),mb;Ka<Qa;++Ka)(mb=Cb(Da[Ka]))>lb&&(lb=Da[0],Da[0]=Da[Ka],Da[Ka]=lb,lb=mb);return Da}).filter(function(Qa){return 0<Qa.length})}}function kc(Ua,tb){for(var Jb=0,Kb=Ua.length;Jb<Kb;){var Cb=Jb+Kb>>>1;Ua[Cb]<tb?Jb=Cb+1:Kb=Cb}return Jb}function Yb(Ua){if(null==Ua)return k;var tb,Jb,Kb=Ua.scale[0],Cb=Ua.scale[1],Ob=Ua.translate[0],ab=Ua.translate[1];return function(pb,Qa){Qa||(tb=Jb=0);Qa=2;var Da=pb.length,Ka=
Array(Da),lb=Math.round((pb[0]-Ob)/Kb),mb=Math.round((pb[1]-ab)/Cb);Ka[0]=lb-tb;tb=lb;Ka[1]=mb-Jb;for(Jb=mb;Qa<Da;)Ka[Qa]=pb[Qa],++Qa;return Ka}}v.bbox=jb;v.feature=function(Ua,tb){"string"===typeof tb&&(tb=Ua.objects[tb]);return"GeometryCollection"===tb.type?{type:"FeatureCollection",features:tb.geometries.map(function(Jb){return Fb(Ua,Jb)})}:Fb(Ua,tb)};v.merge=function(Ua){return bc(Ua,Ab.apply(this,arguments))};v.mergeArcs=Ab;v.mesh=function(Ua){return bc(Ua,Bc.apply(this,arguments))};v.meshArcs=
Bc;v.neighbors=function(Ua){function tb(wb,sb){wb.forEach(function(Pb){0>Pb&&(Pb=~Pb);var Vb=Cb[Pb];Vb?Vb.push(sb):Cb[Pb]=[sb]})}function Jb(wb,sb){wb.forEach(function(Pb){tb(Pb,sb)})}function Kb(wb,sb){if("GeometryCollection"===wb.type)wb.geometries.forEach(function(Pb){Kb(Pb,sb)});else if(wb.type in ab)ab[wb.type](wb.arcs,sb)}var Cb={},Ob=Ua.map(function(){return[]}),ab={LineString:tb,MultiLineString:Jb,Polygon:Jb,MultiPolygon:function(wb,sb){wb.forEach(function(Pb){Jb(Pb,sb)})}};Ua.forEach(Kb);
for(var pb in Cb){Ua=Cb[pb];for(var Qa=Ua.length,Da=0;Da<Qa;++Da)for(var Ka=Da+1;Ka<Qa;++Ka){var lb=Ua[Da],mb=Ua[Ka],Pa;(Pa=Ob[lb])[pb=kc(Pa,mb)]!==mb&&Pa.splice(pb,0,mb);(Pa=Ob[mb])[pb=kc(Pa,lb)]!==lb&&Pa.splice(pb,0,lb)}}return Ob};v.quantize=function(Ua,tb){function Jb(lb){return Da(lb)}function Kb(lb){switch(lb.type){case "GeometryCollection":var mb={type:"GeometryCollection",geometries:lb.geometries.map(Kb)};break;case "Point":mb={type:"Point",coordinates:Da(lb.coordinates)};break;case "MultiPoint":mb=
{type:"MultiPoint",coordinates:lb.coordinates.map(Jb)};break;default:return lb}null!=lb.id&&(mb.id=lb.id);null!=lb.bbox&&(mb.bbox=lb.bbox);null!=lb.properties&&(mb.properties=lb.properties);return mb}if(Ua.transform)throw Error("already quantized");if(tb&&tb.scale)var Cb=Ua.bbox;else{if(!(2<=(Qa=Math.floor(tb))))throw Error("n must be 2");Cb=Ua.bbox||jb(Ua);tb=Cb[0];var Ob=Cb[1],ab=Cb[2],pb=Cb[3],Qa;tb={scale:[ab-tb?(ab-tb)/(Qa-1):1,pb-Ob?(pb-Ob)/(Qa-1):1],translate:[tb,Ob]}}var Da=Yb(tb),Ka;Ob=
Ua.objects;ab={};for(Ka in Ob)ab[Ka]=Kb(Ob[Ka]);return{type:"Topology",bbox:Cb,transform:tb,objects:ab,arcs:Ua.arcs.map(function(lb){var mb=0,Pa=1,wb=lb.length,sb,Pb=Array(wb);for(Pb[0]=Da(lb[0],0);++mb<wb;)if((sb=Da(lb[mb],mb))[0]||sb[1])Pb[Pa++]=sb;1===Pa&&(Pb[Pa++]=[0,0]);Pb.length=Pa;return Pb})}};v.transform=P;v.untransform=Yb;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[22]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function P(X){const Ca=k.array(X).slice(),Xa={};Ca.length||k.error("Missing time unit.");Ca.forEach(Ib=>{k.hasOwnProperty(Pa,Ib)?Xa[Ib]=1:k.error(`Invalid time unit: ${Ib}.`)});1<(Xa.week||Xa.day?1:0)+(Xa.quarter||Xa.month||
Xa.date?1:0)+(Xa.dayofyear?1:0)&&k.error(`Incompatible time units: ${X}`);Ca.sort((Ib,yc)=>Pa[Ib]-Pa[yc]);return Ca}function jb(X,Ca,Xa,Ib){function yc(qc){return X(qc=0===arguments.length?new Date:new Date(+qc)),qc}yc.floor=qc=>(X(qc=new Date(+qc)),qc);yc.ceil=qc=>(X(qc=new Date(qc-1)),Ca(qc,1),X(qc),qc);yc.round=qc=>{const xc=yc(qc),dd=yc.ceil(qc);return qc-xc<dd-qc?xc:dd};yc.offset=(qc,xc)=>(Ca(qc=new Date(+qc),null==xc?1:Math.floor(xc)),qc);yc.range=(qc,xc,dd)=>{const Zb=[];qc=yc.ceil(qc);dd=
null==dd?1:Math.floor(dd);if(!(qc<xc&&0<dd))return Zb;let Rc;do Zb.push(Rc=new Date(+qc)),Ca(qc,dd),X(qc);while(Rc<qc&&qc<xc);return Zb};yc.filter=qc=>jb(xc=>{if(xc>=xc)for(;X(xc),!qc(xc);)xc.setTime(xc-1)},(xc,dd)=>{if(xc>=xc)if(0>dd)for(;0>=++dd;)for(;Ca(xc,-1),!qc(xc););else for(;0<=--dd;)for(;Ca(xc,1),!qc(xc););});Xa&&(yc.count=(qc,xc)=>{sb.setTime(+qc);Pb.setTime(+xc);X(sb);X(Pb);return Math.floor(Xa(sb,Pb))},yc.every=qc=>{qc=Math.floor(qc);return isFinite(qc)&&0<qc?1<qc?yc.filter(Ib?xc=>0===
Ib(xc)%qc:xc=>0===yc.count(0,xc)%qc):yc:null});return yc}function Fb(X){return jb(Ca=>{Ca.setDate(Ca.getDate()-(Ca.getDay()+7-X)%7);Ca.setHours(0,0,0,0)},(Ca,Xa)=>{Ca.setDate(Ca.getDate()+7*Xa)},(Ca,Xa)=>(Xa-Ca-6E4*(Xa.getTimezoneOffset()-Ca.getTimezoneOffset()))/6048E5)}function bc(X){return jb(Ca=>{Ca.setUTCDate(Ca.getUTCDate()-(Ca.getUTCDay()+7-X)%7);Ca.setUTCHours(0,0,0,0)},(Ca,Xa)=>{Ca.setUTCDate(Ca.getUTCDate()+7*Xa)},(Ca,Xa)=>(Xa-Ca)/6048E5)}function vc(X,Ca){return null==X||null==Ca?NaN:X<
Ca?-1:X>Ca?1:X>=Ca?0:NaN}function Bc(X,Ca){return null==X||null==Ca?NaN:Ca<X?-1:Ca>X?1:Ca>=X?0:NaN}function uc(X){function Ca(qc,xc,dd=0,Zb=qc.length){if(dd<Zb){if(0!==Xa(xc,xc))return Zb;do{const Rc=dd+Zb>>>1;0>Ib(qc[Rc],xc)?dd=Rc+1:Zb=Rc}while(dd<Zb)}return dd}let Xa,Ib,yc;2!==X.length?(Xa=vc,Ib=(qc,xc)=>vc(X(qc),xc),yc=(qc,xc)=>X(qc)-xc):(Xa=X===vc||X===Bc?X:Ab,yc=Ib=X);return{left:Ca,center:function(qc,xc,dd=0,Zb=qc.length){Zb=Ca(qc,xc,dd,Zb-1);return Zb>dd&&yc(qc[Zb-1],xc)>-yc(qc[Zb],xc)?Zb-
1:Zb},right:function(qc,xc,dd=0,Zb=qc.length){if(dd<Zb){if(0!==Xa(xc,xc))return Zb;do{const Rc=dd+Zb>>>1;0>=Ib(qc[Rc],xc)?dd=Rc+1:Zb=Rc}while(dd<Zb)}return dd}}}function Ab(){return 0}function kc(X,Ca,Xa){var Ib=(Ca-X)/Math.max(0,Xa),yc=Math.floor(Math.log10(Ib));Ib/=Math.pow(10,yc);Ib=Ib>=B?10:Ib>=A?5:Ib>=D?2:1;let qc;0>yc?(qc=Math.pow(10,-yc)/Ib,yc=Math.round(X*qc),Ib=Math.round(Ca*qc),yc/qc<X&&++yc,Ib/qc>Ca&&--Ib,qc=-qc):(qc=Math.pow(10,yc)*Ib,yc=Math.round(X/qc),Ib=Math.round(Ca/qc),yc*qc<X&&
++yc,Ib*qc>Ca&&--Ib);return Ib<yc&&.5<=Xa&&2>Xa?kc(X,Ca,2*Xa):[yc,Ib,qc]}function Yb(X,Ca,Xa){return kc(+X,+Ca,+Xa)[2]}function Ua(X,Ca,Xa){Ca=+Ca;X=+X;Xa=+Xa;const Ib=Ca<X;X=Ib?Yb(Ca,X,Xa):Yb(X,Ca,Xa);return(Ib?-1:1)*(0>X?1/-X:X)}function tb(X){I.setFullYear(X);I.setMonth(0);I.setDate(1);I.setHours(0,0,0,0);return I}function Jb(X){return eb.count(tb(X.getFullYear())-1,X)}function Kb(X){return q.count(tb(X.getFullYear())-1,X)}function Cb(X,Ca,Xa,Ib,yc,qc,xc){return 0<=X&&100>X?(Ca=new Date(-1,Ca,
Xa,Ib,yc,qc,xc),Ca.setFullYear(X),Ca):new Date(X,Ca,Xa,Ib,yc,qc,xc)}function Ob(X){const Ca=Date.UTC(X.getUTCFullYear(),0,1);return ba.count(Ca-1,X)}function ab(X){const Ca=Date.UTC(X.getUTCFullYear(),0,1);return C.count(Ca-1,X)}function pb(X){I.setTime(Date.UTC(X,0,1));return I.getUTCDay()}function Qa(X,Ca,Xa,Ib,yc,qc,xc){return 0<=X&&100>X?(X=new Date(Date.UTC(-1,Ca,Xa,Ib,yc,qc,xc)),X.setUTCFullYear(Xa.y),X):new Date(Date.UTC(X,Ca,Xa,Ib,yc,qc,xc))}function Da(X,Ca,Xa,Ib,yc){const qc=Ca||1,xc=k.peek(X);
Ca=(ic,dc,Ic)=>{Ic=Ic||ic;return Ka(Xa[Ic],Ib[Ic],ic===xc&&qc,dc)};const dd=new Date;X=k.toSet(X);const Zb=X.year?Ca("year"):k.constant(2012),Rc=X.month?Ca("month"):X.quarter?Ca("quarter"):k.zero,Pd=X.week&&X.day?Ca("day",1,"weekday"):X.week?Ca("week",1):X.day?Ca("day",1):X.date?Ca("date",1):X.dayofyear?Ca("dayofyear",1):k.one,Na=X.hours?Ca("hours"):k.zero,Ub=X.minutes?Ca("minutes"):k.zero,qb=X.seconds?Ca("seconds"):k.zero,Sb=X.milliseconds?Ca("milliseconds"):k.zero;return function(ic){dd.setTime(+ic);
ic=Zb(dd);return yc(ic,Rc(dd),Pd(dd,ic),Na(dd),Ub(dd),qb(dd),Sb(dd))}}function Ka(X,Ca,Xa,Ib){const yc=1>=Xa?X:Ib?(qc,xc)=>Ib+Xa*Math.floor((X(qc,xc)-Ib)/Xa):(qc,xc)=>Xa*Math.floor(X(qc,xc)/Xa);return Ca?(qc,xc)=>Ca(yc(qc,xc),xc):yc}function lb(X,Ca,Xa){return Ca+7*X-(Xa+6)%7}const mb="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Pa=mb.reduce((X,Ca,Xa)=>(X[Ca]=1+Xa,X),{}),wb={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",
hours:"%H:00",minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},sb=new Date,Pb=new Date,Vb=jb(()=>{},(X,Ca)=>{X.setTime(+X+Ca)},(X,Ca)=>Ca-X);Vb.every=X=>{X=Math.floor(X);return isFinite(X)&&0<X?1<X?jb(Ca=>{Ca.setTime(Math.floor(Ca/X)*X)},(Ca,Xa)=>{Ca.setTime(+Ca+Xa*X)},(Ca,Xa)=>(Xa-Ca)/X):Vb:null};Vb.range;var nb=jb(X=>{X.setTime(X-X.getMilliseconds())},(X,Ca)=>{X.setTime(+X+1E3*Ca)},(X,Ca)=>(Ca-X)/1E3,X=>X.getUTCSeconds());
nb.range;var qa=jb(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds())},(X,Ca)=>{X.setTime(+X+6E4*Ca)},(X,Ca)=>(Ca-X)/6E4,X=>X.getMinutes());qa.range;var Z=jb(X=>{X.setUTCSeconds(0,0)},(X,Ca)=>{X.setTime(+X+6E4*Ca)},(X,Ca)=>(Ca-X)/6E4,X=>X.getUTCMinutes());Z.range;var Fa=jb(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds()-6E4*X.getMinutes())},(X,Ca)=>{X.setTime(+X+36E5*Ca)},(X,Ca)=>(Ca-X)/36E5,X=>X.getHours());Fa.range;var Ga=jb(X=>{X.setUTCMinutes(0,0,0)},(X,Ca)=>{X.setTime(+X+36E5*Ca)},
(X,Ca)=>(Ca-X)/36E5,X=>X.getUTCHours());Ga.range;const eb=jb(X=>X.setHours(0,0,0,0),(X,Ca)=>X.setDate(X.getDate()+Ca),(X,Ca)=>(Ca-X-6E4*(Ca.getTimezoneOffset()-X.getTimezoneOffset()))/864E5,X=>X.getDate()-1);eb.range;const ba=jb(X=>{X.setUTCHours(0,0,0,0)},(X,Ca)=>{X.setUTCDate(X.getUTCDate()+Ca)},(X,Ca)=>(Ca-X)/864E5,X=>X.getUTCDate()-1);ba.range;var oa=jb(X=>{X.setUTCHours(0,0,0,0)},(X,Ca)=>{X.setUTCDate(X.getUTCDate()+Ca)},(X,Ca)=>(Ca-X)/864E5,X=>Math.floor(X/864E5));oa.range;const q=Fb(0);oa=
Fb(1);var M=Fb(2),Q=Fb(3),g=Fb(4),u=Fb(5),m=Fb(6);q.range;oa.range;M.range;Q.range;g.range;u.range;m.range;const C=bc(0);oa=bc(1);M=bc(2);Q=bc(3);g=bc(4);u=bc(5);m=bc(6);C.range;oa.range;M.range;Q.range;g.range;u.range;m.range;oa=jb(X=>{X.setDate(1);X.setHours(0,0,0,0)},(X,Ca)=>{X.setMonth(X.getMonth()+Ca)},(X,Ca)=>Ca.getMonth()-X.getMonth()+12*(Ca.getFullYear()-X.getFullYear()),X=>X.getMonth());oa.range;M=jb(X=>{X.setUTCDate(1);X.setUTCHours(0,0,0,0)},(X,Ca)=>{X.setUTCMonth(X.getUTCMonth()+Ca)},
(X,Ca)=>Ca.getUTCMonth()-X.getUTCMonth()+12*(Ca.getUTCFullYear()-X.getUTCFullYear()),X=>X.getUTCMonth());M.range;Q=jb(X=>{X.setMonth(0,1);X.setHours(0,0,0,0)},(X,Ca)=>{X.setFullYear(X.getFullYear()+Ca)},(X,Ca)=>Ca.getFullYear()-X.getFullYear(),X=>X.getFullYear());Q.every=X=>isFinite(X=Math.floor(X))&&0<X?jb(Ca=>{Ca.setFullYear(Math.floor(Ca.getFullYear()/X)*X);Ca.setMonth(0,1);Ca.setHours(0,0,0,0)},(Ca,Xa)=>{Ca.setFullYear(Ca.getFullYear()+Xa*X)}):null;Q.range;g=jb(X=>{X.setUTCMonth(0,1);X.setUTCHours(0,
0,0,0)},(X,Ca)=>{X.setUTCFullYear(X.getUTCFullYear()+Ca)},(X,Ca)=>Ca.getUTCFullYear()-X.getUTCFullYear(),X=>X.getUTCFullYear());g.every=X=>isFinite(X=Math.floor(X))&&0<X?jb(Ca=>{Ca.setUTCFullYear(Math.floor(Ca.getUTCFullYear()/X)*X);Ca.setUTCMonth(0,1);Ca.setUTCHours(0,0,0,0)},(Ca,Xa)=>{Ca.setUTCFullYear(Ca.getUTCFullYear()+Xa*X)}):null;g.range;const B=Math.sqrt(50),A=Math.sqrt(10),D=Math.sqrt(2),I=new Date,V={year:X=>X.getFullYear(),quarter:X=>Math.floor(X.getMonth()/3),month:X=>X.getMonth(),date:X=>
X.getDate(),hours:X=>X.getHours(),minutes:X=>X.getMinutes(),seconds:X=>X.getSeconds(),milliseconds:X=>X.getMilliseconds(),dayofyear:X=>Jb(X),week:X=>Kb(X),weekday:(X,Ca)=>lb(Kb(X),X.getDay(),tb(Ca).getDay()),day:(X,Ca)=>lb(1,X.getDay(),tb(Ca).getDay())},Aa={quarter:X=>3*X,week:(X,Ca)=>lb(X,0,tb(Ca).getDay())},Y={year:X=>X.getUTCFullYear(),quarter:X=>Math.floor(X.getUTCMonth()/3),month:X=>X.getUTCMonth(),date:X=>X.getUTCDate(),hours:X=>X.getUTCHours(),minutes:X=>X.getUTCMinutes(),seconds:X=>X.getUTCSeconds(),
milliseconds:X=>X.getUTCMilliseconds(),dayofyear:X=>Ob(X),week:X=>ab(X),day:(X,Ca)=>lb(1,X.getUTCDay(),pb(Ca)),weekday:(X,Ca)=>lb(ab(X),X.getUTCDay(),pb(Ca))},t={quarter:X=>3*X,week:(X,Ca)=>lb(X,0,pb(Ca))},L={year:Q,quarter:oa.every(3),month:oa,week:q,date:eb,day:eb,dayofyear:eb,hours:Fa,minutes:qa,seconds:nb,milliseconds:Vb},va={year:g,quarter:M.every(3),month:M,week:C,date:ba,day:ba,dayofyear:ba,hours:Ga,minutes:Z,seconds:nb,milliseconds:Vb},La="year month date hours minutes seconds milliseconds".split(" ");
nb=La.slice(0,-1);qa=nb.slice(0,-1);Z=qa.slice(0,-1);Fa=Z.slice(0,-1);Ga=["year","month"];const Wa=["year"],$a=[[nb,1,1E3],[nb,5,5E3],[nb,15,15E3],[nb,30,3E4],[qa,1,6E4],[qa,5,3E5],[qa,15,9E5],[qa,30,18E5],[Z,1,36E5],[Z,3,108E5],[Z,6,216E5],[Z,12,432E5],[Fa,1,864E5],[["year","week"],1,6048E5],[Ga,1,2592E6],[Ga,3,7776E6],[Wa,1,31536E6]];v.DATE="date";v.DAY="day";v.DAYOFYEAR="dayofyear";v.HOURS="hours";v.MILLISECONDS="milliseconds";v.MINUTES="minutes";v.MONTH="month";v.QUARTER="quarter";v.SECONDS="seconds";
v.TIME_UNITS=mb;v.WEEK="week";v.YEAR="year";v.dayofyear=function(X){return Jb(new Date(X))};v.timeBin=function(X){var Ca=X.extent;X=X.maxbins||40;var Xa=Math.abs(k.span(Ca))/X;let Ib=uc(yc=>yc[2]).right($a,Xa);Ib===$a.length?(Xa=Wa,Ca=Ua(Ca[0]/31536E6,Ca[1]/31536E6,X)):Ib?(Ib=$a[Xa/$a[Ib-1][2]<$a[Ib][2]/Xa?Ib-1:Ib],Xa=Ib[0],Ca=Ib[1]):(Xa=La,Ca=Math.max(Ua(Ca[0],Ca[1],X),1));return{units:Xa,step:Ca}};v.timeFloor=function(X,Ca){return Da(X,Ca||1,V,Aa,Cb)};v.timeInterval=function(X){return L[X]};v.timeOffset=
function(X,Ca,Xa){return(X=L[X])?X.offset(Ca,Xa):void 0};v.timeSequence=function(X,Ca,Xa,Ib){return(X=L[X])?X.range(Ca,Xa,Ib):void 0};v.timeUnitSpecifier=function(X,Ca){Ca=k.extend({},wb,Ca);X=P(X);const Xa=X.length;let Ib="",yc,qc,xc;for(yc=0;yc<Xa;)for(qc=X.length;qc>yc;--qc)if(xc=X.slice(yc,qc).join("-"),null!=Ca[xc]){Ib+=Ca[xc];yc=qc;break}return Ib.trim()};v.timeUnits=P;v.utcFloor=function(X,Ca){return Da(X,Ca||1,Y,t,Qa)};v.utcInterval=function(X){return va[X]};v.utcOffset=function(X,Ca,Xa){return(X=
va[X])?X.offset(Ca,Xa):void 0};v.utcSequence=function(X,Ca,Xa,Ib){return(X=va[X])?X.range(Ca,Xa,Ib):void 0};v.utcdayofyear=function(X){return Ob(new Date(X))};v.utcweek=function(X){return ab(new Date(X))};v.week=function(X){return Kb(new Date(X))}})};
shadow$provide[23]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(22),Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function jb(Ra){const db={};return pc=>db[pc]||(db[pc]=Ra(pc))}function Fb(Ra,db,pc){var wd=(db-Ra)/Math.max(0,pc),Mc=Math.floor(Math.log10(wd));wd/=Math.pow(10,Mc);wd=wd>=ae?10:wd>=Ud?5:wd>=
Xe?2:1;let Uc;0>Mc?(Uc=Math.pow(10,-Mc)/wd,Mc=Math.round(Ra*Uc),wd=Math.round(db*Uc),Mc/Uc<Ra&&++Mc,wd/Uc>db&&--wd,Uc=-Uc):(Uc=Math.pow(10,Mc)*wd,Mc=Math.round(Ra/Uc),wd=Math.round(db/Uc),Mc*Uc<Ra&&++Mc,wd*Uc>db&&--wd);return wd<Mc&&.5<=pc&&2>pc?Fb(Ra,db,2*pc):[Mc,wd,Uc]}function bc(Ra,db,pc){return Fb(+Ra,+db,+pc)[2]}function vc(Ra,db){if(0>(db=(Ra=db?Ra.toExponential(db-1):Ra.toExponential()).indexOf("e")))return null;var pc=Ra.slice(0,db);return[1<pc.length?pc[0]+pc.slice(2):pc,+Ra.slice(db+1)]}
function Bc(Ra){return Ra=vc(Math.abs(Ra)),Ra?Ra[1]:NaN}function uc(Ra,db){return function(pc,wd){for(var Mc=pc.length,Uc=[],Qc=0,td=Ra[0],kd=0;0<Mc&&0<td;){kd+td+1>wd&&(td=Math.max(1,wd-kd));Uc.push(pc.substring(Mc-=td,Mc+td));if((kd+=td+1)>wd)break;td=Ra[Qc=(Qc+1)%Ra.length]}return Uc.reverse().join(db)}}function Ab(Ra){return function(db){return db.replace(/[0-9]/g,function(pc){return Ra[+pc]})}}function kc(Ra){if(!(db=Wd.exec(Ra)))throw Error("invalid format: "+Ra);var db;return new Yb({fill:db[1],
align:db[2],sign:db[3],symbol:db[4],zero:db[5],width:db[6],comma:db[7],precision:db[8]&&db[8].slice(1),trim:db[9],type:db[10]})}function Yb(Ra){this.fill=void 0===Ra.fill?" ":Ra.fill+"";this.align=void 0===Ra.align?"\x3e":Ra.align+"";this.sign=void 0===Ra.sign?"-":Ra.sign+"";this.symbol=void 0===Ra.symbol?"":Ra.symbol+"";this.zero=!!Ra.zero;this.width=void 0===Ra.width?void 0:+Ra.width;this.comma=!!Ra.comma;this.precision=void 0===Ra.precision?void 0:+Ra.precision;this.trim=!!Ra.trim;this.type=void 0===
Ra.type?"":Ra.type+""}function Ua(Ra,db){db=vc(Ra,db);if(!db)return Ra+"";Ra=db[0];db=db[1];return 0>db?"0."+Array(-db).join("0")+Ra:Ra.length>db+1?Ra.slice(0,db+1)+"."+Ra.slice(db+1):Ra+Array(db-Ra.length+2).join("0")}function tb(Ra){return Ra}function Jb(Ra){function db(Cd){function be(H){var ka=$d,la=ke,Ja,hb;if("c"===Zd)la=O(H)+la,H="";else{H=+H;var fc=0>H||0>1/H;H=isNaN(H)?Ld:O(Math.abs(H),Gc);if(Jd){var rc=H.length,tc=1,Wb=-1;a:for(;tc<rc;++tc)switch(H[tc]){case ".":Wb=Ja=tc;break;case "0":0===
Wb&&(Wb=tc);Ja=tc;break;default:if(!+H[tc])break a;0<Wb&&(Wb=0)}H=0<Wb?H.slice(0,Wb)+H.slice(Ja+1):H}fc&&0===+H&&"+"!==$e&&(fc=!1);ka=(fc?"("===$e?$e:kd:"-"===$e||"("===$e?"":$e)+ka;la=("s"===Zd?fb[8+N/3]:"")+la+(fc&&"("===$e?")":"");if(da)for(fc=-1,Ja=H.length;++fc<Ja;)if(hb=H.charCodeAt(fc),48>hb||57<hb){la=(46===hb?Uc+H.slice(fc+1):H.slice(fc))+la;H=H.slice(0,fc);break}}bd&&!nd&&(H=pc(H,Infinity));hb=ka.length+H.length+la.length;fc=hb<Fc?Array(Fc-hb+1).join(ve):"";bd&&nd&&(H=pc(fc+H,fc.length?
Fc-la.length:Infinity),fc="");switch(Me){case "\x3c":H=ka+H+la+fc;break;case "\x3d":H=ka+fc+H+la;break;case "^":H=fc.slice(0,hb=fc.length>>1)+ka+H+la+fc.slice(hb);break;default:H=fc+ka+H+la}return Qc(H)}Cd=kc(Cd);var ve=Cd.fill,Me=Cd.align,$e=Cd.sign,sf=Cd.symbol,nd=Cd.zero,Fc=Cd.width,bd=Cd.comma,Gc=Cd.precision,Jd=Cd.trim,Zd=Cd.type;"n"===Zd?(bd=!0,Zd="g"):ma[Zd]||(void 0===Gc&&(Gc=12),Jd=!0,Zd="g");if(nd||"0"===ve&&"\x3d"===Me)nd=!0,ve="0",Me="\x3d";var $d="$"===sf?wd:"#"===sf&&/[boxX]/.test(Zd)?
"0"+Zd.toLowerCase():"",ke="$"===sf?Mc:/[%p]/.test(Zd)?td:"",O=ma[Zd],da=/[defgprs%]/.test(Zd);Gc=void 0===Gc?6:/[gprs]/.test(Zd)?Math.max(1,Math.min(21,Gc)):Math.max(0,Math.min(20,Gc));be.toString=function(){return Cd+""};return be}var pc=void 0===Ra.grouping||void 0===Ra.thousands?tb:uc(za.call(Ra.grouping,Number),Ra.thousands+""),wd=void 0===Ra.currency?"":Ra.currency[0]+"",Mc=void 0===Ra.currency?"":Ra.currency[1]+"",Uc=void 0===Ra.decimal?".":Ra.decimal+"",Qc=void 0===Ra.numerals?tb:Ab(za.call(Ra.numerals,
String)),td=void 0===Ra.percent?"%":Ra.percent+"",kd=void 0===Ra.minus?"":Ra.minus+"",Ld=void 0===Ra.nan?"NaN":Ra.nan+"";return{format:db,formatPrefix:function(Cd,be){var ve=db((Cd=kc(Cd),Cd.type="f",Cd));Cd=3*Math.max(-8,Math.min(8,Math.floor(Bc(be)/3)));var Me=Math.pow(10,-Cd),$e=fb[8+Cd/3];return function(sf){return ve(Me*sf)+$e}}}}function Kb(Ra,db){return pc=>{pc=Ra(pc);const wd=pc.indexOf(db);if(0>wd)return pc;a:{var Mc=pc.lastIndexOf("e");if(!(0<Mc)){for(Mc=pc.length;--Mc>wd;){var Uc=pc.charCodeAt(Mc);
if(48<=Uc&&57>=Uc){Mc+=1;break a}}Mc=void 0}}for(Uc=Mc<pc.length?pc.slice(Mc):"";--Mc>wd;)if("0"!==pc[Mc]){++Mc;break}return pc.slice(0,Mc)+Uc}}function Cb(Ra){const db=jb(Ra.format),pc=Ra.formatPrefix;return{format:db,formatPrefix:pc,formatFloat(wd){wd=kc(wd||",");if(null==wd.precision){wd.precision=12;switch(wd.type){case "%":wd.precision-=2;break;case "e":--wd.precision}return Kb(db(wd),db(".1f")(1)[1])}return db(wd)},formatSpan(wd,Mc,Uc,Qc){Qc=kc(null==Qc?",f":Qc);var td=+Mc;var kd=+wd;var Ld=
+Uc;kd=(Uc=td<kd)?bc(td,kd,Ld):bc(kd,td,Ld);kd=(Uc?-1:1)*(0>kd?1/-kd:kd);wd=Math.max(Math.abs(wd),Math.abs(Mc));if(null==Qc.precision)switch(Qc.type){case "s":return Mc=isNaN,kd=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Bc(wd)/3)))-Bc(Math.abs(kd))),Mc(Mc=kd)||(Qc.precision=Mc),pc(Qc,wd);case "":case "e":case "g":case "p":case "r":Mc=isNaN;kd=Math.abs(kd);wd=Math.abs(wd)-kd;wd=Math.max(0,Bc(wd)-Bc(kd))+1;Mc(Mc=wd)||(Qc.precision=Mc-("e"===Qc.type));break;case "f":case "%":isNaN(Mc=Math.max(0,
-Bc(Math.abs(kd))))||(Qc.precision=Mc-2*("%"===Qc.type))}return db(Qc)}}}function Ob(){return mc=Cb({format:Xb,formatPrefix:Cc})}function ab(Ra){return Cb(Jb(Ra))}function pb(Ra){return arguments.length?mc=ab(Ra):mc}function Qa(Ra,db,pc,wd){function Mc(Uc){return Ra(Uc=0===arguments.length?new Date:new Date(+Uc)),Uc}Mc.floor=Uc=>(Ra(Uc=new Date(+Uc)),Uc);Mc.ceil=Uc=>(Ra(Uc=new Date(Uc-1)),db(Uc,1),Ra(Uc),Uc);Mc.round=Uc=>{const Qc=Mc(Uc),td=Mc.ceil(Uc);return Uc-Qc<td-Uc?Qc:td};Mc.offset=(Uc,Qc)=>
(db(Uc=new Date(+Uc),null==Qc?1:Math.floor(Qc)),Uc);Mc.range=(Uc,Qc,td)=>{const kd=[];Uc=Mc.ceil(Uc);td=null==td?1:Math.floor(td);if(!(Uc<Qc&&0<td))return kd;let Ld;do kd.push(Ld=new Date(+Uc)),db(Uc,td),Ra(Uc);while(Ld<Uc&&Uc<Qc);return kd};Mc.filter=Uc=>Qa(Qc=>{if(Qc>=Qc)for(;Ra(Qc),!Uc(Qc);)Qc.setTime(Qc-1)},(Qc,td)=>{if(Qc>=Qc)if(0>td)for(;0>=++td;)for(;db(Qc,-1),!Uc(Qc););else for(;0<=--td;)for(;db(Qc,1),!Uc(Qc););});pc&&(Mc.count=(Uc,Qc)=>{Hc.setTime(+Uc);jd.setTime(+Qc);Ra(Hc);Ra(jd);return Math.floor(pc(Hc,
jd))},Mc.every=Uc=>{Uc=Math.floor(Uc);return isFinite(Uc)&&0<Uc?1<Uc?Mc.filter(wd?Qc=>0===wd(Qc)%Uc:Qc=>0===Mc.count(0,Qc)%Uc):Mc:null});return Mc}function Da(Ra){return Qa(db=>{db.setDate(db.getDate()-(db.getDay()+7-Ra)%7);db.setHours(0,0,0,0)},(db,pc)=>{db.setDate(db.getDate()+7*pc)},(db,pc)=>(pc-db-6E4*(pc.getTimezoneOffset()-db.getTimezoneOffset()))/6048E5)}function Ka(Ra){return Qa(db=>{db.setUTCDate(db.getUTCDate()-(db.getUTCDay()+7-Ra)%7);db.setUTCHours(0,0,0,0)},(db,pc)=>{db.setUTCDate(db.getUTCDate()+
7*pc)},(db,pc)=>(pc-db)/6048E5)}function lb(Ra){if(0<=Ra.y&&100>Ra.y){var db=new Date(-1,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L);db.setFullYear(Ra.y);return db}return new Date(Ra.y,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L)}function mb(Ra){if(0<=Ra.y&&100>Ra.y){var db=new Date(Date.UTC(-1,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L));db.setUTCFullYear(Ra.y);return db}return new Date(Date.UTC(Ra.y,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L))}function Pa(Ra,db,pc){return{y:Ra,m:db,d:pc,H:0,M:0,S:0,L:0}}function wb(Ra){function db(da,H){return function(ka){var la=
[],Ja=-1,hb=0,fc=da.length,rc,tc;for(ka instanceof Date||(ka=new Date(+ka));++Ja<fc;)if(37===da.charCodeAt(Ja)){la.push(da.slice(hb,Ja));null!=(hb=$b[rc=da.charAt(++Ja)])?rc=da.charAt(++Ja):hb="e"===rc?" ":"0";if(tc=H[rc])rc=tc(ka,hb);la.push(rc);hb=Ja+1}la.push(da.slice(hb,Ja));return la.join("")}}function pc(da,H){return function(ka){var la=Pa(1900,void 0,1);if(wd(la,da,ka+="",0)!=ka.length)return null;if("Q"in la)return new Date(la.Q);if("s"in la)return new Date(1E3*la.s+("L"in la?la.L:0));!H||
"Z"in la||(la.Z=0);"p"in la&&(la.H=la.H%12+12*la.p);void 0===la.m&&(la.m="q"in la?la.q:0);if("V"in la){if(1>la.V||53<la.V)return null;"w"in la||(la.w=1);if("Z"in la){ka=mb(Pa(la.y,0,1));var Ja=ka.getUTCDay();ka=4<Ja||0===Ja?pe.ceil(ka):pe(ka);ka=vd.offset(ka,7*(la.V-1));la.y=ka.getUTCFullYear();la.m=ka.getUTCMonth();la.d=ka.getUTCDate()+(la.w+6)%7}else ka=lb(Pa(la.y,0,1)),Ja=ka.getDay(),ka=4<Ja||0===Ja?Xd.ceil(ka):Xd(ka),ka=Nc.offset(ka,7*(la.V-1)),la.y=ka.getFullYear(),la.m=ka.getMonth(),la.d=ka.getDate()+
(la.w+6)%7}else if("W"in la||"U"in la)"w"in la||(la.w="u"in la?la.u%7:"W"in la?1:0),Ja="Z"in la?mb(Pa(la.y,0,1)).getUTCDay():lb(Pa(la.y,0,1)).getDay(),la.m=0,la.d="W"in la?(la.w+6)%7+7*la.W-(Ja+5)%7:la.w+7*la.U-(Ja+6)%7;return"Z"in la?(la.H+=la.Z/100|0,la.M+=la.Z%100,mb(la)):lb(la)}}function wd(da,H,ka,la){for(var Ja=0,hb=H.length,fc=ka.length,rc;Ja<hb;){if(la>=fc)return-1;rc=H.charCodeAt(Ja++);if(37===rc){if(rc=H.charAt(Ja++),rc=O[rc in $b?H.charAt(Ja++):rc],!rc||0>(la=rc(da,ka,la)))return-1}else if(rc!=
ka.charCodeAt(la++))return-1}return la}var Mc=Ra.dateTime,Uc=Ra.date,Qc=Ra.time,td=Ra.periods,kd=Ra.days,Ld=Ra.shortDays,Cd=Ra.months,be=Ra.shortMonths,ve=Vb(td),Me=nb(td),$e=Vb(kd),sf=nb(kd),nd=Vb(Ld),Fc=nb(Ld),bd=Vb(Cd),Gc=nb(Cd),Jd=Vb(be),Zd=nb(be),$d={a:function(da){return Ld[da.getDay()]},A:function(da){return kd[da.getDay()]},b:function(da){return be[da.getMonth()]},B:function(da){return Cd[da.getMonth()]},c:null,d:Y,e:Y,f:Wa,g:Rc,G:Na,H:t,I:L,j:va,L:La,m:$a,M:X,p:function(da){return td[+(12<=
da.getHours())]},q:function(da){return 1+~~(da.getMonth()/3)},Q:jc,s:Sc,S:Ca,u:Xa,U:Ib,V:qc,w:xc,W:dd,x:null,X:null,y:Zb,Y:Pd,Z:Ub,"%":ec},ke={a:function(da){return Ld[da.getUTCDay()]},A:function(da){return kd[da.getUTCDay()]},b:function(da){return be[da.getUTCMonth()]},B:function(da){return Cd[da.getUTCMonth()]},c:null,d:qb,e:qb,f:zc,g:Za,G:Eb,H:Sb,I:ic,j:dc,L:Ic,m:Yc,M:Md,p:function(da){return td[+(12<=da.getUTCHours())]},q:function(da){return 1+~~(da.getUTCMonth()/3)},Q:jc,s:Sc,S:ud,u:Ha,U:gb,
V:ta,w:F,W:ya,x:null,X:null,y:Oa,Y:kb,Z:oc,"%":ec},O={a:function(da,H,ka){return(H=nd.exec(H.slice(ka)))?(da.w=Fc.get(H[0].toLowerCase()),ka+H[0].length):-1},A:function(da,H,ka){return(H=$e.exec(H.slice(ka)))?(da.w=sf.get(H[0].toLowerCase()),ka+H[0].length):-1},b:function(da,H,ka){return(H=Jd.exec(H.slice(ka)))?(da.m=Zd.get(H[0].toLowerCase()),ka+H[0].length):-1},B:function(da,H,ka){return(H=bd.exec(H.slice(ka)))?(da.m=Gc.get(H[0].toLowerCase()),ka+H[0].length):-1},c:function(da,H,ka){return wd(da,
Mc,H,ka)},d:g,e:g,f:D,g:oa,G:ba,H:m,I:m,j:u,L:A,m:Q,M:C,p:function(da,H,ka){return(H=ve.exec(H.slice(ka)))?(da.p=Me.get(H[0].toLowerCase()),ka+H[0].length):-1},q:M,Q:V,s:Aa,S:B,u:Z,U:Fa,V:Ga,w:qa,W:eb,x:function(da,H,ka){return wd(da,Uc,H,ka)},X:function(da,H,ka){return wd(da,Qc,H,ka)},y:oa,Y:ba,Z:q,"%":I};$d.x=db(Uc,$d);$d.X=db(Qc,$d);$d.c=db(Mc,$d);ke.x=db(Uc,ke);ke.X=db(Qc,ke);ke.c=db(Mc,ke);return{format:function(da){var H=db(da+="",$d);H.toString=function(){return da};return H},parse:function(da){var H=
pc(da+="",!1);H.toString=function(){return da};return H},utcFormat:function(da){var H=db(da+="",ke);H.toString=function(){return da};return H},utcParse:function(da){var H=pc(da+="",!0);H.toString=function(){return da};return H}}}function sb(Ra,db,pc){var wd=0>Ra?"-":"";Ra=(wd?-Ra:Ra)+"";var Mc=Ra.length;return wd+(Mc<pc?Array(pc-Mc+1).join(db)+Ra:Ra)}function Pb(Ra){return Ra.replace(Sa,"\\$\x26")}function Vb(Ra){return new RegExp("^(?:"+Ra.map(Pb).join("|")+")","i")}function nb(Ra){return new Map(Ra.map((db,
pc)=>[db.toLowerCase(),pc]))}function qa(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+1)))?(Ra.w=+db[0],pc+db[0].length):-1}function Z(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+1)))?(Ra.u=+db[0],pc+db[0].length):-1}function Fa(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+2)))?(Ra.U=+db[0],pc+db[0].length):-1}function Ga(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+2)))?(Ra.V=+db[0],pc+db[0].length):-1}function eb(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+2)))?(Ra.W=+db[0],pc+db[0].length):-1}function ba(Ra,
db,pc){return(db=J.exec(db.slice(pc,pc+4)))?(Ra.y=+db[0],pc+db[0].length):-1}function oa(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+2)))?(Ra.y=+db[0]+(68<+db[0]?1900:2E3),pc+db[0].length):-1}function q(Ra,db,pc){return(db=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(db.slice(pc,pc+6)))?(Ra.Z=db[1]?0:-(db[2]+(db[3]||"00")),pc+db[0].length):-1}function M(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+1)))?(Ra.q=3*db[0]-3,pc+db[0].length):-1}function Q(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+2)))?(Ra.m=db[0]-1,pc+
db[0].length):-1}function g(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+2)))?(Ra.d=+db[0],pc+db[0].length):-1}function u(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+3)))?(Ra.m=0,Ra.d=+db[0],pc+db[0].length):-1}function m(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+2)))?(Ra.H=+db[0],pc+db[0].length):-1}function C(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+2)))?(Ra.M=+db[0],pc+db[0].length):-1}function B(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+2)))?(Ra.S=+db[0],pc+db[0].length):-1}function A(Ra,db,pc){return(db=
J.exec(db.slice(pc,pc+3)))?(Ra.L=+db[0],pc+db[0].length):-1}function D(Ra,db,pc){return(db=J.exec(db.slice(pc,pc+6)))?(Ra.L=Math.floor(db[0]/1E3),pc+db[0].length):-1}function I(Ra,db,pc){return(Ra=fa.exec(db.slice(pc,pc+1)))?pc+Ra[0].length:-1}function V(Ra,db,pc){return(db=J.exec(db.slice(pc)))?(Ra.Q=+db[0],pc+db[0].length):-1}function Aa(Ra,db,pc){return(db=J.exec(db.slice(pc)))?(Ra.s=+db[0],pc+db[0].length):-1}function Y(Ra,db){return sb(Ra.getDate(),db,2)}function t(Ra,db){return sb(Ra.getHours(),
db,2)}function L(Ra,db){return sb(Ra.getHours()%12||12,db,2)}function va(Ra,db){return sb(1+Nc.count(gc(Ra),Ra),db,3)}function La(Ra,db){return sb(Ra.getMilliseconds(),db,3)}function Wa(Ra,db){return La(Ra,db)+"000"}function $a(Ra,db){return sb(Ra.getMonth()+1,db,2)}function X(Ra,db){return sb(Ra.getMinutes(),db,2)}function Ca(Ra,db){return sb(Ra.getSeconds(),db,2)}function Xa(Ra){Ra=Ra.getDay();return 0===Ra?7:Ra}function Ib(Ra,db){return sb(Fd.count(gc(Ra)-1,Ra),db,2)}function yc(Ra){var db=Ra.getDay();
return 4<=db||0===db?De(Ra):De.ceil(Ra)}function qc(Ra,db){Ra=yc(Ra);return sb(De.count(gc(Ra),Ra)+(4===gc(Ra).getDay()),db,2)}function xc(Ra){return Ra.getDay()}function dd(Ra,db){return sb(Xd.count(gc(Ra)-1,Ra),db,2)}function Zb(Ra,db){return sb(Ra.getFullYear()%100,db,2)}function Rc(Ra,db){Ra=yc(Ra);return sb(Ra.getFullYear()%100,db,2)}function Pd(Ra,db){return sb(Ra.getFullYear()%1E4,db,4)}function Na(Ra,db){var pc=Ra.getDay();Ra=4<=pc||0===pc?De(Ra):De.ceil(Ra);return sb(Ra.getFullYear()%1E4,
db,4)}function Ub(Ra){Ra=Ra.getTimezoneOffset();return(0<Ra?"-":(Ra*=-1,"+"))+sb(Ra/60|0,"0",2)+sb(Ra%60,"0",2)}function qb(Ra,db){return sb(Ra.getUTCDate(),db,2)}function Sb(Ra,db){return sb(Ra.getUTCHours(),db,2)}function ic(Ra,db){return sb(Ra.getUTCHours()%12||12,db,2)}function dc(Ra,db){return sb(1+vd.count(Ec(Ra),Ra),db,3)}function Ic(Ra,db){return sb(Ra.getUTCMilliseconds(),db,3)}function zc(Ra,db){return Ic(Ra,db)+"000"}function Yc(Ra,db){return sb(Ra.getUTCMonth()+1,db,2)}function Md(Ra,
db){return sb(Ra.getUTCMinutes(),db,2)}function ud(Ra,db){return sb(Ra.getUTCSeconds(),db,2)}function Ha(Ra){Ra=Ra.getUTCDay();return 0===Ra?7:Ra}function gb(Ra,db){return sb(df.count(Ec(Ra)-1,Ra),db,2)}function vb(Ra){var db=Ra.getUTCDay();return 4<=db||0===db?ua(Ra):ua.ceil(Ra)}function ta(Ra,db){Ra=vb(Ra);return sb(ua.count(Ec(Ra),Ra)+(4===Ec(Ra).getUTCDay()),db,2)}function F(Ra){return Ra.getUTCDay()}function ya(Ra,db){return sb(pe.count(Ec(Ra)-1,Ra),db,2)}function Oa(Ra,db){return sb(Ra.getUTCFullYear()%
100,db,2)}function Za(Ra,db){Ra=vb(Ra);return sb(Ra.getUTCFullYear()%100,db,2)}function kb(Ra,db){return sb(Ra.getUTCFullYear()%1E4,db,4)}function Eb(Ra,db){var pc=Ra.getUTCDay();Ra=4<=pc||0===pc?ua(Ra):ua.ceil(Ra);return sb(Ra.getUTCFullYear()%1E4,db,4)}function oc(){return"+0000"}function ec(){return"%"}function jc(Ra){return+Ra}function Sc(Ra){return Math.floor(+Ra/1E3)}function ed(Ra,db,pc){pc=pc||{};P.isObject(pc)||P.error(`Invalid time multi-format specifier: ${pc}`);const wd=db(k.SECONDS),
Mc=db(k.MINUTES),Uc=db(k.HOURS),Qc=db(k.DATE),td=db(k.WEEK),kd=db(k.MONTH),Ld=db(k.QUARTER),Cd=db(k.YEAR),be=Ra(pc[k.MILLISECONDS]||".%L"),ve=Ra(pc[k.SECONDS]||":%S"),Me=Ra(pc[k.MINUTES]||"%I:%M"),$e=Ra(pc[k.HOURS]||"%I %p"),sf=Ra(pc[k.DATE]||pc[k.DAY]||"%a %d"),nd=Ra(pc[k.WEEK]||"%b %d"),Fc=Ra(pc[k.MONTH]||"%B"),bd=Ra(pc[k.QUARTER]||"%B"),Gc=Ra(pc[k.YEAR]||"%Y");return Jd=>(wd(Jd)<Jd?be:Mc(Jd)<Jd?ve:Uc(Jd)<Jd?Me:Qc(Jd)<Jd?$e:kd(Jd)<Jd?td(Jd)<Jd?sf:nd:Cd(Jd)<Jd?Ld(Jd)<Jd?Fc:bd:Gc)(Jd)}function fd(Ra){const db=
jb(Ra.format),pc=jb(Ra.utcFormat);return{timeFormat:wd=>P.isString(wd)?db(wd):ed(db,k.timeInterval,wd),utcFormat:wd=>P.isString(wd)?pc(wd):ed(pc,k.utcInterval,wd),timeParse:jb(Ra.parse),utcParse:jb(Ra.utcParse)}}function Qd(){return ee=fd({format:Jc,parse:Ac,utcFormat:$c,utcParse:pd})}function Td(Ra){return fd(wb(Ra))}function Ed(Ra){return arguments.length?ee=Td(Ra):ee}function Yd(Ra,db){var pc=arguments.length;pc&&2!==pc&&P.error("defaultLocale expects either zero or two arguments.");if(pc){pc=
pb(Ra);var wd=Ed(db);pc=P.extend({},pc,wd)}else pc=pb(),wd=Ed(),pc=P.extend({},pc,wd);return pc}const ae=Math.sqrt(50),Ud=Math.sqrt(10),Xe=Math.sqrt(2);var Wd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;kc.prototype=Yb.prototype;Yb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var N,ma={"%":(Ra,db)=>(100*Ra).toFixed(db),b:Ra=>Math.round(Ra).toString(2),c:Ra=>Ra+"",d:function(Ra){return 1E21<=Math.abs(Ra=Math.round(Ra))?Ra.toLocaleString("en").replace(/,/g,""):Ra.toString(10)},e:(Ra,db)=>Ra.toExponential(db),f:(Ra,db)=>Ra.toFixed(db),g:(Ra,db)=>Ra.toPrecision(db),o:Ra=>Math.round(Ra).toString(8),p:(Ra,db)=>Ua(100*Ra,db),r:Ua,s:function(Ra,db){var pc=vc(Ra,db);if(!pc)return Ra+"";var wd=pc[0];pc=pc[1];pc=pc-(N=3*Math.max(-8,Math.min(8,Math.floor(pc/3))))+
1;var Mc=wd.length;return pc===Mc?wd:pc>Mc?wd+Array(pc-Mc+1).join("0"):0<pc?wd.slice(0,pc)+"."+wd.slice(pc):"0."+Array(1-pc).join("0")+vc(Ra,Math.max(0,db+pc-1))[0]},X:Ra=>Math.round(Ra).toString(16).toUpperCase(),x:Ra=>Math.round(Ra).toString(16)},za=Array.prototype.map,fb="y z a f p n  m  k M G T P E Z Y".split(" "),Hb,Xb,Cc;(function(Ra){Hb=Jb(Ra);Xb=Hb.format;Cc=Hb.formatPrefix;return Hb})({thousands:",",grouping:[3],currency:["$",""]});let mc;Ob();const Hc=new Date,jd=new Date,Nc=Qa(Ra=>Ra.setHours(0,
0,0,0),(Ra,db)=>Ra.setDate(Ra.getDate()+db),(Ra,db)=>(db-Ra-6E4*(db.getTimezoneOffset()-Ra.getTimezoneOffset()))/864E5,Ra=>Ra.getDate()-1);Nc.range;const vd=Qa(Ra=>{Ra.setUTCHours(0,0,0,0)},(Ra,db)=>{Ra.setUTCDate(Ra.getUTCDate()+db)},(Ra,db)=>(db-Ra)/864E5,Ra=>Ra.getUTCDate()-1);vd.range;const Gd=Qa(Ra=>{Ra.setUTCHours(0,0,0,0)},(Ra,db)=>{Ra.setUTCDate(Ra.getUTCDate()+db)},(Ra,db)=>(db-Ra)/864E5,Ra=>Math.floor(Ra/864E5));Gd.range;const Fd=Da(0),Xd=Da(1),Nd=Da(2),qe=Da(3),De=Da(4),gf=Da(5),cf=Da(6);
Fd.range;Xd.range;Nd.range;qe.range;De.range;gf.range;cf.range;const df=Ka(0),pe=Ka(1),nf=Ka(2),U=Ka(3),ua=Ka(4),cb=Ka(5),yb=Ka(6);df.range;pe.range;nf.range;U.range;ua.range;cb.range;yb.range;const gc=Qa(Ra=>{Ra.setMonth(0,1);Ra.setHours(0,0,0,0)},(Ra,db)=>{Ra.setFullYear(Ra.getFullYear()+db)},(Ra,db)=>db.getFullYear()-Ra.getFullYear(),Ra=>Ra.getFullYear());gc.every=Ra=>isFinite(Ra=Math.floor(Ra))&&0<Ra?Qa(db=>{db.setFullYear(Math.floor(db.getFullYear()/Ra)*Ra);db.setMonth(0,1);db.setHours(0,0,0,
0)},(db,pc)=>{db.setFullYear(db.getFullYear()+pc*Ra)}):null;gc.range;const Ec=Qa(Ra=>{Ra.setUTCMonth(0,1);Ra.setUTCHours(0,0,0,0)},(Ra,db)=>{Ra.setUTCFullYear(Ra.getUTCFullYear()+db)},(Ra,db)=>db.getUTCFullYear()-Ra.getUTCFullYear(),Ra=>Ra.getUTCFullYear());Ec.every=Ra=>isFinite(Ra=Math.floor(Ra))&&0<Ra?Qa(db=>{db.setUTCFullYear(Math.floor(db.getUTCFullYear()/Ra)*Ra);db.setUTCMonth(0,1);db.setUTCHours(0,0,0,0)},(db,pc)=>{db.setUTCFullYear(db.getUTCFullYear()+pc*Ra)}):null;Ec.range;var $b={"-":"",
_:" ",0:"0"},J=/^\s*\d+/,fa=/^%/,Sa=/[\\^$*+?|[\]().{}]/g,cc,Jc,Ac,$c,pd;(function(Ra){cc=wb(Ra);Jc=cc.format;Ac=cc.parse;$c=cc.utcFormat;pd=cc.utcParse;return cc})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
let ee;Qd();v.defaultLocale=Yd;v.locale=function(Ra,db){Ra=Ra?ab(Ra):pb();db=db?Td(db):Ed();return P.extend({},Ra,db)};v.numberFormatDefaultLocale=pb;v.numberFormatLocale=ab;v.resetDefaultLocale=function(){Ob();Qd();return Yd()};v.resetNumberFormatDefaultLocale=Ob;v.resetTimeFormatDefaultLocale=Qd;v.timeFormatDefaultLocale=Ed;v.timeFormatLocale=Td})};
shadow$provide[24]=function(hc,Db,Wc,ob){function v(Fb){var bc=Fb.length;if(0<bc%4)throw Error("Invalid string. Length must be a multiple of 4");Fb=Fb.indexOf("\x3d");-1===Fb&&(Fb=bc);return[Fb,Fb===bc?0:4-Fb%4]}ob.byteLength=function(Fb){Fb=v(Fb);var bc=Fb[1];return 3*(Fb[0]+bc)/4-bc};ob.toByteArray=function(Fb){var bc=v(Fb);var vc=bc[0];bc=bc[1];var Bc=new jb(3*(vc+bc)/4-bc),uc=0,Ab=0<bc?vc-4:vc,kc;for(kc=0;kc<Ab;kc+=4)vc=P[Fb.charCodeAt(kc)]<<18|P[Fb.charCodeAt(kc+1)]<<12|P[Fb.charCodeAt(kc+2)]<<
6|P[Fb.charCodeAt(kc+3)],Bc[uc++]=vc>>16&255,Bc[uc++]=vc>>8&255,Bc[uc++]=vc&255;2===bc&&(vc=P[Fb.charCodeAt(kc)]<<2|P[Fb.charCodeAt(kc+1)]>>4,Bc[uc++]=vc&255);1===bc&&(vc=P[Fb.charCodeAt(kc)]<<10|P[Fb.charCodeAt(kc+1)]<<4|P[Fb.charCodeAt(kc+2)]>>2,Bc[uc++]=vc>>8&255,Bc[uc++]=vc&255);return Bc};ob.fromByteArray=function(Fb){for(var bc=Fb.length,vc=bc%3,Bc=[],uc=0,Ab=bc-vc;uc<Ab;uc+=16383){for(var kc=Bc,Yb=kc.push,Ua,tb=Fb,Jb=uc+16383>Ab?Ab:uc+16383,Kb=[],Cb=uc;Cb<Jb;Cb+=3)Ua=(tb[Cb]<<16&16711680)+
(tb[Cb+1]<<8&65280)+(tb[Cb+2]&255),Kb.push(k[Ua>>18&63]+k[Ua>>12&63]+k[Ua>>6&63]+k[Ua&63]);Ua=Kb.join("");Yb.call(kc,Ua)}1===vc?(Fb=Fb[bc-1],Bc.push(k[Fb>>2]+k[Fb<<4&63]+"\x3d\x3d")):2===vc&&(Fb=(Fb[bc-2]<<8)+Fb[bc-1],Bc.push(k[Fb>>10]+k[Fb>>4&63]+k[Fb<<2&63]+"\x3d"));return Bc.join("")};var k=[],P=[],jb="undefined"!==typeof Uint8Array?Uint8Array:Array;for(hc=0;64>hc;++hc)k[hc]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[hc],P["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(hc)]=
hc;P[45]=62;P[95]=63};
shadow$provide[25]=function(hc,Db,Wc,ob){ob.read=function(v,k,P,jb,Fb){var bc=8*Fb-jb-1;var vc=(1<<bc)-1,Bc=vc>>1,uc=-7;Fb=P?Fb-1:0;var Ab=P?-1:1,kc=v[k+Fb];Fb+=Ab;P=kc&(1<<-uc)-1;kc>>=-uc;for(uc+=bc;0<uc;P=256*P+v[k+Fb],Fb+=Ab,uc-=8);bc=P&(1<<-uc)-1;P>>=-uc;for(uc+=jb;0<uc;bc=256*bc+v[k+Fb],Fb+=Ab,uc-=8);if(0===P)P=1-Bc;else{if(P===vc)return bc?NaN:Infinity*(kc?-1:1);bc+=Math.pow(2,jb);P-=Bc}return(kc?-1:1)*bc*Math.pow(2,P-jb)};ob.write=function(v,k,P,jb,Fb,bc){var vc,Bc=8*bc-Fb-1,uc=(1<<Bc)-1,Ab=
uc>>1,kc=23===Fb?Math.pow(2,-24)-Math.pow(2,-77):0;bc=jb?0:bc-1;var Yb=jb?1:-1,Ua=0>k||0===k&&0>1/k?1:0;k=Math.abs(k);isNaN(k)||Infinity===k?(k=isNaN(k)?1:0,jb=uc):(jb=Math.floor(Math.log(k)/Math.LN2),1>k*(vc=Math.pow(2,-jb))&&(jb--,vc*=2),k=1<=jb+Ab?k+kc/vc:k+kc*Math.pow(2,1-Ab),2<=k*vc&&(jb++,vc/=2),jb+Ab>=uc?(k=0,jb=uc):1<=jb+Ab?(k=(k*vc-1)*Math.pow(2,Fb),jb+=Ab):(k=k*Math.pow(2,Ab-1)*Math.pow(2,Fb),jb=0));for(;8<=Fb;v[P+bc]=k&255,bc+=Yb,k/=256,Fb-=8);jb=jb<<Fb|k;for(Bc+=Fb;0<Bc;v[P+bc]=jb&255,
bc+=Yb,jb/=256,Bc-=8);v[P+bc-Yb]|=128*Ua}};
shadow$provide[26]=function(hc,Db,Wc,ob){function v(q){if(2147483647<q)throw new RangeError('The value "'+q+'" is invalid for option "size"');q=new Uint8Array(q);Object.setPrototypeOf(q,k.prototype);return q}function k(q,M,Q){if("number"===typeof q){if("string"===typeof M)throw new TypeError('The "string" argument must be of type string. Received type number');return Fb(q)}return P(q,M,Q)}function P(q,M,Q){if("string"===typeof q){var g=M;if("string"!==typeof g||""===g)g="utf8";if(!k.isEncoding(g))throw new TypeError("Unknown encoding: "+
g);M=Ab(q,g)|0;Q=v(M);q=Q.write(q,g);q!==M&&(Q=Q.slice(0,q));return Q}if(ArrayBuffer.isView(q))return nb(q,Uint8Array)?(q=new Uint8Array(q),q=vc(q.buffer,q.byteOffset,q.byteLength)):q=bc(q),q;if(null==q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(nb(q,ArrayBuffer)||q&&nb(q.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(nb(q,SharedArrayBuffer)||q&&nb(q.buffer,SharedArrayBuffer)))return vc(q,
M,Q);if("number"===typeof q)throw new TypeError('The "value" argument must not be of type number. Received type number');g=q.valueOf&&q.valueOf();if(null!=g&&g!==q)return k.from(g,M,Q);if(g=Bc(q))return g;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof q[Symbol.toPrimitive])return k.from(q[Symbol.toPrimitive]("string"),M,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);}
function jb(q){if("number"!==typeof q)throw new TypeError('"size" argument must be of type number');if(0>q)throw new RangeError('The value "'+q+'" is invalid for option "size"');}function Fb(q){jb(q);return v(0>q?0:uc(q)|0)}function bc(q){const M=0>q.length?0:uc(q.length)|0,Q=v(M);for(let g=0;g<M;g+=1)Q[g]=q[g]&255;return Q}function vc(q,M,Q){if(0>M||q.byteLength<M)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<M+(Q||0))throw new RangeError('"length" is outside of buffer bounds');
q=void 0===M&&void 0===Q?new Uint8Array(q):void 0===Q?new Uint8Array(q,M):new Uint8Array(q,M,Q);Object.setPrototypeOf(q,k.prototype);return q}function Bc(q){if(k.isBuffer(q)){var M=uc(q.length)|0;const Q=v(M);if(0===Q.length)return Q;q.copy(Q,0,0,M);return Q}if(void 0!==q.length)return(M="number"!==typeof q.length)||(M=q.length,M=M!==M),M?v(0):bc(q);if("Buffer"===q.type&&Array.isArray(q.data))return bc(q.data)}function uc(q){if(2147483647<=q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return q|0}function Ab(q,M){if(k.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||nb(q,ArrayBuffer))return q.byteLength;if("string"!==typeof q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const Q=q.length,g=2<arguments.length&&!0===arguments[2];if(!g&&0===Q)return 0;let u=!1;for(;;)switch(M){case "ascii":case "latin1":case "binary":return Q;case "utf8":case "utf-8":return sb(q).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*Q;case "hex":return Q>>>1;case "base64":return Pb(q).length;default:if(u)return g?-1:sb(q).length;M=(""+M).toLowerCase();u=!0}}function kc(q,M,Q){let g=!1;if(void 0===M||0>M)M=0;if(M>this.length)return"";if(void 0===Q||Q>this.length)Q=this.length;if(0>=Q)return"";Q>>>=0;M>>>=0;if(Q<=M)return"";for(q||(q="utf8");;)switch(q){case "hex":q=M;M=this.length;if(!q||0>q)q=0;if(!Q||0>Q||Q>M)Q=M;for(M="";q<Q;++q)M+=oa[this[q]];return M;case "utf8":case "utf-8":return Jb(this,
M,Q);case "ascii":q=M;M="";for(Q=Math.min(this.length,Q);q<Q;++q)M+=String.fromCharCode(this[q]&127);return M;case "latin1":case "binary":q=M;M="";for(Q=Math.min(this.length,Q);q<Q;++q)M+=String.fromCharCode(this[q]);return M;case "base64":return q=M,Q=0===q&&Q===this.length?Fa.fromByteArray(this):Fa.fromByteArray(this.slice(q,Q)),Q;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":Q=this.slice(M,Q);q="";for(M=0;M<Q.length-1;M+=2)q+=String.fromCharCode(Q[M]+256*Q[M+1]);return q;default:if(g)throw new TypeError("Unknown encoding: "+
q);q=(q+"").toLowerCase();g=!0}}function Yb(q,M,Q){const g=q[M];q[M]=q[Q];q[Q]=g}function Ua(q,M,Q,g,u){if(0===q.length)return-1;"string"===typeof Q?(g=Q,Q=0):2147483647<Q?Q=2147483647:-2147483648>Q&&(Q=-2147483648);Q=+Q;Q!==Q&&(Q=u?0:q.length-1);0>Q&&(Q=q.length+Q);if(Q>=q.length){if(u)return-1;Q=q.length-1}else if(0>Q)if(u)Q=0;else return-1;"string"===typeof M&&(M=k.from(M,g));if(k.isBuffer(M))return 0===M.length?-1:tb(q,M,Q,g,u);if("number"===typeof M)return M&=255,"function"===typeof Uint8Array.prototype.indexOf?
u?Uint8Array.prototype.indexOf.call(q,M,Q):Uint8Array.prototype.lastIndexOf.call(q,M,Q):tb(q,[M],Q,g,u);throw new TypeError("val must be string, number or Buffer");}function tb(q,M,Q,g,u){function m(D,I){return 1===C?D[I]:D.readUInt16BE(I*C)}let C=1;var B=q.length;let A=M.length;if(void 0!==g&&(g=String(g).toLowerCase(),"ucs2"===g||"ucs-2"===g||"utf16le"===g||"utf-16le"===g)){if(2>q.length||2>M.length)return-1;C=2;B/=2;A/=2;Q/=2}if(u)for(g=-1;Q<B;Q++)if(m(q,Q)===m(M,-1===g?0:Q-g)){if(-1===g&&(g=Q),
Q-g+1===A)return g*C}else-1!==g&&(Q-=Q-g),g=-1;else for(Q+A>B&&(Q=B-A);0<=Q;Q--){B=!0;for(g=0;g<A;g++)if(m(q,Q+g)!==m(M,g)){B=!1;break}if(B)return Q}return-1}function Jb(q,M,Q){Q=Math.min(q.length,Q);for(var g=[];M<Q;){var u=q[M];let m=null,C=239<u?4:223<u?3:191<u?2:1;if(M+C<=Q){let B,A,D;switch(C){case 1:128>u&&(m=u);break;case 2:B=q[M+1];128===(B&192)&&(u=(u&31)<<6|B&63,127<u&&(m=u));break;case 3:B=q[M+1];A=q[M+2];128===(B&192)&&128===(A&192)&&(u=(u&15)<<12|(B&63)<<6|A&63,2047<u&&(55296>u||57343<
u)&&(m=u));break;case 4:B=q[M+1],A=q[M+2],D=q[M+3],128===(B&192)&&128===(A&192)&&128===(D&192)&&(u=(u&15)<<18|(B&63)<<12|(A&63)<<6|D&63,65535<u&&1114112>u&&(m=u))}}null===m?(m=65533,C=1):65535<m&&(m-=65536,g.push(m>>>10&1023|55296),m=56320|m&1023);g.push(m);M+=C}M=g.length;if(4096>=M)g=String.fromCharCode.apply(String,g);else{q="";for(Q=0;Q<M;)q+=String.fromCharCode.apply(String,g.slice(Q,Q+=4096));g=q}return g}function Kb(q,M,Q){if(0!==q%1||0>q)throw new RangeError("offset is not uint");if(q+M>Q)throw new RangeError("Trying to access beyond buffer length");
}function Cb(q,M,Q,g,u,m){if(!k.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>u||M<m)throw new RangeError('"value" argument is out of bounds');if(Q+g>q.length)throw new RangeError("Index out of range");}function Ob(q,M,Q,g,u){mb(M,g,u,q,Q,7);g=Number(M&BigInt(4294967295));q[Q++]=g;g>>=8;q[Q++]=g;g>>=8;q[Q++]=g;q[Q++]=g>>8;M=Number(M>>BigInt(32)&BigInt(4294967295));q[Q++]=M;M>>=8;q[Q++]=M;M>>=8;q[Q++]=M;q[Q++]=M>>8;return Q}function ab(q,M,Q,g,u){mb(M,g,u,q,Q,
7);g=Number(M&BigInt(4294967295));q[Q+7]=g;g>>=8;q[Q+6]=g;g>>=8;q[Q+5]=g;q[Q+4]=g>>8;M=Number(M>>BigInt(32)&BigInt(4294967295));q[Q+3]=M;M>>=8;q[Q+2]=M;M>>=8;q[Q+1]=M;q[Q]=M>>8;return Q+8}function pb(q,M,Q,g,u,m){if(Q+g>q.length)throw new RangeError("Index out of range");if(0>Q)throw new RangeError("Index out of range");}function Qa(q,M,Q,g,u){M=+M;Q>>>=0;u||pb(q,M,Q,4,3.4028234663852886E38,-3.4028234663852886E38);Ga.write(q,M,Q,g,23,4);return Q+4}function Da(q,M,Q,g,u){M=+M;Q>>>=0;u||pb(q,M,Q,8,
1.7976931348623157E308,-1.7976931348623157E308);Ga.write(q,M,Q,g,52,8);return Q+8}function Ka(q,M,Q){eb[q]=class extends Q{constructor(){super();Object.defineProperty(this,"message",{value:M.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${q}]`;this.stack;delete this.name}get code(){return q}set code(g){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:g,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}function lb(q){let M=
"",Q=q.length;const g="-"===q[0]?1:0;for(;Q>=g+4;Q-=3)M=`_${q.slice(Q-3,Q)}${M}`;return`${q.slice(0,Q)}${M}`}function mb(q,M,Q,g,u,m){if(q>Q||q<M)throw g="bigint"===typeof M?"n":"",new eb.ERR_OUT_OF_RANGE("value",3<m?0===M||M===BigInt(0)?`>= 0${g} and < 2${g} ** ${8*(m+1)}${g}`:`>= -(2${g} ** ${8*(m+1)-1}${g}) and < 2 ** `+`${8*(m+1)-1}${g}`:`>= ${M}${g} and <= ${Q}${g}`,q);Pa(u,"offset");void 0!==g[u]&&void 0!==g[u+m]||wb(u,g.length-(m+1))}function Pa(q,M){if("number"!==typeof q)throw new eb.ERR_INVALID_ARG_TYPE(M,
"number",q);}function wb(q,M,Q){if(Math.floor(q)!==q)throw Pa(q,Q),new eb.ERR_OUT_OF_RANGE(Q||"offset","an integer",q);if(0>M)throw new eb.ERR_BUFFER_OUT_OF_BOUNDS;throw new eb.ERR_OUT_OF_RANGE(Q||"offset",`>= ${Q?1:0} and <= ${M}`,q);}function sb(q,M){M=M||Infinity;let Q;const g=q.length;let u=null;const m=[];for(let C=0;C<g;++C){Q=q.charCodeAt(C);if(55295<Q&&57344>Q){if(!u){if(56319<Q){-1<(M-=3)&&m.push(239,191,189);continue}else if(C+1===g){-1<(M-=3)&&m.push(239,191,189);continue}u=Q;continue}if(56320>
Q){-1<(M-=3)&&m.push(239,191,189);u=Q;continue}Q=(u-55296<<10|Q-56320)+65536}else u&&-1<(M-=3)&&m.push(239,191,189);u=null;if(128>Q){if(0>--M)break;m.push(Q)}else if(2048>Q){if(0>(M-=2))break;m.push(Q>>6|192,Q&63|128)}else if(65536>Q){if(0>(M-=3))break;m.push(Q>>12|224,Q>>6&63|128,Q&63|128)}else if(1114112>Q){if(0>(M-=4))break;m.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,Q&63|128)}else throw Error("Invalid code point");}return m}function Pb(q){var M=Fa,Q=M.toByteArray;q=q.split("\x3d")[0];q=q.trim().replace(ba,
"");if(2>q.length)q="";else for(;0!==q.length%4;)q+="\x3d";return Q.call(M,q)}function Vb(q,M,Q,g){let u;for(u=0;u<g&&!(u+Q>=M.length||u>=q.length);++u)M[u+Q]=q[u];return u}function nb(q,M){return q instanceof M||null!=q&&null!=q.constructor&&null!=q.constructor.name&&q.constructor.name===M.name}function qa(q){return"undefined"===typeof BigInt?Z:q}function Z(){throw Error("BigInt not supported");}const Fa=Db(24),Ga=Db(25);hc="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;ob.Buffer=k;ob.SlowBuffer=function(q){+q!=q&&(q=0);return k.alloc(+q)};ob.INSPECT_MAX_BYTES=50;ob.kMaxLength=2147483647;k.TYPED_ARRAY_SUPPORT=function(){try{const q=new Uint8Array(1),M={foo:function(){return 42}};Object.setPrototypeOf(M,Uint8Array.prototype);Object.setPrototypeOf(q,M);return 42===q.foo()}catch(q){return!1}}();k.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}});Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}});k.poolSize=8192;k.from=function(q,M,Q){return P(q,M,Q)};Object.setPrototypeOf(k.prototype,Uint8Array.prototype);Object.setPrototypeOf(k,Uint8Array);k.alloc=function(q,M,Q){jb(q);q=0>=q?v(q):void 0!==M?"string"===typeof Q?v(q).fill(M,Q):v(q).fill(M):v(q);return q};k.allocUnsafe=
function(q){return Fb(q)};k.allocUnsafeSlow=function(q){return Fb(q)};k.isBuffer=function(q){return null!=q&&!0===q._isBuffer&&q!==k.prototype};k.compare=function(q,M){nb(q,Uint8Array)&&(q=k.from(q,q.offset,q.byteLength));nb(M,Uint8Array)&&(M=k.from(M,M.offset,M.byteLength));if(!k.isBuffer(q)||!k.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===M)return 0;let Q=q.length,g=M.length;for(let u=0,m=Math.min(Q,g);u<m;++u)if(q[u]!==M[u]){Q=
q[u];g=M[u];break}return Q<g?-1:g<Q?1:0};k.isEncoding=function(q){switch(String(q).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};k.concat=function(q,M){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===q.length)return k.alloc(0);let Q;if(void 0===M)for(Q=M=0;Q<q.length;++Q)M+=q[Q].length;M=k.allocUnsafe(M);let g=
0;for(Q=0;Q<q.length;++Q){let u=q[Q];if(nb(u,Uint8Array))g+u.length>M.length?(k.isBuffer(u)||(u=k.from(u)),u.copy(M,g)):Uint8Array.prototype.set.call(M,u,g);else if(k.isBuffer(u))u.copy(M,g);else throw new TypeError('"list" argument must be an Array of Buffers');g+=u.length}return M};k.byteLength=Ab;k.prototype._isBuffer=!0;k.prototype.swap16=function(){const q=this.length;if(0!==q%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<q;M+=2)Yb(this,M,M+1);return this};
k.prototype.swap32=function(){const q=this.length;if(0!==q%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<q;M+=4)Yb(this,M,M+3),Yb(this,M+1,M+2);return this};k.prototype.swap64=function(){const q=this.length;if(0!==q%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<q;M+=8)Yb(this,M,M+7),Yb(this,M+1,M+6),Yb(this,M+2,M+5),Yb(this,M+3,M+4);return this};k.prototype.toString=function(){const q=this.length;return 0===q?"":0===arguments.length?
Jb(this,0,q):kc.apply(this,arguments)};k.prototype.toLocaleString=k.prototype.toString;k.prototype.equals=function(q){if(!k.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q?!0:0===k.compare(this,q)};k.prototype.inspect=function(){let q;const M=ob.INSPECT_MAX_BYTES;q=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim();this.length>M&&(q+=" ... ");return"\x3cBuffer "+q+"\x3e"};hc&&(k.prototype[hc]=k.prototype.inspect);k.prototype.compare=function(q,M,Q,g,u){nb(q,Uint8Array)&&
(q=k.from(q,q.offset,q.byteLength));if(!k.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);void 0===M&&(M=0);void 0===Q&&(Q=q?q.length:0);void 0===g&&(g=0);void 0===u&&(u=this.length);if(0>M||Q>q.length||0>g||u>this.length)throw new RangeError("out of range index");if(g>=u&&M>=Q)return 0;if(g>=u)return-1;if(M>=Q)return 1;M>>>=0;Q>>>=0;g>>>=0;u>>>=0;if(this===q)return 0;let m=u-g,C=Q-M;const B=Math.min(m,C);g=this.slice(g,u);
q=q.slice(M,Q);for(M=0;M<B;++M)if(g[M]!==q[M]){m=g[M];C=q[M];break}return m<C?-1:C<m?1:0};k.prototype.includes=function(q,M,Q){return-1!==this.indexOf(q,M,Q)};k.prototype.indexOf=function(q,M,Q){return Ua(this,q,M,Q,!0)};k.prototype.lastIndexOf=function(q,M,Q){return Ua(this,q,M,Q,!1)};k.prototype.write=function(q,M,Q,g){if(void 0===M)g="utf8",Q=this.length,M=0;else if(void 0===Q&&"string"===typeof M)g=M,Q=this.length,M=0;else if(isFinite(M))M>>>=0,isFinite(Q)?(Q>>>=0,void 0===g&&(g="utf8")):(g=Q,
Q=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var u=this.length-M;if(void 0===Q||Q>u)Q=u;if(0<q.length&&(0>Q||0>M)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");for(u=!1;;)switch(g){case "hex":a:{M=Number(M)||0;g=this.length-M;Q?(Q=Number(Q),Q>g&&(Q=g)):Q=g;g=q.length;Q>g/2&&(Q=g/2);for(g=0;g<Q;++g){u=parseInt(q.substr(2*g,2),16);if(u!==u){q=g;break a}this[M+g]=u}q=g}return q;case "utf8":case "utf-8":return Vb(sb(q,
this.length-M),this,M,Q);case "ascii":case "latin1":case "binary":g=[];for(u=0;u<q.length;++u)g.push(q.charCodeAt(u)&255);return Vb(g,this,M,Q);case "base64":return Vb(Pb(q),this,M,Q);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var m=void 0;g=this.length-M;const C=[];for(let B=0;B<q.length&&!(0>(g-=2));++B)m=q.charCodeAt(B),u=m>>8,m%=256,C.push(m),C.push(u);return Vb(C,this,M,Q);default:if(u)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase();u=!0}};k.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};k.prototype.slice=function(q,M){const Q=this.length;q=~~q;M=void 0===M?Q:~~M;0>q?(q+=Q,0>q&&(q=0)):q>Q&&(q=Q);0>M?(M+=Q,0>M&&(M=0)):M>Q&&(M=Q);M<q&&(M=q);q=this.subarray(q,M);Object.setPrototypeOf(q,k.prototype);return q};k.prototype.readUintLE=k.prototype.readUIntLE=function(q,M,Q){q>>>=0;M>>>=0;Q||Kb(q,M,this.length);Q=this[q];let g=1,u=0;for(;++u<M&&(g*=256);)Q+=this[q+u]*g;return Q};k.prototype.readUintBE=k.prototype.readUIntBE=function(q,M,
Q){q>>>=0;M>>>=0;Q||Kb(q,M,this.length);Q=this[q+--M];let g=1;for(;0<M&&(g*=256);)Q+=this[q+--M]*g;return Q};k.prototype.readUint8=k.prototype.readUInt8=function(q,M){q>>>=0;M||Kb(q,1,this.length);return this[q]};k.prototype.readUint16LE=k.prototype.readUInt16LE=function(q,M){q>>>=0;M||Kb(q,2,this.length);return this[q]|this[q+1]<<8};k.prototype.readUint16BE=k.prototype.readUInt16BE=function(q,M){q>>>=0;M||Kb(q,2,this.length);return this[q]<<8|this[q+1]};k.prototype.readUint32LE=k.prototype.readUInt32LE=
function(q,M){q>>>=0;M||Kb(q,4,this.length);return(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]};k.prototype.readUint32BE=k.prototype.readUInt32BE=function(q,M){q>>>=0;M||Kb(q,4,this.length);return 16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])};k.prototype.readBigUInt64LE=qa(function(q){q>>>=0;Pa(q,"offset");var M=this[q];const Q=this[q+7];void 0!==M&&void 0!==Q||wb(q,this.length-8);M=M+this[++q]*Math.pow(2,8)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,24);q=this[++q]+this[++q]*
Math.pow(2,8)+this[++q]*Math.pow(2,16)+Q*Math.pow(2,24);return BigInt(M)+(BigInt(q)<<BigInt(32))});k.prototype.readBigUInt64BE=qa(function(q){q>>>=0;Pa(q,"offset");var M=this[q];const Q=this[q+7];void 0!==M&&void 0!==Q||wb(q,this.length-8);M=M*Math.pow(2,24)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,8)+this[++q];q=this[++q]*Math.pow(2,24)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,8)+Q;return(BigInt(M)<<BigInt(32))+BigInt(q)});k.prototype.readIntLE=function(q,M,Q){q>>>=0;M>>>=0;Q||Kb(q,M,this.length);
Q=this[q];let g=1,u=0;for(;++u<M&&(g*=256);)Q+=this[q+u]*g;Q>=128*g&&(Q-=Math.pow(2,8*M));return Q};k.prototype.readIntBE=function(q,M,Q){q>>>=0;M>>>=0;Q||Kb(q,M,this.length);Q=M;let g=1,u=this[q+--Q];for(;0<Q&&(g*=256);)u+=this[q+--Q]*g;u>=128*g&&(u-=Math.pow(2,8*M));return u};k.prototype.readInt8=function(q,M){q>>>=0;M||Kb(q,1,this.length);return this[q]&128?-1*(255-this[q]+1):this[q]};k.prototype.readInt16LE=function(q,M){q>>>=0;M||Kb(q,2,this.length);q=this[q]|this[q+1]<<8;return q&32768?q|4294901760:
q};k.prototype.readInt16BE=function(q,M){q>>>=0;M||Kb(q,2,this.length);q=this[q+1]|this[q]<<8;return q&32768?q|4294901760:q};k.prototype.readInt32LE=function(q,M){q>>>=0;M||Kb(q,4,this.length);return this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24};k.prototype.readInt32BE=function(q,M){q>>>=0;M||Kb(q,4,this.length);return this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]};k.prototype.readBigInt64LE=qa(function(q){q>>>=0;Pa(q,"offset");const M=this[q],Q=this[q+7];void 0!==M&&void 0!==Q||wb(q,this.length-
8);return(BigInt(this[q+4]+this[q+5]*Math.pow(2,8)+this[q+6]*Math.pow(2,16)+(Q<<24))<<BigInt(32))+BigInt(M+this[++q]*Math.pow(2,8)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,24))});k.prototype.readBigInt64BE=qa(function(q){q>>>=0;Pa(q,"offset");var M=this[q];const Q=this[q+7];void 0!==M&&void 0!==Q||wb(q,this.length-8);M=(M<<24)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,8)+this[++q];return(BigInt(M)<<BigInt(32))+BigInt(this[++q]*Math.pow(2,24)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,
8)+Q)});k.prototype.readFloatLE=function(q,M){q>>>=0;M||Kb(q,4,this.length);return Ga.read(this,q,!0,23,4)};k.prototype.readFloatBE=function(q,M){q>>>=0;M||Kb(q,4,this.length);return Ga.read(this,q,!1,23,4)};k.prototype.readDoubleLE=function(q,M){q>>>=0;M||Kb(q,8,this.length);return Ga.read(this,q,!0,52,8)};k.prototype.readDoubleBE=function(q,M){q>>>=0;M||Kb(q,8,this.length);return Ga.read(this,q,!1,52,8)};k.prototype.writeUintLE=k.prototype.writeUIntLE=function(q,M,Q,g){q=+q;M>>>=0;Q>>>=0;g||Cb(this,
q,M,Q,Math.pow(2,8*Q)-1,0);g=1;let u=0;for(this[M]=q&255;++u<Q&&(g*=256);)this[M+u]=q/g&255;return M+Q};k.prototype.writeUintBE=k.prototype.writeUIntBE=function(q,M,Q,g){q=+q;M>>>=0;Q>>>=0;g||Cb(this,q,M,Q,Math.pow(2,8*Q)-1,0);g=Q-1;let u=1;for(this[M+g]=q&255;0<=--g&&(u*=256);)this[M+g]=q/u&255;return M+Q};k.prototype.writeUint8=k.prototype.writeUInt8=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,1,255,0);this[M]=q&255;return M+1};k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function(q,M,Q){q=
+q;M>>>=0;Q||Cb(this,q,M,2,65535,0);this[M]=q&255;this[M+1]=q>>>8;return M+2};k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,2,65535,0);this[M]=q>>>8;this[M+1]=q&255;return M+2};k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,4,4294967295,0);this[M+3]=q>>>24;this[M+2]=q>>>16;this[M+1]=q>>>8;this[M]=q&255;return M+4};k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,
q,M,4,4294967295,0);this[M]=q>>>24;this[M+1]=q>>>16;this[M+2]=q>>>8;this[M+3]=q&255;return M+4};k.prototype.writeBigUInt64LE=qa(function(q,M=0){return Ob(this,q,M,BigInt(0),BigInt("0xffffffffffffffff"))});k.prototype.writeBigUInt64BE=qa(function(q,M=0){return ab(this,q,M,BigInt(0),BigInt("0xffffffffffffffff"))});k.prototype.writeIntLE=function(q,M,Q,g){q=+q;M>>>=0;g||(g=Math.pow(2,8*Q-1),Cb(this,q,M,Q,g-1,-g));g=0;let u=1,m=0;for(this[M]=q&255;++g<Q&&(u*=256);)0>q&&0===m&&0!==this[M+g-1]&&(m=1),this[M+
g]=(q/u>>0)-m&255;return M+Q};k.prototype.writeIntBE=function(q,M,Q,g){q=+q;M>>>=0;g||(g=Math.pow(2,8*Q-1),Cb(this,q,M,Q,g-1,-g));g=Q-1;let u=1,m=0;for(this[M+g]=q&255;0<=--g&&(u*=256);)0>q&&0===m&&0!==this[M+g+1]&&(m=1),this[M+g]=(q/u>>0)-m&255;return M+Q};k.prototype.writeInt8=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,1,127,-128);0>q&&(q=255+q+1);this[M]=q&255;return M+1};k.prototype.writeInt16LE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,2,32767,-32768);this[M]=q&255;this[M+1]=q>>>8;return M+
2};k.prototype.writeInt16BE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,2,32767,-32768);this[M]=q>>>8;this[M+1]=q&255;return M+2};k.prototype.writeInt32LE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,4,2147483647,-2147483648);this[M]=q&255;this[M+1]=q>>>8;this[M+2]=q>>>16;this[M+3]=q>>>24;return M+4};k.prototype.writeInt32BE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,4,2147483647,-2147483648);0>q&&(q=4294967295+q+1);this[M]=q>>>24;this[M+1]=q>>>16;this[M+2]=q>>>8;this[M+3]=q&255;return M+4};k.prototype.writeBigInt64LE=
qa(function(q,M=0){return Ob(this,q,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});k.prototype.writeBigInt64BE=qa(function(q,M=0){return ab(this,q,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});k.prototype.writeFloatLE=function(q,M,Q){return Qa(this,q,M,!0,Q)};k.prototype.writeFloatBE=function(q,M,Q){return Qa(this,q,M,!1,Q)};k.prototype.writeDoubleLE=function(q,M,Q){return Da(this,q,M,!0,Q)};k.prototype.writeDoubleBE=function(q,M,Q){return Da(this,q,M,!1,Q)};k.prototype.copy=
function(q,M,Q,g){if(!k.isBuffer(q))throw new TypeError("argument should be a Buffer");Q||(Q=0);g||0===g||(g=this.length);M>=q.length&&(M=q.length);M||(M=0);0<g&&g<Q&&(g=Q);if(g===Q||0===q.length||0===this.length)return 0;if(0>M)throw new RangeError("targetStart out of bounds");if(0>Q||Q>=this.length)throw new RangeError("Index out of range");if(0>g)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length);q.length-M<g-Q&&(g=q.length-M+Q);const u=g-Q;this===q&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(M,Q,g):Uint8Array.prototype.set.call(q,this.subarray(Q,g),M);return u};k.prototype.fill=function(q,M,Q,g){if("string"===typeof q){"string"===typeof M?(g=M,M=0,Q=this.length):"string"===typeof Q&&(g=Q,Q=this.length);if(void 0!==g&&"string"!==typeof g)throw new TypeError("encoding must be a string");if("string"===typeof g&&!k.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(1===q.length){var u=q.charCodeAt(0);if("utf8"===g&&128>u||"latin1"===g)q=u}}else"number"===typeof q?
q&=255:"boolean"===typeof q&&(q=Number(q));if(0>M||this.length<M||this.length<Q)throw new RangeError("Out of range index");if(Q<=M)return this;M>>>=0;Q=void 0===Q?this.length:Q>>>0;q||(q=0);if("number"===typeof q)for(g=M;g<Q;++g)this[g]=q;else{u=k.isBuffer(q)?q:k.from(q,g);const m=u.length;if(0===m)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(g=0;g<Q-M;++g)this[g+M]=u[g%m]}return this};const eb={};Ka("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);Ka("ERR_INVALID_ARG_TYPE",function(q,M){return`The "${q}" argument must be of type number. Received type ${typeof M}`},TypeError);Ka("ERR_OUT_OF_RANGE",function(q,M,Q){q=`The value of "${q}" is out of range.`;let g=Q;if(Number.isInteger(Q)&&Math.abs(Q)>Math.pow(2,32))g=lb(String(Q));else if("bigint"===typeof Q){g=String(Q);if(Q>Math.pow(BigInt(2),BigInt(32))||Q<-Math.pow(BigInt(2),BigInt(32)))g=lb(g);g+="n"}return q+` It must be ${M}. Received ${g}`},
RangeError);const ba=/[^+/0-9A-Za-z-_]/g,oa=function(){const q=Array(256);for(let M=0;16>M;++M){const Q=16*M;for(let g=0;16>g;++g)q[Q+g]="0123456789abcdef"[M]+"0123456789abcdef"[g]}return q}()};
shadow$provide[27]=function(hc,Db,Wc,ob){var v=Db(26).Buffer;(function(k,P){"object"===typeof ob&&"undefined"!==typeof Wc?P(ob,Db(20),Db(21),Db(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,P(k.vega={},k.vega,k.topojson,k.vega))})(this,function(k,P,jb,Fb){function bc(ba,oa){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const M=yield q.sanitize(ba,oa),
Q=M.href;return M.localFile?q.file(Q):q.http(Q,oa)})}function vc(ba,oa){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){oa=P.extend({},q.options,oa);const M=q.fileAccess,Q={href:null};var g;let u;var m=Pa.test(ba.replace(wb,""));null!=ba&&"string"===typeof ba&&m||P.error("Sanitize failure, invalid URI: "+P.stringValue(ba));m=mb.test(ba);(g=oa.baseURL)&&!m&&(ba.startsWith("/")||g.endsWith("/")||(ba="/"+ba),ba=g+ba);u=(g=ba.startsWith("file://"))||"file"===oa.mode||"http"!==
oa.mode&&!m&&M;g?ba=ba.slice(7):ba.startsWith("//")&&("file"===oa.defaultProtocol?(ba=ba.slice(2),u=!0):ba=(oa.defaultProtocol||"http")+":"+ba);Object.defineProperty(Q,"localFile",{value:!!u});Q.href=ba;oa.target&&(Q.target=oa.target+"");oa.rel&&(Q.rel=oa.rel+"");"image"===oa.context&&oa.crossOrigin&&(Q.crossOrigin=oa.crossOrigin+"");return Q})}function Bc(ba){return ba?oa=>new Promise((q,M)=>{ba.readFile(oa,(Q,g)=>{Q?M(Q):q(g)})}):uc}function uc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No file system access.")})}
function Ab(ba){return ba?function(oa,q){const M=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Q=P.extend({},M.options.http,q);const g=q&&q.response;Q=yield ba(oa,Q);return Q.ok?P.isFunction(Q[g])?Q[g]():Q.text():P.error(Q.status+""+Q.statusText)})}:kc}function kc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No HTTP fetch method available.")})}function Yb(ba,oa){if(!ba||!ba.length)return"unknown";const q=ba.length,M=Vb.length,Q=Vb.map((g,u)=>
u+1);for(let g=0,u=0,m,C;g<q;++g)for(C=oa?ba[g][oa]:ba[g],m=0;m<M;++m)if(Q[m]&&null!=C&&C===C&&!Vb[m](C)&&(Q[m]=0,++u,u===Vb.length))return"string";return nb[Q.reduce((g,u)=>0===g?u:g,0)-1]}function Ua(ba,oa){return oa.reduce((q,M)=>{q[M]=Yb(ba,M);return q},{})}function tb(ba){return new Function("d","return {"+ba.map(function(oa,q){return JSON.stringify(oa)+": d["+q+'] || ""'}).join(",")+"}")}function Jb(ba,oa){var q=tb(ba);return function(M,Q){return oa(q(M),Q,ba)}}function Kb(ba){var oa=Object.create(null),
q=[];ba.forEach(function(M){for(var Q in M)Q in oa||q.push(oa[Q]=Q)});return q}function Cb(ba,oa){ba+="";var q=ba.length;return q<oa?Array(oa-q+1).join(0)+ba:ba}function Ob(ba){function oa(m,C){function B(){if(Y)return Z;if(t)return t=!1,qa;var va,La=I,Wa;if(34===m.charCodeAt(La)){for(;I++<D&&34!==m.charCodeAt(I)||34===m.charCodeAt(++I););(va=I)>=D?Y=!0:10===(Wa=m.charCodeAt(I++))?t=!0:13===Wa&&(t=!0,10===m.charCodeAt(I)&&++I);return m.slice(La+1,va-1).replace(/""/g,'"')}for(;I<D;){if(10===(Wa=m.charCodeAt(va=
I++)))t=!0;else if(13===Wa)t=!0,10===m.charCodeAt(I)&&++I;else if(Wa!==u)continue;return m.slice(La,va)}return Y=!0,m.slice(La,D)}var A=[],D=m.length,I=0,V=0,Aa,Y=0>=D,t=!1;10===m.charCodeAt(D-1)&&--D;for(13===m.charCodeAt(D-1)&&--D;(Aa=B())!==Z;){for(var L=[];Aa!==qa&&Aa!==Z;)L.push(Aa),Aa=B();C&&null==(L=C(L,V++))||A.push(L)}return A}function q(m,C){return m.map(function(B){return C.map(function(A){return Q(B[A])}).join(ba)})}function M(m){return m.map(Q).join(ba)}function Q(m){if(null==m)m="";
else{if(m instanceof Date){var C=m.getUTCHours();var B=m.getUTCMinutes(),A=m.getUTCSeconds(),D=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var I=m.getUTCFullYear();m=(0>I?"-"+Cb(-I,6):9999<I?"+"+Cb(I,6):Cb(I,4))+"-"+Cb(m.getUTCMonth()+1,2)+"-"+Cb(m.getUTCDate(),2)+(D?"T"+Cb(C,2)+":"+Cb(B,2)+":"+Cb(A,2)+"."+Cb(D,3)+"Z":A?"T"+Cb(C,2)+":"+Cb(B,2)+":"+Cb(A,2)+"Z":B||C?"T"+Cb(C,2)+":"+Cb(B,2)+"Z":"")}C=m}else C=g.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=C}return m}var g=new RegExp('["'+
ba+"\n\r]"),u=ba.charCodeAt(0);return{parse:function(m,C){var B,A;m=oa(m,function(D,I){if(B)return B(D,I-1);A=D;B=C?Jb(D,C):tb(D)});m.columns=A||[];return m},parseRows:oa,format:function(m,C){null==C&&(C=Kb(m));return[C.map(Q).join(ba)].concat(q(m,C)).join("\n")},formatBody:function(m,C){null==C&&(C=Kb(m));return q(m,C).join("\n")},formatRows:function(m){return m.map(M).join("\n")},formatRow:M,formatValue:Q}}function ab(ba){const oa=function(q,M){const Q={delimiter:ba};return pb(q,M?P.extend(M,Q):
Q)};oa.responseType="text";return oa}function pb(ba,oa){oa.header&&(ba=oa.header.map(P.stringValue).join(oa.delimiter)+"\n"+ba);return Ob(oa.delimiter).parse(ba+"")}function Qa(ba,oa){const q=oa&&oa.property?P.field(oa.property):P.identity;var M;if(M=P.isObject(ba))M=!("function"===typeof v&&P.isFunction(v.isBuffer)&&v.isBuffer(ba));M?(ba=q(ba),!P.isArray(ba)&&P.isIterable(ba)&&(ba=[...ba]),oa=oa&&oa.copy?JSON.parse(JSON.stringify(ba)):ba):oa=q(JSON.parse(ba));return oa}function Da(ba,oa){let q,M,
Q,g;ba=Qa(ba,oa);oa&&oa.feature?(q=jb.feature,Q=oa.feature):oa&&oa.mesh?(q=jb.mesh,Q=oa.mesh,g=Fa[oa.filter]):P.error("Missing TopoJSON feature or mesh parameter.");return(M=(M=ba.objects[Q])?q(ba,M,g):P.error("Invalid TopoJSON object: "+Q))&&M.features||[M]}function Ka(ba,oa){return 1<arguments.length?(Ga[ba]=oa,this):P.hasOwnProperty(Ga,ba)?Ga[ba]:null}function lb(ba,oa,q,M){if(ba.length){var Q=Fb.timeFormatDefaultLocale();q=q||Q.timeParse;M=M||Q.utcParse;Q=ba.columns||Object.keys(ba[0]);var g,
u;"auto"===oa&&(oa=Ua(ba,Q));Q=Object.keys(oa);var m=Q.map(I=>{var V=oa[I];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){I=V.split(/:(.+)?/,2);V=I[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===I[0]?M:q)(V)}if(!Pb[V])throw Error("Illegal format pattern: "+I+":"+V);return Pb[V]});var C=0;var B=ba.length;for(u=Q.length;C<B;++C){var A=ba[C];for(g=0;g<u;++g){var D=Q[g];A[D]=m[g](A[D])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Pa=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
wb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sb=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),Pb={boolean:P.toBoolean,integer:P.toNumber,number:P.toNumber,date:P.toDate,string:P.toString,unknown:P.identity},Vb=[ba=>"true"===ba||"false"===ba||!0===ba||!1===ba,ba=>sb(ba)&&Number.isInteger(+ba),sb,ba=>!Number.isNaN(Date.parse(ba))],nb=["boolean","integer","number","date"];var qa={},Z={};pb.responseType="text";Qa.responseType="json";const Fa={interior:(ba,oa)=>ba!==oa,exterior:(ba,
oa)=>ba===oa};Da.responseType="json";const Ga={dsv:pb,csv:ab(","),tsv:ab("\t"),json:Qa,topojson:Da},eb=function(ba,oa){return q=>({options:q||{},sanitize:vc,load:bc,fileAccess:!!oa,file:Bc(oa),http:Ab(ba)})}("undefined"!==typeof fetch&&fetch,null);k.format=Ga;k.formats=Ka;k.inferType=Yb;k.inferTypes=Ua;k.loader=eb;k.read=function(ba,oa,q,M){oa=oa||{};const Q=Ka(oa.type||"json");Q||P.error("Unknown data format type: "+oa.type);ba=Q(ba,oa);oa.parse&&lb(ba,oa.parse,q,M);P.hasOwnProperty(ba,"columns")&&
delete ba.columns;return ba};k.responseType=function(ba){return(ba=Ka(ba))&&ba.responseType||"text"};k.typeParsers=Pb})};
shadow$provide[28]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(27),Db(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,jb){function Fb(g){const u=g||k.identity,m=[],C={};m.add=B=>{const A=u(B);C[A]||(C[A]=1,m.push(B));return m};m.remove=B=>{const A=u(B);C[A]&&(C[A]=0,B=m.indexOf(B),
0<=B&&m.splice(B,1));return m};return m}function bc(g,u){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield u(g)}catch(m){g.error(m)}})}function vc(g){g=g===Object(g)?g:{data:g};if(!g[Z]){var u=Fa++;g[Z]=u}return g}function Bc(g,u){for(const m in g)u[m]=g[m];return u}function uc(g){return g&&g.constructor===Ab}function Ab(){const g=[],u=[],m=[],C=[],B=[];let A=null,D=!1;return{constructor:Ab,insert(I){I=k.array(I);const V=I.length;for(let Aa=0;Aa<V;++Aa)g.push(I[Aa]);return this},
remove(I){const V=k.isFunction(I)?C:u;I=k.array(I);const Aa=I.length;for(let Y=0;Y<Aa;++Y)V.push(I[Y]);return this},modify(I,V,Aa){V={field:V,value:k.constant(Aa)};k.isFunction(I)?(V.filter=I,B.push(V)):(V.tuple=I,m.push(V));return this},encode(I,V){k.isFunction(I)?B.push({filter:I,field:V}):m.push({tuple:I,field:V});return this},clean(I){A=I;return this},reflow(){D=!0;return this},pulse(I,V){function Aa(Ca,Xa,Ib){Ib?Ca[Xa]=Ib(Ca):I.encode=Xa;D||(t[Ca[Z]]=Ca)}const Y={},t={};let L,va,La,Wa,$a,X;L=
0;for(va=V.length;L<va;++L)Y[V[L][Z]]=1;L=0;for(va=u.length;L<va;++L)$a=u[L],Y[$a[Z]]=-1;L=0;for(va=C.length;L<va;++L)Wa=C[L],V.forEach(Ca=>{Wa(Ca)&&(Y[Ca[Z]]=-1)});L=0;for(va=g.length;L<va;++L)$a=g[L],X=$a[Z],Y[X]?Y[X]=1:I.add.push(vc(g[L]));L=0;for(va=V.length;L<va;++L)$a=V[L],0>Y[$a[Z]]&&I.rem.push($a);L=0;for(va=m.length;L<va;++L)La=m[L],$a=La.tuple,Wa=La.field,X=Y[$a[Z]],0<X&&(Aa($a,Wa,La.value),I.modifies(Wa));L=0;for(va=B.length;L<va;++L)La=B[L],Wa=La.filter,V.forEach(Ca=>{Wa(Ca)&&0<Y[Ca[Z]]&&
Aa(Ca,La.field,La.value)}),I.modifies(La.field);if(D)I.mod=u.length||C.length?V.filter(Ca=>0<Y[Ca[Z]]):V.slice();else for(X in t)I.mod.push(t[X]);(A||null==A&&(u.length||C.length))&&I.clean(!0);return I}}}function kc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Yb(g,u,m,C){this.id=++Ga;this.value=g;this.qrank=this.rank=this.stamp=-1;this.flags=0;u&&(this._update=u);m&&this.parameters(m,C)}function Ua(g){return function(u){const m=this.flags;if(0===arguments.length)return!!(m&
g);this.flags=u?m|g:m&~g;return this}}function tb(g,u,m){this.id=++ba;this.value=null;m&&(this.receive=m);g&&(this._filter=g);u&&(this._apply=u)}function Jb(g,u,m){return new tb(g,u,m)}function Kb(g){let u;const m=new Promise(C=>u=C);m.requests=0;m.done=()=>{0===--m.requests&&(g._pending=null,u(g))};return g._pending=m}function Cb(g,u,m,C,B,A){const D=k.extend({},A,oa);let I;k.isFunction(m)||(m=k.constant(m));void 0===C?B=V=>g.touch(m(V)):k.isFunction(C)?(I=new Yb(null,C,B,!1),B=V=>{I.evaluate(V);
V=m(V);const Aa=I.value;uc(Aa)?g.pulse(V,Aa,A):g.update(V,Aa,D)}):B=V=>g.update(m(V),C,D);u.apply(B)}function Ob(g,u,m,C,B,A){void 0===C?u.targets().add(m):(A=A||{},C=new Yb(null,ab(m,C),B,!1),C.modified(A.force),C.rank=u.rank,u.targets().add(C),m&&(C.skip(!0),C.value=m.value,C.targets().add(m),g.connect(m,[C])))}function ab(g,u){u=k.isFunction(u)?u:k.constant(u);return g?function(m,C){m=u(m,C);g.skip()||(g.skip(m!==this.value).value=m);return m}:u}function pb(g,u,m){this.dataflow=g;this.stamp=null==
u?-1:u;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Qa(g,u){const m=[];k.visitArray(g,u,C=>m.push(C));return m}function Da(g,u){const m={};g.visit(u,C=>{m[C[Z]]=1});return C=>m[C[Z]]?null:C}function Ka(g,u){return g?(m,C)=>g(m,C)&&u(m,C):u}function lb(g,u,m,C){let B=0;this.dataflow=g;this.stamp=u;this.fields=null;this.encode=C||null;this.pulses=m;for(const A of m)if(A.stamp===u){if(A.fields){g=this.fields||(this.fields={});for(const D in A.fields)g[D]=1}A.changed(this.ADD)&&
(B|=this.ADD);A.changed(this.REM)&&(B|=this.REM);A.changed(this.MOD)&&(B|=this.MOD)}this.changes=B}function mb(g){g.error("Dataflow already running. Use runAsync() to chain invocations.");return g}function Pa(g,u){if(u&&u.stamp===g.stamp)return u;g=g.fork();u&&u!==q&&(g.source=u.source);return g}function wb(g){let u=[];return{clear:()=>u=[],size:()=>u.length,peek:()=>u[0],push:m=>{u.push(m);return sb(u,0,u.length-1,g)},pop:()=>{var m=u.pop();let C;if(u.length){C=u[0];u[0]=m;m=u;var B=0;const A=B,
D=m.length,I=m[B];let V=(B<<1)+1,Aa;for(;V<D;)Aa=V+1,Aa<D&&0<=g(m[V],m[Aa])&&(V=Aa),m[B]=m[V],B=V,V=(B<<1)+1;m[B]=I;sb(m,A,B,g)}else C=m;return C}}}function sb(g,u,m,C){let B,A;const D=g[m];for(;m>u;)if(A=m-1>>1,B=g[A],0>C(D,B))g[m]=B,m=A;else break;return g[m]=D}function Pb(){this.logger(k.logger());this.logLevel(k.Error);this._rank=this._clock=0;this._locale=jb.defaultLocale();try{this._loader=P.loader()}catch(g){}this._touched=Fb(k.id);this._input={};this._pulse=null;this._heap=wb((g,u)=>g.qrank-
u.qrank);this._postrun=[]}function Vb(g){return function(){return this._log[g].apply(this,arguments)}}function nb(g,u){Yb.call(this,g,null,u)}function qa(g){g=g&&g.toLowerCase();return k.hasOwnProperty(Q,g)?Q[g]:null}const Z=Symbol("vega_id");let Fa=1;kc.prototype={set(g,u,m,C){const B=this[g],A=this["_:mod:_"];if(null!=u&&0<=u){if(B[u]!==m||C)B[u]=m,A[u+":"+g]=-1,A[g]=-1}else if(B!==m||C)this[g]=m,A[g]=k.isArray(m)?1+m.length:-1;return this},modified(g,u){const m=this["_:mod:_"];if(!arguments.length){for(var C in m)if(m[C])return!0;
return!1}if(k.isArray(g)){for(C=0;C<g.length;++C)if(m[g[C]])return!0;return!1}return null!=u&&0<=u?u+1<m[g]||!!m[u+":"+g]:!!m[g]},clear(){this["_:mod:_"]={};return this}};let Ga=0;const eb=new kc;Yb.prototype={targets(){return this._targets||(this._targets=Fb(k.id))},set(g){return this.value!==g?(this.value=g,1):0},skip:Ua(1),modified:Ua(2),parameters(g,u,m){u=!1!==u;const C=this._argval=this._argval||new kc,B=this._argops=this._argops||[],A=[];let D,I,V,Aa;const Y=(t,L,va)=>{va instanceof Yb?(va!==
this&&(u&&va.targets().add(this),A.push(va)),B.push({op:va,name:t,index:L})):C.set(t,L,va)};for(D in g)if(I=g[D],"pulse"===D)k.array(I).forEach(t=>{t instanceof Yb?t!==this&&(t.targets().add(this),A.push(t)):k.error("Pulse parameters must be operator instances.")}),this.source=I;else if(k.isArray(I))for(C.set(D,-1,Array(V=I.length)),Aa=0;Aa<V;++Aa)Y(D,Aa,I[Aa]);else Y(D,-1,I);this.marshall().clear();m&&(B.initonly=!0);return A},marshall(g){const u=this._argval||eb,m=this._argops;let C,B,A,D;if(m){const I=
m.length;for(B=0;B<I;++B)C=m[B],A=C.op,D=A.modified()&&A.stamp===g,u.set(C.name,C.index,A.value,D);if(m.initonly){for(B=0;B<I;++B)C=m[B],C.op.targets().remove(this);this._update=this._argops=null}}return u},detach(){const g=this._argops;let u,m;if(g)for(u=0,m=g.length;u<m;++u){var C=g[u];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(g){var u=this._update;if(u){const m=this.marshall(g.stamp);u=u.call(this,m,g);m.clear();if(u!==this.value)this.value=u;else if(!this.modified())return g.StopPropagation}},
run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?(this.skip(!1),u=0):u=this.evaluate(g);return this.pulse=u||g}};let ba=0;tb.prototype={_filter:k.truthy,_apply:k.identity,targets(){return this._targets||(this._targets=Fb(k.id))},consume(g){if(!arguments.length)return!!this._consume;this._consume=!!g;return this},receive(g){if(this._filter(g)){const u=this.value=this._apply(g),m=this._targets,C=m?m.length:0;for(let B=0;B<C;++B)m[B].receive(u);this._consume&&(g.preventDefault(),
g.stopPropagation())}},filter(g){g=Jb(g);this.targets().add(g);return g},apply(g){g=Jb(null,g);this.targets().add(g);return g},merge(){const g=Jb();this.targets().add(g);for(let u=0,m=arguments.length;u<m;++u)arguments[u].targets().add(g);return g},throttle(g){let u=-1;return this.filter(()=>{const m=Date.now();return m-u>g?(u=m,1):0})},debounce(g){const u=Jb();this.targets().add(Jb(null,null,k.debounce(g,m=>{const C=m.dataflow;u.receive(m);C&&C.run&&C.run()})));return u},between(g,u){let m=!1;g.targets().add(Jb(null,
null,()=>m=!0));u.targets().add(Jb(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=k.truthy;this._targets=null}};const oa={skip:!0},q={};pb.prototype={StopPropagation:q,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(g){return(new pb(this.dataflow)).init(this,g)},clone(){const g=this.fork(7);g.add=g.add.slice();g.rem=g.rem.slice();g.mod=g.mod.slice();g.source&&(g.source=g.source.slice());return g.materialize(23)},addAll(){let g=this;
g.source&&g.add!==g.rem&&(g.rem.length||g.source.length!==g.add.length)&&(g=(new pb(this.dataflow)).init(this),g.add=g.source,g.rem=[]);return g},init(g,u){this.stamp=g.stamp;this.encode=g.encode;!g.fields||u&64||(this.fields=g.fields);u&1?(this.addF=g.addF,this.add=g.add):(this.addF=null,this.add=[]);u&2?(this.remF=g.remF,this.rem=g.rem):(this.remF=null,this.rem=[]);u&4?(this.modF=g.modF,this.mod=g.mod):(this.modF=null,this.mod=[]);u&32?this.source=this.srcF=null:(this.srcF=g.srcF,this.source=g.source,
g.cleans&&(this.cleans=g.cleans));return this},runAfter(g){this.dataflow.runAfter(g)},changed(g){g=g||7;return g&1&&this.add.length||g&2&&this.rem.length||g&4&&this.mod.length},reflow(g){if(g)return this.fork(7).reflow();g=this.add.length;const u=this.source&&this.source.length;u&&u!==g&&(this.mod=this.source,g&&this.filter(4,Da(this,1)));return this},clean(g){return arguments.length?(this.cleans=!!g,this):this.cleans},modifies(g){const u=this.fields||(this.fields={});k.isArray(g)?g.forEach(m=>u[m]=
!0):u[g]=!0;return this},modified(g,u){const m=this.fields;return(u||this.mod.length)&&m?arguments.length?k.isArray(g)?g.some(C=>m[C]):m[g]:!!m:!1},filter(g,u){g&1&&(this.addF=Ka(this.addF,u));g&2&&(this.remF=Ka(this.remF,u));g&4&&(this.modF=Ka(this.modF,u));g&16&&(this.srcF=Ka(this.srcF,u));return this},materialize(g){g=g||7;g&1&&this.addF&&(this.add=Qa(this.add,this.addF),this.addF=null);g&2&&this.remF&&(this.rem=Qa(this.rem,this.remF),this.remF=null);g&4&&this.modF&&(this.mod=Qa(this.mod,this.modF),
this.modF=null);g&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(g,u){if(g&16)return k.visitArray(this.source,this.srcF,u),this;g&1&&k.visitArray(this.add,this.addF,u);g&2&&k.visitArray(this.rem,this.remF,u);g&4&&k.visitArray(this.mod,this.modF,u);const m=this.source;g&8&&m&&(g=this.add.length+this.mod.length,g!==m.length&&(g?k.visitArray(m,Da(this,5),u):k.visitArray(m,this.srcF,u)));return this}};k.inherits(lb,pb,{fork(g){const u=(new pb(this.dataflow)).init(this,
g&this.NO_FIELDS);void 0!==g&&(g&u.ADD&&this.visit(u.ADD,m=>u.add.push(m)),g&u.REM&&this.visit(u.REM,m=>u.rem.push(m)),g&u.MOD&&this.visit(u.MOD,m=>u.mod.push(m)));return u},changed(g){return this.changes&g},modified(g){const u=this.fields;return u&&this.changes&this.MOD?k.isArray(g)?g.some(m=>u[m]):u[g]:0},filter(){k.error("MultiPulse does not support filtering.")},materialize(){k.error("MultiPulse does not support materialization.")},visit(g,u){const m=this.pulses,C=m.length;let B=0;if(g&this.SOURCE)for(;B<
C;++B)m[B].visit(g,u);else for(;B<C;++B)m[B].stamp===this.stamp&&m[B].visit(g,u);return this}});const M={skip:!1,force:!1};Pb.prototype={stamp(){return this._clock},loader(g){return arguments.length?(this._loader=g,this):this._loader},locale(g){return arguments.length?(this._locale=g,this):this._locale},logger(g){return arguments.length?(this._log=g,this):this._log},error:Vb("error"),warn:Vb("warn"),info:Vb("info"),debug:Vb("debug"),logLevel:Vb("level"),cleanThreshold:1E4,add:function(g,u,m,C){let B=
1;g instanceof Yb||(g&&g.prototype instanceof Yb?g=new g:k.isFunction(g)?g=new Yb(null,g):(B=0,g=new Yb(g,u)));this.rank(g);B&&(C=m,m=u);m&&this.connect(g,g.parameters(m,C));this.touch(g);return g},connect:function(g,u){const m=g.rank,C=u.length;for(let B=0;B<C;++B)if(m<u[B].rank){this.rerank(g);break}},rank:function(g){g.rank=++this._rank},rerank:function(g){const u=[g];let m,C,B;for(;u.length;)if(this.rank(m=u.pop()),C=m._targets)for(B=C.length;0<=--B;)u.push(m=C[B]),m===g&&k.error("Cycle detected in dataflow graph.")},
pulse:function(g,u,m){this.touch(g,m||M);m=new pb(this,this._clock+(this._pulse?0:1));const C=g.pulse&&g.pulse.source||[];m.target=g;this._input[g.id]=u.pulse(m,C);return this},touch:function(g,u){u=u||M;this._pulse?this._enqueue(g):this._touched.add(g);u.skip&&g.skip(!0);return this},update:function(g,u,m){m=m||M;(g.set(u)||m.force)&&this.touch(g,m);return this},changeset:Ab,ingest:function(g,u,m){u=this.parse(u,m);return this.pulse(g,this.changeset().insert(u))},parse:function(g,u){const m=this.locale();
return P.read(g,u,m.timeParse,m.utcParse)},preload:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Kb(C);B.requests+=1;const A=yield C.request(u,m);C.pulse(g,C.changeset().remove(k.truthy).insert(A.data||[]));B.done();return A})},request:function(g,u){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=yield m.loader().load(g,{context:"dataflow",response:P.responseType(u&&u.type)});try{B=m.parse(B,
u)}catch(A){C=-2,m.warn("Data ingestion failed",g,A)}}catch(A){C=-1,m.warn("Loading failed",g,A)}return{data:B,status:C}})},events:function(g,u,m,C){const B=this,A=Jb(m,C);m=function(D){D.dataflow=B;try{A.receive(D)}catch(I){B.error(I)}finally{B.run()}};g="string"===typeof g&&"undefined"!==typeof document?document.querySelectorAll(g):k.array(g);C=g.length;for(let D=0;D<C;++D)g[D].addEventListener(u,m);return A},on:function(g,u,m,C,B){(g instanceof Yb?Ob:Cb)(this,g,u,m,C,B);return this},evaluate:function(g,
u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return mb(C);C._pending&&(yield C._pending);u&&(yield bc(C,u));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var A=++C._clock;C._pulse=new pb(C,A,g);C._touched.forEach(Y=>C._enqueue(Y,!0));C._touched=Fb(k.id);var D=0;let I,V,Aa;try{for(;0<C._heap.size();)I=C._heap.pop(),I.rank!==I.qrank?C._enqueue(I,!0):(V=I.run(C._getPulse(I,g)),V.then?V=yield V:V.async&&(B.push(V.async),
V=q),V!==q&&I._targets&&I._targets.forEach(Y=>C._enqueue(Y)),++D)}catch(Y){C._heap.clear(),Aa=Y}C._input={};C._pulse=null;C.debug(`Pulse ${A}: ${D} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(A=C._postrun.sort((Y,t)=>t.priority-Y.priority),C._postrun=[],D=0;D<A.length;++D)yield bc(C,A[D].callback);m&&(yield bc(C,m));B.length&&Promise.all(B).then(Y=>C.runAsync(null,()=>{Y.forEach(t=>{try{t(C)}catch(L){C.error(L)}})}));return C})},run:function(g,u,m){return this._pulse?mb(this):
(this.evaluate(g,u,m),this)},runAsync:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(g,u,m)).then(B,B);return C._running})},runAfter:function(g,u,m){if(this._pulse||u)this._postrun.push({priority:m||0,callback:g});else try{g(this)}catch(C){this.error(C)}},_enqueue:function(g,u){const m=g.stamp<this._clock;m&&(g.stamp=this._clock);if(m||u)g.qrank=g.rank,this._heap.push(g)},
_getPulse:function(g,u){const m=g.source,C=this._clock;return m&&k.isArray(m)?new lb(this,C,m.map(B=>B.pulse),u):this._input[g.id]||Pa(this._pulse,m&&m.pulse)}};k.inherits(nb,Yb,{run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?this.skip(!1):u=this.evaluate(g);u=u||g;u.then?u=u.then(m=>this.pulse=m):u!==g.StopPropagation&&(this.pulse=u);return u},evaluate(g){const u=this.marshall(g.stamp);g=this.transform(u,g);u.clear();return g},transform(){}});const Q={};v.Dataflow=Pb;v.EventStream=
tb;v.MultiPulse=lb;v.Operator=Yb;v.Parameters=kc;v.Pulse=pb;v.Transform=nb;v.UniqueList=Fb;v.asyncCallback=bc;v.changeset=Ab;v.definition=function(g){return(g=qa(g))&&g.Definition||null};v.derive=function(g){return Bc(g,vc({}))};v.ingest=vc;v.isChangeSet=uc;v.isTuple=function(g){return!(!g||!g[Z])};v.rederive=Bc;v.replace=function(g,u){u[Z]=g[Z];return u};v.stableCompare=function(g,u){return g?u?(m,C)=>g(m,C)||u(m)[Z]-u(C)[Z]:(m,C)=>g(m,C)||m[Z]-C[Z]:null};v.transform=qa;v.transforms=Q;v.tupleid=
function(g){return g[Z]}})};
shadow$provide[29]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function*k(m,C){if(null==C)for(var B of m)null!=B&&""!==B&&(B=+B)>=B&&(yield B);else{B=-1;for(let A of m)A=C(A,++B,m),null!=A&&""!==A&&(A=+A)>=A&&(yield A)}}function P(m,C){return null==m||null==C?NaN:m<C?-1:m>C?1:m>=C?0:NaN}function jb(m){return null===
m?NaN:+m}function*Fb(m,C){if(void 0===C)for(var B of m)null!=B&&(B=+B)>=B&&(yield B);else{B=-1;for(let A of m)null!=(A=C(A,++B,m))&&(A=+A)>=A&&(yield A)}}function bc(m=P){if(m===P)return vc;if("function"!==typeof m)throw new TypeError("compare is not a function");return(C,B)=>{const A=m(C,B);return A||0===A?A:(0===m(B,B))-(0===m(C,C))}}function vc(m,C){return(null==m||!(m>=m))-(null==C||!(C>=C))||(m<C?-1:m>C?1:0)}function Bc(m,C){let B;if(void 0===C)for(var A of m)null!=A&&(B<A||void 0===B&&A>=A)&&
(B=A);else{A=-1;for(let D of m)null!=(D=C(D,++A,m))&&(B<D||void 0===B&&D>=D)&&(B=D)}return B}function uc(m,C){let B;if(void 0===C)for(var A of m)null!=A&&(B>A||void 0===B&&A>=A)&&(B=A);else{A=-1;for(let D of m)null!=(D=C(D,++A,m))&&(B>D||void 0===B&&D>=D)&&(B=D)}return B}function Ab(m,C,B=0,A=Infinity,D){C=Math.floor(C);B=Math.floor(Math.max(0,B));A=Math.floor(Math.min(m.length-1,A));if(!(B<=C&&C<=A))return m;for(D=void 0===D?vc:bc(D);A>B;){if(600<A-B){var I=A-B+1,V=C-B+1,Aa=Math.log(I),Y=.5*Math.exp(2*
Aa/3);Aa=.5*Math.sqrt(Aa*Y*(I-Y)/I)*(0>V-I/2?-1:1);Ab(m,C,Math.max(B,Math.floor(C-V*Y/I+Aa)),Math.min(A,Math.floor(C+(I-V)*Y/I+Aa)),D)}I=m[C];V=B;Y=A;kc(m,B,C);for(0<D(m[A],I)&&kc(m,B,A);V<Y;){kc(m,V,Y);++V;for(--Y;0>D(m[V],I);)++V;for(;0<D(m[Y],I);)--Y}0===D(m[B],I)?kc(m,B,Y):(++Y,kc(m,Y,A));Y<=C&&(B=Y+1);C<=Y&&(A=Y-1)}return m}function kc(m,C,B){const A=m[C];m[C]=m[B];m[B]=A}function Yb(m,C,B){m=Float64Array.from(Fb(m,B));if((B=m.length)&&!isNaN(C=+C)){if(0>=C||2>B)return uc(m);if(1<=C)return Bc(m);
C*=B-1;B=Math.floor(C);var A=Bc(Ab(m,B).subarray(0,B+1));m=uc(m.subarray(B+1));return A+(m-A)*(C-B)}}function Ua(m,C,B=jb){if((A=m.length)&&!isNaN(C=+C)){if(0>=C||2>A)return+B(m[0],0,m);if(1<=C)return+B(m[A-1],A-1,m);var A;C*=A-1;A=Math.floor(C);var D=+B(m[A],A,m);m=+B(m[A+1],A+1,m);return D+(m-D)*(C-A)}}function tb(m,C,B){const A=Float64Array.from(k(m,B));A.sort(P);return C.map(D=>Ua(A,D))}function Jb(m,C){return tb(m,[.25,.5,.75],C)}function Kb(m,C){const B=m.length;{var A=0;let I,V=0,Aa=0;if(void 0===
C)for(var D of m)null!=D&&(D=+D)>=D&&(I=D-V,V+=I/++A,Aa+=I*(D-V));else{D=-1;for(let Y of m)null!=(Y=C(Y,++D,m))&&(Y=+Y)>=Y&&(I=Y-V,V+=I/++A,Aa+=I*(Y-V))}A=1<A?Aa/(A-1):void 0}A=A?Math.sqrt(A):A;m=Jb(m,C);return 1.06*(Math.min(A,(m[2]-m[0])/1.34)||A||Math.abs(m[0])||1)*Math.pow(B,-.2)}function Cb(m,C){const B=m.length;let A=0,D=1,I,V;for(;m[A]===m[D];)++D;for(;D<B;){for(I=D+1;m[D]===m[I];)++I;if(m[D]-m[D-1]<C){for(V=D+(A+I-D-D>>1);V<D;)m[V++]=m[D];for(;V>D;)m[V--]=m[A]}A=D;D=I}return m}function Ob(m,
C){m=m||0;C=null==C?1:C;let B,A;if(g===g)B=g,g=NaN;else{do{B=2*v.random()-1;A=2*v.random()-1;var D=B*B+A*A}while(0===D||1<D);D=Math.sqrt(-2*Math.log(D)/D);B*=D;g=A*D}return m+B*C}function ab(m,C,B){B=null==B?1:B;m=(m-(C||0))/B;return Math.exp(-.5*m*m)/(B*M)}function pb(m,C,B){m=(m-(C||0))/(null==B?1:B);C=Math.abs(m);37<C?B=0:(B=Math.exp(-C*C/2),7.07106781186547>C?(B*=(((((.0352624965998911*C+.700383064443688)*C+6.37396220353165)*C+33.912866078383)*C+112.079291497871)*C+221.213596169931)*C+220.206867912376,
B/=((((((.0883883476483184*C+1.75566716318264)*C+16.064177579207)*C+86.7807322029461)*C+296.564248779674)*C+637.333633378831)*C+793.826512519948)*C+440.413735824752):B=B/(C+1/(C+2/(C+3/(C+4/(C+.65)))))/2.506628274631);return 0<m?1-B:B}function Qa(m,C,B){if(0>m||1<m)return NaN;m=2*m-1;var A=-Math.log((1-m)*(1+m));6.25>A?(A-=3.125,A=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+
(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A):16>A?(A=Math.sqrt(A)-3.25,A=3.0838856104922208+(1.0052589676941592+(.005370914553590064+
(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A):Number.isFinite(A)?(A=Math.sqrt(A)-5,A=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+
(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A):A=Infinity;return(C||0)+(null==B?1:B)*Q*A*m}function Da(m,C){let B,A;const D={mean(I){return arguments.length?(B=I||0,D):B},stdev(I){return arguments.length?
(A=null==I?1:I,D):A},sample:()=>Ob(B,A),pdf:I=>ab(I,B,A),cdf:I=>pb(I,B,A),icdf:I=>Qa(I,B,A)};return D.mean(m).stdev(C)}function Ka(m,C){C=null==C?1:C;return Math.exp((m||0)+Ob()*C)}function lb(m,C,B){if(0>=m)return 0;B=null==B?1:B;C=(Math.log(m)-(C||0))/B;return Math.exp(-.5*C*C)/(B*M*m)}function mb(m,C,B){return pb(Math.log(m),C,B)}function Pa(m,C,B){return Math.exp(Qa(m,C,B))}function wb(m,C){null==C&&(C=null==m?1:m,m=0);return m+(C-m)*v.random()}function sb(m,C,B){null==B&&(B=null==C?1:C,C=0);
return m>=C&&m<=B?1/(B-C):0}function Pb(m,C,B){null==B&&(B=null==C?1:C,C=0);return m<C?0:m>B?1:(m-C)/(B-C)}function Vb(m,C,B){null==B&&(B=null==C?1:C,C=0);return 0<=m&&1>=m?C+m*(B-C):NaN}function nb(m,C,B){let A=0,D=0;for(const I of m)m=B(I),null==C(I)||null==m||isNaN(m)||(A+=(m-A)/++D);return{coef:[A],predict:()=>A,rSquared:0}}function qa(m,C,B,A){A-=m*m;B=1E-24>Math.abs(A)?0:(B-m*C)/A;return[C-B*m,B]}function Z(m,C,B,A){m=m.filter(va=>{let La=C(va);va=B(va);return null!=La&&(La=+La)>=La&&null!=
va&&(va=+va)>=va});A&&m.sort((va,La)=>C(va)-C(La));A=m.length;const D=new Float64Array(A),I=new Float64Array(A);let V=0,Aa=0,Y=0,t,L;for(L of m)D[V]=m=+C(L),I[V]=t=+B(L),++V,Aa+=(m-Aa)/V,Y+=(t-Y)/V;for(V=0;V<A;++V)D[V]-=Aa,I[V]-=Y;return[D,I,Aa,Y]}function Fa(m,C,B,A){let D=-1,I;for(const V of m)m=C(V),I=B(V),null!=m&&(m=+m)>=m&&null!=I&&(I=+I)>=I&&A(m,I,++D)}function Ga(m,C,B,A,D){let I=0,V=0;Fa(m,C,B,(Aa,Y)=>{Aa=Y-D(Aa);Y-=A;I+=Aa*Aa;V+=Y*Y});return 1-I/V}function eb(m,C,B){let A=0,D=0,I=0,V=0,
Aa=0;Fa(m,C,B,(L,va)=>{++Aa;A+=(L-A)/Aa;D+=(va-D)/Aa;I+=(L*va-I)/Aa;V+=(L*L-V)/Aa});const Y=qa(A,D,I,V),t=L=>Y[0]+Y[1]*L;return{coef:Y,predict:t,rSquared:Ga(m,C,B,D,t)}}function ba(m,C,B){const [A,D,I,V]=Z(m,C,B);var Aa=A.length,Y=0;let t=0;var L=0;let va=0,La=0,Wa,$a,X,Ca;for(Wa=0;Wa<Aa;)$a=A[Wa],X=D[Wa++],Ca=$a*$a,Y+=(Ca-Y)/Wa,t+=(Ca*$a-t)/Wa,L+=(Ca*Ca-L)/Wa,va+=($a*X-va)/Wa,La+=(Ca*X-La)/Wa;Aa=L-Y*Y;L=Y*Aa-t*t;const Xa=(La*Y-va*t)/L,Ib=(va*Aa-La*t)/L,yc=-Xa*Y;Y=qc=>{qc-=I;return Xa*qc*qc+Ib*qc+
yc+V};return{coef:[yc-Ib*I+Xa*I*I+V,Ib-2*Xa*I,Xa],predict:Y,rSquared:Ga(m,C,B,V,Y)}}function oa(m,C,B,A){const D=Array(m);let I,V,Aa;for(I=0;I<m;++I)D[I]=0;for(I=m-1;0<=I;--I)for(V=C[I],Aa=1,D[I]+=V,m=1;m<=I;++m)Aa*=(I+1-m)/m,D[I-m]+=V*Math.pow(B,m)*Aa;D[0]+=A;return D}function q(m){const C=m.length-1,B=[];let A,D,I,V,Aa;for(A=0;A<C;++A){V=A;for(D=A+1;D<C;++D)Math.abs(m[A][D])>Math.abs(m[A][V])&&(V=D);for(I=A;I<C+1;++I)Aa=m[I][A],m[I][A]=m[I][V],m[I][V]=Aa;for(D=A+1;D<C;++D)for(I=C;I>=A;I--)m[I][D]-=
m[I][A]*m[A][D]/m[A][A]}for(D=C-1;0<=D;--D){Aa=0;for(I=D+1;I<C;++I)Aa+=m[I][D]*B[I];B[D]=(m[C][D]-Aa)/m[D][D]}return B}v.random=Math.random;const M=Math.sqrt(2*Math.PI),Q=Math.SQRT2;let g=NaN;const u=.5*Math.PI/180;v.bandwidthNRD=Kb;v.bin=function(m){var C=m.maxbins||20;const B=m.base||10,A=Math.log(B),D=m.divide||[5,2];let I=m.extent[0],V=m.extent[1];let Aa,Y,t,L;const va=m.span||V-I||Math.abs(I)||1;if(m.step)var La=m.step;else if(m.steps){Y=va/C;t=0;for(L=m.steps.length;t<L&&m.steps[t]<Y;++t);La=
m.steps[Math.max(0,t-1)]}else{La=Math.ceil(Math.log(C)/A);Aa=m.minstep||0;for(La=Math.max(Aa,Math.pow(B,Math.round(Math.log(va)/A)-La));Math.ceil(va/La)>C;)La*=B;t=0;for(L=D.length;t<L;++t)Y=La/D[t],Y>=Aa&&va/Y<=C&&(La=Y)}Y=Math.log(La);C=Math.pow(B,-(0<=Y?0:~~(-Y/A)+1)-1);if(m.nice||void 0===m.nice)Y=Math.floor(I/La+C)*La,I=I<Y?Y-La:Y,V=Math.ceil(V/La)*La;return{start:I,stop:V===I?I+La:V,step:La}};v.bootstrapCI=function(m,C,B,A){if(!m.length)return[void 0,void 0];m=Float64Array.from(k(m,A));A=m.length;
let D,I,V,Aa;V=0;for(Aa=Array(C);V<C;++V){for(I=D=0;I<A;++I)D+=m[~~(v.random()*A)];Aa[V]=D/A}Aa.sort(P);return[Yb(Aa,B/2),Yb(Aa,1-B/2)]};v.cumulativeLogNormal=mb;v.cumulativeNormal=pb;v.cumulativeUniform=Pb;v.densityLogNormal=lb;v.densityNormal=ab;v.densityUniform=sb;v.dotbin=function(m,C,B,A){A=A||(La=>La);const D=m.length,I=new Float64Array(D);let V=0,Aa=1,Y=A(m[0]),t=Y,L=Y+C,va;for(;Aa<D;++Aa){va=A(m[Aa]);if(va>=L){for(t=(Y+t)/2;V<Aa;++V)I[V]=t;L=va+C;Y=va}t=va}for(t=(Y+t)/2;V<Aa;++V)I[V]=t;return B?
Cb(I,C+C/4):I};v.quantileLogNormal=Pa;v.quantileNormal=Qa;v.quantileUniform=Vb;v.quantiles=tb;v.quartiles=Jb;v.randomInteger=function(m,C){null==C&&(C=m,m=0);let B,A,D;const I={min(V){return arguments.length?(B=V||0,D=A-B,I):B},max(V){return arguments.length?(A=V||0,D=A-B,I):A},sample(){return B+Math.floor(D*v.random())},pdf(V){return V===Math.floor(V)&&V>=B&&V<A?1/D:0},cdf(V){V=Math.floor(V);return V<B?0:V>=A?1:(V-B+1)/D},icdf(V){return 0<=V&&1>=V?B-1+Math.floor(V*D):NaN}};return I.min(m).max(C)};
v.randomKDE=function(m,C){const B=Da();let A=0;const D={data(I){return arguments.length?(A=(m=I)?I.length:0,D.bandwidth(C)):m},bandwidth(I){if(!arguments.length)return C;C=I;!C&&m&&(C=Kb(m));return D},sample(){return m[~~(v.random()*A)]+C*B.sample()},pdf(I){let V=0,Aa=0;for(;Aa<A;++Aa)V+=B.pdf((I-m[Aa])/C);return V/C/A},cdf(I){let V=0,Aa=0;for(;Aa<A;++Aa)V+=B.cdf((I-m[Aa])/C);return V/A},icdf(){throw Error("KDE icdf not supported.");}};return D.data(m)};v.randomLCG=function(m){return function(){m=
(1103515245*m+12345)%2147483647;return m/2147483647}};v.randomLogNormal=function(m,C){let B,A;const D={mean(I){return arguments.length?(B=I||0,D):B},stdev(I){return arguments.length?(A=null==I?1:I,D):A},sample:()=>Ka(B,A),pdf:I=>lb(I,B,A),cdf:I=>mb(I,B,A),icdf:I=>Pa(I,B,A)};return D.mean(m).stdev(C)};v.randomMixture=function(m,C){let B=0,A;const D={weights(I){if(arguments.length){var V=C=I||[];const Aa=[];let Y=0,t;for(t=0;t<B;++t)Y+=Aa[t]=null==V[t]?1:+V[t];for(t=0;t<B;++t)Aa[t]/=Y;A=Aa;return D}return C},
distributions(I){return arguments.length?(I?(B=I.length,m=I):(B=0,m=[]),D.weights(C)):m},sample(){const I=v.random();let V=m[B-1],Aa=A[0],Y=0;for(;Y<B-1;Aa+=A[++Y])if(I<Aa){V=m[Y];break}return V.sample()},pdf(I){let V=0,Aa=0;for(;Aa<B;++Aa)V+=A[Aa]*m[Aa].pdf(I);return V},cdf(I){let V=0,Aa=0;for(;Aa<B;++Aa)V+=A[Aa]*m[Aa].cdf(I);return V},icdf(){throw Error("Mixture icdf not supported.");}};return D.distributions(m).weights(C)};v.randomNormal=Da;v.randomUniform=function(m,C){let B,A;const D={min(I){return arguments.length?
(B=I||0,D):B},max(I){return arguments.length?(A=null==I?1:I,D):A},sample:()=>wb(B,A),pdf:I=>sb(I,B,A),cdf:I=>Pb(I,B,A),icdf:I=>Vb(I,B,A)};null==C&&(C=null==m?1:m,m=0);return D.min(m).max(C)};v.regressionConstant=nb;v.regressionExp=function(m,C,B){const [A,,D,I]=Z(m,C,B);let V=0,Aa=0,Y=0,t=0,L=0,va,La,Wa;Fa(m,C,B,(Xa,Ib)=>{va=A[L++];La=Math.log(Ib);Wa=va*Ib;V+=(Ib*La-V)/L;Aa+=(Wa-Aa)/L;Y+=(Wa*La-Y)/L;t+=(va*Wa-t)/L});const [$a,X]=qa(Aa/I,V/I,Y/I,t/I),Ca=Xa=>Math.exp($a+X*(Xa-D));return{coef:[Math.exp($a-
X*D),X],predict:Ca,rSquared:Ga(m,C,B,I,Ca)}};v.regressionLinear=eb;v.regressionLoess=function(m,C,B,A){const [D,I,V,Aa]=Z(m,C,B,!0);m=D.length;C=Math.max(2,~~(A*m));A=new Float64Array(m);B=new Float64Array(m);var Y=(new Float64Array(m)).fill(1);for(var t=-1;2>=++t;){var L=[0,C-1];for(let yc=0;yc<m;++yc){var va=D[yc],La=L[0],Wa=L[1],$a=0,X=0,Ca=0,Xa=0;let qc=0;const xc=1/Math.abs(D[va-D[La]>D[Wa]-va?La:Wa]-va||1);for(;La<=Wa;++La){const Rc=D[La],Pd=I[La];var Ib=Math.abs(va-Rc)*xc;const Na=(Ib=1-Ib*
Ib*Ib)*Ib*Ib*Y[La];Ib=Rc*Na;$a+=Na;X+=Ib;Ca+=Pd*Na;Xa+=Pd*Ib;qc+=Rc*Ib}const [dd,Zb]=qa(X/$a,Ca/$a,Xa/$a,qc/$a);A[yc]=dd+Zb*va;B[yc]=Math.abs(I[yc]-A[yc]);va=D;Wa=yc+1;$a=L;X=va[Wa];Ca=$a[0];Xa=$a[1]+1;if(!(Xa>=va.length))for(;Wa>Ca&&va[Xa]-X<=X-va[Ca];)$a[0]=++Ca,$a[1]=Xa,++Xa}if(2===t)break;L=Yb(B,.5,void 0);if(1E-12>Math.abs(L))break;for(let yc=0,qc,xc;yc<m;++yc)qc=B[yc]/(6*L),Y[yc]=1<=qc?1E-12:(xc=1-qc*qc)*xc}m=D.length;C=[];Y=B=0;for(t=[];B<m;++B)L=D[B]+V,t[0]===L?t[1]+=(A[B]-t[1])/++Y:(Y=0,
t[1]+=Aa,t=[L,A[B]],C.push(t));t[1]+=Aa;return C};v.regressionLog=function(m,C,B){let A=0,D=0,I=0,V=0,Aa=0;Fa(m,C,B,(L,va)=>{++Aa;L=Math.log(L);A+=(L-A)/Aa;D+=(va-D)/Aa;I+=(L*va-I)/Aa;V+=(L*L-V)/Aa});const Y=qa(A,D,I,V),t=L=>Y[0]+Y[1]*Math.log(L);return{coef:Y,predict:t,rSquared:Ga(m,C,B,D,t)}};v.regressionPoly=function(m,C,B,A){if(0===A)return nb(m,C,B);if(1===A)return eb(m,C,B);if(2===A)return ba(m,C,B);const [D,I,V,Aa]=Z(m,C,B);var Y=D.length;const t=[],L=[],va=A+1;let La,Wa,$a,X;for(La=0;La<va;++La){for($a=
Wa=0;Wa<Y;++Wa)$a+=Math.pow(D[Wa],La)*I[Wa];t.push($a);X=new Float64Array(va);for(A=0;A<va;++A){for($a=Wa=0;Wa<Y;++Wa)$a+=Math.pow(D[Wa],La+A);X[A]=$a}L.push(X)}L.push(t);const Ca=q(L);Y=Xa=>{Xa-=V;let Ib=Aa+Ca[0]+Ca[1]*Xa+Ca[2]*Xa*Xa;for(La=3;La<va;++La)Ib+=Ca[La]*Math.pow(Xa,La);return Ib};return{coef:oa(va,Ca,-V,Aa),predict:Y,rSquared:Ga(m,C,B,Aa,Y)}};v.regressionPow=function(m,C,B){let A=0,D=0,I=0,V=0,Aa=0,Y=0;Fa(m,C,B,(va,La)=>{va=Math.log(va);const Wa=Math.log(La);++Y;A+=(va-A)/Y;D+=(Wa-D)/
Y;I+=(va*Wa-I)/Y;V+=(va*va-V)/Y;Aa+=(La-Aa)/Y});const t=qa(A,D,I,V),L=va=>t[0]*Math.pow(va,t[1]);t[0]=Math.exp(t[0]);return{coef:t,predict:L,rSquared:Ga(m,C,B,Aa,L)}};v.regressionQuad=ba;v.sampleCurve=function(m,C,B,A){B=B||25;A=Math.max(B,A||200);var D=C[0],I=C[1],V=I-D,Aa=V/A;C=[[D,m(D)]];var Y=[];if(B===A){for(var t=1;t<A;++t){Aa=C;Y=Aa.push;var L=D+t/B*V;L=[L,m(L)];Y.call(Aa,L)}C.push([I,m(I)]);return C}Y.push([I,m(I)]);for(t=B;0<--t;)A=Y,I=A.push,L=D+t/B*V,L=[L,m(L)],I.call(A,L);B=C[0];D=Y[Y.length-
1];V=1/V;A=I=B[1];t=Y.length;for(L=0;L<t;++L){const va=Y[L][1];va<A&&(A=va);va>I&&(I=va)}for(A=1/(I-A);D;)I=(B[0]+D[0])/2,I=[I,m(I)],I[0]-B[0]>=Aa&&Math.abs(Math.atan2(A*(D[1]-B[1]),V*(D[0]-B[0]))-Math.atan2(A*(I[1]-B[1]),V*(I[0]-B[0])))>u?Y.push(I):(B=D,C.push(D),Y.pop()),D=Y[Y.length-1];return C};v.sampleLogNormal=Ka;v.sampleNormal=Ob;v.sampleUniform=wb;v.setRandom=function(m){v.random=m}})};
shadow$provide[30]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(28),Db(29),Db(22)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,jb,Fb){function bc(N){return ma=>{const za=N.length;let fb=1,Hb=String(N[0](ma));for(;fb<za;++fb)Hb+="|"+N[fb](ma);return Hb}}function vc(N){return N&&
N.length?1===N.length?N[0]:bc(N):function(){return""}}function Bc(N,ma){return za=>k.extend({name:N,out:za||N},jc,ma)}function uc(N,ma){return N.idx-ma.idx}function Ab(N){const ma={};N.forEach(fb=>ma[fb.name]=fb);const za=fb=>{fb.req&&fb.req.forEach(Hb=>{ma[Hb]||za(ma[Hb]=Sc[Hb]())})};N.forEach(za);return Object.values(ma).sort(uc)}function kc(){this.missing=this.valid=0;this._ops.forEach(N=>N.init(this))}function Yb(N,ma){null==N||""===N?++this.missing:N===N&&(++this.valid,this._ops.forEach(za=>
za.add(this,N,ma)))}function Ua(N,ma){null==N||""===N?--this.missing:N===N&&(--this.valid,this._ops.forEach(za=>za.rem(this,N,ma)))}function tb(N){this._out.forEach(ma=>N[ma.out]=ma.value(this));return N}function Jb(N,ma){function za(Xb){this._ops=fb;this._out=Hb;this.cell=Xb;this.init()}ma=ma||k.identity;const fb=Ab(N),Hb=N.slice().sort(uc);za.prototype.init=kc;za.prototype.add=Yb;za.prototype.rem=Ua;za.prototype.set=tb;za.prototype.get=ma;za.fields=N.map(Xb=>Xb.out);return za}function Kb(N){this._key=
N?k.field(N):P.tupleid;this.reset()}function Cb(N){P.Transform.call(this,null,N);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Ob(N){P.Transform.call(this,null,N)}function ab(N,ma,za){let fb=ma||[],Hb=za||[],Xb={},Cc=0;return{add:mc=>Hb.push(mc),remove:mc=>Xb[N(mc)]=++Cc,size:()=>fb.length,data:(mc,Hc)=>{Cc&&(fb=fb.filter(jd=>!Xb[N(jd)]),
Xb={},Cc=0);Hc&&mc&&fb.sort(mc);Hb.length&&(fb=mc?k.merge(mc,fb,Hb.sort(mc)):fb.concat(Hb),Hb=[]);return fb}}}function pb(N){P.Transform.call(this,[],N)}function Qa(N){P.Operator.call(this,null,Da,N)}function Da(N){return this.value&&!N.modified()?this.value:k.compare(N.fields,N.orders)}function Ka(N){P.Transform.call(this,null,N)}function lb(N){P.Transform.call(this,null,N)}function mb(N,ma){var za=N["function"];k.hasOwnProperty(Qd,za)||k.error("Unknown distribution function: "+za);za=Qd[za]();for(const fb in N)if("field"===
fb)za.data((N.from||ma()).map(N[fb]));else if("distributions"===fb)za[fb](N[fb].map(Hb=>mb(Hb,ma)));else if("function"===typeof za[fb])za[fb](N[fb]);return za}function Pa(N){P.Transform.call(this,null,N)}function wb(N){return()=>N.materialize(N.SOURCE).source}function sb(N,ma){return N?N.map((za,fb)=>ma[fb]||k.accessorName(za)):null}function Pb(N,ma,za){const fb=[],Hb=vd=>vd(Hc);let Xb,Cc,mc,Hc,jd,Nc;if(null==ma)fb.push(N.map(za));else for(Xb={},Cc=0,mc=N.length;Cc<mc;++Cc)Hc=N[Cc],jd=ma.map(Hb),
Nc=Xb[jd],Nc||(Xb[jd]=Nc=[],Nc.dims=jd,fb.push(Nc)),Nc.push(za(Hc));return fb}function Vb(N){P.Transform.call(this,null,N)}function nb(N){P.Operator.call(this,null,qa,N);this.modified(!0)}function qa(N){const ma=N.expr;return this.value&&!N.modified("expr")?this.value:k.accessor(za=>ma(za,N),k.accessorFields(ma),k.accessorName(ma))}function Z(N){P.Transform.call(this,[void 0,void 0],N)}function Fa(N,ma){P.Operator.call(this,N);this.parent=ma;this.count=0}function Ga(N){P.Transform.call(this,{},N);
this._keys=k.fastmap();const ma=this._targets=[];ma.active=0;ma.forEach=za=>{for(let fb=0,Hb=ma.active;fb<Hb;++fb)za(ma[fb],fb,ma)}}function eb(N){P.Operator.call(this,null,ba,N)}function ba(N){return this.value&&!N.modified()?this.value:k.isArray(N.name)?k.array(N.name).map(ma=>k.field(ma)):k.field(N.name,N.as)}function oa(N){P.Transform.call(this,k.fastmap(),N)}function q(N){P.Transform.call(this,[],N)}function M(N){P.Transform.call(this,[],N)}function Q(N){P.Transform.call(this,null,N)}function g(N){P.Transform.call(this,
[],N)}function u(N,ma){return null==N||null==ma?NaN:N<ma?-1:N>ma?1:N>=ma?0:NaN}function m(N,ma){return null==N||null==ma?NaN:ma<N?-1:ma>N?1:ma>=N?0:NaN}function C(N){function ma(Xb,Cc,mc=0,Hc=Xb.length){if(mc<Hc){if(0!==za(Cc,Cc))return Hc;do{const jd=mc+Hc>>>1;0>fb(Xb[jd],Cc)?mc=jd+1:Hc=jd}while(mc<Hc)}return mc}let za,fb,Hb;2!==N.length?(za=u,fb=(Xb,Cc)=>u(N(Xb),Cc),Hb=(Xb,Cc)=>N(Xb)-Cc):(za=N===u||N===m?N:B,Hb=fb=N);return{left:ma,center:function(Xb,Cc,mc=0,Hc=Xb.length){Hc=ma(Xb,Cc,mc,Hc-1);return Hc>
mc&&Hb(Xb[Hc-1],Cc)>-Hb(Xb[Hc],Cc)?Hc-1:Hc},right:function(Xb,Cc,mc=0,Hc=Xb.length){if(mc<Hc){if(0!==za(Cc,Cc))return Hc;do{const jd=mc+Hc>>>1;0>=fb(Xb[jd],Cc)?mc=jd+1:Hc=jd}while(mc<Hc)}return mc}}}function B(){return 0}function*A(N,ma){if(void 0===ma)for(var za of N)null!=za&&(za=+za)>=za&&(yield za);else{za=-1;for(let fb of N)null!=(fb=ma(fb,++za,N))&&(fb=+fb)>=fb&&(yield fb)}}function D(N=u){if(N===u)return I;if("function"!==typeof N)throw new TypeError("compare is not a function");return(ma,
za)=>{const fb=N(ma,za);return fb||0===fb?fb:(0===N(za,za))-(0===N(ma,ma))}}function I(N,ma){return(null==N||!(N>=N))-(null==ma||!(ma>=ma))||(N<ma?-1:N>ma?1:0)}function V(N,ma){let za;if(void 0===ma)for(var fb of N)null!=fb&&(za<fb||void 0===za&&fb>=fb)&&(za=fb);else{fb=-1;for(let Hb of N)null!=(Hb=ma(Hb,++fb,N))&&(za<Hb||void 0===za&&Hb>=Hb)&&(za=Hb)}return za}function Aa(N,ma){let za;if(void 0===ma)for(var fb of N)null!=fb&&(za>fb||void 0===za&&fb>=fb)&&(za=fb);else{fb=-1;for(let Hb of N)null!=
(Hb=ma(Hb,++fb,N))&&(za>Hb||void 0===za&&Hb>=Hb)&&(za=Hb)}return za}function Y(N,ma,za=0,fb=Infinity,Hb){ma=Math.floor(ma);za=Math.floor(Math.max(0,za));fb=Math.floor(Math.min(N.length-1,fb));if(!(za<=ma&&ma<=fb))return N;for(Hb=void 0===Hb?I:D(Hb);fb>za;){if(600<fb-za){var Xb=fb-za+1,Cc=ma-za+1,mc=Math.log(Xb),Hc=.5*Math.exp(2*mc/3);mc=.5*Math.sqrt(mc*Hc*(Xb-Hc)/Xb)*(0>Cc-Xb/2?-1:1);Y(N,ma,Math.max(za,Math.floor(ma-Cc*Hc/Xb+mc)),Math.min(fb,Math.floor(ma+(Xb-Cc)*Hc/Xb+mc)),Hb)}Xb=N[ma];Cc=za;Hc=
fb;t(N,za,ma);for(0<Hb(N[fb],Xb)&&t(N,za,fb);Cc<Hc;){t(N,Cc,Hc);++Cc;for(--Hc;0>Hb(N[Cc],Xb);)++Cc;for(;0<Hb(N[Hc],Xb);)--Hc}0===Hb(N[za],Xb)?t(N,za,Hc):(++Hc,t(N,Hc,fb));Hc<=ma&&(za=Hc+1);ma<=Hc&&(fb=Hc-1)}return N}function t(N,ma,za){const fb=N[ma];N[ma]=N[za];N[za]=fb}function L(N,ma,za){N=+N;ma=+ma;za=2>(Hb=arguments.length)?(ma=N,N=0,1):3>Hb?1:+za;for(var fb=-1,Hb=Math.max(0,Math.ceil((ma-N)/za))|0,Xb=Array(Hb);++fb<Hb;)Xb[fb]=N+fb*za;return Xb}function va(N){P.Transform.call(this,[],N)}function La(N){var ma=
N.method||Ed.value;if(null==Ed[ma])k.error("Unrecognized imputation method: "+ma);else{if(ma===Ed.value){var za=void 0!==N.value?N.value:0;return()=>za}return Ed[ma]}}function Wa(N){const ma=N.field;return za=>za?ma(za):NaN}function $a(N,ma,za,fb){var Hb=Nd=>Nd(vd),Xb=[];fb=fb?fb.slice():[];var Cc={},mc={},Hc,jd;fb.forEach((Nd,qe)=>Cc[Nd]=qe+1);var Nc=0;for(jd=N.length;Nc<jd;++Nc){var vd=N[Nc];var Gd=za(vd);var Fd=Cc[Gd]||(Cc[Gd]=fb.push(Gd));var Xd=(Gd=ma?ma.map(Hb):Yd)+"";(Hc=mc[Xd])||(Hc=mc[Xd]=
[],Xb.push(Hc),Hc.values=Gd);Hc[Fd-1]=vd}Xb.domain=fb;return Xb}function X(N){Cb.call(this,N)}function Ca(N){P.Transform.call(this,null,N)}function Xa(N){P.Operator.call(this,null,Ib,N)}function Ib(N){return this.value&&!N.modified()?this.value:k.key(N.fields,N.flat)}function yc(N){P.Transform.call(this,[],N);this._pending=null}function qc(N){return N.modified("async")&&!(N.modified("values")||N.modified("url")||N.modified("format"))}function xc(N,ma,za){za.forEach(P.ingest);ma=ma.fork(ma.NO_FIELDS&
ma.NO_SOURCE);ma.rem=N.value;N.value=ma.source=ma.add=za;N._pending=null;ma.rem.length&&ma.clean(!0);return ma}function dd(N){P.Transform.call(this,{},N)}function Zb(N){P.Operator.call(this,null,Rc,N)}function Rc(N){if(this.value&&!N.modified())return this.value;N=N.extents;const ma=N.length;let za=Infinity,fb=-Infinity,Hb,Xb;for(Hb=0;Hb<ma;++Hb)Xb=N[Hb],Xb[0]<za&&(za=Xb[0]),Xb[1]>fb&&(fb=Xb[1]);return[za,fb]}function Pd(N){P.Operator.call(this,null,Na,N)}function Na(N){return this.value&&!N.modified()?
this.value:N.values.reduce((ma,za)=>ma.concat(za),[])}function Ub(N){P.Transform.call(this,null,N)}function qb(N){Cb.call(this,N)}function Sb(N,ma){const za=N.field,fb=N.value,Hb=("count"===N.op?"__count__":N.op)||"sum",Xb=k.accessorFields(za).concat(k.accessorFields(fb)),Cc=dc(za,N.limit||0,ma);ma.changed()&&N.set("__pivot__",null,null,!0);return{key:N.key,groupby:N.groupby,ops:Cc.map(()=>Hb),fields:Cc.map(mc=>ic(mc,za,fb,Xb)),as:Cc.map(mc=>mc+""),modified:N.modified.bind(N)}}function ic(N,ma,za,
fb){return k.accessor(Hb=>ma(Hb)===N?za(Hb):NaN,fb,N+"")}function dc(N,ma,za){const fb={},Hb=[];za.visit(za.SOURCE,Xb=>{Xb=N(Xb);fb[Xb]||(fb[Xb]=1,Hb.push(Xb))});Hb.sort(k.ascending);return ma?Hb.slice(0,ma):Hb}function Ic(N){Ga.call(this,N)}function zc(N){P.Transform.call(this,null,N)}function Yc(N){P.Transform.call(this,null,N)}function Md(N){P.Transform.call(this,null,N)}function ud(N){P.Transform.call(this,null,N)}function Ha(N){P.Transform.call(this,[],N);this.count=0}function gb(N){P.Transform.call(this,
null,N)}function vb(N){P.Transform.call(this,null,N);this.modified(!0)}function ta(N){P.Transform.call(this,null,N)}function F(N){P.Transform.call(this,k.fastmap(),N)}function ya(N){P.Transform.call(this,null,N)}function Oa(N,ma,za,fb){const Hb=Ud[N](ma,za);return{init:Hb.init||k.zero,update:function(Xb,Cc){Cc[fb]=Hb.next(Xb)}}}function Za(N){function ma(Fd){k.array(k.accessorFields(Fd)).forEach(Xd=>Hc[Xd]=1)}const za=k.array(N.ops),fb=k.array(N.fields),Hb=k.array(N.params),Xb=k.array(N.as),Cc=this.outputs=
[],mc=this.windows=[],Hc={},jd={},Nc=[],vd=[];let Gd=!0;ma(N.sort);za.forEach((Fd,Xd)=>{const Nd=fb[Xd],qe=k.accessorName(Nd),De=Xb[Xd]||Fd+(qe?"_"+qe:"");ma(Nd);Cc.push(De);k.hasOwnProperty(Ud,Fd)?mc.push(Oa(Fd,fb[Xd],Hb[Xd],De)):(null==Nd&&"count"!==Fd&&k.error("Null aggregate field specified."),"count"===Fd?Nc.push(De):(Gd=!1,Xd=jd[qe],Xd||(Xd=jd[qe]=[],Xd.field=Nd,vd.push(Xd)),Xd.push(Sc[Fd](De))))});if(Nc.length||vd.length)this.cell=kb(vd,Nc,Gd);this.inputs=Object.keys(Hc)}function kb(N,ma,za){N=
N.map(Hc=>Jb(Hc,Hc.field));const fb={num:0,agg:null,store:!1,count:ma};if(!za)for(var Hb=N.length,Xb=fb.agg=Array(Hb),Cc=0;Cc<Hb;++Cc)Xb[Cc]=new N[Cc](fb);if(fb.store)var mc=fb.data=new Kb;fb.add=function(Hc){fb.num+=1;if(!za){mc&&mc.add(Hc);for(let jd=0;jd<Hb;++jd)Xb[jd].add(Xb[jd].get(Hc),Hc)}};fb.rem=function(Hc){--fb.num;if(!za){mc&&mc.rem(Hc);for(let jd=0;jd<Hb;++jd)Xb[jd].rem(Xb[jd].get(Hc),Hc)}};fb.set=function(Hc){let jd,Nc;mc&&mc.values();jd=0;for(Nc=ma.length;jd<Nc;++jd)Hc[ma[jd]]=fb.num;
if(!za)for(jd=0,Nc=Xb.length;jd<Nc;++jd)Xb[jd].set(Hc)};fb.init=function(){fb.num=0;mc&&mc.reset();for(let Hc=0;Hc<Hb;++Hc)Xb[Hc].init()};return fb}function Eb(N){P.Transform.call(this,{},N);this._mlen=0;this._mods=[]}function oc(N,ma,za,fb){var Hb=fb.sort;const Xb=Hb&&!fb.ignorePeers;fb=fb.frame||[null,0];N=N.data(za);za=N.length;const Cc=Xb?C(Hb):null;Hb={i0:0,i1:0,p0:0,p1:0,index:0,data:N,compare:Hb||k.constant(-1)};ma.init();for(let vd=0;vd<za;++vd){var mc=Hb,Hc=fb,jd=vd,Nc=za;mc.p0=mc.i0;mc.p1=
mc.i1;mc.i0=null==Hc[0]?0:Math.max(0,jd-Math.abs(Hc[0]));mc.i1=null==Hc[1]?Nc:Math.min(Nc,jd+Math.abs(Hc[1])+1);mc.index=jd;if(Xb){mc=Hb;Hc=Cc;jd=mc.i0;Nc=mc.i1-1;const Gd=mc.compare,Fd=mc.data,Xd=Fd.length-1;0<jd&&!Gd(Fd[jd],Fd[jd-1])&&(mc.i0=Hc.left(Fd,Fd[jd]));Nc<Xd&&!Gd(Fd[Nc],Fd[Nc+1])&&(mc.i1=Hc.right(Fd,Fd[Nc]))}ma.update(Hb,N[vd])}}const ec=()=>{},jc={init:ec,add:ec,rem:ec,idx:0},Sc={values:{init:N=>N.cell.store=!0,value:N=>N.cell.data.values(),idx:-1},count:{value:N=>N.cell.num},__count__:{value:N=>
N.missing+N.valid},missing:{value:N=>N.missing},valid:{value:N=>N.valid},sum:{init:N=>N.sum=0,value:N=>N.sum,add:(N,ma)=>N.sum+=+ma,rem:(N,ma)=>N.sum-=ma},product:{init:N=>N.product=1,value:N=>N.valid?N.product:void 0,add:(N,ma)=>N.product*=ma,rem:(N,ma)=>N.product/=ma},mean:{init:N=>N.mean=0,value:N=>N.valid?N.mean:void 0,add:(N,ma)=>(N.mean_d=ma-N.mean,N.mean+=N.mean_d/N.valid),rem:(N,ma)=>(N.mean_d=ma-N.mean,N.mean-=N.valid?N.mean_d/N.valid:N.mean)},average:{value:N=>N.valid?N.mean:void 0,req:["mean"],
idx:1},variance:{init:N=>N.dev=0,value:N=>1<N.valid?N.dev/(N.valid-1):void 0,add:(N,ma)=>N.dev+=N.mean_d*(ma-N.mean),rem:(N,ma)=>N.dev-=N.mean_d*(ma-N.mean),req:["mean"],idx:1},variancep:{value:N=>1<N.valid?N.dev/N.valid:void 0,req:["variance"],idx:2},stdev:{value:N=>1<N.valid?Math.sqrt(N.dev/(N.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:N=>1<N.valid?Math.sqrt(N.dev/N.valid):void 0,req:["variance"],idx:2},stderr:{value:N=>1<N.valid?Math.sqrt(N.dev/(N.valid*(N.valid-1))):void 0,req:["variance"],
idx:2},distinct:{value:N=>N.cell.data.distinct(N.get),req:["values"],idx:3},ci0:{value:N=>N.cell.data.ci0(N.get),req:["values"],idx:3},ci1:{value:N=>N.cell.data.ci1(N.get),req:["values"],idx:3},median:{value:N=>N.cell.data.q2(N.get),req:["values"],idx:3},q1:{value:N=>N.cell.data.q1(N.get),req:["values"],idx:3},q3:{value:N=>N.cell.data.q3(N.get),req:["values"],idx:3},min:{init:N=>N.min=void 0,value:N=>N.min=Number.isNaN(N.min)?N.cell.data.min(N.get):N.min,add:(N,ma)=>{if(ma<N.min||void 0===N.min)N.min=
ma},rem:(N,ma)=>{ma<=N.min&&(N.min=NaN)},req:["values"],idx:4},max:{init:N=>N.max=void 0,value:N=>N.max=Number.isNaN(N.max)?N.cell.data.max(N.get):N.max,add:(N,ma)=>{if(ma>N.max||void 0===N.max)N.max=ma},rem:(N,ma)=>{ma>=N.max&&(N.max=NaN)},req:["values"],idx:4},argmin:{init:N=>N.argmin=void 0,value:N=>N.argmin||N.cell.data.argmin(N.get),add:(N,ma,za)=>{ma<N.min&&(N.argmin=za)},rem:(N,ma)=>{ma<=N.min&&(N.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:N=>N.argmax=void 0,value:N=>N.argmax||
N.cell.data.argmax(N.get),add:(N,ma,za)=>{ma>N.max&&(N.argmax=za)},rem:(N,ma)=>{ma>=N.max&&(N.argmax=void 0)},req:["max","values"],idx:3}},ed=Object.keys(Sc).filter(N=>"__count__"!==N);[...ed,"__count__"].forEach(N=>{Sc[N]=Bc(N,Sc[N])});const fd=Kb.prototype;fd.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};fd.add=function(N){this._add.push(N)};fd.rem=function(N){this._rem.push(N)};fd.values=function(){this._get=null;if(0===this._rem.length)return this._add;const N=this._add;
var ma=this._rem;const za=this._key,fb=N.length,Hb=ma.length,Xb=Array(fb-Hb),Cc={};let mc,Hc;for(mc=0;mc<Hb;++mc)Cc[za(ma[mc])]=1;for(ma=mc=0;mc<fb;++mc)Cc[za(Hc=N[mc])]?Cc[za(Hc)]=0:Xb[ma++]=Hc;this._rem=[];return this._add=Xb};fd.distinct=function(N){const ma=this.values(),za={};let fb=ma.length,Hb=0,Xb;for(;0<=--fb;)Xb=N(ma[fb])+"",k.hasOwnProperty(za,Xb)||(za[Xb]=1,++Hb);return Hb};fd.extent=function(N){if(this._get!==N||!this._ext){const ma=this.values(),za=k.extentIndex(ma,N);this._ext=[ma[za[0]],
ma[za[1]]];this._get=N}return this._ext};fd.argmin=function(N){return this.extent(N)[0]||{}};fd.argmax=function(N){return this.extent(N)[1]||{}};fd.min=function(N){const ma=this.extent(N)[0];return null!=ma?N(ma):void 0};fd.max=function(N){const ma=this.extent(N)[1];return null!=ma?N(ma):void 0};fd.quartile=function(N){this._get===N&&this._q||(this._q=jb.quartiles(this.values(),N),this._get=N);return this._q};fd.q1=function(N){return this.quartile(N)[0]};fd.q2=function(N){return this.quartile(N)[1]};
fd.q3=function(N){return this.quartile(N)[2]};fd.ci=function(N){this._get===N&&this._ci||(this._ci=jb.bootstrapCI(this.values(),1E3,.05,N),this._get=N);return this._ci};fd.ci0=function(N){return this.ci(N)[0]};fd.ci1=function(N){return this.ci(N)[1]};Cb.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ed},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},
{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};k.inherits(Cb,P.Transform,{transform(N,ma){const za=this,fb=ma.fork(ma.NO_SOURCE|ma.NO_FIELDS),Hb=N.modified();za.stamp=fb.stamp;za.value&&(Hb||ma.modified(za._inputs,!0))?(za._prev=za.value,za.value=Hb?za.init(N):Object.create(null),ma.visit(ma.SOURCE,Xb=>za.add(Xb))):(za.value=za.value||za.init(N),ma.visit(ma.REM,Xb=>za.rem(Xb)),ma.visit(ma.ADD,Xb=>za.add(Xb)));fb.modifies(za._outputs);
za._drop=!1!==N.drop;N.cross&&1<za._dims.length&&(za._drop=!1,za.cross());ma.clean()&&za._drop&&fb.clean(!0).runAfter(()=>this.clean());return za.changes(fb)},cross(){function N(mc){let Hc,jd,Nc,vd;for(Hc in mc)for(Nc=mc[Hc].tuple,jd=0;jd<Cc;++jd)Xb[jd][vd=Nc[Hb[jd]]]=vd}function ma(mc,Hc,jd){const Nc=Hb[jd],vd=Xb[jd++];for(const Gd in vd){const Fd=mc?mc+"|"+Gd:Gd;Hc[Nc]=vd[Gd];jd<Cc?ma(Fd,Hc,jd):fb[Fd]||za.cell(Fd,Hc)}}const za=this,fb=za.value,Hb=za._dnames,Xb=Hb.map(()=>({})),Cc=Hb.length;N(za._prev);
N(fb);ma("",{},0)},init(N){function ma(Nd){Nd=k.array(k.accessorFields(Nd));const qe=Nd.length;let De=0,gf;for(;De<qe;++De)Hb[gf=Nd[De]]||(Hb[gf]=1,za.push(gf))}const za=this._inputs=[],fb=this._outputs=[],Hb={};this._dims=k.array(N.groupby);this._dnames=this._dims.map(Nd=>{const qe=k.accessorName(Nd);ma(Nd);fb.push(qe);return qe});this.cellkey=N.key?N.key:vc(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Xb=N.fields||[null],Cc=N.ops||["count"];N=N.as||[];const mc=Xb.length,
Hc={};let jd,Nc,vd,Gd,Fd,Xd;mc!==Cc.length&&k.error("Unmatched number of fields and aggregate ops.");for(Xd=0;Xd<mc;++Xd)jd=Xb[Xd],Nc=Cc[Xd],null==jd&&"count"!==Nc&&k.error("Null aggregate field specified."),Gd=k.accessorName(jd),Fd=N[Xd]||Nc+(Gd?"_"+Gd:""),fb.push(Fd),"count"===Nc?this._counts.push(Fd):(vd=Hc[Gd],vd||(ma(jd),vd=Hc[Gd]=[],vd.field=jd,this._measures.push(vd)),"count"!==Nc&&(this._countOnly=!1),vd.push(Sc[Nc](Fd)));this._measures=this._measures.map(Nd=>Jb(Nd,Nd.field));return Object.create(null)},
cellkey:vc(),cell(N,ma){let za=this.value[N];za?0===za.num&&this._drop&&za.stamp<this.stamp?(za.stamp=this.stamp,this._adds[this._alen++]=za):za.stamp<this.stamp&&(za.stamp=this.stamp,this._mods[this._mlen++]=za):(za=this.value[N]=this.newcell(N,ma),this._adds[this._alen++]=za);return za},newcell(N,ma){N={key:N,num:0,agg:null,tuple:this.newtuple(ma,this._prev&&this._prev[N]),stamp:this.stamp,store:!1};if(!this._countOnly){ma=this._measures;const za=ma.length;N.agg=Array(za);for(let fb=0;fb<za;++fb)N.agg[fb]=
new ma[fb](N)}N.store&&(N.data=new Kb);return N},newtuple(N,ma){const za=this._dnames,fb=this._dims,Hb=fb.length,Xb={};for(let Cc=0;Cc<Hb;++Cc)Xb[za[Cc]]=fb[Cc](N);return ma?P.replace(ma.tuple,Xb):P.ingest(Xb)},clean(){const N=this.value;for(const ma in N)0===N[ma].num&&delete N[ma]},add(N){var ma=this.cellkey(N);ma=this.cell(ma,N);ma.num+=1;if(!this._countOnly){ma.store&&ma.data.add(N);ma=ma.agg;for(let za=0,fb=ma.length;za<fb;++za)ma[za].add(ma[za].get(N),N)}},rem(N){var ma=this.cellkey(N);ma=this.cell(ma,
N);--ma.num;if(!this._countOnly){ma.store&&ma.data.rem(N);ma=ma.agg;for(let za=0,fb=ma.length;za<fb;++za)ma[za].rem(ma[za].get(N),N)}},celltuple(N){const ma=N.tuple,za=this._counts;N.store&&N.data.values();for(let fb=0,Hb=za.length;fb<Hb;++fb)ma[za[fb]]=N.num;if(!this._countOnly){N=N.agg;for(let fb=0,Hb=N.length;fb<Hb;++fb)N[fb].set(ma)}return ma},changes(N){const ma=this._adds,za=this._mods;var fb=this._prev;const Hb=this._drop,Xb=N.add,Cc=N.rem,mc=N.mod;let Hc;var jd;if(fb)for(jd in fb)Hc=fb[jd],
Hb&&!Hc.num||Cc.push(Hc.tuple);fb=0;for(jd=this._alen;fb<jd;++fb)Xb.push(this.celltuple(ma[fb])),ma[fb]=null;fb=0;for(jd=this._mlen;fb<jd;++fb)Hc=za[fb],(0===Hc.num&&Hb?Cc:mc).push(this.celltuple(Hc)),za[fb]=null;this._alen=this._mlen=0;this._prev=null;return N}});Ob.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number",
"default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};k.inherits(Ob,P.Transform,{transform(N,ma){const za=!1!==N.interval,fb=this._bins(N),Hb=fb.start,
Xb=fb.step,Cc=N.as||["bin0","bin1"],mc=Cc[0],Hc=Cc[1];N.modified()?(ma=ma.reflow(!0),N=ma.SOURCE):N=ma.modified(k.accessorFields(N.field))?ma.ADD_MOD:ma.ADD;ma.visit(N,za?jd=>{const Nc=fb(jd);jd[mc]=Nc;jd[Hc]=null==Nc?null:Hb+Xb*(1+(Nc-Hb)/Xb)}:jd=>jd[mc]=fb(jd));return ma.modifies(za?Cc:mc)},_bins(N){if(this.value&&!N.modified())return this.value;const ma=N.field,za=jb.bin(N),fb=za.step;let Hb=za.start,Xb=Hb+Math.ceil((za.stop-Hb)/fb)*fb;var Cc;null!=(Cc=N.anchor)&&(Cc-=Hb+fb*Math.floor((Cc-Hb)/
fb),Hb+=Cc,Xb+=Cc);Cc=function(mc){mc=k.toNumber(ma(mc));return null==mc?null:mc<Hb?-Infinity:mc>Xb?Infinity:(mc=Math.max(Hb,Math.min(mc,Xb-fb)),Hb+fb*Math.floor(1E-14+(mc-Hb)/fb))};Cc.start=Hb;Cc.stop=za.stop;Cc.step=fb;return this.value=k.accessor(Cc,k.accessorFields(ma),N.name||"bin_"+k.accessorName(ma))}});pb.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};k.inherits(pb,P.Transform,{transform(N,ma){const za=ma.fork(ma.ALL),fb=ab(P.tupleid,this.value,za.materialize(za.ADD).add),
Hb=N.sort;N=ma.changed()||Hb&&(N.modified("sort")||ma.modified(Hb.fields));za.visit(za.REM,fb.remove);this.modified(N);this.value=za.source=fb.data(P.stableCompare(Hb),N);ma.source&&ma.source.root&&(this.value.root=ma.source.root);return za}});k.inherits(Qa,P.Operator);Ka.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},
{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};k.inherits(Ka,P.Transform,{transform(N,ma){var za=Nc=>vd=>{vd=mc(vd);var Gd=Xb;switch(N.case){case "upper":vd=vd.toUpperCase();break;case "lower":vd=vd.toLowerCase()}vd=vd.match(Gd)||[];var Fd;Gd=0;for(var Xd=vd.length;Gd<Xd;++Gd)Cc.test(Fd=vd[Gd])||Nc(Fd)};const fb=this._parameterCheck(N,ma),Hb=this._counts,Xb=this._match,Cc=this._stop,mc=N.field,Hc=N.as||["text","count"],jd=za(Nc=>
Hb[Nc]=1+(Hb[Nc]||0));za=za(Nc=>--Hb[Nc]);fb?ma.visit(ma.SOURCE,jd):(ma.visit(ma.ADD,jd),ma.visit(ma.REM,za));return this._finish(ma,Hc)},_parameterCheck(N,ma){let za=!1;if(N.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(N.stopwords||"")+"$","i"),za=!0;if(N.modified("pattern")||!this._match)this._match=new RegExp(N.pattern||"[\\w']+","g"),za=!0;if(N.modified("field")||ma.modified(N.field.fields))za=!0;za&&(this._counts={});return za},_finish(N,ma){const za=this._counts,fb=this._tuples||
(this._tuples={}),Hb=ma[0],Xb=ma[1];N=N.fork(N.NO_SOURCE|N.NO_FIELDS);let Cc,mc,Hc;for(Cc in za)mc=fb[Cc],Hc=za[Cc]||0,!mc&&Hc?(fb[Cc]=mc=P.ingest({}),mc[Hb]=Cc,mc[Xb]=Hc,N.add.push(mc)):0===Hc?(mc&&N.rem.push(mc),za[Cc]=null,fb[Cc]=null):mc[Xb]!==Hc&&(mc[Xb]=Hc,N.mod.push(mc));return N.modifies(ma)}});lb.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};k.inherits(lb,P.Transform,{transform(N,ma){const za=
ma.fork(ma.NO_SOURCE),fb=N.as||["a","b"],Hb=fb[0],Xb=fb[1];var Cc=!this.value||ma.changed(ma.ADD_REM)||N.modified("as")||N.modified("filter"),mc=this.value;if(Cc){mc&&(za.rem=mc);ma=mc=ma.materialize(ma.SOURCE).source;N=N.filter||k.truthy;Cc=[];mc={};for(var Hc=ma.length,jd=0,Nc,vd;jd<Hc;++jd)for(mc[Hb]=vd=ma[jd],Nc=0;Nc<Hc;++Nc)mc[Xb]=ma[Nc],N(mc)&&(Cc.push(P.ingest(mc)),mc={},mc[Hb]=vd);za.add=this.value=Cc}else za.mod=mc;za.source=this.value;return za.modifies(fb)}});const Qd={kde:jb.randomKDE,
mixture:jb.randomMixture,normal:jb.randomNormal,lognormal:jb.randomLogNormal,uniform:jb.randomUniform},Td=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",
type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Pa.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Td.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:Td},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};k.inherits(Pa,P.Transform,{transform(N,ma){const za=ma.fork(ma.NO_SOURCE|ma.NO_FIELDS);if(!this.value||ma.changed()||N.modified()){const fb=mb(N.distribution,wb(ma));ma=N.steps||N.minsteps||25;const Hb=N.steps||N.maxsteps||200;let Xb=N.method||"pdf";"pdf"!==Xb&&"cdf"!==Xb&&k.error("Invalid density method: "+Xb);N.extent||fb.data||k.error("Missing density extent parameter.");
Xb=fb[Xb];const Cc=N.as||["value","density"];N=N.extent||k.extent(fb.data());N=jb.sampleCurve(Xb,N,ma,Hb).map(mc=>{const Hc={};Hc[Cc[0]]=mc[0];Hc[Cc[1]]=mc[1];return P.ingest(Hc)});this.value&&(za.rem=this.value);this.value=za.add=za.source=N}return za}});Vb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
k.inherits(Vb,P.Transform,{transform(N,ma){if(this.value&&!N.modified()&&!ma.changed())return ma;var za=ma.materialize(ma.SOURCE).source;const fb=Pb(ma.source,N.groupby,k.identity),Hb=N.smooth||!1,Xb=N.field;za=N.step||k.span(k.extent(za,Xb))/30;const Cc=P.stableCompare((Gd,Fd)=>Xb(Gd)-Xb(Fd));N=N.as||"bin";const mc=fb.length;let Hc=Infinity,jd=-Infinity,Nc=0,vd;for(;Nc<mc;++Nc){const Gd=fb[Nc].sort(Cc);vd=-1;for(const Fd of jb.dotbin(Gd,za,Hb,Xb))Fd<Hc&&(Hc=Fd),Fd>jd&&(jd=Fd),Gd[++vd][N]=Fd}this.value=
{start:Hc,stop:jd,step:za};return ma.reflow(!0).modifies(N)}});k.inherits(nb,P.Operator);Z.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};k.inherits(Z,P.Transform,{transform(N,ma){var za=this.value;const fb=N.field;N=ma.changed()||ma.modified(fb.fields)||N.modified("field");let Hb=za[0],Xb=za[1];if(N||null==Hb)Hb=Infinity,Xb=-Infinity;ma.visit(N?ma.SOURCE:ma.ADD,Cc=>{Cc=k.toNumber(fb(Cc));null!=Cc&&(Cc<Hb&&(Hb=Cc),Cc>Xb&&(Xb=Cc))});Number.isFinite(Hb)&&Number.isFinite(Xb)||
((za=k.accessorName(fb))&&(za=` for field "${za}"`),ma.dataflow.warn(`Infinite extent${za}: [${Hb}, ${Xb}]`),Hb=Xb=void 0);this.value=[Hb,Xb]}});k.inherits(Fa,P.Operator,{connect(N){this.detachSubflow=N.detachSubflow;this.targets().add(N);return N.source=this},add(N){this.count+=1;this.value.add.push(N)},rem(N){--this.count;this.value.rem.push(N)},mod(N){this.value.mod.push(N)},init(N){this.value.init(N,N.NO_SOURCE)},evaluate(){return this.value}});k.inherits(Ga,P.Transform,{activate(N){this._targets[this._targets.active++]=
N},subflow(N,ma,za,fb){const Hb=this.value;let Xb=k.hasOwnProperty(Hb,N)&&Hb[N],Cc;Xb?Xb.value.stamp<za.stamp&&(Xb.init(za),this.activate(Xb)):(Cc=fb||(Cc=this._group[N])&&Cc.tuple,fb=za.dataflow,Xb=new Fa(za.fork(za.NO_SOURCE),this),fb.add(Xb).connect(ma(fb,N,Cc)),Hb[N]=Xb,this.activate(Xb));return Xb},clean(){var N=this.value;let ma=0;for(const za in N)if(0===N[za].count){const fb=N[za].detachSubflow;fb&&fb();delete N[za];++ma}ma&&(N=this._targets.filter(za=>za&&0<za.count),this.initTargets(N))},
initTargets(N){const ma=this._targets,za=ma.length,fb=N?N.length:0;let Hb=0;for(;Hb<fb;++Hb)ma[Hb]=N[Hb];for(;Hb<za&&null!=ma[Hb];++Hb)ma[Hb]=null;ma.active=fb},transform(N,ma){const za=ma.dataflow,fb=N.key,Hb=N.subflow,Xb=this._keys,Cc=N.modified("key"),mc=Hc=>this.subflow(Hc,Hb,ma);this._group=N.group||{};this.initTargets();ma.visit(ma.REM,Hc=>{const jd=P.tupleid(Hc),Nc=Xb.get(jd);void 0!==Nc&&(Xb.delete(jd),mc(Nc).rem(Hc))});ma.visit(ma.ADD,Hc=>{const jd=fb(Hc);Xb.set(P.tupleid(Hc),jd);mc(jd).add(Hc)});
Cc||ma.modified(fb.fields)?ma.visit(ma.MOD,Hc=>{const jd=P.tupleid(Hc),Nc=Xb.get(jd),vd=fb(Hc);Nc===vd?mc(vd).mod(Hc):(Xb.set(jd,vd),mc(Nc).rem(Hc),mc(vd).add(Hc))}):ma.changed(ma.MOD)&&ma.visit(ma.MOD,Hc=>{mc(Xb.get(P.tupleid(Hc))).mod(Hc)});Cc&&ma.visit(ma.REFLOW,Hc=>{const jd=P.tupleid(Hc),Nc=Xb.get(jd),vd=fb(Hc);Nc!==vd&&(Xb.set(jd,vd),mc(Nc).rem(Hc),mc(vd).add(Hc))});ma.clean()?za.runAfter(()=>{this.clean();Xb.clean()}):Xb.empty>za.cleanThreshold&&za.runAfter(Xb.clean);return ma}});k.inherits(eb,
P.Operator);oa.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};k.inherits(oa,P.Transform,{transform(N,ma){function za(vd){const Gd=P.tupleid(vd),Fd=jd(vd,N),Xd=Hb.get(Gd);Fd&&Xd?(Hb.delete(Gd),Cc.push(vd)):Fd||Xd?Nc&&Fd&&!Xd&&Hc.push(vd):(Hb.set(Gd,1),mc.push(vd))}const fb=ma.dataflow,Hb=this.value,Xb=ma.fork(),Cc=Xb.add,mc=Xb.rem,Hc=Xb.mod,jd=N.expr;let Nc=!0;ma.visit(ma.REM,vd=>{const Gd=P.tupleid(vd);Hb.has(Gd)?Hb.delete(Gd):mc.push(vd)});ma.visit(ma.ADD,
vd=>{jd(vd,N)?Cc.push(vd):Hb.set(P.tupleid(vd),1)});ma.visit(ma.MOD,za);N.modified()&&(Nc=!1,ma.visit(ma.REFLOW,za));Hb.empty>fb.cleanThreshold&&fb.runAfter(Hb.clean);return Xb}});q.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};k.inherits(q,P.Transform,{transform(N,ma){const za=ma.fork(ma.NO_SOURCE),fb=N.fields,Hb=sb(fb,N.as||[]),Xb=N.index||null,Cc=Hb.length;za.rem=this.value;
ma.visit(ma.SOURCE,mc=>{const Hc=fb.map(Xd=>Xd(mc)),jd=Hc.reduce((Xd,Nd)=>Math.max(Xd,Nd.length),0);let Nc=0,vd,Gd,Fd;for(;Nc<jd;++Nc){Gd=P.derive(mc);for(vd=0;vd<Cc;++vd)Gd[Hb[vd]]=null==(Fd=Hc[vd][Nc])?null:Fd;Xb&&(Gd[Xb]=Nc);za.add.push(Gd)}});this.value=za.source=za.add;Xb&&za.modifies(Xb);return za.modifies(Hb)}});M.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};
k.inherits(M,P.Transform,{transform(N,ma){const za=ma.fork(ma.NO_SOURCE),fb=N.fields,Hb=fb.map(k.accessorName);N=N.as||["key","value"];const Xb=N[0],Cc=N[1],mc=fb.length;za.rem=this.value;ma.visit(ma.SOURCE,Hc=>{for(let jd=0,Nc;jd<mc;++jd)Nc=P.derive(Hc),Nc[Xb]=Hb[jd],Nc[Cc]=fb[jd](Hc),za.add.push(Nc)});this.value=za.source=za.add;return za.modifies(N)}});Q.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",
type:"boolean"}]};k.inherits(Q,P.Transform,{transform(N,ma){const za=N.expr,fb=N.as,Hb=N.modified(),Xb=N.initonly?ma.ADD:Hb?ma.SOURCE:ma.modified(za.fields)||ma.modified(fb)?ma.ADD_MOD:ma.ADD;Hb&&(ma=ma.materialize().reflow(!0));N.initonly||ma.modifies(fb);return ma.visit(Xb,Cc=>Cc[fb]=za(Cc,N))}});k.inherits(g,P.Transform,{transform(N,ma){ma=ma.fork(ma.ALL);const za=N.generator;let fb=this.value,Hb=N.size-fb.length,Xb,Cc;if(0<Hb){for(Xb=[];0<=--Hb;)Xb.push(Cc=P.ingest(za(N))),fb.push(Cc);ma.add=
ma.add.length?ma.materialize(ma.ADD).add.concat(Xb):Xb}else N=fb.slice(0,-Hb),ma.rem=ma.rem.length?ma.materialize(ma.REM).rem.concat(N):N,fb=fb.slice(-Hb);ma.source=this.value=fb;return ma}});const Ed={value:"value",median:function(N,ma){var za=.5;N=Float64Array.from(A(N,ma));if((ma=N.length)&&!isNaN(za=+za))if(0>=za||2>ma)N=Aa(N);else if(1<=za)N=V(N);else{za*=ma-1;ma=Math.floor(za);var fb=V(Y(N,ma).subarray(0,ma+1));N=Aa(N.subarray(ma+1));N=fb+(N-fb)*(za-ma)}else N=void 0;return N},mean:function(N,
ma){let za=0,fb=0;if(void 0===ma)for(var Hb of N)null!=Hb&&(Hb=+Hb)>=Hb&&(++za,fb+=Hb);else{Hb=-1;for(let Xb of N)null!=(Xb=ma(Xb,++Hb,N))&&(Xb=+Xb)>=Xb&&(++za,fb+=Xb)}if(za)return fb/za},min:Aa,max:V},Yd=[];va.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},
{name:"value","default":0}]};k.inherits(va,P.Transform,{transform(N,ma){var za=ma.fork(ma.ALL),fb=La(N),Hb=Wa(N),Xb=k.accessorName(N.field),Cc=k.accessorName(N.key),mc=(N.groupby||[]).map(k.accessorName);N=$a(ma.source,N.groupby,N.key,N.keyvals);ma=[];var Hc=this.value,jd=N.domain.length,Nc,vd,Gd;var Fd=0;for(vd=N.length;Fd<vd;++Fd){var Xd=N[Fd];var Nd=Xd.values;var qe=NaN;for(Nc=0;Nc<jd;++Nc)if(null==Xd[Nc]){var De=N.domain[Nc];var gf={_impute:!0};var cf=0;for(Gd=Nd.length;cf<Gd;++cf)gf[mc[cf]]=
Nd[cf];gf[Cc]=De;gf[Xb]=Number.isNaN(qe)?qe=fb(Xd,Hb):qe;ma.push(P.ingest(gf))}}ma.length&&(za.add=za.materialize(za.ADD).add.concat(ma));Hc.length&&(za.rem=za.materialize(za.REM).rem.concat(Hc));this.value=ma;return za}});X.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:ed},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};k.inherits(X,
Cb,{transform(N,ma){const za=this,fb=N.modified();let Hb;za.value&&(fb||ma.modified(za._inputs,!0))?(Hb=za.value=fb?za.init(N):{},ma.visit(ma.SOURCE,Xb=>za.add(Xb))):(Hb=za.value=za.value||this.init(N),ma.visit(ma.REM,Xb=>za.rem(Xb)),ma.visit(ma.ADD,Xb=>za.add(Xb)));za.changes();ma.visit(ma.SOURCE,Xb=>{k.extend(Xb,Hb[za.cellkey(Xb)].tuple)});return ma.reflow(fb).modifies(this._outputs)},changes(){const N=this._adds,ma=this._mods;let za,fb;za=0;for(fb=this._alen;za<fb;++za)this.celltuple(N[za]),N[za]=
null;za=0;for(fb=this._mlen;za<fb;++za)this.celltuple(ma[za]),ma[za]=null;this._alen=this._mlen=0}});Ca.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};k.inherits(Ca,P.Transform,{transform(N,ma){const za=ma.fork(ma.NO_SOURCE|ma.NO_FIELDS);if(!this.value||ma.changed()||N.modified()){ma=ma.materialize(ma.SOURCE).source;const fb=Pb(ma,N.groupby,N.field),Hb=(N.groupby||[]).map(k.accessorName),Xb=N.bandwidth,Cc=N.cumulative?"cdf":"pdf",mc=N.as||["value","density"],Hc=
[];let jd=N.extent,Nc=N.steps||N.minsteps||25,vd=N.steps||N.maxsteps||200;"pdf"!==Cc&&"cdf"!==Cc&&k.error("Invalid density method: "+Cc);"shared"===N.resolve&&(jd||(jd=k.extent(ma,N.field)),Nc=vd=N.steps||vd);fb.forEach(Gd=>{const Fd=jb.randomKDE(Gd,Xb)[Cc],Xd=N.counts?Gd.length:1,Nd=jd||k.extent(Gd);jb.sampleCurve(Fd,Nd,Nc,vd).forEach(qe=>{const De={};for(let gf=0;gf<Hb.length;++gf)De[Hb[gf]]=Gd.dims[gf];De[mc[0]]=qe[0];De[mc[1]]=qe[1]*Xd;Hc.push(P.ingest(De))})});this.value&&(za.rem=this.value);
this.value=za.add=za.source=Hc}return za}});k.inherits(Xa,P.Operator);k.inherits(yc,P.Transform,{transform(N,ma){const za=ma.dataflow;return this._pending?xc(this,ma,this._pending):qc(N)?ma.StopPropagation:N.values?xc(this,ma,za.parse(N.values,N.format)):N.async?{async:za.request(N.url,N.format).then(fb=>{this._pending=k.array(fb.data);return Hb=>Hb.touch(this)})}:za.request(N.url,N.format).then(fb=>xc(this,ma,k.array(fb.data)))}});dd.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};k.inherits(dd,P.Transform,{transform(N,ma){const za=N.fields,fb=N.index,Hb=N.values,Xb=null==N.default?null:N.default;var Cc=N.modified();const mc=za.length;let Hc=Cc?ma.SOURCE:ma.ADD,jd=ma,Nc=N.as,vd;Hb?(vd=Hb.length,1<mc&&!Nc&&k.error('Multi-field lookup requires explicit "as" parameter.'),
Nc&&Nc.length!==mc*vd&&k.error('The "as" parameter has too few output field names.'),Nc=Nc||Hb.map(k.accessorName),N=function(Gd){for(var Fd=0,Xd=0,Nd,qe;Fd<mc;++Fd)if(qe=fb.get(za[Fd](Gd)),null==qe)for(Nd=0;Nd<vd;++Nd,++Xd)Gd[Nc[Xd]]=Xb;else for(Nd=0;Nd<vd;++Nd,++Xd)Gd[Nc[Xd]]=Hb[Nd](qe)}):(Nc||k.error("Missing output field names."),N=function(Gd){for(var Fd=0,Xd;Fd<mc;++Fd)Xd=fb.get(za[Fd](Gd)),Gd[Nc[Fd]]=null==Xd?Xb:Xd});Cc?jd=ma.reflow(!0):(Cc=za.some(Gd=>ma.modified(Gd.fields)),Hc|=Cc?ma.MOD:
0);ma.visit(Hc,N);return jd.modifies(Nc)}});k.inherits(Zb,P.Operator);k.inherits(Pd,P.Operator);k.inherits(Ub,P.Transform,{transform(N,ma){this.modified(N.modified());this.value=N;return ma.fork(ma.NO_SOURCE|ma.NO_FIELDS)}});qb.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:ed,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};k.inherits(qb,Cb,{_transform:Cb.prototype.transform,transform(N,ma){return this._transform(Sb(N,ma),ma)}});k.inherits(Ic,Ga,{transform(N,ma){const za=N.subflow,fb=N.field,Hb=Xb=>this.subflow(P.tupleid(Xb),za,ma,Xb);(N.modified("field")||fb&&ma.modified(k.accessorFields(fb)))&&k.error("PreFacet does not support field modification.");this.initTargets();fb?(ma.visit(ma.MOD,Xb=>{const Cc=Hb(Xb);fb(Xb).forEach(mc=>Cc.mod(mc))}),ma.visit(ma.ADD,Xb=>{const Cc=Hb(Xb);fb(Xb).forEach(mc=>
Cc.add(P.ingest(mc)))}),ma.visit(ma.REM,Xb=>{const Cc=Hb(Xb);fb(Xb).forEach(mc=>Cc.rem(mc))})):(ma.visit(ma.MOD,Xb=>Hb(Xb).mod(Xb)),ma.visit(ma.ADD,Xb=>Hb(Xb).add(Xb)),ma.visit(ma.REM,Xb=>Hb(Xb).rem(Xb)));ma.clean()&&ma.runAfter(()=>this.clean());return ma}});zc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};k.inherits(zc,P.Transform,{transform(N,ma){const za=ma.fork(ma.NO_SOURCE),fb=N.fields,
Hb=sb(N.fields,N.as||[]),Xb=fb?(mc,Hc)=>{for(let jd=0,Nc=fb.length;jd<Nc;++jd)Hc[Hb[jd]]=fb[jd](mc);return Hc}:P.rederive;let Cc;this.value?Cc=this.value:(ma=ma.addAll(),Cc=this.value={});ma.visit(ma.REM,mc=>{mc=P.tupleid(mc);za.rem.push(Cc[mc]);Cc[mc]=null});ma.visit(ma.ADD,mc=>{const Hc=Xb(mc,P.ingest({}));Cc[P.tupleid(mc)]=Hc;za.add.push(Hc)});ma.visit(ma.MOD,mc=>{za.mod.push(Xb(mc,Cc[P.tupleid(mc)]))});return za}});k.inherits(Yc,P.Transform,{transform(N,ma){this.value=N.value;return N.modified("value")?
ma.fork(ma.NO_SOURCE|ma.NO_FIELDS):ma.StopPropagation}});Md.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};k.inherits(Md,P.Transform,{transform(N,ma){const za=ma.fork(ma.NO_SOURCE|ma.NO_FIELDS),fb=N.as||["prob","value"];if(this.value&&!N.modified()&&!ma.changed())return za.source=
this.value,za;ma=ma.materialize(ma.SOURCE).source;ma=Pb(ma,N.groupby,N.field);const Hb=(N.groupby||[]).map(k.accessorName),Xb=[],Cc=N.step||.01,mc=N.probs||L(Cc/2,1-1E-14,Cc),Hc=mc.length;ma.forEach(jd=>{const Nc=jb.quantiles(jd,mc);for(let vd=0;vd<Hc;++vd){const Gd={};for(let Fd=0;Fd<Hb.length;++Fd)Gd[Hb[Fd]]=jd.dims[Fd];Gd[fb[0]]=mc[vd];Gd[fb[1]]=Nc[vd];Xb.push(P.ingest(Gd))}});this.value&&(za.rem=this.value);this.value=za.add=za.source=Xb;return za}});k.inherits(ud,P.Transform,{transform(N,ma){let za,
fb;this.value?fb=this.value:(za=ma=ma.addAll(),fb=this.value={});N.derive&&(za=ma.fork(ma.NO_SOURCE),ma.visit(ma.REM,Hb=>{Hb=P.tupleid(Hb);za.rem.push(fb[Hb]);fb[Hb]=null}),ma.visit(ma.ADD,Hb=>{const Xb=P.derive(Hb);fb[P.tupleid(Hb)]=Xb;za.add.push(Xb)}),ma.visit(ma.MOD,Hb=>{const Xb=fb[P.tupleid(Hb)];for(const Cc in Hb)Xb[Cc]=Hb[Cc],za.modifies(Cc);za.mod.push(Xb)}));return za}});Ha.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};k.inherits(Ha,P.Transform,
{transform(N,ma){function za(Nc){let vd,Gd;mc.length<Xb?mc.push(Nc):(Gd=~~((Hc+1)*jb.random()),Gd<mc.length&&Gd>=jd&&(vd=mc[Gd],Cc[P.tupleid(vd)]&&fb.rem.push(vd),mc[Gd]=Nc));++Hc}const fb=ma.fork(ma.NO_SOURCE);var Hb=N.modified("size");const Xb=N.size,Cc=this.value.reduce((Nc,vd)=>(Nc[P.tupleid(vd)]=1,Nc),{});let mc=this.value,Hc=this.count,jd=0;ma.rem.length&&(ma.visit(ma.REM,Nc=>{const vd=P.tupleid(Nc);Cc[vd]&&(Cc[vd]=-1,fb.rem.push(Nc));--Hc}),mc=mc.filter(Nc=>-1!==Cc[P.tupleid(Nc)]));(ma.rem.length||
Hb)&&mc.length<Xb&&ma.source&&(jd=Hc=mc.length,ma.visit(ma.SOURCE,Nc=>{Cc[P.tupleid(Nc)]||za(Nc)}),jd=-1);if(Hb&&mc.length>Xb){N=mc.length-Xb;for(Hb=0;Hb<N;++Hb)Cc[P.tupleid(mc[Hb])]=-1,fb.rem.push(mc[Hb]);mc=mc.slice(N)}ma.mod.length&&ma.visit(ma.MOD,Nc=>{Cc[P.tupleid(Nc)]&&fb.mod.push(Nc)});ma.add.length&&ma.visit(ma.ADD,za);if(ma.add.length||0>jd)fb.add=mc.filter(Nc=>!Cc[P.tupleid(Nc)]);this.count=Hc;this.value=fb.source=mc;return fb}});gb.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},
params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};k.inherits(gb,P.Transform,{transform(N,ma){if(!this.value||N.modified()){var za=ma.materialize().fork(ma.MOD),fb=N.as||"data";za.rem=this.value?ma.rem.concat(this.value):ma.rem;this.value=L(N.start,N.stop,N.step||1).map(Hb=>{const Xb={};Xb[fb]=Hb;return P.ingest(Xb)});za.add=ma.add.concat(this.value);return za}}});k.inherits(vb,
P.Transform,{transform(N,ma){this.value=ma.source;return ma.changed()?ma.fork(ma.NO_SOURCE|ma.NO_FIELDS):ma.StopPropagation}});const ae=["unit0","unit1"];ta.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:Fb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",
"default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":ae}]};k.inherits(ta,P.Transform,{transform(N,ma){const za=N.field,fb=!1!==N.interval;var Hb="utc"===N.timezone;const Xb=this._floor(N,ma),Cc=(Hb?Fb.utcInterval:Fb.timeInterval)(Xb.unit).offset;Hb=N.as||ae;const mc=Hb[0],Hc=Hb[1],jd=Xb.step;let Nc=Xb.start||Infinity,vd=Xb.stop||-Infinity,Gd=ma.ADD;if(N.modified()||ma.changed(ma.REM)||ma.modified(k.accessorFields(za)))ma=ma.reflow(!0),Gd=ma.SOURCE,Nc=Infinity,
vd=-Infinity;ma.visit(Gd,Fd=>{var Xd=za(Fd);let Nd;null==Xd?(Fd[mc]=null,fb&&(Fd[Hc]=null)):(Fd[mc]=Xd=Nd=Xb(Xd),fb&&(Fd[Hc]=Nd=Cc(Xd,jd)),Xd<Nc&&(Nc=Xd),Nd>vd&&(vd=Nd))});Xb.start=Nc;Xb.stop=vd;return ma.modifies(fb?Hb:mc)},_floor(N,ma){var za="utc"===N.timezone;const {units:fb,step:Hb}=N.units?{units:N.units,step:N.step||1}:Fb.timeBin({extent:N.extent||k.extent(ma.materialize(ma.SOURCE).source,N.field),maxbins:N.maxbins});N=Fb.timeUnits(fb);ma=this.value||{};za=(za?Fb.utcFloor:Fb.timeFloor)(N,Hb);
za.unit=k.peek(N);za.units=N;za.step=Hb;za.start=ma.start;za.stop=ma.stop;return this.value=za}});k.inherits(F,P.Transform,{transform(N,ma){const za=ma.dataflow,fb=N.field,Hb=this.value,Xb=mc=>Hb.set(fb(mc),mc);let Cc=!0;N.modified("field")||ma.modified(fb.fields)?(Hb.clear(),ma.visit(ma.SOURCE,Xb)):ma.changed()?(ma.visit(ma.REM,mc=>Hb.delete(fb(mc))),ma.visit(ma.ADD,Xb)):Cc=!1;this.modified(Cc);Hb.empty>za.cleanThreshold&&za.runAfter(Hb.clean);return ma.fork()}});k.inherits(ya,P.Transform,{transform(N,
ma){if(!this.value||N.modified("field")||N.modified("sort")||ma.changed()||N.sort&&ma.modified(N.sort.fields))this.value=(N.sort?ma.source.slice().sort(P.stableCompare(N.sort)):ma.source).map(N.field)}});const Ud={row_number:function(){return{next:N=>N.index+1}},rank:function(){let N;return{init:()=>N=1,next:ma=>{const za=ma.index,fb=ma.data;return za&&ma.compare(fb[za-1],fb[za])?N=za+1:N}}},dense_rank:function(){let N;return{init:()=>N=1,next:ma=>{const za=ma.index,fb=ma.data;return za&&ma.compare(fb[za-
1],fb[za])?++N:N}}},percent_rank:function(){const N=Ud.rank(),ma=N.next;return{init:N.init,next:za=>(ma(za)-1)/(za.data.length-1)}},cume_dist:function(){let N;return{init:()=>N=0,next:ma=>{const za=ma.data,fb=ma.compare;ma=ma.index;if(N<ma){for(;ma+1<za.length&&!fb(za[ma],za[ma+1]);)++ma;N=ma}return(1+N)/za.length}}},ntile:function(N,ma){ma=+ma;0<ma||k.error("ntile num must be greater than zero.");N=Ud.cume_dist();const za=N.next;return{init:N.init,next:fb=>Math.ceil(ma*za(fb))}},lag:function(N,ma){ma=
+ma||1;return{next:za=>{const fb=za.index-ma;return 0<=fb?N(za.data[fb]):null}}},lead:function(N,ma){ma=+ma||1;return{next:za=>{const fb=za.index+ma;za=za.data;return fb<za.length?N(za[fb]):null}}},first_value:function(N){return{next:ma=>N(ma.data[ma.i0])}},last_value:function(N){return{next:ma=>N(ma.data[ma.i1-1])}},nth_value:function(N,ma){ma=+ma;0<ma||k.error("nth_value nth must be greater than zero.");return{next:za=>{const fb=za.i0+(ma-1);return fb<za.i1?N(za.data[fb]):null}}},prev_value:function(N){let ma;
return{init:()=>ma=null,next:za=>{za=N(za.data[za.index]);return null!=za?ma=za:ma}}},next_value:function(N){let ma,za;return{init:()=>(ma=null,za=-1),next:fb=>{var Hb=fb.data;if(fb.index<=za)Hb=ma;else{a:{fb=fb.index;for(let Xb=Hb.length;fb<Xb;++fb)if(null!=N(Hb[fb]))break a;fb=-1}Hb=0>(za=fb)?(za=Hb.length,ma=null):ma=N(Hb[za])}return Hb}}}},Xe=Object.keys(Ud),Wd=Za.prototype;Wd.init=function(){this.windows.forEach(N=>N.init());this.cell&&this.cell.init()};Wd.update=function(N,ma){const za=this.cell,
fb=this.windows,Hb=N.data,Xb=fb&&fb.length;let Cc;if(za){for(Cc=N.p0;Cc<N.i0;++Cc)za.rem(Hb[Cc]);for(Cc=N.p1;Cc<N.i1;++Cc)za.add(Hb[Cc]);za.set(ma)}for(Cc=0;Cc<Xb;++Cc)fb[Cc].update(N,ma)};Eb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Xe.concat(ed)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,
array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};k.inherits(Eb,P.Transform,{transform(N,ma){this.stamp=ma.stamp;const za=N.modified(),fb=P.stableCompare(N.sort),Hb=vc(N.groupby),Xb=mc=>this.group(Hb(mc));let Cc=this.state;if(!Cc||za)Cc=this.state=new Za(N);za||ma.modified(Cc.inputs)?(this.value={},ma.visit(ma.SOURCE,mc=>Xb(mc).add(mc))):(ma.visit(ma.REM,mc=>Xb(mc).remove(mc)),ma.visit(ma.ADD,mc=>Xb(mc).add(mc)));
for(let mc=0,Hc=this._mlen;mc<Hc;++mc)oc(this._mods[mc],Cc,fb,N);this._mlen=0;this._mods=[];return ma.reflow(za).modifies(Cc.outputs)},group(N){let ma=this.value[N];ma||(ma=this.value[N]=ab(P.tupleid),ma.stamp=-1);ma.stamp<this.stamp&&(ma.stamp=this.stamp,this._mods[this._mlen++]=ma);return ma}});v.aggregate=Cb;v.bin=Ob;v.collect=pb;v.compare=Qa;v.countpattern=Ka;v.cross=lb;v.density=Pa;v.dotbin=Vb;v.expression=nb;v.extent=Z;v.facet=Ga;v.field=eb;v.filter=oa;v.flatten=q;v.fold=M;v.formula=Q;v.generate=
g;v.impute=va;v.joinaggregate=X;v.kde=Ca;v.key=Xa;v.load=yc;v.lookup=dd;v.multiextent=Zb;v.multivalues=Pd;v.params=Ub;v.pivot=qb;v.prefacet=Ic;v.project=zc;v.proxy=Yc;v.quantile=Md;v.relay=ud;v.sample=Ha;v.sequence=gb;v.sieve=vb;v.subflow=Fa;v.timeunit=ta;v.tupleindex=F;v.values=ya;v.window=Eb})};
shadow$provide[31]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function k(P,jb){if("undefined"!==typeof document&&document.createElement){const Fb=document.createElement("canvas");if(Fb&&Fb.getContext)return Fb.width=P,Fb.height=jb,Fb}return null}v.canvas=k;v.domCanvas=k;v.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[32]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(22)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function jb(w,T,aa){T=w-T+2*aa;return w?0<T?T:1:0}function Fb(w){return function(T){let aa=T[0];T=T[1];let Ea;T<aa&&(Ea=aa,aa=T,T=Ea);return[w.invert(aa),w.invert(T)]}}function bc(w){return function(T){const aa=
w.range();let Ea=T[0];T=T[1];let rb=-1,xb;let Lb;if(T<Ea){var Mb=Ea;Ea=T;T=Mb}Mb=0;for(Lb=aa.length;Mb<Lb;++Mb)aa[Mb]>=Ea&&aa[Mb]<=T&&(0>rb&&(rb=Mb),xb=Mb);if(!(0>rb))return Ea=w.invertExtent(aa[rb]),T=w.invertExtent(aa[xb]),[void 0===Ea[0]?Ea[1]:Ea[0],void 0===T[1]?T[0]:T[1]]}}function vc(w,T){return null==w||null==T?NaN:w<T?-1:w>T?1:w>=T?0:NaN}function Bc(w,T){return null==w||null==T?NaN:T<w?-1:T>w?1:T>=w?0:NaN}function uc(w){function T(xb,Lb,Mb=0,Lc=xb.length){if(Mb<Lc){if(0!==aa(Lb,Lb))return Lc;
do{const Dd=Mb+Lc>>>1;0>Ea(xb[Dd],Lb)?Mb=Dd+1:Lc=Dd}while(Mb<Lc)}return Mb}let aa,Ea,rb;2!==w.length?(aa=vc,Ea=(xb,Lb)=>vc(w(xb),Lb),rb=(xb,Lb)=>w(xb)-Lb):(aa=w===vc||w===Bc?w:Ab,rb=Ea=w);return{left:T,center:function(xb,Lb,Mb=0,Lc=xb.length){Lc=T(xb,Lb,Mb,Lc-1);return Lc>Mb&&rb(xb[Lc-1],Lb)>-rb(xb[Lc],Lb)?Lc-1:Lc},right:function(xb,Lb,Mb=0,Lc=xb.length){if(Mb<Lc){if(0!==aa(Lb,Lb))return Lc;do{const Dd=Mb+Lc>>>1;0>=Ea(xb[Dd],Lb)?Mb=Dd+1:Lc=Dd}while(Mb<Lc)}return Mb}}}function Ab(){return 0}function kc(w){return null===
w?NaN:+w}function Yb({_intern:w,_key:T},aa){T=T(aa);return w.has(T)?w.get(T):aa}function Ua({_intern:w,_key:T},aa){T=T(aa);if(w.has(T))return w.get(T);w.set(T,aa);return aa}function tb({_intern:w,_key:T},aa){T=T(aa);w.has(T)&&(aa=w.get(T),w.delete(T));return aa}function Jb(w){return null!==w&&"object"===typeof w?w.valueOf():w}function Kb(w,T,aa){var Ea=(T-w)/Math.max(0,aa),rb=Math.floor(Math.log10(Ea));Ea/=Math.pow(10,rb);Ea=Ea>=xg?10:Ea>=Wh?5:Ea>=rh?2:1;let xb;0>rb?(xb=Math.pow(10,-rb)/Ea,rb=Math.round(w*
xb),Ea=Math.round(T*xb),rb/xb<w&&++rb,Ea/xb>T&&--Ea,xb=-xb):(xb=Math.pow(10,rb)*Ea,rb=Math.round(w/xb),Ea=Math.round(T/xb),rb*xb<w&&++rb,Ea*xb>T&&--Ea);return Ea<rb&&.5<=aa&&2>aa?Kb(w,T,2*aa):[rb,Ea,xb]}function Cb(w,T,aa){T=+T;w=+w;aa=+aa;if(!(0<aa))return[];if(w===T)return[w];var Ea=T<w;const [rb,xb,Lb]=Ea?Kb(T,w,aa):Kb(w,T,aa);if(!(xb>=rb))return[];w=xb-rb+1;T=Array(w);if(Ea)if(0>Lb)for(Ea=0;Ea<w;++Ea)T[Ea]=(xb-Ea)/-Lb;else for(Ea=0;Ea<w;++Ea)T[Ea]=(xb-Ea)*Lb;else if(0>Lb)for(Ea=0;Ea<w;++Ea)T[Ea]=
(rb+Ea)/-Lb;else for(Ea=0;Ea<w;++Ea)T[Ea]=(rb+Ea)*Lb;return T}function Ob(w,T,aa){return Kb(+w,+T,+aa)[2]}function ab(w,T,aa){T=+T;w=+w;aa=+aa;const Ea=T<w;w=Ea?Ob(T,w,aa):Ob(w,T,aa);return(Ea?-1:1)*(0>w?1/-w:w)}function pb(w,T,aa=kc){if((Ea=w.length)&&!isNaN(T=+T)){if(0>=T||2>Ea)return+aa(w[0],0,w);if(1<=T)return+aa(w[Ea-1],Ea-1,w);var Ea;T*=Ea-1;Ea=Math.floor(T);var rb=+aa(w[Ea],Ea,w);w=+aa(w[Ea+1],Ea+1,w);return rb+(w-rb)*(T-Ea)}}function Qa(w,T,aa){w=+w;T=+T;aa=2>(rb=arguments.length)?(T=w,w=
0,1):3>rb?1:+aa;for(var Ea=-1,rb=Math.max(0,Math.ceil((T-w)/aa))|0,xb=Array(rb);++Ea<rb;)xb[Ea]=w+Ea*aa;return xb}function Da(w,T){switch(arguments.length){case 0:break;case 1:this.range(w);break;default:this.range(T).domain(w)}return this}function Ka(w,T){switch(arguments.length){case 0:break;case 1:"function"===typeof w?this.interpolator(w):this.range(w);break;default:this.domain(w),"function"===typeof T?this.interpolator(T):this.range(T)}return this}function lb(){function w(xb){let Lb=T.get(xb);
if(void 0===Lb){if(rb!==Hh)return rb;T.set(xb,Lb=aa.push(xb)-1)}return Ea[Lb%Ea.length]}var T=new qh,aa=[],Ea=[],rb=Hh;w.domain=function(xb){if(!arguments.length)return aa.slice();aa=[];T=new qh;for(const Lb of xb)T.has(Lb)||T.set(Lb,aa.push(Lb)-1);return w};w.range=function(xb){return arguments.length?(Ea=Array.from(xb),w):Ea.slice()};w.unknown=function(xb){return arguments.length?(rb=xb,w):rb};w.copy=function(){return lb(aa,Ea).unknown(rb)};Da.apply(w,arguments);return w}function mb(w,T,aa){w.prototype=
T.prototype=aa;aa.constructor=w}function Pa(w,T){w=Object.create(w.prototype);for(var aa in T)w[aa]=T[aa];return w}function wb(){}function sb(){return this.rgb().formatHex()}function Pb(){return this.rgb().formatRgb()}function Vb(w){var T,aa;w=(w+"").trim().toLowerCase();return(T=sh.exec(w))?(aa=T[1].length,T=parseInt(T[1],16),6===aa?nb(T):3===aa?new Ga(T>>8&15|T>>4&240,T>>4&15|T&240,(T&15)<<4|T&15,1):8===aa?qa(T>>24&255,T>>16&255,T>>8&255,(T&255)/255):4===aa?qa(T>>12&15|T>>8&240,T>>8&15|T>>4&240,
T>>4&15|T&240,((T&15)<<4|T&15)/255):null):(T=Bh.exec(w))?new Ga(T[1],T[2],T[3],1):(T=ji.exec(w))?new Ga(255*T[1]/100,255*T[2]/100,255*T[3]/100,1):(T=eh.exec(w))?qa(T[1],T[2],T[3],T[4]):(T=th.exec(w))?qa(255*T[1]/100,255*T[2]/100,255*T[3]/100,T[4]):(T=yi.exec(w))?Q(T[1],T[2]/100,T[3]/100,1):(T=Fg.exec(w))?Q(T[1],T[2]/100,T[3]/100,T[4]):Mh.hasOwnProperty(w)?nb(Mh[w]):"transparent"===w?new Ga(NaN,NaN,NaN,0):null}function nb(w){return new Ga(w>>16&255,w>>8&255,w&255,1)}function qa(w,T,aa,Ea){0>=Ea&&(w=
T=aa=NaN);return new Ga(w,T,aa,Ea)}function Z(w){w instanceof wb||(w=Vb(w));if(!w)return new Ga;w=w.rgb();return new Ga(w.r,w.g,w.b,w.opacity)}function Fa(w,T,aa,Ea){return 1===arguments.length?Z(w):new Ga(w,T,aa,null==Ea?1:Ea)}function Ga(w,T,aa,Ea){this.r=+w;this.g=+T;this.b=+aa;this.opacity=+Ea}function eb(){return`#${M(this.r)}${M(this.g)}${M(this.b)}`}function ba(){const w=oa(this.opacity);return`${1===w?"rgb(":"rgba("}${q(this.r)}, ${q(this.g)}, ${q(this.b)}${1===w?")":`, ${w})`}`}function oa(w){return isNaN(w)?
1:Math.max(0,Math.min(1,w))}function q(w){return Math.max(0,Math.min(255,Math.round(w)||0))}function M(w){w=q(w);return(16>w?"0":"")+w.toString(16)}function Q(w,T,aa,Ea){0>=Ea?w=T=aa=NaN:0>=aa||1<=aa?w=T=NaN:0>=T&&(w=NaN);return new m(w,T,aa,Ea)}function g(w){if(w instanceof m)return new m(w.h,w.s,w.l,w.opacity);w instanceof wb||(w=Vb(w));if(!w)return new m;if(w instanceof m)return w;w=w.rgb();var T=w.r/255,aa=w.g/255,Ea=w.b/255,rb=Math.min(T,aa,Ea),xb=Math.max(T,aa,Ea),Lb=NaN,Mb=xb-rb,Lc=(xb+rb)/
2;Mb?(Lb=T===xb?(aa-Ea)/Mb+6*(aa<Ea):aa===xb?(Ea-T)/Mb+2:(T-aa)/Mb+4,Mb/=.5>Lc?xb+rb:2-xb-rb,Lb*=60):Mb=0<Lc&&1>Lc?0:Lb;return new m(Lb,Mb,Lc,w.opacity)}function u(w,T,aa,Ea){return 1===arguments.length?g(w):new m(w,T,aa,null==Ea?1:Ea)}function m(w,T,aa,Ea){this.h=+w;this.s=+T;this.l=+aa;this.opacity=+Ea}function C(w){w=(w||0)%360;return 0>w?w+360:w}function B(w){return Math.max(0,Math.min(1,w||0))}function A(w,T,aa){return 255*(60>w?T+(aa-T)*w/60:180>w?aa:240>w?T+(aa-T)*(240-w)/60:T)}function D(w){if(w instanceof
V)return new V(w.l,w.a,w.b,w.opacity);if(w instanceof Wa)return $a(w);w instanceof Ga||(w=Z(w));var T=L(w.r),aa=L(w.g),Ea=L(w.b),rb=Aa(.2225045*T+.7168786*aa+.0606169*Ea);if(T===aa&&aa===Ea)var xb=T=rb;else xb=Aa((.4360747*T+.3850649*aa+.1430804*Ea)/.96422),T=Aa((.0139322*T+.0971045*aa+.7141733*Ea)/.82521);return new V(116*rb-16,500*(xb-rb),200*(rb-T),w.opacity)}function I(w,T,aa,Ea){return 1===arguments.length?D(w):new V(w,T,aa,null==Ea?1:Ea)}function V(w,T,aa,Ea){this.l=+w;this.a=+T;this.b=+aa;
this.opacity=+Ea}function Aa(w){return w>Gg?Math.pow(w,1/3):w/Ch+hh}function Y(w){return w>lh?w*w*w:Ch*(w-hh)}function t(w){return 255*(.0031308>=w?12.92*w:1.055*Math.pow(w,1/2.4)-.055)}function L(w){return.04045>=(w/=255)?w/12.92:Math.pow((w+.055)/1.055,2.4)}function va(w){if(w instanceof Wa)return new Wa(w.h,w.c,w.l,w.opacity);w instanceof V||(w=D(w));if(0===w.a&&0===w.b)return new Wa(NaN,0<w.l&&100>w.l?0:NaN,w.l,w.opacity);var T=Math.atan2(w.b,w.a)*Rg;return new Wa(0>T?T+360:T,Math.sqrt(w.a*w.a+
w.b*w.b),w.l,w.opacity)}function La(w,T,aa,Ea){return 1===arguments.length?va(w):new Wa(w,T,aa,null==Ea?1:Ea)}function Wa(w,T,aa,Ea){this.h=+w;this.c=+T;this.l=+aa;this.opacity=+Ea}function $a(w){if(isNaN(w.h))return new V(w.l,0,0,w.opacity);var T=w.h*Xh;return new V(w.l,Math.cos(T)*w.c,Math.sin(T)*w.c,w.opacity)}function X(w,T,aa,Ea){if(1===arguments.length){var rb=w;if(rb instanceof Ca)rb=new Ca(rb.h,rb.s,rb.l,rb.opacity);else{rb instanceof Ga||(rb=Z(rb));var xb=rb.g/255,Lb=rb.b/255,Mb=(Nh*Lb+rb.r/
255*-1.7884503806-3.5172982438*xb)/(Nh+-1.7884503806-3.5172982438);Lb-=Mb;var Lc=(1.97294*(xb-Mb)- -.29227*Lb)/-.90649;Lb=(xb=Math.sqrt(Lc*Lc+Lb*Lb)/(1.97294*Mb*(1-Mb)))?Math.atan2(Lc,Lb)*Rg-120:NaN;rb=new Ca(0>Lb?Lb+360:Lb,xb,Mb,rb.opacity)}}else rb=new Ca(w,T,aa,null==Ea?1:Ea);return rb}function Ca(w,T,aa,Ea){this.h=+w;this.s=+T;this.l=+aa;this.opacity=+Ea}function Xa(w,T,aa,Ea,rb){var xb=w*w,Lb=xb*w;return((1-3*w+3*xb-Lb)*T+(4-6*xb+3*Lb)*aa+(1+3*w+3*xb-3*Lb)*Ea+Lb*rb)/6}function Ib(w){var T=w.length-
1;return function(aa){var Ea=0>=aa?aa=0:1<=aa?(aa=1,T-1):Math.floor(aa*T),rb=w[Ea],xb=w[Ea+1];return Xa((aa-Ea/T)*T,0<Ea?w[Ea-1]:2*rb-xb,rb,xb,Ea<T-1?w[Ea+2]:2*xb-rb)}}function yc(w){var T=w.length;return function(aa){var Ea=Math.floor((0>(aa%=1)?++aa:aa)*T);return Xa((aa-Ea/T)*T,w[(Ea+T-1)%T],w[Ea%T],w[(Ea+1)%T],w[(Ea+2)%T])}}function qc(w,T){return function(aa){return w+aa*T}}function xc(w,T,aa){return w=Math.pow(w,aa),T=Math.pow(T,aa)-w,aa=1/aa,function(Ea){return Math.pow(w+Ea*T,aa)}}function dd(w,
T){var aa=T-w;return aa?qc(w,180<aa||-180>aa?aa-360*Math.round(aa/360):aa):Dh(isNaN(w)?T:w)}function Zb(w){return 1===(w=+w)?Rc:function(T,aa){return aa-T?xc(T,aa,w):Dh(isNaN(T)?aa:T)}}function Rc(w,T){var aa=T-w;return aa?qc(w,aa):Dh(isNaN(w)?T:w)}function Pd(w){return function(T){var aa=T.length,Ea=Array(aa),rb=Array(aa),xb=Array(aa),Lb;for(Lb=0;Lb<aa;++Lb){var Mb=Fa(T[Lb]);Ea[Lb]=Mb.r||0;rb[Lb]=Mb.g||0;xb[Lb]=Mb.b||0}Ea=w(Ea);rb=w(rb);xb=w(xb);Mb.opacity=1;return function(Lc){Mb.r=Ea(Lc);Mb.g=
rb(Lc);Mb.b=xb(Lc);return Mb+""}}}function Na(w,T){T||(T=[]);var aa=w?Math.min(T.length,w.length):0,Ea=T.slice(),rb;return function(xb){for(rb=0;rb<aa;++rb)Ea[rb]=w[rb]*(1-xb)+T[rb]*xb;return Ea}}function Ub(w){return ArrayBuffer.isView(w)&&!(w instanceof DataView)}function qb(w,T){var aa=T?T.length:0,Ea=w?Math.min(aa,w.length):0,rb=Array(Ea),xb=Array(aa),Lb;for(Lb=0;Lb<Ea;++Lb)rb[Lb]=Md(w[Lb],T[Lb]);for(;Lb<aa;++Lb)xb[Lb]=T[Lb];return function(Mb){for(Lb=0;Lb<Ea;++Lb)xb[Lb]=rb[Lb](Mb);return xb}}
function Sb(w,T){var aa=new Date;return w=+w,T=+T,function(Ea){return aa.setTime(w*(1-Ea)+T*Ea),aa}}function ic(w,T){return w=+w,T=+T,function(aa){return w*(1-aa)+T*aa}}function dc(w,T){var aa={},Ea={},rb;if(null===w||"object"!==typeof w)w={};if(null===T||"object"!==typeof T)T={};for(rb in T)rb in w?aa[rb]=Md(w[rb],T[rb]):Ea[rb]=T[rb];return function(xb){for(rb in aa)Ea[rb]=aa[rb](xb);return Ea}}function Ic(w){return function(){return w}}function zc(w){return function(T){return w(T)+""}}function Yc(w,
T){var aa=fh.lastIndex=Zg.lastIndex=0,Ea,rb,xb,Lb=-1,Mb=[],Lc=[];w+="";for(T+="";(Ea=fh.exec(w))&&(rb=Zg.exec(T));)(xb=rb.index)>aa&&(xb=T.slice(aa,xb),Mb[Lb]?Mb[Lb]+=xb:Mb[++Lb]=xb),(Ea=Ea[0])===(rb=rb[0])?Mb[Lb]?Mb[Lb]+=rb:Mb[++Lb]=rb:(Mb[++Lb]=null,Lc.push({i:Lb,x:ic(Ea,rb)})),aa=Zg.lastIndex;aa<T.length&&(xb=T.slice(aa),Mb[Lb]?Mb[Lb]+=xb:Mb[++Lb]=xb);return 2>Mb.length?Lc[0]?zc(Lc[0].x):Ic(T):(T=Lc.length,function(Dd){for(var gd=0,nc;gd<T;++gd)Mb[(nc=Lc[gd]).i]=nc.x(Dd);return Mb.join("")})}function Md(w,
T){var aa=typeof T,Ea;return null==T||"boolean"===aa?Dh(T):("number"===aa?ic:"string"===aa?(Ea=Vb(T))?(T=Ea,Hg):Yc:T instanceof Vb?Hg:T instanceof Date?Sb:Ub(T)?Na:Array.isArray(T)?qb:"function"!==typeof T.valueOf&&"function"!==typeof T.toString||isNaN(T)?dc:ic)(w,T)}function ud(w,T){return w=+w,T=+T,function(aa){return Math.round(w*(1-aa)+T*aa)}}function Ha(w,T,aa,Ea,rb,xb){var Lb,Mb,Lc;if(Lb=Math.sqrt(w*w+T*T))w/=Lb,T/=Lb;if(Lc=w*aa+T*Ea)aa-=w*Lc,Ea-=T*Lc;if(Mb=Math.sqrt(aa*aa+Ea*Ea))aa/=Mb,Ea/=
Mb,Lc/=Mb;w*Ea<T*aa&&(w=-w,T=-T,Lc=-Lc,Lb=-Lb);return{translateX:rb,translateY:xb,rotate:Math.atan2(T,w)*Yf,skewX:Math.atan(Lc)*Yf,scaleX:Lb,scaleY:Mb}}function gb(w,T,aa,Ea){function rb(Dd){return Dd.length?Dd.pop()+" ":""}function xb(Dd,gd,nc,sd,xd,ze){Dd!==nc||gd!==sd?(xd=xd.push("translate(",null,T,null,aa),ze.push({i:xd-4,x:ic(Dd,nc)},{i:xd-2,x:ic(gd,sd)})):(nc||sd)&&xd.push("translate("+nc+T+sd+aa)}function Lb(Dd,gd,nc,sd){Dd!==gd?(180<Dd-gd?gd+=360:180<gd-Dd&&(Dd+=360),sd.push({i:nc.push(rb(nc)+
"rotate(",null,Ea)-2,x:ic(Dd,gd)})):gd&&nc.push(rb(nc)+"rotate("+gd+Ea)}function Mb(Dd,gd,nc,sd){Dd!==gd?sd.push({i:nc.push(rb(nc)+"skewX(",null,Ea)-2,x:ic(Dd,gd)}):gd&&nc.push(rb(nc)+"skewX("+gd+Ea)}function Lc(Dd,gd,nc,sd,xd,ze){Dd!==nc||gd!==sd?(xd=xd.push(rb(xd)+"scale(",null,",",null,")"),ze.push({i:xd-4,x:ic(Dd,nc)},{i:xd-2,x:ic(gd,sd)})):1===nc&&1===sd||xd.push(rb(xd)+"scale("+nc+","+sd+")")}return function(Dd,gd){var nc=[],sd=[];Dd=w(Dd);gd=w(gd);xb(Dd.translateX,Dd.translateY,gd.translateX,
gd.translateY,nc,sd);Lb(Dd.rotate,gd.rotate,nc,sd);Mb(Dd.skewX,gd.skewX,nc,sd);Lc(Dd.scaleX,Dd.scaleY,gd.scaleX,gd.scaleY,nc,sd);Dd=gd=null;return function(xd){for(var ze=-1,oe=sd.length,We;++ze<oe;)nc[(We=sd[ze]).i]=We.x(xd);return nc.join("")}}}function vb(w){return((w=Math.exp(w))+1/w)/2}function ta(w){return function(T,aa){var Ea=w((T=u(T)).h,(aa=u(aa)).h),rb=Rc(T.s,aa.s),xb=Rc(T.l,aa.l),Lb=Rc(T.opacity,aa.opacity);return function(Mb){T.h=Ea(Mb);T.s=rb(Mb);T.l=xb(Mb);T.opacity=Lb(Mb);return T+
""}}}function F(w){return function(T,aa){var Ea=w((T=La(T)).h,(aa=La(aa)).h),rb=Rc(T.c,aa.c),xb=Rc(T.l,aa.l),Lb=Rc(T.opacity,aa.opacity);return function(Mb){T.h=Ea(Mb);T.c=rb(Mb);T.l=xb(Mb);T.opacity=Lb(Mb);return T+""}}}function ya(w){return function Ea(aa){function rb(xb,Lb){var Mb=w((xb=X(xb)).h,(Lb=X(Lb)).h),Lc=Rc(xb.s,Lb.s),Dd=Rc(xb.l,Lb.l),gd=Rc(xb.opacity,Lb.opacity);return function(nc){xb.h=Mb(nc);xb.s=Lc(nc);xb.l=Dd(Math.pow(nc,aa));xb.opacity=gd(nc);return xb+""}}aa=+aa;rb.gamma=Ea;return rb}(1)}
function Oa(w,T){void 0===T&&(T=w,w=Md);for(var aa=0,Ea=T.length-1,rb=T[0],xb=Array(0>Ea?0:Ea);aa<Ea;)xb[aa]=w(rb,rb=T[++aa]);return function(Lb){var Mb=Math.max(0,Math.min(Ea-1,Math.floor(Lb*=Ea)));return xb[Mb](Lb-Mb)}}function Za(w){return function(){return w}}function kb(w){return+w}function Eb(w){return w}function oc(w,T){return(T-=w=+w)?function(aa){return(aa-w)/T}:Za(isNaN(T)?NaN:.5)}function ec(w,T){if(w>T){var aa=w;w=T;T=aa}return function(Ea){return Math.max(w,Math.min(T,Ea))}}function jc(w,
T,aa){var Ea=w[0];w=w[1];var rb=T[0];T=T[1];w<Ea?(Ea=oc(w,Ea),rb=aa(T,rb)):(Ea=oc(Ea,w),rb=aa(rb,T));return function(xb){return rb(Ea(xb))}}function Sc(w,T,aa){var Ea=Math.min(w.length,T.length)-1,rb=Array(Ea),xb=Array(Ea),Lb=-1;w[Ea]<w[0]&&(w=w.slice().reverse(),T=T.slice().reverse());for(;++Lb<Ea;)rb[Lb]=oc(w[Lb],w[Lb+1]),xb[Lb]=aa(T[Lb],T[Lb+1]);return function(Mb){var Lc=Mg(w,Mb,1,Ea)-1;return xb[Lc](rb[Lc](Mb))}}function ed(w,T){return T.domain(w.domain()).range(w.range()).interpolate(w.interpolate()).clamp(w.clamp()).unknown(w.unknown())}
function fd(){function w(){var sd=Math.min(aa.length,Ea.length);Lc!==Eb&&(Lc=ec(aa[0],aa[sd-1]));Dd=2<sd?Sc:jc;gd=nc=null;return T}function T(sd){return null==sd||isNaN(sd=+sd)?Mb:(gd||(gd=Dd(aa.map(xb),Ea,rb)))(xb(Lc(sd)))}var aa=wa,Ea=wa,rb=Md,xb,Lb,Mb,Lc=Eb,Dd,gd,nc;T.invert=function(sd){return Lc(Lb((nc||(nc=Dd(Ea,aa.map(xb),ic)))(sd)))};T.domain=function(sd){return arguments.length?(aa=Array.from(sd,kb),w()):aa.slice()};T.range=function(sd){return arguments.length?(Ea=Array.from(sd),w()):Ea.slice()};
T.rangeRound=function(sd){return Ea=Array.from(sd),rb=ud,w()};T.clamp=function(sd){return arguments.length?(Lc=sd?!0:Eb,w()):Lc!==Eb};T.interpolate=function(sd){return arguments.length?(rb=sd,w()):rb};T.unknown=function(sd){return arguments.length?(Mb=sd,T):Mb};return function(sd,xd){xb=sd;Lb=xd;return w()}}function Qd(w,T){if(0>(T=(w=T?w.toExponential(T-1):w.toExponential()).indexOf("e")))return null;var aa=w.slice(0,T);return[1<aa.length?aa[0]+aa.slice(2):aa,+w.slice(T+1)]}function Td(w){return w=
Qd(Math.abs(w)),w?w[1]:NaN}function Ed(w,T){return function(aa,Ea){for(var rb=aa.length,xb=[],Lb=0,Mb=w[0],Lc=0;0<rb&&0<Mb;){Lc+Mb+1>Ea&&(Mb=Math.max(1,Ea-Lc));xb.push(aa.substring(rb-=Mb,rb+Mb));if((Lc+=Mb+1)>Ea)break;Mb=w[Lb=(Lb+1)%w.length]}return xb.reverse().join(T)}}function Yd(w){return function(T){return T.replace(/[0-9]/g,function(aa){return w[+aa]})}}function ae(w){if(!(T=r.exec(w)))throw Error("invalid format: "+w);var T;return new Ud({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],
width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}function Ud(w){this.fill=void 0===w.fill?" ":w.fill+"";this.align=void 0===w.align?"\x3e":w.align+"";this.sign=void 0===w.sign?"-":w.sign+"";this.symbol=void 0===w.symbol?"":w.symbol+"";this.zero=!!w.zero;this.width=void 0===w.width?void 0:+w.width;this.comma=!!w.comma;this.precision=void 0===w.precision?void 0:+w.precision;this.trim=!!w.trim;this.type=void 0===w.type?"":w.type+""}function Xe(w,T){T=Qd(w,T);if(!T)return w+
"";w=T[0];T=T[1];return 0>T?"0."+Array(-T).join("0")+w:w.length>T+1?w.slice(0,T+1)+"."+w.slice(T+1):w+Array(T-w.length+2).join("0")}function Wd(w){return w}function N(w){function T(gd){function nc(le){var Oe=uf,re=Pg,gg,Ig;if("c"===jg)re=vg(le)+re,le="";else{le=+le;var zg=0>le||0>1/le;le=isNaN(le)?Dd:vg(Math.abs(le),ig);if(Gh){var ng=le.length,Oh=1,fi=-1;a:for(;Oh<ng;++Oh)switch(le[Oh]){case ".":fi=gg=Oh;break;case "0":0===fi&&(fi=Oh);gg=Oh;break;default:if(!+le[Oh])break a;0<fi&&(fi=0)}le=0<fi?le.slice(0,
fi)+le.slice(gg+1):le}zg&&0===+le&&"+"!==ze&&(zg=!1);Oe=(zg?"("===ze?ze:Lc:"-"===ze||"("===ze?"":ze)+Oe;re=("s"===jg?z[8+E/3]:"")+re+(zg&&"("===ze?")":"");if(Je)for(zg=-1,gg=le.length;++zg<gg;)if(Ig=le.charCodeAt(zg),48>Ig||57<Ig){re=(46===Ig?xb+le.slice(zg+1):le.slice(zg))+re;le=le.slice(0,zg);break}}Zf&&!We&&(le=aa(le,Infinity));Ig=Oe.length+le.length+re.length;zg=Ig<Ef?Array(Ef-Ig+1).join(sd):"";Zf&&We&&(le=aa(zg+le,zg.length?Ef-re.length:Infinity),zg="");switch(xd){case "\x3c":le=Oe+le+re+zg;
break;case "\x3d":le=Oe+zg+le+re;break;case "^":le=zg.slice(0,Ig=zg.length>>1)+Oe+le+re+zg.slice(Ig);break;default:le=zg+Oe+le+re}return Lb(le)}gd=ae(gd);var sd=gd.fill,xd=gd.align,ze=gd.sign,oe=gd.symbol,We=gd.zero,Ef=gd.width,Zf=gd.comma,ig=gd.precision,Gh=gd.trim,jg=gd.type;"n"===jg?(Zf=!0,jg="g"):ia[jg]||(void 0===ig&&(ig=12),Gh=!0,jg="g");if(We||"0"===sd&&"\x3d"===xd)We=!0,sd="0",xd="\x3d";var uf="$"===oe?Ea:"#"===oe&&/[boxX]/.test(jg)?"0"+jg.toLowerCase():"",Pg="$"===oe?rb:/[%p]/.test(jg)?Mb:
"",vg=ia[jg],Je=/[defgprs%]/.test(jg);ig=void 0===ig?6:/[gprs]/.test(jg)?Math.max(1,Math.min(21,ig)):Math.max(0,Math.min(20,ig));nc.toString=function(){return gd+""};return nc}var aa=void 0===w.grouping||void 0===w.thousands?Wd:Ed(l.call(w.grouping,Number),w.thousands+""),Ea=void 0===w.currency?"":w.currency[0]+"",rb=void 0===w.currency?"":w.currency[1]+"",xb=void 0===w.decimal?".":w.decimal+"",Lb=void 0===w.numerals?Wd:Yd(l.call(w.numerals,String)),Mb=void 0===w.percent?"%":w.percent+"",Lc=void 0===
w.minus?"":w.minus+"",Dd=void 0===w.nan?"NaN":w.nan+"";return{format:T,formatPrefix:function(gd,nc){var sd=T((gd=ae(gd),gd.type="f",gd));gd=3*Math.max(-8,Math.min(8,Math.floor(Td(nc)/3)));var xd=Math.pow(10,-gd),ze=z[8+gd/3];return function(oe){return sd(xd*oe)+ze}}}}function ma(w,T,aa,Ea){aa=ab(w,T,aa);Ea=ae(null==Ea?",f":Ea);switch(Ea.type){case "s":w=Math.max(Math.abs(w),Math.abs(T));if(T=null==Ea.precision){var rb=isNaN;aa=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Td(w)/3)))-Td(Math.abs(aa)));
T=!rb(rb=aa)}T&&(Ea.precision=rb);return Va(Ea,w);case "":case "e":case "g":case "p":case "r":var xb;if(xb=null==Ea.precision)rb=isNaN,w=Math.max(Math.abs(w),Math.abs(T)),aa=Math.abs(aa),w=Math.abs(w)-aa,aa=Math.max(0,Td(w)-Td(aa))+1,xb=!rb(rb=aa);xb&&(Ea.precision=rb-("e"===Ea.type));break;case "f":case "%":null!=Ea.precision||isNaN(rb=Math.max(0,-Td(Math.abs(aa))))||(Ea.precision=rb-2*("%"===Ea.type))}return na(Ea)}function za(w){var T=w.domain;w.ticks=function(aa){var Ea=T();return Cb(Ea[0],Ea[Ea.length-
1],null==aa?10:aa)};w.tickFormat=function(aa,Ea){var rb=T();return ma(rb[0],rb[rb.length-1],null==aa?10:aa,Ea)};w.nice=function(aa){null==aa&&(aa=10);var Ea=T(),rb=0,xb=Ea.length-1,Lb=Ea[rb],Mb=Ea[xb],Lc=10;if(Mb<Lb){var Dd=Lb;Lb=Mb;Mb=Dd;Dd=rb;rb=xb;xb=Dd}for(;0<Lc--;){Dd=Ob(Lb,Mb,aa);if(Dd===gd)return Ea[rb]=Lb,Ea[xb]=Mb,T(Ea);if(0<Dd)Lb=Math.floor(Lb/Dd)*Dd,Mb=Math.ceil(Mb/Dd)*Dd;else if(0>Dd)Lb=Math.ceil(Lb*Dd)/Dd,Mb=Math.floor(Mb*Dd)/Dd;else break;var gd=Dd}return w};return w}function fb(){var w=
fd()(Eb,Eb);w.copy=function(){return ed(w,fb())};Da.apply(w,arguments);return za(w)}function Hb(w){function T(Ea){return null==Ea||isNaN(Ea=+Ea)?aa:Ea}var aa;T.invert=T;T.domain=T.range=function(Ea){return arguments.length?(w=Array.from(Ea,kb),T):w.slice()};T.unknown=function(Ea){return arguments.length?(aa=Ea,T):aa};T.copy=function(){return Hb(w).unknown(aa)};w=arguments.length?Array.from(w,kb):[0,1];return za(T)}function Xb(w,T){w=w.slice();var aa=0,Ea=w.length-1,rb=w[aa],xb=w[Ea];if(xb<rb){var Lb=
aa;aa=Ea;Ea=Lb;Lb=rb;rb=xb;xb=Lb}w[aa]=T.floor(rb);w[Ea]=T.ceil(xb);return w}function Cc(w){return Math.log(w)}function mc(w){return Math.exp(w)}function Hc(w){return-Math.log(-w)}function jd(w){return-Math.exp(-w)}function Nc(w){return isFinite(w)?+("1e"+w):0>w?0:w}function vd(w){return 10===w?Nc:w===Math.E?Math.exp:T=>Math.pow(w,T)}function Gd(w){return w===Math.E?Math.log:10===w&&Math.log10||2===w&&Math.log2||(w=Math.log(w),T=>Math.log(T)/w)}function Fd(w){return(T,aa)=>-w(-T,aa)}function Xd(w){function T(){xb=
Gd(rb);Lb=vd(rb);0>Ea()[0]?(xb=Fd(xb),Lb=Fd(Lb),w(Hc,jd)):w(Cc,mc);return aa}const aa=w(Cc,mc),Ea=aa.domain;let rb=10,xb,Lb;aa.base=function(Mb){return arguments.length?(rb=+Mb,T()):rb};aa.domain=function(Mb){return arguments.length?(Ea(Mb),T()):Ea()};aa.ticks=Mb=>{var Lc=Ea();let Dd=Lc[0];Lc=Lc[Lc.length-1];const gd=Lc<Dd;gd&&([Dd,Lc]=[Lc,Dd]);let nc=xb(Dd),sd=xb(Lc),xd;const ze=null==Mb?10:+Mb;let oe=[];if(!(rb%1)&&sd-nc<ze){nc=Math.floor(nc);sd=Math.ceil(sd);if(0<Dd)for(;nc<=sd;++nc)for(Mb=1;Mb<
rb;++Mb){if(xd=0>nc?Mb/Lb(-nc):Mb*Lb(nc),!(xd<Dd)){if(xd>Lc)break;oe.push(xd)}}else for(;nc<=sd;++nc)for(Mb=rb-1;1<=Mb;--Mb)if(xd=0<nc?Mb/Lb(-nc):Mb*Lb(nc),!(xd<Dd)){if(xd>Lc)break;oe.push(xd)}2*oe.length<ze&&(oe=Cb(Dd,Lc,ze))}else oe=Cb(nc,sd,Math.min(sd-nc,ze)).map(Lb);return gd?oe.reverse():oe};aa.tickFormat=(Mb,Lc)=>{null==Mb&&(Mb=10);null==Lc&&(Lc=10===rb?"s":",");"function"!==typeof Lc&&(rb%1||null!=(Lc=ae(Lc)).precision||(Lc.trim=!0),Lc=na(Lc));if(Infinity===Mb)return Lc;const Dd=Math.max(1,
rb*Mb/aa.ticks().length);return gd=>{let nc=gd/Lb(Math.round(xb(gd)));nc*rb<rb-.5&&(nc*=rb);return nc<=Dd?Lc(gd):""}};aa.nice=()=>Ea(Xb(Ea(),{floor:Mb=>Lb(Math.floor(xb(Mb))),ceil:Mb=>Lb(Math.ceil(xb(Mb)))}));return aa}function Nd(){const w=Xd(fd()).domain([1,10]);w.copy=()=>ed(w,Nd()).base(w.base());Da.apply(w,arguments);return w}function qe(w){return function(T){return Math.sign(T)*Math.log1p(Math.abs(T/w))}}function De(w){return function(T){return Math.sign(T)*Math.expm1(Math.abs(T))*w}}function gf(w){var T=
1,aa=w(qe(T),De(T));aa.constant=function(Ea){return arguments.length?w(qe(T=+Ea),De(T)):T};return za(aa)}function cf(){var w=gf(fd());w.copy=function(){return ed(w,cf()).constant(w.constant())};return Da.apply(w,arguments)}function df(w){return function(T){return 0>T?-Math.pow(-T,w):Math.pow(T,w)}}function pe(w){return 0>w?-Math.sqrt(-w):Math.sqrt(w)}function nf(w){return 0>w?-w*w:w*w}function U(w){var T=w(Eb,Eb),aa=1;T.exponent=function(Ea){return arguments.length?(aa=+Ea,1===aa?w(Eb,Eb):.5===aa?
w(pe,nf):w(df(aa),df(1/aa))):aa};return za(T)}function ua(){var w=U(fd());w.copy=function(){return ed(w,ua()).exponent(w.exponent())};Da.apply(w,arguments);return w}function cb(){function w(){var Lb=0,Mb=Math.max(1,Ea.length);for(rb=Array(Mb-1);++Lb<Mb;)rb[Lb-1]=pb(aa,Lb/Mb);return T}function T(Lb){return null==Lb||isNaN(Lb=+Lb)?xb:Ea[Mg(rb,Lb)]}var aa=[],Ea=[],rb=[],xb;T.invertExtent=function(Lb){Lb=Ea.indexOf(Lb);return 0>Lb?[NaN,NaN]:[0<Lb?rb[Lb-1]:aa[0],Lb<rb.length?rb[Lb]:aa[aa.length-1]]};T.domain=
function(Lb){if(!arguments.length)return aa.slice();aa=[];for(let Mb of Lb)null==Mb||isNaN(Mb=+Mb)||aa.push(Mb);aa.sort(vc);return w()};T.range=function(Lb){return arguments.length?(Ea=Array.from(Lb),w()):Ea.slice()};T.unknown=function(Lb){return arguments.length?(xb=Lb,T):xb};T.quantiles=function(){return rb.slice()};T.copy=function(){return cb().domain(aa).range(Ea).unknown(xb)};return Da.apply(T,arguments)}function yb(){function w(Lc){return null!=Lc&&Lc<=Lc?Lb[Mg(xb,Lc,0,rb)]:Mb}function T(){var Lc=
-1;for(xb=Array(rb);++Lc<rb;)xb[Lc]=((Lc+1)*Ea-(Lc-rb)*aa)/(rb+1);return w}var aa=0,Ea=1,rb=1,xb=[.5],Lb=[0,1],Mb;w.domain=function(Lc){return arguments.length?([aa,Ea]=Lc,aa=+aa,Ea=+Ea,T()):[aa,Ea]};w.range=function(Lc){return arguments.length?(rb=(Lb=Array.from(Lc)).length-1,T()):Lb.slice()};w.invertExtent=function(Lc){Lc=Lb.indexOf(Lc);return 0>Lc?[NaN,NaN]:1>Lc?[aa,xb[0]]:Lc>=rb?[xb[rb-1],Ea]:[xb[Lc-1],xb[Lc]]};w.unknown=function(Lc){return arguments.length?(Mb=Lc,w):w};w.thresholds=function(){return xb.slice()};
w.copy=function(){return yb().domain([aa,Ea]).range(Lb).unknown(Mb)};return Da.apply(za(w),arguments)}function gc(){function w(xb){return null!=xb&&xb<=xb?aa[Mg(T,xb,0,rb)]:Ea}var T=[.5],aa=[0,1],Ea,rb=1;w.domain=function(xb){return arguments.length?(T=Array.from(xb),rb=Math.min(T.length,aa.length-1),w):T.slice()};w.range=function(xb){return arguments.length?(aa=Array.from(xb),rb=Math.min(T.length,aa.length-1),w):aa.slice()};w.invertExtent=function(xb){xb=aa.indexOf(xb);return[T[xb-1],T[xb]]};w.unknown=
function(xb){return arguments.length?(Ea=xb,w):Ea};w.copy=function(){return gc().domain(T).range(aa).unknown(Ea)};return Da.apply(w,arguments)}function Ec(w,T,aa,Ea){function rb(xb){return w(xb=0===arguments.length?new Date:new Date(+xb)),xb}rb.floor=xb=>(w(xb=new Date(+xb)),xb);rb.ceil=xb=>(w(xb=new Date(xb-1)),T(xb,1),w(xb),xb);rb.round=xb=>{const Lb=rb(xb),Mb=rb.ceil(xb);return xb-Lb<Mb-xb?Lb:Mb};rb.offset=(xb,Lb)=>(T(xb=new Date(+xb),null==Lb?1:Math.floor(Lb)),xb);rb.range=(xb,Lb,Mb)=>{const Lc=
[];xb=rb.ceil(xb);Mb=null==Mb?1:Math.floor(Mb);if(!(xb<Lb&&0<Mb))return Lc;let Dd;do Lc.push(Dd=new Date(+xb)),T(xb,Mb),w(xb);while(Dd<xb&&xb<Lb);return Lc};rb.filter=xb=>Ec(Lb=>{if(Lb>=Lb)for(;w(Lb),!xb(Lb);)Lb.setTime(Lb-1)},(Lb,Mb)=>{if(Lb>=Lb)if(0>Mb)for(;0>=++Mb;)for(;T(Lb,-1),!xb(Lb););else for(;0<=--Mb;)for(;T(Lb,1),!xb(Lb););});aa&&(rb.count=(xb,Lb)=>{Ya.setTime(+xb);Gb.setTime(+Lb);w(Ya);w(Gb);return Math.floor(aa(Ya,Gb))},rb.every=xb=>{xb=Math.floor(xb);return isFinite(xb)&&0<xb?1<xb?rb.filter(Ea?
Lb=>0===Ea(Lb)%xb:Lb=>0===rb.count(0,Lb)%xb):rb:null});return rb}function $b(w){return Ec(T=>{T.setDate(T.getDate()-(T.getDay()+7-w)%7);T.setHours(0,0,0,0)},(T,aa)=>{T.setDate(T.getDate()+7*aa)},(T,aa)=>(aa-T-6E4*(aa.getTimezoneOffset()-T.getTimezoneOffset()))/6048E5)}function J(w){return Ec(T=>{T.setUTCDate(T.getUTCDate()-(T.getUTCDay()+7-w)%7);T.setUTCHours(0,0,0,0)},(T,aa)=>{T.setUTCDate(T.getUTCDate()+7*aa)},(T,aa)=>(aa-T)/6048E5)}function fa(w,T,aa,Ea,rb,xb){function Lb(Lc,Dd,gd){const nc=Math.abs(Dd-
Lc)/gd,sd=uc(([,,oe])=>oe).right(Mb,nc);if(sd===Mb.length)return w.every(ab(Lc/31536E6,Dd/31536E6,gd));if(0===sd)return ac.every(Math.max(ab(Lc,Dd,gd),1));const [xd,ze]=Mb[nc/Mb[sd-1][2]<Mb[sd][2]/nc?sd-1:sd];return xd.every(ze)}const Mb=[[Tb,1,1E3],[Tb,5,5E3],[Tb,15,15E3],[Tb,30,3E4],[xb,1,6E4],[xb,5,3E5],[xb,15,9E5],[xb,30,18E5],[rb,1,36E5],[rb,3,108E5],[rb,6,216E5],[rb,12,432E5],[Ea,1,864E5],[Ea,2,1728E5],[aa,1,6048E5],[T,1,2592E6],[T,3,7776E6],[w,1,31536E6]];return[function(Lc,Dd,gd){const nc=
Dd<Lc;nc&&([Lc,Dd]=[Dd,Lc]);Lc=(gd=gd&&"function"===typeof gd.range?gd:Lb(Lc,Dd,gd))?gd.range(Lc,+Dd+1):[];return nc?Lc.reverse():Lc},Lb]}function Sa(w){if(0<=w.y&&100>w.y){var T=new Date(-1,w.m,w.d,w.H,w.M,w.S,w.L);T.setFullYear(w.y);return T}return new Date(w.y,w.m,w.d,w.H,w.M,w.S,w.L)}function cc(w){if(0<=w.y&&100>w.y){var T=new Date(Date.UTC(-1,w.m,w.d,w.H,w.M,w.S,w.L));T.setUTCFullYear(w.y);return T}return new Date(Date.UTC(w.y,w.m,w.d,w.H,w.M,w.S,w.L))}function Jc(w,T,aa){return{y:w,m:T,d:aa,
H:0,M:0,S:0,L:0}}function Ac(w){function T(Je,le){return function(Oe){var re=[],gg=-1,Ig=0,zg=Je.length,ng,Oh;for(Oe instanceof Date||(Oe=new Date(+Oe));++gg<zg;)if(37===Je.charCodeAt(gg)){re.push(Je.slice(Ig,gg));null!=(Ig=Oi[ng=Je.charAt(++gg)])?ng=Je.charAt(++gg):Ig="e"===ng?" ":"0";if(Oh=le[ng])ng=Oh(Oe,Ig);re.push(ng);Ig=gg+1}re.push(Je.slice(Ig,gg));return re.join("")}}function aa(Je,le){return function(Oe){var re=Jc(1900,void 0,1);if(Ea(re,Je,Oe+="",0)!=Oe.length)return null;if("Q"in re)return new Date(re.Q);
if("s"in re)return new Date(1E3*re.s+("L"in re?re.L:0));!le||"Z"in re||(re.Z=0);"p"in re&&(re.H=re.H%12+12*re.p);void 0===re.m&&(re.m="q"in re?re.q:0);if("V"in re){if(1>re.V||53<re.V)return null;"w"in re||(re.w=1);if("Z"in re){Oe=cc(Jc(re.y,0,1));var gg=Oe.getUTCDay();Oe=4<gg||0===gg?mf.ceil(Oe):mf(Oe);Oe=ue.offset(Oe,7*(re.V-1));re.y=Oe.getUTCFullYear();re.m=Oe.getUTCMonth();re.d=Oe.getUTCDate()+(re.w+6)%7}else Oe=Sa(Jc(re.y,0,1)),gg=Oe.getDay(),Oe=4<gg||0===gg?Uf.ceil(Oe):Uf(Oe),Oe=Ce.offset(Oe,
7*(re.V-1)),re.y=Oe.getFullYear(),re.m=Oe.getMonth(),re.d=Oe.getDate()+(re.w+6)%7}else if("W"in re||"U"in re)"w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),gg="Z"in re?cc(Jc(re.y,0,1)).getUTCDay():Sa(Jc(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+7*re.W-(gg+5)%7:re.w+7*re.U-(gg+6)%7;return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,cc(re)):Sa(re)}}function Ea(Je,le,Oe,re){for(var gg=0,Ig=le.length,zg=Oe.length,ng;gg<Ig;){if(re>=zg)return-1;ng=le.charCodeAt(gg++);if(37===ng){if(ng=le.charAt(gg++),
ng=vg[ng in Oi?le.charAt(gg++):ng],!ng||0>(re=ng(Je,Oe,re)))return-1}else if(ng!=Oe.charCodeAt(re++))return-1}return re}var rb=w.dateTime,xb=w.date,Lb=w.time,Mb=w.periods,Lc=w.days,Dd=w.shortDays,gd=w.months,nc=w.shortMonths,sd=ee(Mb),xd=Ra(Mb),ze=ee(Lc),oe=Ra(Lc),We=ee(Dd),Ef=Ra(Dd),Zf=ee(gd),ig=Ra(gd),Gh=ee(nc),jg=Ra(nc),uf={a:function(Je){return Dd[Je.getDay()]},A:function(Je){return Lc[Je.getDay()]},b:function(Je){return nc[Je.getMonth()]},B:function(Je){return gd[Je.getMonth()]},c:null,d:Zd,
e:Zd,f:H,g:Zc,G:Ad,H:$d,I:ke,j:O,L:da,m:ka,M:la,p:function(Je){return Mb[+(12<=Je.getHours())]},q:function(Je){return 1+~~(Je.getMonth()/3)},Q:Qf,s:Jf,S:Ja,u:hb,U:fc,V:tc,w:Wb,W:Dc,x:null,X:null,y:yd,Y:hd,Z:Hd,"%":Cf},Pg={a:function(Je){return Dd[Je.getUTCDay()]},A:function(Je){return Lc[Je.getUTCDay()]},b:function(Je){return nc[Je.getUTCMonth()]},B:function(Je){return gd[Je.getUTCMonth()]},c:null,d:Oc,e:Oc,f:Id,g:Vd,G:jf,H:Ee,I:Ge,j:Ae,L:Be,m:he,M:xe,p:function(Je){return Mb[+(12<=Je.getUTCHours())]},
q:function(Je){return 1+~~(Je.getUTCMonth()/3)},Q:Qf,s:Jf,S:Le,u:of,U:Ve,V:wf,w:Pf,W:af,x:null,X:null,y:ag,Y:hf,Z:Qe,"%":Cf},vg={a:function(Je,le,Oe){return(le=We.exec(le.slice(Oe)))?(Je.w=Ef.get(le[0].toLowerCase()),Oe+le[0].length):-1},A:function(Je,le,Oe){return(le=ze.exec(le.slice(Oe)))?(Je.w=oe.get(le[0].toLowerCase()),Oe+le[0].length):-1},b:function(Je,le,Oe){return(le=Gh.exec(le.slice(Oe)))?(Je.m=jg.get(le[0].toLowerCase()),Oe+le[0].length):-1},B:function(Je,le,Oe){return(le=Zf.exec(le.slice(Oe)))?
(Je.m=ig.get(le[0].toLowerCase()),Oe+le[0].length):-1},c:function(Je,le,Oe){return Ea(Je,rb,le,Oe)},d:be,e:be,f:Fc,g:td,G:Qc,H:Me,I:Me,j:ve,L:nd,m:Cd,M:$e,p:function(Je,le,Oe){return(le=sd.exec(le.slice(Oe)))?(Je.p=xd.get(le[0].toLowerCase()),Oe+le[0].length):-1},q:Ld,Q:Gc,s:Jd,S:sf,u:pc,U:wd,V:Mc,w:db,W:Uc,x:function(Je,le,Oe){return Ea(Je,xb,le,Oe)},X:function(Je,le,Oe){return Ea(Je,Lb,le,Oe)},y:td,Y:Qc,Z:kd,"%":bd};uf.x=T(xb,uf);uf.X=T(Lb,uf);uf.c=T(rb,uf);Pg.x=T(xb,Pg);Pg.X=T(Lb,Pg);Pg.c=T(rb,
Pg);return{format:function(Je){var le=T(Je+="",uf);le.toString=function(){return Je};return le},parse:function(Je){var le=aa(Je+="",!1);le.toString=function(){return Je};return le},utcFormat:function(Je){var le=T(Je+="",Pg);le.toString=function(){return Je};return le},utcParse:function(Je){var le=aa(Je+="",!0);le.toString=function(){return Je};return le}}}function $c(w,T,aa){var Ea=0>w?"-":"";w=(Ea?-w:w)+"";var rb=w.length;return Ea+(rb<aa?Array(aa-rb+1).join(T)+w:w)}function pd(w){return w.replace(lj,
"\\$\x26")}function ee(w){return new RegExp("^(?:"+w.map(pd).join("|")+")","i")}function Ra(w){return new Map(w.map((T,aa)=>[T.toLowerCase(),aa]))}function db(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+1)))?(w.w=+T[0],aa+T[0].length):-1}function pc(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+1)))?(w.u=+T[0],aa+T[0].length):-1}function wd(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+2)))?(w.U=+T[0],aa+T[0].length):-1}function Mc(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+2)))?(w.V=+T[0],aa+T[0].length):-1}function Uc(w,
T,aa){return(T=Cg.exec(T.slice(aa,aa+2)))?(w.W=+T[0],aa+T[0].length):-1}function Qc(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+4)))?(w.y=+T[0],aa+T[0].length):-1}function td(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+2)))?(w.y=+T[0]+(68<+T[0]?1900:2E3),aa+T[0].length):-1}function kd(w,T,aa){return(T=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(T.slice(aa,aa+6)))?(w.Z=T[1]?0:-(T[2]+(T[3]||"00")),aa+T[0].length):-1}function Ld(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+1)))?(w.q=3*T[0]-3,aa+T[0].length):-1}function Cd(w,
T,aa){return(T=Cg.exec(T.slice(aa,aa+2)))?(w.m=T[0]-1,aa+T[0].length):-1}function be(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+2)))?(w.d=+T[0],aa+T[0].length):-1}function ve(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+3)))?(w.m=0,w.d=+T[0],aa+T[0].length):-1}function Me(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+2)))?(w.H=+T[0],aa+T[0].length):-1}function $e(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+2)))?(w.M=+T[0],aa+T[0].length):-1}function sf(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+2)))?(w.S=+T[0],aa+T[0].length):
-1}function nd(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+3)))?(w.L=+T[0],aa+T[0].length):-1}function Fc(w,T,aa){return(T=Cg.exec(T.slice(aa,aa+6)))?(w.L=Math.floor(T[0]/1E3),aa+T[0].length):-1}function bd(w,T,aa){return(w=kj.exec(T.slice(aa,aa+1)))?aa+w[0].length:-1}function Gc(w,T,aa){return(T=Cg.exec(T.slice(aa)))?(w.Q=+T[0],aa+T[0].length):-1}function Jd(w,T,aa){return(T=Cg.exec(T.slice(aa)))?(w.s=+T[0],aa+T[0].length):-1}function Zd(w,T){return $c(w.getDate(),T,2)}function $d(w,T){return $c(w.getHours(),
T,2)}function ke(w,T){return $c(w.getHours()%12||12,T,2)}function O(w,T){return $c(1+Ce.count(kh(w),w),T,3)}function da(w,T){return $c(w.getMilliseconds(),T,3)}function H(w,T){return da(w,T)+"000"}function ka(w,T){return $c(w.getMonth()+1,T,2)}function la(w,T){return $c(w.getMinutes(),T,2)}function Ja(w,T){return $c(w.getSeconds(),T,2)}function hb(w){w=w.getDay();return 0===w?7:w}function fc(w,T){return $c(zf.count(kh(w)-1,w),T,2)}function rc(w){var T=w.getDay();return 4<=T||0===T?cg(w):cg.ceil(w)}
function tc(w,T){w=rc(w);return $c(cg.count(kh(w),w)+(4===kh(w).getDay()),T,2)}function Wb(w){return w.getDay()}function Dc(w,T){return $c(Uf.count(kh(w)-1,w),T,2)}function yd(w,T){return $c(w.getFullYear()%100,T,2)}function Zc(w,T){w=rc(w);return $c(w.getFullYear()%100,T,2)}function hd(w,T){return $c(w.getFullYear()%1E4,T,4)}function Ad(w,T){var aa=w.getDay();w=4<=aa||0===aa?cg(w):cg.ceil(w);return $c(w.getFullYear()%1E4,T,4)}function Hd(w){w=w.getTimezoneOffset();return(0<w?"-":(w*=-1,"+"))+$c(w/
60|0,"0",2)+$c(w%60,"0",2)}function Oc(w,T){return $c(w.getUTCDate(),T,2)}function Ee(w,T){return $c(w.getUTCHours(),T,2)}function Ge(w,T){return $c(w.getUTCHours()%12||12,T,2)}function Ae(w,T){return $c(1+ue.count(yg(w),w),T,3)}function Be(w,T){return $c(w.getUTCMilliseconds(),T,3)}function Id(w,T){return Be(w,T)+"000"}function he(w,T){return $c(w.getUTCMonth()+1,T,2)}function xe(w,T){return $c(w.getUTCMinutes(),T,2)}function Le(w,T){return $c(w.getUTCSeconds(),T,2)}function of(w){w=w.getUTCDay();
return 0===w?7:w}function Ve(w,T){return $c(Mf.count(yg(w)-1,w),T,2)}function we(w){var T=w.getUTCDay();return 4<=T||0===T?Lf(w):Lf.ceil(w)}function wf(w,T){w=we(w);return $c(Lf.count(yg(w),w)+(4===yg(w).getUTCDay()),T,2)}function Pf(w){return w.getUTCDay()}function af(w,T){return $c(mf.count(yg(w)-1,w),T,2)}function ag(w,T){return $c(w.getUTCFullYear()%100,T,2)}function Vd(w,T){w=we(w);return $c(w.getUTCFullYear()%100,T,2)}function hf(w,T){return $c(w.getUTCFullYear()%1E4,T,4)}function jf(w,T){var aa=
w.getUTCDay();w=4<=aa||0===aa?Lf(w):Lf.ceil(w);return $c(w.getUTCFullYear()%1E4,T,4)}function Qe(){return"+0000"}function Cf(){return"%"}function Qf(w){return+w}function Jf(w){return Math.floor(+w/1E3)}function Gf(w){return new Date(w)}function Bg(w){return w instanceof Date?+w:+new Date(+w)}function sg(w,T,aa,Ea,rb,xb,Lb,Mb,Lc,Dd){function gd(uf){return(Lc(uf)<uf?ze:Mb(uf)<uf?oe:Lb(uf)<uf?We:xb(uf)<uf?Ef:Ea(uf)<uf?rb(uf)<uf?Zf:ig:aa(uf)<uf?Gh:jg)(uf)}var nc=fd()(Eb,Eb),sd=nc.invert,xd=nc.domain,
ze=Dd(".%L"),oe=Dd(":%S"),We=Dd("%I:%M"),Ef=Dd("%I %p"),Zf=Dd("%a %d"),ig=Dd("%b %d"),Gh=Dd("%B"),jg=Dd("%Y");nc.invert=function(uf){return new Date(sd(uf))};nc.domain=function(uf){return arguments.length?xd(Array.from(uf,Bg)):xd().map(Gf)};nc.ticks=function(uf){var Pg=xd();return w(Pg[0],Pg[Pg.length-1],null==uf?10:uf)};nc.tickFormat=function(uf,Pg){return null==Pg?gd:Dd(Pg)};nc.nice=function(uf){var Pg=xd();uf&&"function"===typeof uf.range||(uf=T(Pg[0],Pg[Pg.length-1],null==uf?10:uf));return uf?
xd(Xb(Pg,uf)):nc};nc.copy=function(){return ed(nc,sg(w,T,aa,Ea,rb,xb,Lb,Mb,Lc,Dd))};return nc}function Af(){function w(nc){return null==nc||isNaN(nc=+nc)?gd:Lc(0===Lb?.5:(nc=(Mb(nc)-rb)*Lb,Dd?Math.max(0,Math.min(1,nc)):nc))}function T(nc){return function(sd){var xd,ze;return arguments.length?([xd,ze]=sd,Lc=nc(xd,ze),w):[Lc(0),Lc(1)]}}var aa=0,Ea=1,rb,xb,Lb,Mb,Lc=Eb,Dd=!1,gd;w.domain=function(nc){return arguments.length?([aa,Ea]=nc,rb=Mb(aa=+aa),xb=Mb(Ea=+Ea),Lb=rb===xb?0:1/(xb-rb),w):[aa,Ea]};w.clamp=
function(nc){return arguments.length?(Dd=!!nc,w):Dd};w.interpolator=function(nc){return arguments.length?(Lc=nc,w):Lc};w.range=T(Md);w.rangeRound=T(ud);w.unknown=function(nc){return arguments.length?(gd=nc,w):gd};return function(nc){Mb=nc;rb=nc(aa);xb=nc(Ea);Lb=rb===xb?0:1/(xb-rb);return w}}function Hf(w,T){return T.domain(w.domain()).interpolator(w.interpolator()).clamp(w.clamp()).unknown(w.unknown())}function dg(){var w=za(Af()(Eb));w.copy=function(){return Hf(w,dg())};return Ka.apply(w,arguments)}
function Ug(){var w=Xd(Af()).domain([1,10]);w.copy=function(){return Hf(w,Ug()).base(w.base())};return Ka.apply(w,arguments)}function Vg(){var w=gf(Af());w.copy=function(){return Hf(w,Vg()).constant(w.constant())};return Ka.apply(w,arguments)}function Dg(){var w=U(Af());w.copy=function(){return Hf(w,Dg()).exponent(w.exponent())};return Ka.apply(w,arguments)}function Wg(){function w(oe){return isNaN(oe=+oe)?ze:(oe=.5+((oe=+sd(oe))-Mb)*(xb*oe<xb*Mb?Dd:gd),nc(xd?Math.max(0,Math.min(1,oe)):oe))}function T(oe){return function(We){var Ef,
Zf,ig;return arguments.length?([Ef,Zf,ig]=We,nc=Oa(oe,[Ef,Zf,ig]),w):[nc(0),nc(.5),nc(1)]}}var aa=0,Ea=.5,rb=1,xb=1,Lb,Mb,Lc,Dd,gd,nc=Eb,sd,xd=!1,ze;w.domain=function(oe){return arguments.length?([aa,Ea,rb]=oe,Lb=sd(aa=+aa),Mb=sd(Ea=+Ea),Lc=sd(rb=+rb),Dd=Lb===Mb?0:.5/(Mb-Lb),gd=Mb===Lc?0:.5/(Lc-Mb),xb=Mb<Lb?-1:1,w):[aa,Ea,rb]};w.clamp=function(oe){return arguments.length?(xd=!!oe,w):xd};w.interpolator=function(oe){return arguments.length?(nc=oe,w):nc};w.range=T(Md);w.rangeRound=T(ud);w.unknown=function(oe){return arguments.length?
(ze=oe,w):ze};return function(oe){sd=oe;Lb=oe(aa);Mb=oe(Ea);Lc=oe(rb);Dd=Lb===Mb?0:.5/(Mb-Lb);gd=Mb===Lc?0:.5/(Lc-Mb);xb=Mb<Lb?-1:1;return w}}function ra(){var w=za(Wg()(Eb));w.copy=function(){return Hf(w,ra())};return Ka.apply(w,arguments)}function bb(){var w=Xd(Wg()).domain([.1,1,10]);w.copy=function(){return Hf(w,bb()).base(w.base())};return Ka.apply(w,arguments)}function Rb(){var w=gf(Wg());w.copy=function(){return Hf(w,Rb()).constant(w.constant())};return Ka.apply(w,arguments)}function id(){var w=
U(Wg());w.copy=function(){return Hf(w,id()).exponent(w.exponent())};return Ka.apply(w,arguments)}function od(){function w(){var nc=aa().length;const sd=rb[1]<rb[0],xd=rb[1-sd],ze=jb(nc,Lc,Dd);let oe=rb[sd-0];xb=(xd-oe)/(ze||1);Mb&&(xb=Math.floor(xb));oe+=(xd-oe-xb*(nc-Lc))*gd;Lb=xb*(1-Lc);Mb&&(oe=Math.round(oe),Lb=Math.round(Lb));nc=Qa(nc).map(We=>oe+xb*We);return Ea(sd?nc.reverse():nc)}const T=lb().unknown(void 0),aa=T.domain,Ea=T.range;let rb=[0,1],xb,Lb,Mb=!1,Lc=0,Dd=0,gd=.5;delete T.unknown;T.domain=
function(nc){return arguments.length?(aa(nc),w()):aa()};T.range=function(nc){return arguments.length?(rb=[+nc[0],+nc[1]],w()):rb.slice()};T.rangeRound=function(nc){rb=[+nc[0],+nc[1]];Mb=!0;return w()};T.bandwidth=function(){return Lb};T.step=function(){return xb};T.round=function(nc){return arguments.length?(Mb=!!nc,w()):Mb};T.padding=function(nc){return arguments.length?(Lc=Dd=Math.max(0,Math.min(1,nc)),w()):Lc};T.paddingInner=function(nc){return arguments.length?(Lc=Math.max(0,Math.min(1,nc)),w()):
Lc};T.paddingOuter=function(nc){return arguments.length?(Dd=Math.max(0,Math.min(1,nc)),w()):Dd};T.align=function(nc){return arguments.length?(gd=Math.max(0,Math.min(1,nc)),w()):gd};T.invertRange=function(nc){if(null!=nc[0]&&null!=nc[1]){var sd=rb[1]<rb[0],xd=sd?Ea().reverse():Ea(),ze=xd.length-1,oe=+nc[0],We=+nc[1];if(oe===oe&&We===We){if(We<oe){var Ef=oe;oe=We;We=Ef}if(!(We<xd[0]||oe>rb[1-sd]))return nc=Math.max(0,Qg(xd,oe)-1),We=oe===We?nc:Qg(xd,We)-1,oe-xd[nc]>Lb+1E-10&&++nc,sd&&(Ef=nc,nc=ze-We,
We=ze-Ef),nc>We?void 0:aa().slice(nc,We+1)}}};T.invert=function(nc){return(nc=T.invertRange([nc,nc]))?nc[0]:nc};T.copy=function(){return od().domain(aa()).range(rb).round(Mb).paddingInner(Lc).paddingOuter(Dd).align(gd)};return w()}function ne(w){const T=w.copy;w.padding=w.paddingOuter;delete w.paddingInner;w.copy=function(){return ne(T())};return w}function Re(){function w(Ea){return null==Ea||Ea!==Ea?void 0:aa[(Mg(T,Ea)-1)%aa.length]}let T=[],aa=[];w.domain=function(Ea){return arguments.length?(T=
W.call(Ea,k.toNumber),w):T.slice()};w.range=function(Ea){return arguments.length?(aa=ha.call(Ea),w):aa.slice()};w.tickFormat=function(Ea,rb){return ma(T[0],k.peek(T),null==Ea?10:Ea,rb)};w.copy=function(){return Re().domain(w.domain()).range(w.range())};return w}function pf(w){w[zb]=!0;return w}function Ff(w,T,aa){const Ea=function(){const rb=T();rb.invertRange||(rb.invertRange=rb.invert?Fb(rb):rb.invertExtent?bc(rb):void 0);rb.type=w;return pf(rb)};Ea.metadata=k.toSet(k.array(aa));return Ea}function Ne(w,
T,aa){return 1<arguments.length?(Ma.set(w,Ff(w,T,aa)),this):eg(w)?Ma.get(w):void 0}function eg(w){return Ma.has(w)}function Sf(w,T){return(w=Ma.get(w))&&w.metadata[T]}function Xf(w){return Sf(w,"discrete")}function kg(w){return Sf(w,"discretizing")}function qg(w){return Sf(w,"log")}function Lg(w){return Sf(w,"temporal")}function gh(w,T,aa){return Oa(ph(T||"rgb",aa),w)}function ph(w,T){w=ja[Ie(w)];return null!=T&&w&&w.gamma?w.gamma(T):w}function Ie(w){return"interpolate"+w.toLowerCase().split("-").map(T=>
T[0].toUpperCase()+T.slice(1)).join("")}function ye(w){const T=w.length/6|0,aa=Array(T);for(let Ea=0;Ea<T;)aa[Ea]="#"+w.slice(6*Ea,6*++Ea);return aa}function Kf(w,T){for(const aa in w)yf(aa,T(w[aa]))}function yf(w,T){w=w&&w.toLowerCase();return 1<arguments.length?(Qb[w]=T,this):Qb[w]}function Bf(w,T,aa){var Ea=w.range();let rb=Ea[0],xb=k.peek(Ea);Ea=Vc;rb>xb&&(Ea=xb,xb=rb,rb=Ea,Ea=Kd);rb=Math.floor(rb);xb=Math.ceil(xb);T=T.map(Lb=>[Lb,w(Lb)]).filter(Lb=>rb<=Lb[1]&&Lb[1]<=xb).sort(Ea).map(Lb=>Lb[0]);
if(0<aa&&1<T.length){for(Ea=[T[0],k.peek(T)];T.length>aa&&3<=T.length;)T=T.filter((Lb,Mb)=>!(Mb%2));3>T.length&&(T=Ea)}return T}function tf(w,T){return w.bins?Bf(w,w.bins):w.ticks?w.ticks(T):w.domain()}function fg(w,T,aa,Ea,rb,xb){const Lb=T.type;let Mb=lc;if("time"===Lb||"time"===rb)Mb=w.timeFormat(Ea);else if("utc"===Lb||"utc"===rb)Mb=w.utcFormat(Ea);else if(qg(Lb)){const Lc=w.formatFloat(Ea);if(xb||T.bins)Mb=Lc;else{const Dd=Eg(T,aa,!1);Mb=gd=>Dd(gd)?Lc(gd):""}}else T.tickFormat?(T=T.domain(),
Mb=w.formatSpan(T[0],T[T.length-1],aa,Ea)):Ea&&(Mb=w.format(Ea));return Mb}function Eg(w,T,aa){const Ea=tf(w,T),rb=w.base(),xb=Math.log(rb),Lb=Math.max(1,rb*T/Ea.length);w=Mb=>{Mb/=Math.pow(rb,Math.round(Math.log(Mb)/xb));Mb*rb<rb-.5&&(Mb*=rb);return Mb<=Lb};return aa?Ea.filter(w):w}function tg(w,T){w.bins?(w=w.bins,T=w.slice(0,-1),T.max=k.peek(w),w=T):"log"===w.type?w=Eg(w,T,!0):Sd[w.type]?(w=w[Sd[w.type]](),w=[-Infinity].concat(w),w.max=Infinity):w=tf(w,T);return w}function Df(w,T,aa,Ea,rb,xb,Lb){if(ad[T.type]&&
"time"!==xb&&"utc"!==xb){aa=T[ad[T.type]]();xb=aa.length;Lb=1<xb?aa[1]-aa[0]:aa[0];let Mb;for(Mb=1;Mb<xb;++Mb)Lb=Math.min(Lb,aa[Mb]-aa[Mb-1]);w=w.formatSpan(0,Lb,30,rb)}else w=fg(w,T,aa,rb,xb,Lb);return"symbol"===Ea&&(Sd[T.type]||T.bins)?ie(w):"discrete"===Ea?Ke(w):Ue(w)}const Qg=uc(vc).right;uc(kc).center;var Mg=Qg;class qh extends Map{constructor(w,T=Jb){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:T}});if(null!=w)for(const [aa,Ea]of w)this.set(aa,Ea)}get(w){return super.get(Yb(this,
w))}has(w){return super.has(Yb(this,w))}set(w,T){return super.set(Ua(this,w),T)}delete(w){return super.delete(tb(this,w))}}const xg=Math.sqrt(50),Wh=Math.sqrt(10),rh=Math.sqrt(2),Hh=Symbol("implicit");var Xg=1/.7,sh=/^#([0-9a-f]{3,8})$/,Bh=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),ji=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),eh=
RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),th=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),yi=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Fg=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Mh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mb(wb,Vb,{copy(w){return Object.assign(new this.constructor,this,w)},displayable(){return this.rgb().displayable()},hex:sb,formatHex:sb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return g(this).formatHsl()},formatRgb:Pb,toString:Pb});mb(Ga,Fa,Pa(wb,{brighter(w){w=null==w?Xg:Math.pow(Xg,w);return new Ga(this.r*w,this.g*w,this.b*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new Ga(this.r*w,this.g*w,this.b*w,this.opacity)},rgb(){return this},clamp(){return new Ga(q(this.r),q(this.g),q(this.b),oa(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=
this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:eb,formatHex:eb,formatHex8:function(){return`#${M(this.r)}${M(this.g)}${M(this.b)}${M(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ba,toString:ba}));mb(m,u,Pa(wb,{brighter(w){w=null==w?Xg:Math.pow(Xg,w);return new m(this.h,this.s,this.l*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new m(this.h,this.s,this.l*w,this.opacity)},rgb(){var w=this.h%360+360*(0>this.h),T=isNaN(w)||isNaN(this.s)?0:this.s,aa=this.l;T=aa+
(.5>aa?aa:1-aa)*T;aa=2*aa-T;return new Ga(A(240<=w?w-240:w+120,aa,T),A(w,aa,T),A(120>w?w+240:w-120,aa,T),this.opacity)},clamp(){return new m(C(this.h),B(this.s),B(this.l),oa(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const w=oa(this.opacity);return`${1===w?"hsl(":"hsla("}${C(this.h)}, ${100*B(this.s)}%, ${100*B(this.l)}%${1===w?")":`, ${w})`}`}}));const Xh=Math.PI/180,Rg=180/Math.PI,hh=4/29,lh=6/29,
Ch=3*lh*lh,Gg=lh*lh*lh;mb(V,I,Pa(wb,{brighter(w){return new V(this.l+18*(null==w?1:w),this.a,this.b,this.opacity)},darker(w){return new V(this.l-18*(null==w?1:w),this.a,this.b,this.opacity)},rgb(){var w=(this.l+16)/116,T=isNaN(this.a)?w:w+this.a/500,aa=isNaN(this.b)?w:w-this.b/200;T=.96422*Y(T);w=1*Y(w);aa=.82521*Y(aa);return new Ga(t(3.1338561*T-1.6168667*w-.4906146*aa),t(-.9787684*T+1.9161415*w+.033454*aa),t(.0719453*T-.2289914*w+1.4052427*aa),this.opacity)}}));mb(Wa,La,Pa(wb,{brighter(w){return new Wa(this.h,
this.c,this.l+18*(null==w?1:w),this.opacity)},darker(w){return new Wa(this.h,this.c,this.l-18*(null==w?1:w),this.opacity)},rgb(){return $a(this).rgb()}}));var Nh=1.78277*-.29227-.1347134789;mb(Ca,X,Pa(wb,{brighter(w){w=null==w?Xg:Math.pow(Xg,w);return new Ca(this.h,this.s,this.l*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new Ca(this.h,this.s,this.l*w,this.opacity)},rgb(){var w=isNaN(this.h)?0:(this.h+120)*Xh,T=+this.l,aa=isNaN(this.s)?0:this.s*T*(1-T),Ea=Math.cos(w);w=Math.sin(w);
return new Ga(255*(T+aa*(-.14861*Ea+1.78277*w)),255*(T+aa*(-.29227*Ea+-.90649*w)),255*(T+1.97294*aa*Ea),this.opacity)}}));var Dh=w=>()=>w,Hg=function aa(T){function Ea(xb,Lb){var Mb=rb((xb=Fa(xb)).r,(Lb=Fa(Lb)).r),Lc=rb(xb.g,Lb.g),Dd=rb(xb.b,Lb.b),gd=Rc(xb.opacity,Lb.opacity);return function(nc){xb.r=Mb(nc);xb.g=Lc(nc);xb.b=Dd(nc);xb.opacity=gd(nc);return xb+""}}var rb=Zb(T);Ea.gamma=aa;return Ea}(1),Ng=Pd(Ib),Yh=Pd(yc),fh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zg=new RegExp(fh.source,"g"),
Yf=180/Math.PI,Sg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},$g,qf=gb(function(T){T=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(T+"");return T.isIdentity?Sg:Ha(T.a,T.b,T.c,T.d,T.e,T.f)},"px, ","px)","deg)"),ei=gb(function(T){if(null==T)return Sg;$g||($g=document.createElementNS("http://www.w3.org/2000/svg","g"));$g.setAttribute("transform",T);if(!(T=$g.transform.baseVal.consolidate()))return Sg;T=T.matrix;return Ha(T.a,T.b,T.c,T.d,T.e,T.f)},", ",")",")"),Og=function xb(aa,
Ea,rb){function Lb(Mb,Lc){var Dd=Mb[0],gd=Mb[1],nc=Mb[2];Mb=Lc[2];var sd=Lc[0]-Dd,xd=Lc[1]-gd,ze=sd*sd+xd*xd;if(1E-12>ze){var oe=Math.log(Mb/nc)/aa;Mb=function(Zf){return[Dd+Zf*sd,gd+Zf*xd,nc*Math.exp(aa*Zf*oe)]}}else{var We=Math.sqrt(ze);Lc=(Mb*Mb-nc*nc+rb*ze)/(2*nc*Ea*We);Mb=(Mb*Mb-nc*nc-rb*ze)/(2*Mb*Ea*We);var Ef=Math.log(Math.sqrt(Lc*Lc+1)-Lc);oe=(Math.log(Math.sqrt(Mb*Mb+1)-Mb)-Ef)/aa;Mb=function(Zf){Zf*=oe;var ig=vb(Ef),Gh=aa*Zf+Ef;var jg=((Gh=Math.exp(2*Gh))-1)/(Gh+1);var uf=Ef;Gh=((uf=Math.exp(uf))-
1/uf)/2;jg=nc/(Ea*We)*(ig*jg-Gh);return[Dd+jg*sd,gd+jg*xd,nc*ig/vb(aa*Zf+Ef)]}}Mb.duration=1E3*oe*aa/Math.SQRT2;return Mb}Lb.rho=function(Mb){Mb=Math.max(.001,+Mb);var Lc=Mb*Mb;return xb(Mb,Lc,Lc*Lc)};return Lb}(Math.SQRT2,2,4),bg=ta(dd),S=ta(Rc),xa=F(dd),Ta=F(Rc),p=ya(dd),R=ya(Rc),ja=Object.freeze({__proto__:null,interpolate:Md,interpolateArray:function(aa,Ea){return(Ub(Ea)?Na:qb)(aa,Ea)},interpolateBasis:Ib,interpolateBasisClosed:yc,interpolateCubehelix:p,interpolateCubehelixLong:R,interpolateDate:Sb,
interpolateDiscrete:function(aa){var Ea=aa.length;return function(rb){return aa[Math.max(0,Math.min(Ea-1,Math.floor(rb*Ea)))]}},interpolateHcl:xa,interpolateHclLong:Ta,interpolateHsl:bg,interpolateHslLong:S,interpolateHue:function(aa,Ea){var rb=dd(+aa,+Ea);return function(xb){xb=rb(xb);return xb-360*Math.floor(xb/360)}},interpolateLab:function(aa,Ea){var rb=Rc((aa=I(aa)).l,(Ea=I(Ea)).l),xb=Rc(aa.a,Ea.a),Lb=Rc(aa.b,Ea.b),Mb=Rc(aa.opacity,Ea.opacity);return function(Lc){aa.l=rb(Lc);aa.a=xb(Lc);aa.b=
Lb(Lc);aa.opacity=Mb(Lc);return aa+""}},interpolateNumber:ic,interpolateNumberArray:Na,interpolateObject:dc,interpolateRgb:Hg,interpolateRgbBasis:Ng,interpolateRgbBasisClosed:Yh,interpolateRound:ud,interpolateString:Yc,interpolateTransformCss:qf,interpolateTransformSvg:ei,interpolateZoom:Og,piecewise:Oa,quantize:function(aa,Ea){for(var rb=Array(Ea),xb=0;xb<Ea;++xb)rb[xb]=aa(xb/(Ea-1));return rb}}),wa=[0,1],r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;ae.prototype=Ud.prototype;
Ud.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var E,ia={"%":(aa,Ea)=>(100*aa).toFixed(Ea),b:aa=>Math.round(aa).toString(2),c:aa=>aa+"",d:function(aa){return 1E21<=Math.abs(aa=Math.round(aa))?aa.toLocaleString("en").replace(/,/g,""):aa.toString(10)},e:(aa,Ea)=>aa.toExponential(Ea),f:(aa,
Ea)=>aa.toFixed(Ea),g:(aa,Ea)=>aa.toPrecision(Ea),o:aa=>Math.round(aa).toString(8),p:(aa,Ea)=>Xe(100*aa,Ea),r:Xe,s:function(aa,Ea){var rb=Qd(aa,Ea);if(!rb)return aa+"";var xb=rb[0];rb=rb[1];rb=rb-(E=3*Math.max(-8,Math.min(8,Math.floor(rb/3))))+1;var Lb=xb.length;return rb===Lb?xb:rb>Lb?xb+Array(rb-Lb+1).join("0"):0<rb?xb.slice(0,rb)+"."+xb.slice(rb):"0."+Array(1-rb).join("0")+Qd(aa,Math.max(0,Ea+rb-1))[0]},X:aa=>Math.round(aa).toString(16).toUpperCase(),x:aa=>Math.round(aa).toString(16)},l=Array.prototype.map,
z="y z a f p n  m  k M G T P E Z Y".split(" "),ca,na,Va;(function(aa){ca=N(aa);na=ca.format;Va=ca.formatPrefix;return ca})({thousands:",",grouping:[3],currency:["$",""]});const Ya=new Date,Gb=new Date,ac=Ec(()=>{},(aa,Ea)=>{aa.setTime(+aa+Ea)},(aa,Ea)=>Ea-aa);ac.every=aa=>{aa=Math.floor(aa);return isFinite(aa)&&0<aa?1<aa?Ec(Ea=>{Ea.setTime(Math.floor(Ea/aa)*aa)},(Ea,rb)=>{Ea.setTime(+Ea+rb*aa)},(Ea,rb)=>(rb-Ea)/aa):ac:null};ac.range;const Tb=Ec(aa=>{aa.setTime(aa-aa.getMilliseconds())},(aa,Ea)=>
{aa.setTime(+aa+1E3*Ea)},(aa,Ea)=>(Ea-aa)/1E3,aa=>aa.getUTCSeconds());Tb.range;const Bd=Ec(aa=>{aa.setTime(aa-aa.getMilliseconds()-1E3*aa.getSeconds())},(aa,Ea)=>{aa.setTime(+aa+6E4*Ea)},(aa,Ea)=>(Ea-aa)/6E4,aa=>aa.getMinutes());Bd.range;const Xc=Ec(aa=>{aa.setUTCSeconds(0,0)},(aa,Ea)=>{aa.setTime(+aa+6E4*Ea)},(aa,Ea)=>(Ea-aa)/6E4,aa=>aa.getUTCMinutes());Xc.range;const Rd=Ec(aa=>{aa.setTime(aa-aa.getMilliseconds()-1E3*aa.getSeconds()-6E4*aa.getMinutes())},(aa,Ea)=>{aa.setTime(+aa+36E5*Ea)},(aa,Ea)=>
(Ea-aa)/36E5,aa=>aa.getHours());Rd.range;const te=Ec(aa=>{aa.setUTCMinutes(0,0,0)},(aa,Ea)=>{aa.setTime(+aa+36E5*Ea)},(aa,Ea)=>(Ea-aa)/36E5,aa=>aa.getUTCHours());te.range;const Ce=Ec(aa=>aa.setHours(0,0,0,0),(aa,Ea)=>aa.setDate(aa.getDate()+Ea),(aa,Ea)=>(Ea-aa-6E4*(Ea.getTimezoneOffset()-aa.getTimezoneOffset()))/864E5,aa=>aa.getDate()-1);Ce.range;const ue=Ec(aa=>{aa.setUTCHours(0,0,0,0)},(aa,Ea)=>{aa.setUTCDate(aa.getUTCDate()+Ea)},(aa,Ea)=>(Ea-aa)/864E5,aa=>aa.getUTCDate()-1);ue.range;const Ze=Ec(aa=>
{aa.setUTCHours(0,0,0,0)},(aa,Ea)=>{aa.setUTCDate(aa.getUTCDate()+Ea)},(aa,Ea)=>(Ea-aa)/864E5,aa=>Math.floor(aa/864E5));Ze.range;const zf=$b(0),Uf=$b(1),ef=$b(2),bf=$b(3),cg=$b(4),vh=$b(5),lg=$b(6);zf.range;Uf.range;ef.range;bf.range;cg.range;vh.range;lg.range;const Mf=J(0),mf=J(1),Rf=J(2),If=J(3),Lf=J(4),ah=J(5),hg=J(6);Mf.range;mf.range;Rf.range;If.range;Lf.range;ah.range;hg.range;const Fh=Ec(aa=>{aa.setDate(1);aa.setHours(0,0,0,0)},(aa,Ea)=>{aa.setMonth(aa.getMonth()+Ea)},(aa,Ea)=>Ea.getMonth()-
aa.getMonth()+12*(Ea.getFullYear()-aa.getFullYear()),aa=>aa.getMonth());Fh.range;const pg=Ec(aa=>{aa.setUTCDate(1);aa.setUTCHours(0,0,0,0)},(aa,Ea)=>{aa.setUTCMonth(aa.getUTCMonth()+Ea)},(aa,Ea)=>Ea.getUTCMonth()-aa.getUTCMonth()+12*(Ea.getUTCFullYear()-aa.getUTCFullYear()),aa=>aa.getUTCMonth());pg.range;const kh=Ec(aa=>{aa.setMonth(0,1);aa.setHours(0,0,0,0)},(aa,Ea)=>{aa.setFullYear(aa.getFullYear()+Ea)},(aa,Ea)=>Ea.getFullYear()-aa.getFullYear(),aa=>aa.getFullYear());kh.every=aa=>isFinite(aa=Math.floor(aa))&&
0<aa?Ec(Ea=>{Ea.setFullYear(Math.floor(Ea.getFullYear()/aa)*aa);Ea.setMonth(0,1);Ea.setHours(0,0,0,0)},(Ea,rb)=>{Ea.setFullYear(Ea.getFullYear()+rb*aa)}):null;kh.range;const yg=Ec(aa=>{aa.setUTCMonth(0,1);aa.setUTCHours(0,0,0,0)},(aa,Ea)=>{aa.setUTCFullYear(aa.getUTCFullYear()+Ea)},(aa,Ea)=>Ea.getUTCFullYear()-aa.getUTCFullYear(),aa=>aa.getUTCFullYear());yg.every=aa=>isFinite(aa=Math.floor(aa))&&0<aa?Ec(Ea=>{Ea.setUTCFullYear(Math.floor(Ea.getUTCFullYear()/aa)*aa);Ea.setUTCMonth(0,1);Ea.setUTCHours(0,
0,0,0)},(Ea,rb)=>{Ea.setUTCFullYear(Ea.getUTCFullYear()+rb*aa)}):null;yg.range;const [Sh,Pi]=fa(yg,pg,Mf,Ze,te,Xc),[ci,ki]=fa(kh,Fh,zf,Ce,Rd,Bd);var Oi={"-":"",_:" ",0:"0"},Cg=/^\s*\d+/,kj=/^%/,lj=/[\\^$*+?|[\]().{}]/g,Ai,Si,y;(function(aa){Ai=Ac(aa);Si=Ai.format;Ai.parse;y=Ai.utcFormat;Ai.utcParse;return Ai})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var W=Array.prototype.map;const ha=Array.prototype.slice,Ma=new Map,zb=Symbol("vega_scale");Ne("identity",Hb);Ne("linear",fb,"continuous");Ne("log",Nd,["continuous","log"]);Ne("pow",ua,"continuous");Ne("sqrt",function(){return ua.apply(null,arguments).exponent(.5)},"continuous");Ne("symlog",cf,"continuous");Ne("time",function(){return Da.apply(sg(ci,
ki,kh,Fh,zf,Ce,Rd,Bd,Tb,Si).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);Ne("utc",function(){return Da.apply(sg(Sh,Pi,yg,pg,Mf,ue,te,Xc,Tb,y).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);Ne("sequential",dg,["continuous","interpolating"]);Ne("sequential-linear",dg,["continuous","interpolating"]);Ne("sequential-log",Ug,["continuous","interpolating","log"]);Ne("sequential-pow",Dg,["continuous","interpolating"]);Ne("sequential-sqrt",
function(){return Dg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Ne("sequential-symlog",Vg,["continuous","interpolating"]);Ne("diverging-linear",ra,["continuous","interpolating"]);Ne("diverging-log",bb,["continuous","interpolating","log"]);Ne("diverging-pow",id,["continuous","interpolating"]);Ne("diverging-sqrt",function(){return id.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Ne("diverging-symlog",Rb,["continuous","interpolating"]);Ne("quantile",cb,
["discretizing","quantile"]);Ne("quantize",yb,"discretizing");Ne("threshold",gc,"discretizing");Ne("bin-ordinal",Re,["discrete","discretizing"]);Ne("ordinal",lb,"discrete");Ne("band",od,"discrete");Ne("point",function(){return ne(od().paddingInner(1))},"discrete");const Bb=["clamp","base","constant","exponent"],Qb={};Kf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},ye);Kf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},aa=>gh(ye(aa)));const lc=aa=>k.isArray(aa)?aa.map(Ea=>String(Ea)):String(aa),Vc=(aa,Ea)=>aa[1]-Ea[1],Kd=(aa,Ea)=>Ea[1]-aa[1],Sd={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},ad={quantile:"quantiles",quantize:"domain"},ie=aa=>(Ea,rb,xb)=>{rb=xb[rb+1];xb=xb.max;xb=null!=xb?xb:Infinity;rb=null!=
rb?rb:xb;Ea=Number.isFinite(Ea)?aa(Ea):null;rb=Number.isFinite(rb)?aa(rb):null;return Ea&&rb?Ea+"  "+rb:rb?"\x3c "+rb:" "+Ea},Ke=aa=>(Ea,rb)=>rb?aa(Ea):null,Ue=aa=>Ea=>aa(Ea);v.Band="band";v.BinOrdinal="bin-ordinal";v.DiscreteLegend="discrete";v.Diverging="diverging";v.GradientLegend="gradient";v.Identity="identity";v.Linear="linear";v.Log="log";v.Ordinal="ordinal";v.Point="point";v.Pow="pow";v.Quantile="quantile";v.Quantize="quantize";v.Sequential="sequential";v.Sqrt="sqrt";v.SymbolLegend="symbol";
v.Symlog="symlog";v.Threshold="threshold";v.Time="time";v.UTC="utc";v.bandSpace=jb;v.domainCaption=function(aa,Ea,rb){rb=rb||{};var xb=Math.max(3,rb.maxlen||7),Lb=rb.format;const Mb=(rb=rb.formatType)||Ea.type;k.isString(Lb)&&Lg(Mb)&&(Lb=Lb.replace(/%a/g,"%A").replace(/%b/g,"%B"));aa=Lb||"time"!==Mb?Lb||"utc"!==Mb?Df(aa,Ea,5,null,Lb,rb,!0):aa.utcFormat("%A, %d %B %Y, %X UTC"):aa.timeFormat("%A, %d %B %Y, %X");if(kg(Ea.type))return xb=tg(Ea).slice(1).map(aa),Ea=xb.length,`${Ea} boundar${1===Ea?"y":
"ies"}: ${xb.join(", ")}`;if(Xf(Ea.type))return Lb=Ea.domain(),Ea=Lb.length,xb=Ea>xb?Lb.slice(0,xb-2).map(aa).join(", ")+", ending with "+Lb.slice(-1).map(aa):Lb.map(aa).join(", "),`${Ea} value${1===Ea?"":"s"}: ${xb}`;xb=Ea.domain();return`values from ${aa(xb[0])} to ${aa(k.peek(xb))}`};v.interpolate=ph;v.interpolateColors=gh;v.interpolateRange=function(aa,Ea){const rb=Ea[0],xb=k.peek(Ea)-rb;return function(Lb){return aa(rb+Lb*xb)}};v.isContinuous=function(aa){return Sf(aa,"continuous")};v.isDiscrete=
Xf;v.isDiscretizing=kg;v.isInterpolating=function(aa){return Sf(aa,"interpolating")};v.isLogarithmic=qg;v.isQuantile=function(aa){return Sf(aa,"quantile")};v.isRegisteredScale=function(aa){return aa&&!0===aa[zb]};v.isTemporal=Lg;v.isValidScaleType=eg;v.labelFormat=Df;v.labelFraction=function(aa){var Ea=aa.domain();const rb=Ea.length-1;let xb=+Ea[0];Ea=+k.peek(Ea);let Lb=Ea-xb;"threshold"===aa.type&&(aa=rb?Lb/rb:.1,xb-=aa,Ea+=aa,Lb=Ea-xb);return Mb=>(Mb-xb)/Lb};v.labelValues=tg;v.quantizeInterpolator=
function(aa,Ea){const rb=Array(Ea),xb=Ea+1;for(let Lb=0;Lb<Ea;)rb[Lb]=aa(++Lb/xb);return rb};v.registerScale=pf;v.scale=Ne;v.scaleCopy=function(aa){const Ea=aa.type;aa=aa.copy();aa.type=Ea;return aa};v.scaleFraction=function(aa,Ea,rb){var xb=rb-Ea;let Lb,Mb;return xb&&Number.isFinite(xb)?(xb=(Lb=aa.type).indexOf("-"),Lb=0>xb?Lb:Lb.slice(xb+1),Mb=Ne(Lb)().domain([Ea,rb]).range([0,1]),Bb.forEach(Lc=>aa[Lc]?Mb[Lc](aa[Lc]()):0),Mb):k.constant(.5)};v.scaleImplicit=Hh;v.scheme=yf;v.tickCount=function(aa,
Ea,rb){let xb;k.isNumber(Ea)&&(aa.bins&&(Ea=Math.max(Ea,aa.bins.length)),null!=rb&&(Ea=Math.min(Ea,Math.floor(k.span(aa.domain())/rb||1))));k.isObject(Ea)&&(xb=Ea.step,Ea=Ea.interval);k.isString(Ea)&&(Ea="time"===aa.type?P.timeInterval(Ea):"utc"==aa.type?P.utcInterval(Ea):k.error("Only time and utc scales accept interval strings."),xb&&(Ea=Ea.every(xb)));return Ea};v.tickFormat=fg;v.tickValues=tf;v.validTicks=Bf})};
shadow$provide[33]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(31),Db(27),Db(32)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,jb,Fb){function bc(p,R,ja){const wa=p.gradient;let r=p.id,E="radial"===wa?"p_":"";r||(r=p.id="gradient_"+fc++,"radial"===wa?(p.x1=vc(p.x1,
.5),p.y1=vc(p.y1,.5),p.r1=vc(p.r1,0),p.x2=vc(p.x2,.5),p.y2=vc(p.y2,.5),p.r2=vc(p.r2,.5),E="p_"):(p.x1=vc(p.x1,0),p.y1=vc(p.y1,0),p.x2=vc(p.x2,1),p.y2=vc(p.y2,0)));R[r]=p;return"url("+(ja||"")+"#"+E+r+")"}function vc(p,R){return null!=p?p:R}function Bc(p){return function(){return p}}function uc(p){return 1<=p?Hd:-1>=p?-Hd:Math.asin(p)}function Ab(p){this._+=p[0];for(let R=1,ja=p.length;R<ja;++R)this._+=arguments[R]+p[R]}function kc(p){let R=Math.floor(p);if(!(0<=R))throw Error(`invalid digits: ${p}`);
if(15<R)return Ab;const ja=Math.pow(10,R);return function(wa){this._+=wa[0];for(let r=1,E=wa.length;r<E;++r)this._+=Math.round(arguments[r]*ja)/ja+wa[r]}}function Yb(){return new Be}function Ua(p){let R=3;p.digits=function(ja){if(!arguments.length)return R;if(null==ja)R=null;else{const wa=Math.floor(ja);if(!(0<=wa))throw new RangeError(`invalid digits: ${ja}`);R=wa}return p};return()=>new Be(R)}function tb(p){return p.innerRadius}function Jb(p){return p.outerRadius}function Kb(p){return p.startAngle}
function Cb(p){return p.endAngle}function Ob(p){return p&&p.padAngle}function ab(p,R,ja,wa,r,E,ia){var l=p-ja,z=R-wa;ia=(ia?E:-E)/hd(l*l+z*z);z*=ia;l*=-ia;var ca=p+z,na=R+l,Va=ja+z,Ya=wa+l;ja=(ca+Va)/2;wa=(na+Ya)/2;R=Va-ca;p=Ya-na;ia=R*R+p*p;E=r-E;Ya=ca*Ya-Va*na;var Gb=(0>p?-1:1)*hd(Dc(0,E*E*ia-Ya*Ya));ca=(Ya*p-R*Gb)/ia;na=(-Ya*R-p*Gb)/ia;Va=(Ya*p+R*Gb)/ia;R=(-Ya*R+p*Gb)/ia;p=ca-ja;ia=na-wa;ja=Va-ja;wa=R-wa;p*p+ia*ia>ja*ja+wa*wa&&(ca=Va,na=R);return{cx:ca,cy:na,x01:-z,y01:-l,x11:ca*(r/E-1),y11:na*
(r/E-1)}}function pb(p){return"object"===typeof p&&"length"in p?p:Array.from(p)}function Qa(p){this._context=p}function Da(p){return new Qa(p)}function Ka(p){return p[0]}function lb(p){return p[1]}function mb(p,R){function ja(z){var ca,na=(z=pb(z)).length,Va,Ya=!1,Gb;null==r&&(ia=E(Gb=l()));for(ca=0;ca<=na;++ca)!(ca<na&&wa(Va=z[ca],ca,z))===Ya&&((Ya=!Ya)?ia.lineStart():ia.lineEnd()),Ya&&ia.point(+p(Va,ca,z),+R(Va,ca,z));if(Gb)return ia=null,Gb+""||null}var wa=Bc(!0),r=null,E=Da,ia=null,l=Ua(ja);p=
"function"===typeof p?p:void 0===p?Ka:Bc(p);R="function"===typeof R?R:void 0===R?lb:Bc(R);ja.x=function(z){return arguments.length?(p="function"===typeof z?z:Bc(+z),ja):p};ja.y=function(z){return arguments.length?(R="function"===typeof z?z:Bc(+z),ja):R};ja.defined=function(z){return arguments.length?(wa="function"===typeof z?z:Bc(!!z),ja):wa};ja.curve=function(z){return arguments.length?(E=z,null!=r&&(ia=E(r)),ja):E};ja.context=function(z){return arguments.length?(null==z?r=ia=null:ia=E(r=z),ja):
r};return ja}function Pa(p,R,ja){function wa(Va){var Ya,Gb,ac=(Va=pb(Va)).length,Tb,Bd=!1,Xc,Rd=Array(ac),te=Array(ac);null==l&&(ca=z(Xc=na()));for(Ya=0;Ya<=ac;++Ya){if(!(Ya<ac&&ia(Tb=Va[Ya],Ya,Va))===Bd)if(Bd=!Bd){var Ce=Ya;ca.areaStart();ca.lineStart()}else{ca.lineEnd();ca.lineStart();for(Gb=Ya-1;Gb>=Ce;--Gb)ca.point(Rd[Gb],te[Gb]);ca.lineEnd();ca.areaEnd()}Bd&&(Rd[Ya]=+p(Tb,Ya,Va),te[Ya]=+R(Tb,Ya,Va),ca.point(E?+E(Tb,Ya,Va):Rd[Ya],ja?+ja(Tb,Ya,Va):te[Ya]))}if(Xc)return ca=null,Xc+""||null}function r(){return mb().defined(ia).curve(z).context(l)}
var E=null,ia=Bc(!0),l=null,z=Da,ca=null,na=Ua(wa);p="function"===typeof p?p:void 0===p?Ka:Bc(+p);R="function"===typeof R?R:void 0===R?Bc(0):Bc(+R);ja="function"===typeof ja?ja:void 0===ja?lb:Bc(+ja);wa.x=function(Va){return arguments.length?(p="function"===typeof Va?Va:Bc(+Va),E=null,wa):p};wa.x0=function(Va){return arguments.length?(p="function"===typeof Va?Va:Bc(+Va),wa):p};wa.x1=function(Va){return arguments.length?(E=null==Va?null:"function"===typeof Va?Va:Bc(+Va),wa):E};wa.y=function(Va){return arguments.length?
(R="function"===typeof Va?Va:Bc(+Va),ja=null,wa):R};wa.y0=function(Va){return arguments.length?(R="function"===typeof Va?Va:Bc(+Va),wa):R};wa.y1=function(Va){return arguments.length?(ja=null==Va?null:"function"===typeof Va?Va:Bc(+Va),wa):ja};wa.lineX0=wa.lineY0=function(){return r().x(p).y(R)};wa.lineY1=function(){return r().x(p).y(ja)};wa.lineX1=function(){return r().x(E).y(R)};wa.defined=function(Va){return arguments.length?(ia="function"===typeof Va?Va:Bc(!!Va),wa):ia};wa.curve=function(Va){return arguments.length?
(z=Va,null!=l&&(ca=z(l)),wa):z};wa.context=function(Va){return arguments.length?(null==Va?l=ca=null:ca=z(l=Va),wa):l};return wa}function wb(){}function sb(p,R,ja){p._context.bezierCurveTo((2*p._x0+p._x1)/3,(2*p._y0+p._y1)/3,(p._x0+2*p._x1)/3,(p._y0+2*p._y1)/3,(p._x0+4*p._x1+R)/6,(p._y0+4*p._y1+ja)/6)}function Pb(p){this._context=p}function Vb(p){this._context=p}function nb(p){this._context=p}function qa(p,R){this._basis=new Pb(p);this._beta=R}function Z(p,R,ja){p._context.bezierCurveTo(p._x1+p._k*
(p._x2-p._x0),p._y1+p._k*(p._y2-p._y0),p._x2+p._k*(p._x1-R),p._y2+p._k*(p._y1-ja),p._x2,p._y2)}function Fa(p,R){this._context=p;this._k=(1-R)/6}function Ga(p,R){this._context=p;this._k=(1-R)/6}function eb(p,R){this._context=p;this._k=(1-R)/6}function ba(p,R,ja){var wa=p._x1,r=p._y1,E=p._x2,ia=p._y2;if(1E-12<p._l01_a){var l=2*p._l01_2a+3*p._l01_a*p._l12_a+p._l12_2a,z=3*p._l01_a*(p._l01_a+p._l12_a);wa=(wa*l-p._x0*p._l12_2a+p._x2*p._l01_2a)/z;r=(r*l-p._y0*p._l12_2a+p._y2*p._l01_2a)/z}1E-12<p._l23_a&&
(l=2*p._l23_2a+3*p._l23_a*p._l12_a+p._l12_2a,z=3*p._l23_a*(p._l23_a+p._l12_a),E=(E*l+p._x1*p._l23_2a-R*p._l12_2a)/z,ia=(ia*l+p._y1*p._l23_2a-ja*p._l12_2a)/z);p._context.bezierCurveTo(wa,r,E,ia,p._x2,p._y2)}function oa(p,R){this._context=p;this._alpha=R}function q(p,R){this._context=p;this._alpha=R}function M(p,R){this._context=p;this._alpha=R}function Q(p){this._context=p}function g(p,R,ja){var wa=p._x1-p._x0;R-=p._x1;var r=(p._y1-p._y0)/(wa||0>R&&-0);p=(ja-p._y1)/(R||0>wa&&-0);return((0>r?-1:1)+
(0>p?-1:1))*Math.min(Math.abs(r),Math.abs(p),.5*Math.abs((r*R+p*wa)/(wa+R)))||0}function u(p,R){var ja=p._x1-p._x0;return ja?(3*(p._y1-p._y0)/ja-R)/2:R}function m(p,R,ja){var wa=p._x0,r=p._x1,E=p._y1,ia=(r-wa)/3;p._context.bezierCurveTo(wa+ia,p._y0+ia*R,r-ia,E-ia*ja,r,E)}function C(p){this._context=p}function B(p){this._context=new A(p)}function A(p){this._context=p}function D(p){this._context=p}function I(p){var R,ja=p.length-1,wa=Array(ja),r=Array(ja),E=Array(ja);wa[0]=0;r[0]=2;E[0]=p[0]+2*p[1];
for(R=1;R<ja-1;++R)wa[R]=1,r[R]=4,E[R]=4*p[R]+2*p[R+1];wa[ja-1]=2;r[ja-1]=7;E[ja-1]=8*p[ja-1]+p[ja];for(R=1;R<ja;++R){var ia=wa[R]/r[R-1];r[R]-=ia;E[R]-=ia*E[R-1]}wa[ja-1]=E[ja-1]/r[ja-1];for(R=ja-2;0<=R;--R)wa[R]=(E[R]-wa[R+1])/r[R];r[ja-1]=(p[ja]+wa[ja-1])/2;for(R=0;R<ja-1;++R)r[R]=2*p[R+1]-wa[R+1];return[wa,r]}function V(p,R){this._context=p;this._t=R}function Aa(p,R,ja){p=k.hasOwnProperty(Pf,p)&&Pf[p];var wa=null;p&&(wa=p.curve||p[R||"vertical"],p.tension&&null!=ja&&(wa=wa[p.tension](ja)));return wa}
function Y(p){const R=[];(p.match(ag)||[]).forEach(ja=>{let wa=ja[0];var r=wa.toLowerCase();const E=af[r];var ia=ja.slice(1).trim();ja=[];for(let z=0;E&&z<ia.length;)for(let ca=0;ca<E;++ca){var l="a"!==r||3!==ca&&4!==ca?Vd:jf;l=ia.slice(z).match(l);if(null===l)throw Error("Invalid SVG path, incorrect parameter type");z+=l[0].length;ja.push(+l[0]);l=ia.slice(z).match(hf);null!==l&&(z+=l[0].length)}ia=ja.length;if(ia<E||ia&&0!==ia%E)throw Error("Invalid SVG path, incorrect parameter count");R.push([wa,
...ja.slice(0,E)]);if(ia!==E)for("m"===r&&(wa="M"===wa?"L":"l"),r=E;r<ia;r+=E)R.push([wa,...ja.slice(r,r+E)])});return R}function t(p,R,ja,wa,r,E,ia,l,z){const ca=sg.call(arguments);if(Gf[ca])return Gf[ca];var na=ia*Qe;const Va=Math.sin(na);na=Math.cos(na);ja=Math.abs(ja);wa=Math.abs(wa);var Ya=na*(l-p)*.5+Va*(z-R)*.5,Gb=na*(z-R)*.5-Va*(l-p)*.5;Ya=Ya*Ya/(ja*ja)+Gb*Gb/(wa*wa);1<Ya&&(Ya=Math.sqrt(Ya),ja*=Ya,wa*=Ya);var ac=na/ja,Tb=Va/ja,Bd=-Va/wa,Xc=na/wa;Ya=ac*l+Tb*z;Gb=Bd*l+Xc*z;ac=ac*p+Tb*R;Tb=Bd*
p+Xc*R;Bd=1/((ac-Ya)*(ac-Ya)+(Tb-Gb)*(Tb-Gb))-.25;0>Bd&&(Bd=0);Xc=Math.sqrt(Bd);E==r&&(Xc=-Xc);Bd=.5*(Ya+ac)-Xc*(Tb-Gb);Xc=.5*(Gb+Tb)+Xc*(ac-Ya);Ya=Math.atan2(Gb-Xc,Ya-Bd);Gb=Math.atan2(Tb-Xc,ac-Bd)-Ya;0>Gb&&1===E?Gb+=Qf:0<Gb&&0===E&&(Gb-=Qf);ac=Math.ceil(Math.abs(Gb/(Cf+.001)));Tb=[];for(let Rd=0;Rd<ac;++Rd)Tb[Rd]=[Bd,Xc,Ya+Rd*Gb/ac,Ya+(Rd+1)*Gb/ac,ja,wa,Va,na];return Gf[ca]=Tb}function L(p,R,ja,wa,r,E){var ia=null,l=0,z=0,ca=0,na=0,Va=0,Ya=0;null==ja&&(ja=0);null==wa&&(wa=0);null==r&&(r=1);null==
E&&(E=r);p.beginPath&&p.beginPath();for(var Gb=0,ac=R.length;Gb<ac;++Gb){var Tb=R[Gb];if(1!==r||1!==E){var Bd=r;var Xc=E;var Rd=Af[0]=Tb[0];if("a"===Rd||"A"===Rd)Af[1]=Bd*Tb[1],Af[2]=Xc*Tb[2],Af[3]=Tb[3],Af[4]=Tb[4],Af[5]=Tb[5],Af[6]=Bd*Tb[6],Af[7]=Xc*Tb[7];else if("h"===Rd||"H"===Rd)Af[1]=Bd*Tb[1];else if("v"===Rd||"V"===Rd)Af[1]=Xc*Tb[1];else{Rd=1;for(var te=Tb.length;Rd<te;++Rd)Af[Rd]=(1==Rd%2?Bd:Xc)*Tb[Rd]}Tb=Af}switch(Tb[0]){case "l":l+=Tb[1];z+=Tb[2];p.lineTo(l+ja,z+wa);break;case "L":l=Tb[1];
z=Tb[2];p.lineTo(l+ja,z+wa);break;case "h":l+=Tb[1];p.lineTo(l+ja,z+wa);break;case "H":l=Tb[1];p.lineTo(l+ja,z+wa);break;case "v":z+=Tb[1];p.lineTo(l+ja,z+wa);break;case "V":z=Tb[1];p.lineTo(l+ja,z+wa);break;case "m":l+=Tb[1];z+=Tb[2];Va=l;Ya=z;p.moveTo(l+ja,z+wa);break;case "M":l=Tb[1];z=Tb[2];Va=l;Ya=z;p.moveTo(l+ja,z+wa);break;case "c":Bd=l+Tb[5];Xc=z+Tb[6];ca=l+Tb[3];na=z+Tb[4];p.bezierCurveTo(l+Tb[1]+ja,z+Tb[2]+wa,ca+ja,na+wa,Bd+ja,Xc+wa);l=Bd;z=Xc;break;case "C":l=Tb[5];z=Tb[6];ca=Tb[3];na=
Tb[4];p.bezierCurveTo(Tb[1]+ja,Tb[2]+wa,ca+ja,na+wa,l+ja,z+wa);break;case "s":Bd=l+Tb[3];Xc=z+Tb[4];ca=2*l-ca;na=2*z-na;p.bezierCurveTo(ca+ja,na+wa,l+Tb[1]+ja,z+Tb[2]+wa,Bd+ja,Xc+wa);ca=l+Tb[1];na=z+Tb[2];l=Bd;z=Xc;break;case "S":Bd=Tb[3];Xc=Tb[4];ca=2*l-ca;na=2*z-na;p.bezierCurveTo(ca+ja,na+wa,Tb[1]+ja,Tb[2]+wa,Bd+ja,Xc+wa);l=Bd;z=Xc;ca=Tb[1];na=Tb[2];break;case "q":Bd=l+Tb[3];Xc=z+Tb[4];ca=l+Tb[1];na=z+Tb[2];p.quadraticCurveTo(ca+ja,na+wa,Bd+ja,Xc+wa);l=Bd;z=Xc;break;case "Q":Bd=Tb[3];Xc=Tb[4];
p.quadraticCurveTo(Tb[1]+ja,Tb[2]+wa,Bd+ja,Xc+wa);l=Bd;z=Xc;ca=Tb[1];na=Tb[2];break;case "t":Bd=l+Tb[1];Xc=z+Tb[2];null===ia[0].match(/[QqTt]/)?(ca=l,na=z):"t"===ia[0]?(ca=2*l-Ce,na=2*z-ue):"q"===ia[0]&&(ca=2*l-ca,na=2*z-na);var Ce=ca;var ue=na;p.quadraticCurveTo(ca+ja,na+wa,Bd+ja,Xc+wa);l=Bd;z=Xc;ca=l+Tb[1];na=z+Tb[2];break;case "T":Bd=Tb[1];Xc=Tb[2];ca=2*l-ca;na=2*z-na;p.quadraticCurveTo(ca+ja,na+wa,Bd+ja,Xc+wa);l=Bd;z=Xc;break;case "a":va(p,l+ja,z+wa,[Tb[1],Tb[2],Tb[3],Tb[4],Tb[5],Tb[6]+l+ja,Tb[7]+
z+wa]);l+=Tb[6];z+=Tb[7];break;case "A":va(p,l+ja,z+wa,[Tb[1],Tb[2],Tb[3],Tb[4],Tb[5],Tb[6]+ja,Tb[7]+wa]);l=Tb[6];z=Tb[7];break;case "z":case "Z":l=Va,z=Ya,p.closePath()}ia=Tb}}function va(p,R,ja,wa){R=t(wa[5],wa[6],wa[0],wa[1],wa[3],wa[4],wa[2],R,ja);for(ja=0;ja<R.length;++ja){a:{var r=R[ja];wa=sg.call(r);if(Bg[wa]){wa=Bg[wa];break a}var E=r[0],ia=r[1],l=r[2],z=r[3],ca=r[4],na=r[5],Va=r[6],Ya=r[7];r=Ya*ca;const ac=-Va*na;ca*=Va;na*=Ya;var Gb=Math.cos(l);const Tb=Math.sin(l);Va=Math.cos(z);Ya=Math.sin(z);
l=.5*(z-l);z=Math.sin(.5*l);z=8/3*z*z/Math.sin(l);l=E+Gb-z*Tb;Gb=ia+Tb+z*Gb;E+=Va;ia+=Ya;Ya=E+z*Ya;Va=ia-z*Va;wa=Bg[wa]=[r*l+ac*Gb,ca*l+na*Gb,r*Ya+ac*Va,ca*Ya+na*Va,r*E+ac*ia,ca*E+na*ia]}p.bezierCurveTo(wa[0],wa[1],wa[2],wa[3],wa[4],wa[5])}}function La(p){return k.hasOwnProperty(Hf,p)?Hf[p]:Wa(p)}function Wa(p){if(!k.hasOwnProperty(dg,p)){const R=Y(p);dg[p]={draw:function(ja,wa){L(ja,R,0,0,Math.sqrt(wa)/2)}}}return dg[p]}function $a(p){return p.x}function X(p){return p.y}function Ca(p){return p.width}
function Xa(p){return p.height}function Ib(p){return"function"===typeof p?p:()=>+p}function yc(p,R,ja){return Math.max(R,Math.min(p,ja))}function qc(){function p(na,Va,Ya){var Gb;Va=null!=Va?Va:+R.call(this,na);Ya=null!=Ya?Ya:+ja.call(this,na);var ac=+wa.call(this,na),Tb=+r.call(this,na),Bd=Math.min(ac,Tb)/2,Xc=yc(+E.call(this,na),0,Bd),Rd=yc(+ia.call(this,na),0,Bd),te=yc(+l.call(this,na),0,Bd);na=yc(+z.call(this,na),0,Bd);ca||(ca=Gb=Yb());0>=Xc&&0>=Rd&&0>=te&&0>=na?ca.rect(Va,Ya,ac,Tb):(ac=Va+ac,
Tb=Ya+Tb,ca.moveTo(Va+Xc,Ya),ca.lineTo(ac-Rd,Ya),ca.bezierCurveTo(ac-.448084975506*Rd,Ya,ac,Ya+.448084975506*Rd,ac,Ya+Rd),ca.lineTo(ac,Tb-na),ca.bezierCurveTo(ac,Tb-.448084975506*na,ac-.448084975506*na,Tb,ac-na,Tb),ca.lineTo(Va+te,Tb),ca.bezierCurveTo(Va+.448084975506*te,Tb,Va,Tb-.448084975506*te,Va,Tb-te),ca.lineTo(Va,Ya+Xc),ca.bezierCurveTo(Va,Ya+.448084975506*Xc,Va+.448084975506*Xc,Ya,Va+Xc,Ya),ca.closePath());if(Gb)return ca=null,Gb+""||null}var R=$a,ja=X,wa=Ca,r=Xa,E=Ib(0),ia=E,l=E,z=E,ca=null;
p.x=function(na){return arguments.length?(R=Ib(na),p):R};p.y=function(na){return arguments.length?(ja=Ib(na),p):ja};p.width=function(na){return arguments.length?(wa=Ib(na),p):wa};p.height=function(na){return arguments.length?(r=Ib(na),p):r};p.cornerRadius=function(na,Va,Ya,Gb){return arguments.length?(E=Ib(na),ia=null!=Va?Ib(Va):E,z=null!=Ya?Ib(Ya):E,l=null!=Gb?Ib(Gb):ia,p):E};p.context=function(na){return arguments.length?(ca=null==na?null:na,p):ca};return p}function xc(){function p(na){var Va,Ya=
na.length,Gb,ac=!1,Tb;null==E&&(E=Tb=Yb());for(Va=0;Va<=Ya;++Va)if(!(Va<Ya&&r(Gb=na[Va],Va,na))===ac&&(ac=!ac)&&(ia=0),ac){var Bd=+R(Gb,Va,na),Xc=+ja(Gb,Va,na);const zf=+wa(Gb,Va,na)/2;if(ia){var Rd=z-Xc,te=Bd-l;if(Rd||te){var Ce=Math.sqrt(Rd*Rd+te*te),ue=(Rd/=Ce)*ca;Ce=(te/=Ce)*ca;var Ze=Math.atan2(te,Rd);E.moveTo(l-ue,z-Ce);E.lineTo(Bd-Rd*zf,Xc-te*zf);E.arc(Bd,Xc,zf,Ze-Math.PI,Ze);E.lineTo(l+ue,z+Ce);E.arc(l,z,ca,Ze,Ze+Math.PI)}else E.arc(Bd,Xc,zf,0,Qf);E.closePath()}else ia=1;l=Bd;z=Xc;ca=zf}if(Tb)return E=
null,Tb+""||null}var R,ja,wa,r,E=null,ia,l,z,ca;p.x=function(na){return arguments.length?(R=na,p):R};p.y=function(na){return arguments.length?(ja=na,p):ja};p.size=function(na){return arguments.length?(wa=na,p):wa};p.defined=function(na){return arguments.length?(r=na,p):r};p.context=function(na){return arguments.length?(E=null==na?null:na,p):E};return p}function dd(p,R){return null!=p?p:R}function Zb(p){return p.cornerRadius||p.cornerRadiusTopLeft||p.cornerRadiusTopRight||p.cornerRadiusBottomRight||
p.cornerRadiusBottomLeft}function Rc(p,R,ja,wa){return id.context(p)(R,ja,wa)}function Pd(p,R,ja){var wa=R.clip;p=p._defs;R=R.clip_id||(R.clip_id="clip"+Re++);p=p.clipping[R]||(p.clipping[R]={id:R});k.isFunction(wa)?p.path=wa(null):Zb(ja)?p.path=Rc(null,ja,0,0):(p.width=ja.width||0,p.height=ja.height||0);return"url(#"+R+")"}function Na(p){this.clear();p&&this.union(p)}function Ub(p){this.mark=p;this.bounds=this.bounds||new Na}function qb(p){Ub.call(this,p);this.items=this.items||[]}function Sb(p){this._pending=
0;this._loader=p||jb.loader()}function ic(p,R,ja){if(R.stroke&&0!==R.opacity&&0!==R.strokeOpacity){const wa=null!=R.strokeWidth?+R.strokeWidth:1;p.expand(wa+(ja?R.strokeJoin&&"miter"!==R.strokeJoin?0:wa:0))}return p}function dc(p,R){Ff=p;R?(Sf=R*Qe,Xf=Lg=Math.cos(Sf),kg=Math.sin(Sf),qg=-kg):(Xf=Lg=1,Sf=kg=qg=0);return yf}function Ic(p,R,ja,wa){ja=(p-R)/(p+ja-2*R);0<ja&&1>ja&&wa(p+(R-p)*ja)}function zc(p,R,ja,wa,r){const E=wa-p+3*R-3*ja,ia=p+ja-2*R;var l=p-R;let z=0,ca=0;1E-14<Math.abs(E)?(l=ia*ia+
l*E,0<=l&&(l=Math.sqrt(l),z=(-ia+l)/E,ca=(-ia-l)/E)):z=.5*l/ia;0<z&&1>z&&r(Yc(z,p,R,ja,wa));0<ca&&1>ca&&r(Yc(ca,p,R,ja,wa))}function Yc(p,R,ja,wa,r){const E=1-p,ia=E*E,l=p*p;return ia*E*R+3*ia*p*ja+3*E*l*wa+l*p*r}function Md(p){return function(R,ja){if(!Bf)return!0;p(Bf,R);tf.clear().union(R.bounds).intersect(ja).round();const {x1:wa,y1:r,x2:E,y2:ia}=tf;for(R=r;R<=ia;++R)for(ja=wa;ja<=E;++ja)if(Bf.isPointInPath(ja,R))return!0;return!1}}function ud(p,R){return R.contains(p.x||0,p.y||0)}function Ha(p,
R){const ja=p.x||0,wa=p.y||0;return R.intersects(tf.set(ja,wa,ja+(p.width||0),wa+(p.height||0)))}function gb(p,R){const ja=p.x||0,wa=p.y||0;return vb(R,ja,wa,null!=p.x2?p.x2:ja,null!=p.y2?p.y2:wa)}function vb(p,R,ja,wa,r){const {x1:E,y1:ia,x2:l,y2:z}=p;p=wa-R;r-=ja;wa=0;let ca=1,na,Va,Ya,Gb;for(Gb=0;4>Gb;++Gb){0===Gb&&(na=-p,Va=-(E-R));1===Gb&&(na=p,Va=l-R);2===Gb&&(na=-r,Va=-(ia-ja));3===Gb&&(na=r,Va=z-ja);if(1E-10>Math.abs(na)&&0>Va)return!1;Ya=Va/na;if(0>na){if(Ya>ca)return!1;Ya>wa&&(wa=Ya)}else if(0<
na){if(Ya<wa)return!1;Ya<ca&&(ca=Ya)}}return!0}function ta(p,R){p.globalCompositeOperation=R.blend||"source-over"}function F(p,R){return null==p?R:p}function ya(p,R){const ja=R.length;for(let wa=0;wa<ja;++wa)p.addColorStop(R[wa].offset,R[wa].color);return p}function Oa(p,R,ja){const wa=ja.width(),r=ja.height();if("radial"===R.gradient)p=p.createRadialGradient(ja.x1+F(R.x1,.5)*wa,ja.y1+F(R.y1,.5)*r,Math.max(wa,r)*F(R.r1,0),ja.x1+F(R.x2,.5)*wa,ja.y1+F(R.y2,.5)*r,Math.max(wa,r)*F(R.r2,.5));else{const E=
F(R.x1,0),ia=F(R.y1,0),l=F(R.x2,1),z=F(R.y2,0);if(E===l||ia===z||wa===r)p=p.createLinearGradient(ja.x1+E*wa,ja.y1+ia*r,ja.x1+l*wa,ja.y1+z*r);else{ja=P.canvas(Math.ceil(wa),Math.ceil(r));const ca=ja.getContext("2d");ca.scale(wa,r);ca.fillStyle=ya(ca.createLinearGradient(E,ia,l,z),R.stops);ca.fillRect(0,0,wa,r);return p.createPattern(ja,"no-repeat")}}return ya(p,R.stops)}function Za(p,R,ja){ja*=null==R.fillOpacity?1:R.fillOpacity;return 0<ja?(p.globalAlpha=ja,R=(ja=R.fill)&&ja.gradient?Oa(p,ja,R.bounds):
ja,p.fillStyle=R,!0):!1}function kb(p,R,ja){var wa=null!=(wa=R.strokeWidth)?wa:1;if(0>=wa)return!1;ja*=null==R.strokeOpacity?1:R.strokeOpacity;return 0<ja?(p.globalAlpha=ja,ja=(ja=R.stroke)&&ja.gradient?Oa(p,ja,R.bounds):ja,p.strokeStyle=ja,p.lineWidth=wa,p.lineCap=R.strokeCap||"butt",p.lineJoin=R.strokeJoin||"miter",p.miterLimit=R.strokeMiterLimit||10,p.setLineDash&&(p.setLineDash(R.strokeDash||fg),p.lineDashOffset=R.strokeDashOffset||0),!0):!1}function Eb(p,R){return p.zindex-R.zindex||p.index-
R.index}function oc(p){if(!p.zdirty)return p.zitems;var R=p.items,ja=[],wa;var r=0;for(wa=R.length;r<wa;++r){var E=R[r];E.index=r;E.zindex&&ja.push(E)}p.zdirty=!1;return p.zitems=ja.sort(Eb)}function ec(p,R){var ja=p.items,wa;if(ja&&ja.length){var r=oc(p);if(r&&r.length){p=0;for(wa=ja.length;p<wa;++p)ja[p].zindex||R(ja[p]);ja=r}p=0;for(wa=ja.length;p<wa;++p)R(ja[p])}}function jc(p,R){var ja=p.items,wa,r;if(!ja||!ja.length)return null;const E=oc(p);E&&E.length&&(ja=E);for(r=ja.length;0<=--r;)if(wa=
R(ja[r]))return wa;if(ja===E)for(ja=p.items,r=ja.length;0<=--r;)if(!ja[r].zindex&&(wa=R(ja[r])))return wa;return null}function Sc(p){return function(R,ja,wa){ec(ja,r=>{wa&&!wa.intersects(r.bounds)||fd(p,R,r,r)})}}function ed(p){return function(R,ja,wa){!ja.items.length||wa&&!wa.intersects(ja.bounds)||fd(p,R,ja.items[0],ja.items)}}function fd(p,R,ja,wa){var r=null==ja.opacity?1:ja.opacity;0===r||p(R,wa)||(ta(R,ja),ja.fill&&Za(R,ja,r)&&R.fill(),ja.stroke&&kb(R,ja,r)&&R.stroke())}function Qd(p){p=p||
k.truthy;return function(R,ja,wa,r,E,ia){wa*=R.pixelRatio;r*=R.pixelRatio;return jc(ja,l=>{const z=l.bounds;if((!z||z.contains(E,ia))&&z&&p(R,l,wa,r,E,ia))return l})}}function Td(p,R){return function(ja,wa,r,E){var ia=Array.isArray(wa)?wa[0]:wa,l=null==R?ia.fill:R,z=ia.stroke&&ja.isPointInStroke;if(z){var ca=ia.strokeWidth;ia=ia.strokeCap;ja.lineWidth=null!=ca?ca:1;ja.lineCap=null!=ia?ia:"butt"}return p(ja,wa)?!1:l&&ja.isPointInPath(r,E)||z&&ja.isPointInStroke(r,E)}}function Ed(p,R){return"translate("+
p+","+R+")"}function Yd(p,R,ja){function wa(r,E){var ia=E.x||0,l=E.y||0,z=E.angle||0;r.translate(ia,l);z&&r.rotate(z*=Qe);r.beginPath();R(r,E);z&&r.rotate(-z);r.translate(-ia,-l)}return{type:p,tag:"path",nested:!1,attr:function(r,E){var ia=Ed(E.x||0,E.y||0)+(E.angle?" rotate("+(E.angle+")"):"");r("transform",ia);r("d",R(null,E))},bound:function(r,E){R(dc(r,E.angle),E);return ic(r,E).translate(E.x||0,E.y||0)},draw:Sc(wa),pick:Qd(Td(wa)),isect:ja||Md(wa)}}function ae(p,R,ja){function wa(E,ia){E.beginPath();
R(E,ia)}const r=Td(wa);return{type:p,tag:"path",nested:!0,attr:function(E,ia){ia=ia.mark.items;ia.length&&E("d",R(null,ia))},bound:function(E,ia){ia=ia.items;if(0===ia.length)return E;R(dc(E),ia);return ic(E,ia[0])},draw:ed(wa),pick:function(E,ia,l,z,ca,na){var Va=ia.items;ia=ia.bounds;if(!Va||!Va.length||ia&&!ia.contains(ca,na))return null;l*=E.pixelRatio;z*=E.pixelRatio;return r(E,Va,l,z)?Va[0]:null},isect:ud,tip:ja}}function Ud(p,R){p.beginPath();Zb(R)?Rc(p,R,0,0):p.rect(0,0,R.width||0,R.height||
0);p.clip()}function Xe(p){const R=F(p.strokeWidth,1);return null!=p.strokeOffset?p.strokeOffset:p.stroke&&.5<R&&1.5>R?.5-Math.abs(R-1):0}function Wd(p,R,ja,wa){const r=Xe(R);p.beginPath();Rc(p,R,(ja||0)+r,(wa||0)+r)}function N(p,R){var ja=p.image;if(!ja||p.url&&p.url!==ja.url)ja={complete:!1,width:0,height:0},R.loadImage(p.url).then(wa=>{p.image=wa;p.image.url=p.url});return ja}function ma(p,R){return null!=p.width?p.width:R&&R.width?!1!==p.aspect&&p.height?p.height*R.width/R.height:R.width:0}function za(p,
R){return null!=p.height?p.height:R&&R.height?!1!==p.aspect&&p.width?p.width*R.height/R.width:R.height:0}function fb(p,R){return"center"===p?R/2:"right"===p?R:0}function Hb(p,R){return"middle"===p?R/2:"bottom"===p?R:0}function Xb(p,R){var ja=R.path;if(null==ja)return!0;var wa=R.x||0,r=R.y||0,E=R.scaleX||1,ia=R.scaleY||1,l=(R.angle||0)*Qe,z=R.pathCache;z&&z.path===ja||((R.pathCache=z=Y(ja)).path=ja);l&&p.rotate&&p.translate?(p.translate(wa,r),p.rotate(l),L(p,z,0,0,E,ia),p.rotate(-l),p.translate(-wa,
-r)):L(p,z,wa,r,E,ia)}function Cc(p,R){p.beginPath();Rc(p,R)}function mc(p,R,ja){if(R.stroke&&kb(p,R,ja)){ja=R.x||0;var wa=R.y||0;var r=null!=R.x2?R.x2:ja;R=null!=R.y2?R.y2:wa;p.beginPath();p.moveTo(ja,wa);p.lineTo(r,R);return!0}return!1}function Hc(p){th.width=p&&Bf?Nc:jd}function jd(p,R){R=Nd(p,R);p=Gd(p);return~~(.8*R.length*p)}function Nc(p,R){return 0>=Gd(p)||!(R=Nd(p,R))?0:vd(R,gf(p))}function vd(p,R){const ja=`(${R}) ${p}`;let wa=eh.get(ja);void 0===wa&&(Bf.font=R,wa=Bf.measureText(p).width,
eh.set(ja,wa));return wa}function Gd(p){return null!=p.fontSize?+p.fontSize||0:11}function Fd(p){return null!=p.lineHeight?p.lineHeight:Gd(p)+2}function Xd(p){p=p.lineBreak&&p.text&&!k.isArray(p.text)?p.text.split(p.lineBreak):p.text;return k.isArray(p)?1<p.length?p:p[0]:p}function Nd(p,R){R=null==R?"":(R+"").trim();if(0<p.limit&&R.length){var ja=+p.limit,wa=qe(p);if(!(wa(R)<ja)){var r=p.ellipsis||"",E="rtl"===p.dir;p=0;var ia=R.length;ja-=wa(r);if(E){for(;p<ia;)E=p+ia>>>1,wa(R.slice(E))>ja?p=E+
1:ia=E;R=r+R.slice(p)}else{for(;p<ia;)E=1+(p+ia>>>1),wa(R.slice(0,E))<ja?p=E:ia=E-1;R=R.slice(0,p)+r}}}return R}function qe(p){if(th.width===Nc){const ja=gf(p);return wa=>vd(wa,ja)}const R=Gd(p);return ja=>~~(.8*ja.length*R)}function De(p,R){p=p.font;return(R&&p?String(p).replace(/"/g,"'"):p)||"sans-serif"}function gf(p,R){return(p.fontStyle?p.fontStyle+" ":"")+(p.fontVariant?p.fontVariant+" ":"")+(p.fontWeight?p.fontWeight+" ":"")+Gd(p)+"px "+De(p,R)}function cf(p){var R=p.baseline,ja=Gd(p);return Math.round("top"===
R?.79*ja:"middle"===R?.3*ja:"bottom"===R?-.21*ja:"line-top"===R?.29*ja+.5*Fd(p):"line-bottom"===R?.29*ja-.5*Fd(p):0)}function df(p){var R=p.x||0,ja=p.y||0,wa=p.radius||0;wa&&(p=(p.theta||0)-Cf,R+=wa*Math.cos(p),ja+=wa*Math.sin(p));Fg.x1=R;Fg.y1=ja;return Fg}function pe(p,R,ja){var wa=th.height(R),r=R.align,E=df(R),ia=E.x1;E=E.y1;var l=R.dx||0,z=(R.dy||0)+cf(R)-Math.round(.8*wa),ca=Xd(R);k.isArray(ca)?(wa+=Fd(R)*(ca.length-1),ca=ca.reduce((na,Va)=>Math.max(na,th.width(R,Va)),0)):ca=th.width(R,ca);
"center"===r?l-=ca/2:"right"===r&&(l-=ca);p.set(l+=ia,z+=E,l+ca,z+wa);if(R.angle&&!ja)p.rotate(R.angle*Qe,ia,E);else if(2===ja)return p.rotatedPoints(R.angle*Qe,ia,E);return p}function nf(p,R,ja){var wa=Rg[p.mark.marktype];R=R||wa.bound;wa.nested&&(p=p.mark);return R(p.bounds||(p.bounds=new Na),p,ja)}function U(p,R,ja){var wa=Rg[p.marktype],r=wa.bound,E=p.items,ia=E&&E.length;if(wa.nested)return ia?p=E[0]:(hh.mark=p,p=hh),ja=nf(p,r,ja),R=R&&R.union(ja)||ja;R=R||p.bounds&&p.bounds.clear()||new Na;
if(ia)for(wa=0,ia=E.length;wa<ia;++wa)R.union(nf(E[wa],r,ja));return p.bounds=R}function ua(p,R){return JSON.stringify(p,lh,R)}function cb(p){p="string"===typeof p?JSON.parse(p):p;return yb(p)}function yb(p){var R=p.marktype,ja=p.items,wa;if(ja){var r=0;for(wa=ja.length;r<wa;++r){var E=R?"mark":"group";ja[r][E]=p;ja[r].zindex&&(ja[r][E].zdirty=!0);"group"===(R||E)&&yb(ja[r])}}R&&U(p);return p}function gc(p){arguments.length?this.root=cb(p):(this.root=Ec({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new qb(this.root)])}function Ec(p,R){R={bounds:new Na,clip:!!p.clip,group:R,interactive:!1===p.interactive?!1:!0,items:[],marktype:p.marktype,name:p.name||void 0,role:p.role||void 0,zindex:p.zindex||0};null!=p.aria&&(R.aria=p.aria);p.description&&(R.description=p.description);return R}function $b(p,R,ja){!p&&"undefined"!==typeof document&&document.createElement&&(p=document);return p?ja?p.createElementNS(ja,R):p.createElement(R):null}function J(p,R){R=R.toLowerCase();p=p.childNodes;
for(var ja=0,wa=p.length;ja<wa;++ja)if(p[ja].tagName.toLowerCase()===R)return p[ja]}function fa(p,R,ja,wa){R=p.childNodes[R];if(!R||R.tagName.toLowerCase()!==ja.toLowerCase()){var r=R||null;R=$b(p.ownerDocument,ja,wa);p.insertBefore(R,r)}return R}function Sa(p,R){for(var ja=p.childNodes,wa=ja.length;wa>R;)p.removeChild(ja[--wa]);return p}function cc(p){return"mark-"+p.marktype+(p.role?" role-"+p.role:"")+(p.name?" "+p.name:"")}function Jc(p,R){const ja=R.getBoundingClientRect();return[p.clientX-ja.left-
(R.clientLeft||0),p.clientY-ja.top-(R.clientTop||0)]}function Ac(p,R){this._active=null;this._handlers={};this._loader=p||jb.loader();this._tooltip=R||$c}function $c(p,R,ja,wa){p.element().setAttribute("title",wa||"")}function pd(p){this._bgcolor=this._el=null;this._loader=new Sb(p)}function ee(p,R){Ac.call(this,p,R);this._touch=this._down=null;this._first=!0;this._events={}}function Ra(p,R){("touchstart"===R||"touchmove"===R||"touchend"===R?["touchstart","touchmove","touchend"]:[R]).forEach(ja=>
db(p,ja))}function db(p,R){const ja=p.canvas();ja&&!p._events[R]&&(p._events[R]=1,ja.addEventListener(R,p[R]?wa=>p[R](wa):wa=>p.fire(R,wa)))}function pc(p,R,ja){return function(wa){const r=this._active,E=this.pickEvent(wa);E!==r&&(r&&r.exit||this.fire(ja,wa),this._active=E,this.fire(R,wa));this.fire(p,wa)}}function wd(p){return function(R){this.fire(p,R);this._active=null}}function Mc(p){pd.call(this,p);this._options={};this._redraw=!1;this._dirty=new Na;this._tempb=new Na}function Uc(p,R){Ac.call(this,
p,R);const ja=this;ja._hrefHandler=Nh(ja,(wa,r)=>{r&&r.href&&ja.handleHref(wa,r,r.href)});ja._tooltipHandler=Nh(ja,(wa,r)=>{ja.handleTooltip(wa,r,"mouseout"!==wa.type)})}function Qc(p,R){var ja=!1===R.aria;p("aria-hidden",ja||void 0);if(ja||null==R.description)for(const wa in Yh)p(Yh[wa],void 0);else ja=R.mark.marktype,p("aria-label",R.description),p("role",R.ariaRole||("group"===ja?"graphics-object":"graphics-symbol")),p("aria-roledescription",R.ariaRoleDescription||`${ja} mark`)}function td(p){return!1===
p.aria?{["aria-hidden"]:!0}:Hg[p.role]?null:Ng[p.role]?Ld(p,Ng[p.role]):kd(p)}function kd(p){const R=p.marktype,ja="group"===R||"text"===R||p.items.some(wa=>null!=wa.description&&!1!==wa.aria);return Dh(ja?"graphics-object":"graphics-symbol",`${R} mark container`,p.description)}function Ld(p,R){try{const ja=p.items[0],wa=R.caption||(()=>"");return Dh(R.role||"graphics-symbol",R.desc,ja.description||wa(ja))}catch(ja){return null}}function Cd(p){try{return k.array(k.peek(p.items).items[0].text).join(" ")}catch(R){return null}}
function be(p){p=p.map(R=>R+("fill"===R||"stroke"===R?" color":""));return 2>p.length?p[0]:p.slice(0,-1).join(", ")+" and "+k.peek(p)}function ve(){let p="",R="",ja="";const wa=[],r=(ia,l)=>{null!=l&&(R+=` ${ia}="${fh(l).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return E},E={open(ia,...l){R&&(p+=`${R}>${ja}`,R=ja="");wa.push(ia);R="\x3c"+ia;for(const z of l)for(const ca in z)r(ca,z[ca]);return E},close(){const ia=wa.pop();p=R?p+(R+
(ja?`>${ja}</${ia}>`:"/\x3e")):p+`</${ia}>`;R=ja="";return E},attr:r,text:ia=>(ja+=fh(ia),E),toString:()=>p};return E}function Me(p,R){p.open(R.tagName);if(R.hasAttributes()){const ja=R.attributes,wa=ja.length;for(let r=0;r<wa;++r)p.attr(ja[r].name,ja[r].value)}if(R.hasChildNodes()){R=R.childNodes;for(const ja of R)3===ja.nodeType?p.text(ja.nodeValue):Me(p,ja)}return p.close()}function $e(p){pd.call(this,p);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function sf(p,R){for(;p&&
p.dirty!==R;p=p.mark.group)if(p.dirty=R,p.mark&&p.mark.dirty!==R)p.mark.dirty=R;else break}function nd(p,R,ja){R=R.lastChild.previousSibling;let wa,r=0;ec(ja,E=>{wa=p.mark(R,E,wa);++r});Sa(R,1+r)}function Fc(p,R,ja,wa,r){let E=p._svg;if(!E){var ia=R.ownerDocument;E=$b(ia,wa,qf);p._svg=E;p.mark&&(E.__data__=p,E.__values__={fill:"default"},"g"===wa&&(wa=$b(ia,"path",qf),E.appendChild(wa),wa.__data__=p,wa=$b(ia,"g",qf),E.appendChild(wa),wa.__data__=p,ia=$b(ia,"path",qf),E.appendChild(ia),ia.__data__=
p,ia.__values__={fill:"default"}))}(E.ownerSVGElement!==r||E.parentNode&&1<E.parentNode.childNodes.length&&E.previousSibling!=ja)&&R.insertBefore(E,ja?ja.nextSibling:R.firstChild);return E}function bd(p,R,ja){if(R!==bg[p]){if(ja){var wa=Og;null!=R?wa.setAttributeNS(ja,p,R):wa.removeAttributeNS(ja,p)}else Zd(Og,p,R);bg[p]=R}}function Gc(p,R,ja){ja!==bg[R]&&(null==ja?p.style.removeProperty(R):p.style.setProperty(R,ja+""),bg[R]=ja)}function Jd(p,R){for(const ja in R)Zd(p,ja,R[ja])}function Zd(p,R,ja){null!=
ja?p.setAttribute(R,ja):p.removeAttribute(R)}function $d(){let p;return"undefined"===typeof window?"":(p=window.location).hash?p.href.slice(0,-p.hash.length):p.href}function ke(p){pd.call(this,p);this._text=null;this._defs={gradient:{},clipping:{}}}function O(p,R,ja,wa,r){let E;if(null==R)return p;"bgrect"===wa&&!1===ja.interactive&&(p["pointer-events"]="none");if("bgfore"===wa&&(!1===ja.interactive&&(p["pointer-events"]="none"),p.display="none",null!==R.fill))return p;"image"===wa&&!1===R.smooth&&
(E=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===wa&&(p["font-family"]=De(R),p["font-size"]=Gd(R)+"px",p["font-style"]=R.fontStyle,p["font-variant"]=R.fontVariant,p["font-weight"]=R.fontWeight);for(const ia in Yf)ja=R[ia],wa=Yf[ia],("transparent"!==ja||"fill"!==wa&&"stroke"!==wa)&&null!=ja&&(ja&&ja.gradient&&(ja=bc(ja,r.gradient,"")),p[wa]=ja);for(const ia in Sg)r=R[ia],null!=r&&(E=E||[],E.push(`${Sg[ia]}: ${r};`));E&&(p.style=E.join(" "));return p}function da(p,R,ja,
wa){if(p.bounds&&R.intersects(p.bounds)&&("group"===p.marktype||!1!==p.interactive&&(!ja||ja(p)))){const E=p.items;var r=p.marktype;p=E.length;let ia=0;if("group"===r)for(;ia<p;++ia)H(E[ia],R,ja,wa);else for(ja=Rg[r].isect;ia<p;++ia)r=E[ia],ka(r,R,ja)&&wa.push(r)}return wa}function H(p,R,ja,wa){ja&&ja(p.mark)&&ka(p,R,Rg.group.isect)&&wa.push(p);const r=p.items,E=r&&r.length;if(E){const ia=p.x||0;p=p.y||0;R.translate(-ia,-p);for(let l=0;l<E;++l)da(r[l],R,ja,wa);R.translate(ia,p)}return wa}function ka(p,
R,ja){const wa=p.bounds;return R.encloses(wa)||R.intersects(wa)&&ja(p,R)}function la(p,R,ja){return p===R?!0:"path"===ja?Ja(p,R):p instanceof Date&&R instanceof Date?+p===+R:k.isNumber(p)&&k.isNumber(R)?1E-9>=Math.abs(p-R):p&&R&&(k.isObject(p)||k.isObject(R))?hb(p,R):p==R}function Ja(p,R){return la(Y(p),Y(R))}function hb(p,R){var ja=Object.keys(p),wa=Object.keys(R),r;if(ja.length!==wa.length)return!1;ja.sort();wa.sort();for(r=ja.length-1;0<=r;r--)if(ja[r]!=wa[r])return!1;for(r=ja.length-1;0<=r;r--)if(wa=
ja[r],!la(p[wa],R[wa],wa))return!1;return typeof p===typeof R}let fc=0;const rc=Math.abs,tc=Math.atan2,Wb=Math.cos,Dc=Math.max,yd=Math.min,Zc=Math.sin,hd=Math.sqrt,Ad=Math.PI,Hd=Ad/2,Oc=2*Ad,Ee=Math.PI,Ge=2*Ee,Ae=Ge-1E-6;class Be{constructor(p){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==p?Ab:kc(p)}moveTo(p,R){this._append`M${this._x0=this._x1=+p},${this._y0=this._y1=+R}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(p,R){this._append`L${this._x1=
+p},${this._y1=+R}`}quadraticCurveTo(p,R,ja,wa){this._append`Q${+p},${+R},${this._x1=+ja},${this._y1=+wa}`}bezierCurveTo(p,R,ja,wa,r,E){this._append`C${+p},${+R},${+ja},${+wa},${this._x1=+r},${this._y1=+E}`}arcTo(p,R,ja,wa,r){p=+p;R=+R;ja=+ja;wa=+wa;r=+r;if(0>r)throw Error(`negative radius: ${r}`);var E=this._x1,ia=this._y1;let l=ja-p,z=wa-R,ca=E-p,na=ia-R;var Va=ca*ca+na*na;if(null===this._x1)this._append`M${this._x1=p},${this._y1=R}`;else if(1E-6<Va)if(1E-6<Math.abs(na*l-z*ca)&&r){ja-=E;wa-=ia;
let Ya=l*l+z*z;ia=Math.sqrt(Ya);E=Math.sqrt(Va);Va=r*Math.tan((Ee-Math.acos((Ya+Va-(ja*ja+wa*wa))/(2*ia*E)))/2);E=Va/E;Va/=ia;1E-6<Math.abs(E-1)&&this._append`L${p+E*ca},${R+E*na}`;this._append`A${r},${r},0,0,${+(na*ja>ca*wa)},${this._x1=p+Va*l},${this._y1=R+Va*z}`}else this._append`L${this._x1=p},${this._y1=R}`}arc(p,R,ja,wa,r,E){p=+p;R=+R;ja=+ja;E=!!E;if(0>ja)throw Error(`negative radius: ${ja}`);let ia=ja*Math.cos(wa),l=ja*Math.sin(wa),z=p+ia,ca=R+l,na=1^E;wa=E?wa-r:r-wa;null===this._x1?this._append`M${z},${ca}`:
(1E-6<Math.abs(this._x1-z)||1E-6<Math.abs(this._y1-ca))&&this._append`L${z},${ca}`;ja&&(0>wa&&(wa=wa%Ge+Ge),wa>Ae?this._append`A${ja},${ja},0,1,${na},${p-ia},${R-l}A${ja},${ja},0,1,${na},${this._x1=z},${this._y1=ca}`:1E-6<wa&&this._append`A${ja},${ja},0,${+(wa>=Ee)},${na},${this._x1=p+ja*Math.cos(r)},${this._y1=R+ja*Math.sin(r)}`)}rect(p,R,ja,wa){this._append`M${this._x0=this._x1=+p},${this._y0=this._y1=+R}h${ja=+ja}v${+wa}h${-ja}Z`}toString(){return this._}}Yb.prototype=Be.prototype;Qa.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(p,R):this._context.moveTo(p,R);break;case 1:this._point=2;default:this._context.lineTo(p,R)}}};var Id={draw(p,R){R=hd(R/Ad);p.moveTo(R,0);p.arc(0,0,R,0,Oc)}};Pb.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:sb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(p,R):this._context.moveTo(p,R);break;case 1:this._point=2;break;case 2:this._point=
3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sb(this,p,R)}this._x0=this._x1;this._x1=p;this._y0=this._y1;this._y1=R}};Vb.prototype={areaStart:wb,areaEnd:wb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+
2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=1;this._x2=p;this._y2=R;break;case 1:this._point=2;this._x3=p;this._y3=R;break;case 2:this._point=3;this._x4=p;this._y4=R;this._context.moveTo((this._x0+4*this._x1+p)/6,(this._y0+4*this._y1+R)/6);break;default:sb(this,
p,R)}this._x0=this._x1;this._x1=p;this._y0=this._y1;this._y1=R}};nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var ja=(this._x0+4*this._x1+p)/6,wa=
(this._y0+4*this._y1+R)/6;this._line?this._context.lineTo(ja,wa):this._context.moveTo(ja,wa);break;case 3:this._point=4;default:sb(this,p,R)}this._x0=this._x1;this._x1=p;this._y0=this._y1;this._y1=R}};qa.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var p=this._x,R=this._y,ja=p.length-1;if(0<ja)for(var wa=p[0],r=R[0],E=p[ja]-wa,ia=R[ja]-r,l=-1,z;++l<=ja;)z=l/ja,this._basis.point(this._beta*p[l]+(1-this._beta)*(wa+z*E),this._beta*R[l]+(1-this._beta)*
(r+z*ia));this._x=this._y=null;this._basis.lineEnd()},point:function(p,R){this._x.push(+p);this._y.push(+R)}};var he=function ja(R){function wa(r){return 1===R?new Pb(r):new qa(r,R)}wa.beta=function(r){return ja(+r)};return wa}(.85);Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;
case 3:Z(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(R,ja){R=+R;ja=+ja;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(R,ja):this._context.moveTo(R,ja);break;case 1:this._point=2;this._x1=R;this._y1=ja;break;case 2:this._point=3;default:Z(this,R,ja)}this._x0=this._x1;this._x1=this._x2;this._x2=R;this._y0=this._y1;this._y1=this._y2;this._y2=ja}};var xe=function wa(ja){function r(E){return new Fa(E,
ja)}r.tension=function(E){return wa(+E)};return r}(0);Ga.prototype={areaStart:wb,areaEnd:wb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(ja,wa){ja=+ja;wa=+wa;switch(this._point){case 0:this._point=1;this._x3=ja;this._y3=wa;break;case 1:this._point=2;this._context.moveTo(this._x4=ja,this._y4=wa);break;case 2:this._point=3;this._x5=ja;this._y5=wa;break;default:Z(this,ja,wa)}this._x0=this._x1;this._x1=this._x2;this._x2=ja;this._y0=this._y1;this._y1=this._y2;this._y2=wa}};var Le=function r(wa){function E(ia){return new Ga(ia,wa)}E.tension=function(ia){return r(+ia)};return E}(0);eb.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(wa,r){wa=+wa;r=+r;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:Z(this,wa,r)}this._x0=this._x1;this._x1=this._x2;this._x2=wa;this._y0=this._y1;this._y1=this._y2;this._y2=r}};var of=function E(r){function ia(l){return new eb(l,r)}ia.tension=function(l){return E(+l)};return ia}(0);oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(r,E){r=+r;E=+E;if(this._point){var ia=this._x2-r,l=this._y2-E;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ia*ia+l*l,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(r,E):this._context.moveTo(r,E);break;case 1:this._point=
2;break;case 2:this._point=3;default:ba(this,r,E)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=r;this._y0=this._y1;this._y1=this._y2;this._y2=E}};var Ve=function ia(E){function l(z){return E?new oa(z,E):new Fa(z,0)}l.alpha=function(z){return ia(+z)};return l}(.5);q.prototype={areaStart:wb,areaEnd:wb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=
this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(E,ia){E=+E;ia=+ia;if(this._point){var l=this._x2-E,z=this._y2-ia;this._l23_a=
Math.sqrt(this._l23_2a=Math.pow(l*l+z*z,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=E;this._y3=ia;break;case 1:this._point=2;this._context.moveTo(this._x4=E,this._y4=ia);break;case 2:this._point=3;this._x5=E;this._y5=ia;break;default:ba(this,E,ia)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=E;this._y0=this._y1;this._y1=this._y2;this._y2=ia}};var we=function l(ia){function z(ca){return ia?
new q(ca,ia):new Ga(ca,0)}z.alpha=function(ca){return l(+ca)};return z}(.5);M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ia,l){ia=+ia;l=+l;if(this._point){var z=this._x2-
ia,ca=this._y2-l;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(z*z+ca*ca,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ba(this,ia,l)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=ia;this._y0=this._y1;this._y1=this._y2;
this._y2=l}};var wf=function z(l){function ca(na){return l?new M(na,l):new eb(na,0)}ca.alpha=function(na){return z(+na)};return ca}(.5);Q.prototype={areaStart:wb,areaEnd:wb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(l,z){l=+l;z=+z;this._point?this._context.lineTo(l,z):(this._point=1,this._context.moveTo(l,z))}};C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=
this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m(this,this._t0,u(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(l,z){var ca=NaN;l=+l;z=+z;if(l!==this._x1||z!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(l,z):this._context.moveTo(l,z);break;case 1:this._point=2;break;case 2:this._point=
3;m(this,u(this,ca=g(this,l,z)),ca);break;default:m(this,this._t0,ca=g(this,l,z))}this._x0=this._x1;this._x1=l;this._y0=this._y1;this._y1=z;this._t0=ca}}};(B.prototype=Object.create(C.prototype)).point=function(l,z){C.prototype.point.call(this,z,l)};A.prototype={moveTo:function(l,z){this._context.moveTo(z,l)},closePath:function(){this._context.closePath()},lineTo:function(l,z){this._context.lineTo(z,l)},bezierCurveTo:function(l,z,ca,na,Va,Ya){this._context.bezierCurveTo(z,l,na,ca,Ya,Va)}};D.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var l=this._x,z=this._y,ca=l.length;if(ca)if(this._line?this._context.lineTo(l[0],z[0]):this._context.moveTo(l[0],z[0]),2===ca)this._context.lineTo(l[1],z[1]);else for(var na=I(l),Va=I(z),Ya=0,Gb=1;Gb<ca;++Ya,++Gb)this._context.bezierCurveTo(na[0][Ya],Va[0][Ya],na[1][Ya],Va[1][Ya],l[Gb],z[Gb]);(this._line||0!==this._line&&1===ca)&&this._context.closePath();this._line=
1-this._line;this._x=this._y=null},point:function(l,z){this._x.push(+l);this._y.push(+z)}};V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(l,z){l=+l;z=+z;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(l,z):this._context.moveTo(l,z);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,z),this._context.lineTo(l,z);else{var ca=this._x*(1-this._t)+l*this._t;this._context.lineTo(ca,this._y);this._context.lineTo(ca,z)}}this._x=l;this._y=z}};const Pf={basis:{curve:function(l){return new Pb(l)}},"basis-closed":{curve:function(l){return new Vb(l)}},"basis-open":{curve:function(l){return new nb(l)}},bundle:{curve:he,tension:"beta",value:.85},cardinal:{curve:xe,
tension:"tension",value:0},"cardinal-open":{curve:of,tension:"tension",value:0},"cardinal-closed":{curve:Le,tension:"tension",value:0},"catmull-rom":{curve:Ve,tension:"alpha",value:.5},"catmull-rom-closed":{curve:we,tension:"alpha",value:.5},"catmull-rom-open":{curve:wf,tension:"alpha",value:.5},linear:{curve:Da},"linear-closed":{curve:function(l){return new Q(l)}},monotone:{horizontal:function(l){return new B(l)},vertical:function(l){return new C(l)}},natural:{curve:function(l){return new D(l)}},
step:{curve:function(l){return new V(l,.5)}},"step-after":{curve:function(l){return new V(l,1)}},"step-before":{curve:function(l){return new V(l,0)}}},af={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},ag=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Vd=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,hf=/^((\s+,?\s*)|(,\s*))/,jf=/^[01]/,Qe=Math.PI/180,Cf=Math.PI/2,Qf=2*Math.PI,Jf=Math.sqrt(3)/2;var Gf={},Bg={},sg=[].join;const Af=["l",0,0,0,0,0,0,0],Hf={circle:{draw:function(l,z){z=Math.sqrt(z)/2;
l.moveTo(z,0);l.arc(0,0,z,0,Qf)}},cross:{draw:function(l,z){z=Math.sqrt(z)/2;var ca=z/2.5;l.moveTo(-z,-ca);l.lineTo(-z,ca);l.lineTo(-ca,ca);l.lineTo(-ca,z);l.lineTo(ca,z);l.lineTo(ca,ca);l.lineTo(z,ca);l.lineTo(z,-ca);l.lineTo(ca,-ca);l.lineTo(ca,-z);l.lineTo(-ca,-z);l.lineTo(-ca,-ca);l.closePath()}},diamond:{draw:function(l,z){z=Math.sqrt(z)/2;l.moveTo(-z,0);l.lineTo(0,-z);l.lineTo(z,0);l.lineTo(0,z);l.closePath()}},square:{draw:function(l,z){z=Math.sqrt(z);var ca=-z/2;l.rect(ca,ca,z,z)}},arrow:{draw:function(l,
z){z=Math.sqrt(z)/2;var ca=z/7,na=z/2.5,Va=z/8;l.moveTo(-ca,z);l.lineTo(ca,z);l.lineTo(ca,-Va);l.lineTo(na,-Va);l.lineTo(0,-z);l.lineTo(-na,-Va);l.lineTo(-ca,-Va);l.closePath()}},wedge:{draw:function(l,z){var ca=Math.sqrt(z)/2;z=Jf*ca;var na=z-.5773502691896257*ca;ca/=4;l.moveTo(0,-z-na);l.lineTo(-ca,z-na);l.lineTo(ca,z-na);l.closePath()}},triangle:{draw:function(l,z){z=Math.sqrt(z)/2;var ca=Jf*z,na=ca-.5773502691896257*z;l.moveTo(0,-ca-na);l.lineTo(-z,ca-na);l.lineTo(z,ca-na);l.closePath()}},"triangle-up":{draw:function(l,
z){z=Math.sqrt(z)/2;var ca=Jf*z;l.moveTo(0,-ca);l.lineTo(-z,ca);l.lineTo(z,ca);l.closePath()}},"triangle-down":{draw:function(l,z){z=Math.sqrt(z)/2;var ca=Jf*z;l.moveTo(0,ca);l.lineTo(-z,-ca);l.lineTo(z,-ca);l.closePath()}},"triangle-right":{draw:function(l,z){z=Math.sqrt(z)/2;var ca=Jf*z;l.moveTo(ca,0);l.lineTo(-ca,-z);l.lineTo(-ca,z);l.closePath()}},"triangle-left":{draw:function(l,z){z=Math.sqrt(z)/2;var ca=Jf*z;l.moveTo(-ca,0);l.lineTo(ca,-z);l.lineTo(ca,z);l.closePath()}},stroke:{draw:function(l,
z){z=Math.sqrt(z)/2;l.moveTo(-z,0);l.lineTo(z,0)}}};var dg={};const Ug=l=>l.x||0,Vg=l=>l.y||0,Dg=l=>!1!==l.defined,Wg=function(){function l(){var Xc,Rd=+z.apply(this,arguments),te=+ca.apply(this,arguments),Ce=Ya.apply(this,arguments)-Hd,ue=Gb.apply(this,arguments)-Hd,Ze=rc(ue-Ce),zf=ue>Ce;Tb||(Tb=Xc=Bd());if(te<Rd){var Uf=te;te=Rd;Rd=Uf}if(1E-12<te)if(Ze>Oc-1E-12)Tb.moveTo(te*Wb(Ce),te*Zc(Ce)),Tb.arc(0,0,te,Ce,ue,!zf),1E-12<Rd&&(Tb.moveTo(Rd*Wb(ue),Rd*Zc(ue)),Tb.arc(0,0,Rd,ue,Ce,zf));else{var ef=
Ce,bf=ue;Uf=Ce;var cg=ue,vh=Ze,lg=Ze,Mf=ac.apply(this,arguments)/2,mf=1E-12<Mf&&(Va?+Va.apply(this,arguments):hd(Rd*Rd+te*te)),Rf=yd(rc(te-Rd)/2,+na.apply(this,arguments)),If=Rf,Lf=Rf;if(1E-12<mf){var ah=uc(mf/Rd*Zc(Mf));Mf=uc(mf/te*Zc(Mf));1E-12<(vh-=2*ah)?(ah*=zf?1:-1,Uf+=ah,cg-=ah):(vh=0,Uf=cg=(Ce+ue)/2);1E-12<(lg-=2*Mf)?(Mf*=zf?1:-1,ef+=Mf,bf-=Mf):(lg=0,ef=bf=(Ce+ue)/2)}Ce=te*Wb(ef);ue=te*Zc(ef);ah=Rd*Wb(cg);Mf=Rd*Zc(cg);if(1E-12<Rf){var hg=te*Wb(bf),Fh=te*Zc(bf),pg=Rd*Wb(Uf),kh=Rd*Zc(Uf);if(Ze<
Ad){If=pg-Ce;Lf=kh-ue;Ze=ah-hg;mf=Mf-Fh;var yg=mf*If-Ze*Lf;1E-12>yg*yg?If=void 0:(yg=(Ze*(ue-Fh)-mf*(Ce-hg))/yg,If=[Ce+yg*If,ue+yg*Lf]);If?(Lf=Ce-If[0],Ze=ue-If[1],mf=hg-If[0],yg=Fh-If[1],Lf=(Lf*mf+Ze*yg)/(hd(Lf*Lf+Ze*Ze)*hd(mf*mf+yg*yg)),Lf=1/Zc((1<Lf?0:-1>Lf?Ad:Math.acos(Lf))/2),Ze=hd(If[0]*If[0]+If[1]*If[1]),If=yd(Rf,(Rd-Ze)/(Lf-1)),Lf=yd(Rf,(te-Ze)/(Lf+1))):If=Lf=0}}1E-12<lg?1E-12<Lf?(ef=ab(pg,kh,Ce,ue,te,Lf,zf),bf=ab(hg,Fh,ah,Mf,te,Lf,zf),Tb.moveTo(ef.cx+ef.x01,ef.cy+ef.y01),Lf<Rf?Tb.arc(ef.cx,
ef.cy,Lf,tc(ef.y01,ef.x01),tc(bf.y01,bf.x01),!zf):(Tb.arc(ef.cx,ef.cy,Lf,tc(ef.y01,ef.x01),tc(ef.y11,ef.x11),!zf),Tb.arc(0,0,te,tc(ef.cy+ef.y11,ef.cx+ef.x11),tc(bf.cy+bf.y11,bf.cx+bf.x11),!zf),Tb.arc(bf.cx,bf.cy,Lf,tc(bf.y11,bf.x11),tc(bf.y01,bf.x01),!zf))):(Tb.moveTo(Ce,ue),Tb.arc(0,0,te,ef,bf,!zf)):Tb.moveTo(Ce,ue);1E-12<Rd&&1E-12<vh?1E-12<If?(ef=ab(ah,Mf,hg,Fh,Rd,-If,zf),bf=ab(Ce,ue,pg,kh,Rd,-If,zf),Tb.lineTo(ef.cx+ef.x01,ef.cy+ef.y01),If<Rf?Tb.arc(ef.cx,ef.cy,If,tc(ef.y01,ef.x01),tc(bf.y01,bf.x01),
!zf):(Tb.arc(ef.cx,ef.cy,If,tc(ef.y01,ef.x01),tc(ef.y11,ef.x11),!zf),Tb.arc(0,0,Rd,tc(ef.cy+ef.y11,ef.cx+ef.x11),tc(bf.cy+bf.y11,bf.cx+bf.x11),zf),Tb.arc(bf.cx,bf.cy,If,tc(bf.y11,bf.x11),tc(bf.y01,bf.x01),!zf))):Tb.arc(0,0,Rd,cg,Uf,zf):Tb.lineTo(ah,Mf)}else Tb.moveTo(0,0);Tb.closePath();if(Xc)return Tb=null,Xc+""||null}var z=tb,ca=Jb,na=Bc(0),Va=null,Ya=Kb,Gb=Cb,ac=Ob,Tb=null,Bd=Ua(l);l.centroid=function(){var Xc=(+z.apply(this,arguments)+ +ca.apply(this,arguments))/2,Rd=(+Ya.apply(this,arguments)+
+Gb.apply(this,arguments))/2-Ad/2;return[Wb(Rd)*Xc,Zc(Rd)*Xc]};l.innerRadius=function(Xc){return arguments.length?(z="function"===typeof Xc?Xc:Bc(+Xc),l):z};l.outerRadius=function(Xc){return arguments.length?(ca="function"===typeof Xc?Xc:Bc(+Xc),l):ca};l.cornerRadius=function(Xc){return arguments.length?(na="function"===typeof Xc?Xc:Bc(+Xc),l):na};l.padRadius=function(Xc){return arguments.length?(Va=null==Xc?null:"function"===typeof Xc?Xc:Bc(+Xc),l):Va};l.startAngle=function(Xc){return arguments.length?
(Ya="function"===typeof Xc?Xc:Bc(+Xc),l):Ya};l.endAngle=function(Xc){return arguments.length?(Gb="function"===typeof Xc?Xc:Bc(+Xc),l):Gb};l.padAngle=function(Xc){return arguments.length?(ac="function"===typeof Xc?Xc:Bc(+Xc),l):ac};l.context=function(Xc){return arguments.length?(Tb=null==Xc?null:Xc,l):Tb};return l}().startAngle(l=>l.startAngle||0).endAngle(l=>l.endAngle||0).padAngle(l=>l.padAngle||0).innerRadius(l=>l.innerRadius||0).outerRadius(l=>l.outerRadius||0).cornerRadius(l=>l.cornerRadius||
0),ra=Pa().x(Ug).y1(Vg).y0(l=>(l.y||0)+(l.height||0)).defined(Dg),bb=Pa().y(Vg).x1(Ug).x0(l=>(l.x||0)+(l.width||0)).defined(Dg),Rb=mb().x(Ug).y(Vg).defined(Dg),id=qc().x(Ug).y(Vg).width(l=>l.width||0).height(l=>l.height||0).cornerRadius(l=>dd(l.cornerRadiusTopLeft,l.cornerRadius)||0,l=>dd(l.cornerRadiusTopRight,l.cornerRadius)||0,l=>dd(l.cornerRadiusBottomRight,l.cornerRadius)||0,l=>dd(l.cornerRadiusBottomLeft,l.cornerRadius)||0),od=function(l,z){function ca(){let Ya;na||(na=Ya=Va());l.apply(this,
arguments).draw(na,+z.apply(this,arguments));if(Ya)return na=null,Ya+""||null}let na=null,Va=Ua(ca);l="function"===typeof l?l:Bc(l||Id);z="function"===typeof z?z:Bc(void 0===z?64:+z);ca.type=function(Ya){return arguments.length?(l="function"===typeof Ya?Ya:Bc(Ya),ca):l};ca.size=function(Ya){return arguments.length?(z="function"===typeof Ya?Ya:Bc(+Ya),ca):z};ca.context=function(Ya){return arguments.length?(na=null==Ya?null:Ya,ca):na};return ca}().type(l=>La(l.shape||"circle")).size(l=>dd(l.size,64)),
ne=xc().x(Ug).y(Vg).defined(Dg).size(l=>l.size||1);var Re=1;Na.prototype={clone(){return new Na(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(l){return this.x1===l.x1&&this.y1===l.y1&&this.x2===l.x2&&this.y2===l.y2},set(l,z,ca,na){ca<l?(this.x2=l,this.x1=ca):(this.x1=l,this.x2=
ca);na<z?(this.y2=z,this.y1=na):(this.y1=z,this.y2=na);return this},add(l,z){l<this.x1&&(this.x1=l);z<this.y1&&(this.y1=z);l>this.x2&&(this.x2=l);z>this.y2&&(this.y2=z);return this},expand(l){this.x1-=l;this.y1-=l;this.x2+=l;this.y2+=l;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(l){this.x1*=l;this.y1*=l;this.x2*=l;this.y2*=l;return this},translate(l,z){this.x1+=l;this.x2+=l;this.y1+=z;this.y2+=
z;return this},rotate(l,z,ca){l=this.rotatedPoints(l,z,ca);return this.clear().add(l[0],l[1]).add(l[2],l[3]).add(l[4],l[5]).add(l[6],l[7])},rotatedPoints(l,z,ca){var {x1:na,y1:Va,x2:Ya,y2:Gb}=this,ac=Math.cos(l);l=Math.sin(l);var Tb=z-z*ac+ca*l;z=ca-z*l-ca*ac;return[ac*na-l*Va+Tb,l*na+ac*Va+z,ac*na-l*Gb+Tb,l*na+ac*Gb+z,ac*Ya-l*Va+Tb,l*Ya+ac*Va+z,ac*Ya-l*Gb+Tb,l*Ya+ac*Gb+z]},union(l){l.x1<this.x1&&(this.x1=l.x1);l.y1<this.y1&&(this.y1=l.y1);l.x2>this.x2&&(this.x2=l.x2);l.y2>this.y2&&(this.y2=l.y2);
return this},intersect(l){l.x1>this.x1&&(this.x1=l.x1);l.y1>this.y1&&(this.y1=l.y1);l.x2<this.x2&&(this.x2=l.x2);l.y2<this.y2&&(this.y2=l.y2);return this},encloses(l){return l&&this.x1<=l.x1&&this.x2>=l.x2&&this.y1<=l.y1&&this.y2>=l.y2},alignsWith(l){return l&&(this.x1==l.x1||this.x2==l.x2||this.y1==l.y1||this.y2==l.y2)},intersects(l){return l&&!(this.x2<l.x1||this.x1>l.x2||this.y2<l.y1||this.y1>l.y2)},contains(l,z){return!(l<this.x1||l>this.x2||z<this.y1||z>this.y2)},width(){return this.x2-this.x1},
height(){return this.y2-this.y1}};k.inherits(qb,Ub);Sb.prototype={pending(){return this._pending},sanitizeURL(l){const z=this;z._pending+=1;return z._loader.sanitize(l,{context:"href"}).then(ca=>{--z._pending;return ca}).catch(()=>{--z._pending;return null})},loadImage(l){const z=this,ca=P.image();z._pending+=1;return z._loader.sanitize(l,{context:"image"}).then(na=>{const Va=na.href;if(!Va||!ca)throw{url:Va};const Ya=new ca;na=k.hasOwnProperty(na,"crossOrigin")?na.crossOrigin:"anonymous";null!=na&&
(Ya.crossOrigin=na);Ya.onload=()=>{--z._pending};Ya.onerror=()=>{--z._pending};Ya.src=Va;return Ya}).catch(na=>{--z._pending;return{complete:!1,width:0,height:0,src:na&&na.url||""}})},ready(){const l=this;return new Promise(z=>{function ca(na){l.pending()?setTimeout(()=>{ca(!0)},10):z(na)}ca(!1)})}};const pf=Qf-1E-8;let Ff,Ne,eg,Sf,Xf,kg,qg,Lg;const gh=(l,z)=>{l=Ne=l;z=eg=z;return Ff.add(l,z)},ph=l=>Ff.add(l,Ff.y1),Ie=l=>Ff.add(Ff.x1,l),ye=(l,z)=>Ff.add(Xf*l+qg*z,kg*l+Lg*z),Kf=(l,z)=>gh(Xf*l+qg*z,
kg*l+Lg*z),yf={beginPath(){},closePath(){},moveTo:Kf,lineTo:Kf,rect(l,z,ca,na){Sf?(ye(l+ca,z),ye(l+ca,z+na),ye(l,z+na),Kf(l,z)):(Ff.add(l+ca,z+na),gh(l,z))},quadraticCurveTo(l,z,ca,na){const Va=kg*l+Lg*z,Ya=Xf*ca+qg*na;ca=kg*ca+Lg*na;Ic(Ne,Xf*l+qg*z,Ya,ph);Ic(eg,Va,ca,Ie);gh(Ya,ca)},bezierCurveTo(l,z,ca,na,Va,Ya){const Gb=kg*l+Lg*z,ac=kg*ca+Lg*na,Tb=Xf*Va+qg*Ya;Va=kg*Va+Lg*Ya;zc(Ne,Xf*l+qg*z,Xf*ca+qg*na,Tb,ph);zc(eg,Gb,ac,Va,Ie);gh(Tb,Va)},arc(l,z,ca,na,Va,Ya){na+=Sf;Va+=Sf;Ne=ca*Math.cos(Va)+l;eg=
ca*Math.sin(Va)+z;if(Math.abs(Va-na)>pf)Ff.add(l-ca,z-ca),Ff.add(l+ca,z+ca);else{const Gb=Tb=>Ff.add(ca*Math.cos(Tb)+l,ca*Math.sin(Tb)+z);let ac;Gb(na);Gb(Va);if(Va!==na)if(na%=Qf,0>na&&(na+=Qf),Va%=Qf,0>Va&&(Va+=Qf),Va<na&&(Ya=!Ya,ac=na,na=Va,Va=ac),Ya)for(Va-=Qf,ac=na-na%Cf,na=0;4>na&&ac>Va;++na,ac-=Cf)Gb(ac);else for(ac=na-na%Cf+Cf,na=0;4>na&&ac<Va;++na,ac+=Cf)Gb(ac)}}};var Bf=(Bf=P.canvas(1,1))?Bf.getContext("2d"):null;const tf=new Na;var fg=[],Eg=Yd("arc",function(l,z){return Wg.context(l)(z)}),
tg=ae("area",function(l,z){const ca=z[0];return("horizontal"===ca.orient?bb:ra).curve(Aa(ca.interpolate||"linear",ca.orient,ca.tension)).context(l)(z)},function(l,z){z="horizontal"===l[0].orient?z[1]:z[0];for(var ca="horizontal"===l[0].orient?"y":"x",na=l.length,Va=Infinity,Ya,Gb;0<=--na;)!1!==l[na].defined&&(Gb=Math.abs(l[na][ca]-z),Gb<Va&&(Va=Gb,Ya=l[na]));return Ya});const Df=Td(Wd),Qg=Td(Wd,!1),Mg=Td(Wd,!0);var qh={type:"group",tag:"g",nested:!1,attr:function(l,z){l("transform",Ed(z.x||0,z.y||
0))},bound:function(l,z){if(!z.clip&&z.items){const ca=z.items,na=ca.length;for(let Va=0;Va<na;++Va)l.union(ca[Va].bounds)}(z.clip||z.width||z.height)&&!z.noBound&&l.add(0,0).add(z.width||0,z.height||0);ic(l,z);return l.translate(z.x||0,z.y||0)},draw:function(l,z,ca){ec(z,na=>{const Va=na.x||0,Ya=na.y||0,Gb=na.strokeForeground,ac=null==na.opacity?1:na.opacity;(na.stroke||na.fill)&&ac&&(Wd(l,na,Va,Ya),ta(l,na),na.fill&&Za(l,na,ac)&&l.fill(),na.stroke&&!Gb&&kb(l,na,ac)&&l.stroke());l.save();l.translate(Va,
Ya);na.clip&&Ud(l,na);ca&&ca.translate(-Va,-Ya);ec(na,Tb=>{this.draw(l,Tb,ca)});ca&&ca.translate(Va,Ya);l.restore();Gb&&na.stroke&&ac&&(Wd(l,na,Va,Ya),ta(l,na),kb(l,na,ac)&&l.stroke())})},pick:function(l,z,ca,na,Va,Ya){if(z.bounds&&!z.bounds.contains(Va,Ya)||!z.items)return null;const Gb=ca*l.pixelRatio,ac=na*l.pixelRatio;return jc(z,Tb=>{let Bd,Xc;var Rd=Tb.bounds;if(!Rd||Rd.contains(Va,Ya)){Bd=Tb.x||0;Xc=Tb.y||0;Rd=Bd+(Tb.width||0);var te=Xc+(Tb.height||0),Ce=Tb.clip;if(!Ce||!(Va<Bd||Va>Rd||Ya<
Xc||Ya>te)){l.save();l.translate(Bd,Xc);Bd=Va-Bd;Xc=Ya-Xc;if(Ce&&Zb(Tb)&&!Mg(l,Tb,Gb,ac))return l.restore(),null;te=Tb.strokeForeground;if((Ce=!1!==z.interactive)&&te&&Tb.stroke&&Qg(l,Tb,Gb,ac))return l.restore(),Tb;Rd=jc(Tb,ue=>(!1!==ue.interactive||"group"===ue.marktype)&&ue.bounds&&ue.bounds.contains(Bd,Xc)?this.pick(ue,ca,na,Bd,Xc):null);!Rd&&Ce&&(Tb.fill||!te&&Tb.stroke)&&Df(l,Tb,Gb,ac)&&(Rd=Tb);l.restore();return Rd||null}}})},isect:Ha,content:function(l,z,ca){z=z.clip?Pd(ca,z,z):null;l("clip-path",
z)},background:function(l,z){l("class","background");l("aria-hidden",!0);const ca=Xe(z);l("d",Rc(null,z,ca,ca))},foreground:function(l,z){l("class","foreground");l("aria-hidden",!0);if(z.strokeForeground){const ca=Xe(z);l("d",Rc(null,z,ca,ca))}else l("d","")}},xg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Wh={type:"image",tag:"image",nested:!1,attr:function(l,z,ca){var na=N(z,ca);ca=ma(z,na);const Va=za(z,na),Ya=(z.x||0)-fb(z.align,ca),Gb=(z.y||
0)-Hb(z.baseline,Va);na=!na.src&&na.toDataURL?na.toDataURL():na.src||"";l("href",na,xg["xmlns:xlink"],"xlink:href");l("transform",Ed(Ya,Gb));l("width",ca);l("height",Va);l("preserveAspectRatio",!1===z.aspect?"none":"xMidYMid")},bound:function(l,z){var ca=z.image;const na=ma(z,ca);ca=za(z,ca);const Va=(z.x||0)-fb(z.align,na);z=(z.y||0)-Hb(z.baseline,ca);return l.set(Va,z,Va+na,z+ca)},draw:function(l,z,ca){ec(z,na=>{if(!ca||ca.intersects(na.bounds)){var Va=N(na,this),Ya=ma(na,Va),Gb=za(na,Va);if(0!==
Ya&&0!==Gb){var ac=(na.x||0)-fb(na.align,Ya),Tb=(na.y||0)-Hb(na.baseline,Gb),Bd;if(!1!==na.aspect){var Xc=Va.width/Va.height;var Rd=na.width/na.height;Xc===Xc&&Rd===Rd&&Xc!==Rd&&(Rd<Xc?(Xc=Ya/Xc,Tb+=(Gb-Xc)/2,Gb=Xc):(Xc*=Gb,ac+=(Ya-Xc)/2,Ya=Xc))}if(Va.complete||Va.toDataURL)ta(l,na),l.globalAlpha=null!=(Bd=na.opacity)?Bd:1,l.imageSmoothingEnabled=!1!==na.smooth,l.drawImage(Va,ac,Tb,Ya,Gb)}}})},pick:Qd(),isect:k.truthy,get:N,xOffset:fb,yOffset:Hb},rh=ae("line",function(l,z){const ca=z[0];return Rb.curve(Aa(ca.interpolate||
"linear",ca.orient,ca.tension)).context(l)(z)},function(l,z){for(var ca=Math.pow(l[0].strokeWidth||1,2),na=l.length,Va,Ya;0<=--na;)if(!1!==l[na].defined&&(Va=l[na].x-z[0],Ya=l[na].y-z[1],Va=Va*Va+Ya*Ya,Va<ca))return l[na];return null}),Hh={type:"path",tag:"path",nested:!1,attr:function(l,z){var ca=z.scaleY||1;1===(z.scaleX||1)&&1===ca||l("vector-effect","non-scaling-stroke");ca=Ed(z.x||0,z.y||0)+(z.angle?" rotate("+(z.angle+")"):"")+(z.scaleX||z.scaleY?" scale("+((z.scaleX||1)+","+(z.scaleY||1)+")"):
"");l("transform",ca);l("d",z.path)},bound:function(l,z){return Xb(dc(l,z.angle),z)?l.set(0,0,0,0):ic(l,z,!0)},draw:Sc(Xb),pick:Qd(Td(Xb)),isect:Md(Xb)},Xg={type:"rect",tag:"path",nested:!1,attr:function(l,z){l("d",Rc(null,z))},bound:function(l,z){var ca,na;return ic(l.set(ca=z.x||0,na=z.y||0,ca+z.width||0,na+z.height||0),z)},draw:Sc(Cc),pick:Qd(Td(Cc)),isect:Ha},sh={type:"rule",tag:"line",nested:!1,attr:function(l,z){l("transform",Ed(z.x||0,z.y||0));l("x2",null!=z.x2?z.x2-(z.x||0):0);l("y2",null!=
z.y2?z.y2-(z.y||0):0)},bound:function(l,z){var ca,na;return ic(l.set(ca=z.x||0,na=z.y||0,null!=z.x2?z.x2:ca,null!=z.y2?z.y2:na),z)},draw:function(l,z,ca){ec(z,na=>{if(!ca||ca.intersects(na.bounds)){var Va=null==na.opacity?1:na.opacity;Va&&mc(l,na,Va)&&(ta(l,na),l.stroke())}})},pick:Qd(function(l,z,ca,na){return l.isPointInStroke?mc(l,z,1)&&l.isPointInStroke(ca,na):!1}),isect:gb},Bh=Yd("shape",function(l,z){return(z.mark.shape||z.shape).context(l)(z)}),ji=Yd("symbol",function(l,z){return od.context(l)(z)},
ud);const eh=k.lruCache();var th={height:Gd,measureWidth:Nc,estimateWidth:jd,width:jd,canvas:Hc};Hc(!0);const yi={left:"start",center:"middle",right:"end"},Fg=new Na;var Mh={type:"text",tag:"text",nested:!1,attr:function(l,z){var ca=z.dx||0,na=(z.dy||0)+cf(z),Va=df(z),Ya=Va.x1;Va=Va.y1;var Gb=z.angle||0;l("text-anchor",yi[z.align]||"start");if(Gb){if(z=Ed(Ya,Va)+" rotate("+(Gb+")"),ca||na)z+=" "+Ed(ca,na)}else z=Ed(Ya+ca,Va+na);l("transform",z)},bound:pe,draw:function(l,z,ca){ec(z,na=>{var Va=null==
na.opacity?1:na.opacity,Ya;if(!(ca&&!ca.intersects(na.bounds)||0===Va||0>=na.fontSize||null==na.text||0===na.text.length)){l.font=gf(na);l.textAlign=na.align||"left";var Gb=df(na);var ac=Gb.x1;Gb=Gb.y1;na.angle&&(l.save(),l.translate(ac,Gb),l.rotate(na.angle*Qe),ac=Gb=0);ac+=na.dx||0;Gb+=(na.dy||0)+cf(na);var Tb=Xd(na);ta(l,na);if(k.isArray(Tb)){var Bd=Fd(na);for(Ya=0;Ya<Tb.length;++Ya){var Xc=Nd(na,Tb[Ya]);na.fill&&Za(l,na,Va)&&l.fillText(Xc,ac,Gb);na.stroke&&kb(l,na,Va)&&l.strokeText(Xc,ac,Gb);
Gb+=Bd}}else Xc=Nd(na,Tb),na.fill&&Za(l,na,Va)&&l.fillText(Xc,ac,Gb),na.stroke&&kb(l,na,Va)&&l.strokeText(Xc,ac,Gb);na.angle&&l.restore()}})},pick:Qd(function(l,z,ca,na,Va,Ya){if(0>=z.fontSize)return!1;if(!z.angle)return!0;ca=df(z);l=ca.x1;ca=ca.y1;na=pe(Fg,z,1);var Gb=-z.angle*Qe;z=Math.cos(Gb);Gb=Math.sin(Gb);return na.contains(z*Va-Gb*Ya+(l-z*l+Gb*ca),Gb*Va+z*Ya+(ca-Gb*l-z*ca))}),isect:function(l,z){l=pe(Fg,l,2);return vb(z,l[0],l[1],l[2],l[3])||vb(z,l[0],l[1],l[4],l[5])||vb(z,l[4],l[5],l[6],l[7])||
vb(z,l[2],l[3],l[6],l[7])}},Xh=ae("trail",function(l,z){return ne.context(l)(z)},function(l,z){for(var ca=l.length,na,Va;0<=--ca;)if(!1!==l[ca].defined&&(na=l[ca].x-z[0],Va=l[ca].y-z[1],Va=na*na+Va*Va,na=l[ca].size||1,Va<na*na))return l[ca];return null}),Rg={arc:Eg,area:tg,group:qh,image:Wh,line:rh,path:Hh,rect:Xg,rule:sh,shape:Bh,symbol:ji,text:Mh,trail:Xh},hh={mark:null};const lh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
gc.prototype={toJSON(l){return ua(this.root,l||0)},mark(l,z,ca){z=z||this.root.items[0];l=Ec(l,z);z.items[ca]=l;l.zindex&&(l.group.zdirty=!0);return l}};Ac.prototype={initialize(l,z,ca){this._el=l;this._obj=ca||null;return this.origin(z)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(l){return arguments.length?(this._origin=l||[0,0],this):this._origin.slice()},scene(l){if(!arguments.length)return this._scene;this._scene=l;return this},on(){},off(){},_handlerIndex(l,
z,ca){for(let na=l?l.length:0;0<=--na;)if(l[na].type===z&&(!ca||l[na].handler===ca))return na;return-1},handlers(l){const z=this._handlers,ca=[];if(l)ca.push(...z[this.eventName(l)]);else for(const na in z)ca.push(...z[na]);return ca},eventName(l){const z=l.indexOf(".");return 0>z?l:l.slice(0,z)},handleHref(l,z,ca){this._loader.sanitize(ca,{context:"href"}).then(na=>{const Va=new MouseEvent(l.type,l),Ya=$b(null,"a");for(const Gb in na)Ya.setAttribute(Gb,na[Gb]);Ya.dispatchEvent(Va)}).catch(()=>{})},
handleTooltip(l,z,ca){if(z&&null!=z.tooltip){var na=this.canvas(),Va=this._origin,Ya=z&&z.mark,Gb;if(Ya&&(Gb=Rg[Ya.marktype]).tip){na=Jc(l,na);na[0]-=Va[0];for(na[1]-=Va[1];z=z.mark.group;)na[0]-=z.x||0,na[1]-=z.y||0;z=Gb.tip(Ya.items,na)}this._tooltip.call(this._obj,this,l,z,ca&&z&&z.tooltip||null)}},getItemBoundingClientRect(l){var z=this.canvas();if(z){var ca=z.getBoundingClientRect(),na=this._origin,Va=l.bounds;z=Va.width();var Ya=Va.height(),Gb=Va.x1+na[0]+ca.left;for(ca=Va.y1+na[1]+ca.top;l.mark&&
(l=l.mark.group);)Gb+=l.x||0,ca+=l.y||0;return{x:Gb,y:ca,width:z,height:Ya,left:Gb,top:ca,right:Gb+z,bottom:ca+Ya}}}};pd.prototype={initialize(l,z,ca,na,Va){this._el=l;return this.resize(z,ca,na,Va)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(l){if(0===arguments.length)return this._bgcolor;this._bgcolor=l;return this},resize(l,z,ca,na){this._width=l;this._height=z;this._origin=ca||[0,0];this._scale=na||1;return this},dirty(){},render(l){const z=this;z._call=
function(){z._render(l)};z._call();z._call=null;return z},_render(){},renderAsync(l){const z=this.render(l);return this._ready?this._ready.then(()=>z):Promise.resolve(z)},_load(l,z){var ca=this;l=ca._loader[l](z);if(!ca._ready){const na=ca._call;ca._ready=ca._loader.ready().then(Va=>{Va&&na();ca._ready=null})}return l},sanitizeURL(l){return this._load("sanitizeURL",l)},loadImage(l){return this._load("loadImage",l)}};k.inherits(ee,Ac,{initialize(l,z,ca){this._canvas=l&&J(l,"canvas");["click","mousedown",
"mousemove","mouseout","dragleave"].forEach(na=>Ra(this,na));return Ac.prototype.initialize.call(this,l,z,ca)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(l){this.fire("mousewheel",l)},mousemove:pc("mousemove","mouseover","mouseout"),dragover:pc("dragover","dragenter","dragleave"),
mouseout:wd("mouseout"),dragleave:wd("dragleave"),mousedown(l){this._down=this._active;this.fire("mousedown",l)},click(l){this._down===this._active&&(this.fire("click",l),this._down=null)},touchstart(l){this._touch=this.pickEvent(l.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",l,!0)},touchmove(l){this.fire("touchmove",l,!0)},touchend(l){this.fire("touchend",l,!0);this._touch=null},fire(l,z,ca){ca=ca?this._touch:this._active;const na=this._handlers[l];
z.vegaType=l;"click"===l&&ca&&ca.href?this.handleHref(z,ca,ca.href):("mousemove"===l||"mouseout"===l)&&this.handleTooltip(z,ca,"mouseout"!==l);if(na)for(let Va=0,Ya=na.length;Va<Ya;++Va)na[Va].handler.call(this._obj,z,ca)},on(l,z){const ca=this.eventName(l),na=this._handlers;0>this._handlerIndex(na[ca],l,z)&&(Ra(this,l),(na[ca]||(na[ca]=[])).push({type:l,handler:z}));return this},off(l,z){var ca=this.eventName(l);ca=this._handlers[ca];l=this._handlerIndex(ca,l,z);0<=l&&ca.splice(l,1);return this},
pickEvent(l){l=Jc(l,this._canvas);const z=this._origin;return this.pick(this._scene,l[0],l[1],l[0]-z[0],l[1]-z[1])},pick(l,z,ca,na,Va){const Ya=this.context();return Rg[l.marktype].pick.call(this,Ya,l,z,ca,na,Va)}});var Ch="undefined"!==typeof window?window.devicePixelRatio||1:1;const Gg=pd.prototype;k.inherits(Mc,pd,{initialize(l,z,ca,na,Va,Ya){this._options=Ya||{};this._canvas=this._options.externalContext?null:P.canvas(1,1,this._options.type);l&&this._canvas&&(Sa(l,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return Gg.initialize.call(this,l,z,ca,na,Va)},resize(l,z,ca,na){Gg.resize.call(this,l,z,ca,na);if(this._canvas){l=this._canvas;z=this._width;ca=this._height;na=this._origin;var Va=this._scale,Ya=this._options.context;const ac="undefined"!==typeof HTMLElement&&l instanceof HTMLElement&&null!=l.parentNode,Tb=l.getContext("2d");Va=ac?Ch:Va;l.width=z*Va;l.height=ca*Va;for(var Gb in Ya)Tb[Gb]=Ya[Gb];ac&&1!==Va&&(l.style.width=z+"px",l.style.height=ca+"px");Tb.pixelRatio=
Va;Tb.setTransform(Va,0,0,Va,Va*na[0],Va*na[1])}else(Gb=this._options.externalContext)||k.error("CanvasRenderer is missing a valid canvas or context"),Gb.scale(this._scale,this._scale),Gb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(l){const z=this._tempb.clear().union(l.bounds);for(l=l.mark.group;l;)z.translate(l.x||0,l.y||0),l=l.mark.group;
this._dirty.union(z)},_render(l){const z=this.context(),ca=this._origin,na=this._width,Va=this._height,Ya=this._dirty;var Gb=(new Na).set(0,0,na,Va).translate(-ca[0],-ca[1]);z.save();this._redraw||Ya.empty()?Gb=(this._redraw=!1,Gb.expand(1)):(Gb=Gb.intersect(Ya),Gb.expand(1).round(),z.pixelRatio%1&&Gb.scale(z.pixelRatio).round().scale(1/z.pixelRatio),Gb.translate(-(ca[0]%1),-(ca[1]%1)),z.beginPath(),z.rect(Gb.x1,Gb.y1,Gb.width(),Gb.height()),z.clip());this.clear(-ca[0],-ca[1],na,Va);this.draw(z,l,
Gb);z.restore();Ya.clear();return this},draw(l,z,ca){const na=Rg[z.marktype];if(z.clip){var Va=z.clip;l.save();k.isFunction(Va)?(l.beginPath(),Va(l),l.clip()):Ud(l,z.group)}na.draw.call(this,l,z,ca);z.clip&&l.restore()},clear(l,z,ca,na){const Va=this._options,Ya=this.context();"pdf"===Va.type||Va.externalContext||Ya.clearRect(l,z,ca,na);null!=this._bgcolor&&(Ya.fillStyle=this._bgcolor,Ya.fillRect(l,z,ca,na))}});const Nh=(l,z)=>ca=>{let na=ca.target.__data__;na=Array.isArray(na)?na[0]:na;ca.vegaType=
ca.type;z.call(l._obj,ca,na)};k.inherits(Uc,Ac,{initialize(l,z,ca){let na=this._svg;na&&(na.removeEventListener("click",this._hrefHandler),na.removeEventListener("mousemove",this._tooltipHandler),na.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=na=l&&J(l,"svg"))na.addEventListener("click",this._hrefHandler),na.addEventListener("mousemove",this._tooltipHandler),na.addEventListener("mouseout",this._tooltipHandler);return Ac.prototype.initialize.call(this,l,z,ca)},canvas(){return this._svg},
on(l,z){const ca=this.eventName(l),na=this._handlers;0>this._handlerIndex(na[ca],l,z)&&(l={type:l,handler:z,listener:Nh(this,z)},(na[ca]||(na[ca]=[])).push(l),this._svg&&this._svg.addEventListener(ca,l.listener));return this},off(l,z){const ca=this.eventName(l),na=this._handlers[ca];l=this._handlerIndex(na,l,z);0<=l&&(this._svg&&this._svg.removeEventListener(ca,na[l].listener),na.splice(l,1));return this}});const Dh=(l,z,ca)=>({role:l,["aria-roledescription"]:z,["aria-label"]:ca||void 0}),Hg=k.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),
Ng={axis:{desc:"axis",caption:function(l){var z=l.datum;const ca=l.orient,na=z.title?Cd(l):null;var Va=l.context;z=Va.scales[z.scale].value;Va=Va.dataflow.locale();const Ya=z.type;return`${"left"===ca||"right"===ca?"Y":"X"}-axis`+(na?` titled '${na}'`:"")+` for a ${Fb.isDiscrete(Ya)?"discrete":Ya} scale`+` with ${Fb.domainCaption(Va,z,l)}`}},legend:{desc:"legend",caption:function(l){var z=l.datum;const ca=z.title?Cd(l):null,na=`${z.type||""} legend`.trim();var Va=z.scales;z=Object.keys(Va);var Ya=
l.context;Va=Ya.scales[Va[z[0]]].value;Ya=Ya.dataflow.locale();return(na.length?na[0].toUpperCase()+na.slice(1):na)+(ca?` titled '${ca}'`:"")+` for ${be(z)}`+` with ${Fb.domainCaption(Ya,Va,l)}`}},"title-text":{desc:"title",caption:l=>`Title text '${k.array(l.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:l=>`Subtitle text '${k.array(l.text).join(" ")}'`}},Yh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},fh=l=>(l+"").replace(/&/g,"\x26amp;").replace(/</g,
"\x26lt;").replace(/>/g,"\x26gt;"),Zg=l=>Me(ve(),l)+"",Yf={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Sg={blend:"mix-blend-mode"},$g={fill:"none","stroke-miterlimit":10},qf=xg.xmlns,ei=pd.prototype;k.inherits($e,pd,{initialize(l,z,ca,na,Va){this._defs=
{};this._clearDefs();l&&(this._svg=fa(l,0,"svg",qf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",qf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",xg["xmlns:xlink"]),this._svg.setAttribute("version",xg.version),this._svg.setAttribute("class","marks"),Sa(l,1),this._root=fa(this._svg,0,"g",qf),Jd(this._root,$g),Sa(this._svg,1));this.background(this._bgcolor);return ei.initialize.call(this,l,z,ca,na,Va)},background(l){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
l);return ei.background.apply(this,arguments)},resize(l,z,ca,na){ei.resize.call(this,l,z,ca,na);this._svg&&(Jd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const l=this._svg,z=this._bgcolor;if(!l)return null;let ca;z&&(l.removeAttribute("style"),ca=fa(l,0,"rect",qf),Jd(ca,{width:this._width,height:this._height,
fill:z}));const na=Zg(l);z&&(l.removeChild(ca),this._svg.style.setProperty("background-color",z));return na},_render(l){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,l),Sa(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(l){l.dirty!==this._dirtyID&&(l.dirty=this._dirtyID,this._dirty.push(l))},isDirty(l){return this._dirtyAll||!l._svg||!l._svg.ownerSVGElement||l.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const l=this._dirty;if(!l.length||
!this._dirtyID)return!0;const z=++this._dirtyID;let ca;let na,Va,Ya,Gb;Ya=0;for(Gb=l.length;Ya<Gb;++Ya){ca=l[Ya];var ac=ca.mark;ac.marktype!==na&&(na=ac.marktype,Va=Rg[na]);ac.zdirty&&ac.dirty!==z&&(this._dirtyAll=!1,sf(ca,z),ac.items.forEach(Tb=>{Tb.dirty=z}));ac.zdirty||(ca.exit?(Va.nested&&ac.items.length?(ac=ac.items[0],ac._svg&&this._update(Va,ac._svg,ac)):ca._svg&&(ac=ca._svg.parentNode)&&ac.removeChild(ca._svg),ca._svg=null):(ca=Va.nested?ac.items[0]:ca,ca._update!==z&&(ca._svg&&ca._svg.ownerSVGElement?
this._update(Va,ca._svg,ca):(this._dirtyAll=!1,sf(ca,z)),ca._update=z)))}return!this._dirtyAll},mark(l,z,ca){if(!this.isDirty(z))return z._svg;const na=this._svg,Va=Rg[z.marktype];var Ya=!1===z.interactive?"none":null;const Gb="g"===Va.tag,ac=Fc(z,l,ca,"g",na);ac.setAttribute("class",cc(z));l=td(z);for(const Xc in l)Zd(ac,Xc,l[Xc]);Gb||Zd(ac,"pointer-events",Ya);Zd(ac,"clip-path",z.clip?Pd(this,z,z.group):null);let Tb=null,Bd=0;Ya=Xc=>{const Rd=this.isDirty(Xc),te=Fc(Xc,ac,Tb,Va.tag,na);Rd&&(this._update(Va,
te,Xc),Gb&&nd(this,te,Xc));Tb=te;++Bd};Va.nested?z.items.length&&Ya(z.items[0]):ec(z,Ya);Sa(ac,Bd);return ac},_update(l,z,ca){Og=z;bg=z.__values__;Qc(bd,ca);l.attr(bd,ca,this);const na=S[l.type];na&&na.call(this,l,z,ca);Og&&this.style(Og,ca)},style(l,z){if(null!=z){for(const ca in Yf){let na="font"===ca?De(z):z[ca];if(na===bg[ca])continue;const Va=Yf[ca];null==na?l.removeAttribute(Va):(na&&na.gradient&&(na=bc(na,this._defs.gradient,$d())),l.setAttribute(Va,na+""));bg[ca]=na}for(const ca in Sg)Gc(l,
Sg[ca],z[ca])}},defs(){const l=this._svg,z=this._defs;let ca=z.el;var na=0;for(var Va in z.gradient){ca||(z.el=ca=fa(l,1,"defs",qf));var Ya=void 0;let Tb,Bd;var Gb=ca,ac=z.gradient[Va];"radial"===ac.gradient?(Ya=fa(Gb,na++,"pattern",qf),Jd(Ya,{id:"p_"+ac.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Ya=fa(Ya,0,"rect",qf),Jd(Ya,{width:1,height:1,fill:`url(${$d()}#${ac.id})`}),Gb=fa(Gb,na++,"radialGradient",qf),Jd(Gb,{id:ac.id,fx:ac.x1,fy:ac.y1,fr:ac.r1,cx:ac.x2,
cy:ac.y2,r:ac.r2})):(Gb=fa(Gb,na++,"linearGradient",qf),Jd(Gb,{id:ac.id,x1:ac.x1,x2:ac.x2,y1:ac.y1,y2:ac.y2}));Bd=0;for(Tb=ac.stops.length;Bd<Tb;++Bd)Ya=fa(Gb,Bd,"stop",qf),Ya.setAttribute("offset",ac.stops[Bd].offset),Ya.setAttribute("stop-color",ac.stops[Bd].color);Sa(Gb,Bd)}for(const Tb in z.clipping)ca||(z.el=ca=fa(l,1,"defs",qf)),Gb=ca,ac=z.clipping[Tb],Va=na,Gb=fa(Gb,Va,"clipPath",qf),Gb.setAttribute("id",ac.id),ac.path?(na=fa(Gb,0,"path",qf),na.setAttribute("d",ac.path)):(na=fa(Gb,0,"rect",
qf),Jd(na,{x:0,y:0,width:ac.width,height:ac.height})),Sa(Gb,1),na=Va+1;ca&&(0===na?(l.removeChild(ca),z.el=null):Sa(ca,na))},_clearDefs(){const l=this._defs;l.gradient={};l.clipping={}}});let Og=null,bg=null;const S={group(l,z,ca){const na=Og=z.childNodes[2];bg=na.__values__;l.foreground(bd,ca,this);bg=z.__values__;Og=z.childNodes[1];l.content(bd,ca,this);z=Og=z.childNodes[0];l.background(bd,ca,this);l=!1===ca.mark.interactive?"none":null;l!==bg.events&&(Zd(na,"pointer-events",l),Zd(z,"pointer-events",
l),bg.events=l);ca.strokeForeground&&ca.stroke?(l=ca.fill,Zd(na,"display",null),this.style(z,ca),Zd(z,"stroke",null),l&&(ca.fill=null),bg=na.__values__,this.style(na,ca),l&&(ca.fill=l),Og=null):Zd(na,"display","none")},image(l,z,ca){!1===ca.smooth?(Gc(z,"image-rendering","optimizeSpeed"),Gc(z,"image-rendering","pixelated")):Gc(z,"image-rendering",null)},text(l,z,ca){l=Xd(ca);let na,Va,Ya;k.isArray(l)?(na=l.map(Gb=>Nd(ca,Gb)),l=na.join("\n"),l!==bg.text&&(Sa(z,0),Va=z.ownerDocument,Ya=Fd(ca),na.forEach((Gb,
ac)=>{const Tb=$b(Va,"tspan",qf);Tb.__data__=ca;Tb.textContent=Gb;ac&&(Tb.setAttribute("x",0),Tb.setAttribute("dy",Ya));z.appendChild(Tb)}),bg.text=l)):(na=Nd(ca,l),na!==bg.text&&(z.textContent=na,bg.text=na));Zd(z,"font-family",De(ca));Zd(z,"font-size",Gd(ca)+"px");Zd(z,"font-style",ca.fontStyle);Zd(z,"font-variant",ca.fontVariant);Zd(z,"font-weight",ca.fontWeight)}};k.inherits(ke,pd,{svg(){return this._text},_render(l){const z=ve();z.open("svg",k.extend({},xg,{class:"marks",width:this._width*this._scale,
height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ca=this._bgcolor;ca&&"transparent"!==ca&&"none"!==ca&&z.open("rect",{width:this._width,height:this._height,fill:ca}).close();z.open("g",$g,{transform:"translate("+this._origin+")"});this.mark(z,l);z.close();this.defs(z);this._text=z.close()+"";return this},mark(l,z){const ca=Rg[z.marktype],na=ca.tag,Va=[Qc,ca.attr];l.open("g",{"class":cc(z),"clip-path":z.clip?Pd(this,z,z.group):null},td(z),{"pointer-events":"g"!==
na&&!1===z.interactive?"none":null});const Ya=Gb=>{const ac=this.href(Gb);ac&&l.open("a",ac);l.open(na,this.attr(z,Gb,Va,"g"!==na?na:null));if("text"===na){var Tb=Xd(Gb);if(k.isArray(Tb)){var Bd={x:0,dy:Fd(Gb)};for(var Xc=0;Xc<Tb.length;++Xc)l.open("tspan",Xc?Bd:null).text(Nd(Gb,Tb[Xc])).close()}else l.text(Nd(Gb,Tb))}else"g"===na&&(Tb=Gb.strokeForeground,Bd=Gb.fill,Xc=Gb.stroke,Tb&&Xc&&(Gb.stroke=null),l.open("path",this.attr(z,Gb,ca.background,"bgrect")).close(),l.open("g",this.attr(z,Gb,ca.content)),
ec(Gb,Rd=>this.mark(l,Rd)),l.close(),Tb&&Xc?(Bd&&(Gb.fill=null),Gb.stroke=Xc,l.open("path",this.attr(z,Gb,ca.foreground,"bgrect")).close(),Bd&&(Gb.fill=Bd)):l.open("path",this.attr(z,Gb,ca.foreground,"bgfore")).close());l.close();ac&&l.close()};ca.nested?z.items&&z.items.length&&Ya(z.items[0]):ec(z,Ya);return l.close()},href(l){const z=l.href;if(z){if(l=this._hrefs&&this._hrefs[z])return l;this.sanitizeURL(z).then(ca=>{ca["xlink:href"]=ca.href;ca.href=null;(this._hrefs||(this._hrefs={}))[z]=ca})}return null},
attr(l,z,ca,na){const Va={},Ya=(Gb,ac,Tb,Bd)=>{Va[Bd||Gb]=ac};Array.isArray(ca)?ca.forEach(Gb=>Gb(Ya,z,this)):ca(Ya,z,this);na&&O(Va,z,l,na,this._defs);return Va},defs(l){var z=this._defs.gradient;const ca=this._defs.clipping;if(0!==Object.keys(z).length+Object.keys(ca).length){l.open("defs");for(const Va in z){var na=z[Va];const Ya=na.stops;"radial"===na.gradient?(l.open("pattern",{id:"p_"+Va,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),l.open("rect",{width:"1",
height:"1",fill:"url(#"+Va+")"}).close(),l.close(),l.open("radialGradient",{id:Va,fx:na.x1,fy:na.y1,fr:na.r1,cx:na.x2,cy:na.y2,r:na.r2})):l.open("linearGradient",{id:Va,x1:na.x1,x2:na.x2,y1:na.y1,y2:na.y2});for(na=0;na<Ya.length;++na)l.open("stop",{offset:Ya[na].offset,"stop-color":Ya[na].color}).close();l.close()}for(const Va in ca)z=ca[Va],l.open("clipPath",{id:Va}),z.path?l.open("path",{d:z.path}).close():l.open("rect",{x:0,y:0,width:z.width,height:z.height}).close(),l.close();l.close()}}});const xa=
{};xa.canvas=xa.png={renderer:Mc,headless:Mc,handler:ee};xa.svg={renderer:$e,headless:ke,handler:Uc};xa.none={};const Ta=new Na;v.Bounds=Na;v.CanvasHandler=ee;v.CanvasRenderer=Mc;v.Gradient=function(l,z){var ca=[],na;return na={gradient:"linear",x1:l?l[0]:0,y1:l?l[1]:0,x2:z?z[0]:1,y2:z?z[1]:0,stops:ca,stop:function(Va,Ya){ca.push({offset:Va,color:Ya});return na}}};v.GroupItem=qb;v.Handler=Ac;v.Item=Ub;v.Marks=Rg;v.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};v.Renderer=pd;v.ResourceLoader=
Sb;v.SVGHandler=Uc;v.SVGRenderer=$e;v.SVGStringRenderer=ke;v.Scenegraph=gc;v.boundClip=function(l){const z=l.clip;if(k.isFunction(z))z(dc(Ta.clear()));else if(z)Ta.set(0,0,l.group.width,l.group.height);else return;l.bounds.intersect(Ta)};v.boundContext=dc;v.boundItem=nf;v.boundMark=U;v.boundStroke=ic;v.domChild=fa;v.domClear=Sa;v.domCreate=$b;v.domFind=J;v.font=gf;v.fontFamily=De;v.fontSize=Gd;v.intersect=function(l,z,ca){const na=[];z=(new Na).union(z);const Va=l.marktype;return Va?da(l,z,ca,na):
"group"===Va?H(l,z,ca,na):k.error("Intersect scene must be mark node or group item.")};v.intersectBoxLine=vb;v.intersectPath=Md;v.intersectPoint=ud;v.intersectRule=gb;v.lineHeight=Fd;v.markup=ve;v.multiLineOffset=function(l){const z=Xd(l);return(k.isArray(z)?z.length-1:0)*Fd(l)};v.path=Yb;v.pathCurves=Aa;v.pathEqual=Ja;v.pathParse=Y;v.pathRectangle=qc;v.pathRender=L;v.pathSymbols=La;v.pathTrail=xc;v.point=Jc;v.renderModule=function(l,z){l=String(l||"").toLowerCase();return 1<arguments.length?(xa[l]=
z,this):xa[l]};v.resetSVGClipId=function(){Re=1};v.resetSVGDefIds=function(){Re=1;fc=0};v.sceneEqual=la;v.sceneFromJSON=cb;v.scenePickVisit=jc;v.sceneToJSON=ua;v.sceneVisit=ec;v.sceneZOrder=oc;v.serializeXML=Zg;v.textMetrics=th})};
shadow$provide[34]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(28),Db(33),Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega))})(this,function(v,k,P,jb){function Fb(D){k.Transform.call(this,null,D)}function bc(D,I,V){return I(D.bounds.clear(),D,V)}function vc(D){k.Transform.call(this,
0,D)}function Bc(D){return D._signals[":vega_identifier:"]||(D._signals[":vega_identifier:"]=D.add(0))}function uc(D){k.Transform.call(this,null,D)}function Ab(D){const I=D.groups;D=D.parent;return I&&1===I.size?I.get(Object.keys(I.object)[0]):I&&D?I.lookup(D):null}function kc(D){k.Transform.call(this,null,D)}function Yb(D){k.Transform.call(this,null,D)}function Ua(D,I,V){return D[I]===V?0:(D[I]=V,1)}function tb(D){D=D.items[0].orient;return"left"===D||"right"===D}function Jb(D,I,V,Aa){I=I.items[0];
var Y=I.datum,t=null!=I.translate?I.translate:.5,L=I.orient,va=+Y.grid;var La=[Y.ticks?va++:-1,Y.labels?va++:-1,va+ +Y.domain];va=I.range;var Wa=I.offset,$a=I.position,X=I.minExtent,Ca=I.maxExtent;Y=Y.title&&I.items[La[2]].items[0];var Xa=I.titlePadding,Ib=I.bounds,yc=Y&&P.multiLineOffset(Y),qc;C.clear().union(Ib);Ib.clear();-1<(qc=La[0])&&Ib.union(I.items[qc].bounds);-1<(qc=La[1])&&Ib.union(I.items[qc].bounds);switch(L){case "top":V=$a||0;Aa=-Wa;X=Math.max(X,Math.min(Ca,-Ib.y1));Ib.add(0,-X).add(va,
0);Y&&Kb(D,Y,X,Xa,yc,0,-1,Ib);break;case "left":V=-Wa;Aa=$a||0;X=Math.max(X,Math.min(Ca,-Ib.x1));Ib.add(-X,0).add(0,va);Y&&Kb(D,Y,X,Xa,yc,1,-1,Ib);break;case "right":V+=Wa;Aa=$a||0;X=Math.max(X,Math.min(Ca,Ib.x2));Ib.add(0,0).add(X,va);Y&&Kb(D,Y,X,Xa,yc,1,1,Ib);break;case "bottom":V=$a||0;Aa+=Wa;X=Math.max(X,Math.min(Ca,Ib.y2));Ib.add(0,0).add(va,X);Y&&Kb(D,Y,X,Xa,0,0,1,Ib);break;default:V=I.x,Aa=I.y}P.boundStroke(Ib.translate(V,Aa),I);Ua(I,"x",V+t)|Ua(I,"y",Aa+t)&&(I.bounds=C,D.dirty(I),I.bounds=
Ib,D.dirty(I));return I.mark.bounds.clear().union(Ib)}function Kb(D,I,V,Aa,Y,t,L,va){const La=I.bounds;I.auto&&(V=L*(V+Y+Aa),Y=Aa=0,D.dirty(I),t?Aa=(I.x||0)-(I.x=V):Y=(I.y||0)-(I.y=V),I.mark.bounds.clear().union(La.translate(-Aa,-Y)),D.dirty(I));va.union(La)}function Cb(D){return(new P.Bounds).set(0,0,D.width||0,D.height||0)}function Ob(D){const I=D.bounds.clone();return I.empty()?I.set(0,0,0,0):I.translate(-(D.x||0),-(D.y||0))}function ab(D,I,V){D=jb.isObject(D)?D[I]:D;return null!=D?D:void 0!==
V?V:0}function pb(D){return 0>D?Math.ceil(-D):0}function Qa(D,I,V){var Aa=!V.nodirty,Y="flush"===V.bounds?Cb:Ob,t=C.set(0,0,0,0),L=ab(V.align,"column"),va=ab(V.align,"row"),La=ab(V.padding,"column"),Wa=ab(V.padding,"row"),$a=V.columns||I.length,X=0>=$a?1:Math.ceil(I.length/$a),Ca=I.length,Xa=Array(Ca),Ib=Array($a),yc=0,qc=Array(Ca),xc=Array(X),dd=0,Zb=Array(Ca),Rc=Array(Ca),Pd=Array(Ca),Na,Ub,qb;for(Na=0;Na<$a;++Na)Ib[Na]=0;for(Na=0;Na<X;++Na)xc[Na]=0;for(Na=0;Na<Ca;++Na){var Sb=I[Na];var ic=Pd[Na]=
Y(Sb);Sb.x=Sb.x||0;Zb[Na]=0;Sb.y=Sb.y||0;Rc[Na]=0;Sb=Na%$a;var dc=~~(Na/$a);yc=Math.max(yc,Ub=Math.ceil(ic.x2));dd=Math.max(dd,qb=Math.ceil(ic.y2));Ib[Sb]=Math.max(Ib[Sb],Ub);xc[dc]=Math.max(xc[dc],qb);Xa[Na]=La+pb(ic.x1);qc[Na]=Wa+pb(ic.y1);Aa&&D.dirty(I[Na])}for(Na=0;Na<Ca;++Na)0===Na%$a&&(Xa[Na]=0),Na<$a&&(qc[Na]=0);if("each"===L)for(Sb=1;Sb<$a;++Sb){Y=0;for(Na=Sb;Na<Ca;Na+=$a)Y<Xa[Na]&&(Y=Xa[Na]);for(Na=Sb;Na<Ca;Na+=$a)Xa[Na]=Y+Ib[Sb-1]}else if("all"===L){for(Na=Y=0;Na<Ca;++Na)Na%$a&&Y<Xa[Na]&&
(Y=Xa[Na]);for(Na=0;Na<Ca;++Na)Na%$a&&(Xa[Na]=Y+yc)}else for(L=!1,Sb=1;Sb<$a;++Sb)for(Na=Sb;Na<Ca;Na+=$a)Xa[Na]+=Ib[Sb-1];if("each"===va)for(dc=1;dc<X;++dc){Y=0;Na=dc*$a;for(Sb=Na+$a;Na<Sb;++Na)Y<qc[Na]&&(Y=qc[Na]);for(Na=dc*$a;Na<Sb;++Na)qc[Na]=Y+xc[dc-1]}else if("all"===va){Y=0;for(Na=$a;Na<Ca;++Na)Y<qc[Na]&&(Y=qc[Na]);for(Na=$a;Na<Ca;++Na)qc[Na]=Y+dd}else for(va=!1,dc=1;dc<X;++dc)for(Na=dc*$a,Sb=Na+$a;Na<Sb;++Na)qc[Na]+=xc[dc-1];for(Na=dc=0;Na<Ca;++Na)dc=Xa[Na]+(Na%$a?dc:0),Zb[Na]+=dc-I[Na].x;
for(Sb=0;Sb<$a;++Sb)for(Xa=0,Na=Sb;Na<Ca;Na+=$a)Xa+=qc[Na],Rc[Na]+=Xa-I[Na].y;if(L&&ab(V.center,"column")&&1<X)for(Na=0;Na<Ca;++Na)ic="all"===L?yc:Ib[Na%$a],dc=ic-Pd[Na].x2-I[Na].x-Zb[Na],0<dc&&(Zb[Na]+=dc/2);if(va&&ab(V.center,"row")&&1!==$a)for(Na=0;Na<Ca;++Na)ic="all"===va?dd:xc[~~(Na/$a)],Xa=ic-Pd[Na].y2-I[Na].y-Rc[Na],0<Xa&&(Rc[Na]+=Xa/2);for(Na=0;Na<Ca;++Na)t.union(Pd[Na].translate(Zb[Na],Rc[Na]));dc=ab(V.anchor,"x");Xa=ab(V.anchor,"y");switch(ab(V.anchor,"column")){case "end":dc-=t.width();
break;case "middle":dc-=t.width()/2}switch(ab(V.anchor,"row")){case "end":Xa-=t.height();break;case "middle":Xa-=t.height()/2}dc=Math.round(dc);Xa=Math.round(Xa);t.clear();for(Na=0;Na<Ca;++Na)I[Na].mark.bounds.clear();for(Na=0;Na<Ca;++Na)Sb=I[Na],Sb.x+=Zb[Na]+=dc,Sb.y+=Rc[Na]+=Xa,t.union(Sb.mark.bounds.union(Sb.bounds.translate(Zb[Na],Rc[Na]))),Aa&&D.dirty(Sb);return t}function Da(D,I){return"x1"===I?D.x||0:"y1"===I?D.y||0:"x2"===I?(D.x||0)+(D.width||0):"y2"===I?(D.y||0)+(D.height||0):void 0}function Ka(D,
I){return D.bounds[I]}function lb(D,I,V,Aa,Y,t,L,va,La,Wa,$a,X,Ca,Xa){var Ib=V.length,yc=Aa=0,qc,xc;if(!Ib)return Aa;for(qc=$a;qc<Ib;qc+=X)V[qc]&&(Aa=L(Aa,La(V[qc],Wa)));if(!I.length)return Aa;I.length>Y&&(D.warn("Grid headers exceed limit: "+Y),I=I.slice(0,Y));Aa+=t;Y=0;for(t=I.length;Y<t;++Y)D.dirty(I[Y]),I[Y].mark.bounds.clear();qc=$a;Y=0;for(t=I.length;Y<t;++Y,qc+=X){La=I[Y];$a=La.mark.bounds;for(Ib=qc;0<=Ib&&null==(xc=V[Ib]);Ib-=Ca);if(va){Ib=null==Xa?xc.x:Math.round(xc.bounds.x1+Xa*xc.bounds.width());
var dd=Aa}else Ib=Aa,dd=null==Xa?xc.y:Math.round(xc.bounds.y1+Xa*xc.bounds.height());$a.union(La.bounds.translate(Ib-(La.x||0),dd-(La.y||0)));La.x=Ib;La.y=dd;D.dirty(La);yc=L(yc,$a[Wa])}return yc}function mb(D,I,V,Aa,Y,t){if(I){D.dirty(I);var L=V;Aa?L=Math.round(Y.x1+t*Y.width()):V=Math.round(Y.y1+t*Y.height());I.bounds.translate(L-(I.x||0),V-(I.y||0));I.mark.bounds.clear().union(I.bounds);I.x=L;I.y=V;D.dirty(I)}}function Pa(D,I){const V=D[I]||{};return(Aa,Y)=>null!=V[Aa]?V[Aa]:null!=D[Aa]?D[Aa]:
Y}function wb(D,I){let V=-Infinity;D.forEach(Aa=>{null!=Aa.offset&&(V=Math.max(V,Aa.offset))});return-Infinity<V?V:I}function sb(D,I,V,Aa,Y,t,L){const va=Pa(V,I);V=wb(D,va("offset",0));const La=va("anchor","start"),Wa="end"===La?1:"middle"===La?.5:0;D={align:"each",bounds:va("bounds","flush"),columns:"vertical"===va("direction")?1:D.length,padding:va("margin",8),center:va("center"),nodirty:!0};switch(I){case "left":D.anchor={x:Math.floor(Aa.x1)-V,column:"end",y:Wa*(L||Aa.height()+2*Aa.y1),row:La};
break;case "right":D.anchor={x:Math.ceil(Aa.x2)+V,y:Wa*(L||Aa.height()+2*Aa.y1),row:La};break;case "top":D.anchor={y:Math.floor(Y.y1)-V,row:"end",x:Wa*(t||Y.width()+2*Y.x1),column:La};break;case "bottom":D.anchor={y:Math.ceil(Y.y2)+V,x:Wa*(t||Y.width()+2*Y.x1),column:La};break;case "top-left":D.anchor={x:V,y:V};break;case "top-right":D.anchor={x:t-V,y:V,column:"end"};break;case "bottom-left":D.anchor={x:V,y:L-V,row:"end"};break;case "bottom-right":D.anchor={x:t-V,y:L-V,column:"end",row:"end"}}return D}
function Pb(D,I){I=I.items[0];var V=I.datum,Aa=I.orient,Y=I.bounds,t=I.x,L=I.y;I._bounds?I._bounds.clear().union(Y):I._bounds=Y.clone();Y.clear();var va=I.items[0].items[0];var La=I.padding,Wa=La-va.x,$a=La-va.y;if(I.datum.title){var X=I.items[1].items[0],Ca=X.anchor,Xa=I.titlePadding||0,Ib=La-X.x,yc=La-X.y;switch(X.orient){case "left":Wa+=Math.ceil(X.bounds.width())+Xa;break;case "right":case "bottom":break;default:$a+=X.bounds.height()+Xa}(Wa||$a)&&qa(D,va,Wa,$a);switch(X.orient){case "left":yc+=
nb(I,va,X,Ca,1,1);break;case "right":Ib+=nb(I,va,X,"end",0,0)+Xa;yc+=nb(I,va,X,Ca,1,1);break;case "bottom":Ib+=nb(I,va,X,Ca,0,0);yc+=nb(I,va,X,"end",-1,0,1)+Xa;break;default:Ib+=nb(I,va,X,Ca,0,0)}(Ib||yc)&&qa(D,X,Ib,yc);0>(Ib=Math.round(X.bounds.x1-La))&&(qa(D,va,-Ib,0),qa(D,X,-Ib,0))}else(Wa||$a)&&qa(D,va,Wa,$a);Y=Vb(I,Y);D=2*I.padding;va=2*I.padding;Y.empty()||(D=Math.ceil(Y.width()+D),va=Math.ceil(Y.height()+va));"symbol"===V.type&&Z(I.items[0].items[0].items[0].items);"none"!==Aa&&(I.x=t=0,I.y=
L=0);I.width=D;I.height=va;P.boundStroke(Y.set(t,L,t+D,L+va),I);I.mark.bounds.clear().union(Y);return I}function Vb(D,I){D.items.forEach(V=>I.union(V.bounds));I.x1=D.padding;I.y1=D.padding;return I}function nb(D,I,V,Aa,Y,t,L){const va=V.datum.vgrad;D=("symbol"===D.datum.type||!t&&va||L?I:I.items[0]).bounds[Y?"y2":"x2"]-D.padding;I=va&&t?D:0;t=va&&t?0:D;V=0>=Y?0:P.multiLineOffset(V);return Math.round("start"===Aa?I:"end"===Aa?t-V:.5*(D-V))}function qa(D,I,V,Aa){I.x+=V;I.y+=Aa;I.bounds.translate(V,
Aa);I.mark.bounds.translate(V,Aa);D.dirty(I)}function Z(D){const I=D.reduce((V,Aa)=>{V[Aa.column]=Math.max(Aa.bounds.x2-Aa.x,V[Aa.column]||0);return V},{});D.forEach(V=>{V.width=I[V.column];V.height=V.bounds.y2-V.y})}function Fa(D,I,V,Aa,Y){var t=I.items[0],L=t.orient,va=t.anchor,La=t.offset,Wa=t.padding,$a=t.items[0].items[0],X=t.items[1]&&t.items[1].items[0],Ca="left"===L||"right"===L?Aa:V,Xa=0,Ib=V=0;"group"!==t.frame?"left"===L?(Xa=Y.y2,Ca=Y.y1):"right"===L?(Xa=Y.y1,Ca=Y.y2):(Xa=Y.x1,Ca=Y.x2):
"left"===L&&(Xa=Aa,Ca=0);Aa="start"===va?Xa:"end"===va?Ca:(Xa+Ca)/2;if(X&&X.text){switch(L){case "top":case "bottom":Ib=$a.bounds.height()+Wa;break;case "left":V=$a.bounds.width()+Wa;break;case "right":V=-$a.bounds.width()-Wa}C.clear().union(X.bounds);C.translate(V-(X.x||0),Ib-(X.y||0));Ua(X,"x",V)|Ua(X,"y",Ib)&&(D.dirty(X),X.bounds.clear().union(C),X.mark.bounds.clear().union(C),D.dirty(X));C.clear().union(X.bounds)}else C.clear();C.union($a.bounds);switch(L){case "top":L=Aa;Y=Y.y1-C.height()-La;
break;case "left":L=Y.x1-C.width()-La;Y=Aa;break;case "right":L=Y.x2+C.width()+La;Y=Aa;break;case "bottom":L=Aa;Y=Y.y2+La;break;default:L=t.x,Y=t.y}Ua(t,"x",L)|Ua(t,"y",Y)&&(C.translate(L,Y),D.dirty(t),t.bounds.clear().union(C),I.bounds.clear().union(C),D.dirty(t));return t.bounds}function Ga(D){k.Transform.call(this,null,D)}function eb(D){return D&&"legend-entry"!==D.mark.role}function ba(D,I,V){var Aa=I.items,Y=Math.max(0,I.width||0),t=Math.max(0,I.height||0),L=(new P.Bounds).set(0,0,Y,t),va=L.clone(),
La=L.clone(),Wa=[],$a,X;var Ca=0;for(X=Aa.length;Ca<X;++Ca){var Xa=Aa[Ca];switch(Xa.role){case "axis":var Ib=tb(Xa)?va:La;Ib.union(Jb(D,Xa,Y,t));break;case "title":var yc=Xa;break;case "legend":Wa.push(Pb(D,Xa));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":va.union(Xa.bounds);La.union(Xa.bounds);break;default:L.union(Xa.bounds)}}if(Wa.length){const qc={};Wa.forEach(xc=>{$a=xc.orient||"right";"none"!==
$a&&(qc[$a]||(qc[$a]=[])).push(xc)});for(const xc in qc)Aa=qc[xc],Qa(D,Aa,sb(Aa,xc,V.legends,va,La,Y,t));Wa.forEach(xc=>{const dd=xc.bounds;dd.equals(xc._bounds)||(xc.bounds=xc._bounds,D.dirty(xc),xc.bounds=dd,D.dirty(xc));if(!V.autosize||"fit"!==V.autosize.type&&"fit-x"!==V.autosize.type&&"fit-y"!==V.autosize.type)L.union(dd);else switch(xc.orient){case "left":case "right":L.add(dd.x1,0).add(dd.x2,0);break;case "top":case "bottom":L.add(0,dd.y1).add(0,dd.y2)}})}L.union(va).union(La);yc&&L.union(Fa(D,
yc,Y,t,L));I.clip&&L.set(0,0,I.width||0,I.height||0);oa(D,I,L,V)}function oa(D,I,V,Aa){Aa=Aa.autosize||{};const Y=Aa.type;if(!(1>D._autosize)&&Y){var t=D._width,L=D._height,va=Math.max(0,I.width||0),La=Math.max(0,Math.ceil(-V.x1));I=Math.max(0,I.height||0);var Wa=Math.max(0,Math.ceil(-V.y1)),$a=Math.max(0,Math.ceil(V.x2-va));V=Math.max(0,Math.ceil(V.y2-I));if("padding"===Aa.contains){const X=D.padding();t-=X.left+X.right;L-=X.top+X.bottom}"none"===Y?(Wa=La=0,va=t,I=L):"fit"===Y?(va=Math.max(0,t-La-
$a),I=Math.max(0,L-Wa-V)):"fit-x"===Y?(va=Math.max(0,t-La-$a),L=I+Wa+V):"fit-y"===Y?(t=va+La+$a,I=Math.max(0,L-Wa-V)):"pad"===Y&&(t=va+La+$a,L=I+Wa+V);D._resizeView(t,L,va,I,[La,Wa],Aa.resize)}}jb.inherits(Fb,k.Transform,{transform(D,I){const V=I.dataflow,Aa=D.mark,Y=Aa.marktype,t=P.Marks[Y],L=t.bound;let va=Aa.bounds,La;if(t.nested)Aa.items.length&&V.dirty(Aa.items[0]),va=bc(Aa,L),Aa.items.forEach(Wa=>{Wa.bounds.clear().union(va)});else if("group"===Y||D.modified())switch(I.visit(I.MOD,Wa=>V.dirty(Wa)),
va.clear(),Aa.items.forEach(Wa=>va.union(bc(Wa,L))),Aa.role){case "axis":case "legend":case "title":I.reflow()}else La=I.changed(I.REM),I.visit(I.ADD,Wa=>{va.union(bc(Wa,L))}),I.visit(I.MOD,Wa=>{La=La||va.alignsWith(Wa.bounds);V.dirty(Wa);va.union(bc(Wa,L))}),La&&(va.clear(),Aa.items.forEach(Wa=>va.union(Wa.bounds)));P.boundClip(Aa);return I.modifies("bounds")}});vc.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};jb.inherits(vc,k.Transform,{transform(D,
I){const V=Bc(I.dataflow),Aa=D.as;let Y=V.value;I.visit(I.ADD,t=>t[Aa]=t[Aa]||++Y);V.set(this.value=Y);return I}});jb.inherits(uc,k.Transform,{transform(D,I){let V=this.value;V||(V=I.dataflow.scenegraph().mark(D.markdef,Ab(D),D.index),V.group.context=D.context,D.context.group||(D.context.group=V.group),V.source=this.source,V.clip=D.clip,V.interactive=D.interactive,this.value=V);const Aa="group"===V.marktype?P.GroupItem:P.Item;I.visit(I.ADD,Y=>Aa.call(Y,V));if(D.modified("clip")||D.modified("interactive"))V.clip=
D.clip,V.interactive=!!D.interactive,V.zdirty=!0,I.reflow();V.items=I.source;return I}});const q={parity:D=>D.filter((I,V)=>V%2?I.opacity=0:1),greedy:(D,I)=>{let V;return D.filter((Aa,Y)=>Y&&M(V.bounds,Aa.bounds,I)?Aa.opacity=0:(V=Aa,1))}},M=(D,I,V)=>V>Math.max(I.x1-D.x2,D.x1-I.x2,I.y1-D.y2,D.y1-I.y2),Q=(D,I)=>{for(var V=1,Aa=D.length,Y=D[0].bounds;V<Aa;++V)if(M(Y,Y=D[V].bounds,I))return!0},g=D=>{D=D.bounds;return 1<D.width()&&1<D.height()},u=(D,I,V)=>{D=D.range();var Aa=new P.Bounds;"top"===I||"bottom"===
I?Aa.set(D[0],-Infinity,D[1],Infinity):Aa.set(-Infinity,D[0],Infinity,D[1]);Aa.expand(V||1);return Y=>Aa.encloses(Y.bounds)},m=D=>{D.forEach(I=>I.opacity=1);return D};jb.inherits(kc,k.Transform,{transform(D,I){const V=q[D.method]||q.parity,Aa=D.separation||0;let Y=I.materialize(I.SOURCE).source,t,L;if(Y&&Y.length){if(!D.method)return D.modified("method")&&(m(Y),I=I.reflow(D.modified()).modifies("opacity")),I;Y=Y.filter(g);if(Y.length){D.sort&&(Y=Y.slice().sort(D.sort));t=m(Y);I=I.reflow(D.modified()).modifies("opacity");
if(3<=t.length&&Q(t,Aa)){do t=V(t,Aa);while(3<=t.length&&Q(t,Aa));3>t.length&&!jb.peek(Y).opacity&&(1<t.length&&(jb.peek(t).opacity=0),jb.peek(Y).opacity=1)}D.boundScale&&0<=D.boundTolerance&&(L=u(D.boundScale,D.boundOrient,+D.boundTolerance),Y.forEach(La=>{L(La)||(La.opacity=0)}));var va=t[0].mark.bounds.clear();Y.forEach(La=>{La.opacity&&va.union(La.bounds)});return I}}}});jb.inherits(Yb,k.Transform,{transform(D,I){const V=I.dataflow;I.visit(I.ALL,Aa=>V.dirty(Aa));I.fields&&I.fields.zindex&&(D=
I.source&&I.source[0])&&(D.mark.zdirty=!0)}});const C=new P.Bounds,B=(D,I)=>Math.floor(Math.min(D,I)),A=(D,I)=>Math.ceil(Math.max(D,I));jb.inherits(Ga,k.Transform,{transform(D,I){const V=I.dataflow;D.mark.items.forEach(Aa=>{if(D.layout){var Y=D.layout;var t=Aa.items;for(var L=t.length,va=0,La,Wa,$a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};va<L;++va)if(La=t[va],Wa=La.items,"group"===La.marktype)switch(La.role){case "axis":case "legend":case "title":break;
case "row-header":$a.rowheaders.push(...Wa);break;case "row-footer":$a.rowfooters.push(...Wa);break;case "column-header":$a.colheaders.push(...Wa);break;case "column-footer":$a.colfooters.push(...Wa);break;case "row-title":$a.rowtitle=Wa[0];break;case "column-title":$a.coltitle=Wa[0];break;default:$a.marks.push(...Wa)}t=$a;Wa=t.marks;$a="flush"===Y.bounds?Da:Ka;L=Y.offset;var X=Y.columns||Wa.length,Ca=0>=X?1:Math.ceil(Wa.length/X),Xa=Ca*X;va=Qa(V,Wa,Y);va.empty()&&va.set(0,0,0,0);if(t.rowheaders){La=
ab(Y.headerBand,"row",null);var Ib=lb(V,t.rowheaders,Wa,X,Ca,-ab(L,"rowHeader"),B,0,$a,"x1",0,X,1,La)}if(t.colheaders){La=ab(Y.headerBand,"column",null);var yc=lb(V,t.colheaders,Wa,X,X,-ab(L,"columnHeader"),B,1,$a,"y1",0,1,X,La)}if(t.rowfooters){La=ab(Y.footerBand,"row",null);var qc=lb(V,t.rowfooters,Wa,X,Ca,ab(L,"rowFooter"),A,0,$a,"x2",X-1,X,1,La)}if(t.colfooters){La=ab(Y.footerBand,"column",null);var xc=lb(V,t.colfooters,Wa,X,X,ab(L,"columnFooter"),A,1,$a,"y2",Xa-X,1,X,La)}t.rowtitle&&(La=ab(Y.titleAnchor,
"row"),Wa=ab(L,"rowTitle"),Wa="end"===La?qc+Wa:Ib-Wa,La=ab(Y.titleBand,"row",.5),mb(V,t.rowtitle,Wa,0,va,La));t.coltitle&&(La=ab(Y.titleAnchor,"column"),Wa=ab(L,"columnTitle"),Wa="end"===La?xc+Wa:yc-Wa,La=ab(Y.titleBand,"column",.5),mb(V,t.coltitle,Wa,1,va,La))}ba(V,Aa,D)});return eb(D.mark.group)?I.reflow():I}});v.bound=Fb;v.identifier=vc;v.mark=uc;v.overlap=kc;v.render=Yb;v.viewlayout=Ga})};
shadow$provide[35]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(28),Db(32),Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,jb){function Fb(ta){k.Transform.call(this,null,ta)}function bc(ta){k.Transform.call(this,null,ta)}function vc(){return k.ingest({})}function Bc(ta){const F=jb.fastmap().test(ya=>
ya.exit);F.lookup=ya=>F.get(ta(ya));return F}function uc(ta){k.Transform.call(this,null,ta)}function Ab(ta){k.Transform.call(this,[],ta)}function kc(ta){k.Transform.call(this,{},ta)}function Yb(ta,F,ya){ta=+ta;F=+F;ya=2>(Za=arguments.length)?(F=ta,ta=0,1):3>Za?1:+ya;for(var Oa=-1,Za=Math.max(0,Math.ceil((F-ta)/ya))|0,kb=Array(Za);++Oa<Za;)kb[Oa]=ta+Oa*ya;return kb}function Ua(ta,F){let ya=0;if(void 0===F)for(var Oa of ta){if(Oa=+Oa)ya+=Oa}else{Oa=-1;for(let Za of ta)if(Za=+F(Za,++Oa,ta))ya+=Za}return ya}
function tb(ta){k.Transform.call(this,null,ta)}function Jb(ta,F,ya){ta.prototype=F.prototype=ya;ya.constructor=ta}function Kb(ta,F){ta=Object.create(ta.prototype);for(var ya in F)ta[ya]=F[ya];return ta}function Cb(){}function Ob(){return this.rgb().formatHex()}function ab(){return this.rgb().formatRgb()}function pb(ta){var F,ya;ta=(ta+"").trim().toLowerCase();return(F=Na.exec(ta))?(ya=F[1].length,F=parseInt(F[1],16),6===ya?Qa(F):3===ya?new lb(F>>8&15|F>>4&240,F>>4&15|F&240,(F&15)<<4|F&15,1):8===ya?
Da(F>>24&255,F>>16&255,F>>8&255,(F&255)/255):4===ya?Da(F>>12&15|F>>8&240,F>>8&15|F>>4&240,F>>4&15|F&240,((F&15)<<4|F&15)/255):null):(F=Ub.exec(ta))?new lb(F[1],F[2],F[3],1):(F=qb.exec(ta))?new lb(255*F[1]/100,255*F[2]/100,255*F[3]/100,1):(F=Sb.exec(ta))?Da(F[1],F[2],F[3],F[4]):(F=ic.exec(ta))?Da(255*F[1]/100,255*F[2]/100,255*F[3]/100,F[4]):(F=dc.exec(ta))?Vb(F[1],F[2]/100,F[3]/100,1):(F=Ic.exec(ta))?Vb(F[1],F[2]/100,F[3]/100,F[4]):zc.hasOwnProperty(ta)?Qa(zc[ta]):"transparent"===ta?new lb(NaN,NaN,
NaN,0):null}function Qa(ta){return new lb(ta>>16&255,ta>>8&255,ta&255,1)}function Da(ta,F,ya,Oa){0>=Oa&&(ta=F=ya=NaN);return new lb(ta,F,ya,Oa)}function Ka(ta,F,ya,Oa){if(1===arguments.length){var Za=ta;Za instanceof Cb||(Za=pb(Za));Za?(Za=Za.rgb(),Za=new lb(Za.r,Za.g,Za.b,Za.opacity)):Za=new lb}else Za=new lb(ta,F,ya,null==Oa?1:Oa);return Za}function lb(ta,F,ya,Oa){this.r=+ta;this.g=+F;this.b=+ya;this.opacity=+Oa}function mb(){return`#${Pb(this.r)}${Pb(this.g)}${Pb(this.b)}`}function Pa(){const ta=
wb(this.opacity);return`${1===ta?"rgb(":"rgba("}${sb(this.r)}, ${sb(this.g)}, ${sb(this.b)}${1===ta?")":`, ${ta})`}`}function wb(ta){return isNaN(ta)?1:Math.max(0,Math.min(1,ta))}function sb(ta){return Math.max(0,Math.min(255,Math.round(ta)||0))}function Pb(ta){ta=sb(ta);return(16>ta?"0":"")+ta.toString(16)}function Vb(ta,F,ya,Oa){0>=Oa?ta=F=ya=NaN:0>=ya||1<=ya?ta=F=NaN:0>=F&&(ta=NaN);return new qa(ta,F,ya,Oa)}function nb(ta){if(ta instanceof qa)return new qa(ta.h,ta.s,ta.l,ta.opacity);ta instanceof
Cb||(ta=pb(ta));if(!ta)return new qa;if(ta instanceof qa)return ta;ta=ta.rgb();var F=ta.r/255,ya=ta.g/255,Oa=ta.b/255,Za=Math.min(F,ya,Oa),kb=Math.max(F,ya,Oa),Eb=NaN,oc=kb-Za,ec=(kb+Za)/2;oc?(Eb=F===kb?(ya-Oa)/oc+6*(ya<Oa):ya===kb?(Oa-F)/oc+2:(F-ya)/oc+4,oc/=.5>ec?kb+Za:2-kb-Za,Eb*=60):oc=0<ec&&1>ec?0:Eb;return new qa(Eb,oc,ec,ta.opacity)}function qa(ta,F,ya,Oa){this.h=+ta;this.s=+F;this.l=+ya;this.opacity=+Oa}function Z(ta){ta=(ta||0)%360;return 0>ta?ta+360:ta}function Fa(ta){return Math.max(0,
Math.min(1,ta||0))}function Ga(ta,F,ya){return 255*(60>ta?F+(ya-F)*ta/60:180>ta?ya:240>ta?F+(ya-F)*(240-ta)/60:F)}function eb(ta,F){return function(ya){return ta+ya*F}}function ba(ta,F,ya){return ta=Math.pow(ta,ya),F=Math.pow(F,ya)-ta,ya=1/ya,function(Oa){return Math.pow(ta+Oa*F,ya)}}function oa(ta){return 1===(ta=+ta)?q:function(F,ya){return ya-F?ba(F,ya,ta):Yc(isNaN(F)?ya:F)}}function q(ta,F){var ya=F-ta;return ya?eb(ta,ya):Yc(isNaN(ta)?F:ta)}function M(ta,F){F||(F=[]);var ya=ta?Math.min(F.length,
ta.length):0,Oa=F.slice(),Za;return function(kb){for(Za=0;Za<ya;++Za)Oa[Za]=ta[Za]*(1-kb)+F[Za]*kb;return Oa}}function Q(ta,F){var ya=F?F.length:0,Oa=ta?Math.min(ya,ta.length):0,Za=Array(Oa),kb=Array(ya),Eb;for(Eb=0;Eb<Oa;++Eb)Za[Eb]=D(ta[Eb],F[Eb]);for(;Eb<ya;++Eb)kb[Eb]=F[Eb];return function(oc){for(Eb=0;Eb<Oa;++Eb)kb[Eb]=Za[Eb](oc);return kb}}function g(ta,F){var ya=new Date;return ta=+ta,F=+F,function(Oa){return ya.setTime(ta*(1-Oa)+F*Oa),ya}}function u(ta,F){return ta=+ta,F=+F,function(ya){return ta*
(1-ya)+F*ya}}function m(ta,F){var ya={},Oa={},Za;if(null===ta||"object"!==typeof ta)ta={};if(null===F||"object"!==typeof F)F={};for(Za in F)Za in ta?ya[Za]=D(ta[Za],F[Za]):Oa[Za]=F[Za];return function(kb){for(Za in ya)Oa[Za]=ya[Za](kb);return Oa}}function C(ta){return function(){return ta}}function B(ta){return function(F){return ta(F)+""}}function A(ta,F){var ya=ud.lastIndex=Ha.lastIndex=0,Oa,Za,kb,Eb=-1,oc=[],ec=[];ta+="";for(F+="";(Oa=ud.exec(ta))&&(Za=Ha.exec(F));)(kb=Za.index)>ya&&(kb=F.slice(ya,
kb),oc[Eb]?oc[Eb]+=kb:oc[++Eb]=kb),(Oa=Oa[0])===(Za=Za[0])?oc[Eb]?oc[Eb]+=Za:oc[++Eb]=Za:(oc[++Eb]=null,ec.push({i:Eb,x:u(Oa,Za)})),ya=Ha.lastIndex;ya<F.length&&(kb=F.slice(ya),oc[Eb]?oc[Eb]+=kb:oc[++Eb]=kb);return 2>oc.length?ec[0]?B(ec[0].x):C(F):(F=ec.length,function(jc){for(var Sc=0,ed;Sc<F;++Sc)oc[(ed=ec[Sc]).i]=ed.x(jc);return oc.join("")})}function D(ta,F){var ya=typeof F;if(null==F||"boolean"===ya)ta=Yc(F);else{if("number"===ya)var Oa=u;else"string"===ya?ya=(Oa=pb(F))?(F=Oa,Md):A:(F instanceof
pb?Oa=Md:F instanceof Date?Oa=g:(Oa=F,Oa=!ArrayBuffer.isView(Oa)||Oa instanceof DataView?Array.isArray(F)?Q:"function"!==typeof F.valueOf&&"function"!==typeof F.toString||isNaN(F)?m:u:M),ya=Oa),Oa=ya;ta=Oa(ta,F)}return ta}function I(ta,F){return ta=+ta,F=+F,function(ya){return Math.round(ta*(1-ya)+F*ya)}}function V(ta){return P.isContinuous(ta)&&ta!==P.Sequential}function Aa(ta){k.Transform.call(this,null,ta);this.modified(!0)}function Y(ta,F,ya){P.isLogarithmic(ta)&&Math.abs(F.reduce((Oa,Za)=>Oa+
(0>Za?-1:0<Za?1:0),0))!==F.length&&ya.warn("Log scale domain includes zero: "+jb.stringValue(F));return F}function t(ta,F,ya){return jb.isFunction(ta)&&(F||ya)?P.interpolateRange(ta,L(F||[0,1],ya)):ta}function L(ta,F){return F?ta.slice().reverse():ta}function va(ta){k.Transform.call(this,null,ta)}function La(ta){k.Transform.call(this,null,ta)}function Wa(ta,F,ya,Oa,Za){F=(F-ta.sum)/2;for(var kb=ta.length,Eb=0,oc;Eb<kb;++Eb)oc=ta[Eb],oc[Oa]=F,oc[Za]=F+=Math.abs(ya(oc))}function $a(ta,F,ya,Oa,Za){F=
1/ta.sum;for(var kb=0,Eb=ta.length,oc=0,ec=0,jc;oc<Eb;++oc)jc=ta[oc],jc[Oa]=kb,jc[Za]=kb=F*(ec+=Math.abs(ya(jc)))}function X(ta,F,ya,Oa,Za){for(var kb=F=0,Eb=ta.length,oc=0,ec,jc;oc<Eb;++oc)jc=ta[oc],ec=+ya(jc),0>ec?(jc[Oa]=kb,jc[Za]=kb+=ec):(jc[Oa]=F,jc[Za]=F+=ec)}function Ca(ta,F,ya,Oa){var Za=[],kb=fd=>fd(jc),Eb;if(null==F)Za.push(ta.slice());else{var oc={};var ec=0;for(Eb=ta.length;ec<Eb;++ec){var jc=ta[ec];var Sc=F.map(kb);var ed=oc[Sc];ed||(oc[Sc]=ed=[],Za.push(ed));ed.push(jc)}}kb=Sc=0;for(ta=
Za.length;Sc<ta;++Sc){ed=Za[Sc];F=ec=0;for(Eb=ed.length;ec<Eb;++ec)F+=Math.abs(Oa(ed[ec]));ed.sum=F;F>kb&&(kb=F);ya&&ed.sort(ya)}Za.max=kb;return Za}jb.inherits(Fb,k.Transform,{transform(ta,F){if(this.value&&!ta.modified())return F.StopPropagation;var ya=F.dataflow.locale();F=F.fork(F.NO_SOURCE|F.NO_FIELDS);var Oa=this.value,Za=ta.scale,kb=P.tickCount(Za,null==ta.count?ta.values?ta.values.length:10:ta.count,ta.minstep),Eb=ta.format||P.tickFormat(ya,Za,kb,ta.formatSpecifier,ta.formatType,!!ta.values),
oc=ta.values?P.validTicks(Za,ta.values,kb):P.tickValues(Za,kb);Oa&&(F.rem=Oa);Oa=oc.map((ec,jc)=>k.ingest({index:jc/(oc.length-1||1),value:ec,label:Eb(ec)}));ta.extra&&Oa.length&&Oa.push(k.ingest({index:-1,extra:{value:Oa[0].value},label:""}));F.source=Oa;this.value=F.add=Oa;return F}});jb.inherits(bc,k.Transform,{transform(ta,F){var ya=F.dataflow,Oa=F.fork(F.NO_SOURCE|F.NO_FIELDS),Za=ta.item||vc,kb=ta.key||k.tupleid,Eb=this.value;jb.isArray(Oa.encode)&&(Oa.encode=null);Eb&&(ta.modified("key")||F.modified(kb))&&
jb.error("DataJoin does not support modified key function or fields.");Eb||(F=F.addAll(),this.value=Eb=Bc(kb));F.visit(F.ADD,oc=>{const ec=kb(oc);let jc=Eb.get(ec);jc?jc.exit?(Eb.empty--,Oa.add.push(jc)):Oa.mod.push(jc):(jc=Za(oc),Eb.set(ec,jc),Oa.add.push(jc));jc.datum=oc;jc.exit=!1});F.visit(F.MOD,oc=>{var ec=kb(oc);if(ec=Eb.get(ec))ec.datum=oc,Oa.mod.push(ec)});F.visit(F.REM,oc=>{var ec=kb(oc);ec=Eb.get(ec);oc!==ec.datum||ec.exit||(Oa.rem.push(ec),ec.exit=!0,++Eb.empty)});F.changed(F.ADD_MOD)&&
Oa.modifies("datum");(F.clean()||ta.clean&&Eb.empty>ya.cleanThreshold)&&ya.runAfter(Eb.clean);return Oa}});jb.inherits(uc,k.Transform,{transform(ta,F){var ya=F.fork(F.ADD_REM),Oa=ta.mod||!1,Za=ta.encoders,kb=F.encode;if(jb.isArray(kb))if(ya.changed()||kb.every(ed=>Za[ed]))kb=kb[0],ya.encode=null;else return F.StopPropagation;var Eb="enter"===kb,oc=Za.update||jb.falsy,ec=Za.enter||jb.falsy,jc=Za.exit||jb.falsy,Sc=(kb&&!Eb?Za[kb]:oc)||jb.falsy;F.changed(F.ADD)&&(F.visit(F.ADD,ed=>{ec(ed,ta);oc(ed,ta)}),
ya.modifies(ec.output),ya.modifies(oc.output),Sc!==jb.falsy&&Sc!==oc&&(F.visit(F.ADD,ed=>{Sc(ed,ta)}),ya.modifies(Sc.output)));F.changed(F.REM)&&jc!==jb.falsy&&(F.visit(F.REM,ed=>{jc(ed,ta)}),ya.modifies(jc.output));if(Eb||Sc!==jb.falsy)kb=F.MOD|(ta.modified()?F.REFLOW:0),Eb?(F.visit(kb,ed=>{const fd=ec(ed,ta)||Oa;(Sc(ed,ta)||fd)&&ya.mod.push(ed)}),ya.mod.length&&ya.modifies(ec.output)):F.visit(kb,ed=>{(Sc(ed,ta)||Oa)&&ya.mod.push(ed)}),ya.mod.length&&ya.modifies(Sc.output);return ya.changed()?ya:
F.StopPropagation}});jb.inherits(Ab,k.Transform,{transform(ta,F){if(null!=this.value&&!ta.modified())return F.StopPropagation;var ya=F.dataflow.locale(),Oa=F.fork(F.NO_SOURCE|F.NO_FIELDS),Za=this.value,kb=ta.type||P.SymbolLegend,Eb=ta.scale,oc=+ta.limit,ec=P.tickCount(Eb,null==ta.count?5:ta.count,ta.minstep),jc=!!ta.values||kb===P.SymbolLegend,Sc=ta.format||P.labelFormat(ya,Eb,ec,kb,ta.formatSpecifier,ta.formatType,jc),ed=ta.values||P.labelValues(Eb,ec),fd;Za&&(Oa.rem=Za);if(kb===P.SymbolLegend){if(oc&&
ed.length>oc){F.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Za=ed.slice(0,oc-1);var Qd=!0}else Za=ed;if(jb.isFunction(fd=ta.size)){ta.values||0!==Eb(Za[0])||(Za=Za.slice(1));var Td=Za.reduce((Yd,ae)=>Math.max(Yd,fd(ae,ta)),0)}else fd=jb.constant(Td=fd||8);Za=Za.map((Yd,ae)=>k.ingest({index:ae,label:Sc(Yd,ae,Za),value:Yd,offset:Td,size:fd(Yd,ta)}));Qd&&(Qd=ed[Za.length],Za.push(k.ingest({index:Za.length,label:`\u2026${ed.length-Za.length} entries`,value:Qd,offset:Td,size:fd(Qd,
ta)})))}else if(kb===P.GradientLegend){F=Eb.domain();var Ed=P.scaleFraction(Eb,F[0],jb.peek(F));3>ed.length&&!ta.values&&F[0]!==jb.peek(F)&&(ed=[F[0],jb.peek(F)]);Za=ed.map((Yd,ae)=>k.ingest({index:ae,label:Sc(Yd,ae,ed),value:Yd,perc:Ed(Yd)}))}else fd=ed.length-1,Ed=P.labelFraction(Eb),Za=ed.map((Yd,ae)=>k.ingest({index:ae,label:Sc(Yd,ae,ed),value:Yd,perc:ae?Ed(Yd):0,perc2:ae===fd?1:Ed(ed[ae+1])}));Oa.source=Za;this.value=Oa.add=Za;return Oa}});const Xa=ta=>ta.source.x,Ib=ta=>ta.source.y,yc=ta=>ta.target.x,
qc=ta=>ta.target.y;kc.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},
{name:"as",type:"string","default":"path"}]};jb.inherits(kc,k.Transform,{transform(ta,F){var ya=ta.sourceX||Xa,Oa=ta.sourceY||Ib,Za=ta.targetX||yc,kb=ta.targetY||qc,Eb=ta.as||"path",oc=ta.shape||"line",ec=Rc.get(oc+"-"+(ta.orient||"vertical"))||Rc.get(oc);ec||jb.error("LinkPath unsupported type: "+ta.shape+(ta.orient?"-"+ta.orient:""));F.visit(F.SOURCE,jc=>{jc[Eb]=ec(ya(jc),Oa(jc),Za(jc),kb(jc))});return F.reflow(ta.modified()).modifies(Eb)}});const xc=(ta,F,ya,Oa)=>"M"+ta+","+F+"L"+ya+","+Oa,dd=
(ta,F,ya,Oa)=>{var Za=ya-ta,kb=Oa-F,Eb=Math.hypot(Za,kb)/2;return"M"+ta+","+F+"A"+Eb+","+Eb+" "+180*Math.atan2(kb,Za)/Math.PI+" 0 1 "+ya+","+Oa},Zb=(ta,F,ya,Oa)=>{var Za=ya-ta;const kb=Oa-F,Eb=.2*(Za+kb);Za=.2*(kb-Za);return"M"+ta+","+F+"C"+(ta+Eb)+","+(F+Za)+" "+(ya+Za)+","+(Oa-Eb)+" "+ya+","+Oa},Rc=jb.fastmap({line:xc,"line-radial":(ta,F,ya,Oa)=>xc(F*Math.cos(ta),F*Math.sin(ta),Oa*Math.cos(ya),Oa*Math.sin(ya)),arc:dd,"arc-radial":(ta,F,ya,Oa)=>dd(F*Math.cos(ta),F*Math.sin(ta),Oa*Math.cos(ya),Oa*
Math.sin(ya)),curve:Zb,"curve-radial":(ta,F,ya,Oa)=>Zb(F*Math.cos(ta),F*Math.sin(ta),Oa*Math.cos(ya),Oa*Math.sin(ya)),"orthogonal-horizontal":(ta,F,ya,Oa)=>"M"+ta+","+F+"V"+Oa+"H"+ya,"orthogonal-vertical":(ta,F,ya,Oa)=>"M"+ta+","+F+"H"+ya+"V"+Oa,"orthogonal-radial":(ta,F,ya,Oa)=>{const Za=Math.cos(ya),kb=Math.sin(ya);return"M"+F*Math.cos(ta)+","+F*Math.sin(ta)+"A"+F+","+F+" 0 0,"+((Math.abs(ya-ta)>Math.PI?ya<=ta:ya>ta)?1:0)+" "+F*Za+","+F*kb+"L"+Oa*Za+","+Oa*kb},"diagonal-horizontal":(ta,F,ya,Oa)=>
{const Za=(ta+ya)/2;return"M"+ta+","+F+"C"+Za+","+F+" "+Za+","+Oa+" "+ya+","+Oa},"diagonal-vertical":(ta,F,ya,Oa)=>{const Za=(F+Oa)/2;return"M"+ta+","+F+"C"+ta+","+Za+" "+ya+","+Za+" "+ya+","+Oa},"diagonal-radial":(ta,F,ya,Oa)=>{const Za=Math.cos(ta);ta=Math.sin(ta);const kb=Math.cos(ya);ya=Math.sin(ya);const Eb=(F+Oa)/2;return"M"+F*Za+","+F*ta+"C"+Eb*Za+","+Eb*ta+" "+Eb*kb+","+Eb*ya+" "+Oa*kb+","+Oa*ya}});tb.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",
type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};jb.inherits(tb,k.Transform,{transform(ta,F){var ya=ta.as||["startAngle","endAngle"],Oa=ya[0],Za=ya[1],kb=ta.startAngle||0,Eb=null!=ta.endAngle?ta.endAngle:2*Math.PI,oc=F.source,ec=oc.map(ta.field||jb.one),jc=ec.length,Sc=kb;kb=(Eb-kb)/Ua(ec);Eb=Yb(jc);var ed;ta.sort&&Eb.sort((Td,Ed)=>ec[Td]-
ec[Ed]);for(ed=0;ed<jc;++ed){var fd=ec[Eb[ed]];var Qd=oc[Eb[ed]];Qd[Oa]=Sc;Qd[Za]=Sc+=fd*kb}this.value=ec;return F.reflow(ta.modified()).modifies(ya)}});var Pd=1/.7,Na=/^#([0-9a-f]{3,8})$/,Ub=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),qb=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Sb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
ic=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),dc=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Ic=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
zc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jb(Cb,pb,{copy(ta){return Object.assign(new this.constructor,this,ta)},displayable(){return this.rgb().displayable()},hex:Ob,formatHex:Ob,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return nb(this).formatHsl()},formatRgb:ab,toString:ab});Jb(lb,Ka,Kb(Cb,{brighter(ta){ta=null==ta?Pd:Math.pow(Pd,ta);return new lb(this.r*ta,this.g*ta,this.b*ta,this.opacity)},
darker(ta){ta=null==ta?.7:Math.pow(.7,ta);return new lb(this.r*ta,this.g*ta,this.b*ta,this.opacity)},rgb(){return this},clamp(){return new lb(sb(this.r),sb(this.g),sb(this.b),wb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:mb,formatHex:mb,formatHex8:function(){return`#${Pb(this.r)}${Pb(this.g)}${Pb(this.b)}${Pb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Pa,toString:Pa}));Jb(qa,
function(ta,F,ya,Oa){return 1===arguments.length?nb(ta):new qa(ta,F,ya,null==Oa?1:Oa)},Kb(Cb,{brighter(ta){ta=null==ta?Pd:Math.pow(Pd,ta);return new qa(this.h,this.s,this.l*ta,this.opacity)},darker(ta){ta=null==ta?.7:Math.pow(.7,ta);return new qa(this.h,this.s,this.l*ta,this.opacity)},rgb(){var ta=this.h%360+360*(0>this.h),F=isNaN(ta)||isNaN(this.s)?0:this.s,ya=this.l;F=ya+(.5>ya?ya:1-ya)*F;ya=2*ya-F;return new lb(Ga(240<=ta?ta-240:ta+120,ya,F),Ga(ta,ya,F),Ga(120>ta?ta+240:ta-120,ya,F),this.opacity)},
clamp(){return new qa(Z(this.h),Fa(this.s),Fa(this.l),wb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const ta=wb(this.opacity);return`${1===ta?"hsl(":"hsla("}${Z(this.h)}, ${100*Fa(this.s)}%, ${100*Fa(this.l)}%${1===ta?")":`, ${ta})`}`}}));var Yc=ta=>()=>ta,Md=function ya(F){function Oa(kb,Eb){var oc=Za((kb=Ka(kb)).r,(Eb=Ka(Eb)).r),ec=Za(kb.g,Eb.g),jc=Za(kb.b,Eb.b),Sc=q(kb.opacity,Eb.opacity);return function(ed){kb.r=
oc(ed);kb.g=ec(ed);kb.b=jc(ed);kb.opacity=Sc(ed);return kb+""}}var Za=oa(F);Oa.gamma=ya;return Oa}(1),ud=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ha=new RegExp(ud.source,"g");const gb=jb.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));jb.inherits(Aa,k.Transform,{transform(F,ya){var Oa=ya.dataflow,Za=this.value;var kb=F.type;var Eb=
"";if(kb===P.Sequential)kb=P.Sequential+"-"+P.Linear;else{var oc=F.type;P.isContinuous(oc)&&oc!==P.Time&&oc!==P.UTC&&(F.scheme||F.range&&F.range.length&&F.range.every(jb.isString))&&(Eb=F.rawDomain?F.rawDomain.length:F.domain?F.domain.length+ +(null!=F.domainMid):0,Eb=2===Eb?P.Sequential+"-":3===Eb?P.Diverging+"-":"");kb=(Eb+kb||P.Linear).toLowerCase()}Za&&kb===Za.type||(this.value=Za=P.scale(kb)());for(kb in F)gb[kb]||"padding"===kb&&V(Za.type)||(jb.isFunction(Za[kb])?Za[kb](F[kb]):Oa.warn("Unsupported scale property: "+
kb));Eb=kb=Za;(oc=F.domainRaw)?(Za.domain(Y(Za.type,oc,Oa)),oc=oc.length):oc=-1;if(-1<oc)Oa=oc;else{var ec=F.domain;oc=Za.type;var jc;!(jc=F.zero)&&(jc=void 0===F.zero)&&(jc=Za.type,jc=!Za.bins&&(jc===P.Linear||jc===P.Pow||jc===P.Sqrt));if(ec){if(V(oc)&&F.padding&&ec[0]!==jb.peek(ec)){var Sc=F.range,ed=F.padding;var fd=F.exponent;var Qd=F.constant;Sc=Math.abs(jb.peek(Sc)-Sc[0]);ed=Sc/(Sc-2*ed);fd=oc===P.Log?jb.zoomLog(ec,null,ed):oc===P.Sqrt?jb.zoomPow(ec,null,ed,.5):oc===P.Pow?jb.zoomPow(ec,null,
ed,fd||1):oc===P.Symlog?jb.zoomSymlog(ec,null,ed,Qd||1):jb.zoomLinear(ec,null,ed);ec=ec.slice();ec[0]=fd[0];ec[ec.length-1]=fd[1]}if(jc||null!=F.domainMin||null!=F.domainMax||null!=F.domainMid)fd=(ec=ec.slice()).length-1||1,jc&&(0<ec[0]&&(ec[0]=0),0>ec[fd]&&(ec[fd]=0)),null!=F.domainMin&&(ec[0]=F.domainMin),null!=F.domainMax&&(ec[fd]=F.domainMax),null!=F.domainMid&&(jc=F.domainMid,Qd=jc>ec[fd]?fd+1:jc<ec[0]?0:fd,Qd!==fd&&Oa.warn("Scale domainMid exceeds domain min or max.",jc),ec.splice(Qd,0,jc));
Za.domain(Y(oc,ec,Oa));oc===P.Ordinal&&Za.unknown(F.domainImplicit?P.scaleImplicit:void 0);F.nice&&Za.nice&&Za.nice(!0!==F.nice&&P.tickCount(Za,F.nice)||null);Oa=ec.length}else Oa=0}(oc=F.bins)&&!jb.isArray(oc)&&(jc=Eb.domain(),Za=jc[0],jc=jb.peek(jc),ec=oc.step,fd=null==oc.start?Za:oc.start,oc=null==oc.stop?jc:oc.stop,ec||jb.error("Scale bins parameter missing step property."),fd<Za&&(fd=ec*Math.ceil(Za/ec)),oc>jc&&(oc=ec*Math.floor(jc/ec)),oc=Yb(fd,oc+ec/2,ec));oc?Eb.bins=oc:Eb.bins&&delete Eb.bins;
Eb.type===P.BinOrdinal&&(oc?F.domain||F.domainRaw||(Eb.domain(oc),Oa=oc.length):Eb.bins=Eb.domain());Za=Oa;a:{Eb=kb.type;Oa=F.round||!1;oc=F.range;if(null!=F.rangeStep)Eb!==P.Band&&Eb!==P.Point&&jb.error("Only band and point scales support rangeStep."),oc=[0,F.rangeStep*P.bandSpace(Za,Eb===P.Point?1:(null!=F.paddingInner?F.paddingInner:F.padding)||0,(null!=F.paddingOuter?F.paddingOuter:F.padding)||0)];else if(F.scheme&&(oc=F.schemeExtent,jb.isArray(F.scheme)?jc=P.interpolateColors(F.scheme,F.interpolate,
F.interpolateGamma):(jc=F.scheme.toLowerCase(),(jc=P.scheme(jc))||jb.error(`Unrecognized scheme name: ${F.scheme}`)),Za=Eb===P.Threshold?Za+1:Eb===P.BinOrdinal?Za-1:Eb===P.Quantile||Eb===P.Quantize?+F.schemeCount||5:Za,oc=P.isInterpolating(Eb)?t(jc,oc,F.reverse):jb.isFunction(jc)?P.quantizeInterpolator(t(jc,oc),Za):Eb===P.Ordinal?jc:jc.slice(0,Za),jb.isFunction(oc)))if(kb.interpolator){kb.interpolator(oc);break a}else jb.error(`Scale type ${Eb} does not support interpolating color schemes.`);oc&&
P.isInterpolating(Eb)?kb.interpolator(P.interpolateColors(L(oc,F.reverse),F.interpolate,F.interpolateGamma)):(oc&&F.interpolate&&kb.interpolate?kb.interpolate(P.interpolate(F.interpolate,F.interpolateGamma)):jb.isFunction(kb.round)?kb.round(Oa):jb.isFunction(kb.rangeRound)&&kb.interpolate(Oa?I:D),oc&&kb.range(L(oc,F.reverse)))}return ya.fork(ya.NO_SOURCE|ya.NO_FIELDS)}});jb.inherits(va,k.Transform,{transform(F,ya){const Oa=F.modified("sort")||ya.changed(ya.ADD)||ya.modified(F.sort.fields)||ya.modified("datum");
Oa&&ya.source.sort(k.stableCompare(F.sort));this.modified(Oa);return ya}});const vb=["y0","y1"];La.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":vb}]};jb.inherits(La,k.Transform,{transform(F,ya){var Oa=F.as||vb,Za=Oa[0],kb=Oa[1],Eb=k.stableCompare(F.sort),oc=F.field||
jb.one,ec="center"===F.offset?Wa:"normalize"===F.offset?$a:X,jc;Eb=Ca(ya.source,F.groupby,Eb,oc);var Sc=0;var ed=Eb.length;for(jc=Eb.max;Sc<ed;++Sc)ec(Eb[Sc],jc,oc,Za,kb);return ya.reflow(F.modified()).modifies(Oa)}});v.axisticks=Fb;v.datajoin=bc;v.encode=uc;v.legendentries=Ab;v.linkpath=kc;v.pie=tb;v.scale=Aa;v.sortitems=va;v.stack=La})};
shadow$provide[36]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(32)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function*P(H){for(const ka of H)yield*ka}function jb(H){return 1<H?0:-1>H?jc:Math.acos(H)}function Fb(H){return 1<H?Sc:-1>H?-Sc:Math.asin(H)}function bc(){}function vc(H,ka){if(H&&Cc.hasOwnProperty(H.type))Cc[H.type](H,
ka)}function Bc(H,ka,la){var Ja=-1;la=H.length-la;for(ka.lineStart();++Ja<la;){var hb=H[Ja];ka.point(hb[0],hb[1],hb[2])}ka.lineEnd()}function uc(H,ka){var la=-1,Ja=H.length;for(ka.polygonStart();++la<Ja;)Bc(H[la],ka,1);ka.polygonEnd()}function Ab(H,ka){if(H&&Xb.hasOwnProperty(H.type))Xb[H.type](H,ka);else vc(H,ka)}function kc(H){return[ae(H[1],H[0]),Fb(H[2])]}function Yb(H){var ka=H[0];H=H[1];var la=Ud(H);return[la*Ud(ka),la*ma(ka),ma(H)]}function Ua(H,ka){return H[0]*ka[0]+H[1]*ka[1]+H[2]*ka[2]}
function tb(H,ka){return[H[1]*ka[2]-H[2]*ka[1],H[2]*ka[0]-H[0]*ka[2],H[0]*ka[1]-H[1]*ka[0]]}function Jb(H,ka){H[0]+=ka[0];H[1]+=ka[1];H[2]+=ka[2]}function Kb(H,ka){return[H[0]*ka,H[1]*ka,H[2]*ka]}function Cb(H){var ka=fb(H[0]*H[0]+H[1]*H[1]+H[2]*H[2]);H[0]/=ka;H[1]/=ka;H[2]/=ka}function Ob(H,ka){function la(Ja,hb){return Ja=H(Ja,hb),ka(Ja[0],Ja[1])}H.invert&&ka.invert&&(la.invert=function(Ja,hb){return Ja=ka.invert(Ja,hb),Ja&&H.invert(Ja[0],Ja[1])});return la}function ab(H,ka){Ed(H)>jc&&(H-=Math.round(H/
fd)*fd);return[H,ka]}function pb(H,ka,la){return(H%=fd)?ka||la?Ob(Da(H),Ka(ka,la)):Da(H):ka||la?Ka(ka,la):ab}function Qa(H){return function(ka,la){ka+=H;Ed(ka)>jc&&(ka-=Math.round(ka/fd)*fd);return[ka,la]}}function Da(H){var ka=Qa(H);ka.invert=Qa(-H);return ka}function Ka(H,ka){function la(tc,Wb){var Dc=Ud(Wb),yd=Ud(tc)*Dc;tc=ma(tc)*Dc;Wb=ma(Wb);Dc=Wb*Ja+yd*hb;return[ae(tc*fc-Dc*rc,yd*Ja-Wb*hb),Fb(Dc*fc+tc*rc)]}var Ja=Ud(H),hb=ma(H),fc=Ud(ka),rc=ma(ka);la.invert=function(tc,Wb){var Dc=Ud(Wb),yd=Ud(tc)*
Dc;tc=ma(tc)*Dc;Wb=ma(Wb);Dc=Wb*fc-tc*rc;return[ae(tc*fc+Wb*rc,yd*Ja+Dc*hb),Fb(Dc*Ja-yd*hb)]};return la}function lb(H){function ka(la){la=H(la[0]*Td,la[1]*Td);return la[0]*=Qd,la[1]*=Qd,la}H=pb(H[0]*Td,H[1]*Td,2<H.length?H[2]*Td:0);ka.invert=function(la){la=H.invert(la[0]*Td,la[1]*Td);return la[0]*=Qd,la[1]*=Qd,la};return ka}function mb(H,ka){ka=Yb(ka);ka[0]-=H;Cb(ka);H=jb(-ka[1]);return((0>-ka[2]?-H:H)+fd-1E-6)%fd}function Pa(){var H=[],ka;return{point:function(la,Ja,hb){ka.push([la,Ja,hb])},lineStart:function(){H.push(ka=
[])},lineEnd:bc,rejoin:function(){1<H.length&&H.push(H.pop().concat(H.shift()))},result:function(){var la=H;H=[];ka=null;return la}}}function wb(H,ka){return 1E-6>Ed(H[0]-ka[0])&&1E-6>Ed(H[1]-ka[1])}function sb(H,ka,la,Ja){this.x=H;this.z=ka;this.o=la;this.e=Ja;this.v=!1;this.n=this.p=null}function Pb(H,ka,la,Ja,hb){var fc=[],rc=[];H.forEach(function(Zc){if(!(0>=(hd=Zc.length-1))){var hd,Ad=Zc[0],Hd=Zc[hd];if(wb(Ad,Hd)){if(!Ad[2]&&!Hd[2]){hb.lineStart();for(tc=0;tc<hd;++tc)hb.point((Ad=Zc[tc])[0],
Ad[1]);hb.lineEnd();return}Hd[0]+=2E-6}fc.push(hd=new sb(Ad,Zc,null,!0));rc.push(hd.o=new sb(Ad,null,hd,!1));fc.push(hd=new sb(Hd,Zc,null,!1));rc.push(hd.o=new sb(Hd,null,hd,!0))}});if(fc.length){rc.sort(ka);Vb(fc);Vb(rc);var tc=0;for(H=rc.length;tc<H;++tc)rc[tc].e=la=!la;la=fc[0];for(var Wb;;){for(var Dc=la,yd=!0;Dc.v;)if((Dc=Dc.n)===la)return;ka=Dc.z;hb.lineStart();do{Dc.v=Dc.o.v=!0;if(Dc.e){if(yd)for(tc=0,H=ka.length;tc<H;++tc)hb.point((Wb=ka[tc])[0],Wb[1]);else Ja(Dc.x,Dc.n.x,1,hb);Dc=Dc.n}else{if(yd)for(ka=
Dc.p.z,tc=ka.length-1;0<=tc;--tc)hb.point((Wb=ka[tc])[0],Wb[1]);else Ja(Dc.x,Dc.p.x,-1,hb);Dc=Dc.p}Dc=Dc.o;ka=Dc.z;yd=!yd}while(!Dc.v);hb.lineEnd()}}}function Vb(H){if(ka=H.length){for(var ka,la=0,Ja=H[0],hb;++la<ka;)Ja.n=hb=H[la],hb.p=Ja,Ja=hb;Ja.n=hb=H[0];hb.p=Ja}}function nb(H){return Ed(H[0])<=jc?H[0]:za(H[0])*((Ed(H[0])+jc)%fd-jc)}function qa(H,ka,la,Ja){return function(hb){function fc(Id,he){H(Id,he)&&hb.point(Id,he)}function rc(Id,he){hd.point(Id,he)}function tc(){Be.point=rc;hd.lineStart()}
function Wb(){Be.point=fc;hd.lineEnd()}function Dc(Id,he){Ae.push([Id,he]);Hd.point(Id,he)}function yd(){Hd.lineStart();Ae=[]}function Zc(){Dc(Ae[0][0],Ae[0][1]);Hd.lineEnd();var Id=Hd.clean(),he=Ad.result(),xe=he.length,Le;Ae.pop();Ee.push(Ae);Ae=null;if(xe)if(Id&1){if(xe=he[0],0<(he=xe.length-1)){Oc||(hb.polygonStart(),Oc=!0);hb.lineStart();for(Id=0;Id<he;++Id)hb.point((Le=xe[Id])[0],Le[1]);hb.lineEnd()}}else 1<xe&&Id&2&&he.push(he.pop().concat(he.shift())),Ge.push(he.filter(Z))}var hd=ka(hb),Ad=
Pa(),Hd=ka(Ad),Oc=!1,Ee,Ge,Ae,Be={point:fc,lineStart:tc,lineEnd:Wb,polygonStart:function(){Be.point=Dc;Be.lineStart=yd;Be.lineEnd=Zc;Ge=[];Ee=[]},polygonEnd:function(){Be.point=fc;Be.lineStart=tc;Be.lineEnd=Wb;Ge=Array.from(P(Ge));var Id=Ee;var he=nb(Ja),xe=Ja[1],Le=ma(xe),of=[ma(he),-Ud(he),0],Ve=0,we=0,wf=new ec;1===Le?xe=Sc+1E-6:-1===Le&&(xe=-Sc-1E-6);Le=0;for(var Pf=Id.length;Le<Pf;++Le)if(ag=(af=Id[Le]).length){var af,ag,Vd=af[ag-1],hf=nb(Vd),jf=Vd[1]/2+ed,Qe=ma(jf),Cf=Ud(jf);for(jf=0;jf<ag;++jf,
hf=Jf,Qe=Gf,Cf=Bg,Vd=Qf){var Qf=af[jf],Jf=nb(Qf);Bg=Qf[1]/2+ed;var Gf=ma(Bg),Bg=Ud(Bg),sg=Jf-hf,Af=0<=sg?1:-1,Hf=Af*sg,dg=Hf>jc;Qe*=Gf;wf.add(ae(Qe*Af*ma(Hf),Cf*Bg+Qe*Ud(Hf)));Ve+=dg?sg+Af*fd:sg;dg^hf>=he^Jf>=he&&(Vd=tb(Yb(Vd),Yb(Qf)),Cb(Vd),hf=tb(of,Vd),Cb(hf),hf=(dg^0<=sg?-1:1)*Fb(hf[2]),xe>hf||xe===hf&&(Vd[0]||Vd[1]))&&(we+=dg^0<=sg?1:-1)}}Id=(-1E-6>Ve||1E-6>Ve&&-1E-12>wf)^we&1;Ge.length?(Oc||(hb.polygonStart(),Oc=!0),Pb(Ge,Fa,Id,la,hb)):Id&&(Oc||(hb.polygonStart(),Oc=!0),hb.lineStart(),la(null,
null,1,hb),hb.lineEnd());Oc&&(hb.polygonEnd(),Oc=!1);Ge=Ee=null},sphere:function(){hb.polygonStart();hb.lineStart();la(null,null,1,hb);hb.lineEnd();hb.polygonEnd()}};return Be}}function Z(H){return 1<H.length}function Fa(H,ka){return(0>(H=H.x)[0]?H[1]-Sc-1E-6:Sc-H[1])-(0>(ka=ka.x)[0]?ka[1]-Sc-1E-6:Sc-ka[1])}function Ga(H){function ka(Wb,Dc){return Ud(Wb)*Ud(Dc)>hb}function la(Wb,Dc,yd){var Zc=Yb(Wb),hd=Yb(Dc),Ad=[1,0,0];hd=tb(Zc,hd);var Hd=Ua(hd,hd);Zc=hd[0];var Oc=Hd-Zc*Zc;if(!Oc)return!yd&&Wb;Hd=
hb*Hd/Oc;Oc=-hb*Zc/Oc;Zc=tb(Ad,hd);Ad=Kb(Ad,Hd);hd=Kb(hd,Oc);Jb(Ad,hd);hd=Ua(Ad,Zc);Hd=Ua(Zc,Zc);Oc=hd*hd-Hd*(Ua(Ad,Ad)-1);if(!(0>Oc)){var Ee=fb(Oc);Oc=Kb(Zc,(-hd-Ee)/Hd);Jb(Oc,Ad);Oc=kc(Oc);if(!yd)return Oc;yd=Wb[0];var Ge=Dc[0];Wb=Wb[1];Dc=Dc[1];if(Ge<yd){var Ae=yd;yd=Ge;Ge=Ae}var Be=Ge-yd,Id=1E-6>Ed(Be-jc);!Id&&Dc<Wb&&(Ae=Wb,Wb=Dc,Dc=Ae);if(Id||1E-6>Be?Id?0<Wb+Dc^Oc[1]<(1E-6>Ed(Oc[0]-yd)?Wb:Dc):Wb<=Oc[1]&&Oc[1]<=Dc:Be>jc^(yd<=Oc[0]&&Oc[0]<=Ge))return Dc=Kb(Zc,(-hd+Ee)/Hd),Jb(Dc,Ad),[Oc,kc(Dc)]}}
function Ja(Wb,Dc){var yd=rc?H:jc-H,Zc=0;Wb<-yd?Zc|=1:Wb>yd&&(Zc|=2);Dc<-yd?Zc|=4:Dc>yd&&(Zc|=8);return Zc}var hb=Ud(H),fc=6*Td,rc=0<hb,tc=1E-6<Ed(hb);return qa(ka,function(Wb){var Dc,yd,Zc,hd,Ad;return{lineStart:function(){hd=Zc=!1;Ad=1},point:function(Hd,Oc){var Ee=[Hd,Oc],Ge=ka(Hd,Oc);Oc=rc?Ge?0:Ja(Hd,Oc):Ge?Ja(Hd+(0>Hd?jc:-jc),Oc):0;!Dc&&(hd=Zc=Ge)&&Wb.lineStart();Ge!==Zc&&(Hd=la(Dc,Ee),!Hd||wb(Dc,Hd)||wb(Ee,Hd))&&(Ee[2]=1);if(Ge!==Zc)Ad=0,Ge?(Wb.lineStart(),Hd=la(Ee,Dc),Wb.point(Hd[0],Hd[1])):
(Hd=la(Dc,Ee),Wb.point(Hd[0],Hd[1],2),Wb.lineEnd()),Dc=Hd;else if(tc&&Dc&&rc^Ge){var Ae;Oc&yd||!(Ae=la(Ee,Dc,!0))||(Ad=0,rc?(Wb.lineStart(),Wb.point(Ae[0][0],Ae[0][1]),Wb.point(Ae[1][0],Ae[1][1]),Wb.lineEnd()):(Wb.point(Ae[1][0],Ae[1][1]),Wb.lineEnd(),Wb.lineStart(),Wb.point(Ae[0][0],Ae[0][1],3)))}!Ge||Dc&&wb(Dc,Ee)||Wb.point(Ee[0],Ee[1]);Dc=Ee;Zc=Ge;yd=Oc},lineEnd:function(){Zc&&Wb.lineEnd();Dc=null},clean:function(){return Ad|(hd&&Zc)<<1}}},function(Wb,Dc,yd,Zc){var hd=Wb;if(fc){Wb=Ud(H);var Ad=
ma(H),Hd=yd*fc;if(null==hd)hd=H+yd*fd,Dc=H-Hd/2;else if(hd=mb(Wb,hd),Dc=mb(Wb,Dc),0<yd?hd<Dc:hd>Dc)hd+=yd*fd;for(var Oc=hd;0<yd?Oc>Dc:Oc<Dc;Oc-=Hd)hd=kc([Wb,-Ad*Ud(Oc),-Ad*ma(Oc)]),Zc.point(hd[0],hd[1])}},rc?[0,-H]:[-jc,H-jc])}function eb(H,ka,la,Ja,hb,fc){var rc=H[0],tc=H[1],Wb=0,Dc=1,yd=ka[0]-rc,Zc=ka[1]-tc;la-=rc;if(yd||!(0<la)){la/=yd;if(0>yd){if(la<Wb)return;la<Dc&&(Dc=la)}else if(0<yd){if(la>Dc)return;la>Wb&&(Wb=la)}la=hb-rc;if(yd||!(0>la)){la/=yd;if(0>yd){if(la>Dc)return;la>Wb&&(Wb=la)}else if(0<
yd){if(la<Wb)return;la<Dc&&(Dc=la)}la=Ja-tc;if(Zc||!(0<la)){la/=Zc;if(0>Zc){if(la<Wb)return;la<Dc&&(Dc=la)}else if(0<Zc){if(la>Dc)return;la>Wb&&(Wb=la)}la=fc-tc;if(Zc||!(0>la)){la/=Zc;if(0>Zc){if(la>Dc)return;la>Wb&&(Wb=la)}else if(0<Zc){if(la<Wb)return;la<Dc&&(Dc=la)}0<Wb&&(H[0]=rc+Wb*yd,H[1]=tc+Wb*Zc);1>Dc&&(ka[0]=rc+Dc*yd,ka[1]=tc+Dc*Zc);return!0}}}}}function ba(H,ka,la,Ja){function hb(Wb,Dc,yd,Zc){var hd=0,Ad=0;if(null==Wb||(hd=fc(Wb,yd))!==(Ad=fc(Dc,yd))||0>tc(Wb,Dc)^0<yd){do Zc.point(0===hd||
3===hd?H:la,1<hd?Ja:ka);while((hd=(hd+yd+4)%4)!==Ad)}else Zc.point(Dc[0],Dc[1])}function fc(Wb,Dc){return 1E-6>Ed(Wb[0]-H)?0<Dc?0:3:1E-6>Ed(Wb[0]-la)?0<Dc?2:1:1E-6>Ed(Wb[1]-ka)?0<Dc?1:0:0<Dc?3:2}function rc(Wb,Dc){return tc(Wb.x,Dc.x)}function tc(Wb,Dc){var yd=fc(Wb,1),Zc=fc(Dc,1);return yd!==Zc?yd-Zc:0===yd?Dc[1]-Wb[1]:1===yd?Wb[0]-Dc[0]:2===yd?Wb[1]-Dc[1]:Dc[0]-Wb[0]}return function(Wb){function Dc(Ve,we){H<=Ve&&Ve<=la&&ka<=we&&we<=Ja&&Zc.point(Ve,we)}function yd(Ve,we){var wf=H<=Ve&&Ve<=la&&ka<=
we&&we<=Ja;Hd&&Oc.push([Ve,we]);if(xe)Ee=Ve,Ge=we,Ae=wf,xe=!1,wf&&(Zc.lineStart(),Zc.point(Ve,we));else if(wf&&he)Zc.point(Ve,we);else{var Pf=[Be=Math.max(-1E9,Math.min(1E9,Be)),Id=Math.max(-1E9,Math.min(1E9,Id))],af=[Ve=Math.max(-1E9,Math.min(1E9,Ve)),we=Math.max(-1E9,Math.min(1E9,we))];eb(Pf,af,H,ka,la,Ja)?(he||(Zc.lineStart(),Zc.point(Pf[0],Pf[1])),Zc.point(af[0],af[1]),wf||Zc.lineEnd(),Le=!1):wf&&(Zc.lineStart(),Zc.point(Ve,we),Le=!1)}Be=Ve;Id=we;he=wf}var Zc=Wb,hd=Pa(),Ad,Hd,Oc,Ee,Ge,Ae,Be,Id,
he,xe,Le,of={point:Dc,lineStart:function(){of.point=yd;Hd&&Hd.push(Oc=[]);xe=!0;he=!1;Be=Id=NaN},lineEnd:function(){Ad&&(yd(Ee,Ge),Ae&&he&&hd.rejoin(),Ad.push(hd.result()));of.point=Dc;he&&Zc.lineEnd()},polygonStart:function(){Zc=hd;Ad=[];Hd=[];Le=!0},polygonEnd:function(){for(var Ve,we=Ve=0,wf=Hd.length;we<wf;++we){var Pf=Hd[we],af=1,ag=Pf.length,Vd=Pf[0],hf=Vd[0];for(Vd=Vd[1];af<ag;++af){var jf=hf;var Qe=Vd;Vd=Pf[af];hf=Vd[0];Vd=Vd[1];Qe<=Ja?Vd>Ja&&(hf-jf)*(Ja-Qe)>(Vd-Qe)*(H-jf)&&++Ve:Vd<=Ja&&(hf-
jf)*(Ja-Qe)<(Vd-Qe)*(H-jf)&&--Ve}}we=Le&&Ve;wf=(Ad=Array.from(P(Ad))).length;if(we||wf)Wb.polygonStart(),we&&(Wb.lineStart(),hb(null,null,1,Wb),Wb.lineEnd()),wf&&Pb(Ad,rc,Ve,hb,Wb),Wb.polygonEnd();Zc=Wb;Ad=Hd=Oc=null}};return of}}function oa(){Nd.point=q}function q(H,ka){Nd.point=M;vd=Fd=H;Gd=Xd=ka}function M(H,ka){Nc.add(Xd*H-Fd*ka);Fd=H;Xd=ka}function Q(){M(vd,Gd)}function g(H,ka){nf+=H;U+=ka;++ua}function u(){Ac.point=m}function m(H,ka){Ac.point=C;g(cc=H,Jc=ka)}function C(H,ka){var la=H-cc,Ja=
ka-Jc;la=fb(la*la+Ja*Ja);cb+=la*(cc+H)/2;yb+=la*(Jc+ka)/2;gc+=la;g(cc=H,Jc=ka)}function B(){Ac.point=g}function A(){Ac.point=I}function D(){V(fa,Sa)}function I(H,ka){Ac.point=V;g(fa=cc=H,Sa=Jc=ka)}function V(H,ka){var la=H-cc,Ja=ka-Jc;la=fb(la*la+Ja*Ja);cb+=la*(cc+H)/2;yb+=la*(Jc+ka)/2;gc+=la;la=Jc*H-cc*ka;Ec+=la*(cc+H);$b+=la*(Jc+ka);J+=3*la;g(cc=H,Jc=ka)}function Aa(H){this._context=H}function Y(H,ka){Mc.point=t;Ra=pc=H;db=wd=ka}function t(H,ka){pc-=H;wd-=ka;pd.add(fb(pc*pc+wd*wd));pc=H;wd=ka}function L(H){let ka=
1;this._+=H[0];for(const la=H.length;ka<la;++ka)this._+=arguments[ka]+H[ka]}function va(H){const ka=Math.floor(H);if(!(0<=ka))throw new RangeError(`invalid digits: ${H}`);if(15<ka)return L;if(ka!==Qc){const la=Math.pow(10,ka);Qc=ka;td=function(Ja){let hb=1;this._+=Ja[0];for(const fc=Ja.length;hb<fc;++hb)this._+=Math.round(arguments[hb]*la)/la+Ja[hb]}}return td}function La(H,ka){function la(tc){tc&&("function"===typeof hb&&rc.pointRadius(+hb.apply(this,arguments)),Ab(tc,fc(rc)));return rc.result()}
let Ja=3,hb=4.5,fc,rc;la.area=function(tc){Ab(tc,fc(qe));return qe.result()};la.measure=function(tc){Ab(tc,fc(Uc));return Uc.result()};la.bounds=function(tc){Ab(tc,fc(pe));return pe.result()};la.centroid=function(tc){Ab(tc,fc($c));return $c.result()};la.projection=function(tc){if(!arguments.length)return H;fc=null==tc?(H=null,Hc):(H=tc).stream;return la};la.context=function(tc){if(!arguments.length)return ka;rc=null==tc?(ka=null,new Cd(Ja)):new Aa(ka=tc);"function"!==typeof hb&&rc.pointRadius(hb);
return la};la.pointRadius=function(tc){if(!arguments.length)return hb;hb="function"===typeof tc?tc:(rc.pointRadius(+tc),+tc);return la};la.digits=function(tc){if(!arguments.length)return Ja;if(null==tc)Ja=null;else{const Wb=Math.floor(tc);if(!(0<=Wb))throw new RangeError(`invalid digits: ${tc}`);Ja=Wb}null===ka&&(rc=new Cd(Ja));return la};return la.projection(H).digits(Ja).context(ka)}function Wa(H){return function(ka){var la=new $a,Ja;for(Ja in H)la[Ja]=H[Ja];la.stream=ka;return la}}function $a(){}
function X(H,ka,la){var Ja=H.clipExtent&&H.clipExtent();H.scale(150).translate([0,0]);null!=Ja&&H.clipExtent(null);Ab(la,H.stream(pe));ka(pe.result());null!=Ja&&H.clipExtent(Ja);return H}function Ca(H,ka,la){return X(H,function(Ja){var hb=ka[1][0]-ka[0][0],fc=ka[1][1]-ka[0][1],rc=Math.min(hb/(Ja[1][0]-Ja[0][0]),fc/(Ja[1][1]-Ja[0][1]));hb=+ka[0][0]+(hb-rc*(Ja[1][0]+Ja[0][0]))/2;Ja=+ka[0][1]+(fc-rc*(Ja[1][1]+Ja[0][1]))/2;H.scale(150*rc).translate([hb,Ja])},la)}function Xa(H,ka,la){return X(H,function(Ja){var hb=
+ka,fc=hb/(Ja[1][0]-Ja[0][0]);hb=(hb-fc*(Ja[1][0]+Ja[0][0]))/2;Ja=-fc*Ja[0][1];H.scale(150*fc).translate([hb,Ja])},la)}function Ib(H,ka,la){return X(H,function(Ja){var hb=+ka,fc=hb/(Ja[1][1]-Ja[0][1]),rc=-fc*Ja[0][0];Ja=(hb-fc*(Ja[1][1]+Ja[0][1]))/2;H.scale(150*fc).translate([rc,Ja])},la)}function yc(H){return Wa({point:function(ka,la){ka=H(ka,la);this.stream.point(ka[0],ka[1])}})}function qc(H,ka){function la(Ja,hb,fc,rc,tc,Wb,Dc,yd,Zc,hd,Ad,Hd,Oc,Ee){var Ge=Dc-Ja,Ae=yd-hb,Be=Ge*Ge+Ae*Ae;if(Be>4*
ka&&Oc--){var Id=rc+hd,he=tc+Ad,xe=Wb+Hd,Le=fb(Id*Id+he*he+xe*xe),of=Fb(xe/=Le),Ve=1E-6>Ed(Ed(xe)-1)||1E-6>Ed(fc-Zc)?(fc+Zc)/2:ae(he,Id),we=H(Ve,of);of=we[0];we=we[1];var wf=of-Ja,Pf=we-hb,af=Ae*wf-Ge*Pf;if(af*af/Be>ka||.3<Ed((Ge*wf+Ae*Pf)/Be-.5)||rc*hd+tc*Ad+Wb*Hd<be)la(Ja,hb,fc,rc,tc,Wb,of,we,Ve,Id/=Le,he/=Le,xe,Oc,Ee),Ee.point(of,we),la(of,we,Ve,Id,he,xe,Dc,yd,Zc,hd,Ad,Hd,Oc,Ee)}}return function(Ja){function hb(of,Ve){of=H(of,Ve);Ja.point(of[0],of[1])}function fc(){Ae=NaN;Le.point=rc;Ja.lineStart()}
function rc(of,Ve){var we=Yb([of,Ve]);Ve=H(of,Ve);la(Ae,Be,Ge,Id,he,xe,Ae=Ve[0],Be=Ve[1],Ge=of,Id=we[0],he=we[1],xe=we[2],16,Ja);Ja.point(Ae,Be)}function tc(){Le.point=hb;Ja.lineEnd()}function Wb(){fc();Le.point=Dc;Le.lineEnd=yd}function Dc(of,Ve){rc(Zc=of,Ve);hd=Ae;Ad=Be;Hd=Id;Oc=he;Ee=xe;Le.point=rc}function yd(){la(Ae,Be,Ge,Id,he,xe,hd,Ad,Zc,Hd,Oc,Ee,16,Ja);Le.lineEnd=tc;tc()}var Zc,hd,Ad,Hd,Oc,Ee,Ge,Ae,Be,Id,he,xe,Le={point:hb,lineStart:fc,lineEnd:tc,polygonStart:function(){Ja.polygonStart();
Le.lineStart=Wb},polygonEnd:function(){Ja.polygonEnd();Le.lineStart=fc}};return Le}}function xc(H){return Wa({point:function(ka,la){ka=H(ka,la);return this.stream.point(ka[0],ka[1])}})}function dd(H,ka,la,Ja,hb){function fc(rc,tc){rc*=Ja;tc*=hb;return[ka+H*rc,la-H*tc]}fc.invert=function(rc,tc){return[(rc-ka)/H*Ja,(la-tc)/H*hb]};return fc}function Zb(H,ka,la,Ja,hb,fc){function rc(Hd,Oc){Hd*=Ja;Oc*=hb;return[Wb*Hd-Dc*Oc+ka,la-Dc*Hd-Wb*Oc]}if(!fc)return dd(H,ka,la,Ja,hb);var tc=Ud(fc);fc=ma(fc);var Wb=
tc*H,Dc=fc*H,yd=tc/H,Zc=fc/H,hd=(fc*la-tc*ka)/H,Ad=(fc*ka+tc*la)/H;rc.invert=function(Hd,Oc){return[Ja*(yd*Hd-Zc*Oc+hd),hb*(Ad-Zc*Hd-yd*Oc)]};return rc}function Rc(H){return Pd(function(){return H})()}function Pd(H){function ka(Vd){return Pf(Vd[0]*Td,Vd[1]*Td)}function la(Vd){return(Vd=Pf.invert(Vd[0],Vd[1]))&&[Vd[0]*Qd,Vd[1]*Qd]}function Ja(){var Vd=Zb(rc,0,0,Ee,Ge,Oc).apply(null,fc(Dc,yd));Vd=Zb(rc,tc-Vd[0],Wb-Vd[1],Ee,Ge,Oc);Hd=pb(Zc,hd,Ad);wf=Ob(fc,Vd);Pf=Ob(Hd,wf);Vd=wf;we=+Ve?qc(Vd,Ve):yc(Vd);
return hb()}function hb(){af=ag=null;return ka}var fc,rc=150,tc=480,Wb=250,Dc=0,yd=0,Zc=0,hd=0,Ad=0,Hd,Oc=0,Ee=1,Ge=1,Ae=null,Be=mc,Id=null,he,xe,Le,of=Hc,Ve=.5,we,wf,Pf,af,ag;ka.stream=function(Vd){return af&&ag===Vd?af:af=ve(xc(Hd)(Be(we(of(ag=Vd)))))};ka.preclip=function(Vd){return arguments.length?(Be=Vd,Ae=void 0,hb()):Be};ka.postclip=function(Vd){return arguments.length?(of=Vd,Id=he=xe=Le=null,hb()):of};ka.clipAngle=function(Vd){return arguments.length?(Be=+Vd?Ga(Ae=Vd*Td):(Ae=null,mc),hb()):
Ae*Qd};ka.clipExtent=function(Vd){return arguments.length?(of=null==Vd?(Id=he=xe=Le=null,Hc):ba(Id=+Vd[0][0],he=+Vd[0][1],xe=+Vd[1][0],Le=+Vd[1][1]),hb()):null==Id?null:[[Id,he],[xe,Le]]};ka.scale=function(Vd){return arguments.length?(rc=+Vd,Ja()):rc};ka.translate=function(Vd){return arguments.length?(tc=+Vd[0],Wb=+Vd[1],Ja()):[tc,Wb]};ka.center=function(Vd){return arguments.length?(Dc=Vd[0]%360*Td,yd=Vd[1]%360*Td,Ja()):[Dc*Qd,yd*Qd]};ka.rotate=function(Vd){return arguments.length?(Zc=Vd[0]%360*Td,
hd=Vd[1]%360*Td,Ad=2<Vd.length?Vd[2]%360*Td:0,Ja()):[Zc*Qd,hd*Qd,Ad*Qd]};ka.angle=function(Vd){return arguments.length?(Oc=Vd%360*Td,Ja()):Oc*Qd};ka.reflectX=function(Vd){return arguments.length?(Ee=Vd?-1:1,Ja()):0>Ee};ka.reflectY=function(Vd){return arguments.length?(Ge=Vd?-1:1,Ja()):0>Ge};ka.precision=function(Vd){if(arguments.length){var hf=wf;var jf=Ve=Vd*Vd;hf=(we=+jf?qc(hf,jf):yc(hf),hb())}else hf=fb(Ve);return hf};ka.fitExtent=function(Vd,hf){return Ca(ka,Vd,hf)};ka.fitSize=function(Vd,hf){return Ca(ka,
[[0,0],Vd],hf)};ka.fitWidth=function(Vd,hf){return Xa(ka,Vd,hf)};ka.fitHeight=function(Vd,hf){return Ib(ka,Vd,hf)};return function(){fc=H.apply(this,arguments);ka.invert=fc.invert&&la;return Ja()}}function Na(H){var ka=0,la=jc/3,Ja=Pd(H);H=Ja(ka,la);H.parallels=function(hb){return arguments.length?Ja(ka=hb[0]*Td,la=hb[1]*Td):[ka*Qd,la*Qd]};return H}function Ub(H){function ka(Ja,hb){return[Ja*la,ma(hb)/la]}var la=Ud(H);ka.invert=function(Ja,hb){return[Ja/la,Fb(hb*la)]};return ka}function qb(H,ka){function la(tc,
Wb){Wb=fb(fc-2*hb*ma(Wb))/hb;return[Wb*ma(tc*=hb),rc-Wb*Ud(tc)]}var Ja=ma(H),hb=(Ja+ma(ka))/2;if(1E-6>Ed(hb))return Ub(H);var fc=1+Ja*(2*hb-Ja),rc=fb(fc)/hb;la.invert=function(tc,Wb){Wb=rc-Wb;var Dc=ae(tc,Ed(Wb))*za(Wb);0>Wb*hb&&(Dc-=jc*za(tc)*za(Wb));return[Dc/hb,Fb((fc-(tc*tc+Wb*Wb)*hb*hb)/(2*hb))]};return la}function Sb(){return Na(qb).scale(155.424).center([0,33.6442])}function ic(){return Sb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function dc(H){var ka=
H.length;return{point:function(la,Ja){for(var hb=-1;++hb<ka;)H[hb].point(la,Ja)},sphere:function(){for(var la=-1;++la<ka;)H[la].sphere()},lineStart:function(){for(var la=-1;++la<ka;)H[la].lineStart()},lineEnd:function(){for(var la=-1;++la<ka;)H[la].lineEnd()},polygonStart:function(){for(var la=-1;++la<ka;)H[la].polygonStart()},polygonEnd:function(){for(var la=-1;++la<ka;)H[la].polygonEnd()}}}function Ic(H){return function(ka,la){var Ja=Ud(ka),hb=Ud(la);Ja=H(Ja*hb);return Infinity===Ja?[2,0]:[Ja*hb*
ma(ka),Ja*ma(la)]}}function zc(H){return function(ka,la){var Ja=fb(ka*ka+la*la),hb=H(Ja),fc=ma(hb);hb=Ud(hb);return[ae(ka*fc,Ja*hb),Fb(Ja&&la*fc/Ja)]}}function Yc(H,ka){return[H,Wd(Hb((Sc+ka)/2))]}function Md(H){function ka(){var Zc=jc*hb(),hd=la(lb(la.rotate()).invert([0,0]));return rc(null==tc?[[hd[0]-Zc,hd[1]-Zc],[hd[0]+Zc,hd[1]+Zc]]:H===Yc?[[Math.max(hd[0]-Zc,tc),Wb],[Math.min(hd[0]+Zc,Dc),yd]]:[[tc,Math.max(hd[1]-Zc,Wb)],[Dc,Math.min(hd[1]+Zc,yd)]])}var la=Rc(H),Ja=la.center,hb=la.scale,fc=la.translate,
rc=la.clipExtent,tc=null,Wb,Dc,yd;la.scale=function(Zc){return arguments.length?(hb(Zc),ka()):hb()};la.translate=function(Zc){return arguments.length?(fc(Zc),ka()):fc()};la.center=function(Zc){return arguments.length?(Ja(Zc),ka()):Ja()};la.clipExtent=function(Zc){return arguments.length?(null==Zc?tc=Wb=Dc=yd=null:(tc=+Zc[0][0],Wb=+Zc[0][1],Dc=+Zc[1][0],yd=+Zc[1][1]),ka()):null==tc?null:[[tc,Wb],[Dc,yd]]};return ka()}function ud(H,ka){function la(rc,tc){0<fc?tc<-Sc+1E-6&&(tc=-Sc+1E-6):tc>Sc-1E-6&&
(tc=Sc-1E-6);tc=fc/N(Hb((Sc+tc)/2),hb);return[tc*ma(hb*rc),fc-tc*Ud(hb*rc)]}var Ja=Ud(H),hb=H===ka?ma(H):Wd(Ja/Ud(ka))/Wd(Hb((Sc+ka)/2)/Hb((Sc+H)/2)),fc=Ja*N(Hb((Sc+H)/2),hb)/hb;if(!hb)return Yc;la.invert=function(rc,tc){tc=fc-tc;var Wb=za(hb)*fb(rc*rc+tc*tc),Dc=ae(rc,Ed(tc))*za(tc);0>tc*hb&&(Dc-=jc*za(rc)*za(tc));return[Dc/hb,2*Yd(N(fc/Wb,1/hb))-Sc]};return la}function Ha(H,ka){return[H,ka]}function gb(H,ka){function la(rc,tc){tc=fc-tc;rc*=hb;return[tc*ma(rc),fc-tc*Ud(rc)]}var Ja=Ud(H),hb=H===ka?
ma(H):(Ja-Ud(ka))/(ka-H),fc=Ja/hb+H;if(1E-6>Ed(hb))return Ha;la.invert=function(rc,tc){tc=fc-tc;var Wb=ae(rc,Ed(tc))*za(tc);0>tc*hb&&(Wb-=jc*za(rc)*za(tc));return[Wb/hb,fc-za(hb)*fb(rc*rc+tc*tc)]};return la}function vb(H,ka){ka=Fb(sf*ma(ka));var la=ka*ka,Ja=la*la*la;return[H*Ud(ka)/(sf*(1.340264+3*-.081106*la+Ja*(7*8.93E-4+.034164*la))),ka*(1.340264+-.081106*la+Ja*(8.93E-4+.003796*la))]}function ta(H,ka){var la=Ud(ka),Ja=Ud(H)*la;return[la*ma(H)/Ja,ma(ka)/Ja]}function F(H,ka){var la=ka*ka,Ja=la*la;
return[H*(.8707-.131979*la+Ja*(-.013791+Ja*(.003971*la-.001529*Ja))),ka*(1.007226+la*(.015085+Ja*(-.044475+.028874*la-.005916*Ja)))]}function ya(H,ka){return[Ud(ka)*ma(H),ma(ka)]}function Oa(H,ka){var la=Ud(ka),Ja=1+Ud(H)*la;return[la*ma(H)/Ja,ma(ka)/Ja]}function Za(H,ka){return[Wd(Hb((Sc+ka)/2)),-H]}function kb(H){return 1<H?Jd:-1>H?-Jd:Math.asin(H)}function Eb(H,ka){return function Ja(){const hb=ka();hb.type=H;hb.path=La().projection(hb);hb.copy=hb.copy||function(){const fc=Ja();O.forEach(rc=>{if(hb[rc])fc[rc](hb[rc]())});
fc.path.pointRadius(hb.path.pointRadius());return fc};return k.registerScale(hb)}}function oc(H,ka){if(!H||"string"!==typeof H)throw Error("Projection type must be a name string.");H=H.toLowerCase();return 1<arguments.length?(da[H]=Eb(H,ka),this):da[H]||null}class ec{constructor(){this._partials=new Float64Array(32);this._n=0}add(H){const ka=this._partials;let la=0;for(let Ja=0;Ja<this._n&&32>Ja;Ja++){const hb=ka[Ja],fc=H+hb;(H=Math.abs(H)<Math.abs(hb)?H-(fc-hb):hb-(fc-H))&&(ka[la++]=H);H=fc}ka[la]=
H;this._n=la+1;return this}valueOf(){const H=this._partials;let ka=this._n;let la,Ja=0;if(0<ka){for(Ja=H[--ka];0<ka;){var hb=Ja;la=H[--ka];Ja=hb+la;if(hb=la-(Ja-hb))break}0<ka&&(0>hb&&0>H[ka-1]||0<hb&&0<H[ka-1])&&(la=2*hb,hb=Ja+la,la==hb-Ja&&(Ja=hb))}return Ja}}var jc=Math.PI,Sc=jc/2,ed=jc/4,fd=2*jc,Qd=180/jc,Td=jc/180,Ed=Math.abs,Yd=Math.atan,ae=Math.atan2,Ud=Math.cos,Xe=Math.exp,Wd=Math.log,N=Math.pow,ma=Math.sin,za=Math.sign||function(H){return 0<H?1:0>H?-1:0},fb=Math.sqrt,Hb=Math.tan,Xb={Feature:function(H,
ka){vc(H.geometry,ka)},FeatureCollection:function(H,ka){H=H.features;for(var la=-1,Ja=H.length;++la<Ja;)vc(H[la].geometry,ka)}},Cc={Sphere:function(H,ka){ka.sphere()},Point:function(H,ka){H=H.coordinates;ka.point(H[0],H[1],H[2])},MultiPoint:function(H,ka){for(var la=H.coordinates,Ja=-1,hb=la.length;++Ja<hb;)H=la[Ja],ka.point(H[0],H[1],H[2])},LineString:function(H,ka){Bc(H.coordinates,ka,0)},MultiLineString:function(H,ka){H=H.coordinates;for(var la=-1,Ja=H.length;++la<Ja;)Bc(H[la],ka,0)},Polygon:function(H,
ka){uc(H.coordinates,ka)},MultiPolygon:function(H,ka){H=H.coordinates;for(var la=-1,Ja=H.length;++la<Ja;)uc(H[la],ka)},GeometryCollection:function(H,ka){H=H.geometries;for(var la=-1,Ja=H.length;++la<Ja;)vc(H[la],ka)}};ab.invert=ab;var mc=qa(function(){return!0},function(H){var ka=NaN,la=NaN,Ja=NaN,hb;return{lineStart:function(){H.lineStart();hb=1},point:function(fc,rc){var tc=0<fc?jc:-jc,Wb=Ed(fc-ka);if(1E-6>Ed(Wb-jc))H.point(ka,la=0<(la+rc)/2?Sc:-Sc),H.point(Ja,la),H.lineEnd(),H.lineStart(),H.point(tc,
la),H.point(fc,la),hb=0;else if(Ja!==tc&&Wb>=jc){1E-6>Ed(ka-Ja)&&(ka-=1E-6*Ja);1E-6>Ed(fc-tc)&&(fc-=1E-6*tc);Wb=ka;var Dc=la,yd=fc,Zc,hd,Ad=ma(Wb-yd);la=1E-6<Ed(Ad)?Yd((ma(Dc)*(hd=Ud(rc))*ma(yd)-ma(rc)*(Zc=Ud(Dc))*ma(Wb))/(Zc*hd*Ad)):(Dc+rc)/2;H.point(Ja,la);H.lineEnd();H.lineStart();H.point(tc,la);hb=0}H.point(ka=fc,la=rc);Ja=tc},lineEnd:function(){H.lineEnd();ka=la=NaN},clean:function(){return 2-hb}}},function(H,ka,la,Ja){null==H?(la*=Sc,Ja.point(-jc,la),Ja.point(0,la),Ja.point(jc,la),Ja.point(jc,
0),Ja.point(jc,-la),Ja.point(0,-la),Ja.point(-jc,-la),Ja.point(-jc,0),Ja.point(-jc,la)):1E-6<Ed(H[0]-ka[0])?(H=H[0]<ka[0]?jc:-jc,la=la*H/2,Ja.point(-H,la),Ja.point(0,la),Ja.point(H,la)):Ja.point(ka[0],ka[1])},[-jc,-Sc]),Hc=H=>H,jd=new ec,Nc=new ec,vd,Gd,Fd,Xd,Nd={point:bc,lineStart:bc,lineEnd:bc,polygonStart:function(){Nd.lineStart=oa;Nd.lineEnd=Q},polygonEnd:function(){Nd.lineStart=Nd.lineEnd=Nd.point=bc;jd.add(Ed(Nc));Nc=new ec},result:function(){var H=jd/2;jd=new ec;return H}},qe=Nd,De=Infinity,
gf=De,cf=-De,df=cf,pe={point:function(H,ka){H<De&&(De=H);H>cf&&(cf=H);ka<gf&&(gf=ka);ka>df&&(df=ka)},lineStart:bc,lineEnd:bc,polygonStart:bc,polygonEnd:bc,result:function(){var H=[[De,gf],[cf,df]];cf=df=-(gf=De=Infinity);return H}},nf=0,U=0,ua=0,cb=0,yb=0,gc=0,Ec=0,$b=0,J=0,fa,Sa,cc,Jc,Ac={point:g,lineStart:u,lineEnd:B,polygonStart:function(){Ac.lineStart=A;Ac.lineEnd=D},polygonEnd:function(){Ac.point=g;Ac.lineStart=u;Ac.lineEnd=B},result:function(){var H=J?[Ec/J,$b/J]:gc?[cb/gc,yb/gc]:ua?[nf/ua,
U/ua]:[NaN,NaN];nf=U=ua=cb=yb=gc=Ec=$b=J=0;return H}},$c=Ac;Aa.prototype={_radius:4.5,pointRadius:function(H){return this._radius=H,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(H,ka){switch(this._point){case 0:this._context.moveTo(H,ka);this._point=1;break;case 1:this._context.lineTo(H,ka);break;default:this._context.moveTo(H+this._radius,
ka),this._context.arc(H,ka,this._radius,0,fd)}},result:bc};var pd=new ec,ee,Ra,db,pc,wd,Mc={point:bc,lineStart:function(){Mc.point=Y},lineEnd:function(){ee&&t(Ra,db);Mc.point=bc},polygonStart:function(){ee=!0},polygonEnd:function(){ee=null},result:function(){var H=+pd;pd=new ec;return H}},Uc=Mc;let Qc,td,kd,Ld;class Cd{constructor(H){this._append=null==H?L:va(H);this._radius=4.5;this._=""}pointRadius(H){this._radius=+H;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=
0}lineEnd(){0===this._line&&(this._+="Z");this._point=NaN}point(H,ka){switch(this._point){case 0:this._append`M${H},${ka}`;this._point=1;break;case 1:this._append`L${H},${ka}`;break;default:this._append`M${H},${ka}`;if(this._radius!==kd||this._append!==td)H=this._radius,ka=this._,this._="",this._append`m0,${H}a${H},${H} 0 1,1 0,${-2*H}a${H},${H} 0 1,1 0,${2*H}z`,kd=H,td=this._append,Ld=this._,this._=ka;this._+=Ld}}result(){const H=this._;this._="";return H.length?H:null}}$a.prototype={constructor:$a,
point:function(H,ka){this.stream.point(H,ka)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var be=Ud(30*Td),ve=Wa({point:function(H,ka){this.stream.point(H*Td,ka*Td)}}),Me=Ic(function(H){return fb(2/(1+H))});Me.invert=zc(function(H){return 2*Fb(H/2)});var $e=Ic(function(H){return(H=jb(H))&&H/ma(H)});$e.invert=zc(function(H){return H});
Yc.invert=function(H,ka){return[H,2*Yd(Xe(ka))-Sc]};Ha.invert=Ha;var sf=fb(3)/2;vb.invert=function(H,ka){for(var la=ka,Ja=la*la,hb=Ja*Ja*Ja,fc=0,rc;12>fc&&!(rc=la*(1.340264+-.081106*Ja+hb*(8.93E-4+.003796*Ja))-ka,Ja=1.340264+3*-.081106*Ja+hb*(7*8.93E-4+.034164*Ja),la-=rc/=Ja,Ja=la*la,hb=Ja*Ja*Ja,1E-12>Ed(rc));++fc);return[sf*H*(1.340264+3*-.081106*Ja+hb*(7*8.93E-4+.034164*Ja))/Ud(la),Fb(ma(la)/sf)]};ta.invert=zc(Yd);F.invert=function(H,ka){var la=ka,Ja=25;do{var hb=la*la;var fc=hb*hb;la-=fc=(la*(1.007226+
hb*(.015085+fc*(-.044475+.028874*hb-.005916*fc)))-ka)/(1.007226+hb*(.045255+fc*(-.311325+.259866*hb-.005916*11*fc)))}while(1E-6<Ed(fc)&&0<--Ja);return[H/(.8707+(hb=la*la)*(-.131979+hb*(-.013791+hb*hb*hb*(.003971-.001529*hb)))),la]};ya.invert=zc(Fb);Oa.invert=zc(function(H){return 2*Yd(H)});Za.invert=function(H,ka){return[-ka,2*Yd(Xe(H))-Sc]};var nd=Math.abs,Fc=Math.cos,bd=Math.sin,Gc=Math.PI,Jd=Gc/2,Zd=Math.sqrt(2),$d=function(H,ka,la){function Ja(hb,fc){var rc=fc,tc=la*bd(rc),Wb=30,Dc;do rc-=Dc=
(rc+bd(rc)-tc)/(1+Fc(rc));while(1E-6<nd(Dc)&&0<--Wb);return[H*hb*Fc(fc=rc/2),ka*bd(fc)]}Ja.invert=function(hb,fc){return fc=kb(fc/ka),[hb/(H*Fc(fc)),kb((2*fc+bd(2*fc))/la)]};return Ja}(Zd/Jd,Zd,Gc);const ke=La(),O="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),da={albers:ic,albersusa:function(){function H(hd){var Ad=hd[0];hd=hd[1];return yd=null,(fc.point(Ad,hd),yd)||(tc.point(Ad,
hd),yd)||(Dc.point(Ad,hd),yd)}function ka(){la=Ja=null;return H}var la,Ja,hb=ic(),fc,rc=Sb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),tc,Wb=Sb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Dc,yd,Zc={point:function(hd,Ad){yd=[hd,Ad]}};H.invert=function(hd){var Ad=hb.scale(),Hd=hb.translate(),Oc=(hd[0]-Hd[0])/Ad;Ad=(hd[1]-Hd[1])/Ad;return(.12<=Ad&&.234>Ad&&-.425<=Oc&&-.214>Oc?rc:.166<=Ad&&.234>Ad&&-.214<=Oc&&-.115>Oc?Wb:hb).invert(hd)};H.stream=function(hd){return la&&Ja===hd?la:
la=dc([hb.stream(Ja=hd),rc.stream(hd),Wb.stream(hd)])};H.precision=function(hd){if(!arguments.length)return hb.precision();hb.precision(hd);rc.precision(hd);Wb.precision(hd);return ka()};H.scale=function(hd){if(!arguments.length)return hb.scale();hb.scale(hd);rc.scale(.35*hd);Wb.scale(hd);return H.translate(hb.translate())};H.translate=function(hd){if(!arguments.length)return hb.translate();var Ad=hb.scale(),Hd=+hd[0],Oc=+hd[1];fc=hb.translate(hd).clipExtent([[Hd-.455*Ad,Oc-.238*Ad],[Hd+.455*Ad,Oc+
.238*Ad]]).stream(Zc);tc=rc.translate([Hd-.307*Ad,Oc+.201*Ad]).clipExtent([[Hd-.425*Ad+1E-6,Oc+.12*Ad+1E-6],[Hd-.214*Ad-1E-6,Oc+.234*Ad-1E-6]]).stream(Zc);Dc=Wb.translate([Hd-.205*Ad,Oc+.212*Ad]).clipExtent([[Hd-.214*Ad+1E-6,Oc+.166*Ad+1E-6],[Hd-.115*Ad-1E-6,Oc+.234*Ad-1E-6]]).stream(Zc);return ka()};H.fitExtent=function(hd,Ad){return Ca(H,hd,Ad)};H.fitSize=function(hd,Ad){return Ca(H,[[0,0],hd],Ad)};H.fitWidth=function(hd,Ad){return Xa(H,hd,Ad)};H.fitHeight=function(hd,Ad){return Ib(H,hd,Ad)};return H.scale(1070)},
azimuthalequalarea:function(){return Rc(Me).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Rc($e).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Na(ud).scale(109.5).parallels([30,30])},conicequalarea:Sb,conicequidistant:function(){return Na(gb).scale(131.154).center([0,13.9389])},equalEarth:function(){return Rc(vb).scale(177.158)},equirectangular:function(){return Rc(Ha).scale(152.63)},gnomonic:function(){return Rc(ta).scale(144.049).clipAngle(60)},identity:function(){function H(){Hd=
la*fc;Oc=la*rc;Ae=Be=null;return ka}function ka(Id){var he=Id[0]*Hd;Id=Id[1]*Oc;if(tc){var xe=Id*Wb-he*Dc;he=he*Wb+Id*Dc;Id=xe}return[he+Ja,Id+hb]}var la=1,Ja=0,hb=0,fc=1,rc=1,tc=0,Wb,Dc,yd=null,Zc,hd,Ad,Hd=1,Oc=1,Ee=Wa({point:function(Id,he){Id=ka([Id,he]);this.stream.point(Id[0],Id[1])}}),Ge=Hc,Ae,Be;ka.invert=function(Id){var he=Id[0]-Ja;Id=Id[1]-hb;if(tc){var xe=Id*Wb+he*Dc;he=he*Wb-Id*Dc;Id=xe}return[he/Hd,Id/Oc]};ka.stream=function(Id){return Ae&&Be===Id?Ae:Ae=Ee(Ge(Be=Id))};ka.postclip=function(Id){return arguments.length?
(Ge=Id,yd=Zc=hd=Ad=null,H()):Ge};ka.clipExtent=function(Id){return arguments.length?(Ge=null==Id?(yd=Zc=hd=Ad=null,Hc):ba(yd=+Id[0][0],Zc=+Id[0][1],hd=+Id[1][0],Ad=+Id[1][1]),H()):null==yd?null:[[yd,Zc],[hd,Ad]]};ka.scale=function(Id){return arguments.length?(la=+Id,H()):la};ka.translate=function(Id){return arguments.length?(Ja=+Id[0],hb=+Id[1],H()):[Ja,hb]};ka.angle=function(Id){return arguments.length?(tc=Id%360*Td,Dc=ma(tc),Wb=Ud(tc),H()):tc*Qd};ka.reflectX=function(Id){return arguments.length?
(fc=Id?-1:1,H()):0>fc};ka.reflectY=function(Id){return arguments.length?(rc=Id?-1:1,H()):0>rc};ka.fitExtent=function(Id,he){return Ca(ka,Id,he)};ka.fitSize=function(Id,he){return Ca(ka,[[0,0],Id],he)};ka.fitWidth=function(Id,he){return Xa(ka,Id,he)};ka.fitHeight=function(Id,he){return Ib(ka,Id,he)};return ka},mercator:function(){return Md(Yc).scale(961/fd)},mollweide:function(){return Rc($d).scale(169.529)},naturalEarth1:function(){return Rc(F).scale(175.295)},orthographic:function(){return Rc(ya).scale(249.5).clipAngle(90.000001)},
stereographic:function(){return Rc(Oa).scale(250).clipAngle(142)},transversemercator:function(){var H=Md(Za),ka=H.center,la=H.rotate;H.center=function(Ja){return arguments.length?ka([-Ja[1],Ja[0]]):(Ja=ka(),[Ja[1],-Ja[0]])};H.rotate=function(Ja){return arguments.length?la([Ja[0],Ja[1],2<Ja.length?Ja[2]+90:90]):(Ja=la(),[Ja[0],Ja[1],Ja[2]-90])};return la([0,0,90]).scale(159.155)}};for(const H in da)oc(H,da[H]);v.getProjectionPath=function(H){return H&&H.path||ke};v.projection=oc;v.projectionProperties=
O})};
shadow$provide[37]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(28),Db(20),Db(29),Db(36),Db(31)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,jb,Fb,bc){function vc(F,ya,Oa){var Za=(ya-F)/Math.max(0,Oa),kb=Math.floor(Math.log10(Za));
Za/=Math.pow(10,kb);Za=Za>=Pd?10:Za>=Na?5:Za>=Ub?2:1;let Eb;0>kb?(Eb=Math.pow(10,-kb)/Za,kb=Math.round(F*Eb),Za=Math.round(ya*Eb),kb/Eb<F&&++kb,Za/Eb>ya&&--Za,Eb=-Eb):(Eb=Math.pow(10,kb)*Za,kb=Math.round(F/Eb),Za=Math.round(ya/Eb),kb*Eb<F&&++kb,Za*Eb>ya&&--Za);return Za<kb&&.5<=Oa&&2>Oa?vc(F,ya,2*Oa):[kb,Za,Eb]}function Bc(F,ya,Oa){return vc(+F,+ya,+Oa)[2]}function uc(F,ya){let Oa;if(void 0===ya)for(var Za of F)null!=Za&&(Oa<Za||void 0===Oa&&Za>=Za)&&(Oa=Za);else{Za=-1;for(let kb of F)null!=(kb=ya(kb,
++Za,F))&&(Oa<kb||void 0===Oa&&kb>=kb)&&(Oa=kb)}return Oa}function Ab(F,ya,Oa){F=+F;ya=+ya;Oa=2>(kb=arguments.length)?(ya=F,F=0,1):3>kb?1:+Oa;for(var Za=-1,kb=Math.max(0,Math.ceil((ya-F)/Oa))|0,Eb=Array(kb);++Za<kb;)Eb[Za]=F+Za*Oa;return Eb}function kc(F,ya){let Oa=0;if(void 0===ya)for(var Za of F){if(Za=+Za)Oa+=Za}else{Za=-1;for(let kb of F)if(kb=+ya(kb,++Za,F))Oa+=kb}return Oa}function Yb(){}function Ua(){function F(ec,jc){return jc.map(Sc=>ya(ec,Sc))}function ya(ec,jc){var Sc=[],ed=[];Oa(ec,jc,
fd=>{oc(fd,ec,jc);for(var Qd=0,Td=fd.length,Ed=fd[Td-1][1]*fd[0][0]-fd[Td-1][0]*fd[0][1];++Qd<Td;)Ed+=fd[Qd-1][1]*fd[Qd][0]-fd[Qd-1][0]*fd[Qd][1];0<Ed?Sc.push([fd]):ed.push(fd)});ed.forEach(fd=>{for(var Qd=0,Td=Sc.length,Ed;Qd<Td;++Qd){a:{var Yd=(Ed=Sc[Qd])[0];for(var ae=fd,Ud=-1,Xe=ae.length;++Ud<Xe;){b:{var Wd=Yd;for(var N=ae[Ud],ma=N[0],za=N[1],fb=-1,Hb=0,Xb=Wd.length,Cc=Xb-1;Hb<Xb;Cc=Hb++){var mc=Wd[Hb],Hc=mc[0],jd=mc[1],Nc=Wd[Cc];Cc=Nc[0];var vd=Nc[1],Gd,Fd=mc;mc=Nc;Nc=N;if(Gd=(mc[0]-Fd[0])*
(Nc[1]-Fd[1])===(Nc[0]-Fd[0])*(mc[1]-Fd[1]))Fd=Fd[Gd=+(Fd[0]===mc[0])],Nc=Nc[Gd],mc=mc[Gd],Gd=Fd<=Nc&&Nc<=mc||mc<=Nc&&Nc<=Fd;if(Gd){Wd=0;break b}jd>za!==vd>za&&ma<(Cc-Hc)*(za-jd)/(vd-jd)+Hc&&(fb=-fb)}Wd=fb}if(Wd){Yd=Wd;break a}}Yd=0}if(-1!==Yd){Ed.push(fd);break}}});return{type:"MultiPolygon",value:jc,coordinates:Sc}}function Oa(ec,jc,Sc){function ed(Wd){var N=[Wd[0][0]+Ed,Wd[0][1]+Td];Wd=[Wd[1][0]+Ed,Wd[1][1]+Td];var ma=2*N[0]+N[1]*(kb+1)*4,za=2*Wd[0]+Wd[1]*(kb+1)*4,fb,Hb;(fb=Qd[ma])?(Hb=fd[za])?
(delete Qd[fb.end],delete fd[Hb.start],fb===Hb?(fb.ring.push(Wd),Sc(fb.ring)):fd[fb.start]=Qd[Hb.end]={start:fb.start,end:Hb.end,ring:fb.ring.concat(Hb.ring)}):(delete Qd[fb.end],fb.ring.push(Wd),Qd[fb.end=za]=fb):(fb=fd[za])?(Hb=Qd[ma])?(delete fd[fb.start],delete Qd[Hb.end],fb===Hb?(fb.ring.push(Wd),Sc(fb.ring)):fd[Hb.start]=Qd[fb.end]={start:Hb.start,end:fb.end,ring:Hb.ring.concat(fb.ring)}):(delete fd[fb.start],fb.ring.unshift(N),fd[fb.start=ma]=fb):fd[ma]=Qd[za]={start:ma,end:za,ring:[N,Wd]}}
var fd=[],Qd=[],Td;var Ed=Td=-1;var Yd=ec[0]>=jc;for(qb[Yd<<1].forEach(ed);++Ed<kb-1;){var ae=Yd;Yd=ec[Ed+1]>=jc;qb[ae|Yd<<1].forEach(ed)}for(qb[Yd<<0].forEach(ed);++Td<Eb-1;){Ed=-1;Yd=ec[Td*kb+kb]>=jc;var Ud=ec[Td*kb]>=jc;for(qb[Yd<<1|Ud<<2].forEach(ed);++Ed<kb-1;){ae=Yd;Yd=ec[Td*kb+kb+Ed+1]>=jc;var Xe=Ud;Ud=ec[Td*kb+Ed+1]>=jc;qb[ae|Yd<<1|Ud<<2|Xe<<3].forEach(ed)}qb[Yd|Ud<<3].forEach(ed)}Ed=-1;Ud=ec[Td*kb]>=jc;for(qb[Ud<<2].forEach(ed);++Ed<kb-1;)Xe=Ud,Ud=ec[Td*kb+Ed+1]>=jc,qb[Ud<<2|Xe<<3].forEach(ed);
qb[Ud<<3].forEach(ed)}function Za(ec,jc,Sc){ec.forEach(ed=>{var fd=ed[0],Qd=ed[1],Td=fd|0,Ed=Qd|0,Yd=jc[Ed*kb+Td];if(0<fd&&fd<kb&&Td===fd){var ae=jc[Ed*kb+Td-1];ed[0]=fd+(Sc-ae)/(Yd-ae)-.5}0<Qd&&Qd<Eb&&Ed===Qd&&(ae=jc[(Ed-1)*kb+Td],ed[1]=Qd+(Sc-ae)/(Yd-ae)-.5)})}var kb=1,Eb=1,oc=Za;F.contour=ya;F.size=function(ec){if(!arguments.length)return[kb,Eb];var jc=Math.floor(ec[0]),Sc=Math.floor(ec[1]);0<=jc&&0<=Sc||P.error("invalid size");return kb=jc,Eb=Sc,F};F.smooth=function(ec){return arguments.length?
(oc=ec?Za:Yb,F):oc===Za};return F}function tb(F,ya,Oa){return function(Za){var kb=P.extent(Za);Za=Oa?Math.min(kb[0],0):kb[0];kb=kb[1];var Eb=kb-Za;if(ya){var oc=F;var ec=+kb;var jc=+Za;oc=+oc;jc=(Eb=ec<jc)?Bc(ec,jc,oc):Bc(jc,ec,oc);Eb=(Eb?-1:1)*(0>jc?1/-jc:jc)}else Eb/=F+1;return Ab(Za+Eb,kb,Eb)}}function Jb(F){k.Transform.call(this,null,F)}function Kb(F,ya,Oa){const Za=tb(Oa.levels||10,Oa.nice,!1!==Oa.zero);return"shared"!==Oa.resolve?Za:Za(F.map(kb=>uc(ya(kb).values)))}function Cb(F,ya,Oa,Za){var kb=
Za.scale||ya.scale;let Eb=Za.translate||ya.translate;P.isFunction(kb)&&(kb=kb(Oa,Za));P.isFunction(Eb)&&(Eb=Eb(Oa,Za));if(1!==kb&&null!=kb||Eb)Oa=(P.isNumber(kb)?kb:kb[0])||1,kb=(P.isNumber(kb)?kb:kb[1])||1,F.forEach(Ob(ya,Oa,kb,Eb&&Eb[0]||0,Eb&&Eb[1]||0))}function Ob(F,ya,Oa,Za,kb){function Eb(fd){fd.forEach(oc)}function oc(fd){ed&&fd.reverse();fd.forEach(ec)}function ec(fd){fd[0]=(fd[0]-jc)*ya+Za;fd[1]=(fd[1]-Sc)*Oa+kb}const jc=F.x1||0,Sc=F.y1||0,ed=0>ya*Oa;return function(fd){fd.coordinates.forEach(Eb);
return fd}}function ab(F,ya,Oa){F=0<=F?F:jb.bandwidthNRD(ya,Oa);return Math.round((Math.sqrt(4*F*F+1)-1)/2)}function pb(F){return P.isFunction(F)?F:P.constant(+F)}function Qa(){function F(jc,Sc){const ed=ab(kb[0],jc,ya)>>ec,fd=ab(kb[1],jc,Oa)>>ec,Qd=ed?ed+2:0,Td=fd?fd+2:0,Ed=2*Qd+(Eb>>ec),Yd=2*Td+(oc>>ec),ae=new Float32Array(Ed*Yd),Ud=new Float32Array(Ed*Yd);let Xe=ae;jc.forEach(Wd=>{const N=Qd+(+ya(Wd)>>ec),ma=Td+(+Oa(Wd)>>ec);0<=N&&N<Ed&&0<=ma&&ma<Yd&&(ae[N+ma*Ed]+=+Za(Wd))});0<ed&&0<fd?(Da(Ed,
Yd,ae,Ud,ed),Ka(Ed,Yd,Ud,ae,fd),Da(Ed,Yd,ae,Ud,ed),Ka(Ed,Yd,Ud,ae,fd),Da(Ed,Yd,ae,Ud,ed),Ka(Ed,Yd,Ud,ae,fd)):0<ed?(Da(Ed,Yd,ae,Ud,ed),Da(Ed,Yd,Ud,ae,ed),Da(Ed,Yd,ae,Ud,ed),Xe=Ud):0<fd&&(Ka(Ed,Yd,ae,Ud,fd),Ka(Ed,Yd,Ud,ae,fd),Ka(Ed,Yd,ae,Ud,fd),Xe=Ud);jc=Sc?Math.pow(2,-2*ec):1/kc(Xe);for(let Wd=0,N=Ed*Yd;Wd<N;++Wd)Xe[Wd]*=jc;return{values:Xe,scale:1<<ec,width:Ed,height:Yd,x1:Qd,y1:Td,x2:Qd+(Eb>>ec),y2:Td+(oc>>ec)}}var ya=jc=>jc[0],Oa=jc=>jc[1],Za=P.one,kb=[-1,-1],Eb=960,oc=500,ec=2;F.x=function(jc){return arguments.length?
(ya=pb(jc),F):ya};F.y=function(jc){return arguments.length?(Oa=pb(jc),F):Oa};F.weight=function(jc){return arguments.length?(Za=pb(jc),F):Za};F.size=function(jc){if(!arguments.length)return[Eb,oc];var Sc=+jc[0],ed=+jc[1];0<=Sc&&0<=ed||P.error("invalid size");return Eb=Sc,oc=ed,F};F.cellSize=function(jc){if(!arguments.length)return 1<<ec;1<=(jc=+jc)||P.error("invalid cell size");ec=Math.floor(Math.log(jc)/Math.LN2);return F};F.bandwidth=function(jc){if(!arguments.length)return kb;jc=P.array(jc);1===
jc.length&&(jc=[+jc[0],+jc[0]]);2!==jc.length&&P.error("invalid bandwidth");return kb=jc,F};return F}function Da(F,ya,Oa,Za,kb){const Eb=(kb<<1)+1;for(let oc=0;oc<ya;++oc)for(let ec=0,jc=0;ec<F+kb;++ec)ec<F&&(jc+=Oa[ec+oc*F]),ec>=kb&&(ec>=Eb&&(jc-=Oa[ec-Eb+oc*F]),Za[ec-kb+oc*F]=jc/Math.min(ec+1,F-1+Eb-ec,Eb))}function Ka(F,ya,Oa,Za,kb){const Eb=(kb<<1)+1;for(let oc=0;oc<F;++oc)for(let ec=0,jc=0;ec<ya+kb;++ec)ec<ya&&(jc+=Oa[oc+ec*F]),ec>=kb&&(ec>=Eb&&(jc-=Oa[oc+(ec-Eb)*F]),Za[oc+(ec-kb)*F]=jc/Math.min(ec+
1,ya-1+Eb-ec,Eb))}function lb(F){k.Transform.call(this,null,F)}function mb(F,ya){Sb.forEach(Oa=>null!=ya[Oa]?F[Oa](ya[Oa]):0);return F}function Pa(F,ya){var Oa=[],Za=ed=>ed(ec),kb;if(null==ya)Oa.push(F);else{var Eb={};var oc=0;for(kb=F.length;oc<kb;++oc){var ec=F[oc];var jc=ya.map(Za);var Sc=Eb[jc];Sc||(Eb[jc]=Sc=[],Sc.dims=jc,Oa.push(Sc));Sc.push(ec)}}return Oa}function wb(F){k.Transform.call(this,null,F)}function sb(F){k.Transform.call(this,null,F)}function Pb(F){k.Transform.call(this,null,F)}function Vb(F,
ya){const Oa=F.pointRadius();F.context(null);null!=ya&&F.pointRadius(ya);return Oa}function nb(F){k.Transform.call(this,null,F)}function qa(F){k.Transform.call(this,null,F)}function Z(F,ya,Oa){const Za=null==Oa?kb=>F(ya(kb)):kb=>{var Eb=F.pointRadius();kb=F.pointRadius(Oa)(ya(kb));F.pointRadius(Eb);return kb};Za.context=kb=>{F.context(kb);return Za};return Za}function Fa(F,ya,Oa){var Za=Ab(F,ya-1E-6,Oa).concat(ya);return function(kb){return Za.map(function(Eb){return[kb,Eb]})}}function Ga(F,ya,Oa){var Za=
Ab(F,ya-1E-6,Oa).concat(ya);return function(kb){return Za.map(function(Eb){return[Eb,kb]})}}function eb(){function F(){return{type:"MultiLineString",coordinates:ya()}}function ya(){return Ab(dc(Eb/Qd)*Qd,kb,Qd).map(ae).concat(Ab(dc(Sc/Td)*Td,jc,Td).map(Ud)).concat(Ab(dc(Za/ed)*ed,Oa,ed).filter(function(Wd){return 1E-6<ic(Wd%Qd)}).map(Ed)).concat(Ab(dc(ec/fd)*fd,oc,fd).filter(function(Wd){return 1E-6<ic(Wd%Td)}).map(Yd))}var Oa,Za,kb,Eb,oc,ec,jc,Sc,ed=10,fd=ed,Qd=90,Td=360,Ed,Yd,ae,Ud,Xe=2.5;F.lines=
function(){return ya().map(function(Wd){return{type:"LineString",coordinates:Wd}})};F.outline=function(){return{type:"Polygon",coordinates:[ae(Eb).concat(Ud(jc).slice(1),ae(kb).reverse().slice(1),Ud(Sc).reverse().slice(1))]}};F.extent=function(Wd){return arguments.length?F.extentMajor(Wd).extentMinor(Wd):F.extentMinor()};F.extentMajor=function(Wd){if(!arguments.length)return[[Eb,Sc],[kb,jc]];Eb=+Wd[0][0];kb=+Wd[1][0];Sc=+Wd[0][1];jc=+Wd[1][1];Eb>kb&&(Wd=Eb,Eb=kb,kb=Wd);Sc>jc&&(Wd=Sc,Sc=jc,jc=Wd);
return F.precision(Xe)};F.extentMinor=function(Wd){if(!arguments.length)return[[Za,ec],[Oa,oc]];Za=+Wd[0][0];Oa=+Wd[1][0];ec=+Wd[0][1];oc=+Wd[1][1];Za>Oa&&(Wd=Za,Za=Oa,Oa=Wd);ec>oc&&(Wd=ec,ec=oc,oc=Wd);return F.precision(Xe)};F.step=function(Wd){return arguments.length?F.stepMajor(Wd).stepMinor(Wd):F.stepMinor()};F.stepMajor=function(Wd){if(!arguments.length)return[Qd,Td];Qd=+Wd[0];Td=+Wd[1];return F};F.stepMinor=function(Wd){if(!arguments.length)return[ed,fd];ed=+Wd[0];fd=+Wd[1];return F};F.precision=
function(Wd){if(!arguments.length)return Xe;Xe=+Wd;Ed=Fa(ec,oc,90);Yd=Ga(Za,Oa,Xe);ae=Fa(Sc,jc,90);Ud=Ga(Eb,kb,Xe);return F};return F.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function ba(F){k.Transform.call(this,[],F);this.generator=eb()}function oa(F,ya,Oa){F.prototype=ya.prototype=Oa;Oa.constructor=F}function q(F,ya){F=Object.create(F.prototype);for(var Oa in ya)F[Oa]=ya[Oa];return F}function M(){}function Q(){return this.rgb().formatHex()}
function g(){return this.rgb().formatRgb()}function u(F){var ya,Oa;F=(F+"").trim().toLowerCase();return(ya=zc.exec(F))?(Oa=ya[1].length,ya=parseInt(ya[1],16),6===Oa?m(ya):3===Oa?new A(ya>>8&15|ya>>4&240,ya>>4&15|ya&240,(ya&15)<<4|ya&15,1):8===Oa?C(ya>>24&255,ya>>16&255,ya>>8&255,(ya&255)/255):4===Oa?C(ya>>12&15|ya>>8&240,ya>>8&15|ya>>4&240,ya>>4&15|ya&240,((ya&15)<<4|ya&15)/255):null):(ya=Yc.exec(F))?new A(ya[1],ya[2],ya[3],1):(ya=Md.exec(F))?new A(255*ya[1]/100,255*ya[2]/100,255*ya[3]/100,1):(ya=
ud.exec(F))?C(ya[1],ya[2],ya[3],ya[4]):(ya=Ha.exec(F))?C(255*ya[1]/100,255*ya[2]/100,255*ya[3]/100,ya[4]):(ya=gb.exec(F))?t(ya[1],ya[2]/100,ya[3]/100,1):(ya=vb.exec(F))?t(ya[1],ya[2]/100,ya[3]/100,ya[4]):ta.hasOwnProperty(F)?m(ta[F]):"transparent"===F?new A(NaN,NaN,NaN,0):null}function m(F){return new A(F>>16&255,F>>8&255,F&255,1)}function C(F,ya,Oa,Za){0>=Za&&(F=ya=Oa=NaN);return new A(F,ya,Oa,Za)}function B(F,ya,Oa,Za){if(1===arguments.length){var kb=F;kb instanceof M||(kb=u(kb));kb?(kb=kb.rgb(),
kb=new A(kb.r,kb.g,kb.b,kb.opacity)):kb=new A}else kb=new A(F,ya,Oa,null==Za?1:Za);return kb}function A(F,ya,Oa,Za){this.r=+F;this.g=+ya;this.b=+Oa;this.opacity=+Za}function D(){return`#${Y(this.r)}${Y(this.g)}${Y(this.b)}`}function I(){const F=V(this.opacity);return`${1===F?"rgb(":"rgba("}${Aa(this.r)}, ${Aa(this.g)}, ${Aa(this.b)}${1===F?")":`, ${F})`}`}function V(F){return isNaN(F)?1:Math.max(0,Math.min(1,F))}function Aa(F){return Math.max(0,Math.min(255,Math.round(F)||0))}function Y(F){F=Aa(F);
return(16>F?"0":"")+F.toString(16)}function t(F,ya,Oa,Za){0>=Za?F=ya=Oa=NaN:0>=Oa||1<=Oa?F=ya=NaN:0>=ya&&(F=NaN);return new va(F,ya,Oa,Za)}function L(F){if(F instanceof va)return new va(F.h,F.s,F.l,F.opacity);F instanceof M||(F=u(F));if(!F)return new va;if(F instanceof va)return F;F=F.rgb();var ya=F.r/255,Oa=F.g/255,Za=F.b/255,kb=Math.min(ya,Oa,Za),Eb=Math.max(ya,Oa,Za),oc=NaN,ec=Eb-kb,jc=(Eb+kb)/2;ec?(oc=ya===Eb?(Oa-Za)/ec+6*(Oa<Za):Oa===Eb?(Za-ya)/ec+2:(ya-Oa)/ec+4,ec/=.5>jc?Eb+kb:2-Eb-kb,oc*=60):
ec=0<jc&&1>jc?0:oc;return new va(oc,ec,jc,F.opacity)}function va(F,ya,Oa,Za){this.h=+F;this.s=+ya;this.l=+Oa;this.opacity=+Za}function La(F){F=(F||0)%360;return 0>F?F+360:F}function Wa(F){return Math.max(0,Math.min(1,F||0))}function $a(F,ya,Oa){return 255*(60>F?ya+(Oa-ya)*F/60:180>F?Oa:240>F?ya+(Oa-ya)*(240-F)/60:ya)}function X(F){k.Transform.call(this,null,F)}function Ca(F,ya){let Oa;P.isFunction(F)?(Oa=Za=>B(F(Za,ya)),Oa.dep=Ib(F)):Oa=P.constant(B(F||"#888"));return Oa}function Xa(F,ya){let Oa;
P.isFunction(F)?(Oa=Za=>F(Za,ya),Oa.dep=Ib(F)):F?Oa=P.constant(F):(Oa=Za=>Za.$value/Za.$max||0,Oa.dep=!0);return Oa}function Ib(F){if(!P.isFunction(F))return!1;F=P.toSet(P.accessorFields(F));return F.$x||F.$y||F.$value||F.$max}function yc(F,ya,Oa,Za){const kb=F.width;var Eb=F.height;const oc=F.x1||0,ec=F.y1||0,jc=F.x2||kb;Eb=F.y2||Eb;const Sc=F.values;F=Sc?Ed=>Sc[Ed]:P.zero;const ed=bc.canvas(jc-oc,Eb-ec),fd=ed.getContext("2d"),Qd=fd.getImageData(0,0,jc-oc,Eb-ec),Td=Qd.data;for(let Ed=ec,Yd=0;Ed<
Eb;++Ed){ya.$y=Ed-ec;for(let ae=oc,Ud=Ed*kb;ae<jc;++ae,Yd+=4){ya.$x=ae-oc;ya.$value=F(ae+Ud);const Xe=Oa(ya);Td[Yd+0]=Xe.r;Td[Yd+1]=Xe.g;Td[Yd+2]=Xe.b;Td[Yd+3]=~~(255*Za(ya))}}fd.putImageData(Qd,0,0);return ed}function qc(F){k.Transform.call(this,null,F);this.modified(!0)}function xc(F,ya){const Oa=Zb(ya.fit);ya.extent?F.fitExtent(ya.extent,Oa):ya.size?F.fitSize(ya.size,Oa):0}function dd(F){const ya=Fb.projection((F||"mercator").toLowerCase());ya||P.error("Unrecognized projection type: "+F);return ya()}
function Zb(F){F=P.array(F);return 1===F.length?F[0]:{type:"FeatureCollection",features:F.reduce((ya,Oa)=>ya.concat(Rc(Oa)),[])}}function Rc(F){return"FeatureCollection"===F.type?F.features:P.array(F).filter(ya=>null!=ya).map(ya=>"Feature"===ya.type?ya:{type:"Feature",geometry:ya})}const Pd=Math.sqrt(50),Na=Math.sqrt(10),Ub=Math.sqrt(2),qb=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,
1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Jb.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean",
"default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};P.inherits(Jb,k.Transform,{transform(F,ya){if(this.value&&!ya.changed()&&!F.modified())return ya.StopPropagation;var Oa=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS);ya=ya.materialize(ya.SOURCE).source;var Za=F.field||P.identity,kb=Ua().smooth(!1!==F.smooth),Eb=F.thresholds||Kb(ya,Za,F),oc=null===F.as?null:F.as||"contour",ec=[];ya.forEach(jc=>{const Sc=
Za(jc),ed=kb.size([Sc.width,Sc.height])(Sc.values,P.isArray(Eb)?Eb:Eb(Sc.values));Cb(ed,Sc,jc,F);ed.forEach(fd=>{ec.push(k.rederive(jc,k.ingest(null!=oc?{[oc]:fd}:fd)))})});this.value&&(Oa.rem=this.value);this.value=Oa.source=Oa.add=ec;return Oa}});lb.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},
{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Sb="x y weight size cellSize bandwidth".split(" ");P.inherits(lb,k.Transform,{transform(F,ya){if(this.value&&!ya.changed()&&!F.modified())return ya.StopPropagation;var Oa=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS);ya=ya.materialize(ya.SOURCE).source;ya=Pa(ya,F.groupby);var Za=(F.groupby||[]).map(P.accessorName),kb=mb(Qa(),F),Eb=F.as||
"grid",oc=[];oc=ya.map(ec=>{var jc=k.ingest,Sc={[Eb]:kb(ec,F.counts)};ec=ec.dims;for(let ed=0;ed<Za.length;++ed)Sc[Za[ed]]=ec[ed];return jc.call(k,Sc)});this.value&&(Oa.rem=this.value);this.value=Oa.source=Oa.add=oc;return Oa}});wb.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",
type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};P.inherits(wb,k.Transform,{transform(F,ya){if(this.value&&!ya.changed()&&!F.modified())return ya.StopPropagation;var Oa=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS),Za=Ua().smooth(!1!==F.smooth),kb=F.values,Eb=F.thresholds||tb(F.count||10,F.nice,!!kb),oc=F.size;if(!kb){kb=ya.materialize(ya.SOURCE).source;F=mb(Qa(),F)(kb,!0);var ec=Ob(F,
F.scale||1,F.scale||1,0,0);oc=[F.width,F.height];kb=F.values}Eb=P.isArray(Eb)?Eb:Eb(kb);kb=Za.size(oc)(kb,Eb);ec&&kb.forEach(ec);this.value&&(Oa.rem=this.value);this.value=Oa.source=Oa.add=(kb||[]).map(k.ingest);return Oa}});sb.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};P.inherits(sb,k.Transform,{transform(F,ya){var Oa=this._features,Za=this._points,kb=F.fields,Eb=kb&&kb[0],oc=kb&&kb[1],ec=F.geojson||!kb&&P.identity;
kb=ya.ADD;F=F.modified()||ya.changed(ya.REM)||ya.modified(P.accessorFields(ec))||Eb&&ya.modified(P.accessorFields(Eb))||oc&&ya.modified(P.accessorFields(oc));if(!this.value||F)kb=ya.SOURCE,this._features=Oa=[],this._points=Za=[];ec&&ya.visit(kb,jc=>Oa.push(ec(jc)));Eb&&oc&&(ya.visit(kb,jc=>{var Sc=Eb(jc);jc=oc(jc);null!=Sc&&null!=jc&&(Sc=+Sc)===Sc&&(jc=+jc)===jc&&Za.push([Sc,jc])}),Oa=Oa.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:Za}}));this.value={type:"FeatureCollection",features:Oa}}});
Pb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};P.inherits(Pb,k.Transform,{transform(F,ya){var Oa=ya.fork(ya.ALL),Za=this.value,kb=F.field||P.identity,Eb=F.as||"path",oc=Oa.SOURCE;!Za||F.modified()?(this.value=Za=Fb.getProjectionPath(F.projection),Oa.materialize().reflow()):oc=kb===P.identity||ya.modified(kb.fields)?Oa.ADD_MOD:Oa.ADD;
F=Vb(Za,F.pointRadius);Oa.visit(oc,ec=>ec[Eb]=Za(kb(ec)));Za.pointRadius(F);return Oa.modifies(Eb)}});nb.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};P.inherits(nb,k.Transform,{transform(F,ya){function Oa(Sc){const ed=Za([kb(Sc),Eb(Sc)]);ed?(Sc[ec]=ed[0],Sc[jc]=ed[1]):(Sc[ec]=void 0,Sc[jc]=void 0)}var Za=F.projection,
kb=F.fields[0],Eb=F.fields[1],oc=F.as||["x","y"],ec=oc[0],jc=oc[1];F.modified()?ya=ya.materialize().reflow(!0).visit(ya.SOURCE,Oa):(F=ya.modified(kb.fields)||ya.modified(Eb.fields),ya.visit(F?ya.ADD_MOD:ya.ADD,Oa));return ya.modifies(oc)}});qa.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};P.inherits(qa,k.Transform,
{transform(F,ya){ya=ya.fork(ya.ALL);var Oa=this.value,Za=F.as||"shape",kb=ya.ADD;if(!Oa||F.modified())this.value=Oa=Z(Fb.getProjectionPath(F.projection),F.field||P.field("datum"),F.pointRadius),ya.materialize().reflow(),kb=ya.SOURCE;ya.visit(kb,Eb=>Eb[Za]=Oa);return ya.modifies(Za)}});var ic=Math.abs,dc=Math.ceil;ba.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",
array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};P.inherits(ba,k.Transform,{transform(F,ya){var Oa=this.value,Za=this.generator;if(!Oa.length||F.modified())for(const kb in F)if(P.isFunction(Za[kb]))Za[kb](F[kb]);
F=Za();Oa.length?ya.mod.push(k.replace(Oa[0],F)):ya.add.push(k.ingest(F));Oa[0]=F;return ya}});var Ic=1/.7,zc=/^#([0-9a-f]{3,8})$/,Yc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Md=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),ud=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Ha=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),gb=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),vb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
ta={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oa(M,u,{copy(F){return Object.assign(new this.constructor,this,F)},displayable(){return this.rgb().displayable()},hex:Q,formatHex:Q,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return L(this).formatHsl()},formatRgb:g,toString:g});oa(A,B,q(M,{brighter(F){F=null==F?Ic:Math.pow(Ic,F);return new A(this.r*F,this.g*F,this.b*F,this.opacity)},darker(F){F=
null==F?.7:Math.pow(.7,F);return new A(this.r*F,this.g*F,this.b*F,this.opacity)},rgb(){return this},clamp(){return new A(Aa(this.r),Aa(this.g),Aa(this.b),V(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:D,formatHex:D,formatHex8:function(){return`#${Y(this.r)}${Y(this.g)}${Y(this.b)}${Y(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:I,toString:I}));oa(va,function(F,ya,Oa,Za){return 1===
arguments.length?L(F):new va(F,ya,Oa,null==Za?1:Za)},q(M,{brighter(F){F=null==F?Ic:Math.pow(Ic,F);return new va(this.h,this.s,this.l*F,this.opacity)},darker(F){F=null==F?.7:Math.pow(.7,F);return new va(this.h,this.s,this.l*F,this.opacity)},rgb(){var F=this.h%360+360*(0>this.h),ya=isNaN(F)||isNaN(this.s)?0:this.s,Oa=this.l;ya=Oa+(.5>Oa?Oa:1-Oa)*ya;Oa=2*Oa-ya;return new A($a(240<=F?F-240:F+120,Oa,ya),$a(F,Oa,ya),$a(120>F?F+240:F-120,Oa,ya),this.opacity)},clamp(){return new va(La(this.h),Wa(this.s),
Wa(this.l),V(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const F=V(this.opacity);return`${1===F?"hsl(":"hsla("}${La(this.h)}, ${100*Wa(this.s)}%, ${100*Wa(this.l)}%${1===F?")":`, ${F})`}`}}));X.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],
"default":"independent"},{name:"as",type:"string","default":"image"}]};P.inherits(X,k.Transform,{transform(F,ya){if(!ya.changed()&&!F.modified())return ya.StopPropagation;var Oa=ya.materialize(ya.SOURCE).source,Za="shared"===F.resolve,kb=F.field||P.identity,Eb=Xa(F.opacity,F),oc=Ca(F.color,F),ec=F.as||"image",jc={$x:0,$y:0,$value:0,$max:Za?uc(Oa.map(Sc=>uc(kb(Sc).values))):0};Oa.forEach(Sc=>{const ed=kb(Sc),fd=P.extend({},Sc,jc);Za||(fd.$max=uc(ed.values||[]));Sc[ec]=yc(ed,fd,oc.dep?oc:P.constant(oc(fd)),
Eb.dep?Eb:P.constant(Eb(fd)))});return ya.reflow(!0).modifies(ec)}});P.inherits(qc,k.Transform,{transform(F,ya){let Oa=this.value;!Oa||F.modified("type")?(this.value=Oa=dd(F.type),Fb.projectionProperties.forEach(Za=>{if(null!=F[Za]){var kb=Oa,Eb=F[Za];if(P.isFunction(kb[Za]))kb[Za](Eb)}})):Fb.projectionProperties.forEach(Za=>{if(F.modified(Za)){var kb=Oa,Eb=F[Za];if(P.isFunction(kb[Za]))kb[Za](Eb)}});null!=F.pointRadius&&Oa.path.pointRadius(F.pointRadius);F.fit&&xc(Oa,F);return ya.fork(ya.NO_SOURCE|
ya.NO_FIELDS)}});v.contour=wb;v.geojson=sb;v.geopath=Pb;v.geopoint=nb;v.geoshape=qa;v.graticule=ba;v.heatmap=X;v.isocontour=Jb;v.kde2d=lb;v.projection=qc})};
shadow$provide[38]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(28),Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega))})(this,function(v,k,P){function jb(Y,t,L,va){if(isNaN(t)||isNaN(L))return Y;var La,Wa=Y._root;va={data:va};var $a=Y._x0,X=Y._y0,Ca=Y._x1,Xa=Y._y1,Ib,yc,qc,xc,dd;if(!Wa)return Y._root=
va,Y;for(;Wa.length;)if((qc=t>=(Ib=($a+Ca)/2))?$a=Ib:Ca=Ib,(xc=L>=(yc=(X+Xa)/2))?X=yc:Xa=yc,La=Wa,!(Wa=Wa[dd=xc<<1|qc]))return La[dd]=va,Y;var Zb=+Y._x.call(null,Wa.data);var Rc=+Y._y.call(null,Wa.data);if(t===Zb&&L===Rc)return va.next=Wa,La?La[dd]=va:Y._root=va,Y;do La=La?La[dd]=Array(4):Y._root=Array(4),(qc=t>=(Ib=($a+Ca)/2))?$a=Ib:Ca=Ib,(xc=L>=(yc=(X+Xa)/2))?X=yc:Xa=yc;while((dd=xc<<1|qc)===(qc=(Rc>=yc)<<1|Zb>=Ib));return La[qc]=Wa,La[dd]=va,Y}function Fb(Y,t,L,va,La){this.node=Y;this.x0=t;this.y0=
L;this.x1=va;this.y1=La}function bc(Y){return Y[0]}function vc(Y){return Y[1]}function Bc(Y,t,L){t=new uc(null==t?bc:t,null==L?vc:L,NaN,NaN,NaN,NaN);return null==Y?t:t.addAll(Y)}function uc(Y,t,L,va,La,Wa){this._x=Y;this._y=t;this._x0=L;this._y0=va;this._x1=La;this._y1=Wa;this._root=void 0}function Ab(Y){for(var t={data:Y.data},L=t;Y=Y.next;)L=L.next={data:Y.data};return t}function kc(Y){return function(){return Y}}function Yb(Y){return Y.x+Y.vx}function Ua(Y){return Y.y+Y.vy}function tb(Y){return Y.index}
function Jb(Y,t){Y=Y.get(t);if(!Y)throw Error("node not found: "+t);return Y}function Kb(){for(var Y=0,t=arguments.length,L={},va;Y<t;++Y){if(!(va=arguments[Y]+"")||va in L||/[\s.]/.test(va))throw Error("illegal type: "+va);L[va]=[]}return new Cb(L)}function Cb(Y){this._=Y}function Ob(Y,t){return Y.trim().split(/^|\s+/).map(function(L){var va="",La=L.indexOf(".");0<=La&&(va=L.slice(La+1),L=L.slice(0,La));if(L&&!t.hasOwnProperty(L))throw Error("unknown type: "+L);return{type:L,name:va}})}function ab(Y,
t,L){for(var va=0,La=Y.length;va<La;++va)if(Y[va].name===t){Y[va]=eb;Y=Y.slice(0,va).concat(Y.slice(va+1));break}null!=L&&Y.push({name:t,value:L});return Y}function pb(){u=0}function Qa(){this._call=this._time=this._next=null}function Da(Y,t,L){var va=new Qa;va.restart(Y,t,L);return va}function Ka(){u=(g=C.now())+m;ba=oa=0;try{u||(B(pb),u=C.now()+m);++ba;for(var Y=M,t;Y;)0<=(t=u-Y._time)&&Y._call.call(void 0,t),Y=Y._next;--ba}finally{ba=0;Y=M;for(var L=Infinity;Y;)if(Y._call){L>Y._time&&(L=Y._time);
var va=Y;Y=Y._next}else t=Y._next,Y._next=null,Y=va?va._next=t:M=t;Q=va;mb(L);u=0}}function lb(){var Y=C.now(),t=Y-g;1E3<t&&(m-=t,g=Y)}function mb(Y){ba||(oa&&(oa=clearTimeout(oa)),24<Y-u?(Infinity>Y&&(oa=setTimeout(Ka,Y-C.now()-m)),q&&(q=clearInterval(q))):(q||(g=C.now(),q=setInterval(lb,1E3)),ba=1,B(Ka)))}function Pa(){let Y=1;return()=>(Y=(1664525*Y+1013904223)%4294967296)/4294967296}function wb(Y){return Y.x}function sb(Y){return Y.y}function Pb(Y){function t(){L();xc.call("tick",Wa);$a<X&&(qc.stop(),
xc.call("end",Wa))}function L(Zb){var Rc,Pd=Y.length;void 0===Zb&&(Zb=1);for(var Na=0;Na<Zb;++Na)for($a+=(Xa-$a)*Ca,yc.forEach(function(qb){qb($a)}),Rc=0;Rc<Pd;++Rc){var Ub=Y[Rc];null==Ub.fx?Ub.x+=Ub.vx*=Ib:(Ub.x=Ub.fx,Ub.vx=0);null==Ub.fy?Ub.y+=Ub.vy*=Ib:(Ub.y=Ub.fy,Ub.vy=0)}return Wa}function va(){for(var Zb=0,Rc=Y.length,Pd;Zb<Rc;++Zb){Pd=Y[Zb];Pd.index=Zb;null!=Pd.fx&&(Pd.x=Pd.fx);null!=Pd.fy&&(Pd.y=Pd.fy);if(isNaN(Pd.x)||isNaN(Pd.y)){var Na=10*Math.sqrt(.5+Zb),Ub=Zb*A;Pd.x=Na*Math.cos(Ub);Pd.y=
Na*Math.sin(Ub)}if(isNaN(Pd.vx)||isNaN(Pd.vy))Pd.vx=Pd.vy=0}}function La(Zb){Zb.initialize&&Zb.initialize(Y,dd);return Zb}var Wa,$a=1,X=.001,Ca=1-Math.pow(X,1/300),Xa=0,Ib=.6,yc=new Map,qc=Da(t),xc=Kb("tick","end"),dd=Pa();null==Y&&(Y=[]);va();return Wa={tick:L,restart:function(){return qc.restart(t),Wa},stop:function(){return qc.stop(),Wa},nodes:function(Zb){return arguments.length?(Y=Zb,va(),yc.forEach(La),Wa):Y},alpha:function(Zb){return arguments.length?($a=+Zb,Wa):$a},alphaMin:function(Zb){return arguments.length?
(X=+Zb,Wa):X},alphaDecay:function(Zb){return arguments.length?(Ca=+Zb,Wa):+Ca},alphaTarget:function(Zb){return arguments.length?(Xa=+Zb,Wa):Xa},velocityDecay:function(Zb){return arguments.length?(Ib=1-Zb,Wa):1-Ib},randomSource:function(Zb){return arguments.length?(dd=Zb,yc.forEach(La),Wa):dd},force:function(Zb,Rc){return 1<arguments.length?(null==Rc?yc.delete(Zb):yc.set(Zb,La(Rc)),Wa):yc.get(Zb)},find:function(Zb,Rc,Pd){var Na,Ub=Y.length;Pd=null==Pd?Infinity:Pd*Pd;for(Na=0;Na<Ub;++Na){var qb=Y[Na];
var Sb=Zb-qb.x;var ic=Rc-qb.y;Sb=Sb*Sb+ic*ic;if(Sb<Pd){var dc=qb;Pd=Sb}}return dc},on:function(Zb,Rc){return 1<arguments.length?(xc.on(Zb,Rc),Wa):xc.on(Zb)}}}function Vb(Y){k.Transform.call(this,null,Y)}function nb(Y,t){return()=>Y.touch(t).run()}function qa(Y,t){Y=Pb(Y);const L=Y.stop,va=Y.restart;let La=!1;Y.stopped=()=>La;Y.restart=()=>(La=!1,va());Y.stop=()=>(La=!0,L());return Z(Y,t,!0).on("end",()=>La=!0)}function Z(Y,t,L,va){var La=P.array(t.forces),Wa;var $a=0;for(Wa=I.length;$a<Wa;++$a){var X=
I[$a];if("forces"!==X&&t.modified(X))Y[X](t[X])}$a=0;for(Wa=La.length;$a<Wa;++$a){var Ca="forces"+$a;if(L||t.modified("forces",$a)){X=void 0;var Xa=La[$a];P.hasOwnProperty(D,Xa.force)||P.error("Unrecognized force: "+Xa.force);var Ib=D[Xa.force]();for(X in Xa)P.isFunction(Ib[X])&&Fa(Ib[X],Xa[X],Xa);X=Ib}else{if(X=va)a:{Ib=X=void 0;Xa=La[$a];var yc=va;for(Ib in Xa)if(P.isFunction(X=Xa[Ib])&&yc.modified(P.accessorFields(X))){X=1;break a}X=0}X=X?Y.force(Ca):null}X&&Y.force(Ca,X)}for(Wa=Y.numForces||0;$a<
Wa;++$a)Y.force("forces"+$a,null);Y.numForces=La.length;return Y}function Fa(Y,t,L){Y(P.isFunction(t)?va=>t(va,L):t)}var Ga=Bc.prototype=uc.prototype;Ga.copy=function(){var Y=new uc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,L,va;if(!t)return Y;if(!t.length)return Y._root=Ab(t),Y;for(L=[{source:t,target:Y._root=Array(4)}];t=L.pop();)for(var La=0;4>La;++La)if(va=t.source[La])va.length?L.push({source:va,target:t.target[La]=Array(4)}):t.target[La]=Ab(va);return Y};Ga.add=function(Y){const t=
+this._x.call(null,Y),L=+this._y.call(null,Y);return jb(this.cover(t,L),t,L,Y)};Ga.addAll=function(Y){var t,L,va=Y.length,La,Wa,$a=Array(va),X=Array(va),Ca=Infinity,Xa=Infinity,Ib=-Infinity,yc=-Infinity;for(L=0;L<va;++L)isNaN(La=+this._x.call(null,t=Y[L]))||isNaN(Wa=+this._y.call(null,t))||($a[L]=La,X[L]=Wa,La<Ca&&(Ca=La),La>Ib&&(Ib=La),Wa<Xa&&(Xa=Wa),Wa>yc&&(yc=Wa));if(Ca>Ib||Xa>yc)return this;this.cover(Ca,Xa).cover(Ib,yc);for(L=0;L<va;++L)jb(this,$a[L],X[L],Y[L]);return this};Ga.cover=function(Y,
t){if(isNaN(Y=+Y)||isNaN(t=+t))return this;var L=this._x0,va=this._y0,La=this._x1,Wa=this._y1;if(isNaN(L))La=(L=Math.floor(Y))+1,Wa=(va=Math.floor(t))+1;else{for(var $a=La-L||1,X=this._root,Ca,Xa;L>Y||Y>=La||va>t||t>=Wa;)switch(Xa=(t<va)<<1|Y<L,Ca=Array(4),Ca[Xa]=X,X=Ca,$a*=2,Xa){case 0:La=L+$a;Wa=va+$a;break;case 1:L=La-$a;Wa=va+$a;break;case 2:La=L+$a;va=Wa-$a;break;case 3:L=La-$a,va=Wa-$a}this._root&&this._root.length&&(this._root=X)}this._x0=L;this._y0=va;this._x1=La;this._y1=Wa;return this};
Ga.data=function(){var Y=[];this.visit(function(t){if(!t.length){do Y.push(t.data);while(t=t.next)}});return Y};Ga.extent=function(Y){return arguments.length?this.cover(+Y[0][0],+Y[0][1]).cover(+Y[1][0],+Y[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Ga.find=function(Y,t,L){var va=this._x0,La=this._y0,Wa,$a,X,Ca,Xa=this._x1,Ib=this._y1,yc=[],qc=this._root,xc;qc&&yc.push(new Fb(qc,va,La,Xa,Ib));null==L?L=Infinity:(va=Y-L,La=t-L,Xa=Y+L,Ib=t+L,L*=L);for(;xc=yc.pop();)if(!(!(qc=
xc.node)||(Wa=xc.x0)>Xa||($a=xc.y0)>Ib||(X=xc.x1)<va||(Ca=xc.y1)<La))if(qc.length){xc=(Wa+X)/2;var dd=($a+Ca)/2;yc.push(new Fb(qc[3],xc,dd,X,Ca),new Fb(qc[2],Wa,dd,xc,Ca),new Fb(qc[1],xc,$a,X,dd),new Fb(qc[0],Wa,$a,xc,dd));if(qc=(t>=dd)<<1|Y>=xc)xc=yc[yc.length-1],yc[yc.length-1]=yc[yc.length-1-qc],yc[yc.length-1-qc]=xc}else if(xc=Y-+this._x.call(null,qc.data),dd=t-+this._y.call(null,qc.data),xc=xc*xc+dd*dd,xc<L){var Zb=Math.sqrt(L=xc);va=Y-Zb;La=t-Zb;Xa=Y+Zb;Ib=t+Zb;Zb=qc.data}return Zb};Ga.remove=
function(Y){if(isNaN(Ca=+this._x.call(null,Y))||isNaN(Xa=+this._y.call(null,Y)))return this;var t,L=this._root,va,La=this._x0,Wa=this._y0,$a=this._x1,X=this._y1,Ca,Xa,Ib,yc,qc,xc,dd;if(!L)return this;if(L.length)for(;;){(qc=Ca>=(Ib=(La+$a)/2))?La=Ib:$a=Ib;(xc=Xa>=(yc=(Wa+X)/2))?Wa=yc:X=yc;if(!(t=L,L=L[dd=xc<<1|qc]))return this;if(!L.length)break;if(t[dd+1&3]||t[dd+2&3]||t[dd+3&3]){var Zb=t;var Rc=dd}}for(;L.data!==Y;)if(!(va=L,L=L.next))return this;(Y=L.next)&&delete L.next;if(va)return Y?va.next=
Y:delete va.next,this;if(!t)return this._root=Y,this;Y?t[dd]=Y:delete t[dd];(L=t[0]||t[1]||t[2]||t[3])&&L===(t[3]||t[2]||t[1]||t[0])&&!L.length&&(Zb?Zb[Rc]=L:this._root=L);return this};Ga.removeAll=function(Y){for(var t=0,L=Y.length;t<L;++t)this.remove(Y[t]);return this};Ga.root=function(){return this._root};Ga.size=function(){var Y=0;this.visit(function(t){if(!t.length){do++Y;while(t=t.next)}});return Y};Ga.visit=function(Y){var t=[],L,va=this._root,La,Wa,$a,X,Ca;for(va&&t.push(new Fb(va,this._x0,
this._y0,this._x1,this._y1));L=t.pop();)if(!Y(va=L.node,Wa=L.x0,$a=L.y0,X=L.x1,Ca=L.y1)&&va.length){L=(Wa+X)/2;var Xa=($a+Ca)/2;(La=va[3])&&t.push(new Fb(La,L,Xa,X,Ca));(La=va[2])&&t.push(new Fb(La,Wa,Xa,L,Ca));(La=va[1])&&t.push(new Fb(La,L,$a,X,Xa));(La=va[0])&&t.push(new Fb(La,Wa,$a,L,Xa))}return this};Ga.visitAfter=function(Y){var t=[],L=[],va;for(this._root&&t.push(new Fb(this._root,this._x0,this._y0,this._x1,this._y1));va=t.pop();){var La=va.node;if(La.length){var Wa,$a=va.x0,X=va.y0,Ca=va.x1,
Xa=va.y1,Ib=($a+Ca)/2,yc=(X+Xa)/2;(Wa=La[0])&&t.push(new Fb(Wa,$a,X,Ib,yc));(Wa=La[1])&&t.push(new Fb(Wa,Ib,X,Ca,yc));(Wa=La[2])&&t.push(new Fb(Wa,$a,yc,Ib,Xa));(Wa=La[3])&&t.push(new Fb(Wa,Ib,yc,Ca,Xa))}L.push(va)}for(;va=L.pop();)Y(va.node,va.x0,va.y0,va.x1,va.y1);return this};Ga.x=function(Y){return arguments.length?(this._x=Y,this):this._x};Ga.y=function(Y){return arguments.length?(this._y=Y,this):this._y};var eb={value:()=>{}};Cb.prototype=Kb.prototype={constructor:Cb,on:function(Y,t){var L=
this._,va=Ob(Y+"",L),La,Wa=-1,$a=va.length;if(2>arguments.length)for(;++Wa<$a;){var X;if(X=La=(Y=va[Wa]).type){a:{X=L[La];for(var Ca=0,Xa=X.length;Ca<Xa;++Ca)if((La=X[Ca]).name===Y.name){La=La.value;break a}La=void 0}X=La}if(X)return La}else{if(null!=t&&"function"!==typeof t)throw Error("invalid callback: "+t);for(;++Wa<$a;)if(La=(Y=va[Wa]).type)L[La]=ab(L[La],Y.name,t);else if(null==t)for(La in L)L[La]=ab(L[La],Y.name,null);return this}},copy:function(){var Y={},t=this._,L;for(L in t)Y[L]=t[L].slice();
return new Cb(Y)},call:function(Y,t){if(0<(La=arguments.length-2))for(var L=Array(La),va=0,La,Wa;va<La;++va)L[va]=arguments[va+2];if(!this._.hasOwnProperty(Y))throw Error("unknown type: "+Y);Wa=this._[Y];va=0;for(La=Wa.length;va<La;++va)Wa[va].value.apply(t,L)},apply:function(Y,t,L){if(!this._.hasOwnProperty(Y))throw Error("unknown type: "+Y);Y=this._[Y];for(var va=0,La=Y.length;va<La;++va)Y[va].value.apply(t,L)}};var ba=0,oa=0,q=0,M,Q,g=0,u=0,m=0,C="object"===typeof performance&&performance.now?
performance:Date,B="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Y){setTimeout(Y,17)};Qa.prototype=Da.prototype={constructor:Qa,restart:function(Y,t,L){if("function"!==typeof Y)throw new TypeError("callback is not a function");L=(null==L?u||(B(pb),u=C.now()+m):+L)+(null==t?0:+t);this._next||Q===this||(Q?Q._next=this:M=this,Q=this);this._call=Y;this._time=L;mb()},stop:function(){this._call&&(this._call=null,this._time=Infinity,mb())}};var A=
Math.PI*(3-Math.sqrt(5));const D={center:function(Y,t){function L(){var Wa,$a=va.length,X=0,Ca=0;for(Wa=0;Wa<$a;++Wa){var Xa=va[Wa];X+=Xa.x;Ca+=Xa.y}X=(X/$a-Y)*La;Ca=(Ca/$a-t)*La;for(Wa=0;Wa<$a;++Wa)Xa=va[Wa],Xa.x-=X,Xa.y-=Ca}var va,La=1;null==Y&&(Y=0);null==t&&(t=0);L.initialize=function(Wa){va=Wa};L.x=function(Wa){return arguments.length?(Y=+Wa,L):Y};L.y=function(Wa){return arguments.length?(t=+Wa,L):t};L.strength=function(Wa){return arguments.length?(La=+Wa,L):La};return L},collide:function(Y){function t(){function Xa(Ub,
qb,Sb,ic,dc){var Ic=Ub.data;Ub=Ub.r;var zc=Rc+Ub;if(Ic)Ic.index>xc.index&&(qb=dd-Ic.x-Ic.vx,Sb=Zb-Ic.y-Ic.vy,ic=qb*qb+Sb*Sb,ic<zc*zc&&(0===qb&&(qb=1E-6*($a()-.5),ic+=qb*qb),0===Sb&&(Sb=1E-6*($a()-.5),ic+=Sb*Sb),ic=(zc-(ic=Math.sqrt(ic)))/ic*X,xc.vx+=(qb*=ic)*(zc=(Ub*=Ub)/(Pd+Ub)),xc.vy+=(Sb*=ic)*zc,Ic.vx-=qb*(zc=1-zc),Ic.vy-=Sb*zc));else return qb>dd+zc||ic<dd-zc||Sb>Zb+zc||dc<Zb-zc}for(var Ib,yc=La.length,qc,xc,dd,Zb,Rc,Pd,Na=0;Na<Ca;++Na)for(qc=Bc(La,Yb,Ua).visitAfter(L),Ib=0;Ib<yc;++Ib)xc=La[Ib],
Rc=Wa[xc.index],Pd=Rc*Rc,dd=xc.x+xc.vx,Zb=xc.y+xc.vy,qc.visit(Xa)}function L(Xa){if(Xa.data)return Xa.r=Wa[Xa.data.index];for(var Ib=Xa.r=0;4>Ib;++Ib)Xa[Ib]&&Xa[Ib].r>Xa.r&&(Xa.r=Xa[Ib].r)}function va(){if(La){var Xa,Ib=La.length;Wa=Array(Ib);for(Xa=0;Xa<Ib;++Xa){var yc=La[Xa];Wa[yc.index]=+Y(yc,Xa,La)}}}var La,Wa,$a,X=1,Ca=1;"function"!==typeof Y&&(Y=kc(null==Y?1:+Y));t.initialize=function(Xa,Ib){La=Xa;$a=Ib;va()};t.iterations=function(Xa){return arguments.length?(Ca=+Xa,t):Ca};t.strength=function(Xa){return arguments.length?
(X=+Xa,t):X};t.radius=function(Xa){return arguments.length?(Y="function"===typeof Xa?Xa:kc(+Xa),va(),t):Y};return t},nbody:function(){function Y(xc){var dd=La.length,Zb=Bc(La,wb,sb).visitAfter(L);X=xc;for(xc=0;xc<dd;++xc)Wa=La[xc],Zb.visit(va)}function t(){if(La){var xc,dd=La.length;Xa=Array(dd);for(xc=0;xc<dd;++xc){var Zb=La[xc];Xa[Zb.index]=+Ca(Zb,xc,La)}}}function L(xc){var dd=0,Zb,Rc,Pd=0,Na,Ub,qb;if(xc.length){for(Na=Ub=qb=0;4>qb;++qb)(Zb=xc[qb])&&(Rc=Math.abs(Zb.value))&&(dd+=Zb.value,Pd+=Rc,
Na+=Rc*Zb.x,Ub+=Rc*Zb.y);xc.x=Na/Pd;xc.y=Ub/Pd}else{Zb=xc;Zb.x=Zb.data.x;Zb.y=Zb.data.y;do dd+=Xa[Zb.data.index];while(Zb=Zb.next)}xc.value=dd}function va(xc,dd,Zb,Rc){if(!xc.value)return!0;Zb=xc.x-Wa.x;var Pd=xc.y-Wa.y;dd=Rc-dd;Rc=Zb*Zb+Pd*Pd;if(dd*dd/qc<Rc)return Rc<yc&&(0===Zb&&(Zb=1E-6*($a()-.5),Rc+=Zb*Zb),0===Pd&&(Pd=1E-6*($a()-.5),Rc+=Pd*Pd),Rc<Ib&&(Rc=Math.sqrt(Ib*Rc)),Wa.vx+=Zb*xc.value*X/Rc,Wa.vy+=Pd*xc.value*X/Rc),!0;if(!(xc.length||Rc>=yc)){if(xc.data!==Wa||xc.next)0===Zb&&(Zb=1E-6*($a()-
.5),Rc+=Zb*Zb),0===Pd&&(Pd=1E-6*($a()-.5),Rc+=Pd*Pd),Rc<Ib&&(Rc=Math.sqrt(Ib*Rc));do xc.data!==Wa&&(dd=Xa[xc.data.index]*X/Rc,Wa.vx+=Zb*dd,Wa.vy+=Pd*dd);while(xc=xc.next)}}var La,Wa,$a,X,Ca=kc(-30),Xa,Ib=1,yc=Infinity,qc=.81;Y.initialize=function(xc,dd){La=xc;$a=dd;t()};Y.strength=function(xc){return arguments.length?(Ca="function"===typeof xc?xc:kc(+xc),t(),Y):Ca};Y.distanceMin=function(xc){return arguments.length?(Ib=xc*xc,Y):Math.sqrt(Ib)};Y.distanceMax=function(xc){return arguments.length?(yc=
xc*xc,Y):Math.sqrt(yc)};Y.theta=function(xc){return arguments.length?(qc=xc*xc,Y):Math.sqrt(qc)};return Y},link:function(Y){function t(Zb){for(var Rc=0,Pd=Y.length;Rc<dd;++Rc)for(var Na=0,Ub,qb,Sb,ic,dc;Na<Pd;++Na)Ub=Y[Na],qb=Ub.source,Ub=Ub.target,Sb=Ub.x+Ub.vx-qb.x-qb.vx||1E-6*(xc()-.5),ic=Ub.y+Ub.vy-qb.y-qb.vy||1E-6*(xc()-.5),dc=Math.sqrt(Sb*Sb+ic*ic),dc=(dc-Xa[Na])/dc*Zb*X[Na],Sb*=dc,ic*=dc,Ub.vx-=Sb*(dc=qc[Na]),Ub.vy-=ic*dc,qb.vx+=Sb*(dc=1-dc),qb.vy+=ic*dc}function L(){if(Ib){var Zb=Ib.length,
Rc=Y.length,Pd=new Map(Ib.map((Ub,qb)=>[Wa(Ub,qb,Ib),Ub]));var Na=0;for(yc=Array(Zb);Na<Rc;++Na)Zb=Y[Na],Zb.index=Na,"object"!==typeof Zb.source&&(Zb.source=Jb(Pd,Zb.source)),"object"!==typeof Zb.target&&(Zb.target=Jb(Pd,Zb.target)),yc[Zb.source.index]=(yc[Zb.source.index]||0)+1,yc[Zb.target.index]=(yc[Zb.target.index]||0)+1;Na=0;for(qc=Array(Rc);Na<Rc;++Na)Zb=Y[Na],qc[Na]=yc[Zb.source.index]/(yc[Zb.source.index]+yc[Zb.target.index]);X=Array(Rc);va();Xa=Array(Rc);La()}}function va(){if(Ib)for(var Zb=
0,Rc=Y.length;Zb<Rc;++Zb)X[Zb]=+$a(Y[Zb],Zb,Y)}function La(){if(Ib)for(var Zb=0,Rc=Y.length;Zb<Rc;++Zb)Xa[Zb]=+Ca(Y[Zb],Zb,Y)}var Wa=tb,$a=function(Zb){return 1/Math.min(yc[Zb.source.index],yc[Zb.target.index])},X,Ca=kc(30),Xa,Ib,yc,qc,xc,dd=1;null==Y&&(Y=[]);t.initialize=function(Zb,Rc){Ib=Zb;xc=Rc;L()};t.links=function(Zb){return arguments.length?(Y=Zb,L(),t):Y};t.id=function(Zb){return arguments.length?(Wa=Zb,t):Wa};t.iterations=function(Zb){return arguments.length?(dd=+Zb,t):dd};t.strength=function(Zb){return arguments.length?
($a="function"===typeof Zb?Zb:kc(+Zb),va(),t):$a};t.distance=function(Zb){return arguments.length?(Ca="function"===typeof Zb?Zb:kc(+Zb),La(),t):Ca};return t},x:function(Y){function t(X){for(var Ca=0,Xa=La.length,Ib;Ca<Xa;++Ca)Ib=La[Ca],Ib.vx+=($a[Ca]-Ib.x)*Wa[Ca]*X}function L(){if(La){var X,Ca=La.length;Wa=Array(Ca);$a=Array(Ca);for(X=0;X<Ca;++X)Wa[X]=isNaN($a[X]=+Y(La[X],X,La))?0:+va(La[X],X,La)}}var va=kc(.1),La,Wa,$a;"function"!==typeof Y&&(Y=kc(null==Y?0:+Y));t.initialize=function(X){La=X;L()};
t.strength=function(X){return arguments.length?(va="function"===typeof X?X:kc(+X),L(),t):va};t.x=function(X){return arguments.length?(Y="function"===typeof X?X:kc(+X),L(),t):Y};return t},y:function(Y){function t(X){for(var Ca=0,Xa=La.length,Ib;Ca<Xa;++Ca)Ib=La[Ca],Ib.vy+=($a[Ca]-Ib.y)*Wa[Ca]*X}function L(){if(La){var X,Ca=La.length;Wa=Array(Ca);$a=Array(Ca);for(X=0;X<Ca;++X)Wa[X]=isNaN($a[X]=+Y(La[X],X,La))?0:+va(La[X],X,La)}}var va=kc(.1),La,Wa,$a;"function"!==typeof Y&&(Y=kc(null==Y?0:+Y));t.initialize=
function(X){La=X;L()};t.strength=function(X){return arguments.length?(va="function"===typeof X?X:kc(+X),L(),t):va};t.y=function(X){return arguments.length?(Y="function"===typeof X?X:kc(+X),L(),t):Y};return t}},I=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],V=["static","iterations"],Aa=["x","y","vx","vy"];Vb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number",
"default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},
{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",
type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":Aa}]};P.inherits(Vb,k.Transform,{transform(Y,t){var L=this.value,va=t.changed(t.ADD_REM),La=Y.modified(I),Wa=Y.iterations||300;L?(va&&(t.modifies("index"),L.nodes(t.source)),(La||t.changed(t.MOD))&&Z(L,Y,0,t)):(this.value=L=qa(t.source,Y),L.on("tick",nb(t.dataflow,this)),Y.static||(va=!0,L.tick()),t.modifies("index"));if(La||va||Y.modified(V)||
t.changed()&&Y.restart)if(L.alpha(Math.max(L.alpha(),Y.alpha||1)).alphaDecay(1-Math.pow(L.alphaMin(),1/Wa)),Y.static)for(L.stop();0<=--Wa;)L.tick();else if(L.stopped()&&L.restart(),!va)return t.StopPropagation;return this.finish(Y,t)},finish(Y,t){const L=t.dataflow;for(let X=this._argops,Ca=0,Xa=X.length,Ib;Ca<Xa;++Ca)if(Ib=X[Ca],"forces"===Ib.name&&"link"===Ib.op._argval.force)for(var va=Ib.op._argops,La=0,Wa=va.length,$a;La<Wa;++La)if("links"===va[La].name&&($a=va[La].op.source)){L.pulse($a,L.changeset().reflow());
break}return t.reflow(Y.modified()).modifies(Aa)}});v.force=Vb})};
shadow$provide[39]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(28),Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function jb(Na,Ub,qb){const Sb={};Na.each(ic=>{const dc=ic.data;qb(dc)&&(Sb[Ub(dc)]=ic)});Na.lookup=Sb;return Na}function Fb(Na,Ub){return Na.parent===Ub.parent?1:2}function bc(Na,Ub){return Na+
Ub.x}function vc(Na,Ub){return Math.max(Na,Ub.y)}function Bc(Na){for(var Ub;Ub=Na.children;)Na=Ub[0];return Na}function uc(Na){for(var Ub;Ub=Na.children;)Na=Ub[Ub.length-1];return Na}function Ab(Na){var Ub=0,qb=Na.children,Sb=qb&&qb.length;if(Sb)for(;0<=--Sb;)Ub+=qb[Sb].value;else Ub=1;Na.value=Ub}function kc(Na,Ub){Na instanceof Map?(Na=[void 0,Na],void 0===Ub&&(Ub=Ua)):void 0===Ub&&(Ub=Yb);Na=new Kb(Na);for(var qb,Sb=[Na],ic,dc,Ic,zc;qb=Sb.pop();)if((dc=Ub(qb.data))&&(zc=(dc=Array.from(dc)).length))for(qb.children=
dc,Ic=zc-1;0<=Ic;--Ic)Sb.push(ic=dc[Ic]=new Kb(dc[Ic])),ic.parent=qb,ic.depth=qb.depth+1;return Na.eachBefore(Jb)}function Yb(Na){return Na.children}function Ua(Na){return Array.isArray(Na)?Na[1]:null}function tb(Na){void 0!==Na.data.value&&(Na.value=Na.data.value);Na.data=Na.data.data}function Jb(Na){var Ub=0;do Na.height=Ub;while((Na=Na.parent)&&Na.height<++Ub)}function Kb(Na){this.data=Na;this.depth=this.height=0;this.parent=null}function Cb(Na){if("function"!==typeof Na)throw Error();return Na}
function Ob(){return 0}function ab(Na){return function(){return Na}}function pb(){let Na=1;return()=>(Na=(1664525*Na+1013904223)%4294967296)/4294967296}function Qa(Na,Ub){var qb=Na.r-Ub.r,Sb=Ub.x-Na.x;Na=Ub.y-Na.y;return 0>qb||qb*qb<Sb*Sb+Na*Na}function Da(Na,Ub){var qb=Na.r-Ub.r+1E-9*Math.max(Na.r,Ub.r,1),Sb=Ub.x-Na.x;Na=Ub.y-Na.y;return 0<qb&&qb*qb>Sb*Sb+Na*Na}function Ka(Na,Ub){for(var qb=0;qb<Ub.length;++qb)if(!Da(Na,Ub[qb]))return!1;return!0}function lb(Na,Ub){var qb=Na.x,Sb=Na.y;Na=Na.r;var ic=
Ub.x,dc=Ub.y;Ub=Ub.r;var Ic=ic-qb,zc=dc-Sb,Yc=Ub-Na,Md=Math.sqrt(Ic*Ic+zc*zc);return{x:(qb+ic+Ic/Md*Yc)/2,y:(Sb+dc+zc/Md*Yc)/2,r:(Md+Na+Ub)/2}}function mb(Na,Ub,qb){var Sb=Na.x,ic=Na.y;Na=Na.r;var dc=Ub.x,Ic=Ub.y,zc=Ub.r,Yc=qb.x,Md=qb.y,ud=qb.r;qb=Sb-dc;Ub=Sb-Yc;var Ha=ic-Ic,gb=ic-Md,vb=zc-Na,ta=ud-Na,F=Sb*Sb+ic*ic-Na*Na;Ic=F-dc*dc-Ic*Ic+zc*zc;Md=F-Yc*Yc-Md*Md+ud*ud;Yc=Ub*Ha-qb*gb;dc=(Ha*Md-gb*Ic)/(2*Yc)-Sb;Ha=(gb*vb-Ha*ta)/Yc;gb=(Ub*Ic-qb*Md)/(2*Yc)-ic;qb=(qb*ta-Ub*vb)/Yc;Ub=Ha*Ha+qb*qb-1;vb=2*(Na+
dc*Ha+gb*qb);Na=dc*dc+gb*gb-Na*Na;Na=-(1E-6<Math.abs(Ub)?(vb+Math.sqrt(vb*vb-4*Ub*Na))/(2*Ub):Na/vb);return{x:Sb+dc+Ha*Na,y:ic+gb+qb*Na,r:Na}}function Pa(Na,Ub,qb){var Sb=Na.x-Ub.x,ic=Na.y-Ub.y,dc=Sb*Sb+ic*ic;if(dc){var Ic=Ub.r+qb.r;Ic*=Ic;var zc=Na.r+qb.r;zc*=zc;if(Ic>zc){var Yc=(dc+zc-Ic)/(2*dc);Ic=Math.sqrt(Math.max(0,zc/dc-Yc*Yc));qb.x=Na.x-Yc*Sb-Ic*ic;qb.y=Na.y-Yc*ic+Ic*Sb}else Yc=(dc+Ic-zc)/(2*dc),Ic=Math.sqrt(Math.max(0,Ic/dc-Yc*Yc)),qb.x=Ub.x+Yc*Sb-Ic*ic,qb.y=Ub.y+Yc*ic+Ic*Sb}else qb.x=Ub.x+
qb.r,qb.y=Ub.y}function wb(Na,Ub){var qb=Na.r+Ub.r-1E-6,Sb=Ub.x-Na.x;Na=Ub.y-Na.y;return 0<qb&&qb*qb>Sb*Sb+Na*Na}function sb(Na){var Ub=Na._,qb=Na.next._,Sb=Ub.r+qb.r;Na=(Ub.x*qb.r+qb.x*Ub.r)/Sb;Ub=(Ub.y*qb.r+qb.y*Ub.r)/Sb;return Na*Na+Ub*Ub}function Pb(Na){this._=Na;this.previous=this.next=null}function Vb(Na,Ub){if(!(Sb=(Na="object"===typeof Na&&"length"in Na?Na:Array.from(Na)).length))return 0;var qb,Sb;var ic=Na[0];ic.x=0;ic.y=0;if(!(1<Sb))return ic.r;var dc=Na[1];ic.x=-dc.r;dc.x=ic.r;dc.y=0;
if(!(2<Sb))return ic.r+dc.r;Pa(dc,ic,qb=Na[2]);ic=new Pb(ic);dc=new Pb(dc);qb=new Pb(qb);ic.next=qb.previous=dc;dc.next=ic.previous=qb;qb.next=dc.previous=ic;var Ic=3;a:for(;Ic<Sb;++Ic){Pa(ic._,dc._,qb=Na[Ic]);qb=new Pb(qb);var zc=dc.next;var Yc=ic.previous;var Md=dc._.r;var ud=ic._.r;do if(Md<=ud){if(wb(zc._,qb._)){dc=zc;ic.next=dc;dc.previous=ic;--Ic;continue a}Md+=zc._.r;zc=zc.next}else{if(wb(Yc._,qb._)){ic=Yc;ic.next=dc;dc.previous=ic;--Ic;continue a}ud+=Yc._.r;Yc=Yc.previous}while(zc!==Yc.next);
qb.previous=ic;qb.next=dc;ic.next=dc.previous=dc=qb;for(zc=sb(ic);(qb=qb.next)!==dc;)(Yc=sb(qb))<zc&&(ic=qb,zc=Yc);dc=ic.next}ic=[dc._];for(qb=dc;(qb=qb.next)!==dc;)ic.push(qb._);dc=0;ic=Array.from(ic);for(qb=ic.length;qb;)zc=Ub()*qb--|0,Ic=ic[qb],ic[qb]=ic[zc],ic[zc]=Ic;ic=(Ub=ic).length;qb=[];for(var Ha;dc<ic;)if(Ic=Ub[dc],Ha&&Da(Ha,Ic))++dc;else{a:if(Ha=qb,Ka(Ic,Ha))Ha=[Ic];else{for(qb=0;qb<Ha.length;++qb)if(Qa(Ic,Ha[qb])&&Ka(lb(Ha[qb],Ic),Ha)){Ha=[Ha[qb],Ic];break a}for(qb=0;qb<Ha.length-1;++qb)for(dc=
qb+1;dc<Ha.length;++dc)if(Qa(lb(Ha[qb],Ha[dc]),Ic)&&Qa(lb(Ha[qb],Ic),Ha[dc])&&Qa(lb(Ha[dc],Ic),Ha[qb])&&Ka(mb(Ha[qb],Ha[dc],Ic),Ha)){Ha=[Ha[qb],Ha[dc],Ic];break a}throw Error();}a:{Ha=qb=Ha;switch(Ha.length){case 1:Ha=Ha[0];Ha={x:Ha.x,y:Ha.y,r:Ha.r};break a;case 2:Ha=lb(Ha[0],Ha[1]);break a;case 3:Ha=mb(Ha[0],Ha[1],Ha[2]);break a}Ha=void 0}dc=0}qb=Ha;for(Ic=0;Ic<Sb;++Ic)ic=Na[Ic],ic.x-=qb.x,ic.y-=qb.y;return qb.r}function nb(Na){return Math.sqrt(Na.value)}function qa(Na){return function(Ub){Ub.children||
(Ub.r=Math.max(0,+Na(Ub)||0))}}function Z(Na,Ub,qb){return function(Sb){if(ic=Sb.children){var ic,dc,Ic=ic.length,zc=Na(Sb)*Ub||0;if(zc)for(dc=0;dc<Ic;++dc)ic[dc].r+=zc;var Yc=Vb(ic,qb);if(zc)for(dc=0;dc<Ic;++dc)ic[dc].r-=zc;Sb.r=Yc+zc}}}function Fa(Na){return function(Ub){var qb=Ub.parent;Ub.r*=Na;qb&&(Ub.x=qb.x+Na*Ub.x,Ub.y=qb.y+Na*Ub.y)}}function Ga(Na){Na.x0=Math.round(Na.x0);Na.y0=Math.round(Na.y0);Na.x1=Math.round(Na.x1);Na.y1=Math.round(Na.y1)}function eb(Na,Ub,qb,Sb,ic){var dc=Na.children,
Ic=-1,zc=dc.length;for(Sb=Na.value&&(Sb-Ub)/Na.value;++Ic<zc;)Na=dc[Ic],Na.y0=qb,Na.y1=ic,Na.x0=Ub,Na.x1=Ub+=Na.value*Sb}function ba(Na){return Na.id}function oa(Na){return Na.parentId}function q(){function Na(ic){var dc=Array.from(ic),Ic=Ub,zc=qb,Yc,Md,ud=new Map;if(null!=Sb){const ya=dc.map((Za,kb)=>{Za=Sb(Za,kb,ic);Za=`${Za}`;kb=Za.length;Q(Za,kb-1)&&!Q(Za,kb-2)&&(Za=Za.slice(0,-1));return"/"===Za[0]?Za:`/${Za}`}),Oa=ya.map(M);Ic=(new Set(ya)).add("");for(vb of Oa)Ic.has(vb)||(Ic.add(vb),ya.push(vb),
Oa.push(M(vb)),dc.push(Ib));Ic=(Za,kb)=>ya[kb];zc=(Za,kb)=>Oa[kb]}var Ha=0;for(Yc=dc.length;Ha<Yc;++Ha){var gb=dc[Ha];var vb=dc[Ha]=new Kb(gb);if(null!=(Md=Ic(gb,Ha,ic))&&(Md+="")){var ta=vb.id=Md;ud.set(ta,ud.has(ta)?Xa:vb)}null!=(Md=zc(gb,Ha,ic))&&(Md+="")&&(vb.parent=Md)}for(Ha=0;Ha<Yc;++Ha)if(vb=dc[Ha],Md=vb.parent){Ic=ud.get(Md);if(!Ic)throw Error("missing: "+Md);if(Ic===Xa)throw Error("ambiguous: "+Md);Ic.children?Ic.children.push(vb):Ic.children=[vb];vb.parent=Ic}else{if(F)throw Error("multiple roots");
var F=vb}if(!F)throw Error("no root");if(null!=Sb){for(;F.data===Ib&&1===F.children.length;)F=F.children[0],--Yc;for(Md=dc.length-1;0<=Md;--Md){vb=dc[Md];if(vb.data!==Ib)break;vb.data=null}}F.parent=Ca;F.eachBefore(function(ya){ya.depth=ya.parent.depth+1;--Yc}).eachBefore(Jb);F.parent=null;if(0<Yc)throw Error("cycle");return F}var Ub=ba,qb=oa,Sb;Na.id=function(ic){return arguments.length?(Ub=null==ic?null:Cb(ic),Na):Ub};Na.parentId=function(ic){return arguments.length?(qb=null==ic?null:Cb(ic),Na):
qb};Na.path=function(ic){return arguments.length?(Sb=null==ic?null:Cb(ic),Na):Sb};return Na}function M(Na){let Ub=Na.length;if(2>Ub)return"";for(;1<--Ub&&!Q(Na,Ub););return Na.slice(0,Ub)}function Q(Na,Ub){if("/"===Na[Ub]){let qb=0;for(;0<Ub&&"\\"===Na[--Ub];)++qb;if(0===(qb&1))return!0}return!1}function g(Na,Ub){return Na.parent===Ub.parent?1:2}function u(Na){var Ub=Na.children;return Ub?Ub[0]:Na.t}function m(Na){var Ub=Na.children;return Ub?Ub[Ub.length-1]:Na.t}function C(Na,Ub){this._=Na;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Ub}function B(Na){Na=new C(Na,0);for(var Ub,qb=[Na],Sb,ic,dc;Ub=qb.pop();)if(ic=Ub._.children)for(Ub.children=Array(Sb=ic.length),dc=Sb-1;0<=dc;--dc)qb.push(Sb=Ub.children[dc]=new C(ic[dc],dc)),Sb.parent=Ub;(Na.parent=new C(null,0)).children=[Na];return Na}function A(Na,Ub,qb,Sb,ic){var dc=Na.children,Ic=-1,zc=dc.length;for(ic=Na.value&&(ic-qb)/Na.value;++Ic<zc;)Na=dc[Ic],Na.x0=Ub,Na.x1=Sb,Na.y0=qb,Na.y1=qb+=
Na.value*ic}function D(Na,Ub,qb,Sb,ic,dc){for(var Ic=[],zc=Ub.children,Yc,Md,ud=Yc=0,Ha=zc.length,gb,vb=Ub.value,ta,F,ya,Oa,Za,kb;Yc<Ha;){Ub=ic-qb;gb=dc-Sb;do ta=zc[ud++].value;while(!ta&&ud<Ha);F=ya=ta;kb=Math.max(gb/Ub,Ub/gb)/(vb*Na);Oa=ta*ta*kb;for(Za=Math.max(ya/Oa,Oa/F);ud<Ha;++ud){ta+=Md=zc[ud].value;Md<F&&(F=Md);Md>ya&&(ya=Md);Oa=ta*ta*kb;Oa=Math.max(ya/Oa,Oa/F);if(Oa>Za){ta-=Md;break}Za=Oa}Ic.push(Yc={value:ta,dice:Ub<gb,children:zc.slice(Yc,ud)});Yc.dice?eb(Yc,qb,Sb,ic,vb?Sb+=gb*ta/vb:dc):
A(Yc,qb,Sb,vb?qb+=Ub*ta/vb:ic,dc);vb-=ta;Yc=ud}return Ic}function I(){function Na(gb){gb.x0=gb.y0=0;gb.x1=ic;gb.y1=dc;gb.eachBefore(Ub);Ic=[0];Sb&&gb.eachBefore(Ga);return gb}function Ub(gb){var vb=Ic[gb.depth],ta=gb.x0+vb,F=gb.y0+vb,ya=gb.x1-vb,Oa=gb.y1-vb;ya<ta&&(ta=ya=(ta+ya)/2);Oa<F&&(F=Oa=(F+Oa)/2);gb.x0=ta;gb.y0=F;gb.x1=ya;gb.y1=Oa;gb.children&&(vb=Ic[gb.depth+1]=zc(gb)/2,ta+=Ha(gb)-vb,F+=Yc(gb)-vb,ya-=Md(gb)-vb,Oa-=ud(gb)-vb,ya<ta&&(ta=ya=(ta+ya)/2),Oa<F&&(F=Oa=(F+Oa)/2),qb(gb,ta,F,ya,Oa))}
var qb=qc,Sb=!1,ic=1,dc=1,Ic=[0],zc=Ob,Yc=Ob,Md=Ob,ud=Ob,Ha=Ob;Na.round=function(gb){return arguments.length?(Sb=!!gb,Na):Sb};Na.size=function(gb){return arguments.length?(ic=+gb[0],dc=+gb[1],Na):[ic,dc]};Na.tile=function(gb){return arguments.length?(qb=Cb(gb),Na):qb};Na.padding=function(gb){return arguments.length?Na.paddingInner(gb).paddingOuter(gb):Na.paddingInner()};Na.paddingInner=function(gb){return arguments.length?(zc="function"===typeof gb?gb:ab(+gb),Na):zc};Na.paddingOuter=function(gb){return arguments.length?
Na.paddingTop(gb).paddingRight(gb).paddingBottom(gb).paddingLeft(gb):Na.paddingTop()};Na.paddingTop=function(gb){return arguments.length?(Yc="function"===typeof gb?gb:ab(+gb),Na):Yc};Na.paddingRight=function(gb){return arguments.length?(Md="function"===typeof gb?gb:ab(+gb),Na):Md};Na.paddingBottom=function(gb){return arguments.length?(ud="function"===typeof gb?gb:ab(+gb),Na):ud};Na.paddingLeft=function(gb){return arguments.length?(Ha="function"===typeof gb?gb:ab(+gb),Na):Ha};return Na}function V(Na){k.Transform.call(this,
null,Na)}function Aa(){function Na(ic,dc){if(dc>=qb.length)return ic;const Ic=ic.length,zc=qb[dc++],Yc={},Md={};let ud=-1,Ha,gb,vb;for(;++ud<Ic;)Ha=zc(gb=ic[ud])+"",(vb=Yc[Ha])?vb.push(gb):Yc[Ha]=[gb];for(Ha in Yc)Md[Ha]=Na(Yc[Ha],dc);return Md}function Ub(ic,dc){if(++dc>qb.length)return ic;const Ic=[];for(const zc in ic)Ic.push({key:zc,values:Ub(ic[zc],dc)});return Ic}const qb=[],Sb={entries:ic=>Ub(Na(ic,0),0),key:ic=>(qb.push(ic),Sb)};return Sb}function Y(Na){k.Transform.call(this,null,Na)}function t(Na,
Ub,qb){for(let Sb,ic=0,dc=Ub.length;ic<dc;++ic)if(Sb=Ub[ic],Sb in qb)Na[Sb](qb[Sb])}function L(Na){Y.call(this,Na)}function va(Na){Y.call(this,Na)}function La(Na){k.Transform.call(this,null,Na)}function Wa(Na){Y.call(this,Na)}function $a(Na){k.Transform.call(this,[],Na)}function X(Na){Y.call(this,Na)}Kb.prototype=kc.prototype={constructor:Kb,count:function(){return this.eachAfter(Ab)},each:function(Na,Ub){let qb=-1;for(const Sb of this)Na.call(Ub,Sb,++qb,this);return this},eachAfter:function(Na,Ub){for(var qb,
Sb=[this],ic=[],dc,Ic,zc=-1;qb=Sb.pop();)if(ic.push(qb),qb=qb.children)for(dc=0,Ic=qb.length;dc<Ic;++dc)Sb.push(qb[dc]);for(;qb=ic.pop();)Na.call(Ub,qb,++zc,this);return this},eachBefore:function(Na,Ub){for(var qb,Sb=[this],ic,dc=-1;qb=Sb.pop();)if(Na.call(Ub,qb,++dc,this),qb=qb.children)for(ic=qb.length-1;0<=ic;--ic)Sb.push(qb[ic]);return this},find:function(Na,Ub){let qb=-1;for(const Sb of this)if(Na.call(Ub,Sb,++qb,this))return Sb},sum:function(Na){return this.eachAfter(function(Ub){for(var qb=
+Na(Ub.data)||0,Sb=Ub.children,ic=Sb&&Sb.length;0<=--ic;)qb+=Sb[ic].value;Ub.value=qb})},sort:function(Na){return this.eachBefore(function(Ub){Ub.children&&Ub.children.sort(Na)})},path:function(Na){var Ub=this;var qb=Ub;var Sb=Na;if(qb!==Sb){var ic=qb.ancestors(),dc=Sb.ancestors(),Ic=null;qb=ic.pop();for(Sb=dc.pop();qb===Sb;)Ic=qb,qb=ic.pop(),Sb=dc.pop();qb=Ic}for(Sb=[Ub];Ub!==qb;)Ub=Ub.parent,Sb.push(Ub);for(Ub=Sb.length;Na!==qb;)Sb.splice(Ub,0,Na),Na=Na.parent;return Sb},ancestors:function(){for(var Na=
this,Ub=[Na];Na=Na.parent;)Ub.push(Na);return Ub},descendants:function(){return Array.from(this)},leaves:function(){var Na=[];this.eachBefore(function(Ub){Ub.children||Na.push(Ub)});return Na},links:function(){var Na=this,Ub=[];Na.each(function(qb){qb!==Na&&Ub.push({source:qb.parent,target:qb})});return Ub},copy:function(){return kc(this).eachBefore(tb)},[Symbol.iterator]:function*(){var Na,Ub=[this],qb;do{var Sb=Ub.reverse();for(Ub=[];Na=Sb.pop();)if(yield Na,Na=Na.children){var ic=0;for(qb=Na.length;ic<
qb;++ic)Ub.push(Na[ic])}}while(Ub.length)}};var Ca={depth:-1},Xa={},Ib={};C.prototype=Object.create(Kb.prototype);var yc=(1+Math.sqrt(5))/2,qc=function qb(Ub){function Sb(ic,dc,Ic,zc,Yc){D(Ub,ic,dc,Ic,zc,Yc)}Sb.ratio=function(ic){return qb(1<(ic=+ic)?ic:1)};return Sb}(yc);yc=function Sb(qb){function ic(dc,Ic,zc,Yc,Md){if((ud=dc._squarify)&&ud.ratio===qb)for(var ud,Ha,gb,vb=-1,ta,F=ud.length,ya=dc.value;++vb<F;){dc=ud[vb];Ha=dc.children;gb=dc.value=0;for(ta=Ha.length;gb<ta;++gb)dc.value+=Ha[gb].value;
dc.dice?eb(dc,Ic,zc,Yc,ya?zc+=(Md-zc)*dc.value/ya:Md):A(dc,Ic,zc,ya?Ic+=(Yc-Ic)*dc.value/ya:Yc,Md);ya-=dc.value}else dc._squarify=ud=D(qb,dc,Ic,zc,Yc,Md),ud.ratio=qb}ic.ratio=function(dc){return Sb(1<(dc=+dc)?dc:1)};return ic}(yc);V.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const xc=qb=>qb.values;P.inherits(V,k.Transform,{transform(qb,Sb){Sb.source||P.error("Nest transform requires an upstream data source.");
var ic=qb.generate,dc=qb.modified(),Ic=Sb.clone(),zc=this.value;if(!zc||dc||Sb.changed())zc&&zc.each(Yc=>{Yc.children&&k.isTuple(Yc.data)&&Ic.rem.push(Yc.data)}),this.value=zc=kc({values:P.array(qb.keys).reduce((Yc,Md)=>{Yc.key(Md);return Yc},Aa()).entries(Ic.source)},xc),ic&&zc.each(Yc=>{Yc.children&&(Yc=k.ingest(Yc.data),Ic.add.push(Yc),Ic.source.push(Yc))}),jb(zc,k.tupleid,k.tupleid);Ic.source.root=zc;return Ic}});const dd=(qb,Sb)=>qb.parent===Sb.parent?1:2;P.inherits(Y,k.Transform,{transform(qb,
Sb){Sb.source&&Sb.source.root||P.error(this.constructor.name+" transform requires a backing tree data source.");const ic=this.layout(qb.method),dc=this.fields,Ic=Sb.source.root,zc=qb.as||dc;qb.field?Ic.sum(qb.field):Ic.count();qb.sort&&Ic.sort(k.stableCompare(qb.sort,Yc=>Yc.data));t(ic,this.params,qb);ic.separation&&ic.separation(!1!==qb.separation?dd:P.one);try{this.value=ic(Ic)}catch(Yc){P.error(Yc)}Ic.each(Yc=>{const Md=Yc.data,ud=dc.length-1;for(let Ha=0;Ha<ud;++Ha)Md[zc[Ha]]=Yc[dc[Ha]];Md[zc[ud]]=
Yc.children?Yc.children.length:0});return Sb.reflow(qb.modified()).modifies(zc).modifies("leaf")}});var Zb=["x","y","r","depth","children"];L.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Zb.length,"default":Zb}]};P.inherits(L,Y,{layout:function(){function qb(zc){const Yc=
pb();zc.x=ic/2;zc.y=dc/2;Sb?zc.eachBefore(qa(Sb)).eachAfter(Z(Ic,.5,Yc)).eachBefore(Fa(1)):zc.eachBefore(qa(nb)).eachAfter(Z(Ob,1,Yc)).eachAfter(Z(Ic,zc.r/Math.min(ic,dc),Yc)).eachBefore(Fa(Math.min(ic,dc)/(2*zc.r)));return zc}var Sb=null,ic=1,dc=1,Ic=Ob;qb.radius=function(zc){return arguments.length?(Sb=null==zc?null:Cb(zc),qb):Sb};qb.size=function(zc){return arguments.length?(ic=+zc[0],dc=+zc[1],qb):[ic,dc]};qb.padding=function(zc){return arguments.length?(Ic="function"===typeof zc?zc:ab(+zc),qb):
Ic};return qb},params:["radius","size","padding"],fields:Zb});Zb="x0 y0 x1 y1 depth children".split(" ");va.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Zb.length,"default":Zb}]};P.inherits(va,Y,{layout:function(){function qb(Yc){var Md=Yc.height+1;
Yc.x0=Yc.y0=Ic;Yc.x1=ic;Yc.y1=dc/Md;Yc.eachBefore(Sb(dc,Md));zc&&Yc.eachBefore(Ga);return Yc}function Sb(Yc,Md){return function(ud){ud.children&&eb(ud,ud.x0,Yc*(ud.depth+1)/Md,ud.x1,Yc*(ud.depth+2)/Md);var Ha=ud.x0,gb=ud.y0,vb=ud.x1-Ic,ta=ud.y1-Ic;vb<Ha&&(Ha=vb=(Ha+vb)/2);ta<gb&&(gb=ta=(gb+ta)/2);ud.x0=Ha;ud.y0=gb;ud.x1=vb;ud.y1=ta}}var ic=1,dc=1,Ic=0,zc=!1;qb.round=function(Yc){return arguments.length?(zc=!!Yc,qb):zc};qb.size=function(Yc){return arguments.length?(ic=+Yc[0],dc=+Yc[1],qb):[ic,dc]};
qb.padding=function(Yc){return arguments.length?(Ic=+Yc,qb):Ic};return qb},params:["size","round","padding"],fields:Zb});La.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};P.inherits(La,k.Transform,{transform(qb,Sb){Sb.source||P.error("Stratify transform requires an upstream data source.");let ic=this.value;const dc=qb.modified(),Ic=Sb.fork(Sb.ALL).materialize(Sb.SOURCE);Sb=!ic||dc||Sb.changed(Sb.ADD_REM)||
Sb.modified(qb.key.fields)||Sb.modified(qb.parentKey.fields);Ic.source=Ic.source.slice();Sb&&(ic=Ic.source.length?jb(q().id(qb.key).parentId(qb.parentKey)(Ic.source),qb.key,P.truthy):jb(q()([{}]),qb.key,qb.key));Ic.source.root=this.value=ic;return Ic}});const Rc={tidy:function(){function qb(ud){var Ha=B(ud);Ha.eachAfter(Sb);Ha.parent.m=-Ha.z;Ha.eachBefore(ic);if(Md)ud.eachBefore(dc);else{var gb=ud,vb=ud,ta=ud;ud.eachBefore(function(Za){Za.x<gb.x&&(gb=Za);Za.x>vb.x&&(vb=Za);Za.depth>ta.depth&&(ta=
Za)});Ha=gb===vb?1:Ic(gb,vb)/2;var F=Ha-gb.x,ya=zc/(vb.x+Ha+F),Oa=Yc/(ta.depth||1);ud.eachBefore(function(Za){Za.x=(Za.x+F)*ya;Za.y=Za.depth*Oa})}return ud}function Sb(ud){var Ha=ud.children,gb=ud.parent.children,vb=ud.i?gb[ud.i-1]:null;if(Ha){for(var ta=0,F=0,ya=ud.children,Oa=ya.length,Za;0<=--Oa;)Za=ya[Oa],Za.z+=ta,Za.m+=ta,ta+=Za.s+(F+=Za.c);Ha=(Ha[0].z+Ha[Ha.length-1].z)/2;vb?(ud.z=vb.z+Ic(ud._,vb._),ud.m=ud.z-Ha):ud.z=Ha}else vb&&(ud.z=vb.z+Ic(ud._,vb._));Ha=ud.parent;gb=ud.parent.A||gb[0];
if(vb){F=ta=ud;ya=ta.parent.children[0];Oa=ta.m;Za=F.m;for(var kb=vb.m,Eb=ya.m,oc;vb=m(vb),ta=u(ta),vb&&ta;){ya=u(ya);F=m(F);F.a=ud;oc=vb.z+kb-ta.z-Oa+Ic(vb._,ta._);if(0<oc){var ec=vb.a.parent===ud.parent?vb.a:gb,jc=ud,Sc=oc,ed=Sc/(jc.i-ec.i);jc.c-=ed;jc.s+=Sc;ec.c+=ed;jc.z+=Sc;jc.m+=Sc;Oa+=oc;Za+=oc}kb+=vb.m;Oa+=ta.m;Eb+=ya.m;Za+=F.m}vb&&!m(F)&&(F.t=vb,F.m+=kb-Za);ta&&!u(ya)&&(ya.t=ta,ya.m+=Oa-Eb,gb=ud)}Ha.A=gb}function ic(ud){ud._.x=ud.z+ud.parent.m;ud.m+=ud.parent.m}function dc(ud){ud.x*=zc;ud.y=
ud.depth*Yc}var Ic=g,zc=1,Yc=1,Md=null;qb.separation=function(ud){return arguments.length?(Ic=ud,qb):Ic};qb.size=function(ud){return arguments.length?(Md=!1,zc=+ud[0],Yc=+ud[1],qb):Md?null:[zc,Yc]};qb.nodeSize=function(ud){return arguments.length?(Md=!0,zc=+ud[0],Yc=+ud[1],qb):Md?[zc,Yc]:null};return qb},cluster:function(){function qb(zc){var Yc,Md=0;zc.eachAfter(function(ta){var F=ta.children;if(F){var ya=F.reduce(bc,0)/F.length;ta.x=ya;ta.y=1+F.reduce(vc,0)}else ta.x=Yc?Md+=Sb(ta,Yc):0,ta.y=0,Yc=
ta});var ud=Bc(zc),Ha=uc(zc),gb=ud.x-Sb(ud,Ha)/2,vb=Ha.x+Sb(Ha,ud)/2;return zc.eachAfter(Ic?function(ta){ta.x=(ta.x-zc.x)*ic;ta.y=(zc.y-ta.y)*dc}:function(ta){ta.x=(ta.x-gb)/(vb-gb)*ic;ta.y=(1-(zc.y?ta.y/zc.y:1))*dc})}var Sb=Fb,ic=1,dc=1,Ic=!1;qb.separation=function(zc){return arguments.length?(Sb=zc,qb):Sb};qb.size=function(zc){return arguments.length?(Ic=!1,ic=+zc[0],dc=+zc[1],qb):Ic?null:[ic,dc]};qb.nodeSize=function(zc){return arguments.length?(Ic=!0,ic=+zc[0],dc=+zc[1],qb):Ic?[ic,dc]:null};return qb}};
Zb=["x","y","depth","children"];Wa.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Zb.length,"default":Zb}]};P.inherits(Wa,Y,{layout(qb){qb=qb||"tidy";if(P.hasOwnProperty(Rc,
qb))return Rc[qb]();P.error("Unrecognized Tree layout method: "+qb)},params:["size","nodeSize"],fields:Zb});$a.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};P.inherits($a,k.Transform,{transform(qb,Sb){qb=this.value;const ic=Sb.source&&Sb.source.root,dc=Sb.fork(Sb.NO_SOURCE),Ic={};ic||P.error("TreeLinks transform requires a tree data source.");Sb.changed(Sb.ADD_REM)?(dc.rem=qb,Sb.visit(Sb.SOURCE,zc=>Ic[k.tupleid(zc)]=1),ic.each(zc=>{const Yc=zc.data;(zc=zc.parent&&
zc.parent.data)&&Ic[k.tupleid(Yc)]&&Ic[k.tupleid(zc)]&&dc.add.push(k.ingest({source:zc,target:Yc}))}),this.value=dc.add):Sb.changed(Sb.MOD)&&(Sb.visit(Sb.MOD,zc=>Ic[k.tupleid(zc)]=1),qb.forEach(zc=>{(Ic[k.tupleid(zc.source)]||Ic[k.tupleid(zc.target)])&&dc.mod.push(zc)}));return dc}});const Pd={binary:function(qb,Sb,ic,dc,Ic){function zc(vb,ta,F,ya,Oa,Za,kb){if(vb>=ta-1)vb=Yc[vb],vb.x0=ya,vb.y0=Oa,vb.x1=Za,vb.y1=kb;else{for(var Eb=gb[vb],oc=F/2+Eb,ec=vb+1,jc=ta-1;ec<jc;){var Sc=ec+jc>>>1;gb[Sc]<oc?
ec=Sc+1:jc=Sc}oc-gb[ec-1]<gb[ec]-oc&&vb+1<ec&&--ec;Eb=gb[ec]-Eb;oc=F-Eb;Za-ya>kb-Oa?(F=F?(ya*oc+Za*Eb)/F:Za,zc(vb,ec,Eb,ya,Oa,F,kb),zc(ec,ta,oc,F,Oa,Za,kb)):(F=F?(Oa*oc+kb*Eb)/F:kb,zc(vb,ec,Eb,ya,Oa,Za,F),zc(ec,ta,oc,ya,F,Za,kb))}}var Yc=qb.children,Md,ud=Yc.length,Ha,gb=Array(ud+1);for(gb[0]=Ha=Md=0;Md<ud;++Md)gb[Md+1]=Ha+=Yc[Md].value;zc(0,ud,qb.value,Sb,ic,dc,Ic)},dice:eb,slice:A,slicedice:function(qb,Sb,ic,dc,Ic){(qb.depth&1?A:eb)(qb,Sb,ic,dc,Ic)},squarify:qc,resquarify:yc};yc="x0 y0 x1 y1 depth children".split(" ");
X.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number",
"default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:yc.length,"default":yc}]};P.inherits(X,Y,{layout(){const qb=I();qb.ratio=Sb=>{const ic=qb.tile();ic.ratio&&qb.tile(ic.ratio(Sb))};qb.method=Sb=>{P.hasOwnProperty(Pd,Sb)?qb.tile(Pd[Sb]):P.error("Unrecognized Treemap layout method: "+Sb)};return qb},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:yc});v.nest=V;v.pack=L;v.partition=va;v.stratify=La;v.tree=Wa;v.treelinks=$a;v.treemap=X})};
shadow$provide[40]=function(hc,Db,Wc,ob){!function(v,k){"object"==typeof ob&&"undefined"!=typeof Wc?k(ob):"function"==typeof define&&define.amd?define(["exports"],k):k((v="undefined"!=typeof globalThis?globalThis:v||self).vega={})}(this,function(v){function k(P,jb){if("undefined"!=typeof document&&document.createElement){const Fb=document.createElement("canvas");if(Fb&&Fb.getContext)return Fb.width=P,Fb.height=jb,Fb}return null}v.canvas=k;v.domCanvas=k;v.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[41]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function P(t){const L=k.array(t).slice(),va={};L.length||k.error("Missing time unit.");L.forEach(La=>{k.hasOwnProperty(Da,La)?va[La]=1:k.error(`Invalid time unit: ${La}.`)});1<(va.week||va.day?1:0)+(va.quarter||va.month||
va.date?1:0)+(va.dayofyear?1:0)&&k.error(`Incompatible time units: ${t}`);L.sort((La,Wa)=>Da[La]-Da[Wa]);return L}function jb(t,L,va,La){function Wa($a){return t($a=0===arguments.length?new Date:new Date(+$a)),$a}Wa.floor=function($a){return t($a=new Date(+$a)),$a};Wa.ceil=function($a){return t($a=new Date($a-1)),L($a,1),t($a),$a};Wa.round=function($a){var X=Wa($a),Ca=Wa.ceil($a);return $a-X<Ca-$a?X:Ca};Wa.offset=function($a,X){return L($a=new Date(+$a),null==X?1:Math.floor(X)),$a};Wa.range=function($a,
X,Ca){var Xa=[],Ib;$a=Wa.ceil($a);Ca=null==Ca?1:Math.floor(Ca);if(!($a<X&&0<Ca))return Xa;do Xa.push(Ib=new Date(+$a)),L($a,Ca),t($a);while(Ib<$a&&$a<X);return Xa};Wa.filter=function($a){return jb(function(X){if(X>=X)for(;t(X),!$a(X);)X.setTime(X-1)},function(X,Ca){if(X>=X)if(0>Ca)for(;0>=++Ca;)for(;L(X,-1),!$a(X););else for(;0<=--Ca;)for(;L(X,1),!$a(X););})};va&&(Wa.count=function($a,X){lb.setTime(+$a);mb.setTime(+X);t(lb);t(mb);return Math.floor(va(lb,mb))},Wa.every=function($a){$a=Math.floor($a);
return isFinite($a)&&0<$a?1<$a?Wa.filter(La?function(X){return 0===La(X)%$a}:function(X){return 0===Wa.count(0,X)%$a}):Wa:null});return Wa}function Fb(t){return jb(function(L){L.setDate(L.getDate()-(L.getDay()+7-t)%7);L.setHours(0,0,0,0)},function(L,va){L.setDate(L.getDate()+7*va)},function(L,va){return(va-L-6E4*(va.getTimezoneOffset()-L.getTimezoneOffset()))/6048E5})}function bc(t){return jb(function(L){L.setUTCDate(L.getUTCDate()-(L.getUTCDay()+7-t)%7);L.setUTCHours(0,0,0,0)},function(L,va){L.setUTCDate(L.getUTCDate()+
7*va)},function(L,va){return(va-L)/6048E5})}function vc(t,L){return null==t||null==L?NaN:t<L?-1:t>L?1:t>=L?0:NaN}function Bc(t){function L($a,X,Ca=0,Xa=$a.length){if(Ca<Xa){if(0!==La(X,X))return Xa;do{const Ib=Ca+Xa>>>1;0>Wa($a[Ib],X)?Ca=Ib+1:Xa=Ib}while(Ca<Xa)}return Ca}let va=t,La=t,Wa=t;2!==t.length&&(va=($a,X)=>t($a)-X,La=vc,Wa=($a,X)=>vc(t($a),X));return{left:L,center:function($a,X,Ca=0,Xa=$a.length){Xa=L($a,X,Ca,Xa-1);return Xa>Ca&&va($a[Xa-1],X)>-va($a[Xa],X)?Xa-1:Xa},right:function($a,X,Ca=
0,Xa=$a.length){if(Ca<Xa){if(0!==La(X,X))return Xa;do{const Ib=Ca+Xa>>>1;0>=Wa($a[Ib],X)?Ca=Ib+1:Xa=Ib}while(Ca<Xa)}return Ca}}}function uc(t,L,va){var La=Math.abs(L-t)/Math.max(0,va);va=Math.pow(10,Math.floor(Math.log(La)/Math.LN10));La/=va;La>=M?va*=10:La>=Q?va*=5:La>=g&&(va*=2);return L<t?-va:va}function Ab(t){u.setFullYear(t);u.setMonth(0);u.setDate(1);u.setHours(0,0,0,0);return u}function kc(t){return Vb.count(Ab(t.getFullYear())-1,t)}function Yb(t){return nb.count(Ab(t.getFullYear())-1,t)}function Ua(t,
L,va,La,Wa,$a,X){return 0<=t&&100>t?(L=new Date(-1,L,va,La,Wa,$a,X),L.setFullYear(t),L):new Date(t,L,va,La,Wa,$a,X)}function tb(t){const L=Date.UTC(t.getUTCFullYear(),0,1);return eb.count(L-1,t)}function Jb(t){const L=Date.UTC(t.getUTCFullYear(),0,1);return ba.count(L-1,t)}function Kb(t){u.setTime(Date.UTC(t,0,1));return u.getUTCDay()}function Cb(t,L,va,La,Wa,$a,X){return 0<=t&&100>t?(t=new Date(Date.UTC(-1,L,va,La,Wa,$a,X)),t.setUTCFullYear(va.y),t):new Date(Date.UTC(t,L,va,La,Wa,$a,X))}function Ob(t,
L,va,La,Wa){const $a=L||1,X=k.peek(t);L=(Rc,Pd,Na)=>{Na=Na||Rc;return ab(va[Na],La[Na],Rc===X&&$a,Pd)};const Ca=new Date;t=k.toSet(t);const Xa=t.year?L("year"):k.constant(2012),Ib=t.month?L("month"):t.quarter?L("quarter"):k.zero,yc=t.week&&t.day?L("day",1,"weekday"):t.week?L("week",1):t.day?L("day",1):t.date?L("date",1):t.dayofyear?L("dayofyear",1):k.one,qc=t.hours?L("hours"):k.zero,xc=t.minutes?L("minutes"):k.zero,dd=t.seconds?L("seconds"):k.zero,Zb=t.milliseconds?L("milliseconds"):k.zero;return function(Rc){Ca.setTime(+Rc);
Rc=Xa(Ca);return Wa(Rc,Ib(Ca),yc(Ca,Rc),qc(Ca),xc(Ca),dd(Ca),Zb(Ca))}}function ab(t,L,va,La){const Wa=1>=va?t:La?($a,X)=>La+va*Math.floor((t($a,X)-La)/va):($a,X)=>va*Math.floor(t($a,X)/va);return L?($a,X)=>L(Wa($a,X),X):Wa}function pb(t,L,va){return L+7*t-(va+6)%7}const Qa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Da=Qa.reduce((t,L,va)=>(t[L]=1+va,t),{}),Ka={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var lb=new Date,mb=new Date,Pa=jb(function(){},function(t,L){t.setTime(+t+L)},function(t,L){return L-t});Pa.every=function(t){t=Math.floor(t);return isFinite(t)&&0<t?1<t?jb(function(L){L.setTime(Math.floor(L/t)*t)},function(L,va){L.setTime(+L+va*t)},function(L,va){return(va-L)/t}):Pa:null};var wb=jb(function(t){t.setTime(t-t.getMilliseconds())},function(t,L){t.setTime(+t+
1E3*L)},function(t,L){return(L-t)/1E3},function(t){return t.getUTCSeconds()}),sb=jb(function(t){t.setTime(t-t.getMilliseconds()-1E3*t.getSeconds())},function(t,L){t.setTime(+t+6E4*L)},function(t,L){return(L-t)/6E4},function(t){return t.getMinutes()}),Pb=jb(function(t){t.setTime(t-t.getMilliseconds()-1E3*t.getSeconds()-6E4*t.getMinutes())},function(t,L){t.setTime(+t+36E5*L)},function(t,L){return(L-t)/36E5},function(t){return t.getHours()}),Vb=jb(t=>t.setHours(0,0,0,0),(t,L)=>t.setDate(t.getDate()+
L),(t,L)=>(L-t-6E4*(L.getTimezoneOffset()-t.getTimezoneOffset()))/864E5,t=>t.getDate()-1),nb=Fb(0);Fb(1);Fb(2);Fb(3);Fb(4);Fb(5);Fb(6);var qa=jb(function(t){t.setDate(1);t.setHours(0,0,0,0)},function(t,L){t.setMonth(t.getMonth()+L)},function(t,L){return L.getMonth()-t.getMonth()+12*(L.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Z=jb(function(t){t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,L){t.setFullYear(t.getFullYear()+L)},function(t,L){return L.getFullYear()-t.getFullYear()},
function(t){return t.getFullYear()});Z.every=function(t){return isFinite(t=Math.floor(t))&&0<t?jb(function(L){L.setFullYear(Math.floor(L.getFullYear()/t)*t);L.setMonth(0,1);L.setHours(0,0,0,0)},function(L,va){L.setFullYear(L.getFullYear()+va*t)}):null};var Fa=jb(function(t){t.setUTCSeconds(0,0)},function(t,L){t.setTime(+t+6E4*L)},function(t,L){return(L-t)/6E4},function(t){return t.getUTCMinutes()}),Ga=jb(function(t){t.setUTCMinutes(0,0,0)},function(t,L){t.setTime(+t+36E5*L)},function(t,L){return(L-
t)/36E5},function(t){return t.getUTCHours()}),eb=jb(function(t){t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCDate(t.getUTCDate()+L)},function(t,L){return(L-t)/864E5},function(t){return t.getUTCDate()-1}),ba=bc(0);bc(1);bc(2);bc(3);bc(4);bc(5);bc(6);var oa=jb(function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCMonth(t.getUTCMonth()+L)},function(t,L){return L.getUTCMonth()-t.getUTCMonth()+12*(L.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),q=jb(function(t){t.setUTCMonth(0,
1);t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCFullYear(t.getUTCFullYear()+L)},function(t,L){return L.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});q.every=function(t){return isFinite(t=Math.floor(t))&&0<t?jb(function(L){L.setUTCFullYear(Math.floor(L.getUTCFullYear()/t)*t);L.setUTCMonth(0,1);L.setUTCHours(0,0,0,0)},function(L,va){L.setUTCFullYear(L.getUTCFullYear()+va*t)}):null};var M=Math.sqrt(50),Q=Math.sqrt(10),g=Math.sqrt(2);const u=new Date,m={year:t=>t.getFullYear(),
quarter:t=>Math.floor(t.getMonth()/3),month:t=>t.getMonth(),date:t=>t.getDate(),hours:t=>t.getHours(),minutes:t=>t.getMinutes(),seconds:t=>t.getSeconds(),milliseconds:t=>t.getMilliseconds(),dayofyear:t=>kc(t),week:t=>Yb(t),weekday:(t,L)=>pb(Yb(t),t.getDay(),Ab(L).getDay()),day:(t,L)=>pb(1,t.getDay(),Ab(L).getDay())},C={quarter:t=>3*t,week:(t,L)=>pb(t,0,Ab(L).getDay())},B={year:t=>t.getUTCFullYear(),quarter:t=>Math.floor(t.getUTCMonth()/3),month:t=>t.getUTCMonth(),date:t=>t.getUTCDate(),hours:t=>t.getUTCHours(),
minutes:t=>t.getUTCMinutes(),seconds:t=>t.getUTCSeconds(),milliseconds:t=>t.getUTCMilliseconds(),dayofyear:t=>tb(t),week:t=>Jb(t),day:(t,L)=>pb(1,t.getUTCDay(),Kb(L)),weekday:(t,L)=>pb(Jb(t),t.getUTCDay(),Kb(L))},A={quarter:t=>3*t,week:(t,L)=>pb(t,0,Kb(L))},D={year:Z,quarter:qa.every(3),month:qa,week:nb,date:Vb,day:Vb,dayofyear:Vb,hours:Pb,minutes:sb,seconds:wb,milliseconds:Pa},I={year:q,quarter:oa.every(3),month:oa,week:ba,date:eb,day:eb,dayofyear:eb,hours:Ga,minutes:Fa,seconds:wb,milliseconds:Pa},
V="year month date hours minutes seconds milliseconds".split(" ");wb=V.slice(0,-1);sb=wb.slice(0,-1);Pb=sb.slice(0,-1);qa=Pb.slice(0,-1);Z=["year","month"];const Aa=["year"],Y=[[wb,1,1E3],[wb,5,5E3],[wb,15,15E3],[wb,30,3E4],[sb,1,6E4],[sb,5,3E5],[sb,15,9E5],[sb,30,18E5],[Pb,1,36E5],[Pb,3,108E5],[Pb,6,216E5],[Pb,12,432E5],[qa,1,864E5],[["year","week"],1,6048E5],[Z,1,2592E6],[Z,3,7776E6],[Aa,1,31536E6]];v.DATE="date";v.DAY="day";v.DAYOFYEAR="dayofyear";v.HOURS="hours";v.MILLISECONDS="milliseconds";
v.MINUTES="minutes";v.MONTH="month";v.QUARTER="quarter";v.SECONDS="seconds";v.TIME_UNITS=Qa;v.WEEK="week";v.YEAR="year";v.dayofyear=function(t){return kc(new Date(t))};v.timeBin=function(t){var L=t.extent;t=t.maxbins||40;var va=Math.abs(k.span(L))/t;let La=Bc(Wa=>Wa[2]).right(Y,va);La===Y.length?(va=Aa,L=uc(L[0]/31536E6,L[1]/31536E6,t)):La?(La=Y[va/Y[La-1][2]<Y[La][2]/va?La-1:La],va=La[0],L=La[1]):(va=V,L=Math.max(uc(L[0],L[1],t),1));return{units:va,step:L}};v.timeFloor=function(t,L){return Ob(t,
L||1,m,C,Ua)};v.timeInterval=function(t){return D[t]};v.timeOffset=function(t,L,va){return(t=D[t])?t.offset(L,va):void 0};v.timeSequence=function(t,L,va,La){return(t=D[t])?t.range(L,va,La):void 0};v.timeUnitSpecifier=function(t,L){L=k.extend({},Ka,L);t=P(t);const va=t.length;let La="",Wa,$a,X;for(Wa=0;Wa<va;)for($a=t.length;$a>Wa;--$a)if(X=t.slice(Wa,$a).join("-"),null!=L[X]){La+=L[X];Wa=$a;break}return La.trim()};v.timeUnits=P;v.utcFloor=function(t,L){return Ob(t,L||1,B,A,Cb)};v.utcInterval=function(t){return I[t]};
v.utcOffset=function(t,L,va){return(t=I[t])?t.offset(L,va):void 0};v.utcSequence=function(t,L,va,La){return(t=I[t])?t.range(L,va,La):void 0};v.utcdayofyear=function(t){return tb(new Date(t))};v.utcweek=function(t){return Jb(new Date(t))};v.week=function(t){return Yb(new Date(t))};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[42]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(41),Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function jb(J){const fa={};return Sa=>fa[Sa]||(fa[Sa]=J(Sa))}function Fb(J,fa){if(0>(fa=(J=fa?J.toExponential(fa-1):J.toExponential()).indexOf("e")))return null;var Sa=J.slice(0,fa);return[1<
Sa.length?Sa[0]+Sa.slice(2):Sa,+J.slice(fa+1)]}function bc(J){return J=Fb(Math.abs(J)),J?J[1]:NaN}function vc(J,fa){return function(Sa,cc){for(var Jc=Sa.length,Ac=[],$c=0,pd=J[0],ee=0;0<Jc&&0<pd;){ee+pd+1>cc&&(pd=Math.max(1,cc-ee));Ac.push(Sa.substring(Jc-=pd,Jc+pd));if((ee+=pd+1)>cc)break;pd=J[$c=($c+1)%J.length]}return Ac.reverse().join(fa)}}function Bc(J){return function(fa){return fa.replace(/[0-9]/g,function(Sa){return J[+Sa]})}}function uc(J){if(!(fa=Ud.exec(J)))throw Error("invalid format: "+
J);var fa;return new Ab({fill:fa[1],align:fa[2],sign:fa[3],symbol:fa[4],zero:fa[5],width:fa[6],comma:fa[7],precision:fa[8]&&fa[8].slice(1),trim:fa[9],type:fa[10]})}function Ab(J){this.fill=void 0===J.fill?" ":J.fill+"";this.align=void 0===J.align?"\x3e":J.align+"";this.sign=void 0===J.sign?"-":J.sign+"";this.symbol=void 0===J.symbol?"":J.symbol+"";this.zero=!!J.zero;this.width=void 0===J.width?void 0:+J.width;this.comma=!!J.comma;this.precision=void 0===J.precision?void 0:+J.precision;this.trim=!!J.trim;
this.type=void 0===J.type?"":J.type+""}function kc(J,fa){fa=Fb(J,fa);if(!fa)return J+"";J=fa[0];fa=fa[1];return 0>fa?"0."+Array(-fa).join("0")+J:J.length>fa+1?J.slice(0,fa+1)+"."+J.slice(fa+1):J+Array(fa-J.length+2).join("0")}function Yb(J){return J}function Ua(J){function fa(db){function pc(Fc){var bd=Me,Gc=$e,Jd,Zd;if("c"===ve)Gc=sf(Fc)+Gc,Fc="";else{Fc=+Fc;var $d=0>Fc||0>1/Fc;Fc=isNaN(Fc)?Ra:sf(Math.abs(Fc),Cd);if(be){var ke=Fc.length,O=1,da=-1;a:for(;O<ke;++O)switch(Fc[O]){case ".":da=Jd=O;break;
case "0":0===da&&(da=O);Jd=O;break;default:if(!+Fc[O])break a;0<da&&(da=0)}Fc=0<da?Fc.slice(0,da)+Fc.slice(Jd+1):Fc}$d&&0===+Fc&&"+"!==Uc&&($d=!1);bd=($d?"("===Uc?Uc:ee:"-"===Uc||"("===Uc?"":Uc)+bd;Gc=("s"===ve?ma[8+Xe/3]:"")+Gc+($d&&"("===Uc?")":"");if(nd)for($d=-1,Jd=Fc.length;++$d<Jd;)if(Zd=Fc.charCodeAt($d),48>Zd||57<Zd){Gc=(46===Zd?Ac+Fc.slice($d+1):Fc.slice($d))+Gc;Fc=Fc.slice(0,$d);break}}Ld&&!td&&(Fc=Sa(Fc,Infinity));Zd=bd.length+Fc.length+Gc.length;$d=Zd<kd?Array(kd-Zd+1).join(wd):"";Ld&&
td&&(Fc=Sa($d+Fc,$d.length?kd-Gc.length:Infinity),$d="");switch(Mc){case "\x3c":Fc=bd+Fc+Gc+$d;break;case "\x3d":Fc=bd+$d+Fc+Gc;break;case "^":Fc=$d.slice(0,Zd=$d.length>>1)+bd+Fc+Gc+$d.slice(Zd);break;default:Fc=$d+bd+Fc+Gc}return $c(Fc)}db=uc(db);var wd=db.fill,Mc=db.align,Uc=db.sign,Qc=db.symbol,td=db.zero,kd=db.width,Ld=db.comma,Cd=db.precision,be=db.trim,ve=db.type;"n"===ve?(Ld=!0,ve="g"):Wd[ve]||(void 0===Cd&&(Cd=12),be=!0,ve="g");if(td||"0"===wd&&"\x3d"===Mc)td=!0,wd="0",Mc="\x3d";var Me="$"===
Qc?cc:"#"===Qc&&/[boxX]/.test(ve)?"0"+ve.toLowerCase():"",$e="$"===Qc?Jc:/[%p]/.test(ve)?pd:"",sf=Wd[ve],nd=/[defgprs%]/.test(ve);Cd=void 0===Cd?6:/[gprs]/.test(ve)?Math.max(1,Math.min(21,Cd)):Math.max(0,Math.min(20,Cd));pc.toString=function(){return db+""};return pc}var Sa=void 0===J.grouping||void 0===J.thousands?Yb:vc(N.call(J.grouping,Number),J.thousands+""),cc=void 0===J.currency?"":J.currency[0]+"",Jc=void 0===J.currency?"":J.currency[1]+"",Ac=void 0===J.decimal?".":J.decimal+"",$c=void 0===
J.numerals?Yb:Bc(N.call(J.numerals,String)),pd=void 0===J.percent?"%":J.percent+"",ee=void 0===J.minus?"":J.minus+"",Ra=void 0===J.nan?"NaN":J.nan+"";return{format:fa,formatPrefix:function(db,pc){var wd=fa((db=uc(db),db.type="f",db));db=3*Math.max(-8,Math.min(8,Math.floor(bc(pc)/3)));var Mc=Math.pow(10,-db),Uc=ma[8+db/3];return function(Qc){return wd(Mc*Qc)+Uc}}}}function tb(J,fa){return Sa=>{Sa=J(Sa);const cc=Sa.indexOf(fa);if(0>cc)return Sa;a:{var Jc=Sa.lastIndexOf("e");if(!(0<Jc)){for(Jc=Sa.length;--Jc>
cc;){var Ac=Sa.charCodeAt(Jc);if(48<=Ac&&57>=Ac){Jc+=1;break a}}Jc=void 0}}for(Ac=Jc<Sa.length?Sa.slice(Jc):"";--Jc>cc;)if("0"!==Sa[Jc]){++Jc;break}return Sa.slice(0,Jc)+Ac}}function Jb(J){const fa=jb(J.format),Sa=J.formatPrefix;return{format:fa,formatPrefix:Sa,formatFloat(cc){cc=uc(cc||",");if(null==cc.precision){cc.precision=12;switch(cc.type){case "%":cc.precision-=2;break;case "e":--cc.precision}return tb(fa(cc),fa(".1f")(1)[1])}return fa(cc)},formatSpan(cc,Jc,Ac,$c){$c=uc(null==$c?",f":$c);var pd=
Math.abs(Jc-cc)/Math.max(0,Ac);Ac=Math.pow(10,Math.floor(Math.log(pd)/Math.LN10));pd/=Ac;pd>=Ed?Ac*=10:pd>=Yd?Ac*=5:pd>=ae&&(Ac*=2);Ac=Jc<cc?-Ac:Ac;cc=Math.max(Math.abs(cc),Math.abs(Jc));if(null==$c.precision)switch($c.type){case "s":return Jc=isNaN,Ac=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(bc(cc)/3)))-bc(Math.abs(Ac))),Jc(Jc=Ac)||($c.precision=Jc),Sa($c,cc);case "":case "e":case "g":case "p":case "r":Jc=isNaN;Ac=Math.abs(Ac);cc=Math.abs(cc)-Ac;cc=Math.max(0,bc(cc)-bc(Ac))+1;Jc(Jc=cc)||($c.precision=
Jc-("e"===$c.type));break;case "f":case "%":isNaN(Jc=Math.max(0,-bc(Math.abs(Ac))))||($c.precision=Jc-2*("%"===$c.type))}return fa($c)}}}function Kb(){return Xb=Jb({format:fb,formatPrefix:Hb})}function Cb(J){return Jb(Ua(J))}function Ob(J){return arguments.length?Xb=Cb(J):Xb}function ab(J,fa,Sa,cc){function Jc(Ac){return J(Ac=0===arguments.length?new Date:new Date(+Ac)),Ac}Jc.floor=function(Ac){return J(Ac=new Date(+Ac)),Ac};Jc.ceil=function(Ac){return J(Ac=new Date(Ac-1)),fa(Ac,1),J(Ac),Ac};Jc.round=
function(Ac){var $c=Jc(Ac),pd=Jc.ceil(Ac);return Ac-$c<pd-Ac?$c:pd};Jc.offset=function(Ac,$c){return fa(Ac=new Date(+Ac),null==$c?1:Math.floor($c)),Ac};Jc.range=function(Ac,$c,pd){var ee=[],Ra;Ac=Jc.ceil(Ac);pd=null==pd?1:Math.floor(pd);if(!(Ac<$c&&0<pd))return ee;do ee.push(Ra=new Date(+Ac)),fa(Ac,pd),J(Ac);while(Ra<Ac&&Ac<$c);return ee};Jc.filter=function(Ac){return ab(function($c){if($c>=$c)for(;J($c),!Ac($c);)$c.setTime($c-1)},function($c,pd){if($c>=$c)if(0>pd)for(;0>=++pd;)for(;fa($c,-1),!Ac($c););
else for(;0<=--pd;)for(;fa($c,1),!Ac($c););})};Sa&&(Jc.count=function(Ac,$c){Cc.setTime(+Ac);mc.setTime(+$c);J(Cc);J(mc);return Math.floor(Sa(Cc,mc))},Jc.every=function(Ac){Ac=Math.floor(Ac);return isFinite(Ac)&&0<Ac?1<Ac?Jc.filter(cc?function($c){return 0===cc($c)%Ac}:function($c){return 0===Jc.count(0,$c)%Ac}):Jc:null});return Jc}function pb(J){return ab(function(fa){fa.setDate(fa.getDate()-(fa.getDay()+7-J)%7);fa.setHours(0,0,0,0)},function(fa,Sa){fa.setDate(fa.getDate()+7*Sa)},function(fa,Sa){return(Sa-
fa-6E4*(Sa.getTimezoneOffset()-fa.getTimezoneOffset()))/6048E5})}function Qa(J){return ab(function(fa){fa.setUTCDate(fa.getUTCDate()-(fa.getUTCDay()+7-J)%7);fa.setUTCHours(0,0,0,0)},function(fa,Sa){fa.setUTCDate(fa.getUTCDate()+7*Sa)},function(fa,Sa){return(Sa-fa)/6048E5})}function Da(J){if(0<=J.y&&100>J.y){var fa=new Date(-1,J.m,J.d,J.H,J.M,J.S,J.L);fa.setFullYear(J.y);return fa}return new Date(J.y,J.m,J.d,J.H,J.M,J.S,J.L)}function Ka(J){if(0<=J.y&&100>J.y){var fa=new Date(Date.UTC(-1,J.m,J.d,J.H,
J.M,J.S,J.L));fa.setUTCFullYear(J.y);return fa}return new Date(Date.UTC(J.y,J.m,J.d,J.H,J.M,J.S,J.L))}function lb(J,fa,Sa){return{y:J,m:fa,d:Sa,H:0,M:0,S:0,L:0}}function mb(J){function fa(nd,Fc){return function(bd){var Gc=[],Jd=-1,Zd=0,$d=nd.length,ke,O;for(bd instanceof Date||(bd=new Date(+bd));++Jd<$d;)if(37===nd.charCodeAt(Jd)){Gc.push(nd.slice(Zd,Jd));null!=(Zd=df[ke=nd.charAt(++Jd)])?ke=nd.charAt(++Jd):Zd="e"===ke?" ":"0";if(O=Fc[ke])ke=O(bd,Zd);Gc.push(ke);Zd=Jd+1}Gc.push(nd.slice(Zd,Jd));return Gc.join("")}}
function Sa(nd,Fc){return function(bd){var Gc=lb(1900,void 0,1);if(cc(Gc,nd,bd+="",0)!=bd.length)return null;if("Q"in Gc)return new Date(Gc.Q);if("s"in Gc)return new Date(1E3*Gc.s+("L"in Gc?Gc.L:0));!Fc||"Z"in Gc||(Gc.Z=0);"p"in Gc&&(Gc.H=Gc.H%12+12*Gc.p);void 0===Gc.m&&(Gc.m="q"in Gc?Gc.q:0);if("V"in Gc){if(1>Gc.V||53<Gc.V)return null;"w"in Gc||(Gc.w=1);if("Z"in Gc){bd=Ka(lb(Gc.y,0,1));var Jd=bd.getUTCDay();bd=4<Jd||0===Jd?qe.ceil(bd):qe(bd);bd=Xd.offset(bd,7*(Gc.V-1));Gc.y=bd.getUTCFullYear();Gc.m=
bd.getUTCMonth();Gc.d=bd.getUTCDate()+(Gc.w+6)%7}else bd=Da(lb(Gc.y,0,1)),Jd=bd.getDay(),bd=4<Jd||0===Jd?Nc.ceil(bd):Nc(bd),bd=Hc.offset(bd,7*(Gc.V-1)),Gc.y=bd.getFullYear(),Gc.m=bd.getMonth(),Gc.d=bd.getDate()+(Gc.w+6)%7}else if("W"in Gc||"U"in Gc)"w"in Gc||(Gc.w="u"in Gc?Gc.u%7:"W"in Gc?1:0),Jd="Z"in Gc?Ka(lb(Gc.y,0,1)).getUTCDay():Da(lb(Gc.y,0,1)).getDay(),Gc.m=0,Gc.d="W"in Gc?(Gc.w+6)%7+7*Gc.W-(Jd+5)%7:Gc.w+7*Gc.U-(Jd+6)%7;return"Z"in Gc?(Gc.H+=Gc.Z/100|0,Gc.M+=Gc.Z%100,Ka(Gc)):Da(Gc)}}function cc(nd,
Fc,bd,Gc){for(var Jd=0,Zd=Fc.length,$d=bd.length,ke;Jd<Zd;){if(Gc>=$d)return-1;ke=Fc.charCodeAt(Jd++);if(37===ke){if(ke=Fc.charAt(Jd++),ke=sf[ke in df?Fc.charAt(Jd++):ke],!ke||0>(Gc=ke(nd,bd,Gc)))return-1}else if(ke!=bd.charCodeAt(Gc++))return-1}return Gc}var Jc=J.dateTime,Ac=J.date,$c=J.time,pd=J.periods,ee=J.days,Ra=J.shortDays,db=J.months,pc=J.shortMonths,wd=sb(pd),Mc=Pb(pd),Uc=sb(ee),Qc=Pb(ee),td=sb(Ra),kd=Pb(Ra),Ld=sb(db),Cd=Pb(db),be=sb(pc),ve=Pb(pc),Me={a:function(nd){return Ra[nd.getDay()]},
A:function(nd){return ee[nd.getDay()]},b:function(nd){return pc[nd.getMonth()]},B:function(nd){return db[nd.getMonth()]},c:null,d:V,e:V,f:va,g:dd,G:Rc,H:Aa,I:Y,j:t,L,m:La,M:Wa,p:function(nd){return pd[+(12<=nd.getHours())]},q:function(nd){return 1+~~(nd.getMonth()/3)},Q:oc,s:ec,S:$a,u:X,U:Ca,V:Ib,w:yc,W:qc,x:null,X:null,y:xc,Y:Zb,Z:Pd,"%":Eb},$e={a:function(nd){return Ra[nd.getUTCDay()]},A:function(nd){return ee[nd.getUTCDay()]},b:function(nd){return pc[nd.getUTCMonth()]},B:function(nd){return db[nd.getUTCMonth()]},
c:null,d:Na,e:Na,f:dc,g:ya,G:Za,H:Ub,I:qb,j:Sb,L:ic,m:Ic,M:zc,p:function(nd){return pd[+(12<=nd.getUTCHours())]},q:function(nd){return 1+~~(nd.getUTCMonth()/3)},Q:oc,s:ec,S:Yc,u:Md,U:ud,V:gb,w:vb,W:ta,x:null,X:null,y:F,Y:Oa,Z:kb,"%":Eb},sf={a:function(nd,Fc,bd){return(Fc=td.exec(Fc.slice(bd)))?(nd.w=kd.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},A:function(nd,Fc,bd){return(Fc=Uc.exec(Fc.slice(bd)))?(nd.w=Qc.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},b:function(nd,Fc,bd){return(Fc=be.exec(Fc.slice(bd)))?
(nd.m=ve.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},B:function(nd,Fc,bd){return(Fc=Ld.exec(Fc.slice(bd)))?(nd.m=Cd.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},c:function(nd,Fc,bd){return cc(nd,Jc,Fc,bd)},d:M,e:M,f:B,g:eb,G:Ga,H:g,I:g,j:Q,L:C,m:q,M:u,p:function(nd,Fc,bd){return(Fc=wd.exec(Fc.slice(bd)))?(nd.p=Mc.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},q:oa,Q:D,s:I,S:m,u:nb,U:qa,V:Z,w:Vb,W:Fa,x:function(nd,Fc,bd){return cc(nd,Ac,Fc,bd)},X:function(nd,Fc,bd){return cc(nd,$c,Fc,bd)},y:eb,Y:Ga,
Z:ba,"%":A};Me.x=fa(Ac,Me);Me.X=fa($c,Me);Me.c=fa(Jc,Me);$e.x=fa(Ac,$e);$e.X=fa($c,$e);$e.c=fa(Jc,$e);return{format:function(nd){var Fc=fa(nd+="",Me);Fc.toString=function(){return nd};return Fc},parse:function(nd){var Fc=Sa(nd+="",!1);Fc.toString=function(){return nd};return Fc},utcFormat:function(nd){var Fc=fa(nd+="",$e);Fc.toString=function(){return nd};return Fc},utcParse:function(nd){var Fc=Sa(nd+="",!0);Fc.toString=function(){return nd};return Fc}}}function Pa(J,fa,Sa){var cc=0>J?"-":"";J=(cc?
-J:J)+"";var Jc=J.length;return cc+(Jc<Sa?Array(Sa-Jc+1).join(fa)+J:J)}function wb(J){return J.replace(U,"\\$\x26")}function sb(J){return new RegExp("^(?:"+J.map(wb).join("|")+")","i")}function Pb(J){return new Map(J.map((fa,Sa)=>[fa.toLowerCase(),Sa]))}function Vb(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+1)))?(J.w=+fa[0],Sa+fa[0].length):-1}function nb(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+1)))?(J.u=+fa[0],Sa+fa[0].length):-1}function qa(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.U=+fa[0],
Sa+fa[0].length):-1}function Z(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.V=+fa[0],Sa+fa[0].length):-1}function Fa(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.W=+fa[0],Sa+fa[0].length):-1}function Ga(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+4)))?(J.y=+fa[0],Sa+fa[0].length):-1}function eb(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.y=+fa[0]+(68<+fa[0]?1900:2E3),Sa+fa[0].length):-1}function ba(J,fa,Sa){return(fa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(fa.slice(Sa,Sa+6)))?(J.Z=fa[1]?
0:-(fa[2]+(fa[3]||"00")),Sa+fa[0].length):-1}function oa(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+1)))?(J.q=3*fa[0]-3,Sa+fa[0].length):-1}function q(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.m=fa[0]-1,Sa+fa[0].length):-1}function M(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.d=+fa[0],Sa+fa[0].length):-1}function Q(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+3)))?(J.m=0,J.d=+fa[0],Sa+fa[0].length):-1}function g(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.H=+fa[0],Sa+fa[0].length):
-1}function u(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.M=+fa[0],Sa+fa[0].length):-1}function m(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.S=+fa[0],Sa+fa[0].length):-1}function C(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+3)))?(J.L=+fa[0],Sa+fa[0].length):-1}function B(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+6)))?(J.L=Math.floor(fa[0]/1E3),Sa+fa[0].length):-1}function A(J,fa,Sa){return(J=nf.exec(fa.slice(Sa,Sa+1)))?Sa+J[0].length:-1}function D(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa)))?
(J.Q=+fa[0],Sa+fa[0].length):-1}function I(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa)))?(J.s=+fa[0],Sa+fa[0].length):-1}function V(J,fa){return Pa(J.getDate(),fa,2)}function Aa(J,fa){return Pa(J.getHours(),fa,2)}function Y(J,fa){return Pa(J.getHours()%12||12,fa,2)}function t(J,fa){return Pa(1+Hc.count(Fd(J),J),fa,3)}function L(J,fa){return Pa(J.getMilliseconds(),fa,3)}function va(J,fa){return L(J,fa)+"000"}function La(J,fa){return Pa(J.getMonth()+1,fa,2)}function Wa(J,fa){return Pa(J.getMinutes(),fa,
2)}function $a(J,fa){return Pa(J.getSeconds(),fa,2)}function X(J){J=J.getDay();return 0===J?7:J}function Ca(J,fa){return Pa(jd.count(Fd(J)-1,J),fa,2)}function Xa(J){var fa=J.getDay();return 4<=fa||0===fa?vd(J):vd.ceil(J)}function Ib(J,fa){J=Xa(J);return Pa(vd.count(Fd(J),J)+(4===Fd(J).getDay()),fa,2)}function yc(J){return J.getDay()}function qc(J,fa){return Pa(Nc.count(Fd(J)-1,J),fa,2)}function xc(J,fa){return Pa(J.getFullYear()%100,fa,2)}function dd(J,fa){J=Xa(J);return Pa(J.getFullYear()%100,fa,
2)}function Zb(J,fa){return Pa(J.getFullYear()%1E4,fa,4)}function Rc(J,fa){var Sa=J.getDay();J=4<=Sa||0===Sa?vd(J):vd.ceil(J);return Pa(J.getFullYear()%1E4,fa,4)}function Pd(J){J=J.getTimezoneOffset();return(0<J?"-":(J*=-1,"+"))+Pa(J/60|0,"0",2)+Pa(J%60,"0",2)}function Na(J,fa){return Pa(J.getUTCDate(),fa,2)}function Ub(J,fa){return Pa(J.getUTCHours(),fa,2)}function qb(J,fa){return Pa(J.getUTCHours()%12||12,fa,2)}function Sb(J,fa){return Pa(1+Xd.count(cf(J),J),fa,3)}function ic(J,fa){return Pa(J.getUTCMilliseconds(),
fa,3)}function dc(J,fa){return ic(J,fa)+"000"}function Ic(J,fa){return Pa(J.getUTCMonth()+1,fa,2)}function zc(J,fa){return Pa(J.getUTCMinutes(),fa,2)}function Yc(J,fa){return Pa(J.getUTCSeconds(),fa,2)}function Md(J){J=J.getUTCDay();return 0===J?7:J}function ud(J,fa){return Pa(Nd.count(cf(J)-1,J),fa,2)}function Ha(J){var fa=J.getUTCDay();return 4<=fa||0===fa?De(J):De.ceil(J)}function gb(J,fa){J=Ha(J);return Pa(De.count(cf(J),J)+(4===cf(J).getUTCDay()),fa,2)}function vb(J){return J.getUTCDay()}function ta(J,
fa){return Pa(qe.count(cf(J)-1,J),fa,2)}function F(J,fa){return Pa(J.getUTCFullYear()%100,fa,2)}function ya(J,fa){J=Ha(J);return Pa(J.getUTCFullYear()%100,fa,2)}function Oa(J,fa){return Pa(J.getUTCFullYear()%1E4,fa,4)}function Za(J,fa){var Sa=J.getUTCDay();J=4<=Sa||0===Sa?De(J):De.ceil(J);return Pa(J.getUTCFullYear()%1E4,fa,4)}function kb(){return"+0000"}function Eb(){return"%"}function oc(J){return+J}function ec(J){return Math.floor(+J/1E3)}function jc(J,fa,Sa){Sa=Sa||{};P.isObject(Sa)||P.error(`Invalid time multi-format specifier: ${Sa}`);
const cc=fa(k.SECONDS),Jc=fa(k.MINUTES),Ac=fa(k.HOURS),$c=fa(k.DATE),pd=fa(k.WEEK),ee=fa(k.MONTH),Ra=fa(k.QUARTER),db=fa(k.YEAR),pc=J(Sa[k.MILLISECONDS]||".%L"),wd=J(Sa[k.SECONDS]||":%S"),Mc=J(Sa[k.MINUTES]||"%I:%M"),Uc=J(Sa[k.HOURS]||"%I %p"),Qc=J(Sa[k.DATE]||Sa[k.DAY]||"%a %d"),td=J(Sa[k.WEEK]||"%b %d"),kd=J(Sa[k.MONTH]||"%B"),Ld=J(Sa[k.QUARTER]||"%B"),Cd=J(Sa[k.YEAR]||"%Y");return be=>(cc(be)<be?pc:Jc(be)<be?wd:Ac(be)<be?Mc:$c(be)<be?Uc:ee(be)<be?pd(be)<be?Qc:td:db(be)<be?Ra(be)<be?kd:Ld:Cd)(be)}
function Sc(J){const fa=jb(J.format),Sa=jb(J.utcFormat);return{timeFormat:cc=>P.isString(cc)?fa(cc):jc(fa,k.timeInterval,cc),utcFormat:cc=>P.isString(cc)?Sa(cc):jc(Sa,k.utcInterval,cc),timeParse:jb(J.parse),utcParse:jb(J.utcParse)}}function ed(){return $b=Sc({format:cb,parse:yb,utcFormat:gc,utcParse:Ec})}function fd(J){return Sc(mb(J))}function Qd(J){return arguments.length?$b=fd(J):$b}function Td(J,fa){var Sa=arguments.length;Sa&&2!==Sa&&P.error("defaultLocale expects either zero or two arguments.");
if(Sa){Sa=Ob(J);var cc=Qd(fa);Sa=P.extend({},Sa,cc)}else Sa=Ob(),cc=Qd(),Sa=P.extend({},Sa,cc);return Sa}var Ed=Math.sqrt(50),Yd=Math.sqrt(10),ae=Math.sqrt(2),Ud=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;uc.prototype=Ab.prototype;Ab.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var Xe,Wd={"%":(J,fa)=>(100*J).toFixed(fa),b:J=>Math.round(J).toString(2),c:J=>J+"",d:function(J){return 1E21<=Math.abs(J=Math.round(J))?J.toLocaleString("en").replace(/,/g,""):J.toString(10)},e:(J,fa)=>J.toExponential(fa),f:(J,fa)=>J.toFixed(fa),g:(J,fa)=>J.toPrecision(fa),o:J=>Math.round(J).toString(8),p:(J,fa)=>kc(100*J,fa),r:kc,s:function(J,fa){var Sa=Fb(J,fa);if(!Sa)return J+"";var cc=Sa[0];Sa=Sa[1];Sa=Sa-(Xe=3*Math.max(-8,Math.min(8,Math.floor(Sa/3))))+1;var Jc=cc.length;
return Sa===Jc?cc:Sa>Jc?cc+Array(Sa-Jc+1).join("0"):0<Sa?cc.slice(0,Sa)+"."+cc.slice(Sa):"0."+Array(1-Sa).join("0")+Fb(J,Math.max(0,fa+Sa-1))[0]},X:J=>Math.round(J).toString(16).toUpperCase(),x:J=>Math.round(J).toString(16)},N=Array.prototype.map,ma="y z a f p n  m  k M G T P E Z Y".split(" "),za,fb,Hb;(function(J){za=Ua(J);fb=za.format;Hb=za.formatPrefix;return za})({thousands:",",grouping:[3],currency:["$",""]});let Xb;Kb();var Cc=new Date,mc=new Date,Hc=ab(J=>J.setHours(0,0,0,0),(J,fa)=>J.setDate(J.getDate()+
fa),(J,fa)=>(fa-J-6E4*(fa.getTimezoneOffset()-J.getTimezoneOffset()))/864E5,J=>J.getDate()-1),jd=pb(0),Nc=pb(1);pb(2);pb(3);var vd=pb(4);pb(5);pb(6);var Gd=ab(function(J){J.setMonth(0,1);J.setHours(0,0,0,0)},function(J,fa){J.setFullYear(J.getFullYear()+fa)},function(J,fa){return fa.getFullYear()-J.getFullYear()},function(J){return J.getFullYear()});Gd.every=function(J){return isFinite(J=Math.floor(J))&&0<J?ab(function(fa){fa.setFullYear(Math.floor(fa.getFullYear()/J)*J);fa.setMonth(0,1);fa.setHours(0,
0,0,0)},function(fa,Sa){fa.setFullYear(fa.getFullYear()+Sa*J)}):null};var Fd=Gd,Xd=ab(function(J){J.setUTCHours(0,0,0,0)},function(J,fa){J.setUTCDate(J.getUTCDate()+fa)},function(J,fa){return(fa-J)/864E5},function(J){return J.getUTCDate()-1}),Nd=Qa(0),qe=Qa(1);Qa(2);Qa(3);var De=Qa(4);Qa(5);Qa(6);var gf=ab(function(J){J.setUTCMonth(0,1);J.setUTCHours(0,0,0,0)},function(J,fa){J.setUTCFullYear(J.getUTCFullYear()+fa)},function(J,fa){return fa.getUTCFullYear()-J.getUTCFullYear()},function(J){return J.getUTCFullYear()});
gf.every=function(J){return isFinite(J=Math.floor(J))&&0<J?ab(function(fa){fa.setUTCFullYear(Math.floor(fa.getUTCFullYear()/J)*J);fa.setUTCMonth(0,1);fa.setUTCHours(0,0,0,0)},function(fa,Sa){fa.setUTCFullYear(fa.getUTCFullYear()+Sa*J)}):null};var cf=gf,df={"-":"",_:" ",0:"0"},pe=/^\s*\d+/,nf=/^%/,U=/[\\^$*+?|[\]().{}]/g,ua,cb,yb,gc,Ec;(function(J){ua=mb(J);cb=ua.format;yb=ua.parse;gc=ua.utcFormat;Ec=ua.utcParse;return ua})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let $b;ed();v.defaultLocale=Td;v.locale=function(J,fa){J=J?Cb(J):Ob();fa=fa?fd(fa):Qd();return P.extend({},J,fa)};v.numberFormatDefaultLocale=Ob;v.numberFormatLocale=Cb;v.resetDefaultLocale=function(){Kb();
ed();return Td()};v.resetNumberFormatDefaultLocale=Kb;v.resetTimeFormatDefaultLocale=ed;v.timeFormatDefaultLocale=Qd;v.timeFormatLocale=fd;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[43]=function(hc,Db,Wc,ob){var v=Db(26).Buffer;(function(k,P){"object"===typeof ob&&"undefined"!==typeof Wc?P(ob,Db(20),Db(21),Db(42)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,P(k.vega={},k.vega,k.topojson,k.vega))})(this,function(k,P,jb,Fb){function bc(ba,oa){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const M=yield q.sanitize(ba,oa),
Q=M.href;return M.localFile?q.file(Q):q.http(Q,oa)})}function vc(ba,oa){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){oa=P.extend({},q.options,oa);const M=q.fileAccess,Q={href:null};var g;let u;var m=Pa.test(ba.replace(wb,""));null!=ba&&"string"===typeof ba&&m||P.error("Sanitize failure, invalid URI: "+P.stringValue(ba));m=mb.test(ba);(g=oa.baseURL)&&!m&&(ba.startsWith("/")||g.endsWith("/")||(ba="/"+ba),ba=g+ba);u=(g=ba.startsWith("file://"))||"file"===oa.mode||"http"!==
oa.mode&&!m&&M;g?ba=ba.slice(7):ba.startsWith("//")&&("file"===oa.defaultProtocol?(ba=ba.slice(2),u=!0):ba=(oa.defaultProtocol||"http")+":"+ba);Object.defineProperty(Q,"localFile",{value:!!u});Q.href=ba;oa.target&&(Q.target=oa.target+"");oa.rel&&(Q.rel=oa.rel+"");"image"===oa.context&&oa.crossOrigin&&(Q.crossOrigin=oa.crossOrigin+"");return Q})}function Bc(ba){return ba?oa=>new Promise((q,M)=>{ba.readFile(oa,(Q,g)=>{Q?M(Q):q(g)})}):uc}function uc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No file system access.")})}
function Ab(ba){return ba?function(oa,q){const M=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Q=P.extend({},M.options.http,q);const g=q&&q.response;Q=yield ba(oa,Q);return Q.ok?P.isFunction(Q[g])?Q[g]():Q.text():P.error(Q.status+""+Q.statusText)})}:kc}function kc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No HTTP fetch method available.")})}function Yb(ba,oa){if(!ba||!ba.length)return"unknown";const q=ba.length,M=Vb.length,Q=Vb.map((g,u)=>
u+1);for(let g=0,u=0,m,C;g<q;++g)for(C=oa?ba[g][oa]:ba[g],m=0;m<M;++m)if(Q[m]&&null!=C&&C===C&&!Vb[m](C)&&(Q[m]=0,++u,u===Vb.length))return"string";return nb[Q.reduce((g,u)=>0===g?u:g,0)-1]}function Ua(ba,oa){return oa.reduce((q,M)=>{q[M]=Yb(ba,M);return q},{})}function tb(ba){return new Function("d","return {"+ba.map(function(oa,q){return JSON.stringify(oa)+": d["+q+'] || ""'}).join(",")+"}")}function Jb(ba,oa){var q=tb(ba);return function(M,Q){return oa(q(M),Q,ba)}}function Kb(ba){var oa=Object.create(null),
q=[];ba.forEach(function(M){for(var Q in M)Q in oa||q.push(oa[Q]=Q)});return q}function Cb(ba,oa){ba+="";var q=ba.length;return q<oa?Array(oa-q+1).join(0)+ba:ba}function Ob(ba){function oa(m,C){function B(){if(Y)return Z;if(t)return t=!1,qa;var va,La=I,Wa;if(34===m.charCodeAt(La)){for(;I++<D&&34!==m.charCodeAt(I)||34===m.charCodeAt(++I););(va=I)>=D?Y=!0:10===(Wa=m.charCodeAt(I++))?t=!0:13===Wa&&(t=!0,10===m.charCodeAt(I)&&++I);return m.slice(La+1,va-1).replace(/""/g,'"')}for(;I<D;){if(10===(Wa=m.charCodeAt(va=
I++)))t=!0;else if(13===Wa)t=!0,10===m.charCodeAt(I)&&++I;else if(Wa!==u)continue;return m.slice(La,va)}return Y=!0,m.slice(La,D)}var A=[],D=m.length,I=0,V=0,Aa,Y=0>=D,t=!1;10===m.charCodeAt(D-1)&&--D;for(13===m.charCodeAt(D-1)&&--D;(Aa=B())!==Z;){for(var L=[];Aa!==qa&&Aa!==Z;)L.push(Aa),Aa=B();C&&null==(L=C(L,V++))||A.push(L)}return A}function q(m,C){return m.map(function(B){return C.map(function(A){return Q(B[A])}).join(ba)})}function M(m){return m.map(Q).join(ba)}function Q(m){if(null==m)m="";
else{if(m instanceof Date){var C=m.getUTCHours();var B=m.getUTCMinutes(),A=m.getUTCSeconds(),D=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var I=m.getUTCFullYear();m=(0>I?"-"+Cb(-I,6):9999<I?"+"+Cb(I,6):Cb(I,4))+"-"+Cb(m.getUTCMonth()+1,2)+"-"+Cb(m.getUTCDate(),2)+(D?"T"+Cb(C,2)+":"+Cb(B,2)+":"+Cb(A,2)+"."+Cb(D,3)+"Z":A?"T"+Cb(C,2)+":"+Cb(B,2)+":"+Cb(A,2)+"Z":B||C?"T"+Cb(C,2)+":"+Cb(B,2)+"Z":"")}C=m}else C=g.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=C}return m}var g=new RegExp('["'+
ba+"\n\r]"),u=ba.charCodeAt(0);return{parse:function(m,C){var B,A;m=oa(m,function(D,I){if(B)return B(D,I-1);A=D;B=C?Jb(D,C):tb(D)});m.columns=A||[];return m},parseRows:oa,format:function(m,C){null==C&&(C=Kb(m));return[C.map(Q).join(ba)].concat(q(m,C)).join("\n")},formatBody:function(m,C){null==C&&(C=Kb(m));return q(m,C).join("\n")},formatRows:function(m){return m.map(M).join("\n")},formatRow:M,formatValue:Q}}function ab(ba){const oa=function(q,M){const Q={delimiter:ba};return pb(q,M?P.extend(M,Q):
Q)};oa.responseType="text";return oa}function pb(ba,oa){oa.header&&(ba=oa.header.map(P.stringValue).join(oa.delimiter)+"\n"+ba);return Ob(oa.delimiter).parse(ba+"")}function Qa(ba,oa){const q=oa&&oa.property?P.field(oa.property):P.identity;var M;if(M=P.isObject(ba))M=!("function"===typeof v&&P.isFunction(v.isBuffer)&&v.isBuffer(ba));M?(ba=q(ba),!P.isArray(ba)&&P.isIterable(ba)&&(ba=[...ba]),oa=oa&&oa.copy?JSON.parse(JSON.stringify(ba)):ba):oa=q(JSON.parse(ba));return oa}function Da(ba,oa){let q,M,
Q,g;ba=Qa(ba,oa);oa&&oa.feature?(q=jb.feature,Q=oa.feature):oa&&oa.mesh?(q=jb.mesh,Q=oa.mesh,g=Fa[oa.filter]):P.error("Missing TopoJSON feature or mesh parameter.");return(M=(M=ba.objects[Q])?q(ba,M,g):P.error("Invalid TopoJSON object: "+Q))&&M.features||[M]}function Ka(ba,oa){return 1<arguments.length?(Ga[ba]=oa,this):P.hasOwnProperty(Ga,ba)?Ga[ba]:null}function lb(ba,oa,q,M){if(ba.length){var Q=Fb.timeFormatDefaultLocale();q=q||Q.timeParse;M=M||Q.utcParse;Q=ba.columns||Object.keys(ba[0]);var g,
u;"auto"===oa&&(oa=Ua(ba,Q));Q=Object.keys(oa);var m=Q.map(I=>{var V=oa[I];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){I=V.split(/:(.+)?/,2);V=I[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===I[0]?M:q)(V)}if(!Pb[V])throw Error("Illegal format pattern: "+I+":"+V);return Pb[V]});var C=0;var B=ba.length;for(u=Q.length;C<B;++C){var A=ba[C];for(g=0;g<u;++g){var D=Q[g];A[D]=m[g](A[D])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Pa=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
wb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sb=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),Pb={boolean:P.toBoolean,integer:P.toNumber,number:P.toNumber,date:P.toDate,string:P.toString,unknown:P.identity},Vb=[ba=>"true"===ba||"false"===ba||!0===ba||!1===ba,ba=>sb(ba)&&Number.isInteger(+ba),sb,ba=>!Number.isNaN(Date.parse(ba))],nb=["boolean","integer","number","date"];var qa={},Z={};pb.responseType="text";Qa.responseType="json";const Fa={interior:(ba,oa)=>ba!==oa,exterior:(ba,
oa)=>ba===oa};Da.responseType="json";const Ga={dsv:pb,csv:ab(","),tsv:ab("\t"),json:Qa,topojson:Da},eb=function(ba,oa){return q=>({options:q||{},sanitize:vc,load:bc,fileAccess:!!oa,file:Bc(oa),http:Ab(ba)})}("undefined"!==typeof fetch&&fetch,null);k.format=Ga;k.formats=Ka;k.inferType=Yb;k.inferTypes=Ua;k.loader=eb;k.read=function(ba,oa,q,M){oa=oa||{};const Q=Ka(oa.type||"json");Q||P.error("Unknown data format type: "+oa.type);ba=Q(ba,oa);oa.parse&&lb(ba,oa.parse,q,M);P.hasOwnProperty(ba,"columns")&&
delete ba.columns;return ba};k.responseType=function(ba){return(ba=Ka(ba))&&ba.responseType||"text"};k.typeParsers=Pb;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[44]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(41)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function jb(y,W,ha){W=y-W+2*ha;return y?0<W?W:1:0}function Fb(y){return function(W){let ha=W[0];W=W[1];let Ma;W<ha&&(Ma=ha,ha=W,W=Ma);return[y.invert(ha),y.invert(W)]}}function bc(y){return function(W){const ha=
y.range();let Ma=W[0];W=W[1];let zb=-1,Bb;let Qb;if(W<Ma){var lc=Ma;Ma=W;W=lc}lc=0;for(Qb=ha.length;lc<Qb;++lc)ha[lc]>=Ma&&ha[lc]<=W&&(0>zb&&(zb=lc),Bb=lc);if(!(0>zb))return Ma=y.invertExtent(ha[zb]),W=y.invertExtent(ha[Bb]),[void 0===Ma[0]?Ma[1]:Ma[0],void 0===W[1]?W[0]:W[1]]}}function vc(y,W){return null==y||null==W?NaN:y<W?-1:y>W?1:y>=W?0:NaN}function Bc(y){function W(Bb,Qb,lc=0,Vc=Bb.length){if(lc<Vc){if(0!==Ma(Qb,Qb))return Vc;do{const Kd=lc+Vc>>>1;0>zb(Bb[Kd],Qb)?lc=Kd+1:Vc=Kd}while(lc<Vc)}return lc}
let ha=y,Ma=y,zb=y;2!==y.length&&(ha=(Bb,Qb)=>y(Bb)-Qb,Ma=vc,zb=(Bb,Qb)=>vc(y(Bb),Qb));return{left:W,center:function(Bb,Qb,lc=0,Vc=Bb.length){Vc=W(Bb,Qb,lc,Vc-1);return Vc>lc&&ha(Bb[Vc-1],Qb)>-ha(Bb[Vc],Qb)?Vc-1:Vc},right:function(Bb,Qb,lc=0,Vc=Bb.length){if(lc<Vc){if(0!==Ma(Qb,Qb))return Vc;do{const Kd=lc+Vc>>>1;0>=zb(Bb[Kd],Qb)?lc=Kd+1:Vc=Kd}while(lc<Vc)}return lc}}}function uc(y){return null===y?NaN:+y}function Ab({_intern:y,_key:W},ha){W=W(ha);return y.has(W)?y.get(W):ha}function kc({_intern:y,
_key:W},ha){W=W(ha);if(y.has(W))return y.get(W);y.set(W,ha);return ha}function Yb({_intern:y,_key:W},ha){W=W(ha);y.has(W)&&(ha=y.get(W),y.delete(W));return ha}function Ua(y){return null!==y&&"object"===typeof y?y.valueOf():y}function tb(y,W,ha){var Ma,zb=-1,Bb;W=+W;y=+y;ha=+ha;if(y===W&&0<ha)return[y];if(Ma=W<y){var Qb=y;y=W;W=Qb}if(0===(Bb=Jb(y,W,ha))||!isFinite(Bb))return[];if(0<Bb)for(ha=Math.round(y/Bb),Qb=Math.round(W/Bb),ha*Bb<y&&++ha,Qb*Bb>W&&--Qb,y=Array(Qb=Qb-ha+1);++zb<Qb;)y[zb]=(ha+zb)*
Bb;else for(Bb=-Bb,ha=Math.round(y*Bb),Qb=Math.round(W*Bb),ha/Bb<y&&++ha,Qb/Bb>W&&--Qb,y=Array(Qb=Qb-ha+1);++zb<Qb;)y[zb]=(ha+zb)/Bb;Ma&&y.reverse();return y}function Jb(y,W,ha){W=(W-y)/Math.max(0,ha);y=Math.floor(Math.log(W)/Math.LN10);W/=Math.pow(10,y);return 0<=y?(W>=tf?10:W>=fg?5:W>=Eg?2:1)*Math.pow(10,y):-Math.pow(10,-y)/(W>=tf?10:W>=fg?5:W>=Eg?2:1)}function Kb(y,W,ha){var Ma=Math.abs(W-y)/Math.max(0,ha);ha=Math.pow(10,Math.floor(Math.log(Ma)/Math.LN10));Ma/=ha;Ma>=tf?ha*=10:Ma>=fg?ha*=5:Ma>=
Eg&&(ha*=2);return W<y?-ha:ha}function Cb(y,W,ha=uc){if(Ma=y.length){if(0>=(W=+W)||2>Ma)return+ha(y[0],0,y);if(1<=W)return+ha(y[Ma-1],Ma-1,y);var Ma;W*=Ma-1;Ma=Math.floor(W);var zb=+ha(y[Ma],Ma,y);y=+ha(y[Ma+1],Ma+1,y);return zb+(y-zb)*(W-Ma)}}function Ob(y,W,ha){y=+y;W=+W;ha=2>(zb=arguments.length)?(W=y,y=0,1):3>zb?1:+ha;for(var Ma=-1,zb=Math.max(0,Math.ceil((W-y)/ha))|0,Bb=Array(zb);++Ma<zb;)Bb[Ma]=y+Ma*ha;return Bb}function ab(y,W){switch(arguments.length){case 0:break;case 1:this.range(y);break;
default:this.range(W).domain(y)}return this}function pb(y,W){switch(arguments.length){case 0:break;case 1:"function"===typeof y?this.interpolator(y):this.range(y);break;default:this.domain(y),"function"===typeof W?this.interpolator(W):this.range(W)}return this}function Qa(){function y(Bb){let Qb=W.get(Bb);if(void 0===Qb){if(zb!==tg)return zb;W.set(Bb,Qb=ha.push(Bb)-1)}return Ma[Qb%Ma.length]}var W=new Bf,ha=[],Ma=[],zb=tg;y.domain=function(Bb){if(!arguments.length)return ha.slice();ha=[];W=new Bf;
for(const Qb of Bb)W.has(Qb)||W.set(Qb,ha.push(Qb)-1);return y};y.range=function(Bb){return arguments.length?(Ma=Array.from(Bb),y):Ma.slice()};y.unknown=function(Bb){return arguments.length?(zb=Bb,y):zb};y.copy=function(){return Qa(ha,Ma).unknown(zb)};ab.apply(y,arguments);return y}function Da(y,W,ha){y.prototype=W.prototype=ha;ha.constructor=y}function Ka(y,W){y=Object.create(y.prototype);for(var ha in W)y[ha]=W[ha];return y}function lb(){}function mb(){return this.rgb().formatHex()}function Pa(){return this.rgb().formatRgb()}
function wb(y){var W,ha;y=(y+"").trim().toLowerCase();return(W=Qg.exec(y))?(ha=W[1].length,W=parseInt(W[1],16),6===ha?sb(W):3===ha?new qa(W>>8&15|W>>4&240,W>>4&15|W&240,(W&15)<<4|W&15,1):8===ha?Pb(W>>24&255,W>>16&255,W>>8&255,(W&255)/255):4===ha?Pb(W>>12&15|W>>8&240,W>>8&15|W>>4&240,W>>4&15|W&240,((W&15)<<4|W&15)/255):null):(W=Mg.exec(y))?new qa(W[1],W[2],W[3],1):(W=qh.exec(y))?new qa(255*W[1]/100,255*W[2]/100,255*W[3]/100,1):(W=xg.exec(y))?Pb(W[1],W[2],W[3],W[4]):(W=Wh.exec(y))?Pb(255*W[1]/100,255*
W[2]/100,255*W[3]/100,W[4]):(W=rh.exec(y))?eb(W[1],W[2]/100,W[3]/100,1):(W=Hh.exec(y))?eb(W[1],W[2]/100,W[3]/100,W[4]):Xg.hasOwnProperty(y)?sb(Xg[y]):"transparent"===y?new qa(NaN,NaN,NaN,0):null}function sb(y){return new qa(y>>16&255,y>>8&255,y&255,1)}function Pb(y,W,ha,Ma){0>=Ma&&(y=W=ha=NaN);return new qa(y,W,ha,Ma)}function Vb(y){y instanceof lb||(y=wb(y));if(!y)return new qa;y=y.rgb();return new qa(y.r,y.g,y.b,y.opacity)}function nb(y,W,ha,Ma){return 1===arguments.length?Vb(y):new qa(y,W,ha,null==
Ma?1:Ma)}function qa(y,W,ha,Ma){this.r=+y;this.g=+W;this.b=+ha;this.opacity=+Ma}function Z(){return"#"+Ga(this.r)+Ga(this.g)+Ga(this.b)}function Fa(){var y=this.opacity;y=isNaN(y)?1:Math.max(0,Math.min(1,y));return(1===y?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===y?")":", "+y+")")}function Ga(y){y=Math.max(0,Math.min(255,Math.round(y)||0));return(16>y?"0":"")+y.toString(16)}
function eb(y,W,ha,Ma){0>=Ma?y=W=ha=NaN:0>=ha||1<=ha?y=W=NaN:0>=W&&(y=NaN);return new q(y,W,ha,Ma)}function ba(y){if(y instanceof q)return new q(y.h,y.s,y.l,y.opacity);y instanceof lb||(y=wb(y));if(!y)return new q;if(y instanceof q)return y;y=y.rgb();var W=y.r/255,ha=y.g/255,Ma=y.b/255,zb=Math.min(W,ha,Ma),Bb=Math.max(W,ha,Ma),Qb=NaN,lc=Bb-zb,Vc=(Bb+zb)/2;lc?(Qb=W===Bb?(ha-Ma)/lc+6*(ha<Ma):ha===Bb?(Ma-W)/lc+2:(W-ha)/lc+4,lc/=.5>Vc?Bb+zb:2-Bb-zb,Qb*=60):lc=0<Vc&&1>Vc?0:Qb;return new q(Qb,lc,Vc,y.opacity)}
function oa(y,W,ha,Ma){return 1===arguments.length?ba(y):new q(y,W,ha,null==Ma?1:Ma)}function q(y,W,ha,Ma){this.h=+y;this.s=+W;this.l=+ha;this.opacity=+Ma}function M(y,W,ha){return 255*(60>y?W+(ha-W)*y/60:180>y?ha:240>y?W+(ha-W)*(240-y)/60:W)}function Q(y){if(y instanceof u)return new u(y.l,y.a,y.b,y.opacity);if(y instanceof V)return Aa(y);y instanceof qa||(y=Vb(y));var W=A(y.r),ha=A(y.g),Ma=A(y.b),zb=m(.2225045*W+.7168786*ha+.0606169*Ma);if(W===ha&&ha===Ma)var Bb=W=zb;else Bb=m((.4360747*W+.3850649*
ha+.1430804*Ma)/.96422),W=m((.0139322*W+.0971045*ha+.7141733*Ma)/.82521);return new u(116*zb-16,500*(Bb-zb),200*(zb-W),y.opacity)}function g(y,W,ha,Ma){return 1===arguments.length?Q(y):new u(y,W,ha,null==Ma?1:Ma)}function u(y,W,ha,Ma){this.l=+y;this.a=+W;this.b=+ha;this.opacity=+Ma}function m(y){return y>yi?Math.pow(y,1/3):y/th+ji}function C(y){return y>eh?y*y*y:th*(y-ji)}function B(y){return 255*(.0031308>=y?12.92*y:1.055*Math.pow(y,1/2.4)-.055)}function A(y){return.04045>=(y/=255)?y/12.92:Math.pow((y+
.055)/1.055,2.4)}function D(y){if(y instanceof V)return new V(y.h,y.c,y.l,y.opacity);y instanceof u||(y=Q(y));if(0===y.a&&0===y.b)return new V(NaN,0<y.l&&100>y.l?0:NaN,y.l,y.opacity);var W=Math.atan2(y.b,y.a)*Bh;return new V(0>W?W+360:W,Math.sqrt(y.a*y.a+y.b*y.b),y.l,y.opacity)}function I(y,W,ha,Ma){return 1===arguments.length?D(y):new V(y,W,ha,null==Ma?1:Ma)}function V(y,W,ha,Ma){this.h=+y;this.c=+W;this.l=+ha;this.opacity=+Ma}function Aa(y){if(isNaN(y.h))return new u(y.l,0,0,y.opacity);var W=y.h*
sh;return new u(y.l,Math.cos(W)*y.c,Math.sin(W)*y.c,y.opacity)}function Y(y,W,ha,Ma){if(1===arguments.length){var zb=y;if(zb instanceof t)zb=new t(zb.h,zb.s,zb.l,zb.opacity);else{zb instanceof qa||(zb=Vb(zb));var Bb=zb.g/255,Qb=zb.b/255,lc=(Fg*Qb+zb.r/255*-1.7884503806-3.5172982438*Bb)/(Fg+-1.7884503806-3.5172982438);Qb-=lc;var Vc=(1.97294*(Bb-lc)- -.29227*Qb)/-.90649;Qb=(Bb=Math.sqrt(Vc*Vc+Qb*Qb)/(1.97294*lc*(1-lc)))?Math.atan2(Vc,Qb)*Bh-120:NaN;zb=new t(0>Qb?Qb+360:Qb,Bb,lc,zb.opacity)}}else zb=
new t(y,W,ha,null==Ma?1:Ma);return zb}function t(y,W,ha,Ma){this.h=+y;this.s=+W;this.l=+ha;this.opacity=+Ma}function L(y,W,ha,Ma,zb){var Bb=y*y,Qb=Bb*y;return((1-3*y+3*Bb-Qb)*W+(4-6*Bb+3*Qb)*ha+(1+3*y+3*Bb-3*Qb)*Ma+Qb*zb)/6}function va(y){var W=y.length-1;return function(ha){var Ma=0>=ha?ha=0:1<=ha?(ha=1,W-1):Math.floor(ha*W),zb=y[Ma],Bb=y[Ma+1];return L((ha-Ma/W)*W,0<Ma?y[Ma-1]:2*zb-Bb,zb,Bb,Ma<W-1?y[Ma+2]:2*Bb-zb)}}function La(y){var W=y.length;return function(ha){var Ma=Math.floor((0>(ha%=1)?++ha:
ha)*W);return L((ha-Ma/W)*W,y[(Ma+W-1)%W],y[Ma%W],y[(Ma+1)%W],y[(Ma+2)%W])}}function Wa(y,W){return function(ha){return y+ha*W}}function $a(y,W,ha){return y=Math.pow(y,ha),W=Math.pow(W,ha)-y,ha=1/ha,function(Ma){return Math.pow(y+Ma*W,ha)}}function X(y,W){var ha=W-y;return ha?Wa(y,180<ha||-180>ha?ha-360*Math.round(ha/360):ha):Mh(isNaN(y)?W:y)}function Ca(y){return 1===(y=+y)?Xa:function(W,ha){return ha-W?$a(W,ha,y):Mh(isNaN(W)?ha:W)}}function Xa(y,W){var ha=W-y;return ha?Wa(y,ha):Mh(isNaN(y)?W:y)}
function Ib(y){return function(W){var ha=W.length,Ma=Array(ha),zb=Array(ha),Bb=Array(ha),Qb;for(Qb=0;Qb<ha;++Qb){var lc=nb(W[Qb]);Ma[Qb]=lc.r||0;zb[Qb]=lc.g||0;Bb[Qb]=lc.b||0}Ma=y(Ma);zb=y(zb);Bb=y(Bb);lc.opacity=1;return function(Vc){lc.r=Ma(Vc);lc.g=zb(Vc);lc.b=Bb(Vc);return lc+""}}}function yc(y,W){W||(W=[]);var ha=y?Math.min(W.length,y.length):0,Ma=W.slice(),zb;return function(Bb){for(zb=0;zb<ha;++zb)Ma[zb]=y[zb]*(1-Bb)+W[zb]*Bb;return Ma}}function qc(y){return ArrayBuffer.isView(y)&&!(y instanceof
DataView)}function xc(y,W){var ha=W?W.length:0,Ma=y?Math.min(ha,y.length):0,zb=Array(Ma),Bb=Array(ha),Qb;for(Qb=0;Qb<Ma;++Qb)zb[Qb]=qb(y[Qb],W[Qb]);for(;Qb<ha;++Qb)Bb[Qb]=W[Qb];return function(lc){for(Qb=0;Qb<Ma;++Qb)Bb[Qb]=zb[Qb](lc);return Bb}}function dd(y,W){var ha=new Date;return y=+y,W=+W,function(Ma){return ha.setTime(y*(1-Ma)+W*Ma),ha}}function Zb(y,W){return y=+y,W=+W,function(ha){return y*(1-ha)+W*ha}}function Rc(y,W){var ha={},Ma={},zb;if(null===y||"object"!==typeof y)y={};if(null===W||
"object"!==typeof W)W={};for(zb in W)zb in y?ha[zb]=qb(y[zb],W[zb]):Ma[zb]=W[zb];return function(Bb){for(zb in ha)Ma[zb]=ha[zb](Bb);return Ma}}function Pd(y){return function(){return y}}function Na(y){return function(W){return y(W)+""}}function Ub(y,W){var ha=lh.lastIndex=Ch.lastIndex=0,Ma,zb,Bb,Qb=-1,lc=[],Vc=[];y+="";for(W+="";(Ma=lh.exec(y))&&(zb=Ch.exec(W));)(Bb=zb.index)>ha&&(Bb=W.slice(ha,Bb),lc[Qb]?lc[Qb]+=Bb:lc[++Qb]=Bb),(Ma=Ma[0])===(zb=zb[0])?lc[Qb]?lc[Qb]+=zb:lc[++Qb]=zb:(lc[++Qb]=null,
Vc.push({i:Qb,x:Zb(Ma,zb)})),ha=Ch.lastIndex;ha<W.length&&(Bb=W.slice(ha),lc[Qb]?lc[Qb]+=Bb:lc[++Qb]=Bb);return 2>lc.length?Vc[0]?Na(Vc[0].x):Pd(W):(W=Vc.length,function(Kd){for(var Sd=0,ad;Sd<W;++Sd)lc[(ad=Vc[Sd]).i]=ad.x(Kd);return lc.join("")})}function qb(y,W){var ha=typeof W,Ma;return null==W||"boolean"===ha?Mh(W):("number"===ha?Zb:"string"===ha?(Ma=wb(W))?(W=Ma,Xh):Ub:W instanceof wb?Xh:W instanceof Date?dd:qc(W)?yc:Array.isArray(W)?xc:"function"!==typeof W.valueOf&&"function"!==typeof W.toString||
isNaN(W)?Rc:Zb)(y,W)}function Sb(y,W){return y=+y,W=+W,function(ha){return Math.round(y*(1-ha)+W*ha)}}function ic(y,W,ha,Ma,zb,Bb){var Qb,lc,Vc;if(Qb=Math.sqrt(y*y+W*W))y/=Qb,W/=Qb;if(Vc=y*ha+W*Ma)ha-=y*Vc,Ma-=W*Vc;if(lc=Math.sqrt(ha*ha+Ma*Ma))ha/=lc,Ma/=lc,Vc/=lc;y*Ma<W*ha&&(y=-y,W=-W,Vc=-Vc,Qb=-Qb);return{translateX:zb,translateY:Bb,rotate:Math.atan2(W,y)*Gg,skewX:Math.atan(Vc)*Gg,scaleX:Qb,scaleY:lc}}function dc(y,W,ha,Ma){function zb(Kd){return Kd.length?Kd.pop()+" ":""}function Bb(Kd,Sd,ad,ie,
Ke,Ue){Kd!==ad||Sd!==ie?(Ke=Ke.push("translate(",null,W,null,ha),Ue.push({i:Ke-4,x:Zb(Kd,ad)},{i:Ke-2,x:Zb(Sd,ie)})):(ad||ie)&&Ke.push("translate("+ad+W+ie+ha)}function Qb(Kd,Sd,ad,ie){Kd!==Sd?(180<Kd-Sd?Sd+=360:180<Sd-Kd&&(Kd+=360),ie.push({i:ad.push(zb(ad)+"rotate(",null,Ma)-2,x:Zb(Kd,Sd)})):Sd&&ad.push(zb(ad)+"rotate("+Sd+Ma)}function lc(Kd,Sd,ad,ie){Kd!==Sd?ie.push({i:ad.push(zb(ad)+"skewX(",null,Ma)-2,x:Zb(Kd,Sd)}):Sd&&ad.push(zb(ad)+"skewX("+Sd+Ma)}function Vc(Kd,Sd,ad,ie,Ke,Ue){Kd!==ad||Sd!==
ie?(Ke=Ke.push(zb(Ke)+"scale(",null,",",null,")"),Ue.push({i:Ke-4,x:Zb(Kd,ad)},{i:Ke-2,x:Zb(Sd,ie)})):1===ad&&1===ie||Ke.push(zb(Ke)+"scale("+ad+","+ie+")")}return function(Kd,Sd){var ad=[],ie=[];Kd=y(Kd);Sd=y(Sd);Bb(Kd.translateX,Kd.translateY,Sd.translateX,Sd.translateY,ad,ie);Qb(Kd.rotate,Sd.rotate,ad,ie);lc(Kd.skewX,Sd.skewX,ad,ie);Vc(Kd.scaleX,Kd.scaleY,Sd.scaleX,Sd.scaleY,ad,ie);Kd=Sd=null;return function(Ke){for(var Ue=-1,w=ie.length,T;++Ue<w;)ad[(T=ie[Ue]).i]=T.x(Ke);return ad.join("")}}}
function Ic(y){return((y=Math.exp(y))+1/y)/2}function zc(y){return function(W,ha){var Ma=y((W=oa(W)).h,(ha=oa(ha)).h),zb=Xa(W.s,ha.s),Bb=Xa(W.l,ha.l),Qb=Xa(W.opacity,ha.opacity);return function(lc){W.h=Ma(lc);W.s=zb(lc);W.l=Bb(lc);W.opacity=Qb(lc);return W+""}}}function Yc(y){return function(W,ha){var Ma=y((W=I(W)).h,(ha=I(ha)).h),zb=Xa(W.c,ha.c),Bb=Xa(W.l,ha.l),Qb=Xa(W.opacity,ha.opacity);return function(lc){W.h=Ma(lc);W.c=zb(lc);W.l=Bb(lc);W.opacity=Qb(lc);return W+""}}}function Md(y){return function Ma(ha){function zb(Bb,
Qb){var lc=y((Bb=Y(Bb)).h,(Qb=Y(Qb)).h),Vc=Xa(Bb.s,Qb.s),Kd=Xa(Bb.l,Qb.l),Sd=Xa(Bb.opacity,Qb.opacity);return function(ad){Bb.h=lc(ad);Bb.s=Vc(ad);Bb.l=Kd(Math.pow(ad,ha));Bb.opacity=Sd(ad);return Bb+""}}ha=+ha;zb.gamma=Ma;return zb}(1)}function ud(y,W){void 0===W&&(W=y,y=qb);for(var ha=0,Ma=W.length-1,zb=W[0],Bb=Array(0>Ma?0:Ma);ha<Ma;)Bb[ha]=y(zb,zb=W[++ha]);return function(Qb){var lc=Math.max(0,Math.min(Ma-1,Math.floor(Qb*=Ma)));return Bb[lc](Qb-lc)}}function Ha(y){return function(){return y}}
function gb(y){return+y}function vb(y){return y}function ta(y,W){return(W-=y=+y)?function(ha){return(ha-y)/W}:Ha(isNaN(W)?NaN:.5)}function F(y,W){if(y>W){var ha=y;y=W;W=ha}return function(Ma){return Math.max(y,Math.min(W,Ma))}}function ya(y,W,ha){var Ma=y[0];y=y[1];var zb=W[0];W=W[1];y<Ma?(Ma=ta(y,Ma),zb=ha(W,zb)):(Ma=ta(Ma,y),zb=ha(zb,W));return function(Bb){return zb(Ma(Bb))}}function Oa(y,W,ha){var Ma=Math.min(y.length,W.length)-1,zb=Array(Ma),Bb=Array(Ma),Qb=-1;y[Ma]<y[0]&&(y=y.slice().reverse(),
W=W.slice().reverse());for(;++Qb<Ma;)zb[Qb]=ta(y[Qb],y[Qb+1]),Bb[Qb]=ha(W[Qb],W[Qb+1]);return function(lc){var Vc=yf(y,lc,1,Ma)-1;return Bb[Vc](zb[Vc](lc))}}function Za(y,W){return W.domain(y.domain()).range(y.range()).interpolate(y.interpolate()).clamp(y.clamp()).unknown(y.unknown())}function kb(){function y(){var ie=Math.min(ha.length,Ma.length);Vc!==vb&&(Vc=F(ha[0],ha[ie-1]));Kd=2<ie?Oa:ya;Sd=ad=null;return W}function W(ie){return null==ie||isNaN(ie=+ie)?lc:(Sd||(Sd=Kd(ha.map(Bb),Ma,zb)))(Bb(Vc(ie)))}
var ha=Og,Ma=Og,zb=qb,Bb,Qb,lc,Vc=vb,Kd,Sd,ad;W.invert=function(ie){return Vc(Qb((ad||(ad=Kd(Ma,ha.map(Bb),Zb)))(ie)))};W.domain=function(ie){return arguments.length?(ha=Array.from(ie,gb),y()):ha.slice()};W.range=function(ie){return arguments.length?(Ma=Array.from(ie),y()):Ma.slice()};W.rangeRound=function(ie){return Ma=Array.from(ie),zb=Sb,y()};W.clamp=function(ie){return arguments.length?(Vc=ie?!0:vb,y()):Vc!==vb};W.interpolate=function(ie){return arguments.length?(zb=ie,y()):zb};W.unknown=function(ie){return arguments.length?
(lc=ie,W):lc};return function(ie,Ke){Bb=ie;Qb=Ke;return y()}}function Eb(y,W){if(0>(W=(y=W?y.toExponential(W-1):y.toExponential()).indexOf("e")))return null;var ha=y.slice(0,W);return[1<ha.length?ha[0]+ha.slice(2):ha,+y.slice(W+1)]}function oc(y){return y=Eb(Math.abs(y)),y?y[1]:NaN}function ec(y,W){return function(ha,Ma){for(var zb=ha.length,Bb=[],Qb=0,lc=y[0],Vc=0;0<zb&&0<lc;){Vc+lc+1>Ma&&(lc=Math.max(1,Ma-Vc));Bb.push(ha.substring(zb-=lc,zb+lc));if((Vc+=lc+1)>Ma)break;lc=y[Qb=(Qb+1)%y.length]}return Bb.reverse().join(W)}}
function jc(y){return function(W){return W.replace(/[0-9]/g,function(ha){return y[+ha]})}}function Sc(y){if(!(W=bg.exec(y)))throw Error("invalid format: "+y);var W;return new ed({fill:W[1],align:W[2],sign:W[3],symbol:W[4],zero:W[5],width:W[6],comma:W[7],precision:W[8]&&W[8].slice(1),trim:W[9],type:W[10]})}function ed(y){this.fill=void 0===y.fill?" ":y.fill+"";this.align=void 0===y.align?"\x3e":y.align+"";this.sign=void 0===y.sign?"-":y.sign+"";this.symbol=void 0===y.symbol?"":y.symbol+"";this.zero=
!!y.zero;this.width=void 0===y.width?void 0:+y.width;this.comma=!!y.comma;this.precision=void 0===y.precision?void 0:+y.precision;this.trim=!!y.trim;this.type=void 0===y.type?"":y.type+""}function fd(y,W){W=Eb(y,W);if(!W)return y+"";y=W[0];W=W[1];return 0>W?"0."+Array(-W).join("0")+y:y.length>W+1?y.slice(0,W+1)+"."+y.slice(W+1):y+Array(W-y.length+2).join("0")}function Qd(y){return y}function Td(y){function W(Sd){function ad(nc){var sd=Mb,xd=Lc,ze,oe;if("c"===Lb)xd=Dd(nc)+xd,nc="";else{nc=+nc;var We=
0>nc||0>1/nc;nc=isNaN(nc)?Kd:Dd(Math.abs(nc),rb);if(xb){var Ef=nc.length,Zf=1,ig=-1;a:for(;Zf<Ef;++Zf)switch(nc[Zf]){case ".":ig=ze=Zf;break;case "0":0===ig&&(ig=Zf);ze=Zf;break;default:if(!+nc[Zf])break a;0<ig&&(ig=0)}nc=0<ig?nc.slice(0,ig)+nc.slice(ze+1):nc}We&&0===+nc&&"+"!==Ue&&(We=!1);sd=(We?"("===Ue?Ue:Vc:"-"===Ue||"("===Ue?"":Ue)+sd;xd=("s"===Lb?p[8+S/3]:"")+xd+(We&&"("===Ue?")":"");if(gd)for(We=-1,ze=nc.length;++We<ze;)if(oe=nc.charCodeAt(We),48>oe||57<oe){xd=(46===oe?Bb+nc.slice(We+1):nc.slice(We))+
xd;nc=nc.slice(0,We);break}}Ea&&!T&&(nc=ha(nc,Infinity));oe=sd.length+nc.length+xd.length;We=oe<aa?Array(aa-oe+1).join(ie):"";Ea&&T&&(nc=ha(We+nc,We.length?aa-xd.length:Infinity),We="");switch(Ke){case "\x3c":nc=sd+nc+xd+We;break;case "\x3d":nc=sd+We+nc+xd;break;case "^":nc=We.slice(0,oe=We.length>>1)+sd+nc+xd+We.slice(oe);break;default:nc=We+sd+nc+xd}return Qb(nc)}Sd=Sc(Sd);var ie=Sd.fill,Ke=Sd.align,Ue=Sd.sign,w=Sd.symbol,T=Sd.zero,aa=Sd.width,Ea=Sd.comma,rb=Sd.precision,xb=Sd.trim,Lb=Sd.type;"n"===
Lb?(Ea=!0,Lb="g"):xa[Lb]||(void 0===rb&&(rb=12),xb=!0,Lb="g");if(T||"0"===ie&&"\x3d"===Ke)T=!0,ie="0",Ke="\x3d";var Mb="$"===w?Ma:"#"===w&&/[boxX]/.test(Lb)?"0"+Lb.toLowerCase():"",Lc="$"===w?zb:/[%p]/.test(Lb)?lc:"",Dd=xa[Lb],gd=/[defgprs%]/.test(Lb);rb=void 0===rb?6:/[gprs]/.test(Lb)?Math.max(1,Math.min(21,rb)):Math.max(0,Math.min(20,rb));ad.toString=function(){return Sd+""};return ad}var ha=void 0===y.grouping||void 0===y.thousands?Qd:ec(Ta.call(y.grouping,Number),y.thousands+""),Ma=void 0===y.currency?
"":y.currency[0]+"",zb=void 0===y.currency?"":y.currency[1]+"",Bb=void 0===y.decimal?".":y.decimal+"",Qb=void 0===y.numerals?Qd:jc(Ta.call(y.numerals,String)),lc=void 0===y.percent?"%":y.percent+"",Vc=void 0===y.minus?"":y.minus+"",Kd=void 0===y.nan?"NaN":y.nan+"";return{format:W,formatPrefix:function(Sd,ad){var ie=W((Sd=Sc(Sd),Sd.type="f",Sd));Sd=3*Math.max(-8,Math.min(8,Math.floor(oc(ad)/3)));var Ke=Math.pow(10,-Sd),Ue=p[8+Sd/3];return function(w){return ie(Ke*w)+Ue}}}}function Ed(y,W,ha,Ma){ha=
Kb(y,W,ha);Ma=Sc(null==Ma?",f":Ma);switch(Ma.type){case "s":y=Math.max(Math.abs(y),Math.abs(W));if(W=null==Ma.precision){var zb=isNaN;ha=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(oc(y)/3)))-oc(Math.abs(ha)));W=!zb(zb=ha)}W&&(Ma.precision=zb);return wa(Ma,y);case "":case "e":case "g":case "p":case "r":var Bb;if(Bb=null==Ma.precision)zb=isNaN,y=Math.max(Math.abs(y),Math.abs(W)),ha=Math.abs(ha),y=Math.abs(y)-ha,ha=Math.max(0,oc(y)-oc(ha))+1,Bb=!zb(zb=ha);Bb&&(Ma.precision=zb-("e"===Ma.type));break;
case "f":case "%":null!=Ma.precision||isNaN(zb=Math.max(0,-oc(Math.abs(ha))))||(Ma.precision=zb-2*("%"===Ma.type))}return ja(Ma)}function Yd(y){var W=y.domain;y.ticks=function(ha){var Ma=W();return tb(Ma[0],Ma[Ma.length-1],null==ha?10:ha)};y.tickFormat=function(ha,Ma){var zb=W();return Ed(zb[0],zb[zb.length-1],null==ha?10:ha,Ma)};y.nice=function(ha){null==ha&&(ha=10);var Ma=W(),zb=0,Bb=Ma.length-1,Qb=Ma[zb],lc=Ma[Bb],Vc=10;if(lc<Qb){var Kd=Qb;Qb=lc;lc=Kd;Kd=zb;zb=Bb;Bb=Kd}for(;0<Vc--;){Kd=Jb(Qb,lc,
ha);if(Kd===Sd)return Ma[zb]=Qb,Ma[Bb]=lc,W(Ma);if(0<Kd)Qb=Math.floor(Qb/Kd)*Kd,lc=Math.ceil(lc/Kd)*Kd;else if(0>Kd)Qb=Math.ceil(Qb*Kd)/Kd,lc=Math.floor(lc*Kd)/Kd;else break;var Sd=Kd}return y};return y}function ae(){var y=kb()(vb,vb);y.copy=function(){return Za(y,ae())};ab.apply(y,arguments);return Yd(y)}function Ud(y){function W(Ma){return null==Ma||isNaN(Ma=+Ma)?ha:Ma}var ha;W.invert=W;W.domain=W.range=function(Ma){return arguments.length?(y=Array.from(Ma,gb),W):y.slice()};W.unknown=function(Ma){return arguments.length?
(ha=Ma,W):ha};W.copy=function(){return Ud(y).unknown(ha)};y=arguments.length?Array.from(y,gb):[0,1];return Yd(W)}function Xe(y,W){y=y.slice();var ha=0,Ma=y.length-1,zb=y[ha],Bb=y[Ma];if(Bb<zb){var Qb=ha;ha=Ma;Ma=Qb;Qb=zb;zb=Bb;Bb=Qb}y[ha]=W.floor(zb);y[Ma]=W.ceil(Bb);return y}function Wd(y){return Math.log(y)}function N(y){return Math.exp(y)}function ma(y){return-Math.log(-y)}function za(y){return-Math.exp(-y)}function fb(y){return isFinite(y)?+("1e"+y):0>y?0:y}function Hb(y){return 10===y?fb:y===
Math.E?Math.exp:W=>Math.pow(y,W)}function Xb(y){return y===Math.E?Math.log:10===y&&Math.log10||2===y&&Math.log2||(y=Math.log(y),W=>Math.log(W)/y)}function Cc(y){return(W,ha)=>-y(-W,ha)}function mc(y){function W(){Bb=Xb(zb);Qb=Hb(zb);0>Ma()[0]?(Bb=Cc(Bb),Qb=Cc(Qb),y(ma,za)):y(Wd,N);return ha}const ha=y(Wd,N),Ma=ha.domain;let zb=10,Bb,Qb;ha.base=function(lc){return arguments.length?(zb=+lc,W()):zb};ha.domain=function(lc){return arguments.length?(Ma(lc),W()):Ma()};ha.ticks=lc=>{var Vc=Ma();let Kd=Vc[0];
Vc=Vc[Vc.length-1];const Sd=Vc<Kd;Sd&&([Kd,Vc]=[Vc,Kd]);let ad=Bb(Kd),ie=Bb(Vc),Ke;const Ue=null==lc?10:+lc;let w=[];if(!(zb%1)&&ie-ad<Ue){ad=Math.floor(ad);ie=Math.ceil(ie);if(0<Kd)for(;ad<=ie;++ad)for(lc=1;lc<zb;++lc){if(Ke=0>ad?lc/Qb(-ad):lc*Qb(ad),!(Ke<Kd)){if(Ke>Vc)break;w.push(Ke)}}else for(;ad<=ie;++ad)for(lc=zb-1;1<=lc;--lc)if(Ke=0<ad?lc/Qb(-ad):lc*Qb(ad),!(Ke<Kd)){if(Ke>Vc)break;w.push(Ke)}2*w.length<Ue&&(w=tb(Kd,Vc,Ue))}else w=tb(ad,ie,Math.min(ie-ad,Ue)).map(Qb);return Sd?w.reverse():w};
ha.tickFormat=(lc,Vc)=>{null==lc&&(lc=10);null==Vc&&(Vc=10===zb?"s":",");"function"!==typeof Vc&&(zb%1||null!=(Vc=Sc(Vc)).precision||(Vc.trim=!0),Vc=ja(Vc));if(Infinity===lc)return Vc;const Kd=Math.max(1,zb*lc/ha.ticks().length);return Sd=>{let ad=Sd/Qb(Math.round(Bb(Sd)));ad*zb<zb-.5&&(ad*=zb);return ad<=Kd?Vc(Sd):""}};ha.nice=()=>Ma(Xe(Ma(),{floor:lc=>Qb(Math.floor(Bb(lc))),ceil:lc=>Qb(Math.ceil(Bb(lc)))}));return ha}function Hc(){const y=mc(kb()).domain([1,10]);y.copy=()=>Za(y,Hc()).base(y.base());
ab.apply(y,arguments);return y}function jd(y){return function(W){return Math.sign(W)*Math.log1p(Math.abs(W/y))}}function Nc(y){return function(W){return Math.sign(W)*Math.expm1(Math.abs(W))*y}}function vd(y){var W=1,ha=y(jd(W),Nc(W));ha.constant=function(Ma){return arguments.length?y(jd(W=+Ma),Nc(W)):W};return Yd(ha)}function Gd(){var y=vd(kb());y.copy=function(){return Za(y,Gd()).constant(y.constant())};return ab.apply(y,arguments)}function Fd(y){return function(W){return 0>W?-Math.pow(-W,y):Math.pow(W,
y)}}function Xd(y){return 0>y?-Math.sqrt(-y):Math.sqrt(y)}function Nd(y){return 0>y?-y*y:y*y}function qe(y){var W=y(vb,vb),ha=1;W.exponent=function(Ma){return arguments.length?(ha=+Ma,1===ha?y(vb,vb):.5===ha?y(Xd,Nd):y(Fd(ha),Fd(1/ha))):ha};return Yd(W)}function De(){var y=qe(kb());y.copy=function(){return Za(y,De()).exponent(y.exponent())};ab.apply(y,arguments);return y}function gf(){function y(){var Qb=0,lc=Math.max(1,Ma.length);for(zb=Array(lc-1);++Qb<lc;)zb[Qb-1]=Cb(ha,Qb/lc);return W}function W(Qb){return null==
Qb||isNaN(Qb=+Qb)?Bb:Ma[yf(zb,Qb)]}var ha=[],Ma=[],zb=[],Bb;W.invertExtent=function(Qb){Qb=Ma.indexOf(Qb);return 0>Qb?[NaN,NaN]:[0<Qb?zb[Qb-1]:ha[0],Qb<zb.length?zb[Qb]:ha[ha.length-1]]};W.domain=function(Qb){if(!arguments.length)return ha.slice();ha=[];for(let lc of Qb)null==lc||isNaN(lc=+lc)||ha.push(lc);ha.sort(vc);return y()};W.range=function(Qb){return arguments.length?(Ma=Array.from(Qb),y()):Ma.slice()};W.unknown=function(Qb){return arguments.length?(Bb=Qb,W):Bb};W.quantiles=function(){return zb.slice()};
W.copy=function(){return gf().domain(ha).range(Ma).unknown(Bb)};return ab.apply(W,arguments)}function cf(){function y(Vc){return null!=Vc&&Vc<=Vc?Qb[yf(Bb,Vc,0,zb)]:lc}function W(){var Vc=-1;for(Bb=Array(zb);++Vc<zb;)Bb[Vc]=((Vc+1)*Ma-(Vc-zb)*ha)/(zb+1);return y}var ha=0,Ma=1,zb=1,Bb=[.5],Qb=[0,1],lc;y.domain=function(Vc){return arguments.length?([ha,Ma]=Vc,ha=+ha,Ma=+Ma,W()):[ha,Ma]};y.range=function(Vc){return arguments.length?(zb=(Qb=Array.from(Vc)).length-1,W()):Qb.slice()};y.invertExtent=function(Vc){Vc=
Qb.indexOf(Vc);return 0>Vc?[NaN,NaN]:1>Vc?[ha,Bb[0]]:Vc>=zb?[Bb[zb-1],Ma]:[Bb[Vc-1],Bb[Vc]]};y.unknown=function(Vc){return arguments.length?(lc=Vc,y):y};y.thresholds=function(){return Bb.slice()};y.copy=function(){return cf().domain([ha,Ma]).range(Qb).unknown(lc)};return ab.apply(Yd(y),arguments)}function df(){function y(Bb){return null!=Bb&&Bb<=Bb?ha[yf(W,Bb,0,zb)]:Ma}var W=[.5],ha=[0,1],Ma,zb=1;y.domain=function(Bb){return arguments.length?(W=Array.from(Bb),zb=Math.min(W.length,ha.length-1),y):
W.slice()};y.range=function(Bb){return arguments.length?(ha=Array.from(Bb),zb=Math.min(W.length,ha.length-1),y):ha.slice()};y.invertExtent=function(Bb){Bb=ha.indexOf(Bb);return[W[Bb-1],W[Bb]]};y.unknown=function(Bb){return arguments.length?(Ma=Bb,y):Ma};y.copy=function(){return df().domain(W).range(ha).unknown(Ma)};return ab.apply(y,arguments)}function pe(y,W,ha,Ma){function zb(Bb){return y(Bb=0===arguments.length?new Date:new Date(+Bb)),Bb}zb.floor=function(Bb){return y(Bb=new Date(+Bb)),Bb};zb.ceil=
function(Bb){return y(Bb=new Date(Bb-1)),W(Bb,1),y(Bb),Bb};zb.round=function(Bb){var Qb=zb(Bb),lc=zb.ceil(Bb);return Bb-Qb<lc-Bb?Qb:lc};zb.offset=function(Bb,Qb){return W(Bb=new Date(+Bb),null==Qb?1:Math.floor(Qb)),Bb};zb.range=function(Bb,Qb,lc){var Vc=[],Kd;Bb=zb.ceil(Bb);lc=null==lc?1:Math.floor(lc);if(!(Bb<Qb&&0<lc))return Vc;do Vc.push(Kd=new Date(+Bb)),W(Bb,lc),y(Bb);while(Kd<Bb&&Bb<Qb);return Vc};zb.filter=function(Bb){return pe(function(Qb){if(Qb>=Qb)for(;y(Qb),!Bb(Qb);)Qb.setTime(Qb-1)},
function(Qb,lc){if(Qb>=Qb)if(0>lc)for(;0>=++lc;)for(;W(Qb,-1),!Bb(Qb););else for(;0<=--lc;)for(;W(Qb,1),!Bb(Qb););})};ha&&(zb.count=function(Bb,Qb){r.setTime(+Bb);E.setTime(+Qb);y(r);y(E);return Math.floor(ha(r,E))},zb.every=function(Bb){Bb=Math.floor(Bb);return isFinite(Bb)&&0<Bb?1<Bb?zb.filter(Ma?function(Qb){return 0===Ma(Qb)%Bb}:function(Qb){return 0===zb.count(0,Qb)%Bb}):zb:null});return zb}function nf(y){return pe(function(W){W.setDate(W.getDate()-(W.getDay()+7-y)%7);W.setHours(0,0,0,0)},function(W,
ha){W.setDate(W.getDate()+7*ha)},function(W,ha){return(ha-W-6E4*(ha.getTimezoneOffset()-W.getTimezoneOffset()))/6048E5})}function U(y){return pe(function(W){W.setUTCDate(W.getUTCDate()-(W.getUTCDay()+7-y)%7);W.setUTCHours(0,0,0,0)},function(W,ha){W.setUTCDate(W.getUTCDate()+7*ha)},function(W,ha){return(ha-W)/6048E5})}function ua(y,W,ha,Ma,zb,Bb){function Qb(Vc,Kd,Sd){const ad=Math.abs(Kd-Vc)/Sd,ie=Bc(([,,w])=>w).right(lc,ad);if(ie===lc.length)return y.every(Kb(Vc/31536E6,Kd/31536E6,Sd));if(0===ie)return l.every(Math.max(Kb(Vc,
Kd,Sd),1));const [Ke,Ue]=lc[ad/lc[ie-1][2]<lc[ie][2]/ad?ie-1:ie];return Ke.every(Ue)}const lc=[[z,1,1E3],[z,5,5E3],[z,15,15E3],[z,30,3E4],[Bb,1,6E4],[Bb,5,3E5],[Bb,15,9E5],[Bb,30,18E5],[zb,1,36E5],[zb,3,108E5],[zb,6,216E5],[zb,12,432E5],[Ma,1,864E5],[Ma,2,1728E5],[ha,1,6048E5],[W,1,2592E6],[W,3,7776E6],[y,1,31536E6]];return[function(Vc,Kd,Sd){const ad=Kd<Vc;ad&&([Vc,Kd]=[Kd,Vc]);Vc=(Sd=Sd&&"function"===typeof Sd.range?Sd:Qb(Vc,Kd,Sd))?Sd.range(Vc,+Kd+1):[];return ad?Vc.reverse():Vc},Qb]}function cb(y){if(0<=
y.y&&100>y.y){var W=new Date(-1,y.m,y.d,y.H,y.M,y.S,y.L);W.setFullYear(y.y);return W}return new Date(y.y,y.m,y.d,y.H,y.M,y.S,y.L)}function yb(y){if(0<=y.y&&100>y.y){var W=new Date(Date.UTC(-1,y.m,y.d,y.H,y.M,y.S,y.L));W.setUTCFullYear(y.y);return W}return new Date(Date.UTC(y.y,y.m,y.d,y.H,y.M,y.S,y.L))}function gc(y,W,ha){return{y,m:W,d:ha,H:0,M:0,S:0,L:0}}function Ec(y){function W(gd,nc){return function(sd){var xd=[],ze=-1,oe=0,We=gd.length,Ef,Zf;for(sd instanceof Date||(sd=new Date(+sd));++ze<We;)if(37===
gd.charCodeAt(ze)){xd.push(gd.slice(oe,ze));null!=(oe=mf[Ef=gd.charAt(++ze)])?Ef=gd.charAt(++ze):oe="e"===Ef?" ":"0";if(Zf=nc[Ef])Ef=Zf(sd,oe);xd.push(Ef);oe=ze+1}xd.push(gd.slice(oe,ze));return xd.join("")}}function ha(gd,nc){return function(sd){var xd=gc(1900,void 0,1);if(Ma(xd,gd,sd+="",0)!=sd.length)return null;if("Q"in xd)return new Date(xd.Q);if("s"in xd)return new Date(1E3*xd.s+("L"in xd?xd.L:0));!nc||"Z"in xd||(xd.Z=0);"p"in xd&&(xd.H=xd.H%12+12*xd.p);void 0===xd.m&&(xd.m="q"in xd?xd.q:0);
if("V"in xd){if(1>xd.V||53<xd.V)return null;"w"in xd||(xd.w=1);if("Z"in xd){sd=yb(gc(xd.y,0,1));var ze=sd.getUTCDay();sd=4<ze||0===ze?Ze.ceil(sd):Ze(sd);sd=Ce.offset(sd,7*(xd.V-1));xd.y=sd.getUTCFullYear();xd.m=sd.getUTCMonth();xd.d=sd.getUTCDate()+(xd.w+6)%7}else sd=cb(gc(xd.y,0,1)),ze=sd.getDay(),sd=4<ze||0===ze?Gb.ceil(sd):Gb(sd),sd=Va.offset(sd,7*(xd.V-1)),xd.y=sd.getFullYear(),xd.m=sd.getMonth(),xd.d=sd.getDate()+(xd.w+6)%7}else if("W"in xd||"U"in xd)"w"in xd||(xd.w="u"in xd?xd.u%7:"W"in xd?
1:0),ze="Z"in xd?yb(gc(xd.y,0,1)).getUTCDay():cb(gc(xd.y,0,1)).getDay(),xd.m=0,xd.d="W"in xd?(xd.w+6)%7+7*xd.W-(ze+5)%7:xd.w+7*xd.U-(ze+6)%7;return"Z"in xd?(xd.H+=xd.Z/100|0,xd.M+=xd.Z%100,yb(xd)):cb(xd)}}function Ma(gd,nc,sd,xd){for(var ze=0,oe=nc.length,We=sd.length,Ef;ze<oe;){if(xd>=We)return-1;Ef=nc.charCodeAt(ze++);if(37===Ef){if(Ef=nc.charAt(ze++),Ef=Dd[Ef in mf?nc.charAt(ze++):Ef],!Ef||0>(xd=Ef(gd,sd,xd)))return-1}else if(Ef!=sd.charCodeAt(xd++))return-1}return xd}var zb=y.dateTime,Bb=y.date,
Qb=y.time,lc=y.periods,Vc=y.days,Kd=y.shortDays,Sd=y.months,ad=y.shortMonths,ie=fa(lc),Ke=Sa(lc),Ue=fa(Vc),w=Sa(Vc),T=fa(Kd),aa=Sa(Kd),Ea=fa(Sd),rb=Sa(Sd),xb=fa(ad),Lb=Sa(ad),Mb={a:function(gd){return Kd[gd.getDay()]},A:function(gd){return Vc[gd.getDay()]},b:function(gd){return ad[gd.getMonth()]},B:function(gd){return Sd[gd.getMonth()]},c:null,d:$e,e:$e,f:Gc,g:hb,G:rc,H:sf,I:nd,j:Fc,L:bd,m:Jd,M:Zd,p:function(gd){return lc[+(12<=gd.getHours())]},q:function(gd){return 1+~~(gd.getMonth()/3)},Q:af,s:ag,
S:$d,u:ke,U:O,V:H,w:ka,W:la,x:null,X:null,y:Ja,Y:fc,Z:tc,"%":Pf},Lc={a:function(gd){return Kd[gd.getUTCDay()]},A:function(gd){return Vc[gd.getUTCDay()]},b:function(gd){return ad[gd.getUTCMonth()]},B:function(gd){return Sd[gd.getUTCMonth()]},c:null,d:Wb,e:Wb,f:Ad,g:of,G:we,H:Dc,I:yd,j:Zc,L:hd,m:Hd,M:Oc,p:function(gd){return lc[+(12<=gd.getUTCHours())]},q:function(gd){return 1+~~(gd.getUTCMonth()/3)},Q:af,s:ag,S:Ee,u:Ge,U:Ae,V:Id,w:he,W:xe,x:null,X:null,y:Le,Y:Ve,Z:wf,"%":Pf},Dd={a:function(gd,nc,sd){return(nc=
T.exec(nc.slice(sd)))?(gd.w=aa.get(nc[0].toLowerCase()),sd+nc[0].length):-1},A:function(gd,nc,sd){return(nc=Ue.exec(nc.slice(sd)))?(gd.w=w.get(nc[0].toLowerCase()),sd+nc[0].length):-1},b:function(gd,nc,sd){return(nc=xb.exec(nc.slice(sd)))?(gd.m=Lb.get(nc[0].toLowerCase()),sd+nc[0].length):-1},B:function(gd,nc,sd){return(nc=Ea.exec(nc.slice(sd)))?(gd.m=rb.get(nc[0].toLowerCase()),sd+nc[0].length):-1},c:function(gd,nc,sd){return Ma(gd,zb,nc,sd)},d:Mc,e:Mc,f:Cd,g:Ra,G:ee,H:Qc,I:Qc,j:Uc,L:Ld,m:wd,M:td,
p:function(gd,nc,sd){return(nc=ie.exec(nc.slice(sd)))?(gd.p=Ke.get(nc[0].toLowerCase()),sd+nc[0].length):-1},q:pc,Q:ve,s:Me,S:kd,u:Jc,U:Ac,V:$c,w:cc,W:pd,x:function(gd,nc,sd){return Ma(gd,Bb,nc,sd)},X:function(gd,nc,sd){return Ma(gd,Qb,nc,sd)},y:Ra,Y:ee,Z:db,"%":be};Mb.x=W(Bb,Mb);Mb.X=W(Qb,Mb);Mb.c=W(zb,Mb);Lc.x=W(Bb,Lc);Lc.X=W(Qb,Lc);Lc.c=W(zb,Lc);return{format:function(gd){var nc=W(gd+="",Mb);nc.toString=function(){return gd};return nc},parse:function(gd){var nc=ha(gd+="",!1);nc.toString=function(){return gd};
return nc},utcFormat:function(gd){var nc=W(gd+="",Lc);nc.toString=function(){return gd};return nc},utcParse:function(gd){var nc=ha(gd+="",!0);nc.toString=function(){return gd};return nc}}}function $b(y,W,ha){var Ma=0>y?"-":"";y=(Ma?-y:y)+"";var zb=y.length;return Ma+(zb<ha?Array(ha-zb+1).join(W)+y:y)}function J(y){return y.replace(Lf,"\\$\x26")}function fa(y){return new RegExp("^(?:"+y.map(J).join("|")+")","i")}function Sa(y){return new Map(y.map((W,ha)=>[W.toLowerCase(),ha]))}function cc(y,W,ha){return(W=
Rf.exec(W.slice(ha,ha+1)))?(y.w=+W[0],ha+W[0].length):-1}function Jc(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+1)))?(y.u=+W[0],ha+W[0].length):-1}function Ac(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+2)))?(y.U=+W[0],ha+W[0].length):-1}function $c(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+2)))?(y.V=+W[0],ha+W[0].length):-1}function pd(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+2)))?(y.W=+W[0],ha+W[0].length):-1}function ee(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+4)))?(y.y=+W[0],ha+W[0].length):-1}function Ra(y,
W,ha){return(W=Rf.exec(W.slice(ha,ha+2)))?(y.y=+W[0]+(68<+W[0]?1900:2E3),ha+W[0].length):-1}function db(y,W,ha){return(W=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(W.slice(ha,ha+6)))?(y.Z=W[1]?0:-(W[2]+(W[3]||"00")),ha+W[0].length):-1}function pc(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+1)))?(y.q=3*W[0]-3,ha+W[0].length):-1}function wd(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+2)))?(y.m=W[0]-1,ha+W[0].length):-1}function Mc(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+2)))?(y.d=+W[0],ha+W[0].length):-1}function Uc(y,
W,ha){return(W=Rf.exec(W.slice(ha,ha+3)))?(y.m=0,y.d=+W[0],ha+W[0].length):-1}function Qc(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+2)))?(y.H=+W[0],ha+W[0].length):-1}function td(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+2)))?(y.M=+W[0],ha+W[0].length):-1}function kd(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+2)))?(y.S=+W[0],ha+W[0].length):-1}function Ld(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+3)))?(y.L=+W[0],ha+W[0].length):-1}function Cd(y,W,ha){return(W=Rf.exec(W.slice(ha,ha+6)))?(y.L=Math.floor(W[0]/1E3),
ha+W[0].length):-1}function be(y,W,ha){return(y=If.exec(W.slice(ha,ha+1)))?ha+y[0].length:-1}function ve(y,W,ha){return(W=Rf.exec(W.slice(ha)))?(y.Q=+W[0],ha+W[0].length):-1}function Me(y,W,ha){return(W=Rf.exec(W.slice(ha)))?(y.s=+W[0],ha+W[0].length):-1}function $e(y,W){return $b(y.getDate(),W,2)}function sf(y,W){return $b(y.getHours(),W,2)}function nd(y,W){return $b(y.getHours()%12||12,W,2)}function Fc(y,W){return $b(1+Va.count(Xc(y),y),W,3)}function bd(y,W){return $b(y.getMilliseconds(),W,3)}function Gc(y,
W){return bd(y,W)+"000"}function Jd(y,W){return $b(y.getMonth()+1,W,2)}function Zd(y,W){return $b(y.getMinutes(),W,2)}function $d(y,W){return $b(y.getSeconds(),W,2)}function ke(y){y=y.getDay();return 0===y?7:y}function O(y,W){return $b(Ya.count(Xc(y)-1,y),W,2)}function da(y){var W=y.getDay();return 4<=W||0===W?ac(y):ac.ceil(y)}function H(y,W){y=da(y);return $b(ac.count(Xc(y),y)+(4===Xc(y).getDay()),W,2)}function ka(y){return y.getDay()}function la(y,W){return $b(Gb.count(Xc(y)-1,y),W,2)}function Ja(y,
W){return $b(y.getFullYear()%100,W,2)}function hb(y,W){y=da(y);return $b(y.getFullYear()%100,W,2)}function fc(y,W){return $b(y.getFullYear()%1E4,W,4)}function rc(y,W){var ha=y.getDay();y=4<=ha||0===ha?ac(y):ac.ceil(y);return $b(y.getFullYear()%1E4,W,4)}function tc(y){y=y.getTimezoneOffset();return(0<y?"-":(y*=-1,"+"))+$b(y/60|0,"0",2)+$b(y%60,"0",2)}function Wb(y,W){return $b(y.getUTCDate(),W,2)}function Dc(y,W){return $b(y.getUTCHours(),W,2)}function yd(y,W){return $b(y.getUTCHours()%12||12,W,2)}
function Zc(y,W){return $b(1+Ce.count(bf(y),y),W,3)}function hd(y,W){return $b(y.getUTCMilliseconds(),W,3)}function Ad(y,W){return hd(y,W)+"000"}function Hd(y,W){return $b(y.getUTCMonth()+1,W,2)}function Oc(y,W){return $b(y.getUTCMinutes(),W,2)}function Ee(y,W){return $b(y.getUTCSeconds(),W,2)}function Ge(y){y=y.getUTCDay();return 0===y?7:y}function Ae(y,W){return $b(ue.count(bf(y)-1,y),W,2)}function Be(y){var W=y.getUTCDay();return 4<=W||0===W?zf(y):zf.ceil(y)}function Id(y,W){y=Be(y);return $b(zf.count(bf(y),
y)+(4===bf(y).getUTCDay()),W,2)}function he(y){return y.getUTCDay()}function xe(y,W){return $b(Ze.count(bf(y)-1,y),W,2)}function Le(y,W){return $b(y.getUTCFullYear()%100,W,2)}function of(y,W){y=Be(y);return $b(y.getUTCFullYear()%100,W,2)}function Ve(y,W){return $b(y.getUTCFullYear()%1E4,W,4)}function we(y,W){var ha=y.getUTCDay();y=4<=ha||0===ha?zf(y):zf.ceil(y);return $b(y.getUTCFullYear()%1E4,W,4)}function wf(){return"+0000"}function Pf(){return"%"}function af(y){return+y}function ag(y){return Math.floor(+y/
1E3)}function Vd(y){return new Date(y)}function hf(y){return y instanceof Date?+y:+new Date(+y)}function jf(y,W,ha,Ma,zb,Bb,Qb,lc,Vc,Kd){function Sd(Mb){return(Vc(Mb)<Mb?Ue:lc(Mb)<Mb?w:Qb(Mb)<Mb?T:Bb(Mb)<Mb?aa:Ma(Mb)<Mb?zb(Mb)<Mb?Ea:rb:ha(Mb)<Mb?xb:Lb)(Mb)}var ad=kb()(vb,vb),ie=ad.invert,Ke=ad.domain,Ue=Kd(".%L"),w=Kd(":%S"),T=Kd("%I:%M"),aa=Kd("%I %p"),Ea=Kd("%a %d"),rb=Kd("%b %d"),xb=Kd("%B"),Lb=Kd("%Y");ad.invert=function(Mb){return new Date(ie(Mb))};ad.domain=function(Mb){return arguments.length?
Ke(Array.from(Mb,hf)):Ke().map(Vd)};ad.ticks=function(Mb){var Lc=Ke();return y(Lc[0],Lc[Lc.length-1],null==Mb?10:Mb)};ad.tickFormat=function(Mb,Lc){return null==Lc?Sd:Kd(Lc)};ad.nice=function(Mb){var Lc=Ke();Mb&&"function"===typeof Mb.range||(Mb=W(Lc[0],Lc[Lc.length-1],null==Mb?10:Mb));return Mb?Ke(Xe(Lc,Mb)):ad};ad.copy=function(){return Za(ad,jf(y,W,ha,Ma,zb,Bb,Qb,lc,Vc,Kd))};return ad}function Qe(){function y(ad){return null==ad||isNaN(ad=+ad)?Sd:Vc(0===Qb?.5:(ad=(lc(ad)-zb)*Qb,Kd?Math.max(0,Math.min(1,
ad)):ad))}function W(ad){return function(ie){var Ke,Ue;return arguments.length?([Ke,Ue]=ie,Vc=ad(Ke,Ue),y):[Vc(0),Vc(1)]}}var ha=0,Ma=1,zb,Bb,Qb,lc,Vc=vb,Kd=!1,Sd;y.domain=function(ad){return arguments.length?([ha,Ma]=ad,zb=lc(ha=+ha),Bb=lc(Ma=+Ma),Qb=zb===Bb?0:1/(Bb-zb),y):[ha,Ma]};y.clamp=function(ad){return arguments.length?(Kd=!!ad,y):Kd};y.interpolator=function(ad){return arguments.length?(Vc=ad,y):Vc};y.range=W(qb);y.rangeRound=W(Sb);y.unknown=function(ad){return arguments.length?(Sd=ad,y):
Sd};return function(ad){lc=ad;zb=ad(ha);Bb=ad(Ma);Qb=zb===Bb?0:1/(Bb-zb);return y}}function Cf(y,W){return W.domain(y.domain()).interpolator(y.interpolator()).clamp(y.clamp()).unknown(y.unknown())}function Qf(){var y=Yd(Qe()(vb));y.copy=function(){return Cf(y,Qf())};return pb.apply(y,arguments)}function Jf(){var y=mc(Qe()).domain([1,10]);y.copy=function(){return Cf(y,Jf()).base(y.base())};return pb.apply(y,arguments)}function Gf(){var y=vd(Qe());y.copy=function(){return Cf(y,Gf()).constant(y.constant())};
return pb.apply(y,arguments)}function Bg(){var y=qe(Qe());y.copy=function(){return Cf(y,Bg()).exponent(y.exponent())};return pb.apply(y,arguments)}function sg(){function y(w){return isNaN(w=+w)?Ue:(w=.5+((w=+ie(w))-lc)*(Bb*w<Bb*lc?Kd:Sd),ad(Ke?Math.max(0,Math.min(1,w)):w))}function W(w){return function(T){var aa,Ea,rb;return arguments.length?([aa,Ea,rb]=T,ad=ud(w,[aa,Ea,rb]),y):[ad(0),ad(.5),ad(1)]}}var ha=0,Ma=.5,zb=1,Bb=1,Qb,lc,Vc,Kd,Sd,ad=vb,ie,Ke=!1,Ue;y.domain=function(w){return arguments.length?
([ha,Ma,zb]=w,Qb=ie(ha=+ha),lc=ie(Ma=+Ma),Vc=ie(zb=+zb),Kd=Qb===lc?0:.5/(lc-Qb),Sd=lc===Vc?0:.5/(Vc-lc),Bb=lc<Qb?-1:1,y):[ha,Ma,zb]};y.clamp=function(w){return arguments.length?(Ke=!!w,y):Ke};y.interpolator=function(w){return arguments.length?(ad=w,y):ad};y.range=W(qb);y.rangeRound=W(Sb);y.unknown=function(w){return arguments.length?(Ue=w,y):Ue};return function(w){ie=w;Qb=w(ha);lc=w(Ma);Vc=w(zb);Kd=Qb===lc?0:.5/(lc-Qb);Sd=lc===Vc?0:.5/(Vc-lc);Bb=lc<Qb?-1:1;return y}}function Af(){var y=Yd(sg()(vb));
y.copy=function(){return Cf(y,Af())};return pb.apply(y,arguments)}function Hf(){var y=mc(sg()).domain([.1,1,10]);y.copy=function(){return Cf(y,Hf()).base(y.base())};return pb.apply(y,arguments)}function dg(){var y=vd(sg());y.copy=function(){return Cf(y,dg()).constant(y.constant())};return pb.apply(y,arguments)}function Ug(){var y=qe(sg());y.copy=function(){return Cf(y,Ug()).exponent(y.exponent())};return pb.apply(y,arguments)}function Vg(){function y(){var ad=ha().length;const ie=zb[1]<zb[0],Ke=zb[1-
ie],Ue=jb(ad,Vc,Kd);let w=zb[ie-0];Bb=(Ke-w)/(Ue||1);lc&&(Bb=Math.floor(Bb));w+=(Ke-w-Bb*(ad-Vc))*Sd;Qb=Bb*(1-Vc);lc&&(w=Math.round(w),Qb=Math.round(Qb));ad=Ob(ad).map(T=>w+Bb*T);return Ma(ie?ad.reverse():ad)}const W=Qa().unknown(void 0),ha=W.domain,Ma=W.range;let zb=[0,1],Bb,Qb,lc=!1,Vc=0,Kd=0,Sd=.5;delete W.unknown;W.domain=function(ad){return arguments.length?(ha(ad),y()):ha()};W.range=function(ad){return arguments.length?(zb=[+ad[0],+ad[1]],y()):zb.slice()};W.rangeRound=function(ad){zb=[+ad[0],
+ad[1]];lc=!0;return y()};W.bandwidth=function(){return Qb};W.step=function(){return Bb};W.round=function(ad){return arguments.length?(lc=!!ad,y()):lc};W.padding=function(ad){return arguments.length?(Vc=Kd=Math.max(0,Math.min(1,ad)),y()):Vc};W.paddingInner=function(ad){return arguments.length?(Vc=Math.max(0,Math.min(1,ad)),y()):Vc};W.paddingOuter=function(ad){return arguments.length?(Kd=Math.max(0,Math.min(1,ad)),y()):Kd};W.align=function(ad){return arguments.length?(Sd=Math.max(0,Math.min(1,ad)),
y()):Sd};W.invertRange=function(ad){if(null!=ad[0]&&null!=ad[1]){var ie=zb[1]<zb[0],Ke=ie?Ma().reverse():Ma(),Ue=Ke.length-1,w=+ad[0],T=+ad[1];if(w===w&&T===T){if(T<w){var aa=w;w=T;T=aa}if(!(T<Ke[0]||w>zb[1-ie]))return ad=Math.max(0,Kf(Ke,w)-1),T=w===T?ad:Kf(Ke,T)-1,w-Ke[ad]>Qb+1E-10&&++ad,ie&&(aa=ad,ad=Ue-T,T=Ue-aa),ad>T?void 0:ha().slice(ad,T+1)}}};W.invert=function(ad){return(ad=W.invertRange([ad,ad]))?ad[0]:ad};W.copy=function(){return Vg().domain(ha()).range(zb).round(lc).paddingInner(Vc).paddingOuter(Kd).align(Sd)};
return y()}function Dg(y){const W=y.copy;y.padding=y.paddingOuter;delete y.paddingInner;y.copy=function(){return Dg(W())};return y}function Wg(){function y(Ma){return null==Ma||Ma!==Ma?void 0:ha[(yf(W,Ma)-1)%ha.length]}let W=[],ha=[];y.domain=function(Ma){return arguments.length?(W=pg.call(Ma,k.toNumber),y):W.slice()};y.range=function(Ma){return arguments.length?(ha=kh.call(Ma),y):ha.slice()};y.tickFormat=function(Ma,zb){return Ed(W[0],k.peek(W),null==Ma?10:Ma,zb)};y.copy=function(){return Wg().domain(y.domain()).range(y.range())};
return y}function ra(y,W,ha){const Ma=function(){const zb=W();zb.invertRange||(zb.invertRange=zb.invert?Fb(zb):zb.invertExtent?bc(zb):void 0);zb.type=y;return zb};Ma.metadata=k.toSet(k.array(ha));return Ma}function bb(y,W,ha){return 1<arguments.length?(yg[y]=ra(y,W,ha),this):Rb(y)?yg[y]:void 0}function Rb(y){return k.hasOwnProperty(yg,y)}function id(y,W){return(y=yg[y])&&y.metadata[W]}function od(y){return id(y,"discrete")}function ne(y){return id(y,"discretizing")}function Re(y){return id(y,"log")}
function pf(y){return id(y,"temporal")}function Ff(y,W,ha){return ud(Ne(W||"rgb",ha),y)}function Ne(y,W){y=ei[eg(y)];return null!=W&&y&&y.gamma?y.gamma(W):y}function eg(y){return"interpolate"+y.toLowerCase().split("-").map(W=>W[0].toUpperCase()+W.slice(1)).join("")}function Sf(y){const W=y.length/6|0,ha=Array(W);for(let Ma=0;Ma<W;)ha[Ma]="#"+y.slice(6*Ma,6*++Ma);return ha}function Xf(y,W){for(const ha in y)kg(ha,W(y[ha]))}function kg(y,W){y=y&&y.toLowerCase();return 1<arguments.length?(Pi[y]=W,this):
Pi[y]}function qg(y,W,ha){var Ma=y.range();let zb=Ma[0],Bb=k.peek(Ma);Ma=ki;zb>Bb&&(Ma=Bb,Bb=zb,zb=Ma,Ma=Oi);zb=Math.floor(zb);Bb=Math.ceil(Bb);W=W.map(Qb=>[Qb,y(Qb)]).filter(Qb=>zb<=Qb[1]&&Qb[1]<=Bb).sort(Ma).map(Qb=>Qb[0]);if(0<ha&&1<W.length){for(Ma=[W[0],k.peek(W)];W.length>ha&&3<=W.length;)W=W.filter((Qb,lc)=>!(lc%2));3>W.length&&(W=Ma)}return W}function Lg(y,W){return y.bins?qg(y,y.bins):y.ticks?y.ticks(W):y.domain()}function gh(y,W,ha,Ma,zb,Bb){const Qb=W.type;let lc=ci;if("time"===Qb||"time"===
zb)lc=y.timeFormat(Ma);else if("utc"===Qb||"utc"===zb)lc=y.utcFormat(Ma);else if(Re(Qb)){const Vc=y.formatFloat(Ma);if(Bb||W.bins)lc=Vc;else{const Kd=ph(W,ha,!1);lc=Sd=>Kd(Sd)?Vc(Sd):""}}else W.tickFormat?(W=W.domain(),lc=y.formatSpan(W[0],W[W.length-1],ha,Ma)):Ma&&(lc=y.format(Ma));return lc}function ph(y,W,ha){const Ma=Lg(y,W),zb=y.base(),Bb=Math.log(zb),Qb=Math.max(1,zb*W/Ma.length);y=lc=>{lc/=Math.pow(zb,Math.round(Math.log(lc)/Bb));lc*zb<zb-.5&&(lc*=zb);return lc<=Qb};return ha?Ma.filter(y):
y}function Ie(y,W){y.bins?(y=y.bins,W=y.slice(0,-1),W.max=k.peek(y),y=W):"log"===y.type?y=ph(y,W,!0):Cg[y.type]?(y=y[Cg[y.type]](),y=[-Infinity].concat(y),y.max=Infinity):y=Lg(y,W);return y}function ye(y,W,ha,Ma,zb,Bb,Qb){if(kj[W.type]&&"time"!==Bb&&"utc"!==Bb){ha=W[kj[W.type]]();Bb=ha.length;Qb=1<Bb?ha[1]-ha[0]:ha[0];let lc;for(lc=1;lc<Bb;++lc)Qb=Math.min(Qb,ha[lc]-ha[lc-1]);y=y.formatSpan(0,Qb,30,zb)}else y=gh(y,W,ha,zb,Bb,Qb);return"symbol"===Ma&&(Cg[W.type]||W.bins)?lj(y):"discrete"===Ma?Ai(y):
Si(y)}const Kf=Bc(vc).right;Bc(uc).center;var yf=Kf;class Bf extends Map{constructor(y,W=Ua){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:W}});if(null!=y)for(const [ha,Ma]of y)this.set(ha,Ma)}get(y){return super.get(Ab(this,y))}has(y){return super.has(Ab(this,y))}set(y,W){return super.set(kc(this,y),W)}delete(y){return super.delete(Yb(this,y))}}var tf=Math.sqrt(50),fg=Math.sqrt(10),Eg=Math.sqrt(2);const tg=Symbol("implicit");var Df=1/.7,Qg=/^#([0-9a-f]{3,8})$/,Mg=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
qh=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),xg=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Wh=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
rh=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Hh=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Xg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
Da(lb,wb,{copy:function(y){return Object.assign(new this.constructor,this,y)},displayable:function(){return this.rgb().displayable()},hex:mb,formatHex:mb,formatHsl:function(){return ba(this).formatHsl()},formatRgb:Pa,toString:Pa});Da(qa,nb,Ka(lb,{brighter:function(y){y=null==y?Df:Math.pow(Df,y);return new qa(this.r*y,this.g*y,this.b*y,this.opacity)},darker:function(y){y=null==y?.7:Math.pow(.7,y);return new qa(this.r*y,this.g*y,this.b*y,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Z,formatHex:Z,formatRgb:Fa,toString:Fa}));Da(q,oa,Ka(lb,{brighter:function(y){y=null==y?Df:Math.pow(Df,y);return new q(this.h,this.s,this.l*y,this.opacity)},darker:function(y){y=null==y?.7:Math.pow(.7,y);return new q(this.h,this.s,this.l*y,this.opacity)},rgb:function(){var y=this.h%360+360*(0>this.h),W=isNaN(y)||isNaN(this.s)?0:this.s,ha=this.l;W=ha+(.5>ha?ha:1-ha)*W;ha=2*ha-W;return new qa(M(240<=
y?y-240:y+120,ha,W),M(y,ha,W),M(120>y?y+240:y-120,ha,W),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var y=this.opacity;y=isNaN(y)?1:Math.max(0,Math.min(1,y));return(1===y?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===y?")":", "+y+")")}}));const sh=Math.PI/180,Bh=180/Math.PI,ji=4/29,eh=6/29,th=3*eh*eh,yi=eh*eh*eh;Da(u,g,Ka(lb,{brighter:function(y){return new u(this.l+
18*(null==y?1:y),this.a,this.b,this.opacity)},darker:function(y){return new u(this.l-18*(null==y?1:y),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,W=isNaN(this.a)?y:y+this.a/500,ha=isNaN(this.b)?y:y-this.b/200;W=.96422*C(W);y=1*C(y);ha=.82521*C(ha);return new qa(B(3.1338561*W-1.6168667*y-.4906146*ha),B(-.9787684*W+1.9161415*y+.033454*ha),B(.0719453*W-.2289914*y+1.4052427*ha),this.opacity)}}));Da(V,I,Ka(lb,{brighter:function(y){return new V(this.h,this.c,this.l+18*(null==y?1:y),
this.opacity)},darker:function(y){return new V(this.h,this.c,this.l-18*(null==y?1:y),this.opacity)},rgb:function(){return Aa(this).rgb()}}));var Fg=1.78277*-.29227-.1347134789;Da(t,Y,Ka(lb,{brighter:function(y){y=null==y?Df:Math.pow(Df,y);return new t(this.h,this.s,this.l*y,this.opacity)},darker:function(y){y=null==y?.7:Math.pow(.7,y);return new t(this.h,this.s,this.l*y,this.opacity)},rgb:function(){var y=isNaN(this.h)?0:(this.h+120)*sh,W=+this.l,ha=isNaN(this.s)?0:this.s*W*(1-W),Ma=Math.cos(y);y=
Math.sin(y);return new qa(255*(W+ha*(-.14861*Ma+1.78277*y)),255*(W+ha*(-.29227*Ma+-.90649*y)),255*(W+1.97294*ha*Ma),this.opacity)}}));var Mh=y=>()=>y,Xh=function ha(W){function Ma(Bb,Qb){var lc=zb((Bb=nb(Bb)).r,(Qb=nb(Qb)).r),Vc=zb(Bb.g,Qb.g),Kd=zb(Bb.b,Qb.b),Sd=Xa(Bb.opacity,Qb.opacity);return function(ad){Bb.r=lc(ad);Bb.g=Vc(ad);Bb.b=Kd(ad);Bb.opacity=Sd(ad);return Bb+""}}var zb=Ca(W);Ma.gamma=ha;return Ma}(1),Rg=Ib(va),hh=Ib(La),lh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ch=new RegExp(lh.source,
"g"),Gg=180/Math.PI,Nh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Dh,Hg=dc(function(W){W=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(W+"");return W.isIdentity?Nh:ic(W.a,W.b,W.c,W.d,W.e,W.f)},"px, ","px)","deg)"),Ng=dc(function(W){if(null==W)return Nh;Dh||(Dh=document.createElementNS("http://www.w3.org/2000/svg","g"));Dh.setAttribute("transform",W);if(!(W=Dh.transform.baseVal.consolidate()))return Nh;W=W.matrix;return ic(W.a,W.b,W.c,W.d,W.e,W.f)},", ",")",")"),
Yh=function Bb(ha,Ma,zb){function Qb(lc,Vc){var Kd=lc[0],Sd=lc[1],ad=lc[2];lc=Vc[2];var ie=Vc[0]-Kd,Ke=Vc[1]-Sd,Ue=ie*ie+Ke*Ke;if(1E-12>Ue){var w=Math.log(lc/ad)/ha;lc=function(Ea){return[Kd+Ea*ie,Sd+Ea*Ke,ad*Math.exp(ha*Ea*w)]}}else{var T=Math.sqrt(Ue);Vc=(lc*lc-ad*ad+zb*Ue)/(2*ad*Ma*T);lc=(lc*lc-ad*ad-zb*Ue)/(2*lc*Ma*T);var aa=Math.log(Math.sqrt(Vc*Vc+1)-Vc);w=(Math.log(Math.sqrt(lc*lc+1)-lc)-aa)/ha;lc=function(Ea){Ea*=w;var rb=Ic(aa),xb=ha*Ea+aa;var Lb=((xb=Math.exp(2*xb))-1)/(xb+1);var Mb=aa;
xb=((Mb=Math.exp(Mb))-1/Mb)/2;Lb=ad/(Ma*T)*(rb*Lb-xb);return[Kd+Lb*ie,Sd+Lb*Ke,ad*rb/Ic(ha*Ea+aa)]}}lc.duration=1E3*w*ha/Math.SQRT2;return lc}Qb.rho=function(lc){lc=Math.max(.001,+lc);var Vc=lc*lc;return Bb(lc,Vc,Vc*Vc)};return Qb}(Math.SQRT2,2,4),fh=zc(X),Zg=zc(Xa),Yf=Yc(X),Sg=Yc(Xa),$g=Md(X),qf=Md(Xa),ei=Object.freeze({__proto__:null,interpolate:qb,interpolateArray:function(ha,Ma){return(qc(Ma)?yc:xc)(ha,Ma)},interpolateBasis:va,interpolateBasisClosed:La,interpolateDate:dd,interpolateDiscrete:function(ha){var Ma=
ha.length;return function(zb){return ha[Math.max(0,Math.min(Ma-1,Math.floor(zb*Ma)))]}},interpolateHue:function(ha,Ma){var zb=X(+ha,+Ma);return function(Bb){Bb=zb(Bb);return Bb-360*Math.floor(Bb/360)}},interpolateNumber:Zb,interpolateNumberArray:yc,interpolateObject:Rc,interpolateRound:Sb,interpolateString:Ub,interpolateTransformCss:Hg,interpolateTransformSvg:Ng,interpolateZoom:Yh,interpolateRgb:Xh,interpolateRgbBasis:Rg,interpolateRgbBasisClosed:hh,interpolateHsl:fh,interpolateHslLong:Zg,interpolateLab:function(ha,
Ma){var zb=Xa((ha=g(ha)).l,(Ma=g(Ma)).l),Bb=Xa(ha.a,Ma.a),Qb=Xa(ha.b,Ma.b),lc=Xa(ha.opacity,Ma.opacity);return function(Vc){ha.l=zb(Vc);ha.a=Bb(Vc);ha.b=Qb(Vc);ha.opacity=lc(Vc);return ha+""}},interpolateHcl:Yf,interpolateHclLong:Sg,interpolateCubehelix:$g,interpolateCubehelixLong:qf,piecewise:ud,quantize:function(ha,Ma){for(var zb=Array(Ma),Bb=0;Bb<Ma;++Bb)zb[Bb]=ha(Bb/(Ma-1));return zb}}),Og=[0,1],bg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Sc.prototype=ed.prototype;
ed.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var S,xa={"%":(ha,Ma)=>(100*ha).toFixed(Ma),b:ha=>Math.round(ha).toString(2),c:ha=>ha+"",d:function(ha){return 1E21<=Math.abs(ha=Math.round(ha))?ha.toLocaleString("en").replace(/,/g,""):ha.toString(10)},e:(ha,Ma)=>ha.toExponential(Ma),f:(ha,
Ma)=>ha.toFixed(Ma),g:(ha,Ma)=>ha.toPrecision(Ma),o:ha=>Math.round(ha).toString(8),p:(ha,Ma)=>fd(100*ha,Ma),r:fd,s:function(ha,Ma){var zb=Eb(ha,Ma);if(!zb)return ha+"";var Bb=zb[0];zb=zb[1];zb=zb-(S=3*Math.max(-8,Math.min(8,Math.floor(zb/3))))+1;var Qb=Bb.length;return zb===Qb?Bb:zb>Qb?Bb+Array(zb-Qb+1).join("0"):0<zb?Bb.slice(0,zb)+"."+Bb.slice(zb):"0."+Array(1-zb).join("0")+Eb(ha,Math.max(0,Ma+zb-1))[0]},X:ha=>Math.round(ha).toString(16).toUpperCase(),x:ha=>Math.round(ha).toString(16)},Ta=Array.prototype.map,
p="y z a f p n  m  k M G T P E Z Y".split(" "),R,ja,wa;(function(ha){R=Td(ha);ja=R.format;wa=R.formatPrefix;return R})({thousands:",",grouping:[3],currency:["$",""]});var r=new Date,E=new Date,ia=pe(function(){},function(ha,Ma){ha.setTime(+ha+Ma)},function(ha,Ma){return Ma-ha});ia.every=function(ha){ha=Math.floor(ha);return isFinite(ha)&&0<ha?1<ha?pe(function(Ma){Ma.setTime(Math.floor(Ma/ha)*ha)},function(Ma,zb){Ma.setTime(+Ma+zb*ha)},function(Ma,zb){return(zb-Ma)/ha}):ia:null};var l=ia,z=pe(function(ha){ha.setTime(ha-
ha.getMilliseconds())},function(ha,Ma){ha.setTime(+ha+1E3*Ma)},function(ha,Ma){return(Ma-ha)/1E3},function(ha){return ha.getUTCSeconds()}),ca=pe(function(ha){ha.setTime(ha-ha.getMilliseconds()-1E3*ha.getSeconds())},function(ha,Ma){ha.setTime(+ha+6E4*Ma)},function(ha,Ma){return(Ma-ha)/6E4},function(ha){return ha.getMinutes()}),na=pe(function(ha){ha.setTime(ha-ha.getMilliseconds()-1E3*ha.getSeconds()-6E4*ha.getMinutes())},function(ha,Ma){ha.setTime(+ha+36E5*Ma)},function(ha,Ma){return(Ma-ha)/36E5},
function(ha){return ha.getHours()}),Va=pe(ha=>ha.setHours(0,0,0,0),(ha,Ma)=>ha.setDate(ha.getDate()+Ma),(ha,Ma)=>(Ma-ha-6E4*(Ma.getTimezoneOffset()-ha.getTimezoneOffset()))/864E5,ha=>ha.getDate()-1),Ya=nf(0),Gb=nf(1);nf(2);nf(3);var ac=nf(4);nf(5);nf(6);var Tb=pe(function(ha){ha.setDate(1);ha.setHours(0,0,0,0)},function(ha,Ma){ha.setMonth(ha.getMonth()+Ma)},function(ha,Ma){return Ma.getMonth()-ha.getMonth()+12*(Ma.getFullYear()-ha.getFullYear())},function(ha){return ha.getMonth()}),Bd=pe(function(ha){ha.setMonth(0,
1);ha.setHours(0,0,0,0)},function(ha,Ma){ha.setFullYear(ha.getFullYear()+Ma)},function(ha,Ma){return Ma.getFullYear()-ha.getFullYear()},function(ha){return ha.getFullYear()});Bd.every=function(ha){return isFinite(ha=Math.floor(ha))&&0<ha?pe(function(Ma){Ma.setFullYear(Math.floor(Ma.getFullYear()/ha)*ha);Ma.setMonth(0,1);Ma.setHours(0,0,0,0)},function(Ma,zb){Ma.setFullYear(Ma.getFullYear()+zb*ha)}):null};var Xc=Bd,Rd=pe(function(ha){ha.setUTCSeconds(0,0)},function(ha,Ma){ha.setTime(+ha+6E4*Ma)},function(ha,
Ma){return(Ma-ha)/6E4},function(ha){return ha.getUTCMinutes()}),te=pe(function(ha){ha.setUTCMinutes(0,0,0)},function(ha,Ma){ha.setTime(+ha+36E5*Ma)},function(ha,Ma){return(Ma-ha)/36E5},function(ha){return ha.getUTCHours()}),Ce=pe(function(ha){ha.setUTCHours(0,0,0,0)},function(ha,Ma){ha.setUTCDate(ha.getUTCDate()+Ma)},function(ha,Ma){return(Ma-ha)/864E5},function(ha){return ha.getUTCDate()-1}),ue=U(0),Ze=U(1);U(2);U(3);var zf=U(4);U(5);U(6);var Uf=pe(function(ha){ha.setUTCDate(1);ha.setUTCHours(0,
0,0,0)},function(ha,Ma){ha.setUTCMonth(ha.getUTCMonth()+Ma)},function(ha,Ma){return Ma.getUTCMonth()-ha.getUTCMonth()+12*(Ma.getUTCFullYear()-ha.getUTCFullYear())},function(ha){return ha.getUTCMonth()}),ef=pe(function(ha){ha.setUTCMonth(0,1);ha.setUTCHours(0,0,0,0)},function(ha,Ma){ha.setUTCFullYear(ha.getUTCFullYear()+Ma)},function(ha,Ma){return Ma.getUTCFullYear()-ha.getUTCFullYear()},function(ha){return ha.getUTCFullYear()});ef.every=function(ha){return isFinite(ha=Math.floor(ha))&&0<ha?pe(function(Ma){Ma.setUTCFullYear(Math.floor(Ma.getUTCFullYear()/
ha)*ha);Ma.setUTCMonth(0,1);Ma.setUTCHours(0,0,0,0)},function(Ma,zb){Ma.setUTCFullYear(Ma.getUTCFullYear()+zb*ha)}):null};var bf=ef;const [cg,vh]=ua(bf,Uf,ue,Ce,te,Rd),[lg,Mf]=ua(Xc,Tb,Ya,Va,na,ca);var mf={"-":"",_:" ",0:"0"},Rf=/^\s*\d+/,If=/^%/,Lf=/[\\^$*+?|[\]().{}]/g,ah,hg,Fh;(function(ha){ah=Ec(ha);hg=ah.format;Fh=ah.utcFormat;return ah})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var pg=Array.prototype.map;const kh=Array.prototype.slice,yg={};bb("identity",Ud);bb("linear",ae,"continuous");bb("log",Hc,["continuous","log"]);bb("pow",De,"continuous");bb("sqrt",function(){return De.apply(null,arguments).exponent(.5)},"continuous");bb("symlog",Gd,"continuous");bb("time",function(){return ab.apply(jf(lg,
Mf,Xc,Tb,Ya,Va,na,ca,z,hg).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);bb("utc",function(){return ab.apply(jf(cg,vh,bf,Uf,ue,Ce,te,Rd,z,Fh).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);bb("sequential",Qf,["continuous","interpolating"]);bb("sequential-linear",Qf,["continuous","interpolating"]);bb("sequential-log",Jf,["continuous","interpolating","log"]);bb("sequential-pow",Bg,["continuous","interpolating"]);bb("sequential-sqrt",
function(){return Bg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);bb("sequential-symlog",Gf,["continuous","interpolating"]);bb("diverging-linear",Af,["continuous","interpolating"]);bb("diverging-log",Hf,["continuous","interpolating","log"]);bb("diverging-pow",Ug,["continuous","interpolating"]);bb("diverging-sqrt",function(){return Ug.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);bb("diverging-symlog",dg,["continuous","interpolating"]);bb("quantile",gf,
["discretizing","quantile"]);bb("quantize",cf,"discretizing");bb("threshold",df,"discretizing");bb("bin-ordinal",Wg,["discrete","discretizing"]);bb("ordinal",Qa,"discrete");bb("band",Vg,"discrete");bb("point",function(){return Dg(Vg().paddingInner(1))},"discrete");const Sh=["clamp","base","constant","exponent"],Pi={};Xf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Sf);Xf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},ha=>Ff(Sf(ha)));const ci=ha=>k.isArray(ha)?ha.map(Ma=>String(Ma)):String(ha),ki=(ha,Ma)=>ha[1]-Ma[1],Oi=(ha,Ma)=>Ma[1]-ha[1],Cg={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},kj={quantile:"quantiles",quantize:"domain"},lj=ha=>(Ma,zb,Bb)=>{zb=Bb[zb+1];Bb=Bb.max;Bb=null!=Bb?Bb:Infinity;zb=null!=
zb?zb:Bb;Ma=Number.isFinite(Ma)?ha(Ma):null;zb=Number.isFinite(zb)?ha(zb):null;return Ma&&zb?Ma+"  "+zb:zb?"\x3c "+zb:" "+Ma},Ai=ha=>(Ma,zb)=>zb?ha(Ma):null,Si=ha=>Ma=>ha(Ma);v.Band="band";v.BinOrdinal="bin-ordinal";v.DiscreteLegend="discrete";v.Diverging="diverging";v.GradientLegend="gradient";v.Identity="identity";v.Linear="linear";v.Log="log";v.Ordinal="ordinal";v.Point="point";v.Pow="pow";v.Quantile="quantile";v.Quantize="quantize";v.Sequential="sequential";v.Sqrt="sqrt";v.SymbolLegend="symbol";
v.Symlog="symlog";v.Threshold="threshold";v.Time="time";v.UTC="utc";v.bandSpace=jb;v.domainCaption=function(ha,Ma,zb){zb=zb||{};var Bb=Math.max(3,zb.maxlen||7),Qb=zb.format;const lc=(zb=zb.formatType)||Ma.type;k.isString(Qb)&&pf(lc)&&(Qb=Qb.replace(/%a/g,"%A").replace(/%b/g,"%B"));ha=Qb||"time"!==lc?Qb||"utc"!==lc?ye(ha,Ma,5,null,Qb,zb,!0):ha.utcFormat("%A, %d %B %Y, %X UTC"):ha.timeFormat("%A, %d %B %Y, %X");if(ne(Ma.type))return Bb=Ie(Ma).slice(1).map(ha),Ma=Bb.length,`${Ma} boundar${1===Ma?"y":
"ies"}: ${Bb.join(", ")}`;if(od(Ma.type))return Qb=Ma.domain(),Ma=Qb.length,Bb=Ma>Bb?Qb.slice(0,Bb-2).map(ha).join(", ")+", ending with "+Qb.slice(-1).map(ha):Qb.map(ha).join(", "),`${Ma} value${1===Ma?"":"s"}: ${Bb}`;Bb=Ma.domain();return`values from ${ha(Bb[0])} to ${ha(k.peek(Bb))}`};v.interpolate=Ne;v.interpolateColors=Ff;v.interpolateRange=function(ha,Ma){const zb=Ma[0],Bb=k.peek(Ma)-zb;return function(Qb){return ha(zb+Qb*Bb)}};v.isContinuous=function(ha){return id(ha,"continuous")};v.isDiscrete=
od;v.isDiscretizing=ne;v.isInterpolating=function(ha){return id(ha,"interpolating")};v.isLogarithmic=Re;v.isQuantile=function(ha){return id(ha,"quantile")};v.isTemporal=pf;v.isValidScaleType=Rb;v.labelFormat=ye;v.labelFraction=function(ha){var Ma=ha.domain();const zb=Ma.length-1;let Bb=+Ma[0];Ma=+k.peek(Ma);let Qb=Ma-Bb;"threshold"===ha.type&&(ha=zb?Qb/zb:.1,Bb-=ha,Ma+=ha,Qb=Ma-Bb);return lc=>(lc-Bb)/Qb};v.labelValues=Ie;v.quantizeInterpolator=function(ha,Ma){const zb=Array(Ma),Bb=Ma+1;for(let Qb=
0;Qb<Ma;)zb[Qb]=ha(++Qb/Bb);return zb};v.scale=bb;v.scaleCopy=function(ha){const Ma=ha.type;ha=ha.copy();ha.type=Ma;return ha};v.scaleFraction=function(ha,Ma,zb){var Bb=zb-Ma;let Qb,lc;return Bb&&Number.isFinite(Bb)?(Bb=(Qb=ha.type).indexOf("-"),Qb=0>Bb?Qb:Qb.slice(Bb+1),lc=bb(Qb)().domain([Ma,zb]).range([0,1]),Sh.forEach(Vc=>ha[Vc]?lc[Vc](ha[Vc]()):0),lc):k.constant(.5)};v.scaleImplicit=tg;v.scheme=kg;v.tickCount=function(ha,Ma,zb){let Bb;k.isNumber(Ma)&&(ha.bins&&(Ma=Math.max(Ma,ha.bins.length)),
null!=zb&&(Ma=Math.min(Ma,Math.floor(k.span(ha.domain())/zb||1))));k.isObject(Ma)&&(Bb=Ma.step,Ma=Ma.interval);k.isString(Ma)&&(Ma="time"===ha.type?P.timeInterval(Ma):"utc"==ha.type?P.utcInterval(Ma):k.error("Only time and utc scales accept interval strings."),Bb&&(Ma=Ma.every(Bb)));return Ma};v.tickFormat=gh;v.tickValues=Lg;v.validTicks=qg;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[45]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(40),Db(43),Db(44)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,jb,Fb){function bc(S,xa,Ta){const p=S.gradient;let R=S.id,ja="radial"===p?"p_":"";R||(R=S.id="gradient_"+Ja++,"radial"===p?(S.x1=vc(S.x1,
.5),S.y1=vc(S.y1,.5),S.r1=vc(S.r1,0),S.x2=vc(S.x2,.5),S.y2=vc(S.y2,.5),S.r2=vc(S.r2,.5),ja="p_"):(S.x1=vc(S.x1,0),S.y1=vc(S.y1,0),S.x2=vc(S.x2,1),S.y2=vc(S.y2,0)));xa[R]=S;return"url("+(Ta||"")+"#"+ja+R+")"}function vc(S,xa){return null!=S?S:xa}function Bc(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function uc(){return new Bc}function Ab(S){return function(){return S}}function kc(S){return 1<=S?Oc:-1>=S?-Oc:Math.asin(S)}function Yb(S){return S.innerRadius}function Ua(S){return S.outerRadius}
function tb(S){return S.startAngle}function Jb(S){return S.endAngle}function Kb(S){return S&&S.padAngle}function Cb(S,xa,Ta,p,R,ja,wa){var r=S-Ta,E=xa-p;wa=(wa?ja:-ja)/Ad(r*r+E*E);E*=wa;r*=-wa;var ia=S+E,l=xa+r,z=Ta+E,ca=p+r;Ta=(ia+z)/2;p=(l+ca)/2;xa=z-ia;S=ca-l;wa=xa*xa+S*S;ja=R-ja;ca=ia*ca-z*l;var na=(0>S?-1:1)*Ad(yd(0,ja*ja*wa-ca*ca));ia=(ca*S-xa*na)/wa;l=(-ca*xa-S*na)/wa;z=(ca*S+xa*na)/wa;xa=(-ca*xa+S*na)/wa;S=ia-Ta;wa=l-p;Ta=z-Ta;p=xa-p;S*S+wa*wa>Ta*Ta+p*p&&(ia=z,l=xa);return{cx:ia,cy:l,x01:-E,
y01:-r,x11:ia*(R/ja-1),y11:l*(R/ja-1)}}function Ob(S){return"object"===typeof S&&"length"in S?S:Array.from(S)}function ab(S){this._context=S}function pb(S){return new ab(S)}function Qa(S){return S[0]}function Da(S){return S[1]}function Ka(S,xa){function Ta(r){var E,ia=(r=Ob(r)).length,l,z=!1,ca;null==R&&(wa=ja(ca=uc()));for(E=0;E<=ia;++E)!(E<ia&&p(l=r[E],E,r))===z&&((z=!z)?wa.lineStart():wa.lineEnd()),z&&wa.point(+S(l,E,r),+xa(l,E,r));if(ca)return wa=null,ca+""||null}var p=Ab(!0),R=null,ja=pb,wa=
null;S="function"===typeof S?S:void 0===S?Qa:Ab(S);xa="function"===typeof xa?xa:void 0===xa?Da:Ab(xa);Ta.x=function(r){return arguments.length?(S="function"===typeof r?r:Ab(+r),Ta):S};Ta.y=function(r){return arguments.length?(xa="function"===typeof r?r:Ab(+r),Ta):xa};Ta.defined=function(r){return arguments.length?(p="function"===typeof r?r:Ab(!!r),Ta):p};Ta.curve=function(r){return arguments.length?(ja=r,null!=R&&(wa=ja(R)),Ta):ja};Ta.context=function(r){return arguments.length?(null==r?R=wa=null:
wa=ja(R=r),Ta):R};return Ta}function lb(S,xa,Ta){function p(l){var z,ca,na=(l=Ob(l)).length,Va,Ya=!1,Gb,ac=Array(na),Tb=Array(na);null==r&&(ia=E(Gb=uc()));for(z=0;z<=na;++z){if(!(z<na&&wa(Va=l[z],z,l))===Ya)if(Ya=!Ya){var Bd=z;ia.areaStart();ia.lineStart()}else{ia.lineEnd();ia.lineStart();for(ca=z-1;ca>=Bd;--ca)ia.point(ac[ca],Tb[ca]);ia.lineEnd();ia.areaEnd()}Ya&&(ac[z]=+S(Va,z,l),Tb[z]=+xa(Va,z,l),ia.point(ja?+ja(Va,z,l):ac[z],Ta?+Ta(Va,z,l):Tb[z]))}if(Gb)return ia=null,Gb+""||null}function R(){return Ka().defined(wa).curve(E).context(r)}
var ja=null,wa=Ab(!0),r=null,E=pb,ia=null;S="function"===typeof S?S:void 0===S?Qa:Ab(+S);xa="function"===typeof xa?xa:void 0===xa?Ab(0):Ab(+xa);Ta="function"===typeof Ta?Ta:void 0===Ta?Da:Ab(+Ta);p.x=function(l){return arguments.length?(S="function"===typeof l?l:Ab(+l),ja=null,p):S};p.x0=function(l){return arguments.length?(S="function"===typeof l?l:Ab(+l),p):S};p.x1=function(l){return arguments.length?(ja=null==l?null:"function"===typeof l?l:Ab(+l),p):ja};p.y=function(l){return arguments.length?
(xa="function"===typeof l?l:Ab(+l),Ta=null,p):xa};p.y0=function(l){return arguments.length?(xa="function"===typeof l?l:Ab(+l),p):xa};p.y1=function(l){return arguments.length?(Ta=null==l?null:"function"===typeof l?l:Ab(+l),p):Ta};p.lineX0=p.lineY0=function(){return R().x(S).y(xa)};p.lineY1=function(){return R().x(S).y(Ta)};p.lineX1=function(){return R().x(ja).y(xa)};p.defined=function(l){return arguments.length?(wa="function"===typeof l?l:Ab(!!l),p):wa};p.curve=function(l){return arguments.length?
(E=l,null!=r&&(ia=E(r)),p):E};p.context=function(l){return arguments.length?(null==l?r=ia=null:ia=E(r=l),p):r};return p}function mb(){}function Pa(S,xa,Ta){S._context.bezierCurveTo((2*S._x0+S._x1)/3,(2*S._y0+S._y1)/3,(S._x0+2*S._x1)/3,(S._y0+2*S._y1)/3,(S._x0+4*S._x1+xa)/6,(S._y0+4*S._y1+Ta)/6)}function wb(S){this._context=S}function sb(S){this._context=S}function Pb(S){this._context=S}function Vb(S,xa){this._basis=new wb(S);this._beta=xa}function nb(S,xa,Ta){S._context.bezierCurveTo(S._x1+S._k*(S._x2-
S._x0),S._y1+S._k*(S._y2-S._y0),S._x2+S._k*(S._x1-xa),S._y2+S._k*(S._y1-Ta),S._x2,S._y2)}function qa(S,xa){this._context=S;this._k=(1-xa)/6}function Z(S,xa){this._context=S;this._k=(1-xa)/6}function Fa(S,xa){this._context=S;this._k=(1-xa)/6}function Ga(S,xa,Ta){var p=S._x1,R=S._y1,ja=S._x2,wa=S._y2;if(1E-12<S._l01_a){var r=2*S._l01_2a+3*S._l01_a*S._l12_a+S._l12_2a,E=3*S._l01_a*(S._l01_a+S._l12_a);p=(p*r-S._x0*S._l12_2a+S._x2*S._l01_2a)/E;R=(R*r-S._y0*S._l12_2a+S._y2*S._l01_2a)/E}1E-12<S._l23_a&&(r=
2*S._l23_2a+3*S._l23_a*S._l12_a+S._l12_2a,E=3*S._l23_a*(S._l23_a+S._l12_a),ja=(ja*r+S._x1*S._l23_2a-xa*S._l12_2a)/E,wa=(wa*r+S._y1*S._l23_2a-Ta*S._l12_2a)/E);S._context.bezierCurveTo(p,R,ja,wa,S._x2,S._y2)}function eb(S,xa){this._context=S;this._alpha=xa}function ba(S,xa){this._context=S;this._alpha=xa}function oa(S,xa){this._context=S;this._alpha=xa}function q(S){this._context=S}function M(S,xa,Ta){var p=S._x1-S._x0;xa-=S._x1;var R=(S._y1-S._y0)/(p||0>xa&&-0);S=(Ta-S._y1)/(xa||0>p&&-0);return((0>
R?-1:1)+(0>S?-1:1))*Math.min(Math.abs(R),Math.abs(S),.5*Math.abs((R*xa+S*p)/(p+xa)))||0}function Q(S,xa){var Ta=S._x1-S._x0;return Ta?(3*(S._y1-S._y0)/Ta-xa)/2:xa}function g(S,xa,Ta){var p=S._x0,R=S._x1,ja=S._y1,wa=(R-p)/3;S._context.bezierCurveTo(p+wa,S._y0+wa*xa,R-wa,ja-wa*Ta,R,ja)}function u(S){this._context=S}function m(S){this._context=new C(S)}function C(S){this._context=S}function B(S){this._context=S}function A(S){var xa,Ta=S.length-1,p=Array(Ta),R=Array(Ta),ja=Array(Ta);p[0]=0;R[0]=2;ja[0]=
S[0]+2*S[1];for(xa=1;xa<Ta-1;++xa)p[xa]=1,R[xa]=4,ja[xa]=4*S[xa]+2*S[xa+1];p[Ta-1]=2;R[Ta-1]=7;ja[Ta-1]=8*S[Ta-1]+S[Ta];for(xa=1;xa<Ta;++xa){var wa=p[xa]/R[xa-1];R[xa]-=wa;ja[xa]-=wa*ja[xa-1]}p[Ta-1]=ja[Ta-1]/R[Ta-1];for(xa=Ta-2;0<=xa;--xa)p[xa]=(ja[xa]-p[xa+1])/R[xa];R[Ta-1]=(S[Ta]+p[Ta-1])/2;for(xa=0;xa<Ta-1;++xa)R[xa]=2*S[xa+1]-p[xa+1];return[p,R]}function D(S,xa){this._context=S;this._t=xa}function I(S,xa,Ta){S=k.hasOwnProperty(Ve,S)&&Ve[S];var p=null;S&&(p=S.curve||S[xa||"vertical"],S.tension&&
null!=Ta&&(p=p[S.tension](Ta)));return p}function V(S){const xa=[];(S.match(wf)||[]).forEach(Ta=>{let p=Ta[0];var R=p.toLowerCase();const ja=we[R];var wa=Ta.slice(1).trim();Ta=[];for(let E=0;ja&&E<wa.length;)for(let ia=0;ia<ja;++ia){var r="a"!==R||3!==ia&&4!==ia?Pf:ag;r=wa.slice(E).match(r);if(null===r)throw Error("Invalid SVG path, incorrect parameter type");E+=r[0].length;Ta.push(+r[0]);r=wa.slice(E).match(af);null!==r&&(E+=r[0].length)}wa=Ta.length;if(wa<ja||wa&&0!==wa%ja)throw Error("Invalid SVG path, incorrect parameter count");
xa.push([p,...Ta.slice(0,ja)]);if(wa!==ja)for("m"===R&&(p="M"===p?"L":"l"),R=ja;R<wa;R+=ja)xa.push([p,...Ta.slice(R,R+ja)])});return xa}function Aa(S,xa,Ta,p,R,ja,wa,r,E){const ia=Jf.call(arguments);if(Cf[ia])return Cf[ia];var l=wa*Vd;const z=Math.sin(l);l=Math.cos(l);Ta=Math.abs(Ta);p=Math.abs(p);var ca=l*(r-S)*.5+z*(E-xa)*.5,na=l*(E-xa)*.5-z*(r-S)*.5;ca=ca*ca/(Ta*Ta)+na*na/(p*p);1<ca&&(ca=Math.sqrt(ca),Ta*=ca,p*=ca);var Va=l/Ta,Ya=z/Ta,Gb=-z/p,ac=l/p;ca=Va*r+Ya*E;na=Gb*r+ac*E;Va=Va*S+Ya*xa;Ya=Gb*
S+ac*xa;Gb=1/((Va-ca)*(Va-ca)+(Ya-na)*(Ya-na))-.25;0>Gb&&(Gb=0);ac=Math.sqrt(Gb);ja==R&&(ac=-ac);Gb=.5*(ca+Va)-ac*(Ya-na);ac=.5*(na+Ya)+ac*(Va-ca);ca=Math.atan2(na-ac,ca-Gb);na=Math.atan2(Ya-ac,Va-Gb)-ca;0>na&&1===ja?na+=jf:0<na&&0===ja&&(na-=jf);Va=Math.ceil(Math.abs(na/(hf+.001)));Ya=[];for(let Tb=0;Tb<Va;++Tb)Ya[Tb]=[Gb,ac,ca+Tb*na/Va,ca+(Tb+1)*na/Va,Ta,p,z,l];return Cf[ia]=Ya}function Y(S,xa,Ta,p,R,ja){var wa=null,r=0,E=0,ia=0,l=0,z=0,ca=0;null==Ta&&(Ta=0);null==p&&(p=0);null==R&&(R=1);null==
ja&&(ja=R);S.beginPath&&S.beginPath();for(var na=0,Va=xa.length;na<Va;++na){var Ya=xa[na];if(1!==R||1!==ja){var Gb=R;var ac=ja;var Tb=Gf[0]=Ya[0];if("a"===Tb||"A"===Tb)Gf[1]=Gb*Ya[1],Gf[2]=ac*Ya[2],Gf[3]=Ya[3],Gf[4]=Ya[4],Gf[5]=Ya[5],Gf[6]=Gb*Ya[6],Gf[7]=ac*Ya[7];else if("h"===Tb||"H"===Tb)Gf[1]=Gb*Ya[1];else if("v"===Tb||"V"===Tb)Gf[1]=ac*Ya[1];else{Tb=1;for(var Bd=Ya.length;Tb<Bd;++Tb)Gf[Tb]=(1==Tb%2?Gb:ac)*Ya[Tb]}Ya=Gf}switch(Ya[0]){case "l":r+=Ya[1];E+=Ya[2];S.lineTo(r+Ta,E+p);break;case "L":r=
Ya[1];E=Ya[2];S.lineTo(r+Ta,E+p);break;case "h":r+=Ya[1];S.lineTo(r+Ta,E+p);break;case "H":r=Ya[1];S.lineTo(r+Ta,E+p);break;case "v":E+=Ya[1];S.lineTo(r+Ta,E+p);break;case "V":E=Ya[1];S.lineTo(r+Ta,E+p);break;case "m":r+=Ya[1];E+=Ya[2];z=r;ca=E;S.moveTo(r+Ta,E+p);break;case "M":r=Ya[1];E=Ya[2];z=r;ca=E;S.moveTo(r+Ta,E+p);break;case "c":Gb=r+Ya[5];ac=E+Ya[6];ia=r+Ya[3];l=E+Ya[4];S.bezierCurveTo(r+Ya[1]+Ta,E+Ya[2]+p,ia+Ta,l+p,Gb+Ta,ac+p);r=Gb;E=ac;break;case "C":r=Ya[5];E=Ya[6];ia=Ya[3];l=Ya[4];S.bezierCurveTo(Ya[1]+
Ta,Ya[2]+p,ia+Ta,l+p,r+Ta,E+p);break;case "s":Gb=r+Ya[3];ac=E+Ya[4];ia=2*r-ia;l=2*E-l;S.bezierCurveTo(ia+Ta,l+p,r+Ya[1]+Ta,E+Ya[2]+p,Gb+Ta,ac+p);ia=r+Ya[1];l=E+Ya[2];r=Gb;E=ac;break;case "S":Gb=Ya[3];ac=Ya[4];ia=2*r-ia;l=2*E-l;S.bezierCurveTo(ia+Ta,l+p,Ya[1]+Ta,Ya[2]+p,Gb+Ta,ac+p);r=Gb;E=ac;ia=Ya[1];l=Ya[2];break;case "q":Gb=r+Ya[3];ac=E+Ya[4];ia=r+Ya[1];l=E+Ya[2];S.quadraticCurveTo(ia+Ta,l+p,Gb+Ta,ac+p);r=Gb;E=ac;break;case "Q":Gb=Ya[3];ac=Ya[4];S.quadraticCurveTo(Ya[1]+Ta,Ya[2]+p,Gb+Ta,ac+p);r=
Gb;E=ac;ia=Ya[1];l=Ya[2];break;case "t":Gb=r+Ya[1];ac=E+Ya[2];null===wa[0].match(/[QqTt]/)?(ia=r,l=E):"t"===wa[0]?(ia=2*r-Xc,l=2*E-Rd):"q"===wa[0]&&(ia=2*r-ia,l=2*E-l);var Xc=ia;var Rd=l;S.quadraticCurveTo(ia+Ta,l+p,Gb+Ta,ac+p);r=Gb;E=ac;ia=r+Ya[1];l=E+Ya[2];break;case "T":Gb=Ya[1];ac=Ya[2];ia=2*r-ia;l=2*E-l;S.quadraticCurveTo(ia+Ta,l+p,Gb+Ta,ac+p);r=Gb;E=ac;break;case "a":t(S,r+Ta,E+p,[Ya[1],Ya[2],Ya[3],Ya[4],Ya[5],Ya[6]+r+Ta,Ya[7]+E+p]);r+=Ya[6];E+=Ya[7];break;case "A":t(S,r+Ta,E+p,[Ya[1],Ya[2],
Ya[3],Ya[4],Ya[5],Ya[6]+Ta,Ya[7]+p]);r=Ya[6];E=Ya[7];break;case "z":case "Z":r=z,E=ca,S.closePath()}wa=Ya}}function t(S,xa,Ta,p){xa=Aa(p[5],p[6],p[0],p[1],p[3],p[4],p[2],xa,Ta);for(Ta=0;Ta<xa.length;++Ta){a:{var R=xa[Ta];p=Jf.call(R);if(Qf[p]){p=Qf[p];break a}var ja=R[0],wa=R[1],r=R[2],E=R[3],ia=R[4],l=R[5],z=R[6],ca=R[7];R=ca*ia;const Va=-z*l;ia*=z;l*=ca;var na=Math.cos(r);const Ya=Math.sin(r);z=Math.cos(E);ca=Math.sin(E);r=.5*(E-r);E=Math.sin(.5*r);E=8/3*E*E/Math.sin(r);r=ja+na-E*Ya;na=wa+Ya+E*
na;ja+=z;wa+=ca;ca=ja+E*ca;z=wa-E*z;p=Qf[p]=[R*r+Va*na,ia*r+l*na,R*ca+Va*z,ia*ca+l*z,R*ja+Va*wa,ia*ja+l*wa]}S.bezierCurveTo(p[0],p[1],p[2],p[3],p[4],p[5])}}function L(S){return k.hasOwnProperty(Bg,S)?Bg[S]:va(S)}function va(S){if(!k.hasOwnProperty(sg,S)){const xa=V(S);sg[S]={draw:function(Ta,p){Y(Ta,xa,0,0,Math.sqrt(p)/2)}}}return sg[S]}function La(S){return S.x}function Wa(S){return S.y}function $a(S){return S.width}function X(S){return S.height}function Ca(S){return"function"===typeof S?S:()=>+S}
function Xa(S,xa,Ta){return Math.max(xa,Math.min(S,Ta))}function Ib(){function S(l,z,ca){var na;z=null!=z?z:+xa.call(this,l);ca=null!=ca?ca:+Ta.call(this,l);var Va=+p.call(this,l),Ya=+R.call(this,l),Gb=Math.min(Va,Ya)/2,ac=Xa(+ja.call(this,l),0,Gb),Tb=Xa(+wa.call(this,l),0,Gb),Bd=Xa(+r.call(this,l),0,Gb);l=Xa(+E.call(this,l),0,Gb);ia||(ia=na=uc());0>=ac&&0>=Tb&&0>=Bd&&0>=l?ia.rect(z,ca,Va,Ya):(Va=z+Va,Ya=ca+Ya,ia.moveTo(z+ac,ca),ia.lineTo(Va-Tb,ca),ia.bezierCurveTo(Va-.448084975506*Tb,ca,Va,ca+.448084975506*
Tb,Va,ca+Tb),ia.lineTo(Va,Ya-l),ia.bezierCurveTo(Va,Ya-.448084975506*l,Va-.448084975506*l,Ya,Va-l,Ya),ia.lineTo(z+Bd,Ya),ia.bezierCurveTo(z+.448084975506*Bd,Ya,z,Ya-.448084975506*Bd,z,Ya-Bd),ia.lineTo(z,ca+ac),ia.bezierCurveTo(z,ca+.448084975506*ac,z+.448084975506*ac,ca,z+ac,ca),ia.closePath());if(na)return ia=null,na+""||null}var xa=La,Ta=Wa,p=$a,R=X,ja=Ca(0),wa=ja,r=ja,E=ja,ia=null;S.x=function(l){return arguments.length?(xa=Ca(l),S):xa};S.y=function(l){return arguments.length?(Ta=Ca(l),S):Ta};
S.width=function(l){return arguments.length?(p=Ca(l),S):p};S.height=function(l){return arguments.length?(R=Ca(l),S):R};S.cornerRadius=function(l,z,ca,na){return arguments.length?(ja=Ca(l),wa=null!=z?Ca(z):ja,E=null!=ca?Ca(ca):ja,r=null!=na?Ca(na):wa,S):ja};S.context=function(l){return arguments.length?(ia=null==l?null:l,S):ia};return S}function yc(){function S(l){var z,ca=l.length,na,Va=!1,Ya;null==ja&&(ja=Ya=uc());for(z=0;z<=ca;++z)if(!(z<ca&&R(na=l[z],z,l))===Va&&(Va=!Va)&&(wa=0),Va){var Gb=+xa(na,
z,l),ac=+Ta(na,z,l);const Ce=+p(na,z,l)/2;if(wa){var Tb=E-ac,Bd=Gb-r;if(Tb||Bd){var Xc=Math.sqrt(Tb*Tb+Bd*Bd),Rd=(Tb/=Xc)*ia;Xc=(Bd/=Xc)*ia;var te=Math.atan2(Bd,Tb);ja.moveTo(r-Rd,E-Xc);ja.lineTo(Gb-Tb*Ce,ac-Bd*Ce);ja.arc(Gb,ac,Ce,te-Math.PI,te);ja.lineTo(r+Rd,E+Xc);ja.arc(r,E,ia,te,te+Math.PI)}else ja.arc(Gb,ac,Ce,0,jf);ja.closePath()}else wa=1;r=Gb;E=ac;ia=Ce}if(Ya)return ja=null,Ya+""||null}var xa,Ta,p,R,ja=null,wa,r,E,ia;S.x=function(l){return arguments.length?(xa=l,S):xa};S.y=function(l){return arguments.length?
(Ta=l,S):Ta};S.size=function(l){return arguments.length?(p=l,S):p};S.defined=function(l){return arguments.length?(R=l,S):R};S.context=function(l){return arguments.length?(ja=null==l?null:l,S):ja};return S}function qc(S,xa){return null!=S?S:xa}function xc(S){return S.cornerRadius||S.cornerRadiusTopLeft||S.cornerRadiusTopRight||S.cornerRadiusBottomRight||S.cornerRadiusBottomLeft}function dd(S,xa,Ta,p){return ra.context(S)(xa,Ta,p)}function Zb(S,xa,Ta){var p=xa.clip;S=S._defs;xa=xa.clip_id||(xa.clip_id=
"clip"+id++);S=S.clipping[xa]||(S.clipping[xa]={id:xa});k.isFunction(p)?S.path=p(null):xc(Ta)?S.path=dd(null,Ta,0,0):(S.width=Ta.width||0,S.height=Ta.height||0);return"url(#"+xa+")"}function Rc(S){this.clear();S&&this.union(S)}function Pd(S){this.mark=S;this.bounds=this.bounds||new Rc}function Na(S){Pd.call(this,S);this.items=this.items||[]}function Ub(S){this._pending=0;this._loader=S||jb.loader()}function qb(S,xa,Ta){if(xa.stroke&&0!==xa.opacity&&0!==xa.strokeOpacity){const p=null!=xa.strokeWidth?
+xa.strokeWidth:1;S.expand(p+(Ta?xa.strokeJoin&&"miter"!==xa.strokeJoin?0:p:0))}return S}function Sb(S,xa){ne=S;xa?(Ff=xa*Vd,Ne=Xf=Math.cos(Ff),eg=Math.sin(Ff),Sf=-eg):(Ne=Xf=1,Ff=eg=Sf=0);return Ie}function ic(S,xa,Ta,p){Ta=(S-xa)/(S+Ta-2*xa);0<Ta&&1>Ta&&p(S+(xa-S)*Ta)}function dc(S,xa,Ta,p,R){const ja=p-S+3*xa-3*Ta,wa=S+Ta-2*xa;var r=S-xa;let E=0,ia=0;1E-14<Math.abs(ja)?(r=wa*wa+r*ja,0<=r&&(r=Math.sqrt(r),E=(-wa+r)/ja,ia=(-wa-r)/ja)):E=.5*r/wa;0<E&&1>E&&R(Ic(E,S,xa,Ta,p));0<ia&&1>ia&&R(Ic(ia,S,
xa,Ta,p))}function Ic(S,xa,Ta,p,R){const ja=1-S,wa=ja*ja,r=S*S;return wa*ja*xa+3*wa*S*Ta+3*ja*r*p+r*S*R}function zc(S){return function(xa,Ta){if(!ye)return!0;S(ye,xa);Kf.clear().union(xa.bounds).intersect(Ta).round();const {x1:p,y1:R,x2:ja,y2:wa}=Kf;for(xa=R;xa<=wa;++xa)for(Ta=p;Ta<=ja;++Ta)if(ye.isPointInPath(Ta,xa))return!0;return!1}}function Yc(S,xa){return xa.contains(S.x||0,S.y||0)}function Md(S,xa){const Ta=S.x||0,p=S.y||0;return xa.intersects(Kf.set(Ta,p,Ta+(S.width||0),p+(S.height||0)))}function ud(S,
xa){const Ta=S.x||0,p=S.y||0;return Ha(xa,Ta,p,null!=S.x2?S.x2:Ta,null!=S.y2?S.y2:p)}function Ha(S,xa,Ta,p,R){const {x1:ja,y1:wa,x2:r,y2:E}=S;S=p-xa;R-=Ta;p=0;let ia=1,l,z,ca,na;for(na=0;4>na;++na){0===na&&(l=-S,z=-(ja-xa));1===na&&(l=S,z=r-xa);2===na&&(l=-R,z=-(wa-Ta));3===na&&(l=R,z=E-Ta);if(1E-10>Math.abs(l)&&0>z)return!1;ca=z/l;if(0>l){if(ca>ia)return!1;ca>p&&(p=ca)}else if(0<l){if(ca<p)return!1;ca<ia&&(ia=ca)}}return!0}function gb(S,xa){S.globalCompositeOperation=xa.blend||"source-over"}function vb(S,
xa){return null==S?xa:S}function ta(S,xa){const Ta=xa.length;for(let p=0;p<Ta;++p)S.addColorStop(xa[p].offset,xa[p].color);return S}function F(S,xa,Ta){const p=Ta.width(),R=Ta.height();if("radial"===xa.gradient)S=S.createRadialGradient(Ta.x1+vb(xa.x1,.5)*p,Ta.y1+vb(xa.y1,.5)*R,Math.max(p,R)*vb(xa.r1,0),Ta.x1+vb(xa.x2,.5)*p,Ta.y1+vb(xa.y2,.5)*R,Math.max(p,R)*vb(xa.r2,.5));else{const ja=vb(xa.x1,0),wa=vb(xa.y1,0),r=vb(xa.x2,1),E=vb(xa.y2,0);if(ja===r||wa===E||p===R)S=S.createLinearGradient(Ta.x1+ja*
p,Ta.y1+wa*R,Ta.x1+r*p,Ta.y1+E*R);else{Ta=P.canvas(Math.ceil(p),Math.ceil(R));const ia=Ta.getContext("2d");ia.scale(p,R);ia.fillStyle=ta(ia.createLinearGradient(ja,wa,r,E),xa.stops);ia.fillRect(0,0,p,R);return S.createPattern(Ta,"no-repeat")}}return ta(S,xa.stops)}function ya(S,xa,Ta){Ta*=null==xa.fillOpacity?1:xa.fillOpacity;return 0<Ta?(S.globalAlpha=Ta,xa=(Ta=xa.fill)&&Ta.gradient?F(S,Ta,xa.bounds):Ta,S.fillStyle=xa,!0):!1}function Oa(S,xa,Ta){var p=null!=(p=xa.strokeWidth)?p:1;if(0>=p)return!1;
Ta*=null==xa.strokeOpacity?1:xa.strokeOpacity;return 0<Ta?(S.globalAlpha=Ta,Ta=(Ta=xa.stroke)&&Ta.gradient?F(S,Ta,xa.bounds):Ta,S.strokeStyle=Ta,S.lineWidth=p,S.lineCap=xa.strokeCap||"butt",S.lineJoin=xa.strokeJoin||"miter",S.miterLimit=xa.strokeMiterLimit||10,S.setLineDash&&(S.setLineDash(xa.strokeDash||yf),S.lineDashOffset=xa.strokeDashOffset||0),!0):!1}function Za(S,xa){return S.zindex-xa.zindex||S.index-xa.index}function kb(S){if(!S.zdirty)return S.zitems;var xa=S.items,Ta=[],p;var R=0;for(p=
xa.length;R<p;++R){var ja=xa[R];ja.index=R;ja.zindex&&Ta.push(ja)}S.zdirty=!1;return S.zitems=Ta.sort(Za)}function Eb(S,xa){var Ta=S.items,p;if(Ta&&Ta.length){var R=kb(S);if(R&&R.length){S=0;for(p=Ta.length;S<p;++S)Ta[S].zindex||xa(Ta[S]);Ta=R}S=0;for(p=Ta.length;S<p;++S)xa(Ta[S])}}function oc(S,xa){var Ta=S.items,p,R;if(!Ta||!Ta.length)return null;const ja=kb(S);ja&&ja.length&&(Ta=ja);for(R=Ta.length;0<=--R;)if(p=xa(Ta[R]))return p;if(Ta===ja)for(Ta=S.items,R=Ta.length;0<=--R;)if(!Ta[R].zindex&&
(p=xa(Ta[R])))return p;return null}function ec(S){return function(xa,Ta,p){Eb(Ta,R=>{p&&!p.intersects(R.bounds)||Sc(S,xa,R,R)})}}function jc(S){return function(xa,Ta,p){!Ta.items.length||p&&!p.intersects(Ta.bounds)||Sc(S,xa,Ta.items[0],Ta.items)}}function Sc(S,xa,Ta,p){var R=null==Ta.opacity?1:Ta.opacity;0===R||S(xa,p)||(gb(xa,Ta),Ta.fill&&ya(xa,Ta,R)&&xa.fill(),Ta.stroke&&Oa(xa,Ta,R)&&xa.stroke())}function ed(S){S=S||k.truthy;return function(xa,Ta,p,R,ja,wa){p*=xa.pixelRatio;R*=xa.pixelRatio;return oc(Ta,
r=>{const E=r.bounds;if((!E||E.contains(ja,wa))&&E&&S(xa,r,p,R,ja,wa))return r})}}function fd(S,xa){return function(Ta,p,R,ja){var wa=Array.isArray(p)?p[0]:p,r=null==xa?wa.fill:xa,E=wa.stroke&&Ta.isPointInStroke;if(E){var ia=wa.strokeWidth;wa=wa.strokeCap;Ta.lineWidth=null!=ia?ia:1;Ta.lineCap=null!=wa?wa:"butt"}return S(Ta,p)?!1:r&&Ta.isPointInPath(R,ja)||E&&Ta.isPointInStroke(R,ja)}}function Qd(S,xa){return"translate("+S+","+xa+")"}function Td(S,xa,Ta){function p(R,ja){var wa=ja.x||0,r=ja.y||0,E=
ja.angle||0;R.translate(wa,r);E&&R.rotate(E*=Vd);R.beginPath();xa(R,ja);E&&R.rotate(-E);R.translate(-wa,-r)}return{type:S,tag:"path",nested:!1,attr:function(R,ja){var wa=Qd(ja.x||0,ja.y||0)+(ja.angle?" rotate("+(ja.angle+")"):"");R("transform",wa);R("d",xa(null,ja))},bound:function(R,ja){xa(Sb(R,ja.angle),ja);return qb(R,ja).translate(ja.x||0,ja.y||0)},draw:ec(p),pick:ed(fd(p)),isect:Ta||zc(p)}}function Ed(S,xa,Ta){function p(ja,wa){ja.beginPath();xa(ja,wa)}const R=fd(p);return{type:S,tag:"path",
nested:!0,attr:function(ja,wa){wa=wa.mark.items;wa.length&&ja("d",xa(null,wa))},bound:function(ja,wa){wa=wa.items;if(0===wa.length)return ja;xa(Sb(ja),wa);return qb(ja,wa[0])},draw:jc(p),pick:function(ja,wa,r,E,ia,l){var z=wa.items;wa=wa.bounds;if(!z||!z.length||wa&&!wa.contains(ia,l))return null;r*=ja.pixelRatio;E*=ja.pixelRatio;return R(ja,z,r,E)?z[0]:null},isect:Yc,tip:Ta}}function Yd(S,xa){S.beginPath();xc(xa)?dd(S,xa,0,0):S.rect(0,0,xa.width||0,xa.height||0);S.clip()}function ae(S){const xa=
vb(S.strokeWidth,1);return null!=S.strokeOffset?S.strokeOffset:S.stroke&&.5<xa&&1.5>xa?.5-Math.abs(xa-1):0}function Ud(S,xa,Ta,p){const R=ae(xa);S.beginPath();dd(S,xa,(Ta||0)+R,(p||0)+R)}function Xe(S,xa){var Ta=S.image;if(!Ta||S.url&&S.url!==Ta.url)Ta={complete:!1,width:0,height:0},xa.loadImage(S.url).then(p=>{S.image=p;S.image.url=S.url});return Ta}function Wd(S,xa){return null!=S.width?S.width:xa&&xa.width?!1!==S.aspect&&S.height?S.height*xa.width/xa.height:xa.width:0}function N(S,xa){return null!=
S.height?S.height:xa&&xa.height?!1!==S.aspect&&S.width?S.width*xa.height/xa.width:xa.height:0}function ma(S,xa){return"center"===S?xa/2:"right"===S?xa:0}function za(S,xa){return"middle"===S?xa/2:"bottom"===S?xa:0}function fb(S,xa){var Ta=xa.path;if(null==Ta)return!0;var p=xa.x||0,R=xa.y||0,ja=xa.scaleX||1,wa=xa.scaleY||1,r=(xa.angle||0)*Vd,E=xa.pathCache;E&&E.path===Ta||((xa.pathCache=E=V(Ta)).path=Ta);r&&S.rotate&&S.translate?(S.translate(p,R),S.rotate(r),Y(S,E,0,0,ja,wa),S.rotate(-r),S.translate(-p,
-R)):Y(S,E,p,R,ja,wa)}function Hb(S,xa){S.beginPath();dd(S,xa)}function Xb(S,xa,Ta){if(xa.stroke&&Oa(S,xa,Ta)){Ta=xa.x||0;var p=xa.y||0;var R=null!=xa.x2?xa.x2:Ta;xa=null!=xa.y2?xa.y2:p;S.beginPath();S.moveTo(Ta,p);S.lineTo(R,xa);return!0}return!1}function Cc(S){Bh.width=S&&ye?Hc:mc}function mc(S,xa){xa=Fd(S,xa);S=Nc(S);return~~(.8*xa.length*S)}function Hc(S,xa){return 0>=Nc(S)||!(xa=Fd(S,xa))?0:jd(xa,qe(S))}function jd(S,xa){const Ta=`(${xa}) ${S}`;let p=sh.get(Ta);void 0===p&&(ye.font=xa,p=ye.measureText(S).width,
sh.set(Ta,p));return p}function Nc(S){return null!=S.fontSize?+S.fontSize||0:11}function vd(S){return null!=S.lineHeight?S.lineHeight:Nc(S)+2}function Gd(S){S=S.lineBreak&&S.text&&!k.isArray(S.text)?S.text.split(S.lineBreak):S.text;return k.isArray(S)?1<S.length?S:S[0]:S}function Fd(S,xa){xa=null==xa?"":(xa+"").trim();if(0<S.limit&&xa.length){var Ta=+S.limit,p=Xd(S);if(!(p(xa)<Ta)){var R=S.ellipsis||"",ja="rtl"===S.dir;S=0;var wa=xa.length;Ta-=p(R);if(ja){for(;S<wa;)ja=S+wa>>>1,p(xa.slice(ja))>Ta?
S=ja+1:wa=ja;xa=R+xa.slice(S)}else{for(;S<wa;)ja=1+(S+wa>>>1),p(xa.slice(0,ja))<Ta?S=ja:wa=ja-1;xa=xa.slice(0,S)+R}}}return xa}function Xd(S){if(Bh.width===Hc){const Ta=qe(S);return p=>jd(p,Ta)}const xa=Nc(S);return Ta=>~~(.8*Ta.length*xa)}function Nd(S,xa){S=S.font;return(xa&&S?String(S).replace(/"/g,"'"):S)||"sans-serif"}function qe(S,xa){return(S.fontStyle?S.fontStyle+" ":"")+(S.fontVariant?S.fontVariant+" ":"")+(S.fontWeight?S.fontWeight+" ":"")+Nc(S)+"px "+Nd(S,xa)}function De(S){var xa=S.baseline,
Ta=Nc(S);return Math.round("top"===xa?.79*Ta:"middle"===xa?.3*Ta:"bottom"===xa?-.21*Ta:"line-top"===xa?.29*Ta+.5*vd(S):"line-bottom"===xa?.29*Ta-.5*vd(S):0)}function gf(S){var xa=S.x||0,Ta=S.y||0,p=S.radius||0;p&&(S=(S.theta||0)-hf,xa+=p*Math.cos(S),Ta+=p*Math.sin(S));eh.x1=xa;eh.y1=Ta;return eh}function cf(S,xa,Ta){var p=Bh.height(xa),R=xa.align,ja=gf(xa),wa=ja.x1;ja=ja.y1;var r=xa.dx||0,E=(xa.dy||0)+De(xa)-Math.round(.8*p),ia=Gd(xa);k.isArray(ia)?(p+=vd(xa)*(ia.length-1),ia=ia.reduce((l,z)=>Math.max(l,
Bh.width(xa,z)),0)):ia=Bh.width(xa,ia);"center"===R?r-=ia/2:"right"===R&&(r-=ia);S.set(r+=wa,E+=ja,r+ia,E+p);if(xa.angle&&!Ta)S.rotate(xa.angle*Vd,wa,ja);else if(2===Ta)return S.rotatedPoints(xa.angle*Vd,wa,ja);return S}function df(S,xa,Ta){var p=Fg[S.mark.marktype];xa=xa||p.bound;p.nested&&(S=S.mark);return xa(S.bounds||(S.bounds=new Rc),S,Ta)}function pe(S,xa,Ta){var p=Fg[S.marktype],R=p.bound,ja=S.items,wa=ja&&ja.length;if(p.nested)return wa?S=ja[0]:(Mh.mark=S,S=Mh),Ta=df(S,R,Ta),xa=xa&&xa.union(Ta)||
Ta;xa=xa||S.bounds&&S.bounds.clear()||new Rc;if(wa)for(p=0,wa=ja.length;p<wa;++p)xa.union(df(ja[p],R,Ta));return S.bounds=xa}function nf(S,xa){return JSON.stringify(S,Xh,xa)}function U(S){S="string"===typeof S?JSON.parse(S):S;return ua(S)}function ua(S){var xa=S.marktype,Ta=S.items,p;if(Ta){var R=0;for(p=Ta.length;R<p;++R){var ja=xa?"mark":"group";Ta[R][ja]=S;Ta[R].zindex&&(Ta[R][ja].zdirty=!0);"group"===(xa||ja)&&ua(Ta[R])}}xa&&pe(S);return S}function cb(S){arguments.length?this.root=U(S):(this.root=
yb({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Na(this.root)])}function yb(S,xa){xa={bounds:new Rc,clip:!!S.clip,group:xa,interactive:!1===S.interactive?!1:!0,items:[],marktype:S.marktype,name:S.name||void 0,role:S.role||void 0,zindex:S.zindex||0};null!=S.aria&&(xa.aria=S.aria);S.description&&(xa.description=S.description);return xa}function gc(S,xa,Ta){!S&&"undefined"!==typeof document&&document.createElement&&(S=document);return S?Ta?S.createElementNS(Ta,xa):S.createElement(xa):
null}function Ec(S,xa){xa=xa.toLowerCase();S=S.childNodes;for(var Ta=0,p=S.length;Ta<p;++Ta)if(S[Ta].tagName.toLowerCase()===xa)return S[Ta]}function $b(S,xa,Ta,p){xa=S.childNodes[xa];if(!xa||xa.tagName.toLowerCase()!==Ta.toLowerCase()){var R=xa||null;xa=gc(S.ownerDocument,Ta,p);S.insertBefore(xa,R)}return xa}function J(S,xa){for(var Ta=S.childNodes,p=Ta.length;p>xa;)S.removeChild(Ta[--p]);return S}function fa(S){return"mark-"+S.marktype+(S.role?" role-"+S.role:"")+(S.name?" "+S.name:"")}function Sa(S,
xa){const Ta=xa.getBoundingClientRect();return[S.clientX-Ta.left-(xa.clientLeft||0),S.clientY-Ta.top-(xa.clientTop||0)]}function cc(S,xa){this._active=null;this._handlers={};this._loader=S||jb.loader();this._tooltip=xa||Jc}function Jc(S,xa,Ta,p){S.element().setAttribute("title",p||"")}function Ac(S){this._bgcolor=this._el=null;this._loader=new Ub(S)}function $c(S,xa){cc.call(this,S,xa);this._touch=this._down=null;this._first=!0;this._events={}}function pd(S,xa){("touchstart"===xa||"touchmove"===xa||
"touchend"===xa?["touchstart","touchmove","touchend"]:[xa]).forEach(Ta=>ee(S,Ta))}function ee(S,xa){const Ta=S.canvas();Ta&&!S._events[xa]&&(S._events[xa]=1,Ta.addEventListener(xa,S[xa]?p=>S[xa](p):p=>S.fire(xa,p)))}function Ra(S,xa,Ta){return function(p){const R=this._active,ja=this.pickEvent(p);ja!==R&&(R&&R.exit||this.fire(Ta,p),this._active=ja,this.fire(xa,p));this.fire(S,p)}}function db(S){return function(xa){this.fire(S,xa);this._active=null}}function pc(S){Ac.call(this,S);this._options={};
this._redraw=!1;this._dirty=new Rc;this._tempb=new Rc}function wd(S,xa){cc.call(this,S,xa);const Ta=this;Ta._hrefHandler=lh(Ta,(p,R)=>{R&&R.href&&Ta.handleHref(p,R,R.href)});Ta._tooltipHandler=lh(Ta,(p,R)=>{Ta.handleTooltip(p,R,"mouseout"!==p.type)})}function Mc(S,xa){var Ta=!1===xa.aria;S("aria-hidden",Ta||void 0);if(Ta||null==xa.description)for(const p in Dh)S(Dh[p],void 0);else Ta=xa.mark.marktype,S("aria-label",xa.description),S("role",xa.ariaRole||("group"===Ta?"graphics-object":"graphics-symbol")),
S("aria-roledescription",xa.ariaRoleDescription||`${Ta} mark`)}function Uc(S){return!1===S.aria?{["aria-hidden"]:!0}:Gg[S.role]?null:Nh[S.role]?td(S,Nh[S.role]):Qc(S)}function Qc(S){const xa=S.marktype,Ta="group"===xa||"text"===xa||S.items.some(p=>null!=p.description&&!1!==p.aria);return Ch(Ta?"graphics-object":"graphics-symbol",`${xa} mark container`,S.description)}function td(S,xa){try{const Ta=S.items[0],p=xa.caption||(()=>"");return Ch(xa.role||"graphics-symbol",xa.desc,Ta.description||p(Ta))}catch(Ta){return null}}
function kd(S){try{return k.array(k.peek(S.items).items[0].text).join(" ")}catch(xa){return null}}function Ld(S){S=S.map(xa=>xa+("fill"===xa||"stroke"===xa?" color":""));return 2>S.length?S[0]:S.slice(0,-1).join(", ")+" and "+k.peek(S)}function Cd(){let S="",xa="",Ta="";const p=[],R=(wa,r)=>{null!=r&&(xa+=` ${wa}="${Hg(r).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return ja},ja={open(wa,...r){xa&&(S+=`${xa}>${Ta}`,xa=Ta="");p.push(wa);
xa="\x3c"+wa;for(const E of r)for(const ia in E)R(ia,E[ia]);return ja},close(){const wa=p.pop();S=xa?S+(xa+(Ta?`>${Ta}</${wa}>`:"/\x3e")):S+`</${wa}>`;xa=Ta="";return ja},attr:R,text:wa=>(Ta+=Hg(wa),ja),toString:()=>S};return ja}function be(S,xa){S.open(xa.tagName);if(xa.hasAttributes()){const Ta=xa.attributes,p=Ta.length;for(let R=0;R<p;++R)S.attr(Ta[R].name,Ta[R].value)}if(xa.hasChildNodes()){xa=xa.childNodes;for(const Ta of xa)3===Ta.nodeType?S.text(Ta.nodeValue):be(S,Ta)}return S.close()}function ve(S){Ac.call(this,
S);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Me(S,xa){for(;S&&S.dirty!==xa;S=S.mark.group)if(S.dirty=xa,S.mark&&S.mark.dirty!==xa)S.mark.dirty=xa;else break}function $e(S,xa,Ta){xa=xa.lastChild.previousSibling;let p,R=0;Eb(Ta,ja=>{p=S.mark(xa,ja,p);++R});J(xa,1+R)}function sf(S,xa,Ta,p,R){let ja=S._svg;if(!ja){var wa=xa.ownerDocument;ja=gc(wa,p,Yf);S._svg=ja;S.mark&&(ja.__data__=S,ja.__values__={fill:"default"},"g"===p&&(p=gc(wa,"path",Yf),ja.appendChild(p),p.__data__=
S,p=gc(wa,"g",Yf),ja.appendChild(p),p.__data__=S,wa=gc(wa,"path",Yf),ja.appendChild(wa),wa.__data__=S,wa.__values__={fill:"default"}))}(ja.ownerSVGElement!==R||ja.parentNode&&1<ja.parentNode.childNodes.length&&ja.previousSibling!=Ta)&&xa.insertBefore(ja,Ta?Ta.nextSibling:xa.firstChild);return ja}function nd(S,xa,Ta){if(xa!==qf[S]){if(Ta){var p=$g;null!=xa?p.setAttributeNS(Ta,S,xa):p.removeAttributeNS(Ta,S)}else Gc($g,S,xa);qf[S]=xa}}function Fc(S,xa,Ta){Ta!==qf[xa]&&(null==Ta?S.style.removeProperty(xa):
S.style.setProperty(xa,Ta+""),qf[xa]=Ta)}function bd(S,xa){for(const Ta in xa)Gc(S,Ta,xa[Ta])}function Gc(S,xa,Ta){null!=Ta?S.setAttribute(xa,Ta):S.removeAttribute(xa)}function Jd(){let S;return"undefined"===typeof window?"":(S=window.location).hash?S.href.slice(0,-S.hash.length):S.href}function Zd(S){Ac.call(this,S);this._text=null;this._defs={gradient:{},clipping:{}}}function $d(S,xa,Ta,p,R){let ja;if(null==xa)return S;"bgrect"===p&&!1===Ta.interactive&&(S["pointer-events"]="none");if("bgfore"===
p&&(!1===Ta.interactive&&(S["pointer-events"]="none"),S.display="none",null!==xa.fill))return S;"image"===p&&!1===xa.smooth&&(ja=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===p&&(S["font-family"]=Nd(xa),S["font-size"]=Nc(xa)+"px",S["font-style"]=xa.fontStyle,S["font-variant"]=xa.fontVariant,S["font-weight"]=xa.fontWeight);for(const wa in Yh)Ta=xa[wa],p=Yh[wa],("transparent"!==Ta||"fill"!==p&&"stroke"!==p)&&null!=Ta&&(Ta&&Ta.gradient&&(Ta=bc(Ta,R.gradient,"")),S[p]=Ta);
for(const wa in fh)R=xa[wa],null!=R&&(ja=ja||[],ja.push(`${fh[wa]}: ${R};`));ja&&(S.style=ja.join(" "));return S}function ke(S,xa,Ta,p){if(S.bounds&&xa.intersects(S.bounds)&&("group"===S.marktype||!1!==S.interactive&&(!Ta||Ta(S)))){const ja=S.items;var R=S.marktype;S=ja.length;let wa=0;if("group"===R)for(;wa<S;++wa)O(ja[wa],xa,Ta,p);else for(Ta=Fg[R].isect;wa<S;++wa)R=ja[wa],da(R,xa,Ta)&&p.push(R)}return p}function O(S,xa,Ta,p){Ta&&Ta(S.mark)&&da(S,xa,Fg.group.isect)&&p.push(S);const R=S.items,ja=
R&&R.length;if(ja){const wa=S.x||0;S=S.y||0;xa.translate(-wa,-S);for(let r=0;r<ja;++r)ke(R[r],xa,Ta,p);xa.translate(wa,S)}return p}function da(S,xa,Ta){const p=S.bounds;return xa.encloses(p)||xa.intersects(p)&&Ta(S,xa)}function H(S,xa,Ta){return S===xa?!0:"path"===Ta?ka(S,xa):S instanceof Date&&xa instanceof Date?+S===+xa:k.isNumber(S)&&k.isNumber(xa)?1E-9>=Math.abs(S-xa):S&&xa&&(k.isObject(S)||k.isObject(xa))?la(S,xa):S==xa}function ka(S,xa){return H(V(S),V(xa))}function la(S,xa){var Ta=Object.keys(S),
p=Object.keys(xa),R;if(Ta.length!==p.length)return!1;Ta.sort();p.sort();for(R=Ta.length-1;0<=R;R--)if(Ta[R]!=p[R])return!1;for(R=Ta.length-1;0<=R;R--)if(p=Ta[R],!H(S[p],xa[p],p))return!1;return typeof S===typeof xa}let Ja=0;const hb=Math.PI,fc=2*hb,rc=fc-1E-6;Bc.prototype=uc.prototype={constructor:Bc,moveTo:function(S,xa){this._+="M"+(this._x0=this._x1=+S)+","+(this._y0=this._y1=+xa)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(S,xa){this._+=
"L"+(this._x1=+S)+","+(this._y1=+xa)},quadraticCurveTo:function(S,xa,Ta,p){this._+="Q"+ +S+","+ +xa+","+(this._x1=+Ta)+","+(this._y1=+p)},bezierCurveTo:function(S,xa,Ta,p,R,ja){this._+="C"+ +S+","+ +xa+","+ +Ta+","+ +p+","+(this._x1=+R)+","+(this._y1=+ja)},arcTo:function(S,xa,Ta,p,R){S=+S;xa=+xa;Ta=+Ta;p=+p;R=+R;var ja=this._x1,wa=this._y1,r=Ta-S,E=p-xa,ia=ja-S,l=wa-xa,z=ia*ia+l*l;if(0>R)throw Error("negative radius: "+R);if(null===this._x1)this._+="M"+(this._x1=S)+","+(this._y1=xa);else if(1E-6<
z)if(1E-6<Math.abs(l*r-E*ia)&&R){Ta-=ja;p-=wa;var ca=r*r+E*E;wa=Math.sqrt(ca);ja=Math.sqrt(z);z=R*Math.tan((hb-Math.acos((ca+z-(Ta*Ta+p*p))/(2*wa*ja)))/2);ja=z/ja;z/=wa;1E-6<Math.abs(ja-1)&&(this._+="L"+(S+ja*ia)+","+(xa+ja*l));this._+="A"+R+","+R+",0,0,"+ +(l*Ta>ia*p)+","+(this._x1=S+z*r)+","+(this._y1=xa+z*E)}else this._+="L"+(this._x1=S)+","+(this._y1=xa)},arc:function(S,xa,Ta,p,R,ja){S=+S;xa=+xa;Ta=+Ta;ja=!!ja;var wa=Ta*Math.cos(p),r=Ta*Math.sin(p),E=S+wa,ia=xa+r,l=1^ja;p=ja?p-R:R-p;if(0>Ta)throw Error("negative radius: "+
Ta);if(null===this._x1)this._+="M"+E+","+ia;else if(1E-6<Math.abs(this._x1-E)||1E-6<Math.abs(this._y1-ia))this._+="L"+E+","+ia;Ta&&(0>p&&(p=p%fc+fc),p>rc?this._+="A"+Ta+","+Ta+",0,1,"+l+","+(S-wa)+","+(xa-r)+"A"+Ta+","+Ta+",0,1,"+l+","+(this._x1=E)+","+(this._y1=ia):1E-6<p&&(this._+="A"+Ta+","+Ta+",0,"+ +(p>=hb)+","+l+","+(this._x1=S+Ta*Math.cos(R))+","+(this._y1=xa+Ta*Math.sin(R))))},rect:function(S,xa,Ta,p){this._+="M"+(this._x0=this._x1=+S)+","+(this._y0=this._y1=+xa)+"h"+ +Ta+"v"+ +p+"h"+-Ta+
"Z"},toString:function(){return this._}};const tc=Math.abs,Wb=Math.atan2,Dc=Math.cos,yd=Math.max,Zc=Math.min,hd=Math.sin,Ad=Math.sqrt,Hd=Math.PI,Oc=Hd/2,Ee=2*Hd;ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(S,xa){S=+S;xa=+xa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(S,
xa):this._context.moveTo(S,xa);break;case 1:this._point=2;default:this._context.lineTo(S,xa)}}};var Ge={draw(S,xa){xa=Ad(xa/Hd);S.moveTo(xa,0);S.arc(0,0,xa,0,Ee)}};wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:Pa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();
this._line=1-this._line},point:function(S,xa){S=+S;xa=+xa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(S,xa):this._context.moveTo(S,xa);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pa(this,S,xa)}this._x0=this._x1;this._x1=S;this._y0=this._y1;this._y1=xa}};sb.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=
this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(S,xa){S=+S;xa=+xa;switch(this._point){case 0:this._point=
1;this._x2=S;this._y2=xa;break;case 1:this._point=2;this._x3=S;this._y3=xa;break;case 2:this._point=3;this._x4=S;this._y4=xa;this._context.moveTo((this._x0+4*this._x1+S)/6,(this._y0+4*this._y1+xa)/6);break;default:Pa(this,S,xa)}this._x0=this._x1;this._x1=S;this._y0=this._y1;this._y1=xa}};Pb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===
this._point)&&this._context.closePath();this._line=1-this._line},point:function(S,xa){S=+S;xa=+xa;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Ta=(this._x0+4*this._x1+S)/6,p=(this._y0+4*this._y1+xa)/6;this._line?this._context.lineTo(Ta,p):this._context.moveTo(Ta,p);break;case 3:this._point=4;default:Pa(this,S,xa)}this._x0=this._x1;this._x1=S;this._y0=this._y1;this._y1=xa}};Vb.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},
lineEnd:function(){var S=this._x,xa=this._y,Ta=S.length-1;if(0<Ta)for(var p=S[0],R=xa[0],ja=S[Ta]-p,wa=xa[Ta]-R,r=-1,E;++r<=Ta;)E=r/Ta,this._basis.point(this._beta*S[r]+(1-this._beta)*(p+E*ja),this._beta*xa[r]+(1-this._beta)*(R+E*wa));this._x=this._y=null;this._basis.lineEnd()},point:function(S,xa){this._x.push(+S);this._y.push(+xa)}};var Ae=function Ta(xa){function p(R){return 1===xa?new wb(R):new Vb(R,xa)}p.beta=function(R){return Ta(+R)};return p}(.85);qa.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:nb(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(xa,Ta){xa=+xa;Ta=+Ta;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(xa,Ta):this._context.moveTo(xa,Ta);break;
case 1:this._point=2;this._x1=xa;this._y1=Ta;break;case 2:this._point=3;default:nb(this,xa,Ta)}this._x0=this._x1;this._x1=this._x2;this._x2=xa;this._y0=this._y1;this._y1=this._y2;this._y2=Ta}};var Be=function p(Ta){function R(ja){return new qa(ja,Ta)}R.tension=function(ja){return p(+ja)};return R}(0);Z.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Ta,p){Ta=+Ta;p=+p;switch(this._point){case 0:this._point=1;this._x3=Ta;this._y3=p;break;case 1:this._point=2;this._context.moveTo(this._x4=Ta,this._y4=p);break;case 2:this._point=3;this._x5=Ta;this._y5=p;break;default:nb(this,Ta,p)}this._x0=this._x1;this._x1=this._x2;
this._x2=Ta;this._y0=this._y1;this._y1=this._y2;this._y2=p}};var Id=function R(p){function ja(wa){return new Z(wa,p)}ja.tension=function(wa){return R(+wa)};return ja}(0);Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nb(this,p,R)}this._x0=this._x1;this._x1=this._x2;this._x2=p;this._y0=this._y1;this._y1=this._y2;this._y2=R}};var he=function ja(R){function wa(r){return new Fa(r,R)}wa.tension=function(r){return ja(+r)};return wa}(0);eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(R,ja){R=+R;ja=+ja;if(this._point){var wa=this._x2-R,r=this._y2-ja;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(wa*wa+r*r,
this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(R,ja):this._context.moveTo(R,ja);break;case 1:this._point=2;break;case 2:this._point=3;default:Ga(this,R,ja)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=R;this._y0=this._y1;this._y1=this._y2;this._y2=ja}};var xe=function wa(ja){function r(E){return ja?new eb(E,ja):new qa(E,0)}r.alpha=function(E){return wa(+E)};return r}(.5);
ba.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,
this._y4),this.point(this._x5,this._y5)}},point:function(ja,wa){ja=+ja;wa=+wa;if(this._point){var r=this._x2-ja,E=this._y2-wa;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+E*E,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=ja;this._y3=wa;break;case 1:this._point=2;this._context.moveTo(this._x4=ja,this._y4=wa);break;case 2:this._point=3;this._x5=ja;this._y5=wa;break;default:Ga(this,ja,wa)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;
this._x0=this._x1;this._x1=this._x2;this._x2=ja;this._y0=this._y1;this._y1=this._y2;this._y2=wa}};var Le=function r(wa){function E(ia){return wa?new ba(ia,wa):new Z(ia,0)}E.alpha=function(ia){return r(+ia)};return E}(.5);oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||
0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(wa,r){wa=+wa;r=+r;if(this._point){var E=this._x2-wa,ia=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(E*E+ia*ia,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ga(this,wa,r)}this._l01_a=this._l12_a;this._l12_a=
this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=wa;this._y0=this._y1;this._y1=this._y2;this._y2=r}};var of=function E(r){function ia(l){return r?new oa(l,r):new Fa(l,0)}ia.alpha=function(l){return E(+l)};return ia}(.5);q.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,E){r=+r;E=+E;this._point?this._context.lineTo(r,E):(this._point=1,this._context.moveTo(r,
E))}};u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:g(this,this._t0,Q(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(r,E){var ia=NaN;r=+r;E=+E;if(r!==this._x1||E!==this._y1){switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(r,E):this._context.moveTo(r,E);break;case 1:this._point=2;break;case 2:this._point=3;g(this,Q(this,ia=M(this,r,E)),ia);break;default:g(this,this._t0,ia=M(this,r,E))}this._x0=this._x1;this._x1=r;this._y0=this._y1;this._y1=E;this._t0=ia}}};(m.prototype=Object.create(u.prototype)).point=function(r,E){u.prototype.point.call(this,E,r)};C.prototype={moveTo:function(r,E){this._context.moveTo(E,r)},closePath:function(){this._context.closePath()},lineTo:function(r,E){this._context.lineTo(E,
r)},bezierCurveTo:function(r,E,ia,l,z,ca){this._context.bezierCurveTo(E,r,l,ia,ca,z)}};B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var r=this._x,E=this._y,ia=r.length;if(ia)if(this._line?this._context.lineTo(r[0],E[0]):this._context.moveTo(r[0],E[0]),2===ia)this._context.lineTo(r[1],E[1]);else for(var l=A(r),z=A(E),ca=0,na=1;na<ia;++ca,++na)this._context.bezierCurveTo(l[0][ca],z[0][ca],l[1][ca],z[1][ca],
r[na],E[na]);(this._line||0!==this._line&&1===ia)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(r,E){this._x.push(+r);this._y.push(+E)}};D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&
(this._t=1-this._t,this._line=1-this._line)},point:function(r,E){r=+r;E=+E;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(r,E):this._context.moveTo(r,E);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,E),this._context.lineTo(r,E);else{var ia=this._x*(1-this._t)+r*this._t;this._context.lineTo(ia,this._y);this._context.lineTo(ia,E)}}this._x=r;this._y=E}};const Ve={basis:{curve:function(r){return new wb(r)}},"basis-closed":{curve:function(r){return new sb(r)}},
"basis-open":{curve:function(r){return new Pb(r)}},bundle:{curve:Ae,tension:"beta",value:.85},cardinal:{curve:Be,tension:"tension",value:0},"cardinal-open":{curve:he,tension:"tension",value:0},"cardinal-closed":{curve:Id,tension:"tension",value:0},"catmull-rom":{curve:xe,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Le,tension:"alpha",value:.5},"catmull-rom-open":{curve:of,tension:"alpha",value:.5},linear:{curve:pb},"linear-closed":{curve:function(r){return new q(r)}},monotone:{horizontal:function(r){return new m(r)},
vertical:function(r){return new u(r)}},natural:{curve:function(r){return new B(r)}},step:{curve:function(r){return new D(r,.5)}},"step-after":{curve:function(r){return new D(r,1)}},"step-before":{curve:function(r){return new D(r,0)}}},we={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},wf=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Pf=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,af=/^((\s+,?\s*)|(,\s*))/,ag=/^[01]/,Vd=Math.PI/180,hf=Math.PI/2,jf=2*Math.PI,Qe=Math.sqrt(3)/2;var Cf={},Qf={},Jf=
[].join;const Gf=["l",0,0,0,0,0,0,0],Bg={circle:{draw:function(r,E){E=Math.sqrt(E)/2;r.moveTo(E,0);r.arc(0,0,E,0,jf)}},cross:{draw:function(r,E){E=Math.sqrt(E)/2;var ia=E/2.5;r.moveTo(-E,-ia);r.lineTo(-E,ia);r.lineTo(-ia,ia);r.lineTo(-ia,E);r.lineTo(ia,E);r.lineTo(ia,ia);r.lineTo(E,ia);r.lineTo(E,-ia);r.lineTo(ia,-ia);r.lineTo(ia,-E);r.lineTo(-ia,-E);r.lineTo(-ia,-ia);r.closePath()}},diamond:{draw:function(r,E){E=Math.sqrt(E)/2;r.moveTo(-E,0);r.lineTo(0,-E);r.lineTo(E,0);r.lineTo(0,E);r.closePath()}},
square:{draw:function(r,E){E=Math.sqrt(E);var ia=-E/2;r.rect(ia,ia,E,E)}},arrow:{draw:function(r,E){E=Math.sqrt(E)/2;var ia=E/7,l=E/2.5,z=E/8;r.moveTo(-ia,E);r.lineTo(ia,E);r.lineTo(ia,-z);r.lineTo(l,-z);r.lineTo(0,-E);r.lineTo(-l,-z);r.lineTo(-ia,-z);r.closePath()}},wedge:{draw:function(r,E){var ia=Math.sqrt(E)/2;E=Qe*ia;var l=E-.5773502691896257*ia;ia/=4;r.moveTo(0,-E-l);r.lineTo(-ia,E-l);r.lineTo(ia,E-l);r.closePath()}},triangle:{draw:function(r,E){E=Math.sqrt(E)/2;var ia=Qe*E,l=ia-.5773502691896257*
E;r.moveTo(0,-ia-l);r.lineTo(-E,ia-l);r.lineTo(E,ia-l);r.closePath()}},"triangle-up":{draw:function(r,E){E=Math.sqrt(E)/2;var ia=Qe*E;r.moveTo(0,-ia);r.lineTo(-E,ia);r.lineTo(E,ia);r.closePath()}},"triangle-down":{draw:function(r,E){E=Math.sqrt(E)/2;var ia=Qe*E;r.moveTo(0,ia);r.lineTo(-E,-ia);r.lineTo(E,-ia);r.closePath()}},"triangle-right":{draw:function(r,E){E=Math.sqrt(E)/2;var ia=Qe*E;r.moveTo(ia,0);r.lineTo(-ia,-E);r.lineTo(-ia,E);r.closePath()}},"triangle-left":{draw:function(r,E){E=Math.sqrt(E)/
2;var ia=Qe*E;r.moveTo(-ia,0);r.lineTo(ia,-E);r.lineTo(ia,E);r.closePath()}},stroke:{draw:function(r,E){E=Math.sqrt(E)/2;r.moveTo(-E,0);r.lineTo(E,0)}}};var sg={};const Af=r=>r.x||0,Hf=r=>r.y||0,dg=r=>!1!==r.defined,Ug=function(){function r(){var Gb,ac=+E.apply(this,arguments),Tb=+ia.apply(this,arguments),Bd=ca.apply(this,arguments)-Oc,Xc=na.apply(this,arguments)-Oc,Rd=tc(Xc-Bd),te=Xc>Bd;Ya||(Ya=Gb=uc());if(Tb<ac){var Ce=Tb;Tb=ac;ac=Ce}if(1E-12<Tb)if(Rd>Ee-1E-12)Ya.moveTo(Tb*Dc(Bd),Tb*hd(Bd)),Ya.arc(0,
0,Tb,Bd,Xc,!te),1E-12<ac&&(Ya.moveTo(ac*Dc(Xc),ac*hd(Xc)),Ya.arc(0,0,ac,Xc,Bd,te));else{var ue=Bd,Ze=Xc;Ce=Bd;var zf=Xc,Uf=Rd,ef=Rd,bf=Va.apply(this,arguments)/2,cg=1E-12<bf&&(z?+z.apply(this,arguments):Ad(ac*ac+Tb*Tb)),vh=Zc(tc(Tb-ac)/2,+l.apply(this,arguments)),lg=vh,Mf=vh;if(1E-12<cg){var mf=kc(cg/ac*hd(bf));bf=kc(cg/Tb*hd(bf));1E-12<(Uf-=2*mf)?(mf*=te?1:-1,Ce+=mf,zf-=mf):(Uf=0,Ce=zf=(Bd+Xc)/2);1E-12<(ef-=2*bf)?(bf*=te?1:-1,ue+=bf,Ze-=bf):(ef=0,ue=Ze=(Bd+Xc)/2)}Bd=Tb*Dc(ue);Xc=Tb*hd(ue);mf=ac*
Dc(zf);bf=ac*hd(zf);if(1E-12<vh){var Rf=Tb*Dc(Ze),If=Tb*hd(Ze),Lf=ac*Dc(Ce),ah=ac*hd(Ce);if(Rd=Rd<Hd){var hg=Lf-Bd;Rd=ah-Xc;cg=mf-Rf;var Fh=bf-If,pg=Fh*hg-cg*Rd;1E-12>pg*pg?hg=void 0:(pg=(cg*(Xc-If)-Fh*(Bd-Rf))/pg,hg=[Bd+pg*hg,Xc+pg*Rd]);Rd=hg}Rd&&(lg=Bd-hg[0],Mf=Xc-hg[1],Rd=Rf-hg[0],cg=If-hg[1],lg=(lg*Rd+Mf*cg)/(Ad(lg*lg+Mf*Mf)*Ad(Rd*Rd+cg*cg)),Mf=1/hd((1<lg?0:-1>lg?Hd:Math.acos(lg))/2),hg=Ad(hg[0]*hg[0]+hg[1]*hg[1]),lg=Zc(vh,(ac-hg)/(Mf-1)),Mf=Zc(vh,(Tb-hg)/(Mf+1)))}1E-12<ef?1E-12<Mf?(ue=Cb(Lf,
ah,Bd,Xc,Tb,Mf,te),Ze=Cb(Rf,If,mf,bf,Tb,Mf,te),Ya.moveTo(ue.cx+ue.x01,ue.cy+ue.y01),Mf<vh?Ya.arc(ue.cx,ue.cy,Mf,Wb(ue.y01,ue.x01),Wb(Ze.y01,Ze.x01),!te):(Ya.arc(ue.cx,ue.cy,Mf,Wb(ue.y01,ue.x01),Wb(ue.y11,ue.x11),!te),Ya.arc(0,0,Tb,Wb(ue.cy+ue.y11,ue.cx+ue.x11),Wb(Ze.cy+Ze.y11,Ze.cx+Ze.x11),!te),Ya.arc(Ze.cx,Ze.cy,Mf,Wb(Ze.y11,Ze.x11),Wb(Ze.y01,Ze.x01),!te))):(Ya.moveTo(Bd,Xc),Ya.arc(0,0,Tb,ue,Ze,!te)):Ya.moveTo(Bd,Xc);1E-12<ac&&1E-12<Uf?1E-12<lg?(ue=Cb(mf,bf,Rf,If,ac,-lg,te),Ze=Cb(Bd,Xc,Lf,ah,ac,
-lg,te),Ya.lineTo(ue.cx+ue.x01,ue.cy+ue.y01),lg<vh?Ya.arc(ue.cx,ue.cy,lg,Wb(ue.y01,ue.x01),Wb(Ze.y01,Ze.x01),!te):(Ya.arc(ue.cx,ue.cy,lg,Wb(ue.y01,ue.x01),Wb(ue.y11,ue.x11),!te),Ya.arc(0,0,ac,Wb(ue.cy+ue.y11,ue.cx+ue.x11),Wb(Ze.cy+Ze.y11,Ze.cx+Ze.x11),te),Ya.arc(Ze.cx,Ze.cy,lg,Wb(Ze.y11,Ze.x11),Wb(Ze.y01,Ze.x01),!te))):Ya.arc(0,0,ac,zf,Ce,te):Ya.lineTo(mf,bf)}else Ya.moveTo(0,0);Ya.closePath();if(Gb)return Ya=null,Gb+""||null}var E=Yb,ia=Ua,l=Ab(0),z=null,ca=tb,na=Jb,Va=Kb,Ya=null;r.centroid=function(){var Gb=
(+E.apply(this,arguments)+ +ia.apply(this,arguments))/2,ac=(+ca.apply(this,arguments)+ +na.apply(this,arguments))/2-Hd/2;return[Dc(ac)*Gb,hd(ac)*Gb]};r.innerRadius=function(Gb){return arguments.length?(E="function"===typeof Gb?Gb:Ab(+Gb),r):E};r.outerRadius=function(Gb){return arguments.length?(ia="function"===typeof Gb?Gb:Ab(+Gb),r):ia};r.cornerRadius=function(Gb){return arguments.length?(l="function"===typeof Gb?Gb:Ab(+Gb),r):l};r.padRadius=function(Gb){return arguments.length?(z=null==Gb?null:
"function"===typeof Gb?Gb:Ab(+Gb),r):z};r.startAngle=function(Gb){return arguments.length?(ca="function"===typeof Gb?Gb:Ab(+Gb),r):ca};r.endAngle=function(Gb){return arguments.length?(na="function"===typeof Gb?Gb:Ab(+Gb),r):na};r.padAngle=function(Gb){return arguments.length?(Va="function"===typeof Gb?Gb:Ab(+Gb),r):Va};r.context=function(Gb){return arguments.length?(Ya=null==Gb?null:Gb,r):Ya};return r}().startAngle(r=>r.startAngle||0).endAngle(r=>r.endAngle||0).padAngle(r=>r.padAngle||0).innerRadius(r=>
r.innerRadius||0).outerRadius(r=>r.outerRadius||0).cornerRadius(r=>r.cornerRadius||0),Vg=lb().x(Af).y1(Hf).y0(r=>(r.y||0)+(r.height||0)).defined(dg),Dg=lb().y(Hf).x1(Af).x0(r=>(r.x||0)+(r.width||0)).defined(dg),Wg=Ka().x(Af).y(Hf).defined(dg),ra=Ib().x(Af).y(Hf).width(r=>r.width||0).height(r=>r.height||0).cornerRadius(r=>qc(r.cornerRadiusTopLeft,r.cornerRadius)||0,r=>qc(r.cornerRadiusTopRight,r.cornerRadius)||0,r=>qc(r.cornerRadiusBottomRight,r.cornerRadius)||0,r=>qc(r.cornerRadiusBottomLeft,r.cornerRadius)||
0),bb=function(r,E){function ia(){let z;l||(l=z=uc());r.apply(this,arguments).draw(l,+E.apply(this,arguments));if(z)return l=null,z+""||null}let l=null;r="function"===typeof r?r:Ab(r||Ge);E="function"===typeof E?E:Ab(void 0===E?64:+E);ia.type=function(z){return arguments.length?(r="function"===typeof z?z:Ab(z),ia):r};ia.size=function(z){return arguments.length?(E="function"===typeof z?z:Ab(+z),ia):E};ia.context=function(z){return arguments.length?(l=null==z?null:z,ia):l};return ia}().type(r=>L(r.shape||
"circle")).size(r=>qc(r.size,64)),Rb=yc().x(Af).y(Hf).defined(dg).size(r=>r.size||1);var id=1;Rc.prototype={clone(){return new Rc(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(r){return this.x1===r.x1&&this.y1===r.y1&&this.x2===r.x2&&this.y2===r.y2},set(r,E,ia,l){ia<r?(this.x2=
r,this.x1=ia):(this.x1=r,this.x2=ia);l<E?(this.y2=E,this.y1=l):(this.y1=E,this.y2=l);return this},add(r,E){r<this.x1&&(this.x1=r);E<this.y1&&(this.y1=E);r>this.x2&&(this.x2=r);E>this.y2&&(this.y2=E);return this},expand(r){this.x1-=r;this.y1-=r;this.x2+=r;this.y2+=r;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(r){this.x1*=r;this.y1*=r;this.x2*=r;this.y2*=r;return this},translate(r,E){this.x1+=r;
this.x2+=r;this.y1+=E;this.y2+=E;return this},rotate(r,E,ia){r=this.rotatedPoints(r,E,ia);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(r,E,ia){var {x1:l,y1:z,x2:ca,y2:na}=this,Va=Math.cos(r);r=Math.sin(r);var Ya=E-E*Va+ia*r;E=ia-E*r-ia*Va;return[Va*l-r*z+Ya,r*l+Va*z+E,Va*l-r*na+Ya,r*l+Va*na+E,Va*ca-r*z+Ya,r*ca+Va*z+E,Va*ca-r*na+Ya,r*ca+Va*na+E]},union(r){r.x1<this.x1&&(this.x1=r.x1);r.y1<this.y1&&(this.y1=r.y1);r.x2>this.x2&&(this.x2=r.x2);r.y2>this.y2&&
(this.y2=r.y2);return this},intersect(r){r.x1>this.x1&&(this.x1=r.x1);r.y1>this.y1&&(this.y1=r.y1);r.x2<this.x2&&(this.x2=r.x2);r.y2<this.y2&&(this.y2=r.y2);return this},encloses(r){return r&&this.x1<=r.x1&&this.x2>=r.x2&&this.y1<=r.y1&&this.y2>=r.y2},alignsWith(r){return r&&(this.x1==r.x1||this.x2==r.x2||this.y1==r.y1||this.y2==r.y2)},intersects(r){return r&&!(this.x2<r.x1||this.x1>r.x2||this.y2<r.y1||this.y1>r.y2)},contains(r,E){return!(r<this.x1||r>this.x2||E<this.y1||E>this.y2)},width(){return this.x2-
this.x1},height(){return this.y2-this.y1}};k.inherits(Na,Pd);Ub.prototype={pending(){return this._pending},sanitizeURL(r){const E=this;E._pending+=1;return E._loader.sanitize(r,{context:"href"}).then(ia=>{--E._pending;return ia}).catch(()=>{--E._pending;return null})},loadImage(r){const E=this,ia=P.image();E._pending+=1;return E._loader.sanitize(r,{context:"image"}).then(l=>{const z=l.href;if(!z||!ia)throw{url:z};const ca=new ia;l=k.hasOwnProperty(l,"crossOrigin")?l.crossOrigin:"anonymous";null!=
l&&(ca.crossOrigin=l);ca.onload=()=>{--E._pending};ca.onerror=()=>{--E._pending};ca.src=z;return ca}).catch(l=>{--E._pending;return{complete:!1,width:0,height:0,src:l&&l.url||""}})},ready(){const r=this;return new Promise(E=>{function ia(l){r.pending()?setTimeout(()=>{ia(!0)},10):E(l)}ia(!1)})}};const od=jf-1E-8;let ne,Re,pf,Ff,Ne,eg,Sf,Xf;const kg=(r,E)=>{r=Re=r;E=pf=E;return ne.add(r,E)},qg=r=>ne.add(r,ne.y1),Lg=r=>ne.add(ne.x1,r),gh=(r,E)=>ne.add(Ne*r+Sf*E,eg*r+Xf*E),ph=(r,E)=>kg(Ne*r+Sf*E,eg*
r+Xf*E),Ie={beginPath(){},closePath(){},moveTo:ph,lineTo:ph,rect(r,E,ia,l){Ff?(gh(r+ia,E),gh(r+ia,E+l),gh(r,E+l),ph(r,E)):(ne.add(r+ia,E+l),kg(r,E))},quadraticCurveTo(r,E,ia,l){const z=eg*r+Xf*E,ca=Ne*ia+Sf*l;ia=eg*ia+Xf*l;ic(Re,Ne*r+Sf*E,ca,qg);ic(pf,z,ia,Lg);kg(ca,ia)},bezierCurveTo(r,E,ia,l,z,ca){const na=eg*r+Xf*E,Va=eg*ia+Xf*l,Ya=Ne*z+Sf*ca;z=eg*z+Xf*ca;dc(Re,Ne*r+Sf*E,Ne*ia+Sf*l,Ya,qg);dc(pf,na,Va,z,Lg);kg(Ya,z)},arc(r,E,ia,l,z,ca){l+=Ff;z+=Ff;Re=ia*Math.cos(z)+r;pf=ia*Math.sin(z)+E;if(Math.abs(z-
l)>od)ne.add(r-ia,E-ia),ne.add(r+ia,E+ia);else{const na=Ya=>ne.add(ia*Math.cos(Ya)+r,ia*Math.sin(Ya)+E);let Va;na(l);na(z);if(z!==l)if(l%=jf,0>l&&(l+=jf),z%=jf,0>z&&(z+=jf),z<l&&(ca=!ca,Va=l,l=z,z=Va),ca)for(z-=jf,Va=l-l%hf,l=0;4>l&&Va>z;++l,Va-=hf)na(Va);else for(Va=l-l%hf+hf,l=0;4>l&&Va<z;++l,Va+=hf)na(Va)}}};var ye=(ye=P.canvas(1,1))?ye.getContext("2d"):null;const Kf=new Rc;var yf=[],Bf=Td("arc",function(r,E){return Ug.context(r)(E)}),tf=Ed("area",function(r,E){const ia=E[0];return("horizontal"===
ia.orient?Dg:Vg).curve(I(ia.interpolate||"linear",ia.orient,ia.tension)).context(r)(E)},function(r,E){E="horizontal"===r[0].orient?E[1]:E[0];for(var ia="horizontal"===r[0].orient?"y":"x",l=r.length,z=Infinity,ca,na;0<=--l;)!1!==r[l].defined&&(na=Math.abs(r[l][ia]-E),na<z&&(z=na,ca=r[l]));return ca});const fg=fd(Ud),Eg=fd(Ud,!1),tg=fd(Ud,!0);var Df={type:"group",tag:"g",nested:!1,attr:function(r,E){r("transform",Qd(E.x||0,E.y||0))},bound:function(r,E){if(!E.clip&&E.items){const ia=E.items,l=ia.length;
for(let z=0;z<l;++z)r.union(ia[z].bounds)}(E.clip||E.width||E.height)&&!E.noBound&&r.add(0,0).add(E.width||0,E.height||0);qb(r,E);return r.translate(E.x||0,E.y||0)},draw:function(r,E,ia){Eb(E,l=>{const z=l.x||0,ca=l.y||0,na=l.strokeForeground,Va=null==l.opacity?1:l.opacity;(l.stroke||l.fill)&&Va&&(Ud(r,l,z,ca),gb(r,l),l.fill&&ya(r,l,Va)&&r.fill(),l.stroke&&!na&&Oa(r,l,Va)&&r.stroke());r.save();r.translate(z,ca);l.clip&&Yd(r,l);ia&&ia.translate(-z,-ca);Eb(l,Ya=>{this.draw(r,Ya,ia)});ia&&ia.translate(z,
ca);r.restore();na&&l.stroke&&Va&&(Ud(r,l,z,ca),gb(r,l),Oa(r,l,Va)&&r.stroke())})},pick:function(r,E,ia,l,z,ca){if(E.bounds&&!E.bounds.contains(z,ca)||!E.items)return null;const na=ia*r.pixelRatio,Va=l*r.pixelRatio;return oc(E,Ya=>{let Gb,ac;var Tb=Ya.bounds;if(!Tb||Tb.contains(z,ca)){Gb=Ya.x||0;ac=Ya.y||0;Tb=Gb+(Ya.width||0);var Bd=ac+(Ya.height||0),Xc=Ya.clip;if(!Xc||!(z<Gb||z>Tb||ca<ac||ca>Bd)){r.save();r.translate(Gb,ac);Gb=z-Gb;ac=ca-ac;if(Xc&&xc(Ya)&&!tg(r,Ya,na,Va))return r.restore(),null;
Bd=Ya.strokeForeground;if((Xc=!1!==E.interactive)&&Bd&&Ya.stroke&&Eg(r,Ya,na,Va))return r.restore(),Ya;Tb=oc(Ya,Rd=>(!1!==Rd.interactive||"group"===Rd.marktype)&&Rd.bounds&&Rd.bounds.contains(Gb,ac)?this.pick(Rd,ia,l,Gb,ac):null);!Tb&&Xc&&(Ya.fill||!Bd&&Ya.stroke)&&fg(r,Ya,na,Va)&&(Tb=Ya);r.restore();return Tb||null}}})},isect:Md,content:function(r,E,ia){E=E.clip?Zb(ia,E,E):null;r("clip-path",E)},background:function(r,E){r("class","background");r("aria-hidden",!0);const ia=ae(E);r("d",dd(null,E,ia,
ia))},foreground:function(r,E){r("class","foreground");r("aria-hidden",!0);if(E.strokeForeground){const ia=ae(E);r("d",dd(null,E,ia,ia))}else r("d","")}},Qg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Mg={type:"image",tag:"image",nested:!1,attr:function(r,E,ia){var l=Xe(E,ia);ia=Wd(E,l);const z=N(E,l),ca=(E.x||0)-ma(E.align,ia),na=(E.y||0)-za(E.baseline,z);l=!l.src&&l.toDataURL?l.toDataURL():l.src||"";r("href",l,Qg["xmlns:xlink"],"xlink:href");r("transform",
Qd(ca,na));r("width",ia);r("height",z);r("preserveAspectRatio",!1===E.aspect?"none":"xMidYMid")},bound:function(r,E){var ia=E.image;const l=Wd(E,ia);ia=N(E,ia);const z=(E.x||0)-ma(E.align,l);E=(E.y||0)-za(E.baseline,ia);return r.set(z,E,z+l,E+ia)},draw:function(r,E,ia){Eb(E,l=>{if(!ia||ia.intersects(l.bounds)){var z=Xe(l,this),ca=Wd(l,z),na=N(l,z);if(0!==ca&&0!==na){var Va=(l.x||0)-ma(l.align,ca),Ya=(l.y||0)-za(l.baseline,na),Gb;if(!1!==l.aspect){var ac=z.width/z.height;var Tb=l.width/l.height;ac===
ac&&Tb===Tb&&ac!==Tb&&(Tb<ac?(ac=ca/ac,Ya+=(na-ac)/2,na=ac):(ac*=na,Va+=(ca-ac)/2,ca=ac))}if(z.complete||z.toDataURL)gb(r,l),r.globalAlpha=null!=(Gb=l.opacity)?Gb:1,r.imageSmoothingEnabled=!1!==l.smooth,r.drawImage(z,Va,Ya,ca,na)}}})},pick:ed(),isect:k.truthy,get:Xe,xOffset:ma,yOffset:za},qh=Ed("line",function(r,E){const ia=E[0];return Wg.curve(I(ia.interpolate||"linear",ia.orient,ia.tension)).context(r)(E)},function(r,E){for(var ia=Math.pow(r[0].strokeWidth||1,2),l=r.length,z,ca;0<=--l;)if(!1!==
r[l].defined&&(z=r[l].x-E[0],ca=r[l].y-E[1],z=z*z+ca*ca,z<ia))return r[l];return null}),xg={type:"path",tag:"path",nested:!1,attr:function(r,E){var ia=E.scaleY||1;1===(E.scaleX||1)&&1===ia||r("vector-effect","non-scaling-stroke");ia=Qd(E.x||0,E.y||0)+(E.angle?" rotate("+(E.angle+")"):"")+(E.scaleX||E.scaleY?" scale("+((E.scaleX||1)+","+(E.scaleY||1)+")"):"");r("transform",ia);r("d",E.path)},bound:function(r,E){return fb(Sb(r,E.angle),E)?r.set(0,0,0,0):qb(r,E,!0)},draw:ec(fb),pick:ed(fd(fb)),isect:zc(fb)},
Wh={type:"rect",tag:"path",nested:!1,attr:function(r,E){r("d",dd(null,E))},bound:function(r,E){var ia,l;return qb(r.set(ia=E.x||0,l=E.y||0,ia+E.width||0,l+E.height||0),E)},draw:ec(Hb),pick:ed(fd(Hb)),isect:Md},rh={type:"rule",tag:"line",nested:!1,attr:function(r,E){r("transform",Qd(E.x||0,E.y||0));r("x2",null!=E.x2?E.x2-(E.x||0):0);r("y2",null!=E.y2?E.y2-(E.y||0):0)},bound:function(r,E){var ia,l;return qb(r.set(ia=E.x||0,l=E.y||0,null!=E.x2?E.x2:ia,null!=E.y2?E.y2:l),E)},draw:function(r,E,ia){Eb(E,
l=>{if(!ia||ia.intersects(l.bounds)){var z=null==l.opacity?1:l.opacity;z&&Xb(r,l,z)&&(gb(r,l),r.stroke())}})},pick:ed(function(r,E,ia,l){return r.isPointInStroke?Xb(r,E,1)&&r.isPointInStroke(ia,l):!1}),isect:ud},Hh=Td("shape",function(r,E){return(E.mark.shape||E.shape).context(r)(E)}),Xg=Td("symbol",function(r,E){return bb.context(r)(E)},Yc);const sh=k.lruCache();var Bh={height:Nc,measureWidth:Hc,estimateWidth:mc,width:mc,canvas:Cc};Cc(!0);const ji={left:"start",center:"middle",right:"end"},eh=new Rc;
var th={type:"text",tag:"text",nested:!1,attr:function(r,E){var ia=E.dx||0,l=(E.dy||0)+De(E),z=gf(E),ca=z.x1;z=z.y1;var na=E.angle||0;r("text-anchor",ji[E.align]||"start");if(na){if(E=Qd(ca,z)+" rotate("+(na+")"),ia||l)E+=" "+Qd(ia,l)}else E=Qd(ca+ia,z+l);r("transform",E)},bound:cf,draw:function(r,E,ia){Eb(E,l=>{var z=null==l.opacity?1:l.opacity,ca;if(!(ia&&!ia.intersects(l.bounds)||0===z||0>=l.fontSize||null==l.text||0===l.text.length)){r.font=qe(l);r.textAlign=l.align||"left";var na=gf(l);var Va=
na.x1;na=na.y1;l.angle&&(r.save(),r.translate(Va,na),r.rotate(l.angle*Vd),Va=na=0);Va+=l.dx||0;na+=(l.dy||0)+De(l);var Ya=Gd(l);gb(r,l);if(k.isArray(Ya)){var Gb=vd(l);for(ca=0;ca<Ya.length;++ca){var ac=Fd(l,Ya[ca]);l.fill&&ya(r,l,z)&&r.fillText(ac,Va,na);l.stroke&&Oa(r,l,z)&&r.strokeText(ac,Va,na);na+=Gb}}else ac=Fd(l,Ya),l.fill&&ya(r,l,z)&&r.fillText(ac,Va,na),l.stroke&&Oa(r,l,z)&&r.strokeText(ac,Va,na);l.angle&&r.restore()}})},pick:ed(function(r,E,ia,l,z,ca){if(0>=E.fontSize)return!1;if(!E.angle)return!0;
ia=gf(E);r=ia.x1;ia=ia.y1;l=cf(eh,E,1);var na=-E.angle*Vd;E=Math.cos(na);na=Math.sin(na);return l.contains(E*z-na*ca+(r-E*r+na*ia),na*z+E*ca+(ia-na*r-E*ia))}),isect:function(r,E){r=cf(eh,r,2);return Ha(E,r[0],r[1],r[2],r[3])||Ha(E,r[0],r[1],r[4],r[5])||Ha(E,r[4],r[5],r[6],r[7])||Ha(E,r[2],r[3],r[6],r[7])}},yi=Ed("trail",function(r,E){return Rb.context(r)(E)},function(r,E){for(var ia=r.length,l,z;0<=--ia;)if(!1!==r[ia].defined&&(l=r[ia].x-E[0],z=r[ia].y-E[1],z=l*l+z*z,l=r[ia].size||1,z<l*l))return r[ia];
return null}),Fg={arc:Bf,area:tf,group:Df,image:Mg,line:qh,path:xg,rect:Wh,rule:rh,shape:Hh,symbol:Xg,text:th,trail:yi},Mh={mark:null};const Xh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
cb.prototype={toJSON(r){return nf(this.root,r||0)},mark(r,E,ia){E=E||this.root.items[0];r=yb(r,E);E.items[ia]=r;r.zindex&&(r.group.zdirty=!0);return r}};cc.prototype={initialize(r,E,ia){this._el=r;this._obj=ia||null;return this.origin(E)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(r){return arguments.length?(this._origin=r||[0,0],this):this._origin.slice()},scene(r){if(!arguments.length)return this._scene;this._scene=r;return this},on(){},off(){},_handlerIndex(r,
E,ia){for(let l=r?r.length:0;0<=--l;)if(r[l].type===E&&(!ia||r[l].handler===ia))return l;return-1},handlers(r){const E=this._handlers,ia=[];if(r)ia.push(...E[this.eventName(r)]);else for(const l in E)ia.push(...E[l]);return ia},eventName(r){const E=r.indexOf(".");return 0>E?r:r.slice(0,E)},handleHref(r,E,ia){this._loader.sanitize(ia,{context:"href"}).then(l=>{const z=new MouseEvent(r.type,r),ca=gc(null,"a");for(const na in l)ca.setAttribute(na,l[na]);ca.dispatchEvent(z)}).catch(()=>{})},handleTooltip(r,
E,ia){if(E&&null!=E.tooltip){var l=this.canvas(),z=this._origin,ca=E&&E.mark,na;if(ca&&(na=Fg[ca.marktype]).tip){l=Sa(r,l);l[0]-=z[0];for(l[1]-=z[1];E=E.mark.group;)l[0]-=E.x||0,l[1]-=E.y||0;E=na.tip(ca.items,l)}this._tooltip.call(this._obj,this,r,E,ia&&E&&E.tooltip||null)}},getItemBoundingClientRect(r){var E=this.canvas();if(E){var ia=E.getBoundingClientRect(),l=this._origin,z=r.bounds;E=z.width();var ca=z.height(),na=z.x1+l[0]+ia.left;for(ia=z.y1+l[1]+ia.top;r.mark&&(r=r.mark.group);)na+=r.x||0,
ia+=r.y||0;return{x:na,y:ia,width:E,height:ca,left:na,top:ia,right:na+E,bottom:ia+ca}}}};Ac.prototype={initialize(r,E,ia,l,z){this._el=r;return this.resize(E,ia,l,z)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(r){if(0===arguments.length)return this._bgcolor;this._bgcolor=r;return this},resize(r,E,ia,l){this._width=r;this._height=E;this._origin=ia||[0,0];this._scale=l||1;return this},dirty(){},render(r){const E=this;E._call=function(){E._render(r)};E._call();
E._call=null;return E},_render(){},renderAsync(r){const E=this.render(r);return this._ready?this._ready.then(()=>E):Promise.resolve(E)},_load(r,E){var ia=this;r=ia._loader[r](E);if(!ia._ready){const l=ia._call;ia._ready=ia._loader.ready().then(z=>{z&&l();ia._ready=null})}return r},sanitizeURL(r){return this._load("sanitizeURL",r)},loadImage(r){return this._load("loadImage",r)}};k.inherits($c,cc,{initialize(r,E,ia){this._canvas=r&&Ec(r,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(l=>
pd(this,l));return cc.prototype.initialize.call(this,r,E,ia)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(r){this.fire("mousewheel",r)},mousemove:Ra("mousemove","mouseover","mouseout"),dragover:Ra("dragover","dragenter","dragleave"),mouseout:db("mouseout"),dragleave:db("dragleave"),
mousedown(r){this._down=this._active;this.fire("mousedown",r)},click(r){this._down===this._active&&(this.fire("click",r),this._down=null)},touchstart(r){this._touch=this.pickEvent(r.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",r,!0)},touchmove(r){this.fire("touchmove",r,!0)},touchend(r){this.fire("touchend",r,!0);this._touch=null},fire(r,E,ia){ia=ia?this._touch:this._active;const l=this._handlers[r];E.vegaType=r;"click"===r&&ia&&ia.href?this.handleHref(E,
ia,ia.href):("mousemove"===r||"mouseout"===r)&&this.handleTooltip(E,ia,"mouseout"!==r);if(l)for(let z=0,ca=l.length;z<ca;++z)l[z].handler.call(this._obj,E,ia)},on(r,E){const ia=this.eventName(r),l=this._handlers;0>this._handlerIndex(l[ia],r,E)&&(pd(this,r),(l[ia]||(l[ia]=[])).push({type:r,handler:E}));return this},off(r,E){var ia=this.eventName(r);ia=this._handlers[ia];r=this._handlerIndex(ia,r,E);0<=r&&ia.splice(r,1);return this},pickEvent(r){r=Sa(r,this._canvas);const E=this._origin;return this.pick(this._scene,
r[0],r[1],r[0]-E[0],r[1]-E[1])},pick(r,E,ia,l,z){const ca=this.context();return Fg[r.marktype].pick.call(this,ca,r,E,ia,l,z)}});var Rg="undefined"!==typeof window?window.devicePixelRatio||1:1;const hh=Ac.prototype;k.inherits(pc,Ac,{initialize(r,E,ia,l,z,ca){this._options=ca||{};this._canvas=this._options.externalContext?null:P.canvas(1,1,this._options.type);r&&this._canvas&&(J(r,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return hh.initialize.call(this,r,E,ia,l,z)},resize(r,
E,ia,l){hh.resize.call(this,r,E,ia,l);if(this._canvas){r=this._canvas;E=this._width;ia=this._height;l=this._origin;var z=this._scale,ca=this._options.context;const Va="undefined"!==typeof HTMLElement&&r instanceof HTMLElement&&null!=r.parentNode,Ya=r.getContext("2d");z=Va?Rg:z;r.width=E*z;r.height=ia*z;for(var na in ca)Ya[na]=ca[na];Va&&1!==z&&(r.style.width=E+"px",r.style.height=ia+"px");Ya.pixelRatio=z;Ya.setTransform(z,0,0,z,z*l[0],z*l[1])}else(na=this._options.externalContext)||k.error("CanvasRenderer is missing a valid canvas or context"),
na.scale(this._scale,this._scale),na.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(r){const E=this._tempb.clear().union(r.bounds);for(r=r.mark.group;r;)E.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(E)},_render(r){const E=this.context(),ia=this._origin,l=this._width,z=this._height,ca=this._dirty;var na=(new Rc).set(0,0,l,z).translate(-ia[0],
-ia[1]);E.save();this._redraw||ca.empty()?na=(this._redraw=!1,na.expand(1)):(na=na.intersect(ca),na.expand(1).round(),E.pixelRatio%1&&na.scale(E.pixelRatio).round().scale(1/E.pixelRatio),na.translate(-(ia[0]%1),-(ia[1]%1)),E.beginPath(),E.rect(na.x1,na.y1,na.width(),na.height()),E.clip());this.clear(-ia[0],-ia[1],l,z);this.draw(E,r,na);E.restore();ca.clear();return this},draw(r,E,ia){const l=Fg[E.marktype];if(E.clip){var z=E.clip;r.save();k.isFunction(z)?(r.beginPath(),z(r),r.clip()):Yd(r,E.group)}l.draw.call(this,
r,E,ia);E.clip&&r.restore()},clear(r,E,ia,l){const z=this._options,ca=this.context();"pdf"===z.type||z.externalContext||ca.clearRect(r,E,ia,l);null!=this._bgcolor&&(ca.fillStyle=this._bgcolor,ca.fillRect(r,E,ia,l))}});const lh=(r,E)=>ia=>{let l=ia.target.__data__;l=Array.isArray(l)?l[0]:l;ia.vegaType=ia.type;E.call(r._obj,ia,l)};k.inherits(wd,cc,{initialize(r,E,ia){let l=this._svg;l&&(l.removeEventListener("click",this._hrefHandler),l.removeEventListener("mousemove",this._tooltipHandler),l.removeEventListener("mouseout",
this._tooltipHandler));if(this._svg=l=r&&Ec(r,"svg"))l.addEventListener("click",this._hrefHandler),l.addEventListener("mousemove",this._tooltipHandler),l.addEventListener("mouseout",this._tooltipHandler);return cc.prototype.initialize.call(this,r,E,ia)},canvas(){return this._svg},on(r,E){const ia=this.eventName(r),l=this._handlers;0>this._handlerIndex(l[ia],r,E)&&(r={type:r,handler:E,listener:lh(this,E)},(l[ia]||(l[ia]=[])).push(r),this._svg&&this._svg.addEventListener(ia,r.listener));return this},
off(r,E){const ia=this.eventName(r),l=this._handlers[ia];r=this._handlerIndex(l,r,E);0<=r&&(this._svg&&this._svg.removeEventListener(ia,l[r].listener),l.splice(r,1));return this}});const Ch=(r,E,ia)=>({role:r,["aria-roledescription"]:E,["aria-label"]:ia||void 0}),Gg=k.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),Nh={axis:{desc:"axis",caption:function(r){var E=r.datum;const ia=r.orient,
l=E.title?kd(r):null;var z=r.context;E=z.scales[E.scale].value;z=z.dataflow.locale();const ca=E.type;return`${"left"===ia||"right"===ia?"Y":"X"}-axis`+(l?` titled '${l}'`:"")+` for a ${Fb.isDiscrete(ca)?"discrete":ca} scale`+` with ${Fb.domainCaption(z,E,r)}`}},legend:{desc:"legend",caption:function(r){var E=r.datum;const ia=E.title?kd(r):null,l=`${E.type||""} legend`.trim();var z=E.scales;E=Object.keys(z);var ca=r.context;z=ca.scales[z[E[0]]].value;ca=ca.dataflow.locale();return(l.length?l[0].toUpperCase()+
l.slice(1):l)+(ia?` titled '${ia}'`:"")+` for ${Ld(E)}`+` with ${Fb.domainCaption(ca,z,r)}`}},"title-text":{desc:"title",caption:r=>`Title text '${k.array(r.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:r=>`Subtitle text '${k.array(r.text).join(" ")}'`}},Dh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Hg=r=>(r+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Ng=r=>be(Cd(),r)+"",Yh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},fh={blend:"mix-blend-mode"},Zg={fill:"none","stroke-miterlimit":10},Yf=Qg.xmlns,Sg=Ac.prototype;k.inherits(ve,Ac,{initialize(r,E,ia,l,z){this._defs={};this._clearDefs();r&&(this._svg=$b(r,0,"svg",Yf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/",
"xmlns",Yf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Qg["xmlns:xlink"]),this._svg.setAttribute("version",Qg.version),this._svg.setAttribute("class","marks"),J(r,1),this._root=$b(this._svg,0,"g",Yf),bd(this._root,Zg),J(this._svg,1));this.background(this._bgcolor);return Sg.initialize.call(this,r,E,ia,l,z)},background(r){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",r);return Sg.background.apply(this,arguments)},resize(r,E,ia,l){Sg.resize.call(this,
r,E,ia,l);this._svg&&(bd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const r=this._svg,E=this._bgcolor;if(!r)return null;let ia;E&&(r.removeAttribute("style"),ia=$b(r,0,"rect",Yf),bd(ia,{width:this._width,height:this._height,fill:E}));const l=Ng(r);E&&(r.removeChild(ia),this._svg.style.setProperty("background-color",
E));return l},_render(r){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,r),J(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(r){r.dirty!==this._dirtyID&&(r.dirty=this._dirtyID,this._dirty.push(r))},isDirty(r){return this._dirtyAll||!r._svg||!r._svg.ownerSVGElement||r.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const r=this._dirty;if(!r.length||!this._dirtyID)return!0;const E=++this._dirtyID;let ia;let l,z,ca,na;ca=0;for(na=r.length;ca<
na;++ca){ia=r[ca];var Va=ia.mark;Va.marktype!==l&&(l=Va.marktype,z=Fg[l]);Va.zdirty&&Va.dirty!==E&&(this._dirtyAll=!1,Me(ia,E),Va.items.forEach(Ya=>{Ya.dirty=E}));Va.zdirty||(ia.exit?(z.nested&&Va.items.length?(Va=Va.items[0],Va._svg&&this._update(z,Va._svg,Va)):ia._svg&&(Va=ia._svg.parentNode)&&Va.removeChild(ia._svg),ia._svg=null):(ia=z.nested?Va.items[0]:ia,ia._update!==E&&(ia._svg&&ia._svg.ownerSVGElement?this._update(z,ia._svg,ia):(this._dirtyAll=!1,Me(ia,E)),ia._update=E)))}return!this._dirtyAll},
mark(r,E,ia){if(!this.isDirty(E))return E._svg;const l=this._svg,z=Fg[E.marktype];var ca=!1===E.interactive?"none":null;const na="g"===z.tag,Va=sf(E,r,ia,"g",l);Va.setAttribute("class",fa(E));r=Uc(E);for(const ac in r)Gc(Va,ac,r[ac]);na||Gc(Va,"pointer-events",ca);Gc(Va,"clip-path",E.clip?Zb(this,E,E.group):null);let Ya=null,Gb=0;ca=ac=>{const Tb=this.isDirty(ac),Bd=sf(ac,Va,Ya,z.tag,l);Tb&&(this._update(z,Bd,ac),na&&$e(this,Bd,ac));Ya=Bd;++Gb};z.nested?E.items.length&&ca(E.items[0]):Eb(E,ca);J(Va,
Gb);return Va},_update(r,E,ia){$g=E;qf=E.__values__;Mc(nd,ia);r.attr(nd,ia,this);const l=ei[r.type];l&&l.call(this,r,E,ia);$g&&this.style($g,ia)},style(r,E){if(null!=E){for(const ia in Yh){let l="font"===ia?Nd(E):E[ia];if(l===qf[ia])continue;const z=Yh[ia];null==l?r.removeAttribute(z):(l&&l.gradient&&(l=bc(l,this._defs.gradient,Jd())),r.setAttribute(z,l+""));qf[ia]=l}for(const ia in fh)Fc(r,fh[ia],E[ia])}},defs(){const r=this._svg,E=this._defs;let ia=E.el;var l=0;for(var z in E.gradient){ia||(E.el=
ia=$b(r,1,"defs",Yf));var ca=void 0;let Ya,Gb;var na=ia,Va=E.gradient[z];"radial"===Va.gradient?(ca=$b(na,l++,"pattern",Yf),bd(ca,{id:"p_"+Va.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),ca=$b(ca,0,"rect",Yf),bd(ca,{width:1,height:1,fill:`url(${Jd()}#${Va.id})`}),na=$b(na,l++,"radialGradient",Yf),bd(na,{id:Va.id,fx:Va.x1,fy:Va.y1,fr:Va.r1,cx:Va.x2,cy:Va.y2,r:Va.r2})):(na=$b(na,l++,"linearGradient",Yf),bd(na,{id:Va.id,x1:Va.x1,x2:Va.x2,y1:Va.y1,y2:Va.y2}));
Gb=0;for(Ya=Va.stops.length;Gb<Ya;++Gb)ca=$b(na,Gb,"stop",Yf),ca.setAttribute("offset",Va.stops[Gb].offset),ca.setAttribute("stop-color",Va.stops[Gb].color);J(na,Gb)}for(const Ya in E.clipping)ia||(E.el=ia=$b(r,1,"defs",Yf)),na=ia,Va=E.clipping[Ya],z=l,na=$b(na,z,"clipPath",Yf),na.setAttribute("id",Va.id),Va.path?(l=$b(na,0,"path",Yf),l.setAttribute("d",Va.path)):(l=$b(na,0,"rect",Yf),bd(l,{x:0,y:0,width:Va.width,height:Va.height})),J(na,1),l=z+1;ia&&(0===l?(r.removeChild(ia),E.el=null):J(ia,l))},
_clearDefs(){const r=this._defs;r.gradient={};r.clipping={}}});let $g=null,qf=null;const ei={group(r,E,ia){const l=$g=E.childNodes[2];qf=l.__values__;r.foreground(nd,ia,this);qf=E.__values__;$g=E.childNodes[1];r.content(nd,ia,this);E=$g=E.childNodes[0];r.background(nd,ia,this);r=!1===ia.mark.interactive?"none":null;r!==qf.events&&(Gc(l,"pointer-events",r),Gc(E,"pointer-events",r),qf.events=r);ia.strokeForeground&&ia.stroke?(r=ia.fill,Gc(l,"display",null),this.style(E,ia),Gc(E,"stroke",null),r&&(ia.fill=
null),qf=l.__values__,this.style(l,ia),r&&(ia.fill=r),$g=null):Gc(l,"display","none")},image(r,E,ia){!1===ia.smooth?(Fc(E,"image-rendering","optimizeSpeed"),Fc(E,"image-rendering","pixelated")):Fc(E,"image-rendering",null)},text(r,E,ia){r=Gd(ia);let l,z,ca;k.isArray(r)?(l=r.map(na=>Fd(ia,na)),r=l.join("\n"),r!==qf.text&&(J(E,0),z=E.ownerDocument,ca=vd(ia),l.forEach((na,Va)=>{const Ya=gc(z,"tspan",Yf);Ya.__data__=ia;Ya.textContent=na;Va&&(Ya.setAttribute("x",0),Ya.setAttribute("dy",ca));E.appendChild(Ya)}),
qf.text=r)):(l=Fd(ia,r),l!==qf.text&&(E.textContent=l,qf.text=l));Gc(E,"font-family",Nd(ia));Gc(E,"font-size",Nc(ia)+"px");Gc(E,"font-style",ia.fontStyle);Gc(E,"font-variant",ia.fontVariant);Gc(E,"font-weight",ia.fontWeight)}};k.inherits(Zd,Ac,{svg(){return this._text},_render(r){const E=Cd();E.open("svg",k.extend({},Qg,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ia=this._bgcolor;ia&&"transparent"!==ia&&"none"!==
ia&&E.open("rect",{width:this._width,height:this._height,fill:ia}).close();E.open("g",Zg,{transform:"translate("+this._origin+")"});this.mark(E,r);E.close();this.defs(E);this._text=E.close()+"";return this},mark(r,E){const ia=Fg[E.marktype],l=ia.tag,z=[Mc,ia.attr];r.open("g",{"class":fa(E),"clip-path":E.clip?Zb(this,E,E.group):null},Uc(E),{"pointer-events":"g"!==l&&!1===E.interactive?"none":null});const ca=na=>{const Va=this.href(na);Va&&r.open("a",Va);r.open(l,this.attr(E,na,z,"g"!==l?l:null));if("text"===
l){var Ya=Gd(na);if(k.isArray(Ya)){var Gb={x:0,dy:vd(na)};for(var ac=0;ac<Ya.length;++ac)r.open("tspan",ac?Gb:null).text(Fd(na,Ya[ac])).close()}else r.text(Fd(na,Ya))}else"g"===l&&(Ya=na.strokeForeground,Gb=na.fill,ac=na.stroke,Ya&&ac&&(na.stroke=null),r.open("path",this.attr(E,na,ia.background,"bgrect")).close(),r.open("g",this.attr(E,na,ia.content)),Eb(na,Tb=>this.mark(r,Tb)),r.close(),Ya&&ac?(Gb&&(na.fill=null),na.stroke=ac,r.open("path",this.attr(E,na,ia.foreground,"bgrect")).close(),Gb&&(na.fill=
Gb)):r.open("path",this.attr(E,na,ia.foreground,"bgfore")).close());r.close();Va&&r.close()};ia.nested?E.items&&E.items.length&&ca(E.items[0]):Eb(E,ca);return r.close()},href(r){const E=r.href;if(E){if(r=this._hrefs&&this._hrefs[E])return r;this.sanitizeURL(E).then(ia=>{ia["xlink:href"]=ia.href;ia.href=null;(this._hrefs||(this._hrefs={}))[E]=ia})}return null},attr(r,E,ia,l){const z={},ca=(na,Va,Ya,Gb)=>{z[Gb||na]=Va};Array.isArray(ia)?ia.forEach(na=>na(ca,E,this)):ia(ca,E,this);l&&$d(z,E,r,l,this._defs);
return z},defs(r){var E=this._defs.gradient;const ia=this._defs.clipping;if(0!==Object.keys(E).length+Object.keys(ia).length){r.open("defs");for(const z in E){var l=E[z];const ca=l.stops;"radial"===l.gradient?(r.open("pattern",{id:"p_"+z,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r.open("rect",{width:"1",height:"1",fill:"url(#"+z+")"}).close(),r.close(),r.open("radialGradient",{id:z,fx:l.x1,fy:l.y1,fr:l.r1,cx:l.x2,cy:l.y2,r:l.r2})):r.open("linearGradient",
{id:z,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2});for(l=0;l<ca.length;++l)r.open("stop",{offset:ca[l].offset,"stop-color":ca[l].color}).close();r.close()}for(const z in ia)E=ia[z],r.open("clipPath",{id:z}),E.path?r.open("path",{d:E.path}).close():r.open("rect",{x:0,y:0,width:E.width,height:E.height}).close(),r.close();r.close()}}});const Og={};Og.canvas=Og.png={renderer:pc,headless:pc,handler:$c};Og.svg={renderer:ve,headless:Zd,handler:wd};Og.none={};const bg=new Rc;v.Bounds=Rc;v.CanvasHandler=$c;v.CanvasRenderer=
pc;v.Gradient=function(r,E){var ia=[],l;return l={gradient:"linear",x1:r?r[0]:0,y1:r?r[1]:0,x2:E?E[0]:1,y2:E?E[1]:0,stops:ia,stop:function(z,ca){ia.push({offset:z,color:ca});return l}}};v.GroupItem=Na;v.Handler=cc;v.Item=Pd;v.Marks=Fg;v.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};v.Renderer=Ac;v.ResourceLoader=Ub;v.SVGHandler=wd;v.SVGRenderer=ve;v.SVGStringRenderer=Zd;v.Scenegraph=cb;v.boundClip=function(r){const E=r.clip;if(k.isFunction(E))E(Sb(bg.clear()));else if(E)bg.set(0,0,
r.group.width,r.group.height);else return;r.bounds.intersect(bg)};v.boundContext=Sb;v.boundItem=df;v.boundMark=pe;v.boundStroke=qb;v.domChild=$b;v.domClear=J;v.domCreate=gc;v.domFind=Ec;v.font=qe;v.fontFamily=Nd;v.fontSize=Nc;v.intersect=function(r,E,ia){const l=[];E=(new Rc).union(E);const z=r.marktype;return z?ke(r,E,ia,l):"group"===z?O(r,E,ia,l):k.error("Intersect scene must be mark node or group item.")};v.intersectBoxLine=Ha;v.intersectPath=zc;v.intersectPoint=Yc;v.intersectRule=ud;v.lineHeight=
vd;v.markup=Cd;v.multiLineOffset=function(r){const E=Gd(r);return(k.isArray(E)?E.length-1:0)*vd(r)};v.path=uc;v.pathCurves=I;v.pathEqual=ka;v.pathParse=V;v.pathRectangle=Ib;v.pathRender=Y;v.pathSymbols=L;v.pathTrail=yc;v.point=Sa;v.renderModule=function(r,E){r=String(r||"").toLowerCase();return 1<arguments.length?(Og[r]=E,this):Og[r]};v.resetSVGClipId=function(){id=1};v.resetSVGDefIds=function(){id=1;Ja=0};v.sceneEqual=H;v.sceneFromJSON=U;v.scenePickVisit=oc;v.sceneToJSON=nf;v.sceneVisit=Eb;v.sceneZOrder=
kb;v.serializeXML=Ng;v.textMetrics=Bh;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[46]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(43),Db(42)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,jb){function Fb(g){const u=g||k.identity,m=[],C={};m.add=B=>{const A=u(B);C[A]||(C[A]=1,m.push(B));return m};m.remove=B=>{const A=u(B);C[A]&&(C[A]=0,B=m.indexOf(B),
0<=B&&m.splice(B,1));return m};return m}function bc(g,u){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield u(g)}catch(m){g.error(m)}})}function vc(g){g=g===Object(g)?g:{data:g};if(!g[Z]){var u=Fa++;g[Z]=u}return g}function Bc(g,u){for(const m in g)u[m]=g[m];return u}function uc(g){return g&&g.constructor===Ab}function Ab(){const g=[],u=[],m=[],C=[],B=[];let A=null,D=!1;return{constructor:Ab,insert(I){I=k.array(I);const V=I.length;for(let Aa=0;Aa<V;++Aa)g.push(I[Aa]);return this},
remove(I){const V=k.isFunction(I)?C:u;I=k.array(I);const Aa=I.length;for(let Y=0;Y<Aa;++Y)V.push(I[Y]);return this},modify(I,V,Aa){V={field:V,value:k.constant(Aa)};k.isFunction(I)?(V.filter=I,B.push(V)):(V.tuple=I,m.push(V));return this},encode(I,V){k.isFunction(I)?B.push({filter:I,field:V}):m.push({tuple:I,field:V});return this},clean(I){A=I;return this},reflow(){D=!0;return this},pulse(I,V){function Aa(Ca,Xa,Ib){Ib?Ca[Xa]=Ib(Ca):I.encode=Xa;D||(t[Ca[Z]]=Ca)}const Y={},t={};let L,va,La,Wa,$a,X;L=
0;for(va=V.length;L<va;++L)Y[V[L][Z]]=1;L=0;for(va=u.length;L<va;++L)$a=u[L],Y[$a[Z]]=-1;L=0;for(va=C.length;L<va;++L)Wa=C[L],V.forEach(Ca=>{Wa(Ca)&&(Y[Ca[Z]]=-1)});L=0;for(va=g.length;L<va;++L)$a=g[L],X=$a[Z],Y[X]?Y[X]=1:I.add.push(vc(g[L]));L=0;for(va=V.length;L<va;++L)$a=V[L],0>Y[$a[Z]]&&I.rem.push($a);L=0;for(va=m.length;L<va;++L)La=m[L],$a=La.tuple,Wa=La.field,X=Y[$a[Z]],0<X&&(Aa($a,Wa,La.value),I.modifies(Wa));L=0;for(va=B.length;L<va;++L)La=B[L],Wa=La.filter,V.forEach(Ca=>{Wa(Ca)&&0<Y[Ca[Z]]&&
Aa(Ca,La.field,La.value)}),I.modifies(La.field);if(D)I.mod=u.length||C.length?V.filter(Ca=>0<Y[Ca[Z]]):V.slice();else for(X in t)I.mod.push(t[X]);(A||null==A&&(u.length||C.length))&&I.clean(!0);return I}}}function kc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Yb(g,u,m,C){this.id=++Ga;this.value=g;this.qrank=this.rank=this.stamp=-1;this.flags=0;u&&(this._update=u);m&&this.parameters(m,C)}function Ua(g){return function(u){const m=this.flags;if(0===arguments.length)return!!(m&
g);this.flags=u?m|g:m&~g;return this}}function tb(g,u,m){this.id=++ba;this.value=null;m&&(this.receive=m);g&&(this._filter=g);u&&(this._apply=u)}function Jb(g,u,m){return new tb(g,u,m)}function Kb(g){let u;const m=new Promise(C=>u=C);m.requests=0;m.done=()=>{0===--m.requests&&(g._pending=null,u(g))};return g._pending=m}function Cb(g,u,m,C,B,A){const D=k.extend({},A,oa);let I;k.isFunction(m)||(m=k.constant(m));void 0===C?B=V=>g.touch(m(V)):k.isFunction(C)?(I=new Yb(null,C,B,!1),B=V=>{I.evaluate(V);
V=m(V);const Aa=I.value;uc(Aa)?g.pulse(V,Aa,A):g.update(V,Aa,D)}):B=V=>g.update(m(V),C,D);u.apply(B)}function Ob(g,u,m,C,B,A){void 0===C?u.targets().add(m):(A=A||{},C=new Yb(null,ab(m,C),B,!1),C.modified(A.force),C.rank=u.rank,u.targets().add(C),m&&(C.skip(!0),C.value=m.value,C.targets().add(m),g.connect(m,[C])))}function ab(g,u){u=k.isFunction(u)?u:k.constant(u);return g?function(m,C){m=u(m,C);g.skip()||(g.skip(m!==this.value).value=m);return m}:u}function pb(g,u,m){this.dataflow=g;this.stamp=null==
u?-1:u;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Qa(g,u){const m=[];k.visitArray(g,u,C=>m.push(C));return m}function Da(g,u){const m={};g.visit(u,C=>{m[C[Z]]=1});return C=>m[C[Z]]?null:C}function Ka(g,u){return g?(m,C)=>g(m,C)&&u(m,C):u}function lb(g,u,m,C){const B=m.length;let A=0;this.dataflow=g;this.stamp=u;this.fields=null;this.encode=C||null;this.pulses=m;for(g=0;g<B;++g)if(C=m[g],C.stamp===u){if(C.fields){const D=this.fields||(this.fields={});for(const I in C.fields)D[I]=
1}C.changed(this.ADD)&&(A|=this.ADD);C.changed(this.REM)&&(A|=this.REM);C.changed(this.MOD)&&(A|=this.MOD)}this.changes=A}function mb(g){g.error("Dataflow already running. Use runAsync() to chain invocations.");return g}function Pa(g,u){if(u&&u.stamp===g.stamp)return u;g=g.fork();u&&u!==q&&(g.source=u.source);return g}function wb(g){let u=[];return{clear:()=>u=[],size:()=>u.length,peek:()=>u[0],push:m=>{u.push(m);return sb(u,0,u.length-1,g)},pop:()=>{var m=u.pop();let C;if(u.length){C=u[0];u[0]=m;
m=u;var B=0;const A=B,D=m.length,I=m[B];let V=(B<<1)+1,Aa;for(;V<D;)Aa=V+1,Aa<D&&0<=g(m[V],m[Aa])&&(V=Aa),m[B]=m[V],B=V,V=(B<<1)+1;m[B]=I;sb(m,A,B,g)}else C=m;return C}}}function sb(g,u,m,C){let B,A;const D=g[m];for(;m>u;)if(A=m-1>>1,B=g[A],0>C(D,B))g[m]=B,m=A;else break;return g[m]=D}function Pb(){this.logger(k.logger());this.logLevel(k.Error);this._rank=this._clock=0;this._locale=jb.defaultLocale();try{this._loader=P.loader()}catch(g){}this._touched=Fb(k.id);this._input={};this._pulse=null;this._heap=
wb((g,u)=>g.qrank-u.qrank);this._postrun=[]}function Vb(g){return function(){return this._log[g].apply(this,arguments)}}function nb(g,u){Yb.call(this,g,null,u)}function qa(g){g=g&&g.toLowerCase();return k.hasOwnProperty(Q,g)?Q[g]:null}const Z=Symbol("vega_id");let Fa=1;kc.prototype={set(g,u,m,C){const B=this[g],A=this["_:mod:_"];if(null!=u&&0<=u){if(B[u]!==m||C)B[u]=m,A[u+":"+g]=-1,A[g]=-1}else if(B!==m||C)this[g]=m,A[g]=k.isArray(m)?1+m.length:-1;return this},modified(g,u){const m=this["_:mod:_"];
if(!arguments.length){for(var C in m)if(m[C])return!0;return!1}if(k.isArray(g)){for(C=0;C<g.length;++C)if(m[g[C]])return!0;return!1}return null!=u&&0<=u?u+1<m[g]||!!m[u+":"+g]:!!m[g]},clear(){this["_:mod:_"]={};return this}};let Ga=0;const eb=new kc;Yb.prototype={targets(){return this._targets||(this._targets=Fb(k.id))},set(g){return this.value!==g?(this.value=g,1):0},skip:Ua(1),modified:Ua(2),parameters(g,u,m){u=!1!==u;const C=this._argval=this._argval||new kc,B=this._argops=this._argops||[],A=[];
let D,I,V,Aa;const Y=(t,L,va)=>{va instanceof Yb?(va!==this&&(u&&va.targets().add(this),A.push(va)),B.push({op:va,name:t,index:L})):C.set(t,L,va)};for(D in g)if(I=g[D],"pulse"===D)k.array(I).forEach(t=>{t instanceof Yb?t!==this&&(t.targets().add(this),A.push(t)):k.error("Pulse parameters must be operator instances.")}),this.source=I;else if(k.isArray(I))for(C.set(D,-1,Array(V=I.length)),Aa=0;Aa<V;++Aa)Y(D,Aa,I[Aa]);else Y(D,-1,I);this.marshall().clear();m&&(B.initonly=!0);return A},marshall(g){const u=
this._argval||eb,m=this._argops;let C,B,A,D;if(m){const I=m.length;for(B=0;B<I;++B)C=m[B],A=C.op,D=A.modified()&&A.stamp===g,u.set(C.name,C.index,A.value,D);if(m.initonly){for(B=0;B<I;++B)C=m[B],C.op.targets().remove(this);this._update=this._argops=null}}return u},detach(){const g=this._argops;let u,m;if(g)for(u=0,m=g.length;u<m;++u){var C=g[u];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(g){var u=this._update;if(u){const m=this.marshall(g.stamp);u=u.call(this,
m,g);m.clear();if(u!==this.value)this.value=u;else if(!this.modified())return g.StopPropagation}},run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?(this.skip(!1),u=0):u=this.evaluate(g);return this.pulse=u||g}};let ba=0;tb.prototype={_filter:k.truthy,_apply:k.identity,targets(){return this._targets||(this._targets=Fb(k.id))},consume(g){if(!arguments.length)return!!this._consume;this._consume=!!g;return this},receive(g){if(this._filter(g)){const u=this.value=this._apply(g),m=
this._targets,C=m?m.length:0;for(let B=0;B<C;++B)m[B].receive(u);this._consume&&(g.preventDefault(),g.stopPropagation())}},filter(g){g=Jb(g);this.targets().add(g);return g},apply(g){g=Jb(null,g);this.targets().add(g);return g},merge(){const g=Jb();this.targets().add(g);for(let u=0,m=arguments.length;u<m;++u)arguments[u].targets().add(g);return g},throttle(g){let u=-1;return this.filter(()=>{const m=Date.now();return m-u>g?(u=m,1):0})},debounce(g){const u=Jb();this.targets().add(Jb(null,null,k.debounce(g,
m=>{const C=m.dataflow;u.receive(m);C&&C.run&&C.run()})));return u},between(g,u){let m=!1;g.targets().add(Jb(null,null,()=>m=!0));u.targets().add(Jb(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=k.truthy;this._targets=null}};const oa={skip:!0},q={};pb.prototype={StopPropagation:q,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(g){return(new pb(this.dataflow)).init(this,g)},clone(){const g=this.fork(7);g.add=g.add.slice();g.rem=
g.rem.slice();g.mod=g.mod.slice();g.source&&(g.source=g.source.slice());return g.materialize(23)},addAll(){let g=this;g.source&&g.add!==g.rem&&(g.rem.length||g.source.length!==g.add.length)&&(g=(new pb(this.dataflow)).init(this),g.add=g.source,g.rem=[]);return g},init(g,u){this.stamp=g.stamp;this.encode=g.encode;!g.fields||u&64||(this.fields=g.fields);u&1?(this.addF=g.addF,this.add=g.add):(this.addF=null,this.add=[]);u&2?(this.remF=g.remF,this.rem=g.rem):(this.remF=null,this.rem=[]);u&4?(this.modF=
g.modF,this.mod=g.mod):(this.modF=null,this.mod=[]);u&32?this.source=this.srcF=null:(this.srcF=g.srcF,this.source=g.source,g.cleans&&(this.cleans=g.cleans));return this},runAfter(g){this.dataflow.runAfter(g)},changed(g){g=g||7;return g&1&&this.add.length||g&2&&this.rem.length||g&4&&this.mod.length},reflow(g){if(g)return this.fork(7).reflow();g=this.add.length;const u=this.source&&this.source.length;u&&u!==g&&(this.mod=this.source,g&&this.filter(4,Da(this,1)));return this},clean(g){return arguments.length?
(this.cleans=!!g,this):this.cleans},modifies(g){const u=this.fields||(this.fields={});k.isArray(g)?g.forEach(m=>u[m]=!0):u[g]=!0;return this},modified(g,u){const m=this.fields;return(u||this.mod.length)&&m?arguments.length?k.isArray(g)?g.some(C=>m[C]):m[g]:!!m:!1},filter(g,u){g&1&&(this.addF=Ka(this.addF,u));g&2&&(this.remF=Ka(this.remF,u));g&4&&(this.modF=Ka(this.modF,u));g&16&&(this.srcF=Ka(this.srcF,u));return this},materialize(g){g=g||7;g&1&&this.addF&&(this.add=Qa(this.add,this.addF),this.addF=
null);g&2&&this.remF&&(this.rem=Qa(this.rem,this.remF),this.remF=null);g&4&&this.modF&&(this.mod=Qa(this.mod,this.modF),this.modF=null);g&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(g,u){if(g&16)return k.visitArray(this.source,this.srcF,u),this;g&1&&k.visitArray(this.add,this.addF,u);g&2&&k.visitArray(this.rem,this.remF,u);g&4&&k.visitArray(this.mod,this.modF,u);const m=this.source;g&8&&m&&(g=this.add.length+this.mod.length,g!==m.length&&(g?k.visitArray(m,
Da(this,5),u):k.visitArray(m,this.srcF,u)));return this}};k.inherits(lb,pb,{fork(g){const u=(new pb(this.dataflow)).init(this,g&this.NO_FIELDS);void 0!==g&&(g&u.ADD&&this.visit(u.ADD,m=>u.add.push(m)),g&u.REM&&this.visit(u.REM,m=>u.rem.push(m)),g&u.MOD&&this.visit(u.MOD,m=>u.mod.push(m)));return u},changed(g){return this.changes&g},modified(g){const u=this.fields;return u&&this.changes&this.MOD?k.isArray(g)?g.some(m=>u[m]):u[g]:0},filter(){k.error("MultiPulse does not support filtering.")},materialize(){k.error("MultiPulse does not support materialization.")},
visit(g,u){const m=this.pulses,C=m.length;let B=0;if(g&this.SOURCE)for(;B<C;++B)m[B].visit(g,u);else for(;B<C;++B)m[B].stamp===this.stamp&&m[B].visit(g,u);return this}});const M={skip:!1,force:!1};Pb.prototype={stamp(){return this._clock},loader(g){return arguments.length?(this._loader=g,this):this._loader},locale(g){return arguments.length?(this._locale=g,this):this._locale},logger(g){return arguments.length?(this._log=g,this):this._log},error:Vb("error"),warn:Vb("warn"),info:Vb("info"),debug:Vb("debug"),
logLevel:Vb("level"),cleanThreshold:1E4,add:function(g,u,m,C){let B=1;g instanceof Yb||(g&&g.prototype instanceof Yb?g=new g:k.isFunction(g)?g=new Yb(null,g):(B=0,g=new Yb(g,u)));this.rank(g);B&&(C=m,m=u);m&&this.connect(g,g.parameters(m,C));this.touch(g);return g},connect:function(g,u){const m=g.rank,C=u.length;for(let B=0;B<C;++B)if(m<u[B].rank){this.rerank(g);break}},rank:function(g){g.rank=++this._rank},rerank:function(g){const u=[g];let m,C,B;for(;u.length;)if(this.rank(m=u.pop()),C=m._targets)for(B=
C.length;0<=--B;)u.push(m=C[B]),m===g&&k.error("Cycle detected in dataflow graph.")},pulse:function(g,u,m){this.touch(g,m||M);m=new pb(this,this._clock+(this._pulse?0:1));const C=g.pulse&&g.pulse.source||[];m.target=g;this._input[g.id]=u.pulse(m,C);return this},touch:function(g,u){u=u||M;this._pulse?this._enqueue(g):this._touched.add(g);u.skip&&g.skip(!0);return this},update:function(g,u,m){m=m||M;(g.set(u)||m.force)&&this.touch(g,m);return this},changeset:Ab,ingest:function(g,u,m){u=this.parse(u,
m);return this.pulse(g,this.changeset().insert(u))},parse:function(g,u){const m=this.locale();return P.read(g,u,m.timeParse,m.utcParse)},preload:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Kb(C);B.requests+=1;const A=yield C.request(u,m);C.pulse(g,C.changeset().remove(k.truthy).insert(A.data||[]));B.done();return A})},request:function(g,u){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=
yield m.loader().load(g,{context:"dataflow",response:P.responseType(u&&u.type)});try{B=m.parse(B,u)}catch(A){C=-2,m.warn("Data ingestion failed",g,A)}}catch(A){C=-1,m.warn("Loading failed",g,A)}return{data:B,status:C}})},events:function(g,u,m,C){const B=this,A=Jb(m,C);m=function(D){D.dataflow=B;try{A.receive(D)}catch(I){B.error(I)}finally{B.run()}};g="string"===typeof g&&"undefined"!==typeof document?document.querySelectorAll(g):k.array(g);C=g.length;for(let D=0;D<C;++D)g[D].addEventListener(u,m);
return A},on:function(g,u,m,C,B){(g instanceof Yb?Ob:Cb)(this,g,u,m,C,B);return this},evaluate:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return mb(C);C._pending&&(yield C._pending);u&&(yield bc(C,u));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var A=++C._clock;C._pulse=new pb(C,A,g);C._touched.forEach(Y=>C._enqueue(Y,!0));C._touched=Fb(k.id);var D=0;let I,V,Aa;try{for(;0<C._heap.size();)I=
C._heap.pop(),I.rank!==I.qrank?C._enqueue(I,!0):(V=I.run(C._getPulse(I,g)),V.then?V=yield V:V.async&&(B.push(V.async),V=q),V!==q&&I._targets&&I._targets.forEach(Y=>C._enqueue(Y)),++D)}catch(Y){C._heap.clear(),Aa=Y}C._input={};C._pulse=null;C.debug(`Pulse ${A}: ${D} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(A=C._postrun.sort((Y,t)=>t.priority-Y.priority),C._postrun=[],D=0;D<A.length;++D)yield bc(C,A[D].callback);m&&(yield bc(C,m));B.length&&Promise.all(B).then(Y=>C.runAsync(null,
()=>{Y.forEach(t=>{try{t(C)}catch(L){C.error(L)}})}));return C})},run:function(g,u,m){return this._pulse?mb(this):(this.evaluate(g,u,m),this)},runAsync:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(g,u,m)).then(B,B);return C._running})},runAfter:function(g,u,m){if(this._pulse||u)this._postrun.push({priority:m||0,callback:g});else try{g(this)}catch(C){this.error(C)}},
_enqueue:function(g,u){const m=g.stamp<this._clock;m&&(g.stamp=this._clock);if(m||u)g.qrank=g.rank,this._heap.push(g)},_getPulse:function(g,u){const m=g.source,C=this._clock;return m&&k.isArray(m)?new lb(this,C,m.map(B=>B.pulse),u):this._input[g.id]||Pa(this._pulse,m&&m.pulse)}};k.inherits(nb,Yb,{run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?this.skip(!1):u=this.evaluate(g);u=u||g;u.then?u=u.then(m=>this.pulse=m):u!==g.StopPropagation&&(this.pulse=u);return u},evaluate(g){const u=
this.marshall(g.stamp);g=this.transform(u,g);u.clear();return g},transform(){}});const Q={};v.Dataflow=Pb;v.EventStream=tb;v.MultiPulse=lb;v.Operator=Yb;v.Parameters=kc;v.Pulse=pb;v.Transform=nb;v.UniqueList=Fb;v.asyncCallback=bc;v.changeset=Ab;v.definition=function(g){return(g=qa(g))&&g.Definition||null};v.derive=function(g){return Bc(g,vc({}))};v.ingest=vc;v.isChangeSet=uc;v.isTuple=function(g){return!(!g||!g[Z])};v.rederive=Bc;v.replace=function(g,u){u[Z]=g[Z];return u};v.stableCompare=function(g,
u){return g?u?(m,C)=>g(m,C)||u(m)[Z]-u(C)[Z]:(m,C)=>g(m,C)||m[Z]-C[Z]:null};v.transform=qa;v.transforms=Q;v.tupleid=function(g){return g[Z]};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[47]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(45),Db(40),Db(46),Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,jb,Fb){function bc(nb,qa){const Z=nb.bitmap();(qa||[]).forEach(Fa=>Z.set(nb(Fa.boundary[0]),nb(Fa.boundary[3])));
return[Z,void 0]}function vc(nb,qa,Z,Fa,Ga){const eb=nb.width,ba=nb.height;Fa=Fa||Ga;const oa=P.canvas(eb,ba).getContext("2d");var q=P.canvas(eb,ba).getContext("2d"),M=Fa&&P.canvas(eb,ba).getContext("2d");Z.forEach(I=>Bc(oa,I,!1));Bc(q,qa,!1);Fa&&Bc(M,qa,!0);qa=new Uint32Array(oa.getImageData(0,0,eb,ba).data.buffer);Z=new Uint32Array(q.getImageData(0,0,eb,ba).data.buffer);M=Fa&&new Uint32Array(M.getImageData(0,0,eb,ba).data.buffer);q=nb.bitmap();const Q=Fa&&nb.bitmap();let g,u;let m,C,B,A;for(u=0;u<
ba;++u)for(g=0;g<eb;++g){var D=u*eb+g;C=qa[D]&4278190080;A=Z[D]&4278190080;B=Fa&&M[D]&4278190080;if(C||B||A)D=nb(g),m=nb(u),Ga||!C&&!A||q.set(D,m),Fa&&(C||B)&&Q.set(D,m)}return[q,Q]}function Bc(nb,qa,Z){if(qa.length){var Fa=qa[0].mark.marktype;"group"===Fa?qa.forEach(Ga=>{Ga.items.forEach(eb=>Bc(nb,eb.items,Z))}):k.Marks[Fa].draw(nb,{items:Z?qa.map(uc):qa})}}function uc(nb){nb=jb.rederive(nb,{});return nb.stroke&&0!==nb.strokeOpacity||nb.fill&&0!==nb.fillOpacity?Object.assign({},nb,{strokeOpacity:1,
stroke:"#000",fillOpacity:0}):nb}function Ab(nb,qa){const Z=new Uint32Array(~~((nb*qa+32)/32));return{array:Z,get:(Fa,Ga)=>{Fa=Ga*nb+Fa;return Z[Fa>>>5]&1<<(Fa&31)},set:(Fa,Ga)=>{Fa=Ga*nb+Fa;Z[Fa>>>5]|=1<<(Fa&31)},clear:(Fa,Ga)=>{Fa=Ga*nb+Fa;Z[Fa>>>5]&=~(1<<(Fa&31))},getRange:(Fa,Ga,eb,ba)=>{let oa,q,M;for(;ba>=Ga;--ba){var Q=ba*nb+Fa;oa=ba*nb+eb;q=Q>>>5;M=oa>>>5;if(q===M){if(Z[q]&Qa[Q&31]&Da[(oa&31)+1])return!0}else{if(Z[q]&Qa[Q&31]||Z[M]&Da[(oa&31)+1])return!0;for(Q=q+1;Q<M;++Q)if(Z[Q])return!0}}return!1},
setRange:(Fa,Ga,eb,ba)=>{let oa,q,M;for(;Ga<=ba;++Ga){var Q=Ga*nb+Fa;oa=Ga*nb+eb;q=Q>>>5;M=oa>>>5;if(q===M)Z[q]|=Qa[Q&31]&Da[(oa&31)+1];else for(Z[q]|=Qa[Q&31],Z[M]|=Da[(oa&31)+1],Q=q+1;Q<M;++Q)Z[Q]|=4294967295}},clearRange:(Fa,Ga,eb,ba)=>{let oa,q,M;for(;Ga<=ba;++Ga){var Q=Ga*nb+Fa;oa=Ga*nb+eb;q=Q>>>5;M=oa>>>5;if(q===M)Z[q]&=Da[Q&31]|Qa[(oa&31)+1];else for(Z[q]&=Da[Q&31],Z[M]&=Qa[(oa&31)+1],Q=q+1;Q<M;++Q)Z[Q]&=0}},outOfBounds:(Fa,Ga,eb,ba)=>0>Fa||0>Ga||ba>=qa||eb>=nb}}function kc(nb,qa,Z){const Fa=
Math.max(1,Math.sqrt(nb*qa/1E6)),Ga=~~((nb+2*Z+Fa)/Fa),eb=~~((qa+2*Z+Fa)/Fa),ba=oa=>~~((oa+Z)/Fa);ba.invert=oa=>oa*Fa-Z;ba.bitmap=()=>Ab(Ga,eb);ba.ratio=Fa;ba.padding=Z;ba.width=nb;ba.height=qa;return ba}function Yb(nb,qa,Z,Fa,Ga,eb){Z/=2;return 0>nb-Z||nb+Z>Ga||0>qa-(Z=Fa/2)||qa+Z>eb}function Ua(nb,qa,Z,Fa,Ga,eb,ba,oa){Ga=Ga*eb/(2*Fa);Fa=nb(qa-Ga);qa=nb(qa+Ga);Ga=nb(Z-(eb/=2));nb=nb(Z+eb);return ba.outOfBounds(Fa,Ga,qa,nb)||ba.getRange(Fa,Ga,qa,nb)||oa&&oa.getRange(Fa,Ga,qa,nb)}function tb(nb,qa,
Z,Fa){const Ga=nb.width,eb=nb.height,ba=qa[0],oa=qa[1],q=Fa.length;return function(M){const Q=M.boundary,g=M.datum.fontSize;if(0>Q[2]||0>Q[5]||Q[0]>Ga||Q[3]>eb)return!1;var u;let m=null!=(u=M.textWidth)?u:0,C;let B,A;let D;let I;let V,Aa;for(let qc=0;qc<q;++qc){u=(Z[qc]&3)-1;C=(Z[qc]>>>2&3)-1;var Y=0===u&&0===C||0>Fa[qc];var t=u&&C?Math.SQRT1_2:1;B=0>Fa[qc]?-1:1;A=Q[1+u]+Fa[qc]*u*t;I=Q[4+C]+B*g*C/2+Fa[qc]*C*t;t=I-g/2;D=I+g/2;var L=nb(A);V=nb(t);Aa=nb(D);if(!m){var va=L;var La=V;var Wa=Aa;var $a=ba,
X=oa,Ca=Y;if($a.outOfBounds(va,La,L,Wa)||(Ca&&X||$a).getRange(va,La,L,Wa))continue;else m=k.textMetrics.width(M.datum,M.datum.text)}La=A+B*m*u/2;A=La-m/2;va=La+m/2;L=nb(A);Wa=nb(va);$a=L;X=Wa;Ca=V;var Xa=Aa,Ib=ba,yc=oa;if(!Ib.outOfBounds($a,Ca,X,Xa)&&!(Y&&yc||Ib).getRange($a,Ca,X,Xa))return M.x=u?0>u*B?va:A:La,M.y=C?0>C*B?D:t:I,M.align=mb[u*B+1],M.baseline=Pa[C*B+1],ba.setRange(L,V,Wa,Aa),!0}return!1}}function Jb(nb,qa,Z,Fa,Ga,eb,ba,oa,q,M,Q){if(!nb.length)return nb;var g=Math.max(Fa.length,Ga.length);
const u=Kb(Fa,g);Ga=Cb(Ga,g);const m=Ob(nb[0].datum);var C="group"===m&&nb[0].datum.items[q].marktype;g="area"===C;const B=ab(m,C,oa,q),A=null===M||Infinity===M;C=g&&"naive"===Q;let D=-1,I=-1;oa=nb.map(Y=>{const t=A?k.textMetrics.width(Y,Y.text):void 0;D=Math.max(D,t);I=Math.max(I,Y.fontSize);return{datum:Y,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:B(Y),textWidth:t}});M=null===M||Infinity===M?Math.max(D,I)+Math.max(...Fa):M;qa=kc(qa[0],qa[1],M);if(!C){Z&&oa.sort((Y,t)=>Z(Y.datum,
t.datum));var V=!1;for(Fa=0;Fa<Ga.length&&!V;++Fa)V=5===Ga[Fa]||0>u[Fa];nb=(m&&ba||g)&&nb.map(Y=>Y.datum);V=eb.length||nb?vc(qa,nb||[],eb,V,g):bc(qa,ba&&oa)}const Aa=g?sb[Q](qa,V,ba,q):tb(qa,V,Ga,u);oa.forEach(Y=>Y.opacity=+Aa(Y));return oa}function Kb(nb,qa){const Z=new Float64Array(qa),Fa=nb.length;for(let Ga=0;Ga<Fa;++Ga)Z[Ga]=nb[Ga]||0;for(nb=Fa;nb<qa;++nb)Z[nb]=Z[Fa-1];return Z}function Cb(nb,qa){const Z=new Int8Array(qa),Fa=nb.length;for(let Ga=0;Ga<Fa;++Ga)Z[Ga]|=wb[nb[Ga]];for(nb=Fa;nb<qa;++nb)Z[nb]=
Z[Fa-1];return Z}function Ob(nb){return nb&&nb.mark&&nb.mark.marktype}function ab(nb,qa,Z,Fa){const Ga=eb=>[eb.x,eb.x,eb.x,eb.y,eb.y,eb.y];return nb?"line"===nb||"area"===nb?eb=>Ga(eb.datum):"line"===qa?eb=>{eb=eb.datum.items[Fa].items;return Ga(eb.length?eb["start"===Z?0:eb.length-1]:{x:NaN,y:NaN})}:eb=>{eb=eb.datum.bounds;return[eb.x1,(eb.x1+eb.x2)/2,eb.x2,eb.y1,(eb.y1+eb.y2)/2,eb.y2]}:Ga}function pb(nb){jb.Transform.call(this,null,nb)}const Qa=new Uint32Array(33),Da=new Uint32Array(33);Da[0]=0;
Qa[0]=~Da[0];for(let nb=1;32>=nb;++nb)Da[nb]=Da[nb-1]<<1|1,Qa[nb]=~Da[nb];const Ka=[-1,-1,1,1],lb=[-1,1,-1,1],mb=["right","center","left"],Pa=["bottom","middle","top"],wb={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},sb={naive:function(nb,qa,Z,Fa){const Ga=nb.width,eb=nb.height;return function(ba){const oa=ba.datum.datum.items[Fa].items,q=oa.length,M=ba.datum.fontSize,Q=k.textMetrics.width(ba.datum,ba.datum.text);let g=0;let u,m,C,B,A;for(let I=
0;I<q;++I){var D=oa[I].x;m=oa[I].y;u=void 0===oa[I].x2?D:oa[I].x2;C=void 0===oa[I].y2?m:oa[I].y2;B=(D+u)/2;A=(m+C)/2;D=Math.abs(u-D+C-m);D>=g&&(g=D,ba.x=B,ba.y=A)}B=Q/2;A=M/2;D=ba.x-B;u=ba.x+B;m=ba.y-A;C=ba.y+A;ba.align="center";0>D&&u<=Ga?ba.align="left":0<=D&&Ga<u&&(ba.align="right");ba.baseline="middle";0>m&&C<=eb?ba.baseline="top":0<=m&&eb<C&&(ba.baseline="bottom");return!0}},"reduced-search":function(nb,qa,Z,Fa){function Ga(M,Q,g,u,m){M=nb.invert(M);Q=nb.invert(Q);let C=g,B=ba,A;if(!Yb(M,Q,u,
m,eb,ba)&&!Ua(nb,M,Q,m,u,C,oa,q)&&!Ua(nb,M,Q,m,u,m,oa,null)){for(;1<=B-C;)A=(C+B)/2,Ua(nb,M,Q,m,u,A,oa,q)?B=A:C=A;if(C>g)return[M,Q,C,!0]}}const eb=nb.width,ba=nb.height,oa=qa[0],q=qa[1];return function(M){const Q=M.datum.datum.items[Fa].items,g=Q.length,u=M.datum.fontSize,m=k.textMetrics.width(M.datum,M.datum.text);let C=Z?u:0,B=!1,A=!1,D=0;let I;let V;let Aa,Y,t,L,va,La,Wa,$a;for(let Ib=0;Ib<g;++Ib){var X=Q[Ib].x;var Ca=Q[Ib].y;I=void 0===Q[Ib].x2?X:Q[Ib].x2;V=void 0===Q[Ib].y2?Ca:Q[Ib].y2;if(X>
I){var Xa=X;X=I;I=Xa}Ca>V&&(Xa=Ca,Ca=V,V=Xa);Y=nb(X);L=nb(I);t=~~((Y+L)/2);va=nb(Ca);Wa=nb(V);La=~~((va+Wa)/2);for(Xa=t;Xa>=Y;--Xa)for(Aa=La;Aa>=va;--Aa)($a=Ga(Xa,Aa,C,m,u))&&([M.x,M.y,C,B]=$a);for(Xa=t;Xa<=L;++Xa)for(Aa=La;Aa<=Wa;++Aa)($a=Ga(Xa,Aa,C,m,u))&&([M.x,M.y,C,B]=$a);B||Z||(Xa=Math.abs(I-X+V-Ca),X=(X+I)/2,Ca=(Ca+V)/2,Xa>=D&&!Yb(X,Ca,m,u,eb,ba)&&!Ua(nb,X,Ca,u,m,u,oa,null)&&(D=Xa,M.x=X,M.y=Ca,A=!0))}return B||A?(X=m/2,Ca=u/2,oa.setRange(nb(M.x-X),nb(M.y-Ca),nb(M.x+X),nb(M.y+Ca)),M.align="center",
M.baseline="middle",!0):!1}},floodfill:function(nb,qa,Z,Fa){const Ga=nb.width,eb=nb.height,ba=qa[0],oa=qa[1],q=nb.bitmap();return function(M){const Q=M.datum.datum.items[Fa].items,g=Q.length,u=M.datum.fontSize,m=k.textMetrics.width(M.datum,M.datum.text),C=[];let B=Z?u:0,A=!1,D=!1,I=0,V,Aa,Y,t,L,va;var La;for(let X=0;X<g;++X){V=Q[X].x;Y=Q[X].y;Aa=void 0===Q[X].x2?V:Q[X].x2;t=void 0===Q[X].y2?Y:Q[X].y2;for(C.push([nb((V+Aa)/2),nb((Y+t)/2)]);C.length;)if([Wa,$a]=C.pop(),!(ba.get(Wa,$a)||oa.get(Wa,$a)||
q.get(Wa,$a))){q.set(Wa,$a);for(La=0;4>La;++La)L=Wa+Ka[La],va=$a+lb[La],q.outOfBounds(L,va,L,va)||C.push([L,va]);L=nb.invert(Wa);va=nb.invert($a);var Wa=B;var $a=eb;if(!Yb(L,va,m,u,Ga,eb)&&!Ua(nb,L,va,u,m,Wa,ba,oa)&&!Ua(nb,L,va,u,m,u,ba,null)){for(;1<=$a-Wa;)La=(Wa+$a)/2,Ua(nb,L,va,u,m,La,ba,oa)?$a=La:Wa=La;Wa>B&&(M.x=L,M.y=va,B=Wa,A=!0)}}A||Z||(Wa=Math.abs(Aa-V+t-Y),L=(V+Aa)/2,va=(Y+t)/2,Wa>=I&&!Yb(L,va,m,u,Ga,eb)&&!Ua(nb,L,va,u,m,u,ba,null)&&(I=Wa,M.x=L,M.y=va,D=!0))}return A||D?(L=m/2,va=u/2,ba.setRange(nb(M.x-
L),nb(M.y-va),nb(M.x+L),nb(M.y+va)),M.align="center",M.baseline="middle",!0):!1}}},Pb=["x","y","opacity","align","baseline"],Vb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");pb.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Vb},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},
{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Pb.length,default:Pb}]};Fb.inherits(pb,jb.Transform,{transform(nb,qa){function Z(eb){eb=nb[eb];return Fb.isFunction(eb)&&qa.modified(eb.fields)}const Fa=nb.modified();if(Fa||qa.changed(qa.ADD_REM)||Z("sort")){nb.size&&
2===nb.size.length||Fb.error("Size parameter should be specified as a [width, height] array.");var Ga=nb.as||Pb;Jb(qa.materialize(qa.SOURCE).source||[],nb.size,nb.sort,Fb.array(null==nb.offset?1:nb.offset),Fb.array(nb.anchor||Vb),nb.avoidMarks||[],!1!==nb.avoidBaseMark,nb.lineAnchor||"end",nb.markIndex||0,void 0===nb.padding?0:nb.padding,nb.method||"naive").forEach(eb=>{const ba=eb.datum;ba[Ga[0]]=eb.x;ba[Ga[1]]=eb.y;ba[Ga[2]]=eb.opacity;ba[Ga[3]]=eb.align;ba[Ga[4]]=eb.baseline});return qa.reflow(Fa).modifies(Ga)}}});
v.label=pb})};
shadow$provide[48]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function P(t){const L=k.array(t).slice(),va={};L.length||k.error("Missing time unit.");L.forEach(La=>{k.hasOwnProperty(Da,La)?va[La]=1:k.error(`Invalid time unit: ${La}.`)});1<(va.week||va.day?1:0)+(va.quarter||va.month||
va.date?1:0)+(va.dayofyear?1:0)&&k.error(`Incompatible time units: ${t}`);L.sort((La,Wa)=>Da[La]-Da[Wa]);return L}function jb(t,L,va,La){function Wa($a){return t($a=0===arguments.length?new Date:new Date(+$a)),$a}Wa.floor=function($a){return t($a=new Date(+$a)),$a};Wa.ceil=function($a){return t($a=new Date($a-1)),L($a,1),t($a),$a};Wa.round=function($a){var X=Wa($a),Ca=Wa.ceil($a);return $a-X<Ca-$a?X:Ca};Wa.offset=function($a,X){return L($a=new Date(+$a),null==X?1:Math.floor(X)),$a};Wa.range=function($a,
X,Ca){var Xa=[],Ib;$a=Wa.ceil($a);Ca=null==Ca?1:Math.floor(Ca);if(!($a<X&&0<Ca))return Xa;do Xa.push(Ib=new Date(+$a)),L($a,Ca),t($a);while(Ib<$a&&$a<X);return Xa};Wa.filter=function($a){return jb(function(X){if(X>=X)for(;t(X),!$a(X);)X.setTime(X-1)},function(X,Ca){if(X>=X)if(0>Ca)for(;0>=++Ca;)for(;L(X,-1),!$a(X););else for(;0<=--Ca;)for(;L(X,1),!$a(X););})};va&&(Wa.count=function($a,X){lb.setTime(+$a);mb.setTime(+X);t(lb);t(mb);return Math.floor(va(lb,mb))},Wa.every=function($a){$a=Math.floor($a);
return isFinite($a)&&0<$a?1<$a?Wa.filter(La?function(X){return 0===La(X)%$a}:function(X){return 0===Wa.count(0,X)%$a}):Wa:null});return Wa}function Fb(t){return jb(function(L){L.setDate(L.getDate()-(L.getDay()+7-t)%7);L.setHours(0,0,0,0)},function(L,va){L.setDate(L.getDate()+7*va)},function(L,va){return(va-L-6E4*(va.getTimezoneOffset()-L.getTimezoneOffset()))/6048E5})}function bc(t){return jb(function(L){L.setUTCDate(L.getUTCDate()-(L.getUTCDay()+7-t)%7);L.setUTCHours(0,0,0,0)},function(L,va){L.setUTCDate(L.getUTCDate()+
7*va)},function(L,va){return(va-L)/6048E5})}function vc(t,L){return null==t||null==L?NaN:t<L?-1:t>L?1:t>=L?0:NaN}function Bc(t){function L($a,X,Ca=0,Xa=$a.length){if(Ca<Xa){if(0!==La(X,X))return Xa;do{const Ib=Ca+Xa>>>1;0>Wa($a[Ib],X)?Ca=Ib+1:Xa=Ib}while(Ca<Xa)}return Ca}let va=t,La=t,Wa=t;2!==t.length&&(va=($a,X)=>t($a)-X,La=vc,Wa=($a,X)=>vc(t($a),X));return{left:L,center:function($a,X,Ca=0,Xa=$a.length){Xa=L($a,X,Ca,Xa-1);return Xa>Ca&&va($a[Xa-1],X)>-va($a[Xa],X)?Xa-1:Xa},right:function($a,X,Ca=
0,Xa=$a.length){if(Ca<Xa){if(0!==La(X,X))return Xa;do{const Ib=Ca+Xa>>>1;0>=Wa($a[Ib],X)?Ca=Ib+1:Xa=Ib}while(Ca<Xa)}return Ca}}}function uc(t,L,va){var La=Math.abs(L-t)/Math.max(0,va);va=Math.pow(10,Math.floor(Math.log(La)/Math.LN10));La/=va;La>=M?va*=10:La>=Q?va*=5:La>=g&&(va*=2);return L<t?-va:va}function Ab(t){u.setFullYear(t);u.setMonth(0);u.setDate(1);u.setHours(0,0,0,0);return u}function kc(t){return Vb.count(Ab(t.getFullYear())-1,t)}function Yb(t){return nb.count(Ab(t.getFullYear())-1,t)}function Ua(t,
L,va,La,Wa,$a,X){return 0<=t&&100>t?(L=new Date(-1,L,va,La,Wa,$a,X),L.setFullYear(t),L):new Date(t,L,va,La,Wa,$a,X)}function tb(t){const L=Date.UTC(t.getUTCFullYear(),0,1);return eb.count(L-1,t)}function Jb(t){const L=Date.UTC(t.getUTCFullYear(),0,1);return ba.count(L-1,t)}function Kb(t){u.setTime(Date.UTC(t,0,1));return u.getUTCDay()}function Cb(t,L,va,La,Wa,$a,X){return 0<=t&&100>t?(t=new Date(Date.UTC(-1,L,va,La,Wa,$a,X)),t.setUTCFullYear(va.y),t):new Date(Date.UTC(t,L,va,La,Wa,$a,X))}function Ob(t,
L,va,La,Wa){const $a=L||1,X=k.peek(t);L=(Rc,Pd,Na)=>{Na=Na||Rc;return ab(va[Na],La[Na],Rc===X&&$a,Pd)};const Ca=new Date;t=k.toSet(t);const Xa=t.year?L("year"):k.constant(2012),Ib=t.month?L("month"):t.quarter?L("quarter"):k.zero,yc=t.week&&t.day?L("day",1,"weekday"):t.week?L("week",1):t.day?L("day",1):t.date?L("date",1):t.dayofyear?L("dayofyear",1):k.one,qc=t.hours?L("hours"):k.zero,xc=t.minutes?L("minutes"):k.zero,dd=t.seconds?L("seconds"):k.zero,Zb=t.milliseconds?L("milliseconds"):k.zero;return function(Rc){Ca.setTime(+Rc);
Rc=Xa(Ca);return Wa(Rc,Ib(Ca),yc(Ca,Rc),qc(Ca),xc(Ca),dd(Ca),Zb(Ca))}}function ab(t,L,va,La){const Wa=1>=va?t:La?($a,X)=>La+va*Math.floor((t($a,X)-La)/va):($a,X)=>va*Math.floor(t($a,X)/va);return L?($a,X)=>L(Wa($a,X),X):Wa}function pb(t,L,va){return L+7*t-(va+6)%7}const Qa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Da=Qa.reduce((t,L,va)=>(t[L]=1+va,t),{}),Ka={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var lb=new Date,mb=new Date,Pa=jb(function(){},function(t,L){t.setTime(+t+L)},function(t,L){return L-t});Pa.every=function(t){t=Math.floor(t);return isFinite(t)&&0<t?1<t?jb(function(L){L.setTime(Math.floor(L/t)*t)},function(L,va){L.setTime(+L+va*t)},function(L,va){return(va-L)/t}):Pa:null};var wb=jb(function(t){t.setTime(t-t.getMilliseconds())},function(t,L){t.setTime(+t+
1E3*L)},function(t,L){return(L-t)/1E3},function(t){return t.getUTCSeconds()}),sb=jb(function(t){t.setTime(t-t.getMilliseconds()-1E3*t.getSeconds())},function(t,L){t.setTime(+t+6E4*L)},function(t,L){return(L-t)/6E4},function(t){return t.getMinutes()}),Pb=jb(function(t){t.setTime(t-t.getMilliseconds()-1E3*t.getSeconds()-6E4*t.getMinutes())},function(t,L){t.setTime(+t+36E5*L)},function(t,L){return(L-t)/36E5},function(t){return t.getHours()}),Vb=jb(t=>t.setHours(0,0,0,0),(t,L)=>t.setDate(t.getDate()+
L),(t,L)=>(L-t-6E4*(L.getTimezoneOffset()-t.getTimezoneOffset()))/864E5,t=>t.getDate()-1),nb=Fb(0);Fb(1);Fb(2);Fb(3);Fb(4);Fb(5);Fb(6);var qa=jb(function(t){t.setDate(1);t.setHours(0,0,0,0)},function(t,L){t.setMonth(t.getMonth()+L)},function(t,L){return L.getMonth()-t.getMonth()+12*(L.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Z=jb(function(t){t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,L){t.setFullYear(t.getFullYear()+L)},function(t,L){return L.getFullYear()-t.getFullYear()},
function(t){return t.getFullYear()});Z.every=function(t){return isFinite(t=Math.floor(t))&&0<t?jb(function(L){L.setFullYear(Math.floor(L.getFullYear()/t)*t);L.setMonth(0,1);L.setHours(0,0,0,0)},function(L,va){L.setFullYear(L.getFullYear()+va*t)}):null};var Fa=jb(function(t){t.setUTCSeconds(0,0)},function(t,L){t.setTime(+t+6E4*L)},function(t,L){return(L-t)/6E4},function(t){return t.getUTCMinutes()}),Ga=jb(function(t){t.setUTCMinutes(0,0,0)},function(t,L){t.setTime(+t+36E5*L)},function(t,L){return(L-
t)/36E5},function(t){return t.getUTCHours()}),eb=jb(function(t){t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCDate(t.getUTCDate()+L)},function(t,L){return(L-t)/864E5},function(t){return t.getUTCDate()-1}),ba=bc(0);bc(1);bc(2);bc(3);bc(4);bc(5);bc(6);var oa=jb(function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCMonth(t.getUTCMonth()+L)},function(t,L){return L.getUTCMonth()-t.getUTCMonth()+12*(L.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),q=jb(function(t){t.setUTCMonth(0,
1);t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCFullYear(t.getUTCFullYear()+L)},function(t,L){return L.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});q.every=function(t){return isFinite(t=Math.floor(t))&&0<t?jb(function(L){L.setUTCFullYear(Math.floor(L.getUTCFullYear()/t)*t);L.setUTCMonth(0,1);L.setUTCHours(0,0,0,0)},function(L,va){L.setUTCFullYear(L.getUTCFullYear()+va*t)}):null};var M=Math.sqrt(50),Q=Math.sqrt(10),g=Math.sqrt(2);const u=new Date,m={year:t=>t.getFullYear(),
quarter:t=>Math.floor(t.getMonth()/3),month:t=>t.getMonth(),date:t=>t.getDate(),hours:t=>t.getHours(),minutes:t=>t.getMinutes(),seconds:t=>t.getSeconds(),milliseconds:t=>t.getMilliseconds(),dayofyear:t=>kc(t),week:t=>Yb(t),weekday:(t,L)=>pb(Yb(t),t.getDay(),Ab(L).getDay()),day:(t,L)=>pb(1,t.getDay(),Ab(L).getDay())},C={quarter:t=>3*t,week:(t,L)=>pb(t,0,Ab(L).getDay())},B={year:t=>t.getUTCFullYear(),quarter:t=>Math.floor(t.getUTCMonth()/3),month:t=>t.getUTCMonth(),date:t=>t.getUTCDate(),hours:t=>t.getUTCHours(),
minutes:t=>t.getUTCMinutes(),seconds:t=>t.getUTCSeconds(),milliseconds:t=>t.getUTCMilliseconds(),dayofyear:t=>tb(t),week:t=>Jb(t),day:(t,L)=>pb(1,t.getUTCDay(),Kb(L)),weekday:(t,L)=>pb(Jb(t),t.getUTCDay(),Kb(L))},A={quarter:t=>3*t,week:(t,L)=>pb(t,0,Kb(L))},D={year:Z,quarter:qa.every(3),month:qa,week:nb,date:Vb,day:Vb,dayofyear:Vb,hours:Pb,minutes:sb,seconds:wb,milliseconds:Pa},I={year:q,quarter:oa.every(3),month:oa,week:ba,date:eb,day:eb,dayofyear:eb,hours:Ga,minutes:Fa,seconds:wb,milliseconds:Pa},
V="year month date hours minutes seconds milliseconds".split(" ");wb=V.slice(0,-1);sb=wb.slice(0,-1);Pb=sb.slice(0,-1);qa=Pb.slice(0,-1);Z=["year","month"];const Aa=["year"],Y=[[wb,1,1E3],[wb,5,5E3],[wb,15,15E3],[wb,30,3E4],[sb,1,6E4],[sb,5,3E5],[sb,15,9E5],[sb,30,18E5],[Pb,1,36E5],[Pb,3,108E5],[Pb,6,216E5],[Pb,12,432E5],[qa,1,864E5],[["year","week"],1,6048E5],[Z,1,2592E6],[Z,3,7776E6],[Aa,1,31536E6]];v.DATE="date";v.DAY="day";v.DAYOFYEAR="dayofyear";v.HOURS="hours";v.MILLISECONDS="milliseconds";
v.MINUTES="minutes";v.MONTH="month";v.QUARTER="quarter";v.SECONDS="seconds";v.TIME_UNITS=Qa;v.WEEK="week";v.YEAR="year";v.dayofyear=function(t){return kc(new Date(t))};v.timeBin=function(t){var L=t.extent;t=t.maxbins||40;var va=Math.abs(k.span(L))/t;let La=Bc(Wa=>Wa[2]).right(Y,va);La===Y.length?(va=Aa,L=uc(L[0]/31536E6,L[1]/31536E6,t)):La?(La=Y[va/Y[La-1][2]<Y[La][2]/va?La-1:La],va=La[0],L=La[1]):(va=V,L=Math.max(uc(L[0],L[1],t),1));return{units:va,step:L}};v.timeFloor=function(t,L){return Ob(t,
L||1,m,C,Ua)};v.timeInterval=function(t){return D[t]};v.timeOffset=function(t,L,va){return(t=D[t])?t.offset(L,va):void 0};v.timeSequence=function(t,L,va,La){return(t=D[t])?t.range(L,va,La):void 0};v.timeUnitSpecifier=function(t,L){L=k.extend({},Ka,L);t=P(t);const va=t.length;let La="",Wa,$a,X;for(Wa=0;Wa<va;)for($a=t.length;$a>Wa;--$a)if(X=t.slice(Wa,$a).join("-"),null!=L[X]){La+=L[X];Wa=$a;break}return La.trim()};v.timeUnits=P;v.utcFloor=function(t,L){return Ob(t,L||1,B,A,Cb)};v.utcInterval=function(t){return I[t]};
v.utcOffset=function(t,L,va){return(t=I[t])?t.offset(L,va):void 0};v.utcSequence=function(t,L,va,La){return(t=I[t])?t.range(L,va,La):void 0};v.utcdayofyear=function(t){return tb(new Date(t))};v.utcweek=function(t){return Jb(new Date(t))};v.week=function(t){return Yb(new Date(t))};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[49]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(48),Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function jb(J){const fa={};return Sa=>fa[Sa]||(fa[Sa]=J(Sa))}function Fb(J,fa){if(0>(fa=(J=fa?J.toExponential(fa-1):J.toExponential()).indexOf("e")))return null;var Sa=J.slice(0,fa);return[1<
Sa.length?Sa[0]+Sa.slice(2):Sa,+J.slice(fa+1)]}function bc(J){return J=Fb(Math.abs(J)),J?J[1]:NaN}function vc(J,fa){return function(Sa,cc){for(var Jc=Sa.length,Ac=[],$c=0,pd=J[0],ee=0;0<Jc&&0<pd;){ee+pd+1>cc&&(pd=Math.max(1,cc-ee));Ac.push(Sa.substring(Jc-=pd,Jc+pd));if((ee+=pd+1)>cc)break;pd=J[$c=($c+1)%J.length]}return Ac.reverse().join(fa)}}function Bc(J){return function(fa){return fa.replace(/[0-9]/g,function(Sa){return J[+Sa]})}}function uc(J){if(!(fa=Ud.exec(J)))throw Error("invalid format: "+
J);var fa;return new Ab({fill:fa[1],align:fa[2],sign:fa[3],symbol:fa[4],zero:fa[5],width:fa[6],comma:fa[7],precision:fa[8]&&fa[8].slice(1),trim:fa[9],type:fa[10]})}function Ab(J){this.fill=void 0===J.fill?" ":J.fill+"";this.align=void 0===J.align?"\x3e":J.align+"";this.sign=void 0===J.sign?"-":J.sign+"";this.symbol=void 0===J.symbol?"":J.symbol+"";this.zero=!!J.zero;this.width=void 0===J.width?void 0:+J.width;this.comma=!!J.comma;this.precision=void 0===J.precision?void 0:+J.precision;this.trim=!!J.trim;
this.type=void 0===J.type?"":J.type+""}function kc(J,fa){fa=Fb(J,fa);if(!fa)return J+"";J=fa[0];fa=fa[1];return 0>fa?"0."+Array(-fa).join("0")+J:J.length>fa+1?J.slice(0,fa+1)+"."+J.slice(fa+1):J+Array(fa-J.length+2).join("0")}function Yb(J){return J}function Ua(J){function fa(db){function pc(Fc){var bd=Me,Gc=$e,Jd,Zd;if("c"===ve)Gc=sf(Fc)+Gc,Fc="";else{Fc=+Fc;var $d=0>Fc||0>1/Fc;Fc=isNaN(Fc)?Ra:sf(Math.abs(Fc),Cd);if(be){var ke=Fc.length,O=1,da=-1;a:for(;O<ke;++O)switch(Fc[O]){case ".":da=Jd=O;break;
case "0":0===da&&(da=O);Jd=O;break;default:if(!+Fc[O])break a;0<da&&(da=0)}Fc=0<da?Fc.slice(0,da)+Fc.slice(Jd+1):Fc}$d&&0===+Fc&&"+"!==Uc&&($d=!1);bd=($d?"("===Uc?Uc:ee:"-"===Uc||"("===Uc?"":Uc)+bd;Gc=("s"===ve?ma[8+Xe/3]:"")+Gc+($d&&"("===Uc?")":"");if(nd)for($d=-1,Jd=Fc.length;++$d<Jd;)if(Zd=Fc.charCodeAt($d),48>Zd||57<Zd){Gc=(46===Zd?Ac+Fc.slice($d+1):Fc.slice($d))+Gc;Fc=Fc.slice(0,$d);break}}Ld&&!td&&(Fc=Sa(Fc,Infinity));Zd=bd.length+Fc.length+Gc.length;$d=Zd<kd?Array(kd-Zd+1).join(wd):"";Ld&&
td&&(Fc=Sa($d+Fc,$d.length?kd-Gc.length:Infinity),$d="");switch(Mc){case "\x3c":Fc=bd+Fc+Gc+$d;break;case "\x3d":Fc=bd+$d+Fc+Gc;break;case "^":Fc=$d.slice(0,Zd=$d.length>>1)+bd+Fc+Gc+$d.slice(Zd);break;default:Fc=$d+bd+Fc+Gc}return $c(Fc)}db=uc(db);var wd=db.fill,Mc=db.align,Uc=db.sign,Qc=db.symbol,td=db.zero,kd=db.width,Ld=db.comma,Cd=db.precision,be=db.trim,ve=db.type;"n"===ve?(Ld=!0,ve="g"):Wd[ve]||(void 0===Cd&&(Cd=12),be=!0,ve="g");if(td||"0"===wd&&"\x3d"===Mc)td=!0,wd="0",Mc="\x3d";var Me="$"===
Qc?cc:"#"===Qc&&/[boxX]/.test(ve)?"0"+ve.toLowerCase():"",$e="$"===Qc?Jc:/[%p]/.test(ve)?pd:"",sf=Wd[ve],nd=/[defgprs%]/.test(ve);Cd=void 0===Cd?6:/[gprs]/.test(ve)?Math.max(1,Math.min(21,Cd)):Math.max(0,Math.min(20,Cd));pc.toString=function(){return db+""};return pc}var Sa=void 0===J.grouping||void 0===J.thousands?Yb:vc(N.call(J.grouping,Number),J.thousands+""),cc=void 0===J.currency?"":J.currency[0]+"",Jc=void 0===J.currency?"":J.currency[1]+"",Ac=void 0===J.decimal?".":J.decimal+"",$c=void 0===
J.numerals?Yb:Bc(N.call(J.numerals,String)),pd=void 0===J.percent?"%":J.percent+"",ee=void 0===J.minus?"":J.minus+"",Ra=void 0===J.nan?"NaN":J.nan+"";return{format:fa,formatPrefix:function(db,pc){var wd=fa((db=uc(db),db.type="f",db));db=3*Math.max(-8,Math.min(8,Math.floor(bc(pc)/3)));var Mc=Math.pow(10,-db),Uc=ma[8+db/3];return function(Qc){return wd(Mc*Qc)+Uc}}}}function tb(J,fa){return Sa=>{Sa=J(Sa);const cc=Sa.indexOf(fa);if(0>cc)return Sa;a:{var Jc=Sa.lastIndexOf("e");if(!(0<Jc)){for(Jc=Sa.length;--Jc>
cc;){var Ac=Sa.charCodeAt(Jc);if(48<=Ac&&57>=Ac){Jc+=1;break a}}Jc=void 0}}for(Ac=Jc<Sa.length?Sa.slice(Jc):"";--Jc>cc;)if("0"!==Sa[Jc]){++Jc;break}return Sa.slice(0,Jc)+Ac}}function Jb(J){const fa=jb(J.format),Sa=J.formatPrefix;return{format:fa,formatPrefix:Sa,formatFloat(cc){cc=uc(cc||",");if(null==cc.precision){cc.precision=12;switch(cc.type){case "%":cc.precision-=2;break;case "e":--cc.precision}return tb(fa(cc),fa(".1f")(1)[1])}return fa(cc)},formatSpan(cc,Jc,Ac,$c){$c=uc(null==$c?",f":$c);var pd=
Math.abs(Jc-cc)/Math.max(0,Ac);Ac=Math.pow(10,Math.floor(Math.log(pd)/Math.LN10));pd/=Ac;pd>=Ed?Ac*=10:pd>=Yd?Ac*=5:pd>=ae&&(Ac*=2);Ac=Jc<cc?-Ac:Ac;cc=Math.max(Math.abs(cc),Math.abs(Jc));if(null==$c.precision)switch($c.type){case "s":return Jc=isNaN,Ac=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(bc(cc)/3)))-bc(Math.abs(Ac))),Jc(Jc=Ac)||($c.precision=Jc),Sa($c,cc);case "":case "e":case "g":case "p":case "r":Jc=isNaN;Ac=Math.abs(Ac);cc=Math.abs(cc)-Ac;cc=Math.max(0,bc(cc)-bc(Ac))+1;Jc(Jc=cc)||($c.precision=
Jc-("e"===$c.type));break;case "f":case "%":isNaN(Jc=Math.max(0,-bc(Math.abs(Ac))))||($c.precision=Jc-2*("%"===$c.type))}return fa($c)}}}function Kb(){return Xb=Jb({format:fb,formatPrefix:Hb})}function Cb(J){return Jb(Ua(J))}function Ob(J){return arguments.length?Xb=Cb(J):Xb}function ab(J,fa,Sa,cc){function Jc(Ac){return J(Ac=0===arguments.length?new Date:new Date(+Ac)),Ac}Jc.floor=function(Ac){return J(Ac=new Date(+Ac)),Ac};Jc.ceil=function(Ac){return J(Ac=new Date(Ac-1)),fa(Ac,1),J(Ac),Ac};Jc.round=
function(Ac){var $c=Jc(Ac),pd=Jc.ceil(Ac);return Ac-$c<pd-Ac?$c:pd};Jc.offset=function(Ac,$c){return fa(Ac=new Date(+Ac),null==$c?1:Math.floor($c)),Ac};Jc.range=function(Ac,$c,pd){var ee=[],Ra;Ac=Jc.ceil(Ac);pd=null==pd?1:Math.floor(pd);if(!(Ac<$c&&0<pd))return ee;do ee.push(Ra=new Date(+Ac)),fa(Ac,pd),J(Ac);while(Ra<Ac&&Ac<$c);return ee};Jc.filter=function(Ac){return ab(function($c){if($c>=$c)for(;J($c),!Ac($c);)$c.setTime($c-1)},function($c,pd){if($c>=$c)if(0>pd)for(;0>=++pd;)for(;fa($c,-1),!Ac($c););
else for(;0<=--pd;)for(;fa($c,1),!Ac($c););})};Sa&&(Jc.count=function(Ac,$c){Cc.setTime(+Ac);mc.setTime(+$c);J(Cc);J(mc);return Math.floor(Sa(Cc,mc))},Jc.every=function(Ac){Ac=Math.floor(Ac);return isFinite(Ac)&&0<Ac?1<Ac?Jc.filter(cc?function($c){return 0===cc($c)%Ac}:function($c){return 0===Jc.count(0,$c)%Ac}):Jc:null});return Jc}function pb(J){return ab(function(fa){fa.setDate(fa.getDate()-(fa.getDay()+7-J)%7);fa.setHours(0,0,0,0)},function(fa,Sa){fa.setDate(fa.getDate()+7*Sa)},function(fa,Sa){return(Sa-
fa-6E4*(Sa.getTimezoneOffset()-fa.getTimezoneOffset()))/6048E5})}function Qa(J){return ab(function(fa){fa.setUTCDate(fa.getUTCDate()-(fa.getUTCDay()+7-J)%7);fa.setUTCHours(0,0,0,0)},function(fa,Sa){fa.setUTCDate(fa.getUTCDate()+7*Sa)},function(fa,Sa){return(Sa-fa)/6048E5})}function Da(J){if(0<=J.y&&100>J.y){var fa=new Date(-1,J.m,J.d,J.H,J.M,J.S,J.L);fa.setFullYear(J.y);return fa}return new Date(J.y,J.m,J.d,J.H,J.M,J.S,J.L)}function Ka(J){if(0<=J.y&&100>J.y){var fa=new Date(Date.UTC(-1,J.m,J.d,J.H,
J.M,J.S,J.L));fa.setUTCFullYear(J.y);return fa}return new Date(Date.UTC(J.y,J.m,J.d,J.H,J.M,J.S,J.L))}function lb(J,fa,Sa){return{y:J,m:fa,d:Sa,H:0,M:0,S:0,L:0}}function mb(J){function fa(nd,Fc){return function(bd){var Gc=[],Jd=-1,Zd=0,$d=nd.length,ke,O;for(bd instanceof Date||(bd=new Date(+bd));++Jd<$d;)if(37===nd.charCodeAt(Jd)){Gc.push(nd.slice(Zd,Jd));null!=(Zd=df[ke=nd.charAt(++Jd)])?ke=nd.charAt(++Jd):Zd="e"===ke?" ":"0";if(O=Fc[ke])ke=O(bd,Zd);Gc.push(ke);Zd=Jd+1}Gc.push(nd.slice(Zd,Jd));return Gc.join("")}}
function Sa(nd,Fc){return function(bd){var Gc=lb(1900,void 0,1);if(cc(Gc,nd,bd+="",0)!=bd.length)return null;if("Q"in Gc)return new Date(Gc.Q);if("s"in Gc)return new Date(1E3*Gc.s+("L"in Gc?Gc.L:0));!Fc||"Z"in Gc||(Gc.Z=0);"p"in Gc&&(Gc.H=Gc.H%12+12*Gc.p);void 0===Gc.m&&(Gc.m="q"in Gc?Gc.q:0);if("V"in Gc){if(1>Gc.V||53<Gc.V)return null;"w"in Gc||(Gc.w=1);if("Z"in Gc){bd=Ka(lb(Gc.y,0,1));var Jd=bd.getUTCDay();bd=4<Jd||0===Jd?qe.ceil(bd):qe(bd);bd=Xd.offset(bd,7*(Gc.V-1));Gc.y=bd.getUTCFullYear();Gc.m=
bd.getUTCMonth();Gc.d=bd.getUTCDate()+(Gc.w+6)%7}else bd=Da(lb(Gc.y,0,1)),Jd=bd.getDay(),bd=4<Jd||0===Jd?Nc.ceil(bd):Nc(bd),bd=Hc.offset(bd,7*(Gc.V-1)),Gc.y=bd.getFullYear(),Gc.m=bd.getMonth(),Gc.d=bd.getDate()+(Gc.w+6)%7}else if("W"in Gc||"U"in Gc)"w"in Gc||(Gc.w="u"in Gc?Gc.u%7:"W"in Gc?1:0),Jd="Z"in Gc?Ka(lb(Gc.y,0,1)).getUTCDay():Da(lb(Gc.y,0,1)).getDay(),Gc.m=0,Gc.d="W"in Gc?(Gc.w+6)%7+7*Gc.W-(Jd+5)%7:Gc.w+7*Gc.U-(Jd+6)%7;return"Z"in Gc?(Gc.H+=Gc.Z/100|0,Gc.M+=Gc.Z%100,Ka(Gc)):Da(Gc)}}function cc(nd,
Fc,bd,Gc){for(var Jd=0,Zd=Fc.length,$d=bd.length,ke;Jd<Zd;){if(Gc>=$d)return-1;ke=Fc.charCodeAt(Jd++);if(37===ke){if(ke=Fc.charAt(Jd++),ke=sf[ke in df?Fc.charAt(Jd++):ke],!ke||0>(Gc=ke(nd,bd,Gc)))return-1}else if(ke!=bd.charCodeAt(Gc++))return-1}return Gc}var Jc=J.dateTime,Ac=J.date,$c=J.time,pd=J.periods,ee=J.days,Ra=J.shortDays,db=J.months,pc=J.shortMonths,wd=sb(pd),Mc=Pb(pd),Uc=sb(ee),Qc=Pb(ee),td=sb(Ra),kd=Pb(Ra),Ld=sb(db),Cd=Pb(db),be=sb(pc),ve=Pb(pc),Me={a:function(nd){return Ra[nd.getDay()]},
A:function(nd){return ee[nd.getDay()]},b:function(nd){return pc[nd.getMonth()]},B:function(nd){return db[nd.getMonth()]},c:null,d:V,e:V,f:va,g:dd,G:Rc,H:Aa,I:Y,j:t,L,m:La,M:Wa,p:function(nd){return pd[+(12<=nd.getHours())]},q:function(nd){return 1+~~(nd.getMonth()/3)},Q:oc,s:ec,S:$a,u:X,U:Ca,V:Ib,w:yc,W:qc,x:null,X:null,y:xc,Y:Zb,Z:Pd,"%":Eb},$e={a:function(nd){return Ra[nd.getUTCDay()]},A:function(nd){return ee[nd.getUTCDay()]},b:function(nd){return pc[nd.getUTCMonth()]},B:function(nd){return db[nd.getUTCMonth()]},
c:null,d:Na,e:Na,f:dc,g:ya,G:Za,H:Ub,I:qb,j:Sb,L:ic,m:Ic,M:zc,p:function(nd){return pd[+(12<=nd.getUTCHours())]},q:function(nd){return 1+~~(nd.getUTCMonth()/3)},Q:oc,s:ec,S:Yc,u:Md,U:ud,V:gb,w:vb,W:ta,x:null,X:null,y:F,Y:Oa,Z:kb,"%":Eb},sf={a:function(nd,Fc,bd){return(Fc=td.exec(Fc.slice(bd)))?(nd.w=kd.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},A:function(nd,Fc,bd){return(Fc=Uc.exec(Fc.slice(bd)))?(nd.w=Qc.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},b:function(nd,Fc,bd){return(Fc=be.exec(Fc.slice(bd)))?
(nd.m=ve.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},B:function(nd,Fc,bd){return(Fc=Ld.exec(Fc.slice(bd)))?(nd.m=Cd.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},c:function(nd,Fc,bd){return cc(nd,Jc,Fc,bd)},d:M,e:M,f:B,g:eb,G:Ga,H:g,I:g,j:Q,L:C,m:q,M:u,p:function(nd,Fc,bd){return(Fc=wd.exec(Fc.slice(bd)))?(nd.p=Mc.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},q:oa,Q:D,s:I,S:m,u:nb,U:qa,V:Z,w:Vb,W:Fa,x:function(nd,Fc,bd){return cc(nd,Ac,Fc,bd)},X:function(nd,Fc,bd){return cc(nd,$c,Fc,bd)},y:eb,Y:Ga,
Z:ba,"%":A};Me.x=fa(Ac,Me);Me.X=fa($c,Me);Me.c=fa(Jc,Me);$e.x=fa(Ac,$e);$e.X=fa($c,$e);$e.c=fa(Jc,$e);return{format:function(nd){var Fc=fa(nd+="",Me);Fc.toString=function(){return nd};return Fc},parse:function(nd){var Fc=Sa(nd+="",!1);Fc.toString=function(){return nd};return Fc},utcFormat:function(nd){var Fc=fa(nd+="",$e);Fc.toString=function(){return nd};return Fc},utcParse:function(nd){var Fc=Sa(nd+="",!0);Fc.toString=function(){return nd};return Fc}}}function Pa(J,fa,Sa){var cc=0>J?"-":"";J=(cc?
-J:J)+"";var Jc=J.length;return cc+(Jc<Sa?Array(Sa-Jc+1).join(fa)+J:J)}function wb(J){return J.replace(U,"\\$\x26")}function sb(J){return new RegExp("^(?:"+J.map(wb).join("|")+")","i")}function Pb(J){return new Map(J.map((fa,Sa)=>[fa.toLowerCase(),Sa]))}function Vb(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+1)))?(J.w=+fa[0],Sa+fa[0].length):-1}function nb(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+1)))?(J.u=+fa[0],Sa+fa[0].length):-1}function qa(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.U=+fa[0],
Sa+fa[0].length):-1}function Z(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.V=+fa[0],Sa+fa[0].length):-1}function Fa(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.W=+fa[0],Sa+fa[0].length):-1}function Ga(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+4)))?(J.y=+fa[0],Sa+fa[0].length):-1}function eb(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.y=+fa[0]+(68<+fa[0]?1900:2E3),Sa+fa[0].length):-1}function ba(J,fa,Sa){return(fa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(fa.slice(Sa,Sa+6)))?(J.Z=fa[1]?
0:-(fa[2]+(fa[3]||"00")),Sa+fa[0].length):-1}function oa(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+1)))?(J.q=3*fa[0]-3,Sa+fa[0].length):-1}function q(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.m=fa[0]-1,Sa+fa[0].length):-1}function M(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.d=+fa[0],Sa+fa[0].length):-1}function Q(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+3)))?(J.m=0,J.d=+fa[0],Sa+fa[0].length):-1}function g(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.H=+fa[0],Sa+fa[0].length):
-1}function u(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.M=+fa[0],Sa+fa[0].length):-1}function m(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(J.S=+fa[0],Sa+fa[0].length):-1}function C(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+3)))?(J.L=+fa[0],Sa+fa[0].length):-1}function B(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+6)))?(J.L=Math.floor(fa[0]/1E3),Sa+fa[0].length):-1}function A(J,fa,Sa){return(J=nf.exec(fa.slice(Sa,Sa+1)))?Sa+J[0].length:-1}function D(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa)))?
(J.Q=+fa[0],Sa+fa[0].length):-1}function I(J,fa,Sa){return(fa=pe.exec(fa.slice(Sa)))?(J.s=+fa[0],Sa+fa[0].length):-1}function V(J,fa){return Pa(J.getDate(),fa,2)}function Aa(J,fa){return Pa(J.getHours(),fa,2)}function Y(J,fa){return Pa(J.getHours()%12||12,fa,2)}function t(J,fa){return Pa(1+Hc.count(Fd(J),J),fa,3)}function L(J,fa){return Pa(J.getMilliseconds(),fa,3)}function va(J,fa){return L(J,fa)+"000"}function La(J,fa){return Pa(J.getMonth()+1,fa,2)}function Wa(J,fa){return Pa(J.getMinutes(),fa,
2)}function $a(J,fa){return Pa(J.getSeconds(),fa,2)}function X(J){J=J.getDay();return 0===J?7:J}function Ca(J,fa){return Pa(jd.count(Fd(J)-1,J),fa,2)}function Xa(J){var fa=J.getDay();return 4<=fa||0===fa?vd(J):vd.ceil(J)}function Ib(J,fa){J=Xa(J);return Pa(vd.count(Fd(J),J)+(4===Fd(J).getDay()),fa,2)}function yc(J){return J.getDay()}function qc(J,fa){return Pa(Nc.count(Fd(J)-1,J),fa,2)}function xc(J,fa){return Pa(J.getFullYear()%100,fa,2)}function dd(J,fa){J=Xa(J);return Pa(J.getFullYear()%100,fa,
2)}function Zb(J,fa){return Pa(J.getFullYear()%1E4,fa,4)}function Rc(J,fa){var Sa=J.getDay();J=4<=Sa||0===Sa?vd(J):vd.ceil(J);return Pa(J.getFullYear()%1E4,fa,4)}function Pd(J){J=J.getTimezoneOffset();return(0<J?"-":(J*=-1,"+"))+Pa(J/60|0,"0",2)+Pa(J%60,"0",2)}function Na(J,fa){return Pa(J.getUTCDate(),fa,2)}function Ub(J,fa){return Pa(J.getUTCHours(),fa,2)}function qb(J,fa){return Pa(J.getUTCHours()%12||12,fa,2)}function Sb(J,fa){return Pa(1+Xd.count(cf(J),J),fa,3)}function ic(J,fa){return Pa(J.getUTCMilliseconds(),
fa,3)}function dc(J,fa){return ic(J,fa)+"000"}function Ic(J,fa){return Pa(J.getUTCMonth()+1,fa,2)}function zc(J,fa){return Pa(J.getUTCMinutes(),fa,2)}function Yc(J,fa){return Pa(J.getUTCSeconds(),fa,2)}function Md(J){J=J.getUTCDay();return 0===J?7:J}function ud(J,fa){return Pa(Nd.count(cf(J)-1,J),fa,2)}function Ha(J){var fa=J.getUTCDay();return 4<=fa||0===fa?De(J):De.ceil(J)}function gb(J,fa){J=Ha(J);return Pa(De.count(cf(J),J)+(4===cf(J).getUTCDay()),fa,2)}function vb(J){return J.getUTCDay()}function ta(J,
fa){return Pa(qe.count(cf(J)-1,J),fa,2)}function F(J,fa){return Pa(J.getUTCFullYear()%100,fa,2)}function ya(J,fa){J=Ha(J);return Pa(J.getUTCFullYear()%100,fa,2)}function Oa(J,fa){return Pa(J.getUTCFullYear()%1E4,fa,4)}function Za(J,fa){var Sa=J.getUTCDay();J=4<=Sa||0===Sa?De(J):De.ceil(J);return Pa(J.getUTCFullYear()%1E4,fa,4)}function kb(){return"+0000"}function Eb(){return"%"}function oc(J){return+J}function ec(J){return Math.floor(+J/1E3)}function jc(J,fa,Sa){Sa=Sa||{};P.isObject(Sa)||P.error(`Invalid time multi-format specifier: ${Sa}`);
const cc=fa(k.SECONDS),Jc=fa(k.MINUTES),Ac=fa(k.HOURS),$c=fa(k.DATE),pd=fa(k.WEEK),ee=fa(k.MONTH),Ra=fa(k.QUARTER),db=fa(k.YEAR),pc=J(Sa[k.MILLISECONDS]||".%L"),wd=J(Sa[k.SECONDS]||":%S"),Mc=J(Sa[k.MINUTES]||"%I:%M"),Uc=J(Sa[k.HOURS]||"%I %p"),Qc=J(Sa[k.DATE]||Sa[k.DAY]||"%a %d"),td=J(Sa[k.WEEK]||"%b %d"),kd=J(Sa[k.MONTH]||"%B"),Ld=J(Sa[k.QUARTER]||"%B"),Cd=J(Sa[k.YEAR]||"%Y");return be=>(cc(be)<be?pc:Jc(be)<be?wd:Ac(be)<be?Mc:$c(be)<be?Uc:ee(be)<be?pd(be)<be?Qc:td:db(be)<be?Ra(be)<be?kd:Ld:Cd)(be)}
function Sc(J){const fa=jb(J.format),Sa=jb(J.utcFormat);return{timeFormat:cc=>P.isString(cc)?fa(cc):jc(fa,k.timeInterval,cc),utcFormat:cc=>P.isString(cc)?Sa(cc):jc(Sa,k.utcInterval,cc),timeParse:jb(J.parse),utcParse:jb(J.utcParse)}}function ed(){return $b=Sc({format:cb,parse:yb,utcFormat:gc,utcParse:Ec})}function fd(J){return Sc(mb(J))}function Qd(J){return arguments.length?$b=fd(J):$b}function Td(J,fa){var Sa=arguments.length;Sa&&2!==Sa&&P.error("defaultLocale expects either zero or two arguments.");
if(Sa){Sa=Ob(J);var cc=Qd(fa);Sa=P.extend({},Sa,cc)}else Sa=Ob(),cc=Qd(),Sa=P.extend({},Sa,cc);return Sa}var Ed=Math.sqrt(50),Yd=Math.sqrt(10),ae=Math.sqrt(2),Ud=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;uc.prototype=Ab.prototype;Ab.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var Xe,Wd={"%":(J,fa)=>(100*J).toFixed(fa),b:J=>Math.round(J).toString(2),c:J=>J+"",d:function(J){return 1E21<=Math.abs(J=Math.round(J))?J.toLocaleString("en").replace(/,/g,""):J.toString(10)},e:(J,fa)=>J.toExponential(fa),f:(J,fa)=>J.toFixed(fa),g:(J,fa)=>J.toPrecision(fa),o:J=>Math.round(J).toString(8),p:(J,fa)=>kc(100*J,fa),r:kc,s:function(J,fa){var Sa=Fb(J,fa);if(!Sa)return J+"";var cc=Sa[0];Sa=Sa[1];Sa=Sa-(Xe=3*Math.max(-8,Math.min(8,Math.floor(Sa/3))))+1;var Jc=cc.length;
return Sa===Jc?cc:Sa>Jc?cc+Array(Sa-Jc+1).join("0"):0<Sa?cc.slice(0,Sa)+"."+cc.slice(Sa):"0."+Array(1-Sa).join("0")+Fb(J,Math.max(0,fa+Sa-1))[0]},X:J=>Math.round(J).toString(16).toUpperCase(),x:J=>Math.round(J).toString(16)},N=Array.prototype.map,ma="y z a f p n  m  k M G T P E Z Y".split(" "),za,fb,Hb;(function(J){za=Ua(J);fb=za.format;Hb=za.formatPrefix;return za})({thousands:",",grouping:[3],currency:["$",""]});let Xb;Kb();var Cc=new Date,mc=new Date,Hc=ab(J=>J.setHours(0,0,0,0),(J,fa)=>J.setDate(J.getDate()+
fa),(J,fa)=>(fa-J-6E4*(fa.getTimezoneOffset()-J.getTimezoneOffset()))/864E5,J=>J.getDate()-1),jd=pb(0),Nc=pb(1);pb(2);pb(3);var vd=pb(4);pb(5);pb(6);var Gd=ab(function(J){J.setMonth(0,1);J.setHours(0,0,0,0)},function(J,fa){J.setFullYear(J.getFullYear()+fa)},function(J,fa){return fa.getFullYear()-J.getFullYear()},function(J){return J.getFullYear()});Gd.every=function(J){return isFinite(J=Math.floor(J))&&0<J?ab(function(fa){fa.setFullYear(Math.floor(fa.getFullYear()/J)*J);fa.setMonth(0,1);fa.setHours(0,
0,0,0)},function(fa,Sa){fa.setFullYear(fa.getFullYear()+Sa*J)}):null};var Fd=Gd,Xd=ab(function(J){J.setUTCHours(0,0,0,0)},function(J,fa){J.setUTCDate(J.getUTCDate()+fa)},function(J,fa){return(fa-J)/864E5},function(J){return J.getUTCDate()-1}),Nd=Qa(0),qe=Qa(1);Qa(2);Qa(3);var De=Qa(4);Qa(5);Qa(6);var gf=ab(function(J){J.setUTCMonth(0,1);J.setUTCHours(0,0,0,0)},function(J,fa){J.setUTCFullYear(J.getUTCFullYear()+fa)},function(J,fa){return fa.getUTCFullYear()-J.getUTCFullYear()},function(J){return J.getUTCFullYear()});
gf.every=function(J){return isFinite(J=Math.floor(J))&&0<J?ab(function(fa){fa.setUTCFullYear(Math.floor(fa.getUTCFullYear()/J)*J);fa.setUTCMonth(0,1);fa.setUTCHours(0,0,0,0)},function(fa,Sa){fa.setUTCFullYear(fa.getUTCFullYear()+Sa*J)}):null};var cf=gf,df={"-":"",_:" ",0:"0"},pe=/^\s*\d+/,nf=/^%/,U=/[\\^$*+?|[\]().{}]/g,ua,cb,yb,gc,Ec;(function(J){ua=mb(J);cb=ua.format;yb=ua.parse;gc=ua.utcFormat;Ec=ua.utcParse;return ua})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let $b;ed();v.defaultLocale=Td;v.locale=function(J,fa){J=J?Cb(J):Ob();fa=fa?fd(fa):Qd();return P.extend({},J,fa)};v.numberFormatDefaultLocale=Ob;v.numberFormatLocale=Cb;v.resetDefaultLocale=function(){Kb();
ed();return Td()};v.resetNumberFormatDefaultLocale=Kb;v.resetTimeFormatDefaultLocale=ed;v.timeFormatDefaultLocale=Qd;v.timeFormatLocale=fd;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[50]=function(hc,Db,Wc,ob){var v=Db(26).Buffer;(function(k,P){"object"===typeof ob&&"undefined"!==typeof Wc?P(ob,Db(20),Db(21),Db(49)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,P(k.vega={},k.vega,k.topojson,k.vega))})(this,function(k,P,jb,Fb){function bc(ba,oa){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const M=yield q.sanitize(ba,oa),
Q=M.href;return M.localFile?q.file(Q):q.http(Q,oa)})}function vc(ba,oa){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){oa=P.extend({},q.options,oa);const M=q.fileAccess,Q={href:null};var g;let u;var m=Pa.test(ba.replace(wb,""));null!=ba&&"string"===typeof ba&&m||P.error("Sanitize failure, invalid URI: "+P.stringValue(ba));m=mb.test(ba);(g=oa.baseURL)&&!m&&(ba.startsWith("/")||g.endsWith("/")||(ba="/"+ba),ba=g+ba);u=(g=ba.startsWith("file://"))||"file"===oa.mode||"http"!==
oa.mode&&!m&&M;g?ba=ba.slice(7):ba.startsWith("//")&&("file"===oa.defaultProtocol?(ba=ba.slice(2),u=!0):ba=(oa.defaultProtocol||"http")+":"+ba);Object.defineProperty(Q,"localFile",{value:!!u});Q.href=ba;oa.target&&(Q.target=oa.target+"");oa.rel&&(Q.rel=oa.rel+"");"image"===oa.context&&oa.crossOrigin&&(Q.crossOrigin=oa.crossOrigin+"");return Q})}function Bc(ba){return ba?oa=>new Promise((q,M)=>{ba.readFile(oa,(Q,g)=>{Q?M(Q):q(g)})}):uc}function uc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No file system access.")})}
function Ab(ba){return ba?function(oa,q){const M=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Q=P.extend({},M.options.http,q);const g=q&&q.response;Q=yield ba(oa,Q);return Q.ok?P.isFunction(Q[g])?Q[g]():Q.text():P.error(Q.status+""+Q.statusText)})}:kc}function kc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No HTTP fetch method available.")})}function Yb(ba,oa){if(!ba||!ba.length)return"unknown";const q=ba.length,M=Vb.length,Q=Vb.map((g,u)=>
u+1);for(let g=0,u=0,m,C;g<q;++g)for(C=oa?ba[g][oa]:ba[g],m=0;m<M;++m)if(Q[m]&&null!=C&&C===C&&!Vb[m](C)&&(Q[m]=0,++u,u===Vb.length))return"string";return nb[Q.reduce((g,u)=>0===g?u:g,0)-1]}function Ua(ba,oa){return oa.reduce((q,M)=>{q[M]=Yb(ba,M);return q},{})}function tb(ba){return new Function("d","return {"+ba.map(function(oa,q){return JSON.stringify(oa)+": d["+q+'] || ""'}).join(",")+"}")}function Jb(ba,oa){var q=tb(ba);return function(M,Q){return oa(q(M),Q,ba)}}function Kb(ba){var oa=Object.create(null),
q=[];ba.forEach(function(M){for(var Q in M)Q in oa||q.push(oa[Q]=Q)});return q}function Cb(ba,oa){ba+="";var q=ba.length;return q<oa?Array(oa-q+1).join(0)+ba:ba}function Ob(ba){function oa(m,C){function B(){if(Y)return Z;if(t)return t=!1,qa;var va,La=I,Wa;if(34===m.charCodeAt(La)){for(;I++<D&&34!==m.charCodeAt(I)||34===m.charCodeAt(++I););(va=I)>=D?Y=!0:10===(Wa=m.charCodeAt(I++))?t=!0:13===Wa&&(t=!0,10===m.charCodeAt(I)&&++I);return m.slice(La+1,va-1).replace(/""/g,'"')}for(;I<D;){if(10===(Wa=m.charCodeAt(va=
I++)))t=!0;else if(13===Wa)t=!0,10===m.charCodeAt(I)&&++I;else if(Wa!==u)continue;return m.slice(La,va)}return Y=!0,m.slice(La,D)}var A=[],D=m.length,I=0,V=0,Aa,Y=0>=D,t=!1;10===m.charCodeAt(D-1)&&--D;for(13===m.charCodeAt(D-1)&&--D;(Aa=B())!==Z;){for(var L=[];Aa!==qa&&Aa!==Z;)L.push(Aa),Aa=B();C&&null==(L=C(L,V++))||A.push(L)}return A}function q(m,C){return m.map(function(B){return C.map(function(A){return Q(B[A])}).join(ba)})}function M(m){return m.map(Q).join(ba)}function Q(m){if(null==m)m="";
else{if(m instanceof Date){var C=m.getUTCHours();var B=m.getUTCMinutes(),A=m.getUTCSeconds(),D=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var I=m.getUTCFullYear();m=(0>I?"-"+Cb(-I,6):9999<I?"+"+Cb(I,6):Cb(I,4))+"-"+Cb(m.getUTCMonth()+1,2)+"-"+Cb(m.getUTCDate(),2)+(D?"T"+Cb(C,2)+":"+Cb(B,2)+":"+Cb(A,2)+"."+Cb(D,3)+"Z":A?"T"+Cb(C,2)+":"+Cb(B,2)+":"+Cb(A,2)+"Z":B||C?"T"+Cb(C,2)+":"+Cb(B,2)+"Z":"")}C=m}else C=g.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=C}return m}var g=new RegExp('["'+
ba+"\n\r]"),u=ba.charCodeAt(0);return{parse:function(m,C){var B,A;m=oa(m,function(D,I){if(B)return B(D,I-1);A=D;B=C?Jb(D,C):tb(D)});m.columns=A||[];return m},parseRows:oa,format:function(m,C){null==C&&(C=Kb(m));return[C.map(Q).join(ba)].concat(q(m,C)).join("\n")},formatBody:function(m,C){null==C&&(C=Kb(m));return q(m,C).join("\n")},formatRows:function(m){return m.map(M).join("\n")},formatRow:M,formatValue:Q}}function ab(ba){const oa=function(q,M){const Q={delimiter:ba};return pb(q,M?P.extend(M,Q):
Q)};oa.responseType="text";return oa}function pb(ba,oa){oa.header&&(ba=oa.header.map(P.stringValue).join(oa.delimiter)+"\n"+ba);return Ob(oa.delimiter).parse(ba+"")}function Qa(ba,oa){const q=oa&&oa.property?P.field(oa.property):P.identity;var M;if(M=P.isObject(ba))M=!("function"===typeof v&&P.isFunction(v.isBuffer)&&v.isBuffer(ba));M?(ba=q(ba),!P.isArray(ba)&&P.isIterable(ba)&&(ba=[...ba]),oa=oa&&oa.copy?JSON.parse(JSON.stringify(ba)):ba):oa=q(JSON.parse(ba));return oa}function Da(ba,oa){let q,M,
Q,g;ba=Qa(ba,oa);oa&&oa.feature?(q=jb.feature,Q=oa.feature):oa&&oa.mesh?(q=jb.mesh,Q=oa.mesh,g=Fa[oa.filter]):P.error("Missing TopoJSON feature or mesh parameter.");return(M=(M=ba.objects[Q])?q(ba,M,g):P.error("Invalid TopoJSON object: "+Q))&&M.features||[M]}function Ka(ba,oa){return 1<arguments.length?(Ga[ba]=oa,this):P.hasOwnProperty(Ga,ba)?Ga[ba]:null}function lb(ba,oa,q,M){if(ba.length){var Q=Fb.timeFormatDefaultLocale();q=q||Q.timeParse;M=M||Q.utcParse;Q=ba.columns||Object.keys(ba[0]);var g,
u;"auto"===oa&&(oa=Ua(ba,Q));Q=Object.keys(oa);var m=Q.map(I=>{var V=oa[I];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){I=V.split(/:(.+)?/,2);V=I[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===I[0]?M:q)(V)}if(!Pb[V])throw Error("Illegal format pattern: "+I+":"+V);return Pb[V]});var C=0;var B=ba.length;for(u=Q.length;C<B;++C){var A=ba[C];for(g=0;g<u;++g){var D=Q[g];A[D]=m[g](A[D])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Pa=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
wb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sb=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),Pb={boolean:P.toBoolean,integer:P.toNumber,number:P.toNumber,date:P.toDate,string:P.toString,unknown:P.identity},Vb=[ba=>"true"===ba||"false"===ba||!0===ba||!1===ba,ba=>sb(ba)&&Number.isInteger(+ba),sb,ba=>!Number.isNaN(Date.parse(ba))],nb=["boolean","integer","number","date"];var qa={},Z={};pb.responseType="text";Qa.responseType="json";const Fa={interior:(ba,oa)=>ba!==oa,exterior:(ba,
oa)=>ba===oa};Da.responseType="json";const Ga={dsv:pb,csv:ab(","),tsv:ab("\t"),json:Qa,topojson:Da},eb=function(ba,oa){return q=>({options:q||{},sanitize:vc,load:bc,fileAccess:!!oa,file:Bc(oa),http:Ab(ba)})}("undefined"!==typeof fetch&&fetch,null);k.format=Ga;k.formats=Ka;k.inferType=Yb;k.inferTypes=Ua;k.loader=eb;k.read=function(ba,oa,q,M){oa=oa||{};const Q=Ka(oa.type||"json");Q||P.error("Unknown data format type: "+oa.type);ba=Q(ba,oa);oa.parse&&lb(ba,oa.parse,q,M);P.hasOwnProperty(ba,"columns")&&
delete ba.columns;return ba};k.responseType=function(ba){return(ba=Ka(ba))&&ba.responseType||"text"};k.typeParsers=Pb;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[51]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(50),Db(49)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,jb){function Fb(g){const u=g||k.identity,m=[],C={};m.add=B=>{const A=u(B);C[A]||(C[A]=1,m.push(B));return m};m.remove=B=>{const A=u(B);C[A]&&(C[A]=0,B=m.indexOf(B),
0<=B&&m.splice(B,1));return m};return m}function bc(g,u){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield u(g)}catch(m){g.error(m)}})}function vc(g){g=g===Object(g)?g:{data:g};if(!g[Z]){var u=Fa++;g[Z]=u}return g}function Bc(g,u){for(const m in g)u[m]=g[m];return u}function uc(g){return g&&g.constructor===Ab}function Ab(){const g=[],u=[],m=[],C=[],B=[];let A=null,D=!1;return{constructor:Ab,insert(I){I=k.array(I);const V=I.length;for(let Aa=0;Aa<V;++Aa)g.push(I[Aa]);return this},
remove(I){const V=k.isFunction(I)?C:u;I=k.array(I);const Aa=I.length;for(let Y=0;Y<Aa;++Y)V.push(I[Y]);return this},modify(I,V,Aa){V={field:V,value:k.constant(Aa)};k.isFunction(I)?(V.filter=I,B.push(V)):(V.tuple=I,m.push(V));return this},encode(I,V){k.isFunction(I)?B.push({filter:I,field:V}):m.push({tuple:I,field:V});return this},clean(I){A=I;return this},reflow(){D=!0;return this},pulse(I,V){function Aa(Ca,Xa,Ib){Ib?Ca[Xa]=Ib(Ca):I.encode=Xa;D||(t[Ca[Z]]=Ca)}const Y={},t={};let L,va,La,Wa,$a,X;L=
0;for(va=V.length;L<va;++L)Y[V[L][Z]]=1;L=0;for(va=u.length;L<va;++L)$a=u[L],Y[$a[Z]]=-1;L=0;for(va=C.length;L<va;++L)Wa=C[L],V.forEach(Ca=>{Wa(Ca)&&(Y[Ca[Z]]=-1)});L=0;for(va=g.length;L<va;++L)$a=g[L],X=$a[Z],Y[X]?Y[X]=1:I.add.push(vc(g[L]));L=0;for(va=V.length;L<va;++L)$a=V[L],0>Y[$a[Z]]&&I.rem.push($a);L=0;for(va=m.length;L<va;++L)La=m[L],$a=La.tuple,Wa=La.field,X=Y[$a[Z]],0<X&&(Aa($a,Wa,La.value),I.modifies(Wa));L=0;for(va=B.length;L<va;++L)La=B[L],Wa=La.filter,V.forEach(Ca=>{Wa(Ca)&&0<Y[Ca[Z]]&&
Aa(Ca,La.field,La.value)}),I.modifies(La.field);if(D)I.mod=u.length||C.length?V.filter(Ca=>0<Y[Ca[Z]]):V.slice();else for(X in t)I.mod.push(t[X]);(A||null==A&&(u.length||C.length))&&I.clean(!0);return I}}}function kc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Yb(g,u,m,C){this.id=++Ga;this.value=g;this.qrank=this.rank=this.stamp=-1;this.flags=0;u&&(this._update=u);m&&this.parameters(m,C)}function Ua(g){return function(u){const m=this.flags;if(0===arguments.length)return!!(m&
g);this.flags=u?m|g:m&~g;return this}}function tb(g,u,m){this.id=++ba;this.value=null;m&&(this.receive=m);g&&(this._filter=g);u&&(this._apply=u)}function Jb(g,u,m){return new tb(g,u,m)}function Kb(g){let u;const m=new Promise(C=>u=C);m.requests=0;m.done=()=>{0===--m.requests&&(g._pending=null,u(g))};return g._pending=m}function Cb(g,u,m,C,B,A){const D=k.extend({},A,oa);let I;k.isFunction(m)||(m=k.constant(m));void 0===C?B=V=>g.touch(m(V)):k.isFunction(C)?(I=new Yb(null,C,B,!1),B=V=>{I.evaluate(V);
V=m(V);const Aa=I.value;uc(Aa)?g.pulse(V,Aa,A):g.update(V,Aa,D)}):B=V=>g.update(m(V),C,D);u.apply(B)}function Ob(g,u,m,C,B,A){void 0===C?u.targets().add(m):(A=A||{},C=new Yb(null,ab(m,C),B,!1),C.modified(A.force),C.rank=u.rank,u.targets().add(C),m&&(C.skip(!0),C.value=m.value,C.targets().add(m),g.connect(m,[C])))}function ab(g,u){u=k.isFunction(u)?u:k.constant(u);return g?function(m,C){m=u(m,C);g.skip()||(g.skip(m!==this.value).value=m);return m}:u}function pb(g,u,m){this.dataflow=g;this.stamp=null==
u?-1:u;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Qa(g,u){const m=[];k.visitArray(g,u,C=>m.push(C));return m}function Da(g,u){const m={};g.visit(u,C=>{m[C[Z]]=1});return C=>m[C[Z]]?null:C}function Ka(g,u){return g?(m,C)=>g(m,C)&&u(m,C):u}function lb(g,u,m,C){const B=m.length;let A=0;this.dataflow=g;this.stamp=u;this.fields=null;this.encode=C||null;this.pulses=m;for(g=0;g<B;++g)if(C=m[g],C.stamp===u){if(C.fields){const D=this.fields||(this.fields={});for(const I in C.fields)D[I]=
1}C.changed(this.ADD)&&(A|=this.ADD);C.changed(this.REM)&&(A|=this.REM);C.changed(this.MOD)&&(A|=this.MOD)}this.changes=A}function mb(g){g.error("Dataflow already running. Use runAsync() to chain invocations.");return g}function Pa(g,u){if(u&&u.stamp===g.stamp)return u;g=g.fork();u&&u!==q&&(g.source=u.source);return g}function wb(g){let u=[];return{clear:()=>u=[],size:()=>u.length,peek:()=>u[0],push:m=>{u.push(m);return sb(u,0,u.length-1,g)},pop:()=>{var m=u.pop();let C;if(u.length){C=u[0];u[0]=m;
m=u;var B=0;const A=B,D=m.length,I=m[B];let V=(B<<1)+1,Aa;for(;V<D;)Aa=V+1,Aa<D&&0<=g(m[V],m[Aa])&&(V=Aa),m[B]=m[V],B=V,V=(B<<1)+1;m[B]=I;sb(m,A,B,g)}else C=m;return C}}}function sb(g,u,m,C){let B,A;const D=g[m];for(;m>u;)if(A=m-1>>1,B=g[A],0>C(D,B))g[m]=B,m=A;else break;return g[m]=D}function Pb(){this.logger(k.logger());this.logLevel(k.Error);this._rank=this._clock=0;this._locale=jb.defaultLocale();try{this._loader=P.loader()}catch(g){}this._touched=Fb(k.id);this._input={};this._pulse=null;this._heap=
wb((g,u)=>g.qrank-u.qrank);this._postrun=[]}function Vb(g){return function(){return this._log[g].apply(this,arguments)}}function nb(g,u){Yb.call(this,g,null,u)}function qa(g){g=g&&g.toLowerCase();return k.hasOwnProperty(Q,g)?Q[g]:null}const Z=Symbol("vega_id");let Fa=1;kc.prototype={set(g,u,m,C){const B=this[g],A=this["_:mod:_"];if(null!=u&&0<=u){if(B[u]!==m||C)B[u]=m,A[u+":"+g]=-1,A[g]=-1}else if(B!==m||C)this[g]=m,A[g]=k.isArray(m)?1+m.length:-1;return this},modified(g,u){const m=this["_:mod:_"];
if(!arguments.length){for(var C in m)if(m[C])return!0;return!1}if(k.isArray(g)){for(C=0;C<g.length;++C)if(m[g[C]])return!0;return!1}return null!=u&&0<=u?u+1<m[g]||!!m[u+":"+g]:!!m[g]},clear(){this["_:mod:_"]={};return this}};let Ga=0;const eb=new kc;Yb.prototype={targets(){return this._targets||(this._targets=Fb(k.id))},set(g){return this.value!==g?(this.value=g,1):0},skip:Ua(1),modified:Ua(2),parameters(g,u,m){u=!1!==u;const C=this._argval=this._argval||new kc,B=this._argops=this._argops||[],A=[];
let D,I,V,Aa;const Y=(t,L,va)=>{va instanceof Yb?(va!==this&&(u&&va.targets().add(this),A.push(va)),B.push({op:va,name:t,index:L})):C.set(t,L,va)};for(D in g)if(I=g[D],"pulse"===D)k.array(I).forEach(t=>{t instanceof Yb?t!==this&&(t.targets().add(this),A.push(t)):k.error("Pulse parameters must be operator instances.")}),this.source=I;else if(k.isArray(I))for(C.set(D,-1,Array(V=I.length)),Aa=0;Aa<V;++Aa)Y(D,Aa,I[Aa]);else Y(D,-1,I);this.marshall().clear();m&&(B.initonly=!0);return A},marshall(g){const u=
this._argval||eb,m=this._argops;let C,B,A,D;if(m){const I=m.length;for(B=0;B<I;++B)C=m[B],A=C.op,D=A.modified()&&A.stamp===g,u.set(C.name,C.index,A.value,D);if(m.initonly){for(B=0;B<I;++B)C=m[B],C.op.targets().remove(this);this._update=this._argops=null}}return u},detach(){const g=this._argops;let u,m;if(g)for(u=0,m=g.length;u<m;++u){var C=g[u];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(g){var u=this._update;if(u){const m=this.marshall(g.stamp);u=u.call(this,
m,g);m.clear();if(u!==this.value)this.value=u;else if(!this.modified())return g.StopPropagation}},run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?(this.skip(!1),u=0):u=this.evaluate(g);return this.pulse=u||g}};let ba=0;tb.prototype={_filter:k.truthy,_apply:k.identity,targets(){return this._targets||(this._targets=Fb(k.id))},consume(g){if(!arguments.length)return!!this._consume;this._consume=!!g;return this},receive(g){if(this._filter(g)){const u=this.value=this._apply(g),m=
this._targets,C=m?m.length:0;for(let B=0;B<C;++B)m[B].receive(u);this._consume&&(g.preventDefault(),g.stopPropagation())}},filter(g){g=Jb(g);this.targets().add(g);return g},apply(g){g=Jb(null,g);this.targets().add(g);return g},merge(){const g=Jb();this.targets().add(g);for(let u=0,m=arguments.length;u<m;++u)arguments[u].targets().add(g);return g},throttle(g){let u=-1;return this.filter(()=>{const m=Date.now();return m-u>g?(u=m,1):0})},debounce(g){const u=Jb();this.targets().add(Jb(null,null,k.debounce(g,
m=>{const C=m.dataflow;u.receive(m);C&&C.run&&C.run()})));return u},between(g,u){let m=!1;g.targets().add(Jb(null,null,()=>m=!0));u.targets().add(Jb(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=k.truthy;this._targets=null}};const oa={skip:!0},q={};pb.prototype={StopPropagation:q,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(g){return(new pb(this.dataflow)).init(this,g)},clone(){const g=this.fork(7);g.add=g.add.slice();g.rem=
g.rem.slice();g.mod=g.mod.slice();g.source&&(g.source=g.source.slice());return g.materialize(23)},addAll(){let g=this;g.source&&g.add!==g.rem&&(g.rem.length||g.source.length!==g.add.length)&&(g=(new pb(this.dataflow)).init(this),g.add=g.source,g.rem=[]);return g},init(g,u){this.stamp=g.stamp;this.encode=g.encode;!g.fields||u&64||(this.fields=g.fields);u&1?(this.addF=g.addF,this.add=g.add):(this.addF=null,this.add=[]);u&2?(this.remF=g.remF,this.rem=g.rem):(this.remF=null,this.rem=[]);u&4?(this.modF=
g.modF,this.mod=g.mod):(this.modF=null,this.mod=[]);u&32?this.source=this.srcF=null:(this.srcF=g.srcF,this.source=g.source,g.cleans&&(this.cleans=g.cleans));return this},runAfter(g){this.dataflow.runAfter(g)},changed(g){g=g||7;return g&1&&this.add.length||g&2&&this.rem.length||g&4&&this.mod.length},reflow(g){if(g)return this.fork(7).reflow();g=this.add.length;const u=this.source&&this.source.length;u&&u!==g&&(this.mod=this.source,g&&this.filter(4,Da(this,1)));return this},clean(g){return arguments.length?
(this.cleans=!!g,this):this.cleans},modifies(g){const u=this.fields||(this.fields={});k.isArray(g)?g.forEach(m=>u[m]=!0):u[g]=!0;return this},modified(g,u){const m=this.fields;return(u||this.mod.length)&&m?arguments.length?k.isArray(g)?g.some(C=>m[C]):m[g]:!!m:!1},filter(g,u){g&1&&(this.addF=Ka(this.addF,u));g&2&&(this.remF=Ka(this.remF,u));g&4&&(this.modF=Ka(this.modF,u));g&16&&(this.srcF=Ka(this.srcF,u));return this},materialize(g){g=g||7;g&1&&this.addF&&(this.add=Qa(this.add,this.addF),this.addF=
null);g&2&&this.remF&&(this.rem=Qa(this.rem,this.remF),this.remF=null);g&4&&this.modF&&(this.mod=Qa(this.mod,this.modF),this.modF=null);g&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(g,u){if(g&16)return k.visitArray(this.source,this.srcF,u),this;g&1&&k.visitArray(this.add,this.addF,u);g&2&&k.visitArray(this.rem,this.remF,u);g&4&&k.visitArray(this.mod,this.modF,u);const m=this.source;g&8&&m&&(g=this.add.length+this.mod.length,g!==m.length&&(g?k.visitArray(m,
Da(this,5),u):k.visitArray(m,this.srcF,u)));return this}};k.inherits(lb,pb,{fork(g){const u=(new pb(this.dataflow)).init(this,g&this.NO_FIELDS);void 0!==g&&(g&u.ADD&&this.visit(u.ADD,m=>u.add.push(m)),g&u.REM&&this.visit(u.REM,m=>u.rem.push(m)),g&u.MOD&&this.visit(u.MOD,m=>u.mod.push(m)));return u},changed(g){return this.changes&g},modified(g){const u=this.fields;return u&&this.changes&this.MOD?k.isArray(g)?g.some(m=>u[m]):u[g]:0},filter(){k.error("MultiPulse does not support filtering.")},materialize(){k.error("MultiPulse does not support materialization.")},
visit(g,u){const m=this.pulses,C=m.length;let B=0;if(g&this.SOURCE)for(;B<C;++B)m[B].visit(g,u);else for(;B<C;++B)m[B].stamp===this.stamp&&m[B].visit(g,u);return this}});const M={skip:!1,force:!1};Pb.prototype={stamp(){return this._clock},loader(g){return arguments.length?(this._loader=g,this):this._loader},locale(g){return arguments.length?(this._locale=g,this):this._locale},logger(g){return arguments.length?(this._log=g,this):this._log},error:Vb("error"),warn:Vb("warn"),info:Vb("info"),debug:Vb("debug"),
logLevel:Vb("level"),cleanThreshold:1E4,add:function(g,u,m,C){let B=1;g instanceof Yb||(g&&g.prototype instanceof Yb?g=new g:k.isFunction(g)?g=new Yb(null,g):(B=0,g=new Yb(g,u)));this.rank(g);B&&(C=m,m=u);m&&this.connect(g,g.parameters(m,C));this.touch(g);return g},connect:function(g,u){const m=g.rank,C=u.length;for(let B=0;B<C;++B)if(m<u[B].rank){this.rerank(g);break}},rank:function(g){g.rank=++this._rank},rerank:function(g){const u=[g];let m,C,B;for(;u.length;)if(this.rank(m=u.pop()),C=m._targets)for(B=
C.length;0<=--B;)u.push(m=C[B]),m===g&&k.error("Cycle detected in dataflow graph.")},pulse:function(g,u,m){this.touch(g,m||M);m=new pb(this,this._clock+(this._pulse?0:1));const C=g.pulse&&g.pulse.source||[];m.target=g;this._input[g.id]=u.pulse(m,C);return this},touch:function(g,u){u=u||M;this._pulse?this._enqueue(g):this._touched.add(g);u.skip&&g.skip(!0);return this},update:function(g,u,m){m=m||M;(g.set(u)||m.force)&&this.touch(g,m);return this},changeset:Ab,ingest:function(g,u,m){u=this.parse(u,
m);return this.pulse(g,this.changeset().insert(u))},parse:function(g,u){const m=this.locale();return P.read(g,u,m.timeParse,m.utcParse)},preload:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Kb(C);B.requests+=1;const A=yield C.request(u,m);C.pulse(g,C.changeset().remove(k.truthy).insert(A.data||[]));B.done();return A})},request:function(g,u){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=
yield m.loader().load(g,{context:"dataflow",response:P.responseType(u&&u.type)});try{B=m.parse(B,u)}catch(A){C=-2,m.warn("Data ingestion failed",g,A)}}catch(A){C=-1,m.warn("Loading failed",g,A)}return{data:B,status:C}})},events:function(g,u,m,C){const B=this,A=Jb(m,C);m=function(D){D.dataflow=B;try{A.receive(D)}catch(I){B.error(I)}finally{B.run()}};g="string"===typeof g&&"undefined"!==typeof document?document.querySelectorAll(g):k.array(g);C=g.length;for(let D=0;D<C;++D)g[D].addEventListener(u,m);
return A},on:function(g,u,m,C,B){(g instanceof Yb?Ob:Cb)(this,g,u,m,C,B);return this},evaluate:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return mb(C);C._pending&&(yield C._pending);u&&(yield bc(C,u));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var A=++C._clock;C._pulse=new pb(C,A,g);C._touched.forEach(Y=>C._enqueue(Y,!0));C._touched=Fb(k.id);var D=0;let I,V,Aa;try{for(;0<C._heap.size();)I=
C._heap.pop(),I.rank!==I.qrank?C._enqueue(I,!0):(V=I.run(C._getPulse(I,g)),V.then?V=yield V:V.async&&(B.push(V.async),V=q),V!==q&&I._targets&&I._targets.forEach(Y=>C._enqueue(Y)),++D)}catch(Y){C._heap.clear(),Aa=Y}C._input={};C._pulse=null;C.debug(`Pulse ${A}: ${D} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(A=C._postrun.sort((Y,t)=>t.priority-Y.priority),C._postrun=[],D=0;D<A.length;++D)yield bc(C,A[D].callback);m&&(yield bc(C,m));B.length&&Promise.all(B).then(Y=>C.runAsync(null,
()=>{Y.forEach(t=>{try{t(C)}catch(L){C.error(L)}})}));return C})},run:function(g,u,m){return this._pulse?mb(this):(this.evaluate(g,u,m),this)},runAsync:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(g,u,m)).then(B,B);return C._running})},runAfter:function(g,u,m){if(this._pulse||u)this._postrun.push({priority:m||0,callback:g});else try{g(this)}catch(C){this.error(C)}},
_enqueue:function(g,u){const m=g.stamp<this._clock;m&&(g.stamp=this._clock);if(m||u)g.qrank=g.rank,this._heap.push(g)},_getPulse:function(g,u){const m=g.source,C=this._clock;return m&&k.isArray(m)?new lb(this,C,m.map(B=>B.pulse),u):this._input[g.id]||Pa(this._pulse,m&&m.pulse)}};k.inherits(nb,Yb,{run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?this.skip(!1):u=this.evaluate(g);u=u||g;u.then?u=u.then(m=>this.pulse=m):u!==g.StopPropagation&&(this.pulse=u);return u},evaluate(g){const u=
this.marshall(g.stamp);g=this.transform(u,g);u.clear();return g},transform(){}});const Q={};v.Dataflow=Pb;v.EventStream=tb;v.MultiPulse=lb;v.Operator=Yb;v.Parameters=kc;v.Pulse=pb;v.Transform=nb;v.UniqueList=Fb;v.asyncCallback=bc;v.changeset=Ab;v.definition=function(g){return(g=qa(g))&&g.Definition||null};v.derive=function(g){return Bc(g,vc({}))};v.ingest=vc;v.isChangeSet=uc;v.isTuple=function(g){return!(!g||!g[Z])};v.rederive=Bc;v.replace=function(g,u){u[Z]=g[Z];return u};v.stableCompare=function(g,
u){return g?u?(m,C)=>g(m,C)||u(m)[Z]-u(C)[Z]:(m,C)=>g(m,C)||m[Z]-C[Z]:null};v.transform=qa;v.transforms=Q;v.tupleid=function(g){return g[Z]};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[52]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(29),Db(51),Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,jb){function Fb(uc,Ab){var kc=[],Yb=function(ab){return ab(Kb)},Ua;if(null==Ab)kc.push(uc);else{var tb={};var Jb=0;for(Ua=uc.length;Jb<Ua;++Jb){var Kb=uc[Jb];
var Cb=Ab.map(Yb);var Ob=tb[Cb];Ob||(tb[Cb]=Ob=[],Ob.dims=Cb,kc.push(Ob));Ob.push(Kb)}}return kc}function bc(uc){P.Transform.call(this,null,uc)}function vc(uc){P.Transform.call(this,null,uc)}bc.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};jb.inherits(bc,P.Transform,{transform(uc,Ab){const kc=Ab.fork(Ab.NO_SOURCE|
Ab.NO_FIELDS);if(!this.value||Ab.changed()||uc.modified()){Ab=Ab.materialize(Ab.SOURCE).source;Ab=Fb(Ab,uc.groupby);const Yb=(uc.groupby||[]).map(jb.accessorName),Ua=Yb.length,tb=uc.as||[jb.accessorName(uc.x),jb.accessorName(uc.y)],Jb=[];Ab.forEach(Kb=>{k.regressionLoess(Kb,uc.x,uc.y,uc.bandwidth||.3).forEach(Cb=>{const Ob={};for(let ab=0;ab<Ua;++ab)Ob[Yb[ab]]=Kb.dims[ab];Ob[tb[0]]=Cb[0];Ob[tb[1]]=Cb[1];Jb.push(P.ingest(Ob))})});this.value&&(kc.rem=this.value);this.value=kc.add=kc.source=Jb}return kc}});
const Bc={constant:k.regressionConstant,linear:k.regressionLinear,log:k.regressionLog,exp:k.regressionExp,pow:k.regressionPow,quad:k.regressionQuad,poly:k.regressionPoly};vc.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Bc)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},
{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};jb.inherits(vc,P.Transform,{transform(uc,Ab){const kc=Ab.fork(Ab.NO_SOURCE|Ab.NO_FIELDS);if(!this.value||Ab.changed()||uc.modified()){var Yb=Ab.materialize(Ab.SOURCE).source;Yb=Fb(Yb,uc.groupby);const Ua=(uc.groupby||[]).map(jb.accessorName),tb=uc.method||"linear",Jb=null==uc.order?3:uc.order,Kb="poly"===tb?Jb:"quad"===tb?2:1,Cb=uc.as||[jb.accessorName(uc.x),jb.accessorName(uc.y)],Ob=Bc[tb],ab=[];let pb=uc.extent;jb.hasOwnProperty(Bc,
tb)||jb.error("Invalid regression method: "+tb);null!=pb&&"log"===tb&&0>=pb[0]&&(Ab.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),pb=null);Yb.forEach(Qa=>{if(Qa.length<=Kb)Ab.dataflow.warn("Skipping regression with more parameters than data points.");else{var Da=Ob(Qa,uc.x,uc.y,Jb);if(uc.params)ab.push(P.ingest({keys:Qa.dims,coef:Da.coef,rSquared:Da.rSquared}));else{var Ka=pb||jb.extent(Qa,uc.x),lb=mb=>{const Pa={};for(let wb=0;wb<Ua.length;++wb)Pa[Ua[wb]]=Qa.dims[wb];
Pa[Cb[0]]=mb[0];Pa[Cb[1]]=mb[1];ab.push(P.ingest(Pa))};"linear"===tb||"constant"===tb?Ka.forEach(mb=>lb([mb,Da.predict(mb)])):k.sampleCurve(Da.predict,Ka,25,200).forEach(lb)}}});this.value&&(kc.rem=this.value);this.value=kc.add=kc.source=ab}return kc}});v.loess=bc;v.regression=vc})};
shadow$provide[53]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(28),Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega))})(this,function(v,k,P){function jb(qa,Z,Fa,Ga,eb){let ba,oa;let q=Z[0],M=Ga[0],Q=0,g=0;M>q===M>-q?(ba=q,q=Z[++Q]):(ba=M,M=Ga[++g]);let u=0;if(Q<qa&&g<Fa){if(M>q===M>-q){oa=q+ba;
var m=ba-(oa-q);q=Z[++Q]}else oa=M+ba,m=ba-(oa-M),M=Ga[++g];ba=oa;for(0!==m&&(eb[u++]=m);Q<qa&&g<Fa;)M>q===M>-q?(oa=ba+q,m=oa-ba,m=ba-(oa-m)+(q-m),q=Z[++Q]):(oa=ba+M,m=oa-ba,m=ba-(oa-m)+(M-m),M=Ga[++g]),ba=oa,0!==m&&(eb[u++]=m)}for(;Q<qa;)oa=ba+q,m=oa-ba,m=ba-(oa-m)+(q-m),q=Z[++Q],ba=oa,0!==m&&(eb[u++]=m);for(;g<Fa;)oa=ba+M,m=oa-ba,m=ba-(oa-m)+(M-m),M=Ga[++g],ba=oa,0!==m&&(eb[u++]=m);if(0!==ba||0===u)eb[u++]=ba;return u}function Fb(qa,Z,Fa,Ga,eb,ba){var oa=(Z-ba)*(Fa-eb),q=(qa-eb)*(Ga-ba),M=oa-q;
if(0===oa||0===q||0<oa!==0<q)return M;oa=Math.abs(oa+q);if(Math.abs(M)>=3.3306690738754716E-16*oa)return M;{let A;M=qa-eb;const D=Fa-eb;q=Z-ba;const I=Ga-ba;var Q=M*I;var g=134217729*M;var u=g-(g-M);var m=M-u;g=134217729*I;g-=g-I;A=I-g;var C=m*A-(Q-u*g-m*g-u*A);var B=q*D;g=134217729*q;u=g-(g-q);m=q-u;g=134217729*D;g-=g-D;A=D-g;g=m*A-(B-u*g-m*g-u*A);m=C-g;u=C-m;Cb[0]=C-(m+u)+(u-g);C=Q+m;u=C-Q;Q=Q-(C-u)+(m-u);m=Q-B;u=Q-m;Cb[1]=Q-(m+u)+(u-B);B=C+m;u=B-C;Cb[2]=C-(B-u)+(m-u);Cb[3]=B;B=Cb[0];for(Q=1;4>
Q;Q++)B+=Cb[Q];Q=2.2204460492503146E-16*oa;B>=Q||-B>=Q?Ga=B:(u=qa-M,qa=qa-(M+u)+(u-eb),u=Fa-D,Fa=Fa-(D+u)+(u-eb),u=Z-q,Z=Z-(q+u)+(u-ba),u=Ga-I,Ga=Ga-(I+u)+(u-ba),0===qa&&0===Z&&0===Fa&&0===Ga?Ga=B:(Q=1.1093356479670487E-31*oa+3.3306690738754706E-16*Math.abs(B),B+=M*Ga+I*qa-(q*Fa+D*Z),B>=Q||-B>=Q?Ga=B:(Q=qa*I,g=134217729*qa,u=g-(g-qa),m=qa-u,g=134217729*I,g-=g-I,A=I-g,C=m*A-(Q-u*g-m*g-u*A),B=Z*D,g=134217729*Z,u=g-(g-Z),m=Z-u,g=134217729*D,g-=g-D,A=D-g,g=m*A-(B-u*g-m*g-u*A),m=C-g,u=C-m,Qa[0]=C-(m+u)+
(u-g),C=Q+m,u=C-Q,Q=Q-(C-u)+(m-u),m=Q-B,u=Q-m,Qa[1]=Q-(m+u)+(u-B),B=C+m,u=B-C,Qa[2]=C-(B-u)+(m-u),Qa[3]=B,ba=jb(4,Cb,4,Qa,Ob),Q=M*Ga,g=134217729*M,u=g-(g-M),m=M-u,g=134217729*Ga,g-=g-Ga,A=Ga-g,C=m*A-(Q-u*g-m*g-u*A),B=q*Fa,g=134217729*q,u=g-(g-q),m=q-u,g=134217729*Fa,g-=g-Fa,A=Fa-g,g=m*A-(B-u*g-m*g-u*A),m=C-g,u=C-m,Qa[0]=C-(m+u)+(u-g),C=Q+m,u=C-Q,Q=Q-(C-u)+(m-u),m=Q-B,u=Q-m,Qa[1]=Q-(m+u)+(u-B),B=C+m,u=B-C,Qa[2]=C-(B-u)+(m-u),Qa[3]=B,ba=jb(ba,Ob,4,Qa,ab),Q=qa*Ga,g=134217729*qa,u=g-(g-qa),m=qa-u,g=134217729*
Ga,g-=g-Ga,A=Ga-g,C=m*A-(Q-u*g-m*g-u*A),B=Z*Fa,g=134217729*Z,u=g-(g-Z),m=Z-u,g=134217729*Fa,g-=g-Fa,A=Fa-g,g=m*A-(B-u*g-m*g-u*A),m=C-g,u=C-m,Qa[0]=C-(m+u)+(u-g),C=Q+m,u=C-Q,Q=Q-(C-u)+(m-u),m=Q-B,u=Q-m,Qa[1]=Q-(m+u)+(u-B),B=C+m,u=B-C,Qa[2]=C-(B-u)+(m-u),Qa[3]=B,Ga=jb(ba,ab,4,Qa,pb),Ga=pb[Ga-1])))}return-Ga}function bc(qa,Z,Fa,Ga){qa-=Fa;Z-=Ga;return qa*qa+Z*Z}function vc(qa,Z,Fa,Ga){if(20>=Ga-Fa)for(var eb=Fa+1;eb<=Ga;eb++){for(var ba=qa[eb],oa=Z[ba],q=eb-1;q>=Fa&&Z[qa[q]]>oa;)qa[q+1]=qa[q--];qa[q+
1]=ba}else{eb=Fa+1;ba=Ga;Bc(qa,Fa+Ga>>1,eb);Z[qa[Fa]]>Z[qa[Ga]]&&Bc(qa,Fa,Ga);Z[qa[eb]]>Z[qa[Ga]]&&Bc(qa,eb,Ga);Z[qa[Fa]]>Z[qa[eb]]&&Bc(qa,Fa,eb);oa=qa[eb];for(q=Z[oa];;){do eb++;while(Z[qa[eb]]<q);do ba--;while(Z[qa[ba]]>q);if(ba<eb)break;Bc(qa,eb,ba)}qa[Fa+1]=qa[ba];qa[ba]=oa;Ga-eb+1>=ba-Fa?(vc(qa,Z,eb,Ga),vc(qa,Z,Fa,ba-1)):(vc(qa,Z,Fa,ba-1),vc(qa,Z,eb,Ga))}}function Bc(qa,Z,Fa){const Ga=qa[Z];qa[Z]=qa[Fa];qa[Fa]=Ga}function uc(qa){return qa[0]}function Ab(qa){return qa[1]}function kc(qa){return qa[0]}
function Yb(qa){return qa[1]}function Ua(qa){const {triangles:Z,coords:Fa}=qa;for(qa=0;qa<Z.length;qa+=3){const Ga=2*Z[qa],eb=2*Z[qa+1],ba=2*Z[qa+2];if(1E-10<(Fa[ba]-Fa[Ga])*(Fa[eb+1]-Fa[Ga+1])-(Fa[eb]-Fa[Ga])*(Fa[ba+1]-Fa[Ga+1]))return!1}return!0}function tb(qa,Z,Fa){return[qa+Math.sin(qa+Z)*Fa,Z+Math.cos(qa-Z)*Fa]}function*Jb(qa,Z,Fa,Ga){let eb=0;for(const ba of qa)yield Z.call(Ga,ba,eb,qa),yield Fa.call(Ga,ba,eb,qa),++eb}function Kb(qa){k.Transform.call(this,null,qa)}const Cb=new Float64Array(4),
Ob=new Float64Array(8),ab=new Float64Array(12),pb=new Float64Array(16),Qa=new Float64Array(4),Da=Math.pow(2,-52),Ka=new Uint32Array(512);class lb{static from(qa,Z=uc,Fa=Ab){const Ga=qa.length,eb=new Float64Array(2*Ga);for(let ba=0;ba<Ga;ba++){const oa=qa[ba];eb[2*ba]=Z(oa);eb[2*ba+1]=Fa(oa)}return new lb(eb)}constructor(qa){const Z=qa.length>>1;if(0<Z&&"number"!==typeof qa[0])throw Error("Expected coords to contain numbers.");this.coords=qa;qa=Math.max(2*Z-5,0);this._triangles=new Uint32Array(3*qa);
this._halfedges=new Int32Array(3*qa);this._hashSize=Math.ceil(Math.sqrt(Z));this._hullPrev=new Uint32Array(Z);this._hullNext=new Uint32Array(Z);this._hullTri=new Uint32Array(Z);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(Z);this._dists=new Float64Array(Z);this.update()}update(){const {coords:qa,_hullPrev:Z,_hullNext:Fa,_hullTri:Ga,_hullHash:eb}=this;var ba=qa.length>>1,oa=Infinity,q=Infinity,M=-Infinity,Q=-Infinity;for(var g=0;g<ba;g++){var u=qa[2*g];var m=qa[2*
g+1];u<oa&&(oa=u);m<q&&(q=m);u>M&&(M=u);m>Q&&(Q=m);this._ids[g]=g}M=(oa+M)/2;q=(q+Q)/2;oa=Infinity;for(Q=0;Q<ba;Q++)if(g=bc(M,q,qa[2*Q],qa[2*Q+1]),g<oa){var C=Q;oa=g}q=qa[2*C];Q=qa[2*C+1];oa=Infinity;for(M=0;M<ba;M++)if(M!==C&&(g=bc(q,Q,qa[2*M],qa[2*M+1]),g<oa&&0<g)){var B=M;oa=g}oa=qa[2*B];M=qa[2*B+1];m=Infinity;for(g=0;g<ba;g++)if(g!==C&&g!==B){u=oa-q;var A=M-Q;var D=qa[2*g]-q;var I=qa[2*g+1]-Q,V=u*u+A*A,Aa=D*D+I*I,Y=.5/(u*I-A*D);A=(I*V-A*Aa)*Y;u=(u*Aa-D*V)*Y;u=A*A+u*u;if(u<m){var t=g;m=u}}g=qa[2*
t];u=qa[2*t+1];if(Infinity===m){for(C=0;C<ba;C++)this._dists[C]=qa[2*C]-qa[0]||qa[2*C+1]-qa[1];vc(this._ids,this._dists,0,ba-1);C=new Uint32Array(ba);B=0;for(let L=0,va=-Infinity;L<ba;L++)t=this._ids[L],this._dists[t]>va&&(C[B++]=t,va=this._dists[t]);this.hull=C.subarray(0,B);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>Fb(q,Q,oa,M,g,u)&&(m=B,D=oa,V=M,B=t,oa=g,M=u,t=m,g=D,u=V);D=oa-q;m=M-Q;V=g-q;I=u-Q;Aa=D*D+m*m;Y=V*V+I*I;A=.5/(D*I-m*V);m=q+(I*Aa-m*Y)*A;D=Q+(D*Y-V*Aa)*
A;this._cx=m;this._cy=D;for(V=0;V<ba;V++)this._dists[V]=bc(qa[2*V],qa[2*V+1],m,D);vc(this._ids,this._dists,0,ba-1);this._hullStart=C;ba=3;Fa[C]=Z[t]=B;Fa[B]=Z[C]=t;Fa[t]=Z[B]=C;Ga[C]=0;Ga[B]=1;Ga[t]=2;eb.fill(-1);eb[this._hashKey(q,Q)]=C;eb[this._hashKey(oa,M)]=B;eb[this._hashKey(g,u)]=t;this.trianglesLen=0;this._addTriangle(C,B,t,-1,-1,-1);for(let L=0,va,La;L<this._ids.length;L++){q=this._ids[L];Q=qa[2*q];oa=qa[2*q+1];if(0<L&&Math.abs(Q-va)<=Da&&Math.abs(oa-La)<=Da)continue;va=Q;La=oa;if(q===C||
q===B||q===t)continue;M=0;for(let $a=0,X=this._hashKey(Q,oa);$a<this._hashSize&&(M=eb[(X+$a)%this._hashSize],-1===M||M===Fa[M]);$a++);g=M=Z[M];let Wa;for(;Wa=Fa[g],0<=Fb(Q,oa,qa[2*g],qa[2*g+1],qa[2*Wa],qa[2*Wa+1]);)if(g=Wa,g===M){g=-1;break}if(-1!==g){u=this._addTriangle(g,q,Fa[g],-1,-1,Ga[g]);Ga[q]=this._legalize(u+2);Ga[g]=u;ba++;for(m=Fa[g];Wa=Fa[m],0>Fb(Q,oa,qa[2*m],qa[2*m+1],qa[2*Wa],qa[2*Wa+1]);)u=this._addTriangle(m,q,Wa,Ga[q],-1,Ga[m]),Ga[q]=this._legalize(u+2),Fa[m]=m,ba--,m=Wa;if(g===M)for(;Wa=
Z[g],0>Fb(Q,oa,qa[2*Wa],qa[2*Wa+1],qa[2*g],qa[2*g+1]);)u=this._addTriangle(Wa,q,g,-1,Ga[g],Ga[Wa]),this._legalize(u+2),Ga[Wa]=u,Fa[g]=g,ba--,g=Wa;this._hullStart=Z[q]=g;Fa[g]=Z[m]=q;Fa[q]=m;eb[this._hashKey(Q,oa)]=q;eb[this._hashKey(qa[2*g],qa[2*g+1])]=g}}this.hull=new Uint32Array(ba);for(let L=0,va=this._hullStart;L<ba;L++)this.hull[L]=va,va=Fa[va];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(qa,Z){var Fa=Math;
qa-=this._cx;Z-=this._cy;qa/=Math.abs(qa)+Math.abs(Z);return Fa.floor.call(Fa,(0<Z?3-qa:1+qa)/4*this._hashSize)%this._hashSize}_legalize(qa){const {_triangles:Z,_halfedges:Fa,coords:Ga}=this;let eb=0;for(var ba;;){const m=Fa[qa];var oa=qa-qa%3;ba=oa+(qa+2)%3;if(-1===m){if(0===eb)break;qa=Ka[--eb];continue}const C=m-m%3,B=C+(m+2)%3;var q=Z[ba],M=Z[qa],Q=Z[oa+(qa+1)%3];oa=Z[B];var g=Ga[2*oa],u=Ga[2*oa+1];const A=Ga[2*q]-g,D=Ga[2*q+1]-u,I=Ga[2*M]-g;M=Ga[2*M+1]-u;g=Ga[2*Q]-g;u=Ga[2*Q+1]-u;Q=I*I+M*M;const V=
g*g+u*u;if(0>A*(M*V-Q*u)-D*(I*V-Q*g)+(A*A+D*D)*(I*u-M*g)){Z[qa]=oa;Z[m]=q;q=Fa[B];if(-1===q){oa=this._hullStart;do{if(this._hullTri[oa]===B){this._hullTri[oa]=qa;break}oa=this._hullPrev[oa]}while(oa!==this._hullStart)}this._link(qa,q);this._link(m,Fa[ba]);this._link(ba,B);ba=C+(m+1)%3;eb<Ka.length&&(Ka[eb++]=ba)}else{if(0===eb)break;qa=Ka[--eb]}}return ba}_link(qa,Z){this._halfedges[qa]=Z;-1!==Z&&(this._halfedges[Z]=qa)}_addTriangle(qa,Z,Fa,Ga,eb,ba){const oa=this.trianglesLen;this._triangles[oa]=
qa;this._triangles[oa+1]=Z;this._triangles[oa+2]=Fa;this._link(oa,Ga);this._link(oa+1,eb);this._link(oa+2,ba);this.trianglesLen+=3;return oa}}class mb{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(qa,Z){this._+=`M${this._x0=this._x1=+qa},${this._y0=this._y1=+Z}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(qa,Z){this._+=`L${this._x1=+qa},${this._y1=+Z}`}arc(qa,Z,Fa){qa=+qa;Z=+Z;Fa=+Fa;const Ga=qa+Fa,eb=Z;if(0>Fa)throw Error("negative radius");
if(null===this._x1)this._+=`M${Ga},${eb}`;else if(1E-6<Math.abs(this._x1-Ga)||1E-6<Math.abs(this._y1-eb))this._+="L"+Ga+","+eb;Fa&&(this._+=`A${Fa},${Fa},0,1,1,${qa-Fa},${Z}A${Fa},${Fa},0,1,1,${this._x1=Ga},${this._y1=eb}`)}rect(qa,Z,Fa,Ga){this._+=`M${this._x0=this._x1=+qa},${this._y0=this._y1=+Z}h${+Fa}v${+Ga}h${-Fa}Z`}value(){return this._||null}}class Pa{constructor(){this._=[]}moveTo(qa,Z){this._.push([qa,Z])}closePath(){this._.push(this._[0].slice())}lineTo(qa,Z){this._.push([qa,Z])}value(){return this._.length?
this._:null}}let wb=class{constructor(qa,[Z,Fa,Ga,eb]=[0,0,960,500]){if(!((Ga=+Ga)>=(Z=+Z)&&(eb=+eb)>=(Fa=+Fa)))throw Error("invalid bounds");this.delaunay=qa;this._circumcenters=new Float64Array(2*qa.points.length);this.vectors=new Float64Array(2*qa.points.length);this.xmax=Ga;this.xmin=Z;this.ymax=eb;this.ymin=Fa;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:qa,hull:Z,triangles:Fa},vectors:Ga}=this;var eb=this.circumcenters=this._circumcenters.subarray(0,
Fa.length/3*2);for(let B=0,A=0,D=Fa.length,I,V;B<D;B+=3,A+=2){var ba=2*Fa[B],oa=2*Fa[B+1],q=2*Fa[B+2],M=qa[ba];ba=qa[ba+1];var Q=qa[q],g=qa[q+1],u=qa[oa]-M,m=qa[oa+1]-ba;oa=Q-M;q=g-ba;var C=2*(u*q-m*oa);1E-9>Math.abs(C)?(u=1E9,m=2*Fa[0],u*=Math.sign((qa[m]-M)*q-(qa[m+1]-ba)*oa),I=(M+Q)/2-u*q,V=(ba+g)/2+u*oa):(Q=1/C,g=u*u+m*m,C=oa*oa+q*q,I=M+(q*g-m*C)*Q,V=ba+(u*C-oa*g)*Q);eb[A]=I;eb[A+1]=V}eb=Z[Z.length-1];ba=4*eb;q=qa[2*eb];u=qa[2*eb+1];Ga.fill(0);for(g=0;g<Z.length;++g)eb=Z[g],M=ba,oa=q,Q=u,ba=4*
eb,q=qa[2*eb],u=qa[2*eb+1],Ga[M+2]=Ga[ba]=Q-u,Ga[M+3]=Ga[ba+1]=q-oa}render(qa){const Z=null==qa?qa=new mb:void 0,{delaunay:{halfedges:Fa,inedges:Ga,hull:eb},circumcenters:ba,vectors:oa}=this;if(1>=eb.length)return null;for(let u=0,m=Fa.length;u<m;++u){var q=Fa[u];if(!(q<u)){var M=2*Math.floor(u/3);q=2*Math.floor(q/3);this._renderSegment(ba[M],ba[M+1],ba[q],ba[q+1],qa)}}M=eb[eb.length-1];for(q=0;q<eb.length;++q){var Q=M;M=eb[q];var g=2*Math.floor(Ga[M]/3);const u=ba[g];g=ba[g+1];Q*=4;(Q=this._project(u,
g,oa[Q+2],oa[Q+3]))&&this._renderSegment(u,g,Q[0],Q[1],qa)}return Z&&Z.value()}renderBounds(qa){const Z=null==qa?qa=new mb:void 0;qa.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return Z&&Z.value()}renderCell(qa,Z){const Fa=null==Z?Z=new mb:void 0;qa=this._clip(qa);if(null!==qa&&qa.length){Z.moveTo(qa[0],qa[1]);for(var Ga=qa.length;qa[0]===qa[Ga-2]&&qa[1]===qa[Ga-1]&&1<Ga;)Ga-=2;for(let eb=2;eb<Ga;eb+=2)qa[eb]===qa[eb-2]&&qa[eb+1]===qa[eb-1]||Z.lineTo(qa[eb],qa[eb+1]);Z.closePath();
return Fa&&Fa.value()}}*cellPolygons(){var {delaunay:{points:qa}}=this;for(let Z=0,Fa=qa.length/2;Z<Fa;++Z)if(qa=this.cellPolygon(Z))qa.index=Z,yield qa}cellPolygon(qa){const Z=new Pa;this.renderCell(qa,Z);return Z.value()}_renderSegment(qa,Z,Fa,Ga,eb){const ba=this._regioncode(qa,Z),oa=this._regioncode(Fa,Ga);if(0===ba&&0===oa)eb.moveTo(qa,Z),eb.lineTo(Fa,Ga);else if(qa=this._clipSegment(qa,Z,Fa,Ga,ba,oa))eb.moveTo(qa[0],qa[1]),eb.lineTo(qa[2],qa[3])}contains(qa,Z,Fa){return(Z=+Z,Z!==Z)||(Fa=+Fa,
Fa!==Fa)?!1:this.delaunay._step(qa,Z,Fa)===qa}*neighbors(qa){const Z=this._clip(qa);if(Z)for(const Fa of this.delaunay.neighbors(qa))if(qa=this._clip(Fa))a:for(let Ga=0,eb=Z.length;Ga<eb;Ga+=2)for(let ba=0,oa=qa.length;ba<oa;ba+=2)if(Z[Ga]==qa[ba]&&Z[Ga+1]==qa[ba+1]&&Z[(Ga+2)%eb]==qa[(ba+oa-2)%oa]&&Z[(Ga+3)%eb]==qa[(ba+oa-1)%oa]){yield Fa;break a}}_cell(qa){const {circumcenters:Z,delaunay:{inedges:Fa,halfedges:Ga,triangles:eb}}=this,ba=Fa[qa];if(-1===ba)return null;const oa=[];let q=ba;do{const M=
Math.floor(q/3);oa.push(Z[2*M],Z[2*M+1]);q=2===q%3?q-2:q+1;if(eb[q]!==qa)break;q=Ga[q]}while(q!==ba&&-1!==q);return oa}_clip(qa){if(0===qa&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const Z=this._cell(qa);if(null===Z)return null;const {vectors:Fa}=this,Ga=4*qa;return Fa[Ga]||Fa[Ga+1]?this._clipInfinite(qa,Z,Fa[Ga],Fa[Ga+1],Fa[Ga+2],Fa[Ga+3]):this._clipFinite(qa,Z)}_clipFinite(qa,Z){const Fa=Z.length;let Ga=null;let eb=Z[Fa-
2],ba=Z[Fa-1];let oa=this._regioncode(eb,ba),q=0;for(let u=0;u<Fa;u+=2){var M=eb;var Q=ba;eb=Z[u];ba=Z[u+1];var g=oa;oa=this._regioncode(eb,ba);if(0===g&&0===oa)q=0,Ga?Ga.push(eb,ba):Ga=[eb,ba];else{let m,C;if(0===g){if(null===(M=this._clipSegment(M,Q,eb,ba,g,oa)))continue;[Q,g,m,C]=M}else{if(null===(M=this._clipSegment(eb,ba,M,Q,oa,g)))continue;[m,C,Q,g]=M;M=q;q=this._edgecode(Q,g);M&&q&&this._edge(qa,M,q,Ga,Ga.length);Ga?Ga.push(Q,g):Ga=[Q,g]}M=q;q=this._edgecode(m,C);M&&q&&this._edge(qa,M,q,Ga,
Ga.length);Ga?Ga.push(m,C):Ga=[m,C]}}if(Ga)M=q,q=this._edgecode(Ga[0],Ga[1]),M&&q&&this._edge(qa,M,q,Ga,Ga.length);else if(this.contains(qa,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Ga}_clipSegment(qa,Z,Fa,Ga,eb,ba){for(;;){if(0===eb&&0===ba)return[qa,Z,Fa,Ga];if(eb&ba)return null;var oa=void 0;let q;oa=eb||ba;oa&8?(oa=qa+(Fa-qa)*(this.ymax-Z)/(Ga-Z),q=this.ymax):oa&4?(oa=qa+(Fa-qa)*(this.ymin-Z)/
(Ga-Z),q=this.ymin):oa&2?(q=Z+(Ga-Z)*(this.xmax-qa)/(Fa-qa),oa=this.xmax):(q=Z+(Ga-Z)*(this.xmin-qa)/(Fa-qa),oa=this.xmin);eb?(qa=oa,Z=q,eb=this._regioncode(qa,Z)):(Fa=oa,Ga=q,ba=this._regioncode(Fa,Ga))}}_clipInfinite(qa,Z,Fa,Ga,eb,ba){Z=Array.from(Z);let oa;(oa=this._project(Z[0],Z[1],Fa,Ga))&&Z.unshift(oa[0],oa[1]);(oa=this._project(Z[Z.length-2],Z[Z.length-1],eb,ba))&&Z.push(oa[0],oa[1]);if(Z=this._clipFinite(qa,Z))for(let q=0,M=Z.length,Q,g=this._edgecode(Z[M-2],Z[M-1]);q<M;q+=2)Q=g,g=this._edgecode(Z[q],
Z[q+1]),Q&&g&&(q=this._edge(qa,Q,g,Z,q),M=Z.length);else this.contains(qa,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(Z=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return Z}_edge(qa,Z,Fa,Ga,eb){for(;Z!==Fa;){let ba,oa;switch(Z){case 5:Z=4;continue;case 4:Z=6;ba=this.xmax;oa=this.ymin;break;case 6:Z=2;continue;case 2:Z=10;ba=this.xmax;oa=this.ymax;break;case 10:Z=8;continue;case 8:Z=9;ba=this.xmin;oa=this.ymax;break;case 9:Z=1;continue;case 1:Z=5,ba=this.xmin,
oa=this.ymin}Ga[eb]===ba&&Ga[eb+1]===oa||!this.contains(qa,ba,oa)||(Ga.splice(eb,0,ba,oa),eb+=2)}if(4<Ga.length)for(qa=0;qa<Ga.length;qa+=2)if(Z=(qa+2)%Ga.length,Fa=(qa+4)%Ga.length,Ga[qa]===Ga[Z]&&Ga[Z]===Ga[Fa]||Ga[qa+1]===Ga[Z+1]&&Ga[Z+1]===Ga[Fa+1])Ga.splice(Z,2),qa-=2;return eb}_project(qa,Z,Fa,Ga){let eb=Infinity,ba,oa,q;if(0>Ga){if(Z<=this.ymin)return null;(ba=(this.ymin-Z)/Ga)<eb&&(q=this.ymin,oa=qa+(eb=ba)*Fa)}else if(0<Ga){if(Z>=this.ymax)return null;(ba=(this.ymax-Z)/Ga)<eb&&(q=this.ymax,
oa=qa+(eb=ba)*Fa)}if(0<Fa){if(qa>=this.xmax)return null;(ba=(this.xmax-qa)/Fa)<eb&&(oa=this.xmax,q=Z+ba*Ga)}else if(0>Fa){if(qa<=this.xmin)return null;(ba=(this.xmin-qa)/Fa)<eb&&(oa=this.xmin,q=Z+ba*Ga)}return[oa,q]}_edgecode(qa,Z){return(qa===this.xmin?1:qa===this.xmax?2:0)|(Z===this.ymin?4:Z===this.ymax?8:0)}_regioncode(qa,Z){return(qa<this.xmin?1:qa>this.xmax?2:0)|(Z<this.ymin?4:Z>this.ymax?8:0)}};const sb=2*Math.PI,Pb=Math.pow;class Vb{static from(qa,Z=kc,Fa=Yb,Ga){if("length"in qa){const eb=
qa.length,ba=new Float64Array(2*eb);for(let oa=0;oa<eb;++oa){const q=qa[oa];ba[2*oa]=Z.call(Ga,q,oa,qa);ba[2*oa+1]=Fa.call(Ga,q,oa,qa)}qa=ba}else qa=Float64Array.from(Jb(qa,Z,Fa,Ga));return new Vb(qa)}constructor(qa){this._delaunator=new lb(qa);this.inedges=new Int32Array(qa.length/2);this._hullIndex=new Int32Array(qa.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var qa=this._delaunator;const Z=this.points;if(qa.hull&&
2<qa.hull.length&&Ua(qa)){this.collinear=Int32Array.from({length:Z.length/2},(oa,q)=>q).sort((oa,q)=>Z[2*oa]-Z[2*q]||Z[2*oa+1]-Z[2*q+1]);qa=this.collinear[0];var Fa=this.collinear[this.collinear.length-1];qa=[Z[2*qa],Z[2*qa+1],Z[2*Fa],Z[2*Fa+1]];qa=1E-8*Math.hypot(qa[3]-qa[1],qa[2]-qa[0]);for(let oa=0,q=Z.length/2;oa<q;++oa)Fa=tb(Z[2*oa],Z[2*oa+1],qa),Z[2*oa]=Fa[0],Z[2*oa+1]=Fa[1];this._delaunator=new lb(Z)}else delete this.collinear;qa=this.halfedges=this._delaunator.halfedges;Fa=this.hull=this._delaunator.hull;
const Ga=this.triangles=this._delaunator.triangles,eb=this.inedges.fill(-1),ba=this._hullIndex.fill(-1);for(let oa=0,q=qa.length;oa<q;++oa){const M=Ga[2===oa%3?oa-2:oa+1];if(-1===qa[oa]||-1===eb[M])eb[M]=oa}for(let oa=0,q=Fa.length;oa<q;++oa)ba[Fa[oa]]=oa;2>=Fa.length&&0<Fa.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=Fa[0],eb[Fa[0]]=1,2===Fa.length&&(eb[Fa[1]]=0,this.triangles[1]=Fa[1],this.triangles[2]=Fa[1]))}voronoi(qa){return new wb(this,
qa)}*neighbors(qa){const {inedges:Z,hull:Fa,_hullIndex:Ga,halfedges:eb,triangles:ba,collinear:oa}=this;if(oa){var q=oa.indexOf(qa);0<q&&(yield oa[q-1]);q<oa.length-1&&(yield oa[q+1])}else{var M=Z[qa];if(-1!==M){var Q=M;do{yield(q=ba[Q]);Q=2===Q%3?Q-2:Q+1;if(ba[Q]!==qa)break;Q=eb[Q];if(-1===Q){qa=Fa[(Ga[qa]+1)%Fa.length];qa!==q&&(yield qa);break}}while(Q!==M)}}}find(qa,Z,Fa=0){if((qa=+qa,qa!==qa)||(Z=+Z,Z!==Z))return-1;const Ga=Fa;let eb;for(;0<=(eb=this._step(Fa,qa,Z))&&eb!==Fa&&eb!==Ga;)Fa=eb;return eb}_step(qa,
Z,Fa){const {inedges:Ga,hull:eb,_hullIndex:ba,halfedges:oa,triangles:q,points:M}=this;if(-1===Ga[qa]||!M.length)return(qa+1)%(M.length>>1);let Q=qa,g=Pb(Z-M[2*qa],2)+Pb(Fa-M[2*qa+1],2);const u=Ga[qa];let m=u;do{let C=q[m];const B=Pb(Z-M[2*C],2)+Pb(Fa-M[2*C+1],2);B<g&&(g=B,Q=C);m=2===m%3?m-2:m+1;if(q[m]!==qa)break;m=oa[m];if(-1===m){m=eb[(ba[qa]+1)%eb.length];if(m!==C&&Pb(Z-M[2*m],2)+Pb(Fa-M[2*m+1],2)<g)return m;break}}while(m!==u);return Q}render(qa){const Z=null==qa?qa=new mb:void 0,{points:Fa,halfedges:Ga,
triangles:eb}=this;for(let oa=0,q=Ga.length;oa<q;++oa){var ba=Ga[oa];if(ba<oa)continue;const M=2*eb[oa];ba=2*eb[ba];qa.moveTo(Fa[M],Fa[M+1]);qa.lineTo(Fa[ba],Fa[ba+1])}this.renderHull(qa);return Z&&Z.value()}renderPoints(qa,Z){void 0!==Z||qa&&"function"===typeof qa.moveTo||(Z=qa,qa=null);Z=void 0==Z?2:+Z;const Fa=null==qa?qa=new mb:void 0,{points:Ga}=this;for(let eb=0,ba=Ga.length;eb<ba;eb+=2){const oa=Ga[eb],q=Ga[eb+1];qa.moveTo(oa+Z,q);qa.arc(oa,q,Z,0,sb)}return Fa&&Fa.value()}renderHull(qa){const Z=
null==qa?qa=new mb:void 0,{hull:Fa,points:Ga}=this;var eb=2*Fa[0];const ba=Fa.length;qa.moveTo(Ga[eb],Ga[eb+1]);for(eb=1;eb<ba;++eb){const oa=2*Fa[eb];qa.lineTo(Ga[oa],Ga[oa+1])}qa.closePath();return Z&&Z.value()}hullPolygon(){const qa=new Pa;this.renderHull(qa);return qa.value()}renderTriangle(qa,Z){const Fa=null==Z?Z=new mb:void 0,{points:Ga,triangles:eb}=this,ba=2*eb[qa*=3],oa=2*eb[qa+1];qa=2*eb[qa+2];Z.moveTo(Ga[ba],Ga[ba+1]);Z.lineTo(Ga[oa],Ga[oa+1]);Z.lineTo(Ga[qa],Ga[qa+1]);Z.closePath();return Fa&&
Fa.value()}*trianglePolygons(){const {triangles:qa}=this;for(let Z=0,Fa=qa.length/3;Z<Fa;++Z)yield this.trianglePolygon(Z)}trianglePolygon(qa){const Z=new Pa;this.renderTriangle(qa,Z);return Z.value()}}Kb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},
{name:"as",type:"string","default":"path"}]};const nb=[-1E5,-1E5,1E5,1E5];P.inherits(Kb,k.Transform,{transform(qa,Z){const Fa=qa.as||"path",Ga=Z.source;if(!Ga||!Ga.length)return Z;var eb=qa.size;eb=eb?[0,0,eb[0],eb[1]]:(eb=qa.extent)?[eb[0][0],eb[0][1],eb[1][0],eb[1][1]]:nb;eb=this.value=Vb.from(Ga,qa.x,qa.y).voronoi(eb);for(let q=0,M=Ga.length;q<M;++q){var ba=eb.cellPolygon(q),oa=Ga[q];if(ba){const Q=ba[0][0],g=ba[0][1];let u=ba.length-1;for(;ba[u][0]===Q&&ba[u][1]===g;--u);ba="M"+ba.slice(0,u+1).join("L")+
"Z"}else ba=null;oa[Fa]=ba}return Z.reflow(qa.modified()).modifies(Fa)}});v.voronoi=Kb})};
shadow$provide[54]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(31),Db(28),Db(20),Db(32),Db(29)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,jb,Fb,bc){function vc(){function Ob(qa){qa.width=qa.height=1;var Z=Math.sqrt(qa.getContext("2d").getImageData(0,
0,1,1).data.length>>2);qa.width=2048/Z;qa.height=2048/Z;qa=qa.getContext("2d");qa.fillStyle=qa.strokeStyle="red";qa.textAlign="center";return{context:qa,ratio:Z}}function ab(qa,Z,Fa){for(var Ga=Z.x,eb=Z.y,ba=Math.sqrt(pb[0]*pb[0]+pb[1]*pb[1]),oa=sb(pb),q=.5>Vb()?1:-1,M=-q,Q,g;Q=oa(M+=q);){g=~~Q[0];Q=~~Q[1];if(Math.min(Math.abs(g),Math.abs(Q))>=ba)break;Z.x=Ga+g;Z.y=eb+Q;if(!(0>Z.x+Z.x0||0>Z.y+Z.y0||Z.x+Z.x1>pb[0]||Z.y+Z.y1>pb[1])){if(!(g=!Fa)){a:{g=pb[0];g>>=5;Q=Z.sprite;var u=Z.width>>5;var m=Z.x-
(u<<4);for(var C=m&127,B=32-C,A=Z.y1-Z.y0,D=(Z.y+Z.y0)*g+(m>>5),I=0;I<A;I++){for(var V=m=0;V<=u;V++)if((m<<B|(V<u?(m=Q[I*u+V])>>>C:0))&qa[D+V]){g=!0;break a}D+=g}g=!1}g=!g}if(g&&(!Fa||Z.x+Z.x1>Fa[0].x&&Z.x+Z.x0<Fa[1].x&&Z.y+Z.y1>Fa[0].y&&Z.y+Z.y0<Fa[1].y)){Fa=Z.sprite;Ga=Z.width>>5;eb=pb[0]>>5;M=Z.x-(Ga<<4);ba=M&127;oa=32-ba;q=Z.y1-Z.y0;M=(Z.y+Z.y0)*eb+(M>>5);for(Q=0;Q<q;Q++){for(u=g=0;u<=Ga;u++)qa[M+u]=qa[M+u]|g<<oa|(u<Ga?(g=Fa[Q*Ga+u])>>>ba:0);M+=eb}Z.sprite=null;return!0}}}return!1}var pb=[256,
256],Qa,Da,Ka,lb,mb,Pa,wb,sb=Ab,Pb=[],Vb=Math.random,nb={layout:function(){for(var qa=Ob(k.canvas()),Z=kc((pb[0]>>5)*pb[1]),Fa=null,Ga=Pb.length,eb=-1,ba=[],oa=Pb.map(M=>({text:Qa(M),font:Da(M),style:lb(M),weight:mb(M),rotate:Pa(M),size:~~(Ka(M)+1E-14),padding:wb(M),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:M})).sort((M,Q)=>Q.size-M.size);++eb<Ga;){var q=oa[eb];q.x=pb[0]*(Vb()+.5)>>1;q.y=pb[1]*(Vb()+.5)>>1;Bc(qa,q,oa,eb);q.hasText&&ab(Z,q,Fa)&&(ba.push(q),Fa?uc(Fa,q):Fa=[{x:q.x+
q.x0,y:q.y+q.y0},{x:q.x+q.x1,y:q.y+q.y1}],q.x-=pb[0]>>1,q.y-=pb[1]>>1)}return ba},words:function(qa){return arguments.length?(Pb=qa,nb):Pb},size:function(qa){return arguments.length?(pb=[+qa[0],+qa[1]],nb):pb},font:function(qa){return arguments.length?(Da=Yb(qa),nb):Da},fontStyle:function(qa){return arguments.length?(lb=Yb(qa),nb):lb},fontWeight:function(qa){return arguments.length?(mb=Yb(qa),nb):mb},rotate:function(qa){return arguments.length?(Pa=Yb(qa),nb):Pa},text:function(qa){return arguments.length?
(Qa=Yb(qa),nb):Qa},spiral:function(qa){return arguments.length?(sb=Jb[qa]||qa,nb):sb},fontSize:function(qa){return arguments.length?(Ka=Yb(qa),nb):Ka},padding:function(qa){return arguments.length?(wb=Yb(qa),nb):wb},random:function(qa){return arguments.length?(Vb=qa,nb):Vb}};return nb}function Bc(Ob,ab,pb,Qa){if(!ab.sprite){var Da=Ob.context,Ka=Ob.ratio;Da.clearRect(0,0,2048/Ka,2048/Ka);var lb=Ob=0,mb=0,Pa=pb.length;for(--Qa;++Qa<Pa;){ab=pb[Qa];Da.save();Da.font=ab.style+" "+ab.weight+" "+~~((ab.size+
1)/Ka)+"px "+ab.font;var wb=Da.measureText(ab.text+"m").width*Ka;var sb=ab.size<<1;if(ab.rotate){var Pb=Math.sin(ab.rotate*tb),Vb=Math.cos(ab.rotate*tb),nb=wb*Vb,qa=wb*Pb;Vb*=sb;wb=sb*Pb;wb=Math.max(Math.abs(nb+wb),Math.abs(nb-wb))+31>>5<<5;sb=~~Math.max(Math.abs(qa+Vb),Math.abs(qa-Vb))}else wb=wb+31>>5<<5;sb>mb&&(mb=sb);2048<=Ob+wb&&(Ob=0,lb+=mb,mb=0);if(2048<=lb+sb)break;Da.translate((Ob+(wb>>1))/Ka,(lb+(sb>>1))/Ka);ab.rotate&&Da.rotate(ab.rotate*tb);Da.fillText(ab.text,0,0);ab.padding&&(Da.lineWidth=
2*ab.padding,Da.strokeText(ab.text,0,0));Da.restore();ab.width=wb;ab.height=sb;ab.xoff=Ob;ab.yoff=lb;ab.x1=wb>>1;ab.y1=sb>>1;ab.x0=-ab.x1;ab.y0=-ab.y1;ab.hasText=!0;Ob+=wb}Pa=Da.getImageData(0,0,2048/Ka,2048/Ka).data;for(nb=[];0<=--Qa;)if(ab=pb[Qa],ab.hasText){wb=ab.width;Da=wb>>5;sb=ab.y1-ab.y0;for(Ka=0;Ka<sb*Da;Ka++)nb[Ka]=0;Ob=ab.xoff;if(null==Ob)break;lb=ab.yoff;qa=0;Pb=-1;for(mb=0;mb<sb;mb++){for(Ka=0;Ka<wb;Ka++)Vb=Pa[2048*(lb+mb)+(Ob+Ka)<<2]?1<<31-Ka%32:0,nb[Da*mb+(Ka>>5)]|=Vb,qa|=Vb;qa?Pb=
mb:(ab.y0++,sb--,mb--,lb++)}ab.y1=ab.y0+Pb;ab.sprite=nb.slice(0,(ab.y1-ab.y0)*Da)}}}function uc(Ob,ab){var pb=Ob[0];Ob=Ob[1];ab.x+ab.x0<pb.x&&(pb.x=ab.x+ab.x0);ab.y+ab.y0<pb.y&&(pb.y=ab.y+ab.y0);ab.x+ab.x1>Ob.x&&(Ob.x=ab.x+ab.x1);ab.y+ab.y1>Ob.y&&(Ob.y=ab.y+ab.y1)}function Ab(Ob){var ab=Ob[0]/Ob[1];return function(pb){return[ab*(pb*=.1)*Math.cos(pb),pb*Math.sin(pb)]}}function kc(Ob){for(var ab=[],pb=-1;++pb<Ob;)ab[pb]=0;return ab}function Yb(Ob){return"function"===typeof Ob?Ob:function(){return Ob}}
function Ua(Ob){P.Transform.call(this,vc(),Ob)}var tb=Math.PI/180,Jb={archimedean:Ab,rectangular:function(Ob){var ab=4*Ob[0]/Ob[1],pb=0,Qa=0;return function(Da){var Ka=0>Da?-1:1;switch(Math.sqrt(1+4*Ka*Da)-Ka&3){case 0:pb+=ab;break;case 1:Qa+=4;break;case 2:pb-=ab;break;default:Qa-=4}return[pb,Qa]}}};const Kb="x y font fontSize fontStyle fontWeight angle".split(" "),Cb="text font rotate fontSize fontStyle fontWeight".split(" ");Ua.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",
type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",
expr:!0},{name:"as",type:"string",array:!0,length:7,"default":Kb}]};jb.inherits(Ua,P.Transform,{transform(Ob,ab){function pb(wb){wb=Ob[wb];return jb.isFunction(wb)&&ab.modified(wb.fields)}!Ob.size||Ob.size[0]&&Ob.size[1]||jb.error("Wordcloud size dimensions must be non-zero.");const Qa=Ob.modified();if(Qa||ab.changed(ab.ADD_REM)||Cb.some(pb)){var Da=ab.materialize(ab.SOURCE).source,Ka=this.value,lb=Ob.as||Kb,mb=Ob.fontSize||14,Pa;jb.isFunction(mb)?Pa=Ob.fontSizeRange:mb=jb.constant(mb);if(Pa){const wb=
mb,sb=Fb.scale("sqrt")().domain(jb.extent(Da,wb)).range(Pa);mb=Pb=>sb(wb(Pb))}Da.forEach(wb=>{wb[lb[0]]=NaN;wb[lb[1]]=NaN;wb[lb[3]]=0});Da=Ka.words(Da).text(Ob.text).size(Ob.size||[500,500]).padding(Ob.padding||1).spiral(Ob.spiral||"archimedean").rotate(Ob.rotate||0).font(Ob.font||"sans-serif").fontStyle(Ob.fontStyle||"normal").fontWeight(Ob.fontWeight||"normal").fontSize(mb).random(bc.random).layout();mb=Ka.size();Ka=mb[0]>>1;mb=mb[1]>>1;Pa=Da.length;for(let wb=0,sb,Pb;wb<Pa;++wb)sb=Da[wb],Pb=sb.datum,
Pb[lb[0]]=sb.x+Ka,Pb[lb[1]]=sb.y+mb,Pb[lb[2]]=sb.font,Pb[lb[3]]=sb.size,Pb[lb[4]]=sb.style,Pb[lb[5]]=sb.weight,Pb[lb[6]]=sb.rotate;return ab.reflow(Qa).modifies(lb)}}});v.wordcloud=Ua})};
shadow$provide[55]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(28),Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega))})(this,function(v,k,P){function jb(){let Da=8,Ka=[],lb=new Uint32Array(0),mb=Fb(0,Da),Pa=Fb(0,Da);return{data:()=>Ka,seen:()=>{var wb=lb;var sb=Ka.length;wb.length>=sb||(sb=new wb.constructor(sb),
sb.set(wb),wb=sb);return lb=wb},add(wb){for(let sb=0,Pb=Ka.length,Vb=wb.length,nb;sb<Vb;++sb)nb=wb[sb],nb._index=Pb++,Ka.push(nb)},remove(wb,sb){const Pb=Ka.length;wb=Array(Pb-wb);const Vb=Ka;let nb,qa,Z;for(qa=0;!sb[qa]&&qa<Pb;++qa)wb[qa]=Ka[qa],Vb[qa]=qa;for(Z=qa;qa<Pb;++qa)nb=Ka[qa],sb[qa]?Vb[qa]=-1:(Vb[qa]=Z,mb[Z]=mb[qa],Pa[Z]=Pa[qa],wb[Z]=nb,nb._index=Z++),mb[qa]=0;Ka=wb;return Vb},size:()=>Ka.length,curr:()=>mb,prev:()=>Pa,reset:wb=>Pa[wb]=mb[wb],all:()=>257>Da?255:65537>Da?65535:4294967295,
set(wb,sb){mb[wb]|=sb},clear(wb,sb){mb[wb]&=~sb},resize(wb,sb){if(wb>mb.length||sb>Da)Da=Math.max(sb,Da),mb=Fb(wb,Da,mb),Pa=Fb(wb,Da)}}}function Fb(Da,Ka,lb){Da=(257>Ka?Kb:65537>Ka?Cb:Ob)(Da);lb&&Da.set(lb);return Da}function bc(Da,Ka,lb){const mb=1<<Ka;return{one:mb,zero:~mb,range:lb.slice(),bisect:Da.bisect,index:Da.index,size:Da.size,onAdd(Pa,wb){var sb=this.bisect(this.range,Pa.value);Pa=Pa.index;const Pb=sb[0];sb=sb[1];const Vb=Pa.length;let nb;for(nb=0;nb<Pb;++nb)wb[Pa[nb]]|=mb;for(nb=sb;nb<
Vb;++nb)wb[Pa[nb]]|=mb;return this}}}function vc(Da,Ka){return null==Da||null==Ka?NaN:Da<Ka?-1:Da>Ka?1:Da>=Ka?0:NaN}function Bc(Da,Ka){return null==Da||null==Ka?NaN:Ka<Da?-1:Ka>Da?1:Ka>=Da?0:NaN}function uc(Da){function Ka(wb,sb,Pb=0,Vb=wb.length){if(Pb<Vb){if(0!==lb(sb,sb))return Vb;do{const nb=Pb+Vb>>>1;0>mb(wb[nb],sb)?Pb=nb+1:Vb=nb}while(Pb<Vb)}return Pb}let lb,mb,Pa;2!==Da.length?(lb=vc,mb=(wb,sb)=>vc(Da(wb),sb),Pa=(wb,sb)=>Da(wb)-sb):(lb=Da===vc||Da===Bc?Da:Ab,Pa=mb=Da);return{left:Ka,center:function(wb,
sb,Pb=0,Vb=wb.length){Vb=Ka(wb,sb,Pb,Vb-1);return Vb>Pb&&Pa(wb[Vb-1],sb)>-Pa(wb[Vb],sb)?Vb-1:Vb},right:function(wb,sb,Pb=0,Vb=wb.length){if(Pb<Vb){if(0!==lb(sb,sb))return Vb;do{const nb=Pb+Vb>>>1;0>=mb(wb[nb],sb)?Pb=nb+1:Vb=nb}while(Pb<Vb)}return Pb}}}function Ab(){return 0}function kc(Da,Ka){return Array.from(Ka,lb=>Da[lb])}function Yb(){let Da=new Uint32Array(0),Ka=[],lb=0;return{insert:function(mb,Pa,wb){if(!Pa.length)return[];const sb=lb,Pb=Pa.length,Vb=new Uint32Array(Pb);let nb=Array(Pb);var qa;
for(qa=0;qa<Pb;++qa)nb[qa]=mb(Pa[qa]),Vb[qa]=qa;nb=Ua(nb,Vb);if(sb){mb=Ka;Pa=Da;Ka=Array(sb+Pb);Da=new Uint32Array(sb+Pb);qa=nb;var Z=Ka,Fa=Da;let Ga=0,eb=0,ba;for(ba=0;Ga<sb&&eb<Pb;++ba)mb[Ga]<qa[eb]?(Z[ba]=mb[Ga],Fa[ba]=Pa[Ga++]):(Z[ba]=qa[eb],Fa[ba]=Vb[eb++]+wb);for(;Ga<sb;++Ga,++ba)Z[ba]=mb[Ga],Fa[ba]=Pa[Ga];for(;eb<Pb;++eb,++ba)Z[ba]=qa[eb],Fa[ba]=Vb[eb]+wb}else{if(0<wb)for(qa=0;qa<Pb;++qa)Vb[qa]+=wb;Ka=nb;Da=Vb}lb=sb+Pb;return{index:Vb,value:nb}},remove:function(mb,Pa){const wb=lb;let sb,Pb,
Vb;for(Pb=0;!Pa[Da[Pb]]&&Pb<wb;++Pb);for(Vb=Pb;Pb<wb;++Pb)Pa[sb=Da[Pb]]||(Da[Vb]=sb,Ka[Vb]=Ka[Pb],++Vb);lb=wb-mb},bisect:function(mb,Pa){let wb;Pa?wb=Pa.length:(Pa=Ka,wb=lb);return[Qa(Pa,mb[0],0,wb),pb(Pa,mb[1],0,wb)]},reindex:function(mb){for(let Pa=0,wb=lb;Pa<wb;++Pa)Da[Pa]=mb[Da[Pa]]},index:()=>Da,size:()=>lb}}function Ua(Da,Ka){Da.sort.call(Ka,(lb,mb)=>{lb=Da[lb];mb=Da[mb];return lb<mb?-1:lb>mb?1:0});return kc(Da,Ka)}function tb(Da){k.Transform.call(this,jb(),Da);this._dims=this._indices=null}
function Jb(Da){k.Transform.call(this,null,Da)}const Kb=Da=>new Uint8Array(Da),Cb=Da=>new Uint16Array(Da),Ob=Da=>new Uint32Array(Da),ab=uc(vc),pb=ab.right,Qa=ab.left;uc(function(Da){return null===Da?NaN:+Da}).center;tb.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};P.inherits(tb,k.Transform,{transform(Da,Ka){return this._dims?Da.modified("fields")||Da.fields.some(lb=>
Ka.modified(lb.fields))?this.reinit(Da,Ka):this.eval(Da,Ka):this.init(Da,Ka)},init(Da,Ka){const lb=Da.fields,mb=Da.query,Pa=this._indices={},wb=this._dims=[],sb=mb.length;let Pb=0;for(var Vb;Pb<sb;++Pb)Vb=lb[Pb].fname,Vb=Pa[Vb]||(Pa[Vb]=Yb()),wb.push(bc(Vb,Pb,mb[Pb]));return this.eval(Da,Ka)},reinit(Da,Ka){const lb=Ka.materialize().fork(),mb=Da.fields,Pa=Da.query,wb=this._indices,sb=this._dims,Pb=this.value,Vb=Pb.curr(),nb=Pb.prev(),qa=Pb.all(),Z=lb.rem=lb.add,Fa=lb.mod,Ga=Pa.length,eb={};let ba;
var oa;let q,M,Q,g;nb.set(Vb);Ka.rem.length&&(q=this.remove(Da,Ka,lb));Ka.add.length&&Pb.add(Ka.add);if(Ka.mod.length){M={};var u=Ka.mod;Q=0;for(oa=u.length;Q<oa;++Q)M[u[Q]._index]=1}for(Q=0;Q<Ga;++Q)if(g=mb[Q],!sb[Q]||Da.modified("fields",Q)||Ka.modified(g.fields))oa=g.fname,(u=eb[oa])||(wb[oa]=ba=Yb(),eb[oa]=u=ba.insert(g,Ka.source,0)),sb[Q]=bc(ba,Q,Pa[Q]).onAdd(u,Vb);Q=0;for(oa=Pb.data().length;Q<oa;++Q)q[Q]||(nb[Q]!==Vb[Q]?Z.push(Q):M[Q]&&Vb[Q]!==qa&&Fa.push(Q));Pb.mask=(1<<Ga)-1;return lb},eval(Da,
Ka){const lb=Ka.materialize().fork(),mb=this._dims.length;let Pa=0;Ka.rem.length&&(this.remove(Da,Ka,lb),Pa|=(1<<mb)-1);Da.modified("query")&&!Da.modified("fields")&&(Pa|=this.update(Da,Ka,lb));Ka.add.length&&(this.insert(Da,Ka,lb),Pa|=(1<<mb)-1);Ka.mod.length&&(this.modify(Ka,lb),Pa|=(1<<mb)-1);this.value.mask=Pa;return lb},insert(Da,Ka,lb){Ka=Ka.add;var mb=this.value;const Pa=this._dims,wb=this._indices;Da=Da.fields;const sb={};lb=lb.add;const Pb=mb.size()+Ka.length,Vb=Pa.length;let nb=mb.size();
mb.resize(Pb,Vb);mb.add(Ka);const qa=mb.curr(),Z=mb.prev(),Fa=mb.all();for(mb=0;mb<Vb;++mb){var Ga=Da[mb].fname;Ga=sb[Ga]||(sb[Ga]=wb[Ga].insert(Da[mb],Ka,nb));Pa[mb].onAdd(Ga,qa)}for(;nb<Pb;++nb)Z[nb]=Fa,qa[nb]!==Fa&&lb.push(nb)},modify(Da,Ka){Ka=Ka.mod;var lb=this.value;const mb=lb.curr();lb=lb.all();Da=Da.mod;let Pa,wb,sb;Pa=0;for(wb=Da.length;Pa<wb;++Pa)sb=Da[Pa]._index,mb[sb]!==lb&&Ka.push(sb)},remove(Da,Ka,lb){Da=this._indices;var mb=this.value;const Pa=mb.curr(),wb=mb.prev();mb=mb.all();const sb=
{};lb=lb.rem;const Pb=Ka.rem;let Vb,nb,qa,Z;Vb=0;for(nb=Pb.length;Vb<nb;++Vb)qa=Pb[Vb]._index,sb[qa]=1,wb[qa]=Z=Pa[qa],Pa[qa]=mb,Z!==mb&&lb.push(qa);for(qa in Da)Da[qa].remove(nb,sb);this.reindex(Ka,nb,sb);return sb},reindex(Da,Ka,lb){const mb=this._indices,Pa=this.value;Da.runAfter(()=>{const wb=Pa.remove(Ka,lb);for(const sb in mb)mb[sb].reindex(wb)})},update(Da,Ka,lb){const mb=this._dims,Pa=Da.query;Ka=Ka.stamp;const wb=mb.length;let sb=0,Pb,Vb;for(Vb=lb.filters=0;Vb<wb;++Vb)Da.modified("query",
Vb)&&(Pb=Vb,++sb);if(1===sb)sb=mb[Pb].one,this.incrementOne(mb[Pb],Pa[Pb],lb.add,lb.rem);else for(sb=Vb=0;Vb<wb;++Vb)Da.modified("query",Vb)&&(sb|=mb[Vb].one,this.incrementAll(mb[Vb],Pa[Vb],Ka,lb.add),lb.rem=lb.add);return sb},incrementAll(Da,Ka,lb,mb){var Pa=this.value;const wb=Pa.seen(),sb=Pa.curr();Pa=Pa.prev();const Pb=Da.index();var Vb=Da.bisect(Da.range),nb=Da.bisect(Ka);const qa=nb[0];nb=nb[1];const Z=Vb[0];Vb=Vb[1];const Fa=Da.one;let Ga,eb,ba;if(qa<Z)for(Ga=qa,eb=Math.min(Z,nb);Ga<eb;++Ga)ba=
Pb[Ga],wb[ba]!==lb&&(Pa[ba]=sb[ba],wb[ba]=lb,mb.push(ba)),sb[ba]^=Fa;else if(qa>Z)for(Ga=Z,eb=Math.min(qa,Vb);Ga<eb;++Ga)ba=Pb[Ga],wb[ba]!==lb&&(Pa[ba]=sb[ba],wb[ba]=lb,mb.push(ba)),sb[ba]^=Fa;if(nb>Vb)for(Ga=Math.max(qa,Vb),eb=nb;Ga<eb;++Ga)ba=Pb[Ga],wb[ba]!==lb&&(Pa[ba]=sb[ba],wb[ba]=lb,mb.push(ba)),sb[ba]^=Fa;else if(nb<Vb)for(Ga=Math.max(Z,nb),eb=Vb;Ga<eb;++Ga)ba=Pb[Ga],wb[ba]!==lb&&(Pa[ba]=sb[ba],wb[ba]=lb,mb.push(ba)),sb[ba]^=Fa;Da.range=Ka.slice()},incrementOne(Da,Ka,lb,mb){const Pa=this.value.curr(),
wb=Da.index();var sb=Da.bisect(Da.range),Pb=Da.bisect(Ka);const Vb=Pb[0];Pb=Pb[1];const nb=sb[0];sb=sb[1];const qa=Da.one;let Z,Fa,Ga;if(Vb<nb)for(Z=Vb,Fa=Math.min(nb,Pb);Z<Fa;++Z)Ga=wb[Z],Pa[Ga]^=qa,lb.push(Ga);else if(Vb>nb)for(Z=nb,Fa=Math.min(Vb,sb);Z<Fa;++Z)Ga=wb[Z],Pa[Ga]^=qa,mb.push(Ga);if(Pb>sb)for(Z=Math.max(Vb,sb),Fa=Pb;Z<Fa;++Z)Ga=wb[Z],Pa[Ga]^=qa,lb.push(Ga);else if(Pb<sb)for(Z=Math.max(nb,Pb),Fa=sb;Z<Fa;++Z)Ga=wb[Z],Pa[Ga]^=qa,mb.push(Ga);Da.range=Ka.slice()}});Jb.Definition={type:"ResolveFilter",
metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};P.inherits(Jb,k.Transform,{transform(Da,Ka){const lb=~(Da.ignore||0);Da=Da.filter;const mb=Da.mask;if(0===(mb&lb))return Ka.StopPropagation;Ka=Ka.fork(Ka.ALL);const Pa=Da.data(),wb=Da.curr(),sb=Da.prev(),Pb=Vb=>wb[Vb]&lb?null:Pa[Vb];Ka.filter(Ka.MOD,Pb);mb&mb-1?(Ka.filter(Ka.ADD,
Vb=>{const nb=wb[Vb]&lb;return!nb&&nb^sb[Vb]&lb?Pa[Vb]:null}),Ka.filter(Ka.REM,Vb=>{const nb=wb[Vb]&lb;return!nb||nb^nb^sb[Vb]&lb?null:Pa[Vb]})):(Ka.filter(Ka.ADD,Pb),Ka.filter(Ka.REM,Vb=>(wb[Vb]&lb)===mb?Pa[Vb]:null));return Ka.filter(Ka.SOURCE,Vb=>Pb(Vb._index))}});v.crossfilter=tb;v.resolvefilter=Jb})};
shadow$provide[56]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function P(A){this.type=A}function jb(A){switch(A.type){case "ArrayExpression":return A.elements;case "BinaryExpression":case "LogicalExpression":return[A.left,A.right];case "CallExpression":return[A.callee].concat(A.arguments);
case "ConditionalExpression":return[A.test,A.consequent,A.alternate];case "MemberExpression":return[A.object,A.property];case "ObjectExpression":return A.properties;case "Property":return[A.key,A.value];case "UnaryExpression":return[A.argument];default:return[]}}function Fb(A,D){if(!A)throw Error("ASSERT: "+D);}function bc(A){return 48<=A&&57>=A}function vc(A){return 0<="0123456789abcdefABCDEF".indexOf(A)}function Bc(A){return 0<="01234567".indexOf(A)}function uc(A){return 10===A||13===A||8232===
A||8233===A}function Ab(A){return 36===A||95===A||65<=A&&90>=A||97<=A&&122>=A||92===A||128<=A&&g.test(String.fromCharCode(A))}function kc(A){return 36===A||95===A||65<=A&&90>=A||97<=A&&122>=A||48<=A&&57>=A||92===A||128<=A&&u.test(String.fromCharCode(A))}function Yb(){for(;q<M;){const A=oa.charCodeAt(q);if(32===A||9===A||11===A||12===A||160===A||5760<=A&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(A)||uc(A))++q;else break}}function Ua(A){var D=
0;var I="u"===A?4:2;for(A=0;A<I;++A)if(q<M&&vc(oa[q])){var V=oa[q++];D=16*D+"0123456789abcdef".indexOf(V.toLowerCase())}else Pa({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(D)}function tb(){var A=oa.charCodeAt(q++);var D=String.fromCharCode(A);92===A&&(117!==oa.charCodeAt(q)&&Pa({},"Unexpected token %0","ILLEGAL"),++q,(A=Ua("u"))&&"\\"!==A&&Ab(A.charCodeAt(0))||Pa({},"Unexpected token %0","ILLEGAL"),D=A);for(;q<M;){A=oa.charCodeAt(q);if(!kc(A))break;++q;D+=String.fromCharCode(A);
92===A&&(D=D.substr(0,D.length-1),117!==oa.charCodeAt(q)&&Pa({},"Unexpected token %0","ILLEGAL"),++q,(A=Ua("u"))&&"\\"!==A&&kc(A.charCodeAt(0))||Pa({},"Unexpected token %0","ILLEGAL"),D+=A)}return D}function Jb(){var A=q,D=oa.charCodeAt(q),I=oa[q];switch(D){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++q,{type:7,value:String.fromCharCode(D),start:A,end:q};default:var V=oa.charCodeAt(q+1);if(61===V)switch(D){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return q+=
2,{type:7,value:String.fromCharCode(D)+String.fromCharCode(V),start:A,end:q};case 33:case 61:return q+=2,61===oa.charCodeAt(q)&&++q,{type:7,value:oa.slice(A,q),start:A,end:q}}}D=oa.substr(q,4);if("\x3e\x3e\x3e\x3d"===D)return q+=4,{type:7,value:D,start:A,end:q};D=D.substr(0,3);if("\x3e\x3e\x3e"===D||"\x3c\x3c\x3d"===D||"\x3e\x3e\x3d"===D)return q+=3,{type:7,value:D,start:A,end:q};D=D.substr(0,2);if(I===D[1]&&0<="+-\x3c\x3e\x26|".indexOf(I)||"\x3d\x3e"===D)return q+=2,{type:7,value:D,start:A,end:q};
"//"===D&&Pa({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(I))return++q,{type:7,value:I,start:A,end:q};Pa({},"Unexpected token %0","ILLEGAL")}function Kb(){var A=oa[q];Fb(bc(A.charCodeAt(0))||"."===A,"Numeric literal must start with a decimal digit or a decimal point");var D=q;var I="";if("."!==A){I=oa[q++];A=oa[q];if("0"===I){if("x"===A||"X"===A){++q;for(I="";q<M&&vc(oa[q]);)I+=oa[q++];0===I.length&&Pa({},"Unexpected token %0","ILLEGAL");Ab(oa.charCodeAt(q))&&Pa({},
"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+I,16),start:D,end:q}}if(Bc(A)){for(I="0"+oa[q++];q<M&&Bc(oa[q]);)I+=oa[q++];(Ab(oa.charCodeAt(q))||bc(oa.charCodeAt(q)))&&Pa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(I,8),octal:!0,start:D,end:q}}A&&bc(A.charCodeAt(0))&&Pa({},"Unexpected token %0","ILLEGAL")}for(;bc(oa.charCodeAt(q));)I+=oa[q++];A=oa[q]}if("."===A){for(I+=oa[q++];bc(oa.charCodeAt(q));)I+=oa[q++];A=oa[q]}if("e"===A||"E"===A){I+=oa[q++];A=oa[q];
if("+"===A||"-"===A)I+=oa[q++];if(bc(oa.charCodeAt(q)))for(;bc(oa.charCodeAt(q));)I+=oa[q++];else Pa({},"Unexpected token %0","ILLEGAL")}Ab(oa.charCodeAt(q))&&Pa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(I),start:D,end:q}}function Cb(A,D){let I=A;0<=D.indexOf("u")&&(I=I.replace(/\\u\{([0-9a-fA-F]+)\}/g,(V,Aa)=>{if(1114111>=parseInt(Aa,16))return"x";Pa({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(I)}catch(V){Pa({},"Invalid regular expression")}try{return new RegExp(A,
D)}catch(V){return null}}function Ob(){Yb();if(q>=M)return{type:2,start:q,end:q};var A=oa.charCodeAt(q);if(Ab(A)){A=q;if(92===oa.charCodeAt(q))var D=tb();else a:{for(D=q++;q<M;){var I=oa.charCodeAt(q);if(92===I){q=D;D=tb();break a}if(kc(I))++q;else break}D=oa.slice(D,q)}return{type:1===D.length?3:m.hasOwnProperty(D)?4:"null"===D?5:"true"===D||"false"===D?1:3,value:D,start:A,end:q}}if(40===A||41===A||59===A)return Jb();if(39===A||34===A){var V="";I=!1;A=oa[q];Fb("'"===A||'"'===A,"String literal must starts with a quote");
D=q;for(++q;q<M;){var Aa=oa[q++];if(Aa===A){A="";break}else if("\\"===Aa)if((Aa=oa[q++])&&uc(Aa.charCodeAt(0)))"\r"===Aa&&"\n"===oa[q]&&++q;else switch(Aa){case "u":case "x":if("{"===oa[q]){++q;var Y=oa[q];Aa=0;for("}"===Y&&Pa({},"Unexpected token %0","ILLEGAL");q<M;){Y=oa[q++];if(!vc(Y))break;Aa=16*Aa+"0123456789abcdef".indexOf(Y.toLowerCase())}(1114111<Aa||"}"!==Y)&&Pa({},"Unexpected token %0","ILLEGAL");Aa=65535>=Aa?String.fromCharCode(Aa):String.fromCharCode((Aa-65536>>10)+55296,(Aa-65536&1023)+
56320);V+=Aa}else V+=Ua(Aa);break;case "n":V+="\n";break;case "r":V+="\r";break;case "t":V+="\t";break;case "b":V+="\b";break;case "f":V+="\f";break;case "v":V+="\v";break;default:Bc(Aa)?(Y="01234567".indexOf(Aa),0!==Y&&(I=!0),q<M&&Bc(oa[q])&&(I=!0,Y=8*Y+"01234567".indexOf(oa[q++]),0<="0123".indexOf(Aa)&&q<M&&Bc(oa[q])&&(Y=8*Y+"01234567".indexOf(oa[q++]))),V+=String.fromCharCode(Y)):V+=Aa}else if(uc(Aa.charCodeAt(0)))break;else V+=Aa}""!==A&&Pa({},"Unexpected token %0","ILLEGAL");return{type:8,value:V,
octal:I,start:D,end:q}}return 46===A?bc(oa.charCodeAt(q+1))?Kb():Jb():bc(A)?Kb():Jb()}function ab(){const A=Q;q=A.end;Q=Ob();q=A.end;return A}function pb(){const A=q;Q=Ob();q=A}function Qa(A,D,I){const V=new P("||"===A||"\x26\x26"===A?"LogicalExpression":"BinaryExpression");V.operator=A;V.left=D;V.right=I;return V}function Da(A){const D=new P("Identifier");D.name=A;return D}function Ka(A){const D=new P("Literal");D.value=A.value;D.raw=oa.slice(A.start,A.end);A.regex&&("//"===D.raw&&(D.raw="/(?:)/"),
D.regex=A.regex);return D}function lb(A,D,I){const V=new P("MemberExpression");V.computed="["===A;V.object=D;V.property=I;V.computed||(I.member=!0);return V}function mb(A,D,I){const V=new P("Property");V.key=D;V.value=I;V.kind=A;return V}function Pa(A,D){var I=Array.prototype.slice.call(arguments,2),V=D.replace(/%(\d)/g,(Y,t)=>{Fb(t<I.length,"Message reference must be in range");return I[t]});var Aa=Error(V);Aa.index=q;Aa.description=V;throw Aa;}function wb(A){2===A.type&&Pa(A,"Unexpected end of input");
6===A.type&&Pa(A,"Unexpected number");8===A.type&&Pa(A,"Unexpected string");3===A.type&&Pa(A,"Unexpected identifier");4===A.type&&Pa(A,"Unexpected reserved word");Pa(A,"Unexpected token %0",A.value)}function sb(A){const D=ab();7===D.type&&D.value===A||wb(D)}function Pb(A){return 7===Q.type&&Q.value===A}function Vb(){q=Q.start;const A=ab();return 8===A.type||6===A.type?(A.octal&&Pa(A,"Octal literals are not allowed in strict mode."),Ka(A)):Da(A.value)}function nb(){if(Pb("(")){sb("(");var A=eb();sb(")");
return A}if(Pb("[")){A=[];q=Q.start;for(sb("[");!Pb("]");)Pb(",")?(ab(),A.push(null)):(A.push(Ga()),Pb("]")||sb(","));ab();var D=new P("ArrayExpression");D.elements=A;return D}if(Pb("{")){A=[];D={};var I=String;q=Q.start;for(sb("{");!Pb("}");){q=Q.start;var V=Q;if(3===V.type){var Aa=Vb();sb(":");V=Ga();V=mb("init",Aa,V)}else 2===V.type||7===V.type?(wb(V),V=void 0):(Aa=Vb(),sb(":"),V=Ga(),V=mb("init",Aa,V));Aa="Identifier"===V.key.type?V.key.name:I(V.key.value);Aa="$"+Aa;Object.prototype.hasOwnProperty.call(D,
Aa)?Pa({},"Duplicate data property in object literal not allowed in strict mode"):D[Aa]=!0;A.push(V);Pb("}")||sb(",")}sb("}");D=new P("ObjectExpression");D.properties=A;return D}A=Q.type;q=Q.start;if(3===A||C[Q.value])D=Da(ab().value);else if(8===A||6===A)Q.octal&&Pa(Q,"Octal literals are not allowed in strict mode."),D=Ka(ab());else{if(4===A)throw Error("Disabled.");if(1===A)A=ab(),A.value="true"===A.value,D=Ka(A);else if(5===A)A=ab(),A.value=null,D=Ka(A);else if(Pb("/")||Pb("/\x3d")){var Y;Q=null;
Yb();A=q;D=oa[q];Fb("/"===D,"Regular expression literal must start with a slash");I=oa[q++];for(Aa=V=!1;q<M;)if(D=oa[q++],I+=D,"\\"===D)D=oa[q++],uc(D.charCodeAt(0))&&Pa({},"Invalid regular expression: missing /"),I+=D;else if(uc(D.charCodeAt(0)))Pa({},"Invalid regular expression: missing /");else if(V)"]"===D&&(V=!1);else if("/"===D){Aa=!0;break}else"["===D&&(V=!0);Aa||Pa({},"Invalid regular expression: missing /");D=I.substr(1,I.length-2);for(Y=Aa="";q<M;){V=oa[q];if(!kc(V.charCodeAt(0)))break;
++q;"\\"===V&&q<M?Pa({},"Unexpected token %0","ILLEGAL"):(Y+=V,Aa+=V)}0<=Y.search(/[^gimuy]/g)&&Pa({},"Invalid regular expression",Y);V=Y;Y=Cb(D,V);D=Ka({literal:I+Aa,value:Y,regex:{pattern:D,flags:V},start:A,end:q});pb()}else wb(ab())}return D}function qa(){var A;for(A=nb();;)if(Pb(".")){sb(".");q=Q.start;var D=ab();3===D.type||4===D.type||1===D.type||5===D.type||wb(D);D=Da(D.value);A=lb(".",A,D)}else if(Pb("(")){D=[];sb("(");if(!Pb(")"))for(;q<M;){D.push(Ga());if(Pb(")"))break;sb(",")}sb(")");const I=
new P("CallExpression");I.callee=A;I.arguments=D;A=I}else if(Pb("["))sb("["),D=eb(),sb("]"),A=lb("[",A,D);else break;if(7===Q.type&&(Pb("++")||Pb("--")))throw Error("Disabled.");return A}function Z(){if(7!==Q.type&&4!==Q.type)var A=qa();else{if(Pb("++")||Pb("--"))throw Error("Disabled.");if(Pb("+")||Pb("-")||Pb("~")||Pb("!")){var D=ab();A=Z();D=D.value;const I=new P("UnaryExpression");I.operator=D;I.argument=A;I.prefix=!0;A=I}else{if(4===Q.type&&"delete"===Q.value||4===Q.type&&"void"===Q.value||4===
Q.type&&"typeof"===Q.value)throw Error("Disabled.");A=qa()}}return A}function Fa(A){let D=0;if(7!==A.type&&4!==A.type)return 0;switch(A.value){case "||":D=1;break;case "\x26\x26":D=2;break;case "|":D=3;break;case "^":D=4;break;case "\x26":D=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":D=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":D=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":D=8;break;case "+":case "-":D=
9;break;case "*":case "/":case "%":D=11}return D}function Ga(){var A=Q;var D=Z();var I=Q;var V=Fa(I);if(0===V)var Aa=D;else{I.prec=V;ab();A=[A,Q];var Y=Z();for(Aa=[D,I,Y];0<(V=Fa(Q));){for(;2<Aa.length&&V<=Aa[Aa.length-2].prec;)Y=Aa.pop(),I=Aa.pop().value,D=Aa.pop(),A.pop(),D=Qa(I,D,Y),Aa.push(D);I=ab();I.prec=V;Aa.push(I);A.push(Q);D=Z();Aa.push(D)}V=Aa.length-1;D=Aa[V];for(A.pop();1<V;)A.pop(),D=Qa(Aa[V-1].value,Aa[V-2],D),V-=2;Aa=D}Pb("?")&&(ab(),A=Ga(),sb(":"),V=Ga(),D=new P("ConditionalExpression"),
D.test=Aa,D.consequent=A,D.alternate=V,Aa=D);return Aa}function eb(){const A=Ga();if(Pb(","))throw Error("Disabled.");return A}function ba(A){function D(I,V,Aa){return Y=>{let t=A(Y[0]);V&&(t=V+"("+t+")",0===V.lastIndexOf("new ",0)&&(t="("+t+")"));return t+"."+I+(0>Aa?"":0===Aa?"()":"("+Y.slice(1).map(A).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(I){3>I.length&&k.error("Missing arguments to clamp function.");3<I.length&&k.error("Too many arguments to clamp function.");I=I.map(A);return"Math.max("+I[1]+", Math.min("+I[2]+","+I[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:D("getDate","new Date",0),day:D("getDay","new Date",0),
year:D("getFullYear","new Date",0),month:D("getMonth","new Date",0),hours:D("getHours","new Date",0),minutes:D("getMinutes","new Date",0),seconds:D("getSeconds","new Date",0),milliseconds:D("getMilliseconds","new Date",0),time:D("getTime","new Date",0),timezoneoffset:D("getTimezoneOffset","new Date",0),utcdate:D("getUTCDate","new Date",0),utcday:D("getUTCDay","new Date",0),utcyear:D("getUTCFullYear","new Date",0),utcmonth:D("getUTCMonth","new Date",0),utchours:D("getUTCHours","new Date",0),utcminutes:D("getUTCMinutes",
"new Date",0),utcseconds:D("getUTCSeconds","new Date",0),utcmilliseconds:D("getUTCMilliseconds","new Date",0),length:D("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:D("toUpperCase","String",0),lower:D("toLowerCase","String",0),substring:D("substring","String"),split:D("split","String"),trim:D("trim","String",0),regexp:"RegExp",test:D("test","RegExp"),if:function(I){3>I.length&&k.error("Missing arguments to if function.");3<I.length&&k.error("Too many arguments to if function.");
I=I.map(A);return"("+I[0]+"?"+I[1]+":"+I[2]+")"}}}P.prototype.visit=function(A){let D,I,V;if(A(this))return 1;D=jb(this);I=0;for(V=D.length;I<V;++I)if(D[I].visit(A))return 1};var oa,q,M,Q,g=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
u=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const m={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},C={"if":1};var B={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};v.ASTNode=P;v.ArrayExpression="ArrayExpression";v.BinaryExpression="BinaryExpression";v.CallExpression="CallExpression";v.ConditionalExpression="ConditionalExpression";v.Identifier="Identifier";v.Literal="Literal";v.LogicalExpression="LogicalExpression";v.MemberExpression="MemberExpression";v.ObjectExpression="ObjectExpression";v.Property="Property";
v.RawCode="RawCode";v.UnaryExpression="UnaryExpression";v.codegenExpression=function(A){function D(Xa){if(k.isString(Xa))return Xa;const Ib=Ca[Xa.type];null==Ib&&k.error("Unsupported type: "+Xa.type);return Ib(Xa)}function I(Xa){Xa={code:D(Xa),globals:Object.keys(Wa),fields:Object.keys($a)};Wa={};$a={};return Xa}A=A||{};const V=A.allowed?k.toSet(A.allowed):{},Aa=A.forbidden?k.toSet(A.forbidden):{},Y=A.constants||B,t=(A.functions||ba)(D),L=A.globalvar,va=A.fieldvar,La=k.isFunction(L)?L:Xa=>`${L}["${Xa}"]`;
let Wa={},$a={},X=0;const Ca={Literal:Xa=>Xa.raw,Identifier:Xa=>{Xa=Xa.name;if(0<X)return Xa;if(k.hasOwnProperty(Aa,Xa))return k.error("Illegal identifier: "+Xa);if(k.hasOwnProperty(Y,Xa))return Y[Xa];if(k.hasOwnProperty(V,Xa))return Xa;Wa[Xa]=1;return La(Xa)},MemberExpression:Xa=>{const Ib=!Xa.computed,yc=D(Xa.object);Ib&&(X+=1);Xa=D(Xa.property);if(yc===va){var qc=$a;var xc=(xc=Xa&&Xa.length-1)&&('"'===Xa[0]&&'"'===Xa[xc]||"'"===Xa[0]&&"'"===Xa[xc])?Xa.slice(1,-1):Xa;qc[xc]=1}Ib&&--X;return yc+
(Ib?"."+Xa:"["+Xa+"]")},CallExpression:Xa=>{"Identifier"!==Xa.callee.type&&k.error("Illegal callee type: "+Xa.callee.type);const Ib=Xa.callee.name;Xa=Xa.arguments;const yc=k.hasOwnProperty(t,Ib)&&t[Ib];yc||k.error("Unrecognized function: "+Ib);return k.isFunction(yc)?yc(Xa):yc+"("+Xa.map(D).join(",")+")"},ArrayExpression:Xa=>"["+Xa.elements.map(D).join(",")+"]",BinaryExpression:Xa=>"("+D(Xa.left)+" "+Xa.operator+" "+D(Xa.right)+")",UnaryExpression:Xa=>"("+Xa.operator+D(Xa.argument)+")",ConditionalExpression:Xa=>
"("+D(Xa.test)+"?"+D(Xa.consequent)+":"+D(Xa.alternate)+")",LogicalExpression:Xa=>"("+D(Xa.left)+Xa.operator+D(Xa.right)+")",ObjectExpression:Xa=>"{"+Xa.properties.map(D).join(",")+"}",Property:Xa=>{X+=1;const Ib=D(Xa.key);--X;return Ib+":"+D(Xa.value)}};I.functions=t;I.constants=Y;return I};v.constants=B;v.functions=ba;v.parseExpression=function(A){oa=A;q=0;M=oa.length;Q=null;pb();A=eb();if(2!==Q.type)throw Error("Unexpect token after expression.");return A}})};
shadow$provide[57]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(56)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function jb(ab,pb){return null==ab||null==pb?NaN:ab<pb?-1:ab>pb?1:ab>=pb?0:NaN}function Fb(ab,pb){return null==ab||null==pb?NaN:pb<ab?-1:pb>ab?1:pb>=ab?0:NaN}function bc(){return 0}function vc({_intern:ab,
_key:pb},Qa){pb=pb(Qa);return ab.has(pb)?ab.get(pb):Qa}function Bc({_intern:ab,_key:pb},Qa){pb=pb(Qa);if(ab.has(pb))return ab.get(pb);ab.set(pb,Qa);return Qa}function uc({_intern:ab,_key:pb},Qa){pb=pb(Qa);ab.has(pb)&&(Qa=ab.get(pb),ab.delete(pb));return Qa}function Ab(ab){return null!==ab&&"object"===typeof ab?ab.valueOf():ab}function kc(ab){return ab instanceof Ua?ab:new Ua(ab)}function Yb(ab,pb){var Qa=pb.fields;pb=pb.values;for(var Da=Qa.length,Ka=0,lb,mb;Ka<Da;++Ka)if(mb=Qa[Ka],mb.getter=k.field.getter||
k.field(mb.field),lb=mb.getter(ab),k.isDate(lb)&&(lb=k.toNumber(lb)),k.isDate(pb[Ka])&&(pb[Ka]=k.toNumber(pb[Ka])),k.isDate(pb[Ka][0])&&(pb[Ka]=pb[Ka].map(k.toNumber)),"E"===mb.type){if(k.isArray(pb[Ka])?0>pb[Ka].indexOf(lb):lb!==pb[Ka])return!1}else if("R"===mb.type){if(!k.inrange(lb,pb[Ka]))return!1}else if("R-RE"===mb.type){if(!k.inrange(lb,pb[Ka],!0,!1))return!1}else if("R-E"===mb.type){if(!k.inrange(lb,pb[Ka],!1,!1))return!1}else if("R-LE"===mb.type&&!k.inrange(lb,pb[Ka],!1,!0))return!1;return!0}
class Ua extends Set{constructor(ab,pb=Ab){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:pb}});if(null!=ab)for(const Qa of ab)this.add(Qa)}has(ab){return super.has(vc(this,ab))}add(ab){return super.add(Bc(this,ab))}delete(ab){return super.delete(uc(this,ab))}}const tb=k.field("_vgsid_"),Jb=function(ab){function pb(lb,mb,Pa=0,wb=lb.length){if(Pa<wb){if(0!==Qa(mb,mb))return wb;do{const sb=Pa+wb>>>1;0>Da(lb[sb],mb)?Pa=sb+1:wb=sb}while(Pa<wb)}return Pa}let Qa,Da,Ka;2!==ab.length?
(Qa=jb,Da=(lb,mb)=>jb(ab(lb),mb),Ka=(lb,mb)=>ab(lb)-mb):(Qa=ab===jb||ab===Fb?ab:bc,Ka=Da=ab);return{left:pb,center:function(lb,mb,Pa=0,wb=lb.length){wb=pb(lb,mb,Pa,wb-1);return wb>Pa&&Ka(lb[wb-1],mb)>-Ka(lb[wb],mb)?wb-1:wb},right:function(lb,mb,Pa=0,wb=lb.length){if(Pa<wb){if(0!==Qa(mb,mb))return wb;do{const sb=Pa+wb>>>1;0>=Da(lb[sb],mb)?Pa=sb+1:wb=sb}while(Pa<wb)}return Pa}}}(tb),Kb=Jb.left,Cb=Jb.right;var Ob={_vgsid__union:function(...ab){const pb=new Ua;for(const Qa of ab)for(const Da of Qa)pb.add(Da);
return pb},_vgsid__intersect:function(ab,...pb){ab=new Ua(ab);pb=pb.map(kc);a:for(const Qa of ab)for(const Da of pb)if(!Da.has(Qa)){ab.delete(Qa);continue a}return ab},E_union:function(ab,pb){if(!ab.length)return pb;for(var Qa=0,Da=pb.length;Qa<Da;++Qa)0>ab.indexOf(pb[Qa])&&ab.push(pb[Qa]);return ab},E_intersect:function(ab,pb){return ab.length?ab.filter(Qa=>0<=pb.indexOf(Qa)):pb},R_union:function(ab,pb){var Qa=k.toNumber(pb[0]),Da=k.toNumber(pb[1]);Qa>Da&&(Qa=pb[1],Da=pb[0]);if(!ab.length)return[Qa,
Da];ab[0]>Qa&&(ab[0]=Qa);ab[1]<Da&&(ab[1]=Da);return ab},R_intersect:function(ab,pb){var Qa=k.toNumber(pb[0]),Da=k.toNumber(pb[1]);Qa>Da&&(Qa=pb[1],Da=pb[0]);if(!ab.length)return[Qa,Da];if(Da<ab[0]||ab[1]<Qa)return[];ab[0]<Qa&&(ab[0]=Qa);ab[1]>Da&&(ab[1]=Da);return ab}};v.selectionIdTest=function(ab,pb,Qa){var Da=this.context.data[ab];ab=Da?Da.values.value:[];Da=Da?Da["index:unit"]&&Da["index:unit"].value:void 0;Qa="intersect"===Qa;pb=tb(pb);const Ka=Kb(ab,pb);if(Ka===ab.length||tb(ab[Ka])!==pb)return!1;
if(Da&&Qa){if(1===Da.size)return!0;if(Cb(ab,pb)-Ka<Da.size)return!1}return!0};v.selectionResolve=function(ab,pb,Qa,Da){ab=(ab=this.context.data[ab])?ab.values.value:[];for(var Ka={},lb={},mb={},Pa,wb,sb,Pb,Vb,nb,qa=ab.length,Z=0,Fa,Ga;Z<qa;++Z)if(Pa=ab[Z],Pb=Pa.unit,wb=Pa.fields,sb=Pa.values,wb&&sb){Fa=0;for(Ga=wb.length;Fa<Ga;++Fa)Vb=wb[Fa],Pa=Ka[Vb.field]||(Ka[Vb.field]={}),nb=Pa[Pb]||(Pa[Pb]=[]),mb[Vb.field]=Vb=Vb.type.charAt(0),Vb=Ob[`${Vb}_union`],Pa[Pb]=Vb(nb,k.array(sb[Fa]));Qa&&(nb=lb[Pb]||
(lb[Pb]=[]),nb.push(k.array(sb).reduce((eb,ba,oa)=>(eb[wb[oa].field]=ba,eb),{})))}else Vb="_vgsid_",sb=tb(Pa),Pa=Ka[Vb]||(Ka[Vb]={}),nb=Pa[Pb]||(Pa[Pb]=[]),nb.push(sb),Qa&&(nb=lb[Pb]||(lb[Pb]=[]),nb.push({_vgsid_:sb}));pb=pb||"union";Ka._vgsid_?Ka._vgsid_=Ob[`${"_vgsid_"}_${pb}`](...Object.values(Ka._vgsid_)):Object.keys(Ka).forEach(eb=>{Ka[eb]=Object.keys(Ka[eb]).map(ba=>Ka[eb][ba]).reduce((ba,oa)=>void 0===ba?oa:Ob[`${mb[eb]}_${pb}`](ba,oa))});ab=Object.keys(lb);Qa&&ab.length&&(Ka[Da?"vlPoint":
"vlMulti"]="union"===pb?{or:ab.reduce((eb,ba)=>(eb.push(...lb[ba]),eb),[])}:{and:ab.map(eb=>({or:lb[eb]}))});return Ka};v.selectionTest=function(ab,pb,Qa){var Da=this.context.data[ab];ab=Da?Da.values.value:[];Da=Da?Da["index:unit"]&&Da["index:unit"].value:void 0;Qa="intersect"===Qa;for(var Ka=ab.length,lb=0,mb,Pa,wb,sb;lb<Ka;++lb)if(mb=ab[lb],Da&&Qa){if(Pa=Pa||{},wb=Pa[sb=mb.unit]||0,-1!==wb){mb=Yb(pb,mb);Pa[sb]=mb?-1:++wb;if(mb&&1===Da.size)return!0;if(!mb&&wb===Da.get(sb).count)return!1}}else if(mb=
Yb(pb,mb),Qa^mb)return mb;return Ka&&Qa};v.selectionTuples=function(ab,pb){return ab.map(Qa=>k.extend(pb.fields?{values:pb.fields.map(Da=>(Da.getter||(Da.getter=k.field(Da.field)))(Qa.datum))}:{_vgsid_:tb(Qa.datum)},pb))};v.selectionVisitor=function(ab,pb,Qa,Da){pb[0].type!==P.Literal&&k.error("First argument to selection functions must be a string literal.");ab=pb[0].value;pb=2<=pb.length&&k.peek(pb).value;const Ka=":"+ab;"intersect"!==pb||k.hasOwnProperty(Da,"@unit")||(Da["@unit"]=Qa.getData(ab).indataRef(Qa,
"unit"));k.hasOwnProperty(Da,Ka)||(Da[Ka]=Qa.getData(ab).tuplesRef())}})};
shadow$provide[58]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(56),Db(32),Db(28),Db(33),Db(57),Db(29),Db(22)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,jb,Fb,bc,vc,
Bc,uc){function Ab(ra){return(ra=this.context.data[ra])?ra.values.value:[]}function kc(ra,bb,Rb){return(Rb=(ra=this.context.data[ra]["index:"+bb])?ra.value.get(Rb):void 0)?Rb.count:Rb}function Yb(ra,bb){const Rb=this.context.dataflow;Rb.pulse(this.context.data[ra].input,Rb.changeset().remove(k.truthy).insert(bb));return 1}function Ua(ra,bb,Rb){if(ra){const id=this.context.dataflow;id.pulse(ra.mark.source,id.changeset().encode(ra,bb))}return void 0!==Rb?Rb:ra}function tb(ra,bb,Rb){if(!Number.isInteger(ra)||
!Number.isInteger(bb))return"";Ac.setYear(2E3);Ac.setMonth(ra);Ac.setDate(bb);return fa.call(this,Ac,Rb)}function Jb(ra){return tb.call(this,ra,1,"%B")}function Kb(ra){return tb.call(this,ra,1,"%b")}function Cb(ra){return tb.call(this,0,2+ra,"%A")}function Ob(ra){return tb.call(this,0,2+ra,"%a")}function ab(ra,bb,Rb,id){bb[0].type!==P.Literal&&k.error("First argument to data functions must be a string literal.");ra=bb[0].value;bb=":"+ra;if(!k.hasOwnProperty(bb,id))try{id[bb]=Rb.getData(ra).tuplesRef()}catch(od){}}
function pb(ra,bb,Rb,id){bb[0].type!==P.Literal&&k.error("First argument to indata must be a string literal.");bb[1].type!==P.Literal&&k.error("Second argument to indata must be a string literal.");ra=bb[0].value;bb=bb[1].value;const od="@"+bb;k.hasOwnProperty(od,id)||(id[od]=Rb.getData(ra).indataRef(Rb,bb))}function Qa(ra,bb,Rb,id){if(bb[0].type===P.Literal)Da(Rb,id,bb[0].value);else for(ra in Rb.scales)Da(Rb,id,ra)}function Da(ra,bb,Rb){const id="%"+Rb;if(!k.hasOwnProperty(bb,id))try{bb[id]=ra.scaleRef(Rb)}catch(od){}}
function Ka(ra,bb){if(k.isFunction(ra))return ra;if(k.isString(ra))return(ra=bb.scales[ra])&&jb.isRegisteredScale(ra.value)?ra.value:void 0}function lb(ra,bb,Rb){bb.__bandwidth=od=>od&&od.bandwidth?od.bandwidth():0;Rb._bandwidth=Qa;Rb._range=Qa;Rb._scale=Qa;const id=od=>"_["+(od.type===P.Literal?k.stringValue("%"+od.value):k.stringValue("%")+"+"+ra(od))+"]";return{_bandwidth:od=>`this.__bandwidth(${id(od[0])})`,_range:od=>`${id(od[0])}.range()`,_scale:od=>`${id(od[0])}(${ra(od[1])})`}}function mb(ra){return 1<
ra?ee:-1>ra?-ee:Math.asin(ra)}function Pa(){}function wb(ra,bb){if(ra&&be.hasOwnProperty(ra.type))be[ra.type](ra,bb)}function sb(ra,bb,Rb){var id=-1;Rb=ra.length-Rb;for(bb.lineStart();++id<Rb;){var od=ra[id];bb.point(od[0],od[1],od[2])}bb.lineEnd()}function Pb(ra,bb){var Rb=-1,id=ra.length;for(bb.polygonStart();++Rb<id;)sb(ra[Rb],bb,1);bb.polygonEnd()}function Vb(ra,bb){if(ra&&Cd.hasOwnProperty(ra.type))Cd[ra.type](ra,bb);else wb(ra,bb)}function nb(){Gc.point=Z}function qa(){Fa($e,sf)}function Z(ra,
bb){Gc.point=Fa;$e=ra;sf=bb;ra*=wd;bb*=wd;nd=ra;Fc=Qc(bb=bb/2+Ra);bd=kd(bb)}function Fa(ra,bb){ra*=wd;bb*=wd;bb=bb/2+Ra;var Rb=ra-nd,id=0<=Rb?1:-1,od=id*Rb;Rb=Qc(bb);bb=kd(bb);var ne=bd*bb,Re=Fc*Rb+ne*Qc(od);id=ne*id*kd(od);ve.add(Uc(id,Re));nd=ra;Fc=Rb;bd=bb}function Ga(ra,bb){return[ra[1]*bb[2]-ra[2]*bb[1],ra[2]*bb[0]-ra[0]*bb[2],ra[0]*bb[1]-ra[1]*bb[0]]}function eb(ra,bb){Ja.push(hb=[Jd=ra,$d=ra]);bb<Zd&&(Zd=bb);bb>ke&&(ke=bb)}function ba(ra,bb){var Rb=[ra*wd,bb*wd];var id=Rb[0];Rb=Rb[1];var od=
Qc(Rb);id=[od*Qc(id),od*kd(id),kd(Rb)];if(ka){Rb=Ga(ka,id);od=Rb=Ga([Rb[1],-Rb[0],0],Rb);var ne=Ld(od[0]*od[0]+od[1]*od[1]+od[2]*od[2]);od[0]/=ne;od[1]/=ne;od[2]/=ne;Rb=[Uc(Rb[1],Rb[0]),mb(Rb[2])];var Re=ra-O;od=0<Re?1:-1;ne=Rb[0]*pc*od;Re=180<Mc(Re);Re^(od*O<ne&&ne<od*ra)?(Rb=Rb[1]*pc,Rb>ke&&(ke=Rb)):(ne=(ne+360)%360-180,Re^(od*O<ne&&ne<od*ra))?(Rb=-Rb[1]*pc,Rb<Zd&&(Zd=Rb)):(bb<Zd&&(Zd=bb),bb>ke&&(ke=bb));Re?ra<O?u(Jd,ra)>u(Jd,$d)&&($d=ra):u(ra,$d)>u(Jd,$d)&&(Jd=ra):$d>=Jd?(ra<Jd&&(Jd=ra),ra>$d&&
($d=ra)):ra>O?u(Jd,ra)>u(Jd,$d)&&($d=ra):u(ra,$d)>u(Jd,$d)&&(Jd=ra)}else Ja.push(hb=[Jd=ra,$d=ra]);bb<Zd&&(Zd=bb);bb>ke&&(ke=bb);ka=id;O=ra}function oa(){fc.point=ba}function q(){hb[0]=Jd;hb[1]=$d;fc.point=eb;ka=null}function M(ra,bb){if(ka){var Rb=ra-O;la.add(180<Mc(Rb)?Rb+(0<Rb?360:-360):Rb)}else da=ra,H=bb;Gc.point(ra,bb);ba(ra,bb)}function Q(){Gc.lineStart()}function g(){M(da,H);Gc.lineEnd();1E-6<Mc(la)&&(Jd=-($d=180));hb[0]=Jd;hb[1]=$d;ka=null}function u(ra,bb){return 0>(bb-=ra)?bb+360:bb}function m(ra,
bb){return ra[0]-bb[0]}function C(ra,bb){return ra[0]<=ra[1]?ra[0]<=bb&&bb<=ra[1]:bb<ra[0]||ra[1]<bb}function B(ra,bb){ra*=wd;bb*=wd;var Rb=Qc(bb);A(Rb*Qc(ra),Rb*kd(ra),kd(bb))}function A(ra,bb,Rb){++rc;Wb+=(ra-Wb)/rc;Dc+=(bb-Dc)/rc;yd+=(Rb-yd)/rc}function D(){xe.point=I}function I(ra,bb){ra*=wd;bb*=wd;var Rb=Qc(bb);Be=Rb*Qc(ra);Id=Rb*kd(ra);he=kd(bb);xe.point=V;A(Be,Id,he)}function V(ra,bb){ra*=wd;bb*=wd;var Rb=Qc(bb),id=Rb*Qc(ra);ra=Rb*kd(ra);bb=kd(bb);var od=Uc(Ld((od=Id*bb-he*ra)*od+(od=he*id-
Be*bb)*od+(od=Be*ra-Id*id)*od),Be*id+Id*ra+he*bb);tc+=od;Zc+=od*(Be+(Be=id));hd+=od*(Id+(Id=ra));Ad+=od*(he+(he=bb));A(Be,Id,he)}function Aa(){xe.point=B}function Y(){xe.point=L}function t(){va(Ge,Ae);xe.point=B}function L(ra,bb){Ge=ra;Ae=bb;ra*=wd;bb*=wd;xe.point=va;var Rb=Qc(bb);Be=Rb*Qc(ra);Id=Rb*kd(ra);he=kd(bb);A(Be,Id,he)}function va(ra,bb){ra*=wd;bb*=wd;var Rb=Qc(bb),id=Rb*Qc(ra);ra=Rb*kd(ra);bb=kd(bb);Rb=Id*bb-he*ra;var od=he*id-Be*bb,ne=Be*ra-Id*id,Re=td(Rb,od,ne),pf=mb(Re);Re=Re&&-pf/Re;
Hd.add(Re*Rb);Oc.add(Re*od);Ee.add(Re*ne);tc+=pf;Zc+=pf*(Be+(Be=id));hd+=pf*(Id+(Id=ra));Ad+=pf*(he+(he=bb));A(Be,Id,he)}function La(ra,bb){return function(Rb,id,od){return Rb?(Rb=Ka(Rb,(od||this).context))&&Rb.path[ra](id):bb(id)}}function Wa(ra){const bb=this.context.group;let Rb=!1;if(bb)for(;ra;){if(ra===bb){Rb=!0;break}ra=ra.mark.group}return Rb}function $a(ra,bb,Rb){try{ra[bb].apply(ra,["EXPRESSION"].concat([].slice.call(Rb)))}catch(id){ra.warn(id)}return Rb[Rb.length-1]}function X(){return $a(this.context.dataflow,
"warn",arguments)}function Ca(){return $a(this.context.dataflow,"info",arguments)}function Xa(){return $a(this.context.dataflow,"debug",arguments)}function Ib(ra,bb,Rb){ra.prototype=bb.prototype=Rb;Rb.constructor=ra}function yc(ra,bb){ra=Object.create(ra.prototype);for(var Rb in bb)ra[Rb]=bb[Rb];return ra}function qc(){}function xc(){return this.rgb().formatHex()}function dd(){return this.rgb().formatRgb()}function Zb(ra){var bb,Rb;ra=(ra+"").trim().toLowerCase();return(bb=wf.exec(ra))?(Rb=bb[1].length,
bb=parseInt(bb[1],16),6===Rb?Rc(bb):3===Rb?new qb(bb>>8&15|bb>>4&240,bb>>4&15|bb&240,(bb&15)<<4|bb&15,1):8===Rb?Pd(bb>>24&255,bb>>16&255,bb>>8&255,(bb&255)/255):4===Rb?Pd(bb>>12&15|bb>>8&240,bb>>8&15|bb>>4&240,bb>>4&15|bb&240,((bb&15)<<4|bb&15)/255):null):(bb=Pf.exec(ra))?new qb(bb[1],bb[2],bb[3],1):(bb=af.exec(ra))?new qb(255*bb[1]/100,255*bb[2]/100,255*bb[3]/100,1):(bb=ag.exec(ra))?Pd(bb[1],bb[2],bb[3],bb[4]):(bb=Vd.exec(ra))?Pd(255*bb[1]/100,255*bb[2]/100,255*bb[3]/100,bb[4]):(bb=hf.exec(ra))?
Yc(bb[1],bb[2]/100,bb[3]/100,1):(bb=jf.exec(ra))?Yc(bb[1],bb[2]/100,bb[3]/100,bb[4]):Qe.hasOwnProperty(ra)?Rc(Qe[ra]):"transparent"===ra?new qb(NaN,NaN,NaN,0):null}function Rc(ra){return new qb(ra>>16&255,ra>>8&255,ra&255,1)}function Pd(ra,bb,Rb,id){0>=id&&(ra=bb=Rb=NaN);return new qb(ra,bb,Rb,id)}function Na(ra){ra instanceof qc||(ra=Zb(ra));if(!ra)return new qb;ra=ra.rgb();return new qb(ra.r,ra.g,ra.b,ra.opacity)}function Ub(ra,bb,Rb,id){return 1===arguments.length?Na(ra):new qb(ra,bb,Rb,null==
id?1:id)}function qb(ra,bb,Rb,id){this.r=+ra;this.g=+bb;this.b=+Rb;this.opacity=+id}function Sb(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}`}function ic(){const ra=dc(this.opacity);return`${1===ra?"rgb(":"rgba("}${Ic(this.r)}, ${Ic(this.g)}, ${Ic(this.b)}${1===ra?")":`, ${ra})`}`}function dc(ra){return isNaN(ra)?1:Math.max(0,Math.min(1,ra))}function Ic(ra){return Math.max(0,Math.min(255,Math.round(ra)||0))}function zc(ra){ra=Ic(ra);return(16>ra?"0":"")+ra.toString(16)}function Yc(ra,bb,Rb,id){0>=
id?ra=bb=Rb=NaN:0>=Rb||1<=Rb?ra=bb=NaN:0>=bb&&(ra=NaN);return new Ha(ra,bb,Rb,id)}function Md(ra){if(ra instanceof Ha)return new Ha(ra.h,ra.s,ra.l,ra.opacity);ra instanceof qc||(ra=Zb(ra));if(!ra)return new Ha;if(ra instanceof Ha)return ra;ra=ra.rgb();var bb=ra.r/255,Rb=ra.g/255,id=ra.b/255,od=Math.min(bb,Rb,id),ne=Math.max(bb,Rb,id),Re=NaN,pf=ne-od,Ff=(ne+od)/2;pf?(Re=bb===ne?(Rb-id)/pf+6*(Rb<id):Rb===ne?(id-bb)/pf+2:(bb-Rb)/pf+4,pf/=.5>Ff?ne+od:2-ne-od,Re*=60):pf=0<Ff&&1>Ff?0:Re;return new Ha(Re,
pf,Ff,ra.opacity)}function ud(ra,bb,Rb,id){return 1===arguments.length?Md(ra):new Ha(ra,bb,Rb,null==id?1:id)}function Ha(ra,bb,Rb,id){this.h=+ra;this.s=+bb;this.l=+Rb;this.opacity=+id}function gb(ra){ra=(ra||0)%360;return 0>ra?ra+360:ra}function vb(ra){return Math.max(0,Math.min(1,ra||0))}function ta(ra,bb,Rb){return 255*(60>ra?bb+(Rb-bb)*ra/60:180>ra?Rb:240>ra?bb+(Rb-bb)*(240-ra)/60:bb)}function F(ra){if(ra instanceof Oa)return new Oa(ra.l,ra.a,ra.b,ra.opacity);if(ra instanceof Sc)return ed(ra);
ra instanceof qb||(ra=Na(ra));var bb=oc(ra.r),Rb=oc(ra.g),id=oc(ra.b),od=Za(.2225045*bb+.7168786*Rb+.0606169*id);if(bb===Rb&&Rb===id)var ne=bb=od;else ne=Za((.4360747*bb+.3850649*Rb+.1430804*id)/.96422),bb=Za((.0139322*bb+.0971045*Rb+.7141733*id)/.82521);return new Oa(116*od-16,500*(ne-od),200*(od-bb),ra.opacity)}function ya(ra,bb,Rb,id){return 1===arguments.length?F(ra):new Oa(ra,bb,Rb,null==id?1:id)}function Oa(ra,bb,Rb,id){this.l=+ra;this.a=+bb;this.b=+Rb;this.opacity=+id}function Za(ra){return ra>
sg?Math.pow(ra,1/3):ra/Bg+Jf}function kb(ra){return ra>Gf?ra*ra*ra:Bg*(ra-Jf)}function Eb(ra){return 255*(.0031308>=ra?12.92*ra:1.055*Math.pow(ra,1/2.4)-.055)}function oc(ra){return.04045>=(ra/=255)?ra/12.92:Math.pow((ra+.055)/1.055,2.4)}function ec(ra){if(ra instanceof Sc)return new Sc(ra.h,ra.c,ra.l,ra.opacity);ra instanceof Oa||(ra=F(ra));if(0===ra.a&&0===ra.b)return new Sc(NaN,0<ra.l&&100>ra.l?0:NaN,ra.l,ra.opacity);var bb=Math.atan2(ra.b,ra.a)*Qf;return new Sc(0>bb?bb+360:bb,Math.sqrt(ra.a*ra.a+
ra.b*ra.b),ra.l,ra.opacity)}function jc(ra,bb,Rb,id){return 1===arguments.length?ec(ra):new Sc(ra,bb,Rb,null==id?1:id)}function Sc(ra,bb,Rb,id){this.h=+ra;this.c=+bb;this.l=+Rb;this.opacity=+id}function ed(ra){if(isNaN(ra.h))return new Oa(ra.l,0,0,ra.opacity);var bb=ra.h*Cf;return new Oa(ra.l,Math.cos(bb)*ra.c,Math.sin(bb)*ra.c,ra.opacity)}function fd(ra){ra/=255;return.03928>=ra?ra/12.92:Math.pow((ra+.055)/1.055,2.4)}function Qd(ra){var bb=Ub(ra);ra=fd(bb.r);const Rb=fd(bb.g);bb=fd(bb.b);return.2126*
ra+.7152*Rb+.0722*bb}function Td(ra,bb){ra=Qd(ra);bb=Qd(bb);return(Math.max(ra,bb)+.05)/(Math.min(ra,bb)+.05)}function Ed(){const ra=[].slice.call(arguments);ra.unshift({});return k.extend(...ra)}function Yd(ra,bb){if(ra===bb||ra!==ra&&bb!==bb)ra=!0;else if(k.isArray(ra))if(k.isArray(bb)&&ra.length===bb.length)a:{for(let Rb=0,id=ra.length;Rb<id;++Rb)if(!Yd(ra[Rb],bb[Rb])){ra=!1;break a}ra=!0}else ra=!1;else ra=k.isObject(ra)&&k.isObject(bb)?ae(ra,bb):!1;return ra}function ae(ra,bb){for(const Rb in ra)if(!Yd(ra[Rb],
bb[Rb]))return!1;return!0}function Ud(ra){return bb=>ae(ra,bb)}function Xe(ra,bb,Rb,id,od,ne){const Re=this.context.dataflow,pf=this.context.data[ra],Ff=pf.input;ra=Re.stamp();let Ne=pf.changes,eg;if(!1===Re._trigger||!(Ff.value.length||bb||id))return 0;if(!Ne||Ne.stamp<ra)pf.changes=Ne=Re.changeset(),Ne.stamp=ra,Re.runAfter(()=>{pf.modified=!0;Re.pulse(Ff,Ne).run()},!0,1);Rb&&(Rb=!0===Rb?k.truthy:k.isArray(Rb)||Fb.isTuple(Rb)?Rb:Ud(Rb),Ne.remove(Rb));bb&&Ne.insert(bb);id&&(Rb=Ud(id),Ff.value.some(Rb)?
Ne.remove(Rb):Ne.insert(id));if(od)for(eg in ne)Ne.modify(od,eg,ne[eg]);return 1}function Wd(ra){ra=ra.touches;return Math.hypot(ra[0].clientX-ra[1].clientX,ra[0].clientY-ra[1].clientY)}function N(ra){ra=ra.touches;return Math.atan2(ra[0].clientY-ra[1].clientY,ra[0].clientX-ra[1].clientX)}function ma(ra,bb){bb=Af[bb]||(Af[bb]=k.field(bb));return k.isArray(ra)?ra.map(bb):bb(ra)}function za(ra){return k.isArray(ra)||ArrayBuffer.isView(ra)?ra:null}function fb(ra){return za(ra)||(k.isString(ra)?ra:null)}
function Hb(ra,...bb){return za(ra).join(...bb)}function Xb(ra,...bb){return fb(ra).indexOf(...bb)}function Cc(ra,...bb){return fb(ra).lastIndexOf(...bb)}function mc(ra,...bb){return fb(ra).slice(...bb)}function Hc(ra,bb,Rb){k.isFunction(Rb)&&k.error("Function argument passed to replace.");return String(ra).replace(bb,Rb)}function jd(ra){return za(ra).slice().reverse()}function Nc(ra,bb,Rb){return jb.bandSpace(ra||0,bb||0,Rb||0)}function vd(ra,bb){return(ra=Ka(ra,(bb||this).context))&&ra.bandwidth?
ra.bandwidth():0}function Gd(ra,bb){return(ra=Ka(ra,(bb||this).context))?ra.copy():void 0}function Fd(ra,bb){return(ra=Ka(ra,(bb||this).context))?ra.domain():[]}function Xd(ra,bb,Rb){return(ra=Ka(ra,(Rb||this).context))?k.isArray(bb)?(ra.invertRange||ra.invert)(bb):(ra.invert||ra.invertExtent)(bb):void 0}function Nd(ra,bb){return(ra=Ka(ra,(bb||this).context))&&ra.range?ra.range():[]}function qe(ra,bb,Rb){return(ra=Ka(ra,(Rb||this).context))?ra(bb):void 0}function De(ra,bb,Rb,id,od){ra=Ka(ra,(od||
this).context);const ne=bc.Gradient(bb,Rb);bb=ra.domain();Rb=bb[0];od=k.peek(bb);let Re=k.identity;od-Rb?Re=jb.scaleFraction(ra,Rb,od):ra=(ra.interpolator?jb.scale("sequential")().interpolator(ra.interpolator()):jb.scale("linear")().interpolate(ra.interpolate()).range(ra.range())).domain([Rb=0,od=1]);ra.ticks&&(bb=ra.ticks(+id||15),Rb!==bb[0]&&bb.unshift(Rb),od!==k.peek(bb)&&bb.push(od));bb.forEach(pf=>ne.stop(Re(pf),ra(pf)));return ne}function gf(ra,bb,Rb){const id=Ka(ra,(Rb||this).context);return function(od){return id?
id.path.context(od)(bb):""}}function cf(ra){let bb=null;return function(Rb){return Rb?bc.pathRender(Rb,bb=bb||bc.pathParse(ra)):ra}}function df(ra,bb){ra=Ab.call(bb,ra);return ra.root&&ra.root.lookup||{}}function pe(ra,bb,Rb){ra=df(ra,this);bb=ra[bb];Rb=ra[Rb];return bb&&Rb?bb.path(Rb).map(Hf):void 0}function nf(ra,bb){return(ra=df(ra,this)[bb])?ra.ancestors().map(Hf):void 0}function U(){const ra="undefined"!==typeof window&&window||null;return ra?ra.screen:{}}function ua(){const ra="undefined"!==
typeof window&&window||null;return ra?[ra.innerWidth,ra.innerHeight]:[void 0,void 0]}function cb(){var ra=this.context.dataflow;return(ra=ra.container&&ra.container())?[ra.clientWidth,ra.clientHeight]:[void 0,void 0]}function yb(ra,bb,Rb){if(!ra)return[];const [id,od]=ra;ra=(new bc.Bounds).set(id[0],id[1],od[0],od[1]);Rb=Rb||this.context.dataflow.scenegraph().root;return bc.intersect(Rb,ra,gc(bb))}function gc(ra){let bb=null;if(ra){const Rb=k.array(ra.marktype),id=k.array(ra.markname);bb=od=>(!Rb.length||
Rb.some(ne=>od.marktype===ne))&&(!id.length||id.some(ne=>od.name===ne))}return bb}function Ec(ra,bb,Rb){if(1===arguments.length)return dg[ra];dg[ra]=bb;Rb&&(Vg[ra]=Rb);Wg&&(Wg.functions[ra]="this."+ra);return this}const $b=ra=>function(bb,Rb){return this.context.dataflow.locale()[ra](Rb)(bb)},J=$b("format"),fa=$b("timeFormat"),Sa=$b("utcFormat"),cc=$b("timeParse"),Jc=$b("utcParse"),Ac=new Date(2E3,0,1);class $c{constructor(){this._partials=new Float64Array(32);this._n=0}add(ra){const bb=this._partials;
let Rb=0;for(let id=0;id<this._n&&32>id;id++){const od=bb[id],ne=ra+od;(ra=Math.abs(ra)<Math.abs(od)?ra-(ne-od):od-(ne-ra))&&(bb[Rb++]=ra);ra=ne}bb[Rb]=ra;this._n=Rb+1;return this}valueOf(){const ra=this._partials;let bb=this._n;let Rb,id=0;if(0<bb){for(id=ra[--bb];0<bb;){var od=id;Rb=ra[--bb];id=od+Rb;if(od=Rb-(id-od))break}0<bb&&(0>od&&0>ra[bb-1]||0<od&&0<ra[bb-1])&&(Rb=2*od,od=id+Rb,Rb==od-id&&(id=od))}return id}}var pd=Math.PI,ee=pd/2,Ra=pd/4,db=2*pd,pc=180/pd,wd=pd/180,Mc=Math.abs,Uc=Math.atan2,
Qc=Math.cos,td=Math.hypot,kd=Math.sin,Ld=Math.sqrt,Cd={Feature:function(ra,bb){wb(ra.geometry,bb)},FeatureCollection:function(ra,bb){ra=ra.features;for(var Rb=-1,id=ra.length;++Rb<id;)wb(ra[Rb].geometry,bb)}},be={Sphere:function(ra,bb){bb.sphere()},Point:function(ra,bb){ra=ra.coordinates;bb.point(ra[0],ra[1],ra[2])},MultiPoint:function(ra,bb){for(var Rb=ra.coordinates,id=-1,od=Rb.length;++id<od;)ra=Rb[id],bb.point(ra[0],ra[1],ra[2])},LineString:function(ra,bb){sb(ra.coordinates,bb,0)},MultiLineString:function(ra,
bb){ra=ra.coordinates;for(var Rb=-1,id=ra.length;++Rb<id;)sb(ra[Rb],bb,0)},Polygon:function(ra,bb){Pb(ra.coordinates,bb)},MultiPolygon:function(ra,bb){ra=ra.coordinates;for(var Rb=-1,id=ra.length;++Rb<id;)Pb(ra[Rb],bb)},GeometryCollection:function(ra,bb){ra=ra.geometries;for(var Rb=-1,id=ra.length;++Rb<id;)wb(ra[Rb],bb)}},ve=new $c,Me=new $c,$e,sf,nd,Fc,bd,Gc={point:Pa,lineStart:Pa,lineEnd:Pa,polygonStart:function(){ve=new $c;Gc.lineStart=nb;Gc.lineEnd=qa},polygonEnd:function(){var ra=+ve;Me.add(0>
ra?db+ra:ra);this.lineStart=this.lineEnd=this.point=Pa},sphere:function(){Me.add(db)}},Jd,Zd,$d,ke,O,da,H,ka,la,Ja,hb,fc={point:eb,lineStart:oa,lineEnd:q,polygonStart:function(){fc.point=M;fc.lineStart=Q;fc.lineEnd=g;la=new $c;Gc.polygonStart()},polygonEnd:function(){Gc.polygonEnd();fc.point=eb;fc.lineStart=oa;fc.lineEnd=q;0>ve?(Jd=-($d=180),Zd=-(ke=90)):1E-6<la?ke=90:-1E-6>la&&(Zd=-90);hb[0]=Jd;hb[1]=$d},sphere:function(){Jd=-($d=180);Zd=-(ke=90)}},rc,tc,Wb,Dc,yd,Zc,hd,Ad,Hd,Oc,Ee,Ge,Ae,Be,Id,he,
xe={sphere:Pa,point:B,lineStart:D,lineEnd:Aa,polygonStart:function(){xe.lineStart=Y;xe.lineEnd=t},polygonEnd:function(){xe.lineStart=D;xe.lineEnd=Aa}};const Le=La("area",function(ra){Me=new $c;Vb(ra,Gc);return 2*Me}),of=La("bounds",function(ra){var bb,Rb,id;ke=$d=-(Jd=Zd=Infinity);Ja=[];Vb(ra,fc);if(bb=Ja.length){Ja.sort(m);ra=1;var od=Ja[0];for(Rb=[od];ra<bb;++ra){var ne=Ja[ra];C(od,ne[0])||C(od,ne[1])?(u(od[0],ne[1])>u(od[0],od[1])&&(od[1]=ne[1]),u(ne[0],od[1])>u(od[0],od[1])&&(od[0]=ne[0])):Rb.push(od=
ne)}var Re=-Infinity;bb=Rb.length-1;ra=0;for(od=Rb[bb];ra<=bb;od=ne,++ra)ne=Rb[ra],(id=u(od[1],ne[0]))>Re&&(Re=id,Jd=ne[0],$d=od[1])}Ja=hb=null;return Infinity===Jd||Infinity===Zd?[[NaN,NaN],[NaN,NaN]]:[[Jd,Zd],[$d,ke]]}),Ve=La("centroid",function(ra){rc=tc=Wb=Dc=yd=Zc=hd=Ad=0;Hd=new $c;Oc=new $c;Ee=new $c;Vb(ra,xe);ra=+Hd;var bb=+Oc,Rb=+Ee,id=td(ra,bb,Rb);return 1E-12>id&&(ra=Zc,bb=hd,Rb=Ad,1E-6>tc&&(ra=Wb,bb=Dc,Rb=yd),id=td(ra,bb,Rb),1E-12>id)?[NaN,NaN]:[Uc(bb,ra)*pc,mb(Rb/id)*pc]});var we=1/.7,
wf=/^#([0-9a-f]{3,8})$/,Pf=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),af=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),ag=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Vd=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
hf=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),jf=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Qe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};Ib(qc,Zb,{copy(ra){return Object.assign(new this.constructor,this,ra)},displayable(){return this.rgb().displayable()},hex:xc,formatHex:xc,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Md(this).formatHsl()},formatRgb:dd,toString:dd});Ib(qb,Ub,yc(qc,{brighter(ra){ra=null==ra?we:Math.pow(we,ra);return new qb(this.r*ra,this.g*ra,this.b*ra,this.opacity)},darker(ra){ra=null==ra?.7:Math.pow(.7,ra);return new qb(this.r*ra,this.g*ra,
this.b*ra,this.opacity)},rgb(){return this},clamp(){return new qb(Ic(this.r),Ic(this.g),Ic(this.b),dc(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Sb,formatHex:Sb,formatHex8:function(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}${zc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ic,toString:ic}));Ib(Ha,ud,yc(qc,{brighter(ra){ra=null==ra?we:Math.pow(we,ra);return new Ha(this.h,
this.s,this.l*ra,this.opacity)},darker(ra){ra=null==ra?.7:Math.pow(.7,ra);return new Ha(this.h,this.s,this.l*ra,this.opacity)},rgb(){var ra=this.h%360+360*(0>this.h),bb=isNaN(ra)||isNaN(this.s)?0:this.s,Rb=this.l;bb=Rb+(.5>Rb?Rb:1-Rb)*bb;Rb=2*Rb-bb;return new qb(ta(240<=ra?ra-240:ra+120,Rb,bb),ta(ra,Rb,bb),ta(120>ra?ra+240:ra-120,Rb,bb),this.opacity)},clamp(){return new Ha(gb(this.h),vb(this.s),vb(this.l),dc(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=
this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const ra=dc(this.opacity);return`${1===ra?"hsl(":"hsla("}${gb(this.h)}, ${100*vb(this.s)}%, ${100*vb(this.l)}%${1===ra?")":`, ${ra})`}`}}));const Cf=Math.PI/180,Qf=180/Math.PI,Jf=4/29,Gf=6/29,Bg=3*Gf*Gf,sg=Gf*Gf*Gf;Ib(Oa,ya,yc(qc,{brighter(ra){return new Oa(this.l+18*(null==ra?1:ra),this.a,this.b,this.opacity)},darker(ra){return new Oa(this.l-18*(null==ra?1:ra),this.a,this.b,this.opacity)},rgb(){var ra=(this.l+16)/116,bb=isNaN(this.a)?ra:ra+this.a/
500,Rb=isNaN(this.b)?ra:ra-this.b/200;bb=.96422*kb(bb);ra=1*kb(ra);Rb=.82521*kb(Rb);return new qb(Eb(3.1338561*bb-1.6168667*ra-.4906146*Rb),Eb(-.9787684*bb+1.9161415*ra+.033454*Rb),Eb(.0719453*bb-.2289914*ra+1.4052427*Rb),this.opacity)}}));Ib(Sc,jc,yc(qc,{brighter(ra){return new Sc(this.h,this.c,this.l+18*(null==ra?1:ra),this.opacity)},darker(ra){return new Sc(this.h,this.c,this.l-18*(null==ra?1:ra),this.opacity)},rgb(){return ed(this).rgb()}}));const Af={},Hf=ra=>ra.data,dg={random(){return Bc.random()},
cumulativeNormal:Bc.cumulativeNormal,cumulativeLogNormal:Bc.cumulativeLogNormal,cumulativeUniform:Bc.cumulativeUniform,densityNormal:Bc.densityNormal,densityLogNormal:Bc.densityLogNormal,densityUniform:Bc.densityUniform,quantileNormal:Bc.quantileNormal,quantileLogNormal:Bc.quantileLogNormal,quantileUniform:Bc.quantileUniform,sampleNormal:Bc.sampleNormal,sampleLogNormal:Bc.sampleLogNormal,sampleUniform:Bc.sampleUniform,isArray:k.isArray,isBoolean:k.isBoolean,isDate:k.isDate,isDefined(ra){return void 0!==
ra},isNumber:k.isNumber,isObject:k.isObject,isRegExp:k.isRegExp,isString:k.isString,isTuple:Fb.isTuple,isValid(ra){return null!=ra&&ra===ra},toBoolean:k.toBoolean,toDate(ra){return k.toDate(ra)},toNumber:k.toNumber,toString:k.toString,indexof:Xb,join:Hb,lastindexof:Cc,replace:Hc,reverse:jd,slice:mc,flush:k.flush,lerp:k.lerp,merge:Ed,pad:k.pad,peek:k.peek,pluck:ma,span:k.span,inrange:k.inrange,truncate:k.truncate,rgb:Ub,lab:ya,hcl:jc,hsl:ud,luminance:Qd,contrast:Td,sequence:function(ra,bb,Rb){ra=+ra;
bb=+bb;Rb=2>(od=arguments.length)?(bb=ra,ra=0,1):3>od?1:+Rb;for(var id=-1,od=Math.max(0,Math.ceil((bb-ra)/Rb))|0,ne=Array(od);++id<od;)ne[id]=ra+id*Rb;return ne},format:J,utcFormat:Sa,utcParse:Jc,utcOffset:uc.utcOffset,utcSequence:uc.utcSequence,timeFormat:fa,timeParse:cc,timeOffset:uc.timeOffset,timeSequence:uc.timeSequence,timeUnitSpecifier:uc.timeUnitSpecifier,monthFormat:Jb,monthAbbrevFormat:Kb,dayFormat:Cb,dayAbbrevFormat:Ob,quarter:k.quarter,utcquarter:k.utcquarter,week:uc.week,utcweek:uc.utcweek,
dayofyear:uc.dayofyear,utcdayofyear:uc.utcdayofyear,warn:X,info:Ca,debug:Xa,extent(ra){return k.extent(ra)},inScope:Wa,intersect:yb,clampRange:k.clampRange,pinchDistance:Wd,pinchAngle:N,screen:U,containerSize:cb,windowSize:ua,bandspace:Nc,setdata:Yb,pathShape:cf,panLinear:k.panLinear,panLog:k.panLog,panPow:k.panPow,panSymlog:k.panSymlog,zoomLinear:k.zoomLinear,zoomLog:k.zoomLog,zoomPow:k.zoomPow,zoomSymlog:k.zoomSymlog,encode:Ua,modify:Xe,lassoAppend:function(ra,bb,Rb,id=5){ra=k.array(ra);const od=
ra[ra.length-1];return void 0===od||Math.hypot(od[0]-bb,od[1]-Rb)>id?[...ra,[bb,Rb]]:ra},lassoPath:function(ra){return k.array(ra).reduce((bb,[Rb,id],od)=>bb+(0==od?`M ${Rb},${id} `:od===ra.length-1?" Z":`L ${Rb},${id} `),"")},intersectLasso:function(ra,bb,Rb){const {x:id,y:od,mark:ne}=Rb;Rb=(new bc.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [Re,pf]of bb)Re<Rb.x1&&(Rb.x1=Re),Re>Rb.x2&&(Rb.x2=Re),pf<Rb.y1&&(Rb.y1=pf),pf>Rb.y2&&
(Rb.y2=pf);Rb.translate(id,od);return yb([[Rb.x1,Rb.y1],[Rb.x2,Rb.y2]],ra,ne).filter(Re=>{var pf=Re.y;let Ff=0;for(let Ne=0,eg=bb.length-1;Ne<bb.length;eg=Ne++){const [Sf,Xf]=bb[eg],[kg,qg]=bb[Ne];qg>pf!=Xf>pf&&Re.x<(Sf-kg)*(pf-qg)/(Xf-qg)+kg&&Ff++}return Ff&1})}},Ug="view item group xy x y".split(" "),Vg={},Dg={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:ra=>`_[${k.stringValue("$"+ra)}]`,functions:function(ra){const bb=P.functions(ra);Ug.forEach(Rb=>bb[Rb]="event.vega."+
Rb);for(const Rb in dg)bb[Rb]="this."+Rb;k.extend(bb,lb(ra,dg,Vg));return bb},constants:P.constants,visitors:Vg},Wg=P.codegenExpression(Dg);Ec("bandwidth",vd,Qa);Ec("copy",Gd,Qa);Ec("domain",Fd,Qa);Ec("range",Nd,Qa);Ec("invert",Xd,Qa);Ec("scale",qe,Qa);Ec("gradient",De,Qa);Ec("geoArea",Le,Qa);Ec("geoBounds",of,Qa);Ec("geoCentroid",Ve,Qa);Ec("geoShape",gf,Qa);Ec("indata",kc,pb);Ec("data",Ab,ab);Ec("treePath",pe,ab);Ec("treeAncestors",nf,ab);Ec("vlSelectionTest",vc.selectionTest,vc.selectionVisitor);
Ec("vlSelectionIdTest",vc.selectionIdTest,vc.selectionVisitor);Ec("vlSelectionResolve",vc.selectionResolve,vc.selectionVisitor);Ec("vlSelectionTuples",vc.selectionTuples);v.DataPrefix=":";v.IndexPrefix="@";v.ScalePrefix="%";v.SignalPrefix="$";v.bandspace=Nc;v.bandwidth=vd;v.codeGenerator=Wg;v.codegenParams=Dg;v.containerSize=cb;v.contrast=Td;v.copy=Gd;v.data=Ab;v.dataVisitor=ab;v.dayAbbrevFormat=Ob;v.dayFormat=Cb;v.debug=Xa;v.domain=Fd;v.encode=Ua;v.expressionFunction=Ec;v.format=J;v.functionContext=
dg;v.geoArea=Le;v.geoBounds=of;v.geoCentroid=Ve;v.geoShape=gf;v.inScope=Wa;v.indata=kc;v.indataVisitor=pb;v.indexof=Xb;v.info=Ca;v.invert=Xd;v.join=Hb;v.lastindexof=Cc;v.luminance=Qd;v.merge=Ed;v.modify=Xe;v.monthAbbrevFormat=Kb;v.monthFormat=Jb;v.parseExpression=function(ra,bb){const Rb={};let id;try{ra=k.isString(ra)?ra:k.stringValue(ra)+"",id=P.parseExpression(ra)}catch(od){k.error("Expression parse error: "+ra)}id.visit(od=>{if(od.type===P.CallExpression){var ne=od.callee.name,Re=Dg.visitors[ne];
Re&&Re(ne,od.arguments,bb,Rb)}});ra=Wg(id);ra.globals.forEach(od=>{const ne="$"+od;!k.hasOwnProperty(Rb,ne)&&bb.getSignal(od)&&(Rb[ne]=bb.signalRef(od))});return{$expr:k.extend({code:ra.code},bb.options.ast?{ast:id}:null),$fields:ra.fields,$params:Rb}};v.pathShape=cf;v.pinchAngle=N;v.pinchDistance=Wd;v.pluck=ma;v.range=Nd;v.replace=Hc;v.reverse=jd;v.scale=qe;v.scaleGradient=De;v.scaleVisitor=Qa;v.screen=U;v.setdata=Yb;v.slice=mc;v.timeFormat=fa;v.timeParse=cc;v.treeAncestors=nf;v.treePath=pe;v.utcFormat=
Sa;v.utcParse=Jc;v.warn=X;v.windowSize=ua})};
shadow$provide[59]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(28)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function jb(Ua,tb,Jb){Jb.endsWith(";")||(Jb="return("+Jb+");");tb=Function(...tb.concat(Jb));return Ua&&Ua.functions?tb.bind(Ua.functions):tb}function Fb(Ua,tb,Jb){if(!Ua||!k.isObject(Ua))return Ua;
for(let Kb=0,Cb=kc.length,Ob;Kb<Cb;++Kb)if(Ob=kc[Kb],k.hasOwnProperty(Ua,Ob.key))return Ob.parse(Ua,tb,Jb);return Ua}function bc(Ua,tb,Jb,Kb){this.dataflow=Ua;this.transforms=tb;this.events=Ua.events.bind(Ua);this.expr=Kb||Ab;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};Jb&&(this.functions=Object.create(Jb),this.functions.context=this)}function vc(Ua){this.dataflow=Ua.dataflow;this.transforms=Ua.transforms;this.events=Ua.events;this.expr=Ua.expr;this.signals=Object.create(Ua.signals);
this.scales=Object.create(Ua.scales);this.nodes=Object.create(Ua.nodes);this.data=Object.create(Ua.data);this.fn=Object.create(Ua.fn);Ua.functions&&(this.functions=Object.create(Ua.functions),this.functions.context=this)}const Bc=k.toSet(["rule"]),uc=k.toSet(["group","image","rect"]);var Ab={operator:(Ua,tb)=>jb(Ua,["_"],tb.code),parameter:(Ua,tb)=>jb(Ua,["datum","_"],tb.code),event:(Ua,tb)=>jb(Ua,["event"],tb.code),handler:(Ua,tb)=>jb(Ua,["_","event"],`var datum=event.item&&event.item.datum;return ${tb.code};`),
encode:(Ua,tb)=>{const {marktype:Jb,channels:Kb}=tb;tb="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var Cb in Kb){const Ob="o["+k.stringValue(Cb)+"]";tb+=`$=${Kb[Cb].code};if(${Ob}!==$)${Ob}=$,m=1;`}Cb="";Bc[Jb]||(Kb.x2&&(Kb.x?(uc[Jb]&&(Cb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),Cb+="o.width\x3do.x2-o.x;"):Cb+="o.x\x3do.x2-(o.width||0);"),Kb.xc&&(Cb+="o.x\x3do.xc-(o.width||0)/2;"),Kb.y2&&(Kb.y?(uc[Jb]&&(Cb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),Cb+="o.height\x3do.y2-o.y;"):
Cb+="o.y\x3do.y2-(o.height||0);"),Kb.yc&&(Cb+="o.y\x3do.yc-(o.height||0)/2;"));tb+=Cb;return jb(Ua,["item","_"],tb+"return m;")},codegen:{get(Ua){Ua=`[${Ua.map(k.stringValue).join("][")}]`;const tb=Function("_",`return _${Ua};`);tb.path=Ua;return tb},comparator(Ua,tb){let Jb;Ua=Function("a","b","var u, v; return "+Ua.map((Kb,Cb)=>{const Ob=tb[Cb];let ab;Kb.path?(ab=`a${Kb.path}`,Kb=`b${Kb.path}`):((Jb=Jb||{})["f"+Cb]=Kb,ab=`this.f${Cb}(a)`,Kb=`this.f${Cb}(b)`);Cb=-Ob;return`((u = ${ab}) < (v = ${Kb}) || u == null) && v != null ? ${Cb}
  : (u > v || v == null) && u != null ? ${Ob}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Cb}
  : v !== v && u === u ? ${Ob} : `}).join("")+"0;");return Jb?Ua.bind(Jb):Ua}}},kc=[{key:"$ref",parse:function(Ua,tb){return tb.get(Ua.$ref)||k.error("Operator not defined: "+Ua.$ref)}},{key:"$key",parse:function(Ua,tb){const Jb="k:"+Ua.$key+"_"+!!Ua.$flat;return tb.fn[Jb]||(tb.fn[Jb]=k.key(Ua.$key,Ua.$flat,tb.expr.codegen))}},{key:"$expr",parse:function(Ua,tb,Jb){Ua.$params&&tb.parseParameters(Ua.$params,Jb);Jb="e:"+Ua.$expr.code;return tb.fn[Jb]||(tb.fn[Jb]=k.accessor(tb.parameterExpression(Ua.$expr),
Ua.$fields))}},{key:"$field",parse:function(Ua,tb){if(!Ua.$field)return null;const Jb="f:"+Ua.$field+"_"+Ua.$name;return tb.fn[Jb]||(tb.fn[Jb]=k.field(Ua.$field,Ua.$name,tb.expr.codegen))}},{key:"$encode",parse:function(Ua,tb){Ua=Ua.$encode;const Jb={};for(const Kb in Ua){const Cb=Ua[Kb];Jb[Kb]=k.accessor(tb.encodeExpression(Cb.$expr),Cb.$fields);Jb[Kb].output=Cb.$output}return Jb}},{key:"$compare",parse:function(Ua,tb){const Jb="c:"+Ua.$compare+"_"+Ua.$order,Kb=k.array(Ua.$compare).map(Cb=>Cb&&Cb.$tupleid?
P.tupleid:Cb);return tb.fn[Jb]||(tb.fn[Jb]=k.compare(Kb,Ua.$order,tb.expr.codegen))}},{key:"$context",parse:function(Ua,tb){return tb}},{key:"$subflow",parse:function(Ua,tb){const Jb=Ua.$subflow;return function(Kb,Cb,Ob){const ab=tb.fork().parse(Jb);Kb=ab.get(Jb.operators[0].id);(Cb=ab.signals.parent)&&Cb.set(Ob);Kb.detachSubflow=()=>tb.detach(ab);return Kb}}},{key:"$tupleid",parse:function(){return P.tupleid}}];const Yb={skip:!0};bc.prototype=vc.prototype={fork(){const Ua=new vc(this);(this.subcontext||
(this.subcontext=[])).push(Ua);return Ua},detach(Ua){this.subcontext=this.subcontext.filter(Jb=>Jb!==Ua);const tb=Object.keys(Ua.nodes);for(const Jb of tb)Ua.nodes[Jb]._targets=null;for(const Jb of tb)Ua.nodes[Jb].detach();Ua.nodes=null},get(Ua){return this.nodes[Ua]},set(Ua,tb){return this.nodes[Ua]=tb},add(Ua,tb){const Jb=this,Kb=Jb.dataflow,Cb=Ua.value;Jb.set(Ua.id,tb);"collect"===(Ua.type+"").toLowerCase()&&Cb&&(Cb.$ingest?Kb.ingest(tb,Cb.$ingest,Cb.$format):Cb.$request?Kb.preload(tb,Cb.$request,
Cb.$format):Kb.pulse(tb,Kb.changeset().insert(Cb)));Ua.root&&(Jb.root=tb);if(Ua.parent){let Ob=Jb.get(Ua.parent.$ref);Ob?(Kb.connect(Ob,[tb]),tb.targets().add(Ob)):(Jb.unresolved=Jb.unresolved||[]).push(()=>{Ob=Jb.get(Ua.parent.$ref);Kb.connect(Ob,[tb]);tb.targets().add(Ob)})}Ua.signal&&(Jb.signals[Ua.signal]=tb);Ua.scale&&(Jb.scales[Ua.scale]=tb);if(Ua.data)for(const Ob in Ua.data){const ab=Jb.data[Ob]||(Jb.data[Ob]={});Ua.data[Ob].forEach(pb=>ab[pb]=tb)}},resolve(){(this.unresolved||[]).forEach(Ua=>
Ua());delete this.unresolved;return this},operator(Ua,tb){this.add(Ua,this.dataflow.add(Ua.value,tb))},transform(Ua,tb){this.add(Ua,this.dataflow.add(this.transforms[(tb+"").toLowerCase()]))},stream(Ua,tb){this.set(Ua.id,tb)},update(Ua,tb,Jb,Kb,Cb){this.dataflow.on(tb,Jb,Kb,Cb,Ua.options)},operatorExpression(Ua){return this.expr.operator(this,Ua)},parameterExpression(Ua){return this.expr.parameter(this,Ua)},eventExpression(Ua){return this.expr.event(this,Ua)},handlerExpression(Ua){return this.expr.handler(this,
Ua)},encodeExpression(Ua){return this.expr.encode(this,Ua)},parse:function(Ua){const tb=this,Jb=Ua.operators||[];Ua.background&&(tb.background=Ua.background);Ua.eventConfig&&(tb.eventConfig=Ua.eventConfig);Ua.locale&&(tb.locale=Ua.locale);Jb.forEach(Kb=>tb.parseOperator(Kb));Jb.forEach(Kb=>tb.parseOperatorParameters(Kb));(Ua.streams||[]).forEach(Kb=>tb.parseStream(Kb));(Ua.updates||[]).forEach(Kb=>tb.parseUpdate(Kb));return tb.resolve()},parseOperator:function(Ua){"operator"!==(Ua.type+"").toLowerCase()&&
Ua.type?this.transform(Ua,Ua.type):this.operator(Ua,Ua.update?this.operatorExpression(Ua.update):null)},parseOperatorParameters:function(Ua){if(Ua.params){const tb=this.get(Ua.id);tb||k.error("Invalid operator id: "+Ua.id);this.dataflow.connect(tb,tb.parameters(this.parseParameters(Ua.params),Ua.react,Ua.initonly))}},parseParameters:function(Ua,tb){tb=tb||{};const Jb=this;for(const Kb in Ua){const Cb=Ua[Kb];tb[Kb]=k.isArray(Cb)?Cb.map(Ob=>Fb(Ob,Jb,tb)):Fb(Cb,Jb,tb)}return tb},parseStream:function(Ua){var tb=
this,Jb=null!=Ua.filter?tb.eventExpression(Ua.filter):void 0,Kb=null!=Ua.stream?tb.get(Ua.stream):void 0;if(Ua.source)Kb=tb.events(Ua.source,Ua.type,Jb);else if(Ua.merge){var Cb=Ua.merge.map(Ob=>tb.get(Ob));Kb=Cb[0].merge.apply(Cb[0],Cb.slice(1))}Ua.between&&(Cb=Ua.between.map(Ob=>tb.get(Ob)),Kb=Kb.between(Cb[0],Cb[1]));Ua.filter&&(Kb=Kb.filter(Jb));null!=Ua.throttle&&(Kb=Kb.throttle(+Ua.throttle));null!=Ua.debounce&&(Kb=Kb.debounce(+Ua.debounce));null==Kb&&k.error("Invalid stream definition: "+JSON.stringify(Ua));
Ua.consume&&Kb.consume(!0);tb.stream(Ua,Kb)},parseUpdate:function(Ua){var tb=k.isObject(tb=Ua.source)?tb.$ref:tb;tb=this.get(tb);var Jb=Ua.update,Kb=void 0;tb||k.error("Source not defined: "+Ua.source);var Cb=Ua.target&&Ua.target.$expr?this.eventExpression(Ua.target.$expr):this.get(Ua.target);Jb&&Jb.$expr&&(Jb.$params&&(Kb=this.parseParameters(Jb.$params)),Jb=this.handlerExpression(Jb.$expr));this.update(Ua,tb,Cb,Jb,Kb)},getState:function(Ua){var tb=this,Jb={};if(Ua.signals){var Kb=Jb.signals={};
Object.keys(tb.signals).forEach(Ob=>{const ab=tb.signals[Ob];Ua.signals(Ob,ab)&&(Kb[Ob]=ab.value)})}if(Ua.data){var Cb=Jb.data={};Object.keys(tb.data).forEach(Ob=>{const ab=tb.data[Ob];Ua.data(Ob,ab)&&(Cb[Ob]=ab.input.value)})}tb.subcontext&&!1!==Ua.recurse&&(Jb.subcontext=tb.subcontext.map(Ob=>Ob.getState(Ua)));return Jb},setState:function(Ua){var tb=this,Jb=tb.dataflow,Kb=Ua.data,Cb=Ua.signals;Object.keys(Cb||{}).forEach(Ob=>{Jb.update(tb.signals[Ob],Cb[Ob],Yb)});Object.keys(Kb||{}).forEach(Ob=>
{Jb.pulse(tb.data[Ob].input,Jb.changeset().remove(k.truthy).insert(Kb[Ob]))});(Ua.subcontext||[]).forEach((Ob,ab)=>{(ab=tb.subcontext[ab])&&ab.setState(Ob)})}};v.context=function(Ua,tb,Jb,Kb){return new bc(Ua,tb,Jb,Kb)}})};
shadow$provide[60]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(28),Db(33),Db(58),Db(59),Db(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,jb,Fb,bc,vc){function Bc(Ha){const gb=Ha.container();gb&&(gb.setAttribute("role",
"graphics-document"),gb.setAttribute("aria-roleDescription","visualization"),uc(gb,Ha.description()))}function uc(Ha,gb){Ha&&(null==gb?Ha.removeAttribute("aria-label"):Ha.setAttribute("aria-label",gb))}function Ab(Ha){Ha.add(null,gb=>{Ha._background=gb.bg;Ha._resize=1;return gb.bg},{bg:Ha._signals.background})}function kc(Ha){const gb=Ha._signals.cursor||(Ha._signals.cursor=Ha.add({user:"default",item:null}));Ha.on(Ha.events("view","mousemove"),gb,(vb,ta)=>{const F=(vb=gb.value)?k.isString(vb)?vb:
vb.user:"default";ta=ta.item&&ta.item.cursor||null;return vb&&F===vb.user&&ta==vb.item?vb:{user:F,item:ta}});Ha.add(null,function(vb){vb=vb.cursor;let ta=this.value;k.isString(vb)||(ta=vb.item,vb=vb.user);Yb(Ha,vb&&"default"!==vb?vb:ta||vb);return ta},{cursor:gb})}function Yb(Ha,gb){if(Ha=Ha.globalCursor()?"undefined"!==typeof document&&document.body:Ha.container())return null==gb?Ha.style.removeProperty("cursor"):Ha.style.cursor=gb}function Ua(Ha,gb){Ha=Ha._runtime.data;k.hasOwnProperty(Ha,gb)||
k.error("Unrecognized data set: "+gb);return Ha[gb]}function tb(Ha,gb){P.isChangeSet(gb)||k.error("Second argument to changes must be a changeset.");Ha=Ua(this,Ha);Ha.modified=!0;return this.pulse(Ha.input,gb)}function Jb(Ha){var gb=Ha.padding();return Math.max(0,Ha._viewWidth+gb.left+gb.right)}function Kb(Ha){var gb=Ha.padding();return Math.max(0,Ha._viewHeight+gb.top+gb.bottom)}function Cb(Ha){var gb=Ha.padding();Ha=Ha._origin;return[gb.left+Ha[0],gb.top+Ha[1]]}function Ob(Ha){var gb=Cb(Ha),vb=
Jb(Ha),ta=Kb(Ha);Ha._renderer.background(Ha.background());Ha._renderer.resize(vb,ta,gb);Ha._handler.origin(gb);Ha._resizeListeners.forEach(F=>{try{F(vb,ta)}catch(ya){Ha.error(ya)}})}function ab(Ha,gb,vb){function ta(Oa){var Za=ya,kb;if(Oa)for(kb=gb;kb;kb=kb.mark.group)if(kb.mark.name===Oa){Za=kb;break}return Za&&Za.mark&&Za.mark.interactive?Za:{}}function F(Oa){if(!Oa)return vb;k.isString(Oa)&&(Oa=ta(Oa));const Za=vb.slice();for(;Oa;)Za[0]-=Oa.x||0,Za[1]-=Oa.y||0,Oa=Oa.mark&&Oa.mark.group;return Za}
const ya=gb?"group"===gb.mark.marktype?gb:gb.mark.group:null;return{view:k.constant(Ha),item:k.constant(gb||{}),group:ta,xy:F,x:Oa=>F(Oa)[0],y:Oa=>F(Oa)[1]}}function pb(Ha){Ha=k.extend({defaults:{}},Ha);const gb=(vb,ta)=>{ta.forEach(F=>{k.isArray(vb[F])&&(vb[F]=k.toSet(vb[F]))})};gb(Ha.defaults,["prevent","allow"]);gb(Ha,["view","window","selector"]);return Ha}function Qa(Ha,gb,vb,ta){Ha._eventListeners.push({type:vb,sources:k.array(gb),handler:ta})}function Da(Ha,gb,vb){const ta=Ha._eventConfig&&
Ha._eventConfig[gb];return!1===ta||k.isObject(ta)&&!ta[vb]?(Ha.warn(`Blocked ${gb} ${vb} event listener.`),!1):!0}function Ka(Ha){return Ha.item}function lb(Ha){return Ha.item.mark.source}function mb(Ha){return function(gb,vb){return vb.vega.view().changeset().encode(vb.item,Ha)}}function Pa(Ha,gb,vb){Ha=document.createElement(Ha);for(const ta in gb)Ha.setAttribute(ta,gb[ta]);null!=vb&&(Ha.textContent=vb);return Ha}function wb(Ha,gb,vb){var ta=(gb-Ha)/Math.max(0,vb),F=Math.floor(Math.log10(ta));ta/=
Math.pow(10,F);ta=ta>=Zb?10:ta>=Rc?5:ta>=Pd?2:1;let ya;0>F?(ya=Math.pow(10,-F)/ta,F=Math.round(Ha*ya),ta=Math.round(gb*ya),F/ya<Ha&&++F,ta/ya>gb&&--ta,ya=-ya):(ya=Math.pow(10,F)*ta,F=Math.round(Ha/ya),ta=Math.round(gb/ya),F*ya<Ha&&++F,ta*ya>gb&&--ta);return ta<F&&.5<=vb&&2>vb?wb(Ha,gb,2*vb):[F,ta,ya]}function sb(Ha,gb,vb){return wb(+Ha,+gb,+vb)[2]}function Pb(Ha,gb,vb){gb=+gb;Ha=+Ha;vb=+vb;const ta=gb<Ha;Ha=ta?sb(gb,Ha,vb):sb(Ha,gb,vb);return(ta?-1:1)*(0>Ha?1/-Ha:Ha)}function Vb(Ha,gb,vb){if(gb){var ta=
vb.param,F=vb.state;F||(F=vb.state={elements:null,active:!1,set:null,update:ya=>{ya!=Ha.signal(ta.signal)&&Ha.runAsync(null,()=>{F.source=!0;Ha.signal(ta.signal,ya)})}},ta.debounce&&(F.update=k.debounce(ta.debounce,F.update)));(null==ta.input&&ta.element?nb:qa)(F,gb,ta,Ha);F.active||(Ha.on(Ha._signals[ta.signal],null,()=>{F.source?F.source=!1:F.set(Ha.signal(ta.signal))}),F.active=!0);return F}}function nb(Ha,gb,vb,ta){const F=vb.event||"input",ya=()=>Ha.update(gb.value);ta.signal(vb.signal,gb.value);
gb.addEventListener(F,ya);Qa(ta,gb,F,ya);Ha.set=Oa=>{gb.value=Oa;Oa=gb.dispatchEvent;var Za="undefined"!==typeof Event?new Event(F):{type:F};Oa.call(gb,Za)}}function qa(Ha,gb,vb,ta){ta=ta.signal(vb.signal);const F=Pa("div",{"class":"vega-bind"}),ya="radio"===vb.input?F:F.appendChild(Pa("label"));ya.appendChild(Pa("span",{"class":"vega-bind-name"},vb.name||vb.signal));gb.appendChild(F);gb=Z;switch(vb.input){case "checkbox":gb=Fa;break;case "select":gb=Ga;break;case "radio":gb=eb;break;case "range":gb=
ba}gb(Ha,ya,vb,ta)}function Z(Ha,gb,vb,ta){const F=Pa("input");for(const ya in vb)"signal"!==ya&&"element"!==ya&&F.setAttribute("input"===ya?"type":ya,vb[ya]);F.setAttribute("name",vb.signal);F.value=ta;gb.appendChild(F);F.addEventListener("input",()=>Ha.update(F.value));Ha.elements=[F];Ha.set=ya=>F.value=ya}function Fa(Ha,gb,vb,ta){vb={type:"checkbox",name:vb.signal};ta&&(vb.checked=!0);const F=Pa("input",vb);gb.appendChild(F);F.addEventListener("change",()=>Ha.update(F.checked));Ha.elements=[F];
Ha.set=ya=>F.checked=!!ya||null}function Ga(Ha,gb,vb,ta){const F=Pa("select",{name:vb.signal}),ya=vb.labels||[];vb.options.forEach((Oa,Za)=>{const kb={value:Oa};oa(Oa,ta)&&(kb.selected=!0);F.appendChild(Pa("option",kb,(ya[Za]||Oa)+""))});gb.appendChild(F);F.addEventListener("change",()=>{Ha.update(vb.options[F.selectedIndex])});Ha.elements=[F];Ha.set=Oa=>{for(let Za=0,kb=vb.options.length;Za<kb;++Za)if(oa(vb.options[Za],Oa)){F.selectedIndex=Za;break}}}function eb(Ha,gb,vb,ta){const F=Pa("span",{"class":"vega-bind-radio"}),
ya=vb.labels||[];gb.appendChild(F);Ha.elements=vb.options.map((Oa,Za)=>{var kb={type:"radio",name:vb.signal,value:Oa};oa(Oa,ta)&&(kb.checked=!0);kb=Pa("input",kb);kb.addEventListener("change",()=>Ha.update(Oa));Za=Pa("label",{},(ya[Za]||Oa)+"");Za.prepend(kb);F.appendChild(Za);return kb});Ha.set=Oa=>{const Za=Ha.elements,kb=Za.length;for(let Eb=0;Eb<kb;++Eb)oa(Za[Eb].value,Oa)&&(Za[Eb].checked=!0)}}function ba(Ha,gb,vb,ta){ta=void 0!==ta?ta:(+vb.max+ +vb.min)/2;const F=null!=vb.max?vb.max:Math.max(100,
+ta)||100,ya=vb.min||Math.min(0,F,+ta)||0,Oa=vb.step||Pb(ya,F,100),Za=Pa("input",{type:"range",name:vb.signal,min:ya,max:F,step:Oa});Za.value=ta;const kb=Pa("span",{},+ta);gb.appendChild(Za);gb.appendChild(kb);gb=()=>{kb.textContent=Za.value;Ha.update(+Za.value)};Za.addEventListener("input",gb);Za.addEventListener("change",gb);Ha.elements=[Za];Ha.set=Eb=>{Za.value=Eb;kb.textContent=Eb}}function oa(Ha,gb){return Ha===gb||Ha+""===gb+""}function q(Ha,gb,vb,ta,F,ya){gb=gb||new ta(Ha.loader());return gb.initialize(vb,
Jb(Ha),Kb(Ha),Cb(Ha),F,ya).background(Ha.background())}function M(Ha,gb){return gb?function(){try{gb.apply(this,arguments)}catch(vb){Ha.error(vb)}}:null}function Q(Ha,gb,vb,ta){const F=(new ta(Ha.loader(),M(Ha,Ha.tooltip()))).scene(Ha.scenegraph().root).initialize(vb,Cb(Ha),Ha);gb&&gb.handlers().forEach(ya=>{F.on(ya.type,ya.handler)});return F}function g(Ha,gb,vb){if("string"===typeof gb)if("undefined"!==typeof document){if(gb=document.querySelector(gb),!gb)return Ha.error("Signal bind element not found: "+
gb),null}else return Ha.error("DOM document instance not found."),null;if(gb&&vb)try{gb.textContent=""}catch(ta){gb=null,Ha.error(ta)}return gb}function u(Ha){k.isObject(Ha)?Ha={top:+Ha.top||0,bottom:+Ha.bottom||0,left:+Ha.left||0,right:+Ha.right||0}:(Ha=+Ha||0,Ha={top:Ha,bottom:Ha,left:Ha,right:Ha});return Ha}function m(Ha,gb,vb,ta){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var F=jb.renderModule(gb);(F=F&&F.headless)||k.error("Unrecognized renderer type: "+gb);yield Ha.runAsync();
return q(Ha,null,null,F,vb,ta).renderAsync(Ha._scenegraph.root)})}function C(Ha,gb,vb){return bc.context(Ha,P.transforms,Fb.functionContext,vb).parse(gb)}function B(Ha,gb){var vb=Ha.autosize();Ha=Ha.padding();return gb-(vb&&"padding"===vb.contains?Ha.left+Ha.right:0)}function A(Ha,gb){var vb=Ha.autosize();Ha=Ha.padding();return gb-(vb&&"padding"===vb.contains?Ha.top+Ha.bottom:0)}function D(Ha){function gb(){Ha._autosize=Ha._resize=1}var vb=Ha._signals,ta=vb.width,F=vb.height;vb=vb.padding;Ha._resizeWidth=
Ha.add(null,Oa=>{Ha._width=Oa.size;Ha._viewWidth=B(Ha,Oa.size);gb()},{size:ta});Ha._resizeHeight=Ha.add(null,Oa=>{Ha._height=Oa.size;Ha._viewHeight=A(Ha,Oa.size);gb()},{size:F});const ya=Ha.add(null,gb,{pad:vb});Ha._resizeWidth.rank=ta.rank+1;Ha._resizeHeight.rank=F.rank+1;ya.rank=vb.rank+1}function I(Ha,gb){return gb.modified&&k.isArray(gb.input.value)&&Ha.indexOf("_:vega:_")}function V(Ha,gb){return!("parent"===Ha||gb instanceof P.transforms.proxy)}function Aa(){return zc||(ud(Y),zc=Md.now()+Yc)}
function Y(){zc=0}function t(){this._call=this._time=this._next=null}function L(){zc=(Ic=Md.now())+Yc;Ub=qb=0;try{Aa();++Ub;for(var Ha=ic,gb;Ha;)0<=(gb=zc-Ha._time)&&Ha._call.call(void 0,gb),Ha=Ha._next;--Ub}finally{Ub=0;Ha=ic;for(var vb=Infinity;Ha;)if(Ha._call){vb>Ha._time&&(vb=Ha._time);var ta=Ha;Ha=Ha._next}else gb=Ha._next,Ha._next=null,Ha=ta?ta._next=gb:ic=gb;dc=ta;La(vb);zc=0}}function va(){var Ha=Md.now(),gb=Ha-Ic;1E3<gb&&(Yc-=gb,Ic=Ha)}function La(Ha){Ub||(qb&&(qb=clearTimeout(qb)),24<Ha-
zc?(Infinity>Ha&&(qb=setTimeout(L,Ha-Md.now()-Yc)),Sb&&(Sb=clearInterval(Sb))):(Sb||(Ic=Md.now(),Sb=setInterval(va,1E3)),Ub=1,ud(L)))}function Wa(Ha,gb,vb){var ta=new t,F=gb;if(null==gb)return ta.restart(Ha,gb,vb),ta;ta._restart=ta.restart;ta.restart=function(ya,Oa,Za){Oa=+Oa;Za=null==Za?Aa():+Za;ta._restart(function oc(Eb){Eb+=F;ta._restart(oc,F+=Oa,Za);ya(Eb)},Oa,Za)};ta.restart(Ha,gb,vb);return ta}function $a(Ha,gb,vb,ta){if(Ha=Ha.element())gb=Ha.setAttribute,ta=null==ta?"":k.isArray(ta)?"["+ta.map(Ca).join(", ")+
"]":k.isObject(ta)&&!k.isDate(ta)?X(ta):ta+"",gb.call(Ha,"title",ta)}function X(Ha){return Object.keys(Ha).map(gb=>{const vb=Ha[gb];return gb+": "+(k.isArray(vb)?"["+vb.map(Ca).join(", ")+"]":Ca(vb))}).join("\n")}function Ca(Ha){return k.isArray(Ha)?"[]":k.isObject(Ha)&&!k.isDate(Ha)?"{}":Ha}function Xa(Ha,gb){gb=gb||{};P.Dataflow.call(this);gb.loader&&this.loader(gb.loader);gb.logger&&this.logger(gb.logger);null!=gb.logLevel&&this.logLevel(gb.logLevel);if(gb.locale||Ha.locale){var vb=k.extend({},
Ha.locale,gb.locale);this.locale(vc.locale(vb.number,vb.time))}this._elBind=this._el=null;this._renderType=gb.renderer||jb.RenderType.Canvas;this._scenegraph=new jb.Scenegraph;vb=this._scenegraph.root;this._renderer=null;this._tooltip=gb.tooltip||$a;this._redraw=!0;this._handler=(new jb.CanvasHandler).scene(vb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=pb(Ha.eventConfig);this.globalCursor(this._eventConfig.globalCursor);
const ta=C(this,Ha,gb.expr);this._runtime=ta;this._signals=ta.signals;this._bind=(Ha.bindings||[]).map(F=>({state:null,param:k.extend({},F)}));ta.root&&ta.root.set(vb);vb.source=ta.data.root.input;this.pulse(ta.data.root.input,this.changeset().insert(vb.items));this._width=this.width();this._height=this.height();this._viewWidth=B(this,this._width);this._viewHeight=A(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;D(this);Ab(this);kc(this);this.description(Ha.description);gb.hover&&
this.hover();gb.container&&this.initialize(gb.container,gb.bind)}function Ib(Ha,gb){return k.hasOwnProperty(Ha._signals,gb)?Ha._signals[gb]:k.error("Unrecognized signal name: "+k.stringValue(gb))}function yc(Ha,gb){Ha=(Ha._targets||[]).filter(vb=>vb._update&&vb._update.handler===gb);return Ha.length?Ha[0]:null}function qc(Ha,gb,vb,ta){let F=yc(vb,ta);F||(F=M(Ha,()=>ta(gb,vb.value)),F.handler=ta,Ha.on(vb,null,F));return Ha}function xc(Ha,gb,vb){(vb=yc(gb,vb))&&gb._targets.remove(vb);return Ha}const dd=
{trap:!1},Zb=Math.sqrt(50),Rc=Math.sqrt(10),Pd=Math.sqrt(2);var Na={skip:!0},Ub=0,qb=0,Sb=0,ic,dc,Ic=0,zc=0,Yc=0,Md="object"===typeof performance&&performance.now?performance:Date,ud="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ha){setTimeout(Ha,17)};t.prototype={constructor:t,restart:function(Ha,gb,vb){if("function"!==typeof Ha)throw new TypeError("callback is not a function");vb=(null==vb?Aa():+vb)+(null==gb?0:+gb);this._next||dc===this||
(dc?dc._next=this:ic=this,dc=this);this._call=Ha;this._time=vb;La()},stop:function(){this._call&&(this._call=null,this._time=Infinity,La())}};k.inherits(Xa,P.Dataflow,{evaluate(Ha,gb,vb){const ta=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield P.Dataflow.prototype.evaluate.call(ta,Ha,gb);if(ta._redraw||ta._resize)try{ta._renderer&&(ta._resize&&(ta._resize=0,Ob(ta)),yield ta._renderer.renderAsync(ta._scenegraph.root)),ta._redraw=!1}catch(F){ta.error(F)}vb&&P.asyncCallback(ta,
vb);return ta})},dirty(Ha){this._redraw=!0;this._renderer&&this._renderer.dirty(Ha)},description(Ha){if(arguments.length){const gb=null!=Ha?Ha+"":null;gb!==this._desc&&uc(this._el,this._desc=gb);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Ha,gb,vb){const ta=Ib(this,Ha);return 1===arguments.length?ta.value:this.update(ta,gb,vb)},width(Ha){return arguments.length?this.signal("width",Ha):this.signal("width")},
height(Ha){return arguments.length?this.signal("height",Ha):this.signal("height")},padding(Ha){return arguments.length?this.signal("padding",u(Ha)):u(this.signal("padding"))},autosize(Ha){return arguments.length?this.signal("autosize",Ha):this.signal("autosize")},background(Ha){return arguments.length?this.signal("background",Ha):this.signal("background")},renderer(Ha){if(!arguments.length)return this._renderType;jb.renderModule(Ha)||k.error("Unrecognized renderer type: "+Ha);Ha!==this._renderType&&
(this._renderType=Ha,this._resetRenderer());return this},tooltip(Ha){if(!arguments.length)return this._tooltip;Ha!==this._tooltip&&(this._tooltip=Ha,this._resetRenderer());return this},loader(Ha){if(!arguments.length)return this._loader;Ha!==this._loader&&(P.Dataflow.prototype.loader.call(this,Ha),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Ib(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(Ha,
gb,vb,ta,F,ya){this.runAfter(Oa=>{let Za=0;Oa._autosize=0;Oa.width()!==vb&&(Za=1,Oa.signal("width",vb,Na),Oa._resizeWidth.skip(!0));Oa.height()!==ta&&(Za=1,Oa.signal("height",ta,Na),Oa._resizeHeight.skip(!0));Oa._viewWidth!==Ha&&(Oa._resize=1,Oa._viewWidth=Ha);Oa._viewHeight!==gb&&(Oa._resize=1,Oa._viewHeight=gb);if(Oa._origin[0]!==F[0]||Oa._origin[1]!==F[1])Oa._resize=1,Oa._origin=F;Za&&Oa.run("enter");ya&&Oa.runAfter(kb=>kb.resize())},!1,1)},addEventListener(Ha,gb,vb){let ta=gb;vb&&!1===vb.trap||
(ta=M(this,gb),ta.raw=gb);this._handler.on(Ha,ta);return this},removeEventListener(Ha,gb){for(var vb=this._handler.handlers(Ha),ta=vb.length,F,ya;0<=--ta;)if(ya=vb[ta].type,F=vb[ta].handler,Ha===ya&&(gb===F||gb===F.raw)){this._handler.off(ya,F);break}return this},addResizeListener(Ha){const gb=this._resizeListeners;0>gb.indexOf(Ha)&&gb.push(Ha);return this},removeResizeListener(Ha){var gb=this._resizeListeners;Ha=gb.indexOf(Ha);0<=Ha&&gb.splice(Ha,1);return this},addSignalListener(Ha,gb){return qc(this,
Ha,Ib(this,Ha),gb)},removeSignalListener(Ha,gb){return xc(this,Ib(this,Ha),gb)},addDataListener(Ha,gb){return qc(this,Ha,Ua(this,Ha).values,gb)},removeDataListener(Ha,gb){return xc(this,Ua(this,Ha).values,gb)},globalCursor(Ha){if(arguments.length){if(this._globalCursor!==!!Ha){const gb=Yb(this,null);this._globalCursor=!!Ha;gb&&Yb(this,gb)}return this}return this._globalCursor},preventDefault(Ha){return arguments.length?(this._preventDefault=Ha,this):this._preventDefault},timer:function(Ha,gb){this._timers.push(Wa(function(vb){Ha({timestamp:Date.now(),
elapsed:vb})},gb))},events:function(Ha,gb,vb){var ta=this,F=new P.EventStream(vb);vb=function(kb,Eb){ta.runAsync(null,()=>{var oc;if(oc="view"===Ha){var ec=ta._eventConfig.defaults;oc=ec.prevent;ec=ec.allow;oc=!1===oc||!0===ec?!1:!0===oc||!1===ec?!0:oc?oc[gb]:ec?!ec[gb]:ta.preventDefault()}oc&&kb.preventDefault();oc=F.receive;ec=(ec=ta._renderer)&&ec.canvas();if(ec){var jc=Cb(ta);var Sc=kb.changedTouches?kb.changedTouches[0]:kb;Sc=jb.point(Sc,ec);Sc[0]-=jc[0];Sc[1]-=jc[1]}kb.dataflow=ta;kb.item=Eb;
kb.vega=ab(ta,Eb,Sc);oc.call(F,kb)})};var ya;if("timer"===Ha)Da(ta,"timer",gb)&&ta.timer(vb,gb);else if("view"===Ha)Da(ta,"view",gb)&&ta.addEventListener(gb,vb,dd);else if("window"===Ha?Da(ta,"window",gb)&&"undefined"!==typeof window&&(ya=[window]):"undefined"!==typeof document&&Da(ta,"selector",gb)&&(ya=Array.from(document.querySelectorAll(Ha))),ya){for(var Oa=0,Za=ya.length;Oa<Za;++Oa)ya[Oa].addEventListener(gb,vb);Qa(ta,ya,gb,vb)}else ta.warn("Can not resolve event source: "+Ha);return F},finalize:function(){var Ha=
this._tooltip,gb=this._timers,vb=this._eventListeners,ta;for(ta=gb.length;0<=--ta;)gb[ta].stop();for(ta=vb.length;0<=--ta;){var F=vb[ta];for(gb=F.sources.length;0<=--gb;)F.sources[gb].removeEventListener(F.type,F.handler)}Ha&&Ha.call(this,this._handler,null,null,null);return this},hover:function(Ha,gb){Ha=[Ha||"hover"];gb=[gb||"update",Ha[0]];this.on(this.events("view","mouseover",Ka),lb,mb(Ha));this.on(this.events("view","mouseout",Ka),lb,mb(gb));return this},data:function(Ha,gb){return 2>arguments.length?
Ua(this,Ha).values.value:tb.call(this,Ha,P.changeset().remove(k.truthy).insert(gb))},change:tb,insert:function(Ha,gb){return tb.call(this,Ha,P.changeset().insert(gb))},remove:function(Ha,gb){return tb.call(this,Ha,P.changeset().remove(gb))},scale:function(Ha){var gb=this._runtime.scales;k.hasOwnProperty(gb,Ha)||k.error("Unrecognized scale or projection: "+Ha);return gb[Ha].value},initialize:function(Ha,gb){const vb=this;var ta=vb._renderType;const F=vb._eventConfig.bind;var ya=jb.renderModule(ta);
Ha=vb._el=Ha?g(vb,Ha,!0):null;Bc(vb);ya||vb.error("Unrecognized renderer type: "+ta);ta=ya.handler||jb.CanvasHandler;ya=Ha?ya.renderer:ya.headless;vb._renderer=ya?q(vb,vb._renderer,Ha,ya):null;vb._handler=Q(vb,vb._handler,Ha,ta);vb._redraw=!0;Ha&&"none"!==F&&(gb=gb?vb._elBind=g(vb,gb,!0):Ha.appendChild(Pa("form",{"class":"vega-bindings"})),vb._bind.forEach(Oa=>{Oa.param.element&&"container"!==F&&(Oa.element=g(vb,Oa.param.element,!!Oa.param.input))}),vb._bind.forEach(Oa=>{Vb(vb,Oa.element||gb,Oa)}));
return vb},toImageURL:function(Ha,gb){const vb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ha!==jb.RenderType.Canvas&&Ha!==jb.RenderType.SVG&&Ha!==jb.RenderType.PNG&&k.error("Unrecognized image type: "+Ha);var ta=yield m(vb,Ha,gb);Ha===jb.RenderType.SVG?(ta=ta.svg(),ta=new Blob([ta],{type:"image/svg+xml"}),ta=window.URL.createObjectURL(ta)):ta=ta.canvas().toDataURL("image/png");return ta})},toCanvas:function(Ha,gb){const vb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield m(vb,
jb.RenderType.Canvas,Ha,gb)).canvas()})},toSVG:function(Ha){const gb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield m(gb,jb.RenderType.SVG,Ha)).svg()})},getState:function(Ha){return this._runtime.getState(Ha||{data:I,signals:V,recurse:!0})},setState:function(Ha){this.runAsync(null,gb=>{gb._trigger=!1;gb._runtime.setState(Ha)},gb=>{gb._trigger=!0});return this}});v.View=Xa})};
shadow$provide[61]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function k(Ab,kc,Yb,Ua,tb){const Jb=Ab.length;let Kb=0,Cb;for(;kc<Jb;++kc)if(Cb=Ab[kc],Kb||Cb!==Yb)tb&&0<=tb.indexOf(Cb)?--Kb:Ua&&0<=Ua.indexOf(Cb)&&++Kb;else break;return kc}function P(Ab){const kc=[],Yb=Ab.length;let Ua=0,tb=0;for(;tb<Yb;)tb=k(Ab,
tb,",","[{","]}"),kc.push(Ab.substring(Ua,tb).trim()),Ua=++tb;if(0===kc.length)throw"Empty event selector: "+Ab;return kc}function jb(Ab){if("["===Ab[0]){var kc=Ab;var Yb=kc.length;Ab=k(kc,1,"]","[","]");if(Ab===Yb)throw"Empty between selector: "+kc;Yb=P(kc.substring(1,Ab));if(2!==Yb.length)throw"Between selector must have two elements: "+kc;kc=kc.slice(Ab+1).trim();if("\x3e"!==kc[0])throw"Expected '\x3e' after between selector: "+kc;Yb=Yb.map(jb);kc=jb(kc.slice(1).trim());kc.between?kc={between:Yb,
stream:kc}:kc.between=Yb}else{Yb={source:Bc};const Ua=[];let tb=[0,0],Jb=0,Kb=0,Cb=Ab.length,Ob=0,ab;if("}"===Ab[Cb-1]){Ob=Ab.lastIndexOf("{");if(0<=Ob){try{tb=Fb(Ab.substring(Ob+1,Cb-1))}catch(pb){throw"Invalid throttle specification: "+Ab;}Ab=Ab.slice(0,Ob).trim();Cb=Ab.length}else throw"Unmatched right brace: "+Ab;Ob=0}if(!Cb)throw Ab;"@"===Ab[0]&&(Jb=++Ob);ab=k(Ab,Ob,":");ab<Cb&&(Ua.push(Ab.substring(Kb,ab).trim()),Kb=Ob=++ab);Ob=k(Ab,Ob,"[");if(Ob===Cb)Ua.push(Ab.substring(Kb,Cb).trim());else if(Ua.push(Ab.substring(Kb,
Ob).trim()),kc=[],Kb=++Ob,Kb===Cb)throw"Unmatched left bracket: "+Ab;for(;Ob<Cb;){Ob=k(Ab,Ob,"]");if(Ob===Cb)throw"Unmatched left bracket: "+Ab;kc.push(Ab.substring(Kb,Ob).trim());if(Ob<Cb-1&&"["!==Ab[++Ob])throw"Expected left bracket: "+Ab;Kb=++Ob}if(!(Cb=Ua.length)||bc.test(Ua[Cb-1]))throw"Invalid event selector: "+Ab;1<Cb?(Yb.type=Ua[1],Jb?Yb.markname=Ua[0].slice(1):uc[Ua[0]]?Yb.marktype=Ua[0]:Yb.source=Ua[0]):Yb.type=Ua[0];"!"===Yb.type.slice(-1)&&(Yb.consume=!0,Yb.type=Yb.type.slice(0,-1));null!=
kc&&(Yb.filter=kc);tb[0]&&(Yb.throttle=tb[0]);tb[1]&&(Yb.debounce=tb[1]);kc=Yb}return kc}function Fb(Ab){const kc=Ab.split(",");if(!Ab.length||2<kc.length)throw Ab;return kc.map(Yb=>{Yb=+Yb;if(Yb!==Yb)throw Ab;return Yb})}const bc=/[[\]{}]/,vc={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Bc,uc;v.parseSelector=function(Ab,kc,Yb){Bc=kc||"view";uc=Yb||vc;return P(Ab.trim()).map(jb)}})};
shadow$provide[62]=function(hc,Db,Wc,ob){(function(v,k){"object"===typeof ob&&"undefined"!==typeof Wc?k(ob,Db(20),Db(58),Db(61),Db(32),Db(28)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,jb,Fb,bc){function vc(O){return k.isObject(O)?O:{type:O||"pad"}}function Bc(O){k.isObject(O)?
O=O.signal?O:{top:+O.top||0,bottom:+O.bottom||0,left:+O.left||0,right:+O.right||0}:(O=+O||0,O={top:O,bottom:O,left:O,right:O});return O}function uc(O,da,H,ka){return null!=H?(k.isObject(H)&&!k.isArray(H)||k.isArray(H)&&H.length&&k.isObject(H[0])?O.update[da]=H:O[ka||"enter"][da]={value:H},1):0}function Ab(O,da,H){for(const ka in da)uc(O,ka,da[ka]);for(const ka in H)uc(O,ka,H[ka],"update")}function kc(O,da,H){for(const ka in da)H&&k.hasOwnProperty(H,ka)||(O[ka]=k.extend(O[ka]||{},da[ka]));return O}
function Yb(O,da){return da&&(da.enter&&da.enter[O]||da.update&&da.update[O])}function Ua(O,da,H,ka,la){const Ja={},hb={};let fc,rc;rc="lineBreak";"text"!==da||null==la[rc]||Yb(rc,O)||tb(Ja,rc,la[rc]);if("legend"==H||String(H).startsWith("axis"))H=null;H="frame"===H?la.group:"mark"===H?k.extend({},la.mark,la[da]):null;for(rc in H)(da=Yb(rc,O)||("fill"===rc||"stroke"===rc)&&(Yb("fill",O)||Yb("stroke",O)))||tb(Ja,rc,H[rc]);k.array(ka).forEach(tc=>{tc=la.style&&la.style[tc];for(const Wb in tc)Yb(Wb,
O)||tb(Ja,Wb,tc[Wb])});O=k.extend({},O);for(rc in Ja)H=Ja[rc],H.signal?(fc=fc||{})[rc]=H:hb[rc]=H;O.enter=k.extend(hb,O.enter);fc&&(O.update=k.extend(fc,O.update));return O}function tb(O,da,H){O[da]=H&&H.signal?{signal:H.signal}:{value:H}}function Jb(O){if(null!=O.gradient)return Kb(O);if(O.signal)var da=`(${O.signal})`;else O.color?(da=O.color,da=da.c?Gd("hcl",da.h,da.c,da.l):da.h||da.s?Gd("hsl",da.h,da.s,da.l):da.l||da.a?Gd("lab",da.l,da.a,da.b):da.r||da.g||da.b?Gd("rgb",da.r,da.g,da.b):null):da=
null!=O.field?Ob(O.field):void 0!==O.value?k.stringValue(O.value):void 0;if(null!=O.scale){const H=vd(O.scale);null!=O.range?da=`lerp(_range(${H}), ${+O.range})`:(void 0!==da&&(da=`_scale(${H}, ${da})`),O.band&&(da=(da?da+"+":"")+`_bandwidth(${H})`+(1===+O.band?"":"*"+Cb(O.band)),O.extra&&(da=`(datum.extra ? _scale(${H}, datum.extra.value) : ${da})`)),null==da&&(da="0"))}void 0===da&&(da=null);null!=O.exponent&&(da=`pow(${da},${Cb(O.exponent)})`);null!=O.mult&&(da+=`*${Cb(O.mult)}`);null!=O.offset&&
(da+=`+${Cb(O.offset)}`);O.round&&(da=`round(${da})`);return da}function Kb(O){const da=[O.start,O.stop,O.count].map(H=>null==H?null:k.stringValue(H));for(;da.length&&null==k.peek(da);)da.pop();da.unshift(vd(O.gradient));return`gradient(${da.join(",")})`}function Cb(O){return k.isObject(O)?"("+Jb(O)+")":O}function Ob(O){return ab(k.isObject(O)?O:{datum:O})}function ab(O){let da;if(O.signal){da="datum";var H=O.signal}else if(O.group||O.parent){H=Math.max(1,O.level||1);for(da="item";0<H--;)da+=".mark.group";
O.parent?(H=O.parent,da+=".datum"):H=O.group}else O.datum?(da="datum",H=O.datum):k.error("Invalid field reference: "+k.stringValue(O));O.signal||(H=k.isString(H)?k.splitAccessPath(H).map(k.stringValue).join("]["):ab(H));return da+"["+H+"]"}function pb(O){let da="";O.forEach(H=>{const ka=Jb(H);da+=H.test?`(${H.test})?${ka}:`:ka});":"===k.peek(da)&&(da+="null");return da}function Qa(O,da,H,ka,la,Ja){const hb={};Ja=Ja||{};Ja.encoders={$encode:hb};O=Ua(O,da,H,ka,la.config);for(const Dc in O){H=O[Dc];
ka=da;var fc=Ja,rc=la;const yd={},Zc={};for(const hd in H)if(null!=H[hd]){var tc=Da;var Wb=H[hd];Wb=k.isArray(Wb)?pb(Wb):Jb(Wb);yd[hd]=tc(Wb,rc,fc,Zc)}H={$expr:{marktype:ka,channels:yd},$fields:Object.keys(Zc),$output:Object.keys(H)};hb[Dc]=H}return Ja}function Da(O,da,H,ka){O=P.parseExpression(O,da);O.$fields.forEach(la=>ka[la]=1);k.extend(H,O.$params);return O.$expr}function Ka(O,da){k.error(O+' for "outer" push: '+k.stringValue(da))}function lb(O,da){const H=O.name;if("outer"===O.push)da.signals[H]||
Ka("No prior signal definition",H),Fd.forEach(ka=>{void 0!==O[ka]&&Ka("Invalid property ",ka)});else{const ka=da.addSignal(H,O.value);!1===O.react&&(ka.react=!1);O.bind&&da.addBinding(H,O.bind)}}function mb(O,da,H,ka){this.id=-1;this.type=O;this.value=da;this.params=H;ka&&(this.parent=ka)}function Pa(O){const da={$ref:O.id};0>O.id&&(O.refs=O.refs||[]).push(da);return da}function wb(O,da){return da?{$field:O,$name:da}:{$field:O}}function sb(O,da){O={$key:O};da&&(O.$flat=!0);return O}function Pb(O,
da){return(O&&O.signal?"$"+O.signal:O||"")+(O&&da?"_":"")+(da&&da.signal?"$"+da.signal:da||"")}function Vb(O){return O&&O.signal}function nb(O){if(Vb(O))return!0;if(k.isObject(O))for(const da in O)if(nb(O[da]))return!0;return!1}function qa(O,da){return null!=O?O:da}function Z(O){return O&&O.signal||O}function Fa(O,da){return(O.merge?Ga:O.stream?eb:O.type?ba:k.error("Invalid stream specification: "+k.stringValue(O)))(O,da)}function Ga(O,da){const H=O.merge.map(ka=>Fa(ka,da));O=oa({merge:H},O,da);return da.addStream(O).id}
function eb(O,da){const H=Fa(O.stream,da);O=oa({stream:H},O,da);return da.addStream(O).id}function ba(O,da){if("timer"===O.type){var H=da.event("timer",O.throttle);O={between:O.between,filter:O.filter}}else H=O.source,H=da.event.call(da,"scope"===H?"view":H||"view",O.type);O=oa({stream:H},O,da);return 1===Object.keys(O).length?H:da.addStream(O).id}function oa(O,da,H){let ka=da.between;ka&&(2!==ka.length&&k.error('Stream "between" parameter must have 2 entries: '+k.stringValue(da)),O.between=[Fa(ka[0],
H),Fa(ka[1],H)]);ka=da.filter?[].concat(da.filter):[];if(da.marktype||da.markname||da.markrole){var la=ka,Ja=da.marktype,hb=da.markname,fc=da.markrole;la.push.call(la,"event.item"+(Ja&&"*"!==Ja?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Ja+"'":"")+(fc?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+fc+"'":"")+(hb?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+hb+"'":""))}"scope"===da.source&&ka.push("inScope(event.item)");ka.length&&(O.filter=P.parseExpression("("+ka.join(")\x26\x26(")+")",H).$expr);
null!=(ka=da.throttle)&&(O.throttle=+ka);null!=(ka=da.debounce)&&(O.debounce=+ka);da.consume&&(O.consume=!0);return O}function q(O,da,H){const ka=O.encode,la={target:H};H=O.events;let Ja=O.update,hb=[];H||k.error("Signal update missing events specification.");k.isString(H)&&(H=jb.parseSelector(H,da.isSubscope()?"scope":"view"));H=k.array(H).filter(fc=>fc.signal||fc.scale?(hb.push(fc),0):1);1<hb.length&&(hb=[M(hb)]);H.length&&hb.push(1<H.length?{merge:H}:H[0]);null!=ka&&(Ja&&k.error("Signal encode and update are mutually exclusive."),
Ja="encode(item(),"+k.stringValue(ka)+")");la.update=k.isString(Ja)?P.parseExpression(Ja,da):null!=Ja.expr?P.parseExpression(Ja.expr,da):null!=Ja.value?Ja.value:null!=Ja.signal?{$expr:Nd,$params:{$value:da.signalRef(Ja.signal)}}:k.error("Invalid signal update specification.");O.force&&(la.options={force:!0});hb.forEach(fc=>{var rc=da.addUpdate,tc=k.extend;fc={source:fc.signal?da.signalRef(fc.signal):fc.scale?da.scaleRef(fc.scale):Fa(fc,da)};return rc.call(da,tc.call(k,fc,la))})}function M(O){return{signal:"["+
O.map(da=>da.scale?'scale("'+da.scale+'")':da.signal)+"]"}}function Q(O,da){const H=da.getSignal(O.name);let ka=O.update;O.init&&(ka?k.error("Signals can not include both init and update expressions."):(ka=O.init,H.initonly=!0));ka&&(ka=P.parseExpression(ka,da),H.update=ka.$expr,H.params=ka.$params);O.on&&O.on.forEach(la=>q(la,da,H.id))}function g(O,da){return k.isObject(O)?O.signal?da.signalRef(O.signal):k.error("Unsupported object: "+k.stringValue(O)):O}function u(O,da){return O.signal?da.signalRef(O.signal):
O.map(H=>g(H,da))}function m(O){k.error("Can not find data set: "+k.stringValue(O))}function C(O,da,H){if(O)return O.signal?H.signalRef(O.signal):(k.isArray(O)?B:O.fields?D:A)(O,da,H);null==da.domainMin&&null==da.domainMax||k.error("No scale domain defined for domainMin/domainMax to override.")}function B(O,da,H){return O.map(ka=>g(ka,H))}function A(O,da,H){const ka=H.getData(O.data);ka||m(O.data);return Fb.isDiscrete(da.type)?ka.valuesRef(H,O.field,V(O.sort,!1)):Fb.isQuantile(da.type)?ka.domainRef(H,
O.field):ka.extentRef(H,O.field)}function D(O,da,H){const ka=O.data,la=O.fields.reduce((Ja,hb)=>{if(k.isString(hb))hb={data:ka,field:hb};else if(k.isArray(hb)||hb.signal){var fc=hb;hb="_:vega:_"+Qc++;const rc=df({});k.isArray(fc)?rc.value={$ingest:fc}:fc.signal&&(fc="setdata("+k.stringValue(hb)+","+fc.signal+")",rc.params.input=H.signalRef(fc));H.addDataPipeline(hb,[rc,pc({})]);hb={data:hb,field:"data"}}Ja.push(hb);return Ja},[]);return(Fb.isDiscrete(da.type)?I:Fb.isQuantile(da.type)?Aa:Y)(O,H,la)}
function I(O,da,H){const ka=V(O.sort,!0);O=H.map(Ja=>{const hb=da.getData(Ja.data);hb||m(Ja.data);return hb.countsRef(da,Ja.field,ka)});const la={groupby:Xd,pulse:O};ka&&(O=ka.op||"count",H=ka.field?Pb(O,ka.field):"count",la.ops=[td[O]],la.fields=[da.fieldRef(H)],la.as=[H]);O=da.add(De(la));O=da.add(df({pulse:Pa(O)}));H=da.add(Uc({field:Xd,sort:da.sortRef(ka),pulse:Pa(O)}));return Pa(H)}function V(O,da){O&&(O.field||O.op?O.field||"count"===O.op?da&&O.field&&O.op&&!td[O.op]&&k.error("Multiple domain scales can not be sorted using "+
O.op):k.error("No field provided for sort aggregate op: "+O.op):k.isObject(O)?O.field="key":O={field:"key"});return O}function Aa(O,da,H){O=H.map(ka=>{const la=da.getData(ka.data);la||m(ka.data);return la.domainRef(da,ka.field)});return Pa(da.add(Sa({values:O})))}function Y(O,da,H){O=H.map(ka=>{const la=da.getData(ka.data);la||m(ka.data);return la.extentRef(da,ka.field)});return Pa(da.add(fa({extents:O})))}function t(O,da,H){const ka=da.config.range;let la=O.range;if(la.signal)return da.signalRef(la.signal);
if(k.isString(la)){if(ka&&k.hasOwnProperty(ka,la))return O=k.extend({},O,{range:ka[la]}),t(O,da,H);"width"===la?la=[0,{signal:"width"}]:"height"===la?la=Fb.isDiscrete(O.type)?[0,{signal:"height"}]:[{signal:"height"},0]:k.error("Unrecognized scale range value: "+k.stringValue(la))}else{if(la.scheme){H.scheme=k.isArray(la.scheme)?u(la.scheme,da):g(la.scheme,da);la.extent&&(H.schemeExtent=u(la.extent,da));la.count&&(H.schemeCount=g(la.count,da));return}if(la.step){H.rangeStep=g(la.step,da);return}if(Fb.isDiscrete(O.type)&&
!k.isArray(la))return C(la,O,da);k.isArray(la)||k.error("Unsupported range type: "+k.stringValue(la))}return la.map(Ja=>(k.isArray(Ja)?u:g)(Ja,da))}function L(O,da,H){return k.isArray(O)?O.map(ka=>L(ka,da,H)):k.isObject(O)?O.signal?H.signalRef(O.signal):"fit"===da?O:k.error("Unsupported parameter object: "+k.stringValue(O)):O}function va(O){O.type="group";O.interactive=O.interactive||!1;return O}function La(O,da){const H=(ka,la)=>qa(O[ka],qa(da[ka],la));H.isVertical=ka=>"vertical"===qa(O.direction,
da.direction||(ka?da.symbolDirection:da.gradientDirection));H.gradientLength=()=>qa(O.gradientLength,da.gradientLength||da.gradientWidth);H.gradientThickness=()=>qa(O.gradientThickness,da.gradientThickness||da.gradientHeight);H.entryColumns=()=>qa(O.columns,qa(da.columns,+H.isVertical(!0)));return H}function Wa(O,da){return(O=da&&(da.update&&da.update[O]||da.enter&&da.enter[O]))&&O.signal?O:O?O.value:null}function $a(O,da,H){return`item.anchor === '${"start"}' ? ${O} : item.anchor === '${"end"}' ? ${da} : ${H}`}
function X(O,da){return da?O?k.isObject(O)?Object.assign({},O,{offset:X(O.offset,da)}):{value:O,offset:da}:da:O}function Ca(O,da){da?(O.name=da.name,O.style=da.style||O.style,O.interactive=!!da.interactive,O.encode=kc(O.encode,da,Ld)):O.interactive=!1;return O}function Xa(O,da,H,ka){O=La(O,H);H=O.isVertical();var la=O.gradientThickness();const Ja=O.gradientLength();let hb,fc,rc;H?(H=[0,1],fc=[0,0],rc=la,la=Ja):(H=[0,0],fc=[1,0],rc=Ja);la={enter:hb={opacity:Cd,x:Cd,y:Cd,width:Nc(rc),height:Nc(la)},
update:k.extend({},hb,{opacity:be,fill:{gradient:da,start:H,stop:fc}}),exit:{opacity:Cd}};Ab(la,{stroke:O("gradientStrokeColor"),strokeWidth:O("gradientStrokeWidth")},{opacity:O("gradientOpacity")});return Ca({type:"rect",role:"legend-gradient",encode:la},ka)}function Ib(O,da,H,ka,la){O=La(O,H);const Ja=O.isVertical();H=O.gradientThickness();const hb=O.gradientLength();var fc;let rc,tc,Wb,Dc="";Ja?(fc="y",tc="y2",rc="x",Wb="width",Dc="1-"):(fc="x",tc="x2",rc="y",Wb="height");da={opacity:Cd,fill:{scale:da,
field:"value"}};da[fc]={signal:Dc+"datum.perc",mult:hb};da[rc]=Cd;da[tc]={signal:Dc+"datum.perc2",mult:hb};da[Wb]=Nc(H);fc={enter:da,update:k.extend({},da,{opacity:be}),exit:{opacity:Cd}};Ab(fc,{stroke:O("gradientStrokeColor"),strokeWidth:O("gradientStrokeWidth")},{opacity:O("gradientOpacity")});return Ca({type:"rect",role:"legend-band",key:"value",from:la,encode:fc},ka)}function yc(O,da,H,ka){const la=La(O,da);var Ja=la.isVertical();const hb=Nc(la.gradientThickness()),fc=la.gradientLength();let rc=
la("labelOverlap"),tc,Wb,Dc,yd="";const Zc={enter:tc={opacity:Cd},update:Wb={opacity:be,text:{field:"label"}},exit:{opacity:Cd}};Ab(Zc,{fill:la("labelColor"),fillOpacity:la("labelOpacity"),font:la("labelFont"),fontSize:la("labelFontSize"),fontStyle:la("labelFontStyle"),fontWeight:la("labelFontWeight"),limit:qa(O.labelLimit,da.gradientLabelLimit)});Ja?(tc.align={value:"left"},tc.baseline=Wb.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Ja="y",Dc="x",yd="1-"):(tc.align=
Wb.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},tc.baseline={value:"top"},Ja="x",Dc="y");tc[Ja]=Wb[Ja]={signal:yd+"datum.perc",mult:fc};tc[Dc]=Wb[Dc]=hb;hb.offset=qa(O.labelOffset,da.gradientLabelOffset)||0;rc=rc?{separation:la("labelSeparation"),method:rc,order:"datum.index"}:void 0;return Ca({type:"text",role:"legend-label",style:"guide-label",key:"value",from:ka,encode:Zc,overlap:rc},H)}function qc(O,da,H,ka,la){var Ja=La(O,da);const hb=H.entries,fc=!(!hb||!hb.interactive),
rc=hb?hb.name:void 0,tc=Ja("clipHeight"),Wb=Ja("symbolOffset"),Dc={data:"value"},yd=`(${la}) ? datum.${"offset"} : datum.${"size"}`,Zc=tc?Nc(tc):{field:"size"},hd=`max(1, ${la})`;let Ad,Hd;Zc.mult=.5;var Oc={enter:Ad={opacity:Cd,x:{signal:yd,mult:.5,offset:Wb},y:Zc},update:Hd={opacity:be,x:Ad.x,y:Ad.y},exit:{opacity:Cd}};let Ee=null,Ge=null;O.fill||(Ee=da.symbolBaseFillColor,Ge=da.symbolBaseStrokeColor);Ab(Oc,{fill:Ja("symbolFillColor",Ee),shape:Ja("symbolType"),size:Ja("symbolSize"),stroke:Ja("symbolStrokeColor",
Ge),strokeDash:Ja("symbolDash"),strokeDashOffset:Ja("symbolDashOffset"),strokeWidth:Ja("symbolStrokeWidth")},{opacity:Ja("symbolOpacity")});kd.forEach(Ae=>{O[Ae]&&(Hd[Ae]=Ad[Ae]={scale:O[Ae],field:"value"})});da=Ca({type:"symbol",role:"legend-symbol",key:"value",from:Dc,clip:tc?!0:void 0,encode:Oc},H.symbols);Oc=Nc(Wb);Oc.offset=Ja("labelOffset");Oc={enter:Ad={opacity:Cd,x:{signal:yd,offset:Oc},y:Zc},update:Hd={opacity:be,text:{field:"label"},x:Ad.x,y:Ad.y},exit:{opacity:Cd}};Ab(Oc,{align:Ja("labelAlign"),
baseline:Ja("labelBaseline"),fill:Ja("labelColor"),fillOpacity:Ja("labelOpacity"),font:Ja("labelFont"),fontSize:Ja("labelFontSize"),fontStyle:Ja("labelFontStyle"),fontWeight:Ja("labelFontWeight"),limit:Ja("labelLimit")});H=Ca({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Dc,encode:Oc},H.labels);Oc={enter:{noBound:{value:!tc},width:Cd,height:tc?Nc(tc):Cd,opacity:Cd},exit:{opacity:Cd},update:Hd={opacity:be,row:{signal:null},column:{signal:null}}};Ja.isVertical(!0)?(Ja=`ceil(item.mark.items.length / ${hd})`,
Hd.row.signal=`${"datum.index"}%${Ja}`,Hd.column.signal=`floor(${"datum.index"} / ${Ja})`,Ja={field:["row","datum.index"]}):(Hd.row.signal=`floor(${"datum.index"} / ${hd})`,Hd.column.signal=`${"datum.index"} % ${hd}`,Ja={field:"datum.index"});Hd.column.signal=`(${la})?${Hd.column.signal}:${"datum.index"}`;ka={facet:{data:ka,name:"value",groupby:"index"}};return va({role:"scope",from:ka,encode:kc(Oc,hb,Ld),marks:[da,H],name:rc,interactive:fc,sort:Ja})}function xc(O,da){O=La(O,da);return{align:O("gridAlign"),
columns:O.entryColumns(),center:{row:!0,column:!1},padding:{row:O("rowPadding"),column:O("columnPadding")}}}function dd(O,da,H,ka){da=La(O,da);const la={enter:{opacity:Cd},update:{opacity:be,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Cd}};Ab(la,{orient:da("titleOrient"),_anchor:da("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:$e},baseline:{signal:sf},text:O.title,fill:da("titleColor"),fillOpacity:da("titleOpacity"),font:da("titleFont"),fontSize:da("titleFontSize"),fontStyle:da("titleFontStyle"),fontWeight:da("titleFontWeight"),limit:da("titleLimit"),lineHeight:da("titleLineHeight")},{align:da("titleAlign"),baseline:da("titleBaseline")});return Ca({type:"text",role:"legend-title",style:"guide-title",from:ka,encode:la},H)}function Zb(O,da){let H;k.isObject(O)&&(O.signal?H=O.signal:O.path?H="pathShape("+Rc(O.path)+
")":O.sphere&&(H="geoShape("+Rc(O.sphere)+', {type: "Sphere"})'));return H?da.signalRef(H):!!O}function Rc(O){return k.isObject(O)&&O.signal?O.signal:k.stringValue(O)}function Pd(O){const da=O.role||"";return da.indexOf("axis")&&da.indexOf("legend")&&da.indexOf("title")?"group"===O.type?"scope":da||"mark":da}function Na(O){return{marktype:O.type,name:O.name||void 0,role:O.role||Pd(O),zindex:+O.zindex||void 0,aria:O.aria,description:O.description}}function Ub(O,da){return O&&O.signal?da.signalRef(O.signal):
!1===O?!1:!0}function qb(O,da){const H=bc.definition(O.type);H||k.error("Unrecognized transform type: "+k.stringValue(O.type));var ka=H.type.toLowerCase();var la=Sb(H,O,da);ka=new mb(ka,null,la,void 0);O.signal&&da.addSignal(O.signal,da.proxy(ka));ka.metadata=H.metadata||{};return ka}function Sb(O,da,H){const ka={},la=O.params.length;for(let Ja=0;Ja<la;++Ja){const hb=O.params[Ja];ka[hb.name]=ic(hb,da,H)}return ka}function ic(O,da,H){const ka=O.type,la=da[O.name];if("index"===ka)return Ic(O,da,H);
if(void 0===la)O.required&&k.error("Missing required "+k.stringValue(da.type)+" parameter: "+k.stringValue(O.name));else return"param"===ka?zc(O,da,H):"projection"===ka?H.projectionRef(da[O.name]):O.array&&!Vb(la)?la.map(Ja=>dc(O,Ja,H)):dc(O,la,H)}function dc(O,da,H){const ka=O.type;return Vb(da)?"expr"===ka?k.error("Expression references can not be signals."):"field"===ka?H.fieldRef(da):"compare"===ka?H.compareRef(da):H.signalRef(da.signal):(O=O.expr||"field"===ka)&&da&&da.expr?H.exprRef(da.expr,
da.as):O&&da&&da.field?wb(da.field,da.as):"expr"===ka?P.parseExpression(da,H):"data"===ka?Pa(H.getData(da).values):"field"===ka?wb(da):"compare"===ka?H.compareRef(da):da}function Ic(O,da,H){k.isString(da.from)||k.error('Lookup "from" parameter must be a string literal.');return H.getData(da.from).lookupRef(H,da.key)}function zc(O,da,H){da=da[O.name];return O.array?(k.isArray(da)||k.error("Expected an array of sub-parameters. Instead: "+k.stringValue(da)),da.map(ka=>Yc(O,ka,H))):Yc(O,da,H)}function Yc(O,
da,H){const ka=O.params.length;let la;for(let Ja=0;Ja<ka;++Ja){la=O.params[Ja];for(const hb in la.key)if(la.key[hb]!==da[hb]){la=null;break}if(la)break}la||k.error("Unsupported parameter: "+k.stringValue(da));O=k.extend(Sb(la,da,H),la.key);return Pa(H.add(Jc(O)))}function Md(O,da,H){let ka,la,Ja,hb;if(!O)Ja=Pa(H.add(df(null,[{}])));else if(ka=O.facet)da||k.error("Only group marks can be faceted."),null!=ka.field?Ja=hb=ud(ka,H):(O.data?hb=Pa(H.getData(O.data).aggregate):(da=qb(k.extend({type:"aggregate",
groupby:k.array(ka.groupby)},ka.aggregate),H),da.params.key=H.keyRef(ka.groupby),da.params.pulse=ud(ka,H),Ja=hb=Pa(H.add(da))),la=H.keyRef(ka.groupby,!0));Ja||(Ja=ud(O,H));return{key:la,pulse:Ja,parent:hb}}function ud(O,da){return O.$ref?O:O.data&&O.data.$ref?O.data:Pa(da.getData(O.data).output)}function Ha(O,da,H,ka,la){this.scope=O;this.input=da;this.output=H;this.values=ka;this.aggregate=la;this.index={}}function gb(O){return k.isString(O)?O:null}function vb(O,da,H){const ka=Pb(H.op,H.field);let la;
if(da.ops)for(let Ja=0,hb=da.as.length;Ja<hb;++Ja){if(da.as[Ja]===ka)return}else da.ops=["count"],da.fields=[null],da.as=["count"];H.op&&(da.ops.push((la=H.op.signal)?O.signalRef(la):H.op),da.fields.push(O.fieldRef(H.field)),da.as.push(ka))}function ta(O,da,H,ka,la,Ja,hb){H=da[H]||(da[H]={});var fc=k.isObject(Ja)?("descending"===Ja.order?"-":"+")+Pb(Ja.op,Ja.field):"";let rc=gb(la);if(null!=rc){O=da.scope;rc+=fc?"|"+fc:"";var tc=H[rc]}tc||(tc=Ja?{field:Xd,pulse:da.countsRef(O,la,Ja)}:{field:O.fieldRef(la),
pulse:Pa(da.output)},fc&&(tc.sort=O.sortRef(Ja)),O=O.add(new mb(ka,void 0,tc,void 0)),hb&&(da.index[la]=O),tc=Pa(O),null!=rc&&(H[rc]=tc));return tc}function F(O,da,H){var ka=O.from.facet;const la=ka.name,Ja=ud(ka,da);let hb;ka.name||k.error("Facet must have a name: "+k.stringValue(ka));ka.data||k.error("Facet must reference a data set: "+k.stringValue(ka));ka.field?hb=da.add(Ac({field:da.fieldRef(ka.field),pulse:Ja})):ka.groupby?hb=da.add(cb({key:da.keyRef(ka.groupby),group:Pa(da.proxy(H.parent)),
pulse:Ja})):k.error("Facet must specify groupby or field: "+k.stringValue(ka));da=da.fork();H=da.add(df());ka=da.add(pc({pulse:Pa(H)}));da.addData(la,new Ha(da,H,H,ka));da.addSignal("parent",null);hb.params.subflow={$subflow:da.parse(O).toRuntime()}}function ya(O,da,H){H=da.add(Ac({pulse:H.pulse}));da=da.fork();da.add(pc());da.addSignal("parent",null);H.params.subflow={$subflow:da.parse(O).toRuntime()}}function Oa(O,da,H){const ka=O.remove,la=O.insert,Ja=O.toggle,hb=O.modify,fc=O.values,rc=da.add(new mb("operator",
void 0,void 0,void 0));O="if("+O.trigger+',modify("'+H+'",'+[la,ka,Ja,hb,fc].map(tc=>null==tc?"null":tc).join(",")+"),0)";da=P.parseExpression(O,da);rc.update=da.$expr;rc.params=da.$params}function Za(O,da){var H=Pd(O),ka="group"===O.type,la=O.from&&O.from.facet;const Ja=O.overlap;let hb=O.layout||"scope"===H||"frame"===H,fc,rc,tc,Wb,Dc,yd;const Zc="mark"===H||hb||la,hd=Md(O.from,ka,da);rc=da.add(nf({key:hd.key||(O.key?wb(O.key):void 0),pulse:hd.pulse,clean:!ka}));const Ad=Pa(rc);rc=tc=da.add(df({pulse:Ad}));
rc=da.add(J({markdef:Na(O),interactive:Ub(O.interactive,da),clip:Zb(O.clip,da),context:{$context:!0},groups:da.lookup(),parent:da.signals.parent?da.signalRef("parent"):null,index:da.markpath(),pulse:Pa(rc)}));var Hd=Pa(rc);rc=Wb=da.add(U(Qa(O.encode,O.type,H,O.style,da,{mod:!1,pulse:Hd})));rc.params.parent=da.encode();O.transform&&O.transform.forEach(Ee=>{Ee=qb(Ee,da);const Ge=Ee.metadata;(Ge.generates||Ge.changes)&&k.error("Mark transforms should not generate new data.");Ge.nomod||(Wb.params.mod=
!0);Ee.params.pulse=Pa(rc);da.add(rc=Ee)});O.sort&&(rc=da.add(wd({sort:da.compareRef(O.sort),pulse:Pa(rc)})));H=Pa(rc);if(la||hb)hb=da.add(Mc({layout:da.objectProperty(O.layout),legends:da.legends,mark:Hd,pulse:H})),yd=Pa(hb);const Oc=da.add(cf({mark:Hd,pulse:yd||H}));Hd=Pa(Oc);ka&&(Zc&&(fc=da.operators,fc.pop(),hb&&fc.pop()),da.pushState(H,yd||Hd,Ad),la?F(O,da,hd):Zc?ya(O,da,hd):da.parse(O),da.popState(),Zc&&(hb&&fc.push(hb),fc.push(Oc)));Ja&&(Hd=kb(Ja,Hd,da));ka=da.add(Ra({pulse:Hd}));la=da.add(pc({pulse:Pa(ka)},
void 0,da.parent()));null!=O.name&&(Dc=O.name,da.addData(Dc,new Ha(da,tc,ka,la)),O.on&&O.on.forEach(Ee=>{(Ee.insert||Ee.remove||Ee.toggle)&&k.error("Marks only support modify triggers.");Oa(Ee,da,Dc)}))}function kb(O,da,H){const ka=O.method,la=O.bound,Ja=O.separation;da={separation:Vb(Ja)?H.signalRef(Ja.signal):Ja,method:Vb(ka)?H.signalRef(ka.signal):ka,pulse:da};O.order&&(da.sort=H.compareRef({field:O.order}));la&&(O=la.tolerance,da.boundTolerance=Vb(O)?H.signalRef(O.signal):+O,da.boundScale=H.scaleRef(la.scale),
da.boundOrient=la.orient);return Pa(H.add(cc(da)))}function Eb(O,da){const H=da.config.legend,ka=O.encode||{},la=La(O,H),Ja=ka.legend||{},hb=Ja.name||void 0,fc=Ja.interactive,rc=Ja.style,tc={};let Wb=0,Dc,yd;kd.forEach(Oc=>O[Oc]?(tc[Oc]=O[Oc],Wb=Wb||O[Oc]):0);Wb||k.error("Missing valid scale for legend.");var Zc=oc(O,da.scaleType(Wb));const hd={title:null!=O.title,scales:tc,type:Zc,vgrad:"symbol"!==Zc&&la.isVertical()},Ad=Pa(da.add(df(null,[hd]))),Hd=Pa(da.add(Ec(yd={type:Zc,scale:da.scaleRef(Wb),
count:da.objectProperty(la("tickCount")),limit:da.property(la("symbolLimit")),values:da.objectProperty(O.values),minstep:da.property(O.tickMinStep),formatType:da.property(O.formatType),formatSpecifier:da.property(O.format)})));"gradient"===Zc?(Zc=[Xa(O,Wb,H,ka.gradient),yc(O,H,ka.labels,Hd)],yd.count=yd.count||da.signalRef(`max(2,2*floor((${Z(la.gradientLength())})/100))`)):"discrete"===Zc?Zc=[Ib(O,Wb,H,ka.gradient,Hd),yc(O,H,ka.labels,Hd)]:(Dc=xc(O,H),Zc=[qc(O,H,ka,Hd,Z(Dc.columns))],yd.size=Sc(O,
da,Zc[0].marks));Zc=[va({role:"legend-entry",from:Ad,encode:{enter:{x:{value:0},y:{value:0}}},marks:Zc,layout:Dc,interactive:fc})];hd.title&&Zc.push(dd(O,H,ka.title,Ad));return Za(va({role:"legend",from:Ad,encode:kc(jc(la,O,H),Ja,Ld),marks:Zc,aria:la("aria"),description:la("description"),zindex:la("zindex"),name:hb,interactive:fc,style:rc}),da)}function oc(O,da){let H=O.type||"symbol";O.type||1!==ec(O)||!O.fill&&!O.stroke||(H=Fb.isContinuous(da)?"gradient":Fb.isDiscretizing(da)?"discrete":"symbol");
return"gradient"!==H?H:Fb.isDiscretizing(da)?"discrete":"gradient"}function ec(O){return kd.reduce((da,H)=>da+(O[H]?1:0),0)}function jc(O,da,H){const ka={enter:{},update:{}};Ab(ka,{orient:O("orient"),offset:O("offset"),padding:O("padding"),titlePadding:O("titlePadding"),cornerRadius:O("cornerRadius"),fill:O("fillColor"),stroke:O("strokeColor"),strokeWidth:H.strokeWidth,strokeDash:H.strokeDash,x:O("legendX"),y:O("legendY"),format:da.format,formatType:da.formatType});return ka}function Sc(O,da,H){const ka=
Z(ed("size",O,H));O=Z(ed("strokeWidth",O,H));(H=Wa("fontSize",H[1].encode))||(H=(H=da.config.style["guide-label"])&&H.fontSize);H=Z(H);return P.parseExpression(`max(ceil(sqrt(${ka})+${O}),${H})`,da)}function ed(O,da,H){return da[O]?`scale("${da[O]}",datum)`:Wa(O,H[0].encode)}function fd(O,da){O=k.isString(O)?{text:O}:O;const H=La(O,da.config.title);var ka=O.encode||{},la=ka.group||{};const Ja=la.name||void 0,hb=la.interactive,fc=la.style,rc=[],tc=Pa(da.add(df(null,[{}])));var Wb=rc.push,Dc=O;var yd=
(yd=O.encode)&&yd.title||k.extend({name:O.name,interactive:O.interactive,style:O.style},yd);var Zc={value:0};Zc={enter:{opacity:Zc},update:{opacity:{value:1}},exit:{opacity:Zc}};Ab(Zc,{text:Dc.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:H("dx"),dy:H("dy"),fill:H("color"),font:H("font"),fontSize:H("fontSize"),fontStyle:H("fontStyle"),fontWeight:H("fontWeight"),lineHeight:H("lineHeight")},{align:H("align"),
angle:H("angle"),baseline:H("baseline")});Dc=Ca({type:"text",role:"title-text",style:"group-title",from:tc,encode:Zc},yd);Wb.call(rc,Dc);O.subtitle&&(Wb=rc.push,ka=ka.subtitle,Dc={value:0},Dc={enter:{opacity:Dc},update:{opacity:{value:1}},exit:{opacity:Dc}},Ab(Dc,{text:O.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:H("dx"),dy:H("dy"),fill:H("subtitleColor"),font:H("subtitleFont"),fontSize:H("subtitleFontSize"),
fontStyle:H("subtitleFontStyle"),fontWeight:H("subtitleFontWeight"),lineHeight:H("subtitleLineHeight")},{align:H("align"),angle:H("angle"),baseline:H("baseline")}),O=Ca({type:"text",role:"title-subtitle",style:"group-subtitle",from:tc,encode:Dc},ka),Wb.call(rc,O));O={enter:{},update:{}};Ab(O,{orient:H("orient"),anchor:H("anchor"),align:{signal:ve},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:H("limit"),frame:H("frame"),offset:H("offset")||0,padding:H("subtitlePadding")});
la=kc(O,la,Ld);return Za(va({role:"title",from:tc,encode:la,marks:rc,aria:H("aria"),description:H("description"),zindex:H("zindex"),name:Ja,interactive:hb,style:fc}),da)}function Qd(O,da){const H=[];O.transform&&O.transform.forEach(ka=>{H.push(qb(ka,da))});O.on&&O.on.forEach(ka=>{Oa(ka,da,O.name)});da.addDataPipeline(O.name,Td(O,da,H))}function Td(O,da,H){const ka=[];let la=null,Ja=!1,hb=!1,fc,rc,tc,Wb;O.values?Vb(O.values)||nb(O.format)?(ka.push(Yd(da,O)),ka.push(la=Ed())):ka.push(la=Ed({$ingest:O.values,
$format:O.format})):O.url?nb(O.url)||nb(O.format)?(ka.push(Yd(da,O)),ka.push(la=Ed())):ka.push(la=Ed({$request:O.url,$format:O.format})):O.source&&(la=fc=k.array(O.source).map(Dc=>Pa(da.getData(Dc).output)),ka.push(null));O=0;for(rc=H.length;O<rc;++O)tc=H[O],Wb=tc.metadata,la||Wb.source||ka.push(la=Ed()),ka.push(tc),Wb.generates&&(hb=!0),Wb.modifies&&!hb&&(Ja=!0),Wb.source?la=tc:Wb.changes&&(la=null);fc&&(rc=fc.length-1,ka[0]=ee({derive:Ja,pulse:rc?fc:fc[0]}),(Ja||rc)&&ka.splice(1,0,Ed()));la||ka.push(Ed());
ka.push(pc({}));return ka}function Ed(O){O=df({},O);O.metadata={source:!0};return O}function Yd(O,da){return $b({url:da.url?O.property(da.url):void 0,async:da.async?O.property(da.async):void 0,values:da.values?O.property(da.values):void 0,format:O.objectProperty(da.format)})}function ae(O,da,H,ka){let la;if(da&&k.hasOwnProperty(da,O))return da[O];if(k.hasOwnProperty(H,O))return H[O];if(O.startsWith("title")){switch(O){case "titleColor":la="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":la=
O[5].toLowerCase()+O.slice(6)}return ka["guide-title"][la]}if(O.startsWith("label")){switch(O){case "labelColor":la="fill";break;case "labelFont":case "labelFontSize":la=O[5].toLowerCase()+O.slice(6)}return ka["guide-label"][la]}return null}function Ud(O){const da={};for(const H of O)if(H)for(const ka in H)da[ka]=1;return Object.keys(da)}function Xe(O,da,H,ka,la){return{signal:'flush(range("'+O+'"), scale("'+O+'", datum.value), '+da+","+H+","+ka+","+la+")"}}function Wd(O,da,H,ka){const la=(hb,fc)=>
null!=hb?(H.update[fc]=ke(Nc(hb),H.update[fc]),!1):Yb(fc,ka)?!1:!0,Ja=la(O("titleX"),"x");O=la(O("titleY"),"y");H.enter.auto=O===Ja?Nc(O):Fc(da,Nc(O),Nc(Ja))}function N(O,da,H){const ka=k.array(O.signals),la=k.array(O.scales);H||ka.forEach(Ja=>lb(Ja,da));k.array(O.projections).forEach(Ja=>{const hb=da.config.projection||{},fc={};for(const rc in Ja)"name"!==rc&&(fc[rc]=L(Ja[rc],rc,da));for(const rc in hb)null==fc[rc]&&(fc[rc]=L(hb[rc],rc,da));da.addProjection(Ja.name,fc)});la.forEach(Ja=>{const hb=
Ja.type||"linear";Fb.isValidScaleType(hb)||k.error("Unrecognized scale type: "+k.stringValue(hb));da.addScale(Ja.name,{type:hb,domain:void 0})});k.array(O.data).forEach(Ja=>Qd(Ja,da));la.forEach(Ja=>{const hb=da.getScale(Ja.name).params;let fc;hb.domain=C(Ja.domain,Ja,da);null!=Ja.range&&(hb.range=t(Ja,da,hb));if(null!=Ja.interpolate){var rc=Ja.interpolate;hb.interpolate=g(rc.type||rc);null!=rc.gamma&&(hb.interpolateGamma=g(rc.gamma))}null!=Ja.nice&&(rc=Ja.nice,rc=k.isObject(rc)?{interval:g(rc.interval),
step:g(rc.step)}:g(rc),hb.nice=rc);null!=Ja.bins&&(rc=Ja.bins,rc=rc.signal||k.isArray(rc)?u(rc,da):da.objectProperty(rc),hb.bins=rc);for(fc in Ja)k.hasOwnProperty(hb,fc)||"name"===fc||(hb[fc]=g(Ja[fc],da))});(H||ka).forEach(Ja=>Q(Ja,da));k.array(O.axes).forEach(Ja=>{var hb=da.config,fc=hb.style,rc=hb.axis,tc="band"===da.scaleType(Ja.scale)&&hb.axisBand,Wb=Ja.orient,Dc;if(Vb(Wb)){const Ie=Ud([hb.axisX,hb.axisY]),ye=Ud([hb.axisTop,hb.axisBottom,hb.axisLeft,hb.axisRight]);var yd={};for(Dc of Ie)yd[Dc]=
Fc(Wb,ae(Dc,hb.axisX,rc,fc),ae(Dc,hb.axisY,rc,fc));var Zc={};for(Dc of ye){var hd=Zc,Ad=Dc,Hd=Wb.signal,Oc=ae(Dc,hb.axisTop,rc,fc),Ee=ae(Dc,hb.axisBottom,rc,fc),Ge=ae(Dc,hb.axisLeft,rc,fc),Ae=ae(Dc,hb.axisRight,rc,fc);var Be={signal:(null!=Ge?`${Hd} === '${"left"}' ? (${$d(Ge)}) : `:"")+(null!=Ee?`${Hd} === '${"bottom"}' ? (${$d(Ee)}) : `:"")+(null!=Ae?`${Hd} === '${"right"}' ? (${$d(Ae)}) : `:"")+(null!=Oc?`${Hd} === '${"top"}' ? (${$d(Oc)}) : `:"")+"(null)"};hd[Ad]=Be}}else yd="top"===Wb||"bottom"===
Wb?hb.axisX:hb.axisY,Zc=hb["axis"+Wb[0].toUpperCase()+Wb.slice(1)];var Id=yd||Zc||tc?k.extend({},rc,yd,Zc,tc):rc;const he=Ja.encode||{},xe=he.axis||{},Le=xe.name||void 0,of=xe.interactive,Ve=xe.style,we=La(Ja,Id),wf=we("tickBand");let Pf=we("tickOffset"),af,ag;wf?wf.signal?(af={signal:`(${wf.signal}) === 'extent' ? 1 : 0.5`},ag={signal:`(${wf.signal}) === 'extent'`},k.isObject(Pf)||(Pf={signal:`(${wf.signal}) === 'extent' ? 0 : ${Pf}`})):"extent"===wf?(af=1,ag=!0,Pf=0):(af=.5,ag=!1):(af=we("bandPosition"),
ag=we("tickExtra"));var Vd=ag;var hf=af;var jf=Pf;const Qe={scale:Ja.scale,ticks:!!we("ticks"),labels:!!we("labels"),grid:!!we("grid"),domain:!!we("domain"),title:null!=Ja.title},Cf=Pa(da.add(df({},[Qe]))),Qf=Pa(da.add(gf({scale:da.scaleRef(Ja.scale),extra:da.property(Vd),count:da.objectProperty(Ja.tickCount),values:da.objectProperty(Ja.values),minstep:da.property(Ja.tickMinStep),formatType:da.property(Ja.formatType),formatSpecifier:da.property(Ja.format)}))),Jf=[];let Gf;if(Qe.grid){var Bg=Jf.push,
sg=he.grid;const Ie=La(Ja,Id),ye=Ja.orient,Kf=Ja.gridScale,yf=nd(ye,1,-1);a:{var Af=Ja.offset,Hf=yf;if(1!==Hf)if(k.isObject(Af)){let xg=Af=k.extend({},Af);for(;null!=xg.mult;)if(k.isObject(xg.mult))xg=xg.mult=k.extend({},xg.mult);else{xg.mult=Vb(Hf)?{signal:`(${xg.mult}) * (${Hf.signal})`}:xg.mult*Hf;var dg=Af;break a}xg.mult=Hf}else Af=Vb(Hf)?{signal:`(${Hf.signal}) * (${Af||0})`}:Hf*(Af||0);dg=Af}const Bf=dg;let tf,fg,Eg;const tg={enter:tf={opacity:Cd},update:Eg={opacity:be},exit:fg={opacity:Cd}};
Ab(tg,{stroke:Ie("gridColor"),strokeCap:Ie("gridCap"),strokeDash:Ie("gridDash"),strokeDashOffset:Ie("gridDashOffset"),strokeOpacity:Ie("gridOpacity"),strokeWidth:Ie("gridWidth")});const Df={scale:Ja.scale,field:"value",band:hf,extra:Vd,offset:jf,round:Ie("tickRound")},Qg=Fc(ye,{signal:"height"},{signal:"width"}),Mg=Kf?{scale:Kf,range:0,mult:yf,offset:Bf}:{value:0,offset:Bf},qh=Kf?{scale:Kf,range:1,mult:yf,offset:Bf}:k.extend(Qg,{mult:yf,offset:Bf});tf.x=Eg.x=Fc(ye,Df,Mg);tf.y=Eg.y=bd(ye,Df,Mg);tf.x2=
Eg.x2=bd(ye,qh);tf.y2=Eg.y2=Fc(ye,qh);fg.x=Fc(ye,Df);fg.y=bd(ye,Df);var Ug=Ca({type:"rule",role:"axis-grid",key:"value",from:Qf,encode:tg},sg);Bg.call(Jf,Ug)}if(Qe.ticks){Gf=we("tickSize");var Vg=Jf.push,Dg=he.ticks,Wg=Gf;const Ie=La(Ja,Id),ye=Ja.orient,Kf=nd(ye,-1,1);let yf,Bf,tf;const fg={enter:yf={opacity:Cd},update:tf={opacity:be},exit:Bf={opacity:Cd}};Ab(fg,{stroke:Ie("tickColor"),strokeCap:Ie("tickCap"),strokeDash:Ie("tickDash"),strokeDashOffset:Ie("tickDashOffset"),strokeOpacity:Ie("tickOpacity"),
strokeWidth:Ie("tickWidth")});const Eg=Nc(Wg);Eg.mult=Kf;const tg={scale:Ja.scale,field:"value",band:hf,extra:Vd,offset:jf,round:Ie("tickRound")};tf.y=yf.y=Fc(ye,Cd,tg);tf.y2=yf.y2=Fc(ye,Eg);Bf.x=Fc(ye,tg);tf.x=yf.x=bd(ye,Cd,tg);tf.x2=yf.x2=bd(ye,Eg);Bf.y=bd(ye,tg);var ra=Ca({type:"rule",role:"axis-tick",key:"value",from:Qf,encode:fg},Dg);Vg.call(Jf,ra)}if(Qe.labels){Gf=Qe.ticks?Gf:0;var bb=Jf.push,Rb=he.labels,id=Gf;const Ie=La(Ja,Id),ye=Ja.orient,Kf=Ja.scale,yf=nd(ye,-1,1),Bf=Z(Ie("labelFlush")),
tf=Z(Ie("labelFlushOffset")),fg=Ie("labelAlign"),Eg=Ie("labelBaseline");let tg=0===Bf||!!Bf,Df;const Qg=Nc(id);Qg.mult=yf;Qg.offset=Nc(Ie("labelPadding")||0);Qg.offset.mult=yf;const Mg={scale:Kf,field:"value",band:.5,offset:X(jf,Ie("labelOffset"))};var od=tg?Xe(Kf,Bf,'"left"','"right"','"center"'):{value:"center"},ne=ye;var Re=Vb(ne)?Zd(`${ne.signal} === '${"right"}'`,"left","right"):"right"===ne?{value:"left"}:{value:"right"};const qh=Fc(ye,od,Re),xg=Fc(ye,Gc(ye,"bottom","top"),tg?Xe(Kf,Bf,'"top"',
'"bottom"','"middle"'):{value:"middle"}),Wh=Xe(Kf,Bf,`-(${tf})`,tf,0);tg=tg&&tf;const rh={opacity:Cd,x:Fc(ye,Mg,Qg),y:bd(ye,Mg,Qg)},Hh={enter:rh,update:Df={opacity:be,text:{field:"label"},x:rh.x,y:rh.y,align:qh,baseline:xg},exit:{opacity:Cd,x:rh.x,y:rh.y}};Ab(Hh,{dx:!fg&&tg?Fc(ye,Wh):null,dy:!Eg&&tg?bd(ye,Wh):null});Ab(Hh,{angle:Ie("labelAngle"),fill:Ie("labelColor"),fillOpacity:Ie("labelOpacity"),font:Ie("labelFont"),fontSize:Ie("labelFontSize"),fontWeight:Ie("labelFontWeight"),fontStyle:Ie("labelFontStyle"),
limit:Ie("labelLimit"),lineHeight:Ie("labelLineHeight")},{align:fg,baseline:Eg});const Xg=Ie("labelBound");let sh=Ie("labelOverlap");sh=sh||Xg?{separation:Ie("labelSeparation"),method:sh,order:"datum.index",bound:Xg?{scale:Kf,orient:ye,tolerance:Xg}:null}:void 0;Df.align!==qh&&(Df.align=ke(Df.align,qh));Df.baseline!==xg&&(Df.baseline=ke(Df.baseline,xg));var pf=Ca({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Qf,encode:Hh,overlap:sh},Rb);bb.call(Jf,pf)}if(Qe.domain){var Ff=Jf.push,
Ne=he.domain;const Ie=La(Ja,Id),ye=Ja.orient;let Kf,yf;const Bf={enter:Kf={opacity:Cd},update:yf={opacity:be},exit:{opacity:Cd}};Ab(Bf,{stroke:Ie("domainColor"),strokeCap:Ie("domainCap"),strokeDash:Ie("domainDash"),strokeDashOffset:Ie("domainDashOffset"),strokeWidth:Ie("domainWidth"),strokeOpacity:Ie("domainOpacity")});const tf={scale:Ja.scale,range:0},fg={scale:Ja.scale,range:1};Kf.x=yf.x=Fc(ye,tf,Cd);Kf.x2=yf.x2=Fc(ye,fg);Kf.y=yf.y=bd(ye,tf,Cd);Kf.y2=yf.y2=bd(ye,fg);var eg=Ca({type:"rule",role:"axis-domain",
from:Cf,encode:Bf},Ne);Ff.call(Jf,eg)}if(Qe.title){var Sf=Jf.push,Xf=he.title;const Ie=La(Ja,Id),ye=Ja.orient,Kf=nd(ye,-1,1);let yf,Bf;const tf={enter:yf={opacity:Cd,anchor:Nc(Ie("titleAnchor",null)),align:{signal:ve}},update:Bf=k.extend({},yf,{opacity:be,text:Nc(Ja.title)}),exit:{opacity:Cd}},fg={signal:`lerp(range("${Ja.scale}"), ${$a(0,1,.5)})`};Bf.x=Fc(ye,fg);Bf.y=bd(ye,fg);var kg=yf,qg=Kf;var Lg=Vb(qg)?{signal:`(${qg.signal}) * ${90}`}:{value:90*qg};kg.angle=Fc(ye,Cd,Lg);yf.baseline=Fc(ye,Gc(ye,
"bottom","top"),{value:"bottom"});Bf.angle=yf.angle;Bf.baseline=yf.baseline;Ab(tf,{fill:Ie("titleColor"),fillOpacity:Ie("titleOpacity"),font:Ie("titleFont"),fontSize:Ie("titleFontSize"),fontStyle:Ie("titleFontStyle"),fontWeight:Ie("titleFontWeight"),limit:Ie("titleLimit"),lineHeight:Ie("titleLineHeight")},{align:Ie("titleAlign"),angle:Ie("titleAngle"),baseline:Ie("titleBaseline")});Wd(Ie,ye,tf,Xf);tf.update.align=ke(tf.update.align,yf.align);tf.update.angle=ke(tf.update.angle,yf.angle);tf.update.baseline=
ke(tf.update.baseline,yf.baseline);var gh=Ca({type:"text",role:"axis-title",style:"guide-title",from:Cf,encode:tf},Xf);Sf.call(Jf,gh)}const ph={enter:{},update:{}};Ab(ph,{orient:we("orient"),offset:we("offset")||0,position:qa(Ja.position,0),titlePadding:we("titlePadding"),minExtent:we("minExtent"),maxExtent:we("maxExtent"),range:{signal:`abs(span(range("${Ja.scale}")))`},translate:we("translate"),format:Ja.format,formatType:Ja.formatType});return Za(va({role:"axis",from:Cf,encode:kc(ph,xe,Ld),marks:Jf,
aria:we("aria"),description:we("description"),zindex:we("zindex"),name:Le,interactive:of,style:Ve}),da)});k.array(O.marks).forEach(Ja=>Za(Ja,da));k.array(O.legends).forEach(Ja=>Eb(Ja,da));O.title&&fd(O.title,da);da.parseLambdas();return da}function ma(O,da){var H=da.config;const ka=Pa(da.root=da.add(new mb("operator",void 0,void 0,void 0))),la=fb(O,H);la.forEach(fc=>lb(fc,da));da.description=O.description||H.description;da.eventConfig=H.events;da.legends=da.objectProperty(H.legend&&H.legend.layout);
da.locale=H.locale;H=da.add(df());const Ja=da.add(U(Qa(kc({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},O.encode),"group","frame",O.style,da,{pulse:Pa(H)}))),hb=da.add(Mc({layout:da.objectProperty(O.layout),legends:da.legends,autosize:da.signalRef("autosize"),mark:ka,pulse:Pa(Ja)}));da.operators.pop();da.pushState(Pa(Ja),Pa(hb),null);N(O,da,la);da.operators.push(hb);O=da.add(cf({mark:ka,pulse:Pa(hb)}));O=da.add(Ra({pulse:Pa(O)}));O=da.add(pc({pulse:Pa(O)}));
da.addData("root",new Ha(da,H,H,O));return da}function za(O,da){return da&&da.signal?{name:O,update:da.signal}:{name:O,value:da}}function fb(O,da){const H=hb=>qa(O[hb],da[hb]),ka=[za("background",H("background")),za("autosize",vc(H("autosize"))),za("padding",Bc(H("padding"))),za("width",H("width")||0),za("height",H("height")||0)],la=ka.reduce((hb,fc)=>(hb[fc.name]=fc,hb),{}),Ja={};k.array(O.signals).forEach(hb=>{k.hasOwnProperty(la,hb.name)?hb=k.extend(la[hb.name],hb):ka.push(hb);Ja[hb.name]=hb});
k.array(da.signals).forEach(hb=>{k.hasOwnProperty(Ja,hb.name)||k.hasOwnProperty(la,hb.name)||ka.push(hb)});return ka}function Hb(O,da){this.config=O||{};this.options=da||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Xb(O){this.config=O.config;
this.options=O.options;this.legends=O.legends;this.field=Object.create(O.field);this.signals=Object.create(O.signals);this.lambdas=Object.create(O.lambdas);this.scales=Object.create(O.scales);this.events=Object.create(O.events);this.data=Object.create(O.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++O._nextsub[0];this._nextsub=O._nextsub;this._parent=O._parent.slice();this._encode=O._encode.slice();this._lookup=O._lookup.slice();this._markpath=O._markpath}function Cc(O){return(k.isArray(O)?
mc:Hc)(O)}function mc(O){const da=O.length;let H="[";for(let ka=0;ka<da;++ka){const la=O[ka];H+=(0<ka?",":"")+(k.isObject(la)?la.signal||Cc(la):k.stringValue(la))}return H+"]"}function Hc(O){let da="{",H=0,ka,la;for(ka in O)la=O[ka],da+=(1<++H?",":"")+k.stringValue(ka)+":"+(k.isObject(la)?la.signal||Cc(la):k.stringValue(la));return da+"}"}function jd(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},
area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",
font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",
tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,
symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const Nc=O=>k.isObject(O)&&!k.isArray(O)?k.extend({},O):{value:O},vd=O=>k.isString(O)?k.stringValue(O):O.signal?`(${O.signal})`:Ob(O),Gd=(O,da,H,ka)=>`(${O}(${[da,H,ka].map(Jb).join(",")})+'')`,Fd=["value","update","init","react","bind"],Xd=wb("key"),Nd={code:"_.$value",ast:{type:"Identifier",value:"value"}},qe=O=>(da,H,ka)=>new mb(O,H,da||void 0,ka),De=qe("aggregate"),gf=qe("axisticks"),cf=qe("bound"),df=qe("collect"),pe=qe("compare"),nf=qe("datajoin"),U=qe("encode"),ua=qe("expression"),cb=qe("facet"),
yb=qe("field"),gc=qe("key"),Ec=qe("legendentries"),$b=qe("load"),J=qe("mark"),fa=qe("multiextent"),Sa=qe("multivalues"),cc=qe("overlap"),Jc=qe("params"),Ac=qe("prefacet"),$c=qe("projection"),pd=qe("proxy"),ee=qe("relay"),Ra=qe("render"),db=qe("scale"),pc=qe("sieve"),wd=qe("sortitems"),Mc=qe("viewlayout"),Uc=qe("values");let Qc=0;const td={min:"min",max:"max",count:"sum"},kd="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Ld={name:1,style:1,interactive:1},Cd={value:0},be={value:1},
ve=$a(k.stringValue("left"),k.stringValue("right"),k.stringValue("center")),Me=$a('"top"','"bottom"','"middle"'),$e=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${$a('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${ve}`,sf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Me}) : "top"`;
Ha.fromEntries=function(O,da){const H=da.length,ka=da[H-1],la=da[H-2];let Ja=da[0],hb=null,fc=1;Ja&&"load"===Ja.type&&(Ja=da[1]);for(O.add(da[0]);fc<H;++fc)da[fc].params.pulse=Pa(da[fc-1]),O.add(da[fc]),"aggregate"===da[fc].type&&(hb=da[fc]);return new Ha(O,Ja,la,ka,hb)};Ha.prototype={countsRef(O,da,H){const ka=this.counts||(this.counts={}),la=gb(da);if(null!=la){O=this.scope;var Ja=ka[la]}Ja?H&&H.field&&vb(O,Ja.agg.params,H):(Ja={groupby:O.fieldRef(da,"key"),pulse:Pa(this.output)},H&&H.field&&vb(O,
Ja,H),H=O.add(De(Ja)),Ja=O.add(df({pulse:Pa(H)})),Ja={agg:H,ref:Pa(Ja)},null!=la&&(ka[la]=Ja));return Ja.ref},tuplesRef(){return Pa(this.values)},extentRef(O,da){return ta(O,this,"extent","extent",da,!1)},domainRef(O,da){return ta(O,this,"domain","values",da,!1)},valuesRef(O,da,H){return ta(O,this,"vals","values",da,H||!0)},lookupRef(O,da){return ta(O,this,"lookup","tupleindex",da,!1)},indataRef(O,da){return ta(O,this,"indata","tupleindex",da,!0,!0)}};const nd=(O,da,H)=>{Vb(O)?(O=O.signal,da=Zd(`${O} === '${"left"}' || ${O} === '${"top"}'`,
da,H)):da="left"===O||"top"===O?da:H;return da},Fc=(O,da,H)=>{Vb(O)?(O=O.signal,da=Jd(`${O} === '${"top"}' || ${O} === '${"bottom"}'`,da,H)):da="bottom"===O||"top"===O?da:H;return da},bd=(O,da,H)=>{Vb(O)?(O=O.signal,da=Jd(`${O} !== '${"top"}' && ${O} !== '${"bottom"}'`,da,H)):da="bottom"===O||"top"===O?H:da;return da},Gc=(O,da,H)=>Vb(O)?Zd(`${O.signal} === '${"top"}'`,da,H):"top"===O?{value:da}:{value:H},Jd=(O,da,H)=>{da=null!=da?Nc(da):da;H=null!=H?Nc(H):H;if(null!=da&&1!==Object.keys(da).length||
null!=H&&1!==Object.keys(H).length)return[k.extend({test:O},da)].concat(H||[]);da=da?da.signal||k.stringValue(da.value):null;H=H?H.signal||k.stringValue(H.value):null;return{signal:`${O} ? (${da}) : (${H})`}},Zd=(O,da,H)=>({signal:`${O} ? (${$d(da)}) : (${$d(H)})`}),$d=O=>Vb(O)?O.signal:null==O?null:k.stringValue(O),ke=(O,da)=>{const H=O.signal;return H&&H.endsWith("(null)")?{signal:H.slice(0,-6)+da.signal}:O};Hb.prototype=Xb.prototype={parse(O){return N(O,this)},fork(){return new Xb(this)},isSubscope(){return 0<
this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(O){this.operators.push(O);O.id=this.id();O.refs&&(O.refs.forEach(da=>{da.$ref=O.id}),O.refs=null);return O},proxy(O){O=O instanceof mb?Pa(O):O;return this.add(pd({value:O}))},addStream(O){this.streams.push(O);O.id=this.id();return O},
addUpdate(O){this.updates.push(O);return O},finish(){function O(ka,la,Ja){ka&&(ka=ka.data||(ka.data={}),la=ka[la]||(ka[la]=[]),la.push(Ja))}let da,H;this.root&&(this.root.root=!0);for(da in this.signals)this.signals[da].signal=da;for(da in this.scales)this.scales[da].scale=da;for(da in this.data){H=this.data[da];O(H.input,da,"input");O(H.output,da,"output");O(H.values,da,"values");for(const ka in H.index)O(H.index[ka],da,"index:"+ka)}return this},pushState(O,da,H){this._encode.push(Pa(this.add(pc({pulse:O}))));
this._parent.push(da);this._lookup.push(H?Pa(this.proxy(H)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return k.peek(this._parent)},encode(){return k.peek(this._encode)},lookup(){return k.peek(this._lookup)},markpath(){const O=this._markpath;return++O[O.length-1]},fieldRef(O,da){if(k.isString(O))return wb(O,da);O.signal||k.error("Unsupported field reference: "+k.stringValue(O));O=O.signal;var H=this.field[O];H||
(H={name:this.signalRef(O)},da&&(H.as=da),this.field[O]=H=Pa(this.add(yb(H))));return H},compareRef(O){let da=!1;const H=la=>Vb(la)?(da=!0,this.signalRef(la.signal)):la&&la.expr?(da=!0,this.exprRef(la.expr)):la,ka=k.array(O.field).map(H);O=k.array(O.order).map(H);return da?Pa(this.add(pe({fields:ka,orders:O}))):{$compare:ka,$order:O}},keyRef(O,da){let H=!1;const ka=this.signals;O=k.array(O).map(la=>Vb(la)?(H=!0,Pa(ka[la.signal])):la);return H?Pa(this.add(gc({fields:O,flat:da}))):sb(O,da)},sortRef(O){if(!O)return O;
const da=Pb(O.op,O.field);O=O.order||"ascending";return O.signal?Pa(this.add(pe({fields:da,orders:this.signalRef(O.signal)}))):{$compare:da,$order:O}},event(O,da){const H=O+":"+da;if(!this.events[H]){const ka=this.id();this.streams.push({id:ka,source:O,type:da});this.events[H]=ka}return this.events[H]},hasOwnSignal(O){return k.hasOwnProperty(this.signals,O)},addSignal(O,da){this.hasOwnSignal(O)&&k.error("Duplicate signal name: "+k.stringValue(O));da=da instanceof mb?da:this.add(new mb("operator",
da,void 0,void 0));return this.signals[O]=da},getSignal(O){this.signals[O]||k.error("Unrecognized signal name: "+k.stringValue(O));return this.signals[O]},signalRef(O){if(this.signals[O])return Pa(this.signals[O]);k.hasOwnProperty(this.lambdas,O)||(this.lambdas[O]=this.add(new mb("operator",null,void 0,void 0)));return Pa(this.lambdas[O])},parseLambdas(){const O=Object.keys(this.lambdas);for(let H=0,ka=O.length;H<ka;++H){var da=O[H];const la=P.parseExpression(da,this);da=this.lambdas[da];da.params=
la.$params;da.update=la.$expr}},property(O){return O&&O.signal?this.signalRef(O.signal):O},objectProperty(O){return O&&k.isObject(O)?this.signalRef(O.signal||Cc(O)):O},exprRef(O,da){O={expr:P.parseExpression(O,this)};da&&(O.expr.$name=da);return Pa(this.add(ua(O)))},addBinding(O,da){this.bindings||k.error("Nested signals do not support binding: "+k.stringValue(O));this.bindings.push(k.extend({signal:O},da))},addScaleProj(O,da){k.hasOwnProperty(this.scales,O)&&k.error("Duplicate scale or projection name: "+
k.stringValue(O));this.scales[O]=this.add(da)},addScale(O,da){this.addScaleProj(O,db(da))},addProjection(O,da){this.addScaleProj(O,$c(da))},getScale(O){this.scales[O]||k.error("Unrecognized scale name: "+k.stringValue(O));return this.scales[O]},scaleRef(O){return Pa(this.getScale(O))},scaleType(O){return this.getScale(O).params.type},projectionRef(O){return this.scaleRef(O)},projectionType(O){return this.scaleType(O)},addData(O,da){k.hasOwnProperty(this.data,O)&&k.error("Duplicate data set name: "+
k.stringValue(O));return this.data[O]=da},getData(O){this.data[O]||k.error("Undefined data set name: "+k.stringValue(O));return this.data[O]},addDataPipeline(O,da){k.hasOwnProperty(this.data,O)&&k.error("Duplicate data set name: "+k.stringValue(O));return this.addData(O,Ha.fromEntries(this,da))}};v.AxisDomainRole="axis-domain";v.AxisGridRole="axis-grid";v.AxisLabelRole="axis-label";v.AxisRole="axis";v.AxisTickRole="axis-tick";v.AxisTitleRole="axis-title";v.DataScope=Ha;v.FrameRole="frame";v.LegendEntryRole=
"legend-entry";v.LegendLabelRole="legend-label";v.LegendRole="legend";v.LegendSymbolRole="legend-symbol";v.LegendTitleRole="legend-title";v.MarkRole="mark";v.Scope=Hb;v.ScopeRole="scope";v.config=jd;v.parse=function(O,da,H){k.isObject(O)||k.error("Input Vega specification must be an object.");da=k.mergeConfig(jd(),da,O.config);return ma(O,new Hb(da,H)).toRuntime()};v.signal=lb;v.signalUpdates=Q;v.stream=Fa})};
shadow$provide[63]=function(hc,Db,Wc,ob){function v(Pa){var wb=Object.create(null);Pa&&Object.keys(Pa).forEach(function(sb){if("default"!==sb){var Pb=Object.getOwnPropertyDescriptor(Pa,sb);Object.defineProperty(wb,sb,Pb.get?Pb:{enumerable:!0,get:function(){return Pa[sb]}})}});wb.default=Pa;return Object.freeze(wb)}var k=Db(20),P=Db(28),jb=Db(30),Fb=Db(34),bc=Db(35),vc=Db(37),Bc=Db(38),uc=Db(39),Ab=Db(47),kc=Db(52),Yb=Db(53);Wc=Db(54);hc=Db(55);var Ua=Db(29),tb=Db(22),Jb=Db(27),Kb=Db(33),Cb=Db(32),
Ob=Db(36),ab=Db(60),pb=Db(23),Qa=Db(58),Da=Db(62),Ka=Db(59),lb=Db(56),mb=Db(61);Db=v(jb);Fb=v(Fb);bc=v(bc);vc=v(vc);Bc=v(Bc);uc=v(uc);Ab=v(Ab);kc=v(kc);Yb=v(Yb);Wc=v(Wc);hc=v(hc);k.extend(P.transforms,Db,Fb,bc,vc,Bc,Ab,uc,kc,Yb,Wc,hc);Object.defineProperty(ob,"Dataflow",{enumerable:!0,get:function(){return P.Dataflow}});Object.defineProperty(ob,"EventStream",{enumerable:!0,get:function(){return P.EventStream}});Object.defineProperty(ob,"MultiPulse",{enumerable:!0,get:function(){return P.MultiPulse}});
Object.defineProperty(ob,"Operator",{enumerable:!0,get:function(){return P.Operator}});Object.defineProperty(ob,"Parameters",{enumerable:!0,get:function(){return P.Parameters}});Object.defineProperty(ob,"Pulse",{enumerable:!0,get:function(){return P.Pulse}});Object.defineProperty(ob,"Transform",{enumerable:!0,get:function(){return P.Transform}});Object.defineProperty(ob,"changeset",{enumerable:!0,get:function(){return P.changeset}});Object.defineProperty(ob,"definition",{enumerable:!0,get:function(){return P.definition}});
Object.defineProperty(ob,"ingest",{enumerable:!0,get:function(){return P.ingest}});Object.defineProperty(ob,"isTuple",{enumerable:!0,get:function(){return P.isTuple}});Object.defineProperty(ob,"transform",{enumerable:!0,get:function(){return P.transform}});Object.defineProperty(ob,"transforms",{enumerable:!0,get:function(){return P.transforms}});Object.defineProperty(ob,"tupleid",{enumerable:!0,get:function(){return P.tupleid}});Object.defineProperty(ob,"interpolate",{enumerable:!0,get:function(){return Cb.interpolate}});
Object.defineProperty(ob,"interpolateColors",{enumerable:!0,get:function(){return Cb.interpolateColors}});Object.defineProperty(ob,"interpolateRange",{enumerable:!0,get:function(){return Cb.interpolateRange}});Object.defineProperty(ob,"quantizeInterpolator",{enumerable:!0,get:function(){return Cb.quantizeInterpolator}});Object.defineProperty(ob,"scale",{enumerable:!0,get:function(){return Cb.scale}});Object.defineProperty(ob,"scheme",{enumerable:!0,get:function(){return Cb.scheme}});Object.defineProperty(ob,
"projection",{enumerable:!0,get:function(){return Ob.projection}});Object.defineProperty(ob,"View",{enumerable:!0,get:function(){return ab.View}});Object.defineProperty(ob,"defaultLocale",{enumerable:!0,get:function(){return pb.defaultLocale}});Object.defineProperty(ob,"formatLocale",{enumerable:!0,get:function(){return pb.numberFormatDefaultLocale}});Object.defineProperty(ob,"locale",{enumerable:!0,get:function(){return pb.locale}});Object.defineProperty(ob,"resetDefaultLocale",{enumerable:!0,get:function(){return pb.resetDefaultLocale}});
Object.defineProperty(ob,"timeFormatLocale",{enumerable:!0,get:function(){return pb.timeFormatDefaultLocale}});Object.defineProperty(ob,"expressionFunction",{enumerable:!0,get:function(){return Qa.expressionFunction}});Object.defineProperty(ob,"parse",{enumerable:!0,get:function(){return Da.parse}});Object.defineProperty(ob,"runtimeContext",{enumerable:!0,get:function(){return Ka.context}});Object.defineProperty(ob,"codegenExpression",{enumerable:!0,get:function(){return lb.codegenExpression}});Object.defineProperty(ob,
"parseExpression",{enumerable:!0,get:function(){return lb.parseExpression}});Object.defineProperty(ob,"parseSelector",{enumerable:!0,get:function(){return mb.parseSelector}});ob.version="5.25.0";Object.keys(k).forEach(function(Pa){"default"===Pa||ob.hasOwnProperty(Pa)||Object.defineProperty(ob,Pa,{enumerable:!0,get:function(){return k[Pa]}})});Object.keys(Ua).forEach(function(Pa){"default"===Pa||ob.hasOwnProperty(Pa)||Object.defineProperty(ob,Pa,{enumerable:!0,get:function(){return Ua[Pa]}})});Object.keys(tb).forEach(function(Pa){"default"===
Pa||ob.hasOwnProperty(Pa)||Object.defineProperty(ob,Pa,{enumerable:!0,get:function(){return tb[Pa]}})});Object.keys(Jb).forEach(function(Pa){"default"===Pa||ob.hasOwnProperty(Pa)||Object.defineProperty(ob,Pa,{enumerable:!0,get:function(){return Jb[Pa]}})});Object.keys(Kb).forEach(function(Pa){"default"===Pa||ob.hasOwnProperty(Pa)||Object.defineProperty(ob,Pa,{enumerable:!0,get:function(){return Kb[Pa]}})})};
shadow$provide[64]=function(hc,Db,Wc,ob){var v=Db(26).Buffer;(function(k,P){"object"===typeof ob&&"undefined"!==typeof Wc?P(ob,Db(63)):"function"===typeof define&&define.amd?define(["exports","vega"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,P(k.vegaLite={},k.vega))})(this,function(k,P){function jb(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c["default"]:c}function Fb(c,a){if(c.not)Fb(c.not,a);else if(c.and)for(const d of c.and)Fb(d,a);else if(c.or)for(const d of c.or)Fb(d,
a);else a(c)}function bc(c,a){return c.not?{not:bc(c.not,a)}:c.and?{and:c.and.map(d=>bc(d,a))}:c.or?{or:c.or.map(d=>bc(d,a))}:a(c)}function vc(c){throw Error(c);}function Bc(c,a){const d={};for(const f of a)P.hasOwnProperty(c,f)&&(d[f]=c[f]);return d}function uc(c,a){c=Object.assign({},c);for(const d of a)delete c[d];return c}function Ab(c){if(P.isNumber(c))return c;c=P.isString(c)?c:Tk(c);if(250>c.length)return c;let a=0;for(let d=0;d<c.length;d++){const f=c.charCodeAt(d);a=(a<<5)-a+f;a&=a}return a}
function kc(c){return!1===c||null===c}function Yb(c,a){return c.includes(a)}function Ua(c,a){let d=0;for(const f of c.entries()){const [h,x]=f;if(a(x,h,d++))return!0}return!1}function tb(c,a){let d=0;for(const f of c.entries()){const [h,x]=f;if(!a(x,h,d++))return!1}return!0}function Jb(c){for(var a=arguments.length,d=Array(1<a?a-1:0),f=1;f<a;f++)d[f-1]=arguments[f];for(const h of d){let x;a=c;d=null!=(x=h)?x:{};for(const G of ce(d))P.writeConfig(a,G,d[G],!0)}return c}function Kb(c,a){const d=[],f=
{};for(const h of c)c=a(h),c in f||(f[c]=1,d.push(h));return d}function Cb(c,a){if(c.size!==a.size)return!1;for(const d of c)if(!a.has(d))return!1;return!0}function Ob(c,a){for(const d of c)if(a.has(d))return!0;return!1}function ab(c){const a=new Set;for(const d of c){const f=P.splitAccessPath(d).map((h,x)=>0===x?h:`[${h}]`);c=f.map((h,x)=>f.slice(0,x+1).join(""));for(const h of c)a.add(h)}return a}function pb(c,a){return void 0===c||void 0===a?!0:Ob(ab(c),ab(a))}function Qa(c){return 0===ce(c).length}
function Da(c){return!0===c||!1===c}function Ka(c){const a=c.replace(/\W/g,"_");return(c.match(/^\d+/)?"_":"")+a}function lb(c,a){return c.not?`!(${lb(c.not,a)})`:c.and?`(${c.and.map(d=>lb(d,a)).join(") \x26\x26 (")})`:c.or?`(${c.or.map(d=>lb(d,a)).join(") || (")})`:a(c)}function mb(c,a){if(0===a.length)return!0;const d=a.shift();d in c&&mb(c[d],a)&&delete c[d];return Qa(c)}function Pa(c){return c.charAt(0).toUpperCase()+c.substr(1)}function wb(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
"datum";const d=P.splitAccessPath(c),f=[];for(let h=1;h<=d.length;h++){const x=`[${d.slice(0,h).map(P.stringValue).join("][")}]`;f.push(`${a}${x}`)}return f.join(" \x26\x26 ")}function sb(c){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${P.stringValue(P.splitAccessPath(c).join("."))}]`}function Pb(c){return c.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Vb(c){return`${P.splitAccessPath(c).map(Pb).join("\\.")}`}function nb(c,a,d){return c.replace(new RegExp(a.replace(/[-/\\^$*+?.()|[\]{}]/g,
"\\$\x26"),"g"),d)}function qa(c){return`${P.splitAccessPath(c).join(".")}`}function Z(c){return c?P.splitAccessPath(c).length:0}function Fa(){for(var c=arguments.length,a=Array(c),d=0;d<c;d++)a[d]=arguments[d];for(const f of a)if(void 0!==f)return f}function Ga(c){const a=++Nk;return c?String(c)+a:a}function eb(c){return ba(c)?c:`__${c}`}function ba(c){return c.startsWith("__")}function oa(c){if(void 0!==c)return(c%360+360)%360}function q(c){return P.isNumber(c)?!0:!isNaN(c)&&!isNaN(parseFloat(c))}
function M(c){switch(c){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function Q(c){return"color"===c||"fill"===c||"stroke"===c}function g(c){return u(c)!==c}function u(c){switch(c){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return c}function m(c){if(c in kk)switch(c){case "theta":return"startAngle";case "theta2":return"endAngle";
case "radius":return"outerRadius";case "radius2":return"innerRadius"}return c}function C(c){switch(c){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function B(c){switch(c){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function A(c){switch(c){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";
case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function D(c){switch(c){case "x":return"xOffset";case "y":return"yOffset"}}function I(c){switch(c){case "xOffset":return"x";case "yOffset":return"y"}}function V(c){return c in Rj}function Aa(c){return"width"===c?"x":"y"}function Y(c){switch(c){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return xl;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return ak;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function t(c){switch(c){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function L(c){return!!c&&!!c.argmin}function va(c){return!!c&&!!c.argmax}function La(c){return P.isString(c)&&!!Ml[c]}function Wa(c){return P.isString(c)&&Tl.has(c)}function $a(c){P.isBoolean(c)&&(c=wf(c,void 0));return"bin"+ce(c).map(a=>Xa(c[a])?Ka(`_${a}_${Zi(c[a])}`):Ka(`_${a}_${c[a]}`)).join("")}function X(c){return!0===c||P.isObject(c)&&!c.binned}function Ca(c){return"binned"===c||P.isObject(c)&&!0===c.binned}function Xa(c){return null==
c?void 0:c.param}function Ib(c){switch(c){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function yc(c){return!(null==c||!c.expr)}function qc(c){const a=ce(c||{}),d={};for(const f of a)d[f]=Ub(c[f]);return d}function xc(c){var a=Object.assign({},c),d=c.anchor;const f=c.frame,h=c.offset,x=c.orient,G=c.angle,ea=c.limit;var sa=c.color,
Ia=c.subtitleColor;const ib=c.subtitleFont,Nb=c.subtitleFontSize,sc=c.subtitleFontStyle,ld=c.subtitleFontWeight,Kc=c.subtitleLineHeight,cd=c.subtitlePadding;a=(delete a.anchor,delete a.frame,delete a.offset,delete a.orient,delete a.angle,delete a.limit,delete a.color,delete a.subtitleColor,delete a.subtitleFont,delete a.subtitleFontSize,delete a.subtitleFontStyle,delete a.subtitleFontWeight,delete a.subtitleLineHeight,delete a.subtitlePadding,a);sa=Object.assign({},a,sa?{fill:sa}:{});d=Object.assign({},
d?{anchor:d}:{},f?{frame:f}:{},h?{offset:h}:{},x?{orient:x}:{},void 0!==G?{angle:G}:{},void 0!==ea?{limit:ea}:{});Ia=Object.assign({},Ia?{subtitleColor:Ia}:{},ib?{subtitleFont:ib}:{},Nb?{subtitleFontSize:Nb}:{},sc?{subtitleFontStyle:sc}:{},ld?{subtitleFontWeight:ld}:{},Kc?{subtitleLineHeight:Kc}:{},cd?{subtitlePadding:cd}:{});c=Bc(c,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:sa,subtitleMarkConfig:c,nonMarkTitleProperties:d,subtitle:Ia}}function dd(c){return P.isString(c)||P.isArray(c)&&
P.isString(c[0])}function Zb(c){return!(null==c||!c.signal)}function Rc(c){return!!c.step}function Pd(c){return P.isArray(c)?!1:"field"in c&&"data"in c}function Na(c){const a=P.isArray(c.condition)?c.condition.map(qb):qb(c.condition);return Object.assign({},Ub(c),{condition:a})}function Ub(c){if(yc(c)){var a=Object.assign({},c);c=c.expr;a=(delete a.expr,a);return Object.assign({},{signal:c},a)}return c}function qb(c){if(yc(c)){var a=Object.assign({},c);c=c.expr;a=(delete a.expr,a);return Object.assign({},
{signal:c},a)}return c}function Sb(c){if(yc(c)){var a=Object.assign({},c);c=c.expr;a=(delete a.expr,a);return Object.assign({},{signal:c},a)}return Zb(c)?c:void 0!==c?{value:c}:void 0}function ic(c){return Zb(c)?c.signal:P.stringValue(c.value)}function dc(c){return Zb(c)?c.signal:null==c?null:P.stringValue(c)}function Ic(c){let a;return[].concat(c.type,null!=(a=c.style)?a:[])}function zc(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:h,ignoreVgConfig:x}=f;
if(h&&void 0!==a[h])return a[h];if(void 0!==a[c])return a[c];if(!x||h&&h!==c)return Yc(c,a,d,f)}function Yc(c,a,d){let {vgChannel:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return Fa(f?Md(c,a,d.style):void 0,Md(c,a,d.style),f?d[a.type][f]:void 0,d[a.type][c],f?d.mark[f]:d.mark[c])}function Md(c,a,d){return ud(c,Ic(a),d)}function ud(c,a,d){a=P.array(a);let f;for(const h of a)(a=d[h])&&void 0!==a[c]&&(f=a[c]);return f}function Ha(c,a){return P.array(c).reduce((d,f)=>{d.field.push(Oc(f,
a));let h;d.order.push(null!=(h=f.sort)?h:"ascending");return d},{field:[],order:[]})}function gb(c,a){const d=[...c];a.forEach(f=>{for(const h of d)if(Bi(h,f))return;d.push(f)});return d}function vb(c,a){return Bi(c,a)||!a?c:c?[...P.array(c),...P.array(a)].join(", "):a}function ta(c,a){const d=c.value;a=a.value;if(null==d||null===a)return{explicit:c.explicit,value:null};if((dd(d)||Zb(d))&&(dd(a)||Zb(a)))return{explicit:c.explicit,value:vb(d,a)};if(dd(d)||Zb(d))return{explicit:c.explicit,value:d};
if(dd(a)||Zb(a))return{explicit:c.explicit,value:a};if(!(dd(d)||Zb(d)||dd(a)||Zb(a)))return{explicit:c.explicit,value:gb(d,a)};throw Error("It should never reach here");}function F(c,a,d){a:if("object"===typeof a&&null!==a){var f=a[Symbol.toPrimitive];if(void 0!==f){a=f.call(a,"string");if("object"!==typeof a)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}a="symbol"===typeof a?a:String(a);a in c?Object.defineProperty(c,a,{value:d,enumerable:!0,configurable:!0,
writable:!0}):c[a]=d;return c}function ya(c,a,d){a=Oa(c,a,"set");if(a.set)a.set.call(c,d);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=d}return d}function Oa(c,a,d){if(!a.has(c))throw new TypeError("attempted to "+d+" private field on non-instance");return a.get(c)}function Za(c){return`Invalid specification ${Ag(c)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function kb(c){return`${"width"==c?"Width":"Height"} "container" only works for single views and layered views.`}function Eb(c){return`${"width"==c?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==c?"x":"y"}".`}function oc(c){return c?`Dropping "fit-${c}" because spec has discrete ${B(c)}.`:'Dropping "fit" because spec has discrete size.'}function ec(c){return`Unknown field for ${c}. Cannot calculate view size.`}function jc(c){return`Cannot project a selection on encoding channel "${c}", which has no field.`}
function Sc(c){return`Selection not supported for ${c} yet.`}function ed(c){return`The "columns" property cannot be used when "${c}" has nested row/column.`}function fd(c,a,d){return`An ancestor parsed field "${c}" as ${d} but a child wants to parse the field as ${a}.`}function Qd(c){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${c} are dropped.`}function Td(c,a){const {fill:d,stroke:f}=a;return`Dropping color ${c} as the plot also has ${d&&f?"fill and stroke":
d?"fill":"stroke"}.`}function Ed(c,a){return`Dropping ${Ag(c)} from channel "${a}" since it does not contain any data field, datum, value, or signal.`}function Yd(c,a,d){return`${c} dropped as it is incompatible with "${a}"${d?` when ${d}`:""}.`}function ae(c,a){return`Using discrete channel "${c}" to encode "${a}" field can be misleading as it does not encode ${"ordinal"===a?"order":"magnitude"}.`}function Ud(c,a,d){return`${d}-scale's "${a}" is dropped as it does not work with ${c} scale.`}function Xe(c){return`The step for "${c}" is dropped because the ${"width"===
c?"x":"y"} is continuous.`}function Wd(c,a){return`Invalid ${c}: ${Ag(a)}.`}function N(c){return`1D error band does not support ${c}.`}function ma(c){return`Channel ${c} is required for "binned" bin.`}function za(){Ak.warn(...arguments)}function fb(){Ak.debug(...arguments)}function Hb(c){if(c&&P.isObject(c))for(const a of Yk)if(a in c)return!0;return!1}function Xb(c){q(c)&&(c=+c);if(P.isNumber(c))return c-1;var a=c.toLowerCase();const d=pj.indexOf(a);if(-1!==d)return d;a=a.substr(0,3);a=vi.indexOf(a);
if(-1!==a)return a;throw Error(Wd("month",c));}function Cc(c){q(c)&&(c=+c);if(P.isNumber(c))return c%7;var a=c.toLowerCase();const d=xj.indexOf(a);if(-1!==d)return d;a=a.substr(0,3);a=Ii.indexOf(a);if(-1!==a)return a;throw Error(Wd("day",c));}function mc(c,a){const d=[];a&&void 0!==c.day&&1<ce(c).length&&(za(`Dropping day from datetime ${Ag(c)} as day cannot be combined with other units.`),c=vf(c),delete c.day);void 0!==c.year?d.push(c.year):d.push(2012);if(void 0!==c.month){var f=a?Xb(c.month):c.month;
d.push(f)}else if(void 0!==c.quarter){if(a)if(f=c.quarter,q(f)&&(f=+f),P.isNumber(f))4<f&&za(Wd("quarter",f)),--f;else throw Error(Wd("quarter",f));else f=c.quarter;d.push(P.isNumber(f)?3*f:`${f}*3`)}else d.push(0);void 0!==c.date?d.push(c.date):void 0!==c.day?(a=a?Cc(c.day):c.day,d.push(P.isNumber(a)?a+1:`${a}+1`)):d.push(1);for(const h of["hours","minutes","seconds","milliseconds"])a=c[h],d.push("undefined"===typeof a?0:a);return d}function Hc(c){const a=mc(c,!0).join(", ");return c.utc?`utc(${a})`:
`datetime(${a})`}function jd(c){const a=mc(c,!0);return c.utc?+new Date(Date.UTC(...a)):+new Date(...a)}function Nc(c){return Yk.filter(a=>Gd(c,a))}function vd(c){c=Nc(c);return c[c.length-1]}function Gd(c,a){const d=c.indexOf(a);return 0>d||0<d&&"seconds"===a&&"i"===c.charAt(d-1)||c.length>d+3&&"day"===a&&"o"===c.charAt(d+3)||0<d&&"year"===a&&"f"===c.charAt(d-1)?!1:!0}function Fd(c,a){var {end:d}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{end:!1};const f=wb(a),h=c.startsWith("utc")?
"utc":"";const x={};for(const ea of Yk)if(Gd(c,ea)){var G="quarter"===ea?`(${h}quarter(${f})-1)`:`${h}${ea}(${f})`;x[ea]=G;G=ea}d&&(x[G]+="+1");d=mc(x,!1).join(", ");return x.utc?`utc(${d})`:`datetime(${d})`}function Xd(c){if(c)return c=Nc(c),`timeUnitSpecifier(${Ag(c)}, ${Ag($l)})`}function Nd(c){if(c){var a;P.isString(c)?a={unit:c}:P.isObject(c)&&(a=Object.assign({},c,c.unit?{unit:c.unit}:{}));a.unit.startsWith("utc")&&(a.utc=!0,a.unit=a.unit.substr(3));return a}}function qe(c){var a=Nd(c);c=Object.assign({},
a);a=a.utc;const d=(delete c.utc,c);return d.unit?(a?"utc":"")+ce(d).map(f=>Ka(`${"unit"===f?"":`_${f}_`}${d[f]}`)).join(""):(a?"utc":"")+"timeunit"+ce(d).map(f=>Ka(`_${f}_${d[f]}`)).join("")}function De(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h=>h;var d=Nd(c),f=vd(d.unit);if(f&&"day"!==f){const h={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};d=d.step||1;f=Object.assign({},h,"quarter"===f?{month:+h.month+3*d}:"week"===f?{date:+h.date+7*d}:{[f]:+h[f]+
d});return`${a(Hc(f))} - ${a(Hc(h))}`}}function gf(c){return!(null==c||!c.field)&&void 0!==c.equal}function cf(c){return!(null==c||!c.field)&&void 0!==c.lt}function df(c){return!(null==c||!c.field)&&void 0!==c.lte}function pe(c){return!(null==c||!c.field)&&void 0!==c.gt}function nf(c){return!(null==c||!c.field)&&void 0!==c.gte}function U(c){if(null==c?0:c.field)if(P.isArray(c.range)&&2===c.range.length||Zb(c.range))return!0;return!1}function ua(c){return!(null==c||!c.field)&&(P.isArray(c.oneOf)||
P.isArray(c.in))}function cb(c){return ua(c)||gf(c)||U(c)||cf(c)||pe(c)||df(c)||nf(c)}function yb(c,a){return ag(c,{timeUnit:a,wrapTime:!0})}function gc(c,a){return c.map(d=>yb(d,a))}function Ec(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:d}=c,f;const h=null==(f=Nd(c.timeUnit))?void 0:f.unit;d=h?`time(${Fd(h,d)})`:Oc(c,{expr:"datum"});if(gf(c))return`${d}===${yb(c.equal,h)}`;if(cf(c))return`${d}<${yb(c.lt,h)}`;if(pe(c))return`${d}>${yb(c.gt,h)}`;if(df(c))return`${d}<=${yb(c.lte,
h)}`;if(nf(c))return`${d}>=${yb(c.gte,h)}`;if(ua(c))return`indexof([${gc(c.oneOf,h).join(",")}], ${d}) !== -1`;if(null!=c&&c.field&&void 0!==c.valid)return $b(d,c.valid);if(U(c)){var {range:x}=c;f=Zb(x)?{signal:`${x.signal}[0]`}:x[0];x=Zb(x)?{signal:`${x.signal}[1]`}:x[1];if(null!==f&&null!==x&&a)return"inrange("+d+", ["+yb(f,h)+", "+yb(x,h)+"])";a=[];null!==f&&a.push(`${d} >= ${yb(f,h)}`);null!==x&&a.push(`${d} <= ${yb(x,h)}`);return 0<a.length?a.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${Ag(c)}`);
}function $b(c){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${c}) && isFinite(+${c})`:`!isValid(${c}) || !isFinite(+${c})`}function J(c){if(cb(c)&&c.timeUnit){let a;return Object.assign({},c,{timeUnit:null==(a=Nd(c.timeUnit))?void 0:a.unit})}return c}function fa(c){return"quantitative"===c||"temporal"===c}function Sa(c){return"ordinal"===c||"nominal"===c}function cc(c){if(c)switch(c=c.toLowerCase(),c){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";
case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Jc(c){return pk.has(c)}function Ac(c){return Ki.has(c)}function $c(c,a){switch(a){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(c);case "bins":return!["point","band","identity","ordinal"].includes(c);case "round":return Jg.has(c)||"band"===c||"point"===c;case "padding":case "rangeMin":case "rangeMax":return Jg.has(c)||
["point","band"].includes(c);case "paddingOuter":case "align":return["point","band"].includes(c);case "paddingInner":return"band"===c;case "domainMax":case "domainMid":case "domainMin":case "clamp":return Jg.has(c);case "nice":return Jg.has(c)||"quantize"===c||"threshold"===c;case "exponent":return"pow"===c;case "base":return"log"===c;case "constant":return"symlog"===c;case "zero":return Ac(c)&&!Yb(["log","time","utc","threshold","quantile"],c)}}function pd(c,a){switch(a){case "interpolate":case "scheme":case "domainMid":if(!Q(c))return`Cannot use the scale property "${a}" with non-color channel.`}}
function ee(c,a){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!mi[c])return!1;switch(c){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return Jg.has(a)||"band"===a?!0:"point"===a?!d:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return Jg.has(a)||$h.has(a)||Yb(["band","point","ordinal"],a);case "color":case "fill":case "stroke":return"band"!==a;case "strokeDash":case "shape":return"ordinal"===
a||$h.has(a)}}function Ra(c){return["line","area","trail"].includes(c)}function db(c){return c.type}function pc(c){return c&&void 0!=c.band}function wd(c){const {channel:a,channelDef:d,markDef:f,scale:h,config:x}=c;c=td(c);if(la(d)&&!Wa(d.aggregate)&&h&&Jg.has(h.get("type"))){{let {fieldDef:ea,channel:sa,markDef:Ia,ref:ib,config:Nb}={fieldDef:d,channel:a,markDef:f,ref:c,config:x};if(Ra(Ia.type))c=ib;else if(null===zc("invalid",Ia,Nb)){var G=sa;c=Mc(ea,!0);G="y"===u(G)?{field:{group:"height"}}:{value:0};
c=[Object.assign({},{test:c},G),ib]}else c=ib}return c}return c}function Mc(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return $b(P.isString(c)?c:Oc(c,{expr:"datum"}),!a)}function Uc(c,a,d,f){const h={};a&&(h.scale=a);hb(c)?({datum:c}=c,Hb(c)?h.signal=Hc(c):Zb(c)?h.signal=c.signal:yc(c)?h.signal=c.expr:h.value=c):h.field=Oc(c,d);if(f){const {offset:x,band:G}=f;x&&(h.offset=x);G&&(h.band=G)}return h}function Qc(c){let {scaleName:a,fieldOrDatumDef:d,fieldOrDatumDef2:f,offset:h,
startSuffix:x,bandPosition:G=.5}=c;var ea=0<G&&1>G?"datum":void 0;c=Oc(d,{expr:ea,suffix:x});const sa=void 0!==f?Oc(f,{expr:ea}):Oc(d,{suffix:"end",expr:ea});ea={};0===G||1===G?(ea.scale=a,ea.field=0===G?c:sa):(c=Zb(G)?`${G.signal} * ${c} + (1-${G.signal}) * ${sa}`:`${G} * ${c} + ${1-G} * ${sa}`,ea.signal=`scale("${a}", ${c})`);h&&(ea.offset=h);return ea}function td(c){let {channel:a,channelDef:d,channel2Def:f,markDef:h,config:x,scaleName:G,scale:ea,stack:sa,offset:Ia,defaultRef:ib,bandPosition:Nb}=
c;if(d){if(Wb(d)){c=null==ea?void 0:ea.get("type");if(Dc(d)){null!=Nb||(Nb=$d({fieldDef:d,fieldDef2:f,markDef:h,config:x}));const {bin:Kc,timeUnit:cd,type:rd}=d;if(X(Kc)||Nb&&cd&&"temporal"===rd)return(null==sa?0:sa.impute)?Uc(d,G,{binSuffix:"mid"},{offset:Ia}):Nb&&!Jc(c)?Qc({scaleName:G,fieldOrDatumDef:d,bandPosition:Nb,offset:Ia}):Uc(d,G,hf(d,a)?{binSuffix:"range"}:{},{offset:Ia});if(Ca(Kc)){if(la(f))return Qc({scaleName:G,fieldOrDatumDef:d,fieldOrDatumDef2:f,bandPosition:Nb,offset:Ia});za(ma("x"===
a?"x2":"y2"))}}var sc;let ld;return Uc(d,G,Jc(c)?{binSuffix:"range"}:{},{offset:Ia,band:"band"===c?null!=(ld=null!=(sc=Nb)?sc:d.bandPosition)?ld:.5:void 0})}if(yd(d))return sc=Ia?{offset:Ia}:{},Object.assign({},kd(a,d.value),sc)}P.isFunction(ib)&&(ib=ib());return ib?Object.assign({},ib,Ia?{offset:Ia}:{}):ib}function kd(c,a){return Yb(["x","x2"],c)&&"width"===a?{field:{group:"width"}}:Yb(["y","y2"],c)&&"height"===a?{field:{group:"height"}}:Sb(a)}function Ld(c){return c&&"number"!==c&&"time"!==c}function Cd(c){let {fieldOrDatumDef:a,
format:d,formatType:f,expr:h,normalizeStack:x,config:G}=c;if(Ld(f))return ve({fieldOrDatumDef:a,format:d,formatType:f,expr:h,config:G});c=be(a,h,x);var ea=Ja(a);if(void 0===d&&void 0===f&&G.customFormatTypes){if("quantitative"===ea){if(x&&G.normalizedNumberFormatType)return ve({fieldOrDatumDef:a,format:G.normalizedNumberFormat,formatType:G.normalizedNumberFormatType,expr:h,config:G});if(G.numberFormatType)return ve({fieldOrDatumDef:a,format:G.numberFormat,formatType:G.numberFormatType,expr:h,config:G})}if("temporal"===
ea&&G.timeFormatType&&la(a)&&void 0===a.timeUnit)return ve({fieldOrDatumDef:a,format:G.timeFormat,formatType:G.timeFormatType,expr:h,config:G})}if(af(a)){var sa,Ia;{c={field:c,timeUnit:la(a)?null==(sa=Nd(a.timeUnit))?void 0:sa.unit:void 0,format:d,formatType:G.timeFormatType,rawTimeFormat:G.timeFormat,isUTCScale:Zc(a)&&(null==(Ia=a.scale)?void 0:Ia.type)===Kh.UTC};let {field:ib,timeUnit:Nb,format:sc,formatType:ld,rawTimeFormat:Kc,isUTCScale:cd}=c;!Nb||sc?!Nb&&ld?sa=`${ld}(${ib}, '${sc}')`:(sc=P.isString(sc)?
sc:Kc,sa=`${cd?"utc":"time"}Format(${ib}, '${sc}')`):(sa=Nb,Ia=ib,c=cd,sa?(ea=Xd(sa),sa=`${c||sa.startsWith("utc")?"utc":"time"}Format(${Ia}, ${ea})`):sa=void 0)}return sa?{signal:sa}:void 0}d=sf({type:ea,specifiedFormat:d,config:G,normalizeStack:x});return la(a)&&X(a.bin)?(sa=Oc(a,{expr:h,binSuffix:"end"}),{signal:Fc(c,sa,d,f,G)}):d||"quantitative"===Ja(a)?{signal:`${`format(${c}, "${d||""}")`}`}:{signal:`isValid(${c}) ? ${c} : ""+${c}`}}function be(c,a,d){if(la(c))return d?`${Oc(c,{expr:a,suffix:"end"})}-${Oc(c,
{expr:a,suffix:"start"})}`:Oc(c,{expr:a});({datum:c}=c);c=Hb(c)?Hc(c):`${Ag(c)}`;return c}function ve(c){let {fieldOrDatumDef:a,format:d,formatType:f,expr:h,normalizeStack:x,config:G,field:ea}=c;null!=ea||(ea=be(a,h,x));return"datum.value"!==ea&&la(a)&&X(a.bin)?(c=Oc(a,{expr:h,binSuffix:"end"}),{signal:Fc(ea,c,d,f,G)}):{signal:`${f}(${ea}${d?`, ${Ag(d)}`:""})`}}function Me(c,a,d,f,h,x){if(!P.isString(f)||!Ld(f))if(void 0!==d||void 0!==f||!h.customFormatTypes||"quantitative"!==Ja(c)||!(h.normalizedNumberFormatType&&
hd(c)&&"normalize"===c.stack||h.numberFormatType)){if(hd(c)&&"normalize"===c.stack&&h.normalizedNumberFormat)return sf({type:"quantitative",config:h,normalizeStack:!0});if(af(c)){let G;c=la(c)?null==(G=Nd(c.timeUnit))?void 0:G.unit:void 0;if(void 0===c&&h.customFormatTypes&&h.timeFormatType)return;{let {specifiedFormat:ea,timeUnit:sa,config:Ia,omitTimeFormatConfig:ib}={specifiedFormat:d,timeUnit:c,config:h,omitTimeFormatConfig:x};d=ea?ea:sa?{signal:Xd(sa)}:ib?void 0:Ia.timeFormat}return d}return sf({type:a,
specifiedFormat:d,config:h})}}function $e(c,a,d){if(c&&(Zb(c)||"number"===c||"time"===c))return c;if(af(a)&&"time"!==d&&"utc"!==d){let f;return la(a)&&(null==(f=Nd(null==a?void 0:a.timeUnit))?0:f.utc)?"utc":"time"}}function sf(c){let {type:a,specifiedFormat:d,config:f,normalizeStack:h}=c;if(P.isString(d))return d;if("quantitative"===a)return h?f.normalizedNumberFormat:f.numberFormat}function nd(c,a,d,f){if(Ld(d))return`${d}(${c}${a?`, ${Ag(a)}`:""})`;let h;a=null!=(h=P.isString(a)?a:void 0)?h:f.numberFormat;
return`format(${c}, "${a||""}")`}function Fc(c,a,d,f,h){if(void 0===d&&void 0===f&&h.customFormatTypes&&h.numberFormatType)return Fc(c,a,h.numberFormat,h.numberFormatType,h);const x=nd(c,d,f,h);a=nd(a,d,f,h);return`${$b(c,!1)} ? "null" : ${x} + "${"  "}" + ${a}`}function bd(c){return c&&("count"===c.op||!!c.field)}function Gc(c){return c&&P.isArray(c)}function Jd(c){return"row"in c||"column"in c}function Zd(c){const {field:a,timeUnit:d,bin:f,aggregate:h}=c;return Object.assign({},d?{timeUnit:d}:
{},f?{bin:f}:{},h?{aggregate:h}:{},{field:a})}function $d(c){let {fieldDef:a,fieldDef2:d,markDef:f,config:h}=c;if(Wb(a)&&void 0!==a.bandPosition)return a.bandPosition;if(la(a)){const {timeUnit:x,bin:G}=a;if(x&&!d)return["rect","bar","image","arc"].includes(f.type)?0:Yc("timeUnitBandPosition",f,h);if(X(G))return.5}}function ke(c){let {channel:a,fieldDef:d,fieldDef2:f,markDef:h,config:x,scaleType:G,useVlSizeChannel:ea}=c;c=B(a);c=zc(ea?"size":c,h,x,{vgChannel:c});if(void 0!==c)return c;if(la(d)){const {timeUnit:sa,
bin:Ia}=d;if(sa&&!f)return{band:Yc("timeUnitBandSize",h,x)};if(X(Ia)&&!Jc(G))return{band:1}}if(["rect","bar","image","arc"].includes(h.type)){if(G){if(Jc(G)){let ib;return(null==(ib=x[h.type])?void 0:ib.discreteBandSize)||{band:1}}let Ia;return null==(Ia=x[h.type])?void 0:Ia.continuousBandSize}let sa;return null==(sa=x[h.type])?void 0:sa.discreteBandSize}}function O(c,a,d,f){return X(c.bin)||c.timeUnit&&Dc(c)&&"temporal"===c.type?void 0!==$d({fieldDef:c,fieldDef2:a,markDef:d,config:f}):!1}function da(c){return c&&
"condition"in c}function H(c){c=null==c?void 0:c.condition;return!!c&&!P.isArray(c)&&la(c)}function ka(c){c=null==c?void 0:c.condition;return!!c&&!P.isArray(c)&&Wb(c)}function la(c){return c&&(!!c.field||"count"===c.aggregate)}function Ja(c){return null==c?void 0:c.type}function hb(c){return c&&"datum"in c}function fc(c){return Dc(c)&&!Ee(c)||tc(c)}function rc(c){return Dc(c)&&"quantitative"===c.type&&!c.bin||tc(c)}function tc(c){return hb(c)&&P.isNumber(c.datum)}function Wb(c){return la(c)||hb(c)}
function Dc(c){return c&&("field"in c||"count"===c.aggregate)&&"type"in c}function yd(c){return c&&"value"in c&&"value"in c}function Zc(c){return c&&("scale"in c||"sort"in c)}function hd(c){return c&&("axis"in c||"stack"in c||"impute"in c)}function Ad(c){return c&&("format"in c||"formatType"in c)}function Hd(c){return uc(c,["legend","axis","header","scale"])}function Oc(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=c.field;const f=a.prefix;let h=a.suffix,x="";if("count"===c.aggregate)d=
eb("count");else{let G;if(!a.nofn)if("op"in c)G=c.op;else{const {bin:ea,aggregate:sa,timeUnit:Ia}=c;if(X(ea)){G=$a(ea);let ib,Nb;h=(null!=(ib=a.binSuffix)?ib:"")+(null!=(Nb=a.suffix)?Nb:"")}else if(sa)va(sa)?(x=`["${d}"]`,d=`argmax_${sa.argmax}`):L(sa)?(x=`["${d}"]`,d=`argmin_${sa.argmin}`):G=String(sa);else if(Ia){G=qe(Ia);let ib;h=(!["range","mid"].includes(a.binSuffix)&&a.binSuffix||"")+(null!=(ib=a.suffix)?ib:"")}}G&&(d=d?`${G}_${d}`:G)}h&&(d=`${d}_${h}`);f&&(d=`${f}_${d}`);return a.forAs?qa(d):
a.expr?sb(d,a.expr)+x:Vb(d)+x}function Ee(c){switch(c.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return la(c)&&!!c.bin;case "temporal":return!1}throw Error(`Invalid field type "${c.type}".`);}function Ge(c,a){const {field:d,bin:f,timeUnit:h,aggregate:x}=c;if("count"===x)return a.countTitle;if(X(f))return`${d} (binned)`;if(h){let G;if(c=null==(G=Nd(h))?void 0:G.unit)return`${d} (${Nc(c).join("-")})`}else if(x)return va(x)?`${d} for max ${x.argmax}`:L(x)?`${d} for min ${x.argmin}`:
`${Pa(x)} of ${d}`;return d}function Ae(c,a,d){let {allowDisabling:f,includeDefault:h=!0}=d,x;d=null==(x=Be(c))?void 0:x.title;if(!la(c))return null!=d?d:c.title;a=h?Qi(c,a):void 0;if(f)return Fa(d,c.title,a);let G;return null!=(G=null!=d?d:c.title)?G:a}function Be(c){if(hd(c)&&c.axis)return c.axis;if(c&&"legend"in c&&c.legend)return c.legend;if(c&&"header"in c&&c.header)return c.header}function Id(c){if(Ad(c)){const {format:h,formatType:x}=c;return{format:h,formatType:x}}let a;c=null!=(a=Be(c))?
a:{};const {format:d,formatType:f}=c;return{format:d,formatType:f}}function he(c,a){switch(a){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in c&&P.isArray(c.sort))return"ordinal";const {aggregate:d,bin:f,timeUnit:h}=c;if(h)return"temporal";if(f||d&&!va(d)&&!L(d))return"quantitative";let x;if(Zc(c)&&(null==(x=c.scale)?0:x.type))switch($i[c.scale.type]){case "numeric":case "discretizing":return"quantitative";
case "time":return"temporal"}return"nominal"}function xe(c){if(la(c))return c;if(H(c))return c.condition}function Le(c){if(Wb(c))return c;if(ka(c))return c.condition}function of(c,a,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return P.isString(c)||P.isNumber(c)||P.isBoolean(c)?(f=P.isString(c)?"string":P.isNumber(c)?"number":"boolean",za(`Channel ${a} is a ${f}. Converted to {value: ${Ag(c)}}.`),{value:c}):Wb(c)?Ve(c,a,d,f):ka(c)?Object.assign({},c,{condition:Ve(c.condition,
a,d,f)}):c}function Ve(c,a,d,f){if(Ad(c)){var h=Object.assign({},c),x=c.formatType;h=(delete h.format,delete h.formatType,h);if(Ld(x)&&!d.customFormatTypes)return za(Qd(a)),Ve(h,a,d,f)}else if((x=hd(c)?"axis":c&&"legend"in c?"legend":c&&"header"in c?"header":null)&&c[x]){var G=c[x];h=Object.assign({},G);G=G.formatType;h=(delete h.format,delete h.formatType,h);if(Ld(G)&&!d.customFormatTypes)return za(Qd(a)),Ve(Object.assign({},c,{[x]:h}),a,d,f)}if(la(c))return we(c,a,f);a=c.type;a||({datum:a}=c,a=
P.isNumber(a)?"quantitative":P.isString(a)?"nominal":Hb(a)?"temporal":void 0,c=Object.assign({},c,{type:a}));return c}function we(c,a){var {compositeMark:d=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:f,timeUnit:h,bin:x,field:G}=c,ea=Object.assign({},c);d||!f||La(f)||va(f)||L(f)||(za(`Invalid aggregation operator "${f}".`),delete ea.aggregate);h&&(ea.timeUnit=Nd(h));G&&(ea.field=`${G}`);X(x)&&(ea.bin=wf(x,a));Ca(x)&&!V(a)&&za(`Channel ${a} should not be used with "binned" bin.`);
if(Dc(ea)){({type:d}=ea);var sa=cc(d);d!==sa&&(ea.type=sa);"quantitative"!==d&&Wa(f)&&(za(`Invalid field type "${d}" for aggregate: "${f}", using "quantitative" instead.`),ea.type="quantitative")}else g(a)||(d=he(ea,a),ea.type=d);if(Dc(ea)){const {compatible:ib,warning:Nb}=Pf(ea,a)||{};!1===ib&&za(Nb)}if("sort"in ea&&P.isString(ea.sort)){({sort:d}=ea);if(d in hj)return Object.assign({},ea,{sort:{encoding:d}});sa=d.substr(1);if("-"===d.charAt(0)&&sa in hj)return Object.assign({},ea,{sort:{encoding:sa,
order:"descending"}})}if(ea&&"header"in ea&&({header:d}=ea,d)){var Ia=d;sa=Object.assign({},Ia);Ia=Ia.orient;sa=(delete sa.orient,sa);if(Ia)return Object.assign({},ea,{header:Object.assign({},sa,{labelOrient:d.labelOrient||Ia,titleOrient:d.titleOrient||Ia})})}return ea}function wf(c,a){return P.isBoolean(c)?{maxbins:Ib(a)}:"binned"===c?{binned:!0}:c.maxbins||c.step?c:Object.assign({},c,{maxbins:Ib(a)})}function Pf(c,a){var d=c.type;if("geojson"===d&&"shape"!==a)return{compatible:!1,warning:`Channel ${a} should not be used with a geojson data.`};
switch(a){case "row":case "column":case "facet":return Ee(c)?Th:{compatible:!1,warning:`${a} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Th;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==d?{compatible:!1,warning:`Channel ${a} should be used with a quantitative field only, not ${c.type} field.`}:
Th;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==d||c.sort?Th:{compatible:!1,warning:`Channel ${a} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(d=!Ee(c)){let f;d=!(Zc(c)&&$h.has(null==(f=c.scale)?void 0:f.type))}return d?{compatible:!1,warning:`${a} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:
Th;case "order":return"nominal"!==c.type||"sort"in c?Th:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function af(c){var {formatType:a}=Id(c),d;if(!(d="time"===a)){if(a=!a)a=c&&("temporal"===c.type||la(c)&&!!c.timeUnit);d=a}return d}function ag(c,a){let {timeUnit:d,type:f,wrapTime:h,undefinedIfExprNotRequired:x}=a;var G=(a=d&&(null==(G=Nd(d))?void 0:G.unit))||"temporal"===f;let ea;yc(c)?ea=c.expr:Zb(c)?ea=c.signal:Hb(c)?(G=!0,ea=Hc(c)):(P.isString(c)||
P.isNumber(c))&&G&&(ea=`datetime(${Ag(c)})`,lk[a]&&(P.isNumber(c)&&1E4>c||P.isString(c)&&isNaN(Date.parse(c)))&&(ea=Hc({[a]:c})));return ea?h&&G?`time(${ea})`:ea:x?void 0:Ag(c)}function Vd(c,a){const {type:d}=c;return a.map(f=>{const h=ag(f,{timeUnit:la(c)?c.timeUnit:void 0,type:d,undefinedIfExprNotRequired:!0});return void 0!==h?{signal:h}:f})}function hf(c,a){return X(c.bin)?!!mi[a]&&["ordinal","nominal"].includes(c.type):(console.warn("Only call this method for binned field defs."),!1)}function jf(c){return null==
c?void 0:c.condition}function Qe(c){return"mark"in c}function Cf(c,a){return(c=c&&c[a])?P.isArray(c)?Ua(c,d=>!!d.field):la(c)||H(c):!1}function Qf(c,a){return(c=c&&c[a])?P.isArray(c)?Ua(c,d=>!!d.field):la(c)||hb(c)||ka(c):!1}function Jf(c,a){if(V(a)){const d=c[a];if((la(d)||hb(d))&&(Sa(d.type)||la(d)&&d.timeUnit))return a=D(a),Qf(c,a)}return!1}function Gf(c){return Ua(dl,a=>Cf(c,a)?(a=c[a],P.isArray(a)?Ua(a,d=>!!d.aggregate):(a=xe(a))&&!!a.aggregate):!1)}function Bg(c,a){const d=[],f=[],h=[],x=[],
G={};Ug(c,(ea,sa)=>{if(la(ea)){var Ia=Object.assign({},ea),ib=ea.field;const sc=ea.aggregate,ld=ea.bin,Kc=ea.timeUnit;Ia=(delete Ia.field,delete Ia.aggregate,delete Ia.bin,delete Ia.timeUnit,Ia);if(sc||Kc||ld){var Nb;const cd=null==(Nb=Be(ea))?void 0:Nb.title;Nb=Oc(ea,{forAs:!0});Ia=Object.assign({},cd?[]:{title:Ae(ea,a,{allowDisabling:!0})},Ia,{field:Nb});if(sc){let rd;va(sc)?(rd="argmax",Nb=Oc({op:"argmax",field:sc.argmax},{forAs:!0}),Ia.field=`${Nb}.${ib}`):L(sc)?(rd="argmin",Nb=Oc({op:"argmin",
field:sc.argmin},{forAs:!0}),Ia.field=`${Nb}.${ib}`):"boxplot"!==sc&&"errorbar"!==sc&&"errorband"!==sc&&(rd=sc);rd&&(ea={op:rd,as:Nb},ib&&(ea.field=ib),x.push(ea))}else d.push(Nb),Dc(ea)&&X(ld)?(f.push({bin:ld,field:ib,as:Nb}),d.push(Oc(ea,{binSuffix:"end"})),hf(ea,sa)&&d.push(Oc(ea,{binSuffix:"range"})),V(sa)&&(G[`${sa}2`]={field:`${Nb}_end`}),Ia.bin="binned",g(sa)||(Ia.type="quantitative")):Kc&&(h.push({timeUnit:Kc,field:ib,as:Nb}),(ib=Dc(ea)&&"temporal"!==ea.type&&"time")&&("text"===sa||"tooltip"===
sa?Ia.formatType=ib:Qj[sa]?Ia.legend=Object.assign({},{formatType:ib},Ia.legend):V(sa)&&(Ia.axis=Object.assign({},{formatType:ib},Ia.axis))));G[sa]=Ia}else d.push(ib),G[sa]=c[sa]}else G[sa]=c[sa]});return{bins:f,timeUnits:h,aggregate:x,groupby:d,encoding:G}}function sg(c,a,d){d=Y(a)[d];return d&&("binned"!==d||(d=c["x2"===a?"x":"y"],la(d)&&la(c[a])&&Ca(d.bin)))?!0:!1}function Af(c,a,d,f){const h={};for(var x of ce(c))Sj[x]||za(`${x}-encoding is dropped as ${x} is not a valid encoding channel.`);for(let ea of Pk)if(c[ea]){x=
c[ea];if(ea in Yi){var G=I(ea);const sa=h[G];if(la(sa)){if(fa(sa.type)&&la(x)&&!sa.timeUnit){za(`${G}Offset dropped because ${G} is continuous`);continue}}else ea=G,za(`There is no ${G} encoding. Replacing ${G}Offset encoding as ${G}.`)}"angle"!==ea||"arc"!==a||c.theta||(za("Arc marks uses theta channel rather than angle, replacing angle with theta."),ea="theta");if(sg(c,ea,a)){if("size"===ea&&"line"===a){let sa;if(null==(sa=xe(c[ea]))?0:sa.aggregate){za("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");
continue}}if("color"===ea&&(d?"fill"in c:"stroke"in c))za(Td("encoding",{fill:"fill"in c,stroke:"stroke"in c}));else if("detail"===ea||"order"===ea&&!P.isArray(x)&&!yd(x)||"tooltip"===ea&&P.isArray(x)){if(x){if("order"===ea&&(G=c[ea])&&G.sort&&!G.field){h[ea]=G;continue}h[ea]=P.array(x).reduce((sa,Ia)=>{la(Ia)?sa.push(we(Ia,ea)):za(Ed(Ia,ea));return sa},[])}}else{if("tooltip"===ea&&null===x)h[ea]=null;else if(!(la(x)||hb(x)||yd(x)||da(x)||Zb(x))){za(Ed(x,ea));continue}h[ea]=of(x,ea,f)}}else za(Yd(ea,
a))}return h}function Hf(c,a){const d={};for(const f of ce(c)){const h=of(c[f],f,a,{compositeMark:!0});d[f]=h}return d}function dg(c){const a=[];for(const d of ce(c))if(Cf(c,d)){const f=P.array(c[d]);for(const h of f)la(h)?a.push(h):H(h)&&a.push(h.condition)}return a}function Ug(c,a,d){if(c)for(const f of ce(c)){const h=c[f];if(P.isArray(h))for(const x of h)a.call(d,x,f);else a.call(d,h,f)}}function Vg(c,a,d,f){return c?ce(c).reduce((h,x)=>{const G=c[x];return P.isArray(G)?G.reduce((ea,sa)=>a.call(f,
ea,sa,x),h):a.call(f,h,G,x)},d):d}function Dg(c,a){return ce(a).reduce((d,f)=>{switch(f){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return d;case "order":if("line"===c||"trail"===c)return d;case "detail":case "key":f=a[f];if(P.isArray(f)||la(f))for(var h of P.array(f))h.aggregate||
d.push(Oc(h,{}));return d;case "size":if("trail"===c)return d;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(h=xe(a[f]))&&!h.aggregate&&d.push(Oc(h,{})),d}},[])}function Wg(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in d)return{tooltip:d.tooltip};const h=c.map(G=>{let {fieldPrefix:ea,titlePrefix:sa}=G;G=f?` of ${ra(a)}`:"";return{field:ea+a.field,type:a.type,title:Zb(sa)?
{signal:`${sa}"${escape(G)}"`}:sa+G}}),x=dg(d).map(Hd);return{tooltip:[...h,...Kb(x,Ab)]}}function ra(c){const {title:a,field:d}=c;return Fa(a,d)}function bb(c,a,d,f,h){const {scale:x,axis:G}=d;return ea=>{let {partName:sa,mark:Ia,positionPrefix:ib,endPositionPrefix:Nb,extraEncoding:sc={}}=ea;ea=ra(d);return Rb(c,sa,h,{mark:Ia,encoding:Object.assign({},{[a]:Object.assign({},{field:`${ib}_${d.field}`,type:d.type},void 0!==ea?{title:ea}:{},void 0!==x?{scale:x}:{},void 0!==G?{axis:G}:{})},P.isString(Nb)?
{[`${a}2`]:{field:`${Nb}_${d.field}`}}:{},f,sc)})}}function Rb(c,a,d,f){const {clip:h,color:x,opacity:G}=c,ea=c.type;return c[a]||void 0===c[a]&&d[a]?[Object.assign({},f,{mark:Object.assign({},d[a],h?{clip:h}:{},x?{color:x}:{},G?{opacity:G}:{},db(f.mark)?f.mark:{type:f.mark},{style:`${ea}-${String(a)}`},P.isBoolean(c[a])?{}:c[a])})]:[]}function id(c,a,d){({encoding:c}=c);a="vertical"===a?"y":"x";const f=c[`${a}2`],h=c[`${a}Error`],x=c[`${a}Error2`];return{continuousAxisChannelDef:od(c[a],d),continuousAxisChannelDef2:od(f,
d),continuousAxisChannelDefError:od(h,d),continuousAxisChannelDefError2:od(x,d),continuousAxis:a}}function od(c,a){if(null==c?0:c.aggregate){var d=Object.assign({},c);c=c.aggregate;d=(delete d.aggregate,d);c!==a&&za(`Continuous axis should not have customized aggregation function ${c}; ${a} already agregates the axis.`);return d}return c}function ne(c,a){const {mark:d,encoding:f}=c,{x:h,y:x}=f;if(db(d)&&d.orient)return d.orient;if(fc(h)){if(fc(x)){c=la(h)&&h.aggregate;const G=la(x)&&x.aggregate;if(!c&&
G===a)return"vertical";if(G||c!==a){if(c===a&&G===a)throw Error("Both x and y cannot have aggregate");return af(x)&&!af(h)?"horizontal":"vertical"}}return"horizontal"}if(fc(x))return"vertical";throw Error(`Need a valid continuous axis for ${a}s`);}function Re(c){return P.isNumber(c)?"tukey":c}function pf(c,a){var {config:d}=a,f=c=Object.assign({},c,{encoding:Hf(c.encoding,d)});a=Object.assign({},f);var h=f.mark;f=f.params;a=(delete a.mark,delete a.encoding,delete a.params,delete a.projection,a);h=
db(h)?h:{type:h};f&&za(Sc("boxplot"));var x;f=null!=(x=h.extent)?x:d.boxplot.extent;var G=zc("size",h,d),ea=h.invalid;x=Re(f);var sa=c;c=ne(sa,"boxplot");const {continuousAxisChannelDef:Ia,continuousAxis:ib}=id(sa,c,"boxplot");var Nb=Ia.field,sc=Re(f),ld=[...Ff(Nb),{op:"median",field:Nb,as:`mid_box_${Nb}`},{op:"min",field:Nb,as:("min-max"===sc?"lower_whisker_":"min_")+Nb},{op:"max",field:Nb,as:("min-max"===sc?"upper_whisker_":"max_")+Nb}];Nb="min-max"===sc||"tukey"===sc?[]:[{calculate:`datum["upper_box_${Nb}"] - datum["lower_box_${Nb}"]`,
as:`iqr_${Nb}`},{calculate:`min(datum["upper_box_${Nb}"] + datum["iqr_${Nb}"] * ${f}, datum["max_${Nb}"])`,as:`upper_whisker_${Nb}`},{calculate:`max(datum["lower_box_${Nb}"] - datum["iqr_${Nb}"] * ${f}, datum["min_${Nb}"])`,as:`lower_whisker_${Nb}`}];sa=Object.assign({},sa.encoding);var Kc;sc=(delete sa[ib],sa);sa=Object.assign({},sc);sc=sc.tooltip;sa=(delete sa.tooltip,sa);if(sc){var cd;if(P.isArray(sc)){for(var rd of sc)rd.aggregate?(Kc||(Kc=[]),Kc.push(rd)):(cd||(cd=[]),cd.push(rd));Kc&&(sa.tooltip=
Kc)}else sc.aggregate?sa.tooltip=sc:cd=sc;P.isArray(cd)&&1===cd.length&&(cd=cd[0]);Kc={customTooltipWithoutAggregatedField:cd,filteredEncoding:sa}}else Kc={filteredEncoding:sa};const {customTooltipWithoutAggregatedField:fe,filteredEncoding:Od}=Kc,{bins:se,timeUnits:Se,aggregate:ff,groupby:Vf,encoding:Tf}=Bg(Od,d);Kc=[...se,...Se,{aggregate:[...ff,...ld],groupby:Vf},...Nb];const {bins:mg,timeUnits:Nf,transform:bh,continuousAxisChannelDef:Of,continuousAxis:Fi,groupby:vm,aggregate:Dm,encodingWithoutContinuousAxis:Dk,
ticksOrient:wm,boxOrient:Em,customTooltipWithoutAggregatedField:xm}={bins:se,timeUnits:Se,transform:Kc,groupby:Vf,aggregate:ff,continuousAxisChannelDef:Ia,continuousAxis:ib,encodingWithoutContinuousAxis:Tf,ticksOrient:"vertical"===c?"horizontal":"vertical",boxOrient:c,customTooltipWithoutAggregatedField:fe};cd=Object.assign({},Dk);Kc=Dk.color;ld=Dk.size;cd=(delete cd.color,delete cd.size,cd);rd=bb(h,Fi,Of,cd,d.boxplot);c=bb(h,Fi,Of,Dk,d.boxplot);ld=bb(h,Fi,Of,Object.assign({},cd,ld?{size:ld}:{}),
d.boxplot);Nb=Wg([{fieldPrefix:"min-max"===x?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===x?"lower_whisker_":"min_",titlePrefix:"Min"}],Of,Dk);sa={type:"tick",color:"black",opacity:1,orient:wm,invalid:ea,aria:!1};sc="min-max"===x?Nb:Wg([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],
Of,Dk);rd=[...rd({partName:"rule",mark:{type:"rule",invalid:ea,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:sc}),...rd({partName:"rule",mark:{type:"rule",invalid:ea,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:sc}),...rd({partName:"ticks",mark:sa,positionPrefix:"lower_whisker",extraEncoding:sc}),...rd({partName:"ticks",mark:sa,positionPrefix:"upper_whisker",extraEncoding:sc})];G=[...("tukey"!==x?rd:[]),...c({partName:"box",
mark:Object.assign({},{type:"bar"},G?{size:G}:{},{orient:Em,invalid:ea,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Nb}),...ld({partName:"median",mark:Object.assign({},{type:"tick",invalid:ea},P.isObject(d.boxplot.median)&&d.boxplot.median.color?{color:d.boxplot.median.color}:{},G?{size:G}:{},{orient:wm,aria:!1}),positionPrefix:"mid_box",extraEncoding:Nb})];if("min-max"===x){var Fj;return Object.assign({},a,{transform:(null!=(Fj=a.transform)?Fj:
[]).concat(bh),layer:G})}Fj=`datum["lower_box_${Of.field}"]`;x=`datum["upper_box_${Of.field}"]`;ea=`(${x} - ${Fj})`;Fj=`${Fj} - ${f} * ${ea}`;ea=`${x} + ${f} * ${ea}`;c=`datum["${Of.field}"]`;f={joinaggregate:Ff(Of.field),groupby:vm};x={transform:[{filter:`(${Fj} <= ${c}) && (${c} <= ${ea})`},{aggregate:[{op:"min",field:Of.field,as:`lower_whisker_${Of.field}`},{op:"max",field:Of.field,as:`upper_whisker_${Of.field}`},{op:"min",field:`lower_box_${Of.field}`,as:`lower_box_${Of.field}`},{op:"max",field:`upper_box_${Of.field}`,
as:`upper_box_${Of.field}`},...Dm],groupby:vm}],layer:rd};cd=Object.assign({},cd);cd=(delete cd.tooltip,cd);const {scale:ym,axis:Fm}=Of;rd=ra(Of);ld=uc(Fm,["title"]);d=Rb(h,"outliers",d.boxplot,{transform:[{filter:`(${c} < ${Fj}) || (${c} > ${ea})`}],mark:"point",encoding:Object.assign({},{[Fi]:Object.assign({},{field:Of.field,type:Of.type},void 0!==rd?{title:rd}:{},void 0!==ym?{scale:ym}:{},Qa(ld)?{}:{axis:ld})},cd,Kc?{color:Kc}:{},xm?{tooltip:xm}:{})})[0];h=[...mg,...Nf,f];d?d={transform:h,layer:[d,
x]}:(d=x,d.transform.unshift(...h));return Object.assign({},a,{layer:[d,{transform:bh,layer:G}]})}function Ff(c){return[{op:"q1",field:c,as:`lower_box_${c}`},{op:"q3",field:c,as:`upper_box_${c}`}]}function Ne(c,a){({config:a}=a);c=Object.assign({},c,{encoding:Hf(c.encoding,a)});const {transform:d,continuousAxisChannelDef:f,continuousAxis:h,encodingWithoutContinuousAxis:x,ticksOrient:G,markDef:ea,outerSpec:sa,tooltipEncoding:Ia}=Sf(c,"errorbar",a);delete x.size;c=bb(ea,h,f,x,a.errorbar);a=ea.thickness;
var ib=ea.size;ib=Object.assign({},{type:"tick",orient:G,aria:!1},void 0!==a?{thickness:a}:{},void 0!==ib?{size:ib}:{});c=[...c({partName:"ticks",mark:ib,positionPrefix:"lower",extraEncoding:Ia}),...c({partName:"ticks",mark:ib,positionPrefix:"upper",extraEncoding:Ia}),...c({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==a?{size:a}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Ia})];return Object.assign({},sa,{transform:d},1<c.length?
{layer:c}:Object.assign({},c[0]))}function eg(c,a){var {encoding:d}=c;if(!(!Wb(d.x)&&!Wb(d.y)||Wb(d.x2)||Wb(d.y2)||Wb(d.xError)||Wb(d.xError2)||Wb(d.yError)||Wb(d.yError2)))return{orient:ne(c,a),inputType:"raw"};var f=Wb(d.x2)||Wb(d.y2);var h=Wb(d.xError)||Wb(d.xError2)||Wb(d.yError)||Wb(d.yError2);c=d.x;const x=d.y;if(f){if(h)throw Error(`${a} cannot be both type aggregated-upper-lower and aggregated-error`);f=d.x2;d=d.y2;if(Wb(f)&&Wb(d))throw Error(`${a} cannot have both x2 and y2`);if(Wb(f)){if(fc(c))return{orient:"horizontal",
inputType:"aggregated-upper-lower"};throw Error(`Both x and x2 have to be quantitative in ${a}`);}if(Wb(d)){if(fc(x))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${a}`);}}else{f=d.xError;h=d.yError;const G=d.yError2;if(Wb(d.xError2)&&!Wb(f))throw Error(`${a} cannot have xError2 without xError`);if(Wb(G)&&!Wb(h))throw Error(`${a} cannot have yError2 without yError`);if(Wb(f)&&Wb(h))throw Error(`${a} cannot have both xError and yError with both are quantiative`);
if(Wb(f)){if(fc(c))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(Wb(h)){if(fc(x))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Sf(c,a,d){var f=Object.assign({},c),h=c.mark,x=c.encoding,G=c.params;f=(delete f.mark,delete f.encoding,delete f.params,delete f.projection,f);h=db(h)?h:{type:h};
G&&za(Sc(a));const {orient:ea,inputType:sa}=eg(c,a),{continuousAxisChannelDef:Ia,continuousAxisChannelDef2:ib,continuousAxisChannelDefError:Nb,continuousAxisChannelDefError2:sc,continuousAxis:ld}=id(c,ea,a);c=[];G=[];var Kc=Ia.field,cd=!1;if("raw"===sa){var rd=h.center?h.center:h.extent?"iqr"===h.extent?"median":"mean":d.errorbar.center;var fe=h.extent?h.extent:"mean"===rd?"stderr":"iqr";"median"===rd!==("iqr"===fe)&&za(`${rd} is not usually used with ${fe} for ${a}.`);"stderr"===fe||"stdev"===fe?
(c=[{op:fe,field:Kc,as:`extent_${Kc}`},{op:rd,field:Kc,as:`center_${Kc}`}],G=[{calculate:`datum["center_${Kc}"] + datum["extent_${Kc}"]`,as:`upper_${Kc}`},{calculate:`datum["center_${Kc}"] - datum["extent_${Kc}"]`,as:`lower_${Kc}`}],Kc={fieldPrefix:"center_",titlePrefix:Pa(rd)},cd=fe,cd={fieldPrefix:"upper_",titlePrefix:`${Pa(rd)} ${"+"} ${cd}`},a=fe,a=`${Pa(rd)} ${"-"} ${a}`,rd=[Kc,cd,{fieldPrefix:"lower_",titlePrefix:a}],cd=!0):("ci"===fe?(a="mean",rd="ci0",fe="ci1"):(a="median",rd="q1",fe="q3"),
c=[{op:rd,field:Kc,as:`lower_${Kc}`},{op:fe,field:Kc,as:`upper_${Kc}`},{op:a,field:Kc,as:`center_${Kc}`}],rd=[{fieldPrefix:"upper_",titlePrefix:Ae({field:Kc,aggregate:fe,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Ae({field:Kc,aggregate:rd,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Ae({field:Kc,aggregate:a,type:"quantitative"},d,{allowDisabling:!1})}])}else{if(h.center||h.extent){a=h.center;var Od=h.extent;za(`${Od?"extent ":
""}${Od&&a?"and ":""}${a?"center ":""}${Od&&a?"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===sa?(rd=[],G=[{calculate:`datum["${ib.field}"]`,as:`upper_${Kc}`},{calculate:`datum["${Kc}"]`,as:`lower_${Kc}`}]):"aggregated-error"===sa&&(rd=[{fieldPrefix:"",titlePrefix:Kc}],G=[{calculate:`datum["${Kc}"] + datum["${Nb.field}"]`,as:`upper_${Kc}`}],sc?G.push({calculate:`datum["${Kc}"] + datum["${sc.field}"]`,as:`lower_${Kc}`}):G.push({calculate:`datum["${Kc}"] - datum["${Nb.field}"]`,
as:`lower_${Kc}`}));for(fe of G)rd.push({fieldPrefix:fe.as.substring(0,6),titlePrefix:nb(nb(fe.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:se,postAggregateCalculates:Se,tooltipSummary:ff,tooltipTitleWithFieldName:Vf}={postAggregateCalculates:G,errorBarSpecificAggregate:c,tooltipSummary:rd,tooltipTitleWithFieldName:cd};x=Object.assign({},x);c="x"===ld?"x2":"y2";G="x"===ld?"xError":"yError";Kc="x"===ld?"xError2":"yError2";x=(delete x[ld],delete x[c],delete x[G],delete x[Kc],
x);const {bins:Tf,timeUnits:mg,aggregate:Nf,groupby:bh,encoding:Of}=Bg(x,d);d=[...Nf,...se];x="raw"!==sa?[]:bh;c=Wg(ff,Ia,Of,Vf);let Fi;return{transform:[...(null!=(Fi=f.transform)?Fi:[]),...Tf,...mg,...(0===d.length?[]:[{aggregate:d,groupby:x}]),...Se],groupby:x,continuousAxisChannelDef:Ia,continuousAxis:ld,encodingWithoutContinuousAxis:Of,ticksOrient:"vertical"===ea?"horizontal":"vertical",markDef:h,outerSpec:f,tooltipEncoding:c}}function Xf(c,a){({config:a}=a);c=Object.assign({},c,{encoding:Hf(c.encoding,
a)});const {transform:d,continuousAxisChannelDef:f,continuousAxis:h,encodingWithoutContinuousAxis:x,markDef:G,outerSpec:ea,tooltipEncoding:sa}=Sf(c,"errorband",a);a=bb(G,h,f,x,a.errorband);c=void 0!==c.encoding.x&&void 0!==c.encoding.y;let Ia={type:c?"area":"rect"},ib={type:c?"line":"rule"};const Nb=Object.assign({},G.interpolate?{interpolate:G.interpolate}:{},G.tension&&G.interpolate?{tension:G.tension}:{});c?(Ia=Object.assign({},Ia,Nb,{ariaRoleDescription:"errorband"}),ib=Object.assign({},ib,Nb,
{aria:!1})):G.interpolate?za(N("interpolate")):G.tension&&za(N("tension"));return Object.assign({},ea,{transform:d,layer:[...a({partName:"band",mark:Ia,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:sa}),...a({partName:"borders",mark:ib,positionPrefix:"lower",extraEncoding:sa}),...a({partName:"borders",mark:ib,positionPrefix:"upper",extraEncoding:sa})]})}function kg(c,a,d){a=new xi(c,a);Yj[c]={normalizer:a,parts:d}}function qg(c){return"legend"===c||!(null==c||!c.legend)}function Lg(c){return qg(c)&&
P.isObject(c)}function gh(c){return!(null==c||!c.select)}function ph(c){const a=[];for(const h of c||[])if(!gh(h)){var d=h,f=Object.assign({},d);c=d.expr;d=d.bind;f=(delete f.expr,delete f.bind,f);d&&c?(c=Object.assign({},f,{bind:d,init:c}),a.push(c)):(c=Object.assign({},f,c?{update:c}:{},d?{bind:d}:{}),a.push(c))}return a}function Ie(c){let {step:a,offsetIsDiscrete:d}=c;if(d){let f;return null!=(f=a.for)?f:"offset"}return"position"}function ye(c){return P.isObject(c)&&void 0!==c.step}function Kf(c){return c.view||
c.width||c.height}function yf(c,a,d){const f={},{spacing:h,columns:x}=d[a];void 0!==h&&(f.spacing=h);void 0!==x&&("facet"in c&&!Jd(c.facet)||"concat"in c)&&(f.columns=x);"vconcat"in c&&(f.columns=1);for(const G of Wl)if(void 0!==c[G])if("spacing"===G){a=c[G];let ea,sa;f[G]=P.isNumber(a)?a:{row:null!=(ea=a.row)?ea:h,column:null!=(sa=a.column)?sa:h}}else f[G]=c[G];return f}function Bf(c,a){let d;return null!=(d=c[a])?d:c["width"===a?"continuousWidth":"continuousHeight"]}function tf(c,a){c=fg(c,a);return ye(c)?
c.step:20}function fg(c,a){let d;const f=null!=(d=c[a])?d:c["width"===a?"discreteWidth":"discreteHeight"];return Fa(f,{step:c.step})}function Eg(){let c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:P.isObject(c)?Object.assign({},pl,c):pl}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},
"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function tg(c){var a=ce(c||{});const d={};for(const f of a)a=
c[f],d[f]=jf(a)?Na(a):Ub(a);return d}function Df(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},c),d=c.color,f=c.font,h=c.fontSize;c=c.selection;a=(delete a.color,delete a.font,delete a.fontSize,delete a.selection,a);var x=P.mergeConfig,G=vf(Xl);f=f?{text:{font:f},style:{"guide-label":{font:f},"guide-title":{font:f},"group-title":{font:f},"group-subtitle":{font:f}}}:{};d=d?Eg(d):{};h=h?{signals:[{name:"fontSize",value:P.isObject(h)?Object.assign({},vk,h):vk}],
text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};h=x.call(P,{},G,f,d,h,a||{});c&&P.writeConfig(h,"selection",c,!0);c=uc(h,ol);for(var ea of["background","lineBreak","padding"])h[ea]&&(c[ea]=Ub(h[ea]));for(var sa of Uk)h[sa]&&(c[sa]=qc(h[sa]));for(var Ia of tk)h[Ia]&&
(c[Ia]=tg(h[Ia]));for(const ib of ml)h[ib]&&(c[ib]=qc(h[ib]));h.legend&&(c.legend=qc(h.legend));h.scale&&(c.scale=qc(h.scale));if(h.style){ea=h.style;sa=ce(ea);Ia={};for(const ib of sa)Ia[ib]=tg(ea[ib]);c.style=Ia}h.title&&(c.title=qc(h.title));h.view&&(c.view=qc(h.view));return c}function Qg(c){c=vf(c);for(var a of Zl)delete c[a];if(c.axis)for(var d in c.axis)jf(c.axis[d])&&delete c.axis[d];if(c.legend)for(var f of Xj)delete c.legend[f];if(c.mark){for(var h of Ni)delete c.mark[h];c.mark.tooltip&&
P.isObject(c.mark.tooltip)&&delete c.mark.tooltip}c.params&&(c.signals=(c.signals||[]).concat(ph(c.params)),delete c.params);for(var x of Yl){for(const Nb of Ni)delete c[x][Nb];if(a=wk[x])for(const Nb of a)delete c[x][Nb];let ib=h=void 0;a=c;d=x;f=void 0;var G=a[d];"view"===d&&(f="cell");G=Object.assign({},G,a.style[null!=(ib=f)?ib:d]);Qa(G)||(a.style[null!=(h=f)?h:d]=G);delete a[d]}for(const ib of ce(Yj))delete c[ib];x=c;const {titleMarkConfig:ea,subtitleMarkConfig:sa,subtitle:Ia}=xc(x.title);Qa(ea)||
(x.style["group-title"]=Object.assign({},x.style["group-title"],ea));Qa(sa)||(x.style["group-subtitle"]=Object.assign({},x.style["group-subtitle"],sa));Qa(Ia)?delete x.title:x.title=Ia;for(const ib in c)P.isObject(c[ib])&&Qa(c[ib])&&delete c[ib];return Qa(c)?void 0:c}function Mg(c){return la(c)&&"quantitative"===Ja(c)&&!c.bin}function qh(c,a,d){let {orient:f,type:h}=d;d="x"===a?"y":"radius";const x="x"===a;var G=c[a];c=c[d];if(la(G)&&la(c))if(Mg(G)&&Mg(c)){if(G.stack)return a;if(c.stack)return d;
G=la(G)&&!!G.aggregate;c=la(c)&&!!c.aggregate;if(G!==c)return G?a:d;if(x&&"bar"===h){if("vertical"===f)return d;if("horizontal"===f)return a}}else{if(Mg(G))return a;if(Mg(c))return d}else{if(Mg(G))return a;if(Mg(c))return d}}function xg(c){switch(c){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Wh(c,a){var d=db(c)?c:{type:c};c=d.type;if(!Pe.has(c))return null;d=qh(a,"x",d)||qh(a,"theta",d);if(!d)return null;const f=a[d];var h=la(f)?Oc(f,{}):
void 0,x=xg(d);const G=[],ea=new Set;if(a[x]){var sa=a[x];(sa=la(sa)?Oc(sa,{}):void 0)&&sa!==h&&(G.push(x),ea.add(sa));x="x"===x?"xOffset":"yOffset";sa=a[x];(sa=la(sa)?Oc(sa,{}):void 0)&&sa!==h&&(G.push(x),ea.add(sa))}h=wj.reduce((sc,ld)=>{if("tooltip"!==ld&&Cf(a,ld)){var Kc=a[ld];for(const cd of P.array(Kc)){Kc=xe(cd);if(Kc.aggregate)continue;const rd=Oc(Kc,{});rd&&ea.has(rd)||sc.push({channel:ld,fieldDef:Kc})}}return sc},[]);let Ia;void 0!==f.stack?Ia=P.isBoolean(f.stack)?f.stack?"zero":null:f.stack:
ql.has(c)&&(Ia="zero");if(!(Ia&&Ia in am)||Gf(a)&&0===h.length)return null;let ib,Nb;if((null==f?0:null==(ib=f.scale)?0:ib.type)&&(null==f?void 0:null==(Nb=f.scale)?void 0:Nb.type)!==Kh.LINEAR)return(null==f?0:f.stack)&&za(`Cannot stack non-linear scale (${f.scale.type}).`),null;if(Wb(a[C(d)]))return void 0!==f.stack&&za(`Cannot stack "${d}" if there is already "${d}2".`),null;la(f)&&f.aggregate&&!Ul.has(f.aggregate)&&za(`Stacking is applied even though the aggregate function is non-summative ("${f.aggregate}").`);
return{groupbyChannels:G,groupbyFields:ea,fieldChannel:d,impute:null===f.impute?!1:Ra(c),stackBy:h,offset:Ia}}function rh(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=2<arguments.length?arguments[2]:void 0;if("transparent"===c.point)return{opacity:0};if(c.point)return P.isObject(c.point)?c.point:{};if(void 0!==c.point)return null;if(a.point||d.shape)return P.isObject(a.point)?a.point:{}}function Hh(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(c.line)return!0===
c.line?{}:c.line;if(void 0!==c.line)return null;if(a.line)return!0===a.line?{}:a.line}function Xg(c,a){return a?th(c,a):c}function sh(c,a,d){const f=a[c];if(f&&!P.isString(f)&&"repeat"in f){if(f.repeat in d)return Object.assign({},a,{[c]:d[f.repeat]});za(`Unknown repeated value "${f.repeat}".`)}else return a}function Bh(c,a){c=sh("field",c,a);if(void 0!==c){if(null===c)return null;"sort"in c&&bd(c.sort)&&(a=sh("field",c.sort,a),c=Object.assign({},c,a?{sort:a}:{}));return c}}function ji(c,a){if(la(c))return Bh(c,
a);a=sh("datum",c,a);a===c||a.type||(a.type="nominal");return a}function eh(c,a){if(Wb(c)){if(a=ji(c,a))return a;if(da(c))return{condition:c.condition}}else{if(ka(c)){if(a=ji(c.condition,a))return Object.assign({},c,{condition:a});c=Object.assign({},c);return delete c.condition,c}return c}}function th(c,a){const d={};for(const h in c)if(P.hasOwnProperty(c,h)){var f=c[h];P.isArray(f)?d[h]=f.map(x=>eh(x,a)).filter(x=>x):(f=eh(f,a),void 0!==f&&(d[h]=f))}return d}function yi(c){let {parentEncoding:a,
encoding:d={},layer:f}=c;c={};if(a){var h=new Set([...ce(a),...ce(d)]);for(const x of h){h=d[x];const G=a[x];if(Wb(h))h=Object.assign({},G,h),c[x]=h;else if(ka(h))c[x]=Object.assign({},h,{condition:Object.assign({},G,h.condition)});else if(h||null===h)c[x]=h;else if(f||yd(G)||Zb(G)||Wb(G)||P.isArray(G))c[x]=G}}else c=d;return!c||Qa(c)?void 0:c}function Fg(c){const {parentProjection:a,projection:d}=c;if(a&&d){const {parentProjection:f,projection:h}={parentProjection:a,projection:d};c=`Layer's shared projection ${Ag(f)} is overridden by a child projection ${Ag(h)}.`;
za(c)}return null!=d?d:a}function Mh(c){return c.map(a=>"filter"in a?{filter:bc(a.filter,J)}:a)}function Xh(c,a){var d=Object.assign({},c);const f=c.transform;d=(delete d.transform,d);return f?(c=f.map(h=>{if("filter"in h)return{filter:lh(h,a)};if("bin"in h&&P.isObject(h.bin))return Object.assign({},h,{bin:hh(h.bin)});if("lookup"in h){var x=h.from,G=Object.assign({},x);x=x.selection;G=(delete G.selection,G);return x?Object.assign({},h,{from:Object.assign({},{param:x},G)}):h}return h}),Object.assign({},
d,{transform:c})):c}function Rg(c,a){c=vf(c);la(c)&&P.isObject(c.bin)&&(c.bin=hh(c.bin));var d,f;Zc(c)&&(null==(d=c.scale)?0:null==(f=d.domain)?0:f.selection)&&(f=c.scale.domain,d=Object.assign({},f),f=f.selection,d=(delete d.selection,d),c.scale.domain=Object.assign({},d,f?{param:f}:{}));da(c)&&(P.isArray(c.condition)?c.condition=c.condition.map(h=>{var x=Object.assign({},h);const G=h.param;x=(delete x.selection,delete x.param,delete x.test,x);return G?h:Object.assign({},x,{test:lh(h,a)})}):(f=Rg(c.condition,
a),d=Object.assign({},f),f=f.param,d=(delete d.selection,delete d.param,delete d.test,d),c.condition=f?c.condition:Object.assign({},d,{test:lh(c.condition,a)})));return c}function hh(c){var a=c.extent;if(null==a?0:a.selection){var d=Object.assign({},a);a=a.selection;d=(delete d.selection,d);return Object.assign({},c,{extent:Object.assign({},d,{param:a})})}return c}function lh(c,a){const d=f=>bc(f,h=>{var x;const G=null!=(x=a.emptySelections[h])?x:!0;x={param:h,empty:G};let ea;null!=(ea=a.selectionPredicates)[h]||
(ea[h]=[]);a.selectionPredicates[h].push(x);return x});return c.selection?d(c.selection):bc(c.test||c.filter,f=>f.selection?d(f.selection):f)}function Ch(c,a){void 0===a&&(a=Df(c.config));const d=Gg(c,a),{width:f,height:h}=c;{let {width:x,height:G}={width:f,height:h,autosize:c.autosize};c=Qe(d)||"layer"in d;const ea={};c?"container"==x&&"container"==G?(ea.type="fit",ea.contains="padding"):"container"==x?(ea.type="fit-x",ea.contains="padding"):"container"==G&&(ea.type="fit-y",ea.contains="padding"):
("container"==x&&(za(kb("width")),x=void 0),"container"==G&&(za(kb("height")),G=void 0));a=Object.assign({},{type:"pad"},ea,a?Nh(a.autosize):{},Nh(d.autosize));"fit"!==a.type||c||(za('Autosize "fit" only works for single views and layered views.'),a.type="pad");"container"==x&&"fit"!=a.type&&"fit-x"!=a.type&&za(Eb("width"));"container"==G&&"fit"!=a.type&&"fit-y"!=a.type&&za(Eb("height"));a=Bi(a,{type:"pad"})?void 0:a}return Object.assign({},d,a?{autosize:a}:{})}function Gg(c){const a={config:1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{}};return Ah.map(li.map($f.map(c,a),a),a)}function Nh(c){return P.isString(c)?{type:c}:null!=c?c:{}}function Dh(c,a){const d={};for(const f of mh)c&&void 0!==c[f]&&(d[f]=Ub(c[f]));a&&(d.params=c.params);return d}function Hg(c){return{explicit:!0,value:c}}function Ng(c){return{explicit:!1,value:c}}function Yh(c){return(a,d,f,h)=>{const x=c(a.value,d.value);return 0<x?a:0>x?d:fh(a,d,f,h)}}function fh(c,a,d,f){if(c.explicit&&a.explicit){var h=c.value;a=a.value;d=`Conflicting ${f.toString()} property "${d.toString()}" (${Ag(h)} and ${Ag(a)}). Using ${Ag(h)}.`;
za(d)}return c}function Zg(c,a,d,f){let h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:fh;return void 0===c||void 0===c.value?a:c.explicit&&!a.explicit?c:a.explicit&&!c.explicit?a:Bi(c.value,a.value)?c:h(c,a,d,f)}function Yf(c){return"name"in c&&!("url"in c)&&!("values"in c)&&!Sg(c)}function Sg(c){return c&&("sequence"in c||"sphere"in c||"graticule"in c)}function $g(c){c=Object.assign({},c);c=(delete c.signals,delete c.hasLegend,delete c.index,c);c.field=Vb(c.field);return c}function qf(c){let a=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:P.identity;if(P.isArray(c)){const f=c.map(h=>qf(h,a,d));return a?`[${f.join(", ")}]`:f}return Hb(c)?a?d(Hc(c)):d(jd(c)):a?d(Ag(c)):c}function ei(c,a){c.component.selection&&ce(c.component.selection).length&&(c=P.stringValue(c.getName("cell")),a.unshift({name:"facet",value:{},on:[{events:P.parseSelector("mousemove","scope"),update:`isTuple(facet) ? facet : group(${c}).datum`}]}));return Ta(a)}
function Og(c,a){var d=!1,f;for(const h of jh(null!=(f=c.component.selection)?f:{})){const x=h.name;d=P.stringValue(x+"_store");0===a.filter(G=>G.name===x).length&&(f="point"===h.type?", true, true)":")",a.push({name:h.name,update:`${"vlSelectionResolve"}(${d}, ${P.stringValue("global"===h.resolve?"union":h.resolve)}${f}`}));d=!0;for(const G of pi)G.defined(h)&&G.topLevelSignals&&(a=G.topLevelSignals(c,h,a))}d&&0===a.filter(h=>"unit"===h.name).length&&a.unshift({name:"unit",value:{},on:[{events:"mousemove",
update:"isTuple(group()) ? group() : unit"}]});return Ta(a)}function bg(c,a){a=[...a];const d=If(c,{escape:!1});let f;for(const h of jh(null!=(f=c.component.selection)?f:{})){c={name:h.name+"_store"};h.project.hasSelectionId&&(c.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(h.init){const x=h.project.items.map($g);c.values=h.project.hasSelectionId?h.init.map(G=>({unit:d,_vgsid_:qf(G,!1)[0]})):h.init.map(G=>({unit:d,fields:x,values:qf(G,!1)}))}a.filter(x=>x.name===h.name+"_store").length||
a.push(c)}return a}function S(c,a){let d;for(const f of jh(null!=(d=c.component.selection)?d:{}))for(const h of pi)h.defined(f)&&h.marks&&(a=h.marks(c,f,a));return a}function xa(c,a){for(const d of c.children)rg(d)&&(a=S(d,a));return a}function Ta(c){return c.map(a=>{a.on&&!a.on.length&&delete a.on;return a})}function p(c,a){return`domain(${P.stringValue(c.scaleName(a))})`}function R(c){let a;return c.parent&&Hi(c.parent)&&(null!=(a=!c.parent.parent)?a:R(c.parent.parent))}function ja(c,a,d,f){var h=
!c.hasProjection,x=d.channel;const G=d.signals.visual,ea=P.stringValue(h?c.scaleName(x):c.projectionName());var sa=sc=>`scale(${ea}, ${sc})`;const Ia=c.getSizeSignalRef("x"===x?"width":"height").signal,ib=`${x}(unit)`,Nb=a.events.reduce((sc,ld)=>[...sc,{events:ld.between[0],update:`[${ib}, ${ib}]`},{events:ld,update:`[${G}[0], clamp(${ib}, 0, ${Ia})]`}],[]);if(h)return d=d.signals.data,h=ri.defined(a),c=(c=c.getScaleComponent(x))?c.get("type"):void 0,x=f?{init:qf(f,!0,sa)}:{value:[]},Nb.push({events:{signal:a.name+
"_scale_trigger"},update:Ac(c)?`[${sa(`${d}[0]`)}, ${sa(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[Object.assign({},{name:G},x,{on:Nb}),Object.assign({},{name:d},f?{init:qf(f)}:{},{on:[{events:{signal:G},update:`${G}[0] === ${G}[1] ? null : invert(${ea}, ${G})`}]})];sa="x"===x?0:1;a=a.name+"_init";return[Object.assign({},{name:G},f?{init:`[${a}[0][${sa}], ${a}[1][${sa}]]`}:{value:[]},{on:Nb})]}function wa(c,a,d,f){var h=da(a)&&a.condition;a=f(a);return h?(h=P.array(h).map(x=>{const G=f(x);if(x.param){const {param:ea,
empty:sa}=x;x=kh(c,{param:ea,empty:sa});return Object.assign({},{test:x},G)}x=Sh(c,x.test);return Object.assign({},{test:x},G)}),{[d]:[...h,...(void 0!==a?[a]:[])]}):void 0!==a?{[d]:a}:{}}function r(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return wa(c,c.encoding[a],a,d=>E(d,c.config))}function E(c,a){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(c){if(yd(c))return Sb(c.value);if(Wb(c)){const {format:f,formatType:h}=Id(c);return Cd({fieldOrDatumDef:c,
format:f,formatType:h,expr:d,config:a})}}}function ia(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:d,markDef:f,config:h,stack:x}=c,G=d.tooltip;if(P.isArray(G))return{tooltip:z({tooltip:G},x,h,a)};const ea=a.reactiveGeom?"datum.datum":"datum";return wa(c,G,"tooltip",sa=>{const Ia=E(sa,h,ea);if(Ia)return Ia;if(null!==sa){sa=zc("tooltip",f,h);!0===sa&&(sa={content:"encoding"});if(P.isString(sa))return{value:sa};if(P.isObject(sa))return Zb(sa)?sa:"encoding"===sa.content?
z(d,x,h,a):{signal:ea}}})}function l(c,a,d){function f(Ia,ib){var Nb=u(ib);Ia=Dc(Ia)?Ia:Object.assign({},Ia,{type:c[Nb].type});Nb=Ia.title||Qi(Ia,x);Nb=P.array(Nb).join(", ");if(V(ib)){const Kc="x"===ib?"x2":"y2";var sc=xe(c[Kc]);if(Ca(Ia.bin)&&sc){var ld=Oc(Ia,{expr:ea});sc=Oc(sc,{expr:ea});const {format:cd,formatType:rd}=Id(Ia);ld=Fc(ld,sc,cd,rd,x);G[Kc]=!0}}if((V(ib)||"theta"===ib||"radius"===ib)&&a&&a.fieldChannel===ib&&"normalize"===a.offset){const {format:Kc,formatType:cd}=Id(Ia);ld=Cd({fieldOrDatumDef:Ia,
format:Kc,formatType:cd,expr:ea,config:x,normalizeStack:!0}).signal}null!=ld||(ld=E(Ia,x,ea).signal);sa.push({channel:ib,key:Nb,value:ld})}var {reactiveGeom:h}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const x=Object.assign({},d,d.tooltipFormat),G={},ea=h?"datum.datum":"datum",sa=[];Ug(c,(Ia,ib)=>{la(Ia)?f(Ia,ib):H(Ia)&&f(Ia.condition,ib)});h={};for(const Ia of sa){const {channel:ib,key:Nb,value:sc}=Ia;G[ib]||h[Nb]||(h[Nb]=sc)}return h}function z(c,a,d){var {reactiveGeom:f}=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{};f=l(c,a,d,{reactiveGeom:f});f=Zi(f).map(h=>{let [x,G]=h;return`"${x}": ${G}`});return 0<f.length?{signal:`{${f.join(", ")}}`}:void 0}function ca(c){const {encoding:a,markDef:d,config:f,stack:h}=c;var x=a.description;if(x)return wa(c,x,"description",G=>E(G,c.config));x=zc("description",d,f);if(null!=x)return{description:Sb(x)};if(!1===f.aria)return{};x=l(a,h,f);if(!Qa(x))return{description:{signal:Zi(x).map((G,ea)=>{let [sa,Ia]=G;return`"${0<ea?"; ":""}${sa}: " + (${Ia})`}).join(" + ")}}}
function na(c,a){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:f,encoding:h,config:x}=a,{vgChannel:G}=d;let {defaultRef:ea,defaultValue:sa}=d;void 0===ea&&(null!=sa||(sa=zc(c,f,x,{vgChannel:G,ignoreVgConfig:!0})),void 0!==sa&&(ea=Sb(sa)));return wa(a,h[c],null!=G?G:c,Ia=>td({channel:c,channelDef:Ia,markDef:f,config:x,scaleName:a.scaleName(c),scale:a.getScaleComponent(c),stack:null,defaultRef:ea}))}function Va(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{filled:void 0};const {markDef:d,encoding:f,config:h}=c;var {type:x}=d,G;a=null!=(G=a.filled)?G:zc("filled",d,h);G=Yb(["bar","point","circle","square","geoshape"],x)?"transparent":void 0;var ea,sa;x=null!=(sa=null!=(ea=zc(!0===a?"color":void 0,d,h,{vgChannel:"fill"}))?ea:h.mark[!0===a&&"color"])?sa:G;var Ia;ea=null!=(Ia=zc(!1===a?"color":void 0,d,h,{vgChannel:"stroke"}))?Ia:h.mark[!1===a&&"color"];Ia=a?"fill":"stroke";sa=Object.assign({},x?{fill:Sb(x)}:{},ea?{stroke:Sb(ea)}:{});d.color&&(a?d.fill:
d.stroke)&&za(Td("property",{fill:"fill"in d,stroke:"stroke"in d}));return Object.assign({},sa,na("color",c,{vgChannel:Ia,defaultValue:a?x:ea}),na("fill",c,{defaultValue:f.fill?x:void 0}),na("stroke",c,{defaultValue:f.stroke?ea:void 0}))}function Ya(c){const {encoding:a,mark:d}=c,f=a.order;return!Ra(d)&&yd(f)?wa(c,f,"zindex",h=>Sb(h.value)):{}}function Gb(c){let {channel:a,markDef:d,encoding:f={},model:h,bandPosition:x}=c;c=`${a}Offset`;const G=d[c],ea=f[c];return"xOffset"!==c&&"yOffset"!==c||!ea?
(c=d[c])?{offsetType:"visual",offset:c}:{}:{offsetType:"encoding",offset:td({channel:c,channelDef:ea,markDef:d,config:null==h?void 0:h.config,scaleName:h.scaleName(c),scale:h.getScaleComponent(c),stack:null,defaultRef:Sb(G),bandPosition:x})}}function ac(c,a,d){let {defaultPos:f,vgChannel:h}=d;const {encoding:x,markDef:G,config:ea,stack:sa}=a;d=x[c];const Ia=x[C(c)],ib=a.scaleName(c),Nb=a.getScaleComponent(c),{offset:sc,offsetType:ld}=Gb({channel:c,markDef:G,encoding:x,model:a,bandPosition:.5}),Kc=
Tb({model:a,defaultPos:f,channel:c,scaleName:ib,scale:Nb});if(!d&&V(c)&&(x.latitude||x.longitude))a={field:a.getName(c)};else a:{a={channel:c,channelDef:d,channel2Def:Ia,markDef:G,config:ea,scaleName:ib,scale:Nb,stack:sa,offset:sc,defaultRef:Kc,bandPosition:"encoding"===ld?0:void 0};const {channel:cd,channelDef:rd,scaleName:fe,stack:Od,offset:se,markDef:Se}=a;if(Wb(rd)&&Od&&cd===Od.fieldChannel){if(la(rd)&&(a=rd.bandPosition,void 0!==a||"text"!==Se.type||"radius"!==cd&&"theta"!==cd||(a=.5),void 0!==
a)){a=Qc({scaleName:fe,fieldOrDatumDef:rd,startSuffix:"start",bandPosition:a,offset:se});break a}a=Uc(rd,fe,{suffix:"end"},{offset:se})}else a=wd(a)}return a?{[h||c]:a}:void 0}function Tb(c){let {model:a,defaultPos:d,channel:f,scaleName:h,scale:x}=c;const {markDef:G,config:ea}=a;return()=>{var sa=u(f),Ia=m(f);Ia=zc(f,G,ea,{vgChannel:Ia});if(void 0!==Ia)return kd(f,Ia);switch(d){case "zeroOrMin":case "zeroOrMax":if(h&&(Ia=x.get("type"),!Yb([Kh.LOG,Kh.TIME,Kh.UTC],Ia)&&x.domainDefinitelyIncludesZero()))return{scale:h,
value:0};if("zeroOrMin"===d)return"y"===sa?{field:{group:"height"}}:{value:0};switch(sa){case "radius":return{signal:`min(${a.width.signal},${a.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return sa=a[B(f)],Object.assign({},sa,{mult:.5})}}}function Bd(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===c||"theta"===c)return m(c);var h="x"===c?"align":"baseline";const x=
zc(h,a,d);Zb(x)?(za(`The ${h} for range marks cannot be an expression`),h=void 0):h=x;return"x"===c?ck[h||("top"===f?"left":"center")]:Zh[h||f]}function Xc(c,a,d){let {defaultPos:f,defaultPos2:h,range:x}=d;return x?Rd(c,a,{defaultPos:f,defaultPos2:h}):ac(c,a,{defaultPos:f})}function Rd(c,a,d){let {defaultPos:f,defaultPos2:h}=d;const {markDef:x,config:G}=a;var ea=C(c);d=B(c);{const {encoding:sc,mark:ld,markDef:Kc,stack:cd,config:rd}=a;var sa=u(ea),Ia=B(ea);const fe=m(ea);var ib=sc[sa],Nb=a.scaleName(sa);
const Od=a.getScaleComponent(sa);({offset:sa}=ea in sc||ea in Kc?Gb({channel:ea,markDef:Kc,encoding:sc,model:a}):Gb({channel:sa,markDef:Kc,encoding:sc,model:a}));if(ib||"x2"!==ea&&"y2"!==ea||!sc.latitude&&!sc.longitude){let {channel:se,channelDef:Se,channel2Def:ff,markDef:Vf,config:Tf,scaleName:mg,scale:Nf,stack:bh,offset:Of,defaultRef:Fi}={channel:ea,channelDef:ib,channel2Def:sc[ea],markDef:Kc,config:rd,scaleName:Nb,scale:Od,stack:cd,offset:sa,defaultRef:void 0};ib=Wb(Se)&&bh&&se.charAt(0)===bh.fieldChannel.charAt(0)?
Uc(Se,mg,{suffix:"start"},{offset:Of}):wd({channel:se,channelDef:ff,scaleName:mg,scale:Nf,stack:bh,markDef:Vf,config:Tf,offset:Of,defaultRef:Fi});ea=void 0!==ib?{[fe]:ib}:te(ea,Kc)||te(ea,{[ea]:Md(ea,Kc,rd.style),[Ia]:Md(Ia,Kc,rd.style)})||te(ea,rd[ld])||te(ea,rd.mark)||{[fe]:Tb({model:a,defaultPos:h,channel:ea,scaleName:Nb,scale:Od})()}}else Ia=B(ea),Nb=a.markDef[Ia],ea=null!=Nb?{[Ia]:{value:Nb}}:{[fe]:{field:a.getName(ea)}}}d=ea[d]?Bd(c,x,G):m(c);return Object.assign({},ac(c,a,{defaultPos:f,vgChannel:d}),
ea)}function te(c,a){const d=B(c),f=m(c);if(void 0!==a[f])return{[f]:kd(c,a[f])};if(void 0!==a[c])return{[f]:kd(c,a[c])};if(a[d])if(a=a[d],pc(a))za(`Position range does not support relative band size for ${d}.`);else return{[d]:kd(c,a)}}function Ce(c,a){const {config:d,encoding:f,markDef:h}=c;var x=h.type,G=C(a),ea=B(a),sa=f[a];G=f[G];var Ia=c.getScaleComponent(a);Ia=Ia?Ia.get("type"):void 0;const ib=h.orient;var Nb;let sc;const ld=null!=(sc=null!=(Nb=f[ea])?Nb:f.size)?sc:zc("size",h,d,{vgChannel:ea});
ea=A(a);x="bar"===x&&("x"===a?"vertical"===ib:"horizontal"===ib);if(!la(sa)||!(X(sa.bin)||Ca(sa.bin)||sa.timeUnit&&!G)||ld&&!pc(ld)||f[ea]||Jc(Ia)){if((Wb(sa)&&Jc(Ia)||x)&&!G){var Kc;{const {markDef:se,encoding:Se,config:ff,stack:Vf}=c;x=se.orient;var cd=c.scaleName(a),rd=c.getScaleComponent(a),fe=B(a),Od=C(a);G=A(a);G=c.scaleName(G);ea=c.getScaleComponent(D(a));x="horizontal"===x&&"y"===a||"vertical"===x&&"x"===a;if(Se.size||se.size)x?Kc=na("size",c,{vgChannel:fe,defaultRef:Sb(se.size)}):za(`Cannot apply size to non-oriented mark "${se.type}".`);
Ia=!!Kc;x=ke({channel:a,fieldDef:sa,markDef:se,config:ff,scaleType:null==rd?void 0:rd.get("type"),useVlSizeChannel:x});Kc=Kc||{[fe]:ue(fe,G||cd,ea||rd,ff,x,!!sa,se.type)};G="band"===(null==rd?void 0:rd.get("type"))&&pc(x)&&!Ia?"top":"middle";G=Bd(a,se,ff,G);ea="xc"===G||"yc"===G;const {offset:Tf,offsetType:mg}=Gb({channel:a,markDef:se,encoding:Se,model:c,bandPosition:ea?.5:0});c=wd({channel:a,channelDef:sa,markDef:se,config:ff,scaleName:cd,scale:rd,stack:Vf,offset:Tf,defaultRef:Tb({model:c,defaultPos:"mid",
channel:a,scaleName:cd,scale:rd}),bandPosition:ea?"encoding"===mg?0:.5:Zb(x)?{signal:`(1-${x})/2`}:pc(x)?(1-x.band)/2:0});fe?Kc=Object.assign({},{[G]:c},Kc):(a=m(Od),Kc=Kc[fe],Kc=Tf?Object.assign({},Kc,{offset:Tf}):Kc,Kc={[G]:c,[a]:P.isArray(c)?[c[0],Object.assign({},c[1],{offset:Kc})]:Object.assign({},c,{offset:Kc})})}return Kc}return Rd(a,c,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:se,fieldDef2:Se,channel:ff,model:Vf}={fieldDef:sa,fieldDef2:G,channel:a,model:c};const {config:Tf,
markDef:mg,encoding:Nf}=Vf;c=Vf.getScaleComponent(ff);Kc=Vf.scaleName(ff);a=c?c.get("type"):void 0;c=c.get("reverse");a=ke({channel:ff,fieldDef:se,markDef:mg,config:Tf,scaleType:a});sa=null!=(rd=null==(cd=null==(Od=Vf.component.axes[ff])?void 0:Od[0])?void 0:cd.get("translate"))?rd:.5;rd=V(ff)?null!=(fe=zc("binSpacing",mg,Tf))?fe:0:0;fe=C(ff);Od=m(ff);cd=m(fe);G=Yc("minBandSize",mg,Tf);({offset:ea}=Gb({channel:ff,markDef:mg,encoding:Nf,model:Vf,bandPosition:0}));({offset:Ia}=Gb({channel:fe,markDef:mg,
encoding:Nf,model:Vf,bandPosition:0}));let {scaleName:bh,fieldDef:Of}={fieldDef:se,scaleName:Kc};x=Oc(Of,{expr:"datum"});Nb=Oc(Of,{expr:"datum",suffix:"end"});Nb=`abs(scale("${bh}", ${Nb}) - scale("${bh}", ${x}))`;x=Ze(ff,rd,c,sa,ea,G,Nb);c=Ze(fe,rd,c,sa,null!=Ia?Ia:ea,G,Nb);a=Zb(a)?{signal:`(1-${a.signal})/2`}:pc(a)?(1-a.band)/2:.5;if(X(se.bin)||se.timeUnit)Kc={[cd]:zf({fieldDef:se,scaleName:Kc,bandPosition:a,offset:c}),[Od]:zf({fieldDef:se,scaleName:Kc,bandPosition:Zb(a)?{signal:`1-${a.signal}`}:
1-a,offset:x})};else{if(Ca(se.bin)){c=Uc(se,Kc,{},{offset:c});if(la(Se)){Kc={[cd]:c,[Od]:Uc(Se,Kc,{},{offset:x})};break a}if(P.isObject(se.bin)&&se.bin.step){Kc={[cd]:c,[Od]:{signal:`scale("${Kc}", ${Oc(se,{expr:"datum"})} + ${se.bin.step})`,offset:x}};break a}}za(ma(fe));Kc=void 0}}return Kc}function ue(c,a,d,f,h,x,G){if(pc(h))if(d){const ea=d.get("type");if("band"===ea)return c=`bandwidth('${a}')`,1!==h.band&&(c=`${h.band} * ${c}`),f=Yc("minBandSize",{type:G},f),{signal:f?`max(${dc(f)}, ${c})`:
c};1!==h.band&&za(`Cannot use the relative band size with ${ea} scale.`)}else return{mult:h.band,field:{group:c}};else{if(Zb(h))return h;if(h)return{value:h}}if(d&&(h=d.get("range"),Rc(h)&&P.isNumber(h.step)))return{value:h.step-2};if(!x){const {bandPaddingInner:ea,barBandPaddingInner:sa,rectBandPaddingInner:Ia}=f.scale;G=Fa(ea,"bar"===G?sa:Ia);if(Zb(G))return{signal:`(1 - (${G.signal})) * ${c}`};if(P.isNumber(G))return{signal:`${1-G} * ${c}`}}return{value:tf(f.view,c)-2}}function Ze(c,a,d,f,h,x,
G){if(c in kk)return 0;a=(c="x"===c||"y2"===c)?-a/2:a/2;if(Zb(d)||Zb(h)||Zb(f)||x){d=dc(d);h=dc(h);f=dc(f);const ea=dc(x);x=x?`(${G} < ${ea} ? ${c?"":"-"}0.5 * (${ea} - (${G})) : ${a})`:a;return{signal:(f?`${f} + `:"")+(d?`(${d} ? -1 : 1) * `:"")+(h?`(${h} + ${x})`:x)}}h=h||0;return f+(d?-h-a:+h+a)}function zf(c){let {fieldDef:a,scaleName:d,bandPosition:f,offset:h}=c;return Qc({scaleName:d,fieldOrDatumDef:a,bandPosition:f,offset:h})}function Uf(c,a){const {fill:d,stroke:f}="include"===a.color?Va(c):
{};var h=Object,x=h.assign;a=bf(c.markDef,a);var G=ef(c,"fill",d),ea=ef(c,"stroke",f),sa=na("opacity",c),Ia=na("fillOpacity",c),ib=na("strokeOpacity",c),Nb=na("strokeWidth",c),sc=na("strokeDash",c),ld=Ya(c),Kc=ia(c),cd=r(c,"href");{const {markDef:se,config:Se}=c,ff=zc("aria",se,Se);if(!1===ff)c={};else{var rd=Object,fe=rd.assign;{const {mark:Vf,markDef:Tf,config:mg}=c;if(!1===mg.aria)var Od={};else Od=zc("ariaRoleDescription",Tf,mg),Od=null!=Od?{ariaRoleDescription:{value:Od}}:Vf in al?{}:{ariaRoleDescription:{value:Vf}}}c=
fe.call(rd,{},ff?{aria:ff}:{},Od,ca(c))}}return x.call(h,{},a,G,ea,sa,Ia,ib,Nb,sc,ld,Kc,cd,c)}function ef(c,a,d){const {config:f,mark:h,markDef:x}=c;return"hide"===zc("invalid",x,f)&&d&&!Ra(h)&&(c=cg(c,{invalid:!0,channels:Ej}))?{[a]:[{test:c,value:null},...P.array(d)]}:d?{[a]:d}:{}}function bf(c,a){return Xk.reduce((d,f)=>{Zk.has(f)||void 0===c[f]||"ignore"===a[f]||(d[f]=Sb(c[f]));return d},{})}function cg(c,a){let {invalid:d=!1,channels:f}=a;a=f.reduce((h,x)=>{var G=c.getScaleComponent(x);G&&(G=
G.get("type"),(x=c.vgField(x,{expr:"datum"}))&&Ac(G)&&(h[x]=!0));return h},{});a=ce(a);if(0<a.length){const h=d?"||":"\x26\x26";return a.map(x=>Mc(x,d)).join(` ${h} `)}}function vh(c){const {config:a,markDef:d}=c;return zc("invalid",d,a)&&(c=lg(c,{channels:oi}))?{defined:{signal:c}}:{}}function lg(c,a){let {invalid:d=!1,channels:f}=a;a=f.reduce((h,x)=>{var G=c.getScaleComponent(x);if(G){G=G.get("type");let ea;(x=c.vgField(x,{expr:"datum",binSuffix:(null==(ea=c.stack)?0:ea.impute)?"mid":void 0}))&&
Ac(G)&&(h[x]=!0)}return h},{});a=ce(a);if(0<a.length){const h=d?"||":"\x26\x26";return a.map(x=>Mc(x,d)).join(` ${h} `)}}function Mf(c,a){if(void 0!==a)return{[c]:Sb(a)}}function mf(c,a,d,f,h){var x=a.name,G=x+"_translate_anchor";x+="_translate_delta";var ea=d.channel;const sa=ri.defined(a);a=h.filter(ld=>ld.name===d.signals[sa?"data":"visual"])[0];f=c.getSizeSignalRef(f).signal;h=(c=c.getScaleComponent(ea))&&c.get("type");var Ia=c&&c.get("reverse");G=`${G}.extent_${ea}`;ea=`${sa?"x"===ea?Ia?"":"-":
Ia?"-":"":""}${x}.${ea} / ${sa?`${f}`:`span(${G})`}`;Ia=sa&&c?"log"===h?"panLog":"symlog"===h?"panSymlog":"pow"===h?"panPow":"panLinear":"panLinear";var ib;let Nb;const sc=sa?"pow"===h?`, ${null!=(ib=c.get("exponent"))?ib:1}`:"symlog"===h?`, ${null!=(Nb=c.get("constant"))?Nb:1}`:"":"";ib=`${Ia}(${G}, ${ea}${sc})`;a.on.push({events:{signal:x},update:sa?ib:`clampRange(${ib}, 0, ${f})`})}function Rf(c,a,d,f,h){var x=a.name,G=d.channel;const ea=ri.defined(a);a=h.filter(ld=>ld.name===d.signals[ea?"data":
"visual"])[0];f=c.getSizeSignalRef(f).signal;const sa=(h=c.getScaleComponent(G))&&h.get("type"),Ia=ea?p(c,G):a.name;c=x+"_zoom_delta";x=`${x}${"_zoom_anchor"}.${G}`;G=ea&&h?"log"===sa?"zoomLog":"symlog"===sa?"zoomSymlog":"pow"===sa?"zoomPow":"zoomLinear":"zoomLinear";var ib;let Nb;const sc=ea?"pow"===sa?`, ${null!=(ib=h.get("exponent"))?ib:1}`:"symlog"===sa?`, ${null!=(Nb=h.get("constant"))?Nb:1}`:"":"";ib=`${G}(${Ia}, ${x}, ${c}${sc})`;a.on.push({events:{signal:c},update:ea?ib:`clampRange(${ib}, 0, ${f})`})}
function If(c){var {escape:a}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};a=a?P.stringValue(c.name):c.name;var d;for(d=c.parent;d&&!ni(d);)d=d.parent;if(d){const {facet:f}=d;for(const h of Jh)f[h]&&(a+=` + '__facet_${h}_' + (facet[${P.stringValue(d.vgField(h))}])`)}return a}function Lf(c){let a;return jh(null!=(a=c.component.selection)?a:{}).reduce((d,f)=>d||f.project.hasSelectionId,!1)}function ah(c,a){!P.isString(a.select)&&a.select.on||delete c.events;!P.isString(a.select)&&
a.select.clear||delete c.clear;!P.isString(a.select)&&a.select.toggle||delete c.toggle}function hg(c){const a=[];if("Identifier"===c.type)return[c.name];if("Literal"===c.type)return[c.value];"MemberExpression"===c.type&&(a.push(...hg(c.object)),a.push(...hg(c.property)));return a}function Fh(c){return"MemberExpression"===c.object.type?Fh(c.object):"datum"===c.object.name}function pg(c){c=P.parseExpression(c);const a=new Set;c.visit(d=>{"MemberExpression"===d.type&&Fh(d)&&a.add(hg(d).slice(1).join("."))});
return a}function kh(c,a,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",h=P.isString(a)?a:a.param,x=Ka(h),G=P.stringValue(x+"_store");try{var ea=c.getSelectionComponent(x,h)}catch(sa){return`!!${x}`}ea.project.timeUnit&&(h=null!=d?d:c.component.data.raw,x=ea.project.timeUnit.clone(),h.parent?x.insertAsParentOf(h):h.parent=x);h=ea.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";ea="global"===ea.resolve?")":`, ${P.stringValue(ea.resolve)})`;f=`${h}${G}, ${f}${ea}`;
G=`length(data(${G}))`;return!1===a.empty?`${G} && ${f}`:`!${G} || ${f}`}function yg(c,a,d){const f=Ka(a),h=d.encoding;let x=d.field,G;try{G=c.getSelectionComponent(f,a)}catch(ea){return f}h||x?h&&!x&&(c=G.project.items.filter(ea=>ea.channel===h),!c.length||1<c.length?(x=G.project.items[0].field,za((c.length?"Multiple ":"No ")+`matching ${P.stringValue(h)} encoding found for selection ${P.stringValue(d.param)}. `+`Using "field": ${P.stringValue(x)}.`)):x=c[0].field):(x=G.project.items[0].field,1<
G.project.items.length&&za('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${P.stringValue(x)}.`));return`${G.name}[${P.stringValue(Vb(x))}]`}function Sh(c,a,d){return lb(a,f=>P.isString(f)?f:(null==f?0:f.param)?kh(c,f,d):Ec(f))}function Pi(c,a){if(c)return P.isArray(c)&&!dd(c)?c.map(d=>Qi(d,a)).join(", "):c}function ci(c,a,d,f){null!=c.encode||(c.encode={});let h;null!=(h=c.encode)[a]||(h[a]={});let x;null!=(x=c.encode[a]).update||(x.update=
{});c.encode[a].update[d]=f}function ki(c,a,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},h=c.combine(),x=Object.assign({},h),G=h.disable;const ea=h.orient,sa=h.scale;var Ia=h.labelExpr;const ib=h.title;h=h.zindex;x=(delete x.disable,delete x.orient,delete x.scale,delete x.labelExpr,delete x.title,delete x.zindex,x);if(!G){for(const sc in x){var Nb=Yg[sc];G=x[sc];if(Nb&&Nb!==a&&"both"!==Nb)delete x[sc];else if(jf(G)){Nb=G;G=Object.assign({},Nb);Nb=Nb.condition;G=(delete G.condition,
G);Nb=P.array(Nb);const ld=Cj[sc];if(ld){const {vgProp:Kc,part:cd}=ld;G=[...Nb.map(rd=>{var fe=Object.assign({},rd);rd=rd.test;fe=(delete fe.test,fe);return Object.assign({},{test:Sh(null,rd)},fe)}),G];ci(x,cd,Kc,G);delete x[sc]}else null===ld&&(G={signal:Nb.map(Kc=>{var cd=Object.assign({},Kc);Kc=Kc.test;cd=(delete cd.test,cd);return`${Sh(null,Kc)} ? ${ic(cd)} : `}).join("")+ic(G)},x[sc]=G)}else if(Zb(G)&&(Nb=Cj[sc])){const {vgProp:ld,part:Kc}=Nb;ci(x,Kc,ld,G);delete x[sc]}Yb(["labelAlign","labelBaseline"],
sc)&&null===x[sc]&&delete x[sc]}if("grid"===a){if(x.grid)return x.encode&&({grid:Ia}=x.encode,x.encode=Object.assign({},Ia?{grid:Ia}:{}),Qa(x.encode)&&delete x.encode),Object.assign({},{scale:sa,orient:ea},x,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Fa(h,0)})}else if(f.header||!c.mainExtracted){if(void 0!==Ia){f=Ia;let sc,ld;(null==(sc=x.encode)?0:null==(ld=sc.labels)?0:ld.update)&&Zb(x.encode.labels.update.text)&&(f=nb(Ia,"datum.label",x.encode.labels.update.text.signal));
ci(x,"labels","text",{signal:f})}null===x.labelAlign&&delete x.labelAlign;if(x.encode){for(const sc of Bj)c.hasAxisPart(sc)||delete x.encode[sc];Qa(x.encode)&&delete x.encode}Ia=Pi(ib,d);return Object.assign({},{scale:sa,orient:ea,grid:!1},Ia?{title:Ia}:{},x,!1===d.aria?{aria:!1}:{},{zindex:Fa(h,0)})}}}function Oi(c){const {axes:a}=c.component,d=[];for(const f of oi)if(a[f])for(const h of a[f])if(!h.get("disable")&&!h.get("gridScale")){const x="x"===f?"height":"width",G=c.getSizeSignalRef(x).signal;
x!==G&&d.push({name:x,update:G})}return d}function Cg(c,a){const {x:d=[],y:f=[]}=c;return[...d.map(h=>ki(h,"grid",a)),...f.map(h=>ki(h,"grid",a)),...d.map(h=>ki(h,"main",a)),...f.map(h=>ki(h,"main",a))].filter(h=>h)}function kj(c,a,d,f){return Object.assign.apply(null,[{},...c.map(h=>{if("axisOrient"===h){h="x"===d?"bottom":"left";const x=a["x"===d?"axisBottom":"axisLeft"]||{},G=a["x"===d?"axisTop":"axisRight"]||{},ea=new Set([...ce(x),...ce(G)]),sa={};for(const Ia of ea.values())sa[Ia]={signal:`${f.signal} === "${h}" ? ${dc(x[Ia])} : ${dc(G[Ia])}`};
return sa}return a[h]})])}function lj(c,a,d,f){var h="band"===a?["axisDiscrete","axisBand"]:"point"===a?["axisDiscrete","axisPoint"]:wh.has(a)?["axisQuantitative"]:"time"===a||"utc"===a?["axisTemporal"]:[];const x="x"===c?"axisX":"axisY";a=Zb(d)?"axisOrient":`axis${Pa(d)}`;h=[...h,...h.map(G=>x+G.substr(4))];a=["axis",a,x];return{vlOnlyAxisConfig:kj(h,f,c,d),vgAxisConfig:kj(a,f,c,d),axisConfigStyle:Ai([...a,...h],f)}}function Ai(c,a){const d=[{}];for(const f of c){let h;if(c=null==(h=a[f])?void 0:
h.style){c=P.array(c);for(const x of c)d.push(a.style[x])}}return Object.assign.apply(null,d)}function Si(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const h=ud(c,d,a);if(void 0!==h)return{configFrom:"style",configValue:h};for(const x of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){let G;if(void 0!==(null==(G=f[x])?void 0:G[c]))return{configFrom:x,configValue:f[x][c]}}return{}}function y(c,a,d,f,h){const x=null==a?void 0:a.labelAngle;if(void 0!==x)return Zb(x)?
x:oa(x);({configValue:a}=Si("labelAngle",f,null==a?void 0:a.style,h));if(void 0!==a)return oa(a);if("x"===d&&Yb(["nominal","ordinal"],c.type)&&(!la(c)||!c.timeUnit))return 270}function W(c){return`(((${c.signal} % 360) + 360) % 360)`}function ha(c,a,d,f){if(void 0!==c)return"x"===d?Zb(c)?(f=W(c),a=Zb(a)?`(${a.signal} === "top")`:"top"===a,{signal:`(45 < ${f} && ${f} < 135) || (225 < ${f} && ${f} < 315) ? "middle" :`+`(${f} <= 45 || 315 <= ${f}) === ${a} ? "bottom" : "top"`}):45<c&&135>c||225<c&&315>
c?"middle":Zb(a)?{signal:`${a.signal} ${45>=c||315<=c?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:(45>=c||315<=c)===("top"===a)?"bottom":"top":Zb(c)?(c=W(c),a=Zb(a)?`(${a.signal} === "left")`:"left"===a,{signal:`${c} <= 45 || 315 <= ${c} || (135 <= ${c} && ${c} <= 225) ? ${f?'"middle"':"null"} : (45 <= ${c} && ${c} <= 135) === ${a} ? "top" : "bottom"`}):45>=c||315<=c||135<=c&&225>=c?f?"middle":null:Zb(a)?{signal:`${a.signal} ${45<=c&&135>=c?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:
(45<=c&&135>=c)===("left"===a)?"top":"bottom"}function Ma(c,a,d){if(void 0!==c){var f=(d="x"===d)?0:90,h=d?"bottom":"left";return Zb(c)?(c=W(c),a=Zb(a)?`(${a.signal} === "${h}")`:a===h,{signal:`(${f?`(${c} + 90)`:c} % 180 === 0) ? ${d?null:'"center"'} :`+`(${f} < ${c} && ${c} < ${180+f}) === ${a} ? "left" : "right"`}):0===(c+f)%180?d?null:"center":Zb(a)?{signal:`${`${a.signal} ${f<c&&c<180+f?"\x3d\x3d\x3d":"!\x3d\x3d"} "${h}"`} ? "left" : "right"`}:(f<c&&c<180+f)===(a===h)?"left":"right"}}function zb(c,
a){var d="x"===a?"x2":"y2";a=c.fieldDef(a);c=c.fieldDef(d);d=a?a.title:void 0;c=c?c.title:void 0;if(d&&c)return vb(d,c);if(d)return d;if(c)return c;if(void 0!==d)return d;if(void 0!==c)return c}function Bb(c,a,d){return Oc(c,Object.assign({},{prefix:a,suffix:"sort_index"},null!=d?d:{}))}function Qb(c,a){return Yb(["top","bottom"],a)?"column":Yb(["left","right"],a)?"row":"row"===c?"row":"column"}function lc(c,a,d,f){return Fa((a||{})[c],("row"===f?d.headerRow:"column"===f?d.headerColumn:d.headerFacet)[c],
d.header[c])}function Vc(c,a,d,f){const h={};for(const x of c)c=lc(x,a||{},d,f),void 0!==c&&(h[x]=c);return h}function Kd(c,a){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const d=Ma(a,"row"===c?"left":"top","row"===c?"y":"x");return d?{align:d}:{}}function Sd(c,a){return(c=ha(c,"row"===a?"left":"top","row"===a?"y":"x",!0))?{baseline:c}:{}}function ad(c,a,d){const {format:f,formatType:h,labelAngle:x,labelAnchor:G,
labelOrient:ea,labelExpr:sa}=Vc("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),c.header,d,a),Ia=Cd({fieldOrDatumDef:c,format:f,formatType:h,expr:"parent",config:d}).signal,ib=Qb(a,ea);return Object.assign({},{text:{signal:sa?nb(nb(sa,"datum.label",Ia),"datum.value",Oc(c,{expr:"parent"})):Ia}},"row"===a?{orient:"left"}:{},{style:"guide-label",frame:"group"},Sd(x,ib),Kd(ib,x,G),ie(d,c,a,Vl,zl))}function ie(c,a,d,f,h){const x={};for(const G of f){if(!h[G])continue;let ea;
f=lc(G,null==(ea=a)?void 0:ea.header,c,d);void 0!==f&&(x[h[G]]=f)}return x}function Ke(c){return[...Ue(c,"width"),...Ue(c,"height"),...Ue(c,"childWidth"),...Ue(c,"childHeight")]}function Ue(c,a){var d="width"===a?"x":"y",f=c.component.layoutSize.get(a);if(!f||"merged"===f)return[];a=c.getSizeSignalRef(a).signal;if("step"===f){if(f=c.getScaleComponent(d)){var h=f.get("type");const x=f.get("range");if(Jc(h)&&Rc(x))return h=c.scaleName(d),ni(c.parent)&&"independent"===c.parent.component.resolve.scale[d]?
[w(h,x)]:[w(h,x),{name:a,update:T(h,f,`domain('${h}').length`)}]}throw Error("layout size is step although width/height is not step.");}return"container"==f?(d=(f=a.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",c=Bf(c.config.view,f?"width":"height"),c=`isFinite(${d}) ? ${d} : ${c}`,[{name:a,init:c,on:[{update:c,events:"window:resize"}]}]):[{name:a,value:f}]}function w(c,a){c=`${c}_step`;return Zb(a.step)?{name:c,update:a.step.signal}:{name:c,value:a.step}}function T(c,a,d){const f=
a.get("type"),h=a.get("padding"),x=Fa(a.get("paddingOuter"),h);a=a.get("paddingInner");return`bandspace(${d}, ${dc("band"===f?void 0!==a?a:h:1)}, ${dc(x)}) * ${c}_step`}function aa(c){return"childWidth"===c?"width":"childHeight"===c?"height":c}function Ea(c,a){return ce(c).reduce((d,f)=>Object.assign({},d,wa(a,c[f],f,h=>Sb(h.value))),{})}function rb(c,a){if(ni(a))return"theta"===c?"independent":"shared";if(Hi(a))return"shared";if(Wi(a))return V(c)||"theta"===c||"radius"===c?"independent":"shared";
throw Error("invalid model type for resolve");}function xb(c,a){const d=c.scale[a],f=V(a)?"axis":"legend";return"independent"===d?("shared"===c[f][a]&&za(`Setting the scale to be independent for "${a}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):c[f][a]||"shared"}function Lb(c){return Lc(c,(a,d)=>Math.max(a,d.value))}function Mb(c){return Lc(c,(a,d)=>Fa(a,d.value))}function Lc(c,a){const d=null==c?void 0:c.condition;if(d&&(P.isArray(d)||yd(d)))return P.array(c.condition).reduce(a,
c.value);if(yd(c))return c.value}function Dd(c,a,d){c=a.get("selections");if(null!=c&&c.length){var f=P.stringValue(d.field);return c.map(h=>`(!length(data(${P.stringValue(Ka(h)+"_store")})) || (${h}[${f}] && indexof(${h}[${f}], datum.value) >= 0))`).join(" || ")}}function gd(c,a,d,f){return{signal:`clamp(${c.getSizeSignalRef(a).signal}, ${d}, ${f})`}}function nc(c){if(rg(c)){var {encoding:a}=c,d={};for(rd of["color",...nl]){var f=Le(a[rd]);if(f&&c.getScaleComponent(rd)&&("shape"!==rd||!la(f)||"geojson"!==
f.type)){a:{var h=void 0,x=void 0,G=void 0,ea=void 0,sa=void 0,Ia,ib=Ia=void 0,Nb=void 0;f=c;var sc=rd;let fe=f.legend(sc);const {markDef:Od,encoding:se,config:Se}=f;var ld=Se.legend;b:{var Kc=f;var cd=sc;ea=Kc.scaleName(cd);if("trail"===Kc.mark){if("color"===cd){Kc={stroke:ea};break b}if("size"===cd){Kc={strokeWidth:ea};break b}}Kc="color"===cd?Kc.markDef.filled?{fill:ea}:{stroke:ea}:{[cd]:ea}}Kc=new Al({},Kc);cd=null==(Nb=f.fieldDef(sc))?void 0:Nb.field;for(const Nf of jh(null!=(ib=f.component.selection)?
ib:{})){let bh;if((ib=null!=(bh=Nf.project.hasField[cd])?bh:Nf.project.hasChannel[sc])&&uk.defined(Nf)){let Of;Nb=null!=(Of=Kc.get("selections"))?Of:[];Nb.push(Nf.name);Kc.set("selections",Nb,!1);ib.hasLegend=!0}}ib=void 0!==fe?!fe:ld.disable;Kc.set("disable",ib,void 0!==fe);if(ib){f=Kc;break a}fe=fe||{};Nb=f.getScaleComponent(sc).get("type");ib=Le(se[sc]);ea=la(ib)?null==(Ia=Nd(ib.timeUnit))?void 0:Ia.unit:void 0;cd=fe.orient||Se.legend.orient||"right";Ia={legend:fe,channel:sc,timeUnit:ea,scaleType:Nb};
({legend:ea}=Ia);ea=ea.type;b:{let {channel:Nf,timeUnit:bh,scaleType:Of}=Ia;if(Q(Nf)){if(Yb(["quarter","month","day"],bh)){Ia="symbol";break b}if(Jg.has(Of)){Ia="gradient";break b}}Ia="symbol"}Ia=Fa(ea,Ia);let {legendConfig:ff,legendType:Vf,orient:Tf,legend:mg}={legend:fe,legendType:Ia,orient:cd,legendConfig:ld};if(null!=(ea=null!=(sa=mg.direction)?sa:ff[Vf?"gradientDirection":"symbolDirection"]))sa=ea;else b:{switch(Tf){case "top":case "bottom":sa="horizontal";break b;case "left":case "right":case "none":case void 0:break;
default:sa="gradient"===Vf?"horizontal":void 0;break b}sa=void 0}ld={legend:fe,channel:sc,model:f,markDef:Od,encoding:se,fieldOrDatumDef:ib,legendConfig:ld,config:Se,scaleType:Nb,orient:cd,legendType:Ia,direction:sa};for(const Nf of sl)if(!("gradient"===Ia&&Nf.startsWith("symbol")||"symbol"===Ia&&Nf.startsWith("gradient"))&&(sa=Nf in Hk?Hk[Nf](ld):fe[Nf],void 0!==sa)){b:{Nb=ea=void 0;cd=f.fieldDef(sc);switch(Nf){case "disable":cd=void 0!==fe;break b;case "values":cd=!(null==(Nb=fe)||!Nb.values);break b;
case "title":if("title"===Nf&&sa===(null==(ea=cd)?void 0:ea.title)){cd=!0;break b}}cd=sa===(fe||{})[Nf]}((Nb=cd)||void 0===Se.legend[Nf])&&Kc.set(Nf,sa,Nb)}ld=null!=(x=null==(G=fe)?void 0:G.encoding)?x:{};x=Kc.get("selections");G={};sc={fieldOrDatumDef:ib,model:f,channel:sc,legendCmpt:Kc,legendType:Ia};for(const Nf of"labels legend title symbols gradient entries".split(" ")){let bh;sa=Ea(null!=(bh=ld[Nf])?bh:{},f);sa=Nf in hl?hl[Nf](sa,sc):sa;if(void 0!==sa&&!Qa(sa)){let Of,Fi;G[Nf]=Object.assign({},
(null==(Of=x)?0:Of.length)&&la(ib)?{name:`${Ka(ib.field)}_legend_${Nf}`}:{},(null==(Fi=x)?0:Fi.length)?{interactive:!!x}:{},{update:sa})}}Qa(G)||Kc.set("encode",G,!(null==(h=fe)||!h.encoding));f=Kc}d[rd]=f}}var rd=d}else{const {legends:fe,resolve:Od}=c.component;for(a of c.children){nc(a);for(d of ce(a.component.legends))Od.legend[d]=xb(c.component.resolve,d),"shared"===Od.legend[d]&&(fe[d]=sd(fe[d],a.component.legends[d]),fe[d]||(Od.legend[d]="independent",delete fe[d]))}for(f of ce(fe))for(h of c.children)h.component.legends[f]&&
"shared"===Od.legend[f]&&delete h.component.legends[f];rd=fe}return c.component.legends=rd}function sd(c,a){if(!c)return a.clone();var d=c.getWithExplicit("orient");const f=a.getWithExplicit("orient");if(!d.explicit||!f.explicit||d.value===f.value){var h=!1;for(const x of sl)d=Zg(c.getWithExplicit(x),a.getWithExplicit(x),x,"legend",(G,ea)=>{switch(x){case "symbolType":return G="circle"===ea.value?ea:G,G;case "title":return ta(G,ea);case "type":return h=!0,Ng("symbol")}return fh(G,ea,x,"legend")}),
c.setWithExplicit(x,d);if(h){let x,G;(null==(x=c.implicit)?0:null==(G=x.encode)?0:G.gradient)&&mb(c.implicit,["encode","gradient"]);let ea,sa;(null==(ea=c.explicit)?0:null==(sa=ea.encode)?0:sa.gradient)&&mb(c.explicit,["encode","gradient"])}return c}}function xd(c){const a=c.component.legends,d={};for(const h of ce(a)){var f=c.getScaleComponent(h);f=Ag(f.get("domains"));if(d[f])for(const x of d[f])sd(x,a[h])||d[f].push(a[h]);else d[f]=[a[h].clone()]}return jh(d).flat().map(h=>{{var x=c.config,G=h.combine();
h=Object.assign({},G);const sc=G.disable;G=G.labelExpr;h=(delete h.disable,delete h.labelExpr,delete h.selections,h);if(sc)var ea=void 0;else{!1===x.aria&&void 0==h.aria&&(h.aria=!1);var sa;if(null==(sa=h.encode)?0:sa.symbols){x=h.encode.symbols.update;!x.fill||"transparent"===x.fill.value||x.stroke||h.stroke||(x.stroke={value:"transparent"});for(var Ia of nl)h[Ia]&&delete x[Ia]}h.title||delete h.title;if(void 0!==G){Ia=G;var ib,Nb;(null==(ib=h.encode)?0:null==(Nb=ib.labels)?0:Nb.update)&&Zb(h.encode.labels.update.text)&&
(Ia=nb(G,"datum.label",h.encode.labels.update.text.signal));ib=h;Nb={signal:Ia};null!=ib.encode||(ib.encode={});null!=(ea=ib.encode).labels||(ea.labels={});let ld;null!=(ld=ib.encode.labels).update||(ld.update={});ib.encode.labels.update.text=Nb}ea=h}}return ea}).filter(h=>void 0!==h)}function ze(c){return c.children.reduce((a,d)=>a.concat(d.assembleProjections()),oe(c))}function oe(c){var a=c.component.projection;if(!a||a.merged)return[];const d=a.combine(),{name:f}=d;if(a.data){const h={signal:`[${a.size.map(x=>
x.signal).join(", ")}]`};a=a.data.reduce((x,G)=>{G=Zb(G)?G.signal:`data('${c.lookupDataSource(G)}')`;x.includes(G)||x.push(G);return x},[]);if(0>=a.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:f,size:h,fit:{signal:1<a.length?`[${a.join(", ")}]`:a[0]}},d)]}return[Object.assign({},{name:f},{translate:{signal:"[width / 2, height / 2]"}},d)]}function We(c){var a=c.component;if(rg(c))if(c.hasProjection){var d=qc(c.specifiedProjection);var f=!(d&&(null!=
d.scale||null!=d.translate));const x=f?[c.getSizeSignalRef("width"),c.getSizeSignalRef("height")]:void 0;if(f){f=[];const {encoding:ea}=c;for(h of[["longitude","latitude"],["longitude2","latitude2"]])(Le(ea[h[0]])||Le(ea[h[1]]))&&f.push({signal:c.getName(`geojson_${f.length}`)});c.channelHasField("shape")&&"geojson"===c.typedFieldDef("shape").type&&f.push({signal:c.getName(`geojson_${f.length}`)});0===f.length&&f.push(c.requestDataName(ug.Main));var h=f}else h=void 0;let G;c=new Bl(c.projectionName(!0),
Object.assign({},null!=(G=qc(c.config.projection))?G:{},null!=d?d:{}),x,h);c.get("type")||c.set("type","equalEarth",!1);d=c}else d=void 0;else d=Zf(c);a.projection=d}function Ef(c,a){const d=tb(Il,f=>!P.hasOwnProperty(c.explicit,f)&&!P.hasOwnProperty(a.explicit,f)||P.hasOwnProperty(c.explicit,f)&&P.hasOwnProperty(a.explicit,f)&&Bi(c.get(f),a.get(f))?!0:!1);if(Bi(c.size,a.size)){if(d)return c;if(Bi(c.explicit,{}))return a;if(Bi(a.explicit,{}))return c}return null}function Zf(c){if(0!==c.children.length){var a;
for(var d of c.children)We(d);d=tb(c.children,f=>{if(f=f.component.projection){if(a)return(f=Ef(a,f))&&(a=f),!!f;a=f}return!0});if(a&&d){d=c.projectionName(!0);const f=new Bl(d,a.specifiedProjection,a.size,vf(a.data));for(const h of c.children)if(c=h.component.projection)c.isFit&&f.data.push(...h.component.projection.data),h.renameProjection(c.get("name"),d),c.merged=!0;return f}}}function ig(c,a,d){let f;d=null!=(f=wf(d,void 0))?f:{};a=`${$a(d)}_${a}`;return c.getName(`${a}_bins`)}function Gh(c,
a,d){let f;f="as"in c?P.isString(c.as)?[c.as,`${c.as}_end`]:[c.as[0],c.as[1]]:[Oc(c,{forAs:!0}),Oc(c,{binSuffix:"end",forAs:!0})];a=Object.assign({},wf(a,void 0));var h=c.field;h=`${$a(a)}_${h}`;var x={signal:d.getName(`${h}_bins`),extentSignal:d.getName(`${h}_extent`)};const {signal:G,extentSignal:ea}=x;if(Xa(a.extent)){var sa=a.extent;sa=yg(d,sa.param,sa);delete a.extent}c=Object.assign({},{bin:a,field:c.field,as:[f]},G?{signal:G}:{},ea?{extentSignal:ea}:{},sa?{span:sa}:{});return{key:h,binComponent:c}}
function jg(c){return c.startsWith("'")&&c.endsWith("'")||c.startsWith('"')&&c.endsWith('"')?c.slice(1,-1):c}function uf(c,a){c=wb(c);if("number"===a)return`toNumber(${c})`;if("boolean"===a)return`toBoolean(${c})`;if("string"===a)return`toString(${c})`;if("date"===a)return`toDate(${c})`;if("flatten"===a)return c;if(a.startsWith("date:"))return a=jg(a.slice(5,a.length)),`timeParse(${c},'${a}')`;if(a.startsWith("utc:"))return a=jg(a.slice(4,a.length)),`utcParse(${c},'${a}')`;za(`Unrecognized parse "${a}".`);
return null}function Pg(c){const a={};Fb(c.filter,d=>{if(cb(d)){let f=null;if(gf(d))f=Ub(d.equal);else if(df(d))f=Ub(d.lte);else if(cf(d))f=Ub(d.lt);else if(pe(d))f=Ub(d.gt);else if(nf(d))f=Ub(d.gte);else if(U(d))f=d.range[0];else if(ua(d)){let h;f=(null!=(h=d.oneOf)?h:d["in"])[0]}f&&(Hb(f)?a[d.field]="date":P.isNumber(f)?a[d.field]="number":P.isString(f)&&(a[d.field]="string"));d.timeUnit&&(a[d.field]="date")}});return a}function vg(c){function a(f){if(af(f))d[f.field]="date";else{var h;if(h="quantitative"===
f.type)h=f.aggregate,h=P.isString(h)&&Yb(["min","max"],h);h?d[f.field]="number":1<Z(f.field)?f.field in d||(d[f.field]="flatten"):Zc(f)&&bd(f.sort)&&1<Z(f.sort.field)&&(f.sort.field in d||(d[f.sort.field]="flatten"))}}const d={};(rg(c)||ni(c))&&c.forEachFieldDef((f,h)=>{Dc(f)?a(f):(h=u(h),h=c.fieldDef(h),a(Object.assign({},f,{type:h.type})))});if(rg(c)){const {mark:f,markDef:h,encoding:x}=c;if(Ra(f)&&!c.encoding.order){const G=x["horizontal"===h.orient?"y":"x"];!la(G)||"quantitative"!==G.type||G.field in
d||(d[G.field]="number")}}return d}function Je(c){return c instanceof n||c instanceof b||c instanceof e}function le(c){return c.stack.stackBy.reduce((a,d)=>{(d=Oc(d.fieldDef))&&a.push(d);return a},[])}function Oe(c){return P.isArray(c)&&c.every(a=>P.isString(a))&&1<c.length}function re(c){function a(d){if(!(d instanceof Di)){const f=d.clone();if(f instanceof uh){const h="scale_"+f.getSource();f.setSource(h);c.model.component.data.outputNodes[h]=f}else(f instanceof Ci||f instanceof qd||f instanceof
me||f instanceof Tc)&&f.addDimensions(c.fields);for(const h of d.children.flatMap(a))h.parent=f;return[f]}return d.children.flatMap(a)}return a}function gg(c){if(c instanceof Di)if(1!==c.numChildren()||c.children[0]instanceof uh){var a=c.model.component.data.main;Ig(a);const d=re(c);c=c.children.map(d).flat();for(const f of c)f.parent=a}else a=c.children[0],(a instanceof Ci||a instanceof qd||a instanceof me||a instanceof Tc)&&a.addDimensions(c.fields),a.swapWithParent(),gg(c);else c.children.map(gg)}
function Ig(c){if(c instanceof uh&&c.type===ug.Main&&1===c.numChildren()){const a=c.children[0];a instanceof Di||(a.swapWithParent(),Ig(c))}}function zg(c){for(const a of c){for(const d of a.children)if(d.parent!==a)return!1;if(!zg(a.children))return!1}return!0}function ng(c,a){let d=!1;for(const f of a)d=c.optimize(f)||d;return d}function Oh(c,a,d){let f=c.sources,h=!1;h=ng(new ge,f)||h;h=ng(new Pc(a),f)||h;f=f.filter(x=>0<x.numChildren());h=ng(new He,f)||h;f=f.filter(x=>0<x.numChildren());d||(h=
ng(new je,f)||h,h=ng(new ch(a),f)||h,h=ng(new zd,f)||h,h=ng(new de,f)||h,h=ng(new Ye,f)||h,h=ng(new Te,f)||h,h=ng(new wc,f)||h,h=ng(new md,f)||h);c.sources=f;return h}function fi(c){const a=c.component.scales;for(const Ia of ce(a)){var d=c,f=Ia,h=d.getScaleComponent(f).get("type"),{encoding:x}=d;var G=d.scaleDomain(f);var ea=d.typedFieldDef(f),sa=d.config.scale;if("unaggregated"===G){const {valid:ib,reason:Nb}=Ij(ea,h);ib||(za(Nb),G=void 0)}else void 0===G&&sa.useUnaggregatedDomain&&({valid:ea}=Ij(ea,
h),ea&&(G="unaggregated"));G!==d.scaleDomain(f)&&(d.specifiedScales[f]=Object.assign({},d.specifiedScales[f],{domain:G}));d="x"===f&&Le(x.x2)?Le(x.x)?Zg(ti(h,G,d,"x"),ti(h,G,d,"x2"),"domain","scale",rj):ti(h,G,d,"x2"):"y"===f&&Le(x.y2)?Le(x.y)?Zg(ti(h,G,d,"y"),ti(h,G,d,"y2"),"domain","scale",rj):ti(h,G,d,"y2"):ti(h,G,d,f);a[Ia].setWithExplicit("domains",d);G=f=void 0;h=c.component.scales[Ia];ea=c.specifiedScales[Ia].domain;x=null==(G=c.fieldDef(Ia))?void 0:G.bin;G=(null==ea?void 0:ea.param)&&ea;x=
P.isObject(x)&&Xa(x.extent)&&x.extent;(G||x)&&h.set("selectionExtent",null!=(f=G)?f:x,!0);if(c.component.data.isFaceted){for(f=c;!ni(f)&&f.parent;)f=f.parent;if("shared"===f.component.resolve.scale[Ia])for(const ib of d.value)Pd(ib)&&(ib.data="scale_"+ib.data.replace("scale_",""))}}}function ej(c){for(var a of c.children){var d=a;rg(d)?fi(d):ej(d)}d=c.component.scales;for(const h of ce(d)){let x;a=null;for(const G of c.children){var f=G.component.scales[h];f&&(x=void 0===x?f.getWithExplicit("domains"):
Zg(x,f.getWithExplicit("domains"),"domains","scale",rj),f=f.get("selectionExtent"),a&&f&&a.param!==f.param&&za("The same selection must be used to override scale domains in a layered view."),a=f)}d[h].setWithExplicit("domains",x);a&&d[h].set("selectionExtent",a,!0)}}function qj(c,a,d){return c.map(f=>({signal:`{data: ${ag(f,{timeUnit:d,type:a})}}`}))}function Gj(c,a,d){let f;d=null==(f=Nd(d))?void 0:f.unit;return"temporal"===a||d?qj(c,a,d):[c]}function ti(c,a,d,f){var {encoding:h}=d;h=Le(h[f]);const {type:x}=
h,G=h.timeUnit;if(null==a?0:a.unionWith)return f=ti(c,void 0,d,f),a=Gj(a.unionWith,x,G),Hg([...a,...f.value]);if(Zb(a))return Hg([a]);if(a&&"unaggregated"!==a&&(null==a||!a.param))return Hg(Gj(a,x,G));var ea=d.stack;if(ea&&f===ea.fieldChannel){if("normalize"===ea.offset)return Ng([[0,1]]);a=d.requestDataName(ug.Main);return Ng([{data:a,field:d.vgField(f,{suffix:"start"})},{data:a,field:d.vgField(f,{suffix:"end"})}])}ea=mi[f]&&la(h)?Hj(d,f,c):void 0;if(hb(h))return f=Gj([h.datum],x,G),Ng(f);if("unaggregated"===
a)return f=d.requestDataName(ug.Main),{field:a}=h,Ng([{data:f,field:Oc({field:a,aggregate:"min"})},{data:f,field:Oc({field:a,aggregate:"max"})}]);if(X(h.bin)){if(Jc(c))return"bin-ordinal"===c?Ng([]):Ng([{data:Da(ea)?d.requestDataName(ug.Main):d.requestDataName(ug.Raw),field:d.vgField(f,hf(h,f)?{binSuffix:"range"}:{}),sort:!0!==ea&&P.isObject(ea)?ea:{field:d.vgField(f,{}),op:"min"}}]);({bin:a}=h);if(X(a)){const sa=ig(d,h.field,a);return Ng([new Fe(()=>{const Ia=d.getSignalName(sa);return`[${Ia}.start, ${Ia}.stop]`})])}return Ng([{data:d.requestDataName(ug.Main),
field:d.vgField(f,{})}])}return h.timeUnit&&Yb(["time","utc"],c)&&O(h,rg(d)?d.encoding[C(f)]:void 0,d.markDef,d.config)?(a=d.requestDataName(ug.Main),Ng([{data:a,field:d.vgField(f)},{data:a,field:d.vgField(f,{suffix:"end"})}])):ea?Ng([{data:Da(ea)?d.requestDataName(ug.Main):d.requestDataName(ug.Raw),field:d.vgField(f),sort:ea}]):Ng([{data:d.requestDataName(ug.Main),field:d.vgField(f)}])}function mj(c,a){const {op:d,field:f,order:h}=c;return Object.assign({},{op:null!=d?d:a?"sum":"min"},f?{field:Vb(f)}:
{},h?{order:h}:{})}function Hj(c,a,d){if(Jc(d)){var f=c.fieldDef(a);d=f.sort;if(Gc(d))return{op:"min",field:Bb(f,a),order:"ascending"};({stack:f}=c);var h=f?new Set([...f.groupbyFields,...f.stackBy.map(x=>x.fieldDef.field)]):void 0;if(bd(d))return c=f&&!h.has(d.field),mj(d,c);if(null!=d&&d.encoding){const {encoding:x,order:G}=d;c=c.fieldDef(x);const {aggregate:ea,field:sa}=c;a=f&&!h.has(sa);if(L(ea)||va(ea))return mj({field:Oc(c),order:G},a);if(La(ea)||!ea)return mj({op:ea,field:sa,order:G},a)}else{if("descending"===
d)return{op:"min",field:c.vgField(a),order:"descending"};if(Yb(["ascending",void 0],d))return!0}}}function Ij(c,a){const {aggregate:d,type:f}=c;return d?P.isString(d)&&!Wk.has(d)?{valid:!1,reason:`Unaggregated domain not applicable for "${d}" since it produces values outside the origin domain of the source data.`}:"quantitative"===f&&"log"===a?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${Ag(c)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${Ag(c)}).`}}
function rj(c,a,d,f){if(c.explicit&&a.explicit){var h=a.value;d=`Conflicting ${f.toString()} property "${d.toString()}" (${Ag(c.value)} and ${Ag(h)}). Using the union of the two domains.`;za(d)}return{explicit:c.explicit,value:[...c.value,...a.value]}}function Gk(c){var a=Kb(c.map(h=>Pd(h)?(h=Object.assign({},h),delete h.sort,h):h),Ab),d=Kb(c.map(h=>{if(Pd(h))return h=h.sort,void 0===h||Da(h)||("op"in h&&"count"===h.op&&delete h.field,"ascending"===h.order&&delete h.order),h}).filter(h=>void 0!==
h),Ab);if(0!==a.length){if(1===a.length){a=c[0];if(Pd(a)&&0<d.length){var f=d[0];1<d.length?(za("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=d.filter(h=>P.isObject(h)&&"op"in h&&"min"!==h.op),f=d.every(h=>P.isObject(h)&&"op"in h)&&1===f.length?f[0]:!0):P.isObject(f)&&"field"in f&&a.field===f.field&&(f=f.order?{order:f.order}:!0);return Object.assign({},a,{sort:f})}return a}d=Kb(d.map(h=>{if(Da(h)||!("op"in h)||P.isString(h.op)&&h.op in mk)return h;
za(`Dropping sort property ${Ag(h)} as unioned domains only support boolean or op "count", "min", and "max".`);return!0}),Ab);1===d.length?f=d[0]:1<d.length&&(za("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=!0);d=Kb(c.map(h=>Pd(h)?h.data:null),h=>h);return 1===d.length&&null!==d[0]?Object.assign({},{data:d[0],fields:a.map(h=>h.field)},f?{sort:f}:{}):Object.assign({},{fields:a},f?{sort:f}:{})}}function Fk(c){if(Pd(c)&&P.isString(c.field))return c.field;
var a=P.isArray(c)?!1:"fields"in c&&!("data"in c);if(a){let d;for(const f of c.fields)if(Pd(f)&&P.isString(f.field))if(!d)d=f.field;else if(d!==f.field)return za("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),d;za("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return d}a=P.isArray(c)?!1:"fields"in c&&"data"in c;if(a)return za("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),c=c.fields[0],P.isString(c)?c:void 0}function Tj(c,a){a=c.component.scales[a].get("domains").map(d=>{Pd(d)&&(d.data=c.lookupDataSource(d.data));return d});return Gk(a)}function $k(c){return Hi(c)||Wi(c)?c.children.reduce((a,d)=>a.concat($k(d)),rl(c)):rl(c)}function rl(c){return ce(c.component.scales).reduce((a,
d)=>{var f=c.component.scales[d];if(f.merged)return a;var h=f.combine(),x=Object.assign({},h);const G=h.name,ea=h.type;var sa=h.selectionExtent;const Ia=h.reverse;x=(delete x.name,delete x.type,delete x.selectionExtent,delete x.domains,delete x.range,delete x.reverse,x);h=h.range;V(d)?Rc(h)&&(h={step:{signal:`${G}_step`}}):P.isObject(h)&&Pd(h)&&(h=Object.assign({},h,{data:c.lookupDataSource(h.data)}));d=Tj(c,d);sa?(sa=yg(c,sa.param,sa),f={signal:Ac(f.get("type"))&&P.isArray(d)&&d[0]>d[1]?`isValid(${sa}) && reverse(${sa})`:
sa}):f=null;a.push(Object.assign({},{name:G,type:ea},d?{domain:d}:{},f?{domainRaw:f}:{},{range:h},void 0!==Ia?{reverse:Ia}:{},x));return a},[])}function tl(c,a){var d=c.fieldDef(a);if(null==d?0:d.bin){const {bin:f,field:h}=d;d=B(a);const x=c.getName(d);if(P.isObject(f)&&f.binned&&void 0!==f.step)return new Fe(()=>{var G=c.scaleName(a);G=`(domain("${G}")[1] - domain("${G}")[0]) / ${f.step}`;return`${c.getSignalName(x)} / (${G})`});if(X(f)){const G=ig(c,h,f);return new Fe(()=>{var ea=c.getSignalName(G);
ea=`(${ea}.stop - ${ea}.start) / ${ea}.step`;return`${c.getSignalName(x)} / (${ea})`})}}}function ih(c,a){const d=a.specifiedScales[c];var {size:f}=a,h=a.getScaleComponent(c).get("type");for(var x of lf)if(void 0!==d[x]){const sa=$c(h,x),Ia=pd(c,x);if(sa)if(Ia)za(Ia);else switch(x){case "range":h=d.range;if(P.isArray(h)){if(V(c))return Hg(h.map(ib=>{if("width"===ib||"height"===ib){ib=a.getName(ib);const Nb=a.getSignalName.bind(a);return Fe.fromName(Nb,ib)}return ib}))}else if(P.isObject(h))return Hg({data:a.requestDataName(ug.Main),
field:h.field,sort:{op:"min",field:a.vgField(c)}});return Hg(h);case "scheme":return Hg(Jl(d[x]))}else za(Ud(h,x,c))}x="x"===c||"xOffset"===c?"width":"height";f=f[x];if(ye(f))if(V(c))if(Jc(h)){if(f=Kk(f,a,c))return Hg({step:f})}else za(Xe(x));else if(c in Yi&&"band"===a.getScaleComponent("xOffset"===c?"x":"y").get("type")&&(f=Mj(f,h)))return Hg(f);const {rangeMin:G,rangeMax:ea}=d;c=Jk(c,a);return(void 0!==G||void 0!==ea)&&$c(h,"rangeMin")&&P.isArray(c)&&2===c.length?Hg([null!=G?G:c[0],null!=ea?ea:
c[1]]):Ng(c)}function Jl(c){return!P.isString(c)&&c.name?Object.assign({},{scheme:c.name},uc(c,["name"])):{scheme:c}}function Jk(c,a){const {size:d,config:f,mark:h,encoding:x}=a;var G=a.getSignalName.bind(a),{type:ea}=Le(x[c]);const sa=a.getScaleComponent(c).get("type"),{domain:Ia,domainMid:ib}=a.specifiedScales[c];switch(c){case "x":case "y":if(Yb(["point","band"],sa)&&(ea=Lk(c,d,f.view),ye(ea)))return{step:Kk(ea,a,c)};ea=B(c);ea=a.getName(ea);return"y"===c&&Ac(sa)?[Fe.fromName(G,ea),0]:[0,Fe.fromName(G,
ea)];case "xOffset":case "yOffset":return Kl(c,a,sa);case "size":return G=a.component.scales[c].get("zero"),G=gi(h,G,f),ea=Hl(h,d,a,f),$h.has(sa)?si(G,ea,ik(sa,f,Ia,c)):[G,ea];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Fe(()=>{const Nb=a.getSignalName("width"),sc=a.getSignalName("height");return`min(${Nb},${sc})/2`})];case "strokeWidth":return[f.scale.minStrokeWidth,f.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";
case "color":case "fill":case "stroke":return"ordinal"===sa?"nominal"===ea?"category":"ordinal":void 0!==ib?"diverging":"rect"===h||"geoshape"===h?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[f.scale.minOpacity,f.scale.maxOpacity]}}function Kk(c,a,d){var {encoding:f}=a,h=a.getScaleComponent(d);d=D(d);const x=f[d];if("offset"===Ie({step:c,offsetIsDiscrete:Wb(x)&&Sa(x.type)})&&Qf(f,d)){f=a.getScaleComponent(d);a=`domain('${a.scaleName(d)}').length`;if("band"===f.get("type")){var G;
let Ia;d=null!=(Ia=null!=(G=f.get("paddingInner"))?G:f.get("padding"))?Ia:0;var ea;let ib;G=null!=(ib=null!=(ea=f.get("paddingOuter"))?ea:f.get("padding"))?ib:0;a=`bandspace(${a}, ${d}, ${G})`}var sa;ea=null!=(sa=h.get("paddingInner"))?sa:h.get("padding");c=c.step;h=a;sa=ea;sa=Zb(sa)?sa.signal:P.stringValue(sa);return{signal:`${c} * ${h} / (1-${sa})`}}return c.step}function Mj(c,a){if("offset"===Ie({step:c,offsetIsDiscrete:Jc(a)}))return{step:c.step}}function Kl(c,a,d){const f="xOffset"===c?"x":"y",
h=a.getScaleComponent(f).get("type"),x=a.scaleName(f);if("band"===h)return a=Lk(f,a.size,a.config.view),ye(a)&&(a=Mj(a,d))?a:[0,{signal:`bandwidth('${x}')`}];d=a.encoding[f];return la(d)&&d.timeUnit?(c=De(d.timeUnit,G=>`scale('${x}', ${G})`),(d=a.config.scale.bandWithNestedOffsetPaddingInner)?(a=Zb(d)?`${d.signal}/2`:`${d/2}`,d=Zb(d)?`(1 - ${d.signal}/2)`:`${1-d/2}`,[{signal:`${a} * (${c})`},{signal:`${d} * (${c})`}]):[0,{signal:c}]):vc(`Cannot use ${c} scale if ${f} scale is not discrete.`)}function Lk(c,
a,d){c="x"===c?"width":"height";return(a=a[c])?a:fg(d,c)}function ik(c,a,d,f){switch(c){case "quantile":return a.scale.quantileCount;case "quantize":return a.scale.quantizeCount;case "threshold":if(void 0!==d&&P.isArray(d))return d.length+1;za(`Domain for ${f} is required for threshold scale.`);return 3}}function si(c,a,d){const f=()=>{const h=dc(a),x=dc(c),G=`(${h} - ${x}) / (${d} - 1)`;return`sequence(${x}, ${h} + ${G}, ${G})`};return Zb(a)?new Fe(f):{signal:f()}}function gi(c,a,d){if(a)return Zb(a)?
{signal:`${a.signal} ? 0 : ${gi(c,!1,d)}`}:0;switch(c){case "bar":case "tick":return d.scale.minBandSize;case "line":case "trail":case "rule":return d.scale.minStrokeWidth;case "text":return d.scale.minFontSize;case "point":case "square":case "circle":return d.scale.minSize}throw Error(Yd("size",c));}function Hl(c,a,d,f){d={x:tl(d,"x"),y:tl(d,"y")};switch(c){case "bar":case "tick":if(void 0!==f.scale.maxBandSize)return f.scale.maxBandSize;const h=gl(a,d,f.view);return P.isNumber(h)?h-1:new Fe(()=>
`${h.signal} - 1`);case "line":case "trail":case "rule":return f.scale.maxStrokeWidth;case "text":return f.scale.maxFontSize;case "point":case "square":case "circle":if(f.scale.maxSize)return f.scale.maxSize;const x=gl(a,d,f.view);return P.isNumber(x)?Math.pow(.95*x,2):new Fe(()=>`pow(${.95} * ${x.signal}, 2)`)}throw Error(Yd("size",c));}function gl(c,a,d){const f=ye(c.width)?c.width.step:tf(d,"width"),h=ye(c.height)?c.height.step:tf(d,"height");return a.x||a.y?new Fe(()=>`min(${[a.x?a.x.signal:f,
a.y?a.y.signal:h].join(", ")})`):Math.min(f,h)}function Jj(c,a){if(rg(c)){const G=c.component.scales,{config:ea,encoding:sa,markDef:Ia,specifiedScales:ib}=c;for(const Nb of ce(G)){var d=ib[Nb];const sc=G[Nb];var f=c.getScaleComponent(Nb),h=Le(sa[Nb]),x=d[a];const ld=f.get("type"),Kc=f.get("padding");f=f.get("paddingInner");const cd=$c(ld,a),rd=pd(Nb,a);void 0!==x&&(cd?rd&&za(rd):za(Ud(ld,a,Nb)));if(cd&&void 0===rd)if(void 0!==x)switch(x=h.timeUnit,h=h.type,a){case "domainMax":case "domainMin":Hb(d[a])||
"temporal"===h||x?sc.set(a,{signal:ag(d[a],{type:h,timeUnit:x})},!0):sc.set(a,d[a],!0);break;default:sc.copyKeyFromObject(a,d)}else d=a in rf?rf[a]({model:c,channel:Nb,fieldOrDatumDef:h,scaleType:ld,scalePadding:Kc,scalePaddingInner:f,domain:d.domain,domainMin:d.domainMin,domainMax:d.domainMax,markDef:Ia,config:ea,hasNestedOffsetScale:Jf(sa,Nb),hasSecondaryRangeChannel:!!sa[C(Nb)]}):ea.scale[a],void 0!==d&&sc.set(a,d,!1)}}else og(c,a)}function ek(c){if(rg(c)){const a=c.component.scales;for(const d of Ej){const f=
a[d];if(!f)continue;const h=ih(d,c);f.setWithExplicit("range",h)}}else og(c,"range")}function og(c,a){const d=c.component.scales;for(var f of c.children)"range"===a?ek(f):Jj(f,a);for(const h of ce(d)){let x;for(const G of c.children)if(f=G.component.scales[h])f=f.getWithExplicit(a),x=Zg(x,f,a,"scale",Yh((ea,sa)=>{switch(a){case "range":if(ea.step&&sa.step)return ea.step-sa.step}return 0}));d[h].setWithExplicit(a,x)}}function Ik(c,a){const d=a.bin;if(X(d)){const f=ig(c,a.field,d);return new Fe(()=>
c.getSignalName(f))}if(Ca(d)&&P.isObject(d)&&void 0!==d.step)return{step:d.step}}function jk(c,a,d,f,h){let x=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===c){if(V(a)){const {bandPaddingInner:G,barBandPaddingInner:ea,rectBandPaddingInner:sa,bandWithNestedOffsetPaddingInner:Ia}=h;return x?Ia:Fa(G,"bar"===d?ea:sa)}if(a in Yi&&f===Kh.BAND)return h.offsetBandPaddingInner}}function Ti(c,a,d,f,h){let x=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===c)if(V(a)){const {bandPaddingOuter:G,
bandWithNestedOffsetPaddingOuter:ea}=h;if(x)return ea;if(d===Kh.BAND)return Fa(G,Zb(f)?{signal:`${f.signal}/2`}:f/2)}else if(a in Yi){if(d===Kh.POINT)return.5;if(d===Kh.BAND)return h.offsetBandPaddingOuter}}function Ui(c,a,d,f){const h=Vi(a,d,f,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:x}=c;if(!mi[a])return null;if(void 0!==x){if(!ee(a,x))return za(`Channel "${a}" does not work with "${x}" scale. We are using "${h}" scale instead.`),h;var G;if(G=la(d))G=d.type,G=!(Yb(["ordinal",
"nominal"],G)?void 0===x||Jc(x):"temporal"===G?Yb([Kh.TIME,Kh.UTC,void 0],x):"quantitative"===G?wh.has(x)||$h.has(x)||void 0===x:1);return G?(za(`FieldDef does not work with "${x}" scale. We are using "${h}" scale instead.`),h):x}return h}function Vi(c,a,d,f){switch(a.type){case "nominal":case "ordinal":if(Q(c)||"discrete"===t(c))return"shape"===c&&"ordinal"===a.type&&za(ae(c,"ordinal")),"ordinal";if(V(c)||c in Yi){if(Yb(["rect","bar","image","rule"],d.type)||f)return"band"}else if("arc"===d.type&&
c in nk)return"band";c=d[B(c)];if(pc(c))return"band";let h;return hd(a)&&(null==(h=a.axis)?0:h.tickBand)?"band":"point";case "temporal":if(!Q(c)){if("discrete"===t(c))return za(ae(c,"temporal")),"ordinal";if(la(a)&&a.timeUnit&&Nd(a.timeUnit).utc)return"utc"}return"time";case "quantitative":if(Q(c)){if(la(a)&&X(a.bin))return"bin-ordinal"}else if("discrete"===t(c))return za(ae(c,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${a.type}".`);}function Kj(c){let {ignoreRange:a}=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};sj(c);rg(c)?fi(c):ej(c);for(const d of zj)Jj(c,d);a||ek(c)}function sj(c){if(rg(c)){var a=c.component;const {encoding:sa,mark:Ia,markDef:ib}=c;var d={};for(var f of Ej){var h=Le(sa[f]);if(!h||Ia!==Mi||"shape"!==f||"geojson"!==h.type){var x=h&&h.scale;if(f in Yi){var G=I(f);if(!Jf(sa,G)){x&&za(`${f} encoding has no scale, so specified scale is ignored.`);continue}}h&&null!==x&&!1!==x&&(null!=x||(x={}),G=Jf(sa,f),h=Ui(x,f,h,ib,G),d[f]=new kf(c.scaleName(`${f}`,
!0),{value:h,explicit:x.type===h}))}}a.scales=d}else{f=c.component;x=c.component.scales={};h={};const sa=c.component.resolve;for(G of c.children){sj(G);for(var ea of ce(G.component.scales)){let Ia,ib;null!=(Ia=sa.scale)[ib=ea]||(Ia[ib]=rb(ea,c));if("shared"===sa.scale[ea]){const Nb=h[ea],sc=G.component.scales[ea].getWithExplicit("type");if(Nb){const ld=$i[Nb.value],Kc=$i[sc.value];ld===Kc||"ordinal-position"===ld&&"time"===Kc||"ordinal-position"===Kc&&"time"===ld?h[ea]=Zg(Nb,sc,"type","scale",yh):
(sa.scale[ea]="independent",delete h[ea])}else h[ea]=sc}}}for(a of ce(h)){G=c.scaleName(a,!0);x[a]=new kf(G,h[a]);for(d of c.children)if(ea=d.component.scales[a])d.renameScale(ea.get("name"),G),ea.merged=!0}f.scales=x}}function rg(c){return"unit"===(null==c?void 0:c.type)}function ni(c){return"facet"===(null==c?void 0:c.type)}function Wi(c){return"concat"===(null==c?void 0:c.type)}function Hi(c){return"layer"===(null==c?void 0:c.type)}function Lj(c){function a(f,h){f instanceof n&&!(f.isGenerator||
"url"in f.data)&&(c.push(h),h={name:null,source:h.name,transform:[]});if(f instanceof Uh)if(f.parent instanceof n&&!h.source){var x;h.format=Object.assign({},null!=(x=h.format)?x:{},{parse:f.assembleFormatParse()});h.transform.push(...f.assembleTransforms(!0))}else h.transform.push(...f.assembleTransforms());if(f instanceof Di)h.name||(h.name=`data_${d++}`),!h.source||0<h.transform.length?(c.push(h),f.data=h.name):f.data=h.source,c.push(...f.assemble());else switch((f instanceof b||f instanceof e||
f instanceof Cl||f instanceof bj||f instanceof cj||f instanceof Dl||f instanceof Ci||f instanceof El||f instanceof me||f instanceof Tc||f instanceof mm||f instanceof nm||f instanceof om||f instanceof pm||f instanceof qm||f instanceof rm||f instanceof Ei||f instanceof sm||f instanceof tm||f instanceof um)&&h.transform.push(f.assemble()),(f instanceof Gi||f instanceof Rh||f instanceof Ek||f instanceof qd||f instanceof fl)&&h.transform.push(...f.assemble()),f instanceof uh&&(h.source&&0===h.transform.length?
f.setSource(h.source):f.parent instanceof uh?f.setSource(h.name):(h.name||(h.name=`data_${d++}`),f.setSource(h.name),1===f.numChildren()&&(c.push(h),h={name:null,source:h.name,transform:[]}))),f.numChildren()){case 0:f instanceof uh&&(!h.source||0<h.transform.length)&&c.push(h);break;case 1:a(f.children[0],h);break;default:h.name||(h.name=`data_${d++}`);x=h.name;!h.source||0<h.transform.length?c.push(h):x=h.source;for(const G of f.children)a(G,{name:null,source:x,transform:[]})}}let d=0;return a}
function Xi(c){const a=[],d=Lj(a);for(const f of c.children)d(f,{source:c.name,name:null,transform:[]});return a}function Mk(c,a){const d=[];var f=Lj(d);let h=0;for(const x of c.sources){x.hasName()||(x.dataName=`source_${h++}`);const G=x.assemble();f(x,G)}for(const x of d)0===x.transform.length&&delete x.transform;f=0;for(const x of d.entries()){const [G,ea]=x;let sa;0!==(null!=(sa=ea.transform)?sa:[]).length||ea.source||d.splice(f++,0,d.splice(G,1)[0])}for(const x of d){let G;for(const ea of null!=
(G=x.transform)?G:[])"lookup"===ea.type&&(ea.from=c.outputNodes[ea.from].getSource())}for(const x of d)x.name in a&&(x.values=a[x.name]);return d}function Nj(c,a,d){a="row"===a?"height":"width";return{labels:d,sizeSignal:c.child.component.layoutSize.get(a)?c.child.getSizeSignalRef(a):void 0,axes:[]}}function nj(c,a){var {child:d}=c;if(d.component.axes[a]){const {layoutHeaders:f,resolve:h}=c.component;h.axis[a]=xb(h,a);if("shared"===h.axis[a]){const x="x"===a?"column":"row",G=f[x];for(const ea of d.component.axes[a]){a=
ea.get("orient");a="top"===a||"left"===a||Zb(a)?"header":"footer";let sa,Ia;null!=(sa=G)[Ia=a]||(sa[Ia]=[Nj(c,x,!1)]);(d=ki(ea,"main",c.config,{header:!0}))&&G[a][0].axes.push(d);ea.mainExtracted=!0}}}}function Pj(c){for(const a of c.children)a.parseLayoutSize()}function dj(c,a){const d=aa(a),f=Aa(d),h=c.component.resolve,x=c.component.layoutSize;let G;for(const ea of c.children){const sa=ea.component.layoutSize.getWithExplicit(d);let Ia;const ib=null!=(Ia=h.scale[f])?Ia:rb(f,c);if("independent"===
ib&&"step"===sa.value){G=void 0;break}if(G){if("independent"===ib&&G.value!==sa.value){G=void 0;break}G=Zg(G,sa,d,"")}else G=sa}if(G){for(const ea of c.children)c.renameSignal(ea.getName(d),c.getName(a)),ea.component.layoutSize.set(d,"merged",!1);x.setWithExplicit(a,G)}else x.setWithExplicit(a,{explicit:!1,value:void 0})}function Ql(c,a){const d=c.config;var f=c.getScaleComponent("width"===a?"x":"y");if(f)return c=f.get("type"),f=f.get("range"),Jc(c)?(a=fg(d.view,a),Rc(f)||ye(a)?"step":a):Bf(d.view,
a);if(c.hasProjection||"arc"===c.mark)return Bf(d.view,a);a=fg(d.view,a);return ye(a)?a.step:a}function fk(c,a,d){return Oc(a,Object.assign({},{suffix:`by_${Oc(c)}`},null!=d?d:{}))}function Ck(c,a){for(const f of a){a=f.data;if(c.name&&f.hasName()&&c.name!==f.dataName)continue;let h;const x=null==(h=c.format)?void 0:h.mesh;let G;var d=null==(G=a.format)?void 0:G.feature;if(x&&d)continue;let ea;const sa=null==(ea=c.format)?void 0:ea.feature;if((sa||d)&&sa!==d)continue;let Ia;d=null==(Ia=a.format)?
void 0:Ia.mesh;if(!x&&!d||x===d)if("values"in c&&"values"in a){if(Bi(c.values,a.values))return f}else if("url"in c&&"url"in a){if(c.url===a.url)return f}else if(Yf(c)&&c.name===f.dataName)return f}return null}function gk(c,a){if(c.data||!c.parent){if(null===c.data)return c=new n({values:[]}),a.push(c),c;const d=Ck(c.data,a);if(d)return Sg(c.data)||(d.data.format=Jb({},c.data.format,d.data.format)),!d.hasName()&&c.data.name&&(d.dataName=c.data.name),d;c=new n(c.data);a.push(c);return c}return c.parent.component.data.facetRoot?
c.parent.component.data.facetRoot:c.parent.component.data.main}function oj(c){var a=gk(c,c.component.data.sources);const {outputNodes:d,outputNodeRefCounts:f}=c.component.data;var h=c.data;const x=h&&(Sg(h)||"url"in h||"values"in h)||!c.parent?new di:c.parent.component.data.ancestorParse.clone();if(Sg(h))"sequence"in h?a=new e(a,h.sequence):"graticule"in h&&(a=new b(a,h.graticule)),x.parseNothing=!0;else{let se;null===(null==h?void 0:null==(se=h.format)?void 0:se.parse)&&(x.parseNothing=!0)}var G;
a=null!=(G=Uh.makeExplicit(a,c,x))?G:a;a=new Ei(a);h=c.parent&&Hi(c.parent);if((rg(c)||ni(c))&&h){var ea;a=null!=(ea=Gi.makeFromEncoding(a,c))?ea:a}if(0<c.transforms.length){ea=0;for(var sa of c.transforms){var Ia=G=void 0;if("calculate"in sa)Ia=a=new cj(a,sa),G="derived";else if("filter"in sa){Ia=Pg(sa);var ib=void 0;Ia=a=null!=(ib=Uh.makeWithAncestors(a,{},Ia,x))?ib:a;a=new bj(a,c,sa.filter)}else if("bin"in sa)Ia=a=Gi.makeFromTransform(a,sa,c),G="number";else if("timeUnit"in sa)G="date",void 0===
x.getWithExplicit(sa.field).value&&(a=new Uh(a,{[sa.field]:G}),x.set(sa.field,G,!1)),Ia=a=Rh.makeFromTransform(a,sa);else if("aggregate"in sa)Ia=a=Ci.makeFromTransform(a,sa),G="number",Lf(c)&&(a=new Ei(a));else if("lookup"in sa)Ia=a=El.make(a,c,sa,ea++),G="derived";else if("window"in sa)Ia=a=new me(a,sa),G="number";else if("joinaggregate"in sa)Ia=a=new Tc(a,sa),G="number";else if("stack"in sa)Ia=a=qd.makeFromTransform(a,sa),G="derived";else if("fold"in sa)Ia=a=new mm(a,sa),G="derived";else if("extent"in
sa&&!("density"in sa))Ia=a=new um(a,sa),G="derived";else if("flatten"in sa)Ia=a=new nm(a,sa),G="derived";else if("pivot"in sa)Ia=a=new tm(a,sa),G="derived";else if("sample"in sa)a=new sm(a,sa);else if("impute"in sa)Ia=a=Ek.makeFromTransform(a,sa),G="derived";else if("density"in sa)Ia=a=new om(a,sa),G="derived";else if("quantile"in sa)Ia=a=new qm(a,sa),G="derived";else if("regression"in sa)Ia=a=new rm(a,sa),G="derived";else if("loess"in sa)Ia=a=new pm(a,sa),G="derived";else{za(`Ignoring an invalid transform: ${Ag(sa)}.`);
continue}if(Ia&&void 0!==G){let se;for(const Se of null!=(se=Ia.producedFields())?se:[])x.set(Se,G,!1)}}}sa={};if(rg(c)&&c.component.selection)for(var Nb of ce(c.component.selection)){ib=c.component.selection[Nb];for(const se of ib.project.items)!se.channel&&1<Z(se.field)&&(sa[se.field]="flatten")}Nb=vg(c);var sc;a=null!=(sc=Uh.makeWithAncestors(a,{},Object.assign({},sa,Nb),x))?sc:a;rg(c)&&(a=fl.parseAll(a,c),a=Dl.parseAll(a,c));if(rg(c)||ni(c)){if(!h){let se;a=null!=(se=Gi.makeFromEncoding(a,c))?
se:a}var ld;a=null!=(ld=Rh.makeFromEncoding(a,c))?ld:a;a=cj.parseAllForSortIndex(a,c)}ld=c.getDataName(ug.Raw);sc=new uh(a,ld,ug.Raw,f);a=d[ld]=sc;if(rg(c)){if(ld=Ci.makeFromEncoding(a,c))a=ld,Lf(c)&&(a=new Ei(a));var Kc;a=null!=(Kc=Ek.makeFromEncoding(a,c))?Kc:a;var cd;a=null!=(cd=qd.makeFromEncoding(a,c))?cd:a}if(rg(c)){let se;a=null!=(se=Cl.make(a,c))?se:a}cd=c.getDataName(ug.Main);Kc=new uh(a,cd,ug.Main,f);a=d[cd]=Kc;if(rg(c)){var rd;for(var fe of Zi(null!=(rd=c.component.selection)?rd:{})){const [se,
Se]=fe;rd=c.getName(`lookup_${se}`);c.component.data.outputNodes[rd]=Se.materialized=new uh(new bj(Kc,c,{param:se}),rd,ug.Lookup,c.component.data.outputNodeRefCounts)}}rd=null;if(ni(c)){fe=c.getName("facet");let se;{rd=a;const {row:Se,column:ff}=c.facet;if(Se&&ff){cd=null;for(Od of[Se,ff])if(bd(Od.sort)){const {field:Vf,op:Tf="min"}=Od.sort;rd=cd=new Tc(rd,{joinaggregate:[{op:Tf,field:Vf,as:fk(Od,Od.sort,{forAs:!0})}],groupby:[Oc(Od)]})}var Od=cd}else Od=null}a=null!=(se=Od)?se:a;rd=new Di(a,c,fe,
Kc.getSource());d[fe]=rd}return Object.assign({},c.component.data,{outputNodes:d,outputNodeRefCounts:f,raw:sc,main:Kc,facetRoot:rd,ancestorParse:x})}function il(c,a,d){const {encoding:f,config:h}=c;let x;const G=null!=(x=Le(f[a]))?x:Le(f[C(a)]);c=c.axis(a)||{};const {format:ea,formatType:sa}=c;if(Ld(sa))return Object.assign({},{text:ve({fieldOrDatumDef:G,field:"datum.value",format:ea,formatType:sa,config:h})},d);if(void 0===ea&&void 0===sa&&h.customFormatTypes){if("quantitative"===Ja(G)){if(hd(G)&&
"normalize"===G.stack&&h.normalizedNumberFormatType)return Object.assign({},{text:ve({fieldOrDatumDef:G,field:"datum.value",format:h.normalizedNumberFormat,formatType:h.normalizedNumberFormatType,config:h})},d);if(h.numberFormatType)return Object.assign({},{text:ve({fieldOrDatumDef:G,field:"datum.value",format:h.numberFormat,formatType:h.numberFormatType,config:h})},d)}if("temporal"===Ja(G)&&h.timeFormatType&&la(G)&&!G.timeUnit)return Object.assign({},{text:ve({fieldOrDatumDef:G,field:"datum.value",
format:h.timeFormat,formatType:h.timeFormatType,config:h})},d)}return d}function dm(c){return oi.reduce((a,d)=>{c.component.scales[d]&&(a[d]=[fm(d,c)]);return a},{})}function Nl(c,a){if(c){if(c.length!==a.length)return;const d=c.length;for(let f=0;f<d;f++){const h=c[f],x=a[f];if(!!h!==!!x)return;if(h&&x){const G=h.getWithExplicit("orient"),ea=x.getWithExplicit("orient");if(G.explicit&&ea.explicit&&G.value!==ea.value)return;c[f]=em(h,x)}}}else return a.map(d=>d.clone());return c}function em(c,a){for(const d of zm){const f=
Zg(c.getWithExplicit(d),a.getWithExplicit(d),d,"axis",(h,x)=>{switch(d){case "title":return ta(h,x);case "gridScale":return{explicit:h.explicit,value:Fa(h.value,x.value)}}return fh(h,x,d,"axis")});c.setWithExplicit(d,f)}return c}function Sk(c,a,d,f,h){if("disable"===a)return void 0!==d;d=d||{};switch(a){case "titleAngle":case "labelAngle":return c===(Zb(d.labelAngle)?d.labelAngle:oa(d.labelAngle));case "values":return!!d.values;case "encode":return!!d.encoding||!!d.labelAngle;case "title":if(c===
zb(f,h))return!0}return c===d[a]}function fm(c,a){let d=a.axis(c);const f=new Am;var h=Le(a.encoding[c]);const {mark:x,config:G}=a;var ea,sa,Ia,ib=(null==(ea=d)?void 0:ea.orient)||(null==(sa=G["x"===c?"axisX":"axisY"])?void 0:sa.orient)||(null==(Ia=G.axis)?void 0:Ia.orient)||("x"===c?"bottom":"left");sa=a.getScaleComponent(c).get("type");ea=lj(c,sa,ib,a.config);var Nb;Ia=void 0!==d?!d:Si("disable",G.style,null==(Nb=d)?void 0:Nb.style,ea).configValue;f.set("disable",Ia,void 0!==d);if(Ia)return f;d=
d||{};Nb=y(h,d,c,G.style,ea);Ia=$e(d.formatType,h,sa);const sc=Me(h,h.type,d.format,d.formatType,G,!0);h={fieldOrDatumDef:h,axis:d,channel:c,model:a,scaleType:sa,orient:ib,labelAngle:Nb,format:sc,formatType:Ia,mark:x,config:G};for(const cd of zm)if(ib=cd in Ri?Ri[cd](h):Wj[cd]?d[cd]:void 0,sa=void 0!==ib,Nb=Sk(ib,cd,d,a,c),sa&&Nb)f.set(cd,ib,Nb);else{const {configValue:rd,configFrom:fe}=Wj[cd]&&"values"!==cd?Si(cd,G.style,d.style,ea):{};Ia=void 0!==rd;sa&&!Ia?f.set(cd,ib,Nb):("vgAxisConfig"!==fe||
Gm.has(cd)&&Ia||jf(rd)||Zb(rd))&&f.set(cd,rd,!1)}var ld;const Kc=null!=(ld=d.encoding)?ld:{};ld=Bj.reduce((cd,rd)=>{if(!f.hasAxisPart(rd))return cd;var fe;const Od=Ea(null!=(fe=Kc[rd])?fe:{},a);fe="labels"===rd?il(a,c,Od):Od;void 0===fe||Qa(fe)||(cd[rd]={update:fe});return cd},{});Qa(ld)||f.set("encode",ld,!!d.encoding||void 0!==d.labelAngle);return f}function Pl(c){let {encoding:a,size:d}=c;for(const f of oi)c=B(f),ye(d[c])&&fc(a[f])&&(delete d[c],za(Xe(c)));return d}function gm(c,a,d){c=qc(c);var f=
zc("orient",c,d);c.orient=hm(c.type,a,f);void 0!==f&&f!==c.orient&&za(`Specified orient "${c.orient}" overridden with "${f}".`);if("bar"===c.type&&c.orient&&(f=zc("cornerRadiusEnd",c,d),void 0!==f)){const x="horizontal"===c.orient&&a.x2||"vertical"===c.orient&&a.y2?["cornerRadius"]:qk[c.orient];for(var h of x)c[h]=f;void 0!==c.cornerRadiusEnd&&delete c.cornerRadiusEnd}void 0===zc("opacity",c,d)&&(h=Yb([ii,bi,Aj,aj],c.type)&&!Gf(a)?.7:void 0,c.opacity=h);void 0===zc("cursor",c,d)&&(a=a.href||c.href||
zc("href",c,d)?"pointer":c.cursor,c.cursor=a);return c}function Rl(c,a,d){({graticule:d}=d);if(d)return!1;a=Yc("filled",c,a);c=c.type;return Fa(a,c!==ii&&c!==hi&&c!==Lh)}function hm(c,a,d){switch(c){case ii:case Aj:case aj:case Kg:case ai:case fj:return}const {x:f,y:h,x2:x,y2:G}=a;switch(c){case Qh:if(la(f)&&(Ca(f.bin)||la(h)&&h.aggregate&&!f.aggregate))break;if(la(h)&&(Ca(h.bin)||la(f)&&f.aggregate&&!h.aggregate))return"horizontal";if(G||x){if(d)return d;if(!x){if((la(f)&&"quantitative"===f.type&&
!X(f.bin)||tc(f))&&la(h)&&Ca(h.bin))return"horizontal";break}if(!G){if((la(h)&&"quantitative"===h.type&&!X(h.bin)||tc(h))&&la(f)&&Ca(f.bin))break;return"horizontal"}}case Lh:if(!(!x||la(f)&&Ca(f.bin)||!G||la(h)&&Ca(h.bin)))return;case Ph:if(G){if(la(h)&&Ca(h.bin))return"horizontal";break}else if(x)if(la(f)&&Ca(f.bin))break;else return"horizontal";else if(c===Lh)if(f&&!h)break;else if(h&&!f)return"horizontal";case hi:case bi:a=rc(f);const ea=rc(h);if(d)return d;if(a&&!ea)return"tick"!==c?"horizontal":
"vertical";if(!a&&ea)return"tick"!==c?"vertical":"horizontal";if(!a||!ea)if(c=Dc(f)&&"temporal"===f.type,d=Dc(h)&&"temporal"===h.type,!c||d){if(!c&&d)return"horizontal";return}}return"vertical"}function ok(c,a){var d=Object,f=d.assign,h=Uf(c,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),x=ac("x",c,{defaultPos:"mid"}),G=ac("y",c,{defaultPos:"mid"}),ea=na("size",c),sa=na("angle",c);c=a?{shape:{value:a}}:na("shape",c);return f.call(d,{},h,x,G,ea,sa,
c)}function im(c){if(Yb([hi,Ph,bm],c.mark)){var a=Dg(c.mark,c.encoding);if(0<a.length)return jm(c,a)}else if(c.mark===Qh&&(a=bl.some(d=>zc(d,c.markDef,c.config)),c.stack&&!c.fieldDef("size")&&a))return Ll(c);return Rk(c)}function jm(c,a){return[{name:c.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+c.requestDataName(ug.Main),data:c.requestDataName(ug.Main),groupby:a}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Rk(c,{fromPrefix:"faceted_path_"})}]}
function Ll(c){const [a]=Rk(c,{fromPrefix:"stack_group_"}),d=c.scaleName(c.stack.fieldChannel),f=function(){return c.vgField(c.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var h=(Ia,ib)=>{ib=[f({prefix:"min",suffix:"start",expr:ib}),f({prefix:"max",suffix:"start",expr:ib}),f({prefix:"min",suffix:"end",expr:ib}),f({prefix:"max",suffix:"end",expr:ib})];return`${Ia}(${ib.map(Nb=>`scale('${d}',${Nb})`).join(",")})`};let x;"x"===c.stack.fieldChannel?(h=Object.assign({},
Bc(a.encode.update,["y","yc","y2","height",...bl]),{x:{signal:h("min","datum")},x2:{signal:h("max","datum")},clip:{value:!0}}),x={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},a.encode.update=Object.assign({},uc(a.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(h=Object.assign({},Bc(a.encode.update,["x","xc","x2","width"]),{y:{signal:h("min","datum")},y2:{signal:h("max","datum")},clip:{value:!0}}),x={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},
a.encode.update=Object.assign({},uc(a.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var G of bl){var ea=Yc(G,c.markDef,c.config);a.encode.update[G]?(h[G]=a.encode.update[G],delete a.encode.update[G]):ea&&(h[G]=Sb(ea));ea&&(a.encode.update[G]={value:0})}G=[];var sa;if(0<(null==(sa=c.stack.groupbyChannels)?void 0:sa.length))for(const Ia of c.stack.groupbyChannels){sa=c.fieldDef(Ia);(ea=Oc(sa))&&G.push(ea);let ib,Nb;((null==(ib=sa)?0:ib.bin)||(null==(Nb=sa)?0:Nb.timeUnit))&&G.push(Oc(sa,
{binSuffix:"end"}))}h="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((Ia,ib)=>{if(a.encode.update[ib])return Object.assign({},Ia,{[ib]:a.encode.update[ib]});const Nb=Yc(ib,c.markDef,c.config);return void 0!==Nb?Object.assign({},Ia,{[ib]:Sb(Nb)}):Ia},h);h.stroke&&(h.strokeForeground={value:!0},h.strokeOffset={value:0});return[{type:"group",from:{facet:{data:c.requestDataName(ug.Main),name:"stack_group_"+c.requestDataName(ug.Main),
groupby:G,aggregate:{fields:[f({suffix:"start"}),f({suffix:"start"}),f({suffix:"end"}),f({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:h},marks:[{type:"group",encode:{update:x},marks:[a]}]}]}function km(c){const {encoding:a,stack:d,mark:f,markDef:h,config:x}=c;var G=a.order;if(!(!P.isArray(G)&&yd(G)&&kc(G.value)||!G&&kc(zc("order",h,x)))){if((P.isArray(G)||la(G))&&!d)return Ha(G,{expr:"datum"});if(Ra(f)){const ea="horizontal"===h.orient?"y":"x",sa=a[ea];if(la(sa)){G=sa.sort;if(P.isArray(G))return{field:Oc(sa,
{prefix:ea,suffix:"sort_index",expr:"datum"})};if(bd(G))return{field:Oc({aggregate:Gf(c.encoding)?G.op:void 0,field:G.field},{expr:"datum"})};if(null!=G&&G.encoding)return c=c.fieldDef(G.encoding),{field:Oc(c,{expr:"datum"}),order:G.order};if(null!==G){let Ia;return{field:Oc(sa,{binSuffix:(null==(Ia=c.stack)?0:Ia.impute)?"mid":void 0,expr:"datum"})}}}}}}function Rk(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:d,markDef:f,encoding:h,config:x}=c;var G=
f.clip;var ea=c.getScaleComponent("x");var sa=c.getScaleComponent("y");ea=(null==ea?0:ea.get("selectionExtent"))||(null==sa?0:sa.get("selectionExtent"))?!0:void 0;sa=c.component.projection;G=Fa(G,ea,sa&&!sa.isFit?!0:void 0);ea=Ic(f);sa=h.key;const Ia=km(c);var ib;if(c.component.selection){for(var Nb=ib=ce(c.component.selection).length,sc=c.parent;sc&&0===Nb;)Nb=ce(sc.component.selection).length,sc=sc.parent;ib=Nb?{interactive:0<ib||"geoshape"===c.mark||!!c.encoding.tooltip}:null}else ib=null;Nb=zc("aria",
f,x);sc=Fl[d].postEncodingTransform?Fl[d].postEncodingTransform(c):null;return[Object.assign({},{name:c.getName("marks"),type:Fl[d].vgMark},G?{clip:!0}:{},ea?{style:ea}:{},sa?{key:sa.field}:{},Ia?{sort:Ia}:{},ib?ib:{},!1===Nb?{aria:Nb}:{},{from:{data:a.fromPrefix+c.requestDataName(ug.Main)},encode:{update:Fl[d].encodeEntry(c)}},sc?{transform:sc}:{})]}function cl(c,a,d,f,h){if("facet"in c)return new Gl(c,a,d,h);if("layer"in c)return new Bm(c,a,d,f,h);if(Qe(c))return new Cm(c,a,d,f,h);if("vconcat"in
c||"hconcat"in c||"concat"in c)return new Hm(c,a,d,h);throw Error(Za(c));}function kl(c,a){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let f=3<arguments.length?arguments[3]:void 0;const h=c.config?Qg(c.config):void 0;d=[].concat(c.assembleSelectionData([]),Mk(c.component.data,d));const x=c.assembleProjections(),G=c.assembleTitle(),ea=c.assembleGroupStyle(),sa=c.assembleGroupEncodeEntry(!0);let Ia=c.assembleLayoutSignals();Ia=Ia.filter(sc=>"width"!==sc.name&&"height"!==sc.name||
void 0===sc.value?!0:(a[sc.name]=+sc.value,!1));var ib=Object.assign({},a);const Nb=a.params;ib=(delete ib.params,ib);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},c.description?{description:c.description}:{},ib,G?{title:G}:{},ea?{style:ea}:{},sa?{encode:{update:sa}}:{},{data:d},0<x.length?{projections:x}:{},c.assembleGroup([...Ia,...c.assembleSelectionTopLevelSignals([]),...ph(Nb)]),h?{config:h}:{},f?{usermeta:f}:{})}var ul={exports:{}};(function(c){var a=function(){function d(Ia,
ib){return null!=ib&&Ia instanceof ib}function f(Ia,ib,Nb,sc,ld){function Kc(Od,se){if(null===Od)return null;if(0===se||"object"!=typeof Od)return Od;if(d(Od,G))var Se=new G;else if(d(Od,ea))Se=new ea;else if(d(Od,sa))Se=new sa(function(Nf,bh){Od.then(function(Of){Nf(Kc(Of,se-1))},function(Of){bh(Kc(Of,se-1))})});else if(f.__isArray(Od))Se=[];else if(f.__isRegExp(Od))Se=new RegExp(Od.source,x(Od)),Od.lastIndex&&(Se.lastIndex=Od.lastIndex);else if(f.__isDate(Od))Se=new Date(Od.getTime());else{if(fe&&
v.isBuffer(Od))return Se=v.allocUnsafe?v.allocUnsafe(Od.length):new v(Od.length),Od.copy(Se),Se;if(d(Od,Error))Se=Object.create(Od);else if("undefined"==typeof sc){var ff=Object.getPrototypeOf(Od);Se=Object.create(ff)}else Se=Object.create(sc),ff=sc}if(ib){var Vf=cd.indexOf(Od);if(-1!=Vf)return rd[Vf];cd.push(Od);rd.push(Se)}d(Od,G)&&Od.forEach(function(Nf,bh){bh=Kc(bh,se-1);Nf=Kc(Nf,se-1);Se.set(bh,Nf)});d(Od,ea)&&Od.forEach(function(Nf){Nf=Kc(Nf,se-1);Se.add(Nf)});for(var Tf in Od){var mg;ff&&(mg=
Object.getOwnPropertyDescriptor(ff,Tf));mg&&null==mg.set||(Se[Tf]=Kc(Od[Tf],se-1))}if(Object.getOwnPropertySymbols)for(Vf=Object.getOwnPropertySymbols(Od),Tf=0;Tf<Vf.length;Tf++)if(mg=Vf[Tf],ff=Object.getOwnPropertyDescriptor(Od,mg),!ff||ff.enumerable||ld)Se[mg]=Kc(Od[mg],se-1),ff.enumerable||Object.defineProperty(Se,mg,{enumerable:!1});if(ld)for(Vf=Object.getOwnPropertyNames(Od),Tf=0;Tf<Vf.length;Tf++)mg=Vf[Tf],ff=Object.getOwnPropertyDescriptor(Od,mg),ff&&ff.enumerable||(Se[mg]=Kc(Od[mg],se-1),
Object.defineProperty(Se,mg,{enumerable:!1}));return Se}"object"===typeof ib&&(Nb=ib.depth,sc=ib.prototype,ld=ib.includeNonEnumerable,ib=ib.circular);var cd=[],rd=[],fe="undefined"!=typeof v;"undefined"==typeof ib&&(ib=!0);"undefined"==typeof Nb&&(Nb=Infinity);return Kc(Ia,Nb)}function h(Ia){return Object.prototype.toString.call(Ia)}function x(Ia){var ib="";Ia.global&&(ib+="g");Ia.ignoreCase&&(ib+="i");Ia.multiline&&(ib+="m");return ib}try{var G=Map}catch(Ia){G=function(){}}try{var ea=Set}catch(Ia){ea=
function(){}}try{var sa=Promise}catch(Ia){sa=function(){}}f.clonePrototype=function(Ia){if(null===Ia)return null;var ib=function(){};ib.prototype=Ia;return new ib};f.__objToStr=h;f.__isDate=function(Ia){return"object"===typeof Ia&&"[object Date]"===h(Ia)};f.__isArray=function(Ia){return"object"===typeof Ia&&"[object Array]"===h(Ia)};f.__isRegExp=function(Ia){return"object"===typeof Ia&&"[object RegExp]"===h(Ia)};f.__getRegExpFlags=x;return f}();c.exports&&(c.exports=a)})(ul);var Ol=jb(ul.exports),
lm=jb(function f(a,d){if(a===d)return!0;if(a&&d&&"object"==typeof a&&"object"==typeof d){if(a.constructor!==d.constructor)return!1;var h;if(Array.isArray(a)){var x=a.length;if(x!=d.length)return!1;for(h=x;0!==h--;)if(!f(a[h],d[h]))return!1;return!0}if(a.constructor===RegExp)return a.source===d.source&&a.flags===d.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===d.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===d.toString();var G=Object.keys(a);x=G.length;
if(x!==Object.keys(d).length)return!1;for(h=x;0!==h--;)if(!Object.prototype.hasOwnProperty.call(d,G[h]))return!1;for(h=x;0!==h--;)if(x=G[h],!f(a[x],d[x]))return!1;return!0}return a!==a&&d!==d}),Tk=jb(function(a,d){d||(d={});"function"===typeof d&&(d={cmp:d});var f="boolean"===typeof d.cycles?d.cycles:!1,h=d.cmp&&function(G){return function(ea){return function(sa,Ia){return G({key:sa,value:ea[sa]},{key:Ia,value:ea[Ia]})}}}(d.cmp),x=[];return function sa(ea){ea&&ea.toJSON&&"function"===typeof ea.toJSON&&
(ea=ea.toJSON());if(void 0!==ea){if("number"==typeof ea)return isFinite(ea)?""+ea:"null";if("object"!==typeof ea)return JSON.stringify(ea);var Ia;if(Array.isArray(ea)){var ib="[";for(Ia=0;Ia<ea.length;Ia++)Ia&&(ib+=","),ib+=sa(ea[Ia])||"null";return ib+"]"}if(null===ea)return"null";if(-1!==x.indexOf(ea)){if(f)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Nb=x.push(ea)-1,sc=Object.keys(ea).sort(h&&h(ea));ib="";for(Ia=0;Ia<sc.length;Ia++){var ld=
sc[Ia],Kc=sa(ea[ld]);Kc&&(ib&&(ib+=","),ib+=JSON.stringify(ld)+":"+Kc)}x.splice(Nb,1);return"{"+ib+"}"}}(a)});const Bi=lm,vf=Ol;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>Tk(a)).join(",")})`};const Ag=Tk,ce=Object.keys,jh=Object.values,Zi=Object.entries;let Nk=42;const kk={theta:1,theta2:1,radius:1,radius2:1},Oj={longitude:1,longitude2:1,latitude:1,latitude2:1},tj=ce(Oj),Ok=Object.assign({},{x:1,y:1,x2:1,y2:1},kk,Oj,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,
strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),uj={row:1,column:1,facet:1},Jh=ce(uj),Sj=Object.assign({},Ok,uj),dl=ce(Sj);var hk=Object.assign({},Sj),vl=(delete hk.order,delete hk.detail,delete hk.tooltip,hk),Vh=Object.assign({},vl);const Sl=(delete Vh.row,delete Vh.column,delete Vh.facet,Vh),vj="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),Pk=ce(Ok);var nh=Object.assign({},Ok);const Qj=(delete nh.x,delete nh.y,
delete nh.x2,delete nh.y2,delete nh.xOffset,delete nh.yOffset,delete nh.latitude,delete nh.longitude,delete nh.latitude2,delete nh.longitude2,delete nh.theta,delete nh.theta2,delete nh.radius,delete nh.radius2,nh),wj=ce(Qj),Rj={x:1,y:1},oi=ce(Rj),nk={theta:1,radius:1},jl=ce(nk),Yi={xOffset:1,yOffset:1};var ui=Object.assign({},Qj);const Qk=(delete ui.text,delete ui.tooltip,delete ui.href,delete ui.url,delete ui.description,delete ui.detail,delete ui.key,delete ui.order,ui),wl=ce(Qk),mi=Object.assign({},
Rj,nk,Yi,Qk),Ej=ce(mi),xl={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var yl=Object.assign({},xl);const ak=(delete yl.geoshape,yl),Ml={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},mk={count:1,min:1,
max:1},Tl=new Set(["count","valid","missing","distinct"]),Ul=new Set(["count","sum","distinct","valid","missing"]),Wk=new Set("mean average median q1 q3 min max".split(" ")),Xk=ce({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,
orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),al={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},bl=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight",
"cornerRadiusBottomLeft","cornerRadiusBottomRight"],el=P.logger(P.Warn);let Ak=el;const pj="january february march april may june july august september october november december".split(" "),vi=pj.map(a=>a.substr(0,3)),xj="sunday monday tuesday wednesday thursday friday saturday".split(" "),Ii=xj.map(a=>a.substr(0,3)),lk={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Yk=ce(lk),$l={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Kh={LINEAR:"linear",
LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},$i={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",
quantize:"discretizing",threshold:"discretizing"},Ji={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},wh=new Set(["linear","log","pow","sqrt","symlog"]),Jg=new Set([...wh,"time","utc"]),$h=new Set(["quantile","quantize","threshold"]),Ki=new Set([...Jg,...$h,"sequential","identity"]),pk=new Set(["ordinal","bin-ordinal","point","band"]);new Set(["time","utc"]);var Li=Object.assign({},{type:1,domain:1,
domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const yj=(delete Li.type,delete Li.domain,delete Li.range,delete Li.rangeMax,delete Li.rangeMin,delete Li.scheme,Li),zj=ce(yj),xh={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",
geoshape:"geoshape"},Uj=xh.arc,Ph=xh.area,Qh=xh.bar,fj=xh.image,hi=xh.line,ii=xh.point,ai=xh.rect,Lh=xh.rule,Kg=xh.text,bi=xh.tick,bm=xh.trail,Aj=xh.circle,aj=xh.square,Mi=xh.geoshape,Vj=new Set(ce(xh)),gj="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),Ni=ce({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Uk=ce({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,
rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),qk={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},hj={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Vk=(a,d)=>{switch(d.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:f,bin:h,timeUnit:x,field:G}=a;va(f)?a=`${G} for argmax(${f.argmax})`:L(f)?a=`${G} for argmin(${f.argmin})`:(a=Nd(x),a=
(a=f||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||X(h)&&"bin")?`${a.toUpperCase()}(${G})`:G)}return a;default:return Ge(a,d)}};let Qi=Vk;const Th={compatible:!0},Cj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},
labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,
tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Bj=["domain","grid","labels","ticks","title"],Yg={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",
labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",
tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},rk={orient:1,aria:1,
bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,
maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Wj=Object.assign({},rk,{style:1,labelExpr:1,
encoding:1}),tk=ce({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class xi{constructor(a,d){this.name=a;this.run=d}hasMatchingType(a){return Qe(a)?(a=a.mark,(db(a)?a.type:a)===this.name):!1}}const wg=new xi("boxplot",pf),oh=new xi("errorbar",Ne),zh=new xi("errorband",
Xf),Yj={};kg("boxplot",pf,["box","median","outliers","rule","ticks"]);kg("errorbar",Ne,["ticks","rule"]);kg("errorband",Xf,["band","borders"]);const Xj=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Dj={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",
titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},zl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},sk=ce(Dj),Vl=ce(zl),ml=ce({header:1,headerRow:1,headerColumn:1,headerFacet:1}),nl="size shape fill stroke strokeDash strokeWidth opacity".split(" "),
Wl=ce({align:1,bounds:1,center:1,columns:1,spacing:1}),Xl={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},rule:{color:"black"},
square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,
quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",
zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},dh="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),vk={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},pl={blue:dh[0],orange:dh[1],red:dh[2],teal:dh[3],green:dh[4],yellow:dh[5],purple:dh[6],pink:dh[7],brown:dh[8],gray0:"#000",gray1:"#111",gray2:"#222",
gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},ol=[...Uk,...tk,...ml,"background","padding","legend","lineBreak","scale","style","title","view"],Yl=new Set(["view",...Vj]),Zl="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
wk=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});class Eh{map(a,d){return"facet"in a?this.mapFacet(a,d):"repeat"in a?this.mapRepeat(a,d):"hconcat"in a?this.mapHConcat(a,d):"vconcat"in a?this.mapVConcat(a,d):"concat"in a?this.mapConcat(a,
d):this.mapLayerOrUnit(a,d)}mapLayerOrUnit(a,d){if("layer"in a)return this.mapLayer(a,d);if(Qe(a))return this.mapUnit(a,d);throw Error(Za(a));}mapLayer(a,d){return Object.assign({},a,{layer:a.layer.map(f=>this.mapLayerOrUnit(f,d))})}mapHConcat(a,d){return Object.assign({},a,{hconcat:a.hconcat.map(f=>this.map(f,d))})}mapVConcat(a,d){return Object.assign({},a,{vconcat:a.vconcat.map(f=>this.map(f,d))})}mapConcat(a,d){var f=Object.assign({},a);a=a.concat;f=(delete f.concat,f);return Object.assign({},
f,{concat:a.map(h=>this.map(h,d))})}mapFacet(a,d){return Object.assign({},a,{spec:this.map(a.spec,d)})}mapRepeat(a,d){return Object.assign({},a,{spec:this.map(a.spec,d)})}}const am={zero:1,center:1,normalize:1},Pe=new Set([Uj,Qh,Ph,Lh,ii,Aj,aj,hi,Kg,bi]),ql=new Set([Qh,Ph,Uj]);class Ih{constructor(){F(this,"name","path-overlay")}hasMatchingType(a,d){if(Qe(a)){const {mark:f,encoding:h}=a;a=db(f)?f:{type:f};switch(a.type){case "line":case "rule":case "trail":return!!rh(a,d[a.type],h);case "area":return!!rh(a,
d[a.type],h)||!!Hh(a,d[a.type])}}return!1}run(a,d,f){var {config:h}=d,x=Object.assign({},a),G=a.params,ea=a.projection,sa=a.mark,Ia=a.name;a=a.encoding;x=(delete x.params,delete x.projection,delete x.mark,delete x.name,delete x.encoding,x);a=Hf(a,h);sa=db(sa)?sa:{type:sa};const ib=rh(sa,h[sa.type],a),Nb="area"===sa.type&&Hh(sa,h[sa.type]);var sc=Object,ld=sc.assign;var Kc=Object.assign({},"area"===sa.type&&void 0===sa.opacity&&void 0===sa.fillOpacity?{opacity:.7}:{},sa);Kc=Object.assign({},Kc);Kc=
(delete Kc.point,delete Kc.line,Kc);Kc=1<ce(Kc).length?Kc:Kc.type;G=[ld.call(sc,{},{name:Ia},G?{params:G}:{},{mark:Kc,encoding:uc(a,["shape"])})];Ia=Wh(sa,a);sc=a;if(Ia){const {fieldChannel:cd,offset:rd}=Ia;sc=Object.assign({},a,{[cd]:Object.assign({},a[cd],rd?{stack:rd}:{})})}sc=uc(sc,["y2","x2"]);Nb&&G.push(Object.assign({},ea?{projection:ea}:{},{mark:Object.assign({},{type:"line"},Bc(sa,["clip","interpolate","tension","tooltip"]),Nb),encoding:sc}));ib&&G.push(Object.assign({},ea?{projection:ea}:
{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},Bc(sa,["clip","tooltip"]),ib),encoding:sc}));ea=Object.assign({},x,{layer:G});x=Object;G=x.assign;for(const cd of["line","area","rule","trail"])h[cd]&&(h=Object.assign({},h,{[cd]:uc(h[cd],["point","line"])}));return f(ea,G.call(x,{},d,{config:h}))}}class qi{constructor(){F(this,"name","RuleForRangedLine")}hasMatchingType(a){if(Qe(a)){const {encoding:d,mark:f}=a;if("line"===f||db(f)&&"line"===f.type)for(const h of vj)if(a=u(h),a=d[a],d[h]&&
(la(a)&&!Ca(a.bin)||hb(a)))return!0}return!1}run(a,d,f){const {encoding:h,mark:x}=a;var G=!!h.x2;za(`Line mark is for continuous lines and thus cannot be used with ${G&&h.y2?"x2 and y2":G?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return f(Object.assign({},a,{mark:P.isObject(x)?Object.assign({},x,{type:"rule"}):"rule"}),d)}}class cm extends Eh{constructor(){super(...arguments);F(this,"nonFacetUnitNormalizers",[wg,oh,zh,new Ih,new qi])}map(a,d){if(Qe(a)){const f=Cf(a.encoding,
"row"),h=Cf(a.encoding,"column"),x=Cf(a.encoding,"facet");if(f||h||x)return this.mapFacetedUnit(a,d)}return super.map(a,d)}mapUnit(a,d){const {parentEncoding:f,parentProjection:h}=d;var x=Xg(a.encoding,d.repeater);a=Object.assign({},a,a.name?{name:[d.repeaterPrefix,a.name].filter(G=>G).join("_")}:{},x?{encoding:x}:{});if(f||h)return this.mapUnitWithParentEncodingOrProjection(a,d);x=this.mapLayerOrUnit.bind(this);for(const G of this.nonFacetUnitNormalizers)if(G.hasMatchingType(a,d.config))return G.run(a,
d,x);return a}mapRepeat(a,d){return!P.isArray(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,d):this.mapNonLayerRepeat(a,d)}mapLayerRepeat(a,d){var f=Object.assign({},a);const h=a.repeat,x=a.spec;f=(delete f.repeat,delete f.spec,f);const {row:G,column:ea,layer:sa}=h,{repeater:Ia={},repeaterPrefix:ib=""}=d;return G||ea?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},G?{row:G}:{},ea?{column:ea}:{}),spec:{repeat:{layer:sa},spec:x}}),d):Object.assign({},f,{layer:sa.map(Nb=>{var sc=Object.assign({},
Ia,{layer:Nb});Nb=`${(x.name?`${x.name}_`:"")+ib}child__layer_${Ka(Nb)}`;sc=this.mapLayerOrUnit(x,Object.assign({},d,{repeater:sc,repeaterPrefix:Nb}));sc.name=Nb;return sc})})}mapNonLayerRepeat(a,d){var f=a,h=Object.assign({},f);const x=f.repeat,G=f.spec;f=f.data;h=(delete h.repeat,delete h.spec,delete h.data,h);!P.isArray(x)&&a.columns&&(a=uc(a,["columns"]),za(ed("repeat")));const ea=[],{repeater:sa={},repeaterPrefix:Ia=""}=d,ib=!P.isArray(x)&&x.row||[sa?sa.row:null],Nb=!P.isArray(x)&&x.column||
[sa?sa.column:null];var sc=P.isArray(x)&&x||[sa?sa.repeat:null];for(const cd of sc)for(const rd of ib)for(const fe of Nb){var ld={repeat:cd,row:rd,column:fe,layer:sa.layer};sc=(G.name?`${G.name}_`:"")+Ia+"child__"+(P.isArray(x)?`${Ka(cd)}`:(x.row?`row_${Ka(rd)}`:"")+(x.column?`column_${Ka(fe)}`:""));ld=this.map(G,Object.assign({},d,{repeater:ld,repeaterPrefix:sc}));ld.name=sc;ea.push(uc(ld,["data"]))}a=P.isArray(x)?a.columns:x.column?x.column.length:1;let Kc;return Object.assign({},{data:null!=(Kc=
G.data)?Kc:f,align:"all"},h,{columns:a,concat:ea})}mapFacet(a,d){const {facet:f}=a;Jd(f)&&a.columns&&(a=uc(a,["columns"]),za(ed("facet")));return super.mapFacet(a,d)}mapUnitWithParentEncodingOrProjection(a,d){const {encoding:f,projection:h}=a,{parentEncoding:x,parentProjection:G,config:ea}=d,sa=Fg({parentProjection:G,projection:h});d=yi({parentEncoding:x,encoding:Xg(f,d.repeater)});return this.mapUnit(Object.assign({},a,sa?{projection:sa}:{},d?{encoding:d}:{}),{config:ea})}mapFacetedUnit(a,d){var f=
a.encoding,h=Object.assign({},f),x=f.row;const G=f.column;f=f.facet;const ea=(delete h.row,delete h.column,delete h.facet,h);var sa=Object.assign({},a);h=a.mark;const Ia=a.width,ib=a.projection,Nb=a.height,sc=a.view;a=a.params;sa=(delete sa.mark,delete sa.width,delete sa.projection,delete sa.height,delete sa.view,delete sa.params,delete sa.encoding,sa);const {facetMapping:ld,layout:Kc}=this.getFacetMappingAndLayout({row:x,column:G,facet:f},d);x=Xg(ea,d.repeater);return this.mapFacet(Object.assign({},
sa,Kc,{facet:ld,spec:Object.assign({},Ia?{width:Ia}:{},Nb?{height:Nb}:{},sc?{view:sc}:{},ib?{projection:ib}:{},{mark:h,encoding:x},a?{params:a}:{})}),d)}getFacetMappingAndLayout(a,d){const {row:f,column:h,facet:x}=a;if(f||h){x&&(d=[...(f?["row"]:[]),...(h?["column"]:[])],d=`Facet encoding dropped as ${d.join(" and ")} ${1<d.length?"are":"is"} also specified.`,za(d));d={};const Nb={};for(var G of["row","column"]){const sc=a[G];if(sc){var ea=Object.assign({},sc);ea=(delete ea.align,delete ea.center,
delete ea.spacing,delete ea.columns,ea);d[G]=ea;for(var sa of["align","center","spacing"])if(void 0!==sc[sa]){var Ia=void 0,ib=void 0;null!=(Ia=Nb)[ib=sa]||(Ia[ib]={});Nb[sa][G]=sc[sa]}}}return{facetMapping:d,layout:Nb}}ib=Object.assign({},x);a=x.align;G=x.center;sa=x.spacing;Ia=x.columns;ib=(delete ib.align,delete ib.center,delete ib.spacing,delete ib.columns,ib);ib=(d=d.repeater)?Jd(ib)?th(ib,d):Bh(ib,d):ib;return{facetMapping:ib,layout:Object.assign({},a?{align:a}:{},G?{center:G}:{},sa?{spacing:sa}:
{},Ia?{columns:Ia}:{})}}mapLayer(a,d){var f=Object.assign({},d),h=d.parentEncoding;d=d.parentProjection;f=(delete f.parentEncoding,delete f.parentProjection,f);var x=Object.assign({},a);const G=a.encoding,ea=a.projection;x=(delete x.encoding,delete x.projection,x);h=Object.assign({},f,{parentEncoding:yi({parentEncoding:h,encoding:G,layer:!0}),parentProjection:Fg({parentProjection:d,projection:ea})});return super.mapLayer(Object.assign({},x,a.name?{name:[h.repeaterPrefix,a.name].filter(sa=>sa).join("_")}:
{}),h)}}class Bk extends Eh{map(a,d){null!=d.emptySelections||(d.emptySelections={});null!=d.selectionPredicates||(d.selectionPredicates={});a=Xh(a,d);return super.map(a,d)}mapLayerOrUnit(a,d){a=Xh(a,d);if(a.encoding){const f={};for(const h of Zi(a.encoding)){const [x,G]=h;f[x]=Rg(G,d)}a=Object.assign({},a,{encoding:f})}return super.mapLayerOrUnit(a,d)}mapUnit(a,d){var f=Object.assign({},a);const h=a.selection;f=(delete f.selection,f);return h?Object.assign({},f,{params:Zi(h).map(x=>{let [G,ea]=x;
var sa=Object.assign({},ea);x=ea.init;const Ia=ea.bind,ib=ea.empty;sa=(delete sa.init,delete sa.bind,delete sa.empty,sa);"single"===sa.type?(sa.type="point",sa.toggle=!1):"multi"===sa.type&&(sa.type="point");d.emptySelections[G]="none"!==ib;let Nb;for(const sc of jh(null!=(Nb=d.selectionPredicates[G])?Nb:{}))sc.empty="none"!==ib;return{name:G,value:x,select:sa,bind:Ia}})}):a}}class dk extends Eh{map(a,d){var f;const h=null!=(f=d.selections)?f:[];if(a.params&&!Qe(a)){f=[];for(const x of a.params)gh(x)?
h.push(x):f.push(x);a.params=f}d.selections=h;return super.map(a,d)}mapUnit(a,d){const f=d.selections;if(!f||!f.length)return a;let h;const x=(null!=(h=d.path)?h:[]).concat(a.name);d=[];for(const G of f)if(G.views&&G.views.length)for(const ea of G.views)(P.isString(ea)&&(ea===a.name||x.includes(ea))||P.isArray(ea)&&ea.map(sa=>x.indexOf(sa)).every((sa,Ia,ib)=>-1!==sa&&(0===Ia||sa>ib[Ia-1])))&&d.push(G);else d.push(G);d.length&&(a.params=d);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat",
"mapVConcat","mapLayer"]){const d=dk.prototype[a];dk.prototype[a]=function(f,h){var x=d,G=x.call;let ea;var sa=f.name?Object.assign({},h,{path:(null!=(ea=h.path)?ea:[]).concat(f.name)}):h;return G.call(x,this,f,sa)}}const li=new cm,$f=new Bk,Ah=new dk,mh=["background","padding"];class Tg{constructor(){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new Tg(vf(this.explicit),vf(this.implicit))}combine(){return Object.assign({},
this.explicit,this.implicit)}get(a){return Fa(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,d){let {value:f,explicit:h}=d;void 0!==f&&this.set(a,f,h)}set(a,d,f){delete this[f?"implicit":"explicit"][a];this[f?"explicit":"implicit"][a]=d;return this}copyKeyFromSplit(a,d){let {explicit:f,implicit:h}=d;void 0!==f[a]?this.set(a,
f[a],!0):void 0!==h[a]&&this.set(a,h[a],!1)}copyKeyFromObject(a,d){void 0!==d[a]&&this.set(a,d[a],!0)}copyAll(a){for(const d of ce(a.combine())){const f=a.getWithExplicit(d);this.setWithExplicit(d,f)}}}class di extends Tg{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,d);this.explicit=a;this.implicit=d;this.parseNothing=f}clone(){const a=super.clone();
a.parseNothing=this.parseNothing;return a}}let ug=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup";return a}({});class xf{constructor(a,d){this.debugName=d;F(this,"_children",[]);F(this,"_parent",null);F(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,
d){this._children.includes(a)?za("Attempt to add the same child twice."):void 0!==d?this._children.splice(d,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);for(const d of this._children)d._parent=this._parent,this._parent.addChild(d,a++)}insertAsParentOf(a){const d=a.parent;d.removeChild(this);this.parent=d;a.parent=this}swapWithParent(){const a=this._parent,d=a.parent;for(var f of this._children)f.parent=
a;this._children=[];a.removeChild(this);f=a.parent.removeChild(a);this._parent=d;d.addChild(this,f);a.parent=this}}class uh extends xf{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,d,f,h){super(a,d);this.type=f;this.refCounts=h;F(this,"_source",void 0);F(this,"_name",void 0);this._source=this._name=d;!this.refCounts||this._name in
this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${Ga()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=a}}class Rh extends xf{clone(){return new Rh(null,vf(this.formula))}constructor(a,d){super(a);this.formula=d}static makeFromEncoding(a,d){d=d.reduceFieldDef((f,h)=>{const {field:x,
timeUnit:G}=h;G&&(h=Oc(h,{forAs:!0}),f[Ab({as:h,field:x,timeUnit:G})]={as:h,field:x,timeUnit:G});return f},{});return Qa(d)?null:new Rh(a,d)}static makeFromTransform(a,d){var f=Object.assign({},d);d=Object.assign({},f);f=f.timeUnit;d=(delete d.timeUnit,d);f=Nd(f);d=Object.assign({},d,{timeUnit:f});return new Rh(a,{[Ab(d)]:d})}merge(a){this.formula=Object.assign({},this.formula);for(const d in a.formula)this.formula[d]||(this.formula[d]=a.formula[d]);for(const d of a.children)a.removeChild(d),d.parent=
this;a.remove()}removeFormulas(a){const d={};for(const f of Zi(this.formula)){const [h,x]=f;a.has(x.as)||(d[h]=x)}this.formula=d}producedFields(){return new Set(jh(this.formula).map(a=>a.as))}dependentFields(){return new Set(jh(this.formula).map(a=>a.field))}hash(){return`TimeUnit ${Ab(this.formula)}`}assemble(){const a=[];for(const h of jh(this.formula)){const {field:x,as:G,timeUnit:ea}=h;var d=Nd(ea),f=Object.assign({},d);const sa=d.unit;d=d.utc;f=(delete f.unit,delete f.utc,f);a.push(Object.assign({},
{field:Vb(x),type:"timeunit"},sa?{units:Nc(sa)}:{},d?{timezone:"utc"}:{},f,{as:[G,`${G}_end`]}))}return a}}class zk{constructor(){F(this,"hasChannel",void 0);F(this,"hasField",void 0);F(this,"hasSelectionId",void 0);F(this,"timeUnit",void 0);F(this,"items",void 0);for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];this.items=d;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const ri={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,
d)=>{const f=d.scales=[];for(const x of d.project.items){var h=x.channel;if(!mi[h])continue;const G=(h=a.getScaleComponent(h))?h.get("type"):void 0;h&&Ac(G)?(h.set("selectionExtent",{param:d.name,field:x.field},!0),f.push(x)):za("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(a,d,f)=>{const h=d.scales.filter(G=>0===f.filter(ea=>ea.name===G.signals.data).length);if(!a.parent||R(a)||0===h.length)return f;a=f.filter(G=>G.name===d.name)[0];
let x=a.update;if(0<=x.indexOf("vlSelectionResolve"))a.update=`{${h.map(G=>`${P.stringValue(Vb(G.field))}: ${G.signals.data}`).join(", ")}}`;else{for(const G of h){const ea=`${P.stringValue(Vb(G.field))}: ${G.signals.data}`;x.includes(ea)||(x=`${x.substring(0,x.length-1)}, ${ea}}`)}a.update=x}return f.concat(h.map(G=>({name:G.signals.data})))},signals:(a,d,f)=>{if(a.parent&&!R(a))for(const h of d.scales)a=f.filter(x=>x.name===h.signals.data)[0],a.push="outer",delete a.value,delete a.update;return f}},
ck={left:"x",center:"xc",right:"x2"},Zh={top:"y",middle:"yc",bottom:"y2"},Zk=new Set(["aria","width","height"]),ij={defined:a=>"point"===a.type&&a.nearest,parse:(a,d)=>{if(d.events)for(const f of d.events)f.markname=a.getName("voronoi")},marks:(a,d,f)=>{const {x:h,y:x}=d.project.hasChannel;d=a.mark;if(Ra(d))return za(`The "nearest" transform is not supported for ${d} marks.`),f;d={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},
strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},ia(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:h||!x?"datum.datum.x || 0":"0"},y:{expr:x||!h?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let G=0,ea=!1;f.forEach((sa,Ia)=>{let ib;sa=null!=(ib=sa.name)?ib:"";sa===a.component.mark[0].name?G=Ia:0<=sa.indexOf("voronoi")&&(ea=!0)});ea||f.splice(G+1,0,d);return f}},zi={defined:a=>"point"===a.type&&"global"===a.resolve&&
a.bind&&"scales"!==a.bind&&!qg(a.bind),parse:(a,d,f)=>ah(d,f),topLevelSignals:(a,d,f)=>{const h=d.name;a=d.project;const x=d.bind,G=d.init&&d.init[0],ea=ij.defined(d)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((sa,Ia)=>{const ib=Ka(`${h}_${sa.field}`);if(!f.filter(Nb=>Nb.name===ib).length){let Nb,sc;f.unshift(Object.assign({},{name:ib},G?{init:qf(G[Ia])}:{value:null},{on:d.events?[{events:d.events,update:`datum && item().mark.marktype !== 'group' ? ${ea}[${P.stringValue(sa.field)}] : null`}]:
[],bind:null!=(sc=null!=(Nb=x[sa.field])?Nb:x[sa.channel])?sc:x}))}});return f},signals:(a,d,f)=>{const h=d.name;var x=d.project;a=f.filter(ea=>ea.name===h+"_tuple")[0];d=h+"_tuple_fields";x=x.items.map(ea=>Ka(`${h}_${ea.field}`));const G=x.map(ea=>`${ea} !== null`).join(" \x26\x26 ");x.length&&(a.update=`${G} ? {fields: ${d}, values: [${x.join(", ")}]} : null`);delete a.value;delete a.on;return f}},Zj={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,d,f)=>f.concat({name:d.name+"_toggle",value:!1,
on:[{events:d.events,update:d.toggle}]}),modifyExpr:(a,d)=>{const f=d.name+"_tuple",h=d.name+"_toggle";return`${h} ? null : ${f}, `+("global"===d.resolve?`${h} ? null : true, `:`${h} ? null : {unit: ${If(a)}}, `)+`${h} ? ${f} : null`}},uk={defined:a=>{const d="global"===a.resolve&&a.bind&&qg(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;d&&!a&&za("Legend bindings are only supported for selections over an individual field or encoding channel.");return d&&a},parse:(a,d,
f)=>{a=vf(f);a.select=P.isString(a.select)?{type:a.select,toggle:d.toggle}:Object.assign({},a.select,{toggle:d.toggle});ah(d,a);if(P.isObject(f.select)&&(f.select.on||f.select.clear))for(const h of d.events){let x;h.filter=P.array(null!=(x=h.filter)?x:[]);h.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||h.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}f=Lg(d.bind)?d.bind.legend:"click";f=P.isString(f)?P.parseSelector(f,"view"):
P.array(f);d.bind={legend:{merge:f}}},topLevelSignals:(a,d,f)=>{a=d.name;const h=Lg(d.bind)&&d.bind.legend,x=ea=>sa=>{sa=vf(sa);sa.markname=ea;return sa};for(const ea of d.project.items){if(!ea.hasLegend)continue;var G=`${Ka(ea.field)}_legend`;const sa=`${a}_${G}`;0===f.filter(Ia=>Ia.name===sa).length&&(G=h.merge.map(x(`${G}_symbols`)).concat(h.merge.map(x(`${G}_labels`))).concat(h.merge.map(x(`${G}_entries`))),f.unshift(Object.assign({},{name:sa},d.init?{}:{value:null},{on:[{events:G,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",
force:!0},{events:h.merge,update:`!event.item || !datum ? null : ${sa}`,force:!0}]})))}return f},signals:(a,d,f)=>{const h=d.name;var x=d.project;a=f.find(ea=>ea.name===h+"_tuple");var G=h+"_tuple_fields";x=x.items.filter(ea=>ea.hasLegend).map(ea=>Ka(`${h}_${Ka(ea.field)}_legend`));G=`${x.map(ea=>`${ea} !== null`).join(" \x26\x26 ")} ? {fields: ${G}, values: [${x.join(", ")}]} : null`;d.events&&0<x.length?a.on.push({events:x.map(ea=>({signal:ea})),update:G}):0<x.length&&(a.update=G,delete a.value,
delete a.on);a=f.find(ea=>ea.name===h+"_toggle");G=Lg(d.bind)&&d.bind.legend;a&&(d.events?a.on.push(Object.assign({},a.on[0],{events:G})):a.on[0].events=G);return f}},pi=[{defined:a=>"point"===a.type,signals:(a,d,f)=>{const h=d.name,x=h+"_tuple_fields";var G=d.project,ea,sa=jh(null!=(ea=a.component.selection)?ea:{}).reduce((Ia,ib)=>"interval"===ib.type?Ia.concat(ib.name+"_brush"):Ia,[]).map(Ia=>`indexof(item().mark.name, '${Ia}') < 0`).join(" \x26\x26 ");ea=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${sa?
` && ${sa}`:""}`;sa=`unit: ${If(a)}, `;d.project.hasSelectionId?sa+=`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${P.stringValue("_vgsid_")}]`:(G=G.items.map(Ia=>{let ib;return(null==(ib=a.fieldDef(Ia.channel))?0:ib.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${P.stringValue(a.vgField(Ia.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${P.stringValue(a.vgField(Ia.channel,{binSuffix:"end"}))}]]`:`${"(item().isVoronoi ? datum.datum : datum)"}[${P.stringValue(Ia.field)}]`}).join(", "),
sa+=`fields: ${x}, values: [${G}]`);d=d.events;return f.concat([{name:h+"_tuple",on:d?[{events:d,update:`${ea} ? {${sa}} : null`,force:!0}]:[]}])}},{defined:a=>"interval"===a.type,parse:(a,d,f)=>{a.hasProjection&&(a=Object.assign({},P.isObject(f.select)?f.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=f.value?ce(f.value):["longitude","latitude"]),f.select=Object.assign({},{type:"interval"},a));if(d.translate&&!ri.defined(d)){f=`!event.item || event.item.mark.name !== ${P.stringValue(d.name+
"_brush")}`;for(const h of d.events){if(!h.between){za(`${h} is not an ordered event stream for interval selections.`);continue}let x,G;d=P.array(null!=(G=(x=h.between[0]).filter)?G:x.filter=[]);0>d.indexOf(f)&&d.push(f)}}},signals:(a,d,f)=>{var h=d.name;const x=h+"_tuple";var G=jh(d.project.hasChannel).filter(Nb=>"x"===Nb.channel||"y"===Nb.channel);const ea=d.init?d.init[0]:null;f.push(...G.reduce((Nb,sc)=>Nb.concat(ja(a,d,sc,ea&&ea[sc.index])),[]));if(a.hasProjection){var sa=P.stringValue(a.projectionName());
const Nb=a.projectionName()+"_center",{x:sc,y:ld}=d.project.hasChannel;var Ia=sc&&sc.signals.visual;const Kc=ld&&ld.signals.visual;var ib=sc?ea&&ea[sc.index]:`${Nb}[0]`;const cd=ld?ea&&ea[ld.index]:`${Nb}[1]`;Ia="["+`[${Ia?Ia+"[0]":"0"}, ${Kc?Kc+"[0]":"0"}],`+`[${Ia?Ia+"[1]":a.getSizeSignalRef("width").signal}, `+`${Kc?Kc+"[1]":a.getSizeSignalRef("height").signal}]`+"]";ea&&(f.unshift({name:h+"_init",init:`[scale(${sa}, [${sc?ib[0]:ib}, ${ld?cd[0]:cd}]), `+`scale(${sa}, [${sc?ib[1]:ib}, ${ld?cd[1]:
cd}])]`}),sc&&ld||f.find(rd=>rd.name===Nb)||f.unshift({name:Nb,update:`invert(${sa}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));h=`intersect(${Ia}, {markname: ${P.stringValue(a.getName("marks"))}}, unit.mark)`;sa=`{unit: ${If(a)}}`;h=`vlSelectionTuples(${h}, ${sa})`;G=G.map(rd=>rd.signals.visual);return f.concat({name:x,on:[{events:[...(G.length?[{signal:G.join(" || ")}]:[]),...(ea?[{signal:"geo_interval_init_tick"}]:[])],update:h}]})}ri.defined(d)||(sa=
h+"_scale_trigger",ib=G.map(Nb=>{var sc=Nb.channel;const {data:ld,visual:Kc}=Nb.signals;Nb=P.stringValue(a.scaleName(sc));sc=a.getScaleComponent(sc).get("type");sc=Ac(sc)?"+":"";return`(!isArray(${ld}) || `+`(${sc}invert(${Nb}, ${Kc})[0] === ${sc}${ld}[0] && `+`${sc}invert(${Nb}, ${Kc})[1] === ${sc}${ld}[1]))`}),ib.length&&f.push({name:sa,value:{},on:[{events:G.map(Nb=>({scale:a.scaleName(Nb.channel)})),update:ib.join(" \x26\x26 ")+` ? ${sa} : {}`}]}));G=G.map(Nb=>Nb.signals.data);h=`unit: ${If(a)}, fields: ${h+
"_tuple_fields"}, values`;return f.concat(Object.assign({},{name:x},ea?{init:`{${h}: ${qf(ea)}}`}:{},G.length?{on:[{events:[{signal:G.join(" || ")}],update:`${G.join(" \x26\x26 ")} ? {${h}: [${G}]} : null`}]}:{}))},topLevelSignals:(a,d,f)=>{rg(a)&&a.hasProjection&&d.init&&(f.filter(h=>"geo_interval_init_tick"===h.name).length||f.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));return f},marks:(a,
d,f)=>{const h=d.name,{x,y:G}=d.project.hasChannel,ea=null==x?void 0:x.signals.visual,sa=null==G?void 0:G.signals.visual;var Ia=`data(${P.stringValue(d.name+"_store")})`;if(ri.defined(d)||!x&&!G)return f;const ib={x:void 0!==x?{signal:`${ea}[0]`}:{value:0},y:void 0!==G?{signal:`${sa}[0]`}:{value:0},x2:void 0!==x?{signal:`${ea}[1]`}:{field:{group:"width"}},y2:void 0!==G?{signal:`${sa}[1]`}:{field:{group:"height"}}};if("global"===d.resolve)for(var Nb of ce(ib))ib[Nb]=[Object.assign({},{test:`${Ia}.length && ${Ia}[0].unit === ${If(a)}`},
ib[Nb]),{value:0}];Nb=d.mark;Ia=Object.assign({},Nb);a=Nb.fill;d=Nb.fillOpacity;Nb=Nb.cursor;const sc=(delete Ia.fill,delete Ia.fillOpacity,delete Ia.cursor,Ia);Ia=ce(sc).reduce((ld,Kc)=>{ld[Kc]=[{test:[void 0!==x&&`${ea}[0] !== ${ea}[1]`,void 0!==G&&`${sa}[0] !== ${sa}[1]`].filter(cd=>cd).join(" \x26\x26 "),value:sc[Kc]},{value:null}];return ld},{});return[{name:`${h+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:d}},update:ib}},...f,{name:h+"_brush",type:"rect",
clip:!0,encode:{enter:Object.assign({},Nb?{cursor:{value:Nb}}:{},{fill:{value:"transparent"}}),update:Object.assign({},ib,Ia)}}]}},{defined:()=>!0,parse:(a,d,f)=>{const h=d.name;var x;const G=null!=(x=d.project)?x:d.project=new zk,ea={};x={};const sa=new Set,Ia=(Od,se)=>{Od="visual"===se?Od.channel:Od.field;let Se=Ka(`${h}_${Od}`);for(let ff=1;sa.has(Se);ff++)Se=Ka(`${h}_${Od}_${ff}`);sa.add(Se);return{[se]:Se}},ib=d.type,Nb=a.config.selection[ib],sc=void 0!==f.value?P.array(f.value):null;let {fields:ld,
encodings:Kc}=P.isObject(f.select)?f.select:{};if(!ld&&!Kc&&sc)for(var cd of sc)if(P.isObject(cd))for(const Od of ce(cd))if(Sl[Od])(Kc||(Kc=[])).push(Od);else if("interval"===ib)za('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),Kc=Nb.encodings;else{let se;(null!=(se=ld)?se:ld=[]).push(Od)}ld||Kc||(Kc=Nb.encodings,"fields"in Nb&&(ld=Nb.fields));var rd;for(const Od of null!=(rd=Kc)?rd:[])(rd=a.fieldDef(Od))?(f=rd.field,rd.aggregate?za(`Cannot project a selection on encoding channel "${Od}" as it uses an aggregate function ("${rd.aggregate}").`):
f?(rd.timeUnit&&(f=a.vgField(Od),cd={timeUnit:rd.timeUnit,as:f,field:rd.field},x[Ab(cd)]=cd),ea[f]||(rd="interval"===ib&&mi[Od]&&Ac(a.getScaleComponent(Od).get("type"))?"R":rd.bin?"R-RE":"E",rd={field:f,channel:Od,type:rd,index:G.items.length},rd.signals=Object.assign({},Ia(rd,"data"),Ia(rd,"visual")),G.items.push(ea[f]=rd),G.hasField[f]=ea[f],G.hasSelectionId=G.hasSelectionId||"_vgsid_"===f,Od in Oj?(rd.geoChannel=Od,rd.channel=M(Od),G.hasChannel[rd.channel]=ea[f]):G.hasChannel[Od]=ea[f])):za(jc(Od))):
za(jc(Od));let fe;for(const Od of null!=(fe=ld)?fe:[])G.hasField[Od]||(a={type:"E",field:Od,index:G.items.length},a.signals=Object.assign({},Ia(a,"data")),G.items.push(a),G.hasField[Od]=a,G.hasSelectionId=G.hasSelectionId||"_vgsid_"===Od);sc&&(d.init=sc.map(Od=>G.items.map(se=>P.isObject(Od)?void 0!==Od[se.geoChannel||se.channel]?Od[se.geoChannel||se.channel]:Od[se.field]:Od)));Qa(x)||(G.timeUnit=new Rh(null,x))},signals:(a,d,f)=>{const h=d.name+"_tuple_fields";return 0<f.filter(x=>x.name===h).length||
d.project.hasSelectionId?f:f.concat({name:h,value:d.project.items.map($g)})}},Zj,zi,ri,uk,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,d)=>{d.clear&&(d.clear=P.isString(d.clear)?P.parseSelector(d.clear,"view"):d.clear)},topLevelSignals:(a,d,f)=>{if(zi.defined(d))for(const h of d.project.items)a=f.findIndex(x=>x.name===Ka(`${d.name}_${h.field}`)),-1!==a&&f[a].on.push({events:d.clear,update:"null"});return f},signals:(a,d,f)=>{function h(x,G){-1!==x&&f[x].on&&f[x].on.push({events:d.clear,update:G})}
if("interval"===d.type)for(const x of d.project.items)a=f.findIndex(G=>G.name===x.signals.visual),h(a,"[0, 0]"),-1===a&&(a=f.findIndex(G=>G.name===x.signals.data),h(a,"null"));else a=f.findIndex(x=>x.name===d.name+"_tuple"),h(a,"null"),Zj.defined(d)&&(a=f.findIndex(x=>x.name===d.name+"_toggle"),h(a,"false"));return f}},{defined:a=>"interval"===a.type&&a.translate,signals:(a,d,f)=>{const h=d.name,x=ri.defined(d),G=h+"_translate_anchor",{x:ea,y:sa}=d.project.hasChannel;let Ia=P.parseSelector(d.translate,
"scope");x||(Ia=Ia.map(ib=>(ib.between[0].markname=h+"_brush",ib)));f.push({name:G,value:{},on:[{events:Ia.map(ib=>ib.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==ea?`, extent_x: ${x?p(a,"x"):`slice(${ea.signals.visual})`}`:"")+(void 0!==sa?`, extent_y: ${x?p(a,"y"):`slice(${sa.signals.visual})`}`:"")+"}"}]},{name:h+"_translate_delta",value:{},on:[{events:Ia,update:`{x: ${G}.x - x(unit), y: ${G}.y - y(unit)}`}]});void 0!==ea&&mf(a,d,ea,"width",f);void 0!==sa&&mf(a,d,sa,"height",f);return f}},
{defined:a=>"interval"===a.type&&a.zoom,signals:(a,d,f)=>{const h=d.name,x=ri.defined(d),G=h+"_zoom_delta",{x:ea,y:sa}=d.project.hasChannel,Ia=P.stringValue(a.scaleName("x")),ib=P.stringValue(a.scaleName("y"));let Nb=P.parseSelector(d.zoom,"scope");x||(Nb=Nb.map(sc=>(sc.markname=h+"_brush",sc)));f.push({name:h+"_zoom_anchor",on:[{events:Nb,update:x?"{"+[Ia?`x: invert(${Ia}, x(unit))`:"",ib?`y: invert(${ib}, y(unit))`:""].filter(sc=>sc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:G,on:[{events:Nb,
force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==ea&&Rf(a,d,ea,"width",f);void 0!==sa&&Rf(a,d,sa,"height",f);return f}},ij];class bj extends xf{clone(){return new bj(null,this.model,vf(this.filter))}constructor(a,d,f){super(a);this.model=d;this.filter=f;F(this,"expr",void 0);F(this,"_dependentFields",void 0);this.expr=Sh(this.model,this.filter,this);this._dependentFields=pg(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",
expr:this.expr}}hash(){return`Filter ${this.expr}`}}const Ri={scale:a=>{let {model:d,channel:f}=a;return d.scaleName(f)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=a);return a},grid:a=>{let {fieldOrDatumDef:d,axis:f,scaleType:h}=a,x;return null!=(x=f.grid)?x:!Jc(h)&&la(d)&&!X(null==d?void 0:d.bin)&&!Ca(null==d?void 0:d.bin)},gridScale:a=>{let {model:d,channel:f}=a;a="x"===f?"y":"x";a=d.getScaleComponent(a)?d.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:d,labelAngle:f,
orient:h,channel:x}=a;return d.labelAlign||Ma(f,h,x)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:d,labelAngle:f,orient:h,channel:x}=a;return d.labelBaseline||ha(f,h,x)},labelFlush:a=>{let {axis:d,fieldOrDatumDef:f,channel:h}=a;null==(a=d.labelFlush)&&(a="x"===h&&Yb(["quantitative","temporal"],f.type)?!0:void 0);return a},labelOverlap:a=>{let {axis:d,fieldOrDatumDef:f,scaleType:h}=a;if(null==(a=d.labelOverlap)){a=f.type;var x=la(f)&&!!f.timeUnit,G=la(f)?f.sort:void 0;a=
x&&!P.isObject(G)||"nominal"!==a&&"ordinal"!==a?"log"===h||"symlog"===h?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:d,model:f,axis:h,fieldOrDatumDef:x,scaleType:G}=a;a=(a="x"===d?"width":"y"===d?"height":void 0)?f.getSizeSignalRef(a):void 0;let ea;if(null!=(ea=h.tickCount))var sa=ea;else a:{let {fieldOrDatumDef:Ia,scaleType:ib,size:Nb,values:sc}={fieldOrDatumDef:x,scaleType:G,size:a,values:h.values};if(sc||Jc(ib)||"log"===ib)sa=void 0;else{if(la(Ia)){if(X(Ia.bin)){sa=
{signal:`ceil(${Nb.signal}/10)`};break a}if(Ia.timeUnit&&Yb(["month","hours","day","quarter"],null==(sa=Nd(Ia.timeUnit))?void 0:sa.unit)){sa=void 0;break a}}sa={signal:`ceil(${Nb.signal}/40)`}}}return sa},tickMinStep:function(a){let {format:d,fieldOrDatumDef:f}=a;if("d"===d)return 1;if(la(f)&&({timeUnit:a}=f,a&&(a=De(a))))return{signal:a}},title:a=>{let {axis:d,model:f,channel:h}=a;if(void 0!==d.title)return d.title;a=zb(f,h);if(void 0!==a)return a;a=f.typedFieldDef(h);const x=f.fieldDef("x"===h?
"x2":"y2");return gb(a?[Zd(a)]:[],la(x)?[Zd(x)]:[])},values:a=>{let {axis:d,fieldOrDatumDef:f}=a;a=d.values;a=P.isArray(a)?Vd(f,a):Zb(a)?a:void 0;return a},zindex:a=>{let {axis:d,fieldOrDatumDef:f,mark:h}=a;null==(a=d.zindex)&&(a="rect"===h&&Ee(f)?1:0);return a}};class cj extends xf{clone(){return new cj(null,vf(this.transform))}constructor(a,d){super(a);this.transform=d;F(this,"_dependentFields",void 0);this._dependentFields=pg(this.transform.calculate)}static parseAllForSortIndex(a,d){d.forEachFieldDef((f,
h)=>{if(Zc(f)&&Gc(f.sort)){const {field:G,timeUnit:ea}=f;var x=f.sort;x=x.map((sa,Ia)=>`${Ec({field:G,timeUnit:ea,equal:sa})} ? ${Ia} : `).join("")+x.length;a=new cj(a,{calculate:x,as:Bb(f,h,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Ab(this.transform)}`}}const jj=["row","column"],bk=["header","footer"],xk=
{column:{start:0,end:1},row:{start:1,end:0}},yk=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,
legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,
selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),sl=ce(yk);class Al extends Tg{}const hl={symbols:function(a,d){let {fieldOrDatumDef:f,model:h,channel:x,legendCmpt:G,legendType:ea}=d;if("symbol"===ea){var {markDef:sa,encoding:Ia,config:ib,mark:Nb}=h;d=sa.filled&&"trail"!==Nb;var sc=Object,ld=sc.assign,Kc={};for(var cd of gj){const ff=Yc(cd,h.markDef,h.config);void 0!==ff&&(Kc[cd]=Sb(ff))}cd=ld.call(sc,{},Kc,Va(h,{filled:d}));var rd;sc=null!=(rd=G.get("symbolOpacity"))?
rd:ib.legend.symbolOpacity;var fe;rd=null!=(fe=G.get("symbolFillColor"))?fe:ib.legend.symbolFillColor;var Od;fe=null!=(Od=G.get("symbolStrokeColor"))?Od:ib.legend.symbolStrokeColor;var se;Od=void 0===sc?null!=(se=Lb(Ia.opacity))?se:sa.opacity:void 0;if(cd.fill)if("fill"===x||d&&"color"===x)delete cd.fill;else if(cd.fill.field)if(rd)delete cd.fill;else{let ff;cd.fill=Sb(null!=(ff=ib.legend.symbolBaseFillColor)?ff:"black");cd.fillOpacity=Sb(null!=Od?Od:1)}else if(P.isArray(cd.fill)){var Se;let ff,Vf;
if(se=null!=(Vf=null!=(ff=Mb(null!=(Se=Ia.fill)?Se:Ia.color))?ff:sa.fill)?Vf:d&&sa.color)cd.fill=Sb(se)}cd.stroke&&("stroke"===x||!d&&"color"===x?delete cd.stroke:cd.stroke.field||fe?delete cd.stroke:P.isArray(cd.stroke)&&(Se=Fa(Mb(Ia.stroke||Ia.color),sa.stroke,d?sa.color:void 0))&&(cd.stroke={value:Se}));"opacity"!==x&&((Se=la(f)&&Dd(h,G,f))?cd.opacity=[Object.assign({},{test:Se},Sb(null!=Od?Od:1)),Sb(ib.legend.unselectedOpacity)]:Od&&(cd.opacity=Sb(Od)));cd=Object.assign({},cd,a);return Qa(cd)?
void 0:cd}},gradient:function(a,d){let {model:f,legendType:h,legendCmpt:x}=d;if("gradient"===h){var {config:G,markDef:ea,encoding:sa}=f;d={};var Ia,ib=void 0===(null!=(Ia=x.get("gradientOpacity"))?Ia:G.legend.gradientOpacity)?Lb(sa.opacity)||ea.opacity:void 0;ib&&(d.opacity=Sb(ib));d=Object.assign({},d,a);return Qa(d)?void 0:d}},labels:function(a,d){let {fieldOrDatumDef:f,model:h,channel:x,legendCmpt:G}=d;var ea=h.legend(x)||{};d=h.config;var sa=la(f)?Dd(h,G,f):void 0;sa=sa?[{test:sa,value:1},{value:d.legend.unselectedOpacity}]:
void 0;const {format:Ia,formatType:ib}=ea;ea=void 0;Ld(ib)?ea=ve({fieldOrDatumDef:f,field:"datum.value",format:Ia,formatType:ib,config:d}):void 0===Ia&&void 0===ib&&d.customFormatTypes&&("quantitative"===f.type&&d.numberFormatType?ea=ve({fieldOrDatumDef:f,field:"datum.value",format:d.numberFormat,formatType:d.numberFormatType,config:d}):"temporal"===f.type&&d.timeFormatType&&la(f)&&void 0===f.timeUnit&&(ea=ve({fieldOrDatumDef:f,field:"datum.value",format:d.timeFormat,formatType:d.timeFormatType,config:d})));
a=Object.assign({},sa?{opacity:sa}:{},ea?{text:ea}:{},a);return Qa(a)?void 0:a},entries:function(a,d){({legendCmpt:d}=d);let f;return(null==(f=d.get("selections"))?0:f.length)?Object.assign({},a,{fill:{value:"transparent"}}):a}},Hk={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:d,legend:f,config:h}=a;const {format:x,formatType:G}=f;return Me(d,d.type,x,G,h,!1)},formatType:a=>{let {legend:d,fieldOrDatumDef:f,scaleType:h}=a;({formatType:a}=d);return $e(a,f,h)},gradientLength:a=>
{const {legend:d,legendConfig:f}=a;let h,x;if(null!=(x=null!=(h=d.gradientLength)?h:f.gradientLength))a=x;else{{let {legendConfig:G,model:ea,direction:sa,orient:Ia,scaleType:ib}=a;const {gradientHorizontalMaxLength:Nb,gradientHorizontalMinLength:sc,gradientVerticalMaxLength:ld,gradientVerticalMinLength:Kc}=G;a=Jg.has(ib)?"horizontal"===sa?"top"===Ia||"bottom"===Ia?gd(ea,"width",sc,Nb):sc:gd(ea,"height",Kc,ld):void 0}}return a},labelOverlap:a=>{let {legend:d,legendConfig:f,scaleType:h}=a;var x;x=null!=
(a=null!=(x=d.labelOverlap)?x:f.labelOverlap)?a:Yb(["quantile","threshold","log","symlog"],h)?"greedy":void 0;return x},symbolType:a=>{let {legend:d,markDef:f,channel:h,encoding:x}=a;if(null!=(a=d.symbolType))var G=a;else a:{a=f.type;var ea=f.shape;if("shape"!==h){const sa=null!=(G=Mb(x.shape))?G:ea;if(sa){G=sa;break a}}switch(a){case "bar":case "rect":case "image":case "square":G="square";break a;case "line":case "trail":case "rule":G="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":G=
"circle";break a}G=void 0}return G},title:a=>{let {fieldOrDatumDef:d,config:f}=a;return Ae(d,f,{allowDisabling:!0})},type:a=>{let {legendType:d,scaleType:f,channel:h}=a;if(Q(h)&&Jg.has(f)){if("gradient"===d)return}else if("symbol"===d)return;return d},values:a=>{let {fieldOrDatumDef:d,legend:f}=a;a=f.values;a=P.isArray(a)?Vd(d,a):Zb(a)?a:void 0;return a}},Il="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");
class Bl extends Tg{constructor(a,d,f,h){super(Object.assign({},d),{name:a});this.specifiedProjection=d;this.size=f;this.data=h;F(this,"merged",!1)}get isFit(){return!!this.data}}class Gi extends xf{clone(){return new Gi(null,vf(this.bins))}constructor(a,d){super(a);this.bins=d}static makeFromEncoding(a,d){const f=d.reduceFieldDef((h,x,G)=>{if(Dc(x)&&X(x.bin)){const {key:sc,binComponent:ld}=Gh(x,x.bin,d);var ea=Object,sa=ea.assign,Ia=h[sc];var ib=d.config;if(hf(x,G)){var Nb;let Kc;const cd=rg(d)?
null!=(Kc=null!=(Nb=d.axis(G))?Nb:d.legend(G))?Kc:{}:{};G=Oc(x,{expr:"datum"});Nb=Oc(x,{expr:"datum",binSuffix:"end"});x={formulaAs:Oc(x,{binSuffix:"range",forAs:!0}),formula:Fc(G,Nb,cd.format,cd.formatType,ib)}}else x={};h[sc]=sa.call(ea,{},ld,Ia,x)}return h},{});return Qa(f)?null:new Gi(a,f)}static makeFromTransform(a,d,f){const {key:h,binComponent:x}=Gh(d,d.bin,f);return new Gi(a,{[h]:x})}merge(a,d){for(const f of ce(a.bins))f in this.bins?(d(a.bins[f].signal,this.bins[f].signal),this.bins[f].as=
Kb([...this.bins[f].as,...a.bins[f].as],Ab)):this.bins[f]=a.bins[f];for(const f of a.children)a.removeChild(f),f.parent=this;a.remove()}producedFields(){return new Set(jh(this.bins).map(a=>a.as).flat(2))}dependentFields(){return new Set(jh(this.bins).map(a=>a.field))}hash(){return`Bin ${Ab(this.bins)}`}assemble(){return jh(this.bins).flatMap(a=>{const d=[],[f,...h]=a.as;var x=a.bin,G=Object.assign({},x);x=x.extent;G=(delete G.extent,G);G=Object.assign({},{type:"bin",field:Vb(a.field),as:f,signal:a.signal},
Xa(x)?{extent:null}:{extent:x},a.span?{span:{signal:`span(${a.span})`}}:{},G);!x&&a.extentSignal&&(d.push({type:"extent",field:Vb(a.field),signal:a.extentSignal}),G.extent={signal:a.extentSignal});d.push(G);for(const ea of h)for(x=0;2>x;x++)d.push({type:"formula",expr:Oc({field:f[x]},{expr:"datum"}),as:ea[x]});a.formula&&d.push({type:"formula",expr:a.formula,as:a.formulaAs});return d})}}class Ci extends xf{clone(){return new Ci(null,new Set(this.dimensions),vf(this.measures))}constructor(a,d,f){super(a);
this.dimensions=d;this.measures=f}get groupBy(){return this.dimensions}static makeFromEncoding(a,d){let f=!1;d.forEachFieldDef(G=>{G.aggregate&&(f=!0)});const h={},x=new Set;if(!f)return null;d.forEachFieldDef((G,ea)=>{const {aggregate:sa,field:Ia}=G;if(sa)if("count"===sa)null!=h["*"]||(h["*"]={}),h["*"].count=new Set([Oc(G,{forAs:!0})]);else{if(L(sa)||va(sa)){G=L(sa)?"argmin":"argmax";var ib=sa[G];null!=h[ib]||(h[ib]={});h[ib][G]=new Set([Oc({op:G,field:ib},{forAs:!0})])}else null!=h[Ia]||(h[Ia]=
{}),h[Ia][sa]=new Set([Oc(G,{forAs:!0})]);mi[ea]&&"unaggregated"===d.scaleDomain(ea)&&(null!=h[Ia]||(h[Ia]={}),h[Ia].min=new Set([Oc({field:Ia,aggregate:"min"},{forAs:!0})]),h[Ia].max=new Set([Oc({field:Ia,aggregate:"max"},{forAs:!0})]))}else{const Nb=rg(d)?d.encoding[C(ea)]:void 0;Dc(G)&&rg(d)&&O(G,Nb,d.markDef,d.config)?(x.add(Oc(G,{})),x.add(Oc(G,{suffix:"end"})),G.bin&&hf(G,ea)&&x.add(Oc(G,{binSuffix:"range"}))):ea in Oj?(ea=M(ea),x.add(d.getName(ea))):x.add(Oc(G));if(ea=Zc(G))ea=null==(ib=G.scale)?
void 0:ib.range,ea=P.isObject(ea)&&"field"in ea;ea&&x.add(G.scale.range.field)}});return 0===x.size+ce(h).length?null:new Ci(a,x,h)}static makeFromTransform(a,d){const f=new Set,h={};for(const G of d.aggregate){const {op:ea,field:sa,as:Ia}=G;if(ea)if("count"===ea){let ib;null!=(ib=h)["*"]||(ib["*"]={});h["*"].count=new Set([Ia?Ia:Oc(G,{forAs:!0})])}else{let ib,Nb;null!=(ib=h)[Nb=sa]||(ib[Nb]={});h[sa][ea]=new Set([Ia?Ia:Oc(G,{forAs:!0})])}}let x;for(const G of null!=(x=d.groupby)?x:[])f.add(G);return 0===
f.size+ce(h).length?null:new Ci(a,f,h)}merge(a){if(Cb(this.dimensions,a.dimensions)){var d=this.measures;a=a.measures;for(const f of ce(a)){const h=a[f];for(const x of ce(h))if(f in d){let G;d[f][x]=new Set([...(null!=(G=d[f][x])?G:[]),...h[x]])}else d[f]={[x]:h[x]}}return!0}fb("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ce(this.measures)])}producedFields(){const a=new Set;for(const d of ce(this.measures))for(const f of ce(this.measures[d])){const h=
this.measures[d][f];0===h.size?a.add(`${f}_${d}`):h.forEach(a.add,a)}return a}hash(){return`Aggregate ${Ab({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const a=[],d=[],f=[];for(const h of ce(this.measures))for(const x of ce(this.measures[h]))for(const G of this.measures[h][x])f.push(G),a.push(x),d.push("*"===h?null:Vb(h));return{type:"aggregate",groupby:[...this.dimensions].map(Vb),ops:a,fields:d,as:f}}}class Di extends xf{constructor(a,d,f,h){super(a);this.model=d;this.name=
f;this.data=h;F(this,"column",void 0);F(this,"row",void 0);F(this,"facet",void 0);F(this,"childModel",void 0);for(const x of Jh)if(a=d.facet[x]){const {bin:G,sort:ea}=a;this[x]=Object.assign({},{name:d.getName(`${x}_domain`),fields:[Oc(a),...(X(G)?[Oc(a,{binSuffix:"end"})]:[])]},bd(ea)?{sortField:ea}:P.isArray(ea)?{sortIndexField:Bb(a,x)}:{})}this.childModel=d.child}hash(){let a="Facet";for(const d of Jh)this[d]&&(a+=` ${d.charAt(0)}:${Ab(this[d])}`);return a}get fields(){const a=[];for(const d of Jh){let f;
(null==(f=this[d])?0:f.fields)&&a.push(...this[d].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const d of Jh)this[d]&&(this[d].sortField&&a.add(this[d].sortField.field),this[d].sortIndexField&&a.add(this[d].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const h of oi){var d=this.childModel.component.scales[h];if(d&&!d.merged){var f=d.get("type");d=d.get("range");Jc(f)&&Rc(d)&&(f=Tj(this.childModel,
h),(f=Fk(f))?a[h]=f:za(ec(h)))}}return a}assembleRowColumnHeaderData(a,d,f){const h={row:"y",column:"x",facet:void 0}[a],x=[],G=[],ea=[];h&&f&&f[h]&&(d?(x.push(`distinct_${f[h]}`),G.push("max")):(x.push(f[h]),G.push("distinct")),ea.push(`distinct_${f[h]}`));const {sortField:sa,sortIndexField:Ia}=this[a];if(sa){const {op:ib="min",field:Nb}=sa;x.push(Nb);G.push(ib);ea.push(Oc(sa,{forAs:!0}))}else Ia&&(x.push(Ia),G.push("max"),ea.push(Ia));return{name:this[a].name,source:null!=d?d:this.data,transform:[Object.assign({},
{type:"aggregate",groupby:this[a].fields},x.length?{fields:x,ops:G,as:ea}:{})]}}assembleFacetHeaderData(a){const {columns:d}=this.model.layout,{layoutHeaders:f}=this.model.component,h=[],x={};for(const Ia of jj){for(const ib of bk){let Nb;var G=null!=(Nb=f[Ia]&&f[Ia][ib])?Nb:[];for(const sc of G){let ld;if(0<(null==(ld=sc.axes)?void 0:ld.length)){x[Ia]=!0;break}}}x[Ia]&&(G=`length(data("${this.facet.name}"))`,h.push({name:`${this.facet.name}_${Ia}`,transform:[{type:"sequence",start:0,stop:"row"===
Ia?d?{signal:`ceil(${G} / ${d})`}:1:d?{signal:`min(${G}, ${d})`}:{signal:G}}]}))}const {row:ea,column:sa}=x;(ea||sa)&&h.unshift(this.assembleRowColumnHeaderData("facet",null,a));return h}assemble(){const a=[];var d=null;const f=this.getChildIndependentFieldsWithStep(),{column:h,row:x,facet:G}=this;if(h&&x&&(f.x||f.y)){d=`cross_${this.column.name}_${this.row.name}`;var ea;let sa;const Ia=[].concat(null!=(ea=f.x)?ea:[],null!=(sa=f.y)?sa:[]);ea=Ia.map(()=>"distinct");a.push({name:d,source:this.data,
transform:[{type:"aggregate",groupby:this.fields,fields:Ia,ops:ea}]})}for(const sa of["column","row"])this[sa]&&a.push(this.assembleRowColumnHeaderData(sa,d,f));G&&(d=this.assembleFacetHeaderData(f))&&a.push(...d);return a}}class Uh extends xf{clone(){return new Uh(null,vf(this._parse))}constructor(a,d){super(a);F(this,"_parse",void 0);this._parse=d}hash(){return`Parse ${Ab(this._parse)}`}static makeExplicit(a,d,f){let h={};d=d.data;let x;!Sg(d)&&(null==d?0:null==(x=d.format)?0:x.parse)&&(h=d.format.parse);
return this.makeWithAncestors(a,h,{},f)}static makeWithAncestors(a,d,f,h){for(var x of ce(f)){const ea=h.getWithExplicit(x);void 0!==ea.value&&(ea.explicit||ea.value===f[x]||"derived"===ea.value||"flatten"===f[x]?delete f[x]:za(fd(x,f[x],ea.value)))}for(var G of ce(d))x=h.get(G),void 0!==x&&(x===d[G]?delete d[G]:za(fd(G,d[G],x)));d=new Tg(d,f);h.copyAll(d);f={};for(const ea of ce(d.combine()))G=d.get(ea),null!==G&&(f[ea]=G);return 0===ce(f).length||h.parseNothing?null:new Uh(a,f)}get parse(){return this._parse}merge(a){this._parse=
Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const d of ce(this._parse)){const f=this._parse[d];1===Z(d)&&(a[d]=f)}return a}producedFields(){return new Set(ce(this._parse))}dependentFields(){return new Set(ce(this._parse))}assembleTransforms(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return ce(this._parse).filter(d=>a?1<Z(d):!0).map(d=>{const f=uf(d,this._parse[d]);return f?{type:"formula",expr:f,as:qa(d)}:null}).filter(d=>null!==d)}}
class Ei extends xf{clone(){return new Ei(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class b extends xf{clone(){return new b(null,this.params)}constructor(a,d){super(a);this.params=d}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Ab(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}
class e extends xf{clone(){return new e(null,this.params)}constructor(a,d){super(a);this.params=d}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${Ab(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class n extends xf{constructor(a){super(null);F(this,"_data",void 0);F(this,"_name",void 0);F(this,"_generator",void 0);null!=a||(a={name:"source"});let d;Sg(a)||(d=a.format?Object.assign({},
uc(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!d.type){let f=/(?:\.([^.]+))?$/.exec(a.url)[1];Yb(["json","csv","tsv","dsv","topojson"],f)||(f="json");d.type=f}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Yf(a)||Sg(a))this._data={};this._generator=Sg(a);a.name&&(this._name=a.name);d&&!Qa(d)&&(this._data.format=d)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=
a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var K=new WeakMap;class pa{constructor(){if(K.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");K.set(this,{writable:!0,value:void 0});ya(this,K,!1)}setModified(){ya(this,K,!0)}get modifiedFlag(){var a=
Oa(this,K,"get");return a.get?a.get.call(this):a.value}}class Ba extends pa{getNodeDepths(a,d,f){f.set(a,d);for(const h of a.children)this.getNodeDepths(h,d+1,f);return f}optimize(a){a=[...this.getNodeDepths(a,0,new Map).entries()].sort((d,f)=>f[1]-d[1]);for(const d of a)this.run(d[0]);return this.modifiedFlag}}class ub extends pa{optimize(a){this.run(a);for(const d of a.children)this.optimize(d);return this.modifiedFlag}}class wc extends ub{mergeNodes(a,d){const f=d.shift();for(const h of d)a.removeChild(h),
h.parent=f,h.remove()}run(a){const d=a.children.map(h=>h.hash()),f={};for(let h=0;h<d.length;h++)void 0===f[d[h]]?f[d[h]]=[a.children[h]]:f[d[h]].push(a.children[h]);for(const h of ce(f))1<f[h].length&&(this.setModified(),this.mergeNodes(a,f[h]))}}class Pc extends ub{constructor(a){super();F(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&Lf(a)}run(a){!(a instanceof Ei)||this.requiresSelectionId&&(Je(a.parent)||a.parent instanceof Ci||a.parent instanceof Uh)||(this.setModified(),a.remove())}}
class zd extends pa{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,d){let f=new Set;a instanceof Rh&&(f=a.producedFields(),Ob(f,d)&&(this.setModified(),a.removeFormulas(d),0===a.producedFields.length&&a.remove()));for(const h of a.children)this.run(h,new Set([...d,...f]))}}class ge extends ub{constructor(){super()}run(a){a instanceof uh&&!a.isRequired()&&(this.setModified(),a.remove())}}class je extends Ba{run(a){if(!(Je(a)||1<a.numChildren()))for(const d of a.children)d instanceof
Uh&&(a instanceof Uh?(this.setModified(),a.merge(d)):pb(a.producedFields(),d.dependentFields())||(this.setModified(),d.swapWithParent()))}}class de extends Ba{run(a){const d=[...a.children];var f=a.children.filter(x=>x instanceof Uh);if(1<a.numChildren()&&1<=f.length){const x={};var h=new Set;for(const G of f){f=G.parse;for(const ea of ce(f))ea in x?x[ea]!==f[ea]&&h.add(ea):x[ea]=f[ea]}for(const G of h)delete x[G];if(!Qa(x)){this.setModified();h=new Uh(a,x);for(const G of d){if(G instanceof Uh)for(const ea of ce(x))delete G.parse[ea];
a.removeChild(G);G.parent=h;G instanceof Uh&&0===ce(G.parse).length&&G.remove()}}}}}class He extends Ba{run(a){a instanceof uh||0<a.numChildren()||a instanceof Di||a instanceof n||(this.setModified(),a.remove())}}class Te extends Ba{run(a){a=a.children.filter(f=>f instanceof Rh);const d=a.pop();for(const f of a)this.setModified(),d.merge(f)}}class Ye extends Ba{run(a){var d=a.children.filter(x=>x instanceof Ci);const f={};for(var h of d)d=Ab(h.groupBy),d in f||(f[d]=[]),f[d].push(h);for(const x of ce(f))if(h=
f[x],1<h.length){d=h.pop();for(const G of h)d.merge(G)&&(a.removeChild(G),G.parent=d,G.remove(),this.setModified())}}}class ch extends Ba{constructor(a){super();this.model=a}run(a){var d=!(Je(a)||a instanceof bj||a instanceof Uh||a instanceof Ei);const f=[],h=[];for(const x of a.children)x instanceof Gi&&(d&&!pb(a.producedFields(),x.dependentFields())?f.push(x):h.push(x));if(0<f.length){d=f.pop();for(const x of f)d.merge(x,this.model.renameSignal.bind(this.model));this.setModified();a instanceof Gi?
a.merge(d,this.model.renameSignal.bind(this.model)):d.swapWithParent()}if(1<h.length){a=h.pop();for(const x of h)a.merge(x,this.model.renameSignal.bind(this.model));this.setModified()}}}class md extends Ba{run(a){var d=[...a.children];if(Ua(d,x=>x instanceof uh)&&!(1>=a.numChildren())){var f=[];for(const x of d)if(x instanceof uh){for(d=x;1===d.numChildren();){const [G]=d.children;if(G instanceof uh)d=G;else break}f.push(...d.children);if(h)a.removeChild(x),x.parent=h.parent,h.parent.removeChild(h),
h.parent=d,this.setModified();else var h=d}else f.push(x);if(f.length){this.setModified();for(const x of f)x.parent.removeChild(x),x.parent=h}}}}class Tc extends xf{clone(){return new Tc(null,vf(this.transform))}constructor(a,d){super(a);this.transform=d}addDimensions(a){this.transform.groupby=Kb(this.transform.groupby.concat(a),d=>d)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(d=>d.field).filter(d=>void 0!==d).forEach(a.add,
a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let d;return null!=(d=a.as)?d:Oc(a)}hash(){return`JoinAggregateTransform ${Ab(this.transform)}`}assemble(){const a=[],d=[],f=[];for(var h of this.transform.joinaggregate)d.push(h.op),f.push(this.getDefaultName(h)),a.push(void 0===h.field?null:h.field);h=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:f,ops:d,fields:a},void 0!==h?{groupby:h}:{})}}class qd extends xf{clone(){return new qd(null,
vf(this._stack))}constructor(a,d){super(a);F(this,"_stack",void 0);this._stack=d}static makeFromTransform(a,d){const {stack:f,groupby:h,as:x,offset:G="zero"}=d;var ea=[];const sa=[];if(void 0!==d.sort)for(const Ia of d.sort)ea.push(Ia.field),sa.push(Fa(Ia.order,"ascending"));ea={field:ea,order:sa};d=Oe(x)?x:P.isString(x)?[x,`${x}_end`]:[`${d.stack}_start`,`${d.stack}_end`];return new qd(a,{dimensionFieldDefs:[],stackField:f,groupby:h,offset:G,sort:ea,facetby:[],as:d})}static makeFromEncoding(a,d){var f=
d.stack;const {encoding:h}=d;if(!f)return null;const {groupbyChannels:x,fieldChannel:G,offset:ea,impute:sa}=f;f=x.map(Nb=>xe(h[Nb])).filter(Nb=>!!Nb);const Ia=le(d);var ib=d.encoding.order;if(P.isArray(ib)||la(ib))ib=Ha(ib);else{const Nb=ib&&ib.sort&&!ib.field?ib.sort:"y"===G?"descending":"ascending";ib=Ia.reduce((sc,ld)=>{sc.field.push(ld);sc.order.push(Nb);return sc},{field:[],order:[]})}return new qd(a,{dimensionFieldDefs:f,stackField:d.vgField(G),facetby:[],stackby:Ia,sort:ib,offset:ea,impute:sa,
as:[d.vgField(G,{suffix:"start",forAs:!0}),d.vgField(G,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Ab(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:d,groupby:f}=
this._stack;return 0<a.length?a.map(h=>h.bin?d?[Oc(h,{binSuffix:"mid"})]:[Oc(h,{}),Oc(h,{binSuffix:"end"})]:[Oc(h)]).flat():null!=f?f:[]}assemble(){const a=[],{facetby:d,dimensionFieldDefs:f,stackField:h,stackby:x,sort:G,offset:ea,impute:sa,as:Ia}=this._stack;if(sa)for(const ib of f){const {bandPosition:Nb=.5,bin:sc}=ib;if(sc){const ld=Oc(ib,{expr:"datum"}),Kc=Oc(ib,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${Nb}*${ld}+${1-Nb}*${Kc}`,as:Oc(ib,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",
field:h,groupby:[...x,...d],key:Oc(ib,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...d],field:h,sort:G,as:Ia,offset:ea});return a}}class me extends xf{clone(){return new me(null,vf(this.transform))}constructor(a,d){super(a);this.transform=d}addDimensions(a){this.transform.groupby=Kb(this.transform.groupby.concat(a),d=>d)}dependentFields(){const a=new Set;let d;(null!=(d=this.transform.groupby)?d:[]).forEach(a.add,a);let f;(null!=(f=this.transform.sort)?
f:[]).forEach(h=>a.add(h.field));this.transform.window.map(h=>h.field).filter(h=>void 0!==h).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let d;return null!=(d=a.as)?d:Oc(a)}hash(){return`WindowTransform ${Ab(this.transform)}`}assemble(){const a=[],d=[],f=[],h=[];for(var x of this.transform.window)d.push(x.op),f.push(this.getDefaultName(x)),h.push(void 0===x.param?null:x.param),a.push(void 0===x.field?null:x.field);x=this.transform.frame;
const G=this.transform.groupby;if(x&&null===x[0]&&null===x[1]&&d.every(ib=>La(ib)))return Object.assign({},{type:"joinaggregate",as:f,ops:d,fields:a},void 0!==G?{groupby:G}:{});const ea=[],sa=[];if(void 0!==this.transform.sort)for(var Ia of this.transform.sort){ea.push(Ia.field);let ib;sa.push(null!=(ib=Ia.order)?ib:"ascending")}Ia=this.transform.ignorePeers;return Object.assign({},{type:"window",params:h,as:f,ops:d,fields:a,sort:{field:ea,order:sa}},void 0!==Ia?{ignorePeers:Ia}:{},void 0!==G?{groupby:G}:
{},void 0!==x?{frame:x}:{})}}class Fe{constructor(a){F(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,d){return new Fe(()=>a(d))}}class kf extends Tg{constructor(a,d){super({},{name:a});F(this,"merged",!1);this.setWithExplicit("type",d)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:Ua(this.get("domains"),a=>P.isArray(a)&&2===a.length&&0>=a[0]&&0<=a[1])}}const lf=["range","scheme"],rf={bins:a=>{let {model:d,fieldOrDatumDef:f}=a;return la(f)?
Ik(d,f):void 0},interpolate:a=>{let {channel:d,fieldOrDatumDef:f}=a;a=f.type;a=Yb(["color","fill","stroke"],d)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:d,channel:f,domain:h,domainMin:x,domainMax:G,fieldOrDatumDef:ea}=a;{let sa;a=(null==(sa=xe(ea))?0:sa.bin)||P.isArray(h)||null!=G||null!=x||Yb([Kh.TIME,Kh.UTC],d)?void 0:V(f)?!0:void 0}return a},padding:a=>{let {channel:d,scaleType:f,fieldOrDatumDef:h,markDef:x,config:G}=a;a:{a=G.scale;var ea=G.bar;if(V(d)){if(Jg.has(f)){if(void 0!==
a.continuousPadding){a=a.continuousPadding;break a}const {type:sa,orient:Ia}=x;if("bar"===sa&&(!la(h)||!h.bin&&!h.timeUnit)&&("vertical"===Ia&&"x"===d||"horizontal"===Ia&&"y"===d)){a=ea.continuousBandSize;break a}}if(f===Kh.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>{let {scalePadding:d,channel:f,markDef:h,scaleType:x,config:G,hasNestedOffsetScale:ea}=a;return jk(d,f,h.type,x,G.scale,ea)},paddingOuter:a=>{let {scalePadding:d,channel:f,scaleType:h,scalePaddingInner:x,config:G,
hasNestedOffsetScale:ea}=a;return Ti(d,f,h,x,G.scale,ea)},reverse:a=>{let {fieldOrDatumDef:d,scaleType:f,channel:h,config:x}=a;a=la(d)?d.sort:void 0;var G=x.scale;a="x"===h&&void 0!==G.xReverse?Ac(f)&&"descending"===a?Zb(G.xReverse)?{signal:`!${G.xReverse.signal}`}:!G.xReverse:G.xReverse:Ac(f)&&"descending"===a?!0:void 0;return a},zero:a=>{let {channel:d,fieldOrDatumDef:f,domain:h,markDef:x,scaleType:G,config:ea,hasSecondaryRangeChannel:sa}=a;a:if(a=ea.scale,h&&"unaggregated"!==h&&Ac(G)){if(P.isArray(h)&&
(a=h[h.length-1],0>=h[0]&&0<=a)){a=!0;break a}a=!1}else if("size"!==d||"quantitative"!==f.type||$h.has(G))if(la(f)&&f.bin||!Yb([...oi,...jl],d))a=!1;else{const {orient:Ia,type:ib}=x;a=Yb(["bar","area","line","trail"],ib)&&("horizontal"===Ia&&"y"===d||"vertical"===Ia&&"x"===d)?!1:Yb(["bar","area"],ib)&&!sa?!0:null==a?void 0:a.zero}else a=!0;return a}},yh=Yh((a,d)=>Ji[a]-Ji[d]);class Wf{constructor(){F(this,"nameMap",void 0);this.nameMap={}}rename(a,d){this.nameMap[a]=d}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&
a!==this.nameMap[a];)a=this.nameMap[a];return a}}class wi{constructor(a,d,f,h,x,G,ea){this.type=d;this.parent=f;this.config=x;F(this,"name",void 0);F(this,"size",void 0);F(this,"title",void 0);F(this,"description",void 0);F(this,"data",void 0);F(this,"transforms",void 0);F(this,"layout",void 0);F(this,"scaleNameMap",void 0);F(this,"projectionNameMap",void 0);F(this,"signalNameMap",void 0);F(this,"component",void 0);F(this,"view",void 0);F(this,"children",void 0);F(this,"correctDataNames",ib=>{let Nb;
if(null==(Nb=ib.from)?0:Nb.data)ib.from.data=this.lookupDataSource(ib.from.data);let sc,ld;if(null==(sc=ib.from)?0:null==(ld=sc.facet)?0:ld.data)ib.from.facet.data=this.lookupDataSource(ib.from.facet.data);return ib});this.parent=f;this.config=x;this.view=qc(ea);let sa;this.name=null!=(sa=a.name)?sa:h;this.title=dd(a.title)?{text:a.title}:a.title?qc(a.title):void 0;this.scaleNameMap=f?f.scaleNameMap:new Wf;this.projectionNameMap=f?f.projectionNameMap:new Wf;this.signalNameMap=f?f.signalNameMap:new Wf;
this.data=a.data;this.description=a.description;let Ia;this.transforms=Mh(null!=(Ia=a.transform)?Ia:[]);this.layout="layer"===d||"unit"===d?{}:yf(a,d,x);this.component={data:{sources:f?f.component.data.sources:[],outputNodes:f?f.component.data.outputNodes:{},outputNodeRefCounts:f?f.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==f?void 0:f.component.data.isFaceted)&&void 0===a.data},layoutSize:new Tg,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},
{scale:{},axis:{},legend:{}},G?vf(G):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){Kj(this)}parseProjection(){We(this)}renameTopLevelLayoutSizeSignal(){"width"!==
this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){nc(this)}assembleEncodeFromView(a){a=Object.assign({},a);a=(delete a.style,a);const d={};for(const f of ce(a)){const h=a[f];void 0!==h&&(d[f]=Sb(h))}return d}assembleGroupEncodeEntry(a){let d={};this.view&&(d=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(d.description=Sb(this.description)),"unit"===this.type||
"layer"===this.type)){let f;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(f=d)?f:{})}return Qa(d)?void 0:d}assembleLayout(){if(this.layout){var a=this.layout,d=Object.assign({},a);a=a.spacing;d=(delete d.spacing,d);var {component:f,config:h}=this,x=f.layoutHeaders,G={};for(sa of Jh){var ea=x[sa];let Ia;if(null==(Ia=ea)?0:Ia.facetFieldDef){const {titleAnchor:ib,titleOrient:Nb}=Vc(["titleAnchor","titleOrient"],ea.facetFieldDef.header,h,
sa);ea=Qb(sa,Nb);const sc=xk[ea][ib];void 0!==sc&&(G[ea]=sc)}}var sa=Qa(G)?void 0:G;return Object.assign({},{padding:a},this.assembleDefaultLayout(),d,sa?{titleBand:sa}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=this.component,d=[];for(var f of Jh)if(a[f].title){var h=d,x=h.push;var G=f;var ea=this.component.layoutHeaders[G].title,sa=this.config?this.config:void 0,Ia=this.component.layoutHeaders[G].facetFieldDef?this.component.layoutHeaders[G].facetFieldDef:
void 0;const {titleAnchor:rd,titleAngle:fe,titleOrient:Od}=Vc(["titleAnchor","titleAngle","titleOrient"],Ia.header,sa,G);var ib=Qb(G,Od),Nb=oa(fe);G={name:`${G}-title`,type:"group",role:`${ib}-title`,title:Object.assign({},{text:ea},"row"===G?{orient:"left"}:{},{style:"guide-title"},Sd(Nb,ib),Kd(ib,Nb,rd),ie(sa,Ia,G,sk,Dj))};x.call(h,G)}for(const rd of jj){a=d;d=a.concat;h=rd;x=this.component.layoutHeaders[h];f=[];for(const fe of bk)if(x[fe])for(const Od of x[fe]){a:{Ia=void 0;G=h;var sc=fe,ld=x;
if(ea=Od){sa=null;({facetFieldDef:cd}=ld);ib=this.config?this.config:void 0;cd&&ea.labels&&({labelOrient:Nb}=Vc(["labelOrient"],cd.header,ib,G),"row"===G&&!Yb(["top","bottom"],Nb)||"column"===G&&!Yb(["left","right"],Nb))&&(sa=ad(cd,G,ib));const se=ni(this)&&!Jd(this.facet),Se=ea.axes,ff=0<(null==Se?void 0:Se.length);if(sa||ff){const Vf="row"===G?"height":"width";ib=Object;Nb=ib.assign;sc={name:this.getName(`${G}_${sc}`),type:"group",role:`${G}-${sc}`};if(ld.facetFieldDef){ld={data:this.getName(`${G}_domain`)};
{var Kc=cd;const {sort:Tf}=Kc;var cd=bd(Tf)?{field:Oc(Tf,{expr:"datum"}),order:null!=(Ia=Tf.order)?Ia:"ascending"}:P.isArray(Tf)?{field:Bb(Kc,G,{expr:"datum"}),order:"ascending"}:{field:Oc(Kc,{expr:"datum"}),order:null!=Tf?Tf:"ascending"}}Ia={from:ld,sort:cd}}else Ia={};G=Nb.call(ib,{},sc,Ia,ff&&se?{from:{data:this.getName(`facet_domain_${G}`)}}:{},sa?{title:sa}:{},ea.sizeSignal?{encode:{update:{[Vf]:ea.sizeSignal}}}:{},ff?{axes:Se}:{});break a}}G=null}null!=G&&f.push(G)}d=d.call(a,f)}return d}assembleAxes(){return Cg(this.component.axes,
this.config)}assembleLegends(){return xd(this)}assembleProjections(){var a=Hi(this)||Wi(this)?ze(this):oe(this);return a}assembleTitle(){var a,d=null!=(a=this.title)?a:{};a=Object.assign({},d);d=d.encoding;a=(delete a.encoding,a);d=Object.assign({},xc(this.config.title).nonMarkTitleProperties,a,d?{encode:{update:d}}:{});if(d.text)return Yb(["unit","layer"],this.type)?Yb(["middle",void 0],d.anchor)&&(null!=d.frame||(d.frame="group")):null!=d.anchor||(d.anchor="start"),Qa(d)?void 0:d}assembleGroup(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const d={};a=a.concat(this.assembleSignals());0<a.length&&(d.signals=a);if(a=this.assembleLayout())d.layout=a;d.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||ni(this.parent)?$k(this):[];0<a.length&&(d.scales=a);a=this.assembleAxes();0<a.length&&(d.axes=a);a=this.assembleLegends();0<a.length&&(d.legends=a);return d}getName(a){return Ka((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(ug[a].toLowerCase())}requestDataName(a){a=
this.getDataName(a);const d=this.component.data.outputNodeRefCounts;d[a]=(d[a]||0)+1;return a}getSizeSignalRef(a){if(ni(this.parent)){var d=aa(a),f=Aa(d);if((d=this.component.scales[f])&&!d.merged){var h=d.get("type");const x=d.get("range");if(Jc(h)&&Rc(x)){a=d.get("name");h=Tj(this,f);if(h=Fk(h))return f=Oc({aggregate:"distinct",field:h},{expr:"datum"}),{signal:T(a,d,f)};za(ec(f));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const d=this.component.data.outputNodes[a];
return d?d.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,d){this.signalNameMap.rename(a,d)}renameScale(a,d){this.scaleNameMap.rename(a,d)}renameProjection(a,d){this.projectionNameMap.rename(a,d)}scaleName(a,d){if(d)return this.getName(a);if(Sj[a]&&mi[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||
this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const d=this.component.scales[a];return d&&!d.merged?d:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,d){let f=this.component.selection[a];!f&&this.parent&&(f=this.parent.getSelectionComponent(a,
d));if(!f)throw Error(`Cannot find a selection named "${d}".`);return f}hasAxisOrientSignalRef(){let a,d;return(null==(a=this.component.axes.x)?void 0:a.some(f=>f.hasOrientSignalRef()))||(null==(d=this.component.axes.y)?void 0:d.some(f=>f.hasOrientSignalRef()))}}class ll extends wi{vgField(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const f=this.fieldDef(a);if(f)return Oc(f,d)}reduceFieldDef(a,d){return Vg(this.getMapping(),(f,h,x)=>(h=xe(h))?a(f,h,x):f,d)}forEachFieldDef(a,
d){Ug(this.getMapping(),(f,h)=>{(f=xe(f))&&a(f,h)},d)}}class om extends xf{clone(){return new om(null,vf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=vf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:"value",null!=(x=a[1])?x:"density"];d.groupby&&null==d.minsteps&&null==d.maxsteps&&null==d.steps&&(this.transform.steps=200)}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Ab(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);a=a.density;d=(delete d.density,d);return Object.assign({},{type:"kde",field:a},d)}}class um extends xf{clone(){return new um(null,vf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=vf(d)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Ab(this.transform)}`}assemble(){const {extent:a,
param:d}=this.transform;return{type:"extent",field:a,signal:d}}}class Cl extends xf{clone(){return new Cl(null,Object.assign({},this.filter))}constructor(a,d){super(a);this.filter=d}static make(a,d){const {config:f,mark:h,markDef:x}=d;if("filter"!==zc("invalid",x,f))return null;const G=d.reduceFieldDef((ea,sa,Ia)=>{if(Ia=!!mi[Ia]&&d.getScaleComponent(Ia))Ia=Ia.get("type"),Ac(Ia)&&"count"!==sa.aggregate&&!Ra(h)&&(ea[sa.field]=sa);return ea},{});return ce(G).length?new Cl(a,G):null}dependentFields(){return new Set(ce(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Ab(this.filter)}`}assemble(){const a=
ce(this.filter).reduce((d,f)=>{f=this.filter[f];const h=Oc(f,{expr:"datum"});null!==f&&("temporal"===f.type?d.push(`(isDate(${h}) || (isValid(${h}) && isFinite(+${h})))`):"quantitative"===f.type&&(d.push(`isValid(${h})`),d.push(`isFinite(+${h})`)));return d},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class nm extends xf{clone(){return new nm(this.parent,vf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=vf(d);const {flatten:f,as:h=[]}=this.transform;
this.transform.as=f.map((x,G)=>{let ea;return null!=(ea=h[G])?ea:x})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Ab(this.transform)}`}assemble(){const {flatten:a,as:d}=this.transform;return{type:"flatten",fields:a,as:d}}}class mm extends xf{clone(){return new mm(null,vf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=vf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];
let h,x;this.transform.as=[null!=(h=a[0])?h:"key",null!=(x=a[1])?x:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Ab(this.transform)}`}assemble(){const {fold:a,as:d}=this.transform;return{type:"fold",fields:a,as:d}}}class fl extends xf{clone(){return new fl(null,vf(this.fields),this.geojson,this.signal)}static parseAll(a,d){if(d.component.projection&&!d.component.projection.isFit)return a;let f=0;for(var h of[["longitude",
"latitude"],["longitude2","latitude2"]]){const x=h.map(G=>{G=Le(d.encoding[G]);return la(G)?G.field:hb(G)?{expr:`${G.datum}`}:yd(G)?{expr:`${G.value}`}:void 0});if(x[0]||x[1])a=new fl(a,x,null,d.getName(`geojson_${f++}`))}d.channelHasField("shape")&&(h=d.typedFieldDef("shape"),"geojson"===h.type&&(a=new fl(a,null,h.field,d.getName(`geojson_${f++}`))));return a}constructor(a,d,f,h){super(a);this.fields=d;this.geojson=f;this.signal=h}dependentFields(){let a;const d=(null!=(a=this.fields)?a:[]).filter(P.isString);
return new Set([...(this.geojson?[this.geojson]:[]),...d])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Ab(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Dl extends xf{clone(){return new Dl(null,this.projection,vf(this.fields),vf(this.as))}constructor(a,
d,f,h){super(a);this.projection=d;this.fields=f;this.as=h}static parseAll(a,d){if(!d.projectionName())return a;for(const f of[["longitude","latitude"],["longitude2","latitude2"]]){const h=f.map(G=>{G=Le(d.encoding[G]);return la(G)?G.field:hb(G)?{expr:`${G.datum}`}:yd(G)?{expr:`${G.value}`}:void 0}),x="longitude2"===f[0]?"2":"";if(h[0]||h[1])a=new Dl(a,d.projectionName(),h,[d.getName(`x${x}`),d.getName(`y${x}`)])}return a}dependentFields(){return new Set(this.fields.filter(P.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Ab(this.fields)} ${Ab(this.as)}`}assemble(){return{type:"geopoint",
projection:this.projection,fields:this.fields,as:this.as}}}class Ek extends xf{clone(){return new Ek(null,vf(this.transform))}constructor(a,d){super(a);this.transform=d}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:d=0,stop:f,step:h}=a;return{signal:`sequence(${[d,f,...(h?[h]:[])].join()})`}}static makeFromTransform(a,d){return new Ek(a,
d)}static makeFromEncoding(a,d){const f=d.encoding;var h=f.x;const x=f.y;if(la(h)&&la(x)){const G=h.impute?h:x.impute?x:void 0;if(void 0===G)return;h=h.impute?x:x.impute?h:void 0;const {method:ea,value:sa,frame:Ia,keyvals:ib}=G.impute;d=Dg(d.mark,f);return new Ek(a,Object.assign({},{impute:G.field,key:h.field},ea?{method:ea}:{},void 0!==sa?{value:sa}:{},Ia?{frame:Ia}:{},void 0!==ib?{keyvals:ib}:{},d.length?{groupby:d}:{}))}return null}hash(){return`Impute ${Ab(this.transform)}`}assemble(){const {impute:a,
key:d,keyvals:f,method:h,groupby:x,value:G,frame:ea=[null,null]}=this.transform;var sa=Object,Ia=sa.assign;var ib=f?{keyvals:void 0!==(null==f?void 0:f.stop)?this.processSequence(f):f}:{};sa=Ia.call(sa,{},{type:"impute",field:a,key:d},ib,{method:"value"},x?{groupby:x}:{},{value:h&&"value"!==h?null:G});return h&&"value"!==h?(Ia=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[h],fields:[a],frame:ea,ignorePeers:!1},x?{groupby:x}:{}),[sa,Ia,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,
as:a}]):[sa]}}class pm extends xf{clone(){return new pm(null,vf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=vf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:d.on,null!=(x=a[1])?x:d.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Ab(this.transform)}`}assemble(){var a=
this.transform,d=Object.assign({},a);const f=a.loess;a=a.on;d=(delete d.loess,delete d.on,d);return Object.assign({},{type:"loess",x:a,y:f},d)}}class El extends xf{clone(){return new El(null,vf(this.transform),this.secondary)}constructor(a,d,f){super(a);this.transform=d;this.secondary=f}static make(a,d,f,h){const x=d.component.data.sources,{from:G}=f;var ea=null;if("data"in G)ea=Ck(G.data,x),ea||(ea=new n(G.data),x.push(ea)),h=d.getName(`lookup_${h}`),ea=new uh(ea,h,ug.Lookup,d.component.data.outputNodeRefCounts),
d.component.data.outputNodes[h]=ea;else if("param"in G){h=G.param;f=Object.assign({},{as:h},f);let sa;try{sa=d.getSelectionComponent(Ka(h),h)}catch(Ia){throw Error(`Lookups can only be performed on selection parameters. "${h}" is a variable parameter.`);}ea=sa.materialized;if(!ea)throw Error(`Cannot define and lookup the "${h}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new El(a,f,ea.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?
P.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Ab({transform:this.transform,secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:P.array(this.transform.as)}:{});else a=this.transform.as,P.isString(a)||(za('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},
{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},a,this.transform.default?{default:this.transform.default}:{})}}class qm extends xf{clone(){return new qm(null,vf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=vf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:"prob",null!=(x=a[1])?x:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Ab(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);a=a.quantile;d=(delete d.quantile,d);return Object.assign({},{type:"quantile",field:a},d)}}class rm extends xf{clone(){return new rm(null,vf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=vf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:d.on,null!=(x=
a[1])?x:d.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Ab(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);const f=a.regression;a=a.on;d=(delete d.regression,delete d.on,d);return Object.assign({},{type:"regression",x:a,y:f},d)}}class tm extends xf{clone(){return new tm(null,vf(this.transform))}constructor(a,
d){super(a);this.transform=d}addDimensions(a){let d;this.transform.groupby=Kb((null!=(d=this.transform.groupby)?d:[]).concat(a),f=>f)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${Ab(this.transform)}`}assemble(){const {pivot:a,value:d,groupby:f,limit:h,op:x}=this.transform;return Object.assign({},{type:"pivot",field:a,value:d},void 0!==h?{limit:h}:{},void 0!==x?{op:x}:
{},void 0!==f?{groupby:f}:{})}}class sm extends xf{clone(){return new sm(null,vf(this.transform))}constructor(a,d){super(a);this.transform=d}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Ab(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class Gl extends ll{constructor(a,d,f,h){super(a,"facet",d,f,h,a.resolve);F(this,"facet",void 0);F(this,"child",void 0);F(this,"children",void 0);this.child=cl(a.spec,this,this.getName("child"),
void 0,h);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!Jd(a))return{facet:this.initFacetFieldDef(a,"facet")};var d=ce(a);const f={};for(const h of d){if(!["row","column"].includes(h)){za(Yd(h,"facet"));break}d=a[h];if(void 0===d.field){za(Ed(d,h));break}f[h]=this.initFacetFieldDef(d,h)}return f}initFacetFieldDef(a,d){a=we(a,d);a.header?a.header=qc(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=
oj(this);this.child.parseData()}parseLayoutSize(){Pj(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const h of Jh){var a=void 0,d=h;const {facet:x,config:G,child:ea,component:sa}=this;if(this.channelHasField(d)){const Ia=x[d];var f=lc("title",null,G,d);f=Ae(Ia,G,{allowDisabling:!0,includeDefault:void 0===f||!!f});ea.component.layoutHeaders[d].title&&
(f=P.isArray(f)?f.join(", "):f,f+=` / ${ea.component.layoutHeaders[d].title}`,ea.component.layoutHeaders[d].title=null);const ib=lc("labelOrient",Ia.header,G,d),Nb=null!==Ia.header?Fa(null==(a=Ia.header)?void 0:a.labels,G.header.labels,!0):!1;a=Yb(["bottom","right"],ib)?"footer":"header";sa.layoutHeaders[d]={title:null!==Ia.header?f:null,facetFieldDef:Ia,[a]:"facet"===d?[]:[Nj(this,d,Nb)]}}}nj(this,"x");nj(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();
return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a={};for(const h of Jh)for(const x of bk){const G=this.component.layoutHeaders[h];var d=G[x],{facetFieldDef:f}=G;if(f&&(f=lc("titleOrient",f.header,this.config,h),["right","bottom"].includes(f))){f=Qb(h,f);let sa;null!=(sa=a).titleAnchor||(sa.titleAnchor={});a.titleAnchor[f]="end"}let ea;if(null==(ea=d)?0:ea[0]){d="row"===h?"height":"width";f="header"===x?"headerBand":"footerBand";if("facet"!==
h&&!this.child.component.layoutSize.get(d)){let sa,Ia;null!=(sa=a)[Ia=f]||(sa[Ia]={});a[f][h]=.5}if(G.title){let sa;null!=(sa=a).offset||(sa.offset={});a.offset["row"===h?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:d}=this.facet,f=a?this.columnDistinctSignal():d?1:void 0;let h="all";d||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(h="none"):h="none";return Object.assign({},this.getHeaderLayoutMixins(),f?{columns:f}:
{},{bounds:"full",align:h})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Gl))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof Gl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Oc(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=
[],d=[],f=[];if(this.child instanceof Gl){if(this.child.channelHasField("column")){var h=Oc(this.child.facet.column);a.push(h);d.push("distinct");f.push(`distinct_${h}`)}}else for(h of oi){var x=this.child.component.scales[h];if(x&&!x.merged){var G=x.get("type");x=x.get("range");Jc(G)&&Rc(x)&&(G=Tj(this.child,h),(G=Fk(G))?(a.push(G),d.push("distinct"),f.push(`distinct_${G}`)):za(ec(h)))}}return{fields:a,ops:d,as:f}}assembleFacet(){const {name:a,data:d}=this.component.data.facetRoot,{row:f,column:h}=
this.facet,{fields:x,ops:G,as:ea}=this.getCardinalityAggregateForChild(),sa=[];for(var Ia of Jh){var ib=this.facet[Ia];if(ib){sa.push(Oc(ib));const {bin:Nb,sort:sc}=ib;X(Nb)&&sa.push(Oc(ib,{binSuffix:"end"}));if(bd(sc)){const {field:ld,op:Kc="min"}=sc;ib=fk(ib,sc);f&&h?(x.push(ib),G.push("max")):(x.push(ld),G.push(Kc));ea.push(ib)}else P.isArray(sc)&&(ib=Bb(ib,Ia),x.push(ib),G.push("max"),ea.push(ib))}}Ia=!!f&&!!h;return Object.assign({},{name:a,data:d,groupby:sa},Ia||0<x.length?{aggregate:Object.assign({},
Ia?{cross:Ia}:{},x.length?{fields:x,ops:G,as:ea}:{})}:{})}facetSortFields(a){var {facet:d}=this;return(d=d[a])?bd(d.sort)?[fk(d,d.sort,{expr:"datum"})]:P.isArray(d.sort)?[Bb(d,a,{expr:"datum"})]:[Oc(d,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:d}=this;return(a=d[a])?({sort:a}=a,[(bd(a)?a.order:!P.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:d}=this;if(a.facet)return ad(a.facet,"facet",d);const f={row:["top","bottom"],column:["left","right"]};for(const h of jj)if(a[h]){let x;
const G=lc("labelOrient",null==(x=a[h])?void 0:x.header,d,h);if(f[h].includes(G))return ad(a[h],h,d)}}assembleMarks(){const {child:a}=this,d=Xi(this.component.data.facetRoot),f=a.assembleGroupEncodeEntry(!1),h=this.assembleLabelTitle()||a.assembleTitle(),x=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},h?{title:h}:{},x?{style:x}:{},{from:{facet:this.assembleFacet()},sort:{field:Jh.map(G=>this.facetSortFields(G)).flat(),order:Jh.map(G=>this.facetSortOrder(G)).flat()}},
0<d.length?{data:d}:{},f?{encode:{update:f}}:{},a.assembleGroup(ei(this,[])))]}getMapping(){return this.facet}}class Hm extends wi{constructor(a,d,f,h){super(a,"concat",d,f,h,a.resolve);F(this,"children",void 0);let x,G,ea,sa;"shared"!==(null==(x=a.resolve)?void 0:null==(G=x.axis)?void 0:G.x)&&"shared"!==(null==(ea=a.resolve)?void 0:null==(sa=ea.axis)?void 0:sa.y)||za("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((Ia,
ib)=>cl(Ia,this,this.getName(`concat_${ib}`),void 0,h))}parseData(){this.component.data=oj(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const d of ce(a.component.selection))this.component.selection[d]=a.component.selection[d]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in
a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){Pj(this);const a=void 0===this.layout.columns?"height":"childHeight";dj(this,1===this.layout.columns?"width":"childWidth");dj(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((d,f)=>f.assembleSelectionTopLevelSignals(d),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=Ke(this);for(const d of this.children)a.push(...d.assembleLayoutSignals());
return a}assembleSelectionData(a){return this.children.reduce((d,f)=>f.assembleSelectionData(d),a)}assembleMarks(){return this.children.map(a=>{const d=a.assembleTitle(),f=a.assembleGroupStyle(),h=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},d?{title:d}:{},f?{style:f}:{},h?{encode:{update:h}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",
align:"each"})}}const Im=Object.assign({},{disable:1,gridScale:1,scale:1},rk,{labelExpr:1,encode:1}),zm=ce(Im);class Am extends Tg{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=d;this.mainExtracted=f}clone(){return new Am(vf(this.explicit),vf(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;
if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Zb(this.explicit.orient)}}const Jm={bottom:"top",top:"bottom",left:"right",right:"left"},Gm=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Fl={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},Uf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),ac("x",a,{defaultPos:"mid"}),ac("y",
a,{defaultPos:"mid"}),Ce(a,"radius"),Ce(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},Uf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Xc("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),Xc("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),vh(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},Uf(a,{align:"ignore",baseline:"ignore",color:"include",
orient:"ignore",size:"ignore",theta:"ignore"}),Ce(a,"x"),Ce(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>ok(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>Object.assign({},Uf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:d}=a;d=d.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},d&&la(d)&&"geojson"===d.type?{field:Oc(d,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>
Object.assign({},Uf(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Ce(a,"x"),Ce(a,"y"),r(a,"url"))},line:{vgMark:"line",encodeEntry:a=>Object.assign({},Uf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),ac("x",a,{defaultPos:"mid"}),ac("y",a,{defaultPos:"mid"}),na("size",a,{vgChannel:"strokeWidth"}),vh(a))},point:{vgMark:"symbol",encodeEntry:a=>ok(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},
Uf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ce(a,"x"),Ce(a,"y"))},rule:{vgMark:"rule",encodeEntry:a=>{var {markDef:d}=a;d=d.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},Uf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Xc("x",a,{defaultPos:"horizontal"===d?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==d}),Xc("y",a,{defaultPos:"vertical"===
d?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==d}),na("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:a=>ok(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:d}=a,f=Object,h=f.assign,x=Uf(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),G=ac("x",a,{defaultPos:"mid"}),ea=ac("y",a,{defaultPos:"mid"}),sa=r(a),Ia=na("size",a,{vgChannel:"fontSize"}),ib=na("angle",a);var Nb=void 0===zc("align",
a.markDef,d)?"center":void 0;Nb=Mf("align",Nb);d=void 0===zc("baseline",a.markDef,d)?"middle":void 0;return h.call(f,{},x,G,ea,sa,Ia,ib,Nb,Mf("baseline",d),ac("radius",a,{defaultPos:null}),ac("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:d,markDef:f}=a;var h=f.orient;const x="horizontal"===h?"width":"height";h="horizontal"===h?"height":"width";var G=Object,ea=G.assign,sa=Uf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),
Ia=ac("x",a,{defaultPos:"mid",vgChannel:"xc"}),ib=ac("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:Kc,markDef:cd}=a;var {orient:Nb}=cd;var sc="horizontal"===Nb?"width":"height";Nb=a.getScaleComponent("horizontal"===Nb?"x":"y");var ld;const rd=null!=(ld=zc("size",cd,Kc,{vgChannel:sc}))?ld:Kc.tick.bandSize;sc=void 0!==rd?rd:(ld=Nb?Nb.get("range"):void 0)&&Rc(ld)&&P.isNumber(ld.step)?3*ld.step/4:3*tf(Kc.view,sc)/4}return ea.call(G,{},sa,Ia,ib,na("size",a,{defaultValue:sc,vgChannel:x}),{[h]:Sb(zc("thickness",
f,d))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},Uf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),ac("x",a,{defaultPos:"mid"}),ac("y",a,{defaultPos:"mid"}),na("size",a),vh(a))}};class Cm extends ll{constructor(a,d,f){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},x=4<arguments.length?arguments[4]:void 0;super(a,"unit",d,f,x,void 0,Kf(a)?a.view:void 0);F(this,"markDef",void 0);F(this,"encoding",void 0);F(this,"specifiedScales",
{});F(this,"stack",void 0);F(this,"specifiedAxes",{});F(this,"specifiedLegends",{});F(this,"specifiedProjection",{});F(this,"selection",[]);F(this,"children",[]);const G=db(a.mark)?Object.assign({},a.mark):{type:a.mark},ea=G.type;void 0===G.filled&&(G.filled=Rl(G,x,{graticule:a.data&&"graticule"in a.data}));const sa=this.encoding=Af(a.encoding||{},ea,G.filled,x);this.markDef=gm(G,sa,x);this.size=Pl({encoding:sa,size:Kf(a)?Object.assign({},h,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):
h});this.stack=Wh(this.markDef,sa);this.specifiedScales=this.initScales(ea,sa);this.specifiedAxes=this.initAxes(sa);this.specifiedLegends=this.initLegends(sa);this.specifiedProjection=a.projection;let Ia;this.selection=(null!=(Ia=a.params)?Ia:[]).filter(ib=>gh(ib))}get hasProjection(){const {encoding:a}=this,d=this.mark===Mi,f=a&&tj.some(h=>Wb(a[h]));return d||f}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,
d){return Ej.reduce((f,h)=>{const x=Le(d[h]);if(x){let G;f[h]=this.initScale(null!=(G=x.scale)?G:{})}return f},{})}initScale(a){const {domain:d,range:f}=a;a=qc(a);P.isArray(d)&&(a.domain=d.map(Ub));P.isArray(f)&&(a.range=f.map(Ub));return a}initAxes(a){return oi.reduce((d,f)=>{var h=a[f];if(Wb(h)||"x"===f&&Wb(a.x2)||"y"===f&&Wb(a.y2))h=Wb(h)?h.axis:void 0,d[f]=h?this.initAxis(Object.assign({},h)):h;return d},{})}initAxis(a){var d=ce(a);const f={};for(const h of d)d=a[h],f[h]=jf(d)?Na(d):Ub(d);return f}initLegends(a){return wl.reduce((d,
f)=>{var h=Le(a[f]),x;if(x=h)a:{switch(f){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":x=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":x=!1;break a}x=void 0}x&&(h=h.legend,d[f]=h?qc(h):h);return d},{})}parseData(){this.component.data=oj(this)}parseLayoutSize(){const {size:a,component:d}=this;for(const h of oi){const x=B(h);if(a[x]){var f=a[x];d.layoutSize.set(x,ye(f)?"step":f,!0)}else f=Ql(this,x),d.layoutSize.set(x,
f,!1)}}parseSelections(){var a=this.component;{var d=this.selection;var f={};const G=this.config.selection;if(d&&d.length)for(const ea of d){d=Ka(ea.name);var h=ea.select,x=P.isString(h)?h:h.type;h=P.isObject(h)?vf(h):{type:x};const sa=G[x];for(const Ia in sa)if("fields"!==Ia&&"encodings"!==Ia&&("mark"===Ia&&(h[Ia]=Object.assign({},sa[Ia],h[Ia])),void 0===h[Ia]||!0===h[Ia])){let ib;h[Ia]=vf(null!=(ib=sa[Ia])?ib:h[Ia])}d=f[d]=Object.assign({},h,{name:d,type:x,init:ea.value,bind:ea.bind,events:P.isString(h.on)?
P.parseSelector(h.on,"scope"):P.array(vf(h.on))});x=vf(ea);for(const Ia of pi)Ia.defined(d)&&Ia.parse&&Ia.parse(this,d,x)}}a.selection=f}parseMarkGroup(){this.component.mark=im(this)}parseAxesAndHeaders(){this.component.axes=dm(this)}assembleSelectionTopLevelSignals(a){return Og(this,a)}assembleSignals(){var a=[...Oi(this)];var d=[];var f;for(const h of jh(null!=(f=this.component.selection)?f:{})){f=h.name;let x=`${f}${"_tuple"}, ${"global"===h.resolve?"true":`{unit: ${If(this)}}`}`;for(const G of pi)G.defined(h)&&
(G.signals&&(d=G.signals(this,h,d)),G.modifyExpr&&(x=G.modifyExpr(this,h,x)));d.push({name:f+"_modify",on:[{events:{signal:h.name+"_tuple"},update:`modify(${P.stringValue(h.name+"_store")}, ${x})`}]})}d=Ta(d);return[...a,...d]}assembleSelectionData(a){return bg(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return Ke(this)}assembleMarks(){let a,d=null!=(a=this.component.mark)?a:[];this.parent&&Hi(this.parent)||(d=S(this,d));return d.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=
this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return Cf(this.encoding,a)}fieldDef(a){return xe(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return Dc(a)?a:null}}class Bm extends wi{constructor(a,d,f,h,x){super(a,"layer",d,f,x,a.resolve,a.view);F(this,"children",void 0);const G=Object.assign({},h,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=
a.layer.map((ea,sa)=>{if("layer"in ea)return new Bm(ea,this,this.getName(`layer_${sa}`),G,x);if(Qe(ea))return new Cm(ea,this,this.getName(`layer_${sa}`),G,x);throw Error(Za(ea));})}parseData(){this.component.data=oj(this);for(const a of this.children)a.parseData()}parseLayoutSize(){Pj(this);dj(this,"width");dj(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const d of ce(a.component.selection))this.component.selection[d]=a.component.selection[d]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,
resolve:d}=this.component,f={top:0,bottom:0,right:0,left:0};for(var h of this.children){h.parseAxesAndHeaders();for(const x of ce(h.component.axes))d.axis[x]=xb(this.component.resolve,x),"shared"===d.axis[x]&&(a[x]=Nl(a[x],h.component.axes[x]),a[x]||(d.axis[x]="independent",delete a[x]))}for(const x of oi){for(const G of this.children)if(G.component.axes[x]){if("independent"===d.axis[x]){let ea;a[x]=(null!=(ea=a[x])?ea:[]).concat(G.component.axes[x]);for(const sa of G.component.axes[x]){const {value:Ia,
explicit:ib}=sa.getWithExplicit("orient");Zb(Ia)||(0<f[Ia]&&!ib&&(h=Jm[Ia],f[Ia]>f[h]&&sa.set("orient",h,!1)),f[Ia]++)}}delete G.component.axes[x]}if("independent"===d.axis[x]&&a[x]&&1<a[x].length)for(const G of a[x])G.get("grid")&&!G.explicit.grid&&(G.implicit.grid=!1)}}assembleSelectionTopLevelSignals(a){return this.children.reduce((d,f)=>f.assembleSelectionTopLevelSignals(d),a)}assembleSignals(){return this.children.reduce((a,d)=>a.concat(d.assembleSignals()),Oi(this))}assembleLayoutSignals(){return this.children.reduce((a,
d)=>a.concat(d.assembleLayoutSignals()),Ke(this))}assembleSelectionData(a){return this.children.reduce((d,f)=>f.assembleSelectionData(d),a)}assembleGroupStyle(){var a=new Set;for(const d of this.children)for(const f of P.array(d.assembleGroupStyle()))a.add(f);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const d of this.children)if(a=d.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return xa(this,this.children.flatMap(a=>
a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,d)=>a.concat(d.assembleLegends()),xd(this))}}k.accessPathDepth=Z;k.accessPathWithDatum=wb;k.compile=function(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d.logger&&(Ak=d.logger);d.fieldTitle&&(Qi=d.fieldTitle);try{const Nb=Df(P.mergeConfig(d.config,a.config)),sc=Ch(a,Nb),ld=cl(sc,null,"",void 0,Nb);ld.parse();var f=ld.component.data,h=ld;zg(f.sources);let Kc=0,cd=0;for(var x=0;5>x&&Oh(f,h,!0);x++)Kc++;f.sources.map(gg);
for(x=0;5>x&&Oh(f,h,!1);x++)cd++;zg(f.sources);5===Math.max(Kc,cd)&&za("Maximum optimization runs(5) reached.");var G=sc.autosize;f=Nb;h=ld;const rd=h.component.layoutSize.get("width"),fe=h.component.layoutSize.get("height");void 0===G?(G={type:"pad"},h.hasAxisOrientSignalRef()&&(G.resize=!0)):P.isString(G)&&(G={type:G});var ea;if(ea=rd&&fe){var sa=G.type;ea="fit"===sa||"fit-x"===sa||"fit-y"===sa}if(ea)if("step"===rd&&"step"===fe)za(oc()),G.type="pad";else if("step"===rd||"step"===fe){sa="step"===
rd?"width":"height";za(oc(Aa(sa)));ea=G;var Ia=(sa="width"===sa?"height":"width",`fit-${Aa(sa)}`);ea.type=Ia}var ib=Object.assign({},1===ce(G).length&&G.type?"pad"===G.type?{}:{autosize:G.type}:{autosize:G},Dh(f,!1),Dh(a,!0));return{spec:kl(ld,ib,a.datasets,a.usermeta),normalized:sc}}finally{d.logger&&(Ak=el),d.fieldTitle&&(Qi=Vk)}};k.contains=Yb;k.deepEqual=Bi;k.deleteNestedProperty=mb;k.duplicate=vf;k.entries=Zi;k.every=tb;k.fieldIntersection=pb;k.flatAccessWithDatum=sb;k.getFirstDefined=Fa;k.hasIntersection=
Ob;k.hash=Ab;k.internalField=eb;k.isBoolean=Da;k.isEmpty=Qa;k.isEqual=function(a,d){const f=ce(a),h=ce(d);if(f.length!==h.length)return!1;for(const x of f)if(a[x]!==d[x])return!1;return!0};k.isInternalField=ba;k.isNullOrFalse=kc;k.isNumeric=q;k.keys=ce;k.logicalExpr=lb;k.mergeDeep=Jb;k.never=vc;k.normalize=Ch;k.normalizeAngle=oa;k.omit=uc;k.pick=Bc;k.prefixGenerator=ab;k.removePathFromField=qa;k.replaceAll=nb;k.replacePathInField=Vb;k.resetIdCounter=function(){Nk=42};k.setEqual=Cb;k.some=Ua;k.stringify=
Ag;k.titleCase=Pa;k.unique=Kb;k.uniqueId=Ga;k.vals=jh;k.varName=Ka;k.version="5.11.0"})};
shadow$provide[65]=function(hc,Db,Wc,ob){function v(){throw Error("setTimeout has not been defined");}function k(){throw Error("clearTimeout has not been defined");}function P(Jb){if(uc===setTimeout)return setTimeout(Jb,0);if((uc===v||!uc)&&setTimeout)return uc=setTimeout,setTimeout(Jb,0);try{return uc(Jb,0)}catch(Kb){try{return uc.call(null,Jb,0)}catch(Cb){return uc.call(this,Jb,0)}}}function jb(Jb){if(Ab===clearTimeout)return clearTimeout(Jb);if((Ab===k||!Ab)&&clearTimeout)return Ab=clearTimeout,
clearTimeout(Jb);try{return Ab(Jb)}catch(Kb){try{return Ab.call(null,Jb)}catch(Cb){return Ab.call(this,Jb)}}}function Fb(){Yb&&Ua&&(Yb=!1,Ua.length?kc=Ua.concat(kc):tb=-1,kc.length&&bc())}function bc(){if(!Yb){var Jb=P(Fb);Yb=!0;for(var Kb=kc.length;Kb;){Ua=kc;for(kc=[];++tb<Kb;)Ua&&Ua[tb].run();tb=-1;Kb=kc.length}Ua=null;Yb=!1;jb(Jb)}}function vc(Jb,Kb){this.fun=Jb;this.array=Kb}function Bc(){}hc=Wc.exports={};try{var uc="function"===typeof setTimeout?setTimeout:v}catch(Jb){uc=v}try{var Ab="function"===
typeof clearTimeout?clearTimeout:k}catch(Jb){Ab=k}var kc=[],Yb=!1,Ua,tb=-1;hc.nextTick=function(Jb){var Kb=Array(arguments.length-1);if(1<arguments.length)for(var Cb=1;Cb<arguments.length;Cb++)Kb[Cb-1]=arguments[Cb];kc.push(new vc(Jb,Kb));1!==kc.length||Yb||P(bc)};vc.prototype.run=function(){this.fun.apply(null,this.array)};hc.title="browser";hc.browser=!0;hc.env={};hc.argv=[];hc.version="";hc.versions={};hc.on=Bc;hc.addListener=Bc;hc.once=Bc;hc.off=Bc;hc.removeListener=Bc;hc.removeAllListeners=Bc;
hc.emit=Bc;hc.prependListener=Bc;hc.prependOnceListener=Bc;hc.listeners=function(Jb){return[]};hc.binding=function(Jb){throw Error("process.binding is not supported");};hc.cwd=function(){return"/"};hc.chdir=function(Jb){throw Error("process.chdir is not supported");};hc.umask=function(){return 0}};
shadow$provide[66]=function(hc,Db,Wc,ob){var v=Db(65);(function(k,P){"object"===typeof ob&&"undefined"!==typeof Wc?Wc.exports=P(Db(63),Db(64)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,k.vegaEmbed=P(k.vega,k.vegaLite))})(this,function(k,P){function jb(U){if(U&&U.__esModule)return U;var ua=Object.create(null);U&&Object.keys(U).forEach(function(cb){if("default"!==cb){var yb=Object.getOwnPropertyDescriptor(U,cb);Object.defineProperty(ua,
cb,yb.get?yb:{enumerable:!0,get:function(){return U[cb]}})}});ua["default"]=U;return Object.freeze(ua)}function Fb(U){if(Array.isArray(U)){U=Array(U.length);for(var ua=0;ua<U.length;ua++)U[ua]=""+ua;return U}if(Object.keys)return Object.keys(U);ua=[];for(var cb in U)m.call(U,cb)&&ua.push(cb);return ua}function bc(U){switch(typeof U){case "object":return JSON.parse(JSON.stringify(U));case "undefined":return null;default:return U}}function vc(U){for(var ua=0,cb=U.length,yb;ua<cb;)if(yb=U.charCodeAt(ua),
48<=yb&&57>=yb)ua++;else return!1;return!0}function Bc(U){return-1===U.indexOf("/")&&-1===U.indexOf("~")?U:U.replace(/~/g,"~0").replace(/\//g,"~1")}function uc(U){return U.replace(/~1/g,"/").replace(/~0/g,"~")}function Ab(U){if(void 0===U)return!0;if(U)if(Array.isArray(U))for(var ua=0,cb=U.length;ua<cb;ua++){if(Ab(U[ua]))return!0}else if("object"===typeof U){ua=Fb(U);cb=ua.length;for(var yb=0;yb<cb;yb++)if(Ab(U[ua[yb]]))return!0}return!1}function kc(U,ua){U=[U];for(var cb in ua){var yb="object"===
typeof ua[cb]?JSON.stringify(ua[cb],null,2):ua[cb];"undefined"!==typeof yb&&U.push(cb+": "+yb)}return U.join("\n")}function Yb(U,ua){if(""==ua)return U;ua={op:"_get",path:ua};Ua(U,ua);return ua.value}function Ua(U,ua,cb,yb,gc,Ec){void 0===cb&&(cb=!1);void 0===yb&&(yb=!0);void 0===gc&&(gc=!0);void 0===Ec&&(Ec=0);cb&&("function"==typeof cb?cb(ua,0,U,ua.path):Jb(ua,0));if(""===ua.path){gc={newDocument:U};if("add"===ua.op)return gc.newDocument=ua.value,gc;if("replace"===ua.op)return gc.newDocument=ua.value,
gc.removed=U,gc;if("move"===ua.op||"copy"===ua.op)return gc.newDocument=Yb(U,ua.from),"move"===ua.op&&(gc.removed=U),gc;if("test"===ua.op){gc.test=Cb(U,ua.value);if(!1===gc.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Ec,ua,U);gc.newDocument=U;return gc}if("remove"===ua.op)return gc.removed=U,gc.newDocument=null,gc;if("_get"===ua.op)return ua.value=U,gc;if(cb)throw new B("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Ec,ua,U);return gc}yb||
(U=bc(U));yb=(ua.path||"").split("/");var $b=U,J=1,fa=yb.length,Sa=void 0,cc,Jc;for(Jc="function"==typeof cb?cb:Jb;;){(cc=yb[J])&&-1!=cc.indexOf("~")&&(cc=uc(cc));if(gc&&("__proto__"==cc||"prototype"==cc&&0<J&&"constructor"==yb[J-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");cb&&void 0===
Sa&&(void 0===$b[cc]?Sa=yb.slice(0,J).join("/"):J==fa-1&&(Sa=ua.path),void 0!==Sa&&Jc(ua,0,U,Sa));J++;if(Array.isArray($b)){if("-"===cc)cc=$b.length;else{if(cb&&!vc(cc))throw new B("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Ec,ua,U);vc(cc)&&(cc=~~cc)}if(J>=fa){if(cb&&"add"===ua.op&&cc>$b.length)throw new B("The specified index MUST NOT be greater than the number of elements in the array",
"OPERATION_VALUE_OUT_OF_BOUNDS",Ec,ua,U);gc=D[ua.op].call(ua,$b,cc,U);if(!1===gc.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Ec,ua,U);return gc}}else if(J>=fa){gc=A[ua.op].call(ua,$b,cc,U);if(!1===gc.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Ec,ua,U);return gc}$b=$b[cc];if(cb&&J<fa&&(!$b||"object"!==typeof $b))throw new B("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",Ec,ua,U);}}function tb(U,ua,cb,yb,gc){void 0===yb&&(yb=!0);
void 0===gc&&(gc=!0);if(cb&&!Array.isArray(ua))throw new B("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");yb||(U=bc(U));yb=Array(ua.length);for(var Ec=0,$b=ua.length;Ec<$b;Ec++)yb[Ec]=Ua(U,ua[Ec],cb,!0,gc,Ec),U=yb[Ec].newDocument;yb.newDocument=U;return yb}function Jb(U,ua,cb,yb){if("object"!==typeof U||null===U||Array.isArray(U))throw new B("Operation is not an object","OPERATION_NOT_AN_OBJECT",ua,U,cb);if(A[U.op]){if("string"!==typeof U.path)throw new B("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",ua,U,cb);if(0!==U.path.indexOf("/")&&0<U.path.length)throw new B('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ua,U,cb);if("move"!==U.op&&"copy"!==U.op||"string"===typeof U.from)if("add"!==U.op&&"replace"!==U.op&&"test"!==U.op||void 0!==U.value){if(("add"===U.op||"replace"===U.op||"test"===U.op)&&Ab(U.value))throw new B("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
ua,U,cb);if(cb)if("add"==U.op){var gc=U.path.split("/").length;yb=yb.split("/").length;if(gc!==yb+1&&gc!==yb)throw new B("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",ua,U,cb);}else if("replace"===U.op||"remove"===U.op||"_get"===U.op){if(U.path!==yb)throw new B("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ua,U,cb);}else if(("move"===U.op||"copy"===U.op)&&(gc=Kb([{op:"_get",path:U.from,value:void 0}],cb))&&"OPERATION_PATH_UNRESOLVABLE"===
gc.name)throw new B("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ua,U,cb);}else throw new B("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",ua,U,cb);else throw new B("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ua,U,cb);}else throw new B("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",ua,U,cb);}function Kb(U,ua,cb){try{if(!Array.isArray(U))throw new B("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ua)tb(bc(ua),bc(U),cb||!0);else{cb=cb||Jb;for(var yb=0;yb<U.length;yb++)cb(U[yb],yb,ua,void 0)}}catch(gc){if(gc instanceof B)return gc;throw gc;}}function Cb(U,ua){if(U===ua)return!0;if(U&&ua&&"object"==typeof U&&"object"==typeof ua){var cb=Array.isArray(U),yb=Array.isArray(ua);if(cb&&yb){var gc=U.length;if(gc!=ua.length)return!1;for(cb=gc;0!==cb--;)if(!Cb(U[cb],
ua[cb]))return!1;return!0}if(cb!=yb)return!1;yb=Object.keys(U);gc=yb.length;if(gc!==Object.keys(ua).length)return!1;for(cb=gc;0!==cb--;)if(!ua.hasOwnProperty(yb[cb]))return!1;for(cb=gc;0!==cb--;)if(gc=yb[cb],!Cb(U[gc],ua[gc]))return!1;return!0}return U!==U&&ua!==ua}function Ob(U,ua){void 0===ua&&(ua=!1);var cb=V.get(U.object);ab(cb.value,U.object,U.patches,"",ua);U.patches.length&&tb(cb.value,U.patches);ua=U.patches;0<ua.length&&(U.patches=[],U.callback&&U.callback(ua));return ua}function ab(U,ua,
cb,yb,gc){if(ua!==U){"function"===typeof ua.toJSON&&(ua=ua.toJSON());for(var Ec=Fb(ua),$b=Fb(U),J=!1,fa=$b.length-1;0<=fa;fa--){var Sa=$b[fa],cc=U[Sa];if(!m.call(ua,Sa)||void 0===ua[Sa]&&void 0!==cc&&!1===Array.isArray(ua))Array.isArray(U)===Array.isArray(ua)?(gc&&cb.push({op:"test",path:yb+"/"+Bc(Sa),value:bc(cc)}),cb.push({op:"remove",path:yb+"/"+Bc(Sa)}),J=!0):(gc&&cb.push({op:"test",path:yb,value:U}),cb.push({op:"replace",path:yb,value:ua}));else{var Jc=ua[Sa];"object"==typeof cc&&null!=cc&&"object"==
typeof Jc&&null!=Jc&&Array.isArray(cc)===Array.isArray(Jc)?ab(cc,Jc,cb,yb+"/"+Bc(Sa),gc):cc!==Jc&&(gc&&cb.push({op:"test",path:yb+"/"+Bc(Sa),value:bc(cc)}),cb.push({op:"replace",path:yb+"/"+Bc(Sa),value:bc(Jc)}))}}if(J||Ec.length!=$b.length)for(fa=0;fa<Ec.length;fa++)Sa=Ec[fa],m.call(U,Sa)||void 0===ua[Sa]||cb.push({op:"add",path:yb+"/"+Bc(Sa),value:bc(ua[Sa])})}}function pb(U){var ua=this;ua instanceof pb||(ua=new pb);ua.tail=null;ua.head=null;ua.length=0;if(U&&"function"===typeof U.forEach)U.forEach(function(gc){ua.push(gc)});
else if(0<arguments.length)for(var cb=0,yb=arguments.length;cb<yb;cb++)ua.push(arguments[cb]);return ua}function Qa(U,ua,cb,yb){if(!(this instanceof Qa))return new Qa(U,ua,cb,yb);this.list=yb;this.value=U;ua?(ua.next=this,this.prev=ua):this.prev=null;cb?(cb.prev=this,this.next=cb):this.next=null}function Da(){if(fd)return ed;fd=1;const U=Symbol("SemVer ANY");class ua{static get ANY(){return U}constructor(Sa,cc){cc=cb(cc);if(Sa instanceof ua){if(Sa.loose===!!cc.loose)return Sa;Sa=Sa.value}$b("comparator",
Sa,cc);this.options=cc;this.loose=!!cc.loose;this.parse(Sa);this.value=this.semver===U?"":this.operator+this.semver.version;$b("comp",this)}parse(Sa){const cc=Sa.match(this.options.loose?yb[gc.COMPARATORLOOSE]:yb[gc.COMPARATOR]);if(!cc)throw new TypeError("Invalid comparator: ".concat(Sa));this.operator=void 0!==cc[1]?cc[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=cc[2]?new J(cc[2],this.options.loose):U}toString(){return this.value}test(Sa){$b("Comparator.test",Sa,this.options.loose);
if(this.semver===U||Sa===U)return!0;if("string"===typeof Sa)try{Sa=new J(Sa,this.options)}catch(cc){return!1}return Ec(Sa,this.operator,this.semver,this.options)}intersects(Sa,cc){if(!(Sa instanceof ua))throw new TypeError("a Comparator is required");cc&&"object"===typeof cc||(cc={loose:!!cc,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new fa(Sa.value,cc)).test(this.value);if(""===Sa.operator)return""===Sa.value?!0:(new fa(this.value,cc)).test(Sa.semver);const Jc=("\x3e\x3d"===
this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===Sa.operator||"\x3e"===Sa.operator),Ac=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===Sa.operator||"\x3c"===Sa.operator),$c=this.semver.version===Sa.semver.version,pd=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===Sa.operator||"\x3c\x3d"===Sa.operator),ee=Ec(this.semver,"\x3c",Sa.semver,cc)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===Sa.operator||"\x3c"===Sa.operator);Sa=Ec(this.semver,
"\x3e",Sa.semver,cc)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===Sa.operator||"\x3e"===Sa.operator);return Jc||Ac||$c&&pd||ee||Sa}}ed=ua;const cb=Ic,{re:yb,t:gc}=zc.exports,Ec=Sc,$b=Md,J=oc,fa=Ka();return ed}function Ka(){if(Td)return Qd;Td=1;class U{constructor(Mc,Uc){Uc=cb(Uc);if(Mc instanceof U)return Mc.loose===!!Uc.loose&&Mc.includePrerelease===!!Uc.includePrerelease?Mc:new U(Mc.raw,Uc);if(Mc instanceof yb)return this.raw=Mc.value,this.set=[[Mc]],this.format(),this;this.options=
Uc;this.loose=!!Uc.loose;this.includePrerelease=!!Uc.includePrerelease;this.raw=Mc;this.set=Mc.split("||").map(Qc=>this.parseRange(Qc.trim())).filter(Qc=>Qc.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(Mc));if(1<this.set.length)if(Mc=this.set[0],this.set=this.set.filter(Qc=>"\x3c0.0.0-0"!==Qc[0].value),0===this.set.length)this.set=[Mc];else if(1<this.set.length)for(const Qc of this.set)if(1===Qc.length&&""===Qc[0].value){this.set=[Qc];break}this.format()}format(){return this.range=
this.set.map(Mc=>Mc.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(Mc){Mc=Mc.trim();var Uc=Object.keys(this.options).join(",");Uc="parseRange:".concat(Uc,":").concat(Mc);var Qc=ua.get(Uc);if(Qc)return Qc;Qc=this.options.loose;Mc=Mc.replace(Qc?$b[J.HYPHENRANGELOOSE]:$b[J.HYPHENRANGE],wd(this.options.includePrerelease));gc("hyphen replace",Mc);Mc=Mc.replace($b[J.COMPARATORTRIM],fa);gc("comparator trim",Mc);Mc=Mc.replace($b[J.TILDETRIM],Sa);Mc=Mc.replace($b[J.CARETTRIM],
cc);Mc=Mc.split(/\s+/).join(" ");Mc=Mc.split(" ").map(kd=>{var Ld=kd;kd=this.options;gc("comp",Ld,kd);Ld=ee(Ld,kd);gc("caret",Ld);Ld=$c(Ld,kd);gc("tildes",Ld);Ld=db(Ld,kd);gc("xrange",Ld);gc("replaceStars",Ld,kd);Ld=Ld.trim().replace($b[J.STAR],"");gc("stars",Ld);return Ld}).join(" ").split(/\s+/).map(kd=>{var Ld=this.options;gc("replaceGTE0",kd,Ld);return kd.trim().replace($b[Ld.includePrerelease?J.GTE0PRE:J.GTE0],"")});Qc&&(Mc=Mc.filter(kd=>{gc("loose invalid filter",kd,this.options);return!!kd.match($b[J.COMPARATORLOOSE])}));
gc("range list",Mc);Qc=new Map;Mc=Mc.map(kd=>new yb(kd,this.options));for(var td of Mc){if("\x3c0.0.0-0"===td.value)return[td];Qc.set(td.value,td)}1<Qc.size&&Qc.has("")&&Qc.delete("");td=[...Qc.values()];ua.set(Uc,td);return td}intersects(Mc,Uc){if(!(Mc instanceof U))throw new TypeError("a Range is required");return this.set.some(Qc=>Jc(Qc,Uc)&&Mc.set.some(td=>Jc(td,Uc)&&Qc.every(kd=>td.every(Ld=>kd.intersects(Ld,Uc)))))}test(Mc){if(!Mc)return!1;if("string"===typeof Mc)try{Mc=new Ec(Mc,this.options)}catch(Ld){return!1}for(let Ld=
0;Ld<this.set.length;Ld++){a:{var Uc=this.set[Ld];var Qc=Mc,td=this.options;for(var kd=0;kd<Uc.length;kd++)if(!Uc[kd].test(Qc)){Uc=!1;break a}if(Qc.prerelease.length&&!td.includePrerelease){for(td=0;td<Uc.length;td++)if(gc(Uc[td].semver),Uc[td].semver!==yb.ANY&&0<Uc[td].semver.prerelease.length&&(kd=Uc[td].semver,kd.major===Qc.major&&kd.minor===Qc.minor&&kd.patch===Qc.patch)){Uc=!0;break a}Uc=!1}else Uc=!0}if(Uc)return!0}return!1}}Qd=U;const ua=new ic({max:1E3}),cb=Ic,yb=Da(),gc=Md,Ec=oc,{re:$b,t:J,
comparatorTrimReplace:fa,tildeTrimReplace:Sa,caretTrimReplace:cc}=zc.exports,Jc=(Mc,Uc)=>{let Qc=!0;Mc=Mc.slice();let td=Mc.pop();for(;Qc&&Mc.length;)Qc=Mc.every(kd=>td.intersects(kd,Uc)),td=Mc.pop();return Qc},Ac=Mc=>!Mc||"x"===Mc.toLowerCase()||"*"===Mc,$c=(Mc,Uc)=>Mc.trim().split(/\s+/).map(Qc=>pd(Qc,Uc)).join(" "),pd=(Mc,Uc)=>Mc.replace(Uc.loose?$b[J.TILDELOOSE]:$b[J.TILDE],(Qc,td,kd,Ld,Cd)=>{gc("tilde",Mc,Qc,td,kd,Ld,Cd);Ac(td)?Qc="":Ac(kd)?Qc="\x3e\x3d".concat(td,".0.0 \x3c").concat(+td+1,".0.0-0"):
Ac(Ld)?Qc="\x3e\x3d".concat(td,".").concat(kd,".0 \x3c").concat(td,".").concat(+kd+1,".0-0"):Cd?(gc("replaceTilde pr",Cd),Qc="\x3e\x3d".concat(td,".").concat(kd,".").concat(Ld,"-").concat(Cd," \x3c").concat(td,".").concat(+kd+1,".0-0")):Qc="\x3e\x3d".concat(td,".").concat(kd,".").concat(Ld," \x3c").concat(td,".").concat(+kd+1,".0-0");gc("tilde return",Qc);return Qc}),ee=(Mc,Uc)=>Mc.trim().split(/\s+/).map(Qc=>Ra(Qc,Uc)).join(" "),Ra=(Mc,Uc)=>{gc("caret",Mc,Uc);const Qc=Uc.includePrerelease?"-0":"";
return Mc.replace(Uc.loose?$b[J.CARETLOOSE]:$b[J.CARET],(td,kd,Ld,Cd,be)=>{gc("caret",Mc,td,kd,Ld,Cd,be);Ac(kd)?td="":Ac(Ld)?td="\x3e\x3d".concat(kd,".0.0").concat(Qc," \x3c").concat(+kd+1,".0.0-0"):Ac(Cd)?td="0"===kd?"\x3e\x3d".concat(kd,".").concat(Ld,".0").concat(Qc," \x3c").concat(kd,".").concat(+Ld+1,".0-0"):"\x3e\x3d".concat(kd,".").concat(Ld,".0").concat(Qc," \x3c").concat(+kd+1,".0.0-0"):be?(gc("replaceCaret pr",be),td="0"===kd?"0"===Ld?"\x3e\x3d".concat(kd,".").concat(Ld,".").concat(Cd,"-").concat(be,
" \x3c").concat(kd,".").concat(Ld,".").concat(+Cd+1,"-0"):"\x3e\x3d".concat(kd,".").concat(Ld,".").concat(Cd,"-").concat(be," \x3c").concat(kd,".").concat(+Ld+1,".0-0"):"\x3e\x3d".concat(kd,".").concat(Ld,".").concat(Cd,"-").concat(be," \x3c").concat(+kd+1,".0.0-0")):(gc("no pr"),td="0"===kd?"0"===Ld?"\x3e\x3d".concat(kd,".").concat(Ld,".").concat(Cd).concat(Qc," \x3c").concat(kd,".").concat(Ld,".").concat(+Cd+1,"-0"):"\x3e\x3d".concat(kd,".").concat(Ld,".").concat(Cd).concat(Qc," \x3c").concat(kd,
".").concat(+Ld+1,".0-0"):"\x3e\x3d".concat(kd,".").concat(Ld,".").concat(Cd," \x3c").concat(+kd+1,".0.0-0"));gc("caret return",td);return td})},db=(Mc,Uc)=>{gc("replaceXRanges",Mc,Uc);return Mc.split(/\s+/).map(Qc=>pc(Qc,Uc)).join(" ")},pc=(Mc,Uc)=>{Mc=Mc.trim();return Mc.replace(Uc.loose?$b[J.XRANGELOOSE]:$b[J.XRANGE],(Qc,td,kd,Ld,Cd,be)=>{gc("xRange",Mc,Qc,td,kd,Ld,Cd,be);const ve=Ac(kd),Me=ve||Ac(Ld);Cd=Me||Ac(Cd);"\x3d"===td&&Cd&&(td="");be=Uc.includePrerelease?"-0":"";ve?Qc="\x3e"===td||"\x3c"===
td?"\x3c0.0.0-0":"*":td&&Cd?(Me&&(Ld=0),Cd=0,"\x3e"===td?(td="\x3e\x3d",Me?(kd=+kd+1,Ld=0):Ld=+Ld+1,Cd=0):"\x3c\x3d"===td&&(td="\x3c",Me?kd=+kd+1:Ld=+Ld+1),"\x3c"===td&&(be="-0"),Qc="".concat(td+kd,".").concat(Ld,".").concat(Cd).concat(be)):Me?Qc="\x3e\x3d".concat(kd,".0.0").concat(be," \x3c").concat(+kd+1,".0.0-0"):Cd&&(Qc="\x3e\x3d".concat(kd,".").concat(Ld,".0").concat(be," \x3c").concat(kd,".").concat(+Ld+1,".0-0"));gc("xRange return",Qc);return Qc})},wd=Mc=>(Uc,Qc,td,kd,Ld,Cd,be,ve,Me,$e,sf,
nd,Fc)=>{Qc=Ac(td)?"":Ac(kd)?"\x3e\x3d".concat(td,".0.0").concat(Mc?"-0":""):Ac(Ld)?"\x3e\x3d".concat(td,".").concat(kd,".0").concat(Mc?"-0":""):Cd?"\x3e\x3d".concat(Qc):"\x3e\x3d".concat(Qc).concat(Mc?"-0":"");ve=Ac(Me)?"":Ac($e)?"\x3c".concat(+Me+1,".0.0-0"):Ac(sf)?"\x3c".concat(Me,".").concat(+$e+1,".0-0"):nd?"\x3c\x3d".concat(Me,".").concat($e,".").concat(sf,"-").concat(nd):Mc?"\x3c".concat(Me,".").concat($e,".").concat(+sf+1,"-0"):"\x3c\x3d".concat(ve);return"".concat(Qc," ").concat(ve).trim()};
return Qd}function lb(U,ua,cb,yb,gc,Ec){const $b=J=>fb[J.type]($b,J);$b.memberDepth=0;$b.fn=Object.create(ua);$b.params=cb;$b.datum=yb;$b.event=gc;$b.item=Ec;za.forEach(J=>$b.fn[J]=function(){return gc.vega[J](...arguments)});return $b(U)}function mb(U){const [ua,cb]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(U).slice(1,3);return{library:ua,version:cb}}function Pa(U,ua,cb){U.fields=ua||[];U.fname=cb;return U}function wb(U){return 1===U.length?Hc(U[0]):jd(U)}function sb(U){function ua(){cb.push($b+
U.substring(J,fa));$b="";J=fa+1}const cb=[],yb=U.length;let gc=null,Ec=0,$b="",J,fa,Sa;U+="";for(J=fa=0;fa<yb;++fa)if(Sa=U[fa],"\\"===Sa)$b+=U.substring(J,fa),$b+=U.substring(++fa,++fa),J=fa;else if(Sa===gc)ua(),gc=null,Ec=-1;else if(!gc)if(J===Ec&&'"'===Sa)J=fa+1,gc=Sa;else if(J===Ec&&"'"===Sa)J=fa+1,gc=Sa;else if("."===Sa&&!Ec)fa>J?ua():J=fa+1;else if("["===Sa)fa>J&&ua(),Ec=J=fa+1;else if("]"===Sa){if(!Ec)throw Error("Access path missing open bracket: "+U);0<Ec&&ua();Ec=0;J=fa+1}if(Ec)throw Error("Access path missing closing bracket: "+
U);if(gc)throw Error("Access path missing closing quote: "+U);fa>J&&(fa++,ua());return cb}function Pb(U,ua){var cb={},yb;for(yb in U)Object.prototype.hasOwnProperty.call(U,yb)&&0>ua.indexOf(yb)&&(cb[yb]=U[yb]);if(null!=U&&"function"===typeof Object.getOwnPropertySymbols){var gc=0;for(yb=Object.getOwnPropertySymbols(U);gc<yb.length;gc++)0>ua.indexOf(yb[gc])&&Object.prototype.propertyIsEnumerable.call(U,yb[gc])&&(cb[yb[gc]]=U[yb[gc]])}return cb}function Vb(U){const ua=[];return function(cb,yb){if("object"!==
typeof yb||null===yb)return yb;cb=ua.indexOf(this)+1;ua.length=cb;if(ua.length>U)return"[Object]";if(0<=ua.indexOf(yb))return"[Circular]";ua.push(yb);return yb}}function nb(U,ua,cb){function yb(fa){fa.source===Ec&&(J=0,U.removeEventListener("message",yb,!1))}function gc(){0>=J||(Ec.postMessage(cb,$b),setTimeout(gc,250),--J)}const Ec=U.open(ua),{origin:$b}=new URL(ua);let J=40;U.addEventListener("message",yb,!1);setTimeout(gc,250)}function qa(U){for(var ua=arguments.length,cb=Array(1<ua?ua-1:0),yb=
1;yb<ua;yb++)cb[yb-1]=arguments[yb];for(const gc of cb){ua=U;cb=gc;for(const Ec of Object.keys(cb))k.writeConfig(ua,Ec,cb[Ec],!0)}return U}function Z(U,ua,cb,yb){ua="\x3chtml\x3e\x3chead\x3e".concat(ua,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');cb="\x3c/code\x3e\x3c/pre\x3e".concat(cb,"\x3c/body\x3e\x3c/html\x3e");const gc=window.open("");gc.document.write(ua+U+cb);gc.document.title="".concat(cf[yb]," JSON Source")}function Fa(U,ua){if(U.$schema){U=mb(U.$schema);if(ua&&ua!==
U.library){var cb;console.warn("The given visualization spec is written in ".concat(cf[U.library],", but mode argument sets ").concat(null!==(cb=cf[ua])&&void 0!==cb?cb:ua,"."))}ua=U.library;Yd(df[ua],"^".concat(U.version.slice(1)))||console.warn("The input spec uses ".concat(cf[ua]," ").concat(U.version,", but the current version of ").concat(cf[ua]," is v").concat(df[ua],"."));return ua}return"mark"in U||"encoding"in U||"layer"in U||"hconcat"in U||"vconcat"in U||"facet"in U||"repeat"in U?"vega-lite":
"marks"in U||"signals"in U||"scales"in U||"axes"in U?"vega":null!==ua&&void 0!==ua?ua:"vega"}function Ga(U){return U&&"load"in U?U:Xd.loader(U)}function eb(U,ua){const cb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var yb,gc,Ec=2<cb.length&&void 0!==cb[2]?cb[2]:{};let $b,J;k.isString(ua)?(J=Ga(Ec.loader),$b=JSON.parse(yield J.load(ua))):$b=ua;var fa,Sa,cc=null!==(fa=null===(Sa=$b.usermeta)||void 0===Sa?void 0:Sa.embedOptions)&&void 0!==fa?fa:{};k.isString(cc.defaultStyle)&&
(cc.defaultStyle=!1);fa=cc.loader;if(!J||fa){var Jc;J=Ga(null!==(Jc=Ec.loader)&&void 0!==Jc?Jc:fa)}cc=yield ba(cc,J);Ec=yield ba(Ec,J);Ec=Object.assign({},qa(Ec,cc),{config:k.mergeConfig(null!==(yb=Ec.config)&&void 0!==yb?yb:{},null!==(gc=cc.config)&&void 0!==gc?gc:{})});return yield q(U,$b,Ec,J)})}function ba(U,ua){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var cb;const yb=k.isString(U.config)?JSON.parse(yield ua.load(U.config)):null!==(cb=U.config)&&void 0!==cb?cb:{};cb=k.isString(U.patch)?
JSON.parse(yield ua.load(U.patch)):U.patch;return Object.assign({},U,cb?{patch:cb}:{},yb?{config:yb}:{})})}function oa(U){var ua;U=U.getRootNode?U.getRootNode():document;return U instanceof ShadowRoot?{root:U,rootContainer:U}:{root:document,rootContainer:null!==(ua=document.head)&&void 0!==ua?ua:document.body}}function q(U,ua){const cb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var yb,gc,Ec,$b,J,fa,Sa;let cc=2<cb.length&&void 0!==cb[2]?cb[2]:{};var Jc=3<cb.length?cb[3]:
void 0;const Ac=cc.theme?k.mergeConfig(mc[cc.theme],null!==(yb=cc.config)&&void 0!==yb?yb:{}):cc.config;yb=k.isBoolean(cc.actions)?cc.actions:qa({},De,null!==(gc=cc.actions)&&void 0!==gc?gc:{});gc=Object.assign({},gf,cc.i18n);const $c=null!==(Ec=cc.renderer)&&void 0!==Ec?Ec:"canvas";Ec=null!==($b=cc.logLevel)&&void 0!==$b?$b:Xd.Warn;$b=null!==(J=cc.downloadFileName)&&void 0!==J?J:"visualization";J="string"===typeof U?document.querySelector(U):U;if(!J)throw Error("".concat(U," does not exist"));if(!1!==
cc.defaultStyle){const {root:Qc,rootContainer:td}=oa(J);if(!Qc.getElementById("vega-embed-style")){var pd=document.createElement("style");pd.id="vega-embed-style";pd.innerHTML=void 0===cc.defaultStyle||!0===cc.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
cc.defaultStyle;td.appendChild(pd)}}const ee=Fa(ua,cc.mode);let Ra=pe[ee](ua,Ac);"vega-lite"===ee&&Ra.$schema&&(pd=mb(Ra.$schema),Yd(df.vega,"^".concat(pd.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(pd.version,", but current version is v").concat(df.vega,".")));J.classList.add("vega-embed");yb&&J.classList.add("has-actions");J.innerHTML="";let db=J;yb&&(pd=document.createElement("div"),pd.classList.add("chart-wrapper"),J.appendChild(pd),db=pd);(pd=cc.patch)&&(Ra=pd instanceof
Function?pd(Ra):tb(Ra,pd,!0,!1).newDocument);cc.formatLocale&&Xd.formatLocale(cc.formatLocale);cc.timeFormatLocale&&Xd.timeFormatLocale(cc.timeFormatLocale);if(cc.expressionFunctions)for(var pc in cc.expressionFunctions)pd=cc.expressionFunctions[pc],"fn"in pd?Xd.expressionFunction(pc,pd.fn,pd.visitor):pd instanceof Function&&Xd.expressionFunction(pc,pd);({ast:pc}=cc);pd=Xd.parse(Ra,"vega-lite"===ee?{}:Ac,{ast:pc});const wd=new (cc.viewClass||Xd.View)(pd,Object.assign({},{loader:Jc,logLevel:Ec,renderer:$c},
pc?{expr:null!==(fa=null!==(Sa=Xd.expressionInterpreter)&&void 0!==Sa?Sa:cc.expr)&&void 0!==fa?fa:Hb}:{}));wd.addSignalListener("autosize",(Qc,td)=>{({type:Qc}=td);"fit-x"==Qc?(db.classList.add("fit-x"),db.classList.remove("fit-y")):"fit-y"==Qc?(db.classList.remove("fit-x"),db.classList.add("fit-y")):"fit"==Qc?db.classList.add("fit-x","fit-y"):db.classList.remove("fit-x","fit-y")});!1!==cc.tooltip&&(fa="function"===typeof cc.tooltip?cc.tooltip:(new Gd(!0===cc.tooltip?{}:cc.tooltip)).call,wd.tooltip(fa));
({hover:fa}=cc);void 0===fa&&(fa="vega"===ee);if(fa){const {hoverSet:Qc,updateSet:td}="boolean"===typeof fa?{}:fa;wd.hover(Qc,td)}cc&&(null!=cc.width&&wd.width(cc.width),null!=cc.height&&wd.height(cc.height),null!=cc.padding&&wd.padding(cc.padding));yield wd.initialize(db,cc.bind).runAsync();let Mc;if(!1!==yb){Sa=J;if(!1!==cc.defaultStyle){const Qc=document.createElement("details");Qc.title=gc.CLICK_TO_VIEW_ACTIONS;J.append(Qc);Sa=Qc;fa=document.createElement("summary");fa.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Qc.append(fa);Mc=td=>{Qc.contains(td.target)||Qc.removeAttribute("open")};document.addEventListener("click",Mc)}fa=document.createElement("div");Sa.append(fa);fa.classList.add("vega-actions");if(!0===yb||!1!==yb.export)for(const Qc of["svg","png"])if(!0===yb||!0===yb.export||yb.export[Qc])Sa=gc["".concat(Qc.toUpperCase(),"_ACTION")],Jc=document.createElement("a"),Jc.text=Sa,Jc.href="#",Jc.target="_blank",Jc.download="".concat($b,".").concat(Qc),Jc.addEventListener("mousedown",function(td){const kd=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){td.preventDefault();const Ld=yield wd.toImageURL(Qc,cc.scaleFactor);kd.href=Ld})}),fa.append(Jc);if(!0===yb||!1!==yb.source)$b=document.createElement("a"),$b.text=gc.SOURCE_ACTION,$b.href="#",$b.addEventListener("click",function(Qc){var td,kd;Z(va(ua),null!==(td=cc.sourceHeader)&&void 0!==td?td:"",null!==(kd=cc.sourceFooter)&&void 0!==kd?kd:"",ee);Qc.preventDefault()}),fa.append($b);"vega-lite"!==ee||!0!==yb&&!1===yb.compiled||($b=
document.createElement("a"),$b.text=gc.COMPILED_ACTION,$b.href="#",$b.addEventListener("click",function(Qc){var td,kd;Z(va(Ra),null!==(td=cc.sourceHeader)&&void 0!==td?td:"",null!==(kd=cc.sourceFooter)&&void 0!==kd?kd:"","vega");Qc.preventDefault()}),fa.append($b));if(!0===yb||!1!==yb.editor){var Uc;const Qc=null!==(Uc=cc.editorUrl)&&void 0!==Uc?Uc:"https://vega.github.io/editor/";Uc=document.createElement("a");Uc.text=gc.EDITOR_ACTION;Uc.href="#";Uc.addEventListener("click",function(td){nb(window,
Qc,{config:Ac,mode:ee,renderer:$c,spec:va(ua)});td.preventDefault()});fa.append(Uc)}}return{view:wd,spec:ua,vgSpec:Ra,finalize:function(){Mc&&document.removeEventListener("click",Mc);wd.finalize()},embedOptions:cc}})}function M(U){const ua=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var cb;let yb=1<ua.length&&void 0!==ua[1]?ua[1]:{};const gc=document.createElement("div");gc.classList.add("vega-embed-wrapper");const Ec=document.createElement("div");gc.appendChild(Ec);
const $b=!0===yb.actions||!1===yb.actions?yb.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(cb=yb.actions)&&void 0!==cb?cb:{});cb=yield eb(Ec,U,Object.assign({},{actions:$b},null!==yb&&void 0!==yb?yb:{}));gc.value=cb.view;return gc})}var Q=jb(k),g=jb(P),u=function(){var U=function(ua,cb){U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yb,gc){yb.__proto__=gc}||function(yb,gc){for(var Ec in gc)gc.hasOwnProperty(Ec)&&(yb[Ec]=gc[Ec])};return U(ua,cb)};return function(ua,
cb){function yb(){this.constructor=ua}U(ua,cb);ua.prototype=null===cb?Object.create(cb):(yb.prototype=cb.prototype,new yb)}}(),m=Object.prototype.hasOwnProperty,C=function(U){function ua(cb,yb,gc,Ec,$b){var J=this.constructor,fa=U.call(this,kc(cb,{name:yb,index:gc,operation:Ec,tree:$b}))||this;fa.name=yb;fa.index=gc;fa.operation=Ec;fa.tree=$b;Object.setPrototypeOf(fa,J.prototype);fa.message=kc(cb,{name:yb,index:gc,operation:Ec,tree:$b});return fa}u(ua,U);return ua}(Error),B=C,A={add:function(U,ua,
cb){U[ua]=this.value;return{newDocument:cb}},remove:function(U,ua,cb){var yb=U[ua];delete U[ua];return{newDocument:cb,removed:yb}},replace:function(U,ua,cb){var yb=U[ua];U[ua]=this.value;return{newDocument:cb,removed:yb}},move:function(U,ua,cb){(U=Yb(cb,this.path))&&(U=bc(U));ua=Ua(cb,{op:"remove",path:this.from}).removed;Ua(cb,{op:"add",path:this.path,value:ua});return{newDocument:cb,removed:U}},copy:function(U,ua,cb){U=Yb(cb,this.from);Ua(cb,{op:"add",path:this.path,value:bc(U)});return{newDocument:cb}},
test:function(U,ua,cb){return{newDocument:cb,test:Cb(U[ua],this.value)}},_get:function(U,ua,cb){this.value=U[ua];return{newDocument:cb}}},D={add:function(U,ua,cb){vc(ua)?U.splice(ua,0,this.value):U[ua]=this.value;return{newDocument:cb,index:ua}},remove:function(U,ua,cb){U=U.splice(ua,1);return{newDocument:cb,removed:U[0]}},replace:function(U,ua,cb){var yb=U[ua];U[ua]=this.value;return{newDocument:cb,removed:yb}},move:A.move,copy:A.copy,test:A.test,_get:A._get},I=Object.freeze({__proto__:null,JsonPatchError:B,
deepClone:bc,getValueByPointer:Yb,applyOperation:Ua,applyPatch:tb,applyReducer:function(U,ua,cb){var yb=Ua(U,ua);if(!1===yb.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",cb,ua,U);return yb.newDocument},validator:Jb,validate:Kb,_areEquals:Cb}),V=new WeakMap,Aa=function(){return function(U){this.observers=new Map;this.obj=U}}(),Y=function(){return function(U,ua){this.callback=U;this.observer=ua}}(),t=Object.freeze({__proto__:null,unobserve:function(U,ua){ua.unobserve()},observe:function(U,
ua){var cb=V.get(U);if(cb){var yb=cb.observers.get(ua);var gc=yb&&yb.observer}else cb=new Aa(U),V.set(U,cb);if(gc)return gc;gc={};cb.value=bc(U);if(ua){gc.callback=ua;gc.next=null;var Ec=function(){Ob(gc)},$b=function(){clearTimeout(gc.next);gc.next=setTimeout(Ec)};"undefined"!==typeof window&&(window.addEventListener("mouseup",$b),window.addEventListener("keyup",$b),window.addEventListener("mousedown",$b),window.addEventListener("keydown",$b),window.addEventListener("change",$b))}gc.patches=[];gc.object=
U;gc.unobserve=function(){Ob(gc);clearTimeout(gc.next);cb.observers.delete(gc.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",$b),window.removeEventListener("keyup",$b),window.removeEventListener("mousedown",$b),window.removeEventListener("keydown",$b),window.removeEventListener("change",$b))};cb.observers.set(ua,new Y(ua,gc));return gc},generate:Ob,compare:function(U,ua,cb){void 0===cb&&(cb=!1);var yb=[];ab(U,ua,yb,"",cb);return yb}});Object.assign({},I,t,{JsonPatchError:C,
deepClone:bc,escapePathComponent:Bc,unescapePathComponent:uc});var L=/("(?:[^\\"]|\\.)*")|[:,]/g,va=function(U,ua){ua=ua||{};var cb=JSON.stringify([1],void 0,void 0===ua.indent?2:ua.indent).slice(2,-3);var yb=""===cb?Infinity:void 0===ua.maxLength?80:ua.maxLength;var gc=ua.replacer;return function Sa($b,J,fa){$b&&"function"===typeof $b.toJSON&&($b=$b.toJSON());var cc=JSON.stringify($b,gc);if(void 0===cc)return cc;fa=yb-J.length-fa;if(cc.length<=fa){var Jc=cc.replace(L,function(wd,Mc){return Mc||wd+
" "});if(Jc.length<=fa)return Jc}null!=gc&&($b=JSON.parse(cc),gc=void 0);if("object"===typeof $b&&null!==$b){var Ac=J+cb;var $c=[];var pd=0;if(Array.isArray($b)){var ee="[";Jc="]";for(fa=$b.length;pd<fa;pd++)$c.push(Sa($b[pd],Ac,pd===fa-1?0:1)||"null")}else{ee="{";Jc="}";var Ra=Object.keys($b);for(fa=Ra.length;pd<fa;pd++){var db=Ra[pd];var pc=JSON.stringify(db)+": ";db=Sa($b[db],Ac,pc.length+(pd===fa-1?0:1));void 0!==db&&$c.push(pc+db)}}if(0<$c.length)return[ee,cb+$c.join(",\n"+Ac),Jc].join("\n"+
J)}return cc}(U,"",0)};pb.Node=Qa;pb.create=pb;pb.prototype.removeNode=function(U){if(U.list!==this)throw Error("removing node which does not belong to this list");var ua=U.next,cb=U.prev;ua&&(ua.prev=cb);cb&&(cb.next=ua);U===this.head&&(this.head=ua);U===this.tail&&(this.tail=cb);U.list.length--;U.next=null;U.prev=null;U.list=null;return ua};pb.prototype.unshiftNode=function(U){if(U!==this.head){U.list&&U.list.removeNode(U);var ua=this.head;U.list=this;if(U.next=ua)ua.prev=U;this.head=U;this.tail||
(this.tail=U);this.length++}};pb.prototype.pushNode=function(U){if(U!==this.tail){U.list&&U.list.removeNode(U);var ua=this.tail;U.list=this;if(U.prev=ua)ua.next=U;this.tail=U;this.head||(this.head=U);this.length++}};pb.prototype.push=function(){for(var U=0,ua=arguments.length;U<ua;U++)this.tail=new Qa(arguments[U],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};pb.prototype.unshift=function(){for(var U=0,ua=arguments.length;U<ua;U++)this.head=new Qa(arguments[U],
null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};pb.prototype.pop=function(){if(this.tail){var U=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return U}};pb.prototype.shift=function(){if(this.head){var U=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return U}};pb.prototype.forEach=function(U,ua){ua=ua||this;for(var cb=this.head,yb=0;null!==cb;yb++)U.call(ua,cb.value,yb,
this),cb=cb.next};pb.prototype.forEachReverse=function(U,ua){ua=ua||this;for(var cb=this.tail,yb=this.length-1;null!==cb;yb--)U.call(ua,cb.value,yb,this),cb=cb.prev};pb.prototype.get=function(U){for(var ua=0,cb=this.head;null!==cb&&ua<U;ua++)cb=cb.next;if(ua===U&&null!==cb)return cb.value};pb.prototype.getReverse=function(U){for(var ua=0,cb=this.tail;null!==cb&&ua<U;ua++)cb=cb.prev;if(ua===U&&null!==cb)return cb.value};pb.prototype.map=function(U,ua){ua=ua||this;for(var cb=new pb,yb=this.head;null!==
yb;)cb.push(U.call(ua,yb.value,this)),yb=yb.next;return cb};pb.prototype.mapReverse=function(U,ua){ua=ua||this;for(var cb=new pb,yb=this.tail;null!==yb;)cb.push(U.call(ua,yb.value,this)),yb=yb.prev;return cb};pb.prototype.reduce=function(U,ua){var cb=this.head;if(1<arguments.length)var yb=ua;else if(this.head)cb=this.head.next,yb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var gc=0;null!==cb;gc++)yb=U(yb,cb.value,gc),cb=cb.next;return yb};pb.prototype.reduceReverse=
function(U,ua){var cb=this.tail;if(1<arguments.length)var yb=ua;else if(this.tail)cb=this.tail.prev,yb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var gc=this.length-1;null!==cb;gc--)yb=U(yb,cb.value,gc),cb=cb.prev;return yb};pb.prototype.toArray=function(){for(var U=Array(this.length),ua=0,cb=this.head;null!==cb;ua++)U[ua]=cb.value,cb=cb.next;return U};pb.prototype.toArrayReverse=function(){for(var U=Array(this.length),ua=0,cb=this.tail;null!==cb;ua++)U[ua]=
cb.value,cb=cb.prev;return U};pb.prototype.slice=function(U,ua){ua=ua||this.length;0>ua&&(ua+=this.length);U=U||0;0>U&&(U+=this.length);var cb=new pb;if(ua<U||0>ua)return cb;0>U&&(U=0);ua>this.length&&(ua=this.length);for(var yb=0,gc=this.head;null!==gc&&yb<U;yb++)gc=gc.next;for(;null!==gc&&yb<ua;yb++,gc=gc.next)cb.push(gc.value);return cb};pb.prototype.sliceReverse=function(U,ua){ua=ua||this.length;0>ua&&(ua+=this.length);U=U||0;0>U&&(U+=this.length);var cb=new pb;if(ua<U||0>ua)return cb;0>U&&(U=
0);ua>this.length&&(ua=this.length);for(var yb=this.length,gc=this.tail;null!==gc&&yb>ua;yb--)gc=gc.prev;for(;null!==gc&&yb>U;yb--,gc=gc.prev)cb.push(gc.value);return cb};pb.prototype.splice=function(U,ua){U>this.length&&(U=this.length-1);0>U&&(U=this.length+U);for(var cb=0,yb=this.head;null!==yb&&cb<U;cb++)yb=yb.next;var gc=[];for(cb=0;yb&&cb<ua;cb++)gc.push(yb.value),yb=this.removeNode(yb);null===yb&&(yb=this.tail);yb!==this.head&&yb!==this.tail&&(yb=yb.prev);for(cb=0;cb<(2>=arguments.length?0:
arguments.length-2);cb++){var Ec=2>cb+2||arguments.length<=cb+2?void 0:arguments[cb+2];yb=yb===this.head?new Qa(Ec,null,yb,this):new Qa(Ec,yb,yb.next,this);null===yb.next&&(this.tail=yb);null===yb.prev&&(this.head=yb);this.length++}return gc};pb.prototype.reverse=function(){for(var U=this.head,ua=this.tail,cb=U;null!==cb;cb=cb.prev){var yb=cb.prev;cb.prev=cb.next;cb.next=yb}this.head=ua;this.tail=U;return this};try{pb.prototype[Symbol.iterator]=function*(){for(let U=this.head;U;U=U.next)yield U.value}}catch(U){}const La=
Symbol("max"),Wa=Symbol("length"),$a=Symbol("lengthCalculator"),X=Symbol("allowStale"),Ca=Symbol("maxAge"),Xa=Symbol("dispose"),Ib=Symbol("noDisposeOnSet"),yc=Symbol("lruList"),qc=Symbol("cache"),xc=Symbol("updateAgeOnGet"),dd=()=>1;class Zb{constructor(U){"number"===typeof U&&(U={max:U});U||(U={});if(U.max&&("number"!==typeof U.max||0>U.max))throw new TypeError("max must be a non-negative number");this[La]=U.max||Infinity;const ua=U.length||dd;this[$a]="function"!==typeof ua?dd:ua;this[X]=U.stale||
!1;if(U.maxAge&&"number"!==typeof U.maxAge)throw new TypeError("maxAge must be a number");this[Ca]=U.maxAge||0;this[Xa]=U.dispose;this[Ib]=U.noDisposeOnSet||!1;this[xc]=U.updateAgeOnGet||!1;this.reset()}set max(U){if("number"!==typeof U||0>U)throw new TypeError("max must be a non-negative number");this[La]=U||Infinity;Na(this)}get max(){return this[La]}set allowStale(U){this[X]=!!U}get allowStale(){return this[X]}set maxAge(U){if("number"!==typeof U)throw new TypeError("maxAge must be a non-negative number");
this[Ca]=U;Na(this)}get maxAge(){return this[Ca]}set lengthCalculator(U){"function"!==typeof U&&(U=dd);U!==this[$a]&&(this[$a]=U,this[Wa]=0,this[yc].forEach(ua=>{ua.length=this[$a](ua.value,ua.key);this[Wa]+=ua.length}));Na(this)}get lengthCalculator(){return this[$a]}get length(){return this[Wa]}get itemCount(){return this[yc].length}rforEach(U,ua){ua=ua||this;for(let cb=this[yc].tail;null!==cb;){const yb=cb.prev;Sb(this,U,cb,ua);cb=yb}}forEach(U,ua){ua=ua||this;for(let cb=this[yc].head;null!==cb;){const yb=
cb.next;Sb(this,U,cb,ua);cb=yb}}keys(){return this[yc].toArray().map(U=>U.key)}values(){return this[yc].toArray().map(U=>U.value)}reset(){this[Xa]&&this[yc]&&this[yc].length&&this[yc].forEach(U=>this[Xa](U.key,U.value));this[qc]=new Map;this[yc]=new pb;this[Wa]=0}dump(){return this[yc].map(U=>Pd(this,U)?!1:{k:U.key,v:U.value,e:U.now+(U.maxAge||0)}).toArray().filter(U=>U)}dumpLru(){return this[yc]}set(U,ua,cb){if((cb=cb||this[Ca])&&"number"!==typeof cb)throw new TypeError("maxAge must be a number");
const yb=cb?Date.now():0,gc=this[$a](ua,U);if(this[qc].has(U)){if(gc>this[La])return Ub(this,this[qc].get(U)),!1;const Ec=this[qc].get(U).value;if(this[Xa]&&!this[Ib])this[Xa](U,Ec.value);Ec.now=yb;Ec.maxAge=cb;Ec.value=ua;this[Wa]+=gc-Ec.length;Ec.length=gc;this.get(U);Na(this);return!0}cb=new qb(U,ua,gc,yb,cb);if(cb.length>this[La]){if(this[Xa])this[Xa](U,ua);return!1}this[Wa]+=cb.length;this[yc].unshift(cb);this[qc].set(U,this[yc].head);Na(this);return!0}has(U){if(!this[qc].has(U))return!1;U=this[qc].get(U).value;
return!Pd(this,U)}get(U){return Rc(this,U,!0)}peek(U){return Rc(this,U,!1)}pop(){const U=this[yc].tail;if(!U)return null;Ub(this,U);return U.value}del(U){Ub(this,this[qc].get(U))}load(U){this.reset();const ua=Date.now();for(let yb=U.length-1;0<=yb;yb--){const gc=U[yb];var cb=gc.e||0;0===cb?this.set(gc.k,gc.v):(cb-=ua,0<cb&&this.set(gc.k,gc.v,cb))}}prune(){this[qc].forEach((U,ua)=>Rc(this,ua,!1))}}const Rc=(U,ua,cb)=>{if(ua=U[qc].get(ua)){const yb=ua.value;if(Pd(U,yb)){if(Ub(U,ua),!U[X])return}else cb&&
(U[xc]&&(ua.value.now=Date.now()),U[yc].unshiftNode(ua));return yb.value}},Pd=(U,ua)=>{if(!ua||!ua.maxAge&&!U[Ca])return!1;const cb=Date.now()-ua.now;return ua.maxAge?cb>ua.maxAge:U[Ca]&&cb>U[Ca]},Na=U=>{if(U[Wa]>U[La])for(let ua=U[yc].tail;U[Wa]>U[La]&&null!==ua;){const cb=ua.prev;Ub(U,ua);ua=cb}},Ub=(U,ua)=>{if(ua){const cb=ua.value;if(U[Xa])U[Xa](cb.key,cb.value);U[Wa]-=cb.length;U[qc].delete(cb.key);U[yc].removeNode(ua)}};class qb{constructor(U,ua,cb,yb,gc){this.key=U;this.value=ua;this.length=
cb;this.now=yb;this.maxAge=gc||0}}const Sb=(U,ua,cb,yb)=>{let gc=cb.value;Pd(U,gc)&&(Ub(U,cb),U[X]||(gc=void 0));gc&&ua.call(yb,gc.value,gc.key,U)};var ic=Zb;const dc=["includePrerelease","loose","rtl"];var Ic=U=>U?"object"!==typeof U?{loose:!0}:dc.filter(ua=>U[ua]).reduce((ua,cb)=>{ua[cb]=!0;return ua},{}):{},zc={exports:{}},Yc={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Md="object"===typeof v&&v.env&&v.env.NODE_DEBUG&&
/\bsemver\b/i.test(v.env.NODE_DEBUG)?function(){for(var U=arguments.length,ua=Array(U),cb=0;cb<U;cb++)ua[cb]=arguments[cb];return console.error("SEMVER",...ua)}:()=>{};(function(U,ua){const {MAX_SAFE_COMPONENT_LENGTH:cb}=Yc,yb=Md;ua=U.exports={};const gc=ua.re=[],Ec=ua.src=[],$b=ua.t={};let J=0;U=(fa,Sa,cc)=>{const Jc=J++;yb(fa,Jc,Sa);$b[fa]=Jc;Ec[Jc]=Sa;gc[Jc]=new RegExp(Sa,cc?"g":void 0)};U("NUMERICIDENTIFIER","0|[1-9]\\d*");U("NUMERICIDENTIFIERLOOSE","[0-9]+");U("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");
U("MAINVERSION","(".concat(Ec[$b.NUMERICIDENTIFIER],")\\.")+"(".concat(Ec[$b.NUMERICIDENTIFIER],")\\.")+"(".concat(Ec[$b.NUMERICIDENTIFIER],")"));U("MAINVERSIONLOOSE","(".concat(Ec[$b.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Ec[$b.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Ec[$b.NUMERICIDENTIFIERLOOSE],")"));U("PRERELEASEIDENTIFIER","(?:".concat(Ec[$b.NUMERICIDENTIFIER],"|").concat(Ec[$b.NONNUMERICIDENTIFIER],")"));U("PRERELEASEIDENTIFIERLOOSE","(?:".concat(Ec[$b.NUMERICIDENTIFIERLOOSE],"|").concat(Ec[$b.NONNUMERICIDENTIFIER],
")"));U("PRERELEASE","(?:-(".concat(Ec[$b.PRERELEASEIDENTIFIER],"(?:\\.").concat(Ec[$b.PRERELEASEIDENTIFIER],")*))"));U("PRERELEASELOOSE","(?:-?(".concat(Ec[$b.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(Ec[$b.PRERELEASEIDENTIFIERLOOSE],")*))"));U("BUILDIDENTIFIER","[0-9A-Za-z-]+");U("BUILD","(?:\\+(".concat(Ec[$b.BUILDIDENTIFIER],"(?:\\.").concat(Ec[$b.BUILDIDENTIFIER],")*))"));U("FULLPLAIN","v?".concat(Ec[$b.MAINVERSION]).concat(Ec[$b.PRERELEASE],"?").concat(Ec[$b.BUILD],"?"));U("FULL","^".concat(Ec[$b.FULLPLAIN],
"$"));U("LOOSEPLAIN","[v\x3d\\s]*".concat(Ec[$b.MAINVERSIONLOOSE]).concat(Ec[$b.PRERELEASELOOSE],"?").concat(Ec[$b.BUILD],"?"));U("LOOSE","^".concat(Ec[$b.LOOSEPLAIN],"$"));U("GTLT","((?:\x3c|\x3e)?\x3d?)");U("XRANGEIDENTIFIERLOOSE","".concat(Ec[$b.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));U("XRANGEIDENTIFIER","".concat(Ec[$b.NUMERICIDENTIFIER],"|x|X|\\*"));U("XRANGEPLAIN","[v\x3d\\s]*(".concat(Ec[$b.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Ec[$b.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Ec[$b.XRANGEIDENTIFIER],
")")+"(?:".concat(Ec[$b.PRERELEASE],")?").concat(Ec[$b.BUILD],"?")+")?)?");U("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(Ec[$b.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Ec[$b.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Ec[$b.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(Ec[$b.PRERELEASELOOSE],")?").concat(Ec[$b.BUILD],"?")+")?)?");U("XRANGE","^".concat(Ec[$b.GTLT],"\\s*").concat(Ec[$b.XRANGEPLAIN],"$"));U("XRANGELOOSE","^".concat(Ec[$b.GTLT],"\\s*").concat(Ec[$b.XRANGEPLAINLOOSE],"$"));U("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(cb,
"})")+"(?:\\.(\\d{1,".concat(cb,"}))?")+"(?:\\.(\\d{1,".concat(cb,"}))?")+"(?:$|[^\\d])");U("COERCERTL",Ec[$b.COERCE],!0);U("LONETILDE","(?:~\x3e?)");U("TILDETRIM","(\\s*)".concat(Ec[$b.LONETILDE],"\\s+"),!0);ua.tildeTrimReplace="$1~";U("TILDE","^".concat(Ec[$b.LONETILDE]).concat(Ec[$b.XRANGEPLAIN],"$"));U("TILDELOOSE","^".concat(Ec[$b.LONETILDE]).concat(Ec[$b.XRANGEPLAINLOOSE],"$"));U("LONECARET","(?:\\^)");U("CARETTRIM","(\\s*)".concat(Ec[$b.LONECARET],"\\s+"),!0);ua.caretTrimReplace="$1^";U("CARET",
"^".concat(Ec[$b.LONECARET]).concat(Ec[$b.XRANGEPLAIN],"$"));U("CARETLOOSE","^".concat(Ec[$b.LONECARET]).concat(Ec[$b.XRANGEPLAINLOOSE],"$"));U("COMPARATORLOOSE","^".concat(Ec[$b.GTLT],"\\s*(").concat(Ec[$b.LOOSEPLAIN],")$|^$"));U("COMPARATOR","^".concat(Ec[$b.GTLT],"\\s*(").concat(Ec[$b.FULLPLAIN],")$|^$"));U("COMPARATORTRIM","(\\s*)".concat(Ec[$b.GTLT],"\\s*(").concat(Ec[$b.LOOSEPLAIN],"|").concat(Ec[$b.XRANGEPLAIN],")"),!0);ua.comparatorTrimReplace="$1$2$3";U("HYPHENRANGE","^\\s*(".concat(Ec[$b.XRANGEPLAIN],
")")+"\\s+-\\s+"+"(".concat(Ec[$b.XRANGEPLAIN],")")+"\\s*$");U("HYPHENRANGELOOSE","^\\s*(".concat(Ec[$b.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(Ec[$b.XRANGEPLAINLOOSE],")")+"\\s*$");U("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");U("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");U("GTE0PRE","^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(zc,zc.exports);const ud=/^[0-9]+$/,Ha=(U,ua)=>{const cb=ud.test(U),yb=ud.test(ua);cb&&yb&&(U=+U,ua=+ua);return U===ua?0:cb&&!yb?-1:yb&&!cb?1:U<ua?-1:1};var gb={compareIdentifiers:Ha,
rcompareIdentifiers:(U,ua)=>Ha(ua,U)};const vb=Md,{MAX_LENGTH:ta,MAX_SAFE_INTEGER:F}=Yc,{re:ya,t:Oa}=zc.exports,Za=Ic,{compareIdentifiers:kb}=gb;class Eb{constructor(U,ua){ua=Za(ua);if(U instanceof Eb){if(U.loose===!!ua.loose&&U.includePrerelease===!!ua.includePrerelease)return U;U=U.version}else if("string"!==typeof U)throw new TypeError("Invalid Version: ".concat(U));if(U.length>ta)throw new TypeError("version is longer than ".concat(ta," characters"));vb("SemVer",U,ua);this.options=ua;this.loose=
!!ua.loose;this.includePrerelease=!!ua.includePrerelease;ua=U.trim().match(ua.loose?ya[Oa.LOOSE]:ya[Oa.FULL]);if(!ua)throw new TypeError("Invalid Version: ".concat(U));this.raw=U;this.major=+ua[1];this.minor=+ua[2];this.patch=+ua[3];if(this.major>F||0>this.major)throw new TypeError("Invalid major version");if(this.minor>F||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>F||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=ua[4]?ua[4].split(".").map(cb=>
{if(/^[0-9]+$/.test(cb)){const yb=+cb;if(0<=yb&&yb<F)return yb}return cb}):[];this.build=ua[5]?ua[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(U){vb("SemVer.compare",this.version,this.options,U);if(!(U instanceof Eb)){if("string"===typeof U&&U===this.version)return 0;U=new Eb(U,this.options)}return U.version===
this.version?0:this.compareMain(U)||this.comparePre(U)}compareMain(U){U instanceof Eb||(U=new Eb(U,this.options));return kb(this.major,U.major)||kb(this.minor,U.minor)||kb(this.patch,U.patch)}comparePre(U){U instanceof Eb||(U=new Eb(U,this.options));if(this.prerelease.length&&!U.prerelease.length)return-1;if(!this.prerelease.length&&U.prerelease.length)return 1;if(!this.prerelease.length&&!U.prerelease.length)return 0;let ua=0;do{const cb=this.prerelease[ua],yb=U.prerelease[ua];vb("prerelease compare",
ua,cb,yb);if(void 0===cb&&void 0===yb)return 0;if(void 0===yb)return 1;if(void 0===cb)return-1;if(cb!==yb)return kb(cb,yb)}while(++ua)}compareBuild(U){U instanceof Eb||(U=new Eb(U,this.options));let ua=0;do{const cb=this.build[ua],yb=U.build[ua];vb("prerelease compare",ua,cb,yb);if(void 0===cb&&void 0===yb)return 0;if(void 0===yb)return 1;if(void 0===cb)return-1;if(cb!==yb)return kb(cb,yb)}while(++ua)}inc(U,ua){switch(U){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;
this.inc("pre",ua);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",ua);break;case "prepatch":this.prerelease.length=0;this.inc("patch",ua);this.inc("pre",ua);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",ua);this.inc("pre",ua);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=
0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(U=this.prerelease.length;0<=--U;)"number"===typeof this.prerelease[U]&&(this.prerelease[U]++,U=-2);-1===U&&this.prerelease.push(0)}ua&&(0===kb(this.prerelease[0],ua)?isNaN(this.prerelease[1])&&(this.prerelease=[ua,0]):this.prerelease=[ua,0]);break;default:throw Error("invalid increment argument: ".concat(U));}this.format();
this.raw=this.version;return this}}var oc=Eb;const ec=oc;var jc=(U,ua,cb)=>(new ec(U,cb)).compare(new ec(ua,cb)),Sc=(U,ua,cb,yb)=>{switch(ua){case "\x3d\x3d\x3d":return"object"===typeof U&&(U=U.version),"object"===typeof cb&&(cb=cb.version),U===cb;case "!\x3d\x3d":return"object"===typeof U&&(U=U.version),"object"===typeof cb&&(cb=cb.version),U!==cb;case "":case "\x3d":case "\x3d\x3d":return 0===jc(U,cb,yb);case "!\x3d":return 0!==jc(U,cb,yb);case "\x3e":return 0<jc(U,cb,yb);case "\x3e\x3d":return 0<=
jc(U,cb,yb);case "\x3c":return 0>jc(U,cb,yb);case "\x3c\x3d":return 0>=jc(U,cb,yb);default:throw new TypeError("Invalid operator: ".concat(ua));}},ed,fd,Qd,Td;const Ed=Ka();var Yd=(U,ua,cb)=>{try{ua=new Ed(ua,cb)}catch(yb){return!1}return ua.test(U)},ae={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Ud={"*":(U,ua)=>U*ua,"+":(U,ua)=>U+ua,"-":(U,ua)=>U-ua,"/":(U,ua)=>
U/ua,"%":(U,ua)=>U%ua,"\x3e":(U,ua)=>U>ua,"\x3c":(U,ua)=>U<ua,"\x3c\x3d":(U,ua)=>U<=ua,"\x3e\x3d":(U,ua)=>U>=ua,"\x3d\x3d":(U,ua)=>U==ua,"!\x3d":(U,ua)=>U!=ua,"\x3d\x3d\x3d":(U,ua)=>U===ua,"!\x3d\x3d":(U,ua)=>U!==ua,"\x26":(U,ua)=>U&ua,"|":(U,ua)=>U|ua,"^":(U,ua)=>U^ua,"\x3c\x3c":(U,ua)=>U<<ua,"\x3e\x3e":(U,ua)=>U>>ua,"\x3e\x3e\x3e":(U,ua)=>U>>>ua},Xe={"+":U=>+U,"-":U=>-U,"~":U=>~U,"!":U=>!U};const Wd=Array.prototype.slice,N=(U,ua,cb)=>{cb=cb?cb(ua[0]):ua[0];return cb[U].apply(cb,Wd.call(ua,1))};
var ma={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(U,ua,cb)=>Math.max(ua,Math.min(cb,U)),now:Date.now,utc:Date.UTC,datetime:(U,ua,cb,yb,gc,Ec,$b)=>new Date(U,ua||0,null!=cb?cb:1,yb||0,gc||0,Ec||0,$b||0),date:U=>(new Date(U)).getDate(),
day:U=>(new Date(U)).getDay(),year:U=>(new Date(U)).getFullYear(),month:U=>(new Date(U)).getMonth(),hours:U=>(new Date(U)).getHours(),minutes:U=>(new Date(U)).getMinutes(),seconds:U=>(new Date(U)).getSeconds(),milliseconds:U=>(new Date(U)).getMilliseconds(),time:U=>(new Date(U)).getTime(),timezoneoffset:U=>(new Date(U)).getTimezoneOffset(),utcdate:U=>(new Date(U)).getUTCDate(),utcday:U=>(new Date(U)).getUTCDay(),utcyear:U=>(new Date(U)).getUTCFullYear(),utcmonth:U=>(new Date(U)).getUTCMonth(),utchours:U=>
(new Date(U)).getUTCHours(),utcminutes:U=>(new Date(U)).getUTCMinutes(),utcseconds:U=>(new Date(U)).getUTCSeconds(),utcmilliseconds:U=>(new Date(U)).getUTCMilliseconds(),length:U=>U.length,join:function(){return N("join",arguments)},indexof:function(){return N("indexOf",arguments)},lastindexof:function(){return N("lastIndexOf",arguments)},slice:function(){return N("slice",arguments)},reverse:U=>U.slice().reverse(),parseFloat,parseInt,upper:U=>String(U).toUpperCase(),lower:U=>String(U).toLowerCase(),
substring:function(){return N("substring",arguments,String)},split:function(){return N("split",arguments,String)},replace:function(){return N("replace",arguments,String)},trim:U=>String(U).trim(),regexp:RegExp,test:(U,ua)=>RegExp(U).test(ua)};const za="view item group xy x y".split(" "),fb={Literal:(U,ua)=>ua.value,Identifier:(U,ua)=>{ua=ua.name;return 0<U.memberDepth?ua:"datum"===ua?U.datum:"event"===ua?U.event:"item"===ua?U.item:ae[ua]||U.params["$"+ua]},MemberExpression:(U,ua)=>{const cb=!ua.computed,
yb=U(ua.object);cb&&(U.memberDepth+=1);ua=U(ua.property);cb&&--U.memberDepth;return yb[ua]},CallExpression:(U,ua)=>{const cb=ua.arguments;ua=ua.callee.name;ua.startsWith("_")&&(ua=ua.slice(1));return"if"===ua?U(cb[0])?U(cb[1]):U(cb[2]):(U.fn[ua]||ma[ua]).apply(U.fn,cb.map(U))},ArrayExpression:(U,ua)=>ua.elements.map(U),BinaryExpression:(U,ua)=>Ud[ua.operator](U(ua.left),U(ua.right)),UnaryExpression:(U,ua)=>Xe[ua.operator](U(ua.argument)),ConditionalExpression:(U,ua)=>U(ua.test)?U(ua.consequent):U(ua.alternate),
LogicalExpression:(U,ua)=>"\x26\x26"===ua.operator?U(ua.left)&&U(ua.right):U(ua.left)||U(ua.right),ObjectExpression:(U,ua)=>ua.properties.reduce((cb,yb)=>{U.memberDepth+=1;const gc=U(yb.key);--U.memberDepth;cb[gc]=U(yb.value);return cb},{})};var Hb={operator(U,ua){const cb=ua.ast,yb=U.functions;return gc=>lb(cb,yb,gc)},parameter(U,ua){const cb=ua.ast,yb=U.functions;return(gc,Ec)=>lb(cb,yb,Ec,gc)},event(U,ua){const cb=ua.ast,yb=U.functions;return gc=>lb(cb,yb,void 0,void 0,gc)},handler(U,ua){const cb=
ua.ast,yb=U.functions;return(gc,Ec)=>lb(cb,yb,gc,Ec.item&&Ec.item.datum,Ec)},encode(U,ua){const {marktype:cb,channels:yb}=ua,gc=U.functions,Ec="group"===cb||"image"===cb||"rect"===cb;return($b,J)=>{const fa=$b.datum;let Sa=0,cc;for(const Jc in yb)cc=lb(yb[Jc].ast,gc,J,fa,void 0,$b),$b[Jc]!==cc&&($b[Jc]=cc,Sa=1);"rule"!==cb&&(yb.x2&&(yb.x?(Ec&&$b.x>$b.x2&&(J=$b.x,$b.x=$b.x2,$b.x2=J),$b.width=$b.x2-$b.x):$b.x=$b.x2-($b.width||0)),yb.xc&&($b.x=$b.xc-($b.width||0)/2),yb.y2&&(yb.y?(Ec&&$b.y>$b.y2&&(J=
$b.y,$b.y=$b.y2,$b.y2=J),$b.height=$b.y2-$b.y):$b.y=$b.y2-($b.height||0)),yb.yc&&($b.y=$b.yc-($b.height||0)/2));return Sa}}};const Xb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},Cc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var mc=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},
symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",
gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Xb["category-6"],diverging:Xb["fireandice-6"],heatmap:Xb["fire-7"],ordinal:Xb["fire-7"],ramp:Xb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Cc["six-groups-cat-1"],diverging:Cc["diverging-colors"],heatmap:Cc["diverging-colors"],ordinal:Cc["six-groups-seq"],ramp:Cc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},
axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Hc=U=>function(ua){return ua[U]},jd=U=>{const ua=U.length;return function(cb){for(let yb=0;yb<ua;++yb)cb=cb[U[yb]];return cb}};(function(U,ua,cb){const yb=sb(U);U=1===yb.length?yb[0]:U;return Pa((cb&&cb.get||wb)(yb),[U],ua||U)})("id");Pa(U=>U,[],"identity");Pa(()=>0,[],
"zero");Pa(()=>1,[],"one");Pa(()=>!0,[],"true");Pa(()=>!1,[],"false");var Nc=Array.isArray;const vd={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(U){return String(U).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(U,ua,cb){if(Nc(U))return"[".concat(U.map(gc=>ua("string"===typeof gc?gc:JSON.stringify(gc,Vb(cb)))).join(", "),"]");if(U===Object(U)){let gc="";const {title:Ec,image:$b}=
U;U=Pb(U,["title","image"]);Ec&&(gc+="\x3ch2\x3e".concat(ua(Ec),"\x3c/h2\x3e"));$b&&(gc+='\x3cimg src\x3d"'.concat(ua($b),'"\x3e'));var yb=Object.keys(U);if(0<yb.length){gc+="\x3ctable\x3e";for(const J of yb)yb=U[J],void 0!==yb&&(yb===Object(yb)&&(yb=JSON.stringify(yb,Vb(cb))),gc+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(ua(J),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(ua(yb),"\x3c/td\x3e\x3c/tr\x3e"));gc+="\x3c/table\x3e"}return gc||"{}"}return ua(U)}};class Gd{constructor(U){this.options=
Object.assign(Object.assign({},vd),U);var ua=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){U=document.createElement("style");U.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(ua))throw Error("Invalid HTML ID");ua="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
ua);U.innerHTML=ua;ua=document.head;0<ua.childNodes.length?ua.insertBefore(U,ua.childNodes[0]):ua.appendChild(U)}}tooltipHandler(U,ua,cb,yb){var gc;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(gc=document.fullscreenElement)&&void 0!==gc?gc:document.body).appendChild(this.el));if(null==yb||""===yb)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(yb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));U=this.el.getBoundingClientRect();gc=this.options.offsetX;cb=this.options.offsetY;yb=ua.clientX+gc;yb+U.width>window.innerWidth&&(yb=+ua.clientX-gc-U.width);gc=ua.clientY+cb;gc+U.height>window.innerHeight&&(gc=+ua.clientY-cb-U.height);var {x:Ec,y:$b}={x:yb,y:gc};this.el.setAttribute("style","top: ".concat($b,"px; left: ").concat(Ec,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(U,ua){return this.substr(!ua||0>ua?0:+ua,U.length)===U});var Fd;const Xd=Q;let Nd=g;const qe="undefined"!==typeof window?window:void 0;void 0===Nd&&null!==qe&&void 0!==qe&&null!==(Fd=qe.vl)&&void 0!==Fd&&Fd.compile&&(Nd=qe.vl);const De={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},gf={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},cf={vega:"Vega","vega-lite":"Vega-Lite"},df={vega:Xd.version,"vega-lite":Nd?Nd.version:"not available"},pe={vega:U=>U,"vega-lite":(U,ua)=>Nd.compile(U,{config:ua}).spec},nf=function(){var U;if(U=1<arguments.length){if(U=k.isString(0>=arguments.length?void 0:arguments[0]))U=0>=arguments.length?void 0:arguments[0],U=!(U.startsWith("http://")||U.startsWith("https://")||U.startsWith("//"));U=U||(0>=arguments.length?void 0:arguments[0])instanceof HTMLElement||
3===arguments.length}return U?eb(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):M(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};nf.vegaLite=Nd;nf.vl=Nd;nf.container=M;nf.embed=eb;nf.vega=Xd;nf.default=eb;nf.version="6.21.0";return nf})};
shadow$provide[67]=function(hc,Db,Wc,ob){ob.__esModule=!0;ob.default=function(v){const k={};return!!v&&"[object Function]"===k.toString.call(v)}};
shadow$provide[68]=function(hc,Db,Wc,ob){ob.__esModule=!0;ob.default=function(P,jb,Fb){Fb&&((0,k.default)(Fb)?Fb(P.data(jb)):P.change(jb,v.vega.changeset().remove(()=>!0).insert(Fb)))};var v=Db(66),k=function(P){return P&&P.__esModule?P:{default:P}}(Db(67))};
shadow$provide[69]=function(hc,Db,Wc,ob){ob.__esModule=!0;ob.default=function(k,P){Object.keys(P).forEach(jb=>{(0,v.default)(k,jb,P[jb])})};var v=function(k){return k&&k.__esModule?k:{default:k}}(Db(68))};
shadow$provide[70]=function(hc,Db,Wc,ob){ob.__esModule=!0;ob.default=function(v){const k=new Set;v.forEach(P=>{Object.keys(P).forEach(jb=>{k.add(jb)})});return k}};
shadow$provide[71]=function(hc,Db,Wc,ob){ob.__esModule=!0;ob.NOOP=void 0;ob.NOOP=()=>{}};
shadow$provide[72]=function(hc,Db,Wc,ob){ob.__esModule=!0;ob.default=function(v,k){const P=Object.keys(k);P.forEach(jb=>{try{v.addSignalListener(jb,k[jb])}catch(Fb){console.warn("Cannot add invalid signal listener.",Fb)}});return 0<P.length}};
shadow$provide[73]=function(hc,Db,Wc,ob){Wc.exports=function jb(k,P){if(k===P)return!0;if(k&&P&&"object"==typeof k&&"object"==typeof P){if(k.constructor!==P.constructor)return!1;var Fb;if(Array.isArray(k)){var bc=k.length;if(bc!=P.length)return!1;for(Fb=bc;0!==Fb--;)if(!jb(k[Fb],P[Fb]))return!1;return!0}if(k.constructor===RegExp)return k.source===P.source&&k.flags===P.flags;if(k.valueOf!==Object.prototype.valueOf)return k.valueOf()===P.valueOf();if(k.toString!==Object.prototype.toString)return k.toString()===
P.toString();var vc=Object.keys(k);bc=vc.length;if(bc!==Object.keys(P).length)return!1;for(Fb=bc;0!==Fb--;)if(!Object.prototype.hasOwnProperty.call(P,vc[Fb]))return!1;for(Fb=bc;0!==Fb--;)if(bc=vc[Fb],!jb(k[bc],P[bc]))return!1;return!0}return k!==k&&P!==P}};
shadow$provide[74]=function(hc,Db,Wc,ob){function v(jb){return jb&&jb.__esModule?jb:{default:jb}}ob.__esModule=!0;ob.default=function(jb,Fb){if(jb===Fb)return!1;const bc={width:!1,height:!1,isExpensive:!1},vc=(0,P.default)([jb,Fb]);!vc.has("width")||"width"in jb&&"width"in Fb&&jb.width===Fb.width||("width"in jb&&"number"===typeof jb.width?bc.width=jb.width:bc.isExpensive=!0);!vc.has("height")||"height"in jb&&"height"in Fb&&jb.height===Fb.height||("height"in jb&&"number"===typeof jb.height?bc.height=
jb.height:bc.isExpensive=!0);vc.delete("width");vc.delete("height");[...vc].some(Bc=>!(Bc in jb)||!(Bc in Fb)||!(0,k.default)(jb[Bc],Fb[Bc]))&&(bc.isExpensive=!0);return!1!==bc.width||!1!==bc.height||bc.isExpensive?bc:!1};var k=v(Db(73)),P=v(Db(70))};
shadow$provide[75]=function(hc,Db,Wc,ob){ob.__esModule=!0;ob.default=function(v,k){const P=Object.keys(k);P.forEach(jb=>{try{v.removeSignalListener(jb,k[jb])}catch(Fb){console.warn("Cannot remove invalid signal listener.",Fb)}});return 0<P.length}};
shadow$provide[76]=function(hc,Db,Wc,ob){ob.__esModule=!0;ob.default=function(v){const {spec:k,width:P,height:jb}=v;return"undefined"!==typeof P&&"undefined"!==typeof jb?Object.assign({},k,{width:P,height:jb}):"undefined"!==typeof P?Object.assign({},k,{width:P}):"undefined"!==typeof jb?Object.assign({},k,{height:jb}):k}};
shadow$provide[77]=function(hc,Db,Wc,ob){function v(Ua){return Ua&&Ua.__esModule?Ua:{default:Ua}}function k(Ua,tb,Jb){tb in Ua?Object.defineProperty(Ua,tb,{value:Jb,enumerable:!0,configurable:!0,writable:!0}):Ua[tb]=Jb;return Ua}ob.__esModule=!0;ob.default=void 0;hc=v(Db(18));var P=v(Db(2)),jb=v(Db(66)),Fb=v(Db(19)),bc=v(Db(70)),vc=Db(71),Bc=v(Db(72)),uc=v(Db(74)),Ab=v(Db(75)),kc=v(Db(76));class Yb extends P.default.PureComponent{constructor(){super(...arguments);k(this,"containerRef",P.default.createRef());
k(this,"resultPromise",void 0);k(this,"handleError",Ua=>{const {onError:tb=vc.NOOP}=this.props;tb(Ua,this.containerRef.current);console.warn(Ua)});k(this,"modifyView",Ua=>{this.resultPromise&&this.resultPromise.then(tb=>{tb&&Ua(tb.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ua){const tb=(0,bc.default)([this.props,Ua]);tb.delete("className");tb.delete("signalListeners");tb.delete("spec");tb.delete("style");tb.delete("width");tb.delete("height");
if(Array.from(tb).some(Jb=>this.props[Jb]!==Ua[Jb]))this.clearView(),this.createView();else{const Jb=(0,uc.default)((0,kc.default)(this.props),(0,kc.default)(Ua)),{signalListeners:Kb}=this.props,{signalListeners:Cb}=Ua;if(Jb)if(Jb.isExpensive)this.clearView(),this.createView();else{const Ob=!(0,Fb.default)(Kb,Cb);this.modifyView(ab=>{!1!==Jb.width&&ab.width(Jb.width);!1!==Jb.height&&ab.height(Jb.height);Ob&&(Cb&&(0,Ab.default)(ab,Cb),Kb&&(0,Bc.default)(ab,Kb));ab.run()})}else(0,Fb.default)(Kb,Cb)||
this.modifyView(Ob=>{Cb&&(0,Ab.default)(Ob,Cb);Kb&&(0,Bc.default)(Ob,Kb);Ob.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ua=this.props,tb=Object.assign({},Ua);const Jb=Ua.onNewView,Kb=void 0===Ua.signalListeners?{}:Ua.signalListeners;Ua=(delete tb.spec,delete tb.onNewView,delete tb.signalListeners,delete tb.width,delete tb.height,tb);this.containerRef.current&&(tb=(0,kc.default)(this.props),this.resultPromise=(0,jb.default)(this.containerRef.current,tb,Ua).then(Cb=>{if(Cb){const {view:Ob}=
Cb;(0,Bc.default)(Ob,Kb)&&Ob.run()}return Cb}).catch(this.handleError),Jb&&this.modifyView(Jb))}clearView(){this.resultPromise&&this.resultPromise.then(Ua=>{Ua&&Ua.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ua,style:tb}=this.props;return P.default.createElement("div",{ref:this.containerRef,className:Ua,style:tb})}}ob.default=Yb;k(Yb,"propTypes",{className:hc.default.string,onError:hc.default.func})};
shadow$provide[78]=function(hc,Db,Wc,ob){function v(Ab){return Ab&&Ab.__esModule?Ab:{default:Ab}}function k(){k=Object.assign||function(Ab){for(var kc=1;kc<arguments.length;kc++){var Yb=arguments[kc],Ua;for(Ua in Yb)Object.prototype.hasOwnProperty.call(Yb,Ua)&&(Ab[Ua]=Yb[Ua])}return Ab};return k.apply(this,arguments)}function P(Ab,kc,Yb){kc in Ab?Object.defineProperty(Ab,kc,{value:Yb,enumerable:!0,configurable:!0,writable:!0}):Ab[kc]=Yb;return Ab}ob.__esModule=!0;ob.default=void 0;v(Db(18));var jb=
v(Db(2)),Fb=v(Db(19)),bc=v(Db(69)),vc=v(Db(77)),Bc=Db(71);class uc extends jb.default.PureComponent{constructor(){super(...arguments);P(this,"vegaEmbed",jb.default.createRef());P(this,"handleNewView",Ab=>{this.update();const {onNewView:kc=Bc.NOOP}=this.props;kc(Ab)})}componentDidMount(){this.update()}componentDidUpdate(Ab){(0,Fb.default)(this.props.data,Ab.data)||this.update()}update(){const {data:Ab}=this.props;this.vegaEmbed.current&&Ab&&0<Object.keys(Ab).length&&this.vegaEmbed.current.modifyView(kc=>
{(0,bc.default)(kc,Ab);kc.resize().run()})}render(){var Ab=Object.assign({},this.props);Ab=(delete Ab.data,Ab);return jb.default.createElement(vc.default,k({ref:this.vegaEmbed},Ab,{onNewView:this.handleNewView}))}}ob.default=uc;P(uc,"defaultProps",{data:{}})};
shadow$provide[79]=function(hc,Db,Wc,ob){function v(Fb){return Fb&&Fb.__esModule?Fb:{default:Fb}}function k(){k=Object.assign||function(Fb){for(var bc=1;bc<arguments.length;bc++){var vc=arguments[bc],Bc;for(Bc in vc)Object.prototype.hasOwnProperty.call(vc,Bc)&&(Fb[Bc]=vc[Bc])}return Fb};return k.apply(this,arguments)}ob.__esModule=!0;ob.default=function(Fb){return P.default.createElement(jb.default,k({},Fb,{mode:"vega-lite"}))};var P=v(Db(2)),jb=v(Db(78))};
shadow$provide[80]=function(hc,Db,Wc,ob){function v(bc){return bc&&bc.__esModule?bc:{default:bc}}function k(){k=Object.assign||function(bc){for(var vc=1;vc<arguments.length;vc++){var Bc=arguments[vc],uc;for(uc in Bc)Object.prototype.hasOwnProperty.call(Bc,uc)&&(bc[uc]=Bc[uc])}return bc};return k.apply(this,arguments)}function P(bc,vc,Bc){vc in bc?Object.defineProperty(bc,vc,{value:Bc,enumerable:!0,configurable:!0,writable:!0}):bc[vc]=Bc;return bc}ob.__esModule=!0;ob.default=function(bc){let {mode:vc,
spec:Bc}=bc;class uc extends jb.default.PureComponent{render(){return jb.default.createElement(Fb.default,k({mode:vc,spec:Bc},this.props))}}P(uc,"getSpec",function(){return Bc});return uc};var jb=v(Db(2)),Fb=v(Db(78))};
shadow$provide[81]=function(hc,Db,Wc,ob){ob.__esModule=!0};
shadow$provide[82]=function(hc,Db,Wc,ob){ob.__esModule=!0;var v=Db(81);Object.keys(v).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in ob&&ob[k]===v[k]||(ob[k]=v[k]))})};
shadow$provide[83]=function(hc,Db,Wc,ob){function v(jb){return jb&&jb.__esModule?jb:{default:jb}}ob.__esModule=!0;var k={Vega:!0,VegaLite:!0,createClassFromSpec:!0};ob.createClassFromSpec=ob.VegaLite=ob.Vega=void 0;hc=v(Db(78));ob.Vega=hc.default;hc=v(Db(79));ob.VegaLite=hc.default;hc=v(Db(80));ob.createClassFromSpec=hc.default;var P=Db(82);Object.keys(P).forEach(function(jb){"default"!==jb&&"__esModule"!==jb&&(Object.prototype.hasOwnProperty.call(k,jb)||jb in ob&&ob[jb]===P[jb]||(ob[jb]=P[jb]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Dd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.kb="";g.set=function(a){this.kb=""+a};g.append=function(a,b,c){this.kb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.kb+=arguments[d];return this};g.clear=function(){this.kb=""};g.toString=function(){return this.kb};var qa={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Ib:c)?c.nb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.nb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):Ta(a,b)};Sa.D=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Ta(a,b,c)};Sa.$=3;function Ua(){}
function D(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):Za(a,b)};Ya.D=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Za(a,b,c)};Ya.$=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.lb)a=a.lb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.jc)a=a.jc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.Xc)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.Yc)a=a.R;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.zc)a=a.zc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.mb)a=a.mb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):sb(a,b)};rb.D=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):sb(a,b,c)};rb.$=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Db)a=a.Db(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.uc)a=a.uc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.hc)a=a.hc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Eb)a=a.Eb(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=Rb._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.aa=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.D(arguments[0],arguments[1],arguments[2]);case 4:return Rb.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rb.B=function(a,b){return null!=a&&null!=a.kc?a.kc(a,b):Sb(a,b)};
Rb.D=function(a,b,c){return null!=a&&null!=a.lc?a.lc(a,b,c):Sb(a,b,c)};Rb.T=function(a,b,c,d){return null!=a&&null!=a.mc?a.mc(a,b,c,d):Sb(a,b,c,d)};Rb.aa=function(a,b,c,d,e){return null!=a&&null!=a.nc?a.nc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.$=5;function Tb(){}function Ub(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}
function Vb(a){this.pd=a;this.F=1073741824;this.P=0}Vb.prototype.Ac=function(a,b){return this.pd.append(b)};function Wb(a){var b=new pa;a.ia(null,new Vb(b),va());return B.j(b)}var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}
function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;
function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.F&4194304||u===a.td))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Bb=a;this.name=b;this.jb=c;this._hash=d;this.Ya=e;this.F=2154168321;this.P=4096}g=gc.prototype;g.toString=function(){return this.jb};g.fa=function(a,b){return b instanceof gc?this.jb===b.jb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ha=function(){return this.Ya};g.ka=function(a,b){return new gc(this.Bb,this.name,this.jb,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))};g.Eb=function(){return this.name};g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,this.jb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ra;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.$=2;function ic(a){return null!=a?a.P&131072||u===a.ud?!0:a.P?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.ad))return a.ja(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.ub))return a.wa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.F&64||u===a.ub)?a.xa(null):(a=J(a))?a.xa(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.K(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.K=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};P.$=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Ab=b;this.bc=null;this.F=8388672;this.P=0}oc.prototype.ja=function(){return this};oc.prototype.wa=function(){return this.value};
oc.prototype.xa=function(){null==this.bc&&(this.bc=jc.j?jc.j(this.Ab):jc.call(null,this.Ab));return this.bc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.R=!1;this.F=32768;this.P=0}uc.prototype.fb=function(){return this.R};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.la(null);if(0===c)return b.N?b.N():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.N?b.N():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.F&2||u===a.Qc?!0:a.F?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.F&16||u===a.wc?!0:a.F?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.C=a;this.i=b}Gc.prototype.pa=function(){return this.i<this.C.length};Gc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Qa=function(){return new Gc(this.C,this.i)};g.ha=function(){return this.meta};g.va=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.la=function(){var a=this.C.length-this.i;return 0>a?0:a};g.ga=function(){return pc(this)};g.fa=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.ma=function(){return lc};g.qa=function(a,b){return Bc(this.C,b,this.C[this.i],this.i+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.i)};g.wa=function(){return this.C[this.i]};
g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):lc};g.ja=function(){return this.i<this.C.length?this:null};g.ka=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.oa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.N();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.K(arguments[0],arguments[1],c)}};Jc.N=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.K=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Jc.$=2;function R(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Qc))a=a.la(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.ad))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.wc))return a.ea(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.wc))return a.Aa(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Wc)?a.ya(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Wc)?a.ca(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.$=3;var W=function W(a){switch(arguments.length){case 3:return W.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.K(arguments[0],arguments[1],arguments[2],c)}};
W.D=function(a,b,c){return null!=a&&(a.F&512||u===a.Pc)?a.ab(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.K=function(a,b,c,d){for(;;)if(a=W.D(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.K(b,a,c,d)};W.$=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.K(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.K=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Oc.$=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Oc?!0:a.Bc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.I=a;this.meta=b;this.F=393217;this.P=0}g=Qc.prototype;g.ha=function(){return this.meta};g.ka=function(a,b){return new Qc(this.I,b)};g.Oc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.N=function(){return this.I.N?this.I.N():this.I.call(null)};g.j=function(a){return this.I.j?this.I.j(a):this.I.call(null,a)};g.B=function(a,b){return this.I.B?this.I.B(a,b):this.I.call(null,a,b)};g.D=function(a,b,c){return this.I.D?this.I.D(a,b,c):this.I.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.I.T?this.I.T(a,b,c,d):this.I.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.I.aa?this.I.aa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){return this.I.Na?this.I.Na(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};g.Oa=function(a,b,c,d,e,f,h){return this.I.Oa?this.I.Oa(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){return this.I.za?this.I.za(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){return this.I.Pa?this.I.Pa(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ca?this.I.Ca(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};g.Da=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Da?this.I.Da(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Ea?this.I.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.Fa?this.I.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.I.Ga?this.I.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.I.Ha?this.I.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.I.Ia?this.I.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.I.Ja?this.I.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.I.Ka?this.I.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.I.La?this.I.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.I.Ma?this.I.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Vc?Rc.Vc(this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.F&131072||u===a.Zc||(a.F?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.K(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.K=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Uc.$=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.F&8||u===a.rd?!0:a.F?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.F&4096||u===a.Ad?!0:a.F?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.F&16777216||u===a.yc?!0:a.F?!1:y(zb,a):y(zb,a)}function Zc(a){return null==a?!1:null!=a?a.F&1024||u===a.xd?!0:a.F?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.F&67108864||u===a.zd?!0:a.F?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.F&16384||u===a.Bd?!0:a.F?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.P&512||u===a.qd?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.F&1||u===a.sd?!0:a.F?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.F&512||u===a.Pc)?a.lb(null,b):y($a,a)?ab(a,b):H.D(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.N?a.N():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.N?b.N():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.F&524288||u===b.$c)?b.qa(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.F&524288||u===c.$c)?c.ra(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.N();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.K(arguments[0],arguments[1],c)}};rd.N=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.K=function(a,b,c){return Ga(rd,a+b,c)};
rd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};rd.$=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.K(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.K=function(a,b,c){return Ga(sd,a-b,c)};
sd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};sd.$=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.N();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.K(arguments[0],c)}};B.N=function(){return""};
B.j=function(a){return null==a?"":[a].join("")};B.K=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};B.$=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.O=e;this.F=65937646;this.P=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.xa(null)};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Lc(b,this.first,this.eb,this.count,this.O)};g.oa=function(a,b){return new Lc(this.meta,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.meta=a;this.F=65937614;this.P=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ga=function(){return qc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.wd||(b.F?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.ma=function(){return this};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null};g.xa=function(){return lc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new vd(b)};g.oa=function(a,b){return new Lc(this.meta,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.O=d;this.F=65929452;this.P=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.eb?null:J(this.eb)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};
g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new wd(b,this.first,this.eb,this.O)};g.oa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.F&64||u===b.ub)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Bb=a;this.name=b;this.Ra=c;this._hash=d;this.F=2153775105;this.P=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Ra)].join("")};g.fa=function(a,b){return b instanceof I?this.Ra===b.Ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))+2654435769|0};g.Eb=function(){return this.name};
g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,[":",B.j(this.Ra)].join(""))};function xd(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Fb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.jb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.$=2;function zd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.O=c;this.F=32374988;this.P=1}g=zd.prototype;g.toString=function(){return Wb(this)};
function Ad(a){null!=a.fn&&(a.s=a.fn.N?a.fn.N():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){this.ja(null);return null==this.s?null:O(this.s)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};
g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:N(this.s)};g.xa=function(){this.ja(null);return null!=this.s?kc(this.s):lc};g.ja=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new zd(b,function(){return c.ja(null)},this.O)};
g.oa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.cc=a;this.end=0;this.F=2;this.P=0}Bd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Bd.prototype.$a=function(){var a=new Cd(this.cc,0,this.end);this.cc=null;return a};Bd.prototype.la=function(){return this.end};function Cd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=Cd.prototype;g.la=function(){return this.end-this.off};
g.ea=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.uc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.C,this.off+1,this.end)};g.qa=function(a,b){return Bc(this.C,b,this.C[this.off],this.off+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.off)};function Dd(a,b,c,d){this.$a=a;this.Va=b;this.meta=c;this.O=d;this.F=31850732;this.P=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?null:yb(this.Va)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.wa=function(){return Sa(this.$a,0)};g.xa=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?lc:this.Va};g.ja=function(){return this};g.hc=function(){return this.$a};g.Rb=function(){return null==this.Va?lc:this.Va};g.ka=function(a,b){return b===this.meta?this:new Dd(this.$a,this.Va,b,this.O)};g.oa=function(a,b){return U(b,this)};g.vc=function(){return null==this.Va?null:this.Va};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.N?a.N():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Na?a.Na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=Va(m);if(7===b)return a.Oa?a.Oa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.za?a.za(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ca?a.Ca(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Da?a.Da(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Fa?a.Fa(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var ra=Va(da);if(18===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(ra);ra=Va(ra);if(19===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var $c=D(ra);Va(ra);if(20===b)return a.Ma?a.Ma(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,$c):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,$c);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Na?a.Na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Oa?a.Oa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.za?a.za(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=O(p);if(null==q)return a.Ca?a.Ca(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Da?a.Da(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ea?a.Ea(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Fa?a.Fa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,w,z,C,E,M);T=D(da);var ra=O(da);if(null==ra)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(ra);ra=O(ra);if(null==ra)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=ra;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.ba?(c=U(c,U(d,e)),d=b.$,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.ba(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.ba){var c=a.$,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.ba(b)}b=J(b);return null==b?a.N?a.N():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.ba){b=U(b,c);var d=a.$;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.ba(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.ba?(b=U(b,U(c,U(d,e))),c=a.$,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.ba(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.ba?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.$,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.ba(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.F&64||u===a.ub))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof qa||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.gd=a;this.F=393216;this.P=0},ta.prototype.ka=function(a,b){return new ta(b)},ta.prototype.ha=function(){return this.gd},ta.prototype.pa=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Ib=!0,ta.nb="cljs.core/t_cljs$core20121",ta.Ub=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Cb=Vd;this._next=a}Xd.prototype.pa=function(){this.Cb===Vd?(this.Cb=Wd,this._next=J(this._next)):this.Cb===this._next&&(this._next=O(this.Cb));return null!=this._next};Xd.prototype.next=function(){if(this.pa())return this.Cb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.$a(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ua=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=ae.prototype;
g.fa=function(a,b){return this===b};g.fb=function(){return this.state};g.ha=function(){return this.meta};g.oc=function(a,b){for(var c=J(this.ua),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ua=W.D(this.ua,b,c);return this};
g.Tb=function(a,b){return this.ua=Oc.B(this.ua,b)};g.ga=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ua&&a.oc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.D(arguments[0],arguments[1],arguments[2]);case 4:return ce.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.D=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.T=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.K=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};ce.$=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.D(arguments[0],arguments[1],arguments[2]);case 4:return de.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.N?b.N():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.$=2;k.ba=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.K=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.K(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ba=h.ba;f.N=e;f.j=d;f.B=c;f.K=h.K;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.$a(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.D=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.D(a,kc(d),kc(e)))}else d=null;return d},null)};de.T=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,de.T(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.K=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.K(e,d,Ic([c,b]))))};de.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};de.$=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.D(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.meta=a;this.count=b;this.R=c;this.next=d;this.O=null;this.F=32374988;this.P=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:null:this.next};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.R,this.R):b.call(null,this.R,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=1,c=this.R;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};
g.ra=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.R):b.call(null,c,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};g.wa=function(){return this.R};g.xa=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:lc:this.next};g.ja=function(){return this};
g.ka=function(a,b){return b===this.meta?this:new he(b,this.count,this.R,this.next)};g.oa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.N();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.N=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.P&4||u===a.Rc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.D=function(a,b,c){if(null!=a&&(a.P&4||u===a.Rc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.$=3;
function je(a,b,c){var d=W.D,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.D,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.da=a;this.C=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.da,Ea(a.C))}
function oe(a){a=a.G;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.C[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=qe.T?qe.T(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.C[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function te(a,b){return 0<=b&&b<a.G?se(a,b):re(b,a.G)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=ue.aa?ue.aa(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.C[k]=a}return h},ve=function ve(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=ve.D?ve.D(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.C[e]=a;return c}if(0===e)return null;c=ne(c);c.C[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
we.prototype.pa=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.C=se(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.N?b.N():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.O=f;this.F=167666463;this.P=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.G?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fc=u;g.ea=function(a,b){return te(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?se(this,b)[b&31]:c};
g.mb=function(a,b,c){if(0<=b&&b<this.G)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.oa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.G),"]"].join(""));};g.Qa=function(){return xe(this,0,this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};
g.vb=function(){return 0<this.G?this.ea(null,this.G-1):null};g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return pb(Kc,this.meta);if(1<this.G-oe(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.G-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===R(b))for(a=this.Qa(null),b=b.Qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.sb=function(){return new Be(this.G,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.ma=function(){return pb(Kc,this.meta)};g.qa=function(a,b){return ye(this,b,0,this.G)};
g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.G:!1};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.O)};
g.oa=function(a,b){if(32>this.G-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.C[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.C[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ea(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.K(c)};Le.K=function(a){return a instanceof K&&0===a.i?Ge(a.C,!Ba(a.C)):He(a)};Le.$=0;Le.ba=function(a){return this.K(J(a))};
function Me(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.O=null;this.F=32375020;this.P=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.vc()};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return ye(this.Ba,b,this.i+this.off,R(this.Ba))};g.ra=function(a,b,c){return ze(this.Ba,b,c,this.i+this.off,R(this.Ba))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Rb(null)};g.ja=function(){return this};
g.hc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.ka=function(a,b){return b===this.meta?this:Ne?Ne(this.Ba,this.node,this.i,this.off,b):Fe.call(null,this.Ba,this.node,this.i,this.off,b)};g.oa=function(a,b){return U(b,this)};
g.vc=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.O=e;this.F=167666463;this.P=139264}g=Oe.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.mb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.la(null)),"]"].join(""));b=this.meta;c=W.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.aa?Pe.aa(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Qa=function(){return null!=this.v&&u===this.v.fc?xe(this.v,this.start,this.end):new Xd(this)};g.ha=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(Kc,this.meta)};
g.qa=function(a,b){return null!=this.v&&u===this.v.fc?ye(this.v,b,this.start,this.end):xc(this,b)};g.ra=function(a,b,c){return null!=this.v&&u===this.v.fc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};
g.ja=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};g.ka=function(a,b){return b===this.meta?this:Pe.aa?Pe.aa(b,this.v,this.start,this.end,this.O):Pe.call(null,b,this.v,this.start,this.end,this.O)};g.oa=function(a,b){a=this.meta;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};
function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.da?b:new le(a,Ea(b.C))}function Ce(a){return new le({},Ea(a.C))}
function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.da,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Re.T?Re.T(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.da,b-5,d)}c.C[f]=a;return c};function Be(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Be.prototype;
g.yb=function(a,b){if(this.root.da){if(32>this.G-oe(this))this.tail[this.G&31]=b;else{a=new le(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.da,this.shift,a),this.root=new le(this.root.da,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Hb=function(){if(this.root.da){this.root.da=null;var a=this.G-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.da){if(0<=b&&b<a.G){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.da,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.da)return this.G;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.da)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ea(null,b):c};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Te(){this.F=2097152;this.P=0}Te.prototype.fa=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd(Zc(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.F&1048576||u===a.vd||(a.F?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.D(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.D(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.jb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].jb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.R=b;this.O=null;this.F=166619935;this.P=0}g=Ae.prototype;g.tb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.R);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.Aa(null,b,null)};g.ca=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.R;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.R:c};g.mb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.R],null)).mb(null,b,c)};g.ha=function(){return null};g.la=function(){return 2};g.Xc=function(){return this.key};g.Yc=function(){return this.R};g.vb=function(){return this.R};g.wb=function(){return new Y(null,1,5,Z,[this.key],null)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return null};
g.qa=function(a,b){return xc(this,b)};g.ra=function(a,b,c){return yc(this,b,c)};g.ab=function(a,b,c){return W.D(new Y(null,2,5,Z,[this.key,this.R],null),b,c)};g.lb=function(a,b){return 0===b||1===b};g.ja=function(){return new K([this.key,this.R],0,null)};g.ka=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.R],null),b)};g.oa=function(a,b){return new Y(null,3,5,Z,[this.key,this.R,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function Ie(a){return null!=a?a.F&2048||u===a.yd?!0:!1:!1}function Ze(a,b,c){this.C=a;this.i=b;this.Ya=c;this.F=32374990;this.P=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):null};g.la=function(){return(this.C.length-this.i)/2};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return new Ae(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Ze(this.C,this.i,b)};g.oa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.C=a;this.i=0;this.G=b}$e.prototype.pa=function(){return this.i<this.G};$e.prototype.next=function(){var a=new Ae(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.O=d;this.F=16647951;this.P=139268}g=v.prototype;g.tb=function(a,b){a=Ye(this.C,b);return-1===a?null:new Ae(this.C[a],this.C[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};
g.ca=function(a,b,c){a=Ye(this.C,b);return-1===a?c:this.C[a+1]};g.Db=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Qa=function(){return new $e(this.C,2*this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=rc(this)};
g.fa=function(a,b){if(Zc(b)&&!ad(b))if(a=this.C.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.ca(null,this.C[c],ed);if(d!==ed)if(P.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new cf(this.C.length,Ea(this.C))};g.ma=function(){return pb(Td,this.meta)};g.qa=function(a,b){return ld(this,b)};g.ra=function(a,b,c){return md(this,b,c)};
g.jc=function(a,b){if(0<=Ye(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.ma(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);P.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.ab=function(a,b,c){a=Ye(this.C,b);if(-1===a){if(this.G<df){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=Ea(this.C);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.lb=function(a,b){return-1!==Ye(this.C,b)};g.ja=function(){var a=this.C;return 0<=a.length-2?new Ze(a,0,null):null};
g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.C,this.O)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ra===b.Ra?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.zb={};this.pb=a;this.C=b;this.F=259;this.P=56}g=cf.prototype;g.la=function(){if(this.zb)return td(this.pb);throw Error("count after persistent!");};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.zb)return a=Ye(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.zb){if(Ie(b))return this.xb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.xb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Hb=function(){if(this.zb)return this.zb=!1,new v(null,td(this.pb),this.C,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.zb){a=Ye(this.C,b);if(-1===a){if(this.pb+2<=2*df)return this.pb+=2,this.C.push(b),this.C.push(c),this;a=kf.B?kf.B(this.pb,this.C):kf.call(null,this.pb,this.C);return Kb(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ca(null,a,null)};g.B=function(a,b){return this.ca(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.R=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.ob(b);a.C[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Mb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.C=a;this.i=0;this.Wa=this.Nb=null}qf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Nb=new Ae(b,c):null!=c?(b=Ub(c),b=b.pa()?this.Wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.pa=function(){var a=null!=this.Nb;return a?a:(a=null!=this.Wa)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Nb){var a=this.Nb;this.Nb=null;return a}if(null!=this.Wa)return a=this.Wa.next(),this.Wa.pa()||(this.Wa=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.da=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=rf.prototype;
g.ob=function(a){if(a===this.da)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.C,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};g.hb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.hb(a+5,b,c,d):ff(c,e)?f:d};
g.Ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.C.length){a=this.ob(a);b=a.C;f.R=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?uf.Ua(a,b+5,ec(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.C,2*k,b,2*(k+1),2*(l-k));f.R=!0;a=this.ob(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ua(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.R=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.ob(a);a.C[e]=null;a.C[k]=d;return a};
g.Ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?uf.Ta(a+5,ec(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.C,2*h,a,2*(h+1),2*(k-h));e.R=!0;return new rf(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Ta(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,d));e.R=!0;e=this.bitmap;k=this.C;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Jb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Jb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Lb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Lb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.C,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e)):this};g.Qa=function(){return new qf(this.C)};var uf=new rf(null,0,[]);function zf(a){this.C=a;this.i=0;this.Wa=null}
zf.prototype.pa=function(){for(var a=this.C.length;;){if(null!=this.Wa&&this.Wa.pa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Wa=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.pa())return this.Wa.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.da=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=vf.prototype;g.ob=function(a){return a===this.da?this:new vf(a,this.G,Ea(this.C))};
g.Kb=function(){return Af?Af(this.C):Bf.call(null,this.C)};g.Mb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Mb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.hb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.hb(a+5,b,c,d):d};g.Ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=of(this,a,h,uf.Ua(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ua(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new vf(null,this.G+1,mf(this.C,f,uf.Ta(a+5,b,c,d,e)));a=h.Ta(a+5,b,c,d,e);return a===h?this:new vf(null,this.G,mf(this.C,f,a))};g.Jb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Jb(a+5,b,c,d):d};
g.Lb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Lb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.G-1,mf(this.C,d,a));else d=new vf(null,this.G,mf(this.C,d,a));return d}return this};g.Qa=function(){return new zf(this.C)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.da=a;this.bb=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Df.prototype;g.ob=function(a){if(a===this.da)return this;var b=Array(2*(this.G+1));dd(this.C,0,b,0,2*this.G);return new Df(a,this.bb,this.G,b)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};
g.hb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?this.C[a+1]:d};
g.Ua=function(a,b,c,d,e,f){if(c===this.bb){b=Cf(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.C[b]=d,a.C[c]=e,f.R=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);dd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.R=!0;d=this.G+1;a===this.da?(this.C=b,this.G=d,a=this):a=new Df(this.da,this.bb,d,b);return a}return this.C[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ua(a,b,c,d,e,f)};
g.Ta=function(a,b,c,d,e){return b===this.bb?(a=Cf(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),dd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.R=!0,new Df(null,this.bb,this.G+1,b)):P.B(this.C[a+1],d)?this:new Df(null,this.bb,this.G,mf(this.C,a+1,d))):(new rf(null,1<<(this.bb>>>a&31),[null,this])).Ta(a,b,c,d,e)};g.Jb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?new Ae(this.C[a],this.C[a+1]):d};
g.Lb=function(a,b,c){a=Cf(this.C,this.G,c);return-1===a?this:1===this.G?null:new Df(null,this.bb,this.G-1,nf(this.C,td(a)))};g.Qa=function(){return new qf(this.C)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Ta(a,h,b,c,k).Ta(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ua(a,b,k,c,d,l).Ua(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.O=e;this.F=32374988;this.P=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Ef(b,this.nodes,this.i,this.s,this.O)};g.oa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Kb(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.O=e;this.F=32374988;this.P=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return N(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Gf(b,this.nodes,this.i,this.s,this.O)};g.oa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Kb(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.ta=a;this.Lc=b;this.seen=!1}
If.prototype.pa=function(){return!this.seen||this.Lc.pa()};If.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Ae(null,this.ta)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.sa=d;this.ta=e;this.O=f;this.F=16123663;this.P=139268}g=Jf.prototype;g.tb=function(a,b){return null==b?this.sa?new Ae(null,this.ta):null:null==this.root?null:this.root.Jb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.Db=function(a,b,c){a=this.sa?b.D?b.D(c,null,this.ta):b.call(null,c,null,this.ta):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Mb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Qa=function(){var a=this.root?Ub(this.root):Ud();return this.sa?new If(this.ta,a):a};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=rc(this)};g.fa=function(a,b){return Ve(this,b)};g.sb=function(){return new Kf(this.root,this.G,this.sa,this.ta)};
g.ma=function(){return pb(ef,this.meta)};g.jc=function(a,b){if(null==b)return this.sa?new Jf(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Lb(0,ec(b),b);return a===this.root?this:new Jf(this.meta,this.G-1,a,this.sa,this.ta,null)};
g.ab=function(a,b,c){if(null==b)return this.sa&&c===this.ta?this:new Jf(this.meta,this.sa?this.G:this.G+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Ta(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.meta,a.R?this.G+1:this.G,b,this.sa,this.ta,null)};g.lb=function(a,b){return null==b?this.sa:null==this.root?!1:this.root.hb(0,ec(b),b,ed)!==ed};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Kb():null;return this.sa?U(new Ae(null,this.ta),a):a}return null};
g.ka=function(a,b){return b===this.meta?this:new Jf(b,this.G,this.root,this.sa,this.ta,this.O)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.da={};this.root=a;this.count=b;this.sa=c;this.ta=d;this.F=259;this.P=56}function Lf(a,b,c){if(a.da){if(null==b)a.ta!==c&&(a.ta=c),a.sa||(a.count+=1,a.sa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ua(a.da,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.R&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.la=function(){if(this.da)return this.count;throw Error("count after persistent!");};
g.ya=function(a,b){return null==b?this.sa?this.ta:null:null==this.root?null:this.root.hb(0,ec(b),b)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.yb=function(a,b){a:if(this.da)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Hb=function(){if(this.da){this.da=null;var a=new Jf(null,this.count,this.root,this.sa,this.ta,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Mf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Mf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).key};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Mf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Mf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Mf.prototype[Da]=function(){return nc(this)};
function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Nf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).R};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Nf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Nf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Nf.prototype[Da]=function(){return nc(this)};
function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.K(c)};Of.K=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.$=0;Of.ba=function(a){return this.K(J(a))};function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.D(a,d,Rf);b=P.B(e,Rf)?b:W.D(b,d,e);c=O(c)}else return pb(b,Tc(a))}
function Sf(a){this.Ab=a}Sf.prototype.pa=function(){return this.Ab.pa()};Sf.prototype.next=function(){if(this.Ab.pa())return this.Ab.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.meta=a;this.cb=b;this.O=c;this.F=15077647;this.P=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};
g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){a=cb(this.cb,b);return x(a)?fb(a):c};g.Qa=function(){return new Sf(Ub(this.cb))};g.ha=function(){return this.meta};
g.la=function(){return Ma(this.cb)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=rc(this)};g.fa=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.sb=function(){return new Uf(Hb(this.cb))};g.ma=function(){return pb(Vf,this.meta)};g.zc=function(a,b){return new Tf(this.meta,eb(this.cb,b),null)};g.ja=function(){return af(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Tf(b,this.cb,this.O)};g.oa=function(a,b){return new Tf(this.meta,W.D(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};
var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.qb=a;this.P=136;this.F=259}g=Uf.prototype;g.yb=function(a,b){this.qb=Kb(this.qb,b,null);return this};g.Hb=function(){return new Tf(null,Jb(this.qb),null)};g.la=function(){return R(this.qb)};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return Ya(this.qb,b,ed)===ed?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.qb,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.qb,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Eb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.F&131072||u===b.Zc?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.D?eg.D(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Ib)return a.Ub(b);if(null!=a?a.F&2147483648||u===a.na||(a.F?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.T?fg.T(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.nb}()))return $f(b,Ic(["#object[",a.constructor.nb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.D(c,hg,dg),d.D?d.D(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ea(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Sc)?a.ma(null):(null!=a?a.F&4||u===a.Sc||(a.F?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.D(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.D(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=Zc(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.na=u;K.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.na=u;zd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.na=u;Ae.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.na=u;Ef.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.na=u;Ze.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.na=u;oc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.na=u;Me.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.na=u;
wd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.na=u;Jf.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.na=u;Gf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.na=u;Oe.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.na=u;Tf.prototype.ia=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.na=u;Dd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.na=u;ae.prototype.ia=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.na=u;Nf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.na=u;he.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.na=u;Y.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.na=u;vd.prototype.ia=function(a,b){return G(b,"()")};v.prototype.na=u;
v.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.na=u;Mf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.na=u;Lc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Tc||(a.Bc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.K(arguments[0],c)};
sg.K=function(a,b){b=Sd(b);var c=H.D(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Tc||(f.Bc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if(Zc(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.$=1;sg.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.T(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.za?Eg.za(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.J=b;this.fd=k;this.Xb=c;this.Zb=d;this.md=e;this.Yb=f;this.Qb=h;this.F=4194305;this.P=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.N=function(){var a=this.J.N?this.J.N():this.J.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.N?b.N():b.call(null)};g.j=function(a){var b=this.J.j?this.J.j(a):this.J.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.J.B?this.J.B(a,b):this.J.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.aa=function(a,b,c,d,e){var f=this.J.aa?this.J.aa(a,b,c,d,e):this.J.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.aa?h.aa(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){var h=this.J.Na?this.J.Na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Na?k.Na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Oa=function(a,b,c,d,e,f,h){var k=this.J.Oa?this.J.Oa(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Oa?l.Oa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){var l=this.J.za?this.J.za(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.za?m.za(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){var m=this.J.Pa?this.J.Pa(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Pa?n.Pa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){var n=this.J.Ca?this.J.Ca(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ca?p.Ca(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Da=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.J.Da?this.J.Da(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Da?q.Da(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.J.Ea?this.J.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ea?r.Ea(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.J.Fa?this.J.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Fa?w.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.J.Ga?this.J.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ga?z.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.J.Ha?this.J.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.Ha?C.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.J.Ia?this.J.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ia?E.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.J.Ja?this.J.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Ja?M.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.J.Ka?this.J.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Ka?T.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.J.La?this.J.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.La?da.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.J.Ma?this.J.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),ra=Ig(this,da);x(ra)||Fg(this.name,da);return ra.Ma?ra.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):ra.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var ra=Rd(this.J,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),$c=Ig(this,ra);x($c)||Fg(this.name,ra);return Rd($c,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.T(c.Zb,W,a,b);Bg(c.Yb,c.Zb,c.Qb,c.Xb)}function Ig(a,b){P.B(F(a.Qb),F(a.Xb))||Bg(a.Yb,a.Zb,a.Qb,a.Xb);var c=F(a.Yb);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.Xb,a.Zb,a.md,a.Yb,a.Qb,a.fd)}g.Eb=function(){return Ob(this.name)};g.Fb=function(){return Pb(this.name)};
g.ga=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"layer","layer",-1601820589),Sg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",
1499536964),Tg=new I(null,"displayName","displayName",-809144601),Ug=new I(null,"on-dispose","on-dispose",2105306360),Vg=new I(null,"data","data",-232669377),Wg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Xg=new I(null,"sigma","sigma",-63715703),Yg=new I(null,"spec","spec",347520401),Zg=new I(null,"aggregate","aggregate",1511468442),$g=new I(null,"constructor","constructor",-1953928811),ah=new I(null,"div.column","div.column",-1380853326),bh=new I(null,"actions","actions",
-812656882),ch=new I(null,"childContextTypes","childContextTypes",578717991),dh=new I(null,"transform","transform",1381301764),eh=new I(null,"field","field",-1302436500),fh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),gh=new I(null,"running","running",1554969103),hh=new I(null,"class","class",-2030961996),ih=new I(null,"description","description",-1428560544),jh=new I(null,"title","title",636505583),kh=new I(null,"on-click","on-click",1632826543),lh=new I(null,
"cljsLegacyRender","cljsLegacyRender",-1527295613),mh=new I(null,"color","color",1011675173),nh=new I(null,"stack","stack",-793405930),oh=new I(null,"as","as",1148689641),ph=new I(null,"reagentRender","reagentRender",-358306383),qh=new I(null,"name","name",1843675177),rh=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),sh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,
"default","default",-1987822328),th=new I("skier","joins-queue","skier/joins-queue",-1286647213),uh=new I(null,"no-cache","no-cache",1588056370),vh=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),wh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),xh=new I("lift","leaves","lift/leaves",-2138482165),yh=new I(null,"component-did-update","component-did-update",
-1468549173),zh=new I("sim","end-time","sim/end-time",-1849965709),Ah=new I(null,"reagent-render","reagent-render",-985383853),Bh=new I(null,"encoding","encoding",1728578272),Ch=new I(null,"function-components","function-components",1492814963),Dh=new I(null,"hierarchy","hierarchy",-1053470341),Eh=new I(null,"on-write","on-write",31519475),Fh=new I("skiers","skiing","skiers/skiing",-957605270),Gh=new I(null,"key","key",-1516042587),Hh=new I(null,"zero","zero",-858964576),Ih=new I("lift","ride-time",
"lift/ride-time",78775400),Jh=new I(null,"y","y",-1757859776),Kh=new I(null,"x","x",2099068185),Lh=new I(null,"t","t",-1397832519),Mh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Nh=new I(null,"scale","scale",-230427353),Oh=new I(null,"contextType","contextType",1033066077),Ph=new I("skiers","waiting","skiers/waiting",1070582748),Qh=new I(null,"mark","mark",-373816345),Rh=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Sh=new I(null,"getDerivedStateFromProps",
"getDerivedStateFromProps",-991834739),Th=new I(null,"validator","validator",-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Uh=new I(null,"display-name","display-name",694513143),Vh=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Wh=new I("slope","length","slope/length",1017254753),Xh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Yh=new I(null,"contextTypes","contextTypes",-2023853910),
tg=new I(null,"keyword-fn","keyword-fn",-64566675),Zh=new I(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),$h=new I(null,"unit","unit",375175175),ai=new I(null,"id","id",-1388402092),bi=new I(null,"$schema","$schema",1635092088),ci=new I(null,"component-will-unmount","component-will-unmount",-2058314698),di=new I("lift","chair-width","lift/chair-width",1126373462),ei=new I(null,"results","results",-1134170113),fi=new I(null,"className","className",-1983287057),gi=new I(null,"h1.title",
"h1.title",-2139952071),hi=new I("lift","chair-period","lift/chair-period",169813739),ii=new I(null,"events","events",1792552201),ji=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ki=new I(null,"parse-tag","parse-tag",1427313738),li=new I(null,"type","type",1174270348),mi=new I("skiers","speed","skiers/speed",88597428),ni=new I(null,"callback","callback",-705136228),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var oi={},pi;function qi(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var ri=aa.navigator||null;ri&&(ri.appVersion||"").indexOf("X11");oa("Android");qi();oa("iPad");oa("iPod");qi()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof qa||"undefined"===typeof sa||"undefined"===typeof oi||"undefined"===typeof pi)pi=function(b,c,d){this.f=b;this.Nc=c;this.hd=d;this.F=393216;this.P=0},pi.prototype.ka=function(b,c){return new pi(this.f,this.Nc,c)},pi.prototype.ha=function(){return this.hd},pi.Ib=!0,pi.nb="cljs.core.async/t_cljs$core$async23784",pi.Ub=function(b){return G(b,"cljs.core.async/t_cljs$core$async23784")};return new pi(a,!0,Td)})(function(){return null});var si={},ti={},ui=[];function vi(a,b){var c=ti[a];if(void 0!==c)return c;try{ui.push(a);var d=si[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};si[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,vi,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ui.pop()}return d.exports}vi.cache={};vi.resolve=function(a){return a};var wi=vi(2,{});function xi(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function yi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}()}
function zi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?xi(a,b,c):xi(a,b,yi(c));throw["Invalid match arg: ",B.j(b)].join("");}function Ai(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function Bi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var Ci={};var Di={},Ei="undefined"!==typeof window&&null!=window.document,Fi=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Gi(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Hi(a){if("string"===typeof a)return a;a=X(a);var b=Bi(a),c=J(b);b=N(c);c=O(c);return x(Fi.j?Fi.j(b):Fi.call(null,b))?a:Pd(B,b,de.B(Gi,c))}
function Ii(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.P&4096||u===a.xc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return Zc(c)?qh.j(c):null}();return x(b)?zi(B.j(b),"$","."):null}function Ji(a){return a instanceof I||a instanceof gc}
var Ki=function Ki(a){switch(arguments.length){case 0:return Ki.N();case 1:return Ki.j(arguments[0]);case 2:return Ki.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Ki.K(arguments[0],arguments[1],c)}};Ki.N=function(){return null};Ki.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Ji(b)?X(b):b:null},a),J(a)?Ai(a):null):Ji(a)?X(a):a};
Ki.B=function(a,b){return x(a)?x(b)?[B.j(Ki.j(a))," ",B.j(Ki.j(b))].join(""):Ki.j(a):Ki.j(b)};Ki.K=function(a,b,c){return Ga(Ki,Ki.B(a,b),c)};Ki.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Ki.$=2;var Li=!1;function Mi(a){if(Zc(a))try{var b=H.B(a,Gh)}catch(c){b=null}else b=null;return b}
function Ni(a){var b=Gh.j(Tc(a));if(x(b))return b;b=Mi(V(a,1,null));if(x(b))return b;b=V(a,0,null);switch(b instanceof I?b.Ra:null){case "\x3e":case "f\x3e":return Mi(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return null}};var Oi=0;function Pi(a){return setTimeout(a,16)}var Qi=Ei?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Pi}().bind(a)}():Pi;function Ri(a,b){return a.qc-b.qc}function Si(){return null}function Ti(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.N?d.N():d.call(null);c+=1}else return null}
function Ui(a,b,c){b.push(c);return a.schedule()}function Vi(){this.ac=!1}g=Vi.prototype;g.flush_after_render=function(){var a=this.Ob;if(null==a)return null;this.Ob=null;return Ti(a)};g.queue_render=function(a){null==this.Wb&&(this.Wb=[]);return Ui(this,this.Wb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ac)return null;this.ac=!0;return Qi.j?Qi.j(a):Qi.call(null,a)};g.flush_before_flush=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return Ti(a)};
g.flush_queues=function(){this.flush_before_flush();Si();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ac=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Pb&&(this.Pb=[]);return Ui(this,this.Pb,a)};g.add_after_render=function(a){null==this.Ob&&(this.Ob=[]);return Ui(this,this.Ob,a)};
g.flush_render=function(){var a=this.Wb;if(null==a)return null;this.Wb=null;a:{a.sort(Ri);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Wi=new Vi;function Xi(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Wi.queue_render(a)};function Yi(a){if(null!=a&&null!=a.nd)a=a.id;else{var b=Yi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Yi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Zi(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=Zi[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Zi._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function $i(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=$i[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=$i._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function aj(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=aj[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=aj._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var bj=function bj(a){switch(arguments.length){case 1:return bj.j(arguments[0]);case 2:return bj.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return bj.K(arguments[0],arguments[1],c)}};bj.j=function(a){return a};bj.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};bj.K=function(a,b,c){return Ga(bj,a,Jc.B(c,b))};
bj.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};bj.$=2;var cj;function dj(a,b){b.dc=null;a:{var c=cj;cj=b;try{var d=a.N?a.N():a.call(null);break a}finally{cj=c}d=void 0}a=b.dc;b.gb=!1;a:{c=b.rb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function ej(a){var b=cj;if(null!=b){var c=b.dc;null==c?b.dc=[a]:c.push(a)}}function fj(a,b,c){a.ua=W.D(a.ua,b,c);return a.tc=null}
function gj(a,b){a.ua=Oc.B(a.ua,b);return a.tc=null}function hj(a,b,c){var d=a.tc;d=null==d?a.tc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ua):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function ij(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=cj;cj=null;try{var e=d;break a}finally{cj=c}e=void 0}eg(e,a,b);return G(a,"]")}var jj=null;
function kj(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ua=d;this.F=2154201088;this.P=114690}g=kj.prototype;g.ia=function(a,b,c){return ij(b,c,"RAtom",new v(null,1,[mg,this.fb(null)],null))};g.ha=function(){return this.meta};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};g.Sa=function(a,b){a=this.state;this.state=b;null!=this.ua&&hj(this,a,b);return b};g.kc=function(a,b){return this.Sa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.lc=function(a,b,c){return this.Sa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.mc=function(a,b,c,d){return this.Sa(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this.state,c,d,e))};g.oc=function(a,b){hj(this,a,b)};g.Sb=function(a,b,c){return fj(this,b,c)};g.Tb=function(a,b){return gj(this,b)};g.ka=function(a,b){return new kj(this.state,b,this.validator,this.ua)};g.fb=function(){ej(this);return this.state};
var lj=function lj(a){switch(arguments.length){case 1:return lj.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return lj.K(arguments[0],c)}};lj.j=function(a){return new kj(a,null,null,null)};lj.K=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Th);return new kj(a,b,c,null)};lj.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};lj.$=1;
function mj(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=mj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=mj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function nj(a){this.f=a;this.state=null;this.gb=!0;this.Fc=!1;this.ec=this.Za=this.ua=this.rb=null;this.F=2153807872;this.P=114690}g=nj.prototype;g._peek_at=function(){var a=cj;cj=null;try{return this.fb(null)}finally{cj=a}};
g._handle_change=function(a,b,c){return b===c||this.gb?null:null==this.Za?(this.gb=!0,null==jj&&(jj=[],!1===Wi.ac&&Wi.schedule()),jj.push(this)):!0===this.Za?this._run(!1):this.Za.j?this.Za.j(this):this.Za.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.rb);this.rb=a;a=J(bj.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(bj.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.gb&&null!=this.rb?this._run(!0):null};g._try_capture=function(a){try{return this.ec=null,dj(a,this)}catch(b){return this.ec=this.state=a=b,this.gb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):dj(this.f,this);this.Fc||(this.state=a,null==this.ua||P.B(b,a)||hj(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Sg);var c=H.B(b,sh),d=H.B(b,Ug);b=H.B(b,uh);null!=a&&(this.Za=a);null!=c&&(this.kd=c);null!=d&&(this.Gc=d);return null!=b?this.Fc=b:null};g.ia=function(a,b,c){return ij(b,c,"Reaction",new v(null,1,[mg,this.fb(null)],null))};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.rb;this.Za=this.state=this.rb=null;this.gb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Gc&&this.Gc(a);a=this.Cd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Sa=function(a,b){a=this.state;this.state=b;this.kd(a,b);hj(this,a,b);return b};
g.kc=function(a,b){a=this.Sa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.lc=function(a,b,c){a=this.Sa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.mc=function(a,b,c,d){a=this.Sa;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this._peek_at(),c,d,e))};g.oc=function(a,b){hj(this,a,b)};g.Sb=function(a,b,c){return fj(this,b,c)};
g.Tb=function(a,b){a=Vc(this.ua);gj(this,b);return!a&&Vc(this.ua)&&null==this.Za?this.sc(null):null};g.fb=function(){var a=this.ec;if(null!=a)throw a;(a=null==cj)&&(oj.N?oj.N():oj.call(null));a&&null==this.Za?this.gb&&(a=this.state,this.state=this.f.N?this.f.N():this.f.call(null),null==this.ua||P.B(a,this.state)||hj(this,a,this.state)):(ej(this),this.gb&&this._run(!1));return this.state};
function oj(){for(;;){var a=jj;if(null==a)return null;jj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Si=oj;function pj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Sg);d=H.B(e,sh);e=H.B(e,Ug);b=new nj(b);b._set_opts(new v(null,3,[Sg,c,sh,d,Ug,e],null));return b}var qj=pj(null);
function rj(a,b){var c=sj,d=qj,e=dj(a,d);null!=d.rb&&(qj=pj(null),d._set_opts(c),d.f=a,d.Za=function(){return Xi.j?Xi.j(b):Xi.call(null,b)},b.cljsRatom=d);return e};var tj;function uj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.D(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function vj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.ib);return b}
function wj(a,b){for(;;){var c=a.ib,d=!0===a.bd?c.call(a,a):function(){var e=uj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return $i(b,d);if(gd(d))d=vj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return $i(f,Pd(Le,l,p))}m.$=0;m.ba=function(p){p=J(p);return n(p)};m.K=n;return m}()}(a,b,c,null,d):d,a.ib=d;else return d}}var sj=new v(null,1,[uh,!0],null);
function xj(a,b){switch(a instanceof I?a.Ra:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=Zc(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.dd;d=null!=d?d:c.dd=lj.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,uj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,uj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,uj(this,c))};case "shouldComponentUpdate":return function(c){var d=Li;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,uj(this,this.props),uj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,uj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,uj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,uj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&mj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var yj=new v(null,2,[Zh,null,Mh,null],null),zj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.T(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=zi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=Bi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Gi,b))});function Aj(a){return od(function(b,c,d){return W.D(b,yd.j(zj(c)),d)},Td,a)}
function Bj(a,b){var c=function(){var h=ph.j(a);return x(h)?h:Og.j(a)}(),d=null==ph.j(a),e=function(){var h=Tg.j(a);if(x(h))return h;h=Ii(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.D,n=xj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.K(f,Tg,e,Ic([lh,d,ph,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?rj(function(){a:{var l=tj;tj=h;try{var m=wj(h,b);break a}finally{tj=l}m=void 0}return m},h):k._run(!1)}]))}
function Cj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Dj(a,b){return Bj(Of.K(Ic([yj,Aj(a)])),b)}var Qf=new Y(null,5,5,Z,[ch,Yh,Oh,Sh,Wg],null);
function Ej(a,b){function c(k,l,m){wi.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.qc=Oi+=1;return this}a=Dj(a,b);b=Cj(Rd(Oc,a,Tg,rh,$g,Ic([Og,ph,Qf])));var d=Cj(Pf(a)),e=Tg.j(a),f=rh.j(a),h=$g.j(a);ka(c.prototype,wi.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(ph.j(a))&&(c.prototype.ib=ph.j(a));x(lh.j(a))&&(c.prototype.bd=lh.j(a));ka(c,wi.Component,d);x(e)&&(c.displayName=e,c.nb=e,c.Ub=function(k){return G(k,
e)});c.Ib=!0;return c.prototype.constructor=c}function Fj(a,b,c){a=Yi(a);return b[a]=c}
function Gj(a,b){for(;;){var c=b.ib,d=b.argv,e=Od(c,d);if(bd(e))return $i(a,e);if(gd(e))c=vj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return $i(f,Pd(Le,n,r))}p.$=0;p.ba=function(r){r=J(r);return q(r)};p.K=q;return p}()}(a,b,c,null,d,e):e,b.ib=c;else return e}}
function Hj(a,b){var c=b.argv,d=b.ib;b=wi.useState(0);V(b,0,null);var e=V(b,1,null),f=wi.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.qc=Oi+=1;k.constructor=d;k.ib=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");wi.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:mj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?rj(function(){a:{var k=tj;tj=h;try{var l=Gj(a,h);break a}finally{tj=k}l=void 0}return l},
h):b._run(!1)}function Ij(a,b){a=a.argv;b=b.argv;var c=!1===Li;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Jj(a,b){function c(e){return Hj(a,e)}var d=ia(b,Yi(a));if(x(d))return d;c.displayName=Ii(b);d=wi.memo(c,Ij);Fj(a,b,d);return d};var Kj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function Lj(a,b,c,d){var e=Sd(Td);e=H.B(e,Eh);if(a===document.activeElement&&id(Kj,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(!P.B(f,c))return Wi.add_after_render(function(){return Mj.j?Mj.j(d):Mj.call(null,d)});c=R(f)-a.selectionStart;c=R(b)-c;d.Vb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.Vb=b;a.value=b;return Pc(e)?e.j?e.j(b):e.call(null,b):null}
function Mj(a){if(x(a.pc)){a.Cc=!1;var b=a.cd,c=a.Vb,d=a.rc;return P.B(b,c)?null:Lj(d,b,c,a)}return null}function Nj(a,b,c){a.Vb=c.target.value;x(a.Cc)||(a.Cc=!0,Wi.add_after_render(function(){return Mj(a)}));return b.j?b.j(c):b.call(null,c)}
function Oj(a){var b=tj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.pc)||(b.pc=!0,b.Vb=c);x(b.Kc)||(b.Kc=Pc(e)?function(f){b.rc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.rc=f;return e.current=f}:function(f){return b.rc=f});b.cd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Nj(b,d,f)};a.ref=b.Kc}}
var Pj=new v(null,4,[Uh,"ReagentInput",yh,Mj,ci,function(a){return a.pc=null},Ah,function(a,b,c,d,e){Oj(c);return aj(e,a,b,c,d)}],null);var Qj={},Rj,Sj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Tj={"class":"className","for":"htmlFor",charset:"charSet"};function Uj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Vj(a,b,c){if(Ji(b)){var d=Uj(Tj,X(b));null==d?(d=Hi(b),b=X(b),b=Tj[b]=d):b=d}c=Wj.j?Wj.j(c):Wj.call(null,c);a[b]=c;return a}
function Wj(a){return"object"!==t(a)?a:Ji(a)?X(a):Zc(a)?od(Vj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}var Xj={};function Yj(a,b,c){if(Ji(b)){var d=Uj(Xj,X(b));null==d?(d=Hi(b),b=X(b),b=Xj[b]=d):b=d}c=Wj(c);a[b]=c;return a}
function Zj(a){return"object"!==t(a)?a:Ji(a)?X(a):Zc(a)?od(Yj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}
function ak(a,b,c,d,e){switch(R(b)-e){case 0:return wi.createElement(c,d);case 1:return wi.createElement(c,d,$i(a,V(b,e,null)));default:return wi.createElement.apply(null,od(function(f,h,k){h>=e&&f.push($i(a,k));return f},[c,d],b))}}function bk(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ed=d}function ck(a,b,c){var d=ia(a,Yi(c));null==d?vj(a)?a=Fj(c,a,a):(d=Tc(a),d=W.D(d,Ah,a),d=Ej(d,c),a=Fj(c,a,d)):a=d;c={};c.argv=b;b=Ni(b);null!=b&&(c.key=b);return wi.createElement(a,c)}
function dk(a,b,c,d){var e={};e.ib=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ni(b);null!=b&&(e.key=b);return wi.createElement(Jj(d,a),e)}function ek(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ck(a,b,c):dk(a,b,1,c)}var fk={};function gk(a,b){a=Uj(fk,b);if(null==a){var c=O(Xf(Sj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:zi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new bk(a,d,c,e);return fk[b]=a}return a}
function hk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||Zc(f),k=function(){var n=h?f:null;var p=hh.j(n);p=x(p)?W.D(n,hh,Ki.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==ai.j(p)?W.D(p,ai,q):p;if(x(n)){var r=W.D,w=Ki.B,z=hh.j(p);p=x(z)?z:fi.j(p);n=r.call(W,q,hh,w.call(Ki,n,p))}else n=q;n=x(a.ed)?Zj(n):Wj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Mi(f);var m=function(){var n=d.od;if(x(n))return n;n=Ej(Pj,d);return d.od=n}();return $i(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.K(Ic([x(l)?new v(null,1,[Gh,l],null):null,Tc(b)]))))}l=Mi(Tc(b));null!=l&&(k.key=l);return aj(d,b,e,k,c)}function ik(a,b){return Fa(de.B(function(c){return $i(b,c)},a))}
function jk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Ra:null){case "\x3e":return c=V(a,1,null),hk(new bk(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Mi(Tc(a));null!=e&&(d.key=e);return aj(b,a,c,d,3);case "f\x3e":return dk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||Zc(d),d=Wj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ni(a),null!=e&&(d.key=e),aj(b,a,wi.Fragment,d,c);default:if(Ji(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=hk(Zi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.D(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var kk=function(a){var b=og("G__"),c=x(Ch.j(a))?ek:ck,d=H.D(a,ki,gk);if("undefined"===typeof Ci||"undefined"===typeof Di||"undefined"===typeof Qj||"undefined"===typeof Rj)Rj=function(e,f,h,k,l){this.ld=e;this.id=f;this.Dc=h;this.$b=k;this.jd=l;this.F=393216;this.P=0},Rj.prototype.ka=function(e,f){return new Rj(this.ld,this.id,this.Dc,this.$b,f)},Rj.prototype.ha=function(){return this.jd},Rj.prototype.nd=function(){return this.id},Rj.prototype.Jc=function(e,f,h){return this.$b.D?this.$b.D(this,f,h):
this.$b.call(null,this,f,h)},Rj.prototype.Hc=function(e,f){e=this.Dc;return"object"!==t(f)?f:bd(f)?jk(f,this,e):(null==f?0:null!=f?f.F&64||u===f.ub||(f.F?0:y(Ua,f)):y(Ua,f))?ik(f,this):Ji(f)?X(f):(null!=f?f.F&2147483648||u===f.na||(f.F?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Rj.prototype.Ic=function(e,f,h,k,l){return ak(this,f,h,k,l)},Rj.Ib=!0,Rj.nb="reagent.impl.template/t_reagent$impl$template26403",Rj.Ub=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26403")};return new Rj(a,b,
c,d,Td)}(Td);var lk=vi(8,{});var mk=new ae(Td);function nk(a,b,c){var d=Li;Li=!0;try{lk.render(a.N?a.N():a.call(null),b,function(){var e=Li;Li=!1;try{return ce.T(mk,W,b,a),Wi.flush_after_render(),null!=c?c.N?c.N():c.call(null):null}finally{Li=e}})}finally{Li=d}};var ok=vi(83,{});function pk(a,b){this.Ec=a;this.Mc=b}pk.prototype.getKey=function(){return this.Ec};pk.prototype.getValue=function(){return this.Mc};pk.prototype.clone=function(){return new pk(this.Ec,this.Mc)};function qk(a){this.Xa=[];if(a)a:{if(a instanceof qk){var b=a.Xa;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.Xa;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.Xa.length){c=this.Xa;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.Xa;c.push(new pk(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Xa;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.Xa.length};g.clear=function(){la(this.Xa)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Xg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.D(Td,Dh,vg.N?vg.N():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Rh.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(th,function(a){return je(je(a,Fh,sk),Ph,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,mi),d=H.B(a,Wh);b=Sd(b);b=H.B(b,Lh);c=d/tk(c);return ke(je(je(a,ji,sk),Fh,tc),ii,Jc,new v(null,2,[Rh,th,Lh,b+c],null))});Jg(xh,function(a,b){var c=Sd(a),d=H.B(c,Ih),e=H.B(c,di);a=H.B(c,hi);b=Sd(b);b=H.B(b,Lh);var f=Ph.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Ph,sd,e),ji,rd,e);d=new v(null,2,[Rh,Mg,Lh,b+tk(d)],null);return ke(ke(c,ii,ie,ee(e,new he(null,-1,d,null))),ii,Jc,new v(null,2,[Rh,xh,Lh,b+a],null))});var uk;
a:for(var vk=[Wh,ji,Ih,ii,Fh,hi,zh,mi,di,Lh,Ph],wk=[3E3,0,new v(null,2,[Pg,300,Xg,30],null),new Y(null,1,5,Z,[new v(null,2,[Rh,xh,Lh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Xg,1,$h,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,5,[bi,"https://vega.github.io/schema/vega-lite/v5.json",ih,"A simple bar chart with embedded data.",Vg,new v(null,1,[qh,ei],null),dh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Fh,Ph,ji],null),oh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Rg,new Y(null,2,5,Z,[new v(null,2,[Qh,"line",Bh,new v(null,3,[Kh,new v(null,4,[eh,Lh,li,"quantitative",jh,"time",Nh,new v(null,1,[Hh,!1],null)],null),Jh,new v(null,3,[eh,"number-of-skiers",li,"quantitative",jh,"Number of skiers"],
null),mh,new v(null,1,[eh,"state"],null)],null)],null),new v(null,2,[Qh,new v(null,2,[li,"line",mh,"gray"],null),Bh,new v(null,2,[Kh,new v(null,2,[eh,Lh,li,"quantitative"],null),Jh,new v(null,2,[Zg,"sum",eh,"number-of-skiers"],null)],null)],null)],null)],null),Dk=new v(null,6,[bi,"https://vega.github.io/schema/vega-lite/v5.json",ih,"A simple bar chart with embedded data.",Vg,new v(null,1,[qh,ei],null),dh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Fh,Ph,ji],null),oh,new Y(null,2,5,Z,["state",
"number-of-skiers"],null)],null)],null),Qh,"bar",Bh,new v(null,3,[Kh,new v(null,4,[eh,Lh,li,"quantitative",jh,"time",Nh,new v(null,1,[Hh,!1],null)],null),Jh,new v(null,4,[eh,"number-of-skiers",li,"quantitative",nh,"normalize",jh,"Percentage of skiers"],null),mh,new v(null,1,[eh,"state"],null)],null)],null),Ek=lj.j(new v(null,1,[ei,new Y(null,1,5,Z,[uk],null)],null)),Fk=lj.j(new v(null,1,[gh,!0],null));
function Gk(){ce.B(Ek,function(a){var b=W.D,c=Jc.B,d=ei.j(a),e;a:for(e=ei.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=ii.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n);k.enqueue(Lh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Lh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.D;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,ii,n);e=e.B?e.B(f,h):
e.call(null,f,h);e=l.call(W,e,Lh,h.j?h.j(Lh):h.call(null,Lh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ei,He(c))})}function Hk(){return x(gh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[kh,function(){return ce.T(Fk,W,gh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[kh,function(){return ce.T(Fk,W,gh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Vh,new v(null,2,[li,"reset",kh,function(){be(Ek,new v(null,1,[ei,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[gh,!0],null))}],null),"Restart"],null)}
var Jk=new Y(null,1,5,Z,[function(){return new Y(null,4,5,Z,[vh,new Y(null,2,5,Z,[Xh,new Y(null,2,5,Z,[gi,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Xh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Xh,new Y(null,3,5,Z,[wh,new Y(null,2,5,Z,[ah,new Y(null,3,5,Z,[fh,ok.VegaLite,new v(null,3,[Yg,Ck,Vg,F(Ek),bh,!1],null)],null)],null),new Y(null,2,5,Z,[ah,new Y(null,3,5,Z,[fh,ok.VegaLite,new v(null,3,[Yg,Dk,Vg,F(Ek),bh,!1],null)],
null)],null)],null)],null)],null)}],null),Kk=document.getElementById("app");(function(a,b){oj();var c=Pc(kk)?new Y(null,2,5,Z,[kk,kk],null):new Y(null,2,5,Z,[kk,ni.j(kk)],null),d=V(c,0,null);c=V(c,1,null);nk(function(){return $i(d,Pc(a)?a.N?a.N():a.call(null):a)},b,c)})(Jk,Kk);(function Lk(){x(gh.j(F(Fk)))&&Gk();return setTimeout(Lk,100)})();
}).call(this);