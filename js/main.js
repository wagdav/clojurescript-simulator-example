var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(Fb,nb,zc,Ya){function u(){throw Error("setTimeout has not been defined");}function l(){throw Error("clearTimeout has not been defined");}function ja(Ab){if(yb===setTimeout)return setTimeout(Ab,0);if((yb===u||!yb)&&setTimeout)return yb=setTimeout,setTimeout(Ab,0);try{return yb(Ab,0)}catch(xb){try{return yb.call(null,Ab,0)}catch(qb){return yb.call(this,Ab,0)}}}function Za(Ab){if(wb===clearTimeout)return clearTimeout(Ab);if((wb===l||!wb)&&clearTimeout)return wb=clearTimeout,
clearTimeout(Ab);try{return wb(Ab)}catch(xb){try{return wb.call(null,Ab)}catch(qb){return wb.call(this,Ab)}}}function ub(){Yb&&Ba&&(Yb=!1,Ba.length?Qb=Ba.concat(Qb):bb=-1,Qb.length&&Wb())}function Wb(){if(!Yb){var Ab=ja(ub);Yb=!0;for(var xb=Qb.length;xb;){Ba=Qb;for(Qb=[];++bb<xb;)Ba&&Ba[bb].run();bb=-1;xb=Qb.length}Ba=null;Yb=!1;Za(Ab)}}function ec(Ab,xb){this.fun=Ab;this.array=xb}function Db(){}Fb=zc.exports={};try{var yb="function"===typeof setTimeout?setTimeout:u}catch(Ab){yb=u}try{var wb="function"===
typeof clearTimeout?clearTimeout:l}catch(Ab){wb=l}var Qb=[],Yb=!1,Ba,bb=-1;Fb.nextTick=function(Ab){var xb=Array(arguments.length-1);if(1<arguments.length)for(var qb=1;qb<arguments.length;qb++)xb[qb-1]=arguments[qb];Qb.push(new ec(Ab,xb));1!==Qb.length||Yb||ja(Wb)};ec.prototype.run=function(){this.fun.apply(null,this.array)};Fb.title="browser";Fb.browser=!0;Fb.env={};Fb.argv=[];Fb.version="";Fb.versions={};Fb.on=Db;Fb.addListener=Db;Fb.once=Db;Fb.off=Db;Fb.removeListener=Db;Fb.removeAllListeners=
Db;Fb.emit=Db;Fb.prependListener=Db;Fb.prependOnceListener=Db;Fb.listeners=function(Ab){return[]};Fb.binding=function(Ab){throw Error("process.binding is not supported");};Fb.cwd=function(){return"/"};Fb.chdir=function(Ab){throw Error("process.chdir is not supported");};Fb.umask=function(){return 0}};
shadow$provide[1]=function(Fb,nb,zc,Ya){function u(Z){if(null===Z||"object"!==typeof Z)return null;Z=Xa&&Z[Xa]||Z["@@iterator"];return"function"===typeof Z?Z:null}function l(Z,Fa,ma){this.props=Z;this.context=Fa;this.refs=fb;this.updater=ma||La}function ja(){}function Za(Z,Fa,ma){this.props=Z;this.context=Fa;this.refs=fb;this.updater=ma||La}function ub(){}function Wb(Z,Fa,ma){var na=ma.ref;return{$$typeof:xb,type:Z,key:Fa,ref:void 0!==na?na:null,props:ma}}function ec(Z,Fa){return Wb(Z.type,Fa,Z.props)}
function Db(Z){return"object"===typeof Z&&null!==Z&&Z.$$typeof===xb}function yb(Z){var Fa={"\x3d":"\x3d0",":":"\x3d2"};return"$"+Z.replace(/[=:]/g,function(ma){return Fa[ma]})}function wb(Z,Fa){return"object"===typeof Z&&null!==Z&&null!=Z.key?yb(""+Z.key):Fa.toString(36)}function Qb(Z){switch(Z.status){case "fulfilled":return Z.value;case "rejected":throw Z.reason;default:switch("string"===typeof Z.status?Z.then(ub,ub):(Z.status="pending",Z.then(function(Fa){"pending"===Z.status&&(Z.status="fulfilled",
Z.value=Fa)},function(Fa){"pending"===Z.status&&(Z.status="rejected",Z.reason=Fa)})),Z.status){case "fulfilled":return Z.value;case "rejected":throw Z.reason;}}throw Z;}function Yb(Z,Fa,ma,na,n){var F=typeof Z;if("undefined"===F||"boolean"===F)Z=null;var N=!1;if(null===Z)N=!0;else switch(F){case "bigint":case "string":case "number":N=!0;break;case "object":switch(Z.$$typeof){case xb:case qb:N=!0;break;case xa:return N=Z._init,Yb(N(Z._payload),Fa,ma,na,n)}}if(N)return n=n(Z),N=""===na?"."+wb(Z,0):
na,Rb(n)?(ma="",null!=N&&(ma=N.replace(ea,"$\x26/")+"/"),Yb(n,Fa,ma,"",function(B){return B})):null!=n&&(Db(n)&&(n=ec(n,ma+(null==n.key||Z&&Z.key===n.key?"":(""+n.key).replace(ea,"$\x26/")+"/")+N)),Fa.push(n)),1;N=0;var x=""===na?".":na+":";if(Rb(Z))for(var T=0;T<Z.length;T++)na=Z[T],F=x+wb(na,T),N+=Yb(na,Fa,ma,F,n);else if(T=u(Z),"function"===typeof T)for(Z=T.call(Z),T=0;!(na=Z.next()).done;)na=na.value,F=x+wb(na,T++),N+=Yb(na,Fa,ma,F,n);else if("object"===F){if("function"===typeof Z.then)return Yb(Qb(Z),
Fa,ma,na,n);Fa=String(Z);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===Fa?"object with keys {"+Object.keys(Z).join(", ")+"}":Fa)+"). If you meant to render a collection of children, use an array instead.");}return N}function Ba(Z,Fa,ma){if(null==Z)return Z;var na=[],n=0;Yb(Z,na,"","",function(F){return Fa.call(ma,F,n++)});return na}function bb(Z){if(-1===Z._status){var Fa=Z._result;Fa=Fa();Fa.then(function(ma){if(0===Z._status||-1===Z._status)Z._status=1,Z._result=
ma},function(ma){if(0===Z._status||-1===Z._status)Z._status=2,Z._result=ma});-1===Z._status&&(Z._status=0,Z._result=Fa)}if(1===Z._status)return Z._result.default;throw Z._result;}var Ab=nb(0);"use strict";var xb=Symbol.for("react.transitional.element"),qb=Symbol.for("react.portal");Fb=Symbol.for("react.fragment");nb=Symbol.for("react.strict_mode");zc=Symbol.for("react.profiler");var Cb=Symbol.for("react.consumer"),lb=Symbol.for("react.context"),mc=Symbol.for("react.forward_ref"),ua=Symbol.for("react.suspense"),
ha=Symbol.for("react.memo"),xa=Symbol.for("react.lazy"),Sa=Symbol.for("react.activity"),Xa=Symbol.iterator,La={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jb=Object.assign,fb={};l.prototype.isReactComponent={};l.prototype.setState=function(Z,Fa){if("object"!==typeof Z&&"function"!==typeof Z&&null!=Z)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");
this.updater.enqueueSetState(this,Z,Fa,"setState")};l.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};ja.prototype=l.prototype;var vb=Za.prototype=new ja;vb.constructor=Za;jb(vb,l.prototype);vb.isPureReactComponent=!0;var Rb=Array.isArray,Na={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty,ea=/\/+/g,Ja="function"===typeof reportError?reportError:function(Z){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var Fa=new window.ErrorEvent("error",
{bubbles:!0,cancelable:!0,message:"object"===typeof Z&&null!==Z&&"string"===typeof Z.message?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(Fa))return}else if("object"===typeof Ab&&"function"===typeof Ab.emit){Ab.emit("uncaughtException",Z);return}console.error(Z)};vb={map:Ba,forEach:function(Z,Fa,ma){Ba(Z,function(){Fa.apply(this,arguments)},ma)},count:function(Z){var Fa=0;Ba(Z,function(){Fa++});return Fa},toArray:function(Z){return Ba(Z,function(Fa){return Fa})||[]},only:function(Z){if(!Db(Z))throw Error("React.Children.only expected to receive a single React element child.");
return Z}};Ya.Activity=Sa;Ya.Children=vb;Ya.Component=l;Ya.Fragment=Fb;Ya.Profiler=zc;Ya.PureComponent=Za;Ya.StrictMode=nb;Ya.Suspense=ua;Ya.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Na;Ya.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return Na.H.useMemoCache(Z)}};Ya.cache=function(Z){return function(){return Z.apply(null,arguments)}};Ya.cacheSignal=function(){return null};Ya.cloneElement=function(Z,Fa,ma){if(null===Z||void 0===Z)throw Error("The argument must be a React element, but you passed "+
Z+".");var na=jb({},Z.props),n=Z.key;if(null!=Fa)for(F in void 0!==Fa.key&&(n=""+Fa.key),Fa)!U.call(Fa,F)||"key"===F||"__self"===F||"__source"===F||"ref"===F&&void 0===Fa.ref||(na[F]=Fa[F]);var F=arguments.length-2;if(1===F)na.children=ma;else if(1<F){for(var N=Array(F),x=0;x<F;x++)N[x]=arguments[x+2];na.children=N}return Wb(Z.type,n,na)};Ya.createContext=function(Z){Z={$$typeof:lb,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null};Z.Provider=Z;Z.Consumer={$$typeof:Cb,_context:Z};
return Z};Ya.createElement=function(Z,Fa,ma){var na,n={},F=null;if(null!=Fa)for(na in void 0!==Fa.key&&(F=""+Fa.key),Fa)U.call(Fa,na)&&"key"!==na&&"__self"!==na&&"__source"!==na&&(n[na]=Fa[na]);var N=arguments.length-2;if(1===N)n.children=ma;else if(1<N){for(var x=Array(N),T=0;T<N;T++)x[T]=arguments[T+2];n.children=x}if(Z&&Z.defaultProps)for(na in N=Z.defaultProps,N)void 0===n[na]&&(n[na]=N[na]);return Wb(Z,F,n)};Ya.createRef=function(){return{current:null}};Ya.forwardRef=function(Z){return{$$typeof:mc,
render:Z}};Ya.isValidElement=Db;Ya.lazy=function(Z){return{$$typeof:xa,_payload:{_status:-1,_result:Z},_init:bb}};Ya.memo=function(Z,Fa){return{$$typeof:ha,type:Z,compare:void 0===Fa?null:Fa}};Ya.startTransition=function(Z){var Fa=Na.T,ma={};Na.T=ma;try{var na=Z(),n=Na.S;null!==n&&n(ma,na);"object"===typeof na&&null!==na&&"function"===typeof na.then&&na.then(ub,Ja)}catch(F){Ja(F)}finally{null!==Fa&&null!==ma.types&&(Fa.types=ma.types),Na.T=Fa}};Ya.unstable_useCacheRefresh=function(){return Na.H.useCacheRefresh()};
Ya.use=function(Z){return Na.H.use(Z)};Ya.useActionState=function(Z,Fa,ma){return Na.H.useActionState(Z,Fa,ma)};Ya.useCallback=function(Z,Fa){return Na.H.useCallback(Z,Fa)};Ya.useContext=function(Z){return Na.H.useContext(Z)};Ya.useDebugValue=function(){};Ya.useDeferredValue=function(Z,Fa){return Na.H.useDeferredValue(Z,Fa)};Ya.useEffect=function(Z,Fa){return Na.H.useEffect(Z,Fa)};Ya.useEffectEvent=function(Z){return Na.H.useEffectEvent(Z)};Ya.useId=function(){return Na.H.useId()};Ya.useImperativeHandle=
function(Z,Fa,ma){return Na.H.useImperativeHandle(Z,Fa,ma)};Ya.useInsertionEffect=function(Z,Fa){return Na.H.useInsertionEffect(Z,Fa)};Ya.useLayoutEffect=function(Z,Fa){return Na.H.useLayoutEffect(Z,Fa)};Ya.useMemo=function(Z,Fa){return Na.H.useMemo(Z,Fa)};Ya.useOptimistic=function(Z,Fa){return Na.H.useOptimistic(Z,Fa)};Ya.useReducer=function(Z,Fa,ma){return Na.H.useReducer(Z,Fa,ma)};Ya.useRef=function(Z){return Na.H.useRef(Z)};Ya.useState=function(Z){return Na.H.useState(Z)};Ya.useSyncExternalStore=
function(Z,Fa,ma){return Na.H.useSyncExternalStore(Z,Fa,ma)};Ya.useTransition=function(){return Na.H.useTransition()};Ya.version="19.2.0"};
shadow$provide[3]=function(Fb,nb,zc,Ya){zc.exports=nb(1)};
shadow$provide[4]=function(Fb,nb,zc,Ya){function u(Na,U){var ea=Na.length;Na.push(U);a:for(;0<ea;){var Ja=ea-1>>>1,Z=Na[Ja];if(0<Za(Z,U))Na[Ja]=U,Na[ea]=Z,ea=Ja;else break a}}function l(Na){return 0===Na.length?null:Na[0]}function ja(Na){if(0===Na.length)return null;var U=Na[0],ea=Na.pop();if(ea!==U){Na[0]=ea;var Ja=0,Z=Na.length,Fa=Z>>>1;a:for(;Ja<Fa;){var ma=2*(Ja+1)-1,na=Na[ma],n=ma+1,F=Na[n];if(0>Za(na,ea))n<Z&&0>Za(F,na)?(Na[Ja]=F,Na[n]=ea,Ja=n):(Na[Ja]=na,Na[ma]=ea,Ja=ma);else if(n<Z&&0>Za(F,
ea))Na[Ja]=F,Na[n]=ea,Ja=n;else break a}}return U}function Za(Na,U){var ea=Na.sortIndex-U.sortIndex;return 0!==ea?ea:Na.id-U.id}function ub(Na){for(var U=l(bb);null!==U;){if(null===U.callback)ja(bb);else if(U.startTime<=Na)ja(bb),U.sortIndex=U.expirationTime,u(Ba,U);else break;U=l(bb)}}function Wb(Na){mc=!1;ub(Na);if(!lb)if(null!==l(Ba))lb=!0,Xa||(Xa=!0,vb());else{var U=l(bb);null!==U&&yb(Wb,U.startTime-Na)}}function ec(){return ua?!0:Ya.unstable_now()-fb<jb?!1:!0}function Db(){ua=!1;if(Xa){var Na=
Ya.unstable_now();fb=Na;var U=!0;try{a:{lb=!1;mc&&(mc=!1,xa(La),La=-1);Cb=!0;var ea=qb;try{b:{ub(Na);for(xb=l(Ba);null!==xb&&!(xb.expirationTime>Na&&ec());){var Ja=xb.callback;if("function"===typeof Ja){xb.callback=null;qb=xb.priorityLevel;var Z=Ja(xb.expirationTime<=Na);Na=Ya.unstable_now();if("function"===typeof Z){xb.callback=Z;ub(Na);U=!0;break b}xb===l(Ba)&&ja(Ba);ub(Na)}else ja(Ba);xb=l(Ba)}if(null!==xb)U=!0;else{var Fa=l(bb);null!==Fa&&yb(Wb,Fa.startTime-Na);U=!1}}break a}finally{xb=null,qb=
ea,Cb=!1}U=void 0}}finally{U?vb():Xa=!1}}}function yb(Na,U){La=ha(function(){Na(Ya.unstable_now())},U)}Ya.unstable_now=void 0;if("object"===typeof performance&&"function"===typeof performance.now){var wb=performance;Ya.unstable_now=function(){return wb.now()}}else{var Qb=Date,Yb=Qb.now();Ya.unstable_now=function(){return Qb.now()-Yb}}var Ba=[],bb=[],Ab=1,xb=null,qb=3,Cb=!1,lb=!1,mc=!1,ua=!1,ha="function"===typeof setTimeout?setTimeout:null,xa="function"===typeof clearTimeout?clearTimeout:null,Sa=
"undefined"!==typeof setImmediate?setImmediate:null,Xa=!1,La=-1,jb=5,fb=-1;if("function"===typeof Sa)var vb=function(){Sa(Db)};else if("undefined"!==typeof MessageChannel){Fb=new MessageChannel;var Rb=Fb.port2;Fb.port1.onmessage=Db;vb=function(){Rb.postMessage(null)}}else vb=function(){ha(Db,0)};Ya.unstable_IdlePriority=5;Ya.unstable_ImmediatePriority=1;Ya.unstable_LowPriority=4;Ya.unstable_NormalPriority=3;Ya.unstable_Profiling=null;Ya.unstable_UserBlockingPriority=2;Ya.unstable_cancelCallback=function(Na){Na.callback=
null};Ya.unstable_forceFrameRate=function(Na){0>Na||125<Na?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):jb=0<Na?Math.floor(1E3/Na):5};Ya.unstable_getCurrentPriorityLevel=function(){return qb};Ya.unstable_next=function(Na){switch(qb){case 1:case 2:case 3:var U=3;break;default:U=qb}var ea=qb;qb=U;try{return Na()}finally{qb=ea}};Ya.unstable_requestPaint=function(){ua=!0};Ya.unstable_runWithPriority=function(Na,U){switch(Na){case 1:case 2:case 3:case 4:case 5:break;
default:Na=3}var ea=qb;qb=Na;try{return U()}finally{qb=ea}};Ya.unstable_scheduleCallback=function(Na,U,ea){var Ja=Ya.unstable_now();"object"===typeof ea&&null!==ea?(ea=ea.delay,ea="number"===typeof ea&&0<ea?Ja+ea:Ja):ea=Ja;switch(Na){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1E4;break;default:Z=5E3}Z=ea+Z;Na={id:Ab++,callback:U,priorityLevel:Na,startTime:ea,expirationTime:Z,sortIndex:-1};ea>Ja?(Na.sortIndex=ea,u(bb,Na),null===l(Ba)&&Na===l(bb)&&(mc?(xa(La),La=-1):
mc=!0,yb(Wb,ea-Ja))):(Na.sortIndex=Z,u(Ba,Na),lb||Cb||(lb=!0,Xa||(Xa=!0,vb())));return Na};Ya.unstable_shouldYield=ec;Ya.unstable_wrapCallback=function(Na){var U=qb;return function(){var ea=qb;qb=U;try{return Na.apply(this,arguments)}finally{qb=ea}}}};
shadow$provide[6]=function(Fb,nb,zc,Ya){zc.exports=nb(4)};
shadow$provide[7]=function(Fb,nb,zc,Ya){function u(Db){var yb="https://react.dev/errors/"+Db;if(1<arguments.length){yb+="?args[]\x3d"+encodeURIComponent(arguments[1]);for(var wb=2;wb<arguments.length;wb++)yb+="\x26args[]\x3d"+encodeURIComponent(arguments[wb])}return"Minified React error #"+Db+"; visit "+yb+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}function ja(Db,yb,wb){var Qb=3<arguments.length&&void 0!==arguments[3]?
arguments[3]:null;return{$$typeof:Wb,key:null==Qb?null:""+Qb,children:Db,containerInfo:yb,implementation:wb}}function Za(Db,yb){if("font"===Db)return"";if("string"===typeof yb)return"use-credentials"===yb?yb:""}Fb=nb(3);var ub={d:{f:l,r:function(){throw Error(u(522));},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},Wb=Symbol.for("react.portal"),ec=Fb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;Ya.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ub;Ya.createPortal=
function(Db,yb){var wb=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!yb||1!==yb.nodeType&&9!==yb.nodeType&&11!==yb.nodeType)throw Error(u(299));return ja(Db,yb,null,wb)};Ya.flushSync=function(Db){var yb=ec.T,wb=ub.p;try{if(ec.T=null,ub.p=2,Db)return Db()}finally{ec.T=yb,ub.p=wb,ub.d.f()}};Ya.preconnect=function(Db,yb){"string"===typeof Db&&(yb?(yb=yb.crossOrigin,yb="string"===typeof yb?"use-credentials"===yb?yb:"":void 0):yb=null,ub.d.C(Db,yb))};Ya.prefetchDNS=function(Db){"string"===
typeof Db&&ub.d.D(Db)};Ya.preinit=function(Db,yb){if("string"===typeof Db&&yb&&"string"===typeof yb.as){var wb=yb.as,Qb=Za(wb,yb.crossOrigin),Yb="string"===typeof yb.integrity?yb.integrity:void 0,Ba="string"===typeof yb.fetchPriority?yb.fetchPriority:void 0;"style"===wb?ub.d.S(Db,"string"===typeof yb.precedence?yb.precedence:void 0,{crossOrigin:Qb,integrity:Yb,fetchPriority:Ba}):"script"===wb&&ub.d.X(Db,{crossOrigin:Qb,integrity:Yb,fetchPriority:Ba,nonce:"string"===typeof yb.nonce?yb.nonce:void 0})}};
Ya.preinitModule=function(Db,yb){if("string"===typeof Db)if("object"===typeof yb&&null!==yb){if(null==yb.as||"script"===yb.as){var wb=Za(yb.as,yb.crossOrigin);ub.d.M(Db,{crossOrigin:wb,integrity:"string"===typeof yb.integrity?yb.integrity:void 0,nonce:"string"===typeof yb.nonce?yb.nonce:void 0})}}else null==yb&&ub.d.M(Db)};Ya.preload=function(Db,yb){if("string"===typeof Db&&"object"===typeof yb&&null!==yb&&"string"===typeof yb.as){var wb=yb.as,Qb=Za(wb,yb.crossOrigin);ub.d.L(Db,wb,{crossOrigin:Qb,
integrity:"string"===typeof yb.integrity?yb.integrity:void 0,nonce:"string"===typeof yb.nonce?yb.nonce:void 0,type:"string"===typeof yb.type?yb.type:void 0,fetchPriority:"string"===typeof yb.fetchPriority?yb.fetchPriority:void 0,referrerPolicy:"string"===typeof yb.referrerPolicy?yb.referrerPolicy:void 0,imageSrcSet:"string"===typeof yb.imageSrcSet?yb.imageSrcSet:void 0,imageSizes:"string"===typeof yb.imageSizes?yb.imageSizes:void 0,media:"string"===typeof yb.media?yb.media:void 0})}};Ya.preloadModule=
function(Db,yb){if("string"===typeof Db)if(yb){var wb=Za(yb.as,yb.crossOrigin);ub.d.m(Db,{as:"string"===typeof yb.as&&"script"!==yb.as?yb.as:void 0,crossOrigin:wb,integrity:"string"===typeof yb.integrity?yb.integrity:void 0})}else ub.d.m(Db)};Ya.requestFormReset=function(Db){ub.d.r(Db)};Ya.unstable_batchedUpdates=function(Db,yb){return Db(yb)};Ya.useFormState=function(Db,yb,wb){return ec.H.useFormState(Db,yb,wb)};Ya.useFormStatus=function(){return ec.H.useHostTransitionStatus()};Ya.version="19.2.0"};
shadow$provide[9]=function(Fb,nb,zc,Ya){function u(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(l){console.error(l)}}u();zc.exports=nb(7)};
shadow$provide[10]=function(Fb,nb,zc,Ya){function u(b){var c="https://react.dev/errors/"+b;if(1<arguments.length){c+="?args[]\x3d"+encodeURIComponent(arguments[1]);for(var e=2;e<arguments.length;e++)c+="\x26args[]\x3d"+encodeURIComponent(arguments[e])}return"Minified React error #"+b+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(b){return!(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType)}function ja(b){var c=
b,e=b;if(b.alternate)for(;c.return;)c=c.return;else{b=c;do c=b,0!==(c.flags&4098)&&(e=c.return),b=c.return;while(b)}return 3===c.tag?e:null}function Za(b){if(13===b.tag){var c=b.memoizedState;null===c&&(b=b.alternate,null!==b&&(c=b.memoizedState));if(null!==c)return c.dehydrated}return null}function ub(b){if(31===b.tag){var c=b.memoizedState;null===c&&(b=b.alternate,null!==b&&(c=b.memoizedState));if(null!==c)return c.dehydrated}return null}function Wb(b){if(ja(b)!==b)throw Error(u(188));}function ec(b){var c=
b.alternate;if(!c){c=ja(b);if(null===c)throw Error(u(188));return c!==b?null:b}for(var e=b,k=c;;){var y=e.return;if(null===y)break;var J=y.alternate;if(null===J){k=y.return;if(null!==k){e=k;continue}break}if(y.child===J.child){for(J=y.child;J;){if(J===e)return Wb(y),b;if(J===k)return Wb(y),c;J=J.sibling}throw Error(u(188));}if(e.return!==k.return)e=y,k=J;else{for(var ya=!1,gb=y.child;gb;){if(gb===e){ya=!0;e=y;k=J;break}if(gb===k){ya=!0;k=y;e=J;break}gb=gb.sibling}if(!ya){for(gb=J.child;gb;){if(gb===
e){ya=!0;e=J;k=y;break}if(gb===k){ya=!0;k=J;e=y;break}gb=gb.sibling}if(!ya)throw Error(u(189));}}if(e.alternate!==k)throw Error(u(190));}if(3!==e.tag)throw Error(u(188));return e.stateNode.current===e?b:c}function Db(b){var c=b.tag;if(5===c||26===c||27===c||6===c)return b;for(b=b.child;null!==b;){c=Db(b);if(null!==c)return c;b=b.sibling}return null}function yb(b){if(null===b||"object"!==typeof b)return null;b=Am&&b[Am]||b["@@iterator"];return"function"===typeof b?b:null}function wb(b){if(null==b)return null;
if("function"===typeof b)return b.$$typeof===zn?null:b.displayName||b.name||null;if("string"===typeof b)return b;switch(b){case Gj:return"Fragment";case Sh:return"Profiler";case hj:return"StrictMode";case Hj:return"Suspense";case Qk:return"SuspenseList";case Il:return"Activity"}if("object"===typeof b)switch(b.$$typeof){case ij:return"Portal";case ni:return b.displayName||"Context";case Jl:return(b._context.displayName||"Context")+".Consumer";case Fh:var c=b.render;(b=b.displayName)||(b=c.displayName||
c.name||"",b=""!==b?"ForwardRef("+b+")":"ForwardRef");return b;case Rk:return c=b.displayName||null,null!==c?c:wb(b.type)||"Memo";case Ji:c=b._payload;b=b._init;try{return wb(b(c))}catch(e){}}return null}function Qb(b){return{current:b}}function Yb(b){0>oi||(b.current=Sk[oi],Sk[oi]=null,oi--)}function Ba(b,c){oi++;Sk[oi]=b.current;b.current=c}function bb(b,c){Ba(pi,c);Ba(nk,b);Ba(Th,null);switch(c.nodeType){case 9:case 11:b=(b=c.documentElement)?(b=b.namespaceURI)?Kl(b):0:0;break;default:if(b=c.tagName,
c=c.namespaceURI)c=Kl(c),b=Ll(c,b);else switch(b){case "svg":b=1;break;case "math":b=2;break;default:b=0}}Yb(Th);Ba(Th,b)}function Ab(){Yb(Th);Yb(nk);Yb(pi)}function xb(b){null!==b.memoizedState&&Ba(Tk,b);var c=Th.current,e=Ll(c,b.type);c!==e&&(Ba(nk,b),Ba(Th,e))}function qb(b){nk.current===b&&(Yb(Th),Yb(nk));Tk.current===b&&(Yb(Tk),Ml._currentValue=qi)}function Cb(b){if(void 0===Uk)try{throw Error();}catch(e){var c=e.stack.trim().match(/\n( *(at )?)/);Uk=c&&c[1]||"";Vk=-1<e.stack.indexOf("\n    at")?
" (\x3canonymous\x3e)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Uk+b+Vk}function lb(b,c){if(!b||Nl)return"";Nl=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var k={DetermineComponentFrameRoot:function(){try{if(c){var bd=function(){throw Error();};Object.defineProperty(bd.prototype,"props",{set:function(){throw Error();}});if("object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(bd,[])}catch(Sc){var Kc=Sc}Reflect.construct(b,[],bd)}else{try{bd.call()}catch(Sc){Kc=
Sc}b.call(bd.prototype)}}else{try{throw Error();}catch(Sc){Kc=Sc}(bd=b())&&"function"===typeof bd.catch&&bd.catch(function(){})}}catch(Sc){if(Sc&&Kc&&"string"===typeof Sc.stack)return[Sc.stack,Kc.stack]}return[null,null]}};k.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(k.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(k.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var J=k.DetermineComponentFrameRoot(),
ya=J[0],gb=J[1];if(ya&&gb){var dc=ya.split("\n"),Hc=gb.split("\n");for(y=k=0;k<dc.length&&!dc[k].includes("DetermineComponentFrameRoot");)k++;for(;y<Hc.length&&!Hc[y].includes("DetermineComponentFrameRoot");)y++;if(k===dc.length||y===Hc.length)for(k=dc.length-1,y=Hc.length-1;1<=k&&0<=y&&dc[k]!==Hc[y];)y--;for(;1<=k&&0<=y;k--,y--)if(dc[k]!==Hc[y]){if(1!==k||1!==y){do if(k--,y--,0>y||dc[k]!==Hc[y]){var Yc="\n"+dc[k].replace(" at new "," at ");b.displayName&&Yc.includes("\x3canonymous\x3e")&&(Yc=Yc.replace("\x3canonymous\x3e",
b.displayName));return Yc}while(1<=k&&0<=y)}break}}}finally{Nl=!1,Error.prepareStackTrace=e}return(e=b?b.displayName||b.name:"")?Cb(e):""}function mc(b,c){switch(b.tag){case 26:case 27:case 5:return Cb(b.type);case 16:return Cb("Lazy");case 13:return b.child!==c&&null!==c?Cb("Suspense Fallback"):Cb("Suspense");case 19:return Cb("SuspenseList");case 0:case 15:return lb(b.type,!1);case 11:return lb(b.type.render,!1);case 1:return lb(b.type,!0);case 31:return Cb("Activity");default:return""}}function ua(b){try{var c=
"",e=null;do c+=mc(b,e),e=b,b=b.return;while(b);return c}catch(k){return"\nError generating stack: "+k.message+"\n"+k.stack}}function ha(b){"function"===typeof Xg&&Bm(b);if(Qg&&"function"===typeof Qg.setStrictMode)try{Qg.setStrictMode(Ki,b)}catch(c){}}function xa(b){b>>>=0;return 0===b?32:31-(Wk(b)/Xk|0)|0}function Sa(b){var c=b&42;if(0!==c)return c;switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;
case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return b&261888;case 262144:case 524288:case 1048576:case 2097152:return b&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return b&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return b}}function Xa(b,c,e){var k=b.pendingLanes;if(0===k)return 0;var y=0,J=b.suspendedLanes,
ya=b.pingedLanes;b=b.warmLanes;var gb=k&134217727;0!==gb?(k=gb&~J,0!==k?y=Sa(k):(ya&=gb,0!==ya?y=Sa(ya):e||(e=gb&~b,0!==e&&(y=Sa(e))))):(gb=k&~J,0!==gb?y=Sa(gb):0!==ya?y=Sa(ya):e||(e=k&~b,0!==e&&(y=Sa(e))));return 0===y?0:0!==c&&c!==y&&0===(c&J)&&(J=y&-y,e=c&-c,J>=e||32===J&&0!==(e&4194048))?c:y}function La(b,c){return 0===(b.pendingLanes&~(b.suspendedLanes&~b.pingedLanes)&c)}function jb(b,c){switch(b){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fb(){var b=ok;ok<<=1;0===(ok&62914560)&&(ok=4194304);return b}function vb(b){for(var c=[],e=0;31>e;e++)c.push(b);return c}function Rb(b,c){b.pendingLanes|=c;268435456!==c&&(b.suspendedLanes=0,b.pingedLanes=0,b.warmLanes=0)}function Na(b,c,e,k,y,J){var ya=b.pendingLanes;b.pendingLanes=e;b.suspendedLanes=0;b.pingedLanes=0;b.warmLanes=
0;b.expiredLanes&=e;b.entangledLanes&=e;b.errorRecoveryDisabledLanes&=e;b.shellSuspendCounter=0;var gb=b.entanglements,dc=b.expirationTimes,Hc=b.hiddenUpdates;for(e=ya&~e;0<e;){var Yc=31-vh(e),bd=1<<Yc;gb[Yc]=0;dc[Yc]=-1;var Kc=Hc[Yc];if(null!==Kc)for(Hc[Yc]=null,Yc=0;Yc<Kc.length;Yc++){var Sc=Kc[Yc];null!==Sc&&(Sc.lane&=-536870913)}e&=~bd}0!==k&&U(b,k,0);0!==J&&0===y&&0!==b.tag&&(b.suspendedLanes|=J&~(ya&~c))}function U(b,c,e){b.pendingLanes|=c;b.suspendedLanes&=~c;var k=31-vh(c);b.entangledLanes|=
c;b.entanglements[k]=b.entanglements[k]|1073741824|e&261930}function ea(b,c){var e=b.entangledLanes|=c;for(b=b.entanglements;e;){var k=31-vh(e),y=1<<k;y&c|b[k]&c&&(b[k]|=c);e&=~y}}function Ja(b,c){var e=c&-c;e=0!==(e&42)?1:Z(e);return 0!==(e&(b.suspendedLanes|c))?0:e}function Z(b){switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=
128;break;case 268435456:b=134217728;break;default:b=0}return b}function Fa(b){b&=-b;return 2<b?8<b?0!==(b&134217727)?32:268435456:8:2}function ma(){var b=nf.p;if(0!==b)return b;b=window.event;return void 0===b?32:Ol(b.type)}function na(b,c){var e=nf.p;try{return nf.p=b,c()}finally{nf.p=e}}function n(b){delete b[Hg];delete b[Rg];delete b[Yk];delete b[An];delete b[Bn]}function F(b){var c=b[Hg];if(c)return c;for(var e=b.parentNode;e;){if(c=e[Li]||e[Hg]){e=c.alternate;if(null!==c.child||null!==e&&null!==
e.child)for(b=Cm(b);null!==b;){if(e=b[Hg])return e;b=Cm(b)}return c}b=e;e=b.parentNode}return null}function N(b){if(b=b[Hg]||b[Li]){var c=b.tag;if(5===c||6===c||13===c||31===c||26===c||27===c||3===c)return b}return null}function x(b){var c=b.tag;if(5===c||26===c||27===c||6===c)return b.stateNode;throw Error(u(33));}function T(b){var c=b[Pl];c||(c=b[Pl]={hoistableStyles:new Map,hoistableScripts:new Map});return c}function B(b){b[Ij]=!0}function A(b,c){Q(b,c);Q(b+"Capture",c)}function Q(b,c){Ql[b]=
c;for(b=0;b<c.length;b++)Dm.add(c[b])}function D(b){if(Rl.call(jj,b))return!0;if(Rl.call(Jj,b))return!1;if(Em.test(b))return jj[b]=!0;Jj[b]=!0;return!1}function E(b,c,e){if(D(c))if(null===e)b.removeAttribute(c);else{switch(typeof e){case "undefined":case "function":case "symbol":b.removeAttribute(c);return;case "boolean":var k=c.toLowerCase().slice(0,5);if("data-"!==k&&"aria-"!==k){b.removeAttribute(c);return}}b.setAttribute(c,""+e)}}function I(b,c,e){if(null===e)b.removeAttribute(c);else{switch(typeof e){case "undefined":case "function":case "symbol":case "boolean":b.removeAttribute(c);
return}b.setAttribute(c,""+e)}}function X(b,c,e,k){if(null===k)b.removeAttribute(e);else{switch(typeof k){case "undefined":case "function":case "symbol":case "boolean":b.removeAttribute(e);return}b.setAttributeNS(c,e,""+k)}}function Da(b){switch(typeof b){case "bigint":case "boolean":case "number":case "string":case "undefined":return b;case "object":return b;default:return""}}function S(b){var c=b.type;return(b=b.nodeName)&&"input"===b.toLowerCase()&&("checkbox"===c||"radio"===c)}function ia(b,c,
e){var k=Object.getOwnPropertyDescriptor(b.constructor.prototype,c);if(!b.hasOwnProperty(c)&&"undefined"!==typeof k&&"function"===typeof k.get&&"function"===typeof k.set){var y=k.get,J=k.set;Object.defineProperty(b,c,{configurable:!0,get:function(){return y.call(this)},set:function(ya){e=""+ya;J.call(this,ya)}});Object.defineProperty(b,c,{enumerable:k.enumerable});return{getValue:function(){return e},setValue:function(ya){e=""+ya},stopTracking:function(){b._valueTracker=null;delete b[c]}}}}function Ca(b){if(!b._valueTracker){var c=
S(b)?"checked":"value";b._valueTracker=ia(b,c,""+b[c])}}function Qa(b){if(!b)return!1;var c=b._valueTracker;if(!c)return!0;var e=c.getValue(),k="";b&&(k=S(b)?b.checked?"true":"false":b.value);b=k;return b!==e?(c.setValue(b),!0):!1}function Ra(b){b=b||("undefined"!==typeof document?document:void 0);if("undefined"===typeof b)return null;try{return b.activeElement||b.body}catch(c){return b.body}}function db(b){return b.replace(Fm,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function zb(b,
c,e,k,y,J,ya,gb){b.name="";null!=ya&&"function"!==typeof ya&&"symbol"!==typeof ya&&"boolean"!==typeof ya?b.type=ya:b.removeAttribute("type");if(null!=c)if("number"===ya){if(0===c&&""===b.value||b.value!=c)b.value=""+Da(c)}else b.value!==""+Da(c)&&(b.value=""+Da(c));else"submit"!==ya&&"reset"!==ya||b.removeAttribute("value");null!=c?Vb(b,ya,Da(c)):null!=e?Vb(b,ya,Da(e)):null!=k&&b.removeAttribute("value");null==y&&null!=J&&(b.defaultChecked=!!J);null!=y&&(b.checked=y&&"function"!==typeof y&&"symbol"!==
typeof y);null!=gb&&"function"!==typeof gb&&"symbol"!==typeof gb&&"boolean"!==typeof gb?b.name=""+Da(gb):b.removeAttribute("name")}function kb(b,c,e,k,y,J,ya,gb){null!=J&&"function"!==typeof J&&"symbol"!==typeof J&&"boolean"!==typeof J&&(b.type=J);if(null!=c||null!=e){if(!("submit"!==J&&"reset"!==J||void 0!==c&&null!==c)){Ca(b);return}e=null!=e?""+Da(e):"";c=null!=c?""+Da(c):e;gb||c===b.value||(b.value=c);b.defaultValue=c}k=null!=k?k:y;k="function"!==typeof k&&"symbol"!==typeof k&&!!k;b.checked=gb?
b.checked:!!k;b.defaultChecked=!!k;null!=ya&&"function"!==typeof ya&&"symbol"!==typeof ya&&"boolean"!==typeof ya&&(b.name=ya);Ca(b)}function Vb(b,c,e){"number"===c&&Ra(b.ownerDocument)===b||b.defaultValue===""+e||(b.defaultValue=""+e)}function Y(b,c,e,k){b=b.options;if(c){c={};for(var y=0;y<e.length;y++)c["$"+e[y]]=!0;for(e=0;e<b.length;e++)y=c.hasOwnProperty("$"+b[e].value),b[e].selected!==y&&(b[e].selected=y),y&&k&&(b[e].defaultSelected=!0)}else{e=""+Da(e);c=null;for(y=0;y<b.length;y++){if(b[y].value===
e){b[y].selected=!0;k&&(b[y].defaultSelected=!0);return}null!==c||b[y].disabled||(c=b[y])}null!==c&&(c.selected=!0)}}function Ha(b,c,e){null!=c&&(c=""+Da(c),c!==b.value&&(b.value=c),null==e)?b.defaultValue!==c&&(b.defaultValue=c):b.defaultValue=null!=e?""+Da(e):""}function Ub(b,c,e,k){if(null==c){if(null!=k){if(null!=e)throw Error(u(92));if(pk(k)){if(1<k.length)throw Error(u(93));k=k[0]}e=k}null==e&&(e="");c=e}e=Da(c);b.defaultValue=e;k=b.textContent;k===e&&""!==k&&null!==k&&(b.value=k);Ca(b)}function kc(b,
c){if(c){var e=b.firstChild;if(e&&e===b.lastChild&&3===e.nodeType){e.nodeValue=c;return}}b.textContent=c}function Zb(b,c,e){var k=0===c.indexOf("--");null==e||"boolean"===typeof e||""===e?k?b.setProperty(c,""):"float"===c?b.cssFloat="":b[c]="":k?b.setProperty(c,e):"number"!==typeof e||0===e||Gm.has(c)?"float"===c?b.cssFloat=e:b[c]=(""+e).trim():b[c]=e+"px"}function Pb(b,c,e){if(null!=c&&"object"!==typeof c)throw Error(u(62));b=b.style;if(null!=e){for(var k in e)!e.hasOwnProperty(k)||null!=c&&c.hasOwnProperty(k)||
(0===k.indexOf("--")?b.setProperty(k,""):"float"===k?b.cssFloat="":b[k]="");for(var y in c)k=c[y],c.hasOwnProperty(y)&&e[y]!==k&&Zb(b,y,k)}else for(var J in c)c.hasOwnProperty(J)&&Zb(b,J,c[J])}function Nb(b){if(-1===b.indexOf("-"))return!1;switch(b){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function tc(b){return Hm.test(""+b)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":
b}function Mc(){}function ra(b){b=b.target||b.srcElement||window;b.correspondingUseElement&&(b=b.correspondingUseElement);return 3===b.nodeType?b.parentNode:b}function Hb(b){var c=N(b);if(c&&(b=c.stateNode)){var e=b[Rg]||null;a:switch(b=c.stateNode,c.type){case "input":zb(b,e.value,e.defaultValue,e.defaultValue,e.checked,e.defaultChecked,e.type,e.name);c=e.name;if("radio"===e.type&&null!=c){for(e=b;e.parentNode;)e=e.parentNode;e=e.querySelectorAll('input[name\x3d"'+db(""+c)+'"][type\x3d"radio"]');
for(c=0;c<e.length;c++){var k=e[c];if(k!==b&&k.form===b.form){var y=k[Rg]||null;if(!y)throw Error(u(90));zb(k,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(c=0;c<e.length;c++)k=e[c],k.form===b.form&&Qa(k)}break a;case "textarea":Ha(b,e.value,e.defaultValue);break a;case "select":c=e.value,null!=c&&Y(b,!!e.multiple,c,!1)}}}function Va(b,c,e){if(Sl)return b(c,e);Sl=!0;try{return b(c)}finally{if(Sl=!1,null!==kj||null!==ri)if(Uh(),kj&&(c=kj,b=ri,ri=kj=null,Hb(c),
b))for(c=0;c<b.length;c++)Hb(b[c])}}function Bb(b,c){var e=b.stateNode;if(null===e)return null;var k=e[Rg]||null;if(null===k)return null;e=k[c];a:switch(c){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(k=!k.disabled)||(b=b.type,k=!("button"===b||"input"===b||"select"===b||"textarea"===b));b=!k;break a;default:b=
!1}if(b)return null;if(e&&"function"!==typeof e)throw Error(u(231,c,typeof e));return e}function Ib(){if(qk)return qk;var b,c=Zk,e=c.length,k,y="value"in Mi?Mi.value:Mi.textContent,J=y.length;for(b=0;b<e&&c[b]===y[b];b++);var ya=e-b;for(k=1;k<=ya&&c[e-k]===y[J-k];k++);return qk=y.slice(b,1<k?1-k:void 0)}function Eb(b){var c=b.keyCode;"charCode"in b?(b=b.charCode,0===b&&13===c&&(b=13)):b=c;10===b&&(b=13);return 32<=b||13===b?b:0}function Xb(){return!0}function jc(){return!1}function rc(b){function c(e,
k,y,J,ya){this._reactName=e;this._targetInst=y;this.type=k;this.nativeEvent=J;this.target=ya;this.currentTarget=null;for(var gb in b)b.hasOwnProperty(gb)&&(e=b[gb],this[gb]=e?e(J):J[gb]);this.isDefaultPrevented=(null!=J.defaultPrevented?J.defaultPrevented:!1===J.returnValue)?Xb:jc;this.isPropagationStopped=jc;return this}Rf(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=
!1),this.isDefaultPrevented=Xb)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xb)},persist:function(){},isPersistent:Xb});return c}function ad(b){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(b):(b=Tl[b])?!!c[b]:!1}function Lc(){return ad}function oa(b,c){switch(b){case "keyup":return-1!==Cn.indexOf(c.keyCode);case "keydown":return 229!==c.keyCode;case "keypress":case "mousedown":case "focusout":return!0;
default:return!1}}function Ma(b){b=b.detail;return"object"===typeof b&&"data"in b?b.data:null}function ib(b,c){switch(b){case "compositionend":return Ma(c);case "keypress":if(32!==c.which)return null;Ul=!0;return Vl;case "textInput":return b=c.data,b===Vl&&Ul?null:b;default:return null}}function V(b,c){if(si)return"compositionend"===b||!Wl&&oa(b,c)?(b=Ib(),qk=Zk=Mi=null,si=!1,b):null;switch(b){case "paste":return null;case "keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&
1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case "compositionend":return Xl&&"ko"!==c.locale?null:c.data;default:return null}}function w(b){var c=b&&b.nodeName&&b.nodeName.toLowerCase();return"input"===c?!!rk[b.type]:"textarea"===c?!0:!1}function da(b,c,e,k){kj?ri?ri.push(k):ri=[k]:kj=k;c=sk(c,"onChange");0<c.length&&(e=new $k("onChange","change",null,e,k),b.push({event:e,listeners:c}))}function Aa(b){of(b,0)}function Ia(b){var c=x(b);if(Qa(c))return b}
function Wa(b,c){if("change"===b)return c}function ob(){Kj&&(Kj.detachEvent("onpropertychange",Sb),ti=Kj=null)}function Sb(b){if("value"===b.propertyName&&Ia(ti)){var c=[];da(c,ti,b,ra(b));Va(Aa,c)}}function Gb(b,c,e){"focusin"===b?(ob(),Kj=c,ti=e,Kj.attachEvent("onpropertychange",Sb)):"focusout"===b&&ob()}function Ob(b){if("selectionchange"===b||"keyup"===b||"keydown"===b)return Ia(ti)}function vc(b,c){if("click"===b)return Ia(c)}function Bc(b,c){if("input"===b||"change"===b)return Ia(c)}function Ic(b,
c){return b===c&&(0!==b||1/b===1/c)||b!==b&&c!==c}function id(b,c){if(jh(b,c))return!0;if("object"!==typeof b||null===b||"object"!==typeof c||null===c)return!1;var e=Object.keys(b),k=Object.keys(c);if(e.length!==k.length)return!1;for(k=0;k<e.length;k++){var y=e[k];if(!Rl.call(c,y)||!jh(b[y],c[y]))return!1}return!0}function dd(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Uc(b,c){var e=dd(b);b=0;for(var k;e;){if(3===e.nodeType){k=b+e.textContent.length;if(b<=c&&k>=c)return{node:e,offset:c-
b};b=k}a:{for(;e;){if(e.nextSibling){e=e.nextSibling;break a}e=e.parentNode}e=void 0}e=dd(e)}}function kd(b,c){return b&&c?b===c?!0:b&&3===b.nodeType?!1:c&&3===c.nodeType?kd(b,c.parentNode):"contains"in b?b.contains(c):b.compareDocumentPosition?!!(b.compareDocumentPosition(c)&16):!1:!1}function ld(b){b=null!=b&&null!=b.ownerDocument&&null!=b.ownerDocument.defaultView?b.ownerDocument.defaultView:window;for(var c=Ra(b.document);c instanceof b.HTMLIFrameElement;){try{var e="string"===typeof c.contentWindow.location.href}catch(k){e=
!1}if(e)b=c.contentWindow;else break;c=Ra(b.document)}return c}function ed(b){var c=b&&b.nodeName&&b.nodeName.toLowerCase();return c&&("input"===c&&("text"===b.type||"search"===b.type||"tel"===b.type||"url"===b.type||"password"===b.type)||"textarea"===c||"true"===b.contentEditable)}function ge(b,c,e){var k=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;al||null==lj||lj!==Ra(k)||(k=lj,"selectionStart"in k&&ed(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||
window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),tk&&id(tk,k)||(tk=k,k=sk(bl,"onSelect"),0<k.length&&(c=new $k("onSelect","select",null,c,e),b.push({event:c,listeners:k}),c.target=lj)))}function gd(b,c){var e={};e[b.toLowerCase()]=c.toLowerCase();e["Webkit"+b]="webkit"+c;e["Moz"+b]="moz"+c;return e}function z(b){if(Gh[b])return Gh[b];if(!kh[b])return b;var c=kh[b],e;for(e in c)if(c.hasOwnProperty(e)&&e in mj)return Gh[b]=
c[e];return b}function K(b,c){Ni.set(b,c);A(c,[b])}function va(){for(var b=Lj,c=Yl=Lj=0;c<b;){var e=Hh[c];Hh[c++]=null;var k=Hh[c];Hh[c++]=null;var y=Hh[c];Hh[c++]=null;var J=Hh[c];Hh[c++]=null;if(null!==k&&null!==y){var ya=k.pending;null===ya?y.next=y:(y.next=ya.next,ya.next=y);k.pending=y}0!==J&&wa(e,y,J)}}function v(b,c,e,k){Hh[Lj++]=b;Hh[Lj++]=c;Hh[Lj++]=e;Hh[Lj++]=k;Yl|=k;b.lanes|=k;b=b.alternate;null!==b&&(b.lanes|=k)}function R(b,c,e,k){v(b,c,e,k);return pa(b)}function ca(b,c){v(b,null,null,
c);return pa(b)}function wa(b,c,e){b.lanes|=e;var k=b.alternate;null!==k&&(k.lanes|=e);for(var y=!1,J=b.return;null!==J;)J.childLanes|=e,k=J.alternate,null!==k&&(k.childLanes|=e),22===J.tag&&(b=J.stateNode,null===b||b._visibility&1||(y=!0)),b=J,J=J.return;return 3===b.tag?(J=b.stateNode,y&&null!==c&&(y=31-vh(e),b=J.hiddenUpdates,k=b[y],null===k?b[y]=[c]:k.push(c),c.lane=e|536870912),J):null}function pa(b){if(50<Zl)throw Zl=0,Dn=null,Error(u(185));for(var c=b.return;null!==c;)b=c,c=b.return;return 3===
b.tag?b.stateNode:null}function eb(b,c,e,k){this.tag=b;this.key=e;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.refCleanup=this.ref=null;this.pendingProps=c;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=k;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Lb(b,c,e,k){return new eb(b,c,e,k)}function $b(b){b=b.prototype;return!(!b||!b.isReactComponent)}
function hc(b,c){var e=b.alternate;null===e?(e=Lb(b.tag,c,b.key,b.mode),e.elementType=b.elementType,e.type=b.type,e.stateNode=b.stateNode,e.alternate=b,b.alternate=e):(e.pendingProps=c,e.type=b.type,e.flags=0,e.subtreeFlags=0,e.deletions=null);e.flags=b.flags&65011712;e.childLanes=b.childLanes;e.lanes=b.lanes;e.child=b.child;e.memoizedProps=b.memoizedProps;e.memoizedState=b.memoizedState;e.updateQueue=b.updateQueue;c=b.dependencies;e.dependencies=null===c?null:{lanes:c.lanes,firstContext:c.firstContext};
e.sibling=b.sibling;e.index=b.index;e.ref=b.ref;e.refCleanup=b.refCleanup;return e}function Ec(b,c){b.flags&=65011714;var e=b.alternate;null===e?(b.childLanes=0,b.lanes=c,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=e.childLanes,b.lanes=e.lanes,b.child=e.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=e.memoizedProps,b.memoizedState=e.memoizedState,b.updateQueue=e.updateQueue,b.type=e.type,c=
e.dependencies,b.dependencies=null===c?null:{lanes:c.lanes,firstContext:c.firstContext});return b}function Pc(b,c,e,k,y,J){var ya=0;k=b;if("function"===typeof b)$b(b)&&(ya=1);else if("string"===typeof b)ya=cl(b,e,Th.current)?26:"html"===b||"head"===b||"body"===b?27:5;else a:switch(b){case Il:return b=Lb(31,e,c,y),b.elementType=Il,b.lanes=J,b;case Gj:return Nc(e.children,y,J,c);case hj:ya=8;y|=24;break;case Sh:return b=Lb(12,e,c,y|2),b.elementType=Sh,b.lanes=J,b;case Hj:return b=Lb(13,e,c,y),b.elementType=
Hj,b.lanes=J,b;case Qk:return b=Lb(19,e,c,y),b.elementType=Qk,b.lanes=J,b;default:if("object"===typeof b&&null!==b)switch(b.$$typeof){case ni:ya=10;break a;case Jl:ya=9;break a;case Fh:ya=11;break a;case Rk:ya=14;break a;case Ji:ya=16;k=null;break a}ya=29;e=Error(u(130,null===b?"null":typeof b,""));k=null}c=Lb(ya,e,c,y);c.elementType=b;c.type=k;c.lanes=J;return c}function Nc(b,c,e,k){b=Lb(7,b,k,c);b.lanes=e;return b}function md(b,c,e){b=Lb(6,b,null,c);b.lanes=e;return b}function td(b){var c=Lb(18,
null,null,0);c.stateNode=b;return c}function yd(b,c,e){c=Lb(4,null!==b.children?b.children:[],b.key,c);c.lanes=e;c.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation};return c}function Md(b,c){if("object"===typeof b&&null!==b){var e=Im.get(b);if(void 0!==e)return e;c={value:b,source:c,stack:ua(c)};Im.set(b,c);return c}return{value:b,source:c,stack:ua(c)}}function Ad(b,c){Mj[Nj++]=uk;Mj[Nj++]=dl;dl=b;uk=c}function je(b,c,e){Ih[Ig++]=lh;Ih[Ig++]=Mf;Ih[Ig++]=
Yg;Yg=b;var k=lh;b=Mf;var y=32-vh(k)-1;k&=~(1<<y);e+=1;var J=32-vh(c)+y;if(30<J){var ya=y-y%5;J=(k&(1<<ya)-1).toString(32);k>>=ya;y-=ya;lh=1<<32-vh(c)+y|e<<y|k;Mf=J+b}else lh=1<<J|e<<y|k,Mf=b}function Me(b){null!==b.return&&(Ad(b,1),je(b,1,0))}function Qe(b){for(;b===dl;)dl=Mj[--Nj],Mj[Nj]=null,uk=Mj[--Nj],Mj[Nj]=null;for(;b===Yg;)Yg=Ih[--Ig],Ih[Ig]=null,Mf=Ih[--Ig],Ih[Ig]=null,lh=Ih[--Ig],Ih[Ig]=null}function Re(b,c){Ih[Ig++]=lh;Ih[Ig++]=Mf;Ih[Ig++]=Yg;lh=c.id;Mf=c.overflow;Yg=b}function He(b){var c=
Error(u(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML",""));zd(Md(c,b));throw vk;}function De(b){var c=b.stateNode,e=b.type,k=b.memoizedProps;c[Hg]=b;c[Rg]=k;switch(e){case "dialog":ae("cancel",c);ae("close",c);break;case "iframe":case "object":case "embed":ae("load",c);break;case "video":case "audio":for(e=0;e<$l.length;e++)ae($l[e],c);break;case "source":ae("error",c);break;case "img":case "image":case "link":ae("error",c);ae("load",c);break;case "details":ae("toggle",
c);break;case "input":ae("invalid",c);kb(c,k.value,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name,!0);break;case "select":ae("invalid",c);break;case "textarea":ae("invalid",c),Ub(c,k.value,k.defaultValue,k.children)}e=k.children;"string"!==typeof e&&"number"!==typeof e&&"bigint"!==typeof e||c.textContent===""+e||!0===k.suppressHydrationWarning||wk(c.textContent,e)?(null!=k.popover&&(ae("beforetoggle",c),ae("toggle",c)),null!=k.onScroll&&ae("scroll",c),null!=k.onScrollEnd&&ae("scrollend",
c),null!=k.onClick&&(c.onclick=Mc),c=!0):c=!1;c||He(b,!0)}function Ie(b){for(yg=b.return;yg;)switch(yg.tag){case 5:case 31:case 13:mh=!1;return;case 27:case 3:mh=!0;return;default:yg=yg.return}}function ke(b){if(b!==yg)return!1;if(!Te)return Ie(b),Te=!0,!1;var c=b.tag,e;if(e=3!==c&&27!==c){if(e=5===c)e=b.type,e=!("form"!==e&&"button"!==e)||am(b.type,b.memoizedProps);e=!e}e&&Sf&&He(b);Ie(b);if(13===c){b=b.memoizedState;b=null!==b?b.dehydrated:null;if(!b)throw Error(u(317));Sf=Jm(b)}else if(31===c){b=
b.memoizedState;b=null!==b?b.dehydrated:null;if(!b)throw Error(u(317));Sf=Jm(b)}else 27===c?(c=Sf,"head"===b.type?(b=En,En=null,Sf=b):Sf=c):Sf=yg?Jh(b.stateNode.nextSibling):null;return!0}function oe(){Sf=yg=null;Te=!1}function xe(){var b=Oi;null!==b&&(null===Kh?Kh=b:Kh.push.apply(Kh,b),Oi=null);return b}function zd(b){null===Oi?Oi=[b]:Oi.push(b)}function Jf(b,c,e){Ba(el,c._currentValue);c._currentValue=e}function Xe(b){b._currentValue=el.current;Yb(el)}function $e(b,c,e){for(;null!==b;){var k=b.alternate;
(b.childLanes&c)!==c?(b.childLanes|=c,null!==k&&(k.childLanes|=c)):null!==k&&(k.childLanes&c)!==c&&(k.childLanes|=c);if(b===e)break;b=b.return}}function df(b,c,e,k){var y=b.child;for(null!==y&&(y.return=b);null!==y;){var J=y.dependencies;if(null!==J){var ya=y.child;J=J.firstContext;a:for(;null!==J;){var gb=J;J=y;for(var dc=0;dc<c.length;dc++)if(gb.context===c[dc]){J.lanes|=e;gb=J.alternate;null!==gb&&(gb.lanes|=e);$e(J.return,e,b);k||(ya=null);break a}J=gb.next}}else if(18===y.tag){ya=y.return;if(null===
ya)throw Error(u(341));ya.lanes|=e;J=ya.alternate;null!==J&&(J.lanes|=e);$e(ya,e,b);ya=null}else ya=y.child;if(null!==ya)ya.return=y;else for(ya=y;null!==ya;){if(ya===b){ya=null;break}y=ya.sibling;if(null!==y){y.return=ya.return;ya=y;break}ya=ya.return}y=ya}}function Fe(b,c,e,k){b=null;for(var y=c,J=!1;null!==y;){if(!J)if(0!==(y.flags&524288))J=!0;else if(0!==(y.flags&262144))break;if(10===y.tag){var ya=y.alternate;if(null===ya)throw Error(u(387));ya=ya.memoizedProps;if(null!==ya){var gb=y.type;jh(y.pendingProps.value,
ya.value)||(null!==b?b.push(gb):b=[gb])}}else if(y===Tk.current){ya=y.alternate;if(null===ya)throw Error(u(387));ya.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(null!==b?b.push(Ml):b=[Ml])}y=y.return}null!==b&&df(c,b,e,k);c.flags|=262144}function Nd(b){for(b=b.firstContext;null!==b;){if(!jh(b.context._currentValue,b.memoizedValue))return!0;b=b.next}return!1}function Kf(b){ui=b;Vh=null;b=b.dependencies;null!==b&&(b.firstContext=null)}function ye(b){return cb(ui,b)}function Ea(b,c){null===
ui&&Kf(b);return cb(b,c)}function cb(b,c){var e=c._currentValue;c={context:c,memoizedValue:e,next:null};if(null===Vh){if(null===b)throw Error(u(308));Vh=c;b.dependencies={lanes:0,firstContext:c};b.flags|=524288}else Vh=Vh.next=c;return e}function fc(){return{controller:new fl,data:new Map,refCount:0}}function fd(b){b.refCount--;0===b.refCount&&bm(cm,function(){b.controller.abort()})}function jd(b,c){if(null===Pi){var e=Pi=[];Qi=0;Ri=Hd();vi={status:"pending",value:void 0,then:function(k){e.push(k)}}}Qi++;
c.then(cd,cd);return c}function cd(){if(0===--Qi&&null!==Pi){null!==vi&&(vi.status="fulfilled");var b=Pi;Pi=null;Ri=0;vi=null;for(var c=0;c<b.length;c++)(0,b[c])()}}function Dd(b,c){var e=[],k={status:"pending",value:null,reason:null,then:function(y){e.push(y)}};b.then(function(){k.status="fulfilled";k.value=c;for(var y=0;y<e.length;y++)(0,e[y])(c)},function(y){k.status="rejected";k.reason=y;for(y=0;y<e.length;y++)(0,e[y])(void 0)});return k}function Xd(){var b=wi.current;return null!==b?b:af.pooledCache}
function Jd(b,c){null===c?Ba(wi,wi.current):Ba(wi,c.pool)}function Ye(){var b=Xd();return null===b?null:{parent:Xf._currentValue,pool:b}}function nd(b){b=b.status;return"fulfilled"===b||"rejected"===b}function qe(b,c,e){e=b[e];void 0===e?b.push(c):e!==c&&(c.then(Mc,Mc),c=e);switch(c.status){case "fulfilled":return c.value;case "rejected":throw b=c.reason,ce(b),b;default:if("string"===typeof c.status)c.then(Mc,Mc);else{b=af;if(null!==b&&100<b.shellSuspendCounter)throw Error(u(482));b=c;b.status="pending";
b.then(function(k){if("pending"===c.status){var y=c;y.status="fulfilled";y.value=k}},function(k){if("pending"===c.status){var y=c;y.status="rejected";y.reason=k}})}switch(c.status){case "fulfilled":return c.value;case "rejected":throw b=c.reason,ce(b),b;}nj=c;throw Si;}}function Ne(b){try{var c=b._init;return c(b._payload)}catch(e){if(null!==e&&"object"===typeof e&&"function"===typeof e.then)throw nj=e,Si;throw e;}}function hf(){if(null===nj)throw Error(u(459));var b=nj;nj=null;return b}function ce(b){if(b===
Si||b===oj)throw Error(u(483));}function jf(b){var c=Oj;Oj+=1;null===pj&&(pj=[]);return qe(pj,b,c)}function rf(b,c){c=c.props.ref;b.ref=void 0!==c?c:null}function ze(b,c){if(c.$$typeof===dm)throw Error(u(525));b=Object.prototype.toString.call(c);throw Error(u(31,"[object Object]"===b?"object with keys {"+Object.keys(c).join(", ")+"}":b));}function Ze(b){function c(wc,nc){if(b){var Gc=wc.deletions;null===Gc?(wc.deletions=[nc],wc.flags|=16):Gc.push(nc)}}function e(wc,nc){if(!b)return null;for(;null!==
nc;)c(wc,nc),nc=nc.sibling;return null}function k(wc){for(var nc=new Map;null!==wc;)null!==wc.key?nc.set(wc.key,wc):nc.set(wc.index,wc),wc=wc.sibling;return nc}function y(wc,nc){wc=hc(wc,nc);wc.index=0;wc.sibling=null;return wc}function J(wc,nc,Gc){wc.index=Gc;if(!b)return wc.flags|=1048576,nc;Gc=wc.alternate;if(null!==Gc)return Gc=Gc.index,Gc<nc?(wc.flags|=67108866,nc):Gc;wc.flags|=67108866;return nc}function ya(wc){b&&null===wc.alternate&&(wc.flags|=67108866);return wc}function gb(wc,nc,Gc,Zc){if(null===
nc||6!==nc.tag)return nc=md(Gc,wc.mode,Zc),nc.return=wc,nc;nc=y(nc,Gc);nc.return=wc;return nc}function dc(wc,nc,Gc,Zc){var he=Gc.type;if(he===Gj)return Yc(wc,nc,Gc.props.children,Zc,Gc.key);if(null!==nc&&(nc.elementType===he||"object"===typeof he&&null!==he&&he.$$typeof===Ji&&Ne(he)===nc.type))return nc=y(nc,Gc.props),rf(nc,Gc),nc.return=wc,nc;nc=Pc(Gc.type,Gc.key,Gc.props,null,wc.mode,Zc);rf(nc,Gc);nc.return=wc;return nc}function Hc(wc,nc,Gc,Zc){if(null===nc||4!==nc.tag||nc.stateNode.containerInfo!==
Gc.containerInfo||nc.stateNode.implementation!==Gc.implementation)return nc=yd(Gc,wc.mode,Zc),nc.return=wc,nc;nc=y(nc,Gc.children||[]);nc.return=wc;return nc}function Yc(wc,nc,Gc,Zc,he){if(null===nc||7!==nc.tag)return nc=Nc(Gc,wc.mode,Zc,he),nc.return=wc,nc;nc=y(nc,Gc);nc.return=wc;return nc}function bd(wc,nc,Gc){if("string"===typeof nc&&""!==nc||"number"===typeof nc||"bigint"===typeof nc)return nc=md(""+nc,wc.mode,Gc),nc.return=wc,nc;if("object"===typeof nc&&null!==nc){switch(nc.$$typeof){case wh:return Gc=
Pc(nc.type,nc.key,nc.props,null,wc.mode,Gc),rf(Gc,nc),Gc.return=wc,Gc;case ij:return nc=yd(nc,wc.mode,Gc),nc.return=wc,nc;case Ji:return nc=Ne(nc),bd(wc,nc,Gc)}if(pk(nc)||yb(nc))return nc=Nc(nc,wc.mode,Gc,null),nc.return=wc,nc;if("function"===typeof nc.then)return bd(wc,jf(nc),Gc);if(nc.$$typeof===ni)return bd(wc,Ea(wc,nc),Gc);ze(wc,nc)}return null}function Kc(wc,nc,Gc,Zc){var he=null!==nc?nc.key:null;if("string"===typeof Gc&&""!==Gc||"number"===typeof Gc||"bigint"===typeof Gc)return null!==he?null:
gb(wc,nc,""+Gc,Zc);if("object"===typeof Gc&&null!==Gc){switch(Gc.$$typeof){case wh:return Gc.key===he?dc(wc,nc,Gc,Zc):null;case ij:return Gc.key===he?Hc(wc,nc,Gc,Zc):null;case Ji:return Gc=Ne(Gc),Kc(wc,nc,Gc,Zc)}if(pk(Gc)||yb(Gc))return null!==he?null:Yc(wc,nc,Gc,Zc,null);if("function"===typeof Gc.then)return Kc(wc,nc,jf(Gc),Zc);if(Gc.$$typeof===ni)return Kc(wc,nc,Ea(wc,Gc),Zc);ze(wc,Gc)}return null}function Sc(wc,nc,Gc,Zc,he){if("string"===typeof Zc&&""!==Zc||"number"===typeof Zc||"bigint"===typeof Zc)return wc=
wc.get(Gc)||null,gb(nc,wc,""+Zc,he);if("object"===typeof Zc&&null!==Zc){switch(Zc.$$typeof){case wh:return wc=wc.get(null===Zc.key?Gc:Zc.key)||null,dc(nc,wc,Zc,he);case ij:return wc=wc.get(null===Zc.key?Gc:Zc.key)||null,Hc(nc,wc,Zc,he);case Ji:return Zc=Ne(Zc),Sc(wc,nc,Gc,Zc,he)}if(pk(Zc)||yb(Zc))return wc=wc.get(Gc)||null,Yc(nc,wc,Zc,he,null);if("function"===typeof Zc.then)return Sc(wc,nc,Gc,jf(Zc),he);if(Zc.$$typeof===ni)return Sc(wc,nc,Gc,Ea(nc,Zc),he);ze(nc,Zc)}return null}function Ud(wc,nc,Gc,
Zc){for(var he=null,sf=null,Yd=nc,Je=nc=0,bf=null;null!==Yd&&Je<Gc.length;Je++){Yd.index>Je?(bf=Yd,Yd=null):bf=Yd.sibling;var tf=Kc(wc,Yd,Gc[Je],Zc);if(null===tf){null===Yd&&(Yd=bf);break}b&&Yd&&null===tf.alternate&&c(wc,Yd);nc=J(tf,nc,Je);null===sf?he=tf:sf.sibling=tf;sf=tf;Yd=bf}if(Je===Gc.length)return e(wc,Yd),Te&&Ad(wc,Je),he;if(null===Yd){for(;Je<Gc.length;Je++)Yd=bd(wc,Gc[Je],Zc),null!==Yd&&(nc=J(Yd,nc,Je),null===sf?he=Yd:sf.sibling=Yd,sf=Yd);Te&&Ad(wc,Je);return he}for(Yd=k(Yd);Je<Gc.length;Je++)bf=
Sc(Yd,wc,Je,Gc[Je],Zc),null!==bf&&(b&&null!==bf.alternate&&Yd.delete(null===bf.key?Je:bf.key),nc=J(bf,nc,Je),null===sf?he=bf:sf.sibling=bf,sf=bf);b&&Yd.forEach(function(Pj){return c(wc,Pj)});Te&&Ad(wc,Je);return he}function pe(wc,nc,Gc,Zc){if(null==Gc)throw Error(u(151));for(var he=null,sf=null,Yd=nc,Je=nc=0,bf=null,tf=Gc.next();null!==Yd&&!tf.done;Je++,tf=Gc.next()){Yd.index>Je?(bf=Yd,Yd=null):bf=Yd.sibling;var Pj=Kc(wc,Yd,tf.value,Zc);if(null===Pj){null===Yd&&(Yd=bf);break}b&&Yd&&null===Pj.alternate&&
c(wc,Yd);nc=J(Pj,nc,Je);null===sf?he=Pj:sf.sibling=Pj;sf=Pj;Yd=bf}if(tf.done)return e(wc,Yd),Te&&Ad(wc,Je),he;if(null===Yd){for(;!tf.done;Je++,tf=Gc.next())tf=bd(wc,tf.value,Zc),null!==tf&&(nc=J(tf,nc,Je),null===sf?he=tf:sf.sibling=tf,sf=tf);Te&&Ad(wc,Je);return he}for(Yd=k(Yd);!tf.done;Je++,tf=Gc.next())tf=Sc(Yd,wc,Je,tf.value,Zc),null!==tf&&(b&&null!==tf.alternate&&Yd.delete(null===tf.key?Je:tf.key),nc=J(tf,nc,Je),null===sf?he=tf:sf.sibling=tf,sf=tf);b&&Yd.forEach(function(Bo){return c(wc,Bo)});
Te&&Ad(wc,Je);return he}function Nf(wc,nc,Gc,Zc){"object"===typeof Gc&&null!==Gc&&Gc.type===Gj&&null===Gc.key&&(Gc=Gc.props.children);if("object"===typeof Gc&&null!==Gc){switch(Gc.$$typeof){case wh:a:{for(var he=Gc.key;null!==nc;){if(nc.key===he){he=Gc.type;if(he===Gj){if(7===nc.tag){e(wc,nc.sibling);Zc=y(nc,Gc.props.children);Zc.return=wc;wc=Zc;break a}}else if(nc.elementType===he||"object"===typeof he&&null!==he&&he.$$typeof===Ji&&Ne(he)===nc.type){e(wc,nc.sibling);Zc=y(nc,Gc.props);rf(Zc,Gc);Zc.return=
wc;wc=Zc;break a}e(wc,nc);break}else c(wc,nc);nc=nc.sibling}Gc.type===Gj?(Zc=Nc(Gc.props.children,wc.mode,Zc,Gc.key),Zc.return=wc,wc=Zc):(Zc=Pc(Gc.type,Gc.key,Gc.props,null,wc.mode,Zc),rf(Zc,Gc),Zc.return=wc,wc=Zc)}return ya(wc);case ij:a:{for(he=Gc.key;null!==nc;){if(nc.key===he)if(4===nc.tag&&nc.stateNode.containerInfo===Gc.containerInfo&&nc.stateNode.implementation===Gc.implementation){e(wc,nc.sibling);Zc=y(nc,Gc.children||[]);Zc.return=wc;wc=Zc;break a}else{e(wc,nc);break}else c(wc,nc);nc=nc.sibling}Zc=
yd(Gc,wc.mode,Zc);Zc.return=wc;wc=Zc}return ya(wc);case Ji:return Gc=Ne(Gc),Nf(wc,nc,Gc,Zc)}if(pk(Gc))return Ud(wc,nc,Gc,Zc);if(yb(Gc)){he=yb(Gc);if("function"!==typeof he)throw Error(u(150));Gc=he.call(Gc);return pe(wc,nc,Gc,Zc)}if("function"===typeof Gc.then)return Nf(wc,nc,jf(Gc),Zc);if(Gc.$$typeof===ni)return Nf(wc,nc,Ea(wc,Gc),Zc);ze(wc,Gc)}return"string"===typeof Gc&&""!==Gc||"number"===typeof Gc||"bigint"===typeof Gc?(Gc=""+Gc,null!==nc&&6===nc.tag?(e(wc,nc.sibling),Zc=y(nc,Gc),Zc.return=wc,
wc=Zc):(e(wc,nc),Zc=md(Gc,wc.mode,Zc),Zc.return=wc,wc=Zc),ya(wc)):e(wc,nc)}return function(wc,nc,Gc,Zc){try{Oj=0;var he=Nf(wc,nc,Gc,Zc);pj=null;return he}catch(Yd){if(Yd===Si||Yd===oj)throw Yd;var sf=Lb(29,Yd,null,wc.mode);sf.lanes=Zc;sf.return=wc;return sf}finally{}}}function ef(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function me(b,c){b=b.updateQueue;c.updateQueue===b&&(c.updateQueue={baseState:b.baseState,
firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,callbacks:null})}function re(b){return{lane:b,tag:0,payload:null,callback:null,next:null}}function Wd(b,c,e){var k=b.updateQueue;if(null===k)return null;k=k.shared;if(0!==(kf&2)){var y=k.pending;null===y?c.next=c:(c.next=y.next,y.next=c);k.pending=c;c=pa(b);wa(b,null,e);return c}v(b,k,c,e);return pa(b)}function qa(b,c,e){c=c.updateQueue;if(null!==c&&(c=c.shared,0!==(e&4194048))){var k=c.lanes;k&=b.pendingLanes;e|=k;
c.lanes=e;ea(b,e)}}function m(b,c){var e=b.updateQueue,k=b.alternate;if(null!==k&&(k=k.updateQueue,e===k)){var y=null,J=null;e=e.firstBaseUpdate;if(null!==e){do{var ya={lane:e.lane,tag:e.tag,payload:e.payload,callback:null,next:null};null===J?y=J=ya:J=J.next=ya;e=e.next}while(null!==e);null===J?y=J=c:J=J.next=c}else y=J=c;e={baseState:k.baseState,firstBaseUpdate:y,lastBaseUpdate:J,shared:k.shared,callbacks:k.callbacks};b.updateQueue=e}else b=e.lastBaseUpdate,null===b?e.firstBaseUpdate=c:b.next=c,
e.lastBaseUpdate=c}function r(){if(gl){var b=vi;if(null!==b)throw b;}}function L(b,c,e,k){gl=!1;var y=b.updateQueue;Wh=!1;var J=y.firstBaseUpdate,ya=y.lastBaseUpdate,gb=y.shared.pending;if(null!==gb){y.shared.pending=null;var dc=gb,Hc=dc.next;dc.next=null;null===ya?J=Hc:ya.next=Hc;var Yc=b.alternate;null!==Yc&&(Yc=Yc.updateQueue,gb=Yc.lastBaseUpdate,gb!==dc&&(null===gb?Yc.firstBaseUpdate=Hc:gb.next=Hc,Yc.lastBaseUpdate=dc))}if(null!==J){var bd=y.baseState;ya=0;Yc=Hc=dc=null;gb=J;do{var Kc=gb.lane&
-536870913,Sc=Kc!==gb.lane;if(Sc?(Ue&Kc)===Kc:(k&Kc)===Kc){0!==Kc&&Kc===Ri&&(gl=!0);null!==Yc&&(Yc=Yc.next={lane:0,tag:gb.tag,payload:gb.payload,callback:null,next:null});a:{var Ud=b,pe=gb;Kc=c;var Nf=e;switch(pe.tag){case 1:Ud=pe.payload;if("function"===typeof Ud){bd=Ud.call(Nf,bd,Kc);break a}bd=Ud;break a;case 3:Ud.flags=Ud.flags&-65537|128;case 0:Ud=pe.payload;Kc="function"===typeof Ud?Ud.call(Nf,bd,Kc):Ud;if(null===Kc||void 0===Kc)break a;bd=Rf({},bd,Kc);break a;case 2:Wh=!0}}Kc=gb.callback;null!==
Kc&&(b.flags|=64,Sc&&(b.flags|=8192),Sc=y.callbacks,null===Sc?y.callbacks=[Kc]:Sc.push(Kc))}else Sc={lane:Kc,tag:gb.tag,payload:gb.payload,callback:gb.callback,next:null},null===Yc?(Hc=Yc=Sc,dc=bd):Yc=Yc.next=Sc,ya|=Kc;gb=gb.next;if(null===gb)if(gb=y.shared.pending,null===gb)break;else Sc=gb,gb=Sc.next,Sc.next=null,y.lastBaseUpdate=Sc,y.shared.pending=null}while(1);null===Yc&&(dc=bd);y.baseState=dc;y.firstBaseUpdate=Hc;y.lastBaseUpdate=Yc;null===J&&(y.shared.lanes=0);Qj|=ya;b.lanes=ya;b.memoizedState=
bd}}function ka(b,c){if("function"!==typeof b)throw Error(u(191,b));b.call(c)}function Ga(b,c){var e=b.callbacks;if(null!==e)for(b.callbacks=null,b=0;b<e.length;b++)ka(e[b],c)}function Ta(b,c){b=qj;Ba(a,b);Ba(rj,c);qj=b|c.baseLanes}function Oa(){Ba(a,qj);Ba(rj,rj.current)}function sb(){qj=a.current;Yb(rj);Yb(a)}function pb(b){var c=b.alternate;Ba(g,g.current&1);Ba(d,b);null===f&&(null===c||null!==rj.current?f=b:null!==c.memoizedState&&(f=b))}function uc(b){Ba(g,g.current);Ba(d,b);null===f&&(f=b)}
function sc(b){22===b.tag?(Ba(g,g.current),Ba(d,b),null===f&&(f=b)):qc(b)}function qc(){Ba(g,g.current);Ba(d,d.current)}function oc(b){Yb(d);f===b&&(f=null);Yb(g)}function Jc(b){for(var c=b;null!==c;){if(13===c.tag){var e=c.memoizedState;if(null!==e&&(e=e.dehydrated,null===e||hl(e)||em(e)))return c}else if(19===c.tag&&("forwards"===c.memoizedProps.revealOrder||"backwards"===c.memoizedProps.revealOrder||"unstable_legacy-backwards"===c.memoizedProps.revealOrder||"together"===c.memoizedProps.revealOrder)){if(0!==
(c.flags&128))return c}else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return null;c=c.return}c.sibling.return=c.return;c=c.sibling}return null}function Oc(){throw Error(u(321));}function Ed(b,c){if(null===c)return!1;for(var e=0;e<c.length&&e<b.length;e++)if(!jh(b[e],c[e]))return!1;return!0}function pd(b,c,e,k,y,J){h=J;p=c;c.memoizedState=null;c.updateQueue=null;c.lanes=0;se.H=null===b||null===b.memoizedState?Tc:Vc;
ab=!1;J=e(k,y);ab=!1;sa&&(J=Sd(c,e,k,y));wd(b);return J}function wd(b){se.H=Cc;var c=null!==C&&null!==C.next;h=0;P=C=p=null;aa=!1;ac=0;Dc=null;if(c)throw Error(u(300));null===b||Td||(b=b.dependencies,null!==b&&Nd(b)&&(Td=!0))}function Sd(b,c,e,k){p=b;var y=0;do{sa&&(Dc=null);ac=0;sa=!1;if(25<=y)throw Error(u(301));y+=1;P=C=null;if(null!=b.updateQueue){var J=b.updateQueue;J.lastEffect=null;J.events=null;J.stores=null;null!=J.memoCache&&(J.memoCache.index=0)}se.H=Od;J=c(e,k)}while(sa);return J}function lc(){var b=
se.H,c=b.useState()[0];c="function"===typeof c.then?de(c):c;b=b.useState()[0];(null!==C?C.memoizedState:null)!==b&&(p.flags|=1024);return c}function ud(){var b=0!==rb;rb=0;return b}function ne(b,c,e){c.updateQueue=b.updateQueue;c.flags&=-2053;b.lanes&=~e}function be(b){if(aa){for(b=b.memoizedState;null!==b;){var c=b.queue;null!==c&&(c.pending=null);b=b.next}aa=!1}h=0;P=C=p=null;sa=!1;ac=rb=0;Dc=null}function Bd(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===
P?p.memoizedState=P=b:P=P.next=b;return P}function qd(){if(null===C){var b=p.alternate;b=null!==b?b.memoizedState:null}else b=C.next;var c=null===P?p.memoizedState:P.next;if(null!==c)P=c,C=b;else{if(null===b){if(null===p.alternate)throw Error(u(467));throw Error(u(310));}C=b;b={memoizedState:C.memoizedState,baseState:C.baseState,baseQueue:C.baseQueue,queue:C.queue,next:null};null===P?p.memoizedState=P=b:P=P.next=b}return P}function Kd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}
function de(b){var c=ac;ac+=1;null===Dc&&(Dc=[]);b=qe(Dc,b,c);c=p;null===(null===P?c.memoizedState:P.next)&&(c=c.alternate,se.H=null===c||null===c.memoizedState?Tc:Vc);return b}function te(b){if(null!==b&&"object"===typeof b){if("function"===typeof b.then)return de(b);if(b.$$typeof===ni)return ye(b)}throw Error(u(438,String(b)));}function $d(b){var c=null,e=p.updateQueue;null!==e&&(c=e.memoCache);if(null==c){var k=p.alternate;null!==k&&(k=k.updateQueue,null!==k&&(k=k.memoCache,null!=k&&(c={data:k.data.map(function(y){return y.slice()}),
index:0})))}null==c&&(c={data:[],index:0});null===e&&(e=Kd(),p.updateQueue=e);e.memoCache=c;e=c.data[c.index];if(void 0===e)for(e=c.data[c.index]=Array(b),k=0;k<b;k++)e[k]=Fn;c.index++;return e}function Ee(b,c){return"function"===typeof c?c(b):c}function $c(b){var c=qd();return le(c,C,b)}function le(b,c,e){var k=b.queue;if(null===k)throw Error(u(311));k.lastRenderedReducer=e;var y=b.baseQueue,J=k.pending;if(null!==J){if(null!==y){var ya=y.next;y.next=J.next;J.next=ya}c.baseQueue=y=J;k.pending=null}J=
b.baseState;if(null===y)b.memoizedState=J;else{c=y.next;var gb=ya=null,dc=null,Hc=c,Yc=!1;do{var bd=Hc.lane&-536870913;if(bd!==Hc.lane?(Ue&bd)===bd:(h&bd)===bd){var Kc=Hc.revertLane;if(0===Kc)null!==dc&&(dc=dc.next={lane:0,revertLane:0,gesture:null,action:Hc.action,hasEagerState:Hc.hasEagerState,eagerState:Hc.eagerState,next:null}),bd===Ri&&(Yc=!0);else if((h&Kc)===Kc){Hc=Hc.next;Kc===Ri&&(Yc=!0);continue}else bd={lane:0,revertLane:Hc.revertLane,gesture:null,action:Hc.action,hasEagerState:Hc.hasEagerState,
eagerState:Hc.eagerState,next:null},null===dc?(gb=dc=bd,ya=J):dc=dc.next=bd,p.lanes|=Kc,Qj|=Kc;bd=Hc.action;ab&&e(J,bd);J=Hc.hasEagerState?Hc.eagerState:e(J,bd)}else Kc={lane:bd,revertLane:Hc.revertLane,gesture:Hc.gesture,action:Hc.action,hasEagerState:Hc.hasEagerState,eagerState:Hc.eagerState,next:null},null===dc?(gb=dc=Kc,ya=J):dc=dc.next=Kc,p.lanes|=bd,Qj|=bd;Hc=Hc.next}while(null!==Hc&&Hc!==c);null===dc?ya=J:dc.next=gb;if(!jh(J,b.memoizedState)&&(Td=!0,Yc&&(e=vi,null!==e)))throw e;b.memoizedState=
J;b.baseState=ya;b.baseQueue=dc;k.lastRenderedState=J}null===y&&(k.lanes=0);return[b.memoizedState,k.dispatch]}function lf(b){var c=qd(),e=c.queue;if(null===e)throw Error(u(311));e.lastRenderedReducer=b;var k=e.dispatch,y=e.pending,J=c.memoizedState;if(null!==y){e.pending=null;var ya=y=y.next;do J=b(J,ya.action),ya=ya.next;while(ya!==y);jh(J,c.memoizedState)||(Td=!0);c.memoizedState=J;null===c.baseQueue&&(c.baseState=J);e.lastRenderedState=J}return[J,k]}function uf(b,c,e){var k=p,y=qd(),J=Te;if(J){if(void 0===
e)throw Error(u(407));e=e()}else e=c();var ya=!jh((C||y).memoizedState,e);ya&&(y.memoizedState=e,Td=!0);y=y.queue;Vd(Tf.bind(null,k,y,b),[b]);if(y.getSnapshot!==c||ya||null!==P&&P.memoizedState.tag&1){k.flags|=2048;Ka(9,{destroy:void 0},yf.bind(null,k,y,e,c),null);if(null===af)throw Error(u(349));J||0!==(h&127)||zg(k,c,e)}return e}function zg(b,c,e){b.flags|=16384;b={getSnapshot:c,value:e};c=p.updateQueue;null===c?(c=Kd(),p.updateQueue=c,c.stores=[b]):(e=c.stores,null===e?c.stores=[b]:e.push(b))}
function yf(b,c,e,k){c.value=e;c.getSnapshot=k;kg(c)&&mf(b)}function Tf(b,c,e){return e(function(){kg(c)&&mf(b)})}function kg(b){var c=b.getSnapshot;b=b.value;try{var e=c();return!jh(b,e)}catch(k){return!0}}function mf(b){var c=ca(b,2);null!==c&&Jg(c,b,2)}function Ke(b){var c=Bd();if("function"===typeof b){var e=b;b=e();if(ab){ha(!0);try{e()}finally{ha(!1)}}}c.memoizedState=c.baseState=b;c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ee,lastRenderedState:b};return c}function lg(b,
c,e,k){b.baseState=e;return le(b,C,"function"===typeof k?k:Ee)}function Zg(b,c,e,k,y){if(og(b))throw Error(u(485));b=c.action;if(null!==b){var J={payload:y,action:b,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ya){J.listeners.push(ya)}};null!==se.T?e(!0):J.isTransition=!1;k(J);e=c.pending;null===e?(J.next=c.pending=J,Yf(c,J)):(J.next=e.next,c.pending=e.next=J)}}function Yf(b,c){var e=c.action,k=c.payload,y=b.state;if(c.isTransition){var J=se.T,ya={};
se.T=ya;try{var gb=e(y,k),dc=se.S;null!==dc&&dc(ya,gb);mg(b,c,gb)}catch(Hc){$g(b,c,Hc)}finally{null!==J&&null!==ya.types&&(J.types=ya.types),se.T=J}}else try{J=e(y,k),mg(b,c,J)}catch(Hc){$g(b,c,Hc)}}function mg(b,c,e){null!==e&&"object"===typeof e&&"function"===typeof e.then?e.then(function(k){Zf(b,c,k)},function(k){return $g(b,c,k)}):Zf(b,c,e)}function Zf(b,c,e){c.status="fulfilled";c.value=e;ah(c);b.state=e;c=b.pending;null!==c&&(e=c.next,e===c?b.pending=null:(e=e.next,c.next=e,Yf(b,e)))}function $g(b,
c,e){var k=b.pending;b.pending=null;if(null!==k){k=k.next;do c.status="rejected",c.reason=e,ah(c),c=c.next;while(c!==k)}b.action=null}function ah(b){b=b.listeners;for(var c=0;c<b.length;c++)(0,b[c])()}function bh(b,c){return c}function Sg(b,c){if(Te){var e=af.formState;if(null!==e){a:{var k=p;if(Te){if(Sf){b:{for(var y=Sf,J=mh;8!==y.nodeType;){if(!J){y=null;break b}y=Jh(y.nextSibling);if(null===y){y=null;break b}}J=y.data;y="F!"===J||"F"===J?y:null}if(y){Sf=Jh(y.nextSibling);k="F!"===y.data;break a}}He(k)}k=
!1}k&&(c=e[0])}}e=Bd();e.memoizedState=e.baseState=c;k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bh,lastRenderedState:c};e.queue=k;e=nh.bind(null,p,k);k.dispatch=e;k=Ke(!1);J=Lh.bind(null,p,!1,k.queue);k=Bd();y={state:c,dispatch:null,action:b,pending:null};k.queue=y;e=Zg.bind(null,p,y,J,e);y.dispatch=e;k.memoizedState=b;return[c,e,!1]}function Tg(b){var c=qd();return oh(c,C,b)}function oh(b,c,e){c=le(b,c,bh)[0];b=$c(Ee)[0];if("object"===typeof c&&null!==c&&"function"===typeof c.then)try{var k=
de(c)}catch(ya){if(ya===Si)throw oj;throw ya;}else k=c;c=qd();var y=c.queue,J=y.dispatch;e!==c.memoizedState&&(p.flags|=2048,Ka(9,{destroy:void 0},Uf.bind(null,y,e),null));return[k,J,b]}function Uf(b,c){b.action=c}function W(b){var c=qd(),e=C;if(null!==e)return oh(c,e,b);qd();c=c.memoizedState;e=qd();var k=e.queue.dispatch;e.memoizedState=b;return[c,k,!1]}function Ka(b,c,e,k){b={tag:b,create:e,deps:k,inst:c,next:null};c=p.updateQueue;null===c&&(c=Kd(),p.updateQueue=c);e=c.lastEffect;null===e?c.lastEffect=
b.next=b:(k=e.next,e.next=b,b.next=k,c.lastEffect=b);return b}function mb(){return qd().memoizedState}function yc(b,c,e,k){var y=Bd();p.flags|=b;y.memoizedState=Ka(1|c,{destroy:void 0},e,void 0===k?null:k)}function Ac(b,c,e,k){var y=qd();k=void 0===k?null:k;var J=y.memoizedState.inst;null!==C&&null!==k&&Ed(k,C.memoizedState.deps)?y.memoizedState=Ka(c,J,e,k):(p.flags|=b,y.memoizedState=Ka(1|c,J,e,k))}function xd(b,c){yc(8390656,8,b,c)}function Vd(b,c){Ac(2048,8,b,c)}function Id(b){p.flags|=4;var c=
p.updateQueue;if(null===c)c=Kd(),p.updateQueue=c,c.events=[b];else{var e=c.events;null===e?c.events=[b]:e.push(b)}}function ig(b){var c=qd().memoizedState;Id({ref:c,nextImpl:b});return function(){if(0!==(kf&2))throw Error(u(440));return c.impl.apply(void 0,arguments)}}function pf(b,c){return Ac(4,2,b,c)}function ug(b,c){return Ac(4,4,b,c)}function ph(b,c){if("function"===typeof c){b=b();var e=c(b);return function(){"function"===typeof e?e():c(null)}}if(null!==c&&void 0!==c)return b=b(),c.current=
b,function(){c.current=null}}function ch(b,c,e){e=null!==e&&void 0!==e?e.concat([b]):null;Ac(4,4,ph.bind(null,c,b),e)}function ng(){}function Kg(b,c){var e=qd();c=void 0===c?null:c;var k=e.memoizedState;if(null!==c&&Ed(c,k[1]))return k[0];e.memoizedState=[b,c];return b}function Mh(b,c){var e=qd();c=void 0===c?null:c;var k=e.memoizedState;if(null!==c&&Ed(c,k[1]))return k[0];k=b();if(ab){ha(!0);try{b()}finally{ha(!1)}}e.memoizedState=[k,c];return k}function Ld(b,c,e){if(void 0===e||0!==(h&1073741824)&&
0===(Ue&261930))return b.memoizedState=c;b.memoizedState=e;b=Rj();p.lanes|=b;Qj|=b;return e}function Zd(b,c,e,k){if(jh(e,c))return e;if(null!==rj.current)return b=Ld(b,e,k),jh(b,c)||(Td=!0),b;if(0===(h&42)||0!==(h&1073741824)&&0===(Ue&261930))return Td=!0,b.memoizedState=e;b=Rj();p.lanes|=b;Qj|=b;return c}function zf(b,c,e,k,y){var J=nf.p;nf.p=0!==J&&8>J?J:8;var ya=se.T,gb={};se.T=gb;Lh(b,!1,c,e);try{var dc=y(),Hc=se.S;null!==Hc&&Hc(gb,dc);if(null!==dc&&"object"===typeof dc&&"function"===typeof dc.then){var Yc=
Dd(dc,k);Ef(b,c,Yc,dh(b))}else Ef(b,c,k,dh(b))}catch(bd){Ef(b,c,{then:function(){},status:"rejected",reason:bd},dh())}finally{nf.p=J,null!==ya&&null!==gb.types&&(ya.types=gb.types),se.T=ya}}function Ae(){}function ff(b,c,e,k){if(5!==b.tag)throw Error(u(476));var y=Ve(b).queue;zf(b,y,c,qi,null===e?Ae:function(){vf(b);return e(k)})}function Ve(b){var c=b.memoizedState;if(null!==c)return c;c={memoizedState:qi,baseState:qi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ee,
lastRenderedState:qi},next:null};var e={};c.next={memoizedState:e,baseState:e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ee,lastRenderedState:e},next:null};b.memoizedState=c;b=b.alternate;null!==b&&(b.memoizedState=c);return c}function vf(b){var c=Ve(b);null===c.next&&(c=b.alternate.memoizedState);Ef(b,c.next.queue,{},dh())}function $f(){return ye(Ml)}function Vf(){return qd().memoizedState}function pg(){return qd().memoizedState}function eh(b){for(var c=b.return;null!==
c;){switch(c.tag){case 24:case 3:var e=dh();b=re(e);var k=Wd(c,b,e);null!==k&&(Jg(k,c,e),qa(k,c,e));c={cache:fc()};b.payload=c;return}c=c.return}}function Ag(b,c,e){var k=dh();e={lane:k,revertLane:0,gesture:null,action:e,hasEagerState:!1,eagerState:null,next:null};og(b)?xh(c,e):(e=R(b,c,e,k),null!==e&&(Jg(e,b,k),qg(e,c,k)))}function nh(b,c,e){var k=dh();Ef(b,c,e,k)}function Ef(b,c,e,k){var y={lane:k,revertLane:0,gesture:null,action:e,hasEagerState:!1,eagerState:null,next:null};if(og(b))xh(c,y);else{var J=
b.alternate;if(0===b.lanes&&(null===J||0===J.lanes)&&(J=c.lastRenderedReducer,null!==J))try{var ya=c.lastRenderedState,gb=J(ya,e);y.hasEagerState=!0;y.eagerState=gb;if(jh(gb,ya))return v(b,c,y,0),null===af&&va(),!1}catch(dc){}finally{}e=R(b,c,y,k);if(null!==e)return Jg(e,b,k),qg(e,c,k),!0}return!1}function Lh(b,c,e,k){k={lane:2,revertLane:Hd(),gesture:null,action:k,hasEagerState:!1,eagerState:null,next:null};if(og(b)){if(c)throw Error(u(479));}else c=R(b,e,k,2),null!==c&&Jg(c,b,2)}function og(b){var c=
b.alternate;return b===p||null!==c&&c===p}function xh(b,c){sa=aa=!0;var e=b.pending;null===e?c.next=c:(c.next=e.next,e.next=c);b.pending=c}function qg(b,c,e){if(0!==(e&4194048)){var k=c.lanes;k&=b.pendingLanes;e|=k;c.lanes=e;ea(b,e)}}function Nh(b,c,e,k){c=b.memoizedState;e=e(k,c);e=null===e||void 0===e?c:Rf({},c,e);b.memoizedState=e;0===b.lanes&&(b.updateQueue.baseState=e)}function Sj(b,c,e,k,y,J,ya){b=b.stateNode;return"function"===typeof b.shouldComponentUpdate?b.shouldComponentUpdate(k,J,ya):
c.prototype&&c.prototype.isPureReactComponent?!id(e,k)||!id(y,J):!0}function Bg(b,c,e,k){b=c.state;"function"===typeof c.componentWillReceiveProps&&c.componentWillReceiveProps(e,k);"function"===typeof c.UNSAFE_componentWillReceiveProps&&c.UNSAFE_componentWillReceiveProps(e,k);c.state!==b&&Fd.enqueueReplaceState(c,c.state,null)}function yh(b,c){var e=c;if("ref"in c){e={};for(var k in c)"ref"!==k&&(e[k]=c[k])}if(b=b.defaultProps){e===c&&(e=Rf({},e));for(var y in b)void 0===e[y]&&(e[y]=b[y])}return e}
function Ti(b){il(b)}function Ui(b){console.error(b)}function xi(b){il(b)}function qh(b,c){try{var e=b.onUncaughtError;e(c.value,{componentStack:c.stack})}catch(k){setTimeout(function(){throw k;})}}function Vi(b,c,e){try{var k=b.onCaughtError;k(e.value,{componentStack:e.stack,errorBoundary:1===c.tag?c.stateNode:null})}catch(y){setTimeout(function(){throw y;})}}function Xh(b,c,e){e=re(e);e.tag=3;e.payload={element:null};e.callback=function(){qh(b,c)};return e}function Yh(b){b=re(b);b.tag=3;return b}
function zh(b,c,e,k){var y=e.type.getDerivedStateFromError;if("function"===typeof y){var J=k.value;b.payload=function(){return y(J)};b.callback=function(){Vi(c,e,k)}}var ya=e.stateNode;null!==ya&&"function"===typeof ya.componentDidCatch&&(b.callback=function(){Vi(c,e,k);"function"!==typeof y&&(null===Tj?Tj=new Set([this]):Tj.add(this));var gb=k.stack;this.componentDidCatch(k.value,{componentStack:null!==gb?gb:""})})}function Wi(b,c,e,k,y){e.flags|=32768;if(null!==k&&"object"===typeof k&&"function"===
typeof k.then){c=e.alternate;null!==c&&Fe(c,e,y,!0);e=d.current;if(null!==e){switch(e.tag){case 31:case 13:return null===f?yi():null===e.alternate&&0===rg&&(rg=3),e.flags&=-257,e.flags|=65536,e.lanes=y,k===jl?e.flags|=16384:(c=e.updateQueue,null===c?e.updateQueue=new Set([k]):c.add(k),xc(b,k,y)),!1;case 22:return e.flags|=65536,k===jl?e.flags|=16384:(c=e.updateQueue,null===c?(c={transitions:null,markerInstances:null,retryQueue:new Set([k])},e.updateQueue=c):(e=c.retryQueue,null===e?c.retryQueue=new Set([k]):
e.add(k)),xc(b,k,y)),!1}throw Error(u(435,e.tag));}xc(b,k,y);yi();return!1}if(Te)return c=d.current,null!==c?(0===(c.flags&65536)&&(c.flags|=256),c.flags|=65536,c.lanes=y,k!==vk&&(b=Error(u(422),{cause:k}),zd(Md(b,e)))):(k!==vk&&(c=Error(u(423),{cause:k}),zd(Md(c,e))),b=b.current.alternate,b.flags|=65536,y&=-y,b.lanes|=y,k=Md(k,e),y=Xh(b.stateNode,k,y),m(b,y),4!==rg&&(rg=2)),!1;var J=Error(u(520),{cause:k});J=Md(J,e);null===fm?fm=[J]:fm.push(J);4!==rg&&(rg=2);if(null===c)return!0;k=Md(k,e);e=c;do{switch(e.tag){case 3:return e.flags|=
65536,b=y&-y,e.lanes|=b,b=Xh(e.stateNode,k,b),m(e,b),!1;case 1:if(c=e.type,J=e.stateNode,0===(e.flags&128)&&("function"===typeof c.getDerivedStateFromError||null!==J&&"function"===typeof J.componentDidCatch&&(null===Tj||!Tj.has(J))))return e.flags|=65536,y&=-y,e.lanes|=y,y=Yh(y),zh(y,b,e,k),m(e,y),!1}e=e.return}while(null!==e);return!1}function ag(b,c,e,k){c.child=null===b?Km(c,null,e,k):sj(c,b.child,e,k)}function Xi(b,c,e,k,y){e=e.render;var J=c.ref;if("ref"in k){var ya={};for(gb in k)"ref"!==gb&&
(ya[gb]=k[gb])}else ya=k;Kf(c);k=pd(b,c,e,ya,J,y);var gb=ud();if(null!==b&&!Td)return ne(b,c,y),Pa(b,c,y);Te&&gb&&Me(c);c.flags|=1;ag(b,c,k,y);return c.child}function Zh(b,c,e,k,y){if(null===b){var J=e.type;if("function"===typeof J&&!$b(J)&&void 0===J.defaultProps&&null===e.compare)return c.tag=15,c.type=J,$h(b,c,J,k,y);b=Pc(e.type,null,k,c,c.mode,y);b.ref=c.ref;b.return=c;return c.child=b}J=b.child;if(!Jb(b,y)){var ya=J.memoizedProps;e=e.compare;e=null!==e?e:id;if(e(ya,k)&&b.ref===c.ref)return Pa(b,
c,y)}c.flags|=1;b=hc(J,k);b.ref=c.ref;b.return=c;return c.child=b}function $h(b,c,e,k,y){if(null!==b){var J=b.memoizedProps;if(id(J,k)&&b.ref===c.ref)if(Td=!1,c.pendingProps=k=J,Jb(b,y))0!==(b.flags&131072)&&(Td=!0);else return c.lanes=b.lanes,Pa(b,c,y)}return Cg(b,c,e,k,y)}function Yi(b,c,e,k){var y=k.children,J=null!==b?b.memoizedState:null;null===b&&null===c.stateNode&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null});if("hidden"===k.mode){if(0!==(c.flags&128)){J=
null!==J?J.baseLanes|e:e;if(null!==b){k=c.child=b.child;for(y=0;null!==k;)y=y|k.lanes|k.childLanes,k=k.sibling;k=y&~J}else k=0,c.child=null;return Oh(b,c,J,e,k)}if(0!==(e&536870912))c.memoizedState={baseLanes:0,cachePool:null},null!==b&&Jd(c,null!==J?J.cachePool:null),null!==J?Ta(c,J):Oa(),sc(c);else return k=c.lanes=536870912,Oh(b,c,null!==J?J.baseLanes|e:e,e,k)}else null!==J?(Jd(c,J.cachePool),Ta(c,J),qc(c),c.memoizedState=null):(null!==b&&Jd(c,null),Oa(),qc(c));ag(b,c,y,e);return c.child}function gi(b,
c){null!==b&&22===b.tag||null!==c.stateNode||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null});return c.sibling}function Oh(b,c,e,k,y){var J=Xd();J=null===J?null:{parent:Xf._currentValue,pool:J};c.memoizedState={baseLanes:e,cachePool:J};null!==b&&Jd(c,null);Oa();sc(c);null!==b&&Fe(b,c,k,!0);c.childLanes=y;return null}function rh(b,c){c=sh({mode:c.mode,children:c.children},b.mode);c.ref=b.ref;b.child=c;c.return=b;return c}function Lg(b,c,e){sj(c,b.child,null,e);
b=rh(c,c.pendingProps);b.flags|=2;oc(c);c.memoizedState=null;return b}function Se(b,c,e){var k=c.pendingProps,y=0!==(c.flags&128);c.flags&=-129;if(null===b){if(Te){if("hidden"===k.mode)return b=rh(c,k),c.lanes=536870912,gi(null,b);uc(c);(b=Sf)?(b=gm(b,mh),b=null!==b&&"\x26"===b.data?b:null,null!==b&&(c.memoizedState={dehydrated:b,treeContext:null!==Yg?{id:lh,overflow:Mf}:null,retryLane:536870912,hydrationErrors:null},e=td(b),e.return=c,c.child=e,yg=c,Sf=null)):b=null;if(null===b)throw He(c);c.lanes=
536870912;return null}return rh(c,k)}var J=b.memoizedState;if(null!==J){var ya=J.dehydrated;uc(c);if(y)if(c.flags&256)c.flags&=-257,c=Lg(b,c,e);else if(null!==c.memoizedState)c.child=b.child,c.flags|=128,c=null;else throw Error(u(558));else if(Td||Fe(b,c,e,!1),y=0!==(e&b.childLanes),Td||y){k=af;if(null!==k&&(ya=Ja(k,e),0!==ya&&ya!==J.retryLane))throw J.retryLane=ya,ca(b,ya),Jg(k,b,ya),ie;yi();c=Lg(b,c,e)}else b=J.treeContext,Sf=Jh(ya.nextSibling),yg=c,Te=!0,Oi=null,mh=!1,null!==b&&Re(c,b),c=rh(c,
k),c.flags|=4096;return c}b=hc(b.child,{mode:k.mode,children:k.children});b.ref=c.ref;c.child=b;b.return=c;return b}function th(b,c){var e=c.ref;if(null===e)null!==b&&null!==b.ref&&(c.flags|=4194816);else{if("function"!==typeof e&&"object"!==typeof e)throw Error(u(284));if(null===b||b.ref!==e)c.flags|=4194816}}function Cg(b,c,e,k,y){Kf(c);e=pd(b,c,e,k,void 0,y);k=ud();if(null!==b&&!Td)return ne(b,c,y),Pa(b,c,y);Te&&k&&Me(c);c.flags|=1;ag(b,c,e,y);return c.child}function Ff(b,c,e,k,y,J){Kf(c);c.updateQueue=
null;e=Sd(c,k,e,y);wd(b);k=ud();if(null!==b&&!Td)return ne(b,c,J),Pa(b,c,J);Te&&k&&Me(c);c.flags|=1;ag(b,c,e,J);return c.child}function tj(b,c,e,k,y){Kf(c);if(null===c.stateNode){var J=Uj,ya=e.contextType;"object"===typeof ya&&null!==ya&&(J=ye(ya));J=new e(k,J);c.memoizedState=null!==J.state&&void 0!==J.state?J.state:null;J.updater=Fd;c.stateNode=J;J._reactInternals=c;J=c.stateNode;J.props=k;J.state=c.memoizedState;J.refs={};ef(c);ya=e.contextType;J.context="object"===typeof ya&&null!==ya?ye(ya):
Uj;J.state=c.memoizedState;ya=e.getDerivedStateFromProps;"function"===typeof ya&&(Nh(c,e,ya,k),J.state=c.memoizedState);"function"===typeof e.getDerivedStateFromProps||"function"===typeof J.getSnapshotBeforeUpdate||"function"!==typeof J.UNSAFE_componentWillMount&&"function"!==typeof J.componentWillMount||(ya=J.state,"function"===typeof J.componentWillMount&&J.componentWillMount(),"function"===typeof J.UNSAFE_componentWillMount&&J.UNSAFE_componentWillMount(),ya!==J.state&&Fd.enqueueReplaceState(J,
J.state,null),L(c,k,J,y),r(),J.state=c.memoizedState);"function"===typeof J.componentDidMount&&(c.flags|=4194308);k=!0}else if(null===b){J=c.stateNode;var gb=c.memoizedProps,dc=yh(e,gb);J.props=dc;var Hc=J.context,Yc=e.contextType;ya=Uj;"object"===typeof Yc&&null!==Yc&&(ya=ye(Yc));var bd=e.getDerivedStateFromProps;Yc="function"===typeof bd||"function"===typeof J.getSnapshotBeforeUpdate;gb=c.pendingProps!==gb;Yc||"function"!==typeof J.UNSAFE_componentWillReceiveProps&&"function"!==typeof J.componentWillReceiveProps||
(gb||Hc!==ya)&&Bg(c,J,k,ya);Wh=!1;var Kc=c.memoizedState;J.state=Kc;L(c,k,J,y);r();Hc=c.memoizedState;gb||Kc!==Hc||Wh?("function"===typeof bd&&(Nh(c,e,bd,k),Hc=c.memoizedState),(dc=Wh||Sj(c,e,dc,k,Kc,Hc,ya))?(Yc||"function"!==typeof J.UNSAFE_componentWillMount&&"function"!==typeof J.componentWillMount||("function"===typeof J.componentWillMount&&J.componentWillMount(),"function"===typeof J.UNSAFE_componentWillMount&&J.UNSAFE_componentWillMount()),"function"===typeof J.componentDidMount&&(c.flags|=
4194308)):("function"===typeof J.componentDidMount&&(c.flags|=4194308),c.memoizedProps=k,c.memoizedState=Hc),J.props=k,J.state=Hc,J.context=ya,k=dc):("function"===typeof J.componentDidMount&&(c.flags|=4194308),k=!1)}else{J=c.stateNode;me(b,c);ya=c.memoizedProps;Yc=yh(e,ya);J.props=Yc;bd=c.pendingProps;Kc=J.context;Hc=e.contextType;dc=Uj;"object"===typeof Hc&&null!==Hc&&(dc=ye(Hc));gb=e.getDerivedStateFromProps;(Hc="function"===typeof gb||"function"===typeof J.getSnapshotBeforeUpdate)||"function"!==
typeof J.UNSAFE_componentWillReceiveProps&&"function"!==typeof J.componentWillReceiveProps||(ya!==bd||Kc!==dc)&&Bg(c,J,k,dc);Wh=!1;Kc=c.memoizedState;J.state=Kc;L(c,k,J,y);r();var Sc=c.memoizedState;ya!==bd||Kc!==Sc||Wh||null!==b&&null!==b.dependencies&&Nd(b.dependencies)?("function"===typeof gb&&(Nh(c,e,gb,k),Sc=c.memoizedState),(Yc=Wh||Sj(c,e,Yc,k,Kc,Sc,dc)||null!==b&&null!==b.dependencies&&Nd(b.dependencies))?(Hc||"function"!==typeof J.UNSAFE_componentWillUpdate&&"function"!==typeof J.componentWillUpdate||
("function"===typeof J.componentWillUpdate&&J.componentWillUpdate(k,Sc,dc),"function"===typeof J.UNSAFE_componentWillUpdate&&J.UNSAFE_componentWillUpdate(k,Sc,dc)),"function"===typeof J.componentDidUpdate&&(c.flags|=4),"function"===typeof J.getSnapshotBeforeUpdate&&(c.flags|=1024)):("function"!==typeof J.componentDidUpdate||ya===b.memoizedProps&&Kc===b.memoizedState||(c.flags|=4),"function"!==typeof J.getSnapshotBeforeUpdate||ya===b.memoizedProps&&Kc===b.memoizedState||(c.flags|=1024),c.memoizedProps=
k,c.memoizedState=Sc),J.props=k,J.state=Sc,J.context=dc,k=Yc):("function"!==typeof J.componentDidUpdate||ya===b.memoizedProps&&Kc===b.memoizedState||(c.flags|=4),"function"!==typeof J.getSnapshotBeforeUpdate||ya===b.memoizedProps&&Kc===b.memoizedState||(c.flags|=1024),k=!1)}J=k;th(b,c);k=0!==(c.flags&128);J||k?(J=c.stateNode,e=k&&"function"!==typeof e.getDerivedStateFromError?null:J.render(),c.flags|=1,null!==b&&k?(c.child=sj(c,b.child,null,y),c.child=sj(c,null,e,y)):ag(b,c,e,y),c.memoizedState=J.state,
b=c.child):b=Pa(b,c,y);return b}function fh(b){return{baseLanes:b,cachePool:Ye()}}function Dg(b,c,e){b=null!==b?b.childLanes&~e:0;c&&(b|=ai);return b}function uh(b,c,e){var k=c.pendingProps,y=!1,J=0!==(c.flags&128),ya;(ya=J)||(ya=null!==b&&null===b.memoizedState?!1:0!==(g.current&2));ya&&(y=!0,c.flags&=-129);ya=0!==(c.flags&32);c.flags&=-33;if(null===b){if(Te){y?pb(c):qc(c);(b=Sf)?(b=gm(b,mh),b=null!==b&&"\x26"!==b.data?b:null,null!==b&&(c.memoizedState={dehydrated:b,treeContext:null!==Yg?{id:lh,
overflow:Mf}:null,retryLane:536870912,hydrationErrors:null},e=td(b),e.return=c,c.child=e,yg=c,Sf=null)):b=null;if(null===b)throw He(c);em(b)?c.lanes=32:c.lanes=536870912;return null}var gb=k.children;k=k.fallback;if(y)return qc(c),y=c.mode,gb=sh({mode:"hidden",children:gb},y),k=Nc(k,y,e,null),gb.return=c,k.return=c,gb.sibling=k,c.child=gb,k=c.child,k.memoizedState=fh(e),k.childLanes=Dg(b,ya,e),c.memoizedState=wf,gi(null,k);pb(c);return Zi(c,gb)}var dc=b.memoizedState;if(null!==dc&&(gb=dc.dehydrated,
null!==gb)){if(J)c.flags&256?(pb(c),c.flags&=-257,c=zi(b,c,e)):null!==c.memoizedState?(qc(c),c.child=b.child,c.flags|=128,c=null):(qc(c),gb=k.fallback,y=c.mode,k=sh({mode:"visible",children:k.children},y),gb=Nc(gb,y,e,null),gb.flags|=2,k.return=c,gb.return=c,k.sibling=gb,c.child=k,sj(c,b.child,null,e),k=c.child,k.memoizedState=fh(e),k.childLanes=Dg(b,ya,e),c.memoizedState=wf,c=gi(null,k));else if(pb(c),em(gb)){if(ya=gb.nextSibling&&gb.nextSibling.dataset)var Hc=ya.dgst;ya=Hc;k=Error(u(419));k.stack=
"";k.digest=ya;zd({value:k,source:null,stack:null});c=zi(b,c,e)}else if(Td||Fe(b,c,e,!1),ya=0!==(e&b.childLanes),Td||ya){ya=af;if(null!==ya&&(k=Ja(ya,e),0!==k&&k!==dc.retryLane))throw dc.retryLane=k,ca(b,k),Jg(ya,b,k),ie;hl(gb)||yi();c=zi(b,c,e)}else hl(gb)?(c.flags|=192,c.child=b.child,c=null):(b=dc.treeContext,Sf=Jh(gb.nextSibling),yg=c,Te=!0,Oi=null,mh=!1,null!==b&&Re(c,b),c=Zi(c,k.children),c.flags|=4096);return c}if(y)return qc(c),gb=k.fallback,y=c.mode,dc=b.child,Hc=dc.sibling,k=hc(dc,{mode:"hidden",
children:k.children}),k.subtreeFlags=dc.subtreeFlags&65011712,null!==Hc?gb=hc(Hc,gb):(gb=Nc(gb,y,e,null),gb.flags|=2),gb.return=c,k.return=c,k.sibling=gb,c.child=k,gi(null,k),k=c.child,gb=b.child.memoizedState,null===gb?gb=fh(e):(y=gb.cachePool,null!==y?(dc=Xf._currentValue,y=y.parent!==dc?{parent:dc,pool:dc}:y):y=Ye(),gb={baseLanes:gb.baseLanes|e,cachePool:y}),k.memoizedState=gb,k.childLanes=Dg(b,ya,e),c.memoizedState=wf,gi(b.child,k);pb(c);e=b.child;b=e.sibling;e=hc(e,{mode:"visible",children:k.children});
e.return=c;e.sibling=null;null!==b&&(ya=c.deletions,null===ya?(c.deletions=[b],c.flags|=16):ya.push(b));c.child=e;c.memoizedState=null;return e}function Zi(b,c){c=sh({mode:"visible",children:c},b.mode);c.return=b;return b.child=c}function sh(b,c){b=Lb(22,b,null,c);b.lanes=0;return b}function zi(b,c,e){sj(c,b.child,null,e);b=Zi(c,c.pendingProps.children);b.flags|=2;c.memoizedState=null;return b}function G(b,c,e){b.lanes|=c;var k=b.alternate;null!==k&&(k.lanes|=c);$e(b.return,c,e)}function ba(b,c,e,
k,y,J){var ya=b.memoizedState;null===ya?b.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:k,tail:e,tailMode:y,treeForkCount:J}:(ya.isBackwards=c,ya.rendering=null,ya.renderingStartTime=0,ya.last=k,ya.tail=e,ya.tailMode=y,ya.treeForkCount=J)}function za(b,c,e){var k=c.pendingProps,y=k.revealOrder,J=k.tail;k=k.children;var ya=g.current,gb=0!==(ya&2);gb?(ya=ya&1|2,c.flags|=128):ya&=1;Ba(g,ya);ag(b,c,k,e);k=Te?uk:0;if(!gb&&null!==b&&0!==(b.flags&128))a:for(b=c.child;null!==b;){if(13===
b.tag)null!==b.memoizedState&&G(b,e,c);else if(19===b.tag)G(b,e,c);else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===c)break a;for(;null===b.sibling;){if(null===b.return||b.return===c)break a;b=b.return}b.sibling.return=b.return;b=b.sibling}switch(y){case "forwards":e=c.child;for(y=null;null!==e;)b=e.alternate,null!==b&&null===Jc(b)&&(y=e),e=e.sibling;e=y;null===e?(y=c.child,c.child=null):(y=e.sibling,e.sibling=null);ba(c,!1,y,e,J,k);break;case "backwards":case "unstable_legacy-backwards":e=
null;y=c.child;for(c.child=null;null!==y;){b=y.alternate;if(null!==b&&null===Jc(b)){c.child=y;break}b=y.sibling;y.sibling=e;e=y;y=b}ba(c,!0,e,null,J,k);break;case "together":ba(c,!1,null,null,void 0,k);break;default:c.memoizedState=null}return c.child}function Pa(b,c,e){null!==b&&(c.dependencies=b.dependencies);Qj|=c.lanes;if(0===(e&c.childLanes))if(null!==b){if(Fe(b,c,e,!1),0===(e&c.childLanes))return null}else return null;if(null!==b&&c.child!==b.child)throw Error(u(153));if(null!==c.child){b=c.child;
e=hc(b,b.pendingProps);c.child=e;for(e.return=c;null!==b.sibling;)b=b.sibling,e=e.sibling=hc(b,b.pendingProps),e.return=c;e.sibling=null}return c.child}function Jb(b,c){if(0!==(b.lanes&c))return!0;b=b.dependencies;return null!==b&&Nd(b)?!0:!1}function Kb(b,c,e){switch(c.tag){case 3:bb(c,c.stateNode.containerInfo);Jf(c,Xf,b.memoizedState.cache);oe();break;case 27:case 5:xb(c);break;case 4:bb(c,c.stateNode.containerInfo);break;case 10:Jf(c,c.type,c.memoizedProps.value);break;case 31:if(null!==c.memoizedState)return c.flags|=
128,uc(c),null;break;case 13:var k=c.memoizedState;if(null!==k){if(null!==k.dehydrated)return pb(c),c.flags|=128,null;if(0!==(e&c.child.childLanes))return uh(b,c,e);pb(c);b=Pa(b,c,e);return null!==b?b.sibling:null}pb(c);break;case 19:var y=0!==(b.flags&128);(k=0!==(e&c.childLanes))||(Fe(b,c,e,!1),k=0!==(e&c.childLanes));if(y){if(k)return za(b,c,e);c.flags|=128}y=c.memoizedState;null!==y&&(y.rendering=null,y.tail=null,y.lastEffect=null);Ba(g,g.current);if(k)break;else return null;case 22:return c.lanes=
0,Yi(b,c,e,c.pendingProps);case 24:Jf(c,Xf,b.memoizedState.cache)}return Pa(b,c,e)}function cc(b,c,e){if(null!==b)if(b.memoizedProps!==c.pendingProps)Td=!0;else{if(!Jb(b,e)&&0===(c.flags&128))return Td=!1,Kb(b,c,e);Td=0!==(b.flags&131072)?!0:!1}else Td=!1,Te&&0!==(c.flags&1048576)&&je(c,uk,c.index);c.lanes=0;switch(c.tag){case 16:a:{var k=c.pendingProps;b=Ne(c.elementType);c.type=b;if("function"===typeof b)$b(b)?(k=yh(b,k),c.tag=1,c=tj(null,c,b,k,e)):(c.tag=0,c=Cg(null,c,b,k,e));else{if(void 0!==
b&&null!==b){var y=b.$$typeof;if(y===Fh){c.tag=11;c=Xi(null,c,b,k,e);break a}else if(y===Rk){c.tag=14;c=Zh(null,c,b,k,e);break a}}c=wb(b)||b;throw Error(u(306,c,""));}}return c;case 0:return Cg(b,c,c.type,c.pendingProps,e);case 1:return k=c.type,y=yh(k,c.pendingProps),tj(b,c,k,y,e);case 3:a:{bb(c,c.stateNode.containerInfo);if(null===b)throw Error(u(387));k=c.pendingProps;var J=c.memoizedState;y=J.element;me(b,c);L(c,k,null,e);var ya=c.memoizedState;k=ya.cache;Jf(c,Xf,k);k!==J.cache&&df(c,[Xf],e,!0);
r();k=ya.element;if(J.isDehydrated)if(J={element:k,isDehydrated:!1,cache:ya.cache},c.updateQueue.baseState=J,c.memoizedState=J,c.flags&256){oe();c.flags|=256;ag(b,c,k,e);c=c.child;break a}else if(k!==y){y=Md(Error(u(424)),c);zd(y);oe();c.flags|=256;ag(b,c,k,e);c=c.child;break a}else{b=c.stateNode.containerInfo;switch(b.nodeType){case 9:b=b.body;break;default:b="HTML"===b.nodeName?b.ownerDocument.body:b}Sf=Jh(b.firstChild);yg=c;Te=!0;Oi=null;mh=!0;e=Km(c,null,k,e);for(c.child=e;e;)e.flags=e.flags&
-3|4096,e=e.sibling}else{oe();if(k===y){c=Pa(b,c,e);break a}ag(b,c,k,e)}c=c.child}return c;case 26:return th(b,c),null===b?(e=kl(c.type,null,c.pendingProps,null))?c.memoizedState=e:Te||(e=c.type,b=c.pendingProps,k=ll(pi.current).createElement(e),k[Hg]=c,k[Rg]=b,Eg(k,e,b),B(k),c.stateNode=k):c.memoizedState=kl(c.type,b.memoizedProps,c.pendingProps,b.memoizedState),null;case 27:return xb(c),null===b&&Te&&(k=c.stateNode=Lm(c.type,c.pendingProps,pi.current),yg=c,mh=!0,y=Sf,"head"===c.type?(En=y,Sf=Jh(k.firstChild)):
Sf=y),ag(b,c,c.pendingProps.children,e),th(b,c),null===b&&(c.flags|=4194304),c.child;case 5:if(null===b&&Te){if(y=k=Sf)k=Mm(k,c.type,c.pendingProps,mh),null!==k?(c.stateNode=k,yg=c,Sf=Jh(k.firstChild),mh=!1,y=!0):y=!1;y||He(c)}xb(c);y=c.type;J=c.pendingProps;ya=null!==b?b.memoizedProps:null;k=J.children;am(y,J)?k=null:null!==ya&&am(y,ya)&&(c.flags|=32);null!==c.memoizedState&&(y=pd(b,c,lc,null,null,e),Ml._currentValue=y);th(b,c);ag(b,c,k,e);return c.child;case 6:if(null===b&&Te){if(b=e=Sf)e=Nm(e,
c.pendingProps,mh),null!==e?(c.stateNode=e,yg=c,Sf=null,b=!0):b=!1;b||He(c)}return null;case 13:return uh(b,c,e);case 4:return bb(c,c.stateNode.containerInfo),k=c.pendingProps,null===b?c.child=sj(c,null,k,e):ag(b,c,k,e),c.child;case 11:return Xi(b,c,c.type,c.pendingProps,e);case 7:return ag(b,c,c.pendingProps,e),c.child;case 8:return ag(b,c,c.pendingProps.children,e),c.child;case 12:return ag(b,c,c.pendingProps.children,e),c.child;case 10:return k=c.pendingProps,Jf(c,c.type,k.value),ag(b,c,k.children,
e),c.child;case 9:return y=c.type._context,k=c.pendingProps.children,Kf(c),y=ye(y),k=k(y),c.flags|=1,ag(b,c,k,e),c.child;case 14:return Zh(b,c,c.type,c.pendingProps,e);case 15:return $h(b,c,c.type,c.pendingProps,e);case 19:return za(b,c,e);case 31:return Se(b,c,e);case 22:return Yi(b,c,e,c.pendingProps);case 24:return Kf(c),k=ye(Xf),null===b?(y=Xd(),null===y&&(y=af,J=fc(),y.pooledCache=J,J.refCount++,null!==J&&(y.pooledCacheLanes|=e),y=J),c.memoizedState={parent:k,cache:y},ef(c),Jf(c,Xf,y)):(0!==
(b.lanes&e)&&(me(b,c),L(c,null,null,e),r()),y=b.memoizedState,J=c.memoizedState,y.parent!==k?(y={parent:k,cache:k},c.memoizedState=y,0===c.lanes&&(c.memoizedState=c.updateQueue.baseState=y),Jf(c,Xf,k)):(k=J.cache,Jf(c,Xf,k),k!==y.cache&&df(c,[Xf],e,!0))),ag(b,c,c.pendingProps.children,e),c.child;case 29:throw c.pendingProps;}throw Error(u(156,c.tag));}function t(b,c,e,k,y){if(c=0!==(b.mode&32))c=!1;if(c){if(b.flags|=16777216,(y&335544128)===y)if(b.stateNode.complete)b.flags|=8192;else if(uj())b.flags|=
8192;else throw nj=jl,xk;}else b.flags&=-16777217}function M(b,c){if("stylesheet"!==c.type||0!==(c.state.loading&4))b.flags&=-16777217;else if(b.flags|=16777216,!Om(c))if(uj())b.flags|=8192;else throw nj=jl,xk;}function fa(b,c){null!==c&&(b.flags|=4);b.flags&16384&&(c=22!==b.tag?fb():536870912,b.lanes|=c,ml|=c)}function ta(b,c){if(!Te)switch(b.tailMode){case "hidden":c=b.tail;for(var e=null;null!==c;)null!==c.alternate&&(e=c),c=c.sibling;null===e?b.tail=null:e.sibling=null;break;case "collapsed":e=
b.tail;for(var k=null;null!==e;)null!==e.alternate&&(k=e),e=e.sibling;null===k?c||null===b.tail?b.tail=null:b.tail.sibling=null:k.sibling=null}}function Ua(b){var c=null!==b.alternate&&b.alternate.child===b.child,e=0,k=0;if(c)for(var y=b.child;null!==y;)e|=y.lanes|y.childLanes,k|=y.subtreeFlags&65011712,k|=y.flags&65011712,y.return=b,y=y.sibling;else for(y=b.child;null!==y;)e|=y.lanes|y.childLanes,k|=y.subtreeFlags,k|=y.flags,y.return=b,y=y.sibling;b.subtreeFlags|=k;b.childLanes=e;return c}function Tb(b,
c,e){var k=c.pendingProps;Qe(c);switch(c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ua(c),null;case 1:return Ua(c),null;case 3:e=c.stateNode;k=null;null!==b&&(k=b.memoizedState.cache);c.memoizedState.cache!==k&&(c.flags|=2048);Xe(Xf);Ab();e.pendingContext&&(e.context=e.pendingContext,e.pendingContext=null);if(null===b||null===b.child)ke(c)?c.flags|=4:null===b||b.memoizedState.isDehydrated&&0===(c.flags&256)||(c.flags|=1024,xe());Ua(c);return null;case 26:var y=
c.type,J=c.memoizedState;null===b?(c.flags|=4,null!==J?(Ua(c),M(c,J)):(Ua(c),t(c,y,null,k,e))):J?J!==b.memoizedState?(c.flags|=4,Ua(c),M(c,J)):(Ua(c),c.flags&=-16777217):(b=b.memoizedProps,b!==k&&(c.flags|=4),Ua(c),t(c,y,b,k,e));return null;case 27:qb(c);e=pi.current;y=c.type;if(null!==b&&null!=c.stateNode)b.memoizedProps!==k&&(c.flags|=4);else{if(!k){if(null===c.stateNode)throw Error(u(166));Ua(c);return null}b=Th.current;ke(c)?De(c,b):(b=Lm(y,k,e),c.stateNode=b,c.flags|=4)}Ua(c);return null;case 5:qb(c);
y=c.type;if(null!==b&&null!=c.stateNode)b.memoizedProps!==k&&(c.flags|=4);else{if(!k){if(null===c.stateNode)throw Error(u(166));Ua(c);return null}J=Th.current;if(ke(c))De(c,J);else{var ya=ll(pi.current);switch(J){case 1:J=ya.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:J=ya.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case "svg":J=ya.createElementNS("http://www.w3.org/2000/svg",y);break;case "math":J=ya.createElementNS("http://www.w3.org/1998/Math/MathML",
y);break;case "script":J=ya.createElement("div");J.innerHTML="\x3cscript\x3e\x3c/script\x3e";J=J.removeChild(J.firstChild);break;case "select":J="string"===typeof k.is?ya.createElement("select",{is:k.is}):ya.createElement("select");k.multiple?J.multiple=!0:k.size&&(J.size=k.size);break;default:J="string"===typeof k.is?ya.createElement(y,{is:k.is}):ya.createElement(y)}}J[Hg]=c;J[Rg]=k;ya=c.child;a:for(;null!==ya;){if(5===ya.tag||6===ya.tag)J.appendChild(ya.stateNode);else if(4!==ya.tag&&27!==ya.tag&&
null!==ya.child){ya.child.return=ya;ya=ya.child;continue}if(ya===c)break a;for(;null===ya.sibling;){if(null===ya.return||ya.return===c)break a;ya=ya.return}ya.sibling.return=ya.return;ya=ya.sibling}c.stateNode=J;a:switch(Eg(J,y,k),y){case "button":case "input":case "select":case "textarea":k=!!k.autoFocus;break a;case "img":k=!0;break a;default:k=!1}k&&(c.flags|=4)}}Ua(c);t(c,c.type,null===b?null:b.memoizedProps,c.pendingProps,e);return null;case 6:if(b&&null!=c.stateNode)b.memoizedProps!==k&&(c.flags|=
4);else{if("string"!==typeof k&&null===c.stateNode)throw Error(u(166));b=pi.current;if(ke(c)){b=c.stateNode;e=c.memoizedProps;k=null;y=yg;if(null!==y)switch(y.tag){case 27:case 5:k=y.memoizedProps}b[Hg]=c;(b=b.nodeValue===e||null!==k&&!0===k.suppressHydrationWarning||wk(b.nodeValue,e)?!0:!1)||He(c,!0)}else b=ll(b).createTextNode(k),b[Hg]=c,c.stateNode=b}Ua(c);return null;case 31:e=c.memoizedState;if(null===b||null!==b.memoizedState){k=ke(c);if(null!==e){if(null===b){if(!k)throw Error(u(318));b=c.memoizedState;
b=null!==b?b.dehydrated:null;if(!b)throw Error(u(557));b[Hg]=c}else oe(),0===(c.flags&128)&&(c.memoizedState=null),c.flags|=4;Ua(c);b=!1}else e=xe(),null!==b&&null!==b.memoizedState&&(b.memoizedState.hydrationErrors=e),b=!0;if(!b){if(c.flags&256)return oc(c),c;oc(c);return null}if(0!==(c.flags&128))throw Error(u(558));}Ua(c);return null;case 13:k=c.memoizedState;if(null===b||null!==b.memoizedState&&null!==b.memoizedState.dehydrated){y=ke(c);if(null!==k&&null!==k.dehydrated){if(null===b){if(!y)throw Error(u(318));
y=c.memoizedState;y=null!==y?y.dehydrated:null;if(!y)throw Error(u(317));y[Hg]=c}else oe(),0===(c.flags&128)&&(c.memoizedState=null),c.flags|=4;Ua(c);y=!1}else y=xe(),null!==b&&null!==b.memoizedState&&(b.memoizedState.hydrationErrors=y),y=!0;if(!y){if(c.flags&256)return oc(c),c;oc(c);return null}}oc(c);if(0!==(c.flags&128))return c.lanes=e,c;e=null!==k;b=null!==b&&null!==b.memoizedState;e&&(k=c.child,y=null,null!==k.alternate&&null!==k.alternate.memoizedState&&null!==k.alternate.memoizedState.cachePool&&
(y=k.alternate.memoizedState.cachePool.pool),J=null,null!==k.memoizedState&&null!==k.memoizedState.cachePool&&(J=k.memoizedState.cachePool.pool),J!==y&&(k.flags|=2048));e!==b&&e&&(c.child.flags|=8192);fa(c,c.updateQueue);Ua(c);return null;case 4:return Ab(),null===b&&bg(c.stateNode.containerInfo),Ua(c),null;case 10:return Xe(c.type),Ua(c),null;case 19:Yb(g);k=c.memoizedState;if(null===k)return Ua(c),null;y=0!==(c.flags&128);J=k.rendering;if(null===J)if(y)ta(k,!1);else{if(0!==rg||null!==b&&0!==(b.flags&
128))for(b=c.child;null!==b;){J=Jc(b);if(null!==J){c.flags|=128;ta(k,!1);b=J.updateQueue;c.updateQueue=b;fa(c,b);c.subtreeFlags=0;b=e;for(e=c.child;null!==e;)Ec(e,b),e=e.sibling;Ba(g,g.current&1|2);Te&&Ad(c,k.treeForkCount);return c.child}b=b.sibling}null!==k.tail&&cg()>Pm&&(c.flags|=128,y=!0,ta(k,!1),c.lanes=4194304)}else{if(!y)if(b=Jc(J),null!==b){if(c.flags|=128,y=!0,b=b.updateQueue,c.updateQueue=b,fa(c,b),ta(k,!0),null===k.tail&&"hidden"===k.tailMode&&!J.alternate&&!Te)return Ua(c),null}else 2*
cg()-k.renderingStartTime>Pm&&536870912!==e&&(c.flags|=128,y=!0,ta(k,!1),c.lanes=4194304);k.isBackwards?(J.sibling=c.child,c.child=J):(b=k.last,null!==b?b.sibling=J:c.child=J,k.last=J)}if(null!==k.tail)return b=k.tail,k.rendering=b,k.tail=b.sibling,k.renderingStartTime=cg(),b.sibling=null,e=g.current,Ba(g,y?e&1|2:e&1),Te&&Ad(c,k.treeForkCount),b;Ua(c);return null;case 22:case 23:return oc(c),sb(),k=null!==c.memoizedState,null!==b?null!==b.memoizedState!==k&&(c.flags|=8192):k&&(c.flags|=8192),k?0!==
(e&536870912)&&0===(c.flags&128)&&(Ua(c),c.subtreeFlags&6&&(c.flags|=8192)):Ua(c),e=c.updateQueue,null!==e&&fa(c,e.retryQueue),e=null,null!==b&&null!==b.memoizedState&&null!==b.memoizedState.cachePool&&(e=b.memoizedState.cachePool.pool),k=null,null!==c.memoizedState&&null!==c.memoizedState.cachePool&&(k=c.memoizedState.cachePool.pool),k!==e&&(c.flags|=2048),null!==b&&Yb(wi),null;case 24:return e=null,null!==b&&(e=b.memoizedState.cache),c.memoizedState.cache!==e&&(c.flags|=2048),Xe(Xf),Ua(c),null;
case 25:return null;case 30:return null}throw Error(u(156,c.tag));}function ic(b,c){Qe(c);switch(c.tag){case 1:return b=c.flags,b&65536?(c.flags=b&-65537|128,c):null;case 3:return Xe(Xf),Ab(),b=c.flags,0!==(b&65536)&&0===(b&128)?(c.flags=b&-65537|128,c):null;case 26:case 27:case 5:return qb(c),null;case 31:if(null!==c.memoizedState){oc(c);if(null===c.alternate)throw Error(u(340));oe()}b=c.flags;return b&65536?(c.flags=b&-65537|128,c):null;case 13:oc(c);b=c.memoizedState;if(null!==b&&null!==b.dehydrated){if(null===
c.alternate)throw Error(u(340));oe()}b=c.flags;return b&65536?(c.flags=b&-65537|128,c):null;case 19:return Yb(g),null;case 4:return Ab(),null;case 10:return Xe(c.type),null;case 22:case 23:return oc(c),sb(),null!==b&&Yb(wi),b=c.flags,b&65536?(c.flags=b&-65537|128,c):null;case 24:return Xe(Xf),null;case 25:return null;default:return null}}function Fc(b,c){Qe(c);switch(c.tag){case 3:Xe(Xf);Ab();break;case 26:case 27:case 5:qb(c);break;case 4:Ab();break;case 31:null!==c.memoizedState&&oc(c);break;case 13:oc(c);
break;case 19:Yb(g);break;case 10:Xe(c.type);break;case 22:case 23:oc(c);sb();null!==b&&Yb(wi);break;case 24:Xe(Xf)}}function bc(b,c){try{var e=c.updateQueue,k=null!==e?e.lastEffect:null;if(null!==k){var y=k.next;e=y;do{if((e.tag&b)===b){k=void 0;var J=e.create,ya=e.inst;k=J();ya.destroy=k}e=e.next}while(e!==y)}}catch(gb){Rc(c,c.return,gb)}}function Wc(b,c,e){try{var k=c.updateQueue,y=null!==k?k.lastEffect:null;if(null!==y){var J=y.next;k=J;do{if((k.tag&b)===b){var ya=k.inst,gb=ya.destroy;if(void 0!==
gb){ya.destroy=void 0;y=c;var dc=e,Hc=gb;try{Hc()}catch(Yc){Rc(y,dc,Yc)}}}k=k.next}while(k!==J)}}catch(Yc){Rc(c,c.return,Yc)}}function Qc(b){var c=b.updateQueue;if(null!==c){var e=b.stateNode;try{Ga(c,e)}catch(k){Rc(b,b.return,k)}}}function vd(b,c,e){e.props=yh(b.type,b.memoizedProps);e.state=b.memoizedState;try{e.componentWillUnmount()}catch(k){Rc(b,c,k)}}function Pd(b,c){try{var e=b.ref;if(null!==e){switch(b.tag){case 26:case 27:case 5:var k=b.stateNode;break;case 30:k=b.stateNode;break;default:k=
b.stateNode}"function"===typeof e?b.refCleanup=e(k):e.current=k}}catch(y){Rc(b,c,y)}}function Qd(b,c){var e=b.ref,k=b.refCleanup;if(null!==e)if("function"===typeof k)try{k()}catch(y){Rc(b,c,y)}finally{b.refCleanup=null,b=b.alternate,null!=b&&(b.refCleanup=null)}else if("function"===typeof e)try{e(null)}catch(y){Rc(b,c,y)}else e.current=null}function Be(b){var c=b.type,e=b.memoizedProps,k=b.stateNode;try{a:switch(c){case "button":case "input":case "select":case "textarea":e.autoFocus&&k.focus();break a;
case "img":e.src?k.src=e.src:e.srcSet&&(k.srcset=e.srcSet)}}catch(y){Rc(b,b.return,y)}}function Af(b,c,e){try{var k=b.stateNode;Gn(k,b.type,e,c);k[Rg]=c}catch(y){Rc(b,b.return,y)}}function gf(b){return 5===b.tag||3===b.tag||26===b.tag||27===b.tag&&"head"===b.type||4===b.tag}function Mg(b){a:for(;;){for(;null===b.sibling;){if(null===b.return||gf(b.return))return null;b=b.return}b.sibling.return=b.return;for(b=b.sibling;5!==b.tag&&6!==b.tag&&18!==b.tag;){if(27===b.tag&&"head"===b.type)continue a;if(b.flags&
2)continue a;if(null===b.child||4===b.tag)continue a;else b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function ee(b,c,e){var k=b.tag;if(5===k||6===k)b=b.stateNode,c?(9===e.nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e).insertBefore(b,c):(c=9===e.nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,c.appendChild(b),e=e._reactRootContainer,null!==e&&void 0!==e||null!==c.onclick||(c.onclick=Mc));else if(4!==k&&(27===k&&"head"===b.type&&(e=b.stateNode,c=null),b=b.child,
null!==b))for(ee(b,c,e),b=b.sibling;null!==b;)ee(b,c,e),b=b.sibling}function Ce(b,c,e){var k=b.tag;if(5===k||6===k)b=b.stateNode,c?e.insertBefore(b,c):e.appendChild(b);else if(4!==k&&(27===k&&"head"===b.type&&(e=b.stateNode),b=b.child,null!==b))for(Ce(b,c,e),b=b.sibling;null!==b;)Ce(b,c,e),b=b.sibling}function hi(b){var c=b.stateNode,e=b.memoizedProps;try{for(var k=b.type,y=c.attributes;y.length;)c.removeAttributeNode(y[0]);Eg(c,k,e);c[Hg]=b;c[Rg]=e}catch(J){Rc(b,b.return,J)}}function Ah(b,c){b=b.containerInfo;
Hn=Qm;b=ld(b);if(ed(b)){if("selectionStart"in b)var e={start:b.selectionStart,end:b.selectionEnd};else a:{e=(e=b.ownerDocument)&&e.defaultView||window;var k=e.getSelection&&e.getSelection();if(k&&0!==k.rangeCount){e=k.anchorNode;var y=k.anchorOffset,J=k.focusNode;k=k.focusOffset;try{e.nodeType,J.nodeType}catch(pe){e=null;break a}var ya=0,gb=-1,dc=-1,Hc=0,Yc=0,bd=b,Kc=null;b:for(;;){for(var Sc;;){bd!==e||0!==y&&3!==bd.nodeType||(gb=ya+y);bd!==J||0!==k&&3!==bd.nodeType||(dc=ya+k);3===bd.nodeType&&(ya+=
bd.nodeValue.length);if(null===(Sc=bd.firstChild))break;Kc=bd;bd=Sc}for(;;){if(bd===b)break b;Kc===e&&++Hc===y&&(gb=ya);Kc===J&&++Yc===k&&(dc=ya);if(null!==(Sc=bd.nextSibling))break;bd=Kc;Kc=bd.parentNode}bd=Sc}e=-1===gb||-1===dc?null:{start:gb,end:dc}}else e=null}e=e||{start:0,end:0}}else e=null;In={focusedElem:b,selectionRange:e};Qm=!1;for(fe=c;null!==fe;)if(c=fe,b=c.child,0!==(c.subtreeFlags&1028)&&null!==b)b.return=c,fe=b;else for(;null!==fe;){c=fe;J=c.alternate;b=c.flags;switch(c.tag){case 0:if(0!==
(b&4)&&(b=c.updateQueue,b=null!==b?b.events:null,null!==b))for(e=0;e<b.length;e++)y=b[e],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if(0!==(b&1024)&&null!==J){b=void 0;e=c;y=J.memoizedProps;J=J.memoizedState;k=e.stateNode;try{var Ud=yh(e.type,y);b=k.getSnapshotBeforeUpdate(Ud,J);k.__reactInternalSnapshotBeforeUpdate=b}catch(pe){Rc(e,e.return,pe)}}break;case 3:if(0!==(b&1024))if(b=c.stateNode.containerInfo,e=b.nodeType,9===e)hm(b);else if(1===e)switch(b.nodeName){case "HEAD":case "HTML":case "BODY":hm(b);
break;default:b.textContent=""}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(0!==(b&1024))throw Error(u(163));}b=c.sibling;if(null!==b){b.return=c.return;fe=b;break}fe=c.return}}function Ai(b,c,e){var k=e.flags;switch(e.tag){case 0:case 11:case 15:sg(b,e);k&4&&bc(5,e);break;case 1:sg(b,e);if(k&4)if(b=e.stateNode,null===c)try{b.componentDidMount()}catch(ya){Rc(e,e.return,ya)}else{var y=yh(e.type,c.memoizedProps);c=c.memoizedState;try{b.componentDidUpdate(y,c,b.__reactInternalSnapshotBeforeUpdate)}catch(ya){Rc(e,
e.return,ya)}}k&64&&Qc(e);k&512&&Pd(e,e.return);break;case 3:sg(b,e);if(k&64&&(b=e.updateQueue,null!==b)){c=null;if(null!==e.child)switch(e.child.tag){case 27:case 5:c=e.child.stateNode;break;case 1:c=e.child.stateNode}try{Ga(b,c)}catch(ya){Rc(e,e.return,ya)}}break;case 27:null===c&&k&4&&hi(e);case 26:case 5:sg(b,e);null===c&&k&4&&Be(e);k&512&&Pd(e,e.return);break;case 12:sg(b,e);break;case 31:sg(b,e);k&4&&Gf(b,e);break;case 13:sg(b,e);k&4&&xf(b,e);k&64&&(b=e.memoizedState,null!==b&&(b=b.dehydrated,
null!==b&&(e=ue.bind(null,e),Jn(b,e))));break;case 22:k=null!==e.memoizedState||cf;if(!k){c=null!==c&&null!==c.memoizedState||Le;y=cf;var J=Le;cf=k;(Le=c)&&!J?Ph(b,e,0!==(e.subtreeFlags&8772)):sg(b,e);cf=y;Le=J}break;case 30:break;default:sg(b,e)}}function Bf(b){var c=b.alternate;null!==c&&(b.alternate=null,Bf(c));b.child=null;b.deletions=null;b.sibling=null;5===b.tag&&(c=b.stateNode,null!==c&&n(c));b.stateNode=null;b.return=null;b.dependencies=null;b.memoizedProps=null;b.memoizedState=null;b.pendingProps=
null;b.stateNode=null;b.updateQueue=null}function Of(b,c,e){for(e=e.child;null!==e;)gh(b,c,e),e=e.sibling}function gh(b,c,e){if(Qg&&"function"===typeof Qg.onCommitFiberUnmount)try{Qg.onCommitFiberUnmount(Ki,e)}catch(J){}switch(e.tag){case 26:Le||Qd(e,c);Of(b,c,e);e.memoizedState?e.memoizedState.count--:e.stateNode&&(e=e.stateNode,e.parentNode.removeChild(e));break;case 27:Le||Qd(e,c);var k=Oe,y=Fg;"head"===e.type&&(Oe=e.stateNode,Fg=!1);Of(b,c,e);Vj(e.stateNode);Oe=k;Fg=y;break;case 5:Le||Qd(e,c);
case 6:k=Oe;y=Fg;Oe=null;Of(b,c,e);Oe=k;Fg=y;if(null!==Oe)if(Fg)try{(9===Oe.nodeType?Oe.body:"HTML"===Oe.nodeName?Oe.ownerDocument.body:Oe).removeChild(e.stateNode)}catch(J){Rc(e,c,J)}else try{Oe.removeChild(e.stateNode)}catch(J){Rc(e,c,J)}break;case 18:null!==Oe&&(Fg?(b=Oe,Rm(9===b.nodeType?b.body:"HTML"===b.nodeName?b.ownerDocument.body:b,e.stateNode),Bi(b)):Rm(Oe,e.stateNode));break;case 4:k=Oe;y=Fg;Oe=e.stateNode.containerInfo;Fg=!0;Of(b,c,e);Oe=k;Fg=y;break;case 0:case 11:case 14:case 15:Wc(2,
e,c);Le||Wc(4,e,c);Of(b,c,e);break;case 1:Le||(Qd(e,c),k=e.stateNode,"function"===typeof k.componentWillUnmount&&vd(e,c,k));Of(b,c,e);break;case 21:Of(b,c,e);break;case 22:Le=(k=Le)||null!==e.memoizedState;Of(b,c,e);Le=k;break;default:Of(b,c,e)}}function Gf(b,c){if(null===c.memoizedState&&(b=c.alternate,null!==b&&(b=b.memoizedState,null!==b))){b=b.dehydrated;try{Bi(b)}catch(e){Rc(c,c.return,e)}}}function xf(b,c){if(null===c.memoizedState&&(b=c.alternate,null!==b&&(b=b.memoizedState,null!==b&&(b=b.dehydrated,
null!==b))))try{Bi(b)}catch(e){Rc(c,c.return,e)}}function Gg(b){switch(b.tag){case 31:case 13:case 19:var c=b.stateNode;null===c&&(c=b.stateNode=new Pf);return c;case 22:return b=b.stateNode,c=b._retryCache,null===c&&(c=b._retryCache=new Pf),c;default:throw Error(u(435,b.tag));}}function Bh(b,c){var e=Gg(b);c.forEach(function(k){if(!e.has(k)){e.add(k);var y=Gd.bind(null,b,k);k.then(y,y)}})}function jg(b,c){var e=c.deletions;if(null!==e)for(var k=0;k<e.length;k++){var y=e[k],J=b,ya=c,gb=ya;a:for(;null!==
gb;){switch(gb.tag){case 27:if("head"===gb.type){Oe=gb.stateNode;Fg=!1;break a}break;case 5:Oe=gb.stateNode;Fg=!1;break a;case 3:case 4:Oe=gb.stateNode.containerInfo;Fg=!0;break a}gb=gb.return}if(null===Oe)throw Error(u(160));gh(J,ya,y);Oe=null;Fg=!1;J=y.alternate;null!==J&&(J.return=null);y.return=null}if(c.subtreeFlags&13886)for(c=c.child;null!==c;)bi(c,b),c=c.sibling}function bi(b,c){var e=b.alternate,k=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:jg(c,b);Hf(b);k&4&&(Wc(3,b,b.return),bc(3,
b),Wc(5,b,b.return));break;case 1:jg(c,b);Hf(b);k&512&&(Le||null===e||Qd(e,e.return));k&64&&cf&&(b=b.updateQueue,null!==b&&(k=b.callbacks,null!==k&&(e=b.shared.hiddenCallbacks,b.shared.hiddenCallbacks=null===e?k:e.concat(k))));break;case 26:var y=ci;jg(c,b);Hf(b);k&512&&(Le||null===e||Qd(e,e.return));if(k&4){var J=null!==e?e.memoizedState:null;k=b.memoizedState;if(null===e)if(null===k)if(null===b.stateNode){a:{k=b.type;e=b.memoizedProps;y=y.ownerDocument||y;b:switch(k){case "title":J=y.getElementsByTagName("title")[0];
if(!J||J[Ij]||J[Hg]||"http://www.w3.org/2000/svg"===J.namespaceURI||J.hasAttribute("itemprop"))J=y.createElement(k),y.head.insertBefore(J,y.querySelector("head \x3e title"));Eg(J,k,e);J[Hg]=b;B(J);k=J;break a;case "link":var ya=im("link","href",y).get(k+(e.href||""));if(ya)for(var gb=0;gb<ya.length;gb++)if(J=ya[gb],J.getAttribute("href")===(null==e.href||""===e.href?null:e.href)&&J.getAttribute("rel")===(null==e.rel?null:e.rel)&&J.getAttribute("title")===(null==e.title?null:e.title)&&J.getAttribute("crossorigin")===
(null==e.crossOrigin?null:e.crossOrigin)){ya.splice(gb,1);break b}J=y.createElement(k);Eg(J,k,e);y.head.appendChild(J);break;case "meta":if(ya=im("meta","content",y).get(k+(e.content||"")))for(gb=0;gb<ya.length;gb++)if(J=ya[gb],J.getAttribute("content")===(null==e.content?null:""+e.content)&&J.getAttribute("name")===(null==e.name?null:e.name)&&J.getAttribute("property")===(null==e.property?null:e.property)&&J.getAttribute("http-equiv")===(null==e.httpEquiv?null:e.httpEquiv)&&J.getAttribute("charset")===
(null==e.charSet?null:e.charSet)){ya.splice(gb,1);break b}J=y.createElement(k);Eg(J,k,e);y.head.appendChild(J);break;default:throw Error(u(468,k));}J[Hg]=b;B(J);k=J}b.stateNode=k}else Sm(y,b.type,b.stateNode);else b.stateNode=nl(y,k,b.memoizedProps);else J!==k?(null===J?null!==e.stateNode&&(e=e.stateNode,e.parentNode.removeChild(e)):J.count--,null===k?Sm(y,b.type,b.stateNode):nl(y,k,b.memoizedProps)):null===k&&null!==b.stateNode&&Af(b,b.memoizedProps,e.memoizedProps)}break;case 27:jg(c,b);Hf(b);k&
512&&(Le||null===e||Qd(e,e.return));null!==e&&k&4&&Af(b,b.memoizedProps,e.memoizedProps);break;case 5:jg(c,b);Hf(b);k&512&&(Le||null===e||Qd(e,e.return));if(b.flags&32){y=b.stateNode;try{kc(y,"")}catch(Ud){Rc(b,b.return,Ud)}}k&4&&null!=b.stateNode&&(y=b.memoizedProps,Af(b,y,null!==e?e.memoizedProps:y));k&1024&&(Ge=!0);break;case 6:jg(c,b);Hf(b);if(k&4){if(null===b.stateNode)throw Error(u(162));k=b.memoizedProps;e=b.stateNode;try{e.nodeValue=k}catch(Ud){Rc(b,b.return,Ud)}}break;case 3:Tm=null;y=ci;
ci=Qf(c.containerInfo);jg(c,b);ci=y;Hf(b);if(k&4&&null!==e&&e.memoizedState.isDehydrated)try{Bi(c.containerInfo)}catch(Ud){Rc(b,b.return,Ud)}Ge&&(Ge=!1,Wf(b));break;case 4:k=ci;ci=Qf(b.stateNode.containerInfo);jg(c,b);Hf(b);ci=k;break;case 12:jg(c,b);Hf(b);break;case 31:jg(c,b);Hf(b);k&4&&(k=b.updateQueue,null!==k&&(b.updateQueue=null,Bh(b,k)));break;case 13:jg(c,b);Hf(b);b.child.flags&8192&&null!==b.memoizedState!==(null!==e&&null!==e.memoizedState)&&(Um=cg());k&4&&(k=b.updateQueue,null!==k&&(b.updateQueue=
null,Bh(b,k)));break;case 22:y=null!==b.memoizedState;var dc=null!==e&&null!==e.memoizedState,Hc=cf,Yc=Le;cf=Hc||y;Le=Yc||dc;jg(c,b);Le=Yc;cf=Hc;Hf(b);if(k&8192)a:for(c=b.stateNode,c._visibility=y?c._visibility&-2:c._visibility|1,y&&(null===e||dc||cf||Le||di(b)),e=null,c=b;;){if(5===c.tag||26===c.tag){if(null===e){dc=e=c;try{if(J=dc.stateNode,y)ya=J.style,"function"===typeof ya.setProperty?ya.setProperty("display","none","important"):ya.display="none";else{gb=dc.stateNode;var bd=dc.memoizedProps.style,
Kc=void 0!==bd&&null!==bd&&bd.hasOwnProperty("display")?bd.display:null;gb.style.display=null==Kc||"boolean"===typeof Kc?"":(""+Kc).trim()}}catch(Ud){Rc(dc,dc.return,Ud)}}}else if(6===c.tag){if(null===e){dc=c;try{dc.stateNode.nodeValue=y?"":dc.memoizedProps}catch(Ud){Rc(dc,dc.return,Ud)}}}else if(18===c.tag){if(null===e){dc=c;try{var Sc=dc.stateNode;y?jm(Sc,!0):jm(dc.stateNode,!1)}catch(Ud){Rc(dc,dc.return,Ud)}}}else if((22!==c.tag&&23!==c.tag||null===c.memoizedState||c===b)&&null!==c.child){c.child.return=
c;c=c.child;continue}if(c===b)break a;for(;null===c.sibling;){if(null===c.return||c.return===b)break a;e===c&&(e=null);c=c.return}e===c&&(e=null);c.sibling.return=c.return;c=c.sibling}k&4&&(k=b.updateQueue,null!==k&&(e=k.retryQueue,null!==e&&(k.retryQueue=null,Bh(b,e))));break;case 19:jg(c,b);Hf(b);k&4&&(k=b.updateQueue,null!==k&&(b.updateQueue=null,Bh(b,k)));break;case 30:break;case 21:break;default:jg(c,b),Hf(b)}}function Hf(b){var c=b.flags;if(c&2){try{for(var e,k=b.return;null!==k;){if(gf(k)){e=
k;break}k=k.return}if(null==e)throw Error(u(160));switch(e.tag){case 27:var y=e.stateNode,J=Mg(b);Ce(b,J,y);break;case 5:var ya=e.stateNode;e.flags&32&&(kc(ya,""),e.flags&=-33);var gb=Mg(b);Ce(b,gb,ya);break;case 3:case 4:var dc=e.stateNode.containerInfo,Hc=Mg(b);ee(b,Hc,dc);break;default:throw Error(u(161));}}catch(Yc){Rc(b,b.return,Yc)}b.flags&=-3}c&4096&&(b.flags&=-4097)}function Wf(b){if(b.subtreeFlags&1024)for(b=b.child;null!==b;){var c=b;Wf(c);5===c.tag&&c.flags&1024&&c.stateNode.reset();b=
b.sibling}}function sg(b,c){if(c.subtreeFlags&8772)for(c=c.child;null!==c;)Ai(b,c.alternate,c),c=c.sibling}function di(b){for(b=b.child;null!==b;){var c=b;switch(c.tag){case 0:case 11:case 14:case 15:Wc(4,c,c.return);di(c);break;case 1:Qd(c,c.return);var e=c.stateNode;"function"===typeof e.componentWillUnmount&&vd(c,c.return,e);di(c);break;case 27:Vj(c.stateNode);case 26:case 5:Qd(c,c.return);di(c);break;case 22:null===c.memoizedState&&di(c);break;case 30:di(c);break;default:di(c)}b=b.sibling}}function Ph(b,
c,e){e=e&&0!==(c.subtreeFlags&8772);for(c=c.child;null!==c;){var k=c.alternate,y=b,J=c,ya=J.flags;switch(J.tag){case 0:case 11:case 15:Ph(y,J,e);bc(4,J);break;case 1:Ph(y,J,e);k=J;y=k.stateNode;if("function"===typeof y.componentDidMount)try{y.componentDidMount()}catch(Hc){Rc(k,k.return,Hc)}k=J;y=k.updateQueue;if(null!==y){var gb=k.stateNode;try{var dc=y.shared.hiddenCallbacks;if(null!==dc)for(y.shared.hiddenCallbacks=null,y=0;y<dc.length;y++)ka(dc[y],gb)}catch(Hc){Rc(k,k.return,Hc)}}e&&ya&64&&Qc(J);
Pd(J,J.return);break;case 27:hi(J);case 26:case 5:Ph(y,J,e);e&&null===k&&ya&4&&Be(J);Pd(J,J.return);break;case 12:Ph(y,J,e);break;case 31:Ph(y,J,e);e&&ya&4&&Gf(y,J);break;case 13:Ph(y,J,e);e&&ya&4&&xf(y,J);break;case 22:null===J.memoizedState&&Ph(y,J,e);Pd(J,J.return);break;case 30:break;default:Ph(y,J,e)}c=c.sibling}}function Wj(b,c){var e=null;null!==b&&null!==b.memoizedState&&null!==b.memoizedState.cachePool&&(e=b.memoizedState.cachePool.pool);b=null;null!==c.memoizedState&&null!==c.memoizedState.cachePool&&
(b=c.memoizedState.cachePool.pool);b!==e&&(null!=b&&b.refCount++,null!=e&&fd(e))}function Xj(b,c){b=null;null!==c.alternate&&(b=c.alternate.memoizedState.cache);c=c.memoizedState.cache;c!==b&&(c.refCount++,null!=b&&fd(b))}function hh(b,c,e,k){if(c.subtreeFlags&10256)for(c=c.child;null!==c;)dg(b,c,e,k),c=c.sibling}function dg(b,c,e,k){var y=c.flags;switch(c.tag){case 0:case 11:case 15:hh(b,c,e,k);y&2048&&bc(9,c);break;case 1:hh(b,c,e,k);break;case 3:hh(b,c,e,k);y&2048&&(b=null,null!==c.alternate&&
(b=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==b&&(c.refCount++,null!=b&&fd(b)));break;case 12:if(y&2048){hh(b,c,e,k);b=c.stateNode;try{var J=c.memoizedProps,ya=J.id,gb=J.onPostCommit;"function"===typeof gb&&gb(ya,null===c.alternate?"mount":"update",b.passiveEffectDuration,-0)}catch(dc){Rc(c,c.return,dc)}}else hh(b,c,e,k);break;case 31:hh(b,c,e,k);break;case 13:hh(b,c,e,k);break;case 23:break;case 22:J=c.stateNode;ya=c.alternate;null!==c.memoizedState?J._visibility&2?hh(b,c,e,k):
Ci(b,c):J._visibility&2?hh(b,c,e,k):(J._visibility|=2,$i(b,c,e,k,0!==(c.subtreeFlags&10256)||!1));y&2048&&Wj(ya,c);break;case 24:hh(b,c,e,k);y&2048&&Xj(c.alternate,c);break;default:hh(b,c,e,k)}}function $i(b,c,e,k,y){y=y&&(0!==(c.subtreeFlags&10256)||!1);for(c=c.child;null!==c;){var J=b,ya=c,gb=e,dc=k,Hc=ya.flags;switch(ya.tag){case 0:case 11:case 15:$i(J,ya,gb,dc,y);bc(8,ya);break;case 23:break;case 22:var Yc=ya.stateNode;null!==ya.memoizedState?Yc._visibility&2?$i(J,ya,gb,dc,y):Ci(J,ya):(Yc._visibility|=
2,$i(J,ya,gb,dc,y));y&&Hc&2048&&Wj(ya.alternate,ya);break;case 24:$i(J,ya,gb,dc,y);y&&Hc&2048&&Xj(ya.alternate,ya);break;default:$i(J,ya,gb,dc,y)}c=c.sibling}}function Ci(b,c){if(c.subtreeFlags&10256)for(c=c.child;null!==c;){var e=b,k=c,y=k.flags;switch(k.tag){case 22:Ci(e,k);y&2048&&Wj(k.alternate,k);break;case 24:Ci(e,k);y&2048&&Xj(k.alternate,k);break;default:Ci(e,k)}c=c.sibling}}function Ng(b,c,e){if(b.subtreeFlags&ii)for(b=b.child;null!==b;)Yj(b,c,e),b=b.sibling}function Yj(b,c,e){switch(b.tag){case 26:Ng(b,
c,e);b.flags&ii&&null!==b.memoizedState&&Kn(e,ci,b.memoizedState,b.memoizedProps);break;case 5:Ng(b,c,e);break;case 3:case 4:var k=ci;ci=Qf(b.stateNode.containerInfo);Ng(b,c,e);ci=k;break;case 22:null===b.memoizedState&&(k=b.alternate,null!==k&&null!==k.memoizedState?(k=ii,ii=16777216,Ng(b,c,e),ii=k):Ng(b,c,e));break;default:Ng(b,c,e)}}function yk(b){var c=b.alternate;if(null!==c&&(b=c.child,null!==b)){c.child=null;do c=b.sibling,b.sibling=null,b=c;while(null!==b)}}function aj(b){var c=b.deletions;
if(0!==(b.flags&16)){if(null!==c)for(var e=0;e<c.length;e++){var k=c[e];fe=k;vj(k,b)}yk(b)}if(b.subtreeFlags&10256)for(b=b.child;null!==b;)ol(b),b=b.sibling}function ol(b){switch(b.tag){case 0:case 11:case 15:aj(b);b.flags&2048&&Wc(9,b,b.return);break;case 3:aj(b);break;case 12:aj(b);break;case 22:var c=b.stateNode;null!==b.memoizedState&&c._visibility&2&&(null===b.return||13!==b.return.tag)?(c._visibility&=-3,Di(b)):aj(b);break;default:aj(b)}}function Di(b){var c=b.deletions;if(0!==(b.flags&16)){if(null!==
c)for(var e=0;e<c.length;e++){var k=c[e];fe=k;vj(k,b)}yk(b)}for(b=b.child;null!==b;){c=b;switch(c.tag){case 0:case 11:case 15:Wc(8,c,c.return);Di(c);break;case 22:e=c.stateNode;e._visibility&2&&(e._visibility&=-3,Di(c));break;default:Di(c)}b=b.sibling}}function vj(b,c){for(;null!==fe;){var e=fe;switch(e.tag){case 0:case 11:case 15:Wc(8,e,c);break;case 23:case 22:if(null!==e.memoizedState&&null!==e.memoizedState.cachePool){var k=e.memoizedState.cachePool.pool;null!=k&&k.refCount++}break;case 24:fd(e.memoizedState.cache)}k=
e.child;if(null!==k)k.return=e,fe=k;else a:for(e=b;null!==fe;){k=fe;var y=k.sibling,J=k.return;Bf(k);if(k===e){fe=null;break a}if(null!==y){y.return=J;fe=y;break a}fe=J}}}function dh(){return 0!==(kf&2)&&0!==Ue?Ue&-Ue:null!==se.T?Hd():ma()}function Rj(){if(0===ai)if(0===(Ue&536870912)||Te){var b=wj;wj<<=1;0===(wj&3932160)&&(wj=262144);ai=b}else ai=536870912;b=d.current;null!==b&&(b.flags|=32);return ai}function Jg(b,c,e){if(b===af&&(2===Lf||9===Lf)||null!==b.cancelPendingCommit)Ei(b,0),Ch(b,Ue,ai,
!1);Rb(b,e);if(0===(kf&2)||b!==af)b===af&&(0===(kf&2)&&(zk|=e),4===rg&&Ch(b,Ue,ai,!1)),qf(b)}function Ak(b,c,e){if(0!==(kf&6))throw Error(u(327));var k=!e&&0===(c&127)&&0===(c&b.expiredLanes)||La(b,c),y=k?Bk(b,c):bj(b,c,!0),J=k;do{if(0===y){pl&&!k&&Ch(b,c,0,!1);break}else{e=b.current.alternate;if(J&&!cj(e)){y=bj(b,c,!1);J=!1;continue}if(2===y){J=c;if(b.errorRecoveryDisabledLanes&J)var ya=0;else ya=b.pendingLanes&-536870913,ya=0!==ya?ya:ya&536870912?536870912:0;if(0!==ya){c=ya;a:{var gb=b;y=fm;var dc=
gb.current.memoizedState.isDehydrated;dc&&(Ei(gb,ya).flags|=256);ya=bj(gb,ya,!1);if(2!==ya){if(Ln&&!dc){gb.errorRecoveryDisabledLanes|=J;zk|=J;y=4;break a}J=Kh;Kh=y;null!==J&&(null===Kh?Kh=J:Kh.push.apply(Kh,J))}y=ya}J=!1;if(2!==y)continue}}if(1===y){Ei(b,0);Ch(b,c,0,!0);break}a:{k=b;J=y;switch(J){case 0:case 1:throw Error(u(345));case 4:if((c&4194048)!==c)break;case 6:Ch(k,c,ai,!Zj);break a;case 2:Kh=null;break;case 3:case 5:break;default:throw Error(u(329));}(c&62914560)===c&&(y=Um+300-cg(),10<
y)?(Ch(k,c,ai,!Zj),0===Xa(k,0,!0)&&(xj=c,k.timeoutHandle=vo(Ck.bind(null,k,e,Kh,Vm,Mn,c,ai,zk,ml,Zj,J,"Throttled",-0,0),y))):Ck(k,e,Kh,Vm,Mn,c,ai,zk,ml,Zj,J,null,-0,0)}}break}while(1);qf(b)}function Ck(b,c,e,k,y,J,ya,gb,dc,Hc,Yc,bd,Kc,Sc){b.timeoutHandle=-1;bd=c.subtreeFlags;if(bd&8192||16785408===(bd&16785408)){bd={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mc};Yj(c,J,bd);var Ud=(J&62914560)===J?Um-cg():(J&4194048)===
J?wo-cg():0;Ud=Nn(bd,Ud);if(null!==Ud){xj=J;b.cancelPendingCommit=Ud(O.bind(null,b,c,J,e,k,y,ya,gb,dc,Yc,bd,null,Kc,Sc));Ch(b,J,ya,!Hc);return}}O(b,c,J,e,k,y,ya,gb,dc)}function cj(b){for(var c=b;;){var e=c.tag;if((0===e||11===e||15===e)&&c.flags&16384&&(e=c.updateQueue,null!==e&&(e=e.stores,null!==e)))for(var k=0;k<e.length;k++){var y=e[k],J=y.getSnapshot;y=y.value;try{if(!jh(J(),y))return!1}catch(ya){return!1}}e=c.child;if(c.subtreeFlags&16384&&null!==e)e.return=c,c=e;else{if(c===b)break;for(;null===
c.sibling;){if(null===c.return||c.return===b)return!0;c=c.return}c.sibling.return=c.return;c=c.sibling}}return!0}function Ch(b,c,e,k){c&=~On;c&=~zk;b.suspendedLanes|=c;b.pingedLanes&=~c;k&&(b.warmLanes|=c);k=b.expirationTimes;for(var y=c;0<y;){var J=31-vh(y),ya=1<<J;k[J]=-1;y&=~ya}0!==e&&U(b,e,c)}function Uh(){return 0===(kf&6)?(eg(0,!1),!1):!0}function dj(){if(null!==Pe){if(0===Lf)var b=Pe.return;else b=Pe,Vh=ui=null,be(b),pj=null,Oj=0,b=Pe;for(;null!==b;)Fc(b.alternate,b),b=b.return;Pe=null}}function Ei(b,
c){var e=b.timeoutHandle;-1!==e&&(b.timeoutHandle=-1,Co(e));e=b.cancelPendingCommit;null!==e&&(b.cancelPendingCommit=null,e());xj=0;dj();af=b;Pe=e=hc(b.current,null);Ue=c;Lf=0;ei=null;Zj=!1;pl=La(b,c);Ln=!1;ml=ai=On=zk=Qj=rg=0;Kh=fm=null;Mn=!1;0!==(c&8)&&(c|=c&32);var k=b.entangledLanes;if(0!==k)for(b=b.entanglements,k&=c;0<k;){var y=31-vh(k),J=1<<y;c|=b[y];k&=~J}qj=c;va();return e}function Dk(b,c){p=null;se.H=Cc;c===Si||c===oj?(c=hf(),Lf=3):c===xk?(c=hf(),Lf=4):Lf=c===ie?8:null!==c&&"object"===typeof c&&
"function"===typeof c.then?6:1;ei=c;null===Pe&&(rg=1,qh(b,Md(c,b.current)))}function uj(){var b=d.current;return null===b?!0:(Ue&4194048)===Ue?null===f?!0:!1:(Ue&62914560)===Ue||0!==(Ue&536870912)?b===f:!1}function Ek(){var b=se.H;se.H=Cc;return null===b?Cc:b}function ak(){var b=se.A;se.A=Wm;return b}function yi(){rg=4;Zj||(Ue&4194048)!==Ue&&null!==d.current||(pl=!0);0===(Qj&134217727)&&0===(zk&134217727)||null===af||Ch(af,Ue,ai,!1)}function bj(b,c,e){var k=kf;kf|=2;var y=Ek(),J=ak();if(af!==b||Ue!==
c)Vm=null,Ei(b,c);c=!1;var ya=rg;a:do try{if(0!==Lf&&null!==Pe){var gb=Pe,dc=ei;switch(Lf){case 8:dj();ya=6;break a;case 3:case 2:case 9:case 6:null===d.current&&(c=!0);var Hc=Lf;Lf=0;ei=null;Fi(b,gb,dc,Hc);if(e&&pl){ya=0;break a}break;default:Hc=Lf,Lf=0,ei=null,Fi(b,gb,dc,Hc)}}for(;null!==Pe;)Fk(Pe);ya=rg;break}catch(Yc){Dk(b,Yc)}while(1);c&&b.shellSuspendCounter++;Vh=ui=null;kf=k;se.H=y;se.A=J;null===Pe&&(af=null,Ue=0,va());return ya}function Bk(b,c){var e=kf;kf|=2;var k=Ek(),y=ak();af!==b||Ue!==
c?(Vm=null,Pm=cg()+500,Ei(b,c)):pl=La(b,c);a:do try{if(0!==Lf&&null!==Pe){c=Pe;var J=ei;b:switch(Lf){case 1:Lf=0;ei=null;Fi(b,c,J,1);break;case 2:case 9:if(nd(J)){Lf=0;ei=null;Gk(c);break}c=function(){2!==Lf&&9!==Lf||af!==b||(Lf=7);qf(b)};J.then(c,c);break a;case 3:Lf=7;break a;case 4:Lf=5;break a;case 7:nd(J)?(Lf=0,ei=null,Gk(c)):(Lf=0,ei=null,Fi(b,c,J,7));break;case 5:var ya=null;switch(Pe.tag){case 26:ya=Pe.memoizedState;case 5:case 27:var gb=Pe;if(ya?Om(ya):gb.stateNode.complete){Lf=0;ei=null;
var dc=gb.sibling;if(null!==dc)Pe=dc;else{var Hc=gb.return;null!==Hc?(Pe=Hc,q(Hc)):Pe=null}break b}}Lf=0;ei=null;Fi(b,c,J,5);break;case 6:Lf=0;ei=null;Fi(b,c,J,6);break;case 8:dj();rg=6;break a;default:throw Error(u(462));}}for(;null!==Pe&&!Xm();)Fk(Pe);break}catch(Yc){Dk(b,Yc)}while(1);Vh=ui=null;se.H=k;se.A=y;kf=e;if(null!==Pe)return 0;af=null;Ue=0;va();return rg}function Fk(b){var c=cc(b.alternate,b,qj);b.memoizedProps=b.pendingProps;null===c?q(b):Pe=c}function Gk(b){var c=b,e=c.alternate;switch(c.tag){case 15:case 0:c=
Ff(e,c,c.pendingProps,c.type,void 0,Ue);break;case 11:c=Ff(e,c,c.pendingProps,c.type.render,c.ref,Ue);break;case 5:be(c);default:Fc(e,c),c=Pe=Ec(c,qj),c=cc(e,c,qj)}b.memoizedProps=b.pendingProps;null===c?q(b):Pe=c}function Fi(b,c,e,k){Vh=ui=null;be(c);pj=null;Oj=0;var y=c.return;try{if(Wi(b,y,c,e,Ue)){rg=1;qh(b,Md(e,b.current));Pe=null;return}}catch(J){if(null!==y)throw Pe=y,J;rg=1;qh(b,Md(e,b.current));Pe=null;return}if(c.flags&32768){if(Te||1===k)b=!0;else if(pl||0!==(Ue&536870912))b=!1;else if(Zj=
b=!0,2===k||9===k||3===k||6===k)k=d.current,null!==k&&13===k.tag&&(k.flags|=16384);H(c,b)}else q(c)}function q(b){var c=b;do{if(0!==(c.flags&32768)){H(c,Zj);return}b=c.return;var e=Tb(c.alternate,c,qj);if(null!==e){Pe=e;return}c=c.sibling;if(null!==c){Pe=c;return}Pe=c=b}while(null!==c);0===rg&&(rg=5)}function H(b,c){do{var e=ic(b.alternate,b);if(null!==e){e.flags&=32767;Pe=e;return}e=b.return;null!==e&&(e.flags|=32768,e.subtreeFlags=0,e.deletions=null);if(!c&&(b=b.sibling,null!==b)){Pe=b;return}Pe=
b=e}while(null!==b);rg=6;Pe=null}function O(b,c,e,k,y,J,ya,gb,dc){b.cancelPendingCommit=null;do Mb();while(0!==Og);if(0!==(kf&6))throw Error(u(327));if(null!==c){if(c===b.current)throw Error(u(177));J=c.lanes|c.childLanes;J|=Yl;Na(b,e,J,ya,gb,dc);b===af&&(Pe=af=null,Ue=0);ql=c;bk=b;xj=e;Pn=J;Qn=y;xo=k;0!==(c.subtreeFlags&10256)||0!==(c.flags&10256)?(b.callbackNode=null,b.callbackPriority=0,We(ji,function(){pc();return null})):(b.callbackNode=null,b.callbackPriority=0);k=0!==(c.flags&13878);if(0!==
(c.subtreeFlags&13878)||k){k=se.T;se.T=null;y=nf.p;nf.p=2;ya=kf;kf|=4;try{Ah(b,c,e)}finally{kf=ya,nf.p=y,se.T=k}}Og=1;la();$a();hb()}}function la(){if(1===Og){Og=0;var b=bk,c=ql,e=0!==(c.flags&13878);if(0!==(c.subtreeFlags&13878)||e){e=se.T;se.T=null;var k=nf.p;nf.p=2;var y=kf;kf|=4;try{bi(c,b);var J=In,ya=ld(b.containerInfo),gb=J.focusedElem,dc=J.selectionRange;if(ya!==gb&&gb&&gb.ownerDocument&&kd(gb.ownerDocument.documentElement,gb)){if(null!==dc&&ed(gb)){var Hc=dc.start,Yc=dc.end;void 0===Yc&&
(Yc=Hc);if("selectionStart"in gb)gb.selectionStart=Hc,gb.selectionEnd=Math.min(Yc,gb.value.length);else{var bd=gb.ownerDocument||document,Kc=bd&&bd.defaultView||window;if(Kc.getSelection){var Sc=Kc.getSelection(),Ud=gb.textContent.length,pe=Math.min(dc.start,Ud),Nf=void 0===dc.end?pe:Math.min(dc.end,Ud);!Sc.extend&&pe>Nf&&(ya=Nf,Nf=pe,pe=ya);var wc=Uc(gb,pe),nc=Uc(gb,Nf);if(wc&&nc&&(1!==Sc.rangeCount||Sc.anchorNode!==wc.node||Sc.anchorOffset!==wc.offset||Sc.focusNode!==nc.node||Sc.focusOffset!==nc.offset)){var Gc=
bd.createRange();Gc.setStart(wc.node,wc.offset);Sc.removeAllRanges();pe>Nf?(Sc.addRange(Gc),Sc.extend(nc.node,nc.offset)):(Gc.setEnd(nc.node,nc.offset),Sc.addRange(Gc))}}}}bd=[];for(Sc=gb;Sc=Sc.parentNode;)1===Sc.nodeType&&bd.push({element:Sc,left:Sc.scrollLeft,top:Sc.scrollTop});"function"===typeof gb.focus&&gb.focus();for(gb=0;gb<bd.length;gb++){var Zc=bd[gb];Zc.element.scrollLeft=Zc.left;Zc.element.scrollTop=Zc.top}}Qm=!!Hn;In=Hn=null}finally{kf=y,nf.p=k,se.T=e}}b.current=c;Og=2}}function $a(){if(2===
Og){Og=0;var b=bk,c=ql,e=0!==(c.flags&8772);if(0!==(c.subtreeFlags&8772)||e){e=se.T;se.T=null;var k=nf.p;nf.p=2;var y=kf;kf|=4;try{Ai(b,c.alternate,c)}finally{kf=y,nf.p=k,se.T=e}}Og=3}}function hb(){if(4===Og||3===Og){Og=0;km();var b=bk,c=ql,e=xj,k=xo;0!==(c.subtreeFlags&10256)||0!==(c.flags&10256)?Og=5:(Og=0,ql=bk=null,tb(b,b.pendingLanes));var y=b.pendingLanes;0===y&&(Tj=null);Fa(e);c=c.stateNode;if(Qg&&"function"===typeof Qg.onCommitFiberRoot)try{Qg.onCommitFiberRoot(Ki,c,void 0,128===(c.current.flags&
128))}catch(dc){}if(null!==k){c=se.T;y=nf.p;nf.p=2;se.T=null;try{for(var J=b.onRecoverableError,ya=0;ya<k.length;ya++){var gb=k[ya];J(gb.value,{componentStack:gb.stack})}}finally{se.T=c,nf.p=y}}0!==(xj&3)&&Mb();qf(b);y=b.pendingLanes;0!==(e&261930)&&0!==(y&42)?b===Dn?Zl++:(Zl=0,Dn=b):Zl=0;eg(0,!1)}}function tb(b,c){0===(b.pooledCacheLanes&=c)&&(c=b.pooledCache,null!=c&&(b.pooledCache=null,fd(c)))}function Mb(){la();$a();hb();return pc()}function pc(){if(5!==Og)return!1;var b=bk,c=Pn;Pn=0;var e=Fa(xj),
k=se.T,y=nf.p;try{nf.p=32>e?32:e;se.T=null;e=Qn;Qn=null;var J=bk,ya=xj;Og=0;ql=bk=null;xj=0;if(0!==(kf&6))throw Error(u(331));var gb=kf;kf|=4;ol(J.current);dg(J,J.current,ya,e);kf=gb;eg(0,!1);if(Qg&&"function"===typeof Qg.onPostCommitFiberRoot)try{Qg.onPostCommitFiberRoot(Ki,J)}catch(dc){}return!0}finally{nf.p=y,se.T=k,tb(b,c)}}function Xc(b,c,e){c=Md(e,c);c=Xh(b.stateNode,c,2);b=Wd(b,c,2);null!==b&&(Rb(b,2),qf(b))}function Rc(b,c,e){if(3===b.tag)Xc(b,b,e);else for(;null!==c;){if(3===c.tag){Xc(c,
b,e);break}else if(1===c.tag){var k=c.stateNode;if("function"===typeof c.type.getDerivedStateFromError||"function"===typeof k.componentDidCatch&&(null===Tj||!Tj.has(k))){b=Md(e,b);e=Yh(2);k=Wd(c,e,2);null!==k&&(zh(e,k,c,b),Rb(k,2),qf(k));break}}c=c.return}}function xc(b,c,e){var k=b.pingCache;if(null===k){k=b.pingCache=new Rn;var y=new Set;k.set(c,y)}else y=k.get(c),void 0===y&&(y=new Set,k.set(c,y));y.has(e)||(Ln=!0,y.add(e),b=rd.bind(null,b,c,e),c.then(b,b))}function rd(b,c,e){var k=b.pingCache;
null!==k&&k.delete(c);b.pingedLanes|=b.suspendedLanes&e;b.warmLanes&=~e;af===b&&(Ue&e)===e&&(4===rg||3===rg&&(Ue&62914560)===Ue&&300>cg()-Um?0===(kf&2)&&Ei(b,0):On|=e,ml===Ue&&(ml=0));qf(b)}function Rd(b,c){0===c&&(c=fb());b=ca(b,c);null!==b&&(Rb(b,c),qf(b))}function ue(b){var c=b.memoizedState,e=0;null!==c&&(e=c.retryLane);Rd(b,e)}function Gd(b,c){var e=0;switch(b.tag){case 31:case 13:var k=b.stateNode,y=b.memoizedState;null!==y&&(e=y.retryLane);break;case 19:k=b.stateNode;break;case 22:k=b.stateNode._retryCache;
break;default:throw Error(u(314));}null!==k&&k.delete(c);Rd(b,e)}function We(b,c){return Ug(b,c)}function qf(b){b!==rl&&null===b.next&&(null===rl?Ym=rl=b:rl=rl.next=b);Zm=!0;Sn||(Sn=!0,ej())}function eg(b,c){if(!Tn&&Zm){Tn=!0;do for(var e=!1,k=Ym;null!==k;){if(!c)if(0!==b){var y=k.pendingLanes;if(0===y)var J=0;else{var ya=k.suspendedLanes,gb=k.pingedLanes;J=(1<<31-vh(42|b)+1)-1;J&=y&~(ya&~gb);J=J&201326741?J&201326741|1:J?J|2:0}0!==J&&(e=!0,fg(k,J))}else J=Ue,J=Xa(k,k===af?J:0,null!==k.cancelPendingCommit||
-1!==k.timeoutHandle),0===(J&3)||La(k,J)||(e=!0,fg(k,J));k=k.next}while(e);Tn=!1}}function vg(){Pg()}function Pg(){Zm=Sn=!1;var b=0;0!==ck&&$m()&&(b=ck);for(var c=cg(),e=null,k=Ym;null!==k;){var y=k.next,J=gg(k,c);if(0===J)k.next=null,null===e?Ym=y:e.next=y,null===y&&(rl=e);else if(e=k,0!==b||0!==(J&3))Zm=!0;k=y}0!==Og&&5!==Og||eg(b,!1);0!==ck&&(ck=0)}function gg(b,c){for(var e=b.suspendedLanes,k=b.pingedLanes,y=b.expirationTimes,J=b.pendingLanes&-62914561;0<J;){var ya=31-vh(J),gb=1<<ya,dc=y[ya];
if(-1===dc){if(0===(gb&e)||0!==(gb&k))y[ya]=jb(gb,c)}else dc<=c&&(b.expiredLanes|=gb);J&=~gb}c=af;e=Ue;e=Xa(b,b===c?e:0,null!==b.cancelPendingCommit||-1!==b.timeoutHandle);k=b.callbackNode;if(0===e||b===c&&(2===Lf||9===Lf)||null!==b.cancelPendingCommit)return null!==k&&null!==k&&Hk(k),b.callbackNode=null,b.callbackPriority=0;if(0===(e&3)||La(b,e)){c=e&-e;if(c===b.callbackPriority)return c;null!==k&&Hk(k);switch(Fa(e)){case 2:case 8:e=an;break;case 32:e=ji;break;case 268435456:e=bn;break;default:e=
ji}k=ve.bind(null,b);e=Ug(e,k);b.callbackPriority=c;b.callbackNode=e;return c}null!==k&&null!==k&&Hk(k);b.callbackPriority=2;b.callbackNode=null;return 2}function ve(b,c){if(0!==Og&&5!==Og)return b.callbackNode=null,b.callbackPriority=0,null;var e=b.callbackNode;if(Mb()&&b.callbackNode!==e)return null;var k=Ue;k=Xa(b,b===af?k:0,null!==b.cancelPendingCommit||-1!==b.timeoutHandle);if(0===k)return null;Ak(b,k,c);gg(b,cg());return null!=b.callbackNode&&b.callbackNode===e?ve.bind(null,b):null}function fg(b,
c){if(Mb())return null;Ak(b,c,!0)}function ej(){Do(function(){0!==(kf&6)?Ug(cn,vg):Pg()})}function Hd(){if(0===ck){var b=Ri;0===b&&(b=sl,sl<<=1,0===(sl&261888)&&(sl=256));ck=b}return ck}function od(b){return null==b||"symbol"===typeof b||"boolean"===typeof b?null:"function"===typeof b?b:tc(""+b)}function Cd(b,c){var e=c.ownerDocument.createElement("input");e.name=c.name;e.value=c.value;b.id&&e.setAttribute("form",b.id);c.parentNode.insertBefore(e,c);b=new FormData(b);e.parentNode.removeChild(e);return b}
function sd(b,c,e,k,y){if("submit"===c&&e&&e.stateNode===y){var J=od((y[Rg]||null).action),ya=k.submitter;ya&&(c=(c=ya[Rg]||null)?od(c.formAction):ya.getAttribute("formAction"),null!==c&&(J=c,ya=null));var gb=new $k("action","action",null,k,y);b.push({event:gb,listeners:[{instance:null,listener:function(){if(k.defaultPrevented){if(0!==ck){var dc=ya?Cd(y,ya):new FormData(y);ff(e,{pending:!0,data:dc,method:y.method,action:J},null,dc)}}else"function"===typeof J&&(gb.preventDefault(),dc=ya?Cd(y,ya):new FormData(y),
ff(e,{pending:!0,data:dc,method:y.method,action:J},J,dc))},currentTarget:y}]})}}function of(b,c){c=0!==(c&4);for(var e=0;e<b.length;e++){var k=b[e],y=k.event;k=k.listeners;a:{var J=void 0;if(c)for(var ya=k.length-1;0<=ya;ya--){var gb=k[ya],dc=gb.instance,Hc=gb.currentTarget;gb=gb.listener;if(dc!==J&&y.isPropagationStopped())break a;J=gb;y.currentTarget=Hc;try{J(y)}catch(Yc){il(Yc)}y.currentTarget=null;J=dc}else for(ya=0;ya<k.length;ya++){gb=k[ya];dc=gb.instance;Hc=gb.currentTarget;gb=gb.listener;
if(dc!==J&&y.isPropagationStopped())break a;J=gb;y.currentTarget=Hc;try{J(y)}catch(Yc){il(Yc)}y.currentTarget=null;J=dc}}}}function ae(b,c){var e=c[Yk];void 0===e&&(e=c[Yk]=new Set);var k=b+"__bubble";e.has(k)||(tg(c,b,2,!1),e.add(k))}function If(b,c,e){var k=0;c&&(k|=4);tg(e,b,k,c)}function bg(b){if(!b[dn]){b[dn]=!0;Dm.forEach(function(e){"selectionchange"!==e&&(Eo.has(e)||If(e,!1,b),If(e,!0,b))});var c=9===b.nodeType?b:b.ownerDocument;null===c||c[dn]||(c[dn]=!0,If("selectionchange",!1,c))}}function tg(b,
c,e,k){switch(Ol(c)){case 2:var y=Un;break;case 8:y=we;break;default:y=hd}e=y.bind(null,c,e,b);y=void 0;!lm||"touchstart"!==c&&"touchmove"!==c&&"wheel"!==c||(y=!0);k?void 0!==y?b.addEventListener(c,e,{capture:!0,passive:y}):b.addEventListener(c,e,!0):void 0!==y?b.addEventListener(c,e,{passive:y}):b.addEventListener(c,e,!1)}function Dh(b,c,e,k,y){var J=k;if(0===(c&1)&&0===(c&2)&&null!==k)a:for(;;){if(null===k)return;var ya=k.tag;if(3===ya||4===ya){var gb=k.stateNode.containerInfo;if(gb===y)break;if(4===
ya)for(ya=k.return;null!==ya;){var dc=ya.tag;if((3===dc||4===dc)&&ya.stateNode.containerInfo===y)return;ya=ya.return}for(;null!==gb;){ya=F(gb);if(null===ya)return;dc=ya.tag;if(5===dc||6===dc||26===dc||27===dc){k=J=ya;continue a}gb=gb.parentNode}}k=k.return}Va(function(){var Hc=J,Yc=ra(e),bd=[];a:{var Kc=Ni.get(b);if(void 0!==Kc){var Sc=$k,Ud=b;switch(b){case "keypress":if(0===Eb(e))break a;case "keydown":case "keyup":Sc=Vn;break;case "focusin":Ud="focus";Sc=mm;break;case "focusout":Ud="blur";Sc=mm;
break;case "beforeblur":case "afterblur":Sc=mm;break;case "click":if(2===e.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Sc=nm;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Sc=Wn;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Sc=Xn;break;case Vg:case fj:case Ik:Sc=Yn;break;case tl:Sc=Cf;
break;case "scroll":case "scrollend":Sc=en;break;case "wheel":Sc=Gi;break;case "copy":case "cut":case "paste":Sc=Zn;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Sc=fn;break;case "toggle":case "beforetoggle":Sc=Hi}var pe=0!==(c&4),Nf=!pe&&("scroll"===b||"scrollend"===b),wc=pe?null!==Kc?Kc+"Capture":null:Kc;pe=[];for(var nc=Hc,Gc;null!==nc;){var Zc=nc;Gc=Zc.stateNode;Zc=Zc.tag;
5!==Zc&&26!==Zc&&27!==Zc||null===Gc||null===wc||(Zc=Bb(nc,wc),null!=Zc&&pe.push(Jk(nc,Zc,Gc)));if(Nf)break;nc=nc.return}0<pe.length&&(Kc=new Sc(Kc,Ud,null,e,Yc),bd.push({event:Kc,listeners:pe}))}}if(0===(c&7)){Kc="mouseover"===b||"pointerover"===b;Sc="mouseout"===b||"pointerout"===b;if(!Kc||e===ul||!(Ud=e.relatedTarget||e.fromElement)||!F(Ud)&&!Ud[Li])if(Sc||Kc){Kc=Yc.window===Yc?Yc:(Kc=Yc.ownerDocument)?Kc.defaultView||Kc.parentWindow:window;if(Sc){if(Ud=e.relatedTarget||e.toElement,Sc=Hc,Ud=Ud?
F(Ud):null,null!==Ud&&(Nf=ja(Ud),pe=Ud.tag,Ud!==Nf||5!==pe&&27!==pe&&6!==pe))Ud=null}else Sc=null,Ud=Hc;if(Sc!==Ud){pe=nm;Zc="onMouseLeave";wc="onMouseEnter";nc="mouse";if("pointerout"===b||"pointerover"===b)pe=fn,Zc="onPointerLeave",wc="onPointerEnter",nc="pointer";Nf=null==Sc?Kc:x(Sc);Gc=null==Ud?Kc:x(Ud);Kc=new pe(Zc,nc+"leave",Sc,e,Yc);Kc.target=Nf;Kc.relatedTarget=Gc;Zc=null;F(Yc)===Hc&&(pe=new pe(wc,nc+"enter",Ud,e,Yc),pe.target=Gc,pe.relatedTarget=Nf,Zc=pe);Nf=Zc;if(Sc&&Ud)b:{pe=om;wc=Sc;nc=
Ud;Gc=0;for(Zc=wc;Zc;Zc=pe(Zc))Gc++;Zc=0;for(var he=nc;he;he=pe(he))Zc++;for(;0<Gc-Zc;)wc=pe(wc),Gc--;for(;0<Zc-Gc;)nc=pe(nc),Zc--;for(;Gc--;){if(wc===nc||null!==nc&&wc===nc.alternate){pe=wc;break b}wc=pe(wc);nc=pe(nc)}pe=null}else pe=null;null!==Sc&&gn(bd,Kc,Sc,pe,!1);null!==Ud&&null!==Nf&&gn(bd,Nf,Ud,pe,!0)}}Kc=Hc?x(Hc):window;Sc=Kc.nodeName&&Kc.nodeName.toLowerCase();if("select"===Sc||"input"===Sc&&"file"===Kc.type)var sf=Wa;else if(w(Kc))if(vl)sf=Bc;else{sf=Ob;var Yd=Gb}else Sc=Kc.nodeName,!Sc||
"input"!==Sc.toLowerCase()||"checkbox"!==Kc.type&&"radio"!==Kc.type?Hc&&Nb(Hc.elementType)&&(sf=Wa):sf=vc;sf&&(sf=sf(b,Hc))?da(bd,sf,e,Yc):(Yd&&Yd(b,Kc,Hc),"focusout"===b&&Hc&&"number"===Kc.type&&null!=Hc.memoizedProps.value&&Vb(Kc,"number",Kc.value));Yd=Hc?x(Hc):window;switch(b){case "focusin":if(w(Yd)||"true"===Yd.contentEditable)lj=Yd,bl=Hc,tk=null;break;case "focusout":tk=bl=lj=null;break;case "mousedown":al=!0;break;case "contextmenu":case "mouseup":case "dragend":al=!1;ge(bd,e,Yc);break;case "selectionchange":if($n)break;
case "keydown":case "keyup":ge(bd,e,Yc)}var Je;if(Wl)a:{switch(b){case "compositionstart":var bf="onCompositionStart";break a;case "compositionend":bf="onCompositionEnd";break a;case "compositionupdate":bf="onCompositionUpdate";break a}bf=void 0}else si?oa(b,e)&&(bf="onCompositionEnd"):"keydown"===b&&229===e.keyCode&&(bf="onCompositionStart");bf&&(Xl&&"ko"!==e.locale&&(si||"onCompositionStart"!==bf?"onCompositionEnd"===bf&&si&&(Je=Ib()):(Mi=Yc,Zk="value"in Mi?Mi.value:Mi.textContent,si=!0)),Yd=sk(Hc,
bf),0<Yd.length&&(bf=new hn(bf,b,null,e,Yc),bd.push({event:bf,listeners:Yd}),Je?bf.data=Je:(Je=Ma(e),null!==Je&&(bf.data=Je))));if(Je=jn?ib(b,e):V(b,e))bf=sk(Hc,"onBeforeInput"),0<bf.length&&(Yd=new hn("onBeforeInput","beforeinput",null,e,Yc),bd.push({event:Yd,listeners:bf}),Yd.data=Je);sd(bd,b,Hc,e,Yc)}of(bd,c)})}function Jk(b,c,e){return{instance:b,listener:c,currentTarget:e}}function sk(b,c){for(var e=c+"Capture",k=[];null!==b;){var y=b,J=y.stateNode;y=y.tag;5!==y&&26!==y&&27!==y||null===J||(y=
Bb(b,e),null!=y&&k.unshift(Jk(b,y,J)),y=Bb(b,c),null!=y&&k.push(Jk(b,y,J)));if(3===b.tag)return k;b=b.return}return[]}function om(b){if(null===b)return null;do b=b.return;while(b&&5!==b.tag&&27!==b.tag);return b?b:null}function gn(b,c,e,k,y){for(var J=c._reactName,ya=[];null!==e&&e!==k;){var gb=e,dc=gb.alternate,Hc=gb.stateNode;gb=gb.tag;if(null!==dc&&dc===k)break;5!==gb&&26!==gb&&27!==gb||null===Hc||(dc=Hc,y?(Hc=Bb(e,J),null!=Hc&&ya.unshift(Jk(e,Hc,dc))):y||(Hc=Bb(e,J),null!=Hc&&ya.push(Jk(e,Hc,
dc))));e=e.return}0!==ya.length&&b.push({event:c,listeners:ya})}function wl(b){return("string"===typeof b?b:""+b).replace(Fo,"\n").replace(Go,"")}function wk(b,c){c=wl(c);return wl(b)===c?!0:!1}function Df(b,c,e,k,y,J){switch(e){case "children":"string"===typeof k?"body"===c||"textarea"===c&&""===k||kc(b,k):("number"===typeof k||"bigint"===typeof k)&&"body"!==c&&kc(b,""+k);break;case "className":I(b,"class",k);break;case "tabIndex":I(b,"tabindex",k);break;case "dir":case "role":case "viewBox":case "width":case "height":I(b,
e,k);break;case "style":Pb(b,k,J);break;case "data":if("object"!==c){I(b,"data",k);break}case "src":case "href":if(""===k&&("a"!==c||"href"!==e)){b.removeAttribute(e);break}if(null==k||"function"===typeof k||"symbol"===typeof k||"boolean"===typeof k){b.removeAttribute(e);break}k=tc(""+k);b.setAttribute(e,k);break;case "action":case "formAction":if("function"===typeof k){b.setAttribute(e,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");
break}else"function"===typeof J&&("formAction"===e?("input"!==c&&Df(b,c,"name",y.name,y,null),Df(b,c,"formEncType",y.formEncType,y,null),Df(b,c,"formMethod",y.formMethod,y,null),Df(b,c,"formTarget",y.formTarget,y,null)):(Df(b,c,"encType",y.encType,y,null),Df(b,c,"method",y.method,y,null),Df(b,c,"target",y.target,y,null)));if(null==k||"symbol"===typeof k||"boolean"===typeof k){b.removeAttribute(e);break}k=tc(""+k);b.setAttribute(e,k);break;case "onClick":null!=k&&(b.onclick=Mc);break;case "onScroll":null!=
k&&ae("scroll",b);break;case "onScrollEnd":null!=k&&ae("scrollend",b);break;case "dangerouslySetInnerHTML":if(null!=k){if("object"!==typeof k||!("__html"in k))throw Error(u(61));e=k.__html;if(null!=e){if(null!=y.children)throw Error(u(60));b.innerHTML=e}}break;case "multiple":b.multiple=k&&"function"!==typeof k&&"symbol"!==typeof k;break;case "muted":b.muted=k&&"function"!==typeof k&&"symbol"!==typeof k;break;case "suppressContentEditableWarning":case "suppressHydrationWarning":case "defaultValue":case "defaultChecked":case "innerHTML":case "ref":break;
case "autoFocus":break;case "xlinkHref":if(null==k||"function"===typeof k||"boolean"===typeof k||"symbol"===typeof k){b.removeAttribute("xlink:href");break}e=tc(""+k);b.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);break;case "contentEditable":case "spellCheck":case "draggable":case "value":case "autoReverse":case "externalResourcesRequired":case "focusable":case "preserveAlpha":null!=k&&"function"!==typeof k&&"symbol"!==typeof k?b.setAttribute(e,""+k):b.removeAttribute(e);break;case "inert":case "allowFullScreen":case "async":case "autoPlay":case "controls":case "default":case "defer":case "disabled":case "disablePictureInPicture":case "disableRemotePlayback":case "formNoValidate":case "hidden":case "loop":case "noModule":case "noValidate":case "open":case "playsInline":case "readOnly":case "required":case "reversed":case "scoped":case "seamless":case "itemScope":k&&
"function"!==typeof k&&"symbol"!==typeof k?b.setAttribute(e,""):b.removeAttribute(e);break;case "capture":case "download":!0===k?b.setAttribute(e,""):!1!==k&&null!=k&&"function"!==typeof k&&"symbol"!==typeof k?b.setAttribute(e,k):b.removeAttribute(e);break;case "cols":case "rows":case "size":case "span":null!=k&&"function"!==typeof k&&"symbol"!==typeof k&&!isNaN(k)&&1<=k?b.setAttribute(e,k):b.removeAttribute(e);break;case "rowSpan":case "start":null==k||"function"===typeof k||"symbol"===typeof k||
isNaN(k)?b.removeAttribute(e):b.setAttribute(e,k);break;case "popover":ae("beforetoggle",b);ae("toggle",b);E(b,"popover",k);break;case "xlinkActuate":X(b,"http://www.w3.org/1999/xlink","xlink:actuate",k);break;case "xlinkArcrole":X(b,"http://www.w3.org/1999/xlink","xlink:arcrole",k);break;case "xlinkRole":X(b,"http://www.w3.org/1999/xlink","xlink:role",k);break;case "xlinkShow":X(b,"http://www.w3.org/1999/xlink","xlink:show",k);break;case "xlinkTitle":X(b,"http://www.w3.org/1999/xlink","xlink:title",
k);break;case "xlinkType":X(b,"http://www.w3.org/1999/xlink","xlink:type",k);break;case "xmlBase":X(b,"http://www.w3.org/XML/1998/namespace","xml:base",k);break;case "xmlLang":X(b,"http://www.w3.org/XML/1998/namespace","xml:lang",k);break;case "xmlSpace":X(b,"http://www.w3.org/XML/1998/namespace","xml:space",k);break;case "is":E(b,"is",k);break;case "innerText":case "textContent":break;default:if(!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])e=ao.get(e)||e,E(b,e,k)}}function xl(b,
c,e,k,y,J){switch(e){case "style":Pb(b,k,J);break;case "dangerouslySetInnerHTML":if(null!=k){if("object"!==typeof k||!("__html"in k))throw Error(u(61));e=k.__html;if(null!=e){if(null!=y.children)throw Error(u(60));b.innerHTML=e}}break;case "children":"string"===typeof k?kc(b,k):("number"===typeof k||"bigint"===typeof k)&&kc(b,""+k);break;case "onScroll":null!=k&&ae("scroll",b);break;case "onScrollEnd":null!=k&&ae("scrollend",b);break;case "onClick":null!=k&&(b.onclick=Mc);break;case "suppressContentEditableWarning":case "suppressHydrationWarning":case "innerHTML":case "ref":break;
case "innerText":case "textContent":break;default:Ql.hasOwnProperty(e)||("o"===e[0]&&"n"===e[1]&&(y=e.endsWith("Capture"),c=e.slice(2,y?e.length-7:void 0),J=b[Rg]||null,J=null!=J?J[e]:null,"function"===typeof J&&b.removeEventListener(c,J,y),"function"===typeof k)?("function"!==typeof J&&null!==J&&(e in b?b[e]=null:b.hasAttribute(e)&&b.removeAttribute(e)),b.addEventListener(c,k,y)):e in b?b[e]=k:!0===k?b.setAttribute(e,""):E(b,e,k))}}function Eg(b,c,e){switch(c){case "div":case "span":case "svg":case "path":case "a":case "g":case "p":case "li":break;
case "img":ae("error",b);ae("load",b);var k=!1,y=!1,J;for(J in e)if(e.hasOwnProperty(J)){var ya=e[J];if(null!=ya)switch(J){case "src":k=!0;break;case "srcSet":y=!0;break;case "children":case "dangerouslySetInnerHTML":throw Error(u(137,c));default:Df(b,c,J,ya,e,null)}}y&&Df(b,c,"srcSet",e.srcSet,e,null);k&&Df(b,c,"src",e.src,e,null);return;case "input":ae("invalid",b);var gb=J=ya=y=null,dc=null,Hc=null;for(k in e)if(e.hasOwnProperty(k)){var Yc=e[k];if(null!=Yc)switch(k){case "name":y=Yc;break;case "type":ya=
Yc;break;case "checked":dc=Yc;break;case "defaultChecked":Hc=Yc;break;case "value":J=Yc;break;case "defaultValue":gb=Yc;break;case "children":case "dangerouslySetInnerHTML":if(null!=Yc)throw Error(u(137,c));break;default:Df(b,c,k,Yc,e,null)}}kb(b,J,gb,dc,Hc,ya,y,!1);return;case "select":ae("invalid",b);k=ya=J=null;for(y in e)if(e.hasOwnProperty(y)&&(gb=e[y],null!=gb))switch(y){case "value":J=gb;break;case "defaultValue":ya=gb;break;case "multiple":k=gb;default:Df(b,c,y,gb,e,null)}c=J;e=ya;b.multiple=
!!k;null!=c?Y(b,!!k,c,!1):null!=e&&Y(b,!!k,e,!0);return;case "textarea":ae("invalid",b);J=y=k=null;for(ya in e)if(e.hasOwnProperty(ya)&&(gb=e[ya],null!=gb))switch(ya){case "value":k=gb;break;case "defaultValue":y=gb;break;case "children":J=gb;break;case "dangerouslySetInnerHTML":if(null!=gb)throw Error(u(91));break;default:Df(b,c,ya,gb,e,null)}Ub(b,k,y,J);return;case "option":for(dc in e)if(e.hasOwnProperty(dc)&&(k=e[dc],null!=k))switch(dc){case "selected":b.selected=k&&"function"!==typeof k&&"symbol"!==
typeof k;break;default:Df(b,c,dc,k,e,null)}return;case "dialog":ae("beforetoggle",b);ae("toggle",b);ae("cancel",b);ae("close",b);break;case "iframe":case "object":ae("load",b);break;case "video":case "audio":for(k=0;k<$l.length;k++)ae($l[k],b);break;case "image":ae("error",b);ae("load",b);break;case "details":ae("toggle",b);break;case "embed":case "source":case "link":ae("error",b),ae("load",b);case "area":case "base":case "br":case "col":case "hr":case "keygen":case "meta":case "param":case "track":case "wbr":case "menuitem":for(Hc in e)if(e.hasOwnProperty(Hc)&&
(k=e[Hc],null!=k))switch(Hc){case "children":case "dangerouslySetInnerHTML":throw Error(u(137,c));default:Df(b,c,Hc,k,e,null)}return;default:if(Nb(c)){for(Yc in e)e.hasOwnProperty(Yc)&&(k=e[Yc],void 0!==k&&xl(b,c,Yc,k,e,void 0));return}}for(gb in e)e.hasOwnProperty(gb)&&(k=e[gb],null!=k&&Df(b,c,gb,k,e,null))}function Gn(b,c,e,k){switch(c){case "div":case "span":case "svg":case "path":case "a":case "g":case "p":case "li":break;case "input":var y=null,J=null,ya=null,gb=null,dc=null,Hc=null,Yc=null;
for(Sc in e){var bd=e[Sc];if(e.hasOwnProperty(Sc)&&null!=bd)switch(Sc){case "checked":break;case "value":break;case "defaultValue":dc=bd;default:k.hasOwnProperty(Sc)||Df(b,c,Sc,null,k,bd)}}for(var Kc in k){var Sc=k[Kc];bd=e[Kc];if(k.hasOwnProperty(Kc)&&(null!=Sc||null!=bd))switch(Kc){case "type":J=Sc;break;case "name":y=Sc;break;case "checked":Hc=Sc;break;case "defaultChecked":Yc=Sc;break;case "value":ya=Sc;break;case "defaultValue":gb=Sc;break;case "children":case "dangerouslySetInnerHTML":if(null!=
Sc)throw Error(u(137,c));break;default:Sc!==bd&&Df(b,c,Kc,Sc,k,bd)}}zb(b,ya,gb,dc,Hc,Yc,J,y);return;case "select":Sc=ya=gb=Kc=null;for(J in e)if(dc=e[J],e.hasOwnProperty(J)&&null!=dc)switch(J){case "value":break;case "multiple":Sc=dc;default:k.hasOwnProperty(J)||Df(b,c,J,null,k,dc)}for(y in k)if(J=k[y],dc=e[y],k.hasOwnProperty(y)&&(null!=J||null!=dc))switch(y){case "value":Kc=J;break;case "defaultValue":gb=J;break;case "multiple":ya=J;default:J!==dc&&Df(b,c,y,J,k,dc)}c=gb;e=ya;k=Sc;null!=Kc?Y(b,!!e,
Kc,!1):!!k!==!!e&&(null!=c?Y(b,!!e,c,!0):Y(b,!!e,e?[]:"",!1));return;case "textarea":Sc=Kc=null;for(gb in e)if(y=e[gb],e.hasOwnProperty(gb)&&null!=y&&!k.hasOwnProperty(gb))switch(gb){case "value":break;case "children":break;default:Df(b,c,gb,null,k,y)}for(ya in k)if(y=k[ya],J=e[ya],k.hasOwnProperty(ya)&&(null!=y||null!=J))switch(ya){case "value":Kc=y;break;case "defaultValue":Sc=y;break;case "children":break;case "dangerouslySetInnerHTML":if(null!=y)throw Error(u(91));break;default:y!==J&&Df(b,c,
ya,y,k,J)}Ha(b,Kc,Sc);return;case "option":for(var Ud in e)if(Kc=e[Ud],e.hasOwnProperty(Ud)&&null!=Kc&&!k.hasOwnProperty(Ud))switch(Ud){case "selected":b.selected=!1;break;default:Df(b,c,Ud,null,k,Kc)}for(dc in k)if(Kc=k[dc],Sc=e[dc],k.hasOwnProperty(dc)&&Kc!==Sc&&(null!=Kc||null!=Sc))switch(dc){case "selected":b.selected=Kc&&"function"!==typeof Kc&&"symbol"!==typeof Kc;break;default:Df(b,c,dc,Kc,k,Sc)}return;case "img":case "link":case "area":case "base":case "br":case "col":case "embed":case "hr":case "keygen":case "meta":case "param":case "source":case "track":case "wbr":case "menuitem":for(var pe in e)Kc=
e[pe],e.hasOwnProperty(pe)&&null!=Kc&&!k.hasOwnProperty(pe)&&Df(b,c,pe,null,k,Kc);for(Hc in k)if(Kc=k[Hc],Sc=e[Hc],k.hasOwnProperty(Hc)&&Kc!==Sc&&(null!=Kc||null!=Sc))switch(Hc){case "children":case "dangerouslySetInnerHTML":if(null!=Kc)throw Error(u(137,c));break;default:Df(b,c,Hc,Kc,k,Sc)}return;default:if(Nb(c)){for(var Nf in e)Kc=e[Nf],e.hasOwnProperty(Nf)&&void 0!==Kc&&!k.hasOwnProperty(Nf)&&xl(b,c,Nf,void 0,k,Kc);for(Yc in k)Kc=k[Yc],Sc=e[Yc],!k.hasOwnProperty(Yc)||Kc===Sc||void 0===Kc&&void 0===
Sc||xl(b,c,Yc,Kc,k,Sc);return}}for(var wc in e)Kc=e[wc],e.hasOwnProperty(wc)&&null!=Kc&&!k.hasOwnProperty(wc)&&Df(b,c,wc,null,k,Kc);for(bd in k)Kc=k[bd],Sc=e[bd],!k.hasOwnProperty(bd)||Kc===Sc||null==Kc&&null==Sc||Df(b,c,bd,Kc,k,Sc)}function kn(b){switch(b){case "css":case "script":case "font":case "img":case "image":case "input":case "link":return!0;default:return!1}}function ln(){if("function"===typeof performance.getEntriesByType){for(var b=0,c=0,e=performance.getEntriesByType("resource"),k=0;k<
e.length;k++){var y=e[k],J=y.transferSize,ya=y.initiatorType,gb=y.duration;if(J&&gb&&kn(ya)){ya=0;gb=y.responseEnd;for(k+=1;k<e.length;k++){var dc=e[k],Hc=dc.startTime;if(Hc>gb)break;var Yc=dc.transferSize,bd=dc.initiatorType;Yc&&kn(bd)&&(dc=dc.responseEnd,ya+=Yc*(dc<gb?1:(gb-Hc)/(dc-Hc)))}--k;c+=8*(J+ya)/(y.duration/1E3);b++;if(10<b)break}}if(0<b)return c/b/1E6}return navigator.connection&&(b=navigator.connection.downlink,"number"===typeof b)?b:5}function ll(b){return 9===b.nodeType?b:b.ownerDocument}
function Kl(b){switch(b){case "http://www.w3.org/2000/svg":return 1;case "http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ll(b,c){if(0===b)switch(c){case "svg":return 1;case "math":return 2;default:return 0}return 1===b&&"foreignObject"===c?0:b}function am(b,c){return"textarea"===b||"noscript"===b||"string"===typeof c.children||"number"===typeof c.children||"bigint"===typeof c.children||"object"===typeof c.dangerouslySetInnerHTML&&null!==c.dangerouslySetInnerHTML&&null!=c.dangerouslySetInnerHTML.__html}
function $m(){var b=window.event;if(b&&"popstate"===b.type){if(b===bo)return!1;bo=b;return!0}bo=null;return!1}function co(b){setTimeout(function(){throw b;})}function Rm(b,c){var e=c,k=0;do{var y=e.nextSibling;b.removeChild(e);if(y&&8===y.nodeType)if(e=y.data,"/$"===e||"/\x26"===e){if(0===k){b.removeChild(y);Bi(c);return}k--}else if("$"===e||"$?"===e||"$~"===e||"$!"===e||"\x26"===e)k++;else if("html"===e)Vj(b.ownerDocument.documentElement);else if("head"===e){e=b.ownerDocument.head;Vj(e);for(var J=
e.firstChild;J;){var ya=J.nextSibling,gb=J.nodeName;J[Ij]||"SCRIPT"===gb||"STYLE"===gb||"LINK"===gb&&"stylesheet"===J.rel.toLowerCase()||e.removeChild(J);J=ya}}else"body"===e&&Vj(b.ownerDocument.body);e=y}while(e);Bi(c)}function jm(b,c){var e=b;b=0;do{var k=e.nextSibling;1===e.nodeType?c?(e._stashedDisplay=e.style.display,e.style.display="none"):(e.style.display=e._stashedDisplay||"",""===e.getAttribute("style")&&e.removeAttribute("style")):3===e.nodeType&&(c?(e._stashedText=e.nodeValue,e.nodeValue=
""):e.nodeValue=e._stashedText||"");if(k&&8===k.nodeType)if(e=k.data,"/$"===e)if(0===b)break;else b--;else"$"!==e&&"$?"!==e&&"$~"!==e&&"$!"!==e||b++;e=k}while(e)}function hm(b){var c=b.firstChild;for(c&&10===c.nodeType&&(c=c.nextSibling);c;){var e=c;c=c.nextSibling;switch(e.nodeName){case "HTML":case "HEAD":case "BODY":hm(e);n(e);continue;case "SCRIPT":case "STYLE":continue;case "LINK":if("stylesheet"===e.rel.toLowerCase())continue}b.removeChild(e)}}function Mm(b,c,e,k){for(;1===b.nodeType;){var y=
e;if(b.nodeName.toLowerCase()!==c.toLowerCase()){if(!k&&("INPUT"!==b.nodeName||"hidden"!==b.type))break}else if(!k)if("input"===c&&"hidden"===b.type){var J=null==y.name?null:""+y.name;if("hidden"===y.type&&b.getAttribute("name")===J)return b}else return b;else if(!b[Ij])switch(c){case "meta":if(!b.hasAttribute("itemprop"))break;return b;case "link":J=b.getAttribute("rel");if("stylesheet"===J&&b.hasAttribute("data-precedence"))break;else if(J!==y.rel||b.getAttribute("href")!==(null==y.href||""===y.href?
null:y.href)||b.getAttribute("crossorigin")!==(null==y.crossOrigin?null:y.crossOrigin)||b.getAttribute("title")!==(null==y.title?null:y.title))break;return b;case "style":if(b.hasAttribute("data-precedence"))break;return b;case "script":J=b.getAttribute("src");if((J!==(null==y.src?null:y.src)||b.getAttribute("type")!==(null==y.type?null:y.type)||b.getAttribute("crossorigin")!==(null==y.crossOrigin?null:y.crossOrigin))&&J&&b.hasAttribute("async")&&!b.hasAttribute("itemprop"))break;return b;default:return b}b=
Jh(b.nextSibling);if(null===b)break}return null}function Nm(b,c,e){if(""===c)return null;for(;3!==b.nodeType;){if((1!==b.nodeType||"INPUT"!==b.nodeName||"hidden"!==b.type)&&!e)return null;b=Jh(b.nextSibling);if(null===b)return null}return b}function gm(b,c){for(;8!==b.nodeType;){if((1!==b.nodeType||"INPUT"!==b.nodeName||"hidden"!==b.type)&&!c)return null;b=Jh(b.nextSibling);if(null===b)return null}return b}function hl(b){return"$?"===b.data||"$~"===b.data}function em(b){return"$!"===b.data||"$?"===
b.data&&"loading"!==b.ownerDocument.readyState}function Jn(b,c){var e=b.ownerDocument;if("$~"===b.data)b._reactRetry=c;else if("$?"!==b.data||"loading"!==e.readyState)c();else{var k=function(){c();e.removeEventListener("DOMContentLoaded",k)};e.addEventListener("DOMContentLoaded",k);b._reactRetry=k}}function Jh(b){for(;null!=b;b=b.nextSibling){var c=b.nodeType;if(1===c||3===c)break;if(8===c){c=b.data;if("$"===c||"$!"===c||"$?"===c||"$~"===c||"\x26"===c||"F!"===c||"F"===c)break;if("/$"===c||"/\x26"===
c)return null}}return b}function Jm(b){b=b.nextSibling;for(var c=0;b;){if(8===b.nodeType){var e=b.data;if("/$"===e||"/\x26"===e){if(0===c)return Jh(b.nextSibling);c--}else"$"!==e&&"$!"!==e&&"$?"!==e&&"$~"!==e&&"\x26"!==e||c++}b=b.nextSibling}return null}function Cm(b){b=b.previousSibling;for(var c=0;b;){if(8===b.nodeType){var e=b.data;if("$"===e||"$!"===e||"$?"===e||"$~"===e||"\x26"===e){if(0===c)return b;c--}else"/$"!==e&&"/\x26"!==e||c++}b=b.previousSibling}return null}function Lm(b,c,e){c=ll(e);
switch(b){case "html":b=c.documentElement;if(!b)throw Error(u(452));return b;case "head":b=c.head;if(!b)throw Error(u(453));return b;case "body":b=c.body;if(!b)throw Error(u(454));return b;default:throw Error(u(451));}}function Vj(b){for(var c=b.attributes;c.length;)b.removeAttributeNode(c[0]);n(b)}function Qf(b){return"function"===typeof b.getRootNode?b.getRootNode():9===b.nodeType?b:b.ownerDocument}function Qh(b,c,e){var k=yl;if(k&&"string"===typeof c&&c){var y=db(c);y='link[rel\x3d"'+b+'"][href\x3d"'+
y+'"]';"string"===typeof e&&(y+='[crossorigin\x3d"'+e+'"]');yo.has(y)||(yo.add(y),b={rel:b,crossOrigin:e,href:c},null===k.querySelector(y)&&(c=k.createElement("link"),Eg(c,"link",b),B(c),k.head.appendChild(c)))}}function kl(b,c,e,k){var y=(y=pi.current)?Qf(y):null;if(!y)throw Error(u(446));switch(b){case "meta":case "title":return null;case "style":return"string"===typeof e.precedence&&"string"===typeof e.href?(c=fi(e.href),e=T(y).hoistableStyles,k=e.get(c),k||(k={type:"style",instance:null,count:0,
state:null},e.set(c,k)),k):{type:"void",instance:null,count:0,state:null};case "link":if("stylesheet"===e.rel&&"string"===typeof e.href&&"string"===typeof e.precedence){b=fi(e.href);var J=T(y).hoistableStyles,ya=J.get(b);ya||(y=y.ownerDocument||y,ya={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},J.set(b,ya),(J=y.querySelector(dk(b)))&&!J._p&&(ya.instance=J,ya.state.loading=5),ki.has(b)||(e={rel:"preload",as:"style",href:e.href,crossOrigin:e.crossOrigin,integrity:e.integrity,
media:e.media,hrefLang:e.hrefLang,referrerPolicy:e.referrerPolicy},ki.set(b,e),J||eo(y,b,e,ya.state)));if(c&&null===k)throw Error(u(528,""));return ya}if(c&&null!==k)throw Error(u(529,""));return null;case "script":return c=e.async,e=e.src,"string"===typeof e&&c&&"function"!==typeof c&&"symbol"!==typeof c?(c=yj(e),e=T(y).hoistableScripts,k=e.get(c),k||(k={type:"script",instance:null,count:0,state:null},e.set(c,k)),k):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,b));}}function fi(b){return'href\x3d"'+
db(b)+'"'}function dk(b){return'link[rel\x3d"stylesheet"]['+b+"]"}function mn(b){return Rf({},b,{"data-precedence":b.precedence,precedence:null})}function eo(b,c,e,k){b.querySelector('link[rel\x3d"preload"][as\x3d"style"]['+c+"]")?k.loading=1:(c=b.createElement("link"),k.preload=c,c.addEventListener("load",function(){return k.loading|=1}),c.addEventListener("error",function(){return k.loading|=2}),Eg(c,"link",e),B(c),b.head.appendChild(c))}function yj(b){return'[src\x3d"'+db(b)+'"]'}function ek(b){return"script[async]"+
b}function nl(b,c,e){c.count++;if(null===c.instance)switch(c.type){case "style":var k=b.querySelector('style[data-href~\x3d"'+db(e.href)+'"]');if(k)return c.instance=k,B(k),k;var y=Rf({},e,{"data-href":e.href,"data-precedence":e.precedence,href:null,precedence:null});k=(b.ownerDocument||b).createElement("style");B(k);Eg(k,"style",y);zj(k,e.precedence,b);return c.instance=k;case "stylesheet":y=fi(e.href);var J=b.querySelector(dk(y));if(J)return c.state.loading|=4,c.instance=J,B(J),J;k=mn(e);(y=ki.get(y))&&
pm(k,y);J=(b.ownerDocument||b).createElement("link");B(J);var ya=J;ya._p=new Promise(function(gb,dc){ya.onload=gb;ya.onerror=dc});Eg(J,"link",k);c.state.loading|=4;zj(J,e.precedence,b);return c.instance=J;case "script":J=yj(e.src);if(y=b.querySelector(ek(J)))return c.instance=y,B(y),y;k=e;if(y=ki.get(J))k=Rf({},e),Kk(k,y);b=b.ownerDocument||b;y=b.createElement("script");B(y);Eg(y,"link",k);b.head.appendChild(y);return c.instance=y;case "void":return null;default:throw Error(u(443,c.type));}else"stylesheet"===
c.type&&0===(c.state.loading&4)&&(k=c.instance,c.state.loading|=4,zj(k,e.precedence,b));return c.instance}function zj(b,c,e){for(var k=e.querySelectorAll('link[rel\x3d"stylesheet"][data-precedence],style[data-precedence]'),y=k.length?k[k.length-1]:null,J=y,ya=0;ya<k.length;ya++){var gb=k[ya];if(gb.dataset.precedence===c)J=gb;else if(J!==y)break}J?J.parentNode.insertBefore(b,J.nextSibling):(c=9===e.nodeType?e.head:e,c.insertBefore(b,c.firstChild))}function pm(b,c){null==b.crossOrigin&&(b.crossOrigin=
c.crossOrigin);null==b.referrerPolicy&&(b.referrerPolicy=c.referrerPolicy);null==b.title&&(b.title=c.title)}function Kk(b,c){null==b.crossOrigin&&(b.crossOrigin=c.crossOrigin);null==b.referrerPolicy&&(b.referrerPolicy=c.referrerPolicy);null==b.integrity&&(b.integrity=c.integrity)}function im(b,c,e){if(null===Tm){var k=new Map,y=Tm=new Map;y.set(e,k)}else y=Tm,(k=y.get(e))||(k=new Map,y.set(e,k));if(k.has(b))return k;k.set(b,null);e=e.getElementsByTagName(b);for(y=0;y<e.length;y++){var J=e[y];if(!(J[Ij]||
J[Hg]||"link"===b&&"stylesheet"===J.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==J.namespaceURI){var ya=J.getAttribute(c)||"";ya=b+ya;var gb=k.get(ya);gb?gb.push(J):k.set(ya,[J])}}return k}function Sm(b,c,e){b=b.ownerDocument||b;b.head.insertBefore(e,"title"===c?b.querySelector("head \x3e title"):null)}function cl(b,c,e){if(1===e||null!=c.itemProp)return!1;switch(b){case "meta":case "title":return!0;case "style":if("string"!==typeof c.precedence||"string"!==typeof c.href||""===c.href)break;
return!0;case "link":if("string"!==typeof c.rel||"string"!==typeof c.href||""===c.href||c.onLoad||c.onError)break;switch(c.rel){case "stylesheet":return b=c.disabled,"string"===typeof c.precedence&&null==b;default:return!0}case "script":if(c.async&&"function"!==typeof c.async&&"symbol"!==typeof c.async&&!c.onLoad&&!c.onError&&c.src&&"string"===typeof c.src)return!0}return!1}function Om(b){return"stylesheet"===b.type&&0===(b.state.loading&3)?!1:!0}function Kn(b,c,e,k){if("stylesheet"===e.type&&("string"!==
typeof k.media||!1!==matchMedia(k.media).matches)&&0===(e.state.loading&4)){if(null===e.instance){var y=fi(k.href),J=c.querySelector(dk(y));if(J){c=J._p;null!==c&&"object"===typeof c&&"function"===typeof c.then&&(b.count++,b=zl.bind(b),c.then(b,b));e.state.loading|=4;e.instance=J;B(J);return}J=c.ownerDocument||c;k=mn(k);(y=ki.get(y))&&pm(k,y);J=J.createElement("link");B(J);var ya=J;ya._p=new Promise(function(gb,dc){ya.onload=gb;ya.onerror=dc});Eg(J,"link",k);e.instance=J}null===b.stylesheets&&(b.stylesheets=
new Map);b.stylesheets.set(e,c);(c=e.state.preload)&&0===(e.state.loading&3)&&(b.count++,e=zl.bind(b),c.addEventListener("load",e),c.addEventListener("error",e))}}function Nn(b,c){b.stylesheets&&0===b.count&&Al(b,b.stylesheets);return 0<b.count||0<b.imgCount?function(e){var k=setTimeout(function(){b.stylesheets&&Al(b,b.stylesheets);if(b.unsuspend){var J=b.unsuspend;b.unsuspend=null;J()}},6E4+c);0<b.imgBytes&&0===fo&&(fo=62500*ln());var y=setTimeout(function(){b.waitingForImages=!1;if(0===b.count&&
(b.stylesheets&&Al(b,b.stylesheets),b.unsuspend)){var J=b.unsuspend;b.unsuspend=null;J()}},(b.imgBytes>fo?50:800)+c);b.unsuspend=e;return function(){b.unsuspend=null;clearTimeout(k);clearTimeout(y)}}:null}function zl(){this.count--;if(0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)Al(this,this.stylesheets);else if(this.unsuspend){var b=this.unsuspend;this.unsuspend=null;b()}}function Al(b,c){b.stylesheets=null;null!==b.unsuspend&&(b.count++,nn=new Map,c.forEach(go,
b),nn=null,zl.call(b))}function go(b,c){if(!(c.state.loading&4)){var e=nn.get(b);if(e)var k=e.get(null);else{e=new Map;nn.set(b,e);for(var y=b.querySelectorAll("link[data-precedence],style[data-precedence]"),J=0;J<y.length;J++){var ya=y[J];if("LINK"===ya.nodeName||"not all"!==ya.getAttribute("media"))e.set(ya.dataset.precedence,ya),k=ya}k&&e.set(null,k)}y=c.instance;ya=y.getAttribute("data-precedence");J=e.get(ya)||k;J===k&&e.set(null,y);e.set(ya,y);this.count++;k=zl.bind(this);y.addEventListener("load",
k);y.addEventListener("error",k);J?J.parentNode.insertBefore(y,J.nextSibling):(b=9===b.nodeType?b.head:b,b.insertBefore(y,b.firstChild));c.state.loading|=4}}function ho(b,c,e,k,y,J,ya,gb,dc){this.tag=1;this.containerInfo=b;this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null;this.callbackPriority=0;this.expirationTimes=vb(-1);this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=
this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=vb(0);this.hiddenUpdates=vb(null);this.identifierPrefix=k;this.onUncaughtError=y;this.onCaughtError=J;this.onRecoverableError=ya;this.pooledCache=null;this.pooledCacheLanes=0;this.formState=dc;this.incompleteTransitions=new Map}function Bl(b,c,e,k,y,J,ya,gb,dc,Hc,Yc,bd){b=new ho(b,c,e,ya,dc,Hc,Yc,bd,gb);c=1;!0===J&&(c|=24);J=Lb(3,null,null,c);b.current=J;J.stateNode=b;c=fc();c.refCount++;b.pooledCache=
c;c.refCount++;J.memoizedState={element:k,isDehydrated:e,cache:c};ef(J);return b}function on(b){return b?b=Uj:Uj}function pn(b,c,e,k,y,J){y=on(y);null===k.context?k.context=y:k.pendingContext=y;k=re(c);k.payload={element:e};J=void 0===J?null:J;null!==J&&(k.callback=J);e=Wd(b,k,c);null!==e&&(Jg(e,b,c),qa(e,b,c))}function qn(b,c){b=b.memoizedState;if(null!==b&&null!==b.dehydrated){var e=b.retryLane;b.retryLane=0!==e&&e<c?e:c}}function qm(b,c){qn(b,c);(b=b.alternate)&&qn(b,c)}function Cl(b){if(13===
b.tag||31===b.tag){var c=ca(b,67108864);null!==c&&Jg(c,b,67108864);qm(b,67108864)}}function Dl(b){if(13===b.tag||31===b.tag){var c=dh();c=Z(c);var e=ca(b,c);null!==e&&Jg(e,b,c);qm(b,c)}}function Un(b,c,e,k){var y=se.T;se.T=null;var J=nf.p;try{nf.p=2,hd(b,c,e,k)}finally{nf.p=J,se.T=y}}function we(b,c,e,k){var y=se.T;se.T=null;var J=nf.p;try{nf.p=8,hd(b,c,e,k)}finally{nf.p=J,se.T=y}}function hd(b,c,e,k){if(Qm){var y=wg(k);if(null===y)Dh(b,c,k,rn,e),rm(b,k);else if(El(y,b,c,e,k))k.stopPropagation();
else if(rm(b,k),c&4&&-1<Ho.indexOf(b)){for(;null!==y;){var J=N(y);if(null!==J)switch(J.tag){case 3:J=J.stateNode;if(J.current.memoizedState.isDehydrated){var ya=Sa(J.pendingLanes);if(0!==ya){var gb=J;gb.pendingLanes|=2;for(gb.entangledLanes|=2;ya;){var dc=1<<31-vh(ya);gb.entanglements[1]|=dc;ya&=~dc}qf(J);0===(kf&6)&&(Pm=cg()+500,eg(0,!1))}}break;case 31:case 13:gb=ca(J,2),null!==gb&&Jg(gb,J,2),Uh(),qm(J,2)}J=wg(k);null===J&&Dh(b,c,k,rn,e);if(J===y)break;y=J}null!==y&&k.stopPropagation()}else Dh(b,
c,k,null,e)}}function wg(b){b=ra(b);return li(b)}function li(b){rn=null;b=F(b);if(null!==b){var c=ja(b);if(null===c)b=null;else{var e=c.tag;if(13===e){b=Za(c);if(null!==b)return b;b=null}else if(31===e){b=ub(c);if(null!==b)return b;b=null}else if(3===e){if(c.stateNode.current.memoizedState.isDehydrated)return 3===c.tag?c.stateNode.containerInfo:null;b=null}else c!==b&&(b=null)}}rn=b;return null}function Ol(b){switch(b){case "beforetoggle":case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "toggle":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 2;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 8;case "message":switch(Aj()){case cn:return 2;case an:return 8;case ji:case io:return 32;case bn:return 268435456;default:return 32}default:return 32}}function rm(b,c){switch(b){case "focusin":case "focusout":fk=
null;break;case "dragenter":case "dragleave":gk=null;break;case "mouseover":case "mouseout":hk=null;break;case "pointerover":case "pointerout":sm.delete(c.pointerId);break;case "gotpointercapture":case "lostpointercapture":tm.delete(c.pointerId)}}function Bj(b,c,e,k,y,J){if(null===b||b.nativeEvent!==J)return b={blockedOn:c,domEventName:e,eventSystemFlags:k,nativeEvent:J,targetContainers:[y]},null!==c&&(c=N(c),null!==c&&Cl(c)),b;b.eventSystemFlags|=k;c=b.targetContainers;null!==y&&-1===c.indexOf(y)&&
c.push(y);return b}function El(b,c,e,k,y){switch(c){case "focusin":return fk=Bj(fk,b,c,e,k,y),!0;case "dragenter":return gk=Bj(gk,b,c,e,k,y),!0;case "mouseover":return hk=Bj(hk,b,c,e,k,y),!0;case "pointerover":var J=y.pointerId;sm.set(J,Bj(sm.get(J)||null,b,c,e,k,y));return!0;case "gotpointercapture":return J=y.pointerId,tm.set(J,Bj(tm.get(J)||null,b,c,e,k,y)),!0}return!1}function sn(b){var c=F(b.target);if(null!==c){var e=ja(c);if(null!==e)if(c=e.tag,13===c){if(c=Za(e),null!==c){b.blockedOn=c;na(b.priority,
function(){Dl(e)});return}}else if(31===c){if(c=ub(e),null!==c){b.blockedOn=c;na(b.priority,function(){Dl(e)});return}}else if(3===c&&e.stateNode.current.memoizedState.isDehydrated){b.blockedOn=3===e.tag?e.stateNode.containerInfo:null;return}}b.blockedOn=null}function ik(b){if(null!==b.blockedOn)return!1;for(var c=b.targetContainers;0<c.length;){var e=wg(b.nativeEvent);if(null===e){e=b.nativeEvent;var k=new e.constructor(e.type,e);ul=k;e.target.dispatchEvent(k);ul=null}else return c=N(e),null!==c&&
Cl(c),b.blockedOn=e,!1;c.shift()}return!0}function um(b,c,e){ik(b)&&e.delete(c)}function Rh(){jo=!1;null!==fk&&ik(fk)&&(fk=null);null!==gk&&ik(gk)&&(gk=null);null!==hk&&ik(hk)&&(hk=null);sm.forEach(um);tm.forEach(um)}function Cj(b,c){b.blockedOn===c&&(b.blockedOn=null,jo||(jo=!0,xg.unstable_scheduleCallback(xg.unstable_NormalPriority,Rh)))}function tn(b){un!==b&&(un=b,xg.unstable_scheduleCallback(xg.unstable_NormalPriority,function(){un===b&&(un=null);for(var c=0;c<b.length;c+=3){var e=b[c],k=b[c+
1],y=b[c+2];if("function"!==typeof k)if(null===li(k||e))continue;else break;var J=N(e);null!==J&&(b.splice(c,3),c-=3,ff(J,{pending:!0,data:y,method:e.method,action:k},k,y))}}))}function Bi(b){function c(dc){return Cj(dc,b)}null!==fk&&Cj(fk,b);null!==gk&&Cj(gk,b);null!==hk&&Cj(hk,b);sm.forEach(c);tm.forEach(c);for(var e=0;e<jk.length;e++){var k=jk[e];k.blockedOn===b&&(k.blockedOn=null)}for(;0<jk.length&&(e=jk[0],null===e.blockedOn);)sn(e),null===e.blockedOn&&jk.shift();e=(b.ownerDocument||b).$$reactFormReplay;
if(null!=e)for(k=0;k<e.length;k+=3){var y=e[k],J=e[k+1],ya=y[Rg]||null;if("function"===typeof J)ya||tn(e);else if(ya){var gb=null;if(J&&J.hasAttribute("formAction"))if(y=J,ya=J[Rg]||null)gb=ya.formAction;else{if(null!==li(y))continue}else gb=ya.action;"function"===typeof gb?e[k+1]=gb:(e.splice(k,3),k-=3);tn(e)}}}function vn(){function b(J){J.canIntercept&&"react-transition"===J.info&&J.intercept({handler:function(){return new Promise(function(ya){return y=ya})},focusReset:"manual",scroll:"manual"})}
function c(){null!==y&&(y(),y=null);k||setTimeout(e,20)}function e(){if(!k&&!navigation.transition){var J=navigation.currentEntry;J&&null!=J.url&&navigation.navigate(J.url,{state:J.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var k=!1,y=null;navigation.addEventListener("navigate",b);navigation.addEventListener("navigatesuccess",c);navigation.addEventListener("navigateerror",c);setTimeout(e,100);return function(){k=!0;navigation.removeEventListener("navigate",
b);navigation.removeEventListener("navigatesuccess",c);navigation.removeEventListener("navigateerror",c);null!==y&&(y(),y=null)}}}function kk(b){this._internalRoot=b}function Fl(b){this._internalRoot=b}var vm=nb(0);"use strict";var xg=nb(6),Wg=nb(3),wm=nb(9),Rf=Object.assign,dm=Symbol.for("react.element"),wh=Symbol.for("react.transitional.element"),ij=Symbol.for("react.portal"),Gj=Symbol.for("react.fragment"),hj=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),Jl=Symbol.for("react.consumer"),
ni=Symbol.for("react.context"),Fh=Symbol.for("react.forward_ref"),Hj=Symbol.for("react.suspense"),Qk=Symbol.for("react.suspense_list"),Rk=Symbol.for("react.memo"),Ji=Symbol.for("react.lazy");Symbol.for("react.scope");var Il=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var Fn=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var Am=Symbol.iterator,zn=Symbol.for("react.client.reference"),pk=Array.isArray,se=Wg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,
nf=wm.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qi={pending:!1,data:null,method:null,action:null},Sk=[],oi=-1,Th=Qb(null),nk=Qb(null),pi=Qb(null),Tk=Qb(null),Uk,Vk,Nl=!1,Rl=Object.prototype.hasOwnProperty,Ug=xg.unstable_scheduleCallback,Hk=xg.unstable_cancelCallback,Xm=xg.unstable_shouldYield,km=xg.unstable_requestPaint,cg=xg.unstable_now,Aj=xg.unstable_getCurrentPriorityLevel,cn=xg.unstable_ImmediatePriority,an=xg.unstable_UserBlockingPriority,ji=xg.unstable_NormalPriority,io=
xg.unstable_LowPriority,bn=xg.unstable_IdlePriority,Xg=xg.log,Bm=xg.unstable_setDisableYieldValue,Ki=null,Qg=null,vh=Math.clz32?Math.clz32:xa,Wk=Math.log,Xk=Math.LN2,sl=256,wj=262144,ok=4194304,mi=Math.random().toString(36).slice(2),Hg="__reactFiber$"+mi,Rg="__reactProps$"+mi,Li="__reactContainer$"+mi,Yk="__reactEvents$"+mi,An="__reactListeners$"+mi,Bn="__reactHandles$"+mi,Pl="__reactResources$"+mi,Ij="__reactMarker$"+mi,Dm=new Set,Ql={},Em=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),
Jj={},jj={},Fm=/[\n"\\]/g,Gm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),
ao=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],
["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical",
"glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering",
"shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],
["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],
["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,ul=null,kj=null,ri=null,Sl=!1,Ii=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),lm=!1;if(Ii)try{var lk={};Object.defineProperty(lk,"passive",{get:function(){lm=!0}});window.addEventListener("test",
lk,lk);window.removeEventListener("test",lk,lk)}catch(b){lm=!1}var Mi=null,Zk=null,qk=null,Dj={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$k=rc(Dj),mk=Rf({},Dj,{view:0,detail:0}),en=rc(mk),xm,ym,Eh,Lk=Rf({},mk,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(b){return void 0===b.relatedTarget?b.fromElement===b.srcElement?
b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){if("movementX"in b)return b.movementX;b!==Eh&&(Eh&&"mousemove"===b.type?(xm=b.screenX-Eh.screenX,ym=b.screenY-Eh.screenY):ym=xm=0,Eh=b);return xm},movementY:function(b){return"movementY"in b?b.movementY:ym}}),nm=rc(Lk),ko=Rf({},Lk,{dataTransfer:0}),Wn=rc(ko),lo=Rf({},mk,{relatedTarget:0}),mm=rc(lo),zm=Rf({},Dj,{animationName:0,elapsedTime:0,pseudoElement:0}),Yn=rc(zm),mo=Rf({},Dj,{clipboardData:function(b){return"clipboardData"in b?
b.clipboardData:window.clipboardData}}),Zn=rc(mo),no=Rf({},Dj,{data:0}),hn=rc(no),oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",
40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},qo=Rf({},mk,{key:function(b){if(b.key){var c=oo[b.key]||b.key;if("Unidentified"!==c)return c}return"keypress"===b.type?(b=Eb(b),13===b?"Enter":String.fromCharCode(b)):"keydown"===b.type||"keyup"===b.type?po[b.keyCode]||"Unidentified":""},code:0,
location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(b){return"keypress"===b.type?Eb(b):0},keyCode:function(b){return"keydown"===b.type||"keyup"===b.type?b.keyCode:0},which:function(b){return"keypress"===b.type?Eb(b):"keydown"===b.type||"keyup"===b.type?b.keyCode:0}}),Vn=rc(qo),ro=Rf({},Lk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fn=rc(ro),gj=Rf({},mk,{touches:0,targetTouches:0,
changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),Xn=rc(gj),hg=Rf({},Dj,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cf=rc(hg),ih=Rf({},Lk,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),Gi=rc(ih),so=Rf({},Dj,{newState:0,oldState:0}),Hi=rc(so),Cn=[9,13,27,32],Wl=Ii&&"CompositionEvent"in window,Mk=
null;Ii&&"documentMode"in document&&(Mk=document.documentMode);var jn=Ii&&"TextEvent"in window&&!Mk,Xl=Ii&&(!Wl||Mk&&8<Mk&&11>=Mk),Vl=String.fromCharCode(32),Ul=!1,si=!1,rk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Kj=null,ti=null,vl=!1;if(Ii){if(Ii){var Nk="oninput"in document;if(!Nk){var wn=document.createElement("div");wn.setAttribute("oninput","return;");Nk="function"===typeof wn.oninput}var xn=
Nk}else xn=!1;vl=xn&&(!document.documentMode||9<document.documentMode)}var jh="function"===typeof Object.is?Object.is:Ic,$n=Ii&&"documentMode"in document&&11>=document.documentMode,lj=null,bl=null,tk=null,al=!1,kh={animationend:gd("Animation","AnimationEnd"),animationiteration:gd("Animation","AnimationIteration"),animationstart:gd("Animation","AnimationStart"),transitionrun:gd("Transition","TransitionRun"),transitionstart:gd("Transition","TransitionStart"),transitioncancel:gd("Transition","TransitionCancel"),
transitionend:gd("Transition","TransitionEnd")},Gh={},mj={};Ii&&(mj=document.createElement("div").style,"AnimationEvent"in window||(delete kh.animationend.animation,delete kh.animationiteration.animation,delete kh.animationstart.animation),"TransitionEvent"in window||delete kh.transitionend.transition);var Vg=z("animationend"),fj=z("animationiteration"),Ik=z("animationstart"),Gl=z("transitionrun"),Ej=z("transitionstart"),Ok=z("transitioncancel"),tl=z("transitionend"),Ni=new Map,Pk="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");
Pk.push("scrollEnd");var il="function"===typeof reportError?reportError:function(b){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof b&&null!==b&&"string"===typeof b.message?String(b.message):String(b),error:b});if(!window.dispatchEvent(c))return}else if("object"===typeof vm&&"function"===typeof vm.emit){vm.emit("uncaughtException",b);return}console.error(b)},Hh=[],Lj=0,Yl=0,Uj={},Im=new WeakMap,
Mj=[],Nj=0,dl=null,uk=0,Ih=[],Ig=0,Yg=null,lh=1,Mf="",yg=null,Sf=null,Te=!1,Oi=null,mh=!1,vk=Error(u(519)),el=Qb(null),ui=null,Vh=null,fl="undefined"!==typeof AbortController?AbortController:function(){var b=[],c=this.signal={aborted:!1,addEventListener:function(e,k){b.push(k)}};this.abort=function(){c.aborted=!0;b.forEach(function(e){return e()})}},bm=xg.unstable_scheduleCallback,cm=xg.unstable_NormalPriority,Xf={$$typeof:ni,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},
Pi=null,Qi=0,Ri=0,vi=null,Hl=se.S;se.S=function(b,c){wo=cg();"object"===typeof c&&null!==c&&"function"===typeof c.then&&jd(b,c);null!==Hl&&Hl(b,c)};var wi=Qb(null),Si=Error(u(460)),xk=Error(u(474)),oj=Error(u(542)),jl={then:function(){}},nj=null,pj=null,Oj=0,sj=Ze(!0),Km=Ze(!1),Wh=!1,gl=!1,rj=Qb(null),a=Qb(0),d=Qb(null),f=null,g=Qb(0),h=0,p=null,C=null,P=null,aa=!1,sa=!1,ab=!1,rb=0,ac=0,Dc=null,gc=0,Cc={readContext:ye,use:te,useCallback:Oc,useContext:Oc,useEffect:Oc,useImperativeHandle:Oc,useLayoutEffect:Oc,
useInsertionEffect:Oc,useMemo:Oc,useReducer:Oc,useRef:Oc,useState:Oc,useDebugValue:Oc,useDeferredValue:Oc,useTransition:Oc,useSyncExternalStore:Oc,useId:Oc,useHostTransitionStatus:Oc,useFormState:Oc,useActionState:Oc,useOptimistic:Oc,useMemoCache:Oc,useCacheRefresh:Oc};Cc.useEffectEvent=Oc;var Tc={readContext:ye,use:te,useCallback:function(b,c){Bd().memoizedState=[b,void 0===c?null:c];return b},useContext:ye,useEffect:xd,useImperativeHandle:function(b,c,e){e=null!==e&&void 0!==e?e.concat([b]):null;
yc(4194308,4,ph.bind(null,c,b),e)},useLayoutEffect:function(b,c){return yc(4194308,4,b,c)},useInsertionEffect:function(b,c){yc(4,2,b,c)},useMemo:function(b,c){var e=Bd();c=void 0===c?null:c;var k=b();if(ab){ha(!0);try{b()}finally{ha(!1)}}e.memoizedState=[k,c];return k},useReducer:function(b,c,e){var k=Bd();if(void 0!==e){var y=e(c);if(ab){ha(!0);try{e(c)}finally{ha(!1)}}}else y=c;k.memoizedState=k.baseState=y;b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:y};k.queue=
b;b=b.dispatch=Ag.bind(null,p,b);return[k.memoizedState,b]},useRef:function(b){var c=Bd();b={current:b};return c.memoizedState=b},useState:function(b){b=Ke(b);var c=b.queue,e=nh.bind(null,p,c);c.dispatch=e;return[b.memoizedState,e]},useDebugValue:ng,useDeferredValue:function(b,c){var e=Bd();return Ld(e,b,c)},useTransition:function(){var b=Ke(!1);b=zf.bind(null,p,b.queue,!0,!1);Bd().memoizedState=b;return[!1,b]},useSyncExternalStore:function(b,c,e){var k=p,y=Bd();if(Te){if(void 0===e)throw Error(u(407));
e=e()}else{e=c();if(null===af)throw Error(u(349));0!==(Ue&127)||zg(k,c,e)}y.memoizedState=e;var J={value:e,getSnapshot:c};y.queue=J;xd(Tf.bind(null,k,J,b),[b]);k.flags|=2048;Ka(9,{destroy:void 0},yf.bind(null,k,J,e,c),null);return e},useId:function(){var b=Bd(),c=af.identifierPrefix;if(Te){var e=Mf,k=lh;e=(k&~(1<<32-vh(k)-1)).toString(32)+e;c="_"+c+"R_"+e;e=rb++;0<e&&(c+="H"+e.toString(32));c+="_"}else e=gc++,c="_"+c+"r_"+e.toString(32)+"_";return b.memoizedState=c},useHostTransitionStatus:$f,useFormState:Sg,
useActionState:Sg,useOptimistic:function(b){var c=Bd();c.memoizedState=c.baseState=b;var e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};c.queue=e;c=Lh.bind(null,p,!0,e);e.dispatch=c;return[b,c]},useMemoCache:$d,useCacheRefresh:function(){return Bd().memoizedState=eh.bind(null,p)},useEffectEvent:function(b){var c=Bd(),e={impl:b};c.memoizedState=e;return function(){if(0!==(kf&2))throw Error(u(440));return e.impl.apply(void 0,arguments)}}},Vc={readContext:ye,use:te,
useCallback:Kg,useContext:ye,useEffect:Vd,useImperativeHandle:ch,useInsertionEffect:pf,useLayoutEffect:ug,useMemo:Mh,useReducer:$c,useRef:mb,useState:function(){return $c(Ee)},useDebugValue:ng,useDeferredValue:function(b,c){var e=qd();return Zd(e,C.memoizedState,b,c)},useTransition:function(){var b=$c(Ee)[0],c=qd().memoizedState;return["boolean"===typeof b?b:de(b),c]},useSyncExternalStore:uf,useId:Vf,useHostTransitionStatus:$f,useFormState:Tg,useActionState:Tg,useOptimistic:function(b,c){var e=qd();
return lg(e,C,b,c)},useMemoCache:$d,useCacheRefresh:pg};Vc.useEffectEvent=ig;var Od={readContext:ye,use:te,useCallback:Kg,useContext:ye,useEffect:Vd,useImperativeHandle:ch,useInsertionEffect:pf,useLayoutEffect:ug,useMemo:Mh,useReducer:lf,useRef:mb,useState:function(){return lf(Ee)},useDebugValue:ng,useDeferredValue:function(b,c){var e=qd();return null===C?Ld(e,b,c):Zd(e,C.memoizedState,b,c)},useTransition:function(){var b=lf(Ee)[0],c=qd().memoizedState;return["boolean"===typeof b?b:de(b),c]},useSyncExternalStore:uf,
useId:Vf,useHostTransitionStatus:$f,useFormState:W,useActionState:W,useOptimistic:function(b,c){var e=qd();if(null!==C)return lg(e,C,b,c);e.baseState=b;return[b,e.queue.dispatch]},useMemoCache:$d,useCacheRefresh:pg};Od.useEffectEvent=ig;for(var Fd={enqueueSetState:function(b,c,e){b=b._reactInternals;var k=dh(),y=re(k);y.payload=c;void 0!==e&&null!==e&&(y.callback=e);c=Wd(b,y,k);null!==c&&(Jg(c,b,k),qa(c,b,k))},enqueueReplaceState:function(b,c,e){b=b._reactInternals;var k=dh(),y=re(k);y.tag=1;y.payload=
c;void 0!==e&&null!==e&&(y.callback=e);c=Wd(b,y,k);null!==c&&(Jg(c,b,k),qa(c,b,k))},enqueueForceUpdate:function(b,c){b=b._reactInternals;var e=dh(),k=re(e);k.tag=2;void 0!==c&&null!==c&&(k.callback=c);c=Wd(b,k,e);null!==c&&(Jg(c,b,e),qa(c,b,e))}},ie=Error(u(461)),Td=!1,wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},cf=!1,Le=!1,Ge=!1,Pf="function"===typeof WeakSet?WeakSet:Set,fe=null,Oe=null,Fg=!1,ci=null,ii=8192,Wm={getCacheForType:function(b){var c=ye(Xf),e=c.data.get(b);
void 0===e&&(e=b(),c.data.set(b,e));return e},cacheSignal:function(){return ye(Xf).controller.signal}},Rn="function"===typeof WeakMap?WeakMap:Map,kf=0,af=null,Pe=null,Ue=0,Lf=0,ei=null,Zj=!1,pl=!1,Ln=!1,qj=0,rg=0,Qj=0,zk=0,On=0,ai=0,ml=0,fm=null,Kh=null,Mn=!1,Um=0,wo=0,Pm=Infinity,Vm=null,Tj=null,Og=0,bk=null,ql=null,xj=0,Pn=0,Qn=null,xo=null,Zl=0,Dn=null,Ym=null,rl=null,Sn=!1,Zm=!1,Tn=!1,ck=0,to=0;to<Pk.length;to++){var uo=Pk[to],Io=uo.toLowerCase(),Jo=uo[0].toUpperCase()+uo.slice(1);K(Io,"on"+Jo)}K(Vg,
"onAnimationEnd");K(fj,"onAnimationIteration");K(Ik,"onAnimationStart");K("dblclick","onDoubleClick");K("focusin","onFocus");K("focusout","onBlur");K(Gl,"onTransitionRun");K(Ej,"onTransitionStart");K(Ok,"onTransitionCancel");K(tl,"onTransitionEnd");Q("onMouseEnter",["mouseout","mouseover"]);Q("onMouseLeave",["mouseout","mouseover"]);Q("onPointerEnter",["pointerout","pointerover"]);Q("onPointerLeave",["pointerout","pointerover"]);A("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
A("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));A("onBeforeInput",["compositionend","keypress","textInput","paste"]);A("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));A("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));A("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
Eo=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l)),dn="_reactListening"+Math.random().toString(36).slice(2),Fo=/\r\n?/g,Go=/\u0000|\uFFFD/g,Hn=null,In=null,bo=null,vo="function"===typeof setTimeout?setTimeout:void 0,Co="function"===typeof clearTimeout?clearTimeout:void 0,zo="function"===typeof Promise?Promise:void 0,Do="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof zo?function(b){return zo.resolve(null).then(b).catch(co)}:vo,
En=null,ki=new Map,yo=new Set,Fj=nf.d;nf.d={f:function(){var b=Fj.f(),c=Uh();return b||c},r:function(b){var c=N(b);null!==c&&5===c.tag&&"form"===c.type?vf(c):Fj.r(b)},D:function(b){Fj.D(b);Qh("dns-prefetch",b,null)},C:function(b,c){Fj.C(b,c);Qh("preconnect",b,c)},L:function(b,c,e){Fj.L(b,c,e);var k=yl;if(k&&b&&c){var y='link[rel\x3d"preload"][as\x3d"'+db(c)+'"]';"image"===c?e&&e.imageSrcSet?(y+='[imagesrcset\x3d"'+db(e.imageSrcSet)+'"]',"string"===typeof e.imageSizes&&(y+='[imagesizes\x3d"'+db(e.imageSizes)+
'"]')):y+='[href\x3d"'+db(b)+'"]':y+='[href\x3d"'+db(b)+'"]';var J=y;switch(c){case "style":J=fi(b);break;case "script":J=yj(b)}ki.has(J)||(b=Rf({rel:"preload",href:"image"===c&&e&&e.imageSrcSet?void 0:b,as:c},e),ki.set(J,b),null!==k.querySelector(y)||"style"===c&&k.querySelector(dk(J))||"script"===c&&k.querySelector(ek(J))||(c=k.createElement("link"),Eg(c,"link",b),B(c),k.head.appendChild(c)))}},m:function(b,c){Fj.m(b,c);var e=yl;if(e&&b){var k=c&&"string"===typeof c.as?c.as:"script",y='link[rel\x3d"modulepreload"][as\x3d"'+
db(k)+'"][href\x3d"'+db(b)+'"]',J=y;switch(k){case "audioworklet":case "paintworklet":case "serviceworker":case "sharedworker":case "worker":case "script":J=yj(b)}if(!ki.has(J)&&(b=Rf({rel:"modulepreload",href:b},c),ki.set(J,b),null===e.querySelector(y))){switch(k){case "audioworklet":case "paintworklet":case "serviceworker":case "sharedworker":case "worker":case "script":if(e.querySelector(ek(J)))return}k=e.createElement("link");Eg(k,"link",b);B(k);e.head.appendChild(k)}}},X:function(b,c){Fj.X(b,
c);var e=yl;if(e&&b){var k=T(e).hoistableScripts,y=yj(b),J=k.get(y);J||(J=e.querySelector(ek(y)),J||(b=Rf({src:b,async:!0},c),(c=ki.get(y))&&Kk(b,c),J=e.createElement("script"),B(J),Eg(J,"link",b),e.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},k.set(y,J))}},S:function(b,c,e){Fj.S(b,c,e);var k=yl;if(k&&b){var y=T(k).hoistableStyles,J=fi(b);c=c||"default";var ya=y.get(J);if(!ya){var gb={loading:0,preload:null};if(ya=k.querySelector(dk(J)))gb.loading=5;else{b=Rf({rel:"stylesheet",
href:b,"data-precedence":c},e);(e=ki.get(J))&&pm(b,e);var dc=ya=k.createElement("link");B(dc);Eg(dc,"link",b);dc._p=new Promise(function(Hc,Yc){dc.onload=Hc;dc.onerror=Yc});dc.addEventListener("load",function(){gb.loading|=1});dc.addEventListener("error",function(){gb.loading|=2});gb.loading|=4;zj(ya,c,k)}ya={type:"stylesheet",instance:ya,count:1,state:gb};y.set(J,ya)}}},M:function(b,c){Fj.M(b,c);var e=yl;if(e&&b){var k=T(e).hoistableScripts,y=yj(b),J=k.get(y);J||(J=e.querySelector(ek(y)),J||(b=Rf({src:b,
async:!0,type:"module"},c),(c=ki.get(y))&&Kk(b,c),J=e.createElement("script"),B(J),Eg(J,"link",b),e.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},k.set(y,J))}}};var yl="undefined"===typeof document?null:document,Tm=null,fo=0,nn=null,Ml={$$typeof:ni,Provider:null,Consumer:null,_currentValue:qi,_currentValue2:qi,_threadCount:0},Qm=!0,rn=null,jo=!1,fk=null,gk=null,hk=null,sm=new Map,tm=new Map,jk=[],Ho="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),
un=null;Fl.prototype.render=kk.prototype.render=function(b){var c=this._internalRoot;if(null===c)throw Error(u(409));var e=c.current,k=dh();pn(e,k,b,c,null,null)};Fl.prototype.unmount=kk.prototype.unmount=function(){var b=this._internalRoot;if(null!==b){this._internalRoot=null;var c=b.containerInfo;pn(b.current,2,null,b,null,null);Uh();c[Li]=null}};Fl.prototype.unstable_scheduleHydration=function(b){if(b){var c=ma();b={blockedOn:null,target:b,priority:c};for(var e=0;e<jk.length&&0!==c&&c<jk[e].priority;e++);
jk.splice(e,0,b);0===e&&sn(b)}};var Ao=Wg.version;if("19.2.0"!==Ao)throw Error(u(527,Ao,"19.2.0"));nf.findDOMNode=function(b){var c=b._reactInternals;if(void 0===c){if("function"===typeof b.render)throw Error(u(188));b=Object.keys(b).join(",");throw Error(u(268,b));}b=ec(c);b=null!==b?Db(b):null;return b=null===b?null:b.stateNode};var Ko={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yn=
__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yn.isDisabled&&yn.supportsFiber)try{Ki=yn.inject(Ko),Qg=yn}catch(b){}}Ya.createRoot=function(b,c){if(!l(b))throw Error(u(299));var e=!1,k="",y=Ti,J=Ui,ya=xi;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(k=c.identifierPrefix),void 0!==c.onUncaughtError&&(y=c.onUncaughtError),void 0!==c.onCaughtError&&(J=c.onCaughtError),void 0!==c.onRecoverableError&&(ya=c.onRecoverableError));c=Bl(b,1,!1,null,null,e,k,null,y,J,ya,vn);b[Li]=
c.current;bg(b);return new kk(c)};Ya.hydrateRoot=function(b,c,e){if(!l(b))throw Error(u(299));var k=!1,y="",J=Ti,ya=Ui,gb=xi,dc=null;null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(k=!0),void 0!==e.identifierPrefix&&(y=e.identifierPrefix),void 0!==e.onUncaughtError&&(J=e.onUncaughtError),void 0!==e.onCaughtError&&(ya=e.onCaughtError),void 0!==e.onRecoverableError&&(gb=e.onRecoverableError),void 0!==e.formState&&(dc=e.formState));c=Bl(b,1,!0,c,null!=e?e:null,k,y,dc,J,ya,gb,vn);c.context=on(null);
e=c.current;k=dh();k=Z(k);y=re(k);y.callback=null;Wd(e,y,k);e=k;c.current.lanes=e;Rb(c,e);qf(c);b[Li]=c.current;bg(b);return new Fl(c)};Ya.version="19.2.0"};
shadow$provide[12]=function(Fb,nb,zc,Ya){function u(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(l){console.error(l)}}u();zc.exports=nb(10)};
shadow$provide[17]=function(Fb,nb,zc,Ya){zc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[21]=function(Fb,nb,zc,Ya){function u(){}function l(){}var ja=nb(17);l.resetWarningCache=u;zc.exports=function(){function Za(ec,Db,yb,wb,Qb,Yb){if(Yb!==ja)throw ec=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),ec.name="Invariant Violation",ec;}function ub(){return Za}Za.isRequired=Za;var Wb={array:Za,bigint:Za,bool:Za,func:Za,number:Za,object:Za,
string:Za,symbol:Za,any:Za,arrayOf:ub,element:Za,elementType:Za,instanceOf:ub,node:Za,objectOf:ub,oneOf:ub,oneOfType:ub,shape:ub,exact:ub,checkPropTypes:l,resetWarningCache:u};return Wb.PropTypes=Wb}};
shadow$provide[22]=function(Fb,nb,zc,Ya){zc.exports=nb(21)()};
shadow$provide[23]=function(Fb,nb,zc,Ya){Ya.__esModule=!0;Ya.default=function(l,ja){void 0===l&&(l=u);void 0===ja&&(ja=u);const Za=Object.keys(l),ub=Object.keys(ja);return l===ja||Za.length===ub.length&&Za.every(Wb=>l[Wb]===ja[Wb])};const u={}};
shadow$provide[24]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya):"function"===typeof define&&define.amd?define(["exports"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={}))})(this,function(u){function l(A,Q,D){A.fields=Q||[];A.fname=D;return A}function ja(A){return null==A?null:A.fields}function Za(A){return 1===A.length?Xa(A[0]):La(A)}function ub(A){throw Error(A);}function Wb(A){function Q(){D.push(Da+A.substring(S,ia));Da="";S=ia+
1}const D=[],E=A.length;let I=null,X=0,Da="",S,ia,Ca;A+="";for(S=ia=0;ia<E;++ia)(Ca=A[ia],"\\"===Ca)?(Da+=A.substring(S,ia++),S=ia):Ca===I?(Q(),I=null,X=-1):I||(S===X&&'"'===Ca?(S=ia+1,I=Ca):S===X&&"'"===Ca?(S=ia+1,I=Ca):"."!==Ca||X?"["===Ca?(ia>S&&Q(),X=S=ia+1):"]"===Ca&&(X||ub("Access path missing open bracket: "+A),0<X&&Q(),X=0,S=ia+1):ia>S?Q():S=ia+1);X&&ub("Access path missing closing bracket: "+A);I&&ub("Access path missing closing quote: "+A);ia>S&&(ia++,Q());return D}function ec(A,Q,D){const E=
Wb(A);A=1===E.length?E[0]:A;return l((D&&D.get||Za)(E),[A],Q||A)}function Db(A,Q,D){Q=[Q].concat([].slice.call(D));console[A].apply(console,Q)}function yb(A){return A===Object(A)}function wb(A,Q,D,E){if("__proto__"!==Q){var I;if(yb(D)&&!ea(D))for(I in A=yb(A[Q])?A[Q]:A[Q]={},D)E&&(!0===E||E[I])?wb(A,I,D[I]):"__proto__"!==I&&(A[I]=D[I]);else A[Q]=D}}function Qb(A,Q){function D(X){E[X.name]||(E[X.name]=1,I.push(X))}if(null==A)return Q;const E={},I=[];Q.forEach(D);A.forEach(D);return I}function Yb(A){return A[A.length-
1]}function Ba(A){return null==A||""===A?null:+A}function bb(A,Q,D,E){const I=D(A[0]);A=D(Yb(A));Q*=A-I;return[E(I-Q),E(A-Q)]}function Ab(A,Q,D,E,I){const X=E(A[0]);A=E(Yb(A));Q=null!=Q?E(Q):(X+A)/2;return[I(Q+(X-Q)*D),I(Q+(A-Q)*D)]}function xb(A){return null!=A?ea(A)?A:[A]:[]}function qb(A){return"function"===typeof A}function Cb(A){for(let Q,D,E=1,I=arguments.length;E<I;++E)for(D in Q=arguments[E],Q)A[D]=Q[D];return A}function lb(A,Q){return Object.hasOwn(A,Q)}function mc(A){return"[object Date]"===
Object.prototype.toString.call(A)}function ua(A){return"number"===typeof A}function ha(A){return"string"===typeof A}function xa(A,Q){let D="";for(;0<=--Q;)D+=A;return D}function Sa(A){return ea(A)?"["+A.map(Sa)+"]":yb(A)||ha(A)?JSON.stringify(A).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):A}const Xa=A=>function(Q){return Q[A]},La=A=>{const Q=A.length;return function(D){for(let E=0;E<Q;++E)D=D[A[E]];return D}},jb=ec("id"),fb=l(A=>A,[],"identity"),vb=l(()=>0,[],"zero"),Rb=l(()=>1,[],"one"),
Na=l(()=>!0,[],"true"),U=l(()=>!1,[],"false");var ea=Array.isArray;const Ja=A=>Q=>A*Math.exp(Q),Z=A=>Q=>Math.log(A*Q),Fa=A=>Q=>Math.sign(Q)*Math.log1p(Math.abs(Q/A)),ma=A=>Q=>Math.sign(Q)*Math.expm1(Math.abs(Q))*A,na=A=>Q=>0>Q?-Math.pow(-Q,A):Math.pow(Q,A),n=(A,Q)=>(A<Q||null==A)&&null!=Q?-1:(A>Q||null==Q)&&null!=A?1:(Q=Q instanceof Date?+Q:Q,A=A instanceof Date?+A:A)!==A&&Q===Q?-1:Q!==Q&&A===A?1:0,F=(A,Q)=>1===A.length?N(A[0],Q[0]):x(A,Q,A.length),N=(A,Q)=>function(D,E){return n(A(D),A(E))*Q},x=
(A,Q,D)=>{Q.push(0);return function(E,I){var X=0;let Da=-1;for(;0===X&&++Da<D;)X=A[Da],X=n(X(E),X(I));return X*Q[Da]}},T={},B=A=>ua(A)?A:mc(A)?A:Date.parse(A);u.Debug=4;u.Error=1;u.Info=3;u.None=0;u.Warn=2;u.accessor=l;u.accessorFields=ja;u.accessorName=function(A){return null==A?null:A.fname};u.array=xb;u.ascending=n;u.clampRange=function(A,Q,D){let E=A[0];A=A[1];let I;A<E&&(I=A,A=E,E=I);I=A-E;return I>=D-Q?[Q,D]:[E=Math.min(Math.max(E,Q),D-I),E+I]};u.compare=function(A,Q,D){D=D||{};Q=xb(Q)||[];
const E=[],I=[],X={},Da=D.comparator||F;xb(A).forEach((S,ia)=>{null!=S&&(E.push("descending"===Q[ia]?-1:1),I.push(S=qb(S)?S:ec(S,null,D)),(ja(S)||[]).forEach(Ca=>X[Ca]=1))});return 0===I.length?null:l(Da(I,E),Object.keys(X))};u.constant=function(A){return qb(A)?A:()=>A};u.debounce=function(A,Q){let D;return E=>{D&&clearTimeout(D);D=setTimeout(()=>(Q(E),D=null),A)}};u.error=ub;u.extend=Cb;u.extent=function(A,Q){let D=0,E,I,X,Da;if(A&&(E=A.length))if(null==Q){for(I=A[D];D<E&&(null==I||I!==I);I=A[++D]);
for(X=Da=I;D<E;++D)I=A[D],null!=I&&(I<X&&(X=I),I>Da&&(Da=I))}else{for(I=Q(A[D]);D<E&&(null==I||I!==I);I=Q(A[++D]));for(X=Da=I;D<E;++D)I=Q(A[D]),null!=I&&(I<X&&(X=I),I>Da&&(Da=I))}return[X,Da]};u.extentIndex=function(A,Q){const D=A.length;let E=-1,I,X,Da,S,ia;if(null==Q){for(;++E<D;)if(X=A[E],null!=X&&X>=X){I=Da=X;break}if(E===D)return[-1,-1];for(S=ia=E;++E<D;)X=A[E],null!=X&&(I>X&&(I=X,S=E),Da<X&&(Da=X,ia=E))}else{for(;++E<D;)if(X=Q(A[E],E,A),null!=X&&X>=X){I=Da=X;break}if(E===D)return[-1,-1];for(S=
ia=E;++E<D;)X=Q(A[E],E,A),null!=X&&(I>X&&(I=X,S=E),Da<X&&(Da=X,ia=E))}return[S,ia]};u.falsy=U;u.fastmap=function(A){function Q(X){return lb(D,X)&&D[X]!==T}let D={},E;const I={size:0,empty:0,object:D,has:Q,get(X){return Q(X)?D[X]:void 0},set(X,Da){Q(X)||(++I.size,D[X]===T&&--I.empty);D[X]=Da;return this},delete(X){Q(X)&&(--I.size,++I.empty,D[X]=T);return this},clear(){I.size=I.empty=0;I.object=D={}},test(X){return arguments.length?(E=X,I):E},clean(){const X={};let Da=0;for(const S in D){const ia=D[S];
ia===T||E&&E(ia)||(X[S]=ia,++Da)}I.size=Da;I.empty=0;I.object=D=X}};A&&Object.keys(A).forEach(X=>{I.set(X,A[X])});return I};u.field=ec;u.flush=function(A,Q,D,E,I,X){if(!D&&0!==D)return X;D=+D;let Da=A[0],S=Yb(A);S<Da&&(A=Da,Da=S,S=A);A=Math.abs(Q-Da);Q=Math.abs(S-Q);return A<Q&&A<=D?E:Q<=D?I:X};u.hasOwnProperty=lb;u.id=jb;u.identity=fb;u.inherits=function(A,Q,D){Q=A.prototype=Object.create(Q.prototype);Object.defineProperty(Q,"constructor",{value:A,writable:!0,enumerable:!0,configurable:!0});return Cb(Q,
D)};u.inrange=function(A,Q,D,E){let I=Q[0];Q=Q[Q.length-1];let X;I>Q&&(X=I,I=Q,Q=X);return(void 0===D||D?I<=A:I<A)&&(void 0===E||E?A<=Q:A<Q)};u.isArray=ea;u.isBoolean=function(A){return"boolean"===typeof A};u.isDate=mc;u.isFunction=qb;u.isIterable=function(A){return A&&qb(A[Symbol.iterator])};u.isNumber=ua;u.isObject=yb;u.isRegExp=function(A){return"[object RegExp]"===Object.prototype.toString.call(A)};u.isString=ha;u.key=function(A,Q,D){A&&(A=Q?xb(A).map(X=>X.replace(/\\(.)/g,"$1")):xb(A));const E=
A&&A.length,I=D&&D.get||Za;D=X=>I(Q?[X]:Wb(X));if(E)if(1===E){const X=D(A[0]);D=function(Da){return""+X(Da)}}else{const X=A.map(D);D=function(Da){let S=""+X[0](Da),ia=0;for(;++ia<E;)S+="|"+X[ia](Da);return S}}else D=function(){return""};return l(D,A,"key")};u.lerp=function(A,Q){const D=A[0];A=Yb(A);return(Q=+Q)?1===Q?A:D+Q*(A-D):D};u.logger=function(A,Q,D=Db){let E=A||0;return{level(I){return arguments.length?(E=+I,this):E},error(){1<=E&&D(Q||"error","ERROR",arguments);return this},warn(){2<=E&&D(Q||
"warn","WARN",arguments);return this},info(){3<=E&&D(Q||"log","INFO",arguments);return this},debug(){4<=E&&D(Q||"log","DEBUG",arguments);return this}}};u.lruCache=function(A){A=+A||1E4;let Q,D,E;const I=()=>{Q={};D={};E=0},X=(Da,S)=>{++E>A&&(D=Q,Q={},E=1);return Q[Da]=S};I();return{clear:I,has:Da=>lb(Q,Da)||lb(D,Da),get:Da=>lb(Q,Da)?Q[Da]:lb(D,Da)?X(Da,D[Da]):void 0,set:(Da,S)=>lb(Q,Da)?Q[Da]=S:X(Da,S)}};u.merge=function(A,Q,D,E){const I=Q.length,X=D.length;if(!X)return Q;if(!I)return D;E=E||new Q.constructor(I+
X);let Da=0,S=0,ia=0;for(;Da<I&&S<X;++ia)E[ia]=0<A(Q[Da],D[S])?D[S++]:Q[Da++];for(;Da<I;++Da,++ia)E[ia]=Q[Da];for(;S<X;++S,++ia)E[ia]=D[S];return E};u.mergeConfig=function(...A){return A.reduce((Q,D)=>{for(const E in D)"signals"===E?Q.signals=Qb(Q.signals,D.signals):wb(Q,E,D[E],"legend"===E?{layout:1}:"style"===E?!0:null);return Q},{})};u.one=Rb;u.pad=function(A,Q,D,E){D=D||" ";A+="";Q-=A.length;return 0>=Q?A:"left"===E?xa(D,Q)+A:"center"===E?xa(D,~~(Q/2))+A+xa(D,Math.ceil(Q/2)):A+xa(D,Q)};u.panLinear=
function(A,Q){return bb(A,Q,Ba,fb)};u.panLog=function(A,Q){var D=Math.sign(A[0]);return bb(A,Q,Z(D),Ja(D))};u.panPow=function(A,Q,D){return bb(A,Q,na(D),na(1/D))};u.panSymlog=function(A,Q,D){return bb(A,Q,Fa(D),ma(D))};u.peek=Yb;u.quarter=function(A){return 1+~~((new Date(A)).getMonth()/3)};u.repeat=xa;u.span=function(A){return A&&Yb(A)-A[0]||0};u.splitAccessPath=Wb;u.stringValue=Sa;u.toBoolean=function(A){return null==A||""===A?null:A&&"false"!==A&&"0"!==A?!!A:!1};u.toDate=function(A,Q){Q=Q||B;return null==
A||""===A?null:Q(A)};u.toNumber=Ba;u.toSet=function(A){const Q={},D=A.length;for(let E=0;E<D;++E)Q[A[E]]=!0;return Q};u.toString=function(A){return null==A||""===A?null:A+""};u.truncate=function(A,Q,D,E){E=null!=E?E:"";A+="";const I=A.length,X=Math.max(0,Q-E.length);return I<=Q?A:"left"===D?E+A.slice(I-X):"center"===D?A.slice(0,Math.ceil(X/2))+E+A.slice(I-~~(X/2)):A.slice(0,X)+E};u.truthy=Na;u.utcquarter=function(A){return 1+~~((new Date(A)).getUTCMonth()/3)};u.visitArray=function(A,Q,D){if(A)if(Q){const E=
A.length;for(let I=0;I<E;++I){const X=Q(A[I]);X&&D(X,I,A)}}else A.forEach(D)};u.writeConfig=wb;u.zero=vb;u.zoomLinear=function(A,Q,D){return Ab(A,Q,D,Ba,fb)};u.zoomLog=function(A,Q,D){const E=Math.sign(A[0]);return Ab(A,Q,D,Z(E),Ja(E))};u.zoomPow=function(A,Q,D,E){return Ab(A,Q,D,na(E),na(1/E))};u.zoomSymlog=function(A,Q,D,E){return Ab(A,Q,D,Fa(E),ma(E))}})};
shadow$provide[25]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya):"function"===typeof define&&define.amd?define(["exports"],l):(u=u||self,l(u.topojson=u.topojson||{}))})(this,function(u){function l(Ba){return Ba}function ja(Ba){if(null==Ba)return l;var bb,Ab,xb=Ba.scale[0],qb=Ba.scale[1],Cb=Ba.translate[0],lb=Ba.translate[1];return function(mc,ua){ua||(bb=Ab=0);ua=2;var ha=mc.length,xa=Array(ha);xa[0]=(bb+=mc[0])*xb+Cb;for(xa[1]=(Ab+=mc[1])*qb+lb;ua<ha;)xa[ua]=
mc[ua],++ua;return xa}}function Za(Ba){function bb(ha){ha=xb(ha);ha[0]<Cb&&(Cb=ha[0]);ha[0]>mc&&(mc=ha[0]);ha[1]<lb&&(lb=ha[1]);ha[1]>ua&&(ua=ha[1])}function Ab(ha){switch(ha.type){case "GeometryCollection":ha.geometries.forEach(Ab);break;case "Point":bb(ha.coordinates);break;case "MultiPoint":ha.coordinates.forEach(bb)}}var xb=ja(Ba.transform),qb,Cb=Infinity,lb=Cb,mc=-Cb,ua=-Cb;Ba.arcs.forEach(function(ha){for(var xa=-1,Sa=ha.length,Xa;++xa<Sa;)Xa=xb(ha[xa],xa),Xa[0]<Cb&&(Cb=Xa[0]),Xa[0]>mc&&(mc=
Xa[0]),Xa[1]<lb&&(lb=Xa[1]),Xa[1]>ua&&(ua=Xa[1])});for(qb in Ba.objects)Ab(Ba.objects[qb]);return[Cb,lb,mc,ua]}function ub(Ba,bb){var Ab=bb.id,xb=bb.bbox,qb=null==bb.properties?{}:bb.properties;Ba=Wb(Ba,bb);return null==Ab&&null==xb?{type:"Feature",properties:qb,geometry:Ba}:null==xb?{type:"Feature",id:Ab,properties:qb,geometry:Ba}:{type:"Feature",id:Ab,bbox:xb,properties:qb,geometry:Ba}}function Wb(Ba,bb){function Ab(ha){return mc(ha)}function xb(ha){for(var xa=[],Sa=0,Xa=ha.length;Sa<Xa;++Sa){var La=
ha[Sa],jb=xa;jb.length&&jb.pop();for(var fb=ua[0>La?~La:La],vb=0,Rb=fb.length;vb<Rb;++vb)jb.push(mc(fb[vb],vb));if(0>La)for(La=jb,jb=La.length,fb=jb-Rb;fb<--jb;)Rb=La[fb],La[fb++]=La[jb],La[jb]=Rb}2>xa.length&&xa.push(xa[0]);return xa}function qb(ha){for(ha=xb(ha);4>ha.length;)ha.push(ha[0]);return ha}function Cb(ha){return ha.map(qb)}function lb(ha){var xa=ha.type;switch(xa){case "GeometryCollection":return{type:xa,geometries:ha.geometries.map(lb)};case "Point":ha=mc(ha.coordinates);break;case "MultiPoint":ha=
ha.coordinates.map(Ab);break;case "LineString":ha=xb(ha.arcs);break;case "MultiLineString":ha=ha.arcs.map(xb);break;case "Polygon":ha=Cb(ha.arcs);break;case "MultiPolygon":ha=ha.arcs.map(Cb);break;default:return null}return{type:xa,coordinates:ha}}var mc=ja(Ba.transform),ua=Ba.arcs;return lb(bb)}function ec(Ba,bb){function Ab(ha){var xa=Ba.arcs[0>ha?~ha:ha],Sa=xa[0];if(Ba.transform){var Xa=[0,0];xa.forEach(function(La){Xa[0]+=La[0];Xa[1]+=La[1]})}else Xa=xa[xa.length-1];return 0>ha?[Xa,Sa]:[Sa,Xa]}
function xb(ha,xa){for(var Sa in ha){var Xa=ha[Sa];delete xa[Xa.start];delete Xa.start;delete Xa.end;Xa.forEach(function(La){qb[0>La?~La:La]=1});mc.push(Xa)}}var qb={},Cb={},lb={},mc=[],ua=-1;bb.forEach(function(ha,xa){var Sa=Ba.arcs[0>ha?~ha:ha];3>Sa.length&&!Sa[1][0]&&!Sa[1][1]&&(Sa=bb[++ua],bb[ua]=ha,bb[xa]=Sa)});bb.forEach(function(ha){var xa=Ab(ha),Sa=xa[0],Xa=xa[1];(xa=lb[Sa])?(delete lb[xa.end],xa.push(ha),xa.end=Xa,(ha=Cb[Xa])?(delete Cb[ha.start],Sa=ha===xa?xa:xa.concat(ha),Cb[Sa.start=xa.start]=
lb[Sa.end=ha.end]=Sa):Cb[xa.start]=lb[xa.end]=xa):(xa=Cb[Xa])?(delete Cb[xa.start],xa.unshift(ha),xa.start=Sa,(ha=lb[Sa])?(delete lb[ha.end],Sa=ha===xa?xa:ha.concat(xa),Cb[Sa.start=ha.start]=lb[Sa.end=xa.end]=Sa):Cb[xa.start]=lb[xa.end]=xa):(xa=[ha],Cb[xa.start=Sa]=lb[xa.end=Xa]=xa)});xb(lb,Cb);xb(Cb,lb);bb.forEach(function(ha){qb[0>ha?~ha:ha]||mc.push([ha])});return mc}function Db(Ba,bb,Ab){var xb;if(1<arguments.length)var qb=yb(Ba,bb,Ab);else{var Cb=0;for(qb=Array(xb=Ba.arcs.length);Cb<xb;++Cb)qb[Cb]=
Cb}return{type:"MultiLineString",arcs:ec(Ba,qb)}}function yb(Ba,bb,Ab){function xb(xa){var Sa=0>xa?~xa:xa;(ua[Sa]||(ua[Sa]=[])).push({i:xa,g:ha})}function qb(xa){xa.forEach(xb)}function Cb(xa){xa.forEach(qb)}function lb(xa){switch(ha=xa,xa.type){case "GeometryCollection":xa.geometries.forEach(lb);break;case "LineString":qb(xa.arcs);break;case "MultiLineString":case "Polygon":Cb(xa.arcs);break;case "MultiPolygon":xa.arcs.forEach(Cb)}}var mc=[],ua=[],ha;lb(bb);ua.forEach(null==Ab?function(xa){mc.push(xa[0].i)}:
function(xa){Ab(xa[0].g,xa[xa.length-1].g)&&mc.push(xa[0].i)});return mc}function wb(Ba,bb){function Ab(ua){switch(ua.type){case "GeometryCollection":ua.geometries.forEach(Ab);break;case "Polygon":xb(ua.arcs);break;case "MultiPolygon":ua.arcs.forEach(xb)}}function xb(ua){ua.forEach(function(ha){ha.forEach(function(xa){(Cb[xa=0>xa?~xa:xa]||(Cb[xa]=[])).push(ua)})});lb.push(ua)}function qb(ua){ua=Wb(Ba,{type:"Polygon",arcs:[ua]}).coordinates[0];for(var ha=-1,xa=ua.length,Sa,Xa=ua[xa-1],La=0;++ha<xa;)Sa=
Xa,Xa=ua[ha],La+=Sa[0]*Xa[1]-Sa[1]*Xa[0];return Math.abs(La)}var Cb={},lb=[],mc=[];bb.forEach(Ab);lb.forEach(function(ua){if(!ua._){var ha=[],xa=[ua];ua._=1;for(mc.push(ha);ua=xa.pop();)ha.push(ua),ua.forEach(function(Sa){Sa.forEach(function(Xa){Cb[0>Xa?~Xa:Xa].forEach(function(La){La._||(La._=1,xa.push(La))})})})}});lb.forEach(function(ua){delete ua._});return{type:"MultiPolygon",arcs:mc.map(function(ua){var ha=[];ua.forEach(function(La){La.forEach(function(jb){jb.forEach(function(fb){2>Cb[0>fb?
~fb:fb].length&&ha.push(fb)})})});ha=ec(Ba,ha);if(1<(ua=ha.length))for(var xa=1,Sa=qb(ha[0]),Xa;xa<ua;++xa)(Xa=qb(ha[xa]))>Sa&&(Sa=ha[0],ha[0]=ha[xa],ha[xa]=Sa,Sa=Xa);return ha}).filter(function(ua){return 0<ua.length})}}function Qb(Ba,bb){for(var Ab=0,xb=Ba.length;Ab<xb;){var qb=Ab+xb>>>1;Ba[qb]<bb?Ab=qb+1:xb=qb}return Ab}function Yb(Ba){if(null==Ba)return l;var bb,Ab,xb=Ba.scale[0],qb=Ba.scale[1],Cb=Ba.translate[0],lb=Ba.translate[1];return function(mc,ua){ua||(bb=Ab=0);ua=2;var ha=mc.length,xa=
Array(ha),Sa=Math.round((mc[0]-Cb)/xb),Xa=Math.round((mc[1]-lb)/qb);xa[0]=Sa-bb;bb=Sa;xa[1]=Xa-Ab;for(Ab=Xa;ua<ha;)xa[ua]=mc[ua],++ua;return xa}}u.bbox=Za;u.feature=function(Ba,bb){"string"===typeof bb&&(bb=Ba.objects[bb]);return"GeometryCollection"===bb.type?{type:"FeatureCollection",features:bb.geometries.map(function(Ab){return ub(Ba,Ab)})}:ub(Ba,bb)};u.merge=function(Ba){return Wb(Ba,wb.apply(this,arguments))};u.mergeArcs=wb;u.mesh=function(Ba){return Wb(Ba,Db.apply(this,arguments))};u.meshArcs=
Db;u.neighbors=function(Ba){function bb(jb,fb){jb.forEach(function(vb){0>vb&&(vb=~vb);var Rb=qb[vb];Rb?Rb.push(fb):qb[vb]=[fb]})}function Ab(jb,fb){jb.forEach(function(vb){bb(vb,fb)})}function xb(jb,fb){if("GeometryCollection"===jb.type)jb.geometries.forEach(function(vb){xb(vb,fb)});else if(jb.type in lb)lb[jb.type](jb.arcs,fb)}var qb={},Cb=Ba.map(function(){return[]}),lb={LineString:bb,MultiLineString:Ab,Polygon:Ab,MultiPolygon:function(jb,fb){jb.forEach(function(vb){Ab(vb,fb)})}};Ba.forEach(xb);
for(var mc in qb){Ba=qb[mc];for(var ua=Ba.length,ha=0;ha<ua;++ha)for(var xa=ha+1;xa<ua;++xa){var Sa=Ba[ha],Xa=Ba[xa],La;(La=Cb[Sa])[mc=Qb(La,Xa)]!==Xa&&La.splice(mc,0,Xa);(La=Cb[Xa])[mc=Qb(La,Sa)]!==Sa&&La.splice(mc,0,Sa)}}return Cb};u.quantize=function(Ba,bb){function Ab(Sa){return ha(Sa)}function xb(Sa){switch(Sa.type){case "GeometryCollection":var Xa={type:"GeometryCollection",geometries:Sa.geometries.map(xb)};break;case "Point":Xa={type:"Point",coordinates:ha(Sa.coordinates)};break;case "MultiPoint":Xa=
{type:"MultiPoint",coordinates:Sa.coordinates.map(Ab)};break;default:return Sa}null!=Sa.id&&(Xa.id=Sa.id);null!=Sa.bbox&&(Xa.bbox=Sa.bbox);null!=Sa.properties&&(Xa.properties=Sa.properties);return Xa}if(Ba.transform)throw Error("already quantized");if(bb&&bb.scale)var qb=Ba.bbox;else{if(!(2<=(ua=Math.floor(bb))))throw Error("n must be 2");qb=Ba.bbox||Za(Ba);bb=qb[0];var Cb=qb[1],lb=qb[2],mc=qb[3],ua;bb={scale:[lb-bb?(lb-bb)/(ua-1):1,mc-Cb?(mc-Cb)/(ua-1):1],translate:[bb,Cb]}}var ha=Yb(bb),xa;Cb=
Ba.objects;lb={};for(xa in Cb)lb[xa]=xb(Cb[xa]);return{type:"Topology",bbox:qb,transform:bb,objects:lb,arcs:Ba.arcs.map(function(Sa){var Xa=0,La=1,jb=Sa.length,fb,vb=Array(jb);for(vb[0]=ha(Sa[0],0);++Xa<jb;)if((fb=ha(Sa[Xa],Xa))[0]||fb[1])vb[La++]=fb;1===La&&(vb[La++]=[0,0]);vb.length=La;return vb})}};u.transform=ja;u.untransform=Yb;Object.defineProperty(u,"__esModule",{value:!0})})};
shadow$provide[26]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega))})(this,function(u,l){function ja(Y){const Ha=l.array(Y).slice(),Ub={};Ha.length||l.error("Missing time unit.");Ha.forEach(kc=>{l.hasOwnProperty(La,kc)?Ub[kc]=1:l.error(`Invalid time unit: ${kc}.`)});1<(Ub.week||Ub.day?1:0)+(Ub.quarter||Ub.month||
Ub.date?1:0)+(Ub.dayofyear?1:0)&&l.error(`Incompatible time units: ${Y}`);Ha.sort((kc,Zb)=>La[kc]-La[Zb]);return Ha}function Za(Y,Ha,Ub,kc){function Zb(Pb){return Y(Pb=0===arguments.length?new Date:new Date(+Pb)),Pb}Zb.floor=Pb=>(Y(Pb=new Date(+Pb)),Pb);Zb.ceil=Pb=>(Y(Pb=new Date(Pb-1)),Ha(Pb,1),Y(Pb),Pb);Zb.round=Pb=>{const Nb=Zb(Pb),tc=Zb.ceil(Pb);return Pb-Nb<tc-Pb?Nb:tc};Zb.offset=(Pb,Nb)=>(Ha(Pb=new Date(+Pb),null==Nb?1:Math.floor(Nb)),Pb);Zb.range=(Pb,Nb,tc)=>{const Mc=[];Pb=Zb.ceil(Pb);tc=
null==tc?1:Math.floor(tc);if(!(Pb<Nb&&0<tc))return Mc;let ra;do Mc.push(ra=new Date(+Pb)),Ha(Pb,tc),Y(Pb);while(ra<Pb&&Pb<Nb);return Mc};Zb.filter=Pb=>Za(Nb=>{if(Nb>=Nb)for(;Y(Nb),!Pb(Nb);)Nb.setTime(Nb-1)},(Nb,tc)=>{if(Nb>=Nb)if(0>tc)for(;0>=++tc;)for(;Ha(Nb,-1),!Pb(Nb););else for(;0<=--tc;)for(;Ha(Nb,1),!Pb(Nb););});Ub&&(Zb.count=(Pb,Nb)=>{fb.setTime(+Pb);vb.setTime(+Nb);Y(fb);Y(vb);return Math.floor(Ub(fb,vb))},Zb.every=Pb=>{Pb=Math.floor(Pb);return isFinite(Pb)&&0<Pb?1<Pb?Zb.filter(kc?Nb=>0===
kc(Nb)%Pb:Nb=>0===Zb.count(0,Nb)%Pb):Zb:null});return Zb}function ub(Y){return Za(Ha=>{Ha.setDate(Ha.getDate()-(Ha.getDay()+7-Y)%7);Ha.setHours(0,0,0,0)},(Ha,Ub)=>{Ha.setDate(Ha.getDate()+7*Ub)},(Ha,Ub)=>(Ub-Ha-6E4*(Ub.getTimezoneOffset()-Ha.getTimezoneOffset()))/Na)}function Wb(Y){return Za(Ha=>{Ha.setUTCDate(Ha.getUTCDate()-(Ha.getUTCDay()+7-Y)%7);Ha.setUTCHours(0,0,0,0)},(Ha,Ub)=>{Ha.setUTCDate(Ha.getUTCDate()+7*Ub)},(Ha,Ub)=>(Ub-Ha)/Na)}function ec(Y,Ha){return null==Y||null==Ha?NaN:Y<Ha?-1:Y>
Ha?1:Y>=Ha?0:NaN}function Db(Y,Ha){return null==Y||null==Ha?NaN:Ha<Y?-1:Ha>Y?1:Ha>=Y?0:NaN}function yb(Y){function Ha(Pb,Nb,tc=0,Mc=Pb.length){if(tc<Mc){if(0!==Ub(Nb,Nb))return Mc;do{const ra=tc+Mc>>>1;0>kc(Pb[ra],Nb)?tc=ra+1:Mc=ra}while(tc<Mc)}return tc}let Ub,kc,Zb;2!==Y.length?(Ub=ec,kc=(Pb,Nb)=>ec(Y(Pb),Nb),Zb=(Pb,Nb)=>Y(Pb)-Nb):(Ub=Y===ec||Y===Db?Y:wb,Zb=kc=Y);return{left:Ha,center:function(Pb,Nb,tc=0,Mc=Pb.length){Mc=Ha(Pb,Nb,tc,Mc-1);return Mc>tc&&Zb(Pb[Mc-1],Nb)>-Zb(Pb[Mc],Nb)?Mc-1:Mc},right:function(Pb,
Nb,tc=0,Mc=Pb.length){if(tc<Mc){if(0!==Ub(Nb,Nb))return Mc;do{const ra=tc+Mc>>>1;0>=kc(Pb[ra],Nb)?tc=ra+1:Mc=ra}while(tc<Mc)}return tc}}}function wb(){return 0}function Qb(Y,Ha,Ub){var kc=(Ha-Y)/Math.max(0,Ub),Zb=Math.floor(Math.log10(kc));kc/=Math.pow(10,Zb);kc=kc>=D?10:kc>=E?5:kc>=I?2:1;let Pb;0>Zb?(Pb=Math.pow(10,-Zb)/kc,Zb=Math.round(Y*Pb),kc=Math.round(Ha*Pb),Zb/Pb<Y&&++Zb,kc/Pb>Ha&&--kc,Pb=-Pb):(Pb=Math.pow(10,Zb)*kc,Zb=Math.round(Y/Pb),kc=Math.round(Ha/Pb),Zb*Pb<Y&&++Zb,kc*Pb>Ha&&--kc);return kc<
Zb&&.5<=Ub&&2>Ub?Qb(Y,Ha,2*Ub):[Zb,kc,Pb]}function Yb(Y,Ha,Ub){return Qb(+Y,+Ha,+Ub)[2]}function Ba(Y,Ha,Ub){Ha=+Ha;Y=+Y;Ub=+Ub;const kc=Ha<Y;Y=kc?Yb(Ha,Y,Ub):Yb(Y,Ha,Ub);return(kc?-1:1)*(0>Y?1/-Y:Y)}function bb(Y){X.setFullYear(Y);X.setMonth(0);X.setDate(1);X.setHours(0,0,0,0);return X}function Ab(Y){return ma.count(bb(Y.getFullYear())-1,Y)}function xb(Y){return F.count(bb(Y.getFullYear())-1,Y)}function qb(Y,Ha,Ub,kc,Zb,Pb,Nb){return 0<=Y&&100>Y?(Ha=new Date(-1,Ha,Ub,kc,Zb,Pb,Nb),Ha.setFullYear(Y),
Ha):new Date(Y,Ha,Ub,kc,Zb,Pb,Nb)}function Cb(Y){const Ha=Date.UTC(Y.getUTCFullYear(),0,1);return na.count(Ha-1,Y)}function lb(Y){const Ha=Date.UTC(Y.getUTCFullYear(),0,1);return Q.count(Ha-1,Y)}function mc(Y){X.setTime(Date.UTC(Y,0,1));return X.getUTCDay()}function ua(Y,Ha,Ub,kc,Zb,Pb,Nb){return 0<=Y&&100>Y?(Y=new Date(Date.UTC(-1,Ha,Ub,kc,Zb,Pb,Nb)),Y.setUTCFullYear(Ub.y),Y):new Date(Date.UTC(Y,Ha,Ub,kc,Zb,Pb,Nb))}function ha(Y,Ha,Ub,kc,Zb){const Pb=Ha||1,Nb=l.peek(Y);Ha=(Xb,jc,rc)=>{rc=rc||Xb;
return xa(Ub[rc],kc[rc],Xb===Nb&&Pb,jc)};const tc=new Date;Y=l.toSet(Y);const Mc=Y.year?Ha("year"):l.constant(2012),ra=Y.month?Ha("month"):Y.quarter?Ha("quarter"):l.zero,Hb=Y.week&&Y.day?Ha("day",1,"weekday"):Y.week?Ha("week",1):Y.day?Ha("day",1):Y.date?Ha("date",1):Y.dayofyear?Ha("dayofyear",1):l.one,Va=Y.hours?Ha("hours"):l.zero,Bb=Y.minutes?Ha("minutes"):l.zero,Ib=Y.seconds?Ha("seconds"):l.zero,Eb=Y.milliseconds?Ha("milliseconds"):l.zero;return function(Xb){tc.setTime(+Xb);Xb=Mc(tc);return Zb(Xb,
ra(tc),Hb(tc,Xb),Va(tc),Bb(tc),Ib(tc),Eb(tc))}}function xa(Y,Ha,Ub,kc){const Zb=1>=Ub?Y:kc?(Pb,Nb)=>kc+Ub*Math.floor((Y(Pb,Nb)-kc)/Ub):(Pb,Nb)=>Ub*Math.floor(Y(Pb,Nb)/Ub);return Ha?(Pb,Nb)=>Ha(Zb(Pb,Nb),Nb):Zb}function Sa(Y,Ha,Ub){return Ha+7*Y-(Ub+6)%7}const Xa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),La=Xa.reduce((Y,Ha,Ub)=>(Y[Ha]=1+Ub,Y),{}),jb={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},fb=new Date,vb=new Date,Rb=Za(()=>{},(Y,Ha)=>{Y.setTime(+Y+Ha)},(Y,Ha)=>Ha-Y);Rb.every=Y=>{Y=Math.floor(Y);return isFinite(Y)&&0<Y?1<Y?Za(Ha=>{Ha.setTime(Math.floor(Ha/Y)*Y)},(Ha,Ub)=>{Ha.setTime(+Ha+Ub*Y)},(Ha,Ub)=>(Ub-Ha)/Y):Rb:null};Rb.range;const Na=6048E5;var U=Za(Y=>{Y.setTime(Y-Y.getMilliseconds())},(Y,Ha)=>{Y.setTime(+Y+1E3*Ha)},(Y,Ha)=>(Ha-Y)/1E3,Y=>Y.getUTCSeconds());
U.range;var ea=Za(Y=>{Y.setTime(Y-Y.getMilliseconds()-1E3*Y.getSeconds())},(Y,Ha)=>{Y.setTime(+Y+6E4*Ha)},(Y,Ha)=>(Ha-Y)/6E4,Y=>Y.getMinutes());ea.range;var Ja=Za(Y=>{Y.setUTCSeconds(0,0)},(Y,Ha)=>{Y.setTime(+Y+6E4*Ha)},(Y,Ha)=>(Ha-Y)/6E4,Y=>Y.getUTCMinutes());Ja.range;var Z=Za(Y=>{Y.setTime(Y-Y.getMilliseconds()-1E3*Y.getSeconds()-6E4*Y.getMinutes())},(Y,Ha)=>{Y.setTime(+Y+36E5*Ha)},(Y,Ha)=>(Ha-Y)/36E5,Y=>Y.getHours());Z.range;var Fa=Za(Y=>{Y.setUTCMinutes(0,0,0)},(Y,Ha)=>{Y.setTime(+Y+36E5*Ha)},
(Y,Ha)=>(Ha-Y)/36E5,Y=>Y.getUTCHours());Fa.range;const ma=Za(Y=>Y.setHours(0,0,0,0),(Y,Ha)=>Y.setDate(Y.getDate()+Ha),(Y,Ha)=>(Ha-Y-6E4*(Ha.getTimezoneOffset()-Y.getTimezoneOffset()))/864E5,Y=>Y.getDate()-1);ma.range;const na=Za(Y=>{Y.setUTCHours(0,0,0,0)},(Y,Ha)=>{Y.setUTCDate(Y.getUTCDate()+Ha)},(Y,Ha)=>(Ha-Y)/864E5,Y=>Y.getUTCDate()-1);na.range;var n=Za(Y=>{Y.setUTCHours(0,0,0,0)},(Y,Ha)=>{Y.setUTCDate(Y.getUTCDate()+Ha)},(Y,Ha)=>(Ha-Y)/864E5,Y=>Math.floor(Y/864E5));n.range;const F=ub(0);n=ub(1);
var N=ub(2),x=ub(3),T=ub(4),B=ub(5),A=ub(6);F.range;n.range;N.range;x.range;T.range;B.range;A.range;const Q=Wb(0);n=Wb(1);N=Wb(2);x=Wb(3);T=Wb(4);B=Wb(5);A=Wb(6);Q.range;n.range;N.range;x.range;T.range;B.range;A.range;n=Za(Y=>{Y.setDate(1);Y.setHours(0,0,0,0)},(Y,Ha)=>{Y.setMonth(Y.getMonth()+Ha)},(Y,Ha)=>Ha.getMonth()-Y.getMonth()+12*(Ha.getFullYear()-Y.getFullYear()),Y=>Y.getMonth());n.range;N=Za(Y=>{Y.setUTCDate(1);Y.setUTCHours(0,0,0,0)},(Y,Ha)=>{Y.setUTCMonth(Y.getUTCMonth()+Ha)},(Y,Ha)=>Ha.getUTCMonth()-
Y.getUTCMonth()+12*(Ha.getUTCFullYear()-Y.getUTCFullYear()),Y=>Y.getUTCMonth());N.range;x=Za(Y=>{Y.setMonth(0,1);Y.setHours(0,0,0,0)},(Y,Ha)=>{Y.setFullYear(Y.getFullYear()+Ha)},(Y,Ha)=>Ha.getFullYear()-Y.getFullYear(),Y=>Y.getFullYear());x.every=Y=>isFinite(Y=Math.floor(Y))&&0<Y?Za(Ha=>{Ha.setFullYear(Math.floor(Ha.getFullYear()/Y)*Y);Ha.setMonth(0,1);Ha.setHours(0,0,0,0)},(Ha,Ub)=>{Ha.setFullYear(Ha.getFullYear()+Ub*Y)}):null;x.range;T=Za(Y=>{Y.setUTCMonth(0,1);Y.setUTCHours(0,0,0,0)},(Y,Ha)=>{Y.setUTCFullYear(Y.getUTCFullYear()+
Ha)},(Y,Ha)=>Ha.getUTCFullYear()-Y.getUTCFullYear(),Y=>Y.getUTCFullYear());T.every=Y=>isFinite(Y=Math.floor(Y))&&0<Y?Za(Ha=>{Ha.setUTCFullYear(Math.floor(Ha.getUTCFullYear()/Y)*Y);Ha.setUTCMonth(0,1);Ha.setUTCHours(0,0,0,0)},(Ha,Ub)=>{Ha.setUTCFullYear(Ha.getUTCFullYear()+Ub*Y)}):null;T.range;const D=Math.sqrt(50),E=Math.sqrt(10),I=Math.sqrt(2),X=new Date,Da={year:Y=>Y.getFullYear(),quarter:Y=>Math.floor(Y.getMonth()/3),month:Y=>Y.getMonth(),date:Y=>Y.getDate(),hours:Y=>Y.getHours(),minutes:Y=>Y.getMinutes(),
seconds:Y=>Y.getSeconds(),milliseconds:Y=>Y.getMilliseconds(),dayofyear:Y=>Ab(Y),week:Y=>xb(Y),weekday:(Y,Ha)=>Sa(xb(Y),Y.getDay(),bb(Ha).getDay()),day:(Y,Ha)=>Sa(1,Y.getDay(),bb(Ha).getDay())},S={quarter:Y=>3*Y,week:(Y,Ha)=>Sa(Y,0,bb(Ha).getDay())},ia={year:Y=>Y.getUTCFullYear(),quarter:Y=>Math.floor(Y.getUTCMonth()/3),month:Y=>Y.getUTCMonth(),date:Y=>Y.getUTCDate(),hours:Y=>Y.getUTCHours(),minutes:Y=>Y.getUTCMinutes(),seconds:Y=>Y.getUTCSeconds(),milliseconds:Y=>Y.getUTCMilliseconds(),dayofyear:Y=>
Cb(Y),week:Y=>lb(Y),day:(Y,Ha)=>Sa(1,Y.getUTCDay(),mc(Ha)),weekday:(Y,Ha)=>Sa(lb(Y),Y.getUTCDay(),mc(Ha))},Ca={quarter:Y=>3*Y,week:(Y,Ha)=>Sa(Y,0,mc(Ha))},Qa={year:x,quarter:n.every(3),month:n,week:F,date:ma,day:ma,dayofyear:ma,hours:Z,minutes:ea,seconds:U,milliseconds:Rb},Ra={year:T,quarter:N.every(3),month:N,week:Q,date:na,day:na,dayofyear:na,hours:Fa,minutes:Ja,seconds:U,milliseconds:Rb};U=6048E5;ea=2592E6;const db=31536E6,zb="year month date hours minutes seconds milliseconds".split(" ");Ja=zb.slice(0,
-1);Z=Ja.slice(0,-1);Fa=Z.slice(0,-1);n=Fa.slice(0,-1);N=["year","month"];const kb=["year"],Vb=[[Ja,1,1E3],[Ja,5,5E3],[Ja,15,15E3],[Ja,30,3E4],[Z,1,6E4],[Z,5,3E5],[Z,15,9E5],[Z,30,18E5],[Fa,1,36E5],[Fa,3,108E5],[Fa,6,216E5],[Fa,12,432E5],[n,1,864E5],[["year","week"],1,U],[N,1,ea],[N,3,3*ea],[kb,1,db]];u.DATE="date";u.DAY="day";u.DAYOFYEAR="dayofyear";u.HOURS="hours";u.MILLISECONDS="milliseconds";u.MINUTES="minutes";u.MONTH="month";u.QUARTER="quarter";u.SECONDS="seconds";u.TIME_UNITS=Xa;u.WEEK="week";
u.YEAR="year";u.dayofyear=function(Y){return Ab(new Date(Y))};u.timeBin=function(Y){var Ha=Y.extent;Y=Y.maxbins||40;var Ub=Math.abs(l.span(Ha))/Y;let kc=yb(Zb=>Zb[2]).right(Vb,Ub);kc===Vb.length?(Ub=kb,Ha=Ba(Ha[0]/db,Ha[1]/db,Y)):kc?(kc=Vb[Ub/Vb[kc-1][2]<Vb[kc][2]/Ub?kc-1:kc],Ub=kc[0],Ha=kc[1]):(Ub=zb,Ha=Math.max(Ba(Ha[0],Ha[1],Y),1));return{units:Ub,step:Ha}};u.timeFloor=function(Y,Ha){return ha(Y,Ha||1,Da,S,qb)};u.timeInterval=function(Y){return Qa[Y]};u.timeOffset=function(Y,Ha,Ub){return(Y=Qa[Y])?
Y.offset(Ha,Ub):void 0};u.timeSequence=function(Y,Ha,Ub,kc){return(Y=Qa[Y])?Y.range(Ha,Ub,kc):void 0};u.timeUnitSpecifier=function(Y,Ha){Ha=l.extend({},jb,Ha);Y=ja(Y);const Ub=Y.length;let kc="",Zb,Pb,Nb;for(Zb=0;Zb<Ub;)for(Pb=Y.length;Pb>Zb;--Pb)if(Nb=Y.slice(Zb,Pb).join("-"),null!=Ha[Nb]){kc+=Ha[Nb];Zb=Pb;break}return kc.trim()};u.timeUnits=ja;u.utcFloor=function(Y,Ha){return ha(Y,Ha||1,ia,Ca,ua)};u.utcInterval=function(Y){return Ra[Y]};u.utcOffset=function(Y,Ha,Ub){return(Y=Ra[Y])?Y.offset(Ha,
Ub):void 0};u.utcSequence=function(Y,Ha,Ub,kc){return(Y=Ra[Y])?Y.range(Ha,Ub,kc):void 0};u.utcdayofyear=function(Y){return Cb(new Date(Y))};u.utcweek=function(Y){return lb(new Date(Y))};u.week=function(Y){return xb(new Date(Y))}})};
shadow$provide[27]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(26),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega))})(this,function(u,l,ja){function Za(Ea){const cb={};return fc=>cb[fc]||(cb[fc]=Ea(fc))}function ub(Ea,cb,fc){var fd=(cb-Ea)/Math.max(0,fc),jd=Math.floor(Math.log10(fd));fd/=Math.pow(10,jd);fd=fd>=ld?10:fd>=ed?5:fd>=
ge?2:1;let cd;0>jd?(cd=Math.pow(10,-jd)/fd,jd=Math.round(Ea*cd),fd=Math.round(cb*cd),jd/cd<Ea&&++jd,fd/cd>cb&&--fd,cd=-cd):(cd=Math.pow(10,jd)*fd,jd=Math.round(Ea/cd),fd=Math.round(cb/cd),jd*cd<Ea&&++jd,fd*cd>cb&&--fd);return fd<jd&&.5<=fc&&2>fc?ub(Ea,cb,2*fc):[jd,fd,cd]}function Wb(Ea,cb,fc){return ub(+Ea,+cb,+fc)[2]}function ec(Ea,cb){if(0>(cb=(Ea=cb?Ea.toExponential(cb-1):Ea.toExponential()).indexOf("e")))return null;var fc=Ea.slice(0,cb);return[1<fc.length?fc[0]+fc.slice(2):fc,+Ea.slice(cb+1)]}
function Db(Ea){return Ea=ec(Math.abs(Ea)),Ea?Ea[1]:NaN}function yb(Ea,cb){return function(fc,fd){for(var jd=fc.length,cd=[],Dd=0,Xd=Ea[0],Jd=0;0<jd&&0<Xd;){Jd+Xd+1>fd&&(Xd=Math.max(1,fd-Jd));cd.push(fc.substring(jd-=Xd,jd+Xd));if((Jd+=Xd+1)>fd)break;Xd=Ea[Dd=(Dd+1)%Ea.length]}return cd.reverse().join(cb)}}function wb(Ea){return function(cb){return cb.replace(/[0-9]/g,function(fc){return Ea[+fc]})}}function Qb(Ea){if(!(cb=gd.exec(Ea)))throw Error("invalid format: "+Ea);var cb;return new Yb({fill:cb[1],
align:cb[2],sign:cb[3],symbol:cb[4],zero:cb[5],width:cb[6],comma:cb[7],precision:cb[8]&&cb[8].slice(1),trim:cb[9],type:cb[10]})}function Yb(Ea){this.fill=void 0===Ea.fill?" ":Ea.fill+"";this.align=void 0===Ea.align?"\x3e":Ea.align+"";this.sign=void 0===Ea.sign?"-":Ea.sign+"";this.symbol=void 0===Ea.symbol?"":Ea.symbol+"";this.zero=!!Ea.zero;this.width=void 0===Ea.width?void 0:+Ea.width;this.comma=!!Ea.comma;this.precision=void 0===Ea.precision?void 0:+Ea.precision;this.trim=!!Ea.trim;this.type=void 0===
Ea.type?"":Ea.type+""}function Ba(Ea,cb){cb=ec(Ea,cb);if(!cb)return Ea+"";Ea=cb[0];cb=cb[1];return 0>cb?"0."+Array(-cb).join("0")+Ea:Ea.length>cb+1?Ea.slice(0,cb+1)+"."+Ea.slice(cb+1):Ea+Array(cb-Ea.length+2).join("0")}function bb(Ea){return Ea}function Ab(Ea){function cb(nd){function qe(L){var ka=Wd,Ga=qa,Ta,Oa;if("c"===re)Ga=m(L)+Ga,L="";else{L=+L;var sb=0>L||0>1/L;L=isNaN(L)?Ye:m(Math.abs(L),ef);if(me){var pb=L.length,uc=1,sc=-1;a:for(;uc<pb;++uc)switch(L[uc]){case ".":sc=Ta=uc;break;case "0":0===
sc&&(sc=uc);Ta=uc;break;default:if(!+L[uc])break a;0<sc&&(sc=0)}L=0<sc?L.slice(0,sc)+L.slice(Ta+1):L}sb&&0===+L&&"+"!==ce&&(sb=!1);ka=(sb?"("===ce?ce:Jd:"-"===ce||"("===ce?"":ce)+ka;Ga=("s"===re?v[8+z/3]:"")+Ga+(sb&&"("===ce?")":"");if(r)for(sb=-1,Ta=L.length;++sb<Ta;)if(Oa=L.charCodeAt(sb),48>Oa||57<Oa){Ga=(46===Oa?cd+L.slice(sb+1):L.slice(sb))+Ga;L=L.slice(0,sb);break}}Ze&&!rf&&(L=fc(L,Infinity));Oa=ka.length+L.length+Ga.length;sb=Oa<ze?Array(ze-Oa+1).join(Ne):"";Ze&&rf&&(L=fc(sb+L,sb.length?ze-
Ga.length:Infinity),sb="");switch(hf){case "\x3c":L=ka+L+Ga+sb;break;case "\x3d":L=ka+sb+L+Ga;break;case "^":L=sb.slice(0,Oa=sb.length>>1)+ka+L+Ga+sb.slice(Oa);break;default:L=sb+ka+L+Ga}return Dd(L)}nd=Qb(nd);var Ne=nd.fill,hf=nd.align,ce=nd.sign,jf=nd.symbol,rf=nd.zero,ze=nd.width,Ze=nd.comma,ef=nd.precision,me=nd.trim,re=nd.type;"n"===re?(Ze=!0,re="g"):K[re]||(void 0===ef&&(ef=12),me=!0,re="g");if(rf||"0"===Ne&&"\x3d"===hf)rf=!0,Ne="0",hf="\x3d";var Wd="$"===jf?fd:"#"===jf&&/[boxX]/.test(re)?"0"+
re.toLowerCase():"",qa="$"===jf?jd:/[%p]/.test(re)?Xd:"",m=K[re],r=/[defgprs%]/.test(re);ef=void 0===ef?6:/[gprs]/.test(re)?Math.max(1,Math.min(21,ef)):Math.max(0,Math.min(20,ef));qe.toString=function(){return nd+""};return qe}var fc=void 0===Ea.grouping||void 0===Ea.thousands?bb:yb(va.call(Ea.grouping,Number),Ea.thousands+""),fd=void 0===Ea.currency?"":Ea.currency[0]+"",jd=void 0===Ea.currency?"":Ea.currency[1]+"",cd=void 0===Ea.decimal?".":Ea.decimal+"",Dd=void 0===Ea.numerals?bb:wb(va.call(Ea.numerals,
String)),Xd=void 0===Ea.percent?"%":Ea.percent+"",Jd=void 0===Ea.minus?"":Ea.minus+"",Ye=void 0===Ea.nan?"NaN":Ea.nan+"";return{format:cb,formatPrefix:function(nd,qe){var Ne=cb((nd=Qb(nd),nd.type="f",nd));nd=3*Math.max(-8,Math.min(8,Math.floor(Db(qe)/3)));var hf=Math.pow(10,-nd),ce=v[8+nd/3];return function(jf){return Ne(hf*jf)+ce}}}}function xb(Ea,cb){return fc=>{fc=Ea(fc);const fd=fc.indexOf(cb);if(0>fd)return fc;a:{var jd=fc.lastIndexOf("e");if(!(0<jd)){for(jd=fc.length;--jd>fd;){var cd=fc.charCodeAt(jd);
if(48<=cd&&57>=cd){jd+=1;break a}}jd=void 0}}for(cd=jd<fc.length?fc.slice(jd):"";--jd>fd;)if("0"!==fc[jd]){++jd;break}return fc.slice(0,jd)+cd}}function qb(Ea){const cb=Za(Ea.format),fc=Ea.formatPrefix;return{format:cb,formatPrefix:fc,formatFloat(fd){fd=Qb(fd||",");if(null==fd.precision){fd.precision=12;switch(fd.type){case "%":fd.precision-=2;break;case "e":--fd.precision}return xb(cb(fd),cb(".1f")(1)[1])}return cb(fd)},formatSpan(fd,jd,cd,Dd){Dd=Qb(null==Dd?",f":Dd);var Xd=+jd;var Jd=+fd;var Ye=
+cd;Jd=(cd=Xd<Jd)?Wb(Xd,Jd,Ye):Wb(Jd,Xd,Ye);Jd=(cd?-1:1)*(0>Jd?1/-Jd:Jd);fd=Math.max(Math.abs(fd),Math.abs(jd));if(null==Dd.precision)switch(Dd.type){case "s":return jd=isNaN,Jd=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Db(fd)/3)))-Db(Math.abs(Jd))),jd(jd=Jd)||(Dd.precision=jd),fc(Dd,fd);case "":case "e":case "g":case "p":case "r":jd=isNaN;Jd=Math.abs(Jd);fd=Math.abs(fd)-Jd;fd=Math.max(0,Db(fd)-Db(Jd))+1;jd(jd=fd)||(Dd.precision=jd-("e"===Dd.type));break;case "f":case "%":isNaN(jd=Math.max(0,
-Db(Math.abs(Jd))))||(Dd.precision=jd-2*("%"===Dd.type))}return cb(Dd)}}}function Cb(){return pa=qb({format:ca,formatPrefix:wa})}function lb(Ea){return qb(Ab(Ea))}function mc(Ea){return arguments.length?pa=lb(Ea):pa}function ua(Ea,cb,fc,fd){function jd(cd){return Ea(cd=0===arguments.length?new Date:new Date(+cd)),cd}jd.floor=cd=>(Ea(cd=new Date(+cd)),cd);jd.ceil=cd=>(Ea(cd=new Date(cd-1)),cb(cd,1),Ea(cd),cd);jd.round=cd=>{const Dd=jd(cd),Xd=jd.ceil(cd);return cd-Dd<Xd-cd?Dd:Xd};jd.offset=(cd,Dd)=>
(cb(cd=new Date(+cd),null==Dd?1:Math.floor(Dd)),cd);jd.range=(cd,Dd,Xd)=>{const Jd=[];cd=jd.ceil(cd);Xd=null==Xd?1:Math.floor(Xd);if(!(cd<Dd&&0<Xd))return Jd;let Ye;do Jd.push(Ye=new Date(+cd)),cb(cd,Xd),Ea(cd);while(Ye<cd&&cd<Dd);return Jd};jd.filter=cd=>ua(Dd=>{if(Dd>=Dd)for(;Ea(Dd),!cd(Dd);)Dd.setTime(Dd-1)},(Dd,Xd)=>{if(Dd>=Dd)if(0>Xd)for(;0>=++Xd;)for(;cb(Dd,-1),!cd(Dd););else for(;0<=--Xd;)for(;cb(Dd,1),!cd(Dd););});fc&&(jd.count=(cd,Dd)=>{eb.setTime(+cd);Lb.setTime(+Dd);Ea(eb);Ea(Lb);return Math.floor(fc(eb,
Lb))},jd.every=cd=>{cd=Math.floor(cd);return isFinite(cd)&&0<cd?1<cd?jd.filter(fd?Dd=>0===fd(Dd)%cd:Dd=>0===jd.count(0,Dd)%cd):jd:null});return jd}function ha(Ea){return ua(cb=>{cb.setDate(cb.getDate()-(cb.getDay()+7-Ea)%7);cb.setHours(0,0,0,0)},(cb,fc)=>{cb.setDate(cb.getDate()+7*fc)},(cb,fc)=>(fc-cb-6E4*(fc.getTimezoneOffset()-cb.getTimezoneOffset()))/6048E5)}function xa(Ea){return ua(cb=>{cb.setUTCDate(cb.getUTCDate()-(cb.getUTCDay()+7-Ea)%7);cb.setUTCHours(0,0,0,0)},(cb,fc)=>{cb.setUTCDate(cb.getUTCDate()+
7*fc)},(cb,fc)=>(fc-cb)/6048E5)}function Sa(Ea){if(0<=Ea.y&&100>Ea.y){var cb=new Date(-1,Ea.m,Ea.d,Ea.H,Ea.M,Ea.S,Ea.L);cb.setFullYear(Ea.y);return cb}return new Date(Ea.y,Ea.m,Ea.d,Ea.H,Ea.M,Ea.S,Ea.L)}function Xa(Ea){if(0<=Ea.y&&100>Ea.y){var cb=new Date(Date.UTC(-1,Ea.m,Ea.d,Ea.H,Ea.M,Ea.S,Ea.L));cb.setUTCFullYear(Ea.y);return cb}return new Date(Date.UTC(Ea.y,Ea.m,Ea.d,Ea.H,Ea.M,Ea.S,Ea.L))}function La(Ea,cb,fc){return{y:Ea,m:cb,d:fc,H:0,M:0,S:0,L:0}}function jb(Ea){function cb(r,L){return function(ka){var Ga=
[],Ta=-1,Oa=0,sb=r.length,pb,uc;for(ka instanceof Date||(ka=new Date(+ka));++Ta<sb;)if(37===r.charCodeAt(Ta)){Ga.push(r.slice(Oa,Ta));null!=(Oa=xe[pb=r.charAt(++Ta)])?pb=r.charAt(++Ta):Oa="e"===pb?" ":"0";if(uc=L[pb])pb=uc(ka,Oa);Ga.push(pb);Oa=Ta+1}Ga.push(r.slice(Oa,Ta));return Ga.join("")}}function fc(r,L){return function(ka){var Ga=La(1900,void 0,1);if(fd(Ga,r,ka+="",0)!=ka.length)return null;if("Q"in Ga)return new Date(Ga.Q);if("s"in Ga)return new Date(1E3*Ga.s+("L"in Ga?Ga.L:0));!L||"Z"in Ga||
(Ga.Z=0);"p"in Ga&&(Ga.H=Ga.H%12+12*Ga.p);void 0===Ga.m&&(Ga.m="q"in Ga?Ga.q:0);if("V"in Ga){if(1>Ga.V||53<Ga.V)return null;"w"in Ga||(Ga.w=1);if("Z"in Ga){ka=Xa(La(Ga.y,0,1));var Ta=ka.getUTCDay();ka=4<Ta||0===Ta?Me.ceil(ka):Me(ka);ka=hc.offset(ka,7*(Ga.V-1));Ga.y=ka.getUTCFullYear();Ga.m=ka.getUTCMonth();Ga.d=ka.getUTCDate()+(Ga.w+6)%7}else ka=Sa(La(Ga.y,0,1)),Ta=ka.getDay(),ka=4<Ta||0===Ta?Nc.ceil(ka):Nc(ka),ka=$b.offset(ka,7*(Ga.V-1)),Ga.y=ka.getFullYear(),Ga.m=ka.getMonth(),Ga.d=ka.getDate()+
(Ga.w+6)%7}else if("W"in Ga||"U"in Ga)"w"in Ga||(Ga.w="u"in Ga?Ga.u%7:"W"in Ga?1:0),Ta="Z"in Ga?Xa(La(Ga.y,0,1)).getUTCDay():Sa(La(Ga.y,0,1)).getDay(),Ga.m=0,Ga.d="W"in Ga?(Ga.w+6)%7+7*Ga.W-(Ta+5)%7:Ga.w+7*Ga.U-(Ta+6)%7;return"Z"in Ga?(Ga.H+=Ga.Z/100|0,Ga.M+=Ga.Z%100,Xa(Ga)):Sa(Ga)}}function fd(r,L,ka,Ga){for(var Ta=0,Oa=L.length,sb=ka.length,pb;Ta<Oa;){if(Ga>=sb)return-1;pb=L.charCodeAt(Ta++);if(37===pb){if(pb=L.charAt(Ta++),pb=m[pb in xe?L.charAt(Ta++):pb],!pb||0>(Ga=pb(r,ka,Ga)))return-1}else if(pb!=
ka.charCodeAt(Ga++))return-1}return Ga}var jd=Ea.dateTime,cd=Ea.date,Dd=Ea.time,Xd=Ea.periods,Jd=Ea.days,Ye=Ea.shortDays,nd=Ea.months,qe=Ea.shortMonths,Ne=Rb(Xd),hf=Na(Xd),ce=Rb(Jd),jf=Na(Jd),rf=Rb(Ye),ze=Na(Ye),Ze=Rb(nd),ef=Na(nd),me=Rb(qe),re=Na(qe),Wd={a:function(r){return Ye[r.getDay()]},A:function(r){return Jd[r.getDay()]},b:function(r){return qe[r.getMonth()]},B:function(r){return nd[r.getMonth()]},c:null,d:S,e:S,f:db,g:tc,G:ra,H:ia,I:Ca,j:Qa,L:Ra,m:zb,M:kb,p:function(r){return Xd[+(12<=r.getHours())]},
q:function(r){return 1+~~(r.getMonth()/3)},Q:Ob,s:vc,S:Vb,u:Y,U:Ha,V:kc,w:Zb,W:Pb,x:null,X:null,y:Nb,Y:Mc,Z:Hb,"%":Gb},qa={a:function(r){return Ye[r.getUTCDay()]},A:function(r){return Jd[r.getUTCDay()]},b:function(r){return qe[r.getUTCMonth()]},B:function(r){return nd[r.getUTCMonth()]},c:null,d:Va,e:Va,f:jc,g:Ia,G:ob,H:Bb,I:Ib,j:Eb,L:Xb,m:rc,M:ad,p:function(r){return Xd[+(12<=r.getUTCHours())]},q:function(r){return 1+~~(r.getUTCMonth()/3)},Q:Ob,s:vc,S:Lc,u:oa,U:Ma,V,w,W:da,x:null,X:null,y:Aa,Y:Wa,
Z:Sb,"%":Gb},m={a:function(r,L,ka){return(L=rf.exec(L.slice(ka)))?(r.w=ze.get(L[0].toLowerCase()),ka+L[0].length):-1},A:function(r,L,ka){return(L=ce.exec(L.slice(ka)))?(r.w=jf.get(L[0].toLowerCase()),ka+L[0].length):-1},b:function(r,L,ka){return(L=me.exec(L.slice(ka)))?(r.m=re.get(L[0].toLowerCase()),ka+L[0].length):-1},B:function(r,L,ka){return(L=Ze.exec(L.slice(ka)))?(r.m=ef.get(L[0].toLowerCase()),ka+L[0].length):-1},c:function(r,L,ka){return fd(r,jd,L,ka)},d:x,e:x,f:E,g:na,G:ma,H:B,I:B,j:T,L:D,
m:N,M:A,p:function(r,L,ka){return(L=Ne.exec(L.slice(ka)))?(r.p=hf.get(L[0].toLowerCase()),ka+L[0].length):-1},q:F,Q:X,s:Da,S:Q,u:ea,U:Ja,V:Z,w:U,W:Fa,x:function(r,L,ka){return fd(r,cd,L,ka)},X:function(r,L,ka){return fd(r,Dd,L,ka)},y:na,Y:ma,Z:n,"%":I};Wd.x=cb(cd,Wd);Wd.X=cb(Dd,Wd);Wd.c=cb(jd,Wd);qa.x=cb(cd,qa);qa.X=cb(Dd,qa);qa.c=cb(jd,qa);return{format:function(r){var L=cb(r+="",Wd);L.toString=function(){return r};return L},parse:function(r){var L=fc(r+="",!1);L.toString=function(){return r};return L},
utcFormat:function(r){var L=cb(r+="",qa);L.toString=function(){return r};return L},utcParse:function(r){var L=fc(r+="",!0);L.toString=function(){return r};return L}}}function fb(Ea,cb,fc){var fd=0>Ea?"-":"";Ea=(fd?-Ea:Ea)+"";var jd=Ea.length;return fd+(jd<fc?Array(fc-jd+1).join(cb)+Ea:Ea)}function vb(Ea){return Ea.replace(Xe,"\\$\x26")}function Rb(Ea){return new RegExp("^(?:"+Ea.map(vb).join("|")+")","i")}function Na(Ea){return new Map(Ea.map((cb,fc)=>[cb.toLowerCase(),fc]))}function U(Ea,cb,fc){return(cb=
zd.exec(cb.slice(fc,fc+1)))?(Ea.w=+cb[0],fc+cb[0].length):-1}function ea(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+1)))?(Ea.u=+cb[0],fc+cb[0].length):-1}function Ja(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+2)))?(Ea.U=+cb[0],fc+cb[0].length):-1}function Z(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+2)))?(Ea.V=+cb[0],fc+cb[0].length):-1}function Fa(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+2)))?(Ea.W=+cb[0],fc+cb[0].length):-1}function ma(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+4)))?(Ea.y=+cb[0],
fc+cb[0].length):-1}function na(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+2)))?(Ea.y=+cb[0]+(68<+cb[0]?1900:2E3),fc+cb[0].length):-1}function n(Ea,cb,fc){return(cb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(cb.slice(fc,fc+6)))?(Ea.Z=cb[1]?0:-(cb[2]+(cb[3]||"00")),fc+cb[0].length):-1}function F(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+1)))?(Ea.q=3*cb[0]-3,fc+cb[0].length):-1}function N(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+2)))?(Ea.m=cb[0]-1,fc+cb[0].length):-1}function x(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,
fc+2)))?(Ea.d=+cb[0],fc+cb[0].length):-1}function T(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+3)))?(Ea.m=0,Ea.d=+cb[0],fc+cb[0].length):-1}function B(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+2)))?(Ea.H=+cb[0],fc+cb[0].length):-1}function A(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+2)))?(Ea.M=+cb[0],fc+cb[0].length):-1}function Q(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+2)))?(Ea.S=+cb[0],fc+cb[0].length):-1}function D(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+3)))?(Ea.L=+cb[0],fc+cb[0].length):
-1}function E(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc,fc+6)))?(Ea.L=Math.floor(cb[0]/1E3),fc+cb[0].length):-1}function I(Ea,cb,fc){return(Ea=Jf.exec(cb.slice(fc,fc+1)))?fc+Ea[0].length:-1}function X(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc)))?(Ea.Q=+cb[0],fc+cb[0].length):-1}function Da(Ea,cb,fc){return(cb=zd.exec(cb.slice(fc)))?(Ea.s=+cb[0],fc+cb[0].length):-1}function S(Ea,cb){return fb(Ea.getDate(),cb,2)}function ia(Ea,cb){return fb(Ea.getHours(),cb,2)}function Ca(Ea,cb){return fb(Ea.getHours()%
12||12,cb,2)}function Qa(Ea,cb){return fb(1+$b.count(ke(Ea),Ea),cb,3)}function Ra(Ea,cb){return fb(Ea.getMilliseconds(),cb,3)}function db(Ea,cb){return Ra(Ea,cb)+"000"}function zb(Ea,cb){return fb(Ea.getMonth()+1,cb,2)}function kb(Ea,cb){return fb(Ea.getMinutes(),cb,2)}function Vb(Ea,cb){return fb(Ea.getSeconds(),cb,2)}function Y(Ea){Ea=Ea.getDay();return 0===Ea?7:Ea}function Ha(Ea,cb){return fb(Pc.count(ke(Ea)-1,Ea),cb,2)}function Ub(Ea){var cb=Ea.getDay();return 4<=cb||0===cb?yd(Ea):yd.ceil(Ea)}
function kc(Ea,cb){Ea=Ub(Ea);return fb(yd.count(ke(Ea),Ea)+(4===ke(Ea).getDay()),cb,2)}function Zb(Ea){return Ea.getDay()}function Pb(Ea,cb){return fb(Nc.count(ke(Ea)-1,Ea),cb,2)}function Nb(Ea,cb){return fb(Ea.getFullYear()%100,cb,2)}function tc(Ea,cb){Ea=Ub(Ea);return fb(Ea.getFullYear()%100,cb,2)}function Mc(Ea,cb){return fb(Ea.getFullYear()%1E4,cb,4)}function ra(Ea,cb){var fc=Ea.getDay();Ea=4<=fc||0===fc?yd(Ea):yd.ceil(Ea);return fb(Ea.getFullYear()%1E4,cb,4)}function Hb(Ea){Ea=Ea.getTimezoneOffset();
return(0<Ea?"-":(Ea*=-1,"+"))+fb(Ea/60|0,"0",2)+fb(Ea%60,"0",2)}function Va(Ea,cb){return fb(Ea.getUTCDate(),cb,2)}function Bb(Ea,cb){return fb(Ea.getUTCHours(),cb,2)}function Ib(Ea,cb){return fb(Ea.getUTCHours()%12||12,cb,2)}function Eb(Ea,cb){return fb(1+hc.count(oe(Ea),Ea),cb,3)}function Xb(Ea,cb){return fb(Ea.getUTCMilliseconds(),cb,3)}function jc(Ea,cb){return Xb(Ea,cb)+"000"}function rc(Ea,cb){return fb(Ea.getUTCMonth()+1,cb,2)}function ad(Ea,cb){return fb(Ea.getUTCMinutes(),cb,2)}function Lc(Ea,
cb){return fb(Ea.getUTCSeconds(),cb,2)}function oa(Ea){Ea=Ea.getUTCDay();return 0===Ea?7:Ea}function Ma(Ea,cb){return fb(je.count(oe(Ea)-1,Ea),cb,2)}function ib(Ea){var cb=Ea.getUTCDay();return 4<=cb||0===cb?He(Ea):He.ceil(Ea)}function V(Ea,cb){Ea=ib(Ea);return fb(He.count(oe(Ea),Ea)+(4===oe(Ea).getUTCDay()),cb,2)}function w(Ea){return Ea.getUTCDay()}function da(Ea,cb){return fb(Me.count(oe(Ea)-1,Ea),cb,2)}function Aa(Ea,cb){return fb(Ea.getUTCFullYear()%100,cb,2)}function Ia(Ea,cb){Ea=ib(Ea);return fb(Ea.getUTCFullYear()%
100,cb,2)}function Wa(Ea,cb){return fb(Ea.getUTCFullYear()%1E4,cb,4)}function ob(Ea,cb){var fc=Ea.getUTCDay();Ea=4<=fc||0===fc?He(Ea):He.ceil(Ea);return fb(Ea.getUTCFullYear()%1E4,cb,4)}function Sb(){return"+0000"}function Gb(){return"%"}function Ob(Ea){return+Ea}function vc(Ea){return Math.floor(+Ea/1E3)}function Bc(Ea,cb,fc){fc=fc||{};ja.isObject(fc)||ja.error(`Invalid time multi-format specifier: ${fc}`);const fd=cb(l.SECONDS),jd=cb(l.MINUTES),cd=cb(l.HOURS),Dd=cb(l.DATE),Xd=cb(l.WEEK),Jd=cb(l.MONTH),
Ye=cb(l.QUARTER),nd=cb(l.YEAR),qe=Ea(fc[l.MILLISECONDS]||".%L"),Ne=Ea(fc[l.SECONDS]||":%S"),hf=Ea(fc[l.MINUTES]||"%I:%M"),ce=Ea(fc[l.HOURS]||"%I %p"),jf=Ea(fc[l.DATE]||fc[l.DAY]||"%a %d"),rf=Ea(fc[l.WEEK]||"%b %d"),ze=Ea(fc[l.MONTH]||"%B"),Ze=Ea(fc[l.QUARTER]||"%B"),ef=Ea(fc[l.YEAR]||"%Y");return me=>(fd(me)<me?qe:jd(me)<me?Ne:cd(me)<me?hf:Dd(me)<me?ce:Jd(me)<me?Xd(me)<me?jf:rf:nd(me)<me?Ye(me)<me?ze:Ze:ef)(me)}function Ic(Ea){const cb=Za(Ea.format),fc=Za(Ea.utcFormat);return{timeFormat:fd=>ja.isString(fd)?
cb(fd):Bc(cb,l.timeInterval,fd),utcFormat:fd=>ja.isString(fd)?fc(fd):Bc(fc,l.utcInterval,fd),timeParse:Za(Ea.parse),utcParse:Za(Ea.utcParse)}}function id(){return ye=Ic({format:df,parse:Fe,utcFormat:Nd,utcParse:Kf})}function dd(Ea){return Ic(jb(Ea))}function Uc(Ea){return arguments.length?ye=dd(Ea):ye}function kd(Ea,cb){var fc=arguments.length;fc&&2!==fc&&ja.error("defaultLocale expects either zero or two arguments.");if(fc){fc=mc(Ea);var fd=Uc(cb);fc=ja.extend({},fc,fd)}else fc=mc(),fd=Uc(),fc=ja.extend({},
fc,fd);return fc}const ld=Math.sqrt(50),ed=Math.sqrt(10),ge=Math.sqrt(2);var gd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Qb.prototype=Yb.prototype;Yb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var z,K={"%":(Ea,cb)=>(100*Ea).toFixed(cb),b:Ea=>Math.round(Ea).toString(2),
c:Ea=>Ea+"",d:function(Ea){return 1E21<=Math.abs(Ea=Math.round(Ea))?Ea.toLocaleString("en").replace(/,/g,""):Ea.toString(10)},e:(Ea,cb)=>Ea.toExponential(cb),f:(Ea,cb)=>Ea.toFixed(cb),g:(Ea,cb)=>Ea.toPrecision(cb),o:Ea=>Math.round(Ea).toString(8),p:(Ea,cb)=>Ba(100*Ea,cb),r:Ba,s:function(Ea,cb){var fc=ec(Ea,cb);if(!fc)return Ea+"";var fd=fc[0];fc=fc[1];fc=fc-(z=3*Math.max(-8,Math.min(8,Math.floor(fc/3))))+1;var jd=fd.length;return fc===jd?fd:fc>jd?fd+Array(fc-jd+1).join("0"):0<fc?fd.slice(0,fc)+"."+
fd.slice(fc):"0."+Array(1-fc).join("0")+ec(Ea,Math.max(0,cb+fc-1))[0]},X:Ea=>Math.round(Ea).toString(16).toUpperCase(),x:Ea=>Math.round(Ea).toString(16)},va=Array.prototype.map,v="y z a f p n  m  k M G T P E Z Y".split(" "),R,ca,wa;(function(Ea){R=Ab(Ea);ca=R.format;wa=R.formatPrefix;return R})({thousands:",",grouping:[3],currency:["$",""]});let pa;Cb();const eb=new Date,Lb=new Date,$b=ua(Ea=>Ea.setHours(0,0,0,0),(Ea,cb)=>Ea.setDate(Ea.getDate()+cb),(Ea,cb)=>(cb-Ea-6E4*(cb.getTimezoneOffset()-Ea.getTimezoneOffset()))/
864E5,Ea=>Ea.getDate()-1);$b.range;const hc=ua(Ea=>{Ea.setUTCHours(0,0,0,0)},(Ea,cb)=>{Ea.setUTCDate(Ea.getUTCDate()+cb)},(Ea,cb)=>(cb-Ea)/864E5,Ea=>Ea.getUTCDate()-1);hc.range;const Ec=ua(Ea=>{Ea.setUTCHours(0,0,0,0)},(Ea,cb)=>{Ea.setUTCDate(Ea.getUTCDate()+cb)},(Ea,cb)=>(cb-Ea)/864E5,Ea=>Math.floor(Ea/864E5));Ec.range;const Pc=ha(0),Nc=ha(1),md=ha(2),td=ha(3),yd=ha(4),Md=ha(5),Ad=ha(6);Pc.range;Nc.range;md.range;td.range;yd.range;Md.range;Ad.range;const je=xa(0),Me=xa(1),Qe=xa(2),Re=xa(3),He=xa(4),
De=xa(5),Ie=xa(6);je.range;Me.range;Qe.range;Re.range;He.range;De.range;Ie.range;const ke=ua(Ea=>{Ea.setMonth(0,1);Ea.setHours(0,0,0,0)},(Ea,cb)=>{Ea.setFullYear(Ea.getFullYear()+cb)},(Ea,cb)=>cb.getFullYear()-Ea.getFullYear(),Ea=>Ea.getFullYear());ke.every=Ea=>isFinite(Ea=Math.floor(Ea))&&0<Ea?ua(cb=>{cb.setFullYear(Math.floor(cb.getFullYear()/Ea)*Ea);cb.setMonth(0,1);cb.setHours(0,0,0,0)},(cb,fc)=>{cb.setFullYear(cb.getFullYear()+fc*Ea)}):null;ke.range;const oe=ua(Ea=>{Ea.setUTCMonth(0,1);Ea.setUTCHours(0,
0,0,0)},(Ea,cb)=>{Ea.setUTCFullYear(Ea.getUTCFullYear()+cb)},(Ea,cb)=>cb.getUTCFullYear()-Ea.getUTCFullYear(),Ea=>Ea.getUTCFullYear());oe.every=Ea=>isFinite(Ea=Math.floor(Ea))&&0<Ea?ua(cb=>{cb.setUTCFullYear(Math.floor(cb.getUTCFullYear()/Ea)*Ea);cb.setUTCMonth(0,1);cb.setUTCHours(0,0,0,0)},(cb,fc)=>{cb.setUTCFullYear(cb.getUTCFullYear()+fc*Ea)}):null;oe.range;var xe={"-":"",_:" ",0:"0"},zd=/^\s*\d+/,Jf=/^%/,Xe=/[\\^$*+?|[\]().{}]/g,$e,df,Fe,Nd,Kf;(function(Ea){$e=jb(Ea);df=$e.format;Fe=$e.parse;
Nd=$e.utcFormat;Kf=$e.utcParse;return $e})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let ye;id();u.defaultLocale=kd;u.locale=function(Ea,cb){Ea=Ea?lb(Ea):mc();
cb=cb?dd(cb):Uc();return ja.extend({},Ea,cb)};u.numberFormatDefaultLocale=mc;u.numberFormatLocale=lb;u.resetDefaultLocale=function(){Cb();id();return kd()};u.resetNumberFormatDefaultLocale=Cb;u.resetTimeFormatDefaultLocale=id;u.timeFormatDefaultLocale=Uc;u.timeFormatLocale=dd})};
shadow$provide[28]=function(Fb,nb,zc,Ya){function u(ub){var Wb=ub.length;if(0<Wb%4)throw Error("Invalid string. Length must be a multiple of 4");ub=ub.indexOf("\x3d");-1===ub&&(ub=Wb);return[ub,ub===Wb?0:4-ub%4]}Ya.byteLength=function(ub){ub=u(ub);var Wb=ub[1];return 3*(ub[0]+Wb)/4-Wb};Ya.toByteArray=function(ub){var Wb=u(ub);var ec=Wb[0];Wb=Wb[1];var Db=new Za(3*(ec+Wb)/4-Wb),yb=0,wb=0<Wb?ec-4:ec,Qb;for(Qb=0;Qb<wb;Qb+=4)ec=ja[ub.charCodeAt(Qb)]<<18|ja[ub.charCodeAt(Qb+1)]<<12|ja[ub.charCodeAt(Qb+
2)]<<6|ja[ub.charCodeAt(Qb+3)],Db[yb++]=ec>>16&255,Db[yb++]=ec>>8&255,Db[yb++]=ec&255;2===Wb&&(ec=ja[ub.charCodeAt(Qb)]<<2|ja[ub.charCodeAt(Qb+1)]>>4,Db[yb++]=ec&255);1===Wb&&(ec=ja[ub.charCodeAt(Qb)]<<10|ja[ub.charCodeAt(Qb+1)]<<4|ja[ub.charCodeAt(Qb+2)]>>2,Db[yb++]=ec>>8&255,Db[yb++]=ec&255);return Db};Ya.fromByteArray=function(ub){for(var Wb=ub.length,ec=Wb%3,Db=[],yb=0,wb=Wb-ec;yb<wb;yb+=16383){for(var Qb=Db,Yb=Qb.push,Ba,bb=ub,Ab=yb+16383>wb?wb:yb+16383,xb=[],qb=yb;qb<Ab;qb+=3)Ba=(bb[qb]<<16&
16711680)+(bb[qb+1]<<8&65280)+(bb[qb+2]&255),xb.push(l[Ba>>18&63]+l[Ba>>12&63]+l[Ba>>6&63]+l[Ba&63]);Ba=xb.join("");Yb.call(Qb,Ba)}1===ec?(ub=ub[Wb-1],Db.push(l[ub>>2]+l[ub<<4&63]+"\x3d\x3d")):2===ec&&(ub=(ub[Wb-2]<<8)+ub[Wb-1],Db.push(l[ub>>10]+l[ub>>4&63]+l[ub<<2&63]+"\x3d"));return Db.join("")};var l=[],ja=[],Za="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Fb=0;64>Fb;++Fb)l[Fb]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Fb],ja["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Fb)]=
Fb;ja[45]=62;ja[95]=63};
shadow$provide[29]=function(Fb,nb,zc,Ya){Ya.read=function(u,l,ja,Za,ub){var Wb=8*ub-Za-1;var ec=(1<<Wb)-1,Db=ec>>1,yb=-7;ub=ja?ub-1:0;var wb=ja?-1:1,Qb=u[l+ub];ub+=wb;ja=Qb&(1<<-yb)-1;Qb>>=-yb;for(yb+=Wb;0<yb;ja=256*ja+u[l+ub],ub+=wb,yb-=8);Wb=ja&(1<<-yb)-1;ja>>=-yb;for(yb+=Za;0<yb;Wb=256*Wb+u[l+ub],ub+=wb,yb-=8);if(0===ja)ja=1-Db;else{if(ja===ec)return Wb?NaN:Infinity*(Qb?-1:1);Wb+=Math.pow(2,Za);ja-=Db}return(Qb?-1:1)*Wb*Math.pow(2,ja-Za)};Ya.write=function(u,l,ja,Za,ub,Wb){var ec,Db=8*Wb-ub-1,
yb=(1<<Db)-1,wb=yb>>1,Qb=23===ub?Math.pow(2,-24)-Math.pow(2,-77):0;Wb=Za?0:Wb-1;var Yb=Za?1:-1,Ba=0>l||0===l&&0>1/l?1:0;l=Math.abs(l);isNaN(l)||Infinity===l?(l=isNaN(l)?1:0,Za=yb):(Za=Math.floor(Math.log(l)/Math.LN2),1>l*(ec=Math.pow(2,-Za))&&(Za--,ec*=2),l=1<=Za+wb?l+Qb/ec:l+Qb*Math.pow(2,1-wb),2<=l*ec&&(Za++,ec/=2),Za+wb>=yb?(l=0,Za=yb):1<=Za+wb?(l=(l*ec-1)*Math.pow(2,ub),Za+=wb):(l=l*Math.pow(2,wb-1)*Math.pow(2,ub),Za=0));for(;8<=ub;u[ja+Wb]=l&255,Wb+=Yb,l/=256,ub-=8);Za=Za<<ub|l;for(Db+=ub;0<
Db;u[ja+Wb]=Za&255,Wb+=Yb,Za/=256,Db-=8);u[ja+Wb-Yb]|=128*Ba}};
shadow$provide[30]=function(Fb,nb,zc,Ya){function u(n){if(2147483647<n)throw new RangeError('The value "'+n+'" is invalid for option "size"');n=new Uint8Array(n);Object.setPrototypeOf(n,l.prototype);return n}function l(n,F,N){if("number"===typeof n){if("string"===typeof F)throw new TypeError('The "string" argument must be of type string. Received type number');return ub(n)}return ja(n,F,N)}function ja(n,F,N){if("string"===typeof n){var x=F;if("string"!==typeof x||""===x)x="utf8";if(!l.isEncoding(x))throw new TypeError("Unknown encoding: "+
x);F=wb(n,x)|0;N=u(F);n=N.write(n,x);n!==F&&(N=N.slice(0,n));return N}if(ArrayBuffer.isView(n))return Na(n,Uint8Array)?(n=new Uint8Array(n),n=ec(n.buffer,n.byteOffset,n.byteLength)):n=Wb(n),n;if(null==n)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Na(n,ArrayBuffer)||n&&Na(n.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(Na(n,SharedArrayBuffer)||n&&Na(n.buffer,SharedArrayBuffer)))return ec(n,
F,N);if("number"===typeof n)throw new TypeError('The "value" argument must not be of type number. Received type number');x=n.valueOf&&n.valueOf();if(null!=x&&x!==n)return l.from(x,F,N);if(x=Db(n))return x;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof n[Symbol.toPrimitive])return l.from(n[Symbol.toPrimitive]("string"),F,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);}
function Za(n){if("number"!==typeof n)throw new TypeError('"size" argument must be of type number');if(0>n)throw new RangeError('The value "'+n+'" is invalid for option "size"');}function ub(n){Za(n);return u(0>n?0:yb(n)|0)}function Wb(n){const F=0>n.length?0:yb(n.length)|0,N=u(F);for(let x=0;x<F;x+=1)N[x]=n[x]&255;return N}function ec(n,F,N){if(0>F||n.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<F+(N||0))throw new RangeError('"length" is outside of buffer bounds');
n=void 0===F&&void 0===N?new Uint8Array(n):void 0===N?new Uint8Array(n,F):new Uint8Array(n,F,N);Object.setPrototypeOf(n,l.prototype);return n}function Db(n){if(l.isBuffer(n)){var F=yb(n.length)|0;const N=u(F);if(0===N.length)return N;n.copy(N,0,0,F);return N}if(void 0!==n.length)return(F="number"!==typeof n.length)||(F=n.length,F=F!==F),F?u(0):Wb(n);if("Buffer"===n.type&&Array.isArray(n.data))return Wb(n.data)}function yb(n){if(2147483647<=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return n|0}function wb(n,F){if(l.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Na(n,ArrayBuffer))return n.byteLength;if("string"!==typeof n)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);const N=n.length,x=2<arguments.length&&!0===arguments[2];if(!x&&0===N)return 0;let T=!1;for(;;)switch(F){case "ascii":case "latin1":case "binary":return N;case "utf8":case "utf-8":return fb(n).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*N;case "hex":return N>>>1;case "base64":return vb(n).length;default:if(T)return x?-1:fb(n).length;F=(""+F).toLowerCase();T=!0}}function Qb(n,F,N){let x=!1;if(void 0===F||0>F)F=0;if(F>this.length)return"";if(void 0===N||N>this.length)N=this.length;if(0>=N)return"";N>>>=0;F>>>=0;if(N<=F)return"";for(n||(n="utf8");;)switch(n){case "hex":n=F;F=this.length;if(!n||0>n)n=0;if(!N||0>N||N>F)N=F;for(F="";n<N;++n)F+=na[this[n]];return F;case "utf8":case "utf-8":return Ab(this,
F,N);case "ascii":n=F;F="";for(N=Math.min(this.length,N);n<N;++n)F+=String.fromCharCode(this[n]&127);return F;case "latin1":case "binary":n=F;F="";for(N=Math.min(this.length,N);n<N;++n)F+=String.fromCharCode(this[n]);return F;case "base64":return n=F,N=0===n&&N===this.length?Ja.fromByteArray(this):Ja.fromByteArray(this.slice(n,N)),N;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":N=this.slice(F,N);n="";for(F=0;F<N.length-1;F+=2)n+=String.fromCharCode(N[F]+256*N[F+1]);return n;default:if(x)throw new TypeError("Unknown encoding: "+
n);n=(n+"").toLowerCase();x=!0}}function Yb(n,F,N){const x=n[F];n[F]=n[N];n[N]=x}function Ba(n,F,N,x,T){if(0===n.length)return-1;"string"===typeof N?(x=N,N=0):2147483647<N?N=2147483647:-2147483648>N&&(N=-2147483648);N=+N;N!==N&&(N=T?0:n.length-1);0>N&&(N=n.length+N);if(N>=n.length){if(T)return-1;N=n.length-1}else if(0>N)if(T)N=0;else return-1;"string"===typeof F&&(F=l.from(F,x));if(l.isBuffer(F))return 0===F.length?-1:bb(n,F,N,x,T);if("number"===typeof F)return F&=255,"function"===typeof Uint8Array.prototype.indexOf?
T?Uint8Array.prototype.indexOf.call(n,F,N):Uint8Array.prototype.lastIndexOf.call(n,F,N):bb(n,[F],N,x,T);throw new TypeError("val must be string, number or Buffer");}function bb(n,F,N,x,T){function B(E,I){return 1===A?E[I]:E.readUInt16BE(I*A)}let A=1;var Q=n.length;let D=F.length;if(void 0!==x&&(x=String(x).toLowerCase(),"ucs2"===x||"ucs-2"===x||"utf16le"===x||"utf-16le"===x)){if(2>n.length||2>F.length)return-1;A=2;Q/=2;D/=2;N/=2}if(T)for(x=-1;N<Q;N++)if(B(n,N)===B(F,-1===x?0:N-x)){if(-1===x&&(x=N),
N-x+1===D)return x*A}else-1!==x&&(N-=N-x),x=-1;else for(N+D>Q&&(N=Q-D);0<=N;N--){Q=!0;for(x=0;x<D;x++)if(B(n,N+x)!==B(F,x)){Q=!1;break}if(Q)return N}return-1}function Ab(n,F,N){N=Math.min(n.length,N);for(var x=[];F<N;){var T=n[F];let B=null,A=239<T?4:223<T?3:191<T?2:1;if(F+A<=N){let Q,D,E;switch(A){case 1:128>T&&(B=T);break;case 2:Q=n[F+1];128===(Q&192)&&(T=(T&31)<<6|Q&63,127<T&&(B=T));break;case 3:Q=n[F+1];D=n[F+2];128===(Q&192)&&128===(D&192)&&(T=(T&15)<<12|(Q&63)<<6|D&63,2047<T&&(55296>T||57343<
T)&&(B=T));break;case 4:Q=n[F+1],D=n[F+2],E=n[F+3],128===(Q&192)&&128===(D&192)&&128===(E&192)&&(T=(T&15)<<18|(Q&63)<<12|(D&63)<<6|E&63,65535<T&&1114112>T&&(B=T))}}null===B?(B=65533,A=1):65535<B&&(B-=65536,x.push(B>>>10&1023|55296),B=56320|B&1023);x.push(B);F+=A}F=x.length;if(4096>=F)x=String.fromCharCode.apply(String,x);else{n="";for(N=0;N<F;)n+=String.fromCharCode.apply(String,x.slice(N,N+=4096));x=n}return x}function xb(n,F,N){if(0!==n%1||0>n)throw new RangeError("offset is not uint");if(n+F>N)throw new RangeError("Trying to access beyond buffer length");
}function qb(n,F,N,x,T,B){if(!l.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>T||F<B)throw new RangeError('"value" argument is out of bounds');if(N+x>n.length)throw new RangeError("Index out of range");}function Cb(n,F,N,x,T){Xa(F,x,T,n,N,7);x=Number(F&BigInt(4294967295));n[N++]=x;x>>=8;n[N++]=x;x>>=8;n[N++]=x;n[N++]=x>>8;F=Number(F>>BigInt(32)&BigInt(4294967295));n[N++]=F;F>>=8;n[N++]=F;F>>=8;n[N++]=F;n[N++]=F>>8;return N}function lb(n,F,N,x,T){Xa(F,x,T,n,N,
7);x=Number(F&BigInt(4294967295));n[N+7]=x;x>>=8;n[N+6]=x;x>>=8;n[N+5]=x;n[N+4]=x>>8;F=Number(F>>BigInt(32)&BigInt(4294967295));n[N+3]=F;F>>=8;n[N+2]=F;F>>=8;n[N+1]=F;n[N]=F>>8;return N+8}function mc(n,F,N,x,T,B){if(N+x>n.length)throw new RangeError("Index out of range");if(0>N)throw new RangeError("Index out of range");}function ua(n,F,N,x,T){F=+F;N>>>=0;T||mc(n,F,N,4,3.4028234663852886E38,-3.4028234663852886E38);Z.write(n,F,N,x,23,4);return N+4}function ha(n,F,N,x,T){F=+F;N>>>=0;T||mc(n,F,N,8,1.7976931348623157E308,
-1.7976931348623157E308);Z.write(n,F,N,x,52,8);return N+8}function xa(n,F,N){Fa[n]=class extends N{constructor(){super();Object.defineProperty(this,"message",{value:F.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${n}]`;this.stack;delete this.name}get code(){return n}set code(x){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:x,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}function Sa(n){let F="",N=n.length;const x="-"===
n[0]?1:0;for(;N>=x+4;N-=3)F=`_${n.slice(N-3,N)}${F}`;return`${n.slice(0,N)}${F}`}function Xa(n,F,N,x,T,B){if(n>N||n<F)throw x="bigint"===typeof F?"n":"",new Fa.ERR_OUT_OF_RANGE("value",3<B?0===F||F===BigInt(0)?`>= 0${x} and < 2${x} ** ${8*(B+1)}${x}`:`>= -(2${x} ** ${8*(B+1)-1}${x}) and < 2 ** `+`${8*(B+1)-1}${x}`:`>= ${F}${x} and <= ${N}${x}`,n);La(T,"offset");void 0!==x[T]&&void 0!==x[T+B]||jb(T,x.length-(B+1))}function La(n,F){if("number"!==typeof n)throw new Fa.ERR_INVALID_ARG_TYPE(F,"number",
n);}function jb(n,F,N){if(Math.floor(n)!==n)throw La(n,N),new Fa.ERR_OUT_OF_RANGE(N||"offset","an integer",n);if(0>F)throw new Fa.ERR_BUFFER_OUT_OF_BOUNDS;throw new Fa.ERR_OUT_OF_RANGE(N||"offset",`>= ${N?1:0} and <= ${F}`,n);}function fb(n,F){F=F||Infinity;let N;const x=n.length;let T=null;const B=[];for(let A=0;A<x;++A){N=n.charCodeAt(A);if(55295<N&&57344>N){if(!T){if(56319<N){-1<(F-=3)&&B.push(239,191,189);continue}else if(A+1===x){-1<(F-=3)&&B.push(239,191,189);continue}T=N;continue}if(56320>
N){-1<(F-=3)&&B.push(239,191,189);T=N;continue}N=(T-55296<<10|N-56320)+65536}else T&&-1<(F-=3)&&B.push(239,191,189);T=null;if(128>N){if(0>--F)break;B.push(N)}else if(2048>N){if(0>(F-=2))break;B.push(N>>6|192,N&63|128)}else if(65536>N){if(0>(F-=3))break;B.push(N>>12|224,N>>6&63|128,N&63|128)}else if(1114112>N){if(0>(F-=4))break;B.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw Error("Invalid code point");}return B}function vb(n){var F=Ja,N=F.toByteArray;n=n.split("\x3d")[0];n=n.trim().replace(ma,
"");if(2>n.length)n="";else for(;0!==n.length%4;)n+="\x3d";return N.call(F,n)}function Rb(n,F,N,x){let T;for(T=0;T<x&&!(T+N>=F.length||T>=n.length);++T)F[T+N]=n[T];return T}function Na(n,F){return n instanceof F||null!=n&&null!=n.constructor&&null!=n.constructor.name&&n.constructor.name===F.name}function U(n){return"undefined"===typeof BigInt?ea:n}function ea(){throw Error("BigInt not supported");}const Ja=nb(28),Z=nb(29);Fb="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;Ya.Buffer=l;Ya.SlowBuffer=function(n){+n!=n&&(n=0);return l.alloc(+n)};Ya.INSPECT_MAX_BYTES=50;Ya.kMaxLength=2147483647;l.TYPED_ARRAY_SUPPORT=function(){try{const n=new Uint8Array(1),F={foo:function(){return 42}};Object.setPrototypeOf(F,Uint8Array.prototype);Object.setPrototypeOf(n,F);return 42===n.foo()}catch(n){return!1}}();l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}});Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});l.poolSize=8192;l.from=function(n,F,N){return ja(n,F,N)};Object.setPrototypeOf(l.prototype,Uint8Array.prototype);Object.setPrototypeOf(l,Uint8Array);l.alloc=function(n,F,N){Za(n);n=0>=n?u(n):void 0!==F?"string"===typeof N?u(n).fill(F,N):u(n).fill(F):u(n);return n};l.allocUnsafe=
function(n){return ub(n)};l.allocUnsafeSlow=function(n){return ub(n)};l.isBuffer=function(n){return null!=n&&!0===n._isBuffer&&n!==l.prototype};l.compare=function(n,F){Na(n,Uint8Array)&&(n=l.from(n,n.offset,n.byteLength));Na(F,Uint8Array)&&(F=l.from(F,F.offset,F.byteLength));if(!l.isBuffer(n)||!l.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===F)return 0;let N=n.length,x=F.length;for(let T=0,B=Math.min(N,x);T<B;++T)if(n[T]!==F[T]){N=
n[T];x=F[T];break}return N<x?-1:x<N?1:0};l.isEncoding=function(n){switch(String(n).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};l.concat=function(n,F){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return l.alloc(0);let N;if(void 0===F)for(N=F=0;N<n.length;++N)F+=n[N].length;F=l.allocUnsafe(F);let x=
0;for(N=0;N<n.length;++N){let T=n[N];if(Na(T,Uint8Array))x+T.length>F.length?(l.isBuffer(T)||(T=l.from(T)),T.copy(F,x)):Uint8Array.prototype.set.call(F,T,x);else if(l.isBuffer(T))T.copy(F,x);else throw new TypeError('"list" argument must be an Array of Buffers');x+=T.length}return F};l.byteLength=wb;l.prototype._isBuffer=!0;l.prototype.swap16=function(){const n=this.length;if(0!==n%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<n;F+=2)Yb(this,F,F+1);return this};
l.prototype.swap32=function(){const n=this.length;if(0!==n%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<n;F+=4)Yb(this,F,F+3),Yb(this,F+1,F+2);return this};l.prototype.swap64=function(){const n=this.length;if(0!==n%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<n;F+=8)Yb(this,F,F+7),Yb(this,F+1,F+6),Yb(this,F+2,F+5),Yb(this,F+3,F+4);return this};l.prototype.toString=function(){const n=this.length;return 0===n?"":0===arguments.length?
Ab(this,0,n):Qb.apply(this,arguments)};l.prototype.toLocaleString=l.prototype.toString;l.prototype.equals=function(n){if(!l.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:0===l.compare(this,n)};l.prototype.inspect=function(){let n;const F=Ya.INSPECT_MAX_BYTES;n=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim();this.length>F&&(n+=" ... ");return"\x3cBuffer "+n+"\x3e"};Fb&&(l.prototype[Fb]=l.prototype.inspect);l.prototype.compare=function(n,F,N,x,T){Na(n,Uint8Array)&&
(n=l.from(n,n.offset,n.byteLength));if(!l.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);void 0===F&&(F=0);void 0===N&&(N=n?n.length:0);void 0===x&&(x=0);void 0===T&&(T=this.length);if(0>F||N>n.length||0>x||T>this.length)throw new RangeError("out of range index");if(x>=T&&F>=N)return 0;if(x>=T)return-1;if(F>=N)return 1;F>>>=0;N>>>=0;x>>>=0;T>>>=0;if(this===n)return 0;let B=T-x,A=N-F;const Q=Math.min(B,A);x=this.slice(x,T);
n=n.slice(F,N);for(F=0;F<Q;++F)if(x[F]!==n[F]){B=x[F];A=n[F];break}return B<A?-1:A<B?1:0};l.prototype.includes=function(n,F,N){return-1!==this.indexOf(n,F,N)};l.prototype.indexOf=function(n,F,N){return Ba(this,n,F,N,!0)};l.prototype.lastIndexOf=function(n,F,N){return Ba(this,n,F,N,!1)};l.prototype.write=function(n,F,N,x){if(void 0===F)x="utf8",N=this.length,F=0;else if(void 0===N&&"string"===typeof F)x=F,N=this.length,F=0;else if(isFinite(F))F>>>=0,isFinite(N)?(N>>>=0,void 0===x&&(x="utf8")):(x=N,
N=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var T=this.length-F;if(void 0===N||N>T)N=T;if(0<n.length&&(0>N||0>F)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");for(T=!1;;)switch(x){case "hex":a:{F=Number(F)||0;x=this.length-F;N?(N=Number(N),N>x&&(N=x)):N=x;x=n.length;N>x/2&&(N=x/2);for(x=0;x<N;++x){T=parseInt(n.substr(2*x,2),16);if(T!==T){n=x;break a}this[F+x]=T}n=x}return n;case "utf8":case "utf-8":return Rb(fb(n,
this.length-F),this,F,N);case "ascii":case "latin1":case "binary":x=[];for(T=0;T<n.length;++T)x.push(n.charCodeAt(T)&255);return Rb(x,this,F,N);case "base64":return Rb(vb(n),this,F,N);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var B=void 0;x=this.length-F;const A=[];for(let Q=0;Q<n.length&&!(0>(x-=2));++Q)B=n.charCodeAt(Q),T=B>>8,B%=256,A.push(B),A.push(T);return Rb(A,this,F,N);default:if(T)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase();T=!0}};l.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};l.prototype.slice=function(n,F){const N=this.length;n=~~n;F=void 0===F?N:~~F;0>n?(n+=N,0>n&&(n=0)):n>N&&(n=N);0>F?(F+=N,0>F&&(F=0)):F>N&&(F=N);F<n&&(F=n);n=this.subarray(n,F);Object.setPrototypeOf(n,l.prototype);return n};l.prototype.readUintLE=l.prototype.readUIntLE=function(n,F,N){n>>>=0;F>>>=0;N||xb(n,F,this.length);N=this[n];let x=1,T=0;for(;++T<F&&(x*=256);)N+=this[n+T]*x;return N};l.prototype.readUintBE=l.prototype.readUIntBE=function(n,F,
N){n>>>=0;F>>>=0;N||xb(n,F,this.length);N=this[n+--F];let x=1;for(;0<F&&(x*=256);)N+=this[n+--F]*x;return N};l.prototype.readUint8=l.prototype.readUInt8=function(n,F){n>>>=0;F||xb(n,1,this.length);return this[n]};l.prototype.readUint16LE=l.prototype.readUInt16LE=function(n,F){n>>>=0;F||xb(n,2,this.length);return this[n]|this[n+1]<<8};l.prototype.readUint16BE=l.prototype.readUInt16BE=function(n,F){n>>>=0;F||xb(n,2,this.length);return this[n]<<8|this[n+1]};l.prototype.readUint32LE=l.prototype.readUInt32LE=
function(n,F){n>>>=0;F||xb(n,4,this.length);return(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]};l.prototype.readUint32BE=l.prototype.readUInt32BE=function(n,F){n>>>=0;F||xb(n,4,this.length);return 16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])};l.prototype.readBigUInt64LE=U(function(n){n>>>=0;La(n,"offset");var F=this[n];const N=this[n+7];void 0!==F&&void 0!==N||jb(n,this.length-8);F=F+this[++n]*Math.pow(2,8)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,24);n=this[++n]+this[++n]*
Math.pow(2,8)+this[++n]*Math.pow(2,16)+N*Math.pow(2,24);return BigInt(F)+(BigInt(n)<<BigInt(32))});l.prototype.readBigUInt64BE=U(function(n){n>>>=0;La(n,"offset");var F=this[n];const N=this[n+7];void 0!==F&&void 0!==N||jb(n,this.length-8);F=F*Math.pow(2,24)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,8)+this[++n];n=this[++n]*Math.pow(2,24)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,8)+N;return(BigInt(F)<<BigInt(32))+BigInt(n)});l.prototype.readIntLE=function(n,F,N){n>>>=0;F>>>=0;N||xb(n,F,this.length);
N=this[n];let x=1,T=0;for(;++T<F&&(x*=256);)N+=this[n+T]*x;N>=128*x&&(N-=Math.pow(2,8*F));return N};l.prototype.readIntBE=function(n,F,N){n>>>=0;F>>>=0;N||xb(n,F,this.length);N=F;let x=1,T=this[n+--N];for(;0<N&&(x*=256);)T+=this[n+--N]*x;T>=128*x&&(T-=Math.pow(2,8*F));return T};l.prototype.readInt8=function(n,F){n>>>=0;F||xb(n,1,this.length);return this[n]&128?-1*(255-this[n]+1):this[n]};l.prototype.readInt16LE=function(n,F){n>>>=0;F||xb(n,2,this.length);n=this[n]|this[n+1]<<8;return n&32768?n|4294901760:
n};l.prototype.readInt16BE=function(n,F){n>>>=0;F||xb(n,2,this.length);n=this[n+1]|this[n]<<8;return n&32768?n|4294901760:n};l.prototype.readInt32LE=function(n,F){n>>>=0;F||xb(n,4,this.length);return this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24};l.prototype.readInt32BE=function(n,F){n>>>=0;F||xb(n,4,this.length);return this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]};l.prototype.readBigInt64LE=U(function(n){n>>>=0;La(n,"offset");const F=this[n],N=this[n+7];void 0!==F&&void 0!==N||jb(n,this.length-
8);return(BigInt(this[n+4]+this[n+5]*Math.pow(2,8)+this[n+6]*Math.pow(2,16)+(N<<24))<<BigInt(32))+BigInt(F+this[++n]*Math.pow(2,8)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,24))});l.prototype.readBigInt64BE=U(function(n){n>>>=0;La(n,"offset");var F=this[n];const N=this[n+7];void 0!==F&&void 0!==N||jb(n,this.length-8);F=(F<<24)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,8)+this[++n];return(BigInt(F)<<BigInt(32))+BigInt(this[++n]*Math.pow(2,24)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,8)+
N)});l.prototype.readFloatLE=function(n,F){n>>>=0;F||xb(n,4,this.length);return Z.read(this,n,!0,23,4)};l.prototype.readFloatBE=function(n,F){n>>>=0;F||xb(n,4,this.length);return Z.read(this,n,!1,23,4)};l.prototype.readDoubleLE=function(n,F){n>>>=0;F||xb(n,8,this.length);return Z.read(this,n,!0,52,8)};l.prototype.readDoubleBE=function(n,F){n>>>=0;F||xb(n,8,this.length);return Z.read(this,n,!1,52,8)};l.prototype.writeUintLE=l.prototype.writeUIntLE=function(n,F,N,x){n=+n;F>>>=0;N>>>=0;x||qb(this,n,
F,N,Math.pow(2,8*N)-1,0);x=1;let T=0;for(this[F]=n&255;++T<N&&(x*=256);)this[F+T]=n/x&255;return F+N};l.prototype.writeUintBE=l.prototype.writeUIntBE=function(n,F,N,x){n=+n;F>>>=0;N>>>=0;x||qb(this,n,F,N,Math.pow(2,8*N)-1,0);x=N-1;let T=1;for(this[F+x]=n&255;0<=--x&&(T*=256);)this[F+x]=n/T&255;return F+N};l.prototype.writeUint8=l.prototype.writeUInt8=function(n,F,N){n=+n;F>>>=0;N||qb(this,n,F,1,255,0);this[F]=n&255;return F+1};l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(n,F,N){n=
+n;F>>>=0;N||qb(this,n,F,2,65535,0);this[F]=n&255;this[F+1]=n>>>8;return F+2};l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(n,F,N){n=+n;F>>>=0;N||qb(this,n,F,2,65535,0);this[F]=n>>>8;this[F+1]=n&255;return F+2};l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(n,F,N){n=+n;F>>>=0;N||qb(this,n,F,4,4294967295,0);this[F+3]=n>>>24;this[F+2]=n>>>16;this[F+1]=n>>>8;this[F]=n&255;return F+4};l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(n,F,N){n=+n;F>>>=0;N||qb(this,
n,F,4,4294967295,0);this[F]=n>>>24;this[F+1]=n>>>16;this[F+2]=n>>>8;this[F+3]=n&255;return F+4};l.prototype.writeBigUInt64LE=U(function(n,F=0){return Cb(this,n,F,BigInt(0),BigInt("0xffffffffffffffff"))});l.prototype.writeBigUInt64BE=U(function(n,F=0){return lb(this,n,F,BigInt(0),BigInt("0xffffffffffffffff"))});l.prototype.writeIntLE=function(n,F,N,x){n=+n;F>>>=0;x||(x=Math.pow(2,8*N-1),qb(this,n,F,N,x-1,-x));x=0;let T=1,B=0;for(this[F]=n&255;++x<N&&(T*=256);)0>n&&0===B&&0!==this[F+x-1]&&(B=1),this[F+
x]=(n/T>>0)-B&255;return F+N};l.prototype.writeIntBE=function(n,F,N,x){n=+n;F>>>=0;x||(x=Math.pow(2,8*N-1),qb(this,n,F,N,x-1,-x));x=N-1;let T=1,B=0;for(this[F+x]=n&255;0<=--x&&(T*=256);)0>n&&0===B&&0!==this[F+x+1]&&(B=1),this[F+x]=(n/T>>0)-B&255;return F+N};l.prototype.writeInt8=function(n,F,N){n=+n;F>>>=0;N||qb(this,n,F,1,127,-128);0>n&&(n=255+n+1);this[F]=n&255;return F+1};l.prototype.writeInt16LE=function(n,F,N){n=+n;F>>>=0;N||qb(this,n,F,2,32767,-32768);this[F]=n&255;this[F+1]=n>>>8;return F+
2};l.prototype.writeInt16BE=function(n,F,N){n=+n;F>>>=0;N||qb(this,n,F,2,32767,-32768);this[F]=n>>>8;this[F+1]=n&255;return F+2};l.prototype.writeInt32LE=function(n,F,N){n=+n;F>>>=0;N||qb(this,n,F,4,2147483647,-2147483648);this[F]=n&255;this[F+1]=n>>>8;this[F+2]=n>>>16;this[F+3]=n>>>24;return F+4};l.prototype.writeInt32BE=function(n,F,N){n=+n;F>>>=0;N||qb(this,n,F,4,2147483647,-2147483648);0>n&&(n=4294967295+n+1);this[F]=n>>>24;this[F+1]=n>>>16;this[F+2]=n>>>8;this[F+3]=n&255;return F+4};l.prototype.writeBigInt64LE=
U(function(n,F=0){return Cb(this,n,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});l.prototype.writeBigInt64BE=U(function(n,F=0){return lb(this,n,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});l.prototype.writeFloatLE=function(n,F,N){return ua(this,n,F,!0,N)};l.prototype.writeFloatBE=function(n,F,N){return ua(this,n,F,!1,N)};l.prototype.writeDoubleLE=function(n,F,N){return ha(this,n,F,!0,N)};l.prototype.writeDoubleBE=function(n,F,N){return ha(this,n,F,!1,N)};l.prototype.copy=
function(n,F,N,x){if(!l.isBuffer(n))throw new TypeError("argument should be a Buffer");N||(N=0);x||0===x||(x=this.length);F>=n.length&&(F=n.length);F||(F=0);0<x&&x<N&&(x=N);if(x===N||0===n.length||0===this.length)return 0;if(0>F)throw new RangeError("targetStart out of bounds");if(0>N||N>=this.length)throw new RangeError("Index out of range");if(0>x)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length);n.length-F<x-N&&(x=n.length-F+N);const T=x-N;this===n&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(F,N,x):Uint8Array.prototype.set.call(n,this.subarray(N,x),F);return T};l.prototype.fill=function(n,F,N,x){if("string"===typeof n){"string"===typeof F?(x=F,F=0,N=this.length):"string"===typeof N&&(x=N,N=this.length);if(void 0!==x&&"string"!==typeof x)throw new TypeError("encoding must be a string");if("string"===typeof x&&!l.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(1===n.length){var T=n.charCodeAt(0);if("utf8"===x&&128>T||"latin1"===x)n=T}}else"number"===typeof n?
n&=255:"boolean"===typeof n&&(n=Number(n));if(0>F||this.length<F||this.length<N)throw new RangeError("Out of range index");if(N<=F)return this;F>>>=0;N=void 0===N?this.length:N>>>0;n||(n=0);if("number"===typeof n)for(x=F;x<N;++x)this[x]=n;else{T=l.isBuffer(n)?n:l.from(n,x);const B=T.length;if(0===B)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(x=0;x<N-F;++x)this[x+F]=T[x%B]}return this};const Fa={};xa("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);xa("ERR_INVALID_ARG_TYPE",function(n,F){return`The "${n}" argument must be of type number. Received type ${typeof F}`},TypeError);xa("ERR_OUT_OF_RANGE",function(n,F,N){n=`The value of "${n}" is out of range.`;let x=N;if(Number.isInteger(N)&&Math.abs(N)>Math.pow(2,32))x=Sa(String(N));else if("bigint"===typeof N){x=String(N);if(N>Math.pow(BigInt(2),BigInt(32))||N<-Math.pow(BigInt(2),BigInt(32)))x=Sa(x);x+="n"}return n+` It must be ${F}. Received ${x}`},
RangeError);const ma=/[^+/0-9A-Za-z-_]/g,na=function(){const n=Array(256);for(let F=0;16>F;++F){const N=16*F;for(let x=0;16>x;++x)n[N+x]="0123456789abcdef"[F]+"0123456789abcdef"[x]}return n}()};
shadow$provide[31]=function(Fb,nb,zc,Ya){var u=nb(30).Buffer;(function(l,ja){"object"===typeof Ya&&"undefined"!==typeof zc?ja(Ya,nb(24),nb(25),nb(27)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],ja):(l="undefined"!==typeof globalThis?globalThis:l||self,ja(l.vega={},l.vega,l.topojson,l.vega))})(this,function(l,ja,Za,ub){function Wb(ma,na){const n=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const F=yield n.sanitize(ma,
na),N=F.href;return F.localFile?n.file(N):n.http(N,na)})}function ec(ma,na){const n=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){na=ja.extend({},n.options,na);const F=n.fileAccess,N={href:null};var x;let T;var B=La.test(ma.replace(jb,""));null!=ma&&"string"===typeof ma&&B||ja.error("Sanitize failure, invalid URI: "+ja.stringValue(ma));B=Xa.test(ma);(x=na.baseURL)&&!B&&(ma.startsWith("/")||x.endsWith("/")||(ma="/"+ma),ma=x+ma);T=(x=ma.startsWith("file://"))||"file"===na.mode||
"http"!==na.mode&&!B&&F;x?ma=ma.slice(7):ma.startsWith("//")&&("file"===na.defaultProtocol?(ma=ma.slice(2),T=!0):ma=(na.defaultProtocol||"http")+":"+ma);Object.defineProperty(N,"localFile",{value:!!T});N.href=ma;na.target&&(N.target=na.target+"");na.rel&&(N.rel=na.rel+"");"image"===na.context&&na.crossOrigin&&(N.crossOrigin=na.crossOrigin+"");return N})}function Db(ma){return ma?na=>new Promise((n,F)=>{ma.readFile(na,(N,x)=>{N?F(N):n(x)})}):yb}function yb(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ja.error("No file system access.")})}
function wb(ma){return ma?function(na,n){const F=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var N=ja.extend({},F.options.http,n);const x=n&&n.response;N=yield ma(na,N);return N.ok?ja.isFunction(N[x])?N[x]():N.text():ja.error(N.status+""+N.statusText)})}:Qb}function Qb(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ja.error("No HTTP fetch method available.")})}function Yb(ma,na){if(!ma||!ma.length)return"unknown";const n=ma.length,F=Rb.length,N=Rb.map((x,
T)=>T+1);for(let x=0,T=0,B,A;x<n;++x)for(A=na?ma[x][na]:ma[x],B=0;B<F;++B)if(N[B]&&null!=A&&A===A&&!Rb[B](A)&&(N[B]=0,++T,T===Rb.length))return"string";return Na[N.reduce((x,T)=>0===x?T:x,0)-1]}function Ba(ma,na){return na.reduce((n,F)=>{n[F]=Yb(ma,F);return n},{})}function bb(ma){return new Function("d","return {"+ma.map(function(na,n){return JSON.stringify(na)+": d["+n+'] || ""'}).join(",")+"}")}function Ab(ma,na){var n=bb(ma);return function(F,N){return na(n(F),N,ma)}}function xb(ma){var na=Object.create(null),
n=[];ma.forEach(function(F){for(var N in F)N in na||n.push(na[N]=N)});return n}function qb(ma,na){ma+="";var n=ma.length;return n<na?Array(na-n+1).join(0)+ma:ma}function Cb(ma){function na(B,A){function Q(){if(S)return ea;if(ia)return ia=!1,U;var Qa,Ra=I,db;if(34===B.charCodeAt(Ra)){for(;I++<E&&34!==B.charCodeAt(I)||34===B.charCodeAt(++I););(Qa=I)>=E?S=!0:10===(db=B.charCodeAt(I++))?ia=!0:13===db&&(ia=!0,10===B.charCodeAt(I)&&++I);return B.slice(Ra+1,Qa-1).replace(/""/g,'"')}for(;I<E;){if(10===(db=
B.charCodeAt(Qa=I++)))ia=!0;else if(13===db)ia=!0,10===B.charCodeAt(I)&&++I;else if(db!==T)continue;return B.slice(Ra,Qa)}return S=!0,B.slice(Ra,E)}var D=[],E=B.length,I=0,X=0,Da,S=0>=E,ia=!1;10===B.charCodeAt(E-1)&&--E;for(13===B.charCodeAt(E-1)&&--E;(Da=Q())!==ea;){for(var Ca=[];Da!==U&&Da!==ea;)Ca.push(Da),Da=Q();A&&null==(Ca=A(Ca,X++))||D.push(Ca)}return D}function n(B,A){return B.map(function(Q){return A.map(function(D){return N(Q[D])}).join(ma)})}function F(B){return B.map(N).join(ma)}function N(B){if(null==
B)B="";else{if(B instanceof Date){var A=B.getUTCHours();var Q=B.getUTCMinutes(),D=B.getUTCSeconds(),E=B.getUTCMilliseconds();if(isNaN(B))B="Invalid Date";else{var I=B.getUTCFullYear();B=(0>I?"-"+qb(-I,6):9999<I?"+"+qb(I,6):qb(I,4))+"-"+qb(B.getUTCMonth()+1,2)+"-"+qb(B.getUTCDate(),2)+(E?"T"+qb(A,2)+":"+qb(Q,2)+":"+qb(D,2)+"."+qb(E,3)+"Z":D?"T"+qb(A,2)+":"+qb(Q,2)+":"+qb(D,2)+"Z":Q||A?"T"+qb(A,2)+":"+qb(Q,2)+"Z":"")}A=B}else A=x.test(B+="")?'"'+B.replace(/"/g,'""')+'"':B;B=A}return B}var x=new RegExp('["'+
ma+"\n\r]"),T=ma.charCodeAt(0);return{parse:function(B,A){var Q,D;B=na(B,function(E,I){if(Q)return Q(E,I-1);D=E;Q=A?Ab(E,A):bb(E)});B.columns=D||[];return B},parseRows:na,format:function(B,A){null==A&&(A=xb(B));return[A.map(N).join(ma)].concat(n(B,A)).join("\n")},formatBody:function(B,A){null==A&&(A=xb(B));return n(B,A).join("\n")},formatRows:function(B){return B.map(F).join("\n")},formatRow:F,formatValue:N}}function lb(ma){const na=function(n,F){const N={delimiter:ma};return mc(n,F?ja.extend(F,N):
N)};na.responseType="text";return na}function mc(ma,na){na.header&&(ma=na.header.map(ja.stringValue).join(na.delimiter)+"\n"+ma);return Cb(na.delimiter).parse(ma+"")}function ua(ma,na){const n=na&&na.property?ja.field(na.property):ja.identity;var F;if(F=ja.isObject(ma))F=!("function"===typeof u&&ja.isFunction(u.isBuffer)&&u.isBuffer(ma));F?(ma=n(ma),!ja.isArray(ma)&&ja.isIterable(ma)&&(ma=[...ma]),na=na&&na.copy?JSON.parse(JSON.stringify(ma)):ma):na=n(JSON.parse(ma));return na}function ha(ma,na){let n,
F,N,x;ma=ua(ma,na);na&&na.feature?(n=Za.feature,N=na.feature):na&&na.mesh?(n=Za.mesh,N=na.mesh,x=Ja[na.filter]):ja.error("Missing TopoJSON feature or mesh parameter.");return(F=(F=ma.objects[N])?n(ma,F,x):ja.error("Invalid TopoJSON object: "+N))&&F.features||[F]}function xa(ma,na){return 1<arguments.length?(Z[ma]=na,this):ja.hasOwnProperty(Z,ma)?Z[ma]:null}function Sa(ma,na,n,F){if(ma.length){var N=ub.timeFormatDefaultLocale();n=n||N.timeParse;F=F||N.utcParse;N=ma.columns||Object.keys(ma[0]);var x,
T;"auto"===na&&(na=Ba(ma,N));N=Object.keys(na);var B=N.map(I=>{var X=na[I];if(X&&(X.startsWith("date:")||X.startsWith("utc:"))){I=X.split(/:(.+)?/,2);X=I[1];if("'"===X[0]&&"'"===X[X.length-1]||'"'===X[0]&&'"'===X[X.length-1])X=X.slice(1,-1);return("utc"===I[0]?F:n)(X)}if(!vb[X])throw Error("Illegal format pattern: "+I+":"+X);return vb[X]});var A=0;var Q=ma.length;for(T=N.length;A<Q;++A){var D=ma[A];for(x=0;x<T;++x){var E=N[x];D[E]=B[x](D[E])}}}}const Xa=/^(data:|([A-Za-z]+:)?\/\/)/,La=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
jb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,fb=ma=>!Number.isNaN(+ma)&&!(ma instanceof Date),vb={boolean:ja.toBoolean,integer:ja.toNumber,number:ja.toNumber,date:ja.toDate,string:ja.toString,unknown:ja.identity},Rb=[ma=>"true"===ma||"false"===ma||!0===ma||!1===ma,ma=>fb(ma)&&Number.isInteger(+ma),fb,ma=>!Number.isNaN(Date.parse(ma))],Na=["boolean","integer","number","date"];var U={},ea={};mc.responseType="text";ua.responseType="json";const Ja={interior:(ma,na)=>ma!==na,exterior:(ma,
na)=>ma===na};ha.responseType="json";const Z={dsv:mc,csv:lb(","),tsv:lb("\t"),json:ua,topojson:ha},Fa=function(ma,na){return n=>({options:n||{},sanitize:ec,load:Wb,fileAccess:!1,file:Db(na),http:wb(ma)})}("undefined"!==typeof fetch&&fetch,null);l.format=Z;l.formats=xa;l.inferType=Yb;l.inferTypes=Ba;l.loader=Fa;l.read=function(ma,na,n,F){na=na||{};const N=xa(na.type||"json");N||ja.error("Unknown data format type: "+na.type);ma=N(ma,na);na.parse&&Sa(ma,na.parse,n,F);ja.hasOwnProperty(ma,"columns")&&
delete ma.columns;return ma};l.responseType=function(ma){return(ma=xa(ma))&&ma.responseType||"text"};l.typeParsers=vb})};
shadow$provide[32]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(24),nb(31),nb(27)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega))})(this,function(u,l,ja,Za){function ub(x){const T=x||l.identity,B=[],A={};B.add=Q=>{const D=T(Q);A[D]||(A[D]=1,B.push(Q));return B};B.remove=Q=>{const D=T(Q);A[D]&&(A[D]=0,Q=B.indexOf(Q),
0<=Q&&B.splice(Q,1));return B};return B}function Wb(x,T){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield T(x)}catch(B){x.error(B)}})}function ec(x){x=x===Object(x)?x:{data:x};if(!x[ea]){var T=Ja++;x[ea]=T}return x}function Db(x,T){for(const B in x)T[B]=x[B];return T}function yb(x){return x&&x.constructor===wb}function wb(){const x=[],T=[],B=[],A=[],Q=[];let D=null,E=!1;return{constructor:wb,insert(I){I=l.array(I);const X=I.length;for(let Da=0;Da<X;++Da)x.push(I[Da]);return this},
remove(I){const X=l.isFunction(I)?A:T;I=l.array(I);const Da=I.length;for(let S=0;S<Da;++S)X.push(I[S]);return this},modify(I,X,Da){X={field:X,value:l.constant(Da)};l.isFunction(I)?(X.filter=I,Q.push(X)):(X.tuple=I,B.push(X));return this},encode(I,X){l.isFunction(I)?Q.push({filter:I,field:X}):B.push({tuple:I,field:X});return this},clean(I){D=I;return this},reflow(){E=!0;return this},pulse(I,X){function Da(Vb,Y,Ha){Ha?Vb[Y]=Ha(Vb):I.encode=Y;E||(ia[Vb[ea]]=Vb)}const S={},ia={};let Ca,Qa,Ra,db,zb,kb;
Ca=0;for(Qa=X.length;Ca<Qa;++Ca)S[X[Ca][ea]]=1;Ca=0;for(Qa=T.length;Ca<Qa;++Ca)zb=T[Ca],S[zb[ea]]=-1;Ca=0;for(Qa=A.length;Ca<Qa;++Ca)db=A[Ca],X.forEach(Vb=>{db(Vb)&&(S[Vb[ea]]=-1)});Ca=0;for(Qa=x.length;Ca<Qa;++Ca)zb=x[Ca],kb=zb[ea],S[kb]?S[kb]=1:I.add.push(ec(x[Ca]));Ca=0;for(Qa=X.length;Ca<Qa;++Ca)zb=X[Ca],0>S[zb[ea]]&&I.rem.push(zb);Ca=0;for(Qa=B.length;Ca<Qa;++Ca)Ra=B[Ca],zb=Ra.tuple,db=Ra.field,kb=S[zb[ea]],0<kb&&(Da(zb,db,Ra.value),I.modifies(db));Ca=0;for(Qa=Q.length;Ca<Qa;++Ca)Ra=Q[Ca],db=
Ra.filter,X.forEach(Vb=>{db(Vb)&&0<S[Vb[ea]]&&Da(Vb,Ra.field,Ra.value)}),I.modifies(Ra.field);if(E)I.mod=T.length||A.length?X.filter(Vb=>0<S[Vb[ea]]):X.slice();else for(kb in ia)I.mod.push(ia[kb]);(D||null==D&&(T.length||A.length))&&I.clean(!0);return I}}}function Qb(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Yb(x,T,B,A){this.id=++Z;this.value=x;this.qrank=this.rank=this.stamp=-1;this.flags=0;T&&(this._update=T);B&&this.parameters(B,A)}function Ba(x){return function(T){const B=
this.flags;if(0===arguments.length)return!!(B&x);this.flags=T?B|x:B&~x;return this}}function bb(x,T,B){this.id=++ma;this.value=null;B&&(this.receive=B);x&&(this._filter=x);T&&(this._apply=T)}function Ab(x,T,B){return new bb(x,T,B)}function xb(x){let T;const B=new Promise(A=>T=A);B.requests=0;B.done=()=>{0===--B.requests&&(x._pending=null,T(x))};return x._pending=B}function qb(x,T,B,A,Q,D){const E=l.extend({},D,na);let I;l.isFunction(B)||(B=l.constant(B));void 0===A?Q=X=>x.touch(B(X)):l.isFunction(A)?
(I=new Yb(null,A,Q,!1),Q=X=>{I.evaluate(X);X=B(X);const Da=I.value;yb(Da)?x.pulse(X,Da,D):x.update(X,Da,E)}):Q=X=>x.update(B(X),A,E);T.apply(Q)}function Cb(x,T,B,A,Q,D){void 0===A?T.targets().add(B):(D=D||{},A=new Yb(null,lb(B,A),Q,!1),A.modified(D.force),A.rank=T.rank,T.targets().add(A),B&&(A.skip(!0),A.value=B.value,A.targets().add(B),x.connect(B,[A])))}function lb(x,T){T=l.isFunction(T)?T:l.constant(T);return x?function(B,A){B=T(B,A);x.skip()||(x.skip(B!==this.value).value=B);return B}:T}function mc(x,
T,B){this.dataflow=x;this.stamp=null==T?-1:T;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=B||null}function ua(x,T){const B=[];l.visitArray(x,T,A=>B.push(A));return B}function ha(x,T){const B={};x.visit(T,A=>{B[A[ea]]=1});return A=>B[A[ea]]?null:A}function xa(x,T){return x?(B,A)=>x(B,A)&&T(B,A):T}function Sa(x,T,B,A){let Q=0;this.dataflow=x;this.stamp=T;this.fields=null;this.encode=A||null;this.pulses=B;for(const D of B)if(D.stamp===T){if(D.fields){x=this.fields||(this.fields={});
for(const E in D.fields)x[E]=1}D.changed(this.ADD)&&(Q|=this.ADD);D.changed(this.REM)&&(Q|=this.REM);D.changed(this.MOD)&&(Q|=this.MOD)}this.changes=Q}function Xa(x){x.error("Dataflow already running. Use runAsync() to chain invocations.");return x}function La(x,T){if(T&&T.stamp===x.stamp)return T;x=x.fork();T&&T!==n&&(x.source=T.source);return x}function jb(x){let T=[];return{clear:()=>T=[],size:()=>T.length,peek:()=>T[0],push:B=>{T.push(B);return fb(T,0,T.length-1,x)},pop:()=>{var B=T.pop();let A;
if(T.length){A=T[0];T[0]=B;B=T;var Q=0;const D=Q,E=B.length,I=B[Q];let X=(Q<<1)+1,Da;for(;X<E;)Da=X+1,Da<E&&0<=x(B[X],B[Da])&&(X=Da),B[Q]=B[X],Q=X,X=(Q<<1)+1;B[Q]=I;fb(B,D,Q,x)}else A=B;return A}}}function fb(x,T,B,A){let Q,D;const E=x[B];for(;B>T;)if(D=B-1>>1,Q=x[D],0>A(E,Q))x[B]=Q,B=D;else break;return x[B]=E}function vb(){this.logger(l.logger());this.logLevel(l.Error);this._rank=this._clock=0;this._locale=Za.defaultLocale();try{this._loader=ja.loader()}catch(x){}this._touched=ub(l.id);this._input=
{};this._pulse=null;this._heap=jb((x,T)=>x.qrank-T.qrank);this._postrun=[]}function Rb(x){return function(){return this._log[x].apply(this,arguments)}}function Na(x,T){Yb.call(this,x,null,T)}function U(x){x=x&&x.toLowerCase();return l.hasOwnProperty(N,x)?N[x]:null}const ea=Symbol("vega_id");let Ja=1;Qb.prototype={set(x,T,B,A){const Q=this[x],D=this["_:mod:_"];if(null!=T&&0<=T){if(Q[T]!==B||A)Q[T]=B,D[T+":"+x]=-1,D[x]=-1}else if(Q!==B||A)this[x]=B,D[x]=l.isArray(B)?1+B.length:-1;return this},modified(x,
T){const B=this["_:mod:_"];if(!arguments.length){for(var A in B)if(B[A])return!0;return!1}if(l.isArray(x)){for(A=0;A<x.length;++A)if(B[x[A]])return!0;return!1}return null!=T&&0<=T?T+1<B[x]||!!B[T+":"+x]:!!B[x]},clear(){this["_:mod:_"]={};return this}};let Z=0;const Fa=new Qb;Yb.prototype={targets(){return this._targets||(this._targets=ub(l.id))},set(x){return this.value!==x?(this.value=x,1):0},skip:Ba(1),modified:Ba(2),parameters(x,T,B){T=!1!==T;const A=this._argval=this._argval||new Qb,Q=this._argops=
this._argops||[],D=[];let E,I,X,Da;const S=(ia,Ca,Qa)=>{Qa instanceof Yb?(Qa!==this&&(T&&Qa.targets().add(this),D.push(Qa)),Q.push({op:Qa,name:ia,index:Ca})):A.set(ia,Ca,Qa)};for(E in x)if(I=x[E],"pulse"===E)l.array(I).forEach(ia=>{ia instanceof Yb?ia!==this&&(ia.targets().add(this),D.push(ia)):l.error("Pulse parameters must be operator instances.")}),this.source=I;else if(l.isArray(I))for(A.set(E,-1,Array(X=I.length)),Da=0;Da<X;++Da)S(E,Da,I[Da]);else S(E,-1,I);this.marshall().clear();B&&(Q.initonly=
!0);return D},marshall(x){const T=this._argval||Fa,B=this._argops;let A,Q,D,E;if(B){const I=B.length;for(Q=0;Q<I;++Q)A=B[Q],D=A.op,E=D.modified()&&D.stamp===x,T.set(A.name,A.index,D.value,E);if(B.initonly){for(Q=0;Q<I;++Q)A=B[Q],A.op.targets().remove(this);this._update=this._argops=null}}return T},detach(){const x=this._argops;let T,B;if(x)for(T=0,B=x.length;T<B;++T){var A=x[T];A=A.op;A._targets&&A._targets.remove(this)}this.source=this.pulse=null},evaluate(x){var T=this._update;if(T){const B=this.marshall(x.stamp);
T=T.call(this,B,x);B.clear();if(T!==this.value)this.value=T;else if(!this.modified())return x.StopPropagation}},run(x){if(x.stamp<this.stamp)return x.StopPropagation;let T;this.skip()?(this.skip(!1),T=0):T=this.evaluate(x);return this.pulse=T||x}};let ma=0;bb.prototype={_filter:l.truthy,_apply:l.identity,targets(){return this._targets||(this._targets=ub(l.id))},consume(x){if(!arguments.length)return!!this._consume;this._consume=!!x;return this},receive(x){if(this._filter(x)){const T=this.value=this._apply(x),
B=this._targets,A=B?B.length:0;for(let Q=0;Q<A;++Q)B[Q].receive(T);this._consume&&(x.preventDefault(),x.stopPropagation())}},filter(x){x=Ab(x);this.targets().add(x);return x},apply(x){x=Ab(null,x);this.targets().add(x);return x},merge(){const x=Ab();this.targets().add(x);for(let T=0,B=arguments.length;T<B;++T)arguments[T].targets().add(x);return x},throttle(x){let T=-1;return this.filter(()=>{const B=Date.now();return B-T>x?(T=B,1):0})},debounce(x){const T=Ab();this.targets().add(Ab(null,null,l.debounce(x,
B=>{const A=B.dataflow;T.receive(B);A&&A.run&&A.run()})));return T},between(x,T){let B=!1;x.targets().add(Ab(null,null,()=>B=!0));T.targets().add(Ab(null,null,()=>B=!1));return this.filter(()=>B)},detach(){this._filter=l.truthy;this._targets=null}};const na={skip:!0},n={};mc.prototype={StopPropagation:n,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(x){return(new mc(this.dataflow)).init(this,x)},clone(){const x=this.fork(7);x.add=x.add.slice();x.rem=
x.rem.slice();x.mod=x.mod.slice();x.source&&(x.source=x.source.slice());return x.materialize(23)},addAll(){let x=this;x.source&&x.add!==x.rem&&(x.rem.length||x.source.length!==x.add.length)&&(x=(new mc(this.dataflow)).init(this),x.add=x.source,x.rem=[]);return x},init(x,T){this.stamp=x.stamp;this.encode=x.encode;!x.fields||T&64||(this.fields=x.fields);T&1?(this.addF=x.addF,this.add=x.add):(this.addF=null,this.add=[]);T&2?(this.remF=x.remF,this.rem=x.rem):(this.remF=null,this.rem=[]);T&4?(this.modF=
x.modF,this.mod=x.mod):(this.modF=null,this.mod=[]);T&32?this.source=this.srcF=null:(this.srcF=x.srcF,this.source=x.source,x.cleans&&(this.cleans=x.cleans));return this},runAfter(x){this.dataflow.runAfter(x)},changed(x){x=x||7;return x&1&&this.add.length||x&2&&this.rem.length||x&4&&this.mod.length},reflow(x){if(x)return this.fork(7).reflow();x=this.add.length;const T=this.source&&this.source.length;T&&T!==x&&(this.mod=this.source,x&&this.filter(4,ha(this,1)));return this},clean(x){return arguments.length?
(this.cleans=!!x,this):this.cleans},modifies(x){const T=this.fields||(this.fields={});l.isArray(x)?x.forEach(B=>T[B]=!0):T[x]=!0;return this},modified(x,T){const B=this.fields;return(T||this.mod.length)&&B?arguments.length?l.isArray(x)?x.some(A=>B[A]):B[x]:!!B:!1},filter(x,T){x&1&&(this.addF=xa(this.addF,T));x&2&&(this.remF=xa(this.remF,T));x&4&&(this.modF=xa(this.modF,T));x&16&&(this.srcF=xa(this.srcF,T));return this},materialize(x){x=x||7;x&1&&this.addF&&(this.add=ua(this.add,this.addF),this.addF=
null);x&2&&this.remF&&(this.rem=ua(this.rem,this.remF),this.remF=null);x&4&&this.modF&&(this.mod=ua(this.mod,this.modF),this.modF=null);x&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(x,T){if(x&16)return l.visitArray(this.source,this.srcF,T),this;x&1&&l.visitArray(this.add,this.addF,T);x&2&&l.visitArray(this.rem,this.remF,T);x&4&&l.visitArray(this.mod,this.modF,T);const B=this.source;x&8&&B&&(x=this.add.length+this.mod.length,x!==B.length&&(x?l.visitArray(B,
ha(this,5),T):l.visitArray(B,this.srcF,T)));return this}};l.inherits(Sa,mc,{fork(x){const T=(new mc(this.dataflow)).init(this,x&this.NO_FIELDS);void 0!==x&&(x&T.ADD&&this.visit(T.ADD,B=>T.add.push(B)),x&T.REM&&this.visit(T.REM,B=>T.rem.push(B)),x&T.MOD&&this.visit(T.MOD,B=>T.mod.push(B)));return T},changed(x){return this.changes&x},modified(x){const T=this.fields;return T&&this.changes&this.MOD?l.isArray(x)?x.some(B=>T[B]):T[x]:0},filter(){l.error("MultiPulse does not support filtering.")},materialize(){l.error("MultiPulse does not support materialization.")},
visit(x,T){const B=this.pulses,A=B.length;let Q=0;if(x&this.SOURCE)for(;Q<A;++Q)B[Q].visit(x,T);else for(;Q<A;++Q)B[Q].stamp===this.stamp&&B[Q].visit(x,T);return this}});const F={skip:!1,force:!1};vb.prototype={stamp(){return this._clock},loader(x){return arguments.length?(this._loader=x,this):this._loader},locale(x){return arguments.length?(this._locale=x,this):this._locale},logger(x){return arguments.length?(this._log=x,this):this._log},error:Rb("error"),warn:Rb("warn"),info:Rb("info"),debug:Rb("debug"),
logLevel:Rb("level"),cleanThreshold:1E4,add:function(x,T,B,A){let Q=1;x instanceof Yb||(x&&x.prototype instanceof Yb?x=new x:l.isFunction(x)?x=new Yb(null,x):(Q=0,x=new Yb(x,T)));this.rank(x);Q&&(A=B,B=T);B&&this.connect(x,x.parameters(B,A));this.touch(x);return x},connect:function(x,T){const B=x.rank,A=T.length;for(let Q=0;Q<A;++Q)if(B<T[Q].rank){this.rerank(x);break}},rank:function(x){x.rank=++this._rank},rerank:function(x){const T=[x];let B,A,Q;for(;T.length;)if(this.rank(B=T.pop()),A=B._targets)for(Q=
A.length;0<=--Q;)T.push(B=A[Q]),B===x&&l.error("Cycle detected in dataflow graph.")},pulse:function(x,T,B){this.touch(x,B||F);B=new mc(this,this._clock+(this._pulse?0:1));const A=x.pulse&&x.pulse.source||[];B.target=x;this._input[x.id]=T.pulse(B,A);return this},touch:function(x,T){T=T||F;this._pulse?this._enqueue(x):this._touched.add(x);T.skip&&x.skip(!0);return this},update:function(x,T,B){B=B||F;(x.set(T)||B.force)&&this.touch(x,B);return this},changeset:wb,ingest:function(x,T,B){T=this.parse(T,
B);return this.pulse(x,this.changeset().insert(T))},parse:function(x,T){const B=this.locale();return ja.read(x,T,B.timeParse,B.utcParse)},preload:function(x,T,B){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const Q=A._pending||xb(A);Q.requests+=1;const D=yield A.request(T,B);A.pulse(x,A.changeset().remove(l.truthy).insert(D.data||[]));Q.done();return D})},request:function(x,T){const B=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let A=0,Q;try{Q=
yield B.loader().load(x,{context:"dataflow",response:ja.responseType(T&&T.type)});try{Q=B.parse(Q,T)}catch(D){A=-2,B.warn("Data ingestion failed",x,D)}}catch(D){A=-1,B.warn("Loading failed",x,D)}return{data:Q,status:A}})},events:function(x,T,B,A){const Q=this,D=Ab(B,A);B=function(E){E.dataflow=Q;try{D.receive(E)}catch(I){Q.error(I)}finally{Q.run()}};x="string"===typeof x&&"undefined"!==typeof document?document.querySelectorAll(x):l.array(x);A=x.length;for(let E=0;E<A;++E)x[E].addEventListener(T,B);
return D},on:function(x,T,B,A,Q){(x instanceof Yb?Cb:qb)(this,x,T,B,A,Q);return this},evaluate:function(x,T,B){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const Q=[];if(A._pulse)return Xa(A);A._pending&&(yield A._pending);T&&(yield Wb(A,T));if(!A._touched.length)return A.debug("Dataflow invoked, but nothing to do."),A;var D=++A._clock;A._pulse=new mc(A,D,x);A._touched.forEach(S=>A._enqueue(S,!0));A._touched=ub(l.id);var E=0;let I,X,Da;try{for(;0<A._heap.size();)I=
A._heap.pop(),I.rank!==I.qrank?A._enqueue(I,!0):(X=I.run(A._getPulse(I,x)),X.then?X=yield X:X.async&&(Q.push(X.async),X=n),X!==n&&I._targets&&I._targets.forEach(S=>A._enqueue(S)),++E)}catch(S){A._heap.clear(),Da=S}A._input={};A._pulse=null;A.debug(`Pulse ${D}: ${E} operators`);Da&&(A._postrun=[],A.error(Da));if(A._postrun.length)for(D=A._postrun.sort((S,ia)=>ia.priority-S.priority),A._postrun=[],E=0;E<D.length;++E)yield Wb(A,D[E].callback);B&&(yield Wb(A,B));Q.length&&Promise.all(Q).then(S=>A.runAsync(null,
()=>{S.forEach(ia=>{try{ia(A)}catch(Ca){A.error(Ca)}})}));return A})},run:function(x,T,B){return this._pulse?Xa(this):(this.evaluate(x,T,B),this)},runAsync:function(x,T,B){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;A._running;)yield A._running;const Q=()=>A._running=null;(A._running=A.evaluate(x,T,B)).then(Q,Q);return A._running})},runAfter:function(x,T,B){if(this._pulse||T)this._postrun.push({priority:B||0,callback:x});else try{x(this)}catch(A){this.error(A)}},
_enqueue:function(x,T){const B=x.stamp<this._clock;B&&(x.stamp=this._clock);if(B||T)x.qrank=x.rank,this._heap.push(x)},_getPulse:function(x,T){const B=x.source,A=this._clock;return B&&l.isArray(B)?new Sa(this,A,B.map(Q=>Q.pulse),T):this._input[x.id]||La(this._pulse,B&&B.pulse)}};l.inherits(Na,Yb,{run(x){if(x.stamp<this.stamp)return x.StopPropagation;let T;this.skip()?this.skip(!1):T=this.evaluate(x);T=T||x;T.then?T=T.then(B=>this.pulse=B):T!==x.StopPropagation&&(this.pulse=T);return T},evaluate(x){const T=
this.marshall(x.stamp);x=this.transform(T,x);T.clear();return x},transform(){}});const N={};u.Dataflow=vb;u.EventStream=bb;u.MultiPulse=Sa;u.Operator=Yb;u.Parameters=Qb;u.Pulse=mc;u.Transform=Na;u.UniqueList=ub;u.asyncCallback=Wb;u.changeset=wb;u.definition=function(x){return(x=U(x))&&x.Definition||null};u.derive=function(x){return Db(x,ec({}))};u.ingest=ec;u.isChangeSet=yb;u.isTuple=function(x){return!(!x||!x[ea])};u.rederive=Db;u.replace=function(x,T){T[ea]=x[ea];return T};u.stableCompare=function(x,
T){return x?T?(B,A)=>x(B,A)||T(B)[ea]-T(A)[ea]:(B,A)=>x(B,A)||B[ea]-A[ea]:null};u.transform=U;u.transforms=N;u.tupleid=function(x){return x[ea]}})};
shadow$provide[33]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya):"function"===typeof define&&define.amd?define(["exports"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={}))})(this,function(u){function*l(B,A){if(null==A)for(var Q of B)null!=Q&&""!==Q&&(Q=+Q)>=Q&&(yield Q);else{Q=-1;for(let D of B)D=A(D,++Q,B),null!=D&&""!==D&&(D=+D)>=D&&(yield D)}}function ja(B,A){return null==B||null==A?NaN:B<A?-1:B>A?1:B>=A?0:NaN}function Za(B){return null===
B?NaN:+B}function*ub(B,A){if(void 0===A)for(var Q of B)null!=Q&&(Q=+Q)>=Q&&(yield Q);else{Q=-1;for(let D of B)null!=(D=A(D,++Q,B))&&(D=+D)>=D&&(yield D)}}function Wb(B=ja){if(B===ja)return ec;if("function"!==typeof B)throw new TypeError("compare is not a function");return(A,Q)=>{const D=B(A,Q);return D||0===D?D:(0===B(Q,Q))-(0===B(A,A))}}function ec(B,A){return(null==B||!(B>=B))-(null==A||!(A>=A))||(B<A?-1:B>A?1:0)}function Db(B,A){let Q;if(void 0===A)for(var D of B)null!=D&&(Q<D||void 0===Q&&D>=
D)&&(Q=D);else{D=-1;for(let E of B)null!=(E=A(E,++D,B))&&(Q<E||void 0===Q&&E>=E)&&(Q=E)}return Q}function yb(B,A){let Q;if(void 0===A)for(var D of B)null!=D&&(Q>D||void 0===Q&&D>=D)&&(Q=D);else{D=-1;for(let E of B)null!=(E=A(E,++D,B))&&(Q>E||void 0===Q&&E>=E)&&(Q=E)}return Q}function wb(B,A,Q=0,D=Infinity,E){A=Math.floor(A);Q=Math.floor(Math.max(0,Q));D=Math.floor(Math.min(B.length-1,D));if(!(Q<=A&&A<=D))return B;for(E=void 0===E?ec:Wb(E);D>Q;){if(600<D-Q){var I=D-Q+1,X=A-Q+1,Da=Math.log(I),S=.5*
Math.exp(2*Da/3);Da=.5*Math.sqrt(Da*S*(I-S)/I)*(0>X-I/2?-1:1);wb(B,A,Math.max(Q,Math.floor(A-X*S/I+Da)),Math.min(D,Math.floor(A+(I-X)*S/I+Da)),E)}I=B[A];X=Q;S=D;Qb(B,Q,A);for(0<E(B[D],I)&&Qb(B,Q,D);X<S;){Qb(B,X,S);++X;for(--S;0>E(B[X],I);)++X;for(;0<E(B[S],I);)--S}0===E(B[Q],I)?Qb(B,Q,S):(++S,Qb(B,S,D));S<=A&&(Q=S+1);A<=S&&(D=S-1)}return B}function Qb(B,A,Q){const D=B[A];B[A]=B[Q];B[Q]=D}function Yb(B,A,Q){B=Float64Array.from(ub(B,Q));if((Q=B.length)&&!isNaN(A=+A)){if(0>=A||2>Q)return yb(B);if(1<=
A)return Db(B);A*=Q-1;Q=Math.floor(A);var D=Db(wb(B,Q).subarray(0,Q+1));B=yb(B.subarray(Q+1));return D+(B-D)*(A-Q)}}function Ba(B,A,Q=Za){if((D=B.length)&&!isNaN(A=+A)){if(0>=A||2>D)return+Q(B[0],0,B);if(1<=A)return+Q(B[D-1],D-1,B);var D;A*=D-1;D=Math.floor(A);var E=+Q(B[D],D,B);B=+Q(B[D+1],D+1,B);return E+(B-E)*(A-D)}}function bb(B,A,Q){const D=Float64Array.from(l(B,Q));D.sort(ja);return A.map(E=>Ba(D,E))}function Ab(B,A){return bb(B,[.25,.5,.75],A)}function xb(B,A){const Q=B.length;{var D=0;let I,
X=0,Da=0;if(void 0===A)for(var E of B)null!=E&&(E=+E)>=E&&(I=E-X,X+=I/++D,Da+=I*(E-X));else{E=-1;for(let S of B)null!=(S=A(S,++E,B))&&(S=+S)>=S&&(I=S-X,X+=I/++D,Da+=I*(S-X))}D=1<D?Da/(D-1):void 0}D=D?Math.sqrt(D):D;B=Ab(B,A);return 1.06*(Math.min(D,(B[2]-B[0])/1.34)||D||Math.abs(B[0])||1)*Math.pow(Q,-.2)}function qb(B,A){const Q=B.length;let D=0,E=1,I,X;for(;B[D]===B[E];)++E;for(;E<Q;){for(I=E+1;B[E]===B[I];)++I;if(B[E]-B[E-1]<A){for(X=E+(D+I-E-E>>1);X<E;)B[X++]=B[E];for(;X>E;)B[X--]=B[D]}D=E;E=I}return B}
function Cb(B,A){B=B||0;A=null==A?1:A;let Q,D;if(x===x)Q=x,x=NaN;else{do{Q=2*u.random()-1;D=2*u.random()-1;var E=Q*Q+D*D}while(0===E||1<E);E=Math.sqrt(-2*Math.log(E)/E);Q*=E;x=D*E}return B+Q*A}function lb(B,A,Q){Q=null==Q?1:Q;B=(B-(A||0))/Q;return Math.exp(-.5*B*B)/(Q*F)}function mc(B,A,Q){B=(B-(A||0))/(null==Q?1:Q);A=Math.abs(B);37<A?Q=0:(Q=Math.exp(-A*A/2),7.07106781186547>A?(Q*=(((((.0352624965998911*A+.700383064443688)*A+6.37396220353165)*A+33.912866078383)*A+112.079291497871)*A+221.213596169931)*
A+220.206867912376,Q/=((((((.0883883476483184*A+1.75566716318264)*A+16.064177579207)*A+86.7807322029461)*A+296.564248779674)*A+637.333633378831)*A+793.826512519948)*A+440.413735824752):Q=Q/(A+1/(A+2/(A+3/(A+4/(A+.65)))))/2.506628274631);return 0<B?1-Q:Q}function ua(B,A,Q){if(0>B||1<B)return NaN;B=2*B-1;var D=-Math.log((1-B)*(1+B));6.25>D?(D-=3.125,D=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+
(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D):16>D?(D=Math.sqrt(D)-3.25,D=3.0838856104922208+(1.0052589676941592+
(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D):Number.isFinite(D)?(D=Math.sqrt(D)-5,D=4.849906401408584+(1.0103004648645344+
(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D):D=Infinity;return(A||0)+(null==Q?1:Q)*N*D*B}function ha(B,A){let Q,D;const E={mean(I){return arguments.length?(Q=
I||0,E):Q},stdev(I){return arguments.length?(D=null==I?1:I,E):D},sample:()=>Cb(Q,D),pdf:I=>lb(I,Q,D),cdf:I=>mc(I,Q,D),icdf:I=>ua(I,Q,D)};return E.mean(B).stdev(A)}function xa(B,A){A=null==A?1:A;return Math.exp((B||0)+Cb()*A)}function Sa(B,A,Q){if(0>=B)return 0;Q=null==Q?1:Q;A=(Math.log(B)-(A||0))/Q;return Math.exp(-.5*A*A)/(Q*F*B)}function Xa(B,A,Q){return mc(Math.log(B),A,Q)}function La(B,A,Q){return Math.exp(ua(B,A,Q))}function jb(B,A){null==A&&(A=null==B?1:B,B=0);return B+(A-B)*u.random()}function fb(B,
A,Q){null==Q&&(Q=null==A?1:A,A=0);return B>=A&&B<=Q?1/(Q-A):0}function vb(B,A,Q){null==Q&&(Q=null==A?1:A,A=0);return B<A?0:B>Q?1:(B-A)/(Q-A)}function Rb(B,A,Q){null==Q&&(Q=null==A?1:A,A=0);return 0<=B&&1>=B?A+B*(Q-A):NaN}function Na(B,A,Q){let D=0,E=0;for(const I of B)B=Q(I),null==A(I)||null==B||isNaN(B)||(D+=(B-D)/++E);return{coef:[D],predict:()=>D,rSquared:0}}function U(B,A,Q,D){D-=B*B;Q=1E-24>Math.abs(D)?0:(Q-B*A)/D;return[A-Q*B,Q]}function ea(B,A,Q,D){B=B.filter(Qa=>{let Ra=A(Qa);Qa=Q(Qa);return null!=
Ra&&(Ra=+Ra)>=Ra&&null!=Qa&&(Qa=+Qa)>=Qa});D&&B.sort((Qa,Ra)=>A(Qa)-A(Ra));D=B.length;const E=new Float64Array(D),I=new Float64Array(D);let X=0,Da=0,S=0,ia,Ca;for(Ca of B)E[X]=B=+A(Ca),I[X]=ia=+Q(Ca),++X,Da+=(B-Da)/X,S+=(ia-S)/X;for(X=0;X<D;++X)E[X]-=Da,I[X]-=S;return[E,I,Da,S]}function Ja(B,A,Q,D){let E=-1,I;for(const X of B)B=A(X),I=Q(X),null!=B&&(B=+B)>=B&&null!=I&&(I=+I)>=I&&D(B,I,++E)}function Z(B,A,Q,D,E){let I=0,X=0;Ja(B,A,Q,(Da,S)=>{Da=S-E(Da);S-=D;I+=Da*Da;X+=S*S});return 1-I/X}function Fa(B,
A,Q){let D=0,E=0,I=0,X=0,Da=0;Ja(B,A,Q,(Ca,Qa)=>{++Da;D+=(Ca-D)/Da;E+=(Qa-E)/Da;I+=(Ca*Qa-I)/Da;X+=(Ca*Ca-X)/Da});const S=U(D,E,I,X),ia=Ca=>S[0]+S[1]*Ca;return{coef:S,predict:ia,rSquared:Z(B,A,Q,E,ia)}}function ma(B,A,Q){const [D,E,I,X]=ea(B,A,Q);var Da=D.length,S=0;let ia=0;var Ca=0;let Qa=0,Ra=0,db,zb,kb,Vb;for(db=0;db<Da;)zb=D[db],kb=E[db++],Vb=zb*zb,S+=(Vb-S)/db,ia+=(Vb*zb-ia)/db,Ca+=(Vb*Vb-Ca)/db,Qa+=(zb*kb-Qa)/db,Ra+=(Vb*kb-Ra)/db;Da=Ca-S*S;Ca=S*Da-ia*ia;const Y=(Ra*S-Qa*ia)/Ca,Ha=(Qa*Da-Ra*
ia)/Ca,Ub=-Y*S;S=kc=>{kc-=I;return Y*kc*kc+Ha*kc+Ub+X};return{coef:[Ub-Ha*I+Y*I*I+X,Ha-2*Y*I,Y],predict:S,rSquared:Z(B,A,Q,X,S)}}function na(B,A,Q,D){const E=Array(B);let I,X,Da;for(I=0;I<B;++I)E[I]=0;for(I=B-1;0<=I;--I)for(X=A[I],Da=1,E[I]+=X,B=1;B<=I;++B)Da*=(I+1-B)/B,E[I-B]+=X*Math.pow(Q,B)*Da;E[0]+=D;return E}function n(B){const A=B.length-1,Q=[];let D,E,I,X,Da;for(D=0;D<A;++D){X=D;for(E=D+1;E<A;++E)Math.abs(B[D][E])>Math.abs(B[D][X])&&(X=E);for(I=D;I<A+1;++I)Da=B[I][D],B[I][D]=B[I][X],B[I][X]=
Da;for(E=D+1;E<A;++E)for(I=A;I>=D;I--)B[I][E]-=B[I][D]*B[D][E]/B[D][D]}for(E=A-1;0<=E;--E){Da=0;for(I=E+1;I<A;++I)Da+=B[I][E]*Q[I];Q[E]=(B[A][E]-Da)/B[E][E]}return Q}u.random=Math.random;const F=Math.sqrt(2*Math.PI),N=Math.SQRT2;let x=NaN;const T=.5*Math.PI/180;u.bandwidthNRD=xb;u.bin=function(B){var A=B.maxbins||20;const Q=B.base||10,D=Math.log(Q),E=B.divide||[5,2];let I=B.extent[0],X=B.extent[1];let Da,S,ia,Ca;const Qa=B.span||X-I||Math.abs(I)||1;if(B.step)var Ra=B.step;else if(B.steps){S=Qa/A;
ia=0;for(Ca=B.steps.length;ia<Ca&&B.steps[ia]<S;++ia);Ra=B.steps[Math.max(0,ia-1)]}else{Ra=Math.ceil(Math.log(A)/D);Da=B.minstep||0;for(Ra=Math.max(Da,Math.pow(Q,Math.round(Math.log(Qa)/D)-Ra));Math.ceil(Qa/Ra)>A;)Ra*=Q;ia=0;for(Ca=E.length;ia<Ca;++ia)S=Ra/E[ia],S>=Da&&Qa/S<=A&&(Ra=S)}S=Math.log(Ra);A=Math.pow(Q,-(0<=S?0:~~(-S/D)+1)-1);if(B.nice||void 0===B.nice)S=Math.floor(I/Ra+A)*Ra,I=I<S?S-Ra:S,X=Math.ceil(X/Ra)*Ra;return{start:I,stop:X===I?I+Ra:X,step:Ra}};u.bootstrapCI=function(B,A,Q,D){if(!B.length)return[void 0,
void 0];B=Float64Array.from(l(B,D));D=B.length;let E,I,X,Da;X=0;for(Da=Array(A);X<A;++X){for(I=E=0;I<D;++I)E+=B[~~(u.random()*D)];Da[X]=E/D}Da.sort(ja);return[Yb(Da,Q/2),Yb(Da,1-Q/2)]};u.cumulativeLogNormal=Xa;u.cumulativeNormal=mc;u.cumulativeUniform=vb;u.densityLogNormal=Sa;u.densityNormal=lb;u.densityUniform=fb;u.dotbin=function(B,A,Q,D){D=D||(Ra=>Ra);const E=B.length,I=new Float64Array(E);let X=0,Da=1,S=D(B[0]),ia=S,Ca=S+A,Qa;for(;Da<E;++Da){Qa=D(B[Da]);if(Qa>=Ca){for(ia=(S+ia)/2;X<Da;++X)I[X]=
ia;Ca=Qa+A;S=Qa}ia=Qa}for(ia=(S+ia)/2;X<Da;++X)I[X]=ia;return Q?qb(I,A+A/4):I};u.quantileLogNormal=La;u.quantileNormal=ua;u.quantileUniform=Rb;u.quantiles=bb;u.quartiles=Ab;u.randomInteger=function(B,A){null==A&&(A=B,B=0);let Q,D,E;const I={min(X){return arguments.length?(Q=X||0,E=D-Q,I):Q},max(X){return arguments.length?(D=X||0,E=D-Q,I):D},sample(){return Q+Math.floor(E*u.random())},pdf(X){return X===Math.floor(X)&&X>=Q&&X<D?1/E:0},cdf(X){X=Math.floor(X);return X<Q?0:X>=D?1:(X-Q+1)/E},icdf(X){return 0<=
X&&1>=X?Q-1+Math.floor(X*E):NaN}};return I.min(B).max(A)};u.randomKDE=function(B,A){const Q=ha();let D=0;const E={data(I){return arguments.length?(D=(B=I)?I.length:0,E.bandwidth(A)):B},bandwidth(I){if(!arguments.length)return A;A=I;!A&&B&&(A=xb(B));return E},sample(){return B[~~(u.random()*D)]+A*Q.sample()},pdf(I){let X=0,Da=0;for(;Da<D;++Da)X+=Q.pdf((I-B[Da])/A);return X/A/D},cdf(I){let X=0,Da=0;for(;Da<D;++Da)X+=Q.cdf((I-B[Da])/A);return X/D},icdf(){throw Error("KDE icdf not supported.");}};return E.data(B)};
u.randomLCG=function(B){return function(){B=(1103515245*B+12345)%2147483647;return B/2147483647}};u.randomLogNormal=function(B,A){let Q,D;const E={mean(I){return arguments.length?(Q=I||0,E):Q},stdev(I){return arguments.length?(D=null==I?1:I,E):D},sample:()=>xa(Q,D),pdf:I=>Sa(I,Q,D),cdf:I=>Xa(I,Q,D),icdf:I=>La(I,Q,D)};return E.mean(B).stdev(A)};u.randomMixture=function(B,A){let Q=0,D;const E={weights(I){if(arguments.length){var X=A=I||[];const Da=[];let S=0,ia;for(ia=0;ia<Q;++ia)S+=Da[ia]=null==X[ia]?
1:+X[ia];for(ia=0;ia<Q;++ia)Da[ia]/=S;D=Da;return E}return A},distributions(I){return arguments.length?(I?(Q=I.length,B=I):(Q=0,B=[]),E.weights(A)):B},sample(){const I=u.random();let X=B[Q-1],Da=D[0],S=0;for(;S<Q-1;Da+=D[++S])if(I<Da){X=B[S];break}return X.sample()},pdf(I){let X=0,Da=0;for(;Da<Q;++Da)X+=D[Da]*B[Da].pdf(I);return X},cdf(I){let X=0,Da=0;for(;Da<Q;++Da)X+=D[Da]*B[Da].cdf(I);return X},icdf(){throw Error("Mixture icdf not supported.");}};return E.distributions(B).weights(A)};u.randomNormal=
ha;u.randomUniform=function(B,A){let Q,D;const E={min(I){return arguments.length?(Q=I||0,E):Q},max(I){return arguments.length?(D=null==I?1:I,E):D},sample:()=>jb(Q,D),pdf:I=>fb(I,Q,D),cdf:I=>vb(I,Q,D),icdf:I=>Rb(I,Q,D)};null==A&&(A=null==B?1:B,B=0);return E.min(B).max(A)};u.regressionConstant=Na;u.regressionExp=function(B,A,Q){const [D,,E,I]=ea(B,A,Q);let X=0,Da=0,S=0,ia=0,Ca=0,Qa,Ra,db;Ja(B,A,Q,(Y,Ha)=>{Qa=D[Ca++];Ra=Math.log(Ha);db=Qa*Ha;X+=(Ha*Ra-X)/Ca;Da+=(db-Da)/Ca;S+=(db*Ra-S)/Ca;ia+=(Qa*db-
ia)/Ca});const [zb,kb]=U(Da/I,X/I,S/I,ia/I),Vb=Y=>Math.exp(zb+kb*(Y-E));return{coef:[Math.exp(zb-kb*E),kb],predict:Vb,rSquared:Z(B,A,Q,I,Vb)}};u.regressionLinear=Fa;u.regressionLoess=function(B,A,Q,D){const [E,I,X,Da]=ea(B,A,Q,!0);B=E.length;A=Math.max(2,~~(D*B));D=new Float64Array(B);Q=new Float64Array(B);var S=(new Float64Array(B)).fill(1);for(var ia=-1;2>=++ia;){var Ca=[0,A-1];for(let Ub=0;Ub<B;++Ub){var Qa=E[Ub],Ra=Ca[0],db=Ca[1],zb=0,kb=0,Vb=0,Y=0;let kc=0;const Zb=1/Math.abs(E[Qa-E[Ra]>E[db]-
Qa?Ra:db]-Qa||1);for(;Ra<=db;++Ra){const tc=E[Ra],Mc=I[Ra];var Ha=Math.abs(Qa-tc)*Zb;const ra=(Ha=1-Ha*Ha*Ha)*Ha*Ha*S[Ra];Ha=tc*ra;zb+=ra;kb+=Ha;Vb+=Mc*ra;Y+=Mc*Ha;kc+=tc*Ha}const [Pb,Nb]=U(kb/zb,Vb/zb,Y/zb,kc/zb);D[Ub]=Pb+Nb*Qa;Q[Ub]=Math.abs(I[Ub]-D[Ub]);Qa=E;db=Ub+1;zb=Ca;kb=Qa[db];Vb=zb[0];Y=zb[1]+1;if(!(Y>=Qa.length))for(;db>Vb&&Qa[Y]-kb<=kb-Qa[Vb];)zb[0]=++Vb,zb[1]=Y,++Y}if(2===ia)break;Ca=Yb(Q,.5,void 0);if(1E-12>Math.abs(Ca))break;for(let Ub=0,kc,Zb;Ub<B;++Ub)kc=Q[Ub]/(6*Ca),S[Ub]=1<=kc?1E-12:
(Zb=1-kc*kc)*Zb}B=E.length;A=[];S=Q=0;for(ia=[];Q<B;++Q)Ca=E[Q]+X,ia[0]===Ca?ia[1]+=(D[Q]-ia[1])/++S:(S=0,ia[1]+=Da,ia=[Ca,D[Q]],A.push(ia));ia[1]+=Da;return A};u.regressionLog=function(B,A,Q){let D=0,E=0,I=0,X=0,Da=0;Ja(B,A,Q,(Ca,Qa)=>{++Da;Ca=Math.log(Ca);D+=(Ca-D)/Da;E+=(Qa-E)/Da;I+=(Ca*Qa-I)/Da;X+=(Ca*Ca-X)/Da});const S=U(D,E,I,X),ia=Ca=>S[0]+S[1]*Math.log(Ca);return{coef:S,predict:ia,rSquared:Z(B,A,Q,E,ia)}};u.regressionPoly=function(B,A,Q,D){if(0===D)return Na(B,A,Q);if(1===D)return Fa(B,A,
Q);if(2===D)return ma(B,A,Q);const [E,I,X,Da]=ea(B,A,Q);var S=E.length;const ia=[],Ca=[],Qa=D+1;let Ra,db,zb,kb;for(Ra=0;Ra<Qa;++Ra){for(zb=db=0;db<S;++db)zb+=Math.pow(E[db],Ra)*I[db];ia.push(zb);kb=new Float64Array(Qa);for(D=0;D<Qa;++D){for(zb=db=0;db<S;++db)zb+=Math.pow(E[db],Ra+D);kb[D]=zb}Ca.push(kb)}Ca.push(ia);const Vb=n(Ca);S=Y=>{Y-=X;let Ha=Da+Vb[0]+Vb[1]*Y+Vb[2]*Y*Y;for(Ra=3;Ra<Qa;++Ra)Ha+=Vb[Ra]*Math.pow(Y,Ra);return Ha};return{coef:na(Qa,Vb,-X,Da),predict:S,rSquared:Z(B,A,Q,Da,S)}};u.regressionPow=
function(B,A,Q){let D=0,E=0,I=0,X=0,Da=0,S=0;Ja(B,A,Q,(Qa,Ra)=>{Qa=Math.log(Qa);const db=Math.log(Ra);++S;D+=(Qa-D)/S;E+=(db-E)/S;I+=(Qa*db-I)/S;X+=(Qa*Qa-X)/S;Da+=(Ra-Da)/S});const ia=U(D,E,I,X),Ca=Qa=>ia[0]*Math.pow(Qa,ia[1]);ia[0]=Math.exp(ia[0]);return{coef:ia,predict:Ca,rSquared:Z(B,A,Q,Da,Ca)}};u.regressionQuad=ma;u.sampleCurve=function(B,A,Q,D){Q=Q||25;D=Math.max(Q,D||200);var E=A[0],I=A[1],X=I-E,Da=X/D;A=[[E,B(E)]];var S=[];if(Q===D){for(var ia=1;ia<D;++ia){Da=A;S=Da.push;var Ca=E+ia/Q*X;
Ca=[Ca,B(Ca)];S.call(Da,Ca)}A.push([I,B(I)]);return A}S.push([I,B(I)]);for(ia=Q;0<--ia;)D=S,I=D.push,Ca=E+ia/Q*X,Ca=[Ca,B(Ca)],I.call(D,Ca);Q=A[0];E=S[S.length-1];X=1/X;D=I=Q[1];ia=S.length;for(Ca=0;Ca<ia;++Ca){const Qa=S[Ca][1];Qa<D&&(D=Qa);Qa>I&&(I=Qa)}for(D=1/(I-D);E;)I=(Q[0]+E[0])/2,I=[I,B(I)],I[0]-Q[0]>=Da&&Math.abs(Math.atan2(D*(E[1]-Q[1]),X*(E[0]-Q[0]))-Math.atan2(D*(I[1]-Q[1]),X*(I[0]-Q[0])))>T?S.push(I):(Q=E,A.push(E),S.pop()),E=S[S.length-1];return A};u.sampleLogNormal=xa;u.sampleNormal=
Cb;u.sampleUniform=jb;u.setRandom=function(B){u.random=B}})};
shadow$provide[34]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(24),nb(32),nb(33),nb(26)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,Za,ub){function Wb(z){return K=>{const va=z.length;let v=1,R=String(z[0](K));for(;v<va;++v)R+="|"+z[v](K);return R}}function ec(z){return z&&
z.length?1===z.length?z[0]:Wb(z):function(){return""}}function Db(z,K){return(va,v)=>l.extend({name:z,aggregate_param:v,out:va||z},Ob,K)}function yb(z,K){return z.idx-K.idx}function wb(z){const K={};z.forEach(v=>K[v.name]=v);const va=v=>{v.req&&v.req.forEach(R=>{K[R]||va(K[R]=vc[R]())})};z.forEach(va);return Object.values(K).sort(yb)}function Qb(){this.missing=this.valid=0;this._ops.forEach(z=>null==z.aggregate_param?z.init(this):z.init(this,z.aggregate_param))}function Yb(z,K){null==z||""===z?++this.missing:
z===z&&(++this.valid,this._ops.forEach(va=>va.add(this,z,K)))}function Ba(z,K){null==z||""===z?--this.missing:z===z&&(--this.valid,this._ops.forEach(va=>va.rem(this,z,K)))}function bb(z){this._out.forEach(K=>z[K.out]=K.value(this));return z}function Ab(z,K){function va(ca){this._ops=v;this._out=R;this.cell=ca;this.init()}K=K||l.identity;const v=wb(z),R=z.slice().sort(yb);va.prototype.init=Qb;va.prototype.add=Yb;va.prototype.rem=Ba;va.prototype.set=bb;va.prototype.get=K;va.fields=z.map(ca=>ca.out);
return va}function xb(z){this._key=z?l.field(z):ja.tupleid;this.reset()}function qb(z){ja.Transform.call(this,null,z);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Cb(z){ja.Transform.call(this,null,z)}function lb(z,K,va){let v=K||[],R=va||[],ca={},wa=0;return{add:pa=>R.push(pa),remove:pa=>ca[z(pa)]=++wa,size:()=>v.length,data:(pa,eb)=>
{wa&&(v=v.filter(Lb=>!ca[z(Lb)]),ca={},wa=0);eb&&pa&&v.sort(pa);R.length&&(v=pa?l.merge(pa,v,R.sort(pa)):v.concat(R),R=[]);return v}}}function mc(z){ja.Transform.call(this,[],z)}function ua(z){ja.Operator.call(this,null,ha,z)}function ha(z){return this.value&&!z.modified()?this.value:l.compare(z.fields,z.orders)}function xa(z){ja.Transform.call(this,null,z)}function Sa(z){ja.Transform.call(this,null,z)}function Xa(z,K){var va=z["function"];l.hasOwnProperty(id,va)||l.error("Unknown distribution function: "+
va);va=id[va]();for(const v in z)if("field"===v)va.data((z.from||K()).map(z[v]));else if("distributions"===v)va[v](z[v].map(R=>Xa(R,K)));else if("function"===typeof va[v])va[v](z[v]);return va}function La(z){ja.Transform.call(this,null,z)}function jb(z){return()=>z.materialize(z.SOURCE).source}function fb(z,K){return z?z.map((va,v)=>K[v]||l.accessorName(va)):null}function vb(z,K,va){const v=[],R=hc=>hc(eb);let ca,wa,pa,eb,Lb,$b;if(null==K)v.push(z.map(va));else for(ca={},wa=0,pa=z.length;wa<pa;++wa)eb=
z[wa],Lb=K.map(R),$b=ca[Lb],$b||(ca[Lb]=$b=[],$b.dims=Lb,v.push($b)),$b.push(va(eb));return v}function Rb(z){ja.Transform.call(this,null,z)}function Na(z){ja.Operator.call(this,null,U,z);this.modified(!0)}function U(z){const K=z.expr;return this.value&&!z.modified("expr")?this.value:l.accessor(va=>K(va,z),l.accessorFields(K),l.accessorName(K))}function ea(z){ja.Transform.call(this,[void 0,void 0],z)}function Ja(z,K){ja.Operator.call(this,z);this.parent=K;this.count=0}function Z(z){ja.Transform.call(this,
{},z);this._keys=l.fastmap();const K=this._targets=[];K.active=0;K.forEach=va=>{for(let v=0,R=K.active;v<R;++v)va(K[v],v,K)}}function Fa(z){ja.Operator.call(this,null,ma,z)}function ma(z){return this.value&&!z.modified()?this.value:l.isArray(z.name)?l.array(z.name).map(K=>l.field(K)):l.field(z.name,z.as)}function na(z){ja.Transform.call(this,l.fastmap(),z)}function n(z){ja.Transform.call(this,[],z)}function F(z){ja.Transform.call(this,[],z)}function N(z){ja.Transform.call(this,null,z)}function x(z){ja.Transform.call(this,
[],z)}function T(z,K){return null==z||null==K?NaN:z<K?-1:z>K?1:z>=K?0:NaN}function B(z,K){return null==z||null==K?NaN:K<z?-1:K>z?1:K>=z?0:NaN}function A(z){function K(ca,wa,pa=0,eb=ca.length){if(pa<eb){if(0!==va(wa,wa))return eb;do{const Lb=pa+eb>>>1;0>v(ca[Lb],wa)?pa=Lb+1:eb=Lb}while(pa<eb)}return pa}let va,v,R;2!==z.length?(va=T,v=(ca,wa)=>T(z(ca),wa),R=(ca,wa)=>z(ca)-wa):(va=z===T||z===B?z:Q,R=v=z);return{left:K,center:function(ca,wa,pa=0,eb=ca.length){eb=K(ca,wa,pa,eb-1);return eb>pa&&R(ca[eb-
1],wa)>-R(ca[eb],wa)?eb-1:eb},right:function(ca,wa,pa=0,eb=ca.length){if(pa<eb){if(0!==va(wa,wa))return eb;do{const Lb=pa+eb>>>1;0>=v(ca[Lb],wa)?pa=Lb+1:eb=Lb}while(pa<eb)}return pa}}}function Q(){return 0}function*D(z,K){if(void 0===K)for(var va of z)null!=va&&(va=+va)>=va&&(yield va);else{va=-1;for(let v of z)null!=(v=K(v,++va,z))&&(v=+v)>=v&&(yield v)}}function E(z=T){if(z===T)return I;if("function"!==typeof z)throw new TypeError("compare is not a function");return(K,va)=>{const v=z(K,va);return v||
0===v?v:(0===z(va,va))-(0===z(K,K))}}function I(z,K){return(null==z||!(z>=z))-(null==K||!(K>=K))||(z<K?-1:z>K?1:0)}function X(z,K){let va;if(void 0===K)for(var v of z)null!=v&&(va<v||void 0===va&&v>=v)&&(va=v);else{v=-1;for(let R of z)null!=(R=K(R,++v,z))&&(va<R||void 0===va&&R>=R)&&(va=R)}return va}function Da(z,K){let va;if(void 0===K)for(var v of z)null!=v&&(va>v||void 0===va&&v>=v)&&(va=v);else{v=-1;for(let R of z)null!=(R=K(R,++v,z))&&(va>R||void 0===va&&R>=R)&&(va=R)}return va}function S(z,
K,va=0,v=Infinity,R){K=Math.floor(K);va=Math.floor(Math.max(0,va));v=Math.floor(Math.min(z.length-1,v));if(!(va<=K&&K<=v))return z;for(R=void 0===R?I:E(R);v>va;){if(600<v-va){var ca=v-va+1,wa=K-va+1,pa=Math.log(ca),eb=.5*Math.exp(2*pa/3);pa=.5*Math.sqrt(pa*eb*(ca-eb)/ca)*(0>wa-ca/2?-1:1);S(z,K,Math.max(va,Math.floor(K-wa*eb/ca+pa)),Math.min(v,Math.floor(K+(ca-wa)*eb/ca+pa)),R)}ca=z[K];wa=va;eb=v;ia(z,va,K);for(0<R(z[v],ca)&&ia(z,va,v);wa<eb;){ia(z,wa,eb);++wa;for(--eb;0>R(z[wa],ca);)++wa;for(;0<R(z[eb],
ca);)--eb}0===R(z[va],ca)?ia(z,va,eb):(++eb,ia(z,eb,v));eb<=K&&(va=eb+1);K<=eb&&(v=eb-1)}return z}function ia(z,K,va){const v=z[K];z[K]=z[va];z[va]=v}function Ca(z,K,va){z=+z;K=+K;va=2>(R=arguments.length)?(K=z,z=0,1):3>R?1:+va;for(var v=-1,R=Math.max(0,Math.ceil((K-z)/va))|0,ca=Array(R);++v<R;)ca[v]=z+v*va;return ca}function Qa(z){ja.Transform.call(this,[],z)}function Ra(z){var K=z.method||Uc.value;if(null==Uc[K])l.error("Unrecognized imputation method: "+K);else{if(K===Uc.value){var va=void 0!==
z.value?z.value:0;return()=>va}return Uc[K]}}function db(z){const K=z.field;return va=>va?K(va):NaN}function zb(z,K,va,v){var R=md=>md(hc),ca=[];v=v?v.slice():[];var wa={},pa={},eb,Lb;v.forEach((md,td)=>wa[md]=td+1);var $b=0;for(Lb=z.length;$b<Lb;++$b){var hc=z[$b];var Ec=va(hc);var Pc=wa[Ec]||(wa[Ec]=v.push(Ec));var Nc=(Ec=K?K.map(R):kd)+"";(eb=pa[Nc])||(eb=pa[Nc]=[],ca.push(eb),eb.values=Ec);eb[Pc-1]=hc}ca.domain=v;return ca}function kb(z){qb.call(this,z)}function Vb(z){ja.Transform.call(this,null,
z)}function Y(z){ja.Operator.call(this,null,Ha,z)}function Ha(z){return this.value&&!z.modified()?this.value:l.key(z.fields,z.flat)}function Ub(z){ja.Transform.call(this,[],z);this._pending=null}function kc(z){return z.modified("async")&&!(z.modified("values")||z.modified("url")||z.modified("format"))}function Zb(z,K,va){va.forEach(ja.ingest);K=K.fork(K.NO_FIELDS&K.NO_SOURCE);K.rem=z.value;z.value=K.source=K.add=va;z._pending=null;K.rem.length&&K.clean(!0);return K}function Pb(z){ja.Transform.call(this,
{},z)}function Nb(z){ja.Operator.call(this,null,tc,z)}function tc(z){if(this.value&&!z.modified())return this.value;z=z.extents;const K=z.length;let va=Infinity,v=-Infinity,R,ca;for(R=0;R<K;++R)ca=z[R],ca[0]<va&&(va=ca[0]),ca[1]>v&&(v=ca[1]);return[va,v]}function Mc(z){ja.Operator.call(this,null,ra,z)}function ra(z){return this.value&&!z.modified()?this.value:z.values.reduce((K,va)=>K.concat(va),[])}function Hb(z){ja.Transform.call(this,null,z)}function Va(z){qb.call(this,z)}function Bb(z,K){const va=
z.field,v=z.value,R=("count"===z.op?"__count__":z.op)||"sum",ca=l.accessorFields(va).concat(l.accessorFields(v)),wa=Eb(va,z.limit||0,K);K.changed()&&z.set("__pivot__",null,null,!0);return{key:z.key,groupby:z.groupby,ops:wa.map(()=>R),fields:wa.map(pa=>Ib(pa,va,v,ca)),as:wa.map(pa=>pa+""),modified:z.modified.bind(z)}}function Ib(z,K,va,v){return l.accessor(R=>K(R)===z?va(R):NaN,v,z+"")}function Eb(z,K,va){const v={},R=[];va.visit(va.SOURCE,ca=>{ca=z(ca);v[ca]||(v[ca]=1,R.push(ca))});R.sort(l.ascending);
return K?R.slice(0,K):R}function Xb(z){Z.call(this,z)}function jc(z){ja.Transform.call(this,null,z)}function rc(z){ja.Transform.call(this,null,z)}function ad(z){ja.Transform.call(this,null,z)}function Lc(z){ja.Transform.call(this,null,z)}function oa(z){ja.Transform.call(this,[],z);this.count=0}function Ma(z){ja.Transform.call(this,null,z)}function ib(z){ja.Transform.call(this,null,z);this.modified(!0)}function V(z){ja.Transform.call(this,null,z)}function w(z){ja.Transform.call(this,l.fastmap(),z)}
function da(z){ja.Transform.call(this,null,z)}function Aa(z,K,va,v){const R=ed[z](K,va);return{init:R.init||l.zero,update:function(ca,wa){wa[v]=R.next(ca)}}}function Ia(z){function K(Nc){l.array(l.accessorFields(Nc)).forEach(md=>Lb[md]=1)}const va=l.array(z.ops),v=l.array(z.fields),R=l.array(z.params),ca=l.array(z.aggregate_params),wa=l.array(z.as),pa=this.outputs=[],eb=this.windows=[],Lb={},$b={},hc=[],Ec=[];let Pc=!0;K(z.sort);va.forEach((Nc,md)=>{const td=v[md];var yd=R[md];const Md=ca[md]||null,
Ad=l.accessorName(td);md=wa[md]||Nc+(Ad?"_"+Ad:"");K(td);pa.push(md);l.hasOwnProperty(ed,Nc)?eb.push(Aa(Nc,td,yd,md)):(null==td&&"count"!==Nc&&l.error("Null aggregate field specified."),"count"===Nc?hc.push(md):(Pc=!1,yd=$b[Ad],yd||(yd=$b[Ad]=[],yd.field=td,Ec.push(yd)),yd.push(vc[Nc](md,Md))))});if(hc.length||Ec.length)this.cell=Wa(Ec,hc,Pc);this.inputs=Object.keys(Lb)}function Wa(z,K,va){z=z.map(eb=>Ab(eb,eb.field));const v={num:0,agg:null,store:!1,count:K};if(!va)for(var R=z.length,ca=v.agg=Array(R),
wa=0;wa<R;++wa)ca[wa]=new z[wa](v);if(v.store)var pa=v.data=new xb;v.add=function(eb){v.num+=1;if(!va){pa&&pa.add(eb);for(let Lb=0;Lb<R;++Lb)ca[Lb].add(ca[Lb].get(eb),eb)}};v.rem=function(eb){--v.num;if(!va){pa&&pa.rem(eb);for(let Lb=0;Lb<R;++Lb)ca[Lb].rem(ca[Lb].get(eb),eb)}};v.set=function(eb){let Lb,$b;pa&&pa.values();Lb=0;for($b=K.length;Lb<$b;++Lb)eb[K[Lb]]=v.num;if(!va)for(Lb=0,$b=ca.length;Lb<$b;++Lb)ca[Lb].set(eb)};v.init=function(){v.num=0;pa&&pa.reset();for(let eb=0;eb<R;++eb)ca[eb].init()};
return v}function ob(z){ja.Transform.call(this,{},z);this._mlen=0;this._mods=[]}function Sb(z,K,va,v){var R=v.sort;const ca=R&&!v.ignorePeers;v=v.frame||[null,0];z=z.data(va);va=z.length;const wa=ca?A(R):null;R={i0:0,i1:0,p0:0,p1:0,index:0,data:z,compare:R||l.constant(-1)};K.init();for(let hc=0;hc<va;++hc){var pa=R,eb=v,Lb=hc,$b=va;pa.p0=pa.i0;pa.p1=pa.i1;pa.i0=null==eb[0]?0:Math.max(0,Lb-Math.abs(eb[0]));pa.i1=null==eb[1]?$b:Math.min($b,Lb+Math.abs(eb[1])+1);pa.index=Lb;if(ca){pa=R;eb=wa;Lb=pa.i0;
$b=pa.i1-1;const Ec=pa.compare,Pc=pa.data,Nc=Pc.length-1;0<Lb&&!Ec(Pc[Lb],Pc[Lb-1])&&(pa.i0=eb.left(Pc,Pc[Lb]));$b<Nc&&!Ec(Pc[$b],Pc[$b+1])&&(pa.i1=eb.right(Pc,Pc[$b]))}K.update(R,z[hc])}}const Gb=()=>{},Ob={init:Gb,add:Gb,rem:Gb,idx:0},vc={values:{init:z=>z.cell.store=!0,value:z=>z.cell.data.values(),idx:-1},count:{value:z=>z.cell.num},__count__:{value:z=>z.missing+z.valid},missing:{value:z=>z.missing},valid:{value:z=>z.valid},sum:{init:z=>z.sum=0,value:z=>z.valid?z.sum:void 0,add:(z,K)=>z.sum+=
+K,rem:(z,K)=>z.sum-=K},product:{init:z=>z.product=1,value:z=>z.valid?z.product:void 0,add:(z,K)=>z.product*=K,rem:(z,K)=>z.product/=K},mean:{init:z=>z.mean=0,value:z=>z.valid?z.mean:void 0,add:(z,K)=>(z.mean_d=K-z.mean,z.mean+=z.mean_d/z.valid),rem:(z,K)=>(z.mean_d=K-z.mean,z.mean-=z.valid?z.mean_d/z.valid:z.mean)},average:{value:z=>z.valid?z.mean:void 0,req:["mean"],idx:1},variance:{init:z=>z.dev=0,value:z=>1<z.valid?z.dev/(z.valid-1):void 0,add:(z,K)=>z.dev+=z.mean_d*(K-z.mean),rem:(z,K)=>z.dev-=
z.mean_d*(K-z.mean),req:["mean"],idx:1},variancep:{value:z=>1<z.valid?z.dev/z.valid:void 0,req:["variance"],idx:2},stdev:{value:z=>1<z.valid?Math.sqrt(z.dev/(z.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:z=>1<z.valid?Math.sqrt(z.dev/z.valid):void 0,req:["variance"],idx:2},stderr:{value:z=>1<z.valid?Math.sqrt(z.dev/(z.valid*(z.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:z=>z.cell.data.distinct(z.get),req:["values"],idx:3},ci0:{value:z=>z.cell.data.ci0(z.get),req:["values"],
idx:3},ci1:{value:z=>z.cell.data.ci1(z.get),req:["values"],idx:3},median:{value:z=>z.cell.data.q2(z.get),req:["values"],idx:3},q1:{value:z=>z.cell.data.q1(z.get),req:["values"],idx:3},q3:{value:z=>z.cell.data.q3(z.get),req:["values"],idx:3},min:{init:z=>z.min=void 0,value:z=>z.min=Number.isNaN(z.min)?z.cell.data.min(z.get):z.min,add:(z,K)=>{if(K<z.min||void 0===z.min)z.min=K},rem:(z,K)=>{K<=z.min&&(z.min=NaN)},req:["values"],idx:4},max:{init:z=>z.max=void 0,value:z=>z.max=Number.isNaN(z.max)?z.cell.data.max(z.get):
z.max,add:(z,K)=>{if(K>z.max||void 0===z.max)z.max=K},rem:(z,K)=>{K>=z.max&&(z.max=NaN)},req:["values"],idx:4},argmin:{init:z=>z.argmin=void 0,value:z=>z.argmin||z.cell.data.argmin(z.get),add:(z,K,va)=>{K<z.min&&(z.argmin=va)},rem:(z,K)=>{K<=z.min&&(z.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:z=>z.argmax=void 0,value:z=>z.argmax||z.cell.data.argmax(z.get),add:(z,K,va)=>{K>z.max&&(z.argmax=va)},rem:(z,K)=>{K>=z.max&&(z.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(z,
K)=>{z.exp=0;z.exp_r=K},value:z=>z.valid?z.exp*(1-z.exp_r)/(1-Math.pow(z.exp_r,z.valid)):void 0,add:(z,K)=>z.exp=z.exp_r*z.exp+K,rem:(z,K)=>z.exp=(z.exp-K/Math.pow(z.exp_r,z.valid-1))/z.exp_r},exponentialb:{value:z=>z.valid?z.exp*(1-z.exp_r):void 0,req:["exponential"],idx:1}},Bc=Object.keys(vc).filter(z=>"__count__"!==z);[...Bc,"__count__"].forEach(z=>{vc[z]=Db(z,vc[z])});const Ic=xb.prototype;Ic.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Ic.add=function(z){this._add.push(z)};
Ic.rem=function(z){this._rem.push(z)};Ic.values=function(){this._get=null;if(0===this._rem.length)return this._add;const z=this._add;var K=this._rem;const va=this._key,v=z.length,R=K.length,ca=Array(v-R),wa={};let pa,eb;for(pa=0;pa<R;++pa)wa[va(K[pa])]=1;for(K=pa=0;pa<v;++pa)wa[va(eb=z[pa])]?wa[va(eb)]=0:ca[K++]=eb;this._rem=[];return this._add=ca};Ic.distinct=function(z){const K=this.values(),va={};let v=K.length,R=0,ca;for(;0<=--v;)ca=z(K[v])+"",l.hasOwnProperty(va,ca)||(va[ca]=1,++R);return R};
Ic.extent=function(z){if(this._get!==z||!this._ext){const K=this.values(),va=l.extentIndex(K,z);this._ext=[K[va[0]],K[va[1]]];this._get=z}return this._ext};Ic.argmin=function(z){return this.extent(z)[0]||{}};Ic.argmax=function(z){return this.extent(z)[1]||{}};Ic.min=function(z){const K=this.extent(z)[0];return null!=K?z(K):void 0};Ic.max=function(z){const K=this.extent(z)[1];return null!=K?z(K):void 0};Ic.quartile=function(z){this._get===z&&this._q||(this._q=Za.quartiles(this.values(),z),this._get=
z);return this._q};Ic.q1=function(z){return this.quartile(z)[0]};Ic.q2=function(z){return this.quartile(z)[1]};Ic.q3=function(z){return this.quartile(z)[2]};Ic.ci=function(z){this._get===z&&this._ci||(this._ci=Za.bootstrapCI(this.values(),1E3,.05,z),this._get=z);return this._ci};Ic.ci0=function(z){return this.ci(z)[0]};Ic.ci1=function(z){return this.ci(z)[1]};qb.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,
values:Bc},{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};l.inherits(qb,ja.Transform,{transform(z,K){const va=this,v=K.fork(K.NO_SOURCE|K.NO_FIELDS),R=z.modified();va.stamp=v.stamp;va.value&&(R||K.modified(va._inputs,!0))?(va._prev=va.value,va.value=R?va.init(z):Object.create(null),
K.visit(K.SOURCE,ca=>va.add(ca))):(va.value=va.value||va.init(z),K.visit(K.REM,ca=>va.rem(ca)),K.visit(K.ADD,ca=>va.add(ca)));v.modifies(va._outputs);va._drop=!1!==z.drop;z.cross&&1<va._dims.length&&(va._drop=!1,va.cross());K.clean()&&va._drop&&v.clean(!0).runAfter(()=>this.clean());return va.changes(v)},cross(){function z(pa){let eb,Lb,$b,hc;for(eb in pa)for($b=pa[eb].tuple,Lb=0;Lb<wa;++Lb)ca[Lb][hc=$b[R[Lb]]]=hc}function K(pa,eb,Lb){const $b=R[Lb],hc=ca[Lb++];for(const Ec in hc){const Pc=pa?pa+
"|"+Ec:Ec;eb[$b]=hc[Ec];Lb<wa?K(Pc,eb,Lb):v[Pc]||va.cell(Pc,eb)}}const va=this,v=va.value,R=va._dnames,ca=R.map(()=>({})),wa=R.length;z(va._prev);z(v);K("",{},0)},init(z){function K(yd){yd=l.array(l.accessorFields(yd));const Md=yd.length;let Ad=0,je;for(;Ad<Md;++Ad)R[je=yd[Ad]]||(R[je]=1,va.push(je))}const va=this._inputs=[],v=this._outputs=[],R={};this._dims=l.array(z.groupby);this._dnames=this._dims.map(yd=>{const Md=l.accessorName(yd);K(yd);v.push(Md);return Md});this.cellkey=z.key?z.key:ec(this._dims);
this._countOnly=!0;this._counts=[];this._measures=[];const ca=z.fields||[null],wa=z.ops||["count"],pa=z.aggregate_params||[null];z=z.as||[];const eb=ca.length,Lb={};let $b,hc,Ec,Pc,Nc,md,td;eb!==wa.length&&l.error("Unmatched number of fields and aggregate ops.");for(td=0;td<eb;++td)$b=ca[td],hc=wa[td],Ec=pa[td]||null,null==$b&&"count"!==hc&&l.error("Null aggregate field specified."),Nc=l.accessorName($b),md=z[td]||hc+(Nc?"_"+Nc:""),v.push(md),"count"===hc?this._counts.push(md):(Pc=Lb[Nc],Pc||(K($b),
Pc=Lb[Nc]=[],Pc.field=$b,this._measures.push(Pc)),"count"!==hc&&(this._countOnly=!1),Pc.push(vc[hc](md,Ec)));this._measures=this._measures.map(yd=>Ab(yd,yd.field));return Object.create(null)},cellkey:ec(),cell(z,K){let va=this.value[z];va?0===va.num&&this._drop&&va.stamp<this.stamp?(va.stamp=this.stamp,this._adds[this._alen++]=va):va.stamp<this.stamp&&(va.stamp=this.stamp,this._mods[this._mlen++]=va):(va=this.value[z]=this.newcell(z,K),this._adds[this._alen++]=va);return va},newcell(z,K){z={key:z,
num:0,agg:null,tuple:this.newtuple(K,this._prev&&this._prev[z]),stamp:this.stamp,store:!1};if(!this._countOnly){K=this._measures;const va=K.length;z.agg=Array(va);for(let v=0;v<va;++v)z.agg[v]=new K[v](z)}z.store&&(z.data=new xb);return z},newtuple(z,K){const va=this._dnames,v=this._dims,R=v.length,ca={};for(let wa=0;wa<R;++wa)ca[va[wa]]=v[wa](z);return K?ja.replace(K.tuple,ca):ja.ingest(ca)},clean(){const z=this.value;for(const K in z)0===z[K].num&&delete z[K]},add(z){var K=this.cellkey(z);K=this.cell(K,
z);K.num+=1;if(!this._countOnly){K.store&&K.data.add(z);K=K.agg;for(let va=0,v=K.length;va<v;++va)K[va].add(K[va].get(z),z)}},rem(z){var K=this.cellkey(z);K=this.cell(K,z);--K.num;if(!this._countOnly){K.store&&K.data.rem(z);K=K.agg;for(let va=0,v=K.length;va<v;++va)K[va].rem(K[va].get(z),z)}},celltuple(z){const K=z.tuple,va=this._counts;z.store&&z.data.values();for(let v=0,R=va.length;v<R;++v)K[va[v]]=z.num;if(!this._countOnly){z=z.agg;for(let v=0,R=z.length;v<R;++v)z[v].set(K)}return K},changes(z){const K=
this._adds,va=this._mods;var v=this._prev;const R=this._drop,ca=z.add,wa=z.rem,pa=z.mod;let eb;var Lb;if(v)for(Lb in v)eb=v[Lb],R&&!eb.num||wa.push(eb.tuple);v=0;for(Lb=this._alen;v<Lb;++v)ca.push(this.celltuple(K[v])),K[v]=null;v=0;for(Lb=this._mlen;v<Lb;++v)eb=va[v],(0===eb.num&&R?wa:pa).push(this.celltuple(eb)),va[v]=null;this._alen=this._mlen=0;this._prev=null;return z}});Cb.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",
"default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0",
"bin1"]}]};l.inherits(Cb,ja.Transform,{transform(z,K){const va=!1!==z.interval,v=this._bins(z),R=v.start,ca=v.step,wa=z.as||["bin0","bin1"],pa=wa[0],eb=wa[1];z.modified()?(K=K.reflow(!0),z=K.SOURCE):z=K.modified(l.accessorFields(z.field))?K.ADD_MOD:K.ADD;K.visit(z,va?Lb=>{const $b=v(Lb);Lb[pa]=$b;Lb[eb]=null==$b?null:R+ca*(1+($b-R)/ca)}:Lb=>Lb[pa]=v(Lb));return K.modifies(va?wa:pa)},_bins(z){if(this.value&&!z.modified())return this.value;const K=z.field,va=Za.bin(z),v=va.step;let R=va.start,ca=R+
Math.ceil((va.stop-R)/v)*v;var wa;null!=(wa=z.anchor)&&(wa-=R+v*Math.floor((wa-R)/v),R+=wa,ca+=wa);wa=function(pa){pa=l.toNumber(K(pa));return null==pa?null:pa<R?-Infinity:pa>ca?Infinity:(pa=Math.max(R,Math.min(pa,ca-v)),R+v*Math.floor(1E-14+(pa-R)/v))};wa.start=R;wa.stop=va.stop;wa.step=v;return this.value=l.accessor(wa,l.accessorFields(K),z.name||"bin_"+l.accessorName(K))}});mc.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};l.inherits(mc,ja.Transform,{transform(z,
K){const va=K.fork(K.ALL),v=lb(ja.tupleid,this.value,va.materialize(va.ADD).add),R=z.sort;z=K.changed()||R&&(z.modified("sort")||K.modified(R.fields));va.visit(va.REM,v.remove);this.modified(z);this.value=va.source=v.data(ja.stableCompare(R),z);K.source&&K.source.root&&(this.value.root=K.source.root);return va}});l.inherits(ua,ja.Operator);xa.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper",
"lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};l.inherits(xa,ja.Transform,{transform(z,K){var va=$b=>hc=>{hc=pa(hc);var Ec=ca;switch(z.case){case "upper":hc=hc.toUpperCase();break;case "lower":hc=hc.toLowerCase()}hc=hc.match(Ec)||[];var Pc;Ec=0;for(var Nc=hc.length;Ec<Nc;++Ec)wa.test(Pc=hc[Ec])||$b(Pc)};const v=this._parameterCheck(z,K),R=this._counts,
ca=this._match,wa=this._stop,pa=z.field,eb=z.as||["text","count"],Lb=va($b=>R[$b]=1+(R[$b]||0));va=va($b=>--R[$b]);v?K.visit(K.SOURCE,Lb):(K.visit(K.ADD,Lb),K.visit(K.REM,va));return this._finish(K,eb)},_parameterCheck(z,K){let va=!1;if(z.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(z.stopwords||"")+"$","i"),va=!0;if(z.modified("pattern")||!this._match)this._match=new RegExp(z.pattern||"[\\w']+","g"),va=!0;if(z.modified("field")||K.modified(z.field.fields))va=!0;va&&(this._counts=
{});return va},_finish(z,K){const va=this._counts,v=this._tuples||(this._tuples={}),R=K[0],ca=K[1];z=z.fork(z.NO_SOURCE|z.NO_FIELDS);let wa,pa,eb;for(wa in va)pa=v[wa],eb=va[wa]||0,!pa&&eb?(v[wa]=pa=ja.ingest({}),pa[R]=wa,pa[ca]=eb,z.add.push(pa)):0===eb?(pa&&z.rem.push(pa),va[wa]=null,v[wa]=null):pa[ca]!==eb&&(pa[ca]=eb,z.mod.push(pa));return z.modifies(K)}});Sa.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a",
"b"]}]};l.inherits(Sa,ja.Transform,{transform(z,K){const va=K.fork(K.NO_SOURCE),v=z.as||["a","b"],R=v[0],ca=v[1];var wa=!this.value||K.changed(K.ADD_REM)||z.modified("as")||z.modified("filter"),pa=this.value;if(wa){pa&&(va.rem=pa);K=pa=K.materialize(K.SOURCE).source;z=z.filter||l.truthy;wa=[];pa={};for(var eb=K.length,Lb=0,$b,hc;Lb<eb;++Lb)for(pa[R]=hc=K[Lb],$b=0;$b<eb;++$b)pa[ca]=K[$b],z(pa)&&(wa.push(ja.ingest(pa)),pa={},pa[R]=hc);va.add=this.value=wa}else va.mod=pa;va.source=this.value;return va.modifies(v)}});
const id={kde:Za.randomKDE,mixture:Za.randomMixture,normal:Za.randomNormal,lognormal:Za.randomLogNormal,uniform:Za.randomUniform},dd=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},
params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];La.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:dd.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:dd},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(La,ja.Transform,{transform(z,K){const va=K.fork(K.NO_SOURCE|K.NO_FIELDS);if(!this.value||K.changed()||z.modified()){const v=Xa(z.distribution,jb(K));K=z.steps||z.minsteps||25;const R=z.steps||z.maxsteps||200;let ca=z.method||"pdf";"pdf"!==ca&&"cdf"!==ca&&l.error("Invalid density method: "+ca);z.extent||v.data||l.error("Missing density extent parameter.");
ca=v[ca];const wa=z.as||["value","density"];z=z.extent||l.extent(v.data());z=Za.sampleCurve(ca,z,K,R).map(pa=>{const eb={};eb[wa[0]]=pa[0];eb[wa[1]]=pa[1];return ja.ingest(eb)});this.value&&(va.rem=this.value);this.value=va.add=va.source=z}return va}});Rb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
l.inherits(Rb,ja.Transform,{transform(z,K){if(this.value&&!z.modified()&&!K.changed())return K;var va=K.materialize(K.SOURCE).source;const v=vb(K.source,z.groupby,l.identity),R=z.smooth||!1,ca=z.field;va=z.step||l.span(l.extent(va,ca))/30;const wa=ja.stableCompare((Ec,Pc)=>ca(Ec)-ca(Pc));z=z.as||"bin";const pa=v.length;let eb=Infinity,Lb=-Infinity,$b=0,hc;for(;$b<pa;++$b){const Ec=v[$b].sort(wa);hc=-1;for(const Pc of Za.dotbin(Ec,va,R,ca))Pc<eb&&(eb=Pc),Pc>Lb&&(Lb=Pc),Ec[++hc][z]=Pc}this.value={start:eb,
stop:Lb,step:va};return K.reflow(!0).modifies(z)}});l.inherits(Na,ja.Operator);ea.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};l.inherits(ea,ja.Transform,{transform(z,K){var va=this.value;const v=z.field;z=K.changed()||K.modified(v.fields)||z.modified("field");let R=va[0],ca=va[1];if(z||null==R)R=Infinity,ca=-Infinity;K.visit(z?K.SOURCE:K.ADD,wa=>{wa=l.toNumber(v(wa));null!=wa&&(wa<R&&(R=wa),wa>ca&&(ca=wa))});Number.isFinite(R)&&Number.isFinite(ca)||((va=
l.accessorName(v))&&(va=` for field "${va}"`),K.dataflow.warn(`Infinite extent${va}: [${R}, ${ca}]`),R=ca=void 0);this.value=[R,ca]}});l.inherits(Ja,ja.Operator,{connect(z){this.detachSubflow=z.detachSubflow;this.targets().add(z);return z.source=this},add(z){this.count+=1;this.value.add.push(z)},rem(z){--this.count;this.value.rem.push(z)},mod(z){this.value.mod.push(z)},init(z){this.value.init(z,z.NO_SOURCE)},evaluate(){return this.value}});l.inherits(Z,ja.Transform,{activate(z){this._targets[this._targets.active++]=
z},subflow(z,K,va,v){const R=this.value;let ca=l.hasOwnProperty(R,z)&&R[z],wa;ca?ca.value.stamp<va.stamp&&(ca.init(va),this.activate(ca)):(wa=v||(wa=this._group[z])&&wa.tuple,v=va.dataflow,ca=new Ja(va.fork(va.NO_SOURCE),this),v.add(ca).connect(K(v,z,wa)),R[z]=ca,this.activate(ca));return ca},clean(){var z=this.value;let K=0;for(const va in z)if(0===z[va].count){const v=z[va].detachSubflow;v&&v();delete z[va];++K}K&&(z=this._targets.filter(va=>va&&0<va.count),this.initTargets(z))},initTargets(z){const K=
this._targets,va=K.length,v=z?z.length:0;let R=0;for(;R<v;++R)K[R]=z[R];for(;R<va&&null!=K[R];++R)K[R]=null;K.active=v},transform(z,K){const va=K.dataflow,v=z.key,R=z.subflow,ca=this._keys,wa=z.modified("key"),pa=eb=>this.subflow(eb,R,K);this._group=z.group||{};this.initTargets();K.visit(K.REM,eb=>{const Lb=ja.tupleid(eb),$b=ca.get(Lb);void 0!==$b&&(ca.delete(Lb),pa($b).rem(eb))});K.visit(K.ADD,eb=>{const Lb=v(eb);ca.set(ja.tupleid(eb),Lb);pa(Lb).add(eb)});wa||K.modified(v.fields)?K.visit(K.MOD,eb=>
{const Lb=ja.tupleid(eb),$b=ca.get(Lb),hc=v(eb);$b===hc?pa(hc).mod(eb):(ca.set(Lb,hc),pa($b).rem(eb),pa(hc).add(eb))}):K.changed(K.MOD)&&K.visit(K.MOD,eb=>{pa(ca.get(ja.tupleid(eb))).mod(eb)});wa&&K.visit(K.REFLOW,eb=>{const Lb=ja.tupleid(eb),$b=ca.get(Lb),hc=v(eb);$b!==hc&&(ca.set(Lb,hc),pa($b).rem(eb),pa(hc).add(eb))});K.clean()?va.runAfter(()=>{this.clean();ca.clean()}):ca.empty>va.cleanThreshold&&va.runAfter(ca.clean);return K}});l.inherits(Fa,ja.Operator);na.Definition={type:"Filter",metadata:{changes:!0},
params:[{name:"expr",type:"expr",required:!0}]};l.inherits(na,ja.Transform,{transform(z,K){function va(hc){const Ec=ja.tupleid(hc),Pc=Lb(hc,z),Nc=R.get(Ec);Pc&&Nc?(R.delete(Ec),wa.push(hc)):Pc||Nc?$b&&Pc&&!Nc&&eb.push(hc):(R.set(Ec,1),pa.push(hc))}const v=K.dataflow,R=this.value,ca=K.fork(),wa=ca.add,pa=ca.rem,eb=ca.mod,Lb=z.expr;let $b=!0;K.visit(K.REM,hc=>{const Ec=ja.tupleid(hc);R.has(Ec)?R.delete(Ec):pa.push(hc)});K.visit(K.ADD,hc=>{Lb(hc,z)?wa.push(hc):R.set(ja.tupleid(hc),1)});K.visit(K.MOD,
va);z.modified()&&($b=!1,K.visit(K.REFLOW,va));R.empty>v.cleanThreshold&&v.runAfter(R.clean);return ca}});n.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};l.inherits(n,ja.Transform,{transform(z,K){const va=K.fork(K.NO_SOURCE),v=z.fields,R=fb(v,z.as||[]),ca=z.index||null,wa=R.length;va.rem=this.value;K.visit(K.SOURCE,pa=>{const eb=v.map(Nc=>Nc(pa)),Lb=eb.reduce((Nc,md)=>Math.max(Nc,
md.length),0);let $b=0,hc,Ec,Pc;for(;$b<Lb;++$b){Ec=ja.derive(pa);for(hc=0;hc<wa;++hc)Ec[R[hc]]=null==(Pc=eb[hc][$b])?null:Pc;ca&&(Ec[ca]=$b);va.add.push(Ec)}});this.value=va.source=va.add;ca&&va.modifies(ca);return va.modifies(R)}});F.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};l.inherits(F,ja.Transform,{transform(z,K){const va=K.fork(K.NO_SOURCE),v=z.fields,R=v.map(l.accessorName);
z=z.as||["key","value"];const ca=z[0],wa=z[1],pa=v.length;va.rem=this.value;K.visit(K.SOURCE,eb=>{for(let Lb=0,$b;Lb<pa;++Lb)$b=ja.derive(eb),$b[ca]=R[Lb],$b[wa]=v[Lb](eb),va.add.push($b)});this.value=va.source=va.add;return va.modifies(z)}});N.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};l.inherits(N,ja.Transform,{transform(z,K){const va=z.expr,v=z.as,R=z.modified(),ca=z.initonly?
K.ADD:R?K.SOURCE:K.modified(va.fields)||K.modified(v)?K.ADD_MOD:K.ADD;R&&(K=K.materialize().reflow(!0));z.initonly||K.modifies(v);return K.visit(ca,wa=>wa[v]=va(wa,z))}});l.inherits(x,ja.Transform,{transform(z,K){K=K.fork(K.ALL);const va=z.generator;let v=this.value,R=z.size-v.length,ca,wa;if(0<R){for(ca=[];0<=--R;)ca.push(wa=ja.ingest(va(z))),v.push(wa);K.add=K.add.length?K.materialize(K.ADD).add.concat(ca):ca}else z=v.slice(0,-R),K.rem=K.rem.length?K.materialize(K.REM).rem.concat(z):z,v=v.slice(-R);
K.source=this.value=v;return K}});const Uc={value:"value",median:function(z,K){var va=.5;z=Float64Array.from(D(z,K));if((K=z.length)&&!isNaN(va=+va))if(0>=va||2>K)z=Da(z);else if(1<=va)z=X(z);else{va*=K-1;K=Math.floor(va);var v=X(S(z,K).subarray(0,K+1));z=Da(z.subarray(K+1));z=v+(z-v)*(va-K)}else z=void 0;return z},mean:function(z,K){let va=0,v=0;if(void 0===K)for(var R of z)null!=R&&(R=+R)>=R&&(++va,v+=R);else{R=-1;for(let ca of z)null!=(ca=K(ca,++R,z))&&(ca=+ca)>=ca&&(++va,v+=ca)}if(va)return v/
va},min:Da,max:X},kd=[];Qa.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};l.inherits(Qa,ja.Transform,{transform(z,K){var va=K.fork(K.ALL),v=Ra(z),R=db(z),ca=l.accessorName(z.field),wa=l.accessorName(z.key),pa=(z.groupby||[]).map(l.accessorName);
z=zb(K.source,z.groupby,z.key,z.keyvals);K=[];var eb=this.value,Lb=z.domain.length,$b,hc,Ec;var Pc=0;for(hc=z.length;Pc<hc;++Pc){var Nc=z[Pc];var md=Nc.values;var td=NaN;for($b=0;$b<Lb;++$b)if(null==Nc[$b]){var yd=z.domain[$b];var Md={_impute:!0};var Ad=0;for(Ec=md.length;Ad<Ec;++Ad)Md[pa[Ad]]=md[Ad];Md[wa]=yd;Md[ca]=Number.isNaN(td)?td=v(Nc,R):td;K.push(ja.ingest(Md))}}K.length&&(va.add=va.materialize(va.ADD).add.concat(K));eb.length&&(va.rem=va.materialize(va.REM).rem.concat(eb));this.value=K;return va}});
kb.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Bc},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};l.inherits(kb,qb,{transform(z,K){const va=this,v=z.modified();let R;va.value&&(v||K.modified(va._inputs,!0))?(R=va.value=v?va.init(z):{},K.visit(K.SOURCE,ca=>va.add(ca))):(R=va.value=va.value||this.init(z),K.visit(K.REM,ca=>va.rem(ca)),
K.visit(K.ADD,ca=>va.add(ca)));va.changes();K.visit(K.SOURCE,ca=>{l.extend(ca,R[va.cellkey(ca)].tuple)});return K.reflow(v).modifies(this._outputs)},changes(){const z=this._adds,K=this._mods;let va,v;va=0;for(v=this._alen;va<v;++va)this.celltuple(z[va]),z[va]=null;va=0;for(v=this._mlen;va<v;++va)this.celltuple(K[va]),K[va]=null;this._alen=this._mlen=0}});Vb.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",
type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(Vb,ja.Transform,{transform(z,K){const va=K.fork(K.NO_SOURCE|
K.NO_FIELDS);if(!this.value||K.changed()||z.modified()){K=K.materialize(K.SOURCE).source;const v=vb(K,z.groupby,z.field),R=(z.groupby||[]).map(l.accessorName),ca=z.bandwidth,wa=z.cumulative?"cdf":"pdf",pa=z.as||["value","density"],eb=[];let Lb=z.extent,$b=z.steps||z.minsteps||25,hc=z.steps||z.maxsteps||200;"pdf"!==wa&&"cdf"!==wa&&l.error("Invalid density method: "+wa);"shared"===z.resolve&&(Lb||(Lb=l.extent(K,z.field)),$b=hc=z.steps||hc);v.forEach(Ec=>{const Pc=Za.randomKDE(Ec,ca)[wa],Nc=z.counts?
Ec.length:1,md=Lb||l.extent(Ec);Za.sampleCurve(Pc,md,$b,hc).forEach(td=>{const yd={};for(let Md=0;Md<R.length;++Md)yd[R[Md]]=Ec.dims[Md];yd[pa[0]]=td[0];yd[pa[1]]=td[1]*Nc;eb.push(ja.ingest(yd))})});this.value&&(va.rem=this.value);this.value=va.add=va.source=eb}return va}});l.inherits(Y,ja.Operator);l.inherits(Ub,ja.Transform,{transform(z,K){const va=K.dataflow;return this._pending?Zb(this,K,this._pending):kc(z)?K.StopPropagation:z.values?Zb(this,K,va.parse(z.values,z.format)):z.async?{async:va.request(z.url,
z.format).then(v=>{this._pending=l.array(v.data);return R=>R.touch(this)})}:va.request(z.url,z.format).then(v=>Zb(this,K,l.array(v.data)))}});Pb.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};l.inherits(Pb,ja.Transform,{transform(z,
K){const va=z.fields,v=z.index,R=z.values,ca=null==z.default?null:z.default;var wa=z.modified();const pa=va.length;let eb=wa?K.SOURCE:K.ADD,Lb=K,$b=z.as,hc;R?(hc=R.length,1<pa&&!$b&&l.error('Multi-field lookup requires explicit "as" parameter.'),$b&&$b.length!==pa*hc&&l.error('The "as" parameter has too few output field names.'),$b=$b||R.map(l.accessorName),z=function(Ec){for(var Pc=0,Nc=0,md,td;Pc<pa;++Pc)if(td=v.get(va[Pc](Ec)),null==td)for(md=0;md<hc;++md,++Nc)Ec[$b[Nc]]=ca;else for(md=0;md<hc;++md,
++Nc)Ec[$b[Nc]]=R[md](td)}):($b||l.error("Missing output field names."),z=function(Ec){for(var Pc=0,Nc;Pc<pa;++Pc)Nc=v.get(va[Pc](Ec)),Ec[$b[Pc]]=null==Nc?ca:Nc});wa?Lb=K.reflow(!0):(wa=va.some(Ec=>K.modified(Ec.fields)),eb|=wa?K.MOD:0);K.visit(eb,z);return Lb.modifies($b)}});l.inherits(Nb,ja.Operator);l.inherits(Mc,ja.Operator);l.inherits(Hb,ja.Transform,{transform(z,K){this.modified(z.modified());this.value=z;return K.fork(K.NO_SOURCE|K.NO_FIELDS)}});Va.Definition={type:"Pivot",metadata:{generates:!0,
changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Bc,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};l.inherits(Va,qb,{_transform:qb.prototype.transform,transform(z,K){return this._transform(Bb(z,K),K)}});l.inherits(Xb,Z,{transform(z,K){const va=z.subflow,v=z.field,R=ca=>this.subflow(ja.tupleid(ca),va,K,ca);(z.modified("field")||v&&K.modified(l.accessorFields(v)))&&
l.error("PreFacet does not support field modification.");this.initTargets();v?(K.visit(K.MOD,ca=>{const wa=R(ca);v(ca).forEach(pa=>wa.mod(pa))}),K.visit(K.ADD,ca=>{const wa=R(ca);v(ca).forEach(pa=>wa.add(ja.ingest(pa)))}),K.visit(K.REM,ca=>{const wa=R(ca);v(ca).forEach(pa=>wa.rem(pa))})):(K.visit(K.MOD,ca=>R(ca).mod(ca)),K.visit(K.ADD,ca=>R(ca).add(ca)),K.visit(K.REM,ca=>R(ca).rem(ca)));K.clean()&&K.runAfter(()=>this.clean());return K}});jc.Definition={type:"Project",metadata:{generates:!0,changes:!0},
params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};l.inherits(jc,ja.Transform,{transform(z,K){const va=K.fork(K.NO_SOURCE),v=z.fields,R=fb(z.fields,z.as||[]),ca=v?(pa,eb)=>{for(let Lb=0,$b=v.length;Lb<$b;++Lb)eb[R[Lb]]=v[Lb](pa);return eb}:ja.rederive;let wa;this.value?wa=this.value:(K=K.addAll(),wa=this.value={});K.visit(K.REM,pa=>{pa=ja.tupleid(pa);va.rem.push(wa[pa]);wa[pa]=null});K.visit(K.ADD,pa=>{const eb=ca(pa,ja.ingest({}));wa[ja.tupleid(pa)]=eb;va.add.push(eb)});
K.visit(K.MOD,pa=>{va.mod.push(ca(pa,wa[ja.tupleid(pa)]))});return va}});l.inherits(rc,ja.Transform,{transform(z,K){this.value=z.value;return z.modified("value")?K.fork(K.NO_SOURCE|K.NO_FIELDS):K.StopPropagation}});ad.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};
l.inherits(ad,ja.Transform,{transform(z,K){const va=K.fork(K.NO_SOURCE|K.NO_FIELDS),v=z.as||["prob","value"];if(this.value&&!z.modified()&&!K.changed())return va.source=this.value,va;K=K.materialize(K.SOURCE).source;K=vb(K,z.groupby,z.field);const R=(z.groupby||[]).map(l.accessorName),ca=[],wa=z.step||.01,pa=z.probs||Ca(wa/2,1-1E-14,wa),eb=pa.length;K.forEach(Lb=>{const $b=Za.quantiles(Lb,pa);for(let hc=0;hc<eb;++hc){const Ec={};for(let Pc=0;Pc<R.length;++Pc)Ec[R[Pc]]=Lb.dims[Pc];Ec[v[0]]=pa[hc];
Ec[v[1]]=$b[hc];ca.push(ja.ingest(Ec))}});this.value&&(va.rem=this.value);this.value=va.add=va.source=ca;return va}});l.inherits(Lc,ja.Transform,{transform(z,K){let va,v;this.value?v=this.value:(va=K=K.addAll(),v=this.value={});z.derive&&(va=K.fork(K.NO_SOURCE),K.visit(K.REM,R=>{R=ja.tupleid(R);va.rem.push(v[R]);v[R]=null}),K.visit(K.ADD,R=>{const ca=ja.derive(R);v[ja.tupleid(R)]=ca;va.add.push(ca)}),K.visit(K.MOD,R=>{const ca=v[ja.tupleid(R)];for(const wa in R)ca[wa]=R[wa],va.modifies(wa);va.mod.push(ca)}));
return va}});oa.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};l.inherits(oa,ja.Transform,{transform(z,K){function va($b){let hc,Ec;pa.length<ca?pa.push($b):(Ec=~~((eb+1)*Za.random()),Ec<pa.length&&Ec>=Lb&&(hc=pa[Ec],wa[ja.tupleid(hc)]&&v.rem.push(hc),pa[Ec]=$b));++eb}const v=K.fork(K.NO_SOURCE);var R=z.modified("size");const ca=z.size,wa=this.value.reduce(($b,hc)=>($b[ja.tupleid(hc)]=1,$b),{});let pa=this.value,eb=this.count,Lb=0;K.rem.length&&(K.visit(K.REM,
$b=>{const hc=ja.tupleid($b);wa[hc]&&(wa[hc]=-1,v.rem.push($b));--eb}),pa=pa.filter($b=>-1!==wa[ja.tupleid($b)]));(K.rem.length||R)&&pa.length<ca&&K.source&&(Lb=eb=pa.length,K.visit(K.SOURCE,$b=>{wa[ja.tupleid($b)]||va($b)}),Lb=-1);if(R&&pa.length>ca){z=pa.length-ca;for(R=0;R<z;++R)wa[ja.tupleid(pa[R])]=-1,v.rem.push(pa[R]);pa=pa.slice(z)}K.mod.length&&K.visit(K.MOD,$b=>{wa[ja.tupleid($b)]&&v.mod.push($b)});K.add.length&&K.visit(K.ADD,va);if(K.add.length||0>Lb)v.add=pa.filter($b=>!wa[ja.tupleid($b)]);
this.count=eb;this.value=v.source=pa;return v}});Ma.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};l.inherits(Ma,ja.Transform,{transform(z,K){if(!this.value||z.modified()){var va=K.materialize().fork(K.MOD),v=z.as||"data";va.rem=this.value?K.rem.concat(this.value):K.rem;this.value=Ca(z.start,z.stop,z.step||1).map(R=>
{const ca={};ca[v]=R;return ja.ingest(ca)});va.add=K.add.concat(this.value);return va}}});l.inherits(ib,ja.Transform,{transform(z,K){this.value=K.source;return K.changed()?K.fork(K.NO_SOURCE|K.NO_FIELDS):K.StopPropagation}});const ld=["unit0","unit1"];V.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:ub.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",
type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":ld}]};l.inherits(V,ja.Transform,{transform(z,K){const va=z.field,v=!1!==z.interval;var R="utc"===z.timezone;const ca=this._floor(z,K),wa=(R?ub.utcInterval:ub.timeInterval)(ca.unit).offset;R=z.as||ld;const pa=R[0],eb=R[1],Lb=ca.step;let $b=ca.start||Infinity,hc=ca.stop||-Infinity,Ec=K.ADD;if(z.modified()||K.changed(K.REM)||
K.modified(l.accessorFields(va)))K=K.reflow(!0),Ec=K.SOURCE,$b=Infinity,hc=-Infinity;K.visit(Ec,Pc=>{var Nc=va(Pc);let md;null==Nc?(Pc[pa]=null,v&&(Pc[eb]=null)):(Pc[pa]=Nc=md=ca(Nc),v&&(Pc[eb]=md=wa(Nc,Lb)),Nc<$b&&($b=Nc),md>hc&&(hc=md))});ca.start=$b;ca.stop=hc;return K.modifies(v?R:pa)},_floor(z,K){var va="utc"===z.timezone;const {units:v,step:R}=z.units?{units:z.units,step:z.step||1}:ub.timeBin({extent:z.extent||l.extent(K.materialize(K.SOURCE).source,z.field),maxbins:z.maxbins});z=ub.timeUnits(v);
K=this.value||{};va=(va?ub.utcFloor:ub.timeFloor)(z,R);va.unit=l.peek(z);va.units=z;va.step=R;va.start=K.start;va.stop=K.stop;return this.value=va}});l.inherits(w,ja.Transform,{transform(z,K){const va=K.dataflow,v=z.field,R=this.value,ca=pa=>R.set(v(pa),pa);let wa=!0;z.modified("field")||K.modified(v.fields)?(R.clear(),K.visit(K.SOURCE,ca)):K.changed()?(K.visit(K.REM,pa=>R.delete(v(pa))),K.visit(K.ADD,ca)):wa=!1;this.modified(wa);R.empty>va.cleanThreshold&&va.runAfter(R.clean);return K.fork()}});
l.inherits(da,ja.Transform,{transform(z,K){if(!this.value||z.modified("field")||z.modified("sort")||K.changed()||z.sort&&K.modified(z.sort.fields))this.value=(z.sort?K.source.slice().sort(ja.stableCompare(z.sort)):K.source).map(z.field)}});const ed={row_number:function(){return{next:z=>z.index+1}},rank:function(){let z;return{init:()=>z=1,next:K=>{const va=K.index,v=K.data;return va&&K.compare(v[va-1],v[va])?z=va+1:z}}},dense_rank:function(){let z;return{init:()=>z=1,next:K=>{const va=K.index,v=K.data;
return va&&K.compare(v[va-1],v[va])?++z:z}}},percent_rank:function(){const z=ed.rank(),K=z.next;return{init:z.init,next:va=>(K(va)-1)/(va.data.length-1)}},cume_dist:function(){let z;return{init:()=>z=0,next:K=>{const va=K.data,v=K.compare;K=K.index;if(z<K){for(;K+1<va.length&&!v(va[K],va[K+1]);)++K;z=K}return(1+z)/va.length}}},ntile:function(z,K){K=+K;0<K||l.error("ntile num must be greater than zero.");z=ed.cume_dist();const va=z.next;return{init:z.init,next:v=>Math.ceil(K*va(v))}},lag:function(z,
K){K=+K||1;return{next:va=>{const v=va.index-K;return 0<=v?z(va.data[v]):null}}},lead:function(z,K){K=+K||1;return{next:va=>{const v=va.index+K;va=va.data;return v<va.length?z(va[v]):null}}},first_value:function(z){return{next:K=>z(K.data[K.i0])}},last_value:function(z){return{next:K=>z(K.data[K.i1-1])}},nth_value:function(z,K){K=+K;0<K||l.error("nth_value nth must be greater than zero.");return{next:va=>{const v=va.i0+(K-1);return v<va.i1?z(va.data[v]):null}}},prev_value:function(z){let K;return{init:()=>
K=null,next:va=>{va=z(va.data[va.index]);return null!=va?K=va:K}}},next_value:function(z){let K,va;return{init:()=>(K=null,va=-1),next:v=>{var R=v.data;if(v.index<=va)R=K;else{a:{v=v.index;for(let ca=R.length;v<ca;++v)if(null!=z(R[v]))break a;v=-1}R=0>(va=v)?(va=R.length,K=null):K=z(R[va])}return R}}}},ge=Object.keys(ed),gd=Ia.prototype;gd.init=function(){this.windows.forEach(z=>z.init());this.cell&&this.cell.init()};gd.update=function(z,K){const va=this.cell,v=this.windows,R=z.data,ca=v&&v.length;
let wa;if(va){for(wa=z.p0;wa<z.i0;++wa)va.rem(R[wa]);for(wa=z.p1;wa<z.i1;++wa)va.add(R[wa]);va.set(K)}for(wa=0;wa<ca;++wa)v[wa].update(z,K)};ob.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ge.concat(Bc)},{name:"params",type:"number","null":!0,array:!0},{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string",
"null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};l.inherits(ob,ja.Transform,{transform(z,K){this.stamp=K.stamp;const va=z.modified(),v=ja.stableCompare(z.sort),R=ec(z.groupby),ca=pa=>this.group(R(pa));let wa=this.state;if(!wa||va)wa=this.state=new Ia(z);va||K.modified(wa.inputs)?(this.value={},K.visit(K.SOURCE,pa=>ca(pa).add(pa))):(K.visit(K.REM,pa=>ca(pa).remove(pa)),K.visit(K.ADD,pa=>ca(pa).add(pa)));
for(let pa=0,eb=this._mlen;pa<eb;++pa)Sb(this._mods[pa],wa,v,z);this._mlen=0;this._mods=[];return K.reflow(va).modifies(wa.outputs)},group(z){let K=this.value[z];K||(K=this.value[z]=lb(ja.tupleid),K.stamp=-1);K.stamp<this.stamp&&(K.stamp=this.stamp,this._mods[this._mlen++]=K);return K}});u.aggregate=qb;u.bin=Cb;u.collect=mc;u.compare=ua;u.countpattern=xa;u.cross=Sa;u.density=La;u.dotbin=Rb;u.expression=Na;u.extent=ea;u.facet=Z;u.field=Fa;u.filter=na;u.flatten=n;u.fold=F;u.formula=N;u.generate=x;u.impute=
Qa;u.joinaggregate=kb;u.kde=Vb;u.key=Y;u.load=Ub;u.lookup=Pb;u.multiextent=Nb;u.multivalues=Mc;u.params=Hb;u.pivot=Va;u.prefacet=Xb;u.project=jc;u.proxy=rc;u.quantile=ad;u.relay=Lc;u.sample=oa;u.sequence=Ma;u.sieve=ib;u.subflow=Ja;u.timeunit=V;u.tupleindex=w;u.values=da;u.window=ob})};
shadow$provide[35]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya):"function"===typeof define&&define.amd?define(["exports"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={}))})(this,function(u){function l(ja,Za){if("undefined"!==typeof document&&document.createElement){const ub=document.createElement("canvas");if(ub&&ub.getContext)return ub.width=ja,ub.height=Za,ub}return null}u.canvas=l;u.domCanvas=l;u.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[36]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(24),nb(26)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega))})(this,function(u,l,ja){function Za(q,H,O){H=q-H+2*O;return q?0<H?H:1:0}function ub(q){return function(H){let O=H[0];H=H[1];let la;H<O&&(la=O,O=H,H=la);return[q.invert(O),q.invert(H)]}}function Wb(q){return function(H){const O=
q.range();let la=H[0];H=H[1];let $a=-1,hb;let tb;if(H<la){var Mb=la;la=H;H=Mb}Mb=0;for(tb=O.length;Mb<tb;++Mb)O[Mb]>=la&&O[Mb]<=H&&(0>$a&&($a=Mb),hb=Mb);if(!(0>$a))return la=q.invertExtent(O[$a]),H=q.invertExtent(O[hb]),[void 0===la[0]?la[1]:la[0],void 0===H[1]?H[0]:H[1]]}}function ec(q,H){return null==q||null==H?NaN:q<H?-1:q>H?1:q>=H?0:NaN}function Db(q,H){return null==q||null==H?NaN:H<q?-1:H>q?1:H>=q?0:NaN}function yb(q){function H(hb,tb,Mb=0,pc=hb.length){if(Mb<pc){if(0!==O(tb,tb))return pc;do{const Xc=
Mb+pc>>>1;0>la(hb[Xc],tb)?Mb=Xc+1:pc=Xc}while(Mb<pc)}return Mb}let O,la,$a;2!==q.length?(O=ec,la=(hb,tb)=>ec(q(hb),tb),$a=(hb,tb)=>q(hb)-tb):(O=q===ec||q===Db?q:wb,$a=la=q);return{left:H,center:function(hb,tb,Mb=0,pc=hb.length){pc=H(hb,tb,Mb,pc-1);return pc>Mb&&$a(hb[pc-1],tb)>-$a(hb[pc],tb)?pc-1:pc},right:function(hb,tb,Mb=0,pc=hb.length){if(Mb<pc){if(0!==O(tb,tb))return pc;do{const Xc=Mb+pc>>>1;0>=la(hb[Xc],tb)?Mb=Xc+1:pc=Xc}while(Mb<pc)}return Mb}}}function wb(){return 0}function Qb(q){return null===
q?NaN:+q}function Yb({_intern:q,_key:H},O){H=H(O);return q.has(H)?q.get(H):O}function Ba({_intern:q,_key:H},O){H=H(O);if(q.has(H))return q.get(H);q.set(H,O);return O}function bb({_intern:q,_key:H},O){H=H(O);q.has(H)&&(O=q.get(H),q.delete(H));return O}function Ab(q){return null!==q&&"object"===typeof q?q.valueOf():q}function xb(q,H,O){var la=(H-q)/Math.max(0,O),$a=Math.floor(Math.log10(la));la/=Math.pow(10,$a);la=la>=Ef?10:la>=Lh?5:la>=og?2:1;let hb;0>$a?(hb=Math.pow(10,-$a)/la,$a=Math.round(q*hb),
la=Math.round(H*hb),$a/hb<q&&++$a,la/hb>H&&--la,hb=-hb):(hb=Math.pow(10,$a)*la,$a=Math.round(q/hb),la=Math.round(H/hb),$a*hb<q&&++$a,la*hb>H&&--la);return la<$a&&.5<=O&&2>O?xb(q,H,2*O):[$a,la,hb]}function qb(q,H,O){H=+H;q=+q;O=+O;if(!(0<O))return[];if(q===H)return[q];var la=H<q;const [$a,hb,tb]=la?xb(H,q,O):xb(q,H,O);if(!(hb>=$a))return[];q=hb-$a+1;H=Array(q);if(la)if(0>tb)for(la=0;la<q;++la)H[la]=(hb-la)/-tb;else for(la=0;la<q;++la)H[la]=(hb-la)*tb;else if(0>tb)for(la=0;la<q;++la)H[la]=($a+la)/-tb;
else for(la=0;la<q;++la)H[la]=($a+la)*tb;return H}function Cb(q,H,O){return xb(+q,+H,+O)[2]}function lb(q,H,O){H=+H;q=+q;O=+O;const la=H<q;q=la?Cb(H,q,O):Cb(q,H,O);return(la?-1:1)*(0>q?1/-q:q)}function mc(q,H,O=Qb){if((la=q.length)&&!isNaN(H=+H)){if(0>=H||2>la)return+O(q[0],0,q);if(1<=H)return+O(q[la-1],la-1,q);var la;H*=la-1;la=Math.floor(H);var $a=+O(q[la],la,q);q=+O(q[la+1],la+1,q);return $a+(q-$a)*(H-la)}}function ua(q,H,O){q=+q;H=+H;O=2>($a=arguments.length)?(H=q,q=0,1):3>$a?1:+O;for(var la=
-1,$a=Math.max(0,Math.ceil((H-q)/O))|0,hb=Array($a);++la<$a;)hb[la]=q+la*O;return hb}function ha(q,H){switch(arguments.length){case 0:break;case 1:this.range(q);break;default:this.range(H).domain(q)}return this}function xa(q,H){switch(arguments.length){case 0:break;case 1:"function"===typeof q?this.interpolator(q):this.range(q);break;default:this.domain(q),"function"===typeof H?this.interpolator(H):this.range(H)}return this}function Sa(){function q(hb){let tb=H.get(hb);if(void 0===tb){if($a!==xh)return $a;
H.set(hb,tb=O.push(hb)-1)}return la[tb%la.length]}var H=new nh,O=[],la=[],$a=xh;q.domain=function(hb){if(!arguments.length)return O.slice();O=[];H=new nh;for(const tb of hb)H.has(tb)||H.set(tb,O.push(tb)-1);return q};q.range=function(hb){return arguments.length?(la=Array.from(hb),q):la.slice()};q.unknown=function(hb){return arguments.length?($a=hb,q):$a};q.copy=function(){return Sa(O,la).unknown($a)};ha.apply(q,arguments);return q}function Xa(q,H,O){q.prototype=H.prototype=O;O.constructor=q}function La(q,
H){q=Object.create(q.prototype);for(var O in H)q[O]=H[O];return q}function jb(){}function fb(){return this.rgb().formatHex()}function vb(){return this.rgb().formatRgb()}function Rb(q){var H,O;q=(q+"").trim().toLowerCase();return(H=Nh.exec(q))?(O=H[1].length,H=parseInt(H[1],16),6===O?Na(H):3===O?new Z(H>>8&15|H>>4&240,H>>4&15|H&240,(H&15)<<4|H&15,1):8===O?U(H>>24&255,H>>16&255,H>>8&255,(H&255)/255):4===O?U(H>>12&15|H>>8&240,H>>8&15|H>>4&240,H>>4&15|H&240,((H&15)<<4|H&15)/255):null):(H=Sj.exec(q))?
new Z(H[1],H[2],H[3],1):(H=Bg.exec(q))?new Z(255*H[1]/100,255*H[2]/100,255*H[3]/100,1):(H=yh.exec(q))?U(H[1],H[2],H[3],H[4]):(H=Ti.exec(q))?U(255*H[1]/100,255*H[2]/100,255*H[3]/100,H[4]):(H=Ui.exec(q))?N(H[1],H[2]/100,H[3]/100,1):(H=xi.exec(q))?N(H[1],H[2]/100,H[3]/100,H[4]):qh.hasOwnProperty(q)?Na(qh[q]):"transparent"===q?new Z(NaN,NaN,NaN,0):null}function Na(q){return new Z(q>>16&255,q>>8&255,q&255,1)}function U(q,H,O,la){0>=la&&(q=H=O=NaN);return new Z(q,H,O,la)}function ea(q){q instanceof jb||
(q=Rb(q));if(!q)return new Z;q=q.rgb();return new Z(q.r,q.g,q.b,q.opacity)}function Ja(q,H,O,la){return 1===arguments.length?ea(q):new Z(q,H,O,null==la?1:la)}function Z(q,H,O,la){this.r=+q;this.g=+H;this.b=+O;this.opacity=+la}function Fa(){return`#${F(this.r)}${F(this.g)}${F(this.b)}`}function ma(){const q=na(this.opacity);return`${1===q?"rgb(":"rgba("}${n(this.r)}, ${n(this.g)}, ${n(this.b)}${1===q?")":`, ${q})`}`}function na(q){return isNaN(q)?1:Math.max(0,Math.min(1,q))}function n(q){return Math.max(0,
Math.min(255,Math.round(q)||0))}function F(q){q=n(q);return(16>q?"0":"")+q.toString(16)}function N(q,H,O,la){0>=la?q=H=O=NaN:0>=O||1<=O?q=H=NaN:0>=H&&(q=NaN);return new B(q,H,O,la)}function x(q){if(q instanceof B)return new B(q.h,q.s,q.l,q.opacity);q instanceof jb||(q=Rb(q));if(!q)return new B;if(q instanceof B)return q;q=q.rgb();var H=q.r/255,O=q.g/255,la=q.b/255,$a=Math.min(H,O,la),hb=Math.max(H,O,la),tb=NaN,Mb=hb-$a,pc=(hb+$a)/2;Mb?(tb=H===hb?(O-la)/Mb+6*(O<la):O===hb?(la-H)/Mb+2:(H-O)/Mb+4,Mb/=
.5>pc?hb+$a:2-hb-$a,tb*=60):Mb=0<pc&&1>pc?0:tb;return new B(tb,Mb,pc,q.opacity)}function T(q,H,O,la){return 1===arguments.length?x(q):new B(q,H,O,null==la?1:la)}function B(q,H,O,la){this.h=+q;this.s=+H;this.l=+O;this.opacity=+la}function A(q){q=(q||0)%360;return 0>q?q+360:q}function Q(q){return Math.max(0,Math.min(1,q||0))}function D(q,H,O){return 255*(60>q?H+(O-H)*q/60:180>q?O:240>q?H+(O-H)*(240-q)/60:H)}function E(q){if(q instanceof X)return new X(q.l,q.a,q.b,q.opacity);if(q instanceof db)return zb(q);
q instanceof Z||(q=ea(q));var H=Ca(q.r),O=Ca(q.g),la=Ca(q.b),$a=Da(.2225045*H+.7168786*O+.0606169*la);if(H===O&&O===la)var hb=H=$a;else hb=Da((.4360747*H+.3850649*O+.1430804*la)/.96422),H=Da((.0139322*H+.0971045*O+.7141733*la)/.82521);return new X(116*$a-16,500*(hb-$a),200*($a-H),q.opacity)}function I(q,H,O,la){return 1===arguments.length?E(q):new X(q,H,O,null==la?1:la)}function X(q,H,O,la){this.l=+q;this.a=+H;this.b=+O;this.opacity=+la}function Da(q){return q>ag?Math.pow(q,1/3):q/Wi+Yh}function S(q){return q>
zh?q*q*q:Wi*(q-Yh)}function ia(q){return 255*(.0031308>=q?12.92*q:1.055*Math.pow(q,1/2.4)-.055)}function Ca(q){return.04045>=(q/=255)?q/12.92:Math.pow((q+.055)/1.055,2.4)}function Qa(q){if(q instanceof db)return new db(q.h,q.c,q.l,q.opacity);q instanceof X||(q=E(q));if(0===q.a&&0===q.b)return new db(NaN,0<q.l&&100>q.l?0:NaN,q.l,q.opacity);var H=Math.atan2(q.b,q.a)*Xh;return new db(0>H?H+360:H,Math.sqrt(q.a*q.a+q.b*q.b),q.l,q.opacity)}function Ra(q,H,O,la){return 1===arguments.length?Qa(q):new db(q,
H,O,null==la?1:la)}function db(q,H,O,la){this.h=+q;this.c=+H;this.l=+O;this.opacity=+la}function zb(q){if(isNaN(q.h))return new X(q.l,0,0,q.opacity);var H=q.h*Vi;return new X(q.l,Math.cos(H)*q.c,Math.sin(H)*q.c,q.opacity)}function kb(q,H,O,la){if(1===arguments.length){var $a=q;if($a instanceof Vb)$a=new Vb($a.h,$a.s,$a.l,$a.opacity);else{$a instanceof Z||($a=ea($a));var hb=$a.g/255,tb=$a.b/255,Mb=(Xi*tb+$a.r/255*-1.7884503806-3.5172982438*hb)/(Xi+-1.7884503806-3.5172982438);tb-=Mb;var pc=(1.97294*
(hb-Mb)- -.29227*tb)/-.90649;tb=(hb=Math.sqrt(pc*pc+tb*tb)/(1.97294*Mb*(1-Mb)))?Math.atan2(pc,tb)*Xh-120:NaN;$a=new Vb(0>tb?tb+360:tb,hb,Mb,$a.opacity)}}else $a=new Vb(q,H,O,null==la?1:la);return $a}function Vb(q,H,O,la){this.h=+q;this.s=+H;this.l=+O;this.opacity=+la}function Y(q,H,O,la,$a){var hb=q*q,tb=hb*q;return((1-3*q+3*hb-tb)*H+(4-6*hb+3*tb)*O+(1+3*q+3*hb-3*tb)*la+tb*$a)/6}function Ha(q){var H=q.length-1;return function(O){var la=0>=O?O=0:1<=O?(O=1,H-1):Math.floor(O*H),$a=q[la],hb=q[la+1];return Y((O-
la/H)*H,0<la?q[la-1]:2*$a-hb,$a,hb,la<H-1?q[la+2]:2*hb-$a)}}function Ub(q){var H=q.length;return function(O){var la=Math.floor((0>(O%=1)?++O:O)*H);return Y((O-la/H)*H,q[(la+H-1)%H],q[la%H],q[(la+1)%H],q[(la+2)%H])}}function kc(q,H){return function(O){return q+O*H}}function Zb(q,H,O){return q=Math.pow(q,O),H=Math.pow(H,O)-q,O=1/O,function(la){return Math.pow(q+la*H,O)}}function Pb(q,H){var O=H-q;return O?kc(q,180<O||-180>O?O-360*Math.round(O/360):O):Zh(isNaN(q)?H:q)}function Nb(q){return 1===(q=+q)?
tc:function(H,O){return O-H?Zb(H,O,q):Zh(isNaN(H)?O:H)}}function tc(q,H){var O=H-q;return O?kc(q,O):Zh(isNaN(q)?H:q)}function Mc(q){return function(H){var O=H.length,la=Array(O),$a=Array(O),hb=Array(O),tb;for(tb=0;tb<O;++tb){var Mb=Ja(H[tb]);la[tb]=Mb.r||0;$a[tb]=Mb.g||0;hb[tb]=Mb.b||0}la=q(la);$a=q($a);hb=q(hb);Mb.opacity=1;return function(pc){Mb.r=la(pc);Mb.g=$a(pc);Mb.b=hb(pc);return Mb+""}}}function ra(q,H){H||(H=[]);var O=q?Math.min(H.length,q.length):0,la=H.slice(),$a;return function(hb){for($a=
0;$a<O;++$a)la[$a]=q[$a]*(1-hb)+H[$a]*hb;return la}}function Hb(q){return ArrayBuffer.isView(q)&&!(q instanceof DataView)}function Va(q,H){var O=H?H.length:0,la=q?Math.min(O,q.length):0,$a=Array(la),hb=Array(O),tb;for(tb=0;tb<la;++tb)$a[tb]=ad(q[tb],H[tb]);for(;tb<O;++tb)hb[tb]=H[tb];return function(Mb){for(tb=0;tb<la;++tb)hb[tb]=$a[tb](Mb);return hb}}function Bb(q,H){var O=new Date;return q=+q,H=+H,function(la){return O.setTime(q*(1-la)+H*la),O}}function Ib(q,H){return q=+q,H=+H,function(O){return q*
(1-O)+H*O}}function Eb(q,H){var O={},la={},$a;if(null===q||"object"!==typeof q)q={};if(null===H||"object"!==typeof H)H={};for($a in H)$a in q?O[$a]=ad(q[$a],H[$a]):la[$a]=H[$a];return function(hb){for($a in O)la[$a]=O[$a](hb);return la}}function Xb(q){return function(){return q}}function jc(q){return function(H){return q(H)+""}}function rc(q,H){var O=Oh.lastIndex=rh.lastIndex=0,la,$a,hb,tb=-1,Mb=[],pc=[];q+="";for(H+="";(la=Oh.exec(q))&&($a=rh.exec(H));)(hb=$a.index)>O&&(hb=H.slice(O,hb),Mb[tb]?Mb[tb]+=
hb:Mb[++tb]=hb),(la=la[0])===($a=$a[0])?Mb[tb]?Mb[tb]+=$a:Mb[++tb]=$a:(Mb[++tb]=null,pc.push({i:tb,x:Ib(la,$a)})),O=rh.lastIndex;O<H.length&&(hb=H.slice(O),Mb[tb]?Mb[tb]+=hb:Mb[++tb]=hb);return 2>Mb.length?pc[0]?jc(pc[0].x):Xb(H):(H=pc.length,function(Xc){for(var Rc=0,xc;Rc<H;++Rc)Mb[(xc=pc[Rc]).i]=xc.x(Xc);return Mb.join("")})}function ad(q,H){var O=typeof H,la;return null==H||"boolean"===O?Zh(H):("number"===O?Ib:"string"===O?(la=Rb(H))?(H=la,$h):rc:H instanceof Rb?$h:H instanceof Date?Bb:Hb(H)?
ra:Array.isArray(H)?Va:"function"!==typeof H.valueOf&&"function"!==typeof H.toString||isNaN(H)?Eb:Ib)(q,H)}function Lc(q,H){return q=+q,H=+H,function(O){return Math.round(q*(1-O)+H*O)}}function oa(q,H,O,la,$a,hb){var tb,Mb,pc;if(tb=Math.sqrt(q*q+H*H))q/=tb,H/=tb;if(pc=q*O+H*la)O-=q*pc,la-=H*pc;if(Mb=Math.sqrt(O*O+la*la))O/=Mb,la/=Mb,pc/=Mb;q*la<H*O&&(q=-q,H=-H,pc=-pc,tb=-tb);return{translateX:$a,translateY:hb,rotate:Math.atan2(H,q)*Lg,skewX:Math.atan(pc)*Lg,scaleX:tb,scaleY:Mb}}function Ma(q,H,O,
la){function $a(Xc){return Xc.length?Xc.pop()+" ":""}function hb(Xc,Rc,xc,rd,Rd,ue){Xc!==xc||Rc!==rd?(Rd=Rd.push("translate(",null,H,null,O),ue.push({i:Rd-4,x:Ib(Xc,xc)},{i:Rd-2,x:Ib(Rc,rd)})):(xc||rd)&&Rd.push("translate("+xc+H+rd+O)}function tb(Xc,Rc,xc,rd){Xc!==Rc?(180<Xc-Rc?Rc+=360:180<Rc-Xc&&(Xc+=360),rd.push({i:xc.push($a(xc)+"rotate(",null,la)-2,x:Ib(Xc,Rc)})):Rc&&xc.push($a(xc)+"rotate("+Rc+la)}function Mb(Xc,Rc,xc,rd){Xc!==Rc?rd.push({i:xc.push($a(xc)+"skewX(",null,la)-2,x:Ib(Xc,Rc)}):Rc&&
xc.push($a(xc)+"skewX("+Rc+la)}function pc(Xc,Rc,xc,rd,Rd,ue){Xc!==xc||Rc!==rd?(Rd=Rd.push($a(Rd)+"scale(",null,",",null,")"),ue.push({i:Rd-4,x:Ib(Xc,xc)},{i:Rd-2,x:Ib(Rc,rd)})):1===xc&&1===rd||Rd.push($a(Rd)+"scale("+xc+","+rd+")")}return function(Xc,Rc){var xc=[],rd=[];Xc=q(Xc);Rc=q(Rc);hb(Xc.translateX,Xc.translateY,Rc.translateX,Rc.translateY,xc,rd);tb(Xc.rotate,Rc.rotate,xc,rd);Mb(Xc.skewX,Rc.skewX,xc,rd);pc(Xc.scaleX,Xc.scaleY,Rc.scaleX,Rc.scaleY,xc,rd);Xc=Rc=null;return function(Rd){for(var ue=
-1,Gd=rd.length,We;++ue<Gd;)xc[(We=rd[ue]).i]=We.x(Rd);return xc.join("")}}}function ib(q){return((q=Math.exp(q))+1/q)/2}function V(q){return function(H,O){var la=q((H=T(H)).h,(O=T(O)).h),$a=tc(H.s,O.s),hb=tc(H.l,O.l),tb=tc(H.opacity,O.opacity);return function(Mb){H.h=la(Mb);H.s=$a(Mb);H.l=hb(Mb);H.opacity=tb(Mb);return H+""}}}function w(q){return function(H,O){var la=q((H=Ra(H)).h,(O=Ra(O)).h),$a=tc(H.c,O.c),hb=tc(H.l,O.l),tb=tc(H.opacity,O.opacity);return function(Mb){H.h=la(Mb);H.c=$a(Mb);H.l=
hb(Mb);H.opacity=tb(Mb);return H+""}}}function da(q){return function la(O){function $a(hb,tb){var Mb=q((hb=kb(hb)).h,(tb=kb(tb)).h),pc=tc(hb.s,tb.s),Xc=tc(hb.l,tb.l),Rc=tc(hb.opacity,tb.opacity);return function(xc){hb.h=Mb(xc);hb.s=pc(xc);hb.l=Xc(Math.pow(xc,O));hb.opacity=Rc(xc);return hb+""}}O=+O;$a.gamma=la;return $a}(1)}function Aa(q,H){void 0===H&&(H=q,q=ad);for(var O=0,la=H.length-1,$a=H[0],hb=Array(0>la?0:la);O<la;)hb[O]=q($a,$a=H[++O]);return function(tb){var Mb=Math.max(0,Math.min(la-1,Math.floor(tb*=
la)));return hb[Mb](tb-Mb)}}function Ia(q){return function(){return q}}function Wa(q){return+q}function ob(q){return q}function Sb(q,H){return(H-=q=+q)?function(O){return(O-q)/H}:Ia(isNaN(H)?NaN:.5)}function Gb(q,H){if(q>H){var O=q;q=H;H=O}return function(la){return Math.max(q,Math.min(H,la))}}function Ob(q,H,O){var la=q[0];q=q[1];var $a=H[0];H=H[1];q<la?(la=Sb(q,la),$a=O(H,$a)):(la=Sb(la,q),$a=O($a,H));return function(hb){return $a(la(hb))}}function vc(q,H,O){var la=Math.min(q.length,H.length)-1,
$a=Array(la),hb=Array(la),tb=-1;q[la]<q[0]&&(q=q.slice().reverse(),H=H.slice().reverse());for(;++tb<la;)$a[tb]=Sb(q[tb],q[tb+1]),hb[tb]=O(H[tb],H[tb+1]);return function(Mb){var pc=Ag(q,Mb,1,la)-1;return hb[pc]($a[pc](Mb))}}function Bc(q,H){return H.domain(q.domain()).range(q.range()).interpolate(q.interpolate()).clamp(q.clamp()).unknown(q.unknown())}function Ic(){function q(){var rd=Math.min(O.length,la.length);pc!==ob&&(pc=Gb(O[0],O[rd-1]));Xc=2<rd?vc:Ob;Rc=xc=null;return H}function H(rd){return null==
rd||isNaN(rd=+rd)?Mb:(Rc||(Rc=Xc(O.map(hb),la,$a)))(hb(pc(rd)))}var O=ba,la=ba,$a=ad,hb,tb,Mb,pc=ob,Xc,Rc,xc;H.invert=function(rd){return pc(tb((xc||(xc=Xc(la,O.map(hb),Ib)))(rd)))};H.domain=function(rd){return arguments.length?(O=Array.from(rd,Wa),q()):O.slice()};H.range=function(rd){return arguments.length?(la=Array.from(rd),q()):la.slice()};H.rangeRound=function(rd){return la=Array.from(rd),$a=Lc,q()};H.clamp=function(rd){return arguments.length?(pc=rd?!0:ob,q()):pc!==ob};H.interpolate=function(rd){return arguments.length?
($a=rd,q()):$a};H.unknown=function(rd){return arguments.length?(Mb=rd,H):Mb};return function(rd,Rd){hb=rd;tb=Rd;return q()}}function id(q,H){if(0>(H=(q=H?q.toExponential(H-1):q.toExponential()).indexOf("e")))return null;var O=q.slice(0,H);return[1<O.length?O[0]+O.slice(2):O,+q.slice(H+1)]}function dd(q){return q=id(Math.abs(q)),q?q[1]:NaN}function Uc(q,H){return function(O,la){for(var $a=O.length,hb=[],tb=0,Mb=q[0],pc=0;0<$a&&0<Mb;){pc+Mb+1>la&&(Mb=Math.max(1,la-pc));hb.push(O.substring($a-=Mb,$a+
Mb));if((pc+=Mb+1)>la)break;Mb=q[tb=(tb+1)%q.length]}return hb.reverse().join(H)}}function kd(q){return function(H){return H.replace(/[0-9]/g,function(O){return q[+O]})}}function ld(q){if(!(H=za.exec(q)))throw Error("invalid format: "+q);var H;return new ed({fill:H[1],align:H[2],sign:H[3],symbol:H[4],zero:H[5],width:H[6],comma:H[7],precision:H[8]&&H[8].slice(1),trim:H[9],type:H[10]})}function ed(q){this.fill=void 0===q.fill?" ":q.fill+"";this.align=void 0===q.align?"\x3e":q.align+"";this.sign=void 0===
q.sign?"-":q.sign+"";this.symbol=void 0===q.symbol?"":q.symbol+"";this.zero=!!q.zero;this.width=void 0===q.width?void 0:+q.width;this.comma=!!q.comma;this.precision=void 0===q.precision?void 0:+q.precision;this.trim=!!q.trim;this.type=void 0===q.type?"":q.type+""}function ge(q,H){H=id(q,H);if(!H)return q+"";q=H[0];H=H[1];return 0>H?"0."+Array(-H).join("0")+q:q.length>H+1?q.slice(0,H+1)+"."+q.slice(H+1):q+Array(H-q.length+2).join("0")}function gd(q){return q}function z(q){function H(Rc){function xc(od){var Cd=
ve,sd=fg,of,ae;if("c"===gg)sd=ej(od)+sd,od="";else{od=+od;var If=0>od||0>1/od;od=isNaN(od)?Xc:ej(Math.abs(od),vg);if(Pg){var bg=od.length,tg=1,Dh=-1;a:for(;tg<bg;++tg)switch(od[tg]){case ".":Dh=of=tg;break;case "0":0===Dh&&(Dh=tg);of=tg;break;default:if(!+od[tg])break a;0<Dh&&(Dh=0)}od=0<Dh?od.slice(0,Dh)+od.slice(of+1):od}If&&0===+od&&"+"!==ue&&(If=!1);Cd=(If?"("===ue?ue:pc:"-"===ue||"("===ue?"":ue)+Cd;sd=("s"===gg?cc[8+Pa/3]:"")+sd+(If&&"("===ue?")":"");if(Hd)for(If=-1,of=od.length;++If<of;)if(ae=
od.charCodeAt(If),48>ae||57<ae){sd=(46===ae?hb+od.slice(If+1):od.slice(If))+sd;od=od.slice(0,If);break}}eg&&!We&&(od=O(od,Infinity));ae=Cd.length+od.length+sd.length;If=ae<qf?Array(qf-ae+1).join(rd):"";eg&&We&&(od=O(If+od,If.length?qf-sd.length:Infinity),If="");switch(Rd){case "\x3c":od=Cd+od+sd+If;break;case "\x3d":od=Cd+If+od+sd;break;case "^":od=If.slice(0,ae=If.length>>1)+Cd+od+sd+If.slice(ae);break;default:od=If+Cd+od+sd}return tb(od)}Rc=ld(Rc);var rd=Rc.fill,Rd=Rc.align,ue=Rc.sign,Gd=Rc.symbol,
We=Rc.zero,qf=Rc.width,eg=Rc.comma,vg=Rc.precision,Pg=Rc.trim,gg=Rc.type;"n"===gg?(eg=!0,gg="g"):Jb[gg]||(void 0===vg&&(vg=12),Pg=!0,gg="g");if(We||"0"===rd&&"\x3d"===Rd)We=!0,rd="0",Rd="\x3d";var ve="$"===Gd?la:"#"===Gd&&/[boxX]/.test(gg)?"0"+gg.toLowerCase():"",fg="$"===Gd?$a:/[%p]/.test(gg)?Mb:"",ej=Jb[gg],Hd=/[defgprs%]/.test(gg);vg=void 0===vg?6:/[gprs]/.test(gg)?Math.max(1,Math.min(21,vg)):Math.max(0,Math.min(20,vg));xc.toString=function(){return Rc+""};return xc}var O=void 0===q.grouping||
void 0===q.thousands?gd:Uc(Kb.call(q.grouping,Number),q.thousands+""),la=void 0===q.currency?"":q.currency[0]+"",$a=void 0===q.currency?"":q.currency[1]+"",hb=void 0===q.decimal?".":q.decimal+"",tb=void 0===q.numerals?gd:kd(Kb.call(q.numerals,String)),Mb=void 0===q.percent?"%":q.percent+"",pc=void 0===q.minus?"":q.minus+"",Xc=void 0===q.nan?"NaN":q.nan+"";return{format:H,formatPrefix:function(Rc,xc){var rd=H((Rc=ld(Rc),Rc.type="f",Rc));Rc=3*Math.max(-8,Math.min(8,Math.floor(dd(xc)/3)));var Rd=Math.pow(10,
-Rc),ue=cc[8+Rc/3];return function(Gd){return rd(Rd*Gd)+ue}}}}function K(q,H,O,la){O=lb(q,H,O);la=ld(null==la?",f":la);switch(la.type){case "s":q=Math.max(Math.abs(q),Math.abs(H));if(H=null==la.precision){var $a=isNaN;O=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(dd(q)/3)))-dd(Math.abs(O)));H=!$a($a=O)}H&&(la.precision=$a);return fa(la,q);case "":case "e":case "g":case "p":case "r":var hb;if(hb=null==la.precision)$a=isNaN,q=Math.max(Math.abs(q),Math.abs(H)),O=Math.abs(O),q=Math.abs(q)-O,O=Math.max(0,
dd(q)-dd(O))+1,hb=!$a($a=O);hb&&(la.precision=$a-("e"===la.type));break;case "f":case "%":null!=la.precision||isNaN($a=Math.max(0,-dd(Math.abs(O))))||(la.precision=$a-2*("%"===la.type))}return M(la)}function va(q){var H=q.domain;q.ticks=function(O){var la=H();return qb(la[0],la[la.length-1],null==O?10:O)};q.tickFormat=function(O,la){var $a=H();return K($a[0],$a[$a.length-1],null==O?10:O,la)};q.nice=function(O){null==O&&(O=10);var la=H(),$a=0,hb=la.length-1,tb=la[$a],Mb=la[hb],pc=10;if(Mb<tb){var Xc=
tb;tb=Mb;Mb=Xc;Xc=$a;$a=hb;hb=Xc}for(;0<pc--;){Xc=Cb(tb,Mb,O);if(Xc===Rc)return la[$a]=tb,la[hb]=Mb,H(la);if(0<Xc)tb=Math.floor(tb/Xc)*Xc,Mb=Math.ceil(Mb/Xc)*Xc;else if(0>Xc)tb=Math.ceil(tb*Xc)/Xc,Mb=Math.floor(Mb*Xc)/Xc;else break;var Rc=Xc}return q};return q}function v(){var q=Ic()(ob,ob);q.copy=function(){return Bc(q,v())};ha.apply(q,arguments);return va(q)}function R(q){function H(la){return null==la||isNaN(la=+la)?O:la}var O;H.invert=H;H.domain=H.range=function(la){return arguments.length?(q=
Array.from(la,Wa),H):q.slice()};H.unknown=function(la){return arguments.length?(O=la,H):O};H.copy=function(){return R(q).unknown(O)};q=arguments.length?Array.from(q,Wa):[0,1];return va(H)}function ca(q,H){q=q.slice();var O=0,la=q.length-1,$a=q[O],hb=q[la];if(hb<$a){var tb=O;O=la;la=tb;tb=$a;$a=hb;hb=tb}q[O]=H.floor($a);q[la]=H.ceil(hb);return q}function wa(q){return Math.log(q)}function pa(q){return Math.exp(q)}function eb(q){return-Math.log(-q)}function Lb(q){return-Math.exp(-q)}function $b(q){return isFinite(q)?
+("1e"+q):0>q?0:q}function hc(q){return 10===q?$b:q===Math.E?Math.exp:H=>Math.pow(q,H)}function Ec(q){return q===Math.E?Math.log:10===q&&Math.log10||2===q&&Math.log2||(q=Math.log(q),H=>Math.log(H)/q)}function Pc(q){return(H,O)=>-q(-H,O)}function Nc(q){function H(){hb=Ec($a);tb=hc($a);0>la()[0]?(hb=Pc(hb),tb=Pc(tb),q(eb,Lb)):q(wa,pa);return O}const O=q(wa,pa),la=O.domain;let $a=10,hb,tb;O.base=function(Mb){return arguments.length?($a=+Mb,H()):$a};O.domain=function(Mb){return arguments.length?(la(Mb),
H()):la()};O.ticks=Mb=>{var pc=la();let Xc=pc[0];pc=pc[pc.length-1];const Rc=pc<Xc;Rc&&([Xc,pc]=[pc,Xc]);let xc=hb(Xc),rd=hb(pc),Rd;const ue=null==Mb?10:+Mb;let Gd=[];if(!($a%1)&&rd-xc<ue){xc=Math.floor(xc);rd=Math.ceil(rd);if(0<Xc)for(;xc<=rd;++xc)for(Mb=1;Mb<$a;++Mb){if(Rd=0>xc?Mb/tb(-xc):Mb*tb(xc),!(Rd<Xc)){if(Rd>pc)break;Gd.push(Rd)}}else for(;xc<=rd;++xc)for(Mb=$a-1;1<=Mb;--Mb)if(Rd=0<xc?Mb/tb(-xc):Mb*tb(xc),!(Rd<Xc)){if(Rd>pc)break;Gd.push(Rd)}2*Gd.length<ue&&(Gd=qb(Xc,pc,ue))}else Gd=qb(xc,
rd,Math.min(rd-xc,ue)).map(tb);return Rc?Gd.reverse():Gd};O.tickFormat=(Mb,pc)=>{null==Mb&&(Mb=10);null==pc&&(pc=10===$a?"s":",");"function"!==typeof pc&&($a%1||null!=(pc=ld(pc)).precision||(pc.trim=!0),pc=M(pc));if(Infinity===Mb)return pc;const Xc=Math.max(1,$a*Mb/O.ticks().length);return Rc=>{let xc=Rc/tb(Math.round(hb(Rc)));xc*$a<$a-.5&&(xc*=$a);return xc<=Xc?pc(Rc):""}};O.nice=()=>la(ca(la(),{floor:Mb=>tb(Math.floor(hb(Mb))),ceil:Mb=>tb(Math.ceil(hb(Mb)))}));return O}function md(){const q=Nc(Ic()).domain([1,
10]);q.copy=()=>Bc(q,md()).base(q.base());ha.apply(q,arguments);return q}function td(q){return function(H){return Math.sign(H)*Math.log1p(Math.abs(H/q))}}function yd(q){return function(H){return Math.sign(H)*Math.expm1(Math.abs(H))*q}}function Md(q){var H=1,O=q(td(H),yd(H));O.constant=function(la){return arguments.length?q(td(H=+la),yd(H)):H};return va(O)}function Ad(){var q=Md(Ic());q.copy=function(){return Bc(q,Ad()).constant(q.constant())};return ha.apply(q,arguments)}function je(q){return function(H){return 0>
H?-Math.pow(-H,q):Math.pow(H,q)}}function Me(q){return 0>q?-Math.sqrt(-q):Math.sqrt(q)}function Qe(q){return 0>q?-q*q:q*q}function Re(q){var H=q(ob,ob),O=1;H.exponent=function(la){return arguments.length?(O=+la,1===O?q(ob,ob):.5===O?q(Me,Qe):q(je(O),je(1/O))):O};return va(H)}function He(){var q=Re(Ic());q.copy=function(){return Bc(q,He()).exponent(q.exponent())};ha.apply(q,arguments);return q}function De(){function q(){var tb=0,Mb=Math.max(1,la.length);for($a=Array(Mb-1);++tb<Mb;)$a[tb-1]=mc(O,tb/
Mb);return H}function H(tb){return null==tb||isNaN(tb=+tb)?hb:la[Ag($a,tb)]}var O=[],la=[],$a=[],hb;H.invertExtent=function(tb){tb=la.indexOf(tb);return 0>tb?[NaN,NaN]:[0<tb?$a[tb-1]:O[0],tb<$a.length?$a[tb]:O[O.length-1]]};H.domain=function(tb){if(!arguments.length)return O.slice();O=[];for(let Mb of tb)null==Mb||isNaN(Mb=+Mb)||O.push(Mb);O.sort(ec);return q()};H.range=function(tb){return arguments.length?(la=Array.from(tb),q()):la.slice()};H.unknown=function(tb){return arguments.length?(hb=tb,H):
hb};H.quantiles=function(){return $a.slice()};H.copy=function(){return De().domain(O).range(la).unknown(hb)};return ha.apply(H,arguments)}function Ie(){function q(pc){return null!=pc&&pc<=pc?tb[Ag(hb,pc,0,$a)]:Mb}function H(){var pc=-1;for(hb=Array($a);++pc<$a;)hb[pc]=((pc+1)*la-(pc-$a)*O)/($a+1);return q}var O=0,la=1,$a=1,hb=[.5],tb=[0,1],Mb;q.domain=function(pc){return arguments.length?([O,la]=pc,O=+O,la=+la,H()):[O,la]};q.range=function(pc){return arguments.length?($a=(tb=Array.from(pc)).length-
1,H()):tb.slice()};q.invertExtent=function(pc){pc=tb.indexOf(pc);return 0>pc?[NaN,NaN]:1>pc?[O,hb[0]]:pc>=$a?[hb[$a-1],la]:[hb[pc-1],hb[pc]]};q.unknown=function(pc){return arguments.length?(Mb=pc,q):q};q.thresholds=function(){return hb.slice()};q.copy=function(){return Ie().domain([O,la]).range(tb).unknown(Mb)};return ha.apply(va(q),arguments)}function ke(){function q(hb){return null!=hb&&hb<=hb?O[Ag(H,hb,0,$a)]:la}var H=[.5],O=[0,1],la,$a=1;q.domain=function(hb){return arguments.length?(H=Array.from(hb),
$a=Math.min(H.length,O.length-1),q):H.slice()};q.range=function(hb){return arguments.length?(O=Array.from(hb),$a=Math.min(H.length,O.length-1),q):O.slice()};q.invertExtent=function(hb){hb=O.indexOf(hb);return[H[hb-1],H[hb]]};q.unknown=function(hb){return arguments.length?(la=hb,q):la};q.copy=function(){return ke().domain(H).range(O).unknown(la)};return ha.apply(q,arguments)}function oe(q,H,O,la){function $a(hb){return q(hb=0===arguments.length?new Date:new Date(+hb)),hb}$a.floor=hb=>(q(hb=new Date(+hb)),
hb);$a.ceil=hb=>(q(hb=new Date(hb-1)),H(hb,1),q(hb),hb);$a.round=hb=>{const tb=$a(hb),Mb=$a.ceil(hb);return hb-tb<Mb-hb?tb:Mb};$a.offset=(hb,tb)=>(H(hb=new Date(+hb),null==tb?1:Math.floor(tb)),hb);$a.range=(hb,tb,Mb)=>{const pc=[];hb=$a.ceil(hb);Mb=null==Mb?1:Math.floor(Mb);if(!(hb<tb&&0<Mb))return pc;let Xc;do pc.push(Xc=new Date(+hb)),H(hb,Mb),q(hb);while(Xc<hb&&hb<tb);return pc};$a.filter=hb=>oe(tb=>{if(tb>=tb)for(;q(tb),!hb(tb);)tb.setTime(tb-1)},(tb,Mb)=>{if(tb>=tb)if(0>Mb)for(;0>=++Mb;)for(;H(tb,
-1),!hb(tb););else for(;0<=--Mb;)for(;H(tb,1),!hb(tb););});O&&($a.count=(hb,tb)=>{ta.setTime(+hb);Ua.setTime(+tb);q(ta);q(Ua);return Math.floor(O(ta,Ua))},$a.every=hb=>{hb=Math.floor(hb);return isFinite(hb)&&0<hb?1<hb?$a.filter(la?tb=>0===la(tb)%hb:tb=>0===$a.count(0,tb)%hb):$a:null});return $a}function xe(q){return oe(H=>{H.setDate(H.getDate()-(H.getDay()+7-q)%7);H.setHours(0,0,0,0)},(H,O)=>{H.setDate(H.getDate()+7*O)},(H,O)=>(O-H-6E4*(O.getTimezoneOffset()-H.getTimezoneOffset()))/ic)}function zd(q){return oe(H=>
{H.setUTCDate(H.getUTCDate()-(H.getUTCDay()+7-q)%7);H.setUTCHours(0,0,0,0)},(H,O)=>{H.setUTCDate(H.getUTCDate()+7*O)},(H,O)=>(O-H)/ic)}function Jf(q,H,O,la,$a,hb){function tb(pc,Xc,Rc){const xc=Math.abs(Xc-pc)/Rc,rd=yb(([,,Gd])=>Gd).right(Mb,xc);if(rd===Mb.length)return q.every(lb(pc/bc,Xc/bc,Rc));if(0===rd)return Tb.every(Math.max(lb(pc,Xc,Rc),1));const [Rd,ue]=Mb[xc/Mb[rd-1][2]<Mb[rd][2]/xc?rd-1:rd];return Rd.every(ue)}const Mb=[[Wc,1,1E3],[Wc,5,5E3],[Wc,15,15E3],[Wc,30,3E4],[hb,1,6E4],[hb,5,3E5],
[hb,15,9E5],[hb,30,18E5],[$a,1,36E5],[$a,3,108E5],[$a,6,216E5],[$a,12,432E5],[la,1,864E5],[la,2,1728E5],[O,1,ic],[H,1,Fc],[H,3,3*Fc],[q,1,bc]];return[function(pc,Xc,Rc){const xc=Xc<pc;xc&&([pc,Xc]=[Xc,pc]);pc=(Rc=Rc&&"function"===typeof Rc.range?Rc:tb(pc,Xc,Rc))?Rc.range(pc,+Xc+1):[];return xc?pc.reverse():pc},tb]}function Xe(q){if(0<=q.y&&100>q.y){var H=new Date(-1,q.m,q.d,q.H,q.M,q.S,q.L);H.setFullYear(q.y);return H}return new Date(q.y,q.m,q.d,q.H,q.M,q.S,q.L)}function $e(q){if(0<=q.y&&100>q.y){var H=
new Date(Date.UTC(-1,q.m,q.d,q.H,q.M,q.S,q.L));H.setUTCFullYear(q.y);return H}return new Date(Date.UTC(q.y,q.m,q.d,q.H,q.M,q.S,q.L))}function df(q,H,O){return{y:q,m:H,d:O,H:0,M:0,S:0,L:0}}function Fe(q){function H(Hd,od){return function(Cd){var sd=[],of=-1,ae=0,If=Hd.length,bg,tg;for(Cd instanceof Date||(Cd=new Date(+Cd));++of<If;)if(37===Hd.charCodeAt(of)){sd.push(Hd.slice(ae,of));null!=(ae=hh[bg=Hd.charAt(++of)])?bg=Hd.charAt(++of):ae="e"===bg?" ":"0";if(tg=od[bg])bg=tg(Cd,ae);sd.push(bg);ae=of+
1}sd.push(Hd.slice(ae,of));return sd.join("")}}function O(Hd,od){return function(Cd){var sd=df(1900,void 0,1);if(la(sd,Hd,Cd+="",0)!=Cd.length)return null;if("Q"in sd)return new Date(sd.Q);if("s"in sd)return new Date(1E3*sd.s+("L"in sd?sd.L:0));!od||"Z"in sd||(sd.Z=0);"p"in sd&&(sd.H=sd.H%12+12*sd.p);void 0===sd.m&&(sd.m="q"in sd?sd.q:0);if("V"in sd){if(1>sd.V||53<sd.V)return null;"w"in sd||(sd.w=1);if("Z"in sd){Cd=$e(df(sd.y,0,1));var of=Cd.getUTCDay();Cd=4<of||0===of?gh.ceil(Cd):gh(Cd);Cd=Af.offset(Cd,
7*(sd.V-1));sd.y=Cd.getUTCFullYear();sd.m=Cd.getUTCMonth();sd.d=Cd.getUTCDate()+(sd.w+6)%7}else Cd=Xe(df(sd.y,0,1)),of=Cd.getDay(),Cd=4<of||0===of?ee.ceil(Cd):ee(Cd),Cd=Be.offset(Cd,7*(sd.V-1)),sd.y=Cd.getFullYear(),sd.m=Cd.getMonth(),sd.d=Cd.getDate()+(sd.w+6)%7}else if("W"in sd||"U"in sd)"w"in sd||(sd.w="u"in sd?sd.u%7:"W"in sd?1:0),of="Z"in sd?$e(df(sd.y,0,1)).getUTCDay():Xe(df(sd.y,0,1)).getDay(),sd.m=0,sd.d="W"in sd?(sd.w+6)%7+7*sd.W-(of+5)%7:sd.w+7*sd.U-(of+6)%7;return"Z"in sd?(sd.H+=sd.Z/100|
0,sd.M+=sd.Z%100,$e(sd)):Xe(sd)}}function la(Hd,od,Cd,sd){for(var of=0,ae=od.length,If=Cd.length,bg;of<ae;){if(sd>=If)return-1;bg=od.charCodeAt(of++);if(37===bg){if(bg=od.charAt(of++),bg=ej[bg in hh?od.charAt(of++):bg],!bg||0>(sd=bg(Hd,Cd,sd)))return-1}else if(bg!=Cd.charCodeAt(sd++))return-1}return sd}var $a=q.dateTime,hb=q.date,tb=q.time,Mb=q.periods,pc=q.days,Xc=q.shortDays,Rc=q.months,xc=q.shortMonths,rd=ye(Mb),Rd=Ea(Mb),ue=ye(pc),Gd=Ea(pc),We=ye(Xc),qf=Ea(Xc),eg=ye(Rc),vg=Ea(Rc),Pg=ye(xc),gg=
Ea(xc),ve={a:function(Hd){return Xc[Hd.getDay()]},A:function(Hd){return pc[Hd.getDay()]},b:function(Hd){return xc[Hd.getMonth()]},B:function(Hd){return Rc[Hd.getMonth()]},c:null,d:re,e:re,f:L,g:Jc,G:Ed,H:Wd,I:qa,j:m,L:r,m:ka,M:Ga,p:function(Hd){return Mb[+(12<=Hd.getHours())]},q:function(Hd){return 1+~~(Hd.getMonth()/3)},Q:mf,s:Ke,S:Ta,u:Oa,U:sb,V:uc,w:sc,W:qc,x:null,X:null,y:oc,Y:Oc,Z:pd,"%":kg},fg={a:function(Hd){return Xc[Hd.getUTCDay()]},A:function(Hd){return pc[Hd.getUTCDay()]},b:function(Hd){return xc[Hd.getUTCMonth()]},
B:function(Hd){return Rc[Hd.getUTCMonth()]},c:null,d:wd,e:wd,f:be,g:uf,G:yf,H:Sd,I:lc,j:ud,L:ne,m:Bd,M:qd,p:function(Hd){return Mb[+(12<=Hd.getUTCHours())]},q:function(Hd){return 1+~~(Hd.getUTCMonth()/3)},Q:mf,s:Ke,S:Kd,u:de,U:te,V:Ee,w:$c,W:le,x:null,X:null,y:lf,Y:zg,Z:Tf,"%":kg},ej={a:function(Hd,od,Cd){return(od=We.exec(od.slice(Cd)))?(Hd.w=qf.get(od[0].toLowerCase()),Cd+od[0].length):-1},A:function(Hd,od,Cd){return(od=ue.exec(od.slice(Cd)))?(Hd.w=Gd.get(od[0].toLowerCase()),Cd+od[0].length):-1},
b:function(Hd,od,Cd){return(od=Pg.exec(od.slice(Cd)))?(Hd.m=gg.get(od[0].toLowerCase()),Cd+od[0].length):-1},B:function(Hd,od,Cd){return(od=eg.exec(od.slice(Cd)))?(Hd.m=vg.get(od[0].toLowerCase()),Cd+od[0].length):-1},c:function(Hd,od,Cd){return la(Hd,$a,od,Cd)},d:qe,e:qe,f:ze,g:Xd,G:Dd,H:hf,I:hf,j:Ne,L:rf,m:nd,M:ce,p:function(Hd,od,Cd){return(od=rd.exec(od.slice(Cd)))?(Hd.p=Rd.get(od[0].toLowerCase()),Cd+od[0].length):-1},q:Ye,Q:ef,s:me,S:jf,u:fc,U:fd,V:jd,w:cb,W:cd,x:function(Hd,od,Cd){return la(Hd,
hb,od,Cd)},X:function(Hd,od,Cd){return la(Hd,tb,od,Cd)},y:Xd,Y:Dd,Z:Jd,"%":Ze};ve.x=H(hb,ve);ve.X=H(tb,ve);ve.c=H($a,ve);fg.x=H(hb,fg);fg.X=H(tb,fg);fg.c=H($a,fg);return{format:function(Hd){var od=H(Hd+="",ve);od.toString=function(){return Hd};return od},parse:function(Hd){var od=O(Hd+="",!1);od.toString=function(){return Hd};return od},utcFormat:function(Hd){var od=H(Hd+="",fg);od.toString=function(){return Hd};return od},utcParse:function(Hd){var od=O(Hd+="",!0);od.toString=function(){return Hd};
return od}}}function Nd(q,H,O){var la=0>q?"-":"";q=(la?-q:q)+"";var $a=q.length;return la+($a<O?Array(O-$a+1).join(H)+q:q)}function Kf(q){return q.replace(Ci,"\\$\x26")}function ye(q){return new RegExp("^(?:"+q.map(Kf).join("|")+")","i")}function Ea(q){return new Map(q.map((H,O)=>[H.toLowerCase(),O]))}function cb(q,H,O){return(H=dg.exec(H.slice(O,O+1)))?(q.w=+H[0],O+H[0].length):-1}function fc(q,H,O){return(H=dg.exec(H.slice(O,O+1)))?(q.u=+H[0],O+H[0].length):-1}function fd(q,H,O){return(H=dg.exec(H.slice(O,
O+2)))?(q.U=+H[0],O+H[0].length):-1}function jd(q,H,O){return(H=dg.exec(H.slice(O,O+2)))?(q.V=+H[0],O+H[0].length):-1}function cd(q,H,O){return(H=dg.exec(H.slice(O,O+2)))?(q.W=+H[0],O+H[0].length):-1}function Dd(q,H,O){return(H=dg.exec(H.slice(O,O+4)))?(q.y=+H[0],O+H[0].length):-1}function Xd(q,H,O){return(H=dg.exec(H.slice(O,O+2)))?(q.y=+H[0]+(68<+H[0]?1900:2E3),O+H[0].length):-1}function Jd(q,H,O){return(H=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(H.slice(O,O+6)))?(q.Z=H[1]?0:-(H[2]+(H[3]||"00")),O+H[0].length):
-1}function Ye(q,H,O){return(H=dg.exec(H.slice(O,O+1)))?(q.q=3*H[0]-3,O+H[0].length):-1}function nd(q,H,O){return(H=dg.exec(H.slice(O,O+2)))?(q.m=H[0]-1,O+H[0].length):-1}function qe(q,H,O){return(H=dg.exec(H.slice(O,O+2)))?(q.d=+H[0],O+H[0].length):-1}function Ne(q,H,O){return(H=dg.exec(H.slice(O,O+3)))?(q.m=0,q.d=+H[0],O+H[0].length):-1}function hf(q,H,O){return(H=dg.exec(H.slice(O,O+2)))?(q.H=+H[0],O+H[0].length):-1}function ce(q,H,O){return(H=dg.exec(H.slice(O,O+2)))?(q.M=+H[0],O+H[0].length):
-1}function jf(q,H,O){return(H=dg.exec(H.slice(O,O+2)))?(q.S=+H[0],O+H[0].length):-1}function rf(q,H,O){return(H=dg.exec(H.slice(O,O+3)))?(q.L=+H[0],O+H[0].length):-1}function ze(q,H,O){return(H=dg.exec(H.slice(O,O+6)))?(q.L=Math.floor(H[0]/1E3),O+H[0].length):-1}function Ze(q,H,O){return(q=$i.exec(H.slice(O,O+1)))?O+q[0].length:-1}function ef(q,H,O){return(H=dg.exec(H.slice(O)))?(q.Q=+H[0],O+H[0].length):-1}function me(q,H,O){return(H=dg.exec(H.slice(O)))?(q.s=+H[0],O+H[0].length):-1}function re(q,
H){return Nd(q.getDate(),H,2)}function Wd(q,H){return Nd(q.getHours(),H,2)}function qa(q,H){return Nd(q.getHours()%12||12,H,2)}function m(q,H){return Nd(1+Be.count(Wf(q),q),H,3)}function r(q,H){return Nd(q.getMilliseconds(),H,3)}function L(q,H){return r(q,H)+"000"}function ka(q,H){return Nd(q.getMonth()+1,H,2)}function Ga(q,H){return Nd(q.getMinutes(),H,2)}function Ta(q,H){return Nd(q.getSeconds(),H,2)}function Oa(q){q=q.getDay();return 0===q?7:q}function sb(q,H){return Nd(Mg.count(Wf(q)-1,q),H,2)}
function pb(q){var H=q.getDay();return 4<=H||0===H?Ah(q):Ah.ceil(q)}function uc(q,H){q=pb(q);return Nd(Ah.count(Wf(q),q)+(4===Wf(q).getDay()),H,2)}function sc(q){return q.getDay()}function qc(q,H){return Nd(ee.count(Wf(q)-1,q),H,2)}function oc(q,H){return Nd(q.getFullYear()%100,H,2)}function Jc(q,H){q=pb(q);return Nd(q.getFullYear()%100,H,2)}function Oc(q,H){return Nd(q.getFullYear()%1E4,H,4)}function Ed(q,H){var O=q.getDay();q=4<=O||0===O?Ah(q):Ah.ceil(q);return Nd(q.getFullYear()%1E4,H,4)}function pd(q){q=
q.getTimezoneOffset();return(0<q?"-":(q*=-1,"+"))+Nd(q/60|0,"0",2)+Nd(q%60,"0",2)}function wd(q,H){return Nd(q.getUTCDate(),H,2)}function Sd(q,H){return Nd(q.getUTCHours(),H,2)}function lc(q,H){return Nd(q.getUTCHours()%12||12,H,2)}function ud(q,H){return Nd(1+Af.count(sg(q),q),H,3)}function ne(q,H){return Nd(q.getUTCMilliseconds(),H,3)}function be(q,H){return ne(q,H)+"000"}function Bd(q,H){return Nd(q.getUTCMonth()+1,H,2)}function qd(q,H){return Nd(q.getUTCMinutes(),H,2)}function Kd(q,H){return Nd(q.getUTCSeconds(),
H,2)}function de(q){q=q.getUTCDay();return 0===q?7:q}function te(q,H){return Nd(Of.count(sg(q)-1,q),H,2)}function $d(q){var H=q.getUTCDay();return 4<=H||0===H?Gg(q):Gg.ceil(q)}function Ee(q,H){q=$d(q);return Nd(Gg.count(sg(q),q)+(4===sg(q).getUTCDay()),H,2)}function $c(q){return q.getUTCDay()}function le(q,H){return Nd(gh.count(sg(q)-1,q),H,2)}function lf(q,H){return Nd(q.getUTCFullYear()%100,H,2)}function uf(q,H){q=$d(q);return Nd(q.getUTCFullYear()%100,H,2)}function zg(q,H){return Nd(q.getUTCFullYear()%
1E4,H,4)}function yf(q,H){var O=q.getUTCDay();q=4<=O||0===O?Gg(q):Gg.ceil(q);return Nd(q.getUTCFullYear()%1E4,H,4)}function Tf(){return"+0000"}function kg(){return"%"}function mf(q){return+q}function Ke(q){return Math.floor(+q/1E3)}function lg(q){return new Date(q)}function Zg(q){return q instanceof Date?+q:+new Date(+q)}function Yf(q,H,O,la,$a,hb,tb,Mb,pc,Xc){function Rc(ve){return(pc(ve)<ve?ue:Mb(ve)<ve?Gd:tb(ve)<ve?We:hb(ve)<ve?qf:la(ve)<ve?$a(ve)<ve?eg:vg:O(ve)<ve?Pg:gg)(ve)}var xc=Ic()(ob,ob),
rd=xc.invert,Rd=xc.domain,ue=Xc(".%L"),Gd=Xc(":%S"),We=Xc("%I:%M"),qf=Xc("%I %p"),eg=Xc("%a %d"),vg=Xc("%b %d"),Pg=Xc("%B"),gg=Xc("%Y");xc.invert=function(ve){return new Date(rd(ve))};xc.domain=function(ve){return arguments.length?Rd(Array.from(ve,Zg)):Rd().map(lg)};xc.ticks=function(ve){var fg=Rd();return q(fg[0],fg[fg.length-1],null==ve?10:ve)};xc.tickFormat=function(ve,fg){return null==fg?Rc:Xc(fg)};xc.nice=function(ve){var fg=Rd();ve&&"function"===typeof ve.range||(ve=H(fg[0],fg[fg.length-1],
null==ve?10:ve));return ve?Rd(ca(fg,ve)):xc};xc.copy=function(){return Bc(xc,Yf(q,H,O,la,$a,hb,tb,Mb,pc,Xc))};return xc}function mg(){function q(xc){return null==xc||isNaN(xc=+xc)?Rc:pc(0===tb?.5:(xc=(Mb(xc)-$a)*tb,Xc?Math.max(0,Math.min(1,xc)):xc))}function H(xc){return function(rd){var Rd,ue;return arguments.length?([Rd,ue]=rd,pc=xc(Rd,ue),q):[pc(0),pc(1)]}}var O=0,la=1,$a,hb,tb,Mb,pc=ob,Xc=!1,Rc;q.domain=function(xc){return arguments.length?([O,la]=xc,$a=Mb(O=+O),hb=Mb(la=+la),tb=$a===hb?0:1/(hb-
$a),q):[O,la]};q.clamp=function(xc){return arguments.length?(Xc=!!xc,q):Xc};q.interpolator=function(xc){return arguments.length?(pc=xc,q):pc};q.range=H(ad);q.rangeRound=H(Lc);q.unknown=function(xc){return arguments.length?(Rc=xc,q):Rc};return function(xc){Mb=xc;$a=xc(O);hb=xc(la);tb=$a===hb?0:1/(hb-$a);return q}}function Zf(q,H){return H.domain(q.domain()).interpolator(q.interpolator()).clamp(q.clamp()).unknown(q.unknown())}function $g(){var q=va(mg()(ob));q.copy=function(){return Zf(q,$g())};return xa.apply(q,
arguments)}function ah(){var q=Nc(mg()).domain([1,10]);q.copy=function(){return Zf(q,ah()).base(q.base())};return xa.apply(q,arguments)}function bh(){var q=Md(mg());q.copy=function(){return Zf(q,bh()).constant(q.constant())};return xa.apply(q,arguments)}function Sg(){var q=Re(mg());q.copy=function(){return Zf(q,Sg()).exponent(q.exponent())};return xa.apply(q,arguments)}function Tg(){function q(Gd){return isNaN(Gd=+Gd)?ue:(Gd=.5+((Gd=+rd(Gd))-Mb)*(hb*Gd<hb*Mb?Xc:Rc),xc(Rd?Math.max(0,Math.min(1,Gd)):
Gd))}function H(Gd){return function(We){var qf,eg,vg;return arguments.length?([qf,eg,vg]=We,xc=Aa(Gd,[qf,eg,vg]),q):[xc(0),xc(.5),xc(1)]}}var O=0,la=.5,$a=1,hb=1,tb,Mb,pc,Xc,Rc,xc=ob,rd,Rd=!1,ue;q.domain=function(Gd){return arguments.length?([O,la,$a]=Gd,tb=rd(O=+O),Mb=rd(la=+la),pc=rd($a=+$a),Xc=tb===Mb?0:.5/(Mb-tb),Rc=Mb===pc?0:.5/(pc-Mb),hb=Mb<tb?-1:1,q):[O,la,$a]};q.clamp=function(Gd){return arguments.length?(Rd=!!Gd,q):Rd};q.interpolator=function(Gd){return arguments.length?(xc=Gd,q):xc};q.range=
H(ad);q.rangeRound=H(Lc);q.unknown=function(Gd){return arguments.length?(ue=Gd,q):ue};return function(Gd){rd=Gd;tb=Gd(O);Mb=Gd(la);pc=Gd($a);Xc=tb===Mb?0:.5/(Mb-tb);Rc=Mb===pc?0:.5/(pc-Mb);hb=Mb<tb?-1:1;return q}}function oh(){var q=va(Tg()(ob));q.copy=function(){return Zf(q,oh())};return xa.apply(q,arguments)}function Uf(){var q=Nc(Tg()).domain([.1,1,10]);q.copy=function(){return Zf(q,Uf()).base(q.base())};return xa.apply(q,arguments)}function W(){var q=Md(Tg());q.copy=function(){return Zf(q,W()).constant(q.constant())};
return xa.apply(q,arguments)}function Ka(){var q=Re(Tg());q.copy=function(){return Zf(q,Ka()).exponent(q.exponent())};return xa.apply(q,arguments)}function mb(){function q(){var xc=O().length;const rd=$a[1]<$a[0],Rd=$a[1-rd],ue=Za(xc,pc,Xc);let Gd=$a[rd-0];hb=(Rd-Gd)/(ue||1);Mb&&(hb=Math.floor(hb));Gd+=(Rd-Gd-hb*(xc-pc))*Rc;tb=hb*(1-pc);Mb&&(Gd=Math.round(Gd),tb=Math.round(tb));xc=ua(xc).map(We=>Gd+hb*We);return la(rd?xc.reverse():xc)}const H=Sa().unknown(void 0),O=H.domain,la=H.range;let $a=[0,1],
hb,tb,Mb=!1,pc=0,Xc=0,Rc=.5;delete H.unknown;H.domain=function(xc){return arguments.length?(O(xc),q()):O()};H.range=function(xc){return arguments.length?($a=[+xc[0],+xc[1]],q()):$a.slice()};H.rangeRound=function(xc){$a=[+xc[0],+xc[1]];Mb=!0;return q()};H.bandwidth=function(){return tb};H.step=function(){return hb};H.round=function(xc){return arguments.length?(Mb=!!xc,q()):Mb};H.padding=function(xc){return arguments.length?(pc=Xc=Math.max(0,Math.min(1,xc)),q()):pc};H.paddingInner=function(xc){return arguments.length?
(pc=Math.max(0,Math.min(1,xc)),q()):pc};H.paddingOuter=function(xc){return arguments.length?(Xc=Math.max(0,Math.min(1,xc)),q()):Xc};H.align=function(xc){return arguments.length?(Rc=Math.max(0,Math.min(1,xc)),q()):Rc};H.invertRange=function(xc){if(null!=xc[0]&&null!=xc[1]){var rd=$a[1]<$a[0],Rd=rd?la().reverse():la(),ue=Rd.length-1,Gd=+xc[0],We=+xc[1];if(Gd===Gd&&We===We){if(We<Gd){var qf=Gd;Gd=We;We=qf}if(!(We<Rd[0]||Gd>$a[1-rd]))return xc=Math.max(0,Ag(Rd,Gd)-1),We=Gd===We?xc:Ag(Rd,We)-1,Gd-Rd[xc]>
tb+1E-10&&++xc,rd&&(qf=xc,xc=ue-We,We=ue-qf),xc>We?void 0:O().slice(xc,We+1)}}};H.invert=function(xc){return(xc=H.invertRange([xc,xc]))?xc[0]:xc};H.copy=function(){return mb().domain(O()).range($a).round(Mb).paddingInner(pc).paddingOuter(Xc).align(Rc)};return q()}function yc(q){const H=q.copy;q.padding=q.paddingOuter;delete q.paddingInner;q.copy=function(){return yc(H())};return q}function Ac(){function q(la){return null==la||la!==la?void 0:O[(Ag(H,la)-1)%O.length]}let H=[],O=[];q.domain=function(la){return arguments.length?
(H=aj.call(la,l.toNumber),q):H.slice()};q.range=function(la){return arguments.length?(O=ol.call(la),q):O.slice()};q.tickFormat=function(la,$a){return K(H[0],l.peek(H),null==la?10:la,$a)};q.copy=function(){return Ac().domain(q.domain()).range(q.range())};return q}function xd(q){q[vj]=!0;return q}function Vd(q,H,O){const la=function(){const $a=H();$a.invertRange||($a.invertRange=$a.invert?ub($a):$a.invertExtent?Wb($a):void 0);$a.type=q;return xd($a)};la.metadata=l.toSet(l.array(O));return la}function Id(q,
H,O){return 1<arguments.length?(Di.set(q,Vd(q,H,O)),this):ig(q)?Di.get(q):void 0}function ig(q){return Di.has(q)}function pf(q,H){return(q=Di.get(q))&&q.metadata[H]}function ug(q){return pf(q,"discrete")}function ph(q){return pf(q,"discretizing")}function ch(q){return pf(q,"log")}function ng(q){return pf(q,"temporal")}function Kg(q,H,O){return Aa(Mh(H||"rgb",O),q)}function Mh(q,H){q=G[Ld(q)];return null!=H&&q&&q.gamma?q.gamma(H):q}function Ld(q){return"interpolate"+q.toLowerCase().split("-").map(H=>
H[0].toUpperCase()+H.slice(1)).join("")}function Zd(q){for(var H=q.length/6|0,O=Array(H),la=0;la<H;)O[la]="#"+q.slice(6*la,6*++la);return O}function zf(q){if(l.isArray(q))return q;const H=q.length/6|0,O=Array(H);for(let la=0;la<H;)O[la]="#"+q.slice(6*la,6*++la);return O}function Ae(q,H){for(const O in q)ff(O,H(q[O]))}function ff(q,H){q=q&&q.toLowerCase();return 1<arguments.length?(uj[q]=H,this):uj[q]}function Ve(q,H,O){var la=q.range();let $a=la[0],hb=l.peek(la);la=ak;$a>hb&&(la=hb,hb=$a,$a=la,la=
yi);$a=Math.floor($a);hb=Math.ceil(hb);H=H.map(tb=>[tb,q(tb)]).filter(tb=>$a<=tb[1]&&tb[1]<=hb).sort(la).map(tb=>tb[0]);if(0<O&&1<H.length){for(la=[H[0],l.peek(H)];H.length>O&&3<=H.length;)H=H.filter((tb,Mb)=>!(Mb%2));3>H.length&&(H=la)}return H}function vf(q,H){return q.bins?Ve(q,q.bins,H):q.ticks?q.ticks(H):q.domain()}function $f(q,H,O,la,$a,hb){const tb=H.type;let Mb=Ek;if("time"===tb||"time"===$a)Mb=q.timeFormat(la);else if("utc"===tb||"utc"===$a)Mb=q.utcFormat(la);else if(ch(tb)){const pc=q.formatFloat(la);
if(hb||H.bins)Mb=pc;else{const Xc=Vf(H,O,!1);Mb=Rc=>Xc(Rc)?pc(Rc):""}}else H.tickFormat?(H=H.domain(),Mb=q.formatSpan(H[0],H[H.length-1],O,la)):la&&(Mb=q.format(la));return Mb}function Vf(q,H,O){const la=vf(q,H),$a=q.base(),hb=Math.log($a),tb=Math.max(1,$a*H/la.length);q=Mb=>{Mb/=Math.pow($a,Math.round(Math.log(Mb)/hb));Mb*$a<$a-.5&&(Mb*=$a);return Mb<=tb};return O?la.filter(q):q}function pg(q,H){q.bins?(q=q.bins,H=q.slice(0,-1),H.max=l.peek(q),q=H):"log"===q.type?q=Vf(q,H,!0):bj[q.type]?(q=q[bj[q.type]](),
q=[-Infinity].concat(q),q.max=Infinity):q=vf(q,H);return q}function eh(q,H,O,la,$a,hb,tb){if(Bk[H.type]&&"time"!==hb&&"utc"!==hb){O=H[Bk[H.type]]();hb=O.length;tb=1<hb?O[1]-O[0]:O[0];let Mb;for(Mb=1;Mb<hb;++Mb)tb=Math.min(tb,O[Mb]-O[Mb-1]);q=q.formatSpan(0,tb,30,$a)}else q=$f(q,H,O,$a,hb,tb);return"symbol"===la&&(bj[H.type]||H.bins)?Fk(q):"discrete"===la?Gk(q):Fi(q)}const Ag=yb(ec).right;yb(Qb).center;class nh extends Map{constructor(q,H=Ab){super();Object.defineProperties(this,{_intern:{value:new Map},
_key:{value:H}});if(null!=q)for(const [O,la]of q)this.set(O,la)}get(q){return super.get(Yb(this,q))}has(q){return super.has(Yb(this,q))}set(q,H){return super.set(Ba(this,q),H)}delete(q){return super.delete(bb(this,q))}}const Ef=Math.sqrt(50),Lh=Math.sqrt(10),og=Math.sqrt(2),xh=Symbol("implicit");var qg=1/.7,Nh=/^#([0-9a-f]{3,8})$/,Sj=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Bg=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
yh=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ti=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ui=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
xi=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),qh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xa(jb,Rb,{copy(q){return Object.assign(new this.constructor,this,q)},displayable(){return this.rgb().displayable()},hex:fb,formatHex:fb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return x(this).formatHsl()},formatRgb:vb,toString:vb});Xa(Z,Ja,La(jb,{brighter(q){q=null==q?qg:Math.pow(qg,q);return new Z(this.r*q,this.g*q,this.b*q,this.opacity)},darker(q){q=null==q?.7:Math.pow(.7,q);return new Z(this.r*q,this.g*q,this.b*q,this.opacity)},rgb(){return this},clamp(){return new Z(n(this.r),n(this.g),n(this.b),na(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=
this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Fa,formatHex:Fa,formatHex8:function(){return`#${F(this.r)}${F(this.g)}${F(this.b)}${F(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ma,toString:ma}));Xa(B,T,La(jb,{brighter(q){q=null==q?qg:Math.pow(qg,q);return new B(this.h,this.s,this.l*q,this.opacity)},darker(q){q=null==q?.7:Math.pow(.7,q);return new B(this.h,this.s,this.l*q,this.opacity)},rgb(){var q=this.h%360+360*(0>this.h),H=isNaN(q)||isNaN(this.s)?0:this.s,O=this.l;H=O+(.5>
O?O:1-O)*H;O=2*O-H;return new Z(D(240<=q?q-240:q+120,O,H),D(q,O,H),D(120>q?q+240:q-120,O,H),this.opacity)},clamp(){return new B(A(this.h),Q(this.s),Q(this.l),na(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const q=na(this.opacity);return`${1===q?"hsl(":"hsla("}${A(this.h)}, ${100*Q(this.s)}%, ${100*Q(this.l)}%${1===q?")":`, ${q})`}`}}));const Vi=Math.PI/180,Xh=180/Math.PI,Yh=4/29,zh=6/29,Wi=3*zh*zh,ag=
zh*zh*zh;Xa(X,I,La(jb,{brighter(q){return new X(this.l+18*(null==q?1:q),this.a,this.b,this.opacity)},darker(q){return new X(this.l-18*(null==q?1:q),this.a,this.b,this.opacity)},rgb(){var q=(this.l+16)/116,H=isNaN(this.a)?q:q+this.a/500,O=isNaN(this.b)?q:q-this.b/200;H=.96422*S(H);q=1*S(q);O=.82521*S(O);return new Z(ia(3.1338561*H-1.6168667*q-.4906146*O),ia(-.9787684*H+1.9161415*q+.033454*O),ia(.0719453*H-.2289914*q+1.4052427*O),this.opacity)}}));Xa(db,Ra,La(jb,{brighter(q){return new db(this.h,this.c,
this.l+18*(null==q?1:q),this.opacity)},darker(q){return new db(this.h,this.c,this.l-18*(null==q?1:q),this.opacity)},rgb(){return zb(this).rgb()}}));var Xi=1.78277*-.29227-.1347134789;Xa(Vb,kb,La(jb,{brighter(q){q=null==q?qg:Math.pow(qg,q);return new Vb(this.h,this.s,this.l*q,this.opacity)},darker(q){q=null==q?.7:Math.pow(.7,q);return new Vb(this.h,this.s,this.l*q,this.opacity)},rgb(){var q=isNaN(this.h)?0:(this.h+120)*Vi,H=+this.l,O=isNaN(this.s)?0:this.s*H*(1-H),la=Math.cos(q);q=Math.sin(q);return new Z(255*
(H+O*(-.14861*la+1.78277*q)),255*(H+O*(-.29227*la+-.90649*q)),255*(H+1.97294*O*la),this.opacity)}}));var Zh=q=>()=>q,$h=function O(H){function la(hb,tb){var Mb=$a((hb=Ja(hb)).r,(tb=Ja(tb)).r),pc=$a(hb.g,tb.g),Xc=$a(hb.b,tb.b),Rc=tc(hb.opacity,tb.opacity);return function(xc){hb.r=Mb(xc);hb.g=pc(xc);hb.b=Xc(xc);hb.opacity=Rc(xc);return hb+""}}var $a=Nb(H);la.gamma=O;return la}(1),Yi=Mc(Ha),gi=Mc(Ub),Oh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rh=new RegExp(Oh.source,"g"),Lg=180/Math.PI,Se={translateX:0,
translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},th,Cg=Ma(function(H){H=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(H+"");return H.isIdentity?Se:oa(H.a,H.b,H.c,H.d,H.e,H.f)},"px, ","px)","deg)"),Ff=Ma(function(H){if(null==H)return Se;th||(th=document.createElementNS("http://www.w3.org/2000/svg","g"));th.setAttribute("transform",H);if(!(H=th.transform.baseVal.consolidate()))return Se;H=H.matrix;return oa(H.a,H.b,H.c,H.d,H.e,H.f)},", ",")",")"),tj=function hb(O,la,$a){function tb(Mb,
pc){var Xc=Mb[0],Rc=Mb[1],xc=Mb[2];Mb=pc[2];var rd=pc[0]-Xc,Rd=pc[1]-Rc,ue=rd*rd+Rd*Rd;if(1E-12>ue){var Gd=Math.log(Mb/xc)/O;Mb=function(eg){return[Xc+eg*rd,Rc+eg*Rd,xc*Math.exp(O*eg*Gd)]}}else{var We=Math.sqrt(ue);pc=(Mb*Mb-xc*xc+$a*ue)/(2*xc*la*We);Mb=(Mb*Mb-xc*xc-$a*ue)/(2*Mb*la*We);var qf=Math.log(Math.sqrt(pc*pc+1)-pc);Gd=(Math.log(Math.sqrt(Mb*Mb+1)-Mb)-qf)/O;Mb=function(eg){eg*=Gd;var vg=ib(qf),Pg=O*eg+qf;var gg=((Pg=Math.exp(2*Pg))-1)/(Pg+1);var ve=qf;Pg=((ve=Math.exp(ve))-1/ve)/2;gg=xc/(la*
We)*(vg*gg-Pg);return[Xc+gg*rd,Rc+gg*Rd,xc*vg/ib(O*eg+qf)]}}Mb.duration=1E3*Gd*O/Math.SQRT2;return Mb}tb.rho=function(Mb){Mb=Math.max(.001,+Mb);var pc=Mb*Mb;return hb(Mb,pc,pc*pc)};return tb}(Math.SQRT2,2,4),fh=V(Pb),Dg=V(tc),uh=w(Pb),Zi=w(tc),sh=da(Pb),zi=da(tc),G=Object.freeze({__proto__:null,interpolate:ad,interpolateArray:function(O,la){return(Hb(la)?ra:Va)(O,la)},interpolateBasis:Ha,interpolateBasisClosed:Ub,interpolateCubehelix:sh,interpolateCubehelixLong:zi,interpolateDate:Bb,interpolateDiscrete:function(O){var la=
O.length;return function($a){return O[Math.max(0,Math.min(la-1,Math.floor($a*la)))]}},interpolateHcl:uh,interpolateHclLong:Zi,interpolateHsl:fh,interpolateHslLong:Dg,interpolateHue:function(O,la){var $a=Pb(+O,+la);return function(hb){hb=$a(hb);return hb-360*Math.floor(hb/360)}},interpolateLab:function(O,la){var $a=tc((O=I(O)).l,(la=I(la)).l),hb=tc(O.a,la.a),tb=tc(O.b,la.b),Mb=tc(O.opacity,la.opacity);return function(pc){O.l=$a(pc);O.a=hb(pc);O.b=tb(pc);O.opacity=Mb(pc);return O+""}},interpolateNumber:Ib,
interpolateNumberArray:ra,interpolateObject:Eb,interpolateRgb:$h,interpolateRgbBasis:Yi,interpolateRgbBasisClosed:gi,interpolateRound:Lc,interpolateString:rc,interpolateTransformCss:Cg,interpolateTransformSvg:Ff,interpolateZoom:tj,piecewise:Aa,quantize:function(O,la){for(var $a=Array(la),hb=0;hb<la;++hb)$a[hb]=O(hb/(la-1));return $a}}),ba=[0,1],za=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;ld.prototype=ed.prototype;ed.prototype.toString=function(){return this.fill+
this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Pa,Jb={"%":(O,la)=>(100*O).toFixed(la),b:O=>Math.round(O).toString(2),c:O=>O+"",d:function(O){return 1E21<=Math.abs(O=Math.round(O))?O.toLocaleString("en").replace(/,/g,""):O.toString(10)},e:(O,la)=>O.toExponential(la),f:(O,la)=>O.toFixed(la),g:(O,la)=>O.toPrecision(la),o:O=>Math.round(O).toString(8),
p:(O,la)=>ge(100*O,la),r:ge,s:function(O,la){var $a=id(O,la);if(!$a)return O+"";var hb=$a[0];$a=$a[1];$a=$a-(Pa=3*Math.max(-8,Math.min(8,Math.floor($a/3))))+1;var tb=hb.length;return $a===tb?hb:$a>tb?hb+Array($a-tb+1).join("0"):0<$a?hb.slice(0,$a)+"."+hb.slice($a):"0."+Array(1-$a).join("0")+id(O,Math.max(0,la+$a-1))[0]},X:O=>Math.round(O).toString(16).toUpperCase(),x:O=>Math.round(O).toString(16)},Kb=Array.prototype.map,cc="y z a f p n  m  k M G T P E Z Y".split(" "),t,M,fa;(function(O){t=z(O);M=
t.format;fa=t.formatPrefix;return t})({thousands:",",grouping:[3],currency:["$",""]});const ta=new Date,Ua=new Date,Tb=oe(()=>{},(O,la)=>{O.setTime(+O+la)},(O,la)=>la-O);Tb.every=O=>{O=Math.floor(O);return isFinite(O)&&0<O?1<O?oe(la=>{la.setTime(Math.floor(la/O)*O)},(la,$a)=>{la.setTime(+la+$a*O)},(la,$a)=>($a-la)/O):Tb:null};Tb.range;const ic=6048E5,Fc=2592E6,bc=31536E6,Wc=oe(O=>{O.setTime(O-O.getMilliseconds())},(O,la)=>{O.setTime(+O+1E3*la)},(O,la)=>(la-O)/1E3,O=>O.getUTCSeconds());Wc.range;const Qc=
oe(O=>{O.setTime(O-O.getMilliseconds()-1E3*O.getSeconds())},(O,la)=>{O.setTime(+O+6E4*la)},(O,la)=>(la-O)/6E4,O=>O.getMinutes());Qc.range;const vd=oe(O=>{O.setUTCSeconds(0,0)},(O,la)=>{O.setTime(+O+6E4*la)},(O,la)=>(la-O)/6E4,O=>O.getUTCMinutes());vd.range;const Pd=oe(O=>{O.setTime(O-O.getMilliseconds()-1E3*O.getSeconds()-6E4*O.getMinutes())},(O,la)=>{O.setTime(+O+36E5*la)},(O,la)=>(la-O)/36E5,O=>O.getHours());Pd.range;const Qd=oe(O=>{O.setUTCMinutes(0,0,0)},(O,la)=>{O.setTime(+O+36E5*la)},(O,la)=>
(la-O)/36E5,O=>O.getUTCHours());Qd.range;const Be=oe(O=>O.setHours(0,0,0,0),(O,la)=>O.setDate(O.getDate()+la),(O,la)=>(la-O-6E4*(la.getTimezoneOffset()-O.getTimezoneOffset()))/864E5,O=>O.getDate()-1);Be.range;const Af=oe(O=>{O.setUTCHours(0,0,0,0)},(O,la)=>{O.setUTCDate(O.getUTCDate()+la)},(O,la)=>(la-O)/864E5,O=>O.getUTCDate()-1);Af.range;const gf=oe(O=>{O.setUTCHours(0,0,0,0)},(O,la)=>{O.setUTCDate(O.getUTCDate()+la)},(O,la)=>(la-O)/864E5,O=>Math.floor(O/864E5));gf.range;const Mg=xe(0),ee=xe(1),
Ce=xe(2),hi=xe(3),Ah=xe(4),Ai=xe(5),Bf=xe(6);Mg.range;ee.range;Ce.range;hi.range;Ah.range;Ai.range;Bf.range;const Of=zd(0),gh=zd(1),Gf=zd(2),xf=zd(3),Gg=zd(4),Bh=zd(5),jg=zd(6);Of.range;gh.range;Gf.range;xf.range;Gg.range;Bh.range;jg.range;const bi=oe(O=>{O.setDate(1);O.setHours(0,0,0,0)},(O,la)=>{O.setMonth(O.getMonth()+la)},(O,la)=>la.getMonth()-O.getMonth()+12*(la.getFullYear()-O.getFullYear()),O=>O.getMonth());bi.range;const Hf=oe(O=>{O.setUTCDate(1);O.setUTCHours(0,0,0,0)},(O,la)=>{O.setUTCMonth(O.getUTCMonth()+
la)},(O,la)=>la.getUTCMonth()-O.getUTCMonth()+12*(la.getUTCFullYear()-O.getUTCFullYear()),O=>O.getUTCMonth());Hf.range;const Wf=oe(O=>{O.setMonth(0,1);O.setHours(0,0,0,0)},(O,la)=>{O.setFullYear(O.getFullYear()+la)},(O,la)=>la.getFullYear()-O.getFullYear(),O=>O.getFullYear());Wf.every=O=>isFinite(O=Math.floor(O))&&0<O?oe(la=>{la.setFullYear(Math.floor(la.getFullYear()/O)*O);la.setMonth(0,1);la.setHours(0,0,0,0)},(la,$a)=>{la.setFullYear(la.getFullYear()+$a*O)}):null;Wf.range;const sg=oe(O=>{O.setUTCMonth(0,
1);O.setUTCHours(0,0,0,0)},(O,la)=>{O.setUTCFullYear(O.getUTCFullYear()+la)},(O,la)=>la.getUTCFullYear()-O.getUTCFullYear(),O=>O.getUTCFullYear());sg.every=O=>isFinite(O=Math.floor(O))&&0<O?oe(la=>{la.setUTCFullYear(Math.floor(la.getUTCFullYear()/O)*O);la.setUTCMonth(0,1);la.setUTCHours(0,0,0,0)},(la,$a)=>{la.setUTCFullYear(la.getUTCFullYear()+$a*O)}):null;sg.range;const [di,Ph]=Jf(sg,Hf,Of,gf,Qd,vd),[Wj,Xj]=Jf(Wf,bi,Mg,Be,Pd,Qc);var hh={"-":"",_:" ",0:"0"},dg=/^\s*\d+/,$i=/^%/,Ci=/[\\^$*+?|[\]().{}]/g,
Ng,Yj,yk;(function(O){Ng=Fe(O);Yj=Ng.format;Ng.parse;yk=Ng.utcFormat;Ng.utcParse;return Ng})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var aj=Array.prototype.map;
const ol=Array.prototype.slice,Di=new Map,vj=Symbol("vega_scale");Id("identity",R);Id("linear",v,"continuous");Id("log",md,["continuous","log"]);Id("pow",He,"continuous");Id("sqrt",function(){return He.apply(null,arguments).exponent(.5)},"continuous");Id("symlog",Ad,"continuous");Id("time",function(){return ha.apply(Yf(Wj,Xj,Wf,bi,Mg,Be,Pd,Qc,Wc,Yj).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);Id("utc",function(){return ha.apply(Yf(di,Ph,sg,Hf,Of,Af,Qd,vd,Wc,
yk).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);Id("sequential",$g,["continuous","interpolating"]);Id("sequential-linear",$g,["continuous","interpolating"]);Id("sequential-log",ah,["continuous","interpolating","log"]);Id("sequential-pow",Sg,["continuous","interpolating"]);Id("sequential-sqrt",function(){return Sg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Id("sequential-symlog",bh,["continuous","interpolating"]);Id("diverging-linear",
oh,["continuous","interpolating"]);Id("diverging-log",Uf,["continuous","interpolating","log"]);Id("diverging-pow",Ka,["continuous","interpolating"]);Id("diverging-sqrt",function(){return Ka.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Id("diverging-symlog",W,["continuous","interpolating"]);Id("quantile",De,["discretizing","quantile"]);Id("quantize",Ie,"discretizing");Id("threshold",ke,"discretizing");Id("bin-ordinal",Ac,["discrete","discretizing"]);Id("ordinal",Sa,"discrete");
Id("band",mb,"discrete");Id("point",function(){return yc(mb().paddingInner(1))},"discrete");const dh=["clamp","base","constant","exponent"];var Rj=Zd("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Jg=Zd("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Ak=Zd("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Ck=Zd("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),cj=Zd("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ch=Zd("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),
Uh=Zd("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),dj=Zd("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Ei=Zd("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Dk=Zd("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");const uj={};Ae({accent:Jg,category10:Rj,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:Ak,observable10:Ck,paired:cj,pastel1:Ch,pastel2:Uh,set1:dj,set2:Ei,set3:Dk,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"},zf);Ae({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},O=>Kg(zf(O)));const Ek=O=>l.isArray(O)?O.map(la=>String(la)):String(O),ak=(O,la)=>O[1]-la[1],yi=(O,la)=>la[1]-O[1],bj={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},Bk={quantile:"quantiles",quantize:"domain"},Fk=O=>(la,$a,hb)=>{$a=hb[$a+1];hb=hb.max;hb=null!=hb?hb:Infinity;$a=null!=$a?$a:hb;
la=Number.isFinite(la)?O(la):null;$a=Number.isFinite($a)?O($a):null;return la&&$a?la+"  "+$a:$a?"\x3c "+$a:" "+la},Gk=O=>(la,$a)=>$a?O(la):null,Fi=O=>la=>O(la);u.Band="band";u.BinOrdinal="bin-ordinal";u.DiscreteLegend="discrete";u.Diverging="diverging";u.GradientLegend="gradient";u.Identity="identity";u.Linear="linear";u.Log="log";u.Ordinal="ordinal";u.Point="point";u.Pow="pow";u.Quantile="quantile";u.Quantize="quantize";u.Sequential="sequential";u.Sqrt="sqrt";u.SymbolLegend="symbol";u.Symlog="symlog";
u.Threshold="threshold";u.Time="time";u.UTC="utc";u.bandSpace=Za;u.domainCaption=function(O,la,$a){$a=$a||{};var hb=Math.max(3,$a.maxlen||7),tb=$a.format;const Mb=($a=$a.formatType)||la.type;l.isString(tb)&&ng(Mb)&&(tb=tb.replace(/%a/g,"%A").replace(/%b/g,"%B"));O=tb||"time"!==Mb?tb||"utc"!==Mb?eh(O,la,5,null,tb,$a,!0):O.utcFormat("%A, %d %B %Y, %X UTC"):O.timeFormat("%A, %d %B %Y, %X");if(ph(la.type))return hb=pg(la).slice(1).map(O),la=hb.length,`${la} boundar${1===la?"y":"ies"}: ${hb.join(", ")}`;
if(ug(la.type))return tb=la.domain(),la=tb.length,hb=la>hb?tb.slice(0,hb-2).map(O).join(", ")+", ending with "+tb.slice(-1).map(O):tb.map(O).join(", "),`${la} value${1===la?"":"s"}: ${hb}`;hb=la.domain();return`values from ${O(hb[0])} to ${O(l.peek(hb))}`};u.interpolate=Mh;u.interpolateColors=Kg;u.interpolateRange=function(O,la){const $a=la[0],hb=l.peek(la)-$a;return function(tb){return O($a+tb*hb)}};u.isContinuous=function(O){return pf(O,"continuous")};u.isDiscrete=ug;u.isDiscretizing=ph;u.isInterpolating=
function(O){return pf(O,"interpolating")};u.isLogarithmic=ch;u.isQuantile=function(O){return pf(O,"quantile")};u.isRegisteredScale=function(O){return O&&!0===O[vj]};u.isTemporal=ng;u.isValidScaleType=ig;u.labelFormat=eh;u.labelFraction=function(O){var la=O.domain();const $a=la.length-1;let hb=+la[0];la=+l.peek(la);let tb=la-hb;"threshold"===O.type&&(O=$a?tb/$a:.1,hb-=O,la+=O,tb=la-hb);return Mb=>(Mb-hb)/tb};u.labelValues=pg;u.quantizeInterpolator=function(O,la){const $a=Array(la),hb=la+1;for(let tb=
0;tb<la;)$a[tb]=O(++tb/hb);return $a};u.registerScale=xd;u.scale=Id;u.scaleCopy=function(O){const la=O.type;O=O.copy();O.type=la;return O};u.scaleFraction=function(O,la,$a){var hb=$a-la;let tb,Mb;return hb&&Number.isFinite(hb)?(hb=(tb=O.type).indexOf("-"),tb=0>hb?tb:tb.slice(hb+1),Mb=Id(tb)().domain([la,$a]).range([0,1]),dh.forEach(pc=>O[pc]?Mb[pc](O[pc]()):0),Mb):l.constant(.5)};u.scaleImplicit=xh;u.scheme=ff;u.tickCount=function(O,la,$a){let hb;l.isNumber(la)&&(O.bins&&(la=Math.max(la,O.bins.length)),
null!=$a&&(la=Math.min(la,Math.floor(l.span(O.domain())/$a||1)+1)));l.isObject(la)&&(hb=la.step,la=la.interval);l.isString(la)&&(la="time"===O.type?ja.timeInterval(la):"utc"==O.type?ja.utcInterval(la):l.error("Only time and utc scales accept interval strings."),hb&&(la=la.every(hb)));return la};u.tickFormat=$f;u.tickValues=vf;u.validTicks=Ve})};
shadow$provide[37]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(24),nb(35),nb(31),nb(36)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,Za,ub){function Wb(G,ba,za){const Pa=G.gradient;let Jb=G.id,Kb="radial"===Pa?"p_":"";Jb||(Jb=G.id="gradient_"+qa++,"radial"===Pa?(G.x1=
ec(G.x1,.5),G.y1=ec(G.y1,.5),G.r1=ec(G.r1,0),G.x2=ec(G.x2,.5),G.y2=ec(G.y2,.5),G.r2=ec(G.r2,.5),Kb="p_"):(G.x1=ec(G.x1,0),G.y1=ec(G.y1,0),G.x2=ec(G.x2,1),G.y2=ec(G.y2,0)));ba[Jb]=G;return"url("+(za||"")+"#"+Kb+Jb+")"}function ec(G,ba){return null!=G?G:ba}function Db(G){return function(){return G}}function yb(G){return 1<=G?pb:-1>=G?-pb:Math.asin(G)}function wb(G){this._+=G[0];for(let ba=1,za=G.length;ba<za;++ba)this._+=arguments[ba]+G[ba]}function Qb(G){let ba=Math.floor(G);if(!(0<=ba))throw Error(`invalid digits: ${G}`);
if(15<ba)return wb;const za=Math.pow(10,ba);return function(Pa){this._+=Pa[0];for(let Jb=1,Kb=Pa.length;Jb<Kb;++Jb)this._+=Math.round(arguments[Jb]*za)/za+Pa[Jb]}}function Yb(){return new Jc}function Ba(G){let ba=3;G.digits=function(za){if(!arguments.length)return ba;if(null==za)ba=null;else{const Pa=Math.floor(za);if(!(0<=Pa))throw new RangeError(`invalid digits: ${za}`);ba=Pa}return G};return()=>new Jc(ba)}function bb(G){return G.innerRadius}function Ab(G){return G.outerRadius}function xb(G){return G.startAngle}
function qb(G){return G.endAngle}function Cb(G){return G&&G.padAngle}function lb(G,ba,za,Pa,Jb,Kb,cc){var t=G-za,M=ba-Pa;cc=(cc?Kb:-Kb)/Oa(t*t+M*M);M*=cc;t*=-cc;var fa=G+M,ta=ba+t,Ua=za+M,Tb=Pa+t;za=(fa+Ua)/2;Pa=(ta+Tb)/2;ba=Ua-fa;G=Tb-ta;cc=ba*ba+G*G;Kb=Jb-Kb;Tb=fa*Tb-Ua*ta;var ic=(0>G?-1:1)*Oa(ka(0,Kb*Kb*cc-Tb*Tb));fa=(Tb*G-ba*ic)/cc;ta=(-Tb*ba-G*ic)/cc;Ua=(Tb*G+ba*ic)/cc;ba=(-Tb*ba+G*ic)/cc;G=fa-za;cc=ta-Pa;za=Ua-za;Pa=ba-Pa;G*G+cc*cc>za*za+Pa*Pa&&(fa=Ua,ta=ba);return{cx:fa,cy:ta,x01:-M,y01:-t,
x11:fa*(Jb/Kb-1),y11:ta*(Jb/Kb-1)}}function mc(G){return"object"===typeof G&&"length"in G?G:Array.from(G)}function ua(G){this._context=G}function ha(G){return new ua(G)}function xa(G){return G[0]}function Sa(G){return G[1]}function Xa(G,ba){function za(M){var fa,ta=(M=mc(M)).length,Ua,Tb=!1,ic;null==Jb&&(cc=Kb(ic=t()));for(fa=0;fa<=ta;++fa)!(fa<ta&&Pa(Ua=M[fa],fa,M))===Tb&&((Tb=!Tb)?cc.lineStart():cc.lineEnd()),Tb&&cc.point(+G(Ua,fa,M),+ba(Ua,fa,M));if(ic)return cc=null,ic+""||null}var Pa=Db(!0),
Jb=null,Kb=ha,cc=null,t=Ba(za);G="function"===typeof G?G:void 0===G?xa:Db(G);ba="function"===typeof ba?ba:void 0===ba?Sa:Db(ba);za.x=function(M){return arguments.length?(G="function"===typeof M?M:Db(+M),za):G};za.y=function(M){return arguments.length?(ba="function"===typeof M?M:Db(+M),za):ba};za.defined=function(M){return arguments.length?(Pa="function"===typeof M?M:Db(!!M),za):Pa};za.curve=function(M){return arguments.length?(Kb=M,null!=Jb&&(cc=Kb(Jb)),za):Kb};za.context=function(M){return arguments.length?
(null==M?Jb=cc=null:cc=Kb(Jb=M),za):Jb};return za}function La(G,ba,za){function Pa(Ua){var Tb,ic,Fc=(Ua=mc(Ua)).length,bc,Wc=!1,Qc,vd=Array(Fc),Pd=Array(Fc);null==t&&(fa=M(Qc=ta()));for(Tb=0;Tb<=Fc;++Tb){if(!(Tb<Fc&&cc(bc=Ua[Tb],Tb,Ua))===Wc)if(Wc=!Wc){var Qd=Tb;fa.areaStart();fa.lineStart()}else{fa.lineEnd();fa.lineStart();for(ic=Tb-1;ic>=Qd;--ic)fa.point(vd[ic],Pd[ic]);fa.lineEnd();fa.areaEnd()}Wc&&(vd[Tb]=+G(bc,Tb,Ua),Pd[Tb]=+ba(bc,Tb,Ua),fa.point(Kb?+Kb(bc,Tb,Ua):vd[Tb],za?+za(bc,Tb,Ua):Pd[Tb]))}if(Qc)return fa=
null,Qc+""||null}function Jb(){return Xa().defined(cc).curve(M).context(t)}var Kb=null,cc=Db(!0),t=null,M=ha,fa=null,ta=Ba(Pa);G="function"===typeof G?G:void 0===G?xa:Db(+G);ba="function"===typeof ba?ba:void 0===ba?Db(0):Db(+ba);za="function"===typeof za?za:void 0===za?Sa:Db(+za);Pa.x=function(Ua){return arguments.length?(G="function"===typeof Ua?Ua:Db(+Ua),Kb=null,Pa):G};Pa.x0=function(Ua){return arguments.length?(G="function"===typeof Ua?Ua:Db(+Ua),Pa):G};Pa.x1=function(Ua){return arguments.length?
(Kb=null==Ua?null:"function"===typeof Ua?Ua:Db(+Ua),Pa):Kb};Pa.y=function(Ua){return arguments.length?(ba="function"===typeof Ua?Ua:Db(+Ua),za=null,Pa):ba};Pa.y0=function(Ua){return arguments.length?(ba="function"===typeof Ua?Ua:Db(+Ua),Pa):ba};Pa.y1=function(Ua){return arguments.length?(za=null==Ua?null:"function"===typeof Ua?Ua:Db(+Ua),Pa):za};Pa.lineX0=Pa.lineY0=function(){return Jb().x(G).y(ba)};Pa.lineY1=function(){return Jb().x(G).y(za)};Pa.lineX1=function(){return Jb().x(Kb).y(ba)};Pa.defined=
function(Ua){return arguments.length?(cc="function"===typeof Ua?Ua:Db(!!Ua),Pa):cc};Pa.curve=function(Ua){return arguments.length?(M=Ua,null!=t&&(fa=M(t)),Pa):M};Pa.context=function(Ua){return arguments.length?(null==Ua?t=fa=null:fa=M(t=Ua),Pa):t};return Pa}function jb(){}function fb(G,ba,za){G._context.bezierCurveTo((2*G._x0+G._x1)/3,(2*G._y0+G._y1)/3,(G._x0+2*G._x1)/3,(G._y0+2*G._y1)/3,(G._x0+4*G._x1+ba)/6,(G._y0+4*G._y1+za)/6)}function vb(G){this._context=G}function Rb(G){this._context=G}function Na(G){this._context=
G}function U(G,ba){this._basis=new vb(G);this._beta=ba}function ea(G,ba,za){G._context.bezierCurveTo(G._x1+G._k*(G._x2-G._x0),G._y1+G._k*(G._y2-G._y0),G._x2+G._k*(G._x1-ba),G._y2+G._k*(G._y1-za),G._x2,G._y2)}function Ja(G,ba){this._context=G;this._k=(1-ba)/6}function Z(G,ba){this._context=G;this._k=(1-ba)/6}function Fa(G,ba){this._context=G;this._k=(1-ba)/6}function ma(G,ba,za){var Pa=G._x1,Jb=G._y1,Kb=G._x2,cc=G._y2;if(1E-12<G._l01_a){var t=2*G._l01_2a+3*G._l01_a*G._l12_a+G._l12_2a,M=3*G._l01_a*
(G._l01_a+G._l12_a);Pa=(Pa*t-G._x0*G._l12_2a+G._x2*G._l01_2a)/M;Jb=(Jb*t-G._y0*G._l12_2a+G._y2*G._l01_2a)/M}1E-12<G._l23_a&&(t=2*G._l23_2a+3*G._l23_a*G._l12_a+G._l12_2a,M=3*G._l23_a*(G._l23_a+G._l12_a),Kb=(Kb*t+G._x1*G._l23_2a-ba*G._l12_2a)/M,cc=(cc*t+G._y1*G._l23_2a-za*G._l12_2a)/M);G._context.bezierCurveTo(Pa,Jb,Kb,cc,G._x2,G._y2)}function na(G,ba){this._context=G;this._alpha=ba}function n(G,ba){this._context=G;this._alpha=ba}function F(G,ba){this._context=G;this._alpha=ba}function N(G){this._context=
G}function x(G,ba,za){var Pa=G._x1-G._x0;ba-=G._x1;var Jb=(G._y1-G._y0)/(Pa||0>ba&&-0);G=(za-G._y1)/(ba||0>Pa&&-0);return((0>Jb?-1:1)+(0>G?-1:1))*Math.min(Math.abs(Jb),Math.abs(G),.5*Math.abs((Jb*ba+G*Pa)/(Pa+ba)))||0}function T(G,ba){var za=G._x1-G._x0;return za?(3*(G._y1-G._y0)/za-ba)/2:ba}function B(G,ba,za){var Pa=G._x0,Jb=G._x1,Kb=G._y1,cc=(Jb-Pa)/3;G._context.bezierCurveTo(Pa+cc,G._y0+cc*ba,Jb-cc,Kb-cc*za,Jb,Kb)}function A(G){this._context=G}function Q(G){this._context=new D(G)}function D(G){this._context=
G}function E(G){this._context=G}function I(G){var ba,za=G.length-1,Pa=Array(za),Jb=Array(za),Kb=Array(za);Pa[0]=0;Jb[0]=2;Kb[0]=G[0]+2*G[1];for(ba=1;ba<za-1;++ba)Pa[ba]=1,Jb[ba]=4,Kb[ba]=4*G[ba]+2*G[ba+1];Pa[za-1]=2;Jb[za-1]=7;Kb[za-1]=8*G[za-1]+G[za];for(ba=1;ba<za;++ba){var cc=Pa[ba]/Jb[ba-1];Jb[ba]-=cc;Kb[ba]-=cc*Kb[ba-1]}Pa[za-1]=Kb[za-1]/Jb[za-1];for(ba=za-2;0<=ba;--ba)Pa[ba]=(Kb[ba]-Pa[ba+1])/Jb[ba];Jb[za-1]=(G[za]+Pa[za-1])/2;for(ba=0;ba<za-1;++ba)Jb[ba]=2*G[ba+1]-Pa[ba+1];return[Pa,Jb]}function X(G,
ba){this._context=G;this._t=ba}function Da(G,ba,za){G=l.hasOwnProperty(be,G)&&be[G];var Pa=null;G&&(Pa=G.curve||G[ba||"vertical"],G.tension&&null!=za&&(Pa=Pa[G.tension](za)));return Pa}function S(G){const ba=[];(G.match(qd)||[]).forEach(za=>{let Pa=za[0];var Jb=Pa.toLowerCase();const Kb=Bd[Jb];var cc=za.slice(1).trim();za=[];for(let M=0;Kb&&M<cc.length;)for(let fa=0;fa<Kb;++fa){var t="a"!==Jb||3!==fa&&4!==fa?Kd:te;t=cc.slice(M).match(t);if(null===t)throw Error("Invalid SVG path, incorrect parameter type");
M+=t[0].length;za.push(+t[0]);t=cc.slice(M).match(de);null!==t&&(M+=t[0].length)}cc=za.length;if(cc<Kb||cc&&0!==cc%Kb)throw Error("Invalid SVG path, incorrect parameter count");ba.push([Pa,...za.slice(0,Kb)]);if(cc!==Kb)for("m"===Jb&&(Pa="M"===Pa?"L":"l"),Jb=Kb;Jb<cc;Jb+=Kb)ba.push([Pa,...za.slice(Jb,Jb+Kb)])});return ba}function ia(G,ba,za,Pa,Jb,Kb,cc,t,M){const fa=zg.call(arguments);if(lf[fa])return lf[fa];var ta=cc*$d;const Ua=Math.sin(ta);ta=Math.cos(ta);za=Math.abs(za);Pa=Math.abs(Pa);var Tb=
ta*(t-G)*.5+Ua*(M-ba)*.5,ic=ta*(M-ba)*.5-Ua*(t-G)*.5;Tb=Tb*Tb/(za*za)+ic*ic/(Pa*Pa);1<Tb&&(Tb=Math.sqrt(Tb),za*=Tb,Pa*=Tb);var Fc=ta/za,bc=Ua/za,Wc=-Ua/Pa,Qc=ta/Pa;Tb=Fc*t+bc*M;ic=Wc*t+Qc*M;Fc=Fc*G+bc*ba;bc=Wc*G+Qc*ba;Wc=1/((Fc-Tb)*(Fc-Tb)+(bc-ic)*(bc-ic))-.25;0>Wc&&(Wc=0);Qc=Math.sqrt(Wc);Kb==Jb&&(Qc=-Qc);Wc=.5*(Tb+Fc)-Qc*(bc-ic);Qc=.5*(ic+bc)+Qc*(Fc-Tb);Tb=Math.atan2(ic-Qc,Tb-Wc);ic=Math.atan2(bc-Qc,Fc-Wc)-Tb;0>ic&&1===Kb?ic+=$c:0<ic&&0===Kb&&(ic-=$c);Fc=Math.ceil(Math.abs(ic/(Ee+.001)));bc=[];
for(let vd=0;vd<Fc;++vd)bc[vd]=[Wc,Qc,Tb+vd*ic/Fc,Tb+(vd+1)*ic/Fc,za,Pa,Ua,ta];return lf[fa]=bc}function Ca(G,ba,za,Pa,Jb,Kb){var cc=null,t=0,M=0,fa=0,ta=0,Ua=0,Tb=0;null==za&&(za=0);null==Pa&&(Pa=0);null==Jb&&(Jb=1);null==Kb&&(Kb=Jb);G.beginPath&&G.beginPath();for(var ic=0,Fc=ba.length;ic<Fc;++ic){var bc=ba[ic];if(1!==Jb||1!==Kb){var Wc=Jb;var Qc=Kb;var vd=yf[0]=bc[0];if("a"===vd||"A"===vd)yf[1]=Wc*bc[1],yf[2]=Qc*bc[2],yf[3]=bc[3],yf[4]=bc[4],yf[5]=bc[5],yf[6]=Wc*bc[6],yf[7]=Qc*bc[7];else if("h"===
vd||"H"===vd)yf[1]=Wc*bc[1];else if("v"===vd||"V"===vd)yf[1]=Qc*bc[1];else{vd=1;for(var Pd=bc.length;vd<Pd;++vd)yf[vd]=(1==vd%2?Wc:Qc)*bc[vd]}bc=yf}switch(bc[0]){case "l":t+=bc[1];M+=bc[2];G.lineTo(t+za,M+Pa);break;case "L":t=bc[1];M=bc[2];G.lineTo(t+za,M+Pa);break;case "h":t+=bc[1];G.lineTo(t+za,M+Pa);break;case "H":t=bc[1];G.lineTo(t+za,M+Pa);break;case "v":M+=bc[1];G.lineTo(t+za,M+Pa);break;case "V":M=bc[1];G.lineTo(t+za,M+Pa);break;case "m":t+=bc[1];M+=bc[2];Ua=t;Tb=M;G.moveTo(t+za,M+Pa);break;
case "M":t=bc[1];M=bc[2];Ua=t;Tb=M;G.moveTo(t+za,M+Pa);break;case "c":Wc=t+bc[5];Qc=M+bc[6];fa=t+bc[3];ta=M+bc[4];G.bezierCurveTo(t+bc[1]+za,M+bc[2]+Pa,fa+za,ta+Pa,Wc+za,Qc+Pa);t=Wc;M=Qc;break;case "C":t=bc[5];M=bc[6];fa=bc[3];ta=bc[4];G.bezierCurveTo(bc[1]+za,bc[2]+Pa,fa+za,ta+Pa,t+za,M+Pa);break;case "s":Wc=t+bc[3];Qc=M+bc[4];fa=2*t-fa;ta=2*M-ta;G.bezierCurveTo(fa+za,ta+Pa,t+bc[1]+za,M+bc[2]+Pa,Wc+za,Qc+Pa);fa=t+bc[1];ta=M+bc[2];t=Wc;M=Qc;break;case "S":Wc=bc[3];Qc=bc[4];fa=2*t-fa;ta=2*M-ta;G.bezierCurveTo(fa+
za,ta+Pa,bc[1]+za,bc[2]+Pa,Wc+za,Qc+Pa);t=Wc;M=Qc;fa=bc[1];ta=bc[2];break;case "q":Wc=t+bc[3];Qc=M+bc[4];fa=t+bc[1];ta=M+bc[2];G.quadraticCurveTo(fa+za,ta+Pa,Wc+za,Qc+Pa);t=Wc;M=Qc;break;case "Q":Wc=bc[3];Qc=bc[4];G.quadraticCurveTo(bc[1]+za,bc[2]+Pa,Wc+za,Qc+Pa);t=Wc;M=Qc;fa=bc[1];ta=bc[2];break;case "t":Wc=t+bc[1];Qc=M+bc[2];null===cc[0].match(/[QqTt]/)?(fa=t,ta=M):"t"===cc[0]?(fa=2*t-Qd,ta=2*M-Be):"q"===cc[0]&&(fa=2*t-fa,ta=2*M-ta);var Qd=fa;var Be=ta;G.quadraticCurveTo(fa+za,ta+Pa,Wc+za,Qc+Pa);
t=Wc;M=Qc;fa=t+bc[1];ta=M+bc[2];break;case "T":Wc=bc[1];Qc=bc[2];fa=2*t-fa;ta=2*M-ta;G.quadraticCurveTo(fa+za,ta+Pa,Wc+za,Qc+Pa);t=Wc;M=Qc;break;case "a":Qa(G,t+za,M+Pa,[bc[1],bc[2],bc[3],bc[4],bc[5],bc[6]+t+za,bc[7]+M+Pa]);t+=bc[6];M+=bc[7];break;case "A":Qa(G,t+za,M+Pa,[bc[1],bc[2],bc[3],bc[4],bc[5],bc[6]+za,bc[7]+Pa]);t=bc[6];M=bc[7];break;case "z":case "Z":t=Ua,M=Tb,G.closePath()}cc=bc}}function Qa(G,ba,za,Pa){ba=ia(Pa[5],Pa[6],Pa[0],Pa[1],Pa[3],Pa[4],Pa[2],ba,za);for(za=0;za<ba.length;++za){a:{var Jb=
ba[za];Pa=zg.call(Jb);if(uf[Pa]){Pa=uf[Pa];break a}var Kb=Jb[0],cc=Jb[1],t=Jb[2],M=Jb[3],fa=Jb[4],ta=Jb[5],Ua=Jb[6],Tb=Jb[7];Jb=Tb*fa;const Fc=-Ua*ta;fa*=Ua;ta*=Tb;var ic=Math.cos(t);const bc=Math.sin(t);Ua=Math.cos(M);Tb=Math.sin(M);t=.5*(M-t);M=Math.sin(.5*t);M=8/3*M*M/Math.sin(t);t=Kb+ic-M*bc;ic=cc+bc+M*ic;Kb+=Ua;cc+=Tb;Tb=Kb+M*Tb;Ua=cc-M*Ua;Pa=uf[Pa]=[Jb*t+Fc*ic,fa*t+ta*ic,Jb*Tb+Fc*Ua,fa*Tb+ta*Ua,Jb*Kb+Fc*cc,fa*Kb+ta*cc]}G.bezierCurveTo(Pa[0],Pa[1],Pa[2],Pa[3],Pa[4],Pa[5])}}function Ra(G){return l.hasOwnProperty(Tf,
G)?Tf[G]:db(G)}function db(G){if(!l.hasOwnProperty(kg,G)){const ba=S(G);kg[G]={draw:function(za,Pa){Ca(za,ba,0,0,Math.sqrt(Pa)/2)}}}return kg[G]}function zb(G){return G.x}function kb(G){return G.y}function Vb(G){return G.width}function Y(G){return G.height}function Ha(G){return"function"===typeof G?G:()=>+G}function Ub(G,ba,za){return Math.max(ba,Math.min(G,za))}function kc(){function G(ta,Ua,Tb){var ic;Ua=null!=Ua?Ua:+ba.call(this,ta);Tb=null!=Tb?Tb:+za.call(this,ta);var Fc=+Pa.call(this,ta),bc=
+Jb.call(this,ta),Wc=Math.min(Fc,bc)/2,Qc=Ub(+Kb.call(this,ta),0,Wc),vd=Ub(+cc.call(this,ta),0,Wc),Pd=Ub(+t.call(this,ta),0,Wc);ta=Ub(+M.call(this,ta),0,Wc);fa||(fa=ic=Yb());0>=Qc&&0>=vd&&0>=Pd&&0>=ta?fa.rect(Ua,Tb,Fc,bc):(Fc=Ua+Fc,bc=Tb+bc,fa.moveTo(Ua+Qc,Tb),fa.lineTo(Fc-vd,Tb),fa.bezierCurveTo(Fc-.448084975506*vd,Tb,Fc,Tb+.448084975506*vd,Fc,Tb+vd),fa.lineTo(Fc,bc-ta),fa.bezierCurveTo(Fc,bc-.448084975506*ta,Fc-.448084975506*ta,bc,Fc-ta,bc),fa.lineTo(Ua+Pd,bc),fa.bezierCurveTo(Ua+.448084975506*
Pd,bc,Ua,bc-.448084975506*Pd,Ua,bc-Pd),fa.lineTo(Ua,Tb+Qc),fa.bezierCurveTo(Ua,Tb+.448084975506*Qc,Ua+.448084975506*Qc,Tb,Ua+Qc,Tb),fa.closePath());if(ic)return fa=null,ic+""||null}var ba=zb,za=kb,Pa=Vb,Jb=Y,Kb=Ha(0),cc=Kb,t=Kb,M=Kb,fa=null;G.x=function(ta){return arguments.length?(ba=Ha(ta),G):ba};G.y=function(ta){return arguments.length?(za=Ha(ta),G):za};G.width=function(ta){return arguments.length?(Pa=Ha(ta),G):Pa};G.height=function(ta){return arguments.length?(Jb=Ha(ta),G):Jb};G.cornerRadius=
function(ta,Ua,Tb,ic){return arguments.length?(Kb=Ha(ta),cc=null!=Ua?Ha(Ua):Kb,M=null!=Tb?Ha(Tb):Kb,t=null!=ic?Ha(ic):cc,G):Kb};G.context=function(ta){return arguments.length?(fa=null==ta?null:ta,G):fa};return G}function Zb(){function G(ta){var Ua,Tb=ta.length,ic,Fc=!1,bc;null==Kb&&(Kb=bc=Yb());for(Ua=0;Ua<=Tb;++Ua)if(!(Ua<Tb&&Jb(ic=ta[Ua],Ua,ta))===Fc&&(Fc=!Fc)&&(cc=0),Fc){var Wc=+ba(ic,Ua,ta),Qc=+za(ic,Ua,ta);const gf=+Pa(ic,Ua,ta)/2;if(cc){var vd=M-Qc,Pd=Wc-t;if(vd||Pd){var Qd=Math.hypot(vd,Pd),
Be=(vd/=Qd)*fa;Qd=(Pd/=Qd)*fa;var Af=Math.atan2(Pd,vd);Kb.moveTo(t-Be,M-Qd);Kb.lineTo(Wc-vd*gf,Qc-Pd*gf);Kb.arc(Wc,Qc,gf,Af-Math.PI,Af);Kb.lineTo(t+Be,M+Qd);Kb.arc(t,M,fa,Af,Af+Math.PI)}else Kb.arc(Wc,Qc,gf,0,$c);Kb.closePath()}else cc=1;t=Wc;M=Qc;fa=gf}if(bc)return Kb=null,bc+""||null}var ba,za,Pa,Jb,Kb=null,cc,t,M,fa;G.x=function(ta){return arguments.length?(ba=ta,G):ba};G.y=function(ta){return arguments.length?(za=ta,G):za};G.size=function(ta){return arguments.length?(Pa=ta,G):Pa};G.defined=function(ta){return arguments.length?
(Jb=ta,G):Jb};G.context=function(ta){return arguments.length?(Kb=null==ta?null:ta,G):Kb};return G}function Pb(G,ba){return null!=G?G:ba}function Nb(G){return G.cornerRadius||G.cornerRadiusTopLeft||G.cornerRadiusTopRight||G.cornerRadiusBottomRight||G.cornerRadiusBottomLeft}function tc(G,ba,za,Pa){return $g.context(G)(ba,za,Pa)}function Mc(G,ba,za){var Pa=ba.clip;G=G._defs;ba=ba.clip_id||(ba.clip_id="clip"+Sg++);G=G.clipping[ba]||(G.clipping[ba]={id:ba});l.isFunction(Pa)?G.path=Pa(null):Nb(za)?G.path=
tc(null,za,0,0):(G.width=za.width||0,G.height=za.height||0);return"url(#"+ba+")"}function ra(G){this.clear();G&&this.union(G)}function Hb(G){this.mark=G;this.bounds=this.bounds||new ra}function Va(G){Hb.call(this,G);this.items=this.items||[]}function Bb(G,ba,za){if(ba.stroke&&0!==ba.opacity&&0!==ba.strokeOpacity){const Pa=null!=ba.strokeWidth?+ba.strokeWidth:1;G.expand(Pa+(za?ba.strokeJoin&&"miter"!==ba.strokeJoin?0:Pa:0))}return G}function Ib(G,ba){Uf=G;ba?(mb=ba*$d,yc=Vd=Math.cos(mb),Ac=Math.sin(mb),
xd=-Ac):(yc=Vd=1,mb=Ac=xd=0);return ch}function Eb(G,ba,za,Pa){za=(G-ba)/(G+za-2*ba);0<za&&1>za&&Pa(G+(ba-G)*za)}function Xb(G,ba,za,Pa,Jb){const Kb=Pa-G+3*ba-3*za,cc=G+za-2*ba;var t=G-ba;let M=0,fa=0;1E-14<Math.abs(Kb)?(t=cc*cc+t*Kb,0<=t&&(t=Math.sqrt(t),M=(-cc+t)/Kb,fa=(-cc-t)/Kb)):M=.5*t/cc;0<M&&1>M&&Jb(jc(M,G,ba,za,Pa));0<fa&&1>fa&&Jb(jc(fa,G,ba,za,Pa))}function jc(G,ba,za,Pa,Jb){const Kb=1-G,cc=Kb*Kb,t=G*G;return cc*Kb*ba+3*cc*G*za+3*Kb*t*Pa+t*G*Jb}function rc(G){return function(ba,za){if(!ng)return!0;
G(ng,ba);Kg.clear().union(ba.bounds).intersect(za).round();const {x1:Pa,y1:Jb,x2:Kb,y2:cc}=Kg;for(ba=Jb;ba<=cc;++ba)for(za=Pa;za<=Kb;++za)if(ng.isPointInPath(za,ba))return!0;return!1}}function ad(G,ba){return ba.contains(G.x||0,G.y||0)}function Lc(G,ba){const za=G.x||0,Pa=G.y||0;return ba.intersects(Kg.set(za,Pa,za+(G.width||0),Pa+(G.height||0)))}function oa(G,ba){const za=G.x||0,Pa=G.y||0;return Ma(ba,za,Pa,null!=G.x2?G.x2:za,null!=G.y2?G.y2:Pa)}function Ma(G,ba,za,Pa,Jb){const {x1:Kb,y1:cc,x2:t,
y2:M}=G;G=Pa-ba;Jb-=za;Pa=0;let fa=1,ta,Ua,Tb,ic;for(ic=0;4>ic;++ic){0===ic&&(ta=-G,Ua=-(Kb-ba));1===ic&&(ta=G,Ua=t-ba);2===ic&&(ta=-Jb,Ua=-(cc-za));3===ic&&(ta=Jb,Ua=M-za);if(1E-10>Math.abs(ta)&&0>Ua)return!1;Tb=Ua/ta;if(0>ta){if(Tb>fa)return!1;Tb>Pa&&(Pa=Tb)}else if(0<ta){if(Tb<Pa)return!1;Tb<fa&&(fa=Tb)}}return!0}function ib(G,ba){G.globalCompositeOperation=ba.blend||"source-over"}function V(G,ba){return null==G?ba:G}function w(G,ba){const za=ba.length;for(let Pa=0;Pa<za;++Pa)G.addColorStop(ba[Pa].offset,
ba[Pa].color);return G}function da(G,ba,za){const Pa=za.width(),Jb=za.height();if("radial"===ba.gradient)G=G.createRadialGradient(za.x1+V(ba.x1,.5)*Pa,za.y1+V(ba.y1,.5)*Jb,Math.max(Pa,Jb)*V(ba.r1,0),za.x1+V(ba.x2,.5)*Pa,za.y1+V(ba.y2,.5)*Jb,Math.max(Pa,Jb)*V(ba.r2,.5));else{const Kb=V(ba.x1,0),cc=V(ba.y1,0),t=V(ba.x2,1),M=V(ba.y2,0);if(Kb===t||cc===M||Pa===Jb)G=G.createLinearGradient(za.x1+Kb*Pa,za.y1+cc*Jb,za.x1+t*Pa,za.y1+M*Jb);else{za=ja.canvas(Math.ceil(Pa),Math.ceil(Jb));const fa=za.getContext("2d");
fa.scale(Pa,Jb);fa.fillStyle=w(fa.createLinearGradient(Kb,cc,t,M),ba.stops);fa.fillRect(0,0,Pa,Jb);return G.createPattern(za,"no-repeat")}}return w(G,ba.stops)}function Aa(G,ba,za){za*=null==ba.fillOpacity?1:ba.fillOpacity;return 0<za?(G.globalAlpha=za,ba=(za=ba.fill)&&za.gradient?da(G,za,ba.bounds):za,G.fillStyle=ba,!0):!1}function Ia(G,ba,za){var Pa=null!=(Pa=ba.strokeWidth)?Pa:1;if(0>=Pa)return!1;za*=null==ba.strokeOpacity?1:ba.strokeOpacity;return 0<za?(G.globalAlpha=za,za=(za=ba.stroke)&&za.gradient?
da(G,za,ba.bounds):za,G.strokeStyle=za,G.lineWidth=Pa,G.lineCap=ba.strokeCap||"butt",G.lineJoin=ba.strokeJoin||"miter",G.miterLimit=ba.strokeMiterLimit||10,G.setLineDash&&(G.setLineDash(ba.strokeDash||Mh),G.lineDashOffset=ba.strokeDashOffset||0),!0):!1}function Wa(G,ba){return G.zindex-ba.zindex||G.index-ba.index}function ob(G){if(!G.zdirty)return G.zitems;var ba=G.items,za=[],Pa;var Jb=0;for(Pa=ba.length;Jb<Pa;++Jb){var Kb=ba[Jb];Kb.index=Jb;Kb.zindex&&za.push(Kb)}G.zdirty=!1;return G.zitems=za.sort(Wa)}
function Sb(G,ba){var za=G.items,Pa;if(za&&za.length){var Jb=ob(G);if(Jb&&Jb.length){G=0;for(Pa=za.length;G<Pa;++G)za[G].zindex||ba(za[G]);za=Jb}G=0;for(Pa=za.length;G<Pa;++G)ba(za[G])}}function Gb(G,ba){var za=G.items,Pa,Jb;if(!za||!za.length)return null;const Kb=ob(G);Kb&&Kb.length&&(za=Kb);for(Jb=za.length;0<=--Jb;)if(Pa=ba(za[Jb]))return Pa;if(za===Kb)for(za=G.items,Jb=za.length;0<=--Jb;)if(!za[Jb].zindex&&(Pa=ba(za[Jb])))return Pa;return null}function Ob(G){return function(ba,za,Pa){Sb(za,Jb=>
{Pa&&!Pa.intersects(Jb.bounds)||Bc(G,ba,Jb,Jb)})}}function vc(G){return function(ba,za,Pa){!za.items.length||Pa&&!Pa.intersects(za.bounds)||Bc(G,ba,za.items[0],za.items)}}function Bc(G,ba,za,Pa){var Jb=null==za.opacity?1:za.opacity;0===Jb||G(ba,Pa)||(ib(ba,za),za.fill&&Aa(ba,za,Jb)&&ba.fill(),za.stroke&&Ia(ba,za,Jb)&&ba.stroke())}function Ic(G){G=G||l.truthy;return function(ba,za,Pa,Jb,Kb,cc){Pa*=ba.pixelRatio;Jb*=ba.pixelRatio;return Gb(za,t=>{const M=t.bounds;if((!M||M.contains(Kb,cc))&&M&&G(ba,
t,Pa,Jb,Kb,cc))return t})}}function id(G,ba){return function(za,Pa,Jb,Kb){var cc=Array.isArray(Pa)?Pa[0]:Pa,t=null==ba?cc.fill:ba,M=cc.stroke&&za.isPointInStroke;if(M){var fa=cc.strokeWidth;cc=cc.strokeCap;za.lineWidth=null!=fa?fa:1;za.lineCap=null!=cc?cc:"butt"}return G(za,Pa)?!1:t&&za.isPointInPath(Jb,Kb)||M&&za.isPointInStroke(Jb,Kb)}}function dd(G,ba){return"translate("+G+","+ba+")"}function Uc(G,ba,za){function Pa(Jb,Kb){var cc=Kb.x||0,t=Kb.y||0,M=Kb.angle||0;Jb.translate(cc,t);M&&Jb.rotate(M*=
$d);Jb.beginPath();ba(Jb,Kb);M&&Jb.rotate(-M);Jb.translate(-cc,-t)}return{type:G,tag:"path",nested:!1,attr:function(Jb,Kb){var cc=dd(Kb.x||0,Kb.y||0)+(Kb.angle?" rotate("+(Kb.angle+")"):"");Jb("transform",cc);Jb("d",ba(null,Kb))},bound:function(Jb,Kb){ba(Ib(Jb,Kb.angle),Kb);return Bb(Jb,Kb).translate(Kb.x||0,Kb.y||0)},draw:Ob(Pa),pick:Ic(id(Pa)),isect:za||rc(Pa)}}function kd(G,ba,za){function Pa(Kb,cc){Kb.beginPath();ba(Kb,cc)}const Jb=id(Pa);return{type:G,tag:"path",nested:!0,attr:function(Kb,cc){cc=
cc.mark.items;cc.length&&Kb("d",ba(null,cc))},bound:function(Kb,cc){cc=cc.items;if(0===cc.length)return Kb;ba(Ib(Kb),cc);return Bb(Kb,cc[0])},draw:vc(Pa),pick:function(Kb,cc,t,M,fa,ta){var Ua=cc.items;cc=cc.bounds;if(!Ua||!Ua.length||cc&&!cc.contains(fa,ta))return null;t*=Kb.pixelRatio;M*=Kb.pixelRatio;return Jb(Kb,Ua,t,M)?Ua[0]:null},isect:ad,tip:za}}function ld(G,ba){G.beginPath();Nb(ba)?tc(G,ba,0,0):G.rect(0,0,ba.width||0,ba.height||0);G.clip()}function ed(G){const ba=V(G.strokeWidth,1);return null!=
G.strokeOffset?G.strokeOffset:G.stroke&&.5<ba&&1.5>ba?.5-Math.abs(ba-1):0}function ge(G,ba,za,Pa){const Jb=ed(ba);G.beginPath();tc(G,ba,(za||0)+Jb,(Pa||0)+Jb)}function gd(G,ba){var za=G.image;if(!za||G.url&&G.url!==za.url)za={complete:!1,width:0,height:0},ba.loadImage(G.url).then(Pa=>{G.image=Pa;G.image.url=G.url});return za}function z(G,ba){return null!=G.width?G.width:ba&&ba.width?!1!==G.aspect&&G.height?G.height*ba.width/ba.height:ba.width:0}function K(G,ba){return null!=G.height?G.height:ba&&
ba.height?!1!==G.aspect&&G.width?G.width*ba.height/ba.width:ba.height:0}function va(G,ba){return"center"===G?ba/2:"right"===G?ba:0}function v(G,ba){return"middle"===G?ba/2:"bottom"===G?ba:0}function R(G,ba){var za=ba.path;if(null==za)return!0;var Pa=ba.x||0,Jb=ba.y||0,Kb=ba.scaleX||1,cc=ba.scaleY||1,t=(ba.angle||0)*$d,M=ba.pathCache;M&&M.path===za||((ba.pathCache=M=S(za)).path=za);t&&G.rotate&&G.translate?(G.translate(Pa,Jb),G.rotate(t),Ca(G,M,0,0,Kb,cc),G.rotate(-t),G.translate(-Pa,-Jb)):Ca(G,M,
Pa,Jb,Kb,cc)}function ca(G,ba){G.beginPath();tc(G,ba)}function wa(G,ba,za){if(ba.stroke&&Ia(G,ba,za)){za=ba.x||0;var Pa=ba.y||0;var Jb=null!=ba.x2?ba.x2:za;ba=null!=ba.y2?ba.y2:Pa;G.beginPath();G.moveTo(za,Pa);G.lineTo(Jb,ba);return!0}return!1}function pa(G){og.width=G&&ng?Lb:eb}function eb(G,ba){ba=Nc(G,ba);G=hc(G);return~~(.8*ba.length*G)}function Lb(G,ba){return 0>=hc(G)||!(ba=Nc(G,ba))?0:$b(ba,yd(G))}function $b(G,ba){const za=`(${ba}) ${G}`;let Pa=Lh.get(za);void 0===Pa&&(ng.font=ba,Pa=ng.measureText(G).width,
Lh.set(za,Pa));return Pa}function hc(G){return null!=G.fontSize?+G.fontSize||0:11}function Ec(G){return null!=G.lineHeight?G.lineHeight:hc(G)+2}function Pc(G){G=G.lineBreak&&G.text&&!l.isArray(G.text)?G.text.split(G.lineBreak):G.text;return l.isArray(G)?1<G.length?G:G[0]:G}function Nc(G,ba){ba=null==ba?"":(ba+"").trim();if(0<G.limit&&ba.length){var za=+G.limit,Pa=md(G);if(!(Pa(ba)<za)){var Jb=G.ellipsis||"",Kb="rtl"===G.dir;G=0;var cc=ba.length;za-=Pa(Jb);if(Kb){for(;G<cc;)Kb=G+cc>>>1,Pa(ba.slice(Kb))>
za?G=Kb+1:cc=Kb;ba=Jb+ba.slice(G)}else{for(;G<cc;)Kb=1+(G+cc>>>1),Pa(ba.slice(0,Kb))<za?G=Kb:cc=Kb-1;ba=ba.slice(0,G)+Jb}}}return ba}function md(G){if(og.width===Lb){const ba=yd(G);return za=>$b(za,ba)}if(og.width===eb){const ba=hc(G);return za=>~~(.8*za.length*ba)}return ba=>og.width(G,ba)}function td(G,ba){G=G.font;return(ba&&G?String(G).replace(/"/g,"'"):G)||"sans-serif"}function yd(G,ba){return(G.fontStyle?G.fontStyle+" ":"")+(G.fontVariant?G.fontVariant+" ":"")+(G.fontWeight?G.fontWeight+" ":
"")+hc(G)+"px "+td(G,ba)}function Md(G){var ba=G.baseline,za=hc(G);return Math.round("top"===ba?.79*za:"middle"===ba?.3*za:"bottom"===ba?-.21*za:"line-top"===ba?.29*za+.5*Ec(G):"line-bottom"===ba?.29*za-.5*Ec(G):0)}function Ad(G){var ba=G.x||0,za=G.y||0,Pa=G.radius||0;Pa&&(G=(G.theta||0)-Ee,ba+=Pa*Math.cos(G),za+=Pa*Math.sin(G));qg.x1=ba;qg.y1=za;return qg}function je(G,ba,za){var Pa=og.height(ba),Jb=ba.align,Kb=Ad(ba),cc=Kb.x1;Kb=Kb.y1;var t=ba.dx||0,M=(ba.dy||0)+Md(ba)-Math.round(.8*Pa),fa=Pc(ba);
l.isArray(fa)?(Pa+=Ec(ba)*(fa.length-1),fa=fa.reduce((ta,Ua)=>Math.max(ta,og.width(ba,Ua)),0)):fa=og.width(ba,fa);"center"===Jb?t-=fa/2:"right"===Jb&&(t-=fa);G.set(t+=cc,M+=Kb,t+fa,M+Pa);if(ba.angle&&!za)G.rotate(ba.angle*$d,cc,Kb);else if(2===za)return G.rotatedPoints(ba.angle*$d,cc,Kb);return G}function Me(G,ba,za){var Pa=Bg[G.mark.marktype];ba=ba||Pa.bound;Pa.nested&&(G=G.mark);return ba(G.bounds||(G.bounds=new ra),G,za)}function Qe(G,ba,za){var Pa=Bg[G.marktype],Jb=Pa.bound,Kb=G.items,cc=Kb&&
Kb.length;if(Pa.nested)return cc?G=Kb[0]:(yh.mark=G,G=yh),za=Me(G,Jb,za),ba=ba&&ba.union(za)||za;ba=ba||G.bounds&&G.bounds.clear()||new ra;if(cc)for(Pa=0,cc=Kb.length;Pa<cc;++Pa)ba.union(Me(Kb[Pa],Jb,za));return G.bounds=ba}function Re(G,ba){return JSON.stringify(G,Ti,ba)}function He(G){G="string"===typeof G?JSON.parse(G):G;return De(G)}function De(G){var ba=G.marktype,za=G.items,Pa;if(za){var Jb=0;for(Pa=za.length;Jb<Pa;++Jb){var Kb=ba?"mark":"group";za[Jb][Kb]=G;za[Jb].zindex&&(za[Jb][Kb].zdirty=
!0);"group"===(ba||Kb)&&De(za[Jb])}}ba&&Qe(G);return G}function Ie(G,ba){ba={bounds:new ra,clip:!!G.clip,group:ba,interactive:!1===G.interactive?!1:!0,items:[],marktype:G.marktype,name:G.name||void 0,role:G.role||void 0,zindex:G.zindex||0};null!=G.aria&&(ba.aria=G.aria);G.description&&(ba.description=G.description);return ba}function ke(G,ba,za){!G&&"undefined"!==typeof document&&document.createElement&&(G=document);return G?za?G.createElementNS(za,ba):G.createElement(ba):null}function oe(G,ba){ba=
ba.toLowerCase();G=G.childNodes;for(var za=0,Pa=G.length;za<Pa;++za)if(G[za].tagName.toLowerCase()===ba)return G[za]}function xe(G,ba,za,Pa){ba=G.childNodes[ba];if(!ba||ba.tagName.toLowerCase()!==za.toLowerCase()){var Jb=ba||null;ba=ke(G.ownerDocument,za,Pa);G.insertBefore(ba,Jb)}return ba}function zd(G,ba){for(var za=G.childNodes,Pa=za.length;Pa>ba;)G.removeChild(za[--Pa]);return G}function Jf(G){return"mark-"+G.marktype+(G.role?" role-"+G.role:"")+(G.name?" "+G.name:"")}function Xe(G,ba){const za=
ba.getBoundingClientRect();return[G.clientX-za.left-(ba.clientLeft||0),G.clientY-za.top-(ba.clientTop||0)]}function $e(G,ba,za,Pa){G.element().setAttribute("title",Pa||"")}function df(G,ba){("touchstart"===ba||"touchmove"===ba||"touchend"===ba?["touchstart","touchmove","touchend"]:[ba]).forEach(za=>Fe(G,za))}function Fe(G,ba){const za=G.canvas();za&&!G._events[ba]&&(G._events[ba]=1,za.addEventListener(ba,G[ba]?Pa=>G[ba](Pa):Pa=>G.fire(ba,Pa)))}function Nd(G,ba,za){ba.forEach(Pa=>G.fire(Pa,za))}function Kf(G,
ba,za){return function(Pa){const Jb=this._active,Kb=this.pickEvent(Pa);Kb!==Jb&&(Jb&&Jb.exit||Nd(this,za,Pa),this._active=Kb,Nd(this,ba,Pa));Nd(this,G,Pa)}}function ye(G){return function(ba){Nd(this,G,ba);this._active=null}}function Ea(G,ba){var za=!1===ba.aria;G("aria-hidden",za||void 0);if(za||null==ba.description)for(const Pa in $h)G($h[Pa],void 0);else za=ba.mark.marktype,G("aria-label",ba.description),G("role",ba.ariaRole||("group"===za?"graphics-object":"graphics-symbol")),G("aria-roledescription",
ba.ariaRoleDescription||`${za} mark`)}function cb(G){return!1===G.aria?{["aria-hidden"]:!0}:Xi[G.role]?null:Zh[G.role]?fd(G,Zh[G.role]):fc(G)}function fc(G){const ba=G.marktype,za="group"===ba||"text"===ba||G.items.some(Pa=>null!=Pa.description&&!1!==Pa.aria);return ag(za?"graphics-object":"graphics-symbol",`${ba} mark container`,G.description)}function fd(G,ba){try{const za=G.items[0],Pa=ba.caption||(()=>"");return ag(ba.role||"graphics-symbol",ba.desc,za.description||Pa(za))}catch(za){return null}}
function jd(G){try{return l.array(l.peek(G.items).items[0].text).join(" ")}catch(ba){return null}}function cd(G){G=G.map(ba=>ba+("fill"===ba||"stroke"===ba?" color":""));return 2>G.length?G[0]:G.slice(0,-1).join(", ")+" and "+l.peek(G)}function Dd(){let G="",ba="",za="";const Pa=[],Jb=(cc,t)=>{null!=t&&(ba+=` ${cc}="${Yi(t).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Kb},Kb={open(cc,...t){ba&&(G+=`${ba}>${za}`,ba=za="");Pa.push(cc);
ba="\x3c"+cc;for(const M of t)for(const fa in M)Jb(fa,M[fa]);return Kb},close(){const cc=Pa.pop();G=ba?G+(ba+(za?`>${za}</${cc}>`:"/\x3e")):G+`</${cc}>`;ba=za="";return Kb},attr:Jb,text:cc=>(za+=Yi(cc),Kb),toString:()=>G};return Kb}function Xd(G,ba){G.open(ba.tagName);if(ba.hasAttributes()){const za=ba.attributes,Pa=za.length;for(let Jb=0;Jb<Pa;++Jb)G.attr(za[Jb].name,za[Jb].value)}if(ba.hasChildNodes()){ba=ba.childNodes;for(const za of ba)3===za.nodeType?G.text(za.nodeValue):Xd(G,za)}return G.close()}
function Jd(G,ba){for(;G&&G.dirty!==ba;G=G.mark.group)if(G.dirty=ba,G.mark&&G.mark.dirty!==ba)G.mark.dirty=ba;else break}function Ye(G,ba,za,Pa){ba=ba.lastChild.previousSibling;let Jb,Kb=0;Sb(za,cc=>{Jb=G.mark(ba,cc,Jb,Pa);++Kb});zd(ba,1+Kb)}function nd(G,ba,za,Pa,Jb){let Kb=G._svg;if(!Kb){var cc=ba.ownerDocument;Kb=ke(cc,Pa,Se);G._svg=Kb;G.mark&&(Kb.__data__=G,Kb.__values__={fill:"default"},"g"===Pa&&(Pa=ke(cc,"path",Se),Kb.appendChild(Pa),Pa.__data__=G,Pa=ke(cc,"g",Se),Kb.appendChild(Pa),Pa.__data__=
G,cc=ke(cc,"path",Se),Kb.appendChild(cc),cc.__data__=G,cc.__values__={fill:"default"}))}(Kb.ownerSVGElement!==Jb||Kb.parentNode&&1<Kb.parentNode.childNodes.length&&Kb.previousSibling!=za)&&ba.insertBefore(Kb,za?za.nextSibling:ba.firstChild);return Kb}function qe(G,ba,za){if(ba!==Ff[G]){if(za){var Pa=Cg;null!=ba?Pa.setAttributeNS(za,G,ba):Pa.removeAttributeNS(za,G)}else ce(Cg,G,ba);Ff[G]=ba}}function Ne(G,ba,za){za!==Ff[ba]&&(null==za?G.style.removeProperty(ba):G.style.setProperty(ba,za+""),Ff[ba]=
za)}function hf(G,ba){for(const za in ba)ce(G,za,ba[za])}function ce(G,ba,za){null!=za?G.setAttribute(ba,za):G.removeAttribute(ba)}function jf(){let G;return"undefined"===typeof window?"":(G=window.location).hash?G.href.slice(0,-G.hash.length):G.href}function rf(G,ba,za,Pa,Jb){let Kb;if(null==ba)return G;"bgrect"===Pa&&!1===za.interactive&&(G["pointer-events"]="none");if("bgfore"===Pa&&(!1===za.interactive&&(G["pointer-events"]="none"),G.display="none",null!==ba.fill))return G;"image"===Pa&&!1===
ba.smooth&&(Kb=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===Pa&&(G["font-family"]=td(ba),G["font-size"]=hc(ba)+"px",G["font-style"]=ba.fontStyle,G["font-variant"]=ba.fontVariant,G["font-weight"]=ba.fontWeight);for(const cc in Oh)za=ba[cc],Pa=Oh[cc],("transparent"!==za||"fill"!==Pa&&"stroke"!==Pa)&&null!=za&&(za&&za.gradient&&(za=Wb(za,Jb.gradient,"")),G[Pa]=za);for(const cc in rh)Jb=ba[cc],null!=Jb&&(Kb=Kb||[],Kb.push(`${rh[cc]}: ${Jb};`));Kb&&(G.style=Kb.join(" "));
return G}function ze(G,ba,za,Pa){if(G.bounds&&ba.intersects(G.bounds)&&("group"===G.marktype||!1!==G.interactive&&(!za||za(G)))){const Kb=G.items;var Jb=G.marktype;G=Kb.length;let cc=0;if("group"===Jb)for(;cc<G;++cc)Ze(Kb[cc],ba,za,Pa);else for(za=Bg[Jb].isect;cc<G;++cc)Jb=Kb[cc],ef(Jb,ba,za)&&Pa.push(Jb)}return Pa}function Ze(G,ba,za,Pa){za&&za(G.mark)&&ef(G,ba,Bg.group.isect)&&Pa.push(G);const Jb=G.items,Kb=Jb&&Jb.length;if(Kb){const cc=G.x||0;G=G.y||0;ba.translate(-cc,-G);for(let t=0;t<Kb;++t)ze(Jb[t],
ba,za,Pa);ba.translate(cc,G)}return Pa}function ef(G,ba,za){const Pa=G.bounds;return ba.encloses(Pa)||ba.intersects(Pa)&&za(G,ba)}function me(G,ba,za){return G===ba?!0:"path"===za?re(G,ba):G instanceof Date&&ba instanceof Date?+G===+ba:l.isNumber(G)&&l.isNumber(ba)?1E-9>=Math.abs(G-ba):G&&ba&&(l.isObject(G)||l.isObject(ba))?Wd(G,ba):G==ba}function re(G,ba){return me(S(G),S(ba))}function Wd(G,ba){var za=Object.keys(G),Pa=Object.keys(ba),Jb;if(za.length!==Pa.length)return!1;za.sort();Pa.sort();for(Jb=
za.length-1;0<=Jb;Jb--)if(za[Jb]!=Pa[Jb])return!1;for(Jb=za.length-1;0<=Jb;Jb--)if(Pa=za[Jb],!me(G[Pa],ba[Pa],Pa))return!1;return typeof G===typeof ba}let qa=0;const m=Math.abs,r=Math.atan2,L=Math.cos,ka=Math.max,Ga=Math.min,Ta=Math.sin,Oa=Math.sqrt,sb=Math.PI,pb=sb/2,uc=2*sb,sc=Math.PI,qc=2*sc,oc=qc-1E-6;class Jc{constructor(G){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==G?wb:Qb(G)}moveTo(G,ba){this._append`M${this._x0=this._x1=+G},${this._y0=this._y1=+ba}`}closePath(){null!==
this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(G,ba){this._append`L${this._x1=+G},${this._y1=+ba}`}quadraticCurveTo(G,ba,za,Pa){this._append`Q${+G},${+ba},${this._x1=+za},${this._y1=+Pa}`}bezierCurveTo(G,ba,za,Pa,Jb,Kb){this._append`C${+G},${+ba},${+za},${+Pa},${this._x1=+Jb},${this._y1=+Kb}`}arcTo(G,ba,za,Pa,Jb){G=+G;ba=+ba;za=+za;Pa=+Pa;Jb=+Jb;if(0>Jb)throw Error(`negative radius: ${Jb}`);var Kb=this._x1,cc=this._y1;let t=za-G,M=Pa-ba,fa=Kb-G,ta=cc-ba;var Ua=fa*fa+ta*ta;
if(null===this._x1)this._append`M${this._x1=G},${this._y1=ba}`;else if(1E-6<Ua)if(1E-6<Math.abs(ta*t-M*fa)&&Jb){za-=Kb;Pa-=cc;let Tb=t*t+M*M;cc=Math.sqrt(Tb);Kb=Math.sqrt(Ua);Ua=Jb*Math.tan((sc-Math.acos((Tb+Ua-(za*za+Pa*Pa))/(2*cc*Kb)))/2);Kb=Ua/Kb;Ua/=cc;1E-6<Math.abs(Kb-1)&&this._append`L${G+Kb*fa},${ba+Kb*ta}`;this._append`A${Jb},${Jb},0,0,${+(ta*za>fa*Pa)},${this._x1=G+Ua*t},${this._y1=ba+Ua*M}`}else this._append`L${this._x1=G},${this._y1=ba}`}arc(G,ba,za,Pa,Jb,Kb){G=+G;ba=+ba;za=+za;Kb=!!Kb;
if(0>za)throw Error(`negative radius: ${za}`);let cc=za*Math.cos(Pa),t=za*Math.sin(Pa),M=G+cc,fa=ba+t,ta=1^Kb;Pa=Kb?Pa-Jb:Jb-Pa;null===this._x1?this._append`M${M},${fa}`:(1E-6<Math.abs(this._x1-M)||1E-6<Math.abs(this._y1-fa))&&this._append`L${M},${fa}`;za&&(0>Pa&&(Pa=Pa%qc+qc),Pa>oc?this._append`A${za},${za},0,1,${ta},${G-cc},${ba-t}A${za},${za},0,1,${ta},${this._x1=M},${this._y1=fa}`:1E-6<Pa&&this._append`A${za},${za},0,${+(Pa>=sc)},${ta},${this._x1=G+za*Math.cos(Jb)},${this._y1=ba+za*Math.sin(Jb)}`)}rect(G,
ba,za,Pa){this._append`M${this._x0=this._x1=+G},${this._y0=this._y1=+ba}h${za=+za}v${+Pa}h${-za}Z`}toString(){return this._}}Yb.prototype=Jc.prototype;ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(G,ba){G=+G;ba=+ba;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(G,ba):this._context.moveTo(G,
ba);break;case 1:this._point=2;default:this._context.lineTo(G,ba)}}};var Oc={draw(G,ba){ba=Oa(ba/sb);G.moveTo(ba,0);G.arc(0,0,ba,0,uc)}};vb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:fb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=
1-this._line},point:function(G,ba){G=+G;ba=+ba;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(G,ba):this._context.moveTo(G,ba);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fb(this,G,ba)}this._x0=this._x1;this._x1=G;this._y0=this._y1;this._y1=ba}};Rb.prototype={areaStart:jb,areaEnd:jb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=
NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(G,ba){G=+G;ba=+ba;switch(this._point){case 0:this._point=1;this._x2=G;this._y2=
ba;break;case 1:this._point=2;this._x3=G;this._y3=ba;break;case 2:this._point=3;this._x4=G;this._y4=ba;this._context.moveTo((this._x0+4*this._x1+G)/6,(this._y0+4*this._y1+ba)/6);break;default:fb(this,G,ba)}this._x0=this._x1;this._x1=G;this._y0=this._y1;this._y1=ba}};Na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();
this._line=1-this._line},point:function(G,ba){G=+G;ba=+ba;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var za=(this._x0+4*this._x1+G)/6,Pa=(this._y0+4*this._y1+ba)/6;this._line?this._context.lineTo(za,Pa):this._context.moveTo(za,Pa);break;case 3:this._point=4;default:fb(this,G,ba)}this._x0=this._x1;this._x1=G;this._y0=this._y1;this._y1=ba}};U.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var G=this._x,
ba=this._y,za=G.length-1;if(0<za)for(var Pa=G[0],Jb=ba[0],Kb=G[za]-Pa,cc=ba[za]-Jb,t=-1,M;++t<=za;)M=t/za,this._basis.point(this._beta*G[t]+(1-this._beta)*(Pa+M*Kb),this._beta*ba[t]+(1-this._beta)*(Jb+M*cc));this._x=this._y=null;this._basis.lineEnd()},point:function(G,ba){this._x.push(+G);this._y.push(+ba)}};var Ed=function za(ba){function Pa(Jb){return 1===ba?new vb(Jb):new U(Jb,ba)}Pa.beta=function(Jb){return za(+Jb)};return Pa}(.85);Ja.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=
NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ea(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ba,za){ba=+ba;za=+za;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(ba,za):this._context.moveTo(ba,za);break;case 1:this._point=2;this._x1=
ba;this._y1=za;break;case 2:this._point=3;default:ea(this,ba,za)}this._x0=this._x1;this._x1=this._x2;this._x2=ba;this._y0=this._y1;this._y1=this._y2;this._y2=za}};var pd=function Pa(za){function Jb(Kb){return new Ja(Kb,za)}Jb.tension=function(Kb){return Pa(+Kb)};return Jb}(0);Z.prototype={areaStart:jb,areaEnd:jb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(za,Pa){za=+za;Pa=+Pa;switch(this._point){case 0:this._point=1;this._x3=za;this._y3=Pa;break;case 1:this._point=2;this._context.moveTo(this._x4=za,this._y4=Pa);break;case 2:this._point=3;this._x5=za;this._y5=Pa;break;default:ea(this,za,Pa)}this._x0=this._x1;this._x1=
this._x2;this._x2=za;this._y0=this._y1;this._y1=this._y2;this._y2=Pa}};var wd=function Jb(Pa){function Kb(cc){return new Z(cc,Pa)}Kb.tension=function(cc){return Jb(+cc)};return Kb}(0);Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Pa,Jb){Pa=
+Pa;Jb=+Jb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ea(this,Pa,Jb)}this._x0=this._x1;this._x1=this._x2;this._x2=Pa;this._y0=this._y1;this._y1=this._y2;this._y2=Jb}};var Sd=function Kb(Jb){function cc(t){return new Fa(t,Jb)}cc.tension=function(t){return Kb(+t)};return cc}(0);na.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Jb,Kb){Jb=+Jb;Kb=+Kb;if(this._point){var cc=this._x2-
Jb,t=this._y2-Kb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(cc*cc+t*t,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Jb,Kb):this._context.moveTo(Jb,Kb);break;case 1:this._point=2;break;case 2:this._point=3;default:ma(this,Jb,Kb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Jb;this._y0=this._y1;this._y1=this._y2;this._y2=Kb}};var lc=function cc(Kb){function t(M){return Kb?
new na(M,Kb):new Ja(M,0)}t.alpha=function(M){return cc(+M)};return t}(.5);n.prototype={areaStart:jb,areaEnd:jb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();
break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Kb,cc){Kb=+Kb;cc=+cc;if(this._point){var t=this._x2-Kb,M=this._y2-cc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+M*M,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Kb;this._y3=cc;break;case 1:this._point=2;this._context.moveTo(this._x4=Kb,this._y4=cc);break;case 2:this._point=3;this._x5=Kb;this._y5=cc;break;default:ma(this,Kb,cc)}this._l01_a=this._l12_a;this._l12_a=
this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Kb;this._y0=this._y1;this._y1=this._y2;this._y2=cc}};var ud=function t(cc){function M(fa){return cc?new n(fa,cc):new Z(fa,0)}M.alpha=function(fa){return t(+fa)};return M}(.5);F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=
this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(cc,t){cc=+cc;t=+t;if(this._point){var M=this._x2-cc,fa=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(M*M+fa*fa,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=
4;default:ma(this,cc,t)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=cc;this._y0=this._y1;this._y1=this._y2;this._y2=t}};var ne=function M(t){function fa(ta){return t?new F(ta,t):new Fa(ta,0)}fa.alpha=function(ta){return M(+ta)};return fa}(.5);N.prototype={areaStart:jb,areaEnd:jb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,M){t=+t;
M=+M;this._point?this._context.lineTo(t,M):(this._point=1,this._context.moveTo(t,M))}};A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:B(this,this._t0,T(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(t,
M){var fa=NaN;t=+t;M=+M;if(t!==this._x1||M!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,M):this._context.moveTo(t,M);break;case 1:this._point=2;break;case 2:this._point=3;B(this,T(this,fa=x(this,t,M)),fa);break;default:B(this,this._t0,fa=x(this,t,M))}this._x0=this._x1;this._x1=t;this._y0=this._y1;this._y1=M;this._t0=fa}}};(Q.prototype=Object.create(A.prototype)).point=function(t,M){A.prototype.point.call(this,M,t)};D.prototype={moveTo:function(t,M){this._context.moveTo(M,
t)},closePath:function(){this._context.closePath()},lineTo:function(t,M){this._context.lineTo(M,t)},bezierCurveTo:function(t,M,fa,ta,Ua,Tb){this._context.bezierCurveTo(M,t,ta,fa,Tb,Ua)}};E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var t=this._x,M=this._y,fa=t.length;if(fa)if(this._line?this._context.lineTo(t[0],M[0]):this._context.moveTo(t[0],M[0]),2===fa)this._context.lineTo(t[1],M[1]);else for(var ta=
I(t),Ua=I(M),Tb=0,ic=1;ic<fa;++Tb,++ic)this._context.bezierCurveTo(ta[0][Tb],Ua[0][Tb],ta[1][Tb],Ua[1][Tb],t[ic],M[ic]);(this._line||0!==this._line&&1===fa)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(t,M){this._x.push(+t);this._y.push(+M)}};X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,
this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,M){t=+t;M=+M;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,M):this._context.moveTo(t,M);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,M),this._context.lineTo(t,M);else{var fa=this._x*(1-this._t)+t*this._t;this._context.lineTo(fa,this._y);this._context.lineTo(fa,M)}}this._x=t;this._y=
M}};const be={basis:{curve:function(t){return new vb(t)}},"basis-closed":{curve:function(t){return new Rb(t)}},"basis-open":{curve:function(t){return new Na(t)}},bundle:{curve:Ed,tension:"beta",value:.85},cardinal:{curve:pd,tension:"tension",value:0},"cardinal-open":{curve:Sd,tension:"tension",value:0},"cardinal-closed":{curve:wd,tension:"tension",value:0},"catmull-rom":{curve:lc,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ud,tension:"alpha",value:.5},"catmull-rom-open":{curve:ne,tension:"alpha",
value:.5},linear:{curve:ha},"linear-closed":{curve:function(t){return new N(t)}},monotone:{horizontal:function(t){return new Q(t)},vertical:function(t){return new A(t)}},natural:{curve:function(t){return new E(t)}},step:{curve:function(t){return new X(t,.5)}},"step-after":{curve:function(t){return new X(t,1)}},"step-before":{curve:function(t){return new X(t,0)}}},Bd={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},qd=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Kd=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,
de=/^((\s+,?\s*)|(,\s*))/,te=/^[01]/,$d=Math.PI/180,Ee=Math.PI/2,$c=2*Math.PI,le=Math.sqrt(3)/2;var lf={},uf={},zg=[].join;const yf=["l",0,0,0,0,0,0,0],Tf={circle:{draw:function(t,M){M=Math.sqrt(M)/2;t.moveTo(M,0);t.arc(0,0,M,0,$c)}},cross:{draw:function(t,M){M=Math.sqrt(M)/2;var fa=M/2.5;t.moveTo(-M,-fa);t.lineTo(-M,fa);t.lineTo(-fa,fa);t.lineTo(-fa,M);t.lineTo(fa,M);t.lineTo(fa,fa);t.lineTo(M,fa);t.lineTo(M,-fa);t.lineTo(fa,-fa);t.lineTo(fa,-M);t.lineTo(-fa,-M);t.lineTo(-fa,-fa);t.closePath()}},
diamond:{draw:function(t,M){M=Math.sqrt(M)/2;t.moveTo(-M,0);t.lineTo(0,-M);t.lineTo(M,0);t.lineTo(0,M);t.closePath()}},square:{draw:function(t,M){M=Math.sqrt(M);var fa=-M/2;t.rect(fa,fa,M,M)}},arrow:{draw:function(t,M){M=Math.sqrt(M)/2;var fa=M/7,ta=M/2.5,Ua=M/8;t.moveTo(-fa,M);t.lineTo(fa,M);t.lineTo(fa,-Ua);t.lineTo(ta,-Ua);t.lineTo(0,-M);t.lineTo(-ta,-Ua);t.lineTo(-fa,-Ua);t.closePath()}},wedge:{draw:function(t,M){var fa=Math.sqrt(M)/2;M=le*fa;var ta=M-.5773502691896257*fa;fa/=4;t.moveTo(0,-M-
ta);t.lineTo(-fa,M-ta);t.lineTo(fa,M-ta);t.closePath()}},triangle:{draw:function(t,M){M=Math.sqrt(M)/2;var fa=le*M,ta=fa-.5773502691896257*M;t.moveTo(0,-fa-ta);t.lineTo(-M,fa-ta);t.lineTo(M,fa-ta);t.closePath()}},"triangle-up":{draw:function(t,M){M=Math.sqrt(M)/2;var fa=le*M;t.moveTo(0,-fa);t.lineTo(-M,fa);t.lineTo(M,fa);t.closePath()}},"triangle-down":{draw:function(t,M){M=Math.sqrt(M)/2;var fa=le*M;t.moveTo(0,fa);t.lineTo(-M,-fa);t.lineTo(M,-fa);t.closePath()}},"triangle-right":{draw:function(t,
M){M=Math.sqrt(M)/2;var fa=le*M;t.moveTo(fa,0);t.lineTo(-fa,-M);t.lineTo(-fa,M);t.closePath()}},"triangle-left":{draw:function(t,M){M=Math.sqrt(M)/2;var fa=le*M;t.moveTo(-fa,0);t.lineTo(fa,-M);t.lineTo(fa,M);t.closePath()}},stroke:{draw:function(t,M){M=Math.sqrt(M)/2;t.moveTo(-M,0);t.lineTo(M,0)}}};var kg={};const mf=t=>t.x||0,Ke=t=>t.y||0,lg=t=>!1!==t.defined,Zg=function(){function t(){var Qc,vd=+M.apply(this,arguments),Pd=+fa.apply(this,arguments),Qd=Tb.apply(this,arguments)-pb,Be=ic.apply(this,
arguments)-pb,Af=m(Be-Qd),gf=Be>Qd;bc||(bc=Qc=Wc());if(Pd<vd){var Mg=Pd;Pd=vd;vd=Mg}if(1E-12<Pd)if(Af>uc-1E-12)bc.moveTo(Pd*L(Qd),Pd*Ta(Qd)),bc.arc(0,0,Pd,Qd,Be,!gf),1E-12<vd&&(bc.moveTo(vd*L(Be),vd*Ta(Be)),bc.arc(0,0,vd,Be,Qd,gf));else{var ee=Qd,Ce=Be;Mg=Qd;var hi=Be,Ah=Af,Ai=Af,Bf=Fc.apply(this,arguments)/2,Of=1E-12<Bf&&(Ua?+Ua.apply(this,arguments):Oa(vd*vd+Pd*Pd)),gh=Ga(m(Pd-vd)/2,+ta.apply(this,arguments)),Gf=gh,xf=gh;if(1E-12<Of){var Gg=yb(Of/vd*Ta(Bf));Bf=yb(Of/Pd*Ta(Bf));1E-12<(Ah-=2*Gg)?
(Gg*=gf?1:-1,Mg+=Gg,hi-=Gg):(Ah=0,Mg=hi=(Qd+Be)/2);1E-12<(Ai-=2*Bf)?(Bf*=gf?1:-1,ee+=Bf,Ce-=Bf):(Ai=0,ee=Ce=(Qd+Be)/2)}Qd=Pd*L(ee);Be=Pd*Ta(ee);Gg=vd*L(hi);Bf=vd*Ta(hi);if(1E-12<gh){var Bh=Pd*L(Ce),jg=Pd*Ta(Ce),bi=vd*L(Mg),Hf=vd*Ta(Mg);if(Af<sb){Gf=bi-Qd;xf=Hf-Be;Af=Gg-Bh;Of=Bf-jg;var Wf=Of*Gf-Af*xf;1E-12>Wf*Wf?Gf=void 0:(Wf=(Af*(Be-jg)-Of*(Qd-Bh))/Wf,Gf=[Qd+Wf*Gf,Be+Wf*xf]);Gf?(xf=Qd-Gf[0],Af=Be-Gf[1],Of=Bh-Gf[0],Wf=jg-Gf[1],xf=(xf*Of+Af*Wf)/(Oa(xf*xf+Af*Af)*Oa(Of*Of+Wf*Wf)),xf=1/Ta((1<xf?0:-1>xf?
sb:Math.acos(xf))/2),Af=Oa(Gf[0]*Gf[0]+Gf[1]*Gf[1]),Gf=Ga(gh,(vd-Af)/(xf-1)),xf=Ga(gh,(Pd-Af)/(xf+1))):Gf=xf=0}}1E-12<Ai?1E-12<xf?(ee=lb(bi,Hf,Qd,Be,Pd,xf,gf),Ce=lb(Bh,jg,Gg,Bf,Pd,xf,gf),bc.moveTo(ee.cx+ee.x01,ee.cy+ee.y01),xf<gh?bc.arc(ee.cx,ee.cy,xf,r(ee.y01,ee.x01),r(Ce.y01,Ce.x01),!gf):(bc.arc(ee.cx,ee.cy,xf,r(ee.y01,ee.x01),r(ee.y11,ee.x11),!gf),bc.arc(0,0,Pd,r(ee.cy+ee.y11,ee.cx+ee.x11),r(Ce.cy+Ce.y11,Ce.cx+Ce.x11),!gf),bc.arc(Ce.cx,Ce.cy,xf,r(Ce.y11,Ce.x11),r(Ce.y01,Ce.x01),!gf))):(bc.moveTo(Qd,
Be),bc.arc(0,0,Pd,ee,Ce,!gf)):bc.moveTo(Qd,Be);1E-12<vd&&1E-12<Ah?1E-12<Gf?(ee=lb(Gg,Bf,Bh,jg,vd,-Gf,gf),Ce=lb(Qd,Be,bi,Hf,vd,-Gf,gf),bc.lineTo(ee.cx+ee.x01,ee.cy+ee.y01),Gf<gh?bc.arc(ee.cx,ee.cy,Gf,r(ee.y01,ee.x01),r(Ce.y01,Ce.x01),!gf):(bc.arc(ee.cx,ee.cy,Gf,r(ee.y01,ee.x01),r(ee.y11,ee.x11),!gf),bc.arc(0,0,vd,r(ee.cy+ee.y11,ee.cx+ee.x11),r(Ce.cy+Ce.y11,Ce.cx+Ce.x11),gf),bc.arc(Ce.cx,Ce.cy,Gf,r(Ce.y11,Ce.x11),r(Ce.y01,Ce.x01),!gf))):bc.arc(0,0,vd,hi,Mg,gf):bc.lineTo(Gg,Bf)}else bc.moveTo(0,0);bc.closePath();
if(Qc)return bc=null,Qc+""||null}var M=bb,fa=Ab,ta=Db(0),Ua=null,Tb=xb,ic=qb,Fc=Cb,bc=null,Wc=Ba(t);t.centroid=function(){var Qc=(+M.apply(this,arguments)+ +fa.apply(this,arguments))/2,vd=(+Tb.apply(this,arguments)+ +ic.apply(this,arguments))/2-sb/2;return[L(vd)*Qc,Ta(vd)*Qc]};t.innerRadius=function(Qc){return arguments.length?(M="function"===typeof Qc?Qc:Db(+Qc),t):M};t.outerRadius=function(Qc){return arguments.length?(fa="function"===typeof Qc?Qc:Db(+Qc),t):fa};t.cornerRadius=function(Qc){return arguments.length?
(ta="function"===typeof Qc?Qc:Db(+Qc),t):ta};t.padRadius=function(Qc){return arguments.length?(Ua=null==Qc?null:"function"===typeof Qc?Qc:Db(+Qc),t):Ua};t.startAngle=function(Qc){return arguments.length?(Tb="function"===typeof Qc?Qc:Db(+Qc),t):Tb};t.endAngle=function(Qc){return arguments.length?(ic="function"===typeof Qc?Qc:Db(+Qc),t):ic};t.padAngle=function(Qc){return arguments.length?(Fc="function"===typeof Qc?Qc:Db(+Qc),t):Fc};t.context=function(Qc){return arguments.length?(bc=null==Qc?null:Qc,
t):bc};return t}().startAngle(t=>t.startAngle||0).endAngle(t=>t.endAngle||0).padAngle(t=>t.padAngle||0).innerRadius(t=>t.innerRadius||0).outerRadius(t=>t.outerRadius||0).cornerRadius(t=>t.cornerRadius||0),Yf=La().x(mf).y1(Ke).y0(t=>(t.y||0)+(t.height||0)).defined(lg),mg=La().y(Ke).x1(mf).x0(t=>(t.x||0)+(t.width||0)).defined(lg),Zf=Xa().x(mf).y(Ke).defined(lg),$g=kc().x(mf).y(Ke).width(t=>t.width||0).height(t=>t.height||0).cornerRadius(t=>Pb(t.cornerRadiusTopLeft,t.cornerRadius)||0,t=>Pb(t.cornerRadiusTopRight,
t.cornerRadius)||0,t=>Pb(t.cornerRadiusBottomRight,t.cornerRadius)||0,t=>Pb(t.cornerRadiusBottomLeft,t.cornerRadius)||0),ah=function(t,M){function fa(){let Tb;ta||(ta=Tb=Ua());t.apply(this,arguments).draw(ta,+M.apply(this,arguments));if(Tb)return ta=null,Tb+""||null}let ta=null,Ua=Ba(fa);t="function"===typeof t?t:Db(t||Oc);M="function"===typeof M?M:Db(void 0===M?64:+M);fa.type=function(Tb){return arguments.length?(t="function"===typeof Tb?Tb:Db(Tb),fa):t};fa.size=function(Tb){return arguments.length?
(M="function"===typeof Tb?Tb:Db(+Tb),fa):M};fa.context=function(Tb){return arguments.length?(ta=null==Tb?null:Tb,fa):ta};return fa}().type(t=>Ra(t.shape||"circle")).size(t=>Pb(t.size,64)),bh=Zb().x(mf).y(Ke).defined(lg).size(t=>t.size||1);var Sg=1;ra.prototype={clone(){return new ra(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&
this.y2===-Number.MAX_VALUE},equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set(t,M,fa,ta){fa<t?(this.x2=t,this.x1=fa):(this.x1=t,this.x2=fa);ta<M?(this.y2=M,this.y1=ta):(this.y1=M,this.y2=ta);return this},add(t,M){t<this.x1&&(this.x1=t);M<this.y1&&(this.y1=M);t>this.x2&&(this.x2=t);M>this.y2&&(this.y2=M);return this},expand(t){this.x1-=t;this.y1-=t;this.x2+=t;this.y2+=t;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);
this.y2=Math.ceil(this.y2);return this},scale(t){this.x1*=t;this.y1*=t;this.x2*=t;this.y2*=t;return this},translate(t,M){this.x1+=t;this.x2+=t;this.y1+=M;this.y2+=M;return this},rotate(t,M,fa){t=this.rotatedPoints(t,M,fa);return this.clear().add(t[0],t[1]).add(t[2],t[3]).add(t[4],t[5]).add(t[6],t[7])},rotatedPoints(t,M,fa){var {x1:ta,y1:Ua,x2:Tb,y2:ic}=this,Fc=Math.cos(t);t=Math.sin(t);var bc=M-M*Fc+fa*t;M=fa-M*t-fa*Fc;return[Fc*ta-t*Ua+bc,t*ta+Fc*Ua+M,Fc*ta-t*ic+bc,t*ta+Fc*ic+M,Fc*Tb-t*Ua+bc,t*Tb+
Fc*Ua+M,Fc*Tb-t*ic+bc,t*Tb+Fc*ic+M]},union(t){t.x1<this.x1&&(this.x1=t.x1);t.y1<this.y1&&(this.y1=t.y1);t.x2>this.x2&&(this.x2=t.x2);t.y2>this.y2&&(this.y2=t.y2);return this},intersect(t){t.x1>this.x1&&(this.x1=t.x1);t.y1>this.y1&&(this.y1=t.y1);t.x2<this.x2&&(this.x2=t.x2);t.y2<this.y2&&(this.y2=t.y2);return this},encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},alignsWith(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects(t){return t&&
!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains(t,M){return!(t<this.x1||t>this.x2||M<this.y1||M>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};l.inherits(Va,Hb);class Tg{constructor(t){this._pending=0;this._loader=t||Za.loader()}pending(){return this._pending}sanitizeURL(t){const M=this;M._pending+=1;return M._loader.sanitize(t,{context:"href"}).then(fa=>{--M._pending;return fa}).catch(()=>{--M._pending;return null})}loadImage(t){const M=this,fa=ja.image();
M._pending+=1;return M._loader.sanitize(t,{context:"image"}).then(ta=>{const Ua=ta.href;if(!Ua||!fa)throw{url:Ua};const Tb=new fa;ta=l.hasOwnProperty(ta,"crossOrigin")?ta.crossOrigin:"anonymous";null!=ta&&(Tb.crossOrigin=ta);Tb.onload=()=>{--M._pending};Tb.onerror=()=>{--M._pending};Tb.src=Ua;return Tb}).catch(ta=>{--M._pending;return{complete:!1,width:0,height:0,src:ta&&ta.url||""}})}ready(){const t=this;return new Promise(M=>{function fa(ta){t.pending()?setTimeout(()=>{fa(!0)},10):M(ta)}fa(!1)})}}
const oh=$c-1E-8;let Uf,W,Ka,mb,yc,Ac,xd,Vd;const Id=(t,M)=>{t=W=t;M=Ka=M;return Uf.add(t,M)},ig=t=>Uf.add(t,Uf.y1),pf=t=>Uf.add(Uf.x1,t),ug=(t,M)=>Uf.add(yc*t+xd*M,Ac*t+Vd*M),ph=(t,M)=>Id(yc*t+xd*M,Ac*t+Vd*M),ch={beginPath(){},closePath(){},moveTo:ph,lineTo:ph,rect(t,M,fa,ta){mb?(ug(t+fa,M),ug(t+fa,M+ta),ug(t,M+ta),ph(t,M)):(Uf.add(t+fa,M+ta),Id(t,M))},quadraticCurveTo(t,M,fa,ta){const Ua=Ac*t+Vd*M,Tb=yc*fa+xd*ta;fa=Ac*fa+Vd*ta;Eb(W,yc*t+xd*M,Tb,ig);Eb(Ka,Ua,fa,pf);Id(Tb,fa)},bezierCurveTo(t,M,fa,
ta,Ua,Tb){const ic=Ac*t+Vd*M,Fc=Ac*fa+Vd*ta,bc=yc*Ua+xd*Tb;Ua=Ac*Ua+Vd*Tb;Xb(W,yc*t+xd*M,yc*fa+xd*ta,bc,ig);Xb(Ka,ic,Fc,Ua,pf);Id(bc,Ua)},arc(t,M,fa,ta,Ua,Tb){ta+=mb;Ua+=mb;W=fa*Math.cos(Ua)+t;Ka=fa*Math.sin(Ua)+M;if(Math.abs(Ua-ta)>oh)Uf.add(t-fa,M-fa),Uf.add(t+fa,M+fa);else{const ic=bc=>Uf.add(fa*Math.cos(bc)+t,fa*Math.sin(bc)+M);let Fc;ic(ta);ic(Ua);if(Ua!==ta)if(ta%=$c,0>ta&&(ta+=$c),Ua%=$c,0>Ua&&(Ua+=$c),Ua<ta&&(Tb=!Tb,Fc=ta,ta=Ua,Ua=Fc),Tb)for(Ua-=$c,Fc=ta-ta%Ee,ta=0;4>ta&&Fc>Ua;++ta,Fc-=Ee)ic(Fc);
else for(Fc=ta-ta%Ee+Ee,ta=0;4>ta&&Fc<Ua;++ta,Fc+=Ee)ic(Fc)}}};var ng=(ng=ja.canvas(1,1))?ng.getContext("2d"):null;const Kg=new ra;var Mh=[],Ld=Uc("arc",function(t,M){return Zg.context(t)(M)}),Zd=kd("area",function(t,M){const fa=M[0];return("horizontal"===fa.orient?mg:Yf).curve(Da(fa.interpolate||"linear",fa.orient,fa.tension)).context(t)(M)},function(t,M){M="horizontal"===t[0].orient?M[1]:M[0];for(var fa="horizontal"===t[0].orient?"y":"x",ta=t.length,Ua=Infinity,Tb,ic;0<=--ta;)!1!==t[ta].defined&&
(ic=Math.abs(t[ta][fa]-M),ic<Ua&&(Ua=ic,Tb=t[ta]));return Tb});const zf=id(ge),Ae=id(ge,!1),ff=id(ge,!0);var Ve={type:"group",tag:"g",nested:!1,attr:function(t,M){t("transform",dd(M.x||0,M.y||0))},bound:function(t,M){if(!M.clip&&M.items){const fa=M.items,ta=fa.length;for(let Ua=0;Ua<ta;++Ua)t.union(fa[Ua].bounds)}(M.clip||M.width||M.height)&&!M.noBound&&t.add(0,0).add(M.width||0,M.height||0);Bb(t,M);return t.translate(M.x||0,M.y||0)},draw:function(t,M,fa,ta){Sb(M,Ua=>{const Tb=Ua.x||0,ic=Ua.y||0,
Fc=Ua.strokeForeground,bc=null==Ua.opacity?1:Ua.opacity;(Ua.stroke||Ua.fill)&&bc&&(ge(t,Ua,Tb,ic),ib(t,Ua),Ua.fill&&Aa(t,Ua,bc)&&t.fill(),Ua.stroke&&!Fc&&Ia(t,Ua,bc)&&t.stroke());t.save();t.translate(Tb,ic);Ua.clip&&ld(t,Ua);fa&&fa.translate(-Tb,-ic);Sb(Ua,Wc=>{("group"===Wc.marktype||null==ta||ta.includes(Wc.marktype))&&this.draw(t,Wc,fa,ta)});fa&&fa.translate(Tb,ic);t.restore();Fc&&Ua.stroke&&bc&&(ge(t,Ua,Tb,ic),ib(t,Ua),Ia(t,Ua,bc)&&t.stroke())})},pick:function(t,M,fa,ta,Ua,Tb){if(M.bounds&&!M.bounds.contains(Ua,
Tb)||!M.items)return null;const ic=fa*t.pixelRatio,Fc=ta*t.pixelRatio;return Gb(M,bc=>{let Wc,Qc;var vd=bc.bounds;if(!vd||vd.contains(Ua,Tb)){Wc=bc.x||0;Qc=bc.y||0;vd=Wc+(bc.width||0);var Pd=Qc+(bc.height||0),Qd=bc.clip;if(!Qd||!(Ua<Wc||Ua>vd||Tb<Qc||Tb>Pd)){t.save();t.translate(Wc,Qc);Wc=Ua-Wc;Qc=Tb-Qc;if(Qd&&Nb(bc)&&!ff(t,bc,ic,Fc))return t.restore(),null;Pd=bc.strokeForeground;if((Qd=!1!==M.interactive)&&Pd&&bc.stroke&&Ae(t,bc,ic,Fc))return t.restore(),bc;vd=Gb(bc,Be=>(!1!==Be.interactive||"group"===
Be.marktype)&&Be.bounds&&Be.bounds.contains(Wc,Qc)?this.pick(Be,fa,ta,Wc,Qc):null);!vd&&Qd&&(bc.fill||!Pd&&bc.stroke)&&zf(t,bc,ic,Fc)&&(vd=bc);t.restore();return vd||null}}})},isect:Lc,content:function(t,M,fa){M=M.clip?Mc(fa,M,M):null;t("clip-path",M)},background:function(t,M){t("class","background");t("aria-hidden",!0);const fa=ed(M);t("d",tc(null,M,fa,fa))},foreground:function(t,M){t("class","foreground");t("aria-hidden",!0);if(M.strokeForeground){const fa=ed(M);t("d",tc(null,M,fa,fa))}else t("d",
"")}},vf={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},$f={type:"image",tag:"image",nested:!1,attr:function(t,M,fa){var ta=gd(M,fa);fa=z(M,ta);const Ua=K(M,ta),Tb=(M.x||0)-va(M.align,fa),ic=(M.y||0)-v(M.baseline,Ua);ta=!ta.src&&ta.toDataURL?ta.toDataURL():ta.src||"";t("href",ta,vf["xmlns:xlink"],"xlink:href");t("transform",dd(Tb,ic));t("width",fa);t("height",Ua);t("preserveAspectRatio",!1===M.aspect?"none":"xMidYMid")},bound:function(t,M){var fa=M.image;
const ta=z(M,fa);fa=K(M,fa);const Ua=(M.x||0)-va(M.align,ta);M=(M.y||0)-v(M.baseline,fa);return t.set(Ua,M,Ua+ta,M+fa)},draw:function(t,M,fa){Sb(M,ta=>{if(!fa||fa.intersects(ta.bounds)){var Ua=gd(ta,this),Tb=z(ta,Ua),ic=K(ta,Ua);if(0!==Tb&&0!==ic){var Fc=(ta.x||0)-va(ta.align,Tb),bc=(ta.y||0)-v(ta.baseline,ic),Wc;if(!1!==ta.aspect){var Qc=Ua.width/Ua.height;var vd=ta.width/ta.height;Qc===Qc&&vd===vd&&Qc!==vd&&(vd<Qc?(Qc=Tb/Qc,bc+=(ic-Qc)/2,ic=Qc):(Qc*=ic,Fc+=(Tb-Qc)/2,Tb=Qc))}if(Ua.complete||Ua.toDataURL)ib(t,
ta),t.globalAlpha=null!=(Wc=ta.opacity)?Wc:1,t.imageSmoothingEnabled=!1!==ta.smooth,t.drawImage(Ua,Fc,bc,Tb,ic)}}})},pick:Ic(),isect:l.truthy,get:gd,xOffset:va,yOffset:v},Vf=kd("line",function(t,M){const fa=M[0];return Zf.curve(Da(fa.interpolate||"linear",fa.orient,fa.tension)).context(t)(M)},function(t,M){for(var fa=Math.pow(t[0].strokeWidth||1,2),ta=t.length,Ua,Tb;0<=--ta;)if(!1!==t[ta].defined&&(Ua=t[ta].x-M[0],Tb=t[ta].y-M[1],Ua=Ua*Ua+Tb*Tb,Ua<fa))return t[ta];return null}),pg={type:"path",tag:"path",
nested:!1,attr:function(t,M){var fa=M.scaleY||1;1===(M.scaleX||1)&&1===fa||t("vector-effect","non-scaling-stroke");fa=dd(M.x||0,M.y||0)+(M.angle?" rotate("+(M.angle+")"):"")+(M.scaleX||M.scaleY?" scale("+((M.scaleX||1)+","+(M.scaleY||1)+")"):"");t("transform",fa);t("d",M.path)},bound:function(t,M){return R(Ib(t,M.angle),M)?t.set(0,0,0,0):Bb(t,M,!0)},draw:Ob(R),pick:Ic(id(R)),isect:rc(R)},eh={type:"rect",tag:"path",nested:!1,attr:function(t,M){t("d",tc(null,M))},bound:function(t,M){var fa,ta;return Bb(t.set(fa=
M.x||0,ta=M.y||0,fa+M.width||0,ta+M.height||0),M)},draw:Ob(ca),pick:Ic(id(ca)),isect:Lc},Ag={type:"rule",tag:"line",nested:!1,attr:function(t,M){t("transform",dd(M.x||0,M.y||0));t("x2",null!=M.x2?M.x2-(M.x||0):0);t("y2",null!=M.y2?M.y2-(M.y||0):0)},bound:function(t,M){var fa,ta;return Bb(t.set(fa=M.x||0,ta=M.y||0,null!=M.x2?M.x2:fa,null!=M.y2?M.y2:ta),M)},draw:function(t,M,fa){Sb(M,ta=>{if(!fa||fa.intersects(ta.bounds)){var Ua=null==ta.opacity?1:ta.opacity;Ua&&wa(t,ta,Ua)&&(ib(t,ta),t.stroke())}})},
pick:Ic(function(t,M,fa,ta){return t.isPointInStroke?wa(t,M,1)&&t.isPointInStroke(fa,ta):!1}),isect:oa},nh=Uc("shape",function(t,M){return(M.mark.shape||M.shape).context(t)(M)}),Ef=Uc("symbol",function(t,M){return ah.context(t)(M)},ad);const Lh=l.lruCache();var og={height:hc,measureWidth:Lb,estimateWidth:eb,width:eb,canvas:pa};pa(!0);const xh={left:"start",center:"middle",right:"end"},qg=new ra;var Nh={type:"text",tag:"text",nested:!1,attr:function(t,M){var fa=M.dx||0,ta=(M.dy||0)+Md(M),Ua=Ad(M),
Tb=Ua.x1;Ua=Ua.y1;var ic=M.angle||0;t("text-anchor",xh[M.align]||"start");if(ic){if(M=dd(Tb,Ua)+" rotate("+(ic+")"),fa||ta)M+=" "+dd(fa,ta)}else M=dd(Tb+fa,Ua+ta);t("transform",M)},bound:je,draw:function(t,M,fa){Sb(M,ta=>{var Ua=null==ta.opacity?1:ta.opacity,Tb;if(!(fa&&!fa.intersects(ta.bounds)||0===Ua||0>=ta.fontSize||null==ta.text||0===ta.text.length)){t.font=yd(ta);t.textAlign=ta.align||"left";var ic=Ad(ta);var Fc=ic.x1;ic=ic.y1;ta.angle&&(t.save(),t.translate(Fc,ic),t.rotate(ta.angle*$d),Fc=
ic=0);Fc+=ta.dx||0;ic+=(ta.dy||0)+Md(ta);var bc=Pc(ta);ib(t,ta);if(l.isArray(bc)){var Wc=Ec(ta);for(Tb=0;Tb<bc.length;++Tb){var Qc=Nc(ta,bc[Tb]);ta.fill&&Aa(t,ta,Ua)&&t.fillText(Qc,Fc,ic);ta.stroke&&Ia(t,ta,Ua)&&t.strokeText(Qc,Fc,ic);ic+=Wc}}else Qc=Nc(ta,bc),ta.fill&&Aa(t,ta,Ua)&&t.fillText(Qc,Fc,ic),ta.stroke&&Ia(t,ta,Ua)&&t.strokeText(Qc,Fc,ic);ta.angle&&t.restore()}})},pick:Ic(function(t,M,fa,ta,Ua,Tb){if(0>=M.fontSize)return!1;if(!M.angle)return!0;fa=Ad(M);t=fa.x1;fa=fa.y1;ta=je(qg,M,1);var ic=
-M.angle*$d;M=Math.cos(ic);ic=Math.sin(ic);return ta.contains(M*Ua-ic*Tb+(t-M*t+ic*fa),ic*Ua+M*Tb+(fa-ic*t-M*fa))}),isect:function(t,M){t=je(qg,t,2);return Ma(M,t[0],t[1],t[2],t[3])||Ma(M,t[0],t[1],t[4],t[5])||Ma(M,t[4],t[5],t[6],t[7])||Ma(M,t[2],t[3],t[6],t[7])}},Sj=kd("trail",function(t,M){return bh.context(t)(M)},function(t,M){for(var fa=t.length,ta,Ua;0<=--fa;)if(!1!==t[fa].defined&&(ta=t[fa].x-M[0],Ua=t[fa].y-M[1],Ua=ta*ta+Ua*Ua,ta=t[fa].size||1,Ua<ta*ta))return t[fa];return null}),Bg={arc:Ld,
area:Zd,group:Ve,image:$f,line:Vf,path:pg,rect:eh,rule:Ag,shape:nh,symbol:Ef,text:Nh,trail:Sj},yh={mark:null};const Ti="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
class Ui{constructor(t){arguments.length?this.root=He(t):(this.root=Ie({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Va(this.root)])}toJSON(t){return Re(this.root,t||0)}mark(t,M,fa){M=M||this.root.items[0];t=Ie(t,M);M.items[fa]=t;t.zindex&&(t.group.zdirty=!0);return t}}class xi{constructor(t,M){this._active=null;this._handlers={};this._loader=t||Za.loader();this._tooltip=M||$e}initialize(t,M,fa){this._el=t;this._obj=fa||null;return this.origin(M)}element(){return this._el}canvas(){return this._el&&
this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){if(!arguments.length)return this._scene;this._scene=t;return this}on(){}off(){}_handlerIndex(t,M,fa){for(let ta=t?t.length:0;0<=--ta;)if(t[ta].type===M&&(!fa||t[ta].handler===fa))return ta;return-1}handlers(t){const M=this._handlers,fa=[];if(t)fa.push(...M[this.eventName(t)]);else for(const ta in M)fa.push(...M[ta]);return fa}eventName(t){const M=t.indexOf(".");return 0>M?t:t.slice(0,M)}handleHref(t,
M,fa){this._loader.sanitize(fa,{context:"href"}).then(ta=>{const Ua=new MouseEvent(t.type,t),Tb=ke(null,"a");for(const ic in ta)Tb.setAttribute(ic,ta[ic]);Tb.dispatchEvent(Ua)}).catch(()=>{})}handleTooltip(t,M,fa){if(M&&null!=M.tooltip){var ta=this.canvas(),Ua=this._origin,Tb=M&&M.mark,ic;if(Tb&&(ic=Bg[Tb.marktype]).tip){ta=Xe(t,ta);ta[0]-=Ua[0];for(ta[1]-=Ua[1];M=M.mark.group;)ta[0]-=M.x||0,ta[1]-=M.y||0;M=ic.tip(Tb.items,ta)}this._tooltip.call(this._obj,this,t,M,fa&&M&&M.tooltip||null)}}getItemBoundingClientRect(t){var M=
this.canvas();if(M){var fa=M.getBoundingClientRect(),ta=this._origin,Ua=t.bounds;M=Ua.width();var Tb=Ua.height(),ic=Ua.x1+ta[0]+fa.left;for(fa=Ua.y1+ta[1]+fa.top;t.mark&&(t=t.mark.group);)ic+=t.x||0,fa+=t.y||0;return{x:ic,y:fa,width:M,height:Tb,left:ic,top:fa,right:ic+M,bottom:fa+Tb}}}}class qh{constructor(t){this._bgcolor=this._el=null;this._loader=new Tg(t)}initialize(t,M,fa,ta,Ua){this._el=t;return this.resize(M,fa,ta,Ua)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){if(0===
arguments.length)return this._bgcolor;this._bgcolor=t;return this}resize(t,M,fa,ta){this._width=t;this._height=M;this._origin=fa||[0,0];this._scale=ta||1;return this}dirty(){}render(t,M){const fa=this;fa._call=function(){fa._render(t,M)};fa._call();fa._call=null;return fa}_render(){}renderAsync(t,M){const fa=this.render(t,M);return this._ready?this._ready.then(()=>fa):Promise.resolve(fa)}_load(t,M){var fa=this;t=fa._loader[t](M);if(!fa._ready){const ta=fa._call;fa._ready=fa._loader.ready().then(Ua=>
{Ua&&ta();fa._ready=null})}return t}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const Vi="keydown keypress keyup dragenter dragleave dragover pointerdown pointerup pointermove pointerout pointerover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" ");class Xh extends xi{constructor(t,M){super(t,M);this._touch=this._down=null;this._first=!0;this._events={};this.events=Vi;this.pointermove=
Kf(["pointermove","mousemove"],["pointerover","mouseover"],["pointerout","mouseout"]);this.dragover=Kf(["dragover"],["dragenter"],["dragleave"]);this.pointerout=ye(["pointerout","mouseout"]);this.dragleave=ye(["dragleave"])}initialize(t,M,fa){this._canvas=t&&oe(t,"canvas");"click mousedown pointerdown pointermove pointerout dragleave".split(" ").forEach(ta=>df(this,ta));return super.initialize(t,M,fa)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire("mousewheel",
t)}pointerdown(t){this._down=this._active;this.fire("pointerdown",t)}mousedown(t){this._down=this._active;this.fire("mousedown",t)}click(t){this._down===this._active&&(this.fire("click",t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",t,!0)}touchmove(t){this.fire("touchmove",t,!0)}touchend(t){this.fire("touchend",t,!0);this._touch=null}fire(t,M,fa){fa=fa?this._touch:this._active;const ta=
this._handlers[t];M.vegaType=t;"click"===t&&fa&&fa.href?this.handleHref(M,fa,fa.href):("pointermove"===t||"mouseout"===t)&&this.handleTooltip(M,fa,"mouseout"!==t);if(ta)for(let Ua=0,Tb=ta.length;Ua<Tb;++Ua)ta[Ua].handler.call(this._obj,M,fa)}on(t,M){const fa=this.eventName(t),ta=this._handlers;0>this._handlerIndex(ta[fa],t,M)&&(df(this,t),(ta[fa]||(ta[fa]=[])).push({type:t,handler:M}));return this}off(t,M){var fa=this.eventName(t);fa=this._handlers[fa];t=this._handlerIndex(fa,t,M);0<=t&&fa.splice(t,
1);return this}pickEvent(t){t=Xe(t,this._canvas);const M=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-M[0],t[1]-M[1])}pick(t,M,fa,ta,Ua){const Tb=this.context();return Bg[t.marktype].pick.call(this,Tb,t,M,fa,ta,Ua)}}class Yh extends qh{constructor(t){super(t);this._options={};this._redraw=!1;this._dirty=new ra;this._tempb=new ra}initialize(t,M,fa,ta,Ua,Tb){this._options=Tb||{};this._canvas=this._options.externalContext?null:ja.canvas(1,1,this._options.type);t&&this._canvas&&(zd(t,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return super.initialize(t,M,fa,ta,Ua)}resize(t,M,fa,ta){super.resize(t,M,fa,ta);if(this._canvas){t=this._canvas;M=this._width;fa=this._height;ta=this._origin;var Ua=this._scale,Tb=this._options.context;const Fc="undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,bc=t.getContext("2d");Ua=Fc?"undefined"!==typeof window?window.devicePixelRatio||1:1:Ua;t.width=M*Ua;t.height=fa*Ua;for(var ic in Tb)bc[ic]=Tb[ic];Fc&&1!==Ua&&(t.style.width=
M+"px",t.style.height=fa+"px");bc.pixelRatio=Ua;bc.setTransform(Ua,0,0,Ua,Ua*ta[0],Ua*ta[1])}else(ic=this._options.externalContext)||l.error("CanvasRenderer is missing a valid canvas or context"),ic.scale(this._scale,this._scale),ic.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const M=this._tempb.clear().union(t.bounds);for(t=t.mark.group;t;)M.translate(t.x||
0,t.y||0),t=t.mark.group;this._dirty.union(M)}_render(t,M){const fa=this.context(),ta=this._origin,Ua=this._width,Tb=this._height,ic=this._dirty;var Fc=(new ra).set(0,0,Ua,Tb).translate(-ta[0],-ta[1]);fa.save();this._redraw||ic.empty()?Fc=(this._redraw=!1,Fc.expand(1)):(Fc=Fc.intersect(ic),Fc.expand(1).round(),fa.pixelRatio%1&&Fc.scale(fa.pixelRatio).round().scale(1/fa.pixelRatio),Fc.translate(-(ta[0]%1),-(ta[1]%1)),fa.beginPath(),fa.rect(Fc.x1,Fc.y1,Fc.width(),Fc.height()),fa.clip());this.clear(-ta[0],
-ta[1],Ua,Tb);this.draw(fa,t,Fc,M);fa.restore();ic.clear();return this}draw(t,M,fa,ta){if("group"===M.marktype||null==ta||ta.includes(M.marktype)){var Ua=Bg[M.marktype];if(M.clip){var Tb=M.clip;t.save();l.isFunction(Tb)?(t.beginPath(),Tb(t),t.clip()):ld(t,M.group)}Ua.draw.call(this,t,M,fa,ta);M.clip&&t.restore()}}clear(t,M,fa,ta){const Ua=this._options,Tb=this.context();"pdf"===Ua.type||Ua.externalContext||Tb.clearRect(t,M,fa,ta);null!=this._bgcolor&&(Tb.fillStyle=this._bgcolor,Tb.fillRect(t,M,fa,
ta))}}class zh extends xi{constructor(t,M){super(t,M);const fa=this;fa._hrefHandler=Wi(fa,(ta,Ua)=>{Ua&&Ua.href&&fa.handleHref(ta,Ua,Ua.href)});fa._tooltipHandler=Wi(fa,(ta,Ua)=>{fa.handleTooltip(ta,Ua,"mouseout"!==ta.type)})}initialize(t,M,fa){let ta=this._svg;ta&&(ta.removeEventListener("click",this._hrefHandler),ta.removeEventListener("pointermove",this._tooltipHandler),ta.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=ta=t&&oe(t,"svg"))ta.addEventListener("click",this._hrefHandler),
ta.addEventListener("pointermove",this._tooltipHandler),ta.addEventListener("mouseout",this._tooltipHandler);return super.initialize(t,M,fa)}canvas(){return this._svg}on(t,M){const fa=this.eventName(t),ta=this._handlers;0>this._handlerIndex(ta[fa],t,M)&&(t={type:t,handler:M,listener:Wi(this,M)},(ta[fa]||(ta[fa]=[])).push(t),this._svg&&this._svg.addEventListener(fa,t.listener));return this}off(t,M){const fa=this.eventName(t),ta=this._handlers[fa];t=this._handlerIndex(ta,t,M);0<=t&&(this._svg&&this._svg.removeEventListener(fa,
ta[t].listener),ta.splice(t,1));return this}}const Wi=(t,M)=>fa=>{let ta=fa.target.__data__;ta=Array.isArray(ta)?ta[0]:ta;fa.vegaType=fa.type;M.call(t._obj,fa,ta)},ag=(t,M,fa)=>({role:t,["aria-roledescription"]:M,["aria-label"]:fa||void 0}),Xi=l.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),Zh={axis:{desc:"axis",caption:function(t){var M=t.datum;const fa=t.orient,ta=M.title?jd(t):null;
var Ua=t.context;M=Ua.scales[M.scale].value;Ua=Ua.dataflow.locale();const Tb=M.type;return`${"left"===fa||"right"===fa?"Y":"X"}-axis`+(ta?` titled '${ta}'`:"")+` for a ${ub.isDiscrete(Tb)?"discrete":Tb} scale`+` with ${ub.domainCaption(Ua,M,t)}`}},legend:{desc:"legend",caption:function(t){var M=t.datum;const fa=M.title?jd(t):null,ta=`${M.type||""} legend`.trim();var Ua=M.scales;M=Object.keys(Ua);var Tb=t.context;Ua=Tb.scales[Ua[M[0]]].value;Tb=Tb.dataflow.locale();return(ta.length?ta[0].toUpperCase()+
ta.slice(1):ta)+(fa?` titled '${fa}'`:"")+` for ${cd(M)}`+` with ${ub.domainCaption(Tb,Ua,t)}`}},"title-text":{desc:"title",caption:t=>`Title text '${l.array(t.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:t=>`Subtitle text '${l.array(t.text).join(" ")}'`}},$h={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Yi=t=>(t+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),gi=t=>Xd(Dd(),t)+"",Oh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},rh={blend:"mix-blend-mode"},Lg={fill:"none","stroke-miterlimit":10},Se=vf.xmlns;class th extends qh{constructor(t){super(t);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}initialize(t,M,fa,ta,Ua){this._defs={};this._clearDefs();
t&&(this._svg=xe(t,0,"svg",Se),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Se),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",vf["xmlns:xlink"]),this._svg.setAttribute("version",vf.version),this._svg.setAttribute("class","marks"),zd(t,1),this._root=xe(this._svg,0,"g",Se),hf(this._root,Lg),zd(this._svg,1));this.background(this._bgcolor);return super.initialize(t,M,fa,ta,Ua)}background(t){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
t);return super.background(...arguments)}resize(t,M,fa,ta){super.resize(t,M,fa,ta);this._svg&&(hf(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this}canvas(){return this._svg}svg(){const t=this._svg,M=this._bgcolor;if(!t)return null;let fa;M&&(t.removeAttribute("style"),fa=xe(t,0,"rect",Se),hf(fa,{width:this._width,height:this._height,fill:M}));
const ta=gi(t);M&&(t.removeChild(fa),this._svg.style.setProperty("background-color",M));return ta}_render(t,M){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,M),zd(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||
!this._dirtyID)return!0;const M=++this._dirtyID;let fa;let ta,Ua,Tb,ic;Tb=0;for(ic=t.length;Tb<ic;++Tb){fa=t[Tb];var Fc=fa.mark;Fc.marktype!==ta&&(ta=Fc.marktype,Ua=Bg[ta]);Fc.zdirty&&Fc.dirty!==M&&(this._dirtyAll=!1,Jd(fa,M),Fc.items.forEach(bc=>{bc.dirty=M}));Fc.zdirty||(fa.exit?(Ua.nested&&Fc.items.length?(Fc=Fc.items[0],Fc._svg&&this._update(Ua,Fc._svg,Fc)):fa._svg&&(Fc=fa._svg.parentNode)&&Fc.removeChild(fa._svg),fa._svg=null):(fa=Ua.nested?Fc.items[0]:fa,fa._update!==M&&(fa._svg&&fa._svg.ownerSVGElement?
this._update(Ua,fa._svg,fa):(this._dirtyAll=!1,Jd(fa,M)),fa._update=M)))}return!this._dirtyAll}mark(t,M,fa,ta){if(!this.isDirty(M))return M._svg;const Ua=this._svg,Tb=M.marktype,ic=Bg[Tb];var Fc=!1===M.interactive?"none":null;const bc="g"===ic.tag,Wc=nd(M,t,fa,"g",Ua);if("group"!==Tb&&null!=ta&&!ta.includes(Tb))return zd(Wc,0),M._svg;Wc.setAttribute("class",Jf(M));t=cb(M);for(const Pd in t)ce(Wc,Pd,t[Pd]);bc||ce(Wc,"pointer-events",Fc);ce(Wc,"clip-path",M.clip?Mc(this,M,M.group):null);let Qc=null,
vd=0;Fc=Pd=>{const Qd=this.isDirty(Pd),Be=nd(Pd,Wc,Qc,ic.tag,Ua);Qd&&(this._update(ic,Be,Pd),bc&&Ye(this,Be,Pd,ta));Qc=Be;++vd};ic.nested?M.items.length&&Fc(M.items[0]):Sb(M,Fc);zd(Wc,vd);return Wc}_update(t,M,fa){Cg=M;Ff=M.__values__;Ea(qe,fa);t.attr(qe,fa,this);const ta=tj[t.type];ta&&ta.call(this,t,M,fa);Cg&&this.style(Cg,fa)}style(t,M){if(null!=M){for(const fa in Oh){let ta="font"===fa?td(M):M[fa];if(ta===Ff[fa])continue;const Ua=Oh[fa];null==ta?t.removeAttribute(Ua):(ta&&ta.gradient&&(ta=Wb(ta,
this._defs.gradient,jf())),t.setAttribute(Ua,ta+""));Ff[fa]=ta}for(const fa in rh)Ne(t,rh[fa],M[fa])}}defs(){const t=this._svg,M=this._defs;let fa=M.el;var ta=0;for(var Ua in M.gradient){fa||(M.el=fa=xe(t,1,"defs",Se));var Tb=void 0;let bc,Wc;var ic=fa,Fc=M.gradient[Ua];"radial"===Fc.gradient?(Tb=xe(ic,ta++,"pattern",Se),hf(Tb,{id:"p_"+Fc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Tb=xe(Tb,0,"rect",Se),hf(Tb,{width:1,height:1,fill:`url(${jf()}#${Fc.id})`}),
ic=xe(ic,ta++,"radialGradient",Se),hf(ic,{id:Fc.id,fx:Fc.x1,fy:Fc.y1,fr:Fc.r1,cx:Fc.x2,cy:Fc.y2,r:Fc.r2})):(ic=xe(ic,ta++,"linearGradient",Se),hf(ic,{id:Fc.id,x1:Fc.x1,x2:Fc.x2,y1:Fc.y1,y2:Fc.y2}));Wc=0;for(bc=Fc.stops.length;Wc<bc;++Wc)Tb=xe(ic,Wc,"stop",Se),Tb.setAttribute("offset",Fc.stops[Wc].offset),Tb.setAttribute("stop-color",Fc.stops[Wc].color);zd(ic,Wc)}for(const bc in M.clipping)fa||(M.el=fa=xe(t,1,"defs",Se)),ic=fa,Fc=M.clipping[bc],Ua=ta,ic=xe(ic,Ua,"clipPath",Se),ic.setAttribute("id",
Fc.id),Fc.path?(ta=xe(ic,0,"path",Se),ta.setAttribute("d",Fc.path)):(ta=xe(ic,0,"rect",Se),hf(ta,{x:0,y:0,width:Fc.width,height:Fc.height})),zd(ic,1),ta=Ua+1;fa&&(0===ta?(t.removeChild(fa),M.el=null):zd(fa,ta))}_clearDefs(){const t=this._defs;t.gradient={};t.clipping={}}}let Cg=null,Ff=null;const tj={group(t,M,fa){const ta=Cg=M.childNodes[2];Ff=ta.__values__;t.foreground(qe,fa,this);Ff=M.__values__;Cg=M.childNodes[1];t.content(qe,fa,this);M=Cg=M.childNodes[0];t.background(qe,fa,this);t=!1===fa.mark.interactive?
"none":null;t!==Ff.events&&(ce(ta,"pointer-events",t),ce(M,"pointer-events",t),Ff.events=t);fa.strokeForeground&&fa.stroke?(t=fa.fill,ce(ta,"display",null),this.style(M,fa),ce(M,"stroke",null),t&&(fa.fill=null),Ff=ta.__values__,this.style(ta,fa),t&&(fa.fill=t),Cg=null):ce(ta,"display","none")},image(t,M,fa){!1===fa.smooth?(Ne(M,"image-rendering","optimizeSpeed"),Ne(M,"image-rendering","pixelated")):Ne(M,"image-rendering",null)},text(t,M,fa){t=Pc(fa);let ta,Ua,Tb;l.isArray(t)?(ta=t.map(ic=>Nc(fa,ic)),
t=ta.join("\n"),t!==Ff.text&&(zd(M,0),Ua=M.ownerDocument,Tb=Ec(fa),ta.forEach((ic,Fc)=>{const bc=ke(Ua,"tspan",Se);bc.__data__=fa;bc.textContent=ic;Fc&&(bc.setAttribute("x",0),bc.setAttribute("dy",Tb));M.appendChild(bc)}),Ff.text=t)):(ta=Nc(fa,t),ta!==Ff.text&&(M.textContent=ta,Ff.text=ta));ce(M,"font-family",td(fa));ce(M,"font-size",hc(fa)+"px");ce(M,"font-style",fa.fontStyle);ce(M,"font-variant",fa.fontVariant);ce(M,"font-weight",fa.fontWeight)}};class fh extends qh{constructor(t){super(t);this._text=
null;this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const M=Dd();M.open("svg",l.extend({},vf,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const fa=this._bgcolor;fa&&"transparent"!==fa&&"none"!==fa&&M.open("rect",{width:this._width,height:this._height,fill:fa}).close();M.open("g",Lg,{transform:"translate("+this._origin+")"});this.mark(M,t);M.close();this.defs(M);this._text=M.close()+"";return this}mark(t,
M){const fa=Bg[M.marktype],ta=fa.tag,Ua=[Ea,fa.attr];t.open("g",{"class":Jf(M),"clip-path":M.clip?Mc(this,M,M.group):null},cb(M),{"pointer-events":"g"!==ta&&!1===M.interactive?"none":null});const Tb=ic=>{const Fc=this.href(ic);Fc&&t.open("a",Fc);t.open(ta,this.attr(M,ic,Ua,"g"!==ta?ta:null));if("text"===ta){var bc=Pc(ic);if(l.isArray(bc)){var Wc={x:0,dy:Ec(ic)};for(var Qc=0;Qc<bc.length;++Qc)t.open("tspan",Qc?Wc:null).text(Nc(ic,bc[Qc])).close()}else t.text(Nc(ic,bc))}else"g"===ta&&(bc=ic.strokeForeground,
Wc=ic.fill,Qc=ic.stroke,bc&&Qc&&(ic.stroke=null),t.open("path",this.attr(M,ic,fa.background,"bgrect")).close(),t.open("g",this.attr(M,ic,fa.content)),Sb(ic,vd=>this.mark(t,vd)),t.close(),bc&&Qc?(Wc&&(ic.fill=null),ic.stroke=Qc,t.open("path",this.attr(M,ic,fa.foreground,"bgrect")).close(),Wc&&(ic.fill=Wc)):t.open("path",this.attr(M,ic,fa.foreground,"bgfore")).close());t.close();Fc&&t.close()};fa.nested?M.items&&M.items.length&&Tb(M.items[0]):Sb(M,Tb);return t.close()}href(t){const M=t.href;if(M){if(t=
this._hrefs&&this._hrefs[M])return t;this.sanitizeURL(M).then(fa=>{fa["xlink:href"]=fa.href;fa.href=null;(this._hrefs||(this._hrefs={}))[M]=fa})}return null}attr(t,M,fa,ta){const Ua={},Tb=(ic,Fc,bc,Wc)=>{Ua[Wc||ic]=Fc};Array.isArray(fa)?fa.forEach(ic=>ic(Tb,M,this)):fa(Tb,M,this);ta&&rf(Ua,M,t,ta,this._defs);return Ua}defs(t){var M=this._defs.gradient;const fa=this._defs.clipping;if(0!==Object.keys(M).length+Object.keys(fa).length){t.open("defs");for(const Ua in M){var ta=M[Ua];const Tb=ta.stops;
"radial"===ta.gradient?(t.open("pattern",{id:"p_"+Ua,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+Ua+")"}).close(),t.close(),t.open("radialGradient",{id:Ua,fx:ta.x1,fy:ta.y1,fr:ta.r1,cx:ta.x2,cy:ta.y2,r:ta.r2})):t.open("linearGradient",{id:Ua,x1:ta.x1,x2:ta.x2,y1:ta.y1,y2:ta.y2});for(ta=0;ta<Tb.length;++ta)t.open("stop",{offset:Tb[ta].offset,"stop-color":Tb[ta].color}).close();t.close()}for(const Ua in fa)M=fa[Ua],
t.open("clipPath",{id:Ua}),M.path?t.open("path",{d:M.path}).close():t.open("rect",{x:0,y:0,width:M.width,height:M.height}).close(),t.close();t.close()}}}const Dg={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};class uh extends qh{constructor(t){super(t);this._svgRenderer=new th(t);this._canvasRenderer=new Yh(t)}initialize(t,M,fa,ta,Ua){this._root_el=xe(t,0,"div");const Tb=xe(this._root_el,0,"div"),ic=xe(this._root_el,1,"div");this._root_el.style.position="relative";Dg.debug||(Tb.style.height="100%",
ic.style.position="absolute",ic.style.top="0",ic.style.left="0",ic.style.height="100%",ic.style.width="100%");this._svgEl=Dg.svgOnTop?ic:Tb;this._canvasEl=Dg.svgOnTop?Tb:ic;this._svgEl.style.pointerEvents="none";this._canvasRenderer.initialize(this._canvasEl,M,fa,ta,Ua);this._svgRenderer.initialize(this._svgEl,M,fa,ta,Ua);return super.initialize(t,M,fa,ta,Ua)}dirty(t){Dg.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t);return this}_render(t,M){M=(null!=
M?M:"arc area image line path rect rule shape symbol text trail".split(" ")).filter(fa=>!Dg.svgMarkTypes.includes(fa));this._svgRenderer.render(t,Dg.svgMarkTypes);this._canvasRenderer.render(t,M)}resize(t,M,fa,ta){super.resize(t,M,fa,ta);this._svgRenderer.resize(t,M,fa,ta);this._canvasRenderer.resize(t,M,fa,ta);return this}background(t){Dg.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t);return this}}class Zi extends Xh{constructor(t,M){super(t,M)}initialize(t,M,fa){t=xe(xe(t,
0,"div"),Dg.svgOnTop?0:1,"div");return super.initialize(t,M,fa)}}const sh={};sh.canvas=sh.png={renderer:Yh,headless:Yh,handler:Xh};sh.svg={renderer:th,headless:fh,handler:zh};sh.hybrid={renderer:uh,headless:uh,handler:Zi};sh.none={};const zi=new ra;u.Bounds=ra;u.CanvasHandler=Xh;u.CanvasRenderer=Yh;u.Gradient=function(t,M){var fa=[],ta;return ta={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:M?M[0]:1,y2:M?M[1]:0,stops:fa,stop:function(Ua,Tb){fa.push({offset:Ua,color:Tb});return ta}}};u.GroupItem=Va;
u.Handler=xi;u.HybridHandler=Zi;u.HybridRenderer=uh;u.Item=Hb;u.Marks=Bg;u.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",Hybrid:"hybrid",None:"none"};u.Renderer=qh;u.ResourceLoader=Tg;u.SVGHandler=zh;u.SVGRenderer=th;u.SVGStringRenderer=fh;u.Scenegraph=Ui;u.boundClip=function(t){const M=t.clip;if(l.isFunction(M))M(Ib(zi.clear()));else if(M)zi.set(0,0,t.group.width,t.group.height);else return;t.bounds.intersect(zi)};u.boundContext=Ib;u.boundItem=Me;u.boundMark=Qe;u.boundStroke=Bb;u.domChild=xe;u.domClear=
zd;u.domCreate=ke;u.domFind=oe;u.font=yd;u.fontFamily=td;u.fontSize=hc;u.intersect=function(t,M,fa){const ta=[];M=(new ra).union(M);const Ua=t.marktype;return Ua?ze(t,M,fa,ta):"group"===Ua?Ze(t,M,fa,ta):l.error("Intersect scene must be mark node or group item.")};u.intersectBoxLine=Ma;u.intersectPath=rc;u.intersectPoint=ad;u.intersectRule=oa;u.lineHeight=Ec;u.markup=Dd;u.multiLineOffset=function(t){const M=Pc(t);return(l.isArray(M)?M.length-1:0)*Ec(t)};u.path=Yb;u.pathCurves=Da;u.pathEqual=re;u.pathParse=
S;u.pathRectangle=kc;u.pathRender=Ca;u.pathSymbols=Ra;u.pathTrail=Zb;u.point=Xe;u.renderModule=function(t,M){t=String(t||"").toLowerCase();return 1<arguments.length?(sh[t]=M,this):sh[t]};u.resetSVGClipId=function(){Sg=1};u.resetSVGDefIds=function(){Sg=1;qa=0};u.sceneEqual=me;u.sceneFromJSON=He;u.scenePickVisit=Gb;u.sceneToJSON=Re;u.sceneVisit=Sb;u.sceneZOrder=ob;u.serializeXML=gi;u.setHybridRendererOptions=function(t){let M;Dg.svgMarkTypes=null!=(M=t.svgMarkTypes)?M:["text"];let fa;Dg.svgOnTop=null!=
(fa=t.svgOnTop)?fa:!0;let ta;Dg.debug=null!=(ta=t.debug)?ta:!1};u.textMetrics=og})};
shadow$provide[38]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(32),nb(37),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega,u.vega))})(this,function(u,l,ja,Za){function ub(E){l.Transform.call(this,null,E)}function Wb(E,I,X){return I(E.bounds.clear(),E,X)}function ec(E){l.Transform.call(this,
0,E)}function Db(E){return E._signals[":vega_identifier:"]||(E._signals[":vega_identifier:"]=E.add(0))}function yb(E){l.Transform.call(this,null,E)}function wb(E){const I=E.groups;E=E.parent;return I&&1===I.size?I.get(Object.keys(I.object)[0]):I&&E?I.lookup(E):null}function Qb(E){l.Transform.call(this,null,E)}function Yb(E){l.Transform.call(this,null,E)}function Ba(E,I,X){return E[I]===X?0:(E[I]=X,1)}function bb(E){E=E.items[0].orient;return"left"===E||"right"===E}function Ab(E,I,X,Da){I=I.items[0];
var S=I.datum,ia=null!=I.translate?I.translate:.5,Ca=I.orient,Qa=+S.grid;var Ra=[S.ticks?Qa++:-1,S.labels?Qa++:-1,Qa+ +S.domain];Qa=I.range;var db=I.offset,zb=I.position,kb=I.minExtent,Vb=I.maxExtent;S=S.title&&I.items[Ra[2]].items[0];var Y=I.titlePadding,Ha=I.bounds,Ub=S&&ja.multiLineOffset(S),kc;A.clear().union(Ha);Ha.clear();-1<(kc=Ra[0])&&Ha.union(I.items[kc].bounds);-1<(kc=Ra[1])&&Ha.union(I.items[kc].bounds);switch(Ca){case "top":X=zb||0;Da=-db;kb=Math.max(kb,Math.min(Vb,-Ha.y1));Ha.add(0,-kb).add(Qa,
0);S&&xb(E,S,kb,Y,Ub,0,-1,Ha);break;case "left":X=-db;Da=zb||0;kb=Math.max(kb,Math.min(Vb,-Ha.x1));Ha.add(-kb,0).add(0,Qa);S&&xb(E,S,kb,Y,Ub,1,-1,Ha);break;case "right":X+=db;Da=zb||0;kb=Math.max(kb,Math.min(Vb,Ha.x2));Ha.add(0,0).add(kb,Qa);S&&xb(E,S,kb,Y,Ub,1,1,Ha);break;case "bottom":X=zb||0;Da+=db;kb=Math.max(kb,Math.min(Vb,Ha.y2));Ha.add(0,0).add(Qa,kb);S&&xb(E,S,kb,Y,0,0,1,Ha);break;default:X=I.x,Da=I.y}ja.boundStroke(Ha.translate(X,Da),I);Ba(I,"x",X+ia)|Ba(I,"y",Da+ia)&&(I.bounds=A,E.dirty(I),
I.bounds=Ha,E.dirty(I));return I.mark.bounds.clear().union(Ha)}function xb(E,I,X,Da,S,ia,Ca,Qa){const Ra=I.bounds;I.auto&&(X=Ca*(X+S+Da),S=Da=0,E.dirty(I),ia?Da=(I.x||0)-(I.x=X):S=(I.y||0)-(I.y=X),I.mark.bounds.clear().union(Ra.translate(-Da,-S)),E.dirty(I));Qa.union(Ra)}function qb(E){return(new ja.Bounds).set(0,0,E.width||0,E.height||0)}function Cb(E){const I=E.bounds.clone();return I.empty()?I.set(0,0,0,0):I.translate(-(E.x||0),-(E.y||0))}function lb(E,I,X){E=Za.isObject(E)?E[I]:E;return null!=
E?E:void 0!==X?X:0}function mc(E){return 0>E?Math.ceil(-E):0}function ua(E,I,X){var Da=!X.nodirty,S="flush"===X.bounds?qb:Cb,ia=A.set(0,0,0,0),Ca=lb(X.align,"column"),Qa=lb(X.align,"row"),Ra=lb(X.padding,"column"),db=lb(X.padding,"row"),zb=X.columns||I.length,kb=0>=zb?1:Math.ceil(I.length/zb),Vb=I.length,Y=Array(Vb),Ha=Array(zb),Ub=0,kc=Array(Vb),Zb=Array(kb),Pb=0,Nb=Array(Vb),tc=Array(Vb),Mc=Array(Vb),ra,Hb,Va;for(ra=0;ra<zb;++ra)Ha[ra]=0;for(ra=0;ra<kb;++ra)Zb[ra]=0;for(ra=0;ra<Vb;++ra){var Bb=
I[ra];var Ib=Mc[ra]=S(Bb);Bb.x=Bb.x||0;Nb[ra]=0;Bb.y=Bb.y||0;tc[ra]=0;Bb=ra%zb;var Eb=~~(ra/zb);Ub=Math.max(Ub,Hb=Math.ceil(Ib.x2));Pb=Math.max(Pb,Va=Math.ceil(Ib.y2));Ha[Bb]=Math.max(Ha[Bb],Hb);Zb[Eb]=Math.max(Zb[Eb],Va);Y[ra]=Ra+mc(Ib.x1);kc[ra]=db+mc(Ib.y1);Da&&E.dirty(I[ra])}for(ra=0;ra<Vb;++ra)0===ra%zb&&(Y[ra]=0),ra<zb&&(kc[ra]=0);if("each"===Ca)for(Bb=1;Bb<zb;++Bb){S=0;for(ra=Bb;ra<Vb;ra+=zb)S<Y[ra]&&(S=Y[ra]);for(ra=Bb;ra<Vb;ra+=zb)Y[ra]=S+Ha[Bb-1]}else if("all"===Ca){for(ra=S=0;ra<Vb;++ra)ra%
zb&&S<Y[ra]&&(S=Y[ra]);for(ra=0;ra<Vb;++ra)ra%zb&&(Y[ra]=S+Ub)}else for(Ca=!1,Bb=1;Bb<zb;++Bb)for(ra=Bb;ra<Vb;ra+=zb)Y[ra]+=Ha[Bb-1];if("each"===Qa)for(Eb=1;Eb<kb;++Eb){S=0;ra=Eb*zb;for(Bb=ra+zb;ra<Bb;++ra)S<kc[ra]&&(S=kc[ra]);for(ra=Eb*zb;ra<Bb;++ra)kc[ra]=S+Zb[Eb-1]}else if("all"===Qa){S=0;for(ra=zb;ra<Vb;++ra)S<kc[ra]&&(S=kc[ra]);for(ra=zb;ra<Vb;++ra)kc[ra]=S+Pb}else for(Qa=!1,Eb=1;Eb<kb;++Eb)for(ra=Eb*zb,Bb=ra+zb;ra<Bb;++ra)kc[ra]+=Zb[Eb-1];for(ra=Eb=0;ra<Vb;++ra)Eb=Y[ra]+(ra%zb?Eb:0),Nb[ra]+=
Eb-I[ra].x;for(Bb=0;Bb<zb;++Bb)for(Y=0,ra=Bb;ra<Vb;ra+=zb)Y+=kc[ra],tc[ra]+=Y-I[ra].y;if(Ca&&lb(X.center,"column")&&1<kb)for(ra=0;ra<Vb;++ra)Ib="all"===Ca?Ub:Ha[ra%zb],Eb=Ib-Mc[ra].x2-I[ra].x-Nb[ra],0<Eb&&(Nb[ra]+=Eb/2);if(Qa&&lb(X.center,"row")&&1!==zb)for(ra=0;ra<Vb;++ra)Ib="all"===Qa?Pb:Zb[~~(ra/zb)],Y=Ib-Mc[ra].y2-I[ra].y-tc[ra],0<Y&&(tc[ra]+=Y/2);for(ra=0;ra<Vb;++ra)ia.union(Mc[ra].translate(Nb[ra],tc[ra]));Eb=lb(X.anchor,"x");Y=lb(X.anchor,"y");switch(lb(X.anchor,"column")){case "end":Eb-=ia.width();
break;case "middle":Eb-=ia.width()/2}switch(lb(X.anchor,"row")){case "end":Y-=ia.height();break;case "middle":Y-=ia.height()/2}Eb=Math.round(Eb);Y=Math.round(Y);ia.clear();for(ra=0;ra<Vb;++ra)I[ra].mark.bounds.clear();for(ra=0;ra<Vb;++ra)Bb=I[ra],Bb.x+=Nb[ra]+=Eb,Bb.y+=tc[ra]+=Y,ia.union(Bb.mark.bounds.union(Bb.bounds.translate(Nb[ra],tc[ra]))),Da&&E.dirty(Bb);return ia}function ha(E,I){return"x1"===I?E.x||0:"y1"===I?E.y||0:"x2"===I?(E.x||0)+(E.width||0):"y2"===I?(E.y||0)+(E.height||0):void 0}function xa(E,
I){return E.bounds[I]}function Sa(E,I,X,Da,S,ia,Ca,Qa,Ra,db,zb,kb,Vb,Y){var Ha=X.length,Ub=Da=0,kc,Zb;if(!Ha)return Da;for(kc=zb;kc<Ha;kc+=kb)X[kc]&&(Da=Ca(Da,Ra(X[kc],db)));if(!I.length)return Da;I.length>S&&(E.warn("Grid headers exceed limit: "+S),I=I.slice(0,S));Da+=ia;S=0;for(ia=I.length;S<ia;++S)E.dirty(I[S]),I[S].mark.bounds.clear();kc=zb;S=0;for(ia=I.length;S<ia;++S,kc+=kb){Ra=I[S];zb=Ra.mark.bounds;for(Ha=kc;0<=Ha&&null==(Zb=X[Ha]);Ha-=Vb);if(Qa){Ha=null==Y?Zb.x:Math.round(Zb.bounds.x1+Y*
Zb.bounds.width());var Pb=Da}else Ha=Da,Pb=null==Y?Zb.y:Math.round(Zb.bounds.y1+Y*Zb.bounds.height());zb.union(Ra.bounds.translate(Ha-(Ra.x||0),Pb-(Ra.y||0)));Ra.x=Ha;Ra.y=Pb;E.dirty(Ra);Ub=Ca(Ub,zb[db])}return Ub}function Xa(E,I,X,Da,S,ia){if(I){E.dirty(I);var Ca=X;Da?Ca=Math.round(S.x1+ia*S.width()):X=Math.round(S.y1+ia*S.height());I.bounds.translate(Ca-(I.x||0),X-(I.y||0));I.mark.bounds.clear().union(I.bounds);I.x=Ca;I.y=X;E.dirty(I)}}function La(E,I){const X=E[I]||{};return(Da,S)=>null!=X[Da]?
X[Da]:null!=E[Da]?E[Da]:S}function jb(E,I){let X=-Infinity;E.forEach(Da=>{null!=Da.offset&&(X=Math.max(X,Da.offset))});return-Infinity<X?X:I}function fb(E,I,X,Da,S,ia,Ca){const Qa=La(X,I);X=jb(E,Qa("offset",0));const Ra=Qa("anchor","start"),db="end"===Ra?1:"middle"===Ra?.5:0;E={align:"each",bounds:Qa("bounds","flush"),columns:"vertical"===Qa("direction")?1:E.length,padding:Qa("margin",8),center:Qa("center"),nodirty:!0};switch(I){case "left":E.anchor={x:Math.floor(Da.x1)-X,column:"end",y:db*(Ca||Da.height()+
2*Da.y1),row:Ra};break;case "right":E.anchor={x:Math.ceil(Da.x2)+X,y:db*(Ca||Da.height()+2*Da.y1),row:Ra};break;case "top":E.anchor={y:Math.floor(S.y1)-X,row:"end",x:db*(ia||S.width()+2*S.x1),column:Ra};break;case "bottom":E.anchor={y:Math.ceil(S.y2)+X,x:db*(ia||S.width()+2*S.x1),column:Ra};break;case "top-left":E.anchor={x:X,y:X};break;case "top-right":E.anchor={x:ia-X,y:X,column:"end"};break;case "bottom-left":E.anchor={x:X,y:Ca-X,row:"end"};break;case "bottom-right":E.anchor={x:ia-X,y:Ca-X,column:"end",
row:"end"}}return E}function vb(E,I){I=I.items[0];var X=I.datum,Da=I.orient,S=I.bounds,ia=I.x,Ca=I.y;I._bounds?I._bounds.clear().union(S):I._bounds=S.clone();S.clear();var Qa=I.items[0].items[0];var Ra=I.padding,db=Ra-Qa.x,zb=Ra-Qa.y;if(I.datum.title){var kb=I.items[1].items[0],Vb=kb.anchor,Y=I.titlePadding||0,Ha=Ra-kb.x,Ub=Ra-kb.y;switch(kb.orient){case "left":db+=Math.ceil(kb.bounds.width())+Y;break;case "right":case "bottom":break;default:zb+=kb.bounds.height()+Y}(db||zb)&&U(E,Qa,db,zb);switch(kb.orient){case "left":Ub+=
Na(I,Qa,kb,Vb,1,1);break;case "right":Ha+=Na(I,Qa,kb,"end",0,0)+Y;Ub+=Na(I,Qa,kb,Vb,1,1);break;case "bottom":Ha+=Na(I,Qa,kb,Vb,0,0);Ub+=Na(I,Qa,kb,"end",-1,0,1)+Y;break;default:Ha+=Na(I,Qa,kb,Vb,0,0)}(Ha||Ub)&&U(E,kb,Ha,Ub);0>(Ha=Math.round(kb.bounds.x1-Ra))&&(U(E,Qa,-Ha,0),U(E,kb,-Ha,0))}else(db||zb)&&U(E,Qa,db,zb);S=Rb(I,S);E=2*I.padding;Qa=2*I.padding;S.empty()||(E=Math.ceil(S.width()+E),Qa=Math.ceil(S.height()+Qa));"symbol"===X.type&&ea(I.items[0].items[0].items[0].items);"none"!==Da&&(I.x=ia=
0,I.y=Ca=0);I.width=E;I.height=Qa;ja.boundStroke(S.set(ia,Ca,ia+E,Ca+Qa),I);I.mark.bounds.clear().union(S);return I}function Rb(E,I){E.items.forEach(X=>I.union(X.bounds));I.x1=E.padding;I.y1=E.padding;return I}function Na(E,I,X,Da,S,ia,Ca){const Qa=X.datum.vgrad;E=("symbol"===E.datum.type||!ia&&Qa||Ca?I:I.items[0]).bounds[S?"y2":"x2"]-E.padding;I=Qa&&ia?E:0;ia=Qa&&ia?0:E;X=0>=S?0:ja.multiLineOffset(X);return Math.round("start"===Da?I:"end"===Da?ia-X:.5*(E-X))}function U(E,I,X,Da){I.x+=X;I.y+=Da;I.bounds.translate(X,
Da);I.mark.bounds.translate(X,Da);E.dirty(I)}function ea(E){const I=E.reduce((X,Da)=>{X[Da.column]=Math.max(Da.bounds.x2-Da.x,X[Da.column]||0);return X},{});E.forEach(X=>{X.width=I[X.column];X.height=X.bounds.y2-X.y})}function Ja(E,I,X,Da,S){var ia=I.items[0],Ca=ia.orient,Qa=ia.anchor,Ra=ia.offset,db=ia.padding,zb=ia.items[0].items[0],kb=ia.items[1]&&ia.items[1].items[0],Vb="left"===Ca||"right"===Ca?Da:X,Y=0,Ha=X=0;"group"!==ia.frame?"left"===Ca?(Y=S.y2,Vb=S.y1):"right"===Ca?(Y=S.y1,Vb=S.y2):(Y=S.x1,
Vb=S.x2):"left"===Ca&&(Y=Da,Vb=0);Da="start"===Qa?Y:"end"===Qa?Vb:(Y+Vb)/2;if(kb&&kb.text){switch(Ca){case "top":case "bottom":Ha=zb.bounds.height()+db;break;case "left":X=zb.bounds.width()+db;break;case "right":X=-zb.bounds.width()-db}A.clear().union(kb.bounds);A.translate(X-(kb.x||0),Ha-(kb.y||0));Ba(kb,"x",X)|Ba(kb,"y",Ha)&&(E.dirty(kb),kb.bounds.clear().union(A),kb.mark.bounds.clear().union(A),E.dirty(kb));A.clear().union(kb.bounds)}else A.clear();A.union(zb.bounds);switch(Ca){case "top":Ca=Da;
S=S.y1-A.height()-Ra;break;case "left":Ca=S.x1-A.width()-Ra;S=Da;break;case "right":Ca=S.x2+A.width()+Ra;S=Da;break;case "bottom":Ca=Da;S=S.y2+Ra;break;default:Ca=ia.x,S=ia.y}Ba(ia,"x",Ca)|Ba(ia,"y",S)&&(A.translate(Ca,S),E.dirty(ia),ia.bounds.clear().union(A),I.bounds.clear().union(A),E.dirty(ia));return ia.bounds}function Z(E){l.Transform.call(this,null,E)}function Fa(E){return E&&"legend-entry"!==E.mark.role}function ma(E,I,X){var Da=I.items,S=Math.max(0,I.width||0),ia=Math.max(0,I.height||0),
Ca=(new ja.Bounds).set(0,0,S,ia),Qa=Ca.clone(),Ra=Ca.clone(),db=[],zb,kb;var Vb=0;for(kb=Da.length;Vb<kb;++Vb){var Y=Da[Vb];switch(Y.role){case "axis":var Ha=bb(Y)?Qa:Ra;Ha.union(Ab(E,Y,S,ia));break;case "title":var Ub=Y;break;case "legend":db.push(vb(E,Y));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Qa.union(Y.bounds);Ra.union(Y.bounds);break;default:Ca.union(Y.bounds)}}if(db.length){const kc={};
db.forEach(Zb=>{zb=Zb.orient||"right";"none"!==zb&&(kc[zb]||(kc[zb]=[])).push(Zb)});for(const Zb in kc)Da=kc[Zb],ua(E,Da,fb(Da,Zb,X.legends,Qa,Ra,S,ia));db.forEach(Zb=>{const Pb=Zb.bounds;Pb.equals(Zb._bounds)||(Zb.bounds=Zb._bounds,E.dirty(Zb),Zb.bounds=Pb,E.dirty(Zb));if(!X.autosize||"fit"!==X.autosize.type&&"fit-x"!==X.autosize.type&&"fit-y"!==X.autosize.type)Ca.union(Pb);else switch(Zb.orient){case "left":case "right":Ca.add(Pb.x1,0).add(Pb.x2,0);break;case "top":case "bottom":Ca.add(0,Pb.y1).add(0,
Pb.y2)}})}Ca.union(Qa).union(Ra);Ub&&Ca.union(Ja(E,Ub,S,ia,Ca));I.clip&&Ca.set(0,0,I.width||0,I.height||0);na(E,I,Ca,X)}function na(E,I,X,Da){Da=Da.autosize||{};const S=Da.type;if(!(1>E._autosize)&&S){var ia=E._width,Ca=E._height,Qa=Math.max(0,I.width||0),Ra=Math.max(0,Math.ceil(-X.x1));I=Math.max(0,I.height||0);var db=Math.max(0,Math.ceil(-X.y1)),zb=Math.max(0,Math.ceil(X.x2-Qa));X=Math.max(0,Math.ceil(X.y2-I));if("padding"===Da.contains){const kb=E.padding();ia-=kb.left+kb.right;Ca-=kb.top+kb.bottom}"none"===
S?(db=Ra=0,Qa=ia,I=Ca):"fit"===S?(Qa=Math.max(0,ia-Ra-zb),I=Math.max(0,Ca-db-X)):"fit-x"===S?(Qa=Math.max(0,ia-Ra-zb),Ca=I+db+X):"fit-y"===S?(ia=Qa+Ra+zb,I=Math.max(0,Ca-db-X)):"pad"===S&&(ia=Qa+Ra+zb,Ca=I+db+X);E._resizeView(ia,Ca,Qa,I,[Ra,db],Da.resize)}}Za.inherits(ub,l.Transform,{transform(E,I){const X=I.dataflow,Da=E.mark,S=Da.marktype,ia=ja.Marks[S],Ca=ia.bound;let Qa=Da.bounds,Ra;if(ia.nested)Da.items.length&&X.dirty(Da.items[0]),Qa=Wb(Da,Ca),Da.items.forEach(db=>{db.bounds.clear().union(Qa)});
else if("group"===S||E.modified())switch(I.visit(I.MOD,db=>X.dirty(db)),Qa.clear(),Da.items.forEach(db=>Qa.union(Wb(db,Ca))),Da.role){case "axis":case "legend":case "title":I.reflow()}else Ra=I.changed(I.REM),I.visit(I.ADD,db=>{Qa.union(Wb(db,Ca))}),I.visit(I.MOD,db=>{Ra=Ra||Qa.alignsWith(db.bounds);X.dirty(db);Qa.union(Wb(db,Ca))}),Ra&&(Qa.clear(),Da.items.forEach(db=>Qa.union(db.bounds)));ja.boundClip(Da);return I.modifies("bounds")}});ec.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",
type:"string",required:!0}]};Za.inherits(ec,l.Transform,{transform(E,I){const X=Db(I.dataflow),Da=E.as;let S=X.value;I.visit(I.ADD,ia=>ia[Da]=ia[Da]||++S);X.set(this.value=S);return I}});Za.inherits(yb,l.Transform,{transform(E,I){let X=this.value;X||(X=I.dataflow.scenegraph().mark(E.markdef,wb(E),E.index),X.group.context=E.context,E.context.group||(E.context.group=X.group),X.source=this.source,X.clip=E.clip,X.interactive=E.interactive,this.value=X);const Da="group"===X.marktype?ja.GroupItem:ja.Item;
I.visit(I.ADD,S=>Da.call(S,X));if(E.modified("clip")||E.modified("interactive"))X.clip=E.clip,X.interactive=!!E.interactive,X.zdirty=!0,I.reflow();X.items=I.source;return I}});const n={parity:E=>E.filter((I,X)=>X%2?I.opacity=0:1),greedy:(E,I)=>{let X;return E.filter((Da,S)=>S&&F(X.bounds,Da.bounds,I)?Da.opacity=0:(X=Da,1))}},F=(E,I,X)=>X>Math.max(I.x1-E.x2,E.x1-I.x2,I.y1-E.y2,E.y1-I.y2),N=(E,I)=>{for(var X=1,Da=E.length,S=E[0].bounds;X<Da;++X)if(F(S,S=E[X].bounds,I))return!0},x=E=>{E=E.bounds;return 1<
E.width()&&1<E.height()},T=(E,I,X)=>{E=E.range();var Da=new ja.Bounds;"top"===I||"bottom"===I?Da.set(E[0],-Infinity,E[1],Infinity):Da.set(-Infinity,E[0],Infinity,E[1]);Da.expand(X||1);return S=>Da.encloses(S.bounds)},B=E=>{E.forEach(I=>I.opacity=1);return E};Za.inherits(Qb,l.Transform,{transform(E,I){const X=n[E.method]||n.parity,Da=E.separation||0;let S=I.materialize(I.SOURCE).source,ia,Ca;if(S&&S.length){if(!E.method)return E.modified("method")&&(B(S),I=I.reflow(E.modified()).modifies("opacity")),
I;S=S.filter(x);if(S.length){E.sort&&(S=S.slice().sort(E.sort));ia=B(S);I=I.reflow(E.modified()).modifies("opacity");if(3<=ia.length&&N(ia,Da)){do ia=X(ia,Da);while(3<=ia.length&&N(ia,Da));3>ia.length&&!Za.peek(S).opacity&&(1<ia.length&&(Za.peek(ia).opacity=0),Za.peek(S).opacity=1)}E.boundScale&&0<=E.boundTolerance&&(Ca=T(E.boundScale,E.boundOrient,+E.boundTolerance),S.forEach(Ra=>{Ca(Ra)||(Ra.opacity=0)}));var Qa=ia[0].mark.bounds.clear();S.forEach(Ra=>{Ra.opacity&&Qa.union(Ra.bounds)});return I}}}});
Za.inherits(Yb,l.Transform,{transform(E,I){const X=I.dataflow;I.visit(I.ALL,Da=>X.dirty(Da));I.fields&&I.fields.zindex&&(E=I.source&&I.source[0])&&(E.mark.zdirty=!0)}});const A=new ja.Bounds,Q=(E,I)=>Math.floor(Math.min(E,I)),D=(E,I)=>Math.ceil(Math.max(E,I));Za.inherits(Z,l.Transform,{transform(E,I){const X=I.dataflow;E.mark.items.forEach(Da=>{if(E.layout){var S=E.layout;var ia=Da.items;for(var Ca=ia.length,Qa=0,Ra,db,zb={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,
coltitle:null};Qa<Ca;++Qa)if(Ra=ia[Qa],db=Ra.items,"group"===Ra.marktype)switch(Ra.role){case "axis":case "legend":case "title":break;case "row-header":zb.rowheaders.push(...db);break;case "row-footer":zb.rowfooters.push(...db);break;case "column-header":zb.colheaders.push(...db);break;case "column-footer":zb.colfooters.push(...db);break;case "row-title":zb.rowtitle=db[0];break;case "column-title":zb.coltitle=db[0];break;default:zb.marks.push(...db)}ia=zb;db=ia.marks;zb="flush"===S.bounds?ha:xa;Ca=
S.offset;var kb=S.columns||db.length,Vb=0>=kb?1:Math.ceil(db.length/kb),Y=Vb*kb;Qa=ua(X,db,S);Qa.empty()&&Qa.set(0,0,0,0);if(ia.rowheaders){Ra=lb(S.headerBand,"row",null);var Ha=Sa(X,ia.rowheaders,db,kb,Vb,-lb(Ca,"rowHeader"),Q,0,zb,"x1",0,kb,1,Ra)}if(ia.colheaders){Ra=lb(S.headerBand,"column",null);var Ub=Sa(X,ia.colheaders,db,kb,kb,-lb(Ca,"columnHeader"),Q,1,zb,"y1",0,1,kb,Ra)}if(ia.rowfooters){Ra=lb(S.footerBand,"row",null);var kc=Sa(X,ia.rowfooters,db,kb,Vb,lb(Ca,"rowFooter"),D,0,zb,"x2",kb-1,
kb,1,Ra)}if(ia.colfooters){Ra=lb(S.footerBand,"column",null);var Zb=Sa(X,ia.colfooters,db,kb,kb,lb(Ca,"columnFooter"),D,1,zb,"y2",Y-kb,1,kb,Ra)}ia.rowtitle&&(Ra=lb(S.titleAnchor,"row"),db=lb(Ca,"rowTitle"),db="end"===Ra?kc+db:Ha-db,Ra=lb(S.titleBand,"row",.5),Xa(X,ia.rowtitle,db,0,Qa,Ra));ia.coltitle&&(Ra=lb(S.titleAnchor,"column"),db=lb(Ca,"columnTitle"),db="end"===Ra?Zb+db:Ub-db,Ra=lb(S.titleBand,"column",.5),Xa(X,ia.coltitle,db,1,Qa,Ra))}ma(X,Da,E)});return Fa(E.mark.group)?I.reflow():I}});u.bound=
ub;u.identifier=ec;u.mark=yb;u.overlap=Qb;u.render=Yb;u.viewlayout=Z})};
shadow$provide[39]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(32),nb(36),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega))})(this,function(u,l,ja,Za){function ub(V){l.Transform.call(this,null,V)}function Wb(V){l.Transform.call(this,null,V)}function ec(){return l.ingest({})}function Db(V){const w=Za.fastmap().test(da=>
da.exit);w.lookup=da=>w.get(V(da));return w}function yb(V){l.Transform.call(this,null,V)}function wb(V){l.Transform.call(this,[],V)}function Qb(V){l.Transform.call(this,{},V)}function Yb(V,w,da){V=+V;w=+w;da=2>(Ia=arguments.length)?(w=V,V=0,1):3>Ia?1:+da;for(var Aa=-1,Ia=Math.max(0,Math.ceil((w-V)/da))|0,Wa=Array(Ia);++Aa<Ia;)Wa[Aa]=V+Aa*da;return Wa}function Ba(V,w){w=0;for(let da of V)if(da=+da)w+=da;return w}function bb(V){l.Transform.call(this,null,V)}function Ab(V,w,da){V.prototype=w.prototype=
da;da.constructor=V}function xb(V,w){V=Object.create(V.prototype);for(var da in w)V[da]=w[da];return V}function qb(){}function Cb(){return this.rgb().formatHex()}function lb(){return this.rgb().formatRgb()}function mc(V){var w,da;V=(V+"").trim().toLowerCase();return(w=ra.exec(V))?(da=w[1].length,w=parseInt(w[1],16),6===da?ua(w):3===da?new Sa(w>>8&15|w>>4&240,w>>4&15|w&240,(w&15)<<4|w&15,1):8===da?ha(w>>24&255,w>>16&255,w>>8&255,(w&255)/255):4===da?ha(w>>12&15|w>>8&240,w>>8&15|w>>4&240,w>>4&15|w&240,
((w&15)<<4|w&15)/255):null):(w=Hb.exec(V))?new Sa(w[1],w[2],w[3],1):(w=Va.exec(V))?new Sa(255*w[1]/100,255*w[2]/100,255*w[3]/100,1):(w=Bb.exec(V))?ha(w[1],w[2],w[3],w[4]):(w=Ib.exec(V))?ha(255*w[1]/100,255*w[2]/100,255*w[3]/100,w[4]):(w=Eb.exec(V))?Rb(w[1],w[2]/100,w[3]/100,1):(w=Xb.exec(V))?Rb(w[1],w[2]/100,w[3]/100,w[4]):jc.hasOwnProperty(V)?ua(jc[V]):"transparent"===V?new Sa(NaN,NaN,NaN,0):null}function ua(V){return new Sa(V>>16&255,V>>8&255,V&255,1)}function ha(V,w,da,Aa){0>=Aa&&(V=w=da=NaN);
return new Sa(V,w,da,Aa)}function xa(V,w,da,Aa){if(1===arguments.length){var Ia=V;Ia instanceof qb||(Ia=mc(Ia));Ia?(Ia=Ia.rgb(),Ia=new Sa(Ia.r,Ia.g,Ia.b,Ia.opacity)):Ia=new Sa}else Ia=new Sa(V,w,da,null==Aa?1:Aa);return Ia}function Sa(V,w,da,Aa){this.r=+V;this.g=+w;this.b=+da;this.opacity=+Aa}function Xa(){return`#${vb(this.r)}${vb(this.g)}${vb(this.b)}`}function La(){const V=jb(this.opacity);return`${1===V?"rgb(":"rgba("}${fb(this.r)}, ${fb(this.g)}, ${fb(this.b)}${1===V?")":`, ${V})`}`}function jb(V){return isNaN(V)?
1:Math.max(0,Math.min(1,V))}function fb(V){return Math.max(0,Math.min(255,Math.round(V)||0))}function vb(V){V=fb(V);return(16>V?"0":"")+V.toString(16)}function Rb(V,w,da,Aa){0>=Aa?V=w=da=NaN:0>=da||1<=da?V=w=NaN:0>=w&&(V=NaN);return new U(V,w,da,Aa)}function Na(V){if(V instanceof U)return new U(V.h,V.s,V.l,V.opacity);V instanceof qb||(V=mc(V));if(!V)return new U;if(V instanceof U)return V;V=V.rgb();var w=V.r/255,da=V.g/255,Aa=V.b/255,Ia=Math.min(w,da,Aa),Wa=Math.max(w,da,Aa),ob=NaN,Sb=Wa-Ia,Gb=(Wa+
Ia)/2;Sb?(ob=w===Wa?(da-Aa)/Sb+6*(da<Aa):da===Wa?(Aa-w)/Sb+2:(w-da)/Sb+4,Sb/=.5>Gb?Wa+Ia:2-Wa-Ia,ob*=60):Sb=0<Gb&&1>Gb?0:ob;return new U(ob,Sb,Gb,V.opacity)}function U(V,w,da,Aa){this.h=+V;this.s=+w;this.l=+da;this.opacity=+Aa}function ea(V){V=(V||0)%360;return 0>V?V+360:V}function Ja(V){return Math.max(0,Math.min(1,V||0))}function Z(V,w,da){return 255*(60>V?w+(da-w)*V/60:180>V?da:240>V?w+(da-w)*(240-V)/60:w)}function Fa(V,w){return function(da){return V+da*w}}function ma(V,w,da){return V=Math.pow(V,
da),w=Math.pow(w,da)-V,da=1/da,function(Aa){return Math.pow(V+Aa*w,da)}}function na(V){return 1===(V=+V)?n:function(w,da){return da-w?ma(w,da,V):rc(isNaN(w)?da:w)}}function n(V,w){var da=w-V;return da?Fa(V,da):rc(isNaN(V)?w:V)}function F(V,w){w||(w=[]);var da=V?Math.min(w.length,V.length):0,Aa=w.slice(),Ia;return function(Wa){for(Ia=0;Ia<da;++Ia)Aa[Ia]=V[Ia]*(1-Wa)+w[Ia]*Wa;return Aa}}function N(V,w){var da=w?w.length:0,Aa=V?Math.min(da,V.length):0,Ia=Array(Aa),Wa=Array(da),ob;for(ob=0;ob<Aa;++ob)Ia[ob]=
E(V[ob],w[ob]);for(;ob<da;++ob)Wa[ob]=w[ob];return function(Sb){for(ob=0;ob<Aa;++ob)Wa[ob]=Ia[ob](Sb);return Wa}}function x(V,w){var da=new Date;return V=+V,w=+w,function(Aa){return da.setTime(V*(1-Aa)+w*Aa),da}}function T(V,w){return V=+V,w=+w,function(da){return V*(1-da)+w*da}}function B(V,w){var da={},Aa={},Ia;if(null===V||"object"!==typeof V)V={};if(null===w||"object"!==typeof w)w={};for(Ia in w)Ia in V?da[Ia]=E(V[Ia],w[Ia]):Aa[Ia]=w[Ia];return function(Wa){for(Ia in da)Aa[Ia]=da[Ia](Wa);return Aa}}
function A(V){return function(){return V}}function Q(V){return function(w){return V(w)+""}}function D(V,w){var da=Lc.lastIndex=oa.lastIndex=0,Aa,Ia,Wa,ob=-1,Sb=[],Gb=[];V+="";for(w+="";(Aa=Lc.exec(V))&&(Ia=oa.exec(w));)(Wa=Ia.index)>da&&(Wa=w.slice(da,Wa),Sb[ob]?Sb[ob]+=Wa:Sb[++ob]=Wa),(Aa=Aa[0])===(Ia=Ia[0])?Sb[ob]?Sb[ob]+=Ia:Sb[++ob]=Ia:(Sb[++ob]=null,Gb.push({i:ob,x:T(Aa,Ia)})),da=oa.lastIndex;da<w.length&&(Wa=w.slice(da),Sb[ob]?Sb[ob]+=Wa:Sb[++ob]=Wa);return 2>Sb.length?Gb[0]?Q(Gb[0].x):A(w):
(w=Gb.length,function(Ob){for(var vc=0,Bc;vc<w;++vc)Sb[(Bc=Gb[vc]).i]=Bc.x(Ob);return Sb.join("")})}function E(V,w){var da=typeof w;if(null==w||"boolean"===da)V=rc(w);else{if("number"===da)var Aa=T;else"string"===da?da=(Aa=mc(w))?(w=Aa,ad):D:(w instanceof mc?Aa=ad:w instanceof Date?Aa=x:(Aa=w,Aa=!ArrayBuffer.isView(Aa)||Aa instanceof DataView?Array.isArray(w)?N:"function"!==typeof w.valueOf&&"function"!==typeof w.toString||isNaN(w)?B:T:F),da=Aa),Aa=da;V=Aa(V,w)}return V}function I(V,w){return V=+V,
w=+w,function(da){return Math.round(V*(1-da)+w*da)}}function X(V){return ja.isContinuous(V)&&V!==ja.Sequential}function Da(V){l.Transform.call(this,null,V);this.modified(!0)}function S(V,w,da){ja.isLogarithmic(V)&&Math.abs(w.reduce((Aa,Ia)=>Aa+(0>Ia?-1:0<Ia?1:0),0))!==w.length&&da.warn("Log scale domain includes zero: "+Za.stringValue(w));return w}function ia(V,w,da){return Za.isFunction(V)&&(w||da)?ja.interpolateRange(V,Ca(w||[0,1],da)):V}function Ca(V,w){return w?V.slice().reverse():V}function Qa(V){l.Transform.call(this,
null,V)}function Ra(V){l.Transform.call(this,null,V)}function db(V,w,da,Aa,Ia){w=(w-V.sum)/2;for(var Wa=V.length,ob=0,Sb;ob<Wa;++ob)Sb=V[ob],Sb[Aa]=w,Sb[Ia]=w+=Math.abs(da(Sb))}function zb(V,w,da,Aa,Ia){w=1/V.sum;for(var Wa=0,ob=V.length,Sb=0,Gb=0,Ob;Sb<ob;++Sb)Ob=V[Sb],Ob[Aa]=Wa,Ob[Ia]=Wa=w*(Gb+=Math.abs(da(Ob)))}function kb(V,w,da,Aa,Ia){for(var Wa=w=0,ob=V.length,Sb=0,Gb,Ob;Sb<ob;++Sb)Ob=V[Sb],Gb=+da(Ob),0>Gb?(Ob[Aa]=Wa,Ob[Ia]=Wa+=Gb):(Ob[Aa]=w,Ob[Ia]=w+=Gb)}function Vb(V,w,da,Aa){var Ia=[],Wa=
Ic=>Ic(Ob),ob;if(null==w)Ia.push(V.slice());else{var Sb={};var Gb=0;for(ob=V.length;Gb<ob;++Gb){var Ob=V[Gb];var vc=w.map(Wa);var Bc=Sb[vc];Bc||(Sb[vc]=Bc=[],Ia.push(Bc));Bc.push(Ob)}}Wa=vc=0;for(V=Ia.length;vc<V;++vc){Bc=Ia[vc];w=Gb=0;for(ob=Bc.length;Gb<ob;++Gb)w+=Math.abs(Aa(Bc[Gb]));Bc.sum=w;w>Wa&&(Wa=w);da&&Bc.sort(da)}Ia.max=Wa;return Ia}Za.inherits(ub,l.Transform,{transform(V,w){if(this.value&&!V.modified())return w.StopPropagation;var da=w.dataflow.locale();w=w.fork(w.NO_SOURCE|w.NO_FIELDS);
var Aa=this.value,Ia=V.scale,Wa=ja.tickCount(Ia,null==V.count?V.values?V.values.length:10:V.count,V.minstep),ob=V.format||ja.tickFormat(da,Ia,Wa,V.formatSpecifier,V.formatType,!!V.values),Sb=V.values?ja.validTicks(Ia,V.values,Wa):ja.tickValues(Ia,Wa);Aa&&(w.rem=Aa);Aa=Sb.map((Gb,Ob)=>l.ingest({index:Ob/(Sb.length-1||1),value:Gb,label:ob(Gb)}));V.extra&&Aa.length&&Aa.push(l.ingest({index:-1,extra:{value:Aa[0].value},label:""}));w.source=Aa;this.value=w.add=Aa;return w}});Za.inherits(Wb,l.Transform,
{transform(V,w){var da=w.dataflow,Aa=w.fork(w.NO_SOURCE|w.NO_FIELDS),Ia=V.item||ec,Wa=V.key||l.tupleid,ob=this.value;Za.isArray(Aa.encode)&&(Aa.encode=null);ob&&(V.modified("key")||w.modified(Wa))&&Za.error("DataJoin does not support modified key function or fields.");ob||(w=w.addAll(),this.value=ob=Db(Wa));w.visit(w.ADD,Sb=>{const Gb=Wa(Sb);let Ob=ob.get(Gb);Ob?Ob.exit?(ob.empty--,Aa.add.push(Ob)):Aa.mod.push(Ob):(Ob=Ia(Sb),ob.set(Gb,Ob),Aa.add.push(Ob));Ob.datum=Sb;Ob.exit=!1});w.visit(w.MOD,Sb=>
{var Gb=Wa(Sb);if(Gb=ob.get(Gb))Gb.datum=Sb,Aa.mod.push(Gb)});w.visit(w.REM,Sb=>{var Gb=Wa(Sb);Gb=ob.get(Gb);Sb!==Gb.datum||Gb.exit||(Aa.rem.push(Gb),Gb.exit=!0,++ob.empty)});w.changed(w.ADD_MOD)&&Aa.modifies("datum");(w.clean()||V.clean&&ob.empty>da.cleanThreshold)&&da.runAfter(ob.clean);return Aa}});Za.inherits(yb,l.Transform,{transform(V,w){var da=w.fork(w.ADD_REM),Aa=V.mod||!1,Ia=V.encoders,Wa=w.encode;if(Za.isArray(Wa))if(da.changed()||Wa.every(Bc=>Ia[Bc]))Wa=Wa[0],da.encode=null;else return w.StopPropagation;
var ob="enter"===Wa,Sb=Ia.update||Za.falsy,Gb=Ia.enter||Za.falsy,Ob=Ia.exit||Za.falsy,vc=(Wa&&!ob?Ia[Wa]:Sb)||Za.falsy;w.changed(w.ADD)&&(w.visit(w.ADD,Bc=>{Gb(Bc,V);Sb(Bc,V)}),da.modifies(Gb.output),da.modifies(Sb.output),vc!==Za.falsy&&vc!==Sb&&(w.visit(w.ADD,Bc=>{vc(Bc,V)}),da.modifies(vc.output)));w.changed(w.REM)&&Ob!==Za.falsy&&(w.visit(w.REM,Bc=>{Ob(Bc,V)}),da.modifies(Ob.output));if(ob||vc!==Za.falsy)Wa=w.MOD|(V.modified()?w.REFLOW:0),ob?(w.visit(Wa,Bc=>{const Ic=Gb(Bc,V)||Aa;(vc(Bc,V)||Ic)&&
da.mod.push(Bc)}),da.mod.length&&da.modifies(Gb.output)):w.visit(Wa,Bc=>{(vc(Bc,V)||Aa)&&da.mod.push(Bc)}),da.mod.length&&da.modifies(vc.output);return da.changed()?da:w.StopPropagation}});Za.inherits(wb,l.Transform,{transform(V,w){if(null!=this.value&&!V.modified())return w.StopPropagation;var da=w.dataflow.locale(),Aa=w.fork(w.NO_SOURCE|w.NO_FIELDS),Ia=this.value,Wa=V.type||ja.SymbolLegend,ob=V.scale,Sb=+V.limit,Gb=ja.tickCount(ob,null==V.count?5:V.count,V.minstep),Ob=!!V.values||Wa===ja.SymbolLegend,
vc=V.format||ja.labelFormat(da,ob,Gb,Wa,V.formatSpecifier,V.formatType,Ob),Bc=V.values||ja.labelValues(ob,Gb),Ic;Ia&&(Aa.rem=Ia);if(Wa===ja.SymbolLegend){if(Sb&&Bc.length>Sb){w.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Ia=Bc.slice(0,Sb-1);var id=!0}else Ia=Bc;if(Za.isFunction(Ic=V.size)){V.values||0!==ob(Ia[0])||(Ia=Ia.slice(1));var dd=Ia.reduce((kd,ld)=>Math.max(kd,Ic(ld,V)),0)}else Ic=Za.constant(dd=Ic||8);Ia=Ia.map((kd,ld)=>l.ingest({index:ld,label:vc(kd,ld,Ia),value:kd,
offset:dd,size:Ic(kd,V)}));id&&(id=Bc[Ia.length],Ia.push(l.ingest({index:Ia.length,label:`\u2026${Bc.length-Ia.length} entries`,value:id,offset:dd,size:Ic(id,V)})))}else if(Wa===ja.GradientLegend){w=ob.domain();var Uc=ja.scaleFraction(ob,w[0],Za.peek(w));3>Bc.length&&!V.values&&w[0]!==Za.peek(w)&&(Bc=[w[0],Za.peek(w)]);Ia=Bc.map((kd,ld)=>l.ingest({index:ld,label:vc(kd,ld,Bc),value:kd,perc:Uc(kd)}))}else Ic=Bc.length-1,Uc=ja.labelFraction(ob),Ia=Bc.map((kd,ld)=>l.ingest({index:ld,label:vc(kd,ld,Bc),
value:kd,perc:ld?Uc(kd):0,perc2:ld===Ic?1:Uc(Bc[ld+1])}));Aa.source=Ia;this.value=Aa.add=Ia;return Aa}});const Y=V=>V.source.x,Ha=V=>V.source.y,Ub=V=>V.target.x,kc=V=>V.target.y;Qb.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal",
"vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Za.inherits(Qb,l.Transform,{transform(V,w){var da=V.sourceX||Y,Aa=V.sourceY||Ha,Ia=V.targetX||Ub,Wa=V.targetY||kc,ob=V.as||"path",Sb=V.shape||"line",Gb=tc.get(Sb+"-"+(V.orient||"vertical"))||tc.get(Sb);Gb||Za.error("LinkPath unsupported type: "+V.shape+(V.orient?"-"+V.orient:""));w.visit(w.SOURCE,Ob=>{Ob[ob]=
Gb(da(Ob),Aa(Ob),Ia(Ob),Wa(Ob))});return w.reflow(V.modified()).modifies(ob)}});const Zb=(V,w,da,Aa)=>"M"+V+","+w+"L"+da+","+Aa,Pb=(V,w,da,Aa)=>{var Ia=da-V,Wa=Aa-w,ob=Math.hypot(Ia,Wa)/2;return"M"+V+","+w+"A"+ob+","+ob+" "+180*Math.atan2(Wa,Ia)/Math.PI+" 0 1 "+da+","+Aa},Nb=(V,w,da,Aa)=>{var Ia=da-V;const Wa=Aa-w,ob=.2*(Ia+Wa);Ia=.2*(Wa-Ia);return"M"+V+","+w+"C"+(V+ob)+","+(w+Ia)+" "+(da+Ia)+","+(Aa-ob)+" "+da+","+Aa},tc=Za.fastmap({line:Zb,"line-radial":(V,w,da,Aa)=>Zb(w*Math.cos(V),w*Math.sin(V),
Aa*Math.cos(da),Aa*Math.sin(da)),arc:Pb,"arc-radial":(V,w,da,Aa)=>Pb(w*Math.cos(V),w*Math.sin(V),Aa*Math.cos(da),Aa*Math.sin(da)),curve:Nb,"curve-radial":(V,w,da,Aa)=>Nb(w*Math.cos(V),w*Math.sin(V),Aa*Math.cos(da),Aa*Math.sin(da)),"orthogonal-horizontal":(V,w,da,Aa)=>"M"+V+","+w+"V"+Aa+"H"+da,"orthogonal-vertical":(V,w,da,Aa)=>"M"+V+","+w+"H"+da+"V"+Aa,"orthogonal-radial":(V,w,da,Aa)=>{const Ia=Math.cos(da),Wa=Math.sin(da);return"M"+w*Math.cos(V)+","+w*Math.sin(V)+"A"+w+","+w+" 0 0,"+((Math.abs(da-
V)>Math.PI?da<=V:da>V)?1:0)+" "+w*Ia+","+w*Wa+"L"+Aa*Ia+","+Aa*Wa},"diagonal-horizontal":(V,w,da,Aa)=>{const Ia=(V+da)/2;return"M"+V+","+w+"C"+Ia+","+w+" "+Ia+","+Aa+" "+da+","+Aa},"diagonal-vertical":(V,w,da,Aa)=>{const Ia=(w+Aa)/2;return"M"+V+","+w+"C"+V+","+Ia+" "+da+","+Ia+" "+da+","+Aa},"diagonal-radial":(V,w,da,Aa)=>{const Ia=Math.cos(V);V=Math.sin(V);const Wa=Math.cos(da);da=Math.sin(da);const ob=(w+Aa)/2;return"M"+w*Ia+","+w*V+"C"+ob*Ia+","+ob*V+" "+ob*Wa+","+ob*da+" "+Aa*Wa+","+Aa*da}});
bb.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};Za.inherits(bb,l.Transform,{transform(V,w){var da=V.as||["startAngle","endAngle"],Aa=da[0],Ia=da[1],Wa=V.startAngle||0,ob=null!=V.endAngle?V.endAngle:2*Math.PI,Sb=w.source,Gb=Sb.map(V.field||
Za.one),Ob=Gb.length,vc=Wa;Wa=(ob-Wa)/Ba(Gb);ob=Yb(Ob);var Bc;V.sort&&ob.sort((dd,Uc)=>Gb[dd]-Gb[Uc]);for(Bc=0;Bc<Ob;++Bc){var Ic=Gb[ob[Bc]];var id=Sb[ob[Bc]];id[Aa]=vc;id[Ia]=vc+=Ic*Wa}this.value=Gb;return w.reflow(V.modified()).modifies(da)}});var Mc=1/.7,ra=/^#([0-9a-f]{3,8})$/,Hb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Va=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Bb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ib=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Eb=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Xb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),jc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ab(qb,mc,{copy(V){return Object.assign(new this.constructor,this,V)},displayable(){return this.rgb().displayable()},hex:Cb,formatHex:Cb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Na(this).formatHsl()},formatRgb:lb,toString:lb});Ab(Sa,xa,xb(qb,{brighter(V){V=null==V?Mc:Math.pow(Mc,V);return new Sa(this.r*V,this.g*V,this.b*V,this.opacity)},darker(V){V=null==V?.7:Math.pow(.7,V);return new Sa(this.r*V,this.g*V,this.b*V,this.opacity)},rgb(){return this},clamp(){return new Sa(fb(this.r),fb(this.g),fb(this.b),jb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&
-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Xa,formatHex:Xa,formatHex8:function(){return`#${vb(this.r)}${vb(this.g)}${vb(this.b)}${vb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:La,toString:La}));Ab(U,function(V,w,da,Aa){return 1===arguments.length?Na(V):new U(V,w,da,null==Aa?1:Aa)},xb(qb,{brighter(V){V=null==V?Mc:Math.pow(Mc,V);return new U(this.h,this.s,this.l*V,this.opacity)},darker(V){V=null==V?.7:Math.pow(.7,V);return new U(this.h,this.s,this.l*V,this.opacity)},
rgb(){var V=this.h%360+360*(0>this.h),w=isNaN(V)||isNaN(this.s)?0:this.s,da=this.l;w=da+(.5>da?da:1-da)*w;da=2*da-w;return new Sa(Z(240<=V?V-240:V+120,da,w),Z(V,da,w),Z(120>V?V+240:V-120,da,w),this.opacity)},clamp(){return new U(ea(this.h),Ja(this.s),Ja(this.l),jb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const V=jb(this.opacity);return`${1===V?"hsl(":"hsla("}${ea(this.h)}, ${100*Ja(this.s)}%, ${100*
Ja(this.l)}%${1===V?")":`, ${V})`}`}}));var rc=V=>()=>V,ad=function da(w){function Aa(Wa,ob){var Sb=Ia((Wa=xa(Wa)).r,(ob=xa(ob)).r),Gb=Ia(Wa.g,ob.g),Ob=Ia(Wa.b,ob.b),vc=n(Wa.opacity,ob.opacity);return function(Bc){Wa.r=Sb(Bc);Wa.g=Gb(Bc);Wa.b=Ob(Bc);Wa.opacity=vc(Bc);return Wa+""}}var Ia=na(w);Aa.gamma=da;return Aa}(1),Lc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oa=new RegExp(Lc.source,"g");const Ma=Za.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));
Za.inherits(Da,l.Transform,{transform(w,da){var Aa=da.dataflow,Ia=this.value;var Wa=w.type;var ob="";if(Wa===ja.Sequential)Wa=ja.Sequential+"-"+ja.Linear;else{var Sb=w.type;ja.isContinuous(Sb)&&Sb!==ja.Time&&Sb!==ja.UTC&&(w.scheme||w.range&&w.range.length&&w.range.every(Za.isString))&&(ob=w.rawDomain?w.rawDomain.length:w.domain?w.domain.length+ +(null!=w.domainMid):0,ob=2===ob?ja.Sequential+"-":3===ob?ja.Diverging+"-":"");Wa=(ob+Wa||ja.Linear).toLowerCase()}Ia&&Wa===Ia.type||(this.value=Ia=ja.scale(Wa)());
for(Wa in w)Ma[Wa]||"padding"===Wa&&X(Ia.type)||(Za.isFunction(Ia[Wa])?Ia[Wa](w[Wa]):Aa.warn("Unsupported scale property: "+Wa));ob=Wa=Ia;(Sb=w.domainRaw)?(Ia.domain(S(Ia.type,Sb,Aa)),Sb=Sb.length):Sb=-1;if(-1<Sb)Aa=Sb;else{var Gb=w.domain;Sb=Ia.type;var Ob;!(Ob=w.zero)&&(Ob=void 0===w.zero)&&(Ob=Ia.type,Ob=!Ia.bins&&(Ob===ja.Linear||Ob===ja.Pow||Ob===ja.Sqrt));var vc=Ob;if(Gb){if(vc||null!=w.domainMin||null!=w.domainMax||null!=w.domainMid)if(Ob=(Gb=Gb.slice()).length-1||1,vc&&(0<Gb[0]&&(Gb[0]=0),
0>Gb[Ob]&&(Gb[Ob]=0)),null!=w.domainMin&&(Gb[0]=w.domainMin),null!=w.domainMax&&(Gb[Ob]=w.domainMax),null!=w.domainMid){vc=w.domainMid;var Bc=vc>Gb[Ob]?Ob+1:vc<Gb[0]?0:Ob;Bc!==Ob&&Aa.warn("Scale domainMid exceeds domain min or max.",vc);Gb.splice(Bc,0,vc)}if(X(Sb)&&w.padding&&Gb[0]!==Za.peek(Gb)){var Ic=w.range;Bc=w.padding;Ob=w.exponent;vc=w.constant;Ic=Math.abs(Za.peek(Ic)-Ic[0]);Bc=Ic/(Ic-2*Bc);Ob=Sb===ja.Log?Za.zoomLog(Gb,null,Bc):Sb===ja.Sqrt?Za.zoomPow(Gb,null,Bc,.5):Sb===ja.Pow?Za.zoomPow(Gb,
null,Bc,Ob||1):Sb===ja.Symlog?Za.zoomSymlog(Gb,null,Bc,vc||1):Za.zoomLinear(Gb,null,Bc);Gb=Gb.slice();Gb[0]=Ob[0];Gb[Gb.length-1]=Ob[1]}Ia.domain(S(Sb,Gb,Aa));Sb===ja.Ordinal&&Ia.unknown(w.domainImplicit?ja.scaleImplicit:void 0);w.nice&&Ia.nice&&Ia.nice(!0!==w.nice&&ja.tickCount(Ia,w.nice)||null);Aa=Gb.length}else Aa=0}(Sb=w.bins)&&!Za.isArray(Sb)&&(Gb=ob.domain(),Ia=Gb[0],Gb=Za.peek(Gb),Ob=Sb.step,vc=null==Sb.start?Ia:Sb.start,Sb=null==Sb.stop?Gb:Sb.stop,Ob||Za.error("Scale bins parameter missing step property."),
vc<Ia&&(vc=Ob*Math.ceil(Ia/Ob)),Sb>Gb&&(Sb=Ob*Math.floor(Gb/Ob)),Sb=Yb(vc,Sb+Ob/2,Ob));Sb?ob.bins=Sb:ob.bins&&delete ob.bins;ob.type===ja.BinOrdinal&&(Sb?w.domain||w.domainRaw||(ob.domain(Sb),Aa=Sb.length):ob.bins=ob.domain());Ia=Aa;a:{ob=Wa.type;Aa=w.round||!1;Sb=w.range;if(null!=w.rangeStep)ob!==ja.Band&&ob!==ja.Point&&Za.error("Only band and point scales support rangeStep."),Sb=[0,w.rangeStep*ja.bandSpace(Ia,ob===ja.Point?1:(null!=w.paddingInner?w.paddingInner:w.padding)||0,(null!=w.paddingOuter?
w.paddingOuter:w.padding)||0)];else if(w.scheme&&(Sb=w.schemeExtent,Za.isArray(w.scheme)?Gb=ja.interpolateColors(w.scheme,w.interpolate,w.interpolateGamma):(Gb=w.scheme.toLowerCase(),(Gb=ja.scheme(Gb))||Za.error(`Unrecognized scheme name: ${w.scheme}`)),Ia=ob===ja.Threshold?Ia+1:ob===ja.BinOrdinal?Ia-1:ob===ja.Quantile||ob===ja.Quantize?+w.schemeCount||5:Ia,Sb=ja.isInterpolating(ob)?ia(Gb,Sb,w.reverse):Za.isFunction(Gb)?ja.quantizeInterpolator(ia(Gb,Sb),Ia):ob===ja.Ordinal?Gb:Gb.slice(0,Ia),Za.isFunction(Sb)))if(Wa.interpolator){Wa.interpolator(Sb);
break a}else Za.error(`Scale type ${ob} does not support interpolating color schemes.`);Sb&&ja.isInterpolating(ob)?Wa.interpolator(ja.interpolateColors(Ca(Sb,w.reverse),w.interpolate,w.interpolateGamma)):(Sb&&w.interpolate&&Wa.interpolate?Wa.interpolate(ja.interpolate(w.interpolate,w.interpolateGamma)):Za.isFunction(Wa.round)?Wa.round(Aa):Za.isFunction(Wa.rangeRound)&&Wa.interpolate(Aa?I:E),Sb&&Wa.range(Ca(Sb,w.reverse)))}return da.fork(da.NO_SOURCE|da.NO_FIELDS)}});Za.inherits(Qa,l.Transform,{transform(w,
da){const Aa=w.modified("sort")||da.changed(da.ADD)||da.modified(w.sort.fields)||da.modified("datum");Aa&&da.source.sort(l.stableCompare(w.sort));this.modified(Aa);return da}});const ib=["y0","y1"];Ra.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":ib}]};Za.inherits(Ra,
l.Transform,{transform(w,da){var Aa=w.as||ib,Ia=Aa[0],Wa=Aa[1],ob=l.stableCompare(w.sort),Sb=w.field||Za.one,Gb="center"===w.offset?db:"normalize"===w.offset?zb:kb,Ob;ob=Vb(da.source,w.groupby,ob,Sb);var vc=0;var Bc=ob.length;for(Ob=ob.max;vc<Bc;++vc)Gb(ob[vc],Ob,Sb,Ia,Wa);return da.reflow(w.modified()).modifies(Aa)}});u.axisticks=ub;u.datajoin=Wb;u.encode=yb;u.legendentries=wb;u.linkpath=Qb;u.pie=bb;u.scale=Da;u.sortitems=Qa;u.stack=Ra})};
shadow$provide[40]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(36)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega))})(this,function(u,l){function*ja(qa){for(const m of qa)yield*m}function Za(qa){return 1<qa?0:-1>qa?Ob:Math.acos(qa)}function ub(qa){return 1<qa?vc:-1>qa?-vc:Math.asin(qa)}function Wb(){}function ec(qa,m){if(qa&&wa.hasOwnProperty(qa.type))wa[qa.type](qa,
m)}function Db(qa,m,r){var L=-1;r=qa.length-r;for(m.lineStart();++L<r;){var ka=qa[L];m.point(ka[0],ka[1],ka[2])}m.lineEnd()}function yb(qa,m){var r=-1,L=qa.length;for(m.polygonStart();++r<L;)Db(qa[r],m,1);m.polygonEnd()}function wb(qa,m){if(qa&&ca.hasOwnProperty(qa.type))ca[qa.type](qa,m);else ec(qa,m)}function Qb(qa){return[ld(qa[1],qa[0]),ub(qa[2])]}function Yb(qa){var m=qa[0];qa=qa[1];var r=ed(qa);return[r*ed(m),r*K(m),K(qa)]}function Ba(qa,m){return qa[0]*m[0]+qa[1]*m[1]+qa[2]*m[2]}function bb(qa,
m){return[qa[1]*m[2]-qa[2]*m[1],qa[2]*m[0]-qa[0]*m[2],qa[0]*m[1]-qa[1]*m[0]]}function Ab(qa,m){qa[0]+=m[0];qa[1]+=m[1];qa[2]+=m[2]}function xb(qa,m){return[qa[0]*m,qa[1]*m,qa[2]*m]}function qb(qa){var m=v(qa[0]*qa[0]+qa[1]*qa[1]+qa[2]*qa[2]);qa[0]/=m;qa[1]/=m;qa[2]/=m}function Cb(qa,m){function r(L,ka){return L=qa(L,ka),m(L[0],L[1])}qa.invert&&m.invert&&(r.invert=function(L,ka){return L=m.invert(L,ka),L&&qa.invert(L[0],L[1])});return r}function lb(qa,m){Uc(qa)>Ob&&(qa-=Math.round(qa/Ic)*Ic);return[qa,
m]}function mc(qa,m,r){return(qa%=Ic)?m||r?Cb(ha(qa),xa(m,r)):ha(qa):m||r?xa(m,r):lb}function ua(qa){return function(m,r){m+=qa;Uc(m)>Ob&&(m-=Math.round(m/Ic)*Ic);return[m,r]}}function ha(qa){var m=ua(qa);m.invert=ua(-qa);return m}function xa(qa,m){function r(Oa,sb){var pb=ed(sb),uc=ed(Oa)*pb;Oa=K(Oa)*pb;sb=K(sb);pb=sb*L+uc*ka;return[ld(Oa*Ga-pb*Ta,uc*L-sb*ka),ub(pb*Ga+Oa*Ta)]}var L=ed(qa),ka=K(qa),Ga=ed(m),Ta=K(m);r.invert=function(Oa,sb){var pb=ed(sb),uc=ed(Oa)*pb;Oa=K(Oa)*pb;sb=K(sb);pb=sb*Ga-
Oa*Ta;return[ld(Oa*Ga+sb*Ta,uc*L+pb*ka),ub(pb*L-uc*ka)]};return r}function Sa(qa){function m(r){r=qa(r[0]*dd,r[1]*dd);return r[0]*=id,r[1]*=id,r}qa=mc(qa[0]*dd,qa[1]*dd,2<qa.length?qa[2]*dd:0);m.invert=function(r){r=qa.invert(r[0]*dd,r[1]*dd);return r[0]*=id,r[1]*=id,r};return m}function Xa(qa,m){m=Yb(m);m[0]-=qa;qb(m);qa=Za(-m[1]);return((0>-m[2]?-qa:qa)+Ic-1E-6)%Ic}function La(){var qa=[],m;return{point:function(r,L,ka){m.push([r,L,ka])},lineStart:function(){qa.push(m=[])},lineEnd:Wb,rejoin:function(){1<
qa.length&&qa.push(qa.pop().concat(qa.shift()))},result:function(){var r=qa;qa=[];m=null;return r}}}function jb(qa,m){return 1E-6>Uc(qa[0]-m[0])&&1E-6>Uc(qa[1]-m[1])}function fb(qa,m,r,L){this.x=qa;this.z=m;this.o=r;this.e=L;this.v=!1;this.n=this.p=null}function vb(qa,m,r,L,ka){var Ga=[],Ta=[];qa.forEach(function(sc){if(!(0>=(qc=sc.length-1))){var qc,oc=sc[0],Jc=sc[qc];if(jb(oc,Jc)){if(!oc[2]&&!Jc[2]){ka.lineStart();for(Oa=0;Oa<qc;++Oa)ka.point((oc=sc[Oa])[0],oc[1]);ka.lineEnd();return}Jc[0]+=2E-6}Ga.push(qc=
new fb(oc,sc,null,!0));Ta.push(qc.o=new fb(oc,null,qc,!1));Ga.push(qc=new fb(Jc,sc,null,!1));Ta.push(qc.o=new fb(Jc,null,qc,!0))}});if(Ga.length){Ta.sort(m);Rb(Ga);Rb(Ta);var Oa=0;for(qa=Ta.length;Oa<qa;++Oa)Ta[Oa].e=r=!r;r=Ga[0];for(var sb;;){for(var pb=r,uc=!0;pb.v;)if((pb=pb.n)===r)return;m=pb.z;ka.lineStart();do{pb.v=pb.o.v=!0;if(pb.e){if(uc)for(Oa=0,qa=m.length;Oa<qa;++Oa)ka.point((sb=m[Oa])[0],sb[1]);else L(pb.x,pb.n.x,1,ka);pb=pb.n}else{if(uc)for(m=pb.p.z,Oa=m.length-1;0<=Oa;--Oa)ka.point((sb=
m[Oa])[0],sb[1]);else L(pb.x,pb.p.x,-1,ka);pb=pb.p}pb=pb.o;m=pb.z;uc=!uc}while(!pb.v);ka.lineEnd()}}}function Rb(qa){if(m=qa.length){for(var m,r=0,L=qa[0],ka;++r<m;)L.n=ka=qa[r],ka.p=L,L=ka;L.n=ka=qa[0];ka.p=L}}function Na(qa){return Uc(qa[0])<=Ob?qa[0]:va(qa[0])*((Uc(qa[0])+Ob)%Ic-Ob)}function U(qa,m,r,L){return function(ka){function Ga(lc,ud){qa(lc,ud)&&ka.point(lc,ud)}function Ta(lc,ud){qc.point(lc,ud)}function Oa(){Sd.point=Ta;qc.lineStart()}function sb(){Sd.point=Ga;qc.lineEnd()}function pb(lc,
ud){wd.push([lc,ud]);Jc.point(lc,ud)}function uc(){Jc.lineStart();wd=[]}function sc(){pb(wd[0][0],wd[0][1]);Jc.lineEnd();var lc=Jc.clean(),ud=oc.result(),ne=ud.length,be;wd.pop();Ed.push(wd);wd=null;if(ne)if(lc&1){if(ne=ud[0],0<(ud=ne.length-1)){Oc||(ka.polygonStart(),Oc=!0);ka.lineStart();for(lc=0;lc<ud;++lc)ka.point((be=ne[lc])[0],be[1]);ka.lineEnd()}}else 1<ne&&lc&2&&ud.push(ud.pop().concat(ud.shift())),pd.push(ud.filter(ea))}var qc=m(ka),oc=La(),Jc=m(oc),Oc=!1,Ed,pd,wd,Sd={point:Ga,lineStart:Oa,
lineEnd:sb,polygonStart:function(){Sd.point=pb;Sd.lineStart=uc;Sd.lineEnd=sc;pd=[];Ed=[]},polygonEnd:function(){Sd.point=Ga;Sd.lineStart=Oa;Sd.lineEnd=sb;pd=Array.from(ja(pd));var lc=Ed;var ud=Na(L),ne=L[1],be=K(ne),Bd=[K(ud),-ed(ud),0],qd=0,Kd=0,de=new Gb;1===be?ne=vc+1E-6:-1===be&&(ne=-vc-1E-6);be=0;for(var te=lc.length;be<te;++be)if(Ee=($d=lc[be]).length){var $d,Ee,$c=$d[Ee-1],le=Na($c),lf=$c[1]/2+Bc,uf=K(lf),zg=ed(lf);for(lf=0;lf<Ee;++lf,le=Tf,uf=kg,zg=mf,$c=yf){var yf=$d[lf],Tf=Na(yf);mf=yf[1]/
2+Bc;var kg=K(mf),mf=ed(mf),Ke=Tf-le,lg=0<=Ke?1:-1,Zg=lg*Ke,Yf=Zg>Ob;uf*=kg;de.add(ld(uf*lg*K(Zg),zg*mf+uf*ed(Zg)));qd+=Yf?Ke+lg*Ic:Ke;Yf^le>=ud^Tf>=ud&&($c=bb(Yb($c),Yb(yf)),qb($c),le=bb(Bd,$c),qb(le),le=(Yf^0<=Ke?-1:1)*ub(le[2]),ne>le||ne===le&&($c[0]||$c[1]))&&(Kd+=Yf^0<=Ke?1:-1)}}lc=(-1E-6>qd||1E-6>qd&&-1E-12>de)^Kd&1;pd.length?(Oc||(ka.polygonStart(),Oc=!0),vb(pd,Ja,lc,r,ka)):lc&&(Oc||(ka.polygonStart(),Oc=!0),ka.lineStart(),r(null,null,1,ka),ka.lineEnd());Oc&&(ka.polygonEnd(),Oc=!1);pd=Ed=null},
sphere:function(){ka.polygonStart();ka.lineStart();r(null,null,1,ka);ka.lineEnd();ka.polygonEnd()}};return Sd}}function ea(qa){return 1<qa.length}function Ja(qa,m){return(0>(qa=qa.x)[0]?qa[1]-vc-1E-6:vc-qa[1])-(0>(m=m.x)[0]?m[1]-vc-1E-6:vc-m[1])}function Z(qa){function m(sb,pb){return ed(sb)*ed(pb)>ka}function r(sb,pb,uc){var sc=Yb(sb),qc=Yb(pb),oc=[1,0,0];qc=bb(sc,qc);var Jc=Ba(qc,qc);sc=qc[0];var Oc=Jc-sc*sc;if(!Oc)return!uc&&sb;Jc=ka*Jc/Oc;Oc=-ka*sc/Oc;sc=bb(oc,qc);oc=xb(oc,Jc);qc=xb(qc,Oc);Ab(oc,
qc);qc=Ba(oc,sc);Jc=Ba(sc,sc);Oc=qc*qc-Jc*(Ba(oc,oc)-1);if(!(0>Oc)){var Ed=v(Oc);Oc=xb(sc,(-qc-Ed)/Jc);Ab(Oc,oc);Oc=Qb(Oc);if(!uc)return Oc;uc=sb[0];var pd=pb[0];sb=sb[1];pb=pb[1];if(pd<uc){var wd=uc;uc=pd;pd=wd}var Sd=pd-uc,lc=1E-6>Uc(Sd-Ob);!lc&&pb<sb&&(wd=sb,sb=pb,pb=wd);if(lc||1E-6>Sd?lc?0<sb+pb^Oc[1]<(1E-6>Uc(Oc[0]-uc)?sb:pb):sb<=Oc[1]&&Oc[1]<=pb:Sd>Ob^(uc<=Oc[0]&&Oc[0]<=pd))return pb=xb(sc,(-qc+Ed)/Jc),Ab(pb,oc),[Oc,Qb(pb)]}}function L(sb,pb){var uc=Ta?qa:Ob-qa,sc=0;sb<-uc?sc|=1:sb>uc&&(sc|=
2);pb<-uc?sc|=4:pb>uc&&(sc|=8);return sc}var ka=ed(qa),Ga=6*dd,Ta=0<ka,Oa=1E-6<Uc(ka);return U(m,function(sb){var pb,uc,sc,qc,oc;return{lineStart:function(){qc=sc=!1;oc=1},point:function(Jc,Oc){var Ed=[Jc,Oc],pd=m(Jc,Oc);Oc=Ta?pd?0:L(Jc,Oc):pd?L(Jc+(0>Jc?Ob:-Ob),Oc):0;!pb&&(qc=sc=pd)&&sb.lineStart();pd!==sc&&(Jc=r(pb,Ed),!Jc||jb(pb,Jc)||jb(Ed,Jc))&&(Ed[2]=1);if(pd!==sc)oc=0,pd?(sb.lineStart(),Jc=r(Ed,pb),sb.point(Jc[0],Jc[1])):(Jc=r(pb,Ed),sb.point(Jc[0],Jc[1],2),sb.lineEnd()),pb=Jc;else if(Oa&&pb&&
Ta^pd){var wd;Oc&uc||!(wd=r(Ed,pb,!0))||(oc=0,Ta?(sb.lineStart(),sb.point(wd[0][0],wd[0][1]),sb.point(wd[1][0],wd[1][1]),sb.lineEnd()):(sb.point(wd[1][0],wd[1][1]),sb.lineEnd(),sb.lineStart(),sb.point(wd[0][0],wd[0][1],3)))}!pd||pb&&jb(pb,Ed)||sb.point(Ed[0],Ed[1]);pb=Ed;sc=pd;uc=Oc},lineEnd:function(){sc&&sb.lineEnd();pb=null},clean:function(){return oc|(qc&&sc)<<1}}},function(sb,pb,uc,sc){var qc=sb;if(Ga){sb=ed(qa);var oc=K(qa),Jc=uc*Ga;if(null==qc)qc=qa+uc*Ic,pb=qa-Jc/2;else if(qc=Xa(sb,qc),pb=
Xa(sb,pb),0<uc?qc<pb:qc>pb)qc+=uc*Ic;for(var Oc=qc;0<uc?Oc>pb:Oc<pb;Oc-=Jc)qc=Qb([sb,-oc*ed(Oc),-oc*K(Oc)]),sc.point(qc[0],qc[1])}},Ta?[0,-qa]:[-Ob,qa-Ob])}function Fa(qa,m,r,L,ka,Ga){var Ta=qa[0],Oa=qa[1],sb=0,pb=1,uc=m[0]-Ta,sc=m[1]-Oa;r-=Ta;if(uc||!(0<r)){r/=uc;if(0>uc){if(r<sb)return;r<pb&&(pb=r)}else if(0<uc){if(r>pb)return;r>sb&&(sb=r)}r=ka-Ta;if(uc||!(0>r)){r/=uc;if(0>uc){if(r>pb)return;r>sb&&(sb=r)}else if(0<uc){if(r<sb)return;r<pb&&(pb=r)}r=L-Oa;if(sc||!(0<r)){r/=sc;if(0>sc){if(r<sb)return;
r<pb&&(pb=r)}else if(0<sc){if(r>pb)return;r>sb&&(sb=r)}r=Ga-Oa;if(sc||!(0>r)){r/=sc;if(0>sc){if(r>pb)return;r>sb&&(sb=r)}else if(0<sc){if(r<sb)return;r<pb&&(pb=r)}0<sb&&(qa[0]=Ta+sb*uc,qa[1]=Oa+sb*sc);1>pb&&(m[0]=Ta+pb*uc,m[1]=Oa+pb*sc);return!0}}}}}function ma(qa,m,r,L){function ka(sb,pb,uc,sc){var qc=0,oc=0;if(null==sb||(qc=Ga(sb,uc))!==(oc=Ga(pb,uc))||0>Oa(sb,pb)^0<uc){do sc.point(0===qc||3===qc?qa:r,1<qc?L:m);while((qc=(qc+uc+4)%4)!==oc)}else sc.point(pb[0],pb[1])}function Ga(sb,pb){return 1E-6>
Uc(sb[0]-qa)?0<pb?0:3:1E-6>Uc(sb[0]-r)?0<pb?2:1:1E-6>Uc(sb[1]-m)?0<pb?1:0:0<pb?3:2}function Ta(sb,pb){return Oa(sb.x,pb.x)}function Oa(sb,pb){var uc=Ga(sb,1),sc=Ga(pb,1);return uc!==sc?uc-sc:0===uc?pb[1]-sb[1]:1===uc?sb[0]-pb[0]:2===uc?sb[1]-pb[1]:pb[0]-sb[0]}return function(sb){function pb(qd,Kd){qa<=qd&&qd<=r&&m<=Kd&&Kd<=L&&sc.point(qd,Kd)}function uc(qd,Kd){var de=qa<=qd&&qd<=r&&m<=Kd&&Kd<=L;Jc&&Oc.push([qd,Kd]);if(ne)Ed=qd,pd=Kd,wd=de,ne=!1,de&&(sc.lineStart(),sc.point(qd,Kd));else if(de&&ud)sc.point(qd,
Kd);else{var te=[Sd=Math.max(-1E9,Math.min(1E9,Sd)),lc=Math.max(-1E9,Math.min(1E9,lc))],$d=[qd=Math.max(-1E9,Math.min(1E9,qd)),Kd=Math.max(-1E9,Math.min(1E9,Kd))];Fa(te,$d,qa,m,r,L)?(ud||(sc.lineStart(),sc.point(te[0],te[1])),sc.point($d[0],$d[1]),de||sc.lineEnd(),be=!1):de&&(sc.lineStart(),sc.point(qd,Kd),be=!1)}Sd=qd;lc=Kd;ud=de}var sc=sb,qc=La(),oc,Jc,Oc,Ed,pd,wd,Sd,lc,ud,ne,be,Bd={point:pb,lineStart:function(){Bd.point=uc;Jc&&Jc.push(Oc=[]);ne=!0;ud=!1;Sd=lc=NaN},lineEnd:function(){oc&&(uc(Ed,
pd),wd&&ud&&qc.rejoin(),oc.push(qc.result()));Bd.point=pb;ud&&sc.lineEnd()},polygonStart:function(){sc=qc;oc=[];Jc=[];be=!0},polygonEnd:function(){for(var qd,Kd=qd=0,de=Jc.length;Kd<de;++Kd){var te=Jc[Kd],$d=1,Ee=te.length,$c=te[0],le=$c[0];for($c=$c[1];$d<Ee;++$d){var lf=le;var uf=$c;$c=te[$d];le=$c[0];$c=$c[1];uf<=L?$c>L&&(le-lf)*(L-uf)>($c-uf)*(qa-lf)&&++qd:$c<=L&&(le-lf)*(L-uf)<($c-uf)*(qa-lf)&&--qd}}Kd=be&&qd;de=(oc=Array.from(ja(oc))).length;if(Kd||de)sb.polygonStart(),Kd&&(sb.lineStart(),ka(null,
null,1,sb),sb.lineEnd()),de&&vb(oc,Ta,qd,ka,sb),sb.polygonEnd();sc=sb;oc=Jc=Oc=null}};return Bd}}function na(){md.point=n}function n(qa,m){md.point=F;hc=Pc=qa;Ec=Nc=m}function F(qa,m){$b.add(Nc*qa-Pc*m);Pc=qa;Nc=m}function N(){F(hc,Ec)}function x(qa,m){Me+=qa;Qe+=m;++Re}function T(){df.point=B}function B(qa,m){df.point=A;x(Xe=qa,$e=m)}function A(qa,m){var r=qa-Xe,L=m-$e;r=v(r*r+L*L);He+=r*(Xe+qa)/2;De+=r*($e+m)/2;Ie+=r;x(Xe=qa,$e=m)}function Q(){df.point=x}function D(){df.point=I}function E(){X(zd,
Jf)}function I(qa,m){df.point=X;x(zd=Xe=qa,Jf=$e=m)}function X(qa,m){var r=qa-Xe,L=m-$e;r=v(r*r+L*L);He+=r*(Xe+qa)/2;De+=r*($e+m)/2;Ie+=r;r=$e*qa-Xe*m;ke+=r*(Xe+qa);oe+=r*($e+m);xe+=3*r;x(Xe=qa,$e=m)}function Da(qa){this._context=qa}function S(qa,m){fc.point=ia;Kf=Ea=qa;ye=cb=m}function ia(qa,m){Ea-=qa;cb-=m;Fe.add(v(Ea*Ea+cb*cb));Ea=qa;cb=m}function Ca(qa){let m=1;this._+=qa[0];for(const r=qa.length;m<r;++m)this._+=arguments[m]+qa[m]}function Qa(qa){const m=Math.floor(qa);if(!(0<=m))throw new RangeError(`invalid digits: ${qa}`);
if(15<m)return Ca;if(m!==fd){const r=Math.pow(10,m);fd=m;jd=function(L){let ka=1;this._+=L[0];for(const Ga=L.length;ka<Ga;++ka)this._+=Math.round(arguments[ka]*r)/r+L[ka]}}return jd}function Ra(qa,m){function r(Oa){Oa&&("function"===typeof ka&&Ta.pointRadius(+ka.apply(this,arguments)),wb(Oa,Ga(Ta)));return Ta.result()}let L=3,ka=4.5,Ga,Ta;r.area=function(Oa){wb(Oa,Ga(md));return md.result()};r.measure=function(Oa){wb(Oa,Ga(fc));return fc.result()};r.bounds=function(Oa){wb(Oa,Ga(je));return je.result()};
r.centroid=function(Oa){wb(Oa,Ga(df));return df.result()};r.projection=function(Oa){if(!arguments.length)return qa;Ga=null==Oa?(qa=null,eb):(qa=Oa).stream;return r};r.context=function(Oa){if(!arguments.length)return m;Ta=null==Oa?(m=null,new Xd(L)):new Da(m=Oa);"function"!==typeof ka&&Ta.pointRadius(ka);return r};r.pointRadius=function(Oa){if(!arguments.length)return ka;ka="function"===typeof Oa?Oa:(Ta.pointRadius(+Oa),+Oa);return r};r.digits=function(Oa){if(!arguments.length)return L;if(null==Oa)L=
null;else{const sb=Math.floor(Oa);if(!(0<=sb))throw new RangeError(`invalid digits: ${Oa}`);L=sb}null===m&&(Ta=new Xd(L));return r};return r.projection(qa).digits(L).context(m)}function db(qa){return function(m){var r=new zb,L;for(L in qa)r[L]=qa[L];r.stream=m;return r}}function zb(){}function kb(qa,m,r){var L=qa.clipExtent&&qa.clipExtent();qa.scale(150).translate([0,0]);null!=L&&qa.clipExtent(null);wb(r,qa.stream(je));m(je.result());null!=L&&qa.clipExtent(L);return qa}function Vb(qa,m,r){return kb(qa,
function(L){var ka=m[1][0]-m[0][0],Ga=m[1][1]-m[0][1],Ta=Math.min(ka/(L[1][0]-L[0][0]),Ga/(L[1][1]-L[0][1]));ka=+m[0][0]+(ka-Ta*(L[1][0]+L[0][0]))/2;L=+m[0][1]+(Ga-Ta*(L[1][1]+L[0][1]))/2;qa.scale(150*Ta).translate([ka,L])},r)}function Y(qa,m,r){return kb(qa,function(L){var ka=+m,Ga=ka/(L[1][0]-L[0][0]);ka=(ka-Ga*(L[1][0]+L[0][0]))/2;L=-Ga*L[0][1];qa.scale(150*Ga).translate([ka,L])},r)}function Ha(qa,m,r){return kb(qa,function(L){var ka=+m,Ga=ka/(L[1][1]-L[0][1]),Ta=-Ga*L[0][0];L=(ka-Ga*(L[1][1]+
L[0][1]))/2;qa.scale(150*Ga).translate([Ta,L])},r)}function Ub(qa){return db({point:function(m,r){m=qa(m,r);this.stream.point(m[0],m[1])}})}function kc(qa,m){function r(L,ka,Ga,Ta,Oa,sb,pb,uc,sc,qc,oc,Jc,Oc,Ed){var pd=pb-L,wd=uc-ka,Sd=pd*pd+wd*wd;if(Sd>4*m&&Oc--){var lc=Ta+qc,ud=Oa+oc,ne=sb+Jc,be=v(lc*lc+ud*ud+ne*ne),Bd=ub(ne/=be),qd=1E-6>Uc(Uc(ne)-1)||1E-6>Uc(Ga-sc)?(Ga+sc)/2:ld(ud,lc),Kd=qa(qd,Bd);Bd=Kd[0];Kd=Kd[1];var de=Bd-L,te=Kd-ka,$d=wd*de-pd*te;if($d*$d/Sd>m||.3<Uc((pd*de+wd*te)/Sd-.5)||Ta*
qc+Oa*oc+sb*Jc<Jd)r(L,ka,Ga,Ta,Oa,sb,Bd,Kd,qd,lc/=be,ud/=be,ne,Oc,Ed),Ed.point(Bd,Kd),r(Bd,Kd,qd,lc,ud,ne,pb,uc,sc,qc,oc,Jc,Oc,Ed)}}return function(L){function ka(Bd,qd){Bd=qa(Bd,qd);L.point(Bd[0],Bd[1])}function Ga(){wd=NaN;be.point=Ta;L.lineStart()}function Ta(Bd,qd){var Kd=Yb([Bd,qd]);qd=qa(Bd,qd);r(wd,Sd,pd,lc,ud,ne,wd=qd[0],Sd=qd[1],pd=Bd,lc=Kd[0],ud=Kd[1],ne=Kd[2],16,L);L.point(wd,Sd)}function Oa(){be.point=ka;L.lineEnd()}function sb(){Ga();be.point=pb;be.lineEnd=uc}function pb(Bd,qd){Ta(sc=
Bd,qd);qc=wd;oc=Sd;Jc=lc;Oc=ud;Ed=ne;be.point=Ta}function uc(){r(wd,Sd,pd,lc,ud,ne,qc,oc,sc,Jc,Oc,Ed,16,L);be.lineEnd=Oa;Oa()}var sc,qc,oc,Jc,Oc,Ed,pd,wd,Sd,lc,ud,ne,be={point:ka,lineStart:Ga,lineEnd:Oa,polygonStart:function(){L.polygonStart();be.lineStart=sb},polygonEnd:function(){L.polygonEnd();be.lineStart=Ga}};return be}}function Zb(qa){return db({point:function(m,r){m=qa(m,r);return this.stream.point(m[0],m[1])}})}function Pb(qa,m,r,L,ka){function Ga(Ta,Oa){Ta*=L;Oa*=ka;return[m+qa*Ta,r-qa*Oa]}
Ga.invert=function(Ta,Oa){return[(Ta-m)/qa*L,(r-Oa)/qa*ka]};return Ga}function Nb(qa,m,r,L,ka,Ga){function Ta(Jc,Oc){Jc*=L;Oc*=ka;return[sb*Jc-pb*Oc+m,r-pb*Jc-sb*Oc]}if(!Ga)return Pb(qa,m,r,L,ka);var Oa=ed(Ga);Ga=K(Ga);var sb=Oa*qa,pb=Ga*qa,uc=Oa/qa,sc=Ga/qa,qc=(Ga*r-Oa*m)/qa,oc=(Ga*m+Oa*r)/qa;Ta.invert=function(Jc,Oc){return[L*(uc*Jc-sc*Oc+qc),ka*(oc-sc*Jc-uc*Oc)]};return Ta}function tc(qa){return Mc(function(){return qa})()}function Mc(qa){function m($c){return te($c[0]*dd,$c[1]*dd)}function r($c){return($c=
te.invert($c[0],$c[1]))&&[$c[0]*id,$c[1]*id]}function L(){var $c=Nb(Ta,0,0,Ed,pd,Oc).apply(null,Ga(pb,uc));$c=Nb(Ta,Oa-$c[0],sb-$c[1],Ed,pd,Oc);Jc=mc(sc,qc,oc);de=Cb(Ga,$c);te=Cb(Jc,de);$c=de;Kd=+qd?kc($c,qd):Ub($c);return ka()}function ka(){$d=Ee=null;return m}var Ga,Ta=150,Oa=480,sb=250,pb=0,uc=0,sc=0,qc=0,oc=0,Jc,Oc=0,Ed=1,pd=1,wd=null,Sd=pa,lc=null,ud,ne,be,Bd=eb,qd=.5,Kd,de,te,$d,Ee;m.stream=function($c){return $d&&Ee===$c?$d:$d=Ye(Zb(Jc)(Sd(Kd(Bd(Ee=$c)))))};m.preclip=function($c){return arguments.length?
(Sd=$c,wd=void 0,ka()):Sd};m.postclip=function($c){return arguments.length?(Bd=$c,lc=ud=ne=be=null,ka()):Bd};m.clipAngle=function($c){return arguments.length?(Sd=+$c?Z(wd=$c*dd):(wd=null,pa),ka()):wd*id};m.clipExtent=function($c){return arguments.length?(Bd=null==$c?(lc=ud=ne=be=null,eb):ma(lc=+$c[0][0],ud=+$c[0][1],ne=+$c[1][0],be=+$c[1][1]),ka()):null==lc?null:[[lc,ud],[ne,be]]};m.scale=function($c){return arguments.length?(Ta=+$c,L()):Ta};m.translate=function($c){return arguments.length?(Oa=+$c[0],
sb=+$c[1],L()):[Oa,sb]};m.center=function($c){return arguments.length?(pb=$c[0]%360*dd,uc=$c[1]%360*dd,L()):[pb*id,uc*id]};m.rotate=function($c){return arguments.length?(sc=$c[0]%360*dd,qc=$c[1]%360*dd,oc=2<$c.length?$c[2]%360*dd:0,L()):[sc*id,qc*id,oc*id]};m.angle=function($c){return arguments.length?(Oc=$c%360*dd,L()):Oc*id};m.reflectX=function($c){return arguments.length?(Ed=$c?-1:1,L()):0>Ed};m.reflectY=function($c){return arguments.length?(pd=$c?-1:1,L()):0>pd};m.precision=function($c){if(arguments.length){var le=
de;var lf=qd=$c*$c;le=(Kd=+lf?kc(le,lf):Ub(le),ka())}else le=v(qd);return le};m.fitExtent=function($c,le){return Vb(m,$c,le)};m.fitSize=function($c,le){return Vb(m,[[0,0],$c],le)};m.fitWidth=function($c,le){return Y(m,$c,le)};m.fitHeight=function($c,le){return Ha(m,$c,le)};return function(){Ga=qa.apply(this,arguments);m.invert=Ga.invert&&r;return L()}}function ra(qa){var m=0,r=Ob/3,L=Mc(qa);qa=L(m,r);qa.parallels=function(ka){return arguments.length?L(m=ka[0]*dd,r=ka[1]*dd):[m*id,r*id]};return qa}
function Hb(qa){function m(L,ka){return[L*r,K(ka)/r]}var r=ed(qa);m.invert=function(L,ka){return[L/r,ub(ka*r)]};return m}function Va(qa,m){function r(Oa,sb){sb=v(Ga-2*ka*K(sb))/ka;return[sb*K(Oa*=ka),Ta-sb*ed(Oa)]}var L=K(qa),ka=(L+K(m))/2;if(1E-6>Uc(ka))return Hb(qa);var Ga=1+L*(2*ka-L),Ta=v(Ga)/ka;r.invert=function(Oa,sb){sb=Ta-sb;var pb=ld(Oa,Uc(sb))*va(sb);0>sb*ka&&(pb-=Ob*va(Oa)*va(sb));return[pb/ka,ub((Ga-(Oa*Oa+sb*sb)*ka*ka)/(2*ka))]};return r}function Bb(){return ra(Va).scale(155.424).center([0,
33.6442])}function Ib(){return Bb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Eb(qa){var m=qa.length;return{point:function(r,L){for(var ka=-1;++ka<m;)qa[ka].point(r,L)},sphere:function(){for(var r=-1;++r<m;)qa[r].sphere()},lineStart:function(){for(var r=-1;++r<m;)qa[r].lineStart()},lineEnd:function(){for(var r=-1;++r<m;)qa[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<m;)qa[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<
m;)qa[r].polygonEnd()}}}function Xb(qa){return function(m,r){var L=ed(m),ka=ed(r);L=qa(L*ka);return Infinity===L?[2,0]:[L*ka*K(m),L*K(r)]}}function jc(qa){return function(m,r){var L=v(m*m+r*r),ka=qa(L),Ga=K(ka);ka=ed(ka);return[ld(m*Ga,L*ka),ub(L&&r*Ga/L)]}}function rc(qa,m){return[qa,gd(R((vc+m)/2))]}function ad(qa){function m(){var sc=Ob*ka(),qc=r(Sa(r.rotate()).invert([0,0]));return Ta(null==Oa?[[qc[0]-sc,qc[1]-sc],[qc[0]+sc,qc[1]+sc]]:qa===rc?[[Math.max(qc[0]-sc,Oa),sb],[Math.min(qc[0]+sc,pb),
uc]]:[[Oa,Math.max(qc[1]-sc,sb)],[pb,Math.min(qc[1]+sc,uc)]])}var r=tc(qa),L=r.center,ka=r.scale,Ga=r.translate,Ta=r.clipExtent,Oa=null,sb,pb,uc;r.scale=function(sc){return arguments.length?(ka(sc),m()):ka()};r.translate=function(sc){return arguments.length?(Ga(sc),m()):Ga()};r.center=function(sc){return arguments.length?(L(sc),m()):L()};r.clipExtent=function(sc){return arguments.length?(null==sc?Oa=sb=pb=uc=null:(Oa=+sc[0][0],sb=+sc[0][1],pb=+sc[1][0],uc=+sc[1][1]),m()):null==Oa?null:[[Oa,sb],[pb,
uc]]};return m()}function Lc(qa,m){function r(Ta,Oa){0<Ga?Oa<-vc+1E-6&&(Oa=-vc+1E-6):Oa>vc-1E-6&&(Oa=vc-1E-6);Oa=Ga/z(R((vc+Oa)/2),ka);return[Oa*K(ka*Ta),Ga-Oa*ed(ka*Ta)]}var L=ed(qa),ka=qa===m?K(qa):gd(L/ed(m))/gd(R((vc+m)/2)/R((vc+qa)/2)),Ga=L*z(R((vc+qa)/2),ka)/ka;if(!ka)return rc;r.invert=function(Ta,Oa){Oa=Ga-Oa;var sb=va(ka)*v(Ta*Ta+Oa*Oa),pb=ld(Ta,Uc(Oa))*va(Oa);0>Oa*ka&&(pb-=Ob*va(Ta)*va(Oa));return[pb/ka,2*kd(z(Ga/sb,1/ka))-vc]};return r}function oa(qa,m){return[qa,m]}function Ma(qa,m){function r(Ta,
Oa){Oa=Ga-Oa;Ta*=ka;return[Oa*K(Ta),Ga-Oa*ed(Ta)]}var L=ed(qa),ka=qa===m?K(qa):(L-ed(m))/(m-qa),Ga=L/ka+qa;if(1E-6>Uc(ka))return oa;r.invert=function(Ta,Oa){Oa=Ga-Oa;var sb=ld(Ta,Uc(Oa))*va(Oa);0>Oa*ka&&(sb-=Ob*va(Ta)*va(Oa));return[sb/ka,Ga-va(ka)*v(Ta*Ta+Oa*Oa)]};return r}function ib(qa,m){m=ub(Ne*K(m));var r=m*m,L=r*r*r;return[qa*ed(m)/(Ne*(1.340264+3*-.081106*r+L*(7*8.93E-4+.034164*r))),m*(1.340264+-.081106*r+L*(8.93E-4+.003796*r))]}function V(qa,m){var r=ed(m),L=ed(qa)*r;return[r*K(qa)/L,K(m)/
L]}function w(qa,m){var r=m*m,L=r*r;return[qa*(.8707-.131979*r+L*(-.013791+L*(.003971*r-.001529*L))),m*(1.007226+r*(.015085+L*(-.044475+.028874*r-.005916*L)))]}function da(qa,m){return[ed(m)*K(qa),K(m)]}function Aa(qa,m){var r=ed(m),L=1+ed(qa)*r;return[r*K(qa)/L,K(m)/L]}function Ia(qa,m){return[gd(R((vc+m)/2)),-qa]}function Wa(qa){return 1<qa?ze:-1>qa?-ze:Math.asin(qa)}function ob(qa,m){return function L(){const ka=m();ka.type=qa;ka.path=Ra().projection(ka);ka.copy=ka.copy||function(){const Ga=L();
re.forEach(Ta=>{if(ka[Ta])Ga[Ta](ka[Ta]())});Ga.path.pointRadius(ka.path.pointRadius());return Ga};return l.registerScale(ka)}}function Sb(qa,m){if(!qa||"string"!==typeof qa)throw Error("Projection type must be a name string.");qa=qa.toLowerCase();return 1<arguments.length?(Wd[qa]=ob(qa,m),this):Wd[qa]||null}class Gb{constructor(){this._partials=new Float64Array(32);this._n=0}add(qa){const m=this._partials;let r=0;for(let L=0;L<this._n&&32>L;L++){const ka=m[L],Ga=qa+ka;(qa=Math.abs(qa)<Math.abs(ka)?
qa-(Ga-ka):ka-(Ga-qa))&&(m[r++]=qa);qa=Ga}m[r]=qa;this._n=r+1;return this}valueOf(){const qa=this._partials;let m=this._n;let r,L=0;if(0<m){for(L=qa[--m];0<m;){var ka=L;r=qa[--m];L=ka+r;if(ka=r-(L-ka))break}0<m&&(0>ka&&0>qa[m-1]||0<ka&&0<qa[m-1])&&(r=2*ka,ka=L+r,r==ka-L&&(L=ka))}return L}}var Ob=Math.PI,vc=Ob/2,Bc=Ob/4,Ic=2*Ob,id=180/Ob,dd=Ob/180,Uc=Math.abs,kd=Math.atan,ld=Math.atan2,ed=Math.cos,ge=Math.exp,gd=Math.log,z=Math.pow,K=Math.sin,va=Math.sign||function(qa){return 0<qa?1:0>qa?-1:0},v=Math.sqrt,
R=Math.tan,ca={Feature:function(qa,m){ec(qa.geometry,m)},FeatureCollection:function(qa,m){qa=qa.features;for(var r=-1,L=qa.length;++r<L;)ec(qa[r].geometry,m)}},wa={Sphere:function(qa,m){m.sphere()},Point:function(qa,m){qa=qa.coordinates;m.point(qa[0],qa[1],qa[2])},MultiPoint:function(qa,m){for(var r=qa.coordinates,L=-1,ka=r.length;++L<ka;)qa=r[L],m.point(qa[0],qa[1],qa[2])},LineString:function(qa,m){Db(qa.coordinates,m,0)},MultiLineString:function(qa,m){qa=qa.coordinates;for(var r=-1,L=qa.length;++r<
L;)Db(qa[r],m,0)},Polygon:function(qa,m){yb(qa.coordinates,m)},MultiPolygon:function(qa,m){qa=qa.coordinates;for(var r=-1,L=qa.length;++r<L;)yb(qa[r],m)},GeometryCollection:function(qa,m){qa=qa.geometries;for(var r=-1,L=qa.length;++r<L;)ec(qa[r],m)}};lb.invert=lb;var pa=U(function(){return!0},function(qa){var m=NaN,r=NaN,L=NaN,ka;return{lineStart:function(){qa.lineStart();ka=1},point:function(Ga,Ta){var Oa=0<Ga?Ob:-Ob,sb=Uc(Ga-m);if(1E-6>Uc(sb-Ob))qa.point(m,r=0<(r+Ta)/2?vc:-vc),qa.point(L,r),qa.lineEnd(),
qa.lineStart(),qa.point(Oa,r),qa.point(Ga,r),ka=0;else if(L!==Oa&&sb>=Ob){1E-6>Uc(m-L)&&(m-=1E-6*L);1E-6>Uc(Ga-Oa)&&(Ga-=1E-6*Oa);sb=m;var pb=r,uc=Ga,sc,qc,oc=K(sb-uc);r=1E-6<Uc(oc)?kd((K(pb)*(qc=ed(Ta))*K(uc)-K(Ta)*(sc=ed(pb))*K(sb))/(sc*qc*oc)):(pb+Ta)/2;qa.point(L,r);qa.lineEnd();qa.lineStart();qa.point(Oa,r);ka=0}qa.point(m=Ga,r=Ta);L=Oa},lineEnd:function(){qa.lineEnd();m=r=NaN},clean:function(){return 2-ka}}},function(qa,m,r,L){null==qa?(r*=vc,L.point(-Ob,r),L.point(0,r),L.point(Ob,r),L.point(Ob,
0),L.point(Ob,-r),L.point(0,-r),L.point(-Ob,-r),L.point(-Ob,0),L.point(-Ob,r)):1E-6<Uc(qa[0]-m[0])?(qa=qa[0]<m[0]?Ob:-Ob,r=r*qa/2,L.point(-qa,r),L.point(0,r),L.point(qa,r)):L.point(m[0],m[1])},[-Ob,-vc]),eb=qa=>qa,Lb=new Gb,$b=new Gb,hc,Ec,Pc,Nc,md={point:Wb,lineStart:Wb,lineEnd:Wb,polygonStart:function(){md.lineStart=na;md.lineEnd=N},polygonEnd:function(){md.lineStart=md.lineEnd=md.point=Wb;Lb.add(Uc($b));$b=new Gb},result:function(){var qa=Lb/2;Lb=new Gb;return qa}},td=Infinity,yd=td,Md=-td,Ad=
Md,je={point:function(qa,m){qa<td&&(td=qa);qa>Md&&(Md=qa);m<yd&&(yd=m);m>Ad&&(Ad=m)},lineStart:Wb,lineEnd:Wb,polygonStart:Wb,polygonEnd:Wb,result:function(){var qa=[[td,yd],[Md,Ad]];Md=Ad=-(yd=td=Infinity);return qa}},Me=0,Qe=0,Re=0,He=0,De=0,Ie=0,ke=0,oe=0,xe=0,zd,Jf,Xe,$e,df={point:x,lineStart:T,lineEnd:Q,polygonStart:function(){df.lineStart=D;df.lineEnd=E},polygonEnd:function(){df.point=x;df.lineStart=T;df.lineEnd=Q},result:function(){var qa=xe?[ke/xe,oe/xe]:Ie?[He/Ie,De/Ie]:Re?[Me/Re,Qe/Re]:[NaN,
NaN];Me=Qe=Re=He=De=Ie=ke=oe=xe=0;return qa}};Da.prototype={_radius:4.5,pointRadius:function(qa){return this._radius=qa,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(qa,m){switch(this._point){case 0:this._context.moveTo(qa,m);this._point=1;break;case 1:this._context.lineTo(qa,m);break;default:this._context.moveTo(qa+this._radius,m),this._context.arc(qa,
m,this._radius,0,Ic)}},result:Wb};var Fe=new Gb,Nd,Kf,ye,Ea,cb,fc={point:Wb,lineStart:function(){fc.point=S},lineEnd:function(){Nd&&ia(Kf,ye);fc.point=Wb},polygonStart:function(){Nd=!0},polygonEnd:function(){Nd=null},result:function(){var qa=+Fe;Fe=new Gb;return qa}};let fd,jd,cd,Dd;class Xd{constructor(qa){this._append=null==qa?Ca:Qa(qa);this._radius=4.5;this._=""}pointRadius(qa){this._radius=+qa;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===
this._line&&(this._+="Z");this._point=NaN}point(qa,m){switch(this._point){case 0:this._append`M${qa},${m}`;this._point=1;break;case 1:this._append`L${qa},${m}`;break;default:this._append`M${qa},${m}`;if(this._radius!==cd||this._append!==jd)qa=this._radius,m=this._,this._="",this._append`m0,${qa}a${qa},${qa} 0 1,1 0,${-2*qa}a${qa},${qa} 0 1,1 0,${2*qa}z`,cd=qa,jd=this._append,Dd=this._,this._=m;this._+=Dd}}result(){const qa=this._;this._="";return qa.length?qa:null}}zb.prototype={constructor:zb,point:function(qa,
m){this.stream.point(qa,m)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Jd=ed(30*dd),Ye=db({point:function(qa,m){this.stream.point(qa*dd,m*dd)}}),nd=Xb(function(qa){return v(2/(1+qa))});nd.invert=jc(function(qa){return 2*ub(qa/2)});var qe=Xb(function(qa){return(qa=Za(qa))&&qa/K(qa)});qe.invert=jc(function(qa){return qa});
rc.invert=function(qa,m){return[qa,2*kd(ge(m))-vc]};oa.invert=oa;var Ne=v(3)/2;ib.invert=function(qa,m){for(var r=m,L=r*r,ka=L*L*L,Ga=0,Ta;12>Ga&&!(Ta=r*(1.340264+-.081106*L+ka*(8.93E-4+.003796*L))-m,L=1.340264+3*-.081106*L+ka*(7*8.93E-4+.034164*L),r-=Ta/=L,L=r*r,ka=L*L*L,1E-12>Uc(Ta));++Ga);return[Ne*qa*(1.340264+3*-.081106*L+ka*(7*8.93E-4+.034164*L))/ed(r),ub(K(r)/Ne)]};V.invert=jc(kd);w.invert=function(qa,m){var r=m,L=25;do{var ka=r*r;var Ga=ka*ka;r-=Ga=(r*(1.007226+ka*(.015085+Ga*(-.044475+.028874*
ka-.005916*Ga)))-m)/(1.007226+ka*(.045255+Ga*(-.311325+.259866*ka-.005916*11*Ga)))}while(1E-6<Uc(Ga)&&0<--L);return[qa/(.8707+(ka=r*r)*(-.131979+ka*(-.013791+ka*ka*ka*(.003971-.001529*ka)))),r]};da.invert=jc(ub);Aa.invert=jc(function(qa){return 2*kd(qa)});Ia.invert=function(qa,m){return[-m,2*kd(ge(qa))-vc]};var hf=Math.abs,ce=Math.cos,jf=Math.sin,rf=Math.PI,ze=rf/2,Ze=Math.sqrt(2),ef=function(qa,m,r){function L(ka,Ga){var Ta=Ga,Oa=r*jf(Ta),sb=30,pb;do Ta-=pb=(Ta+jf(Ta)-Oa)/(1+ce(Ta));while(1E-6<hf(pb)&&
0<--sb);return[qa*ka*ce(Ga=Ta/2),m*jf(Ga)]}L.invert=function(ka,Ga){return Ga=Wa(Ga/m),[ka/(qa*ce(Ga)),Wa((2*Ga+jf(2*Ga))/r)]};return L}(Ze/ze,Ze,rf);const me=Ra(),re="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Wd={albers:Ib,albersusa:function(){function qa(qc){var oc=qc[0];qc=qc[1];return uc=null,(Ga.point(oc,qc),uc)||(Oa.point(oc,qc),uc)||(pb.point(oc,qc),uc)}function m(){r=
L=null;return qa}var r,L,ka=Ib(),Ga,Ta=Bb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Oa,sb=Bb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),pb,uc,sc={point:function(qc,oc){uc=[qc,oc]}};qa.invert=function(qc){var oc=ka.scale(),Jc=ka.translate(),Oc=(qc[0]-Jc[0])/oc;oc=(qc[1]-Jc[1])/oc;return(.12<=oc&&.234>oc&&-.425<=Oc&&-.214>Oc?Ta:.166<=oc&&.234>oc&&-.214<=Oc&&-.115>Oc?sb:ka).invert(qc)};qa.stream=function(qc){return r&&L===qc?r:r=Eb([ka.stream(L=qc),Ta.stream(qc),sb.stream(qc)])};
qa.precision=function(qc){if(!arguments.length)return ka.precision();ka.precision(qc);Ta.precision(qc);sb.precision(qc);return m()};qa.scale=function(qc){if(!arguments.length)return ka.scale();ka.scale(qc);Ta.scale(.35*qc);sb.scale(qc);return qa.translate(ka.translate())};qa.translate=function(qc){if(!arguments.length)return ka.translate();var oc=ka.scale(),Jc=+qc[0],Oc=+qc[1];Ga=ka.translate(qc).clipExtent([[Jc-.455*oc,Oc-.238*oc],[Jc+.455*oc,Oc+.238*oc]]).stream(sc);Oa=Ta.translate([Jc-.307*oc,
Oc+.201*oc]).clipExtent([[Jc-.425*oc+1E-6,Oc+.12*oc+1E-6],[Jc-.214*oc-1E-6,Oc+.234*oc-1E-6]]).stream(sc);pb=sb.translate([Jc-.205*oc,Oc+.212*oc]).clipExtent([[Jc-.214*oc+1E-6,Oc+.166*oc+1E-6],[Jc-.115*oc-1E-6,Oc+.234*oc-1E-6]]).stream(sc);return m()};qa.fitExtent=function(qc,oc){return Vb(qa,qc,oc)};qa.fitSize=function(qc,oc){return Vb(qa,[[0,0],qc],oc)};qa.fitWidth=function(qc,oc){return Y(qa,qc,oc)};qa.fitHeight=function(qc,oc){return Ha(qa,qc,oc)};return qa.scale(1070)},azimuthalequalarea:function(){return tc(nd).scale(124.75).clipAngle(179.999)},
azimuthalequidistant:function(){return tc(qe).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return ra(Lc).scale(109.5).parallels([30,30])},conicequalarea:Bb,conicequidistant:function(){return ra(Ma).scale(131.154).center([0,13.9389])},equalEarth:function(){return tc(ib).scale(177.158)},equirectangular:function(){return tc(oa).scale(152.63)},gnomonic:function(){return tc(V).scale(144.049).clipAngle(60)},identity:function(){function qa(){Jc=r*Ga;Oc=r*Ta;wd=Sd=null;return m}function m(lc){var ud=
lc[0]*Jc;lc=lc[1]*Oc;if(Oa){var ne=lc*sb-ud*pb;ud=ud*sb+lc*pb;lc=ne}return[ud+L,lc+ka]}var r=1,L=0,ka=0,Ga=1,Ta=1,Oa=0,sb,pb,uc=null,sc,qc,oc,Jc=1,Oc=1,Ed=db({point:function(lc,ud){lc=m([lc,ud]);this.stream.point(lc[0],lc[1])}}),pd=eb,wd,Sd;m.invert=function(lc){var ud=lc[0]-L;lc=lc[1]-ka;if(Oa){var ne=lc*sb+ud*pb;ud=ud*sb-lc*pb;lc=ne}return[ud/Jc,lc/Oc]};m.stream=function(lc){return wd&&Sd===lc?wd:wd=Ed(pd(Sd=lc))};m.postclip=function(lc){return arguments.length?(pd=lc,uc=sc=qc=oc=null,qa()):pd};
m.clipExtent=function(lc){return arguments.length?(pd=null==lc?(uc=sc=qc=oc=null,eb):ma(uc=+lc[0][0],sc=+lc[0][1],qc=+lc[1][0],oc=+lc[1][1]),qa()):null==uc?null:[[uc,sc],[qc,oc]]};m.scale=function(lc){return arguments.length?(r=+lc,qa()):r};m.translate=function(lc){return arguments.length?(L=+lc[0],ka=+lc[1],qa()):[L,ka]};m.angle=function(lc){return arguments.length?(Oa=lc%360*dd,pb=K(Oa),sb=ed(Oa),qa()):Oa*id};m.reflectX=function(lc){return arguments.length?(Ga=lc?-1:1,qa()):0>Ga};m.reflectY=function(lc){return arguments.length?
(Ta=lc?-1:1,qa()):0>Ta};m.fitExtent=function(lc,ud){return Vb(m,lc,ud)};m.fitSize=function(lc,ud){return Vb(m,[[0,0],lc],ud)};m.fitWidth=function(lc,ud){return Y(m,lc,ud)};m.fitHeight=function(lc,ud){return Ha(m,lc,ud)};return m},mercator:function(){return ad(rc).scale(961/Ic)},mollweide:function(){return tc(ef).scale(169.529)},naturalEarth1:function(){return tc(w).scale(175.295)},orthographic:function(){return tc(da).scale(249.5).clipAngle(90.000001)},stereographic:function(){return tc(Aa).scale(250).clipAngle(142)},
transversemercator:function(){var qa=ad(Ia),m=qa.center,r=qa.rotate;qa.center=function(L){return arguments.length?m([-L[1],L[0]]):(L=m(),[L[1],-L[0]])};qa.rotate=function(L){return arguments.length?r([L[0],L[1],2<L.length?L[2]+90:90]):(L=r(),[L[0],L[1],L[2]-90])};return r([0,0,90]).scale(159.155)}};for(const qa in Wd)Sb(qa,Wd[qa]);u.getProjectionPath=function(qa){return qa&&qa.path||me};u.projection=Sb;u.projectionProperties=re})};
shadow$provide[41]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(32),nb(24),nb(33),nb(40),nb(35)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,Za,ub,Wb){function ec(w,da,Aa){var Ia=(da-w)/Math.max(0,Aa),Wa=
Math.floor(Math.log10(Ia));Ia/=Math.pow(10,Wa);Ia=Ia>=Mc?10:Ia>=ra?5:Ia>=Hb?2:1;let ob;0>Wa?(ob=Math.pow(10,-Wa)/Ia,Wa=Math.round(w*ob),Ia=Math.round(da*ob),Wa/ob<w&&++Wa,Ia/ob>da&&--Ia,ob=-ob):(ob=Math.pow(10,Wa)*Ia,Wa=Math.round(w/ob),Ia=Math.round(da/ob),Wa*ob<w&&++Wa,Ia*ob>da&&--Ia);return Ia<Wa&&.5<=Aa&&2>Aa?ec(w,da,2*Aa):[Wa,Ia,ob]}function Db(w,da,Aa){return ec(+w,+da,+Aa)[2]}function yb(w,da){let Aa;for(const Ia of w)null!=Ia&&(Aa<Ia||void 0===Aa&&Ia>=Ia)&&(Aa=Ia);return Aa}function wb(w,
da,Aa){w=+w;da=+da;Aa=2>(Wa=arguments.length)?(da=w,w=0,1):3>Wa?1:+Aa;for(var Ia=-1,Wa=Math.max(0,Math.ceil((da-w)/Aa))|0,ob=Array(Wa);++Ia<Wa;)ob[Ia]=w+Ia*Aa;return ob}function Qb(w,da){da=0;for(let Aa of w)if(Aa=+Aa)da+=Aa;return da}function Yb(){}function Ba(){function w(Gb,Ob){return Ob.map(vc=>da(Gb,vc))}function da(Gb,Ob){var vc=[],Bc=[];Aa(Gb,Ob,Ic=>{Sb(Ic,Gb,Ob);for(var id=0,dd=Ic.length,Uc=Ic[dd-1][1]*Ic[0][0]-Ic[dd-1][0]*Ic[0][1];++id<dd;)Uc+=Ic[id-1][1]*Ic[id][0]-Ic[id-1][0]*Ic[id][1];
0<Uc?vc.push([Ic]):Bc.push(Ic)});Bc.forEach(Ic=>{for(var id=0,dd=vc.length,Uc;id<dd;++id){a:{var kd=(Uc=vc[id])[0];for(var ld=Ic,ed=-1,ge=ld.length;++ed<ge;){b:{var gd=kd;for(var z=ld[ed],K=z[0],va=z[1],v=-1,R=0,ca=gd.length,wa=ca-1;R<ca;wa=R++){var pa=gd[R],eb=pa[0],Lb=pa[1],$b=gd[wa];wa=$b[0];var hc=$b[1],Ec,Pc=pa;pa=$b;$b=z;if(Ec=(pa[0]-Pc[0])*($b[1]-Pc[1])===($b[0]-Pc[0])*(pa[1]-Pc[1]))Pc=Pc[Ec=+(Pc[0]===pa[0])],$b=$b[Ec],pa=pa[Ec],Ec=Pc<=$b&&$b<=pa||pa<=$b&&$b<=Pc;if(Ec){gd=0;break b}Lb>va!==
hc>va&&K<(wa-eb)*(va-Lb)/(hc-Lb)+eb&&(v=-v)}gd=v}if(gd){kd=gd;break a}}kd=0}if(-1!==kd){Uc.push(Ic);break}}});return{type:"MultiPolygon",value:Ob,coordinates:vc}}function Aa(Gb,Ob,vc){function Bc(gd){var z=[gd[0][0]+Uc,gd[0][1]+dd];gd=[gd[1][0]+Uc,gd[1][1]+dd];var K=2*z[0]+z[1]*(Wa+1)*4,va=2*gd[0]+gd[1]*(Wa+1)*4,v,R;(v=id[K])?(R=Ic[va])?(delete id[v.end],delete Ic[R.start],v===R?(v.ring.push(gd),vc(v.ring)):Ic[v.start]=id[R.end]={start:v.start,end:R.end,ring:v.ring.concat(R.ring)}):(delete id[v.end],
v.ring.push(gd),id[v.end=va]=v):(v=Ic[va])?(R=id[K])?(delete Ic[v.start],delete id[R.end],v===R?(v.ring.push(gd),vc(v.ring)):Ic[R.start]=id[v.end]={start:R.start,end:v.end,ring:R.ring.concat(v.ring)}):(delete Ic[v.start],v.ring.unshift(z),Ic[v.start=K]=v):Ic[K]=id[va]={start:K,end:va,ring:[z,gd]}}var Ic=[],id=[],dd;var Uc=dd=-1;var kd=Gb[0]>=Ob;for(Va[kd<<1].forEach(Bc);++Uc<Wa-1;){var ld=kd;kd=Gb[Uc+1]>=Ob;Va[ld|kd<<1].forEach(Bc)}for(Va[kd<<0].forEach(Bc);++dd<ob-1;){Uc=-1;kd=Gb[dd*Wa+Wa]>=Ob;var ed=
Gb[dd*Wa]>=Ob;for(Va[kd<<1|ed<<2].forEach(Bc);++Uc<Wa-1;){ld=kd;kd=Gb[dd*Wa+Wa+Uc+1]>=Ob;var ge=ed;ed=Gb[dd*Wa+Uc+1]>=Ob;Va[ld|kd<<1|ed<<2|ge<<3].forEach(Bc)}Va[kd|ed<<3].forEach(Bc)}Uc=-1;ed=Gb[dd*Wa]>=Ob;for(Va[ed<<2].forEach(Bc);++Uc<Wa-1;)ge=ed,ed=Gb[dd*Wa+Uc+1]>=Ob,Va[ed<<2|ge<<3].forEach(Bc);Va[ed<<3].forEach(Bc)}function Ia(Gb,Ob,vc){Gb.forEach(Bc=>{var Ic=Bc[0],id=Bc[1],dd=Ic|0,Uc=id|0,kd=Ob[Uc*Wa+dd];if(0<Ic&&Ic<Wa&&dd===Ic){var ld=Ob[Uc*Wa+dd-1];Bc[0]=Ic+(vc-ld)/(kd-ld)-.5}0<id&&id<ob&&
Uc===id&&(ld=Ob[(Uc-1)*Wa+dd],Bc[1]=id+(vc-ld)/(kd-ld)-.5)})}var Wa=1,ob=1,Sb=Ia;w.contour=da;w.size=function(Gb){if(!arguments.length)return[Wa,ob];var Ob=Math.floor(Gb[0]),vc=Math.floor(Gb[1]);0<=Ob&&0<=vc||ja.error("invalid size");return Wa=Ob,ob=vc,w};w.smooth=function(Gb){return arguments.length?(Sb=Gb?Ia:Yb,w):Sb===Ia};return w}function bb(w,da,Aa){return function(Ia){var Wa=ja.extent(Ia);Ia=Aa?Math.min(Wa[0],0):Wa[0];Wa=Wa[1];var ob=Wa-Ia;if(da){var Sb=w;var Gb=+Wa;var Ob=+Ia;Sb=+Sb;Ob=(ob=
Gb<Ob)?Db(Gb,Ob,Sb):Db(Ob,Gb,Sb);ob=(ob?-1:1)*(0>Ob?1/-Ob:Ob)}else ob/=w+1;return wb(Ia+ob,Wa,ob)}}function Ab(w){l.Transform.call(this,null,w)}function xb(w,da,Aa){const Ia=bb(Aa.levels||10,Aa.nice,!1!==Aa.zero);return"shared"!==Aa.resolve?Ia:Ia(w.map(Wa=>yb(da(Wa).values)))}function qb(w,da,Aa,Ia){var Wa=Ia.scale||da.scale;let ob=Ia.translate||da.translate;ja.isFunction(Wa)&&(Wa=Wa(Aa,Ia));ja.isFunction(ob)&&(ob=ob(Aa,Ia));if(1!==Wa&&null!=Wa||ob)Aa=(ja.isNumber(Wa)?Wa:Wa[0])||1,Wa=(ja.isNumber(Wa)?
Wa:Wa[1])||1,w.forEach(Cb(da,Aa,Wa,ob&&ob[0]||0,ob&&ob[1]||0))}function Cb(w,da,Aa,Ia,Wa){function ob(Ic){Ic.forEach(Sb)}function Sb(Ic){Bc&&Ic.reverse();Ic.forEach(Gb)}function Gb(Ic){Ic[0]=(Ic[0]-Ob)*da+Ia;Ic[1]=(Ic[1]-vc)*Aa+Wa}const Ob=w.x1||0,vc=w.y1||0,Bc=0>da*Aa;return function(Ic){Ic.coordinates.forEach(ob);return Ic}}function lb(w,da,Aa){w=0<=w?w:Za.bandwidthNRD(da,Aa);return Math.round((Math.sqrt(4*w*w+1)-1)/2)}function mc(w){return ja.isFunction(w)?w:ja.constant(+w)}function ua(){function w(Ob,
vc){const Bc=lb(Wa[0],Ob,da)>>Gb,Ic=lb(Wa[1],Ob,Aa)>>Gb,id=Bc?Bc+2:0,dd=Ic?Ic+2:0,Uc=2*id+(ob>>Gb),kd=2*dd+(Sb>>Gb),ld=new Float32Array(Uc*kd),ed=new Float32Array(Uc*kd);let ge=ld;Ob.forEach(gd=>{const z=id+(+da(gd)>>Gb),K=dd+(+Aa(gd)>>Gb);0<=z&&z<Uc&&0<=K&&K<kd&&(ld[z+K*Uc]+=+Ia(gd))});0<Bc&&0<Ic?(ha(Uc,kd,ld,ed,Bc),xa(Uc,kd,ed,ld,Ic),ha(Uc,kd,ld,ed,Bc),xa(Uc,kd,ed,ld,Ic),ha(Uc,kd,ld,ed,Bc),xa(Uc,kd,ed,ld,Ic)):0<Bc?(ha(Uc,kd,ld,ed,Bc),ha(Uc,kd,ed,ld,Bc),ha(Uc,kd,ld,ed,Bc),ge=ed):0<Ic&&(xa(Uc,kd,
ld,ed,Ic),xa(Uc,kd,ed,ld,Ic),xa(Uc,kd,ld,ed,Ic),ge=ed);Ob=vc?Math.pow(2,-2*Gb):1/Qb(ge);for(let gd=0,z=Uc*kd;gd<z;++gd)ge[gd]*=Ob;return{values:ge,scale:1<<Gb,width:Uc,height:kd,x1:id,y1:dd,x2:id+(ob>>Gb),y2:dd+(Sb>>Gb)}}var da=Ob=>Ob[0],Aa=Ob=>Ob[1],Ia=ja.one,Wa=[-1,-1],ob=960,Sb=500,Gb=2;w.x=function(Ob){return arguments.length?(da=mc(Ob),w):da};w.y=function(Ob){return arguments.length?(Aa=mc(Ob),w):Aa};w.weight=function(Ob){return arguments.length?(Ia=mc(Ob),w):Ia};w.size=function(Ob){if(!arguments.length)return[ob,
Sb];var vc=+Ob[0],Bc=+Ob[1];0<=vc&&0<=Bc||ja.error("invalid size");return ob=vc,Sb=Bc,w};w.cellSize=function(Ob){if(!arguments.length)return 1<<Gb;1<=(Ob=+Ob)||ja.error("invalid cell size");Gb=Math.floor(Math.log(Ob)/Math.LN2);return w};w.bandwidth=function(Ob){if(!arguments.length)return Wa;Ob=ja.array(Ob);1===Ob.length&&(Ob=[+Ob[0],+Ob[0]]);2!==Ob.length&&ja.error("invalid bandwidth");return Wa=Ob,w};return w}function ha(w,da,Aa,Ia,Wa){const ob=(Wa<<1)+1;for(let Sb=0;Sb<da;++Sb)for(let Gb=0,Ob=
0;Gb<w+Wa;++Gb)Gb<w&&(Ob+=Aa[Gb+Sb*w]),Gb>=Wa&&(Gb>=ob&&(Ob-=Aa[Gb-ob+Sb*w]),Ia[Gb-Wa+Sb*w]=Ob/Math.min(Gb+1,w-1+ob-Gb,ob))}function xa(w,da,Aa,Ia,Wa){const ob=(Wa<<1)+1;for(let Sb=0;Sb<w;++Sb)for(let Gb=0,Ob=0;Gb<da+Wa;++Gb)Gb<da&&(Ob+=Aa[Sb+Gb*w]),Gb>=Wa&&(Gb>=ob&&(Ob-=Aa[Sb+(Gb-ob)*w]),Ia[Sb+(Gb-Wa)*w]=Ob/Math.min(Gb+1,da-1+ob-Gb,ob))}function Sa(w){l.Transform.call(this,null,w)}function Xa(w,da){Bb.forEach(Aa=>null!=da[Aa]?w[Aa](da[Aa]):0);return w}function La(w,da){var Aa=[],Ia=Bc=>Bc(Gb),Wa;
if(null==da)Aa.push(w);else{var ob={};var Sb=0;for(Wa=w.length;Sb<Wa;++Sb){var Gb=w[Sb];var Ob=da.map(Ia);var vc=ob[Ob];vc||(ob[Ob]=vc=[],vc.dims=Ob,Aa.push(vc));vc.push(Gb)}}return Aa}function jb(w){l.Transform.call(this,null,w)}function fb(w){l.Transform.call(this,null,w)}function vb(w){l.Transform.call(this,null,w)}function Rb(w,da){const Aa=w.pointRadius();w.context(null);null!=da&&w.pointRadius(da);return Aa}function Na(w){l.Transform.call(this,null,w)}function U(w){l.Transform.call(this,null,
w)}function ea(w,da,Aa){const Ia=null==Aa?Wa=>w(da(Wa)):Wa=>{var ob=w.pointRadius();Wa=w.pointRadius(Aa)(da(Wa));w.pointRadius(ob);return Wa};Ia.context=Wa=>{w.context(Wa);return Ia};return Ia}function Ja(w,da,Aa){var Ia=wb(w,da-1E-6,Aa).concat(da);return function(Wa){return Ia.map(function(ob){return[Wa,ob]})}}function Z(w,da,Aa){var Ia=wb(w,da-1E-6,Aa).concat(da);return function(Wa){return Ia.map(function(ob){return[ob,Wa]})}}function Fa(){function w(){return{type:"MultiLineString",coordinates:da()}}
function da(){return wb(Eb(ob/id)*id,Wa,id).map(ld).concat(wb(Eb(vc/dd)*dd,Ob,dd).map(ed)).concat(wb(Eb(Ia/Bc)*Bc,Aa,Bc).filter(function(gd){return 1E-6<Ib(gd%id)}).map(Uc)).concat(wb(Eb(Gb/Ic)*Ic,Sb,Ic).filter(function(gd){return 1E-6<Ib(gd%dd)}).map(kd))}var Aa,Ia,Wa,ob,Sb,Gb,Ob,vc,Bc=10,Ic=Bc,id=90,dd=360,Uc,kd,ld,ed,ge=2.5;w.lines=function(){return da().map(function(gd){return{type:"LineString",coordinates:gd}})};w.outline=function(){return{type:"Polygon",coordinates:[ld(ob).concat(ed(Ob).slice(1),
ld(Wa).reverse().slice(1),ed(vc).reverse().slice(1))]}};w.extent=function(gd){return arguments.length?w.extentMajor(gd).extentMinor(gd):w.extentMinor()};w.extentMajor=function(gd){if(!arguments.length)return[[ob,vc],[Wa,Ob]];ob=+gd[0][0];Wa=+gd[1][0];vc=+gd[0][1];Ob=+gd[1][1];ob>Wa&&(gd=ob,ob=Wa,Wa=gd);vc>Ob&&(gd=vc,vc=Ob,Ob=gd);return w.precision(ge)};w.extentMinor=function(gd){if(!arguments.length)return[[Ia,Gb],[Aa,Sb]];Ia=+gd[0][0];Aa=+gd[1][0];Gb=+gd[0][1];Sb=+gd[1][1];Ia>Aa&&(gd=Ia,Ia=Aa,Aa=
gd);Gb>Sb&&(gd=Gb,Gb=Sb,Sb=gd);return w.precision(ge)};w.step=function(gd){return arguments.length?w.stepMajor(gd).stepMinor(gd):w.stepMinor()};w.stepMajor=function(gd){if(!arguments.length)return[id,dd];id=+gd[0];dd=+gd[1];return w};w.stepMinor=function(gd){if(!arguments.length)return[Bc,Ic];Bc=+gd[0];Ic=+gd[1];return w};w.precision=function(gd){if(!arguments.length)return ge;ge=+gd;Uc=Ja(Gb,Sb,90);kd=Z(Ia,Aa,ge);ld=Ja(vc,Ob,90);ed=Z(ob,Wa,ge);return w};return w.extentMajor([[-180,-89.999999],[180,
89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function ma(w){l.Transform.call(this,[],w);this.generator=Fa()}function na(w,da,Aa){w.prototype=da.prototype=Aa;Aa.constructor=w}function n(w,da){w=Object.create(w.prototype);for(var Aa in da)w[Aa]=da[Aa];return w}function F(){}function N(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function T(w){var da,Aa;w=(w+"").trim().toLowerCase();return(da=jc.exec(w))?(Aa=da[1].length,da=parseInt(da[1],16),6===Aa?B(da):
3===Aa?new D(da>>8&15|da>>4&240,da>>4&15|da&240,(da&15)<<4|da&15,1):8===Aa?A(da>>24&255,da>>16&255,da>>8&255,(da&255)/255):4===Aa?A(da>>12&15|da>>8&240,da>>8&15|da>>4&240,da>>4&15|da&240,((da&15)<<4|da&15)/255):null):(da=rc.exec(w))?new D(da[1],da[2],da[3],1):(da=ad.exec(w))?new D(255*da[1]/100,255*da[2]/100,255*da[3]/100,1):(da=Lc.exec(w))?A(da[1],da[2],da[3],da[4]):(da=oa.exec(w))?A(255*da[1]/100,255*da[2]/100,255*da[3]/100,da[4]):(da=Ma.exec(w))?ia(da[1],da[2]/100,da[3]/100,1):(da=ib.exec(w))?
ia(da[1],da[2]/100,da[3]/100,da[4]):V.hasOwnProperty(w)?B(V[w]):"transparent"===w?new D(NaN,NaN,NaN,0):null}function B(w){return new D(w>>16&255,w>>8&255,w&255,1)}function A(w,da,Aa,Ia){0>=Ia&&(w=da=Aa=NaN);return new D(w,da,Aa,Ia)}function Q(w,da,Aa,Ia){if(1===arguments.length){var Wa=w;Wa instanceof F||(Wa=T(Wa));Wa?(Wa=Wa.rgb(),Wa=new D(Wa.r,Wa.g,Wa.b,Wa.opacity)):Wa=new D}else Wa=new D(w,da,Aa,null==Ia?1:Ia);return Wa}function D(w,da,Aa,Ia){this.r=+w;this.g=+da;this.b=+Aa;this.opacity=+Ia}function E(){return`#${S(this.r)}${S(this.g)}${S(this.b)}`}
function I(){const w=X(this.opacity);return`${1===w?"rgb(":"rgba("}${Da(this.r)}, ${Da(this.g)}, ${Da(this.b)}${1===w?")":`, ${w})`}`}function X(w){return isNaN(w)?1:Math.max(0,Math.min(1,w))}function Da(w){return Math.max(0,Math.min(255,Math.round(w)||0))}function S(w){w=Da(w);return(16>w?"0":"")+w.toString(16)}function ia(w,da,Aa,Ia){0>=Ia?w=da=Aa=NaN:0>=Aa||1<=Aa?w=da=NaN:0>=da&&(w=NaN);return new Qa(w,da,Aa,Ia)}function Ca(w){if(w instanceof Qa)return new Qa(w.h,w.s,w.l,w.opacity);w instanceof
F||(w=T(w));if(!w)return new Qa;if(w instanceof Qa)return w;w=w.rgb();var da=w.r/255,Aa=w.g/255,Ia=w.b/255,Wa=Math.min(da,Aa,Ia),ob=Math.max(da,Aa,Ia),Sb=NaN,Gb=ob-Wa,Ob=(ob+Wa)/2;Gb?(Sb=da===ob?(Aa-Ia)/Gb+6*(Aa<Ia):Aa===ob?(Ia-da)/Gb+2:(da-Aa)/Gb+4,Gb/=.5>Ob?ob+Wa:2-ob-Wa,Sb*=60):Gb=0<Ob&&1>Ob?0:Sb;return new Qa(Sb,Gb,Ob,w.opacity)}function Qa(w,da,Aa,Ia){this.h=+w;this.s=+da;this.l=+Aa;this.opacity=+Ia}function Ra(w){w=(w||0)%360;return 0>w?w+360:w}function db(w){return Math.max(0,Math.min(1,w||
0))}function zb(w,da,Aa){return 255*(60>w?da+(Aa-da)*w/60:180>w?Aa:240>w?da+(Aa-da)*(240-w)/60:da)}function kb(w){l.Transform.call(this,null,w)}function Vb(w,da){let Aa;ja.isFunction(w)?(Aa=Ia=>Q(w(Ia,da)),Aa.dep=Ha(w)):Aa=ja.constant(Q(w||"#888"));return Aa}function Y(w,da){let Aa;ja.isFunction(w)?(Aa=Ia=>w(Ia,da),Aa.dep=Ha(w)):w?Aa=ja.constant(w):(Aa=Ia=>Ia.$value/Ia.$max||0,Aa.dep=!0);return Aa}function Ha(w){if(!ja.isFunction(w))return!1;w=ja.toSet(ja.accessorFields(w));return w.$x||w.$y||w.$value||
w.$max}function Ub(w,da,Aa,Ia){const Wa=w.width;var ob=w.height;const Sb=w.x1||0,Gb=w.y1||0,Ob=w.x2||Wa;ob=w.y2||ob;const vc=w.values;w=vc?Uc=>vc[Uc]:ja.zero;const Bc=Wb.canvas(Ob-Sb,ob-Gb),Ic=Bc.getContext("2d"),id=Ic.getImageData(0,0,Ob-Sb,ob-Gb),dd=id.data;for(let Uc=Gb,kd=0;Uc<ob;++Uc){da.$y=Uc-Gb;for(let ld=Sb,ed=Uc*Wa;ld<Ob;++ld,kd+=4){da.$x=ld-Sb;da.$value=w(ld+ed);const ge=Aa(da);dd[kd+0]=ge.r;dd[kd+1]=ge.g;dd[kd+2]=ge.b;dd[kd+3]=~~(255*Ia(da))}}Ic.putImageData(id,0,0);return Bc}function kc(w){l.Transform.call(this,
null,w);this.modified(!0)}function Zb(w,da){const Aa=Nb(da.fit);da.extent?w.fitExtent(da.extent,Aa):da.size?w.fitSize(da.size,Aa):0}function Pb(w){const da=ub.projection((w||"mercator").toLowerCase());da||ja.error("Unrecognized projection type: "+w);return da()}function Nb(w){w=ja.array(w);return 1===w.length?w[0]:{type:"FeatureCollection",features:w.reduce((da,Aa)=>da.concat(tc(Aa)),[])}}function tc(w){return"FeatureCollection"===w.type?w.features:ja.array(w).filter(da=>null!=da).map(da=>"Feature"===
da.type?da:{type:"Feature",geometry:da})}const Mc=Math.sqrt(50),ra=Math.sqrt(10),Hb=Math.sqrt(2),Va=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Ab.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},
{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};ja.inherits(Ab,l.Transform,{transform(w,da){if(this.value&&!da.changed()&&
!w.modified())return da.StopPropagation;var Aa=da.fork(da.NO_SOURCE|da.NO_FIELDS);da=da.materialize(da.SOURCE).source;var Ia=w.field||ja.identity,Wa=Ba().smooth(!1!==w.smooth),ob=w.thresholds||xb(da,Ia,w),Sb=null===w.as?null:w.as||"contour",Gb=[];da.forEach(Ob=>{const vc=Ia(Ob),Bc=Wa.size([vc.width,vc.height])(vc.values,ja.isArray(ob)?ob:ob(vc.values));qb(Bc,vc,Ob,w);Bc.forEach(Ic=>{Gb.push(l.rederive(Ob,l.ingest(null!=Sb?{[Sb]:Ic}:Ic)))})});this.value&&(Aa.rem=this.value);this.value=Aa.source=Aa.add=
Gb;return Aa}});Sa.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Bb="x y weight size cellSize bandwidth".split(" ");
ja.inherits(Sa,l.Transform,{transform(w,da){if(this.value&&!da.changed()&&!w.modified())return da.StopPropagation;var Aa=da.fork(da.NO_SOURCE|da.NO_FIELDS);da=da.materialize(da.SOURCE).source;da=La(da,w.groupby);var Ia=(w.groupby||[]).map(ja.accessorName),Wa=Xa(ua(),w),ob=w.as||"grid",Sb=[];Sb=da.map(Gb=>{var Ob=l.ingest,vc={[ob]:Wa(Gb,w.counts)};Gb=Gb.dims;for(let Bc=0;Bc<Ia.length;++Bc)vc[Ia[Bc]]=Gb[Bc];return Ob.call(l,vc)});this.value&&(Aa.rem=this.value);this.value=Aa.source=Aa.add=Sb;return Aa}});
jb.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};ja.inherits(jb,l.Transform,{transform(w,
da){if(this.value&&!da.changed()&&!w.modified())return da.StopPropagation;var Aa=da.fork(da.NO_SOURCE|da.NO_FIELDS),Ia=Ba().smooth(!1!==w.smooth),Wa=w.values,ob=w.thresholds||bb(w.count||10,w.nice,!!Wa),Sb=w.size;if(!Wa){Wa=da.materialize(da.SOURCE).source;w=Xa(ua(),w)(Wa,!0);var Gb=Cb(w,w.scale||1,w.scale||1,0,0);Sb=[w.width,w.height];Wa=w.values}ob=ja.isArray(ob)?ob:ob(Wa);Wa=Ia.size(Sb)(Wa,ob);Gb&&Wa.forEach(Gb);this.value&&(Aa.rem=this.value);this.value=Aa.source=Aa.add=(Wa||[]).map(l.ingest);
return Aa}});fb.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ja.inherits(fb,l.Transform,{transform(w,da){var Aa=this._features,Ia=this._points,Wa=w.fields,ob=Wa&&Wa[0],Sb=Wa&&Wa[1],Gb=w.geojson||!Wa&&ja.identity;Wa=da.ADD;w=w.modified()||da.changed(da.REM)||da.modified(ja.accessorFields(Gb))||ob&&da.modified(ja.accessorFields(ob))||Sb&&da.modified(ja.accessorFields(Sb));if(!this.value||w)Wa=da.SOURCE,this._features=Aa=
[],this._points=Ia=[];Gb&&da.visit(Wa,Ob=>Aa.push(Gb(Ob)));ob&&Sb&&(da.visit(Wa,Ob=>{var vc=ob(Ob);Ob=Sb(Ob);null!=vc&&null!=Ob&&(vc=+vc)===vc&&(Ob=+Ob)===Ob&&Ia.push([vc,Ob])}),Aa=Aa.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:Ia}}));this.value={type:"FeatureCollection",features:Aa}}});vb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",
"default":"path"}]};ja.inherits(vb,l.Transform,{transform(w,da){var Aa=da.fork(da.ALL),Ia=this.value,Wa=w.field||ja.identity,ob=w.as||"path",Sb=Aa.SOURCE;!Ia||w.modified()?(this.value=Ia=ub.getProjectionPath(w.projection),Aa.materialize().reflow()):Sb=Wa===ja.identity||da.modified(Wa.fields)?Aa.ADD_MOD:Aa.ADD;w=Rb(Ia,w.pointRadius);Aa.visit(Sb,Gb=>Gb[ob]=Ia(Wa(Gb)));Ia.pointRadius(w);return Aa.modifies(ob)}});Na.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",
required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};ja.inherits(Na,l.Transform,{transform(w,da){function Aa(vc){const Bc=Ia([Wa(vc),ob(vc)]);Bc?(vc[Gb]=Bc[0],vc[Ob]=Bc[1]):(vc[Gb]=void 0,vc[Ob]=void 0)}var Ia=w.projection,Wa=w.fields[0],ob=w.fields[1],Sb=w.as||["x","y"],Gb=Sb[0],Ob=Sb[1];w.modified()?da=da.materialize().reflow(!0).visit(da.SOURCE,Aa):(w=da.modified(Wa.fields)||da.modified(ob.fields),da.visit(w?da.ADD_MOD:
da.ADD,Aa));return da.modifies(Sb)}});U.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};ja.inherits(U,l.Transform,{transform(w,da){da=da.fork(da.ALL);var Aa=this.value,Ia=w.as||"shape",Wa=da.ADD;if(!Aa||w.modified())this.value=Aa=ea(ub.getProjectionPath(w.projection),w.field||ja.field("datum"),w.pointRadius),
da.materialize().reflow(),Wa=da.SOURCE;da.visit(Wa,ob=>ob[Ia]=Aa);return da.modifies(Ia)}});var Ib=Math.abs,Eb=Math.ceil;ma.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,
length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};ja.inherits(ma,l.Transform,{transform(w,da){var Aa=this.value,Ia=this.generator;if(!Aa.length||w.modified())for(const Wa in w)if(ja.isFunction(Ia[Wa]))Ia[Wa](w[Wa]);w=Ia();Aa.length?da.mod.push(l.replace(Aa[0],w)):da.add.push(l.ingest(w));Aa[0]=w;return da}});var Xb=1/.7,jc=/^#([0-9a-f]{3,8})$/,rc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
ad=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Lc=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),oa=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Ma=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),ib=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),V={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};na(F,T,{copy(w){return Object.assign(new this.constructor,this,w)},displayable(){return this.rgb().displayable()},hex:N,formatHex:N,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ca(this).formatHsl()},formatRgb:x,toString:x});na(D,Q,n(F,{brighter(w){w=null==w?Xb:Math.pow(Xb,w);return new D(this.r*w,this.g*w,this.b*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new D(this.r*w,this.g*w,this.b*w,this.opacity)},rgb(){return this},
clamp(){return new D(Da(this.r),Da(this.g),Da(this.b),X(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:E,formatHex:E,formatHex8:function(){return`#${S(this.r)}${S(this.g)}${S(this.b)}${S(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:I,toString:I}));na(Qa,function(w,da,Aa,Ia){return 1===arguments.length?Ca(w):new Qa(w,da,Aa,null==Ia?1:Ia)},n(F,{brighter(w){w=null==w?Xb:Math.pow(Xb,w);
return new Qa(this.h,this.s,this.l*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new Qa(this.h,this.s,this.l*w,this.opacity)},rgb(){var w=this.h%360+360*(0>this.h),da=isNaN(w)||isNaN(this.s)?0:this.s,Aa=this.l;da=Aa+(.5>Aa?Aa:1-Aa)*da;Aa=2*Aa-da;return new D(zb(240<=w?w-240:w+120,Aa,da),zb(w,Aa,da),zb(120>w?w+240:w-120,Aa,da),this.opacity)},clamp(){return new Qa(Ra(this.h),db(this.s),db(this.l),X(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&
1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const w=X(this.opacity);return`${1===w?"hsl(":"hsla("}${Ra(this.h)}, ${100*db(this.s)}%, ${100*db(this.l)}%${1===w?")":`, ${w})`}`}}));kb.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};ja.inherits(kb,
l.Transform,{transform(w,da){if(!da.changed()&&!w.modified())return da.StopPropagation;var Aa=da.materialize(da.SOURCE).source,Ia="shared"===w.resolve,Wa=w.field||ja.identity,ob=Y(w.opacity,w),Sb=Vb(w.color,w),Gb=w.as||"image",Ob={$x:0,$y:0,$value:0,$max:Ia?yb(Aa.map(vc=>yb(Wa(vc).values))):0};Aa.forEach(vc=>{const Bc=Wa(vc),Ic=ja.extend({},vc,Ob);Ia||(Ic.$max=yb(Bc.values||[]));vc[Gb]=Ub(Bc,Ic,Sb.dep?Sb:ja.constant(Sb(Ic)),ob.dep?ob:ja.constant(ob(Ic)))});return da.reflow(!0).modifies(Gb)}});ja.inherits(kc,
l.Transform,{transform(w,da){let Aa=this.value;!Aa||w.modified("type")?(this.value=Aa=Pb(w.type),ub.projectionProperties.forEach(Ia=>{if(null!=w[Ia]){var Wa=Aa,ob=w[Ia];if(ja.isFunction(Wa[Ia]))Wa[Ia](ob)}})):ub.projectionProperties.forEach(Ia=>{if(w.modified(Ia)){var Wa=Aa,ob=w[Ia];if(ja.isFunction(Wa[Ia]))Wa[Ia](ob)}});null!=w.pointRadius&&Aa.path.pointRadius(w.pointRadius);w.fit&&Zb(Aa,w);return da.fork(da.NO_SOURCE|da.NO_FIELDS)}});u.contour=jb;u.geojson=fb;u.geopath=vb;u.geopoint=Na;u.geoshape=
U;u.graticule=ma;u.heatmap=kb;u.isocontour=Ab;u.kde2d=Sa;u.projection=kc})};
shadow$provide[42]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(32),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega))})(this,function(u,l,ja){function Za(S,ia,Ca,Qa){if(isNaN(ia)||isNaN(Ca))return S;var Ra,db=S._root;Qa={data:Qa};var zb=S._x0,kb=S._y0,Vb=S._x1,Y=S._y1,Ha,Ub,kc,Zb,Pb;if(!db)return S._root=
Qa,S;for(;db.length;)if((kc=ia>=(Ha=(zb+Vb)/2))?zb=Ha:Vb=Ha,(Zb=Ca>=(Ub=(kb+Y)/2))?kb=Ub:Y=Ub,Ra=db,!(db=db[Pb=Zb<<1|kc]))return Ra[Pb]=Qa,S;var Nb=+S._x.call(null,db.data);var tc=+S._y.call(null,db.data);if(ia===Nb&&Ca===tc)return Qa.next=db,Ra?Ra[Pb]=Qa:S._root=Qa,S;do Ra=Ra?Ra[Pb]=Array(4):S._root=Array(4),(kc=ia>=(Ha=(zb+Vb)/2))?zb=Ha:Vb=Ha,(Zb=Ca>=(Ub=(kb+Y)/2))?kb=Ub:Y=Ub;while((Pb=Zb<<1|kc)===(kc=(tc>=Ub)<<1|Nb>=Ha));return Ra[kc]=db,Ra[Pb]=Qa,S}function ub(S,ia,Ca,Qa,Ra){this.node=S;this.x0=
ia;this.y0=Ca;this.x1=Qa;this.y1=Ra}function Wb(S){return S[0]}function ec(S){return S[1]}function Db(S,ia,Ca){ia=new yb(null==ia?Wb:ia,null==Ca?ec:Ca,NaN,NaN,NaN,NaN);return null==S?ia:ia.addAll(S)}function yb(S,ia,Ca,Qa,Ra,db){this._x=S;this._y=ia;this._x0=Ca;this._y0=Qa;this._x1=Ra;this._y1=db;this._root=void 0}function wb(S){for(var ia={data:S.data},Ca=ia;S=S.next;)Ca=Ca.next={data:S.data};return ia}function Qb(S){return function(){return S}}function Yb(S){return S.x+S.vx}function Ba(S){return S.y+
S.vy}function bb(S){return S.index}function Ab(S,ia){S=S.get(ia);if(!S)throw Error("node not found: "+ia);return S}function xb(){for(var S=0,ia=arguments.length,Ca={},Qa;S<ia;++S){if(!(Qa=arguments[S]+"")||Qa in Ca||/[\s.]/.test(Qa))throw Error("illegal type: "+Qa);Ca[Qa]=[]}return new qb(Ca)}function qb(S){this._=S}function Cb(S,ia){return S.trim().split(/^|\s+/).map(function(Ca){var Qa="",Ra=Ca.indexOf(".");0<=Ra&&(Qa=Ca.slice(Ra+1),Ca=Ca.slice(0,Ra));if(Ca&&!ia.hasOwnProperty(Ca))throw Error("unknown type: "+
Ca);return{type:Ca,name:Qa}})}function lb(S,ia,Ca){for(var Qa=0,Ra=S.length;Qa<Ra;++Qa)if(S[Qa].name===ia){S[Qa]=Fa;S=S.slice(0,Qa).concat(S.slice(Qa+1));break}null!=Ca&&S.push({name:ia,value:Ca});return S}function mc(){T=0}function ua(){this._call=this._time=this._next=null}function ha(S,ia,Ca){var Qa=new ua;Qa.restart(S,ia,Ca);return Qa}function xa(){T=(x=A.now())+B;ma=na=0;try{T||(Q(mc),T=A.now()+B);++ma;for(var S=F,ia;S;)0<=(ia=T-S._time)&&S._call.call(void 0,ia),S=S._next;--ma}finally{ma=0;S=
F;for(var Ca=Infinity;S;)if(S._call){Ca>S._time&&(Ca=S._time);var Qa=S;S=S._next}else ia=S._next,S._next=null,S=Qa?Qa._next=ia:F=ia;N=Qa;Xa(Ca);T=0}}function Sa(){var S=A.now(),ia=S-x;1E3<ia&&(B-=ia,x=S)}function Xa(S){ma||(na&&(na=clearTimeout(na)),24<S-T?(Infinity>S&&(na=setTimeout(xa,S-A.now()-B)),n&&(n=clearInterval(n))):(n||(x=A.now(),n=setInterval(Sa,1E3)),ma=1,Q(xa)))}function La(){let S=1;return()=>(S=(1664525*S+1013904223)%4294967296)/4294967296}function jb(S){return S.x}function fb(S){return S.y}
function vb(S){function ia(){Ca();Zb.call("tick",db);zb<kb&&(kc.stop(),Zb.call("end",db))}function Ca(Nb){var tc,Mc=S.length;void 0===Nb&&(Nb=1);for(var ra=0;ra<Nb;++ra)for(zb+=(Y-zb)*Vb,Ub.forEach(function(Va){Va(zb)}),tc=0;tc<Mc;++tc){var Hb=S[tc];null==Hb.fx?Hb.x+=Hb.vx*=Ha:(Hb.x=Hb.fx,Hb.vx=0);null==Hb.fy?Hb.y+=Hb.vy*=Ha:(Hb.y=Hb.fy,Hb.vy=0)}return db}function Qa(){for(var Nb=0,tc=S.length,Mc;Nb<tc;++Nb){Mc=S[Nb];Mc.index=Nb;null!=Mc.fx&&(Mc.x=Mc.fx);null!=Mc.fy&&(Mc.y=Mc.fy);if(isNaN(Mc.x)||
isNaN(Mc.y)){var ra=10*Math.sqrt(.5+Nb),Hb=Nb*D;Mc.x=ra*Math.cos(Hb);Mc.y=ra*Math.sin(Hb)}if(isNaN(Mc.vx)||isNaN(Mc.vy))Mc.vx=Mc.vy=0}}function Ra(Nb){Nb.initialize&&Nb.initialize(S,Pb);return Nb}var db,zb=1,kb=.001,Vb=1-Math.pow(kb,1/300),Y=0,Ha=.6,Ub=new Map,kc=ha(ia),Zb=xb("tick","end"),Pb=La();null==S&&(S=[]);Qa();return db={tick:Ca,restart:function(){return kc.restart(ia),db},stop:function(){return kc.stop(),db},nodes:function(Nb){return arguments.length?(S=Nb,Qa(),Ub.forEach(Ra),db):S},alpha:function(Nb){return arguments.length?
(zb=+Nb,db):zb},alphaMin:function(Nb){return arguments.length?(kb=+Nb,db):kb},alphaDecay:function(Nb){return arguments.length?(Vb=+Nb,db):+Vb},alphaTarget:function(Nb){return arguments.length?(Y=+Nb,db):Y},velocityDecay:function(Nb){return arguments.length?(Ha=1-Nb,db):1-Ha},randomSource:function(Nb){return arguments.length?(Pb=Nb,Ub.forEach(Ra),db):Pb},force:function(Nb,tc){return 1<arguments.length?(null==tc?Ub.delete(Nb):Ub.set(Nb,Ra(tc)),db):Ub.get(Nb)},find:function(Nb,tc,Mc){var ra,Hb=S.length;
Mc=null==Mc?Infinity:Mc*Mc;for(ra=0;ra<Hb;++ra){var Va=S[ra];var Bb=Nb-Va.x;var Ib=tc-Va.y;Bb=Bb*Bb+Ib*Ib;if(Bb<Mc){var Eb=Va;Mc=Bb}}return Eb},on:function(Nb,tc){return 1<arguments.length?(Zb.on(Nb,tc),db):Zb.on(Nb)}}}function Rb(S){l.Transform.call(this,null,S)}function Na(S,ia){return()=>S.touch(ia).run()}function U(S,ia){S=vb(S);const Ca=S.stop,Qa=S.restart;let Ra=!1;S.stopped=()=>Ra;S.restart=()=>(Ra=!1,Qa());S.stop=()=>(Ra=!0,Ca());return ea(S,ia,!0).on("end",()=>Ra=!0)}function ea(S,ia,Ca,
Qa){var Ra=ja.array(ia.forces),db;var zb=0;for(db=I.length;zb<db;++zb){var kb=I[zb];if("forces"!==kb&&ia.modified(kb))S[kb](ia[kb])}zb=0;for(db=Ra.length;zb<db;++zb){var Vb="forces"+zb;if(Ca||ia.modified("forces",zb)){kb=void 0;var Y=Ra[zb];ja.hasOwnProperty(E,Y.force)||ja.error("Unrecognized force: "+Y.force);var Ha=E[Y.force]();for(kb in Y)ja.isFunction(Ha[kb])&&Ja(Ha[kb],Y[kb],Y);kb=Ha}else{if(kb=Qa)a:{Ha=kb=void 0;Y=Ra[zb];var Ub=Qa;for(Ha in Y)if(ja.isFunction(kb=Y[Ha])&&Ub.modified(ja.accessorFields(kb))){kb=
1;break a}kb=0}kb=kb?S.force(Vb):null}kb&&S.force(Vb,kb)}for(db=S.numForces||0;zb<db;++zb)S.force("forces"+zb,null);S.numForces=Ra.length;return S}function Ja(S,ia,Ca){S(ja.isFunction(ia)?Qa=>ia(Qa,Ca):ia)}var Z=Db.prototype=yb.prototype;Z.copy=function(){var S=new yb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ia=this._root,Ca,Qa;if(!ia)return S;if(!ia.length)return S._root=wb(ia),S;for(Ca=[{source:ia,target:S._root=Array(4)}];ia=Ca.pop();)for(var Ra=0;4>Ra;++Ra)if(Qa=ia.source[Ra])Qa.length?
Ca.push({source:Qa,target:ia.target[Ra]=Array(4)}):ia.target[Ra]=wb(Qa);return S};Z.add=function(S){const ia=+this._x.call(null,S),Ca=+this._y.call(null,S);return Za(this.cover(ia,Ca),ia,Ca,S)};Z.addAll=function(S){var ia,Ca,Qa=S.length,Ra,db,zb=Array(Qa),kb=Array(Qa),Vb=Infinity,Y=Infinity,Ha=-Infinity,Ub=-Infinity;for(Ca=0;Ca<Qa;++Ca)isNaN(Ra=+this._x.call(null,ia=S[Ca]))||isNaN(db=+this._y.call(null,ia))||(zb[Ca]=Ra,kb[Ca]=db,Ra<Vb&&(Vb=Ra),Ra>Ha&&(Ha=Ra),db<Y&&(Y=db),db>Ub&&(Ub=db));if(Vb>Ha||
Y>Ub)return this;this.cover(Vb,Y).cover(Ha,Ub);for(Ca=0;Ca<Qa;++Ca)Za(this,zb[Ca],kb[Ca],S[Ca]);return this};Z.cover=function(S,ia){if(isNaN(S=+S)||isNaN(ia=+ia))return this;var Ca=this._x0,Qa=this._y0,Ra=this._x1,db=this._y1;if(isNaN(Ca))Ra=(Ca=Math.floor(S))+1,db=(Qa=Math.floor(ia))+1;else{for(var zb=Ra-Ca||1,kb=this._root,Vb,Y;Ca>S||S>=Ra||Qa>ia||ia>=db;)switch(Y=(ia<Qa)<<1|S<Ca,Vb=Array(4),Vb[Y]=kb,kb=Vb,zb*=2,Y){case 0:Ra=Ca+zb;db=Qa+zb;break;case 1:Ca=Ra-zb;db=Qa+zb;break;case 2:Ra=Ca+zb;Qa=
db-zb;break;case 3:Ca=Ra-zb,Qa=db-zb}this._root&&this._root.length&&(this._root=kb)}this._x0=Ca;this._y0=Qa;this._x1=Ra;this._y1=db;return this};Z.data=function(){var S=[];this.visit(function(ia){if(!ia.length){do S.push(ia.data);while(ia=ia.next)}});return S};Z.extent=function(S){return arguments.length?this.cover(+S[0][0],+S[0][1]).cover(+S[1][0],+S[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Z.find=function(S,ia,Ca){var Qa=this._x0,Ra=this._y0,db,zb,kb,Vb,Y=this._x1,
Ha=this._y1,Ub=[],kc=this._root,Zb;kc&&Ub.push(new ub(kc,Qa,Ra,Y,Ha));null==Ca?Ca=Infinity:(Qa=S-Ca,Ra=ia-Ca,Y=S+Ca,Ha=ia+Ca,Ca*=Ca);for(;Zb=Ub.pop();)if(!(!(kc=Zb.node)||(db=Zb.x0)>Y||(zb=Zb.y0)>Ha||(kb=Zb.x1)<Qa||(Vb=Zb.y1)<Ra))if(kc.length){Zb=(db+kb)/2;var Pb=(zb+Vb)/2;Ub.push(new ub(kc[3],Zb,Pb,kb,Vb),new ub(kc[2],db,Pb,Zb,Vb),new ub(kc[1],Zb,zb,kb,Pb),new ub(kc[0],db,zb,Zb,Pb));if(kc=(ia>=Pb)<<1|S>=Zb)Zb=Ub[Ub.length-1],Ub[Ub.length-1]=Ub[Ub.length-1-kc],Ub[Ub.length-1-kc]=Zb}else if(Zb=S-+this._x.call(null,
kc.data),Pb=ia-+this._y.call(null,kc.data),Zb=Zb*Zb+Pb*Pb,Zb<Ca){var Nb=Math.sqrt(Ca=Zb);Qa=S-Nb;Ra=ia-Nb;Y=S+Nb;Ha=ia+Nb;Nb=kc.data}return Nb};Z.remove=function(S){if(isNaN(Vb=+this._x.call(null,S))||isNaN(Y=+this._y.call(null,S)))return this;var ia,Ca=this._root,Qa,Ra=this._x0,db=this._y0,zb=this._x1,kb=this._y1,Vb,Y,Ha,Ub,kc,Zb,Pb;if(!Ca)return this;if(Ca.length)for(;;){(kc=Vb>=(Ha=(Ra+zb)/2))?Ra=Ha:zb=Ha;(Zb=Y>=(Ub=(db+kb)/2))?db=Ub:kb=Ub;if(!(ia=Ca,Ca=Ca[Pb=Zb<<1|kc]))return this;if(!Ca.length)break;
if(ia[Pb+1&3]||ia[Pb+2&3]||ia[Pb+3&3]){var Nb=ia;var tc=Pb}}for(;Ca.data!==S;)if(!(Qa=Ca,Ca=Ca.next))return this;(S=Ca.next)&&delete Ca.next;if(Qa)return S?Qa.next=S:delete Qa.next,this;if(!ia)return this._root=S,this;S?ia[Pb]=S:delete ia[Pb];(Ca=ia[0]||ia[1]||ia[2]||ia[3])&&Ca===(ia[3]||ia[2]||ia[1]||ia[0])&&!Ca.length&&(Nb?Nb[tc]=Ca:this._root=Ca);return this};Z.removeAll=function(S){for(var ia=0,Ca=S.length;ia<Ca;++ia)this.remove(S[ia]);return this};Z.root=function(){return this._root};Z.size=
function(){var S=0;this.visit(function(ia){if(!ia.length){do++S;while(ia=ia.next)}});return S};Z.visit=function(S){var ia=[],Ca,Qa=this._root,Ra,db,zb,kb,Vb;for(Qa&&ia.push(new ub(Qa,this._x0,this._y0,this._x1,this._y1));Ca=ia.pop();)if(!S(Qa=Ca.node,db=Ca.x0,zb=Ca.y0,kb=Ca.x1,Vb=Ca.y1)&&Qa.length){Ca=(db+kb)/2;var Y=(zb+Vb)/2;(Ra=Qa[3])&&ia.push(new ub(Ra,Ca,Y,kb,Vb));(Ra=Qa[2])&&ia.push(new ub(Ra,db,Y,Ca,Vb));(Ra=Qa[1])&&ia.push(new ub(Ra,Ca,zb,kb,Y));(Ra=Qa[0])&&ia.push(new ub(Ra,db,zb,Ca,Y))}return this};
Z.visitAfter=function(S){var ia=[],Ca=[],Qa;for(this._root&&ia.push(new ub(this._root,this._x0,this._y0,this._x1,this._y1));Qa=ia.pop();){var Ra=Qa.node;if(Ra.length){var db,zb=Qa.x0,kb=Qa.y0,Vb=Qa.x1,Y=Qa.y1,Ha=(zb+Vb)/2,Ub=(kb+Y)/2;(db=Ra[0])&&ia.push(new ub(db,zb,kb,Ha,Ub));(db=Ra[1])&&ia.push(new ub(db,Ha,kb,Vb,Ub));(db=Ra[2])&&ia.push(new ub(db,zb,Ub,Ha,Y));(db=Ra[3])&&ia.push(new ub(db,Ha,Ub,Vb,Y))}Ca.push(Qa)}for(;Qa=Ca.pop();)S(Qa.node,Qa.x0,Qa.y0,Qa.x1,Qa.y1);return this};Z.x=function(S){return arguments.length?
(this._x=S,this):this._x};Z.y=function(S){return arguments.length?(this._y=S,this):this._y};var Fa={value:()=>{}};qb.prototype=xb.prototype={constructor:qb,on:function(S,ia){var Ca=this._,Qa=Cb(S+"",Ca),Ra,db=-1,zb=Qa.length;if(2>arguments.length)for(;++db<zb;){var kb;if(kb=Ra=(S=Qa[db]).type){a:{kb=Ca[Ra];for(var Vb=0,Y=kb.length;Vb<Y;++Vb)if((Ra=kb[Vb]).name===S.name){Ra=Ra.value;break a}Ra=void 0}kb=Ra}if(kb)return Ra}else{if(null!=ia&&"function"!==typeof ia)throw Error("invalid callback: "+ia);
for(;++db<zb;)if(Ra=(S=Qa[db]).type)Ca[Ra]=lb(Ca[Ra],S.name,ia);else if(null==ia)for(Ra in Ca)Ca[Ra]=lb(Ca[Ra],S.name,null);return this}},copy:function(){var S={},ia=this._,Ca;for(Ca in ia)S[Ca]=ia[Ca].slice();return new qb(S)},call:function(S,ia){if(0<(Ra=arguments.length-2))for(var Ca=Array(Ra),Qa=0,Ra,db;Qa<Ra;++Qa)Ca[Qa]=arguments[Qa+2];if(!this._.hasOwnProperty(S))throw Error("unknown type: "+S);db=this._[S];Qa=0;for(Ra=db.length;Qa<Ra;++Qa)db[Qa].value.apply(ia,Ca)},apply:function(S,ia,Ca){if(!this._.hasOwnProperty(S))throw Error("unknown type: "+
S);S=this._[S];for(var Qa=0,Ra=S.length;Qa<Ra;++Qa)S[Qa].value.apply(ia,Ca)}};var ma=0,na=0,n=0,F,N,x=0,T=0,B=0,A="object"===typeof performance&&performance.now?performance:Date,Q="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(S){setTimeout(S,17)};ua.prototype=ha.prototype={constructor:ua,restart:function(S,ia,Ca){if("function"!==typeof S)throw new TypeError("callback is not a function");Ca=(null==Ca?T||(Q(mc),T=A.now()+B):+Ca)+(null==ia?
0:+ia);this._next||N===this||(N?N._next=this:F=this,N=this);this._call=S;this._time=Ca;Xa()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Xa())}};var D=Math.PI*(3-Math.sqrt(5));const E={center:function(S,ia){function Ca(){var db,zb=Qa.length,kb=0,Vb=0;for(db=0;db<zb;++db){var Y=Qa[db];kb+=Y.x;Vb+=Y.y}kb=(kb/zb-S)*Ra;Vb=(Vb/zb-ia)*Ra;for(db=0;db<zb;++db)Y=Qa[db],Y.x-=kb,Y.y-=Vb}var Qa,Ra=1;null==S&&(S=0);null==ia&&(ia=0);Ca.initialize=function(db){Qa=db};Ca.x=function(db){return arguments.length?
(S=+db,Ca):S};Ca.y=function(db){return arguments.length?(ia=+db,Ca):ia};Ca.strength=function(db){return arguments.length?(Ra=+db,Ca):Ra};return Ca},collide:function(S){function ia(){function Y(Hb,Va,Bb,Ib,Eb){var Xb=Hb.data;Hb=Hb.r;var jc=tc+Hb;if(Xb)Xb.index>Zb.index&&(Va=Pb-Xb.x-Xb.vx,Bb=Nb-Xb.y-Xb.vy,Ib=Va*Va+Bb*Bb,Ib<jc*jc&&(0===Va&&(Va=1E-6*(zb()-.5),Ib+=Va*Va),0===Bb&&(Bb=1E-6*(zb()-.5),Ib+=Bb*Bb),Ib=(jc-(Ib=Math.sqrt(Ib)))/Ib*kb,Zb.vx+=(Va*=Ib)*(jc=(Hb*=Hb)/(Mc+Hb)),Zb.vy+=(Bb*=Ib)*jc,Xb.vx-=
Va*(jc=1-jc),Xb.vy-=Bb*jc));else return Va>Pb+jc||Ib<Pb-jc||Bb>Nb+jc||Eb<Nb-jc}for(var Ha,Ub=Ra.length,kc,Zb,Pb,Nb,tc,Mc,ra=0;ra<Vb;++ra)for(kc=Db(Ra,Yb,Ba).visitAfter(Ca),Ha=0;Ha<Ub;++Ha)Zb=Ra[Ha],tc=db[Zb.index],Mc=tc*tc,Pb=Zb.x+Zb.vx,Nb=Zb.y+Zb.vy,kc.visit(Y)}function Ca(Y){if(Y.data)return Y.r=db[Y.data.index];for(var Ha=Y.r=0;4>Ha;++Ha)Y[Ha]&&Y[Ha].r>Y.r&&(Y.r=Y[Ha].r)}function Qa(){if(Ra){var Y,Ha=Ra.length;db=Array(Ha);for(Y=0;Y<Ha;++Y){var Ub=Ra[Y];db[Ub.index]=+S(Ub,Y,Ra)}}}var Ra,db,zb,
kb=1,Vb=1;"function"!==typeof S&&(S=Qb(null==S?1:+S));ia.initialize=function(Y,Ha){Ra=Y;zb=Ha;Qa()};ia.iterations=function(Y){return arguments.length?(Vb=+Y,ia):Vb};ia.strength=function(Y){return arguments.length?(kb=+Y,ia):kb};ia.radius=function(Y){return arguments.length?(S="function"===typeof Y?Y:Qb(+Y),Qa(),ia):S};return ia},nbody:function(){function S(Zb){var Pb=Ra.length,Nb=Db(Ra,jb,fb).visitAfter(Ca);kb=Zb;for(Zb=0;Zb<Pb;++Zb)db=Ra[Zb],Nb.visit(Qa)}function ia(){if(Ra){var Zb,Pb=Ra.length;
Y=Array(Pb);for(Zb=0;Zb<Pb;++Zb){var Nb=Ra[Zb];Y[Nb.index]=+Vb(Nb,Zb,Ra)}}}function Ca(Zb){var Pb=0,Nb,tc,Mc=0,ra,Hb,Va;if(Zb.length){for(ra=Hb=Va=0;4>Va;++Va)(Nb=Zb[Va])&&(tc=Math.abs(Nb.value))&&(Pb+=Nb.value,Mc+=tc,ra+=tc*Nb.x,Hb+=tc*Nb.y);Zb.x=ra/Mc;Zb.y=Hb/Mc}else{Nb=Zb;Nb.x=Nb.data.x;Nb.y=Nb.data.y;do Pb+=Y[Nb.data.index];while(Nb=Nb.next)}Zb.value=Pb}function Qa(Zb,Pb,Nb,tc){if(!Zb.value)return!0;Nb=Zb.x-db.x;var Mc=Zb.y-db.y;Pb=tc-Pb;tc=Nb*Nb+Mc*Mc;if(Pb*Pb/kc<tc)return tc<Ub&&(0===Nb&&(Nb=
1E-6*(zb()-.5),tc+=Nb*Nb),0===Mc&&(Mc=1E-6*(zb()-.5),tc+=Mc*Mc),tc<Ha&&(tc=Math.sqrt(Ha*tc)),db.vx+=Nb*Zb.value*kb/tc,db.vy+=Mc*Zb.value*kb/tc),!0;if(!(Zb.length||tc>=Ub)){if(Zb.data!==db||Zb.next)0===Nb&&(Nb=1E-6*(zb()-.5),tc+=Nb*Nb),0===Mc&&(Mc=1E-6*(zb()-.5),tc+=Mc*Mc),tc<Ha&&(tc=Math.sqrt(Ha*tc));do Zb.data!==db&&(Pb=Y[Zb.data.index]*kb/tc,db.vx+=Nb*Pb,db.vy+=Mc*Pb);while(Zb=Zb.next)}}var Ra,db,zb,kb,Vb=Qb(-30),Y,Ha=1,Ub=Infinity,kc=.81;S.initialize=function(Zb,Pb){Ra=Zb;zb=Pb;ia()};S.strength=
function(Zb){return arguments.length?(Vb="function"===typeof Zb?Zb:Qb(+Zb),ia(),S):Vb};S.distanceMin=function(Zb){return arguments.length?(Ha=Zb*Zb,S):Math.sqrt(Ha)};S.distanceMax=function(Zb){return arguments.length?(Ub=Zb*Zb,S):Math.sqrt(Ub)};S.theta=function(Zb){return arguments.length?(kc=Zb*Zb,S):Math.sqrt(kc)};return S},link:function(S){function ia(Nb){for(var tc=0,Mc=S.length;tc<Pb;++tc)for(var ra=0,Hb,Va,Bb,Ib,Eb;ra<Mc;++ra)Hb=S[ra],Va=Hb.source,Hb=Hb.target,Bb=Hb.x+Hb.vx-Va.x-Va.vx||1E-6*
(Zb()-.5),Ib=Hb.y+Hb.vy-Va.y-Va.vy||1E-6*(Zb()-.5),Eb=Math.sqrt(Bb*Bb+Ib*Ib),Eb=(Eb-Y[ra])/Eb*Nb*kb[ra],Bb*=Eb,Ib*=Eb,Hb.vx-=Bb*(Eb=kc[ra]),Hb.vy-=Ib*Eb,Va.vx+=Bb*(Eb=1-Eb),Va.vy+=Ib*Eb}function Ca(){if(Ha){var Nb=Ha.length,tc=S.length,Mc=new Map(Ha.map((Hb,Va)=>[db(Hb,Va,Ha),Hb]));var ra=0;for(Ub=Array(Nb);ra<tc;++ra)Nb=S[ra],Nb.index=ra,"object"!==typeof Nb.source&&(Nb.source=Ab(Mc,Nb.source)),"object"!==typeof Nb.target&&(Nb.target=Ab(Mc,Nb.target)),Ub[Nb.source.index]=(Ub[Nb.source.index]||0)+
1,Ub[Nb.target.index]=(Ub[Nb.target.index]||0)+1;ra=0;for(kc=Array(tc);ra<tc;++ra)Nb=S[ra],kc[ra]=Ub[Nb.source.index]/(Ub[Nb.source.index]+Ub[Nb.target.index]);kb=Array(tc);Qa();Y=Array(tc);Ra()}}function Qa(){if(Ha)for(var Nb=0,tc=S.length;Nb<tc;++Nb)kb[Nb]=+zb(S[Nb],Nb,S)}function Ra(){if(Ha)for(var Nb=0,tc=S.length;Nb<tc;++Nb)Y[Nb]=+Vb(S[Nb],Nb,S)}var db=bb,zb=function(Nb){return 1/Math.min(Ub[Nb.source.index],Ub[Nb.target.index])},kb,Vb=Qb(30),Y,Ha,Ub,kc,Zb,Pb=1;null==S&&(S=[]);ia.initialize=
function(Nb,tc){Ha=Nb;Zb=tc;Ca()};ia.links=function(Nb){return arguments.length?(S=Nb,Ca(),ia):S};ia.id=function(Nb){return arguments.length?(db=Nb,ia):db};ia.iterations=function(Nb){return arguments.length?(Pb=+Nb,ia):Pb};ia.strength=function(Nb){return arguments.length?(zb="function"===typeof Nb?Nb:Qb(+Nb),Qa(),ia):zb};ia.distance=function(Nb){return arguments.length?(Vb="function"===typeof Nb?Nb:Qb(+Nb),Ra(),ia):Vb};return ia},x:function(S){function ia(kb){for(var Vb=0,Y=Ra.length,Ha;Vb<Y;++Vb)Ha=
Ra[Vb],Ha.vx+=(zb[Vb]-Ha.x)*db[Vb]*kb}function Ca(){if(Ra){var kb,Vb=Ra.length;db=Array(Vb);zb=Array(Vb);for(kb=0;kb<Vb;++kb)db[kb]=isNaN(zb[kb]=+S(Ra[kb],kb,Ra))?0:+Qa(Ra[kb],kb,Ra)}}var Qa=Qb(.1),Ra,db,zb;"function"!==typeof S&&(S=Qb(null==S?0:+S));ia.initialize=function(kb){Ra=kb;Ca()};ia.strength=function(kb){return arguments.length?(Qa="function"===typeof kb?kb:Qb(+kb),Ca(),ia):Qa};ia.x=function(kb){return arguments.length?(S="function"===typeof kb?kb:Qb(+kb),Ca(),ia):S};return ia},y:function(S){function ia(kb){for(var Vb=
0,Y=Ra.length,Ha;Vb<Y;++Vb)Ha=Ra[Vb],Ha.vy+=(zb[Vb]-Ha.y)*db[Vb]*kb}function Ca(){if(Ra){var kb,Vb=Ra.length;db=Array(Vb);zb=Array(Vb);for(kb=0;kb<Vb;++kb)db[kb]=isNaN(zb[kb]=+S(Ra[kb],kb,Ra))?0:+Qa(Ra[kb],kb,Ra)}}var Qa=Qb(.1),Ra,db,zb;"function"!==typeof S&&(S=Qb(null==S?0:+S));ia.initialize=function(kb){Ra=kb;Ca()};ia.strength=function(kb){return arguments.length?(Qa="function"===typeof kb?kb:Qb(+kb),Ca(),ia):Qa};ia.y=function(kb){return arguments.length?(S="function"===typeof kb?kb:Qb(+kb),Ca(),
ia):S};return ia}},I=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],X=["static","iterations"],Da=["x","y","vx","vy"];Rb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},
{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",
type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":Da}]};ja.inherits(Rb,
l.Transform,{transform(S,ia){var Ca=this.value,Qa=ia.changed(ia.ADD_REM),Ra=S.modified(I),db=S.iterations||300;Ca?(Qa&&(ia.modifies("index"),Ca.nodes(ia.source)),(Ra||ia.changed(ia.MOD))&&ea(Ca,S,0,ia)):(this.value=Ca=U(ia.source,S),Ca.on("tick",Na(ia.dataflow,this)),S.static||(Qa=!0,Ca.tick()),ia.modifies("index"));if(Ra||Qa||S.modified(X)||ia.changed()&&S.restart)if(Ca.alpha(Math.max(Ca.alpha(),S.alpha||1)).alphaDecay(1-Math.pow(Ca.alphaMin(),1/db)),S.static)for(Ca.stop();0<=--db;)Ca.tick();else if(Ca.stopped()&&
Ca.restart(),!Qa)return ia.StopPropagation;return this.finish(S,ia)},finish(S,ia){const Ca=ia.dataflow;for(let kb=this._argops,Vb=0,Y=kb.length,Ha;Vb<Y;++Vb)if(Ha=kb[Vb],"forces"===Ha.name&&"link"===Ha.op._argval.force)for(var Qa=Ha.op._argops,Ra=0,db=Qa.length,zb;Ra<db;++Ra)if("links"===Qa[Ra].name&&(zb=Qa[Ra].op.source)){Ca.pulse(zb,Ca.changeset().reflow());break}return ia.reflow(S.modified()).modifies(Da)}});u.force=Rb})};
shadow$provide[43]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(32),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega))})(this,function(u,l,ja){function Za(ra,Hb,Va){const Bb={};ra.each(Ib=>{const Eb=Ib.data;Va(Eb)&&(Bb[Hb(Eb)]=Ib)});ra.lookup=Bb;return ra}function ub(ra,Hb){return ra.parent===Hb.parent?1:2}function Wb(ra,Hb){return ra+
Hb.x}function ec(ra,Hb){return Math.max(ra,Hb.y)}function Db(ra){for(var Hb;Hb=ra.children;)ra=Hb[0];return ra}function yb(ra){for(var Hb;Hb=ra.children;)ra=Hb[Hb.length-1];return ra}function wb(ra){var Hb=0,Va=ra.children,Bb=Va&&Va.length;if(Bb)for(;0<=--Bb;)Hb+=Va[Bb].value;else Hb=1;ra.value=Hb}function Qb(ra,Hb){ra instanceof Map?(ra=[void 0,ra],void 0===Hb&&(Hb=Ba)):void 0===Hb&&(Hb=Yb);ra=new xb(ra);for(var Va,Bb=[ra],Ib,Eb,Xb,jc;Va=Bb.pop();)if((Eb=Hb(Va.data))&&(jc=(Eb=Array.from(Eb)).length))for(Va.children=
Eb,Xb=jc-1;0<=Xb;--Xb)Bb.push(Ib=Eb[Xb]=new xb(Eb[Xb])),Ib.parent=Va,Ib.depth=Va.depth+1;return ra.eachBefore(Ab)}function Yb(ra){return ra.children}function Ba(ra){return Array.isArray(ra)?ra[1]:null}function bb(ra){void 0!==ra.data.value&&(ra.value=ra.data.value);ra.data=ra.data.data}function Ab(ra){var Hb=0;do ra.height=Hb;while((ra=ra.parent)&&ra.height<++Hb)}function xb(ra){this.data=ra;this.depth=this.height=0;this.parent=null}function qb(ra){if("function"!==typeof ra)throw Error();return ra}
function Cb(){return 0}function lb(ra){return function(){return ra}}function mc(){let ra=1;return()=>(ra=(1664525*ra+1013904223)%4294967296)/4294967296}function ua(ra,Hb){var Va=ra.r-Hb.r,Bb=Hb.x-ra.x;ra=Hb.y-ra.y;return 0>Va||Va*Va<Bb*Bb+ra*ra}function ha(ra,Hb){var Va=ra.r-Hb.r+1E-9*Math.max(ra.r,Hb.r,1),Bb=Hb.x-ra.x;ra=Hb.y-ra.y;return 0<Va&&Va*Va>Bb*Bb+ra*ra}function xa(ra,Hb){for(var Va=0;Va<Hb.length;++Va)if(!ha(ra,Hb[Va]))return!1;return!0}function Sa(ra,Hb){var Va=ra.x,Bb=ra.y;ra=ra.r;var Ib=
Hb.x,Eb=Hb.y;Hb=Hb.r;var Xb=Ib-Va,jc=Eb-Bb,rc=Hb-ra,ad=Math.sqrt(Xb*Xb+jc*jc);return{x:(Va+Ib+Xb/ad*rc)/2,y:(Bb+Eb+jc/ad*rc)/2,r:(ad+ra+Hb)/2}}function Xa(ra,Hb,Va){var Bb=ra.x,Ib=ra.y;ra=ra.r;var Eb=Hb.x,Xb=Hb.y,jc=Hb.r,rc=Va.x,ad=Va.y,Lc=Va.r;Va=Bb-Eb;Hb=Bb-rc;var oa=Ib-Xb,Ma=Ib-ad,ib=jc-ra,V=Lc-ra,w=Bb*Bb+Ib*Ib-ra*ra;Xb=w-Eb*Eb-Xb*Xb+jc*jc;ad=w-rc*rc-ad*ad+Lc*Lc;rc=Hb*oa-Va*Ma;Eb=(oa*ad-Ma*Xb)/(2*rc)-Bb;oa=(Ma*ib-oa*V)/rc;Ma=(Hb*Xb-Va*ad)/(2*rc)-Ib;Va=(Va*V-Hb*ib)/rc;Hb=oa*oa+Va*Va-1;ib=2*(ra+
Eb*oa+Ma*Va);ra=Eb*Eb+Ma*Ma-ra*ra;ra=-(1E-6<Math.abs(Hb)?(ib+Math.sqrt(ib*ib-4*Hb*ra))/(2*Hb):ra/ib);return{x:Bb+Eb+oa*ra,y:Ib+Ma+Va*ra,r:ra}}function La(ra,Hb,Va){var Bb=ra.x-Hb.x,Ib=ra.y-Hb.y,Eb=Bb*Bb+Ib*Ib;if(Eb){var Xb=Hb.r+Va.r;Xb*=Xb;var jc=ra.r+Va.r;jc*=jc;if(Xb>jc){var rc=(Eb+jc-Xb)/(2*Eb);Xb=Math.sqrt(Math.max(0,jc/Eb-rc*rc));Va.x=ra.x-rc*Bb-Xb*Ib;Va.y=ra.y-rc*Ib+Xb*Bb}else rc=(Eb+Xb-jc)/(2*Eb),Xb=Math.sqrt(Math.max(0,Xb/Eb-rc*rc)),Va.x=Hb.x+rc*Bb-Xb*Ib,Va.y=Hb.y+rc*Ib+Xb*Bb}else Va.x=Hb.x+
Va.r,Va.y=Hb.y}function jb(ra,Hb){var Va=ra.r+Hb.r-1E-6,Bb=Hb.x-ra.x;ra=Hb.y-ra.y;return 0<Va&&Va*Va>Bb*Bb+ra*ra}function fb(ra){var Hb=ra._,Va=ra.next._,Bb=Hb.r+Va.r;ra=(Hb.x*Va.r+Va.x*Hb.r)/Bb;Hb=(Hb.y*Va.r+Va.y*Hb.r)/Bb;return ra*ra+Hb*Hb}function vb(ra){this._=ra;this.previous=this.next=null}function Rb(ra,Hb){if(!(Bb=(ra="object"===typeof ra&&"length"in ra?ra:Array.from(ra)).length))return 0;var Va,Bb;var Ib=ra[0];Ib.x=0;Ib.y=0;if(!(1<Bb))return Ib.r;var Eb=ra[1];Ib.x=-Eb.r;Eb.x=Ib.r;Eb.y=0;
if(!(2<Bb))return Ib.r+Eb.r;La(Eb,Ib,Va=ra[2]);Ib=new vb(Ib);Eb=new vb(Eb);Va=new vb(Va);Ib.next=Va.previous=Eb;Eb.next=Ib.previous=Va;Va.next=Eb.previous=Ib;var Xb=3;a:for(;Xb<Bb;++Xb){La(Ib._,Eb._,Va=ra[Xb]);Va=new vb(Va);var jc=Eb.next;var rc=Ib.previous;var ad=Eb._.r;var Lc=Ib._.r;do if(ad<=Lc){if(jb(jc._,Va._)){Eb=jc;Ib.next=Eb;Eb.previous=Ib;--Xb;continue a}ad+=jc._.r;jc=jc.next}else{if(jb(rc._,Va._)){Ib=rc;Ib.next=Eb;Eb.previous=Ib;--Xb;continue a}Lc+=rc._.r;rc=rc.previous}while(jc!==rc.next);
Va.previous=Ib;Va.next=Eb;Ib.next=Eb.previous=Eb=Va;for(jc=fb(Ib);(Va=Va.next)!==Eb;)(rc=fb(Va))<jc&&(Ib=Va,jc=rc);Eb=Ib.next}Ib=[Eb._];for(Va=Eb;(Va=Va.next)!==Eb;)Ib.push(Va._);Eb=0;Ib=Array.from(Ib);for(Va=Ib.length;Va;)jc=Hb()*Va--|0,Xb=Ib[Va],Ib[Va]=Ib[jc],Ib[jc]=Xb;Ib=(Hb=Ib).length;Va=[];for(var oa;Eb<Ib;)if(Xb=Hb[Eb],oa&&ha(oa,Xb))++Eb;else{a:if(oa=Va,xa(Xb,oa))oa=[Xb];else{for(Va=0;Va<oa.length;++Va)if(ua(Xb,oa[Va])&&xa(Sa(oa[Va],Xb),oa)){oa=[oa[Va],Xb];break a}for(Va=0;Va<oa.length-1;++Va)for(Eb=
Va+1;Eb<oa.length;++Eb)if(ua(Sa(oa[Va],oa[Eb]),Xb)&&ua(Sa(oa[Va],Xb),oa[Eb])&&ua(Sa(oa[Eb],Xb),oa[Va])&&xa(Xa(oa[Va],oa[Eb],Xb),oa)){oa=[oa[Va],oa[Eb],Xb];break a}throw Error();}a:{oa=Va=oa;switch(oa.length){case 1:oa=oa[0];oa={x:oa.x,y:oa.y,r:oa.r};break a;case 2:oa=Sa(oa[0],oa[1]);break a;case 3:oa=Xa(oa[0],oa[1],oa[2]);break a}oa=void 0}Eb=0}Va=oa;for(Xb=0;Xb<Bb;++Xb)Ib=ra[Xb],Ib.x-=Va.x,Ib.y-=Va.y;return Va.r}function Na(ra){return Math.sqrt(ra.value)}function U(ra){return function(Hb){Hb.children||
(Hb.r=Math.max(0,+ra(Hb)||0))}}function ea(ra,Hb,Va){return function(Bb){if(Ib=Bb.children){var Ib,Eb,Xb=Ib.length,jc=ra(Bb)*Hb||0;if(jc)for(Eb=0;Eb<Xb;++Eb)Ib[Eb].r+=jc;var rc=Rb(Ib,Va);if(jc)for(Eb=0;Eb<Xb;++Eb)Ib[Eb].r-=jc;Bb.r=rc+jc}}}function Ja(ra){return function(Hb){var Va=Hb.parent;Hb.r*=ra;Va&&(Hb.x=Va.x+ra*Hb.x,Hb.y=Va.y+ra*Hb.y)}}function Z(ra){ra.x0=Math.round(ra.x0);ra.y0=Math.round(ra.y0);ra.x1=Math.round(ra.x1);ra.y1=Math.round(ra.y1)}function Fa(ra,Hb,Va,Bb,Ib){var Eb=ra.children,
Xb=-1,jc=Eb.length;for(Bb=ra.value&&(Bb-Hb)/ra.value;++Xb<jc;)ra=Eb[Xb],ra.y0=Va,ra.y1=Ib,ra.x0=Hb,ra.x1=Hb+=ra.value*Bb}function ma(ra){return ra.id}function na(ra){return ra.parentId}function n(){function ra(Ib){var Eb=Array.from(Ib),Xb=Hb,jc=Va,rc,ad,Lc=new Map;if(null!=Bb){const da=Eb.map((Ia,Wa)=>{Ia=Bb(Ia,Wa,Ib);Ia=`${Ia}`;Wa=Ia.length;N(Ia,Wa-1)&&!N(Ia,Wa-2)&&(Ia=Ia.slice(0,-1));return"/"===Ia[0]?Ia:`/${Ia}`}),Aa=da.map(F);Xb=(new Set(da)).add("");for(ib of Aa)Xb.has(ib)||(Xb.add(ib),da.push(ib),
Aa.push(F(ib)),Eb.push(Ha));Xb=(Ia,Wa)=>da[Wa];jc=(Ia,Wa)=>Aa[Wa]}var oa=0;for(rc=Eb.length;oa<rc;++oa){var Ma=Eb[oa];var ib=Eb[oa]=new xb(Ma);if(null!=(ad=Xb(Ma,oa,Ib))&&(ad+="")){var V=ib.id=ad;Lc.set(V,Lc.has(V)?Y:ib)}null!=(ad=jc(Ma,oa,Ib))&&(ad+="")&&(ib.parent=ad)}for(oa=0;oa<rc;++oa)if(ib=Eb[oa],ad=ib.parent){Xb=Lc.get(ad);if(!Xb)throw Error("missing: "+ad);if(Xb===Y)throw Error("ambiguous: "+ad);Xb.children?Xb.children.push(ib):Xb.children=[ib];ib.parent=Xb}else{if(w)throw Error("multiple roots");
var w=ib}if(!w)throw Error("no root");if(null!=Bb){for(;w.data===Ha&&1===w.children.length;)w=w.children[0],--rc;for(ad=Eb.length-1;0<=ad;--ad){ib=Eb[ad];if(ib.data!==Ha)break;ib.data=null}}w.parent=Vb;w.eachBefore(function(da){da.depth=da.parent.depth+1;--rc}).eachBefore(Ab);w.parent=null;if(0<rc)throw Error("cycle");return w}var Hb=ma,Va=na,Bb;ra.id=function(Ib){return arguments.length?(Hb=null==Ib?null:qb(Ib),ra):Hb};ra.parentId=function(Ib){return arguments.length?(Va=null==Ib?null:qb(Ib),ra):
Va};ra.path=function(Ib){return arguments.length?(Bb=null==Ib?null:qb(Ib),ra):Bb};return ra}function F(ra){let Hb=ra.length;if(2>Hb)return"";for(;1<--Hb&&!N(ra,Hb););return ra.slice(0,Hb)}function N(ra,Hb){if("/"===ra[Hb]){let Va=0;for(;0<Hb&&"\\"===ra[--Hb];)++Va;if(0===(Va&1))return!0}return!1}function x(ra,Hb){return ra.parent===Hb.parent?1:2}function T(ra){var Hb=ra.children;return Hb?Hb[0]:ra.t}function B(ra){var Hb=ra.children;return Hb?Hb[Hb.length-1]:ra.t}function A(ra,Hb){this._=ra;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Hb}function Q(ra){ra=new A(ra,0);for(var Hb,Va=[ra],Bb,Ib,Eb;Hb=Va.pop();)if(Ib=Hb._.children)for(Hb.children=Array(Bb=Ib.length),Eb=Bb-1;0<=Eb;--Eb)Va.push(Bb=Hb.children[Eb]=new A(Ib[Eb],Eb)),Bb.parent=Hb;(ra.parent=new A(null,0)).children=[ra];return ra}function D(ra,Hb,Va,Bb,Ib){var Eb=ra.children,Xb=-1,jc=Eb.length;for(Ib=ra.value&&(Ib-Va)/ra.value;++Xb<jc;)ra=Eb[Xb],ra.x0=Hb,ra.x1=Bb,ra.y0=Va,ra.y1=Va+=
ra.value*Ib}function E(ra,Hb,Va,Bb,Ib,Eb){for(var Xb=[],jc=Hb.children,rc,ad,Lc=rc=0,oa=jc.length,Ma,ib=Hb.value,V,w,da,Aa,Ia,Wa;rc<oa;){Hb=Ib-Va;Ma=Eb-Bb;do V=jc[Lc++].value;while(!V&&Lc<oa);w=da=V;Wa=Math.max(Ma/Hb,Hb/Ma)/(ib*ra);Aa=V*V*Wa;for(Ia=Math.max(da/Aa,Aa/w);Lc<oa;++Lc){V+=ad=jc[Lc].value;ad<w&&(w=ad);ad>da&&(da=ad);Aa=V*V*Wa;Aa=Math.max(da/Aa,Aa/w);if(Aa>Ia){V-=ad;break}Ia=Aa}Xb.push(rc={value:V,dice:Hb<Ma,children:jc.slice(rc,Lc)});rc.dice?Fa(rc,Va,Bb,Ib,ib?Bb+=Ma*V/ib:Eb):D(rc,Va,Bb,
ib?Va+=Hb*V/ib:Ib,Eb);ib-=V;rc=Lc}return Xb}function I(){function ra(Ma){Ma.x0=Ma.y0=0;Ma.x1=Ib;Ma.y1=Eb;Ma.eachBefore(Hb);Xb=[0];Bb&&Ma.eachBefore(Z);return Ma}function Hb(Ma){var ib=Xb[Ma.depth],V=Ma.x0+ib,w=Ma.y0+ib,da=Ma.x1-ib,Aa=Ma.y1-ib;da<V&&(V=da=(V+da)/2);Aa<w&&(w=Aa=(w+Aa)/2);Ma.x0=V;Ma.y0=w;Ma.x1=da;Ma.y1=Aa;Ma.children&&(ib=Xb[Ma.depth+1]=jc(Ma)/2,V+=oa(Ma)-ib,w+=rc(Ma)-ib,da-=ad(Ma)-ib,Aa-=Lc(Ma)-ib,da<V&&(V=da=(V+da)/2),Aa<w&&(w=Aa=(w+Aa)/2),Va(Ma,V,w,da,Aa))}var Va=kc,Bb=!1,Ib=1,Eb=
1,Xb=[0],jc=Cb,rc=Cb,ad=Cb,Lc=Cb,oa=Cb;ra.round=function(Ma){return arguments.length?(Bb=!!Ma,ra):Bb};ra.size=function(Ma){return arguments.length?(Ib=+Ma[0],Eb=+Ma[1],ra):[Ib,Eb]};ra.tile=function(Ma){return arguments.length?(Va=qb(Ma),ra):Va};ra.padding=function(Ma){return arguments.length?ra.paddingInner(Ma).paddingOuter(Ma):ra.paddingInner()};ra.paddingInner=function(Ma){return arguments.length?(jc="function"===typeof Ma?Ma:lb(+Ma),ra):jc};ra.paddingOuter=function(Ma){return arguments.length?
ra.paddingTop(Ma).paddingRight(Ma).paddingBottom(Ma).paddingLeft(Ma):ra.paddingTop()};ra.paddingTop=function(Ma){return arguments.length?(rc="function"===typeof Ma?Ma:lb(+Ma),ra):rc};ra.paddingRight=function(Ma){return arguments.length?(ad="function"===typeof Ma?Ma:lb(+Ma),ra):ad};ra.paddingBottom=function(Ma){return arguments.length?(Lc="function"===typeof Ma?Ma:lb(+Ma),ra):Lc};ra.paddingLeft=function(Ma){return arguments.length?(oa="function"===typeof Ma?Ma:lb(+Ma),ra):oa};return ra}function X(ra){l.Transform.call(this,
null,ra)}function Da(){function ra(Ib,Eb){if(Eb>=Va.length)return Ib;const Xb=Ib.length,jc=Va[Eb++],rc={},ad={};let Lc=-1,oa,Ma,ib;for(;++Lc<Xb;)oa=jc(Ma=Ib[Lc])+"",(ib=rc[oa])?ib.push(Ma):rc[oa]=[Ma];for(oa in rc)ad[oa]=ra(rc[oa],Eb);return ad}function Hb(Ib,Eb){if(++Eb>Va.length)return Ib;const Xb=[];for(const jc in Ib)Xb.push({key:jc,values:Hb(Ib[jc],Eb)});return Xb}const Va=[],Bb={entries:Ib=>Hb(ra(Ib,0),0),key:Ib=>(Va.push(Ib),Bb)};return Bb}function S(ra){l.Transform.call(this,null,ra)}function ia(ra,
Hb,Va){for(let Bb,Ib=0,Eb=Hb.length;Ib<Eb;++Ib)if(Bb=Hb[Ib],Bb in Va)ra[Bb](Va[Bb])}function Ca(ra){S.call(this,ra)}function Qa(ra){S.call(this,ra)}function Ra(ra){l.Transform.call(this,null,ra)}function db(ra){S.call(this,ra)}function zb(ra){l.Transform.call(this,[],ra)}function kb(ra){S.call(this,ra)}xb.prototype=Qb.prototype={constructor:xb,count:function(){return this.eachAfter(wb)},each:function(ra,Hb){let Va=-1;for(const Bb of this)ra.call(Hb,Bb,++Va,this);return this},eachAfter:function(ra,
Hb){for(var Va,Bb=[this],Ib=[],Eb,Xb,jc=-1;Va=Bb.pop();)if(Ib.push(Va),Va=Va.children)for(Eb=0,Xb=Va.length;Eb<Xb;++Eb)Bb.push(Va[Eb]);for(;Va=Ib.pop();)ra.call(Hb,Va,++jc,this);return this},eachBefore:function(ra,Hb){for(var Va,Bb=[this],Ib,Eb=-1;Va=Bb.pop();)if(ra.call(Hb,Va,++Eb,this),Va=Va.children)for(Ib=Va.length-1;0<=Ib;--Ib)Bb.push(Va[Ib]);return this},find:function(ra,Hb){let Va=-1;for(const Bb of this)if(ra.call(Hb,Bb,++Va,this))return Bb},sum:function(ra){return this.eachAfter(function(Hb){for(var Va=
+ra(Hb.data)||0,Bb=Hb.children,Ib=Bb&&Bb.length;0<=--Ib;)Va+=Bb[Ib].value;Hb.value=Va})},sort:function(ra){return this.eachBefore(function(Hb){Hb.children&&Hb.children.sort(ra)})},path:function(ra){var Hb=this;var Va=Hb;var Bb=ra;if(Va!==Bb){var Ib=Va.ancestors(),Eb=Bb.ancestors(),Xb=null;Va=Ib.pop();for(Bb=Eb.pop();Va===Bb;)Xb=Va,Va=Ib.pop(),Bb=Eb.pop();Va=Xb}for(Bb=[Hb];Hb!==Va;)Hb=Hb.parent,Bb.push(Hb);for(Hb=Bb.length;ra!==Va;)Bb.splice(Hb,0,ra),ra=ra.parent;return Bb},ancestors:function(){for(var ra=
this,Hb=[ra];ra=ra.parent;)Hb.push(ra);return Hb},descendants:function(){return Array.from(this)},leaves:function(){var ra=[];this.eachBefore(function(Hb){Hb.children||ra.push(Hb)});return ra},links:function(){var ra=this,Hb=[];ra.each(function(Va){Va!==ra&&Hb.push({source:Va.parent,target:Va})});return Hb},copy:function(){return Qb(this).eachBefore(bb)},[Symbol.iterator]:function*(){var ra,Hb=[this],Va;do{var Bb=Hb.reverse();for(Hb=[];ra=Bb.pop();)if(yield ra,ra=ra.children){var Ib=0;for(Va=ra.length;Ib<
Va;++Ib)Hb.push(ra[Ib])}}while(Hb.length)}};var Vb={depth:-1},Y={},Ha={};A.prototype=Object.create(xb.prototype);var Ub=(1+Math.sqrt(5))/2,kc=function Va(Hb){function Bb(Ib,Eb,Xb,jc,rc){E(Hb,Ib,Eb,Xb,jc,rc)}Bb.ratio=function(Ib){return Va(1<(Ib=+Ib)?Ib:1)};return Bb}(Ub);Ub=function Bb(Va){function Ib(Eb,Xb,jc,rc,ad){if((Lc=Eb._squarify)&&Lc.ratio===Va)for(var Lc,oa,Ma,ib=-1,V,w=Lc.length,da=Eb.value;++ib<w;){Eb=Lc[ib];oa=Eb.children;Ma=Eb.value=0;for(V=oa.length;Ma<V;++Ma)Eb.value+=oa[Ma].value;
Eb.dice?Fa(Eb,Xb,jc,rc,da?jc+=(ad-jc)*Eb.value/da:ad):D(Eb,Xb,jc,da?Xb+=(rc-Xb)*Eb.value/da:rc,ad);da-=Eb.value}else Eb._squarify=Lc=E(Va,Eb,Xb,jc,rc,ad),Lc.ratio=Va}Ib.ratio=function(Eb){return Bb(1<(Eb=+Eb)?Eb:1)};return Ib}(Ub);X.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Zb=Va=>Va.values;ja.inherits(X,l.Transform,{transform(Va,Bb){Bb.source||ja.error("Nest transform requires an upstream data source.");
var Ib=Va.generate,Eb=Va.modified(),Xb=Bb.clone(),jc=this.value;if(!jc||Eb||Bb.changed())jc&&jc.each(rc=>{rc.children&&l.isTuple(rc.data)&&Xb.rem.push(rc.data)}),this.value=jc=Qb({values:ja.array(Va.keys).reduce((rc,ad)=>{rc.key(ad);return rc},Da()).entries(Xb.source)},Zb),Ib&&jc.each(rc=>{rc.children&&(rc=l.ingest(rc.data),Xb.add.push(rc),Xb.source.push(rc))}),Za(jc,l.tupleid,l.tupleid);Xb.source.root=jc;return Xb}});const Pb=(Va,Bb)=>Va.parent===Bb.parent?1:2;ja.inherits(S,l.Transform,{transform(Va,
Bb){Bb.source&&Bb.source.root||ja.error(this.constructor.name+" transform requires a backing tree data source.");const Ib=this.layout(Va.method),Eb=this.fields,Xb=Bb.source.root,jc=Va.as||Eb;Va.field?Xb.sum(Va.field):Xb.count();Va.sort&&Xb.sort(l.stableCompare(Va.sort,rc=>rc.data));ia(Ib,this.params,Va);Ib.separation&&Ib.separation(!1!==Va.separation?Pb:ja.one);try{this.value=Ib(Xb)}catch(rc){ja.error(rc)}Xb.each(rc=>{const ad=rc.data,Lc=Eb.length-1;for(let oa=0;oa<Lc;++oa)ad[jc[oa]]=rc[Eb[oa]];ad[jc[Lc]]=
rc.children?rc.children.length:0});return Bb.reflow(Va.modified()).modifies(jc).modifies("leaf")}});var Nb=["x","y","r","depth","children"];Ca.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Nb.length,"default":Nb}]};ja.inherits(Ca,S,{layout:function(){function Va(jc){const rc=
mc();jc.x=Ib/2;jc.y=Eb/2;Bb?jc.eachBefore(U(Bb)).eachAfter(ea(Xb,.5,rc)).eachBefore(Ja(1)):jc.eachBefore(U(Na)).eachAfter(ea(Cb,1,rc)).eachAfter(ea(Xb,jc.r/Math.min(Ib,Eb),rc)).eachBefore(Ja(Math.min(Ib,Eb)/(2*jc.r)));return jc}var Bb=null,Ib=1,Eb=1,Xb=Cb;Va.radius=function(jc){return arguments.length?(Bb=null==jc?null:qb(jc),Va):Bb};Va.size=function(jc){return arguments.length?(Ib=+jc[0],Eb=+jc[1],Va):[Ib,Eb]};Va.padding=function(jc){return arguments.length?(Xb="function"===typeof jc?jc:lb(+jc),
Va):Xb};return Va},params:["radius","size","padding"],fields:Nb});Nb="x0 y0 x1 y1 depth children".split(" ");Qa.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Nb.length,"default":Nb}]};ja.inherits(Qa,S,{layout:function(){function Va(rc){var ad=rc.height+
1;rc.x0=rc.y0=Xb;rc.x1=Ib;rc.y1=Eb/ad;rc.eachBefore(Bb(Eb,ad));jc&&rc.eachBefore(Z);return rc}function Bb(rc,ad){return function(Lc){Lc.children&&Fa(Lc,Lc.x0,rc*(Lc.depth+1)/ad,Lc.x1,rc*(Lc.depth+2)/ad);var oa=Lc.x0,Ma=Lc.y0,ib=Lc.x1-Xb,V=Lc.y1-Xb;ib<oa&&(oa=ib=(oa+ib)/2);V<Ma&&(Ma=V=(Ma+V)/2);Lc.x0=oa;Lc.y0=Ma;Lc.x1=ib;Lc.y1=V}}var Ib=1,Eb=1,Xb=0,jc=!1;Va.round=function(rc){return arguments.length?(jc=!!rc,Va):jc};Va.size=function(rc){return arguments.length?(Ib=+rc[0],Eb=+rc[1],Va):[Ib,Eb]};Va.padding=
function(rc){return arguments.length?(Xb=+rc,Va):Xb};return Va},params:["size","round","padding"],fields:Nb});Ra.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ja.inherits(Ra,l.Transform,{transform(Va,Bb){Bb.source||ja.error("Stratify transform requires an upstream data source.");let Ib=this.value;const Eb=Va.modified(),Xb=Bb.fork(Bb.ALL).materialize(Bb.SOURCE);Bb=!Ib||Eb||Bb.changed(Bb.ADD_REM)||Bb.modified(Va.key.fields)||
Bb.modified(Va.parentKey.fields);Xb.source=Xb.source.slice();Bb&&(Ib=Xb.source.length?Za(n().id(Va.key).parentId(Va.parentKey)(Xb.source),Va.key,ja.truthy):Za(n()([{}]),Va.key,Va.key));Xb.source.root=this.value=Ib;return Xb}});const tc={tidy:function(){function Va(Lc){var oa=Q(Lc);oa.eachAfter(Bb);oa.parent.m=-oa.z;oa.eachBefore(Ib);if(ad)Lc.eachBefore(Eb);else{var Ma=Lc,ib=Lc,V=Lc;Lc.eachBefore(function(Ia){Ia.x<Ma.x&&(Ma=Ia);Ia.x>ib.x&&(ib=Ia);Ia.depth>V.depth&&(V=Ia)});oa=Ma===ib?1:Xb(Ma,ib)/2;
var w=oa-Ma.x,da=jc/(ib.x+oa+w),Aa=rc/(V.depth||1);Lc.eachBefore(function(Ia){Ia.x=(Ia.x+w)*da;Ia.y=Ia.depth*Aa})}return Lc}function Bb(Lc){var oa=Lc.children,Ma=Lc.parent.children,ib=Lc.i?Ma[Lc.i-1]:null;if(oa){for(var V=0,w=0,da=Lc.children,Aa=da.length,Ia;0<=--Aa;)Ia=da[Aa],Ia.z+=V,Ia.m+=V,V+=Ia.s+(w+=Ia.c);oa=(oa[0].z+oa[oa.length-1].z)/2;ib?(Lc.z=ib.z+Xb(Lc._,ib._),Lc.m=Lc.z-oa):Lc.z=oa}else ib&&(Lc.z=ib.z+Xb(Lc._,ib._));oa=Lc.parent;Ma=Lc.parent.A||Ma[0];if(ib){w=V=Lc;da=V.parent.children[0];
Aa=V.m;Ia=w.m;for(var Wa=ib.m,ob=da.m,Sb;ib=B(ib),V=T(V),ib&&V;){da=T(da);w=B(w);w.a=Lc;Sb=ib.z+Wa-V.z-Aa+Xb(ib._,V._);if(0<Sb){var Gb=ib.a.parent===Lc.parent?ib.a:Ma,Ob=Lc,vc=Sb,Bc=vc/(Ob.i-Gb.i);Ob.c-=Bc;Ob.s+=vc;Gb.c+=Bc;Ob.z+=vc;Ob.m+=vc;Aa+=Sb;Ia+=Sb}Wa+=ib.m;Aa+=V.m;ob+=da.m;Ia+=w.m}ib&&!B(w)&&(w.t=ib,w.m+=Wa-Ia);V&&!T(da)&&(da.t=V,da.m+=Aa-ob,Ma=Lc)}oa.A=Ma}function Ib(Lc){Lc._.x=Lc.z+Lc.parent.m;Lc.m+=Lc.parent.m}function Eb(Lc){Lc.x*=jc;Lc.y=Lc.depth*rc}var Xb=x,jc=1,rc=1,ad=null;Va.separation=
function(Lc){return arguments.length?(Xb=Lc,Va):Xb};Va.size=function(Lc){return arguments.length?(ad=!1,jc=+Lc[0],rc=+Lc[1],Va):ad?null:[jc,rc]};Va.nodeSize=function(Lc){return arguments.length?(ad=!0,jc=+Lc[0],rc=+Lc[1],Va):ad?[jc,rc]:null};return Va},cluster:function(){function Va(jc){var rc,ad=0;jc.eachAfter(function(V){var w=V.children;if(w){var da=w.reduce(Wb,0)/w.length;V.x=da;V.y=1+w.reduce(ec,0)}else V.x=rc?ad+=Bb(V,rc):0,V.y=0,rc=V});var Lc=Db(jc),oa=yb(jc),Ma=Lc.x-Bb(Lc,oa)/2,ib=oa.x+Bb(oa,
Lc)/2;return jc.eachAfter(Xb?function(V){V.x=(V.x-jc.x)*Ib;V.y=(jc.y-V.y)*Eb}:function(V){V.x=(V.x-Ma)/(ib-Ma)*Ib;V.y=(1-(jc.y?V.y/jc.y:1))*Eb})}var Bb=ub,Ib=1,Eb=1,Xb=!1;Va.separation=function(jc){return arguments.length?(Bb=jc,Va):Bb};Va.size=function(jc){return arguments.length?(Xb=!1,Ib=+jc[0],Eb=+jc[1],Va):Xb?null:[Ib,Eb]};Va.nodeSize=function(jc){return arguments.length?(Xb=!0,Ib=+jc[0],Eb=+jc[1],Va):Xb?[Ib,Eb]:null};return Va}};Nb=["x","y","depth","children"];db.Definition={type:"Tree",metadata:{tree:!0,
modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Nb.length,"default":Nb}]};ja.inherits(db,S,{layout(Va){Va=Va||"tidy";if(ja.hasOwnProperty(tc,Va))return tc[Va]();ja.error("Unrecognized Tree layout method: "+Va)},params:["size",
"nodeSize"],fields:Nb});zb.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ja.inherits(zb,l.Transform,{transform(Va,Bb){Va=this.value;const Ib=Bb.source&&Bb.source.root,Eb=Bb.fork(Bb.NO_SOURCE),Xb={};Ib||ja.error("TreeLinks transform requires a tree data source.");Bb.changed(Bb.ADD_REM)?(Eb.rem=Va,Bb.visit(Bb.SOURCE,jc=>Xb[l.tupleid(jc)]=1),Ib.each(jc=>{const rc=jc.data;(jc=jc.parent&&jc.parent.data)&&Xb[l.tupleid(rc)]&&Xb[l.tupleid(jc)]&&Eb.add.push(l.ingest({source:jc,
target:rc}))}),this.value=Eb.add):Bb.changed(Bb.MOD)&&(Bb.visit(Bb.MOD,jc=>Xb[l.tupleid(jc)]=1),Va.forEach(jc=>{(Xb[l.tupleid(jc.source)]||Xb[l.tupleid(jc.target)])&&Eb.mod.push(jc)}));return Eb}});const Mc={binary:function(Va,Bb,Ib,Eb,Xb){function jc(ib,V,w,da,Aa,Ia,Wa){if(ib>=V-1)ib=rc[ib],ib.x0=da,ib.y0=Aa,ib.x1=Ia,ib.y1=Wa;else{for(var ob=Ma[ib],Sb=w/2+ob,Gb=ib+1,Ob=V-1;Gb<Ob;){var vc=Gb+Ob>>>1;Ma[vc]<Sb?Gb=vc+1:Ob=vc}Sb-Ma[Gb-1]<Ma[Gb]-Sb&&ib+1<Gb&&--Gb;ob=Ma[Gb]-ob;Sb=w-ob;Ia-da>Wa-Aa?(w=w?
(da*Sb+Ia*ob)/w:Ia,jc(ib,Gb,ob,da,Aa,w,Wa),jc(Gb,V,Sb,w,Aa,Ia,Wa)):(w=w?(Aa*Sb+Wa*ob)/w:Wa,jc(ib,Gb,ob,da,Aa,Ia,w),jc(Gb,V,Sb,da,w,Ia,Wa))}}var rc=Va.children,ad,Lc=rc.length,oa,Ma=Array(Lc+1);for(Ma[0]=oa=ad=0;ad<Lc;++ad)Ma[ad+1]=oa+=rc[ad].value;jc(0,Lc,Va.value,Bb,Ib,Eb,Xb)},dice:Fa,slice:D,slicedice:function(Va,Bb,Ib,Eb,Xb){(Va.depth&1?D:Fa)(Va,Bb,Ib,Eb,Xb)},squarify:kc,resquarify:Ub};Ub="x0 y0 x1 y1 depth children".split(" ");kb.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",
type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ub.length,"default":Ub}]};ja.inherits(kb,S,{layout(){const Va=I();Va.ratio=Bb=>{const Ib=Va.tile();Ib.ratio&&Va.tile(Ib.ratio(Bb))};Va.method=Bb=>{ja.hasOwnProperty(Mc,Bb)?Va.tile(Mc[Bb]):ja.error("Unrecognized Treemap layout method: "+Bb)};return Va},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:Ub});u.nest=X;u.pack=Ca;u.partition=Qa;u.stratify=Ra;u.tree=db;u.treelinks=zb;u.treemap=kb})};
shadow$provide[44]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(37),nb(35),nb(32),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,Za,ub){function Wb(Na,U){const ea=Na.bitmap();(U||[]).forEach(Ja=>ea.set(Na(Ja.boundary[0]),Na(Ja.boundary[3])));
return[ea,void 0]}function ec(Na,U,ea,Ja,Z){const Fa=Na.width,ma=Na.height;Ja=Ja||Z;const na=ja.canvas(Fa,ma).getContext("2d");var n=ja.canvas(Fa,ma).getContext("2d"),F=Ja&&ja.canvas(Fa,ma).getContext("2d");ea.forEach(I=>Db(na,I,!1));Db(n,U,!1);Ja&&Db(F,U,!0);U=new Uint32Array(na.getImageData(0,0,Fa,ma).data.buffer);ea=new Uint32Array(n.getImageData(0,0,Fa,ma).data.buffer);F=Ja&&new Uint32Array(F.getImageData(0,0,Fa,ma).data.buffer);n=Na.bitmap();const N=Ja&&Na.bitmap();let x,T;let B,A,Q,D;for(T=
0;T<ma;++T)for(x=0;x<Fa;++x){var E=T*Fa+x;A=U[E]&4278190080;D=ea[E]&4278190080;Q=Ja&&F[E]&4278190080;if(A||Q||D)E=Na(x),B=Na(T),Z||!A&&!D||n.set(E,B),Ja&&(A||Q)&&N.set(E,B)}return[n,N]}function Db(Na,U,ea){if(U.length){var Ja=U[0].mark.marktype;"group"===Ja?U.forEach(Z=>{Z.items.forEach(Fa=>Db(Na,Fa.items,ea))}):l.Marks[Ja].draw(Na,{items:ea?U.map(yb):U})}}function yb(Na){Na=Za.rederive(Na,{});return Na.stroke&&0!==Na.strokeOpacity||Na.fill&&0!==Na.fillOpacity?Object.assign({},Na,{strokeOpacity:1,
stroke:"#000",fillOpacity:0}):Na}function wb(Na,U){const ea=new Uint32Array(~~((Na*U+32)/32));return{array:ea,get:(Ja,Z)=>{Ja=Z*Na+Ja;return ea[Ja>>>5]&1<<(Ja&31)},set:(Ja,Z)=>{Ja=Z*Na+Ja;ea[Ja>>>5]|=1<<(Ja&31)},clear:(Ja,Z)=>{Ja=Z*Na+Ja;ea[Ja>>>5]&=~(1<<(Ja&31))},getRange:(Ja,Z,Fa,ma)=>{let na,n,F;for(;ma>=Z;--ma){var N=ma*Na+Ja;na=ma*Na+Fa;n=N>>>5;F=na>>>5;if(n===F){if(ea[n]&ua[N&31]&ha[(na&31)+1])return!0}else{if(ea[n]&ua[N&31]||ea[F]&ha[(na&31)+1])return!0;for(N=n+1;N<F;++N)if(ea[N])return!0}}return!1},
setRange:(Ja,Z,Fa,ma)=>{let na,n,F;for(;Z<=ma;++Z){var N=Z*Na+Ja;na=Z*Na+Fa;n=N>>>5;F=na>>>5;if(n===F)ea[n]|=ua[N&31]&ha[(na&31)+1];else for(ea[n]|=ua[N&31],ea[F]|=ha[(na&31)+1],N=n+1;N<F;++N)ea[N]|=4294967295}},clearRange:(Ja,Z,Fa,ma)=>{let na,n,F;for(;Z<=ma;++Z){var N=Z*Na+Ja;na=Z*Na+Fa;n=N>>>5;F=na>>>5;if(n===F)ea[n]&=ha[N&31]|ua[(na&31)+1];else for(ea[n]&=ha[N&31],ea[F]&=ua[(na&31)+1],N=n+1;N<F;++N)ea[N]&=0}},outOfBounds:(Ja,Z,Fa,ma)=>0>Ja||0>Z||ma>=U||Fa>=Na}}function Qb(Na,U,ea){const Ja=Math.max(1,
Math.sqrt(Na*U/1E6)),Z=~~((Na+2*ea+Ja)/Ja),Fa=~~((U+2*ea+Ja)/Ja),ma=na=>~~((na+ea)/Ja);ma.invert=na=>na*Ja-ea;ma.bitmap=()=>wb(Z,Fa);ma.ratio=Ja;ma.padding=ea;ma.width=Na;ma.height=U;return ma}function Yb(Na,U,ea,Ja,Z,Fa){ea/=2;return 0>Na-ea||Na+ea>Z||0>U-(ea=Ja/2)||U+ea>Fa}function Ba(Na,U,ea,Ja,Z,Fa,ma,na){Z=Z*Fa/(2*Ja);Ja=Na(U-Z);U=Na(U+Z);Z=Na(ea-(Fa/=2));Na=Na(ea+Fa);return ma.outOfBounds(Ja,Z,U,Na)||ma.getRange(Ja,Z,U,Na)||na&&na.getRange(Ja,Z,U,Na)}function bb(Na,U,ea,Ja){const Z=Na.width,
Fa=Na.height,ma=U[0],na=U[1],n=Ja.length;return function(F){const N=F.boundary,x=F.datum.fontSize;if(0>N[2]||0>N[5]||N[0]>Z||N[3]>Fa)return!1;var T;let B=null!=(T=F.textWidth)?T:0,A;let Q,D;let E;let I;let X,Da;for(let kc=0;kc<n;++kc){T=(ea[kc]&3)-1;A=(ea[kc]>>>2&3)-1;var S=0===T&&0===A||0>Ja[kc];var ia=T&&A?Math.SQRT1_2:1;Q=0>Ja[kc]?-1:1;D=N[1+T]+Ja[kc]*T*ia;I=N[4+A]+Q*x*A/2+Ja[kc]*A*ia;ia=I-x/2;E=I+x/2;var Ca=Na(D);X=Na(ia);Da=Na(E);if(!B){var Qa=Ca;var Ra=X;var db=Da;var zb=ma,kb=na,Vb=S;if(zb.outOfBounds(Qa,
Ra,Ca,db)||(Vb&&kb||zb).getRange(Qa,Ra,Ca,db))continue;else B=l.textMetrics.width(F.datum,F.datum.text)}Ra=D+Q*B*T/2;D=Ra-B/2;Qa=Ra+B/2;Ca=Na(D);db=Na(Qa);zb=Ca;kb=db;Vb=X;var Y=Da,Ha=ma,Ub=na;if(!Ha.outOfBounds(zb,Vb,kb,Y)&&!(S&&Ub||Ha).getRange(zb,Vb,kb,Y))return F.x=T?0>T*Q?Qa:D:Ra,F.y=A?0>A*Q?E:ia:I,F.align=Xa[T*Q+1],F.baseline=La[A*Q+1],ma.setRange(Ca,X,db,Da),!0}return!1}}function Ab(Na,U,ea,Ja,Z,Fa,ma,na,n,F,N){if(!Na.length)return Na;var x=Math.max(Ja.length,Z.length);const T=xb(Ja,x);Z=qb(Z,
x);const B=Cb(Na[0].datum);var A="group"===B&&Na[0].datum.items[n].marktype;x="area"===A;const Q=lb(B,A,na,n),D=null===F||Infinity===F;A=x&&"naive"===N;let E=-1,I=-1;na=Na.map(S=>{const ia=D?l.textMetrics.width(S,S.text):void 0;E=Math.max(E,ia);I=Math.max(I,S.fontSize);return{datum:S,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:Q(S),textWidth:ia}});F=null===F||Infinity===F?Math.max(E,I)+Math.max(...Ja):F;U=Qb(U[0],U[1],F);if(!A){ea&&na.sort((S,ia)=>ea(S.datum,ia.datum));var X=
!1;for(Ja=0;Ja<Z.length&&!X;++Ja)X=5===Z[Ja]||0>T[Ja];Na=(B&&ma||x)&&Na.map(S=>S.datum);X=Fa.length||Na?ec(U,Na||[],Fa,X,x):Wb(U,ma&&na)}const Da=x?fb[N](U,X,ma,n):bb(U,X,Z,T);na.forEach(S=>S.opacity=+Da(S));return na}function xb(Na,U){const ea=new Float64Array(U),Ja=Na.length;for(let Z=0;Z<Ja;++Z)ea[Z]=Na[Z]||0;for(Na=Ja;Na<U;++Na)ea[Na]=ea[Ja-1];return ea}function qb(Na,U){const ea=new Int8Array(U),Ja=Na.length;for(let Z=0;Z<Ja;++Z)ea[Z]|=jb[Na[Z]];for(Na=Ja;Na<U;++Na)ea[Na]=ea[Ja-1];return ea}
function Cb(Na){return Na&&Na.mark&&Na.mark.marktype}function lb(Na,U,ea,Ja){const Z=Fa=>[Fa.x,Fa.x,Fa.x,Fa.y,Fa.y,Fa.y];return Na?"line"===Na||"area"===Na?Fa=>Z(Fa.datum):"line"===U?Fa=>{Fa=Fa.datum.items[Ja].items;return Z(Fa.length?Fa["start"===ea?0:Fa.length-1]:{x:NaN,y:NaN})}:Fa=>{Fa=Fa.datum.bounds;return[Fa.x1,(Fa.x1+Fa.x2)/2,Fa.x2,Fa.y1,(Fa.y1+Fa.y2)/2,Fa.y2]}:Z}function mc(Na){Za.Transform.call(this,null,Na)}const ua=new Uint32Array(33),ha=new Uint32Array(33);ha[0]=0;ua[0]=~ha[0];for(let Na=
1;32>=Na;++Na)ha[Na]=ha[Na-1]<<1|1,ua[Na]=~ha[Na];const xa=[-1,-1,1,1],Sa=[-1,1,-1,1],Xa=["right","center","left"],La=["bottom","middle","top"],jb={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},fb={naive:function(Na,U,ea,Ja){const Z=Na.width,Fa=Na.height;return function(ma){const na=ma.datum.datum.items[Ja].items,n=na.length,F=ma.datum.fontSize,N=l.textMetrics.width(ma.datum,ma.datum.text);let x=0;let T,B,A,Q,D;for(let I=0;I<n;++I){var E=na[I].x;
B=na[I].y;T=void 0===na[I].x2?E:na[I].x2;A=void 0===na[I].y2?B:na[I].y2;Q=(E+T)/2;D=(B+A)/2;E=Math.abs(T-E+A-B);E>=x&&(x=E,ma.x=Q,ma.y=D)}Q=N/2;D=F/2;E=ma.x-Q;T=ma.x+Q;B=ma.y-D;A=ma.y+D;ma.align="center";0>E&&T<=Z?ma.align="left":0<=E&&Z<T&&(ma.align="right");ma.baseline="middle";0>B&&A<=Fa?ma.baseline="top":0<=B&&Fa<A&&(ma.baseline="bottom");return!0}},"reduced-search":function(Na,U,ea,Ja){function Z(F,N,x,T,B){F=Na.invert(F);N=Na.invert(N);let A=x,Q=ma,D;if(!Yb(F,N,T,B,Fa,ma)&&!Ba(Na,F,N,B,T,A,
na,n)&&!Ba(Na,F,N,B,T,B,na,null)){for(;1<=Q-A;)D=(A+Q)/2,Ba(Na,F,N,B,T,D,na,n)?Q=D:A=D;if(A>x)return[F,N,A,!0]}}const Fa=Na.width,ma=Na.height,na=U[0],n=U[1];return function(F){const N=F.datum.datum.items[Ja].items,x=N.length,T=F.datum.fontSize,B=l.textMetrics.width(F.datum,F.datum.text);let A=ea?T:0,Q=!1,D=!1,E=0;let I;let X;let Da,S,ia,Ca,Qa,Ra,db,zb;for(let Ha=0;Ha<x;++Ha){var kb=N[Ha].x;var Vb=N[Ha].y;I=void 0===N[Ha].x2?kb:N[Ha].x2;X=void 0===N[Ha].y2?Vb:N[Ha].y2;if(kb>I){var Y=kb;kb=I;I=Y}Vb>
X&&(Y=Vb,Vb=X,X=Y);S=Na(kb);Ca=Na(I);ia=~~((S+Ca)/2);Qa=Na(Vb);db=Na(X);Ra=~~((Qa+db)/2);for(Y=ia;Y>=S;--Y)for(Da=Ra;Da>=Qa;--Da)(zb=Z(Y,Da,A,B,T))&&([F.x,F.y,A,Q]=zb);for(Y=ia;Y<=Ca;++Y)for(Da=Ra;Da<=db;++Da)(zb=Z(Y,Da,A,B,T))&&([F.x,F.y,A,Q]=zb);Q||ea||(Y=Math.abs(I-kb+X-Vb),kb=(kb+I)/2,Vb=(Vb+X)/2,Y>=E&&!Yb(kb,Vb,B,T,Fa,ma)&&!Ba(Na,kb,Vb,T,B,T,na,null)&&(E=Y,F.x=kb,F.y=Vb,D=!0))}return Q||D?(kb=B/2,Vb=T/2,na.setRange(Na(F.x-kb),Na(F.y-Vb),Na(F.x+kb),Na(F.y+Vb)),F.align="center",F.baseline="middle",
!0):!1}},floodfill:function(Na,U,ea,Ja){const Z=Na.width,Fa=Na.height,ma=U[0],na=U[1],n=Na.bitmap();return function(F){const N=F.datum.datum.items[Ja].items,x=N.length,T=F.datum.fontSize,B=l.textMetrics.width(F.datum,F.datum.text),A=[];let Q=ea?T:0,D=!1,E=!1,I=0,X,Da,S,ia,Ca,Qa;var Ra;for(let kb=0;kb<x;++kb){X=N[kb].x;S=N[kb].y;Da=void 0===N[kb].x2?X:N[kb].x2;ia=void 0===N[kb].y2?S:N[kb].y2;for(A.push([Na((X+Da)/2),Na((S+ia)/2)]);A.length;)if([db,zb]=A.pop(),!(ma.get(db,zb)||na.get(db,zb)||n.get(db,
zb))){n.set(db,zb);for(Ra=0;4>Ra;++Ra)Ca=db+xa[Ra],Qa=zb+Sa[Ra],n.outOfBounds(Ca,Qa,Ca,Qa)||A.push([Ca,Qa]);Ca=Na.invert(db);Qa=Na.invert(zb);var db=Q;var zb=Fa;if(!Yb(Ca,Qa,B,T,Z,Fa)&&!Ba(Na,Ca,Qa,T,B,db,ma,na)&&!Ba(Na,Ca,Qa,T,B,T,ma,null)){for(;1<=zb-db;)Ra=(db+zb)/2,Ba(Na,Ca,Qa,T,B,Ra,ma,na)?zb=Ra:db=Ra;db>Q&&(F.x=Ca,F.y=Qa,Q=db,D=!0)}}D||ea||(db=Math.abs(Da-X+ia-S),Ca=(X+Da)/2,Qa=(S+ia)/2,db>=I&&!Yb(Ca,Qa,B,T,Z,Fa)&&!Ba(Na,Ca,Qa,T,B,T,ma,null)&&(I=db,F.x=Ca,F.y=Qa,E=!0))}return D||E?(Ca=B/2,Qa=
T/2,ma.setRange(Na(F.x-Ca),Na(F.y-Qa),Na(F.x+Ca),Na(F.y+Qa)),F.align="center",F.baseline="middle",!0):!1}}},vb=["x","y","opacity","align","baseline"],Rb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");mc.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Rb},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",
default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:vb.length,default:vb}]};ub.inherits(mc,Za.Transform,{transform(Na,U){function ea(Fa){Fa=Na[Fa];return ub.isFunction(Fa)&&U.modified(Fa.fields)}const Ja=Na.modified();if(Ja||U.changed(U.ADD_REM)||
ea("sort")){Na.size&&2===Na.size.length||ub.error("Size parameter should be specified as a [width, height] array.");var Z=Na.as||vb;Ab(U.materialize(U.SOURCE).source||[],Na.size,Na.sort,ub.array(null==Na.offset?1:Na.offset),ub.array(Na.anchor||Rb),Na.avoidMarks||[],!1!==Na.avoidBaseMark,Na.lineAnchor||"end",Na.markIndex||0,void 0===Na.padding?0:Na.padding,Na.method||"naive").forEach(Fa=>{const ma=Fa.datum;ma[Z[0]]=Fa.x;ma[Z[1]]=Fa.y;ma[Z[2]]=Fa.opacity;ma[Z[3]]=Fa.align;ma[Z[4]]=Fa.baseline});return U.reflow(Ja).modifies(Z)}}});
u.label=mc})};
shadow$provide[45]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(33),nb(32),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega))})(this,function(u,l,ja,Za){function ub(yb,wb){var Qb=[],Yb=function(lb){return lb(xb)},Ba;if(null==wb)Qb.push(yb);else{var bb={};var Ab=0;for(Ba=yb.length;Ab<Ba;++Ab){var xb=yb[Ab];
var qb=wb.map(Yb);var Cb=bb[qb];Cb||(bb[qb]=Cb=[],Cb.dims=qb,Qb.push(Cb));Cb.push(xb)}}return Qb}function Wb(yb){ja.Transform.call(this,null,yb)}function ec(yb){ja.Transform.call(this,null,yb)}Wb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Za.inherits(Wb,ja.Transform,{transform(yb,wb){const Qb=
wb.fork(wb.NO_SOURCE|wb.NO_FIELDS);if(!this.value||wb.changed()||yb.modified()){wb=wb.materialize(wb.SOURCE).source;wb=ub(wb,yb.groupby);const Yb=(yb.groupby||[]).map(Za.accessorName),Ba=Yb.length,bb=yb.as||[Za.accessorName(yb.x),Za.accessorName(yb.y)],Ab=[];wb.forEach(xb=>{l.regressionLoess(xb,yb.x,yb.y,yb.bandwidth||.3).forEach(qb=>{const Cb={};for(let lb=0;lb<Ba;++lb)Cb[Yb[lb]]=xb.dims[lb];Cb[bb[0]]=qb[0];Cb[bb[1]]=qb[1];Ab.push(ja.ingest(Cb))})});this.value&&(Qb.rem=this.value);this.value=Qb.add=
Qb.source=Ab}return Qb}});const Db={constant:l.regressionConstant,linear:l.regressionLinear,log:l.regressionLog,exp:l.regressionExp,pow:l.regressionPow,quad:l.regressionQuad,poly:l.regressionPoly};ec.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Db)},{name:"order",type:"number","default":3},{name:"extent",
type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};Za.inherits(ec,ja.Transform,{transform(yb,wb){const Qb=wb.fork(wb.NO_SOURCE|wb.NO_FIELDS);if(!this.value||wb.changed()||yb.modified()){var Yb=wb.materialize(wb.SOURCE).source;Yb=ub(Yb,yb.groupby);const Ba=(yb.groupby||[]).map(Za.accessorName),bb=yb.method||"linear",Ab=null==yb.order?3:yb.order,xb="poly"===bb?Ab:"quad"===bb?2:1,qb=yb.as||[Za.accessorName(yb.x),Za.accessorName(yb.y)],Cb=
Db[bb],lb=[];let mc=yb.extent;Za.hasOwnProperty(Db,bb)||Za.error("Invalid regression method: "+bb);null!=mc&&"log"===bb&&0>=mc[0]&&(wb.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),mc=null);Yb.forEach(ua=>{if(ua.length<=xb)wb.dataflow.warn("Skipping regression with more parameters than data points.");else{var ha=Cb(ua,yb.x,yb.y,Ab);if(yb.params)lb.push(ja.ingest({keys:ua.dims,coef:ha.coef,rSquared:ha.rSquared}));else{var xa=mc||Za.extent(ua,yb.x),Sa=Xa=>{const La={};
for(let jb=0;jb<Ba.length;++jb)La[Ba[jb]]=ua.dims[jb];La[qb[0]]=Xa[0];La[qb[1]]=Xa[1];lb.push(ja.ingest(La))};"linear"===bb||"constant"===bb?xa.forEach(Xa=>Sa([Xa,ha.predict(Xa)])):l.sampleCurve(ha.predict,xa,25,200).forEach(Sa)}}});this.value&&(Qb.rem=this.value);this.value=Qb.add=Qb.source=lb}return Qb}});u.loess=Wb;u.regression=ec})};
shadow$provide[46]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(32),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega))})(this,function(u,l,ja){function Za(U,ea,Ja,Z,Fa){let ma,na;let n=ea[0],F=Z[0],N=0,x=0;F>n===F>-n?(ma=n,n=ea[++N]):(ma=F,F=Z[++x]);let T=0;if(N<U&&x<Ja){if(F>n===F>-n){na=n+ma;var B=
ma-(na-n);n=ea[++N]}else na=F+ma,B=ma-(na-F),F=Z[++x];ma=na;for(0!==B&&(Fa[T++]=B);N<U&&x<Ja;)F>n===F>-n?(na=ma+n,B=na-ma,B=ma-(na-B)+(n-B),n=ea[++N]):(na=ma+F,B=na-ma,B=ma-(na-B)+(F-B),F=Z[++x]),ma=na,0!==B&&(Fa[T++]=B)}for(;N<U;)na=ma+n,B=na-ma,B=ma-(na-B)+(n-B),n=ea[++N],ma=na,0!==B&&(Fa[T++]=B);for(;x<Ja;)na=ma+F,B=na-ma,B=ma-(na-B)+(F-B),F=Z[++x],ma=na,0!==B&&(Fa[T++]=B);if(0!==ma||0===T)Fa[T++]=ma;return T}function ub(U,ea,Ja,Z,Fa,ma){var na=(ea-ma)*(Ja-Fa),n=(U-Fa)*(Z-ma),F=na-n;if(0===na||
0===n||0<na!==0<n)return F;na=Math.abs(na+n);if(Math.abs(F)>=3.3306690738754716E-16*na)return F;{let D;F=U-Fa;const E=Ja-Fa;n=ea-ma;const I=Z-ma;var N=F*I;var x=134217729*F;var T=x-(x-F);var B=F-T;x=134217729*I;x-=x-I;D=I-x;var A=B*D-(N-T*x-B*x-T*D);var Q=n*E;x=134217729*n;T=x-(x-n);B=n-T;x=134217729*E;x-=x-E;D=E-x;x=B*D-(Q-T*x-B*x-T*D);B=A-x;T=A-B;qb[0]=A-(B+T)+(T-x);A=N+B;T=A-N;N=N-(A-T)+(B-T);B=N-Q;T=N-B;qb[1]=N-(B+T)+(T-Q);Q=A+B;T=Q-A;qb[2]=A-(Q-T)+(B-T);qb[3]=Q;Q=qb[0];for(N=1;4>N;N++)Q+=qb[N];
N=2.2204460492503146E-16*na;Q>=N||-Q>=N?Z=Q:(T=U-F,U=U-(F+T)+(T-Fa),T=Ja-E,Ja=Ja-(E+T)+(T-Fa),T=ea-n,ea=ea-(n+T)+(T-ma),T=Z-I,Z=Z-(I+T)+(T-ma),0===U&&0===ea&&0===Ja&&0===Z?Z=Q:(N=1.1093356479670487E-31*na+3.3306690738754706E-16*Math.abs(Q),Q+=F*Z+I*U-(n*Ja+E*ea),Q>=N||-Q>=N?Z=Q:(N=U*I,x=134217729*U,T=x-(x-U),B=U-T,x=134217729*I,x-=x-I,D=I-x,A=B*D-(N-T*x-B*x-T*D),Q=ea*E,x=134217729*ea,T=x-(x-ea),B=ea-T,x=134217729*E,x-=x-E,D=E-x,x=B*D-(Q-T*x-B*x-T*D),B=A-x,T=A-B,ua[0]=A-(B+T)+(T-x),A=N+B,T=A-N,N=N-
(A-T)+(B-T),B=N-Q,T=N-B,ua[1]=N-(B+T)+(T-Q),Q=A+B,T=Q-A,ua[2]=A-(Q-T)+(B-T),ua[3]=Q,ma=Za(4,qb,4,ua,Cb),N=F*Z,x=134217729*F,T=x-(x-F),B=F-T,x=134217729*Z,x-=x-Z,D=Z-x,A=B*D-(N-T*x-B*x-T*D),Q=n*Ja,x=134217729*n,T=x-(x-n),B=n-T,x=134217729*Ja,x-=x-Ja,D=Ja-x,x=B*D-(Q-T*x-B*x-T*D),B=A-x,T=A-B,ua[0]=A-(B+T)+(T-x),A=N+B,T=A-N,N=N-(A-T)+(B-T),B=N-Q,T=N-B,ua[1]=N-(B+T)+(T-Q),Q=A+B,T=Q-A,ua[2]=A-(Q-T)+(B-T),ua[3]=Q,ma=Za(ma,Cb,4,ua,lb),N=U*Z,x=134217729*U,T=x-(x-U),B=U-T,x=134217729*Z,x-=x-Z,D=Z-x,A=B*D-(N-
T*x-B*x-T*D),Q=ea*Ja,x=134217729*ea,T=x-(x-ea),B=ea-T,x=134217729*Ja,x-=x-Ja,D=Ja-x,x=B*D-(Q-T*x-B*x-T*D),B=A-x,T=A-B,ua[0]=A-(B+T)+(T-x),A=N+B,T=A-N,N=N-(A-T)+(B-T),B=N-Q,T=N-B,ua[1]=N-(B+T)+(T-Q),Q=A+B,T=Q-A,ua[2]=A-(Q-T)+(B-T),ua[3]=Q,Z=Za(ma,lb,4,ua,mc),Z=mc[Z-1])))}return-Z}function Wb(U,ea,Ja,Z){U-=Ja;ea-=Z;return U*U+ea*ea}function ec(U,ea,Ja,Z){if(20>=Z-Ja)for(var Fa=Ja+1;Fa<=Z;Fa++){for(var ma=U[Fa],na=ea[ma],n=Fa-1;n>=Ja&&ea[U[n]]>na;)U[n+1]=U[n--];U[n+1]=ma}else{Fa=Ja+1;ma=Z;Db(U,Ja+Z>>
1,Fa);ea[U[Ja]]>ea[U[Z]]&&Db(U,Ja,Z);ea[U[Fa]]>ea[U[Z]]&&Db(U,Fa,Z);ea[U[Ja]]>ea[U[Fa]]&&Db(U,Ja,Fa);na=U[Fa];for(n=ea[na];;){do Fa++;while(ea[U[Fa]]<n);do ma--;while(ea[U[ma]]>n);if(ma<Fa)break;Db(U,Fa,ma)}U[Ja+1]=U[ma];U[ma]=na;Z-Fa+1>=ma-Ja?(ec(U,ea,Fa,Z),ec(U,ea,Ja,ma-1)):(ec(U,ea,Ja,ma-1),ec(U,ea,Fa,Z))}}function Db(U,ea,Ja){const Z=U[ea];U[ea]=U[Ja];U[Ja]=Z}function yb(U){return U[0]}function wb(U){return U[1]}function Qb(U){return U[0]}function Yb(U){return U[1]}function Ba(U){const {triangles:ea,
coords:Ja}=U;for(U=0;U<ea.length;U+=3){const Z=2*ea[U],Fa=2*ea[U+1],ma=2*ea[U+2];if(1E-10<(Ja[ma]-Ja[Z])*(Ja[Fa+1]-Ja[Z+1])-(Ja[Fa]-Ja[Z])*(Ja[ma+1]-Ja[Z+1]))return!1}return!0}function bb(U,ea,Ja){return[U+Math.sin(U+ea)*Ja,ea+Math.cos(U-ea)*Ja]}function*Ab(U,ea,Ja,Z){let Fa=0;for(const ma of U)yield ea.call(Z,ma,Fa,U),yield Ja.call(Z,ma,Fa,U),++Fa}function xb(U){l.Transform.call(this,null,U)}const qb=new Float64Array(4),Cb=new Float64Array(8),lb=new Float64Array(12),mc=new Float64Array(16),ua=new Float64Array(4),
ha=Math.pow(2,-52),xa=new Uint32Array(512);class Sa{static from(U,ea=yb,Ja=wb){const Z=U.length,Fa=new Float64Array(2*Z);for(let ma=0;ma<Z;ma++){const na=U[ma];Fa[2*ma]=ea(na);Fa[2*ma+1]=Ja(na)}return new Sa(Fa)}constructor(U){const ea=U.length>>1;if(0<ea&&"number"!==typeof U[0])throw Error("Expected coords to contain numbers.");this.coords=U;U=Math.max(2*ea-5,0);this._triangles=new Uint32Array(3*U);this._halfedges=new Int32Array(3*U);this._hashSize=Math.ceil(Math.sqrt(ea));this._hullPrev=new Uint32Array(ea);
this._hullNext=new Uint32Array(ea);this._hullTri=new Uint32Array(ea);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(ea);this._dists=new Float64Array(ea);this.update()}update(){const {coords:U,_hullPrev:ea,_hullNext:Ja,_hullTri:Z,_hullHash:Fa}=this;var ma=U.length>>1,na=Infinity,n=Infinity,F=-Infinity,N=-Infinity;for(var x=0;x<ma;x++){var T=U[2*x];var B=U[2*x+1];T<na&&(na=T);B<n&&(n=B);T>F&&(F=T);B>N&&(N=B);this._ids[x]=x}F=(na+F)/2;n=(n+N)/2;na=Infinity;for(N=0;N<
ma;N++)if(x=Wb(F,n,U[2*N],U[2*N+1]),x<na){var A=N;na=x}n=U[2*A];N=U[2*A+1];na=Infinity;for(F=0;F<ma;F++)if(F!==A&&(x=Wb(n,N,U[2*F],U[2*F+1]),x<na&&0<x)){var Q=F;na=x}na=U[2*Q];F=U[2*Q+1];B=Infinity;for(x=0;x<ma;x++)if(x!==A&&x!==Q){T=na-n;var D=F-N;var E=U[2*x]-n;var I=U[2*x+1]-N,X=T*T+D*D,Da=E*E+I*I,S=.5/(T*I-D*E);D=(I*X-D*Da)*S;T=(T*Da-E*X)*S;T=D*D+T*T;if(T<B){var ia=x;B=T}}x=U[2*ia];T=U[2*ia+1];if(Infinity===B){for(A=0;A<ma;A++)this._dists[A]=U[2*A]-U[0]||U[2*A+1]-U[1];ec(this._ids,this._dists,
0,ma-1);A=new Uint32Array(ma);Q=0;for(let Ca=0,Qa=-Infinity;Ca<ma;Ca++)ia=this._ids[Ca],this._dists[ia]>Qa&&(A[Q++]=ia,Qa=this._dists[ia]);this.hull=A.subarray(0,Q);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>ub(n,N,na,F,x,T)&&(B=Q,E=na,X=F,Q=ia,na=x,F=T,ia=B,x=E,T=X);E=na-n;B=F-N;X=x-n;I=T-N;Da=E*E+B*B;S=X*X+I*I;D=.5/(E*I-B*X);B=n+(I*Da-B*S)*D;E=N+(E*S-X*Da)*D;this._cx=B;this._cy=E;for(X=0;X<ma;X++)this._dists[X]=Wb(U[2*X],U[2*X+1],B,E);ec(this._ids,this._dists,0,ma-
1);this._hullStart=A;ma=3;Ja[A]=ea[ia]=Q;Ja[Q]=ea[A]=ia;Ja[ia]=ea[Q]=A;Z[A]=0;Z[Q]=1;Z[ia]=2;Fa.fill(-1);Fa[this._hashKey(n,N)]=A;Fa[this._hashKey(na,F)]=Q;Fa[this._hashKey(x,T)]=ia;this.trianglesLen=0;this._addTriangle(A,Q,ia,-1,-1,-1);for(let Ca=0,Qa,Ra;Ca<this._ids.length;Ca++){n=this._ids[Ca];N=U[2*n];na=U[2*n+1];if(0<Ca&&Math.abs(N-Qa)<=ha&&Math.abs(na-Ra)<=ha)continue;Qa=N;Ra=na;if(n===A||n===Q||n===ia)continue;F=0;for(let zb=0,kb=this._hashKey(N,na);zb<this._hashSize&&(F=Fa[(kb+zb)%this._hashSize],
-1===F||F===Ja[F]);zb++);x=F=ea[F];let db;for(;db=Ja[x],0<=ub(N,na,U[2*x],U[2*x+1],U[2*db],U[2*db+1]);)if(x=db,x===F){x=-1;break}if(-1!==x){T=this._addTriangle(x,n,Ja[x],-1,-1,Z[x]);Z[n]=this._legalize(T+2);Z[x]=T;ma++;for(B=Ja[x];db=Ja[B],0>ub(N,na,U[2*B],U[2*B+1],U[2*db],U[2*db+1]);)T=this._addTriangle(B,n,db,Z[n],-1,Z[B]),Z[n]=this._legalize(T+2),Ja[B]=B,ma--,B=db;if(x===F)for(;db=ea[x],0>ub(N,na,U[2*db],U[2*db+1],U[2*x],U[2*x+1]);)T=this._addTriangle(db,n,x,-1,Z[x],Z[db]),this._legalize(T+2),
Z[db]=T,Ja[x]=x,ma--,x=db;this._hullStart=ea[n]=x;Ja[x]=ea[B]=n;Ja[n]=B;Fa[this._hashKey(N,na)]=n;Fa[this._hashKey(U[2*x],U[2*x+1])]=x}}this.hull=new Uint32Array(ma);for(let Ca=0,Qa=this._hullStart;Ca<ma;Ca++)this.hull[Ca]=Qa,Qa=Ja[Qa];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(U,ea){var Ja=Math;U-=this._cx;ea-=this._cy;U/=Math.abs(U)+Math.abs(ea);return Ja.floor.call(Ja,(0<ea?3-U:1+U)/4*this._hashSize)%this._hashSize}_legalize(U){const {_triangles:ea,
_halfedges:Ja,coords:Z}=this;let Fa=0;for(var ma;;){const B=Ja[U];var na=U-U%3;ma=na+(U+2)%3;if(-1===B){if(0===Fa)break;U=xa[--Fa];continue}const A=B-B%3,Q=A+(B+2)%3;var n=ea[ma],F=ea[U],N=ea[na+(U+1)%3];na=ea[Q];var x=Z[2*na],T=Z[2*na+1];const D=Z[2*n]-x,E=Z[2*n+1]-T,I=Z[2*F]-x;F=Z[2*F+1]-T;x=Z[2*N]-x;T=Z[2*N+1]-T;N=I*I+F*F;const X=x*x+T*T;if(0>D*(F*X-N*T)-E*(I*X-N*x)+(D*D+E*E)*(I*T-F*x)){ea[U]=na;ea[B]=n;n=Ja[Q];if(-1===n){na=this._hullStart;do{if(this._hullTri[na]===Q){this._hullTri[na]=U;break}na=
this._hullPrev[na]}while(na!==this._hullStart)}this._link(U,n);this._link(B,Ja[ma]);this._link(ma,Q);ma=A+(B+1)%3;Fa<xa.length&&(xa[Fa++]=ma)}else{if(0===Fa)break;U=xa[--Fa]}}return ma}_link(U,ea){this._halfedges[U]=ea;-1!==ea&&(this._halfedges[ea]=U)}_addTriangle(U,ea,Ja,Z,Fa,ma){const na=this.trianglesLen;this._triangles[na]=U;this._triangles[na+1]=ea;this._triangles[na+2]=Ja;this._link(na,Z);this._link(na+1,Fa);this._link(na+2,ma);this.trianglesLen+=3;return na}}class Xa{constructor(){this._x0=
this._y0=this._x1=this._y1=null;this._=""}moveTo(U,ea){this._+=`M${this._x0=this._x1=+U},${this._y0=this._y1=+ea}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(U,ea){this._+=`L${this._x1=+U},${this._y1=+ea}`}arc(U,ea,Ja){U=+U;ea=+ea;Ja=+Ja;const Z=U+Ja,Fa=ea;if(0>Ja)throw Error("negative radius");if(null===this._x1)this._+=`M${Z},${Fa}`;else if(1E-6<Math.abs(this._x1-Z)||1E-6<Math.abs(this._y1-Fa))this._+="L"+Z+","+Fa;Ja&&(this._+=`A${Ja},${Ja},0,1,1,${U-Ja},${ea}A${Ja},${Ja},0,1,1,${this._x1=
Z},${this._y1=Fa}`)}rect(U,ea,Ja,Z){this._+=`M${this._x0=this._x1=+U},${this._y0=this._y1=+ea}h${+Ja}v${+Z}h${-Ja}Z`}value(){return this._||null}}class La{constructor(){this._=[]}moveTo(U,ea){this._.push([U,ea])}closePath(){this._.push(this._[0].slice())}lineTo(U,ea){this._.push([U,ea])}value(){return this._.length?this._:null}}let jb=class{constructor(U,[ea,Ja,Z,Fa]=[0,0,960,500]){if(!((Z=+Z)>=(ea=+ea)&&(Fa=+Fa)>=(Ja=+Ja)))throw Error("invalid bounds");this.delaunay=U;this._circumcenters=new Float64Array(2*
U.points.length);this.vectors=new Float64Array(2*U.points.length);this.xmax=Z;this.xmin=ea;this.ymax=Fa;this.ymin=Ja;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:U,hull:ea,triangles:Ja},vectors:Z}=this;var Fa,ma=this.circumcenters=this._circumcenters.subarray(0,Ja.length/3*2);for(let D=0,E=0,I=Ja.length,X,Da;D<I;D+=3,E+=2){var na=2*Ja[D],n=2*Ja[D+1],F=2*Ja[D+2],N=U[na];na=U[na+1];var x=U[F],T=U[F+1];F=U[n]-N;const S=U[n+1]-na;n=x-N;const ia=
T-na;var B=2*(F*ia-S*n);if(1E-9>Math.abs(B)){if(void 0===A){var A=Fa=0;for(var Q of ea)A+=U[2*Q],Fa+=U[2*Q+1];A/=ea.length;Fa/=ea.length}F=1E9*Math.sign((A-N)*ia-(Fa-na)*n);X=(N+x)/2-F*ia;Da=(na+T)/2+F*n}else x=1/B,T=F*F+S*S,B=n*n+ia*ia,X=N+(ia*T-S*B)*x,Da=na+(F*B-n*T)*x;ma[E]=X;ma[E+1]=Da}A=ea[ea.length-1];ma=4*A;Q=U[2*A];F=U[2*A+1];Z.fill(0);for(n=0;n<ea.length;++n)A=ea[n],Fa=ma,N=Q,na=F,ma=4*A,Q=U[2*A],F=U[2*A+1],Z[Fa+2]=Z[ma]=na-F,Z[Fa+3]=Z[ma+1]=Q-N}render(U){const ea=null==U?U=new Xa:void 0,
{delaunay:{halfedges:Ja,inedges:Z,hull:Fa},circumcenters:ma,vectors:na}=this;if(1>=Fa.length)return null;for(let T=0,B=Ja.length;T<B;++T){var n=Ja[T];if(!(n<T)){var F=2*Math.floor(T/3);n=2*Math.floor(n/3);this._renderSegment(ma[F],ma[F+1],ma[n],ma[n+1],U)}}F=Fa[Fa.length-1];for(n=0;n<Fa.length;++n){var N=F;F=Fa[n];var x=2*Math.floor(Z[F]/3);const T=ma[x];x=ma[x+1];N*=4;(N=this._project(T,x,na[N+2],na[N+3]))&&this._renderSegment(T,x,N[0],N[1],U)}return ea&&ea.value()}renderBounds(U){const ea=null==
U?U=new Xa:void 0;U.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return ea&&ea.value()}renderCell(U,ea){const Ja=null==ea?ea=new Xa:void 0;U=this._clip(U);if(null!==U&&U.length){ea.moveTo(U[0],U[1]);for(var Z=U.length;U[0]===U[Z-2]&&U[1]===U[Z-1]&&1<Z;)Z-=2;for(let Fa=2;Fa<Z;Fa+=2)U[Fa]===U[Fa-2]&&U[Fa+1]===U[Fa-1]||ea.lineTo(U[Fa],U[Fa+1]);ea.closePath();return Ja&&Ja.value()}}*cellPolygons(){var {delaunay:{points:U}}=this;for(let ea=0,Ja=U.length/2;ea<Ja;++ea)if(U=this.cellPolygon(ea))U.index=
ea,yield U}cellPolygon(U){const ea=new La;this.renderCell(U,ea);return ea.value()}_renderSegment(U,ea,Ja,Z,Fa){const ma=this._regioncode(U,ea),na=this._regioncode(Ja,Z);if(0===ma&&0===na)Fa.moveTo(U,ea),Fa.lineTo(Ja,Z);else if(U=this._clipSegment(U,ea,Ja,Z,ma,na))Fa.moveTo(U[0],U[1]),Fa.lineTo(U[2],U[3])}contains(U,ea,Ja){return(ea=+ea,ea!==ea)||(Ja=+Ja,Ja!==Ja)?!1:this.delaunay._step(U,ea,Ja)===U}*neighbors(U){const ea=this._clip(U);if(ea)for(const Ja of this.delaunay.neighbors(U))if(U=this._clip(Ja))a:for(let Z=
0,Fa=ea.length;Z<Fa;Z+=2)for(let ma=0,na=U.length;ma<na;ma+=2)if(ea[Z]===U[ma]&&ea[Z+1]===U[ma+1]&&ea[(Z+2)%Fa]===U[(ma+na-2)%na]&&ea[(Z+3)%Fa]===U[(ma+na-1)%na]){yield Ja;break a}}_cell(U){const {circumcenters:ea,delaunay:{inedges:Ja,halfedges:Z,triangles:Fa}}=this,ma=Ja[U];if(-1===ma)return null;const na=[];let n=ma;do{const F=Math.floor(n/3);na.push(ea[2*F],ea[2*F+1]);n=2===n%3?n-2:n+1;if(Fa[n]!==U)break;n=Z[n]}while(n!==ma&&-1!==n);return na}_clip(U){if(0===U&&1===this.delaunay.hull.length)return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const ea=this._cell(U);if(null===ea)return null;const {vectors:Ja}=this,Z=4*U;return this._simplify(Ja[Z]||Ja[Z+1]?this._clipInfinite(U,ea,Ja[Z],Ja[Z+1],Ja[Z+2],Ja[Z+3]):this._clipFinite(U,ea))}_clipFinite(U,ea){const Ja=ea.length;let Z=null;let Fa=ea[Ja-2],ma=ea[Ja-1];let na=this._regioncode(Fa,ma),n=0;for(let T=0;T<Ja;T+=2){var F=Fa;var N=ma;Fa=ea[T];ma=ea[T+1];var x=na;na=this._regioncode(Fa,ma);if(0===x&&0===na)n=0,Z?Z.push(Fa,
ma):Z=[Fa,ma];else{let B,A;if(0===x){if(null===(F=this._clipSegment(F,N,Fa,ma,x,na)))continue;[N,x,B,A]=F}else{if(null===(F=this._clipSegment(Fa,ma,F,N,na,x)))continue;[B,A,N,x]=F;F=n;n=this._edgecode(N,x);F&&n&&this._edge(U,F,n,Z,Z.length);Z?Z.push(N,x):Z=[N,x]}F=n;n=this._edgecode(B,A);F&&n&&this._edge(U,F,n,Z,Z.length);Z?Z.push(B,A):Z=[B,A]}}if(Z)F=n,n=this._edgecode(Z[0],Z[1]),F&&n&&this._edge(U,F,n,Z,Z.length);else if(this.contains(U,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Z}_clipSegment(U,ea,Ja,Z,Fa,ma){const na=Fa<ma;for(na&&([U,ea,Ja,Z,Fa,ma]=[Ja,Z,U,ea,ma,Fa]);;){if(0===Fa&&0===ma)return na?[Ja,Z,U,ea]:[U,ea,Ja,Z];if(Fa&ma)return null;var n=void 0;let F;n=Fa||ma;n&8?(n=U+(Ja-U)*(this.ymax-ea)/(Z-ea),F=this.ymax):n&4?(n=U+(Ja-U)*(this.ymin-ea)/(Z-ea),F=this.ymin):n&2?(F=ea+(Z-ea)*(this.xmax-U)/(Ja-U),n=this.xmax):(F=ea+(Z-ea)*(this.xmin-U)/(Ja-U),n=this.xmin);Fa?(U=n,ea=F,Fa=this._regioncode(U,
ea)):(Ja=n,Z=F,ma=this._regioncode(Ja,Z))}}_clipInfinite(U,ea,Ja,Z,Fa,ma){ea=Array.from(ea);let na;(na=this._project(ea[0],ea[1],Ja,Z))&&ea.unshift(na[0],na[1]);(na=this._project(ea[ea.length-2],ea[ea.length-1],Fa,ma))&&ea.push(na[0],na[1]);if(ea=this._clipFinite(U,ea))for(let n=0,F=ea.length,N,x=this._edgecode(ea[F-2],ea[F-1]);n<F;n+=2)N=x,x=this._edgecode(ea[n],ea[n+1]),N&&x&&(n=this._edge(U,N,x,ea,n),F=ea.length);else this.contains(U,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(ea=[this.xmin,
this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return ea}_edge(U,ea,Ja,Z,Fa){for(;ea!==Ja;){let ma,na;switch(ea){case 5:ea=4;continue;case 4:ea=6;ma=this.xmax;na=this.ymin;break;case 6:ea=2;continue;case 2:ea=10;ma=this.xmax;na=this.ymax;break;case 10:ea=8;continue;case 8:ea=9;ma=this.xmin;na=this.ymax;break;case 9:ea=1;continue;case 1:ea=5,ma=this.xmin,na=this.ymin}Z[Fa]===ma&&Z[Fa+1]===na||!this.contains(U,ma,na)||(Z.splice(Fa,0,ma,na),Fa+=2)}return Fa}_project(U,ea,Ja,
Z){let Fa=Infinity,ma,na,n;if(0>Z){if(ea<=this.ymin)return null;(ma=(this.ymin-ea)/Z)<Fa&&(n=this.ymin,na=U+(Fa=ma)*Ja)}else if(0<Z){if(ea>=this.ymax)return null;(ma=(this.ymax-ea)/Z)<Fa&&(n=this.ymax,na=U+(Fa=ma)*Ja)}if(0<Ja){if(U>=this.xmax)return null;(ma=(this.xmax-U)/Ja)<Fa&&(na=this.xmax,n=ea+ma*Z)}else if(0>Ja){if(U<=this.xmin)return null;(ma=(this.xmin-U)/Ja)<Fa&&(na=this.xmin,n=ea+ma*Z)}return[na,n]}_edgecode(U,ea){return(U===this.xmin?1:U===this.xmax?2:0)|(ea===this.ymin?4:ea===this.ymax?
8:0)}_regioncode(U,ea){return(U<this.xmin?1:U>this.xmax?2:0)|(ea<this.ymin?4:ea>this.ymax?8:0)}_simplify(U){if(U&&4<U.length){for(let ea=0;ea<U.length;ea+=2){const Ja=(ea+2)%U.length,Z=(ea+4)%U.length;if(U[ea]===U[Ja]&&U[Ja]===U[Z]||U[ea+1]===U[Ja+1]&&U[Ja+1]===U[Z+1])U.splice(Ja,2),ea-=2}U.length||(U=null)}return U}};const fb=2*Math.PI,vb=Math.pow;class Rb{static from(U,ea=Qb,Ja=Yb,Z){if("length"in U){const Fa=U.length,ma=new Float64Array(2*Fa);for(let na=0;na<Fa;++na){const n=U[na];ma[2*na]=ea.call(Z,
n,na,U);ma[2*na+1]=Ja.call(Z,n,na,U)}U=ma}else U=Float64Array.from(Ab(U,ea,Ja,Z));return new Rb(U)}constructor(U){this._delaunator=new Sa(U);this.inedges=new Int32Array(U.length/2);this._hullIndex=new Int32Array(U.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var U=this._delaunator;const ea=this.points;if(U.hull&&2<U.hull.length&&Ba(U)){this.collinear=Int32Array.from({length:ea.length/2},(na,n)=>n).sort((na,n)=>ea[2*
na]-ea[2*n]||ea[2*na+1]-ea[2*n+1]);U=this.collinear[0];var Ja=this.collinear[this.collinear.length-1];U=[ea[2*U],ea[2*U+1],ea[2*Ja],ea[2*Ja+1]];U=1E-8*Math.hypot(U[3]-U[1],U[2]-U[0]);for(let na=0,n=ea.length/2;na<n;++na)Ja=bb(ea[2*na],ea[2*na+1],U),ea[2*na]=Ja[0],ea[2*na+1]=Ja[1];this._delaunator=new Sa(ea)}else delete this.collinear;U=this.halfedges=this._delaunator.halfedges;Ja=this.hull=this._delaunator.hull;const Z=this.triangles=this._delaunator.triangles,Fa=this.inedges.fill(-1),ma=this._hullIndex.fill(-1);
for(let na=0,n=U.length;na<n;++na){const F=Z[2===na%3?na-2:na+1];if(-1===U[na]||-1===Fa[F])Fa[F]=na}for(let na=0,n=Ja.length;na<n;++na)ma[Ja[na]]=na;2>=Ja.length&&0<Ja.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=Ja[0],Fa[Ja[0]]=1,2===Ja.length&&(Fa[Ja[1]]=0,this.triangles[1]=Ja[1],this.triangles[2]=Ja[1]))}voronoi(U){return new jb(this,U)}*neighbors(U){const {inedges:ea,hull:Ja,_hullIndex:Z,halfedges:Fa,triangles:ma,collinear:na}=
this;if(na){var n=na.indexOf(U);0<n&&(yield na[n-1]);n<na.length-1&&(yield na[n+1])}else{var F=ea[U];if(-1!==F){var N=F;do{yield(n=ma[N]);N=2===N%3?N-2:N+1;if(ma[N]!==U)break;N=Fa[N];if(-1===N){U=Ja[(Z[U]+1)%Ja.length];U!==n&&(yield U);break}}while(N!==F)}}}find(U,ea,Ja=0){if((U=+U,U!==U)||(ea=+ea,ea!==ea))return-1;const Z=Ja;let Fa;for(;0<=(Fa=this._step(Ja,U,ea))&&Fa!==Ja&&Fa!==Z;)Ja=Fa;return Fa}_step(U,ea,Ja){const {inedges:Z,hull:Fa,_hullIndex:ma,halfedges:na,triangles:n,points:F}=this;if(-1===
Z[U]||!F.length)return(U+1)%(F.length>>1);let N=U,x=vb(ea-F[2*U],2)+vb(Ja-F[2*U+1],2);const T=Z[U];let B=T;do{let A=n[B];const Q=vb(ea-F[2*A],2)+vb(Ja-F[2*A+1],2);Q<x&&(x=Q,N=A);B=2===B%3?B-2:B+1;if(n[B]!==U)break;B=na[B];if(-1===B){B=Fa[(ma[U]+1)%Fa.length];if(B!==A&&vb(ea-F[2*B],2)+vb(Ja-F[2*B+1],2)<x)return B;break}}while(B!==T);return N}render(U){const ea=null==U?U=new Xa:void 0,{points:Ja,halfedges:Z,triangles:Fa}=this;for(let na=0,n=Z.length;na<n;++na){var ma=Z[na];if(ma<na)continue;const F=
2*Fa[na];ma=2*Fa[ma];U.moveTo(Ja[F],Ja[F+1]);U.lineTo(Ja[ma],Ja[ma+1])}this.renderHull(U);return ea&&ea.value()}renderPoints(U,ea){void 0!==ea||U&&"function"===typeof U.moveTo||(ea=U,U=null);ea=void 0==ea?2:+ea;const Ja=null==U?U=new Xa:void 0,{points:Z}=this;for(let Fa=0,ma=Z.length;Fa<ma;Fa+=2){const na=Z[Fa],n=Z[Fa+1];U.moveTo(na+ea,n);U.arc(na,n,ea,0,fb)}return Ja&&Ja.value()}renderHull(U){const ea=null==U?U=new Xa:void 0,{hull:Ja,points:Z}=this;var Fa=2*Ja[0];const ma=Ja.length;U.moveTo(Z[Fa],
Z[Fa+1]);for(Fa=1;Fa<ma;++Fa){const na=2*Ja[Fa];U.lineTo(Z[na],Z[na+1])}U.closePath();return ea&&ea.value()}hullPolygon(){const U=new La;this.renderHull(U);return U.value()}renderTriangle(U,ea){const Ja=null==ea?ea=new Xa:void 0,{points:Z,triangles:Fa}=this,ma=2*Fa[U*=3],na=2*Fa[U+1];U=2*Fa[U+2];ea.moveTo(Z[ma],Z[ma+1]);ea.lineTo(Z[na],Z[na+1]);ea.lineTo(Z[U],Z[U+1]);ea.closePath();return Ja&&Ja.value()}*trianglePolygons(){const {triangles:U}=this;for(let ea=0,Ja=U.length/3;ea<Ja;++ea)yield this.trianglePolygon(ea)}trianglePolygon(U){const ea=
new La;this.renderTriangle(U,ea);return ea.value()}}xb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const Na=[-1E5,-1E5,1E5,1E5];ja.inherits(xb,l.Transform,{transform(U,ea){const Ja=U.as||"path",Z=ea.source;
if(!Z||!Z.length)return ea;var Fa=U.size;Fa=Fa?[0,0,Fa[0],Fa[1]]:(Fa=U.extent)?[Fa[0][0],Fa[0][1],Fa[1][0],Fa[1][1]]:Na;Fa=this.value=Rb.from(Z,U.x,U.y).voronoi(Fa);for(let n=0,F=Z.length;n<F;++n){var ma=Fa.cellPolygon(n),na=Z[n];if(!ma||2===ma.length&&ma[0][0]===ma[1][0]&&ma[0][1]===ma[1][1])ma=null;else{const N=ma[0][0],x=ma[0][1];let T=ma.length-1;for(;ma[T][0]===N&&ma[T][1]===x;--T);ma="M"+ma.slice(0,T+1).join("L")+"Z"}na[Ja]=ma}return ea.reflow(U.modified()).modifies(Ja)}});u.voronoi=xb})};
shadow$provide[47]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(35),nb(32),nb(24),nb(36),nb(33)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,Za,ub,Wb){function ec(){function Cb(U){U.width=U.height=1;var ea=Math.sqrt(U.getContext("2d").getImageData(0,
0,1,1).data.length>>2);U.width=2048/ea;U.height=2048/ea;U=U.getContext("2d");U.fillStyle=U.strokeStyle="red";U.textAlign="center";return{context:U,ratio:ea}}function lb(U,ea,Ja){for(var Z=ea.x,Fa=ea.y,ma=Math.hypot(mc[0],mc[1]),na=fb(mc),n=.5>Rb()?1:-1,F=-n,N,x;N=na(F+=n);){x=~~N[0];N=~~N[1];if(Math.min(Math.abs(x),Math.abs(N))>=ma)break;ea.x=Z+x;ea.y=Fa+N;if(!(0>ea.x+ea.x0||0>ea.y+ea.y0||ea.x+ea.x1>mc[0]||ea.y+ea.y1>mc[1])){if(!(x=!Ja)){a:{x=mc[0];x>>=5;N=ea.sprite;var T=ea.width>>5;var B=ea.x-(T<<
4);for(var A=B&127,Q=32-A,D=ea.y1-ea.y0,E=(ea.y+ea.y0)*x+(B>>5),I=0;I<D;I++){for(var X=B=0;X<=T;X++)if((B<<Q|(X<T?(B=N[I*T+X])>>>A:0))&U[E+X]){x=!0;break a}E+=x}x=!1}x=!x}if(x&&(!Ja||ea.x+ea.x1>Ja[0].x&&ea.x+ea.x0<Ja[1].x&&ea.y+ea.y1>Ja[0].y&&ea.y+ea.y0<Ja[1].y)){Ja=ea.sprite;Z=ea.width>>5;Fa=mc[0]>>5;F=ea.x-(Z<<4);ma=F&127;na=32-ma;n=ea.y1-ea.y0;F=(ea.y+ea.y0)*Fa+(F>>5);for(N=0;N<n;N++){for(T=x=0;T<=Z;T++)U[F+T]=U[F+T]|x<<na|(T<Z?(x=Ja[N*Z+T])>>>ma:0);F+=Fa}ea.sprite=null;return!0}}}return!1}var mc=
[256,256],ua,ha,xa,Sa,Xa,La,jb,fb=wb,vb=[],Rb=Math.random,Na={layout:function(){for(var U=Cb(l.canvas()),ea=Qb((mc[0]>>5)*mc[1]),Ja=null,Z=vb.length,Fa=-1,ma=[],na=vb.map(F=>({text:ua(F),font:ha(F),style:Sa(F),weight:Xa(F),rotate:La(F),size:~~(xa(F)+1E-14),padding:jb(F),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:F})).sort((F,N)=>N.size-F.size);++Fa<Z;){var n=na[Fa];n.x=mc[0]*(Rb()+.5)>>1;n.y=mc[1]*(Rb()+.5)>>1;Db(U,n,na,Fa);n.hasText&&lb(ea,n,Ja)&&(ma.push(n),Ja?yb(Ja,n):Ja=[{x:n.x+
n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=mc[0]>>1,n.y-=mc[1]>>1)}return ma},words:function(U){return arguments.length?(vb=U,Na):vb},size:function(U){return arguments.length?(mc=[+U[0],+U[1]],Na):mc},font:function(U){return arguments.length?(ha=Yb(U),Na):ha},fontStyle:function(U){return arguments.length?(Sa=Yb(U),Na):Sa},fontWeight:function(U){return arguments.length?(Xa=Yb(U),Na):Xa},rotate:function(U){return arguments.length?(La=Yb(U),Na):La},text:function(U){return arguments.length?(ua=Yb(U),
Na):ua},spiral:function(U){return arguments.length?(fb=Ab[U]||U,Na):fb},fontSize:function(U){return arguments.length?(xa=Yb(U),Na):xa},padding:function(U){return arguments.length?(jb=Yb(U),Na):jb},random:function(U){return arguments.length?(Rb=U,Na):Rb}};return Na}function Db(Cb,lb,mc,ua){if(!lb.sprite){var ha=Cb.context,xa=Cb.ratio;ha.clearRect(0,0,2048/xa,2048/xa);var Sa=Cb=0,Xa=0,La=mc.length;for(--ua;++ua<La;){lb=mc[ua];ha.save();ha.font=lb.style+" "+lb.weight+" "+~~((lb.size+1)/xa)+"px "+lb.font;
var jb=ha.measureText(lb.text+"m").width*xa;var fb=lb.size<<1;if(lb.rotate){var vb=Math.sin(lb.rotate*bb),Rb=Math.cos(lb.rotate*bb),Na=jb*Rb,U=jb*vb;Rb*=fb;jb=fb*vb;jb=Math.max(Math.abs(Na+jb),Math.abs(Na-jb))+31>>5<<5;fb=~~Math.max(Math.abs(U+Rb),Math.abs(U-Rb))}else jb=jb+31>>5<<5;fb>Xa&&(Xa=fb);2048<=Cb+jb&&(Cb=0,Sa+=Xa,Xa=0);if(2048<=Sa+fb)break;ha.translate((Cb+(jb>>1))/xa,(Sa+(fb>>1))/xa);lb.rotate&&ha.rotate(lb.rotate*bb);ha.fillText(lb.text,0,0);lb.padding&&(ha.lineWidth=2*lb.padding,ha.strokeText(lb.text,
0,0));ha.restore();lb.width=jb;lb.height=fb;lb.xoff=Cb;lb.yoff=Sa;lb.x1=jb>>1;lb.y1=fb>>1;lb.x0=-lb.x1;lb.y0=-lb.y1;lb.hasText=!0;Cb+=jb}La=ha.getImageData(0,0,2048/xa,2048/xa).data;for(Na=[];0<=--ua;)if(lb=mc[ua],lb.hasText){jb=lb.width;ha=jb>>5;fb=lb.y1-lb.y0;for(xa=0;xa<fb*ha;xa++)Na[xa]=0;Cb=lb.xoff;if(null==Cb)break;Sa=lb.yoff;U=0;vb=-1;for(Xa=0;Xa<fb;Xa++){for(xa=0;xa<jb;xa++)Rb=La[2048*(Sa+Xa)+(Cb+xa)<<2]?1<<31-xa%32:0,Na[ha*Xa+(xa>>5)]|=Rb,U|=Rb;U?vb=Xa:(lb.y0++,fb--,Xa--,Sa++)}lb.y1=lb.y0+
vb;lb.sprite=Na.slice(0,(lb.y1-lb.y0)*ha)}}}function yb(Cb,lb){var mc=Cb[0];Cb=Cb[1];lb.x+lb.x0<mc.x&&(mc.x=lb.x+lb.x0);lb.y+lb.y0<mc.y&&(mc.y=lb.y+lb.y0);lb.x+lb.x1>Cb.x&&(Cb.x=lb.x+lb.x1);lb.y+lb.y1>Cb.y&&(Cb.y=lb.y+lb.y1)}function wb(Cb){var lb=Cb[0]/Cb[1];return function(mc){return[lb*(mc*=.1)*Math.cos(mc),mc*Math.sin(mc)]}}function Qb(Cb){for(var lb=[],mc=-1;++mc<Cb;)lb[mc]=0;return lb}function Yb(Cb){return"function"===typeof Cb?Cb:function(){return Cb}}function Ba(Cb){ja.Transform.call(this,
ec(),Cb)}var bb=Math.PI/180,Ab={archimedean:wb,rectangular:function(Cb){var lb=4*Cb[0]/Cb[1],mc=0,ua=0;return function(ha){var xa=0>ha?-1:1;switch(Math.sqrt(1+4*xa*ha)-xa&3){case 0:mc+=lb;break;case 1:ua+=4;break;case 2:mc-=lb;break;default:ua-=4}return[mc,ua]}}};const xb="x y font fontSize fontStyle fontWeight angle".split(" "),qb="text font rotate fontSize fontStyle fontWeight".split(" ");Ba.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},
{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",
array:!0,length:7,"default":xb}]};Za.inherits(Ba,ja.Transform,{transform(Cb,lb){function mc(jb){jb=Cb[jb];return Za.isFunction(jb)&&lb.modified(jb.fields)}!Cb.size||Cb.size[0]&&Cb.size[1]||Za.error("Wordcloud size dimensions must be non-zero.");const ua=Cb.modified();if(ua||lb.changed(lb.ADD_REM)||qb.some(mc)){var ha=lb.materialize(lb.SOURCE).source,xa=this.value,Sa=Cb.as||xb,Xa=Cb.fontSize||14,La;Za.isFunction(Xa)?La=Cb.fontSizeRange:Xa=Za.constant(Xa);if(La){const jb=Xa,fb=ub.scale("sqrt")().domain(Za.extent(ha,
jb)).range(La);Xa=vb=>fb(jb(vb))}ha.forEach(jb=>{jb[Sa[0]]=NaN;jb[Sa[1]]=NaN;jb[Sa[3]]=0});ha=xa.words(ha).text(Cb.text).size(Cb.size||[500,500]).padding(Cb.padding||1).spiral(Cb.spiral||"archimedean").rotate(Cb.rotate||0).font(Cb.font||"sans-serif").fontStyle(Cb.fontStyle||"normal").fontWeight(Cb.fontWeight||"normal").fontSize(Xa).random(Wb.random).layout();Xa=xa.size();xa=Xa[0]>>1;Xa=Xa[1]>>1;La=ha.length;for(let jb=0,fb,vb;jb<La;++jb)fb=ha[jb],vb=fb.datum,vb[Sa[0]]=fb.x+xa,vb[Sa[1]]=fb.y+Xa,vb[Sa[2]]=
fb.font,vb[Sa[3]]=fb.size,vb[Sa[4]]=fb.style,vb[Sa[5]]=fb.weight,vb[Sa[6]]=fb.rotate;return lb.reflow(ua).modifies(Sa)}}});u.wordcloud=Ba})};
shadow$provide[48]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(32),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega))})(this,function(u,l,ja){function Za(){let ha=8,xa=[],Sa=new Uint32Array(0),Xa=ub(0,ha),La=ub(0,ha);return{data:()=>xa,seen:()=>{var jb=Sa;var fb=xa.length;jb.length>=fb||(fb=new jb.constructor(fb),
fb.set(jb),jb=fb);return Sa=jb},add(jb){for(let fb=0,vb=xa.length,Rb=jb.length,Na;fb<Rb;++fb)Na=jb[fb],Na._index=vb++,xa.push(Na)},remove(jb,fb){const vb=xa.length;jb=Array(vb-jb);const Rb=xa;let Na,U,ea;for(U=0;!fb[U]&&U<vb;++U)jb[U]=xa[U],Rb[U]=U;for(ea=U;U<vb;++U)Na=xa[U],fb[U]?Rb[U]=-1:(Rb[U]=ea,Xa[ea]=Xa[U],La[ea]=La[U],jb[ea]=Na,Na._index=ea++),Xa[U]=0;xa=jb;return Rb},size:()=>xa.length,curr:()=>Xa,prev:()=>La,reset:jb=>La[jb]=Xa[jb],all:()=>257>ha?255:65537>ha?65535:4294967295,set(jb,fb){Xa[jb]|=
fb},clear(jb,fb){Xa[jb]&=~fb},resize(jb,fb){if(jb>Xa.length||fb>ha)ha=Math.max(fb,ha),Xa=ub(jb,ha,Xa),La=ub(jb,ha)}}}function ub(ha,xa,Sa){ha=(257>xa?xb:65537>xa?qb:Cb)(ha);Sa&&ha.set(Sa);return ha}function Wb(ha,xa,Sa){const Xa=1<<xa;return{one:Xa,zero:~Xa,range:Sa.slice(),bisect:ha.bisect,index:ha.index,size:ha.size,onAdd(La,jb){var fb=this.bisect(this.range,La.value);La=La.index;const vb=fb[0];fb=fb[1];const Rb=La.length;let Na;for(Na=0;Na<vb;++Na)jb[La[Na]]|=Xa;for(Na=fb;Na<Rb;++Na)jb[La[Na]]|=
Xa;return this}}}function ec(ha,xa){return null==ha||null==xa?NaN:ha<xa?-1:ha>xa?1:ha>=xa?0:NaN}function Db(ha,xa){return null==ha||null==xa?NaN:xa<ha?-1:xa>ha?1:xa>=ha?0:NaN}function yb(ha){function xa(jb,fb,vb=0,Rb=jb.length){if(vb<Rb){if(0!==Sa(fb,fb))return Rb;do{const Na=vb+Rb>>>1;0>Xa(jb[Na],fb)?vb=Na+1:Rb=Na}while(vb<Rb)}return vb}let Sa,Xa,La;2!==ha.length?(Sa=ec,Xa=(jb,fb)=>ec(ha(jb),fb),La=(jb,fb)=>ha(jb)-fb):(Sa=ha===ec||ha===Db?ha:wb,La=Xa=ha);return{left:xa,center:function(jb,fb,vb=0,
Rb=jb.length){Rb=xa(jb,fb,vb,Rb-1);return Rb>vb&&La(jb[Rb-1],fb)>-La(jb[Rb],fb)?Rb-1:Rb},right:function(jb,fb,vb=0,Rb=jb.length){if(vb<Rb){if(0!==Sa(fb,fb))return Rb;do{const Na=vb+Rb>>>1;0>=Xa(jb[Na],fb)?vb=Na+1:Rb=Na}while(vb<Rb)}return vb}}}function wb(){return 0}function Qb(ha,xa){return Array.from(xa,Sa=>ha[Sa])}function Yb(){let ha=new Uint32Array(0),xa=[],Sa=0;return{insert:function(Xa,La,jb){if(!La.length)return[];const fb=Sa,vb=La.length,Rb=new Uint32Array(vb);let Na=Array(vb);var U;for(U=
0;U<vb;++U)Na[U]=Xa(La[U]),Rb[U]=U;Na=Ba(Na,Rb);if(fb){Xa=xa;La=ha;xa=Array(fb+vb);ha=new Uint32Array(fb+vb);U=Na;var ea=xa,Ja=ha;let Z=0,Fa=0,ma;for(ma=0;Z<fb&&Fa<vb;++ma)Xa[Z]<U[Fa]?(ea[ma]=Xa[Z],Ja[ma]=La[Z++]):(ea[ma]=U[Fa],Ja[ma]=Rb[Fa++]+jb);for(;Z<fb;++Z,++ma)ea[ma]=Xa[Z],Ja[ma]=La[Z];for(;Fa<vb;++Fa,++ma)ea[ma]=U[Fa],Ja[ma]=Rb[Fa]+jb}else{if(0<jb)for(U=0;U<vb;++U)Rb[U]+=jb;xa=Na;ha=Rb}Sa=fb+vb;return{index:Rb,value:Na}},remove:function(Xa,La){const jb=Sa;let fb,vb,Rb;for(vb=0;!La[ha[vb]]&&
vb<jb;++vb);for(Rb=vb;vb<jb;++vb)La[fb=ha[vb]]||(ha[Rb]=fb,xa[Rb]=xa[vb],++Rb);Sa=jb-Xa},bisect:function(Xa,La){let jb;La?jb=La.length:(La=xa,jb=Sa);return[ua(La,Xa[0],0,jb),mc(La,Xa[1],0,jb)]},reindex:function(Xa){for(let La=0,jb=Sa;La<jb;++La)ha[La]=Xa[ha[La]]},index:()=>ha,size:()=>Sa}}function Ba(ha,xa){ha.sort.call(xa,(Sa,Xa)=>{Sa=ha[Sa];Xa=ha[Xa];return Sa<Xa?-1:Sa>Xa?1:0});return Qb(ha,xa)}function bb(ha){l.Transform.call(this,Za(),ha);this._dims=this._indices=null}function Ab(ha){l.Transform.call(this,
null,ha)}const xb=ha=>new Uint8Array(ha),qb=ha=>new Uint16Array(ha),Cb=ha=>new Uint32Array(ha),lb=yb(ec),mc=lb.right,ua=lb.left;yb(function(ha){return null===ha?NaN:+ha}).center;bb.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ja.inherits(bb,l.Transform,{transform(ha,xa){return this._dims?ha.modified("fields")||ha.fields.some(Sa=>xa.modified(Sa.fields))?
this.reinit(ha,xa):this.eval(ha,xa):this.init(ha,xa)},init(ha,xa){const Sa=ha.fields,Xa=ha.query,La=this._indices={},jb=this._dims=[],fb=Xa.length;let vb=0;for(var Rb;vb<fb;++vb)Rb=Sa[vb].fname,Rb=La[Rb]||(La[Rb]=Yb()),jb.push(Wb(Rb,vb,Xa[vb]));return this.eval(ha,xa)},reinit(ha,xa){const Sa=xa.materialize().fork(),Xa=ha.fields,La=ha.query,jb=this._indices,fb=this._dims,vb=this.value,Rb=vb.curr(),Na=vb.prev(),U=vb.all(),ea=Sa.rem=Sa.add,Ja=Sa.mod,Z=La.length,Fa={};let ma;var na;let n,F,N,x;Na.set(Rb);
xa.rem.length&&(n=this.remove(ha,xa,Sa));xa.add.length&&vb.add(xa.add);if(xa.mod.length){F={};var T=xa.mod;N=0;for(na=T.length;N<na;++N)F[T[N]._index]=1}for(N=0;N<Z;++N)if(x=Xa[N],!fb[N]||ha.modified("fields",N)||xa.modified(x.fields))na=x.fname,(T=Fa[na])||(jb[na]=ma=Yb(),Fa[na]=T=ma.insert(x,xa.source,0)),fb[N]=Wb(ma,N,La[N]).onAdd(T,Rb);N=0;for(na=vb.data().length;N<na;++N)n[N]||(Na[N]!==Rb[N]?ea.push(N):F[N]&&Rb[N]!==U&&Ja.push(N));vb.mask=(1<<Z)-1;return Sa},eval(ha,xa){const Sa=xa.materialize().fork(),
Xa=this._dims.length;let La=0;xa.rem.length&&(this.remove(ha,xa,Sa),La|=(1<<Xa)-1);ha.modified("query")&&!ha.modified("fields")&&(La|=this.update(ha,xa,Sa));xa.add.length&&(this.insert(ha,xa,Sa),La|=(1<<Xa)-1);xa.mod.length&&(this.modify(xa,Sa),La|=(1<<Xa)-1);this.value.mask=La;return Sa},insert(ha,xa,Sa){xa=xa.add;var Xa=this.value;const La=this._dims,jb=this._indices;ha=ha.fields;const fb={};Sa=Sa.add;const vb=Xa.size()+xa.length,Rb=La.length;let Na=Xa.size();Xa.resize(vb,Rb);Xa.add(xa);const U=
Xa.curr(),ea=Xa.prev(),Ja=Xa.all();for(Xa=0;Xa<Rb;++Xa){var Z=ha[Xa].fname;Z=fb[Z]||(fb[Z]=jb[Z].insert(ha[Xa],xa,Na));La[Xa].onAdd(Z,U)}for(;Na<vb;++Na)ea[Na]=Ja,U[Na]!==Ja&&Sa.push(Na)},modify(ha,xa){xa=xa.mod;var Sa=this.value;const Xa=Sa.curr();Sa=Sa.all();ha=ha.mod;let La,jb,fb;La=0;for(jb=ha.length;La<jb;++La)fb=ha[La]._index,Xa[fb]!==Sa&&xa.push(fb)},remove(ha,xa,Sa){ha=this._indices;var Xa=this.value;const La=Xa.curr(),jb=Xa.prev();Xa=Xa.all();const fb={};Sa=Sa.rem;const vb=xa.rem;let Rb,
Na,U,ea;Rb=0;for(Na=vb.length;Rb<Na;++Rb)U=vb[Rb]._index,fb[U]=1,jb[U]=ea=La[U],La[U]=Xa,ea!==Xa&&Sa.push(U);for(U in ha)ha[U].remove(Na,fb);this.reindex(xa,Na,fb);return fb},reindex(ha,xa,Sa){const Xa=this._indices,La=this.value;ha.runAfter(()=>{const jb=La.remove(xa,Sa);for(const fb in Xa)Xa[fb].reindex(jb)})},update(ha,xa,Sa){const Xa=this._dims,La=ha.query;xa=xa.stamp;const jb=Xa.length;let fb=0,vb,Rb;for(Rb=Sa.filters=0;Rb<jb;++Rb)ha.modified("query",Rb)&&(vb=Rb,++fb);if(1===fb)fb=Xa[vb].one,
this.incrementOne(Xa[vb],La[vb],Sa.add,Sa.rem);else for(fb=Rb=0;Rb<jb;++Rb)ha.modified("query",Rb)&&(fb|=Xa[Rb].one,this.incrementAll(Xa[Rb],La[Rb],xa,Sa.add),Sa.rem=Sa.add);return fb},incrementAll(ha,xa,Sa,Xa){var La=this.value;const jb=La.seen(),fb=La.curr();La=La.prev();const vb=ha.index();var Rb=ha.bisect(ha.range),Na=ha.bisect(xa);const U=Na[0];Na=Na[1];const ea=Rb[0];Rb=Rb[1];const Ja=ha.one;let Z,Fa,ma;if(U<ea)for(Z=U,Fa=Math.min(ea,Na);Z<Fa;++Z)ma=vb[Z],jb[ma]!==Sa&&(La[ma]=fb[ma],jb[ma]=
Sa,Xa.push(ma)),fb[ma]^=Ja;else if(U>ea)for(Z=ea,Fa=Math.min(U,Rb);Z<Fa;++Z)ma=vb[Z],jb[ma]!==Sa&&(La[ma]=fb[ma],jb[ma]=Sa,Xa.push(ma)),fb[ma]^=Ja;if(Na>Rb)for(Z=Math.max(U,Rb),Fa=Na;Z<Fa;++Z)ma=vb[Z],jb[ma]!==Sa&&(La[ma]=fb[ma],jb[ma]=Sa,Xa.push(ma)),fb[ma]^=Ja;else if(Na<Rb)for(Z=Math.max(ea,Na),Fa=Rb;Z<Fa;++Z)ma=vb[Z],jb[ma]!==Sa&&(La[ma]=fb[ma],jb[ma]=Sa,Xa.push(ma)),fb[ma]^=Ja;ha.range=xa.slice()},incrementOne(ha,xa,Sa,Xa){const La=this.value.curr(),jb=ha.index();var fb=ha.bisect(ha.range),vb=
ha.bisect(xa);const Rb=vb[0];vb=vb[1];const Na=fb[0];fb=fb[1];const U=ha.one;let ea,Ja,Z;if(Rb<Na)for(ea=Rb,Ja=Math.min(Na,vb);ea<Ja;++ea)Z=jb[ea],La[Z]^=U,Sa.push(Z);else if(Rb>Na)for(ea=Na,Ja=Math.min(Rb,fb);ea<Ja;++ea)Z=jb[ea],La[Z]^=U,Xa.push(Z);if(vb>fb)for(ea=Math.max(Rb,fb),Ja=vb;ea<Ja;++ea)Z=jb[ea],La[Z]^=U,Sa.push(Z);else if(vb<fb)for(ea=Math.max(Na,vb),Ja=fb;ea<Ja;++ea)Z=jb[ea],La[Z]^=U,Xa.push(Z);ha.range=xa.slice()}});Ab.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",
type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ja.inherits(Ab,l.Transform,{transform(ha,xa){const Sa=~(ha.ignore||0);ha=ha.filter;const Xa=ha.mask;if(0===(Xa&Sa))return xa.StopPropagation;xa=xa.fork(xa.ALL);const La=ha.data(),jb=ha.curr(),fb=ha.prev(),vb=Rb=>jb[Rb]&Sa?null:La[Rb];xa.filter(xa.MOD,vb);Xa&Xa-1?(xa.filter(xa.ADD,Rb=>{const Na=jb[Rb]&
Sa;return!Na&&Na^fb[Rb]&Sa?La[Rb]:null}),xa.filter(xa.REM,Rb=>{const Na=jb[Rb]&Sa;return!Na||Na^Na^fb[Rb]&Sa?null:La[Rb]})):(xa.filter(xa.ADD,vb),xa.filter(xa.REM,Rb=>(jb[Rb]&Sa)===Xa?La[Rb]:null));return xa.filter(xa.SOURCE,Rb=>vb(Rb._index))}});u.crossfilter=bb;u.resolvefilter=Ab})};
shadow$provide[49]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega))})(this,function(u,l){function ja(D){this.type=D}function Za(D){switch(D.type){case "ArrayExpression":return D.elements;case "BinaryExpression":case "LogicalExpression":return[D.left,D.right];case "CallExpression":return[D.callee].concat(D.arguments);
case "ConditionalExpression":return[D.test,D.consequent,D.alternate];case "MemberExpression":return[D.object,D.property];case "ObjectExpression":return D.properties;case "Property":return[D.key,D.value];case "UnaryExpression":return[D.argument];default:return[]}}function ub(D,E){if(!D)throw Error("ASSERT: "+E);}function Wb(D){return 48<=D&&57>=D}function ec(D){return"0123456789abcdefABCDEF".includes(D)}function Db(D){return"01234567".includes(D)}function yb(D){return 10===D||13===D||8232===D||8233===
D}function wb(D){return 36===D||95===D||65<=D&&90>=D||97<=D&&122>=D||92===D||128<=D&&x.test(String.fromCharCode(D))}function Qb(D){return 36===D||95===D||65<=D&&90>=D||97<=D&&122>=D||48<=D&&57>=D||92===D||128<=D&&T.test(String.fromCharCode(D))}function Yb(){for(;n<F;){const D=na.charCodeAt(n);if(32===D||9===D||11===D||12===D||160===D||5760<=D&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(D)||yb(D))++n;else break}}function Ba(D){var E=0;var I="u"===
D?4:2;for(D=0;D<I;++D)if(n<F&&ec(na[n])){var X=na[n++];E=16*E+"0123456789abcdef".indexOf(X.toLowerCase())}else La({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(E)}function bb(){var D=na.charCodeAt(n++);var E=String.fromCharCode(D);92===D&&(117!==na.charCodeAt(n)&&La({},"Unexpected token %0","ILLEGAL"),++n,(D=Ba("u"))&&"\\"!==D&&wb(D.charCodeAt(0))||La({},"Unexpected token %0","ILLEGAL"),E=D);for(;n<F;){D=na.charCodeAt(n);if(!Qb(D))break;++n;E+=String.fromCharCode(D);92===D&&(E=E.substr(0,
E.length-1),117!==na.charCodeAt(n)&&La({},"Unexpected token %0","ILLEGAL"),++n,(D=Ba("u"))&&"\\"!==D&&Qb(D.charCodeAt(0))||La({},"Unexpected token %0","ILLEGAL"),E+=D)}return E}function Ab(){var D=n,E=na.charCodeAt(n),I=na[n];switch(E){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++n,{type:7,value:String.fromCharCode(E),start:D,end:n};default:var X=na.charCodeAt(n+1);if(61===X)switch(E){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return n+=
2,{type:7,value:String.fromCharCode(E)+String.fromCharCode(X),start:D,end:n};case 33:case 61:return n+=2,61===na.charCodeAt(n)&&++n,{type:7,value:na.slice(D,n),start:D,end:n}}}E=na.substr(n,4);if("\x3e\x3e\x3e\x3d"===E)return n+=4,{type:7,value:E,start:D,end:n};E=E.substr(0,3);if("\x3e\x3e\x3e"===E||"\x3c\x3c\x3d"===E||"\x3e\x3e\x3d"===E)return n+=3,{type:7,value:E,start:D,end:n};E=E.substr(0,2);if(I===E[1]&&"+-\x3c\x3e\x26|".includes(I)||"\x3d\x3e"===E)return n+=2,{type:7,value:E,start:D,end:n};
"//"===E&&La({},"Unexpected token %0","ILLEGAL");if("\x3c\x3e\x3d!+-*%\x26|^/".includes(I))return++n,{type:7,value:I,start:D,end:n};La({},"Unexpected token %0","ILLEGAL")}function xb(){var D=na[n];ub(Wb(D.charCodeAt(0))||"."===D,"Numeric literal must start with a decimal digit or a decimal point");var E=n;var I="";if("."!==D){I=na[n++];D=na[n];if("0"===I){if("x"===D||"X"===D){++n;for(I="";n<F&&ec(na[n]);)I+=na[n++];0===I.length&&La({},"Unexpected token %0","ILLEGAL");wb(na.charCodeAt(n))&&La({},"Unexpected token %0",
"ILLEGAL");return{type:6,value:parseInt("0x"+I,16),start:E,end:n}}if(Db(D)){for(I="0"+na[n++];n<F&&Db(na[n]);)I+=na[n++];(wb(na.charCodeAt(n))||Wb(na.charCodeAt(n)))&&La({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(I,8),octal:!0,start:E,end:n}}D&&Wb(D.charCodeAt(0))&&La({},"Unexpected token %0","ILLEGAL")}for(;Wb(na.charCodeAt(n));)I+=na[n++];D=na[n]}if("."===D){for(I+=na[n++];Wb(na.charCodeAt(n));)I+=na[n++];D=na[n]}if("e"===D||"E"===D){I+=na[n++];D=na[n];if("+"===D||"-"===D)I+=
na[n++];if(Wb(na.charCodeAt(n)))for(;Wb(na.charCodeAt(n));)I+=na[n++];else La({},"Unexpected token %0","ILLEGAL")}wb(na.charCodeAt(n))&&La({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(I),start:E,end:n}}function qb(D,E){let I=D;E.includes("u")&&(I=I.replace(/\\u\{([0-9a-fA-F]+)\}/g,(X,Da)=>{if(1114111>=parseInt(Da,16))return"x";La({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(I)}catch(X){La({},"Invalid regular expression")}try{return new RegExp(D,
E)}catch(X){return null}}function Cb(){Yb();if(n>=F)return{type:2,start:n,end:n};var D=na.charCodeAt(n);if(wb(D)){D=n;if(92===na.charCodeAt(n))var E=bb();else a:{for(E=n++;n<F;){var I=na.charCodeAt(n);if(92===I){n=E;E=bb();break a}if(Qb(I))++n;else break}E=na.slice(E,n)}return{type:1===E.length?3:B.hasOwnProperty(E)?4:"null"===E?5:"true"===E||"false"===E?1:3,value:E,start:D,end:n}}if(40===D||41===D||59===D)return Ab();if(39===D||34===D){var X="";I=!1;D=na[n];ub("'"===D||'"'===D,"String literal must starts with a quote");
E=n;for(++n;n<F;){var Da=na[n++];if(Da===D){D="";break}else if("\\"===Da)if((Da=na[n++])&&yb(Da.charCodeAt(0)))"\r"===Da&&"\n"===na[n]&&++n;else switch(Da){case "u":case "x":if("{"===na[n]){++n;var S=na[n];Da=0;for("}"===S&&La({},"Unexpected token %0","ILLEGAL");n<F;){S=na[n++];if(!ec(S))break;Da=16*Da+"0123456789abcdef".indexOf(S.toLowerCase())}(1114111<Da||"}"!==S)&&La({},"Unexpected token %0","ILLEGAL");Da=65535>=Da?String.fromCharCode(Da):String.fromCharCode((Da-65536>>10)+55296,(Da-65536&1023)+
56320);X+=Da}else X+=Ba(Da);break;case "n":X+="\n";break;case "r":X+="\r";break;case "t":X+="\t";break;case "b":X+="\b";break;case "f":X+="\f";break;case "v":X+="\v";break;default:Db(Da)?(S="01234567".indexOf(Da),0!==S&&(I=!0),n<F&&Db(na[n])&&(I=!0,S=8*S+"01234567".indexOf(na[n++]),"0123".includes(Da)&&n<F&&Db(na[n])&&(S=8*S+"01234567".indexOf(na[n++]))),X+=String.fromCharCode(S)):X+=Da}else if(yb(Da.charCodeAt(0)))break;else X+=Da}""!==D&&La({},"Unexpected token %0","ILLEGAL");return{type:8,value:X,
octal:I,start:E,end:n}}return 46===D?Wb(na.charCodeAt(n+1))?xb():Ab():Wb(D)?xb():Ab()}function lb(){const D=N;n=D.end;N=Cb();n=D.end;return D}function mc(){const D=n;N=Cb();n=D}function ua(D,E,I){const X=new ja("||"===D||"\x26\x26"===D?"LogicalExpression":"BinaryExpression");X.operator=D;X.left=E;X.right=I;return X}function ha(D){const E=new ja("Identifier");E.name=D;return E}function xa(D){const E=new ja("Literal");E.value=D.value;E.raw=na.slice(D.start,D.end);D.regex&&("//"===E.raw&&(E.raw="/(?:)/"),
E.regex=D.regex);return E}function Sa(D,E,I){const X=new ja("MemberExpression");X.computed="["===D;X.object=E;X.property=I;X.computed||(I.member=!0);return X}function Xa(D,E,I){const X=new ja("Property");X.key=E;X.value=I;X.kind=D;return X}function La(D,E){var I=Array.prototype.slice.call(arguments,2),X=E.replace(/%(\d)/g,(S,ia)=>{ub(ia<I.length,"Message reference must be in range");return I[ia]});var Da=Error(X);Da.index=n;Da.description=X;throw Da;}function jb(D){2===D.type&&La(D,"Unexpected end of input");
6===D.type&&La(D,"Unexpected number");8===D.type&&La(D,"Unexpected string");3===D.type&&La(D,"Unexpected identifier");4===D.type&&La(D,"Unexpected reserved word");La(D,"Unexpected token %0",D.value)}function fb(D){const E=lb();7===E.type&&E.value===D||jb(E)}function vb(D){return 7===N.type&&N.value===D}function Rb(){n=N.start;const D=lb();return 8===D.type||6===D.type?(D.octal&&La(D,"Octal literals are not allowed in strict mode."),xa(D)):ha(D.value)}function Na(){if(vb("(")){fb("(");var D=Fa();fb(")");
return D}if(vb("[")){D=[];n=N.start;for(fb("[");!vb("]");)vb(",")?(lb(),D.push(null)):(D.push(Z()),vb("]")||fb(","));lb();var E=new ja("ArrayExpression");E.elements=D;return E}if(vb("{")){D=[];E={};var I=String;n=N.start;for(fb("{");!vb("}");){n=N.start;var X=N;if(3===X.type){var Da=Rb();fb(":");X=Z();X=Xa("init",Da,X)}else 2===X.type||7===X.type?(jb(X),X=void 0):(Da=Rb(),fb(":"),X=Z(),X=Xa("init",Da,X));Da="Identifier"===X.key.type?X.key.name:I(X.key.value);Da="$"+Da;Object.prototype.hasOwnProperty.call(E,
Da)?La({},"Duplicate data property in object literal not allowed in strict mode"):E[Da]=!0;D.push(X);vb("}")||fb(",")}fb("}");E=new ja("ObjectExpression");E.properties=D;return E}D=N.type;n=N.start;if(3===D||A[N.value])E=ha(lb().value);else if(8===D||6===D)N.octal&&La(N,"Octal literals are not allowed in strict mode."),E=xa(lb());else{if(4===D)throw Error("Disabled.");if(1===D)D=lb(),D.value="true"===D.value,E=xa(D);else if(5===D)D=lb(),D.value=null,E=xa(D);else if(vb("/")||vb("/\x3d")){var S;N=null;
Yb();D=n;E=na[n];ub("/"===E,"Regular expression literal must start with a slash");I=na[n++];for(Da=X=!1;n<F;)if(E=na[n++],I+=E,"\\"===E)E=na[n++],yb(E.charCodeAt(0))&&La({},"Invalid regular expression: missing /"),I+=E;else if(yb(E.charCodeAt(0)))La({},"Invalid regular expression: missing /");else if(X)"]"===E&&(X=!1);else if("/"===E){Da=!0;break}else"["===E&&(X=!0);Da||La({},"Invalid regular expression: missing /");E=I.substr(1,I.length-2);for(S=Da="";n<F;){X=na[n];if(!Qb(X.charCodeAt(0)))break;
++n;"\\"===X&&n<F?La({},"Unexpected token %0","ILLEGAL"):(S+=X,Da+=X)}0<=S.search(/[^gimuy]/g)&&La({},"Invalid regular expression",S);X=S;S=qb(E,X);E=xa({literal:I+Da,value:S,regex:{pattern:E,flags:X},start:D,end:n});mc()}else jb(lb())}return E}function U(){var D;for(D=Na();;)if(vb(".")){fb(".");n=N.start;var E=lb();3===E.type||4===E.type||1===E.type||5===E.type||jb(E);E=ha(E.value);D=Sa(".",D,E)}else if(vb("(")){E=[];fb("(");if(!vb(")"))for(;n<F;){E.push(Z());if(vb(")"))break;fb(",")}fb(")");const I=
new ja("CallExpression");I.callee=D;I.arguments=E;D=I}else if(vb("["))fb("["),E=Fa(),fb("]"),D=Sa("[",D,E);else break;if(7===N.type&&(vb("++")||vb("--")))throw Error("Disabled.");return D}function ea(){if(7!==N.type&&4!==N.type)var D=U();else{if(vb("++")||vb("--"))throw Error("Disabled.");if(vb("+")||vb("-")||vb("~")||vb("!")){var E=lb();D=ea();E=E.value;const I=new ja("UnaryExpression");I.operator=E;I.argument=D;I.prefix=!0;D=I}else{if(4===N.type&&"delete"===N.value||4===N.type&&"void"===N.value||
4===N.type&&"typeof"===N.value)throw Error("Disabled.");D=U()}}return D}function Ja(D){let E=0;if(7!==D.type&&4!==D.type)return 0;switch(D.value){case "||":E=1;break;case "\x26\x26":E=2;break;case "|":E=3;break;case "^":E=4;break;case "\x26":E=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":E=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":E=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":E=8;break;case "+":case "-":E=
9;break;case "*":case "/":case "%":E=11}return E}function Z(){var D=N;var E=ea();var I=N;var X=Ja(I);if(0===X)var Da=E;else{I.prec=X;lb();D=[D,N];var S=ea();for(Da=[E,I,S];0<(X=Ja(N));){for(;2<Da.length&&X<=Da[Da.length-2].prec;)S=Da.pop(),I=Da.pop().value,E=Da.pop(),D.pop(),E=ua(I,E,S),Da.push(E);I=lb();I.prec=X;Da.push(I);D.push(N);E=ea();Da.push(E)}X=Da.length-1;E=Da[X];for(D.pop();1<X;)D.pop(),E=ua(Da[X-1].value,Da[X-2],E),X-=2;Da=E}vb("?")&&(lb(),D=Z(),fb(":"),X=Z(),E=new ja("ConditionalExpression"),
E.test=Da,E.consequent=D,E.alternate=X,Da=E);return Da}function Fa(){const D=Z();if(vb(","))throw Error("Disabled.");return D}function ma(D){function E(I,X,Da){return S=>{let ia=D(S[0]);X&&(ia=X+"("+ia+")",0===X.lastIndexOf("new ",0)&&(ia="("+ia+")"));return ia+"."+I+(0>Da?"":0===Da?"()":"("+S.slice(1).map(D).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(I){3>I.length&&l.error("Missing arguments to clamp function.");3<I.length&&l.error("Too many arguments to clamp function.");I=I.map(D);return"Math.max("+I[1]+", Math.min("+I[2]+","+I[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:E("getDate","new Date",0),day:E("getDay","new Date",0),
year:E("getFullYear","new Date",0),month:E("getMonth","new Date",0),hours:E("getHours","new Date",0),minutes:E("getMinutes","new Date",0),seconds:E("getSeconds","new Date",0),milliseconds:E("getMilliseconds","new Date",0),time:E("getTime","new Date",0),timezoneoffset:E("getTimezoneOffset","new Date",0),utcdate:E("getUTCDate","new Date",0),utcday:E("getUTCDay","new Date",0),utcyear:E("getUTCFullYear","new Date",0),utcmonth:E("getUTCMonth","new Date",0),utchours:E("getUTCHours","new Date",0),utcminutes:E("getUTCMinutes",
"new Date",0),utcseconds:E("getUTCSeconds","new Date",0),utcmilliseconds:E("getUTCMilliseconds","new Date",0),length:E("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:E("toUpperCase","String",0),lower:E("toLowerCase","String",0),substring:E("substring","String"),split:E("split","String"),trim:E("trim","String",0),btoa:"btoa",atob:"atob",regexp:"RegExp",test:E("test","RegExp"),if:function(I){3>I.length&&l.error("Missing arguments to if function.");3<I.length&&l.error("Too many arguments to if function.");
I=I.map(D);return"("+I[0]+"?"+I[1]+":"+I[2]+")"}}}ja.prototype.visit=function(D){let E,I,X;if(D(this))return 1;E=Za(this);I=0;for(X=E.length;I<X;++I)if(E[I].visit(D))return 1};var na,n,F,N,x=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
T=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const B={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},A={"if":1};var Q={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};u.ASTNode=ja;u.ArrayExpression="ArrayExpression";u.BinaryExpression="BinaryExpression";u.CallExpression="CallExpression";u.ConditionalExpression="ConditionalExpression";u.Identifier="Identifier";u.Literal="Literal";u.LogicalExpression="LogicalExpression";u.MemberExpression="MemberExpression";u.ObjectExpression="ObjectExpression";u.Property="Property";
u.RawCode="RawCode";u.UnaryExpression="UnaryExpression";u.codegenExpression=function(D){function E(Y){if(l.isString(Y))return Y;const Ha=Vb[Y.type];null==Ha&&l.error("Unsupported type: "+Y.type);return Ha(Y)}function I(Y){Y={code:E(Y),globals:Object.keys(db),fields:Object.keys(zb)};db={};zb={};return Y}D=D||{};const X=D.allowed?l.toSet(D.allowed):{},Da=D.forbidden?l.toSet(D.forbidden):{},S=D.constants||Q,ia=(D.functions||ma)(E),Ca=D.globalvar,Qa=D.fieldvar,Ra=l.isFunction(Ca)?Ca:Y=>`${Ca}["${Y}"]`;
let db={},zb={},kb=0;const Vb={Literal:Y=>Y.raw,Identifier:Y=>{Y=Y.name;if(0<kb)return Y;if(l.hasOwnProperty(Da,Y))return l.error("Illegal identifier: "+Y);if(l.hasOwnProperty(S,Y))return S[Y];if(l.hasOwnProperty(X,Y))return Y;db[Y]=1;return Ra(Y)},MemberExpression:Y=>{const Ha=!Y.computed,Ub=E(Y.object);Ha&&(kb+=1);Y=E(Y.property);if(Ub===Qa){var kc=zb;var Zb=(Zb=Y&&Y.length-1)&&('"'===Y[0]&&'"'===Y[Zb]||"'"===Y[0]&&"'"===Y[Zb])?Y.slice(1,-1):Y;kc[Zb]=1}Ha&&--kb;return Ub+(Ha?"."+Y:"["+Y+"]")},CallExpression:Y=>
{"Identifier"!==Y.callee.type&&l.error("Illegal callee type: "+Y.callee.type);const Ha=Y.callee.name;Y=Y.arguments;const Ub=l.hasOwnProperty(ia,Ha)&&ia[Ha];Ub||l.error("Unrecognized function: "+Ha);return l.isFunction(Ub)?Ub(Y):Ub+"("+Y.map(E).join(",")+")"},ArrayExpression:Y=>"["+Y.elements.map(E).join(",")+"]",BinaryExpression:Y=>"("+E(Y.left)+" "+Y.operator+" "+E(Y.right)+")",UnaryExpression:Y=>"("+Y.operator+E(Y.argument)+")",ConditionalExpression:Y=>"("+E(Y.test)+"?"+E(Y.consequent)+":"+E(Y.alternate)+
")",LogicalExpression:Y=>"("+E(Y.left)+Y.operator+E(Y.right)+")",ObjectExpression:Y=>"{"+Y.properties.map(E).join(",")+"}",Property:Y=>{kb+=1;const Ha=E(Y.key);--kb;return Ha+":"+E(Y.value)}};I.functions=ia;I.constants=S;return I};u.constants=Q;u.functions=ma;u.parseExpression=function(D){na=D;n=0;F=na.length;N=null;mc();D=Fa();if(2!==N.type)throw Error("Unexpect token after expression.");return D}})};
shadow$provide[50]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(24),nb(49)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega))})(this,function(u,l,ja){function Za(ua,ha){return null==ua||null==ha?NaN:ua<ha?-1:ua>ha?1:ua>=ha?0:NaN}function ub(ua,ha){return null==ua||null==ha?NaN:ha<ua?-1:ha>ua?1:ha>=ua?0:NaN}function Wb(){return 0}function ec({_intern:ua,
_key:ha},xa){ha=ha(xa);return ua.has(ha)?ua.get(ha):xa}function Db({_intern:ua,_key:ha},xa){ha=ha(xa);if(ua.has(ha))return ua.get(ha);ua.set(ha,xa);return xa}function yb({_intern:ua,_key:ha},xa){ha=ha(xa);ua.has(ha)&&(xa=ua.get(ha),ua.delete(ha));return xa}function wb(ua){return null!==ua&&"object"===typeof ua?ua.valueOf():ua}function Qb(ua){return ua instanceof bb?ua:new bb(ua)}function Yb(ua){ua.getter&&ua.getter[Ab]||(ua.getter=l.field(ua.field),ua.getter[Ab]=!0);return ua.getter}function Ba(ua,
ha){var xa=ha.fields;ha=ha.values;for(var Sa=xa.length,Xa=0,La,jb;Xa<Sa;++Xa)if(jb=xa[Xa],La=Yb(jb)(ua),l.isDate(La)&&(La=l.toNumber(La)),l.isDate(ha[Xa])&&(ha[Xa]=l.toNumber(ha[Xa])),l.isArray(ha[Xa])&&l.isDate(ha[Xa][0])&&(ha[Xa]=ha[Xa].map(l.toNumber)),"E"===jb.type){if(l.isArray(ha[Xa])?!ha[Xa].includes(La):La!==ha[Xa])return!1}else if("R"===jb.type){if(!l.inrange(La,ha[Xa]))return!1}else if("R-RE"===jb.type){if(!l.inrange(La,ha[Xa],!0,!1))return!1}else if("R-E"===jb.type){if(!l.inrange(La,ha[Xa],
!1,!1))return!1}else if("R-LE"===jb.type){if(!l.inrange(La,ha[Xa],!1,!0))return!1}else if("E-LT"===jb.type){if(La>=ha[Xa])return!1}else if("E-LTE"===jb.type){if(La>ha[Xa])return!1}else if("E-GT"===jb.type){if(La<=ha[Xa])return!1}else if("E-GTE"===jb.type){if(La<ha[Xa])return!1}else if("E-VALID"===jb.type){if(null===La||isNaN(La))return!1}else if("E-ONE"===jb.type&&-1===ha[Xa].indexOf(La))return!1;return!0}class bb extends Set{constructor(ua,ha=wb){super();Object.defineProperties(this,{_intern:{value:new Map},
_key:{value:ha}});if(null!=ua)for(const xa of ua)this.add(xa)}has(ua){return super.has(ec(this,ua))}add(ua){return super.add(Db(this,ua))}delete(ua){return super.delete(yb(this,ua))}}const Ab=Symbol("vega_selection_getter"),xb=l.field("_vgsid_"),qb=function(ua){function ha(La,jb,fb=0,vb=La.length){if(fb<vb){if(0!==xa(jb,jb))return vb;do{const Rb=fb+vb>>>1;0>Sa(La[Rb],jb)?fb=Rb+1:vb=Rb}while(fb<vb)}return fb}let xa,Sa,Xa;2!==ua.length?(xa=Za,Sa=(La,jb)=>Za(ua(La),jb),Xa=(La,jb)=>ua(La)-jb):(xa=ua===
Za||ua===ub?ua:Wb,Xa=Sa=ua);return{left:ha,center:function(La,jb,fb=0,vb=La.length){vb=ha(La,jb,fb,vb-1);return vb>fb&&Xa(La[vb-1],jb)>-Xa(La[vb],jb)?vb-1:vb},right:function(La,jb,fb=0,vb=La.length){if(fb<vb){if(0!==xa(jb,jb))return vb;do{const Rb=fb+vb>>>1;0>=Sa(La[Rb],jb)?fb=Rb+1:vb=Rb}while(fb<vb)}return fb}}}(xb),Cb=qb.left,lb=qb.right;var mc={_vgsid__union:function(...ua){const ha=new bb;for(const xa of ua)for(const Sa of xa)ha.add(Sa);return ha},_vgsid__intersect:function(ua,...ha){ua=new bb(ua);
ha=ha.map(Qb);a:for(const xa of ua)for(const Sa of ha)if(!Sa.has(xa)){ua.delete(xa);continue a}return ua},E_union:function(ua,ha){if(!ua.length)return ha;for(var xa=0,Sa=ha.length;xa<Sa;++xa)ua.includes(ha[xa])||ua.push(ha[xa]);return ua},E_intersect:function(ua,ha){return ua.length?ua.filter(xa=>ha.includes(xa)):ha},R_union:function(ua,ha){var xa=l.toNumber(ha[0]),Sa=l.toNumber(ha[1]);xa>Sa&&(xa=ha[1],Sa=ha[0]);if(!ua.length)return[xa,Sa];ua[0]>xa&&(ua[0]=xa);ua[1]<Sa&&(ua[1]=Sa);return ua},R_intersect:function(ua,
ha){var xa=l.toNumber(ha[0]),Sa=l.toNumber(ha[1]);xa>Sa&&(xa=ha[1],Sa=ha[0]);if(!ua.length)return[xa,Sa];if(Sa<ua[0]||ua[1]<xa)return[];ua[0]<xa&&(ua[0]=xa);ua[1]>Sa&&(ua[1]=Sa);return ua}};u.selectionIdTest=function(ua,ha,xa){var Sa=this.context.data[ua];ua=Sa?Sa.values.value:[];Sa=Sa?Sa["index:unit"]&&Sa["index:unit"].value:void 0;xa="intersect"===xa;ha=xb(ha);const Xa=Cb(ua,ha);if(Xa===ua.length||xb(ua[Xa])!==ha)return!1;if(Sa&&xa){if(1===Sa.size)return!0;if(lb(ua,ha)-Xa<Sa.size)return!1}return!0};
u.selectionResolve=function(ua,ha,xa,Sa){ua=(ua=this.context.data[ua])?ua.values.value:[];for(var Xa={},La={},jb={},fb,vb,Rb,Na,U,ea,Ja=ua.length,Z=0,Fa,ma;Z<Ja;++Z)if(fb=ua[Z],Na=fb.unit,vb=fb.fields,Rb=fb.values,vb&&Rb){Fa=0;for(ma=vb.length;Fa<ma;++Fa)U=vb[Fa],fb=Xa[U.field]||(Xa[U.field]={}),ea=fb[Na]||(fb[Na]=[]),jb[U.field]=U=U.type.charAt(0),U=mc[`${U}_union`],fb[Na]=U(ea,l.array(Rb[Fa]));xa&&(ea=La[Na]||(La[Na]=[]),ea.push(l.array(Rb).reduce((na,n,F)=>(na[vb[F].field]=n,na),{})))}else U="_vgsid_",
Rb=xb(fb),fb=Xa[U]||(Xa[U]={}),ea=fb[Na]||(fb[Na]=[]),ea.push(Rb),xa&&(ea=La[Na]||(La[Na]=[]),ea.push({_vgsid_:Rb}));ha=ha||"union";Xa._vgsid_?Xa._vgsid_=mc[`${"_vgsid_"}_${ha}`](...Object.values(Xa._vgsid_)):Object.keys(Xa).forEach(na=>{Xa[na]=Object.keys(Xa[na]).map(n=>Xa[na][n]).reduce((n,F)=>void 0===n?F:mc[`${jb[na]}_${ha}`](n,F))});ua=Object.keys(La);xa&&ua.length&&(Xa[Sa?"vlPoint":"vlMulti"]="union"===ha?{or:ua.reduce((na,n)=>(na.push(...La[n]),na),[])}:{and:ua.map(na=>({or:La[na]}))});return Xa};
u.selectionTest=function(ua,ha,xa){var Sa=this.context.data[ua];ua=Sa?Sa.values.value:[];Sa=Sa?Sa["index:unit"]&&Sa["index:unit"].value:void 0;xa="intersect"===xa;for(var Xa=ua.length,La=0,jb,fb,vb,Rb;La<Xa;++La)if(jb=ua[La],Sa&&xa){if(fb=fb||{},vb=fb[Rb=jb.unit]||0,-1!==vb){jb=Ba(ha,jb);fb[Rb]=jb?-1:++vb;if(jb&&1===Sa.size)return!0;if(!jb&&vb===Sa.get(Rb).count)return!1}}else if(jb=Ba(ha,jb),xa^jb)return jb;return Xa&&xa};u.selectionTuples=function(ua,ha){return ua.map(xa=>l.extend(ha.fields?{values:ha.fields.map(Sa=>
Yb(Sa)(xa.datum))}:{_vgsid_:xb(xa.datum)},ha))};u.selectionVisitor=function(ua,ha,xa,Sa){ha[0].type!==ja.Literal&&l.error("First argument to selection functions must be a string literal.");ua=ha[0].value;ha=2<=ha.length&&l.peek(ha).value;const Xa=":"+ua;"intersect"!==ha||l.hasOwnProperty(Sa,"@unit")||(Sa["@unit"]=xa.getData(ua).indataRef(xa,"unit"));l.hasOwnProperty(Sa,Xa)||(Sa[Xa]=xa.getData(ua).tuplesRef())}})};
shadow$provide[51]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(24),nb(49),nb(36),nb(32),nb(37),nb(50),nb(33),nb(26)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega,u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,Za,ub,Wb,ec,
Db,yb){function wb(W){return(W=this.context.data[W])?W.values.value:[]}function Qb(W,Ka,mb){return(mb=(W=this.context.data[W]["index:"+Ka])?W.value.get(mb):void 0)?mb.count:mb}function Yb(W,Ka){const mb=this.context.dataflow;mb.pulse(this.context.data[W].input,mb.changeset().remove(l.truthy).insert(Ka));return 1}function Ba(W,Ka,mb){if(W){const yc=this.context.dataflow;yc.pulse(W.mark.source,yc.changeset().encode(W,Ka))}return void 0!==mb?mb:W}function bb(W,Ka,mb){if(!Number.isInteger(W)||!Number.isInteger(Ka))return"";
Kf.setYear(2E3);Kf.setMonth(W);Kf.setDate(Ka);return $e.call(this,Kf,mb)}function Ab(W){return bb.call(this,W,1,"%B")}function xb(W){return bb.call(this,W,1,"%b")}function qb(W){return bb.call(this,0,2+W,"%A")}function Cb(W){return bb.call(this,0,2+W,"%a")}function lb(W,Ka,mb,yc){Ka[0].type!==ja.Literal&&l.error("First argument to data functions must be a string literal.");W=Ka[0].value;Ka=":"+W;if(!l.hasOwnProperty(Ka,yc))try{yc[Ka]=mb.getData(W).tuplesRef()}catch(Ac){}}function mc(W,Ka,mb,yc){Ka[0].type!==
ja.Literal&&l.error("First argument to indata must be a string literal.");Ka[1].type!==ja.Literal&&l.error("Second argument to indata must be a string literal.");W=Ka[0].value;Ka=Ka[1].value;const Ac="@"+Ka;l.hasOwnProperty(Ac,yc)||(yc[Ac]=mb.getData(W).indataRef(mb,Ka))}function ua(W,Ka,mb,yc){if(Ka[0].type===ja.Literal)ha(mb,yc,Ka[0].value);else for(W in mb.scales)ha(mb,yc,W)}function ha(W,Ka,mb){const yc="%"+mb;if(!l.hasOwnProperty(Ka,yc))try{Ka[yc]=W.scaleRef(mb)}catch(Ac){}}function xa(W,Ka){if(l.isString(W))return(W=
Ka.scales[W])&&Za.isRegisteredScale(W.value)?W.value:void 0;if(l.isFunction(W))return Za.isRegisteredScale(W)?W:void 0}function Sa(W,Ka,mb){Ka.__bandwidth=Ac=>Ac&&Ac.bandwidth?Ac.bandwidth():0;mb._bandwidth=ua;mb._range=ua;mb._scale=ua;const yc=Ac=>"_["+(Ac.type===ja.Literal?l.stringValue("%"+Ac.value):l.stringValue("%")+"+"+W(Ac))+"]";return{_bandwidth:Ac=>`this.__bandwidth(${yc(Ac[0])})`,_range:Ac=>`${yc(Ac[0])}.range()`,_scale:Ac=>`${yc(Ac[0])}(${W(Ac[1])})`}}function Xa(W){return 1<W?cb:-1>W?
-cb:Math.asin(W)}function La(){}function jb(W,Ka){if(W&&hf.hasOwnProperty(W.type))hf[W.type](W,Ka)}function fb(W,Ka,mb){var yc=-1;mb=W.length-mb;for(Ka.lineStart();++yc<mb;){var Ac=W[yc];Ka.point(Ac[0],Ac[1],Ac[2])}Ka.lineEnd()}function vb(W,Ka){var mb=-1,yc=W.length;for(Ka.polygonStart();++mb<yc;)fb(W[mb],Ka,1);Ka.polygonEnd()}function Rb(W,Ka){if(W&&Ne.hasOwnProperty(W.type))Ne[W.type](W,Ka);else jb(W,Ka)}function Na(){re.point=ea}function U(){Ja(rf,ze)}function ea(W,Ka){re.point=Ja;rf=W;ze=Ka;
W*=cd;Ka*=cd;Ze=W;ef=Jd(Ka=Ka/2+fc);me=nd(Ka)}function Ja(W,Ka){W*=cd;Ka*=cd;Ka=Ka/2+fc;var mb=W-Ze,yc=0<=mb?1:-1,Ac=yc*mb;mb=Jd(Ka);Ka=nd(Ka);var xd=me*Ka,Vd=ef*mb+xd*Jd(Ac);yc=xd*yc*nd(Ac);ce.add(Xd(yc,Vd));Ze=W;ef=mb;me=Ka}function Z(W,Ka){return[W[1]*Ka[2]-W[2]*Ka[1],W[2]*Ka[0]-W[0]*Ka[2],W[0]*Ka[1]-W[1]*Ka[0]]}function Fa(W,Ka){sb.push(pb=[Wd=W,m=W]);Ka<qa&&(qa=Ka);Ka>r&&(r=Ka)}function ma(W,Ka){var mb=[W*cd,Ka*cd];var yc=mb[0];mb=mb[1];var Ac=Jd(mb);yc=[Ac*Jd(yc),Ac*nd(yc),nd(mb)];if(Ta){mb=
Z(Ta,yc);Ac=mb=Z([mb[1],-mb[0],0],mb);var xd=qe(Ac[0]*Ac[0]+Ac[1]*Ac[1]+Ac[2]*Ac[2]);Ac[0]/=xd;Ac[1]/=xd;Ac[2]/=xd;mb=[Xd(mb[1],mb[0]),Xa(mb[2])];var Vd=W-L;Ac=0<Vd?1:-1;xd=mb[0]*jd*Ac;Vd=180<Dd(Vd);Vd^(Ac*L<xd&&xd<Ac*W)?(mb=mb[1]*jd,mb>r&&(r=mb)):(xd=(xd+360)%360-180,Vd^(Ac*L<xd&&xd<Ac*W))?(mb=-mb[1]*jd,mb<qa&&(qa=mb)):(Ka<qa&&(qa=Ka),Ka>r&&(r=Ka));Vd?W<L?T(Wd,W)>T(Wd,m)&&(m=W):T(W,m)>T(Wd,m)&&(Wd=W):m>=Wd?(W<Wd&&(Wd=W),W>m&&(m=W)):W>L?T(Wd,W)>T(Wd,m)&&(m=W):T(W,m)>T(Wd,m)&&(Wd=W)}else sb.push(pb=
[Wd=W,m=W]);Ka<qa&&(qa=Ka);Ka>r&&(r=Ka);Ta=yc;L=W}function na(){uc.point=ma}function n(){pb[0]=Wd;pb[1]=m;uc.point=Fa;Ta=null}function F(W,Ka){if(Ta){var mb=W-L;Oa.add(180<Dd(mb)?mb+(0<mb?360:-360):mb)}else ka=W,Ga=Ka;re.point(W,Ka);ma(W,Ka)}function N(){re.lineStart()}function x(){F(ka,Ga);re.lineEnd();1E-6<Dd(Oa)&&(Wd=-(m=180));pb[0]=Wd;pb[1]=m;Ta=null}function T(W,Ka){return 0>(Ka-=W)?Ka+360:Ka}function B(W,Ka){return W[0]-Ka[0]}function A(W,Ka){return W[0]<=W[1]?W[0]<=Ka&&Ka<=W[1]:Ka<W[0]||W[1]<
Ka}function Q(W,Ka){W*=cd;Ka*=cd;var mb=Jd(Ka);D(mb*Jd(W),mb*nd(W),nd(Ka))}function D(W,Ka,mb){++sc;oc+=(W-oc)/sc;Jc+=(Ka-Jc)/sc;Oc+=(mb-Oc)/sc}function E(){de.point=I}function I(W,Ka){W*=cd;Ka*=cd;var mb=Jd(Ka);Bd=mb*Jd(W);qd=mb*nd(W);Kd=nd(Ka);de.point=X;D(Bd,qd,Kd)}function X(W,Ka){W*=cd;Ka*=cd;var mb=Jd(Ka),yc=mb*Jd(W);W=mb*nd(W);Ka=nd(Ka);var Ac=Xd(qe((Ac=qd*Ka-Kd*W)*Ac+(Ac=Kd*yc-Bd*Ka)*Ac+(Ac=Bd*W-qd*yc)*Ac),Bd*yc+qd*W+Kd*Ka);qc+=Ac;Ed+=Ac*(Bd+(Bd=yc));pd+=Ac*(qd+(qd=W));wd+=Ac*(Kd+(Kd=Ka));
D(Bd,qd,Kd)}function Da(){de.point=Q}function S(){de.point=Ca}function ia(){Qa(ne,be);de.point=Q}function Ca(W,Ka){ne=W;be=Ka;W*=cd;Ka*=cd;de.point=Qa;var mb=Jd(Ka);Bd=mb*Jd(W);qd=mb*nd(W);Kd=nd(Ka);D(Bd,qd,Kd)}function Qa(W,Ka){W*=cd;Ka*=cd;var mb=Jd(Ka),yc=mb*Jd(W);W=mb*nd(W);Ka=nd(Ka);mb=qd*Ka-Kd*W;var Ac=Kd*yc-Bd*Ka,xd=Bd*W-qd*yc,Vd=Ye(mb,Ac,xd),Id=Xa(Vd);Vd=Vd&&-Id/Vd;Sd.add(Vd*mb);lc.add(Vd*Ac);ud.add(Vd*xd);qc+=Id;Ed+=Id*(Bd+(Bd=yc));pd+=Id*(qd+(qd=W));wd+=Id*(Kd+(Kd=Ka));D(Bd,qd,Kd)}function Ra(W,
Ka){return function(mb,yc,Ac){return mb?(mb=xa(mb,(Ac||this).context))&&mb.path[W](yc):Ka(yc)}}function db(W,Ka){return(W=xa(W,(Ka||this).context))&&W.scale()}function zb(W){const Ka=this.context.group;let mb=!1;if(Ka)for(;W;){if(W===Ka){mb=!0;break}W=W.mark.group}return mb}function kb(W,Ka,mb){try{W[Ka].apply(W,["EXPRESSION"].concat([].slice.call(mb)))}catch(yc){W.warn(yc)}return mb[mb.length-1]}function Vb(){return kb(this.context.dataflow,"warn",arguments)}function Y(){return kb(this.context.dataflow,
"info",arguments)}function Ha(){return kb(this.context.dataflow,"debug",arguments)}function Ub(W,Ka,mb){W.prototype=Ka.prototype=mb;mb.constructor=W}function kc(W,Ka){W=Object.create(W.prototype);for(var mb in Ka)W[mb]=Ka[mb];return W}function Zb(){}function Pb(){return this.rgb().formatHex()}function Nb(){return this.rgb().formatRgb()}function tc(W){var Ka,mb;W=(W+"").trim().toLowerCase();return(Ka=le.exec(W))?(mb=Ka[1].length,Ka=parseInt(Ka[1],16),6===mb?Mc(Ka):3===mb?new Bb(Ka>>8&15|Ka>>4&240,
Ka>>4&15|Ka&240,(Ka&15)<<4|Ka&15,1):8===mb?ra(Ka>>24&255,Ka>>16&255,Ka>>8&255,(Ka&255)/255):4===mb?ra(Ka>>12&15|Ka>>8&240,Ka>>8&15|Ka>>4&240,Ka>>4&15|Ka&240,((Ka&15)<<4|Ka&15)/255):null):(Ka=lf.exec(W))?new Bb(Ka[1],Ka[2],Ka[3],1):(Ka=uf.exec(W))?new Bb(255*Ka[1]/100,255*Ka[2]/100,255*Ka[3]/100,1):(Ka=zg.exec(W))?ra(Ka[1],Ka[2],Ka[3],Ka[4]):(Ka=yf.exec(W))?ra(255*Ka[1]/100,255*Ka[2]/100,255*Ka[3]/100,Ka[4]):(Ka=Tf.exec(W))?ad(Ka[1],Ka[2]/100,Ka[3]/100,1):(Ka=kg.exec(W))?ad(Ka[1],Ka[2]/100,Ka[3]/100,
Ka[4]):mf.hasOwnProperty(W)?Mc(mf[W]):"transparent"===W?new Bb(NaN,NaN,NaN,0):null}function Mc(W){return new Bb(W>>16&255,W>>8&255,W&255,1)}function ra(W,Ka,mb,yc){0>=yc&&(W=Ka=mb=NaN);return new Bb(W,Ka,mb,yc)}function Hb(W){W instanceof Zb||(W=tc(W));if(!W)return new Bb;W=W.rgb();return new Bb(W.r,W.g,W.b,W.opacity)}function Va(W,Ka,mb,yc){return 1===arguments.length?Hb(W):new Bb(W,Ka,mb,null==yc?1:yc)}function Bb(W,Ka,mb,yc){this.r=+W;this.g=+Ka;this.b=+mb;this.opacity=+yc}function Ib(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}`}
function Eb(){const W=Xb(this.opacity);return`${1===W?"rgb(":"rgba("}${jc(this.r)}, ${jc(this.g)}, ${jc(this.b)}${1===W?")":`, ${W})`}`}function Xb(W){return isNaN(W)?1:Math.max(0,Math.min(1,W))}function jc(W){return Math.max(0,Math.min(255,Math.round(W)||0))}function rc(W){W=jc(W);return(16>W?"0":"")+W.toString(16)}function ad(W,Ka,mb,yc){0>=yc?W=Ka=mb=NaN:0>=mb||1<=mb?W=Ka=NaN:0>=Ka&&(W=NaN);return new Ma(W,Ka,mb,yc)}function Lc(W){if(W instanceof Ma)return new Ma(W.h,W.s,W.l,W.opacity);W instanceof
Zb||(W=tc(W));if(!W)return new Ma;if(W instanceof Ma)return W;W=W.rgb();var Ka=W.r/255,mb=W.g/255,yc=W.b/255,Ac=Math.min(Ka,mb,yc),xd=Math.max(Ka,mb,yc),Vd=NaN,Id=xd-Ac,ig=(xd+Ac)/2;Id?(Vd=Ka===xd?(mb-yc)/Id+6*(mb<yc):mb===xd?(yc-Ka)/Id+2:(Ka-mb)/Id+4,Id/=.5>ig?xd+Ac:2-xd-Ac,Vd*=60):Id=0<ig&&1>ig?0:Vd;return new Ma(Vd,Id,ig,W.opacity)}function oa(W,Ka,mb,yc){return 1===arguments.length?Lc(W):new Ma(W,Ka,mb,null==yc?1:yc)}function Ma(W,Ka,mb,yc){this.h=+W;this.s=+Ka;this.l=+mb;this.opacity=+yc}function ib(W){W=
(W||0)%360;return 0>W?W+360:W}function V(W){return Math.max(0,Math.min(1,W||0))}function w(W,Ka,mb){return 255*(60>W?Ka+(mb-Ka)*W/60:180>W?mb:240>W?Ka+(mb-Ka)*(240-W)/60:Ka)}function da(W){if(W instanceof Ia)return new Ia(W.l,W.a,W.b,W.opacity);if(W instanceof Bc)return Ic(W);W instanceof Bb||(W=Hb(W));var Ka=Gb(W.r),mb=Gb(W.g),yc=Gb(W.b),Ac=Wa(.2225045*Ka+.7168786*mb+.0606169*yc);if(Ka===mb&&mb===yc)var xd=Ka=Ac;else xd=Wa((.4360747*Ka+.3850649*mb+.1430804*yc)/.96422),Ka=Wa((.0139322*Ka+.0971045*
mb+.7141733*yc)/.82521);return new Ia(116*Ac-16,500*(xd-Ac),200*(Ac-Ka),W.opacity)}function Aa(W,Ka,mb,yc){return 1===arguments.length?da(W):new Ia(W,Ka,mb,null==yc?1:yc)}function Ia(W,Ka,mb,yc){this.l=+W;this.a=+Ka;this.b=+mb;this.opacity=+yc}function Wa(W){return W>Zf?Math.pow(W,1/3):W/mg+Zg}function ob(W){return W>Yf?W*W*W:mg*(W-Zg)}function Sb(W){return 255*(.0031308>=W?12.92*W:1.055*Math.pow(W,1/2.4)-.055)}function Gb(W){return.04045>=(W/=255)?W/12.92:Math.pow((W+.055)/1.055,2.4)}function Ob(W){if(W instanceof
Bc)return new Bc(W.h,W.c,W.l,W.opacity);W instanceof Ia||(W=da(W));if(0===W.a&&0===W.b)return new Bc(NaN,0<W.l&&100>W.l?0:NaN,W.l,W.opacity);var Ka=Math.atan2(W.b,W.a)*lg;return new Bc(0>Ka?Ka+360:Ka,Math.sqrt(W.a*W.a+W.b*W.b),W.l,W.opacity)}function vc(W,Ka,mb,yc){return 1===arguments.length?Ob(W):new Bc(W,Ka,mb,null==yc?1:yc)}function Bc(W,Ka,mb,yc){this.h=+W;this.c=+Ka;this.l=+mb;this.opacity=+yc}function Ic(W){if(isNaN(W.h))return new Ia(W.l,0,0,W.opacity);var Ka=W.h*Ke;return new Ia(W.l,Math.cos(Ka)*
W.c,Math.sin(Ka)*W.c,W.opacity)}function id(W){W/=255;return.03928>=W?W/12.92:Math.pow((W+.055)/1.055,2.4)}function dd(W){var Ka=Va(W);W=id(Ka.r);const mb=id(Ka.g);Ka=id(Ka.b);return.2126*W+.7152*mb+.0722*Ka}function Uc(W,Ka){W=dd(W);Ka=dd(Ka);return(Math.max(W,Ka)+.05)/(Math.min(W,Ka)+.05)}function kd(){const W=[].slice.call(arguments);W.unshift({});return l.extend(...W)}function ld(W,Ka){if(W===Ka||W!==W&&Ka!==Ka)W=!0;else if(l.isArray(W))if(l.isArray(Ka)&&W.length===Ka.length)a:{for(let mb=0,yc=
W.length;mb<yc;++mb)if(!ld(W[mb],Ka[mb])){W=!1;break a}W=!0}else W=!1;else W=l.isObject(W)&&l.isObject(Ka)?ed(W,Ka):!1;return W}function ed(W,Ka){for(const mb in W)if(!ld(W[mb],Ka[mb]))return!1;return!0}function ge(W){return Ka=>ed(W,Ka)}function gd(W,Ka,mb,yc,Ac,xd){const Vd=this.context.dataflow,Id=this.context.data[W],ig=Id.input;W=Vd.stamp();let pf=Id.changes,ug;if(!1===Vd._trigger||!(ig.value.length||Ka||yc))return 0;if(!pf||pf.stamp<W)Id.changes=pf=Vd.changeset(),pf.stamp=W,Vd.runAfter(()=>
{Id.modified=!0;Vd.pulse(ig,pf).run()},!0,1);mb&&(mb=!0===mb?l.truthy:l.isArray(mb)||ub.isTuple(mb)?mb:ge(mb),pf.remove(mb));Ka&&pf.insert(Ka);yc&&(mb=ge(yc),ig.value.some(mb)?pf.remove(mb):pf.insert(yc));if(Ac)for(ug in xd)pf.modify(Ac,ug,xd[ug]);return 1}function z(W){W=W.touches;return Math.hypot(W[0].clientX-W[1].clientX,W[0].clientY-W[1].clientY)}function K(W){W=W.touches;return Math.atan2(W[0].clientY-W[1].clientY,W[0].clientX-W[1].clientX)}function va(W,Ka){Ka=$g[Ka]||($g[Ka]=l.field(Ka));
return l.isArray(W)?W.map(Ka):Ka(W)}function v(W){return l.isArray(W)||ArrayBuffer.isView(W)?W:null}function R(W){return v(W)||(l.isString(W)?W:null)}function ca(W,...Ka){return v(W).join(...Ka)}function wa(W,...Ka){return R(W).indexOf(...Ka)}function pa(W,...Ka){return R(W).lastIndexOf(...Ka)}function eb(W,...Ka){return R(W).slice(...Ka)}function Lb(W,Ka,mb){l.isFunction(mb)&&l.error("Function argument passed to replace.");l.isString(Ka)||l.isRegExp(Ka)||l.error("Please pass a string or RegExp argument to replace.");
return String(W).replace(Ka,mb)}function $b(W){return v(W).slice().reverse()}function hc(W){return v(W).slice().sort(l.ascending)}function Ec(W,Ka,mb){return Za.bandSpace(W||0,Ka||0,mb||0)}function Pc(W,Ka){return(W=xa(W,(Ka||this).context))&&W.bandwidth?W.bandwidth():0}function Nc(W,Ka){return(W=xa(W,(Ka||this).context))?W.copy():void 0}function md(W,Ka){return(W=xa(W,(Ka||this).context))?W.domain():[]}function td(W,Ka,mb){return(W=xa(W,(mb||this).context))?l.isArray(Ka)?(W.invertRange||W.invert)(Ka):
(W.invert||W.invertExtent)(Ka):void 0}function yd(W,Ka){return(W=xa(W,(Ka||this).context))&&W.range?W.range():[]}function Md(W,Ka,mb){return(W=xa(W,(mb||this).context))?W(Ka):void 0}function Ad(W,Ka,mb,yc,Ac){W=xa(W,(Ac||this).context);const xd=Wb.Gradient(Ka,mb);Ka=W.domain();mb=Ka[0];Ac=l.peek(Ka);let Vd=l.identity;Ac-mb?Vd=Za.scaleFraction(W,mb,Ac):W=(W.interpolator?Za.scale("sequential")().interpolator(W.interpolator()):Za.scale("linear")().interpolate(W.interpolate()).range(W.range())).domain([mb=
0,Ac=1]);W.ticks&&(Ka=W.ticks(+yc||15),mb!==Ka[0]&&Ka.unshift(mb),Ac!==l.peek(Ka)&&Ka.push(Ac));Ka.forEach(Id=>xd.stop(Vd(Id),W(Id)));return xd}function je(W,Ka,mb){const yc=xa(W,(mb||this).context);return function(Ac){return yc?yc.path.context(Ac)(Ka):""}}function Me(W){let Ka=null;return function(mb){return mb?Wb.pathRender(mb,Ka=Ka||Wb.pathParse(W)):W}}function Qe(W,Ka){W=wb.call(Ka,W);return W.root&&W.root.lookup||{}}function Re(W,Ka,mb){W=Qe(W,this);Ka=W[Ka];mb=W[mb];return Ka&&mb?Ka.path(mb).map(ah):
void 0}function He(W,Ka){return(W=Qe(W,this)[Ka])?W.ancestors().map(ah):void 0}function De(){const W="undefined"!==typeof window&&window||null;return W?W.screen:{}}function Ie(){const W="undefined"!==typeof window&&window||null;return W?[W.innerWidth,W.innerHeight]:[void 0,void 0]}function ke(){var W=this.context.dataflow;return(W=W.container&&W.container())?[W.clientWidth,W.clientHeight]:[void 0,void 0]}function oe(W,Ka,mb){if(!W)return[];const [yc,Ac]=W;W=(new Wb.Bounds).set(yc[0],yc[1],Ac[0],Ac[1]);
mb=mb||this.context.dataflow.scenegraph().root;return Wb.intersect(mb,W,xe(Ka))}function xe(W){let Ka=null;if(W){const mb=l.array(W.marktype),yc=l.array(W.markname);Ka=Ac=>(!mb.length||mb.some(xd=>Ac.marktype===xd))&&(!yc.length||yc.some(xd=>Ac.name===xd))}return Ka}function zd(W,Ka,mb){if(1===arguments.length)return bh[W];bh[W]=Ka;mb&&(Tg[W]=mb);Uf&&(Uf.functions[W]="this."+W);return this}const Jf=W=>function(Ka,mb){const yc=this.context.dataflow.locale();return null===Ka?"null":yc[W](mb)(Ka)},Xe=
Jf("format"),$e=Jf("timeFormat"),df=Jf("utcFormat"),Fe=Jf("timeParse"),Nd=Jf("utcParse"),Kf=new Date(2E3,0,1);class ye{constructor(){this._partials=new Float64Array(32);this._n=0}add(W){const Ka=this._partials;let mb=0;for(let yc=0;yc<this._n&&32>yc;yc++){const Ac=Ka[yc],xd=W+Ac;(W=Math.abs(W)<Math.abs(Ac)?W-(xd-Ac):Ac-(xd-W))&&(Ka[mb++]=W);W=xd}Ka[mb]=W;this._n=mb+1;return this}valueOf(){const W=this._partials;let Ka=this._n;let mb,yc=0;if(0<Ka){for(yc=W[--Ka];0<Ka;){var Ac=yc;mb=W[--Ka];yc=Ac+mb;
if(Ac=mb-(yc-Ac))break}0<Ka&&(0>Ac&&0>W[Ka-1]||0<Ac&&0<W[Ka-1])&&(mb=2*Ac,Ac=yc+mb,mb==Ac-yc&&(yc=Ac))}return yc}}var Ea=Math.PI,cb=Ea/2,fc=Ea/4,fd=2*Ea,jd=180/Ea,cd=Ea/180,Dd=Math.abs,Xd=Math.atan2,Jd=Math.cos,Ye=Math.hypot,nd=Math.sin,qe=Math.sqrt,Ne={Feature:function(W,Ka){jb(W.geometry,Ka)},FeatureCollection:function(W,Ka){W=W.features;for(var mb=-1,yc=W.length;++mb<yc;)jb(W[mb].geometry,Ka)}},hf={Sphere:function(W,Ka){Ka.sphere()},Point:function(W,Ka){W=W.coordinates;Ka.point(W[0],W[1],W[2])},
MultiPoint:function(W,Ka){for(var mb=W.coordinates,yc=-1,Ac=mb.length;++yc<Ac;)W=mb[yc],Ka.point(W[0],W[1],W[2])},LineString:function(W,Ka){fb(W.coordinates,Ka,0)},MultiLineString:function(W,Ka){W=W.coordinates;for(var mb=-1,yc=W.length;++mb<yc;)fb(W[mb],Ka,0)},Polygon:function(W,Ka){vb(W.coordinates,Ka)},MultiPolygon:function(W,Ka){W=W.coordinates;for(var mb=-1,yc=W.length;++mb<yc;)vb(W[mb],Ka)},GeometryCollection:function(W,Ka){W=W.geometries;for(var mb=-1,yc=W.length;++mb<yc;)jb(W[mb],Ka)}},ce=
new ye,jf=new ye,rf,ze,Ze,ef,me,re={point:La,lineStart:La,lineEnd:La,polygonStart:function(){ce=new ye;re.lineStart=Na;re.lineEnd=U},polygonEnd:function(){var W=+ce;jf.add(0>W?fd+W:W);this.lineStart=this.lineEnd=this.point=La},sphere:function(){jf.add(fd)}},Wd,qa,m,r,L,ka,Ga,Ta,Oa,sb,pb,uc={point:Fa,lineStart:na,lineEnd:n,polygonStart:function(){uc.point=F;uc.lineStart=N;uc.lineEnd=x;Oa=new ye;re.polygonStart()},polygonEnd:function(){re.polygonEnd();uc.point=Fa;uc.lineStart=na;uc.lineEnd=n;0>ce?(Wd=
-(m=180),qa=-(r=90)):1E-6<Oa?r=90:-1E-6>Oa&&(qa=-90);pb[0]=Wd;pb[1]=m},sphere:function(){Wd=-(m=180);qa=-(r=90)}},sc,qc,oc,Jc,Oc,Ed,pd,wd,Sd,lc,ud,ne,be,Bd,qd,Kd,de={sphere:La,point:Q,lineStart:E,lineEnd:Da,polygonStart:function(){de.lineStart=S;de.lineEnd=ia},polygonEnd:function(){de.lineStart=E;de.lineEnd=Da}};const te=Ra("area",function(W){jf=new ye;Rb(W,re);return 2*jf}),$d=Ra("bounds",function(W){var Ka,mb,yc;r=m=-(Wd=qa=Infinity);sb=[];Rb(W,uc);if(Ka=sb.length){sb.sort(B);W=1;var Ac=sb[0];for(mb=
[Ac];W<Ka;++W){var xd=sb[W];A(Ac,xd[0])||A(Ac,xd[1])?(T(Ac[0],xd[1])>T(Ac[0],Ac[1])&&(Ac[1]=xd[1]),T(xd[0],Ac[1])>T(Ac[0],Ac[1])&&(Ac[0]=xd[0])):mb.push(Ac=xd)}var Vd=-Infinity;Ka=mb.length-1;W=0;for(Ac=mb[Ka];W<=Ka;Ac=xd,++W)xd=mb[W],(yc=T(Ac[1],xd[0]))>Vd&&(Vd=yc,Wd=xd[0],m=Ac[1])}sb=pb=null;return Infinity===Wd||Infinity===qa?[[NaN,NaN],[NaN,NaN]]:[[Wd,qa],[m,r]]}),Ee=Ra("centroid",function(W){sc=qc=oc=Jc=Oc=Ed=pd=wd=0;Sd=new ye;lc=new ye;ud=new ye;Rb(W,de);W=+Sd;var Ka=+lc,mb=+ud,yc=Ye(W,Ka,mb);
return 1E-12>yc&&(W=Ed,Ka=pd,mb=wd,1E-6>qc&&(W=oc,Ka=Jc,mb=Oc),yc=Ye(W,Ka,mb),1E-12>yc)?[NaN,NaN]:[Xd(Ka,W)*jd,Xa(mb/yc)*jd]});var $c=1/.7,le=/^#([0-9a-f]{3,8})$/,lf=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),uf=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),zg=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
yf=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Tf=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),kg=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
mf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ub(Zb,tc,{copy(W){return Object.assign(new this.constructor,this,W)},displayable(){return this.rgb().displayable()},hex:Pb,formatHex:Pb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Lc(this).formatHsl()},formatRgb:Nb,toString:Nb});Ub(Bb,Va,kc(Zb,{brighter(W){W=null==W?$c:Math.pow($c,W);return new Bb(this.r*W,this.g*W,this.b*W,this.opacity)},
darker(W){W=null==W?.7:Math.pow(.7,W);return new Bb(this.r*W,this.g*W,this.b*W,this.opacity)},rgb(){return this},clamp(){return new Bb(jc(this.r),jc(this.g),jc(this.b),Xb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Ib,formatHex:Ib,formatHex8:function(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}${rc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Eb,toString:Eb}));Ub(Ma,oa,kc(Zb,
{brighter(W){W=null==W?$c:Math.pow($c,W);return new Ma(this.h,this.s,this.l*W,this.opacity)},darker(W){W=null==W?.7:Math.pow(.7,W);return new Ma(this.h,this.s,this.l*W,this.opacity)},rgb(){var W=this.h%360+360*(0>this.h),Ka=isNaN(W)||isNaN(this.s)?0:this.s,mb=this.l;Ka=mb+(.5>mb?mb:1-mb)*Ka;mb=2*mb-Ka;return new Bb(w(240<=W?W-240:W+120,mb,Ka),w(W,mb,Ka),w(120>W?W+240:W-120,mb,Ka),this.opacity)},clamp(){return new Ma(ib(this.h),V(this.s),V(this.l),Xb(this.opacity))},displayable(){return(0<=this.s&&
1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const W=Xb(this.opacity);return`${1===W?"hsl(":"hsla("}${ib(this.h)}, ${100*V(this.s)}%, ${100*V(this.l)}%${1===W?")":`, ${W})`}`}}));const Ke=Math.PI/180,lg=180/Math.PI,Zg=4/29,Yf=6/29,mg=3*Yf*Yf,Zf=Yf*Yf*Yf;Ub(Ia,Aa,kc(Zb,{brighter(W){return new Ia(this.l+18*(null==W?1:W),this.a,this.b,this.opacity)},darker(W){return new Ia(this.l-18*(null==W?1:W),this.a,this.b,this.opacity)},rgb(){var W=(this.l+16)/116,
Ka=isNaN(this.a)?W:W+this.a/500,mb=isNaN(this.b)?W:W-this.b/200;Ka=.96422*ob(Ka);W=1*ob(W);mb=.82521*ob(mb);return new Bb(Sb(3.1338561*Ka-1.6168667*W-.4906146*mb),Sb(-.9787684*Ka+1.9161415*W+.033454*mb),Sb(.0719453*Ka-.2289914*W+1.4052427*mb),this.opacity)}}));Ub(Bc,vc,kc(Zb,{brighter(W){return new Bc(this.h,this.c,this.l+18*(null==W?1:W),this.opacity)},darker(W){return new Bc(this.h,this.c,this.l-18*(null==W?1:W),this.opacity)},rgb(){return Ic(this).rgb()}}));const $g={},ah=W=>W.data,bh={random(){return Db.random()},
cumulativeNormal:Db.cumulativeNormal,cumulativeLogNormal:Db.cumulativeLogNormal,cumulativeUniform:Db.cumulativeUniform,densityNormal:Db.densityNormal,densityLogNormal:Db.densityLogNormal,densityUniform:Db.densityUniform,quantileNormal:Db.quantileNormal,quantileLogNormal:Db.quantileLogNormal,quantileUniform:Db.quantileUniform,sampleNormal:Db.sampleNormal,sampleLogNormal:Db.sampleLogNormal,sampleUniform:Db.sampleUniform,isArray:l.isArray,isBoolean:l.isBoolean,isDate:l.isDate,isDefined(W){return void 0!==
W},isNumber:l.isNumber,isObject:l.isObject,isRegExp:l.isRegExp,isString:l.isString,isTuple:ub.isTuple,isValid(W){return null!=W&&W===W},toBoolean:l.toBoolean,toDate(W){return l.toDate(W)},toNumber:l.toNumber,toString:l.toString,indexof:wa,join:ca,lastindexof:pa,replace:Lb,reverse:$b,sort:hc,slice:eb,flush:l.flush,lerp:l.lerp,merge:kd,pad:l.pad,peek:l.peek,pluck:va,span:l.span,inrange:l.inrange,truncate:l.truncate,rgb:Va,lab:Aa,hcl:vc,hsl:oa,luminance:dd,contrast:Uc,sequence:function(W,Ka,mb){W=+W;
Ka=+Ka;mb=2>(Ac=arguments.length)?(Ka=W,W=0,1):3>Ac?1:+mb;for(var yc=-1,Ac=Math.max(0,Math.ceil((Ka-W)/mb))|0,xd=Array(Ac);++yc<Ac;)xd[yc]=W+yc*mb;return xd},format:Xe,utcFormat:df,utcParse:Nd,utcOffset:yb.utcOffset,utcSequence:yb.utcSequence,timeFormat:$e,timeParse:Fe,timeOffset:yb.timeOffset,timeSequence:yb.timeSequence,timeUnitSpecifier:yb.timeUnitSpecifier,monthFormat:Ab,monthAbbrevFormat:xb,dayFormat:qb,dayAbbrevFormat:Cb,quarter:l.quarter,utcquarter:l.utcquarter,week:yb.week,utcweek:yb.utcweek,
dayofyear:yb.dayofyear,utcdayofyear:yb.utcdayofyear,warn:Vb,info:Y,debug:Ha,extent(W){return l.extent(W)},inScope:zb,intersect:oe,clampRange:l.clampRange,pinchDistance:z,pinchAngle:K,screen:De,containerSize:ke,windowSize:Ie,bandspace:Ec,setdata:Yb,pathShape:Me,panLinear:l.panLinear,panLog:l.panLog,panPow:l.panPow,panSymlog:l.panSymlog,zoomLinear:l.zoomLinear,zoomLog:l.zoomLog,zoomPow:l.zoomPow,zoomSymlog:l.zoomSymlog,encode:Ba,modify:gd,lassoAppend:function(W,Ka,mb,yc=5){W=l.array(W);const Ac=W[W.length-
1];return void 0===Ac||Math.hypot(Ac[0]-Ka,Ac[1]-mb)>yc?[...W,[Ka,mb]]:W},lassoPath:function(W){return l.array(W).reduce((Ka,[mb,yc],Ac)=>Ka+(0==Ac?`M ${mb},${yc} `:Ac===W.length-1?" Z":`L ${mb},${yc} `),"")},intersectLasso:function(W,Ka,mb){const {x:yc,y:Ac,mark:xd}=mb;mb=(new Wb.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [Vd,Id]of Ka)Vd<mb.x1&&(mb.x1=Vd),Vd>mb.x2&&(mb.x2=Vd),Id<mb.y1&&(mb.y1=Id),Id>mb.y2&&(mb.y2=Id);mb.translate(yc,
Ac);return oe([[mb.x1,mb.y1],[mb.x2,mb.y2]],W,xd).filter(Vd=>{var Id=Vd.y;let ig=0;for(let pf=0,ug=Ka.length-1;pf<Ka.length;ug=pf++){const [ph,ch]=Ka[ug],[ng,Kg]=Ka[pf];Kg>Id!=ch>Id&&Vd.x<(ph-ng)*(Id-Kg)/(ch-Kg)+ng&&ig++}return ig&1})}},Sg="view item group xy x y".split(" "),Tg={},oh={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:W=>`_[${l.stringValue("$"+W)}]`,functions:function(W){const Ka=ja.functions(W);Sg.forEach(mb=>Ka[mb]="event.vega."+mb);for(const mb in bh)Ka[mb]=
"this."+mb;l.extend(Ka,Sa(W,bh,Tg));return Ka},constants:ja.constants,visitors:Tg},Uf=ja.codegenExpression(oh);zd("bandwidth",Pc,ua);zd("copy",Nc,ua);zd("domain",md,ua);zd("range",yd,ua);zd("invert",td,ua);zd("scale",Md,ua);zd("gradient",Ad,ua);zd("geoArea",te,ua);zd("geoBounds",$d,ua);zd("geoCentroid",Ee,ua);zd("geoShape",je,ua);zd("geoScale",db,ua);zd("indata",Qb,mc);zd("data",wb,lb);zd("treePath",Re,lb);zd("treeAncestors",He,lb);zd("vlSelectionTest",ec.selectionTest,ec.selectionVisitor);zd("vlSelectionIdTest",
ec.selectionIdTest,ec.selectionVisitor);zd("vlSelectionResolve",ec.selectionResolve,ec.selectionVisitor);zd("vlSelectionTuples",ec.selectionTuples);u.DataPrefix=":";u.IndexPrefix="@";u.ScalePrefix="%";u.SignalPrefix="$";u.bandspace=Ec;u.bandwidth=Pc;u.codeGenerator=Uf;u.codegenParams=oh;u.containerSize=ke;u.contrast=Uc;u.copy=Nc;u.data=wb;u.dataVisitor=lb;u.dayAbbrevFormat=Cb;u.dayFormat=qb;u.debug=Ha;u.domain=md;u.encode=Ba;u.expressionFunction=zd;u.format=Xe;u.functionContext=bh;u.geoArea=te;u.geoBounds=
$d;u.geoCentroid=Ee;u.geoScale=db;u.geoShape=je;u.inScope=zb;u.indata=Qb;u.indataVisitor=mc;u.indexof=wa;u.info=Y;u.invert=td;u.join=ca;u.lastindexof=pa;u.luminance=dd;u.merge=kd;u.modify=gd;u.monthAbbrevFormat=xb;u.monthFormat=Ab;u.parseExpression=function(W,Ka){const mb={};let yc;try{W=l.isString(W)?W:l.stringValue(W)+"",yc=ja.parseExpression(W)}catch(Ac){l.error("Expression parse error: "+W)}yc.visit(Ac=>{if(Ac.type===ja.CallExpression){var xd=Ac.callee.name,Vd=oh.visitors[xd];Vd&&Vd(xd,Ac.arguments,
Ka,mb)}});W=Uf(yc);W.globals.forEach(Ac=>{const xd="$"+Ac;!l.hasOwnProperty(mb,xd)&&Ka.getSignal(Ac)&&(mb[xd]=Ka.signalRef(Ac))});return{$expr:l.extend({code:W.code},Ka.options.ast?{ast:yc}:null),$fields:W.fields,$params:mb}};u.pathShape=Me;u.pinchAngle=K;u.pinchDistance=z;u.pluck=va;u.range=yd;u.replace=Lb;u.reverse=$b;u.scale=Md;u.scaleGradient=Ad;u.scaleVisitor=ua;u.screen=De;u.setdata=Yb;u.slice=eb;u.sort=hc;u.timeFormat=$e;u.timeParse=Fe;u.treeAncestors=He;u.treePath=Re;u.utcFormat=df;u.utcParse=
Nd;u.warn=Vb;u.windowSize=Ie})};
shadow$provide[52]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(24),nb(32)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega))})(this,function(u,l,ja){function Za(Ba,bb,Ab){Ab.endsWith(";")||(Ab="return("+Ab+");");bb=Function(...bb.concat(Ab));return Ba&&Ba.functions?bb.bind(Ba.functions):bb}function ub(Ba,bb,Ab){if(!Ba||!l.isObject(Ba))return Ba;
for(let xb=0,qb=Qb.length,Cb;xb<qb;++xb)if(Cb=Qb[xb],l.hasOwnProperty(Ba,Cb.key))return Cb.parse(Ba,bb,Ab);return Ba}function Wb(Ba,bb,Ab,xb){this.dataflow=Ba;this.transforms=bb;this.events=Ba.events.bind(Ba);this.expr=xb||wb;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};Ab&&(this.functions=Object.create(Ab),this.functions.context=this)}function ec(Ba){this.dataflow=Ba.dataflow;this.transforms=Ba.transforms;this.events=Ba.events;this.expr=Ba.expr;this.signals=Object.create(Ba.signals);
this.scales=Object.create(Ba.scales);this.nodes=Object.create(Ba.nodes);this.data=Object.create(Ba.data);this.fn=Object.create(Ba.fn);Ba.functions&&(this.functions=Object.create(Ba.functions),this.functions.context=this)}const Db=l.toSet(["rule"]),yb=l.toSet(["group","image","rect"]);var wb={operator:(Ba,bb)=>Za(Ba,["_"],bb.code),parameter:(Ba,bb)=>Za(Ba,["datum","_"],bb.code),event:(Ba,bb)=>Za(Ba,["event"],bb.code),handler:(Ba,bb)=>Za(Ba,["_","event"],`var datum=event.item&&event.item.datum;return ${bb.code};`),
encode:(Ba,bb)=>{const {marktype:Ab,channels:xb}=bb;bb="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var qb in xb){const Cb="o["+l.stringValue(qb)+"]";bb+=`$=${xb[qb].code};if(${Cb}!==$)${Cb}=$,m=1;`}qb="";Db[Ab]||(xb.x2&&(xb.x?(yb[Ab]&&(qb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),qb+="o.width\x3do.x2-o.x;"):qb+="o.x\x3do.x2-(o.width||0);"),xb.xc&&(qb+="o.x\x3do.xc-(o.width||0)/2;"),xb.y2&&(xb.y?(yb[Ab]&&(qb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),qb+="o.height\x3do.y2-o.y;"):
qb+="o.y\x3do.y2-(o.height||0);"),xb.yc&&(qb+="o.y\x3do.yc-(o.height||0)/2;"));bb+=qb;return Za(Ba,["item","_"],bb+"return m;")},codegen:{get(Ba){Ba=`[${Ba.map(l.stringValue).join("][")}]`;const bb=Function("_",`return _${Ba};`);bb.path=Ba;return bb},comparator(Ba,bb){let Ab;Ba=Function("a","b","var u, v; return "+Ba.map((xb,qb)=>{const Cb=bb[qb];let lb;xb.path?(lb=`a${xb.path}`,xb=`b${xb.path}`):((Ab=Ab||{})["f"+qb]=xb,lb=`this.f${qb}(a)`,xb=`this.f${qb}(b)`);qb=-Cb;return`((u = ${lb}) < (v = ${xb}) || u == null) && v != null ? ${qb}
  : (u > v || v == null) && u != null ? ${Cb}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${qb}
  : v !== v && u === u ? ${Cb} : `}).join("")+"0;");return Ab?Ba.bind(Ab):Ba}}},Qb=[{key:"$ref",parse:function(Ba,bb){return bb.get(Ba.$ref)||l.error("Operator not defined: "+Ba.$ref)}},{key:"$key",parse:function(Ba,bb){const Ab="k:"+Ba.$key+"_"+!!Ba.$flat;return bb.fn[Ab]||(bb.fn[Ab]=l.key(Ba.$key,Ba.$flat,bb.expr.codegen))}},{key:"$expr",parse:function(Ba,bb,Ab){Ba.$params&&bb.parseParameters(Ba.$params,Ab);Ab="e:"+Ba.$expr.code;return bb.fn[Ab]||(bb.fn[Ab]=l.accessor(bb.parameterExpression(Ba.$expr),
Ba.$fields))}},{key:"$field",parse:function(Ba,bb){if(!Ba.$field)return null;const Ab="f:"+Ba.$field+"_"+Ba.$name;return bb.fn[Ab]||(bb.fn[Ab]=l.field(Ba.$field,Ba.$name,bb.expr.codegen))}},{key:"$encode",parse:function(Ba,bb){Ba=Ba.$encode;const Ab={};for(const xb in Ba){const qb=Ba[xb];Ab[xb]=l.accessor(bb.encodeExpression(qb.$expr),qb.$fields);Ab[xb].output=qb.$output}return Ab}},{key:"$compare",parse:function(Ba,bb){const Ab="c:"+Ba.$compare+"_"+Ba.$order,xb=l.array(Ba.$compare).map(qb=>qb&&qb.$tupleid?
ja.tupleid:qb);return bb.fn[Ab]||(bb.fn[Ab]=l.compare(xb,Ba.$order,bb.expr.codegen))}},{key:"$context",parse:function(Ba,bb){return bb}},{key:"$subflow",parse:function(Ba,bb){const Ab=Ba.$subflow;return function(xb,qb,Cb){const lb=bb.fork().parse(Ab);xb=lb.get(Ab.operators[0].id);(qb=lb.signals.parent)&&qb.set(Cb);xb.detachSubflow=()=>bb.detach(lb);return xb}}},{key:"$tupleid",parse:function(){return ja.tupleid}}];const Yb={skip:!0};Wb.prototype=ec.prototype={fork(){const Ba=new ec(this);(this.subcontext||
(this.subcontext=[])).push(Ba);return Ba},detach(Ba){this.subcontext=this.subcontext.filter(Ab=>Ab!==Ba);const bb=Object.keys(Ba.nodes);for(const Ab of bb)Ba.nodes[Ab]._targets=null;for(const Ab of bb)Ba.nodes[Ab].detach();Ba.nodes=null},get(Ba){return this.nodes[Ba]},set(Ba,bb){return this.nodes[Ba]=bb},add(Ba,bb){const Ab=this,xb=Ab.dataflow,qb=Ba.value;Ab.set(Ba.id,bb);"collect"===(Ba.type+"").toLowerCase()&&qb&&(qb.$ingest?xb.ingest(bb,qb.$ingest,qb.$format):qb.$request?xb.preload(bb,qb.$request,
qb.$format):xb.pulse(bb,xb.changeset().insert(qb)));Ba.root&&(Ab.root=bb);if(Ba.parent){let Cb=Ab.get(Ba.parent.$ref);Cb?(xb.connect(Cb,[bb]),bb.targets().add(Cb)):(Ab.unresolved=Ab.unresolved||[]).push(()=>{Cb=Ab.get(Ba.parent.$ref);xb.connect(Cb,[bb]);bb.targets().add(Cb)})}Ba.signal&&(Ab.signals[Ba.signal]=bb);Ba.scale&&(Ab.scales[Ba.scale]=bb);if(Ba.data)for(const Cb in Ba.data){const lb=Ab.data[Cb]||(Ab.data[Cb]={});Ba.data[Cb].forEach(mc=>lb[mc]=bb)}},resolve(){(this.unresolved||[]).forEach(Ba=>
Ba());delete this.unresolved;return this},operator(Ba,bb){this.add(Ba,this.dataflow.add(Ba.value,bb))},transform(Ba,bb){this.add(Ba,this.dataflow.add(this.transforms[(bb+"").toLowerCase()]))},stream(Ba,bb){this.set(Ba.id,bb)},update(Ba,bb,Ab,xb,qb){this.dataflow.on(bb,Ab,xb,qb,Ba.options)},operatorExpression(Ba){return this.expr.operator(this,Ba)},parameterExpression(Ba){return this.expr.parameter(this,Ba)},eventExpression(Ba){return this.expr.event(this,Ba)},handlerExpression(Ba){return this.expr.handler(this,
Ba)},encodeExpression(Ba){return this.expr.encode(this,Ba)},parse:function(Ba){const bb=this,Ab=Ba.operators||[];Ba.background&&(bb.background=Ba.background);Ba.eventConfig&&(bb.eventConfig=Ba.eventConfig);Ba.locale&&(bb.locale=Ba.locale);Ab.forEach(xb=>bb.parseOperator(xb));Ab.forEach(xb=>bb.parseOperatorParameters(xb));(Ba.streams||[]).forEach(xb=>bb.parseStream(xb));(Ba.updates||[]).forEach(xb=>bb.parseUpdate(xb));return bb.resolve()},parseOperator:function(Ba){"operator"!==(Ba.type+"").toLowerCase()&&
Ba.type?this.transform(Ba,Ba.type):this.operator(Ba,Ba.update?this.operatorExpression(Ba.update):null)},parseOperatorParameters:function(Ba){if(Ba.params){const bb=this.get(Ba.id);bb||l.error("Invalid operator id: "+Ba.id);this.dataflow.connect(bb,bb.parameters(this.parseParameters(Ba.params),Ba.react,Ba.initonly))}},parseParameters:function(Ba,bb){bb=bb||{};const Ab=this;for(const xb in Ba){const qb=Ba[xb];bb[xb]=l.isArray(qb)?qb.map(Cb=>ub(Cb,Ab,bb)):ub(qb,Ab,bb)}return bb},parseStream:function(Ba){var bb=
this,Ab=null!=Ba.filter?bb.eventExpression(Ba.filter):void 0,xb=null!=Ba.stream?bb.get(Ba.stream):void 0;if(Ba.source)xb=bb.events(Ba.source,Ba.type,Ab);else if(Ba.merge){var qb=Ba.merge.map(Cb=>bb.get(Cb));xb=qb[0].merge.apply(qb[0],qb.slice(1))}Ba.between&&(qb=Ba.between.map(Cb=>bb.get(Cb)),xb=xb.between(qb[0],qb[1]));Ba.filter&&(xb=xb.filter(Ab));null!=Ba.throttle&&(xb=xb.throttle(+Ba.throttle));null!=Ba.debounce&&(xb=xb.debounce(+Ba.debounce));null==xb&&l.error("Invalid stream definition: "+JSON.stringify(Ba));
Ba.consume&&xb.consume(!0);bb.stream(Ba,xb)},parseUpdate:function(Ba){var bb=l.isObject(bb=Ba.source)?bb.$ref:bb;bb=this.get(bb);var Ab=Ba.update,xb=void 0;bb||l.error("Source not defined: "+Ba.source);var qb=Ba.target&&Ba.target.$expr?this.eventExpression(Ba.target.$expr):this.get(Ba.target);Ab&&Ab.$expr&&(Ab.$params&&(xb=this.parseParameters(Ab.$params)),Ab=this.handlerExpression(Ab.$expr));this.update(Ba,bb,qb,Ab,xb)},getState:function(Ba){var bb=this,Ab={};if(Ba.signals){var xb=Ab.signals={};
Object.keys(bb.signals).forEach(Cb=>{const lb=bb.signals[Cb];Ba.signals(Cb,lb)&&(xb[Cb]=lb.value)})}if(Ba.data){var qb=Ab.data={};Object.keys(bb.data).forEach(Cb=>{const lb=bb.data[Cb];Ba.data(Cb,lb)&&(qb[Cb]=lb.input.value)})}bb.subcontext&&!1!==Ba.recurse&&(Ab.subcontext=bb.subcontext.map(Cb=>Cb.getState(Ba)));return Ab},setState:function(Ba){var bb=this,Ab=bb.dataflow,xb=Ba.data,qb=Ba.signals;Object.keys(qb||{}).forEach(Cb=>{Ab.update(bb.signals[Cb],qb[Cb],Yb)});Object.keys(xb||{}).forEach(Cb=>
{Ab.pulse(bb.data[Cb].input,Ab.changeset().remove(l.truthy).insert(xb[Cb]))});(Ba.subcontext||[]).forEach((Cb,lb)=>{(lb=bb.subcontext[lb])&&lb.setState(Cb)})}};u.context=function(Ba,bb,Ab,xb){return new Wb(Ba,bb,Ab,xb)}})};
shadow$provide[53]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(24),nb(32),nb(37),nb(51),nb(52),nb(27)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,Za,ub,Wb,ec){function Db(oa){const Ma=oa.container();Ma&&(Ma.setAttribute("role",
"graphics-document"),Ma.setAttribute("aria-roleDescription","visualization"),yb(Ma,oa.description()))}function yb(oa,Ma){oa&&(null==Ma?oa.removeAttribute("aria-label"):oa.setAttribute("aria-label",Ma))}function wb(oa){oa.add(null,Ma=>{oa._background=Ma.bg;oa._resize=1;return Ma.bg},{bg:oa._signals.background})}function Qb(oa){const Ma=oa._signals.cursor||(oa._signals.cursor=oa.add({user:"default",item:null}));oa.on(oa.events("view","pointermove"),Ma,(ib,V)=>{const w=(ib=Ma.value)?l.isString(ib)?ib:
ib.user:"default";V=V.item&&V.item.cursor||null;return ib&&w===ib.user&&V==ib.item?ib:{user:w,item:V}});oa.add(null,function(ib){ib=ib.cursor;let V=this.value;l.isString(ib)||(V=ib.item,ib=ib.user);Yb(oa,ib&&"default"!==ib?ib:V||ib);return V},{cursor:Ma})}function Yb(oa,Ma){if(oa=oa.globalCursor()?"undefined"!==typeof document&&document.body:oa.container())return null==Ma?oa.style.removeProperty("cursor"):oa.style.cursor=Ma}function Ba(oa,Ma){oa=oa._runtime.data;l.hasOwnProperty(oa,Ma)||l.error("Unrecognized data set: "+
Ma);return oa[Ma]}function bb(oa,Ma){ja.isChangeSet(Ma)||l.error("Second argument to changes must be a changeset.");oa=Ba(this,oa);oa.modified=!0;return this.pulse(oa.input,Ma)}function Ab(oa){var Ma=oa.padding();return Math.max(0,oa._viewWidth+Ma.left+Ma.right)}function xb(oa){var Ma=oa.padding();return Math.max(0,oa._viewHeight+Ma.top+Ma.bottom)}function qb(oa){var Ma=oa.padding();oa=oa._origin;return[Ma.left+oa[0],Ma.top+oa[1]]}function Cb(oa){var Ma=qb(oa),ib=Ab(oa),V=xb(oa);oa._renderer.background(oa.background());
oa._renderer.resize(ib,V,Ma);oa._handler.origin(Ma);oa._resizeListeners.forEach(w=>{try{w(ib,V)}catch(da){oa.error(da)}})}function lb(oa,Ma,ib){function V(Aa){var Ia=da,Wa;if(Aa)for(Wa=Ma;Wa;Wa=Wa.mark.group)if(Wa.mark.name===Aa){Ia=Wa;break}return Ia&&Ia.mark&&Ia.mark.interactive?Ia:{}}function w(Aa){if(!Aa)return ib;l.isString(Aa)&&(Aa=V(Aa));const Ia=ib.slice();for(;Aa;)Ia[0]-=Aa.x||0,Ia[1]-=Aa.y||0,Aa=Aa.mark&&Aa.mark.group;return Ia}const da=Ma?"group"===Ma.mark.marktype?Ma:Ma.mark.group:null;
return{view:l.constant(oa),item:l.constant(Ma||{}),group:V,xy:w,x:Aa=>w(Aa)[0],y:Aa=>w(Aa)[1]}}function mc(oa){oa=l.extend({defaults:{}},oa);const Ma=(ib,V)=>{V.forEach(w=>{l.isArray(ib[w])&&(ib[w]=l.toSet(ib[w]))})};Ma(oa.defaults,["prevent","allow"]);Ma(oa,["view","window","selector"]);return oa}function ua(oa,Ma,ib,V){oa._eventListeners.push({type:ib,sources:l.array(Ma),handler:V})}function ha(oa,Ma,ib){const V=oa._eventConfig&&oa._eventConfig[Ma];return!1===V||l.isObject(V)&&!V[ib]?(oa.warn(`Blocked ${Ma} ${ib} event listener.`),
!1):!0}function xa(oa){return oa.item}function Sa(oa){return oa.item.mark.source}function Xa(oa){return function(Ma,ib){return ib.vega.view().changeset().encode(ib.item,oa)}}function La(oa,Ma,ib){oa=document.createElement(oa);for(const V in Ma)oa.setAttribute(V,Ma[V]);null!=ib&&(oa.textContent=ib);return oa}function jb(oa,Ma,ib){var V=(Ma-oa)/Math.max(0,ib),w=Math.floor(Math.log10(V));V/=Math.pow(10,w);V=V>=Nb?10:V>=tc?5:V>=Mc?2:1;let da;0>w?(da=Math.pow(10,-w)/V,w=Math.round(oa*da),V=Math.round(Ma*
da),w/da<oa&&++w,V/da>Ma&&--V,da=-da):(da=Math.pow(10,w)*V,w=Math.round(oa/da),V=Math.round(Ma/da),w*da<oa&&++w,V*da>Ma&&--V);return V<w&&.5<=ib&&2>ib?jb(oa,Ma,2*ib):[w,V,da]}function fb(oa,Ma,ib){return jb(+oa,+Ma,+ib)[2]}function vb(oa,Ma,ib){Ma=+Ma;oa=+oa;ib=+ib;const V=Ma<oa;oa=V?fb(Ma,oa,ib):fb(oa,Ma,ib);return(V?-1:1)*(0>oa?1/-oa:oa)}function Rb(oa,Ma,ib){if(Ma){var V=ib.param,w=ib.state;w||(w=ib.state={elements:null,active:!1,set:null,update:da=>{da!=oa.signal(V.signal)&&oa.runAsync(null,()=>
{w.source=!0;oa.signal(V.signal,da)})}},V.debounce&&(w.update=l.debounce(V.debounce,w.update)));(null==V.input&&V.element?Na:U)(w,Ma,V,oa);w.active||(oa.on(oa._signals[V.signal],null,()=>{w.source?w.source=!1:w.set(oa.signal(V.signal))}),w.active=!0);return w}}function Na(oa,Ma,ib,V){const w=ib.event||"input",da=()=>oa.update(Ma.value);V.signal(ib.signal,Ma.value);Ma.addEventListener(w,da);ua(V,Ma,w,da);oa.set=Aa=>{Ma.value=Aa;Aa=Ma.dispatchEvent;var Ia="undefined"!==typeof Event?new Event(w):{type:w};
Aa.call(Ma,Ia)}}function U(oa,Ma,ib,V){V=V.signal(ib.signal);const w=La("div",{"class":"vega-bind"}),da="radio"===ib.input?w:w.appendChild(La("label"));da.appendChild(La("span",{"class":"vega-bind-name"},ib.name||ib.signal));Ma.appendChild(w);Ma=ea;switch(ib.input){case "checkbox":Ma=Ja;break;case "select":Ma=Z;break;case "radio":Ma=Fa;break;case "range":Ma=ma}Ma(oa,da,ib,V)}function ea(oa,Ma,ib,V){const w=La("input");for(const da in ib)"signal"!==da&&"element"!==da&&w.setAttribute("input"===da?"type":
da,ib[da]);w.setAttribute("name",ib.signal);w.value=V;Ma.appendChild(w);w.addEventListener("input",()=>oa.update(w.value));oa.elements=[w];oa.set=da=>w.value=da}function Ja(oa,Ma,ib,V){ib={type:"checkbox",name:ib.signal};V&&(ib.checked=!0);const w=La("input",ib);Ma.appendChild(w);w.addEventListener("change",()=>oa.update(w.checked));oa.elements=[w];oa.set=da=>w.checked=!!da||null}function Z(oa,Ma,ib,V){const w=La("select",{name:ib.signal}),da=ib.labels||[];ib.options.forEach((Aa,Ia)=>{const Wa={value:Aa};
na(Aa,V)&&(Wa.selected=!0);w.appendChild(La("option",Wa,(da[Ia]||Aa)+""))});Ma.appendChild(w);w.addEventListener("change",()=>{oa.update(ib.options[w.selectedIndex])});oa.elements=[w];oa.set=Aa=>{for(let Ia=0,Wa=ib.options.length;Ia<Wa;++Ia)if(na(ib.options[Ia],Aa)){w.selectedIndex=Ia;break}}}function Fa(oa,Ma,ib,V){const w=La("span",{"class":"vega-bind-radio"}),da=ib.labels||[];Ma.appendChild(w);oa.elements=ib.options.map((Aa,Ia)=>{var Wa={type:"radio",name:ib.signal,value:Aa};na(Aa,V)&&(Wa.checked=
!0);Wa=La("input",Wa);Wa.addEventListener("change",()=>oa.update(Aa));Ia=La("label",{},(da[Ia]||Aa)+"");Ia.prepend(Wa);w.appendChild(Ia);return Wa});oa.set=Aa=>{const Ia=oa.elements,Wa=Ia.length;for(let ob=0;ob<Wa;++ob)na(Ia[ob].value,Aa)&&(Ia[ob].checked=!0)}}function ma(oa,Ma,ib,V){V=void 0!==V?V:(+ib.max+ +ib.min)/2;const w=null!=ib.max?ib.max:Math.max(100,+V)||100,da=ib.min||Math.min(0,w,+V)||0,Aa=ib.step||vb(da,w,100),Ia=La("input",{type:"range",name:ib.signal,min:da,max:w,step:Aa});Ia.value=
V;const Wa=La("span",{},+V);Ma.appendChild(Ia);Ma.appendChild(Wa);Ma=()=>{Wa.textContent=Ia.value;oa.update(+Ia.value)};Ia.addEventListener("input",Ma);Ia.addEventListener("change",Ma);oa.elements=[Ia];oa.set=ob=>{Ia.value=ob;Wa.textContent=ob}}function na(oa,Ma){return oa===Ma||oa+""===Ma+""}function n(oa,Ma,ib,V,w,da){Ma=Ma||new V(oa.loader());return Ma.initialize(ib,Ab(oa),xb(oa),qb(oa),w,da).background(oa.background())}function F(oa,Ma){return Ma?function(){try{Ma.apply(this,arguments)}catch(ib){oa.error(ib)}}:
null}function N(oa,Ma,ib,V){const w=(new V(oa.loader(),F(oa,oa.tooltip()))).scene(oa.scenegraph().root).initialize(ib,qb(oa),oa);Ma&&Ma.handlers().forEach(da=>{w.on(da.type,da.handler)});return w}function x(oa,Ma,ib){if("string"===typeof Ma)if("undefined"!==typeof document){if(Ma=document.querySelector(Ma),!Ma)return oa.error("Signal bind element not found: "+Ma),null}else return oa.error("DOM document instance not found."),null;if(Ma&&ib)try{Ma.textContent=""}catch(V){Ma=null,oa.error(V)}return Ma}
function T(oa){l.isObject(oa)?oa={top:+oa.top||0,bottom:+oa.bottom||0,left:+oa.left||0,right:+oa.right||0}:(oa=+oa||0,oa={top:oa,bottom:oa,left:oa,right:oa});return oa}function B(oa,Ma,ib,V){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var w=Za.renderModule(Ma);(w=w&&w.headless)||l.error("Unrecognized renderer type: "+Ma);yield oa.runAsync();return n(oa,null,null,w,ib,V).renderAsync(oa._scenegraph.root)})}function A(oa,Ma,ib){return Wb.context(oa,ja.transforms,ub.functionContext,
ib).parse(Ma)}function Q(oa,Ma){var ib=oa.autosize();oa=oa.padding();return Ma-(ib&&"padding"===ib.contains?oa.left+oa.right:0)}function D(oa,Ma){var ib=oa.autosize();oa=oa.padding();return Ma-(ib&&"padding"===ib.contains?oa.top+oa.bottom:0)}function E(oa){function Ma(){oa._autosize=oa._resize=1}var ib=oa._signals,V=ib.width,w=ib.height;ib=ib.padding;oa._resizeWidth=oa.add(null,Aa=>{oa._width=Aa.size;oa._viewWidth=Q(oa,Aa.size);Ma()},{size:V});oa._resizeHeight=oa.add(null,Aa=>{oa._height=Aa.size;
oa._viewHeight=D(oa,Aa.size);Ma()},{size:w});const da=oa.add(null,Ma,{pad:ib});oa._resizeWidth.rank=V.rank+1;oa._resizeHeight.rank=w.rank+1;da.rank=ib.rank+1}function I(oa,Ma){return Ma.modified&&l.isArray(Ma.input.value)&&!oa.startsWith("_:vega:_")}function X(oa,Ma){return!("parent"===oa||Ma instanceof ja.transforms.proxy)}function Da(){return jc||(Lc(S),jc=ad.now()+rc)}function S(){jc=0}function ia(){this._call=this._time=this._next=null}function Ca(){jc=(Xb=ad.now())+rc;Hb=Va=0;try{Da();++Hb;for(var oa=
Ib,Ma;oa;)0<=(Ma=jc-oa._time)&&oa._call.call(void 0,Ma),oa=oa._next;--Hb}finally{Hb=0;oa=Ib;for(var ib=Infinity;oa;)if(oa._call){ib>oa._time&&(ib=oa._time);var V=oa;oa=oa._next}else Ma=oa._next,oa._next=null,oa=V?V._next=Ma:Ib=Ma;Eb=V;Ra(ib);jc=0}}function Qa(){var oa=ad.now(),Ma=oa-Xb;1E3<Ma&&(rc-=Ma,Xb=oa)}function Ra(oa){Hb||(Va&&(Va=clearTimeout(Va)),24<oa-jc?(Infinity>oa&&(Va=setTimeout(Ca,oa-ad.now()-rc)),Bb&&(Bb=clearInterval(Bb))):(Bb||(Xb=ad.now(),Bb=setInterval(Qa,1E3)),Hb=1,Lc(Ca)))}function db(oa,
Ma,ib){var V=new ia,w=Ma;if(null==Ma)return V.restart(oa,Ma,ib),V;V._restart=V.restart;V.restart=function(da,Aa,Ia){Aa=+Aa;Ia=null==Ia?Da():+Ia;V._restart(function Sb(ob){ob+=w;V._restart(Sb,w+=Aa,Ia);da(ob)},Aa,Ia)};V.restart(oa,Ma,ib);return V}function zb(oa,Ma,ib,V){if(oa=oa.element())Ma=oa.setAttribute,V=null==V?"":l.isArray(V)?"["+V.map(Vb).join(", ")+"]":l.isObject(V)&&!l.isDate(V)?kb(V):V+"",Ma.call(oa,"title",V)}function kb(oa){return Object.keys(oa).map(Ma=>{const ib=oa[Ma];return Ma+": "+
(l.isArray(ib)?"["+ib.map(Vb).join(", ")+"]":Vb(ib))}).join("\n")}function Vb(oa){return l.isArray(oa)?"[]":l.isObject(oa)&&!l.isDate(oa)?"{}":oa}function Y(oa,Ma){Ma=Ma||{};ja.Dataflow.call(this);Ma.loader&&this.loader(Ma.loader);Ma.logger&&this.logger(Ma.logger);null!=Ma.logLevel&&this.logLevel(Ma.logLevel);if(Ma.locale||oa.locale){var ib=l.extend({},oa.locale,Ma.locale);this.locale(ec.locale(ib.number,ib.time))}this._elBind=this._el=null;this._renderType=Ma.renderer||Za.RenderType.Canvas;this._scenegraph=
new Za.Scenegraph;ib=this._scenegraph.root;this._renderer=null;this._tooltip=Ma.tooltip||zb;this._redraw=!0;this._handler=(new Za.CanvasHandler).scene(ib);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=mc(oa.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const V=A(this,oa,Ma.expr);this._runtime=V;this._signals=V.signals;this._bind=(oa.bindings||[]).map(w=>({state:null,param:l.extend({},w)}));V.root&&V.root.set(ib);
ib.source=V.data.root.input;this.pulse(V.data.root.input,this.changeset().insert(ib.items));this._width=this.width();this._height=this.height();this._viewWidth=Q(this,this._width);this._viewHeight=D(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;E(this);wb(this);Qb(this);this.description(oa.description);Ma.hover&&this.hover();Ma.container&&this.initialize(Ma.container,Ma.bind);Ma.watchPixelRatio&&this._watchPixelRatio()}function Ha(oa,Ma){return l.hasOwnProperty(oa._signals,
Ma)?oa._signals[Ma]:l.error("Unrecognized signal name: "+l.stringValue(Ma))}function Ub(oa,Ma){oa=(oa._targets||[]).filter(ib=>ib._update&&ib._update.handler===Ma);return oa.length?oa[0]:null}function kc(oa,Ma,ib,V){let w=Ub(ib,V);w||(w=F(oa,()=>V(Ma,ib.value)),w.handler=V,oa.on(ib,null,w));return oa}function Zb(oa,Ma,ib){(ib=Ub(Ma,ib))&&Ma._targets.remove(ib);return oa}const Pb={trap:!1},Nb=Math.sqrt(50),tc=Math.sqrt(10),Mc=Math.sqrt(2);var ra={skip:!0},Hb=0,Va=0,Bb=0,Ib,Eb,Xb=0,jc=0,rc=0,ad="object"===
typeof performance&&performance.now?performance:Date,Lc="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(oa){setTimeout(oa,17)};ia.prototype={constructor:ia,restart:function(oa,Ma,ib){if("function"!==typeof oa)throw new TypeError("callback is not a function");ib=(null==ib?Da():+ib)+(null==Ma?0:+Ma);this._next||Eb===this||(Eb?Eb._next=this:Ib=this,Eb=this);this._call=oa;this._time=ib;Ra()},stop:function(){this._call&&(this._call=null,this._time=
Infinity,Ra())}};l.inherits(Y,ja.Dataflow,{evaluate(oa,Ma,ib){const V=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield ja.Dataflow.prototype.evaluate.call(V,oa,Ma);if(V._redraw||V._resize)try{V._renderer&&(V._resize&&(V._resize=0,Cb(V)),yield V._renderer.renderAsync(V._scenegraph.root)),V._redraw=!1}catch(w){V.error(w)}ib&&ja.asyncCallback(V,ib);return V})},dirty(oa){this._redraw=!0;this._renderer&&this._renderer.dirty(oa)},description(oa){if(arguments.length){const Ma=null!=
oa?oa+"":null;Ma!==this._desc&&yb(this._el,this._desc=Ma);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(oa,Ma,ib){const V=Ha(this,oa);return 1===arguments.length?V.value:this.update(V,Ma,ib)},width(oa){return arguments.length?this.signal("width",oa):this.signal("width")},height(oa){return arguments.length?this.signal("height",oa):this.signal("height")},padding(oa){return arguments.length?this.signal("padding",
T(oa)):T(this.signal("padding"))},autosize(oa){return arguments.length?this.signal("autosize",oa):this.signal("autosize")},background(oa){return arguments.length?this.signal("background",oa):this.signal("background")},renderer(oa){if(!arguments.length)return this._renderType;Za.renderModule(oa)||l.error("Unrecognized renderer type: "+oa);oa!==this._renderType&&(this._renderType=oa,this._resetRenderer());return this},tooltip(oa){if(!arguments.length)return this._tooltip;oa!==this._tooltip&&(this._tooltip=
oa,this._resetRenderer());return this},loader(oa){if(!arguments.length)return this._loader;oa!==this._loader&&(ja.Dataflow.prototype.loader.call(this,oa),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Ha(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(oa,Ma,ib,V,w,da){this.runAfter(Aa=>{let Ia=0;Aa._autosize=0;Aa.width()!==ib&&(Ia=1,Aa.signal("width",ib,ra),Aa._resizeWidth.skip(!0));
Aa.height()!==V&&(Ia=1,Aa.signal("height",V,ra),Aa._resizeHeight.skip(!0));Aa._viewWidth!==oa&&(Aa._resize=1,Aa._viewWidth=oa);Aa._viewHeight!==Ma&&(Aa._resize=1,Aa._viewHeight=Ma);if(Aa._origin[0]!==w[0]||Aa._origin[1]!==w[1])Aa._resize=1,Aa._origin=w;Ia&&Aa.run("enter");da&&Aa.runAfter(Wa=>Wa.resize())},!1,1)},addEventListener(oa,Ma,ib){let V=Ma;ib&&!1===ib.trap||(V=F(this,Ma),V.raw=Ma);this._handler.on(oa,V);return this},removeEventListener(oa,Ma){for(var ib=this._handler.handlers(oa),V=ib.length,
w,da;0<=--V;)if(da=ib[V].type,w=ib[V].handler,oa===da&&(Ma===w||Ma===w.raw)){this._handler.off(da,w);break}return this},addResizeListener(oa){const Ma=this._resizeListeners;Ma.includes(oa)||Ma.push(oa);return this},removeResizeListener(oa){var Ma=this._resizeListeners;oa=Ma.indexOf(oa);0<=oa&&Ma.splice(oa,1);return this},addSignalListener(oa,Ma){return kc(this,oa,Ha(this,oa),Ma)},removeSignalListener(oa,Ma){return Zb(this,Ha(this,oa),Ma)},addDataListener(oa,Ma){return kc(this,oa,Ba(this,oa).values,
Ma)},removeDataListener(oa,Ma){return Zb(this,Ba(this,oa).values,Ma)},globalCursor(oa){if(arguments.length){if(this._globalCursor!==!!oa){const Ma=Yb(this,null);this._globalCursor=!!oa;Ma&&Yb(this,Ma)}return this}return this._globalCursor},preventDefault(oa){return arguments.length?(this._preventDefault=oa,this):this._preventDefault},timer:function(oa,Ma){this._timers.push(db(function(ib){oa({timestamp:Date.now(),elapsed:ib})},Ma))},events:function(oa,Ma,ib){var V=this,w=new ja.EventStream(ib);ib=
function(Wa,ob){V.runAsync(null,()=>{var Sb;if(Sb="view"===oa){var Gb=V._eventConfig.defaults;Sb=Gb.prevent;Gb=Gb.allow;Sb=!1===Sb||!0===Gb?!1:!0===Sb||!1===Gb?!0:Sb?Sb[Ma]:Gb?!Gb[Ma]:V.preventDefault()}Sb&&Wa.preventDefault();Sb=w.receive;Gb=(Gb=V._renderer)&&Gb.canvas();if(Gb){var Ob=qb(V);var vc=Wa.changedTouches?Wa.changedTouches[0]:Wa;vc=Za.point(vc,Gb);vc[0]-=Ob[0];vc[1]-=Ob[1]}Wa.dataflow=V;Wa.item=ob;Wa.vega=lb(V,ob,vc);Sb.call(w,Wa)})};var da;if("timer"===oa)ha(V,"timer",Ma)&&V.timer(ib,
Ma);else if("view"===oa)ha(V,"view",Ma)&&V.addEventListener(Ma,ib,Pb);else if("window"===oa?ha(V,"window",Ma)&&"undefined"!==typeof window&&(da=[window]):"undefined"!==typeof document&&ha(V,"selector",Ma)&&(da=Array.from(document.querySelectorAll(oa))),da){for(var Aa=0,Ia=da.length;Aa<Ia;++Aa)da[Aa].addEventListener(Ma,ib);ua(V,da,Ma,ib)}else V.warn("Can not resolve event source: "+oa);return w},finalize:function(){var oa=this._tooltip,Ma=this._timers,ib=this._handler.handlers(),V=this._eventListeners,
w;for(w=Ma.length;0<=--w;)Ma[w].stop();for(w=V.length;0<=--w;){var da=V[w];for(Ma=da.sources.length;0<=--Ma;)da.sources[Ma].removeEventListener(da.type,da.handler)}oa&&oa.call(this,this._handler,null,null,null);for(w=ib.length;0<=--w;)V=ib[w].type,oa=ib[w].handler,this._handler.off(V,oa);return this},hover:function(oa,Ma){oa=[oa||"hover"];Ma=[Ma||"update",oa[0]];this.on(this.events("view","pointerover",xa),Sa,Xa(oa));this.on(this.events("view","pointerout",xa),Sa,Xa(Ma));return this},data:function(oa,
Ma){return 2>arguments.length?Ba(this,oa).values.value:bb.call(this,oa,ja.changeset().remove(l.truthy).insert(Ma))},change:bb,insert:function(oa,Ma){return bb.call(this,oa,ja.changeset().insert(Ma))},remove:function(oa,Ma){return bb.call(this,oa,ja.changeset().remove(Ma))},scale:function(oa){var Ma=this._runtime.scales;l.hasOwnProperty(Ma,oa)||l.error("Unrecognized scale or projection: "+oa);return Ma[oa].value},initialize:function(oa,Ma){const ib=this;var V=ib._renderType;const w=ib._eventConfig.bind;
var da=Za.renderModule(V);oa=ib._el=oa?x(ib,oa,!0):null;Db(ib);da||ib.error("Unrecognized renderer type: "+V);V=da.handler||Za.CanvasHandler;da=oa?da.renderer:da.headless;ib._renderer=da?n(ib,ib._renderer,oa,da):null;ib._handler=N(ib,ib._handler,oa,V);ib._redraw=!0;oa&&"none"!==w&&(Ma=Ma?ib._elBind=x(ib,Ma,!0):oa.appendChild(La("form",{"class":"vega-bindings"})),ib._bind.forEach(Aa=>{Aa.param.element&&"container"!==w&&(Aa.element=x(ib,Aa.param.element,!!Aa.param.input))}),ib._bind.forEach(Aa=>{Rb(ib,
Aa.element||Ma,Aa)}));return ib},toImageURL:function(oa,Ma){const ib=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){oa!==Za.RenderType.Canvas&&oa!==Za.RenderType.SVG&&oa!==Za.RenderType.PNG&&l.error("Unrecognized image type: "+oa);var V=yield B(ib,oa,Ma);oa===Za.RenderType.SVG?(V=V.svg(),V=new Blob([V],{type:"image/svg+xml"}),V=window.URL.createObjectURL(V)):V=V.canvas().toDataURL("image/png");return V})},toCanvas:function(oa,Ma){const ib=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield B(ib,
Za.RenderType.Canvas,oa,Ma)).canvas()})},toSVG:function(oa){const Ma=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield B(Ma,Za.RenderType.SVG,oa)).svg()})},getState:function(oa){return this._runtime.getState(oa||{data:I,signals:X,recurse:!0})},setState:function(oa){this.runAsync(null,Ma=>{Ma._trigger=!1;Ma._runtime.setState(oa)},Ma=>{Ma._trigger=!0});return this},_watchPixelRatio:function(){if("canvas"===this.renderer()&&this._renderer._canvas){let oa=null;const Ma=
()=>{null!=oa&&oa();const ib=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);ib.addEventListener("change",Ma);oa=()=>{ib.removeEventListener("change",Ma)};this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1;this._redraw=!0;this._resize=1;this.resize().runAsync()};Ma()}}});u.View=Y})};
shadow$provide[54]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya):"function"===typeof define&&define.amd?define(["exports"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={}))})(this,function(u){function l(wb,Qb,Yb,Ba,bb){const Ab=wb.length;let xb=0,qb;for(;Qb<Ab;++Qb)if(qb=wb[Qb],xb||qb!==Yb)bb&&0<=bb.indexOf(qb)?--xb:Ba&&0<=Ba.indexOf(qb)&&++xb;else break;return Qb}function ja(wb){const Qb=[],Yb=wb.length;let Ba=0,bb=0;for(;bb<Yb;)bb=
l(wb,bb,",","[{","]}"),Qb.push(wb.substring(Ba,bb).trim()),Ba=++bb;if(0===Qb.length)throw"Empty event selector: "+wb;return Qb}function Za(wb){if("["===wb[0]){var Qb=wb;var Yb=Qb.length;wb=l(Qb,1,"]","[","]");if(wb===Yb)throw"Empty between selector: "+Qb;Yb=ja(Qb.substring(1,wb));if(2!==Yb.length)throw"Between selector must have two elements: "+Qb;Qb=Qb.slice(wb+1).trim();if("\x3e"!==Qb[0])throw"Expected '\x3e' after between selector: "+Qb;Yb=Yb.map(Za);Qb=Za(Qb.slice(1).trim());Qb.between?Qb={between:Yb,
stream:Qb}:Qb.between=Yb}else{Yb={source:Db};const Ba=[];let bb=[0,0],Ab=0,xb=0,qb=wb.length,Cb=0,lb;if("}"===wb[qb-1]){Cb=wb.lastIndexOf("{");if(0<=Cb){try{bb=ub(wb.substring(Cb+1,qb-1))}catch(mc){throw"Invalid throttle specification: "+wb;}wb=wb.slice(0,Cb).trim();qb=wb.length}else throw"Unmatched right brace: "+wb;Cb=0}if(!qb)throw wb;"@"===wb[0]&&(Ab=++Cb);lb=l(wb,Cb,":");lb<qb&&(Ba.push(wb.substring(xb,lb).trim()),xb=Cb=++lb);Cb=l(wb,Cb,"[");if(Cb===qb)Ba.push(wb.substring(xb,qb).trim());else if(Ba.push(wb.substring(xb,
Cb).trim()),Qb=[],xb=++Cb,xb===qb)throw"Unmatched left bracket: "+wb;for(;Cb<qb;){Cb=l(wb,Cb,"]");if(Cb===qb)throw"Unmatched left bracket: "+wb;Qb.push(wb.substring(xb,Cb).trim());if(Cb<qb-1&&"["!==wb[++Cb])throw"Expected left bracket: "+wb;xb=++Cb}if(!(qb=Ba.length)||Wb.test(Ba[qb-1]))throw"Invalid event selector: "+wb;1<qb?(Yb.type=Ba[1],Ab?Yb.markname=Ba[0].slice(1):yb[Ba[0]]?Yb.marktype=Ba[0]:Yb.source=Ba[0]):Yb.type=Ba[0];"!"===Yb.type.slice(-1)&&(Yb.consume=!0,Yb.type=Yb.type.slice(0,-1));null!=
Qb&&(Yb.filter=Qb);bb[0]&&(Yb.throttle=bb[0]);bb[1]&&(Yb.debounce=bb[1]);Qb=Yb}return Qb}function ub(wb){const Qb=wb.split(",");if(!wb.length||2<Qb.length)throw wb;return Qb.map(Yb=>{Yb=+Yb;if(Yb!==Yb)throw wb;return Yb})}const Wb=/[[\]{}]/,ec={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Db,yb;u.parseSelector=function(wb,Qb,Yb){Db=Qb||"view";yb=Yb||ec;return ja(wb.trim()).map(Za)}})};
shadow$provide[55]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(24),nb(51),nb(54),nb(36),nb(32)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,Za,ub,Wb){function ec(m){return l.isObject(m)?m:{type:m||"pad"}}function Db(m){l.isObject(m)?
m=m.signal?m:{top:+m.top||0,bottom:+m.bottom||0,left:+m.left||0,right:+m.right||0}:(m=+m||0,m={top:m,bottom:m,left:m,right:m});return m}function yb(m,r,L,ka){return null!=L?(l.isObject(L)&&!l.isArray(L)||l.isArray(L)&&L.length&&l.isObject(L[0])?m.update[r]=L:m[ka||"enter"][r]={value:L},1):0}function wb(m,r,L){for(const ka in r)yb(m,ka,r[ka]);for(const ka in L)yb(m,ka,L[ka],"update")}function Qb(m,r,L){for(const ka in r)L&&l.hasOwnProperty(L,ka)||(m[ka]=l.extend(m[ka]||{},r[ka]));return m}function Yb(m,
r){return r&&(r.enter&&r.enter[m]||r.update&&r.update[m])}function Ba(m,r,L,ka,Ga){const Ta={},Oa={};let sb,pb;pb="lineBreak";"text"!==r||null==Ga[pb]||Yb(pb,m)||bb(Ta,pb,Ga[pb]);if("legend"==L||String(L).startsWith("axis"))L=null;L="frame"===L?Ga.group:"mark"===L?l.extend({},Ga.mark,Ga[r]):null;for(pb in L)(r=Yb(pb,m)||("fill"===pb||"stroke"===pb)&&(Yb("fill",m)||Yb("stroke",m)))||bb(Ta,pb,L[pb]);l.array(ka).forEach(uc=>{uc=Ga.style&&Ga.style[uc];for(const sc in uc)Yb(sc,m)||bb(Ta,sc,uc[sc])});m=
l.extend({},m);for(pb in Ta)L=Ta[pb],L.signal?(sb=sb||{})[pb]=L:Oa[pb]=L;m.enter=l.extend(Oa,m.enter);sb&&(m.update=l.extend(sb,m.update));return m}function bb(m,r,L){m[r]=L&&L.signal?{signal:L.signal}:{value:L}}function Ab(m){if(null!=m.gradient)return xb(m);if(m.signal)var r=`(${m.signal})`;else m.color?(r=m.color,r=r.c?Ec("hcl",r.h,r.c,r.l):r.h||r.s?Ec("hsl",r.h,r.s,r.l):r.l||r.a?Ec("lab",r.l,r.a,r.b):r.r||r.g||r.b?Ec("rgb",r.r,r.g,r.b):null):r=null!=m.field?Cb(m.field):void 0!==m.value?l.stringValue(m.value):
void 0;if(null!=m.scale){const L=hc(m.scale);null!=m.range?r=`lerp(_range(${L}), ${+m.range})`:(void 0!==r&&(r=`_scale(${L}, ${r})`),m.band&&(r=(r?r+"+":"")+`_bandwidth(${L})`+(1===+m.band?"":"*"+qb(m.band)),m.extra&&(r=`(datum.extra ? _scale(${L}, datum.extra.value) : ${r})`)),null==r&&(r="0"))}void 0===r&&(r=null);null!=m.exponent&&(r=`pow(${r},${qb(m.exponent)})`);null!=m.mult&&(r+=`*${qb(m.mult)}`);null!=m.offset&&(r+=`+${qb(m.offset)}`);m.round&&(r=`round(${r})`);return r}function xb(m){const r=
[m.start,m.stop,m.count].map(L=>null==L?null:l.stringValue(L));for(;r.length&&null==l.peek(r);)r.pop();r.unshift(hc(m.gradient));return`gradient(${r.join(",")})`}function qb(m){return l.isObject(m)?"("+Ab(m)+")":m}function Cb(m){return lb(l.isObject(m)?m:{datum:m})}function lb(m){let r;if(m.signal){r="datum";var L=m.signal}else if(m.group||m.parent){L=Math.max(1,m.level||1);for(r="item";0<L--;)r+=".mark.group";m.parent?(L=m.parent,r+=".datum"):L=m.group}else m.datum?(r="datum",L=m.datum):l.error("Invalid field reference: "+
l.stringValue(m));m.signal||(L=l.isString(L)?l.splitAccessPath(L).map(l.stringValue).join("]["):lb(L));return r+"["+L+"]"}function mc(m){let r="";m.forEach(L=>{const ka=Ab(L);r+=L.test?`(${L.test})?${ka}:`:ka});":"===l.peek(r)&&(r+="null");return r}function ua(m,r,L,ka,Ga,Ta){const Oa={};Ta=Ta||{};Ta.encoders={$encode:Oa};m=Ba(m,r,L,ka,Ga.config);for(const qc in m){L=m[qc];ka=r;var sb=Ta,pb=Ga;const oc={},Jc={};for(const Oc in L)if(null!=L[Oc]){var uc=ha;var sc=L[Oc];sc=l.isArray(sc)?mc(sc):Ab(sc);
oc[Oc]=uc(sc,pb,sb,Jc)}L={$expr:{marktype:ka,channels:oc},$fields:Object.keys(Jc),$output:Object.keys(L)};Oa[qc]=L}return Ta}function ha(m,r,L,ka){m=ja.parseExpression(m,r);m.$fields.forEach(Ga=>ka[Ga]=1);l.extend(L,m.$params);return m.$expr}function xa(m,r){l.error(m+' for "outer" push: '+l.stringValue(r))}function Sa(m,r){const L=m.name;if("outer"===m.push)r.signals[L]||xa("No prior signal definition",L),Pc.forEach(ka=>{void 0!==m[ka]&&xa("Invalid property ",ka)});else{const ka=r.addSignal(L,m.value);
!1===m.react&&(ka.react=!1);m.bind&&r.addBinding(L,m.bind)}}function Xa(m,r,L,ka){this.id=-1;this.type=m;this.value=r;this.params=L;ka&&(this.parent=ka)}function La(m){const r={$ref:m.id};0>m.id&&(m.refs=m.refs||[]).push(r);return r}function jb(m,r){return r?{$field:m,$name:r}:{$field:m}}function fb(m,r){m={$key:m};r&&(m.$flat=!0);return m}function vb(m,r){return(m&&m.signal?"$"+m.signal:m||"")+(m&&r?"_":"")+(r&&r.signal?"$"+r.signal:r||"")}function Rb(m){return m&&m.signal}function Na(m){if(Rb(m))return!0;
if(l.isObject(m))for(const r in m)if(Na(m[r]))return!0;return!1}function U(m,r){return null!=m?m:r}function ea(m){return m&&m.signal||m}function Ja(m,r){return(m.merge?Z:m.stream?Fa:m.type?ma:l.error("Invalid stream specification: "+l.stringValue(m)))(m,r)}function Z(m,r){const L=m.merge.map(ka=>Ja(ka,r));m=na({merge:L},m,r);return r.addStream(m).id}function Fa(m,r){const L=Ja(m.stream,r);m=na({stream:L},m,r);return r.addStream(m).id}function ma(m,r){if("timer"===m.type){var L=r.event("timer",m.throttle);
m={between:m.between,filter:m.filter}}else L=m.source,L=r.event.call(r,"scope"===L?"view":L||"view",m.type);m=na({stream:L},m,r);return 1===Object.keys(m).length?L:r.addStream(m).id}function na(m,r,L){let ka=r.between;ka&&(2!==ka.length&&l.error('Stream "between" parameter must have 2 entries: '+l.stringValue(r)),m.between=[Ja(ka[0],L),Ja(ka[1],L)]);ka=r.filter?[].concat(r.filter):[];if(r.marktype||r.markname||r.markrole){var Ga=ka,Ta=r.marktype,Oa=r.markname,sb=r.markrole;Ga.push.call(Ga,"event.item"+
(Ta&&"*"!==Ta?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Ta+"'":"")+(sb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+sb+"'":"")+(Oa?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Oa+"'":""))}"scope"===r.source&&ka.push("inScope(event.item)");ka.length&&(m.filter=ja.parseExpression("("+ka.join(")\x26\x26(")+")",L).$expr);null!=(ka=r.throttle)&&(m.throttle=+ka);null!=(ka=r.debounce)&&(m.debounce=+ka);r.consume&&(m.consume=!0);return m}function n(m,r,L){const ka=m.encode,Ga={target:L};L=m.events;let Ta=
m.update,Oa=[];L||l.error("Signal update missing events specification.");l.isString(L)&&(L=Za.parseSelector(L,r.isSubscope()?"scope":"view"));L=l.array(L).filter(sb=>sb.signal||sb.scale?(Oa.push(sb),0):1);1<Oa.length&&(Oa=[F(Oa)]);L.length&&Oa.push(1<L.length?{merge:L}:L[0]);null!=ka&&(Ta&&l.error("Signal encode and update are mutually exclusive."),Ta="encode(item(),"+l.stringValue(ka)+")");Ga.update=l.isString(Ta)?ja.parseExpression(Ta,r):null!=Ta.expr?ja.parseExpression(Ta.expr,r):null!=Ta.value?
Ta.value:null!=Ta.signal?{$expr:md,$params:{$value:r.signalRef(Ta.signal)}}:l.error("Invalid signal update specification.");m.force&&(Ga.options={force:!0});Oa.forEach(sb=>{var pb=r.addUpdate,uc=l.extend;sb={source:sb.signal?r.signalRef(sb.signal):sb.scale?r.scaleRef(sb.scale):Ja(sb,r)};return pb.call(r,uc.call(l,sb,Ga))})}function F(m){return{signal:"["+m.map(r=>r.scale?'scale("'+r.scale+'")':r.signal)+"]"}}function N(m,r){const L=r.getSignal(m.name);let ka=m.update;m.init&&(ka?l.error("Signals can not include both init and update expressions."):
(ka=m.init,L.initonly=!0));ka&&(ka=ja.parseExpression(ka,r),L.update=ka.$expr,L.params=ka.$params);m.on&&m.on.forEach(Ga=>n(Ga,r,L.id))}function x(m,r){return l.isObject(m)?m.signal?r.signalRef(m.signal):l.error("Unsupported object: "+l.stringValue(m)):m}function T(m,r){return m.signal?r.signalRef(m.signal):m.map(L=>x(L,r))}function B(m){l.error("Can not find data set: "+l.stringValue(m))}function A(m,r,L){if(m)return m.signal?L.signalRef(m.signal):(l.isArray(m)?Q:m.fields?E:D)(m,r,L);null==r.domainMin&&
null==r.domainMax||l.error("No scale domain defined for domainMin/domainMax to override.")}function Q(m,r,L){return m.map(ka=>x(ka,L))}function D(m,r,L){const ka=L.getData(m.data);ka||B(m.data);return ub.isDiscrete(r.type)?ka.valuesRef(L,m.field,X(m.sort,!1)):ub.isQuantile(r.type)?ka.domainRef(L,m.field):ka.extentRef(L,m.field)}function E(m,r,L){const ka=m.data,Ga=m.fields.reduce((Ta,Oa)=>{if(l.isString(Oa))Oa={data:ka,field:Oa};else if(l.isArray(Oa)||Oa.signal){var sb=Oa;Oa="_:vega:_"+Dd++;const pb=
je({});l.isArray(sb)?pb.value={$ingest:sb}:sb.signal&&(sb="setdata("+l.stringValue(Oa)+","+sb.signal+")",pb.params.input=L.signalRef(sb));L.addDataPipeline(Oa,[pb,fc({})]);Oa={data:Oa,field:"data"}}Ta.push(Oa);return Ta},[]);return(ub.isDiscrete(r.type)?I:ub.isQuantile(r.type)?Da:S)(m,L,Ga)}function I(m,r,L){const ka=X(m.sort,!0);m=L.map(Ta=>{const Oa=r.getData(Ta.data);Oa||B(Ta.data);return Oa.countsRef(r,Ta.field,ka)});const Ga={groupby:Nc,pulse:m};ka&&(m=ka.op||"count",L=ka.field?vb(m,ka.field):
"count",Ga.ops=[Xd[m]],Ga.fields=[r.fieldRef(L)],Ga.as=[L]);m=r.add(yd(Ga));m=r.add(je({pulse:La(m)}));L=r.add(cd({field:Nc,sort:r.sortRef(ka),pulse:La(m)}));return La(L)}function X(m,r){m&&(m.field||m.op?m.field||"count"===m.op?r&&m.field&&m.op&&!Xd[m.op]&&l.error("Multiple domain scales can not be sorted using "+m.op):l.error("No field provided for sort aggregate op: "+m.op):l.isObject(m)?m.field="key":m={field:"key"});return m}function Da(m,r,L){m=L.map(ka=>{const Ga=r.getData(ka.data);Ga||B(ka.data);
return Ga.domainRef(r,ka.field)});return La(r.add(Xe({values:m})))}function S(m,r,L){m=L.map(ka=>{const Ga=r.getData(ka.data);Ga||B(ka.data);return Ga.extentRef(r,ka.field)});return La(r.add(Jf({extents:m})))}function ia(m,r,L){const ka=r.config.range;let Ga=m.range;if(Ga.signal)return r.signalRef(Ga.signal);if(l.isString(Ga)){if(ka&&l.hasOwnProperty(ka,Ga))return m=l.extend({},m,{range:ka[Ga]}),ia(m,r,L);"width"===Ga?Ga=[0,{signal:"width"}]:"height"===Ga?Ga=ub.isDiscrete(m.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:l.error("Unrecognized scale range value: "+l.stringValue(Ga))}else{if(Ga.scheme){L.scheme=l.isArray(Ga.scheme)?T(Ga.scheme,r):x(Ga.scheme,r);Ga.extent&&(L.schemeExtent=T(Ga.extent,r));Ga.count&&(L.schemeCount=x(Ga.count,r));return}if(Ga.step){L.rangeStep=x(Ga.step,r);return}if(ub.isDiscrete(m.type)&&!l.isArray(Ga))return A(Ga,m,r);l.isArray(Ga)||l.error("Unsupported range type: "+l.stringValue(Ga))}return Ga.map(Ta=>(l.isArray(Ta)?T:x)(Ta,r))}function Ca(m,r,L){return l.isArray(m)?
m.map(ka=>Ca(ka,r,L)):l.isObject(m)?m.signal?L.signalRef(m.signal):"fit"===r?m:l.error("Unsupported parameter object: "+l.stringValue(m)):m}function Qa(m){m.type="group";m.interactive=m.interactive||!1;return m}function Ra(m,r){const L=(ka,Ga)=>U(m[ka],U(r[ka],Ga));L.isVertical=ka=>"vertical"===U(m.direction,r.direction||(ka?r.symbolDirection:r.gradientDirection));L.gradientLength=()=>U(m.gradientLength,r.gradientLength||r.gradientWidth);L.gradientThickness=()=>U(m.gradientThickness,r.gradientThickness||
r.gradientHeight);L.entryColumns=()=>U(m.columns,U(r.columns,+L.isVertical(!0)));return L}function db(m,r){return(m=r&&(r.update&&r.update[m]||r.enter&&r.enter[m]))&&m.signal?m:m?m.value:null}function zb(m,r,L){return`item.anchor === '${"start"}' ? ${m} : item.anchor === '${"end"}' ? ${r} : ${L}`}function kb(m,r){return r?m?l.isObject(m)?Object.assign({},m,{offset:kb(m.offset,r)}):{value:m,offset:r}:r:m}function Vb(m,r){r?(m.name=r.name,m.style=r.style||m.style,m.interactive=!!r.interactive,m.encode=
Qb(m.encode,r,Ye)):m.interactive=!1;return m}function Y(m,r,L,ka){m=Ra(m,L);L=m.isVertical();var Ga=m.gradientThickness();const Ta=m.gradientLength();let Oa,sb,pb;L?(L=[0,1],sb=[0,0],pb=Ga,Ga=Ta):(L=[0,0],sb=[1,0],pb=Ta);Ga={enter:Oa={opacity:nd,x:nd,y:nd,width:$b(pb),height:$b(Ga)},update:l.extend({},Oa,{opacity:qe,fill:{gradient:r,start:L,stop:sb}}),exit:{opacity:nd}};wb(Ga,{stroke:m("gradientStrokeColor"),strokeWidth:m("gradientStrokeWidth")},{opacity:m("gradientOpacity")});return Vb({type:"rect",
role:"legend-gradient",encode:Ga},ka)}function Ha(m,r,L,ka,Ga){m=Ra(m,L);const Ta=m.isVertical();L=m.gradientThickness();const Oa=m.gradientLength();var sb;let pb,uc,sc,qc="";Ta?(sb="y",uc="y2",pb="x",sc="width",qc="1-"):(sb="x",uc="x2",pb="y",sc="height");r={opacity:nd,fill:{scale:r,field:"value"}};r[sb]={signal:qc+"datum.perc",mult:Oa};r[pb]=nd;r[uc]={signal:qc+"datum.perc2",mult:Oa};r[sc]=$b(L);sb={enter:r,update:l.extend({},r,{opacity:qe}),exit:{opacity:nd}};wb(sb,{stroke:m("gradientStrokeColor"),
strokeWidth:m("gradientStrokeWidth")},{opacity:m("gradientOpacity")});return Vb({type:"rect",role:"legend-band",key:"value",from:Ga,encode:sb},ka)}function Ub(m,r,L,ka){const Ga=Ra(m,r);var Ta=Ga.isVertical();const Oa=$b(Ga.gradientThickness()),sb=Ga.gradientLength();let pb=Ga("labelOverlap"),uc,sc,qc,oc="";const Jc={enter:uc={opacity:nd},update:sc={opacity:qe,text:{field:"label"}},exit:{opacity:nd}};wb(Jc,{fill:Ga("labelColor"),fillOpacity:Ga("labelOpacity"),font:Ga("labelFont"),fontSize:Ga("labelFontSize"),
fontStyle:Ga("labelFontStyle"),fontWeight:Ga("labelFontWeight"),limit:U(m.labelLimit,r.gradientLabelLimit)});Ta?(uc.align={value:"left"},uc.baseline=sc.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Ta="y",qc="x",oc="1-"):(uc.align=sc.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},uc.baseline={value:"top"},Ta="x",qc="y");uc[Ta]=sc[Ta]={signal:oc+"datum.perc",mult:sb};uc[qc]=sc[qc]=Oa;Oa.offset=U(m.labelOffset,r.gradientLabelOffset)||
0;pb=pb?{separation:Ga("labelSeparation"),method:pb,order:"datum.index"}:void 0;return Vb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:ka,encode:Jc,overlap:pb},L)}function kc(m,r,L,ka,Ga){var Ta=Ra(m,r);const Oa=L.entries,sb=!(!Oa||!Oa.interactive),pb=Oa?Oa.name:void 0,uc=Ta("clipHeight"),sc=Ta("symbolOffset"),qc={data:"value"},oc=`(${Ga}) ? datum.${"offset"} : datum.${"size"}`,Jc=uc?$b(uc):{field:"size"},Oc=`max(1, ${Ga})`;let Ed,pd;Jc.mult=.5;var wd={enter:Ed={opacity:nd,
x:{signal:oc,mult:.5,offset:sc},y:Jc},update:pd={opacity:qe,x:Ed.x,y:Ed.y},exit:{opacity:nd}};let Sd=null,lc=null;m.fill||(Sd=r.symbolBaseFillColor,lc=r.symbolBaseStrokeColor);wb(wd,{fill:Ta("symbolFillColor",Sd),shape:Ta("symbolType"),size:Ta("symbolSize"),stroke:Ta("symbolStrokeColor",lc),strokeDash:Ta("symbolDash"),strokeDashOffset:Ta("symbolDashOffset"),strokeWidth:Ta("symbolStrokeWidth")},{opacity:Ta("symbolOpacity")});Jd.forEach(ud=>{m[ud]&&(pd[ud]=Ed[ud]={scale:m[ud],field:"value"})});r=Vb({type:"symbol",
role:"legend-symbol",key:"value",from:qc,clip:uc?!0:void 0,encode:wd},L.symbols);wd=$b(sc);wd.offset=Ta("labelOffset");wd={enter:Ed={opacity:nd,x:{signal:oc,offset:wd},y:Jc},update:pd={opacity:qe,text:{field:"label"},x:Ed.x,y:Ed.y},exit:{opacity:nd}};wb(wd,{align:Ta("labelAlign"),baseline:Ta("labelBaseline"),fill:Ta("labelColor"),fillOpacity:Ta("labelOpacity"),font:Ta("labelFont"),fontSize:Ta("labelFontSize"),fontStyle:Ta("labelFontStyle"),fontWeight:Ta("labelFontWeight"),limit:Ta("labelLimit")});
L=Vb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:qc,encode:wd},L.labels);wd={enter:{noBound:{value:!uc},width:nd,height:uc?$b(uc):nd,opacity:nd},exit:{opacity:nd},update:pd={opacity:qe,row:{signal:null},column:{signal:null}}};Ta.isVertical(!0)?(Ta=`ceil(item.mark.items.length / ${Oc})`,pd.row.signal=`${"datum.index"}%${Ta}`,pd.column.signal=`floor(${"datum.index"} / ${Ta})`,Ta={field:["row","datum.index"]}):(pd.row.signal=`floor(${"datum.index"} / ${Oc})`,pd.column.signal=
`${"datum.index"} % ${Oc}`,Ta={field:"datum.index"});pd.column.signal=`(${Ga})?${pd.column.signal}:${"datum.index"}`;ka={facet:{data:ka,name:"value",groupby:"index"}};return Qa({role:"scope",from:ka,encode:Qb(wd,Oa,Ye),marks:[r,L],name:pb,interactive:sb,sort:Ta})}function Zb(m,r){m=Ra(m,r);return{align:m("gridAlign"),columns:m.entryColumns(),center:{row:!0,column:!1},padding:{row:m("rowPadding"),column:m("columnPadding")}}}function Pb(m,r,L,ka){r=Ra(m,r);const Ga={enter:{opacity:nd},update:{opacity:qe,
x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:nd}};wb(Ga,{orient:r("titleOrient"),_anchor:r("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:ce},baseline:{signal:jf},text:m.title,fill:r("titleColor"),fillOpacity:r("titleOpacity"),
font:r("titleFont"),fontSize:r("titleFontSize"),fontStyle:r("titleFontStyle"),fontWeight:r("titleFontWeight"),limit:r("titleLimit"),lineHeight:r("titleLineHeight")},{align:r("titleAlign"),baseline:r("titleBaseline")});return Vb({type:"text",role:"legend-title",style:"guide-title",from:ka,encode:Ga},L)}function Nb(m,r){let L;l.isObject(m)&&(m.signal?L=m.signal:m.path?L="pathShape("+tc(m.path)+")":m.sphere&&(L="geoShape("+tc(m.sphere)+', {type: "Sphere"})'));return L?r.signalRef(L):!!m}function tc(m){return l.isObject(m)&&
m.signal?m.signal:l.stringValue(m)}function Mc(m){const r=m.role||"";return r.startsWith("axis")||r.startsWith("legend")||r.startsWith("title")?r:"group"===m.type?"scope":r||"mark"}function ra(m){return{marktype:m.type,name:m.name||void 0,role:m.role||Mc(m),zindex:+m.zindex||void 0,aria:m.aria,description:m.description}}function Hb(m,r){return m&&m.signal?r.signalRef(m.signal):!1===m?!1:!0}function Va(m,r){const L=Wb.definition(m.type);L||l.error("Unrecognized transform type: "+l.stringValue(m.type));
var ka=L.type.toLowerCase();var Ga=Bb(L,m,r);ka=new Xa(ka,null,Ga,void 0);m.signal&&r.addSignal(m.signal,r.proxy(ka));ka.metadata=L.metadata||{};return ka}function Bb(m,r,L){const ka={},Ga=m.params.length;for(let Ta=0;Ta<Ga;++Ta){const Oa=m.params[Ta];ka[Oa.name]=Ib(Oa,r,L)}return ka}function Ib(m,r,L){const ka=m.type,Ga=r[m.name];if("index"===ka)return Xb(m,r,L);if(void 0===Ga)m.required&&l.error("Missing required "+l.stringValue(r.type)+" parameter: "+l.stringValue(m.name));else return"param"===
ka?jc(m,r,L):"projection"===ka?L.projectionRef(r[m.name]):m.array&&!Rb(Ga)?Ga.map(Ta=>Eb(m,Ta,L)):Eb(m,Ga,L)}function Eb(m,r,L){const ka=m.type;return Rb(r)?"expr"===ka?l.error("Expression references can not be signals."):"field"===ka?L.fieldRef(r):"compare"===ka?L.compareRef(r):L.signalRef(r.signal):(m=m.expr||"field"===ka)&&r&&r.expr?L.exprRef(r.expr,r.as):m&&r&&r.field?jb(r.field,r.as):"expr"===ka?ja.parseExpression(r,L):"data"===ka?La(L.getData(r).values):"field"===ka?jb(r):"compare"===ka?L.compareRef(r):
r}function Xb(m,r,L){l.isString(r.from)||l.error('Lookup "from" parameter must be a string literal.');return L.getData(r.from).lookupRef(L,r.key)}function jc(m,r,L){r=r[m.name];return m.array?(l.isArray(r)||l.error("Expected an array of sub-parameters. Instead: "+l.stringValue(r)),r.map(ka=>rc(m,ka,L))):rc(m,r,L)}function rc(m,r,L){const ka=m.params.length;let Ga;for(let Ta=0;Ta<ka;++Ta){Ga=m.params[Ta];for(const Oa in Ga.key)if(Ga.key[Oa]!==r[Oa]){Ga=null;break}if(Ga)break}Ga||l.error("Unsupported parameter: "+
l.stringValue(r));m=l.extend(Bb(Ga,r,L),Ga.key);return La(L.add(df(m)))}function ad(m,r,L){let ka,Ga,Ta,Oa;if(!m)Ta=La(L.add(je(null,[{}])));else if(ka=m.facet)r||l.error("Only group marks can be faceted."),null!=ka.field?Ta=Oa=Lc(ka,L):(m.data?Oa=La(L.getData(m.data).aggregate):(r=Va(l.extend({type:"aggregate",groupby:l.array(ka.groupby)},ka.aggregate),L),r.params.key=L.keyRef(ka.groupby),r.params.pulse=Lc(ka,L),Ta=Oa=La(L.add(r))),Ga=L.keyRef(ka.groupby,!0));Ta||(Ta=Lc(m,L));return{key:Ga,pulse:Ta,
parent:Oa}}function Lc(m,r){return m.$ref?m:m.data&&m.data.$ref?m.data:La(r.getData(m.data).output)}function oa(m,r,L,ka,Ga){this.scope=m;this.input=r;this.output=L;this.values=ka;this.aggregate=Ga;this.index={}}function Ma(m){return l.isString(m)?m:null}function ib(m,r,L){const ka=vb(L.op,L.field);let Ga;if(r.ops)for(let Ta=0,Oa=r.as.length;Ta<Oa;++Ta){if(r.as[Ta]===ka)return}else r.ops=["count"],r.fields=[null],r.as=["count"];L.op&&(r.ops.push((Ga=L.op.signal)?m.signalRef(Ga):L.op),r.fields.push(m.fieldRef(L.field)),
r.as.push(ka))}function V(m,r,L,ka,Ga,Ta,Oa){L=r[L]||(r[L]={});var sb=l.isObject(Ta)?("descending"===Ta.order?"-":"+")+vb(Ta.op,Ta.field):"";let pb=Ma(Ga);if(null!=pb){m=r.scope;pb+=sb?"|"+sb:"";var uc=L[pb]}uc||(uc=Ta?{field:Nc,pulse:r.countsRef(m,Ga,Ta)}:{field:m.fieldRef(Ga),pulse:La(r.output)},sb&&(uc.sort=m.sortRef(Ta)),m=m.add(new Xa(ka,void 0,uc,void 0)),Oa&&(r.index[Ga]=m),uc=La(m),null!=pb&&(L[pb]=uc));return uc}function w(m,r,L){var ka=m.from.facet;const Ga=ka.name,Ta=Lc(ka,r);let Oa;ka.name||
l.error("Facet must have a name: "+l.stringValue(ka));ka.data||l.error("Facet must reference a data set: "+l.stringValue(ka));ka.field?Oa=r.add(Fe({field:r.fieldRef(ka.field),pulse:Ta})):ka.groupby?Oa=r.add(De({key:r.keyRef(ka.groupby),group:La(r.proxy(L.parent)),pulse:Ta})):l.error("Facet must specify groupby or field: "+l.stringValue(ka));r=r.fork();L=r.add(je());ka=r.add(fc({pulse:La(L)}));r.addData(Ga,new oa(r,L,L,ka));r.addSignal("parent",null);Oa.params.subflow={$subflow:r.parse(m).toRuntime()}}
function da(m,r,L){L=r.add(Fe({pulse:L.pulse}));r=r.fork();r.add(fc());r.addSignal("parent",null);L.params.subflow={$subflow:r.parse(m).toRuntime()}}function Aa(m,r,L){const ka=m.remove,Ga=m.insert,Ta=m.toggle,Oa=m.modify,sb=m.values,pb=r.add(new Xa("operator",void 0,void 0,void 0));m="if("+m.trigger+',modify("'+L+'",'+[Ga,ka,Ta,Oa,sb].map(uc=>null==uc?"null":uc).join(",")+"),0)";r=ja.parseExpression(m,r);pb.update=r.$expr;pb.params=r.$params}function Ia(m,r){var L=Mc(m),ka="group"===m.type,Ga=m.from&&
m.from.facet;const Ta=m.overlap;let Oa=m.layout||"scope"===L||"frame"===L,sb,pb,uc,sc,qc,oc;const Jc="mark"===L||Oa||Ga,Oc=ad(m.from,ka,r);pb=r.add(Qe({key:Oc.key||(m.key?jb(m.key):void 0),pulse:Oc.pulse,clean:!ka}));const Ed=La(pb);pb=uc=r.add(je({pulse:Ed}));pb=r.add(zd({markdef:ra(m),interactive:Hb(m.interactive,r),clip:Nb(m.clip,r),context:{$context:!0},groups:r.lookup(),parent:r.signals.parent?r.signalRef("parent"):null,index:r.markpath(),pulse:La(pb)}));var pd=La(pb);pb=sc=r.add(Re(ua(m.encode,
m.type,L,m.style,r,{mod:!1,pulse:pd})));pb.params.parent=r.encode();m.transform&&m.transform.forEach(Sd=>{Sd=Va(Sd,r);const lc=Sd.metadata;(lc.generates||lc.changes)&&l.error("Mark transforms should not generate new data.");lc.nomod||(sc.params.mod=!0);Sd.params.pulse=La(pb);r.add(pb=Sd)});m.sort&&(pb=r.add(fd({sort:r.compareRef(m.sort),pulse:La(pb)})));L=La(pb);if(Ga||Oa)Oa=r.add(jd({layout:r.objectProperty(m.layout),legends:r.legends,mark:pd,pulse:L})),oc=La(Oa);const wd=r.add(Ad({mark:pd,pulse:oc||
L}));pd=La(wd);ka&&(Jc&&(sb=r.operators,sb.pop(),Oa&&sb.pop()),r.pushState(L,oc||pd,Ed),Ga?w(m,r,Oc):Jc?da(m,r,Oc):r.parse(m),r.popState(),Jc&&(Oa&&sb.push(Oa),sb.push(wd)));Ta&&(pd=Wa(Ta,pd,r));ka=r.add(Ea({pulse:pd}));Ga=r.add(fc({pulse:La(ka)},void 0,r.parent()));null!=m.name&&(qc=m.name,r.addData(qc,new oa(r,uc,ka,Ga)),m.on&&m.on.forEach(Sd=>{(Sd.insert||Sd.remove||Sd.toggle)&&l.error("Marks only support modify triggers.");Aa(Sd,r,qc)}))}function Wa(m,r,L){const ka=m.method,Ga=m.bound,Ta=m.separation;
r={separation:Rb(Ta)?L.signalRef(Ta.signal):Ta,method:Rb(ka)?L.signalRef(ka.signal):ka,pulse:r};m.order&&(r.sort=L.compareRef({field:m.order}));Ga&&(m=Ga.tolerance,r.boundTolerance=Rb(m)?L.signalRef(m.signal):+m,r.boundScale=L.scaleRef(Ga.scale),r.boundOrient=Ga.orient);return La(L.add($e(r)))}function ob(m,r){const L=r.config.legend,ka=m.encode||{},Ga=Ra(m,L),Ta=ka.legend||{},Oa=Ta.name||void 0,sb=Ta.interactive,pb=Ta.style,uc={};let sc=0,qc,oc;Jd.forEach(wd=>m[wd]?(uc[wd]=m[wd],sc=sc||m[wd]):0);
sc||l.error("Missing valid scale for legend.");var Jc=Sb(m,r.scaleType(sc));const Oc={title:null!=m.title,scales:uc,type:Jc,vgrad:"symbol"!==Jc&&Ga.isVertical()},Ed=La(r.add(je(null,[Oc]))),pd=La(r.add(oe(oc={type:Jc,scale:r.scaleRef(sc),count:r.objectProperty(Ga("tickCount")),limit:r.property(Ga("symbolLimit")),values:r.objectProperty(m.values),minstep:r.property(m.tickMinStep),formatType:r.property(m.formatType),formatSpecifier:r.property(m.format)})));"gradient"===Jc?(Jc=[Y(m,sc,L,ka.gradient),
Ub(m,L,ka.labels,pd)],oc.count=oc.count||r.signalRef(`max(2,2*floor((${ea(Ga.gradientLength())})/100))`)):"discrete"===Jc?Jc=[Ha(m,sc,L,ka.gradient,pd),Ub(m,L,ka.labels,pd)]:(qc=Zb(m,L),Jc=[kc(m,L,ka,pd,ea(qc.columns))],oc.size=vc(m,r,Jc[0].marks));Jc=[Qa({role:"legend-entry",from:Ed,encode:{enter:{x:{value:0},y:{value:0}}},marks:Jc,layout:qc,interactive:sb})];Oc.title&&Jc.push(Pb(m,L,ka.title,Ed));return Ia(Qa({role:"legend",from:Ed,encode:Qb(Ob(Ga,m,L),Ta,Ye),marks:Jc,aria:Ga("aria"),description:Ga("description"),
zindex:Ga("zindex"),name:Oa,interactive:sb,style:pb}),r)}function Sb(m,r){let L=m.type||"symbol";m.type||1!==Gb(m)||!m.fill&&!m.stroke||(L=ub.isContinuous(r)?"gradient":ub.isDiscretizing(r)?"discrete":"symbol");return"gradient"!==L?L:ub.isDiscretizing(r)?"discrete":"gradient"}function Gb(m){return Jd.reduce((r,L)=>r+(m[L]?1:0),0)}function Ob(m,r,L){const ka={enter:{},update:{}};wb(ka,{orient:m("orient"),offset:m("offset"),padding:m("padding"),titlePadding:m("titlePadding"),cornerRadius:m("cornerRadius"),
fill:m("fillColor"),stroke:m("strokeColor"),strokeWidth:L.strokeWidth,strokeDash:L.strokeDash,x:m("legendX"),y:m("legendY"),format:r.format,formatType:r.formatType});return ka}function vc(m,r,L){const ka=ea(Bc("size",m,L));m=ea(Bc("strokeWidth",m,L));(L=db("fontSize",L[1].encode))||(L=(L=r.config.style["guide-label"])&&L.fontSize);L=ea(L);return ja.parseExpression(`max(ceil(sqrt(${ka})+${m}),${L})`,r)}function Bc(m,r,L){return r[m]?`scale("${r[m]}",datum)`:db(m,L[0].encode)}function Ic(m,r){m=l.isString(m)?
{text:m}:m;const L=Ra(m,r.config.title);var ka=m.encode||{},Ga=ka.group||{};const Ta=Ga.name||void 0,Oa=Ga.interactive,sb=Ga.style,pb=[],uc=La(r.add(je(null,[{}])));var sc=pb.push,qc=m;var oc=(oc=m.encode)&&oc.title||l.extend({name:m.name,interactive:m.interactive,style:m.style},oc);var Jc={value:0};Jc={enter:{opacity:Jc},update:{opacity:{value:1}},exit:{opacity:Jc}};wb(Jc,{text:qc.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},
baseline:"top",dx:L("dx"),dy:L("dy"),fill:L("color"),font:L("font"),fontSize:L("fontSize"),fontStyle:L("fontStyle"),fontWeight:L("fontWeight"),lineHeight:L("lineHeight")},{align:L("align"),angle:L("angle"),baseline:L("baseline")});qc=Vb({type:"text",role:"title-text",style:"group-title",from:uc,encode:Jc},oc);sc.call(pb,qc);m.subtitle&&(sc=pb.push,ka=ka.subtitle,qc={value:0},qc={enter:{opacity:qc},update:{opacity:{value:1}},exit:{opacity:qc}},wb(qc,{text:m.subtitle,align:{signal:"item.mark.group.align"},
angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:L("dx"),dy:L("dy"),fill:L("subtitleColor"),font:L("subtitleFont"),fontSize:L("subtitleFontSize"),fontStyle:L("subtitleFontStyle"),fontWeight:L("subtitleFontWeight"),lineHeight:L("subtitleLineHeight")},{align:L("align"),angle:L("angle"),baseline:L("baseline")}),m=Vb({type:"text",role:"title-subtitle",style:"group-subtitle",from:uc,encode:qc},ka),sc.call(pb,m));m={enter:{},update:{}};wb(m,{orient:L("orient"),
anchor:L("anchor"),align:{signal:Ne},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:L("limit"),frame:L("frame"),offset:L("offset")||0,padding:L("subtitlePadding")});Ga=Qb(m,Ga,Ye);return Ia(Qa({role:"title",from:uc,encode:Ga,marks:pb,aria:L("aria"),description:L("description"),zindex:L("zindex"),name:Ta,interactive:Oa,style:sb}),r)}function id(m,r){const L=[];m.transform&&m.transform.forEach(ka=>{L.push(Va(ka,r))});m.on&&m.on.forEach(ka=>{Aa(ka,r,m.name)});
r.addDataPipeline(m.name,dd(m,r,L))}function dd(m,r,L){const ka=[];let Ga=null,Ta=!1,Oa=!1,sb,pb,uc,sc;m.values?Rb(m.values)||Na(m.format)?(ka.push(kd(r,m)),ka.push(Ga=Uc())):ka.push(Ga=Uc({$ingest:m.values,$format:m.format})):m.url?Na(m.url)||Na(m.format)?(ka.push(kd(r,m)),ka.push(Ga=Uc())):ka.push(Ga=Uc({$request:m.url,$format:m.format})):m.source&&(Ga=sb=l.array(m.source).map(qc=>La(r.getData(qc).output)),ka.push(null));m=0;for(pb=L.length;m<pb;++m)uc=L[m],sc=uc.metadata,Ga||sc.source||ka.push(Ga=
Uc()),ka.push(uc),sc.generates&&(Oa=!0),sc.modifies&&!Oa&&(Ta=!0),sc.source?Ga=uc:sc.changes&&(Ga=null);sb&&(pb=sb.length-1,ka[0]=ye({derive:Ta,pulse:pb?sb:sb[0]}),(Ta||pb)&&ka.splice(1,0,Uc()));Ga||ka.push(Uc());ka.push(fc({}));return ka}function Uc(m){m=je({},m);m.metadata={source:!0};return m}function kd(m,r){return xe({url:r.url?m.property(r.url):void 0,async:r.async?m.property(r.async):void 0,values:r.values?m.property(r.values):void 0,format:m.objectProperty(r.format)})}function ld(m,r,L,ka){let Ga;
if(r&&l.hasOwnProperty(r,m))return r[m];if(l.hasOwnProperty(L,m))return L[m];if(m.startsWith("title")){switch(m){case "titleColor":Ga="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Ga=m[5].toLowerCase()+m.slice(6)}return ka["guide-title"][Ga]}if(m.startsWith("label")){switch(m){case "labelColor":Ga="fill";break;case "labelFont":case "labelFontSize":Ga=m[5].toLowerCase()+m.slice(6)}return ka["guide-label"][Ga]}return null}function ed(m){const r={};for(const L of m)if(L)for(const ka in L)r[ka]=
1;return Object.keys(r)}function ge(m,r,L,ka,Ga){return{signal:'flush(range("'+m+'"), scale("'+m+'", datum.value), '+r+","+L+","+ka+","+Ga+")"}}function gd(m,r,L,ka){const Ga=(Oa,sb)=>null!=Oa?(L.update[sb]=qa($b(Oa),L.update[sb]),!1):Yb(sb,ka)?!1:!0,Ta=Ga(m("titleX"),"x");m=Ga(m("titleY"),"y");L.enter.auto=m===Ta?$b(m):ze(r,$b(m),$b(Ta))}function z(m,r,L){const ka=l.array(m.signals),Ga=l.array(m.scales);L||ka.forEach(Ta=>Sa(Ta,r));l.array(m.projections).forEach(Ta=>{const Oa=r.config.projection||
{},sb={};for(const pb in Ta)"name"!==pb&&(sb[pb]=Ca(Ta[pb],pb,r));for(const pb in Oa)null==sb[pb]&&(sb[pb]=Ca(Oa[pb],pb,r));r.addProjection(Ta.name,sb)});Ga.forEach(Ta=>{const Oa=Ta.type||"linear";ub.isValidScaleType(Oa)||l.error("Unrecognized scale type: "+l.stringValue(Oa));r.addScale(Ta.name,{type:Oa,domain:void 0})});l.array(m.data).forEach(Ta=>id(Ta,r));Ga.forEach(Ta=>{const Oa=r.getScale(Ta.name).params;let sb;Oa.domain=A(Ta.domain,Ta,r);null!=Ta.range&&(Oa.range=ia(Ta,r,Oa));if(null!=Ta.interpolate){var pb=
Ta.interpolate;Oa.interpolate=x(pb.type||pb);null!=pb.gamma&&(Oa.interpolateGamma=x(pb.gamma))}null!=Ta.nice&&(pb=Ta.nice,pb=pb.signal?r.signalRef(pb.signal):l.isObject(pb)?{interval:x(pb.interval),step:x(pb.step)}:x(pb),Oa.nice=pb);null!=Ta.bins&&(pb=Ta.bins,pb=pb.signal||l.isArray(pb)?T(pb,r):r.objectProperty(pb),Oa.bins=pb);for(sb in Ta)l.hasOwnProperty(Oa,sb)||"name"===sb||(Oa[sb]=x(Ta[sb],r))});(L||ka).forEach(Ta=>N(Ta,r));l.array(m.axes).forEach(Ta=>{var Oa=r.config,sb=Oa.style,pb=Oa.axis,uc=
"band"===r.scaleType(Ta.scale)&&Oa.axisBand,sc=Ta.orient,qc;if(Rb(sc)){const Ld=ed([Oa.axisX,Oa.axisY]),Zd=ed([Oa.axisTop,Oa.axisBottom,Oa.axisLeft,Oa.axisRight]);var oc={};for(qc of Ld)oc[qc]=ze(sc,ld(qc,Oa.axisX,pb,sb),ld(qc,Oa.axisY,pb,sb));var Jc={};for(qc of Zd){var Oc=Jc,Ed=qc,pd=sc.signal,wd=ld(qc,Oa.axisTop,pb,sb),Sd=ld(qc,Oa.axisBottom,pb,sb),lc=ld(qc,Oa.axisLeft,pb,sb),ud=ld(qc,Oa.axisRight,pb,sb);var ne={signal:(null!=lc?`${pd} === '${"left"}' ? (${Wd(lc)}) : `:"")+(null!=Sd?`${pd} === '${"bottom"}' ? (${Wd(Sd)}) : `:
"")+(null!=ud?`${pd} === '${"right"}' ? (${Wd(ud)}) : `:"")+(null!=wd?`${pd} === '${"top"}' ? (${Wd(wd)}) : `:"")+"(null)"};Oc[Ed]=ne}}else oc="top"===sc||"bottom"===sc?Oa.axisX:Oa.axisY,Jc=Oa["axis"+sc[0].toUpperCase()+sc.slice(1)];var be=oc||Jc||uc?l.extend({},pb,oc,Jc,uc):pb;const Bd=Ta.encode||{},qd=Bd.axis||{},Kd=qd.name||void 0,de=qd.interactive,te=qd.style,$d=Ra(Ta,be),Ee=$d("tickBand");let $c=$d("tickOffset"),le,lf;Ee?Ee.signal?(le={signal:`(${Ee.signal}) === 'extent' ? 1 : 0.5`},lf={signal:`(${Ee.signal}) === 'extent'`},
l.isObject($c)||($c={signal:`(${Ee.signal}) === 'extent' ? 0 : ${$c}`})):"extent"===Ee?(le=1,lf=!0,$c=0):(le=.5,lf=!1):(le=$d("bandPosition"),lf=$d("tickExtra"));var uf=lf;var zg=le;var yf=$c;const Tf={scale:Ta.scale,ticks:!!$d("ticks"),labels:!!$d("labels"),grid:!!$d("grid"),domain:!!$d("domain"),title:null!=Ta.title},kg=La(r.add(je({},[Tf]))),mf=La(r.add(Md({scale:r.scaleRef(Ta.scale),extra:r.property(uf),count:r.objectProperty(Ta.tickCount),values:r.objectProperty(Ta.values),minstep:r.property(Ta.tickMinStep),
formatType:r.property(Ta.formatType),formatSpecifier:r.property(Ta.format)}))),Ke=[];let lg;if(Tf.grid){var Zg=Ke.push,Yf=Bd.grid;const Ld=Ra(Ta,be),Zd=Ta.orient,zf=Ta.gridScale,Ae=rf(Zd,1,-1);a:{var mg=Ta.offset,Zf=Ae;if(1!==Zf)if(l.isObject(mg)){let Ef=mg=l.extend({},mg);for(;null!=Ef.mult;)if(l.isObject(Ef.mult))Ef=Ef.mult=l.extend({},Ef.mult);else{Ef.mult=Rb(Zf)?{signal:`(${Ef.mult}) * (${Zf.signal})`}:Ef.mult*Zf;var $g=mg;break a}Ef.mult=Zf}else mg=Rb(Zf)?{signal:`(${Zf.signal}) * (${mg||0})`}:
Zf*(mg||0);$g=mg}const ff=$g;let Ve,vf,$f;const Vf={enter:Ve={opacity:nd},update:$f={opacity:qe},exit:vf={opacity:nd}};wb(Vf,{stroke:Ld("gridColor"),strokeCap:Ld("gridCap"),strokeDash:Ld("gridDash"),strokeDashOffset:Ld("gridDashOffset"),strokeOpacity:Ld("gridOpacity"),strokeWidth:Ld("gridWidth")});const pg={scale:Ta.scale,field:"value",band:zg,extra:uf,offset:yf,round:Ld("tickRound")},eh=ze(Zd,{signal:"height"},{signal:"width"}),Ag=zf?{scale:zf,range:0,mult:Ae,offset:ff}:{value:0,offset:ff},nh=zf?
{scale:zf,range:1,mult:Ae,offset:ff}:l.extend(eh,{mult:Ae,offset:ff});Ve.x=$f.x=ze(Zd,pg,Ag);Ve.y=$f.y=Ze(Zd,pg,Ag);Ve.x2=$f.x2=Ze(Zd,nh);Ve.y2=$f.y2=ze(Zd,nh);vf.x=ze(Zd,pg);vf.y=Ze(Zd,pg);var ah=Vb({type:"rule",role:"axis-grid",key:"value",from:mf,encode:Vf},Yf);Zg.call(Ke,ah)}if(Tf.ticks){lg=$d("tickSize");var bh=Ke.push,Sg=Bd.ticks,Tg=lg;const Ld=Ra(Ta,be),Zd=Ta.orient,zf=rf(Zd,-1,1);let Ae,ff,Ve;const vf={enter:Ae={opacity:nd},update:Ve={opacity:qe},exit:ff={opacity:nd}};wb(vf,{stroke:Ld("tickColor"),
strokeCap:Ld("tickCap"),strokeDash:Ld("tickDash"),strokeDashOffset:Ld("tickDashOffset"),strokeOpacity:Ld("tickOpacity"),strokeWidth:Ld("tickWidth")});const $f=$b(Tg);$f.mult=zf;const Vf={scale:Ta.scale,field:"value",band:zg,extra:uf,offset:yf,round:Ld("tickRound")};Ve.y=Ae.y=ze(Zd,nd,Vf);Ve.y2=Ae.y2=ze(Zd,$f);ff.x=ze(Zd,Vf);Ve.x=Ae.x=Ze(Zd,nd,Vf);Ve.x2=Ae.x2=Ze(Zd,$f);ff.y=Ze(Zd,Vf);var oh=Vb({type:"rule",role:"axis-tick",key:"value",from:mf,encode:vf},Sg);bh.call(Ke,oh)}if(Tf.labels){lg=Tf.ticks?
lg:0;var Uf=Ke.push,W=Bd.labels,Ka=lg;const Ld=Ra(Ta,be),Zd=Ta.orient,zf=Ta.scale,Ae=rf(Zd,-1,1),ff=ea(Ld("labelFlush")),Ve=ea(Ld("labelFlushOffset")),vf=Ld("labelAlign"),$f=Ld("labelBaseline");let Vf=0===ff||!!ff,pg;const eh=$b(Ka);eh.mult=Ae;eh.offset=$b(Ld("labelPadding")||0);eh.offset.mult=Ae;const Ag={scale:zf,field:"value",band:.5,offset:kb(yf,Ld("labelOffset"))};var mb=Vf?ge(zf,ff,'"left"','"right"','"center"'):{value:"center"},yc=Zd;var Ac=Rb(yc)?re(`${yc.signal} === '${"right"}'`,"left",
"right"):"right"===yc?{value:"left"}:{value:"right"};const nh=ze(Zd,mb,Ac),Ef=ze(Zd,ef(Zd,"bottom","top"),Vf?ge(zf,ff,'"top"','"bottom"','"middle"'):{value:"middle"}),Lh=ge(zf,ff,`-(${Ve})`,Ve,0);Vf=Vf&&Ve;const og={opacity:nd,x:ze(Zd,Ag,eh),y:Ze(Zd,Ag,eh)},xh={enter:og,update:pg={opacity:qe,text:{field:"label"},x:og.x,y:og.y,align:nh,baseline:Ef},exit:{opacity:nd,x:og.x,y:og.y}};wb(xh,{dx:!vf&&Vf?ze(Zd,Lh):null,dy:!$f&&Vf?Ze(Zd,Lh):null});wb(xh,{angle:Ld("labelAngle"),fill:Ld("labelColor"),fillOpacity:Ld("labelOpacity"),
font:Ld("labelFont"),fontSize:Ld("labelFontSize"),fontWeight:Ld("labelFontWeight"),fontStyle:Ld("labelFontStyle"),limit:Ld("labelLimit"),lineHeight:Ld("labelLineHeight")},{align:vf,baseline:$f});const qg=Ld("labelBound");let Nh=Ld("labelOverlap");Nh=Nh||qg?{separation:Ld("labelSeparation"),method:Nh,order:"datum.index",bound:qg?{scale:zf,orient:Zd,tolerance:qg}:null}:void 0;pg.align!==nh&&(pg.align=qa(pg.align,nh));pg.baseline!==Ef&&(pg.baseline=qa(pg.baseline,Ef));var xd=Vb({type:"text",role:"axis-label",
style:"guide-label",key:"value",from:mf,encode:xh,overlap:Nh},W);Uf.call(Ke,xd)}if(Tf.domain){var Vd=Ke.push,Id=Bd.domain;const Ld=Ra(Ta,be),Zd=Ta.orient;let zf,Ae;const ff={enter:zf={opacity:nd},update:Ae={opacity:qe},exit:{opacity:nd}};wb(ff,{stroke:Ld("domainColor"),strokeCap:Ld("domainCap"),strokeDash:Ld("domainDash"),strokeDashOffset:Ld("domainDashOffset"),strokeWidth:Ld("domainWidth"),strokeOpacity:Ld("domainOpacity")});const Ve={scale:Ta.scale,range:0},vf={scale:Ta.scale,range:1};zf.x=Ae.x=
ze(Zd,Ve,nd);zf.x2=Ae.x2=ze(Zd,vf);zf.y=Ae.y=Ze(Zd,Ve,nd);zf.y2=Ae.y2=Ze(Zd,vf);var ig=Vb({type:"rule",role:"axis-domain",from:kg,encode:ff},Id);Vd.call(Ke,ig)}if(Tf.title){var pf=Ke.push,ug=Bd.title;const Ld=Ra(Ta,be),Zd=Ta.orient,zf=rf(Zd,-1,1);let Ae,ff;const Ve={enter:Ae={opacity:nd,anchor:$b(Ld("titleAnchor",null)),align:{signal:Ne}},update:ff=l.extend({},Ae,{opacity:qe,text:$b(Ta.title)}),exit:{opacity:nd}},vf={signal:`lerp(range("${Ta.scale}"), ${zb(0,1,.5)})`};ff.x=ze(Zd,vf);ff.y=Ze(Zd,vf);
var ph=Ae,ch=zf;var ng=Rb(ch)?{signal:`(${ch.signal}) * ${90}`}:{value:90*ch};ph.angle=ze(Zd,nd,ng);Ae.baseline=ze(Zd,ef(Zd,"bottom","top"),{value:"bottom"});ff.angle=Ae.angle;ff.baseline=Ae.baseline;wb(Ve,{fill:Ld("titleColor"),fillOpacity:Ld("titleOpacity"),font:Ld("titleFont"),fontSize:Ld("titleFontSize"),fontStyle:Ld("titleFontStyle"),fontWeight:Ld("titleFontWeight"),limit:Ld("titleLimit"),lineHeight:Ld("titleLineHeight")},{align:Ld("titleAlign"),angle:Ld("titleAngle"),baseline:Ld("titleBaseline")});
gd(Ld,Zd,Ve,ug);Ve.update.align=qa(Ve.update.align,Ae.align);Ve.update.angle=qa(Ve.update.angle,Ae.angle);Ve.update.baseline=qa(Ve.update.baseline,Ae.baseline);var Kg=Vb({type:"text",role:"axis-title",style:"guide-title",from:kg,encode:Ve},ug);pf.call(Ke,Kg)}const Mh={enter:{},update:{}};wb(Mh,{orient:$d("orient"),offset:$d("offset")||0,position:U(Ta.position,0),titlePadding:$d("titlePadding"),minExtent:$d("minExtent"),maxExtent:$d("maxExtent"),range:{signal:`abs(span(range("${Ta.scale}")))`},translate:$d("translate"),
format:Ta.format,formatType:Ta.formatType});return Ia(Qa({role:"axis",from:kg,encode:Qb(Mh,qd,Ye),marks:Ke,aria:$d("aria"),description:$d("description"),zindex:$d("zindex"),name:Kd,interactive:de,style:te}),r)});l.array(m.marks).forEach(Ta=>Ia(Ta,r));l.array(m.legends).forEach(Ta=>ob(Ta,r));m.title&&Ic(m.title,r);r.parseLambdas();return r}function K(m,r){var L=r.config;const ka=La(r.root=r.add(new Xa("operator",void 0,void 0,void 0))),Ga=v(m,L);Ga.forEach(sb=>Sa(sb,r));r.description=m.description||
L.description;r.eventConfig=L.events;r.legends=r.objectProperty(L.legend&&L.legend.layout);r.locale=L.locale;L=r.add(je());const Ta=r.add(Re(ua(Qb({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},m.encode),"group","frame",m.style,r,{pulse:La(L)}))),Oa=r.add(jd({layout:r.objectProperty(m.layout),legends:r.legends,autosize:r.signalRef("autosize"),mark:ka,pulse:La(Ta)}));r.operators.pop();r.pushState(La(Ta),La(Oa),null);z(m,r,Ga);r.operators.push(Oa);m=r.add(Ad({mark:ka,
pulse:La(Oa)}));m=r.add(Ea({pulse:La(m)}));m=r.add(fc({pulse:La(m)}));r.addData("root",new oa(r,L,L,m));return r}function va(m,r){return r&&r.signal?{name:m,update:r.signal}:{name:m,value:r}}function v(m,r){const L=Oa=>U(m[Oa],r[Oa]),ka=[va("background",L("background")),va("autosize",ec(L("autosize"))),va("padding",Db(L("padding"))),va("width",L("width")||0),va("height",L("height")||0)],Ga=ka.reduce((Oa,sb)=>(Oa[sb.name]=sb,Oa),{}),Ta={};l.array(m.signals).forEach(Oa=>{l.hasOwnProperty(Ga,Oa.name)?
Oa=l.extend(Ga[Oa.name],Oa):ka.push(Oa);Ta[Oa.name]=Oa});l.array(r.signals).forEach(Oa=>{l.hasOwnProperty(Ta,Oa.name)||l.hasOwnProperty(Ga,Oa.name)||ka.push(Oa)});return ka}function R(m,r){this.config=m||{};this.options=r||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=
[];this._markpath=[]}function ca(m){this.config=m.config;this.options=m.options;this.legends=m.legends;this.field=Object.create(m.field);this.signals=Object.create(m.signals);this.lambdas=Object.create(m.lambdas);this.scales=Object.create(m.scales);this.events=Object.create(m.events);this.data=Object.create(m.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++m._nextsub[0];this._nextsub=m._nextsub;this._parent=m._parent.slice();this._encode=m._encode.slice();this._lookup=
m._lookup.slice();this._markpath=m._markpath}function wa(m){return(l.isArray(m)?pa:eb)(m)}function pa(m){const r=m.length;let L="[";for(let ka=0;ka<r;++ka){const Ga=m[ka];L+=(0<ka?",":"")+(l.isObject(Ga)?Ga.signal||wa(Ga):l.stringValue(Ga))}return L+"]"}function eb(m){let r="{",L=0,ka,Ga;for(ka in m)Ga=m[ka],r+=(1<++L?",":"")+l.stringValue(ka)+":"+(l.isObject(Ga)?Ga.signal||wa(Ga):l.stringValue(Ga));return r+"}"}function Lb(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,
events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",
font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,
labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,
labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const $b=m=>l.isObject(m)&&!l.isArray(m)?l.extend({},m):{value:m},hc=m=>l.isString(m)?l.stringValue(m):m.signal?`(${m.signal})`:Cb(m),Ec=(m,r,L,ka)=>`(${m}(${[r,L,ka].map(Ab).join(",")})+'')`,Pc=["value","update","init","react","bind"],Nc=jb("key"),md={code:"_.$value",ast:{type:"Identifier",value:"value"}},td=m=>(r,L,ka)=>new Xa(m,L,r||void 0,ka),yd=td("aggregate"),Md=td("axisticks"),Ad=td("bound"),je=td("collect"),Me=td("compare"),Qe=td("datajoin"),Re=td("encode"),He=td("expression"),De=td("facet"),
Ie=td("field"),ke=td("key"),oe=td("legendentries"),xe=td("load"),zd=td("mark"),Jf=td("multiextent"),Xe=td("multivalues"),$e=td("overlap"),df=td("params"),Fe=td("prefacet"),Nd=td("projection"),Kf=td("proxy"),ye=td("relay"),Ea=td("render"),cb=td("scale"),fc=td("sieve"),fd=td("sortitems"),jd=td("viewlayout"),cd=td("values");let Dd=0;const Xd={min:"min",max:"max",count:"sum"},Jd="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Ye={name:1,style:1,interactive:1},nd={value:0},qe={value:1},
Ne=zb(l.stringValue("left"),l.stringValue("right"),l.stringValue("center")),hf=zb('"top"','"bottom"','"middle"'),ce=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${zb('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Ne}`,jf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${hf}) : "top"`;
oa.fromEntries=function(m,r){const L=r.length,ka=r[L-1],Ga=r[L-2];let Ta=r[0],Oa=null,sb=1;Ta&&"load"===Ta.type&&(Ta=r[1]);for(m.add(r[0]);sb<L;++sb)r[sb].params.pulse=La(r[sb-1]),m.add(r[sb]),"aggregate"===r[sb].type&&(Oa=r[sb]);return new oa(m,Ta,Ga,ka,Oa)};oa.prototype={countsRef(m,r,L){const ka=this.counts||(this.counts={}),Ga=Ma(r);if(null!=Ga){m=this.scope;var Ta=ka[Ga]}Ta?L&&L.field&&ib(m,Ta.agg.params,L):(Ta={groupby:m.fieldRef(r,"key"),pulse:La(this.output)},L&&L.field&&ib(m,Ta,L),L=m.add(yd(Ta)),
Ta=m.add(je({pulse:La(L)})),Ta={agg:L,ref:La(Ta)},null!=Ga&&(ka[Ga]=Ta));return Ta.ref},tuplesRef(){return La(this.values)},extentRef(m,r){return V(m,this,"extent","extent",r,!1)},domainRef(m,r){return V(m,this,"domain","values",r,!1)},valuesRef(m,r,L){return V(m,this,"vals","values",r,L||!0)},lookupRef(m,r){return V(m,this,"lookup","tupleindex",r,!1)},indataRef(m,r){return V(m,this,"indata","tupleindex",r,!0,!0)}};const rf=(m,r,L)=>{Rb(m)?(m=m.signal,r=re(`${m} === '${"left"}' || ${m} === '${"top"}'`,
r,L)):r="left"===m||"top"===m?r:L;return r},ze=(m,r,L)=>{Rb(m)?(m=m.signal,r=me(`${m} === '${"top"}' || ${m} === '${"bottom"}'`,r,L)):r="bottom"===m||"top"===m?r:L;return r},Ze=(m,r,L)=>{Rb(m)?(m=m.signal,r=me(`${m} !== '${"top"}' && ${m} !== '${"bottom"}'`,r,L)):r="bottom"===m||"top"===m?L:r;return r},ef=(m,r,L)=>Rb(m)?re(`${m.signal} === '${"top"}'`,r,L):"top"===m?{value:r}:{value:L},me=(m,r,L)=>{r=null!=r?$b(r):r;L=null!=L?$b(L):L;if(null!=r&&1!==Object.keys(r).length||null!=L&&1!==Object.keys(L).length)return[l.extend({test:m},
r)].concat(L||[]);r=r?r.signal||l.stringValue(r.value):null;L=L?L.signal||l.stringValue(L.value):null;return{signal:`${m} ? (${r}) : (${L})`}},re=(m,r,L)=>({signal:`${m} ? (${Wd(r)}) : (${Wd(L)})`}),Wd=m=>Rb(m)?m.signal:null==m?null:l.stringValue(m),qa=(m,r)=>{const L=m.signal;return L&&L.endsWith("(null)")?{signal:L.slice(0,-6)+r.signal}:m};R.prototype=ca.prototype={parse(m){return z(m,this)},fork(){return new ca(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,
operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(m){this.operators.push(m);m.id=this.id();m.refs&&(m.refs.forEach(r=>{r.$ref=m.id}),m.refs=null);return m},proxy(m){m=m instanceof Xa?La(m):m;return this.add(Kf({value:m}))},addStream(m){this.streams.push(m);m.id=this.id();return m},addUpdate(m){this.updates.push(m);return m},finish(){function m(ka,Ga,
Ta){ka&&(ka=ka.data||(ka.data={}),Ga=ka[Ga]||(ka[Ga]=[]),Ga.push(Ta))}let r,L;this.root&&(this.root.root=!0);for(r in this.signals)this.signals[r].signal=r;for(r in this.scales)this.scales[r].scale=r;for(r in this.data){L=this.data[r];m(L.input,r,"input");m(L.output,r,"output");m(L.values,r,"values");for(const ka in L.index)m(L.index[ka],r,"index:"+ka)}return this},pushState(m,r,L){this._encode.push(La(this.add(fc({pulse:m}))));this._parent.push(r);this._lookup.push(L?La(this.proxy(L)):null);this._markpath.push(-1)},
popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return l.peek(this._parent)},encode(){return l.peek(this._encode)},lookup(){return l.peek(this._lookup)},markpath(){const m=this._markpath;return++m[m.length-1]},fieldRef(m,r){if(l.isString(m))return jb(m,r);m.signal||l.error("Unsupported field reference: "+l.stringValue(m));m=m.signal;var L=this.field[m];L||(L={name:this.signalRef(m)},r&&(L.as=r),this.field[m]=L=La(this.add(Ie(L))));return L},compareRef(m){let r=
!1;const L=Ga=>Rb(Ga)?(r=!0,this.signalRef(Ga.signal)):Ga&&Ga.expr?(r=!0,this.exprRef(Ga.expr)):Ga,ka=l.array(m.field).map(L);m=l.array(m.order).map(L);return r?La(this.add(Me({fields:ka,orders:m}))):{$compare:ka,$order:m}},keyRef(m,r){let L=!1;const ka=this.signals;m=l.array(m).map(Ga=>Rb(Ga)?(L=!0,La(ka[Ga.signal])):Ga);return L?La(this.add(ke({fields:m,flat:r}))):fb(m,r)},sortRef(m){if(!m)return m;const r=vb(m.op,m.field);m=m.order||"ascending";return m.signal?La(this.add(Me({fields:r,orders:this.signalRef(m.signal)}))):
{$compare:r,$order:m}},event(m,r){const L=m+":"+r;if(!this.events[L]){const ka=this.id();this.streams.push({id:ka,source:m,type:r});this.events[L]=ka}return this.events[L]},hasOwnSignal(m){return l.hasOwnProperty(this.signals,m)},addSignal(m,r){this.hasOwnSignal(m)&&l.error("Duplicate signal name: "+l.stringValue(m));r=r instanceof Xa?r:this.add(new Xa("operator",r,void 0,void 0));return this.signals[m]=r},getSignal(m){this.signals[m]||l.error("Unrecognized signal name: "+l.stringValue(m));return this.signals[m]},
signalRef(m){if(this.signals[m])return La(this.signals[m]);l.hasOwnProperty(this.lambdas,m)||(this.lambdas[m]=this.add(new Xa("operator",null,void 0,void 0)));return La(this.lambdas[m])},parseLambdas(){const m=Object.keys(this.lambdas);for(let L=0,ka=m.length;L<ka;++L){var r=m[L];const Ga=ja.parseExpression(r,this);r=this.lambdas[r];r.params=Ga.$params;r.update=Ga.$expr}},property(m){return m&&m.signal?this.signalRef(m.signal):m},objectProperty(m){return m&&l.isObject(m)?this.signalRef(m.signal||
wa(m)):m},exprRef(m,r){m={expr:ja.parseExpression(m,this)};r&&(m.expr.$name=r);return La(this.add(He(m)))},addBinding(m,r){this.bindings||l.error("Nested signals do not support binding: "+l.stringValue(m));this.bindings.push(l.extend({signal:m},r))},addScaleProj(m,r){l.hasOwnProperty(this.scales,m)&&l.error("Duplicate scale or projection name: "+l.stringValue(m));this.scales[m]=this.add(r)},addScale(m,r){this.addScaleProj(m,cb(r))},addProjection(m,r){this.addScaleProj(m,Nd(r))},getScale(m){this.scales[m]||
l.error("Unrecognized scale name: "+l.stringValue(m));return this.scales[m]},scaleRef(m){return La(this.getScale(m))},scaleType(m){return this.getScale(m).params.type},projectionRef(m){return this.scaleRef(m)},projectionType(m){return this.scaleType(m)},addData(m,r){l.hasOwnProperty(this.data,m)&&l.error("Duplicate data set name: "+l.stringValue(m));return this.data[m]=r},getData(m){this.data[m]||l.error("Undefined data set name: "+l.stringValue(m));return this.data[m]},addDataPipeline(m,r){l.hasOwnProperty(this.data,
m)&&l.error("Duplicate data set name: "+l.stringValue(m));return this.addData(m,oa.fromEntries(this,r))}};u.AxisDomainRole="axis-domain";u.AxisGridRole="axis-grid";u.AxisLabelRole="axis-label";u.AxisRole="axis";u.AxisTickRole="axis-tick";u.AxisTitleRole="axis-title";u.DataScope=oa;u.FrameRole="frame";u.LegendEntryRole="legend-entry";u.LegendLabelRole="legend-label";u.LegendRole="legend";u.LegendSymbolRole="legend-symbol";u.LegendTitleRole="legend-title";u.MarkRole="mark";u.Scope=R;u.ScopeRole="scope";
u.config=Lb;u.parse=function(m,r,L){l.isObject(m)||l.error("Input Vega specification must be an object.");r=l.mergeConfig(Lb(),r,m.config);return K(m,new R(r,L)).toRuntime()};u.signal=Sa;u.signalUpdates=N;u.stream=Ja})};
shadow$provide[56]=function(Fb,nb,zc,Ya){function u(La){var jb=Object.create(null);La&&Object.keys(La).forEach(function(fb){if("default"!==fb){var vb=Object.getOwnPropertyDescriptor(La,fb);Object.defineProperty(jb,fb,vb.get?vb:{enumerable:!0,get:function(){return La[fb]}})}});jb.default=La;return Object.freeze(jb)}var l=nb(24),ja=nb(32),Za=nb(34),ub=nb(38),Wb=nb(39),ec=nb(41),Db=nb(42),yb=nb(43),wb=nb(44),Qb=nb(45),Yb=nb(46);zc=nb(47);Fb=nb(48);var Ba=nb(33),bb=nb(26),Ab=nb(31),xb=nb(37),qb=nb(36),
Cb=nb(40),lb=nb(53),mc=nb(27),ua=nb(51),ha=nb(55),xa=nb(52),Sa=nb(49),Xa=nb(54);nb=u(Za);ub=u(ub);Wb=u(Wb);ec=u(ec);Db=u(Db);yb=u(yb);wb=u(wb);Qb=u(Qb);Yb=u(Yb);zc=u(zc);Fb=u(Fb);l.extend(ja.transforms,nb,ub,Wb,ec,Db,wb,yb,Qb,Yb,zc,Fb);Object.defineProperty(Ya,"Dataflow",{enumerable:!0,get:function(){return ja.Dataflow}});Object.defineProperty(Ya,"EventStream",{enumerable:!0,get:function(){return ja.EventStream}});Object.defineProperty(Ya,"MultiPulse",{enumerable:!0,get:function(){return ja.MultiPulse}});
Object.defineProperty(Ya,"Operator",{enumerable:!0,get:function(){return ja.Operator}});Object.defineProperty(Ya,"Parameters",{enumerable:!0,get:function(){return ja.Parameters}});Object.defineProperty(Ya,"Pulse",{enumerable:!0,get:function(){return ja.Pulse}});Object.defineProperty(Ya,"Transform",{enumerable:!0,get:function(){return ja.Transform}});Object.defineProperty(Ya,"changeset",{enumerable:!0,get:function(){return ja.changeset}});Object.defineProperty(Ya,"definition",{enumerable:!0,get:function(){return ja.definition}});
Object.defineProperty(Ya,"ingest",{enumerable:!0,get:function(){return ja.ingest}});Object.defineProperty(Ya,"isTuple",{enumerable:!0,get:function(){return ja.isTuple}});Object.defineProperty(Ya,"transform",{enumerable:!0,get:function(){return ja.transform}});Object.defineProperty(Ya,"transforms",{enumerable:!0,get:function(){return ja.transforms}});Object.defineProperty(Ya,"tupleid",{enumerable:!0,get:function(){return ja.tupleid}});Object.defineProperty(Ya,"interpolate",{enumerable:!0,get:function(){return qb.interpolate}});
Object.defineProperty(Ya,"interpolateColors",{enumerable:!0,get:function(){return qb.interpolateColors}});Object.defineProperty(Ya,"interpolateRange",{enumerable:!0,get:function(){return qb.interpolateRange}});Object.defineProperty(Ya,"quantizeInterpolator",{enumerable:!0,get:function(){return qb.quantizeInterpolator}});Object.defineProperty(Ya,"scale",{enumerable:!0,get:function(){return qb.scale}});Object.defineProperty(Ya,"scheme",{enumerable:!0,get:function(){return qb.scheme}});Object.defineProperty(Ya,
"projection",{enumerable:!0,get:function(){return Cb.projection}});Object.defineProperty(Ya,"View",{enumerable:!0,get:function(){return lb.View}});Object.defineProperty(Ya,"defaultLocale",{enumerable:!0,get:function(){return mc.defaultLocale}});Object.defineProperty(Ya,"formatLocale",{enumerable:!0,get:function(){return mc.numberFormatDefaultLocale}});Object.defineProperty(Ya,"locale",{enumerable:!0,get:function(){return mc.locale}});Object.defineProperty(Ya,"resetDefaultLocale",{enumerable:!0,get:function(){return mc.resetDefaultLocale}});
Object.defineProperty(Ya,"timeFormatLocale",{enumerable:!0,get:function(){return mc.timeFormatDefaultLocale}});Object.defineProperty(Ya,"expressionFunction",{enumerable:!0,get:function(){return ua.expressionFunction}});Object.defineProperty(Ya,"parse",{enumerable:!0,get:function(){return ha.parse}});Object.defineProperty(Ya,"runtimeContext",{enumerable:!0,get:function(){return xa.context}});Object.defineProperty(Ya,"codegenExpression",{enumerable:!0,get:function(){return Sa.codegenExpression}});Object.defineProperty(Ya,
"parseExpression",{enumerable:!0,get:function(){return Sa.parseExpression}});Object.defineProperty(Ya,"parseSelector",{enumerable:!0,get:function(){return Xa.parseSelector}});Ya.version="5.33.0";Object.keys(l).forEach(function(La){"default"===La||Object.prototype.hasOwnProperty.call(Ya,La)||Object.defineProperty(Ya,La,{enumerable:!0,get:function(){return l[La]}})});Object.keys(Ba).forEach(function(La){"default"===La||Object.prototype.hasOwnProperty.call(Ya,La)||Object.defineProperty(Ya,La,{enumerable:!0,
get:function(){return Ba[La]}})});Object.keys(bb).forEach(function(La){"default"===La||Object.prototype.hasOwnProperty.call(Ya,La)||Object.defineProperty(Ya,La,{enumerable:!0,get:function(){return bb[La]}})});Object.keys(Ab).forEach(function(La){"default"===La||Object.prototype.hasOwnProperty.call(Ya,La)||Object.defineProperty(Ya,La,{enumerable:!0,get:function(){return Ab[La]}})});Object.keys(xb).forEach(function(La){"default"===La||Object.prototype.hasOwnProperty.call(Ya,La)||Object.defineProperty(Ya,
La,{enumerable:!0,get:function(){return xb[La]}})})};
shadow$provide[57]=function(Fb,nb,zc,Ya){(function(u,l){"object"===typeof Ya&&"undefined"!==typeof zc?l(Ya,nb(56)):"function"===typeof define&&define.amd?define(["exports","vega"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vegaLite={},u.vega))})(this,function(u,l){function ja(a,d){if(a.not)ja(a.not,d);else if(a.and)for(const f of a.and)ja(f,d);else if(a.or)for(const f of a.or)ja(f,d);else d(a)}function Za(a,d){return a.not?{not:Za(a.not,d)}:a.and?{and:a.and.map(f=>Za(f,d))}:a.or?
{or:a.or.map(f=>Za(f,d))}:d(a)}function ub(a){throw Error(a);}function Wb(a,d){const f={};for(const g of d)l.hasOwnProperty(a,g)&&(f[g]=a[g]);return f}function ec(a,d){a=Object.assign({},a);for(const f of d)delete a[f];return a}function Db(a){if(l.isNumber(a))return a;a=l.isString(a)?a:n(a);if(250>a.length)return a;let d=0;for(let f=0;f<a.length;f++){const g=a.charCodeAt(f);d=(d<<5)-d+g;d&=d}return d}function yb(a){return!1===a||null===a}function wb(a,d){return a.includes(d)}function Qb(a,d){let f=
0;for(const g of a.entries()){const [h,p]=g;if(d(p,h,f++))return!0}return!1}function Yb(a,d){let f=0;for(const g of a.entries()){const [h,p]=g;if(!d(p,h,f++))return!1}return!0}function Ba(a){for(var d=arguments.length,f=Array(1<d?d-1:0),g=1;g<d;g++)f[g-1]=arguments[g];for(const h of f){let p;d=a;f=null!=(p=h)?p:{};for(const C of hd(f))l.writeConfig(d,C,f[C],!0)}return a}function bb(a,d){const f=[],g={};for(const h of a)a=d(h),a in g||(g[a]=1,f.push(h));return f}function Ab(a,d){if(a.size!==d.size)return!1;
for(const f of a)if(!d.has(f))return!1;return!0}function xb(a,d){for(const f of a)if(d.has(f))return!0;return!1}function qb(a){const d=new Set;for(const f of a){const g=l.splitAccessPath(f).map((h,p)=>0===p?h:`[${h}]`);a=g.map((h,p)=>g.slice(0,p+1).join(""));for(const h of a)d.add(h)}return d}function Cb(a,d){return void 0===a||void 0===d?!0:xb(qb(a),qb(d))}function lb(a){return 0===hd(a).length}function mc(a){return!0===a||!1===a}function ua(a){const d=a.replace(/\W/g,"_");return(a.match(/^\d+/)?
"_":"")+d}function ha(a,d){return a.not?`!(${ha(a.not,d)})`:a.and?`(${a.and.map(f=>ha(f,d)).join(") \x26\x26 (")})`:a.or?`(${a.or.map(f=>ha(f,d)).join(") || (")})`:d(a)}function xa(a,d){if(0===d.length)return!0;const f=d.shift();f in a&&xa(a[f],d)&&delete a[f];return lb(a)}function Sa(a){return a.charAt(0).toUpperCase()+a.substr(1)}function Xa(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const f=l.splitAccessPath(a),g=[];for(let h=1;h<=f.length;h++){const p=`[${f.slice(0,
h).map(l.stringValue).join("][")}]`;g.push(`${d}${p}`)}return g.join(" \x26\x26 ")}function La(a){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${l.stringValue(l.splitAccessPath(a).join("."))}]`}function jb(a){return a.replace(/(\[|\]|\.|'|")/g,"\\$1")}function fb(a){return`${l.splitAccessPath(a).map(jb).join("\\.")}`}function vb(a,d,f){return a.replace(new RegExp(d.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),f)}function Rb(a){return`${l.splitAccessPath(a).join(".")}`}
function Na(a){return a?l.splitAccessPath(a).length:0}function U(){for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];for(const g of d)if(void 0!==g)return g}function ea(a){const d=++Ol;return a?String(a)+d:d}function Ja(a){return Z(a)?a:`__${a}`}function Z(a){return a.startsWith("__")}function Fa(a){if(void 0!==a)return(a%360+360)%360}function ma(a){return l.isNumber(a)?!0:!isNaN(a)&&!isNaN(parseFloat(a))}function na(a,d){if(a===d)return!0;if(a&&d&&"object"==typeof a&&"object"==
typeof d){if(a.constructor.name!==d.constructor.name)return!1;let g;if(Array.isArray(a)){var f=a.length;if(f!=d.length)return!1;for(g=f;0!==g--;)if(!na(a[g],d[g]))return!1;return!0}if(a instanceof Map&&d instanceof Map){if(a.size!==d.size)return!1;for(g of a.entries())if(!d.has(g[0]))return!1;for(g of a.entries())if(!na(g[1],d.get(g[0])))return!1;return!0}if(a instanceof Set&&d instanceof Set){if(a.size!==d.size)return!1;for(g of a.entries())if(!d.has(g[0]))return!1;return!0}if(ArrayBuffer.isView(a)&&
ArrayBuffer.isView(d)){f=a.length;if(f!=d.length)return!1;for(g=f;0!==g--;)if(a[g]!==d[g])return!1;return!0}if(a.constructor===RegExp)return a.source===d.source&&a.flags===d.flags;if(a.valueOf!==Object.prototype.valueOf&&a.valueOf!==rm.valueOf)return a.valueOf()===d.valueOf();if(a.toString!==Object.prototype.toString&&a.toString!==rm.toString)return a.toString()===d.toString();const h=Object.keys(a);f=h.length;if(f!==Object.keys(d).length)return!1;for(g=f;0!==g--;)if(!Object.prototype.hasOwnProperty.call(d,
h[g]))return!1;for(g=f;0!==g--;)if(f=h[g],!na(a[f],d[f]))return!1;return!0}return a!==a&&d!==d}function n(a){const d=[];return function h(g){g&&g.toJSON&&"function"===typeof g.toJSON&&(g=g.toJSON());if(void 0!==g){if("number"==typeof g)return isFinite(g)?""+g:"null";if("object"!==typeof g)return JSON.stringify(g);var p;if(Array.isArray(g)){var C="[";for(p=0;p<g.length;p++)p&&(C+=","),C+=h(g[p])||"null";return C+"]"}if(null===g)return"null";if(d.includes(g))throw new TypeError("Converting circular structure to JSON");
var P=d.push(g)-1,aa=Object.keys(g).sort();C="";for(p=0;p<aa.length;p++){const sa=aa[p],ab=h(g[sa]);ab&&(C&&(C+=","),C+=JSON.stringify(sa)+":"+ab)}d.splice(P,1);return`{${C}}`}}(a)}function F(a){switch(a){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function N(a){return"color"===a||"fill"===a||"stroke"===a}function x(a){return T(a)!==a}function T(a){switch(a){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";
case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return a}function B(a){if(a in Bj)switch(a){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return a}function A(a){switch(a){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function Q(a){switch(a){case "x":case "x2":return"width";
case "y":case "y2":return"height"}}function D(a){switch(a){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function E(a){switch(a){case "x":return"xOffset";case "y":return"yOffset"}}function I(a){return a in dm}function X(a){return"width"===a?"x":"y"}function Da(a){switch(a){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Qk;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Ji;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function S(a){switch(a){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function ia(a){return!!a&&!!a.argmin}function Ca(a){return!!a&&!!a.argmax}function Qa(a){return l.isString(a)&&!!Il[a]}function Ra(a){return l.isString(a)&&Am.has(a)}function db(a){l.isBoolean(a)&&(a=le(a,void 0));return"bin"+hd(a).map(d=>Vb(a[d])?ua(`_${d}_${li(a[d])}`):ua(`_${d}_${a[d]}`)).join("")}function zb(a){return!0===a||l.isObject(a)&&!a.binned}function kb(a){return"binned"===a||l.isObject(a)&&!0===a.binned}function Vb(a){return null==
a?void 0:a.param}function Y(a){switch(a){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Ha(a){return!(null==a||!a.expr)}function Ub(a){const d=hd(a||{}),f={};for(const g of d)f[g]=ra(a[g]);return f}function kc(a){var d=Object.assign({},a),f=a.anchor;const g=a.frame,h=a.offset,p=a.orient,C=a.angle,P=a.limit;var aa=a.color,
sa=a.subtitleColor;const ab=a.subtitleFont,rb=a.subtitleFontSize,ac=a.subtitleFontStyle,Dc=a.subtitleFontWeight,gc=a.subtitleLineHeight,Cc=a.subtitlePadding;d=(delete d.anchor,delete d.frame,delete d.offset,delete d.orient,delete d.angle,delete d.limit,delete d.color,delete d.subtitleColor,delete d.subtitleFont,delete d.subtitleFontSize,delete d.subtitleFontStyle,delete d.subtitleFontWeight,delete d.subtitleLineHeight,delete d.subtitlePadding,d);aa=Object.assign({},d,aa?{fill:aa}:{});f=Object.assign({},
f?{anchor:f}:{},g?{frame:g}:{},h?{offset:h}:{},p?{orient:p}:{},void 0!==C?{angle:C}:{},void 0!==P?{limit:P}:{});sa=Object.assign({},sa?{subtitleColor:sa}:{},ab?{subtitleFont:ab}:{},rb?{subtitleFontSize:rb}:{},ac?{subtitleFontStyle:ac}:{},Dc?{subtitleFontWeight:Dc}:{},gc?{subtitleLineHeight:gc}:{},Cc?{subtitlePadding:Cc}:{});a=Wb(a,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:aa,subtitleMarkConfig:a,nonMarkTitleProperties:f,subtitle:sa}}function Zb(a){return l.isString(a)||l.isArray(a)&&
l.isString(a[0])}function Pb(a){return!(null==a||!a.signal)}function Nb(a){return!!a.step}function tc(a){return l.isArray(a)?!1:"field"in a&&"data"in a}function Mc(a){const d=l.isArray(a.condition)?a.condition.map(Hb):Hb(a.condition);return Object.assign({},ra(a),{condition:d})}function ra(a){if(Ha(a)){var d=Object.assign({},a);a=a.expr;d=(delete d.expr,d);return Object.assign({},{signal:a},d)}return a}function Hb(a){if(Ha(a)){var d=Object.assign({},a);a=a.expr;d=(delete d.expr,d);return Object.assign({},
{signal:a},d)}return a}function Va(a){if(Ha(a)){var d=Object.assign({},a);a=a.expr;d=(delete d.expr,d);return Object.assign({},{signal:a},d)}return Pb(a)?a:void 0!==a?{value:a}:void 0}function Bb(a){return Pb(a)?a.signal:l.stringValue(a.value)}function Ib(a){return Pb(a)?a.signal:null==a?null:l.stringValue(a)}function Eb(a){let d;return[].concat(a.type,null!=(d=a.style)?d:[])}function Xb(a,d,f){let g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:h,ignoreVgConfig:p}=g;
if(h&&void 0!==d[h])return d[h];if(void 0!==d[a])return d[a];if(!p||h&&h!==a)return jc(a,d,f,g)}function jc(a,d,f){let {vgChannel:g}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return U(g?rc(a,d,f.style):void 0,rc(a,d,f.style),g?f[d.type][g]:void 0,f[d.type][a],g?f.mark[g]:f.mark[a])}function rc(a,d,f){return ad(a,Eb(d),f)}function ad(a,d,f){d=l.array(d);let g;for(const h of d)(d=f[h])&&void 0!==d[a]&&(g=d[a]);return g}function Lc(a,d){return l.array(a).reduce((f,g)=>{f.field.push(lc(g,
d));let h;f.order.push(null!=(h=g.sort)?h:"ascending");return f},{field:[],order:[]})}function oa(a,d){const f=[...a];d.forEach(g=>{for(const h of f)if(na(h,g))return;f.push(g)});return f}function Ma(a,d){return na(a,d)||!d?a:a?[...l.array(a),...l.array(d)].join(", "):d}function ib(a,d){const f=a.value;d=d.value;if(null==f||null===d)return{explicit:a.explicit,value:null};if((Zb(f)||Pb(f))&&(Zb(d)||Pb(d)))return{explicit:a.explicit,value:Ma(f,d)};if(Zb(f)||Pb(f))return{explicit:a.explicit,value:f};
if(Zb(d)||Pb(d))return{explicit:a.explicit,value:d};if(!(Zb(f)||Pb(f)||Zb(d)||Pb(d)))return{explicit:a.explicit,value:oa(f,d)};throw Error("It should never reach here");}function V(a,d,f){a:if("object"===typeof d&&null!==d){var g=d[Symbol.toPrimitive];if(void 0!==g){d=g.call(d,"string");if("object"!==typeof d)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}d=String(d)}d="symbol"===typeof d?d:String(d);d in a?Object.defineProperty(a,d,{value:f,enumerable:!0,configurable:!0,
writable:!0}):a[d]=f;return a}function w(a,d,f){d=da(a,d,"set");if(d.set)d.set.call(a,f);else{if(!d.writable)throw new TypeError("attempted to set read only private field");d.value=f}return f}function da(a,d,f){if(!d.has(a))throw new TypeError("attempted to "+f+" private field on non-instance");return d.get(a)}function Aa(a){return`Invalid specification ${n(a)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function Ia(a){return`${"width"==a?"Width":"Height"} "container" only works for single views and layered views.`}function Wa(a){return`${"width"==a?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==a?"x":"y"}".`}function ob(a){return a?`Dropping "fit-${a}" because spec has discrete ${Q(a)}.`:'Dropping "fit" because spec has discrete size.'}function Sb(a){return`Unknown field for ${a}. Cannot calculate view size.`}function Gb(a){return`Cannot project a selection on encoding channel "${a}", which has no field.`}
function Ob(a){return`Selection not supported for ${a} yet.`}function vc(a){return`The "columns" property cannot be used when "${a}" has nested row/column.`}function Bc(a,d,f){return`An ancestor parsed field "${a}" as ${f} but a child wants to parse the field as ${d}.`}function Ic(a){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${a} are dropped.`}function id(a,d){const {fill:f,stroke:g}=d;return`Dropping color ${a} as the plot also has ${f&&g?"fill and stroke":
f?"fill":"stroke"}.`}function dd(a,d){return`Dropping ${n(a)} from channel "${d}" since it does not contain any data field, datum, value, or signal.`}function Uc(a,d,f){return`${a} dropped as it is incompatible with "${d}"${f?` when ${f}`:""}.`}function kd(a,d){return`Using discrete channel "${a}" to encode "${d}" field can be misleading as it does not encode ${"ordinal"===d?"order":"magnitude"}.`}function ld(a,d,f){return`${f}-scale's "${d}" is dropped as it does not work with ${a} scale.`}function ed(a){return`The step for "${a}" is dropped because the ${"width"===
a?"x":"y"} is continuous.`}function ge(a,d){return`Invalid ${a}: ${n(d)}.`}function gd(a){return`1D error band does not support ${a}.`}function z(a){return`Channel ${a} is required for "binned" bin.`}function K(){oi.warn(...arguments)}function va(){oi.debug(...arguments)}function v(a){if(a&&l.isObject(a))for(const d of Vk)if(d in a)return!0;return!1}function R(a){ma(a)&&(a=+a);if(l.isNumber(a))return a-1;var d=a.toLowerCase();const f=Th.indexOf(d);if(-1!==f)return f;d=d.substr(0,3);d=nk.indexOf(d);
if(-1!==d)return d;throw Error(ge("month",a));}function ca(a){ma(a)&&(a=+a);if(l.isNumber(a))return a%7;var d=a.toLowerCase();const f=pi.indexOf(d);if(-1!==f)return f;d=d.substr(0,3);d=Tk.indexOf(d);if(-1!==d)return d;throw Error(ge("day",a));}function wa(a,d){const f=[];d&&void 0!==a.day&&1<hd(a).length&&(K(`Dropping day from datetime ${n(a)} as day cannot be combined with other units.`),a=we(a),delete a.day);void 0!==a.year?f.push(a.year):f.push(2012);if(void 0!==a.month){var g=d?R(a.month):a.month;
f.push(g)}else if(void 0!==a.quarter){if(d)if(g=a.quarter,ma(g)&&(g=+g),l.isNumber(g))4<g&&K(ge("quarter",g)),--g;else throw Error(ge("quarter",g));else g=a.quarter;f.push(l.isNumber(g)?3*g:`${g}*3`)}else f.push(0);void 0!==a.date?f.push(a.date):void 0!==a.day?(d=d?ca(a.day):a.day,f.push(l.isNumber(d)?d+1:`${d}+1`)):f.push(1);for(const h of["hours","minutes","seconds","milliseconds"])d=a[h],f.push("undefined"===typeof d?0:d);return f}function pa(a){const d=wa(a,!0).join(", ");return a.utc?`utc(${d})`:
`datetime(${d})`}function eb(a){const d=wa(a,!0);return a.utc?+new Date(Date.UTC(...d)):+new Date(...d)}function Lb(a){return l.isObject(a)?a.binned:a&&a.startsWith("binned")}function $b(a){return Vk.filter(d=>Ec(a,d))}function hc(a){a=$b(a);return a[a.length-1]}function Ec(a,d){const f=a.indexOf(d);return 0>f||0<f&&"seconds"===d&&"i"===a.charAt(f-1)||a.length>f+3&&"day"===d&&"o"===a.charAt(f+3)||0<f&&"year"===d&&"f"===a.charAt(f-1)?!1:!0}function Pc(a,d){var {end:f}=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:{end:!1};const g=Xa(d),h=a.startsWith("utc")?"utc":"";const p={};for(const P of Vk)if(Ec(a,P)){var C="quarter"===P?`(${h}quarter(${g})-1)`:`${h}${P}(${g})`;p[P]=C;C=P}f&&(p[C]+="+1");f=wa(p,!1).join(", ");return p.utc?`utc(${f})`:`datetime(${f})`}function Nc(a){if(a)return a=$b(a),`timeUnitSpecifier(${n(a)}, ${n(Nl)})`}function md(a){if(a){var d;l.isString(a)?d=a&&a.startsWith("binned")?{unit:a.substring(6),binned:!0}:{unit:a}:l.isObject(a)&&(d=Object.assign({},a,a.unit?
{unit:a.unit}:{}));d.unit.startsWith("utc")&&(d.utc=!0,d.unit=d.unit.substring(3));return d}}function td(a){var d=md(a);a=Object.assign({},d);d=d.utc;const f=(delete a.utc,a);return f.unit?(d?"utc":"")+hd(f).map(g=>ua(`${"unit"===g?"":`_${g}_`}${f[g]}`)).join(""):(d?"utc":"")+"timeunit"+hd(f).map(g=>ua(`_${g}_${f[g]}`)).join("")}function yd(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h=>h;var f=md(a);const g=hc(f.unit);if(g&&"day"!==g){const h={year:2001,month:1,date:1,hours:0,
minutes:0,seconds:0,milliseconds:0},{step:p,part:C}=Md(g,f.step);f=Object.assign({},h,{[C]:+h[C]+p});return`${d(pa(f))} - ${d(pa(h))}`}}function Md(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(Rl[a])return{part:a,step:d};switch(a){case "day":case "dayofyear":return{part:"date",step:d};case "quarter":return{part:"month",step:3*d};case "week":return{part:"date",step:7*d}}}function Ad(a){return!(null==a||!a.field)&&void 0!==a.equal}function je(a){return!(null==a||!a.field)&&void 0!==
a.lt}function Me(a){return!(null==a||!a.field)&&void 0!==a.lte}function Qe(a){return!(null==a||!a.field)&&void 0!==a.gt}function Re(a){return!(null==a||!a.field)&&void 0!==a.gte}function He(a){if(null==a?0:a.field)if(l.isArray(a.range)&&2===a.range.length||Pb(a.range))return!0;return!1}function De(a){return!(null==a||!a.field)&&(l.isArray(a.oneOf)||l.isArray(a.in))}function Ie(a){return De(a)||Ad(a)||He(a)||je(a)||Qe(a)||Me(a)||Re(a)}function ke(a,d){return zg(a,{timeUnit:d,wrapTime:!0})}function oe(a,
d){return a.map(f=>ke(f,d))}function xe(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:f}=a,g=md(a.timeUnit);const {unit:h,binned:p}=g||{};g=lc(a,{expr:"datum"});f=h?`time(${p?g:Pc(h,f)})`:g;if(Ad(a))return`${f}===${ke(a.equal,h)}`;if(je(a))return`${f}<${ke(a.lt,h)}`;if(Qe(a))return`${f}>${ke(a.gt,h)}`;if(Me(a))return`${f}<=${ke(a.lte,h)}`;if(Re(a))return`${f}>=${ke(a.gte,h)}`;if(De(a))return`indexof([${oe(a.oneOf,h).join(",")}], ${f}) !== -1`;if(null!=a&&a.field&&void 0!==
a.valid)return zd(f,a.valid);if(He(a)){var {range:C}=a;g=Pb(C)?{signal:`${C.signal}[0]`}:C[0];C=Pb(C)?{signal:`${C.signal}[1]`}:C[1];if(null!==g&&null!==C&&d)return"inrange("+f+", ["+ke(g,h)+", "+ke(C,h)+"])";d=[];null!==g&&d.push(`${f} >= ${ke(g,h)}`);null!==C&&d.push(`${f} <= ${ke(C,h)}`);return 0<d.length?d.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${n(a)}`);}function zd(a){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${a}) && isFinite(+${a})`:
`!isValid(${a}) || !isFinite(+${a})`}function Jf(a){return Ie(a)&&a.timeUnit?Object.assign({},a,{timeUnit:md(a.timeUnit)}):a}function Xe(a){return"quantitative"===a||"temporal"===a}function $e(a){return"ordinal"===a||"nominal"===a}function df(a){if(a)switch(a=a.toLowerCase(),a){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Fe(a){return an.has(a)}
function Nd(a){return cn.has(a)}function Kf(a,d){switch(d){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(a);case "bins":return!["point","band","identity","ordinal"].includes(a);case "round":return cg.has(a)||"band"===a||"point"===a;case "padding":case "rangeMin":case "rangeMax":return cg.has(a)||["point","band"].includes(a);case "paddingOuter":case "align":return["point","band"].includes(a);case "paddingInner":return"band"===
a;case "domainMax":case "domainMid":case "domainMin":case "domainRaw":case "clamp":return cg.has(a);case "nice":return cg.has(a)||"quantize"===a||"threshold"===a;case "exponent":return"pow"===a;case "base":return"log"===a;case "constant":return"symlog"===a;case "zero":return Nd(a)&&!wb(["log","time","utc","threshold","quantile"],a)}}function ye(a,d){switch(d){case "interpolate":case "scheme":case "domainMid":if(!N(a))return`Cannot use the scale property "${d}" with non-color channel.`}}function Ea(a,
d){let f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!Fh[a])return!1;switch(a){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return cg.has(d)||"band"===d?!0:"point"===d?!f:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return cg.has(d)||Aj.has(d)||wb(["band","point","ordinal"],d);case "color":case "fill":case "stroke":return"band"!==d;case "strokeDash":case "shape":return"ordinal"===d||Aj.has(d)}}
function cb(a){return["line","area","trail"].includes(a)}function fc(a){return["rect","bar","image","arc"].includes(a)}function fd(a){return a.type}function jd(a){return a&&void 0!=a.band}function cd(a){const {channel:d,channelDef:f,markDef:g,scale:h,config:p}=a;a=Ye(a);if(Oa(f)&&!Ra(f.aggregate)&&h&&cg.has(h.get("type"))){{let {fieldDef:P,channel:aa,markDef:sa,ref:ab,config:rb}={fieldDef:f,channel:d,markDef:g,ref:a,config:p};if(cb(sa.type))a=ab;else if(null===Xb("invalid",sa,rb)){var C=aa;a=Dd(P,
!0);C="y"===T(C)?{field:{group:"height"}}:{value:0};a=[Object.assign({},{test:a},C),ab]}else a=ab}return a}return a}function Dd(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return zd(l.isString(a)?a:lc(a,{expr:"datum"}),!d)}function Xd(a,d,f,g){const h={};d&&(h.scale=d);pb(a)?({datum:a}=a,v(a)?h.signal=pa(a):Pb(a)?h.signal=a.signal:Ha(a)?h.signal=a.expr:h.value=a):h.field=lc(a,f);if(g){const {offset:p,band:C}=g;p&&(h.offset=p);C&&(h.band=C)}return h}function Jd(a){let {scaleName:d,
fieldOrDatumDef:f,fieldOrDatumDef2:g,offset:h,startSuffix:p,endSuffix:C="end",bandPosition:P=.5}=a;var aa=!Pb(P)&&0<P&&1>P?"datum":void 0;a=lc(f,{expr:aa,suffix:p});const sa=void 0!==g?lc(g,{expr:aa}):lc(f,{suffix:C,expr:aa});aa={};0===P||1===P?(aa.scale=d,aa.field=0===P?a:sa):(a=Pb(P)?`(1-${P.signal}) * ${a} + ${P.signal} * ${sa}`:`${1-P} * ${a} + ${P} * ${sa}`,aa.signal=`scale("${d}", ${a})`);h&&(aa.offset=h);return aa}function Ye(a){let {channel:d,channelDef:f,channel2Def:g,markDef:h,config:p,
scaleName:C,scale:P,stack:aa,offset:sa,defaultRef:ab,bandPosition:rb}=a;if(f){if(oc(f)){a=null==P?void 0:P.get("type");if(Jc(f)){null!=rb||(rb=m({fieldDef:f,fieldDef2:g,markDef:h,config:p}));const {bin:gc,timeUnit:Cc,type:Tc}=f;if(zb(gc)||rb&&Cc&&"temporal"===Tc)return(null==aa?0:aa.impute)?Xd(f,C,{binSuffix:"mid"},{offset:sa}):rb&&!Fe(a)?Jd({scaleName:C,fieldOrDatumDef:f,bandPosition:rb,offset:sa}):Xd(f,C,Tf(f,d)?{binSuffix:"range"}:{},{offset:sa});if(kb(gc)){if(Oa(g))return Jd({scaleName:C,fieldOrDatumDef:f,
fieldOrDatumDef2:g,bandPosition:rb,offset:sa});K(z("x"===d?"x2":"y2"))}}var ac;let Dc;return Xd(f,C,Fe(a)?{binSuffix:"range"}:{},{offset:sa,band:"band"===a?null!=(Dc=null!=(ac=rb)?ac:f.bandPosition)?Dc:.5:void 0})}if(Oc(f))return ac=sa?{offset:sa}:{},Object.assign({},nd(d,f.value),ac)}l.isFunction(ab)&&(ab=ab());return ab?Object.assign({},ab,sa?{offset:sa}:{}):ab}function nd(a,d){return wb(["x","x2"],a)&&"width"===d?{field:{group:"width"}}:wb(["y","y2"],a)&&"height"===d?{field:{group:"height"}}:Va(d)}
function qe(a){return a&&"number"!==a&&"time"!==a}function Ne(a){let {fieldOrDatumDef:d,format:f,formatType:g,expr:h,normalizeStack:p,config:C}=a;if(qe(g))return ce({fieldOrDatumDef:d,format:f,formatType:g,expr:h,config:C});a=hf(d,h,p);var P=sb(d);if(void 0===f&&void 0===g&&C.customFormatTypes){if("quantitative"===P){if(p&&C.normalizedNumberFormatType)return ce({fieldOrDatumDef:d,format:C.normalizedNumberFormat,formatType:C.normalizedNumberFormatType,expr:h,config:C});if(C.numberFormatType)return ce({fieldOrDatumDef:d,
format:C.numberFormat,formatType:C.numberFormatType,expr:h,config:C})}if("temporal"===P&&C.timeFormatType&&Oa(d)&&void 0===d.timeUnit)return ce({fieldOrDatumDef:d,format:C.timeFormat,formatType:C.timeFormatType,expr:h,config:C})}if(uf(d)){var aa,sa;{a={field:a,timeUnit:Oa(d)?null==(aa=md(d.timeUnit))?void 0:aa.unit:void 0,format:f,formatType:C.timeFormatType,rawTimeFormat:C.timeFormat,isUTCScale:Ed(d)&&(null==(sa=d.scale)?void 0:sa.type)===Ug.UTC};let {field:ab,timeUnit:rb,format:ac,formatType:Dc,
rawTimeFormat:gc,isUTCScale:Cc}=a;!rb||ac?!rb&&Dc?aa=`${Dc}(${ab}, '${ac}')`:(ac=l.isString(ac)?ac:gc,aa=`${Cc?"utc":"time"}Format(${ab}, '${ac}')`):(aa=rb,sa=ab,a=Cc,aa?(P=Nc(aa),aa=`${a||aa.startsWith("utc")?"utc":"time"}Format(${sa}, ${P})`):aa=void 0)}return aa?{signal:aa}:void 0}f=ze({type:P,specifiedFormat:f,config:C,normalizeStack:p});return Oa(d)&&zb(d.bin)?(aa=lc(d,{expr:h,binSuffix:"end"}),{signal:ef(a,aa,f,g,C)}):f||"quantitative"===sb(d)?{signal:`${`format(${a}, "${f||""}")`}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}
function hf(a,d,f){if(Oa(a))return f?`${lc(a,{expr:d,suffix:"end"})}-${lc(a,{expr:d,suffix:"start"})}`:lc(a,{expr:d});({datum:a}=a);a=v(a)?pa(a):`${n(a)}`;return a}function ce(a){let {fieldOrDatumDef:d,format:f,formatType:g,expr:h,normalizeStack:p,config:C,field:P}=a;null!=P||(P=hf(d,h,p));return"datum.value"!==P&&Oa(d)&&zb(d.bin)?(a=lc(d,{expr:h,binSuffix:"end"}),{signal:ef(P,a,f,g,C)}):{signal:`${g}(${P}${f?`, ${n(f)}`:""})`}}function jf(a,d,f,g,h,p){if(!l.isString(g)||!qe(g))if(void 0!==f||void 0!==
g||!h.customFormatTypes||"quantitative"!==sb(a)||!(h.normalizedNumberFormatType&&pd(a)&&"normalize"===a.stack||h.numberFormatType)){if(pd(a)&&"normalize"===a.stack&&h.normalizedNumberFormat)return ze({type:"quantitative",config:h,normalizeStack:!0});if(uf(a)){let C;a=Oa(a)?null==(C=md(a.timeUnit))?void 0:C.unit:void 0;if(void 0===a&&h.customFormatTypes&&h.timeFormatType)return;{let {specifiedFormat:P,timeUnit:aa,config:sa,omitTimeFormatConfig:ab}={specifiedFormat:f,timeUnit:a,config:h,omitTimeFormatConfig:p};
f=P?P:aa?{signal:Nc(aa)}:ab?void 0:sa.timeFormat}return f}return ze({type:d,specifiedFormat:f,config:h})}}function rf(a,d,f){if(a&&(Pb(a)||"number"===a||"time"===a))return a;if(uf(d)&&"time"!==f&&"utc"!==f){let g;return Oa(d)&&(null==(g=md(null==d?void 0:d.timeUnit))?0:g.utc)?"utc":"time"}}function ze(a){let {type:d,specifiedFormat:f,config:g,normalizeStack:h}=a;if(l.isString(f))return f;if("quantitative"===d)return h?g.normalizedNumberFormat:g.numberFormat}function Ze(a,d,f,g){if(qe(f))return`${f}(${a}${d?
`, ${n(d)}`:""})`;let h;d=null!=(h=l.isString(d)?d:void 0)?h:g.numberFormat;return`format(${a}, "${d||""}")`}function ef(a,d,f,g,h){if(void 0===f&&void 0===g&&h.customFormatTypes&&h.numberFormatType)return ef(a,d,h.numberFormat,h.numberFormatType,h);const p=Ze(a,f,g,h);d=Ze(d,f,g,h);return`${zd(a,!1)} ? "null" : ${p} + "${"  "}" + ${d}`}function me(a){return a&&("count"===a.op||!!a.field)}function re(a){return a&&l.isArray(a)}function Wd(a){return"row"in a||"column"in a}function qa(a){const {field:d,
timeUnit:f,bin:g,aggregate:h}=a;return Object.assign({},f?{timeUnit:f}:{},g?{bin:g}:{},h?{aggregate:h}:{},{field:d})}function m(a){let {fieldDef:d,fieldDef2:f,markDef:g,config:h}=a;if(oc(d)&&void 0!==d.bandPosition)return d.bandPosition;if(Oa(d)){const {timeUnit:p,bin:C}=d;if(p&&!f)return jc("timeUnitBandPosition",g,h);if(zb(C))return.5}}function r(a){let {channel:d,fieldDef:f,fieldDef2:g,markDef:h,config:p,scaleType:C,useVlSizeChannel:P}=a;a=Q(d);a=Xb(P?"size":a,h,p,{vgChannel:a});if(void 0!==a)return a;
if(Oa(f)){const {timeUnit:aa,bin:sa}=f;if(aa&&!g)return{band:jc("timeUnitBandSize",h,p)};if(zb(sa)&&!Fe(C))return{band:1}}if(fc(h.type)){if(C){if(Fe(C)){let ab;return(null==(ab=p[h.type])?void 0:ab.discreteBandSize)||{band:1}}let sa;return null==(sa=p[h.type])?void 0:sa.continuousBandSize}let aa;return null==(aa=p[h.type])?void 0:aa.discreteBandSize}}function L(a,d,f,g){return zb(a.bin)||a.timeUnit&&Jc(a)&&"temporal"===a.type?void 0!==m({fieldDef:a,fieldDef2:d,markDef:f,config:g}):!1}function ka(a){return a&&
"condition"in a}function Ga(a){a=null==a?void 0:a.condition;return!!a&&!l.isArray(a)&&Oa(a)}function Ta(a){a=null==a?void 0:a.condition;return!!a&&!l.isArray(a)&&oc(a)}function Oa(a){return a&&(!!a.field||"count"===a.aggregate)}function sb(a){return null==a?void 0:a.type}function pb(a){return a&&"datum"in a}function uc(a){return Jc(a)&&!ud(a)||qc(a)}function sc(a){return Jc(a)&&"quantitative"===a.type&&!a.bin||qc(a)}function qc(a){return pb(a)&&l.isNumber(a.datum)}function oc(a){return Oa(a)||pb(a)}
function Jc(a){return a&&("field"in a||"count"===a.aggregate)&&"type"in a}function Oc(a){return a&&"value"in a&&"value"in a}function Ed(a){return a&&("scale"in a||"sort"in a)}function pd(a){return a&&("axis"in a||"stack"in a||"impute"in a)}function wd(a){return a&&("format"in a||"formatType"in a)}function Sd(a){return ec(a,["legend","axis","header","scale"])}function lc(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=a.field;const g=d.prefix;let h=d.suffix,p="";if("count"===a.aggregate)f=
Ja("count");else{let C;if(!d.nofn)if("op"in a)C=a.op;else{const {bin:P,aggregate:aa,timeUnit:sa}=a;if(zb(P)){C=db(P);let ab,rb;h=(null!=(ab=d.binSuffix)?ab:"")+(null!=(rb=d.suffix)?rb:"")}else if(aa)Ca(aa)?(p=`["${f}"]`,f=`argmax_${aa.argmax}`):ia(aa)?(p=`["${f}"]`,f=`argmin_${aa.argmin}`):C=String(aa);else if(sa&&!Lb(sa)){C=td(sa);let ab;h=(!["range","mid"].includes(d.binSuffix)&&d.binSuffix||"")+(null!=(ab=d.suffix)?ab:"")}}C&&(f=f?`${C}_${f}`:C)}h&&(f=`${f}_${h}`);g&&(f=`${g}_${f}`);return d.forAs?
Rb(f):d.expr?La(f,d.expr)+p:fb(f)+p}function ud(a){switch(a.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return Oa(a)&&!!a.bin;case "temporal":return!1}throw Error(`Invalid field type "${a.type}".`);}function ne(a,d){const {field:f,bin:g,timeUnit:h,aggregate:p}=a;if("count"===p)return d.countTitle;if(zb(g))return`${f} (binned)`;if(h&&!Lb(h)){let C;if(a=null==(C=md(h))?void 0:C.unit)return`${f} (${$b(a).join("-")})`}else if(p)return Ca(p)?`${f} for max ${p.argmax}`:
ia(p)?`${f} for min ${p.argmin}`:`${Sa(p)} of ${f}`;return f}function be(a,d,f){let {allowDisabling:g,includeDefault:h=!0}=f,p;f=null==(p=Bd(a))?void 0:p.title;if(!Oa(a))return null!=f?f:a.title;d=h?Jj(a,d):void 0;if(g)return U(f,a.title,d);let C;return null!=(C=null!=f?f:a.title)?C:d}function Bd(a){if(pd(a)&&a.axis)return a.axis;if(a&&"legend"in a&&a.legend)return a.legend;if(a&&"header"in a&&a.header)return a.header}function qd(a){if(wd(a)){const {format:h,formatType:p}=a;return{format:h,formatType:p}}let d;
a=null!=(d=Bd(a))?d:{};const {format:f,formatType:g}=a;return{format:f,formatType:g}}function Kd(a,d){switch(d){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in a&&l.isArray(a.sort))return"ordinal";const {aggregate:f,bin:g,timeUnit:h}=a;if(h)return"temporal";if(g||f&&!Ca(f)&&!ia(f))return"quantitative";let p;if(Ed(a)&&(null==(p=a.scale)?0:p.type))switch(Hk[a.scale.type]){case "numeric":case "discretizing":return"quantitative";
case "time":return"temporal"}return"nominal"}function de(a){if(Oa(a))return a;if(Ga(a))return a.condition}function te(a){if(oc(a))return a;if(Ta(a))return a.condition}function $d(a,d,f){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return l.isString(a)||l.isNumber(a)||l.isBoolean(a)?(g=l.isString(a)?"string":l.isNumber(a)?"number":"boolean",K(`Channel ${d} is a ${g}. Converted to {value: ${n(a)}}.`),{value:a}):oc(a)?Ee(a,d,f,g):Ta(a)?Object.assign({},a,{condition:Ee(a.condition,
d,f,g)}):a}function Ee(a,d,f,g){if(wd(a)){var h=Object.assign({},a),p=a.formatType;h=(delete h.format,delete h.formatType,h);if(qe(p)&&!f.customFormatTypes)return K(Ic(d)),Ee(h,d,f,g)}else if((p=pd(a)?"axis":a&&"legend"in a?"legend":a&&"header"in a?"header":null)&&a[p]){var C=a[p];h=Object.assign({},C);C=C.formatType;h=(delete h.format,delete h.formatType,h);if(qe(C)&&!f.customFormatTypes)return K(Ic(d)),Ee(Object.assign({},a,{[p]:h}),d,f,g)}if(Oa(a))return $c(a,d,g);d=a.type;d||({datum:d}=a,d=l.isNumber(d)?
"quantitative":l.isString(d)?"nominal":v(d)?"temporal":void 0,a=Object.assign({},a,{type:d}));return a}function $c(a,d){var {compositeMark:f=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:g,timeUnit:h,bin:p,field:C}=a,P=Object.assign({},a);f||!g||Qa(g)||Ca(g)||ia(g)||(K(`Invalid aggregation operator "${g}".`),delete P.aggregate);h&&(P.timeUnit=md(h));C&&(P.field=`${C}`);zb(p)&&(P.bin=le(p,d));kb(p)&&!I(d)&&K(`Channel ${d} should not be used with "binned" bin.`);if(Jc(P)){({type:f}=
P);var aa=df(f);f!==aa&&(P.type=aa);"quantitative"!==f&&Ra(g)&&(K(`Invalid field type "${f}" for aggregate: "${g}", using "quantitative" instead.`),P.type="quantitative")}else x(d)||(f=Kd(P,d),P.type=f);if(Jc(P)){const {compatible:ab,warning:rb}=lf(P,d)||{};!1===ab&&K(rb)}if("sort"in P&&l.isString(P.sort)){({sort:f}=P);if(f in Ql)return Object.assign({},P,{sort:{encoding:f}});aa=f.substr(1);if("-"===f.charAt(0)&&aa in Ql)return Object.assign({},P,{sort:{encoding:aa,order:"descending"}})}if(P&&"header"in
P&&({header:f}=P,f)){var sa=f;aa=Object.assign({},sa);sa=sa.orient;aa=(delete aa.orient,aa);if(sa)return Object.assign({},P,{header:Object.assign({},aa,{labelOrient:f.labelOrient||sa,titleOrient:f.titleOrient||sa})})}return P}function le(a,d){return l.isBoolean(a)?{maxbins:Y(d)}:"binned"===a?{binned:!0}:a.maxbins||a.step?a:Object.assign({},a,{maxbins:Y(d)})}function lf(a,d){var f=a.type;if("geojson"===f&&"shape"!==d)return{compatible:!1,warning:`Channel ${d} should not be used with a geojson data.`};
switch(d){case "row":case "column":case "facet":return ud(a)?jj:{compatible:!1,warning:`${d} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return jj;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==f?{compatible:!1,warning:`Channel ${d} should be used with a quantitative field only, not ${a.type} field.`}:
jj;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==f||a.sort?jj:{compatible:!1,warning:`Channel ${d} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(f=!ud(a)){let g;f=!(Ed(a)&&Aj.has(null==(g=a.scale)?void 0:g.type))}return f?{compatible:!1,warning:`${d} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:
jj;case "order":return"nominal"!==a.type||"sort"in a?jj:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function uf(a){var {formatType:d}=qd(a),f;if(!(f="time"===d)){if(d=!d)d=a&&("temporal"===a.type||Oa(a)&&!!a.timeUnit);f=d}return f}function zg(a,d){let {timeUnit:f,type:g,wrapTime:h,undefinedIfExprNotRequired:p}=d;var C=(d=f&&(null==(C=md(f))?void 0:C.unit))||"temporal"===g;let P;Ha(a)?P=a.expr:Pb(a)?P=a.signal:v(a)?(C=!0,P=pa(a)):(l.isString(a)||
l.isNumber(a))&&C&&(P=`datetime(${n(a)})`,Uk[d]&&(l.isNumber(a)&&1E4>a||l.isString(a)&&isNaN(Date.parse(a)))&&(P=pa({[d]:a})));return P?h&&C?`time(${P})`:P:p?void 0:n(a)}function yf(a,d){const {type:f}=a;return d.map(g=>{var h=Oa(a)&&!Lb(a.timeUnit)?a.timeUnit:void 0;h=zg(g,{timeUnit:h,type:f,undefinedIfExprNotRequired:!0});return void 0!==h?{signal:h}:g})}function Tf(a,d){return zb(a.bin)?!!Fh[d]&&["ordinal","nominal"].includes(a.type):(console.warn("Only call this method for binned field defs."),
!1)}function kg(a){return null==a?void 0:a.condition}function mf(a){return"mark"in a}function Ke(a,d){return(a=a&&a[d])?l.isArray(a)?Qb(a,f=>!!f.field):Oa(a)||Ga(a):!1}function lg(a,d){return(a=a&&a[d])?l.isArray(a)?Qb(a,f=>!!f.field):Oa(a)||pb(a)||Ta(a):!1}function Zg(a,d){if(I(d)){const f=a[d];if((Oa(f)||pb(f))&&($e(f.type)||Oa(f)&&f.timeUnit))return d=E(d),lg(a,d)}return!1}function Yf(a){return Qb(tn,d=>Ke(a,d)?(d=a[d],l.isArray(d)?Qb(d,f=>!!f.aggregate):(d=de(d))&&!!d.aggregate):!1)}function mg(a,
d){const f=[],g=[],h=[],p=[],C={};Sg(a,(P,aa)=>{if(Oa(P)){var sa=Object.assign({},P),ab=P.field;const ac=P.aggregate,Dc=P.bin,gc=P.timeUnit;sa=(delete sa.field,delete sa.aggregate,delete sa.bin,delete sa.timeUnit,sa);if(ac||gc||Dc){var rb;const Cc=null==(rb=Bd(P))?void 0:rb.title;rb=lc(P,{forAs:!0});sa=Object.assign({},Cc?[]:{title:be(P,d,{allowDisabling:!0})},sa,{field:rb});if(ac){let Tc;Ca(ac)?(Tc="argmax",rb=lc({op:"argmax",field:ac.argmax},{forAs:!0}),sa.field=`${rb}.${ab}`):ia(ac)?(Tc="argmin",
rb=lc({op:"argmin",field:ac.argmin},{forAs:!0}),sa.field=`${rb}.${ab}`):"boxplot"!==ac&&"errorbar"!==ac&&"errorband"!==ac&&(Tc=ac);Tc&&(P={op:Tc,as:rb},ab&&(P.field=ab),p.push(P))}else f.push(rb),Jc(P)&&zb(Dc)?(g.push({bin:Dc,field:ab,as:rb}),f.push(lc(P,{binSuffix:"end"})),Tf(P,aa)&&f.push(lc(P,{binSuffix:"range"})),I(aa)&&(C[`${aa}2`]={field:`${rb}_end`}),sa.bin="binned",x(aa)||(sa.type="quantitative")):gc&&!Lb(gc)&&(h.push({timeUnit:gc,field:ab,as:rb}),(ab=Jc(P)&&"temporal"!==P.type&&"time")&&
("text"===aa||"tooltip"===aa?sa.formatType=ab:wm[aa]?sa.legend=Object.assign({},{formatType:ab},sa.legend):I(aa)&&(sa.axis=Object.assign({},{formatType:ab},sa.axis))));C[aa]=sa}else f.push(ab),C[aa]=a[aa]}else C[aa]=a[aa]});return{bins:g,timeUnits:h,aggregate:p,groupby:f,encoding:C}}function Zf(a,d,f){f=Da(d)[f];return f&&("binned"!==f||(f=a["x2"===d?"x":"y"],Oa(f)&&Oa(a[d])&&kb(f.bin)))?!0:!1}function $g(a,d,f,g){const h={};for(var p of hd(a))Cj[p]||K(`${p}-encoding is dropped as ${p} is not a valid encoding channel.`);
for(let P of xg)if(a[P]){p=a[P];if(P in hj){a:{switch(P){case "xOffset":var C="x";break a;case "yOffset":C="y";break a}C=void 0}const aa=h[C];if(Oa(aa)&&Xe(aa.type)&&Oa(p)&&!aa.timeUnit){K(`${C}Offset dropped because ${C} is continuous`);continue}}"angle"!==P||"arc"!==d||a.theta||(K("Arc marks uses theta channel rather than angle, replacing angle with theta."),P="theta");if(Zf(a,P,d)){if("size"===P&&"line"===d){let aa;if(null==(aa=de(a[P]))?0:aa.aggregate){K("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");
continue}}if("color"===P&&(f?"fill"in a:"stroke"in a))K(id("encoding",{fill:"fill"in a,stroke:"stroke"in a}));else if("detail"===P||"order"===P&&!l.isArray(p)&&!Oc(p)||"tooltip"===P&&l.isArray(p)){if(p){if("order"===P&&(C=a[P])&&C.sort&&!C.field){h[P]=C;continue}h[P]=l.array(p).reduce((aa,sa)=>{Oa(sa)?aa.push($c(sa,P)):K(dd(sa,P));return aa},[])}}else{if("tooltip"===P&&null===p)h[P]=null;else if(!(Oa(p)||pb(p)||Oc(p)||ka(p)||Pb(p))){K(dd(p,P));continue}h[P]=$d(p,P,g)}}else K(Uc(P,d))}return h}function ah(a,
d){const f={};for(const g of hd(a)){const h=$d(a[g],g,d,{compositeMark:!0});f[g]=h}return f}function bh(a){const d=[];for(const f of hd(a))if(Ke(a,f)){const g=l.array(a[f]);for(const h of g)Oa(h)?d.push(h):Ga(h)&&d.push(h.condition)}return d}function Sg(a,d,f){if(a)for(const g of hd(a)){const h=a[g];if(l.isArray(h))for(const p of h)d.call(f,p,g);else d.call(f,h,g)}}function Tg(a,d,f,g){return a?hd(a).reduce((h,p)=>{const C=a[p];return l.isArray(C)?C.reduce((P,aa)=>d.call(g,P,aa,p),h):d.call(g,h,C,
p)},f):f}function oh(a,d){return hd(d).reduce((f,g)=>{switch(g){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return f;case "order":if("line"===a||"trail"===a)return f;case "detail":case "key":g=d[g];if(l.isArray(g)||Oa(g))for(var h of l.array(g))h.aggregate||
f.push(lc(h,{}));return f;case "size":if("trail"===a)return f;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(h=de(d[g]))&&!h.aggregate&&f.push(lc(h,{})),f}},[])}function Uf(a,d,f){let g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in f)return{tooltip:f.tooltip};const h=a.map(C=>{let {fieldPrefix:P,titlePrefix:aa}=C;C=g?` of ${W(d)}`:"";return{field:P+d.field,type:d.type,title:Pb(aa)?
{signal:`${aa}"${escape(C)}"`}:aa+C}}),p=bh(f).map(Sd);return{tooltip:[...h,...bb(p,Db)]}}function W(a){const {title:d,field:f}=a;return U(d,f)}function Ka(a,d,f,g,h){const {scale:p,axis:C}=f;return P=>{let {partName:aa,mark:sa,positionPrefix:ab,endPositionPrefix:rb,extraEncoding:ac={}}=P;P=W(f);return mb(a,aa,h,{mark:sa,encoding:Object.assign({},{[d]:Object.assign({},{field:`${ab}_${f.field}`,type:f.type},void 0!==P?{title:P}:{},void 0!==p?{scale:p}:{},void 0!==C?{axis:C}:{})},l.isString(rb)?{[`${d}2`]:{field:`${rb}_${f.field}`}}:
{},g,ac)})}}function mb(a,d,f,g){const {clip:h,color:p,opacity:C}=a,P=a.type;return a[d]||void 0===a[d]&&f[d]?[Object.assign({},g,{mark:Object.assign({},f[d],h?{clip:h}:{},p?{color:p}:{},C?{opacity:C}:{},fd(g.mark)?g.mark:{type:g.mark},{style:`${P}-${String(d)}`},l.isBoolean(a[d])?{}:a[d])})]:[]}function yc(a,d,f){({encoding:a}=a);d="vertical"===d?"y":"x";const g=a[`${d}2`],h=a[`${d}Error`],p=a[`${d}Error2`];return{continuousAxisChannelDef:Ac(a[d],f),continuousAxisChannelDef2:Ac(g,f),continuousAxisChannelDefError:Ac(h,
f),continuousAxisChannelDefError2:Ac(p,f),continuousAxis:d}}function Ac(a,d){if(null==a?0:a.aggregate){var f=Object.assign({},a);a=a.aggregate;f=(delete f.aggregate,f);a!==d&&K(`Continuous axis should not have customized aggregation function ${a}; ${d} already agregates the axis.`);return f}return a}function xd(a,d){const {mark:f,encoding:g}=a,{x:h,y:p}=g;if(fd(f)&&f.orient)return f.orient;if(uc(h)){if(uc(p)){a=Oa(h)&&h.aggregate;const C=Oa(p)&&p.aggregate;if(!a&&C===d)return"vertical";if(C||a!==
d){if(a===d&&C===d)throw Error("Both x and y cannot have aggregate");return uf(p)&&!uf(h)?"horizontal":"vertical"}}return"horizontal"}if(uc(p))return"vertical";throw Error(`Need a valid continuous axis for ${d}s`);}function Vd(a){return l.isNumber(a)?"tukey":a}function Id(a,d){var {config:f}=d,g=a=Object.assign({},a,{encoding:ah(a.encoding,f)});d=Object.assign({},g);var h=g.mark;g=g.params;d=(delete d.mark,delete d.encoding,delete d.params,delete d.projection,d);h=fd(h)?h:{type:h};g&&K(Ob("boxplot"));
var p;g=null!=(p=h.extent)?p:f.boxplot.extent;var C=Xb("size",h,f),P=h.invalid;p=Vd(g);var aa=a;a=xd(aa,"boxplot");const {continuousAxisChannelDef:sa,continuousAxis:ab}=yc(aa,a,"boxplot");var rb=sa.field,ac=Vd(g),Dc=[...ig(rb),{op:"median",field:rb,as:`mid_box_${rb}`},{op:"min",field:rb,as:("min-max"===ac?"lower_whisker_":"min_")+rb},{op:"max",field:rb,as:("min-max"===ac?"upper_whisker_":"max_")+rb}];rb="min-max"===ac||"tukey"===ac?[]:[{calculate:`datum["upper_box_${rb}"] - datum["lower_box_${rb}"]`,
as:`iqr_${rb}`},{calculate:`min(datum["upper_box_${rb}"] + datum["iqr_${rb}"] * ${g}, datum["max_${rb}"])`,as:`upper_whisker_${rb}`},{calculate:`max(datum["lower_box_${rb}"] - datum["iqr_${rb}"] * ${g}, datum["min_${rb}"])`,as:`lower_whisker_${rb}`}];aa=Object.assign({},aa.encoding);var gc;ac=(delete aa[ab],aa);aa=Object.assign({},ac);ac=ac.tooltip;aa=(delete aa.tooltip,aa);if(ac){var Cc;if(l.isArray(ac)){for(var Tc of ac)Tc.aggregate?(gc||(gc=[]),gc.push(Tc)):(Cc||(Cc=[]),Cc.push(Tc));gc&&(aa.tooltip=
gc)}else ac.aggregate?aa.tooltip=ac:Cc=ac;l.isArray(Cc)&&1===Cc.length&&(Cc=Cc[0]);gc={customTooltipWithoutAggregatedField:Cc,filteredEncoding:aa}}else gc={filteredEncoding:aa};const {customTooltipWithoutAggregatedField:Vc,filteredEncoding:Od}=gc,{bins:Fd,timeUnits:ie,aggregate:Td,groupby:wf,encoding:cf}=mg(Od,f);gc=[...Fd,...ie,{aggregate:[...Td,...Dc],groupby:wf},...rb];const {bins:Le,timeUnits:Ge,transform:Pf,continuousAxisChannelDef:fe,continuousAxis:Oe,groupby:Fg,aggregate:ci,encodingWithoutContinuousAxis:ii,
ticksOrient:Wm,boxOrient:Rn,customTooltipWithoutAggregatedField:kf}={bins:Fd,timeUnits:ie,transform:gc,groupby:wf,aggregate:Td,continuousAxisChannelDef:sa,continuousAxis:ab,encodingWithoutContinuousAxis:cf,ticksOrient:"vertical"===a?"horizontal":"vertical",boxOrient:a,customTooltipWithoutAggregatedField:Vc};Cc=Object.assign({},ii);gc=ii.color;Dc=ii.size;Cc=(delete Cc.color,delete Cc.size,Cc);Tc=Ka(h,Oe,fe,Cc,f.boxplot);a=Ka(h,Oe,fe,ii,f.boxplot);Dc=Ka(h,Oe,fe,Object.assign({},Cc,Dc?{size:Dc}:{}),
f.boxplot);rb=Uf([{fieldPrefix:"min-max"===p?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===p?"lower_whisker_":"min_",titlePrefix:"Min"}],fe,ii);aa={type:"tick",color:"black",opacity:1,orient:Wm,invalid:P,aria:!1};ac="min-max"===p?rb:Uf([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],
fe,ii);Tc=[...Tc({partName:"rule",mark:{type:"rule",invalid:P,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:ac}),...Tc({partName:"rule",mark:{type:"rule",invalid:P,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:ac}),...Tc({partName:"ticks",mark:aa,positionPrefix:"lower_whisker",extraEncoding:ac}),...Tc({partName:"ticks",mark:aa,positionPrefix:"upper_whisker",extraEncoding:ac})];C=[...("tukey"!==p?Tc:[]),...a({partName:"box",
mark:Object.assign({},{type:"bar"},C?{size:C}:{},{orient:Rn,invalid:P,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:rb}),...Dc({partName:"median",mark:Object.assign({},{type:"tick",invalid:P},l.isObject(f.boxplot.median)&&f.boxplot.median.color?{color:f.boxplot.median.color}:{},C?{size:C}:{},{orient:Wm,aria:!1}),positionPrefix:"mid_box",extraEncoding:rb})];if("min-max"===p){var af;return Object.assign({},d,{transform:(null!=(af=d.transform)?af:
[]).concat(Pf),layer:C})}af=`datum["lower_box_${fe.field}"]`;p=`datum["upper_box_${fe.field}"]`;P=`(${p} - ${af})`;af=`${af} - ${g} * ${P}`;P=`${p} + ${g} * ${P}`;a=`datum["${fe.field}"]`;g={joinaggregate:ig(fe.field),groupby:Fg};p={transform:[{filter:`(${af} <= ${a}) && (${a} <= ${P})`},{aggregate:[{op:"min",field:fe.field,as:`lower_whisker_${fe.field}`},{op:"max",field:fe.field,as:`upper_whisker_${fe.field}`},{op:"min",field:`lower_box_${fe.field}`,as:`lower_box_${fe.field}`},{op:"max",field:`upper_box_${fe.field}`,
as:`upper_box_${fe.field}`},...ci],groupby:Fg}],layer:Tc};Cc=Object.assign({},Cc);Cc=(delete Cc.tooltip,Cc);const {scale:Pe,axis:Ue}=fe;Tc=W(fe);Dc=ec(Ue,["title"]);f=mb(h,"outliers",f.boxplot,{transform:[{filter:`(${a} < ${af}) || (${a} > ${P})`}],mark:"point",encoding:Object.assign({},{[Oe]:Object.assign({},{field:fe.field,type:fe.type},void 0!==Tc?{title:Tc}:{},void 0!==Pe?{scale:Pe}:{},lb(Dc)?{}:{axis:Dc})},Cc,gc?{color:gc}:{},kf?{tooltip:kf}:{})})[0];h=[...Le,...Ge,g];f?f={transform:h,layer:[f,
p]}:(f=p,f.transform.unshift(...h));return Object.assign({},d,{layer:[f,{transform:Pf,layer:C}]})}function ig(a){return[{op:"q1",field:a,as:`lower_box_${a}`},{op:"q3",field:a,as:`upper_box_${a}`}]}function pf(a,d){({config:d}=d);a=Object.assign({},a,{encoding:ah(a.encoding,d)});const {transform:f,continuousAxisChannelDef:g,continuousAxis:h,encodingWithoutContinuousAxis:p,ticksOrient:C,markDef:P,outerSpec:aa,tooltipEncoding:sa}=ph(a,"errorbar",d);delete p.size;a=Ka(P,h,g,p,d.errorbar);d=P.thickness;
var ab=P.size;ab=Object.assign({},{type:"tick",orient:C,aria:!1},void 0!==d?{thickness:d}:{},void 0!==ab?{size:ab}:{});a=[...a({partName:"ticks",mark:ab,positionPrefix:"lower",extraEncoding:sa}),...a({partName:"ticks",mark:ab,positionPrefix:"upper",extraEncoding:sa}),...a({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==d?{size:d}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:sa})];return Object.assign({},aa,{transform:f},1<a.length?
{layer:a}:Object.assign({},a[0]))}function ug(a,d){var {encoding:f}=a;if(!(!oc(f.x)&&!oc(f.y)||oc(f.x2)||oc(f.y2)||oc(f.xError)||oc(f.xError2)||oc(f.yError)||oc(f.yError2)))return{orient:xd(a,d),inputType:"raw"};var g=oc(f.x2)||oc(f.y2);var h=oc(f.xError)||oc(f.xError2)||oc(f.yError)||oc(f.yError2);a=f.x;const p=f.y;if(g){if(h)throw Error(`${d} cannot be both type aggregated-upper-lower and aggregated-error`);g=f.x2;f=f.y2;if(oc(g)&&oc(f))throw Error(`${d} cannot have both x2 and y2`);if(oc(g)){if(uc(a))return{orient:"horizontal",
inputType:"aggregated-upper-lower"};throw Error(`Both x and x2 have to be quantitative in ${d}`);}if(oc(f)){if(uc(p))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${d}`);}}else{g=f.xError;h=f.yError;const C=f.yError2;if(oc(f.xError2)&&!oc(g))throw Error(`${d} cannot have xError2 without xError`);if(oc(C)&&!oc(h))throw Error(`${d} cannot have yError2 without yError`);if(oc(g)&&oc(h))throw Error(`${d} cannot have both xError and yError with both are quantiative`);
if(oc(g)){if(uc(a))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(oc(h)){if(uc(p))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function ph(a,d,f){var g=Object.assign({},a),h=a.mark,p=a.encoding,C=a.params;g=(delete g.mark,delete g.encoding,delete g.params,delete g.projection,g);h=fd(h)?h:{type:h};
C&&K(Ob(d));const {orient:P,inputType:aa}=ug(a,d),{continuousAxisChannelDef:sa,continuousAxisChannelDef2:ab,continuousAxisChannelDefError:rb,continuousAxisChannelDefError2:ac,continuousAxis:Dc}=yc(a,P,d);a=[];C=[];var gc=sa.field,Cc=!1;if("raw"===aa){var Tc=h.center?h.center:h.extent?"iqr"===h.extent?"median":"mean":f.errorbar.center;var Vc=h.extent?h.extent:"mean"===Tc?"stderr":"iqr";"median"===Tc!==("iqr"===Vc)&&K(`${Tc} is not usually used with ${Vc} for ${d}.`);"stderr"===Vc||"stdev"===Vc?(a=
[{op:Vc,field:gc,as:`extent_${gc}`},{op:Tc,field:gc,as:`center_${gc}`}],C=[{calculate:`datum["center_${gc}"] + datum["extent_${gc}"]`,as:`upper_${gc}`},{calculate:`datum["center_${gc}"] - datum["extent_${gc}"]`,as:`lower_${gc}`}],gc={fieldPrefix:"center_",titlePrefix:Sa(Tc)},Cc=Vc,Cc={fieldPrefix:"upper_",titlePrefix:`${Sa(Tc)} ${"+"} ${Cc}`},d=Vc,d=`${Sa(Tc)} ${"-"} ${d}`,Tc=[gc,Cc,{fieldPrefix:"lower_",titlePrefix:d}],Cc=!0):("ci"===Vc?(d="mean",Tc="ci0",Vc="ci1"):(d="median",Tc="q1",Vc="q3"),a=
[{op:Tc,field:gc,as:`lower_${gc}`},{op:Vc,field:gc,as:`upper_${gc}`},{op:d,field:gc,as:`center_${gc}`}],Tc=[{fieldPrefix:"upper_",titlePrefix:be({field:gc,aggregate:Vc,type:"quantitative"},f,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:be({field:gc,aggregate:Tc,type:"quantitative"},f,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:be({field:gc,aggregate:d,type:"quantitative"},f,{allowDisabling:!1})}])}else{if(h.center||h.extent){d=h.center;var Od=h.extent;K(`${Od?"extent ":""}${Od&&
d?"and ":""}${d?"center ":""}${Od&&d?"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===aa?(Tc=[],C=[{calculate:`datum["${ab.field}"]`,as:`upper_${gc}`},{calculate:`datum["${gc}"]`,as:`lower_${gc}`}]):"aggregated-error"===aa&&(Tc=[{fieldPrefix:"",titlePrefix:gc}],C=[{calculate:`datum["${gc}"] + datum["${rb.field}"]`,as:`upper_${gc}`}],ac?C.push({calculate:`datum["${gc}"] + datum["${ac.field}"]`,as:`lower_${gc}`}):C.push({calculate:`datum["${gc}"] - datum["${rb.field}"]`,
as:`lower_${gc}`}));for(Vc of C)Tc.push({fieldPrefix:Vc.as.substring(0,6),titlePrefix:vb(vb(Vc.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:Fd,postAggregateCalculates:ie,tooltipSummary:Td,tooltipTitleWithFieldName:wf}={postAggregateCalculates:C,errorBarSpecificAggregate:a,tooltipSummary:Tc,tooltipTitleWithFieldName:Cc};p=Object.assign({},p);a="x"===Dc?"x2":"y2";C="x"===Dc?"xError":"yError";gc="x"===Dc?"xError2":"yError2";p=(delete p[Dc],delete p[a],delete p[C],delete p[gc],
p);const {bins:cf,timeUnits:Le,aggregate:Ge,groupby:Pf,encoding:fe}=mg(p,f);f=[...Ge,...Fd];p="raw"!==aa?[]:Pf;a=Uf(Td,sa,fe,wf);let Oe;return{transform:[...(null!=(Oe=g.transform)?Oe:[]),...cf,...Le,...(0===f.length?[]:[{aggregate:f,groupby:p}]),...ie],groupby:p,continuousAxisChannelDef:sa,continuousAxis:Dc,encodingWithoutContinuousAxis:fe,ticksOrient:"vertical"===P?"horizontal":"vertical",markDef:h,outerSpec:g,tooltipEncoding:a}}function ch(a,d){({config:d}=d);a=Object.assign({},a,{encoding:ah(a.encoding,
d)});const {transform:f,continuousAxisChannelDef:g,continuousAxis:h,encodingWithoutContinuousAxis:p,markDef:C,outerSpec:P,tooltipEncoding:aa}=ph(a,"errorband",d);d=Ka(C,h,g,p,d.errorband);a=void 0!==a.encoding.x&&void 0!==a.encoding.y;let sa={type:a?"area":"rect"},ab={type:a?"line":"rule"};const rb=Object.assign({},C.interpolate?{interpolate:C.interpolate}:{},C.tension&&C.interpolate?{tension:C.tension}:{});a?(sa=Object.assign({},sa,rb,{ariaRoleDescription:"errorband"}),ab=Object.assign({},ab,rb,
{aria:!1})):C.interpolate?K(gd("interpolate")):C.tension&&K(gd("tension"));return Object.assign({},P,{transform:f,layer:[...d({partName:"band",mark:sa,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:aa}),...d({partName:"borders",mark:ab,positionPrefix:"lower",extraEncoding:aa}),...d({partName:"borders",mark:ab,positionPrefix:"upper",extraEncoding:aa})]})}function ng(a,d,f){d=new ri(a,d);lk[a]={normalizer:d,parts:f}}function Kg(a){return"legend"===a||!(null==a||!a.legend)}function Mh(a){return Kg(a)&&
l.isObject(a)}function Ld(a){return!(null==a||!a.select)}function Zd(a){const d=[];for(const h of a||[])if(!Ld(h)){var f=h,g=Object.assign({},f);a=f.expr;f=f.bind;g=(delete g.expr,delete g.bind,g);f&&a?(a=Object.assign({},g,{bind:f,init:a}),d.push(a)):(a=Object.assign({},g,a?{update:a}:{},f?{bind:f}:{}),d.push(a))}return d}function zf(a){let {step:d,offsetIsDiscrete:f}=a;if(f){let g;return null!=(g=d.for)?g:"offset"}return"position"}function Ae(a){return l.isObject(a)&&void 0!==a.step}function ff(a){return a.view||
a.width||a.height}function Ve(a,d,f){const g={},{spacing:h,columns:p}=f[d];void 0!==h&&(g.spacing=h);void 0!==p&&("facet"in a&&!Wd(a.facet)||"concat"in a)&&(g.columns=p);"vconcat"in a&&(g.columns=1);for(const C of xm)if(void 0!==a[C])if("spacing"===C){d=a[C];let P,aa;g[C]=l.isNumber(d)?d:{row:null!=(P=d.row)?P:h,column:null!=(aa=d.column)?aa:h}}else g[C]=a[C];return g}function vf(a,d){let f;return null!=(f=a[d])?f:a["width"===d?"continuousWidth":"continuousHeight"]}function $f(a,d){a=Vf(a,d);return Ae(a)?
a.step:20}function Vf(a,d){let f;const g=null!=(f=a[d])?f:a["width"===d?"discreteWidth":"discreteHeight"];return U(g,{step:a.step})}function pg(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:l.isObject(a)?Object.assign({},nm,a):nm}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},
"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function eh(a){var d=hd(a||{});const f={};for(const g of d)d=
a[g],f[g]=kg(d)?Mc(d):ra(d);return f}function Ag(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=Object.assign({},a),f=a.color,g=a.font,h=a.fontSize;a=a.selection;d=(delete d.color,delete d.font,delete d.fontSize,delete d.selection,d);var p=l.mergeConfig,C=we(ym);g=g?{text:{font:g},style:{"guide-label":{font:g},"guide-title":{font:g},"group-title":{font:g},"group-subtitle":{font:g}}}:{};f=f?pg(f):{};h=h?{signals:[{name:"fontSize",value:l.isObject(h)?Object.assign({},Lk,h):Lk}],
text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};h=p.call(l,{},C,g,f,h,d||{});a&&l.writeConfig(h,"selection",a,!0);a=ec(h,ko);for(var P of["background","lineBreak","padding"])h[P]&&(a[P]=ra(h[P]));for(var aa of Ij)h[aa]&&(a[aa]=Ub(h[aa]));for(var sa of kj)h[sa]&&(a[sa]=
eh(h[sa]));for(const ab of mk)h[ab]&&(a[ab]=Ub(h[ab]));h.legend&&(a.legend=Ub(h.legend));h.scale&&(a.scale=Ub(h.scale));if(h.style){P=h.style;aa=hd(P);sa={};for(const ab of aa)sa[ab]=eh(P[ab]);a.style=sa}h.title&&(a.title=Ub(h.title));h.view&&(a.view=Ub(h.view));return a}function nh(a){a=we(a);for(var d of lo)delete a[d];if(a.axis)for(var f in a.axis)kg(a.axis[f])&&delete a.axis[f];if(a.legend)for(var g of Mi)delete a.legend[g];if(a.mark){for(var h of Pl)delete a.mark[h];a.mark.tooltip&&l.isObject(a.mark.tooltip)&&
delete a.mark.tooltip}a.params&&(a.signals=(a.signals||[]).concat(Zd(a.params)),delete a.params);for(var p of Wn){for(const rb of Pl)delete a[p][rb];if(d=mm[p])for(const rb of d)delete a[p][rb];let ab=h=void 0;d=a;f=p;g=void 0;var C=d[f];"view"===f&&(g="cell");C=Object.assign({},C,d.style[null!=(ab=g)?ab:f]);lb(C)||(d.style[null!=(h=g)?h:f]=C);delete d[f]}for(const ab of hd(lk))delete a[ab];p=a;const {titleMarkConfig:P,subtitleMarkConfig:aa,subtitle:sa}=kc(p.title);lb(P)||(p.style["group-title"]=
Object.assign({},p.style["group-title"],P));lb(aa)||(p.style["group-subtitle"]=Object.assign({},p.style["group-subtitle"],aa));lb(sa)?delete p.title:p.title=sa;for(const ab in a)l.isObject(a[ab])&&lb(a[ab])&&delete a[ab];return lb(a)?void 0:a}function Ef(a){return Oa(a)&&"quantitative"===sb(a)&&!a.bin}function Lh(a,d,f){let {orient:g,type:h}=f;f="x"===d?"y":"radius";const p="x"===d&&["bar","area"].includes(h);var C=a[d];a=a[f];if(Oa(C)&&Oa(a))if(Ef(C)&&Ef(a)){if(C.stack)return d;if(a.stack)return f;
C=Oa(C)&&!!C.aggregate;a=Oa(a)&&!!a.aggregate;if(C!==a)return C?d:f;if(p){if("vertical"===g)return f;if("horizontal"===g)return d}}else{if(Ef(C))return d;if(Ef(a))return f}else{if(Ef(C))return p&&"vertical"===g?void 0:d;if(Ef(a))return p&&"horizontal"===g?void 0:f}}function og(a){switch(a){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function xh(a,d){var f=fd(a)?a:{type:a};a=f.type;if(!mo.has(a))return null;f=Lh(d,"x",f)||Lh(d,"theta",f);if(!f)return null;
const g=d[f];var h=Oa(g)?lc(g,{}):void 0,p=og(f);const C=[],P=new Set;if(d[p]){var aa=d[p];(aa=Oa(aa)?lc(aa,{}):void 0)&&aa!==h&&(C.push(p),P.add(aa))}p="x"===p?"xOffset":"yOffset";aa=d[p];(aa=Oa(aa)?lc(aa,{}):void 0)&&aa!==h&&(C.push(p),P.add(aa));h=Rf.reduce((ac,Dc)=>{if("tooltip"!==Dc&&Ke(d,Dc)){var gc=d[Dc];for(const Cc of l.array(gc)){gc=de(Cc);if(gc.aggregate)continue;const Tc=lc(gc,{});Tc&&P.has(Tc)||ac.push({channel:Dc,fieldDef:gc})}}return ac},[]);let sa;void 0!==g.stack?sa=l.isBoolean(g.stack)?
g.stack?"zero":null:g.stack:Zn.has(a)&&(sa="zero");if(!(sa&&sa in Yn)||Yf(d)&&0===h.length)return null;let ab,rb;if((null==g?0:null==(ab=g.scale)?0:ab.type)&&(null==g?void 0:null==(rb=g.scale)?void 0:rb.type)!==Ug.LINEAR)return(null==g?0:g.stack)&&K(`Cannot stack non-linear scale (${g.scale.type}).`),null;if(oc(d[A(f)]))return void 0!==g.stack&&K(`Cannot stack "${f}" if there is already "${f}2".`),null;Oa(g)&&g.aggregate&&!zn.has(g.aggregate)&&K(`Stacking is applied even though the aggregate function is non-summative ("${g.aggregate}").`);
return{groupbyChannels:C,groupbyFields:P,fieldChannel:f,impute:null===g.impute?!1:cb(a),stackBy:h,offset:sa}}function qg(a,d,f){a=Ub(a);var g=Xb("orient",a,f);a.orient=Sj(a.type,d,g);void 0!==g&&g!==a.orient&&K(`Specified orient "${a.orient}" overridden with "${g}".`);if("bar"===a.type&&a.orient&&(g=Xb("cornerRadiusEnd",a,f),void 0!==g)){const p="horizontal"===a.orient&&d.x2||"vertical"===a.orient&&d.y2?["cornerRadius"]:Dm[a.orient];for(var h of p)a[h]=g;void 0!==a.cornerRadiusEnd&&delete a.cornerRadiusEnd}void 0===
Xb("opacity",a,f)&&(h=wb([Xk,mi,Rg,Li],a.type)&&!Yf(d)?.7:void 0,a.opacity=h);void 0===Xb("cursor",a,f)&&(d=d.href||a.href||Xb("href",a,f)?"pointer":a.cursor,a.cursor=d);return a}function Nh(a,d,f){({graticule:f}=f);if(f)return!1;d=jc("filled",a,d);a=a.type;return U(d,a!==Xk&&a!==Wk&&a!==wj)}function Sj(a,d,f){switch(a){case Xk:case Rg:case Li:case ok:case sl:case vh:return}const {x:g,y:h,x2:p,y2:C}=d;switch(a){case Qg:if(Oa(g)&&(kb(g.bin)||Oa(h)&&h.aggregate&&!g.aggregate))break;if(Oa(h)&&(kb(h.bin)||
Oa(g)&&g.aggregate&&!h.aggregate))return"horizontal";if(C||p){if(f)return f;if(!p){if((Oa(g)&&"quantitative"===g.type&&!zb(g.bin)||qc(g))&&Oa(h)&&kb(h.bin))return"horizontal";break}if(!C){if((Oa(h)&&"quantitative"===h.type&&!zb(h.bin)||qc(h))&&Oa(g)&&kb(g.bin))break;return"horizontal"}}case wj:if(!(!p||Oa(g)&&kb(g.bin)||!C||Oa(h)&&kb(h.bin)))return;case Ki:if(C){if(Oa(h)&&kb(h.bin))return"horizontal";break}else if(p)if(Oa(g)&&kb(g.bin))break;else return"horizontal";else if(a===wj)if(g&&!h)break;else if(h&&
!g)return"horizontal";case Wk:case mi:d=sc(g);const P=sc(h);if(f)return f;if(d&&!P)return"tick"!==a?"horizontal":"vertical";if(!d&&P)return"tick"!==a?"vertical":"horizontal";if(!d||!P)if(a=Jc(g)&&"temporal"===g.type,f=Jc(h)&&"temporal"===h.type,!a||f){if(!a&&f)return"horizontal";return}}return"vertical"}function Bg(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length?arguments[2]:void 0;if("transparent"===a.point)return{opacity:0};if(a.point)return l.isObject(a.point)?
a.point:{};if(void 0!==a.point)return null;if(d.point||f.shape)return l.isObject(d.point)?d.point:{}}function yh(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(a.line)return!0===a.line?{}:a.line;if(void 0!==a.line)return null;if(d.line)return!0===d.line?{}:d.line}function Ti(a,d){return d?Xh(a,d):a}function Ui(a,d,f){const g=d[a];if(g&&!l.isString(g)&&"repeat"in g){if(g.repeat in f)return Object.assign({},d,{[a]:f[g.repeat]});K(`Unknown repeated value "${g.repeat}".`)}else return d}
function xi(a,d){a=Ui("field",a,d);if(void 0!==a){if(null===a)return null;"sort"in a&&me(a.sort)&&(d=Ui("field",a.sort,d),a=Object.assign({},a,d?{sort:d}:{}));return a}}function qh(a,d){if(Oa(a))return xi(a,d);d=Ui("datum",a,d);d===a||d.type||(d.type="nominal");return d}function Vi(a,d){if(oc(a)){if(d=qh(a,d))return d;if(ka(a))return{condition:a.condition}}else{if(Ta(a)){if(d=qh(a.condition,d))return Object.assign({},a,{condition:d});a=Object.assign({},a);return delete a.condition,a}return a}}function Xh(a,
d){const f={};for(const h in a)if(l.hasOwnProperty(a,h)){var g=a[h];l.isArray(g)?f[h]=g.map(p=>Vi(p,d)).filter(p=>p):(g=Vi(g,d),void 0!==g&&(f[h]=g))}return f}function Yh(a){let {parentEncoding:d,encoding:f={},layer:g}=a;a={};if(d){var h=new Set([...hd(d),...hd(f)]);for(const p of h){h=f[p];const C=d[p];if(oc(h))h=Object.assign({},C,h),a[p]=h;else if(Ta(h))a[p]=Object.assign({},h,{condition:Object.assign({},C,h.condition)});else if(h||null===h)a[p]=h;else if(g||Oc(C)||Pb(C)||oc(C)||l.isArray(C))a[p]=
C}}else a=f;return!a||lb(a)?void 0:a}function zh(a){const {parentProjection:d,projection:f}=a;if(d&&f){const {parentProjection:g,projection:h}={parentProjection:d,projection:f};a=`Layer's shared projection ${n(g)} is overridden by a child projection ${n(h)}.`;K(a)}return null!=f?f:d}function Wi(a){return a.map(d=>"filter"in d?{filter:Za(d.filter,Jf)}:d)}function ag(a,d){var f=Object.assign({},a);const g=a.transform;f=(delete f.transform,f);return g?(a=g.map(h=>{if("filter"in h)return{filter:$h(h,
d)};if("bin"in h&&l.isObject(h.bin))return Object.assign({},h,{bin:Zh(h.bin)});if("lookup"in h){var p=h.from,C=Object.assign({},p);p=p.selection;C=(delete C.selection,C);return p?Object.assign({},h,{from:Object.assign({},{param:p},C)}):h}return h}),Object.assign({},f,{transform:a})):a}function Xi(a,d){a=we(a);Oa(a)&&l.isObject(a.bin)&&(a.bin=Zh(a.bin));var f,g;Ed(a)&&(null==(f=a.scale)?0:null==(g=f.domain)?0:g.selection)&&(g=a.scale.domain,f=Object.assign({},g),g=g.selection,f=(delete f.selection,
f),a.scale.domain=Object.assign({},f,g?{param:g}:{}));ka(a)&&(l.isArray(a.condition)?a.condition=a.condition.map(h=>{var p=Object.assign({},h);const C=h.param;p=(delete p.selection,delete p.param,delete p.test,p);return C?h:Object.assign({},p,{test:$h(h,d)})}):(g=Xi(a.condition,d),f=Object.assign({},g),g=g.param,f=(delete f.selection,delete f.param,delete f.test,f),a.condition=g?a.condition:Object.assign({},f,{test:$h(a.condition,d)})));return a}function Zh(a){var d=a.extent;if(null==d?0:d.selection){var f=
Object.assign({},d);d=d.selection;f=(delete f.selection,f);return Object.assign({},a,{extent:Object.assign({},f,{param:d})})}return a}function $h(a,d){const f=g=>Za(g,h=>{var p;const C=null!=(p=d.emptySelections[h])?p:!0;p={param:h,empty:C};let P;null!=(P=d.selectionPredicates)[h]||(P[h]=[]);d.selectionPredicates[h].push(p);return p});return a.selection?f(a.selection):Za(a.test||a.filter,g=>g.selection?f(g.selection):g)}function Yi(a,d){void 0===d&&(d=Ag(a.config));const f=gi(a,d),{width:g,height:h}=
a;{let {width:p,height:C}={width:g,height:h,autosize:a.autosize};a=mf(f)||"layer"in f;const P={};a?"container"==p&&"container"==C?(P.type="fit",P.contains="padding"):"container"==p?(P.type="fit-x",P.contains="padding"):"container"==C&&(P.type="fit-y",P.contains="padding"):("container"==p&&(K(Ia("width")),p=void 0),"container"==C&&(K(Ia("height")),C=void 0));d=Object.assign({},{type:"pad"},P,d?Oh(d.autosize):{},Oh(f.autosize));"fit"!==d.type||a||(K('Autosize "fit" only works for single views and layered views.'),
d.type="pad");"container"==p&&"fit"!=d.type&&"fit-x"!=d.type&&K(Wa("width"));"container"==C&&"fit"!=d.type&&"fit-y"!=d.type&&K(Wa("height"));d=na(d,{type:"pad"})?void 0:d}return Object.assign({},f,d?{autosize:d}:{})}function gi(a){const d={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return ro.map(qo.map(Vn.map(a,d),d),d)}function Oh(a){return l.isString(a)?{type:a}:null!=a?a:{}}function rh(a,d){const f={};for(const g of fn)a&&void 0!==a[g]&&(f[g]=ra(a[g]));d&&(f.params=a.params);
return f}function Lg(a){return{explicit:!0,value:a}}function Se(a){return{explicit:!1,value:a}}function th(a){return(d,f,g,h)=>{const p=a(d.value,f.value);return 0<p?d:0>p?f:Cg(d,f,g,h)}}function Cg(a,d,f,g){if(a.explicit&&d.explicit){var h=a.value;d=d.value;f=`Conflicting ${g.toString()} property "${f.toString()}" (${n(h)} and ${n(d)}). Using ${n(h)}.`;K(f)}return a}function Ff(a,d,f,g){let h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Cg;return void 0===a||void 0===a.value?d:a.explicit&&
!d.explicit?a:d.explicit&&!a.explicit?d:na(a.value,d.value)?a:h(a,d,f,g)}function tj(a){return"name"in a&&!("url"in a)&&!("values"in a)&&!fh(a)}function fh(a){return a&&("sequence"in a||"sphere"in a||"graticule"in a)}function Dg(a){a=Object.assign({},a);a=(delete a.signals,delete a.hasLegend,delete a.index,a);a.field=fb(a.field);return a}function uh(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:l.identity;if(l.isArray(a)){const g=
a.map(h=>uh(h,d,f));return d?`[${g.join(", ")}]`:g}return v(a)?d?f(pa(a)):f(eb(a)):d?f(n(a)):a}function Zi(a,d){a.component.selection&&hd(a.component.selection).length&&(a=l.stringValue(a.getName("cell")),d.unshift({name:"facet",value:{},on:[{events:l.parseSelector("pointermove","scope"),update:`isTuple(facet) ? facet : group(${a}).datum`}]}));return za(d)}function sh(a,d){var f=!1,g;for(const h of wg(null!=(g=a.component.selection)?g:{})){const p=h.name;f=l.stringValue(p+"_store");0===d.filter(C=>
C.name===p).length&&(g="point"===h.type?", true, true)":")",d.push({name:h.name,update:`${"vlSelectionResolve"}(${f}, ${l.stringValue("global"===h.resolve?"union":h.resolve)}${g}`}));f=!0;for(const C of si)C.defined(h)&&C.topLevelSignals&&(d=C.topLevelSignals(a,h,d))}f&&0===d.filter(h=>"unit"===h.name).length&&d.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]});return za(d)}function zi(a,d){d=[...d];const f=Hf(a,{escape:!1});let g;for(const h of wg(null!=
(g=a.component.selection)?g:{})){a={name:h.name+"_store"};h.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(h.init){const p=h.project.items.map(Dg);a.values=h.project.hasSelectionId?h.init.map(C=>({unit:f,_vgsid_:uh(C,!1)[0]})):h.init.map(C=>({unit:f,fields:p,values:uh(C,!1)}))}d.filter(p=>p.name===h.name+"_store").length||d.push(a)}return d}function G(a,d){let f;for(const g of wg(null!=(f=a.component.selection)?f:{}))for(const h of si)h.defined(g)&&h.marks&&(d=
h.marks(a,g,d));return d}function ba(a,d){for(const f of a.children)Qf(f)&&(d=G(f,d));return d}function za(a){return a.map(d=>{d.on&&!d.on.length&&delete d.on;return d})}function Pa(a){let {timeUnit:d,field:f,reverse:g}=a;const {unit:h,utc:p}=d;a=hc(h);const {part:C,step:P}=Md(a,d.step);return`${p?"utcOffset":"timeOffset"}('${C}', datum['${f}'], ${g?-P:P})`}function Jb(a,d,f){let [g,h]=a;if(void 0!==d&&.5!==d){a=`datum['${g}']`;const p=`datum['${h}']`;return[{type:"formula",expr:Kb([Pa({timeUnit:f,
field:g,reverse:!0}),a],d+.5),as:`${g}_${"offsetted_rect_start"}`},{type:"formula",expr:Kb([a,p],d+.5),as:`${g}_${"offsetted_rect_end"}`}]}return[]}function Kb(a,d){let [f,g]=a;return`${1-d} * ${f} + ${d} * ${g}`}function cc(a,d){return`domain(${l.stringValue(a.scaleName(d))})`}function t(a){let d;return a.parent&&fi(a.parent)&&(null!=(d=!a.parent.parent)?d:t(a.parent.parent))}function M(a,d,f,g){var h=!a.hasProjection,p=f.channel;const C=f.signals.visual,P=l.stringValue(h?a.scaleName(p):a.projectionName());
var aa=ac=>`scale(${P}, ${ac})`;const sa=a.getSizeSignalRef("x"===p?"width":"height").signal,ab=`${p}(unit)`,rb=d.events.reduce((ac,Dc)=>[...ac,{events:Dc.between[0],update:`[${ab}, ${ab}]`},{events:Dc,update:`[${C}[0], clamp(${ab}, 0, ${sa})]`}],[]);if(h)return f=f.signals.data,h=Hi.defined(d),a=(a=a.getScaleComponent(p))?a.get("type"):void 0,p=g?{init:uh(g,!0,aa)}:{value:[]},rb.push({events:{signal:d.name+"_scale_trigger"},update:Nd(a)?`[${aa(`${f}[0]`)}, ${aa(`${f}[1]`)}]`:"[0, 0]"}),h?[{name:f,
on:[]}]:[Object.assign({},{name:C},p,{on:rb}),Object.assign({},{name:f},g?{init:uh(g)}:{},{on:[{events:{signal:C},update:`${C}[0] === ${C}[1] ? null : invert(${P}, ${C})`}]})];aa="x"===p?0:1;d=d.name+"_init";return[Object.assign({},{name:C},g?{init:`[${d}[0][${aa}], ${d}[1][${aa}]]`}:{value:[]},{on:rb})]}function fa(a,d,f,g){var h=ka(d)&&d.condition;d=g(d);return h?(h=l.array(h).map(p=>{const C=g(p);if(p.param){const {param:P,empty:aa}=p;p=Xj(a,{param:P,empty:aa});return Object.assign({},{test:p},
C)}p=dg(a,p.test);return Object.assign({},{test:p},C)}),{[f]:[...h,...(void 0!==d?[d]:[])]}):void 0!==d?{[f]:d}:{}}function ta(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return fa(a,a.encoding[d],d,f=>Ua(f,a.config))}function Ua(a,d){let f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(a){if(Oc(a))return Va(a.value);if(oc(a)){const {format:g,formatType:h}=qd(a);return Ne({fieldOrDatumDef:a,format:g,formatType:h,expr:f,config:d})}}}function Tb(a){let d=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:f,markDef:g,config:h,stack:p}=a,C=f.tooltip;if(l.isArray(C))return{tooltip:Fc({tooltip:C},p,h,d)};const P=d.reactiveGeom?"datum.datum":"datum";return fa(a,C,"tooltip",aa=>{const sa=Ua(aa,h,P);if(sa)return sa;if(null!==aa){aa=Xb("tooltip",g,h);!0===aa&&(aa={content:"encoding"});if(l.isString(aa))return{value:aa};if(l.isObject(aa))return Pb(aa)?aa:"encoding"===aa.content?Fc(f,p,h,d):{signal:P}}})}function ic(a,d,f){function g(sa,
ab){var rb=T(ab);sa=Jc(sa)?sa:Object.assign({},sa,{type:a[rb].type});rb=sa.title||Jj(sa,p);rb=l.array(rb).join(", ").replaceAll(/"/g,'\\"');if(I(ab)){const gc="x"===ab?"x2":"y2";var ac=de(a[gc]);if(kb(sa.bin)&&ac){var Dc=lc(sa,{expr:P});ac=lc(ac,{expr:P});const {format:Cc,formatType:Tc}=qd(sa);Dc=ef(Dc,ac,Cc,Tc,p);C[gc]=!0}}if((I(ab)||"theta"===ab||"radius"===ab)&&d&&d.fieldChannel===ab&&"normalize"===d.offset){const {format:gc,formatType:Cc}=qd(sa);Dc=Ne({fieldOrDatumDef:sa,format:gc,formatType:Cc,
expr:P,config:p,normalizeStack:!0}).signal}null!=Dc||(Dc=Ua(sa,p,P).signal);aa.push({channel:ab,key:rb,value:Dc})}var {reactiveGeom:h}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const p=Object.assign({},f,f.tooltipFormat),C={},P=h?"datum.datum":"datum",aa=[];Sg(a,(sa,ab)=>{Oa(sa)?g(sa,ab):Ga(sa)&&g(sa.condition,ab)});h={};for(const sa of aa){const {channel:ab,key:rb,value:ac}=sa;C[ab]||h[rb]||(h[rb]=ac)}return h}function Fc(a,d,f){var {reactiveGeom:g}=3<arguments.length&&void 0!==arguments[3]?
arguments[3]:{};g=ic(a,d,f,{reactiveGeom:g});g=li(g).map(h=>{let [p,C]=h;return`"${p}": ${C}`});return 0<g.length?{signal:`{${g.join(", ")}}`}:void 0}function bc(a){const {encoding:d,markDef:f,config:g,stack:h}=a;var p=d.description;if(p)return fa(a,p,"description",C=>Ua(C,a.config));p=Xb("description",f,g);if(null!=p)return{description:Va(p)};if(!1===g.aria)return{};p=ic(d,h,g);if(!lb(p))return{description:{signal:li(p).map((C,P)=>{let [aa,sa]=C;return`"${0<P?"; ":""}${aa}: " + (${sa})`}).join(" + ")}}}
function Wc(a,d){let f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:g,encoding:h,config:p}=d,{vgChannel:C}=f;let {defaultRef:P,defaultValue:aa}=f;void 0===P&&(null!=aa||(aa=Xb(a,g,p,{vgChannel:C,ignoreVgConfig:!0})),void 0!==aa&&(P=Va(aa)));return fa(d,h[a],null!=C?C:a,sa=>Ye({channel:a,channelDef:sa,markDef:g,config:p,scaleName:d.scaleName(a),scale:d.getScaleComponent(a),stack:null,defaultRef:P}))}function Qc(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{filled:void 0};const {markDef:f,encoding:g,config:h}=a;var {type:p}=f,C;d=null!=(C=d.filled)?C:Xb("filled",f,h);C=wb(["bar","point","circle","square","geoshape"],p)?"transparent":void 0;var P,aa;p=null!=(aa=null!=(P=Xb(!0===d?"color":void 0,f,h,{vgChannel:"fill"}))?P:h.mark[!0===d&&"color"])?aa:C;var sa;P=null!=(sa=Xb(!1===d?"color":void 0,f,h,{vgChannel:"stroke"}))?sa:h.mark[!1===d&&"color"];sa=d?"fill":"stroke";aa=Object.assign({},p?{fill:Va(p)}:{},P?{stroke:Va(P)}:{});f.color&&(d?f.fill:f.stroke)&&
K(id("property",{fill:"fill"in f,stroke:"stroke"in f}));return Object.assign({},aa,Wc("color",a,{vgChannel:sa,defaultValue:d?p:P}),Wc("fill",a,{defaultValue:g.fill?p:void 0}),Wc("stroke",a,{defaultValue:g.stroke?P:void 0}))}function vd(a){const {encoding:d,mark:f}=a,g=d.order;return!cb(f)&&Oc(g)?fa(a,g,"zindex",h=>Va(h.value)):{}}function Pd(a){let {channel:d,markDef:f,encoding:g={},model:h,bandPosition:p}=a;a=`${d}Offset`;const C=f[a],P=g[a];return"xOffset"!==a&&"yOffset"!==a||!P?(a=f[a])?{offsetType:"visual",
offset:a}:{}:{offsetType:"encoding",offset:Ye({channel:a,channelDef:P,markDef:f,config:null==h?void 0:h.config,scaleName:h.scaleName(a),scale:h.getScaleComponent(a),stack:null,defaultRef:Va(C),bandPosition:p})}}function Qd(a,d,f){let {defaultPos:g,vgChannel:h}=f;const {encoding:p,markDef:C,config:P,stack:aa}=d;f=p[a];const sa=p[A(a)],ab=d.scaleName(a),rb=d.getScaleComponent(a),{offset:ac,offsetType:Dc}=Pd({channel:a,markDef:C,encoding:p,model:d,bandPosition:.5}),gc=Be({model:d,defaultPos:g,channel:a,
scaleName:ab,scale:rb});if(!f&&I(a)&&(p.latitude||p.longitude))d={field:d.getName(a)};else a:{d={channel:a,channelDef:f,channel2Def:sa,markDef:C,config:P,scaleName:ab,scale:rb,stack:aa,offset:ac,defaultRef:gc,bandPosition:"encoding"===Dc?0:void 0};const {channel:Cc,channelDef:Tc,scaleName:Vc,stack:Od,offset:Fd,markDef:ie}=d;if(oc(Tc)&&Od&&Cc===Od.fieldChannel){if(Oa(Tc)&&(d=Tc.bandPosition,void 0!==d||"text"!==ie.type||"radius"!==Cc&&"theta"!==Cc||(d=.5),void 0!==d)){d=Jd({scaleName:Vc,fieldOrDatumDef:Tc,
startSuffix:"start",bandPosition:d,offset:Fd});break a}d=Xd(Tc,Vc,{suffix:"end"},{offset:Fd})}else d=cd(d)}return d?{[h||a]:d}:void 0}function Be(a){let {model:d,defaultPos:f,channel:g,scaleName:h,scale:p}=a;const {markDef:C,config:P}=d;return()=>{var aa=T(g),sa=B(g);sa=Xb(g,C,P,{vgChannel:sa});if(void 0!==sa)return nd(g,sa);switch(f){case "zeroOrMin":case "zeroOrMax":if(h&&(sa=p.get("type"),!wb([Ug.LOG,Ug.TIME,Ug.UTC],sa)&&p.domainDefinitelyIncludesZero()))return{scale:h,value:0};if("zeroOrMin"===
f)return"y"===aa?{field:{group:"height"}}:{value:0};switch(aa){case "radius":return{signal:`min(${d.width.signal},${d.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return aa=d[Q(g)],Object.assign({},aa,{mult:.5})}}}function Af(a,d,f){let g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===a||"theta"===a)return B(a);var h="x"===a?"align":"baseline";const p=Xb(h,d,f);Pb(p)?(K(`The ${h} for range marks cannot be an expression`),
h=void 0):h=p;return"x"===a?Cn[h||("top"===g?"left":"center")]:Wl[h||g]}function gf(a,d,f){let {defaultPos:g,defaultPos2:h,range:p}=f;return p?Mg(a,d,{defaultPos:g,defaultPos2:h}):Qd(a,d,{defaultPos:g})}function Mg(a,d,f){let {defaultPos:g,defaultPos2:h}=f;const {markDef:p,config:C}=d;var P=A(a);f=Q(a);{const {encoding:ac,mark:Dc,markDef:gc,stack:Cc,config:Tc}=d;var aa=T(P),sa=Q(P);const Vc=B(P);var ab=ac[aa],rb=d.scaleName(aa);const Od=d.getScaleComponent(aa);({offset:aa}=P in ac||P in gc?Pd({channel:P,
markDef:gc,encoding:ac,model:d}):Pd({channel:aa,markDef:gc,encoding:ac,model:d}));if(ab||"x2"!==P&&"y2"!==P||!ac.latitude&&!ac.longitude){let {channel:Fd,channelDef:ie,channel2Def:Td,markDef:wf,config:cf,scaleName:Le,scale:Ge,stack:Pf,offset:fe,defaultRef:Oe}={channel:P,channelDef:ab,channel2Def:ac[P],markDef:gc,config:Tc,scaleName:rb,scale:Od,stack:Cc,offset:aa,defaultRef:void 0};ab=oc(ie)&&Pf&&Fd.charAt(0)===Pf.fieldChannel.charAt(0)?Xd(ie,Le,{suffix:"start"},{offset:fe}):cd({channel:Fd,channelDef:Td,
scaleName:Le,scale:Ge,stack:Pf,markDef:wf,config:cf,offset:fe,defaultRef:Oe});P=void 0!==ab?{[Vc]:ab}:ee(P,gc)||ee(P,{[P]:rc(P,gc,Tc.style),[sa]:rc(sa,gc,Tc.style)})||ee(P,Tc[Dc])||ee(P,Tc.mark)||{[Vc]:Be({model:d,defaultPos:h,channel:P,scaleName:rb,scale:Od})()}}else sa=Q(P),rb=d.markDef[sa],P=null!=rb?{[sa]:{value:rb}}:{[Vc]:{field:d.getName(P)}}}f=P[f]?Af(a,p,C):B(a);return Object.assign({},Qd(a,d,{defaultPos:g,vgChannel:f}),P)}function ee(a,d){const f=Q(a),g=B(a);if(void 0!==d[g])return{[g]:nd(a,
d[g])};if(void 0!==d[a])return{[g]:nd(a,d[a])};if(d[f])if(d=d[f],jd(d))K(`Position range does not support relative band size for ${f}.`);else return{[f]:nd(a,d)}}function Ce(a,d){const {config:f,encoding:g,markDef:h}=a;var p=h.type,C=A(d),P=Q(d),aa=g[d];C=g[C];var sa=a.getScaleComponent(d);sa=sa?sa.get("type"):void 0;const ab=h.orient;var rb;let ac;const Dc=null!=(ac=null!=(rb=g[P])?rb:g.size)?ac:Xb("size",h,f,{vgChannel:P});P=D(d);p="bar"===p&&("x"===d?"vertical"===ab:"horizontal"===ab);if(!Oa(aa)||
!(zb(aa.bin)||kb(aa.bin)||aa.timeUnit&&!C)||Dc&&!jd(Dc)||g[P]||Fe(sa)){if((oc(aa)&&Fe(sa)||p)&&!C){var gc;{const {markDef:Td,encoding:wf,config:cf,stack:Le}=a;p=Td.orient;var Cc=a.scaleName(d),Tc=a.getScaleComponent(d),Vc=Q(d),Od=A(d);C=D(d);C=a.scaleName(C);P=a.getScaleComponent(E(d));rb="horizontal"===p&&"y"===d||"vertical"===p&&"x"===d;if(wf.size||Td.size)rb?gc=Wc("size",a,{vgChannel:Vc,defaultRef:Va(Td.size)}):K(`Cannot apply size to non-oriented mark "${Td.type}".`);sa=!!gc;var Fd;p=r({channel:d,
fieldDef:aa,markDef:Td,config:cf,scaleType:null==(Fd=Tc||P)?void 0:Fd.get("type"),useVlSizeChannel:rb});gc=gc||{[Vc]:hi(Vc,C||Cc,P||Tc,cf,p,!!aa,Td.type)};var ie;Fd="band"===(null==(ie=Tc||P)?void 0:ie.get("type"))&&jd(p)&&!sa?"top":"middle";ie=Af(d,Td,cf,Fd);Fd="xc"===ie||"yc"===ie;const {offset:Ge,offsetType:Pf}=Pd({channel:d,markDef:Td,encoding:wf,model:a,bandPosition:Fd?.5:0});a=cd({channel:d,channelDef:aa,markDef:Td,config:cf,scaleName:Cc,scale:Tc,stack:Le,offset:Ge,defaultRef:Be({model:a,defaultPos:"mid",
channel:d,scaleName:Cc,scale:Tc}),bandPosition:Fd?"encoding"===Pf?0:.5:Pb(p)?{signal:`(1-${p})/2`}:jd(p)?(1-p.band)/2:0});Vc?gc=Object.assign({},{[ie]:a},gc):(d=B(Od),gc=gc[Vc],gc=Ge?Object.assign({},gc,{offset:Ge}):gc,gc={[ie]:a,[d]:l.isArray(a)?[a[0],Object.assign({},a[1],{offset:gc})]:Object.assign({},a,{offset:gc})})}return gc}return Mg(d,a,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:Td,fieldDef2:wf,channel:cf,model:Le}={fieldDef:aa,fieldDef2:C,channel:d,model:a};const {config:Ge,
markDef:Pf,encoding:fe}=Le;a=Le.getScaleComponent(cf);gc=Le.scaleName(cf);d=a?a.get("type"):void 0;a=a.get("reverse");d=r({channel:cf,fieldDef:Td,markDef:Pf,config:Ge,scaleType:d});Fd=null!=(Tc=null==(Cc=null==(Od=Le.component.axes[cf])?void 0:Od[0])?void 0:Cc.get("translate"))?Tc:.5;Cc=I(cf)?null!=(Vc=Xb("binSpacing",Pf,Ge))?Vc:0:0;Vc=A(cf);aa=B(cf);ie=B(Vc);Tc=jc("minBandSize",Pf,Ge);({offset:p}=Pd({channel:cf,markDef:Pf,encoding:fe,model:Le,bandPosition:0}));({offset:C}=Pd({channel:Vc,markDef:Pf,
encoding:fe,model:Le,bandPosition:0}));let {scaleName:Oe,fieldDef:Fg}={fieldDef:Td,scaleName:gc};Od=lc(Fg,{expr:"datum"});P=lc(Fg,{expr:"datum",suffix:"end"});P=`abs(scale("${Oe}", ${P}) - scale("${Oe}", ${Od}))`;Od=Ah(cf,Cc,a,Fd,p,Tc,P);a=Ah(Vc,Cc,a,Fd,null!=C?C:p,Tc,P);d=Pb(d)?{signal:`(1-${d.signal})/2`}:jd(d)?(1-d.band)/2:.5;Fd=m({fieldDef:Td,fieldDef2:wf,markDef:Pf,config:Ge});if(zb(Td.bin)||Td.timeUnit)Fd=Td.timeUnit&&.5!==Fd,gc={[ie]:Ai({fieldDef:Td,scaleName:gc,bandPosition:d,offset:a,useRectOffsetField:Fd}),
[aa]:Ai({fieldDef:Td,scaleName:gc,bandPosition:Pb(d)?{signal:`1-${d.signal}`}:1-d,offset:Od,useRectOffsetField:Fd})};else{if(kb(Td.bin)){a=Xd(Td,gc,{},{offset:a});if(Oa(wf)){gc={[ie]:a,[aa]:Xd(wf,gc,{},{offset:Od})};break a}if(l.isObject(Td.bin)&&Td.bin.step){gc={[ie]:a,[aa]:{signal:`scale("${gc}", ${lc(Td,{expr:"datum"})} + ${Td.bin.step})`,offset:Od}};break a}}K(z(Vc));gc=void 0}}return gc}function hi(a,d,f,g,h,p,C){if(jd(h))if(f){const P=f.get("type");if("band"===P)return a=`bandwidth('${d}')`,
1!==h.band&&(a=`${h.band} * ${a}`),g=jc("minBandSize",{type:C},g),{signal:g?`max(${Ib(g)}, ${a})`:a};1!==h.band&&K(`Cannot use the relative band size with ${P} scale.`)}else return{mult:h.band,field:{group:a}};else{if(Pb(h))return h;if(h)return{value:h}}if(f&&(h=f.get("range"),Nb(h)&&l.isNumber(h.step)))return{value:h.step-2};if(!p){const {bandPaddingInner:P,barBandPaddingInner:aa,rectBandPaddingInner:sa}=g.scale;C=U(P,"bar"===C?aa:sa);if(Pb(C))return{signal:`(1 - (${C.signal})) * ${a}`};if(l.isNumber(C))return{signal:`${1-
C} * ${a}`}}return{value:$f(g.view,a)-2}}function Ah(a,d,f,g,h,p,C){if(a in Bj)return 0;d=(a="x"===a||"y2"===a)?-d/2:d/2;if(Pb(f)||Pb(h)||Pb(g)||p){f=Ib(f);h=Ib(h);g=Ib(g);const P=Ib(p);p=p?`(${C} < ${P} ? ${a?"":"-"}0.5 * (${P} - (${C})) : ${d})`:d;return{signal:(g?`${g} + `:"")+(f?`(${f} ? -1 : 1) * `:"")+(h?`(${h} + ${p})`:p)}}h=h||0;return g+(f?-h-d:+h+d)}function Ai(a){let {fieldDef:d,scaleName:f,bandPosition:g,offset:h,useRectOffsetField:p}=a;return Jd(Object.assign({},{scaleName:f,fieldOrDatumDef:d,
bandPosition:g,offset:h},p?{startSuffix:"offsetted_rect_start",endSuffix:"offsetted_rect_end"}:{}))}function Bf(a,d){const {fill:f,stroke:g}="include"===d.color?Qc(a):{};var h=Object,p=h.assign;d=gh(a.markDef,d);var C=Of(a,"fill",f),P=Of(a,"stroke",g),aa=Wc("opacity",a),sa=Wc("fillOpacity",a),ab=Wc("strokeOpacity",a),rb=Wc("strokeWidth",a),ac=Wc("strokeDash",a),Dc=vd(a),gc=Tb(a),Cc=ta(a,"href");{const {markDef:Fd,config:ie}=a,Td=Xb("aria",Fd,ie);if(!1===Td)a={};else{var Tc=Object,Vc=Tc.assign;{const {mark:wf,
markDef:cf,config:Le}=a;if(!1===Le.aria)var Od={};else Od=Xb("ariaRoleDescription",cf,Le),Od=null!=Od?{ariaRoleDescription:{value:Od}}:wf in nf?{}:{ariaRoleDescription:{value:wf}}}a=Vc.call(Tc,{},Td?{aria:Td}:{},Od,bc(a))}}return p.call(h,{},d,C,P,aa,sa,ab,rb,ac,Dc,gc,Cc,a)}function Of(a,d,f){const {config:g,mark:h,markDef:p}=a;return"hide"===Xb("invalid",p,g)&&f&&!cb(h)&&(a=Gf(a,{invalid:!0,channels:Hj}))?{[d]:[{test:a,value:null},...l.array(f)]}:f?{[d]:f}:{}}function gh(a,d){return se.reduce((f,
g)=>{Mk.has(g)||void 0===a[g]||"ignore"===d[g]||(f[g]=Va(a[g]));return f},{})}function Gf(a,d){let {invalid:f=!1,channels:g}=d;d=g.reduce((h,p)=>{var C=a.getScaleComponent(p);C&&(C=C.get("type"),(p=a.vgField(p,{expr:"datum"}))&&Nd(C)&&(h[p]=!0));return h},{});d=hd(d);if(0<d.length){const h=f?"||":"\x26\x26";return d.map(p=>Dd(p,f)).join(` ${h} `)}}function xf(a){const {config:d,markDef:f}=a;return Xb("invalid",f,d)&&(a=Gg(a,{channels:wh}))?{defined:{signal:a}}:{}}function Gg(a,d){let {invalid:f=!1,
channels:g}=d;d=g.reduce((h,p)=>{var C=a.getScaleComponent(p);if(C){C=C.get("type");let P;(p=a.vgField(p,{expr:"datum",binSuffix:(null==(P=a.stack)?0:P.impute)?"mid":void 0}))&&Nd(C)&&(h[p]=!0)}return h},{});d=hd(d);if(0<d.length){const h=f?"||":"\x26\x26";return d.map(p=>Dd(p,f)).join(` ${h} `)}}function Bh(a,d){if(void 0!==d)return{[a]:Va(d)}}function jg(a,d,f,g,h){var p=d.name,C=p+"_translate_anchor";p+="_translate_delta";var P=f.channel;const aa=Hi.defined(d);d=h.filter(Dc=>Dc.name===f.signals[aa?
"data":"visual"])[0];g=a.getSizeSignalRef(g).signal;h=(a=a.getScaleComponent(P))&&a.get("type");var sa=a&&a.get("reverse");C=`${C}.extent_${P}`;P=`${aa?"x"===P?sa?"":"-":sa?"-":"":""}${p}.${P} / ${aa?`${g}`:`span(${C})`}`;sa=aa&&a?"log"===h?"panLog":"symlog"===h?"panSymlog":"pow"===h?"panPow":"panLinear":"panLinear";var ab;let rb;const ac=aa?"pow"===h?`, ${null!=(ab=a.get("exponent"))?ab:1}`:"symlog"===h?`, ${null!=(rb=a.get("constant"))?rb:1}`:"":"";ab=`${sa}(${C}, ${P}${ac})`;d.on.push({events:{signal:p},
update:aa?ab:`clampRange(${ab}, 0, ${g})`})}function bi(a,d,f,g,h){var p=d.name,C=f.channel;const P=Hi.defined(d);d=h.filter(Dc=>Dc.name===f.signals[P?"data":"visual"])[0];g=a.getSizeSignalRef(g).signal;const aa=(h=a.getScaleComponent(C))&&h.get("type"),sa=P?cc(a,C):d.name;a=p+"_zoom_delta";p=`${p}${"_zoom_anchor"}.${C}`;C=P&&h?"log"===aa?"zoomLog":"symlog"===aa?"zoomSymlog":"pow"===aa?"zoomPow":"zoomLinear":"zoomLinear";var ab;let rb;const ac=P?"pow"===aa?`, ${null!=(ab=h.get("exponent"))?ab:1}`:
"symlog"===aa?`, ${null!=(rb=h.get("constant"))?rb:1}`:"":"";ab=`${C}(${sa}, ${p}, ${a}${ac})`;d.on.push({events:{signal:a},update:P?ab:`clampRange(${ab}, 0, ${g})`})}function Hf(a){var {escape:d}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};d=d?l.stringValue(a.name):a.name;var f;for(f=a.parent;f&&!Qh(f);)f=f.parent;if(f){const {facet:g}=f;for(const h of Rh)g[h]&&(d+=` + '__facet_${h}_' + (facet[${l.stringValue(f.vgField(h))}])`)}return d}function Wf(a){let d;return wg(null!=
(d=a.component.selection)?d:{}).reduce((f,g)=>f||g.project.hasSelectionId,!1)}function sg(a,d){!l.isString(d.select)&&d.select.on||delete a.events;!l.isString(d.select)&&d.select.clear||delete a.clear;!l.isString(d.select)&&d.select.toggle||delete a.toggle}function di(a){const d=[];if("Identifier"===a.type)return[a.name];if("Literal"===a.type)return[a.value];"MemberExpression"===a.type&&(d.push(...di(a.object)),d.push(...di(a.property)));return d}function Ph(a){return"MemberExpression"===a.object.type?
Ph(a.object):"datum"===a.object.name}function Wj(a){a=l.parseExpression(a);const d=new Set;a.visit(f=>{"MemberExpression"===f.type&&Ph(f)&&d.add(di(f).slice(1).join("."))});return d}function Xj(a,d,f){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",h=l.isString(d)?d:d.param,p=ua(h),C=l.stringValue(p+"_store");try{var P=a.getSelectionComponent(p,h)}catch(aa){return`!!${p}`}P.project.timeUnit&&(h=null!=f?f:a.component.data.raw,p=P.project.timeUnit.clone(),h.parent?p.insertAsParentOf(h):
h.parent=p);h=P.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";P="global"===P.resolve?")":`, ${l.stringValue(P.resolve)})`;g=`${h}${C}, ${g}${P}`;C=`length(data(${C}))`;return!1===d.empty?`${C} && ${g}`:`!${C} || ${g}`}function hh(a,d,f){const g=ua(d),h=f.encoding;let p=f.field,C;try{C=a.getSelectionComponent(g,d)}catch(P){return g}h||p?h&&!p&&(a=C.project.items.filter(P=>P.channel===h),!a.length||1<a.length?(p=C.project.items[0].field,K((a.length?"Multiple ":"No ")+`matching ${l.stringValue(h)} encoding found for selection ${l.stringValue(f.param)}. `+
`Using "field": ${l.stringValue(p)}.`)):p=a[0].field):(p=C.project.items[0].field,1<C.project.items.length&&K('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${l.stringValue(p)}.`));return`${C.name}[${l.stringValue(fb(p))}]`}function dg(a,d,f){return ha(d,g=>l.isString(g)?g:(null==g?0:g.param)?Xj(a,g,f):xe(g))}function $i(a,d){if(a)return l.isArray(a)&&!Zb(a)?a.map(f=>Jj(f,d)).join(", "):a}function Ci(a,d,f,g){null!=a.encode||(a.encode={});let h;
null!=(h=a.encode)[d]||(h[d]={});let p;null!=(p=a.encode[d]).update||(p.update={});a.encode[d].update[f]=g}function Ng(a,d,f){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},h=a.combine(),p=Object.assign({},h),C=h.disable;const P=h.orient,aa=h.scale;var sa=h.labelExpr;const ab=h.title;h=h.zindex;p=(delete p.disable,delete p.orient,delete p.scale,delete p.labelExpr,delete p.title,delete p.zindex,p);if(!C){for(const ac in p){var rb=ao[ac];C=p[ac];if(rb&&rb!==d&&"both"!==rb)delete p[ac];
else if(kg(C)){rb=C;C=Object.assign({},rb);rb=rb.condition;C=(delete C.condition,C);rb=l.array(rb);const Dc=Fm[ac];if(Dc){const {vgProp:gc,part:Cc}=Dc;C=[...rb.map(Tc=>{var Vc=Object.assign({},Tc);Tc=Tc.test;Vc=(delete Vc.test,Vc);return Object.assign({},{test:dg(null,Tc)},Vc)}),C];Ci(p,Cc,gc,C);delete p[ac]}else null===Dc&&(C={signal:rb.map(gc=>{var Cc=Object.assign({},gc);gc=gc.test;Cc=(delete Cc.test,Cc);return`${dg(null,gc)} ? ${Bb(Cc)} : `}).join("")+Bb(C)},p[ac]=C)}else if(Pb(C)&&(rb=Fm[ac])){const {vgProp:Dc,
part:gc}=rb;Ci(p,gc,Dc,C);delete p[ac]}wb(["labelAlign","labelBaseline"],ac)&&null===p[ac]&&delete p[ac]}if("grid"===d){if(p.grid)return p.encode&&({grid:sa}=p.encode,p.encode=Object.assign({},sa?{grid:sa}:{}),lb(p.encode)&&delete p.encode),Object.assign({},{scale:aa,orient:P},p,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:U(h,0)})}else if(g.header||!a.mainExtracted){if(void 0!==sa){g=sa;let ac,Dc;(null==(ac=p.encode)?0:null==(Dc=ac.labels)?0:Dc.update)&&Pb(p.encode.labels.update.text)&&
(g=vb(sa,"datum.label",p.encode.labels.update.text.signal));Ci(p,"labels","text",{signal:g})}null===p.labelAlign&&delete p.labelAlign;if(p.encode){for(const ac of Gm)a.hasAxisPart(ac)||delete p.encode[ac];lb(p.encode)&&delete p.encode}sa=$i(ab,f);return Object.assign({},{scale:aa,orient:P,grid:!1},sa?{title:sa}:{},p,!1===f.aria?{aria:!1}:{},{zindex:U(h,0)})}}}function Yj(a){const {axes:d}=a.component,f=[];for(const g of wh)if(d[g])for(const h of d[g])if(!h.get("disable")&&!h.get("gridScale")){const p=
"x"===g?"height":"width",C=a.getSizeSignalRef(p).signal;p!==C&&f.push({name:p,update:C})}return f}function yk(a,d){const {x:f=[],y:g=[]}=a;return[...f.map(h=>Ng(h,"grid",d)),...g.map(h=>Ng(h,"grid",d)),...f.map(h=>Ng(h,"main",d)),...g.map(h=>Ng(h,"main",d))].filter(h=>h)}function aj(a,d,f,g){return Object.assign.apply(null,[{},...a.map(h=>{if("axisOrient"===h){h="x"===f?"bottom":"left";const p=d["x"===f?"axisBottom":"axisLeft"]||{},C=d["x"===f?"axisTop":"axisRight"]||{},P=new Set([...hd(p),...hd(C)]),
aa={};for(const sa of P.values())aa[sa]={signal:`${g.signal} === "${h}" ? ${Ib(p[sa])} : ${Ib(C[sa])}`};return aa}return d[h]})])}function ol(a,d,f,g){var h="band"===d?["axisDiscrete","axisBand"]:"point"===d?["axisDiscrete","axisPoint"]:km.has(d)?["axisQuantitative"]:"time"===d||"utc"===d?["axisTemporal"]:[];const p="x"===a?"axisX":"axisY";d=Pb(f)?"axisOrient":`axis${Sa(f)}`;h=[...h,...h.map(C=>p+C.substr(4))];d=["axis",d,p];return{vlOnlyAxisConfig:aj(h,g,a,f),vgAxisConfig:aj(d,g,a,f),axisConfigStyle:Di([...d,
...h],g)}}function Di(a,d){const f=[{}];for(const g of a){let h;if(a=null==(h=d[g])?void 0:h.style){a=l.array(a);for(const p of a)f.push(d.style[p])}}return Object.assign.apply(null,f)}function vj(a,d,f){let g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const h=ad(a,f,d);if(void 0!==h)return{configFrom:"style",configValue:h};for(const p of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){let C;if(void 0!==(null==(C=g[p])?void 0:C[a]))return{configFrom:p,configValue:g[p][a]}}return{}}
function dh(a,d,f,g,h){const p=null==d?void 0:d.labelAngle;if(void 0!==p)return Pb(p)?p:Fa(p);({configValue:d}=vj("labelAngle",g,null==d?void 0:d.style,h));if(void 0!==d)return Fa(d);if("x"===f&&wb(["nominal","ordinal"],a.type)&&(!Oa(a)||!a.timeUnit))return 270}function Rj(a){return`(((${a.signal} % 360) + 360) % 360)`}function Jg(a,d,f,g){if(void 0!==a)return"x"===f?Pb(a)?(g=Rj(a),d=Pb(d)?`(${d.signal} === "top")`:"top"===d,{signal:`(45 < ${g} && ${g} < 135) || (225 < ${g} && ${g} < 315) ? "middle" :`+
`(${g} <= 45 || 315 <= ${g}) === ${d} ? "bottom" : "top"`}):45<a&&135>a||225<a&&315>a?"middle":Pb(d)?{signal:`${d.signal} ${45>=a||315<=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:(45>=a||315<=a)===("top"===d)?"bottom":"top":Pb(a)?(a=Rj(a),d=Pb(d)?`(${d.signal} === "left")`:"left"===d,{signal:`${a} <= 45 || 315 <= ${a} || (135 <= ${a} && ${a} <= 225) ? ${g?'"middle"':"null"} : (45 <= ${a} && ${a} <= 135) === ${d} ? "top" : "bottom"`}):45>=a||315<=a||135<=a&&225>=a?g?"middle":null:Pb(d)?
{signal:`${d.signal} ${45<=a&&135>=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:(45<=a&&135>=a)===("left"===d)?"top":"bottom"}function Ak(a,d,f){if(void 0!==a){var g=(f="x"===f)?0:90,h=f?"bottom":"left";return Pb(a)?(a=Rj(a),d=Pb(d)?`(${d.signal} === "${h}")`:d===h,{signal:`(${g?`(${a} + 90)`:a} % 180 === 0) ? ${f?null:'"center"'} :`+`(${g} < ${a} && ${a} < ${180+g}) === ${d} ? "left" : "right"`}):0===(a+g)%180?f?null:"center":Pb(d)?{signal:`${`${d.signal} ${g<a&&a<180+g?"\x3d\x3d\x3d":
"!\x3d\x3d"} "${h}"`} ? "left" : "right"`}:(g<a&&a<180+g)===(d===h)?"left":"right"}}function Ck(a,d){var f="x"===d?"x2":"y2";d=a.fieldDef(d);a=a.fieldDef(f);f=d?d.title:void 0;a=a?a.title:void 0;if(f&&a)return Ma(f,a);if(f)return f;if(a)return a;if(void 0!==f)return f;if(void 0!==a)return a}function cj(a,d,f){return lc(a,Object.assign({},{prefix:d,suffix:"sort_index"},null!=f?f:{}))}function Ch(a,d){return wb(["top","bottom"],d)?"column":wb(["left","right"],d)?"row":"row"===a?"row":"column"}function Uh(a,
d,f,g){return U((d||{})[a],("row"===g?f.headerRow:"column"===g?f.headerColumn:f.headerFacet)[a],f.header[a])}function dj(a,d,f,g){const h={};for(const p of a)a=Uh(p,d||{},f,g),void 0!==a&&(h[p]=a);return h}function Ei(a,d){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const f=Ak(d,"row"===a?"left":"top","row"===a?"y":"x");return f?{align:f}:{}}function Dk(a,d){return(a=Jg(a,"row"===d?"left":"top","row"===
d?"y":"x",!0))?{baseline:a}:{}}function uj(a,d,f){const {format:g,formatType:h,labelAngle:p,labelAnchor:C,labelOrient:P,labelExpr:aa}=dj("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),a.header,f,d),sa=Ne({fieldOrDatumDef:a,format:g,formatType:h,expr:"parent",config:f}).signal,ab=Ch(d,P);return Object.assign({},{text:{signal:aa?vb(vb(aa,"datum.label",sa),"datum.value",lc(a,{expr:"parent"})):sa}},"row"===d?{orient:"left"}:{},{style:"guide-label",frame:"group"},Dk(p,ab),
Ei(ab,p,C),Ek(f,a,d,$k,qk))}function Ek(a,d,f,g,h){const p={};for(const C of g){if(!h[C])continue;let P;g=Uh(C,null==(P=d)?void 0:P.header,a,f);void 0!==g&&(p[h[C]]=g)}return p}function ak(a){return[...yi(a,"width"),...yi(a,"height"),...yi(a,"childWidth"),...yi(a,"childHeight")]}function yi(a,d){var f="width"===d?"x":"y",g=a.component.layoutSize.get(d);if(!g||"merged"===g)return[];d=a.getSizeSignalRef(d).signal;if("step"===g){if(g=a.getScaleComponent(f)){var h=g.get("type");const p=g.get("range");
if(Fe(h)&&Nb(p))return h=a.scaleName(f),Qh(a.parent)&&"independent"===a.parent.component.resolve.scale[f]?[bj(h,p)]:[bj(h,p),{name:d,update:Bk(h,g,`domain('${h}').length`)}]}throw Error("layout size is step although width/height is not step.");}return"container"==g?(f=(g=d.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",a=vf(a.config.view,g?"width":"height"),a=`isFinite(${f}) ? ${f} : ${a}`,[{name:d,init:a,on:[{update:a,events:"window:resize"}]}]):[{name:d,value:g}]}function bj(a,d){a=
`${a}_step`;return Pb(d.step)?{name:a,update:d.step.signal}:{name:a,value:d.step}}function Bk(a,d,f){const g=d.get("type"),h=d.get("padding"),p=U(d.get("paddingOuter"),h);d=d.get("paddingInner");return`bandspace(${f}, ${Ib("band"===g?void 0!==d?d:h:1)}, ${Ib(p)}) * ${a}_step`}function Fk(a){return"childWidth"===a?"width":"childHeight"===a?"height":a}function Gk(a,d){return hd(a).reduce((f,g)=>Object.assign({},f,fa(d,a[g],g,h=>Va(h.value))),{})}function Fi(a,d){if(Qh(d))return"theta"===a?"independent":
"shared";if(fi(d))return"shared";if(kl(d))return I(a)||"theta"===a||"radius"===a?"independent":"shared";throw Error("invalid model type for resolve");}function q(a,d){const f=a.scale[d],g=I(d)?"axis":"legend";return"independent"===f?("shared"===a[g][d]&&K(`Setting the scale to be independent for "${d}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):a[g][d]||"shared"}function H(a){return la(a,(d,f)=>Math.max(d,f.value))}function O(a){return la(a,(d,f)=>U(d,
f.value))}function la(a,d){const f=null==a?void 0:a.condition;if(f&&(l.isArray(f)||Oc(f)))return l.array(a.condition).reduce(d,a.value);if(Oc(a))return a.value}function $a(a,d,f){a=d.get("selections");if(null!=a&&a.length){var g=l.stringValue(f.field);return a.map(h=>`(!length(data(${l.stringValue(ua(h)+"_store")})) || (${h}[${g}] && indexof(${h}[${g}], datum.value) >= 0))`).join(" || ")}}function hb(a,d,f,g){return{signal:`clamp(${a.getSizeSignalRef(d).signal}, ${f}, ${g})`}}function tb(a){if(Qf(a)){var {encoding:d}=
a,f={};for(Tc of["color",...en]){var g=te(d[Tc]);if(g&&a.getScaleComponent(Tc)&&("shape"!==Tc||!Oa(g)||"geojson"!==g.type)){a:{var h=void 0,p=void 0,C=void 0,P=void 0,aa=void 0,sa,ab=sa=void 0,rb=void 0;g=a;var ac=Tc;let Vc=g.legend(ac);const {markDef:Od,encoding:Fd,config:ie}=g;var Dc=ie.legend;b:{var gc=g;var Cc=ac;P=gc.scaleName(Cc);if("trail"===gc.mark){if("color"===Cc){gc={stroke:P};break b}if("size"===Cc){gc={strokeWidth:P};break b}}gc="color"===Cc?gc.markDef.filled?{fill:P}:{stroke:P}:{[Cc]:P}}gc=
new $n({},gc);Cc=null==(rb=g.fieldDef(ac))?void 0:rb.field;for(const Ge of wg(null!=(ab=g.component.selection)?ab:{})){let Pf;if((ab=null!=(Pf=Ge.project.hasField[Cc])?Pf:Ge.project.hasChannel[ac])&&Ul.defined(Ge)){let fe;rb=null!=(fe=gc.get("selections"))?fe:[];rb.push(Ge.name);gc.set("selections",rb,!1);ab.hasLegend=!0}}ab=void 0!==Vc?!Vc:Dc.disable;gc.set("disable",ab,void 0!==Vc);if(ab){g=gc;break a}Vc=Vc||{};rb=g.getScaleComponent(ac).get("type");ab=te(Fd[ac]);P=Oa(ab)?null==(sa=md(ab.timeUnit))?
void 0:sa.unit:void 0;Cc=Vc.orient||ie.legend.orient||"right";sa={legend:Vc,channel:ac,timeUnit:P,scaleType:rb};({legend:P}=sa);P=P.type;b:{let {channel:Ge,timeUnit:Pf,scaleType:fe}=sa;if(N(Ge)){if(wb(["quarter","month","day"],Pf)){sa="symbol";break b}if(cg.has(fe)){sa="gradient";break b}}sa="symbol"}sa=U(P,sa);let {legendConfig:Td,legendType:wf,orient:cf,legend:Le}={legend:Vc,legendType:sa,orient:Cc,legendConfig:Dc};if(null!=(P=null!=(aa=Le.direction)?aa:Td[wf?"gradientDirection":"symbolDirection"]))aa=
P;else b:{switch(cf){case "top":case "bottom":aa="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:aa="gradient"===wf?"horizontal":void 0;break b}aa=void 0}Dc={legend:Vc,channel:ac,model:g,markDef:Od,encoding:Fd,fieldOrDatumDef:ab,legendConfig:Dc,config:ie,scaleType:rb,orient:Cc,legendType:sa,direction:aa};for(const Ge of jh)if(!("gradient"===sa&&Ge.startsWith("symbol")||"symbol"===sa&&Ge.startsWith("gradient"))&&(aa=Ge in bl?bl[Ge](Dc):Vc[Ge],void 0!==aa)){b:{rb=
P=void 0;Cc=g.fieldDef(ac);switch(Ge){case "disable":Cc=void 0!==Vc;break b;case "values":Cc=!(null==(rb=Vc)||!rb.values);break b;case "title":if("title"===Ge&&aa===(null==(P=Cc)?void 0:P.title)){Cc=!0;break b}}Cc=aa===(Vc||{})[Ge]}((rb=Cc)||void 0===ie.legend[Ge])&&gc.set(Ge,aa,rb)}Dc=null!=(p=null==(C=Vc)?void 0:C.encoding)?p:{};p=gc.get("selections");C={};ac={fieldOrDatumDef:ab,model:g,channel:ac,legendCmpt:gc,legendType:sa};for(const Ge of"labels legend title symbols gradient entries".split(" ")){let Pf;
aa=Gk(null!=(Pf=Dc[Ge])?Pf:{},g);aa=Ge in lj?lj[Ge](aa,ac):aa;if(void 0!==aa&&!lb(aa)){let fe,Oe;C[Ge]=Object.assign({},(null==(fe=p)?0:fe.length)&&Oa(ab)?{name:`${ua(ab.field)}_legend_${Ge}`}:{},(null==(Oe=p)?0:Oe.length)?{interactive:!!p}:{},{update:aa})}}lb(C)||gc.set("encode",C,!(null==(h=Vc)||!h.encoding));g=gc}f[Tc]=g}}var Tc=f}else{const {legends:Vc,resolve:Od}=a.component;for(d of a.children){tb(d);for(f of hd(d.component.legends))Od.legend[f]=q(a.component.resolve,f),"shared"===Od.legend[f]&&
(Vc[f]=Mb(Vc[f],d.component.legends[f]),Vc[f]||(Od.legend[f]="independent",delete Vc[f]))}for(g of hd(Vc))for(h of a.children)h.component.legends[g]&&"shared"===Od.legend[g]&&delete h.component.legends[g];Tc=Vc}return a.component.legends=Tc}function Mb(a,d){if(!a)return d.clone();var f=a.getWithExplicit("orient");const g=d.getWithExplicit("orient");if(!f.explicit||!g.explicit||f.value===g.value){var h=!1;for(const p of jh)f=Ff(a.getWithExplicit(p),d.getWithExplicit(p),p,"legend",(C,P)=>{switch(p){case "symbolType":return C=
"circle"===P.value?P:C,C;case "title":return ib(C,P);case "type":return h=!0,Se("symbol")}return Cg(C,P,p,"legend")}),a.setWithExplicit(p,f);if(h){let p,C;(null==(p=a.implicit)?0:null==(C=p.encode)?0:C.gradient)&&xa(a.implicit,["encode","gradient"]);let P,aa;(null==(P=a.explicit)?0:null==(aa=P.encode)?0:aa.gradient)&&xa(a.explicit,["encode","gradient"])}return a}}function pc(a){const d=a.component.legends,f={};for(const h of hd(d)){var g=a.getScaleComponent(h);g=n(g.get("domains"));if(f[g])for(const p of f[g])Mb(p,
d[h])||f[g].push(d[h]);else f[g]=[d[h].clone()]}return wg(f).flat().map(h=>{{var p=a.config,C=h.combine();h=Object.assign({},C);const ac=C.disable;C=C.labelExpr;h=(delete h.disable,delete h.labelExpr,delete h.selections,h);if(ac)var P=void 0;else{!1===p.aria&&void 0==h.aria&&(h.aria=!1);var aa;if(null==(aa=h.encode)?0:aa.symbols){p=h.encode.symbols.update;!p.fill||"transparent"===p.fill.value||p.stroke||h.stroke||(p.stroke={value:"transparent"});for(var sa of en)h[sa]&&delete p[sa]}h.title||delete h.title;
if(void 0!==C){sa=C;var ab,rb;(null==(ab=h.encode)?0:null==(rb=ab.labels)?0:rb.update)&&Pb(h.encode.labels.update.text)&&(sa=vb(C,"datum.label",h.encode.labels.update.text.signal));ab=h;rb={signal:sa};null!=ab.encode||(ab.encode={});null!=(P=ab.encode).labels||(P.labels={});let Dc;null!=(Dc=ab.encode.labels).update||(Dc.update={});ab.encode.labels.update.text=rb}P=h}}return P}).filter(h=>void 0!==h)}function Xc(a){return a.children.reduce((d,f)=>d.concat(f.assembleProjections()),Rc(a))}function Rc(a){var d=
a.component.projection;if(!d||d.merged)return[];const f=d.combine(),{name:g}=f;if(d.data){const h={signal:`[${d.size.map(p=>p.signal).join(", ")}]`};d=d.data.reduce((p,C)=>{C=Pb(C)?C.signal:`data('${a.lookupDataSource(C)}')`;p.includes(C)||p.push(C);return p},[]);if(0>=d.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:g,size:h,fit:{signal:1<d.length?`[${d.join(", ")}]`:d[0]}},f)]}return[Object.assign({},{name:g},{translate:{signal:"[width / 2, height / 2]"}},
f)]}function xc(a){var d=a.component;if(Qf(a))if(a.hasProjection){var f=Ub(a.specifiedProjection);var g=!(f&&(null!=f.scale||null!=f.translate));const p=g?[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]:void 0;if(g){g=[];const {encoding:P}=a;for(h of[["longitude","latitude"],["longitude2","latitude2"]])(te(P[h[0]])||te(P[h[1]]))&&g.push({signal:a.getName(`geojson_${g.length}`)});a.channelHasField("shape")&&"geojson"===a.typedFieldDef("shape").type&&g.push({signal:a.getName(`geojson_${g.length}`)});
0===g.length&&g.push(a.requestDataName(hg.Main));var h=g}else h=void 0;let C;a=new al(a.projectionName(!0),Object.assign({},null!=(C=Ub(a.config.projection))?C:{},null!=f?f:{}),p,h);a.get("type")||a.set("type","equalEarth",!1);f=a}else f=void 0;else f=Rd(a);d.projection=f}function rd(a,d){const f=Yb(tk,g=>!l.hasOwnProperty(a.explicit,g)&&!l.hasOwnProperty(d.explicit,g)||l.hasOwnProperty(a.explicit,g)&&l.hasOwnProperty(d.explicit,g)&&na(a.get(g),d.get(g))?!0:!1);if(na(a.size,d.size)){if(f)return a;
if(na(a.explicit,{}))return d;if(na(d.explicit,{}))return a}return null}function Rd(a){if(0!==a.children.length){var d;for(var f of a.children)xc(f);f=Yb(a.children,g=>{if(g=g.component.projection){if(d)return(g=rd(d,g))&&(d=g),!!g;d=g}return!0});if(d&&f){f=a.projectionName(!0);const g=new al(f,d.specifiedProjection,d.size,we(d.data));for(const h of a.children)if(a=h.component.projection)a.isFit&&g.data.push(...h.component.projection.data),h.renameProjection(a.get("name"),f),a.merged=!0;return g}}}
function ue(a,d,f){let g;f=null!=(g=le(f,void 0))?g:{};d=`${db(f)}_${d}`;return a.getName(`${d}_bins`)}function Gd(a,d,f){let g;g="as"in a?l.isString(a.as)?[a.as,`${a.as}_end`]:[a.as[0],a.as[1]]:[lc(a,{forAs:!0}),lc(a,{binSuffix:"end",forAs:!0})];d=Object.assign({},le(d,void 0));var h=a.field;h=`${db(d)}_${h}`;var p={signal:f.getName(`${h}_bins`),extentSignal:f.getName(`${h}_extent`)};const {signal:C,extentSignal:P}=p;if(Vb(d.extent)){var aa=d.extent;aa=hh(f,aa.param,aa);delete d.extent}a=Object.assign({},
{bin:d,field:a.field,as:[g]},C?{signal:C}:{},P?{extentSignal:P}:{},aa?{span:aa}:{});return{key:h,binComponent:a}}function We(a){return a.startsWith("'")&&a.endsWith("'")||a.startsWith('"')&&a.endsWith('"')?a.slice(1,-1):a}function qf(a,d){a=Xa(a);if("number"===d)return`toNumber(${a})`;if("boolean"===d)return`toBoolean(${a})`;if("string"===d)return`toString(${a})`;if("date"===d)return`toDate(${a})`;if("flatten"===d)return a;if(d.startsWith("date:"))return d=We(d.slice(5,d.length)),`timeParse(${a},'${d}')`;
if(d.startsWith("utc:"))return d=We(d.slice(4,d.length)),`utcParse(${a},'${d}')`;K(`Unrecognized parse "${d}".`);return null}function eg(a){const d={};ja(a.filter,f=>{if(Ie(f)){let g=null;if(Ad(f))g=ra(f.equal);else if(Me(f))g=ra(f.lte);else if(je(f))g=ra(f.lt);else if(Qe(f))g=ra(f.gt);else if(Re(f))g=ra(f.gte);else if(He(f))g=f.range[0];else if(De(f)){let h;g=(null!=(h=f.oneOf)?h:f["in"])[0]}g&&(v(g)?d[f.field]="date":l.isNumber(g)?d[f.field]="number":l.isString(g)&&(d[f.field]="string"));f.timeUnit&&
(d[f.field]="date")}});return d}function vg(a){function d(g){if(uf(g))f[g.field]="date";else{var h;if(h="quantitative"===g.type)h=g.aggregate,h=l.isString(h)&&wb(["min","max"],h);h?f[g.field]="number":1<Na(g.field)?g.field in f||(f[g.field]="flatten"):Ed(g)&&me(g.sort)&&1<Na(g.sort.field)&&(g.sort.field in f||(f[g.sort.field]="flatten"))}}const f={};(Qf(a)||Qh(a))&&a.forEachFieldDef((g,h)=>{Jc(g)?d(g):(h=T(h),h=a.fieldDef(h),d(Object.assign({},g,{type:h.type})))});if(Qf(a)){const {mark:g,markDef:h,
encoding:p}=a;if(cb(g)&&!a.encoding.order){const C=p["horizontal"===h.orient?"y":"x"];!Oa(C)||"quantitative"!==C.type||C.field in f||(f[C.field]="number")}}return f}function Pg(a){return a instanceof Ej||a instanceof Ik||a instanceof Gl}function gg(a){return a.stack.stackBy.reduce((d,f)=>{(f=lc(f.fieldDef))&&d.push(f);return d},[])}function ve(a){return l.isArray(a)&&a.every(d=>l.isString(d))&&1<a.length}function fg(a){function d(f){if(!(f instanceof mj)){const g=f.clone();if(g instanceof ih){const h=
"scale_"+g.getSource();g.setSource(h);a.model.component.data.outputNodes[h]=g}else(g instanceof Gh||g instanceof Yg||g instanceof lh||g instanceof Ig)&&g.addDimensions(a.fields);for(const h of f.children.flatMap(d))h.parent=g;return[g]}return f.children.flatMap(d)}return d}function ej(a){if(a instanceof mj)if(1!==a.numChildren()||a.children[0]instanceof ih){var d=a.model.component.data.main;Hd(d);const f=fg(a);a=a.children.map(f).flat();for(const g of a)g.parent=d}else d=a.children[0],(d instanceof
Gh||d instanceof Yg||d instanceof lh||d instanceof Ig)&&d.addDimensions(a.fields),d.swapWithParent(),ej(a);else a.children.map(ej)}function Hd(a){if(a instanceof ih&&a.type===hg.Main&&1===a.numChildren()){const d=a.children[0];d instanceof mj||(d.swapWithParent(),Hd(a))}}function od(a){for(const d of a){for(const f of d.children)if(f.parent!==d)return!1;if(!od(d.children))return!1}return!0}function Cd(a,d){let f=!1;for(const g of d)f=a.optimize(g)||f;return f}function sd(a,d,f){let g=a.sources,h=
!1;h=Cd(new Yl,g)||h;h=Cd(new Hh(d),g)||h;g=g.filter(p=>0<p.numChildren());h=Cd(new Mj,g)||h;g=g.filter(p=>0<p.numChildren());f||(h=Cd(new Uj,g)||h,h=Cd(new uk(d),g)||h,h=Cd(new Lj,g)||h,h=Cd(new Im,g)||h,h=Cd(new dl,g)||h,h=Cd(new Nj,g)||h,h=Cd(new il,g)||h,h=Cd(new Ih,g)||h);a.sources=g;return h}function of(a){const d=a.component.scales;for(const sa of hd(d)){var f=a,g=sa,h=f.getScaleComponent(g).get("type"),{encoding:p}=f;var C=f.scaleDomain(g);var P=f.typedFieldDef(g),aa=f.config.scale;if("unaggregated"===
C){const {valid:ab,reason:rb}=sk(P,h);ab||(K(rb),C=void 0)}else void 0===C&&aa.useUnaggregatedDomain&&({valid:P}=sk(P,h),P&&(C="unaggregated"));C!==f.scaleDomain(g)&&(f.specifiedScales[g]=Object.assign({},f.specifiedScales[g],{domain:C}));f="x"===g&&te(p.x2)?te(p.x)?Ff(tg(h,C,f,"x"),tg(h,C,f,"x2"),"domain","scale",om):tg(h,C,f,"x2"):"y"===g&&te(p.y2)?te(p.y)?Ff(tg(h,C,f,"y"),tg(h,C,f,"y2"),"domain","scale",om):tg(h,C,f,"y2"):tg(h,C,f,g);d[sa].setWithExplicit("domains",f);C=g=void 0;h=a.component.scales[sa];
P=a.specifiedScales[sa].domain;p=null==(C=a.fieldDef(sa))?void 0:C.bin;C=(null==P?void 0:P.param)&&P;p=l.isObject(p)&&Vb(p.extent)&&p.extent;(C||p)&&h.set("selectionExtent",null!=(g=C)?g:p,!0);if(a.component.data.isFaceted){for(g=a;!Qh(g)&&g.parent;)g=g.parent;if("shared"===g.component.resolve.scale[sa])for(const ab of f.value)tc(ab)&&(ab.data="scale_"+ab.data.replace("scale_",""))}}}function ae(a){for(var d of a.children){var f=d;Qf(f)?of(f):ae(f)}f=a.component.scales;for(const h of hd(f)){let p;
d=null;for(const C of a.children){var g=C.component.scales[h];g&&(p=void 0===p?g.getWithExplicit("domains"):Ff(p,g.getWithExplicit("domains"),"domains","scale",om),g=g.get("selectionExtent"),d&&g&&d.param!==g.param&&K("The same selection must be used to override scale domains in a layered view."),d=g)}f[h].setWithExplicit("domains",p);d&&f[h].set("selectionExtent",d,!0)}}function If(a,d,f){return a.map(g=>({signal:`{data: ${zg(g,{timeUnit:f,type:d})}}`}))}function bg(a,d,f){let g;f=null==(g=md(f))?
void 0:g.unit;return"temporal"===d||f?If(a,d,f):[a]}function tg(a,d,f,g){const {encoding:h,markDef:p,mark:C,config:P,stack:aa}=f;var sa=te(h[g]),{type:ab}=sa;const rb=sa.timeUnit;if(null==d?0:d.unionWith)return g=tg(a,void 0,f,g),sa=bg(d.unionWith,ab,rb),Lg([...sa,...g.value]);if(Pb(d))return Lg([d]);if(d&&"unaggregated"!==d&&(null==d||!d.param))return Lg(bg(d,ab,rb));if(aa&&g===aa.fieldChannel){if("normalize"===aa.offset)return Se([[0,1]]);sa=f.requestDataName(hg.Main);return Se([{data:sa,field:f.vgField(g,
{suffix:"start"})},{data:sa,field:f.vgField(g,{suffix:"end"})}])}const ac=Fh[g]&&Oa(sa)?Jk(f,g,a):void 0;if(pb(sa))return g=bg([sa.datum],ab,rb),Se(g);if("unaggregated"===d)return g=f.requestDataName(hg.Main),{field:sa}=sa,Se([{data:g,field:lc({field:sa,aggregate:"min"})},{data:g,field:lc({field:sa,aggregate:"max"})}]);if(zb(sa.bin)){if(Fe(a))return"bin-ordinal"===a?Se([]):Se([{data:mc(ac)?f.requestDataName(hg.Main):f.requestDataName(hg.Raw),field:f.vgField(g,Tf(sa,g)?{binSuffix:"range"}:{}),sort:!0!==
ac&&l.isObject(ac)?ac:{field:f.vgField(g,{}),op:"min"}}]);({bin:d}=sa);if(zb(d)){const Dc=ue(f,sa.field,d);return Se([new Mf(()=>{const gc=f.getSignalName(Dc);return`[${gc}.start, ${gc}.stop]`})])}return Se([{data:f.requestDataName(hg.Main),field:f.vgField(g,{})}])}return sa.timeUnit&&wb(["time","utc"],a)&&(ab=h[A(g)],L(sa,ab,p,P))?(d=f.requestDataName(hg.Main),sa=m({fieldDef:sa,fieldDef2:ab,markDef:p,config:P}),sa=fc(C)&&.5!==sa&&I(g),Se([{data:d,field:f.vgField(g,sa?{suffix:"offsetted_rect_start"}:
{})},{data:d,field:f.vgField(g,{suffix:sa?"offsetted_rect_end":"end"})}])):ac?Se([{data:mc(ac)?f.requestDataName(hg.Main):f.requestDataName(hg.Raw),field:f.vgField(g),sort:ac}]):Se([{data:f.requestDataName(hg.Main),field:f.vgField(g)}])}function Dh(a,d){const {op:f,field:g,order:h}=a;return Object.assign({},{op:null!=f?f:d?"sum":"min"},g?{field:fb(g)}:{},h?{order:h}:{})}function Jk(a,d,f){if(Fe(f)){var g=a.fieldDef(d);f=g.sort;if(re(f))return{op:"min",field:cj(g,d),order:"ascending"};({stack:g}=a);
var h=g?new Set([...g.groupbyFields,...g.stackBy.map(p=>p.fieldDef.field)]):void 0;if(me(f))return a=g&&!h.has(f.field),Dh(f,a);if(null!=f&&f.encoding){const {encoding:p,order:C}=f;a=a.fieldDef(p);const {aggregate:P,field:aa}=a;d=g&&!h.has(aa);if(ia(P)||Ca(P))return Dh({field:lc(a),order:C},d);if(Qa(P)||!P)return Dh({op:P,field:aa,order:C},d)}else{if("descending"===f)return{op:"min",field:a.vgField(d),order:"descending"};if(wb(["ascending",void 0],f))return!0}}}function sk(a,d){const {aggregate:f,
type:g}=a;return f?l.isString(f)&&!pk.has(f)?{valid:!1,reason:`Unaggregated domain not applicable for "${f}" since it produces values outside the origin domain of the source data.`}:"quantitative"===g&&"log"===d?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${n(a)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${n(a)}).`}}function om(a,d,f,g){if(a.explicit&&d.explicit){var h=d.value;f=`Conflicting ${g.toString()} property "${f.toString()}" (${n(a.value)} and ${n(h)}). Using the union of the two domains.`;
K(f)}return{explicit:a.explicit,value:[...a.value,...d.value]}}function gn(a){var d=bb(a.map(h=>tc(h)?(h=Object.assign({},h),delete h.sort,h):h),Db),f=bb(a.map(h=>{if(tc(h))return h=h.sort,void 0===h||mc(h)||("op"in h&&"count"===h.op&&delete h.field,"ascending"===h.order&&delete h.order),h}).filter(h=>void 0!==h),Db);if(0!==d.length){if(1===d.length){d=a[0];if(tc(d)&&0<f.length){var g=f[0];1<f.length?(K("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),g=
f.filter(h=>l.isObject(h)&&"op"in h&&"min"!==h.op),g=f.every(h=>l.isObject(h)&&"op"in h)&&1===g.length?g[0]:!0):l.isObject(g)&&"field"in g&&d.field===g.field&&(g=g.order?{order:g.order}:!0);return Object.assign({},d,{sort:g})}return d}f=bb(f.map(h=>{if(mc(h)||!("op"in h)||l.isString(h.op)&&h.op in Fn)return h;K(`Dropping sort property ${n(h)} as unioned domains only support boolean or op "count", "min", and "max".`);return!0}),Db);1===f.length?g=f[0]:1<f.length&&(K("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),
g=!0);f=bb(a.map(h=>tc(h)?h.data:null),h=>h);return 1===f.length&&null!==f[0]?Object.assign({},{data:f[0],fields:d.map(h=>h.field)},g?{sort:g}:{}):Object.assign({},{fields:d},g?{sort:g}:{})}}function wl(a){if(tc(a)&&l.isString(a.field))return a.field;var d=l.isArray(a)?!1:"fields"in a&&!("data"in a);if(d){let f;for(const g of a.fields)if(tc(g)&&l.isString(g.field))if(!f)f=g.field;else if(f!==g.field)return K("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
f;K("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return f}d=l.isArray(a)?!1:"fields"in a&&"data"in a;if(d)return K("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
a=a.fields[0],l.isString(a)?a:void 0}function wk(a,d){d=a.component.scales[d].get("domains").map(f=>{tc(f)&&(f.data=a.lookupDataSource(f.data));return f});return gn(d)}function Df(a){return fi(a)||kl(a)?a.children.reduce((d,f)=>d.concat(Df(f)),xl(a)):xl(a)}function xl(a){return hd(a.component.scales).reduce((d,f)=>{var g=a.component.scales[f];if(g.merged)return d;var h=g.combine(),p=Object.assign({},h);const C=h.name,P=h.type;var aa=h.selectionExtent;const sa=h.reverse;p=(delete p.name,delete p.type,
delete p.selectionExtent,delete p.domains,delete p.range,delete p.reverse,p);h=h.range;I(f)?Nb(h)&&(h={step:{signal:`${C}_step`}}):l.isObject(h)&&tc(h)&&(h=Object.assign({},h,{data:a.lookupDataSource(h.data)}));f=wk(a,f);aa?(aa=hh(a,aa.param,aa),g={signal:Nd(g.get("type"))&&l.isArray(f)&&f[0]>f[1]?`isValid(${aa}) && reverse(${aa})`:aa}):g=null;d.push(Object.assign({},{name:C,type:P},f?{domain:f}:{},g?{domainRaw:g}:{},{range:h},void 0!==sa?{reverse:sa}:{},p));return d},[])}function Eg(a,d){var f=a.fieldDef(d);
if(null==f?0:f.bin){const {bin:g,field:h}=f;f=Q(d);const p=a.getName(f);if(l.isObject(g)&&g.binned&&void 0!==g.step)return new Mf(()=>{var C=a.scaleName(d);C=`(domain("${C}")[1] - domain("${C}")[0]) / ${g.step}`;return`${a.getSignalName(p)} / (${C})`});if(zb(g)){const C=ue(a,h,g);return new Mf(()=>{var P=a.getSignalName(C);P=`(${P}.stop - ${P}.start) / ${P}.step`;return`${a.getSignalName(p)} / (${P})`})}}}function Gn(a,d){const f=d.specifiedScales[a];var {size:g}=d,h=d.getScaleComponent(a).get("type");
for(var p of Sf)if(void 0!==f[p]){const aa=Kf(h,p),sa=ye(a,p);if(aa)if(sa)K(sa);else switch(p){case "range":h=f.range;if(l.isArray(h)){if(I(a))return Lg(h.map(ab=>{if("width"===ab||"height"===ab){ab=d.getName(ab);const rb=d.getSignalName.bind(d);return Mf.fromName(rb,ab)}return ab}))}else if(l.isObject(h))return Lg({data:d.requestDataName(hg.Main),field:h.field,sort:{op:"min",field:d.vgField(a)}});return Lg(h);case "scheme":return Lg(kn(f[p]))}else K(ld(h,p,a))}p="x"===a||"xOffset"===a?"width":"height";
g=g[p];if(Ae(g))if(I(a))if(Fe(h)){if(g=Kl(g,d,a))return Lg({step:g})}else K(ed(p));else if(a in hj&&"band"===d.getScaleComponent("xOffset"===a?"x":"y").get("type")&&(g=Ll(g,h)))return Lg(g);const {rangeMin:C,rangeMax:P}=f;a=ll(a,d);return(void 0!==C||void 0!==P)&&Kf(h,"rangeMin")&&l.isArray(a)&&2===a.length?Lg([null!=C?C:a[0],null!=P?P:a[1]]):Se(a)}function kn(a){return!l.isString(a)&&a.name?Object.assign({},{scheme:a.name},ec(a,["name"])):{scheme:a}}function ln(a,d,f){let {center:g}=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{};var h=Q(a);h=d.getName(h);const p=d.getSignalName.bind(d);return"y"===a&&Nd(f)?g?[Mf.fromName(C=>`${p(C)}/2`,h),Mf.fromName(C=>`-${p(C)}/2`,h)]:[Mf.fromName(p,h),0]:g?[Mf.fromName(C=>`-${p(C)}/2`,h),Mf.fromName(C=>`${p(C)}/2`,h)]:[0,Mf.fromName(p,h)]}function ll(a,d){const {size:f,config:g,mark:h,encoding:p}=d;var {type:C}=te(p[a]);const P=d.getScaleComponent(a).get("type"),{domain:aa,domainMid:sa}=d.specifiedScales[a];switch(a){case "x":case "y":return wb(["point",
"band"],P)&&(C=$m(a,f,g.view),Ae(C))?{step:Kl(C,d,a)}:ln(a,d,P);case "xOffset":case "yOffset":return am(a,d,P);case "size":C=d.component.scales[a].get("zero");C=jm(h,C,g);const ab=hm(h,f,d,g);return Aj.has(P)?Rm(C,ab,co(P,g,aa,a)):[C,ab];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Mf(()=>{const rb=d.getSignalName("width"),ac=d.getSignalName("height");return`min(${rb},${ac})/2`})];case "strokeWidth":return[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];case "strokeDash":return[[1,
0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===P?"nominal"===C?"category":"ordinal":void 0!==sa?"diverging":"rect"===h||"geoshape"===h?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[g.scale.minOpacity,g.scale.maxOpacity]}}function Kl(a,d,f){var {encoding:g}=d,h=d.getScaleComponent(f);f=E(f);const p=g[f];if("offset"===zf({step:a,offsetIsDiscrete:oc(p)&&$e(p.type)})&&lg(g,f)){g=d.getScaleComponent(f);
d=`domain('${d.scaleName(f)}').length`;if("band"===g.get("type")){var C;let sa;f=null!=(sa=null!=(C=g.get("paddingInner"))?C:g.get("padding"))?sa:0;var P;let ab;C=null!=(ab=null!=(P=g.get("paddingOuter"))?P:g.get("padding"))?ab:0;d=`bandspace(${d}, ${f}, ${C})`}var aa;P=null!=(aa=h.get("paddingInner"))?aa:h.get("padding");a=a.step;h=d;aa=P;aa=Pb(aa)?aa.signal:l.stringValue(aa);return{signal:`${a} * ${h} / (1-${aa})`}}return a.step}function Ll(a,d){if("offset"===zf({step:a,offsetIsDiscrete:Fe(d)}))return{step:a.step}}
function am(a,d,f){var g="xOffset"===a?"x":"y",h=d.getScaleComponent(g);if(!h)return ln(g,d,f,{center:!0});h=h.get("type");const p=d.scaleName(g),{markDef:C,config:P}=d;if("band"===h)return d=$m(g,d.size,d.config.view),Ae(d)&&(d=Ll(d,f))?d:[0,{signal:`bandwidth('${p}')`}];f=d.encoding[g];return Oa(f)&&f.timeUnit?(a=yd(f.timeUnit,aa=>`scale('${p}', ${aa})`),d=d.config.scale.bandWithNestedOffsetPaddingInner,g=m({fieldDef:f,markDef:C,config:P})-.5,h=0!==g?` + ${g}`:"",d?(f=Pb(d)?`${d.signal}/2`+h:`${d/
2+g}`,d=Pb(d)?`(1 - ${d.signal}/2)`+h:`${1-d/2+g}`,[{signal:`${f} * (${a})`},{signal:`${d} * (${a})`}]):[0,{signal:a}]):ub(`Cannot use ${a} scale if ${g} scale is not discrete.`)}function $m(a,d,f){a="x"===a?"width":"height";return(d=d[a])?d:Vf(f,a)}function co(a,d,f,g){switch(a){case "quantile":return d.scale.quantileCount;case "quantize":return d.scale.quantizeCount;case "threshold":if(void 0!==f&&l.isArray(f))return f.length+1;K(`Domain for ${g} is required for threshold scale.`);return 3}}function Rm(a,
d,f){const g=()=>{const h=Ib(d),p=Ib(a),C=`(${h} - ${p}) / (${f} - 1)`;return`sequence(${p}, ${h} + ${C}, ${C})`};return Pb(d)?new Mf(g):{signal:g()}}function jm(a,d,f){if(d)return Pb(d)?{signal:`${d.signal} ? 0 : ${jm(a,!1,f)}`}:0;switch(a){case "bar":case "tick":return f.scale.minBandSize;case "line":case "trail":case "rule":return f.scale.minStrokeWidth;case "text":return f.scale.minFontSize;case "point":case "square":case "circle":return f.scale.minSize}throw Error(Uc("size",a));}function hm(a,
d,f,g){f={x:Eg(f,"x"),y:Eg(f,"y")};switch(a){case "bar":case "tick":if(void 0!==g.scale.maxBandSize)return g.scale.maxBandSize;const h=Mm(d,f,g.view);return l.isNumber(h)?h-1:new Mf(()=>`${h.signal} - 1`);case "line":case "trail":case "rule":return g.scale.maxStrokeWidth;case "text":return g.scale.maxFontSize;case "point":case "square":case "circle":if(g.scale.maxSize)return g.scale.maxSize;const p=Mm(d,f,g.view);return l.isNumber(p)?Math.pow(.95*p,2):new Mf(()=>`pow(${.95} * ${p.signal}, 2)`)}throw Error(Uc("size",
a));}function Mm(a,d,f){const g=Ae(a.width)?a.width.step:$f(f,"width"),h=Ae(a.height)?a.height.step:$f(f,"height");return d.x||d.y?new Mf(()=>`min(${[d.x?d.x.signal:g,d.y?d.y.signal:h].join(", ")})`):Math.min(g,h)}function Nm(a,d){if(Qf(a)){const C=a.component.scales,{config:P,encoding:aa,markDef:sa,specifiedScales:ab}=a;for(const rb of hd(C)){var f=ab[rb];const ac=C[rb];var g=a.getScaleComponent(rb),h=te(aa[rb]),p=f[d];const Dc=g.get("type"),gc=g.get("padding");g=g.get("paddingInner");const Cc=Kf(Dc,
d),Tc=ye(rb,d);void 0!==p&&(Cc?Tc&&K(Tc):K(ld(Dc,d,rb)));if(Cc&&void 0===Tc)if(void 0!==p)switch(p=h.timeUnit,h=h.type,d){case "domainMax":case "domainMin":v(f[d])||"temporal"===h||p?ac.set(d,{signal:zg(f[d],{type:h,timeUnit:p})},!0):ac.set(d,f[d],!0);break;default:ac.copyKeyFromObject(d,f)}else f=d in Te?Te[d]({model:a,channel:rb,fieldOrDatumDef:h,scaleType:Dc,scalePadding:gc,scalePaddingInner:g,domain:f.domain,domainMin:f.domainMin,domainMax:f.domainMax,markDef:sa,config:P,hasNestedOffsetScale:Zg(aa,
rb),hasSecondaryRangeChannel:!!aa[A(rb)]}):P.scale[d],void 0!==f&&ac.set(d,f,!1)}}else hl(a,d)}function gm(a){if(Qf(a)){const d=a.component.scales;for(const f of Hj){const g=d[f];if(!g)continue;const h=Gn(f,a);g.setWithExplicit("range",h)}}else hl(a,"range")}function hl(a,d){const f=a.component.scales;for(var g of a.children)"range"===d?gm(g):Nm(g,d);for(const h of hd(f)){let p;for(const C of a.children)if(g=C.component.scales[h])g=g.getWithExplicit(d),p=Ff(p,g,d,"scale",th((P,aa)=>{switch(d){case "range":if(P.step&&
aa.step)return P.step-aa.step}return 0}));f[h].setWithExplicit(d,p)}}function em(a,d){const f=d.bin;if(zb(f)){const g=ue(a,d.field,f);return new Mf(()=>a.getSignalName(g))}if(kb(f)&&l.isObject(f)&&void 0!==f.step)return{step:f.step}}function Jn(a,d,f,g,h){let p=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a){if(I(d)){const {bandPaddingInner:C,barBandPaddingInner:P,rectBandPaddingInner:aa,bandWithNestedOffsetPaddingInner:sa}=h;return p?sa:U(C,"bar"===f?P:aa)}if(d in hj&&g===
Ug.BAND)return h.offsetBandPaddingInner}}function Jh(a,d,f,g,h){let p=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a)if(I(d)){const {bandPaddingOuter:C,bandWithNestedOffsetPaddingOuter:P}=h;if(p)return P;if(f===Ug.BAND)return U(C,Pb(g)?{signal:`${g.signal}/2`}:g/2)}else if(d in hj){if(f===Ug.POINT)return.5;if(f===Ug.BAND)return h.offsetBandPaddingOuter}}function Jm(a,d,f,g){const h=Cm(d,f,g,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:p}=a;if(!Fh[d])return null;
if(void 0!==p){if(!Ea(d,p))return K(`Channel "${d}" does not work with "${p}" scale. We are using "${h}" scale instead.`),h;var C;if(C=Oa(f))C=f.type,C=!(wb(["ordinal","nominal"],C)?void 0===p||Fe(p):"temporal"===C?wb([Ug.TIME,Ug.UTC,void 0],p):"quantitative"===C?km.has(p)||Aj.has(p)||void 0===p:1);return C?(K(`FieldDef does not work with "${p}" scale. We are using "${h}" scale instead.`),h):p}return h}function Cm(a,d,f,g){switch(d.type){case "nominal":case "ordinal":if(N(a)||"discrete"===S(a))return"shape"===
a&&"ordinal"===d.type&&K(kd(a,"ordinal")),"ordinal";if(I(a)||a in hj){if(wb(["rect","bar","image","rule"],f.type)||g)return"band"}else if("arc"===f.type&&a in ij)return"band";a=f[Q(a)];if(jd(a))return"band";let h;return pd(d)&&(null==(h=d.axis)?0:h.tickBand)?"band":"point";case "temporal":if(!N(a)){if("discrete"===S(a))return K(kd(a,"temporal")),"ordinal";if(Oa(d)&&d.timeUnit&&md(d.timeUnit).utc)return"utc"}return"time";case "quantitative":if(N(a)){if(Oa(d)&&zb(d.bin))return"bin-ordinal"}else if("discrete"===
S(a))return K(kd(a,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${d.type}".`);}function Lm(a){let {ignoreRange:d}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Vj(a);Qf(a)?of(a):ae(a);for(const f of bn)Nm(a,f);d||gm(a)}function Vj(a){if(Qf(a)){var d=a.component;const {encoding:aa,mark:sa,markDef:ab}=a;var f={};for(var g of Hj){var h=te(aa[g]);if(!h||sa!==Yk||"shape"!==g||"geojson"!==h.type){var p=h&&h.scale;if(h&&null!==p&&!1!==p){null!=
p||(p={});var C=Zg(aa,g);h=Jm(p,g,h,ab,C);f[g]=new yg(a.scaleName(`${g}`,!0),{value:h,explicit:p.type===h})}}}d.scales=f}else{g=a.component;p=a.component.scales={};h={};const aa=a.component.resolve;for(C of a.children){Vj(C);for(var P of hd(C.component.scales)){let sa,ab;null!=(sa=aa.scale)[ab=P]||(sa[ab]=Fi(P,a));if("shared"===aa.scale[P]){const rb=h[P],ac=C.component.scales[P].getWithExplicit("type");if(rb){const Dc=Hk[rb.value],gc=Hk[ac.value];Dc===gc||"ordinal-position"===Dc&&"time"===gc||"ordinal-position"===
gc&&"time"===Dc?h[P]=Ff(rb,ac,"type","scale",Oi):(aa.scale[P]="independent",delete h[P])}else h[P]=ac}}}for(d of hd(h)){C=a.scaleName(d,!0);p[d]=new yg(C,h[d]);for(f of a.children)if(P=f.component.scales[d])f.renameScale(P.get("name"),C),P.merged=!0}g.scales=p}}function Qf(a){return"unit"===(null==a?void 0:a.type)}function Qh(a){return"facet"===(null==a?void 0:a.type)}function kl(a){return"concat"===(null==a?void 0:a.type)}function fi(a){return"layer"===(null==a?void 0:a.type)}function dk(a){function d(g,
h){g instanceof Ej&&!(g.isGenerator||"url"in g.data)&&(a.push(h),h={name:null,source:h.name,transform:[]});if(g instanceof Vg)if(g.parent instanceof Ej&&!h.source){var p;h.format=Object.assign({},null!=(p=h.format)?p:{},{parse:g.assembleFormatParse()});h.transform.push(...g.assembleTransforms(!0))}else h.transform.push(...g.assembleTransforms());if(g instanceof mj)h.name||(h.name=`data_${f++}`),!h.source||0<h.transform.length?(a.push(h),g.data=h.name):g.data=h.source,a.push(...g.assemble());else switch((g instanceof
Ik||g instanceof Gl||g instanceof fl||g instanceof rk||g instanceof ti||g instanceof Pi||g instanceof Gh||g instanceof vi||g instanceof lh||g instanceof Ig||g instanceof cm||g instanceof bm||g instanceof ui||g instanceof Ri||g instanceof Hl||g instanceof wi||g instanceof fj||g instanceof xk||g instanceof Si||g instanceof Vh)&&h.transform.push(g.assemble()),(g instanceof kh||g instanceof Gi||g instanceof Qi||g instanceof Yg||g instanceof Xf)&&h.transform.push(...g.assemble()),g instanceof ih&&(h.source&&
0===h.transform.length?g.setSource(h.source):g.parent instanceof ih?g.setSource(h.name):(h.name||(h.name=`data_${f++}`),g.setSource(h.name),1===g.numChildren()&&(a.push(h),h={name:null,source:h.name,transform:[]}))),g.numChildren()){case 0:g instanceof ih&&(!h.source||0<h.transform.length)&&a.push(h);break;case 1:d(g.children[0],h);break;default:h.name||(h.name=`data_${f++}`);p=h.name;!h.source||0<h.transform.length?a.push(h):p=h.source;for(const C of g.children)d(C,{name:null,source:p,transform:[]})}}
let f=0;return d}function mn(a){const d=[],f=dk(d);for(const g of a.children)f(g,{source:a.name,name:null,transform:[]});return d}function eo(a,d){const f=[];var g=dk(f);let h=0;for(const p of a.sources){p.hasName()||(p.dataName=`source_${h++}`);const C=p.assemble();g(p,C)}for(const p of f)0===p.transform.length&&delete p.transform;g=0;for(const p of f.entries()){const [C,P]=p;let aa;0!==(null!=(aa=P.transform)?aa:[]).length||P.source||f.splice(g++,0,f.splice(C,1)[0])}for(const p of f){let C;for(const P of null!=
(C=p.transform)?C:[])"lookup"===P.type&&(P.from=a.outputNodes[P.from].getSource())}for(const p of f)p.name in d&&(p.values=d[p.name]);return f}function yj(a,d,f){d="row"===d?"height":"width";return{labels:f,sizeSignal:a.child.component.layoutSize.get(d)?a.child.getSizeSignalRef(d):void 0,axes:[]}}function ek(a,d){var {child:f}=a;if(f.component.axes[d]){const {layoutHeaders:g,resolve:h}=a.component;h.axis[d]=q(h,d);if("shared"===h.axis[d]){const p="x"===d?"column":"row",C=g[p];for(const P of f.component.axes[d]){d=
P.get("orient");d="top"===d||"left"===d||Pb(d)?"header":"footer";let aa,sa;null!=(aa=C)[sa=d]||(aa[sa]=[yj(a,p,!1)]);(f=Ng(P,"main",a.config,{header:!0}))&&C[d][0].axes.push(f);P.mainExtracted=!0}}}}function nl(a){for(const d of a.children)d.parseLayoutSize()}function zj(a,d){const f=Fk(d),g=X(f),h=a.component.resolve,p=a.component.layoutSize;let C;for(const P of a.children){const aa=P.component.layoutSize.getWithExplicit(f);let sa;const ab=null!=(sa=h.scale[g])?sa:Fi(g,a);if("independent"===ab&&
"step"===aa.value){C=void 0;break}if(C){if("independent"===ab&&C.value!==aa.value){C=void 0;break}C=Ff(C,aa,f,"")}else C=aa}if(C){for(const P of a.children)a.renameSignal(P.getName(f),a.getName(d)),P.component.layoutSize.set(f,"merged",!1);p.setWithExplicit(d,C)}else p.setWithExplicit(d,{explicit:!1,value:void 0})}function pm(a,d){const f=a.config;var g=a.getScaleComponent("width"===d?"x":"y");if(g)return a=g.get("type"),g=g.get("range"),Fe(a)?(d=Vf(f.view,d),Nb(g)||Ae(d)?"step":d):vf(f.view,d);if(a.hasProjection||
"arc"===a.mark)return vf(f.view,d);d=Vf(f.view,d);return Ae(d)?d.step:d}function Kk(a,d,f){return lc(d,Object.assign({},{suffix:`by_${lc(a)}`},null!=f?f:{}))}function im(a,d){for(const g of d){d=g.data;if(a.name&&g.hasName()&&a.name!==g.dataName)continue;let h;const p=null==(h=a.format)?void 0:h.mesh;let C;var f=null==(C=d.format)?void 0:C.feature;if(p&&f)continue;let P;const aa=null==(P=a.format)?void 0:P.feature;if((aa||f)&&aa!==f)continue;let sa;f=null==(sa=d.format)?void 0:sa.mesh;if(!p&&!f||
p===f)if("values"in a&&"values"in d){if(na(a.values,d.values))return g}else if("url"in a&&"url"in d){if(a.url===d.url)return g}else if(tj(a)&&a.name===g.dataName)return g}return null}function Sm(a,d){if(a.data||!a.parent){if(null===a.data)return a=new Ej({values:[]}),d.push(a),a;const f=im(a.data,d);if(f)return fh(a.data)||(f.data.format=Ba({},a.data.format,f.data.format)),!f.hasName()&&a.data.name&&(f.dataName=a.data.name),f;a=new Ej(a.data);d.push(a);return a}return a.parent.component.data.facetRoot?
a.parent.component.data.facetRoot:a.parent.component.data.main}function cl(a){var d=Sm(a,a.component.data.sources);const {outputNodes:f,outputNodeRefCounts:g}=a.component.data;var h=a.data;const p=h&&(fh(h)||"url"in h||"values"in h)||!a.parent?new Xn:a.parent.component.data.ancestorParse.clone();if(fh(h))"sequence"in h?d=new Gl(d,h.sequence):"graticule"in h&&(d=new Ik(d,h.graticule)),p.parseNothing=!0;else{let Fd;null===(null==h?void 0:null==(Fd=h.format)?void 0:Fd.parse)&&(p.parseNothing=!0)}var C;
d=null!=(C=Vg.makeExplicit(d,a,p))?C:d;d=new fj(d);h=a.parent&&fi(a.parent);if((Qf(a)||Qh(a))&&h){var P;d=null!=(P=kh.makeFromEncoding(d,a))?P:d}if(0<a.transforms.length){P=0;for(var aa of a.transforms){var sa=C=void 0;if("calculate"in aa)sa=d=new ti(d,aa),C="derived";else if("filter"in aa){sa=eg(aa);var ab=void 0;sa=d=null!=(ab=Vg.makeWithAncestors(d,{},sa,p))?ab:d;d=new rk(d,a,aa.filter)}else if("bin"in aa)sa=d=kh.makeFromTransform(d,aa,a),C="number";else if("timeUnit"in aa)C="date",void 0===p.getWithExplicit(aa.field).value&&
(d=new Vg(d,{[aa.field]:C}),p.set(aa.field,C,!1)),sa=d=Gi.makeFromTransform(d,aa);else if("aggregate"in aa)sa=d=Gh.makeFromTransform(d,aa),C="number",Wf(a)&&(d=new fj(d));else if("lookup"in aa)sa=d=vi.make(d,a,aa,P++),C="derived";else if("window"in aa)sa=d=new lh(d,aa),C="number";else if("joinaggregate"in aa)sa=d=new Ig(d,aa),C="number";else if("stack"in aa)sa=d=Yg.makeFromTransform(d,aa),C="derived";else if("fold"in aa)sa=d=new cm(d,aa),C="derived";else if("extent"in aa&&!("density"in aa))sa=d=new Vh(d,
aa),C="derived";else if("flatten"in aa)sa=d=new bm(d,aa),C="derived";else if("pivot"in aa)sa=d=new Si(d,aa),C="derived";else if("sample"in aa)d=new xk(d,aa);else if("impute"in aa)sa=d=Qi.makeFromTransform(d,aa),C="derived";else if("density"in aa)sa=d=new ui(d,aa),C="derived";else if("quantile"in aa)sa=d=new Hl(d,aa),C="derived";else if("regression"in aa)sa=d=new wi(d,aa),C="derived";else if("loess"in aa)sa=d=new Ri(d,aa),C="derived";else{K(`Ignoring an invalid transform: ${n(aa)}.`);continue}if(sa&&
void 0!==C){let Fd;for(const ie of null!=(Fd=sa.producedFields())?Fd:[])p.set(ie,C,!1)}}}aa={};if(Qf(a)&&a.component.selection)for(var rb of hd(a.component.selection)){ab=a.component.selection[rb];for(const Fd of ab.project.items)!Fd.channel&&1<Na(Fd.field)&&(aa[Fd.field]="flatten")}rb=vg(a);var ac;d=null!=(ac=Vg.makeWithAncestors(d,{},Object.assign({},aa,rb),p))?ac:d;Qf(a)&&(d=Xf.parseAll(d,a),d=Pi.parseAll(d,a));if(Qf(a)||Qh(a)){if(!h){let Fd;d=null!=(Fd=kh.makeFromEncoding(d,a))?Fd:d}var Dc;d=
null!=(Dc=Gi.makeFromEncoding(d,a))?Dc:d;d=ti.parseAllForSortIndex(d,a)}Dc=a.getDataName(hg.Raw);ac=new ih(d,Dc,hg.Raw,g);d=f[Dc]=ac;if(Qf(a)){if(Dc=Gh.makeFromEncoding(d,a))d=Dc,Wf(a)&&(d=new fj(d));var gc;d=null!=(gc=Qi.makeFromEncoding(d,a))?gc:d;var Cc;d=null!=(Cc=Yg.makeFromEncoding(d,a))?Cc:d}if(Qf(a)){let Fd;d=null!=(Fd=fl.make(d,a))?Fd:d}Cc=a.getDataName(hg.Main);gc=new ih(d,Cc,hg.Main,g);d=f[Cc]=gc;if(Qf(a)){var Tc;for(var Vc of li(null!=(Tc=a.component.selection)?Tc:{})){const [Fd,ie]=Vc;
Tc=a.getName(`lookup_${Fd}`);a.component.data.outputNodes[Tc]=ie.materialized=new ih(new rk(gc,a,{param:Fd}),Tc,hg.Lookup,a.component.data.outputNodeRefCounts)}}Tc=null;if(Qh(a)){Vc=a.getName("facet");let Fd;{Tc=d;const {row:ie,column:Td}=a.facet;if(ie&&Td){Cc=null;for(Od of[ie,Td])if(me(Od.sort)){const {field:wf,op:cf="min"}=Od.sort;Tc=Cc=new Ig(Tc,{joinaggregate:[{op:cf,field:wf,as:Kk(Od,Od.sort,{forAs:!0})}],groupby:[lc(Od)]})}var Od=Cc}else Od=null}d=null!=(Fd=Od)?Fd:d;Tc=new mj(d,a,Vc,gc.getSource());
f[Vc]=Tc}return Object.assign({},a.component.data,{outputNodes:f,outputNodeRefCounts:g,raw:ac,main:gc,facetRoot:Tc,ancestorParse:p})}function Om(a,d,f){const {encoding:g,config:h}=a;let p;const C=null!=(p=te(g[d]))?p:te(g[A(d)]);a=a.axis(d)||{};const {format:P,formatType:aa}=a;if(qe(aa))return Object.assign({},{text:ce({fieldOrDatumDef:C,field:"datum.value",format:P,formatType:aa,config:h})},f);if(void 0===P&&void 0===aa&&h.customFormatTypes){if("quantitative"===sb(C)){if(pd(C)&&"normalize"===C.stack&&
h.normalizedNumberFormatType)return Object.assign({},{text:ce({fieldOrDatumDef:C,field:"datum.value",format:h.normalizedNumberFormat,formatType:h.normalizedNumberFormatType,config:h})},f);if(h.numberFormatType)return Object.assign({},{text:ce({fieldOrDatumDef:C,field:"datum.value",format:h.numberFormat,formatType:h.numberFormatType,config:h})},f)}if("temporal"===sb(C)&&h.timeFormatType&&Oa(C)&&!C.timeUnit)return Object.assign({},{text:ce({fieldOrDatumDef:C,field:"datum.value",format:h.timeFormat,
formatType:h.timeFormatType,config:h})},f)}return f}function Kn(a){return wh.reduce((d,f)=>{a.component.scales[f]&&(d[f]=[go(f,a)]);return d},{})}function Nn(a,d){if(a){if(a.length!==d.length)return;const f=a.length;for(let g=0;g<f;g++){const h=a[g],p=d[g];if(!!h!==!!p)return;if(h&&p){const C=h.getWithExplicit("orient"),P=p.getWithExplicit("orient");if(C.explicit&&P.explicit&&C.value!==P.value)return;a[g]=zl(h,p)}}}else return d.map(f=>f.clone());return a}function zl(a,d){for(const f of pj){const g=
Ff(a.getWithExplicit(f),d.getWithExplicit(f),f,"axis",(h,p)=>{switch(f){case "title":return ib(h,p);case "gridScale":return{explicit:h.explicit,value:U(h.value,p.value)}}return Cg(h,p,f,"axis")});a.setWithExplicit(f,g)}return a}function Al(a,d,f,g,h){if("disable"===d)return void 0!==f;f=f||{};switch(d){case "titleAngle":case "labelAngle":return a===(Pb(f.labelAngle)?f.labelAngle:Fa(f.labelAngle));case "values":return!!f.values;case "encode":return!!f.encoding||!!f.labelAngle;case "title":if(a===Ck(g,
h))return!0}return a===f[d]}function go(a,d){let f=d.axis(a);const g=new Oj;var h=te(d.encoding[a]);const {mark:p,config:C}=d;var P,aa,sa,ab=(null==(P=f)?void 0:P.orient)||(null==(aa=C["x"===a?"axisX":"axisY"])?void 0:aa.orient)||(null==(sa=C.axis)?void 0:sa.orient)||("x"===a?"bottom":"left");aa=d.getScaleComponent(a).get("type");P=ol(a,aa,ab,d.config);var rb;sa=void 0!==f?!f:vj("disable",C.style,null==(rb=f)?void 0:rb.style,P).configValue;g.set("disable",sa,void 0!==f);if(sa)return g;f=f||{};rb=
dh(h,f,a,C.style,P);sa=rf(f.formatType,h,aa);const ac=jf(h,h.type,f.format,f.formatType,C,!0);h={fieldOrDatumDef:h,axis:f,channel:a,model:d,scaleType:aa,orient:ab,labelAngle:rb,format:ac,formatType:sa,mark:p,config:C};for(const Cc of pj)if(ab=Cc in Kj?Kj[Cc](h):ul[Cc]?f[Cc]:void 0,aa=void 0!==ab,rb=Al(ab,Cc,f,d,a),aa&&rb)g.set(Cc,ab,rb);else{const {configValue:Tc,configFrom:Vc}=ul[Cc]&&"values"!==Cc?vj(Cc,C.style,f.style,P):{};sa=void 0!==Tc;aa&&!sa?g.set(Cc,ab,rb):("vgAxisConfig"!==Vc||Km.has(Cc)&&
sa||kg(Tc)||Pb(Tc))&&g.set(Cc,Tc,!1)}var Dc;const gc=null!=(Dc=f.encoding)?Dc:{};Dc=Gm.reduce((Cc,Tc)=>{if(!g.hasAxisPart(Tc))return Cc;var Vc;const Od=Gk(null!=(Vc=gc[Tc])?Vc:{},d);Vc="labels"===Tc?Om(d,a,Od):Od;void 0===Vc||lb(Vc)||(Cc[Tc]={update:Vc});return Cc},{});lb(Dc)||g.set("encode",Dc,!!f.encoding||void 0!==f.labelAngle);return g}function ho(a){let {encoding:d,size:f}=a;for(const g of wh)a=Q(g),Ae(f[a])&&uc(d[g])&&(delete f[a],K(ed(a)));return f}function Bl(a,d){var f=Object,g=f.assign,
h=Bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),p=Qd("x",a,{defaultPos:"mid"}),C=Qd("y",a,{defaultPos:"mid"}),P=Wc("size",a),aa=Wc("angle",a);a=d?{shape:{value:d}}:Wc("shape",a);return g.call(f,{},h,p,C,P,aa,a)}function on(a){if(wb([Wk,Ki,Hg],a.mark)){var d=oh(a.mark,a.encoding);if(0<d.length)return pn(a,d)}else if(a.mark===Qg&&(d=qi.some(f=>Xb(f,a.markDef,a.config)),a.stack&&!a.fieldDef("size")&&d))return qn(a);return Cl(a)}function pn(a,d){return[{name:a.getName("pathgroup"),
type:"group",from:{facet:{name:"faceted_path_"+a.requestDataName(hg.Main),data:a.requestDataName(hg.Main),groupby:d}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Cl(a,{fromPrefix:"faceted_path_"})}]}function qn(a){const [d]=Cl(a,{fromPrefix:"stack_group_"}),f=a.scaleName(a.stack.fieldChannel),g=function(){return a.vgField(a.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var h=(sa,ab)=>{ab=[g({prefix:"min",suffix:"start",expr:ab}),
g({prefix:"max",suffix:"start",expr:ab}),g({prefix:"min",suffix:"end",expr:ab}),g({prefix:"max",suffix:"end",expr:ab})];return`${sa}(${ab.map(rb=>`scale('${f}',${rb})`).join(",")})`};let p;"x"===a.stack.fieldChannel?(h=Object.assign({},Wb(d.encode.update,["y","yc","y2","height",...qi]),{x:{signal:h("min","datum")},x2:{signal:h("max","datum")},clip:{value:!0}}),p={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},d.encode.update=Object.assign({},ec(d.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):
(h=Object.assign({},Wb(d.encode.update,["x","xc","x2","width"]),{y:{signal:h("min","datum")},y2:{signal:h("max","datum")},clip:{value:!0}}),p={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},d.encode.update=Object.assign({},ec(d.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var C of qi){var P=jc(C,a.markDef,a.config);d.encode.update[C]?(h[C]=d.encode.update[C],delete d.encode.update[C]):P&&(h[C]=Va(P));P&&(d.encode.update[C]={value:0})}C=[];var aa;if(0<(null==(aa=
a.stack.groupbyChannels)?void 0:aa.length))for(const sa of a.stack.groupbyChannels){aa=a.fieldDef(sa);(P=lc(aa))&&C.push(P);let ab,rb;((null==(ab=aa)?0:ab.bin)||(null==(rb=aa)?0:rb.timeUnit))&&C.push(lc(aa,{binSuffix:"end"}))}h="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((sa,ab)=>{if(d.encode.update[ab])return Object.assign({},sa,{[ab]:d.encode.update[ab]});const rb=jc(ab,a.markDef,a.config);return void 0!==rb?Object.assign({},
sa,{[ab]:Va(rb)}):sa},h);h.stroke&&(h.strokeForeground={value:!0},h.strokeOffset={value:0});return[{type:"group",from:{facet:{data:a.requestDataName(hg.Main),name:"stack_group_"+a.requestDataName(hg.Main),groupby:C,aggregate:{fields:[g({suffix:"start"}),g({suffix:"start"}),g({suffix:"end"}),g({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:h},marks:[{type:"group",encode:{update:p},marks:[d]}]}]}function qm(a){const {encoding:d,stack:f,mark:g,markDef:h,config:p}=a;var C=d.order;if(!(!l.isArray(C)&&
Oc(C)&&yb(C.value)||!C&&yb(Xb("order",h,p)))){if((l.isArray(C)||Oa(C))&&!f)return Lc(C,{expr:"datum"});if(cb(g)){const P="horizontal"===h.orient?"y":"x",aa=d[P];if(Oa(aa)){C=aa.sort;if(l.isArray(C))return{field:lc(aa,{prefix:P,suffix:"sort_index",expr:"datum"})};if(me(C))return{field:lc({aggregate:Yf(a.encoding)?C.op:void 0,field:C.field},{expr:"datum"})};if(null!=C&&C.encoding)return a=a.fieldDef(C.encoding),{field:lc(a,{expr:"datum"}),order:C.order};if(null!==C){let sa;return{field:lc(aa,{binSuffix:(null==
(sa=a.stack)?0:sa.impute)?"mid":void 0,expr:"datum"})}}}}}}function Cl(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:f,markDef:g,encoding:h,config:p}=a;var C=g.clip;var P=a.getScaleComponent("x");var aa=a.getScaleComponent("y");P=(null==P?0:P.get("selectionExtent"))||(null==aa?0:aa.get("selectionExtent"))?!0:void 0;aa=a.component.projection;C=U(C,P,aa&&!aa.isFit?!0:void 0);P=Eb(g);aa=h.key;const sa=qm(a);var ab;if(a.component.selection){for(var rb=ab=
hd(a.component.selection).length,ac=a.parent;ac&&0===rb;)rb=hd(ac.component.selection).length,ac=ac.parent;ab=rb?{interactive:0<ab||"geoshape"===a.mark||!!a.encoding.tooltip}:null}else ab=null;rb=Xb("aria",g,p);ac=Wh[f].postEncodingTransform?Wh[f].postEncodingTransform(a):null;return[Object.assign({},{name:a.getName("marks"),type:Wh[f].vgMark},C?{clip:!0}:{},P?{style:P}:{},aa?{key:aa.field}:{},sa?{sort:sa}:{},ab?ab:{},!1===rb?{aria:rb}:{},{from:{data:d.fromPrefix+a.requestDataName(hg.Main)},encode:{update:Wh[f].encodeEntry(a)}},
ac?{transform:ac}:{})]}function Dl(a,d,f,g,h){if("facet"in a)return new oj(a,d,f,h);if("layer"in a)return new rj(a,d,f,g,h);if(mf(a))return new gl(a,d,f,g,h);if("vconcat"in a||"hconcat"in a||"concat"in a)return new jl(a,d,f,h);throw Error(Aa(a));}function Un(a,d){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let g=3<arguments.length?arguments[3]:void 0;const h=a.config?nh(a.config):void 0;f=[].concat(a.assembleSelectionData([]),eo(a.component.data,f));const p=a.assembleProjections(),
C=a.assembleTitle(),P=a.assembleGroupStyle(),aa=a.assembleGroupEncodeEntry(!0);let sa=a.assembleLayoutSignals();sa=sa.filter(ac=>"width"!==ac.name&&"height"!==ac.name||void 0===ac.value?!0:(d[ac.name]=+ac.value,!1));var ab=Object.assign({},d);const rb=d.params;ab=(delete ab.params,ab);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},a.description?{description:a.description}:{},ab,C?{title:C}:{},P?{style:P}:{},aa?{encode:{update:aa}}:{},{data:f},0<p.length?{projections:p}:
{},a.assembleGroup([...sa,...a.assembleSelectionTopLevelSignals([]),...Zd(rb)]),h?{config:h}:{},g?{usermeta:g}:{})}const we=structuredClone;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>n(a)).join(",")})`};const hd=Object.keys,wg=Object.values,li=Object.entries;let Ol=42;const rm=Object.getPrototypeOf(structuredClone({})),Bj={theta:1,theta2:1,radius:1,radius2:1},El={longitude:1,longitude2:1,latitude:1,latitude2:1},sn=hd(El),ik=Object.assign({},{x:1,y:1,x2:1,y2:1},Bj,El,{xOffset:1,
yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),um={row:1,column:1,facet:1},Rh=hd(um),Cj=Object.assign({},ik,um),tn=hd(Cj);var Bi=Object.assign({},Cj),vn=(delete Bi.order,delete Bi.detail,delete Bi.tooltip,Bi),kk=Object.assign({},vn);const Fl=(delete kk.row,delete kk.column,delete kk.facet,kk),vm="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),xg=
hd(ik);var Wg=Object.assign({},ik);const wm=(delete Wg.x,delete Wg.y,delete Wg.x2,delete Wg.y2,delete Wg.xOffset,delete Wg.yOffset,delete Wg.latitude,delete Wg.longitude,delete Wg.latitude2,delete Wg.longitude2,delete Wg.theta,delete Wg.theta2,delete Wg.radius,delete Wg.radius2,Wg),Rf=hd(wm),dm={x:1,y:1},wh=hd(dm),ij={theta:1,radius:1},Gj=hd(ij),hj={xOffset:1,yOffset:1};var Sh=Object.assign({},wm);const Jl=(delete Sh.text,delete Sh.tooltip,delete Sh.href,delete Sh.url,delete Sh.description,delete Sh.detail,
delete Sh.key,delete Sh.order,Sh),ni=hd(Jl),Fh=Object.assign({},dm,ij,hj,Jl),Hj=hd(Fh),Qk={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Rk=Object.assign({},Qk);const Ji=(delete Rk.geoshape,Rk),Il={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,
sum:1,valid:1,values:1,variance:1,variancep:1},Fn={count:1,min:1,max:1},Am=new Set(["count","valid","missing","distinct"]),zn=new Set(["count","sum","distinct","valid","missing"]),pk=new Set("mean average median q1 q3 min max".split(" ")),se=hd({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,
innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),nf={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},
qi=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Sk=l.logger(l.Warn);let oi=Sk;const Th="january february march april may june july august september october november december".split(" "),nk=Th.map(a=>a.substr(0,3)),pi="sunday monday tuesday wednesday thursday friday saturday".split(" "),Tk=pi.map(a=>a.substr(0,3)),Uk={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Vk=hd(Uk),Nl=
{"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Rl={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Ug={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Hk={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",
time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Xm={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},km=new Set(["linear","log","pow","sqrt","symlog"]),cg=new Set([...km,"time","utc"]),Aj=new Set(["quantile","quantize","threshold"]),cn=new Set([...cg,...Aj,
"sequential","identity"]),an=new Set(["ordinal","bin-ordinal","point","band"]);var ji=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const io=(delete ji.type,delete ji.domain,delete ji.range,delete ji.rangeMax,delete ji.rangeMin,delete ji.scheme,ji),bn=hd(io),Xg={arc:"arc",area:"area",bar:"bar",
image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Bm=Xg.arc,Ki=Xg.area,Qg=Xg.bar,vh=Xg.image,Wk=Xg.line,Xk=Xg.point,sl=Xg.rect,wj=Xg.rule,ok=Xg.text,mi=Xg.tick,Hg=Xg.trail,Rg=Xg.circle,Li=Xg.square,Yk=Xg.geoshape,An=new Set(hd(Xg)),Bn="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),Pl=hd({color:1,filled:1,invalid:1,order:1,
radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Ij=hd({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),Dm={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Ql={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Em=(a,d)=>{switch(d.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:f,
bin:g,timeUnit:h,field:p}=a;Ca(f)?a=`${p} for argmax(${f.argmax})`:ia(f)?a=`${p} for argmin(${f.argmin})`:(a=h&&!Lb(h)?md(h):void 0,a=(a=f||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||zb(g)&&"bin")?`${a.toUpperCase()}(${p})`:p)}return a;default:return ne(a,d)}};let Jj=Em;const jj={compatible:!0},Fm={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",
vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},
tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Gm=["domain","grid","labels","ticks","title"],ao={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",
domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",
tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",
scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Hm={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,
labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,
titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},ul=Object.assign({},Hm,{style:1,labelExpr:1,encoding:1}),kj=hd({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class ri{constructor(a,d){this.name=a;this.run=
d}hasMatchingType(a){return mf(a)?(a=a.mark,(fd(a)?a.type:a)===this.name):!1}}const Sl=new ri("boxplot",Id),Ii=new ri("errorbar",pf),lm=new ri("errorband",ch),lk={};ng("boxplot",Id,["box","median","outliers","rule","ticks"]);ng("errorbar",pf,["ticks","rule"]);ng("errorband",ch,["band","borders"]);const Mi=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Zk={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",
titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},qk={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",
labelPadding:"offset"},Dj=hd(Zk),$k=hd(qk),mk=hd({header:1,headerRow:1,headerColumn:1,headerFacet:1}),en="size shape fill stroke strokeDash strokeWidth opacity".split(" "),xm=hd({align:1,bounds:1,center:1,columns:1,spacing:1}),ym={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},
circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,
minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},
interval:{on:"[pointerdown, window:pointerup] \x3e window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] \x3e window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},Eh="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Lk={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},
nm={blue:Eh[0],orange:Eh[1],red:Eh[2],teal:Eh[3],green:Eh[4],yellow:Eh[5],purple:Eh[6],pink:Eh[7],brown:Eh[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},ko=[...Ij,...kj,...mk,"background","padding","legend","lineBreak","scale","style","title","view"],Wn=new Set(["view",...An]),lo="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
mm=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});class zm{map(a,d){return"facet"in a?this.mapFacet(a,d):"repeat"in a?this.mapRepeat(a,d):"hconcat"in a?this.mapHConcat(a,d):"vconcat"in a?this.mapVConcat(a,d):"concat"in a?this.mapConcat(a,
d):this.mapLayerOrUnit(a,d)}mapLayerOrUnit(a,d){if("layer"in a)return this.mapLayer(a,d);if(mf(a))return this.mapUnit(a,d);throw Error(Aa(a));}mapLayer(a,d){return Object.assign({},a,{layer:a.layer.map(f=>this.mapLayerOrUnit(f,d))})}mapHConcat(a,d){return Object.assign({},a,{hconcat:a.hconcat.map(f=>this.map(f,d))})}mapVConcat(a,d){return Object.assign({},a,{vconcat:a.vconcat.map(f=>this.map(f,d))})}mapConcat(a,d){var f=Object.assign({},a);a=a.concat;f=(delete f.concat,f);return Object.assign({},
f,{concat:a.map(g=>this.map(g,d))})}mapFacet(a,d){return Object.assign({},a,{spec:this.map(a.spec,d)})}mapRepeat(a,d){return Object.assign({},a,{spec:this.map(a.spec,d)})}}const Yn={zero:1,center:1,normalize:1},mo=new Set([Bm,Qg,Ki,wj,Xk,Rg,Li,Wk,ok,mi]),Zn=new Set([Qg,Ki,Bm]);class no{constructor(){V(this,"name","path-overlay")}hasMatchingType(a,d){if(mf(a)){const {mark:f,encoding:g}=a;a=fd(f)?f:{type:f};switch(a.type){case "line":case "rule":case "trail":return!!Bg(a,d[a.type],g);case "area":return!!Bg(a,
d[a.type],g)||!!yh(a,d[a.type])}}return!1}run(a,d,f){var {config:g}=d,h=Object.assign({},a),p=a.params,C=a.projection,P=a.mark,aa=a.name;a=a.encoding;h=(delete h.params,delete h.projection,delete h.mark,delete h.name,delete h.encoding,h);a=ah(a,g);P=fd(P)?P:{type:P};const sa=Bg(P,g[P.type],a),ab="area"===P.type&&yh(P,g[P.type]);var rb=Object,ac=rb.assign;var Dc=Object.assign({},"area"===P.type&&void 0===P.opacity&&void 0===P.fillOpacity?{opacity:.7}:{},P);Dc=Object.assign({},Dc);Dc=(delete Dc.point,
delete Dc.line,Dc);Dc=1<hd(Dc).length?Dc:Dc.type;p=[ac.call(rb,{},{name:aa},p?{params:p}:{},{mark:Dc,encoding:ec(a,["shape"])})];aa=xh(qg(P,a,g),a);rb=a;if(aa){const {fieldChannel:gc,offset:Cc}=aa;rb=Object.assign({},a,{[gc]:Object.assign({},a[gc],Cc?{stack:Cc}:{})})}rb=ec(rb,["y2","x2"]);ab&&p.push(Object.assign({},C?{projection:C}:{},{mark:Object.assign({},{type:"line"},Wb(P,["clip","interpolate","tension","tooltip"]),ab),encoding:rb}));sa&&p.push(Object.assign({},C?{projection:C}:{},{mark:Object.assign({},
{type:"point",opacity:1,filled:!0},Wb(P,["clip","tooltip"]),sa),encoding:rb}));C=Object.assign({},h,{layer:p});h=Object;p=h.assign;for(const gc of["line","area","rule","trail"])g[gc]&&(g=Object.assign({},g,{[gc]:ec(g[gc],["point","line"])}));return f(C,p.call(h,{},d,{config:g}))}}class hn{constructor(){V(this,"name","RuleForRangedLine")}hasMatchingType(a){if(mf(a)){const {encoding:d,mark:f}=a;if("line"===f||fd(f)&&"line"===f.type)for(const g of vm)if(a=T(g),a=d[a],d[g]&&(Oa(a)&&!kb(a.bin)||pb(a)))return!0}return!1}run(a,
d,f){const {encoding:g,mark:h}=a;var p=!!g.x2;K(`Line mark is for continuous lines and thus cannot be used with ${p&&g.y2?"x2 and y2":p?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return f(Object.assign({},a,{mark:l.isObject(h)?Object.assign({},h,{type:"rule"}):"rule"}),d)}}class oo extends zm{constructor(){super(...arguments);V(this,"nonFacetUnitNormalizers",[Sl,Ii,lm,new no,new hn])}map(a,d){if(mf(a)){const f=Ke(a.encoding,"row"),g=Ke(a.encoding,"column"),h=Ke(a.encoding,"facet");
if(f||g||h)return this.mapFacetedUnit(a,d)}return super.map(a,d)}mapUnit(a,d){const {parentEncoding:f,parentProjection:g}=d;var h=Ti(a.encoding,d.repeater);a=Object.assign({},a,a.name?{name:[d.repeaterPrefix,a.name].filter(p=>p).join("_")}:{},h?{encoding:h}:{});if(f||g)return this.mapUnitWithParentEncodingOrProjection(a,d);h=this.mapLayerOrUnit.bind(this);for(const p of this.nonFacetUnitNormalizers)if(p.hasMatchingType(a,d.config))return p.run(a,d,h);return a}mapRepeat(a,d){return!l.isArray(a.repeat)&&
a.repeat.layer?this.mapLayerRepeat(a,d):this.mapNonLayerRepeat(a,d)}mapLayerRepeat(a,d){var f=Object.assign({},a);const g=a.repeat,h=a.spec;f=(delete f.repeat,delete f.spec,f);const {row:p,column:C,layer:P}=g,{repeater:aa={},repeaterPrefix:sa=""}=d;return p||C?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},p?{row:p}:{},C?{column:C}:{}),spec:{repeat:{layer:P},spec:h}}),d):Object.assign({},f,{layer:P.map(ab=>{var rb=Object.assign({},aa,{layer:ab});ab=`${(h.name?`${h.name}_`:"")+sa}child__layer_${ua(ab)}`;
rb=this.mapLayerOrUnit(h,Object.assign({},d,{repeater:rb,repeaterPrefix:ab}));rb.name=ab;return rb})})}mapNonLayerRepeat(a,d){var f=a,g=Object.assign({},f);const h=f.repeat,p=f.spec;f=f.data;g=(delete g.repeat,delete g.spec,delete g.data,g);!l.isArray(h)&&a.columns&&(a=ec(a,["columns"]),K(vc("repeat")));const C=[],{repeater:P={},repeaterPrefix:aa=""}=d,sa=!l.isArray(h)&&h.row||[P?P.row:null],ab=!l.isArray(h)&&h.column||[P?P.column:null];var rb=l.isArray(h)&&h||[P?P.repeat:null];for(const gc of rb)for(const Cc of sa)for(const Tc of ab){var ac=
{repeat:gc,row:Cc,column:Tc,layer:P.layer};rb=(p.name?`${p.name}_`:"")+aa+"child__"+(l.isArray(h)?`${ua(gc)}`:(h.row?`row_${ua(Cc)}`:"")+(h.column?`column_${ua(Tc)}`:""));ac=this.map(p,Object.assign({},d,{repeater:ac,repeaterPrefix:rb}));ac.name=rb;C.push(ec(ac,["data"]))}a=l.isArray(h)?a.columns:h.column?h.column.length:1;let Dc;return Object.assign({},{data:null!=(Dc=p.data)?Dc:f,align:"all"},g,{columns:a,concat:C})}mapFacet(a,d){const {facet:f}=a;Wd(f)&&a.columns&&(a=ec(a,["columns"]),K(vc("facet")));
return super.mapFacet(a,d)}mapUnitWithParentEncodingOrProjection(a,d){const {encoding:f,projection:g}=a,{parentEncoding:h,parentProjection:p,config:C}=d,P=zh({parentProjection:p,projection:g});d=Yh({parentEncoding:h,encoding:Ti(f,d.repeater)});return this.mapUnit(Object.assign({},a,P?{projection:P}:{},d?{encoding:d}:{}),{config:C})}mapFacetedUnit(a,d){var f=a.encoding,g=Object.assign({},f),h=f.row;const p=f.column;f=f.facet;const C=(delete g.row,delete g.column,delete g.facet,g);var P=Object.assign({},
a);g=a.mark;const aa=a.width,sa=a.projection,ab=a.height,rb=a.view;a=a.params;P=(delete P.mark,delete P.width,delete P.projection,delete P.height,delete P.view,delete P.params,delete P.encoding,P);const {facetMapping:ac,layout:Dc}=this.getFacetMappingAndLayout({row:h,column:p,facet:f},d);h=Ti(C,d.repeater);return this.mapFacet(Object.assign({},P,Dc,{facet:ac,spec:Object.assign({},aa?{width:aa}:{},ab?{height:ab}:{},rb?{view:rb}:{},sa?{projection:sa}:{},{mark:g,encoding:h},a?{params:a}:{})}),d)}getFacetMappingAndLayout(a,
d){const {row:f,column:g,facet:h}=a;if(f||g){h&&(d=[...(f?["row"]:[]),...(g?["column"]:[])],d=`Facet encoding dropped as ${d.join(" and ")} ${1<d.length?"are":"is"} also specified.`,K(d));d={};const ab={};for(var p of["row","column"]){const rb=a[p];if(rb){var C=Object.assign({},rb);C=(delete C.align,delete C.center,delete C.spacing,delete C.columns,C);d[p]=C;for(var P of["align","center","spacing"])if(void 0!==rb[P]){var aa=void 0,sa=void 0;null!=(aa=ab)[sa=P]||(aa[sa]={});ab[P][p]=rb[P]}}}return{facetMapping:d,
layout:ab}}sa=Object.assign({},h);a=h.align;p=h.center;P=h.spacing;aa=h.columns;sa=(delete sa.align,delete sa.center,delete sa.spacing,delete sa.columns,sa);sa=(d=d.repeater)?Wd(sa)?Xh(sa,d):xi(sa,d):sa;return{facetMapping:sa,layout:Object.assign({},a?{align:a}:{},p?{center:p}:{},P?{spacing:P}:{},aa?{columns:aa}:{})}}mapLayer(a,d){var f=Object.assign({},d),g=d.parentEncoding;d=d.parentProjection;f=(delete f.parentEncoding,delete f.parentProjection,f);var h=Object.assign({},a);const p=a.encoding,C=
a.projection;h=(delete h.encoding,delete h.projection,h);g=Object.assign({},f,{parentEncoding:Yh({parentEncoding:g,encoding:p,layer:!0}),parentProjection:zh({parentProjection:d,projection:C})});return super.mapLayer(Object.assign({},h,a.name?{name:[g.repeaterPrefix,a.name].filter(P=>P).join("_")}:{}),g)}}class po extends zm{map(a,d){null!=d.emptySelections||(d.emptySelections={});null!=d.selectionPredicates||(d.selectionPredicates={});a=ag(a,d);return super.map(a,d)}mapLayerOrUnit(a,d){a=ag(a,d);
if(a.encoding){const f={};for(const g of li(a.encoding)){const [h,p]=g;f[h]=Xi(p,d)}a=Object.assign({},a,{encoding:f})}return super.mapLayerOrUnit(a,d)}mapUnit(a,d){var f=Object.assign({},a);const g=a.selection;f=(delete f.selection,f);return g?Object.assign({},f,{params:li(g).map(h=>{let [p,C]=h;var P=Object.assign({},C);h=C.init;const aa=C.bind,sa=C.empty;P=(delete P.init,delete P.bind,delete P.empty,P);"single"===P.type?(P.type="point",P.toggle=!1):"multi"===P.type&&(P.type="point");d.emptySelections[p]=
"none"!==sa;let ab;for(const rb of wg(null!=(ab=d.selectionPredicates[p])?ab:{}))rb.empty="none"!==sa;return{name:p,value:h,select:P,bind:aa}})}):a}}class Tl extends zm{map(a,d){var f;const g=null!=(f=d.selections)?f:[];if(a.params&&!mf(a)){f=[];for(const h of a.params)Ld(h)?g.push(h):f.push(h);a.params=f}d.selections=g;return super.map(a,d)}mapUnit(a,d){const f=d.selections;if(!f||!f.length)return a;let g;const h=(null!=(g=d.path)?g:[]).concat(a.name);d=[];for(const p of f)if(p.views&&p.views.length)for(const C of p.views)(l.isString(C)&&
(C===a.name||h.includes(C))||l.isArray(C)&&C.map(P=>h.indexOf(P)).every((P,aa,sa)=>-1!==P&&(0===aa||P>sa[aa-1])))&&d.push(p);else d.push(p);d.length&&(a.params=d);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const d=Tl.prototype[a];Tl.prototype[a]=function(f,g){var h=d,p=h.call;let C;var P=f.name?Object.assign({},g,{path:(null!=(C=g.path)?C:[]).concat(f.name)}):g;return p.call(h,this,f,P)}}const qo=new oo,Vn=new po,ro=new Tl,fn=["background","padding"];class gj{constructor(){let a=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new gj(we(this.explicit),we(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(a){return U(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,
d){let {value:f,explicit:g}=d;void 0!==f&&this.set(a,f,g)}set(a,d,f){delete this[f?"implicit":"explicit"][a];this[f?"explicit":"implicit"][a]=d;return this}copyKeyFromSplit(a,d){let {explicit:f,implicit:g}=d;void 0!==f[a]?this.set(a,f[a],!0):void 0!==g[a]&&this.set(a,g[a],!1)}copyKeyFromObject(a,d){void 0!==d[a]&&this.set(a,d[a],!0)}copyAll(a){for(const d of hd(a.combine())){const f=a.getWithExplicit(d);this.setWithExplicit(d,f)}}}class Xn extends gj{constructor(){let a=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{},d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,d);this.explicit=a;this.implicit=d;this.parseNothing=f}clone(){const a=super.clone();a.parseNothing=this.parseNothing;return a}}let hg=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup";return a}({});class Cf{constructor(a,d){this.debugName=d;V(this,"_children",[]);V(this,"_parent",null);
V(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,d){this._children.includes(a)?K("Attempt to add the same child twice."):void 0!==d?this._children.splice(d,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);
for(const d of this._children)d._parent=this._parent,this._parent.addChild(d,a++)}insertAsParentOf(a){const d=a.parent;d.removeChild(this);this.parent=d;a.parent=this}swapWithParent(){const a=this._parent,d=a.parent;for(var f of this._children)f.parent=a;this._children=[];a.removeChild(this);f=a.parent.removeChild(a);this._parent=d;d.addChild(this,f);a.parent=this}}class ih extends Cf{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;
a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,d,f,g){super(a,d);this.type=f;this.refCounts=g;V(this,"_source",void 0);V(this,"_name",void 0);this._source=this._name=d;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${ea()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=
a}}class Gi extends Cf{clone(){return new Gi(null,we(this.timeUnits))}constructor(a,d){super(a);this.timeUnits=d}static makeFromEncoding(a,d){const f=d.reduceFieldDef((g,h,p)=>{const {field:C,timeUnit:P}=h;if(P){let aa;if(Lb(P)){if(Qf(d)){const {mark:sa,markDef:ab,config:rb}=d,ac=m({fieldDef:h,markDef:ab,config:rb});if(fc(sa)||ac)aa={timeUnit:md(P),field:C}}}else aa={as:lc(h,{forAs:!0}),field:C,timeUnit:P};if(Qf(d)){const {mark:sa,markDef:ab,config:rb}=d;h=m({fieldDef:h,markDef:ab,config:rb});fc(sa)&&
I(p)&&.5!==h&&(aa.rectBandPosition=h)}aa&&(g[Db(aa)]=aa)}return g},{});return lb(f)?null:new Gi(a,f)}static makeFromTransform(a,d){var f=Object.assign({},d);d=Object.assign({},f);f=f.timeUnit;d=(delete d.timeUnit,d);f=md(f);d=Object.assign({},d,{timeUnit:f});return new Gi(a,{[Db(d)]:d})}merge(a){this.timeUnits=Object.assign({},this.timeUnits);for(const d in a.timeUnits)this.timeUnits[d]||(this.timeUnits[d]=a.timeUnits[d]);for(const d of a.children)a.removeChild(d),d.parent=this;a.remove()}removeFormulas(a){const d=
{};for(const f of li(this.timeUnits)){const [g,h]=f;a.has(void 0!==h.as?h.as:`${h.field}_end`)||(d[g]=h)}this.timeUnits=d}producedFields(){return new Set(wg(this.timeUnits).map(a=>void 0!==a.as?a.as:`${a.field}_end`))}dependentFields(){return new Set(wg(this.timeUnits).map(a=>a.field))}hash(){return`TimeUnit ${Db(this.timeUnits)}`}assemble(){const a=[];for(const h of wg(this.timeUnits)){const {rectBandPosition:p}=h,C=md(h.timeUnit);if(void 0!==h.as){const {field:P,as:aa}=h;var d=C,f=Object.assign({},
d),g=d.unit;d=d.utc;f=(delete f.unit,delete f.utc,f);const sa=[aa,`${aa}_end`];a.push(Object.assign({},{field:fb(P),type:"timeunit"},g?{units:$b(g)}:{},d?{timezone:"utc"}:{},f,{as:sa}));a.push(...Jb(sa,p,C))}else h&&({field:g}=h,g=g.replaceAll("\\.","."),d=Pa({timeUnit:C,field:g}),f=`${g}_end`,a.push({type:"formula",expr:d,as:f}),a.push(...Jb([g,f],p,C)))}return a}}class so{constructor(){V(this,"hasChannel",void 0);V(this,"hasField",void 0);V(this,"hasSelectionId",void 0);V(this,"timeUnit",void 0);
V(this,"items",void 0);for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];this.items=d;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const Hi={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,d)=>{const f=d.scales=[];for(const h of d.project.items){var g=h.channel;if(!Fh[g])continue;const p=(g=a.getScaleComponent(g))?g.get("type"):void 0;g&&Nd(p)?(g.set("selectionExtent",{param:d.name,field:h.field},!0),f.push(h)):K("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},
topLevelSignals:(a,d,f)=>{const g=d.scales.filter(p=>0===f.filter(C=>C.name===p.signals.data).length);if(!a.parent||t(a)||0===g.length)return f;a=f.filter(p=>p.name===d.name)[0];let h=a.update;if(0<=h.indexOf("vlSelectionResolve"))a.update=`{${g.map(p=>`${l.stringValue(fb(p.field))}: ${p.signals.data}`).join(", ")}}`;else{for(const p of g){const C=`${l.stringValue(fb(p.field))}: ${p.signals.data}`;h.includes(C)||(h=`${h.substring(0,h.length-1)}, ${C}}`)}a.update=h}return f.concat(g.map(p=>({name:p.signals.data})))},
signals:(a,d,f)=>{if(a.parent&&!t(a))for(const g of d.scales)a=f.filter(h=>h.name===g.signals.data)[0],a.push="outer",delete a.value,delete a.update;return f}},Cn={left:"x",center:"xc",right:"x2"},Wl={top:"y",middle:"yc",bottom:"y2"},Mk=new Set(["aria","width","height"]),jn={defined:a=>"point"===a.type&&a.nearest,parse:(a,d)=>{if(d.events)for(const f of d.events)f.markname=a.getName("voronoi")},marks:(a,d,f)=>{const {x:g,y:h}=d.project.hasChannel;d=a.mark;if(cb(d))return K(`The "nearest" transform is not supported for ${d} marks.`),
f;d={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Tb(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:g||!h?"datum.datum.x || 0":"0"},y:{expr:h||!g?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let p=0,C=!1;f.forEach((P,aa)=>{let sa;P=null!=(sa=P.name)?sa:"";P===a.component.mark[0].name?
p=aa:0<=P.indexOf("voronoi")&&(C=!0)});C||f.splice(p+1,0,d);return f}},Xl={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!Kg(a.bind),parse:(a,d,f)=>sg(d,f),topLevelSignals:(a,d,f)=>{const g=d.name;a=d.project;const h=d.bind,p=d.init&&d.init[0],C=jn.defined(d)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((P,aa)=>{const sa=ua(`${g}_${P.field}`);if(!f.filter(ab=>ab.name===sa).length){let ab,rb;f.unshift(Object.assign({},{name:sa},p?{init:uh(p[aa])}:
{value:null},{on:d.events?[{events:d.events,update:`datum && item().mark.marktype !== 'group' ? ${C}[${l.stringValue(P.field)}] : null`}]:[],bind:null!=(rb=null!=(ab=h[P.field])?ab:h[P.channel])?rb:h}))}});return f},signals:(a,d,f)=>{const g=d.name;var h=d.project;a=f.filter(C=>C.name===g+"_tuple")[0];d=g+"_tuple_fields";h=h.items.map(C=>ua(`${g}_${C.field}`));const p=h.map(C=>`${C} !== null`).join(" \x26\x26 ");h.length&&(a.update=`${p} ? {fields: ${d}, values: [${h.join(", ")}]} : null`);delete a.value;
delete a.on;return f}},Vl={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,d,f)=>f.concat({name:d.name+"_toggle",value:!1,on:[{events:d.events,update:d.toggle}]}),modifyExpr:(a,d)=>{const f=d.name+"_tuple",g=d.name+"_toggle";return`${g} ? null : ${f}, `+("global"===d.resolve?`${g} ? null : true, `:`${g} ? null : {unit: ${Hf(a)}}, `)+`${g} ? ${f} : null`}},Ul={defined:a=>{const d="global"===a.resolve&&a.bind&&Kg(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;d&&!a&&K("Legend bindings are only supported for selections over an individual field or encoding channel.");
return d&&a},parse:(a,d,f)=>{a=we(f);a.select=l.isString(a.select)?{type:a.select,toggle:d.toggle}:Object.assign({},a.select,{toggle:d.toggle});sg(d,a);if(l.isObject(f.select)&&(f.select.on||f.select.clear))for(const g of d.events){let h;g.filter=l.array(null!=(h=g.filter)?h:[]);g.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||g.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}f=Mh(d.bind)?d.bind.legend:"click";f=l.isString(f)?
l.parseSelector(f,"view"):l.array(f);d.bind={legend:{merge:f}}},topLevelSignals:(a,d,f)=>{a=d.name;const g=Mh(d.bind)&&d.bind.legend,h=C=>P=>{P=we(P);P.markname=C;return P};for(const C of d.project.items){if(!C.hasLegend)continue;var p=`${ua(C.field)}_legend`;const P=`${a}_${p}`;0===f.filter(aa=>aa.name===P).length&&(p=g.merge.map(h(`${p}_symbols`)).concat(g.merge.map(h(`${p}_labels`))).concat(g.merge.map(h(`${p}_entries`))),f.unshift(Object.assign({},{name:P},d.init?{}:{value:null},{on:[{events:p,
update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:g.merge,update:`!event.item || !datum ? null : ${P}`,force:!0}]})))}return f},signals:(a,d,f)=>{const g=d.name;var h=d.project;a=f.find(C=>C.name===g+"_tuple");var p=g+"_tuple_fields";h=h.items.filter(C=>C.hasLegend).map(C=>ua(`${g}_${ua(C.field)}_legend`));p=`${h.map(C=>`${C} !== null`).join(" \x26\x26 ")} ? {fields: ${p}, values: [${h.join(", ")}]} : null`;d.events&&0<h.length?a.on.push({events:h.map(C=>
({signal:C})),update:p}):0<h.length&&(a.update=p,delete a.value,delete a.on);a=f.find(C=>C.name===g+"_toggle");p=Mh(d.bind)&&d.bind.legend;a&&(d.events?a.on.push(Object.assign({},a.on[0],{events:p})):a.on[0].events=p);return f}},si=[{defined:a=>"point"===a.type,signals:(a,d,f)=>{const g=d.name,h=g+"_tuple_fields";var p=d.project,C,P=wg(null!=(C=a.component.selection)?C:{}).reduce((aa,sa)=>"interval"===sa.type?aa.concat(sa.name+"_brush"):aa,[]).map(aa=>`indexof(item().mark.name, '${aa}') < 0`).join(" \x26\x26 ");
C=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${P?` && ${P}`:""}`;P=`unit: ${Hf(a)}, `;d.project.hasSelectionId?P+=`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${l.stringValue("_vgsid_")}]`:(p=p.items.map(aa=>{let sa;return(null==(sa=a.fieldDef(aa.channel))?0:sa.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${l.stringValue(a.vgField(aa.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${l.stringValue(a.vgField(aa.channel,
{binSuffix:"end"}))}]]`:`${"(item().isVoronoi ? datum.datum : datum)"}[${l.stringValue(aa.field)}]`}).join(", "),P+=`fields: ${h}, values: [${p}]`);d=d.events;return f.concat([{name:g+"_tuple",on:d?[{events:d,update:`${C} ? {${P}} : null`,force:!0}]:[]}])}},{defined:a=>"interval"===a.type,parse:(a,d,f)=>{a.hasProjection&&(a=Object.assign({},l.isObject(f.select)?f.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=f.value?hd(f.value):["longitude","latitude"]),f.select=Object.assign({},{type:"interval"},
a));if(d.translate&&!Hi.defined(d)){f=`!event.item || event.item.mark.name !== ${l.stringValue(d.name+"_brush")}`;for(const g of d.events){if(!g.between){K(`${g} is not an ordered event stream for interval selections.`);continue}let h,p;d=l.array(null!=(p=(h=g.between[0]).filter)?p:h.filter=[]);0>d.indexOf(f)&&d.push(f)}}},signals:(a,d,f)=>{var g=d.name;const h=g+"_tuple";var p=wg(d.project.hasChannel).filter(ab=>"x"===ab.channel||"y"===ab.channel);const C=d.init?d.init[0]:null;f.push(...p.reduce((ab,
rb)=>ab.concat(M(a,d,rb,C&&C[rb.index])),[]));if(a.hasProjection){var P=l.stringValue(a.projectionName());const ab=a.projectionName()+"_center",{x:rb,y:ac}=d.project.hasChannel;var aa=rb&&rb.signals.visual;const Dc=ac&&ac.signals.visual;var sa=rb?C&&C[rb.index]:`${ab}[0]`;const gc=ac?C&&C[ac.index]:`${ab}[1]`;aa="["+`[${aa?aa+"[0]":"0"}, ${Dc?Dc+"[0]":"0"}],`+`[${aa?aa+"[1]":a.getSizeSignalRef("width").signal}, `+`${Dc?Dc+"[1]":a.getSizeSignalRef("height").signal}]`+"]";C&&(f.unshift({name:g+"_init",
init:`[scale(${P}, [${rb?sa[0]:sa}, ${ac?gc[0]:gc}]), `+`scale(${P}, [${rb?sa[1]:sa}, ${ac?gc[1]:gc}])]`}),rb&&ac||f.find(Cc=>Cc.name===ab)||f.unshift({name:ab,update:`invert(${P}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));g=`intersect(${aa}, {markname: ${l.stringValue(a.getName("marks"))}}, unit.mark)`;P=`{unit: ${Hf(a)}}`;g=`vlSelectionTuples(${g}, ${P})`;p=p.map(Cc=>Cc.signals.visual);return f.concat({name:h,on:[{events:[...(p.length?[{signal:p.join(" || ")}]:
[]),...(C?[{signal:"geo_interval_init_tick"}]:[])],update:g}]})}Hi.defined(d)||(P=g+"_scale_trigger",sa=p.map(ab=>{var rb=ab.channel;const {data:ac,visual:Dc}=ab.signals;ab=l.stringValue(a.scaleName(rb));rb=a.getScaleComponent(rb).get("type");rb=Nd(rb)?"+":"";return`(!isArray(${ac}) || `+`(${rb}invert(${ab}, ${Dc})[0] === ${rb}${ac}[0] && `+`${rb}invert(${ab}, ${Dc})[1] === ${rb}${ac}[1]))`}),sa.length&&f.push({name:P,value:{},on:[{events:p.map(ab=>({scale:a.scaleName(ab.channel)})),update:sa.join(" \x26\x26 ")+
` ? ${P} : {}`}]}));p=p.map(ab=>ab.signals.data);g=`unit: ${Hf(a)}, fields: ${g+"_tuple_fields"}, values`;return f.concat(Object.assign({},{name:h},C?{init:`{${g}: ${uh(C)}}`}:{},p.length?{on:[{events:[{signal:p.join(" || ")}],update:`${p.join(" \x26\x26 ")} ? {${g}: [${p}]} : null`}]}:{}))},topLevelSignals:(a,d,f)=>{Qf(a)&&a.hasProjection&&d.init&&(f.filter(g=>"geo_interval_init_tick"===g.name).length||f.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));
return f},marks:(a,d,f)=>{const g=d.name,{x:h,y:p}=d.project.hasChannel,C=null==h?void 0:h.signals.visual,P=null==p?void 0:p.signals.visual;var aa=`data(${l.stringValue(d.name+"_store")})`;if(Hi.defined(d)||!h&&!p)return f;const sa={x:void 0!==h?{signal:`${C}[0]`}:{value:0},y:void 0!==p?{signal:`${P}[0]`}:{value:0},x2:void 0!==h?{signal:`${C}[1]`}:{field:{group:"width"}},y2:void 0!==p?{signal:`${P}[1]`}:{field:{group:"height"}}};if("global"===d.resolve)for(var ab of hd(sa))sa[ab]=[Object.assign({},
{test:`${aa}.length && ${aa}[0].unit === ${Hf(a)}`},sa[ab]),{value:0}];ab=d.mark;aa=Object.assign({},ab);a=ab.fill;d=ab.fillOpacity;ab=ab.cursor;const rb=(delete aa.fill,delete aa.fillOpacity,delete aa.cursor,aa);aa=hd(rb).reduce((ac,Dc)=>{ac[Dc]=[{test:[void 0!==h&&`${C}[0] !== ${C}[1]`,void 0!==p&&`${P}[0] !== ${P}[1]`].filter(gc=>gc).join(" \x26\x26 "),value:rb[Dc]},{value:null}];return ac},{});return[{name:`${g+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:d}},
update:sa}},...f,{name:g+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},ab?{cursor:{value:ab}}:{},{fill:{value:"transparent"}}),update:Object.assign({},sa,aa)}}]}},{defined:()=>!0,parse:(a,d,f)=>{const g=d.name;var h;const p=null!=(h=d.project)?h:d.project=new so,C={};h={};const P=new Set,aa=(Vc,Od)=>{Vc="visual"===Od?Vc.channel:Vc.field;let Fd=ua(`${g}_${Vc}`);for(let ie=1;P.has(Fd);ie++)Fd=ua(`${g}_${Vc}_${ie}`);P.add(Fd);return{[Od]:Fd}},sa=d.type,ab=a.config.selection[sa],rb=void 0!==
f.value?l.array(f.value):null;let {fields:ac,encodings:Dc}=l.isObject(f.select)?f.select:{};if(!ac&&!Dc&&rb)for(var gc of rb)if(l.isObject(gc))for(const Vc of hd(gc))if(Fl[Vc])(Dc||(Dc=[])).push(Vc);else if("interval"===sa)K('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),Dc=ab.encodings;else{let Od;(null!=(Od=ac)?Od:ac=[]).push(Vc)}ac||Dc||(Dc=ab.encodings,"fields"in ab&&(ac=ab.fields));var Cc;for(const Vc of null!=(Cc=Dc)?Cc:[])(Cc=a.fieldDef(Vc))?(f=
Cc.field,Cc.aggregate?K(`Cannot project a selection on encoding channel "${Vc}" as it uses an aggregate function ("${Cc.aggregate}").`):f?(Cc.timeUnit&&!Lb(Cc.timeUnit)&&(f=a.vgField(Vc),gc={timeUnit:Cc.timeUnit,as:f,field:Cc.field},h[Db(gc)]=gc),C[f]||(Cc="interval"===sa&&Fh[Vc]&&Nd(a.getScaleComponent(Vc).get("type"))?"R":Cc.bin?"R-RE":"E",Cc={field:f,channel:Vc,type:Cc,index:p.items.length},Cc.signals=Object.assign({},aa(Cc,"data"),aa(Cc,"visual")),p.items.push(C[f]=Cc),p.hasField[f]=C[f],p.hasSelectionId=
p.hasSelectionId||"_vgsid_"===f,Vc in El?(Cc.geoChannel=Vc,Cc.channel=F(Vc),p.hasChannel[Cc.channel]=C[f]):p.hasChannel[Vc]=C[f])):K(Gb(Vc))):K(Gb(Vc));let Tc;for(const Vc of null!=(Tc=ac)?Tc:[])p.hasField[Vc]||(a={type:"E",field:Vc,index:p.items.length},a.signals=Object.assign({},aa(a,"data")),p.items.push(a),p.hasField[Vc]=a,p.hasSelectionId=p.hasSelectionId||"_vgsid_"===Vc);rb&&(d.init=rb.map(Vc=>p.items.map(Od=>l.isObject(Vc)?void 0!==Vc[Od.geoChannel||Od.channel]?Vc[Od.geoChannel||Od.channel]:
Vc[Od.field]:Vc)));lb(h)||(p.timeUnit=new Gi(null,h))},signals:(a,d,f)=>{const g=d.name+"_tuple_fields";return 0<f.filter(h=>h.name===g).length||d.project.hasSelectionId?f:f.concat({name:g,value:d.project.items.map(Dg)})}},Vl,Xl,Hi,Ul,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,d)=>{d.clear&&(d.clear=l.isString(d.clear)?l.parseSelector(d.clear,"view"):d.clear)},topLevelSignals:(a,d,f)=>{if(Xl.defined(d))for(const g of d.project.items)a=f.findIndex(h=>h.name===ua(`${d.name}_${g.field}`)),-1!==
a&&f[a].on.push({events:d.clear,update:"null"});return f},signals:(a,d,f)=>{function g(h,p){-1!==h&&f[h].on&&f[h].on.push({events:d.clear,update:p})}if("interval"===d.type)for(const h of d.project.items)a=f.findIndex(p=>p.name===h.signals.visual),g(a,"[0, 0]"),-1===a&&(a=f.findIndex(p=>p.name===h.signals.data),g(a,"null"));else a=f.findIndex(h=>h.name===d.name+"_tuple"),g(a,"null"),Vl.defined(d)&&(a=f.findIndex(h=>h.name===d.name+"_toggle"),g(a,"false"));return f}},{defined:a=>"interval"===a.type&&
a.translate,signals:(a,d,f)=>{const g=d.name,h=Hi.defined(d),p=g+"_translate_anchor",{x:C,y:P}=d.project.hasChannel;let aa=l.parseSelector(d.translate,"scope");h||(aa=aa.map(sa=>(sa.between[0].markname=g+"_brush",sa)));f.push({name:p,value:{},on:[{events:aa.map(sa=>sa.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==C?`, extent_x: ${h?cc(a,"x"):`slice(${C.signals.visual})`}`:"")+(void 0!==P?`, extent_y: ${h?cc(a,"y"):`slice(${P.signals.visual})`}`:"")+"}"}]},{name:g+"_translate_delta",value:{},
on:[{events:aa,update:`{x: ${p}.x - x(unit), y: ${p}.y - y(unit)}`}]});void 0!==C&&jg(a,d,C,"width",f);void 0!==P&&jg(a,d,P,"height",f);return f}},{defined:a=>"interval"===a.type&&a.zoom,signals:(a,d,f)=>{const g=d.name,h=Hi.defined(d),p=g+"_zoom_delta",{x:C,y:P}=d.project.hasChannel,aa=l.stringValue(a.scaleName("x")),sa=l.stringValue(a.scaleName("y"));let ab=l.parseSelector(d.zoom,"scope");h||(ab=ab.map(rb=>(rb.markname=g+"_brush",rb)));f.push({name:g+"_zoom_anchor",on:[{events:ab,update:h?"{"+[aa?
`x: invert(${aa}, x(unit))`:"",sa?`y: invert(${sa}, y(unit))`:""].filter(rb=>rb).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:p,on:[{events:ab,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==C&&bi(a,d,C,"width",f);void 0!==P&&bi(a,d,P,"height",f);return f}},jn];class rk extends Cf{clone(){return new rk(null,this.model,we(this.filter))}constructor(a,d,f){super(a);this.model=d;this.filter=f;V(this,"expr",void 0);V(this,"_dependentFields",void 0);this.expr=dg(this.model,
this.filter,this);this._dependentFields=Wj(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}const Kj={scale:a=>{let {model:d,channel:f}=a;return d.scaleName(f)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=a);return a},grid:a=>{let {fieldOrDatumDef:d,axis:f,scaleType:g}=a,h;return null!=(h=f.grid)?h:!Fe(g)&&Oa(d)&&!zb(null==d?void 0:d.bin)&&!kb(null==d?
void 0:d.bin)},gridScale:a=>{let {model:d,channel:f}=a;a="x"===f?"y":"x";a=d.getScaleComponent(a)?d.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:d,labelAngle:f,orient:g,channel:h}=a;return d.labelAlign||Ak(f,g,h)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:d,labelAngle:f,orient:g,channel:h}=a;return d.labelBaseline||Jg(f,g,h)},labelFlush:a=>{let {axis:d,fieldOrDatumDef:f,channel:g}=a;null==(a=d.labelFlush)&&(a="x"===g&&wb(["quantitative","temporal"],f.type)?
!0:void 0);return a},labelOverlap:a=>{let {axis:d,fieldOrDatumDef:f,scaleType:g}=a;if(null==(a=d.labelOverlap)){a=f.type;var h=Oa(f)&&!!f.timeUnit,p=Oa(f)?f.sort:void 0;a=h&&!l.isObject(p)||"nominal"!==a&&"ordinal"!==a?"log"===g||"symlog"===g?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:d,model:f,axis:g,fieldOrDatumDef:h,scaleType:p}=a;a=(a="x"===d?"width":"y"===d?"height":void 0)?f.getSizeSignalRef(a):void 0;let C;if(null!=(C=g.tickCount))var P=C;else a:{let {fieldOrDatumDef:aa,
scaleType:sa,size:ab,values:rb}={fieldOrDatumDef:h,scaleType:p,size:a,values:g.values};if(rb||Fe(sa)||"log"===sa)P=void 0;else{if(Oa(aa)){if(zb(aa.bin)){P={signal:`ceil(${ab.signal}/10)`};break a}if(aa.timeUnit&&wb(["month","hours","day","quarter"],null==(P=md(aa.timeUnit))?void 0:P.unit)){P=void 0;break a}}P={signal:`ceil(${ab.signal}/40)`}}}return P},tickMinStep:function(a){let {format:d,fieldOrDatumDef:f}=a;if("d"===d)return 1;if(Oa(f)&&({timeUnit:a}=f,a&&(a=yd(a))))return{signal:a}},title:a=>
{let {axis:d,model:f,channel:g}=a;if(void 0!==d.title)return d.title;a=Ck(f,g);if(void 0!==a)return a;a=f.typedFieldDef(g);const h=f.fieldDef("x"===g?"x2":"y2");return oa(a?[qa(a)]:[],Oa(h)?[qa(h)]:[])},values:a=>{let {axis:d,fieldOrDatumDef:f}=a;a=d.values;a=l.isArray(a)?yf(f,a):Pb(a)?a:void 0;return a},zindex:a=>{let {axis:d,fieldOrDatumDef:f,mark:g}=a;null==(a=d.zindex)&&(a="rect"===g&&ud(f)?1:0);return a}};class ti extends Cf{clone(){return new ti(null,we(this.transform))}constructor(a,d){super(a);
this.transform=d;V(this,"_dependentFields",void 0);this._dependentFields=Wj(this.transform.calculate)}static parseAllForSortIndex(a,d){d.forEachFieldDef((f,g)=>{if(Ed(f)&&re(f.sort)){const {field:p,timeUnit:C}=f;var h=f.sort;h=h.map((P,aa)=>`${xe({field:p,timeUnit:C,equal:P})} ? ${aa} : `).join("")+h.length;a=new ti(a,{calculate:h,as:cj(f,g,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",
expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Db(this.transform)}`}}const vl=["row","column"],Nk=["header","footer"],wn={column:{start:0,end:1},row:{start:1,end:0}},xn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,
labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,
titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),jh=hd(xn);class $n extends gj{}const lj={symbols:function(a,d){let {fieldOrDatumDef:f,model:g,channel:h,legendCmpt:p,legendType:C}=d;if("symbol"===C){var {markDef:P,encoding:aa,config:sa,mark:ab}=g;d=P.filled&&"trail"!==ab;var rb=Object,ac=rb.assign,Dc={};for(var gc of Bn){const ie=
jc(gc,g.markDef,g.config);void 0!==ie&&(Dc[gc]=Va(ie))}gc=ac.call(rb,{},Dc,Qc(g,{filled:d}));var Cc;rb=null!=(Cc=p.get("symbolOpacity"))?Cc:sa.legend.symbolOpacity;var Tc;Cc=null!=(Tc=p.get("symbolFillColor"))?Tc:sa.legend.symbolFillColor;var Vc;Tc=null!=(Vc=p.get("symbolStrokeColor"))?Vc:sa.legend.symbolStrokeColor;var Od;Vc=void 0===rb?null!=(Od=H(aa.opacity))?Od:P.opacity:void 0;if(gc.fill)if("fill"===h||d&&"color"===h)delete gc.fill;else if(gc.fill.field)if(Cc)delete gc.fill;else{let ie;gc.fill=
Va(null!=(ie=sa.legend.symbolBaseFillColor)?ie:"black");gc.fillOpacity=Va(null!=Vc?Vc:1)}else if(l.isArray(gc.fill)){var Fd;let ie,Td;if(Od=null!=(Td=null!=(ie=O(null!=(Fd=aa.fill)?Fd:aa.color))?ie:P.fill)?Td:d&&P.color)gc.fill=Va(Od)}gc.stroke&&("stroke"===h||!d&&"color"===h?delete gc.stroke:gc.stroke.field||Tc?delete gc.stroke:l.isArray(gc.stroke)&&(Fd=U(O(aa.stroke||aa.color),P.stroke,d?P.color:void 0))&&(gc.stroke={value:Fd}));"opacity"!==h&&((Fd=Oa(f)&&$a(g,p,f))?gc.opacity=[Object.assign({},
{test:Fd},Va(null!=Vc?Vc:1)),Va(sa.legend.unselectedOpacity)]:Vc&&(gc.opacity=Va(Vc)));gc=Object.assign({},gc,a);return lb(gc)?void 0:gc}},gradient:function(a,d){let {model:f,legendType:g,legendCmpt:h}=d;if("gradient"===g){var {config:p,markDef:C,encoding:P}=f;d={};var aa,sa=void 0===(null!=(aa=h.get("gradientOpacity"))?aa:p.legend.gradientOpacity)?H(P.opacity)||C.opacity:void 0;sa&&(d.opacity=Va(sa));d=Object.assign({},d,a);return lb(d)?void 0:d}},labels:function(a,d){let {fieldOrDatumDef:f,model:g,
channel:h,legendCmpt:p}=d;var C=g.legend(h)||{};d=g.config;var P=Oa(f)?$a(g,p,f):void 0;P=P?[{test:P,value:1},{value:d.legend.unselectedOpacity}]:void 0;const {format:aa,formatType:sa}=C;C=void 0;qe(sa)?C=ce({fieldOrDatumDef:f,field:"datum.value",format:aa,formatType:sa,config:d}):void 0===aa&&void 0===sa&&d.customFormatTypes&&("quantitative"===f.type&&d.numberFormatType?C=ce({fieldOrDatumDef:f,field:"datum.value",format:d.numberFormat,formatType:d.numberFormatType,config:d}):"temporal"===f.type&&
d.timeFormatType&&Oa(f)&&void 0===f.timeUnit&&(C=ce({fieldOrDatumDef:f,field:"datum.value",format:d.timeFormat,formatType:d.timeFormatType,config:d})));a=Object.assign({},P?{opacity:P}:{},C?{text:C}:{},a);return lb(a)?void 0:a},entries:function(a,d){({legendCmpt:d}=d);let f;return(null==(f=d.get("selections"))?0:f.length)?Object.assign({},a,{fill:{value:"transparent"}}):a}},bl={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:d,legend:f,config:g}=a;const {format:h,formatType:p}=
f;return jf(d,d.type,h,p,g,!1)},formatType:a=>{let {legend:d,fieldOrDatumDef:f,scaleType:g}=a;({formatType:a}=d);return rf(a,f,g)},gradientLength:a=>{const {legend:d,legendConfig:f}=a;let g,h;if(null!=(h=null!=(g=d.gradientLength)?g:f.gradientLength))a=h;else{{let {legendConfig:p,model:C,direction:P,orient:aa,scaleType:sa}=a;const {gradientHorizontalMaxLength:ab,gradientHorizontalMinLength:rb,gradientVerticalMaxLength:ac,gradientVerticalMinLength:Dc}=p;a=cg.has(sa)?"horizontal"===P?"top"===aa||"bottom"===
aa?hb(C,"width",rb,ab):rb:hb(C,"height",Dc,ac):void 0}}return a},labelOverlap:a=>{let {legend:d,legendConfig:f,scaleType:g}=a;var h;h=null!=(a=null!=(h=d.labelOverlap)?h:f.labelOverlap)?a:wb(["quantile","threshold","log","symlog"],g)?"greedy":void 0;return h},symbolType:a=>{let {legend:d,markDef:f,channel:g,encoding:h}=a;if(null!=(a=d.symbolType))var p=a;else a:{a=f.type;var C=f.shape;if("shape"!==g){const P=null!=(p=O(h.shape))?p:C;if(P){p=P;break a}}switch(a){case "bar":case "rect":case "image":case "square":p=
"square";break a;case "line":case "trail":case "rule":p="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":p="circle";break a}p=void 0}return p},title:a=>{let {fieldOrDatumDef:d,config:f}=a;return be(d,f,{allowDisabling:!0})},type:a=>{let {legendType:d,scaleType:f,channel:g}=a;if(N(g)&&cg.has(f)){if("gradient"===d)return}else if("symbol"===d)return;return d},values:a=>{let {fieldOrDatumDef:d,legend:f}=a;a=f.values;a=l.isArray(a)?yf(d,a):Pb(a)?
a:void 0;return a}},tk="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class al extends gj{constructor(a,d,f,g){super(Object.assign({},d),{name:a});this.specifiedProjection=d;this.size=f;this.data=g;V(this,"merged",!1)}get isFit(){return!!this.data}}class kh extends Cf{clone(){return new kh(null,we(this.bins))}constructor(a,d){super(a);this.bins=d}static makeFromEncoding(a,d){const f=d.reduceFieldDef((g,
h,p)=>{if(Jc(h)&&zb(h.bin)){const {key:rb,binComponent:ac}=Gd(h,h.bin,d);var C=Object,P=C.assign,aa=g[rb];var sa=d.config;if(Tf(h,p)){var ab;let Dc;const gc=Qf(d)?null!=(Dc=null!=(ab=d.axis(p))?ab:d.legend(p))?Dc:{}:{};p=lc(h,{expr:"datum"});ab=lc(h,{expr:"datum",binSuffix:"end"});h={formulaAs:lc(h,{binSuffix:"range",forAs:!0}),formula:ef(p,ab,gc.format,gc.formatType,sa)}}else h={};g[rb]=P.call(C,{},ac,aa,h)}return g},{});return lb(f)?null:new kh(a,f)}static makeFromTransform(a,d,f){const {key:g,
binComponent:h}=Gd(d,d.bin,f);return new kh(a,{[g]:h})}merge(a,d){for(const f of hd(a.bins))f in this.bins?(d(a.bins[f].signal,this.bins[f].signal),this.bins[f].as=bb([...this.bins[f].as,...a.bins[f].as],Db)):this.bins[f]=a.bins[f];for(const f of a.children)a.removeChild(f),f.parent=this;a.remove()}producedFields(){return new Set(wg(this.bins).map(a=>a.as).flat(2))}dependentFields(){return new Set(wg(this.bins).map(a=>a.field))}hash(){return`Bin ${Db(this.bins)}`}assemble(){return wg(this.bins).flatMap(a=>
{const d=[],[f,...g]=a.as;var h=a.bin,p=Object.assign({},h);h=h.extent;p=(delete p.extent,p);p=Object.assign({},{type:"bin",field:fb(a.field),as:f,signal:a.signal},Vb(h)?{extent:null}:{extent:h},a.span?{span:{signal:`span(${a.span})`}}:{},p);!h&&a.extentSignal&&(d.push({type:"extent",field:fb(a.field),signal:a.extentSignal}),p.extent={signal:a.extentSignal});d.push(p);for(const C of g)for(h=0;2>h;h++)d.push({type:"formula",expr:lc({field:f[h]},{expr:"datum"}),as:C[h]});a.formula&&d.push({type:"formula",
expr:a.formula,as:a.formulaAs});return d})}}class Gh extends Cf{clone(){return new Gh(null,new Set(this.dimensions),we(this.measures))}constructor(a,d,f){super(a);this.dimensions=d;this.measures=f}get groupBy(){return this.dimensions}static makeFromEncoding(a,d){let f=!1;d.forEachFieldDef(p=>{p.aggregate&&(f=!0)});const g={},h=new Set;if(!f)return null;d.forEachFieldDef((p,C)=>{const {aggregate:P,field:aa}=p;if(P)if("count"===P)null!=g["*"]||(g["*"]={}),g["*"].count=new Set([lc(p,{forAs:!0})]);else{if(ia(P)||
Ca(P)){p=ia(P)?"argmin":"argmax";var sa=P[p];null!=g[sa]||(g[sa]={});g[sa][p]=new Set([lc({op:p,field:sa},{forAs:!0})])}else null!=g[aa]||(g[aa]={}),g[aa][P]=new Set([lc(p,{forAs:!0})]);Fh[C]&&"unaggregated"===d.scaleDomain(C)&&(null!=g[aa]||(g[aa]={}),g[aa].min=new Set([lc({field:aa,aggregate:"min"},{forAs:!0})]),g[aa].max=new Set([lc({field:aa,aggregate:"max"},{forAs:!0})]))}else{var ab=Qf(d)?d.encoding[A(C)]:void 0;if(Jc(p)&&Qf(d)&&L(p,ab,d.markDef,d.config)){h.add(lc(p,{}));h.add(lc(p,{suffix:"end"}));
const {mark:rb,markDef:ac,config:Dc}=d;ab=m({fieldDef:p,markDef:ac,config:Dc});fc(rb)&&.5!==ab&&I(C)&&(h.add(lc(p,{suffix:"offsetted_rect_start"})),h.add(lc(p,{suffix:"offsetted_rect_end"})));p.bin&&Tf(p,C)&&h.add(lc(p,{binSuffix:"range"}))}else C in El?(C=F(C),h.add(d.getName(C))):h.add(lc(p));if(C=Ed(p))C=null==(sa=p.scale)?void 0:sa.range,C=l.isObject(C)&&"field"in C;C&&h.add(p.scale.range.field)}});return 0===h.size+hd(g).length?null:new Gh(a,h,g)}static makeFromTransform(a,d){const f=new Set,
g={};for(const p of d.aggregate){const {op:C,field:P,as:aa}=p;if(C)if("count"===C){let sa;null!=(sa=g)["*"]||(sa["*"]={});g["*"].count=new Set([aa?aa:lc(p,{forAs:!0})])}else{let sa,ab;null!=(sa=g)[ab=P]||(sa[ab]={});g[P][C]=new Set([aa?aa:lc(p,{forAs:!0})])}}let h;for(const p of null!=(h=d.groupby)?h:[])f.add(p);return 0===f.size+hd(g).length?null:new Gh(a,f,g)}merge(a){if(Ab(this.dimensions,a.dimensions)){var d=this.measures;a=a.measures;for(const f of hd(a)){const g=a[f];for(const h of hd(g))if(f in
d){let p;d[f][h]=new Set([...(null!=(p=d[f][h])?p:[]),...g[h]])}else d[f]={[h]:g[h]}}return!0}va("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...hd(this.measures)])}producedFields(){const a=new Set;for(const d of hd(this.measures))for(const f of hd(this.measures[d])){const g=this.measures[d][f];0===g.size?a.add(`${f}_${d}`):g.forEach(a.add,a)}return a}hash(){return`Aggregate ${Db({dimensions:this.dimensions,
measures:this.measures})}`}assemble(){const a=[],d=[],f=[];for(const g of hd(this.measures))for(const h of hd(this.measures[g]))for(const p of this.measures[g][h])f.push(p),a.push(h),d.push("*"===g?null:fb(g));return{type:"aggregate",groupby:[...this.dimensions].map(fb),ops:a,fields:d,as:f}}}class mj extends Cf{constructor(a,d,f,g){super(a);this.model=d;this.name=f;this.data=g;V(this,"column",void 0);V(this,"row",void 0);V(this,"facet",void 0);V(this,"childModel",void 0);for(const h of Rh)if(a=d.facet[h]){const {bin:p,
sort:C}=a;this[h]=Object.assign({},{name:d.getName(`${h}_domain`),fields:[lc(a),...(zb(p)?[lc(a,{binSuffix:"end"})]:[])]},me(C)?{sortField:C}:l.isArray(C)?{sortIndexField:cj(a,h)}:{})}this.childModel=d.child}hash(){let a="Facet";for(const d of Rh)this[d]&&(a+=` ${d.charAt(0)}:${Db(this[d])}`);return a}get fields(){const a=[];for(const d of Rh){let f;(null==(f=this[d])?0:f.fields)&&a.push(...this[d].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const d of Rh)this[d]&&(this[d].sortField&&
a.add(this[d].sortField.field),this[d].sortIndexField&&a.add(this[d].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const g of wh){var d=this.childModel.component.scales[g];if(d&&!d.merged){var f=d.get("type");d=d.get("range");Fe(f)&&Nb(d)&&(f=wk(this.childModel,g),(f=wl(f))?a[g]=f:K(Sb(g)))}}return a}assembleRowColumnHeaderData(a,d,f){const g={row:"y",column:"x",facet:void 0}[a],h=[],p=[],C=[];g&&f&&f[g]&&
(d?(h.push(`distinct_${f[g]}`),p.push("max")):(h.push(f[g]),p.push("distinct")),C.push(`distinct_${f[g]}`));const {sortField:P,sortIndexField:aa}=this[a];if(P){const {op:sa="min",field:ab}=P;h.push(ab);p.push(sa);C.push(lc(P,{forAs:!0}))}else aa&&(h.push(aa),p.push("max"),C.push(aa));return{name:this[a].name,source:null!=d?d:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},h.length?{fields:h,ops:p,as:C}:{})]}}assembleFacetHeaderData(a){const {columns:d}=this.model.layout,
{layoutHeaders:f}=this.model.component,g=[],h={};for(const aa of vl){for(const sa of Nk){let ab;var p=null!=(ab=f[aa]&&f[aa][sa])?ab:[];for(const rb of p){let ac;if(0<(null==(ac=rb.axes)?void 0:ac.length)){h[aa]=!0;break}}}h[aa]&&(p=`length(data("${this.facet.name}"))`,g.push({name:`${this.facet.name}_${aa}`,transform:[{type:"sequence",start:0,stop:"row"===aa?d?{signal:`ceil(${p} / ${d})`}:1:d?{signal:`min(${p}, ${d})`}:{signal:p}}]}))}const {row:C,column:P}=h;(C||P)&&g.unshift(this.assembleRowColumnHeaderData("facet",
null,a));return g}assemble(){const a=[];var d=null;const f=this.getChildIndependentFieldsWithStep(),{column:g,row:h,facet:p}=this;if(g&&h&&(f.x||f.y)){d=`cross_${this.column.name}_${this.row.name}`;var C;let P;const aa=[].concat(null!=(C=f.x)?C:[],null!=(P=f.y)?P:[]);C=aa.map(()=>"distinct");a.push({name:d,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:aa,ops:C}]})}for(const P of["column","row"])this[P]&&a.push(this.assembleRowColumnHeaderData(P,d,f));p&&(d=this.assembleFacetHeaderData(f))&&
a.push(...d);return a}}class Vg extends Cf{clone(){return new Vg(null,we(this._parse))}constructor(a,d){super(a);V(this,"_parse",void 0);this._parse=d}hash(){return`Parse ${Db(this._parse)}`}static makeExplicit(a,d,f){let g={};d=d.data;let h;!fh(d)&&(null==d?0:null==(h=d.format)?0:h.parse)&&(g=d.format.parse);return this.makeWithAncestors(a,g,{},f)}static makeWithAncestors(a,d,f,g){for(var h of hd(f)){const C=g.getWithExplicit(h);void 0!==C.value&&(C.explicit||C.value===f[h]||"derived"===C.value||
"flatten"===f[h]?delete f[h]:K(Bc(h,f[h],C.value)))}for(var p of hd(d))h=g.get(p),void 0!==h&&(h===d[p]?delete d[p]:K(Bc(p,d[p],h)));d=new gj(d,f);g.copyAll(d);f={};for(const C of hd(d.combine()))p=d.get(C),null!==p&&(f[C]=p);return 0===hd(f).length||g.parseNothing?null:new Vg(a,f)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const d of hd(this._parse)){const f=this._parse[d];1===Na(d)&&(a[d]=f)}return a}producedFields(){return new Set(hd(this._parse))}dependentFields(){return new Set(hd(this._parse))}assembleTransforms(){let a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return hd(this._parse).filter(d=>a?1<Na(d):!0).map(d=>{const f=qf(d,this._parse[d]);return f?{type:"formula",expr:f,as:Rb(d)}:null}).filter(d=>null!==d)}}class fj extends Cf{clone(){return new fj(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class Ik extends Cf{clone(){return new Ik(null,this.params)}constructor(a,
d){super(a);this.params=d}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Db(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class Gl extends Cf{clone(){return new Gl(null,this.params)}constructor(a,d){super(a);this.params=d}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${Db(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},
this.params)}}class Ej extends Cf{constructor(a){super(null);V(this,"_data",void 0);V(this,"_name",void 0);V(this,"_generator",void 0);null!=a||(a={name:"source"});let d;fh(a)||(d=a.format?Object.assign({},ec(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!d.type){let f=/(?:\.([^.]+))?$/.exec(a.url)[1];wb(["json","csv","tsv","dsv","topojson"],f)||(f="json");d.type=f}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(tj(a)||
fh(a))this._data={};this._generator=fh(a);a.name&&(this._name=a.name);d&&!lb(d)&&(this._data.format=d)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},
{name:this._name},this._data,{transform:[]})}}var Ok=new WeakMap;class tl{constructor(){if(Ok.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");Ok.set(this,{writable:!0,value:void 0});w(this,Ok,!1)}setModified(){w(this,Ok,!0)}get modifiedFlag(){var a=da(this,Ok,"get");return a.get?a.get.call(this):a.value}}class Ni extends tl{getNodeDepths(a,d,f){f.set(a,d);for(const g of a.children)this.getNodeDepths(g,d+1,f);return f}optimize(a){a=[...this.getNodeDepths(a,
0,new Map).entries()].sort((d,f)=>f[1]-d[1]);for(const d of a)this.run(d[0]);return this.modifiedFlag}}class Pk extends tl{optimize(a){this.run(a);for(const d of a.children)this.optimize(d);return this.modifiedFlag}}class il extends Pk{mergeNodes(a,d){const f=d.shift();for(const g of d)a.removeChild(g),g.parent=f,g.remove()}run(a){const d=a.children.map(g=>g.hash()),f={};for(let g=0;g<d.length;g++)void 0===f[d[g]]?f[d[g]]=[a.children[g]]:f[d[g]].push(a.children[g]);for(const g of hd(f))1<f[g].length&&
(this.setModified(),this.mergeNodes(a,f[g]))}}class Hh extends Pk{constructor(a){super();V(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&Wf(a)}run(a){!(a instanceof fj)||this.requiresSelectionId&&(Pg(a.parent)||a.parent instanceof Gh||a.parent instanceof Vg)||(this.setModified(),a.remove())}}class Lj extends tl{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,d){let f=new Set;a instanceof Gi&&(f=a.producedFields(),xb(f,d)&&(this.setModified(),a.removeFormulas(d),0===
a.producedFields.length&&a.remove()));for(const g of a.children)this.run(g,new Set([...d,...f]))}}class Yl extends Pk{constructor(){super()}run(a){a instanceof ih&&!a.isRequired()&&(this.setModified(),a.remove())}}class Uj extends Ni{run(a){if(!(Pg(a)||1<a.numChildren()))for(const d of a.children)d instanceof Vg&&(a instanceof Vg?(this.setModified(),a.merge(d)):Cb(a.producedFields(),d.dependentFields())||(this.setModified(),d.swapWithParent()))}}class Im extends Ni{run(a){const d=[...a.children];
var f=a.children.filter(h=>h instanceof Vg);if(1<a.numChildren()&&1<=f.length){const h={};var g=new Set;for(const p of f){f=p.parse;for(const C of hd(f))C in h?h[C]!==f[C]&&g.add(C):h[C]=f[C]}for(const p of g)delete h[p];if(!lb(h)){this.setModified();g=new Vg(a,h);for(const p of d){if(p instanceof Vg)for(const C of hd(h))delete p.parse[C];a.removeChild(p);p.parent=g;p instanceof Vg&&0===hd(p.parse).length&&p.remove()}}}}}class Mj extends Ni{run(a){a instanceof ih||0<a.numChildren()||a instanceof mj||
a instanceof Ej||(this.setModified(),a.remove())}}class Nj extends Ni{run(a){a=a.children.filter(f=>f instanceof Gi);const d=a.pop();for(const f of a)this.setModified(),d.merge(f)}}class dl extends Ni{run(a){var d=a.children.filter(h=>h instanceof Gh);const f={};for(var g of d)d=Db(g.groupBy),d in f||(f[d]=[]),f[d].push(g);for(const h of hd(f))if(g=f[h],1<g.length){d=g.pop();for(const p of g)d.merge(p)&&(a.removeChild(p),p.parent=d,p.remove(),this.setModified())}}}class uk extends Ni{constructor(a){super();
this.model=a}run(a){var d=!(Pg(a)||a instanceof rk||a instanceof Vg||a instanceof fj);const f=[],g=[];for(const h of a.children)h instanceof kh&&(d&&!Cb(a.producedFields(),h.dependentFields())?f.push(h):g.push(h));if(0<f.length){d=f.pop();for(const h of f)d.merge(h,this.model.renameSignal.bind(this.model));this.setModified();a instanceof kh?a.merge(d,this.model.renameSignal.bind(this.model)):d.swapWithParent()}if(1<g.length){a=g.pop();for(const h of g)a.merge(h,this.model.renameSignal.bind(this.model));
this.setModified()}}}class Ih extends Ni{run(a){var d=[...a.children];if(Qb(d,h=>h instanceof ih)&&!(1>=a.numChildren())){var f=[];for(const h of d)if(h instanceof ih){for(d=h;1===d.numChildren();){const [p]=d.children;if(p instanceof ih)d=p;else break}f.push(...d.children);if(g)a.removeChild(h),h.parent=g.parent,g.parent.removeChild(g),g.parent=d,this.setModified();else var g=d}else f.push(h);if(f.length){this.setModified();for(const h of f)h.parent.removeChild(h),h.parent=g}}}}class Ig extends Cf{clone(){return new Ig(null,
we(this.transform))}constructor(a,d){super(a);this.transform=d}addDimensions(a){this.transform.groupby=bb(this.transform.groupby.concat(a),d=>d)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(d=>d.field).filter(d=>void 0!==d).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let d;return null!=(d=a.as)?d:lc(a)}hash(){return`JoinAggregateTransform ${Db(this.transform)}`}assemble(){const a=
[],d=[],f=[];for(var g of this.transform.joinaggregate)d.push(g.op),f.push(this.getDefaultName(g)),a.push(void 0===g.field?null:g.field);g=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:f,ops:d,fields:a},void 0!==g?{groupby:g}:{})}}class Yg extends Cf{clone(){return new Yg(null,we(this._stack))}constructor(a,d){super(a);V(this,"_stack",void 0);this._stack=d}static makeFromTransform(a,d){const {stack:f,groupby:g,as:h,offset:p="zero"}=d;var C=[];const P=[];if(void 0!==d.sort)for(const aa of d.sort)C.push(aa.field),
P.push(U(aa.order,"ascending"));C={field:C,order:P};d=ve(h)?h:l.isString(h)?[h,`${h}_end`]:[`${d.stack}_start`,`${d.stack}_end`];return new Yg(a,{dimensionFieldDefs:[],stackField:f,groupby:g,offset:p,sort:C,facetby:[],as:d})}static makeFromEncoding(a,d){var f=d.stack;const {encoding:g}=d;if(!f)return null;const {groupbyChannels:h,fieldChannel:p,offset:C,impute:P}=f;f=h.map(ab=>de(g[ab])).filter(ab=>!!ab);const aa=gg(d);var sa=d.encoding.order;if(l.isArray(sa)||Oa(sa))sa=Lc(sa);else{const ab=sa&&sa.sort&&
!sa.field?sa.sort:"y"===p?"descending":"ascending";sa=aa.reduce((rb,ac)=>{rb.field.push(ac);rb.order.push(ab);return rb},{field:[],order:[]})}return new Yg(a,{dimensionFieldDefs:f,stackField:d.vgField(p),facetby:[],stackby:aa,sort:sa,offset:C,impute:P,as:[d.vgField(p,{suffix:"start",forAs:!0}),d.vgField(p,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,
a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Db(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:d,groupby:f}=this._stack;return 0<a.length?a.map(g=>g.bin?d?[lc(g,{binSuffix:"mid"})]:[lc(g,{}),lc(g,{binSuffix:"end"})]:[lc(g)]).flat():null!=f?f:[]}assemble(){const a=[],{facetby:d,dimensionFieldDefs:f,stackField:g,stackby:h,sort:p,offset:C,impute:P,as:aa}=this._stack;
if(P)for(const sa of f){const {bandPosition:ab=.5,bin:rb}=sa;if(rb){const ac=lc(sa,{expr:"datum"}),Dc=lc(sa,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${ab}*${ac}+${1-ab}*${Dc}`,as:lc(sa,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",field:g,groupby:[...h,...d],key:lc(sa,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...d],field:g,sort:p,as:aa,offset:C});return a}}class lh extends Cf{clone(){return new lh(null,we(this.transform))}constructor(a,
d){super(a);this.transform=d}addDimensions(a){this.transform.groupby=bb(this.transform.groupby.concat(a),d=>d)}dependentFields(){const a=new Set;let d;(null!=(d=this.transform.groupby)?d:[]).forEach(a.add,a);let f;(null!=(f=this.transform.sort)?f:[]).forEach(g=>a.add(g.field));this.transform.window.map(g=>g.field).filter(g=>void 0!==g).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let d;return null!=(d=a.as)?d:lc(a)}hash(){return`WindowTransform ${Db(this.transform)}`}assemble(){const a=
[],d=[],f=[],g=[];for(var h of this.transform.window)d.push(h.op),f.push(this.getDefaultName(h)),g.push(void 0===h.param?null:h.param),a.push(void 0===h.field?null:h.field);h=this.transform.frame;const p=this.transform.groupby;if(h&&null===h[0]&&null===h[1]&&d.every(sa=>Qa(sa)))return Object.assign({},{type:"joinaggregate",as:f,ops:d,fields:a},void 0!==p?{groupby:p}:{});const C=[],P=[];if(void 0!==this.transform.sort)for(var aa of this.transform.sort){C.push(aa.field);let sa;P.push(null!=(sa=aa.order)?
sa:"ascending")}aa=this.transform.ignorePeers;return Object.assign({},{type:"window",params:g,as:f,ops:d,fields:a,sort:{field:C,order:P}},void 0!==aa?{ignorePeers:aa}:{},void 0!==p?{groupby:p}:{},void 0!==h?{frame:h}:{})}}class Mf{constructor(a){V(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,d){return new Mf(()=>a(d))}}class yg extends gj{constructor(a,d){super({},{name:a});V(this,"merged",!1);this.setWithExplicit("type",d)}domainDefinitelyIncludesZero(){return!1!==
this.get("zero")?!0:Qb(this.get("domains"),a=>l.isArray(a)&&2===a.length&&l.isNumber(a[0])&&0>=a[0]&&l.isNumber(a[1])&&0<=a[1])}}const Sf=["range","scheme"],Te={bins:a=>{let {model:d,fieldOrDatumDef:f}=a;return Oa(f)?em(d,f):void 0},interpolate:a=>{let {channel:d,fieldOrDatumDef:f}=a;a=f.type;a=wb(["color","fill","stroke"],d)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:d,channel:f,domain:g,domainMin:h,domainMax:p,fieldOrDatumDef:C}=a;{let P;a=(null==(P=de(C))?0:P.bin)||l.isArray(g)||
null!=p||null!=h||wb([Ug.TIME,Ug.UTC],d)?void 0:I(f)?!0:void 0}return a},padding:a=>{let {channel:d,scaleType:f,fieldOrDatumDef:g,markDef:h,config:p}=a;a:{a=p.scale;var C=p.bar;if(I(d)){if(cg.has(f)){if(void 0!==a.continuousPadding){a=a.continuousPadding;break a}const {type:P,orient:aa}=h;if("bar"===P&&(!Oa(g)||!g.bin&&!g.timeUnit)&&("vertical"===aa&&"x"===d||"horizontal"===aa&&"y"===d)){a=C.continuousBandSize;break a}}if(f===Ug.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>
{let {scalePadding:d,channel:f,markDef:g,scaleType:h,config:p,hasNestedOffsetScale:C}=a;return Jn(d,f,g.type,h,p.scale,C)},paddingOuter:a=>{let {scalePadding:d,channel:f,scaleType:g,scalePaddingInner:h,config:p,hasNestedOffsetScale:C}=a;return Jh(d,f,g,h,p.scale,C)},reverse:a=>{let {fieldOrDatumDef:d,scaleType:f,channel:g,config:h}=a;a=Oa(d)?d.sort:void 0;var p=h.scale;a="x"===g&&void 0!==p.xReverse?Nd(f)&&"descending"===a?Pb(p.xReverse)?{signal:`!${p.xReverse.signal}`}:!p.xReverse:p.xReverse:Nd(f)&&
"descending"===a?!0:void 0;return a},zero:a=>{let {channel:d,fieldOrDatumDef:f,domain:g,markDef:h,scaleType:p,config:C,hasSecondaryRangeChannel:P}=a;a:if(a=C.scale,g&&"unaggregated"!==g&&Nd(p)){if(l.isArray(g)){a=g[0];const aa=g[g.length-1];if(l.isNumber(a)&&0>=a&&l.isNumber(aa)&&0<=aa){a=!0;break a}}a=!1}else if("size"!==d||"quantitative"!==f.type||Aj.has(p))if(Oa(f)&&f.bin||!wb([...wh,...Gj],d))a=!1;else{const {orient:aa,type:sa}=h;a=wb(["bar","area","line","trail"],sa)&&("horizontal"===aa&&"y"===
d||"vertical"===aa&&"x"===d)?!1:wb(["bar","area"],sa)&&!P?!0:null==a?void 0:a.zero}else a=!0;return a}},Oi=th((a,d)=>Xm[a]-Xm[d]);class mh{constructor(){V(this,"nameMap",void 0);this.nameMap={}}rename(a,d){this.nameMap[a]=d}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class vk{constructor(a,d,f,g,h,p,C){this.type=d;this.parent=f;this.config=h;V(this,"name",void 0);V(this,"size",void 0);V(this,"title",void 0);V(this,"description",
void 0);V(this,"data",void 0);V(this,"transforms",void 0);V(this,"layout",void 0);V(this,"scaleNameMap",void 0);V(this,"projectionNameMap",void 0);V(this,"signalNameMap",void 0);V(this,"component",void 0);V(this,"view",void 0);V(this,"children",void 0);V(this,"correctDataNames",sa=>{let ab;if(null==(ab=sa.from)?0:ab.data)sa.from.data=this.lookupDataSource(sa.from.data);let rb,ac;if(null==(rb=sa.from)?0:null==(ac=rb.facet)?0:ac.data)sa.from.facet.data=this.lookupDataSource(sa.from.facet.data);return sa});
this.parent=f;this.config=h;this.view=Ub(C);let P;this.name=null!=(P=a.name)?P:g;this.title=Zb(a.title)?{text:a.title}:a.title?Ub(a.title):void 0;this.scaleNameMap=f?f.scaleNameMap:new mh;this.projectionNameMap=f?f.projectionNameMap:new mh;this.signalNameMap=f?f.signalNameMap:new mh;this.data=a.data;this.description=a.description;let aa;this.transforms=Wi(null!=(aa=a.transform)?aa:[]);this.layout="layer"===d||"unit"===d?{}:Ve(a,d,h);this.component={data:{sources:f?f.component.data.sources:[],outputNodes:f?
f.component.data.outputNodes:{},outputNodeRefCounts:f?f.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==f?void 0:f.component.data.isFaceted)&&void 0===a.data},layoutSize:new gj,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},p?we(p):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();
this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){Lm(this)}parseProjection(){xc(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){tb(this)}assembleEncodeFromView(a){a=Object.assign({},
a);a=(delete a.style,a);const d={};for(const f of hd(a)){const g=a[f];void 0!==g&&(d[f]=Va(g))}return d}assembleGroupEncodeEntry(a){let d={};this.view&&(d=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(d.description=Va(this.description)),"unit"===this.type||"layer"===this.type)){let f;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(f=d)?f:{})}return lb(d)?void 0:d}assembleLayout(){if(this.layout){var a=this.layout,d=
Object.assign({},a);a=a.spacing;d=(delete d.spacing,d);var {component:f,config:g}=this,h=f.layoutHeaders,p={};for(P of Rh){var C=h[P];let aa;if(null==(aa=C)?0:aa.facetFieldDef){const {titleAnchor:sa,titleOrient:ab}=dj(["titleAnchor","titleOrient"],C.facetFieldDef.header,g,P);C=Ch(P,ab);const rb=wn[C][sa];void 0!==rb&&(p[C]=rb)}}var P=lb(p)?void 0:p;return Object.assign({},{padding:a},this.assembleDefaultLayout(),d,P?{titleBand:P}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=
this.component,d=[];for(var f of Rh)if(a[f].title){var g=d,h=g.push;var p=f;var C=this.component.layoutHeaders[p].title,P=this.config?this.config:void 0,aa=this.component.layoutHeaders[p].facetFieldDef?this.component.layoutHeaders[p].facetFieldDef:void 0;const {titleAnchor:Cc,titleAngle:Tc,titleOrient:Vc}=dj(["titleAnchor","titleAngle","titleOrient"],aa.header,P,p);var sa=Ch(p,Vc),ab=Fa(Tc);p={name:`${p}-title`,type:"group",role:`${sa}-title`,title:Object.assign({},{text:C},"row"===p?{orient:"left"}:
{},{style:"guide-title"},Dk(ab,sa),Ei(sa,ab,Cc),Ek(P,aa,p,Dj,Zk))};h.call(g,p)}for(const Cc of vl){a=d;d=a.concat;g=Cc;h=this.component.layoutHeaders[g];f=[];for(const Tc of Nk)if(h[Tc])for(const Vc of h[Tc]){a:{aa=void 0;p=g;var rb=Tc,ac=h;if(C=Vc){P=null;({facetFieldDef:gc}=ac);sa=this.config?this.config:void 0;gc&&C.labels&&({labelOrient:ab}=dj(["labelOrient"],gc.header,sa,p),"row"===p&&!wb(["top","bottom"],ab)||"column"===p&&!wb(["left","right"],ab))&&(P=uj(gc,p,sa));const Od=Qh(this)&&!Wd(this.facet),
Fd=C.axes,ie=0<(null==Fd?void 0:Fd.length);if(P||ie){const Td="row"===p?"height":"width";sa=Object;ab=sa.assign;rb={name:this.getName(`${p}_${rb}`),type:"group",role:`${p}-${rb}`};if(ac.facetFieldDef){ac={data:this.getName(`${p}_domain`)};{var Dc=gc;const {sort:wf}=Dc;var gc=me(wf)?{field:lc(wf,{expr:"datum"}),order:null!=(aa=wf.order)?aa:"ascending"}:l.isArray(wf)?{field:cj(Dc,p,{expr:"datum"}),order:"ascending"}:{field:lc(Dc,{expr:"datum"}),order:null!=wf?wf:"ascending"}}aa={from:ac,sort:gc}}else aa=
{};p=ab.call(sa,{},rb,aa,ie&&Od?{from:{data:this.getName(`facet_domain_${p}`)}}:{},P?{title:P}:{},C.sizeSignal?{encode:{update:{[Td]:C.sizeSignal}}}:{},ie?{axes:Fd}:{});break a}}p=null}null!=p&&f.push(p)}d=d.call(a,f)}return d}assembleAxes(){return yk(this.component.axes,this.config)}assembleLegends(){return pc(this)}assembleProjections(){var a=fi(this)||kl(this)?Xc(this):Rc(this);return a}assembleTitle(){var a,d=null!=(a=this.title)?a:{};a=Object.assign({},d);d=d.encoding;a=(delete a.encoding,a);
d=Object.assign({},kc(this.config.title).nonMarkTitleProperties,a,d?{encode:{update:d}}:{});if(d.text)return wb(["unit","layer"],this.type)?wb(["middle",void 0],d.anchor)&&(null!=d.frame||(d.frame="group")):null!=d.anchor||(d.anchor="start"),lb(d)?void 0:d}assembleGroup(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const d={};a=a.concat(this.assembleSignals());0<a.length&&(d.signals=a);if(a=this.assembleLayout())d.layout=a;d.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());
a=!this.parent||Qh(this.parent)?Df(this):[];0<a.length&&(d.scales=a);a=this.assembleAxes();0<a.length&&(d.axes=a);a=this.assembleLegends();0<a.length&&(d.legends=a);return d}getName(a){return ua((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(hg[a].toLowerCase())}requestDataName(a){a=this.getDataName(a);const d=this.component.data.outputNodeRefCounts;d[a]=(d[a]||0)+1;return a}getSizeSignalRef(a){if(Qh(this.parent)){var d=Fk(a),f=X(d);if((d=this.component.scales[f])&&!d.merged){var g=
d.get("type");const h=d.get("range");if(Fe(g)&&Nb(h)){a=d.get("name");g=wk(this,f);if(g=wl(g))return f=lc({aggregate:"distinct",field:g},{expr:"datum"}),{signal:Bk(a,d,f)};K(Sb(f));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const d=this.component.data.outputNodes[a];return d?d.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,d){this.signalNameMap.rename(a,d)}renameScale(a,d){this.scaleNameMap.rename(a,d)}renameProjection(a,
d){this.projectionNameMap.rename(a,d)}scaleName(a,d){if(d)return this.getName(a);if(Cj[a]&&Fh[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const d=this.component.scales[a];return d&&!d.merged?d:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,d){let f=this.component.selection[a];!f&&this.parent&&(f=this.parent.getSelectionComponent(a,d));if(!f)throw Error(`Cannot find a selection named "${d}".`);return f}hasAxisOrientSignalRef(){let a,d;return(null==(a=this.component.axes.x)?void 0:a.some(f=>f.hasOrientSignalRef()))||(null==(d=this.component.axes.y)?void 0:d.some(f=>f.hasOrientSignalRef()))}}class el extends vk{vgField(a){let d=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const f=this.fieldDef(a);if(f)return lc(f,d)}reduceFieldDef(a,d){return Tg(this.getMapping(),(f,g,h)=>(g=de(g))?a(f,g,h):f,d)}forEachFieldDef(a,d){Sg(this.getMapping(),(f,g)=>{(f=de(f))&&a(f,g)},d)}}class ui extends Cf{clone(){return new ui(null,we(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=we(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let g,h;this.transform.as=[null!=(g=a[0])?g:"value",null!=(h=
a[1])?h:"density"]}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Db(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);a=a.density;d=(delete d.density,d);d=Object.assign({},{type:"kde",field:a},d);this.transform.groupby&&(d.resolve="shared");return d}}class Vh extends Cf{clone(){return new Vh(null,we(this.transform))}constructor(a,d){super(a);
this.transform=d;this.transform=we(d)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Db(this.transform)}`}assemble(){const {extent:a,param:d}=this.transform;return{type:"extent",field:a,signal:d}}}class fl extends Cf{clone(){return new fl(null,Object.assign({},this.filter))}constructor(a,d){super(a);this.filter=d}static make(a,d){const {config:f,mark:g,markDef:h}=d;if("filter"!==Xb("invalid",h,f))return null;const p=d.reduceFieldDef((C,
P,aa)=>{if(aa=!!Fh[aa]&&d.getScaleComponent(aa))aa=aa.get("type"),Nd(aa)&&"count"!==P.aggregate&&!cb(g)&&(C[P.field]=P);return C},{});return hd(p).length?new fl(a,p):null}dependentFields(){return new Set(hd(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Db(this.filter)}`}assemble(){const a=hd(this.filter).reduce((d,f)=>{f=this.filter[f];const g=lc(f,{expr:"datum"});null!==f&&("temporal"===f.type?d.push(`(isDate(${g}) || (isValid(${g}) && isFinite(+${g})))`):"quantitative"===
f.type&&(d.push(`isValid(${g})`),d.push(`isFinite(+${g})`)));return d},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class bm extends Cf{clone(){return new bm(this.parent,we(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=we(d);const {flatten:f,as:g=[]}=this.transform;this.transform.as=f.map((h,p)=>{let C;return null!=(C=g[p])?C:h})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Db(this.transform)}`}assemble(){const {flatten:a,
as:d}=this.transform;return{type:"flatten",fields:a,as:d}}}class cm extends Cf{clone(){return new cm(null,we(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=we(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let g,h;this.transform.as=[null!=(g=a[0])?g:"key",null!=(h=a[1])?h:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Db(this.transform)}`}assemble(){const {fold:a,
as:d}=this.transform;return{type:"fold",fields:a,as:d}}}class Xf extends Cf{clone(){return new Xf(null,we(this.fields),this.geojson,this.signal)}static parseAll(a,d){if(d.component.projection&&!d.component.projection.isFit)return a;let f=0;for(var g of[["longitude","latitude"],["longitude2","latitude2"]]){const h=g.map(p=>{p=te(d.encoding[p]);return Oa(p)?p.field:pb(p)?{expr:`${p.datum}`}:Oc(p)?{expr:`${p.value}`}:void 0});if(h[0]||h[1])a=new Xf(a,h,null,d.getName(`geojson_${f++}`))}d.channelHasField("shape")&&
(g=d.typedFieldDef("shape"),"geojson"===g.type&&(a=new Xf(a,null,g.field,d.getName(`geojson_${f++}`))));return a}constructor(a,d,f,g){super(a);this.fields=d;this.geojson=f;this.signal=g}dependentFields(){let a;const d=(null!=(a=this.fields)?a:[]).filter(l.isString);return new Set([...(this.geojson?[this.geojson]:[]),...d])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Db(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:
[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Pi extends Cf{clone(){return new Pi(null,this.projection,we(this.fields),we(this.as))}constructor(a,d,f,g){super(a);this.projection=d;this.fields=f;this.as=g}static parseAll(a,d){if(!d.projectionName())return a;for(const f of[["longitude","latitude"],["longitude2","latitude2"]]){const g=f.map(p=>{p=te(d.encoding[p]);return Oa(p)?p.field:pb(p)?{expr:`${p.datum}`}:
Oc(p)?{expr:`${p.value}`}:void 0}),h="longitude2"===f[0]?"2":"";if(g[0]||g[1])a=new Pi(a,d.projectionName(),g,[d.getName(`x${h}`),d.getName(`y${h}`)])}return a}dependentFields(){return new Set(this.fields.filter(l.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Db(this.fields)} ${Db(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Qi extends Cf{clone(){return new Qi(null,we(this.transform))}constructor(a,
d){super(a);this.transform=d}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:d=0,stop:f,step:g}=a;return{signal:`sequence(${[d,f,...(g?[g]:[])].join()})`}}static makeFromTransform(a,d){return new Qi(a,d)}static makeFromEncoding(a,d){const f=d.encoding;var g=f.x;const h=f.y;if(Oa(g)&&Oa(h)){const p=g.impute?g:h.impute?h:void 0;if(void 0===
p)return;g=g.impute?h:h.impute?g:void 0;const {method:C,value:P,frame:aa,keyvals:sa}=p.impute;d=oh(d.mark,f);return new Qi(a,Object.assign({},{impute:p.field,key:g.field},C?{method:C}:{},void 0!==P?{value:P}:{},aa?{frame:aa}:{},void 0!==sa?{keyvals:sa}:{},d.length?{groupby:d}:{}))}return null}hash(){return`Impute ${Db(this.transform)}`}assemble(){const {impute:a,key:d,keyvals:f,method:g,groupby:h,value:p,frame:C=[null,null]}=this.transform;var P=Object,aa=P.assign;var sa=f?{keyvals:void 0!==(null==
f?void 0:f.stop)?this.processSequence(f):f}:{};P=aa.call(P,{},{type:"impute",field:a,key:d},sa,{method:"value"},h?{groupby:h}:{},{value:g&&"value"!==g?null:p});return g&&"value"!==g?(aa=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[g],fields:[a],frame:C,ignorePeers:!1},h?{groupby:h}:{}),[P,aa,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,as:a}]):[P]}}class Ri extends Cf{clone(){return new Ri(null,we(this.transform))}constructor(a,d){super(a);this.transform=
d;this.transform=we(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let g,h;this.transform.as=[null!=(g=a[0])?g:d.on,null!=(h=a[1])?h:d.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Db(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);const f=a.loess;a=a.on;d=(delete d.loess,delete d.on,d);return Object.assign({},
{type:"loess",x:a,y:f},d)}}class vi extends Cf{clone(){return new vi(null,we(this.transform),this.secondary)}constructor(a,d,f){super(a);this.transform=d;this.secondary=f}static make(a,d,f,g){const h=d.component.data.sources,{from:p}=f;var C=null;if("data"in p)C=im(p.data,h),C||(C=new Ej(p.data),h.push(C)),g=d.getName(`lookup_${g}`),C=new ih(C,g,hg.Lookup,d.component.data.outputNodeRefCounts),d.component.data.outputNodes[g]=C;else if("param"in p){g=p.param;f=Object.assign({},{as:g},f);let P;try{P=
d.getSelectionComponent(ua(g),g)}catch(aa){throw Error(`Lookups can only be performed on selection parameters. "${g}" is a variable parameter.`);}C=P.materialized;if(!C)throw Error(`Cannot define and lookup the "${g}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new vi(a,f,C.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?l.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Db({transform:this.transform,
secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:l.array(this.transform.as)}:{});else a=this.transform.as,l.isString(a)||(K('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},
a,this.transform.default?{default:this.transform.default}:{})}}class Hl extends Cf{clone(){return new Hl(null,we(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=we(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let g,h;this.transform.as=[null!=(g=a[0])?g:"prob",null!=(h=a[1])?h:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Db(this.transform)}`}assemble(){var a=
this.transform,d=Object.assign({},a);a=a.quantile;d=(delete d.quantile,d);return Object.assign({},{type:"quantile",field:a},d)}}class wi extends Cf{clone(){return new wi(null,we(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=we(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let g,h;this.transform.as=[null!=(g=a[0])?g:d.on,null!=(h=a[1])?h:d.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Db(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);const f=a.regression;a=a.on;d=(delete d.regression,delete d.on,d);return Object.assign({},{type:"regression",x:a,y:f},d)}}class Si extends Cf{clone(){return new Si(null,we(this.transform))}constructor(a,d){super(a);this.transform=d}addDimensions(a){let d;this.transform.groupby=bb((null!=(d=this.transform.groupby)?d:[]).concat(a),
f=>f)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${Db(this.transform)}`}assemble(){const {pivot:a,value:d,groupby:f,limit:g,op:h}=this.transform;return Object.assign({},{type:"pivot",field:a,value:d},void 0!==g?{limit:g}:{},void 0!==h?{op:h}:{},void 0!==f?{groupby:f}:{})}}class xk extends Cf{clone(){return new xk(null,we(this.transform))}constructor(a,d){super(a);this.transform=
d}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Db(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class oj extends el{constructor(a,d,f,g){super(a,"facet",d,f,g,a.resolve);V(this,"facet",void 0);V(this,"child",void 0);V(this,"children",void 0);this.child=Dl(a.spec,this,this.getName("child"),void 0,g);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!Wd(a))return{facet:this.initFacetFieldDef(a,
"facet")};var d=hd(a);const f={};for(const g of d){if(!["row","column"].includes(g)){K(Uc(g,"facet"));break}d=a[g];if(void 0===d.field){K(dd(d,g));break}f[g]=this.initFacetFieldDef(d,g)}return f}initFacetFieldDef(a,d){a=$c(a,d);a.header?a.header=Ub(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=cl(this);this.child.parseData()}parseLayoutSize(){nl(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const g of Rh){var a=void 0,d=g;const {facet:h,config:p,child:C,component:P}=this;if(this.channelHasField(d)){const aa=h[d];var f=Uh("title",null,p,d);f=be(aa,p,{allowDisabling:!0,includeDefault:void 0===f||!!f});C.component.layoutHeaders[d].title&&(f=l.isArray(f)?f.join(", "):f,f+=` / ${C.component.layoutHeaders[d].title}`,C.component.layoutHeaders[d].title=
null);const sa=Uh("labelOrient",aa.header,p,d),ab=null!==aa.header?U(null==(a=aa.header)?void 0:a.labels,p.header.labels,!0):!1;a=wb(["bottom","right"],sa)?"footer":"header";P.layoutHeaders[d]={title:null!==aa.header?f:null,facetFieldDef:aa,[a]:"facet"===d?[]:[yj(this,d,ab)]}}}ek(this,"x");ek(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a=
{};for(const g of Rh)for(const h of Nk){const p=this.component.layoutHeaders[g];var d=p[h],{facetFieldDef:f}=p;if(f&&(f=Uh("titleOrient",f.header,this.config,g),["right","bottom"].includes(f))){f=Ch(g,f);let P;null!=(P=a).titleAnchor||(P.titleAnchor={});a.titleAnchor[f]="end"}let C;if(null==(C=d)?0:C[0]){d="row"===g?"height":"width";f="header"===h?"headerBand":"footerBand";if("facet"!==g&&!this.child.component.layoutSize.get(d)){let P,aa;null!=(P=a)[aa=f]||(P[aa]={});a[f][g]=.5}if(p.title){let P;
null!=(P=a).offset||(P.offset={});a.offset["row"===g?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:d}=this.facet,f=a?this.columnDistinctSignal():d?1:void 0;let g="all";d||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(g="none"):g="none";return Object.assign({},this.getHeaderLayoutMixins(),f?{columns:f}:{},{bounds:"full",align:g})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof oj))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof oj?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:lc(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],d=[],f=[];if(this.child instanceof oj){if(this.child.channelHasField("column")){var g=lc(this.child.facet.column);
a.push(g);d.push("distinct");f.push(`distinct_${g}`)}}else for(g of wh){var h=this.child.component.scales[g];if(h&&!h.merged){var p=h.get("type");h=h.get("range");Fe(p)&&Nb(h)&&(p=wk(this.child,g),(p=wl(p))?(a.push(p),d.push("distinct"),f.push(`distinct_${p}`)):K(Sb(g)))}}return{fields:a,ops:d,as:f}}assembleFacet(){const {name:a,data:d}=this.component.data.facetRoot,{row:f,column:g}=this.facet,{fields:h,ops:p,as:C}=this.getCardinalityAggregateForChild(),P=[];for(var aa of Rh){var sa=this.facet[aa];
if(sa){P.push(lc(sa));const {bin:ab,sort:rb}=sa;zb(ab)&&P.push(lc(sa,{binSuffix:"end"}));if(me(rb)){const {field:ac,op:Dc="min"}=rb;sa=Kk(sa,rb);f&&g?(h.push(sa),p.push("max")):(h.push(ac),p.push(Dc));C.push(sa)}else l.isArray(rb)&&(sa=cj(sa,aa),h.push(sa),p.push("max"),C.push(sa))}}aa=!!f&&!!g;return Object.assign({},{name:a,data:d,groupby:P},aa||0<h.length?{aggregate:Object.assign({},aa?{cross:aa}:{},h.length?{fields:h,ops:p,as:C}:{})}:{})}facetSortFields(a){var {facet:d}=this;return(d=d[a])?me(d.sort)?
[Kk(d,d.sort,{expr:"datum"})]:l.isArray(d.sort)?[cj(d,a,{expr:"datum"})]:[lc(d,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:d}=this;return(a=d[a])?({sort:a}=a,[(me(a)?a.order:!l.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:d}=this;if(a.facet)return uj(a.facet,"facet",d);const f={row:["top","bottom"],column:["left","right"]};for(const g of vl)if(a[g]){let h;const p=Uh("labelOrient",null==(h=a[g])?void 0:h.header,d,g);if(f[g].includes(p))return uj(a[g],g,d)}}assembleMarks(){const {child:a}=
this,d=mn(this.component.data.facetRoot),f=a.assembleGroupEncodeEntry(!1),g=this.assembleLabelTitle()||a.assembleTitle(),h=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},g?{title:g}:{},h?{style:h}:{},{from:{facet:this.assembleFacet()},sort:{field:Rh.map(p=>this.facetSortFields(p)).flat(),order:Rh.map(p=>this.facetSortOrder(p)).flat()}},0<d.length?{data:d}:{},f?{encode:{update:f}}:{},a.assembleGroup(Zi(this,[])))]}getMapping(){return this.facet}}class jl extends vk{constructor(a,
d,f,g){super(a,"concat",d,f,g,a.resolve);V(this,"children",void 0);let h,p,C,P;"shared"!==(null==(h=a.resolve)?void 0:null==(p=h.axis)?void 0:p.x)&&"shared"!==(null==(C=a.resolve)?void 0:null==(P=C.axis)?void 0:P.y)||K("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((aa,sa)=>Dl(aa,this,this.getName(`concat_${sa}`),void 0,g))}parseData(){this.component.data=cl(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection=
{};for(const a of this.children){a.parseSelections();for(const d of hd(a.component.selection))this.component.selection[d]=a.component.selection[d]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){nl(this);const a=void 0===this.layout.columns?"height":"childHeight";zj(this,1===this.layout.columns?"width":"childWidth");
zj(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((d,f)=>f.assembleSelectionTopLevelSignals(d),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=ak(this);for(const d of this.children)a.push(...d.assembleLayoutSignals());return a}assembleSelectionData(a){return this.children.reduce((d,f)=>f.assembleSelectionData(d),a)}assembleMarks(){return this.children.map(a=>{const d=a.assembleTitle(),
f=a.assembleGroupStyle(),g=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},d?{title:d}:{},f?{style:f}:{},g?{encode:{update:g}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})}}const nj=Object.assign({},{disable:1,gridScale:1,scale:1},Hm,{labelExpr:1,encode:1}),pj=hd(nj);class Oj extends gj{constructor(){let a=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=d;this.mainExtracted=f}clone(){return new Oj(we(this.explicit),we(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Pb(this.explicit.orient)}}const sj={bottom:"top",top:"bottom",
left:"right",right:"left"},Km=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Wh={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Qd("x",a,{defaultPos:"mid"}),Qd("y",a,{defaultPos:"mid"}),Ce(a,"radius"),Ce(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",
size:"ignore",theta:"ignore"}),gf("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),gf("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),xf(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ce(a,"x"),Ce(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>Bl(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>
Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:d}=a;d=d.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},d&&Oa(d)&&"geojson"===d.type?{field:lc(d,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Ce(a,"x"),Ce(a,"y"),ta(a,"url"))},
line:{vgMark:"line",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Qd("x",a,{defaultPos:"mid"}),Qd("y",a,{defaultPos:"mid"}),Wc("size",a,{vgChannel:"strokeWidth"}),xf(a))},point:{vgMark:"symbol",encodeEntry:a=>Bl(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ce(a,"x"),Ce(a,"y"))},rule:{vgMark:"rule",encodeEntry:a=>
{var {markDef:d}=a;d=d.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),gf("x",a,{defaultPos:"horizontal"===d?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==d}),gf("y",a,{defaultPos:"vertical"===d?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==d}),Wc("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",
encodeEntry:a=>Bl(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:d}=a,f=Object,g=f.assign,h=Bf(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),p=Qd("x",a,{defaultPos:"mid"}),C=Qd("y",a,{defaultPos:"mid"}),P=ta(a),aa=Wc("size",a,{vgChannel:"fontSize"}),sa=Wc("angle",a);var ab=void 0===Xb("align",a.markDef,d)?"center":void 0;ab=Bh("align",ab);d=void 0===Xb("baseline",a.markDef,d)?"middle":void 0;return g.call(f,{},h,p,C,P,aa,sa,ab,
Bh("baseline",d),Qd("radius",a,{defaultPos:null}),Qd("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:d,markDef:f}=a;var g=f.orient;const h="horizontal"===g?"width":"height";g="horizontal"===g?"height":"width";var p=Object,C=p.assign,P=Bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),aa=Qd("x",a,{defaultPos:"mid",vgChannel:"xc"}),sa=Qd("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:Dc,markDef:gc}=a;var {orient:ab}=
gc;var rb="horizontal"===ab?"width":"height";ab=a.getScaleComponent("horizontal"===ab?"x":"y");var ac;const Cc=null!=(ac=Xb("size",gc,Dc,{vgChannel:rb}))?ac:Dc.tick.bandSize;rb=void 0!==Cc?Cc:(ac=ab?ab.get("range"):void 0)&&Nb(ac)&&l.isNumber(ac.step)?3*ac.step/4:3*$f(Dc.view,rb)/4}return C.call(p,{},P,aa,sa,Wc("size",a,{defaultValue:rb,vgChannel:h}),{[g]:Va(Xb("thickness",f,d))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",
orient:"ignore",theta:"ignore"}),Qd("x",a,{defaultPos:"mid"}),Qd("y",a,{defaultPos:"mid"}),Wc("size",a),xf(a))}};class gl extends el{constructor(a,d,f){let g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},h=4<arguments.length?arguments[4]:void 0;super(a,"unit",d,f,h,void 0,ff(a)?a.view:void 0);V(this,"markDef",void 0);V(this,"encoding",void 0);V(this,"specifiedScales",{});V(this,"stack",void 0);V(this,"specifiedAxes",{});V(this,"specifiedLegends",{});V(this,"specifiedProjection",{});V(this,
"selection",[]);V(this,"children",[]);const p=fd(a.mark)?Object.assign({},a.mark):{type:a.mark},C=p.type;void 0===p.filled&&(p.filled=Nh(p,h,{graticule:a.data&&"graticule"in a.data}));const P=this.encoding=$g(a.encoding||{},C,p.filled,h);this.markDef=qg(p,P,h);this.size=ho({encoding:P,size:ff(a)?Object.assign({},g,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):g});this.stack=xh(this.markDef,P);this.specifiedScales=this.initScales(C,P);this.specifiedAxes=this.initAxes(P);this.specifiedLegends=
this.initLegends(P);this.specifiedProjection=a.projection;let aa;this.selection=(null!=(aa=a.params)?aa:[]).filter(sa=>Ld(sa))}get hasProjection(){const {encoding:a}=this,d=this.mark===Yk,f=a&&sn.some(g=>oc(a[g]));return d||f}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,d){return Hj.reduce((f,g)=>{const h=te(d[g]);if(h){let p;f[g]=this.initScale(null!=(p=h.scale)?p:{})}return f},{})}initScale(a){const {domain:d,
range:f}=a;a=Ub(a);l.isArray(d)&&(a.domain=d.map(ra));l.isArray(f)&&(a.range=f.map(ra));return a}initAxes(a){return wh.reduce((d,f)=>{var g=a[f];if(oc(g)||"x"===f&&oc(a.x2)||"y"===f&&oc(a.y2))g=oc(g)?g.axis:void 0,d[f]=g?this.initAxis(Object.assign({},g)):g;return d},{})}initAxis(a){var d=hd(a);const f={};for(const g of d)d=a[g],f[g]=kg(d)?Mc(d):ra(d);return f}initLegends(a){return ni.reduce((d,f)=>{var g=te(a[f]),h;if(h=g)a:{switch(f){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":h=
!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":h=!1;break a}h=void 0}h&&(g=g.legend,d[f]=g?Ub(g):g);return d},{})}parseData(){this.component.data=cl(this)}parseLayoutSize(){const {size:a,component:d}=this;for(const g of wh){const h=Q(g);if(a[h]){var f=a[h];d.layoutSize.set(h,Ae(f)?"step":f,!0)}else f=pm(this,h),d.layoutSize.set(h,f,!1)}}parseSelections(){var a=this.component;{var d=this.selection;var f={};const p=this.config.selection;if(d&&d.length)for(const C of d){d=ua(C.name);
var g=C.select,h=l.isString(g)?g:g.type;g=l.isObject(g)?we(g):{type:h};const P=p[h];for(const aa in P)if("fields"!==aa&&"encodings"!==aa&&("mark"===aa&&(g[aa]=Object.assign({},P[aa],g[aa])),void 0===g[aa]||!0===g[aa])){let sa;g[aa]=we(null!=(sa=P[aa])?sa:g[aa])}d=f[d]=Object.assign({},g,{name:d,type:h,init:C.value,bind:C.bind,events:l.isString(g.on)?l.parseSelector(g.on,"scope"):l.array(we(g.on))});h=we(C);for(const aa of si)aa.defined(d)&&aa.parse&&aa.parse(this,d,h)}}a.selection=f}parseMarkGroup(){this.component.mark=
on(this)}parseAxesAndHeaders(){this.component.axes=Kn(this)}assembleSelectionTopLevelSignals(a){return sh(this,a)}assembleSignals(){var a=[...Yj(this)];var d=[];var f;for(const g of wg(null!=(f=this.component.selection)?f:{})){f=g.name;let h=`${f}${"_tuple"}, ${"global"===g.resolve?"true":`{unit: ${Hf(this)}}`}`;for(const p of si)p.defined(g)&&(p.signals&&(d=p.signals(this,g,d)),p.modifyExpr&&(h=p.modifyExpr(this,g,h)));d.push({name:f+"_modify",on:[{events:{signal:g.name+"_tuple"},update:`modify(${l.stringValue(g.name+
"_store")}, ${h})`}]})}d=za(d);return[...a,...d]}assembleSelectionData(a){return zi(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return ak(this)}assembleMarks(){let a,d=null!=(a=this.component.mark)?a:[];this.parent&&fi(this.parent)||(d=G(this,d));return d.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return Ke(this.encoding,
a)}fieldDef(a){return de(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return Jc(a)?a:null}}class rj extends vk{constructor(a,d,f,g,h){super(a,"layer",d,f,h,a.resolve,a.view);V(this,"children",void 0);const p=Object.assign({},g,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=a.layer.map((C,P)=>{if("layer"in C)return new rj(C,this,this.getName(`layer_${P}`),p,h);if(mf(C))return new gl(C,this,this.getName(`layer_${P}`),p,h);throw Error(Aa(C));})}parseData(){this.component.data=
cl(this);for(const a of this.children)a.parseData()}parseLayoutSize(){nl(this);zj(this,"width");zj(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const d of hd(a.component.selection))this.component.selection[d]=a.component.selection[d]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,resolve:d}=this.component,f={top:0,bottom:0,right:0,left:0};for(var g of this.children){g.parseAxesAndHeaders();
for(const h of hd(g.component.axes))d.axis[h]=q(this.component.resolve,h),"shared"===d.axis[h]&&(a[h]=Nn(a[h],g.component.axes[h]),a[h]||(d.axis[h]="independent",delete a[h]))}for(const h of wh){for(const p of this.children)if(p.component.axes[h]){if("independent"===d.axis[h]){let C;a[h]=(null!=(C=a[h])?C:[]).concat(p.component.axes[h]);for(const P of p.component.axes[h]){const {value:aa,explicit:sa}=P.getWithExplicit("orient");Pb(aa)||(0<f[aa]&&!sa&&(g=sj[aa],f[aa]>f[g]&&P.set("orient",g,!1)),f[aa]++)}}delete p.component.axes[h]}if("independent"===
d.axis[h]&&a[h]&&1<a[h].length)for(const p of(a[h]||[]).entries()){const [C,P]=p;0<C&&P.get("grid")&&!P.explicit.grid&&(P.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((d,f)=>f.assembleSelectionTopLevelSignals(d),a)}assembleSignals(){return this.children.reduce((a,d)=>a.concat(d.assembleSignals()),Yj(this))}assembleLayoutSignals(){return this.children.reduce((a,d)=>a.concat(d.assembleLayoutSignals()),ak(this))}assembleSelectionData(a){return this.children.reduce((d,
f)=>f.assembleSelectionData(d),a)}assembleGroupStyle(){var a=new Set;for(const d of this.children)for(const f of l.array(d.assembleGroupStyle()))a.add(f);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const d of this.children)if(a=d.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return ba(this,this.children.flatMap(a=>a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,d)=>a.concat(d.assembleLegends()),
pc(this))}}u.accessPathDepth=Na;u.accessPathWithDatum=Xa;u.compile=function(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d.logger&&(oi=d.logger);d.fieldTitle&&(Jj=d.fieldTitle);try{const ab=Ag(l.mergeConfig(d.config,a.config)),rb=Yi(a,ab),ac=Dl(rb,null,"",void 0,ab);ac.parse();var f=ac.component.data,g=ac;od(f.sources);let Dc=0,gc=0;for(var h=0;5>h&&sd(f,g,!0);h++)Dc++;f.sources.map(ej);for(h=0;5>h&&sd(f,g,!1);h++)gc++;od(f.sources);5===Math.max(Dc,gc)&&K("Maximum optimization runs(5) reached.");
var p=rb.autosize;f=ab;g=ac;const Cc=g.component.layoutSize.get("width"),Tc=g.component.layoutSize.get("height");void 0===p?(p={type:"pad"},g.hasAxisOrientSignalRef()&&(p.resize=!0)):l.isString(p)&&(p={type:p});var C;if(C=Cc&&Tc){var P=p.type;C="fit"===P||"fit-x"===P||"fit-y"===P}if(C)if("step"===Cc&&"step"===Tc)K(ob()),p.type="pad";else if("step"===Cc||"step"===Tc){P="step"===Cc?"width":"height";K(ob(X(P)));C=p;var aa=(P="width"===P?"height":"width",`fit-${X(P)}`);C.type=aa}var sa=Object.assign({},
1===hd(p).length&&p.type?"pad"===p.type?{}:{autosize:p.type}:{autosize:p},rh(f,!1),rh(a,!0));return{spec:Un(ac,sa,a.datasets,a.usermeta),normalized:rb}}finally{d.logger&&(oi=Sk),d.fieldTitle&&(Jj=Em)}};u.contains=wb;u.deepEqual=na;u.deleteNestedProperty=xa;u.duplicate=we;u.entries=li;u.every=Yb;u.fieldIntersection=Cb;u.flatAccessWithDatum=La;u.getFirstDefined=U;u.hasIntersection=xb;u.hash=Db;u.internalField=Ja;u.isBoolean=mc;u.isEmpty=lb;u.isEqual=function(a,d){const f=hd(a),g=hd(d);if(f.length!==
g.length)return!1;for(const h of f)if(a[h]!==d[h])return!1;return!0};u.isInternalField=Z;u.isNullOrFalse=yb;u.isNumeric=ma;u.keys=hd;u.logicalExpr=ha;u.mergeDeep=Ba;u.never=ub;u.normalize=Yi;u.normalizeAngle=Fa;u.omit=ec;u.pick=Wb;u.prefixGenerator=qb;u.removePathFromField=Rb;u.replaceAll=vb;u.replacePathInField=fb;u.resetIdCounter=function(){Ol=42};u.setEqual=Ab;u.some=Qb;u.stringify=n;u.titleCase=Sa;u.unique=bb;u.uniqueId=ea;u.vals=wg;u.varName=ua;u.version="5.16.3"})};
shadow$provide[58]=function(Fb,nb,zc,Ya){var u=nb(0);(function(l,ja){"object"===typeof Ya&&"undefined"!==typeof zc?zc.exports=ja(nb(56),nb(57)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],ja):(l=l||self,l.vegaEmbed=ja(l.vega,l.vegaLite))})(this,function(l,ja){function Za(v,R,ca,wa){function pa(eb){return eb instanceof ca?eb:new ca(function(Lb){Lb(eb)})}return new (ca||(ca=Promise))(function(eb,Lb){function $b(Pc){try{Ec(wa.next(Pc))}catch(Nc){Lb(Nc)}}function hc(Pc){try{Ec(wa["throw"](Pc))}catch(Nc){Lb(Nc)}}
function Ec(Pc){Pc.done?eb(Pc.value):pa(Pc.value).then($b,hc)}Ec((wa=wa.apply(v,R||[])).next())})}function ub(v){if(Array.isArray(v)){var R=Array(v.length);for(v=0;v<R.length;v++)R[v]=""+v;return R}if(Object.keys)return Object.keys(v);R=[];for(var ca in v)F.call(v,ca)&&R.push(ca);return R}function Wb(v){switch(typeof v){case "object":return JSON.parse(JSON.stringify(v));case "undefined":return null;default:return v}}function ec(v){for(var R=0,ca=v.length,wa;R<ca;)if(wa=v.charCodeAt(R),48<=wa&&57>=
wa)R++;else return!1;return!0}function Db(v){return-1===v.indexOf("/")&&-1===v.indexOf("~")?v:v.replace(/~/g,"~0").replace(/\//g,"~1")}function yb(v){return v.replace(/~1/g,"/").replace(/~0/g,"~")}function wb(v){if(void 0===v)return!0;if(v)if(Array.isArray(v))for(var R=0,ca=v.length;R<ca;R++){if(wb(v[R]))return!0}else if("object"===typeof v){ca=ub(v);var wa=ca.length;for(R=0;R<wa;R++)if(wb(v[ca[R]]))return!0}return!1}function Qb(v,R){v=[v];for(var ca in R){var wa="object"===typeof R[ca]?JSON.stringify(R[ca],
null,2):R[ca];"undefined"!==typeof wa&&v.push(ca+": "+wa)}return v.join("\n")}function Yb(v,R){if(""==R)return v;R={op:"_get",path:R};Ba(v,R);return R.value}function Ba(v,R,ca,wa,pa,eb){void 0===ca&&(ca=!1);void 0===wa&&(wa=!0);void 0===pa&&(pa=!0);void 0===eb&&(eb=0);ca&&("function"==typeof ca?ca(R,0,v,R.path):Ab(R,0));if(""===R.path){pa={newDocument:v};if("add"===R.op)return pa.newDocument=R.value,pa;if("replace"===R.op)return pa.newDocument=R.value,pa.removed=v,pa;if("move"===R.op||"copy"===R.op)return pa.newDocument=
Yb(v,R.from),"move"===R.op&&(pa.removed=v),pa;if("test"===R.op){pa.test=qb(v,R.value);if(!1===pa.test)throw new x("Test operation failed","TEST_OPERATION_FAILED",eb,R,v);pa.newDocument=v;return pa}if("remove"===R.op)return pa.removed=v,pa.newDocument=null,pa;if("_get"===R.op)return R.value=v,pa;if(ca)throw new x("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",eb,R,v);return pa}wa||(v=Wb(v));wa=(R.path||"").split("/");var Lb=v,$b=1,hc=wa.length,Ec=void 0,
Pc;for(Pc="function"==typeof ca?ca:Ab;;){var Nc=wa[$b];if(pa&&"__proto__"==Nc)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");ca&&void 0===Ec&&(void 0===Lb[Nc]?Ec=wa.slice(0,$b).join("/"):$b==hc-1&&(Ec=R.path),void 0!==Ec&&Pc(R,0,v,Ec));$b++;if(Array.isArray(Lb)){if("-"===Nc)Nc=Lb.length;else{if(ca&&!ec(Nc))throw new x("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index",
"OPERATION_PATH_ILLEGAL_ARRAY_INDEX",eb,R,v);ec(Nc)&&(Nc=~~Nc)}if($b>=hc){if(ca&&"add"===R.op&&Nc>Lb.length)throw new x("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",eb,R,v);pa=B[R.op].call(R,Lb,Nc,v);if(!1===pa.test)throw new x("Test operation failed","TEST_OPERATION_FAILED",eb,R,v);return pa}}else if(Nc&&-1!=Nc.indexOf("~")&&(Nc=yb(Nc)),$b>=hc){pa=T[R.op].call(R,Lb,Nc,v);if(!1===pa.test)throw new x("Test operation failed","TEST_OPERATION_FAILED",
eb,R,v);return pa}Lb=Lb[Nc]}}function bb(v,R,ca,wa,pa){void 0===wa&&(wa=!0);void 0===pa&&(pa=!0);if(ca&&!Array.isArray(R))throw new x("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");wa||(v=Wb(v));wa=Array(R.length);for(var eb=0,Lb=R.length;eb<Lb;eb++)wa[eb]=Ba(v,R[eb],ca,!0,pa,eb),v=wa[eb].newDocument;wa.newDocument=v;return wa}function Ab(v,R,ca,wa){if("object"!==typeof v||null===v||Array.isArray(v))throw new x("Operation is not an object","OPERATION_NOT_AN_OBJECT",R,v,ca);if(T[v.op]){if("string"!==
typeof v.path)throw new x("Operation `path` property is not a string","OPERATION_PATH_INVALID",R,v,ca);if(0!==v.path.indexOf("/")&&0<v.path.length)throw new x('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",R,v,ca);if("move"!==v.op&&"copy"!==v.op||"string"===typeof v.from)if("add"!==v.op&&"replace"!==v.op&&"test"!==v.op||void 0!==v.value){if(("add"===v.op||"replace"===v.op||"test"===v.op)&&wb(v.value))throw new x("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",R,v,ca);if(ca)if("add"==v.op){var pa=v.path.split("/").length;wa=wa.split("/").length;if(pa!==wa+1&&pa!==wa)throw new x("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",R,v,ca);}else if("replace"===v.op||"remove"===v.op||"_get"===v.op){if(v.path!==wa)throw new x("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",R,v,ca);}else if(("move"===v.op||"copy"===v.op)&&(pa=xb([{op:"_get",path:v.from,
value:void 0}],ca))&&"OPERATION_PATH_UNRESOLVABLE"===pa.name)throw new x("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",R,v,ca);}else throw new x("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",R,v,ca);else throw new x("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",R,v,ca);}else throw new x("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",R,v,ca);}function xb(v,R,ca){try{if(!Array.isArray(v))throw new x("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(R)bb(Wb(R),Wb(v),ca||!0);else{ca=ca||Ab;for(var wa=0;wa<v.length;wa++)ca(v[wa],wa,R,void 0)}}catch(pa){if(pa instanceof x)return pa;throw pa;}}function qb(v,R){if(v===R)return!0;if(v&&R&&"object"==typeof v&&"object"==typeof R){var ca=Array.isArray(v),wa=Array.isArray(R);if(ca&&wa){var pa=v.length;if(pa!=R.length)return!1;for(ca=pa;0!==ca--;)if(!qb(v[ca],
R[ca]))return!1;return!0}if(ca!=wa)return!1;wa=Object.keys(v);pa=wa.length;if(pa!==Object.keys(R).length)return!1;for(ca=pa;0!==ca--;)if(!R.hasOwnProperty(wa[ca]))return!1;for(ca=pa;0!==ca--;)if(pa=wa[ca],!qb(v[pa],R[pa]))return!1;return!0}return v!==v&&R!==R}function Cb(v,R){void 0===R&&(R=!1);var ca=Q.get(v.object);lb(ca.value,v.object,v.patches,"",R);v.patches.length&&bb(ca.value,v.patches);R=v.patches;0<R.length&&(v.patches=[],v.callback&&v.callback(R));return R}function lb(v,R,ca,wa,pa){if(R!==
v){"function"===typeof R.toJSON&&(R=R.toJSON());for(var eb=ub(R),Lb=ub(v),$b=!1,hc=Lb.length-1;0<=hc;hc--){var Ec=Lb[hc],Pc=v[Ec];if(!F.call(R,Ec)||void 0===R[Ec]&&void 0!==Pc&&!1===Array.isArray(R))Array.isArray(v)===Array.isArray(R)?(pa&&ca.push({op:"test",path:wa+"/"+Db(Ec),value:Wb(Pc)}),ca.push({op:"remove",path:wa+"/"+Db(Ec)}),$b=!0):(pa&&ca.push({op:"test",path:wa,value:v}),ca.push({op:"replace",path:wa,value:R}));else{var Nc=R[Ec];"object"==typeof Pc&&null!=Pc&&"object"==typeof Nc&&null!=
Nc?lb(Pc,Nc,ca,wa+"/"+Db(Ec),pa):Pc!==Nc&&(pa&&ca.push({op:"test",path:wa+"/"+Db(Ec),value:Wb(Pc)}),ca.push({op:"replace",path:wa+"/"+Db(Ec),value:Wb(Nc)}))}}if($b||eb.length!=Lb.length)for(hc=0;hc<eb.length;hc++)Ec=eb[hc],F.call(v,Ec)||void 0===R[Ec]||ca.push({op:"add",path:wa+"/"+Db(Ec),value:Wb(R[Ec])})}}function mc(v,R){return R={exports:{}},v(R,R.exports),R.exports}function ua(v,R,ca){v.fields=R||[];v.fname=ca;return v}function ha(v){function R(){ca.push(Lb+v.substring($b,hc));Lb="";$b=hc+1}
var ca=[],wa=null,pa=0,eb=v.length,Lb="",$b,hc;v+="";for($b=hc=0;hc<eb;++hc){var Ec=v[hc];if("\\"===Ec)Lb+=v.substring($b,hc),Lb+=v.substring(++hc,++hc),$b=hc;else if(Ec===wa)R(),wa=null,pa=-1;else if(!wa)if($b===pa&&'"'===Ec)$b=hc+1,wa=Ec;else if($b===pa&&"'"===Ec)$b=hc+1,wa=Ec;else if("."===Ec&&!pa)hc>$b?R():$b=hc+1;else if("["===Ec)hc>$b&&R(),pa=$b=hc+1;else if("]"===Ec){if(!pa)throw Error("Access path missing open bracket: "+v);0<pa&&R();pa=0;$b=hc+1}}if(pa)throw Error("Access path missing closing bracket: "+
v);if(wa)throw Error("Access path missing closing quote: "+v);hc>$b&&(hc++,R());return ca}function xa(v){return v===Object(v)}function Sa(v){return"string"===typeof v}function Xa(v){return vc(v)?"["+v.map(Xa)+"]":xa(v)||Sa(v)?JSON.stringify(v).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):v}function La(...v){return v.reduce((R,ca)=>{for(var wa in ca)"signals"===wa?R.signals=fb(R.signals,ca.signals):jb(R,wa,ca[wa],"legend"===wa?{layout:1}:"style"===wa?!0:null);return R},{})}function jb(v,
R,ca,wa){if("__proto__"!==R){var pa;if(xa(ca)&&!vc(ca))for(pa in v=xa(v[R])?v[R]:v[R]={},ca)wa&&(!0===wa||wa[pa])?jb(v,pa,ca[pa]):"__proto__"!==pa&&(v[pa]=ca[pa]);else v[R]=ca}}function fb(v,R){function ca(eb){wa[eb.name]||(wa[eb.name]=1,pa.push(eb))}if(null==v)return R;const wa={},pa=[];R.forEach(ca);v.forEach(ca);return pa}function vb(v,R,ca){if(vc(v))return`[${v.map(pa=>R(Sa(pa)?pa:JSON.stringify(pa,Rb(ca)))).join(", ")}]`;if(xa(v)){let pa="";var {title:wa}=v;v=Ic(v,["title"]);wa&&(pa+=`<h2>${R(wa)}</h2>`);
wa=Object.keys(v);if(0<wa.length){pa+="\x3ctable\x3e";for(const eb of wa)wa=v[eb],void 0!==wa&&(xa(wa)&&(wa=JSON.stringify(wa,Rb(ca))),pa+=`<tr><td class="key">${R(eb)}:</td><td class="value">${R(wa)}</td></tr>`);pa+="\x3c/table\x3e"}return pa||"{}"}return R(v)}function Rb(v){const R=[];return function(ca,wa){if("object"!==typeof wa||null===wa)return wa;ca=R.indexOf(this)+1;R.length=ca;if(R.length>v)return"[Object]";if(0<=R.indexOf(wa))return"[Circular]";R.push(wa);return wa}}function Na(v,R,ca){function wa($b){$b.source===
eb&&(Lb=0,v.removeEventListener("message",wa,!1))}function pa(){0>=Lb||(eb.postMessage(ca,"*"),setTimeout(pa,250),--Lb)}const eb=v.open(R);let Lb=40;v.addEventListener("message",wa,!1);setTimeout(pa,250)}function U(v,...R){for(const wa of R){R=v;var ca=wa;for(const pa of Object.keys(ca))l.writeConfig(R,pa,ca[pa],!0)}return v}function ea(v,R,ca,wa){R=`<html><head>${R}</head><body><pre><code class="json">`;ca=`</code></pre>${ca}</body></html>`;const pa=window.open("");pa.document.write(R+v+ca);pa.document.title=
`${gd[wa]} JSON Source`}function Ja(v,R){var ca;return v.$schema?(v=Wa(v.$schema),R&&R!==v.library&&console.warn(`The given visualization spec is written in ${gd[v.library]}, but mode argument sets ${null!==(ca=gd[R])&&void 0!==ca?ca:R}.`),R=v.library,Ia(z[R],`^${v.version.slice(1)}`)||console.warn(`The input spec uses ${gd[R]} ${v.version}, but the current version of ${gd[R]} is v${z[R]}.`),R):"mark"in v||"encoding"in v||"layer"in v||"hconcat"in v||"vconcat"in v||"facet"in v||"repeat"in v?"vega-lite":
"marks"in v||"signals"in v||"scales"in v||"axes"in v?"vega":null!==R&&void 0!==R?R:"vega"}function Z(v,R,ca={}){var wa,pa,eb;return Za(this,void 0,void 0,function*(){var Lb=ca.loader;Lb=Lb&&"load"in Lb?ca.loader:Uc.loader(ca.loader);const $b=Sa(R)?JSON.parse(yield Lb.load(R)):R;var hc=yield Fa(null!==(wa=$b.usermeta&&$b.usermeta.embedOptions)&&void 0!==wa?wa:{},Lb);const Ec=yield Fa(ca,Lb);hc=Object.assign(Object.assign({},U(Ec,hc)),{config:La(null!==(pa=Ec.config)&&void 0!==pa?pa:{},null!==(eb=hc.config)&&
void 0!==eb?eb:{})});return yield ma(v,$b,hc,Lb)})}function Fa(v,R){var ca;return Za(this,void 0,void 0,function*(){const wa=Sa(v.config)?JSON.parse(yield R.load(v.config)):null!==(ca=v.config)&&void 0!==ca?ca:{},pa=Sa(v.patch)?JSON.parse(yield R.load(v.patch)):v.patch;return Object.assign(Object.assign(Object.assign({},v),pa?{patch:pa}:{}),wa?{config:wa}:{})})}function ma(v,R,ca={},wa){var pa,eb,Lb,$b,hc,Ec;return Za(this,void 0,void 0,function*(){const Pc=ca.theme?La(Gb[ca.theme],null!==(pa=ca.config)&&
void 0!==pa?pa:{}):ca.config;var Nc="boolean"===typeof ca.actions?ca.actions:U({},ed,null!==(eb=ca.actions)&&void 0!==eb?eb:{});const md=Object.assign(Object.assign({},ge),ca.i18n),td=null!==(Lb=ca.renderer)&&void 0!==Lb?Lb:"canvas";var yd=null!==($b=ca.logLevel)&&void 0!==$b?$b:Uc.Warn,Md=null!==(hc=ca.downloadFileName)&&void 0!==hc?hc:"visualization";if(!1!==ca.defaultStyle&&!document.getElementById("vega-embed-style")){var Ad=document.createElement("style");Ad.id="vega-embed-style";Ad.innerText=
void 0===ca.defaultStyle||!0===ca.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
ca.defaultStyle;document.head.appendChild(Ad)}const je=Ja(R,ca.mode);let Me=K[je](R,Pc);"vega-lite"===je&&Me.$schema&&(Ad=Wa(Me.$schema),Ia(z.vega,`^${Ad.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${Ad.version}, but current version is v${z.vega}.`));Ad="string"===typeof v?document.querySelector(v):v;if(!Ad)throw Error(`${v} does not exist`);Ad.classList.add("vega-embed");Nc&&Ad.classList.add("has-actions");Ad.innerHTML="";var Qe=ca.patch;Qe&&(Me=Qe instanceof Function?Qe(Me):bb(Me,
Qe,!0,!1).newDocument);ca.formatLocale&&Uc.formatLocale(ca.formatLocale);ca.timeFormatLocale&&Uc.timeFormatLocale(ca.timeFormatLocale);Qe=Uc.parse(Me,"vega-lite"===je?{}:Pc);const Re=new Uc.View(Qe,{loader:wa,logLevel:yd,renderer:td});!1!==ca.tooltip&&(yd="function"===typeof ca.tooltip?ca.tooltip:(new id(!0===ca.tooltip?{}:ca.tooltip)).call,Re.tooltip(yd));({hover:yd}=ca);void 0===yd&&(yd="vega"===je);if(yd){const {hoverSet:De,updateSet:Ie}="boolean"===typeof yd?{}:yd;Re.hover(De,Ie)}ca&&(null!=ca.width&&
Re.width(ca.width),null!=ca.height&&Re.height(ca.height),null!=ca.padding&&Re.padding(ca.padding));yield Re.initialize(v).runAsync();let He;if(!1!==Nc){yd=Ad;if(!1!==ca.defaultStyle){const De=document.createElement("details");De.title=md.CLICK_TO_VIEW_ACTIONS;Ad.append(De);yd=De;Ad=document.createElement("summary");Ad.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
De.append(Ad);He=Ie=>{De.contains(Ie.target)||De.removeAttribute("open")};document.addEventListener("click",He)}Ad=document.createElement("div");yd.append(Ad);Ad.classList.add("vega-actions");if(!0===Nc||!1!==Nc.export)for(const De of["svg","png"])if(!0===Nc||!0===Nc.export||Nc.export[De])yd=md[`${De.toUpperCase()}_ACTION`],Qe=document.createElement("a"),Qe.text=yd,Qe.href="#",Qe.target="_blank",Qe.download=`${Md}.${De}`,Qe.addEventListener("mousedown",function(Ie){return Za(this,void 0,void 0,function*(){Ie.preventDefault();
this.href=yield Re.toImageURL(De,ca.scaleFactor)})}),Ad.append(Qe);if(!0===Nc||!1!==Nc.source)Md=document.createElement("a"),Md.text=md.SOURCE_ACTION,Md.href="#",Md.addEventListener("mousedown",function(De){var Ie,ke;ea(Da(R),null!==(Ie=ca.sourceHeader)&&void 0!==Ie?Ie:"",null!==(ke=ca.sourceFooter)&&void 0!==ke?ke:"",je);De.preventDefault()}),Ad.append(Md);"vega-lite"!==je||!0!==Nc&&!1===Nc.compiled||(Md=document.createElement("a"),Md.text=md.COMPILED_ACTION,Md.href="#",Md.addEventListener("mousedown",
function(De){var Ie,ke;ea(Da(Me),null!==(Ie=ca.sourceHeader)&&void 0!==Ie?Ie:"",null!==(ke=ca.sourceFooter)&&void 0!==ke?ke:"","vega");De.preventDefault()}),Ad.append(Md));if(!0===Nc||!1!==Nc.editor){const De=null!==(Ec=ca.editorUrl)&&void 0!==Ec?Ec:"https://vega.github.io/editor/";Nc=document.createElement("a");Nc.text=md.EDITOR_ACTION;Nc.href="#";Nc.addEventListener("mousedown",function(Ie){Na(window,De,{config:Pc,mode:je,renderer:td,spec:Da(R)});Ie.preventDefault()});Ad.append(Nc)}}return{view:Re,
spec:R,vgSpec:Me,finalize:function(){He&&document.removeEventListener("click",He);Re.finalize()}}})}function na(v,R={}){var ca;return Za(this,void 0,void 0,function*(){const wa=document.createElement("div");wa.classList.add("vega-embed-wrapper");var pa=document.createElement("div");wa.appendChild(pa);const eb=!0===R.actions||!1===R.actions?R.actions:Object.assign({export:!0,source:!1,compiled:!0,editor:!0},null!==(ca=R.actions)&&void 0!==ca?ca:{});pa=yield Z(pa,v,Object.assign({actions:eb},null!==
R&&void 0!==R?R:{}));wa.value=pa.view;return wa})}var n=function(){var v=function(R,ca){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(wa,pa){wa.__proto__=pa}||function(wa,pa){for(var eb in pa)pa.hasOwnProperty(eb)&&(wa[eb]=pa[eb])};return v(R,ca)};return function(R,ca){function wa(){this.constructor=R}v(R,ca);R.prototype=null===ca?Object.create(ca):(wa.prototype=ca.prototype,new wa)}}(),F=Object.prototype.hasOwnProperty,N=function(v){function R(ca,wa,pa,eb,Lb){var $b=this.constructor,
hc=v.call(this,Qb(ca,{name:wa,index:pa,operation:eb,tree:Lb}))||this;hc.name=wa;hc.index=pa;hc.operation=eb;hc.tree=Lb;Object.setPrototypeOf(hc,$b.prototype);hc.message=Qb(ca,{name:wa,index:pa,operation:eb,tree:Lb});return hc}n(R,v);return R}(Error),x=N,T={add:function(v,R,ca){v[R]=this.value;return{newDocument:ca}},remove:function(v,R,ca){var wa=v[R];delete v[R];return{newDocument:ca,removed:wa}},replace:function(v,R,ca){var wa=v[R];v[R]=this.value;return{newDocument:ca,removed:wa}},move:function(v,
R,ca){(v=Yb(ca,this.path))&&(v=Wb(v));R=Ba(ca,{op:"remove",path:this.from}).removed;Ba(ca,{op:"add",path:this.path,value:R});return{newDocument:ca,removed:v}},copy:function(v,R,ca){v=Yb(ca,this.from);Ba(ca,{op:"add",path:this.path,value:Wb(v)});return{newDocument:ca}},test:function(v,R,ca){return{newDocument:ca,test:qb(v[R],this.value)}},_get:function(v,R,ca){this.value=v[R];return{newDocument:ca}}},B={add:function(v,R,ca){ec(R)?v.splice(R,0,this.value):v[R]=this.value;return{newDocument:ca,index:R}},
remove:function(v,R,ca){v=v.splice(R,1);return{newDocument:ca,removed:v[0]}},replace:function(v,R,ca){var wa=v[R];v[R]=this.value;return{newDocument:ca,removed:wa}},move:T.move,copy:T.copy,test:T.test,_get:T._get},A=Object.freeze({__proto__:null,JsonPatchError:x,deepClone:Wb,getValueByPointer:Yb,applyOperation:Ba,applyPatch:bb,applyReducer:function(v,R,ca){var wa=Ba(v,R);if(!1===wa.test)throw new x("Test operation failed","TEST_OPERATION_FAILED",ca,R,v);return wa.newDocument},validator:Ab,validate:xb,
_areEquals:qb}),Q=new WeakMap,D=function(){return function(v){this.observers=new Map;this.obj=v}}(),E=function(){return function(v,R){this.callback=v;this.observer=R}}(),I=Object.freeze({__proto__:null,unobserve:function(v,R){R.unobserve()},observe:function(v,R){var ca=Q.get(v);if(ca){var wa=ca.observers.get(R);var pa=wa&&wa.observer}else ca=new D(v),Q.set(v,ca);if(pa)return pa;pa={};ca.value=Wb(v);if(R){pa.callback=R;pa.next=null;var eb=function(){Cb(pa)},Lb=function(){clearTimeout(pa.next);pa.next=
setTimeout(eb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",Lb),window.addEventListener("keyup",Lb),window.addEventListener("mousedown",Lb),window.addEventListener("keydown",Lb),window.addEventListener("change",Lb))}pa.patches=[];pa.object=v;pa.unobserve=function(){Cb(pa);clearTimeout(pa.next);ca.observers.delete(pa.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Lb),window.removeEventListener("keyup",Lb),window.removeEventListener("mousedown",Lb),
window.removeEventListener("keydown",Lb),window.removeEventListener("change",Lb))};ca.observers.set(R,new E(R,pa));return pa},generate:Cb,compare:function(v,R,ca){void 0===ca&&(ca=!1);var wa=[];lb(v,R,wa,"",ca);return wa}});Object.assign({},A,I,{JsonPatchError:N,deepClone:Wb,escapePathComponent:Db,unescapePathComponent:yb});var X=/("(?:[^\\"]|\\.)*")|[:,]/g,Da=function(v,R){R=R||{};var ca=JSON.stringify([1],void 0,void 0===R.indent?2:R.indent).slice(2,-3);var wa=""===ca?Infinity:void 0===R.maxLength?
80:R.maxLength;var pa=R.replacer;return function Ec(Lb,$b,hc){Lb&&"function"===typeof Lb.toJSON&&(Lb=Lb.toJSON());var Pc=JSON.stringify(Lb,pa);if(void 0===Pc)return Pc;hc=wa-$b.length-hc;if(Pc.length<=hc){var Nc=Pc.replace(X,function(Qe,Re){return Re||Qe+" "});if(Nc.length<=hc)return Nc}null!=pa&&(Lb=JSON.parse(Pc),pa=void 0);if("object"===typeof Lb&&null!==Lb){var md=$b+ca;var td=[];var yd=0;if(Array.isArray(Lb)){var Md="[";Nc="]";for(hc=Lb.length;yd<hc;yd++)td.push(Ec(Lb[yd],md,yd===hc-1?0:1)||
"null")}else{Md="{";Nc="}";var Ad=Object.keys(Lb);for(hc=Ad.length;yd<hc;yd++){var je=Ad[yd];var Me=JSON.stringify(je)+": ";je=Ec(Lb[je],md,Me.length+(yd===hc-1?0:1));void 0!==je&&td.push(Me+je)}}if(0<td.length)return[Md,ca+td.join(",\n"+md),Nc].join("\n"+$b)}return Pc}(v,"",0)},S={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},ia="object"===typeof u&&u.env&&u.env.NODE_DEBUG&&/\bsemver\b/i.test(u.env.NODE_DEBUG)?
(...v)=>console.error("SEMVER",...v):()=>{},Ca=mc(function(v,R){const {MAX_SAFE_COMPONENT_LENGTH:ca}=S;R=v.exports={};const wa=R.re=[],pa=R.src=[],eb=R.t={};let Lb=0;v=($b,hc,Ec)=>{const Pc=Lb++;ia(Pc,hc);eb[$b]=Pc;pa[Pc]=hc;wa[Pc]=new RegExp(hc,Ec?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*");v("NUMERICIDENTIFIERLOOSE","[0-9]+");v("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");v("MAINVERSION",`(${pa[eb.NUMERICIDENTIFIER]})\\.`+`(${pa[eb.NUMERICIDENTIFIER]})\\.`+`(${pa[eb.NUMERICIDENTIFIER]})`);
v("MAINVERSIONLOOSE",`(${pa[eb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${pa[eb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${pa[eb.NUMERICIDENTIFIERLOOSE]})`);v("PRERELEASEIDENTIFIER",`(?:${pa[eb.NUMERICIDENTIFIER]}|${pa[eb.NONNUMERICIDENTIFIER]})`);v("PRERELEASEIDENTIFIERLOOSE",`(?:${pa[eb.NUMERICIDENTIFIERLOOSE]}|${pa[eb.NONNUMERICIDENTIFIER]})`);v("PRERELEASE",`(?:-(${pa[eb.PRERELEASEIDENTIFIER]}(?:\\.${pa[eb.PRERELEASEIDENTIFIER]})*))`);v("PRERELEASELOOSE",`(?:-?(${pa[eb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${pa[eb.PRERELEASEIDENTIFIERLOOSE]})*))`);
v("BUILDIDENTIFIER","[0-9A-Za-z-]+");v("BUILD",`(?:\\+(${pa[eb.BUILDIDENTIFIER]}(?:\\.${pa[eb.BUILDIDENTIFIER]})*))`);v("FULLPLAIN",`v?${pa[eb.MAINVERSION]}${pa[eb.PRERELEASE]}?${pa[eb.BUILD]}?`);v("FULL",`^${pa[eb.FULLPLAIN]}$`);v("LOOSEPLAIN",`[v=\\s]*${pa[eb.MAINVERSIONLOOSE]}${pa[eb.PRERELEASELOOSE]}?${pa[eb.BUILD]}?`);v("LOOSE",`^${pa[eb.LOOSEPLAIN]}$`);v("GTLT","((?:\x3c|\x3e)?\x3d?)");v("XRANGEIDENTIFIERLOOSE",`${pa[eb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);v("XRANGEIDENTIFIER",`${pa[eb.NUMERICIDENTIFIER]}|x|X|\\*`);
v("XRANGEPLAIN",`[v=\\s]*(${pa[eb.XRANGEIDENTIFIER]})`+`(?:\\.(${pa[eb.XRANGEIDENTIFIER]})`+`(?:\\.(${pa[eb.XRANGEIDENTIFIER]})`+`(?:${pa[eb.PRERELEASE]})?${pa[eb.BUILD]}?`+")?)?");v("XRANGEPLAINLOOSE",`[v=\\s]*(${pa[eb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${pa[eb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${pa[eb.XRANGEIDENTIFIERLOOSE]})`+`(?:${pa[eb.PRERELEASELOOSE]})?${pa[eb.BUILD]}?`+")?)?");v("XRANGE",`^${pa[eb.GTLT]}\\s*${pa[eb.XRANGEPLAIN]}$`);v("XRANGELOOSE",`^${pa[eb.GTLT]}\\s*${pa[eb.XRANGEPLAINLOOSE]}$`);
v("COERCE",`${"(^|[^\\d])(\\d{1,"}${ca}})`+`(?:\\.(\\d{1,${ca}}))?`+`(?:\\.(\\d{1,${ca}}))?`+"(?:$|[^\\d])");v("COERCERTL",pa[eb.COERCE],!0);v("LONETILDE","(?:~\x3e?)");v("TILDETRIM",`(\\s*)${pa[eb.LONETILDE]}\\s+`,!0);R.tildeTrimReplace="$1~";v("TILDE",`^${pa[eb.LONETILDE]}${pa[eb.XRANGEPLAIN]}$`);v("TILDELOOSE",`^${pa[eb.LONETILDE]}${pa[eb.XRANGEPLAINLOOSE]}$`);v("LONECARET","(?:\\^)");v("CARETTRIM",`(\\s*)${pa[eb.LONECARET]}\\s+`,!0);R.caretTrimReplace="$1^";v("CARET",`^${pa[eb.LONECARET]}${pa[eb.XRANGEPLAIN]}$`);
v("CARETLOOSE",`^${pa[eb.LONECARET]}${pa[eb.XRANGEPLAINLOOSE]}$`);v("COMPARATORLOOSE",`^${pa[eb.GTLT]}\\s*(${pa[eb.LOOSEPLAIN]})$|^$`);v("COMPARATOR",`^${pa[eb.GTLT]}\\s*(${pa[eb.FULLPLAIN]})$|^$`);v("COMPARATORTRIM",`(\\s*)${pa[eb.GTLT]}\\s*(${pa[eb.LOOSEPLAIN]}|${pa[eb.XRANGEPLAIN]})`,!0);R.comparatorTrimReplace="$1$2$3";v("HYPHENRANGE",`^\\s*(${pa[eb.XRANGEPLAIN]})`+"\\s+-\\s+"+`(${pa[eb.XRANGEPLAIN]})`+"\\s*$");v("HYPHENRANGELOOSE",`^\\s*(${pa[eb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${pa[eb.XRANGEPLAINLOOSE]})`+
"\\s*$");v("STAR","(\x3c|\x3e)?\x3d?\\s*\\*")});const Qa=/^[0-9]+$/,Ra=(v,R)=>{const ca=Qa.test(v),wa=Qa.test(R);ca&&wa&&(v=+v,R=+R);return v===R?0:ca&&!wa?-1:wa&&!ca?1:v<R?-1:1};var db={compareIdentifiers:Ra,rcompareIdentifiers:(v,R)=>Ra(R,v)};const {MAX_LENGTH:zb,MAX_SAFE_INTEGER:kb}=S,{re:Vb,t:Y}=Ca,{compareIdentifiers:Ha}=db;class Ub{constructor(v,R){R&&"object"===typeof R||(R={loose:!!R,includePrerelease:!1});if(v instanceof Ub){if(v.loose===!!R.loose&&v.includePrerelease===!!R.includePrerelease)return v;
v=v.version}else if("string"!==typeof v)throw new TypeError(`Invalid Version: ${v}`);if(v.length>zb)throw new TypeError(`version is longer than ${zb} characters`);ia("SemVer",v,R);this.options=R;this.loose=!!R.loose;this.includePrerelease=!!R.includePrerelease;R=v.trim().match(R.loose?Vb[Y.LOOSE]:Vb[Y.FULL]);if(!R)throw new TypeError(`Invalid Version: ${v}`);this.raw=v;this.major=+R[1];this.minor=+R[2];this.patch=+R[3];if(this.major>kb||0>this.major)throw new TypeError("Invalid major version");if(this.minor>
kb||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>kb||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=R[4]?R[4].split(".").map(ca=>{if(/^[0-9]+$/.test(ca)){const wa=+ca;if(0<=wa&&wa<kb)return wa}return ca}):[];this.build=R[5]?R[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(v){ia("SemVer.compare",
this.version,this.options,v);if(!(v instanceof Ub)){if("string"===typeof v&&v===this.version)return 0;v=new Ub(v,this.options)}return v.version===this.version?0:this.compareMain(v)||this.comparePre(v)}compareMain(v){v instanceof Ub||(v=new Ub(v,this.options));return Ha(this.major,v.major)||Ha(this.minor,v.minor)||Ha(this.patch,v.patch)}comparePre(v){v instanceof Ub||(v=new Ub(v,this.options));if(this.prerelease.length&&!v.prerelease.length)return-1;if(!this.prerelease.length&&v.prerelease.length)return 1;
if(!this.prerelease.length&&!v.prerelease.length)return 0;let R=0;do{const ca=this.prerelease[R],wa=v.prerelease[R];ia("prerelease compare",R,ca,wa);if(void 0===ca&&void 0===wa)return 0;if(void 0===wa)return 1;if(void 0===ca)return-1;if(ca!==wa)return Ha(ca,wa)}while(++R)}compareBuild(v){v instanceof Ub||(v=new Ub(v,this.options));let R=0;do{const ca=this.build[R],wa=v.build[R];ia("prerelease compare",R,ca,wa);if(void 0===ca&&void 0===wa)return 0;if(void 0===wa)return 1;if(void 0===ca)return-1;if(ca!==
wa)return Ha(ca,wa)}while(++R)}inc(v,R){switch(v){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",R);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",R);break;case "prepatch":this.prerelease.length=0;this.inc("patch",R);this.inc("pre",R);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",R);this.inc("pre",R);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=
this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(v=this.prerelease.length;0<=--v;)"number"===typeof this.prerelease[v]&&(this.prerelease[v]++,v=-2);-1===v&&this.prerelease.push(0)}R&&(this.prerelease[0]===R?isNaN(this.prerelease[1])&&(this.prerelease=[R,0]):
this.prerelease=[R,0]);break;default:throw Error(`invalid increment argument: ${v}`);}this.format();this.raw=this.version;return this}}var kc=Ub,Zb=(v,R,ca)=>(new kc(v,ca)).compare(new kc(R,ca)),Pb=(v,R,ca,wa)=>{switch(R){case "\x3d\x3d\x3d":return"object"===typeof v&&(v=v.version),"object"===typeof ca&&(ca=ca.version),v===ca;case "!\x3d\x3d":return"object"===typeof v&&(v=v.version),"object"===typeof ca&&(ca=ca.version),v!==ca;case "":case "\x3d":case "\x3d\x3d":return 0===Zb(v,ca,wa);case "!\x3d":return 0!==
Zb(v,ca,wa);case "\x3e":return 0<Zb(v,ca,wa);case "\x3e\x3d":return 0<=Zb(v,ca,wa);case "\x3c":return 0>Zb(v,ca,wa);case "\x3c\x3d":return 0>=Zb(v,ca,wa);default:throw new TypeError(`Invalid operator: ${R}`);}};class Nb{constructor(v,R){R&&"object"===typeof R||(R={loose:!!R,includePrerelease:!1});if(v instanceof Nb)return v.loose===!!R.loose&&v.includePrerelease===!!R.includePrerelease?v:new Nb(v.raw,R);if(v instanceof w)return this.raw=v.value,this.set=[[v]],this.format(),this;this.options=R;this.loose=
!!R.loose;this.includePrerelease=!!R.includePrerelease;this.raw=v;this.set=v.split(/\s*\|\|\s*/).map(ca=>this.parseRange(ca.trim())).filter(ca=>ca.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${v}`);this.format()}format(){return this.range=this.set.map(v=>v.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(v){const R=this.options.loose;v=v.trim();v=v.replace(R?Mc[ra.HYPHENRANGELOOSE]:Mc[ra.HYPHENRANGE],Ma);ia("hyphen replace",v);v=v.replace(Mc[ra.COMPARATORTRIM],
Hb);ia("comparator trim",v,Mc[ra.COMPARATORTRIM]);v=v.replace(Mc[ra.TILDETRIM],Va);v=v.replace(Mc[ra.CARETTRIM],Bb);v=v.split(/\s+/).join(" ");const ca=R?Mc[ra.COMPARATORLOOSE]:Mc[ra.COMPARATOR];return v.split(" ").map(wa=>{var pa=wa;wa=this.options;ia("comp",pa,wa);pa=rc(pa,wa);ia("caret",pa);pa=Xb(pa,wa);ia("tildes",pa);pa=Lc(pa,wa);ia("xrange",pa);ia("replaceStars",pa,wa);pa=pa.trim().replace(Mc[ra.STAR],"");ia("stars",pa);return pa}).join(" ").split(/\s+/).filter(this.options.loose?wa=>!!wa.match(ca):
()=>!0).map(wa=>new w(wa,this.options))}intersects(v,R){if(!(v instanceof Nb))throw new TypeError("a Range is required");return this.set.some(ca=>Ib(ca,R)&&v.set.some(wa=>Ib(wa,R)&&ca.every(pa=>wa.every(eb=>pa.intersects(eb,R)))))}test(v){if(!v)return!1;if("string"===typeof v)try{v=new kc(v,this.options)}catch(eb){return!1}for(let eb=0;eb<this.set.length;eb++){a:{var R=this.set[eb];var ca=v,wa=this.options;for(var pa=0;pa<R.length;pa++)if(!R[pa].test(ca)){R=!1;break a}if(ca.prerelease.length&&!wa.includePrerelease){for(wa=
0;wa<R.length;wa++)if(ia(R[wa].semver),R[wa].semver!==w.ANY&&0<R[wa].semver.prerelease.length&&(pa=R[wa].semver,pa.major===ca.major&&pa.minor===ca.minor&&pa.patch===ca.patch)){R=!0;break a}R=!1}else R=!0}if(R)return!0}return!1}}var tc=Nb;const {re:Mc,t:ra,comparatorTrimReplace:Hb,tildeTrimReplace:Va,caretTrimReplace:Bb}=Ca,Ib=(v,R)=>{let ca=!0;v=v.slice();let wa=v.pop();for(;ca&&v.length;)ca=v.every(pa=>wa.intersects(pa,R)),wa=v.pop();return ca},Eb=v=>!v||"x"===v.toLowerCase()||"*"===v,Xb=(v,R)=>
v.trim().split(/\s+/).map(ca=>jc(ca,R)).join(" "),jc=(v,R)=>v.replace(R.loose?Mc[ra.TILDELOOSE]:Mc[ra.TILDE],(ca,wa,pa,eb,Lb)=>{ia("tilde",v,ca,wa,pa,eb,Lb);Eb(wa)?ca="":Eb(pa)?ca=`>=${wa}.0.0 <${+wa+1}.0.0`:Eb(eb)?ca=`>=${wa}.${pa}.0 <${wa}.${+pa+1}.0`:Lb?(ia("replaceTilde pr",Lb),ca=`>=${wa}.${pa}.${eb}-${Lb} <${wa}.${+pa+1}.0`):ca=`>=${wa}.${pa}.${eb} <${wa}.${+pa+1}.0`;ia("tilde return",ca);return ca}),rc=(v,R)=>v.trim().split(/\s+/).map(ca=>ad(ca,R)).join(" "),ad=(v,R)=>{ia("caret",v,R);return v.replace(R.loose?
Mc[ra.CARETLOOSE]:Mc[ra.CARET],(ca,wa,pa,eb,Lb)=>{ia("caret",v,ca,wa,pa,eb,Lb);Eb(wa)?ca="":Eb(pa)?ca=`>=${wa}.0.0 <${+wa+1}.0.0`:Eb(eb)?ca="0"===wa?`>=${wa}.${pa}.0 <${wa}.${+pa+1}.0`:`>=${wa}.${pa}.0 <${+wa+1}.0.0`:Lb?(ia("replaceCaret pr",Lb),ca="0"===wa?"0"===pa?`>=${wa}.${pa}.${eb}-${Lb} <${wa}.${pa}.${+eb+1}`:`>=${wa}.${pa}.${eb}-${Lb} <${wa}.${+pa+1}.0`:`>=${wa}.${pa}.${eb}-${Lb} <${+wa+1}.0.0`):(ia("no pr"),ca="0"===wa?"0"===pa?`>=${wa}.${pa}.${eb} <${wa}.${pa}.${+eb+1}`:`>=${wa}.${pa}.${eb} <${wa}.${+pa+
1}.0`:`>=${wa}.${pa}.${eb} <${+wa+1}.0.0`);ia("caret return",ca);return ca})},Lc=(v,R)=>{ia("replaceXRanges",v,R);return v.split(/\s+/).map(ca=>oa(ca,R)).join(" ")},oa=(v,R)=>{v=v.trim();return v.replace(R.loose?Mc[ra.XRANGELOOSE]:Mc[ra.XRANGE],(ca,wa,pa,eb,Lb,$b)=>{ia("xRange",v,ca,wa,pa,eb,Lb,$b);const hc=Eb(pa),Ec=hc||Eb(eb);Lb=Ec||Eb(Lb);"\x3d"===wa&&Lb&&(wa="");$b=R.includePrerelease?"-0":"";hc?ca="\x3e"===wa||"\x3c"===wa?"\x3c0.0.0-0":"*":wa&&Lb?(Ec&&(eb=0),Lb=0,"\x3e"===wa?(wa="\x3e\x3d",Ec?
(pa=+pa+1,eb=0):eb=+eb+1,Lb=0):"\x3c\x3d"===wa&&(wa="\x3c",Ec?pa=+pa+1:eb=+eb+1),ca=`${wa+pa}.${eb}.${Lb}${$b}`):Ec?ca=`>=${pa}.0.0${$b} <${+pa+1}.0.0${$b}`:Lb&&(ca=`>=${pa}.${eb}.0${$b} <${pa}.${+eb+1}.0${$b}`);ia("xRange return",ca);return ca})},Ma=(v,R,ca,wa,pa,eb,Lb,$b,hc,Ec,Pc,Nc,md)=>{R=Eb(ca)?"":Eb(wa)?`>=${ca}.0.0`:Eb(pa)?`>=${ca}.${wa}.0`:`>=${R}`;$b=Eb(hc)?"":Eb(Ec)?`<${+hc+1}.0.0`:Eb(Pc)?`<${hc}.${+Ec+1}.0`:Nc?`<=${hc}.${Ec}.${Pc}-${Nc}`:`<=${$b}`;return`${R} ${$b}`.trim()},ib=Symbol("SemVer ANY");
class V{static get ANY(){return ib}constructor(v,R){R&&"object"===typeof R||(R={loose:!!R,includePrerelease:!1});if(v instanceof V){if(v.loose===!!R.loose)return v;v=v.value}ia("comparator",v,R);this.options=R;this.loose=!!R.loose;this.parse(v);this.value=this.semver===ib?"":this.operator+this.semver.version;ia("comp",this)}parse(v){const R=v.match(this.options.loose?da[Aa.COMPARATORLOOSE]:da[Aa.COMPARATOR]);if(!R)throw new TypeError(`Invalid comparator: ${v}`);this.operator=void 0!==R[1]?R[1]:"";
"\x3d"===this.operator&&(this.operator="");this.semver=R[2]?new kc(R[2],this.options.loose):ib}toString(){return this.value}test(v){ia("Comparator.test",v,this.options.loose);if(this.semver===ib||v===ib)return!0;if("string"===typeof v)try{v=new kc(v,this.options)}catch(R){return!1}return Pb(v,this.operator,this.semver,this.options)}intersects(v,R){if(!(v instanceof V))throw new TypeError("a Comparator is required");R&&"object"===typeof R||(R={loose:!!R,includePrerelease:!1});if(""===this.operator)return""===
this.value?!0:(new tc(v.value,R)).test(this.value);if(""===v.operator)return""===v.value?!0:(new tc(this.value,R)).test(v.semver);const ca=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===v.operator||"\x3e"===v.operator),wa=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===v.operator||"\x3c"===v.operator),pa=this.semver.version===v.semver.version,eb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===v.operator||"\x3c\x3d"===v.operator),Lb=
Pb(this.semver,"\x3c",v.semver,R)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===v.operator||"\x3c"===v.operator);v=Pb(this.semver,"\x3e",v.semver,R)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===v.operator||"\x3e"===v.operator);return ca||wa||pa&&eb||Lb||v}}var w=V;const {re:da,t:Aa}=Ca;var Ia=(v,R,ca)=>{try{R=new tc(R,ca)}catch(wa){return!1}return R.test(v)},Wa=function(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v["default"]:
v}(mc(function(v,R){Object.defineProperty(R,"__esModule",{value:!0});R.default=function(ca){ca=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(ca).slice(1,3);return{library:ca[0],version:ca[1]}}}));const ob={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},
Sb={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),
"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000",
"#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),
"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Gb=Object.freeze({__proto__:null,version:"2.8.2",dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},
path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},
area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},
rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},
line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},latimes:{background:"#ffffff",title:{anchor:"start",
color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",
maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:ob["category-6"],diverging:ob["fireandice-6"],heatmap:ob["fire-7"],ordinal:ob["fire-7"],ramp:ob["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},
rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},vox:{background:"#fff",arc:{fill:"#3e5c69"},
area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}},urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",
fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,
titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Sb["six-groups-cat-1"],diverging:Sb["diverging-colors"],heatmap:Sb["diverging-colors"],ordinal:Sb["six-groups-seq"],ramp:Sb["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,
align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},
"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6","#2a56c6"]}}});const Ob={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(v){return String(v).replace(/&/g,
"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};var vc=Array.isArray,Bc=[];(function(v,R){var ca=ha(v),wa="return _["+ca.map(Xa).join("][")+"];";return ua(Function("_",wa),[v=1===ca.length?ca[0]:v],R||v)})("id");ua(function(v){return v},Bc,"identity");ua(function(){return 0},Bc,"zero");ua(function(){return 1},Bc,"one");ua(function(){return!0},Bc,"true");ua(function(){return!1},Bc,"false");var Ic=function(v,R){var ca={},wa;for(wa in v)Object.prototype.hasOwnProperty.call(v,wa)&&0>R.indexOf(wa)&&(ca[wa]=
v[wa]);if(null!=v&&"function"===typeof Object.getOwnPropertySymbols){var pa=0;for(wa=Object.getOwnPropertySymbols(v);pa<wa.length;pa++)0>R.indexOf(wa[pa])&&Object.prototype.propertyIsEnumerable.call(v,wa[pa])&&(ca[wa[pa]]=v[wa[pa]])}return ca};class id{constructor(v){this.options=Object.assign(Object.assign({},Ob),v);v=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const ca=document.createElement("style");
ca.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(v))throw Error("Invalid HTML ID");var R="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
v);ca.innerHTML=R;R=document.head;0<R.childNodes.length?R.insertBefore(ca,R.childNodes[0]):R.appendChild(ca)}this.el=document.getElementById(v);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",v),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(v,R,ca,wa){if(null==wa||""===wa)this.el.classList.remove("visible",`${this.options.theme}-theme`);else{this.el.innerHTML=vb(wa,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",
`${this.options.theme}-theme`);v=this.el.getBoundingClientRect();var pa=this.options.offsetX;ca=this.options.offsetY;wa=R.clientX+pa;wa+v.width>window.innerWidth&&(wa=+R.clientX-pa-v.width);pa=R.clientY+ca;pa+v.height>window.innerHeight&&(pa=+R.clientY-ca-v.height);var {x:eb,y:Lb}={x:wa,y:pa};this.el.setAttribute("style",`top: ${Lb}px; left: ${eb}px`)}}}String.prototype.startsWith||(String.prototype.startsWith=function(v,R){return this.substr(!R||0>R?0:+R,v.length)===v});var dd;const Uc=l;let kd=
ja;const ld="undefined"!==typeof window?window:void 0;void 0===kd&&(null===(dd=null===ld||void 0===ld?void 0:ld.vl)||void 0===dd?0:dd.compile)&&(kd=ld.vl);const ed={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},ge={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},gd={vega:"Vega","vega-lite":"Vega-Lite"},z={vega:Uc.version,"vega-lite":kd?kd.version:
"not available"},K={vega:v=>v,"vega-lite":(v,R)=>kd.compile(v,{config:R}).spec},va=(...v)=>{var R;if(R=1<v.length){if(R=l.isString(v[0]))R=v[0],R=!(R.startsWith("http://")||R.startsWith("https://")||R.startsWith("//"));R=R||v[0]instanceof HTMLElement||3===v.length}return R?Z(v[0],v[1],v[2]):na(v[0],v[1])};va.vegaLite=kd;va.vl=kd;va.container=na;va.embed=Z;va.vega=Uc;va.default=Z;va.version="6.5.1";return va})};
shadow$provide[59]=function(Fb,nb,zc,Ya){Ya.__esModule=!0;Ya.default=function(u){const l={};return!!u&&"[object Function]"===l.toString.call(u)}};
shadow$provide[60]=function(Fb,nb,zc,Ya){Ya.__esModule=!0;Ya.default=function(ja,Za,ub){ub&&((0,l.default)(ub)?ub(ja.data(Za)):ja.change(Za,u.vega.changeset().remove(()=>!0).insert(ub)))};var u=nb(58),l=function(ja){return ja&&ja.__esModule?ja:{default:ja}}(nb(59))};
shadow$provide[61]=function(Fb,nb,zc,Ya){Ya.__esModule=!0;Ya.default=function(l,ja){Object.keys(ja).forEach(Za=>{(0,u.default)(l,Za,ja[Za])})};var u=function(l){return l&&l.__esModule?l:{default:l}}(nb(60))};
shadow$provide[62]=function(Fb,nb,zc,Ya){Ya.__esModule=!0;Ya.default=function(u){const l=new Set;u.forEach(ja=>{Object.keys(ja).forEach(Za=>{l.add(Za)})});return l}};
shadow$provide[63]=function(Fb,nb,zc,Ya){Ya.__esModule=!0;Ya.NOOP=void 0;Ya.NOOP=()=>{}};
shadow$provide[64]=function(Fb,nb,zc,Ya){Ya.__esModule=!0;Ya.default=function(u,l){const ja=Object.keys(l);ja.forEach(Za=>{try{u.addSignalListener(Za,l[Za])}catch(ub){console.warn("Cannot add invalid signal listener.",ub)}});return 0<ja.length}};
shadow$provide[65]=function(Fb,nb,zc,Ya){zc.exports=function Za(l,ja){if(l===ja)return!0;if(l&&ja&&"object"==typeof l&&"object"==typeof ja){if(l.constructor!==ja.constructor)return!1;var ub;if(Array.isArray(l)){var Wb=l.length;if(Wb!=ja.length)return!1;for(ub=Wb;0!==ub--;)if(!Za(l[ub],ja[ub]))return!1;return!0}if(l.constructor===RegExp)return l.source===ja.source&&l.flags===ja.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===ja.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===
ja.toString();var ec=Object.keys(l);Wb=ec.length;if(Wb!==Object.keys(ja).length)return!1;for(ub=Wb;0!==ub--;)if(!Object.prototype.hasOwnProperty.call(ja,ec[ub]))return!1;for(ub=Wb;0!==ub--;)if(Wb=ec[ub],!Za(l[Wb],ja[Wb]))return!1;return!0}return l!==l&&ja!==ja}};
shadow$provide[66]=function(Fb,nb,zc,Ya){function u(Za){return Za&&Za.__esModule?Za:{default:Za}}Ya.__esModule=!0;Ya.default=function(Za,ub){if(Za===ub)return!1;const Wb={width:!1,height:!1,isExpensive:!1},ec=(0,ja.default)([Za,ub]);!ec.has("width")||"width"in Za&&"width"in ub&&Za.width===ub.width||("width"in Za&&"number"===typeof Za.width?Wb.width=Za.width:Wb.isExpensive=!0);!ec.has("height")||"height"in Za&&"height"in ub&&Za.height===ub.height||("height"in Za&&"number"===typeof Za.height?Wb.height=
Za.height:Wb.isExpensive=!0);ec.delete("width");ec.delete("height");[...ec].some(Db=>!(Db in Za)||!(Db in ub)||!(0,l.default)(Za[Db],ub[Db]))&&(Wb.isExpensive=!0);return!1!==Wb.width||!1!==Wb.height||Wb.isExpensive?Wb:!1};var l=u(nb(65)),ja=u(nb(62))};
shadow$provide[67]=function(Fb,nb,zc,Ya){Ya.__esModule=!0;Ya.default=function(u,l){const ja=Object.keys(l);ja.forEach(Za=>{try{u.removeSignalListener(Za,l[Za])}catch(ub){console.warn("Cannot remove invalid signal listener.",ub)}});return 0<ja.length}};
shadow$provide[68]=function(Fb,nb,zc,Ya){Ya.__esModule=!0;Ya.default=function(u){const {spec:l,width:ja,height:Za}=u;return"undefined"!==typeof ja&&"undefined"!==typeof Za?Object.assign({},l,{width:ja,height:Za}):"undefined"!==typeof ja?Object.assign({},l,{width:ja}):"undefined"!==typeof Za?Object.assign({},l,{height:Za}):l}};
shadow$provide[69]=function(Fb,nb,zc,Ya){function u(Ba){return Ba&&Ba.__esModule?Ba:{default:Ba}}function l(Ba,bb,Ab){bb in Ba?Object.defineProperty(Ba,bb,{value:Ab,enumerable:!0,configurable:!0,writable:!0}):Ba[bb]=Ab;return Ba}Ya.__esModule=!0;Ya.default=void 0;Fb=u(nb(22));var ja=u(nb(3)),Za=u(nb(58)),ub=u(nb(23)),Wb=u(nb(62)),ec=nb(63),Db=u(nb(64)),yb=u(nb(66)),wb=u(nb(67)),Qb=u(nb(68));class Yb extends ja.default.PureComponent{constructor(){super(...arguments);l(this,"containerRef",ja.default.createRef());
l(this,"resultPromise",void 0);l(this,"handleError",Ba=>{const {onError:bb=ec.NOOP}=this.props;bb(Ba,this.containerRef.current);console.warn(Ba)});l(this,"modifyView",Ba=>{this.resultPromise&&this.resultPromise.then(bb=>{bb&&Ba(bb.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ba){const bb=(0,Wb.default)([this.props,Ba]);bb.delete("className");bb.delete("signalListeners");bb.delete("spec");bb.delete("style");bb.delete("width");bb.delete("height");
if(Array.from(bb).some(Ab=>this.props[Ab]!==Ba[Ab]))this.clearView(),this.createView();else{const Ab=(0,yb.default)((0,Qb.default)(this.props),(0,Qb.default)(Ba)),{signalListeners:xb}=this.props,{signalListeners:qb}=Ba;if(Ab)if(Ab.isExpensive)this.clearView(),this.createView();else{const Cb=!(0,ub.default)(xb,qb);this.modifyView(lb=>{!1!==Ab.width&&lb.width(Ab.width);!1!==Ab.height&&lb.height(Ab.height);Cb&&(qb&&(0,wb.default)(lb,qb),xb&&(0,Db.default)(lb,xb));lb.run()})}else(0,ub.default)(xb,qb)||
this.modifyView(Cb=>{qb&&(0,wb.default)(Cb,qb);xb&&(0,Db.default)(Cb,xb);Cb.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ba=this.props,bb=Object.assign({},Ba);const Ab=Ba.onNewView,xb=void 0===Ba.signalListeners?{}:Ba.signalListeners;Ba=(delete bb.spec,delete bb.onNewView,delete bb.signalListeners,delete bb.width,delete bb.height,bb);this.containerRef.current&&(bb=(0,Qb.default)(this.props),this.resultPromise=(0,Za.default)(this.containerRef.current,bb,Ba).then(qb=>{if(qb){const {view:Cb}=
qb;(0,Db.default)(Cb,xb)&&Cb.run()}return qb}).catch(this.handleError),Ab&&this.modifyView(Ab))}clearView(){this.resultPromise&&this.resultPromise.then(Ba=>{Ba&&Ba.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ba,style:bb}=this.props;return ja.default.createElement("div",{ref:this.containerRef,className:Ba,style:bb})}}Ya.default=Yb;l(Yb,"propTypes",{className:Fb.default.string,onError:Fb.default.func})};
shadow$provide[70]=function(Fb,nb,zc,Ya){function u(wb){return wb&&wb.__esModule?wb:{default:wb}}function l(){l=Object.assign||function(wb){for(var Qb=1;Qb<arguments.length;Qb++){var Yb=arguments[Qb],Ba;for(Ba in Yb)Object.prototype.hasOwnProperty.call(Yb,Ba)&&(wb[Ba]=Yb[Ba])}return wb};return l.apply(this,arguments)}function ja(wb,Qb,Yb){Qb in wb?Object.defineProperty(wb,Qb,{value:Yb,enumerable:!0,configurable:!0,writable:!0}):wb[Qb]=Yb;return wb}Ya.__esModule=!0;Ya.default=void 0;u(nb(22));var Za=
u(nb(3)),ub=u(nb(23)),Wb=u(nb(61)),ec=u(nb(69)),Db=nb(63);class yb extends Za.default.PureComponent{constructor(){super(...arguments);ja(this,"vegaEmbed",Za.default.createRef());ja(this,"handleNewView",wb=>{this.update();const {onNewView:Qb=Db.NOOP}=this.props;Qb(wb)})}componentDidMount(){this.update()}componentDidUpdate(wb){(0,ub.default)(this.props.data,wb.data)||this.update()}update(){const {data:wb}=this.props;this.vegaEmbed.current&&wb&&0<Object.keys(wb).length&&this.vegaEmbed.current.modifyView(Qb=>
{(0,Wb.default)(Qb,wb);Qb.resize().run()})}render(){var wb=Object.assign({},this.props);wb=(delete wb.data,wb);return Za.default.createElement(ec.default,l({ref:this.vegaEmbed},wb,{onNewView:this.handleNewView}))}}Ya.default=yb;ja(yb,"defaultProps",{data:{}})};
shadow$provide[71]=function(Fb,nb,zc,Ya){function u(ub){return ub&&ub.__esModule?ub:{default:ub}}function l(){l=Object.assign||function(ub){for(var Wb=1;Wb<arguments.length;Wb++){var ec=arguments[Wb],Db;for(Db in ec)Object.prototype.hasOwnProperty.call(ec,Db)&&(ub[Db]=ec[Db])}return ub};return l.apply(this,arguments)}Ya.__esModule=!0;Ya.default=function(ub){return ja.default.createElement(Za.default,l({},ub,{mode:"vega-lite"}))};var ja=u(nb(3)),Za=u(nb(70))};
shadow$provide[72]=function(Fb,nb,zc,Ya){function u(Wb){return Wb&&Wb.__esModule?Wb:{default:Wb}}function l(){l=Object.assign||function(Wb){for(var ec=1;ec<arguments.length;ec++){var Db=arguments[ec],yb;for(yb in Db)Object.prototype.hasOwnProperty.call(Db,yb)&&(Wb[yb]=Db[yb])}return Wb};return l.apply(this,arguments)}function ja(Wb,ec,Db){ec in Wb?Object.defineProperty(Wb,ec,{value:Db,enumerable:!0,configurable:!0,writable:!0}):Wb[ec]=Db;return Wb}Ya.__esModule=!0;Ya.default=function(Wb){let {mode:ec,
spec:Db}=Wb;class yb extends Za.default.PureComponent{render(){return Za.default.createElement(ub.default,l({mode:ec,spec:Db},this.props))}}ja(yb,"getSpec",function(){return Db});return yb};var Za=u(nb(3)),ub=u(nb(70))};
shadow$provide[73]=function(Fb,nb,zc,Ya){Ya.__esModule=!0};
shadow$provide[74]=function(Fb,nb,zc,Ya){Ya.__esModule=!0;var u=nb(73);Object.keys(u).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in Ya&&Ya[l]===u[l]||(Ya[l]=u[l]))})};
shadow$provide[75]=function(Fb,nb,zc,Ya){function u(Za){return Za&&Za.__esModule?Za:{default:Za}}Ya.__esModule=!0;var l={Vega:!0,VegaLite:!0,createClassFromSpec:!0};Ya.createClassFromSpec=Ya.VegaLite=Ya.Vega=void 0;Fb=u(nb(70));Ya.Vega=Fb.default;Fb=u(nb(71));Ya.VegaLite=Fb.default;Fb=u(nb(72));Ya.createClassFromSpec=Fb.default;var ja=nb(74);Object.keys(ja).forEach(function(Za){"default"!==Za&&"__esModule"!==Za&&(Object.prototype.hasOwnProperty.call(l,Za)||Za in Ya&&Ya[Za]===ja[Za]||(Ya[Za]=ja[Za]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Hd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.ob="";g.set=function(a){this.ob=""+a};g.append=function(a,b,c){this.ob+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.ob+=arguments[d];return this};g.clear=function(){this.ob=""};g.toString=function(){return this.ob};var ra={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Mb:c)?c.rb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.rb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.pa)a=a.pa(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.qa)a=a.qa(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.sa)a=a.sa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.G?h.G(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.G?h.G(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.G=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.G(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ia?a.ia(a,b):Ta(a,b)};Sa.G=function(a,b,c){return null!=a&&null!=a.Ea?a.Ea(a,b,c):Ta(a,b,c)};Sa.da=3;function Ua(){}
function D(a){if(null!=a&&null!=a.Aa)a=a.Aa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.Ba)a=a.Ba(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.G?h.G(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.G?h.G(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.G=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.G(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.Ca?a.Ca(a,b):Za(a,b)};Ya.G=function(a,b,c){return null!=a&&null!=a.ga?a.ga(a,b,c):Za(a,b,c)};Ya.da=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.pb)a=a.pb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.fb)a=a.fb(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.xb)a=a.xb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.nc)a=a.nc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.ad)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.bd)a=a.aa;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.Dc)a=a.Dc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.zb)a=a.zb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.Ab)a=a.Ab(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.qb)a=a.qb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.jb)a=a.jb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.G?h.G(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.G?h.G(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.G=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.G(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.ua?a.ua(a,b):sb(a,b)};rb.G=function(a,b,c){return null!=a&&null!=a.va?a.va(a,b,c):sb(a,b,c)};rb.da=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Hb)a=a.Hb(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.ja)a=a.ja(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ka)a=a.ka(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.na)a=a.na(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ec)a=a.Ec(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ma)a=a.ma(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Wb)a.Wb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Xb)a.Xb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.Cb)a=a.Cb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Lb)a=a.Lb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.Bb)a=a.Bb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.yc)a=a.yc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.lc)a=a.lc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Vb)a=a.Vb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Ib)a=a.Ib(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Jb)a=a.Jb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Wa)a=a.Wa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.ea?n.ea(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.ea?n.ea(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.ba?m.ba(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.ba?m.ba(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.G?l.G(f,h,k):
l.call(null,f,h,k);l=Rb._;if(null!=l)return l.G?l.G(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+
arguments.length);};e.B=d;e.G=c;e.ba=b;e.ea=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.G(arguments[0],arguments[1],arguments[2]);case 4:return Rb.ba(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.ea(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
Rb.B=function(a,b){return null!=a&&null!=a.oc?a.oc(a,b):Sb(a,b)};Rb.G=function(a,b,c){return null!=a&&null!=a.pc?a.pc(a,b,c):Sb(a,b,c)};Rb.ba=function(a,b,c,d){return null!=a&&null!=a.qc?a.qc(a,b,c,d):Sb(a,b,c,d)};Rb.ea=function(a,b,c,d,e){return null!=a&&null!=a.rc?a.rc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.da=5;function Tb(){}
function Ub(a){if(null!=a&&null!=a.Ua)a=a.Ua(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}function Vb(a){this.td=a;this.I=1073741824;this.$=0}Vb.prototype.Ec=function(a,b){return this.td.append(b)};function Wb(a){var b=new pa;a.ma(null,new Vb(b),va());return B.j(b)}
var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}
function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.I&4194304||u===a.xd))return a.ka(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Fb=a;this.name=b;this.nb=c;this._hash=d;this.bb=e;this.I=2154168321;this.$=4096}g=gc.prototype;g.toString=function(){return this.nb};g.ja=function(a,b){return b instanceof gc?this.nb===b.nb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.G?H.G(a,this,b):H.call(null,a,this,b)};g.la=function(){return this.bb};g.oa=function(a,b){return new gc(this.Fb,this.name,this.nb,this._hash,b)};g.ka=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Fb))};g.Ib=function(){return this.name};g.Jb=function(){return this.Fb};g.ma=function(a,b){return G(b,this.nb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Va;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.da=2;function ic(a){return null!=a?a.$&131072||u===a.yd?!0:a.$?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.I&8388608||u===a.ed))return a.na(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.I&64||u===a.yb))return a.Aa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.I&64||u===a.yb)?a.Ba(null):(a=J(a))?a.Ba(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.I&128||u===a.Kb)?a.za():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.P(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.P=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};P.da=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Eb=b;this.fc=null;this.I=8388672;this.$=0}oc.prototype.na=function(){return this};oc.prototype.Aa=function(){return this.value};
oc.prototype.Ba=function(){null==this.fc&&(this.fc=jc.j?jc.j(this.Eb):jc.call(null,this.Eb));return this.fc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.ja=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.aa=!1;this.I=32768;this.$=0}uc.prototype.jb=function(){return this.aa};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.pa(null);if(0===c)return b.Y?b.Y():b.call(null);for(var d=a.ia(null,0),e=1;;)if(e<c){var f=a.ia(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.pa(null),e=c;for(c=0;;)if(c<d){var f=a.ia(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.Y?b.Y():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.I&2||u===a.Uc?!0:a.I?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.I&16||u===a.Ac?!0:a.I?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.F=a;this.i=b}Gc.prototype.ta=function(){return this.i<this.F.length};Gc.prototype.next=function(){var a=this.F[this.i];this.i+=1;return a};function K(a,b,c){this.F=a;this.i=b;this.K=c;this.I=166592766;this.$=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ia=function(a,b){a=b+this.i;if(0<=a&&a<this.F.length)return this.F[a];throw Error("Index out of bounds");};g.Ea=function(a,b,c){a=b+this.i;return 0<=a&&a<this.F.length?this.F[a]:c};
g.Ua=function(){return new Gc(this.F,this.i)};g.la=function(){return this.K};g.za=function(){return this.i+1<this.F.length?new K(this.F,this.i+1,null):null};g.pa=function(){var a=this.F.length-this.i;return 0>a?0:a};g.ka=function(){return pc(this)};g.ja=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.qa=function(){return lc};g.ua=function(a,b){return Bc(this.F,b,this.F[this.i],this.i+1)};g.va=function(a,b,c){return Bc(this.F,b,c,this.i)};g.Aa=function(){return this.F[this.i]};
g.Ba=function(){return this.i+1<this.F.length?new K(this.F,this.i+1,null):lc};g.na=function(){return this.i<this.F.length?this:null};g.oa=function(a,b){return b===this.K?this:new K(this.F,this.i,b)};g.sa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.Y();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.P(arguments[0],arguments[1],c)}};Jc.Y=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.P=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};Jc.da=2;function R(a){if(null!=a)if(null!=a&&(a.I&2||u===a.Uc))a=a.pa(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.I&8388608||u===a.ed))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.I&16||u===a.Ac))return a.ia(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.I&64||u===a.yb)||null!=a&&(a.I&16777216||u===a.Cc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.I&16||u===a.Ac))return a.Ea(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.I&64||u===a.yb)||null!=a&&(a.I&16777216||u===a.Cc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.G(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.I&256||u===a.$c)?a.Ca(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.G=function(a,b,c){return null!=a?null!=a&&(a.I&256||u===a.$c)?a.ga(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.da=3;var W=function W(a){switch(arguments.length){case 3:return W.G(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.P(arguments[0],arguments[1],arguments[2],c)}};
W.G=function(a,b,c){return null!=a&&(a.I&512||u===a.Tc)?a.fb(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.P=function(a,b,c,d){for(;;)if(a=W.G(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.fa=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.P(b,a,c,d)};W.da=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.P(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.P=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};Oc.da=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Sc?!0:a.Fc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.N=a;this.K=b;this.I=393217;this.$=0}g=Qc.prototype;g.la=function(){return this.K};g.oa=function(a,b){return new Qc(this.N,b)};g.Sc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.Y();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.G(arguments[1],arguments[2],arguments[3]);case 4:return this.ba(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Sa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ta(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Oa(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Qa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.Y=function(){return this.N.Y?this.N.Y():this.N.call(null)};g.j=function(a){return this.N.j?this.N.j(a):this.N.call(null,a)};g.B=function(a,b){return this.N.B?this.N.B(a,b):this.N.call(null,a,b)};g.G=function(a,b,c){return this.N.G?this.N.G(a,b,c):this.N.call(null,a,b,c)};
g.ba=function(a,b,c,d){return this.N.ba?this.N.ba(a,b,c,d):this.N.call(null,a,b,c,d)};g.ea=function(a,b,c,d,e){return this.N.ea?this.N.ea(a,b,c,d,e):this.N.call(null,a,b,c,d,e)};g.Ra=function(a,b,c,d,e,f){return this.N.Ra?this.N.Ra(a,b,c,d,e,f):this.N.call(null,a,b,c,d,e,f)};g.Sa=function(a,b,c,d,e,f,h){return this.N.Sa?this.N.Sa(a,b,c,d,e,f,h):this.N.call(null,a,b,c,d,e,f,h)};g.Da=function(a,b,c,d,e,f,h,k){return this.N.Da?this.N.Da(a,b,c,d,e,f,h,k):this.N.call(null,a,b,c,d,e,f,h,k)};
g.Ta=function(a,b,c,d,e,f,h,k,l){return this.N.Ta?this.N.Ta(a,b,c,d,e,f,h,k,l):this.N.call(null,a,b,c,d,e,f,h,k,l)};g.Ga=function(a,b,c,d,e,f,h,k,l,m){return this.N.Ga?this.N.Ga(a,b,c,d,e,f,h,k,l,m):this.N.call(null,a,b,c,d,e,f,h,k,l,m)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n){return this.N.Ha?this.N.Ha(a,b,c,d,e,f,h,k,l,m,n):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.N.Ia?this.N.Ia(a,b,c,d,e,f,h,k,l,m,n,p):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.N.Ja?this.N.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.N.Ka?this.N.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.N.La?this.N.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.N.Ma?this.N.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Na=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.N.Na?this.N.Na(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Oa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.N.Oa?this.N.Oa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.Pa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.N.Pa?this.N.Pa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.N.Qa?this.N.Qa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.mc=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Zc?Rc.Zc(this.N,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.N,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.I&131072||u===a.cd||(a.I?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.P(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.P=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};Uc.da=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.I&8||u===a.vd?!0:a.I?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.I&4096||u===a.Ed?!0:a.I?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.I&16777216||u===a.Cc?!0:a.I?!1:y(zb,a):y(zb,a)}function $c(a){return null==a?!1:null!=a?a.I&1024||u===a.Bd?!0:a.I?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.I&67108864||u===a.Dd?!0:a.I?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.I&16384||u===a.Fd?!0:a.I?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.$&512||u===a.ud?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.I&1||u===a.wd?!0:a.I?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.I&512||u===a.Tc)?a.pb(null,b):y($a,a)?ab(a,b):H.G(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.Y?a.Y():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.ta()))for(var c=a.next();;)if(a.ta()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.Y?b.Y():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.ta()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.I&524288||u===b.dd)?b.ua(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.I&524288||u===c.dd)?c.va(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.Y();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.P(arguments[0],arguments[1],c)}};rd.Y=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.P=function(a,b,c){return Ga(rd,a+b,c)};
rd.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};rd.da=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.P(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.P=function(a,b,c){return Ga(sd,a-b,c)};
sd.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};sd.da=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.Y();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.P(arguments[0],c)}};
B.Y=function(){return""};B.j=function(a){return null==a?"":[a].join("")};B.P=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.fa=function(a){var b=N(a);a=O(a);return this.P(b,a)};B.da=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.K=a;this.first=b;this.ib=c;this.count=d;this.R=e;this.I=65937646;this.$=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){return 1===this.count?null:this.ib};g.pa=function(){return this.count};g.zb=function(){return this.first};g.Ab=function(){return this.Ba(null)};
g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return pb(lc,this.K)};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return this.first};g.Ba=function(){return 1===this.count?lc:this.ib};g.na=function(){return this};g.oa=function(a,b){return b===this.K?this:new Lc(b,this.first,this.ib,this.count,this.R)};g.sa=function(a,b){return new Lc(this.K,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.K=a;this.I=65937614;this.$=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){return null};g.pa=function(){return 0};g.zb=function(){return null};g.Ab=function(){throw Error("Can't pop empty list");};g.ka=function(){return qc};
g.ja=function(a,b){return(null!=b?b.I&33554432||u===b.Ad||(b.I?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.qa=function(){return this};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return null};g.Ba=function(){return lc};g.na=function(){return null};g.oa=function(a,b){return b===this.K?this:new vd(b)};g.sa=function(a,b){return new Lc(this.K,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.K=a;this.first=b;this.ib=c;this.R=d;this.I=65929452;this.$=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){return null==this.ib?null:J(this.ib)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};
g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return this.first};g.Ba=function(){return null==this.ib?lc:this.ib};g.na=function(){return this};g.oa=function(a,b){return b===this.K?this:new wd(b,this.first,this.ib,this.R)};g.sa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.I&64||u===b.yb)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Fb=a;this.name=b;this.Va=c;this._hash=d;this.I=2153775105;this.$=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Va)].join("")};g.ja=function(a,b){return b instanceof I?this.Va===b.Va:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.G(a,this,b)};g.ka=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Fb))+2654435769|0};g.Ib=function(){return this.name};
g.Jb=function(){return this.Fb};g.ma=function(a,b){return G(b,[":",B.j(this.Va)].join(""))};function xd(a){if(null!=a&&(a.$&4096||u===a.Bc))return a.Jb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.nb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.da=2;function zd(a,b,c){this.K=a;this.fn=b;this.s=null;this.R=c;this.I=32374988;this.$=1}g=zd.prototype;g.toString=function(){return Wb(this)};function Ad(a){null!=a.fn&&(a.s=a.fn.Y?a.fn.Y():a.fn.call(null),a.fn=null);return a.s}
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){this.na(null);return null==this.s?null:O(this.s)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};
g.qa=function(){return pb(lc,this.K)};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){this.na(null);return null==this.s?null:N(this.s)};g.Ba=function(){this.na(null);return null!=this.s?kc(this.s):lc};g.na=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.oa=function(a,b){var c=this;return b===this.K?c:new zd(b,function(){return c.na(null)},this.R)};
g.sa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.hc=a;this.end=0;this.I=2;this.$=0}Bd.prototype.add=function(a){this.hc[this.end]=a;return this.end+=1};Bd.prototype.eb=function(){var a=new Cd(this.hc,0,this.end);this.hc=null;return a};Bd.prototype.pa=function(){return this.end};function Cd(a,b,c){this.F=a;this.off=b;this.end=c;this.I=524306;this.$=0}g=Cd.prototype;g.pa=function(){return this.end-this.off};
g.ia=function(a,b){return this.F[this.off+b]};g.Ea=function(a,b,c){return 0<=b&&b<this.end-this.off?this.F[this.off+b]:c};g.yc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.F,this.off+1,this.end)};g.ua=function(a,b){return Bc(this.F,b,this.F[this.off],this.off+1)};g.va=function(a,b,c){return Bc(this.F,b,c,this.off)};function Dd(a,b,c,d){this.eb=a;this.Za=b;this.K=c;this.R=d;this.I=31850732;this.$=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){return 1<Ma(this.eb)?new Dd(Lb(this.eb),this.Za,null,null):null==this.Za?null:yb(this.Za)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};
g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.Aa=function(){return Sa(this.eb,0)};g.Ba=function(){return 1<Ma(this.eb)?new Dd(Lb(this.eb),this.Za,null,null):null==this.Za?lc:this.Za};g.na=function(){return this};g.lc=function(){return this.eb};g.Vb=function(){return null==this.Za?lc:this.Za};g.oa=function(a,b){return b===this.K?this:new Dd(this.eb,this.Za,b,this.R)};g.sa=function(a,b){return U(b,this)};g.zc=function(){return null==this.Za?null:this.Za};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.Y?a.Y():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.G?a.G(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.ba?a.ba(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.ea?a.ea(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Ra?a.Ra(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);
l=D(m);var n=Va(m);if(7===b)return a.Sa?a.Sa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.Da?a.Da(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Ta?a.Ta(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ma?a.Ma(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Na?a.Na(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var qa=Va(da);if(18===b)return a.Oa?a.Oa(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=Va(qa);if(19===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var Zc=D(qa);Va(qa);if(20===b)return a.Qa?a.Qa(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.I&128||u===a.Kb)?a.za():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.G?a.G(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.ba?a.ba(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.ea?a.ea(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Ra?a.Ra(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Sa?a.Sa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.Da?a.Da(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Ta?a.Ta(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,
m);n=D(p);var q=O(p);if(null==q)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,
c,d,e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Na?a.Na(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Oa?a.Oa(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,
n,p,q,r,w,z,C,E,M);T=D(da);var qa=O(da);if(null==qa)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=O(qa);if(null==qa)return a.Qa?a.Qa(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=qa;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.fa?(c=U(c,U(d,e)),d=b.da,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.fa(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.fa){var c=a.da,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.fa(b)}b=J(b);return null==b?a.Y?a.Y():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.fa){b=U(b,c);var d=a.da;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.fa(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.fa?(b=U(b,U(c,U(d,e))),c=a.da,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.fa(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.fa?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.da,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.fa(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.I&64||u===a.yb))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.ld=a;this.I=393216;this.$=0},ta.prototype.oa=function(a,b){return new ta(b)},ta.prototype.la=function(){return this.ld},ta.prototype.ta=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Mb=!0,ta.rb="cljs.core/t_cljs$core20121",ta.Yb=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Gb=Vd;this._next=a}Xd.prototype.ta=function(){this.Gb===Vd?(this.Gb=Wd,this._next=J(this._next)):this.Gb===this._next&&(this._next=O(this.Gb));return null!=this._next};Xd.prototype.next=function(){if(this.ta())return this.Gb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.eb(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ya=this.validator=this.K=null;this.$=16386;this.I=6455296}g=ae.prototype;
g.ja=function(a,b){return this===b};g.jb=function(){return this.state};g.la=function(){return this.K};g.sc=function(a,b){for(var c=J(this.ya),d=null,e=0,f=0;;)if(f<e){var h=d.ia(null,f),k=V(h,0,null);h=V(h,1,null);h.ba?h.ba(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.ba?h.ba(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Wb=function(a,b,c){this.ya=W.G(this.ya,b,c);return this};
g.Xb=function(a,b){return this.ya=Oc.B(this.ya,b)};g.ka=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ya&&a.sc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.G(arguments[0],arguments[1],arguments[2]);case 4:return ce.ba(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.P(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.G=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.ba=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.G?b.G(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.P=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.fa=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.P(b,a,c,d,e)};ce.da=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.G(arguments[0],arguments[1],arguments[2]);case 4:return de.ba(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.P(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.Y?b.Y():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.da=2;k.fa=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.P=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.P(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.da=2;f.fa=h.fa;f.Y=e;f.j=d;f.B=c;f.P=h.P;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.eb(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.G=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.G(a,kc(d),kc(e)))}else d=null;return d},null)};de.ba=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.G?a.G(k,l,m):a.call(null,k,l,m);e=U(k,de.ba(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.P=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.P(e,d,Ic([c,b]))))};de.fa=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.P(b,a,c,d,e)};de.da=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.G(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.K=a;this.count=b;this.aa=c;this.next=d;this.R=null;this.I=32374988;this.$=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.aa,null):-1===this.count?this:null:this.next};
g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.aa,this.aa):b.call(null,this.aa,this.aa);;){if(vc(c))return F(c);c=b.B?b.B(c,this.aa):b.call(null,c,this.aa)}else for(a=1,c=this.aa;;)if(a<this.count){c=b.B?b.B(c,this.aa):b.call(null,c,this.aa);if(vc(c))return F(c);a+=1}else return c};
g.va=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.aa):b.call(null,c,this.aa);;){if(vc(c))return F(c);c=b.B?b.B(c,this.aa):b.call(null,c,this.aa)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.aa):b.call(null,c,this.aa);if(vc(c))return F(c);a+=1}else return c};g.Aa=function(){return this.aa};g.Ba=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.aa,null):-1===this.count?this:lc:this.next};g.na=function(){return this};
g.oa=function(a,b){return b===this.K?this:new he(b,this.count,this.aa,this.next)};g.sa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.Y();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.G(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.Y=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.$&4||u===a.Vc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.G=function(a,b,c){if(null!=a&&(a.$&4||u===a.Vc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.da=3;
function je(a,b,c){var d=W.G,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.G,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.ha=a;this.F=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.ha,Ea(a.F))}
function oe(a){a=a.J;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.F[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.J-1>>>b&31;5===b?f.F[h]=d:(c=c.F[h],null!=c?(b-=5,a=qe.ba?qe.ba(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.F[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.F[b>>>a&31];a=d}else return c.F}function te(a,b){return 0<=b&&b<a.J?se(a,b):re(b,a.J)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.F[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.F[k];a=ue.ea?ue.ea(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.F[k]=a}return h},ve=function ve(a,b,c){var e=a.J-2>>>b&31;if(5<b){b-=5;var f=c.F[e];a=ve.G?ve.G(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.F[e]=a;return c}if(0===e)return null;c=ne(c);c.F[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.F=c;this.v=d;this.start=e;this.end=f}
we.prototype.ta=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.F=se(this.v,this.i),this.base+=32);var a=this.F[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.Y?b.Y():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.K=a;this.J=b;this.shift=c;this.root=d;this.tail=e;this.R=f;this.I=167666463;this.$=139268}g=Y.prototype;g.xb=function(a,b){return 0<=b&&b<this.J?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.Ca=function(a,b){return this.ga(null,b,null)};g.ga=function(a,b,c){return"number"===typeof b?this.Ea(null,b,c):c};
g.Hb=function(a,b,c){a=0;for(var d=c;;)if(a<this.J){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.G?b.G(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.kc=u;g.ia=function(a,b){return te(this,b)[b&31]};g.Ea=function(a,b,c){return 0<=b&&b<this.J?se(this,b)[b&31]:c};
g.qb=function(a,b,c){if(0<=b&&b<this.J)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.K,this.J,this.shift,this.root,a,null)):new Y(this.K,this.J,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.J)return this.sa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.J),"]"].join(""));};g.Ua=function(){return xe(this,0,this.J)};g.la=function(){return this.K};g.pa=function(){return this.J};g.zb=function(){return 0<this.J?this.ia(null,this.J-1):null};
g.Ab=function(){if(0===this.J)throw Error("Can't pop empty vector");if(1===this.J)return pb(Kc,this.K);if(1<this.J-oe(this))return new Y(this.K,this.J-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.J-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.J-1;return 5<this.shift&&null==b.F[1]?new Y(this.K,c,this.shift-5,b.F[0],a,null):new Y(this.K,c,this.shift,b,a,null)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};
g.ja=function(a,b){if(b instanceof Y)if(this.J===R(b))for(a=this.Ua(null),b=b.Ua(null);;)if(a.ta()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.wb=function(){return new Be(this.J,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.qa=function(){return pb(Kc,this.K)};g.ua=function(a,b){return ye(this,b,0,this.J)};
g.va=function(a,b,c){a=0;for(var d=c;;)if(a<this.J){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fb=function(a,b,c){if("number"===typeof b)return this.qb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.pb=function(a,b){return hd(b)?0<=b&&b<this.J:!1};
g.na=function(){if(0===this.J)return null;if(32>=this.J)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.F[0];else{a=a.F;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.oa=function(a,b){return b===this.K?this:new Y(b,this.J,this.shift,this.root,this.tail,this.R)};
g.sa=function(a,b){if(32>this.J-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.K,this.J+1,this.shift,this.root,c,null)}a=(c=this.J>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.F[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.F[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.K,this.J+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ia(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).wb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.P(c)};Le.P=function(a){return a instanceof K&&0===a.i?Ge(a.F,!Ba(a.F)):He(a)};Le.da=0;Le.fa=function(a){return this.P(J(a))};
function Me(a,b,c,d,e){this.Fa=a;this.node=b;this.i=c;this.off=d;this.K=e;this.R=null;this.I=32375020;this.$=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){if(this.off+1<this.node.length){var a=this.Fa;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.zc()};
g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){return ye(this.Fa,b,this.i+this.off,R(this.Fa))};g.va=function(a,b,c){return ze(this.Fa,b,c,this.i+this.off,R(this.Fa))};g.Aa=function(){return this.node[this.off]};g.Ba=function(){if(this.off+1<this.node.length){var a=this.Fa;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Vb(null)};g.na=function(){return this};
g.lc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Vb=function(){var a=this.i+this.node.length;if(a<Ma(this.Fa)){var b=this.Fa,c=se(this.Fa,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.oa=function(a,b){return b===this.K?this:Ne?Ne(this.Fa,this.node,this.i,this.off,b):Fe.call(null,this.Fa,this.node,this.i,this.off,b)};g.sa=function(a,b){return U(b,this)};
g.zc=function(){var a=this.i+this.node.length;if(a<Ma(this.Fa)){var b=this.Fa,c=se(this.Fa,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.K=a;this.v=b;this.start=c;this.end=d;this.R=e;this.I=167666463;this.$=139264}g=Oe.prototype;g.xb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.Ca=function(a,b){return this.ga(null,b,null)};g.ga=function(a,b,c){return"number"===typeof b?this.Ea(null,b,c):c};
g.Hb=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.G?b.G(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ia=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Ea=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.qb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.pa(null)),"]"].join(""));b=this.K;c=W.G(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.ea?Pe.ea(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Ua=function(){return null!=this.v&&u===this.v.kc?xe(this.v,this.start,this.end):new Xd(this)};g.la=function(){return this.K};g.pa=function(){return this.end-this.start};
g.zb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.Ab=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.K,b=this.v,c=this.start,d=this.end-1;return Pe.ea?Pe.ea(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return pb(Kc,this.K)};g.ua=function(a,b){return null!=this.v&&u===this.v.kc?ye(this.v,b,this.start,this.end):xc(this,b)};
g.va=function(a,b,c){return null!=this.v&&u===this.v.kc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.fb=function(a,b,c){if("number"===typeof b)return this.qb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.pb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};g.na=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};
g.oa=function(a,b){return b===this.K?this:Pe.ea?Pe.ea(b,this.v,this.start,this.end,this.R):Pe.call(null,b,this.v,this.start,this.end,this.R)};g.sa=function(a,b){a=this.K;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.ea?Pe.ea(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ia(null,a)};g.B=function(a,b){return this.Ea(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.ha?b:new le(a,Ea(b.F))}
function Ce(a){return new le({},Ea(a.F))}function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.ha,c);var f=a.J-1>>>b&31;if(5===b)a=d;else{var h=c.F[f];null!=h?(b-=5,a=Re.ba?Re.ba(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.ha,b-5,d)}c.F[f]=a;return c};
function Be(a,b,c,d){this.J=a;this.shift=b;this.root=c;this.tail=d;this.$=88;this.I=275}g=Be.prototype;
g.Cb=function(a,b){if(this.root.ha){if(32>this.J-oe(this))this.tail[this.J&31]=b;else{a=new le(this.root.ha,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.J>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.ha,this.shift,a),this.root=new le(this.root.ha,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.J+=1;return this}throw Error("conj! after persistent!");};g.Lb=function(){if(this.root.ha){this.root.ha=null;var a=this.J-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.J,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Bb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.ha){if(0<=b&&b<a.J){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.ha,h);if(0===f)h.F[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.F[l]);h.F[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.J)return a.Cb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.J)].join(""));}throw Error("assoc! after persistent!");}g.pa=function(){if(this.root.ha)return this.J;throw Error("count after persistent!");};
g.ia=function(a,b){if(this.root.ha)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Ea=function(a,b,c){return 0<=b&&b<this.J?this.ia(null,b):c};g.Ca=function(a,b){return this.ga(null,b,null)};g.ga=function(a,b,c){if(this.root.ha)return"number"===typeof b?this.Ea(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.Ca(null,a)};g.B=function(a,b){return this.ga(null,a,b)};function Te(){this.I=2097152;this.$=0}Te.prototype.ja=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd($c(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.I&1048576||u===a.zd||(a.I?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.G(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.G(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Va;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Va){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.nb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].nb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.aa=b;this.R=null;this.I=166619935;this.$=0}g=Ae.prototype;g.xb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.aa);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.Ca=function(a,b){return this.Ea(null,b,null)};g.ga=function(a,b,c){return this.Ea(null,b,c)};g.ia=function(a,b){if(0===b)return this.key;if(1===b)return this.aa;throw Error("Index out of bounds");};
g.Ea=function(a,b,c){return 0===b?this.key:1===b?this.aa:c};g.qb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.aa],null)).qb(null,b,c)};g.la=function(){return null};g.pa=function(){return 2};g.ad=function(){return this.key};g.bd=function(){return this.aa};g.zb=function(){return this.aa};g.Ab=function(){return new Y(null,1,5,Z,[this.key],null)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return null};
g.ua=function(a,b){return xc(this,b)};g.va=function(a,b,c){return yc(this,b,c)};g.fb=function(a,b,c){return W.G(new Y(null,2,5,Z,[this.key,this.aa],null),b,c)};g.pb=function(a,b){return 0===b||1===b};g.na=function(){return new K([this.key,this.aa],0,null)};g.oa=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.aa],null),b)};g.sa=function(a,b){return new Y(null,3,5,Z,[this.key,this.aa,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ia(null,a)};g.B=function(a,b){return this.Ea(null,a,b)};function Ie(a){return null!=a?a.I&2048||u===a.Cd?!0:!1:!1}function Ze(a,b,c){this.F=a;this.i=b;this.bb=c;this.I=32374990;this.$=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.bb};g.za=function(){return this.i<this.F.length-2?new Ze(this.F,this.i+2,null):null};g.pa=function(){return(this.F.length-this.i)/2};g.ka=function(){return pc(this)};
g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return new Ae(this.F[this.i],this.F[this.i+1])};g.Ba=function(){return this.i<this.F.length-2?new Ze(this.F,this.i+2,null):lc};g.na=function(){return this};g.oa=function(a,b){return b===this.bb?this:new Ze(this.F,this.i,b)};g.sa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.F=a;this.i=0;this.J=b}$e.prototype.ta=function(){return this.i<this.J};$e.prototype.next=function(){var a=new Ae(this.F[this.i],this.F[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.K=a;this.J=b;this.F=c;this.R=d;this.I=16647951;this.$=139268}g=v.prototype;g.xb=function(a,b){a=Ye(this.F,b);return-1===a?null:new Ae(this.F[a],this.F[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ga(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.Ca=function(a,b){return this.ga(null,b,null)};
g.ga=function(a,b,c){a=Ye(this.F,b);return-1===a?c:this.F[a+1]};g.Hb=function(a,b,c){a=this.F.length;for(var d=0;;)if(d<a){var e=this.F[d],f=this.F[d+1];c=b.G?b.G(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Ua=function(){return new $e(this.F,2*this.J)};g.la=function(){return this.K};g.pa=function(){return this.J};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=rc(this)};
g.ja=function(a,b){if($c(b)&&!ad(b))if(a=this.F.length,this.J===b.pa(null))for(var c=0;;)if(c<a){var d=b.ga(null,this.F[c],ed);if(d!==ed)if(P.B(this.F[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.wb=function(){return new cf(this.F.length,Ea(this.F))};g.qa=function(){return pb(Td,this.K)};g.ua=function(a,b){return ld(this,b)};g.va=function(a,b,c){return md(this,b,c)};
g.nc=function(a,b){if(0<=Ye(this.F,b)){a=this.F.length;var c=a-2;if(0===c)return this.qa(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.K,this.J-1,c,null);P.B(b,this.F[d])?d+=2:(c[e]=this.F[d],c[e+1]=this.F[d+1],e+=2,d+=2)}}else return this};
g.fb=function(a,b,c){a=Ye(this.F,b);if(-1===a){if(this.J<df){a=this.F;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.K,this.J+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.K)}if(c===this.F[a+1])return this;b=Ea(this.F);b[a+1]=c;return new v(this.K,this.J,b,null)};g.pb=function(a,b){return-1!==Ye(this.F,b)};g.na=function(){var a=this.F;return 0<=a.length-2?new Ze(a,0,null):null};
g.oa=function(a,b){return b===this.K?this:new v(b,this.J,this.F,this.R)};g.sa=function(a,b){if(bd(b))return this.fb(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.Ca(null,a)};g.B=function(a,b){return this.ga(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Va===b.Va?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.Db={};this.tb=a;this.F=b;this.I=259;this.$=56}g=cf.prototype;g.pa=function(){if(this.Db)return td(this.tb);throw Error("count after persistent!");};g.Ca=function(a,b){return this.ga(null,b,null)};g.ga=function(a,b,c){if(this.Db)return a=Ye(this.F,b),-1===a?c:this.F[a+1];throw Error("lookup after persistent!");};
g.Cb=function(a,b){if(this.Db){if(Ie(b))return this.Bb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.Bb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Lb=function(){if(this.Db)return this.Db=!1,new v(null,td(this.tb),this.F,null);throw Error("persistent! called twice");};
g.Bb=function(a,b,c){if(this.Db){a=Ye(this.F,b);if(-1===a){if(this.tb+2<=2*df)return this.tb+=2,this.F.push(b),this.F.push(c),this;a=kf.B?kf.B(this.tb,this.F):kf.call(null,this.tb,this.F);return Kb(a,b,c)}c!==this.F[a+1]&&(this.F[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ga(null,a,null)};g.B=function(a,b){return this.ga(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.aa=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.sb(b);a.F[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.G?b.G(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Qb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.F=a;this.i=0;this.$a=this.Rb=null}qf.prototype.advance=function(){for(var a=this.F.length;;)if(this.i<a){var b=this.F[this.i],c=this.F[this.i+1];null!=b?b=this.Rb=new Ae(b,c):null!=c?(b=Ub(c),b=b.ta()?this.$a=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.ta=function(){var a=null!=this.Rb;return a?a:(a=null!=this.$a)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Rb){var a=this.Rb;this.Rb=null;return a}if(null!=this.$a)return a=this.$a.next(),this.$a.ta()||(this.$a=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.ha=a;this.bitmap=b;this.F=c;this.$=131072;this.I=0}g=rf.prototype;
g.sb=function(a){if(a===this.ha)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.F,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Ob=function(){return sf?sf(this.F):tf.call(null,this.F)};g.Qb=function(a,b){return pf(this.F,a,b)};g.lb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.F[2*f];f=this.F[2*f+1];return null==e?f.lb(a+5,b,c,d):ff(c,e)?f:d};
g.Ya=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.F.length){a=this.sb(a);b=a.F;f.aa=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ya(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.F[e]?uf.Ya(a,b+5,ec(this.F[e]),this.F[e],this.F[e+1],f):this.F[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.F,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.F,2*k,b,2*(k+1),2*(l-k));f.aa=!0;a=this.sb(a);a.F=b;a.bitmap|=h;return a}l=this.F[2*k];h=this.F[2*k+1];if(null==l)return l=h.Ya(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.aa=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,
l,h,c,d,e);e=2*k;k=2*k+1;a=this.sb(a);a.F[e]=null;a.F[k]=d;return a};
g.Xa=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Xa(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.F[d]?uf.Xa(a+5,ec(this.F[d]),this.F[d],this.F[d+1],e):this.F[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.F,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.F,2*h,a,2*(h+1),2*(k-h));e.aa=!0;return new rf(null,this.bitmap|f,a)}var l=this.F[2*h];f=this.F[2*h+1];if(null==l)return k=f.Xa(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.F,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.F,2*h+1,d));e.aa=!0;e=this.bitmap;k=this.F;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Nb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.F[2*f];f=this.F[2*f+1];return null==e?f.Nb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Pb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.F[2*e],h=this.F[2*e+1];return null==f?(a=h.Pb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.F,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.F,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.F,e)):this};g.Ua=function(){return new qf(this.F)};var uf=new rf(null,0,[]);function zf(a){this.F=a;this.i=0;this.$a=null}
zf.prototype.ta=function(){for(var a=this.F.length;;){if(null!=this.$a&&this.$a.ta())return!0;if(this.i<a){var b=this.F[this.i];this.i+=1;null!=b&&(this.$a=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.ta())return this.$a.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.ha=a;this.J=b;this.F=c;this.$=131072;this.I=0}g=vf.prototype;g.sb=function(a){return a===this.ha?this:new vf(a,this.J,Ea(this.F))};
g.Ob=function(){return Af?Af(this.F):Bf.call(null,this.F)};g.Qb=function(a,b){for(var c=this.F.length,d=0;;)if(d<c){var e=this.F[d];if(null!=e){b=e.Qb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.lb=function(a,b,c,d){var e=this.F[b>>>a&31];return null!=e?e.lb(a+5,b,c,d):d};g.Ya=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.F[h];if(null==k)return a=of(this,a,h,uf.Ya(a,b+5,c,d,e,f)),a.J+=1,a;b=k.Ya(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Xa=function(a,b,c,d,e){var f=b>>>a&31,h=this.F[f];if(null==h)return new vf(null,this.J+1,mf(this.F,f,uf.Xa(a+5,b,c,d,e)));a=h.Xa(a+5,b,c,d,e);return a===h?this:new vf(null,this.J,mf(this.F,f,a))};g.Nb=function(a,b,c,d){var e=this.F[b>>>a&31];return null!=e?e.Nb(a+5,b,c,d):d};
g.Pb=function(a,b,c){var d=b>>>a&31,e=this.F[d];if(null!=e){a=e.Pb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.J)a:{e=this.F;a=e.length;b=Array(2*(this.J-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.J-1,mf(this.F,d,a));else d=new vf(null,this.J,mf(this.F,d,a));return d}return this};g.Ua=function(){return new zf(this.F)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.ha=a;this.gb=b;this.J=c;this.F=d;this.$=131072;this.I=0}g=Df.prototype;g.sb=function(a){if(a===this.ha)return this;var b=Array(2*(this.J+1));dd(this.F,0,b,0,2*this.J);return new Df(a,this.gb,this.J,b)};g.Ob=function(){return sf?sf(this.F):tf.call(null,this.F)};g.Qb=function(a,b){return pf(this.F,a,b)};
g.lb=function(a,b,c,d){a=Cf(this.F,this.J,c);return 0>a?d:ff(c,this.F[a])?this.F[a+1]:d};
g.Ya=function(a,b,c,d,e,f){if(c===this.gb){b=Cf(this.F,this.J,d);if(-1===b){if(this.F.length>2*this.J)return b=2*this.J,c=2*this.J+1,a=this.sb(a),a.F[b]=d,a.F[c]=e,f.aa=!0,a.J+=1,a;c=this.F.length;b=Array(c+2);dd(this.F,0,b,0,c);b[c]=d;b[c+1]=e;f.aa=!0;d=this.J+1;a===this.ha?(this.F=b,this.J=d,a=this):a=new Df(this.ha,this.gb,d,b);return a}return this.F[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.gb>>>b&31),[null,this,null,null])).Ya(a,b,c,d,e,f)};
g.Xa=function(a,b,c,d,e){return b===this.gb?(a=Cf(this.F,this.J,c),-1===a?(a=2*this.J,b=Array(a+2),dd(this.F,0,b,0,a),b[a]=c,b[a+1]=d,e.aa=!0,new Df(null,this.gb,this.J+1,b)):P.B(this.F[a+1],d)?this:new Df(null,this.gb,this.J,mf(this.F,a+1,d))):(new rf(null,1<<(this.gb>>>a&31),[null,this])).Xa(a,b,c,d,e)};g.Nb=function(a,b,c,d){a=Cf(this.F,this.J,c);return 0>a?d:ff(c,this.F[a])?new Ae(this.F[a],this.F[a+1]):d};
g.Pb=function(a,b,c){a=Cf(this.F,this.J,c);return-1===a?this:1===this.J?null:new Df(null,this.gb,this.J-1,nf(this.F,td(a)))};g.Ua=function(){return new qf(this.F)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Xa(a,h,b,c,k).Xa(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ya(a,b,k,c,d,l).Ya(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.K=a;this.nodes=b;this.i=c;this.s=d;this.R=e;this.I=32374988;this.$=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.Ba=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.na=function(){return this};g.oa=function(a,b){return b===this.K?this:new Ef(b,this.nodes,this.i,this.s,this.R)};g.sa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Ob(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.K=a;this.nodes=b;this.i=c;this.s=d;this.R=e;this.I=32374988;this.$=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};
g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return N(this.s)};g.Ba=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.na=function(){return this};g.oa=function(a,b){return b===this.K?this:new Gf(b,this.nodes,this.i,this.s,this.R)};g.sa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Ob(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.xa=a;this.Pc=b;this.seen=!1}
If.prototype.ta=function(){return!this.seen||this.Pc.ta()};If.prototype.next=function(){if(this.seen)return this.Pc.next();this.seen=!0;return new Ae(null,this.xa)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.K=a;this.J=b;this.root=c;this.wa=d;this.xa=e;this.R=f;this.I=16123663;this.$=139268}g=Jf.prototype;g.xb=function(a,b){return null==b?this.wa?new Ae(null,this.xa):null:null==this.root?null:this.root.Nb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ga(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.Ca=function(a,b){return this.ga(null,b,null)};g.ga=function(a,b,c){return null==b?this.wa?this.xa:c:null==this.root?c:this.root.lb(0,ec(b),b,c)};
g.Hb=function(a,b,c){a=this.wa?b.G?b.G(c,null,this.xa):b.call(null,c,null,this.xa):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Qb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Ua=function(){var a=this.root?Ub(this.root):Ud();return this.wa?new If(this.xa,a):a};g.la=function(){return this.K};g.pa=function(){return this.J};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=rc(this)};g.ja=function(a,b){return Ve(this,b)};g.wb=function(){return new Kf(this.root,this.J,this.wa,this.xa)};
g.qa=function(){return pb(ef,this.K)};g.nc=function(a,b){if(null==b)return this.wa?new Jf(this.K,this.J-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Pb(0,ec(b),b);return a===this.root?this:new Jf(this.K,this.J-1,a,this.wa,this.xa,null)};
g.fb=function(a,b,c){if(null==b)return this.wa&&c===this.xa?this:new Jf(this.K,this.wa?this.J:this.J+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Xa(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.K,a.aa?this.J+1:this.J,b,this.wa,this.xa,null)};g.pb=function(a,b){return null==b?this.wa:null==this.root?!1:this.root.lb(0,ec(b),b,ed)!==ed};g.na=function(){if(0<this.J){var a=null!=this.root?this.root.Ob():null;return this.wa?U(new Ae(null,this.xa),a):a}return null};
g.oa=function(a,b){return b===this.K?this:new Jf(b,this.J,this.root,this.wa,this.xa,this.R)};g.sa=function(a,b){if(bd(b))return this.fb(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.Ca(null,a)};g.B=function(a,b){return this.ga(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.ha={};this.root=a;this.count=b;this.wa=c;this.xa=d;this.I=259;this.$=56}function Lf(a,b,c){if(a.ha){if(null==b)a.xa!==c&&(a.xa=c),a.wa||(a.count+=1,a.wa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ya(a.ha,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.aa&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.pa=function(){if(this.ha)return this.count;throw Error("count after persistent!");};
g.Ca=function(a,b){return null==b?this.wa?this.xa:null:null==this.root?null:this.root.lb(0,ec(b),b)};g.ga=function(a,b,c){return null==b?this.wa?this.xa:c:null==this.root?c:this.root.lb(0,ec(b),b,c)};
g.Cb=function(a,b){a:if(this.ha)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Lb=function(){if(this.ha){this.ha=null;var a=new Jf(null,this.count,this.root,this.wa,this.xa,null)}else throw Error("persistent! called twice");return a};g.Bb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.Ca(null,a)};g.B=function(a,b){return this.ga(null,a,b)};function Mf(a,b){this.ca=a;this.bb=b;this.I=32374988;this.$=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.bb};g.za=function(){var a=(null!=this.ca?this.ca.I&128||u===this.ca.Kb||(this.ca.I?0:y(Wa,this.ca)):y(Wa,this.ca))?this.ca.za():O(this.ca);return null==a?null:new Mf(a,null)};g.ka=function(){return pc(this)};
g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return this.ca.Aa(null).key};g.Ba=function(){var a=(null!=this.ca?this.ca.I&128||u===this.ca.Kb||(this.ca.I?0:y(Wa,this.ca)):y(Wa,this.ca))?this.ca.za():O(this.ca);return null!=a?new Mf(a,null):lc};g.na=function(){return this};g.oa=function(a,b){return b===this.bb?this:new Mf(this.ca,b)};g.sa=function(a,b){return U(b,this)};
Mf.prototype[Da]=function(){return nc(this)};function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.ca=a;this.bb=b;this.I=32374988;this.$=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.bb};g.za=function(){var a=(null!=this.ca?this.ca.I&128||u===this.ca.Kb||(this.ca.I?0:y(Wa,this.ca)):y(Wa,this.ca))?this.ca.za():O(this.ca);return null==a?null:new Nf(a,null)};g.ka=function(){return pc(this)};
g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return this.ca.Aa(null).aa};g.Ba=function(){var a=(null!=this.ca?this.ca.I&128||u===this.ca.Kb||(this.ca.I?0:y(Wa,this.ca)):y(Wa,this.ca))?this.ca.za():O(this.ca);return null!=a?new Nf(a,null):lc};g.na=function(){return this};g.oa=function(a,b){return b===this.bb?this:new Nf(this.ca,b)};g.sa=function(a,b){return U(b,this)};
Nf.prototype[Da]=function(){return nc(this)};function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.P(c)};Of.P=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.da=0;Of.fa=function(a){return this.P(J(a))};
function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.G(a,d,Rf);b=P.B(e,Rf)?b:W.G(b,d,e);c=O(c)}else return pb(b,Tc(a))}function Sf(a){this.Eb=a}Sf.prototype.ta=function(){return this.Eb.ta()};Sf.prototype.next=function(){if(this.Eb.ta())return this.Eb.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.K=a;this.hb=b;this.R=c;this.I=15077647;this.$=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};
g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};
g.Ca=function(a,b){return this.ga(null,b,null)};g.ga=function(a,b,c){a=cb(this.hb,b);return x(a)?fb(a):c};g.Ua=function(){return new Sf(Ub(this.hb))};g.la=function(){return this.K};g.pa=function(){return Ma(this.hb)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=rc(this)};g.ja=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.hb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.wb=function(){return new Uf(Hb(this.hb))};
g.qa=function(){return pb(Vf,this.K)};g.Dc=function(a,b){return new Tf(this.K,eb(this.hb,b),null)};g.na=function(){return af(this.hb)};g.oa=function(a,b){return b===this.K?this:new Tf(b,this.hb,this.R)};g.sa=function(a,b){return new Tf(this.K,W.G(this.hb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.Ca(null,a)};g.B=function(a,b){return this.ga(null,a,b)};var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.ub=a;this.$=136;this.I=259}g=Uf.prototype;g.Cb=function(a,b){this.ub=Kb(this.ub,b,null);return this};g.Lb=function(){return new Tf(null,Jb(this.ub),null)};g.pa=function(){return R(this.ub)};g.Ca=function(a,b){return this.ga(null,b,null)};
g.ga=function(a,b,c){return Ya(this.ub,b,ed)===ed?c:b};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.ub,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.ub,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.F;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.$&4096||u===a.Bc))return a.Ib(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.G?b.G(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.G?b.G(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.I&131072||u===b.cd?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.G?eg.G(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Mb)return a.Yb(b);if(null!=a?a.I&2147483648||u===a.ra||(a.I?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.ba?fg.ba(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.rb}()))return $f(b,Ic(["#object[",a.constructor.rb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.G(c,hg,dg),d.G?d.G(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ia(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.I&4||u===a.Wc)?a.qa(null):(null!=a?a.I&4||u===a.Wc||(a.I?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.G(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.G(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.G?c.G(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.G?c.G(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=$c(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.ra=u;K.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.ra=u;zd.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.ra=u;Ae.prototype.ma=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.ra=u;Ef.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.ra=u;Ze.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.ra=u;oc.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.ra=u;Me.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.ra=u;
wd.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.ra=u;Jf.prototype.ma=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.ra=u;Gf.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.ra=u;Oe.prototype.ma=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.ra=u;Tf.prototype.ma=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.ra=u;Dd.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.ra=u;ae.prototype.ma=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.ra=u;Nf.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.ra=u;he.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.ra=u;Y.prototype.ma=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.ra=u;vd.prototype.ma=function(a,b){return G(b,"()")};v.prototype.ra=u;
v.prototype.ma=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.ra=u;Mf.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.ra=u;Lc.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Yc)a=a.Yc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Xc||(a.Fc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.P(arguments[0],c)};
sg.P=function(a,b){b=Sd(b);var c=H.G(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Xc||(f.Fc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if($c(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ia(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ia(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.da=1;sg.fa=function(a){var b=N(a);a=O(a);return this.P(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.G?Cg.G(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.G?Cg.G(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.ba(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.Da?Eg.Da(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.O=b;this.kd=k;this.ac=c;this.cc=d;this.qd=e;this.bc=f;this.Ub=h;this.I=4194305;this.$=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.Y();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.G(arguments[1],arguments[2],arguments[3]);case 4:return this.ba(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Sa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ta(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Oa(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Qa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.Y=function(){var a=this.O.Y?this.O.Y():this.O.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.Y?b.Y():b.call(null)};g.j=function(a){var b=this.O.j?this.O.j(a):this.O.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.O.B?this.O.B(a,b):this.O.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.G=function(a,b,c){var d=this.O.G?this.O.G(a,b,c):this.O.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.G?e.G(a,b,c):e.call(null,a,b,c)};g.ba=function(a,b,c,d){var e=this.O.ba?this.O.ba(a,b,c,d):this.O.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.ba?f.ba(a,b,c,d):f.call(null,a,b,c,d)};
g.ea=function(a,b,c,d,e){var f=this.O.ea?this.O.ea(a,b,c,d,e):this.O.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.ea?h.ea(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Ra=function(a,b,c,d,e,f){var h=this.O.Ra?this.O.Ra(a,b,c,d,e,f):this.O.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Ra?k.Ra(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Sa=function(a,b,c,d,e,f,h){var k=this.O.Sa?this.O.Sa(a,b,c,d,e,f,h):this.O.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Sa?l.Sa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.Da=function(a,b,c,d,e,f,h,k){var l=this.O.Da?this.O.Da(a,b,c,d,e,f,h,k):this.O.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.Da?m.Da(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Ta=function(a,b,c,d,e,f,h,k,l){var m=this.O.Ta?this.O.Ta(a,b,c,d,e,f,h,k,l):this.O.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Ta?n.Ta(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ga=function(a,b,c,d,e,f,h,k,l,m){var n=this.O.Ga?this.O.Ga(a,b,c,d,e,f,h,k,l,m):this.O.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ga?p.Ga(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.O.Ha?this.O.Ha(a,b,c,d,e,f,h,k,l,m,n):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Ha?q.Ha(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.O.Ia?this.O.Ia(a,b,c,d,e,f,h,k,l,m,n,p):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ia?r.Ia(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.O.Ja?this.O.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Ja?w.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.O.Ka?this.O.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ka?z.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.O.La?this.O.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.La?C.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.O.Ma?this.O.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ma?E.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Na=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.O.Na?this.O.Na(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Na?M.Na(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Oa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.O.Oa?this.O.Oa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Oa?T.Oa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.Pa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.O.Pa?this.O.Pa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.Pa?da.Pa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.O.Qa?this.O.Qa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),qa=Ig(this,da);x(qa)||Fg(this.name,da);return qa.Qa?qa.Qa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):qa.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.mc=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var qa=Rd(this.O,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),Zc=Ig(this,qa);x(Zc)||Fg(this.name,qa);return Rd(Zc,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.ba(c.cc,W,a,b);Bg(c.bc,c.cc,c.Ub,c.ac)}function Ig(a,b){P.B(F(a.Ub),F(a.ac))||Bg(a.bc,a.cc,a.Ub,a.ac);var c=F(a.bc);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.ac,a.cc,a.qd,a.bc,a.Ub,a.kd)}g.Ib=function(){return Ob(this.name)};
g.Jb=function(){return Pb(this.name)};g.ka=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",1499536964),Sg=new I(null,"displayName","displayName",
-809144601),Tg=new I(null,"on-dispose","on-dispose",2105306360),Ug=new I(null,"data","data",-232669377),Vg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Wg=new I(null,"sigma","sigma",-63715703),Xg=new I(null,"spec","spec",347520401),Yg=new I(null,"constructor","constructor",-1953928811),Zg=new I(null,"div.column","div.column",-1380853326),$g=new I(null,"actions","actions",-812656882),ah=new I(null,"childContextTypes","childContextTypes",578717991),bh=new I(null,"transform",
"transform",1381301764),ch=new I(null,"field","field",-1302436500),dh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),eh=new I(null,"running","running",1554969103),fh=new I(null,"class","class",-2030961996),gh=new I(null,"description","description",-1428560544),hh=new I(null,"title","title",636505583),ih=new I(null,"on-click","on-click",1632826543),jh=new I(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),kh=new I(null,"color","color",1011675173),
lh=new I(null,"stack","stack",-793405930),mh=new I(null,"as","as",1148689641),nh=new I(null,"reagentRender","reagentRender",-358306383),oh=new I(null,"name","name",1843675177),ph=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),qh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,"default","default",-1987822328),rh=new I("skier","joins-queue","skier/joins-queue",-1286647213),
sh=new I(null,"no-cache","no-cache",1588056370),th=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),uh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),vh=new I("lift","leaves","lift/leaves",-2138482165),wh=new I(null,"component-did-update","component-did-update",-1468549173),xh=new I("sim","end-time","sim/end-time",-1849965709),yh=new I(null,"reagent-render",
"reagent-render",-985383853),zh=new I(null,"encoding","encoding",1728578272),Ah=new I(null,"function-components","function-components",1492814963),Bh=new I(null,"hierarchy","hierarchy",-1053470341),Ch=new I(null,"on-write","on-write",31519475),Dh=new I("skiers","skiing","skiers/skiing",-957605270),Eh=new I(null,"key","key",-1516042587),Fh=new I(null,"zero","zero",-858964576),Gh=new I("lift","ride-time","lift/ride-time",78775400),Hh=new I(null,"y","y",-1757859776),Ih=new I(null,"x","x",2099068185),
Jh=new I(null,"t","t",-1397832519),Kh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Lh=new I(null,"scale","scale",-230427353),Mh=new I(null,"contextType","contextType",1033066077),Nh=new I("skiers","waiting","skiers/waiting",1070582748),Oh=new I(null,"mark","mark",-373816345),Ph=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Qh=new I(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Rh=new I(null,"validator","validator",
-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Sh=new I(null,"display-name","display-name",694513143),Th=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Uh=new I("slope","length","slope/length",1017254753),Vh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Wh=new I(null,"contextTypes","contextTypes",-2023853910),tg=new I(null,"keyword-fn","keyword-fn",-64566675),Xh=new I(null,"shouldComponentUpdate",
"shouldComponentUpdate",1795750960),Yh=new I(null,"unit","unit",375175175),Zh=new I(null,"id","id",-1388402092),$h=new I(null,"$schema","$schema",1635092088),ai=new I(null,"component-will-unmount","component-will-unmount",-2058314698),bi=new I("lift","chair-width","lift/chair-width",1126373462),ci=new I(null,"results","results",-1134170113),di=new I(null,"className","className",-1983287057),ei=new I(null,"h1.title","h1.title",-2139952071),fi=new I("lift","chair-period","lift/chair-period",169813739),
gi=new I(null,"events","events",1792552201),hi=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ii=new I(null,"parse-tag","parse-tag",1427313738),ji=new I(null,"type","type",1174270348),ki=new I("skiers","speed","skiers/speed",88597428),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var li={},mi;function ni(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var oi=aa.navigator||null;oi&&(oi.appVersion||"").indexOf("X11");oa("Android");ni();oa("iPad");oa("iPod");ni()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof li||"undefined"===typeof mi)mi=function(b,c,d){this.f=b;this.Rc=c;this.md=d;this.I=393216;this.$=0},mi.prototype.oa=function(b,c){return new mi(this.f,this.Rc,c)},mi.prototype.la=function(){return this.md},mi.Mb=!0,mi.rb="cljs.core.async/t_cljs$core$async23236",mi.Yb=function(b){return G(b,"cljs.core.async/t_cljs$core$async23236")};return new mi(a,!0,Td)})(function(){return null});var pi={},qi={},ri=[];function si(a,b){var c=qi[a];if(void 0!==c)return c;try{ri.push(a);var d=pi[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};pi[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,si,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ri.pop()}return d.exports}si.cache={};si.resolve=function(a){return a};var ti=si(3,{});function ui(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function vi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.da=0;b.fa=function(d){d=J(d);return c(d)};b.P=c;return b}()}
function wi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ui(a,b,c):ui(a,b,vi(c));throw["Invalid match arg: ",B.j(b)].join("");}function xi(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function yi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var zi={};var Ai={},Bi="undefined"!==typeof window&&null!=window.document,Ci=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Di(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Ei(a){if("string"===typeof a)return a;a=X(a);var b=yi(a),c=J(b);b=N(c);c=O(c);return x(Ci.j?Ci.j(b):Ci.call(null,b))?a:Pd(B,b,de.B(Di,c))}
function Fi(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.$&4096||u===a.Bc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return $c(c)?oh.j(c):null}();return x(b)?wi(B.j(b),"$","."):null}function Gi(a){return a instanceof I||a instanceof gc}
var Hi=function Hi(a){switch(arguments.length){case 0:return Hi.Y();case 1:return Hi.j(arguments[0]);case 2:return Hi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Hi.P(arguments[0],arguments[1],c)}};Hi.Y=function(){return null};Hi.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Gi(b)?X(b):b:null},a),J(a)?xi(a):null):Gi(a)?X(a):a};
Hi.B=function(a,b){return x(a)?x(b)?[B.j(Hi.j(a))," ",B.j(Hi.j(b))].join(""):Hi.j(a):Hi.j(b)};Hi.P=function(a,b,c){return Ga(Hi,Hi.B(a,b),c)};Hi.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};Hi.da=2;var Ii=!1;function Ji(a){if($c(a))try{var b=H.B(a,Eh)}catch(c){b=null}else b=null;return b}
function Ki(a){var b=Eh.j(Tc(a));if(null!=b)return b;b=V(a,0,null);switch(b instanceof I?b.Va:null){case "\x3e":case "f\x3e":return Ji(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return Ji(V(a,1,null))}};var Li=0;function Mi(a){return setTimeout(a,16)}var Ni=Bi?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Mi}().bind(a)}():Mi;function Oi(a,b){return a.uc-b.uc}function Pi(){return null}function Qi(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.Y?d.Y():d.call(null);c+=1}else return null}
function Ri(a,b,c){b.push(c);return a.schedule()}function Si(){this.ec=!1}g=Si.prototype;g.flush_after_render=function(){var a=this.Sb;if(null==a)return null;this.Sb=null;return Qi(a)};g.queue_render=function(a){null==this.$b&&(this.$b=[]);return Ri(this,this.$b,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ec)return null;this.ec=!0;return Ni.j?Ni.j(a):Ni.call(null,a)};g.flush_before_flush=function(){var a=this.Tb;if(null==a)return null;this.Tb=null;return Qi(a)};
g.flush_queues=function(){this.flush_before_flush();Pi();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ec=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Tb&&(this.Tb=[]);return Ri(this,this.Tb,a)};g.add_after_render=function(a){null==this.Sb&&(this.Sb=[]);return Ri(this,this.Sb,a)};
g.flush_render=function(){var a=this.$b;if(null==a)return null;this.$b=null;a:{a.sort(Oi);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Ti=new Si;function Ui(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Ti.queue_render(a)};function Vi(a){if(null!=a&&null!=a.rd)a=a.id;else{var b=Vi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Wi(a,b,c){if(null!=a&&null!=a.Nc)a=a.Nc(a,b,c);else{var d=Wi[t(null==a?null:a)];if(null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=Wi._,null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function Xi(a,b){if(null!=a&&null!=a.Lc)a=a.Lc(a,b);else{var c=Xi[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xi._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function Yi(a,b,c,d,e){if(null!=a&&null!=a.Mc)a=a.Mc(a,b,c,d,e);else{var f=Yi[t(null==a?null:a)];if(null!=f)a=f.ea?f.ea(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Yi._,null!=f)a=f.ea?f.ea(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var Zi=function Zi(a){switch(arguments.length){case 1:return Zi.j(arguments[0]);case 2:return Zi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Zi.P(arguments[0],arguments[1],c)}};Zi.j=function(a){return a};Zi.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};Zi.P=function(a,b,c){return Ga(Zi,a,Jc.B(c,b))};
Zi.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};Zi.da=2;var $i;function aj(a,b){b.ic=null;a:{var c=$i;$i=b;try{var d=a.Y?a.Y():a.call(null);break a}finally{$i=c}d=void 0}a=b.ic;b.kb=!1;a:{c=b.vb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function bj(a){var b=$i;if(null!=b){var c=b.ic;null==c?b.ic=[a]:c.push(a)}}function cj(a,b,c){a.ya=W.G(a.ya,b,c);return a.xc=null}
function dj(a,b){a.ya=Oc.B(a.ya,b);return a.xc=null}function ej(a,b,c){var d=a.xc;d=null==d?a.xc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ya):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.ba?k.ba(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function fj(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=$i;$i=null;try{var e=d;break a}finally{$i=c}e=void 0}eg(e,a,b);return G(a,"]")}var gj=null;
function hj(a,b,c,d){this.state=a;this.K=b;this.validator=c;this.ya=d;this.I=2154201088;this.$=114690}g=hj.prototype;g.ma=function(a,b,c){return fj(b,c,"RAtom",new v(null,1,[mg,this.jb(null)],null))};g.la=function(){return this.K};g.ka=function(){return ba(this)};g.ja=function(a,b){return this===b};g.Wa=function(a,b){a=this.state;this.state=b;null!=this.ya&&ej(this,a,b);return b};g.oc=function(a,b){return this.Wa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.pc=function(a,b,c){return this.Wa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.qc=function(a,b,c,d){return this.Wa(null,b.G?b.G(this.state,c,d):b.call(null,this.state,c,d))};g.rc=function(a,b,c,d,e){return this.Wa(null,Qd(b,this.state,c,d,e))};g.sc=function(a,b){ej(this,a,b)};g.Wb=function(a,b,c){return cj(this,b,c)};g.Xb=function(a,b){return dj(this,b)};g.oa=function(a,b){return new hj(this.state,b,this.validator,this.ya)};g.jb=function(){bj(this);return this.state};
var ij=function ij(a){switch(arguments.length){case 1:return ij.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return ij.P(arguments[0],c)}};ij.j=function(a){return new hj(a,null,null,null)};ij.P=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Rh);return new hj(a,b,c,null)};ij.fa=function(a){var b=N(a);a=O(a);return this.P(b,a)};ij.da=1;
function jj(a){if(null!=a&&null!=a.wc)a=a.wc(a);else{var b=jj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function kj(a){this.f=a;this.state=null;this.kb=!0;this.Jc=!1;this.jc=this.cb=this.ya=this.vb=null;this.I=2153807872;this.$=114690}g=kj.prototype;g._peek_at=function(){var a=$i;$i=null;try{return this.jb(null)}finally{$i=a}};
g._handle_change=function(a,b,c){return b===c||this.kb?null:null==this.cb?(this.kb=!0,null==gj&&(gj=[],!1===Ti.ec&&Ti.schedule()),gj.push(this)):!0===this.cb?this._run(!1):this.cb.j?this.cb.j(this):this.cb.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.vb);this.vb=a;a=J(Zi.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ia(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(Zi.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ia(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.kb&&null!=this.vb?this._run(!0):null};g._try_capture=function(a){try{return this.jc=null,aj(a,this)}catch(b){return this.jc=this.state=a=b,this.kb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):aj(this.f,this);this.Jc||(this.state=a,null==this.ya||P.B(b,a)||ej(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Rg);var c=H.B(b,qh),d=H.B(b,Tg);b=H.B(b,sh);null!=a&&(this.cb=a);null!=c&&(this.od=c);null!=d&&(this.Kc=d);return null!=b?this.Jc=b:null};g.ma=function(a,b,c){return fj(b,c,"Reaction",new v(null,1,[mg,this.jb(null)],null))};g.ka=function(){return ba(this)};g.ja=function(a,b){return this===b};
g.wc=function(){var a=this.state,b=this.vb;this.cb=this.state=this.vb=null;this.kb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Kc&&this.Kc(a);a=this.Gd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Wa=function(a,b){a=this.state;this.state=b;this.od(a,b);ej(this,a,b);return b};
g.oc=function(a,b){a=this.Wa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.pc=function(a,b,c){a=this.Wa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.qc=function(a,b,c,d){a=this.Wa;var e=this._peek_at();b=b.G?b.G(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.rc=function(a,b,c,d,e){return this.Wa(null,Qd(b,this._peek_at(),c,d,e))};g.sc=function(a,b){ej(this,a,b)};g.Wb=function(a,b,c){return cj(this,b,c)};
g.Xb=function(a,b){a=Vc(this.ya);dj(this,b);return!a&&Vc(this.ya)&&null==this.cb?this.wc(null):null};g.jb=function(){var a=this.jc;if(null!=a)throw a;(a=null==$i)&&(lj.Y?lj.Y():lj.call(null));a&&null==this.cb?this.kb&&(a=this.state,this.state=this.f.Y?this.f.Y():this.f.call(null),null==this.ya||P.B(a,this.state)||ej(this,a,this.state)):(bj(this),this.kb&&this._run(!1));return this.state};
function lj(){for(;;){var a=gj;if(null==a)return null;gj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Pi=lj;function mj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Rg);d=H.B(e,qh);e=H.B(e,Tg);b=new kj(b);b._set_opts(new v(null,3,[Rg,c,qh,d,Tg,e],null));return b}var nj=mj(null);
function oj(a,b){var c=pj,d=nj,e=aj(a,d);null!=d.vb&&(nj=mj(null),d._set_opts(c),d.f=a,d.cb=function(){return Ui.j?Ui.j(b):Ui.call(null,b)},b.cljsRatom=d);return e};var qj;function rj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.G(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function sj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.mb);return b}
function tj(a,b){for(;;){var c=a.mb,d=!0===a.fd?c.call(a,a):function(){var e=rj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return Xi(b,d);if(gd(d))d=sj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return Xi(f,Pd(Le,l,p))}m.da=0;m.fa=function(p){p=J(p);return n(p)};m.P=n;return m}()}(a,b,c,null,d):d,a.mb=d;else return d}}var pj=new v(null,1,[sh,!0],null);
function uj(a,b){switch(a instanceof I?a.Va:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=$c(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.hd;d=null!=d?d:c.hd=ij.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,rj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,rj(this,c))};case "shouldComponentUpdate":return function(c){var d=Ii;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,rj(this,this.props),rj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,rj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,rj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&jj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var vj=new v(null,2,[Xh,null,Kh,null],null),wj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.ba(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=wi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=yi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Di,b))});function xj(a){return od(function(b,c,d){return W.G(b,yd.j(wj(c)),d)},Td,a)}
function yj(a,b){var c=function(){var h=nh.j(a);return x(h)?h:Og.j(a)}(),d=null==nh.j(a),e=function(){var h=Sg.j(a);if(x(h))return h;h=Fi(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.G,n=uj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.P(f,Sg,e,Ic([jh,d,nh,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?oj(function(){a:{var l=qj;qj=h;try{var m=tj(h,b);break a}finally{qj=l}m=void 0}return m},h):k._run(!1)}]))}
function zj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Aj(a,b){return yj(Of.P(Ic([vj,xj(a)])),b)}var Qf=new Y(null,5,5,Z,[ah,Wh,Mh,Qh,Vg],null);
function Bj(a,b){function c(k,l,m){ti.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.uc=Li+=1;return this}a=Aj(a,b);b=zj(Rd(Oc,a,Sg,ph,Yg,Ic([Og,nh,Qf])));var d=zj(Pf(a)),e=Sg.j(a),f=ph.j(a),h=Yg.j(a);ka(c.prototype,ti.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(nh.j(a))&&(c.prototype.mb=nh.j(a));x(jh.j(a))&&(c.prototype.fd=jh.j(a));ka(c,ti.Component,d);x(e)&&(c.displayName=e,c.rb=e,c.Yb=function(k){return G(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Mb=!0;return c.prototype.constructor=c}function Cj(a,b,c){a=Vi(a);return b[a]=c}
function Dj(a,b){for(;;){var c=b.mb,d=b.argv,e=Od(c,d);if(bd(e))return Xi(a,e);if(gd(e))c=sj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return Xi(f,Pd(Le,n,r))}p.da=0;p.fa=function(r){r=J(r);return q(r)};p.P=q;return p}()}(a,b,c,null,d,e):e,b.mb=c;else return e}}
function Ej(a,b){var c=b.argv,d=b.mb;b=ti.useState(0);V(b,0,null);var e=V(b,1,null),f=ti.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.uc=Li+=1;k.constructor=d;k.mb=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");ti.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:jj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?oj(function(){a:{var k=qj;qj=h;try{var l=Dj(a,h);break a}finally{qj=k}l=void 0}return l},
h):b._run(!1)}function Fj(a,b){a=a.argv;b=b.argv;var c=!1===Ii;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Gj(a,b){function c(e){return Ej(a,e)}var d=ia(b,Vi(a));if(x(d))return d;d=Fi(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=ti.memo(c,Fj);Cj(a,b,d);return d};var Hj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null),Ij=!1;
function Jj(a,b,c,d){var e=Sd(Td);e=H.B(e,Ch);if(x(function(){var h=!(a===document.activeElement&&id(Hj,a.type)&&"string"===typeof b&&"string"===typeof c);return h?h:Ij}()))return d.Zb=b,a.value=b,Pc(e)?e.j?e.j(b):e.call(null,b):null;var f=a.value;if(!P.B(f,c))return Ti.add_after_render(function(){var h=Ij;Ij=!0;try{return Kj.j?Kj.j(d):Kj.call(null,d)}finally{Ij=h}});f=R(f)-a.selectionStart;f=R(b)-f;d.Zb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=f;return a.selectionEnd=f}
function Kj(a){if(x(a.tc)){a.Gc=!1;var b=a.gd,c=a.Zb,d=a.vc;return P.B(b,c)?null:Jj(d,b,c,a)}return null}function Lj(a,b,c){a.Zb=c.target.value;x(a.Gc)||(a.Gc=!0,Ti.add_after_render(function(){return Kj(a)}));return b.j?b.j(c):b.call(null,c)}
function Mj(a){var b=qj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.tc)||(b.tc=!0,b.Zb=c);x(b.Oc)||(b.Oc=Pc(e)?function(f){b.vc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.vc=f;return e.current=f}:function(f){return b.vc=f});b.gd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Lj(b,d,f)};a.ref=b.Oc}}
var Nj=new v(null,4,[Sh,"ReagentInput",wh,Kj,ai,function(a){return a.tc=null},yh,function(a,b,c,d,e){Mj(c);return Yi(e,a,b,c,d)}],null);var Oj={},Pj,Qj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Rj={"class":"className","for":"htmlFor",charset:"charSet"};function Sj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Tj(a,b,c){if(Gi(b)){var d=Sj(Rj,X(b));null==d?(d=Ei(b),b=X(b),b=Rj[b]=d):b=d}c=Uj.j?Uj.j(c):Uj.call(null,c);a[b]=c;return a}
function Uj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Tj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.da=0;b.fa=function(d){d=J(d);return c(d)};b.P=c;return b}():sg(a)}var Vj={};function Wj(a,b,c){if(Gi(b)){var d=Sj(Vj,X(b));null==d?(d=Ei(b),b=X(b),b=Vj[b]=d):b=d}c=Uj(c);a[b]=c;return a}
function Xj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Wj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.da=0;b.fa=function(d){d=J(d);return c(d)};b.P=c;return b}():sg(a)}
function Yj(a,b,c,d,e){switch(R(b)-e){case 0:return ti.createElement(c,d);case 1:return ti.createElement(c,d,Xi(a,V(b,e,null)));default:return ti.createElement.apply(null,od(function(f,h,k){h>=e&&f.push(Xi(a,k));return f},[c,d],b))}}function Zj(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.jd=d}function ak(a,b,c){var d=ia(a,Vi(c));null==d?sj(a)?a=Cj(c,a,a):(d=Tc(a),d=W.G(d,yh,a),d=Bj(d,c),a=Cj(c,a,d)):a=d;c={};c.argv=b;b=Ki(b);null!=b&&(c.key=b);return ti.createElement(a,c)}
function bk(a,b,c,d){var e={};e.mb=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ki(b);null!=b&&(e.key=b);return ti.createElement(Gj(d,a),e)}function ck(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ak(a,b,c):bk(a,b,1,c)}var dk={};function ek(a,b){a=Sj(dk,b);if(null==a){var c=O(Xf(Qj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:wi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new Zj(a,d,c,e);return dk[b]=a}return a}
function fk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||$c(f),k=function(){var n=h?f:null;var p=fh.j(n);p=x(p)?W.G(n,fh,Hi.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==Zh.j(p)?W.G(p,Zh,q):p;if(x(n)){var r=W.G,w=Hi.B,z=fh.j(p);p=x(z)?z:di.j(p);n=r.call(W,q,fh,w.call(Hi,n,p))}else n=q;n=x(a.jd)?Xj(n):Uj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Ji(f);var m=function(){var n=d.sd;if(x(n))return n;n=Bj(Nj,d);return d.sd=n}();return Xi(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.P(Ic([x(l)?new v(null,1,[Eh,l],null):null,Tc(b)]))))}l=Ji(Tc(b));null!=l&&(k.key=l);return Yi(d,b,e,k,c)}function gk(a,b){return Fa(de.B(function(c){return Xi(b,c)},a))}
function hk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Va:null){case "\x3e":return c=V(a,1,null),fk(new Zj(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Ji(Tc(a));null!=e&&(d.key=e);return Yi(b,a,c,d,3);case "f\x3e":return bk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||$c(d),d=Uj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ki(a),null!=e&&(d.key=e),Yi(b,a,ti.Fragment,d,c);default:if(Gi(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=fk(Wi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.G(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.G?c.G(d,a,b):c.call(null,d,a,b);return b}}
var ik=function(a){var b=og("reagent-compiler"),c=x(Ah.j(a))?ck:ak,d=H.G(a,ii,ek);if("undefined"===typeof zi||"undefined"===typeof Ai||"undefined"===typeof Oj||"undefined"===typeof Pj)Pj=function(e,f,h,k,l){this.pd=e;this.id=f;this.Hc=h;this.dc=k;this.nd=l;this.I=393216;this.$=0},Pj.prototype.oa=function(e,f){return new Pj(this.pd,this.id,this.Hc,this.dc,f)},Pj.prototype.la=function(){return this.nd},Pj.prototype.rd=function(){return this.id},Pj.prototype.Nc=function(e,f,h){return this.dc.G?this.dc.G(this,
f,h):this.dc.call(null,this,f,h)},Pj.prototype.Lc=function(e,f){e=this.Hc;return"object"!==t(f)?f:bd(f)?hk(f,this,e):(null==f?0:null!=f?f.I&64||u===f.yb||(f.I?0:y(Ua,f)):y(Ua,f))?gk(f,this):Gi(f)?X(f):(null!=f?f.I&2147483648||u===f.ra||(f.I?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Pj.prototype.Mc=function(e,f,h,k,l){return Yj(this,f,h,k,l)},Pj.Mb=!0,Pj.rb="reagent.impl.template/t_reagent$impl$template26115",Pj.Yb=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26115")};return new Pj(a,
b,c,d,Td)}(Td);var jk=si(12,{});function kk(a){a=ia(a,"comp");ti.useEffect(function(){var c=Ii;Ii=!1;try{Ti.flush_after_render()}finally{Ii=c}});var b=Ii;Ii=!0;try{return a.Y?a.Y():a.call(null)}finally{Ii=b}}function lk(){var a=new Y(null,1,5,Z,[mk],null);nk.render(ti.createElement(kk,{comp:function(){return Xi(ik,a)}}))};var ok=si(75,{});function pk(a,b){this.Ic=a;this.Qc=b}pk.prototype.getKey=function(){return this.Ic};pk.prototype.getValue=function(){return this.Qc};pk.prototype.clone=function(){return new pk(this.Ic,this.Qc)};function qk(a){this.ab=[];if(a)a:{if(a instanceof qk){var b=a.ab;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.ab;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.ab.length){c=this.ab;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.ab;c.push(new pk(a,b));a=c.length-1;b=this.ab;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.ab,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.ab;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.ab;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.ab.length};g.clear=function(){la(this.ab)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Wg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.G(Td,Bh,vg.Y?vg.Y():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Ph.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(rh,function(a){return je(je(a,Dh,sk),Nh,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,ki),d=H.B(a,Uh);b=Sd(b);b=H.B(b,Jh);c=d/tk(c);return ke(je(je(a,hi,sk),Dh,tc),gi,Jc,new v(null,2,[Ph,rh,Jh,b+c],null))});Jg(vh,function(a,b){var c=Sd(a),d=H.B(c,Gh),e=H.B(c,bi);a=H.B(c,fi);b=Sd(b);b=H.B(b,Jh);var f=Nh.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Nh,sd,e),hi,rd,e);d=new v(null,2,[Ph,Mg,Jh,b+tk(d)],null);return ke(ke(c,gi,ie,ee(e,new he(null,-1,d,null))),gi,Jc,new v(null,2,[Ph,vh,Jh,b+a],null))});var uk;
a:for(var vk=[Uh,hi,Gh,gi,Dh,fi,xh,ki,bi,Jh,Nh],wk=[3E3,0,new v(null,2,[Pg,300,Wg,30],null),new Y(null,1,5,Z,[new v(null,2,[Ph,vh,Jh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Wg,1,Yh,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"line",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,3,[ch,"number-of-skiers",ji,"quantitative",hh,"Number of skiers"],null),kh,new v(null,
1,[ch,"state"],null)],null)],null),Dk=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"bar",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,4,[ch,"number-of-skiers",ji,"quantitative",lh,"normalize",
hh,"Percentage of skiers"],null),kh,new v(null,1,[ch,"state"],null)],null)],null),Ek=ij.j(new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null)),Fk=ij.j(new v(null,1,[eh,!0],null));
function Gk(){return ce.B(Ek,function(a){var b=W.G,c=Jc.B,d=ci.j(a),e;a:for(e=ci.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=gi.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ia(null,n);k.enqueue(Jh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Jh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.G;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,gi,n);e=e.B?e.B(f,
h):e.call(null,f,h);e=l.call(W,e,Jh,h.j?h.j(Jh):h.call(null,Jh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ci,He(c))})}function Hk(){return x(eh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.ba(Fk,W,eh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.ba(Fk,W,eh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Th,new v(null,2,[ji,"reset",ih,function(){be(Ek,new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[eh,!0],null))}],null),"Restart"],null)}
function mk(){x(eh.j(F(Fk)))&&setTimeout(function(){return Gk()},100);return new Y(null,4,5,Z,[th,new Y(null,2,5,Z,[Vh,new Y(null,2,5,Z,[ei,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[uh,new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,3,[Xg,Ck,Ug,F(Ek),$g,!1],null)],null)],null),new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,
3,[Xg,Dk,Ug,F(Ek),$g,!1],null)],null)],null)],null)],null)],null)}var Jk=jk.createRoot,Kk;Kk=document.getElementById("app");var nk=Jk.call(jk,Kk);try{lk()}catch(a){throw console.error("An error occurred when calling (net.thewagner.skiers.web/init)"),a;};
}).call(this);