var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(Hb,vb,Ac,ab){function x(O){if(null===O||"object"!==typeof O)return null;O=pa&&O[pa]||O["@@iterator"];return"function"===typeof O?O:null}function l(O,oa,ra){this.props=O;this.context=oa;this.refs=bb;this.updater=ra||Aa}function M(){}function cb(O,oa,ra){this.props=O;this.context=oa;this.refs=bb;this.updater=ra||Aa}function zb(O,oa,ra){var Oa,ya={},va=null,m=null;if(null!=oa)for(Oa in void 0!==oa.ref&&(m=oa.ref),void 0!==oa.key&&(va=""+oa.key),oa)Cb.call(oa,Oa)&&!Mb.hasOwnProperty(Oa)&&
(ya[Oa]=oa[Oa]);var G=arguments.length-2;if(1===G)ya.children=ra;else if(1<G){for(var Q=Array(G),y=0;y<G;y++)Q[y]=arguments[y+2];ya.children=Q}if(O&&O.defaultProps)for(Oa in G=O.defaultProps,G)void 0===ya[Oa]&&(ya[Oa]=G[Oa]);return{$$typeof:Ba,type:O,key:va,ref:m,props:ya,_owner:xb.current}}function Zb(O,oa){return{$$typeof:Ba,type:O.type,key:oa,ref:O.ref,props:O.props,_owner:O._owner}}function gc(O){return"object"===typeof O&&null!==O&&O.$$typeof===Ba}function nc(O){var oa={"\x3d":"\x3d0",":":"\x3d2"};
return"$"+O.replace(/[=:]/g,function(ra){return oa[ra]})}function Tb(O,oa){return"object"===typeof O&&null!==O&&null!=O.key?nc(""+O.key):oa.toString(36)}function Gb(O,oa,ra,Oa,ya){var va=typeof O;if("undefined"===va||"boolean"===va)O=null;var m=!1;if(null===O)m=!0;else switch(va){case "string":case "number":m=!0;break;case "object":switch(O.$$typeof){case Ba:case jb:m=!0}}if(m)return m=O,ya=ya(m),O=""===Oa?"."+Tb(m,0):Oa,Ca(ya)?(ra="",null!=O&&(ra=O.replace(kc,"$\x26/")+"/"),Gb(ya,oa,ra,"",function(y){return y})):
null!=ya&&(gc(ya)&&(ya=Zb(ya,ra+(!ya.key||m&&m.key===ya.key?"":(""+ya.key).replace(kc,"$\x26/")+"/")+O)),oa.push(ya)),1;m=0;Oa=""===Oa?".":Oa+":";if(Ca(O))for(var G=0;G<O.length;G++){va=O[G];var Q=Oa+Tb(va,G);m+=Gb(va,oa,ra,Q,ya)}else if(Q=x(O),"function"===typeof Q)for(O=Q.call(O),G=0;!(va=O.next()).done;)va=va.value,Q=Oa+Tb(va,G++),m+=Gb(va,oa,ra,Q,ya);else if("object"===va)throw oa=String(O),Error("Objects are not valid as a React child (found: "+("[object Object]"===oa?"object with keys {"+Object.keys(O).join(", ")+
"}":oa)+"). If you meant to render a collection of children, use an array instead.");return m}function Db(O,oa,ra){if(null==O)return O;var Oa=[],ya=0;Gb(O,Oa,"","",function(va){return oa.call(ra,va,ya++)});return Oa}function fc(O){if(-1===O._status){var oa=O._result;oa=oa();oa.then(function(ra){if(0===O._status||-1===O._status)O._status=1,O._result=ra},function(ra){if(0===O._status||-1===O._status)O._status=2,O._result=ra});-1===O._status&&(O._status=0,O._result=oa)}if(1===O._status)return O._result.default;
throw O._result;}var Ba=Symbol.for("react.element"),jb=Symbol.for("react.portal");Hb=Symbol.for("react.fragment");vb=Symbol.for("react.strict_mode");Ac=Symbol.for("react.profiler");var yb=Symbol.for("react.provider"),Ab=Symbol.for("react.context"),Pa=Symbol.for("react.forward_ref"),Va=Symbol.for("react.suspense"),Xa=Symbol.for("react.memo"),Fa=Symbol.for("react.lazy"),pa=Symbol.iterator,Aa={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},
Ha=Object.assign,bb={};l.prototype.isReactComponent={};l.prototype.setState=function(O,oa){if("object"!==typeof O&&"function"!==typeof O&&null!=O)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,oa,"setState")};l.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};M.prototype=l.prototype;var $a=cb.prototype=new M;$a.constructor=cb;Ha($a,l.prototype);
$a.isPureReactComponent=!0;var Ca=Array.isArray,Cb=Object.prototype.hasOwnProperty,xb={current:null},Mb={key:!0,ref:!0,__self:!0,__source:!0},kc=/\/+/g,pb={current:null},ca={transition:null};$a={ReactCurrentDispatcher:pb,ReactCurrentBatchConfig:ca,ReactCurrentOwner:xb};ab.Children={map:Db,forEach:function(O,oa,ra){Db(O,function(){oa.apply(this,arguments)},ra)},count:function(O){var oa=0;Db(O,function(){oa++});return oa},toArray:function(O){return Db(O,function(oa){return oa})||[]},only:function(O){if(!gc(O))throw Error("React.Children.only expected to receive a single React element child.");
return O}};ab.Component=l;ab.Fragment=Hb;ab.Profiler=Ac;ab.PureComponent=cb;ab.StrictMode=vb;ab.Suspense=Va;ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$a;ab.cloneElement=function(O,oa,ra){if(null===O||void 0===O)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Oa=Ha({},O.props),ya=O.key,va=O.ref,m=O._owner;if(null!=oa){void 0!==oa.ref&&(va=oa.ref,m=xb.current);void 0!==oa.key&&(ya=""+oa.key);if(O.type&&O.type.defaultProps)var G=O.type.defaultProps;
for(Q in oa)Cb.call(oa,Q)&&!Mb.hasOwnProperty(Q)&&(Oa[Q]=void 0===oa[Q]&&void 0!==G?G[Q]:oa[Q])}var Q=arguments.length-2;if(1===Q)Oa.children=ra;else if(1<Q){G=Array(Q);for(var y=0;y<Q;y++)G[y]=arguments[y+2];Oa.children=G}return{$$typeof:Ba,type:O.type,key:ya,ref:va,props:Oa,_owner:m}};ab.createContext=function(O){O={$$typeof:Ab,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};O.Provider={$$typeof:yb,_context:O};return O.Consumer=O};
ab.createElement=zb;ab.createFactory=function(O){var oa=zb.bind(null,O);oa.type=O;return oa};ab.createRef=function(){return{current:null}};ab.forwardRef=function(O){return{$$typeof:Pa,render:O}};ab.isValidElement=gc;ab.lazy=function(O){return{$$typeof:Fa,_payload:{_status:-1,_result:O},_init:fc}};ab.memo=function(O,oa){return{$$typeof:Xa,type:O,compare:void 0===oa?null:oa}};ab.startTransition=function(O){var oa=ca.transition;ca.transition={};try{O()}finally{ca.transition=oa}};ab.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.");
};ab.useCallback=function(O,oa){return pb.current.useCallback(O,oa)};ab.useContext=function(O){return pb.current.useContext(O)};ab.useDebugValue=function(){};ab.useDeferredValue=function(O){return pb.current.useDeferredValue(O)};ab.useEffect=function(O,oa){return pb.current.useEffect(O,oa)};ab.useId=function(){return pb.current.useId()};ab.useImperativeHandle=function(O,oa,ra){return pb.current.useImperativeHandle(O,oa,ra)};ab.useInsertionEffect=function(O,oa){return pb.current.useInsertionEffect(O,
oa)};ab.useLayoutEffect=function(O,oa){return pb.current.useLayoutEffect(O,oa)};ab.useMemo=function(O,oa){return pb.current.useMemo(O,oa)};ab.useReducer=function(O,oa,ra){return pb.current.useReducer(O,oa,ra)};ab.useRef=function(O){return pb.current.useRef(O)};ab.useState=function(O){return pb.current.useState(O)};ab.useSyncExternalStore=function(O,oa,ra){return pb.current.useSyncExternalStore(O,oa,ra)};ab.useTransition=function(){return pb.current.useTransition()};ab.version="18.2.0"};
shadow$provide[2]=function(Hb,vb,Ac,ab){Ac.exports=vb(0)};
shadow$provide[3]=function(Hb,vb,Ac,ab){function x(O,oa){var ra=O.length;O.push(oa);a:for(;0<ra;){var Oa=ra-1>>>1,ya=O[Oa];if(0<cb(ya,oa))O[Oa]=oa,O[ra]=ya,ra=Oa;else break a}}function l(O){return 0===O.length?null:O[0]}function M(O){if(0===O.length)return null;var oa=O[0],ra=O.pop();if(ra!==oa){O[0]=ra;var Oa=0,ya=O.length,va=ya>>>1;a:for(;Oa<va;){var m=2*(Oa+1)-1,G=O[m],Q=m+1,y=O[Q];if(0>cb(G,ra))Q<ya&&0>cb(y,G)?(O[Oa]=y,O[Q]=ra,Oa=Q):(O[Oa]=G,O[m]=ra,Oa=m);else if(Q<ya&&0>cb(y,ra))O[Oa]=y,O[Q]=
ra,Oa=Q;else break a}}return oa}function cb(O,oa){var ra=O.sortIndex-oa.sortIndex;return 0!==ra?ra:O.id-oa.id}function zb(O){for(var oa=l(Ab);null!==oa;){if(null===oa.callback)M(Ab);else if(oa.startTime<=O)M(Ab),oa.sortIndex=oa.expirationTime,x(yb,oa);else break;oa=l(Ab)}}function Zb(O){Aa=!1;zb(O);if(!pa)if(null!==l(yb))pa=!0,Gb(gc);else{var oa=l(Ab);null!==oa&&Db(Zb,oa.startTime-O)}}function gc(O,oa){pa=!1;Aa&&(Aa=!1,bb(xb),xb=-1);Fa=!0;var ra=Xa;try{zb(oa);for(Va=l(yb);null!==Va&&(!(Va.expirationTime>
oa)||O&&!nc());){var Oa=Va.callback;if("function"===typeof Oa){Va.callback=null;Xa=Va.priorityLevel;var ya=Oa(Va.expirationTime<=oa);oa=ab.unstable_now();"function"===typeof ya?Va.callback=ya:Va===l(yb)&&M(yb);zb(oa)}else M(yb);Va=l(yb)}if(null!==Va)var va=!0;else{var m=l(Ab);null!==m&&Db(Zb,m.startTime-oa);va=!1}return va}finally{Va=null,Xa=ra,Fa=!1}}function nc(){return ab.unstable_now()-kc<Mb?!1:!0}function Tb(){if(null!==Cb){var O=ab.unstable_now();kc=O;var oa=!0;try{oa=Cb(!0,O)}finally{oa?pb():
(Ca=!1,Cb=null)}}else Ca=!1}function Gb(O){Cb=O;Ca||(Ca=!0,pb())}function Db(O,oa){xb=Ha(function(){O(ab.unstable_now())},oa)}if("object"===typeof performance&&"function"===typeof performance.now){var fc=performance;ab.unstable_now=function(){return fc.now()}}else{var Ba=Date,jb=Ba.now();ab.unstable_now=function(){return Ba.now()-jb}}var yb=[],Ab=[],Pa=1,Va=null,Xa=3,Fa=!1,pa=!1,Aa=!1,Ha="function"===typeof setTimeout?setTimeout:null,bb="function"===typeof clearTimeout?clearTimeout:null,$a="undefined"!==
typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Ca=!1,Cb=null,xb=-1,Mb=5,kc=-1;if("function"===typeof $a)var pb=function(){$a(Tb)};else if("undefined"!==typeof MessageChannel){Hb=new MessageChannel;var ca=Hb.port2;Hb.port1.onmessage=Tb;pb=function(){ca.postMessage(null)}}else pb=function(){Ha(Tb,0)};ab.unstable_IdlePriority=5;ab.unstable_ImmediatePriority=
1;ab.unstable_LowPriority=4;ab.unstable_NormalPriority=3;ab.unstable_Profiling=null;ab.unstable_UserBlockingPriority=2;ab.unstable_cancelCallback=function(O){O.callback=null};ab.unstable_continueExecution=function(){pa||Fa||(pa=!0,Gb(gc))};ab.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Mb=0<O?Math.floor(1E3/O):5};ab.unstable_getCurrentPriorityLevel=function(){return Xa};
ab.unstable_getFirstCallbackNode=function(){return l(yb)};ab.unstable_next=function(O){switch(Xa){case 1:case 2:case 3:var oa=3;break;default:oa=Xa}var ra=Xa;Xa=oa;try{return O()}finally{Xa=ra}};ab.unstable_pauseExecution=function(){};ab.unstable_requestPaint=function(){};ab.unstable_runWithPriority=function(O,oa){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ra=Xa;Xa=O;try{return oa()}finally{Xa=ra}};ab.unstable_scheduleCallback=function(O,oa,ra){var Oa=ab.unstable_now();"object"===
typeof ra&&null!==ra?(ra=ra.delay,ra="number"===typeof ra&&0<ra?Oa+ra:Oa):ra=Oa;switch(O){case 1:var ya=-1;break;case 2:ya=250;break;case 5:ya=1073741823;break;case 4:ya=1E4;break;default:ya=5E3}ya=ra+ya;O={id:Pa++,callback:oa,priorityLevel:O,startTime:ra,expirationTime:ya,sortIndex:-1};ra>Oa?(O.sortIndex=ra,x(Ab,O),null===l(yb)&&O===l(Ab)&&(Aa?(bb(xb),xb=-1):Aa=!0,Db(Zb,ra-Oa))):(O.sortIndex=ya,x(yb,O),pa||Fa||(pa=!0,Gb(gc)));return O};ab.unstable_shouldYield=nc;ab.unstable_wrapCallback=function(O){var oa=
Xa;return function(){var ra=Xa;Xa=oa;try{return O.apply(this,arguments)}finally{Xa=ra}}}};
shadow$provide[5]=function(Hb,vb,Ac,ab){Ac.exports=vb(3)};
shadow$provide[6]=function(Hb,vb,Ac,ab){function x(b){for(var d="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+b,h=1;h<arguments.length;h++)d+="\x26args[]\x3d"+encodeURIComponent(arguments[h]);return"Minified React error #"+b+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(b,d){M(b,d);M(b+"Capture",d)}function M(b,d){$d[b]=d;for(b=0;b<d.length;b++)Bd.add(d[b])}function cb(b){if(Vd.call(Uf,b))return!0;
if(Vd.call(Nf,b))return!1;if(bf.test(b))return Uf[b]=!0;Nf[b]=!0;return!1}function zb(b,d,h,v){if(null!==h&&0===h.type)return!1;switch(typeof d){case "function":case "symbol":return!0;case "boolean":if(v)return!1;if(null!==h)return!h.acceptsBooleans;b=b.toLowerCase().slice(0,5);return"data-"!==b&&"aria-"!==b;default:return!1}}function Zb(b,d,h,v){if(null===d||"undefined"===typeof d||zb(b,d,h,v))return!0;if(v)return!1;if(null!==h)switch(h.type){case 3:return!d;case 4:return!1===d;case 5:return isNaN(d);
case 6:return isNaN(d)||1>d}return!1}function gc(b,d,h,v,S,ea,Wa){this.acceptsBooleans=2===d||3===d||4===d;this.attributeName=v;this.attributeNamespace=S;this.mustUseProperty=h;this.propertyName=b;this.type=d;this.sanitizeURL=ea;this.removeEmptyString=Wa}function nc(b){return b[1].toUpperCase()}function Tb(b,d,h,v){var S=cf.hasOwnProperty(d)?cf[d]:null;if(null!==S?0!==S.type:v||!(2<d.length)||"o"!==d[0]&&"O"!==d[0]||"n"!==d[1]&&"N"!==d[1])Zb(d,h,S,v)&&(h=null),v||null===S?cb(d)&&(null===h?b.removeAttribute(d):
b.setAttribute(d,""+h)):S.mustUseProperty?b[S.propertyName]=null===h?3===S.type?!1:"":h:(d=S.attributeName,v=S.attributeNamespace,null===h?b.removeAttribute(d):(S=S.type,h=3===S||4===S&&!0===h?"":""+h,v?b.setAttributeNS(v,d,h):b.setAttribute(d,h)))}function Gb(b){if(null===b||"object"!==typeof b)return null;b=Gk&&b[Gk]||b["@@iterator"];return"function"===typeof b?b:null}function Db(b){if(void 0===Hk)try{throw Error();}catch(h){var d=h.stack.trim().match(/\n( *(at )?)/);Hk=d&&d[1]||""}return"\n"+Hk+
b}function fc(b,d){if(!b||Xj)return"";Xj=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error();},Object.defineProperty(d.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(d,[])}catch(Nc){var v=Nc}Reflect.construct(b,[],d)}else{try{d.call()}catch(Nc){v=Nc}b.call(d.prototype)}else{try{throw Error();}catch(Nc){v=Nc}b()}}catch(Nc){if(Nc&&v&&"string"===typeof Nc.stack){for(var S=Nc.stack.split("\n"),
ea=v.stack.split("\n"),Wa=S.length-1,Qb=ea.length-1;1<=Wa&&0<=Qb&&S[Wa]!==ea[Qb];)Qb--;for(;1<=Wa&&0<=Qb;Wa--,Qb--)if(S[Wa]!==ea[Qb]){if(1!==Wa||1!==Qb){do if(Wa--,Qb--,0>Qb||S[Wa]!==ea[Qb]){var lc="\n"+S[Wa].replace(" at new "," at ");b.displayName&&lc.includes("\x3canonymous\x3e")&&(lc=lc.replace("\x3canonymous\x3e",b.displayName));return lc}while(1<=Wa&&0<=Qb)}break}}}finally{Xj=!1,Error.prepareStackTrace=h}return(b=b?b.displayName||b.name:"")?Db(b):""}function Ba(b){switch(b.tag){case 5:return Db(b.type);
case 16:return Db("Lazy");case 13:return Db("Suspense");case 19:return Db("SuspenseList");case 0:case 2:case 15:return b=fc(b.type,!1),b;case 11:return b=fc(b.type.render,!1),b;case 1:return b=fc(b.type,!0),b;default:return""}}function jb(b){if(null==b)return null;if("function"===typeof b)return b.displayName||b.name||null;if("string"===typeof b)return b;switch(b){case ih:return"Fragment";case yf:return"Portal";case Cd:return"Profiler";case ae:return"StrictMode";case Zf:return"Suspense";case zf:return"SuspenseList"}if("object"===
typeof b)switch(b.$$typeof){case Id:return(b.displayName||"Context")+".Consumer";case ge:return(b._context.displayName||"Context")+".Provider";case qf:var d=b.render;(b=b.displayName)||(b=d.displayName||d.name||"",b=""!==b?"ForwardRef("+b+")":"ForwardRef");return b;case $f:return d=b.displayName||null,null!==d?d:jb(b.type)||"Memo";case zg:d=b._payload;b=b._init;try{return jb(b(d))}catch(h){}}return null}function yb(b){var d=b.type;switch(b.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+
".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=d.render,b=b.displayName||b.name||"",d.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jb(d);case 8:return d===ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof d)return d.displayName||d.name||null;if("string"===typeof d)return d}return null}function Ab(b){switch(typeof b){case "boolean":case "number":case "string":case "undefined":return b;case "object":return b;default:return""}}function Pa(b){var d=b.type;return(b=b.nodeName)&&"input"===b.toLowerCase()&&("checkbox"===d||"radio"===d)}function Va(b){var d=Pa(b)?"checked":"value",h=Object.getOwnPropertyDescriptor(b.constructor.prototype,
d),v=""+b[d];if(!b.hasOwnProperty(d)&&"undefined"!==typeof h&&"function"===typeof h.get&&"function"===typeof h.set){var S=h.get,ea=h.set;Object.defineProperty(b,d,{configurable:!0,get:function(){return S.call(this)},set:function(Wa){v=""+Wa;ea.call(this,Wa)}});Object.defineProperty(b,d,{enumerable:h.enumerable});return{getValue:function(){return v},setValue:function(Wa){v=""+Wa},stopTracking:function(){b._valueTracker=null;delete b[d]}}}}function Xa(b){b._valueTracker||(b._valueTracker=Va(b))}function Fa(b){if(!b)return!1;
var d=b._valueTracker;if(!d)return!0;var h=d.getValue(),v="";b&&(v=Pa(b)?b.checked?"true":"false":b.value);b=v;return b!==h?(d.setValue(b),!0):!1}function pa(b){b=b||("undefined"!==typeof document?document:void 0);if("undefined"===typeof b)return null;try{return b.activeElement||b.body}catch(d){return b.body}}function Aa(b,d){var h=d.checked;return ag({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=h?h:b._wrapperState.initialChecked})}function Ha(b,d){var h=null==d.defaultValue?
"":d.defaultValue,v=null!=d.checked?d.checked:d.defaultChecked;h=Ab(null!=d.value?d.value:h);b._wrapperState={initialChecked:v,initialValue:h,controlled:"checkbox"===d.type||"radio"===d.type?null!=d.checked:null!=d.value}}function bb(b,d){d=d.checked;null!=d&&Tb(b,"checked",d,!1)}function $a(b,d){bb(b,d);var h=Ab(d.value),v=d.type;if(null!=h)if("number"===v){if(0===h&&""===b.value||b.value!=h)b.value=""+h}else b.value!==""+h&&(b.value=""+h);else if("submit"===v||"reset"===v){b.removeAttribute("value");
return}d.hasOwnProperty("value")?Cb(b,d.type,h):d.hasOwnProperty("defaultValue")&&Cb(b,d.type,Ab(d.defaultValue));null==d.checked&&null!=d.defaultChecked&&(b.defaultChecked=!!d.defaultChecked)}function Ca(b,d,h){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var v=d.type;if(!("submit"!==v&&"reset"!==v||void 0!==d.value&&null!==d.value))return;d=""+b._wrapperState.initialValue;h||d===b.value||(b.value=d);b.defaultValue=d}h=b.name;""!==h&&(b.name="");b.defaultChecked=!!b._wrapperState.initialChecked;
""!==h&&(b.name=h)}function Cb(b,d,h){if("number"!==d||pa(b.ownerDocument)!==b)null==h?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+h&&(b.defaultValue=""+h)}function xb(b,d,h,v){b=b.options;if(d){d={};for(var S=0;S<h.length;S++)d["$"+h[S]]=!0;for(h=0;h<b.length;h++)S=d.hasOwnProperty("$"+b[h].value),b[h].selected!==S&&(b[h].selected=S),S&&v&&(b[h].defaultSelected=!0)}else{h=""+Ab(h);d=null;for(S=0;S<b.length;S++){if(b[S].value===h){b[S].selected=!0;v&&(b[S].defaultSelected=!0);
return}null!==d||b[S].disabled||(d=b[S])}null!==d&&(d.selected=!0)}}function Mb(b,d){if(null!=d.dangerouslySetInnerHTML)throw Error(x(91));return ag({},d,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function kc(b,d){var h=d.value;if(null==h){h=d.children;d=d.defaultValue;if(null!=h){if(null!=d)throw Error(x(92));if(Di(h)){if(1<h.length)throw Error(x(93));h=h[0]}d=h}null==d&&(d="");h=d}b._wrapperState={initialValue:Ab(h)}}function pb(b,d){var h=Ab(d.value),v=Ab(d.defaultValue);
null!=h&&(h=""+h,h!==b.value&&(b.value=h),null==d.defaultValue&&b.defaultValue!==h&&(b.defaultValue=h));null!=v&&(b.defaultValue=""+v)}function ca(b){var d=b.textContent;d===b._wrapperState.initialValue&&""!==d&&null!==d&&(b.value=d)}function O(b){switch(b){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oa(b,d){return null==b||"http://www.w3.org/1999/xhtml"===b?O(d):"http://www.w3.org/2000/svg"===
b&&"foreignObject"===d?"http://www.w3.org/1999/xhtml":b}function ra(b,d){if(d){var h=b.firstChild;if(h&&h===b.lastChild&&3===h.nodeType){h.nodeValue=d;return}}b.textContent=d}function Oa(b,d,h){return null==d||"boolean"===typeof d||""===d?"":h||"number"!==typeof d||0===d||vj.hasOwnProperty(b)&&vj[b]?(""+d).trim():d+"px"}function ya(b,d){b=b.style;for(var h in d)if(d.hasOwnProperty(h)){var v=0===h.indexOf("--"),S=Oa(h,d[h],v);"float"===h&&(h="cssFloat");v?b.setProperty(h,S):b[h]=S}}function va(b,d){if(d){if(Gl[b]&&
(null!=d.children||null!=d.dangerouslySetInnerHTML))throw Error(x(137,b));if(null!=d.dangerouslySetInnerHTML){if(null!=d.children)throw Error(x(60));if("object"!==typeof d.dangerouslySetInnerHTML||!("__html"in d.dangerouslySetInnerHTML))throw Error(x(61));}if(null!=d.style&&"object"!==typeof d.style)throw Error(x(62));}}function m(b,d){if(-1===b.indexOf("-"))return"string"===typeof d.is;switch(b){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function G(b){b=b.target||b.srcElement||window;b.correspondingUseElement&&(b=b.correspondingUseElement);return 3===b.nodeType?b.parentNode:b}function Q(b){if(b=hc(b)){if("function"!==typeof Ik)throw Error(x(280));var d=b.stateNode;d&&(d=Vc(d),Ik(b.stateNode,b.type,d))}}function y(b){Yi?Zi?Zi.push(b):Zi=[b]:Yi=b}function t(){if(Yi){var b=Yi,d=Zi;Zi=Yi=null;Q(b);if(d)for(b=0;b<d.length;b++)Q(d[b])}}function H(b,d){return b(d)}function V(){}function E(b,d,h){if(wj)return b(d,h);wj=
!0;try{return H(b,d,h)}finally{if(wj=!1,null!==Yi||null!==Zi)V(),t()}}function K(b,d){var h=b.stateNode;if(null===h)return null;var v=Vc(h);if(null===v)return null;h=v[d];a:switch(d){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(v=!v.disabled)||(b=b.type,v=!("button"===b||"input"===b||"select"===b||"textarea"===
b));b=!v;break a;default:b=!1}if(b)return null;if(h&&"function"!==typeof h)throw Error(x(231,d,typeof h));return h}function z(b,d,h,v,S,ea,Wa,Qb,lc){var Nc=Array.prototype.slice.call(arguments,3);try{d.apply(h,Nc)}catch(pd){this.onError(pd)}}function L(b,d,h,v,S,ea,Wa,Qb,lc){Wg=!1;xj=null;z.apply(Hl,arguments)}function X(b,d,h,v,S,ea,Wa,Qb,lc){L.apply(this,arguments);if(Wg){if(Wg){var Nc=xj;Wg=!1;xj=null}else throw Error(x(198));yj||(yj=!0,Yj=Nc)}}function qa(b){var d=b,h=b;if(b.alternate)for(;d.return;)d=
d.return;else{b=d;do d=b,0!==(d.flags&4098)&&(h=d.return),b=d.return;while(b)}return 3===d.tag?h:null}function T(b){if(13===b.tag){var d=b.memoizedState;null===d&&(b=b.alternate,null!==b&&(d=b.memoizedState));if(null!==d)return d.dehydrated}return null}function la(b){if(qa(b)!==b)throw Error(x(188));}function xa(b){var d=b.alternate;if(!d){d=qa(b);if(null===d)throw Error(x(188));return d!==b?null:b}for(var h=b,v=d;;){var S=h.return;if(null===S)break;var ea=S.alternate;if(null===ea){v=S.return;if(null!==
v){h=v;continue}break}if(S.child===ea.child){for(ea=S.child;ea;){if(ea===h)return la(S),b;if(ea===v)return la(S),d;ea=ea.sibling}throw Error(x(188));}if(h.return!==v.return)h=S,v=ea;else{for(var Wa=!1,Qb=S.child;Qb;){if(Qb===h){Wa=!0;h=S;v=ea;break}if(Qb===v){Wa=!0;v=S;h=ea;break}Qb=Qb.sibling}if(!Wa){for(Qb=ea.child;Qb;){if(Qb===h){Wa=!0;h=ea;v=S;break}if(Qb===v){Wa=!0;v=ea;h=S;break}Qb=Qb.sibling}if(!Wa)throw Error(x(189));}}if(h.alternate!==v)throw Error(x(190));}if(3!==h.tag)throw Error(x(188));
return h.stateNode.current===h?b:d}function R(b){b=xa(b);return null!==b?ka(b):null}function ka(b){if(5===b.tag||6===b.tag)return b;for(b=b.child;null!==b;){var d=ka(b);if(null!==d)return d;b=b.sibling}return null}function Ka(b){if(Ih&&"function"===typeof Ih.onCommitFiberRoot)try{Ih.onCommitFiberRoot(zj,b,void 0,128===(b.current.flags&128))}catch(d){}}function kb(b){b>>>=0;return 0===b?32:31-(Il(b)/fl|0)|0}function Za(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function mb(b,d){var h=b.pendingLanes;if(0===
h)return 0;var v=0,S=b.suspendedLanes,ea=b.pingedLanes,Wa=h&268435455;if(0!==Wa){var Qb=Wa&~S;0!==Qb?v=Za(Qb):(ea&=Wa,0!==ea&&(v=Za(ea)))}else Wa=h&~S,0!==Wa?v=Za(Wa):0!==ea&&(v=Za(ea));if(0===v)return 0;if(0!==d&&d!==v&&0===(d&S)&&(S=v&-v,ea=d&-d,S>=ea||16===S&&0!==(ea&4194240)))return d;0!==(v&4)&&(v|=h&16);d=b.entangledLanes;if(0!==d)for(b=b.entanglements,d&=v;0<d;)h=31-Ah(d),S=1<<h,v|=b[h],d&=~S;return v}function Ra(b,d){switch(b){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ob(b,d){for(var h=b.suspendedLanes,v=b.pingedLanes,S=b.expirationTimes,ea=b.pendingLanes;0<ea;){var Wa=31-Ah(ea),Qb=1<<Wa,lc=S[Wa];if(-1===lc){if(0===(Qb&h)||0!==(Qb&v))S[Wa]=Ra(Qb,d)}else lc<=d&&(b.expiredLanes|=Qb);ea&=~Qb}}function mc(b){b=b.pendingLanes&-1073741825;return 0!==b?b:b&1073741824?1073741824:0}function Lc(){var b=
Aj;Aj<<=1;0===(Aj&4194240)&&(Aj=64);return b}function wc(b){for(var d=[],h=0;31>h;h++)d.push(b);return d}function tc(b,d,h){b.pendingLanes|=d;536870912!==d&&(b.suspendedLanes=0,b.pingedLanes=0);b=b.eventTimes;d=31-Ah(d);b[d]=h}function jc(b,d){var h=b.pendingLanes&~d;b.pendingLanes=d;b.suspendedLanes=0;b.pingedLanes=0;b.expiredLanes&=d;b.mutableReadLanes&=d;b.entangledLanes&=d;d=b.entanglements;var v=b.eventTimes;for(b=b.expirationTimes;0<h;){var S=31-Ah(h),ea=1<<S;d[S]=0;v[S]=-1;b[S]=-1;h&=~ea}}
function Sc(b,d){var h=b.entangledLanes|=d;for(b=b.entanglements;h;){var v=31-Ah(h),S=1<<v;S&d|b[v]&d&&(b[v]|=d);h&=~S}}function Ta(b){b&=-b;return 1<b?4<b?0!==(b&268435455)?16:536870912:4:1}function Ea(b,d){switch(b){case "focusin":case "focusout":Xh=null;break;case "dragenter":case "dragleave":ri=null;break;case "mouseover":case "mouseout":Yh=null;break;case "pointerover":case "pointerout":$i.delete(d.pointerId);break;case "gotpointercapture":case "lostpointercapture":aj.delete(d.pointerId)}}function ob(b,
d,h,v,S,ea){if(null===b||b.nativeEvent!==ea)return b={blockedOn:d,domEventName:h,eventSystemFlags:v,nativeEvent:ea,targetContainers:[S]},null!==d&&(d=hc(d),null!==d&&gl(d)),b;b.eventSystemFlags|=v;d=b.targetContainers;null!==S&&-1===d.indexOf(S)&&d.push(S);return b}function lb(b,d,h,v,S){switch(d){case "focusin":return Xh=ob(Xh,b,d,h,v,S),!0;case "dragenter":return ri=ob(ri,b,d,h,v,S),!0;case "mouseover":return Yh=ob(Yh,b,d,h,v,S),!0;case "pointerover":var ea=S.pointerId;$i.set(ea,ob($i.get(ea)||
null,b,d,h,v,S));return!0;case "gotpointercapture":return ea=S.pointerId,aj.set(ea,ob(aj.get(ea)||null,b,d,h,v,S)),!0}return!1}function Fb(b){var d=sb(b.target);if(null!==d){var h=qa(d);if(null!==h)if(d=h.tag,13===d){if(d=T(h),null!==d){b.blockedOn=d;Jl(b.priority,function(){Kl(h)});return}}else if(3===d&&h.stateNode.current.memoizedState.isDehydrated){b.blockedOn=3===h.tag?h.stateNode.containerInfo:null;return}}b.blockedOn=null}function Wb(b){if(null!==b.blockedOn)return!1;for(var d=b.targetContainers;0<
d.length;){var h=aa(b.domEventName,b.eventSystemFlags,d[0],b.nativeEvent);if(null===h){h=b.nativeEvent;var v=new h.constructor(h.type,h);Bj=v;h.target.dispatchEvent(v);Bj=null}else return d=hc(h),null!==d&&gl(d),b.blockedOn=h,!1;d.shift()}return!0}function Xb(b,d,h){Wb(b)&&h.delete(d)}function ic(){Jk=!1;null!==Xh&&Wb(Xh)&&(Xh=null);null!==ri&&Wb(ri)&&(ri=null);null!==Yh&&Wb(Yh)&&(Yh=null);$i.forEach(Xb);aj.forEach(Xb)}function xc(b,d){b.blockedOn===d&&(b.blockedOn=null,Jk||(Jk=!0,pc.unstable_scheduleCallback(pc.unstable_NormalPriority,
ic)))}function kd(b){function d(S){return xc(S,b)}if(0<Zj.length){xc(Zj[0],b);for(var h=1;h<Zj.length;h++){var v=Zj[h];v.blockedOn===b&&(v.blockedOn=null)}}null!==Xh&&xc(Xh,b);null!==ri&&xc(ri,b);null!==Yh&&xc(Yh,b);$i.forEach(d);aj.forEach(d);for(h=0;h<Zh.length;h++)v=Zh[h],v.blockedOn===b&&(v.blockedOn=null);for(;0<Zh.length&&(h=Zh[0],null===h.blockedOn);)Fb(h),null===h.blockedOn&&Zh.shift()}function B(b,d,h,v){var S=vf,ea=bj.transition;bj.transition=null;try{vf=1,C(b,d,h,v)}finally{vf=S,bj.transition=
ea}}function w(b,d,h,v){var S=vf,ea=bj.transition;bj.transition=null;try{vf=4,C(b,d,h,v)}finally{vf=S,bj.transition=ea}}function C(b,d,h,v){if(ak){var S=aa(b,d,h,v);if(null===S)hf(b,d,v,bk,h),Ea(b,v);else if(lb(S,b,d,h,v))v.stopPropagation();else if(Ea(b,v),d&4&&-1<Ll.indexOf(b)){for(;null!==S;){var ea=hc(S);null!==ea&&Kk(ea);ea=aa(b,d,h,v);null===ea&&hf(b,d,v,bk,h);if(ea===S)break;S=ea}null!==S&&v.stopPropagation()}else hf(b,d,v,null,h)}}function aa(b,d,h,v){bk=null;b=G(v);b=sb(b);if(null!==b)if(d=
qa(b),null===d)b=null;else if(h=d.tag,13===h){b=T(d);if(null!==b)return b;b=null}else if(3===h){if(d.stateNode.current.memoizedState.isDehydrated)return 3===d.tag?d.stateNode.containerInfo:null;b=null}else d!==b&&(b=null);bk=b;return null}function fa(b){switch(b){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(Lk()){case Mk:return 1;case ck:return 4;case Ei:case hl:return 16;case Nk:return 536870912;default:return 16}default:return 16}}function za(){if(Cj)return Cj;
var b,d=Ok,h=d.length,v,S="value"in si?si.value:si.textContent,ea=S.length;for(b=0;b<h&&d[b]===S[b];b++);var Wa=h-b;for(v=1;v<=Wa&&d[h-v]===S[ea-v];v++);return Cj=S.slice(b,1<v?1-v:void 0)}function eb(b){var d=b.keyCode;"charCode"in b?(b=b.charCode,0===b&&13===d&&(b=13)):b=d;10===b&&(b=13);return 32<=b||13===b?b:0}function fb(){return!0}function ib(){return!1}function Vb(b){function d(h,v,S,ea,Wa){this._reactName=h;this._targetInst=S;this.type=v;this.nativeEvent=ea;this.target=Wa;this.currentTarget=
null;for(var Qb in b)b.hasOwnProperty(Qb)&&(h=b[Qb],this[Qb]=h?h(ea):ea[Qb]);this.isDefaultPrevented=(null!=ea.defaultPrevented?ea.defaultPrevented:!1===ea.returnValue)?fb:ib;this.isPropagationStopped=ib;return this}ag(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():"unknown"!==typeof h.returnValue&&(h.returnValue=!1),this.isDefaultPrevented=fb)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():
"unknown"!==typeof h.cancelBubble&&(h.cancelBubble=!0),this.isPropagationStopped=fb)},persist:function(){},isPersistent:fb});return d}function oc(b){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(b):(b=Ml[b])?!!d[b]:!1}function qc(){return oc}function Dc(b,d){switch(b){case "keyup":return-1!==Nl.indexOf(d.keyCode);case "keydown":return 229!==d.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function Fc(b){b=b.detail;return"object"===typeof b&&
"data"in b?b.data:null}function Zc(b,d){switch(b){case "compositionend":return Fc(d);case "keypress":if(32!==d.which)return null;vd=!0;return Gf;case "textInput":return b=d.data,b===Gf&&vd?null:b;default:return null}}function xd(b,d){if(mg)return"compositionend"===b||!dk&&Dc(b,d)?(b=za(),Cj=Ok=si=null,mg=!1,b):null;switch(b){case "paste":return null;case "keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;
case "compositionend":return Je&&"ko"!==d.locale?null:d.data;default:return null}}function Hd(b){var d=b&&b.nodeName&&b.nodeName.toLowerCase();return"input"===d?!!ti[b.type]:"textarea"===d?!0:!1}function Ad(b,d,h,v){y(v);d=ne(d,"onChange");0<d.length&&(h=new jh("onChange","change",null,h,v),b.push({event:h,listeners:d}))}function Dd(b){ke(b,0)}function ed(b){var d=Uc(b);if(Fa(d))return b}function Fe(b,d){if("change"===b)return d}function ve(){cj&&(cj.detachEvent("onpropertychange",Sd),Fi=cj=null)}
function Sd(b){if("value"===b.propertyName&&ed(Fi)){var d=[];Ad(d,Fi,b,G(b));E(Dd,d)}}function qe(b,d,h){"focusin"===b?(ve(),cj=d,Fi=h,cj.attachEvent("onpropertychange",Sd)):"focusout"===b&&ve()}function A(b){if("selectionchange"===b||"keyup"===b||"keydown"===b)return ed(Fi)}function W(b,d){if("click"===b)return ed(d)}function ta(b,d){if("input"===b||"change"===b)return ed(d)}function Qa(b,d){return b===d&&(0!==b||1/b===1/d)||b!==b&&d!==d}function qb(b,d){if(gg(b,d))return!0;if("object"!==typeof b||
null===b||"object"!==typeof d||null===d)return!1;var h=Object.keys(b),v=Object.keys(d);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var S=h[v];if(!Vd.call(d,S)||!gg(b[S],d[S]))return!1}return!0}function Bb(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function ac(b,d){var h=Bb(b);b=0;for(var v;h;){if(3===h.nodeType){v=b+h.textContent.length;if(b<=d&&v>=d)return{node:h,offset:d-b};b=v}a:{for(;h;){if(h.nextSibling){h=h.nextSibling;break a}h=h.parentNode}h=void 0}h=Bb(h)}}function Sb(b,
d){return b&&d?b===d?!0:b&&3===b.nodeType?!1:d&&3===d.nodeType?Sb(b,d.parentNode):"contains"in b?b.contains(d):b.compareDocumentPosition?!!(b.compareDocumentPosition(d)&16):!1:!1}function wb(){for(var b=window,d=pa();d instanceof b.HTMLIFrameElement;){try{var h="string"===typeof d.contentWindow.location.href}catch(v){h=!1}if(h)b=d.contentWindow;else break;d=pa(b.document)}return d}function zc(b){var d=b&&b.nodeName&&b.nodeName.toLowerCase();return d&&("input"===d&&("text"===b.type||"search"===b.type||
"tel"===b.type||"url"===b.type||"password"===b.type)||"textarea"===d||"true"===b.contentEditable)}function Ic(b){var d=wb(),h=b.focusedElem,v=b.selectionRange;if(d!==h&&h&&h.ownerDocument&&Sb(h.ownerDocument.documentElement,h)){if(null!==v&&zc(h))if(d=v.start,b=v.end,void 0===b&&(b=d),"selectionStart"in h)h.selectionStart=d,h.selectionEnd=Math.min(b,h.value.length);else if(b=(d=h.ownerDocument||document)&&d.defaultView||window,b.getSelection){b=b.getSelection();var S=h.textContent.length,ea=Math.min(v.start,
S);v=void 0===v.end?ea:Math.min(v.end,S);!b.extend&&ea>v&&(S=v,v=ea,ea=S);S=ac(h,ea);var Wa=ac(h,v);S&&Wa&&(1!==b.rangeCount||b.anchorNode!==S.node||b.anchorOffset!==S.offset||b.focusNode!==Wa.node||b.focusOffset!==Wa.offset)&&(d=d.createRange(),d.setStart(S.node,S.offset),b.removeAllRanges(),ea>v?(b.addRange(d),b.extend(Wa.node,Wa.offset)):(d.setEnd(Wa.node,Wa.offset),b.addRange(d)))}d=[];for(b=h;b=b.parentNode;)1===b.nodeType&&d.push({element:b,left:b.scrollLeft,top:b.scrollTop});"function"===typeof h.focus&&
h.focus();for(h=0;h<d.length;h++)b=d[h],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}function $c(b,d,h){var v=h.window===h?h.document:9===h.nodeType?h:h.ownerDocument;dj||null==ej||ej!==pa(v)||(v=ej,"selectionStart"in v&&zc(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Dj&&qb(Dj,v)||(Dj=v,v=ne(fj,"onSelect"),
0<v.length&&(d=new jh("onSelect","select",null,d,h),b.push({event:d,listeners:v}),d.target=ej)))}function bd(b,d){var h={};h[b.toLowerCase()]=d.toLowerCase();h["Webkit"+b]="webkit"+d;h["Moz"+b]="moz"+d;return h}function nd(b){if(Pk[b])return Pk[b];if(!gj[b])return b;var d=gj[b],h;for(h in d)if(d.hasOwnProperty(h)&&h in il)return Pk[b]=d[h];return b}function Ed(b,d){Bh.set(b,d);l(d,[b])}function Wd(b,d,h){var v=b.type||"unknown-event";b.currentTarget=h;X(v,d,void 0,b);b.currentTarget=null}function ke(b,
d){d=0!==(d&4);for(var h=0;h<b.length;h++){var v=b[h],S=v.event;v=v.listeners;a:{var ea=void 0;if(d)for(var Wa=v.length-1;0<=Wa;Wa--){var Qb=v[Wa],lc=Qb.instance,Nc=Qb.currentTarget;Qb=Qb.listener;if(lc!==ea&&S.isPropagationStopped())break a;Wd(S,Qb,Nc);ea=lc}else for(Wa=0;Wa<v.length;Wa++){Qb=v[Wa];lc=Qb.instance;Nc=Qb.currentTarget;Qb=Qb.listener;if(lc!==ea&&S.isPropagationStopped())break a;Wd(S,Qb,Nc);ea=lc}}}if(yj)throw b=Yj,yj=!1,Yj=null,b;}function ce(b,d){var h=d[hj];void 0===h&&(h=d[hj]=new Set);
var v=b+"__bubble";h.has(v)||(Pe(d,b,2,!1),h.add(v))}function Ud(b,d,h){var v=0;d&&(v|=4);Pe(h,b,v,d)}function Ve(b){if(!b[Gi]){b[Gi]=!0;Bd.forEach(function(h){"selectionchange"!==h&&($h.has(h)||Ud(h,!1,b),Ud(h,!0,b))});var d=9===b.nodeType?b:b.ownerDocument;null===d||d[Gi]||(d[Gi]=!0,Ud("selectionchange",!1,d))}}function Pe(b,d,h,v){switch(fa(d)){case 1:var S=B;break;case 4:S=w;break;default:S=C}h=S.bind(null,d,h,b);S=void 0;!ek||"touchstart"!==d&&"touchmove"!==d&&"wheel"!==d||(S=!0);v?void 0!==
S?b.addEventListener(d,h,{capture:!0,passive:S}):b.addEventListener(d,h,!0):void 0!==S?b.addEventListener(d,h,{passive:S}):b.addEventListener(d,h,!1)}function hf(b,d,h,v,S){var ea=v;if(0===(d&1)&&0===(d&2)&&null!==v)a:for(;;){if(null===v)return;var Wa=v.tag;if(3===Wa||4===Wa){var Qb=v.stateNode.containerInfo;if(Qb===S||8===Qb.nodeType&&Qb.parentNode===S)break;if(4===Wa)for(Wa=v.return;null!==Wa;){var lc=Wa.tag;if(3===lc||4===lc)if(lc=Wa.stateNode.containerInfo,lc===S||8===lc.nodeType&&lc.parentNode===
S)return;Wa=Wa.return}for(;null!==Qb;){Wa=sb(Qb);if(null===Wa)return;lc=Wa.tag;if(5===lc||6===lc){v=ea=Wa;continue a}Qb=Qb.parentNode}}v=v.return}E(function(){var Nc=ea,pd=G(h),yd=[];a:{var td=Bh.get(b);if(void 0!==td){var Zd=jh,he=b;switch(b){case "keypress":if(0===eb(h))break a;case "keydown":case "keyup":Zd=Ol;break;case "focusin":he="focus";Zd=Ej;break;case "focusout":he="blur";Zd=Ej;break;case "beforeblur":case "afterblur":Zd=Ej;break;case "click":if(2===h.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Zd=
Qk;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Zd=fk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Zd=Pl;break;case Pg:case gk:case jl:Zd=Ql;break;case hk:Zd=Rl;break;case "scroll":Zd=ij;break;case "wheel":Zd=Rk;break;case "copy":case "cut":case "paste":Zd=Sl;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Zd=
ik}var le=0!==(d&4),hg=!le&&"scroll"===b,Bc=le?null!==td?td+"Capture":null:td;le=[];for(var rc=Nc,Jc;null!==rc;){Jc=rc;var Jd=Jc.stateNode;5===Jc.tag&&null!==Jd&&(Jc=Jd,null!==Bc&&(Jd=K(rc,Bc),null!=Jd&&le.push(Ne(rc,Jd,Jc))));if(hg)break;rc=rc.return}0<le.length&&(td=new Zd(td,he,null,h,pd),yd.push({event:td,listeners:le}))}}if(0===(d&7)){td="mouseover"===b||"pointerover"===b;Zd="mouseout"===b||"pointerout"===b;if(!td||h===Bj||!(he=h.relatedTarget||h.fromElement)||!sb(he)&&!he[Jh])if(Zd||td){td=
pd.window===pd?pd:(td=pd.ownerDocument)?td.defaultView||td.parentWindow:window;if(Zd){if(he=h.relatedTarget||h.toElement,Zd=Nc,he=he?sb(he):null,null!==he&&(hg=qa(he),he!==hg||5!==he.tag&&6!==he.tag))he=null}else Zd=null,he=Nc;if(Zd!==he){le=Qk;Jd="onMouseLeave";Bc="onMouseEnter";rc="mouse";if("pointerout"===b||"pointerover"===b)le=ik,Jd="onPointerLeave",Bc="onPointerEnter",rc="pointer";hg=null==Zd?td:Uc(Zd);Jc=null==he?td:Uc(he);td=new le(Jd,rc+"leave",Zd,h,pd);td.target=hg;td.relatedTarget=Jc;Jd=
null;sb(pd)===Nc&&(le=new le(Bc,rc+"enter",he,h,pd),le.target=Jc,le.relatedTarget=hg,Jd=le);hg=Jd;if(Zd&&he)b:{le=Zd;Bc=he;rc=0;for(Jc=le;Jc;Jc=Se(Jc))rc++;Jc=0;for(Jd=Bc;Jd;Jd=Se(Jd))Jc++;for(;0<rc-Jc;)le=Se(le),rc--;for(;0<Jc-rc;)Bc=Se(Bc),Jc--;for(;rc--;){if(le===Bc||null!==Bc&&le===Bc.alternate)break b;le=Se(le);Bc=Se(Bc)}le=null}else le=null;null!==Zd&&F(yd,td,Zd,le,!1);null!==he&&null!==hg&&F(yd,hg,he,le,!0)}}td=Nc?Uc(Nc):window;Zd=td.nodeName&&td.nodeName.toLowerCase();if("select"===Zd||"input"===
Zd&&"file"===td.type)var me=Fe;else if(Hd(td))if(jk)me=ta;else{me=A;var ye=qe}else(Zd=td.nodeName)&&"input"===Zd.toLowerCase()&&("checkbox"===td.type||"radio"===td.type)&&(me=W);me&&(me=me(b,Nc))?Ad(yd,me,h,pd):(ye&&ye(b,td,Nc),"focusout"===b&&(ye=td._wrapperState)&&ye.controlled&&"number"===td.type&&Cb(td,"number",td.value));ye=Nc?Uc(Nc):window;switch(b){case "focusin":if(Hd(ye)||"true"===ye.contentEditable)ej=ye,fj=Nc,Dj=null;break;case "focusout":Dj=fj=ej=null;break;case "mousedown":dj=!0;break;
case "contextmenu":case "mouseup":case "dragend":dj=!1;$c(yd,h,pd);break;case "selectionchange":if(kk)break;case "keydown":case "keyup":$c(yd,h,pd)}var se;if(dk)a:{switch(b){case "compositionstart":var we="onCompositionStart";break a;case "compositionend":we="onCompositionEnd";break a;case "compositionupdate":we="onCompositionUpdate";break a}we=void 0}else mg?Dc(b,h)&&(we="onCompositionEnd"):"keydown"===b&&229===h.keyCode&&(we="onCompositionStart");we&&(Je&&"ko"!==h.locale&&(mg||"onCompositionStart"!==
we?"onCompositionEnd"===we&&mg&&(se=za()):(si=pd,Ok="value"in si?si.value:si.textContent,mg=!0)),ye=ne(Nc,we),0<ye.length&&(we=new kl(we,b,null,h,pd),yd.push({event:we,listeners:ye}),se?we.data=se:(se=Fc(h),null!==se&&(we.data=se))));if(se=Kh?Zc(b,h):xd(b,h))Nc=ne(Nc,"onBeforeInput"),0<Nc.length&&(pd=new kl("onBeforeInput","beforeinput",null,h,pd),yd.push({event:pd,listeners:Nc}),pd.data=se)}ke(yd,d)})}function Ne(b,d,h){return{instance:b,listener:d,currentTarget:h}}function ne(b,d){for(var h=d+"Capture",
v=[];null!==b;){var S=b,ea=S.stateNode;5===S.tag&&null!==ea&&(S=ea,ea=K(b,h),null!=ea&&v.unshift(Ne(b,ea,S)),ea=K(b,d),null!=ea&&v.push(Ne(b,ea,S)));b=b.return}return v}function Se(b){if(null===b)return null;do b=b.return;while(b&&5!==b.tag);return b?b:null}function F(b,d,h,v,S){for(var ea=d._reactName,Wa=[];null!==h&&h!==v;){var Qb=h,lc=Qb.alternate,Nc=Qb.stateNode;if(null!==lc&&lc===v)break;5===Qb.tag&&null!==Nc&&(Qb=Nc,S?(lc=K(h,ea),null!=lc&&Wa.unshift(Ne(h,lc,Qb))):S||(lc=K(h,ea),null!=lc&&Wa.push(Ne(h,
lc,Qb))));h=h.return}0!==Wa.length&&b.push({event:d,listeners:Wa})}function Z(b){return("string"===typeof b?b:""+b).replace(ll,"\n").replace(ml,"")}function Da(b,d,h){d=Z(d);if(Z(b)!==d&&h)throw Error(x(425));}function hb(){}function Kb(b,d){return"textarea"===b||"noscript"===b||"string"===typeof d.children||"number"===typeof d.children||"object"===typeof d.dangerouslySetInnerHTML&&null!==d.dangerouslySetInnerHTML&&null!=d.dangerouslySetInnerHTML.__html}function uc(b){setTimeout(function(){throw b;
})}function Ib(b,d){var h=d,v=0;do{var S=h.nextSibling;b.removeChild(h);if(S&&8===S.nodeType)if(h=S.data,"/$"===h){if(0===v){b.removeChild(S);kd(d);return}v--}else"$"!==h&&"$?"!==h&&"$!"!==h||v++;h=S}while(h);kd(d)}function ma(b){for(;null!=b;b=b.nextSibling){var d=b.nodeType;if(1===d||3===d)break;if(8===d){d=b.data;if("$"===d||"$!"===d||"$?"===d)break;if("/$"===d)return null}}return b}function Ga(b){b=b.previousSibling;for(var d=0;b;){if(8===b.nodeType){var h=b.data;if("$"===h||"$!"===h||"$?"===
h){if(0===d)return b;d--}else"/$"===h&&d++}b=b.previousSibling}return null}function sb(b){var d=b[Lh];if(d)return d;for(var h=b.parentNode;h;){if(d=h[Jh]||h[Lh]){h=d.alternate;if(null!==d.child||null!==h&&null!==h.child)for(b=Ga(b);null!==b;){if(h=b[Lh])return h;b=Ga(b)}return d}b=h;h=b.parentNode}return null}function hc(b){b=b[Lh]||b[Jh];return!b||5!==b.tag&&6!==b.tag&&13!==b.tag&&3!==b.tag?null:b}function Uc(b){if(5===b.tag||6===b.tag)return b.stateNode;throw Error(x(33));}function Vc(b){return b[Hi]||
null}function rd(b){return{current:b}}function ad(b){0>jj||(b.current=lk[jj],lk[jj]=null,jj--)}function Nd(b,d){jj++;lk[jj]=b.current;b.current=d}function De(b,d){var h=b.type.contextTypes;if(!h)return ai;var v=b.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===d)return v.__reactInternalMemoizedMaskedChildContext;var S={},ea;for(ea in h)S[ea]=d[ea];v&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=d,b.__reactInternalMemoizedMaskedChildContext=S);return S}function Rd(b){b=
b.childContextTypes;return null!==b&&void 0!==b}function fe(){ad(bh);ad(Eg)}function Ae(b,d,h){if(Eg.current!==ai)throw Error(x(168));Nd(Eg,d);Nd(bh,h)}function Pc(b,d,h){var v=b.stateNode;d=d.childContextTypes;if("function"!==typeof v.getChildContext)return h;v=v.getChildContext();for(var S in v)if(!(S in d))throw Error(x(108,yb(b)||"Unknown",S));return ag({},h,v)}function Gd(b){b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||ai;sg=Eg.current;Nd(Eg,b);Nd(bh,bh.current);return!0}function cd(b,
d,h){var v=b.stateNode;if(!v)throw Error(x(169));h?(b=Pc(b,d,sg),v.__reactInternalMemoizedMergedChildContext=b,ad(bh),ad(Eg),Nd(Eg,b)):ad(bh);Nd(bh,h)}function qd(b){null===Ch?Ch=[b]:Ch.push(b)}function fd(b){Fj=!0;qd(b)}function sd(){if(!Gj&&null!==Ch){Gj=!0;var b=0,d=vf;try{var h=Ch;for(vf=1;b<h.length;b++){var v=h[b];do v=v(!0);while(null!==v)}Ch=null;Fj=!1}catch(S){throw null!==Ch&&(Ch=Ch.slice(b+1)),mk(Mk,sd),S;}finally{vf=d,Gj=!1}}return null}function Fd(b,d){Kg[rh++]=nk;Kg[rh++]=ok;ok=b;nk=
d}function be(b,d,h){Fg[sh++]=bg;Fg[sh++]=Mh;Fg[sh++]=Ii;Ii=b;var v=bg;b=Mh;var S=32-Ah(v)-1;v&=~(1<<S);h+=1;var ea=32-Ah(d)+S;if(30<ea){var Wa=S-S%5;ea=(v&(1<<Wa)-1).toString(32);v>>=Wa;S-=Wa;bg=1<<32-Ah(d)+S|h<<S|v;Mh=ea+b}else bg=1<<ea|h<<S|v,Mh=b}function Ee(b){null!==b.return&&(Fd(b,1),be(b,1,0))}function Re(b){for(;b===ok;)ok=Kg[--rh],Kg[rh]=null,nk=Kg[--rh],Kg[rh]=null;for(;b===Ii;)Ii=Fg[--sh],Fg[sh]=null,Mh=Fg[--sh],Fg[sh]=null,bg=Fg[--sh],Fg[sh]=null}function ff(b,d){var h=Of(5,null,null,
0);h.elementType="DELETED";h.stateNode=d;h.return=b;d=b.deletions;null===d?(b.deletions=[h],b.flags|=16):d.push(h)}function jf(b,d){switch(b.tag){case 5:var h=b.type;d=1!==d.nodeType||h.toLowerCase()!==d.nodeName.toLowerCase()?null:d;return null!==d?(b.stateNode=d,Qg=b,Rg=ma(d.firstChild),!0):!1;case 6:return d=""===b.pendingProps||3!==d.nodeType?null:d,null!==d?(b.stateNode=d,Qg=b,Rg=null,!0):!1;case 13:return d=8!==d.nodeType?null:d,null!==d?(h=null!==Ii?{id:bg,overflow:Mh}:null,b.memoizedState=
{dehydrated:d,treeContext:h,retryLane:1073741824},h=Of(18,null,null,0),h.stateNode=d,h.return=b,b.child=h,Qg=b,Rg=null,!0):!1;default:return!1}}function gd(b){return 0!==(b.mode&1)&&0===(b.flags&128)}function Rc(b){if(Vf){var d=Rg;if(d){var h=d;if(!jf(b,d)){if(gd(b))throw Error(x(418));d=ma(h.nextSibling);var v=Qg;d&&jf(b,d)?ff(v,h):(b.flags=b.flags&-4097|2,Vf=!1,Qg=b)}}else{if(gd(b))throw Error(x(418));b.flags=b.flags&-4097|2;Vf=!1;Qg=b}}}function jd(b){for(b=b.return;null!==b&&5!==b.tag&&3!==b.tag&&
13!==b.tag;)b=b.return;Qg=b}function Wc(b){if(b!==Qg)return!1;if(!Vf)return jd(b),Vf=!0,!1;var d;(d=3!==b.tag)&&!(d=5!==b.tag)&&(d=b.type,d="head"!==d&&"body"!==d&&!Kb(b.type,b.memoizedProps));if(d&&(d=Rg)){if(gd(b))throw na(),Error(x(418));for(;d;)ff(b,d),d=ma(d.nextSibling)}jd(b);if(13===b.tag){b=b.memoizedState;b=null!==b?b.dehydrated:null;if(!b)throw Error(x(317));a:{b=b.nextSibling;for(d=0;b;){if(8===b.nodeType){var h=b.data;if("/$"===h){if(0===d){Rg=ma(b.nextSibling);break a}d--}else"$"!==h&&
"$!"!==h&&"$?"!==h||d++}b=b.nextSibling}Rg=null}}else Rg=Qg?ma(b.stateNode.nextSibling):null;return!0}function na(){for(var b=Rg;b;)b=ma(b.nextSibling)}function La(){Rg=Qg=null;Vf=!1}function Ya(b){null===ch?ch=[b]:ch.push(b)}function ub(b,d){if(b&&b.defaultProps){d=ag({},d);b=b.defaultProps;for(var h in b)void 0===d[h]&&(d[h]=b[h])}return d}function n(b){var d=pk.current;ad(pk);b._currentValue=d}function J(b,d,h){for(;null!==b;){var v=b.alternate;(b.childLanes&d)!==d?(b.childLanes|=d,null!==v&&(v.childLanes|=
d)):null!==v&&(v.childLanes&d)!==d&&(v.childLanes|=d);if(b===h)break;b=b.return}}function da(b,d){bi=b;Ji=ci=null;b=b.dependencies;null!==b&&null!==b.firstContext&&(0!==(b.lanes&d)&&(dh=!0),b.firstContext=null)}function Ja(b){var d=b._currentValue;if(Ji!==b)if(b={context:b,memoizedValue:d,next:null},null===ci){if(null===bi)throw Error(x(308));ci=b;bi.dependencies={lanes:0,firstContext:b}}else ci=ci.next=b;return d}function Sa(b){null===Ki?Ki=[b]:Ki.push(b)}function Ua(b,d,h,v){var S=d.interleaved;
null===S?(h.next=h,Sa(d)):(h.next=S.next,S.next=h);d.interleaved=h;return Pb(b,v)}function Pb(b,d){b.lanes|=d;var h=b.alternate;null!==h&&(h.lanes|=d);h=b;for(b=b.return;null!==b;)b.childLanes|=d,h=b.alternate,null!==h&&(h.childLanes|=d),h=b,b=b.return;return 3===h.tag?h.stateNode:null}function bc(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ub(b,d){b=b.updateQueue;d.updateQueue===b&&(d.updateQueue=
{baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function yc(b,d){return{eventTime:b,lane:d,tag:0,payload:null,callback:null,next:null}}function Rb(b,d,h){var v=b.updateQueue;if(null===v)return null;v=v.shared;if(0!==(kf&2)){var S=v.pending;null===S?d.next=d:(d.next=S.next,S.next=d);v.pending=d;return Pb(b,h)}S=v.interleaved;null===S?(d.next=d,Sa(v)):(d.next=S.next,S.next=d);v.interleaved=d;return Pb(b,h)}function Kc(b,d,
h){d=d.updateQueue;if(null!==d&&(d=d.shared,0!==(h&4194240))){var v=d.lanes;v&=b.pendingLanes;h|=v;d.lanes=h;Sc(b,h)}}function Od(b,d){var h=b.updateQueue,v=b.alternate;if(null!==v&&(v=v.updateQueue,h===v)){var S=null,ea=null;h=h.firstBaseUpdate;if(null!==h){do{var Wa={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===ea?S=ea=Wa:ea=ea.next=Wa;h=h.next}while(null!==h);null===ea?S=ea=d:ea=ea.next=d}else S=ea=d;h={baseState:v.baseState,firstBaseUpdate:S,
lastBaseUpdate:ea,shared:v.shared,effects:v.effects};b.updateQueue=h}else b=h.lastBaseUpdate,null===b?h.firstBaseUpdate=d:b.next=d,h.lastBaseUpdate=d}function od(b,d,h,v){var S=b.updateQueue;Nh=!1;var ea=S.firstBaseUpdate,Wa=S.lastBaseUpdate,Qb=S.shared.pending;if(null!==Qb){S.shared.pending=null;var lc=Qb,Nc=lc.next;lc.next=null;null===Wa?ea=Nc:Wa.next=Nc;var pd=b.alternate;null!==pd&&(pd=pd.updateQueue,Qb=pd.lastBaseUpdate,Qb!==lc&&(null===Qb?pd.firstBaseUpdate=Nc:Qb.next=Nc,pd.lastBaseUpdate=lc))}if(null!==
ea){var yd=S.baseState;Wa=0;pd=Nc=lc=null;Qb=ea;do{var td=Qb.lane,Zd=Qb.eventTime;if((v&td)===td){null!==pd&&(pd=pd.next={eventTime:Zd,lane:0,tag:Qb.tag,payload:Qb.payload,callback:Qb.callback,next:null});a:{var he=b,le=Qb;td=d;Zd=h;switch(le.tag){case 1:he=le.payload;if("function"===typeof he){yd=he.call(Zd,yd,td);break a}yd=he;break a;case 3:he.flags=he.flags&-65537|128;case 0:he=le.payload;td="function"===typeof he?he.call(Zd,yd,td):he;if(null===td||void 0===td)break a;yd=ag({},yd,td);break a;
case 2:Nh=!0}}null!==Qb.callback&&0!==Qb.lane&&(b.flags|=64,td=S.effects,null===td?S.effects=[Qb]:td.push(Qb))}else Zd={eventTime:Zd,lane:td,tag:Qb.tag,payload:Qb.payload,callback:Qb.callback,next:null},null===pd?(Nc=pd=Zd,lc=yd):pd=pd.next=Zd,Wa|=td;Qb=Qb.next;if(null===Qb)if(Qb=S.shared.pending,null===Qb)break;else td=Qb,Qb=td.next,td.next=null,S.lastBaseUpdate=td,S.shared.pending=null}while(1);null===pd&&(lc=yd);S.baseState=lc;S.firstBaseUpdate=Nc;S.lastBaseUpdate=pd;d=S.shared.interleaved;if(null!==
d){S=d;do Wa|=S.lane,S=S.next;while(S!==d)}else null===ea&&(S.shared.lanes=0);eh|=Wa;b.lanes=Wa;b.memoizedState=yd}}function Md(b,d,h){b=d.effects;d.effects=null;if(null!==b)for(d=0;d<b.length;d++){var v=b[d],S=v.callback;if(null!==S){v.callback=null;v=h;if("function"!==typeof S)throw Error(x(191,S));S.call(v)}}}function hd(b,d,h,v){d=b.memoizedState;h=h(v,d);h=null===h||void 0===h?d:ag({},d,h);b.memoizedState=h;0===b.lanes&&(b.updateQueue.baseState=h)}function Mc(b,d,h,v,S,ea,Wa){b=b.stateNode;return"function"===
typeof b.shouldComponentUpdate?b.shouldComponentUpdate(v,ea,Wa):d.prototype&&d.prototype.isPureReactComponent?!qb(h,v)||!qb(S,ea):!0}function dd(b,d,h){var v=!1,S=ai,ea=d.contextType;"object"===typeof ea&&null!==ea?ea=Ja(ea):(S=Rd(d)?sg:Eg.current,v=d.contextTypes,ea=(v=null!==v&&void 0!==v)?De(b,S):ai);d=new d(h,ea);b.memoizedState=null!==d.state&&void 0!==d.state?d.state:null;d.updater=Hj;b.stateNode=d;d._reactInternals=b;v&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=S,b.__reactInternalMemoizedMaskedChildContext=
ea);return d}function Pd(b,d,h,v){b=d.state;"function"===typeof d.componentWillReceiveProps&&d.componentWillReceiveProps(h,v);"function"===typeof d.UNSAFE_componentWillReceiveProps&&d.UNSAFE_componentWillReceiveProps(h,v);d.state!==b&&Hj.enqueueReplaceState(d,d.state,null)}function Xd(b,d,h,v){var S=b.stateNode;S.props=h;S.state=b.memoizedState;S.refs=qk;bc(b);var ea=d.contextType;"object"===typeof ea&&null!==ea?S.context=Ja(ea):(ea=Rd(d)?sg:Eg.current,S.context=De(b,ea));S.state=b.memoizedState;
ea=d.getDerivedStateFromProps;"function"===typeof ea&&(hd(b,d,ea,h),S.state=b.memoizedState);"function"===typeof d.getDerivedStateFromProps||"function"===typeof S.getSnapshotBeforeUpdate||"function"!==typeof S.UNSAFE_componentWillMount&&"function"!==typeof S.componentWillMount||(d=S.state,"function"===typeof S.componentWillMount&&S.componentWillMount(),"function"===typeof S.UNSAFE_componentWillMount&&S.UNSAFE_componentWillMount(),d!==S.state&&Hj.enqueueReplaceState(S,S.state,null),od(b,h,S,v),S.state=
b.memoizedState);"function"===typeof S.componentDidMount&&(b.flags|=4194308)}function oe(b,d,h){b=h.ref;if(null!==b&&"function"!==typeof b&&"object"!==typeof b){if(h._owner){if(h=h._owner){if(1!==h.tag)throw Error(x(309));var v=h.stateNode}if(!v)throw Error(x(147,b));var S=v,ea=""+b;if(null!==d&&null!==d.ref&&"function"===typeof d.ref&&d.ref._stringRef===ea)return d.ref;d=function(Wa){var Qb=S.refs;Qb===qk&&(Qb=S.refs={});null===Wa?delete Qb[ea]:Qb[ea]=Wa};d._stringRef=ea;return d}if("string"!==typeof b)throw Error(x(284));
if(!h._owner)throw Error(x(290,b));}return b}function re(b,d){b=Object.prototype.toString.call(d);throw Error(x(31,"[object Object]"===b?"object with keys {"+Object.keys(d).join(", ")+"}":b));}function Qc(b){var d=b._init;return d(b._payload)}function Oe(b){function d(Bc,rc){if(b){var Jc=Bc.deletions;null===Jc?(Bc.deletions=[rc],Bc.flags|=16):Jc.push(rc)}}function h(Bc,rc){if(!b)return null;for(;null!==rc;)d(Bc,rc),rc=rc.sibling;return null}function v(Bc,rc){for(Bc=new Map;null!==rc;)null!==rc.key?
Bc.set(rc.key,rc):Bc.set(rc.index,rc),rc=rc.sibling;return Bc}function S(Bc,rc){Bc=th(Bc,rc);Bc.index=0;Bc.sibling=null;return Bc}function ea(Bc,rc,Jc){Bc.index=Jc;if(!b)return Bc.flags|=1048576,rc;Jc=Bc.alternate;if(null!==Jc)return Jc=Jc.index,Jc<rc?(Bc.flags|=2,rc):Jc;Bc.flags|=2;return rc}function Wa(Bc){b&&null===Bc.alternate&&(Bc.flags|=2);return Bc}function Qb(Bc,rc,Jc,Jd){if(null===rc||6!==rc.tag)return rc=Li(Jc,Bc.mode,Jd),rc.return=Bc,rc;rc=S(rc,Jc);rc.return=Bc;return rc}function lc(Bc,
rc,Jc,Jd){var me=Jc.type;if(me===ih)return pd(Bc,rc,Jc.props.children,Jd,Jc.key);if(null!==rc&&(rc.elementType===me||"object"===typeof me&&null!==me&&me.$$typeof===zg&&Qc(me)===rc.type))return Jd=S(rc,Jc.props),Jd.ref=oe(Bc,rc,Jc),Jd.return=Bc,Jd;Jd=Mi(Jc.type,Jc.key,Jc.props,null,Bc.mode,Jd);Jd.ref=oe(Bc,rc,Jc);Jd.return=Bc;return Jd}function Nc(Bc,rc,Jc,Jd){if(null===rc||4!==rc.tag||rc.stateNode.containerInfo!==Jc.containerInfo||rc.stateNode.implementation!==Jc.implementation)return rc=kj(Jc,Bc.mode,
Jd),rc.return=Bc,rc;rc=S(rc,Jc.children||[]);rc.return=Bc;return rc}function pd(Bc,rc,Jc,Jd,me){if(null===rc||7!==rc.tag)return rc=fh(Jc,Bc.mode,Jd,me),rc.return=Bc,rc;rc=S(rc,Jc);rc.return=Bc;return rc}function yd(Bc,rc,Jc){if("string"===typeof rc&&""!==rc||"number"===typeof rc)return rc=Li(""+rc,Bc.mode,Jc),rc.return=Bc,rc;if("object"===typeof rc&&null!==rc){switch(rc.$$typeof){case Be:return Jc=Mi(rc.type,rc.key,rc.props,null,Bc.mode,Jc),Jc.ref=oe(Bc,null,rc),Jc.return=Bc,Jc;case yf:return rc=
kj(rc,Bc.mode,Jc),rc.return=Bc,rc;case zg:var Jd=rc._init;return yd(Bc,Jd(rc._payload),Jc)}if(Di(rc)||Gb(rc))return rc=fh(rc,Bc.mode,Jc,null),rc.return=Bc,rc;re(Bc,rc)}return null}function td(Bc,rc,Jc,Jd){var me=null!==rc?rc.key:null;if("string"===typeof Jc&&""!==Jc||"number"===typeof Jc)return null!==me?null:Qb(Bc,rc,""+Jc,Jd);if("object"===typeof Jc&&null!==Jc){switch(Jc.$$typeof){case Be:return Jc.key===me?lc(Bc,rc,Jc,Jd):null;case yf:return Jc.key===me?Nc(Bc,rc,Jc,Jd):null;case zg:return me=Jc._init,
td(Bc,rc,me(Jc._payload),Jd)}if(Di(Jc)||Gb(Jc))return null!==me?null:pd(Bc,rc,Jc,Jd,null);re(Bc,Jc)}return null}function Zd(Bc,rc,Jc,Jd,me){if("string"===typeof Jd&&""!==Jd||"number"===typeof Jd)return Bc=Bc.get(Jc)||null,Qb(rc,Bc,""+Jd,me);if("object"===typeof Jd&&null!==Jd){switch(Jd.$$typeof){case Be:return Bc=Bc.get(null===Jd.key?Jc:Jd.key)||null,lc(rc,Bc,Jd,me);case yf:return Bc=Bc.get(null===Jd.key?Jc:Jd.key)||null,Nc(rc,Bc,Jd,me);case zg:var ye=Jd._init;return Zd(Bc,rc,Jc,ye(Jd._payload),me)}if(Di(Jd)||
Gb(Jd))return Bc=Bc.get(Jc)||null,pd(rc,Bc,Jd,me,null);re(rc,Jd)}return null}function he(Bc,rc,Jc,Jd){for(var me=null,ye=null,se=rc,we=rc=0,ig=null;null!==se&&we<Jc.length;we++){se.index>we?(ig=se,se=null):ig=se.sibling;var Ke=td(Bc,se,Jc[we],Jd);if(null===Ke){null===se&&(se=ig);break}b&&se&&null===Ke.alternate&&d(Bc,se);rc=ea(Ke,rc,we);null===ye?me=Ke:ye.sibling=Ke;ye=Ke;se=ig}if(we===Jc.length)return h(Bc,se),Vf&&Fd(Bc,we),me;if(null===se){for(;we<Jc.length;we++)se=yd(Bc,Jc[we],Jd),null!==se&&(rc=
ea(se,rc,we),null===ye?me=se:ye.sibling=se,ye=se);Vf&&Fd(Bc,we);return me}for(se=v(Bc,se);we<Jc.length;we++)ig=Zd(se,Bc,we,Jc[we],Jd),null!==ig&&(b&&null!==ig.alternate&&se.delete(null===ig.key?we:ig.key),rc=ea(ig,rc,we),null===ye?me=ig:ye.sibling=ig,ye=ig);b&&se.forEach(function(di){return d(Bc,di)});Vf&&Fd(Bc,we);return me}function le(Bc,rc,Jc,Jd){var me=Gb(Jc);if("function"!==typeof me)throw Error(x(150));Jc=me.call(Jc);if(null==Jc)throw Error(x(151));for(var ye=me=null,se=rc,we=rc=0,ig=null,Ke=
Jc.next();null!==se&&!Ke.done;we++,Ke=Jc.next()){se.index>we?(ig=se,se=null):ig=se.sibling;var di=td(Bc,se,Ke.value,Jd);if(null===di){null===se&&(se=ig);break}b&&se&&null===di.alternate&&d(Bc,se);rc=ea(di,rc,we);null===ye?me=di:ye.sibling=di;ye=di;se=ig}if(Ke.done)return h(Bc,se),Vf&&Fd(Bc,we),me;if(null===se){for(;!Ke.done;we++,Ke=Jc.next())Ke=yd(Bc,Ke.value,Jd),null!==Ke&&(rc=ea(Ke,rc,we),null===ye?me=Ke:ye.sibling=Ke,ye=Ke);Vf&&Fd(Bc,we);return me}for(se=v(Bc,se);!Ke.done;we++,Ke=Jc.next())Ke=
Zd(se,Bc,we,Ke.value,Jd),null!==Ke&&(b&&null!==Ke.alternate&&se.delete(null===Ke.key?we:Ke.key),rc=ea(Ke,rc,we),null===ye?me=Ke:ye.sibling=Ke,ye=Ke);b&&se.forEach(function(Tl){return d(Bc,Tl)});Vf&&Fd(Bc,we);return me}function hg(Bc,rc,Jc,Jd){"object"===typeof Jc&&null!==Jc&&Jc.type===ih&&null===Jc.key&&(Jc=Jc.props.children);if("object"===typeof Jc&&null!==Jc){switch(Jc.$$typeof){case Be:a:{for(var me=Jc.key,ye=rc;null!==ye;){if(ye.key===me){me=Jc.type;if(me===ih){if(7===ye.tag){h(Bc,ye.sibling);
rc=S(ye,Jc.props.children);rc.return=Bc;Bc=rc;break a}}else if(ye.elementType===me||"object"===typeof me&&null!==me&&me.$$typeof===zg&&Qc(me)===ye.type){h(Bc,ye.sibling);rc=S(ye,Jc.props);rc.ref=oe(Bc,ye,Jc);rc.return=Bc;Bc=rc;break a}h(Bc,ye);break}else d(Bc,ye);ye=ye.sibling}Jc.type===ih?(rc=fh(Jc.props.children,Bc.mode,Jd,Jc.key),rc.return=Bc,Bc=rc):(Jd=Mi(Jc.type,Jc.key,Jc.props,null,Bc.mode,Jd),Jd.ref=oe(Bc,rc,Jc),Jd.return=Bc,Bc=Jd)}return Wa(Bc);case yf:a:{for(ye=Jc.key;null!==rc;){if(rc.key===
ye)if(4===rc.tag&&rc.stateNode.containerInfo===Jc.containerInfo&&rc.stateNode.implementation===Jc.implementation){h(Bc,rc.sibling);rc=S(rc,Jc.children||[]);rc.return=Bc;Bc=rc;break a}else{h(Bc,rc);break}else d(Bc,rc);rc=rc.sibling}rc=kj(Jc,Bc.mode,Jd);rc.return=Bc;Bc=rc}return Wa(Bc);case zg:return ye=Jc._init,hg(Bc,rc,ye(Jc._payload),Jd)}if(Di(Jc))return he(Bc,rc,Jc,Jd);if(Gb(Jc))return le(Bc,rc,Jc,Jd);re(Bc,Jc)}return"string"===typeof Jc&&""!==Jc||"number"===typeof Jc?(Jc=""+Jc,null!==rc&&6===rc.tag?
(h(Bc,rc.sibling),rc=S(rc,Jc),rc.return=Bc,Bc=rc):(h(Bc,rc),rc=Li(Jc,Bc.mode,Jd),rc.return=Bc,Bc=rc),Wa(Bc)):h(Bc,rc)}return hg}function We(b){if(b===lj)throw Error(x(174));return b}function df(b,d){Nd(mj,d);Nd(Ij,b);Nd(Dh,lj);b=d.nodeType;switch(b){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:oa(null,"");break;default:b=8===b?d.parentNode:d,d=b.namespaceURI||null,b=b.tagName,d=oa(d,b)}ad(Dh);Nd(Dh,d)}function Hf(){ad(Dh);ad(Ij);ad(mj)}function wd(b){We(mj.current);var d=We(Dh.current),h=
oa(d,b.type);d!==h&&(Nd(Ij,b),Nd(Dh,h))}function te(b){Ij.current===b&&(ad(Dh),ad(Ij))}function Qe(b){for(var d=b;null!==d;){if(13===d.tag){var h=d.memoizedState;if(null!==h&&(h=h.dehydrated,null===h||"$?"===h.data||"$!"===h.data))return d}else if(19===d.tag&&void 0!==d.memoizedProps.revealOrder){if(0!==(d.flags&128))return d}else if(null!==d.child){d.child.return=d;d=d.child;continue}if(d===b)break;for(;null===d.sibling;){if(null===d.return||d.return===b)return null;d=d.return}d.sibling.return=d.return;
d=d.sibling}return null}function He(){for(var b=0;b<Ni.length;b++)Ni[b]._workInProgressVersionPrimary=null;Ni.length=0}function lf(){throw Error(x(321));}function Pf(b,d){if(null===d)return!1;for(var h=0;h<d.length&&h<b.length;h++)if(!gg(b[h],d[h]))return!1;return!0}function If(b,d,h,v,S,ea){ui=ea;Af=d;d.memoizedState=null;d.updateQueue=null;d.lanes=0;ei.current=null===b||null===b.memoizedState?nl:Ul;b=h(v,S);if(vi){ea=0;do{vi=!1;Jj=0;if(25<=ea)throw Error(x(301));ea+=1;Ag=tg=null;d.updateQueue=null;
ei.current=ol;b=h(v,S)}while(vi)}ei.current=rk;d=null!==tg&&null!==tg.next;ui=0;Ag=tg=Af=null;Kj=!1;if(d)throw Error(x(300));return b}function Wf(){var b=0!==Jj;Jj=0;return b}function Xe(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Ag?Af.memoizedState=Ag=b:Ag=Ag.next=b;return Ag}function Ce(){if(null===tg){var b=Af.alternate;b=null!==b?b.memoizedState:null}else b=tg.next;var d=null===Ag?Af.memoizedState:Ag.next;if(null!==d)Ag=d,tg=b;else{if(null===b)throw Error(x(310));
tg=b;b={memoizedState:tg.memoizedState,baseState:tg.baseState,baseQueue:tg.baseQueue,queue:tg.queue,next:null};null===Ag?Af.memoizedState=Ag=b:Ag=Ag.next=b}return Ag}function rf(b,d){return"function"===typeof d?d(b):d}function jg(b){var d=Ce(),h=d.queue;if(null===h)throw Error(x(311));h.lastRenderedReducer=b;var v=tg,S=v.baseQueue,ea=h.pending;if(null!==ea){if(null!==S){var Wa=S.next;S.next=ea.next;ea.next=Wa}v.baseQueue=S=ea;h.pending=null}if(null!==S){ea=S.next;v=v.baseState;var Qb=Wa=null,lc=null,
Nc=ea;do{var pd=Nc.lane;if((ui&pd)===pd)null!==lc&&(lc=lc.next={lane:0,action:Nc.action,hasEagerState:Nc.hasEagerState,eagerState:Nc.eagerState,next:null}),v=Nc.hasEagerState?Nc.eagerState:b(v,Nc.action);else{var yd={lane:pd,action:Nc.action,hasEagerState:Nc.hasEagerState,eagerState:Nc.eagerState,next:null};null===lc?(Qb=lc=yd,Wa=v):lc=lc.next=yd;Af.lanes|=pd;eh|=pd}Nc=Nc.next}while(null!==Nc&&Nc!==ea);null===lc?Wa=v:lc.next=Qb;gg(v,d.memoizedState)||(dh=!0);d.memoizedState=v;d.baseState=Wa;d.baseQueue=
lc;h.lastRenderedState=v}b=h.interleaved;if(null!==b){S=b;do ea=S.lane,Af.lanes|=ea,eh|=ea,S=S.next;while(S!==b)}else null===S&&(h.lanes=0);return[d.memoizedState,h.dispatch]}function mf(b){var d=Ce(),h=d.queue;if(null===h)throw Error(x(311));h.lastRenderedReducer=b;var v=h.dispatch,S=h.pending,ea=d.memoizedState;if(null!==S){h.pending=null;var Wa=S=S.next;do ea=b(ea,Wa.action),Wa=Wa.next;while(Wa!==S);gg(ea,d.memoizedState)||(dh=!0);d.memoizedState=ea;null===d.baseQueue&&(d.baseState=ea);h.lastRenderedState=
ea}return[ea,v]}function uf(){}function Qf(b,d){var h=Af,v=Ce(),S=d(),ea=!gg(v.memoizedState,S);ea&&(v.memoizedState=S,dh=!0);v=v.queue;Ge(Jf.bind(null,h,v,b),[b]);if(v.getSnapshot!==d||ea||null!==Ag&&Ag.memoizedState.tag&1){h.flags|=2048;rb(9,Rf.bind(null,h,v,S,d),void 0,null);if(null===Gg)throw Error(x(349));0!==(ui&30)||ng(h,d,S)}return S}function ng(b,d,h){b.flags|=16384;b={getSnapshot:d,value:h};d=Af.updateQueue;null===d?(d={lastEffect:null,stores:null},Af.updateQueue=d,d.stores=[b]):(h=d.stores,
null===h?d.stores=[b]:h.push(b))}function Rf(b,d,h,v){d.value=h;d.getSnapshot=v;ug(d)&&U(b)}function Jf(b,d,h){return h(function(){ug(d)&&U(b)})}function ug(b){var d=b.getSnapshot;b=b.value;try{var h=d();return!gg(b,h)}catch(v){return!0}}function U(b){var d=Pb(b,1);null!==d&&Yb(d,b,1,-1)}function Ia(b){var d=Xe();"function"===typeof b&&(b=b());d.memoizedState=d.baseState=b;b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rf,lastRenderedState:b};d.queue=b;b=b.dispatch=Oh.bind(null,
Af,b);return[d.memoizedState,b]}function rb(b,d,h,v){b={tag:b,create:d,destroy:h,deps:v,next:null};d=Af.updateQueue;null===d?(d={lastEffect:null,stores:null},Af.updateQueue=d,d.lastEffect=b.next=b):(h=d.lastEffect,null===h?d.lastEffect=b.next=b:(v=h.next,h.next=b,b.next=v,d.lastEffect=b));return b}function Cc(){return Ce().memoizedState}function Gc(b,d,h,v){var S=Xe();Af.flags|=b;S.memoizedState=rb(1|d,h,void 0,void 0===v?null:v)}function ud(b,d,h,v){var S=Ce();v=void 0===v?null:v;var ea=void 0;if(null!==
tg){var Wa=tg.memoizedState;ea=Wa.destroy;if(null!==v&&Pf(v,Wa.deps)){S.memoizedState=rb(d,h,ea,v);return}}Af.flags|=b;S.memoizedState=rb(1|d,h,ea,v)}function xe(b,d){return Gc(8390656,8,b,d)}function Ge(b,d){return ud(2048,8,b,d)}function cg(b,d){return ud(4,2,b,d)}function Ye(b,d){return ud(4,4,b,d)}function dg(b,d){if("function"===typeof d)return b=b(),d(b),function(){d(null)};if(null!==d&&void 0!==d)return b=b(),d.current=b,function(){d.current=null}}function Xg(b,d,h){h=null!==h&&void 0!==h?
h.concat([b]):null;return ud(4,4,dg.bind(null,d,b),h)}function vg(){}function eg(b,d){var h=Ce();d=void 0===d?null:d;var v=h.memoizedState;if(null!==v&&null!==d&&Pf(d,v[1]))return v[0];h.memoizedState=[b,d];return b}function kg(b,d){var h=Ce();d=void 0===d?null:d;var v=h.memoizedState;if(null!==v&&null!==d&&Pf(d,v[1]))return v[0];b=b();h.memoizedState=[b,d];return b}function Hg(b,d,h){if(0===(ui&21))return b.baseState&&(b.baseState=!1,dh=!0),b.memoizedState=h;gg(h,d)||(h=Lc(),Af.lanes|=h,eh|=h,b.baseState=
!0);return d}function Ig(b,d){var h=vf;vf=0!==h&&4>h?h:4;b(!0);var v=sk.transition;sk.transition={};try{b(!1),d()}finally{vf=h,sk.transition=v}}function kh(){return Ce().memoizedState}function uh(b,d,h){var v=nb(b);h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(vh(b))lh(d,h);else if(h=Ua(b,d,h,v),null!==h){var S=ha();Yb(h,b,v,S);de(h,d,v)}}function Oh(b,d,h){var v=nb(b),S={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(vh(b))lh(d,S);else{var ea=b.alternate;if(0===
b.lanes&&(null===ea||0===ea.lanes)&&(ea=d.lastRenderedReducer,null!==ea))try{var Wa=d.lastRenderedState,Qb=ea(Wa,h);S.hasEagerState=!0;S.eagerState=Qb;if(gg(Qb,Wa)){var lc=d.interleaved;null===lc?(S.next=S,Sa(d)):(S.next=lc.next,lc.next=S);d.interleaved=S;return}}catch(Nc){}finally{}h=Ua(b,d,S,v);null!==h&&(S=ha(),Yb(h,b,v,S),de(h,d,v))}}function vh(b){var d=b.alternate;return b===Af||null!==d&&d===Af}function lh(b,d){vi=Kj=!0;var h=b.pending;null===h?d.next=d:(d.next=h.next,h.next=d);b.pending=d}
function de(b,d,h){if(0!==(h&4194240)){var v=d.lanes;v&=b.pendingLanes;h|=v;d.lanes=h;Sc(b,h)}}function je(b,d){try{var h="",v=d;do h+=Ba(v),v=v.return;while(v)}catch(S){h="\nError generating stack: "+S.message+"\n"+S.stack}return{value:b,source:d,stack:h,digest:null}}function gf(b,d,h){return{value:b,source:null,stack:null!=h?h:null,digest:null!=d?d:null}}function Le(b,d){try{console.error(d.value)}catch(h){setTimeout(function(){throw h;})}}function nf(b,d,h){h=yc(-1,h);h.tag=3;h.payload={element:null};
var v=d.value;h.callback=function(){tk||(tk=!0,Sk=v);Le(b,d)};return h}function Ze(b,d,h){h=yc(-1,h);h.tag=3;var v=b.type.getDerivedStateFromError;if("function"===typeof v){var S=d.value;h.payload=function(){return v(S)};h.callback=function(){Le(b,d)}}var ea=b.stateNode;null!==ea&&"function"===typeof ea.componentDidCatch&&(h.callback=function(){Le(b,d);"function"!==typeof v&&(null===wi?wi=new Set([this]):wi.add(this));var Wa=d.stack;this.componentDidCatch(d.value,{componentStack:null!==Wa?Wa:""})});
return h}function Sf(b,d,h){var v=b.pingCache;if(null===v){v=b.pingCache=new pl;var S=new Set;v.set(d,S)}else S=v.get(d),void 0===S&&(S=new Set,v.set(d,S));S.has(h)||(S.add(h),b=Ph.bind(null,b,d,h),d.then(b,b))}function wf(b){do{var d;if(d=13===b.tag)d=b.memoizedState,d=null!==d?null!==d.dehydrated?!0:!1:!0;if(d)return b;b=b.return}while(null!==b);return null}function Xf(b,d,h,v,S){if(0===(b.mode&1))return b===d?b.flags|=65536:(b.flags|=128,h.flags|=131072,h.flags&=-52805,1===h.tag&&(null===h.alternate?
h.tag=17:(d=yc(-1,1),d.tag=2,Rb(h,d,1))),h.lanes|=1),b;b.flags|=65536;b.lanes=S;return b}function $e(b,d,h,v){d.child=null===b?ql(d,null,h,v):nj(d,b.child,h,v)}function wg(b,d,h,v,S){h=h.render;var ea=d.ref;da(d,S);v=If(b,d,h,v,ea,S);h=Wf();if(null!==b&&!dh)return d.updateQueue=b.updateQueue,d.flags&=-2053,b.lanes&=~S,Yg(b,d,S);Vf&&h&&Ee(d);d.flags|=1;$e(b,d,v,S);return d.child}function Zg(b,d,h,v,S){if(null===b){var ea=h.type;if("function"===typeof ea&&!Oi(ea)&&void 0===ea.defaultProps&&null===h.compare&&
void 0===h.defaultProps)return d.tag=15,d.type=ea,Sg(b,d,ea,v,S);b=Mi(h.type,null,v,d,d.mode,S);b.ref=d.ref;b.return=d;return d.child=b}ea=b.child;if(0===(b.lanes&S)){var Wa=ea.memoizedProps;h=h.compare;h=null!==h?h:qb;if(h(Wa,v)&&b.ref===d.ref)return Yg(b,d,S)}d.flags|=1;b=th(ea,v);b.ref=d.ref;b.return=d;return d.child=b}function Sg(b,d,h,v,S){if(null!==b){var ea=b.memoizedProps;if(qb(ea,v)&&b.ref===d.ref)if(dh=!1,d.pendingProps=v=ea,0!==(b.lanes&S))0!==(b.flags&131072)&&(dh=!0);else return d.lanes=
b.lanes,Yg(b,d,S)}return gh(b,d,h,v,S)}function xg(b,d,h){var v=d.pendingProps,S=v.children,ea=null!==b?b.memoizedState:null;if("hidden"===v.mode)if(0===(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nd(oj,mh),mh|=h;else{if(0===(h&1073741824))return b=null!==ea?ea.baseLanes|h:h,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:b,cachePool:null,transitions:null},d.updateQueue=null,Nd(oj,mh),mh|=b,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null};
v=null!==ea?ea.baseLanes:h;Nd(oj,mh);mh|=v}else null!==ea?(v=ea.baseLanes|h,d.memoizedState=null):v=h,Nd(oj,mh),mh|=v;$e(b,d,S,h);return d.child}function Qh(b,d){var h=d.ref;if(null===b&&null!==h||null!==b&&b.ref!==h)d.flags|=512,d.flags|=2097152}function gh(b,d,h,v,S){var ea=Rd(h)?sg:Eg.current;ea=De(d,ea);da(d,S);h=If(b,d,h,v,ea,S);v=Wf();if(null!==b&&!dh)return d.updateQueue=b.updateQueue,d.flags&=-2053,b.lanes&=~S,Yg(b,d,S);Vf&&v&&Ee(d);d.flags|=1;$e(b,d,h,S);return d.child}function Rh(b,d,h,
v,S){if(Rd(h)){var ea=!0;Gd(d)}else ea=!1;da(d,S);if(null===d.stateNode)fi(b,d),dd(d,h,v),Xd(d,h,v,S),v=!0;else if(null===b){var Wa=d.stateNode,Qb=d.memoizedProps;Wa.props=Qb;var lc=Wa.context,Nc=h.contextType;"object"===typeof Nc&&null!==Nc?Nc=Ja(Nc):(Nc=Rd(h)?sg:Eg.current,Nc=De(d,Nc));var pd=h.getDerivedStateFromProps,yd="function"===typeof pd||"function"===typeof Wa.getSnapshotBeforeUpdate;yd||"function"!==typeof Wa.UNSAFE_componentWillReceiveProps&&"function"!==typeof Wa.componentWillReceiveProps||
(Qb!==v||lc!==Nc)&&Pd(d,Wa,v,Nc);Nh=!1;var td=d.memoizedState;Wa.state=td;od(d,v,Wa,S);lc=d.memoizedState;Qb!==v||td!==lc||bh.current||Nh?("function"===typeof pd&&(hd(d,h,pd,v),lc=d.memoizedState),(Qb=Nh||Mc(d,h,Qb,v,td,lc,Nc))?(yd||"function"!==typeof Wa.UNSAFE_componentWillMount&&"function"!==typeof Wa.componentWillMount||("function"===typeof Wa.componentWillMount&&Wa.componentWillMount(),"function"===typeof Wa.UNSAFE_componentWillMount&&Wa.UNSAFE_componentWillMount()),"function"===typeof Wa.componentDidMount&&
(d.flags|=4194308)):("function"===typeof Wa.componentDidMount&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=lc),Wa.props=v,Wa.state=lc,Wa.context=Nc,v=Qb):("function"===typeof Wa.componentDidMount&&(d.flags|=4194308),v=!1)}else{Wa=d.stateNode;Ub(b,d);Qb=d.memoizedProps;Nc=d.type===d.elementType?Qb:ub(d.type,Qb);Wa.props=Nc;yd=d.pendingProps;td=Wa.context;lc=h.contextType;"object"===typeof lc&&null!==lc?lc=Ja(lc):(lc=Rd(h)?sg:Eg.current,lc=De(d,lc));var Zd=h.getDerivedStateFromProps;(pd="function"===
typeof Zd||"function"===typeof Wa.getSnapshotBeforeUpdate)||"function"!==typeof Wa.UNSAFE_componentWillReceiveProps&&"function"!==typeof Wa.componentWillReceiveProps||(Qb!==yd||td!==lc)&&Pd(d,Wa,v,lc);Nh=!1;td=d.memoizedState;Wa.state=td;od(d,v,Wa,S);var he=d.memoizedState;Qb!==yd||td!==he||bh.current||Nh?("function"===typeof Zd&&(hd(d,h,Zd,v),he=d.memoizedState),(Nc=Nh||Mc(d,h,Nc,v,td,he,lc)||!1)?(pd||"function"!==typeof Wa.UNSAFE_componentWillUpdate&&"function"!==typeof Wa.componentWillUpdate||
("function"===typeof Wa.componentWillUpdate&&Wa.componentWillUpdate(v,he,lc),"function"===typeof Wa.UNSAFE_componentWillUpdate&&Wa.UNSAFE_componentWillUpdate(v,he,lc)),"function"===typeof Wa.componentDidUpdate&&(d.flags|=4),"function"===typeof Wa.getSnapshotBeforeUpdate&&(d.flags|=1024)):("function"!==typeof Wa.componentDidUpdate||Qb===b.memoizedProps&&td===b.memoizedState||(d.flags|=4),"function"!==typeof Wa.getSnapshotBeforeUpdate||Qb===b.memoizedProps&&td===b.memoizedState||(d.flags|=1024),d.memoizedProps=
v,d.memoizedState=he),Wa.props=v,Wa.state=he,Wa.context=lc,v=Nc):("function"!==typeof Wa.componentDidUpdate||Qb===b.memoizedProps&&td===b.memoizedState||(d.flags|=4),"function"!==typeof Wa.getSnapshotBeforeUpdate||Qb===b.memoizedProps&&td===b.memoizedState||(d.flags|=1024),v=!1)}return Lg(b,d,h,v,ea,S)}function Lg(b,d,h,v,S,ea){Qh(b,d);var Wa=0!==(d.flags&128);if(!v&&!Wa)return S&&cd(d,h,!1),Yg(b,d,ea);v=d.stateNode;Vl.current=d;var Qb=Wa&&"function"!==typeof h.getDerivedStateFromError?null:v.render();
d.flags|=1;null!==b&&Wa?(d.child=nj(d,b.child,null,ea),d.child=nj(d,null,Qb,ea)):$e(b,d,Qb,ea);d.memoizedState=v.state;S&&cd(d,h,!0);return d.child}function hh(b){var d=b.stateNode;d.pendingContext?Ae(b,d.pendingContext,d.pendingContext!==d.context):d.context&&Ae(b,d.context,!1);df(b,d.containerInfo)}function nh(b){return{baseLanes:b,cachePool:null,transitions:null}}function xi(b,d,h){var v=d.pendingProps,S=Yf.current,ea=!1,Wa=0!==(d.flags&128),Qb;(Qb=Wa)||(Qb=null!==b&&null===b.memoizedState?!1:
0!==(S&2));if(Qb)ea=!0,d.flags&=-129;else if(null===b||null!==b.memoizedState)S|=1;Nd(Yf,S&1);if(null===b){Rc(d);b=d.memoizedState;if(null!==b&&(b=b.dehydrated,null!==b))return 0===(d.mode&1)?d.lanes=1:"$!"===b.data?d.lanes=8:d.lanes=1073741824,null;Wa=v.children;b=v.fallback;return ea?(v=d.mode,ea=d.child,Wa={mode:"hidden",children:Wa},0===(v&1)&&null!==ea?(ea.childLanes=0,ea.pendingProps=Wa):ea=Pi(Wa,v,0,null),b=fh(b,v,h,null),ea.return=d,b.return=d,ea.sibling=b,d.child=ea,d.child.memoizedState=
nh(h),d.memoizedState=uk,b):Jg(d,Wa)}S=b.memoizedState;if(null!==S&&(Qb=S.dehydrated,null!==Qb))return Qi(b,d,Wa,v,Qb,S,h);if(ea){ea=v.fallback;Wa=d.mode;S=b.child;Qb=S.sibling;var lc={mode:"hidden",children:v.children};0===(Wa&1)&&d.child!==S?(v=d.child,v.childLanes=0,v.pendingProps=lc,d.deletions=null):(v=th(S,lc),v.subtreeFlags=S.subtreeFlags&14680064);null!==Qb?ea=th(Qb,ea):(ea=fh(ea,Wa,h,null),ea.flags|=2);ea.return=d;v.return=d;v.sibling=ea;d.child=v;v=ea;ea=d.child;Wa=b.child.memoizedState;
Wa=null===Wa?nh(h):{baseLanes:Wa.baseLanes|h,cachePool:null,transitions:Wa.transitions};ea.memoizedState=Wa;ea.childLanes=b.childLanes&~h;d.memoizedState=uk;return v}ea=b.child;b=ea.sibling;v=th(ea,{mode:"visible",children:v.children});0===(d.mode&1)&&(v.lanes=h);v.return=d;v.sibling=null;null!==b&&(h=d.deletions,null===h?(d.deletions=[b],d.flags|=16):h.push(b));d.child=v;d.memoizedState=null;return v}function Jg(b,d){d=Pi({mode:"visible",children:d},b.mode,0,null);d.return=b;return b.child=d}function Sh(b,
d,h,v){null!==v&&Ya(v);nj(d,b.child,null,h);b=Jg(d,d.pendingProps.children);b.flags|=2;d.memoizedState=null;return b}function Qi(b,d,h,v,S,ea,Wa){if(h){if(d.flags&256)return d.flags&=-257,v=gf(Error(x(422))),Sh(b,d,Wa,v);if(null!==d.memoizedState)return d.child=b.child,d.flags|=128,null;ea=v.fallback;S=d.mode;v=Pi({mode:"visible",children:v.children},S,0,null);ea=fh(ea,S,Wa,null);ea.flags|=2;v.return=d;ea.return=d;v.sibling=ea;d.child=v;0!==(d.mode&1)&&nj(d,b.child,null,Wa);d.child.memoizedState=
nh(Wa);d.memoizedState=uk;return ea}if(0===(d.mode&1))return Sh(b,d,Wa,null);if("$!"===S.data){if(v=S.nextSibling&&S.nextSibling.dataset)var Qb=v.dgst;v=Qb;ea=Error(x(419));v=gf(ea,v,void 0);return Sh(b,d,Wa,v)}Qb=0!==(Wa&b.childLanes);if(dh||Qb){v=Gg;if(null!==v){switch(Wa&-Wa){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=
32;break;case 536870912:S=268435456;break;default:S=0}S=0!==(S&(v.suspendedLanes|Wa))?0:S;0!==S&&S!==ea.retryLane&&(ea.retryLane=S,Pb(b,S),Yb(v,b,S,-1))}$g();v=gf(Error(x(421)));return Sh(b,d,Wa,v)}if("$?"===S.data)return d.flags|=128,d.child=b.child,d=yi.bind(null,b),S._reactRetry=d,null;b=ea.treeContext;Rg=ma(S.nextSibling);Qg=d;Vf=!0;ch=null;null!==b&&(Fg[sh++]=bg,Fg[sh++]=Mh,Fg[sh++]=Ii,bg=b.id,Mh=b.overflow,Ii=d);d=Jg(d,v.children);d.flags|=4096;return d}function Bg(b,d,h){b.lanes|=d;var v=b.alternate;
null!==v&&(v.lanes|=d);J(b.return,d,h)}function wh(b,d,h,v,S){var ea=b.memoizedState;null===ea?b.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:S}:(ea.isBackwards=d,ea.rendering=null,ea.renderingStartTime=0,ea.last=v,ea.tail=h,ea.tailMode=S)}function gi(b,d,h){var v=d.pendingProps,S=v.revealOrder,ea=v.tail;$e(b,d,v.children,h);v=Yf.current;if(0!==(v&2))v=v&1|2,d.flags|=128;else{if(null!==b&&0!==(b.flags&128))a:for(b=d.child;null!==b;){if(13===b.tag)null!==
b.memoizedState&&Bg(b,h,d);else if(19===b.tag)Bg(b,h,d);else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===d)break a;for(;null===b.sibling;){if(null===b.return||b.return===d)break a;b=b.return}b.sibling.return=b.return;b=b.sibling}v&=1}Nd(Yf,v);if(0===(d.mode&1))d.memoizedState=null;else switch(S){case "forwards":h=d.child;for(S=null;null!==h;)b=h.alternate,null!==b&&null===Qe(b)&&(S=h),h=h.sibling;h=S;null===h?(S=d.child,d.child=null):(S=h.sibling,h.sibling=null);wh(d,!1,S,h,ea);
break;case "backwards":h=null;S=d.child;for(d.child=null;null!==S;){b=S.alternate;if(null!==b&&null===Qe(b)){d.child=S;break}b=S.sibling;S.sibling=h;h=S;S=b}wh(d,!0,h,null,ea);break;case "together":wh(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function fi(b,d){0===(d.mode&1)&&null!==b&&(b.alternate=null,d.alternate=null,d.flags|=2)}function Yg(b,d,h){null!==b&&(d.dependencies=b.dependencies);eh|=d.lanes;if(0===(h&d.childLanes))return null;if(null!==b&&d.child!==b.child)throw Error(x(153));
if(null!==d.child){b=d.child;h=th(b,b.pendingProps);d.child=h;for(h.return=d;null!==b.sibling;)b=b.sibling,h=h.sibling=th(b,b.pendingProps),h.return=d;h.sibling=null}return d.child}function Th(b,d,h){switch(d.tag){case 3:hh(d);La();break;case 5:wd(d);break;case 1:Rd(d.type)&&Gd(d);break;case 4:df(d,d.stateNode.containerInfo);break;case 10:var v=d.type._context,S=d.memoizedProps.value;Nd(pk,v._currentValue);v._currentValue=S;break;case 13:v=d.memoizedState;if(null!==v){if(null!==v.dehydrated)return Nd(Yf,
Yf.current&1),d.flags|=128,null;if(0!==(h&d.child.childLanes))return xi(b,d,h);Nd(Yf,Yf.current&1);b=Yg(b,d,h);return null!==b?b.sibling:null}Nd(Yf,Yf.current&1);break;case 19:v=0!==(h&d.childLanes);if(0!==(b.flags&128)){if(v)return gi(b,d,h);d.flags|=128}S=d.memoizedState;null!==S&&(S.rendering=null,S.tail=null,S.lastEffect=null);Nd(Yf,Yf.current);if(v)break;else return null;case 22:case 23:return d.lanes=0,xg(b,d,h)}return Yg(b,d,h)}function oh(b,d){if(!Vf)switch(b.tailMode){case "hidden":d=b.tail;
for(var h=null;null!==d;)null!==d.alternate&&(h=d),d=d.sibling;null===h?b.tail=null:h.sibling=null;break;case "collapsed":h=b.tail;for(var v=null;null!==h;)null!==h.alternate&&(v=h),h=h.sibling;null===v?d||null===b.tail?b.tail=null:b.tail.sibling=null:v.sibling=null}}function og(b){var d=null!==b.alternate&&b.alternate.child===b.child,h=0,v=0;if(d)for(var S=b.child;null!==S;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=b,S=S.sibling;else for(S=b.child;null!==S;)h|=
S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=b,S=S.sibling;b.subtreeFlags|=v;b.childLanes=h;return d}function hi(b,d,h){var v=d.pendingProps;Re(d);switch(d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return og(d),null;case 1:return Rd(d.type)&&fe(),og(d),null;case 3:v=d.stateNode;Hf();ad(bh);ad(Eg);He();v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null);if(null===b||null===b.child)Wc(d)?d.flags|=4:null===b||b.memoizedState.isDehydrated&&
0===(d.flags&256)||(d.flags|=1024,null!==ch&&(Yc(ch),ch=null));rl(b,d);og(d);return null;case 5:te(d);var S=We(mj.current);h=d.type;if(null!==b&&null!=d.stateNode)Wl(b,d,h,v,S),b.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!v){if(null===d.stateNode)throw Error(x(166));og(d);return null}b=We(Dh.current);if(Wc(d)){v=d.stateNode;h=d.type;var ea=d.memoizedProps;v[Lh]=d;v[Hi]=ea;b=0!==(d.mode&1);switch(h){case "dialog":ce("cancel",v);ce("close",v);break;case "iframe":case "object":case "embed":ce("load",
v);break;case "video":case "audio":for(S=0;S<Lj.length;S++)ce(Lj[S],v);break;case "source":ce("error",v);break;case "img":case "image":case "link":ce("error",v);ce("load",v);break;case "details":ce("toggle",v);break;case "input":Ha(v,ea);ce("invalid",v);break;case "select":v._wrapperState={wasMultiple:!!ea.multiple};ce("invalid",v);break;case "textarea":kc(v,ea),ce("invalid",v)}va(h,ea);S=null;for(var Wa in ea)if(ea.hasOwnProperty(Wa)){var Qb=ea[Wa];"children"===Wa?"string"===typeof Qb?v.textContent!==
Qb&&(!0!==ea.suppressHydrationWarning&&Da(v.textContent,Qb,b),S=["children",Qb]):"number"===typeof Qb&&v.textContent!==""+Qb&&(!0!==ea.suppressHydrationWarning&&Da(v.textContent,Qb,b),S=["children",""+Qb]):$d.hasOwnProperty(Wa)&&null!=Qb&&"onScroll"===Wa&&ce("scroll",v)}switch(h){case "input":Xa(v);Ca(v,ea,!0);break;case "textarea":Xa(v);ca(v);break;case "select":case "option":break;default:"function"===typeof ea.onClick&&(v.onclick=hb)}v=S;d.updateQueue=v;null!==v&&(d.flags|=4)}else{Wa=9===S.nodeType?
S:S.ownerDocument;"http://www.w3.org/1999/xhtml"===b&&(b=O(h));"http://www.w3.org/1999/xhtml"===b?"script"===h?(b=Wa.createElement("div"),b.innerHTML="\x3cscript\x3e\x3c/script\x3e",b=b.removeChild(b.firstChild)):"string"===typeof v.is?b=Wa.createElement(h,{is:v.is}):(b=Wa.createElement(h),"select"===h&&(Wa=b,v.multiple?Wa.multiple=!0:v.size&&(Wa.size=v.size))):b=Wa.createElementNS(b,h);b[Lh]=d;b[Hi]=v;sl(b,d,!1,!1);d.stateNode=b;a:{Wa=m(h,v);switch(h){case "dialog":ce("cancel",b);ce("close",b);S=
v;break;case "iframe":case "object":case "embed":ce("load",b);S=v;break;case "video":case "audio":for(S=0;S<Lj.length;S++)ce(Lj[S],b);S=v;break;case "source":ce("error",b);S=v;break;case "img":case "image":case "link":ce("error",b);ce("load",b);S=v;break;case "details":ce("toggle",b);S=v;break;case "input":Ha(b,v);S=Aa(b,v);ce("invalid",b);break;case "option":S=v;break;case "select":b._wrapperState={wasMultiple:!!v.multiple};S=ag({},v,{value:void 0});ce("invalid",b);break;case "textarea":kc(b,v);
S=Mb(b,v);ce("invalid",b);break;default:S=v}va(h,S);Qb=S;for(ea in Qb)if(Qb.hasOwnProperty(ea)){var lc=Qb[ea];"style"===ea?ya(b,lc):"dangerouslySetInnerHTML"===ea?(lc=lc?lc.__html:void 0,null!=lc&&Tk(b,lc)):"children"===ea?"string"===typeof lc?("textarea"!==h||""!==lc)&&ra(b,lc):"number"===typeof lc&&ra(b,""+lc):"suppressContentEditableWarning"!==ea&&"suppressHydrationWarning"!==ea&&"autoFocus"!==ea&&($d.hasOwnProperty(ea)?null!=lc&&"onScroll"===ea&&ce("scroll",b):null!=lc&&Tb(b,ea,lc,Wa))}switch(h){case "input":Xa(b);
Ca(b,v,!1);break;case "textarea":Xa(b);ca(b);break;case "option":null!=v.value&&b.setAttribute("value",""+Ab(v.value));break;case "select":b.multiple=!!v.multiple;ea=v.value;null!=ea?xb(b,!!v.multiple,ea,!1):null!=v.defaultValue&&xb(b,!!v.multiple,v.defaultValue,!0);break;default:"function"===typeof S.onClick&&(b.onclick=hb)}switch(h){case "button":case "input":case "select":case "textarea":v=!!v.autoFocus;break a;case "img":v=!0;break a;default:v=!1}}v&&(d.flags|=4)}null!==d.ref&&(d.flags|=512,d.flags|=
2097152)}og(d);return null;case 6:if(b&&null!=d.stateNode)ii(b,d,b.memoizedProps,v);else{if("string"!==typeof v&&null===d.stateNode)throw Error(x(166));h=We(mj.current);We(Dh.current);if(Wc(d)){v=d.stateNode;h=d.memoizedProps;v[Lh]=d;if(ea=v.nodeValue!==h)if(b=Qg,null!==b)switch(b.tag){case 3:Da(v.nodeValue,h,0!==(b.mode&1));break;case 5:!0!==b.memoizedProps.suppressHydrationWarning&&Da(v.nodeValue,h,0!==(b.mode&1))}ea&&(d.flags|=4)}else v=(9===h.nodeType?h:h.ownerDocument).createTextNode(v),v[Lh]=
d,d.stateNode=v}og(d);return null;case 13:ad(Yf);v=d.memoizedState;if(null===b||null!==b.memoizedState&&null!==b.memoizedState.dehydrated){if(Vf&&null!==Rg&&0!==(d.mode&1)&&0===(d.flags&128))na(),La(),d.flags|=98560,ea=!1;else if(ea=Wc(d),null!==v&&null!==v.dehydrated){if(null===b){if(!ea)throw Error(x(318));ea=d.memoizedState;ea=null!==ea?ea.dehydrated:null;if(!ea)throw Error(x(317));ea[Lh]=d}else La(),0===(d.flags&128)&&(d.memoizedState=null),d.flags|=4;og(d);ea=!1}else null!==ch&&(Yc(ch),ch=null),
ea=!0;if(!ea)return d.flags&65536?d:null}if(0!==(d.flags&128))return d.lanes=h,d;v=null!==v;v!==(null!==b&&null!==b.memoizedState)&&v&&(d.child.flags|=8192,0!==(d.mode&1)&&(null===b||0!==(Yf.current&1)?0===Cg&&(Cg=3):$g()));null!==d.updateQueue&&(d.flags|=4);og(d);return null;case 4:return Hf(),rl(b,d),null===b&&Ve(d.stateNode.containerInfo),og(d),null;case 10:return n(d.type._context),og(d),null;case 17:return Rd(d.type)&&fe(),og(d),null;case 19:ad(Yf);ea=d.memoizedState;if(null===ea)return og(d),
null;v=0!==(d.flags&128);Wa=ea.rendering;if(null===Wa)if(v)oh(ea,!1);else{if(0!==Cg||null!==b&&0!==(b.flags&128))for(b=d.child;null!==b;){Wa=Qe(b);if(null!==Wa){d.flags|=128;oh(ea,!1);v=Wa.updateQueue;null!==v&&(d.updateQueue=v,d.flags|=4);d.subtreeFlags=0;v=h;for(h=d.child;null!==h;)ea=h,b=v,ea.flags&=14680066,Wa=ea.alternate,null===Wa?(ea.childLanes=0,ea.lanes=b,ea.child=null,ea.subtreeFlags=0,ea.memoizedProps=null,ea.memoizedState=null,ea.updateQueue=null,ea.dependencies=null,ea.stateNode=null):
(ea.childLanes=Wa.childLanes,ea.lanes=Wa.lanes,ea.child=Wa.child,ea.subtreeFlags=0,ea.deletions=null,ea.memoizedProps=Wa.memoizedProps,ea.memoizedState=Wa.memoizedState,ea.updateQueue=Wa.updateQueue,ea.type=Wa.type,b=Wa.dependencies,ea.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext}),h=h.sibling;Nd(Yf,Yf.current&1|2);return d.child}b=b.sibling}null!==ea.tail&&lg()>pj&&(d.flags|=128,v=!0,oh(ea,!1),d.lanes=4194304)}else{if(!v)if(b=Qe(Wa),null!==b){if(d.flags|=128,v=!0,h=b.updateQueue,
null!==h&&(d.updateQueue=h,d.flags|=4),oh(ea,!0),null===ea.tail&&"hidden"===ea.tailMode&&!Wa.alternate&&!Vf)return og(d),null}else 2*lg()-ea.renderingStartTime>pj&&1073741824!==h&&(d.flags|=128,v=!0,oh(ea,!1),d.lanes=4194304);ea.isBackwards?(Wa.sibling=d.child,d.child=Wa):(h=ea.last,null!==h?h.sibling=Wa:d.child=Wa,ea.last=Wa)}if(null!==ea.tail)return d=ea.tail,ea.rendering=d,ea.tail=d.sibling,ea.renderingStartTime=lg(),d.sibling=null,h=Yf.current,Nd(Yf,v?h&1|2:h&1),d;og(d);return null;case 22:case 23:return xf(),
v=null!==d.memoizedState,null!==b&&null!==b.memoizedState!==v&&(d.flags|=8192),v&&0!==(d.mode&1)?0!==(mh&1073741824)&&(og(d),d.subtreeFlags&6&&(d.flags|=8192)):og(d),null;case 24:return null;case 25:return null}throw Error(x(156,d.tag));}function Uh(b,d){Re(d);switch(d.tag){case 1:return Rd(d.type)&&fe(),b=d.flags,b&65536?(d.flags=b&-65537|128,d):null;case 3:return Hf(),ad(bh),ad(Eg),He(),b=d.flags,0!==(b&65536)&&0===(b&128)?(d.flags=b&-65537|128,d):null;case 5:return te(d),null;case 13:ad(Yf);b=
d.memoizedState;if(null!==b&&null!==b.dehydrated){if(null===d.alternate)throw Error(x(340));La()}b=d.flags;return b&65536?(d.flags=b&-65537|128,d):null;case 19:return ad(Yf),null;case 4:return Hf(),null;case 10:return n(d.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}function xh(b,d){var h=b.ref;if(null!==h)if("function"===typeof h)try{h(null)}catch(v){Ie(b,d,v)}else h.current=null}function Vh(b,d,h){try{h()}catch(v){Ie(b,d,v)}}function ji(b,d){Uk=ak;
b=wb();if(zc(b)){if("selectionStart"in b)var h={start:b.selectionStart,end:b.selectionEnd};else a:{h=(h=b.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&0!==v.rangeCount){h=v.anchorNode;var S=v.anchorOffset,ea=v.focusNode;v=v.focusOffset;try{h.nodeType,ea.nodeType}catch(Jd){h=null;break a}var Wa=0,Qb=-1,lc=-1,Nc=0,pd=0,yd=b,td=null;b:for(;;){for(var Zd;;){yd!==h||0!==S&&3!==yd.nodeType||(Qb=Wa+S);yd!==ea||0!==v&&3!==yd.nodeType||(lc=Wa+v);3===yd.nodeType&&(Wa+=
yd.nodeValue.length);if(null===(Zd=yd.firstChild))break;td=yd;yd=Zd}for(;;){if(yd===b)break b;td===h&&++Nc===S&&(Qb=Wa);td===ea&&++pd===v&&(lc=Wa);if(null!==(Zd=yd.nextSibling))break;yd=td;td=yd.parentNode}yd=Zd}h=-1===Qb||-1===lc?null:{start:Qb,end:lc}}else h=null}h=h||{start:0,end:0}}else h=null;Vk={focusedElem:b,selectionRange:h};ak=!1;for(ee=d;null!==ee;)if(d=ee,b=d.child,0!==(d.subtreeFlags&1028)&&null!==b)b.return=d,ee=b;else for(;null!==ee;){d=ee;try{var he=d.alternate;if(0!==(d.flags&1024))switch(d.tag){case 0:case 11:case 15:break;
case 1:if(null!==he){var le=he.memoizedProps,hg=he.memoizedState,Bc=d.stateNode,rc=Bc.getSnapshotBeforeUpdate(d.elementType===d.type?le:ub(d.type,le),hg);Bc.__reactInternalSnapshotBeforeUpdate=rc}break;case 3:var Jc=d.stateNode.containerInfo;1===Jc.nodeType?Jc.textContent="":9===Jc.nodeType&&Jc.documentElement&&Jc.removeChild(Jc.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163));}}catch(Jd){Ie(d,d.return,Jd)}b=d.sibling;if(null!==b){b.return=d.return;ee=b;break}ee=
d.return}he=tl;tl=!1;return he}function ph(b,d,h){var v=d.updateQueue;v=null!==v?v.lastEffect:null;if(null!==v){var S=v=v.next;do{if((S.tag&b)===b){var ea=S.destroy;S.destroy=void 0;void 0!==ea&&Vh(d,h,ea)}S=S.next}while(S!==v)}}function ki(b,d){d=d.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var h=d=d.next;do{if((h.tag&b)===b){var v=h.create;h.destroy=v()}h=h.next}while(h!==d)}}function Kf(b){var d=b.ref;if(null!==d){var h=b.stateNode;switch(b.tag){case 5:b=h;break;default:b=h}"function"===
typeof d?d(b):d.current=b}}function li(b){var d=b.alternate;null!==d&&(b.alternate=null,li(d));b.child=null;b.deletions=null;b.sibling=null;5===b.tag&&(d=b.stateNode,null!==d&&(delete d[Lh],delete d[Hi],delete d[hj],delete d[ul],delete d[Xl]));b.stateNode=null;b.return=null;b.dependencies=null;b.memoizedProps=null;b.memoizedState=null;b.pendingProps=null;b.stateNode=null;b.updateQueue=null}function fg(b){return 5===b.tag||3===b.tag||4===b.tag}function of(b){a:for(;;){for(;null===b.sibling;){if(null===
b.return||fg(b.return))return null;b=b.return}b.sibling.return=b.return;for(b=b.sibling;5!==b.tag&&6!==b.tag&&18!==b.tag;){if(b.flags&2)continue a;if(null===b.child||4===b.tag)continue a;else b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function zi(b,d,h){var v=b.tag;if(5===v||6===v)b=b.stateNode,d?8===h.nodeType?h.parentNode.insertBefore(b,d):h.insertBefore(b,d):(8===h.nodeType?(d=h.parentNode,d.insertBefore(b,h)):(d=h,d.appendChild(b)),h=h._reactRootContainer,null!==h&&void 0!==
h||null!==d.onclick||(d.onclick=hb));else if(4!==v&&(b=b.child,null!==b))for(zi(b,d,h),b=b.sibling;null!==b;)zi(b,d,h),b=b.sibling}function Tg(b,d,h){var v=b.tag;if(5===v||6===v)b=b.stateNode,d?h.insertBefore(b,d):h.appendChild(b);else if(4!==v&&(b=b.child,null!==b))for(Tg(b,d,h),b=b.sibling;null!==b;)Tg(b,d,h),b=b.sibling}function pg(b,d,h){for(h=h.child;null!==h;)D(b,d,h),h=h.sibling}function D(b,d,h){if(Ih&&"function"===typeof Ih.onCommitFiberUnmount)try{Ih.onCommitFiberUnmount(zj,h)}catch(Qb){}switch(h.tag){case 5:Mg||
xh(h,d);case 6:var v=Ng,S=qh;Ng=null;pg(b,d,h);Ng=v;qh=S;null!==Ng&&(qh?(b=Ng,h=h.stateNode,8===b.nodeType?b.parentNode.removeChild(h):b.removeChild(h)):Ng.removeChild(h.stateNode));break;case 18:null!==Ng&&(qh?(b=Ng,h=h.stateNode,8===b.nodeType?Ib(b.parentNode,h):1===b.nodeType&&Ib(b,h),kd(b)):Ib(Ng,h.stateNode));break;case 4:v=Ng;S=qh;Ng=h.stateNode.containerInfo;qh=!0;pg(b,d,h);Ng=v;qh=S;break;case 0:case 11:case 14:case 15:if(!Mg&&(v=h.updateQueue,null!==v&&(v=v.lastEffect,null!==v))){S=v=v.next;
do{var ea=S,Wa=ea.destroy;ea=ea.tag;void 0!==Wa&&(0!==(ea&2)?Vh(h,d,Wa):0!==(ea&4)&&Vh(h,d,Wa));S=S.next}while(S!==v)}pg(b,d,h);break;case 1:if(!Mg&&(xh(h,d),v=h.stateNode,"function"===typeof v.componentWillUnmount))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(Qb){Ie(h,d,Qb)}pg(b,d,h);break;case 21:pg(b,d,h);break;case 22:h.mode&1?(Mg=(v=Mg)||null!==h.memoizedState,pg(b,d,h),Mg=v):pg(b,d,h);break;default:pg(b,d,h)}}function ba(b){var d=b.updateQueue;if(null!==
d){b.updateQueue=null;var h=b.stateNode;null===h&&(h=b.stateNode=new Yl);d.forEach(function(v){var S=Lf.bind(null,b,v);h.has(v)||(h.add(v),v.then(S,S))})}}function wa(b,d){var h=d.deletions;if(null!==h)for(var v=0;v<h.length;v++){var S=h[v];try{var ea=b,Wa=d,Qb=Wa;a:for(;null!==Qb;){switch(Qb.tag){case 5:Ng=Qb.stateNode;qh=!1;break a;case 3:Ng=Qb.stateNode.containerInfo;qh=!0;break a;case 4:Ng=Qb.stateNode.containerInfo;qh=!0;break a}Qb=Qb.return}if(null===Ng)throw Error(x(160));D(ea,Wa,S);Ng=null;
qh=!1;var lc=S.alternate;null!==lc&&(lc.return=null);S.return=null}catch(Nc){Ie(S,d,Nc)}}if(d.subtreeFlags&12854)for(d=d.child;null!==d;)Ma(d,b),d=d.sibling}function Ma(b,d){var h=b.alternate,v=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:wa(d,b);Eb(b);if(v&4){try{ph(3,b,b.return),ki(3,b)}catch(le){Ie(b,b.return,le)}try{ph(5,b,b.return)}catch(le){Ie(b,b.return,le)}}break;case 1:wa(d,b);Eb(b);v&512&&null!==h&&xh(h,h.return);break;case 5:wa(d,b);Eb(b);v&512&&null!==h&&xh(h,h.return);if(b.flags&
32){var S=b.stateNode;try{ra(S,"")}catch(le){Ie(b,b.return,le)}}if(v&4&&(S=b.stateNode,null!=S)){var ea=b.memoizedProps,Wa=null!==h?h.memoizedProps:ea,Qb=b.type,lc=b.updateQueue;b.updateQueue=null;if(null!==lc)try{"input"===Qb&&"radio"===ea.type&&null!=ea.name&&bb(S,ea);m(Qb,Wa);var Nc=m(Qb,ea);for(Wa=0;Wa<lc.length;Wa+=2){var pd=lc[Wa],yd=lc[Wa+1];"style"===pd?ya(S,yd):"dangerouslySetInnerHTML"===pd?Tk(S,yd):"children"===pd?ra(S,yd):Tb(S,pd,yd,Nc)}switch(Qb){case "input":$a(S,ea);break;case "textarea":pb(S,
ea);break;case "select":var td=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!ea.multiple;var Zd=ea.value;null!=Zd?xb(S,!!ea.multiple,Zd,!1):td!==!!ea.multiple&&(null!=ea.defaultValue?xb(S,!!ea.multiple,ea.defaultValue,!0):xb(S,!!ea.multiple,ea.multiple?[]:"",!1))}S[Hi]=ea}catch(le){Ie(b,b.return,le)}}break;case 6:wa(d,b);Eb(b);if(v&4){if(null===b.stateNode)throw Error(x(162));S=b.stateNode;ea=b.memoizedProps;try{S.nodeValue=ea}catch(le){Ie(b,b.return,le)}}break;case 3:wa(d,b);Eb(b);if(v&
4&&null!==h&&h.memoizedState.isDehydrated)try{kd(d.containerInfo)}catch(le){Ie(b,b.return,le)}break;case 4:wa(d,b);Eb(b);break;case 13:wa(d,b);Eb(b);S=b.child;S.flags&8192&&(ea=null!==S.memoizedState,S.stateNode.isHidden=ea,!ea||null!==S.alternate&&null!==S.alternate.memoizedState||(Eh=lg()));v&4&&ba(b);break;case 22:pd=null!==h&&null!==h.memoizedState;b.mode&1?(Mg=(Nc=Mg)||pd,wa(d,b),Mg=Nc):wa(d,b);Eb(b);if(v&8192){Nc=null!==b.memoizedState;if((b.stateNode.isHidden=Nc)&&!pd&&0!==(b.mode&1))for(ee=
b,pd=b.child;null!==pd;){for(yd=ee=pd;null!==ee;){td=ee;Zd=td.child;switch(td.tag){case 0:case 11:case 14:case 15:ph(4,td,td.return);break;case 1:xh(td,td.return);var he=td.stateNode;if("function"===typeof he.componentWillUnmount){v=td;h=td.return;try{d=v,he.props=d.memoizedProps,he.state=d.memoizedState,he.componentWillUnmount()}catch(le){Ie(v,h,le)}}break;case 5:xh(td,td.return);break;case 22:if(null!==td.memoizedState){N(yd);continue}}null!==Zd?(Zd.return=td,ee=Zd):N(yd)}pd=pd.sibling}pd=null;
yd=b;a:for(;;){if(5===yd.tag){if(null===pd){pd=yd;try{S=yd.stateNode,Nc?(ea=S.style,"function"===typeof ea.setProperty?ea.setProperty("display","none","important"):ea.display="none"):(Qb=yd.stateNode,lc=yd.memoizedProps.style,Wa=void 0!==lc&&null!==lc&&lc.hasOwnProperty("display")?lc.display:null,Qb.style.display=Oa("display",Wa))}catch(le){Ie(b,b.return,le)}}}else if(6===yd.tag){if(null===pd)try{yd.stateNode.nodeValue=Nc?"":yd.memoizedProps}catch(le){Ie(b,b.return,le)}}else if((22!==yd.tag&&23!==
yd.tag||null===yd.memoizedState||yd===b)&&null!==yd.child){yd.child.return=yd;yd=yd.child;continue}if(yd===b)break a;for(;null===yd.sibling;){if(null===yd.return||yd.return===b)break a;pd===yd&&(pd=null);yd=yd.return}pd===yd&&(pd=null);yd.sibling.return=yd.return;yd=yd.sibling}}break;case 19:wa(d,b);Eb(b);v&4&&ba(b);break;case 21:break;default:wa(d,b),Eb(b)}}function Eb(b){var d=b.flags;if(d&2){try{a:{for(var h=b.return;null!==h;){if(fg(h))break a;h=h.return}throw Error(x(160));}switch(h.tag){case 5:var v=
h.stateNode;h.flags&32&&(ra(v,""),h.flags&=-33);var S=of(b);Tg(b,S,v);break;case 3:case 4:var ea=h.stateNode.containerInfo,Wa=of(b);zi(b,Wa,ea);break;default:throw Error(x(161));}}catch(Qb){Ie(b,b.return,Qb)}b.flags&=-3}d&4096&&(b.flags&=-4097)}function Lb(b,d,h){ee=b;ec(b,d,h)}function ec(b,d,h){for(var v=0!==(b.mode&1);null!==ee;){var S=ee,ea=S.child;if(22===S.tag&&v){var Wa=null!==S.memoizedState||Mj;if(!Wa){var Qb=S.alternate,lc=null!==Qb&&null!==Qb.memoizedState||Mg;Qb=Mj;var Nc=Mg;Mj=Wa;if((Mg=
lc)&&!Nc)for(ee=S;null!==ee;)Wa=ee,lc=Wa.child,22===Wa.tag&&null!==Wa.memoizedState?ja(S):null!==lc?(lc.return=Wa,ee=lc):ja(S);for(;null!==ea;)ee=ea,ec(ea,d,h),ea=ea.sibling;ee=S;Mj=Qb;Mg=Nc}u(b,d,h)}else 0!==(S.subtreeFlags&8772)&&null!==ea?(ea.return=S,ee=ea):u(b,d,h)}}function u(b){for(;null!==ee;){var d=ee;if(0!==(d.flags&8772)){var h=d.alternate;try{if(0!==(d.flags&8772))switch(d.tag){case 0:case 11:case 15:Mg||ki(5,d);break;case 1:var v=d.stateNode;if(d.flags&4&&!Mg)if(null===h)v.componentDidMount();
else{var S=d.elementType===d.type?h.memoizedProps:ub(d.type,h.memoizedProps);v.componentDidUpdate(S,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var ea=d.updateQueue;null!==ea&&Md(d,ea,v);break;case 3:var Wa=d.updateQueue;if(null!==Wa){h=null;if(null!==d.child)switch(d.child.tag){case 5:h=d.child.stateNode;break;case 1:h=d.child.stateNode}Md(d,Wa,h)}break;case 5:var Qb=d.stateNode;if(null===h&&d.flags&4){h=Qb;var lc=d.memoizedProps;switch(d.type){case "button":case "input":case "select":case "textarea":lc.autoFocus&&
h.focus();break;case "img":lc.src&&(h.src=lc.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===d.memoizedState){var Nc=d.alternate;if(null!==Nc){var pd=Nc.memoizedState;if(null!==pd){var yd=pd.dehydrated;null!==yd&&kd(yd)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163));}Mg||d.flags&512&&Kf(d)}catch(td){Ie(d,d.return,td)}}if(d===b){ee=null;break}h=d.sibling;if(null!==h){h.return=d.return;ee=h;break}ee=d.return}}function N(b){for(;null!==
ee;){var d=ee;if(d===b){ee=null;break}var h=d.sibling;if(null!==h){h.return=d.return;ee=h;break}ee=d.return}}function ja(b){for(;null!==ee;){var d=ee;try{switch(d.tag){case 0:case 11:case 15:var h=d.return;try{ki(4,d)}catch(lc){Ie(d,h,lc)}break;case 1:var v=d.stateNode;if("function"===typeof v.componentDidMount){var S=d.return;try{v.componentDidMount()}catch(lc){Ie(d,S,lc)}}var ea=d.return;try{Kf(d)}catch(lc){Ie(d,ea,lc)}break;case 5:var Wa=d.return;try{Kf(d)}catch(lc){Ie(d,Wa,lc)}}}catch(lc){Ie(d,
d.return,lc)}if(d===b){ee=null;break}var Qb=d.sibling;if(null!==Qb){Qb.return=d.return;ee=Qb;break}ee=d.return}}function ha(){return 0!==(kf&6)?lg():-1!==Ai?Ai:Ai=lg()}function nb(b){if(0===(b.mode&1))return 1;if(0!==(kf&2)&&0!==Dg)return Dg&-Dg;if(null!==vk.transition)return 0===Nj&&(Nj=Lc()),Nj;b=vf;if(0!==b)return b;b=window.event;return b=void 0===b?16:fa(b.type)}function Yb(b,d,h,v){if(50<qj)throw qj=0,rj=null,Error(x(185));tc(b,h,v);if(0===(kf&2)||b!==Gg)b===Gg&&(0===(kf&2)&&(wk|=h),4===Cg&&
Ld(b,Dg)),dc(b,v),1===h&&0===kf&&0===(d.mode&1)&&(pj=lg()+500,Fj&&sd())}function dc(b,d){var h=b.callbackNode;Ob(b,d);var v=mb(b,b===Gg?Dg:0);if(0===v)null!==h&&mi(h),b.callbackNode=null,b.callbackPriority=0;else if(d=v&-v,b.callbackPriority!==d){null!=h&&mi(h);if(1===d)0===b.tag?fd(ze.bind(null,b)):qd(ze.bind(null,b)),Zl(function(){0===(kf&6)&&sd()}),h=null;else{switch(Ta(v)){case 1:h=Mk;break;case 4:h=ck;break;case 16:h=Ei;break;case 536870912:h=Nk;break;default:h=Ei}h=qg(h,Ec.bind(null,b))}b.callbackPriority=
d;b.callbackNode=h}}function Ec(b,d){Ai=-1;Nj=0;if(0!==(kf&6))throw Error(x(327));var h=b.callbackNode;if(ef()&&b.callbackNode!==h)return null;var v=mb(b,b===Gg?Dg:0);if(0===v)return null;if(0!==(v&30)||0!==(v&b.expiredLanes)||d)d=ah(b,v);else{d=v;var S=kf;kf|=2;var ea=Te();if(Gg!==b||Dg!==d)Ug=null,pj=lg()+500,pf(b,d);do try{for(;null!==yg&&!Wk();)Fh(yg);break}catch(Qb){ie(b,Qb)}while(1);Ji=ci=bi=null;xk.current=ea;kf=S;null!==yg?d=0:(Gg=null,Dg=0,d=Cg)}if(0!==d){2===d&&(S=mc(b),0!==S&&(v=S,d=cc(b,
S)));if(1===d)throw h=Oj,pf(b,0),Ld(b,v),dc(b,lg()),h;if(6===d)Ld(b,v);else{S=b.current.alternate;if(0===(v&30)&&!Xc(S)&&(d=ah(b,v),2===d&&(ea=mc(b),0!==ea&&(v=ea,d=cc(b,ea))),1===d))throw h=Oj,pf(b,0),Ld(b,v),dc(b,lg()),h;b.finishedWork=S;b.finishedLanes=v;switch(d){case 0:case 1:throw Error(x(345));case 2:Bf(b,Cf,Ug);break;case 3:Ld(b,v);if((v&130023424)===v&&(d=Eh+500-lg(),10<d)){if(0!==mb(b,0))break;S=b.suspendedLanes;if((S&v)!==v){ha();b.pingedLanes|=b.suspendedLanes&S;break}b.timeoutHandle=
Xk(Bf.bind(null,b,Cf,Ug),d);break}Bf(b,Cf,Ug);break;case 4:Ld(b,v);if((v&4194240)===v)break;d=b.eventTimes;for(S=-1;0<v;){var Wa=31-Ah(v);ea=1<<Wa;Wa=d[Wa];Wa>S&&(S=Wa);v&=~ea}v=S;v=lg()-v;v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3E3>v?3E3:4320>v?4320:1960*$l(v/1960))-v;if(10<v){b.timeoutHandle=Xk(Bf.bind(null,b,Cf,Ug),v);break}Bf(b,Cf,Ug);break;case 5:Bf(b,Cf,Ug);break;default:throw Error(x(329));}}}dc(b,lg());return b.callbackNode===h?Ec.bind(null,b):null}function cc(b,d){var h=sf;b.current.memoizedState.isDehydrated&&
(pf(b,d).flags|=256);b=ah(b,d);2!==b&&(d=Cf,Cf=h,null!==d&&Yc(d));return b}function Yc(b){null===Cf?Cf=b:Cf.push.apply(Cf,b)}function Xc(b){for(var d=b;;){if(d.flags&16384){var h=d.updateQueue;if(null!==h&&(h=h.stores,null!==h))for(var v=0;v<h.length;v++){var S=h[v],ea=S.getSnapshot;S=S.value;try{if(!gg(ea(),S))return!1}catch(Wa){return!1}}}h=d.child;if(d.subtreeFlags&16384&&null!==h)h.return=d,d=h;else{if(d===b)break;for(;null===d.sibling;){if(null===d.return||d.return===b)return!0;d=d.return}d.sibling.return=
d.return;d=d.sibling}}return!0}function Ld(b,d){d&=~Df;d&=~wk;b.suspendedLanes|=d;b.pingedLanes&=~d;for(b=b.expirationTimes;0<d;){var h=31-Ah(d),v=1<<h;b[h]=-1;d&=~v}}function ze(b){if(0!==(kf&6))throw Error(x(327));ef();var d=mb(b,0);if(0===(d&1))return dc(b,lg()),null;var h=ah(b,d);if(0!==b.tag&&2===h){var v=mc(b);0!==v&&(d=v,h=cc(b,v))}if(1===h)throw h=Oj,pf(b,0),Ld(b,d),dc(b,lg()),h;if(6===h)throw Error(x(345));b.finishedWork=b.current.alternate;b.finishedLanes=d;Bf(b,Cf,Ug);dc(b,lg());return null}
function pe(b,d){var h=kf;kf|=1;try{return b(d)}finally{kf=h,0===kf&&(pj=lg()+500,Fj&&sd())}}function af(b){null!==ni&&0===ni.tag&&0===(kf&6)&&ef();var d=kf;kf|=1;var h=yh.transition,v=vf;try{if(yh.transition=null,vf=1,b)return b()}finally{vf=v,yh.transition=h,kf=d,0===(kf&6)&&sd()}}function xf(){mh=oj.current;ad(oj)}function pf(b,d){b.finishedWork=null;b.finishedLanes=0;var h=b.timeoutHandle;-1!==h&&(b.timeoutHandle=-1,am(h));if(null!==yg)for(h=yg.return;null!==h;){var v=h;Re(v);switch(v.tag){case 1:v=
v.type.childContextTypes;null!==v&&void 0!==v&&fe();break;case 3:Hf();ad(bh);ad(Eg);He();break;case 5:te(v);break;case 4:Hf();break;case 13:ad(Yf);break;case 19:ad(Yf);break;case 10:n(v.type._context);break;case 22:case 23:xf()}h=h.return}Gg=b;yg=b=th(b.current,null);Dg=mh=d;Cg=0;Oj=null;Df=wk=eh=0;Cf=sf=null;if(null!==Ki){for(d=0;d<Ki.length;d++)if(h=Ki[d],v=h.interleaved,null!==v){h.interleaved=null;var S=v.next,ea=h.pending;if(null!==ea){var Wa=ea.next;ea.next=S;v.next=Wa}h.pending=v}Ki=null}return b}
function ie(b,d){do{var h=yg;try{Ji=ci=bi=null;ei.current=rk;if(Kj){for(var v=Af.memoizedState;null!==v;){var S=v.queue;null!==S&&(S.pending=null);v=v.next}Kj=!1}ui=0;Ag=tg=Af=null;vi=!1;Jj=0;Yk.current=null;if(null===h||null===h.return){Cg=1;Oj=d;yg=null;break}a:{var ea=b,Wa=h.return,Qb=h,lc=d;d=Dg;Qb.flags|=32768;if(null!==lc&&"object"===typeof lc&&"function"===typeof lc.then){var Nc=lc,pd=Qb,yd=pd.tag;if(0===(pd.mode&1)&&(0===yd||11===yd||15===yd)){var td=pd.alternate;td?(pd.updateQueue=td.updateQueue,
pd.memoizedState=td.memoizedState,pd.lanes=td.lanes):(pd.updateQueue=null,pd.memoizedState=null)}var Zd=wf(Wa);if(null!==Zd){Zd.flags&=-257;Xf(Zd,Wa,Qb,ea,d);Zd.mode&1&&Sf(ea,Nc,d);d=Zd;lc=Nc;var he=d.updateQueue;if(null===he){var le=new Set;le.add(lc);d.updateQueue=le}else he.add(lc);break a}else{if(0===(d&1)){Sf(ea,Nc,d);$g();break a}lc=Error(x(426))}}else if(Vf&&Qb.mode&1){var hg=wf(Wa);if(null!==hg){0===(hg.flags&65536)&&(hg.flags|=256);Xf(hg,Wa,Qb,ea,d);Ya(je(lc,Qb));break a}}ea=lc=je(lc,Qb);
4!==Cg&&(Cg=2);null===sf?sf=[ea]:sf.push(ea);ea=Wa;do{switch(ea.tag){case 3:ea.flags|=65536;d&=-d;ea.lanes|=d;var Bc=nf(ea,lc,d);Od(ea,Bc);break a;case 1:Qb=lc;var rc=ea.type,Jc=ea.stateNode;if(0===(ea.flags&128)&&("function"===typeof rc.getDerivedStateFromError||null!==Jc&&"function"===typeof Jc.componentDidCatch&&(null===wi||!wi.has(Jc)))){ea.flags|=65536;d&=-d;ea.lanes|=d;var Jd=Ze(ea,Qb,d);Od(ea,Jd);break a}}ea=ea.return}while(null!==ea)}Tf(h)}catch(me){d=me;yg===h&&null!==h&&(yg=h.return);continue}break}while(1)}
function Te(){var b=xk.current;xk.current=rk;return null===b?rk:b}function $g(){if(0===Cg||3===Cg||2===Cg)Cg=4;null===Gg||0===(eh&268435455)&&0===(wk&268435455)||Ld(Gg,Dg)}function ah(b,d){var h=kf;kf|=2;var v=Te();if(Gg!==b||Dg!==d)Ug=null,pf(b,d);do try{for(;null!==yg;)Fh(yg);break}catch(S){ie(b,S)}while(1);Ji=ci=bi=null;kf=h;xk.current=v;if(null!==yg)throw Error(x(261));Gg=null;Dg=0;return Cg}function Fh(b){var d=Pj(b.alternate,b,mh);b.memoizedProps=b.pendingProps;null===d?Tf(b):yg=d;Yk.current=
null}function Tf(b){var d=b;do{var h=d.alternate;b=d.return;if(0===(d.flags&32768)){if(h=hi(h,d,mh),null!==h){yg=h;return}}else{h=Uh(h,d);if(null!==h){h.flags&=32767;yg=h;return}if(null!==b)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{Cg=6;yg=null;return}}d=d.sibling;if(null!==d){yg=d;return}yg=d=b}while(null!==d);0===Cg&&(Cg=5)}function Bf(b,d,h){var v=vf,S=yh.transition;try{yh.transition=null,vf=1,zh(b,d,h,v)}finally{yh.transition=S,vf=v}return null}function zh(b,d,h,v){do ef();while(null!==
ni);if(0!==(kf&6))throw Error(x(327));h=b.finishedWork;var S=b.finishedLanes;if(null===h)return null;b.finishedWork=null;b.finishedLanes=0;if(h===b.current)throw Error(x(177));b.callbackNode=null;b.callbackPriority=0;var ea=h.lanes|h.childLanes;jc(b,ea);b===Gg&&(yg=Gg=null,Dg=0);0===(h.subtreeFlags&2064)&&0===(h.flags&2064)||Qj||(Qj=!0,qg(Ei,function(){ef();return null}));ea=0!==(h.flags&15990);if(0!==(h.subtreeFlags&15990)||ea){ea=yh.transition;yh.transition=null;var Wa=vf;vf=1;var Qb=kf;kf|=4;Yk.current=
null;ji(b,h);Ma(h,b);Ic(Vk);ak=!!Uk;Vk=Uk=null;b.current=h;Lb(h,b,S);bm();kf=Qb;vf=Wa;yh.transition=ea}else b.current=h;Qj&&(Qj=!1,ni=b,Rj=S);ea=b.pendingLanes;0===ea&&(wi=null);Ka(h.stateNode,v);dc(b,lg());if(null!==d)for(v=b.onRecoverableError,h=0;h<d.length;h++)S=d[h],v(S.value,{componentStack:S.stack,digest:S.digest});if(tk)throw tk=!1,b=Sk,Sk=null,b;0!==(Rj&1)&&0!==b.tag&&ef();ea=b.pendingLanes;0!==(ea&1)?b===rj?qj++:(qj=0,rj=b):qj=0;sd();return null}function ef(){if(null!==ni){var b=Ta(Rj),
d=yh.transition,h=vf;try{yh.transition=null;vf=16>b?16:b;if(null===ni)var v=!1;else{b=ni;ni=null;Rj=0;if(0!==(kf&6))throw Error(x(331));var S=kf;kf|=4;for(ee=b.current;null!==ee;){var ea=ee,Wa=ea.child;if(0!==(ee.flags&16)){var Qb=ea.deletions;if(null!==Qb){for(var lc=0;lc<Qb.length;lc++){var Nc=Qb[lc];for(ee=Nc;null!==ee;){var pd=ee;switch(pd.tag){case 0:case 11:case 15:ph(8,pd,ea)}var yd=pd.child;if(null!==yd)yd.return=pd,ee=yd;else for(;null!==ee;){pd=ee;var td=pd.sibling,Zd=pd.return;li(pd);if(pd===
Nc){ee=null;break}if(null!==td){td.return=Zd;ee=td;break}ee=Zd}}}var he=ea.alternate;if(null!==he){var le=he.child;if(null!==le){he.child=null;do{var hg=le.sibling;le.sibling=null;le=hg}while(null!==le)}}ee=ea}}if(0!==(ea.subtreeFlags&2064)&&null!==Wa)Wa.return=ea,ee=Wa;else a:for(;null!==ee;){ea=ee;if(0!==(ea.flags&2048))switch(ea.tag){case 0:case 11:case 15:ph(9,ea,ea.return)}var Bc=ea.sibling;if(null!==Bc){Bc.return=ea.return;ee=Bc;break a}ee=ea.return}}var rc=b.current;for(ee=rc;null!==ee;){Wa=
ee;var Jc=Wa.child;if(0!==(Wa.subtreeFlags&2064)&&null!==Jc)Jc.return=Wa,ee=Jc;else a:for(Wa=rc;null!==ee;){Qb=ee;if(0!==(Qb.flags&2048))try{switch(Qb.tag){case 0:case 11:case 15:ki(9,Qb)}}catch(me){Ie(Qb,Qb.return,me)}if(Qb===Wa){ee=null;break a}var Jd=Qb.sibling;if(null!==Jd){Jd.return=Qb.return;ee=Jd;break a}ee=Qb.return}}kf=S;sd();if(Ih&&"function"===typeof Ih.onPostCommitFiberRoot)try{Ih.onPostCommitFiberRoot(zj,b)}catch(me){}v=!0}return v}finally{vf=h,yh.transition=d}}return!1}function rg(b,
d,h){d=je(h,d);d=nf(b,d,1);b=Rb(b,d,1);d=ha();null!==b&&(tc(b,1,d),dc(b,d))}function Ie(b,d,h){if(3===b.tag)rg(b,b,h);else for(;null!==d;){if(3===d.tag){rg(d,b,h);break}else if(1===d.tag){var v=d.stateNode;if("function"===typeof d.type.getDerivedStateFromError||"function"===typeof v.componentDidCatch&&(null===wi||!wi.has(v))){b=je(h,b);b=Ze(d,b,1);d=Rb(d,b,1);b=ha();null!==d&&(tc(d,1,b),dc(d,b));break}}d=d.return}}function Ph(b,d,h){var v=b.pingCache;null!==v&&v.delete(d);d=ha();b.pingedLanes|=b.suspendedLanes&
h;Gg===b&&(Dg&h)===h&&(4===Cg||3===Cg&&(Dg&130023424)===Dg&&500>lg()-Eh?pf(b,0):Df|=h);dc(b,d)}function Wh(b,d){0===d&&(0===(b.mode&1)?d=1:(d=yk,yk<<=1,0===(yk&130023424)&&(yk=4194304)));var h=ha();b=Pb(b,d);null!==b&&(tc(b,d,h),dc(b,h))}function yi(b){var d=b.memoizedState,h=0;null!==d&&(h=d.retryLane);Wh(b,h)}function Lf(b,d){var h=0;switch(b.tag){case 13:var v=b.stateNode,S=b.memoizedState;null!==S&&(h=S.retryLane);break;case 19:v=b.stateNode;break;default:throw Error(x(314));}null!==v&&v.delete(d);
Wh(b,h)}function qg(b,d){return mk(b,d)}function Ri(b,d,h,v){this.tag=b;this.key=h;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=d;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=v;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Of(b,d,h,v){return new Ri(b,d,h,v)}function Oi(b){b=b.prototype;return!(!b||!b.isReactComponent)}
function oi(b){if("function"===typeof b)return Oi(b)?1:0;if(void 0!==b&&null!==b){b=b.$$typeof;if(b===qf)return 11;if(b===$f)return 14}return 2}function th(b,d){var h=b.alternate;null===h?(h=Of(b.tag,d,b.key,b.mode),h.elementType=b.elementType,h.type=b.type,h.stateNode=b.stateNode,h.alternate=b,b.alternate=h):(h.pendingProps=d,h.type=b.type,h.flags=0,h.subtreeFlags=0,h.deletions=null);h.flags=b.flags&14680064;h.childLanes=b.childLanes;h.lanes=b.lanes;h.child=b.child;h.memoizedProps=b.memoizedProps;
h.memoizedState=b.memoizedState;h.updateQueue=b.updateQueue;d=b.dependencies;h.dependencies=null===d?null:{lanes:d.lanes,firstContext:d.firstContext};h.sibling=b.sibling;h.index=b.index;h.ref=b.ref;return h}function Mi(b,d,h,v,S,ea){var Wa=2;v=b;if("function"===typeof b)Oi(b)&&(Wa=1);else if("string"===typeof b)Wa=5;else a:switch(b){case ih:return fh(h.children,S,ea,d);case ae:Wa=8;S|=8;break;case Cd:return b=Of(12,h,d,S|2),b.elementType=Cd,b.lanes=ea,b;case Zf:return b=Of(13,h,d,S),b.elementType=
Zf,b.lanes=ea,b;case zf:return b=Of(19,h,d,S),b.elementType=zf,b.lanes=ea,b;case Gh:return Pi(h,S,ea,d);default:if("object"===typeof b&&null!==b)switch(b.$$typeof){case ge:Wa=10;break a;case Id:Wa=9;break a;case qf:Wa=11;break a;case $f:Wa=14;break a;case zg:Wa=16;v=null;break a}throw Error(x(130,null==b?b:typeof b,""));}d=Of(Wa,h,d,S);d.elementType=b;d.type=v;d.lanes=ea;return d}function fh(b,d,h,v){b=Of(7,b,v,d);b.lanes=h;return b}function Pi(b,d,h,v){b=Of(22,b,v,d);b.elementType=Gh;b.lanes=h;b.stateNode=
{isHidden:!1};return b}function Li(b,d,h){b=Of(6,b,null,d);b.lanes=h;return b}function kj(b,d,h){d=Of(4,null!==b.children?b.children:[],b.key,d);d.lanes=h;d.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation};return d}function zk(b,d,h,v,S){this.tag=d;this.containerInfo=b;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=
wc(0);this.expirationTimes=wc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=wc(0);this.identifierPrefix=v;this.onRecoverableError=S;this.mutableSourceEagerHydrationData=null}function Bi(b,d,h,v,S,ea,Wa,Qb,lc){b=new zk(b,d,h,Qb,lc);1===d?(d=1,!0===ea&&(d|=8)):d=0;ea=Of(3,null,null,d);b.current=ea;ea.stateNode=b;ea.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null};
bc(ea);return b}function Sj(b,d,h){var v=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:yf,key:null==v?null:""+v,children:b,containerInfo:d,implementation:h}}function Si(b){if(!b)return ai;b=b._reactInternals;a:{if(qa(b)!==b||1!==b.tag)throw Error(x(170));var d=b;do{switch(d.tag){case 3:d=d.stateNode.context;break a;case 1:if(Rd(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break a}}d=d.return}while(null!==d);throw Error(x(171));}if(1===b.tag){var h=
b.type;if(Rd(h))return Pc(b,h,d)}return d}function Ci(b,d,h,v,S,ea,Wa,Qb,lc){b=Bi(h,v,!0,b,S,ea,Wa,Qb,lc);b.context=Si(null);h=b.current;v=ha();S=nb(h);ea=yc(v,S);ea.callback=void 0!==d&&null!==d?d:null;Rb(h,ea,S);b.current.lanes=S;tc(b,S,v);dc(b,v);return b}function Ti(b,d,h,v){var S=d.current,ea=ha(),Wa=nb(S);h=Si(h);null===d.context?d.context=h:d.pendingContext=h;d=yc(ea,Wa);d.payload={element:b};v=void 0===v?null:v;null!==v&&(d.callback=v);b=Rb(S,d,Wa);null!==b&&(Yb(b,S,Wa,ea),Kc(b,S,Wa));return Wa}
function sj(b){b=b.current;if(!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function p(b,d){b=b.memoizedState;if(null!==b&&null!==b.dehydrated){var h=b.retryLane;b.retryLane=0!==h&&h<d?h:d}}function I(b,d){p(b,d);(b=b.alternate)&&p(b,d)}function P(){return null}function ua(b){this._internalRoot=b}function db(b){this._internalRoot=b}function gb(b){return!(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType)}function tb(b){return!(!b||1!==
b.nodeType&&9!==b.nodeType&&11!==b.nodeType&&(8!==b.nodeType||" react-mount-point-unstable "!==b.nodeValue))}function Nb(){}function sc(b,d,h,v,S){if(S){if("function"===typeof v){var ea=v;v=function(){var Nc=sj(Wa);ea.call(Nc)}}var Wa=Ci(d,v,b,0,null,!1,!1,"",Nb);b._reactRootContainer=Wa;b[Jh]=Wa.current;Ve(8===b.nodeType?b.parentNode:b);af();return Wa}for(;S=b.lastChild;)b.removeChild(S);if("function"===typeof v){var Qb=v;v=function(){var Nc=sj(lc);Qb.call(Nc)}}var lc=Bi(b,0,!1,null,null,!1,!1,"",
Nb);b._reactRootContainer=lc;b[Jh]=lc.current;Ve(8===b.nodeType?b.parentNode:b);af(function(){Ti(d,lc,h,v)});return lc}function Tc(b,d,h,v,S){var ea=h._reactRootContainer;if(ea){var Wa=ea;if("function"===typeof S){var Qb=S;S=function(){var lc=sj(Wa);Qb.call(lc)}}Ti(d,Wa,b,S)}else Wa=sc(h,d,b,S,v);return sj(Wa)}var id=vb(2),pc=vb(5),Bd=new Set,$d={},ue=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vd=Object.prototype.hasOwnProperty,
bf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nf={},Uf={},cf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){cf[b]=
new gc(b,0,!1,b,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var d=b[0];cf[d]=new gc(d,1,!1,b[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(b){cf[b]=new gc(b,2,!1,b.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){cf[b]=new gc(b,2,!1,b,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){cf[b]=
new gc(b,3,!1,b.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(b){cf[b]=new gc(b,3,!0,b,null,!1,!1)});["capture","download"].forEach(function(b){cf[b]=new gc(b,4,!1,b,null,!1,!1)});["cols","rows","size","span"].forEach(function(b){cf[b]=new gc(b,6,!1,b,null,!1,!1)});["rowSpan","start"].forEach(function(b){cf[b]=new gc(b,5,!1,b.toLowerCase(),null,!1,!1)});var Og=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var d=
b.replace(Og,nc);cf[d]=new gc(d,1,!1,b,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var d=b.replace(Og,nc);cf[d]=new gc(d,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(b){var d=b.replace(Og,nc);cf[d]=new gc(d,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(b){cf[b]=new gc(b,1,!1,b.toLowerCase(),null,!1,!1)});cf.xlinkHref=
new gc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(b){cf[b]=new gc(b,1,!1,b.toLowerCase(),null,!0,!0)});var tf=id.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Be=Symbol.for("react.element"),yf=Symbol.for("react.portal"),ih=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),Cd=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),Id=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),
Zf=Symbol.for("react.suspense"),zf=Symbol.for("react.suspense_list"),$f=Symbol.for("react.memo"),zg=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var Gh=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Gk=Symbol.iterator,ag=Object.assign,Hk,Xj=!1,Di=Array.isArray,Tj,Tk=function(b){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(d,h,v,S){MSApp.execUnsafeLocalFunction(function(){return b(d,
h,v,S)})}:b}(function(b,d){if("http://www.w3.org/2000/svg"!==b.namespaceURI||"innerHTML"in b)b.innerHTML=d;else{Tj=Tj||document.createElement("div");Tj.innerHTML="\x3csvg\x3e"+d.valueOf().toString()+"\x3c/svg\x3e";for(d=Tj.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;d.firstChild;)b.appendChild(d.firstChild)}}),vj={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cm=["Webkit","ms","Moz","O"];Object.keys(vj).forEach(function(b){cm.forEach(function(d){d=
d+b.charAt(0).toUpperCase()+b.substring(1);vj[d]=vj[b]})});var Gl=ag({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Bj=null,Ik=null,Yi=null,Zi=null,wj=!1,ek=!1;if(ue)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){ek=!0}});window.addEventListener("test",Ui,Ui);window.removeEventListener("test",Ui,Ui)}catch(b){ek=!1}var Wg=!1,xj=null,yj=!1,Yj=null,Hl={onError:function(b){Wg=!0;xj=b}},mk=pc.unstable_scheduleCallback,
mi=pc.unstable_cancelCallback,Wk=pc.unstable_shouldYield,bm=pc.unstable_requestPaint,lg=pc.unstable_now,Lk=pc.unstable_getCurrentPriorityLevel,Mk=pc.unstable_ImmediatePriority,ck=pc.unstable_UserBlockingPriority,Ei=pc.unstable_NormalPriority,hl=pc.unstable_LowPriority,Nk=pc.unstable_IdlePriority,zj=null,Ih=null,Ah=Math.clz32?Math.clz32:kb,Il=Math.log,fl=Math.LN2,Aj=64,yk=4194304,vf=0,Jk=!1,Zj=[],Xh=null,ri=null,Yh=null,$i=new Map,aj=new Map,Zh=[],Ll="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
bj=tf.ReactCurrentBatchConfig,ak=!0,bk=null,si=null,Ok=null,Cj=null,Mf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jh=Vb(Mf),Vi=ag({},Mf,{view:0,detail:0}),ij=Vb(Vi),Ak,Zk,Uj,Vj=ag({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qc,button:0,buttons:0,relatedTarget:function(b){return void 0===b.relatedTarget?b.fromElement===b.srcElement?b.toElement:
b.fromElement:b.relatedTarget},movementX:function(b){if("movementX"in b)return b.movementX;b!==Uj&&(Uj&&"mousemove"===b.type?(Ak=b.screenX-Uj.screenX,Zk=b.screenY-Uj.screenY):Zk=Ak=0,Uj=b);return Ak},movementY:function(b){return"movementY"in b?b.movementY:Zk}}),Qk=Vb(Vj),$k=ag({},Vj,{dataTransfer:0}),fk=Vb($k),dm=ag({},Vi,{relatedTarget:0}),Ej=Vb(dm),vl=ag({},Mf,{animationName:0,elapsedTime:0,pseudoElement:0}),Ql=Vb(vl),Bk=ag({},Mf,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:
window.clipboardData}}),Sl=Vb(Bk),em=ag({},Mf,{data:0}),kl=Vb(em),fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},hm=ag({},Vi,{key:function(b){if(b.key){var d=fm[b.key]||b.key;if("Unidentified"!==d)return d}return"keypress"===b.type?(b=eb(b),13===b?"Enter":String.fromCharCode(b)):"keydown"===b.type||"keyup"===b.type?gm[b.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qc,charCode:function(b){return"keypress"===b.type?eb(b):0},keyCode:function(b){return"keydown"===b.type||"keyup"===b.type?b.keyCode:0},which:function(b){return"keypress"===b.type?eb(b):"keydown"===b.type||"keyup"===b.type?b.keyCode:0}}),Ol=Vb(hm),im=ag({},Vj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ik=Vb(im),jm=ag({},Vi,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qc}),Pl=Vb(jm),km=ag({},Mf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rl=Vb(km),al=ag({},Vj,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),Rk=Vb(al),Nl=[9,13,27,32],dk=ue&&"CompositionEvent"in window,Wi=null;ue&&"documentMode"in document&&(Wi=document.documentMode);
var Kh=ue&&"TextEvent"in window&&!Wi,Je=ue&&(!dk||Wi&&8<Wi&&11>=Wi),Gf=String.fromCharCode(32),vd=!1,mg=!1,ti={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},cj=null,Fi=null,jk=!1;if(ue){if(ue){var bl="oninput"in document;if(!bl){var Ck=document.createElement("div");Ck.setAttribute("oninput","return;");bl="function"===typeof Ck.oninput}var cl=bl}else cl=!1;jk=cl&&(!document.documentMode||9<document.documentMode)}var gg=
"function"===typeof Object.is?Object.is:Qa,kk=ue&&"documentMode"in document&&11>=document.documentMode,ej=null,fj=null,Dj=null,dj=!1,gj={animationend:bd("Animation","AnimationEnd"),animationiteration:bd("Animation","AnimationIteration"),animationstart:bd("Animation","AnimationStart"),transitionend:bd("Transition","TransitionEnd")},Pk={},il={};ue&&(il=document.createElement("div").style,"AnimationEvent"in window||(delete gj.animationend.animation,delete gj.animationiteration.animation,delete gj.animationstart.animation),
"TransitionEvent"in window||delete gj.transitionend.transition);for(var Pg=nd("animationend"),gk=nd("animationiteration"),jl=nd("animationstart"),hk=nd("transitionend"),Bh=new Map,Dk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
dl=0;dl<Dk.length;dl++){var pi=Dk[dl],qi=pi.toLowerCase(),wl=pi[0].toUpperCase()+pi.slice(1);Ed(qi,"on"+wl)}Ed(Pg,"onAnimationEnd");Ed(gk,"onAnimationIteration");Ed(jl,"onAnimationStart");Ed("dblclick","onDoubleClick");Ed("focusin","onFocus");Ed("focusout","onBlur");Ed(hk,"onTransitionEnd");M("onMouseEnter",["mouseout","mouseover"]);M("onMouseLeave",["mouseout","mouseover"]);M("onPointerEnter",["pointerout","pointerover"]);M("onPointerLeave",["pointerout","pointerover"]);l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));l("onBeforeInput",["compositionend","keypress","textInput","paste"]);l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lj="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
$h=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lj)),Gi="_reactListening"+Math.random().toString(36).slice(2),ll=/\r\n?/g,ml=/\u0000|\uFFFD/g,Uk=null,Vk=null,Xk="function"===typeof setTimeout?setTimeout:void 0,am="function"===typeof clearTimeout?clearTimeout:void 0,xl="function"===typeof Promise?Promise:void 0,Zl="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof xl?function(b){return xl.resolve(null).then(b).catch(uc)}:Xk,tj=Math.random().toString(36).slice(2),
Lh="__reactFiber$"+tj,Hi="__reactProps$"+tj,Jh="__reactContainer$"+tj,hj="__reactEvents$"+tj,ul="__reactListeners$"+tj,Xl="__reactHandles$"+tj,lk=[],jj=-1,ai={},Eg=rd(ai),bh=rd(!1),sg=ai,Ch=null,Fj=!1,Gj=!1,Kg=[],rh=0,ok=null,nk=0,Fg=[],sh=0,Ii=null,bg=1,Mh="",Qg=null,Rg=null,Vf=!1,ch=null,vk=tf.ReactCurrentBatchConfig,pk=rd(null),bi=null,ci=null,Ji=null,Ki=null,Nh=!1,qk=(new id.Component).refs,Hj={isMounted:function(b){return(b=b._reactInternals)?qa(b)===b:!1},enqueueSetState:function(b,d,h){b=b._reactInternals;
var v=ha(),S=nb(b),ea=yc(v,S);ea.payload=d;void 0!==h&&null!==h&&(ea.callback=h);d=Rb(b,ea,S);null!==d&&(Yb(d,b,S,v),Kc(d,b,S))},enqueueReplaceState:function(b,d,h){b=b._reactInternals;var v=ha(),S=nb(b),ea=yc(v,S);ea.tag=1;ea.payload=d;void 0!==h&&null!==h&&(ea.callback=h);d=Rb(b,ea,S);null!==d&&(Yb(d,b,S,v),Kc(d,b,S))},enqueueForceUpdate:function(b,d){b=b._reactInternals;var h=ha(),v=nb(b),S=yc(h,v);S.tag=2;void 0!==d&&null!==d&&(S.callback=d);d=Rb(b,S,v);null!==d&&(Yb(d,b,v,h),Kc(d,b,v))}},nj=
Oe(!0),ql=Oe(!1),lj={},Dh=rd(lj),Ij=rd(lj),mj=rd(lj),Yf=rd(0),Ni=[],ei=tf.ReactCurrentDispatcher,sk=tf.ReactCurrentBatchConfig,ui=0,Af=null,tg=null,Ag=null,Kj=!1,vi=!1,Jj=0,lm=0,rk={readContext:Ja,useCallback:lf,useContext:lf,useEffect:lf,useImperativeHandle:lf,useInsertionEffect:lf,useLayoutEffect:lf,useMemo:lf,useReducer:lf,useRef:lf,useState:lf,useDebugValue:lf,useDeferredValue:lf,useTransition:lf,useMutableSource:lf,useSyncExternalStore:lf,useId:lf,unstable_isNewReconciler:!1},nl={readContext:Ja,
useCallback:function(b,d){Xe().memoizedState=[b,void 0===d?null:d];return b},useContext:Ja,useEffect:xe,useImperativeHandle:function(b,d,h){h=null!==h&&void 0!==h?h.concat([b]):null;return Gc(4194308,4,dg.bind(null,d,b),h)},useLayoutEffect:function(b,d){return Gc(4194308,4,b,d)},useInsertionEffect:function(b,d){return Gc(4,2,b,d)},useMemo:function(b,d){var h=Xe();d=void 0===d?null:d;b=b();h.memoizedState=[b,d];return b},useReducer:function(b,d,h){var v=Xe();d=void 0!==h?h(d):d;v.memoizedState=v.baseState=
d;b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:d};v.queue=b;b=b.dispatch=uh.bind(null,Af,b);return[v.memoizedState,b]},useRef:function(b){var d=Xe();b={current:b};return d.memoizedState=b},useState:Ia,useDebugValue:vg,useDeferredValue:function(b){return Xe().memoizedState=b},useTransition:function(){var b=Ia(!1),d=b[0];b=Ig.bind(null,b[1]);Xe().memoizedState=b;return[d,b]},useMutableSource:function(){},useSyncExternalStore:function(b,d,h){var v=Af,
S=Xe();if(Vf){if(void 0===h)throw Error(x(407));h=h()}else{h=d();if(null===Gg)throw Error(x(349));0!==(ui&30)||ng(v,d,h)}S.memoizedState=h;var ea={value:h,getSnapshot:d};S.queue=ea;xe(Jf.bind(null,v,ea,b),[b]);v.flags|=2048;rb(9,Rf.bind(null,v,ea,h,d),void 0,null);return h},useId:function(){var b=Xe(),d=Gg.identifierPrefix;if(Vf){var h=Mh,v=bg;h=(v&~(1<<32-Ah(v)-1)).toString(32)+h;d=":"+d+"R"+h;h=Jj++;0<h&&(d+="H"+h.toString(32));d+=":"}else h=lm++,d=":"+d+"r"+h.toString(32)+":";return b.memoizedState=
d},unstable_isNewReconciler:!1},Ul={readContext:Ja,useCallback:eg,useContext:Ja,useEffect:Ge,useImperativeHandle:Xg,useInsertionEffect:cg,useLayoutEffect:Ye,useMemo:kg,useReducer:jg,useRef:Cc,useState:function(){return jg(rf)},useDebugValue:vg,useDeferredValue:function(b){var d=Ce();return Hg(d,tg.memoizedState,b)},useTransition:function(){var b=jg(rf)[0],d=Ce().memoizedState;return[b,d]},useMutableSource:uf,useSyncExternalStore:Qf,useId:kh,unstable_isNewReconciler:!1},ol={readContext:Ja,useCallback:eg,
useContext:Ja,useEffect:Ge,useImperativeHandle:Xg,useInsertionEffect:cg,useLayoutEffect:Ye,useMemo:kg,useReducer:mf,useRef:Cc,useState:function(){return mf(rf)},useDebugValue:vg,useDeferredValue:function(b){var d=Ce();return null===tg?d.memoizedState=b:Hg(d,tg.memoizedState,b)},useTransition:function(){var b=mf(rf)[0],d=Ce().memoizedState;return[b,d]},useMutableSource:uf,useSyncExternalStore:Qf,useId:kh,unstable_isNewReconciler:!1},pl="function"===typeof WeakMap?WeakMap:Map,Vl=tf.ReactCurrentOwner,
dh=!1,uk={dehydrated:null,treeContext:null,retryLane:0};var sl=function(b,d){for(var h=d.child;null!==h;){if(5===h.tag||6===h.tag)b.appendChild(h.stateNode);else if(4!==h.tag&&null!==h.child){h.child.return=h;h=h.child;continue}if(h===d)break;for(;null===h.sibling;){if(null===h.return||h.return===d)return;h=h.return}h.sibling.return=h.return;h=h.sibling}};var rl=function(){};var Wl=function(b,d,h,v){var S=b.memoizedProps;if(S!==v){b=d.stateNode;We(Dh.current);var ea=null;switch(h){case "input":S=
Aa(b,S);v=Aa(b,v);ea=[];break;case "select":S=ag({},S,{value:void 0});v=ag({},v,{value:void 0});ea=[];break;case "textarea":S=Mb(b,S);v=Mb(b,v);ea=[];break;default:"function"!==typeof S.onClick&&"function"===typeof v.onClick&&(b.onclick=hb)}va(h,v);var Wa;h=null;for(Nc in S)if(!v.hasOwnProperty(Nc)&&S.hasOwnProperty(Nc)&&null!=S[Nc])if("style"===Nc){var Qb=S[Nc];for(Wa in Qb)Qb.hasOwnProperty(Wa)&&(h||(h={}),h[Wa]="")}else"dangerouslySetInnerHTML"!==Nc&&"children"!==Nc&&"suppressContentEditableWarning"!==
Nc&&"suppressHydrationWarning"!==Nc&&"autoFocus"!==Nc&&($d.hasOwnProperty(Nc)?ea||(ea=[]):(ea=ea||[]).push(Nc,null));for(Nc in v){var lc=v[Nc];Qb=null!=S?S[Nc]:void 0;if(v.hasOwnProperty(Nc)&&lc!==Qb&&(null!=lc||null!=Qb))if("style"===Nc)if(Qb){for(Wa in Qb)!Qb.hasOwnProperty(Wa)||lc&&lc.hasOwnProperty(Wa)||(h||(h={}),h[Wa]="");for(Wa in lc)lc.hasOwnProperty(Wa)&&Qb[Wa]!==lc[Wa]&&(h||(h={}),h[Wa]=lc[Wa])}else h||(ea||(ea=[]),ea.push(Nc,h)),h=lc;else"dangerouslySetInnerHTML"===Nc?(lc=lc?lc.__html:
void 0,Qb=Qb?Qb.__html:void 0,null!=lc&&Qb!==lc&&(ea=ea||[]).push(Nc,lc)):"children"===Nc?"string"!==typeof lc&&"number"!==typeof lc||(ea=ea||[]).push(Nc,""+lc):"suppressContentEditableWarning"!==Nc&&"suppressHydrationWarning"!==Nc&&($d.hasOwnProperty(Nc)?(null!=lc&&"onScroll"===Nc&&ce("scroll",b),ea||Qb===lc||(ea=[])):(ea=ea||[]).push(Nc,lc))}h&&(ea=ea||[]).push("style",h);var Nc;if(d.updateQueue=ea)d.flags|=4}};var ii=function(b,d,h,v){h!==v&&(d.flags|=4)};var Mj=!1,Mg=!1,Yl="function"===typeof WeakSet?
WeakSet:Set,ee=null,tl=!1,Ng=null,qh=!1,$l=Math.ceil,xk=tf.ReactCurrentDispatcher,Yk=tf.ReactCurrentOwner,yh=tf.ReactCurrentBatchConfig,kf=0,Gg=null,yg=null,Dg=0,mh=0,oj=rd(0),Cg=0,Oj=null,eh=0,wk=0,Df=0,sf=null,Cf=null,Eh=0,pj=Infinity,Ug=null,tk=!1,Sk=null,wi=null,Qj=!1,ni=null,Rj=0,qj=0,rj=null,Ai=-1,Nj=0;var Pj=function(b,d,h){if(null!==b)if(b.memoizedProps!==d.pendingProps||bh.current)dh=!0;else{if(0===(b.lanes&h)&&0===(d.flags&128))return dh=!1,Th(b,d,h);dh=0!==(b.flags&131072)?!0:!1}else dh=
!1,Vf&&0!==(d.flags&1048576)&&be(d,nk,d.index);d.lanes=0;switch(d.tag){case 2:var v=d.type;fi(b,d);b=d.pendingProps;var S=De(d,Eg.current);da(d,h);S=If(null,d,v,b,S,h);var ea=Wf();d.flags|=1;"object"===typeof S&&null!==S&&"function"===typeof S.render&&void 0===S.$$typeof?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Rd(v)?(ea=!0,Gd(d)):ea=!1,d.memoizedState=null!==S.state&&void 0!==S.state?S.state:null,bc(d),S.updater=Hj,d.stateNode=S,S._reactInternals=d,Xd(d,v,b,h),d=Lg(null,d,v,!0,ea,h)):(d.tag=
0,Vf&&ea&&Ee(d),$e(null,d,S,h),d=d.child);return d;case 16:v=d.elementType;a:{fi(b,d);b=d.pendingProps;S=v._init;v=S(v._payload);d.type=v;S=d.tag=oi(v);b=ub(v,b);switch(S){case 0:d=gh(null,d,v,b,h);break a;case 1:d=Rh(null,d,v,b,h);break a;case 11:d=wg(null,d,v,b,h);break a;case 14:d=Zg(null,d,v,ub(v.type,b),h);break a}throw Error(x(306,v,""));}return d;case 0:return v=d.type,S=d.pendingProps,S=d.elementType===v?S:ub(v,S),gh(b,d,v,S,h);case 1:return v=d.type,S=d.pendingProps,S=d.elementType===v?S:
ub(v,S),Rh(b,d,v,S,h);case 3:a:{hh(d);if(null===b)throw Error(x(387));v=d.pendingProps;ea=d.memoizedState;S=ea.element;Ub(b,d);od(d,v,null,h);var Wa=d.memoizedState;v=Wa.element;if(ea.isDehydrated)if(ea={element:v,isDehydrated:!1,cache:Wa.cache,pendingSuspenseBoundaries:Wa.pendingSuspenseBoundaries,transitions:Wa.transitions},d.updateQueue.baseState=ea,d.memoizedState=ea,d.flags&256){S=je(Error(x(423)),d);La();Ya(S);d.flags|=256;$e(b,d,v,h);d=d.child;break a}else if(v!==S){S=je(Error(x(424)),d);La();
Ya(S);d.flags|=256;$e(b,d,v,h);d=d.child;break a}else for(Rg=ma(d.stateNode.containerInfo.firstChild),Qg=d,Vf=!0,ch=null,h=ql(d,null,v,h),d.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{La();if(v===S){d=Yg(b,d,h);break a}$e(b,d,v,h)}d=d.child}return d;case 5:return wd(d),null===b&&Rc(d),v=d.type,S=d.pendingProps,ea=null!==b?b.memoizedProps:null,Wa=S.children,Kb(v,S)?Wa=null:null!==ea&&Kb(v,ea)&&(d.flags|=32),Qh(b,d),$e(b,d,Wa,h),d.child;case 6:return null===b&&Rc(d),null;case 13:return xi(b,
d,h);case 4:return df(d,d.stateNode.containerInfo),v=d.pendingProps,null===b?d.child=nj(d,null,v,h):$e(b,d,v,h),d.child;case 11:return v=d.type,S=d.pendingProps,S=d.elementType===v?S:ub(v,S),wg(b,d,v,S,h);case 7:return $e(b,d,d.pendingProps,h),d.child;case 8:return $e(b,d,d.pendingProps.children,h),d.child;case 12:return $e(b,d,d.pendingProps.children,h),d.child;case 10:a:{v=d.type._context;S=d.pendingProps;ea=d.memoizedProps;Wa=S.value;Nd(pk,v._currentValue);v._currentValue=Wa;if(null!==ea)if(gg(ea.value,
Wa)){if(ea.children===S.children&&!bh.current){d=Yg(b,d,h);break a}}else for(ea=d.child,null!==ea&&(ea.return=d);null!==ea;){var Qb=ea.dependencies;if(null!==Qb){Wa=ea.child;for(var lc=Qb.firstContext;null!==lc;){if(lc.context===v){if(1===ea.tag){lc=yc(-1,h&-h);lc.tag=2;var Nc=ea.updateQueue;if(null!==Nc){Nc=Nc.shared;var pd=Nc.pending;null===pd?lc.next=lc:(lc.next=pd.next,pd.next=lc);Nc.pending=lc}}ea.lanes|=h;lc=ea.alternate;null!==lc&&(lc.lanes|=h);J(ea.return,h,d);Qb.lanes|=h;break}lc=lc.next}}else if(10===
ea.tag)Wa=ea.type===d.type?null:ea.child;else if(18===ea.tag){Wa=ea.return;if(null===Wa)throw Error(x(341));Wa.lanes|=h;Qb=Wa.alternate;null!==Qb&&(Qb.lanes|=h);J(Wa,h,d);Wa=ea.sibling}else Wa=ea.child;if(null!==Wa)Wa.return=ea;else for(Wa=ea;null!==Wa;){if(Wa===d){Wa=null;break}ea=Wa.sibling;if(null!==ea){ea.return=Wa.return;Wa=ea;break}Wa=Wa.return}ea=Wa}$e(b,d,S.children,h);d=d.child}return d;case 9:return S=d.type,v=d.pendingProps.children,da(d,h),S=Ja(S),v=v(S),d.flags|=1,$e(b,d,v,h),d.child;
case 14:return v=d.type,S=ub(v,d.pendingProps),S=ub(v.type,S),Zg(b,d,v,S,h);case 15:return Sg(b,d,d.type,d.pendingProps,h);case 17:return v=d.type,S=d.pendingProps,S=d.elementType===v?S:ub(v,S),fi(b,d),d.tag=1,Rd(v)?(b=!0,Gd(d)):b=!1,da(d,h),dd(d,v,S),Xd(d,v,S,h),Lg(null,d,v,!0,b,h);case 19:return gi(b,d,h);case 22:return xg(b,d,h)}throw Error(x(156,d.tag));};var Ek="function"===typeof reportError?reportError:function(b){console.error(b)};db.prototype.render=ua.prototype.render=function(b){var d=
this._internalRoot;if(null===d)throw Error(x(409));Ti(b,d,null,null)};db.prototype.unmount=ua.prototype.unmount=function(){var b=this._internalRoot;if(null!==b){this._internalRoot=null;var d=b.containerInfo;af(function(){Ti(null,b,null,null)});d[Jh]=null}};db.prototype.unstable_scheduleHydration=function(b){if(b){var d=yl();b={blockedOn:null,target:b,priority:d};for(var h=0;h<Zh.length&&0!==d&&d<Zh[h].priority;h++);Zh.splice(h,0,b);0===h&&Fb(b)}};var Kk=function(b){switch(b.tag){case 3:var d=b.stateNode;
if(d.current.memoizedState.isDehydrated){var h=Za(d.pendingLanes);0!==h&&(Sc(d,h|1),dc(d,lg()),0===(kf&6)&&(pj=lg()+500,sd()))}break;case 13:af(function(){var v=Pb(b,1);if(null!==v){var S=ha();Yb(v,b,1,S)}}),I(b,1)}};var gl=function(b){if(13===b.tag){var d=Pb(b,134217728);if(null!==d){var h=ha();Yb(d,b,134217728,h)}I(b,134217728)}};var Kl=function(b){if(13===b.tag){var d=nb(b),h=Pb(b,d);if(null!==h){var v=ha();Yb(h,b,d,v)}I(b,d)}};var yl=function(){return vf};var Jl=function(b,d){var h=vf;try{return vf=
b,d()}finally{vf=h}};Ik=function(b,d,h){switch(d){case "input":$a(b,h);d=h.name;if("radio"===h.type&&null!=d){for(h=b;h.parentNode;)h=h.parentNode;h=h.querySelectorAll("input[name\x3d"+JSON.stringify(""+d)+'][type\x3d"radio"]');for(d=0;d<h.length;d++){var v=h[d];if(v!==b&&v.form===b.form){var S=Vc(v);if(!S)throw Error(x(90));Fa(v);$a(v,S)}}}break;case "textarea":pb(b,h);break;case "select":d=h.value,null!=d&&xb(b,!!h.multiple,d,!1)}};H=pe;V=af;var zl={usingClientEntryPoint:!1,Events:[hc,Uc,Vc,y,t,
pe]},uj={findFiberByHostInstance:sb,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mm={bundleType:uj.bundleType,version:uj.version,rendererPackageName:uj.rendererPackageName,rendererConfig:uj.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tf.ReactCurrentDispatcher,
findHostInstanceByFiber:function(b){b=R(b);return null===b?null:b.stateNode},findFiberByHostInstance:uj.findFiberByHostInstance||P,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Wj=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wj.isDisabled&&Wj.supportsFiber)try{zj=Wj.inject(mm),Ih=Wj}catch(b){}}ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=
zl;ab.createPortal=function(b,d){var h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!gb(d))throw Error(x(200));return Sj(b,d,null,h)};ab.createRoot=function(b,d){if(!gb(b))throw Error(x(299));var h=!1,v="",S=Ek;null!==d&&void 0!==d&&(!0===d.unstable_strictMode&&(h=!0),void 0!==d.identifierPrefix&&(v=d.identifierPrefix),void 0!==d.onRecoverableError&&(S=d.onRecoverableError));d=Bi(b,1,!1,null,null,h,!1,v,S);b[Jh]=d.current;Ve(8===b.nodeType?b.parentNode:b);return new ua(d)};ab.findDOMNode=
function(b){if(null==b)return null;if(1===b.nodeType)return b;var d=b._reactInternals;if(void 0===d){if("function"===typeof b.render)throw Error(x(188));b=Object.keys(b).join(",");throw Error(x(268,b));}b=R(d);return b=null===b?null:b.stateNode};ab.flushSync=function(b){return af(b)};ab.hydrate=function(b,d,h){if(!tb(d))throw Error(x(200));return Tc(null,b,d,!0,h)};ab.hydrateRoot=function(b,d,h){if(!gb(b))throw Error(x(405));var v=null!=h&&h.hydratedSources||null,S=!1,ea="",Wa=Ek;null!==h&&void 0!==
h&&(!0===h.unstable_strictMode&&(S=!0),void 0!==h.identifierPrefix&&(ea=h.identifierPrefix),void 0!==h.onRecoverableError&&(Wa=h.onRecoverableError));d=Ci(d,null,b,1,null!=h?h:null,S,!1,ea,Wa);b[Jh]=d.current;Ve(b);if(v)for(b=0;b<v.length;b++)h=v[b],S=h._getVersion,S=S(h._source),null==d.mutableSourceEagerHydrationData?d.mutableSourceEagerHydrationData=[h,S]:d.mutableSourceEagerHydrationData.push(h,S);return new db(d)};ab.render=function(b,d,h){if(!tb(d))throw Error(x(200));return Tc(null,b,d,!1,
h)};ab.unmountComponentAtNode=function(b){if(!tb(b))throw Error(x(40));return b._reactRootContainer?(af(function(){Tc(null,null,b,!1,function(){b._reactRootContainer=null;b[Jh]=null})}),!0):!1};ab.unstable_batchedUpdates=pe;ab.unstable_renderSubtreeIntoContainer=function(b,d,h,v){if(!tb(h))throw Error(x(200));if(null==b||void 0===b._reactInternals)throw Error(x(38));return Tc(b,d,h,!1,v)};ab.version="18.2.0-next-9e3b772b8-20220608"};
shadow$provide[8]=function(Hb,vb,Ac,ab){function x(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x)}catch(l){console.error(l)}}x();Ac.exports=vb(6)};
shadow$provide[13]=function(Hb,vb,Ac,ab){Ac.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[17]=function(Hb,vb,Ac,ab){function x(){}function l(){}var M=vb(13);l.resetWarningCache=x;Ac.exports=function(){function cb(gc,nc,Tb,Gb,Db,fc){if(fc!==M)throw gc=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),gc.name="Invariant Violation",gc;}function zb(){return cb}cb.isRequired=cb;var Zb={array:cb,bigint:cb,bool:cb,func:cb,number:cb,object:cb,string:cb,
symbol:cb,any:cb,arrayOf:zb,element:cb,elementType:cb,instanceOf:zb,node:cb,objectOf:zb,oneOf:zb,oneOfType:zb,shape:zb,exact:zb,checkPropTypes:l,resetWarningCache:x};return Zb.PropTypes=Zb}};
shadow$provide[18]=function(Hb,vb,Ac,ab){Ac.exports=vb(17)()};
shadow$provide[19]=function(Hb,vb,Ac,ab){ab.__esModule=!0;ab.default=function(l,M){void 0===l&&(l=x);void 0===M&&(M=x);const cb=Object.keys(l),zb=Object.keys(M);return l===M||cb.length===zb.length&&cb.every(Zb=>l[Zb]===M[Zb])};const x={}};
shadow$provide[20]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab):"function"===typeof define&&define.amd?define(["exports"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={}))})(this,function(x){function l(E,K,z){E.fields=K||[];E.fname=z;return E}function M(E){return null==E?null:E.fields}function cb(E){return 1===E.length?$a(E[0]):Ca(E)}function zb(E){throw Error(E);}function Zb(E){function K(){z.push(T+E.substring(la,xa));T="";la=xa+1}
const z=[],L=E.length;let X=null,qa=0,T="",la,xa,R;E+="";for(la=xa=0;xa<L;++xa)(R=E[xa],"\\"===R)?(T+=E.substring(la,xa),T+=E.substring(++xa,++xa),la=xa):R===X?(K(),X=null,qa=-1):X||(la===qa&&'"'===R?(la=xa+1,X=R):la===qa&&"'"===R?(la=xa+1,X=R):"."!==R||qa?"["===R?(xa>la&&K(),qa=la=xa+1):"]"===R&&(qa||zb("Access path missing open bracket: "+E),0<qa&&K(),qa=0,la=xa+1):xa>la?K():la=xa+1);qa&&zb("Access path missing closing bracket: "+E);X&&zb("Access path missing closing quote: "+E);xa>la&&(xa++,K());
return z}function gc(E,K,z){const L=Zb(E);E=1===L.length?L[0]:E;return l((z&&z.get||cb)(L),[E],K||E)}function nc(E,K,z){K=[K].concat([].slice.call(z));console[E].apply(console,K)}function Tb(E){return E===Object(E)}function Gb(E,K,z,L){if("__proto__"!==K){var X;if(Tb(z)&&!O(z))for(X in E=Tb(E[K])?E[K]:E[K]={},z)L&&(!0===L||L[X])?Gb(E,X,z[X]):"__proto__"!==X&&(E[X]=z[X]);else E[K]=z}}function Db(E,K){function z(qa){L[qa.name]||(L[qa.name]=1,X.push(qa))}if(null==E)return K;const L={},X=[];K.forEach(z);
E.forEach(z);return X}function fc(E){return E[E.length-1]}function Ba(E){return null==E||""===E?null:+E}function jb(E,K,z,L){const X=z(E[0]);E=z(fc(E));K*=E-X;return[L(X-K),L(E-K)]}function yb(E,K,z,L,X){const qa=L(E[0]);E=L(fc(E));K=null!=K?L(K):(qa+E)/2;return[X(K+(qa-K)*z),X(K+(E-K)*z)]}function Ab(E){return null!=E?O(E)?E:[E]:[]}function Pa(E){return"function"===typeof E}function Va(E){for(let K,z,L=1,X=arguments.length;L<X;++L)for(z in K=arguments[L],K)E[z]=K[z];return E}function Xa(E,K){return t.call(E,
K)}function Fa(E){return"[object Date]"===Object.prototype.toString.call(E)}function pa(E){return"number"===typeof E}function Aa(E){return"string"===typeof E}function Ha(E,K){let z="";for(;0<=--K;)z+=E;return z}function bb(E){return O(E)?"["+E.map(bb)+"]":Tb(E)||Aa(E)?JSON.stringify(E).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):E}const $a=E=>function(K){return K[E]},Ca=E=>{const K=E.length;return function(z){for(let L=0;L<K;++L)z=z[E[L]];return z}},Cb=gc("id"),xb=l(E=>E,[],"identity"),
Mb=l(()=>0,[],"zero"),kc=l(()=>1,[],"one"),pb=l(()=>!0,[],"true"),ca=l(()=>!1,[],"false");var O=Array.isArray;const oa=E=>K=>E*Math.exp(K),ra=E=>K=>Math.log(E*K),Oa=E=>K=>Math.sign(K)*Math.log1p(Math.abs(K/E)),ya=E=>K=>Math.sign(K)*Math.expm1(Math.abs(K))*E,va=E=>K=>0>K?-Math.pow(-K,E):Math.pow(K,E),m=(E,K)=>(E<K||null==E)&&null!=K?-1:(E>K||null==K)&&null!=E?1:(K=K instanceof Date?+K:K,E=E instanceof Date?+E:E)!==E&&K===K?-1:K!==K&&E===E?1:0,G=(E,K)=>1===E.length?Q(E[0],K[0]):y(E,K,E.length),Q=(E,
K)=>function(z,L){return m(E(z),E(L))*K},y=(E,K,z)=>{K.push(0);return function(L,X){var qa=0;let T=-1;for(;0===qa&&++T<z;)qa=E[T],qa=m(qa(L),qa(X));return qa*K[T]}},t=Object.prototype.hasOwnProperty,H={},V=E=>pa(E)?E:Fa(E)?E:Date.parse(E);x.Debug=4;x.Error=1;x.Info=3;x.None=0;x.Warn=2;x.accessor=l;x.accessorFields=M;x.accessorName=function(E){return null==E?null:E.fname};x.array=Ab;x.ascending=m;x.clampRange=function(E,K,z){let L=E[0];E=E[1];let X;E<L&&(X=E,E=L,L=X);X=E-L;return X>=z-K?[K,z]:[L=Math.min(Math.max(L,
K),z-X),L+X]};x.compare=function(E,K,z){z=z||{};K=Ab(K)||[];const L=[],X=[],qa={},T=z.comparator||G;Ab(E).forEach((la,xa)=>{null!=la&&(L.push("descending"===K[xa]?-1:1),X.push(la=Pa(la)?la:gc(la,null,z)),(M(la)||[]).forEach(R=>qa[R]=1))});return 0===X.length?null:l(T(X,L),Object.keys(qa))};x.constant=function(E){return Pa(E)?E:()=>E};x.debounce=function(E,K){let z;return L=>{z&&clearTimeout(z);z=setTimeout(()=>(K(L),z=null),E)}};x.error=zb;x.extend=Va;x.extent=function(E,K){let z=0,L,X,qa,T;if(E&&
(L=E.length))if(null==K){for(X=E[z];z<L&&(null==X||X!==X);X=E[++z]);for(qa=T=X;z<L;++z)X=E[z],null!=X&&(X<qa&&(qa=X),X>T&&(T=X))}else{for(X=K(E[z]);z<L&&(null==X||X!==X);X=K(E[++z]));for(qa=T=X;z<L;++z)X=K(E[z]),null!=X&&(X<qa&&(qa=X),X>T&&(T=X))}return[qa,T]};x.extentIndex=function(E,K){const z=E.length;let L=-1,X,qa,T,la,xa;if(null==K){for(;++L<z;)if(qa=E[L],null!=qa&&qa>=qa){X=T=qa;break}if(L===z)return[-1,-1];for(la=xa=L;++L<z;)qa=E[L],null!=qa&&(X>qa&&(X=qa,la=L),T<qa&&(T=qa,xa=L))}else{for(;++L<
z;)if(qa=K(E[L],L,E),null!=qa&&qa>=qa){X=T=qa;break}if(L===z)return[-1,-1];for(la=xa=L;++L<z;)qa=K(E[L],L,E),null!=qa&&(X>qa&&(X=qa,la=L),T<qa&&(T=qa,xa=L))}return[la,xa]};x.falsy=ca;x.fastmap=function(E){function K(qa){return Xa(z,qa)&&z[qa]!==H}let z={},L;const X={size:0,empty:0,object:z,has:K,get(qa){return K(qa)?z[qa]:void 0},set(qa,T){K(qa)||(++X.size,z[qa]===H&&--X.empty);z[qa]=T;return this},delete(qa){K(qa)&&(--X.size,++X.empty,z[qa]=H);return this},clear(){X.size=X.empty=0;X.object=z={}},
test(qa){return arguments.length?(L=qa,X):L},clean(){const qa={};let T=0;for(const la in z){const xa=z[la];xa===H||L&&L(xa)||(qa[la]=xa,++T)}X.size=T;X.empty=0;X.object=z=qa}};E&&Object.keys(E).forEach(qa=>{X.set(qa,E[qa])});return X};x.field=gc;x.flush=function(E,K,z,L,X,qa){if(!z&&0!==z)return qa;z=+z;let T=E[0],la=fc(E);la<T&&(E=T,T=la,la=E);E=Math.abs(K-T);K=Math.abs(la-K);return E<K&&E<=z?L:K<=z?X:qa};x.hasOwnProperty=Xa;x.id=Cb;x.identity=xb;x.inherits=function(E,K,z){K=E.prototype=Object.create(K.prototype);
Object.defineProperty(K,"constructor",{value:E,writable:!0,enumerable:!0,configurable:!0});return Va(K,z)};x.inrange=function(E,K,z,L){let X=K[0];K=K[K.length-1];let qa;X>K&&(qa=X,X=K,K=qa);return(void 0===z||z?X<=E:X<E)&&(void 0===L||L?E<=K:E<K)};x.isArray=O;x.isBoolean=function(E){return"boolean"===typeof E};x.isDate=Fa;x.isFunction=Pa;x.isIterable=function(E){return E&&Pa(E[Symbol.iterator])};x.isNumber=pa;x.isObject=Tb;x.isRegExp=function(E){return"[object RegExp]"===Object.prototype.toString.call(E)};
x.isString=Aa;x.key=function(E,K,z){E&&(E=K?Ab(E).map(qa=>qa.replace(/\\(.)/g,"$1")):Ab(E));const L=E&&E.length,X=z&&z.get||cb;z=qa=>X(K?[qa]:Zb(qa));if(L)if(1===L){const qa=z(E[0]);z=function(T){return""+qa(T)}}else{const qa=E.map(z);z=function(T){let la=""+qa[0](T),xa=0;for(;++xa<L;)la+="|"+qa[xa](T);return la}}else z=function(){return""};return l(z,E,"key")};x.lerp=function(E,K){const z=E[0];E=fc(E);return(K=+K)?1===K?E:z+K*(E-z):z};x.logger=function(E,K,z=nc){let L=E||0;return{level(X){return arguments.length?
(L=+X,this):L},error(){1<=L&&z(K||"error","ERROR",arguments);return this},warn(){2<=L&&z(K||"warn","WARN",arguments);return this},info(){3<=L&&z(K||"log","INFO",arguments);return this},debug(){4<=L&&z(K||"log","DEBUG",arguments);return this}}};x.lruCache=function(E){E=+E||1E4;let K,z,L;const X=()=>{K={};z={};L=0},qa=(T,la)=>{++L>E&&(z=K,K={},L=1);return K[T]=la};X();return{clear:X,has:T=>Xa(K,T)||Xa(z,T),get:T=>Xa(K,T)?K[T]:Xa(z,T)?qa(T,z[T]):void 0,set:(T,la)=>Xa(K,T)?K[T]=la:qa(T,la)}};x.merge=
function(E,K,z,L){const X=K.length,qa=z.length;if(!qa)return K;if(!X)return z;L=L||new K.constructor(X+qa);let T=0,la=0,xa=0;for(;T<X&&la<qa;++xa)L[xa]=0<E(K[T],z[la])?z[la++]:K[T++];for(;T<X;++T,++xa)L[xa]=K[T];for(;la<qa;++la,++xa)L[xa]=z[la];return L};x.mergeConfig=function(...E){return E.reduce((K,z)=>{for(const L in z)"signals"===L?K.signals=Db(K.signals,z.signals):Gb(K,L,z[L],"legend"===L?{layout:1}:"style"===L?!0:null);return K},{})};x.one=kc;x.pad=function(E,K,z,L){z=z||" ";E+="";K-=E.length;
return 0>=K?E:"left"===L?Ha(z,K)+E:"center"===L?Ha(z,~~(K/2))+E+Ha(z,Math.ceil(K/2)):E+Ha(z,K)};x.panLinear=function(E,K){return jb(E,K,Ba,xb)};x.panLog=function(E,K){var z=Math.sign(E[0]);return jb(E,K,ra(z),oa(z))};x.panPow=function(E,K,z){return jb(E,K,va(z),va(1/z))};x.panSymlog=function(E,K,z){return jb(E,K,Oa(z),ya(z))};x.peek=fc;x.quarter=function(E){return 1+~~((new Date(E)).getMonth()/3)};x.repeat=Ha;x.span=function(E){return E&&fc(E)-E[0]||0};x.splitAccessPath=Zb;x.stringValue=bb;x.toBoolean=
function(E){return null==E||""===E?null:E&&"false"!==E&&"0"!==E?!!E:!1};x.toDate=function(E,K){K=K||V;return null==E||""===E?null:K(E)};x.toNumber=Ba;x.toSet=function(E){const K={},z=E.length;for(let L=0;L<z;++L)K[E[L]]=!0;return K};x.toString=function(E){return null==E||""===E?null:E+""};x.truncate=function(E,K,z,L){L=null!=L?L:"";E+="";const X=E.length,qa=Math.max(0,K-L.length);return X<=K?E:"left"===z?L+E.slice(X-qa):"center"===z?E.slice(0,Math.ceil(qa/2))+L+E.slice(X-~~(qa/2)):E.slice(0,qa)+
L};x.truthy=pb;x.utcquarter=function(E){return 1+~~((new Date(E)).getUTCMonth()/3)};x.visitArray=function(E,K,z){if(E)if(K){const L=E.length;for(let X=0;X<L;++X){const qa=K(E[X]);qa&&z(qa,X,E)}}else E.forEach(z)};x.writeConfig=Gb;x.zero=Mb;x.zoomLinear=function(E,K,z){return yb(E,K,z,Ba,xb)};x.zoomLog=function(E,K,z){const L=Math.sign(E[0]);return yb(E,K,z,ra(L),oa(L))};x.zoomPow=function(E,K,z,L){return yb(E,K,z,va(L),va(1/L))};x.zoomSymlog=function(E,K,z,L){return yb(E,K,z,Oa(L),ya(L))};Object.defineProperty(x,
"__esModule",{value:!0})})};
shadow$provide[21]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab):"function"===typeof define&&define.amd?define(["exports"],l):(x=x||self,l(x.topojson=x.topojson||{}))})(this,function(x){function l(Ba){return Ba}function M(Ba){if(null==Ba)return l;var jb,yb,Ab=Ba.scale[0],Pa=Ba.scale[1],Va=Ba.translate[0],Xa=Ba.translate[1];return function(Fa,pa){pa||(jb=yb=0);pa=2;var Aa=Fa.length,Ha=Array(Aa);Ha[0]=(jb+=Fa[0])*Ab+Va;for(Ha[1]=(yb+=Fa[1])*Pa+Xa;pa<Aa;)Ha[pa]=
Fa[pa],++pa;return Ha}}function cb(Ba){function jb(Aa){Aa=Ab(Aa);Aa[0]<Va&&(Va=Aa[0]);Aa[0]>Fa&&(Fa=Aa[0]);Aa[1]<Xa&&(Xa=Aa[1]);Aa[1]>pa&&(pa=Aa[1])}function yb(Aa){switch(Aa.type){case "GeometryCollection":Aa.geometries.forEach(yb);break;case "Point":jb(Aa.coordinates);break;case "MultiPoint":Aa.coordinates.forEach(jb)}}var Ab=M(Ba.transform),Pa,Va=Infinity,Xa=Va,Fa=-Va,pa=-Va;Ba.arcs.forEach(function(Aa){for(var Ha=-1,bb=Aa.length,$a;++Ha<bb;)$a=Ab(Aa[Ha],Ha),$a[0]<Va&&(Va=$a[0]),$a[0]>Fa&&(Fa=
$a[0]),$a[1]<Xa&&(Xa=$a[1]),$a[1]>pa&&(pa=$a[1])});for(Pa in Ba.objects)yb(Ba.objects[Pa]);return[Va,Xa,Fa,pa]}function zb(Ba,jb){var yb=jb.id,Ab=jb.bbox,Pa=null==jb.properties?{}:jb.properties;Ba=Zb(Ba,jb);return null==yb&&null==Ab?{type:"Feature",properties:Pa,geometry:Ba}:null==Ab?{type:"Feature",id:yb,properties:Pa,geometry:Ba}:{type:"Feature",id:yb,bbox:Ab,properties:Pa,geometry:Ba}}function Zb(Ba,jb){function yb(Aa){return Fa(Aa)}function Ab(Aa){for(var Ha=[],bb=0,$a=Aa.length;bb<$a;++bb){var Ca=
Aa[bb],Cb=Ha;Cb.length&&Cb.pop();for(var xb=pa[0>Ca?~Ca:Ca],Mb=0,kc=xb.length;Mb<kc;++Mb)Cb.push(Fa(xb[Mb],Mb));if(0>Ca)for(Ca=Cb,Cb=Ca.length,xb=Cb-kc;xb<--Cb;)kc=Ca[xb],Ca[xb++]=Ca[Cb],Ca[Cb]=kc}2>Ha.length&&Ha.push(Ha[0]);return Ha}function Pa(Aa){for(Aa=Ab(Aa);4>Aa.length;)Aa.push(Aa[0]);return Aa}function Va(Aa){return Aa.map(Pa)}function Xa(Aa){var Ha=Aa.type;switch(Ha){case "GeometryCollection":return{type:Ha,geometries:Aa.geometries.map(Xa)};case "Point":Aa=Fa(Aa.coordinates);break;case "MultiPoint":Aa=
Aa.coordinates.map(yb);break;case "LineString":Aa=Ab(Aa.arcs);break;case "MultiLineString":Aa=Aa.arcs.map(Ab);break;case "Polygon":Aa=Va(Aa.arcs);break;case "MultiPolygon":Aa=Aa.arcs.map(Va);break;default:return null}return{type:Ha,coordinates:Aa}}var Fa=M(Ba.transform),pa=Ba.arcs;return Xa(jb)}function gc(Ba,jb){function yb(Aa){var Ha=Ba.arcs[0>Aa?~Aa:Aa],bb=Ha[0];if(Ba.transform){var $a=[0,0];Ha.forEach(function(Ca){$a[0]+=Ca[0];$a[1]+=Ca[1]})}else $a=Ha[Ha.length-1];return 0>Aa?[$a,bb]:[bb,$a]}
function Ab(Aa,Ha){for(var bb in Aa){var $a=Aa[bb];delete Ha[$a.start];delete $a.start;delete $a.end;$a.forEach(function(Ca){Pa[0>Ca?~Ca:Ca]=1});Fa.push($a)}}var Pa={},Va={},Xa={},Fa=[],pa=-1;jb.forEach(function(Aa,Ha){var bb=Ba.arcs[0>Aa?~Aa:Aa];3>bb.length&&!bb[1][0]&&!bb[1][1]&&(bb=jb[++pa],jb[pa]=Aa,jb[Ha]=bb)});jb.forEach(function(Aa){var Ha=yb(Aa),bb=Ha[0],$a=Ha[1];(Ha=Xa[bb])?(delete Xa[Ha.end],Ha.push(Aa),Ha.end=$a,(Aa=Va[$a])?(delete Va[Aa.start],bb=Aa===Ha?Ha:Ha.concat(Aa),Va[bb.start=Ha.start]=
Xa[bb.end=Aa.end]=bb):Va[Ha.start]=Xa[Ha.end]=Ha):(Ha=Va[$a])?(delete Va[Ha.start],Ha.unshift(Aa),Ha.start=bb,(Aa=Xa[bb])?(delete Xa[Aa.end],bb=Aa===Ha?Ha:Aa.concat(Ha),Va[bb.start=Aa.start]=Xa[bb.end=Ha.end]=bb):Va[Ha.start]=Xa[Ha.end]=Ha):(Ha=[Aa],Va[Ha.start=bb]=Xa[Ha.end=$a]=Ha)});Ab(Xa,Va);Ab(Va,Xa);jb.forEach(function(Aa){Pa[0>Aa?~Aa:Aa]||Fa.push([Aa])});return Fa}function nc(Ba,jb,yb){var Ab;if(1<arguments.length)var Pa=Tb(Ba,jb,yb);else{var Va=0;for(Pa=Array(Ab=Ba.arcs.length);Va<Ab;++Va)Pa[Va]=
Va}return{type:"MultiLineString",arcs:gc(Ba,Pa)}}function Tb(Ba,jb,yb){function Ab(Ha){var bb=0>Ha?~Ha:Ha;(pa[bb]||(pa[bb]=[])).push({i:Ha,g:Aa})}function Pa(Ha){Ha.forEach(Ab)}function Va(Ha){Ha.forEach(Pa)}function Xa(Ha){switch(Aa=Ha,Ha.type){case "GeometryCollection":Ha.geometries.forEach(Xa);break;case "LineString":Pa(Ha.arcs);break;case "MultiLineString":case "Polygon":Va(Ha.arcs);break;case "MultiPolygon":Ha.arcs.forEach(Va)}}var Fa=[],pa=[],Aa;Xa(jb);pa.forEach(null==yb?function(Ha){Fa.push(Ha[0].i)}:
function(Ha){yb(Ha[0].g,Ha[Ha.length-1].g)&&Fa.push(Ha[0].i)});return Fa}function Gb(Ba,jb){function yb(pa){switch(pa.type){case "GeometryCollection":pa.geometries.forEach(yb);break;case "Polygon":Ab(pa.arcs);break;case "MultiPolygon":pa.arcs.forEach(Ab)}}function Ab(pa){pa.forEach(function(Aa){Aa.forEach(function(Ha){(Va[Ha=0>Ha?~Ha:Ha]||(Va[Ha]=[])).push(pa)})});Xa.push(pa)}function Pa(pa){pa=Zb(Ba,{type:"Polygon",arcs:[pa]}).coordinates[0];for(var Aa=-1,Ha=pa.length,bb,$a=pa[Ha-1],Ca=0;++Aa<Ha;)bb=
$a,$a=pa[Aa],Ca+=bb[0]*$a[1]-bb[1]*$a[0];return Math.abs(Ca)}var Va={},Xa=[],Fa=[];jb.forEach(yb);Xa.forEach(function(pa){if(!pa._){var Aa=[],Ha=[pa];pa._=1;for(Fa.push(Aa);pa=Ha.pop();)Aa.push(pa),pa.forEach(function(bb){bb.forEach(function($a){Va[0>$a?~$a:$a].forEach(function(Ca){Ca._||(Ca._=1,Ha.push(Ca))})})})}});Xa.forEach(function(pa){delete pa._});return{type:"MultiPolygon",arcs:Fa.map(function(pa){var Aa=[];pa.forEach(function(Ca){Ca.forEach(function(Cb){Cb.forEach(function(xb){2>Va[0>xb?
~xb:xb].length&&Aa.push(xb)})})});Aa=gc(Ba,Aa);if(1<(pa=Aa.length))for(var Ha=1,bb=Pa(Aa[0]),$a;Ha<pa;++Ha)($a=Pa(Aa[Ha]))>bb&&(bb=Aa[0],Aa[0]=Aa[Ha],Aa[Ha]=bb,bb=$a);return Aa}).filter(function(pa){return 0<pa.length})}}function Db(Ba,jb){for(var yb=0,Ab=Ba.length;yb<Ab;){var Pa=yb+Ab>>>1;Ba[Pa]<jb?yb=Pa+1:Ab=Pa}return yb}function fc(Ba){if(null==Ba)return l;var jb,yb,Ab=Ba.scale[0],Pa=Ba.scale[1],Va=Ba.translate[0],Xa=Ba.translate[1];return function(Fa,pa){pa||(jb=yb=0);pa=2;var Aa=Fa.length,Ha=
Array(Aa),bb=Math.round((Fa[0]-Va)/Ab),$a=Math.round((Fa[1]-Xa)/Pa);Ha[0]=bb-jb;jb=bb;Ha[1]=$a-yb;for(yb=$a;pa<Aa;)Ha[pa]=Fa[pa],++pa;return Ha}}x.bbox=cb;x.feature=function(Ba,jb){"string"===typeof jb&&(jb=Ba.objects[jb]);return"GeometryCollection"===jb.type?{type:"FeatureCollection",features:jb.geometries.map(function(yb){return zb(Ba,yb)})}:zb(Ba,jb)};x.merge=function(Ba){return Zb(Ba,Gb.apply(this,arguments))};x.mergeArcs=Gb;x.mesh=function(Ba){return Zb(Ba,nc.apply(this,arguments))};x.meshArcs=
nc;x.neighbors=function(Ba){function jb(Cb,xb){Cb.forEach(function(Mb){0>Mb&&(Mb=~Mb);var kc=Pa[Mb];kc?kc.push(xb):Pa[Mb]=[xb]})}function yb(Cb,xb){Cb.forEach(function(Mb){jb(Mb,xb)})}function Ab(Cb,xb){if("GeometryCollection"===Cb.type)Cb.geometries.forEach(function(Mb){Ab(Mb,xb)});else if(Cb.type in Xa)Xa[Cb.type](Cb.arcs,xb)}var Pa={},Va=Ba.map(function(){return[]}),Xa={LineString:jb,MultiLineString:yb,Polygon:yb,MultiPolygon:function(Cb,xb){Cb.forEach(function(Mb){yb(Mb,xb)})}};Ba.forEach(Ab);
for(var Fa in Pa){Ba=Pa[Fa];for(var pa=Ba.length,Aa=0;Aa<pa;++Aa)for(var Ha=Aa+1;Ha<pa;++Ha){var bb=Ba[Aa],$a=Ba[Ha],Ca;(Ca=Va[bb])[Fa=Db(Ca,$a)]!==$a&&Ca.splice(Fa,0,$a);(Ca=Va[$a])[Fa=Db(Ca,bb)]!==bb&&Ca.splice(Fa,0,bb)}}return Va};x.quantize=function(Ba,jb){function yb(bb){return Aa(bb)}function Ab(bb){switch(bb.type){case "GeometryCollection":var $a={type:"GeometryCollection",geometries:bb.geometries.map(Ab)};break;case "Point":$a={type:"Point",coordinates:Aa(bb.coordinates)};break;case "MultiPoint":$a=
{type:"MultiPoint",coordinates:bb.coordinates.map(yb)};break;default:return bb}null!=bb.id&&($a.id=bb.id);null!=bb.bbox&&($a.bbox=bb.bbox);null!=bb.properties&&($a.properties=bb.properties);return $a}if(Ba.transform)throw Error("already quantized");if(jb&&jb.scale)var Pa=Ba.bbox;else{if(!(2<=(pa=Math.floor(jb))))throw Error("n must be 2");Pa=Ba.bbox||cb(Ba);jb=Pa[0];var Va=Pa[1],Xa=Pa[2],Fa=Pa[3],pa;jb={scale:[Xa-jb?(Xa-jb)/(pa-1):1,Fa-Va?(Fa-Va)/(pa-1):1],translate:[jb,Va]}}var Aa=fc(jb),Ha;Va=
Ba.objects;Xa={};for(Ha in Va)Xa[Ha]=Ab(Va[Ha]);return{type:"Topology",bbox:Pa,transform:jb,objects:Xa,arcs:Ba.arcs.map(function(bb){var $a=0,Ca=1,Cb=bb.length,xb,Mb=Array(Cb);for(Mb[0]=Aa(bb[0],0);++$a<Cb;)if((xb=Aa(bb[$a],$a))[0]||xb[1])Mb[Ca++]=xb;1===Ca&&(Mb[Ca++]=[0,0]);Mb.length=Ca;return Mb})}};x.transform=M;x.untransform=fc;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[22]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(20)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega))})(this,function(x,l){function M(R){const ka=l.array(R).slice(),Ka={};ka.length||l.error("Missing time unit.");ka.forEach(kb=>{l.hasOwnProperty(Aa,kb)?Ka[kb]=1:l.error(`Invalid time unit: ${kb}.`)});1<(Ka.week||Ka.day?1:0)+(Ka.quarter||Ka.month||
Ka.date?1:0)+(Ka.dayofyear?1:0)&&l.error(`Incompatible time units: ${R}`);ka.sort((kb,Za)=>Aa[kb]-Aa[Za]);return ka}function cb(R,ka,Ka,kb){function Za(mb){return R(mb=0===arguments.length?new Date:new Date(+mb)),mb}Za.floor=function(mb){return R(mb=new Date(+mb)),mb};Za.ceil=function(mb){return R(mb=new Date(mb-1)),ka(mb,1),R(mb),mb};Za.round=function(mb){var Ra=Za(mb),Ob=Za.ceil(mb);return mb-Ra<Ob-mb?Ra:Ob};Za.offset=function(mb,Ra){return ka(mb=new Date(+mb),null==Ra?1:Math.floor(Ra)),mb};Za.range=
function(mb,Ra,Ob){var mc=[],Lc;mb=Za.ceil(mb);Ob=null==Ob?1:Math.floor(Ob);if(!(mb<Ra&&0<Ob))return mc;do mc.push(Lc=new Date(+mb)),ka(mb,Ob),R(mb);while(Lc<mb&&mb<Ra);return mc};Za.filter=function(mb){return cb(function(Ra){if(Ra>=Ra)for(;R(Ra),!mb(Ra);)Ra.setTime(Ra-1)},function(Ra,Ob){if(Ra>=Ra)if(0>Ob)for(;0>=++Ob;)for(;ka(Ra,-1),!mb(Ra););else for(;0<=--Ob;)for(;ka(Ra,1),!mb(Ra););})};Ka&&(Za.count=function(mb,Ra){bb.setTime(+mb);$a.setTime(+Ra);R(bb);R($a);return Math.floor(Ka(bb,$a))},Za.every=
function(mb){mb=Math.floor(mb);return isFinite(mb)&&0<mb?1<mb?Za.filter(kb?function(Ra){return 0===kb(Ra)%mb}:function(Ra){return 0===Za.count(0,Ra)%mb}):Za:null});return Za}function zb(R){return cb(function(ka){ka.setDate(ka.getDate()-(ka.getDay()+7-R)%7);ka.setHours(0,0,0,0)},function(ka,Ka){ka.setDate(ka.getDate()+7*Ka)},function(ka,Ka){return(Ka-ka-6E4*(Ka.getTimezoneOffset()-ka.getTimezoneOffset()))/Cb})}function Zb(R){return cb(function(ka){ka.setUTCDate(ka.getUTCDate()-(ka.getUTCDay()+7-R)%
7);ka.setUTCHours(0,0,0,0)},function(ka,Ka){ka.setUTCDate(ka.getUTCDate()+7*Ka)},function(ka,Ka){return(Ka-ka)/Cb})}function gc(R,ka){return null==R||null==ka?NaN:R<ka?-1:R>ka?1:R>=ka?0:NaN}function nc(R){function ka(mb,Ra,Ob=0,mc=mb.length){if(Ob<mc){if(0!==kb(Ra,Ra))return mc;do{const Lc=Ob+mc>>>1;0>Za(mb[Lc],Ra)?Ob=Lc+1:mc=Lc}while(Ob<mc)}return Ob}let Ka=R,kb=R,Za=R;2!==R.length&&(Ka=(mb,Ra)=>R(mb)-Ra,kb=gc,Za=(mb,Ra)=>gc(R(mb),Ra));return{left:ka,center:function(mb,Ra,Ob=0,mc=mb.length){mc=ka(mb,
Ra,Ob,mc-1);return mc>Ob&&Ka(mb[mc-1],Ra)>-Ka(mb[mc],Ra)?mc-1:mc},right:function(mb,Ra,Ob=0,mc=mb.length){if(Ob<mc){if(0!==kb(Ra,Ra))return mc;do{const Lc=Ob+mc>>>1;0>=Za(mb[Lc],Ra)?Ob=Lc+1:mc=Lc}while(Ob<mc)}return Ob}}}function Tb(R,ka,Ka){var kb=Math.abs(ka-R)/Math.max(0,Ka);Ka=Math.pow(10,Math.floor(Math.log(kb)/Math.LN10));kb/=Ka;kb>=Q?Ka*=10:kb>=y?Ka*=5:kb>=t&&(Ka*=2);return ka<R?-Ka:Ka}function Gb(R){H.setFullYear(R);H.setMonth(0);H.setDate(1);H.setHours(0,0,0,0);return H}function Db(R){return pb.count(Gb(R.getFullYear())-
1,R)}function fc(R){return ca.count(Gb(R.getFullYear())-1,R)}function Ba(R,ka,Ka,kb,Za,mb,Ra){return 0<=R&&100>R?(ka=new Date(-1,ka,Ka,kb,Za,mb,Ra),ka.setFullYear(R),ka):new Date(R,ka,Ka,kb,Za,mb,Ra)}function jb(R){const ka=Date.UTC(R.getUTCFullYear(),0,1);return ya.count(ka-1,R)}function yb(R){const ka=Date.UTC(R.getUTCFullYear(),0,1);return va.count(ka-1,R)}function Ab(R){H.setTime(Date.UTC(R,0,1));return H.getUTCDay()}function Pa(R,ka,Ka,kb,Za,mb,Ra){return 0<=R&&100>R?(R=new Date(Date.UTC(-1,
ka,Ka,kb,Za,mb,Ra)),R.setUTCFullYear(Ka.y),R):new Date(Date.UTC(R,ka,Ka,kb,Za,mb,Ra))}function Va(R,ka,Ka,kb,Za){const mb=ka||1,Ra=l.peek(R);ka=(Ea,ob,lb)=>{lb=lb||Ea;return Xa(Ka[lb],kb[lb],Ea===Ra&&mb,ob)};const Ob=new Date;R=l.toSet(R);const mc=R.year?ka("year"):l.constant(2012),Lc=R.month?ka("month"):R.quarter?ka("quarter"):l.zero,wc=R.week&&R.day?ka("day",1,"weekday"):R.week?ka("week",1):R.day?ka("day",1):R.date?ka("date",1):R.dayofyear?ka("dayofyear",1):l.one,tc=R.hours?ka("hours"):l.zero,jc=
R.minutes?ka("minutes"):l.zero,Sc=R.seconds?ka("seconds"):l.zero,Ta=R.milliseconds?ka("milliseconds"):l.zero;return function(Ea){Ob.setTime(+Ea);Ea=mc(Ob);return Za(Ea,Lc(Ob),wc(Ob,Ea),tc(Ob),jc(Ob),Sc(Ob),Ta(Ob))}}function Xa(R,ka,Ka,kb){const Za=1>=Ka?R:kb?(mb,Ra)=>kb+Ka*Math.floor((R(mb,Ra)-kb)/Ka):(mb,Ra)=>Ka*Math.floor(R(mb,Ra)/Ka);return ka?(mb,Ra)=>ka(Za(mb,Ra),Ra):Za}function Fa(R,ka,Ka){return ka+7*R-(Ka+6)%7}const pa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),
Aa=pa.reduce((R,ka,Ka)=>(R[ka]=1+Ka,R),{}),Ha={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var bb=new Date,$a=new Date,Ca=cb(function(){},function(R,ka){R.setTime(+R+ka)},function(R,ka){return ka-R});Ca.every=function(R){R=Math.floor(R);return isFinite(R)&&0<R?1<R?cb(function(ka){ka.setTime(Math.floor(ka/R)*R)},
function(ka,Ka){ka.setTime(+ka+Ka*R)},function(ka,Ka){return(Ka-ka)/R}):Ca:null};const Cb=6048E5;var xb=cb(function(R){R.setTime(R-R.getMilliseconds())},function(R,ka){R.setTime(+R+1E3*ka)},function(R,ka){return(ka-R)/1E3},function(R){return R.getUTCSeconds()}),Mb=cb(function(R){R.setTime(R-R.getMilliseconds()-1E3*R.getSeconds())},function(R,ka){R.setTime(+R+6E4*ka)},function(R,ka){return(ka-R)/6E4},function(R){return R.getMinutes()}),kc=cb(function(R){R.setTime(R-R.getMilliseconds()-1E3*R.getSeconds()-
6E4*R.getMinutes())},function(R,ka){R.setTime(+R+36E5*ka)},function(R,ka){return(ka-R)/36E5},function(R){return R.getHours()}),pb=cb(R=>R.setHours(0,0,0,0),(R,ka)=>R.setDate(R.getDate()+ka),(R,ka)=>(ka-R-6E4*(ka.getTimezoneOffset()-R.getTimezoneOffset()))/864E5,R=>R.getDate()-1),ca=zb(0);zb(1);zb(2);zb(3);zb(4);zb(5);zb(6);var O=cb(function(R){R.setDate(1);R.setHours(0,0,0,0)},function(R,ka){R.setMonth(R.getMonth()+ka)},function(R,ka){return ka.getMonth()-R.getMonth()+12*(ka.getFullYear()-R.getFullYear())},
function(R){return R.getMonth()}),oa=cb(function(R){R.setMonth(0,1);R.setHours(0,0,0,0)},function(R,ka){R.setFullYear(R.getFullYear()+ka)},function(R,ka){return ka.getFullYear()-R.getFullYear()},function(R){return R.getFullYear()});oa.every=function(R){return isFinite(R=Math.floor(R))&&0<R?cb(function(ka){ka.setFullYear(Math.floor(ka.getFullYear()/R)*R);ka.setMonth(0,1);ka.setHours(0,0,0,0)},function(ka,Ka){ka.setFullYear(ka.getFullYear()+Ka*R)}):null};var ra=cb(function(R){R.setUTCSeconds(0,0)},
function(R,ka){R.setTime(+R+6E4*ka)},function(R,ka){return(ka-R)/6E4},function(R){return R.getUTCMinutes()}),Oa=cb(function(R){R.setUTCMinutes(0,0,0)},function(R,ka){R.setTime(+R+36E5*ka)},function(R,ka){return(ka-R)/36E5},function(R){return R.getUTCHours()}),ya=cb(function(R){R.setUTCHours(0,0,0,0)},function(R,ka){R.setUTCDate(R.getUTCDate()+ka)},function(R,ka){return(ka-R)/864E5},function(R){return R.getUTCDate()-1}),va=Zb(0);Zb(1);Zb(2);Zb(3);Zb(4);Zb(5);Zb(6);var m=cb(function(R){R.setUTCDate(1);
R.setUTCHours(0,0,0,0)},function(R,ka){R.setUTCMonth(R.getUTCMonth()+ka)},function(R,ka){return ka.getUTCMonth()-R.getUTCMonth()+12*(ka.getUTCFullYear()-R.getUTCFullYear())},function(R){return R.getUTCMonth()}),G=cb(function(R){R.setUTCMonth(0,1);R.setUTCHours(0,0,0,0)},function(R,ka){R.setUTCFullYear(R.getUTCFullYear()+ka)},function(R,ka){return ka.getUTCFullYear()-R.getUTCFullYear()},function(R){return R.getUTCFullYear()});G.every=function(R){return isFinite(R=Math.floor(R))&&0<R?cb(function(ka){ka.setUTCFullYear(Math.floor(ka.getUTCFullYear()/
R)*R);ka.setUTCMonth(0,1);ka.setUTCHours(0,0,0,0)},function(ka,Ka){ka.setUTCFullYear(ka.getUTCFullYear()+Ka*R)}):null};var Q=Math.sqrt(50),y=Math.sqrt(10),t=Math.sqrt(2);const H=new Date,V={year:R=>R.getFullYear(),quarter:R=>Math.floor(R.getMonth()/3),month:R=>R.getMonth(),date:R=>R.getDate(),hours:R=>R.getHours(),minutes:R=>R.getMinutes(),seconds:R=>R.getSeconds(),milliseconds:R=>R.getMilliseconds(),dayofyear:R=>Db(R),week:R=>fc(R),weekday:(R,ka)=>Fa(fc(R),R.getDay(),Gb(ka).getDay()),day:(R,ka)=>
Fa(1,R.getDay(),Gb(ka).getDay())},E={quarter:R=>3*R,week:(R,ka)=>Fa(R,0,Gb(ka).getDay())},K={year:R=>R.getUTCFullYear(),quarter:R=>Math.floor(R.getUTCMonth()/3),month:R=>R.getUTCMonth(),date:R=>R.getUTCDate(),hours:R=>R.getUTCHours(),minutes:R=>R.getUTCMinutes(),seconds:R=>R.getUTCSeconds(),milliseconds:R=>R.getUTCMilliseconds(),dayofyear:R=>jb(R),week:R=>yb(R),day:(R,ka)=>Fa(1,R.getUTCDay(),Ab(ka)),weekday:(R,ka)=>Fa(yb(R),R.getUTCDay(),Ab(ka))},z={quarter:R=>3*R,week:(R,ka)=>Fa(R,0,Ab(ka))},L={year:oa,
quarter:O.every(3),month:O,week:ca,date:pb,day:pb,dayofyear:pb,hours:kc,minutes:Mb,seconds:xb,milliseconds:Ca},X={year:G,quarter:m.every(3),month:m,week:va,date:ya,day:ya,dayofyear:ya,hours:Oa,minutes:ra,seconds:xb,milliseconds:Ca};xb=6048E5;Mb=2592E6;const qa=31536E6,T="year month date hours minutes seconds milliseconds".split(" ");kc=T.slice(0,-1);O=kc.slice(0,-1);oa=O.slice(0,-1);ra=oa.slice(0,-1);Oa=["year","month"];const la=["year"],xa=[[kc,1,1E3],[kc,5,5E3],[kc,15,15E3],[kc,30,3E4],[O,1,6E4],
[O,5,3E5],[O,15,9E5],[O,30,18E5],[oa,1,36E5],[oa,3,108E5],[oa,6,216E5],[oa,12,432E5],[ra,1,864E5],[["year","week"],1,xb],[Oa,1,Mb],[Oa,3,3*Mb],[la,1,qa]];x.DATE="date";x.DAY="day";x.DAYOFYEAR="dayofyear";x.HOURS="hours";x.MILLISECONDS="milliseconds";x.MINUTES="minutes";x.MONTH="month";x.QUARTER="quarter";x.SECONDS="seconds";x.TIME_UNITS=pa;x.WEEK="week";x.YEAR="year";x.dayofyear=function(R){return Db(new Date(R))};x.timeBin=function(R){var ka=R.extent;R=R.maxbins||40;var Ka=Math.abs(l.span(ka))/R;
let kb=nc(Za=>Za[2]).right(xa,Ka);kb===xa.length?(Ka=la,ka=Tb(ka[0]/qa,ka[1]/qa,R)):kb?(kb=xa[Ka/xa[kb-1][2]<xa[kb][2]/Ka?kb-1:kb],Ka=kb[0],ka=kb[1]):(Ka=T,ka=Math.max(Tb(ka[0],ka[1],R),1));return{units:Ka,step:ka}};x.timeFloor=function(R,ka){return Va(R,ka||1,V,E,Ba)};x.timeInterval=function(R){return L[R]};x.timeOffset=function(R,ka,Ka){return(R=L[R])?R.offset(ka,Ka):void 0};x.timeSequence=function(R,ka,Ka,kb){return(R=L[R])?R.range(ka,Ka,kb):void 0};x.timeUnitSpecifier=function(R,ka){ka=l.extend({},
Ha,ka);R=M(R);const Ka=R.length;let kb="",Za,mb,Ra;for(Za=0;Za<Ka;)for(mb=R.length;mb>Za;--mb)if(Ra=R.slice(Za,mb).join("-"),null!=ka[Ra]){kb+=ka[Ra];Za=mb;break}return kb.trim()};x.timeUnits=M;x.utcFloor=function(R,ka){return Va(R,ka||1,K,z,Pa)};x.utcInterval=function(R){return X[R]};x.utcOffset=function(R,ka,Ka){return(R=X[R])?R.offset(ka,Ka):void 0};x.utcSequence=function(R,ka,Ka,kb){return(R=X[R])?R.range(ka,Ka,kb):void 0};x.utcdayofyear=function(R){return jb(new Date(R))};x.utcweek=function(R){return yb(new Date(R))};
x.week=function(R){return fc(new Date(R))};Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[23]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(22),vb(20)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega))})(this,function(x,l,M){function cb(ma){const Ga={};return sb=>Ga[sb]||(Ga[sb]=ma(sb))}function zb(ma,Ga){if(0>(Ga=(ma=Ga?ma.toExponential(Ga-1):ma.toExponential()).indexOf("e")))return null;var sb=ma.slice(0,Ga);
return[1<sb.length?sb[0]+sb.slice(2):sb,+ma.slice(Ga+1)]}function Zb(ma){return ma=zb(Math.abs(ma)),ma?ma[1]:NaN}function gc(ma,Ga){return function(sb,hc){for(var Uc=sb.length,Vc=[],rd=0,ad=ma[0],Nd=0;0<Uc&&0<ad;){Nd+ad+1>hc&&(ad=Math.max(1,hc-Nd));Vc.push(sb.substring(Uc-=ad,Uc+ad));if((Nd+=ad+1)>hc)break;ad=ma[rd=(rd+1)%ma.length]}return Vc.reverse().join(Ga)}}function nc(ma){return function(Ga){return Ga.replace(/[0-9]/g,function(sb){return ma[+sb]})}}function Tb(ma){if(!(Ga=qe.exec(ma)))throw Error("invalid format: "+
ma);var Ga;return new Gb({fill:Ga[1],align:Ga[2],sign:Ga[3],symbol:Ga[4],zero:Ga[5],width:Ga[6],comma:Ga[7],precision:Ga[8]&&Ga[8].slice(1),trim:Ga[9],type:Ga[10]})}function Gb(ma){this.fill=void 0===ma.fill?" ":ma.fill+"";this.align=void 0===ma.align?"\x3e":ma.align+"";this.sign=void 0===ma.sign?"-":ma.sign+"";this.symbol=void 0===ma.symbol?"":ma.symbol+"";this.zero=!!ma.zero;this.width=void 0===ma.width?void 0:+ma.width;this.comma=!!ma.comma;this.precision=void 0===ma.precision?void 0:+ma.precision;
this.trim=!!ma.trim;this.type=void 0===ma.type?"":ma.type+""}function Db(ma,Ga){Ga=zb(ma,Ga);if(!Ga)return ma+"";ma=Ga[0];Ga=Ga[1];return 0>Ga?"0."+Array(-Ga).join("0")+ma:ma.length>Ga+1?ma.slice(0,Ga+1)+"."+ma.slice(Ga+1):ma+Array(Ga-ma.length+2).join("0")}function fc(ma){return ma}function Ba(ma){function Ga(Rd){function fe(Rc){var jd=Re,Wc=ff,na,La;if("c"===Ee)Wc=jf(Rc)+Wc,Rc="";else{Rc=+Rc;var Ya=0>Rc||0>1/Rc;Rc=isNaN(Rc)?De:jf(Math.abs(Rc),Fd);if(be){var ub=Rc.length,n=1,J=-1;a:for(;n<ub;++n)switch(Rc[n]){case ".":J=
na=n;break;case "0":0===J&&(J=n);na=n;break;default:if(!+Rc[n])break a;0<J&&(J=0)}Rc=0<J?Rc.slice(0,J)+Rc.slice(na+1):Rc}Ya&&0===+Rc&&"+"!==Gd&&(Ya=!1);jd=(Ya?"("===Gd?Gd:Nd:"-"===Gd||"("===Gd?"":Gd)+jd;Wc=("s"===Ee?Qa[8+A/3]:"")+Wc+(Ya&&"("===Gd?")":"");if(gd)for(Ya=-1,na=Rc.length;++Ya<na;)if(La=Rc.charCodeAt(Ya),48>La||57<La){Wc=(46===La?Vc+Rc.slice(Ya+1):Rc.slice(Ya))+Wc;Rc=Rc.slice(0,Ya);break}}sd&&!qd&&(Rc=sb(Rc,Infinity));La=jd.length+Rc.length+Wc.length;Ya=La<fd?Array(fd-La+1).join(Ae):"";
sd&&qd&&(Rc=sb(Ya+Rc,Ya.length?fd-Wc.length:Infinity),Ya="");switch(Pc){case "\x3c":Rc=jd+Rc+Wc+Ya;break;case "\x3d":Rc=jd+Ya+Rc+Wc;break;case "^":Rc=Ya.slice(0,La=Ya.length>>1)+jd+Rc+Wc+Ya.slice(La);break;default:Rc=Ya+jd+Rc+Wc}return rd(Rc)}Rd=Tb(Rd);var Ae=Rd.fill,Pc=Rd.align,Gd=Rd.sign,cd=Rd.symbol,qd=Rd.zero,fd=Rd.width,sd=Rd.comma,Fd=Rd.precision,be=Rd.trim,Ee=Rd.type;"n"===Ee?(sd=!0,Ee="g"):W[Ee]||(void 0===Fd&&(Fd=12),be=!0,Ee="g");if(qd||"0"===Ae&&"\x3d"===Pc)qd=!0,Ae="0",Pc="\x3d";var Re=
"$"===cd?hc:"#"===cd&&/[boxX]/.test(Ee)?"0"+Ee.toLowerCase():"",ff="$"===cd?Uc:/[%p]/.test(Ee)?ad:"",jf=W[Ee],gd=/[defgprs%]/.test(Ee);Fd=void 0===Fd?6:/[gprs]/.test(Ee)?Math.max(1,Math.min(21,Fd)):Math.max(0,Math.min(20,Fd));fe.toString=function(){return Rd+""};return fe}var sb=void 0===ma.grouping||void 0===ma.thousands?fc:gc(ta.call(ma.grouping,Number),ma.thousands+""),hc=void 0===ma.currency?"":ma.currency[0]+"",Uc=void 0===ma.currency?"":ma.currency[1]+"",Vc=void 0===ma.decimal?".":ma.decimal+
"",rd=void 0===ma.numerals?fc:nc(ta.call(ma.numerals,String)),ad=void 0===ma.percent?"%":ma.percent+"",Nd=void 0===ma.minus?"":ma.minus+"",De=void 0===ma.nan?"NaN":ma.nan+"";return{format:Ga,formatPrefix:function(Rd,fe){var Ae=Ga((Rd=Tb(Rd),Rd.type="f",Rd));Rd=3*Math.max(-8,Math.min(8,Math.floor(Zb(fe)/3)));var Pc=Math.pow(10,-Rd),Gd=Qa[8+Rd/3];return function(cd){return Ae(Pc*cd)+Gd}}}}function jb(ma,Ga){return sb=>{sb=ma(sb);const hc=sb.indexOf(Ga);if(0>hc)return sb;a:{var Uc=sb.lastIndexOf("e");
if(!(0<Uc)){for(Uc=sb.length;--Uc>hc;){var Vc=sb.charCodeAt(Uc);if(48<=Vc&&57>=Vc){Uc+=1;break a}}Uc=void 0}}for(Vc=Uc<sb.length?sb.slice(Uc):"";--Uc>hc;)if("0"!==sb[Uc]){++Uc;break}return sb.slice(0,Uc)+Vc}}function yb(ma){const Ga=cb(ma.format),sb=ma.formatPrefix;return{format:Ga,formatPrefix:sb,formatFloat(hc){hc=Tb(hc||",");if(null==hc.precision){hc.precision=12;switch(hc.type){case "%":hc.precision-=2;break;case "e":--hc.precision}return jb(Ga(hc),Ga(".1f")(1)[1])}return Ga(hc)},formatSpan(hc,
Uc,Vc,rd){rd=Tb(null==rd?",f":rd);var ad=Math.abs(Uc-hc)/Math.max(0,Vc);Vc=Math.pow(10,Math.floor(Math.log(ad)/Math.LN10));ad/=Vc;ad>=Fe?Vc*=10:ad>=ve?Vc*=5:ad>=Sd&&(Vc*=2);Vc=Uc<hc?-Vc:Vc;hc=Math.max(Math.abs(hc),Math.abs(Uc));if(null==rd.precision)switch(rd.type){case "s":return Uc=isNaN,Vc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Zb(hc)/3)))-Zb(Math.abs(Vc))),Uc(Uc=Vc)||(rd.precision=Uc),sb(rd,hc);case "":case "e":case "g":case "p":case "r":Uc=isNaN;Vc=Math.abs(Vc);hc=Math.abs(hc)-Vc;hc=
Math.max(0,Zb(hc)-Zb(Vc))+1;Uc(Uc=hc)||(rd.precision=Uc-("e"===rd.type));break;case "f":case "%":isNaN(Uc=Math.max(0,-Zb(Math.abs(Vc))))||(rd.precision=Uc-2*("%"===rd.type))}return Ga(rd)}}}function Ab(){return Sb=yb({format:Bb,formatPrefix:ac})}function Pa(ma){return yb(Ba(ma))}function Va(ma){return arguments.length?Sb=Pa(ma):Sb}function Xa(ma,Ga,sb,hc){function Uc(Vc){return ma(Vc=0===arguments.length?new Date:new Date(+Vc)),Vc}Uc.floor=function(Vc){return ma(Vc=new Date(+Vc)),Vc};Uc.ceil=function(Vc){return ma(Vc=
new Date(Vc-1)),Ga(Vc,1),ma(Vc),Vc};Uc.round=function(Vc){var rd=Uc(Vc),ad=Uc.ceil(Vc);return Vc-rd<ad-Vc?rd:ad};Uc.offset=function(Vc,rd){return Ga(Vc=new Date(+Vc),null==rd?1:Math.floor(rd)),Vc};Uc.range=function(Vc,rd,ad){var Nd=[],De;Vc=Uc.ceil(Vc);ad=null==ad?1:Math.floor(ad);if(!(Vc<rd&&0<ad))return Nd;do Nd.push(De=new Date(+Vc)),Ga(Vc,ad),ma(Vc);while(De<Vc&&Vc<rd);return Nd};Uc.filter=function(Vc){return Xa(function(rd){if(rd>=rd)for(;ma(rd),!Vc(rd);)rd.setTime(rd-1)},function(rd,ad){if(rd>=
rd)if(0>ad)for(;0>=++ad;)for(;Ga(rd,-1),!Vc(rd););else for(;0<=--ad;)for(;Ga(rd,1),!Vc(rd););})};sb&&(Uc.count=function(Vc,rd){wb.setTime(+Vc);zc.setTime(+rd);ma(wb);ma(zc);return Math.floor(sb(wb,zc))},Uc.every=function(Vc){Vc=Math.floor(Vc);return isFinite(Vc)&&0<Vc?1<Vc?Uc.filter(hc?function(rd){return 0===hc(rd)%Vc}:function(rd){return 0===Uc.count(0,rd)%Vc}):Uc:null});return Uc}function Fa(ma){return Xa(function(Ga){Ga.setDate(Ga.getDate()-(Ga.getDay()+7-ma)%7);Ga.setHours(0,0,0,0)},function(Ga,
sb){Ga.setDate(Ga.getDate()+7*sb)},function(Ga,sb){return(sb-Ga-6E4*(sb.getTimezoneOffset()-Ga.getTimezoneOffset()))/6048E5})}function pa(ma){return Xa(function(Ga){Ga.setUTCDate(Ga.getUTCDate()-(Ga.getUTCDay()+7-ma)%7);Ga.setUTCHours(0,0,0,0)},function(Ga,sb){Ga.setUTCDate(Ga.getUTCDate()+7*sb)},function(Ga,sb){return(sb-Ga)/6048E5})}function Aa(ma){if(0<=ma.y&&100>ma.y){var Ga=new Date(-1,ma.m,ma.d,ma.H,ma.M,ma.S,ma.L);Ga.setFullYear(ma.y);return Ga}return new Date(ma.y,ma.m,ma.d,ma.H,ma.M,ma.S,
ma.L)}function Ha(ma){if(0<=ma.y&&100>ma.y){var Ga=new Date(Date.UTC(-1,ma.m,ma.d,ma.H,ma.M,ma.S,ma.L));Ga.setUTCFullYear(ma.y);return Ga}return new Date(Date.UTC(ma.y,ma.m,ma.d,ma.H,ma.M,ma.S,ma.L))}function bb(ma,Ga,sb){return{y:ma,m:Ga,d:sb,H:0,M:0,S:0,L:0}}function $a(ma){function Ga(gd,Rc){return function(jd){var Wc=[],na=-1,La=0,Ya=gd.length,ub,n;for(jd instanceof Date||(jd=new Date(+jd));++na<Ya;)if(37===gd.charCodeAt(na)){Wc.push(gd.slice(La,na));null!=(La=Ne[ub=gd.charAt(++na)])?ub=gd.charAt(++na):
La="e"===ub?" ":"0";if(n=Rc[ub])ub=n(jd,La);Wc.push(ub);La=na+1}Wc.push(gd.slice(La,na));return Wc.join("")}}function sb(gd,Rc){return function(jd){var Wc=bb(1900,void 0,1);if(hc(Wc,gd,jd+="",0)!=jd.length)return null;if("Q"in Wc)return new Date(Wc.Q);if("s"in Wc)return new Date(1E3*Wc.s+("L"in Wc?Wc.L:0));!Rc||"Z"in Wc||(Wc.Z=0);"p"in Wc&&(Wc.H=Wc.H%12+12*Wc.p);void 0===Wc.m&&(Wc.m="q"in Wc?Wc.q:0);if("V"in Wc){if(1>Wc.V||53<Wc.V)return null;"w"in Wc||(Wc.w=1);if("Z"in Wc){jd=Ha(bb(Wc.y,0,1));var na=
jd.getUTCDay();jd=4<na||0===na?Ud.ceil(jd):Ud(jd);jd=ke.offset(jd,7*(Wc.V-1));Wc.y=jd.getUTCFullYear();Wc.m=jd.getUTCMonth();Wc.d=jd.getUTCDate()+(Wc.w+6)%7}else jd=Aa(bb(Wc.y,0,1)),na=jd.getDay(),jd=4<na||0===na?bd.ceil(jd):bd(jd),jd=Ic.offset(jd,7*(Wc.V-1)),Wc.y=jd.getFullYear(),Wc.m=jd.getMonth(),Wc.d=jd.getDate()+(Wc.w+6)%7}else if("W"in Wc||"U"in Wc)"w"in Wc||(Wc.w="u"in Wc?Wc.u%7:"W"in Wc?1:0),na="Z"in Wc?Ha(bb(Wc.y,0,1)).getUTCDay():Aa(bb(Wc.y,0,1)).getDay(),Wc.m=0,Wc.d="W"in Wc?(Wc.w+6)%7+
7*Wc.W-(na+5)%7:Wc.w+7*Wc.U-(na+6)%7;return"Z"in Wc?(Wc.H+=Wc.Z/100|0,Wc.M+=Wc.Z%100,Ha(Wc)):Aa(Wc)}}function hc(gd,Rc,jd,Wc){for(var na=0,La=Rc.length,Ya=jd.length,ub;na<La;){if(Wc>=Ya)return-1;ub=Rc.charCodeAt(na++);if(37===ub){if(ub=Rc.charAt(na++),ub=jf[ub in Ne?Rc.charAt(na++):ub],!ub||0>(Wc=ub(gd,jd,Wc)))return-1}else if(ub!=jd.charCodeAt(Wc++))return-1}return Wc}var Uc=ma.dateTime,Vc=ma.date,rd=ma.time,ad=ma.periods,Nd=ma.days,De=ma.shortDays,Rd=ma.months,fe=ma.shortMonths,Ae=xb(ad),Pc=Mb(ad),
Gd=xb(Nd),cd=Mb(Nd),qd=xb(De),fd=Mb(De),sd=xb(Rd),Fd=Mb(Rd),be=xb(fe),Ee=Mb(fe),Re={a:function(gd){return De[gd.getDay()]},A:function(gd){return Nd[gd.getDay()]},b:function(gd){return fe[gd.getMonth()]},B:function(gd){return Rd[gd.getMonth()]},c:null,d:X,e:X,f:R,g:tc,G:Sc,H:qa,I:T,j:la,L:xa,m:ka,M:Ka,p:function(gd){return ad[+(12<=gd.getHours())]},q:function(gd){return 1+~~(gd.getMonth()/3)},Q:Dc,s:Fc,S:kb,u:Za,U:mb,V:Ob,w:mc,W:Lc,x:null,X:null,y:wc,Y:jc,Z:Ta,"%":qc},ff={a:function(gd){return De[gd.getUTCDay()]},
A:function(gd){return Nd[gd.getUTCDay()]},b:function(gd){return fe[gd.getUTCMonth()]},B:function(gd){return Rd[gd.getUTCMonth()]},c:null,d:Ea,e:Ea,f:Xb,g:fb,G:Vb,H:ob,I:lb,j:Fb,L:Wb,m:ic,M:xc,p:function(gd){return ad[+(12<=gd.getUTCHours())]},q:function(gd){return 1+~~(gd.getUTCMonth()/3)},Q:Dc,s:Fc,S:kd,u:B,U:w,V:aa,w:fa,W:za,x:null,X:null,y:eb,Y:ib,Z:oc,"%":qc},jf={a:function(gd,Rc,jd){return(Rc=qd.exec(Rc.slice(jd)))?(gd.w=fd.get(Rc[0].toLowerCase()),jd+Rc[0].length):-1},A:function(gd,Rc,jd){return(Rc=
Gd.exec(Rc.slice(jd)))?(gd.w=cd.get(Rc[0].toLowerCase()),jd+Rc[0].length):-1},b:function(gd,Rc,jd){return(Rc=be.exec(Rc.slice(jd)))?(gd.m=Ee.get(Rc[0].toLowerCase()),jd+Rc[0].length):-1},B:function(gd,Rc,jd){return(Rc=sd.exec(Rc.slice(jd)))?(gd.m=Fd.get(Rc[0].toLowerCase()),jd+Rc[0].length):-1},c:function(gd,Rc,jd){return hc(gd,Uc,Rc,jd)},d:G,e:G,f:E,g:Oa,G:ra,H:y,I:y,j:Q,L:V,m,M:t,p:function(gd,Rc,jd){return(Rc=Ae.exec(Rc.slice(jd)))?(gd.p=Pc.get(Rc[0].toLowerCase()),jd+Rc[0].length):-1},q:va,Q:z,
s:L,S:H,u:pb,U:ca,V:O,w:kc,W:oa,x:function(gd,Rc,jd){return hc(gd,Vc,Rc,jd)},X:function(gd,Rc,jd){return hc(gd,rd,Rc,jd)},y:Oa,Y:ra,Z:ya,"%":K};Re.x=Ga(Vc,Re);Re.X=Ga(rd,Re);Re.c=Ga(Uc,Re);ff.x=Ga(Vc,ff);ff.X=Ga(rd,ff);ff.c=Ga(Uc,ff);return{format:function(gd){var Rc=Ga(gd+="",Re);Rc.toString=function(){return gd};return Rc},parse:function(gd){var Rc=sb(gd+="",!1);Rc.toString=function(){return gd};return Rc},utcFormat:function(gd){var Rc=Ga(gd+="",ff);Rc.toString=function(){return gd};return Rc},
utcParse:function(gd){var Rc=sb(gd+="",!0);Rc.toString=function(){return gd};return Rc}}}function Ca(ma,Ga,sb){var hc=0>ma?"-":"";ma=(hc?-ma:ma)+"";var Uc=ma.length;return hc+(Uc<sb?Array(sb-Uc+1).join(Ga)+ma:ma)}function Cb(ma){return ma.replace(F,"\\$\x26")}function xb(ma){return new RegExp("^(?:"+ma.map(Cb).join("|")+")","i")}function Mb(ma){return new Map(ma.map((Ga,sb)=>[Ga.toLowerCase(),sb]))}function kc(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+1)))?(ma.w=+Ga[0],sb+Ga[0].length):-1}function pb(ma,
Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+1)))?(ma.u=+Ga[0],sb+Ga[0].length):-1}function ca(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+2)))?(ma.U=+Ga[0],sb+Ga[0].length):-1}function O(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+2)))?(ma.V=+Ga[0],sb+Ga[0].length):-1}function oa(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+2)))?(ma.W=+Ga[0],sb+Ga[0].length):-1}function ra(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+4)))?(ma.y=+Ga[0],sb+Ga[0].length):-1}function Oa(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,
sb+2)))?(ma.y=+Ga[0]+(68<+Ga[0]?1900:2E3),sb+Ga[0].length):-1}function ya(ma,Ga,sb){return(Ga=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Ga.slice(sb,sb+6)))?(ma.Z=Ga[1]?0:-(Ga[2]+(Ga[3]||"00")),sb+Ga[0].length):-1}function va(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+1)))?(ma.q=3*Ga[0]-3,sb+Ga[0].length):-1}function m(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+2)))?(ma.m=Ga[0]-1,sb+Ga[0].length):-1}function G(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+2)))?(ma.d=+Ga[0],sb+Ga[0].length):-1}function Q(ma,
Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+3)))?(ma.m=0,ma.d=+Ga[0],sb+Ga[0].length):-1}function y(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+2)))?(ma.H=+Ga[0],sb+Ga[0].length):-1}function t(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+2)))?(ma.M=+Ga[0],sb+Ga[0].length):-1}function H(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+2)))?(ma.S=+Ga[0],sb+Ga[0].length):-1}function V(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,sb+3)))?(ma.L=+Ga[0],sb+Ga[0].length):-1}function E(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb,
sb+6)))?(ma.L=Math.floor(Ga[0]/1E3),sb+Ga[0].length):-1}function K(ma,Ga,sb){return(ma=Se.exec(Ga.slice(sb,sb+1)))?sb+ma[0].length:-1}function z(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb)))?(ma.Q=+Ga[0],sb+Ga[0].length):-1}function L(ma,Ga,sb){return(Ga=ne.exec(Ga.slice(sb)))?(ma.s=+Ga[0],sb+Ga[0].length):-1}function X(ma,Ga){return Ca(ma.getDate(),Ga,2)}function qa(ma,Ga){return Ca(ma.getHours(),Ga,2)}function T(ma,Ga){return Ca(ma.getHours()%12||12,Ga,2)}function la(ma,Ga){return Ca(1+Ic.count(Wd(ma),
ma),Ga,3)}function xa(ma,Ga){return Ca(ma.getMilliseconds(),Ga,3)}function R(ma,Ga){return xa(ma,Ga)+"000"}function ka(ma,Ga){return Ca(ma.getMonth()+1,Ga,2)}function Ka(ma,Ga){return Ca(ma.getMinutes(),Ga,2)}function kb(ma,Ga){return Ca(ma.getSeconds(),Ga,2)}function Za(ma){ma=ma.getDay();return 0===ma?7:ma}function mb(ma,Ga){return Ca($c.count(Wd(ma)-1,ma),Ga,2)}function Ra(ma){var Ga=ma.getDay();return 4<=Ga||0===Ga?nd(ma):nd.ceil(ma)}function Ob(ma,Ga){ma=Ra(ma);return Ca(nd.count(Wd(ma),ma)+
(4===Wd(ma).getDay()),Ga,2)}function mc(ma){return ma.getDay()}function Lc(ma,Ga){return Ca(bd.count(Wd(ma)-1,ma),Ga,2)}function wc(ma,Ga){return Ca(ma.getFullYear()%100,Ga,2)}function tc(ma,Ga){ma=Ra(ma);return Ca(ma.getFullYear()%100,Ga,2)}function jc(ma,Ga){return Ca(ma.getFullYear()%1E4,Ga,4)}function Sc(ma,Ga){var sb=ma.getDay();ma=4<=sb||0===sb?nd(ma):nd.ceil(ma);return Ca(ma.getFullYear()%1E4,Ga,4)}function Ta(ma){ma=ma.getTimezoneOffset();return(0<ma?"-":(ma*=-1,"+"))+Ca(ma/60|0,"0",2)+Ca(ma%
60,"0",2)}function Ea(ma,Ga){return Ca(ma.getUTCDate(),Ga,2)}function ob(ma,Ga){return Ca(ma.getUTCHours(),Ga,2)}function lb(ma,Ga){return Ca(ma.getUTCHours()%12||12,Ga,2)}function Fb(ma,Ga){return Ca(1+ke.count(hf(ma),ma),Ga,3)}function Wb(ma,Ga){return Ca(ma.getUTCMilliseconds(),Ga,3)}function Xb(ma,Ga){return Wb(ma,Ga)+"000"}function ic(ma,Ga){return Ca(ma.getUTCMonth()+1,Ga,2)}function xc(ma,Ga){return Ca(ma.getUTCMinutes(),Ga,2)}function kd(ma,Ga){return Ca(ma.getUTCSeconds(),Ga,2)}function B(ma){ma=
ma.getUTCDay();return 0===ma?7:ma}function w(ma,Ga){return Ca(ce.count(hf(ma)-1,ma),Ga,2)}function C(ma){var Ga=ma.getUTCDay();return 4<=Ga||0===Ga?Ve(ma):Ve.ceil(ma)}function aa(ma,Ga){ma=C(ma);return Ca(Ve.count(hf(ma),ma)+(4===hf(ma).getUTCDay()),Ga,2)}function fa(ma){return ma.getUTCDay()}function za(ma,Ga){return Ca(Ud.count(hf(ma)-1,ma),Ga,2)}function eb(ma,Ga){return Ca(ma.getUTCFullYear()%100,Ga,2)}function fb(ma,Ga){ma=C(ma);return Ca(ma.getUTCFullYear()%100,Ga,2)}function ib(ma,Ga){return Ca(ma.getUTCFullYear()%
1E4,Ga,4)}function Vb(ma,Ga){var sb=ma.getUTCDay();ma=4<=sb||0===sb?Ve(ma):Ve.ceil(ma);return Ca(ma.getUTCFullYear()%1E4,Ga,4)}function oc(){return"+0000"}function qc(){return"%"}function Dc(ma){return+ma}function Fc(ma){return Math.floor(+ma/1E3)}function Zc(ma,Ga,sb){sb=sb||{};M.isObject(sb)||M.error(`Invalid time multi-format specifier: ${sb}`);const hc=Ga(l.SECONDS),Uc=Ga(l.MINUTES),Vc=Ga(l.HOURS),rd=Ga(l.DATE),ad=Ga(l.WEEK),Nd=Ga(l.MONTH),De=Ga(l.QUARTER),Rd=Ga(l.YEAR),fe=ma(sb[l.MILLISECONDS]||
".%L"),Ae=ma(sb[l.SECONDS]||":%S"),Pc=ma(sb[l.MINUTES]||"%I:%M"),Gd=ma(sb[l.HOURS]||"%I %p"),cd=ma(sb[l.DATE]||sb[l.DAY]||"%a %d"),qd=ma(sb[l.WEEK]||"%b %d"),fd=ma(sb[l.MONTH]||"%B"),sd=ma(sb[l.QUARTER]||"%B"),Fd=ma(sb[l.YEAR]||"%Y");return be=>(hc(be)<be?fe:Uc(be)<be?Ae:Vc(be)<be?Pc:rd(be)<be?Gd:Nd(be)<be?ad(be)<be?cd:qd:Rd(be)<be?De(be)<be?fd:sd:Fd)(be)}function xd(ma){const Ga=cb(ma.format),sb=cb(ma.utcFormat);return{timeFormat:hc=>M.isString(hc)?Ga(hc):Zc(Ga,l.timeInterval,hc),utcFormat:hc=>M.isString(hc)?
sb(hc):Zc(sb,l.utcInterval,hc),timeParse:cb(ma.parse),utcParse:cb(ma.utcParse)}}function Hd(){return Ib=xd({format:Da,parse:hb,utcFormat:Kb,utcParse:uc})}function Ad(ma){return xd($a(ma))}function Dd(ma){return arguments.length?Ib=Ad(ma):Ib}function ed(ma,Ga){var sb=arguments.length;sb&&2!==sb&&M.error("defaultLocale expects either zero or two arguments.");if(sb){sb=Va(ma);var hc=Dd(Ga);sb=M.extend({},sb,hc)}else sb=Va(),hc=Dd(),sb=M.extend({},sb,hc);return sb}var Fe=Math.sqrt(50),ve=Math.sqrt(10),
Sd=Math.sqrt(2),qe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Tb.prototype=Gb.prototype;Gb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var A,W={"%":(ma,Ga)=>(100*ma).toFixed(Ga),b:ma=>Math.round(ma).toString(2),c:ma=>ma+"",d:function(ma){return 1E21<=Math.abs(ma=
Math.round(ma))?ma.toLocaleString("en").replace(/,/g,""):ma.toString(10)},e:(ma,Ga)=>ma.toExponential(Ga),f:(ma,Ga)=>ma.toFixed(Ga),g:(ma,Ga)=>ma.toPrecision(Ga),o:ma=>Math.round(ma).toString(8),p:(ma,Ga)=>Db(100*ma,Ga),r:Db,s:function(ma,Ga){var sb=zb(ma,Ga);if(!sb)return ma+"";var hc=sb[0];sb=sb[1];sb=sb-(A=3*Math.max(-8,Math.min(8,Math.floor(sb/3))))+1;var Uc=hc.length;return sb===Uc?hc:sb>Uc?hc+Array(sb-Uc+1).join("0"):0<sb?hc.slice(0,sb)+"."+hc.slice(sb):"0."+Array(1-sb).join("0")+zb(ma,Math.max(0,
Ga+sb-1))[0]},X:ma=>Math.round(ma).toString(16).toUpperCase(),x:ma=>Math.round(ma).toString(16)},ta=Array.prototype.map,Qa="y z a f p n  m  k M G T P E Z Y".split(" "),qb,Bb,ac;(function(ma){qb=Ba(ma);Bb=qb.format;ac=qb.formatPrefix;return qb})({thousands:",",grouping:[3],currency:["$",""]});let Sb;Ab();var wb=new Date,zc=new Date,Ic=Xa(ma=>ma.setHours(0,0,0,0),(ma,Ga)=>ma.setDate(ma.getDate()+Ga),(ma,Ga)=>(Ga-ma-6E4*(Ga.getTimezoneOffset()-ma.getTimezoneOffset()))/864E5,ma=>ma.getDate()-1),$c=Fa(0),
bd=Fa(1);Fa(2);Fa(3);var nd=Fa(4);Fa(5);Fa(6);var Ed=Xa(function(ma){ma.setMonth(0,1);ma.setHours(0,0,0,0)},function(ma,Ga){ma.setFullYear(ma.getFullYear()+Ga)},function(ma,Ga){return Ga.getFullYear()-ma.getFullYear()},function(ma){return ma.getFullYear()});Ed.every=function(ma){return isFinite(ma=Math.floor(ma))&&0<ma?Xa(function(Ga){Ga.setFullYear(Math.floor(Ga.getFullYear()/ma)*ma);Ga.setMonth(0,1);Ga.setHours(0,0,0,0)},function(Ga,sb){Ga.setFullYear(Ga.getFullYear()+sb*ma)}):null};var Wd=Ed,ke=
Xa(function(ma){ma.setUTCHours(0,0,0,0)},function(ma,Ga){ma.setUTCDate(ma.getUTCDate()+Ga)},function(ma,Ga){return(Ga-ma)/864E5},function(ma){return ma.getUTCDate()-1}),ce=pa(0),Ud=pa(1);pa(2);pa(3);var Ve=pa(4);pa(5);pa(6);var Pe=Xa(function(ma){ma.setUTCMonth(0,1);ma.setUTCHours(0,0,0,0)},function(ma,Ga){ma.setUTCFullYear(ma.getUTCFullYear()+Ga)},function(ma,Ga){return Ga.getUTCFullYear()-ma.getUTCFullYear()},function(ma){return ma.getUTCFullYear()});Pe.every=function(ma){return isFinite(ma=Math.floor(ma))&&
0<ma?Xa(function(Ga){Ga.setUTCFullYear(Math.floor(Ga.getUTCFullYear()/ma)*ma);Ga.setUTCMonth(0,1);Ga.setUTCHours(0,0,0,0)},function(Ga,sb){Ga.setUTCFullYear(Ga.getUTCFullYear()+sb*ma)}):null};var hf=Pe,Ne={"-":"",_:" ",0:"0"},ne=/^\s*\d+/,Se=/^%/,F=/[\\^$*+?|[\]().{}]/g,Z,Da,hb,Kb,uc;(function(ma){Z=$a(ma);Da=Z.format;hb=Z.parse;Kb=Z.utcFormat;uc=Z.utcParse;return Z})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let Ib;Hd();x.defaultLocale=ed;x.locale=function(ma,Ga){ma=ma?Pa(ma):Va();Ga=Ga?Ad(Ga):Dd();return M.extend({},ma,Ga)};x.numberFormatDefaultLocale=Va;x.numberFormatLocale=Pa;x.resetDefaultLocale=function(){Ab();Hd();return ed()};x.resetNumberFormatDefaultLocale=Ab;x.resetTimeFormatDefaultLocale=
Hd;x.timeFormatDefaultLocale=Dd;x.timeFormatLocale=Ad;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[24]=function(Hb,vb,Ac,ab){function x(zb){var Zb=zb.length;if(0<Zb%4)throw Error("Invalid string. Length must be a multiple of 4");zb=zb.indexOf("\x3d");-1===zb&&(zb=Zb);return[zb,zb===Zb?0:4-zb%4]}ab.byteLength=function(zb){zb=x(zb);var Zb=zb[1];return 3*(zb[0]+Zb)/4-Zb};ab.toByteArray=function(zb){var Zb=x(zb);var gc=Zb[0];Zb=Zb[1];var nc=new cb(3*(gc+Zb)/4-Zb),Tb=0,Gb=0<Zb?gc-4:gc,Db;for(Db=0;Db<Gb;Db+=4)gc=M[zb.charCodeAt(Db)]<<18|M[zb.charCodeAt(Db+1)]<<12|M[zb.charCodeAt(Db+2)]<<
6|M[zb.charCodeAt(Db+3)],nc[Tb++]=gc>>16&255,nc[Tb++]=gc>>8&255,nc[Tb++]=gc&255;2===Zb&&(gc=M[zb.charCodeAt(Db)]<<2|M[zb.charCodeAt(Db+1)]>>4,nc[Tb++]=gc&255);1===Zb&&(gc=M[zb.charCodeAt(Db)]<<10|M[zb.charCodeAt(Db+1)]<<4|M[zb.charCodeAt(Db+2)]>>2,nc[Tb++]=gc>>8&255,nc[Tb++]=gc&255);return nc};ab.fromByteArray=function(zb){for(var Zb=zb.length,gc=Zb%3,nc=[],Tb=0,Gb=Zb-gc;Tb<Gb;Tb+=16383){for(var Db=nc,fc=Db.push,Ba,jb=zb,yb=Tb+16383>Gb?Gb:Tb+16383,Ab=[],Pa=Tb;Pa<yb;Pa+=3)Ba=(jb[Pa]<<16&16711680)+
(jb[Pa+1]<<8&65280)+(jb[Pa+2]&255),Ab.push(l[Ba>>18&63]+l[Ba>>12&63]+l[Ba>>6&63]+l[Ba&63]);Ba=Ab.join("");fc.call(Db,Ba)}1===gc?(zb=zb[Zb-1],nc.push(l[zb>>2]+l[zb<<4&63]+"\x3d\x3d")):2===gc&&(zb=(zb[Zb-2]<<8)+zb[Zb-1],nc.push(l[zb>>10]+l[zb>>4&63]+l[zb<<2&63]+"\x3d"));return nc.join("")};var l=[],M=[],cb="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Hb=0;64>Hb;++Hb)l[Hb]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Hb],M["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Hb)]=
Hb;M[45]=62;M[95]=63};
shadow$provide[25]=function(Hb,vb,Ac,ab){ab.read=function(x,l,M,cb,zb){var Zb=8*zb-cb-1;var gc=(1<<Zb)-1,nc=gc>>1,Tb=-7;zb=M?zb-1:0;var Gb=M?-1:1,Db=x[l+zb];zb+=Gb;M=Db&(1<<-Tb)-1;Db>>=-Tb;for(Tb+=Zb;0<Tb;M=256*M+x[l+zb],zb+=Gb,Tb-=8);Zb=M&(1<<-Tb)-1;M>>=-Tb;for(Tb+=cb;0<Tb;Zb=256*Zb+x[l+zb],zb+=Gb,Tb-=8);if(0===M)M=1-nc;else{if(M===gc)return Zb?NaN:Infinity*(Db?-1:1);Zb+=Math.pow(2,cb);M-=nc}return(Db?-1:1)*Zb*Math.pow(2,M-cb)};ab.write=function(x,l,M,cb,zb,Zb){var gc,nc=8*Zb-zb-1,Tb=(1<<nc)-1,Gb=
Tb>>1,Db=23===zb?Math.pow(2,-24)-Math.pow(2,-77):0;Zb=cb?0:Zb-1;var fc=cb?1:-1,Ba=0>l||0===l&&0>1/l?1:0;l=Math.abs(l);isNaN(l)||Infinity===l?(l=isNaN(l)?1:0,cb=Tb):(cb=Math.floor(Math.log(l)/Math.LN2),1>l*(gc=Math.pow(2,-cb))&&(cb--,gc*=2),l=1<=cb+Gb?l+Db/gc:l+Db*Math.pow(2,1-Gb),2<=l*gc&&(cb++,gc/=2),cb+Gb>=Tb?(l=0,cb=Tb):1<=cb+Gb?(l=(l*gc-1)*Math.pow(2,zb),cb+=Gb):(l=l*Math.pow(2,Gb-1)*Math.pow(2,zb),cb=0));for(;8<=zb;x[M+Zb]=l&255,Zb+=fc,l/=256,zb-=8);cb=cb<<zb|l;for(nc+=zb;0<nc;x[M+Zb]=cb&255,
Zb+=fc,cb/=256,nc-=8);x[M+Zb-fc]|=128*Ba}};
shadow$provide[26]=function(Hb,vb,Ac,ab){function x(m){if(2147483647<m)throw new RangeError('The value "'+m+'" is invalid for option "size"');m=new Uint8Array(m);Object.setPrototypeOf(m,l.prototype);return m}function l(m,G,Q){if("number"===typeof m){if("string"===typeof G)throw new TypeError('The "string" argument must be of type string. Received type number');return zb(m)}return M(m,G,Q)}function M(m,G,Q){if("string"===typeof m){var y=G;if("string"!==typeof y||""===y)y="utf8";if(!l.isEncoding(y))throw new TypeError("Unknown encoding: "+
y);G=Gb(m,y)|0;Q=x(G);m=Q.write(m,y);m!==G&&(Q=Q.slice(0,m));return Q}if(ArrayBuffer.isView(m))return pb(m,Uint8Array)?(m=new Uint8Array(m),m=gc(m.buffer,m.byteOffset,m.byteLength)):m=Zb(m),m;if(null==m)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(pb(m,ArrayBuffer)||m&&pb(m.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(pb(m,SharedArrayBuffer)||m&&pb(m.buffer,SharedArrayBuffer)))return gc(m,
G,Q);if("number"===typeof m)throw new TypeError('The "value" argument must not be of type number. Received type number');y=m.valueOf&&m.valueOf();if(null!=y&&y!==m)return l.from(y,G,Q);if(y=nc(m))return y;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof m[Symbol.toPrimitive])return l.from(m[Symbol.toPrimitive]("string"),G,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);}
function cb(m){if("number"!==typeof m)throw new TypeError('"size" argument must be of type number');if(0>m)throw new RangeError('The value "'+m+'" is invalid for option "size"');}function zb(m){cb(m);return x(0>m?0:Tb(m)|0)}function Zb(m){const G=0>m.length?0:Tb(m.length)|0,Q=x(G);for(let y=0;y<G;y+=1)Q[y]=m[y]&255;return Q}function gc(m,G,Q){if(0>G||m.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<G+(Q||0))throw new RangeError('"length" is outside of buffer bounds');
m=void 0===G&&void 0===Q?new Uint8Array(m):void 0===Q?new Uint8Array(m,G):new Uint8Array(m,G,Q);Object.setPrototypeOf(m,l.prototype);return m}function nc(m){if(l.isBuffer(m)){var G=Tb(m.length)|0;const Q=x(G);if(0===Q.length)return Q;m.copy(Q,0,0,G);return Q}if(void 0!==m.length)return(G="number"!==typeof m.length)||(G=m.length,G=G!==G),G?x(0):Zb(m);if("Buffer"===m.type&&Array.isArray(m.data))return Zb(m.data)}function Tb(m){if(2147483647<=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return m|0}function Gb(m,G){if(l.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||pb(m,ArrayBuffer))return m.byteLength;if("string"!==typeof m)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);const Q=m.length,y=2<arguments.length&&!0===arguments[2];if(!y&&0===Q)return 0;let t=!1;for(;;)switch(G){case "ascii":case "latin1":case "binary":return Q;case "utf8":case "utf-8":return xb(m).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*Q;case "hex":return Q>>>1;case "base64":return Mb(m).length;default:if(t)return y?-1:xb(m).length;G=(""+G).toLowerCase();t=!0}}function Db(m,G,Q){let y=!1;if(void 0===G||0>G)G=0;if(G>this.length)return"";if(void 0===Q||Q>this.length)Q=this.length;if(0>=Q)return"";Q>>>=0;G>>>=0;if(Q<=G)return"";for(m||(m="utf8");;)switch(m){case "hex":m=G;G=this.length;if(!m||0>m)m=0;if(!Q||0>Q||Q>G)Q=G;for(G="";m<Q;++m)G+=va[this[m]];return G;case "utf8":case "utf-8":return yb(this,
G,Q);case "ascii":m=G;G="";for(Q=Math.min(this.length,Q);m<Q;++m)G+=String.fromCharCode(this[m]&127);return G;case "latin1":case "binary":m=G;G="";for(Q=Math.min(this.length,Q);m<Q;++m)G+=String.fromCharCode(this[m]);return G;case "base64":return m=G,Q=0===m&&Q===this.length?oa.fromByteArray(this):oa.fromByteArray(this.slice(m,Q)),Q;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":Q=this.slice(G,Q);m="";for(G=0;G<Q.length-1;G+=2)m+=String.fromCharCode(Q[G]+256*Q[G+1]);return m;default:if(y)throw new TypeError("Unknown encoding: "+
m);m=(m+"").toLowerCase();y=!0}}function fc(m,G,Q){const y=m[G];m[G]=m[Q];m[Q]=y}function Ba(m,G,Q,y,t){if(0===m.length)return-1;"string"===typeof Q?(y=Q,Q=0):2147483647<Q?Q=2147483647:-2147483648>Q&&(Q=-2147483648);Q=+Q;Q!==Q&&(Q=t?0:m.length-1);0>Q&&(Q=m.length+Q);if(Q>=m.length){if(t)return-1;Q=m.length-1}else if(0>Q)if(t)Q=0;else return-1;"string"===typeof G&&(G=l.from(G,y));if(l.isBuffer(G))return 0===G.length?-1:jb(m,G,Q,y,t);if("number"===typeof G)return G&=255,"function"===typeof Uint8Array.prototype.indexOf?
t?Uint8Array.prototype.indexOf.call(m,G,Q):Uint8Array.prototype.lastIndexOf.call(m,G,Q):jb(m,[G],Q,y,t);throw new TypeError("val must be string, number or Buffer");}function jb(m,G,Q,y,t){function H(z,L){return 1===V?z[L]:z.readUInt16BE(L*V)}let V=1;var E=m.length;let K=G.length;if(void 0!==y&&(y=String(y).toLowerCase(),"ucs2"===y||"ucs-2"===y||"utf16le"===y||"utf-16le"===y)){if(2>m.length||2>G.length)return-1;V=2;E/=2;K/=2;Q/=2}if(t)for(y=-1;Q<E;Q++)if(H(m,Q)===H(G,-1===y?0:Q-y)){if(-1===y&&(y=Q),
Q-y+1===K)return y*V}else-1!==y&&(Q-=Q-y),y=-1;else for(Q+K>E&&(Q=E-K);0<=Q;Q--){E=!0;for(y=0;y<K;y++)if(H(m,Q+y)!==H(G,y)){E=!1;break}if(E)return Q}return-1}function yb(m,G,Q){Q=Math.min(m.length,Q);for(var y=[];G<Q;){var t=m[G];let H=null,V=239<t?4:223<t?3:191<t?2:1;if(G+V<=Q){let E,K,z;switch(V){case 1:128>t&&(H=t);break;case 2:E=m[G+1];128===(E&192)&&(t=(t&31)<<6|E&63,127<t&&(H=t));break;case 3:E=m[G+1];K=m[G+2];128===(E&192)&&128===(K&192)&&(t=(t&15)<<12|(E&63)<<6|K&63,2047<t&&(55296>t||57343<
t)&&(H=t));break;case 4:E=m[G+1],K=m[G+2],z=m[G+3],128===(E&192)&&128===(K&192)&&128===(z&192)&&(t=(t&15)<<18|(E&63)<<12|(K&63)<<6|z&63,65535<t&&1114112>t&&(H=t))}}null===H?(H=65533,V=1):65535<H&&(H-=65536,y.push(H>>>10&1023|55296),H=56320|H&1023);y.push(H);G+=V}G=y.length;if(4096>=G)y=String.fromCharCode.apply(String,y);else{m="";for(Q=0;Q<G;)m+=String.fromCharCode.apply(String,y.slice(Q,Q+=4096));y=m}return y}function Ab(m,G,Q){if(0!==m%1||0>m)throw new RangeError("offset is not uint");if(m+G>Q)throw new RangeError("Trying to access beyond buffer length");
}function Pa(m,G,Q,y,t,H){if(!l.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>t||G<H)throw new RangeError('"value" argument is out of bounds');if(Q+y>m.length)throw new RangeError("Index out of range");}function Va(m,G,Q,y,t){$a(G,y,t,m,Q,7);y=Number(G&BigInt(4294967295));m[Q++]=y;y>>=8;m[Q++]=y;y>>=8;m[Q++]=y;m[Q++]=y>>8;G=Number(G>>BigInt(32)&BigInt(4294967295));m[Q++]=G;G>>=8;m[Q++]=G;G>>=8;m[Q++]=G;m[Q++]=G>>8;return Q}function Xa(m,G,Q,y,t){$a(G,y,t,m,Q,
7);y=Number(G&BigInt(4294967295));m[Q+7]=y;y>>=8;m[Q+6]=y;y>>=8;m[Q+5]=y;m[Q+4]=y>>8;G=Number(G>>BigInt(32)&BigInt(4294967295));m[Q+3]=G;G>>=8;m[Q+2]=G;G>>=8;m[Q+1]=G;m[Q]=G>>8;return Q+8}function Fa(m,G,Q,y,t,H){if(Q+y>m.length)throw new RangeError("Index out of range");if(0>Q)throw new RangeError("Index out of range");}function pa(m,G,Q,y,t){G=+G;Q>>>=0;t||Fa(m,G,Q,4,3.4028234663852886E38,-3.4028234663852886E38);ra.write(m,G,Q,y,23,4);return Q+4}function Aa(m,G,Q,y,t){G=+G;Q>>>=0;t||Fa(m,G,Q,8,
1.7976931348623157E308,-1.7976931348623157E308);ra.write(m,G,Q,y,52,8);return Q+8}function Ha(m,G,Q){Oa[m]=class extends Q{constructor(){super();Object.defineProperty(this,"message",{value:G.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${m}]`;this.stack;delete this.name}get code(){return m}set code(y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:y,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}function bb(m){let G=
"",Q=m.length;const y="-"===m[0]?1:0;for(;Q>=y+4;Q-=3)G=`_${m.slice(Q-3,Q)}${G}`;return`${m.slice(0,Q)}${G}`}function $a(m,G,Q,y,t,H){if(m>Q||m<G)throw y="bigint"===typeof G?"n":"",new Oa.ERR_OUT_OF_RANGE("value",3<H?0===G||G===BigInt(0)?`>= 0${y} and < 2${y} ** ${8*(H+1)}${y}`:`>= -(2${y} ** ${8*(H+1)-1}${y}) and < 2 ** `+`${8*(H+1)-1}${y}`:`>= ${G}${y} and <= ${Q}${y}`,m);Ca(t,"offset");void 0!==y[t]&&void 0!==y[t+H]||Cb(t,y.length-(H+1))}function Ca(m,G){if("number"!==typeof m)throw new Oa.ERR_INVALID_ARG_TYPE(G,
"number",m);}function Cb(m,G,Q){if(Math.floor(m)!==m)throw Ca(m,Q),new Oa.ERR_OUT_OF_RANGE(Q||"offset","an integer",m);if(0>G)throw new Oa.ERR_BUFFER_OUT_OF_BOUNDS;throw new Oa.ERR_OUT_OF_RANGE(Q||"offset",`>= ${Q?1:0} and <= ${G}`,m);}function xb(m,G){G=G||Infinity;let Q;const y=m.length;let t=null;const H=[];for(let V=0;V<y;++V){Q=m.charCodeAt(V);if(55295<Q&&57344>Q){if(!t){if(56319<Q){-1<(G-=3)&&H.push(239,191,189);continue}else if(V+1===y){-1<(G-=3)&&H.push(239,191,189);continue}t=Q;continue}if(56320>
Q){-1<(G-=3)&&H.push(239,191,189);t=Q;continue}Q=(t-55296<<10|Q-56320)+65536}else t&&-1<(G-=3)&&H.push(239,191,189);t=null;if(128>Q){if(0>--G)break;H.push(Q)}else if(2048>Q){if(0>(G-=2))break;H.push(Q>>6|192,Q&63|128)}else if(65536>Q){if(0>(G-=3))break;H.push(Q>>12|224,Q>>6&63|128,Q&63|128)}else if(1114112>Q){if(0>(G-=4))break;H.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,Q&63|128)}else throw Error("Invalid code point");}return H}function Mb(m){var G=oa,Q=G.toByteArray;m=m.split("\x3d")[0];m=m.trim().replace(ya,
"");if(2>m.length)m="";else for(;0!==m.length%4;)m+="\x3d";return Q.call(G,m)}function kc(m,G,Q,y){let t;for(t=0;t<y&&!(t+Q>=G.length||t>=m.length);++t)G[t+Q]=m[t];return t}function pb(m,G){return m instanceof G||null!=m&&null!=m.constructor&&null!=m.constructor.name&&m.constructor.name===G.name}function ca(m){return"undefined"===typeof BigInt?O:m}function O(){throw Error("BigInt not supported");}const oa=vb(24),ra=vb(25);Hb="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;ab.Buffer=l;ab.SlowBuffer=function(m){+m!=m&&(m=0);return l.alloc(+m)};ab.INSPECT_MAX_BYTES=50;ab.kMaxLength=2147483647;l.TYPED_ARRAY_SUPPORT=function(){try{const m=new Uint8Array(1),G={foo:function(){return 42}};Object.setPrototypeOf(G,Uint8Array.prototype);Object.setPrototypeOf(m,G);return 42===m.foo()}catch(m){return!1}}();l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}});Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});l.poolSize=8192;l.from=function(m,G,Q){return M(m,G,Q)};Object.setPrototypeOf(l.prototype,Uint8Array.prototype);Object.setPrototypeOf(l,Uint8Array);l.alloc=function(m,G,Q){cb(m);m=0>=m?x(m):void 0!==G?"string"===typeof Q?x(m).fill(G,Q):x(m).fill(G):x(m);return m};l.allocUnsafe=
function(m){return zb(m)};l.allocUnsafeSlow=function(m){return zb(m)};l.isBuffer=function(m){return null!=m&&!0===m._isBuffer&&m!==l.prototype};l.compare=function(m,G){pb(m,Uint8Array)&&(m=l.from(m,m.offset,m.byteLength));pb(G,Uint8Array)&&(G=l.from(G,G.offset,G.byteLength));if(!l.isBuffer(m)||!l.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===G)return 0;let Q=m.length,y=G.length;for(let t=0,H=Math.min(Q,y);t<H;++t)if(m[t]!==G[t]){Q=
m[t];y=G[t];break}return Q<y?-1:y<Q?1:0};l.isEncoding=function(m){switch(String(m).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};l.concat=function(m,G){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(0===m.length)return l.alloc(0);let Q;if(void 0===G)for(Q=G=0;Q<m.length;++Q)G+=m[Q].length;G=l.allocUnsafe(G);let y=
0;for(Q=0;Q<m.length;++Q){let t=m[Q];if(pb(t,Uint8Array))y+t.length>G.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(G,y)):Uint8Array.prototype.set.call(G,t,y);else if(l.isBuffer(t))t.copy(G,y);else throw new TypeError('"list" argument must be an Array of Buffers');y+=t.length}return G};l.byteLength=Gb;l.prototype._isBuffer=!0;l.prototype.swap16=function(){const m=this.length;if(0!==m%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let G=0;G<m;G+=2)fc(this,G,G+1);return this};
l.prototype.swap32=function(){const m=this.length;if(0!==m%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let G=0;G<m;G+=4)fc(this,G,G+3),fc(this,G+1,G+2);return this};l.prototype.swap64=function(){const m=this.length;if(0!==m%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let G=0;G<m;G+=8)fc(this,G,G+7),fc(this,G+1,G+6),fc(this,G+2,G+5),fc(this,G+3,G+4);return this};l.prototype.toString=function(){const m=this.length;return 0===m?"":0===arguments.length?
yb(this,0,m):Db.apply(this,arguments)};l.prototype.toLocaleString=l.prototype.toString;l.prototype.equals=function(m){if(!l.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:0===l.compare(this,m)};l.prototype.inspect=function(){let m;const G=ab.INSPECT_MAX_BYTES;m=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim();this.length>G&&(m+=" ... ");return"\x3cBuffer "+m+"\x3e"};Hb&&(l.prototype[Hb]=l.prototype.inspect);l.prototype.compare=function(m,G,Q,y,t){pb(m,Uint8Array)&&
(m=l.from(m,m.offset,m.byteLength));if(!l.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);void 0===G&&(G=0);void 0===Q&&(Q=m?m.length:0);void 0===y&&(y=0);void 0===t&&(t=this.length);if(0>G||Q>m.length||0>y||t>this.length)throw new RangeError("out of range index");if(y>=t&&G>=Q)return 0;if(y>=t)return-1;if(G>=Q)return 1;G>>>=0;Q>>>=0;y>>>=0;t>>>=0;if(this===m)return 0;let H=t-y,V=Q-G;const E=Math.min(H,V);y=this.slice(y,t);
m=m.slice(G,Q);for(G=0;G<E;++G)if(y[G]!==m[G]){H=y[G];V=m[G];break}return H<V?-1:V<H?1:0};l.prototype.includes=function(m,G,Q){return-1!==this.indexOf(m,G,Q)};l.prototype.indexOf=function(m,G,Q){return Ba(this,m,G,Q,!0)};l.prototype.lastIndexOf=function(m,G,Q){return Ba(this,m,G,Q,!1)};l.prototype.write=function(m,G,Q,y){if(void 0===G)y="utf8",Q=this.length,G=0;else if(void 0===Q&&"string"===typeof G)y=G,Q=this.length,G=0;else if(isFinite(G))G>>>=0,isFinite(Q)?(Q>>>=0,void 0===y&&(y="utf8")):(y=Q,
Q=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var t=this.length-G;if(void 0===Q||Q>t)Q=t;if(0<m.length&&(0>Q||0>G)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");for(t=!1;;)switch(y){case "hex":a:{G=Number(G)||0;y=this.length-G;Q?(Q=Number(Q),Q>y&&(Q=y)):Q=y;y=m.length;Q>y/2&&(Q=y/2);for(y=0;y<Q;++y){t=parseInt(m.substr(2*y,2),16);if(t!==t){m=y;break a}this[G+y]=t}m=y}return m;case "utf8":case "utf-8":return kc(xb(m,
this.length-G),this,G,Q);case "ascii":case "latin1":case "binary":y=[];for(t=0;t<m.length;++t)y.push(m.charCodeAt(t)&255);return kc(y,this,G,Q);case "base64":return kc(Mb(m),this,G,Q);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var H=void 0;y=this.length-G;const V=[];for(let E=0;E<m.length&&!(0>(y-=2));++E)H=m.charCodeAt(E),t=H>>8,H%=256,V.push(H),V.push(t);return kc(V,this,G,Q);default:if(t)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase();t=!0}};l.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};l.prototype.slice=function(m,G){const Q=this.length;m=~~m;G=void 0===G?Q:~~G;0>m?(m+=Q,0>m&&(m=0)):m>Q&&(m=Q);0>G?(G+=Q,0>G&&(G=0)):G>Q&&(G=Q);G<m&&(G=m);m=this.subarray(m,G);Object.setPrototypeOf(m,l.prototype);return m};l.prototype.readUintLE=l.prototype.readUIntLE=function(m,G,Q){m>>>=0;G>>>=0;Q||Ab(m,G,this.length);Q=this[m];let y=1,t=0;for(;++t<G&&(y*=256);)Q+=this[m+t]*y;return Q};l.prototype.readUintBE=l.prototype.readUIntBE=function(m,G,
Q){m>>>=0;G>>>=0;Q||Ab(m,G,this.length);Q=this[m+--G];let y=1;for(;0<G&&(y*=256);)Q+=this[m+--G]*y;return Q};l.prototype.readUint8=l.prototype.readUInt8=function(m,G){m>>>=0;G||Ab(m,1,this.length);return this[m]};l.prototype.readUint16LE=l.prototype.readUInt16LE=function(m,G){m>>>=0;G||Ab(m,2,this.length);return this[m]|this[m+1]<<8};l.prototype.readUint16BE=l.prototype.readUInt16BE=function(m,G){m>>>=0;G||Ab(m,2,this.length);return this[m]<<8|this[m+1]};l.prototype.readUint32LE=l.prototype.readUInt32LE=
function(m,G){m>>>=0;G||Ab(m,4,this.length);return(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]};l.prototype.readUint32BE=l.prototype.readUInt32BE=function(m,G){m>>>=0;G||Ab(m,4,this.length);return 16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])};l.prototype.readBigUInt64LE=ca(function(m){m>>>=0;Ca(m,"offset");var G=this[m];const Q=this[m+7];void 0!==G&&void 0!==Q||Cb(m,this.length-8);G=G+this[++m]*Math.pow(2,8)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,24);m=this[++m]+this[++m]*
Math.pow(2,8)+this[++m]*Math.pow(2,16)+Q*Math.pow(2,24);return BigInt(G)+(BigInt(m)<<BigInt(32))});l.prototype.readBigUInt64BE=ca(function(m){m>>>=0;Ca(m,"offset");var G=this[m];const Q=this[m+7];void 0!==G&&void 0!==Q||Cb(m,this.length-8);G=G*Math.pow(2,24)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,8)+this[++m];m=this[++m]*Math.pow(2,24)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,8)+Q;return(BigInt(G)<<BigInt(32))+BigInt(m)});l.prototype.readIntLE=function(m,G,Q){m>>>=0;G>>>=0;Q||Ab(m,G,this.length);
Q=this[m];let y=1,t=0;for(;++t<G&&(y*=256);)Q+=this[m+t]*y;Q>=128*y&&(Q-=Math.pow(2,8*G));return Q};l.prototype.readIntBE=function(m,G,Q){m>>>=0;G>>>=0;Q||Ab(m,G,this.length);Q=G;let y=1,t=this[m+--Q];for(;0<Q&&(y*=256);)t+=this[m+--Q]*y;t>=128*y&&(t-=Math.pow(2,8*G));return t};l.prototype.readInt8=function(m,G){m>>>=0;G||Ab(m,1,this.length);return this[m]&128?-1*(255-this[m]+1):this[m]};l.prototype.readInt16LE=function(m,G){m>>>=0;G||Ab(m,2,this.length);m=this[m]|this[m+1]<<8;return m&32768?m|4294901760:
m};l.prototype.readInt16BE=function(m,G){m>>>=0;G||Ab(m,2,this.length);m=this[m+1]|this[m]<<8;return m&32768?m|4294901760:m};l.prototype.readInt32LE=function(m,G){m>>>=0;G||Ab(m,4,this.length);return this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24};l.prototype.readInt32BE=function(m,G){m>>>=0;G||Ab(m,4,this.length);return this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]};l.prototype.readBigInt64LE=ca(function(m){m>>>=0;Ca(m,"offset");const G=this[m],Q=this[m+7];void 0!==G&&void 0!==Q||Cb(m,this.length-
8);return(BigInt(this[m+4]+this[m+5]*Math.pow(2,8)+this[m+6]*Math.pow(2,16)+(Q<<24))<<BigInt(32))+BigInt(G+this[++m]*Math.pow(2,8)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,24))});l.prototype.readBigInt64BE=ca(function(m){m>>>=0;Ca(m,"offset");var G=this[m];const Q=this[m+7];void 0!==G&&void 0!==Q||Cb(m,this.length-8);G=(G<<24)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,8)+this[++m];return(BigInt(G)<<BigInt(32))+BigInt(this[++m]*Math.pow(2,24)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,
8)+Q)});l.prototype.readFloatLE=function(m,G){m>>>=0;G||Ab(m,4,this.length);return ra.read(this,m,!0,23,4)};l.prototype.readFloatBE=function(m,G){m>>>=0;G||Ab(m,4,this.length);return ra.read(this,m,!1,23,4)};l.prototype.readDoubleLE=function(m,G){m>>>=0;G||Ab(m,8,this.length);return ra.read(this,m,!0,52,8)};l.prototype.readDoubleBE=function(m,G){m>>>=0;G||Ab(m,8,this.length);return ra.read(this,m,!1,52,8)};l.prototype.writeUintLE=l.prototype.writeUIntLE=function(m,G,Q,y){m=+m;G>>>=0;Q>>>=0;y||Pa(this,
m,G,Q,Math.pow(2,8*Q)-1,0);y=1;let t=0;for(this[G]=m&255;++t<Q&&(y*=256);)this[G+t]=m/y&255;return G+Q};l.prototype.writeUintBE=l.prototype.writeUIntBE=function(m,G,Q,y){m=+m;G>>>=0;Q>>>=0;y||Pa(this,m,G,Q,Math.pow(2,8*Q)-1,0);y=Q-1;let t=1;for(this[G+y]=m&255;0<=--y&&(t*=256);)this[G+y]=m/t&255;return G+Q};l.prototype.writeUint8=l.prototype.writeUInt8=function(m,G,Q){m=+m;G>>>=0;Q||Pa(this,m,G,1,255,0);this[G]=m&255;return G+1};l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(m,G,Q){m=
+m;G>>>=0;Q||Pa(this,m,G,2,65535,0);this[G]=m&255;this[G+1]=m>>>8;return G+2};l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(m,G,Q){m=+m;G>>>=0;Q||Pa(this,m,G,2,65535,0);this[G]=m>>>8;this[G+1]=m&255;return G+2};l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(m,G,Q){m=+m;G>>>=0;Q||Pa(this,m,G,4,4294967295,0);this[G+3]=m>>>24;this[G+2]=m>>>16;this[G+1]=m>>>8;this[G]=m&255;return G+4};l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(m,G,Q){m=+m;G>>>=0;Q||Pa(this,
m,G,4,4294967295,0);this[G]=m>>>24;this[G+1]=m>>>16;this[G+2]=m>>>8;this[G+3]=m&255;return G+4};l.prototype.writeBigUInt64LE=ca(function(m,G=0){return Va(this,m,G,BigInt(0),BigInt("0xffffffffffffffff"))});l.prototype.writeBigUInt64BE=ca(function(m,G=0){return Xa(this,m,G,BigInt(0),BigInt("0xffffffffffffffff"))});l.prototype.writeIntLE=function(m,G,Q,y){m=+m;G>>>=0;y||(y=Math.pow(2,8*Q-1),Pa(this,m,G,Q,y-1,-y));y=0;let t=1,H=0;for(this[G]=m&255;++y<Q&&(t*=256);)0>m&&0===H&&0!==this[G+y-1]&&(H=1),this[G+
y]=(m/t>>0)-H&255;return G+Q};l.prototype.writeIntBE=function(m,G,Q,y){m=+m;G>>>=0;y||(y=Math.pow(2,8*Q-1),Pa(this,m,G,Q,y-1,-y));y=Q-1;let t=1,H=0;for(this[G+y]=m&255;0<=--y&&(t*=256);)0>m&&0===H&&0!==this[G+y+1]&&(H=1),this[G+y]=(m/t>>0)-H&255;return G+Q};l.prototype.writeInt8=function(m,G,Q){m=+m;G>>>=0;Q||Pa(this,m,G,1,127,-128);0>m&&(m=255+m+1);this[G]=m&255;return G+1};l.prototype.writeInt16LE=function(m,G,Q){m=+m;G>>>=0;Q||Pa(this,m,G,2,32767,-32768);this[G]=m&255;this[G+1]=m>>>8;return G+
2};l.prototype.writeInt16BE=function(m,G,Q){m=+m;G>>>=0;Q||Pa(this,m,G,2,32767,-32768);this[G]=m>>>8;this[G+1]=m&255;return G+2};l.prototype.writeInt32LE=function(m,G,Q){m=+m;G>>>=0;Q||Pa(this,m,G,4,2147483647,-2147483648);this[G]=m&255;this[G+1]=m>>>8;this[G+2]=m>>>16;this[G+3]=m>>>24;return G+4};l.prototype.writeInt32BE=function(m,G,Q){m=+m;G>>>=0;Q||Pa(this,m,G,4,2147483647,-2147483648);0>m&&(m=4294967295+m+1);this[G]=m>>>24;this[G+1]=m>>>16;this[G+2]=m>>>8;this[G+3]=m&255;return G+4};l.prototype.writeBigInt64LE=
ca(function(m,G=0){return Va(this,m,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});l.prototype.writeBigInt64BE=ca(function(m,G=0){return Xa(this,m,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});l.prototype.writeFloatLE=function(m,G,Q){return pa(this,m,G,!0,Q)};l.prototype.writeFloatBE=function(m,G,Q){return pa(this,m,G,!1,Q)};l.prototype.writeDoubleLE=function(m,G,Q){return Aa(this,m,G,!0,Q)};l.prototype.writeDoubleBE=function(m,G,Q){return Aa(this,m,G,!1,Q)};l.prototype.copy=
function(m,G,Q,y){if(!l.isBuffer(m))throw new TypeError("argument should be a Buffer");Q||(Q=0);y||0===y||(y=this.length);G>=m.length&&(G=m.length);G||(G=0);0<y&&y<Q&&(y=Q);if(y===Q||0===m.length||0===this.length)return 0;if(0>G)throw new RangeError("targetStart out of bounds");if(0>Q||Q>=this.length)throw new RangeError("Index out of range");if(0>y)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length);m.length-G<y-Q&&(y=m.length-G+Q);const t=y-Q;this===m&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(G,Q,y):Uint8Array.prototype.set.call(m,this.subarray(Q,y),G);return t};l.prototype.fill=function(m,G,Q,y){if("string"===typeof m){"string"===typeof G?(y=G,G=0,Q=this.length):"string"===typeof Q&&(y=Q,Q=this.length);if(void 0!==y&&"string"!==typeof y)throw new TypeError("encoding must be a string");if("string"===typeof y&&!l.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(1===m.length){var t=m.charCodeAt(0);if("utf8"===y&&128>t||"latin1"===y)m=t}}else"number"===typeof m?
m&=255:"boolean"===typeof m&&(m=Number(m));if(0>G||this.length<G||this.length<Q)throw new RangeError("Out of range index");if(Q<=G)return this;G>>>=0;Q=void 0===Q?this.length:Q>>>0;m||(m=0);if("number"===typeof m)for(y=G;y<Q;++y)this[y]=m;else{t=l.isBuffer(m)?m:l.from(m,y);const H=t.length;if(0===H)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(y=0;y<Q-G;++y)this[y+G]=t[y%H]}return this};const Oa={};Ha("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);Ha("ERR_INVALID_ARG_TYPE",function(m,G){return`The "${m}" argument must be of type number. Received type ${typeof G}`},TypeError);Ha("ERR_OUT_OF_RANGE",function(m,G,Q){m=`The value of "${m}" is out of range.`;let y=Q;if(Number.isInteger(Q)&&Math.abs(Q)>Math.pow(2,32))y=bb(String(Q));else if("bigint"===typeof Q){y=String(Q);if(Q>Math.pow(BigInt(2),BigInt(32))||Q<-Math.pow(BigInt(2),BigInt(32)))y=bb(y);y+="n"}return m+` It must be ${G}. Received ${y}`},
RangeError);const ya=/[^+/0-9A-Za-z-_]/g,va=function(){const m=Array(256);for(let G=0;16>G;++G){const Q=16*G;for(let y=0;16>y;++y)m[Q+y]="0123456789abcdef"[G]+"0123456789abcdef"[y]}return m}()};
shadow$provide[27]=function(Hb,vb,Ac,ab){var x=vb(26).Buffer;(function(l,M){"object"===typeof ab&&"undefined"!==typeof Ac?M(ab,vb(20),vb(21),vb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],M):(l="undefined"!==typeof globalThis?globalThis:l||self,M(l.vega={},l.vega,l.topojson,l.vega))})(this,function(l,M,cb,zb){function Zb(ya,va){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const G=yield m.sanitize(ya,va),
Q=G.href;return G.localFile?m.file(Q):m.http(Q,va)})}function gc(ya,va){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){va=M.extend({},m.options,va);const G=m.fileAccess,Q={href:null};var y;let t;var H=Ca.test(ya.replace(Cb,""));null!=ya&&"string"===typeof ya&&H||M.error("Sanitize failure, invalid URI: "+M.stringValue(ya));H=$a.test(ya);(y=va.baseURL)&&!H&&(ya.startsWith("/")||y.endsWith("/")||(ya="/"+ya),ya=y+ya);t=(y=ya.startsWith("file://"))||"file"===va.mode||"http"!==
va.mode&&!H&&G;y?ya=ya.slice(7):ya.startsWith("//")&&("file"===va.defaultProtocol?(ya=ya.slice(2),t=!0):ya=(va.defaultProtocol||"http")+":"+ya);Object.defineProperty(Q,"localFile",{value:!!t});Q.href=ya;va.target&&(Q.target=va.target+"");va.rel&&(Q.rel=va.rel+"");"image"===va.context&&va.crossOrigin&&(Q.crossOrigin=va.crossOrigin+"");return Q})}function nc(ya){return ya?va=>new Promise((m,G)=>{ya.readFile(va,(Q,y)=>{Q?G(Q):m(y)})}):Tb}function Tb(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){M.error("No file system access.")})}
function Gb(ya){return ya?function(va,m){const G=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Q=M.extend({},G.options.http,m);const y=m&&m.response;Q=yield ya(va,Q);return Q.ok?M.isFunction(Q[y])?Q[y]():Q.text():M.error(Q.status+""+Q.statusText)})}:Db}function Db(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){M.error("No HTTP fetch method available.")})}function fc(ya,va){if(!ya||!ya.length)return"unknown";const m=ya.length,G=kc.length,Q=kc.map((y,t)=>
t+1);for(let y=0,t=0,H,V;y<m;++y)for(V=va?ya[y][va]:ya[y],H=0;H<G;++H)if(Q[H]&&null!=V&&V===V&&!kc[H](V)&&(Q[H]=0,++t,t===kc.length))return"string";return pb[Q.reduce((y,t)=>0===y?t:y,0)-1]}function Ba(ya,va){return va.reduce((m,G)=>{m[G]=fc(ya,G);return m},{})}function jb(ya){return new Function("d","return {"+ya.map(function(va,m){return JSON.stringify(va)+": d["+m+'] || ""'}).join(",")+"}")}function yb(ya,va){var m=jb(ya);return function(G,Q){return va(m(G),Q,ya)}}function Ab(ya){var va=Object.create(null),
m=[];ya.forEach(function(G){for(var Q in G)Q in va||m.push(va[Q]=Q)});return m}function Pa(ya,va){ya+="";var m=ya.length;return m<va?Array(va-m+1).join(0)+ya:ya}function Va(ya){function va(H,V){function E(){if(T)return O;if(la)return la=!1,ca;var R,ka=L,Ka;if(34===H.charCodeAt(ka)){for(;L++<z&&34!==H.charCodeAt(L)||34===H.charCodeAt(++L););(R=L)>=z?T=!0:10===(Ka=H.charCodeAt(L++))?la=!0:13===Ka&&(la=!0,10===H.charCodeAt(L)&&++L);return H.slice(ka+1,R-1).replace(/""/g,'"')}for(;L<z;){if(10===(Ka=H.charCodeAt(R=
L++)))la=!0;else if(13===Ka)la=!0,10===H.charCodeAt(L)&&++L;else if(Ka!==t)continue;return H.slice(ka,R)}return T=!0,H.slice(ka,z)}var K=[],z=H.length,L=0,X=0,qa,T=0>=z,la=!1;10===H.charCodeAt(z-1)&&--z;for(13===H.charCodeAt(z-1)&&--z;(qa=E())!==O;){for(var xa=[];qa!==ca&&qa!==O;)xa.push(qa),qa=E();V&&null==(xa=V(xa,X++))||K.push(xa)}return K}function m(H,V){return H.map(function(E){return V.map(function(K){return Q(E[K])}).join(ya)})}function G(H){return H.map(Q).join(ya)}function Q(H){if(null==
H)H="";else{if(H instanceof Date){var V=H.getUTCHours();var E=H.getUTCMinutes(),K=H.getUTCSeconds(),z=H.getUTCMilliseconds();if(isNaN(H))H="Invalid Date";else{var L=H.getUTCFullYear();H=(0>L?"-"+Pa(-L,6):9999<L?"+"+Pa(L,6):Pa(L,4))+"-"+Pa(H.getUTCMonth()+1,2)+"-"+Pa(H.getUTCDate(),2)+(z?"T"+Pa(V,2)+":"+Pa(E,2)+":"+Pa(K,2)+"."+Pa(z,3)+"Z":K?"T"+Pa(V,2)+":"+Pa(E,2)+":"+Pa(K,2)+"Z":E||V?"T"+Pa(V,2)+":"+Pa(E,2)+"Z":"")}V=H}else V=y.test(H+="")?'"'+H.replace(/"/g,'""')+'"':H;H=V}return H}var y=new RegExp('["'+
ya+"\n\r]"),t=ya.charCodeAt(0);return{parse:function(H,V){var E,K;H=va(H,function(z,L){if(E)return E(z,L-1);K=z;E=V?yb(z,V):jb(z)});H.columns=K||[];return H},parseRows:va,format:function(H,V){null==V&&(V=Ab(H));return[V.map(Q).join(ya)].concat(m(H,V)).join("\n")},formatBody:function(H,V){null==V&&(V=Ab(H));return m(H,V).join("\n")},formatRows:function(H){return H.map(G).join("\n")},formatRow:G,formatValue:Q}}function Xa(ya){const va=function(m,G){const Q={delimiter:ya};return Fa(m,G?M.extend(G,Q):
Q)};va.responseType="text";return va}function Fa(ya,va){va.header&&(ya=va.header.map(M.stringValue).join(va.delimiter)+"\n"+ya);return Va(va.delimiter).parse(ya+"")}function pa(ya,va){const m=va&&va.property?M.field(va.property):M.identity;var G;if(G=M.isObject(ya))G=!("function"===typeof x&&M.isFunction(x.isBuffer)&&x.isBuffer(ya));G?(ya=m(ya),!M.isArray(ya)&&M.isIterable(ya)&&(ya=[...ya]),va=va&&va.copy?JSON.parse(JSON.stringify(ya)):ya):va=m(JSON.parse(ya));return va}function Aa(ya,va){let m,G,
Q,y;ya=pa(ya,va);va&&va.feature?(m=cb.feature,Q=va.feature):va&&va.mesh?(m=cb.mesh,Q=va.mesh,y=oa[va.filter]):M.error("Missing TopoJSON feature or mesh parameter.");return(G=(G=ya.objects[Q])?m(ya,G,y):M.error("Invalid TopoJSON object: "+Q))&&G.features||[G]}function Ha(ya,va){return 1<arguments.length?(ra[ya]=va,this):M.hasOwnProperty(ra,ya)?ra[ya]:null}function bb(ya,va,m,G){if(ya.length){var Q=zb.timeFormatDefaultLocale();m=m||Q.timeParse;G=G||Q.utcParse;Q=ya.columns||Object.keys(ya[0]);var y,
t;"auto"===va&&(va=Ba(ya,Q));Q=Object.keys(va);var H=Q.map(L=>{var X=va[L];if(X&&(X.startsWith("date:")||X.startsWith("utc:"))){L=X.split(/:(.+)?/,2);X=L[1];if("'"===X[0]&&"'"===X[X.length-1]||'"'===X[0]&&'"'===X[X.length-1])X=X.slice(1,-1);return("utc"===L[0]?G:m)(X)}if(!Mb[X])throw Error("Illegal format pattern: "+L+":"+X);return Mb[X]});var V=0;var E=ya.length;for(t=Q.length;V<E;++V){var K=ya[V];for(y=0;y<t;++y){var z=Q[y];K[z]=H[y](K[z])}}}}const $a=/^(data:|([A-Za-z]+:)?\/\/)/,Ca=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
Cb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,xb=ya=>!Number.isNaN(+ya)&&!(ya instanceof Date),Mb={boolean:M.toBoolean,integer:M.toNumber,number:M.toNumber,date:M.toDate,string:M.toString,unknown:M.identity},kc=[ya=>"true"===ya||"false"===ya||!0===ya||!1===ya,ya=>xb(ya)&&Number.isInteger(+ya),xb,ya=>!Number.isNaN(Date.parse(ya))],pb=["boolean","integer","number","date"];var ca={},O={};Fa.responseType="text";pa.responseType="json";const oa={interior:(ya,va)=>ya!==va,exterior:(ya,
va)=>ya===va};Aa.responseType="json";const ra={dsv:Fa,csv:Xa(","),tsv:Xa("\t"),json:pa,topojson:Aa},Oa=function(ya,va){return m=>({options:m||{},sanitize:gc,load:Zb,fileAccess:!!va,file:nc(va),http:Gb(ya)})}("undefined"!==typeof fetch&&fetch,null);l.format=ra;l.formats=Ha;l.inferType=fc;l.inferTypes=Ba;l.loader=Oa;l.read=function(ya,va,m,G){va=va||{};const Q=Ha(va.type||"json");Q||M.error("Unknown data format type: "+va.type);ya=Q(ya,va);va.parse&&bb(ya,va.parse,m,G);M.hasOwnProperty(ya,"columns")&&
delete ya.columns;return ya};l.responseType=function(ya){return(ya=Ha(ya))&&ya.responseType||"text"};l.typeParsers=Mb;Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[28]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(20),vb(27),vb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega,x.vega))})(this,function(x,l,M,cb){function zb(y){const t=y||l.identity,H=[],V={};H.add=E=>{const K=t(E);V[K]||(V[K]=1,H.push(E));return H};H.remove=E=>{const K=t(E);V[K]&&(V[K]=0,E=H.indexOf(E),
0<=E&&H.splice(E,1));return H};return H}function Zb(y,t){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield t(y)}catch(H){y.error(H)}})}function gc(y){y=y===Object(y)?y:{data:y};if(!y[O]){var t=oa++;y[O]=t}return y}function nc(y,t){for(const H in y)t[H]=y[H];return t}function Tb(y){return y&&y.constructor===Gb}function Gb(){const y=[],t=[],H=[],V=[],E=[];let K=null,z=!1;return{constructor:Gb,insert(L){L=l.array(L);const X=L.length;for(let qa=0;qa<X;++qa)y.push(L[qa]);return this},
remove(L){const X=l.isFunction(L)?V:t;L=l.array(L);const qa=L.length;for(let T=0;T<qa;++T)X.push(L[T]);return this},modify(L,X,qa){X={field:X,value:l.constant(qa)};l.isFunction(L)?(X.filter=L,E.push(X)):(X.tuple=L,H.push(X));return this},encode(L,X){l.isFunction(L)?E.push({filter:L,field:X}):H.push({tuple:L,field:X});return this},clean(L){K=L;return this},reflow(){z=!0;return this},pulse(L,X){function qa(mb,Ra,Ob){Ob?mb[Ra]=Ob(mb):L.encode=Ra;z||(la[mb[O]]=mb)}const T={},la={};let xa,R,ka,Ka,kb,Za;
xa=0;for(R=X.length;xa<R;++xa)T[X[xa][O]]=1;xa=0;for(R=t.length;xa<R;++xa)kb=t[xa],T[kb[O]]=-1;xa=0;for(R=V.length;xa<R;++xa)Ka=V[xa],X.forEach(mb=>{Ka(mb)&&(T[mb[O]]=-1)});xa=0;for(R=y.length;xa<R;++xa)kb=y[xa],Za=kb[O],T[Za]?T[Za]=1:L.add.push(gc(y[xa]));xa=0;for(R=X.length;xa<R;++xa)kb=X[xa],0>T[kb[O]]&&L.rem.push(kb);xa=0;for(R=H.length;xa<R;++xa)ka=H[xa],kb=ka.tuple,Ka=ka.field,Za=T[kb[O]],0<Za&&(qa(kb,Ka,ka.value),L.modifies(Ka));xa=0;for(R=E.length;xa<R;++xa)ka=E[xa],Ka=ka.filter,X.forEach(mb=>
{Ka(mb)&&0<T[mb[O]]&&qa(mb,ka.field,ka.value)}),L.modifies(ka.field);if(z)L.mod=t.length||V.length?X.filter(mb=>0<T[mb[O]]):X.slice();else for(Za in la)L.mod.push(la[Za]);(K||null==K&&(t.length||V.length))&&L.clean(!0);return L}}}function Db(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function fc(y,t,H,V){this.id=++ra;this.value=y;this.qrank=this.rank=this.stamp=-1;this.flags=0;t&&(this._update=t);H&&this.parameters(H,V)}function Ba(y){return function(t){const H=this.flags;if(0===
arguments.length)return!!(H&y);this.flags=t?H|y:H&~y;return this}}function jb(y,t,H){this.id=++ya;this.value=null;H&&(this.receive=H);y&&(this._filter=y);t&&(this._apply=t)}function yb(y,t,H){return new jb(y,t,H)}function Ab(y){let t;const H=new Promise(V=>t=V);H.requests=0;H.done=()=>{0===--H.requests&&(y._pending=null,t(y))};return y._pending=H}function Pa(y,t,H,V,E,K){const z=l.extend({},K,va);let L;l.isFunction(H)||(H=l.constant(H));void 0===V?E=X=>y.touch(H(X)):l.isFunction(V)?(L=new fc(null,
V,E,!1),E=X=>{L.evaluate(X);X=H(X);const qa=L.value;Tb(qa)?y.pulse(X,qa,K):y.update(X,qa,z)}):E=X=>y.update(H(X),V,z);t.apply(E)}function Va(y,t,H,V,E,K){void 0===V?t.targets().add(H):(K=K||{},V=new fc(null,Xa(H,V),E,!1),V.modified(K.force),V.rank=t.rank,t.targets().add(V),H&&(V.skip(!0),V.value=H.value,V.targets().add(H),y.connect(H,[V])))}function Xa(y,t){t=l.isFunction(t)?t:l.constant(t);return y?function(H,V){H=t(H,V);y.skip()||(y.skip(H!==this.value).value=H);return H}:t}function Fa(y,t,H){this.dataflow=
y;this.stamp=null==t?-1:t;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=H||null}function pa(y,t){const H=[];l.visitArray(y,t,V=>H.push(V));return H}function Aa(y,t){const H={};y.visit(t,V=>{H[V[O]]=1});return V=>H[V[O]]?null:V}function Ha(y,t){return y?(H,V)=>y(H,V)&&t(H,V):t}function bb(y,t,H,V){const E=H.length;let K=0;this.dataflow=y;this.stamp=t;this.fields=null;this.encode=V||null;this.pulses=H;for(y=0;y<E;++y)if(V=H[y],V.stamp===t){if(V.fields){const z=this.fields||(this.fields=
{});for(const L in V.fields)z[L]=1}V.changed(this.ADD)&&(K|=this.ADD);V.changed(this.REM)&&(K|=this.REM);V.changed(this.MOD)&&(K|=this.MOD)}this.changes=K}function $a(y){y.error("Dataflow already running. Use runAsync() to chain invocations.");return y}function Ca(y,t){if(t&&t.stamp===y.stamp)return t;y=y.fork();t&&t!==m&&(y.source=t.source);return y}function Cb(y){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:H=>{t.push(H);return xb(t,0,t.length-1,y)},pop:()=>{var H=t.pop();
let V;if(t.length){V=t[0];t[0]=H;H=t;var E=0;const K=E,z=H.length,L=H[E];let X=(E<<1)+1,qa;for(;X<z;)qa=X+1,qa<z&&0<=y(H[X],H[qa])&&(X=qa),H[E]=H[X],E=X,X=(E<<1)+1;H[E]=L;xb(H,K,E,y)}else V=H;return V}}}function xb(y,t,H,V){let E,K;const z=y[H];for(;H>t;)if(K=H-1>>1,E=y[K],0>V(z,E))y[H]=E,H=K;else break;return y[H]=z}function Mb(){this.logger(l.logger());this.logLevel(l.Error);this._rank=this._clock=0;this._locale=cb.defaultLocale();try{this._loader=M.loader()}catch(y){}this._touched=zb(l.id);this._input=
{};this._pulse=null;this._heap=Cb((y,t)=>y.qrank-t.qrank);this._postrun=[]}function kc(y){return function(){return this._log[y].apply(this,arguments)}}function pb(y,t){fc.call(this,y,null,t)}function ca(y){y=y&&y.toLowerCase();return l.hasOwnProperty(Q,y)?Q[y]:null}const O=Symbol("vega_id");let oa=1;Db.prototype={set(y,t,H,V){const E=this[y],K=this["_:mod:_"];if(null!=t&&0<=t){if(E[t]!==H||V)E[t]=H,K[t+":"+y]=-1,K[y]=-1}else if(E!==H||V)this[y]=H,K[y]=l.isArray(H)?1+H.length:-1;return this},modified(y,
t){const H=this["_:mod:_"];if(!arguments.length){for(var V in H)if(H[V])return!0;return!1}if(l.isArray(y)){for(V=0;V<y.length;++V)if(H[y[V]])return!0;return!1}return null!=t&&0<=t?t+1<H[y]||!!H[t+":"+y]:!!H[y]},clear(){this["_:mod:_"]={};return this}};let ra=0;const Oa=new Db;fc.prototype={targets(){return this._targets||(this._targets=zb(l.id))},set(y){return this.value!==y?(this.value=y,1):0},skip:Ba(1),modified:Ba(2),parameters(y,t,H){t=!1!==t;const V=this._argval=this._argval||new Db,E=this._argops=
this._argops||[],K=[];let z,L,X,qa;const T=(la,xa,R)=>{R instanceof fc?(R!==this&&(t&&R.targets().add(this),K.push(R)),E.push({op:R,name:la,index:xa})):V.set(la,xa,R)};for(z in y)if(L=y[z],"pulse"===z)l.array(L).forEach(la=>{la instanceof fc?la!==this&&(la.targets().add(this),K.push(la)):l.error("Pulse parameters must be operator instances.")}),this.source=L;else if(l.isArray(L))for(V.set(z,-1,Array(X=L.length)),qa=0;qa<X;++qa)T(z,qa,L[qa]);else T(z,-1,L);this.marshall().clear();H&&(E.initonly=!0);
return K},marshall(y){const t=this._argval||Oa,H=this._argops;let V,E,K,z;if(H){const L=H.length;for(E=0;E<L;++E)V=H[E],K=V.op,z=K.modified()&&K.stamp===y,t.set(V.name,V.index,K.value,z);if(H.initonly){for(E=0;E<L;++E)V=H[E],V.op.targets().remove(this);this._update=this._argops=null}}return t},detach(){const y=this._argops;let t,H;if(y)for(t=0,H=y.length;t<H;++t){var V=y[t];V=V.op;V._targets&&V._targets.remove(this)}this.source=this.pulse=null},evaluate(y){var t=this._update;if(t){const H=this.marshall(y.stamp);
t=t.call(this,H,y);H.clear();if(t!==this.value)this.value=t;else if(!this.modified())return y.StopPropagation}},run(y){if(y.stamp<this.stamp)return y.StopPropagation;let t;this.skip()?(this.skip(!1),t=0):t=this.evaluate(y);return this.pulse=t||y}};let ya=0;jb.prototype={_filter:l.truthy,_apply:l.identity,targets(){return this._targets||(this._targets=zb(l.id))},consume(y){if(!arguments.length)return!!this._consume;this._consume=!!y;return this},receive(y){if(this._filter(y)){const t=this.value=this._apply(y),
H=this._targets,V=H?H.length:0;for(let E=0;E<V;++E)H[E].receive(t);this._consume&&(y.preventDefault(),y.stopPropagation())}},filter(y){y=yb(y);this.targets().add(y);return y},apply(y){y=yb(null,y);this.targets().add(y);return y},merge(){const y=yb();this.targets().add(y);for(let t=0,H=arguments.length;t<H;++t)arguments[t].targets().add(y);return y},throttle(y){let t=-1;return this.filter(()=>{const H=Date.now();return H-t>y?(t=H,1):0})},debounce(y){const t=yb();this.targets().add(yb(null,null,l.debounce(y,
H=>{const V=H.dataflow;t.receive(H);V&&V.run&&V.run()})));return t},between(y,t){let H=!1;y.targets().add(yb(null,null,()=>H=!0));t.targets().add(yb(null,null,()=>H=!1));return this.filter(()=>H)},detach(){this._filter=l.truthy;this._targets=null}};const va={skip:!0},m={};Fa.prototype={StopPropagation:m,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(y){return(new Fa(this.dataflow)).init(this,y)},clone(){const y=this.fork(7);y.add=y.add.slice();y.rem=
y.rem.slice();y.mod=y.mod.slice();y.source&&(y.source=y.source.slice());return y.materialize(23)},addAll(){let y=this;y.source&&y.add!==y.rem&&(y.rem.length||y.source.length!==y.add.length)&&(y=(new Fa(this.dataflow)).init(this),y.add=y.source,y.rem=[]);return y},init(y,t){this.stamp=y.stamp;this.encode=y.encode;!y.fields||t&64||(this.fields=y.fields);t&1?(this.addF=y.addF,this.add=y.add):(this.addF=null,this.add=[]);t&2?(this.remF=y.remF,this.rem=y.rem):(this.remF=null,this.rem=[]);t&4?(this.modF=
y.modF,this.mod=y.mod):(this.modF=null,this.mod=[]);t&32?this.source=this.srcF=null:(this.srcF=y.srcF,this.source=y.source,y.cleans&&(this.cleans=y.cleans));return this},runAfter(y){this.dataflow.runAfter(y)},changed(y){y=y||7;return y&1&&this.add.length||y&2&&this.rem.length||y&4&&this.mod.length},reflow(y){if(y)return this.fork(7).reflow();y=this.add.length;const t=this.source&&this.source.length;t&&t!==y&&(this.mod=this.source,y&&this.filter(4,Aa(this,1)));return this},clean(y){return arguments.length?
(this.cleans=!!y,this):this.cleans},modifies(y){const t=this.fields||(this.fields={});l.isArray(y)?y.forEach(H=>t[H]=!0):t[y]=!0;return this},modified(y,t){const H=this.fields;return(t||this.mod.length)&&H?arguments.length?l.isArray(y)?y.some(V=>H[V]):H[y]:!!H:!1},filter(y,t){y&1&&(this.addF=Ha(this.addF,t));y&2&&(this.remF=Ha(this.remF,t));y&4&&(this.modF=Ha(this.modF,t));y&16&&(this.srcF=Ha(this.srcF,t));return this},materialize(y){y=y||7;y&1&&this.addF&&(this.add=pa(this.add,this.addF),this.addF=
null);y&2&&this.remF&&(this.rem=pa(this.rem,this.remF),this.remF=null);y&4&&this.modF&&(this.mod=pa(this.mod,this.modF),this.modF=null);y&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(y,t){if(y&16)return l.visitArray(this.source,this.srcF,t),this;y&1&&l.visitArray(this.add,this.addF,t);y&2&&l.visitArray(this.rem,this.remF,t);y&4&&l.visitArray(this.mod,this.modF,t);const H=this.source;y&8&&H&&(y=this.add.length+this.mod.length,y!==H.length&&(y?l.visitArray(H,
Aa(this,5),t):l.visitArray(H,this.srcF,t)));return this}};l.inherits(bb,Fa,{fork(y){const t=(new Fa(this.dataflow)).init(this,y&this.NO_FIELDS);void 0!==y&&(y&t.ADD&&this.visit(t.ADD,H=>t.add.push(H)),y&t.REM&&this.visit(t.REM,H=>t.rem.push(H)),y&t.MOD&&this.visit(t.MOD,H=>t.mod.push(H)));return t},changed(y){return this.changes&y},modified(y){const t=this.fields;return t&&this.changes&this.MOD?l.isArray(y)?y.some(H=>t[H]):t[y]:0},filter(){l.error("MultiPulse does not support filtering.")},materialize(){l.error("MultiPulse does not support materialization.")},
visit(y,t){const H=this.pulses,V=H.length;let E=0;if(y&this.SOURCE)for(;E<V;++E)H[E].visit(y,t);else for(;E<V;++E)H[E].stamp===this.stamp&&H[E].visit(y,t);return this}});const G={skip:!1,force:!1};Mb.prototype={stamp(){return this._clock},loader(y){return arguments.length?(this._loader=y,this):this._loader},locale(y){return arguments.length?(this._locale=y,this):this._locale},logger(y){return arguments.length?(this._log=y,this):this._log},error:kc("error"),warn:kc("warn"),info:kc("info"),debug:kc("debug"),
logLevel:kc("level"),cleanThreshold:1E4,add:function(y,t,H,V){let E=1;y instanceof fc||(y&&y.prototype instanceof fc?y=new y:l.isFunction(y)?y=new fc(null,y):(E=0,y=new fc(y,t)));this.rank(y);E&&(V=H,H=t);H&&this.connect(y,y.parameters(H,V));this.touch(y);return y},connect:function(y,t){const H=y.rank,V=t.length;for(let E=0;E<V;++E)if(H<t[E].rank){this.rerank(y);break}},rank:function(y){y.rank=++this._rank},rerank:function(y){const t=[y];let H,V,E;for(;t.length;)if(this.rank(H=t.pop()),V=H._targets)for(E=
V.length;0<=--E;)t.push(H=V[E]),H===y&&l.error("Cycle detected in dataflow graph.")},pulse:function(y,t,H){this.touch(y,H||G);H=new Fa(this,this._clock+(this._pulse?0:1));const V=y.pulse&&y.pulse.source||[];H.target=y;this._input[y.id]=t.pulse(H,V);return this},touch:function(y,t){t=t||G;this._pulse?this._enqueue(y):this._touched.add(y);t.skip&&y.skip(!0);return this},update:function(y,t,H){H=H||G;(y.set(t)||H.force)&&this.touch(y,H);return this},changeset:Gb,ingest:function(y,t,H){t=this.parse(t,
H);return this.pulse(y,this.changeset().insert(t))},parse:function(y,t){const H=this.locale();return M.read(y,t,H.timeParse,H.utcParse)},preload:function(y,t,H){const V=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const E=V._pending||Ab(V);E.requests+=1;const K=yield V.request(t,H);V.pulse(y,V.changeset().remove(l.truthy).insert(K.data||[]));E.done();return K})},request:function(y,t){const H=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let V=0,E;try{E=
yield H.loader().load(y,{context:"dataflow",response:M.responseType(t&&t.type)});try{E=H.parse(E,t)}catch(K){V=-2,H.warn("Data ingestion failed",y,K)}}catch(K){V=-1,H.warn("Loading failed",y,K)}return{data:E,status:V}})},events:function(y,t,H,V){const E=this,K=yb(H,V);H=function(z){z.dataflow=E;try{K.receive(z)}catch(L){E.error(L)}finally{E.run()}};y="string"===typeof y&&"undefined"!==typeof document?document.querySelectorAll(y):l.array(y);V=y.length;for(let z=0;z<V;++z)y[z].addEventListener(t,H);
return K},on:function(y,t,H,V,E){(y instanceof fc?Va:Pa)(this,y,t,H,V,E);return this},evaluate:function(y,t,H){const V=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const E=[];if(V._pulse)return $a(V);V._pending&&(yield V._pending);t&&(yield Zb(V,t));if(!V._touched.length)return V.debug("Dataflow invoked, but nothing to do."),V;var K=++V._clock;V._pulse=new Fa(V,K,y);V._touched.forEach(T=>V._enqueue(T,!0));V._touched=zb(l.id);var z=0;let L,X,qa;try{for(;0<V._heap.size();)L=
V._heap.pop(),L.rank!==L.qrank?V._enqueue(L,!0):(X=L.run(V._getPulse(L,y)),X.then?X=yield X:X.async&&(E.push(X.async),X=m),X!==m&&L._targets&&L._targets.forEach(T=>V._enqueue(T)),++z)}catch(T){V._heap.clear(),qa=T}V._input={};V._pulse=null;V.debug(`Pulse ${K}: ${z} operators`);qa&&(V._postrun=[],V.error(qa));if(V._postrun.length)for(K=V._postrun.sort((T,la)=>la.priority-T.priority),V._postrun=[],z=0;z<K.length;++z)yield Zb(V,K[z].callback);H&&(yield Zb(V,H));E.length&&Promise.all(E).then(T=>V.runAsync(null,
()=>{T.forEach(la=>{try{la(V)}catch(xa){V.error(xa)}})}));return V})},run:function(y,t,H){return this._pulse?$a(this):(this.evaluate(y,t,H),this)},runAsync:function(y,t,H){const V=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;V._running;)yield V._running;const E=()=>V._running=null;(V._running=V.evaluate(y,t,H)).then(E,E);return V._running})},runAfter:function(y,t,H){if(this._pulse||t)this._postrun.push({priority:H||0,callback:y});else try{y(this)}catch(V){this.error(V)}},
_enqueue:function(y,t){const H=y.stamp<this._clock;H&&(y.stamp=this._clock);if(H||t)y.qrank=y.rank,this._heap.push(y)},_getPulse:function(y,t){const H=y.source,V=this._clock;return H&&l.isArray(H)?new bb(this,V,H.map(E=>E.pulse),t):this._input[y.id]||Ca(this._pulse,H&&H.pulse)}};l.inherits(pb,fc,{run(y){if(y.stamp<this.stamp)return y.StopPropagation;let t;this.skip()?this.skip(!1):t=this.evaluate(y);t=t||y;t.then?t=t.then(H=>this.pulse=H):t!==y.StopPropagation&&(this.pulse=t);return t},evaluate(y){const t=
this.marshall(y.stamp);y=this.transform(t,y);t.clear();return y},transform(){}});const Q={};x.Dataflow=Mb;x.EventStream=jb;x.MultiPulse=bb;x.Operator=fc;x.Parameters=Db;x.Pulse=Fa;x.Transform=pb;x.UniqueList=zb;x.asyncCallback=Zb;x.changeset=Gb;x.definition=function(y){return(y=ca(y))&&y.Definition||null};x.derive=function(y){return nc(y,gc({}))};x.ingest=gc;x.isChangeSet=Tb;x.isTuple=function(y){return!(!y||!y[O])};x.rederive=nc;x.replace=function(y,t){t[O]=y[O];return t};x.stableCompare=function(y,
t){return y?t?(H,V)=>y(H,V)||t(H)[O]-t(V)[O]:(H,V)=>y(H,V)||H[O]-V[O]:null};x.transform=ca;x.transforms=Q;x.tupleid=function(y){return y[O]};Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[29]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab):"function"===typeof define&&define.amd?define(["exports"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={}))})(this,function(x){function*l(t,H){if(null==H)for(var V of t)null!=V&&""!==V&&(V=+V)>=V&&(yield V);else{V=-1;for(let E of t)E=H(E,++V,t),null!=E&&""!==E&&(E=+E)>=E&&(yield E)}}function M(t,H){return null==t||null==H?NaN:t<H?-1:t>H?1:t>=H?0:NaN}function cb(t){return null===
t?NaN:+t}function*zb(t,H){if(void 0===H)for(var V of t)null!=V&&(V=+V)>=V&&(yield V);else{V=-1;for(let E of t)null!=(E=H(E,++V,t))&&(E=+E)>=E&&(yield E)}}function Zb(t=M){if(t===M)return gc;if("function"!==typeof t)throw new TypeError("compare is not a function");return(H,V)=>{const E=t(H,V);return E||0===E?E:(0===t(V,V))-(0===t(H,H))}}function gc(t,H){return(null==t||!(t>=t))-(null==H||!(H>=H))||(t<H?-1:t>H?1:0)}function nc(t,H){let V;if(void 0===H)for(var E of t)null!=E&&(V<E||void 0===V&&E>=E)&&
(V=E);else{E=-1;for(let K of t)null!=(K=H(K,++E,t))&&(V<K||void 0===V&&K>=K)&&(V=K)}return V}function Tb(t,H){let V;if(void 0===H)for(var E of t)null!=E&&(V>E||void 0===V&&E>=E)&&(V=E);else{E=-1;for(let K of t)null!=(K=H(K,++E,t))&&(V>K||void 0===V&&K>=K)&&(V=K)}return V}function Gb(t,H,V=0,E=t.length-1,K){for(K=void 0===K?gc:Zb(K);E>V;){if(600<E-V){var z=E-V+1,L=H-V+1,X=Math.log(z),qa=.5*Math.exp(2*X/3);X=.5*Math.sqrt(X*qa*(z-qa)/z)*(0>L-z/2?-1:1);Gb(t,H,Math.max(V,Math.floor(H-L*qa/z+X)),Math.min(E,
Math.floor(H+(z-L)*qa/z+X)),K)}z=t[H];L=V;qa=E;Db(t,V,H);for(0<K(t[E],z)&&Db(t,V,E);L<qa;){Db(t,L,qa);++L;for(--qa;0>K(t[L],z);)++L;for(;0<K(t[qa],z);)--qa}0===K(t[V],z)?Db(t,V,qa):(++qa,Db(t,qa,E));qa<=H&&(V=qa+1);H<=qa&&(E=qa-1)}return t}function Db(t,H,V){const E=t[H];t[H]=t[V];t[V]=E}function fc(t,H,V){t=Float64Array.from(zb(t,V));if(V=t.length){if(0>=(H=+H)||2>V)return Tb(t);if(1<=H)return nc(t);H*=V-1;V=Math.floor(H);var E=nc(Gb(t,V).subarray(0,V+1));t=Tb(t.subarray(V+1));return E+(t-E)*(H-
V)}}function Ba(t,H,V=cb){if(E=t.length){if(0>=(H=+H)||2>E)return+V(t[0],0,t);if(1<=H)return+V(t[E-1],E-1,t);var E;H*=E-1;E=Math.floor(H);var K=+V(t[E],E,t);t=+V(t[E+1],E+1,t);return K+(t-K)*(H-E)}}function jb(t,H,V){const E=Float64Array.from(l(t,V));E.sort(M);return H.map(K=>Ba(E,K))}function yb(t,H){return jb(t,[.25,.5,.75],H)}function Ab(t,H){const V=t.length;{var E=0;let z,L=0,X=0;if(void 0===H)for(var K of t)null!=K&&(K=+K)>=K&&(z=K-L,L+=z/++E,X+=z*(K-L));else{K=-1;for(let qa of t)null!=(qa=
H(qa,++K,t))&&(qa=+qa)>=qa&&(z=qa-L,L+=z/++E,X+=z*(qa-L))}E=1<E?X/(E-1):void 0}E=E?Math.sqrt(E):E;t=yb(t,H);return 1.06*(Math.min(E,(t[2]-t[0])/1.34)||E||Math.abs(t[0])||1)*Math.pow(V,-.2)}function Pa(t,H){const V=t.length;let E=0,K=1,z,L;for(;t[E]===t[K];)++K;for(;K<V;){for(z=K+1;t[K]===t[z];)++z;if(t[K]-t[K-1]<H){for(L=K+(E+z-K-K>>1);L<K;)t[L++]=t[K];for(;L>K;)t[L--]=t[E]}E=K;K=z}return t}function Va(t,H){t=t||0;H=null==H?1:H;let V,E;if(Q===Q)V=Q,Q=NaN;else{do{V=2*x.random()-1;E=2*x.random()-1;
var K=V*V+E*E}while(0===K||1<K);K=Math.sqrt(-2*Math.log(K)/K);V*=K;Q=E*K}return t+V*H}function Xa(t,H,V){V=null==V?1:V;t=(t-(H||0))/V;return Math.exp(-.5*t*t)/(V*m)}function Fa(t,H,V){t=(t-(H||0))/(null==V?1:V);H=Math.abs(t);37<H?V=0:(V=Math.exp(-H*H/2),7.07106781186547>H?(V*=(((((.0352624965998911*H+.700383064443688)*H+6.37396220353165)*H+33.912866078383)*H+112.079291497871)*H+221.213596169931)*H+220.206867912376,V/=((((((.0883883476483184*H+1.75566716318264)*H+16.064177579207)*H+86.7807322029461)*
H+296.564248779674)*H+637.333633378831)*H+793.826512519948)*H+440.413735824752):V=V/(H+1/(H+2/(H+3/(H+4/(H+.65)))))/2.506628274631);return 0<t?1-V:V}function pa(t,H,V){if(0>t||1<t)return NaN;t=2*t-1;var E=-Math.log((1-t)*(1+t));6.25>E?(E-=3.125,E=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+
(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E):16>E?(E=Math.sqrt(E)-3.25,E=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+
(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E):Number.isFinite(E)?(E=Math.sqrt(E)-5,E=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+
(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E)*E):E=Infinity;return(H||0)+(null==V?1:V)*G*E*t}function Aa(t,H){let V,E;const K={mean(z){return arguments.length?(V=z||0,K):V},stdev(z){return arguments.length?(E=null==z?1:z,K):E},sample:()=>Va(V,E),pdf:z=>Xa(z,V,E),cdf:z=>Fa(z,
V,E),icdf:z=>pa(z,V,E)};return K.mean(t).stdev(H)}function Ha(t,H){H=null==H?1:H;return Math.exp((t||0)+Va()*H)}function bb(t,H,V){if(0>=t)return 0;V=null==V?1:V;H=(Math.log(t)-(H||0))/V;return Math.exp(-.5*H*H)/(V*m*t)}function $a(t,H,V){return Fa(Math.log(t),H,V)}function Ca(t,H,V){return Math.exp(pa(t,H,V))}function Cb(t,H){null==H&&(H=null==t?1:t,t=0);return t+(H-t)*x.random()}function xb(t,H,V){null==V&&(V=null==H?1:H,H=0);return t>=H&&t<=V?1/(V-H):0}function Mb(t,H,V){null==V&&(V=null==H?1:
H,H=0);return t<H?0:t>V?1:(t-H)/(V-H)}function kc(t,H,V){null==V&&(V=null==H?1:H,H=0);return 0<=t&&1>=t?H+t*(V-H):NaN}function pb(t,H,V,E){E-=t*t;V=1E-24>Math.abs(E)?0:(V-t*H)/E;return[H-V*t,V]}function ca(t,H,V,E){t=t.filter(xa=>{let R=H(xa);xa=V(xa);return null!=R&&(R=+R)>=R&&null!=xa&&(xa=+xa)>=xa});E&&t.sort((xa,R)=>H(xa)-H(R));E=t.length;const K=new Float64Array(E),z=new Float64Array(E);let L=0,X=0,qa=0,T,la;for(la of t)K[L]=t=+H(la),z[L]=T=+V(la),++L,X+=(t-X)/L,qa+=(T-qa)/L;for(L=0;L<E;++L)K[L]-=
X,z[L]-=qa;return[K,z,X,qa]}function O(t,H,V,E){let K=-1,z;for(const L of t)t=H(L),z=V(L),null!=t&&(t=+t)>=t&&null!=z&&(z=+z)>=z&&E(t,z,++K)}function oa(t,H,V,E,K){let z=0,L=0;O(t,H,V,(X,qa)=>{X=qa-K(X);qa-=E;z+=X*X;L+=qa*qa});return 1-z/L}function ra(t,H,V){let E=0,K=0,z=0,L=0,X=0;O(t,H,V,(la,xa)=>{++X;E+=(la-E)/X;K+=(xa-K)/X;z+=(la*xa-z)/X;L+=(la*la-L)/X});const qa=pb(E,K,z,L),T=la=>qa[0]+qa[1]*la;return{coef:qa,predict:T,rSquared:oa(t,H,V,K,T)}}function Oa(t,H,V){const [E,K,z,L]=ca(t,H,V);var X=
E.length,qa=0;let T=0;var la=0;let xa=0,R=0,ka,Ka,kb,Za;for(ka=0;ka<X;)Ka=E[ka],kb=K[ka++],Za=Ka*Ka,qa+=(Za-qa)/ka,T+=(Za*Ka-T)/ka,la+=(Za*Za-la)/ka,xa+=(Ka*kb-xa)/ka,R+=(Za*kb-R)/ka;X=la-qa*qa;la=qa*X-T*T;const mb=(R*qa-xa*T)/la,Ra=(xa*X-R*T)/la,Ob=-mb*qa;qa=mc=>{mc-=z;return mb*mc*mc+Ra*mc+Ob+L};return{coef:[Ob-Ra*z+mb*z*z+L,Ra-2*mb*z,mb],predict:qa,rSquared:oa(t,H,V,L,qa)}}function ya(t,H,V,E){const K=Array(t);let z,L,X;for(z=0;z<t;++z)K[z]=0;for(z=t-1;0<=z;--z)for(L=H[z],X=1,K[z]+=L,t=1;t<=z;++t)X*=
(z+1-t)/t,K[z-t]+=L*Math.pow(V,t)*X;K[0]+=E;return K}function va(t){const H=t.length-1,V=[];let E,K,z,L,X;for(E=0;E<H;++E){L=E;for(K=E+1;K<H;++K)Math.abs(t[E][K])>Math.abs(t[E][L])&&(L=K);for(z=E;z<H+1;++z)X=t[z][E],t[z][E]=t[z][L],t[z][L]=X;for(K=E+1;K<H;++K)for(z=H;z>=E;z--)t[z][K]-=t[z][E]*t[E][K]/t[E][E]}for(K=H-1;0<=K;--K){X=0;for(z=K+1;z<H;++z)X+=t[z][K]*V[z];V[K]=(t[H][K]-X)/t[K][K]}return V}x.random=Math.random;const m=Math.sqrt(2*Math.PI),G=Math.SQRT2;let Q=NaN;const y=.5*Math.PI/180;x.bandwidthNRD=
Ab;x.bin=function(t){var H=t.maxbins||20;const V=t.base||10,E=Math.log(V),K=t.divide||[5,2];let z=t.extent[0],L=t.extent[1];let X,qa,T,la;const xa=t.span||L-z||Math.abs(z)||1;if(t.step)var R=t.step;else if(t.steps){qa=xa/H;T=0;for(la=t.steps.length;T<la&&t.steps[T]<qa;++T);R=t.steps[Math.max(0,T-1)]}else{R=Math.ceil(Math.log(H)/E);X=t.minstep||0;for(R=Math.max(X,Math.pow(V,Math.round(Math.log(xa)/E)-R));Math.ceil(xa/R)>H;)R*=V;T=0;for(la=K.length;T<la;++T)qa=R/K[T],qa>=X&&xa/qa<=H&&(R=qa)}qa=Math.log(R);
H=Math.pow(V,-(0<=qa?0:~~(-qa/E)+1)-1);if(t.nice||void 0===t.nice)qa=Math.floor(z/R+H)*R,z=z<qa?qa-R:qa,L=Math.ceil(L/R)*R;return{start:z,stop:L===z?z+R:L,step:R}};x.bootstrapCI=function(t,H,V,E){if(!t.length)return[void 0,void 0];t=Float64Array.from(l(t,E));E=t.length;let K,z,L,X;L=0;for(X=Array(H);L<H;++L){for(z=K=0;z<E;++z)K+=t[~~(x.random()*E)];X[L]=K/E}X.sort(M);return[fc(X,V/2),fc(X,1-V/2)]};x.cumulativeLogNormal=$a;x.cumulativeNormal=Fa;x.cumulativeUniform=Mb;x.densityLogNormal=bb;x.densityNormal=
Xa;x.densityUniform=xb;x.dotbin=function(t,H,V,E){E=E||(R=>R);const K=t.length,z=new Float64Array(K);let L=0,X=1,qa=E(t[0]),T=qa,la=qa+H,xa;for(;X<K;++X){xa=E(t[X]);if(xa>=la){for(T=(qa+T)/2;L<X;++L)z[L]=T;la=xa+H;qa=xa}T=xa}for(T=(qa+T)/2;L<X;++L)z[L]=T;return V?Pa(z,H+H/4):z};x.quantileLogNormal=Ca;x.quantileNormal=pa;x.quantileUniform=kc;x.quantiles=jb;x.quartiles=yb;x.randomInteger=function(t,H){null==H&&(H=t,t=0);let V,E,K;const z={min(L){return arguments.length?(V=L||0,K=E-V,z):V},max(L){return arguments.length?
(E=L||0,K=E-V,z):E},sample(){return V+Math.floor(K*x.random())},pdf(L){return L===Math.floor(L)&&L>=V&&L<E?1/K:0},cdf(L){L=Math.floor(L);return L<V?0:L>=E?1:(L-V+1)/K},icdf(L){return 0<=L&&1>=L?V-1+Math.floor(L*K):NaN}};return z.min(t).max(H)};x.randomKDE=function(t,H){const V=Aa();let E=0;const K={data(z){return arguments.length?(E=(t=z)?z.length:0,K.bandwidth(H)):t},bandwidth(z){if(!arguments.length)return H;H=z;!H&&t&&(H=Ab(t));return K},sample(){return t[~~(x.random()*E)]+H*V.sample()},pdf(z){let L=
0,X=0;for(;X<E;++X)L+=V.pdf((z-t[X])/H);return L/H/E},cdf(z){let L=0,X=0;for(;X<E;++X)L+=V.cdf((z-t[X])/H);return L/E},icdf(){throw Error("KDE icdf not supported.");}};return K.data(t)};x.randomLCG=function(t){return function(){t=(1103515245*t+12345)%2147483647;return t/2147483647}};x.randomLogNormal=function(t,H){let V,E;const K={mean(z){return arguments.length?(V=z||0,K):V},stdev(z){return arguments.length?(E=null==z?1:z,K):E},sample:()=>Ha(V,E),pdf:z=>bb(z,V,E),cdf:z=>$a(z,V,E),icdf:z=>Ca(z,V,
E)};return K.mean(t).stdev(H)};x.randomMixture=function(t,H){let V=0,E;const K={weights(z){if(arguments.length){var L=H=z||[];const X=[];let qa=0,T;for(T=0;T<V;++T)qa+=X[T]=null==L[T]?1:+L[T];for(T=0;T<V;++T)X[T]/=qa;E=X;return K}return H},distributions(z){return arguments.length?(z?(V=z.length,t=z):(V=0,t=[]),K.weights(H)):t},sample(){const z=x.random();let L=t[V-1],X=E[0],qa=0;for(;qa<V-1;X+=E[++qa])if(z<X){L=t[qa];break}return L.sample()},pdf(z){let L=0,X=0;for(;X<V;++X)L+=E[X]*t[X].pdf(z);return L},
cdf(z){let L=0,X=0;for(;X<V;++X)L+=E[X]*t[X].cdf(z);return L},icdf(){throw Error("Mixture icdf not supported.");}};return K.distributions(t).weights(H)};x.randomNormal=Aa;x.randomUniform=function(t,H){let V,E;const K={min(z){return arguments.length?(V=z||0,K):V},max(z){return arguments.length?(E=null==z?1:z,K):E},sample:()=>Cb(V,E),pdf:z=>xb(z,V,E),cdf:z=>Mb(z,V,E),icdf:z=>kc(z,V,E)};null==H&&(H=null==t?1:t,t=0);return K.min(t).max(H)};x.regressionExp=function(t,H,V){const [E,,K,z]=ca(t,H,V);let L=
0,X=0,qa=0,T=0,la=0,xa,R,ka;O(t,H,V,(mb,Ra)=>{xa=E[la++];R=Math.log(Ra);ka=xa*Ra;L+=(Ra*R-L)/la;X+=(ka-X)/la;qa+=(ka*R-qa)/la;T+=(xa*ka-T)/la});const [Ka,kb]=pb(X/z,L/z,qa/z,T/z),Za=mb=>Math.exp(Ka+kb*(mb-K));return{coef:[Math.exp(Ka-kb*K),kb],predict:Za,rSquared:oa(t,H,V,z,Za)}};x.regressionLinear=ra;x.regressionLoess=function(t,H,V,E){const [K,z,L,X]=ca(t,H,V,!0);t=K.length;H=Math.max(2,~~(E*t));E=new Float64Array(t);V=new Float64Array(t);var qa=(new Float64Array(t)).fill(1);for(var T=-1;2>=++T;){var la=
[0,H-1];for(let Ob=0;Ob<t;++Ob){var xa=K[Ob],R=la[0],ka=la[1],Ka=0,kb=0,Za=0,mb=0;let mc=0;const Lc=1/Math.abs(K[xa-K[R]>K[ka]-xa?R:ka]-xa||1);for(;R<=ka;++R){const jc=K[R],Sc=z[R];var Ra=Math.abs(xa-jc)*Lc;const Ta=(Ra=1-Ra*Ra*Ra)*Ra*Ra*qa[R];Ra=jc*Ta;Ka+=Ta;kb+=Ra;Za+=Sc*Ta;mb+=Sc*Ra;mc+=jc*Ra}const [wc,tc]=pb(kb/Ka,Za/Ka,mb/Ka,mc/Ka);E[Ob]=wc+tc*xa;V[Ob]=Math.abs(z[Ob]-E[Ob]);xa=K;ka=Ob+1;Ka=la;kb=xa[ka];Za=Ka[0];mb=Ka[1]+1;if(!(mb>=xa.length))for(;ka>Za&&xa[mb]-kb<=kb-xa[Za];)Ka[0]=++Za,Ka[1]=
mb,++mb}if(2===T)break;la=fc(V,.5,void 0);if(1E-12>Math.abs(la))break;for(let Ob=0,mc,Lc;Ob<t;++Ob)mc=V[Ob]/(6*la),qa[Ob]=1<=mc?1E-12:(Lc=1-mc*mc)*Lc}t=K.length;H=[];qa=V=0;for(T=[];V<t;++V)la=K[V]+L,T[0]===la?T[1]+=(E[V]-T[1])/++qa:(qa=0,T[1]+=X,T=[la,E[V]],H.push(T));T[1]+=X;return H};x.regressionLog=function(t,H,V){let E=0,K=0,z=0,L=0,X=0;O(t,H,V,(la,xa)=>{++X;la=Math.log(la);E+=(la-E)/X;K+=(xa-K)/X;z+=(la*xa-z)/X;L+=(la*la-L)/X});const qa=pb(E,K,z,L),T=la=>qa[0]+qa[1]*Math.log(la);return{coef:qa,
predict:T,rSquared:oa(t,H,V,K,T)}};x.regressionPoly=function(t,H,V,E){if(1===E)return ra(t,H,V);if(2===E)return Oa(t,H,V);const [K,z,L,X]=ca(t,H,V);var qa=K.length;const T=[],la=[],xa=E+1;let R,ka,Ka,kb;for(R=0;R<xa;++R){for(Ka=ka=0;ka<qa;++ka)Ka+=Math.pow(K[ka],R)*z[ka];T.push(Ka);kb=new Float64Array(xa);for(E=0;E<xa;++E){for(Ka=ka=0;ka<qa;++ka)Ka+=Math.pow(K[ka],R+E);kb[E]=Ka}la.push(kb)}la.push(T);const Za=va(la);qa=mb=>{mb-=L;let Ra=X+Za[0]+Za[1]*mb+Za[2]*mb*mb;for(R=3;R<xa;++R)Ra+=Za[R]*Math.pow(mb,
R);return Ra};return{coef:ya(xa,Za,-L,X),predict:qa,rSquared:oa(t,H,V,X,qa)}};x.regressionPow=function(t,H,V){let E=0,K=0,z=0,L=0,X=0,qa=0;O(t,H,V,(xa,R)=>{xa=Math.log(xa);const ka=Math.log(R);++qa;E+=(xa-E)/qa;K+=(ka-K)/qa;z+=(xa*ka-z)/qa;L+=(xa*xa-L)/qa;X+=(R-X)/qa});const T=pb(E,K,z,L),la=xa=>T[0]*Math.pow(xa,T[1]);T[0]=Math.exp(T[0]);return{coef:T,predict:la,rSquared:oa(t,H,V,X,la)}};x.regressionQuad=Oa;x.sampleCurve=function(t,H,V,E){V=V||25;E=Math.max(V,E||200);var K=H[0],z=H[1],L=z-K,X=L/E;
H=[[K,t(K)]];var qa=[];if(V===E){for(var T=1;T<E;++T){X=H;qa=X.push;var la=K+T/V*L;la=[la,t(la)];qa.call(X,la)}H.push([z,t(z)]);return H}qa.push([z,t(z)]);for(T=V;0<--T;)E=qa,z=E.push,la=K+T/V*L,la=[la,t(la)],z.call(E,la);V=H[0];K=qa[qa.length-1];L=1/L;E=z=V[1];T=qa.length;for(la=0;la<T;++la){const xa=qa[la][1];xa<E&&(E=xa);xa>z&&(z=xa)}for(E=1/(z-E);K;)z=(V[0]+K[0])/2,z=[z,t(z)],z[0]-V[0]>=X&&Math.abs(Math.atan2(E*(K[1]-V[1]),L*(K[0]-V[0]))-Math.atan2(E*(z[1]-V[1]),L*(z[0]-V[0])))>y?qa.push(z):(V=
K,H.push(K),qa.pop()),K=qa[qa.length-1];return H};x.sampleLogNormal=Ha;x.sampleNormal=Va;x.sampleUniform=Cb;x.setRandom=function(t){x.random=t};Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[30]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(20),vb(28),vb(29),vb(22)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega,x.vega,x.vega))})(this,function(x,l,M,cb,zb){function Zb(A){return W=>{const ta=A.length;let Qa=1,qb=String(A[0](W));for(;Qa<ta;++Qa)qb+="|"+A[Qa](W);return qb}}function gc(A){return A&&
A.length?1===A.length?A[0]:Zb(A):function(){return""}}function nc(A,W){return ta=>l.extend({name:A,out:ta||A},Dc,W)}function Tb(A,W){return A.idx-W.idx}function Gb(A){const W={};A.forEach(Qa=>W[Qa.name]=Qa);const ta=Qa=>{Qa.req&&Qa.req.forEach(qb=>{W[qb]||ta(W[qb]=Fc[qb]())})};A.forEach(ta);return Object.values(W).sort(Tb)}function Db(){this.missing=this.valid=0;this._ops.forEach(A=>A.init(this))}function fc(A,W){null==A||""===A?++this.missing:A===A&&(++this.valid,this._ops.forEach(ta=>ta.add(this,
A,W)))}function Ba(A,W){null==A||""===A?--this.missing:A===A&&(--this.valid,this._ops.forEach(ta=>ta.rem(this,A,W)))}function jb(A){this._out.forEach(W=>A[W.out]=W.value(this));return A}function yb(A,W){function ta(Bb){this._ops=Qa;this._out=qb;this.cell=Bb;this.init()}W=W||l.identity;const Qa=Gb(A),qb=A.slice().sort(Tb);ta.prototype.init=Db;ta.prototype.add=fc;ta.prototype.rem=Ba;ta.prototype.set=jb;ta.prototype.get=W;ta.fields=A.map(Bb=>Bb.out);return ta}function Ab(A){this._key=A?l.field(A):M.tupleid;
this.reset()}function Pa(A){M.Transform.call(this,null,A);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Va(A){M.Transform.call(this,null,A)}function Xa(A,W,ta){let Qa=W||[],qb=ta||[],Bb={},ac=0;return{add:Sb=>qb.push(Sb),remove:Sb=>Bb[A(Sb)]=++ac,size:()=>Qa.length,data:(Sb,wb)=>{ac&&(Qa=Qa.filter(zc=>!Bb[A(zc)]),Bb={},ac=0);wb&&Sb&&
Qa.sort(Sb);qb.length&&(Qa=Sb?l.merge(Sb,Qa,qb.sort(Sb)):Qa.concat(qb),qb=[]);return Qa}}}function Fa(A){M.Transform.call(this,[],A)}function pa(A){M.Operator.call(this,null,Aa,A)}function Aa(A){return this.value&&!A.modified()?this.value:l.compare(A.fields,A.orders)}function Ha(A){M.Transform.call(this,null,A)}function bb(A){M.Transform.call(this,null,A)}function $a(A,W){var ta=A["function"];l.hasOwnProperty(Hd,ta)||l.error("Unknown distribution function: "+ta);ta=Hd[ta]();for(const Qa in A)if("field"===
Qa)ta.data((A.from||W()).map(A[Qa]));else if("distributions"===Qa)ta[Qa](A[Qa].map(qb=>$a(qb,W)));else if("function"===typeof ta[Qa])ta[Qa](A[Qa]);return ta}function Ca(A){M.Transform.call(this,null,A)}function Cb(A){return()=>A.materialize(A.SOURCE).source}function xb(A,W){return A?A.map((ta,Qa)=>W[Qa]||l.accessorName(ta)):null}function Mb(A,W,ta){const Qa=[],qb=$c=>$c(wb);let Bb,ac,Sb,wb,zc,Ic;if(null==W)Qa.push(A.map(ta));else for(Bb={},ac=0,Sb=A.length;ac<Sb;++ac)wb=A[ac],zc=W.map(qb),Ic=Bb[zc],
Ic||(Bb[zc]=Ic=[],Ic.dims=zc,Qa.push(Ic)),Ic.push(ta(wb));return Qa}function kc(A){M.Transform.call(this,null,A)}function pb(A){M.Operator.call(this,null,ca,A);this.modified(!0)}function ca(A){const W=A.expr;return this.value&&!A.modified("expr")?this.value:l.accessor(ta=>W(ta,A),l.accessorFields(W),l.accessorName(W))}function O(A){M.Transform.call(this,[void 0,void 0],A)}function oa(A,W){M.Operator.call(this,A);this.parent=W;this.count=0}function ra(A){M.Transform.call(this,{},A);this._keys=l.fastmap();
const W=this._targets=[];W.active=0;W.forEach=ta=>{for(let Qa=0,qb=W.active;Qa<qb;++Qa)ta(W[Qa],Qa,W)}}function Oa(A){M.Operator.call(this,null,ya,A)}function ya(A){return this.value&&!A.modified()?this.value:l.isArray(A.name)?l.array(A.name).map(W=>l.field(W)):l.field(A.name,A.as)}function va(A){M.Transform.call(this,l.fastmap(),A)}function m(A){M.Transform.call(this,[],A)}function G(A){M.Transform.call(this,[],A)}function Q(A){M.Transform.call(this,null,A)}function y(A){M.Transform.call(this,[],
A)}function t(A,W){return null==A||null==W?NaN:A<W?-1:A>W?1:A>=W?0:NaN}function H(A){function W(Bb,ac,Sb=0,wb=Bb.length){if(Sb<wb){if(0!==Qa(ac,ac))return wb;do{const zc=Sb+wb>>>1;0>qb(Bb[zc],ac)?Sb=zc+1:wb=zc}while(Sb<wb)}return Sb}let ta=A,Qa=A,qb=A;2!==A.length&&(ta=(Bb,ac)=>A(Bb)-ac,Qa=t,qb=(Bb,ac)=>t(A(Bb),ac));return{left:W,center:function(Bb,ac,Sb=0,wb=Bb.length){wb=W(Bb,ac,Sb,wb-1);return wb>Sb&&ta(Bb[wb-1],ac)>-ta(Bb[wb],ac)?wb-1:wb},right:function(Bb,ac,Sb=0,wb=Bb.length){if(Sb<wb){if(0!==
Qa(ac,ac))return wb;do{const zc=Sb+wb>>>1;0>=qb(Bb[zc],ac)?Sb=zc+1:wb=zc}while(Sb<wb)}return Sb}}}function*V(A,W){if(void 0===W)for(var ta of A)null!=ta&&(ta=+ta)>=ta&&(yield ta);else{ta=-1;for(let Qa of A)null!=(Qa=W(Qa,++ta,A))&&(Qa=+Qa)>=Qa&&(yield Qa)}}function E(A=t){if(A===t)return K;if("function"!==typeof A)throw new TypeError("compare is not a function");return(W,ta)=>{const Qa=A(W,ta);return Qa||0===Qa?Qa:(0===A(ta,ta))-(0===A(W,W))}}function K(A,W){return(null==A||!(A>=A))-(null==W||!(W>=
W))||(A<W?-1:A>W?1:0)}function z(A,W){let ta;if(void 0===W)for(var Qa of A)null!=Qa&&(ta<Qa||void 0===ta&&Qa>=Qa)&&(ta=Qa);else{Qa=-1;for(let qb of A)null!=(qb=W(qb,++Qa,A))&&(ta<qb||void 0===ta&&qb>=qb)&&(ta=qb)}return ta}function L(A,W){let ta;if(void 0===W)for(var Qa of A)null!=Qa&&(ta>Qa||void 0===ta&&Qa>=Qa)&&(ta=Qa);else{Qa=-1;for(let qb of A)null!=(qb=W(qb,++Qa,A))&&(ta>qb||void 0===ta&&qb>=qb)&&(ta=qb)}return ta}function X(A,W,ta=0,Qa=A.length-1,qb){for(qb=void 0===qb?K:E(qb);Qa>ta;){if(600<
Qa-ta){var Bb=Qa-ta+1,ac=W-ta+1,Sb=Math.log(Bb),wb=.5*Math.exp(2*Sb/3);Sb=.5*Math.sqrt(Sb*wb*(Bb-wb)/Bb)*(0>ac-Bb/2?-1:1);X(A,W,Math.max(ta,Math.floor(W-ac*wb/Bb+Sb)),Math.min(Qa,Math.floor(W+(Bb-ac)*wb/Bb+Sb)),qb)}Bb=A[W];ac=ta;wb=Qa;qa(A,ta,W);for(0<qb(A[Qa],Bb)&&qa(A,ta,Qa);ac<wb;){qa(A,ac,wb);++ac;for(--wb;0>qb(A[ac],Bb);)++ac;for(;0<qb(A[wb],Bb);)--wb}0===qb(A[ta],Bb)?qa(A,ta,wb):(++wb,qa(A,wb,Qa));wb<=W&&(ta=wb+1);W<=wb&&(Qa=wb-1)}return A}function qa(A,W,ta){const Qa=A[W];A[W]=A[ta];A[ta]=
Qa}function T(A,W,ta){A=+A;W=+W;ta=2>(qb=arguments.length)?(W=A,A=0,1):3>qb?1:+ta;for(var Qa=-1,qb=Math.max(0,Math.ceil((W-A)/ta))|0,Bb=Array(qb);++Qa<qb;)Bb[Qa]=A+Qa*ta;return Bb}function la(A){M.Transform.call(this,[],A)}function xa(A){var W=A.method||Dd.value;if(null==Dd[W])l.error("Unrecognized imputation method: "+W);else{if(W===Dd.value){var ta=void 0!==A.value?A.value:0;return()=>ta}return Dd[W]}}function R(A){const W=A.field;return ta=>ta?W(ta):NaN}function ka(A,W,ta,Qa){var qb=Wd=>Wd($c),
Bb=[];Qa=Qa?Qa.slice():[];var ac={},Sb={},wb,zc;Qa.forEach((Wd,ke)=>ac[Wd]=ke+1);var Ic=0;for(zc=A.length;Ic<zc;++Ic){var $c=A[Ic];var bd=ta($c);var nd=ac[bd]||(ac[bd]=Qa.push(bd));var Ed=(bd=W?W.map(qb):ed)+"";(wb=Sb[Ed])||(wb=Sb[Ed]=[],Bb.push(wb),wb.values=bd);wb[nd-1]=$c}Bb.domain=Qa;return Bb}function Ka(A){Pa.call(this,A)}function kb(A){M.Transform.call(this,null,A)}function Za(A){M.Operator.call(this,null,mb,A)}function mb(A){return this.value&&!A.modified()?this.value:l.key(A.fields,A.flat)}
function Ra(A){M.Transform.call(this,[],A);this._pending=null}function Ob(A){return A.modified("async")&&!(A.modified("values")||A.modified("url")||A.modified("format"))}function mc(A,W,ta){ta.forEach(M.ingest);W=W.fork(W.NO_FIELDS&W.NO_SOURCE);W.rem=A.value;A.value=W.source=W.add=ta;A._pending=null;W.rem.length&&W.clean(!0);return W}function Lc(A){M.Transform.call(this,{},A)}function wc(A){M.Operator.call(this,null,tc,A)}function tc(A){if(this.value&&!A.modified())return this.value;A=A.extents;const W=
A.length;let ta=Infinity,Qa=-Infinity,qb,Bb;for(qb=0;qb<W;++qb)Bb=A[qb],Bb[0]<ta&&(ta=Bb[0]),Bb[1]>Qa&&(Qa=Bb[1]);return[ta,Qa]}function jc(A){M.Operator.call(this,null,Sc,A)}function Sc(A){return this.value&&!A.modified()?this.value:A.values.reduce((W,ta)=>W.concat(ta),[])}function Ta(A){M.Transform.call(this,null,A)}function Ea(A){Pa.call(this,A)}function ob(A,W){const ta=A.field,Qa=A.value,qb=("count"===A.op?"__count__":A.op)||"sum",Bb=l.accessorFields(ta).concat(l.accessorFields(Qa)),ac=Fb(ta,
A.limit||0,W);W.changed()&&A.set("__pivot__",null,null,!0);return{key:A.key,groupby:A.groupby,ops:ac.map(()=>qb),fields:ac.map(Sb=>lb(Sb,ta,Qa,Bb)),as:ac.map(Sb=>Sb+""),modified:A.modified.bind(A)}}function lb(A,W,ta,Qa){return l.accessor(qb=>W(qb)===A?ta(qb):NaN,Qa,A+"")}function Fb(A,W,ta){const Qa={},qb=[];ta.visit(ta.SOURCE,Bb=>{Bb=A(Bb);Qa[Bb]||(Qa[Bb]=1,qb.push(Bb))});qb.sort(l.ascending);return W?qb.slice(0,W):qb}function Wb(A){ra.call(this,A)}function Xb(A){M.Transform.call(this,null,A)}function ic(A){M.Transform.call(this,
null,A)}function xc(A){M.Transform.call(this,null,A)}function kd(A){M.Transform.call(this,null,A)}function B(A){M.Transform.call(this,[],A);this.count=0}function w(A){M.Transform.call(this,null,A)}function C(A){M.Transform.call(this,null,A);this.modified(!0)}function aa(A){M.Transform.call(this,null,A)}function fa(A){M.Transform.call(this,l.fastmap(),A)}function za(A){M.Transform.call(this,null,A)}function eb(A,W,ta,Qa){const qb=ve[A](W,ta);return{init:qb.init||l.zero,update:function(Bb,ac){ac[Qa]=
qb.next(Bb)}}}function fb(A){function W(nd){l.array(l.accessorFields(nd)).forEach(Ed=>wb[Ed]=1)}const ta=l.array(A.ops),Qa=l.array(A.fields),qb=l.array(A.params),Bb=l.array(A.as),ac=this.outputs=[],Sb=this.windows=[],wb={},zc={},Ic=[],$c=[];let bd=!0;W(A.sort);ta.forEach((nd,Ed)=>{const Wd=Qa[Ed],ke=l.accessorName(Wd),ce=Bb[Ed]||nd+(ke?"_"+ke:"");W(Wd);ac.push(ce);l.hasOwnProperty(ve,nd)?Sb.push(eb(nd,Qa[Ed],qb[Ed],ce)):(null==Wd&&"count"!==nd&&l.error("Null aggregate field specified."),"count"===
nd?Ic.push(ce):(bd=!1,Ed=zc[ke],Ed||(Ed=zc[ke]=[],Ed.field=Wd,$c.push(Ed)),Ed.push(Fc[nd](ce))))});if(Ic.length||$c.length)this.cell=ib($c,Ic,bd);this.inputs=Object.keys(wb)}function ib(A,W,ta){A=A.map(wb=>yb(wb,wb.field));const Qa={num:0,agg:null,store:!1,count:W};if(!ta)for(var qb=A.length,Bb=Qa.agg=Array(qb),ac=0;ac<qb;++ac)Bb[ac]=new A[ac](Qa);if(Qa.store)var Sb=Qa.data=new Ab;Qa.add=function(wb){Qa.num+=1;if(!ta){Sb&&Sb.add(wb);for(let zc=0;zc<qb;++zc)Bb[zc].add(Bb[zc].get(wb),wb)}};Qa.rem=function(wb){--Qa.num;
if(!ta){Sb&&Sb.rem(wb);for(let zc=0;zc<qb;++zc)Bb[zc].rem(Bb[zc].get(wb),wb)}};Qa.set=function(wb){let zc,Ic;Sb&&Sb.values();zc=0;for(Ic=W.length;zc<Ic;++zc)wb[W[zc]]=Qa.num;if(!ta)for(zc=0,Ic=Bb.length;zc<Ic;++zc)Bb[zc].set(wb)};Qa.init=function(){Qa.num=0;Sb&&Sb.reset();for(let wb=0;wb<qb;++wb)Bb[wb].init()};return Qa}function Vb(A){M.Transform.call(this,{},A);this._mlen=0;this._mods=[]}function oc(A,W,ta,Qa){var qb=Qa.sort;const Bb=qb&&!Qa.ignorePeers;Qa=Qa.frame||[null,0];A=A.data(ta);ta=A.length;
const ac=Bb?H(qb):null;qb={i0:0,i1:0,p0:0,p1:0,index:0,data:A,compare:qb||l.constant(-1)};W.init();for(let $c=0;$c<ta;++$c){var Sb=qb,wb=Qa,zc=$c,Ic=ta;Sb.p0=Sb.i0;Sb.p1=Sb.i1;Sb.i0=null==wb[0]?0:Math.max(0,zc-Math.abs(wb[0]));Sb.i1=null==wb[1]?Ic:Math.min(Ic,zc+Math.abs(wb[1])+1);Sb.index=zc;if(Bb){Sb=qb;wb=ac;zc=Sb.i0;Ic=Sb.i1-1;const bd=Sb.compare,nd=Sb.data,Ed=nd.length-1;0<zc&&!bd(nd[zc],nd[zc-1])&&(Sb.i0=wb.left(nd,nd[zc]));Ic<Ed&&!bd(nd[Ic],nd[Ic+1])&&(Sb.i1=wb.right(nd,nd[Ic]))}W.update(qb,
A[$c])}}const qc=()=>{},Dc={init:qc,add:qc,rem:qc,idx:0},Fc={values:{init:A=>A.cell.store=!0,value:A=>A.cell.data.values(),idx:-1},count:{value:A=>A.cell.num},__count__:{value:A=>A.missing+A.valid},missing:{value:A=>A.missing},valid:{value:A=>A.valid},sum:{init:A=>A.sum=0,value:A=>A.sum,add:(A,W)=>A.sum+=+W,rem:(A,W)=>A.sum-=W},product:{init:A=>A.product=1,value:A=>A.valid?A.product:void 0,add:(A,W)=>A.product*=W,rem:(A,W)=>A.product/=W},mean:{init:A=>A.mean=0,value:A=>A.valid?A.mean:void 0,add:(A,
W)=>(A.mean_d=W-A.mean,A.mean+=A.mean_d/A.valid),rem:(A,W)=>(A.mean_d=W-A.mean,A.mean-=A.valid?A.mean_d/A.valid:A.mean)},average:{value:A=>A.valid?A.mean:void 0,req:["mean"],idx:1},variance:{init:A=>A.dev=0,value:A=>1<A.valid?A.dev/(A.valid-1):void 0,add:(A,W)=>A.dev+=A.mean_d*(W-A.mean),rem:(A,W)=>A.dev-=A.mean_d*(W-A.mean),req:["mean"],idx:1},variancep:{value:A=>1<A.valid?A.dev/A.valid:void 0,req:["variance"],idx:2},stdev:{value:A=>1<A.valid?Math.sqrt(A.dev/(A.valid-1)):void 0,req:["variance"],
idx:2},stdevp:{value:A=>1<A.valid?Math.sqrt(A.dev/A.valid):void 0,req:["variance"],idx:2},stderr:{value:A=>1<A.valid?Math.sqrt(A.dev/(A.valid*(A.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:A=>A.cell.data.distinct(A.get),req:["values"],idx:3},ci0:{value:A=>A.cell.data.ci0(A.get),req:["values"],idx:3},ci1:{value:A=>A.cell.data.ci1(A.get),req:["values"],idx:3},median:{value:A=>A.cell.data.q2(A.get),req:["values"],idx:3},q1:{value:A=>A.cell.data.q1(A.get),req:["values"],idx:3},q3:{value:A=>
A.cell.data.q3(A.get),req:["values"],idx:3},min:{init:A=>A.min=void 0,value:A=>A.min=Number.isNaN(A.min)?A.cell.data.min(A.get):A.min,add:(A,W)=>{if(W<A.min||void 0===A.min)A.min=W},rem:(A,W)=>{W<=A.min&&(A.min=NaN)},req:["values"],idx:4},max:{init:A=>A.max=void 0,value:A=>A.max=Number.isNaN(A.max)?A.cell.data.max(A.get):A.max,add:(A,W)=>{if(W>A.max||void 0===A.max)A.max=W},rem:(A,W)=>{W>=A.max&&(A.max=NaN)},req:["values"],idx:4},argmin:{init:A=>A.argmin=void 0,value:A=>A.argmin||A.cell.data.argmin(A.get),
add:(A,W,ta)=>{W<A.min&&(A.argmin=ta)},rem:(A,W)=>{W<=A.min&&(A.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:A=>A.argmax=void 0,value:A=>A.argmax||A.cell.data.argmax(A.get),add:(A,W,ta)=>{W>A.max&&(A.argmax=ta)},rem:(A,W)=>{W>=A.max&&(A.argmax=void 0)},req:["max","values"],idx:3}},Zc=Object.keys(Fc);Zc.forEach(A=>{Fc[A]=nc(A,Fc[A])});const xd=Ab.prototype;xd.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};xd.add=function(A){this._add.push(A)};xd.rem=function(A){this._rem.push(A)};
xd.values=function(){this._get=null;if(0===this._rem.length)return this._add;const A=this._add;var W=this._rem;const ta=this._key,Qa=A.length,qb=W.length,Bb=Array(Qa-qb),ac={};let Sb,wb;for(Sb=0;Sb<qb;++Sb)ac[ta(W[Sb])]=1;for(W=Sb=0;Sb<Qa;++Sb)ac[ta(wb=A[Sb])]?ac[ta(wb)]=0:Bb[W++]=wb;this._rem=[];return this._add=Bb};xd.distinct=function(A){const W=this.values(),ta={};let Qa=W.length,qb=0,Bb;for(;0<=--Qa;)Bb=A(W[Qa])+"",l.hasOwnProperty(ta,Bb)||(ta[Bb]=1,++qb);return qb};xd.extent=function(A){if(this._get!==
A||!this._ext){const W=this.values(),ta=l.extentIndex(W,A);this._ext=[W[ta[0]],W[ta[1]]];this._get=A}return this._ext};xd.argmin=function(A){return this.extent(A)[0]||{}};xd.argmax=function(A){return this.extent(A)[1]||{}};xd.min=function(A){const W=this.extent(A)[0];return null!=W?A(W):void 0};xd.max=function(A){const W=this.extent(A)[1];return null!=W?A(W):void 0};xd.quartile=function(A){this._get===A&&this._q||(this._q=cb.quartiles(this.values(),A),this._get=A);return this._q};xd.q1=function(A){return this.quartile(A)[0]};
xd.q2=function(A){return this.quartile(A)[1]};xd.q3=function(A){return this.quartile(A)[2]};xd.ci=function(A){this._get===A&&this._ci||(this._ci=cb.bootstrapCI(this.values(),1E3,.05,A),this._get=A);return this._ci};xd.ci0=function(A){return this.ci(A)[0]};xd.ci1=function(A){return this.ci(A)[1]};Pa.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Zc},{name:"fields",type:"field","null":!0,array:!0},
{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};l.inherits(Pa,M.Transform,{transform(A,W){const ta=this,Qa=W.fork(W.NO_SOURCE|W.NO_FIELDS),qb=A.modified();ta.stamp=Qa.stamp;ta.value&&(qb||W.modified(ta._inputs,!0))?(ta._prev=ta.value,ta.value=qb?ta.init(A):{},W.visit(W.SOURCE,Bb=>ta.add(Bb))):(ta.value=ta.value||ta.init(A),W.visit(W.REM,Bb=>ta.rem(Bb)),W.visit(W.ADD,Bb=>ta.add(Bb)));Qa.modifies(ta._outputs);
ta._drop=!1!==A.drop;A.cross&&1<ta._dims.length&&(ta._drop=!1,ta.cross());W.clean()&&ta._drop&&Qa.clean(!0).runAfter(()=>this.clean());return ta.changes(Qa)},cross(){function A(Sb){let wb,zc,Ic,$c;for(wb in Sb)for(Ic=Sb[wb].tuple,zc=0;zc<ac;++zc)Bb[zc][$c=Ic[qb[zc]]]=$c}function W(Sb,wb,zc){const Ic=qb[zc],$c=Bb[zc++];for(const bd in $c){const nd=Sb?Sb+"|"+bd:bd;wb[Ic]=$c[bd];zc<ac?W(nd,wb,zc):Qa[nd]||ta.cell(nd,wb)}}const ta=this,Qa=ta.value,qb=ta._dnames,Bb=qb.map(()=>({})),ac=qb.length;A(ta._prev);
A(Qa);W("",{},0)},init(A){function W(Wd){Wd=l.array(l.accessorFields(Wd));const ke=Wd.length;let ce=0,Ud;for(;ce<ke;++ce)qb[Ud=Wd[ce]]||(qb[Ud]=1,ta.push(Ud))}const ta=this._inputs=[],Qa=this._outputs=[],qb={};this._dims=l.array(A.groupby);this._dnames=this._dims.map(Wd=>{const ke=l.accessorName(Wd);W(Wd);Qa.push(ke);return ke});this.cellkey=A.key?A.key:gc(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Bb=A.fields||[null],ac=A.ops||["count"];A=A.as||[];const Sb=Bb.length,wb=
{};let zc,Ic,$c,bd,nd,Ed;Sb!==ac.length&&l.error("Unmatched number of fields and aggregate ops.");for(Ed=0;Ed<Sb;++Ed)zc=Bb[Ed],Ic=ac[Ed],null==zc&&"count"!==Ic&&l.error("Null aggregate field specified."),bd=l.accessorName(zc),nd=A[Ed]||Ic+(bd?"_"+bd:""),Qa.push(nd),"count"===Ic?this._counts.push(nd):($c=wb[bd],$c||(W(zc),$c=wb[bd]=[],$c.field=zc,this._measures.push($c)),"count"!==Ic&&(this._countOnly=!1),$c.push(Fc[Ic](nd)));this._measures=this._measures.map(Wd=>yb(Wd,Wd.field));return{}},cellkey:gc(),
cell(A,W){let ta=this.value[A];ta?0===ta.num&&this._drop&&ta.stamp<this.stamp?(ta.stamp=this.stamp,this._adds[this._alen++]=ta):ta.stamp<this.stamp&&(ta.stamp=this.stamp,this._mods[this._mlen++]=ta):(ta=this.value[A]=this.newcell(A,W),this._adds[this._alen++]=ta);return ta},newcell(A,W){A={key:A,num:0,agg:null,tuple:this.newtuple(W,this._prev&&this._prev[A]),stamp:this.stamp,store:!1};if(!this._countOnly){W=this._measures;const ta=W.length;A.agg=Array(ta);for(let Qa=0;Qa<ta;++Qa)A.agg[Qa]=new W[Qa](A)}A.store&&
(A.data=new Ab);return A},newtuple(A,W){const ta=this._dnames,Qa=this._dims,qb=Qa.length,Bb={};for(let ac=0;ac<qb;++ac)Bb[ta[ac]]=Qa[ac](A);return W?M.replace(W.tuple,Bb):M.ingest(Bb)},clean(){const A=this.value;for(const W in A)0===A[W].num&&delete A[W]},add(A){var W=this.cellkey(A);W=this.cell(W,A);W.num+=1;if(!this._countOnly){W.store&&W.data.add(A);W=W.agg;for(let ta=0,Qa=W.length;ta<Qa;++ta)W[ta].add(W[ta].get(A),A)}},rem(A){var W=this.cellkey(A);W=this.cell(W,A);--W.num;if(!this._countOnly){W.store&&
W.data.rem(A);W=W.agg;for(let ta=0,Qa=W.length;ta<Qa;++ta)W[ta].rem(W[ta].get(A),A)}},celltuple(A){const W=A.tuple,ta=this._counts;A.store&&A.data.values();for(let Qa=0,qb=ta.length;Qa<qb;++Qa)W[ta[Qa]]=A.num;if(!this._countOnly){A=A.agg;for(let Qa=0,qb=A.length;Qa<qb;++Qa)A[Qa].set(W)}return W},changes(A){const W=this._adds,ta=this._mods;var Qa=this._prev;const qb=this._drop,Bb=A.add,ac=A.rem,Sb=A.mod;let wb;var zc;if(Qa)for(zc in Qa)wb=Qa[zc],qb&&!wb.num||ac.push(wb.tuple);Qa=0;for(zc=this._alen;Qa<
zc;++Qa)Bb.push(this.celltuple(W[Qa])),W[Qa]=null;Qa=0;for(zc=this._mlen;Qa<zc;++Qa)wb=ta[Qa],(0===wb.num&&qb?ac:Sb).push(this.celltuple(wb)),ta[Qa]=null;this._alen=this._mlen=0;this._prev=null;return A}});Va.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,
"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};l.inherits(Va,M.Transform,{transform(A,W){const ta=!1!==A.interval,Qa=this._bins(A),qb=Qa.start,Bb=Qa.step,ac=A.as||["bin0","bin1"],Sb=ac[0],wb=ac[1];
A.modified()?(W=W.reflow(!0),A=W.SOURCE):A=W.modified(l.accessorFields(A.field))?W.ADD_MOD:W.ADD;W.visit(A,ta?zc=>{const Ic=Qa(zc);zc[Sb]=Ic;zc[wb]=null==Ic?null:qb+Bb*(1+(Ic-qb)/Bb)}:zc=>zc[Sb]=Qa(zc));return W.modifies(ta?ac:Sb)},_bins(A){if(this.value&&!A.modified())return this.value;const W=A.field,ta=cb.bin(A),Qa=ta.step;let qb=ta.start,Bb=qb+Math.ceil((ta.stop-qb)/Qa)*Qa;var ac;null!=(ac=A.anchor)&&(ac-=qb+Qa*Math.floor((ac-qb)/Qa),qb+=ac,Bb+=ac);ac=function(Sb){Sb=l.toNumber(W(Sb));return null==
Sb?null:Sb<qb?-Infinity:Sb>Bb?Infinity:(Sb=Math.max(qb,Math.min(Sb,Bb-Qa)),qb+Qa*Math.floor(1E-14+(Sb-qb)/Qa))};ac.start=qb;ac.stop=ta.stop;ac.step=Qa;return this.value=l.accessor(ac,l.accessorFields(W),A.name||"bin_"+l.accessorName(W))}});Fa.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};l.inherits(Fa,M.Transform,{transform(A,W){const ta=W.fork(W.ALL),Qa=Xa(M.tupleid,this.value,ta.materialize(ta.ADD).add),qb=A.sort;A=W.changed()||qb&&(A.modified("sort")||W.modified(qb.fields));
ta.visit(ta.REM,Qa.remove);this.modified(A);this.value=ta.source=Qa.data(M.stableCompare(qb),A);W.source&&W.source.root&&(this.value.root=W.source.root);return ta}});l.inherits(pa,M.Operator);Ha.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",
array:!0,length:2,"default":["text","count"]}]};l.inherits(Ha,M.Transform,{transform(A,W){var ta=Ic=>$c=>{$c=Sb($c);var bd=Bb;switch(A.case){case "upper":$c=$c.toUpperCase();break;case "lower":$c=$c.toLowerCase()}$c=$c.match(bd)||[];var nd;bd=0;for(var Ed=$c.length;bd<Ed;++bd)ac.test(nd=$c[bd])||Ic(nd)};const Qa=this._parameterCheck(A,W),qb=this._counts,Bb=this._match,ac=this._stop,Sb=A.field,wb=A.as||["text","count"],zc=ta(Ic=>qb[Ic]=1+(qb[Ic]||0));ta=ta(Ic=>--qb[Ic]);Qa?W.visit(W.SOURCE,zc):(W.visit(W.ADD,
zc),W.visit(W.REM,ta));return this._finish(W,wb)},_parameterCheck(A,W){let ta=!1;if(A.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(A.stopwords||"")+"$","i"),ta=!0;if(A.modified("pattern")||!this._match)this._match=new RegExp(A.pattern||"[\\w']+","g"),ta=!0;if(A.modified("field")||W.modified(A.field.fields))ta=!0;ta&&(this._counts={});return ta},_finish(A,W){const ta=this._counts,Qa=this._tuples||(this._tuples={}),qb=W[0],Bb=W[1];A=A.fork(A.NO_SOURCE|A.NO_FIELDS);let ac,Sb,wb;for(ac in ta)Sb=
Qa[ac],wb=ta[ac]||0,!Sb&&wb?(Qa[ac]=Sb=M.ingest({}),Sb[qb]=ac,Sb[Bb]=wb,A.add.push(Sb)):0===wb?(Sb&&A.rem.push(Sb),ta[ac]=null,Qa[ac]=null):Sb[Bb]!==wb&&(Sb[Bb]=wb,A.mod.push(Sb));return A.modifies(W)}});bb.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};l.inherits(bb,M.Transform,{transform(A,W){const ta=W.fork(W.NO_SOURCE),Qa=A.as||["a","b"],qb=Qa[0],Bb=Qa[1];var ac=!this.value||W.changed(W.ADD_REM)||
A.modified("as")||A.modified("filter"),Sb=this.value;if(ac){Sb&&(ta.rem=Sb);W=Sb=W.materialize(W.SOURCE).source;A=A.filter||l.truthy;ac=[];Sb={};for(var wb=W.length,zc=0,Ic,$c;zc<wb;++zc)for(Sb[qb]=$c=W[zc],Ic=0;Ic<wb;++Ic)Sb[Bb]=W[Ic],A(Sb)&&(ac.push(M.ingest(Sb)),Sb={},Sb[qb]=$c);ta.add=this.value=ac}else ta.mod=Sb;ta.source=this.value;return ta.modifies(Qa)}});const Hd={kde:cb.randomKDE,mixture:cb.randomMixture,normal:cb.randomNormal,lognormal:cb.randomLogNormal,uniform:cb.randomUniform},Ad=[{key:{"function":"normal"},
params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Ca.Definition={type:"Density",
metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Ad.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Ad},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value",
"density"]}]};l.inherits(Ca,M.Transform,{transform(A,W){const ta=W.fork(W.NO_SOURCE|W.NO_FIELDS);if(!this.value||W.changed()||A.modified()){const Qa=$a(A.distribution,Cb(W));W=A.steps||A.minsteps||25;const qb=A.steps||A.maxsteps||200;let Bb=A.method||"pdf";"pdf"!==Bb&&"cdf"!==Bb&&l.error("Invalid density method: "+Bb);A.extent||Qa.data||l.error("Missing density extent parameter.");Bb=Qa[Bb];const ac=A.as||["value","density"];A=A.extent||l.extent(Qa.data());A=cb.sampleCurve(Bb,A,W,qb).map(Sb=>{const wb=
{};wb[ac[0]]=Sb[0];wb[ac[1]]=Sb[1];return M.ingest(wb)});this.value&&(ta.rem=this.value);this.value=ta.add=ta.source=A}return ta}});kc.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};l.inherits(kc,M.Transform,{transform(A,W){if(this.value&&!A.modified()&&!W.changed())return W;var ta=W.materialize(W.SOURCE).source;
const Qa=Mb(W.source,A.groupby,l.identity),qb=A.smooth||!1,Bb=A.field;ta=A.step||l.span(l.extent(ta,Bb))/30;const ac=M.stableCompare((bd,nd)=>Bb(bd)-Bb(nd));A=A.as||"bin";const Sb=Qa.length;let wb=Infinity,zc=-Infinity,Ic=0,$c;for(;Ic<Sb;++Ic){const bd=Qa[Ic].sort(ac);$c=-1;for(const nd of cb.dotbin(bd,ta,qb,Bb))nd<wb&&(wb=nd),nd>zc&&(zc=nd),bd[++$c][A]=nd}this.value={start:wb,stop:zc,step:ta};return W.reflow(!0).modifies(A)}});l.inherits(pb,M.Operator);O.Definition={type:"Extent",metadata:{},params:[{name:"field",
type:"field",required:!0}]};l.inherits(O,M.Transform,{transform(A,W){var ta=this.value;const Qa=A.field;A=W.changed()||W.modified(Qa.fields)||A.modified("field");let qb=ta[0],Bb=ta[1];if(A||null==qb)qb=Infinity,Bb=-Infinity;W.visit(A?W.SOURCE:W.ADD,ac=>{ac=l.toNumber(Qa(ac));null!=ac&&(ac<qb&&(qb=ac),ac>Bb&&(Bb=ac))});Number.isFinite(qb)&&Number.isFinite(Bb)||((ta=l.accessorName(Qa))&&(ta=` for field "${ta}"`),W.dataflow.warn(`Infinite extent${ta}: [${qb}, ${Bb}]`),qb=Bb=void 0);this.value=[qb,Bb]}});
l.inherits(oa,M.Operator,{connect(A){this.detachSubflow=A.detachSubflow;this.targets().add(A);return A.source=this},add(A){this.count+=1;this.value.add.push(A)},rem(A){--this.count;this.value.rem.push(A)},mod(A){this.value.mod.push(A)},init(A){this.value.init(A,A.NO_SOURCE)},evaluate(){return this.value}});l.inherits(ra,M.Transform,{activate(A){this._targets[this._targets.active++]=A},subflow(A,W,ta,Qa){const qb=this.value;let Bb=l.hasOwnProperty(qb,A)&&qb[A],ac;Bb?Bb.value.stamp<ta.stamp&&(Bb.init(ta),
this.activate(Bb)):(ac=Qa||(ac=this._group[A])&&ac.tuple,Qa=ta.dataflow,Bb=new oa(ta.fork(ta.NO_SOURCE),this),Qa.add(Bb).connect(W(Qa,A,ac)),qb[A]=Bb,this.activate(Bb));return Bb},clean(){var A=this.value;let W=0;for(const ta in A)if(0===A[ta].count){const Qa=A[ta].detachSubflow;Qa&&Qa();delete A[ta];++W}W&&(A=this._targets.filter(ta=>ta&&0<ta.count),this.initTargets(A))},initTargets(A){const W=this._targets,ta=W.length,Qa=A?A.length:0;let qb=0;for(;qb<Qa;++qb)W[qb]=A[qb];for(;qb<ta&&null!=W[qb];++qb)W[qb]=
null;W.active=Qa},transform(A,W){const ta=W.dataflow,Qa=A.key,qb=A.subflow,Bb=this._keys,ac=A.modified("key"),Sb=wb=>this.subflow(wb,qb,W);this._group=A.group||{};this.initTargets();W.visit(W.REM,wb=>{const zc=M.tupleid(wb),Ic=Bb.get(zc);void 0!==Ic&&(Bb.delete(zc),Sb(Ic).rem(wb))});W.visit(W.ADD,wb=>{const zc=Qa(wb);Bb.set(M.tupleid(wb),zc);Sb(zc).add(wb)});ac||W.modified(Qa.fields)?W.visit(W.MOD,wb=>{const zc=M.tupleid(wb),Ic=Bb.get(zc),$c=Qa(wb);Ic===$c?Sb($c).mod(wb):(Bb.set(zc,$c),Sb(Ic).rem(wb),
Sb($c).add(wb))}):W.changed(W.MOD)&&W.visit(W.MOD,wb=>{Sb(Bb.get(M.tupleid(wb))).mod(wb)});ac&&W.visit(W.REFLOW,wb=>{const zc=M.tupleid(wb),Ic=Bb.get(zc),$c=Qa(wb);Ic!==$c&&(Bb.set(zc,$c),Sb(Ic).rem(wb),Sb($c).add(wb))});W.clean()?ta.runAfter(()=>{this.clean();Bb.clean()}):Bb.empty>ta.cleanThreshold&&ta.runAfter(Bb.clean);return W}});l.inherits(Oa,M.Operator);va.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};l.inherits(va,M.Transform,{transform(A,W){function ta($c){const bd=
M.tupleid($c),nd=zc($c,A),Ed=qb.get(bd);nd&&Ed?(qb.delete(bd),ac.push($c)):nd||Ed?Ic&&nd&&!Ed&&wb.push($c):(qb.set(bd,1),Sb.push($c))}const Qa=W.dataflow,qb=this.value,Bb=W.fork(),ac=Bb.add,Sb=Bb.rem,wb=Bb.mod,zc=A.expr;let Ic=!0;W.visit(W.REM,$c=>{const bd=M.tupleid($c);qb.has(bd)?qb.delete(bd):Sb.push($c)});W.visit(W.ADD,$c=>{zc($c,A)?ac.push($c):qb.set(M.tupleid($c),1)});W.visit(W.MOD,ta);A.modified()&&(Ic=!1,W.visit(W.REFLOW,ta));qb.empty>Qa.cleanThreshold&&Qa.runAfter(qb.clean);return Bb}});
m.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};l.inherits(m,M.Transform,{transform(A,W){const ta=W.fork(W.NO_SOURCE),Qa=A.fields,qb=xb(Qa,A.as||[]),Bb=A.index||null,ac=qb.length;ta.rem=this.value;W.visit(W.SOURCE,Sb=>{const wb=Qa.map(Ed=>Ed(Sb)),zc=wb.reduce((Ed,Wd)=>Math.max(Ed,Wd.length),0);let Ic=0,$c,bd,nd;for(;Ic<zc;++Ic){bd=M.derive(Sb);for($c=0;$c<ac;++$c)bd[qb[$c]]=
null==(nd=wb[$c][Ic])?null:nd;Bb&&(bd[Bb]=Ic);ta.add.push(bd)}});this.value=ta.source=ta.add;Bb&&ta.modifies(Bb);return ta.modifies(qb)}});G.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};l.inherits(G,M.Transform,{transform(A,W){const ta=W.fork(W.NO_SOURCE),Qa=A.fields,qb=Qa.map(l.accessorName);A=A.as||["key","value"];const Bb=A[0],ac=A[1],Sb=Qa.length;ta.rem=this.value;
W.visit(W.SOURCE,wb=>{for(let zc=0,Ic;zc<Sb;++zc)Ic=M.derive(wb),Ic[Bb]=qb[zc],Ic[ac]=Qa[zc](wb),ta.add.push(Ic)});this.value=ta.source=ta.add;return ta.modifies(A)}});Q.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};l.inherits(Q,M.Transform,{transform(A,W){const ta=A.expr,Qa=A.as,qb=A.modified(),Bb=A.initonly?W.ADD:qb?W.SOURCE:W.modified(ta.fields)||W.modified(Qa)?W.ADD_MOD:W.ADD;
qb&&(W=W.materialize().reflow(!0));A.initonly||W.modifies(Qa);return W.visit(Bb,ac=>ac[Qa]=ta(ac,A))}});l.inherits(y,M.Transform,{transform(A,W){W=W.fork(W.ALL);const ta=A.generator;let Qa=this.value,qb=A.size-Qa.length,Bb,ac;if(0<qb){for(Bb=[];0<=--qb;)Bb.push(ac=M.ingest(ta(A))),Qa.push(ac);W.add=W.add.length?W.materialize(W.ADD).add.concat(Bb):Bb}else A=Qa.slice(0,-qb),W.rem=W.rem.length?W.materialize(W.REM).rem.concat(A):A,Qa=Qa.slice(-qb);W.source=this.value=Qa;return W}});const Dd={value:"value",
median:function(A,W){var ta=.5;A=Float64Array.from(V(A,W));if(W=A.length)if(0>=(ta=+ta)||2>W)A=L(A);else if(1<=ta)A=z(A);else{ta*=W-1;W=Math.floor(ta);var Qa=z(X(A,W).subarray(0,W+1));A=L(A.subarray(W+1));A=Qa+(A-Qa)*(ta-W)}else A=void 0;return A},mean:function(A,W){let ta=0,Qa=0;if(void 0===W)for(var qb of A)null!=qb&&(qb=+qb)>=qb&&(++ta,Qa+=qb);else{qb=-1;for(let Bb of A)null!=(Bb=W(Bb,++qb,A))&&(Bb=+Bb)>=Bb&&(++ta,Qa+=Bb)}if(ta)return Qa/ta},min:L,max:z},ed=[];la.Definition={type:"Impute",metadata:{changes:!0},
params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};l.inherits(la,M.Transform,{transform(A,W){var ta=W.fork(W.ALL),Qa=xa(A),qb=R(A),Bb=l.accessorName(A.field),ac=l.accessorName(A.key),Sb=(A.groupby||[]).map(l.accessorName);A=ka(W.source,A.groupby,A.key,A.keyvals);W=[];var wb=this.value,
zc=A.domain.length,Ic,$c,bd;var nd=0;for($c=A.length;nd<$c;++nd){var Ed=A[nd];var Wd=Ed.values;var ke=NaN;for(Ic=0;Ic<zc;++Ic)if(null==Ed[Ic]){var ce=A.domain[Ic];var Ud={_impute:!0};var Ve=0;for(bd=Wd.length;Ve<bd;++Ve)Ud[Sb[Ve]]=Wd[Ve];Ud[ac]=ce;Ud[Bb]=Number.isNaN(ke)?ke=Qa(Ed,qb):ke;W.push(M.ingest(Ud))}}W.length&&(ta.add=ta.materialize(ta.ADD).add.concat(W));wb.length&&(ta.rem=ta.materialize(ta.REM).rem.concat(wb));this.value=W;return ta}});Ka.Definition={type:"JoinAggregate",metadata:{modifies:!0},
params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Zc},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};l.inherits(Ka,Pa,{transform(A,W){const ta=this,Qa=A.modified();let qb;ta.value&&(Qa||W.modified(ta._inputs,!0))?(qb=ta.value=Qa?ta.init(A):{},W.visit(W.SOURCE,Bb=>ta.add(Bb))):(qb=ta.value=ta.value||this.init(A),W.visit(W.REM,Bb=>ta.rem(Bb)),W.visit(W.ADD,Bb=>ta.add(Bb)));ta.changes();W.visit(W.SOURCE,
Bb=>{l.extend(Bb,qb[ta.cellkey(Bb)].tuple)});return W.reflow(Qa).modifies(this._outputs)},changes(){const A=this._adds,W=this._mods;let ta,Qa;ta=0;for(Qa=this._alen;ta<Qa;++ta)this.celltuple(A[ta]),A[ta]=null;ta=0;for(Qa=this._mlen;ta<Qa;++ta)this.celltuple(W[ta]),W[ta]=null;this._alen=this._mlen=0}});kb.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",
type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(kb,M.Transform,{transform(A,W){const ta=W.fork(W.NO_SOURCE|W.NO_FIELDS);if(!this.value||W.changed()||
A.modified()){W=W.materialize(W.SOURCE).source;const Qa=Mb(W,A.groupby,A.field),qb=(A.groupby||[]).map(l.accessorName),Bb=A.bandwidth,ac=A.cumulative?"cdf":"pdf",Sb=A.as||["value","density"],wb=[];let zc=A.extent,Ic=A.steps||A.minsteps||25,$c=A.steps||A.maxsteps||200;"pdf"!==ac&&"cdf"!==ac&&l.error("Invalid density method: "+ac);"shared"===A.resolve&&(zc||(zc=l.extent(W,A.field)),Ic=$c=A.steps||$c);Qa.forEach(bd=>{const nd=cb.randomKDE(bd,Bb)[ac],Ed=A.counts?bd.length:1,Wd=zc||l.extent(bd);cb.sampleCurve(nd,
Wd,Ic,$c).forEach(ke=>{const ce={};for(let Ud=0;Ud<qb.length;++Ud)ce[qb[Ud]]=bd.dims[Ud];ce[Sb[0]]=ke[0];ce[Sb[1]]=ke[1]*Ed;wb.push(M.ingest(ce))})});this.value&&(ta.rem=this.value);this.value=ta.add=ta.source=wb}return ta}});l.inherits(Za,M.Operator);l.inherits(Ra,M.Transform,{transform(A,W){const ta=W.dataflow;return this._pending?mc(this,W,this._pending):Ob(A)?W.StopPropagation:A.values?mc(this,W,ta.parse(A.values,A.format)):A.async?{async:ta.request(A.url,A.format).then(Qa=>{this._pending=l.array(Qa.data);
return qb=>qb.touch(this)})}:ta.request(A.url,A.format).then(Qa=>mc(this,W,l.array(Qa.data)))}});Lc.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};l.inherits(Lc,M.Transform,{transform(A,W){const ta=A.fields,Qa=A.index,qb=
A.values,Bb=null==A.default?null:A.default;var ac=A.modified();const Sb=ta.length;let wb=ac?W.SOURCE:W.ADD,zc=W,Ic=A.as,$c;qb?($c=qb.length,1<Sb&&!Ic&&l.error('Multi-field lookup requires explicit "as" parameter.'),Ic&&Ic.length!==Sb*$c&&l.error('The "as" parameter has too few output field names.'),Ic=Ic||qb.map(l.accessorName),A=function(bd){for(var nd=0,Ed=0,Wd,ke;nd<Sb;++nd)if(ke=Qa.get(ta[nd](bd)),null==ke)for(Wd=0;Wd<$c;++Wd,++Ed)bd[Ic[Ed]]=Bb;else for(Wd=0;Wd<$c;++Wd,++Ed)bd[Ic[Ed]]=qb[Wd](ke)}):
(Ic||l.error("Missing output field names."),A=function(bd){for(var nd=0,Ed;nd<Sb;++nd)Ed=Qa.get(ta[nd](bd)),bd[Ic[nd]]=null==Ed?Bb:Ed});ac?zc=W.reflow(!0):(ac=ta.some(bd=>W.modified(bd.fields)),wb|=ac?W.MOD:0);W.visit(wb,A);return zc.modifies(Ic)}});l.inherits(wc,M.Operator);l.inherits(jc,M.Operator);l.inherits(Ta,M.Transform,{transform(A,W){this.modified(A.modified());this.value=A;return W.fork(W.NO_SOURCE|W.NO_FIELDS)}});Ea.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",
type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Zc,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};l.inherits(Ea,Pa,{_transform:Pa.prototype.transform,transform(A,W){return this._transform(ob(A,W),W)}});l.inherits(Wb,ra,{transform(A,W){const ta=A.subflow,Qa=A.field,qb=Bb=>this.subflow(M.tupleid(Bb),ta,W,Bb);(A.modified("field")||Qa&&W.modified(l.accessorFields(Qa)))&&l.error("PreFacet does not support field modification.");
this.initTargets();Qa?(W.visit(W.MOD,Bb=>{const ac=qb(Bb);Qa(Bb).forEach(Sb=>ac.mod(Sb))}),W.visit(W.ADD,Bb=>{const ac=qb(Bb);Qa(Bb).forEach(Sb=>ac.add(M.ingest(Sb)))}),W.visit(W.REM,Bb=>{const ac=qb(Bb);Qa(Bb).forEach(Sb=>ac.rem(Sb))})):(W.visit(W.MOD,Bb=>qb(Bb).mod(Bb)),W.visit(W.ADD,Bb=>qb(Bb).add(Bb)),W.visit(W.REM,Bb=>qb(Bb).rem(Bb)));W.clean()&&W.runAfter(()=>this.clean());return W}});Xb.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},
{name:"as",type:"string","null":!0,array:!0}]};l.inherits(Xb,M.Transform,{transform(A,W){const ta=W.fork(W.NO_SOURCE),Qa=A.fields,qb=xb(A.fields,A.as||[]),Bb=Qa?(Sb,wb)=>{for(let zc=0,Ic=Qa.length;zc<Ic;++zc)wb[qb[zc]]=Qa[zc](Sb);return wb}:M.rederive;let ac;this.value?ac=this.value:(W=W.addAll(),ac=this.value={});W.visit(W.REM,Sb=>{Sb=M.tupleid(Sb);ta.rem.push(ac[Sb]);ac[Sb]=null});W.visit(W.ADD,Sb=>{const wb=Bb(Sb,M.ingest({}));ac[M.tupleid(Sb)]=wb;ta.add.push(wb)});W.visit(W.MOD,Sb=>{ta.mod.push(Bb(Sb,
ac[M.tupleid(Sb)]))});return ta}});l.inherits(ic,M.Transform,{transform(A,W){this.value=A.value;return A.modified("value")?W.fork(W.NO_SOURCE|W.NO_FIELDS):W.StopPropagation}});xc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};l.inherits(xc,M.Transform,{transform(A,
W){const ta=W.fork(W.NO_SOURCE|W.NO_FIELDS),Qa=A.as||["prob","value"];if(this.value&&!A.modified()&&!W.changed())return ta.source=this.value,ta;W=W.materialize(W.SOURCE).source;W=Mb(W,A.groupby,A.field);const qb=(A.groupby||[]).map(l.accessorName),Bb=[],ac=A.step||.01,Sb=A.probs||T(ac/2,1-1E-14,ac),wb=Sb.length;W.forEach(zc=>{const Ic=cb.quantiles(zc,Sb);for(let $c=0;$c<wb;++$c){const bd={};for(let nd=0;nd<qb.length;++nd)bd[qb[nd]]=zc.dims[nd];bd[Qa[0]]=Sb[$c];bd[Qa[1]]=Ic[$c];Bb.push(M.ingest(bd))}});
this.value&&(ta.rem=this.value);this.value=ta.add=ta.source=Bb;return ta}});l.inherits(kd,M.Transform,{transform(A,W){let ta,Qa;this.value?Qa=this.value:(ta=W=W.addAll(),Qa=this.value={});A.derive&&(ta=W.fork(W.NO_SOURCE),W.visit(W.REM,qb=>{qb=M.tupleid(qb);ta.rem.push(Qa[qb]);Qa[qb]=null}),W.visit(W.ADD,qb=>{const Bb=M.derive(qb);Qa[M.tupleid(qb)]=Bb;ta.add.push(Bb)}),W.visit(W.MOD,qb=>{const Bb=Qa[M.tupleid(qb)];for(const ac in qb)Bb[ac]=qb[ac],ta.modifies(ac);ta.mod.push(Bb)}));return ta}});B.Definition=
{type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};l.inherits(B,M.Transform,{transform(A,W){function ta(Ic){let $c,bd;Sb.length<Bb?Sb.push(Ic):(bd=~~((wb+1)*cb.random()),bd<Sb.length&&bd>=zc&&($c=Sb[bd],ac[M.tupleid($c)]&&Qa.rem.push($c),Sb[bd]=Ic));++wb}const Qa=W.fork(W.NO_SOURCE);var qb=A.modified("size");const Bb=A.size,ac=this.value.reduce((Ic,$c)=>(Ic[M.tupleid($c)]=1,Ic),{});let Sb=this.value,wb=this.count,zc=0;W.rem.length&&(W.visit(W.REM,Ic=>{const $c=M.tupleid(Ic);
ac[$c]&&(ac[$c]=-1,Qa.rem.push(Ic));--wb}),Sb=Sb.filter(Ic=>-1!==ac[M.tupleid(Ic)]));(W.rem.length||qb)&&Sb.length<Bb&&W.source&&(zc=wb=Sb.length,W.visit(W.SOURCE,Ic=>{ac[M.tupleid(Ic)]||ta(Ic)}),zc=-1);if(qb&&Sb.length>Bb){A=Sb.length-Bb;for(qb=0;qb<A;++qb)ac[M.tupleid(Sb[qb])]=-1,Qa.rem.push(Sb[qb]);Sb=Sb.slice(A)}W.mod.length&&W.visit(W.MOD,Ic=>{ac[M.tupleid(Ic)]&&Qa.mod.push(Ic)});W.add.length&&W.visit(W.ADD,ta);if(W.add.length||0>zc)Qa.add=Sb.filter(Ic=>!ac[M.tupleid(Ic)]);this.count=wb;this.value=
Qa.source=Sb;return Qa}});w.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};l.inherits(w,M.Transform,{transform(A,W){if(!this.value||A.modified()){var ta=W.materialize().fork(W.MOD),Qa=A.as||"data";ta.rem=this.value?W.rem.concat(this.value):W.rem;this.value=T(A.start,A.stop,A.step||1).map(qb=>{const Bb={};Bb[Qa]=
qb;return M.ingest(Bb)});ta.add=W.add.concat(this.value);return ta}}});l.inherits(C,M.Transform,{transform(A,W){this.value=W.source;return W.changed()?W.fork(W.NO_SOURCE|W.NO_FIELDS):W.StopPropagation}});const Fe=["unit0","unit1"];aa.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:zb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number",
"default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Fe}]};l.inherits(aa,M.Transform,{transform(A,W){const ta=A.field,Qa=!1!==A.interval;var qb="utc"===A.timezone;const Bb=this._floor(A,W),ac=(qb?zb.utcInterval:zb.timeInterval)(Bb.unit).offset;qb=A.as||Fe;const Sb=qb[0],wb=qb[1],zc=Bb.step;let Ic=Bb.start||Infinity,$c=Bb.stop||-Infinity,bd=W.ADD;if(A.modified()||W.changed(W.REM)||
W.modified(l.accessorFields(ta)))W=W.reflow(!0),bd=W.SOURCE,Ic=Infinity,$c=-Infinity;W.visit(bd,nd=>{var Ed=ta(nd);let Wd;null==Ed?(nd[Sb]=null,Qa&&(nd[wb]=null)):(nd[Sb]=Ed=Wd=Bb(Ed),Qa&&(nd[wb]=Wd=ac(Ed,zc)),Ed<Ic&&(Ic=Ed),Wd>$c&&($c=Wd))});Bb.start=Ic;Bb.stop=$c;return W.modifies(Qa?qb:Sb)},_floor(A,W){var ta="utc"===A.timezone;const {units:Qa,step:qb}=A.units?{units:A.units,step:A.step||1}:zb.timeBin({extent:A.extent||l.extent(W.materialize(W.SOURCE).source,A.field),maxbins:A.maxbins});A=zb.timeUnits(Qa);
W=this.value||{};ta=(ta?zb.utcFloor:zb.timeFloor)(A,qb);ta.unit=l.peek(A);ta.units=A;ta.step=qb;ta.start=W.start;ta.stop=W.stop;return this.value=ta}});l.inherits(fa,M.Transform,{transform(A,W){const ta=W.dataflow,Qa=A.field,qb=this.value,Bb=Sb=>qb.set(Qa(Sb),Sb);let ac=!0;A.modified("field")||W.modified(Qa.fields)?(qb.clear(),W.visit(W.SOURCE,Bb)):W.changed()?(W.visit(W.REM,Sb=>qb.delete(Qa(Sb))),W.visit(W.ADD,Bb)):ac=!1;this.modified(ac);qb.empty>ta.cleanThreshold&&ta.runAfter(qb.clean);return W.fork()}});
l.inherits(za,M.Transform,{transform(A,W){if(!this.value||A.modified("field")||A.modified("sort")||W.changed()||A.sort&&W.modified(A.sort.fields))this.value=(A.sort?W.source.slice().sort(M.stableCompare(A.sort)):W.source).map(A.field)}});const ve={row_number:function(){return{next:A=>A.index+1}},rank:function(){let A;return{init:()=>A=1,next:W=>{const ta=W.index,Qa=W.data;return ta&&W.compare(Qa[ta-1],Qa[ta])?A=ta+1:A}}},dense_rank:function(){let A;return{init:()=>A=1,next:W=>{const ta=W.index,Qa=
W.data;return ta&&W.compare(Qa[ta-1],Qa[ta])?++A:A}}},percent_rank:function(){const A=ve.rank(),W=A.next;return{init:A.init,next:ta=>(W(ta)-1)/(ta.data.length-1)}},cume_dist:function(){let A;return{init:()=>A=0,next:W=>{const ta=W.data,Qa=W.compare;W=W.index;if(A<W){for(;W+1<ta.length&&!Qa(ta[W],ta[W+1]);)++W;A=W}return(1+A)/ta.length}}},ntile:function(A,W){W=+W;0<W||l.error("ntile num must be greater than zero.");A=ve.cume_dist();const ta=A.next;return{init:A.init,next:Qa=>Math.ceil(W*ta(Qa))}},
lag:function(A,W){W=+W||1;return{next:ta=>{const Qa=ta.index-W;return 0<=Qa?A(ta.data[Qa]):null}}},lead:function(A,W){W=+W||1;return{next:ta=>{const Qa=ta.index+W;ta=ta.data;return Qa<ta.length?A(ta[Qa]):null}}},first_value:function(A){return{next:W=>A(W.data[W.i0])}},last_value:function(A){return{next:W=>A(W.data[W.i1-1])}},nth_value:function(A,W){W=+W;0<W||l.error("nth_value nth must be greater than zero.");return{next:ta=>{const Qa=ta.i0+(W-1);return Qa<ta.i1?A(ta.data[Qa]):null}}},prev_value:function(A){let W;
return{init:()=>W=null,next:ta=>{ta=A(ta.data[ta.index]);return null!=ta?W=ta:W}}},next_value:function(A){let W,ta;return{init:()=>(W=null,ta=-1),next:Qa=>{var qb=Qa.data;if(Qa.index<=ta)qb=W;else{a:{Qa=Qa.index;for(let Bb=qb.length;Qa<Bb;++Qa)if(null!=A(qb[Qa]))break a;Qa=-1}qb=0>(ta=Qa)?(ta=qb.length,W=null):W=A(qb[ta])}return qb}}}},Sd=Object.keys(ve),qe=fb.prototype;qe.init=function(){this.windows.forEach(A=>A.init());this.cell&&this.cell.init()};qe.update=function(A,W){const ta=this.cell,Qa=
this.windows,qb=A.data,Bb=Qa&&Qa.length;let ac;if(ta){for(ac=A.p0;ac<A.i0;++ac)ta.rem(qb[ac]);for(ac=A.p1;ac<A.i1;++ac)ta.add(qb[ac]);ta.set(W)}for(ac=0;ac<Bb;++ac)Qa[ac].update(A,W)};Vb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Sd.concat(Zc)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},
{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};l.inherits(Vb,M.Transform,{transform(A,W){this.stamp=W.stamp;const ta=A.modified(),Qa=M.stableCompare(A.sort),qb=gc(A.groupby),Bb=Sb=>this.group(qb(Sb));let ac=this.state;if(!ac||ta)ac=this.state=new fb(A);ta||W.modified(ac.inputs)?(this.value={},W.visit(W.SOURCE,Sb=>Bb(Sb).add(Sb))):(W.visit(W.REM,Sb=>Bb(Sb).remove(Sb)),W.visit(W.ADD,Sb=>Bb(Sb).add(Sb)));for(let Sb=0,wb=
this._mlen;Sb<wb;++Sb)oc(this._mods[Sb],ac,Qa,A);this._mlen=0;this._mods=[];return W.reflow(ta).modifies(ac.outputs)},group(A){let W=this.value[A];W||(W=this.value[A]=Xa(M.tupleid),W.stamp=-1);W.stamp<this.stamp&&(W.stamp=this.stamp,this._mods[this._mlen++]=W);return W}});x.aggregate=Pa;x.bin=Va;x.collect=Fa;x.compare=pa;x.countpattern=Ha;x.cross=bb;x.density=Ca;x.dotbin=kc;x.expression=pb;x.extent=O;x.facet=ra;x.field=Oa;x.filter=va;x.flatten=m;x.fold=G;x.formula=Q;x.generate=y;x.impute=la;x.joinaggregate=
Ka;x.kde=kb;x.key=Za;x.load=Ra;x.lookup=Lc;x.multiextent=wc;x.multivalues=jc;x.params=Ta;x.pivot=Ea;x.prefacet=Wb;x.project=Xb;x.proxy=ic;x.quantile=xc;x.relay=kd;x.sample=B;x.sequence=w;x.sieve=C;x.subflow=oa;x.timeunit=aa;x.tupleindex=fa;x.values=za;x.window=Vb;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[31]=function(Hb,vb,Ac,ab){!function(x,l){"object"==typeof ab&&"undefined"!=typeof Ac?l(ab):"function"==typeof define&&define.amd?define(["exports"],l):l((x="undefined"!=typeof globalThis?globalThis:x||self).vega={})}(this,function(x){function l(M,cb){if("undefined"!=typeof document&&document.createElement){const zb=document.createElement("canvas");if(zb&&zb.getContext)return zb.width=M,zb.height=cb,zb}return null}x.canvas=l;x.domCanvas=l;x.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[32]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(20),vb(22)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega))})(this,function(x,l,M){function cb(p,I,P){I=p-I+2*P;return p?0<I?I:1:0}function zb(p){return function(I){let P=I[0];I=I[1];let ua;I<P&&(ua=P,P=I,I=ua);return[p.invert(P),p.invert(I)]}}function Zb(p){return function(I){const P=
p.range();let ua=I[0];I=I[1];let db=-1,gb;let tb;if(I<ua){var Nb=ua;ua=I;I=Nb}Nb=0;for(tb=P.length;Nb<tb;++Nb)P[Nb]>=ua&&P[Nb]<=I&&(0>db&&(db=Nb),gb=Nb);if(!(0>db))return ua=p.invertExtent(P[db]),I=p.invertExtent(P[gb]),[void 0===ua[0]?ua[1]:ua[0],void 0===I[1]?I[0]:I[1]]}}function gc(p,I){return null==p||null==I?NaN:p<I?-1:p>I?1:p>=I?0:NaN}function nc(p){function I(gb,tb,Nb=0,sc=gb.length){if(Nb<sc){if(0!==ua(tb,tb))return sc;do{const Tc=Nb+sc>>>1;0>db(gb[Tc],tb)?Nb=Tc+1:sc=Tc}while(Nb<sc)}return Nb}
let P=p,ua=p,db=p;2!==p.length&&(P=(gb,tb)=>p(gb)-tb,ua=gc,db=(gb,tb)=>gc(p(gb),tb));return{left:I,center:function(gb,tb,Nb=0,sc=gb.length){sc=I(gb,tb,Nb,sc-1);return sc>Nb&&P(gb[sc-1],tb)>-P(gb[sc],tb)?sc-1:sc},right:function(gb,tb,Nb=0,sc=gb.length){if(Nb<sc){if(0!==ua(tb,tb))return sc;do{const Tc=Nb+sc>>>1;0>=db(gb[Tc],tb)?Nb=Tc+1:sc=Tc}while(Nb<sc)}return Nb}}}function Tb(p){return null===p?NaN:+p}function Gb({_intern:p,_key:I},P){I=I(P);return p.has(I)?p.get(I):P}function Db({_intern:p,_key:I},
P){I=I(P);if(p.has(I))return p.get(I);p.set(I,P);return P}function fc({_intern:p,_key:I},P){I=I(P);p.has(I)&&(P=p.get(I),p.delete(I));return P}function Ba(p){return null!==p&&"object"===typeof p?p.valueOf():p}function jb(p,I,P){var ua,db=-1,gb;I=+I;p=+p;P=+P;if(p===I&&0<P)return[p];if(ua=I<p){var tb=p;p=I;I=tb}if(0===(gb=yb(p,I,P))||!isFinite(gb))return[];if(0<gb)for(P=Math.round(p/gb),tb=Math.round(I/gb),P*gb<p&&++P,tb*gb>I&&--tb,p=Array(tb=tb-P+1);++db<tb;)p[db]=(P+db)*gb;else for(gb=-gb,P=Math.round(p*
gb),tb=Math.round(I*gb),P/gb<p&&++P,tb/gb>I&&--tb,p=Array(tb=tb-P+1);++db<tb;)p[db]=(P+db)/gb;ua&&p.reverse();return p}function yb(p,I,P){I=(I-p)/Math.max(0,P);p=Math.floor(Math.log(I)/Math.LN10);I/=Math.pow(10,p);return 0<=p?(I>=Ze?10:I>=Sf?5:I>=wf?2:1)*Math.pow(10,p):-Math.pow(10,-p)/(I>=Ze?10:I>=Sf?5:I>=wf?2:1)}function Ab(p,I,P){var ua=Math.abs(I-p)/Math.max(0,P);P=Math.pow(10,Math.floor(Math.log(ua)/Math.LN10));ua/=P;ua>=Ze?P*=10:ua>=Sf?P*=5:ua>=wf&&(P*=2);return I<p?-P:P}function Pa(p,I,P=Tb){if(ua=
p.length){if(0>=(I=+I)||2>ua)return+P(p[0],0,p);if(1<=I)return+P(p[ua-1],ua-1,p);var ua;I*=ua-1;ua=Math.floor(I);var db=+P(p[ua],ua,p);p=+P(p[ua+1],ua+1,p);return db+(p-db)*(I-ua)}}function Va(p,I,P){p=+p;I=+I;P=2>(db=arguments.length)?(I=p,p=0,1):3>db?1:+P;for(var ua=-1,db=Math.max(0,Math.ceil((I-p)/P))|0,gb=Array(db);++ua<db;)gb[ua]=p+ua*P;return gb}function Xa(p,I){switch(arguments.length){case 0:break;case 1:this.range(p);break;default:this.range(I).domain(p)}return this}function Fa(p,I){switch(arguments.length){case 0:break;
case 1:"function"===typeof p?this.interpolator(p):this.range(p);break;default:this.domain(p),"function"===typeof I?this.interpolator(I):this.range(I)}return this}function pa(){function p(gb){let tb=I.get(gb);if(void 0===tb){if(db!==Xf)return db;I.set(gb,tb=P.push(gb)-1)}return ua[tb%ua.length]}var I=new nf,P=[],ua=[],db=Xf;p.domain=function(gb){if(!arguments.length)return P.slice();P=[];I=new nf;for(const tb of gb)I.has(tb)||I.set(tb,P.push(tb)-1);return p};p.range=function(gb){return arguments.length?
(ua=Array.from(gb),p):ua.slice()};p.unknown=function(gb){return arguments.length?(db=gb,p):db};p.copy=function(){return pa(P,ua).unknown(db)};Xa.apply(p,arguments);return p}function Aa(p,I,P){p.prototype=I.prototype=P;P.constructor=p}function Ha(p,I){p=Object.create(p.prototype);for(var P in I)p[P]=I[P];return p}function bb(){}function $a(){return this.rgb().formatHex()}function Ca(){return this.rgb().formatRgb()}function Cb(p){var I,P;p=(p+"").trim().toLowerCase();return(I=wg.exec(p))?(P=I[1].length,
I=parseInt(I[1],16),6===P?xb(I):3===P?new ca(I>>8&15|I>>4&240,I>>4&15|I&240,(I&15)<<4|I&15,1):8===P?Mb(I>>24&255,I>>16&255,I>>8&255,(I&255)/255):4===P?Mb(I>>12&15|I>>8&240,I>>8&15|I>>4&240,I>>4&15|I&240,((I&15)<<4|I&15)/255):null):(I=Zg.exec(p))?new ca(I[1],I[2],I[3],1):(I=Sg.exec(p))?new ca(255*I[1]/100,255*I[2]/100,255*I[3]/100,1):(I=xg.exec(p))?Mb(I[1],I[2],I[3],I[4]):(I=Qh.exec(p))?Mb(255*I[1]/100,255*I[2]/100,255*I[3]/100,I[4]):(I=gh.exec(p))?Oa(I[1],I[2]/100,I[3]/100,1):(I=Rh.exec(p))?Oa(I[1],
I[2]/100,I[3]/100,I[4]):Lg.hasOwnProperty(p)?xb(Lg[p]):"transparent"===p?new ca(NaN,NaN,NaN,0):null}function xb(p){return new ca(p>>16&255,p>>8&255,p&255,1)}function Mb(p,I,P,ua){0>=ua&&(p=I=P=NaN);return new ca(p,I,P,ua)}function kc(p){p instanceof bb||(p=Cb(p));if(!p)return new ca;p=p.rgb();return new ca(p.r,p.g,p.b,p.opacity)}function pb(p,I,P,ua){return 1===arguments.length?kc(p):new ca(p,I,P,null==ua?1:ua)}function ca(p,I,P,ua){this.r=+p;this.g=+I;this.b=+P;this.opacity=+ua}function O(){return"#"+
ra(this.r)+ra(this.g)+ra(this.b)}function oa(){var p=this.opacity;p=isNaN(p)?1:Math.max(0,Math.min(1,p));return(1===p?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===p?")":", "+p+")")}function ra(p){p=Math.max(0,Math.min(255,Math.round(p)||0));return(16>p?"0":"")+p.toString(16)}function Oa(p,I,P,ua){0>=ua?p=I=P=NaN:0>=P||1<=P?p=I=NaN:0>=I&&(p=NaN);return new m(p,I,P,ua)}function ya(p){if(p instanceof
m)return new m(p.h,p.s,p.l,p.opacity);p instanceof bb||(p=Cb(p));if(!p)return new m;if(p instanceof m)return p;p=p.rgb();var I=p.r/255,P=p.g/255,ua=p.b/255,db=Math.min(I,P,ua),gb=Math.max(I,P,ua),tb=NaN,Nb=gb-db,sc=(gb+db)/2;Nb?(tb=I===gb?(P-ua)/Nb+6*(P<ua):P===gb?(ua-I)/Nb+2:(I-P)/Nb+4,Nb/=.5>sc?gb+db:2-gb-db,tb*=60):Nb=0<sc&&1>sc?0:tb;return new m(tb,Nb,sc,p.opacity)}function va(p,I,P,ua){return 1===arguments.length?ya(p):new m(p,I,P,null==ua?1:ua)}function m(p,I,P,ua){this.h=+p;this.s=+I;this.l=
+P;this.opacity=+ua}function G(p,I,P){return 255*(60>p?I+(P-I)*p/60:180>p?P:240>p?I+(P-I)*(240-p)/60:I)}function Q(p){if(p instanceof t)return new t(p.l,p.a,p.b,p.opacity);if(p instanceof X)return qa(p);p instanceof ca||(p=kc(p));var I=K(p.r),P=K(p.g),ua=K(p.b),db=H(.2225045*I+.7168786*P+.0606169*ua);if(I===P&&P===ua)var gb=I=db;else gb=H((.4360747*I+.3850649*P+.1430804*ua)/.96422),I=H((.0139322*I+.0971045*P+.7141733*ua)/.82521);return new t(116*db-16,500*(gb-db),200*(db-I),p.opacity)}function y(p,
I,P,ua){return 1===arguments.length?Q(p):new t(p,I,P,null==ua?1:ua)}function t(p,I,P,ua){this.l=+p;this.a=+I;this.b=+P;this.opacity=+ua}function H(p){return p>Qi?Math.pow(p,1/3):p/Sh+xi}function V(p){return p>Jg?p*p*p:Sh*(p-xi)}function E(p){return 255*(.0031308>=p?12.92*p:1.055*Math.pow(p,1/2.4)-.055)}function K(p){return.04045>=(p/=255)?p/12.92:Math.pow((p+.055)/1.055,2.4)}function z(p){if(p instanceof X)return new X(p.h,p.c,p.l,p.opacity);p instanceof t||(p=Q(p));if(0===p.a&&0===p.b)return new X(NaN,
0<p.l&&100>p.l?0:NaN,p.l,p.opacity);var I=Math.atan2(p.b,p.a)*nh;return new X(0>I?I+360:I,Math.sqrt(p.a*p.a+p.b*p.b),p.l,p.opacity)}function L(p,I,P,ua){return 1===arguments.length?z(p):new X(p,I,P,null==ua?1:ua)}function X(p,I,P,ua){this.h=+p;this.c=+I;this.l=+P;this.opacity=+ua}function qa(p){if(isNaN(p.h))return new t(p.l,0,0,p.opacity);var I=p.h*hh;return new t(p.l,Math.cos(I)*p.c,Math.sin(I)*p.c,p.opacity)}function T(p,I,P,ua){if(1===arguments.length){var db=p;if(db instanceof la)db=new la(db.h,
db.s,db.l,db.opacity);else{db instanceof ca||(db=kc(db));var gb=db.g/255,tb=db.b/255,Nb=(Bg*tb+db.r/255*-1.7884503806-3.5172982438*gb)/(Bg+-1.7884503806-3.5172982438);tb-=Nb;var sc=(1.97294*(gb-Nb)- -.29227*tb)/-.90649;tb=(gb=Math.sqrt(sc*sc+tb*tb)/(1.97294*Nb*(1-Nb)))?Math.atan2(sc,tb)*nh-120:NaN;db=new la(0>tb?tb+360:tb,gb,Nb,db.opacity)}}else db=new la(p,I,P,null==ua?1:ua);return db}function la(p,I,P,ua){this.h=+p;this.s=+I;this.l=+P;this.opacity=+ua}function xa(p,I,P,ua,db){var gb=p*p,tb=gb*p;
return((1-3*p+3*gb-tb)*I+(4-6*gb+3*tb)*P+(1+3*p+3*gb-3*tb)*ua+tb*db)/6}function R(p){var I=p.length-1;return function(P){var ua=0>=P?P=0:1<=P?(P=1,I-1):Math.floor(P*I),db=p[ua],gb=p[ua+1];return xa((P-ua/I)*I,0<ua?p[ua-1]:2*db-gb,db,gb,ua<I-1?p[ua+2]:2*gb-db)}}function ka(p){var I=p.length;return function(P){var ua=Math.floor((0>(P%=1)?++P:P)*I);return xa((P-ua/I)*I,p[(ua+I-1)%I],p[ua%I],p[(ua+1)%I],p[(ua+2)%I])}}function Ka(p,I){return function(P){return p+P*I}}function kb(p,I,P){return p=Math.pow(p,
P),I=Math.pow(I,P)-p,P=1/P,function(ua){return Math.pow(p+ua*I,P)}}function Za(p,I){var P=I-p;return P?Ka(p,180<P||-180>P?P-360*Math.round(P/360):P):wh(isNaN(p)?I:p)}function mb(p){return 1===(p=+p)?Ra:function(I,P){return P-I?kb(I,P,p):wh(isNaN(I)?P:I)}}function Ra(p,I){var P=I-p;return P?Ka(p,P):wh(isNaN(p)?I:p)}function Ob(p){return function(I){var P=I.length,ua=Array(P),db=Array(P),gb=Array(P),tb;for(tb=0;tb<P;++tb){var Nb=pb(I[tb]);ua[tb]=Nb.r||0;db[tb]=Nb.g||0;gb[tb]=Nb.b||0}ua=p(ua);db=p(db);
gb=p(gb);Nb.opacity=1;return function(sc){Nb.r=ua(sc);Nb.g=db(sc);Nb.b=gb(sc);return Nb+""}}}function mc(p,I){I||(I=[]);var P=p?Math.min(I.length,p.length):0,ua=I.slice(),db;return function(gb){for(db=0;db<P;++db)ua[db]=p[db]*(1-gb)+I[db]*gb;return ua}}function Lc(p){return ArrayBuffer.isView(p)&&!(p instanceof DataView)}function wc(p,I){var P=I?I.length:0,ua=p?Math.min(P,p.length):0,db=Array(ua),gb=Array(P),tb;for(tb=0;tb<ua;++tb)db[tb]=lb(p[tb],I[tb]);for(;tb<P;++tb)gb[tb]=I[tb];return function(Nb){for(tb=
0;tb<ua;++tb)gb[tb]=db[tb](Nb);return gb}}function tc(p,I){var P=new Date;return p=+p,I=+I,function(ua){return P.setTime(p*(1-ua)+I*ua),P}}function jc(p,I){return p=+p,I=+I,function(P){return p*(1-P)+I*P}}function Sc(p,I){var P={},ua={},db;if(null===p||"object"!==typeof p)p={};if(null===I||"object"!==typeof I)I={};for(db in I)db in p?P[db]=lb(p[db],I[db]):ua[db]=I[db];return function(gb){for(db in P)ua[db]=P[db](gb);return ua}}function Ta(p){return function(){return p}}function Ea(p){return function(I){return p(I)+
""}}function ob(p,I){var P=Th.lastIndex=oh.lastIndex=0,ua,db,gb,tb=-1,Nb=[],sc=[];p+="";for(I+="";(ua=Th.exec(p))&&(db=oh.exec(I));)(gb=db.index)>P&&(gb=I.slice(P,gb),Nb[tb]?Nb[tb]+=gb:Nb[++tb]=gb),(ua=ua[0])===(db=db[0])?Nb[tb]?Nb[tb]+=db:Nb[++tb]=db:(Nb[++tb]=null,sc.push({i:tb,x:jc(ua,db)})),P=oh.lastIndex;P<I.length&&(gb=I.slice(P),Nb[tb]?Nb[tb]+=gb:Nb[++tb]=gb);return 2>Nb.length?sc[0]?Ea(sc[0].x):Ta(I):(I=sc.length,function(Tc){for(var id=0,pc;id<I;++id)Nb[(pc=sc[id]).i]=pc.x(Tc);return Nb.join("")})}
function lb(p,I){var P=typeof I,ua;return null==I||"boolean"===P?wh(I):("number"===P?jc:"string"===P?(ua=Cb(I))?(I=ua,gi):ob:I instanceof Cb?gi:I instanceof Date?tc:Lc(I)?mc:Array.isArray(I)?wc:"function"!==typeof I.valueOf&&"function"!==typeof I.toString||isNaN(I)?Sc:jc)(p,I)}function Fb(p,I){return p=+p,I=+I,function(P){return Math.round(p*(1-P)+I*P)}}function Wb(p,I,P,ua,db,gb){var tb,Nb,sc;if(tb=Math.sqrt(p*p+I*I))p/=tb,I/=tb;if(sc=p*P+I*ua)P-=p*sc,ua-=I*sc;if(Nb=Math.sqrt(P*P+ua*ua))P/=Nb,ua/=
Nb,sc/=Nb;p*ua<I*P&&(p=-p,I=-I,sc=-sc,tb=-tb);return{translateX:db,translateY:gb,rotate:Math.atan2(I,p)*og,skewX:Math.atan(sc)*og,scaleX:tb,scaleY:Nb}}function Xb(p,I,P,ua){function db(Tc){return Tc.length?Tc.pop()+" ":""}function gb(Tc,id,pc,Bd,$d,ue){Tc!==pc||id!==Bd?($d=$d.push("translate(",null,I,null,P),ue.push({i:$d-4,x:jc(Tc,pc)},{i:$d-2,x:jc(id,Bd)})):(pc||Bd)&&$d.push("translate("+pc+I+Bd+P)}function tb(Tc,id,pc,Bd){Tc!==id?(180<Tc-id?id+=360:180<id-Tc&&(Tc+=360),Bd.push({i:pc.push(db(pc)+
"rotate(",null,ua)-2,x:jc(Tc,id)})):id&&pc.push(db(pc)+"rotate("+id+ua)}function Nb(Tc,id,pc,Bd){Tc!==id?Bd.push({i:pc.push(db(pc)+"skewX(",null,ua)-2,x:jc(Tc,id)}):id&&pc.push(db(pc)+"skewX("+id+ua)}function sc(Tc,id,pc,Bd,$d,ue){Tc!==pc||id!==Bd?($d=$d.push(db($d)+"scale(",null,",",null,")"),ue.push({i:$d-4,x:jc(Tc,pc)},{i:$d-2,x:jc(id,Bd)})):1===pc&&1===Bd||$d.push(db($d)+"scale("+pc+","+Bd+")")}return function(Tc,id){var pc=[],Bd=[];Tc=p(Tc);id=p(id);gb(Tc.translateX,Tc.translateY,id.translateX,
id.translateY,pc,Bd);tb(Tc.rotate,id.rotate,pc,Bd);Nb(Tc.skewX,id.skewX,pc,Bd);sc(Tc.scaleX,Tc.scaleY,id.scaleX,id.scaleY,pc,Bd);Tc=id=null;return function($d){for(var ue=-1,Vd=Bd.length,bf;++ue<Vd;)pc[(bf=Bd[ue]).i]=bf.x($d);return pc.join("")}}}function ic(p){return((p=Math.exp(p))+1/p)/2}function xc(p){return function(I,P){var ua=p((I=va(I)).h,(P=va(P)).h),db=Ra(I.s,P.s),gb=Ra(I.l,P.l),tb=Ra(I.opacity,P.opacity);return function(Nb){I.h=ua(Nb);I.s=db(Nb);I.l=gb(Nb);I.opacity=tb(Nb);return I+""}}}
function kd(p){return function(I,P){var ua=p((I=L(I)).h,(P=L(P)).h),db=Ra(I.c,P.c),gb=Ra(I.l,P.l),tb=Ra(I.opacity,P.opacity);return function(Nb){I.h=ua(Nb);I.c=db(Nb);I.l=gb(Nb);I.opacity=tb(Nb);return I+""}}}function B(p){return function ua(P){function db(gb,tb){var Nb=p((gb=T(gb)).h,(tb=T(tb)).h),sc=Ra(gb.s,tb.s),Tc=Ra(gb.l,tb.l),id=Ra(gb.opacity,tb.opacity);return function(pc){gb.h=Nb(pc);gb.s=sc(pc);gb.l=Tc(Math.pow(pc,P));gb.opacity=id(pc);return gb+""}}P=+P;db.gamma=ua;return db}(1)}function w(p,
I){void 0===I&&(I=p,p=lb);for(var P=0,ua=I.length-1,db=I[0],gb=Array(0>ua?0:ua);P<ua;)gb[P]=p(db,db=I[++P]);return function(tb){var Nb=Math.max(0,Math.min(ua-1,Math.floor(tb*=ua)));return gb[Nb](tb-Nb)}}function C(p){return function(){return p}}function aa(p){return+p}function fa(p){return p}function za(p,I){return(I-=p=+p)?function(P){return(P-p)/I}:C(isNaN(I)?NaN:.5)}function eb(p,I){if(p>I){var P=p;p=I;I=P}return function(ua){return Math.max(p,Math.min(I,ua))}}function fb(p,I,P){var ua=p[0];p=
p[1];var db=I[0];I=I[1];p<ua?(ua=za(p,ua),db=P(I,db)):(ua=za(ua,p),db=P(db,I));return function(gb){return db(ua(gb))}}function ib(p,I,P){var ua=Math.min(p.length,I.length)-1,db=Array(ua),gb=Array(ua),tb=-1;p[ua]<p[0]&&(p=p.slice().reverse(),I=I.slice().reverse());for(;++tb<ua;)db[tb]=za(p[tb],p[tb+1]),gb[tb]=P(I[tb],I[tb+1]);return function(Nb){var sc=Le(p,Nb,1,ua)-1;return gb[sc](db[sc](Nb))}}function Vb(p,I){return I.domain(p.domain()).range(p.range()).interpolate(p.interpolate()).clamp(p.clamp()).unknown(p.unknown())}
function oc(){function p(){var Bd=Math.min(P.length,ua.length);sc!==fa&&(sc=eb(P[0],P[Bd-1]));Tc=2<Bd?ib:fb;id=pc=null;return I}function I(Bd){return null==Bd||isNaN(Bd=+Bd)?Nb:(id||(id=Tc(P.map(gb),ua,db)))(gb(sc(Bd)))}var P=Tg,ua=Tg,db=lb,gb,tb,Nb,sc=fa,Tc,id,pc;I.invert=function(Bd){return sc(tb((pc||(pc=Tc(ua,P.map(gb),jc)))(Bd)))};I.domain=function(Bd){return arguments.length?(P=Array.from(Bd,aa),p()):P.slice()};I.range=function(Bd){return arguments.length?(ua=Array.from(Bd),p()):ua.slice()};
I.rangeRound=function(Bd){return ua=Array.from(Bd),db=Fb,p()};I.clamp=function(Bd){return arguments.length?(sc=Bd?!0:fa,p()):sc!==fa};I.interpolate=function(Bd){return arguments.length?(db=Bd,p()):db};I.unknown=function(Bd){return arguments.length?(Nb=Bd,I):Nb};return function(Bd,$d){gb=Bd;tb=$d;return p()}}function qc(p,I){if(0>(I=(p=I?p.toExponential(I-1):p.toExponential()).indexOf("e")))return null;var P=p.slice(0,I);return[1<P.length?P[0]+P.slice(2):P,+p.slice(I+1)]}function Dc(p){return p=qc(Math.abs(p)),
p?p[1]:NaN}function Fc(p,I){return function(P,ua){for(var db=P.length,gb=[],tb=0,Nb=p[0],sc=0;0<db&&0<Nb;){sc+Nb+1>ua&&(Nb=Math.max(1,ua-sc));gb.push(P.substring(db-=Nb,db+Nb));if((sc+=Nb+1)>ua)break;Nb=p[tb=(tb+1)%p.length]}return gb.reverse().join(I)}}function Zc(p){return function(I){return I.replace(/[0-9]/g,function(P){return p[+P]})}}function xd(p){if(!(I=pg.exec(p)))throw Error("invalid format: "+p);var I;return new Hd({fill:I[1],align:I[2],sign:I[3],symbol:I[4],zero:I[5],width:I[6],comma:I[7],
precision:I[8]&&I[8].slice(1),trim:I[9],type:I[10]})}function Hd(p){this.fill=void 0===p.fill?" ":p.fill+"";this.align=void 0===p.align?"\x3e":p.align+"";this.sign=void 0===p.sign?"-":p.sign+"";this.symbol=void 0===p.symbol?"":p.symbol+"";this.zero=!!p.zero;this.width=void 0===p.width?void 0:+p.width;this.comma=!!p.comma;this.precision=void 0===p.precision?void 0:+p.precision;this.trim=!!p.trim;this.type=void 0===p.type?"":p.type+""}function Ad(p,I){I=qc(p,I);if(!I)return p+"";p=I[0];I=I[1];return 0>
I?"0."+Array(-I).join("0")+p:p.length>I+1?p.slice(0,I+1)+"."+p.slice(I+1):p+Array(I-p.length+2).join("0")}function Dd(p){return p}function ed(p){function I(id){function pc(Cd){var ge=Be,Id=yf,qf,Zf;if("c"===tf)Id=ih(Cd)+Id,Cd="";else{Cd=+Cd;var zf=0>Cd||0>1/Cd;Cd=isNaN(Cd)?Tc:ih(Math.abs(Cd),cf);if(Og){var $f=Cd.length,zg=1,Gh=-1;a:for(;zg<$f;++zg)switch(Cd[zg]){case ".":Gh=qf=zg;break;case "0":0===Gh&&(Gh=zg);qf=zg;break;default:if(!+Cd[zg])break a;0<Gh&&(Gh=0)}Cd=0<Gh?Cd.slice(0,Gh)+Cd.slice(qf+
1):Cd}zf&&0===+Cd&&"+"!==ue&&(zf=!1);ge=(zf?"("===ue?ue:sc:"-"===ue||"("===ue?"":ue)+ge;Id=("s"===tf?Ma[8+D/3]:"")+Id+(zf&&"("===ue?")":"");if(ae)for(zf=-1,qf=Cd.length;++zf<qf;)if(Zf=Cd.charCodeAt(zf),48>Zf||57<Zf){Id=(46===Zf?gb+Cd.slice(zf+1):Cd.slice(zf))+Id;Cd=Cd.slice(0,zf);break}}Uf&&!bf&&(Cd=P(Cd,Infinity));Zf=ge.length+Cd.length+Id.length;zf=Zf<Nf?Array(Nf-Zf+1).join(Bd):"";Uf&&bf&&(Cd=P(zf+Cd,zf.length?Nf-Id.length:Infinity),zf="");switch($d){case "\x3c":Cd=ge+Cd+Id+zf;break;case "\x3d":Cd=
ge+zf+Cd+Id;break;case "^":Cd=zf.slice(0,Zf=zf.length>>1)+ge+Cd+Id+zf.slice(Zf);break;default:Cd=zf+ge+Cd+Id}return tb(Cd)}id=xd(id);var Bd=id.fill,$d=id.align,ue=id.sign,Vd=id.symbol,bf=id.zero,Nf=id.width,Uf=id.comma,cf=id.precision,Og=id.trim,tf=id.type;"n"===tf?(Uf=!0,tf="g"):ba[tf]||(void 0===cf&&(cf=12),Og=!0,tf="g");if(bf||"0"===Bd&&"\x3d"===$d)bf=!0,Bd="0",$d="\x3d";var Be="$"===Vd?ua:"#"===Vd&&/[boxX]/.test(tf)?"0"+tf.toLowerCase():"",yf="$"===Vd?db:/[%p]/.test(tf)?Nb:"",ih=ba[tf],ae=/[defgprs%]/.test(tf);
cf=void 0===cf?6:/[gprs]/.test(tf)?Math.max(1,Math.min(21,cf)):Math.max(0,Math.min(20,cf));pc.toString=function(){return id+""};return pc}var P=void 0===p.grouping||void 0===p.thousands?Dd:Fc(wa.call(p.grouping,Number),p.thousands+""),ua=void 0===p.currency?"":p.currency[0]+"",db=void 0===p.currency?"":p.currency[1]+"",gb=void 0===p.decimal?".":p.decimal+"",tb=void 0===p.numerals?Dd:Zc(wa.call(p.numerals,String)),Nb=void 0===p.percent?"%":p.percent+"",sc=void 0===p.minus?"":p.minus+"",Tc=void 0===
p.nan?"NaN":p.nan+"";return{format:I,formatPrefix:function(id,pc){var Bd=I((id=xd(id),id.type="f",id));id=3*Math.max(-8,Math.min(8,Math.floor(Dc(pc)/3)));var $d=Math.pow(10,-id),ue=Ma[8+id/3];return function(Vd){return Bd($d*Vd)+ue}}}}function Fe(p,I,P,ua){P=Ab(p,I,P);ua=xd(null==ua?",f":ua);switch(ua.type){case "s":p=Math.max(Math.abs(p),Math.abs(I));if(I=null==ua.precision){var db=isNaN;P=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Dc(p)/3)))-Dc(Math.abs(P)));I=!db(db=P)}I&&(ua.precision=db);
return ec(ua,p);case "":case "e":case "g":case "p":case "r":var gb;if(gb=null==ua.precision)db=isNaN,p=Math.max(Math.abs(p),Math.abs(I)),P=Math.abs(P),p=Math.abs(p)-P,P=Math.max(0,Dc(p)-Dc(P))+1,gb=!db(db=P);gb&&(ua.precision=db-("e"===ua.type));break;case "f":case "%":null!=ua.precision||isNaN(db=Math.max(0,-Dc(Math.abs(P))))||(ua.precision=db-2*("%"===ua.type))}return Lb(ua)}function ve(p){var I=p.domain;p.ticks=function(P){var ua=I();return jb(ua[0],ua[ua.length-1],null==P?10:P)};p.tickFormat=
function(P,ua){var db=I();return Fe(db[0],db[db.length-1],null==P?10:P,ua)};p.nice=function(P){null==P&&(P=10);var ua=I(),db=0,gb=ua.length-1,tb=ua[db],Nb=ua[gb],sc=10;if(Nb<tb){var Tc=tb;tb=Nb;Nb=Tc;Tc=db;db=gb;gb=Tc}for(;0<sc--;){Tc=yb(tb,Nb,P);if(Tc===id)return ua[db]=tb,ua[gb]=Nb,I(ua);if(0<Tc)tb=Math.floor(tb/Tc)*Tc,Nb=Math.ceil(Nb/Tc)*Tc;else if(0>Tc)tb=Math.ceil(tb*Tc)/Tc,Nb=Math.floor(Nb*Tc)/Tc;else break;var id=Tc}return p};return p}function Sd(){var p=oc()(fa,fa);p.copy=function(){return Vb(p,
Sd())};Xa.apply(p,arguments);return ve(p)}function qe(p){function I(ua){return null==ua||isNaN(ua=+ua)?P:ua}var P;I.invert=I;I.domain=I.range=function(ua){return arguments.length?(p=Array.from(ua,aa),I):p.slice()};I.unknown=function(ua){return arguments.length?(P=ua,I):P};I.copy=function(){return qe(p).unknown(P)};p=arguments.length?Array.from(p,aa):[0,1];return ve(I)}function A(p,I){p=p.slice();var P=0,ua=p.length-1,db=p[P],gb=p[ua];if(gb<db){var tb=P;P=ua;ua=tb;tb=db;db=gb;gb=tb}p[P]=I.floor(db);
p[ua]=I.ceil(gb);return p}function W(p){return Math.log(p)}function ta(p){return Math.exp(p)}function Qa(p){return-Math.log(-p)}function qb(p){return-Math.exp(-p)}function Bb(p){return isFinite(p)?+("1e"+p):0>p?0:p}function ac(p){return 10===p?Bb:p===Math.E?Math.exp:I=>Math.pow(p,I)}function Sb(p){return p===Math.E?Math.log:10===p&&Math.log10||2===p&&Math.log2||(p=Math.log(p),I=>Math.log(I)/p)}function wb(p){return(I,P)=>-p(-I,P)}function zc(p){function I(){gb=Sb(db);tb=ac(db);0>ua()[0]?(gb=wb(gb),
tb=wb(tb),p(Qa,qb)):p(W,ta);return P}const P=p(W,ta),ua=P.domain;let db=10,gb,tb;P.base=function(Nb){return arguments.length?(db=+Nb,I()):db};P.domain=function(Nb){return arguments.length?(ua(Nb),I()):ua()};P.ticks=Nb=>{var sc=ua();let Tc=sc[0];sc=sc[sc.length-1];const id=sc<Tc;id&&([Tc,sc]=[sc,Tc]);let pc=gb(Tc),Bd=gb(sc),$d;const ue=null==Nb?10:+Nb;let Vd=[];if(!(db%1)&&Bd-pc<ue){pc=Math.floor(pc);Bd=Math.ceil(Bd);if(0<Tc)for(;pc<=Bd;++pc)for(Nb=1;Nb<db;++Nb){if($d=0>pc?Nb/tb(-pc):Nb*tb(pc),!($d<
Tc)){if($d>sc)break;Vd.push($d)}}else for(;pc<=Bd;++pc)for(Nb=db-1;1<=Nb;--Nb)if($d=0<pc?Nb/tb(-pc):Nb*tb(pc),!($d<Tc)){if($d>sc)break;Vd.push($d)}2*Vd.length<ue&&(Vd=jb(Tc,sc,ue))}else Vd=jb(pc,Bd,Math.min(Bd-pc,ue)).map(tb);return id?Vd.reverse():Vd};P.tickFormat=(Nb,sc)=>{null==Nb&&(Nb=10);null==sc&&(sc=10===db?"s":",");"function"!==typeof sc&&(db%1||null!=(sc=xd(sc)).precision||(sc.trim=!0),sc=Lb(sc));if(Infinity===Nb)return sc;const Tc=Math.max(1,db*Nb/P.ticks().length);return id=>{let pc=id/
tb(Math.round(gb(id)));pc*db<db-.5&&(pc*=db);return pc<=Tc?sc(id):""}};P.nice=()=>ua(A(ua(),{floor:Nb=>tb(Math.floor(gb(Nb))),ceil:Nb=>tb(Math.ceil(gb(Nb)))}));return P}function Ic(){const p=zc(oc()).domain([1,10]);p.copy=()=>Vb(p,Ic()).base(p.base());Xa.apply(p,arguments);return p}function $c(p){return function(I){return Math.sign(I)*Math.log1p(Math.abs(I/p))}}function bd(p){return function(I){return Math.sign(I)*Math.expm1(Math.abs(I))*p}}function nd(p){var I=1,P=p($c(I),bd(I));P.constant=function(ua){return arguments.length?
p($c(I=+ua),bd(I)):I};return ve(P)}function Ed(){var p=nd(oc());p.copy=function(){return Vb(p,Ed()).constant(p.constant())};return Xa.apply(p,arguments)}function Wd(p){return function(I){return 0>I?-Math.pow(-I,p):Math.pow(I,p)}}function ke(p){return 0>p?-Math.sqrt(-p):Math.sqrt(p)}function ce(p){return 0>p?-p*p:p*p}function Ud(p){var I=p(fa,fa),P=1;I.exponent=function(ua){return arguments.length?(P=+ua,1===P?p(fa,fa):.5===P?p(ke,ce):p(Wd(P),Wd(1/P))):P};return ve(I)}function Ve(){var p=Ud(oc());
p.copy=function(){return Vb(p,Ve()).exponent(p.exponent())};Xa.apply(p,arguments);return p}function Pe(){function p(){var tb=0,Nb=Math.max(1,ua.length);for(db=Array(Nb-1);++tb<Nb;)db[tb-1]=Pa(P,tb/Nb);return I}function I(tb){return null==tb||isNaN(tb=+tb)?gb:ua[Le(db,tb)]}var P=[],ua=[],db=[],gb;I.invertExtent=function(tb){tb=ua.indexOf(tb);return 0>tb?[NaN,NaN]:[0<tb?db[tb-1]:P[0],tb<db.length?db[tb]:P[P.length-1]]};I.domain=function(tb){if(!arguments.length)return P.slice();P=[];for(let Nb of tb)null==
Nb||isNaN(Nb=+Nb)||P.push(Nb);P.sort(gc);return p()};I.range=function(tb){return arguments.length?(ua=Array.from(tb),p()):ua.slice()};I.unknown=function(tb){return arguments.length?(gb=tb,I):gb};I.quantiles=function(){return db.slice()};I.copy=function(){return Pe().domain(P).range(ua).unknown(gb)};return Xa.apply(I,arguments)}function hf(){function p(sc){return null!=sc&&sc<=sc?tb[Le(gb,sc,0,db)]:Nb}function I(){var sc=-1;for(gb=Array(db);++sc<db;)gb[sc]=((sc+1)*ua-(sc-db)*P)/(db+1);return p}var P=
0,ua=1,db=1,gb=[.5],tb=[0,1],Nb;p.domain=function(sc){return arguments.length?([P,ua]=sc,P=+P,ua=+ua,I()):[P,ua]};p.range=function(sc){return arguments.length?(db=(tb=Array.from(sc)).length-1,I()):tb.slice()};p.invertExtent=function(sc){sc=tb.indexOf(sc);return 0>sc?[NaN,NaN]:1>sc?[P,gb[0]]:sc>=db?[gb[db-1],ua]:[gb[sc-1],gb[sc]]};p.unknown=function(sc){return arguments.length?(Nb=sc,p):p};p.thresholds=function(){return gb.slice()};p.copy=function(){return hf().domain([P,ua]).range(tb).unknown(Nb)};
return Xa.apply(ve(p),arguments)}function Ne(){function p(gb){return null!=gb&&gb<=gb?P[Le(I,gb,0,db)]:ua}var I=[.5],P=[0,1],ua,db=1;p.domain=function(gb){return arguments.length?(I=Array.from(gb),db=Math.min(I.length,P.length-1),p):I.slice()};p.range=function(gb){return arguments.length?(P=Array.from(gb),db=Math.min(I.length,P.length-1),p):P.slice()};p.invertExtent=function(gb){gb=P.indexOf(gb);return[I[gb-1],I[gb]]};p.unknown=function(gb){return arguments.length?(ua=gb,p):ua};p.copy=function(){return Ne().domain(I).range(P).unknown(ua)};
return Xa.apply(p,arguments)}function ne(p,I,P,ua){function db(gb){return p(gb=0===arguments.length?new Date:new Date(+gb)),gb}db.floor=function(gb){return p(gb=new Date(+gb)),gb};db.ceil=function(gb){return p(gb=new Date(gb-1)),I(gb,1),p(gb),gb};db.round=function(gb){var tb=db(gb),Nb=db.ceil(gb);return gb-tb<Nb-gb?tb:Nb};db.offset=function(gb,tb){return I(gb=new Date(+gb),null==tb?1:Math.floor(tb)),gb};db.range=function(gb,tb,Nb){var sc=[],Tc;gb=db.ceil(gb);Nb=null==Nb?1:Math.floor(Nb);if(!(gb<tb&&
0<Nb))return sc;do sc.push(Tc=new Date(+gb)),I(gb,Nb),p(gb);while(Tc<gb&&gb<tb);return sc};db.filter=function(gb){return ne(function(tb){if(tb>=tb)for(;p(tb),!gb(tb);)tb.setTime(tb-1)},function(tb,Nb){if(tb>=tb)if(0>Nb)for(;0>=++Nb;)for(;I(tb,-1),!gb(tb););else for(;0<=--Nb;)for(;I(tb,1),!gb(tb););})};P&&(db.count=function(gb,tb){u.setTime(+gb);N.setTime(+tb);p(u);p(N);return Math.floor(P(u,N))},db.every=function(gb){gb=Math.floor(gb);return isFinite(gb)&&0<gb?1<gb?db.filter(ua?function(tb){return 0===
ua(tb)%gb}:function(tb){return 0===db.count(0,tb)%gb}):db:null});return db}function Se(p){return ne(function(I){I.setDate(I.getDate()-(I.getDay()+7-p)%7);I.setHours(0,0,0,0)},function(I,P){I.setDate(I.getDate()+7*P)},function(I,P){return(P-I-6E4*(P.getTimezoneOffset()-I.getTimezoneOffset()))/nb})}function F(p){return ne(function(I){I.setUTCDate(I.getUTCDate()-(I.getUTCDay()+7-p)%7);I.setUTCHours(0,0,0,0)},function(I,P){I.setUTCDate(I.getUTCDate()+7*P)},function(I,P){return(P-I)/nb})}function Z(p,
I,P,ua,db,gb){function tb(sc,Tc,id){const pc=Math.abs(Tc-sc)/id,Bd=nc(([,,Vd])=>Vd).right(Nb,pc);if(Bd===Nb.length)return p.every(Ab(sc/dc,Tc/dc,id));if(0===Bd)return ha.every(Math.max(Ab(sc,Tc,id),1));const [$d,ue]=Nb[pc/Nb[Bd-1][2]<Nb[Bd][2]/pc?Bd-1:Bd];return $d.every(ue)}const Nb=[[Ec,1,1E3],[Ec,5,5E3],[Ec,15,15E3],[Ec,30,3E4],[gb,1,6E4],[gb,5,3E5],[gb,15,9E5],[gb,30,18E5],[db,1,36E5],[db,3,108E5],[db,6,216E5],[db,12,432E5],[ua,1,864E5],[ua,2,1728E5],[P,1,nb],[I,1,Yb],[I,3,3*Yb],[p,1,dc]];return[function(sc,
Tc,id){const pc=Tc<sc;pc&&([sc,Tc]=[Tc,sc]);sc=(id=id&&"function"===typeof id.range?id:tb(sc,Tc,id))?id.range(sc,+Tc+1):[];return pc?sc.reverse():sc},tb]}function Da(p){if(0<=p.y&&100>p.y){var I=new Date(-1,p.m,p.d,p.H,p.M,p.S,p.L);I.setFullYear(p.y);return I}return new Date(p.y,p.m,p.d,p.H,p.M,p.S,p.L)}function hb(p){if(0<=p.y&&100>p.y){var I=new Date(Date.UTC(-1,p.m,p.d,p.H,p.M,p.S,p.L));I.setUTCFullYear(p.y);return I}return new Date(Date.UTC(p.y,p.m,p.d,p.H,p.M,p.S,p.L))}function Kb(p,I,P){return{y:p,
m:I,d:P,H:0,M:0,S:0,L:0}}function uc(p){function I(ae,Cd){return function(ge){var Id=[],qf=-1,Zf=0,zf=ae.length,$f,zg;for(ge instanceof Date||(ge=new Date(+ge));++qf<zf;)if(37===ae.charCodeAt(qf)){Id.push(ae.slice(Zf,qf));null!=(Zf=yi[$f=ae.charAt(++qf)])?$f=ae.charAt(++qf):Zf="e"===$f?" ":"0";if(zg=Cd[$f])$f=zg(ge,Zf);Id.push($f);Zf=qf+1}Id.push(ae.slice(Zf,qf));return Id.join("")}}function P(ae,Cd){return function(ge){var Id=Kb(1900,void 0,1);if(ua(Id,ae,ge+="",0)!=ge.length)return null;if("Q"in
Id)return new Date(Id.Q);if("s"in Id)return new Date(1E3*Id.s+("L"in Id?Id.L:0));!Cd||"Z"in Id||(Id.Z=0);"p"in Id&&(Id.H=Id.H%12+12*Id.p);void 0===Id.m&&(Id.m="q"in Id?Id.q:0);if("V"in Id){if(1>Id.V||53<Id.V)return null;"w"in Id||(Id.w=1);if("Z"in Id){ge=hb(Kb(Id.y,0,1));var qf=ge.getUTCDay();ge=4<qf||0===qf?Fh.ceil(ge):Fh(ge);ge=$g.offset(ge,7*(Id.V-1));Id.y=ge.getUTCFullYear();Id.m=ge.getUTCMonth();Id.d=ge.getUTCDate()+(Id.w+6)%7}else ge=Da(Kb(Id.y,0,1)),qf=ge.getDay(),ge=4<qf||0===qf?ze.ceil(ge):
ze(ge),ge=Xc.offset(ge,7*(Id.V-1)),Id.y=ge.getFullYear(),Id.m=ge.getMonth(),Id.d=ge.getDate()+(Id.w+6)%7}else if("W"in Id||"U"in Id)"w"in Id||(Id.w="u"in Id?Id.u%7:"W"in Id?1:0),qf="Z"in Id?hb(Kb(Id.y,0,1)).getUTCDay():Da(Kb(Id.y,0,1)).getDay(),Id.m=0,Id.d="W"in Id?(Id.w+6)%7+7*Id.W-(qf+5)%7:Id.w+7*Id.U-(qf+6)%7;return"Z"in Id?(Id.H+=Id.Z/100|0,Id.M+=Id.Z%100,hb(Id)):Da(Id)}}function ua(ae,Cd,ge,Id){for(var qf=0,Zf=Cd.length,zf=ge.length,$f;qf<Zf;){if(Id>=zf)return-1;$f=Cd.charCodeAt(qf++);if(37===
$f){if($f=Cd.charAt(qf++),$f=ih[$f in yi?Cd.charAt(qf++):$f],!$f||0>(Id=$f(ae,ge,Id)))return-1}else if($f!=ge.charCodeAt(Id++))return-1}return Id}var db=p.dateTime,gb=p.date,tb=p.time,Nb=p.periods,sc=p.days,Tc=p.shortDays,id=p.months,pc=p.shortMonths,Bd=Ga(Nb),$d=sb(Nb),ue=Ga(sc),Vd=sb(sc),bf=Ga(Tc),Nf=sb(Tc),Uf=Ga(id),cf=sb(id),Og=Ga(pc),tf=sb(pc),Be={a:function(ae){return Tc[ae.getDay()]},A:function(ae){return sc[ae.getDay()]},b:function(ae){return pc[ae.getMonth()]},B:function(ae){return id[ae.getMonth()]},
c:null,d:ff,e:ff,f:Wc,g:Pb,G:Ub,H:jf,I:gd,j:Rc,L:jd,m:na,M:La,p:function(ae){return Nb[+(12<=ae.getHours())]},q:function(ae){return 1+~~(ae.getMonth()/3)},Q:lf,s:Pf,S:Ya,u:ub,U:n,V:da,w:Ja,W:Sa,x:null,X:null,y:Ua,Y:bc,Z:yc,"%":He},yf={a:function(ae){return Tc[ae.getUTCDay()]},A:function(ae){return sc[ae.getUTCDay()]},b:function(ae){return pc[ae.getUTCMonth()]},B:function(ae){return id[ae.getUTCMonth()]},c:null,d:Rb,e:Rb,f:hd,g:Hf,G:te,H:Kc,I:Od,j:od,L:Md,m:Mc,M:dd,p:function(ae){return Nb[+(12<=ae.getUTCHours())]},
q:function(ae){return 1+~~(ae.getUTCMonth()/3)},Q:lf,s:Pf,S:Pd,u:Xd,U:oe,V:Qc,w:Oe,W:We,x:null,X:null,y:df,Y:wd,Z:Qe,"%":He},ih={a:function(ae,Cd,ge){return(Cd=bf.exec(Cd.slice(ge)))?(ae.w=Nf.get(Cd[0].toLowerCase()),ge+Cd[0].length):-1},A:function(ae,Cd,ge){return(Cd=ue.exec(Cd.slice(ge)))?(ae.w=Vd.get(Cd[0].toLowerCase()),ge+Cd[0].length):-1},b:function(ae,Cd,ge){return(Cd=Og.exec(Cd.slice(ge)))?(ae.m=tf.get(Cd[0].toLowerCase()),ge+Cd[0].length):-1},B:function(ae,Cd,ge){return(Cd=Uf.exec(Cd.slice(ge)))?
(ae.m=cf.get(Cd[0].toLowerCase()),ge+Cd[0].length):-1},c:function(ae,Cd,ge){return ua(ae,db,Cd,ge)},d:Pc,e:Pc,f:Fd,g:De,G:Nd,H:cd,I:cd,j:Gd,L:sd,m:Ae,M:qd,p:function(ae,Cd,ge){return(Cd=Bd.exec(Cd.slice(ge)))?(ae.p=$d.get(Cd[0].toLowerCase()),ge+Cd[0].length):-1},q:fe,Q:Ee,s:Re,S:fd,u:Uc,U:Vc,V:rd,w:hc,W:ad,x:function(ae,Cd,ge){return ua(ae,gb,Cd,ge)},X:function(ae,Cd,ge){return ua(ae,tb,Cd,ge)},y:De,Y:Nd,Z:Rd,"%":be};Be.x=I(gb,Be);Be.X=I(tb,Be);Be.c=I(db,Be);yf.x=I(gb,yf);yf.X=I(tb,yf);yf.c=I(db,
yf);return{format:function(ae){var Cd=I(ae+="",Be);Cd.toString=function(){return ae};return Cd},parse:function(ae){var Cd=P(ae+="",!1);Cd.toString=function(){return ae};return Cd},utcFormat:function(ae){var Cd=I(ae+="",yf);Cd.toString=function(){return ae};return Cd},utcParse:function(ae){var Cd=P(ae+="",!0);Cd.toString=function(){return ae};return Cd}}}function Ib(p,I,P){var ua=0>p?"-":"";p=(ua?-p:p)+"";var db=p.length;return ua+(db<P?Array(P-db+1).join(I)+p:p)}function ma(p){return p.replace(Ri,
"\\$\x26")}function Ga(p){return new RegExp("^(?:"+p.map(ma).join("|")+")","i")}function sb(p){return new Map(p.map((I,P)=>[I.toLowerCase(),P]))}function hc(p,I,P){return(I=Lf.exec(I.slice(P,P+1)))?(p.w=+I[0],P+I[0].length):-1}function Uc(p,I,P){return(I=Lf.exec(I.slice(P,P+1)))?(p.u=+I[0],P+I[0].length):-1}function Vc(p,I,P){return(I=Lf.exec(I.slice(P,P+2)))?(p.U=+I[0],P+I[0].length):-1}function rd(p,I,P){return(I=Lf.exec(I.slice(P,P+2)))?(p.V=+I[0],P+I[0].length):-1}function ad(p,I,P){return(I=
Lf.exec(I.slice(P,P+2)))?(p.W=+I[0],P+I[0].length):-1}function Nd(p,I,P){return(I=Lf.exec(I.slice(P,P+4)))?(p.y=+I[0],P+I[0].length):-1}function De(p,I,P){return(I=Lf.exec(I.slice(P,P+2)))?(p.y=+I[0]+(68<+I[0]?1900:2E3),P+I[0].length):-1}function Rd(p,I,P){return(I=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(I.slice(P,P+6)))?(p.Z=I[1]?0:-(I[2]+(I[3]||"00")),P+I[0].length):-1}function fe(p,I,P){return(I=Lf.exec(I.slice(P,P+1)))?(p.q=3*I[0]-3,P+I[0].length):-1}function Ae(p,I,P){return(I=Lf.exec(I.slice(P,
P+2)))?(p.m=I[0]-1,P+I[0].length):-1}function Pc(p,I,P){return(I=Lf.exec(I.slice(P,P+2)))?(p.d=+I[0],P+I[0].length):-1}function Gd(p,I,P){return(I=Lf.exec(I.slice(P,P+3)))?(p.m=0,p.d=+I[0],P+I[0].length):-1}function cd(p,I,P){return(I=Lf.exec(I.slice(P,P+2)))?(p.H=+I[0],P+I[0].length):-1}function qd(p,I,P){return(I=Lf.exec(I.slice(P,P+2)))?(p.M=+I[0],P+I[0].length):-1}function fd(p,I,P){return(I=Lf.exec(I.slice(P,P+2)))?(p.S=+I[0],P+I[0].length):-1}function sd(p,I,P){return(I=Lf.exec(I.slice(P,P+
3)))?(p.L=+I[0],P+I[0].length):-1}function Fd(p,I,P){return(I=Lf.exec(I.slice(P,P+6)))?(p.L=Math.floor(I[0]/1E3),P+I[0].length):-1}function be(p,I,P){return(p=qg.exec(I.slice(P,P+1)))?P+p[0].length:-1}function Ee(p,I,P){return(I=Lf.exec(I.slice(P)))?(p.Q=+I[0],P+I[0].length):-1}function Re(p,I,P){return(I=Lf.exec(I.slice(P)))?(p.s=+I[0],P+I[0].length):-1}function ff(p,I){return Ib(p.getDate(),I,2)}function jf(p,I){return Ib(p.getHours(),I,2)}function gd(p,I){return Ib(p.getHours()%12||12,I,2)}function Rc(p,
I){return Ib(1+Xc.count(pf(p),p),I,3)}function jd(p,I){return Ib(p.getMilliseconds(),I,3)}function Wc(p,I){return jd(p,I)+"000"}function na(p,I){return Ib(p.getMonth()+1,I,2)}function La(p,I){return Ib(p.getMinutes(),I,2)}function Ya(p,I){return Ib(p.getSeconds(),I,2)}function ub(p){p=p.getDay();return 0===p?7:p}function n(p,I){return Ib(Ld.count(pf(p)-1,p),I,2)}function J(p){var I=p.getDay();return 4<=I||0===I?pe(p):pe.ceil(p)}function da(p,I){p=J(p);return Ib(pe.count(pf(p),p)+(4===pf(p).getDay()),
I,2)}function Ja(p){return p.getDay()}function Sa(p,I){return Ib(ze.count(pf(p)-1,p),I,2)}function Ua(p,I){return Ib(p.getFullYear()%100,I,2)}function Pb(p,I){p=J(p);return Ib(p.getFullYear()%100,I,2)}function bc(p,I){return Ib(p.getFullYear()%1E4,I,4)}function Ub(p,I){var P=p.getDay();p=4<=P||0===P?pe(p):pe.ceil(p);return Ib(p.getFullYear()%1E4,I,4)}function yc(p){p=p.getTimezoneOffset();return(0<p?"-":(p*=-1,"+"))+Ib(p/60|0,"0",2)+Ib(p%60,"0",2)}function Rb(p,I){return Ib(p.getUTCDate(),I,2)}function Kc(p,
I){return Ib(p.getUTCHours(),I,2)}function Od(p,I){return Ib(p.getUTCHours()%12||12,I,2)}function od(p,I){return Ib(1+$g.count(ef(p),p),I,3)}function Md(p,I){return Ib(p.getUTCMilliseconds(),I,3)}function hd(p,I){return Md(p,I)+"000"}function Mc(p,I){return Ib(p.getUTCMonth()+1,I,2)}function dd(p,I){return Ib(p.getUTCMinutes(),I,2)}function Pd(p,I){return Ib(p.getUTCSeconds(),I,2)}function Xd(p){p=p.getUTCDay();return 0===p?7:p}function oe(p,I){return Ib(ah.count(ef(p)-1,p),I,2)}function re(p){var I=
p.getUTCDay();return 4<=I||0===I?Tf(p):Tf.ceil(p)}function Qc(p,I){p=re(p);return Ib(Tf.count(ef(p),p)+(4===ef(p).getUTCDay()),I,2)}function Oe(p){return p.getUTCDay()}function We(p,I){return Ib(Fh.count(ef(p)-1,p),I,2)}function df(p,I){return Ib(p.getUTCFullYear()%100,I,2)}function Hf(p,I){p=re(p);return Ib(p.getUTCFullYear()%100,I,2)}function wd(p,I){return Ib(p.getUTCFullYear()%1E4,I,4)}function te(p,I){var P=p.getUTCDay();p=4<=P||0===P?Tf(p):Tf.ceil(p);return Ib(p.getUTCFullYear()%1E4,I,4)}function Qe(){return"+0000"}
function He(){return"%"}function lf(p){return+p}function Pf(p){return Math.floor(+p/1E3)}function If(p){return new Date(p)}function Wf(p){return p instanceof Date?+p:+new Date(+p)}function Xe(p,I,P,ua,db,gb,tb,Nb,sc,Tc){function id(Be){return(sc(Be)<Be?ue:Nb(Be)<Be?Vd:tb(Be)<Be?bf:gb(Be)<Be?Nf:ua(Be)<Be?db(Be)<Be?Uf:cf:P(Be)<Be?Og:tf)(Be)}var pc=oc()(fa,fa),Bd=pc.invert,$d=pc.domain,ue=Tc(".%L"),Vd=Tc(":%S"),bf=Tc("%I:%M"),Nf=Tc("%I %p"),Uf=Tc("%a %d"),cf=Tc("%b %d"),Og=Tc("%B"),tf=Tc("%Y");pc.invert=
function(Be){return new Date(Bd(Be))};pc.domain=function(Be){return arguments.length?$d(Array.from(Be,Wf)):$d().map(If)};pc.ticks=function(Be){var yf=$d();return p(yf[0],yf[yf.length-1],null==Be?10:Be)};pc.tickFormat=function(Be,yf){return null==yf?id:Tc(yf)};pc.nice=function(Be){var yf=$d();Be&&"function"===typeof Be.range||(Be=I(yf[0],yf[yf.length-1],null==Be?10:Be));return Be?$d(A(yf,Be)):pc};pc.copy=function(){return Vb(pc,Xe(p,I,P,ua,db,gb,tb,Nb,sc,Tc))};return pc}function Ce(){function p(pc){return null==
pc||isNaN(pc=+pc)?id:sc(0===tb?.5:(pc=(Nb(pc)-db)*tb,Tc?Math.max(0,Math.min(1,pc)):pc))}function I(pc){return function(Bd){var $d,ue;return arguments.length?([$d,ue]=Bd,sc=pc($d,ue),p):[sc(0),sc(1)]}}var P=0,ua=1,db,gb,tb,Nb,sc=fa,Tc=!1,id;p.domain=function(pc){return arguments.length?([P,ua]=pc,db=Nb(P=+P),gb=Nb(ua=+ua),tb=db===gb?0:1/(gb-db),p):[P,ua]};p.clamp=function(pc){return arguments.length?(Tc=!!pc,p):Tc};p.interpolator=function(pc){return arguments.length?(sc=pc,p):sc};p.range=I(lb);p.rangeRound=
I(Fb);p.unknown=function(pc){return arguments.length?(id=pc,p):id};return function(pc){Nb=pc;db=pc(P);gb=pc(ua);tb=db===gb?0:1/(gb-db);return p}}function rf(p,I){return I.domain(p.domain()).interpolator(p.interpolator()).clamp(p.clamp()).unknown(p.unknown())}function jg(){var p=ve(Ce()(fa));p.copy=function(){return rf(p,jg())};return Fa.apply(p,arguments)}function mf(){var p=zc(Ce()).domain([1,10]);p.copy=function(){return rf(p,mf()).base(p.base())};return Fa.apply(p,arguments)}function uf(){var p=
nd(Ce());p.copy=function(){return rf(p,uf()).constant(p.constant())};return Fa.apply(p,arguments)}function Qf(){var p=Ud(Ce());p.copy=function(){return rf(p,Qf()).exponent(p.exponent())};return Fa.apply(p,arguments)}function ng(){function p(Vd){return isNaN(Vd=+Vd)?ue:(Vd=.5+((Vd=+Bd(Vd))-Nb)*(gb*Vd<gb*Nb?Tc:id),pc($d?Math.max(0,Math.min(1,Vd)):Vd))}function I(Vd){return function(bf){var Nf,Uf,cf;return arguments.length?([Nf,Uf,cf]=bf,pc=w(Vd,[Nf,Uf,cf]),p):[pc(0),pc(.5),pc(1)]}}var P=0,ua=.5,db=
1,gb=1,tb,Nb,sc,Tc,id,pc=fa,Bd,$d=!1,ue;p.domain=function(Vd){return arguments.length?([P,ua,db]=Vd,tb=Bd(P=+P),Nb=Bd(ua=+ua),sc=Bd(db=+db),Tc=tb===Nb?0:.5/(Nb-tb),id=Nb===sc?0:.5/(sc-Nb),gb=Nb<tb?-1:1,p):[P,ua,db]};p.clamp=function(Vd){return arguments.length?($d=!!Vd,p):$d};p.interpolator=function(Vd){return arguments.length?(pc=Vd,p):pc};p.range=I(lb);p.rangeRound=I(Fb);p.unknown=function(Vd){return arguments.length?(ue=Vd,p):ue};return function(Vd){Bd=Vd;tb=Vd(P);Nb=Vd(ua);sc=Vd(db);Tc=tb===Nb?
0:.5/(Nb-tb);id=Nb===sc?0:.5/(sc-Nb);gb=Nb<tb?-1:1;return p}}function Rf(){var p=ve(ng()(fa));p.copy=function(){return rf(p,Rf())};return Fa.apply(p,arguments)}function Jf(){var p=zc(ng()).domain([.1,1,10]);p.copy=function(){return rf(p,Jf()).base(p.base())};return Fa.apply(p,arguments)}function ug(){var p=nd(ng());p.copy=function(){return rf(p,ug()).constant(p.constant())};return Fa.apply(p,arguments)}function U(){var p=Ud(ng());p.copy=function(){return rf(p,U()).exponent(p.exponent())};return Fa.apply(p,
arguments)}function Ia(){function p(){var pc=P().length;const Bd=db[1]<db[0],$d=db[1-Bd],ue=cb(pc,sc,Tc);let Vd=db[Bd-0];gb=($d-Vd)/(ue||1);Nb&&(gb=Math.floor(gb));Vd+=($d-Vd-gb*(pc-sc))*id;tb=gb*(1-sc);Nb&&(Vd=Math.round(Vd),tb=Math.round(tb));pc=Va(pc).map(bf=>Vd+gb*bf);return ua(Bd?pc.reverse():pc)}const I=pa().unknown(void 0),P=I.domain,ua=I.range;let db=[0,1],gb,tb,Nb=!1,sc=0,Tc=0,id=.5;delete I.unknown;I.domain=function(pc){return arguments.length?(P(pc),p()):P()};I.range=function(pc){return arguments.length?
(db=[+pc[0],+pc[1]],p()):db.slice()};I.rangeRound=function(pc){db=[+pc[0],+pc[1]];Nb=!0;return p()};I.bandwidth=function(){return tb};I.step=function(){return gb};I.round=function(pc){return arguments.length?(Nb=!!pc,p()):Nb};I.padding=function(pc){return arguments.length?(sc=Tc=Math.max(0,Math.min(1,pc)),p()):sc};I.paddingInner=function(pc){return arguments.length?(sc=Math.max(0,Math.min(1,pc)),p()):sc};I.paddingOuter=function(pc){return arguments.length?(Tc=Math.max(0,Math.min(1,pc)),p()):Tc};I.align=
function(pc){return arguments.length?(id=Math.max(0,Math.min(1,pc)),p()):id};I.invertRange=function(pc){if(null!=pc[0]&&null!=pc[1]){var Bd=db[1]<db[0],$d=Bd?ua().reverse():ua(),ue=$d.length-1,Vd=+pc[0],bf=+pc[1];if(Vd===Vd&&bf===bf){if(bf<Vd){var Nf=Vd;Vd=bf;bf=Nf}if(!(bf<$d[0]||Vd>db[1-Bd]))return pc=Math.max(0,gf($d,Vd)-1),bf=Vd===bf?pc:gf($d,bf)-1,Vd-$d[pc]>tb+1E-10&&++pc,Bd&&(Nf=pc,pc=ue-bf,bf=ue-Nf),pc>bf?void 0:P().slice(pc,bf+1)}}};I.invert=function(pc){return(pc=I.invertRange([pc,pc]))?pc[0]:
pc};I.copy=function(){return Ia().domain(P()).range(db).round(Nb).paddingInner(sc).paddingOuter(Tc).align(id)};return p()}function rb(p){const I=p.copy;p.padding=p.paddingOuter;delete p.paddingInner;p.copy=function(){return rb(I())};return p}function Cc(){function p(ua){return null==ua||ua!==ua?void 0:P[(Le(I,ua)-1)%P.length]}let I=[],P=[];p.domain=function(ua){return arguments.length?(I=th.call(ua,l.toNumber),p):I.slice()};p.range=function(ua){return arguments.length?(P=Mi.call(ua),p):P.slice()};
p.tickFormat=function(ua,db){return Fe(I[0],l.peek(I),null==ua?10:ua,db)};p.copy=function(){return Cc().domain(p.domain()).range(p.range())};return p}function Gc(p,I,P){const ua=function(){const db=I();db.invertRange||(db.invertRange=db.invert?zb(db):db.invertExtent?Zb(db):void 0);db.type=p;return db};ua.metadata=l.toSet(l.array(P));return ua}function ud(p,I,P){return 1<arguments.length?(fh[p]=Gc(p,I,P),this):xe(p)?fh[p]:void 0}function xe(p){return l.hasOwnProperty(fh,p)}function Ge(p,I){return(p=
fh[p])&&p.metadata[I]}function cg(p){return Ge(p,"discrete")}function Ye(p){return Ge(p,"discretizing")}function dg(p){return Ge(p,"log")}function Xg(p){return Ge(p,"temporal")}function vg(p,I,P){return w(eg(I||"rgb",P),p)}function eg(p,I){p=zi[kg(p)];return null!=I&&p&&p.gamma?p.gamma(I):p}function kg(p){return"interpolate"+p.toLowerCase().split("-").map(I=>I[0].toUpperCase()+I.slice(1)).join("")}function Hg(p){const I=p.length/6|0,P=Array(I);for(let ua=0;ua<I;)P[ua]="#"+p.slice(6*ua,6*++ua);return P}
function Ig(p,I){for(const P in p)kh(P,I(p[P]))}function kh(p,I){p=p&&p.toLowerCase();return 1<arguments.length?(Li[p]=I,this):Li[p]}function uh(p,I,P){var ua=p.range();let db=ua[0],gb=l.peek(ua);ua=zk;db>gb&&(ua=gb,gb=db,db=ua,ua=Bi);db=Math.floor(db);gb=Math.ceil(gb);I=I.map(tb=>[tb,p(tb)]).filter(tb=>db<=tb[1]&&tb[1]<=gb).sort(ua).map(tb=>tb[0]);if(0<P&&1<I.length){for(ua=[I[0],l.peek(I)];I.length>P&&3<=I.length;)I=I.filter((tb,Nb)=>!(Nb%2));3>I.length&&(I=ua)}return I}function Oh(p,I){return p.bins?
uh(p,p.bins):p.ticks?p.ticks(I):p.domain()}function vh(p,I,P,ua,db,gb){const tb=I.type;let Nb=kj;if("time"===tb||"time"===db)Nb=p.timeFormat(ua);else if("utc"===tb||"utc"===db)Nb=p.utcFormat(ua);else if(dg(tb)){const sc=p.formatFloat(ua);if(gb||I.bins)Nb=sc;else{const Tc=lh(I,P,!1);Nb=id=>Tc(id)?sc(id):""}}else I.tickFormat?(I=I.domain(),Nb=p.formatSpan(I[0],I[I.length-1],P,ua)):ua&&(Nb=p.format(ua));return Nb}function lh(p,I,P){const ua=Oh(p,I),db=p.base(),gb=Math.log(db),tb=Math.max(1,db*I/ua.length);
p=Nb=>{Nb/=Math.pow(db,Math.round(Math.log(Nb)/gb));Nb*db<db-.5&&(Nb*=db);return Nb<=tb};return P?ua.filter(p):p}function de(p,I){p.bins?(p=p.bins,I=p.slice(0,-1),I.max=l.peek(p),p=I):"log"===p.type?p=lh(p,I,!0):Sj[p.type]?(p=p[Sj[p.type]](),p=[-Infinity].concat(p),p.max=Infinity):p=Oh(p,I);return p}function je(p,I,P,ua,db,gb,tb){if(Si[I.type]&&"time"!==gb&&"utc"!==gb){P=I[Si[I.type]]();gb=P.length;tb=1<gb?P[1]-P[0]:P[0];let Nb;for(Nb=1;Nb<gb;++Nb)tb=Math.min(tb,P[Nb]-P[Nb-1]);p=p.formatSpan(0,tb,
30,db)}else p=vh(p,I,P,db,gb,tb);return"symbol"===ua&&(Sj[I.type]||I.bins)?Ci(p):"discrete"===ua?Ti(p):sj(p)}const gf=nc(gc).right;nc(Tb).center;var Le=gf;class nf extends Map{constructor(p,I=Ba){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:I}});if(null!=p)for(const [P,ua]of p)this.set(P,ua)}get(p){return super.get(Gb(this,p))}has(p){return super.has(Gb(this,p))}set(p,I){return super.set(Db(this,p),I)}delete(p){return super.delete(fc(this,p))}}var Ze=Math.sqrt(50),Sf=
Math.sqrt(10),wf=Math.sqrt(2);const Xf=Symbol("implicit");var $e=1/.7,wg=/^#([0-9a-f]{3,8})$/,Zg=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Sg=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),xg=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Qh=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
gh=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Rh=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Lg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
Aa(bb,Cb,{copy:function(p){return Object.assign(new this.constructor,this,p)},displayable:function(){return this.rgb().displayable()},hex:$a,formatHex:$a,formatHsl:function(){return ya(this).formatHsl()},formatRgb:Ca,toString:Ca});Aa(ca,pb,Ha(bb,{brighter:function(p){p=null==p?$e:Math.pow($e,p);return new ca(this.r*p,this.g*p,this.b*p,this.opacity)},darker:function(p){p=null==p?.7:Math.pow(.7,p);return new ca(this.r*p,this.g*p,this.b*p,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:O,formatHex:O,formatRgb:oa,toString:oa}));Aa(m,va,Ha(bb,{brighter:function(p){p=null==p?$e:Math.pow($e,p);return new m(this.h,this.s,this.l*p,this.opacity)},darker:function(p){p=null==p?.7:Math.pow(.7,p);return new m(this.h,this.s,this.l*p,this.opacity)},rgb:function(){var p=this.h%360+360*(0>this.h),I=isNaN(p)||isNaN(this.s)?0:this.s,P=this.l;I=P+(.5>P?P:1-P)*I;P=2*P-I;return new ca(G(240<=
p?p-240:p+120,P,I),G(p,P,I),G(120>p?p+240:p-120,P,I),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var p=this.opacity;p=isNaN(p)?1:Math.max(0,Math.min(1,p));return(1===p?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===p?")":", "+p+")")}}));const hh=Math.PI/180,nh=180/Math.PI,xi=4/29,Jg=6/29,Sh=3*Jg*Jg,Qi=Jg*Jg*Jg;Aa(t,y,Ha(bb,{brighter:function(p){return new t(this.l+
18*(null==p?1:p),this.a,this.b,this.opacity)},darker:function(p){return new t(this.l-18*(null==p?1:p),this.a,this.b,this.opacity)},rgb:function(){var p=(this.l+16)/116,I=isNaN(this.a)?p:p+this.a/500,P=isNaN(this.b)?p:p-this.b/200;I=.96422*V(I);p=1*V(p);P=.82521*V(P);return new ca(E(3.1338561*I-1.6168667*p-.4906146*P),E(-.9787684*I+1.9161415*p+.033454*P),E(.0719453*I-.2289914*p+1.4052427*P),this.opacity)}}));Aa(X,L,Ha(bb,{brighter:function(p){return new X(this.h,this.c,this.l+18*(null==p?1:p),this.opacity)},
darker:function(p){return new X(this.h,this.c,this.l-18*(null==p?1:p),this.opacity)},rgb:function(){return qa(this).rgb()}}));var Bg=1.78277*-.29227-.1347134789;Aa(la,T,Ha(bb,{brighter:function(p){p=null==p?$e:Math.pow($e,p);return new la(this.h,this.s,this.l*p,this.opacity)},darker:function(p){p=null==p?.7:Math.pow(.7,p);return new la(this.h,this.s,this.l*p,this.opacity)},rgb:function(){var p=isNaN(this.h)?0:(this.h+120)*hh,I=+this.l,P=isNaN(this.s)?0:this.s*I*(1-I),ua=Math.cos(p);p=Math.sin(p);
return new ca(255*(I+P*(-.14861*ua+1.78277*p)),255*(I+P*(-.29227*ua+-.90649*p)),255*(I+1.97294*P*ua),this.opacity)}}));var wh=p=>()=>p,gi=function P(I){function ua(gb,tb){var Nb=db((gb=pb(gb)).r,(tb=pb(tb)).r),sc=db(gb.g,tb.g),Tc=db(gb.b,tb.b),id=Ra(gb.opacity,tb.opacity);return function(pc){gb.r=Nb(pc);gb.g=sc(pc);gb.b=Tc(pc);gb.opacity=id(pc);return gb+""}}var db=mb(I);ua.gamma=P;return ua}(1),fi=Ob(R),Yg=Ob(ka),Th=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oh=new RegExp(Th.source,"g"),og=180/
Math.PI,hi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Uh,xh=Xb(function(I){I=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(I+"");return I.isIdentity?hi:Wb(I.a,I.b,I.c,I.d,I.e,I.f)},"px, ","px)","deg)"),Vh=Xb(function(I){if(null==I)return hi;Uh||(Uh=document.createElementNS("http://www.w3.org/2000/svg","g"));Uh.setAttribute("transform",I);if(!(I=Uh.transform.baseVal.consolidate()))return hi;I=I.matrix;return Wb(I.a,I.b,I.c,I.d,I.e,I.f)},", ",")",")"),ji=function gb(P,
ua,db){function tb(Nb,sc){var Tc=Nb[0],id=Nb[1],pc=Nb[2];Nb=sc[2];var Bd=sc[0]-Tc,$d=sc[1]-id,ue=Bd*Bd+$d*$d;if(1E-12>ue){var Vd=Math.log(Nb/pc)/P;Nb=function(Uf){return[Tc+Uf*Bd,id+Uf*$d,pc*Math.exp(P*Uf*Vd)]}}else{var bf=Math.sqrt(ue);sc=(Nb*Nb-pc*pc+db*ue)/(2*pc*ua*bf);Nb=(Nb*Nb-pc*pc-db*ue)/(2*Nb*ua*bf);var Nf=Math.log(Math.sqrt(sc*sc+1)-sc);Vd=(Math.log(Math.sqrt(Nb*Nb+1)-Nb)-Nf)/P;Nb=function(Uf){Uf*=Vd;var cf=ic(Nf),Og=P*Uf+Nf;var tf=((Og=Math.exp(2*Og))-1)/(Og+1);var Be=Nf;Og=((Be=Math.exp(Be))-
1/Be)/2;tf=pc/(ua*bf)*(cf*tf-Og);return[Tc+tf*Bd,id+tf*$d,pc*cf/ic(P*Uf+Nf)]}}Nb.duration=1E3*Vd*P/Math.SQRT2;return Nb}tb.rho=function(Nb){Nb=Math.max(.001,+Nb);var sc=Nb*Nb;return gb(Nb,sc,sc*sc)};return tb}(Math.SQRT2,2,4),ph=xc(Za),ki=xc(Ra),Kf=kd(Za),li=kd(Ra),fg=B(Za),of=B(Ra),zi=Object.freeze({__proto__:null,interpolate:lb,interpolateArray:function(P,ua){return(Lc(ua)?mc:wc)(P,ua)},interpolateBasis:R,interpolateBasisClosed:ka,interpolateDate:tc,interpolateDiscrete:function(P){var ua=P.length;
return function(db){return P[Math.max(0,Math.min(ua-1,Math.floor(db*ua)))]}},interpolateHue:function(P,ua){var db=Za(+P,+ua);return function(gb){gb=db(gb);return gb-360*Math.floor(gb/360)}},interpolateNumber:jc,interpolateNumberArray:mc,interpolateObject:Sc,interpolateRound:Fb,interpolateString:ob,interpolateTransformCss:xh,interpolateTransformSvg:Vh,interpolateZoom:ji,interpolateRgb:gi,interpolateRgbBasis:fi,interpolateRgbBasisClosed:Yg,interpolateHsl:ph,interpolateHslLong:ki,interpolateLab:function(P,
ua){var db=Ra((P=y(P)).l,(ua=y(ua)).l),gb=Ra(P.a,ua.a),tb=Ra(P.b,ua.b),Nb=Ra(P.opacity,ua.opacity);return function(sc){P.l=db(sc);P.a=gb(sc);P.b=tb(sc);P.opacity=Nb(sc);return P+""}},interpolateHcl:Kf,interpolateHclLong:li,interpolateCubehelix:fg,interpolateCubehelixLong:of,piecewise:w,quantize:function(P,ua){for(var db=Array(ua),gb=0;gb<ua;++gb)db[gb]=P(gb/(ua-1));return db}}),Tg=[0,1],pg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;xd.prototype=Hd.prototype;Hd.prototype.toString=
function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var D,ba={"%":(P,ua)=>(100*P).toFixed(ua),b:P=>Math.round(P).toString(2),c:P=>P+"",d:function(P){return 1E21<=Math.abs(P=Math.round(P))?P.toLocaleString("en").replace(/,/g,""):P.toString(10)},e:(P,ua)=>P.toExponential(ua),f:(P,ua)=>P.toFixed(ua),g:(P,ua)=>P.toPrecision(ua),
o:P=>Math.round(P).toString(8),p:(P,ua)=>Ad(100*P,ua),r:Ad,s:function(P,ua){var db=qc(P,ua);if(!db)return P+"";var gb=db[0];db=db[1];db=db-(D=3*Math.max(-8,Math.min(8,Math.floor(db/3))))+1;var tb=gb.length;return db===tb?gb:db>tb?gb+Array(db-tb+1).join("0"):0<db?gb.slice(0,db)+"."+gb.slice(db):"0."+Array(1-db).join("0")+qc(P,Math.max(0,ua+db-1))[0]},X:P=>Math.round(P).toString(16).toUpperCase(),x:P=>Math.round(P).toString(16)},wa=Array.prototype.map,Ma="y z a f p n  m  k M G T P E Z Y".split(" "),
Eb,Lb,ec;(function(P){Eb=ed(P);Lb=Eb.format;ec=Eb.formatPrefix;return Eb})({thousands:",",grouping:[3],currency:["$",""]});var u=new Date,N=new Date,ja=ne(function(){},function(P,ua){P.setTime(+P+ua)},function(P,ua){return ua-P});ja.every=function(P){P=Math.floor(P);return isFinite(P)&&0<P?1<P?ne(function(ua){ua.setTime(Math.floor(ua/P)*P)},function(ua,db){ua.setTime(+ua+db*P)},function(ua,db){return(db-ua)/P}):ja:null};var ha=ja;const nb=6048E5,Yb=2592E6,dc=31536E6;var Ec=ne(function(P){P.setTime(P-
P.getMilliseconds())},function(P,ua){P.setTime(+P+1E3*ua)},function(P,ua){return(ua-P)/1E3},function(P){return P.getUTCSeconds()}),cc=ne(function(P){P.setTime(P-P.getMilliseconds()-1E3*P.getSeconds())},function(P,ua){P.setTime(+P+6E4*ua)},function(P,ua){return(ua-P)/6E4},function(P){return P.getMinutes()}),Yc=ne(function(P){P.setTime(P-P.getMilliseconds()-1E3*P.getSeconds()-6E4*P.getMinutes())},function(P,ua){P.setTime(+P+36E5*ua)},function(P,ua){return(ua-P)/36E5},function(P){return P.getHours()}),
Xc=ne(P=>P.setHours(0,0,0,0),(P,ua)=>P.setDate(P.getDate()+ua),(P,ua)=>(ua-P-6E4*(ua.getTimezoneOffset()-P.getTimezoneOffset()))/864E5,P=>P.getDate()-1),Ld=Se(0),ze=Se(1);Se(2);Se(3);var pe=Se(4);Se(5);Se(6);var af=ne(function(P){P.setDate(1);P.setHours(0,0,0,0)},function(P,ua){P.setMonth(P.getMonth()+ua)},function(P,ua){return ua.getMonth()-P.getMonth()+12*(ua.getFullYear()-P.getFullYear())},function(P){return P.getMonth()}),xf=ne(function(P){P.setMonth(0,1);P.setHours(0,0,0,0)},function(P,ua){P.setFullYear(P.getFullYear()+
ua)},function(P,ua){return ua.getFullYear()-P.getFullYear()},function(P){return P.getFullYear()});xf.every=function(P){return isFinite(P=Math.floor(P))&&0<P?ne(function(ua){ua.setFullYear(Math.floor(ua.getFullYear()/P)*P);ua.setMonth(0,1);ua.setHours(0,0,0,0)},function(ua,db){ua.setFullYear(ua.getFullYear()+db*P)}):null};var pf=xf,ie=ne(function(P){P.setUTCSeconds(0,0)},function(P,ua){P.setTime(+P+6E4*ua)},function(P,ua){return(ua-P)/6E4},function(P){return P.getUTCMinutes()}),Te=ne(function(P){P.setUTCMinutes(0,
0,0)},function(P,ua){P.setTime(+P+36E5*ua)},function(P,ua){return(ua-P)/36E5},function(P){return P.getUTCHours()}),$g=ne(function(P){P.setUTCHours(0,0,0,0)},function(P,ua){P.setUTCDate(P.getUTCDate()+ua)},function(P,ua){return(ua-P)/864E5},function(P){return P.getUTCDate()-1}),ah=F(0),Fh=F(1);F(2);F(3);var Tf=F(4);F(5);F(6);var Bf=ne(function(P){P.setUTCDate(1);P.setUTCHours(0,0,0,0)},function(P,ua){P.setUTCMonth(P.getUTCMonth()+ua)},function(P,ua){return ua.getUTCMonth()-P.getUTCMonth()+12*(ua.getUTCFullYear()-
P.getUTCFullYear())},function(P){return P.getUTCMonth()}),zh=ne(function(P){P.setUTCMonth(0,1);P.setUTCHours(0,0,0,0)},function(P,ua){P.setUTCFullYear(P.getUTCFullYear()+ua)},function(P,ua){return ua.getUTCFullYear()-P.getUTCFullYear()},function(P){return P.getUTCFullYear()});zh.every=function(P){return isFinite(P=Math.floor(P))&&0<P?ne(function(ua){ua.setUTCFullYear(Math.floor(ua.getUTCFullYear()/P)*P);ua.setUTCMonth(0,1);ua.setUTCHours(0,0,0,0)},function(ua,db){ua.setUTCFullYear(ua.getUTCFullYear()+
db*P)}):null};var ef=zh;const [rg,Ie]=Z(ef,Bf,ah,$g,Te,ie),[Ph,Wh]=Z(pf,af,Ld,Xc,Yc,cc);var yi={"-":"",_:" ",0:"0"},Lf=/^\s*\d+/,qg=/^%/,Ri=/[\\^$*+?|[\]().{}]/g,Of,Oi,oi;(function(P){Of=uc(P);Oi=Of.format;oi=Of.utcFormat;return Of})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var th=Array.prototype.map;const Mi=Array.prototype.slice,fh={};ud("identity",qe);ud("linear",Sd,"continuous");ud("log",Ic,["continuous","log"]);ud("pow",Ve,"continuous");ud("sqrt",function(){return Ve.apply(null,arguments).exponent(.5)},"continuous");ud("symlog",Ed,"continuous");ud("time",function(){return Xa.apply(Xe(Ph,Wh,pf,af,Ld,Xc,Yc,cc,Ec,Oi).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);
ud("utc",function(){return Xa.apply(Xe(rg,Ie,ef,Bf,ah,$g,Te,ie,Ec,oi).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);ud("sequential",jg,["continuous","interpolating"]);ud("sequential-linear",jg,["continuous","interpolating"]);ud("sequential-log",mf,["continuous","interpolating","log"]);ud("sequential-pow",Qf,["continuous","interpolating"]);ud("sequential-sqrt",function(){return Qf.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);ud("sequential-symlog",
uf,["continuous","interpolating"]);ud("diverging-linear",Rf,["continuous","interpolating"]);ud("diverging-log",Jf,["continuous","interpolating","log"]);ud("diverging-pow",U,["continuous","interpolating"]);ud("diverging-sqrt",function(){return U.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);ud("diverging-symlog",ug,["continuous","interpolating"]);ud("quantile",Pe,["discretizing","quantile"]);ud("quantize",hf,"discretizing");ud("threshold",Ne,"discretizing");ud("bin-ordinal",Cc,
["discrete","discretizing"]);ud("ordinal",pa,"discrete");ud("band",Ia,"discrete");ud("point",function(){return rb(Ia().paddingInner(1))},"discrete");const Pi=["clamp","base","constant","exponent"],Li={};Ig({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",
pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Hg);Ig({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",
oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",
purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",
blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",
redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},P=>vg(Hg(P)));const kj=P=>l.isArray(P)?P.map(ua=>String(ua)):String(P),zk=(P,ua)=>P[1]-ua[1],Bi=(P,ua)=>ua[1]-P[1],Sj={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},Si={quantile:"quantiles",quantize:"domain"},Ci=P=>(ua,db,gb)=>{db=gb[db+1];gb=gb.max;gb=null!=gb?gb:Infinity;db=null!=db?db:gb;
ua=Number.isFinite(ua)?P(ua):null;db=Number.isFinite(db)?P(db):null;return ua&&db?ua+"  "+db:db?"\x3c "+db:" "+ua},Ti=P=>(ua,db)=>db?P(ua):null,sj=P=>ua=>P(ua);x.Band="band";x.BinOrdinal="bin-ordinal";x.DiscreteLegend="discrete";x.Diverging="diverging";x.GradientLegend="gradient";x.Identity="identity";x.Linear="linear";x.Log="log";x.Ordinal="ordinal";x.Point="point";x.Pow="pow";x.Quantile="quantile";x.Quantize="quantize";x.Sequential="sequential";x.Sqrt="sqrt";x.SymbolLegend="symbol";x.Symlog="symlog";
x.Threshold="threshold";x.Time="time";x.UTC="utc";x.bandSpace=cb;x.domainCaption=function(P,ua,db){db=db||{};var gb=Math.max(3,db.maxlen||7),tb=db.format;const Nb=(db=db.formatType)||ua.type;l.isString(tb)&&Xg(Nb)&&(tb=tb.replace(/%a/g,"%A").replace(/%b/g,"%B"));P=tb||"time"!==Nb?tb||"utc"!==Nb?je(P,ua,5,null,tb,db,!0):P.utcFormat("%A, %d %B %Y, %X UTC"):P.timeFormat("%A, %d %B %Y, %X");if(Ye(ua.type))return gb=de(ua).slice(1).map(P),ua=gb.length,`${ua} boundar${1===ua?"y":"ies"}: ${gb.join(", ")}`;
if(cg(ua.type))return tb=ua.domain(),ua=tb.length,gb=ua>gb?tb.slice(0,gb-2).map(P).join(", ")+", ending with "+tb.slice(-1).map(P):tb.map(P).join(", "),`${ua} value${1===ua?"":"s"}: ${gb}`;gb=ua.domain();return`values from ${P(gb[0])} to ${P(l.peek(gb))}`};x.interpolate=eg;x.interpolateColors=vg;x.interpolateRange=function(P,ua){const db=ua[0],gb=l.peek(ua)-db;return function(tb){return P(db+tb*gb)}};x.isContinuous=function(P){return Ge(P,"continuous")};x.isDiscrete=cg;x.isDiscretizing=Ye;x.isInterpolating=
function(P){return Ge(P,"interpolating")};x.isLogarithmic=dg;x.isQuantile=function(P){return Ge(P,"quantile")};x.isTemporal=Xg;x.isValidScaleType=xe;x.labelFormat=je;x.labelFraction=function(P){var ua=P.domain();const db=ua.length-1;let gb=+ua[0];ua=+l.peek(ua);let tb=ua-gb;"threshold"===P.type&&(P=db?tb/db:.1,gb-=P,ua+=P,tb=ua-gb);return Nb=>(Nb-gb)/tb};x.labelValues=de;x.quantizeInterpolator=function(P,ua){const db=Array(ua),gb=ua+1;for(let tb=0;tb<ua;)db[tb]=P(++tb/gb);return db};x.scale=ud;x.scaleCopy=
function(P){const ua=P.type;P=P.copy();P.type=ua;return P};x.scaleFraction=function(P,ua,db){var gb=db-ua;let tb,Nb;return gb&&Number.isFinite(gb)?(gb=(tb=P.type).indexOf("-"),tb=0>gb?tb:tb.slice(gb+1),Nb=ud(tb)().domain([ua,db]).range([0,1]),Pi.forEach(sc=>P[sc]?Nb[sc](P[sc]()):0),Nb):l.constant(.5)};x.scaleImplicit=Xf;x.scheme=kh;x.tickCount=function(P,ua,db){let gb;l.isNumber(ua)&&(P.bins&&(ua=Math.max(ua,P.bins.length)),null!=db&&(ua=Math.min(ua,Math.floor(l.span(P.domain())/db||1))));l.isObject(ua)&&
(gb=ua.step,ua=ua.interval);l.isString(ua)&&(ua="time"===P.type?M.timeInterval(ua):"utc"==P.type?M.utcInterval(ua):l.error("Only time and utc scales accept interval strings."),gb&&(ua=ua.every(gb)));return ua};x.tickFormat=vh;x.tickValues=Oh;x.validTicks=uh;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[33]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(20),vb(31),vb(27),vb(32)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega,x.vega,x.vega))})(this,function(x,l,M,cb,zb){function Zb(D,ba,wa){const Ma=D.gradient;let Eb=D.id,Lb="radial"===Ma?"p_":"";Eb||(Eb=D.id="gradient_"+Ua++,"radial"===Ma?(D.x1=
gc(D.x1,.5),D.y1=gc(D.y1,.5),D.r1=gc(D.r1,0),D.x2=gc(D.x2,.5),D.y2=gc(D.y2,.5),D.r2=gc(D.r2,.5),Lb="p_"):(D.x1=gc(D.x1,0),D.y1=gc(D.y1,0),D.x2=gc(D.x2,1),D.y2=gc(D.y2,0)));ba[Eb]=D;return"url("+(wa||"")+"#"+Lb+Eb+")"}function gc(D,ba){return null!=D?D:ba}function nc(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function Tb(){return new nc}function Gb(D){return function(){return D}}function Db(D){return 1<=D?dd:-1>=D?-dd:Math.asin(D)}function fc(D){return D.innerRadius}function Ba(D){return D.outerRadius}
function jb(D){return D.startAngle}function yb(D){return D.endAngle}function Ab(D){return D&&D.padAngle}function Pa(D,ba,wa,Ma,Eb,Lb,ec){var u=D-wa,N=ba-Ma;ec=(ec?Lb:-Lb)/hd(u*u+N*N);N*=ec;u*=-ec;var ja=D+N,ha=ba+u,nb=wa+N,Yb=Ma+u;wa=(ja+nb)/2;Ma=(ha+Yb)/2;ba=nb-ja;D=Yb-ha;ec=ba*ba+D*D;Lb=Eb-Lb;Yb=ja*Yb-nb*ha;var dc=(0>D?-1:1)*hd(Od(0,Lb*Lb*ec-Yb*Yb));ja=(Yb*D-ba*dc)/ec;ha=(-Yb*ba-D*dc)/ec;nb=(Yb*D+ba*dc)/ec;ba=(-Yb*ba+D*dc)/ec;D=ja-wa;ec=ha-Ma;wa=nb-wa;Ma=ba-Ma;D*D+ec*ec>wa*wa+Ma*Ma&&(ja=nb,ha=ba);
return{cx:ja,cy:ha,x01:-N,y01:-u,x11:ja*(Eb/Lb-1),y11:ha*(Eb/Lb-1)}}function Va(D){return"object"===typeof D&&"length"in D?D:Array.from(D)}function Xa(D){this._context=D}function Fa(D){return new Xa(D)}function pa(D){return D[0]}function Aa(D){return D[1]}function Ha(D,ba){function wa(u){var N,ja=(u=Va(u)).length,ha,nb=!1,Yb;null==Eb&&(ec=Lb(Yb=Tb()));for(N=0;N<=ja;++N)!(N<ja&&Ma(ha=u[N],N,u))===nb&&((nb=!nb)?ec.lineStart():ec.lineEnd()),nb&&ec.point(+D(ha,N,u),+ba(ha,N,u));if(Yb)return ec=null,Yb+
""||null}var Ma=Gb(!0),Eb=null,Lb=Fa,ec=null;D="function"===typeof D?D:void 0===D?pa:Gb(D);ba="function"===typeof ba?ba:void 0===ba?Aa:Gb(ba);wa.x=function(u){return arguments.length?(D="function"===typeof u?u:Gb(+u),wa):D};wa.y=function(u){return arguments.length?(ba="function"===typeof u?u:Gb(+u),wa):ba};wa.defined=function(u){return arguments.length?(Ma="function"===typeof u?u:Gb(!!u),wa):Ma};wa.curve=function(u){return arguments.length?(Lb=u,null!=Eb&&(ec=Lb(Eb)),wa):Lb};wa.context=function(u){return arguments.length?
(null==u?Eb=ec=null:ec=Lb(Eb=u),wa):Eb};return wa}function bb(D,ba,wa){function Ma(ha){var nb,Yb,dc=(ha=Va(ha)).length,Ec,cc=!1,Yc,Xc=Array(dc),Ld=Array(dc);null==u&&(ja=N(Yc=Tb()));for(nb=0;nb<=dc;++nb){if(!(nb<dc&&ec(Ec=ha[nb],nb,ha))===cc)if(cc=!cc){var ze=nb;ja.areaStart();ja.lineStart()}else{ja.lineEnd();ja.lineStart();for(Yb=nb-1;Yb>=ze;--Yb)ja.point(Xc[Yb],Ld[Yb]);ja.lineEnd();ja.areaEnd()}cc&&(Xc[nb]=+D(Ec,nb,ha),Ld[nb]=+ba(Ec,nb,ha),ja.point(Lb?+Lb(Ec,nb,ha):Xc[nb],wa?+wa(Ec,nb,ha):Ld[nb]))}if(Yc)return ja=
null,Yc+""||null}function Eb(){return Ha().defined(ec).curve(N).context(u)}var Lb=null,ec=Gb(!0),u=null,N=Fa,ja=null;D="function"===typeof D?D:void 0===D?pa:Gb(+D);ba="function"===typeof ba?ba:void 0===ba?Gb(0):Gb(+ba);wa="function"===typeof wa?wa:void 0===wa?Aa:Gb(+wa);Ma.x=function(ha){return arguments.length?(D="function"===typeof ha?ha:Gb(+ha),Lb=null,Ma):D};Ma.x0=function(ha){return arguments.length?(D="function"===typeof ha?ha:Gb(+ha),Ma):D};Ma.x1=function(ha){return arguments.length?(Lb=null==
ha?null:"function"===typeof ha?ha:Gb(+ha),Ma):Lb};Ma.y=function(ha){return arguments.length?(ba="function"===typeof ha?ha:Gb(+ha),wa=null,Ma):ba};Ma.y0=function(ha){return arguments.length?(ba="function"===typeof ha?ha:Gb(+ha),Ma):ba};Ma.y1=function(ha){return arguments.length?(wa=null==ha?null:"function"===typeof ha?ha:Gb(+ha),Ma):wa};Ma.lineX0=Ma.lineY0=function(){return Eb().x(D).y(ba)};Ma.lineY1=function(){return Eb().x(D).y(wa)};Ma.lineX1=function(){return Eb().x(Lb).y(ba)};Ma.defined=function(ha){return arguments.length?
(ec="function"===typeof ha?ha:Gb(!!ha),Ma):ec};Ma.curve=function(ha){return arguments.length?(N=ha,null!=u&&(ja=N(u)),Ma):N};Ma.context=function(ha){return arguments.length?(null==ha?u=ja=null:ja=N(u=ha),Ma):u};return Ma}function $a(){}function Ca(D,ba,wa){D._context.bezierCurveTo((2*D._x0+D._x1)/3,(2*D._y0+D._y1)/3,(D._x0+2*D._x1)/3,(D._y0+2*D._y1)/3,(D._x0+4*D._x1+ba)/6,(D._y0+4*D._y1+wa)/6)}function Cb(D){this._context=D}function xb(D){this._context=D}function Mb(D){this._context=D}function kc(D,
ba){this._basis=new Cb(D);this._beta=ba}function pb(D,ba,wa){D._context.bezierCurveTo(D._x1+D._k*(D._x2-D._x0),D._y1+D._k*(D._y2-D._y0),D._x2+D._k*(D._x1-ba),D._y2+D._k*(D._y1-wa),D._x2,D._y2)}function ca(D,ba){this._context=D;this._k=(1-ba)/6}function O(D,ba){this._context=D;this._k=(1-ba)/6}function oa(D,ba){this._context=D;this._k=(1-ba)/6}function ra(D,ba,wa){var Ma=D._x1,Eb=D._y1,Lb=D._x2,ec=D._y2;if(1E-12<D._l01_a){var u=2*D._l01_2a+3*D._l01_a*D._l12_a+D._l12_2a,N=3*D._l01_a*(D._l01_a+D._l12_a);
Ma=(Ma*u-D._x0*D._l12_2a+D._x2*D._l01_2a)/N;Eb=(Eb*u-D._y0*D._l12_2a+D._y2*D._l01_2a)/N}1E-12<D._l23_a&&(u=2*D._l23_2a+3*D._l23_a*D._l12_a+D._l12_2a,N=3*D._l23_a*(D._l23_a+D._l12_a),Lb=(Lb*u+D._x1*D._l23_2a-ba*D._l12_2a)/N,ec=(ec*u+D._y1*D._l23_2a-wa*D._l12_2a)/N);D._context.bezierCurveTo(Ma,Eb,Lb,ec,D._x2,D._y2)}function Oa(D,ba){this._context=D;this._alpha=ba}function ya(D,ba){this._context=D;this._alpha=ba}function va(D,ba){this._context=D;this._alpha=ba}function m(D){this._context=D}function G(D,
ba,wa){var Ma=D._x1-D._x0;ba-=D._x1;var Eb=(D._y1-D._y0)/(Ma||0>ba&&-0);D=(wa-D._y1)/(ba||0>Ma&&-0);return((0>Eb?-1:1)+(0>D?-1:1))*Math.min(Math.abs(Eb),Math.abs(D),.5*Math.abs((Eb*ba+D*Ma)/(Ma+ba)))||0}function Q(D,ba){var wa=D._x1-D._x0;return wa?(3*(D._y1-D._y0)/wa-ba)/2:ba}function y(D,ba,wa){var Ma=D._x0,Eb=D._x1,Lb=D._y1,ec=(Eb-Ma)/3;D._context.bezierCurveTo(Ma+ec,D._y0+ec*ba,Eb-ec,Lb-ec*wa,Eb,Lb)}function t(D){this._context=D}function H(D){this._context=new V(D)}function V(D){this._context=
D}function E(D){this._context=D}function K(D){var ba,wa=D.length-1,Ma=Array(wa),Eb=Array(wa),Lb=Array(wa);Ma[0]=0;Eb[0]=2;Lb[0]=D[0]+2*D[1];for(ba=1;ba<wa-1;++ba)Ma[ba]=1,Eb[ba]=4,Lb[ba]=4*D[ba]+2*D[ba+1];Ma[wa-1]=2;Eb[wa-1]=7;Lb[wa-1]=8*D[wa-1]+D[wa];for(ba=1;ba<wa;++ba){var ec=Ma[ba]/Eb[ba-1];Eb[ba]-=ec;Lb[ba]-=ec*Lb[ba-1]}Ma[wa-1]=Lb[wa-1]/Eb[wa-1];for(ba=wa-2;0<=ba;--ba)Ma[ba]=(Lb[ba]-Ma[ba+1])/Eb[ba];Eb[wa-1]=(D[wa]+Ma[wa-1])/2;for(ba=0;ba<wa-1;++ba)Eb[ba]=2*D[ba+1]-Ma[ba+1];return[Ma,Eb]}function z(D,
ba){this._context=D;this._t=ba}function L(D,ba,wa){D=l.hasOwnProperty(wd,D)&&wd[D];var Ma=null;D&&(Ma=D.curve||D[ba||"vertical"],D.tension&&null!=wa&&(Ma=Ma[D.tension](wa)));return Ma}function X(D){const ba=[];(D.match(Qe)||[]).forEach(wa=>{let Ma=wa[0];var Eb=Ma.toLowerCase();const Lb=te[Eb];var ec=wa.slice(1).trim();wa=[];for(let N=0;Lb&&N<ec.length;)for(let ja=0;ja<Lb;++ja){var u="a"!==Eb||3!==ja&&4!==ja?He:Pf;u=ec.slice(N).match(u);if(null===u)throw Error("Invalid SVG path, incorrect parameter type");
N+=u[0].length;wa.push(+u[0]);u=ec.slice(N).match(lf);null!==u&&(N+=u[0].length)}ec=wa.length;if(ec<Lb||ec&&0!==ec%Lb)throw Error("Invalid SVG path, incorrect parameter count");ba.push([Ma,...wa.slice(0,Lb)]);if(ec!==Lb)for("m"===Eb&&(Ma="M"===Ma?"L":"l"),Eb=Lb;Eb<ec;Eb+=Lb)ba.push([Ma,...wa.slice(Eb,Eb+Lb)])});return ba}function qa(D,ba,wa,Ma,Eb,Lb,ec,u,N){const ja=mf.call(arguments);if(rf[ja])return rf[ja];var ha=ec*If;const nb=Math.sin(ha);ha=Math.cos(ha);wa=Math.abs(wa);Ma=Math.abs(Ma);var Yb=
ha*(u-D)*.5+nb*(N-ba)*.5,dc=ha*(N-ba)*.5-nb*(u-D)*.5;Yb=Yb*Yb/(wa*wa)+dc*dc/(Ma*Ma);1<Yb&&(Yb=Math.sqrt(Yb),wa*=Yb,Ma*=Yb);var Ec=ha/wa,cc=nb/wa,Yc=-nb/Ma,Xc=ha/Ma;Yb=Ec*u+cc*N;dc=Yc*u+Xc*N;Ec=Ec*D+cc*ba;cc=Yc*D+Xc*ba;Yc=1/((Ec-Yb)*(Ec-Yb)+(cc-dc)*(cc-dc))-.25;0>Yc&&(Yc=0);Xc=Math.sqrt(Yc);Lb==Eb&&(Xc=-Xc);Yc=.5*(Yb+Ec)-Xc*(cc-dc);Xc=.5*(dc+cc)+Xc*(Ec-Yb);Yb=Math.atan2(dc-Xc,Yb-Yc);dc=Math.atan2(cc-Xc,Ec-Yc)-Yb;0>dc&&1===Lb?dc+=Xe:0<dc&&0===Lb&&(dc-=Xe);Ec=Math.ceil(Math.abs(dc/(Wf+.001)));cc=[];
for(let Ld=0;Ld<Ec;++Ld)cc[Ld]=[Yc,Xc,Yb+Ld*dc/Ec,Yb+(Ld+1)*dc/Ec,wa,Ma,nb,ha];return rf[ja]=cc}function T(D,ba,wa,Ma,Eb,Lb){var ec=null,u=0,N=0,ja=0,ha=0,nb=0,Yb=0;null==wa&&(wa=0);null==Ma&&(Ma=0);null==Eb&&(Eb=1);null==Lb&&(Lb=Eb);D.beginPath&&D.beginPath();for(var dc=0,Ec=ba.length;dc<Ec;++dc){var cc=ba[dc];if(1!==Eb||1!==Lb){var Yc=Eb;var Xc=Lb;var Ld=uf[0]=cc[0];if("a"===Ld||"A"===Ld)uf[1]=Yc*cc[1],uf[2]=Xc*cc[2],uf[3]=cc[3],uf[4]=cc[4],uf[5]=cc[5],uf[6]=Yc*cc[6],uf[7]=Xc*cc[7];else if("h"===
Ld||"H"===Ld)uf[1]=Yc*cc[1];else if("v"===Ld||"V"===Ld)uf[1]=Xc*cc[1];else{Ld=1;for(var ze=cc.length;Ld<ze;++Ld)uf[Ld]=(1==Ld%2?Yc:Xc)*cc[Ld]}cc=uf}switch(cc[0]){case "l":u+=cc[1];N+=cc[2];D.lineTo(u+wa,N+Ma);break;case "L":u=cc[1];N=cc[2];D.lineTo(u+wa,N+Ma);break;case "h":u+=cc[1];D.lineTo(u+wa,N+Ma);break;case "H":u=cc[1];D.lineTo(u+wa,N+Ma);break;case "v":N+=cc[1];D.lineTo(u+wa,N+Ma);break;case "V":N=cc[1];D.lineTo(u+wa,N+Ma);break;case "m":u+=cc[1];N+=cc[2];nb=u;Yb=N;D.moveTo(u+wa,N+Ma);break;
case "M":u=cc[1];N=cc[2];nb=u;Yb=N;D.moveTo(u+wa,N+Ma);break;case "c":Yc=u+cc[5];Xc=N+cc[6];ja=u+cc[3];ha=N+cc[4];D.bezierCurveTo(u+cc[1]+wa,N+cc[2]+Ma,ja+wa,ha+Ma,Yc+wa,Xc+Ma);u=Yc;N=Xc;break;case "C":u=cc[5];N=cc[6];ja=cc[3];ha=cc[4];D.bezierCurveTo(cc[1]+wa,cc[2]+Ma,ja+wa,ha+Ma,u+wa,N+Ma);break;case "s":Yc=u+cc[3];Xc=N+cc[4];ja=2*u-ja;ha=2*N-ha;D.bezierCurveTo(ja+wa,ha+Ma,u+cc[1]+wa,N+cc[2]+Ma,Yc+wa,Xc+Ma);ja=u+cc[1];ha=N+cc[2];u=Yc;N=Xc;break;case "S":Yc=cc[3];Xc=cc[4];ja=2*u-ja;ha=2*N-ha;D.bezierCurveTo(ja+
wa,ha+Ma,cc[1]+wa,cc[2]+Ma,Yc+wa,Xc+Ma);u=Yc;N=Xc;ja=cc[1];ha=cc[2];break;case "q":Yc=u+cc[3];Xc=N+cc[4];ja=u+cc[1];ha=N+cc[2];D.quadraticCurveTo(ja+wa,ha+Ma,Yc+wa,Xc+Ma);u=Yc;N=Xc;break;case "Q":Yc=cc[3];Xc=cc[4];D.quadraticCurveTo(cc[1]+wa,cc[2]+Ma,Yc+wa,Xc+Ma);u=Yc;N=Xc;ja=cc[1];ha=cc[2];break;case "t":Yc=u+cc[1];Xc=N+cc[2];null===ec[0].match(/[QqTt]/)?(ja=u,ha=N):"t"===ec[0]?(ja=2*u-pe,ha=2*N-af):"q"===ec[0]&&(ja=2*u-ja,ha=2*N-ha);var pe=ja;var af=ha;D.quadraticCurveTo(ja+wa,ha+Ma,Yc+wa,Xc+Ma);
u=Yc;N=Xc;ja=u+cc[1];ha=N+cc[2];break;case "T":Yc=cc[1];Xc=cc[2];ja=2*u-ja;ha=2*N-ha;D.quadraticCurveTo(ja+wa,ha+Ma,Yc+wa,Xc+Ma);u=Yc;N=Xc;break;case "a":la(D,u+wa,N+Ma,[cc[1],cc[2],cc[3],cc[4],cc[5],cc[6]+u+wa,cc[7]+N+Ma]);u+=cc[6];N+=cc[7];break;case "A":la(D,u+wa,N+Ma,[cc[1],cc[2],cc[3],cc[4],cc[5],cc[6]+wa,cc[7]+Ma]);u=cc[6];N=cc[7];break;case "z":case "Z":u=nb,N=Yb,D.closePath()}ec=cc}}function la(D,ba,wa,Ma){ba=qa(Ma[5],Ma[6],Ma[0],Ma[1],Ma[3],Ma[4],Ma[2],ba,wa);for(wa=0;wa<ba.length;++wa){a:{var Eb=
ba[wa];Ma=mf.call(Eb);if(jg[Ma]){Ma=jg[Ma];break a}var Lb=Eb[0],ec=Eb[1],u=Eb[2],N=Eb[3],ja=Eb[4],ha=Eb[5],nb=Eb[6],Yb=Eb[7];Eb=Yb*ja;const Ec=-nb*ha;ja*=nb;ha*=Yb;var dc=Math.cos(u);const cc=Math.sin(u);nb=Math.cos(N);Yb=Math.sin(N);u=.5*(N-u);N=Math.sin(.5*u);N=8/3*N*N/Math.sin(u);u=Lb+dc-N*cc;dc=ec+cc+N*dc;Lb+=nb;ec+=Yb;Yb=Lb+N*Yb;nb=ec-N*nb;Ma=jg[Ma]=[Eb*u+Ec*dc,ja*u+ha*dc,Eb*Yb+Ec*nb,ja*Yb+ha*nb,Eb*Lb+Ec*ec,ja*Lb+ha*ec]}D.bezierCurveTo(Ma[0],Ma[1],Ma[2],Ma[3],Ma[4],Ma[5])}}function xa(D){return l.hasOwnProperty(Qf,
D)?Qf[D]:R(D)}function R(D){if(!l.hasOwnProperty(ng,D)){const ba=X(D);ng[D]={draw:function(wa,Ma){T(wa,ba,0,0,Math.sqrt(Ma)/2)}}}return ng[D]}function ka(D){return D.x}function Ka(D){return D.y}function kb(D){return D.width}function Za(D){return D.height}function mb(D){return"function"===typeof D?D:()=>+D}function Ra(D,ba,wa){return Math.max(ba,Math.min(D,wa))}function Ob(){function D(ha,nb,Yb){var dc;nb=null!=nb?nb:+ba.call(this,ha);Yb=null!=Yb?Yb:+wa.call(this,ha);var Ec=+Ma.call(this,ha),cc=+Eb.call(this,
ha),Yc=Math.min(Ec,cc)/2,Xc=Ra(+Lb.call(this,ha),0,Yc),Ld=Ra(+ec.call(this,ha),0,Yc),ze=Ra(+u.call(this,ha),0,Yc);ha=Ra(+N.call(this,ha),0,Yc);ja||(ja=dc=Tb());0>=Xc&&0>=Ld&&0>=ze&&0>=ha?ja.rect(nb,Yb,Ec,cc):(Ec=nb+Ec,cc=Yb+cc,ja.moveTo(nb+Xc,Yb),ja.lineTo(Ec-Ld,Yb),ja.bezierCurveTo(Ec-.448084975506*Ld,Yb,Ec,Yb+.448084975506*Ld,Ec,Yb+Ld),ja.lineTo(Ec,cc-ha),ja.bezierCurveTo(Ec,cc-.448084975506*ha,Ec-.448084975506*ha,cc,Ec-ha,cc),ja.lineTo(nb+ze,cc),ja.bezierCurveTo(nb+.448084975506*ze,cc,nb,cc-.448084975506*
ze,nb,cc-ze),ja.lineTo(nb,Yb+Xc),ja.bezierCurveTo(nb,Yb+.448084975506*Xc,nb+.448084975506*Xc,Yb,nb+Xc,Yb),ja.closePath());if(dc)return ja=null,dc+""||null}var ba=ka,wa=Ka,Ma=kb,Eb=Za,Lb=mb(0),ec=Lb,u=Lb,N=Lb,ja=null;D.x=function(ha){return arguments.length?(ba=mb(ha),D):ba};D.y=function(ha){return arguments.length?(wa=mb(ha),D):wa};D.width=function(ha){return arguments.length?(Ma=mb(ha),D):Ma};D.height=function(ha){return arguments.length?(Eb=mb(ha),D):Eb};D.cornerRadius=function(ha,nb,Yb,dc){return arguments.length?
(Lb=mb(ha),ec=null!=nb?mb(nb):Lb,N=null!=Yb?mb(Yb):Lb,u=null!=dc?mb(dc):ec,D):Lb};D.context=function(ha){return arguments.length?(ja=null==ha?null:ha,D):ja};return D}function mc(){function D(ha){var nb,Yb=ha.length,dc,Ec=!1,cc;null==Lb&&(Lb=cc=Tb());for(nb=0;nb<=Yb;++nb)if(!(nb<Yb&&Eb(dc=ha[nb],nb,ha))===Ec&&(Ec=!Ec)&&(ec=0),Ec){var Yc=+ba(dc,nb,ha),Xc=+wa(dc,nb,ha);const pf=+Ma(dc,nb,ha)/2;if(ec){var Ld=N-Xc,ze=Yc-u;if(Ld||ze){var pe=Math.sqrt(Ld*Ld+ze*ze),af=(Ld/=pe)*ja;pe=(ze/=pe)*ja;var xf=Math.atan2(ze,
Ld);Lb.moveTo(u-af,N-pe);Lb.lineTo(Yc-Ld*pf,Xc-ze*pf);Lb.arc(Yc,Xc,pf,xf-Math.PI,xf);Lb.lineTo(u+af,N+pe);Lb.arc(u,N,ja,xf,xf+Math.PI)}else Lb.arc(Yc,Xc,pf,0,Xe);Lb.closePath()}else ec=1;u=Yc;N=Xc;ja=pf}if(cc)return Lb=null,cc+""||null}var ba,wa,Ma,Eb,Lb=null,ec,u,N,ja;D.x=function(ha){return arguments.length?(ba=ha,D):ba};D.y=function(ha){return arguments.length?(wa=ha,D):wa};D.size=function(ha){return arguments.length?(Ma=ha,D):Ma};D.defined=function(ha){return arguments.length?(Eb=ha,D):Eb};D.context=
function(ha){return arguments.length?(Lb=null==ha?null:ha,D):Lb};return D}function Lc(D,ba){return null!=D?D:ba}function wc(D){return D.cornerRadius||D.cornerRadiusTopLeft||D.cornerRadiusTopRight||D.cornerRadiusBottomRight||D.cornerRadiusBottomLeft}function tc(D,ba,wa,Ma){return Gc.context(D)(ba,wa,Ma)}function jc(D,ba,wa){var Ma=ba.clip;D=D._defs;ba=ba.clip_id||(ba.clip_id="clip"+Ge++);D=D.clipping[ba]||(D.clipping[ba]={id:ba});l.isFunction(Ma)?D.path=Ma(null):wc(wa)?D.path=tc(null,wa,0,0):(D.width=
wa.width||0,D.height=wa.height||0);return"url(#"+ba+")"}function Sc(D){this.clear();D&&this.union(D)}function Ta(D){this.mark=D;this.bounds=this.bounds||new Sc}function Ea(D){Ta.call(this,D);this.items=this.items||[]}function ob(D){this._pending=0;this._loader=D||cb.loader()}function lb(D,ba,wa){if(ba.stroke&&0!==ba.opacity&&0!==ba.strokeOpacity){const Ma=null!=ba.strokeWidth?+ba.strokeWidth:1;D.expand(Ma+(wa?ba.strokeJoin&&"miter"!==ba.strokeJoin?0:Ma:0))}return D}function Fb(D,ba){Ye=D;ba?(vg=ba*
If,eg=Ig=Math.cos(vg),kg=Math.sin(vg),Hg=-kg):(eg=Ig=1,vg=kg=Hg=0);return de}function Wb(D,ba,wa,Ma){wa=(D-ba)/(D+wa-2*ba);0<wa&&1>wa&&Ma(D+(ba-D)*wa)}function Xb(D,ba,wa,Ma,Eb){const Lb=Ma-D+3*ba-3*wa,ec=D+wa-2*ba;var u=D-ba;let N=0,ja=0;1E-14<Math.abs(Lb)?(u=ec*ec+u*Lb,0<=u&&(u=Math.sqrt(u),N=(-ec+u)/Lb,ja=(-ec-u)/Lb)):N=.5*u/ec;0<N&&1>N&&Eb(ic(N,D,ba,wa,Ma));0<ja&&1>ja&&Eb(ic(ja,D,ba,wa,Ma))}function ic(D,ba,wa,Ma,Eb){const Lb=1-D,ec=Lb*Lb,u=D*D;return ec*Lb*ba+3*ec*D*wa+3*Lb*u*Ma+u*D*Eb}function xc(D){return function(ba,
wa){if(!je)return!0;D(je,ba);gf.clear().union(ba.bounds).intersect(wa).round();const {x1:Ma,y1:Eb,x2:Lb,y2:ec}=gf;for(ba=Eb;ba<=ec;++ba)for(wa=Ma;wa<=Lb;++wa)if(je.isPointInPath(wa,ba))return!0;return!1}}function kd(D,ba){return ba.contains(D.x||0,D.y||0)}function B(D,ba){const wa=D.x||0,Ma=D.y||0;return ba.intersects(gf.set(wa,Ma,wa+(D.width||0),Ma+(D.height||0)))}function w(D,ba){const wa=D.x||0,Ma=D.y||0;return C(ba,wa,Ma,null!=D.x2?D.x2:wa,null!=D.y2?D.y2:Ma)}function C(D,ba,wa,Ma,Eb){const {x1:Lb,
y1:ec,x2:u,y2:N}=D;D=Ma-ba;Eb-=wa;Ma=0;let ja=1,ha,nb,Yb,dc;for(dc=0;4>dc;++dc){0===dc&&(ha=-D,nb=-(Lb-ba));1===dc&&(ha=D,nb=u-ba);2===dc&&(ha=-Eb,nb=-(ec-wa));3===dc&&(ha=Eb,nb=N-wa);if(1E-10>Math.abs(ha)&&0>nb)return!1;Yb=nb/ha;if(0>ha){if(Yb>ja)return!1;Yb>Ma&&(Ma=Yb)}else if(0<ha){if(Yb<Ma)return!1;Yb<ja&&(ja=Yb)}}return!0}function aa(D,ba){D.globalCompositeOperation=ba.blend||"source-over"}function fa(D,ba){return null==D?ba:D}function za(D,ba){const wa=ba.length;for(let Ma=0;Ma<wa;++Ma)D.addColorStop(ba[Ma].offset,
ba[Ma].color);return D}function eb(D,ba,wa){const Ma=wa.width(),Eb=wa.height();if("radial"===ba.gradient)D=D.createRadialGradient(wa.x1+fa(ba.x1,.5)*Ma,wa.y1+fa(ba.y1,.5)*Eb,Math.max(Ma,Eb)*fa(ba.r1,0),wa.x1+fa(ba.x2,.5)*Ma,wa.y1+fa(ba.y2,.5)*Eb,Math.max(Ma,Eb)*fa(ba.r2,.5));else{const Lb=fa(ba.x1,0),ec=fa(ba.y1,0),u=fa(ba.x2,1),N=fa(ba.y2,0);if(Lb===u||ec===N||Ma===Eb)D=D.createLinearGradient(wa.x1+Lb*Ma,wa.y1+ec*Eb,wa.x1+u*Ma,wa.y1+N*Eb);else{wa=M.canvas(Math.ceil(Ma),Math.ceil(Eb));const ja=wa.getContext("2d");
ja.scale(Ma,Eb);ja.fillStyle=za(ja.createLinearGradient(Lb,ec,u,N),ba.stops);ja.fillRect(0,0,Ma,Eb);return D.createPattern(wa,"no-repeat")}}return za(D,ba.stops)}function fb(D,ba,wa){wa*=null==ba.fillOpacity?1:ba.fillOpacity;return 0<wa?(D.globalAlpha=wa,ba=(wa=ba.fill)&&wa.gradient?eb(D,wa,ba.bounds):wa,D.fillStyle=ba,!0):!1}function ib(D,ba,wa){var Ma=null!=(Ma=ba.strokeWidth)?Ma:1;if(0>=Ma)return!1;wa*=null==ba.strokeOpacity?1:ba.strokeOpacity;return 0<wa?(D.globalAlpha=wa,wa=(wa=ba.stroke)&&wa.gradient?
eb(D,wa,ba.bounds):wa,D.strokeStyle=wa,D.lineWidth=Ma,D.lineCap=ba.strokeCap||"butt",D.lineJoin=ba.strokeJoin||"miter",D.miterLimit=ba.strokeMiterLimit||10,D.setLineDash&&(D.setLineDash(ba.strokeDash||Le),D.lineDashOffset=ba.strokeDashOffset||0),!0):!1}function Vb(D,ba){return D.zindex-ba.zindex||D.index-ba.index}function oc(D){if(!D.zdirty)return D.zitems;var ba=D.items,wa=[],Ma;var Eb=0;for(Ma=ba.length;Eb<Ma;++Eb){var Lb=ba[Eb];Lb.index=Eb;Lb.zindex&&wa.push(Lb)}D.zdirty=!1;return D.zitems=wa.sort(Vb)}
function qc(D,ba){var wa=D.items,Ma;if(wa&&wa.length){var Eb=oc(D);if(Eb&&Eb.length){D=0;for(Ma=wa.length;D<Ma;++D)wa[D].zindex||ba(wa[D]);wa=Eb}D=0;for(Ma=wa.length;D<Ma;++D)ba(wa[D])}}function Dc(D,ba){var wa=D.items,Ma,Eb;if(!wa||!wa.length)return null;const Lb=oc(D);Lb&&Lb.length&&(wa=Lb);for(Eb=wa.length;0<=--Eb;)if(Ma=ba(wa[Eb]))return Ma;if(wa===Lb)for(wa=D.items,Eb=wa.length;0<=--Eb;)if(!wa[Eb].zindex&&(Ma=ba(wa[Eb])))return Ma;return null}function Fc(D){return function(ba,wa,Ma){qc(wa,Eb=>
{Ma&&!Ma.intersects(Eb.bounds)||xd(D,ba,Eb,Eb)})}}function Zc(D){return function(ba,wa,Ma){!wa.items.length||Ma&&!Ma.intersects(wa.bounds)||xd(D,ba,wa.items[0],wa.items)}}function xd(D,ba,wa,Ma){var Eb=null==wa.opacity?1:wa.opacity;0===Eb||D(ba,Ma)||(aa(ba,wa),wa.fill&&fb(ba,wa,Eb)&&ba.fill(),wa.stroke&&ib(ba,wa,Eb)&&ba.stroke())}function Hd(D){D=D||l.truthy;return function(ba,wa,Ma,Eb,Lb,ec){Ma*=ba.pixelRatio;Eb*=ba.pixelRatio;return Dc(wa,u=>{const N=u.bounds;if((!N||N.contains(Lb,ec))&&N&&D(ba,
u,Ma,Eb,Lb,ec))return u})}}function Ad(D,ba){return function(wa,Ma,Eb,Lb){var ec=Array.isArray(Ma)?Ma[0]:Ma,u=null==ba?ec.fill:ba,N=ec.stroke&&wa.isPointInStroke;if(N){var ja=ec.strokeWidth;ec=ec.strokeCap;wa.lineWidth=null!=ja?ja:1;wa.lineCap=null!=ec?ec:"butt"}return D(wa,Ma)?!1:u&&wa.isPointInPath(Eb,Lb)||N&&wa.isPointInStroke(Eb,Lb)}}function Dd(D,ba){return"translate("+D+","+ba+")"}function ed(D,ba,wa){function Ma(Eb,Lb){var ec=Lb.x||0,u=Lb.y||0,N=Lb.angle||0;Eb.translate(ec,u);N&&Eb.rotate(N*=
If);Eb.beginPath();ba(Eb,Lb);N&&Eb.rotate(-N);Eb.translate(-ec,-u)}return{type:D,tag:"path",nested:!1,attr:function(Eb,Lb){var ec=Dd(Lb.x||0,Lb.y||0)+(Lb.angle?" rotate("+(Lb.angle+")"):"");Eb("transform",ec);Eb("d",ba(null,Lb))},bound:function(Eb,Lb){ba(Fb(Eb,Lb.angle),Lb);return lb(Eb,Lb).translate(Lb.x||0,Lb.y||0)},draw:Fc(Ma),pick:Hd(Ad(Ma)),isect:wa||xc(Ma)}}function Fe(D,ba,wa){function Ma(Lb,ec){Lb.beginPath();ba(Lb,ec)}const Eb=Ad(Ma);return{type:D,tag:"path",nested:!0,attr:function(Lb,ec){ec=
ec.mark.items;ec.length&&Lb("d",ba(null,ec))},bound:function(Lb,ec){ec=ec.items;if(0===ec.length)return Lb;ba(Fb(Lb),ec);return lb(Lb,ec[0])},draw:Zc(Ma),pick:function(Lb,ec,u,N,ja,ha){var nb=ec.items;ec=ec.bounds;if(!nb||!nb.length||ec&&!ec.contains(ja,ha))return null;u*=Lb.pixelRatio;N*=Lb.pixelRatio;return Eb(Lb,nb,u,N)?nb[0]:null},isect:kd,tip:wa}}function ve(D,ba){D.beginPath();wc(ba)?tc(D,ba,0,0):D.rect(0,0,ba.width||0,ba.height||0);D.clip()}function Sd(D){const ba=fa(D.strokeWidth,1);return null!=
D.strokeOffset?D.strokeOffset:D.stroke&&.5<ba&&1.5>ba?.5-Math.abs(ba-1):0}function qe(D,ba,wa,Ma){const Eb=Sd(ba);D.beginPath();tc(D,ba,(wa||0)+Eb,(Ma||0)+Eb)}function A(D,ba){var wa=D.image;if(!wa||D.url&&D.url!==wa.url)wa={complete:!1,width:0,height:0},ba.loadImage(D.url).then(Ma=>{D.image=Ma;D.image.url=D.url});return wa}function W(D,ba){return null!=D.width?D.width:ba&&ba.width?!1!==D.aspect&&D.height?D.height*ba.width/ba.height:ba.width:0}function ta(D,ba){return null!=D.height?D.height:ba&&
ba.height?!1!==D.aspect&&D.width?D.width*ba.height/ba.width:ba.height:0}function Qa(D,ba){return"center"===D?ba/2:"right"===D?ba:0}function qb(D,ba){return"middle"===D?ba/2:"bottom"===D?ba:0}function Bb(D,ba){var wa=ba.path;if(null==wa)return!0;var Ma=ba.x||0,Eb=ba.y||0,Lb=ba.scaleX||1,ec=ba.scaleY||1,u=(ba.angle||0)*If,N=ba.pathCache;N&&N.path===wa||((ba.pathCache=N=X(wa)).path=wa);u&&D.rotate&&D.translate?(D.translate(Ma,Eb),D.rotate(u),T(D,N,0,0,Lb,ec),D.rotate(-u),D.translate(-Ma,-Eb)):T(D,N,
Ma,Eb,Lb,ec)}function ac(D,ba){D.beginPath();tc(D,ba)}function Sb(D,ba,wa){if(ba.stroke&&ib(D,ba,wa)){wa=ba.x||0;var Ma=ba.y||0;var Eb=null!=ba.x2?ba.x2:wa;ba=null!=ba.y2?ba.y2:Ma;D.beginPath();D.moveTo(wa,Ma);D.lineTo(Eb,ba);return!0}return!1}function wb(D){nh.width=D&&je?Ic:zc}function zc(D,ba){ba=Wd(D,ba);D=bd(D);return~~(.8*ba.length*D)}function Ic(D,ba){return 0>=bd(D)||!(ba=Wd(D,ba))?0:$c(ba,Ud(D))}function $c(D,ba){const wa=`(${ba}) ${D}`;let Ma=hh.get(wa);void 0===Ma&&(je.font=ba,Ma=je.measureText(D).width,
hh.set(wa,Ma));return Ma}function bd(D){return null!=D.fontSize?+D.fontSize||0:11}function nd(D){return null!=D.lineHeight?D.lineHeight:bd(D)+2}function Ed(D){D=D.lineBreak&&D.text&&!l.isArray(D.text)?D.text.split(D.lineBreak):D.text;return l.isArray(D)?1<D.length?D:D[0]:D}function Wd(D,ba){ba=null==ba?"":(ba+"").trim();if(0<D.limit&&ba.length){var wa=+D.limit,Ma=ke(D);if(!(Ma(ba)<wa)){var Eb=D.ellipsis||"",Lb="rtl"===D.dir;D=0;var ec=ba.length;wa-=Ma(Eb);if(Lb){for(;D<ec;)Lb=D+ec>>>1,Ma(ba.slice(Lb))>
wa?D=Lb+1:ec=Lb;ba=Eb+ba.slice(D)}else{for(;D<ec;)Lb=1+(D+ec>>>1),Ma(ba.slice(0,Lb))<wa?D=Lb:ec=Lb-1;ba=ba.slice(0,D)+Eb}}}return ba}function ke(D){if(nh.width===Ic){const wa=Ud(D);return Ma=>$c(Ma,wa)}const ba=bd(D);return wa=>~~(.8*wa.length*ba)}function ce(D,ba){D=D.font;return(ba&&D?String(D).replace(/"/g,"'"):D)||"sans-serif"}function Ud(D,ba){return(D.fontStyle?D.fontStyle+" ":"")+(D.fontVariant?D.fontVariant+" ":"")+(D.fontWeight?D.fontWeight+" ":"")+bd(D)+"px "+ce(D,ba)}function Ve(D){var ba=
D.baseline,wa=bd(D);return Math.round("top"===ba?.79*wa:"middle"===ba?.3*wa:"bottom"===ba?-.21*wa:"line-top"===ba?.29*wa+.5*nd(D):"line-bottom"===ba?.29*wa-.5*nd(D):0)}function Pe(D){var ba=D.x||0,wa=D.y||0,Ma=D.radius||0;Ma&&(D=(D.theta||0)-Wf,ba+=Ma*Math.cos(D),wa+=Ma*Math.sin(D));Jg.x1=ba;Jg.y1=wa;return Jg}function hf(D,ba,wa){var Ma=nh.height(ba),Eb=ba.align,Lb=Pe(ba),ec=Lb.x1;Lb=Lb.y1;var u=ba.dx||0,N=(ba.dy||0)+Ve(ba)-Math.round(.8*Ma),ja=Ed(ba);l.isArray(ja)?(Ma+=nd(ba)*(ja.length-1),ja=ja.reduce((ha,
nb)=>Math.max(ha,nh.width(ba,nb)),0)):ja=nh.width(ba,ja);"center"===Eb?u-=ja/2:"right"===Eb&&(u-=ja);D.set(u+=ec,N+=Lb,u+ja,N+Ma);if(ba.angle&&!wa)D.rotate(ba.angle*If,ec,Lb);else if(2===wa)return D.rotatedPoints(ba.angle*If,ec,Lb);return D}function Ne(D,ba,wa){var Ma=Bg[D.mark.marktype];ba=ba||Ma.bound;Ma.nested&&(D=D.mark);return ba(D.bounds||(D.bounds=new Sc),D,wa)}function ne(D,ba,wa){var Ma=Bg[D.marktype],Eb=Ma.bound,Lb=D.items,ec=Lb&&Lb.length;if(Ma.nested)return ec?D=Lb[0]:(wh.mark=D,D=wh),
wa=Ne(D,Eb,wa),ba=ba&&ba.union(wa)||wa;ba=ba||D.bounds&&D.bounds.clear()||new Sc;if(ec)for(Ma=0,ec=Lb.length;Ma<ec;++Ma)ba.union(Ne(Lb[Ma],Eb,wa));return D.bounds=ba}function Se(D,ba){return JSON.stringify(D,gi,ba)}function F(D){D="string"===typeof D?JSON.parse(D):D;return Z(D)}function Z(D){var ba=D.marktype,wa=D.items,Ma;if(wa){var Eb=0;for(Ma=wa.length;Eb<Ma;++Eb){var Lb=ba?"mark":"group";wa[Eb][Lb]=D;wa[Eb].zindex&&(wa[Eb][Lb].zdirty=!0);"group"===(ba||Lb)&&Z(wa[Eb])}}ba&&ne(D);return D}function Da(D){arguments.length?
this.root=F(D):(this.root=hb({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ea(this.root)])}function hb(D,ba){ba={bounds:new Sc,clip:!!D.clip,group:ba,interactive:!1===D.interactive?!1:!0,items:[],marktype:D.marktype,name:D.name||void 0,role:D.role||void 0,zindex:D.zindex||0};null!=D.aria&&(ba.aria=D.aria);D.description&&(ba.description=D.description);return ba}function Kb(D,ba,wa){!D&&"undefined"!==typeof document&&document.createElement&&(D=document);return D?wa?D.createElementNS(wa,
ba):D.createElement(ba):null}function uc(D,ba){ba=ba.toLowerCase();D=D.childNodes;for(var wa=0,Ma=D.length;wa<Ma;++wa)if(D[wa].tagName.toLowerCase()===ba)return D[wa]}function Ib(D,ba,wa,Ma){ba=D.childNodes[ba];if(!ba||ba.tagName.toLowerCase()!==wa.toLowerCase()){var Eb=ba||null;ba=Kb(D.ownerDocument,wa,Ma);D.insertBefore(ba,Eb)}return ba}function ma(D,ba){for(var wa=D.childNodes,Ma=wa.length;Ma>ba;)D.removeChild(wa[--Ma]);return D}function Ga(D){return"mark-"+D.marktype+(D.role?" role-"+D.role:"")+
(D.name?" "+D.name:"")}function sb(D,ba){const wa=ba.getBoundingClientRect();return[D.clientX-wa.left-(ba.clientLeft||0),D.clientY-wa.top-(ba.clientTop||0)]}function hc(D,ba){this._active=null;this._handlers={};this._loader=D||cb.loader();this._tooltip=ba||Uc}function Uc(D,ba,wa,Ma){D.element().setAttribute("title",Ma||"")}function Vc(D){this._bgcolor=this._el=null;this._loader=new ob(D)}function rd(D,ba){hc.call(this,D,ba);this._touch=this._down=null;this._first=!0;this._events={}}function ad(D,
ba){("touchstart"===ba||"touchmove"===ba||"touchend"===ba?["touchstart","touchmove","touchend"]:[ba]).forEach(wa=>Nd(D,wa))}function Nd(D,ba){const wa=D.canvas();wa&&!D._events[ba]&&(D._events[ba]=1,wa.addEventListener(ba,D[ba]?Ma=>D[ba](Ma):Ma=>D.fire(ba,Ma)))}function De(D,ba,wa){return function(Ma){const Eb=this._active,Lb=this.pickEvent(Ma);Lb!==Eb&&(Eb&&Eb.exit||this.fire(wa,Ma),this._active=Lb,this.fire(ba,Ma));this.fire(D,Ma)}}function Rd(D){return function(ba){this.fire(D,ba);this._active=
null}}function fe(D){Vc.call(this,D);this._options={};this._redraw=!1;this._dirty=new Sc;this._tempb=new Sc}function Ae(D,ba){hc.call(this,D,ba);const wa=this;wa._hrefHandler=Th(wa,(Ma,Eb)=>{Eb&&Eb.href&&wa.handleHref(Ma,Eb,Eb.href)});wa._tooltipHandler=Th(wa,(Ma,Eb)=>{wa.handleTooltip(Ma,Eb,"mouseout"!==Ma.type)})}function Pc(D,ba){var wa=!1===ba.aria;D("aria-hidden",wa||void 0);if(wa||null==ba.description)for(const Ma in Uh)D(Uh[Ma],void 0);else wa=ba.mark.marktype,D("aria-label",ba.description),
D("role",ba.ariaRole||("group"===wa?"graphics-object":"graphics-symbol")),D("aria-roledescription",ba.ariaRoleDescription||`${wa} mark`)}function Gd(D){return!1===D.aria?{["aria-hidden"]:!0}:og[D.role]?null:hi[D.role]?qd(D,hi[D.role]):cd(D)}function cd(D){const ba=D.marktype,wa="group"===ba||"text"===ba||D.items.some(Ma=>null!=Ma.description&&!1!==Ma.aria);return oh(wa?"graphics-object":"graphics-symbol",`${ba} mark container`,D.description)}function qd(D,ba){try{const wa=D.items[0],Ma=ba.caption||
(()=>"");return oh(ba.role||"graphics-symbol",ba.desc,wa.description||Ma(wa))}catch(wa){return null}}function fd(D){try{return l.array(l.peek(D.items).items[0].text).join(" ")}catch(ba){return null}}function sd(D){D=D.map(ba=>ba+("fill"===ba||"stroke"===ba?" color":""));return 2>D.length?D[0]:D.slice(0,-1).join(", ")+" and "+l.peek(D)}function Fd(){let D="",ba="",wa="";const Ma=[],Eb=(ec,u)=>{null!=u&&(ba+=` ${ec}="${xh(u).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,
"\x26#xD;")}"`);return Lb},Lb={open(ec,...u){ba&&(D+=`${ba}>${wa}`,ba=wa="");Ma.push(ec);ba="\x3c"+ec;for(const N of u)for(const ja in N)Eb(ja,N[ja]);return Lb},close(){const ec=Ma.pop();D=ba?D+(ba+(wa?`>${wa}</${ec}>`:"/\x3e")):D+`</${ec}>`;ba=wa="";return Lb},attr:Eb,text:ec=>(wa+=xh(ec),Lb),toString:()=>D};return Lb}function be(D,ba){D.open(ba.tagName);if(ba.hasAttributes()){const wa=ba.attributes,Ma=wa.length;for(let Eb=0;Eb<Ma;++Eb)D.attr(wa[Eb].name,wa[Eb].value)}if(ba.hasChildNodes()){ba=ba.childNodes;
for(const wa of ba)3===wa.nodeType?D.text(wa.nodeValue):be(D,wa)}return D.close()}function Ee(D){Vc.call(this,D);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Re(D,ba){for(;D&&D.dirty!==ba;D=D.mark.group)if(D.dirty=ba,D.mark&&D.mark.dirty!==ba)D.mark.dirty=ba;else break}function ff(D,ba,wa){ba=ba.lastChild.previousSibling;let Ma,Eb=0;qc(wa,Lb=>{Ma=D.mark(ba,Lb,Ma);++Eb});ma(ba,1+Eb)}function jf(D,ba,wa,Ma,Eb){let Lb=D._svg;if(!Lb){var ec=ba.ownerDocument;Lb=Kb(ec,Ma,
Kf);D._svg=Lb;D.mark&&(Lb.__data__=D,Lb.__values__={fill:"default"},"g"===Ma&&(Ma=Kb(ec,"path",Kf),Lb.appendChild(Ma),Ma.__data__=D,Ma=Kb(ec,"g",Kf),Lb.appendChild(Ma),Ma.__data__=D,ec=Kb(ec,"path",Kf),Lb.appendChild(ec),ec.__data__=D,ec.__values__={fill:"default"}))}(Lb.ownerSVGElement!==Eb||Lb.parentNode&&1<Lb.parentNode.childNodes.length&&Lb.previousSibling!=wa)&&ba.insertBefore(Lb,wa?wa.nextSibling:ba.firstChild);return Lb}function gd(D,ba,wa){if(ba!==of[D]){if(wa){var Ma=fg;null!=ba?Ma.setAttributeNS(wa,
D,ba):Ma.removeAttributeNS(wa,D)}else Wc(fg,D,ba);of[D]=ba}}function Rc(D,ba,wa){wa!==of[ba]&&(null==wa?D.style.removeProperty(ba):D.style.setProperty(ba,wa+""),of[ba]=wa)}function jd(D,ba){for(const wa in ba)Wc(D,wa,ba[wa])}function Wc(D,ba,wa){null!=wa?D.setAttribute(ba,wa):D.removeAttribute(ba)}function na(){let D;return"undefined"===typeof window?"":(D=window.location).hash?D.href.slice(0,-D.hash.length):D.href}function La(D){Vc.call(this,D);this._text=null;this._defs={gradient:{},clipping:{}}}
function Ya(D,ba,wa,Ma,Eb){let Lb;if(null==ba)return D;"bgrect"===Ma&&!1===wa.interactive&&(D["pointer-events"]="none");if("bgfore"===Ma&&(!1===wa.interactive&&(D["pointer-events"]="none"),D.display="none",null!==ba.fill))return D;"image"===Ma&&!1===ba.smooth&&(Lb=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===Ma&&(D["font-family"]=ce(ba),D["font-size"]=bd(ba)+"px",D["font-style"]=ba.fontStyle,D["font-variant"]=ba.fontVariant,D["font-weight"]=ba.fontWeight);for(const ec in ji)wa=
ba[ec],Ma=ji[ec],("transparent"!==wa||"fill"!==Ma&&"stroke"!==Ma)&&null!=wa&&(wa&&wa.gradient&&(wa=Zb(wa,Eb.gradient,"")),D[Ma]=wa);for(const ec in ph)Eb=ba[ec],null!=Eb&&(Lb=Lb||[],Lb.push(`${ph[ec]}: ${Eb};`));Lb&&(D.style=Lb.join(" "));return D}function ub(D,ba,wa,Ma){if(D.bounds&&ba.intersects(D.bounds)&&("group"===D.marktype||!1!==D.interactive&&(!wa||wa(D)))){const Lb=D.items;var Eb=D.marktype;D=Lb.length;let ec=0;if("group"===Eb)for(;ec<D;++ec)n(Lb[ec],ba,wa,Ma);else for(wa=Bg[Eb].isect;ec<
D;++ec)Eb=Lb[ec],J(Eb,ba,wa)&&Ma.push(Eb)}return Ma}function n(D,ba,wa,Ma){wa&&wa(D.mark)&&J(D,ba,Bg.group.isect)&&Ma.push(D);const Eb=D.items,Lb=Eb&&Eb.length;if(Lb){const ec=D.x||0;D=D.y||0;ba.translate(-ec,-D);for(let u=0;u<Lb;++u)ub(Eb[u],ba,wa,Ma);ba.translate(ec,D)}return Ma}function J(D,ba,wa){const Ma=D.bounds;return ba.encloses(Ma)||ba.intersects(Ma)&&wa(D,ba)}function da(D,ba,wa){return D===ba?!0:"path"===wa?Ja(D,ba):D instanceof Date&&ba instanceof Date?+D===+ba:l.isNumber(D)&&l.isNumber(ba)?
1E-9>=Math.abs(D-ba):D&&ba&&(l.isObject(D)||l.isObject(ba))?Sa(D,ba):D==ba}function Ja(D,ba){return da(X(D),X(ba))}function Sa(D,ba){var wa=Object.keys(D),Ma=Object.keys(ba),Eb;if(wa.length!==Ma.length)return!1;wa.sort();Ma.sort();for(Eb=wa.length-1;0<=Eb;Eb--)if(wa[Eb]!=Ma[Eb])return!1;for(Eb=wa.length-1;0<=Eb;Eb--)if(Ma=wa[Eb],!da(D[Ma],ba[Ma],Ma))return!1;return typeof D===typeof ba}let Ua=0;const Pb=Math.PI,bc=2*Pb,Ub=bc-1E-6;nc.prototype=Tb.prototype={constructor:nc,moveTo:function(D,ba){this._+=
"M"+(this._x0=this._x1=+D)+","+(this._y0=this._y1=+ba)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(D,ba){this._+="L"+(this._x1=+D)+","+(this._y1=+ba)},quadraticCurveTo:function(D,ba,wa,Ma){this._+="Q"+ +D+","+ +ba+","+(this._x1=+wa)+","+(this._y1=+Ma)},bezierCurveTo:function(D,ba,wa,Ma,Eb,Lb){this._+="C"+ +D+","+ +ba+","+ +wa+","+ +Ma+","+(this._x1=+Eb)+","+(this._y1=+Lb)},arcTo:function(D,ba,wa,Ma,Eb){D=+D;ba=+ba;wa=+wa;Ma=+Ma;Eb=+Eb;
var Lb=this._x1,ec=this._y1,u=wa-D,N=Ma-ba,ja=Lb-D,ha=ec-ba,nb=ja*ja+ha*ha;if(0>Eb)throw Error("negative radius: "+Eb);if(null===this._x1)this._+="M"+(this._x1=D)+","+(this._y1=ba);else if(1E-6<nb)if(1E-6<Math.abs(ha*u-N*ja)&&Eb){wa-=Lb;Ma-=ec;var Yb=u*u+N*N;ec=Math.sqrt(Yb);Lb=Math.sqrt(nb);nb=Eb*Math.tan((Pb-Math.acos((Yb+nb-(wa*wa+Ma*Ma))/(2*ec*Lb)))/2);Lb=nb/Lb;nb/=ec;1E-6<Math.abs(Lb-1)&&(this._+="L"+(D+Lb*ja)+","+(ba+Lb*ha));this._+="A"+Eb+","+Eb+",0,0,"+ +(ha*wa>ja*Ma)+","+(this._x1=D+nb*u)+
","+(this._y1=ba+nb*N)}else this._+="L"+(this._x1=D)+","+(this._y1=ba)},arc:function(D,ba,wa,Ma,Eb,Lb){D=+D;ba=+ba;wa=+wa;Lb=!!Lb;var ec=wa*Math.cos(Ma),u=wa*Math.sin(Ma),N=D+ec,ja=ba+u,ha=1^Lb;Ma=Lb?Ma-Eb:Eb-Ma;if(0>wa)throw Error("negative radius: "+wa);if(null===this._x1)this._+="M"+N+","+ja;else if(1E-6<Math.abs(this._x1-N)||1E-6<Math.abs(this._y1-ja))this._+="L"+N+","+ja;wa&&(0>Ma&&(Ma=Ma%bc+bc),Ma>Ub?this._+="A"+wa+","+wa+",0,1,"+ha+","+(D-ec)+","+(ba-u)+"A"+wa+","+wa+",0,1,"+ha+","+(this._x1=
N)+","+(this._y1=ja):1E-6<Ma&&(this._+="A"+wa+","+wa+",0,"+ +(Ma>=Pb)+","+ha+","+(this._x1=D+wa*Math.cos(Eb))+","+(this._y1=ba+wa*Math.sin(Eb))))},rect:function(D,ba,wa,Ma){this._+="M"+(this._x0=this._x1=+D)+","+(this._y0=this._y1=+ba)+"h"+ +wa+"v"+ +Ma+"h"+-wa+"Z"},toString:function(){return this._}};const yc=Math.abs,Rb=Math.atan2,Kc=Math.cos,Od=Math.max,od=Math.min,Md=Math.sin,hd=Math.sqrt,Mc=Math.PI,dd=Mc/2,Pd=2*Mc;Xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=
NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(D,ba){D=+D;ba=+ba;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(D,ba):this._context.moveTo(D,ba);break;case 1:this._point=2;default:this._context.lineTo(D,ba)}}};var Xd={draw(D,ba){ba=hd(ba/Mc);D.moveTo(ba,0);D.arc(0,0,ba,0,Pd)}};Cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=
NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:Ca(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(D,ba){D=+D;ba=+ba;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(D,ba):this._context.moveTo(D,ba);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*
this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ca(this,D,ba)}this._x0=this._x1;this._x1=D;this._y0=this._y1;this._y1=ba}};xb.prototype={areaStart:$a,areaEnd:$a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+
2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(D,ba){D=+D;ba=+ba;switch(this._point){case 0:this._point=1;this._x2=D;this._y2=ba;break;case 1:this._point=2;this._x3=D;this._y3=ba;break;case 2:this._point=3;this._x4=D;this._y4=ba;this._context.moveTo((this._x0+4*this._x1+D)/6,(this._y0+4*this._y1+ba)/6);break;default:Ca(this,D,ba)}this._x0=this._x1;this._x1=D;this._y0=
this._y1;this._y1=ba}};Mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(D,ba){D=+D;ba=+ba;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var wa=(this._x0+4*this._x1+D)/6,Ma=(this._y0+4*this._y1+ba)/6;this._line?
this._context.lineTo(wa,Ma):this._context.moveTo(wa,Ma);break;case 3:this._point=4;default:Ca(this,D,ba)}this._x0=this._x1;this._x1=D;this._y0=this._y1;this._y1=ba}};kc.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var D=this._x,ba=this._y,wa=D.length-1;if(0<wa)for(var Ma=D[0],Eb=ba[0],Lb=D[wa]-Ma,ec=ba[wa]-Eb,u=-1,N;++u<=wa;)N=u/wa,this._basis.point(this._beta*D[u]+(1-this._beta)*(Ma+N*Lb),this._beta*ba[u]+(1-this._beta)*(Eb+N*ec));this._x=this._y=
null;this._basis.lineEnd()},point:function(D,ba){this._x.push(+D);this._y.push(+ba)}};var oe=function wa(ba){function Ma(Eb){return 1===ba?new Cb(Eb):new kc(Eb,ba)}Ma.beta=function(Eb){return wa(+Eb)};return Ma}(.85);ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:pb(this,
this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ba,wa){ba=+ba;wa=+wa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(ba,wa):this._context.moveTo(ba,wa);break;case 1:this._point=2;this._x1=ba;this._y1=wa;break;case 2:this._point=3;default:pb(this,ba,wa)}this._x0=this._x1;this._x1=this._x2;this._x2=ba;this._y0=this._y1;this._y1=this._y2;this._y2=wa}};var re=function Ma(wa){function Eb(Lb){return new ca(Lb,
wa)}Eb.tension=function(Lb){return Ma(+Lb)};return Eb}(0);O.prototype={areaStart:$a,areaEnd:$a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(wa,Ma){wa=+wa;Ma=+Ma;switch(this._point){case 0:this._point=1;this._x3=wa;this._y3=Ma;break;case 1:this._point=2;this._context.moveTo(this._x4=wa,this._y4=Ma);break;case 2:this._point=3;this._x5=wa;this._y5=Ma;break;default:pb(this,wa,Ma)}this._x0=this._x1;this._x1=this._x2;this._x2=wa;this._y0=this._y1;this._y1=this._y2;this._y2=Ma}};var Qc=function Eb(Ma){function Lb(ec){return new O(ec,Ma)}Lb.tension=function(ec){return Eb(+ec)};return Lb}(0);oa.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ma,Eb){Ma=+Ma;Eb=+Eb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:pb(this,Ma,Eb)}this._x0=this._x1;this._x1=this._x2;this._x2=Ma;this._y0=this._y1;this._y1=this._y2;this._y2=Eb}};var Oe=function Lb(Eb){function ec(u){return new oa(u,Eb)}ec.tension=function(u){return Lb(+u)};return ec}(0);Oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Eb,Lb){Eb=+Eb;Lb=+Lb;if(this._point){var ec=this._x2-Eb,u=this._y2-Lb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ec*ec+u*u,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Eb,Lb):this._context.moveTo(Eb,Lb);break;case 1:this._point=
2;break;case 2:this._point=3;default:ra(this,Eb,Lb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Eb;this._y0=this._y1;this._y1=this._y2;this._y2=Lb}};var We=function ec(Lb){function u(N){return Lb?new Oa(N,Lb):new ca(N,0)}u.alpha=function(N){return ec(+N)};return u}(.5);ya.prototype={areaStart:$a,areaEnd:$a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Lb,ec){Lb=+Lb;ec=+ec;if(this._point){var u=this._x2-Lb,N=this._y2-
ec;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(u*u+N*N,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Lb;this._y3=ec;break;case 1:this._point=2;this._context.moveTo(this._x4=Lb,this._y4=ec);break;case 2:this._point=3;this._x5=Lb;this._y5=ec;break;default:ra(this,Lb,ec)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Lb;this._y0=this._y1;this._y1=this._y2;this._y2=ec}};var df=function u(ec){function N(ja){return ec?
new ya(ja,ec):new O(ja,0)}N.alpha=function(ja){return u(+ja)};return N}(.5);va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ec,u){ec=+ec;u=+u;if(this._point){var N=
this._x2-ec,ja=this._y2-u;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(N*N+ja*ja,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ra(this,ec,u)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=ec;this._y0=this._y1;this._y1=
this._y2;this._y2=u}};var Hf=function N(u){function ja(ha){return u?new va(ha,u):new oa(ha,0)}ja.alpha=function(ha){return N(+ha)};return ja}(.5);m.prototype={areaStart:$a,areaEnd:$a,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(u,N){u=+u;N=+N;this._point?this._context.lineTo(u,N):(this._point=1,this._context.moveTo(u,N))}};t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:y(this,this._t0,Q(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(u,N){var ja=NaN;u=+u;N=+N;if(u!==this._x1||N!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(u,N):this._context.moveTo(u,N);break;case 1:this._point=2;break;case 2:this._point=
3;y(this,Q(this,ja=G(this,u,N)),ja);break;default:y(this,this._t0,ja=G(this,u,N))}this._x0=this._x1;this._x1=u;this._y0=this._y1;this._y1=N;this._t0=ja}}};(H.prototype=Object.create(t.prototype)).point=function(u,N){t.prototype.point.call(this,N,u)};V.prototype={moveTo:function(u,N){this._context.moveTo(N,u)},closePath:function(){this._context.closePath()},lineTo:function(u,N){this._context.lineTo(N,u)},bezierCurveTo:function(u,N,ja,ha,nb,Yb){this._context.bezierCurveTo(N,u,ha,ja,Yb,nb)}};E.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var u=this._x,N=this._y,ja=u.length;if(ja)if(this._line?this._context.lineTo(u[0],N[0]):this._context.moveTo(u[0],N[0]),2===ja)this._context.lineTo(u[1],N[1]);else for(var ha=K(u),nb=K(N),Yb=0,dc=1;dc<ja;++Yb,++dc)this._context.bezierCurveTo(ha[0][Yb],nb[0][Yb],ha[1][Yb],nb[1][Yb],u[dc],N[dc]);(this._line||0!==this._line&&1===ja)&&this._context.closePath();this._line=
1-this._line;this._x=this._y=null},point:function(u,N){this._x.push(+u);this._y.push(+N)}};z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(u,N){u=+u;N=+N;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(u,N):this._context.moveTo(u,N);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,N),this._context.lineTo(u,N);else{var ja=this._x*(1-this._t)+u*this._t;this._context.lineTo(ja,this._y);this._context.lineTo(ja,N)}}this._x=u;this._y=N}};const wd={basis:{curve:function(u){return new Cb(u)}},"basis-closed":{curve:function(u){return new xb(u)}},"basis-open":{curve:function(u){return new Mb(u)}},bundle:{curve:oe,tension:"beta",value:.85},cardinal:{curve:re,
tension:"tension",value:0},"cardinal-open":{curve:Oe,tension:"tension",value:0},"cardinal-closed":{curve:Qc,tension:"tension",value:0},"catmull-rom":{curve:We,tension:"alpha",value:.5},"catmull-rom-closed":{curve:df,tension:"alpha",value:.5},"catmull-rom-open":{curve:Hf,tension:"alpha",value:.5},linear:{curve:Fa},"linear-closed":{curve:function(u){return new m(u)}},monotone:{horizontal:function(u){return new H(u)},vertical:function(u){return new t(u)}},natural:{curve:function(u){return new E(u)}},
step:{curve:function(u){return new z(u,.5)}},"step-after":{curve:function(u){return new z(u,1)}},"step-before":{curve:function(u){return new z(u,0)}}},te={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Qe=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,He=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,lf=/^((\s+,?\s*)|(,\s*))/,Pf=/^[01]/,If=Math.PI/180,Wf=Math.PI/2,Xe=2*Math.PI,Ce=Math.sqrt(3)/2;var rf={},jg={},mf=[].join;const uf=["l",0,0,0,0,0,0,0],Qf={circle:{draw:function(u,N){N=Math.sqrt(N)/2;
u.moveTo(N,0);u.arc(0,0,N,0,Xe)}},cross:{draw:function(u,N){N=Math.sqrt(N)/2;var ja=N/2.5;u.moveTo(-N,-ja);u.lineTo(-N,ja);u.lineTo(-ja,ja);u.lineTo(-ja,N);u.lineTo(ja,N);u.lineTo(ja,ja);u.lineTo(N,ja);u.lineTo(N,-ja);u.lineTo(ja,-ja);u.lineTo(ja,-N);u.lineTo(-ja,-N);u.lineTo(-ja,-ja);u.closePath()}},diamond:{draw:function(u,N){N=Math.sqrt(N)/2;u.moveTo(-N,0);u.lineTo(0,-N);u.lineTo(N,0);u.lineTo(0,N);u.closePath()}},square:{draw:function(u,N){N=Math.sqrt(N);var ja=-N/2;u.rect(ja,ja,N,N)}},arrow:{draw:function(u,
N){N=Math.sqrt(N)/2;var ja=N/7,ha=N/2.5,nb=N/8;u.moveTo(-ja,N);u.lineTo(ja,N);u.lineTo(ja,-nb);u.lineTo(ha,-nb);u.lineTo(0,-N);u.lineTo(-ha,-nb);u.lineTo(-ja,-nb);u.closePath()}},wedge:{draw:function(u,N){var ja=Math.sqrt(N)/2;N=Ce*ja;var ha=N-.5773502691896257*ja;ja/=4;u.moveTo(0,-N-ha);u.lineTo(-ja,N-ha);u.lineTo(ja,N-ha);u.closePath()}},triangle:{draw:function(u,N){N=Math.sqrt(N)/2;var ja=Ce*N,ha=ja-.5773502691896257*N;u.moveTo(0,-ja-ha);u.lineTo(-N,ja-ha);u.lineTo(N,ja-ha);u.closePath()}},"triangle-up":{draw:function(u,
N){N=Math.sqrt(N)/2;var ja=Ce*N;u.moveTo(0,-ja);u.lineTo(-N,ja);u.lineTo(N,ja);u.closePath()}},"triangle-down":{draw:function(u,N){N=Math.sqrt(N)/2;var ja=Ce*N;u.moveTo(0,ja);u.lineTo(-N,-ja);u.lineTo(N,-ja);u.closePath()}},"triangle-right":{draw:function(u,N){N=Math.sqrt(N)/2;var ja=Ce*N;u.moveTo(ja,0);u.lineTo(-ja,-N);u.lineTo(-ja,N);u.closePath()}},"triangle-left":{draw:function(u,N){N=Math.sqrt(N)/2;var ja=Ce*N;u.moveTo(-ja,0);u.lineTo(ja,-N);u.lineTo(ja,N);u.closePath()}},stroke:{draw:function(u,
N){N=Math.sqrt(N)/2;u.moveTo(-N,0);u.lineTo(N,0)}}};var ng={};const Rf=u=>u.x||0,Jf=u=>u.y||0,ug=u=>!1!==u.defined,U=function(){function u(){var Yc,Xc=+N.apply(this,arguments),Ld=+ja.apply(this,arguments),ze=Yb.apply(this,arguments)-dd,pe=dc.apply(this,arguments)-dd,af=yc(pe-ze),xf=pe>ze;cc||(cc=Yc=Tb());if(Ld<Xc){var pf=Ld;Ld=Xc;Xc=pf}if(1E-12<Ld)if(af>Pd-1E-12)cc.moveTo(Ld*Kc(ze),Ld*Md(ze)),cc.arc(0,0,Ld,ze,pe,!xf),1E-12<Xc&&(cc.moveTo(Xc*Kc(pe),Xc*Md(pe)),cc.arc(0,0,Xc,pe,ze,xf));else{var ie=ze,
Te=pe;pf=ze;var $g=pe,ah=af,Fh=af,Tf=Ec.apply(this,arguments)/2,Bf=1E-12<Tf&&(nb?+nb.apply(this,arguments):hd(Xc*Xc+Ld*Ld)),zh=od(yc(Ld-Xc)/2,+ha.apply(this,arguments)),ef=zh,rg=zh;if(1E-12<Bf){var Ie=Db(Bf/Xc*Md(Tf));Tf=Db(Bf/Ld*Md(Tf));1E-12<(ah-=2*Ie)?(Ie*=xf?1:-1,pf+=Ie,$g-=Ie):(ah=0,pf=$g=(ze+pe)/2);1E-12<(Fh-=2*Tf)?(Tf*=xf?1:-1,ie+=Tf,Te-=Tf):(Fh=0,ie=Te=(ze+pe)/2)}ze=Ld*Kc(ie);pe=Ld*Md(ie);Ie=Xc*Kc($g);Tf=Xc*Md($g);if(1E-12<zh){var Ph=Ld*Kc(Te),Wh=Ld*Md(Te),yi=Xc*Kc(pf),Lf=Xc*Md(pf);if(af=
af<Mc){var qg=yi-ze;af=Lf-pe;Bf=Ie-Ph;var Ri=Tf-Wh,Of=Ri*qg-Bf*af;1E-12>Of*Of?qg=void 0:(Of=(Bf*(pe-Wh)-Ri*(ze-Ph))/Of,qg=[ze+Of*qg,pe+Of*af]);af=qg}af&&(ef=ze-qg[0],rg=pe-qg[1],af=Ph-qg[0],Bf=Wh-qg[1],ef=(ef*af+rg*Bf)/(hd(ef*ef+rg*rg)*hd(af*af+Bf*Bf)),rg=1/Md((1<ef?0:-1>ef?Mc:Math.acos(ef))/2),qg=hd(qg[0]*qg[0]+qg[1]*qg[1]),ef=od(zh,(Xc-qg)/(rg-1)),rg=od(zh,(Ld-qg)/(rg+1)))}1E-12<Fh?1E-12<rg?(ie=Pa(yi,Lf,ze,pe,Ld,rg,xf),Te=Pa(Ph,Wh,Ie,Tf,Ld,rg,xf),cc.moveTo(ie.cx+ie.x01,ie.cy+ie.y01),rg<zh?cc.arc(ie.cx,
ie.cy,rg,Rb(ie.y01,ie.x01),Rb(Te.y01,Te.x01),!xf):(cc.arc(ie.cx,ie.cy,rg,Rb(ie.y01,ie.x01),Rb(ie.y11,ie.x11),!xf),cc.arc(0,0,Ld,Rb(ie.cy+ie.y11,ie.cx+ie.x11),Rb(Te.cy+Te.y11,Te.cx+Te.x11),!xf),cc.arc(Te.cx,Te.cy,rg,Rb(Te.y11,Te.x11),Rb(Te.y01,Te.x01),!xf))):(cc.moveTo(ze,pe),cc.arc(0,0,Ld,ie,Te,!xf)):cc.moveTo(ze,pe);1E-12<Xc&&1E-12<ah?1E-12<ef?(ie=Pa(Ie,Tf,Ph,Wh,Xc,-ef,xf),Te=Pa(ze,pe,yi,Lf,Xc,-ef,xf),cc.lineTo(ie.cx+ie.x01,ie.cy+ie.y01),ef<zh?cc.arc(ie.cx,ie.cy,ef,Rb(ie.y01,ie.x01),Rb(Te.y01,Te.x01),
!xf):(cc.arc(ie.cx,ie.cy,ef,Rb(ie.y01,ie.x01),Rb(ie.y11,ie.x11),!xf),cc.arc(0,0,Xc,Rb(ie.cy+ie.y11,ie.cx+ie.x11),Rb(Te.cy+Te.y11,Te.cx+Te.x11),xf),cc.arc(Te.cx,Te.cy,ef,Rb(Te.y11,Te.x11),Rb(Te.y01,Te.x01),!xf))):cc.arc(0,0,Xc,$g,pf,xf):cc.lineTo(Ie,Tf)}else cc.moveTo(0,0);cc.closePath();if(Yc)return cc=null,Yc+""||null}var N=fc,ja=Ba,ha=Gb(0),nb=null,Yb=jb,dc=yb,Ec=Ab,cc=null;u.centroid=function(){var Yc=(+N.apply(this,arguments)+ +ja.apply(this,arguments))/2,Xc=(+Yb.apply(this,arguments)+ +dc.apply(this,
arguments))/2-Mc/2;return[Kc(Xc)*Yc,Md(Xc)*Yc]};u.innerRadius=function(Yc){return arguments.length?(N="function"===typeof Yc?Yc:Gb(+Yc),u):N};u.outerRadius=function(Yc){return arguments.length?(ja="function"===typeof Yc?Yc:Gb(+Yc),u):ja};u.cornerRadius=function(Yc){return arguments.length?(ha="function"===typeof Yc?Yc:Gb(+Yc),u):ha};u.padRadius=function(Yc){return arguments.length?(nb=null==Yc?null:"function"===typeof Yc?Yc:Gb(+Yc),u):nb};u.startAngle=function(Yc){return arguments.length?(Yb="function"===
typeof Yc?Yc:Gb(+Yc),u):Yb};u.endAngle=function(Yc){return arguments.length?(dc="function"===typeof Yc?Yc:Gb(+Yc),u):dc};u.padAngle=function(Yc){return arguments.length?(Ec="function"===typeof Yc?Yc:Gb(+Yc),u):Ec};u.context=function(Yc){return arguments.length?(cc=null==Yc?null:Yc,u):cc};return u}().startAngle(u=>u.startAngle||0).endAngle(u=>u.endAngle||0).padAngle(u=>u.padAngle||0).innerRadius(u=>u.innerRadius||0).outerRadius(u=>u.outerRadius||0).cornerRadius(u=>u.cornerRadius||0),Ia=bb().x(Rf).y1(Jf).y0(u=>
(u.y||0)+(u.height||0)).defined(ug),rb=bb().y(Jf).x1(Rf).x0(u=>(u.x||0)+(u.width||0)).defined(ug),Cc=Ha().x(Rf).y(Jf).defined(ug),Gc=Ob().x(Rf).y(Jf).width(u=>u.width||0).height(u=>u.height||0).cornerRadius(u=>Lc(u.cornerRadiusTopLeft,u.cornerRadius)||0,u=>Lc(u.cornerRadiusTopRight,u.cornerRadius)||0,u=>Lc(u.cornerRadiusBottomRight,u.cornerRadius)||0,u=>Lc(u.cornerRadiusBottomLeft,u.cornerRadius)||0),ud=function(u,N){function ja(){let nb;ha||(ha=nb=Tb());u.apply(this,arguments).draw(ha,+N.apply(this,
arguments));if(nb)return ha=null,nb+""||null}let ha=null;u="function"===typeof u?u:Gb(u||Xd);N="function"===typeof N?N:Gb(void 0===N?64:+N);ja.type=function(nb){return arguments.length?(u="function"===typeof nb?nb:Gb(nb),ja):u};ja.size=function(nb){return arguments.length?(N="function"===typeof nb?nb:Gb(+nb),ja):N};ja.context=function(nb){return arguments.length?(ha=null==nb?null:nb,ja):ha};return ja}().type(u=>xa(u.shape||"circle")).size(u=>Lc(u.size,64)),xe=mc().x(Rf).y(Jf).defined(ug).size(u=>
u.size||1);var Ge=1;Sc.prototype={clone(){return new Sc(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(u){return this.x1===u.x1&&this.y1===u.y1&&this.x2===u.x2&&this.y2===u.y2},set(u,N,ja,ha){ja<u?(this.x2=u,this.x1=ja):(this.x1=u,this.x2=ja);ha<N?(this.y2=N,this.y1=ha):(this.y1=
N,this.y2=ha);return this},add(u,N){u<this.x1&&(this.x1=u);N<this.y1&&(this.y1=N);u>this.x2&&(this.x2=u);N>this.y2&&(this.y2=N);return this},expand(u){this.x1-=u;this.y1-=u;this.x2+=u;this.y2+=u;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(u){this.x1*=u;this.y1*=u;this.x2*=u;this.y2*=u;return this},translate(u,N){this.x1+=u;this.x2+=u;this.y1+=N;this.y2+=N;return this},rotate(u,N,ja){u=this.rotatedPoints(u,
N,ja);return this.clear().add(u[0],u[1]).add(u[2],u[3]).add(u[4],u[5]).add(u[6],u[7])},rotatedPoints(u,N,ja){var {x1:ha,y1:nb,x2:Yb,y2:dc}=this,Ec=Math.cos(u);u=Math.sin(u);var cc=N-N*Ec+ja*u;N=ja-N*u-ja*Ec;return[Ec*ha-u*nb+cc,u*ha+Ec*nb+N,Ec*ha-u*dc+cc,u*ha+Ec*dc+N,Ec*Yb-u*nb+cc,u*Yb+Ec*nb+N,Ec*Yb-u*dc+cc,u*Yb+Ec*dc+N]},union(u){u.x1<this.x1&&(this.x1=u.x1);u.y1<this.y1&&(this.y1=u.y1);u.x2>this.x2&&(this.x2=u.x2);u.y2>this.y2&&(this.y2=u.y2);return this},intersect(u){u.x1>this.x1&&(this.x1=u.x1);
u.y1>this.y1&&(this.y1=u.y1);u.x2<this.x2&&(this.x2=u.x2);u.y2<this.y2&&(this.y2=u.y2);return this},encloses(u){return u&&this.x1<=u.x1&&this.x2>=u.x2&&this.y1<=u.y1&&this.y2>=u.y2},alignsWith(u){return u&&(this.x1==u.x1||this.x2==u.x2||this.y1==u.y1||this.y2==u.y2)},intersects(u){return u&&!(this.x2<u.x1||this.x1>u.x2||this.y2<u.y1||this.y1>u.y2)},contains(u,N){return!(u<this.x1||u>this.x2||N<this.y1||N>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};l.inherits(Ea,Ta);
ob.prototype={pending(){return this._pending},sanitizeURL(u){const N=this;N._pending+=1;return N._loader.sanitize(u,{context:"href"}).then(ja=>{--N._pending;return ja}).catch(()=>{--N._pending;return null})},loadImage(u){const N=this,ja=M.image();N._pending+=1;return N._loader.sanitize(u,{context:"image"}).then(ha=>{const nb=ha.href;if(!nb||!ja)throw{url:nb};const Yb=new ja;ha=l.hasOwnProperty(ha,"crossOrigin")?ha.crossOrigin:"anonymous";null!=ha&&(Yb.crossOrigin=ha);Yb.onload=()=>{--N._pending};
Yb.onerror=()=>{--N._pending};Yb.src=nb;return Yb}).catch(ha=>{--N._pending;return{complete:!1,width:0,height:0,src:ha&&ha.url||""}})},ready(){const u=this;return new Promise(N=>{function ja(ha){u.pending()?setTimeout(()=>{ja(!0)},10):N(ha)}ja(!1)})}};const cg=Xe-1E-8;let Ye,dg,Xg,vg,eg,kg,Hg,Ig;const kh=(u,N)=>{u=dg=u;N=Xg=N;return Ye.add(u,N)},uh=u=>Ye.add(u,Ye.y1),Oh=u=>Ye.add(Ye.x1,u),vh=(u,N)=>Ye.add(eg*u+Hg*N,kg*u+Ig*N),lh=(u,N)=>kh(eg*u+Hg*N,kg*u+Ig*N),de={beginPath(){},closePath(){},moveTo:lh,
lineTo:lh,rect(u,N,ja,ha){vg?(vh(u+ja,N),vh(u+ja,N+ha),vh(u,N+ha),lh(u,N)):(Ye.add(u+ja,N+ha),kh(u,N))},quadraticCurveTo(u,N,ja,ha){const nb=kg*u+Ig*N,Yb=eg*ja+Hg*ha;ja=kg*ja+Ig*ha;Wb(dg,eg*u+Hg*N,Yb,uh);Wb(Xg,nb,ja,Oh);kh(Yb,ja)},bezierCurveTo(u,N,ja,ha,nb,Yb){const dc=kg*u+Ig*N,Ec=kg*ja+Ig*ha,cc=eg*nb+Hg*Yb;nb=kg*nb+Ig*Yb;Xb(dg,eg*u+Hg*N,eg*ja+Hg*ha,cc,uh);Xb(Xg,dc,Ec,nb,Oh);kh(cc,nb)},arc(u,N,ja,ha,nb,Yb){ha+=vg;nb+=vg;dg=ja*Math.cos(nb)+u;Xg=ja*Math.sin(nb)+N;if(Math.abs(nb-ha)>cg)Ye.add(u-ja,
N-ja),Ye.add(u+ja,N+ja);else{const dc=cc=>Ye.add(ja*Math.cos(cc)+u,ja*Math.sin(cc)+N);let Ec;dc(ha);dc(nb);if(nb!==ha)if(ha%=Xe,0>ha&&(ha+=Xe),nb%=Xe,0>nb&&(nb+=Xe),nb<ha&&(Yb=!Yb,Ec=ha,ha=nb,nb=Ec),Yb)for(nb-=Xe,Ec=ha-ha%Wf,ha=0;4>ha&&Ec>nb;++ha,Ec-=Wf)dc(Ec);else for(Ec=ha-ha%Wf+Wf,ha=0;4>ha&&Ec<nb;++ha,Ec+=Wf)dc(Ec)}}};var je=(je=M.canvas(1,1))?je.getContext("2d"):null;const gf=new Sc;var Le=[],nf=ed("arc",function(u,N){return U.context(u)(N)}),Ze=Fe("area",function(u,N){const ja=N[0];return("horizontal"===
ja.orient?rb:Ia).curve(L(ja.interpolate||"linear",ja.orient,ja.tension)).context(u)(N)},function(u,N){N="horizontal"===u[0].orient?N[1]:N[0];for(var ja="horizontal"===u[0].orient?"y":"x",ha=u.length,nb=Infinity,Yb,dc;0<=--ha;)!1!==u[ha].defined&&(dc=Math.abs(u[ha][ja]-N),dc<nb&&(nb=dc,Yb=u[ha]));return Yb});const Sf=Ad(qe),wf=Ad(qe,!1),Xf=Ad(qe,!0);var $e={type:"group",tag:"g",nested:!1,attr:function(u,N){u("transform",Dd(N.x||0,N.y||0))},bound:function(u,N){if(!N.clip&&N.items){const ja=N.items,
ha=ja.length;for(let nb=0;nb<ha;++nb)u.union(ja[nb].bounds)}(N.clip||N.width||N.height)&&!N.noBound&&u.add(0,0).add(N.width||0,N.height||0);lb(u,N);return u.translate(N.x||0,N.y||0)},draw:function(u,N,ja){qc(N,ha=>{const nb=ha.x||0,Yb=ha.y||0,dc=ha.strokeForeground,Ec=null==ha.opacity?1:ha.opacity;(ha.stroke||ha.fill)&&Ec&&(qe(u,ha,nb,Yb),aa(u,ha),ha.fill&&fb(u,ha,Ec)&&u.fill(),ha.stroke&&!dc&&ib(u,ha,Ec)&&u.stroke());u.save();u.translate(nb,Yb);ha.clip&&ve(u,ha);ja&&ja.translate(-nb,-Yb);qc(ha,cc=>
{this.draw(u,cc,ja)});ja&&ja.translate(nb,Yb);u.restore();dc&&ha.stroke&&Ec&&(qe(u,ha,nb,Yb),aa(u,ha),ib(u,ha,Ec)&&u.stroke())})},pick:function(u,N,ja,ha,nb,Yb){if(N.bounds&&!N.bounds.contains(nb,Yb)||!N.items)return null;const dc=ja*u.pixelRatio,Ec=ha*u.pixelRatio;return Dc(N,cc=>{let Yc,Xc;var Ld=cc.bounds;if(!Ld||Ld.contains(nb,Yb)){Yc=cc.x||0;Xc=cc.y||0;Ld=Yc+(cc.width||0);var ze=Xc+(cc.height||0),pe=cc.clip;if(!pe||!(nb<Yc||nb>Ld||Yb<Xc||Yb>ze)){u.save();u.translate(Yc,Xc);Yc=nb-Yc;Xc=Yb-Xc;
if(pe&&wc(cc)&&!Xf(u,cc,dc,Ec))return u.restore(),null;ze=cc.strokeForeground;if((pe=!1!==N.interactive)&&ze&&cc.stroke&&wf(u,cc,dc,Ec))return u.restore(),cc;Ld=Dc(cc,af=>(!1!==af.interactive||"group"===af.marktype)&&af.bounds&&af.bounds.contains(Yc,Xc)?this.pick(af,ja,ha,Yc,Xc):null);!Ld&&pe&&(cc.fill||!ze&&cc.stroke)&&Sf(u,cc,dc,Ec)&&(Ld=cc);u.restore();return Ld||null}}})},isect:B,content:function(u,N,ja){N=N.clip?jc(ja,N,N):null;u("clip-path",N)},background:function(u,N){u("class","background");
u("aria-hidden",!0);const ja=Sd(N);u("d",tc(null,N,ja,ja))},foreground:function(u,N){u("class","foreground");u("aria-hidden",!0);if(N.strokeForeground){const ja=Sd(N);u("d",tc(null,N,ja,ja))}else u("d","")}},wg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Zg={type:"image",tag:"image",nested:!1,attr:function(u,N,ja){var ha=A(N,ja);ja=W(N,ha);const nb=ta(N,ha),Yb=(N.x||0)-Qa(N.align,ja),dc=(N.y||0)-qb(N.baseline,nb);ha=!ha.src&&ha.toDataURL?ha.toDataURL():
ha.src||"";u("href",ha,wg["xmlns:xlink"],"xlink:href");u("transform",Dd(Yb,dc));u("width",ja);u("height",nb);u("preserveAspectRatio",!1===N.aspect?"none":"xMidYMid")},bound:function(u,N){var ja=N.image;const ha=W(N,ja);ja=ta(N,ja);const nb=(N.x||0)-Qa(N.align,ha);N=(N.y||0)-qb(N.baseline,ja);return u.set(nb,N,nb+ha,N+ja)},draw:function(u,N,ja){qc(N,ha=>{if(!ja||ja.intersects(ha.bounds)){var nb=A(ha,this),Yb=W(ha,nb),dc=ta(ha,nb);if(0!==Yb&&0!==dc){var Ec=(ha.x||0)-Qa(ha.align,Yb),cc=(ha.y||0)-qb(ha.baseline,
dc),Yc;if(!1!==ha.aspect){var Xc=nb.width/nb.height;var Ld=ha.width/ha.height;Xc===Xc&&Ld===Ld&&Xc!==Ld&&(Ld<Xc?(Xc=Yb/Xc,cc+=(dc-Xc)/2,dc=Xc):(Xc*=dc,Ec+=(Yb-Xc)/2,Yb=Xc))}if(nb.complete||nb.toDataURL)aa(u,ha),u.globalAlpha=null!=(Yc=ha.opacity)?Yc:1,u.imageSmoothingEnabled=!1!==ha.smooth,u.drawImage(nb,Ec,cc,Yb,dc)}}})},pick:Hd(),isect:l.truthy,get:A,xOffset:Qa,yOffset:qb},Sg=Fe("line",function(u,N){const ja=N[0];return Cc.curve(L(ja.interpolate||"linear",ja.orient,ja.tension)).context(u)(N)},function(u,
N){for(var ja=Math.pow(u[0].strokeWidth||1,2),ha=u.length,nb,Yb;0<=--ha;)if(!1!==u[ha].defined&&(nb=u[ha].x-N[0],Yb=u[ha].y-N[1],nb=nb*nb+Yb*Yb,nb<ja))return u[ha];return null}),xg={type:"path",tag:"path",nested:!1,attr:function(u,N){var ja=N.scaleY||1;1===(N.scaleX||1)&&1===ja||u("vector-effect","non-scaling-stroke");ja=Dd(N.x||0,N.y||0)+(N.angle?" rotate("+(N.angle+")"):"")+(N.scaleX||N.scaleY?" scale("+((N.scaleX||1)+","+(N.scaleY||1)+")"):"");u("transform",ja);u("d",N.path)},bound:function(u,
N){return Bb(Fb(u,N.angle),N)?u.set(0,0,0,0):lb(u,N,!0)},draw:Fc(Bb),pick:Hd(Ad(Bb)),isect:xc(Bb)},Qh={type:"rect",tag:"path",nested:!1,attr:function(u,N){u("d",tc(null,N))},bound:function(u,N){var ja,ha;return lb(u.set(ja=N.x||0,ha=N.y||0,ja+N.width||0,ha+N.height||0),N)},draw:Fc(ac),pick:Hd(Ad(ac)),isect:B},gh={type:"rule",tag:"line",nested:!1,attr:function(u,N){u("transform",Dd(N.x||0,N.y||0));u("x2",null!=N.x2?N.x2-(N.x||0):0);u("y2",null!=N.y2?N.y2-(N.y||0):0)},bound:function(u,N){var ja,ha;
return lb(u.set(ja=N.x||0,ha=N.y||0,null!=N.x2?N.x2:ja,null!=N.y2?N.y2:ha),N)},draw:function(u,N,ja){qc(N,ha=>{if(!ja||ja.intersects(ha.bounds)){var nb=null==ha.opacity?1:ha.opacity;nb&&Sb(u,ha,nb)&&(aa(u,ha),u.stroke())}})},pick:Hd(function(u,N,ja,ha){return u.isPointInStroke?Sb(u,N,1)&&u.isPointInStroke(ja,ha):!1}),isect:w},Rh=ed("shape",function(u,N){return(N.mark.shape||N.shape).context(u)(N)}),Lg=ed("symbol",function(u,N){return ud.context(u)(N)},kd);const hh=l.lruCache();var nh={height:bd,measureWidth:Ic,
estimateWidth:zc,width:zc,canvas:wb};wb(!0);const xi={left:"start",center:"middle",right:"end"},Jg=new Sc;var Sh={type:"text",tag:"text",nested:!1,attr:function(u,N){var ja=N.dx||0,ha=(N.dy||0)+Ve(N),nb=Pe(N),Yb=nb.x1;nb=nb.y1;var dc=N.angle||0;u("text-anchor",xi[N.align]||"start");if(dc){if(N=Dd(Yb,nb)+" rotate("+(dc+")"),ja||ha)N+=" "+Dd(ja,ha)}else N=Dd(Yb+ja,nb+ha);u("transform",N)},bound:hf,draw:function(u,N,ja){qc(N,ha=>{var nb=null==ha.opacity?1:ha.opacity,Yb;if(!(ja&&!ja.intersects(ha.bounds)||
0===nb||0>=ha.fontSize||null==ha.text||0===ha.text.length)){u.font=Ud(ha);u.textAlign=ha.align||"left";var dc=Pe(ha);var Ec=dc.x1;dc=dc.y1;ha.angle&&(u.save(),u.translate(Ec,dc),u.rotate(ha.angle*If),Ec=dc=0);Ec+=ha.dx||0;dc+=(ha.dy||0)+Ve(ha);var cc=Ed(ha);aa(u,ha);if(l.isArray(cc)){var Yc=nd(ha);for(Yb=0;Yb<cc.length;++Yb){var Xc=Wd(ha,cc[Yb]);ha.fill&&fb(u,ha,nb)&&u.fillText(Xc,Ec,dc);ha.stroke&&ib(u,ha,nb)&&u.strokeText(Xc,Ec,dc);dc+=Yc}}else Xc=Wd(ha,cc),ha.fill&&fb(u,ha,nb)&&u.fillText(Xc,Ec,
dc),ha.stroke&&ib(u,ha,nb)&&u.strokeText(Xc,Ec,dc);ha.angle&&u.restore()}})},pick:Hd(function(u,N,ja,ha,nb,Yb){if(0>=N.fontSize)return!1;if(!N.angle)return!0;ja=Pe(N);u=ja.x1;ja=ja.y1;ha=hf(Jg,N,1);var dc=-N.angle*If;N=Math.cos(dc);dc=Math.sin(dc);return ha.contains(N*nb-dc*Yb+(u-N*u+dc*ja),dc*nb+N*Yb+(ja-dc*u-N*ja))}),isect:function(u,N){u=hf(Jg,u,2);return C(N,u[0],u[1],u[2],u[3])||C(N,u[0],u[1],u[4],u[5])||C(N,u[4],u[5],u[6],u[7])||C(N,u[2],u[3],u[6],u[7])}},Qi=Fe("trail",function(u,N){return xe.context(u)(N)},
function(u,N){for(var ja=u.length,ha,nb;0<=--ja;)if(!1!==u[ja].defined&&(ha=u[ja].x-N[0],nb=u[ja].y-N[1],nb=ha*ha+nb*nb,ha=u[ja].size||1,nb<ha*ha))return u[ja];return null}),Bg={arc:nf,area:Ze,group:$e,image:Zg,line:Sg,path:xg,rect:Qh,rule:gh,shape:Rh,symbol:Lg,text:Sh,trail:Qi},wh={mark:null};const gi="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
Da.prototype={toJSON(u){return Se(this.root,u||0)},mark(u,N,ja){N=N||this.root.items[0];u=hb(u,N);N.items[ja]=u;u.zindex&&(u.group.zdirty=!0);return u}};hc.prototype={initialize(u,N,ja){this._el=u;this._obj=ja||null;return this.origin(N)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(u){return arguments.length?(this._origin=u||[0,0],this):this._origin.slice()},scene(u){if(!arguments.length)return this._scene;this._scene=u;return this},on(){},off(){},_handlerIndex(u,
N,ja){for(let ha=u?u.length:0;0<=--ha;)if(u[ha].type===N&&(!ja||u[ha].handler===ja))return ha;return-1},handlers(u){const N=this._handlers,ja=[];if(u)ja.push(...N[this.eventName(u)]);else for(const ha in N)ja.push(...N[ha]);return ja},eventName(u){const N=u.indexOf(".");return 0>N?u:u.slice(0,N)},handleHref(u,N,ja){this._loader.sanitize(ja,{context:"href"}).then(ha=>{const nb=new MouseEvent(u.type,u),Yb=Kb(null,"a");for(const dc in ha)Yb.setAttribute(dc,ha[dc]);Yb.dispatchEvent(nb)}).catch(()=>{})},
handleTooltip(u,N,ja){if(N&&null!=N.tooltip){var ha=this.canvas(),nb=this._origin,Yb=N&&N.mark,dc;if(Yb&&(dc=Bg[Yb.marktype]).tip){ha=sb(u,ha);ha[0]-=nb[0];for(ha[1]-=nb[1];N=N.mark.group;)ha[0]-=N.x||0,ha[1]-=N.y||0;N=dc.tip(Yb.items,ha)}this._tooltip.call(this._obj,this,u,N,ja&&N&&N.tooltip||null)}},getItemBoundingClientRect(u){var N=this.canvas();if(N){var ja=N.getBoundingClientRect(),ha=this._origin,nb=u.bounds;N=nb.width();var Yb=nb.height(),dc=nb.x1+ha[0]+ja.left;for(ja=nb.y1+ha[1]+ja.top;u.mark&&
(u=u.mark.group);)dc+=u.x||0,ja+=u.y||0;return{x:dc,y:ja,width:N,height:Yb,left:dc,top:ja,right:dc+N,bottom:ja+Yb}}}};Vc.prototype={initialize(u,N,ja,ha,nb){this._el=u;return this.resize(N,ja,ha,nb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(u){if(0===arguments.length)return this._bgcolor;this._bgcolor=u;return this},resize(u,N,ja,ha){this._width=u;this._height=N;this._origin=ja||[0,0];this._scale=ha||1;return this},dirty(){},render(u){const N=this;N._call=
function(){N._render(u)};N._call();N._call=null;return N},_render(){},renderAsync(u){const N=this.render(u);return this._ready?this._ready.then(()=>N):Promise.resolve(N)},_load(u,N){var ja=this;u=ja._loader[u](N);if(!ja._ready){const ha=ja._call;ja._ready=ja._loader.ready().then(nb=>{nb&&ha();ja._ready=null})}return u},sanitizeURL(u){return this._load("sanitizeURL",u)},loadImage(u){return this._load("loadImage",u)}};l.inherits(rd,hc,{initialize(u,N,ja){this._canvas=u&&uc(u,"canvas");["click","mousedown",
"mousemove","mouseout","dragleave"].forEach(ha=>ad(this,ha));return hc.prototype.initialize.call(this,u,N,ja)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(u){this.fire("mousewheel",u)},mousemove:De("mousemove","mouseover","mouseout"),dragover:De("dragover","dragenter","dragleave"),
mouseout:Rd("mouseout"),dragleave:Rd("dragleave"),mousedown(u){this._down=this._active;this.fire("mousedown",u)},click(u){this._down===this._active&&(this.fire("click",u),this._down=null)},touchstart(u){this._touch=this.pickEvent(u.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",u,!0)},touchmove(u){this.fire("touchmove",u,!0)},touchend(u){this.fire("touchend",u,!0);this._touch=null},fire(u,N,ja){ja=ja?this._touch:this._active;const ha=this._handlers[u];
N.vegaType=u;"click"===u&&ja&&ja.href?this.handleHref(N,ja,ja.href):("mousemove"===u||"mouseout"===u)&&this.handleTooltip(N,ja,"mouseout"!==u);if(ha)for(let nb=0,Yb=ha.length;nb<Yb;++nb)ha[nb].handler.call(this._obj,N,ja)},on(u,N){const ja=this.eventName(u),ha=this._handlers;0>this._handlerIndex(ha[ja],u,N)&&(ad(this,u),(ha[ja]||(ha[ja]=[])).push({type:u,handler:N}));return this},off(u,N){var ja=this.eventName(u);ja=this._handlers[ja];u=this._handlerIndex(ja,u,N);0<=u&&ja.splice(u,1);return this},
pickEvent(u){u=sb(u,this._canvas);const N=this._origin;return this.pick(this._scene,u[0],u[1],u[0]-N[0],u[1]-N[1])},pick(u,N,ja,ha,nb){const Yb=this.context();return Bg[u.marktype].pick.call(this,Yb,u,N,ja,ha,nb)}});var fi="undefined"!==typeof window?window.devicePixelRatio||1:1;const Yg=Vc.prototype;l.inherits(fe,Vc,{initialize(u,N,ja,ha,nb,Yb){this._options=Yb||{};this._canvas=this._options.externalContext?null:M.canvas(1,1,this._options.type);u&&this._canvas&&(ma(u,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return Yg.initialize.call(this,u,N,ja,ha,nb)},resize(u,N,ja,ha){Yg.resize.call(this,u,N,ja,ha);if(this._canvas){u=this._canvas;N=this._width;ja=this._height;ha=this._origin;var nb=this._scale,Yb=this._options.context;const Ec="undefined"!==typeof HTMLElement&&u instanceof HTMLElement&&null!=u.parentNode,cc=u.getContext("2d");nb=Ec?fi:nb;u.width=N*nb;u.height=ja*nb;for(var dc in Yb)cc[dc]=Yb[dc];Ec&&1!==nb&&(u.style.width=N+"px",u.style.height=ja+"px");cc.pixelRatio=
nb;cc.setTransform(nb,0,0,nb,nb*ha[0],nb*ha[1])}else(dc=this._options.externalContext)||l.error("CanvasRenderer is missing a valid canvas or context"),dc.scale(this._scale,this._scale),dc.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(u){const N=this._tempb.clear().union(u.bounds);for(u=u.mark.group;u;)N.translate(u.x||0,u.y||0),u=u.mark.group;
this._dirty.union(N)},_render(u){const N=this.context(),ja=this._origin,ha=this._width,nb=this._height,Yb=this._dirty;var dc=(new Sc).set(0,0,ha,nb).translate(-ja[0],-ja[1]);N.save();this._redraw||Yb.empty()?dc=(this._redraw=!1,dc.expand(1)):(dc=dc.intersect(Yb),dc.expand(1).round(),N.pixelRatio%1&&dc.scale(N.pixelRatio).round().scale(1/N.pixelRatio),dc.translate(-(ja[0]%1),-(ja[1]%1)),N.beginPath(),N.rect(dc.x1,dc.y1,dc.width(),dc.height()),N.clip());this.clear(-ja[0],-ja[1],ha,nb);this.draw(N,u,
dc);N.restore();Yb.clear();return this},draw(u,N,ja){const ha=Bg[N.marktype];if(N.clip){var nb=N.clip;u.save();l.isFunction(nb)?(u.beginPath(),nb(u),u.clip()):ve(u,N.group)}ha.draw.call(this,u,N,ja);N.clip&&u.restore()},clear(u,N,ja,ha){const nb=this._options,Yb=this.context();"pdf"===nb.type||nb.externalContext||Yb.clearRect(u,N,ja,ha);null!=this._bgcolor&&(Yb.fillStyle=this._bgcolor,Yb.fillRect(u,N,ja,ha))}});const Th=(u,N)=>ja=>{let ha=ja.target.__data__;ha=Array.isArray(ha)?ha[0]:ha;ja.vegaType=
ja.type;N.call(u._obj,ja,ha)};l.inherits(Ae,hc,{initialize(u,N,ja){let ha=this._svg;ha&&(ha.removeEventListener("click",this._hrefHandler),ha.removeEventListener("mousemove",this._tooltipHandler),ha.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=ha=u&&uc(u,"svg"))ha.addEventListener("click",this._hrefHandler),ha.addEventListener("mousemove",this._tooltipHandler),ha.addEventListener("mouseout",this._tooltipHandler);return hc.prototype.initialize.call(this,u,N,ja)},canvas(){return this._svg},
on(u,N){const ja=this.eventName(u),ha=this._handlers;0>this._handlerIndex(ha[ja],u,N)&&(u={type:u,handler:N,listener:Th(this,N)},(ha[ja]||(ha[ja]=[])).push(u),this._svg&&this._svg.addEventListener(ja,u.listener));return this},off(u,N){const ja=this.eventName(u),ha=this._handlers[ja];u=this._handlerIndex(ha,u,N);0<=u&&(this._svg&&this._svg.removeEventListener(ja,ha[u].listener),ha.splice(u,1));return this}});const oh=(u,N,ja)=>({role:u,["aria-roledescription"]:N,["aria-label"]:ja||void 0}),og=l.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),
hi={axis:{desc:"axis",caption:function(u){var N=u.datum;const ja=u.orient,ha=N.title?fd(u):null;var nb=u.context;N=nb.scales[N.scale].value;nb=nb.dataflow.locale();const Yb=N.type;return`${"left"===ja||"right"===ja?"Y":"X"}-axis`+(ha?` titled '${ha}'`:"")+` for a ${zb.isDiscrete(Yb)?"discrete":Yb} scale`+` with ${zb.domainCaption(nb,N,u)}`}},legend:{desc:"legend",caption:function(u){var N=u.datum;const ja=N.title?fd(u):null,ha=`${N.type||""} legend`.trim();var nb=N.scales;N=Object.keys(nb);var Yb=
u.context;nb=Yb.scales[nb[N[0]]].value;Yb=Yb.dataflow.locale();return(ha.length?ha[0].toUpperCase()+ha.slice(1):ha)+(ja?` titled '${ja}'`:"")+` for ${sd(N)}`+` with ${zb.domainCaption(Yb,nb,u)}`}},"title-text":{desc:"title",caption:u=>`Title text '${l.array(u.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:u=>`Subtitle text '${l.array(u.text).join(" ")}'`}},Uh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},xh=u=>(u+"").replace(/&/g,"\x26amp;").replace(/</g,
"\x26lt;").replace(/>/g,"\x26gt;"),Vh=u=>be(Fd(),u)+"",ji={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},ph={blend:"mix-blend-mode"},ki={fill:"none","stroke-miterlimit":10},Kf=wg.xmlns,li=Vc.prototype;l.inherits(Ee,Vc,{initialize(u,N,ja,ha,nb){this._defs=
{};this._clearDefs();u&&(this._svg=Ib(u,0,"svg",Kf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Kf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",wg["xmlns:xlink"]),this._svg.setAttribute("version",wg.version),this._svg.setAttribute("class","marks"),ma(u,1),this._root=Ib(this._svg,0,"g",Kf),jd(this._root,ki),ma(this._svg,1));this.background(this._bgcolor);return li.initialize.call(this,u,N,ja,ha,nb)},background(u){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
u);return li.background.apply(this,arguments)},resize(u,N,ja,ha){li.resize.call(this,u,N,ja,ha);this._svg&&(jd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const u=this._svg,N=this._bgcolor;if(!u)return null;let ja;N&&(u.removeAttribute("style"),ja=Ib(u,0,"rect",Kf),jd(ja,{width:this._width,height:this._height,
fill:N}));const ha=Vh(u);N&&(u.removeChild(ja),this._svg.style.setProperty("background-color",N));return ha},_render(u){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,u),ma(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(u){u.dirty!==this._dirtyID&&(u.dirty=this._dirtyID,this._dirty.push(u))},isDirty(u){return this._dirtyAll||!u._svg||!u._svg.ownerSVGElement||u.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const u=this._dirty;if(!u.length||
!this._dirtyID)return!0;const N=++this._dirtyID;let ja;let ha,nb,Yb,dc;Yb=0;for(dc=u.length;Yb<dc;++Yb){ja=u[Yb];var Ec=ja.mark;Ec.marktype!==ha&&(ha=Ec.marktype,nb=Bg[ha]);Ec.zdirty&&Ec.dirty!==N&&(this._dirtyAll=!1,Re(ja,N),Ec.items.forEach(cc=>{cc.dirty=N}));Ec.zdirty||(ja.exit?(nb.nested&&Ec.items.length?(Ec=Ec.items[0],Ec._svg&&this._update(nb,Ec._svg,Ec)):ja._svg&&(Ec=ja._svg.parentNode)&&Ec.removeChild(ja._svg),ja._svg=null):(ja=nb.nested?Ec.items[0]:ja,ja._update!==N&&(ja._svg&&ja._svg.ownerSVGElement?
this._update(nb,ja._svg,ja):(this._dirtyAll=!1,Re(ja,N)),ja._update=N)))}return!this._dirtyAll},mark(u,N,ja){if(!this.isDirty(N))return N._svg;const ha=this._svg,nb=Bg[N.marktype];var Yb=!1===N.interactive?"none":null;const dc="g"===nb.tag,Ec=jf(N,u,ja,"g",ha);Ec.setAttribute("class",Ga(N));u=Gd(N);for(const Xc in u)Wc(Ec,Xc,u[Xc]);dc||Wc(Ec,"pointer-events",Yb);Wc(Ec,"clip-path",N.clip?jc(this,N,N.group):null);let cc=null,Yc=0;Yb=Xc=>{const Ld=this.isDirty(Xc),ze=jf(Xc,Ec,cc,nb.tag,ha);Ld&&(this._update(nb,
ze,Xc),dc&&ff(this,ze,Xc));cc=ze;++Yc};nb.nested?N.items.length&&Yb(N.items[0]):qc(N,Yb);ma(Ec,Yc);return Ec},_update(u,N,ja){fg=N;of=N.__values__;Pc(gd,ja);u.attr(gd,ja,this);const ha=zi[u.type];ha&&ha.call(this,u,N,ja);fg&&this.style(fg,ja)},style(u,N){if(null!=N){for(const ja in ji){let ha="font"===ja?ce(N):N[ja];if(ha===of[ja])continue;const nb=ji[ja];null==ha?u.removeAttribute(nb):(ha&&ha.gradient&&(ha=Zb(ha,this._defs.gradient,na())),u.setAttribute(nb,ha+""));of[ja]=ha}for(const ja in ph)Rc(u,
ph[ja],N[ja])}},defs(){const u=this._svg,N=this._defs;let ja=N.el;var ha=0;for(var nb in N.gradient){ja||(N.el=ja=Ib(u,1,"defs",Kf));var Yb=void 0;let cc,Yc;var dc=ja,Ec=N.gradient[nb];"radial"===Ec.gradient?(Yb=Ib(dc,ha++,"pattern",Kf),jd(Yb,{id:"p_"+Ec.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Yb=Ib(Yb,0,"rect",Kf),jd(Yb,{width:1,height:1,fill:`url(${na()}#${Ec.id})`}),dc=Ib(dc,ha++,"radialGradient",Kf),jd(dc,{id:Ec.id,fx:Ec.x1,fy:Ec.y1,fr:Ec.r1,cx:Ec.x2,
cy:Ec.y2,r:Ec.r2})):(dc=Ib(dc,ha++,"linearGradient",Kf),jd(dc,{id:Ec.id,x1:Ec.x1,x2:Ec.x2,y1:Ec.y1,y2:Ec.y2}));Yc=0;for(cc=Ec.stops.length;Yc<cc;++Yc)Yb=Ib(dc,Yc,"stop",Kf),Yb.setAttribute("offset",Ec.stops[Yc].offset),Yb.setAttribute("stop-color",Ec.stops[Yc].color);ma(dc,Yc)}for(const cc in N.clipping)ja||(N.el=ja=Ib(u,1,"defs",Kf)),dc=ja,Ec=N.clipping[cc],nb=ha,dc=Ib(dc,nb,"clipPath",Kf),dc.setAttribute("id",Ec.id),Ec.path?(ha=Ib(dc,0,"path",Kf),ha.setAttribute("d",Ec.path)):(ha=Ib(dc,0,"rect",
Kf),jd(ha,{x:0,y:0,width:Ec.width,height:Ec.height})),ma(dc,1),ha=nb+1;ja&&(0===ha?(u.removeChild(ja),N.el=null):ma(ja,ha))},_clearDefs(){const u=this._defs;u.gradient={};u.clipping={}}});let fg=null,of=null;const zi={group(u,N,ja){const ha=fg=N.childNodes[2];of=ha.__values__;u.foreground(gd,ja,this);of=N.__values__;fg=N.childNodes[1];u.content(gd,ja,this);N=fg=N.childNodes[0];u.background(gd,ja,this);u=!1===ja.mark.interactive?"none":null;u!==of.events&&(Wc(ha,"pointer-events",u),Wc(N,"pointer-events",
u),of.events=u);ja.strokeForeground&&ja.stroke?(u=ja.fill,Wc(ha,"display",null),this.style(N,ja),Wc(N,"stroke",null),u&&(ja.fill=null),of=ha.__values__,this.style(ha,ja),u&&(ja.fill=u),fg=null):Wc(ha,"display","none")},image(u,N,ja){!1===ja.smooth?(Rc(N,"image-rendering","optimizeSpeed"),Rc(N,"image-rendering","pixelated")):Rc(N,"image-rendering",null)},text(u,N,ja){u=Ed(ja);let ha,nb,Yb;l.isArray(u)?(ha=u.map(dc=>Wd(ja,dc)),u=ha.join("\n"),u!==of.text&&(ma(N,0),nb=N.ownerDocument,Yb=nd(ja),ha.forEach((dc,
Ec)=>{const cc=Kb(nb,"tspan",Kf);cc.__data__=ja;cc.textContent=dc;Ec&&(cc.setAttribute("x",0),cc.setAttribute("dy",Yb));N.appendChild(cc)}),of.text=u)):(ha=Wd(ja,u),ha!==of.text&&(N.textContent=ha,of.text=ha));Wc(N,"font-family",ce(ja));Wc(N,"font-size",bd(ja)+"px");Wc(N,"font-style",ja.fontStyle);Wc(N,"font-variant",ja.fontVariant);Wc(N,"font-weight",ja.fontWeight)}};l.inherits(La,Vc,{svg(){return this._text},_render(u){const N=Fd();N.open("svg",l.extend({},wg,{class:"marks",width:this._width*this._scale,
height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ja=this._bgcolor;ja&&"transparent"!==ja&&"none"!==ja&&N.open("rect",{width:this._width,height:this._height,fill:ja}).close();N.open("g",ki,{transform:"translate("+this._origin+")"});this.mark(N,u);N.close();this.defs(N);this._text=N.close()+"";return this},mark(u,N){const ja=Bg[N.marktype],ha=ja.tag,nb=[Pc,ja.attr];u.open("g",{"class":Ga(N),"clip-path":N.clip?jc(this,N,N.group):null},Gd(N),{"pointer-events":"g"!==
ha&&!1===N.interactive?"none":null});const Yb=dc=>{const Ec=this.href(dc);Ec&&u.open("a",Ec);u.open(ha,this.attr(N,dc,nb,"g"!==ha?ha:null));if("text"===ha){var cc=Ed(dc);if(l.isArray(cc)){var Yc={x:0,dy:nd(dc)};for(var Xc=0;Xc<cc.length;++Xc)u.open("tspan",Xc?Yc:null).text(Wd(dc,cc[Xc])).close()}else u.text(Wd(dc,cc))}else"g"===ha&&(cc=dc.strokeForeground,Yc=dc.fill,Xc=dc.stroke,cc&&Xc&&(dc.stroke=null),u.open("path",this.attr(N,dc,ja.background,"bgrect")).close(),u.open("g",this.attr(N,dc,ja.content)),
qc(dc,Ld=>this.mark(u,Ld)),u.close(),cc&&Xc?(Yc&&(dc.fill=null),dc.stroke=Xc,u.open("path",this.attr(N,dc,ja.foreground,"bgrect")).close(),Yc&&(dc.fill=Yc)):u.open("path",this.attr(N,dc,ja.foreground,"bgfore")).close());u.close();Ec&&u.close()};ja.nested?N.items&&N.items.length&&Yb(N.items[0]):qc(N,Yb);return u.close()},href(u){const N=u.href;if(N){if(u=this._hrefs&&this._hrefs[N])return u;this.sanitizeURL(N).then(ja=>{ja["xlink:href"]=ja.href;ja.href=null;(this._hrefs||(this._hrefs={}))[N]=ja})}return null},
attr(u,N,ja,ha){const nb={},Yb=(dc,Ec,cc,Yc)=>{nb[Yc||dc]=Ec};Array.isArray(ja)?ja.forEach(dc=>dc(Yb,N,this)):ja(Yb,N,this);ha&&Ya(nb,N,u,ha,this._defs);return nb},defs(u){var N=this._defs.gradient;const ja=this._defs.clipping;if(0!==Object.keys(N).length+Object.keys(ja).length){u.open("defs");for(const nb in N){var ha=N[nb];const Yb=ha.stops;"radial"===ha.gradient?(u.open("pattern",{id:"p_"+nb,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),u.open("rect",{width:"1",
height:"1",fill:"url(#"+nb+")"}).close(),u.close(),u.open("radialGradient",{id:nb,fx:ha.x1,fy:ha.y1,fr:ha.r1,cx:ha.x2,cy:ha.y2,r:ha.r2})):u.open("linearGradient",{id:nb,x1:ha.x1,x2:ha.x2,y1:ha.y1,y2:ha.y2});for(ha=0;ha<Yb.length;++ha)u.open("stop",{offset:Yb[ha].offset,"stop-color":Yb[ha].color}).close();u.close()}for(const nb in ja)N=ja[nb],u.open("clipPath",{id:nb}),N.path?u.open("path",{d:N.path}).close():u.open("rect",{x:0,y:0,width:N.width,height:N.height}).close(),u.close();u.close()}}});const Tg=
{};Tg.canvas=Tg.png={renderer:fe,headless:fe,handler:rd};Tg.svg={renderer:Ee,headless:La,handler:Ae};Tg.none={};const pg=new Sc;x.Bounds=Sc;x.CanvasHandler=rd;x.CanvasRenderer=fe;x.Gradient=function(u,N){var ja=[],ha;return ha={gradient:"linear",x1:u?u[0]:0,y1:u?u[1]:0,x2:N?N[0]:1,y2:N?N[1]:0,stops:ja,stop:function(nb,Yb){ja.push({offset:nb,color:Yb});return ha}}};x.GroupItem=Ea;x.Handler=hc;x.Item=Ta;x.Marks=Bg;x.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};x.Renderer=Vc;x.ResourceLoader=
ob;x.SVGHandler=Ae;x.SVGRenderer=Ee;x.SVGStringRenderer=La;x.Scenegraph=Da;x.boundClip=function(u){const N=u.clip;if(l.isFunction(N))N(Fb(pg.clear()));else if(N)pg.set(0,0,u.group.width,u.group.height);else return;u.bounds.intersect(pg)};x.boundContext=Fb;x.boundItem=Ne;x.boundMark=ne;x.boundStroke=lb;x.domChild=Ib;x.domClear=ma;x.domCreate=Kb;x.domFind=uc;x.font=Ud;x.fontFamily=ce;x.fontSize=bd;x.intersect=function(u,N,ja){const ha=[];N=(new Sc).union(N);const nb=u.marktype;return nb?ub(u,N,ja,ha):
"group"===nb?n(u,N,ja,ha):l.error("Intersect scene must be mark node or group item.")};x.intersectBoxLine=C;x.intersectPath=xc;x.intersectPoint=kd;x.intersectRule=w;x.lineHeight=nd;x.markup=Fd;x.multiLineOffset=function(u){const N=Ed(u);return(l.isArray(N)?N.length-1:0)*nd(u)};x.path=Tb;x.pathCurves=L;x.pathEqual=Ja;x.pathParse=X;x.pathRectangle=Ob;x.pathRender=T;x.pathSymbols=xa;x.pathTrail=mc;x.point=sb;x.renderModule=function(u,N){u=String(u||"").toLowerCase();return 1<arguments.length?(Tg[u]=
N,this):Tg[u]};x.resetSVGClipId=function(){Ge=1};x.resetSVGDefIds=function(){Ge=1;Ua=0};x.sceneEqual=da;x.sceneFromJSON=F;x.scenePickVisit=Dc;x.sceneToJSON=Se;x.sceneVisit=qc;x.sceneZOrder=oc;x.serializeXML=Vh;x.textMetrics=nh;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[34]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(28),vb(33),vb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l((x.vega=x.vega||{},x.vega.transforms={}),x.vega,x.vega,x.vega))})(this,function(x,l,M,cb){function zb(z){l.Transform.call(this,null,z)}function Zb(z,L,X){return L(z.bounds.clear(),z,X)}function gc(z){l.Transform.call(this,
0,z)}function nc(z){return z._signals[":vega_identifier:"]||(z._signals[":vega_identifier:"]=z.add(0))}function Tb(z){l.Transform.call(this,null,z)}function Gb(z){const L=z.groups;z=z.parent;return L&&1===L.size?L.get(Object.keys(L.object)[0]):L&&z?L.lookup(z):null}function Db(z){l.Transform.call(this,null,z)}function fc(z){l.Transform.call(this,null,z)}function Ba(z,L,X){return z[L]===X?0:(z[L]=X,1)}function jb(z){z=z.items[0].orient;return"left"===z||"right"===z}function yb(z,L,X,qa){L=L.items[0];
var T=L.datum,la=null!=L.translate?L.translate:.5,xa=L.orient,R=+T.grid;var ka=[T.ticks?R++:-1,T.labels?R++:-1,R+ +T.domain];R=L.range;var Ka=L.offset,kb=L.position,Za=L.minExtent,mb=L.maxExtent;T=T.title&&L.items[ka[2]].items[0];var Ra=L.titlePadding,Ob=L.bounds,mc=T&&M.multiLineOffset(T),Lc;V.clear().union(Ob);Ob.clear();-1<(Lc=ka[0])&&Ob.union(L.items[Lc].bounds);-1<(Lc=ka[1])&&Ob.union(L.items[Lc].bounds);switch(xa){case "top":X=kb||0;qa=-Ka;Za=Math.max(Za,Math.min(mb,-Ob.y1));Ob.add(0,-Za).add(R,
0);T&&Ab(z,T,Za,Ra,mc,0,-1,Ob);break;case "left":X=-Ka;qa=kb||0;Za=Math.max(Za,Math.min(mb,-Ob.x1));Ob.add(-Za,0).add(0,R);T&&Ab(z,T,Za,Ra,mc,1,-1,Ob);break;case "right":X+=Ka;qa=kb||0;Za=Math.max(Za,Math.min(mb,Ob.x2));Ob.add(0,0).add(Za,R);T&&Ab(z,T,Za,Ra,mc,1,1,Ob);break;case "bottom":X=kb||0;qa+=Ka;Za=Math.max(Za,Math.min(mb,Ob.y2));Ob.add(0,0).add(R,Za);T&&Ab(z,T,Za,Ra,0,0,1,Ob);break;default:X=L.x,qa=L.y}M.boundStroke(Ob.translate(X,qa),L);Ba(L,"x",X+la)|Ba(L,"y",qa+la)&&(L.bounds=V,z.dirty(L),
L.bounds=Ob,z.dirty(L));return L.mark.bounds.clear().union(Ob)}function Ab(z,L,X,qa,T,la,xa,R){const ka=L.bounds;L.auto&&(X=xa*(X+T+qa),T=qa=0,z.dirty(L),la?qa=(L.x||0)-(L.x=X):T=(L.y||0)-(L.y=X),L.mark.bounds.clear().union(ka.translate(-qa,-T)),z.dirty(L));R.union(ka)}function Pa(z){return(new M.Bounds).set(0,0,z.width||0,z.height||0)}function Va(z){const L=z.bounds.clone();return L.empty()?L.set(0,0,0,0):L.translate(-(z.x||0),-(z.y||0))}function Xa(z,L,X){z=cb.isObject(z)?z[L]:z;return null!=z?
z:void 0!==X?X:0}function Fa(z){return 0>z?Math.ceil(-z):0}function pa(z,L,X){var qa=!X.nodirty,T="flush"===X.bounds?Pa:Va,la=V.set(0,0,0,0),xa=Xa(X.align,"column"),R=Xa(X.align,"row"),ka=Xa(X.padding,"column"),Ka=Xa(X.padding,"row"),kb=X.columns||L.length,Za=0>=kb?1:Math.ceil(L.length/kb),mb=L.length,Ra=Array(mb),Ob=Array(kb),mc=0,Lc=Array(mb),wc=Array(Za),tc=0,jc=Array(mb),Sc=Array(mb),Ta=Array(mb),Ea,ob,lb;for(Ea=0;Ea<kb;++Ea)Ob[Ea]=0;for(Ea=0;Ea<Za;++Ea)wc[Ea]=0;for(Ea=0;Ea<mb;++Ea){var Fb=L[Ea];
var Wb=Ta[Ea]=T(Fb);Fb.x=Fb.x||0;jc[Ea]=0;Fb.y=Fb.y||0;Sc[Ea]=0;Fb=Ea%kb;var Xb=~~(Ea/kb);mc=Math.max(mc,ob=Math.ceil(Wb.x2));tc=Math.max(tc,lb=Math.ceil(Wb.y2));Ob[Fb]=Math.max(Ob[Fb],ob);wc[Xb]=Math.max(wc[Xb],lb);Ra[Ea]=ka+Fa(Wb.x1);Lc[Ea]=Ka+Fa(Wb.y1);qa&&z.dirty(L[Ea])}for(Ea=0;Ea<mb;++Ea)0===Ea%kb&&(Ra[Ea]=0),Ea<kb&&(Lc[Ea]=0);if("each"===xa)for(Fb=1;Fb<kb;++Fb){T=0;for(Ea=Fb;Ea<mb;Ea+=kb)T<Ra[Ea]&&(T=Ra[Ea]);for(Ea=Fb;Ea<mb;Ea+=kb)Ra[Ea]=T+Ob[Fb-1]}else if("all"===xa){for(Ea=T=0;Ea<mb;++Ea)Ea%
kb&&T<Ra[Ea]&&(T=Ra[Ea]);for(Ea=0;Ea<mb;++Ea)Ea%kb&&(Ra[Ea]=T+mc)}else for(xa=!1,Fb=1;Fb<kb;++Fb)for(Ea=Fb;Ea<mb;Ea+=kb)Ra[Ea]+=Ob[Fb-1];if("each"===R)for(Xb=1;Xb<Za;++Xb){T=0;Ea=Xb*kb;for(Fb=Ea+kb;Ea<Fb;++Ea)T<Lc[Ea]&&(T=Lc[Ea]);for(Ea=Xb*kb;Ea<Fb;++Ea)Lc[Ea]=T+wc[Xb-1]}else if("all"===R){T=0;for(Ea=kb;Ea<mb;++Ea)T<Lc[Ea]&&(T=Lc[Ea]);for(Ea=kb;Ea<mb;++Ea)Lc[Ea]=T+tc}else for(R=!1,Xb=1;Xb<Za;++Xb)for(Ea=Xb*kb,Fb=Ea+kb;Ea<Fb;++Ea)Lc[Ea]+=wc[Xb-1];for(Ea=Xb=0;Ea<mb;++Ea)Xb=Ra[Ea]+(Ea%kb?Xb:0),jc[Ea]+=
Xb-L[Ea].x;for(Fb=0;Fb<kb;++Fb)for(Ra=0,Ea=Fb;Ea<mb;Ea+=kb)Ra+=Lc[Ea],Sc[Ea]+=Ra-L[Ea].y;if(xa&&Xa(X.center,"column")&&1<Za)for(Ea=0;Ea<mb;++Ea)Wb="all"===xa?mc:Ob[Ea%kb],Xb=Wb-Ta[Ea].x2-L[Ea].x-jc[Ea],0<Xb&&(jc[Ea]+=Xb/2);if(R&&Xa(X.center,"row")&&1!==kb)for(Ea=0;Ea<mb;++Ea)Wb="all"===R?tc:wc[~~(Ea/kb)],Ra=Wb-Ta[Ea].y2-L[Ea].y-Sc[Ea],0<Ra&&(Sc[Ea]+=Ra/2);for(Ea=0;Ea<mb;++Ea)la.union(Ta[Ea].translate(jc[Ea],Sc[Ea]));Xb=Xa(X.anchor,"x");Ra=Xa(X.anchor,"y");switch(Xa(X.anchor,"column")){case "end":Xb-=
la.width();break;case "middle":Xb-=la.width()/2}switch(Xa(X.anchor,"row")){case "end":Ra-=la.height();break;case "middle":Ra-=la.height()/2}Xb=Math.round(Xb);Ra=Math.round(Ra);la.clear();for(Ea=0;Ea<mb;++Ea)L[Ea].mark.bounds.clear();for(Ea=0;Ea<mb;++Ea)Fb=L[Ea],Fb.x+=jc[Ea]+=Xb,Fb.y+=Sc[Ea]+=Ra,la.union(Fb.mark.bounds.union(Fb.bounds.translate(jc[Ea],Sc[Ea]))),qa&&z.dirty(Fb);return la}function Aa(z,L){return"x1"===L?z.x||0:"y1"===L?z.y||0:"x2"===L?(z.x||0)+(z.width||0):"y2"===L?(z.y||0)+(z.height||
0):void 0}function Ha(z,L){return z.bounds[L]}function bb(z,L,X,qa,T,la,xa,R,ka,Ka,kb,Za,mb,Ra){var Ob=X.length,mc=qa=0,Lc,wc;if(!Ob)return qa;for(Lc=kb;Lc<Ob;Lc+=Za)X[Lc]&&(qa=xa(qa,ka(X[Lc],Ka)));if(!L.length)return qa;L.length>T&&(z.warn("Grid headers exceed limit: "+T),L=L.slice(0,T));qa+=la;T=0;for(la=L.length;T<la;++T)z.dirty(L[T]),L[T].mark.bounds.clear();Lc=kb;T=0;for(la=L.length;T<la;++T,Lc+=Za){ka=L[T];kb=ka.mark.bounds;for(Ob=Lc;0<=Ob&&null==(wc=X[Ob]);Ob-=mb);if(R){Ob=null==Ra?wc.x:Math.round(wc.bounds.x1+
Ra*wc.bounds.width());var tc=qa}else Ob=qa,tc=null==Ra?wc.y:Math.round(wc.bounds.y1+Ra*wc.bounds.height());kb.union(ka.bounds.translate(Ob-(ka.x||0),tc-(ka.y||0)));ka.x=Ob;ka.y=tc;z.dirty(ka);mc=xa(mc,kb[Ka])}return mc}function $a(z,L,X,qa,T,la){if(L){z.dirty(L);var xa=X;qa?xa=Math.round(T.x1+la*T.width()):X=Math.round(T.y1+la*T.height());L.bounds.translate(xa-(L.x||0),X-(L.y||0));L.mark.bounds.clear().union(L.bounds);L.x=xa;L.y=X;z.dirty(L)}}function Ca(z,L){const X=z[L]||{};return(qa,T)=>null!=
X[qa]?X[qa]:null!=z[qa]?z[qa]:T}function Cb(z,L){let X=-Infinity;z.forEach(qa=>{null!=qa.offset&&(X=Math.max(X,qa.offset))});return-Infinity<X?X:L}function xb(z,L,X,qa,T,la,xa){const R=Ca(X,L);X=Cb(z,R("offset",0));const ka=R("anchor","start"),Ka="end"===ka?1:"middle"===ka?.5:0;z={align:"each",bounds:R("bounds","flush"),columns:"vertical"===R("direction")?1:z.length,padding:R("margin",8),center:R("center"),nodirty:!0};switch(L){case "left":z.anchor={x:Math.floor(qa.x1)-X,column:"end",y:Ka*(xa||qa.height()+
2*qa.y1),row:ka};break;case "right":z.anchor={x:Math.ceil(qa.x2)+X,y:Ka*(xa||qa.height()+2*qa.y1),row:ka};break;case "top":z.anchor={y:Math.floor(T.y1)-X,row:"end",x:Ka*(la||T.width()+2*T.x1),column:ka};break;case "bottom":z.anchor={y:Math.ceil(T.y2)+X,x:Ka*(la||T.width()+2*T.x1),column:ka};break;case "top-left":z.anchor={x:X,y:X};break;case "top-right":z.anchor={x:la-X,y:X,column:"end"};break;case "bottom-left":z.anchor={x:X,y:xa-X,row:"end"};break;case "bottom-right":z.anchor={x:la-X,y:xa-X,column:"end",
row:"end"}}return z}function Mb(z,L){L=L.items[0];var X=L.datum,qa=L.orient,T=L.bounds,la=L.x,xa=L.y;L._bounds?L._bounds.clear().union(T):L._bounds=T.clone();T.clear();var R=L.items[0].items[0];var ka=L.padding,Ka=ka-R.x,kb=ka-R.y;if(L.datum.title){var Za=L.items[1].items[0],mb=Za.anchor,Ra=L.titlePadding||0,Ob=ka-Za.x,mc=ka-Za.y;switch(Za.orient){case "left":Ka+=Math.ceil(Za.bounds.width())+Ra;break;case "right":case "bottom":break;default:kb+=Za.bounds.height()+Ra}(Ka||kb)&&ca(z,R,Ka,kb);switch(Za.orient){case "left":mc+=
pb(L,R,Za,mb,1,1);break;case "right":Ob+=pb(L,R,Za,"end",0,0)+Ra;mc+=pb(L,R,Za,mb,1,1);break;case "bottom":Ob+=pb(L,R,Za,mb,0,0);mc+=pb(L,R,Za,"end",-1,0,1)+Ra;break;default:Ob+=pb(L,R,Za,mb,0,0)}(Ob||mc)&&ca(z,Za,Ob,mc);0>(Ob=Math.round(Za.bounds.x1-ka))&&(ca(z,R,-Ob,0),ca(z,Za,-Ob,0))}else(Ka||kb)&&ca(z,R,Ka,kb);T=kc(L,T);z=2*L.padding;R=2*L.padding;T.empty()||(z=Math.ceil(T.width()+z),R=Math.ceil(T.height()+R));"symbol"===X.type&&O(L.items[0].items[0].items[0].items);"none"!==qa&&(L.x=la=0,L.y=
xa=0);L.width=z;L.height=R;M.boundStroke(T.set(la,xa,la+z,xa+R),L);L.mark.bounds.clear().union(T);return L}function kc(z,L){z.items.forEach(X=>L.union(X.bounds));L.x1=z.padding;L.y1=z.padding;return L}function pb(z,L,X,qa,T,la,xa){const R=X.datum.vgrad;z=("symbol"===z.datum.type||!la&&R||xa?L:L.items[0]).bounds[T?"y2":"x2"]-z.padding;L=R&&la?z:0;la=R&&la?0:z;X=0>=T?0:M.multiLineOffset(X);return Math.round("start"===qa?L:"end"===qa?la-X:.5*(z-X))}function ca(z,L,X,qa){L.x+=X;L.y+=qa;L.bounds.translate(X,
qa);L.mark.bounds.translate(X,qa);z.dirty(L)}function O(z){const L=z.reduce((X,qa)=>{X[qa.column]=Math.max(qa.bounds.x2-qa.x,X[qa.column]||0);return X},{});z.forEach(X=>{X.width=L[X.column];X.height=X.bounds.y2-X.y})}function oa(z,L,X,qa,T){var la=L.items[0],xa=la.orient,R=la.anchor,ka=la.offset,Ka=la.padding,kb=la.items[0].items[0],Za=la.items[1]&&la.items[1].items[0],mb="left"===xa||"right"===xa?qa:X,Ra=0,Ob=X=0;"group"!==la.frame?"left"===xa?(Ra=T.y2,mb=T.y1):"right"===xa?(Ra=T.y1,mb=T.y2):(Ra=
T.x1,mb=T.x2):"left"===xa&&(Ra=qa,mb=0);qa="start"===R?Ra:"end"===R?mb:(Ra+mb)/2;if(Za&&Za.text){switch(xa){case "top":case "bottom":Ob=kb.bounds.height()+Ka;break;case "left":X=kb.bounds.width()+Ka;break;case "right":X=-kb.bounds.width()-Ka}V.clear().union(Za.bounds);V.translate(X-(Za.x||0),Ob-(Za.y||0));Ba(Za,"x",X)|Ba(Za,"y",Ob)&&(z.dirty(Za),Za.bounds.clear().union(V),Za.mark.bounds.clear().union(V),z.dirty(Za));V.clear().union(Za.bounds)}else V.clear();V.union(kb.bounds);switch(xa){case "top":xa=
qa;T=T.y1-V.height()-ka;break;case "left":xa=T.x1-V.width()-ka;T=qa;break;case "right":xa=T.x2+V.width()+ka;T=qa;break;case "bottom":xa=qa;T=T.y2+ka;break;default:xa=la.x,T=la.y}Ba(la,"x",xa)|Ba(la,"y",T)&&(V.translate(xa,T),z.dirty(la),la.bounds.clear().union(V),L.bounds.clear().union(V),z.dirty(la));return la.bounds}function ra(z){l.Transform.call(this,null,z)}function Oa(z){return z&&"legend-entry"!==z.mark.role}function ya(z,L,X){var qa=L.items,T=Math.max(0,L.width||0),la=Math.max(0,L.height||
0),xa=(new M.Bounds).set(0,0,T,la),R=xa.clone(),ka=xa.clone(),Ka=[],kb,Za;var mb=0;for(Za=qa.length;mb<Za;++mb){var Ra=qa[mb];switch(Ra.role){case "axis":var Ob=jb(Ra)?R:ka;Ob.union(yb(z,Ra,T,la));break;case "title":var mc=Ra;break;case "legend":Ka.push(Mb(z,Ra));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":R.union(Ra.bounds);ka.union(Ra.bounds);break;default:xa.union(Ra.bounds)}}if(Ka.length){const Lc=
{};Ka.forEach(wc=>{kb=wc.orient||"right";"none"!==kb&&(Lc[kb]||(Lc[kb]=[])).push(wc)});for(const wc in Lc)qa=Lc[wc],pa(z,qa,xb(qa,wc,X.legends,R,ka,T,la));Ka.forEach(wc=>{const tc=wc.bounds;tc.equals(wc._bounds)||(wc.bounds=wc._bounds,z.dirty(wc),wc.bounds=tc,z.dirty(wc));if(X.autosize&&"fit"===X.autosize.type)switch(wc.orient){case "left":case "right":xa.add(tc.x1,0).add(tc.x2,0);break;case "top":case "bottom":xa.add(0,tc.y1).add(0,tc.y2)}else xa.union(tc)})}xa.union(R).union(ka);mc&&xa.union(oa(z,
mc,T,la,xa));L.clip&&xa.set(0,0,L.width||0,L.height||0);va(z,L,xa,X)}function va(z,L,X,qa){qa=qa.autosize||{};const T=qa.type;if(!(1>z._autosize)&&T){var la=z._width,xa=z._height,R=Math.max(0,L.width||0),ka=Math.max(0,Math.ceil(-X.x1));L=Math.max(0,L.height||0);var Ka=Math.max(0,Math.ceil(-X.y1)),kb=Math.max(0,Math.ceil(X.x2-R));X=Math.max(0,Math.ceil(X.y2-L));if("padding"===qa.contains){const Za=z.padding();la-=Za.left+Za.right;xa-=Za.top+Za.bottom}"none"===T?(Ka=ka=0,R=la,L=xa):"fit"===T?(R=Math.max(0,
la-ka-kb),L=Math.max(0,xa-Ka-X)):"fit-x"===T?(R=Math.max(0,la-ka-kb),xa=L+Ka+X):"fit-y"===T?(la=R+ka+kb,L=Math.max(0,xa-Ka-X)):"pad"===T&&(la=R+ka+kb,xa=L+Ka+X);z._resizeView(la,xa,R,L,[ka,Ka],qa.resize)}}cb.inherits(zb,l.Transform,{transform(z,L){const X=L.dataflow,qa=z.mark,T=qa.marktype,la=M.Marks[T],xa=la.bound;let R=qa.bounds,ka;if(la.nested)qa.items.length&&X.dirty(qa.items[0]),R=Zb(qa,xa),qa.items.forEach(Ka=>{Ka.bounds.clear().union(R)});else if("group"===T||z.modified())switch(L.visit(L.MOD,
Ka=>X.dirty(Ka)),R.clear(),qa.items.forEach(Ka=>R.union(Zb(Ka,xa))),qa.role){case "axis":case "legend":case "title":L.reflow()}else ka=L.changed(L.REM),L.visit(L.ADD,Ka=>{R.union(Zb(Ka,xa))}),L.visit(L.MOD,Ka=>{ka=ka||R.alignsWith(Ka.bounds);X.dirty(Ka);R.union(Zb(Ka,xa))}),ka&&(R.clear(),qa.items.forEach(Ka=>R.union(Ka.bounds)));M.boundClip(qa);return L.modifies("bounds")}});gc.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};cb.inherits(gc,l.Transform,
{transform(z,L){const X=nc(L.dataflow),qa=z.as;let T=X.value;L.visit(L.ADD,la=>la[qa]=la[qa]||++T);X.set(this.value=T);return L}});cb.inherits(Tb,l.Transform,{transform(z,L){let X=this.value;X||(X=L.dataflow.scenegraph().mark(z.markdef,Gb(z),z.index),X.group.context=z.context,z.context.group||(z.context.group=X.group),X.source=this.source,X.clip=z.clip,X.interactive=z.interactive,this.value=X);const qa="group"===X.marktype?M.GroupItem:M.Item;L.visit(L.ADD,T=>qa.call(T,X));if(z.modified("clip")||z.modified("interactive"))X.clip=
z.clip,X.interactive=!!z.interactive,X.zdirty=!0,L.reflow();X.items=L.source;return L}});const m={parity:z=>z.filter((L,X)=>X%2?L.opacity=0:1),greedy:(z,L)=>{let X;return z.filter((qa,T)=>T&&G(X.bounds,qa.bounds,L)?qa.opacity=0:(X=qa,1))}},G=(z,L,X)=>X>Math.max(L.x1-z.x2,z.x1-L.x2,L.y1-z.y2,z.y1-L.y2),Q=(z,L)=>{for(var X=1,qa=z.length,T=z[0].bounds;X<qa;++X)if(G(T,T=z[X].bounds,L))return!0},y=z=>{z=z.bounds;return 1<z.width()&&1<z.height()},t=(z,L,X)=>{z=z.range();var qa=new M.Bounds;"top"===L||"bottom"===
L?qa.set(z[0],-Infinity,z[1],Infinity):qa.set(-Infinity,z[0],Infinity,z[1]);qa.expand(X||1);return T=>qa.encloses(T.bounds)},H=z=>{z.forEach(L=>L.opacity=1);return z};cb.inherits(Db,l.Transform,{transform(z,L){const X=m[z.method]||m.parity,qa=z.separation||0;let T=L.materialize(L.SOURCE).source,la,xa;if(T&&T.length){if(!z.method)return z.modified("method")&&(H(T),L=L.reflow(z.modified()).modifies("opacity")),L;T=T.filter(y);if(T.length){z.sort&&(T=T.slice().sort(z.sort));la=H(T);L=L.reflow(z.modified()).modifies("opacity");
if(3<=la.length&&Q(la,qa)){do la=X(la,qa);while(3<=la.length&&Q(la,qa));3>la.length&&!cb.peek(T).opacity&&(1<la.length&&(cb.peek(la).opacity=0),cb.peek(T).opacity=1)}z.boundScale&&0<=z.boundTolerance&&(xa=t(z.boundScale,z.boundOrient,+z.boundTolerance),T.forEach(ka=>{xa(ka)||(ka.opacity=0)}));var R=la[0].mark.bounds.clear();T.forEach(ka=>{ka.opacity&&R.union(ka.bounds)});return L}}}});cb.inherits(fc,l.Transform,{transform(z,L){const X=L.dataflow;L.visit(L.ALL,qa=>X.dirty(qa));L.fields&&L.fields.zindex&&
(z=L.source&&L.source[0])&&(z.mark.zdirty=!0)}});const V=new M.Bounds,E=(z,L)=>Math.floor(Math.min(z,L)),K=(z,L)=>Math.ceil(Math.max(z,L));cb.inherits(ra,l.Transform,{transform(z,L){const X=L.dataflow;z.mark.items.forEach(qa=>{if(z.layout){var T=z.layout;var la=qa.items;for(var xa=la.length,R=0,ka,Ka,kb={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};R<xa;++R)if(ka=la[R],Ka=ka.items,"group"===ka.marktype)switch(ka.role){case "axis":case "legend":case "title":break;
case "row-header":kb.rowheaders.push(...Ka);break;case "row-footer":kb.rowfooters.push(...Ka);break;case "column-header":kb.colheaders.push(...Ka);break;case "column-footer":kb.colfooters.push(...Ka);break;case "row-title":kb.rowtitle=Ka[0];break;case "column-title":kb.coltitle=Ka[0];break;default:kb.marks.push(...Ka)}la=kb;Ka=la.marks;kb="flush"===T.bounds?Aa:Ha;xa=T.offset;var Za=T.columns||Ka.length,mb=0>=Za?1:Math.ceil(Ka.length/Za),Ra=mb*Za;R=pa(X,Ka,T);R.empty()&&R.set(0,0,0,0);if(la.rowheaders){ka=
Xa(T.headerBand,"row",null);var Ob=bb(X,la.rowheaders,Ka,Za,mb,-Xa(xa,"rowHeader"),E,0,kb,"x1",0,Za,1,ka)}if(la.colheaders){ka=Xa(T.headerBand,"column",null);var mc=bb(X,la.colheaders,Ka,Za,Za,-Xa(xa,"columnHeader"),E,1,kb,"y1",0,1,Za,ka)}if(la.rowfooters){ka=Xa(T.footerBand,"row",null);var Lc=bb(X,la.rowfooters,Ka,Za,mb,Xa(xa,"rowFooter"),K,0,kb,"x2",Za-1,Za,1,ka)}if(la.colfooters){ka=Xa(T.footerBand,"column",null);var wc=bb(X,la.colfooters,Ka,Za,Za,Xa(xa,"columnFooter"),K,1,kb,"y2",Ra-Za,1,Za,ka)}la.rowtitle&&
(ka=Xa(T.titleAnchor,"row"),Ka=Xa(xa,"rowTitle"),Ka="end"===ka?Lc+Ka:Ob-Ka,ka=Xa(T.titleBand,"row",.5),$a(X,la.rowtitle,Ka,0,R,ka));la.coltitle&&(ka=Xa(T.titleAnchor,"column"),Ka=Xa(xa,"columnTitle"),Ka="end"===ka?wc+Ka:mc-Ka,ka=Xa(T.titleBand,"column",.5),$a(X,la.coltitle,Ka,1,R,ka))}ya(X,qa,z)});return Oa(z.mark.group)?L.reflow():L}});x.bound=zb;x.identifier=gc;x.mark=Tb;x.overlap=Db;x.render=fc;x.viewlayout=ra;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[35]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(28),vb(32),vb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega,x.vega))})(this,function(x,l,M,cb){function zb(w){l.Transform.call(this,null,w)}function Zb(w){l.Transform.call(this,null,w)}function gc(){return l.ingest({})}function nc(w){const C=cb.fastmap().test(aa=>
aa.exit);C.lookup=aa=>C.get(w(aa));return C}function Tb(w){l.Transform.call(this,null,w)}function Gb(w){l.Transform.call(this,[],w)}function Db(w){l.Transform.call(this,{},w)}function fc(w,C,aa){w=+w;C=+C;aa=2>(za=arguments.length)?(C=w,w=0,1):3>za?1:+aa;for(var fa=-1,za=Math.max(0,Math.ceil((C-w)/aa))|0,eb=Array(za);++fa<za;)eb[fa]=w+fa*aa;return eb}function Ba(w,C){let aa=0;if(void 0===C)for(var fa of w){if(fa=+fa)aa+=fa}else{fa=-1;for(let za of w)if(za=+C(za,++fa,w))aa+=za}return aa}function jb(w){l.Transform.call(this,
null,w)}function yb(w,C,aa){w.prototype=C.prototype=aa;aa.constructor=w}function Ab(w,C){w=Object.create(w.prototype);for(var aa in C)w[aa]=C[aa];return w}function Pa(){}function Va(){return this.rgb().formatHex()}function Xa(){return this.rgb().formatRgb()}function Fa(w){var C,aa;w=(w+"").trim().toLowerCase();return(C=tc.exec(w))?(aa=C[1].length,C=parseInt(C[1],16),6===aa?pa(C):3===aa?new bb(C>>8&15|C>>4&240,C>>4&15|C&240,(C&15)<<4|C&15,1):8===aa?Aa(C>>24&255,C>>16&255,C>>8&255,(C&255)/255):4===
aa?Aa(C>>12&15|C>>8&240,C>>8&15|C>>4&240,C>>4&15|C&240,((C&15)<<4|C&15)/255):null):(C=jc.exec(w))?new bb(C[1],C[2],C[3],1):(C=Sc.exec(w))?new bb(255*C[1]/100,255*C[2]/100,255*C[3]/100,1):(C=Ta.exec(w))?Aa(C[1],C[2],C[3],C[4]):(C=Ea.exec(w))?Aa(255*C[1]/100,255*C[2]/100,255*C[3]/100,C[4]):(C=ob.exec(w))?xb(C[1],C[2]/100,C[3]/100,1):(C=lb.exec(w))?xb(C[1],C[2]/100,C[3]/100,C[4]):Fb.hasOwnProperty(w)?pa(Fb[w]):"transparent"===w?new bb(NaN,NaN,NaN,0):null}function pa(w){return new bb(w>>16&255,w>>8&255,
w&255,1)}function Aa(w,C,aa,fa){0>=fa&&(w=C=aa=NaN);return new bb(w,C,aa,fa)}function Ha(w,C,aa,fa){if(1===arguments.length){var za=w;za instanceof Pa||(za=Fa(za));za?(za=za.rgb(),za=new bb(za.r,za.g,za.b,za.opacity)):za=new bb}else za=new bb(w,C,aa,null==fa?1:fa);return za}function bb(w,C,aa,fa){this.r=+w;this.g=+C;this.b=+aa;this.opacity=+fa}function $a(){return"#"+Cb(this.r)+Cb(this.g)+Cb(this.b)}function Ca(){var w=this.opacity;w=isNaN(w)?1:Math.max(0,Math.min(1,w));return(1===w?"rgb(":"rgba(")+
Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===w?")":", "+w+")")}function Cb(w){w=Math.max(0,Math.min(255,Math.round(w)||0));return(16>w?"0":"")+w.toString(16)}function xb(w,C,aa,fa){0>=fa?w=C=aa=NaN:0>=aa||1<=aa?w=C=NaN:0>=C&&(w=NaN);return new kc(w,C,aa,fa)}function Mb(w){if(w instanceof kc)return new kc(w.h,w.s,w.l,w.opacity);w instanceof Pa||(w=Fa(w));if(!w)return new kc;if(w instanceof
kc)return w;w=w.rgb();var C=w.r/255,aa=w.g/255,fa=w.b/255,za=Math.min(C,aa,fa),eb=Math.max(C,aa,fa),fb=NaN,ib=eb-za,Vb=(eb+za)/2;ib?(fb=C===eb?(aa-fa)/ib+6*(aa<fa):aa===eb?(fa-C)/ib+2:(C-aa)/ib+4,ib/=.5>Vb?eb+za:2-eb-za,fb*=60):ib=0<Vb&&1>Vb?0:fb;return new kc(fb,ib,Vb,w.opacity)}function kc(w,C,aa,fa){this.h=+w;this.s=+C;this.l=+aa;this.opacity=+fa}function pb(w,C,aa){return 255*(60>w?C+(aa-C)*w/60:180>w?aa:240>w?C+(aa-C)*(240-w)/60:C)}function ca(w,C){return function(aa){return w+aa*C}}function O(w,
C,aa){return w=Math.pow(w,aa),C=Math.pow(C,aa)-w,aa=1/aa,function(fa){return Math.pow(w+fa*C,aa)}}function oa(w){return 1===(w=+w)?ra:function(C,aa){return aa-C?O(C,aa,w):Wb(isNaN(C)?aa:C)}}function ra(w,C){var aa=C-w;return aa?ca(w,aa):Wb(isNaN(w)?C:w)}function Oa(w,C){C||(C=[]);var aa=w?Math.min(C.length,w.length):0,fa=C.slice(),za;return function(eb){for(za=0;za<aa;++za)fa[za]=w[za]*(1-eb)+C[za]*eb;return fa}}function ya(w,C){var aa=C?C.length:0,fa=w?Math.min(aa,w.length):0,za=Array(fa),eb=Array(aa),
fb;for(fb=0;fb<fa;++fb)za[fb]=H(w[fb],C[fb]);for(;fb<aa;++fb)eb[fb]=C[fb];return function(ib){for(fb=0;fb<fa;++fb)eb[fb]=za[fb](ib);return eb}}function va(w,C){var aa=new Date;return w=+w,C=+C,function(fa){return aa.setTime(w*(1-fa)+C*fa),aa}}function m(w,C){return w=+w,C=+C,function(aa){return w*(1-aa)+C*aa}}function G(w,C){var aa={},fa={},za;if(null===w||"object"!==typeof w)w={};if(null===C||"object"!==typeof C)C={};for(za in C)za in w?aa[za]=H(w[za],C[za]):fa[za]=C[za];return function(eb){for(za in aa)fa[za]=
aa[za](eb);return fa}}function Q(w){return function(){return w}}function y(w){return function(C){return w(C)+""}}function t(w,C){var aa=ic.lastIndex=xc.lastIndex=0,fa,za,eb,fb=-1,ib=[],Vb=[];w+="";for(C+="";(fa=ic.exec(w))&&(za=xc.exec(C));)(eb=za.index)>aa&&(eb=C.slice(aa,eb),ib[fb]?ib[fb]+=eb:ib[++fb]=eb),(fa=fa[0])===(za=za[0])?ib[fb]?ib[fb]+=za:ib[++fb]=za:(ib[++fb]=null,Vb.push({i:fb,x:m(fa,za)})),aa=xc.lastIndex;aa<C.length&&(eb=C.slice(aa),ib[fb]?ib[fb]+=eb:ib[++fb]=eb);return 2>ib.length?
Vb[0]?y(Vb[0].x):Q(C):(C=Vb.length,function(oc){for(var qc=0,Dc;qc<C;++qc)ib[(Dc=Vb[qc]).i]=Dc.x(oc);return ib.join("")})}function H(w,C){var aa=typeof C;if(null==C||"boolean"===aa)w=Wb(C);else{if("number"===aa)var fa=m;else"string"===aa?aa=(fa=Fa(C))?(C=fa,Xb):t:(C instanceof Fa?fa=Xb:C instanceof Date?fa=va:(fa=C,fa=!ArrayBuffer.isView(fa)||fa instanceof DataView?Array.isArray(C)?ya:"function"!==typeof C.valueOf&&"function"!==typeof C.toString||isNaN(C)?G:m:Oa),aa=fa),fa=aa;w=fa(w,C)}return w}function V(w,
C){return w=+w,C=+C,function(aa){return Math.round(w*(1-aa)+C*aa)}}function E(w){return M.isContinuous(w)&&w!==M.Sequential}function K(w){l.Transform.call(this,null,w);this.modified(!0)}function z(w,C,aa){M.isLogarithmic(w)&&Math.abs(C.reduce((fa,za)=>fa+(0>za?-1:0<za?1:0),0))!==C.length&&aa.warn("Log scale domain includes zero: "+cb.stringValue(C));return C}function L(w,C,aa){return cb.isFunction(w)&&(C||aa)?M.interpolateRange(w,X(C||[0,1],aa)):w}function X(w,C){return C?w.slice().reverse():w}function qa(w){l.Transform.call(this,
null,w)}function T(w){l.Transform.call(this,null,w)}function la(w,C,aa,fa,za){C=(C-w.sum)/2;for(var eb=w.length,fb=0,ib;fb<eb;++fb)ib=w[fb],ib[fa]=C,ib[za]=C+=Math.abs(aa(ib))}function xa(w,C,aa,fa,za){C=1/w.sum;for(var eb=0,fb=w.length,ib=0,Vb=0,oc;ib<fb;++ib)oc=w[ib],oc[fa]=eb,oc[za]=eb=C*(Vb+=Math.abs(aa(oc)))}function R(w,C,aa,fa,za){for(var eb=C=0,fb=w.length,ib=0,Vb,oc;ib<fb;++ib)oc=w[ib],Vb=+aa(oc),0>Vb?(oc[fa]=eb,oc[za]=eb+=Vb):(oc[fa]=C,oc[za]=C+=Vb)}function ka(w,C,aa,fa){var za=[],eb=Fc=>
Fc(oc),fb;if(null==C)za.push(w.slice());else{var ib={};var Vb=0;for(fb=w.length;Vb<fb;++Vb){var oc=w[Vb];var qc=C.map(eb);var Dc=ib[qc];Dc||(ib[qc]=Dc=[],za.push(Dc));Dc.push(oc)}}eb=qc=0;for(w=za.length;qc<w;++qc){Dc=za[qc];C=Vb=0;for(fb=Dc.length;Vb<fb;++Vb)C+=Math.abs(fa(Dc[Vb]));Dc.sum=C;C>eb&&(eb=C);aa&&Dc.sort(aa)}za.max=eb;return za}cb.inherits(zb,l.Transform,{transform(w,C){if(this.value&&!w.modified())return C.StopPropagation;var aa=C.dataflow.locale();C=C.fork(C.NO_SOURCE|C.NO_FIELDS);var fa=
this.value,za=w.scale,eb=M.tickCount(za,null==w.count?w.values?w.values.length:10:w.count,w.minstep),fb=w.format||M.tickFormat(aa,za,eb,w.formatSpecifier,w.formatType,!!w.values),ib=w.values?M.validTicks(za,w.values,eb):M.tickValues(za,eb);fa&&(C.rem=fa);fa=ib.map((Vb,oc)=>l.ingest({index:oc/(ib.length-1||1),value:Vb,label:fb(Vb)}));w.extra&&fa.length&&fa.push(l.ingest({index:-1,extra:{value:fa[0].value},label:""}));C.source=fa;this.value=C.add=fa;return C}});cb.inherits(Zb,l.Transform,{transform(w,
C){var aa=C.dataflow,fa=C.fork(C.NO_SOURCE|C.NO_FIELDS),za=w.item||gc,eb=w.key||l.tupleid,fb=this.value;cb.isArray(fa.encode)&&(fa.encode=null);fb&&(w.modified("key")||C.modified(eb))&&cb.error("DataJoin does not support modified key function or fields.");fb||(C=C.addAll(),this.value=fb=nc(eb));C.visit(C.ADD,ib=>{const Vb=eb(ib);let oc=fb.get(Vb);oc?oc.exit?(fb.empty--,fa.add.push(oc)):fa.mod.push(oc):(oc=za(ib),fb.set(Vb,oc),fa.add.push(oc));oc.datum=ib;oc.exit=!1});C.visit(C.MOD,ib=>{var Vb=eb(ib);
if(Vb=fb.get(Vb))Vb.datum=ib,fa.mod.push(Vb)});C.visit(C.REM,ib=>{var Vb=eb(ib);Vb=fb.get(Vb);ib!==Vb.datum||Vb.exit||(fa.rem.push(Vb),Vb.exit=!0,++fb.empty)});C.changed(C.ADD_MOD)&&fa.modifies("datum");(C.clean()||w.clean&&fb.empty>aa.cleanThreshold)&&aa.runAfter(fb.clean);return fa}});cb.inherits(Tb,l.Transform,{transform(w,C){var aa=C.fork(C.ADD_REM),fa=w.mod||!1,za=w.encoders,eb=C.encode;if(cb.isArray(eb))if(aa.changed()||eb.every(Dc=>za[Dc]))eb=eb[0],aa.encode=null;else return C.StopPropagation;
var fb="enter"===eb,ib=za.update||cb.falsy,Vb=za.enter||cb.falsy,oc=za.exit||cb.falsy,qc=(eb&&!fb?za[eb]:ib)||cb.falsy;C.changed(C.ADD)&&(C.visit(C.ADD,Dc=>{Vb(Dc,w);ib(Dc,w)}),aa.modifies(Vb.output),aa.modifies(ib.output),qc!==cb.falsy&&qc!==ib&&(C.visit(C.ADD,Dc=>{qc(Dc,w)}),aa.modifies(qc.output)));C.changed(C.REM)&&oc!==cb.falsy&&(C.visit(C.REM,Dc=>{oc(Dc,w)}),aa.modifies(oc.output));if(fb||qc!==cb.falsy)eb=C.MOD|(w.modified()?C.REFLOW:0),fb?(C.visit(eb,Dc=>{const Fc=Vb(Dc,w)||fa;(qc(Dc,w)||Fc)&&
aa.mod.push(Dc)}),aa.mod.length&&aa.modifies(Vb.output)):C.visit(eb,Dc=>{(qc(Dc,w)||fa)&&aa.mod.push(Dc)}),aa.mod.length&&aa.modifies(qc.output);return aa.changed()?aa:C.StopPropagation}});cb.inherits(Gb,l.Transform,{transform(w,C){if(null!=this.value&&!w.modified())return C.StopPropagation;var aa=C.dataflow.locale(),fa=C.fork(C.NO_SOURCE|C.NO_FIELDS),za=this.value,eb=w.type||M.SymbolLegend,fb=w.scale,ib=+w.limit,Vb=M.tickCount(fb,null==w.count?5:w.count,w.minstep),oc=!!w.values||eb===M.SymbolLegend,
qc=w.format||M.labelFormat(aa,fb,Vb,eb,w.formatSpecifier,w.formatType,oc),Dc=w.values||M.labelValues(fb,Vb),Fc;za&&(fa.rem=za);if(eb===M.SymbolLegend){if(ib&&Dc.length>ib){C.dataflow.warn("Symbol legend count exceeds limit, filtering items.");za=Dc.slice(0,ib-1);var Zc=!0}else za=Dc;if(cb.isFunction(Fc=w.size)){w.values||0!==fb(za[0])||(za=za.slice(1));var xd=za.reduce((Ad,Dd)=>Math.max(Ad,Fc(Dd,w)),0)}else Fc=cb.constant(xd=Fc||8);za=za.map((Ad,Dd)=>l.ingest({index:Dd,label:qc(Ad,Dd,za),value:Ad,
offset:xd,size:Fc(Ad,w)}));Zc&&(Zc=Dc[za.length],za.push(l.ingest({index:za.length,label:`\u2026${Dc.length-za.length} entries`,value:Zc,offset:xd,size:Fc(Zc,w)})))}else if(eb===M.GradientLegend){C=fb.domain();var Hd=M.scaleFraction(fb,C[0],cb.peek(C));3>Dc.length&&!w.values&&C[0]!==cb.peek(C)&&(Dc=[C[0],cb.peek(C)]);za=Dc.map((Ad,Dd)=>l.ingest({index:Dd,label:qc(Ad,Dd,Dc),value:Ad,perc:Hd(Ad)}))}else Fc=Dc.length-1,Hd=M.labelFraction(fb),za=Dc.map((Ad,Dd)=>l.ingest({index:Dd,label:qc(Ad,Dd,Dc),value:Ad,
perc:Dd?Hd(Ad):0,perc2:Dd===Fc?1:Hd(Dc[Dd+1])}));fa.source=za;this.value=fa.add=za;return fa}});const Ka=w=>w.source.x,kb=w=>w.source.y,Za=w=>w.target.x,mb=w=>w.target.y;Db.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal",
"vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};cb.inherits(Db,l.Transform,{transform(w,C){var aa=w.sourceX||Ka,fa=w.sourceY||kb,za=w.targetX||Za,eb=w.targetY||mb,fb=w.as||"path",ib=w.shape||"line",Vb=Lc.get(ib+"-"+(w.orient||"vertical"))||Lc.get(ib);Vb||cb.error("LinkPath unsupported type: "+w.shape+(w.orient?"-"+w.orient:""));C.visit(C.SOURCE,oc=>{oc[fb]=
Vb(aa(oc),fa(oc),za(oc),eb(oc))});return C.reflow(w.modified()).modifies(fb)}});const Ra=(w,C,aa,fa)=>"M"+w+","+C+"L"+aa+","+fa,Ob=(w,C,aa,fa)=>{var za=aa-w,eb=fa-C,fb=Math.sqrt(za*za+eb*eb)/2;return"M"+w+","+C+"A"+fb+","+fb+" "+180*Math.atan2(eb,za)/Math.PI+" 0 1 "+aa+","+fa},mc=(w,C,aa,fa)=>{var za=aa-w;const eb=fa-C,fb=.2*(za+eb);za=.2*(eb-za);return"M"+w+","+C+"C"+(w+fb)+","+(C+za)+" "+(aa+za)+","+(fa-fb)+" "+aa+","+fa},Lc=cb.fastmap({line:Ra,"line-radial":(w,C,aa,fa)=>Ra(C*Math.cos(w),C*Math.sin(w),
fa*Math.cos(aa),fa*Math.sin(aa)),arc:Ob,"arc-radial":(w,C,aa,fa)=>Ob(C*Math.cos(w),C*Math.sin(w),fa*Math.cos(aa),fa*Math.sin(aa)),curve:mc,"curve-radial":(w,C,aa,fa)=>mc(C*Math.cos(w),C*Math.sin(w),fa*Math.cos(aa),fa*Math.sin(aa)),"orthogonal-horizontal":(w,C,aa,fa)=>"M"+w+","+C+"V"+fa+"H"+aa,"orthogonal-vertical":(w,C,aa,fa)=>"M"+w+","+C+"H"+aa+"V"+fa,"orthogonal-radial":(w,C,aa,fa)=>{const za=Math.cos(aa),eb=Math.sin(aa);return"M"+C*Math.cos(w)+","+C*Math.sin(w)+"A"+C+","+C+" 0 0,"+((Math.abs(aa-
w)>Math.PI?aa<=w:aa>w)?1:0)+" "+C*za+","+C*eb+"L"+fa*za+","+fa*eb},"diagonal-horizontal":(w,C,aa,fa)=>{const za=(w+aa)/2;return"M"+w+","+C+"C"+za+","+C+" "+za+","+fa+" "+aa+","+fa},"diagonal-vertical":(w,C,aa,fa)=>{const za=(C+fa)/2;return"M"+w+","+C+"C"+w+","+za+" "+aa+","+za+" "+aa+","+fa},"diagonal-radial":(w,C,aa,fa)=>{const za=Math.cos(w);w=Math.sin(w);const eb=Math.cos(aa);aa=Math.sin(aa);const fb=(C+fa)/2;return"M"+C*za+","+C*w+"C"+fb*za+","+fb*w+" "+fb*eb+","+fb*aa+" "+fa*eb+","+fa*aa}});
jb.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};cb.inherits(jb,l.Transform,{transform(w,C){var aa=w.as||["startAngle","endAngle"],fa=aa[0],za=aa[1],eb=w.startAngle||0,fb=null!=w.endAngle?w.endAngle:2*Math.PI,ib=C.source,Vb=ib.map(w.field||
cb.one),oc=Vb.length,qc=eb;eb=(fb-eb)/Ba(Vb);fb=fc(oc);var Dc;w.sort&&fb.sort((xd,Hd)=>Vb[xd]-Vb[Hd]);for(Dc=0;Dc<oc;++Dc){var Fc=Vb[fb[Dc]];var Zc=ib[fb[Dc]];Zc[fa]=qc;Zc[za]=qc+=Fc*eb}this.value=Vb;return C.reflow(w.modified()).modifies(aa)}});var wc=1/.7,tc=/^#([0-9a-f]{3,8})$/,jc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Sc=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Ta=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ea=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),ob=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
lb=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Fb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yb(Pa,Fa,{copy:function(w){return Object.assign(new this.constructor,this,w)},displayable:function(){return this.rgb().displayable()},hex:Va,formatHex:Va,formatHsl:function(){return Mb(this).formatHsl()},
formatRgb:Xa,toString:Xa});yb(bb,Ha,Ab(Pa,{brighter:function(w){w=null==w?wc:Math.pow(wc,w);return new bb(this.r*w,this.g*w,this.b*w,this.opacity)},darker:function(w){w=null==w?.7:Math.pow(.7,w);return new bb(this.r*w,this.g*w,this.b*w,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:$a,formatHex:$a,formatRgb:Ca,toString:Ca}));yb(kc,function(w,C,aa,fa){return 1===
arguments.length?Mb(w):new kc(w,C,aa,null==fa?1:fa)},Ab(Pa,{brighter:function(w){w=null==w?wc:Math.pow(wc,w);return new kc(this.h,this.s,this.l*w,this.opacity)},darker:function(w){w=null==w?.7:Math.pow(.7,w);return new kc(this.h,this.s,this.l*w,this.opacity)},rgb:function(){var w=this.h%360+360*(0>this.h),C=isNaN(w)||isNaN(this.s)?0:this.s,aa=this.l;C=aa+(.5>aa?aa:1-aa)*C;aa=2*aa-C;return new bb(pb(240<=w?w-240:w+120,aa,C),pb(w,aa,C),pb(120>w?w+240:w-120,aa,C),this.opacity)},displayable:function(){return(0<=
this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var w=this.opacity;w=isNaN(w)?1:Math.max(0,Math.min(1,w));return(1===w?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===w?")":", "+w+")")}}));var Wb=w=>()=>w,Xb=function aa(C){function fa(eb,fb){var ib=za((eb=Ha(eb)).r,(fb=Ha(fb)).r),Vb=za(eb.g,fb.g),oc=za(eb.b,fb.b),qc=ra(eb.opacity,fb.opacity);return function(Dc){eb.r=ib(Dc);eb.g=Vb(Dc);eb.b=oc(Dc);eb.opacity=
qc(Dc);return eb+""}}var za=oa(C);fa.gamma=aa;return fa}(1),ic=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xc=new RegExp(ic.source,"g");const kd=cb.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));cb.inherits(K,l.Transform,{transform(C,aa){var fa=aa.dataflow,za=this.value;var eb=C.type;var fb="";if(eb===M.Sequential)eb=M.Sequential+"-"+
M.Linear;else{var ib=C.type;M.isContinuous(ib)&&ib!==M.Time&&ib!==M.UTC&&(C.scheme||C.range&&C.range.length&&C.range.every(cb.isString))&&(fb=C.rawDomain?C.rawDomain.length:C.domain?C.domain.length+ +(null!=C.domainMid):0,fb=2===fb?M.Sequential+"-":3===fb?M.Diverging+"-":"");eb=(fb+eb||M.Linear).toLowerCase()}za&&eb===za.type||(this.value=za=M.scale(eb)());for(eb in C)kd[eb]||"padding"===eb&&E(za.type)||(cb.isFunction(za[eb])?za[eb](C[eb]):fa.warn("Unsupported scale property: "+eb));fb=eb=za;(ib=
C.domainRaw)?(za.domain(z(za.type,ib,fa)),ib=ib.length):ib=-1;if(-1<ib)fa=ib;else{var Vb=C.domain;ib=za.type;var oc;!(oc=C.zero)&&(oc=void 0===C.zero)&&(oc=za.type,oc=!za.bins&&(oc===M.Linear||oc===M.Pow||oc===M.Sqrt));if(Vb){if(E(ib)&&C.padding&&Vb[0]!==cb.peek(Vb)){var qc=C.range,Dc=C.padding;var Fc=C.exponent;var Zc=C.constant;qc=Math.abs(cb.peek(qc)-qc[0]);Dc=qc/(qc-2*Dc);Fc=ib===M.Log?cb.zoomLog(Vb,null,Dc):ib===M.Sqrt?cb.zoomPow(Vb,null,Dc,.5):ib===M.Pow?cb.zoomPow(Vb,null,Dc,Fc||1):ib===M.Symlog?
cb.zoomSymlog(Vb,null,Dc,Zc||1):cb.zoomLinear(Vb,null,Dc);Vb=Vb.slice();Vb[0]=Fc[0];Vb[Vb.length-1]=Fc[1]}if(oc||null!=C.domainMin||null!=C.domainMax||null!=C.domainMid)Fc=(Vb=Vb.slice()).length-1||1,oc&&(0<Vb[0]&&(Vb[0]=0),0>Vb[Fc]&&(Vb[Fc]=0)),null!=C.domainMin&&(Vb[0]=C.domainMin),null!=C.domainMax&&(Vb[Fc]=C.domainMax),null!=C.domainMid&&(oc=C.domainMid,Zc=oc>Vb[Fc]?Fc+1:oc<Vb[0]?0:Fc,Zc!==Fc&&fa.warn("Scale domainMid exceeds domain min or max.",oc),Vb.splice(Zc,0,oc));za.domain(z(ib,Vb,fa));
ib===M.Ordinal&&za.unknown(C.domainImplicit?M.scaleImplicit:void 0);C.nice&&za.nice&&za.nice(!0!==C.nice&&M.tickCount(za,C.nice)||null);fa=Vb.length}else fa=0}(ib=C.bins)&&!cb.isArray(ib)&&(oc=fb.domain(),za=oc[0],oc=cb.peek(oc),Vb=ib.step,Fc=null==ib.start?za:ib.start,ib=null==ib.stop?oc:ib.stop,Vb||cb.error("Scale bins parameter missing step property."),Fc<za&&(Fc=Vb*Math.ceil(za/Vb)),ib>oc&&(ib=Vb*Math.floor(oc/Vb)),ib=fc(Fc,ib+Vb/2,Vb));ib?fb.bins=ib:fb.bins&&delete fb.bins;fb.type===M.BinOrdinal&&
(ib?C.domain||C.domainRaw||(fb.domain(ib),fa=ib.length):fb.bins=fb.domain());za=fa;a:{fb=eb.type;fa=C.round||!1;ib=C.range;if(null!=C.rangeStep)fb!==M.Band&&fb!==M.Point&&cb.error("Only band and point scales support rangeStep."),ib=[0,C.rangeStep*M.bandSpace(za,fb===M.Point?1:(null!=C.paddingInner?C.paddingInner:C.padding)||0,(null!=C.paddingOuter?C.paddingOuter:C.padding)||0)];else if(C.scheme&&(ib=C.schemeExtent,cb.isArray(C.scheme)?oc=M.interpolateColors(C.scheme,C.interpolate,C.interpolateGamma):
(oc=C.scheme.toLowerCase(),(oc=M.scheme(oc))||cb.error(`Unrecognized scheme name: ${C.scheme}`)),za=fb===M.Threshold?za+1:fb===M.BinOrdinal?za-1:fb===M.Quantile||fb===M.Quantize?+C.schemeCount||5:za,ib=M.isInterpolating(fb)?L(oc,ib,C.reverse):cb.isFunction(oc)?M.quantizeInterpolator(L(oc,ib),za):fb===M.Ordinal?oc:oc.slice(0,za),cb.isFunction(ib)))if(eb.interpolator){eb.interpolator(ib);break a}else cb.error(`Scale type ${fb} does not support interpolating color schemes.`);ib&&M.isInterpolating(fb)?
eb.interpolator(M.interpolateColors(X(ib,C.reverse),C.interpolate,C.interpolateGamma)):(ib&&C.interpolate&&eb.interpolate?eb.interpolate(M.interpolate(C.interpolate,C.interpolateGamma)):cb.isFunction(eb.round)?eb.round(fa):cb.isFunction(eb.rangeRound)&&eb.interpolate(fa?V:H),ib&&eb.range(X(ib,C.reverse)))}return aa.fork(aa.NO_SOURCE|aa.NO_FIELDS)}});cb.inherits(qa,l.Transform,{transform(C,aa){const fa=C.modified("sort")||aa.changed(aa.ADD)||aa.modified(C.sort.fields)||aa.modified("datum");fa&&aa.source.sort(l.stableCompare(C.sort));
this.modified(fa);return aa}});const B=["y0","y1"];T.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":B}]};cb.inherits(T,l.Transform,{transform(C,aa){var fa=C.as||B,za=fa[0],eb=fa[1],fb=l.stableCompare(C.sort),ib=C.field||cb.one,Vb="center"===C.offset?la:"normalize"===
C.offset?xa:R,oc;fb=ka(aa.source,C.groupby,fb,ib);var qc=0;var Dc=fb.length;for(oc=fb.max;qc<Dc;++qc)Vb(fb[qc],oc,ib,za,eb);return aa.reflow(C.modified()).modifies(fa)}});x.axisticks=zb;x.datajoin=Zb;x.encode=Tb;x.legendentries=Gb;x.linkpath=Db;x.pie=jb;x.scale=K;x.sortitems=qa;x.stack=T;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[36]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab):"function"===typeof define&&define.amd?define(["exports"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={}))})(this,function(x){function*l(na){for(const La of na)yield*La}function M(na){return 1<na?0:-1>na?Fc:Math.acos(na)}function cb(na){return 1<na?Zc:-1>na?-Zc:Math.asin(na)}function zb(){}function Zb(na,La){if(na&&Sb.hasOwnProperty(na.type))Sb[na.type](na,La)}function gc(na,
La,Ya){var ub=-1;Ya=na.length-Ya;for(La.lineStart();++ub<Ya;){var n=na[ub];La.point(n[0],n[1],n[2])}La.lineEnd()}function nc(na,La){var Ya=-1,ub=na.length;for(La.polygonStart();++Ya<ub;)gc(na[Ya],La,1);La.polygonEnd()}function Tb(na,La){if(na&&ac.hasOwnProperty(na.type))ac[na.type](na,La);else Zb(na,La)}function Gb(na){return[ve(na[1],na[0]),cb(na[2])]}function Db(na){var La=na[0];na=na[1];var Ya=Sd(na);return[Ya*Sd(La),Ya*ta(La),ta(na)]}function fc(na,La){return na[0]*La[0]+na[1]*La[1]+na[2]*La[2]}
function Ba(na,La){return[na[1]*La[2]-na[2]*La[1],na[2]*La[0]-na[0]*La[2],na[0]*La[1]-na[1]*La[0]]}function jb(na,La){na[0]+=La[0];na[1]+=La[1];na[2]+=La[2]}function yb(na,La){return[na[0]*La,na[1]*La,na[2]*La]}function Ab(na){var La=qb(na[0]*na[0]+na[1]*na[1]+na[2]*na[2]);na[0]/=La;na[1]/=La;na[2]/=La}function Pa(na,La){function Ya(ub,n){return ub=na(ub,n),La(ub[0],ub[1])}na.invert&&La.invert&&(Ya.invert=function(ub,n){return ub=La.invert(ub,n),ub&&na.invert(ub[0],ub[1])});return Ya}function Va(na,
La){return[ed(na)>Fc?na+Math.round(-na/Hd)*Hd:na,La]}function Xa(na,La,Ya){return(na%=Hd)?La||Ya?Pa(pa(na),Aa(La,Ya)):pa(na):La||Ya?Aa(La,Ya):Va}function Fa(na){return function(La,Ya){return La+=na,[La>Fc?La-Hd:La<-Fc?La+Hd:La,Ya]}}function pa(na){var La=Fa(na);La.invert=Fa(-na);return La}function Aa(na,La){function Ya(Ja,Sa){var Ua=Sd(Sa),Pb=Sd(Ja)*Ua;Ja=ta(Ja)*Ua;Sa=ta(Sa);Ua=Sa*ub+Pb*n;return[ve(Ja*J-Ua*da,Pb*ub-Sa*n),cb(Ua*J+Ja*da)]}var ub=Sd(na),n=ta(na),J=Sd(La),da=ta(La);Ya.invert=function(Ja,
Sa){var Ua=Sd(Sa),Pb=Sd(Ja)*Ua;Ja=ta(Ja)*Ua;Sa=ta(Sa);Ua=Sa*J-Ja*da;return[ve(Ja*J+Sa*da,Pb*ub+Ua*n),cb(Ua*ub-Pb*n)]};return Ya}function Ha(na){function La(Ya){Ya=na(Ya[0]*Dd,Ya[1]*Dd);return Ya[0]*=Ad,Ya[1]*=Ad,Ya}na=Xa(na[0]*Dd,na[1]*Dd,2<na.length?na[2]*Dd:0);La.invert=function(Ya){Ya=na.invert(Ya[0]*Dd,Ya[1]*Dd);return Ya[0]*=Ad,Ya[1]*=Ad,Ya};return La}function bb(na,La){La=Db(La);La[0]-=na;Ab(La);na=M(-La[1]);return((0>-La[2]?-na:na)+Hd-1E-6)%Hd}function $a(){var na=[],La;return{point:function(Ya,
ub,n){La.push([Ya,ub,n])},lineStart:function(){na.push(La=[])},lineEnd:zb,rejoin:function(){1<na.length&&na.push(na.pop().concat(na.shift()))},result:function(){var Ya=na;na=[];La=null;return Ya}}}function Ca(na,La){return 1E-6>ed(na[0]-La[0])&&1E-6>ed(na[1]-La[1])}function Cb(na,La,Ya,ub){this.x=na;this.z=La;this.o=Ya;this.e=ub;this.v=!1;this.n=this.p=null}function xb(na,La,Ya,ub,n){var J=[],da=[];na.forEach(function(bc){if(!(0>=(Ub=bc.length-1))){var Ub,yc=bc[0],Rb=bc[Ub];if(Ca(yc,Rb)){if(!yc[2]&&
!Rb[2]){n.lineStart();for(Ja=0;Ja<Ub;++Ja)n.point((yc=bc[Ja])[0],yc[1]);n.lineEnd();return}Rb[0]+=2E-6}J.push(Ub=new Cb(yc,bc,null,!0));da.push(Ub.o=new Cb(yc,null,Ub,!1));J.push(Ub=new Cb(Rb,bc,null,!1));da.push(Ub.o=new Cb(Rb,null,Ub,!0))}});if(J.length){da.sort(La);Mb(J);Mb(da);var Ja=0;for(na=da.length;Ja<na;++Ja)da[Ja].e=Ya=!Ya;Ya=J[0];for(var Sa;;){for(var Ua=Ya,Pb=!0;Ua.v;)if((Ua=Ua.n)===Ya)return;La=Ua.z;n.lineStart();do{Ua.v=Ua.o.v=!0;if(Ua.e){if(Pb)for(Ja=0,na=La.length;Ja<na;++Ja)n.point((Sa=
La[Ja])[0],Sa[1]);else ub(Ua.x,Ua.n.x,1,n);Ua=Ua.n}else{if(Pb)for(La=Ua.p.z,Ja=La.length-1;0<=Ja;--Ja)n.point((Sa=La[Ja])[0],Sa[1]);else ub(Ua.x,Ua.p.x,-1,n);Ua=Ua.p}Ua=Ua.o;La=Ua.z;Pb=!Pb}while(!Ua.v);n.lineEnd()}}}function Mb(na){if(La=na.length){for(var La,Ya=0,ub=na[0],n;++Ya<La;)ub.n=n=na[Ya],n.p=ub,ub=n;ub.n=n=na[0];n.p=ub}}function kc(na){return ed(na[0])<=Fc?na[0]:Qa(na[0])*((ed(na[0])+Fc)%Hd-Fc)}function pb(na,La,Ya,ub){return function(n){function J(Mc,dd){na(Mc,dd)&&n.point(Mc,dd)}function da(Mc,
dd){Ub.point(Mc,dd)}function Ja(){hd.point=da;Ub.lineStart()}function Sa(){hd.point=J;Ub.lineEnd()}function Ua(Mc,dd){Md.push([Mc,dd]);Rb.point(Mc,dd)}function Pb(){Rb.lineStart();Md=[]}function bc(){Ua(Md[0][0],Md[0][1]);Rb.lineEnd();var Mc=Rb.clean(),dd=yc.result(),Pd=dd.length,Xd;Md.pop();Od.push(Md);Md=null;if(Pd)if(Mc&1){if(Pd=dd[0],0<(dd=Pd.length-1)){Kc||(n.polygonStart(),Kc=!0);n.lineStart();for(Mc=0;Mc<dd;++Mc)n.point((Xd=Pd[Mc])[0],Xd[1]);n.lineEnd()}}else 1<Pd&&Mc&2&&dd.push(dd.pop().concat(dd.shift())),
od.push(dd.filter(ca))}var Ub=La(n),yc=$a(),Rb=La(yc),Kc=!1,Od,od,Md,hd={point:J,lineStart:Ja,lineEnd:Sa,polygonStart:function(){hd.point=Ua;hd.lineStart=Pb;hd.lineEnd=bc;od=[];Od=[]},polygonEnd:function(){hd.point=J;hd.lineStart=Ja;hd.lineEnd=Sa;od=Array.from(l(od));var Mc=Od;var dd=kc(ub),Pd=ub[1],Xd=ta(Pd),oe=[ta(dd),-Sd(dd),0],re=0,Qc=0,Oe=new Dc;1===Xd?Pd=Zc+1E-6:-1===Xd&&(Pd=-Zc-1E-6);Xd=0;for(var We=Mc.length;Xd<We;++Xd)if(Hf=(df=Mc[Xd]).length){var df,Hf,wd=df[Hf-1],te=kc(wd),Qe=wd[1]/2+xd,
He=ta(Qe),lf=Sd(Qe);for(Qe=0;Qe<Hf;++Qe,te=If,He=Wf,lf=Xe,wd=Pf){var Pf=df[Qe],If=kc(Pf);Xe=Pf[1]/2+xd;var Wf=ta(Xe),Xe=Sd(Xe),Ce=If-te,rf=0<=Ce?1:-1,jg=rf*Ce,mf=jg>Fc;He*=Wf;Oe.add(ve(He*rf*ta(jg),lf*Xe+He*Sd(jg)));re+=mf?Ce+rf*Hd:Ce;mf^te>=dd^If>=dd&&(wd=Ba(Db(wd),Db(Pf)),Ab(wd),te=Ba(oe,wd),Ab(te),te=(mf^0<=Ce?-1:1)*cb(te[2]),Pd>te||Pd===te&&(wd[0]||wd[1]))&&(Qc+=mf^0<=Ce?1:-1)}}Mc=(-1E-6>re||1E-6>re&&-1E-12>Oe)^Qc&1;od.length?(Kc||(n.polygonStart(),Kc=!0),xb(od,O,Mc,Ya,n)):Mc&&(Kc||(n.polygonStart(),
Kc=!0),n.lineStart(),Ya(null,null,1,n),n.lineEnd());Kc&&(n.polygonEnd(),Kc=!1);od=Od=null},sphere:function(){n.polygonStart();n.lineStart();Ya(null,null,1,n);n.lineEnd();n.polygonEnd()}};return hd}}function ca(na){return 1<na.length}function O(na,La){return(0>(na=na.x)[0]?na[1]-Zc-1E-6:Zc-na[1])-(0>(La=La.x)[0]?La[1]-Zc-1E-6:Zc-La[1])}function oa(na){function La(Sa,Ua){return Sd(Sa)*Sd(Ua)>n}function Ya(Sa,Ua,Pb){var bc=Db(Sa),Ub=Db(Ua),yc=[1,0,0];Ub=Ba(bc,Ub);var Rb=fc(Ub,Ub);bc=Ub[0];var Kc=Rb-
bc*bc;if(!Kc)return!Pb&&Sa;Rb=n*Rb/Kc;Kc=-n*bc/Kc;bc=Ba(yc,Ub);yc=yb(yc,Rb);Ub=yb(Ub,Kc);jb(yc,Ub);Ub=fc(yc,bc);Rb=fc(bc,bc);Kc=Ub*Ub-Rb*(fc(yc,yc)-1);if(!(0>Kc)){var Od=qb(Kc);Kc=yb(bc,(-Ub-Od)/Rb);jb(Kc,yc);Kc=Gb(Kc);if(!Pb)return Kc;Pb=Sa[0];var od=Ua[0];Sa=Sa[1];Ua=Ua[1];if(od<Pb){var Md=Pb;Pb=od;od=Md}var hd=od-Pb,Mc=1E-6>ed(hd-Fc);!Mc&&Ua<Sa&&(Md=Sa,Sa=Ua,Ua=Md);if(Mc||1E-6>hd?Mc?0<Sa+Ua^Kc[1]<(1E-6>ed(Kc[0]-Pb)?Sa:Ua):Sa<=Kc[1]&&Kc[1]<=Ua:hd>Fc^(Pb<=Kc[0]&&Kc[0]<=od))return Ua=yb(bc,(-Ub+Od)/
Rb),jb(Ua,yc),[Kc,Gb(Ua)]}}function ub(Sa,Ua){var Pb=da?na:Fc-na,bc=0;Sa<-Pb?bc|=1:Sa>Pb&&(bc|=2);Ua<-Pb?bc|=4:Ua>Pb&&(bc|=8);return bc}var n=Sd(na),J=6*Dd,da=0<n,Ja=1E-6<ed(n);return pb(La,function(Sa){var Ua,Pb,bc,Ub,yc;return{lineStart:function(){Ub=bc=!1;yc=1},point:function(Rb,Kc){var Od=[Rb,Kc],od=La(Rb,Kc);Kc=da?od?0:ub(Rb,Kc):od?ub(Rb+(0>Rb?Fc:-Fc),Kc):0;!Ua&&(Ub=bc=od)&&Sa.lineStart();od!==bc&&(Rb=Ya(Ua,Od),!Rb||Ca(Ua,Rb)||Ca(Od,Rb))&&(Od[2]=1);if(od!==bc)yc=0,od?(Sa.lineStart(),Rb=Ya(Od,
Ua),Sa.point(Rb[0],Rb[1])):(Rb=Ya(Ua,Od),Sa.point(Rb[0],Rb[1],2),Sa.lineEnd()),Ua=Rb;else if(Ja&&Ua&&da^od){var Md;Kc&Pb||!(Md=Ya(Od,Ua,!0))||(yc=0,da?(Sa.lineStart(),Sa.point(Md[0][0],Md[0][1]),Sa.point(Md[1][0],Md[1][1]),Sa.lineEnd()):(Sa.point(Md[1][0],Md[1][1]),Sa.lineEnd(),Sa.lineStart(),Sa.point(Md[0][0],Md[0][1],3)))}!od||Ua&&Ca(Ua,Od)||Sa.point(Od[0],Od[1]);Ua=Od;bc=od;Pb=Kc},lineEnd:function(){bc&&Sa.lineEnd();Ua=null},clean:function(){return yc|(Ub&&bc)<<1}}},function(Sa,Ua,Pb,bc){var Ub=
Sa;if(J){Sa=Sd(na);var yc=ta(na),Rb=Pb*J;if(null==Ub)Ub=na+Pb*Hd,Ua=na-Rb/2;else if(Ub=bb(Sa,Ub),Ua=bb(Sa,Ua),0<Pb?Ub<Ua:Ub>Ua)Ub+=Pb*Hd;for(var Kc=Ub;0<Pb?Kc>Ua:Kc<Ua;Kc-=Rb)Ub=Gb([Sa,-yc*Sd(Kc),-yc*ta(Kc)]),bc.point(Ub[0],Ub[1])}},da?[0,-na]:[-Fc,na-Fc])}function ra(na,La,Ya,ub,n,J){var da=na[0],Ja=na[1],Sa=0,Ua=1,Pb=La[0]-da,bc=La[1]-Ja;Ya-=da;if(Pb||!(0<Ya)){Ya/=Pb;if(0>Pb){if(Ya<Sa)return;Ya<Ua&&(Ua=Ya)}else if(0<Pb){if(Ya>Ua)return;Ya>Sa&&(Sa=Ya)}Ya=n-da;if(Pb||!(0>Ya)){Ya/=Pb;if(0>Pb){if(Ya>
Ua)return;Ya>Sa&&(Sa=Ya)}else if(0<Pb){if(Ya<Sa)return;Ya<Ua&&(Ua=Ya)}Ya=ub-Ja;if(bc||!(0<Ya)){Ya/=bc;if(0>bc){if(Ya<Sa)return;Ya<Ua&&(Ua=Ya)}else if(0<bc){if(Ya>Ua)return;Ya>Sa&&(Sa=Ya)}Ya=J-Ja;if(bc||!(0>Ya)){Ya/=bc;if(0>bc){if(Ya>Ua)return;Ya>Sa&&(Sa=Ya)}else if(0<bc){if(Ya<Sa)return;Ya<Ua&&(Ua=Ya)}0<Sa&&(na[0]=da+Sa*Pb,na[1]=Ja+Sa*bc);1>Ua&&(La[0]=da+Ua*Pb,La[1]=Ja+Ua*bc);return!0}}}}}function Oa(na,La,Ya,ub){function n(Sa,Ua,Pb,bc){var Ub=0,yc=0;if(null==Sa||(Ub=J(Sa,Pb))!==(yc=J(Ua,Pb))||0>
Ja(Sa,Ua)^0<Pb){do bc.point(0===Ub||3===Ub?na:Ya,1<Ub?ub:La);while((Ub=(Ub+Pb+4)%4)!==yc)}else bc.point(Ua[0],Ua[1])}function J(Sa,Ua){return 1E-6>ed(Sa[0]-na)?0<Ua?0:3:1E-6>ed(Sa[0]-Ya)?0<Ua?2:1:1E-6>ed(Sa[1]-La)?0<Ua?1:0:0<Ua?3:2}function da(Sa,Ua){return Ja(Sa.x,Ua.x)}function Ja(Sa,Ua){var Pb=J(Sa,1),bc=J(Ua,1);return Pb!==bc?Pb-bc:0===Pb?Ua[1]-Sa[1]:1===Pb?Sa[0]-Ua[0]:2===Pb?Sa[1]-Ua[1]:Ua[0]-Sa[0]}return function(Sa){function Ua(re,Qc){na<=re&&re<=Ya&&La<=Qc&&Qc<=ub&&bc.point(re,Qc)}function Pb(re,
Qc){var Oe=na<=re&&re<=Ya&&La<=Qc&&Qc<=ub;Rb&&Kc.push([re,Qc]);if(Pd)Od=re,od=Qc,Md=Oe,Pd=!1,Oe&&(bc.lineStart(),bc.point(re,Qc));else if(Oe&&dd)bc.point(re,Qc);else{var We=[hd=Math.max(-1E9,Math.min(1E9,hd)),Mc=Math.max(-1E9,Math.min(1E9,Mc))],df=[re=Math.max(-1E9,Math.min(1E9,re)),Qc=Math.max(-1E9,Math.min(1E9,Qc))];ra(We,df,na,La,Ya,ub)?(dd||(bc.lineStart(),bc.point(We[0],We[1])),bc.point(df[0],df[1]),Oe||bc.lineEnd(),Xd=!1):Oe&&(bc.lineStart(),bc.point(re,Qc),Xd=!1)}hd=re;Mc=Qc;dd=Oe}var bc=Sa,
Ub=$a(),yc,Rb,Kc,Od,od,Md,hd,Mc,dd,Pd,Xd,oe={point:Ua,lineStart:function(){oe.point=Pb;Rb&&Rb.push(Kc=[]);Pd=!0;dd=!1;hd=Mc=NaN},lineEnd:function(){yc&&(Pb(Od,od),Md&&dd&&Ub.rejoin(),yc.push(Ub.result()));oe.point=Ua;dd&&bc.lineEnd()},polygonStart:function(){bc=Ub;yc=[];Rb=[];Xd=!0},polygonEnd:function(){for(var re,Qc=re=0,Oe=Rb.length;Qc<Oe;++Qc){var We=Rb[Qc],df=1,Hf=We.length,wd=We[0],te=wd[0];for(wd=wd[1];df<Hf;++df){var Qe=te;var He=wd;wd=We[df];te=wd[0];wd=wd[1];He<=ub?wd>ub&&(te-Qe)*(ub-He)>
(wd-He)*(na-Qe)&&++re:wd<=ub&&(te-Qe)*(ub-He)<(wd-He)*(na-Qe)&&--re}}Qc=Xd&&re;Oe=(yc=Array.from(l(yc))).length;if(Qc||Oe)Sa.polygonStart(),Qc&&(Sa.lineStart(),n(null,null,1,Sa),Sa.lineEnd()),Oe&&xb(yc,da,re,n,Sa),Sa.polygonEnd();bc=Sa;yc=Rb=Kc=null}};return oe}}function ya(){ke.point=va}function va(na,La){ke.point=m;bd=Ed=na;nd=Wd=La}function m(na,La){$c.add(Wd*na-Ed*La);Ed=na;Wd=La}function G(){m(bd,nd)}function Q(na,La){ne+=na;Se+=La;++F}function y(){Uc.point=t}function t(na,La){Uc.point=H;Q(sb=
na,hc=La)}function H(na,La){var Ya=na-sb,ub=La-hc;Ya=qb(Ya*Ya+ub*ub);Z+=Ya*(sb+na)/2;Da+=Ya*(hc+La)/2;hb+=Ya;Q(sb=na,hc=La)}function V(){Uc.point=Q}function E(){Uc.point=z}function K(){L(ma,Ga)}function z(na,La){Uc.point=L;Q(ma=sb=na,Ga=hc=La)}function L(na,La){var Ya=na-sb,ub=La-hc;Ya=qb(Ya*Ya+ub*ub);Z+=Ya*(sb+na)/2;Da+=Ya*(hc+La)/2;hb+=Ya;Ya=hc*na-sb*La;Kb+=Ya*(sb+na);uc+=Ya*(hc+La);Ib+=3*Ya;Q(sb=na,hc=La)}function X(na){this._context=na}function qa(na,La){Ae.point=T;Nd=Rd=na;De=fe=La}function T(na,
La){Rd-=na;fe-=La;rd.add(qb(Rd*Rd+fe*fe));Rd=na;fe=La}function la(){this._string=[]}function xa(na){return"m0,"+na+"a"+na+","+na+" 0 1,1 0,"+-2*na+"a"+na+","+na+" 0 1,1 0,"+2*na+"z"}function R(na,La){function Ya(da){da&&("function"===typeof ub&&J.pointRadius(+ub.apply(this,arguments)),Tb(da,n(J)));return J.result()}var ub=4.5,n,J;Ya.area=function(da){Tb(da,n(ce));return ce.result()};Ya.measure=function(da){Tb(da,n(Pc));return Pc.result()};Ya.bounds=function(da){Tb(da,n(Ne));return Ne.result()};Ya.centroid=
function(da){Tb(da,n(Vc));return Vc.result()};Ya.projection=function(da){return arguments.length?(n=null==da?(na=null,zc):(na=da).stream,Ya):na};Ya.context=function(da){if(!arguments.length)return La;J=null==da?(La=null,new la):new X(La=da);"function"!==typeof ub&&J.pointRadius(ub);return Ya};Ya.pointRadius=function(da){if(!arguments.length)return ub;ub="function"===typeof da?da:(J.pointRadius(+da),+da);return Ya};return Ya.projection(na).context(La)}function ka(na){return function(La){var Ya=new Ka,
ub;for(ub in na)Ya[ub]=na[ub];Ya.stream=La;return Ya}}function Ka(){}function kb(na,La,Ya){var ub=na.clipExtent&&na.clipExtent();na.scale(150).translate([0,0]);null!=ub&&na.clipExtent(null);Tb(Ya,na.stream(Ne));La(Ne.result());null!=ub&&na.clipExtent(ub);return na}function Za(na,La,Ya){return kb(na,function(ub){var n=La[1][0]-La[0][0],J=La[1][1]-La[0][1],da=Math.min(n/(ub[1][0]-ub[0][0]),J/(ub[1][1]-ub[0][1]));n=+La[0][0]+(n-da*(ub[1][0]+ub[0][0]))/2;ub=+La[0][1]+(J-da*(ub[1][1]+ub[0][1]))/2;na.scale(150*
da).translate([n,ub])},Ya)}function mb(na,La,Ya){return kb(na,function(ub){var n=+La,J=n/(ub[1][0]-ub[0][0]);n=(n-J*(ub[1][0]+ub[0][0]))/2;ub=-J*ub[0][1];na.scale(150*J).translate([n,ub])},Ya)}function Ra(na,La,Ya){return kb(na,function(ub){var n=+La,J=n/(ub[1][1]-ub[0][1]),da=-J*ub[0][0];ub=(n-J*(ub[1][1]+ub[0][1]))/2;na.scale(150*J).translate([da,ub])},Ya)}function Ob(na){return ka({point:function(La,Ya){La=na(La,Ya);this.stream.point(La[0],La[1])}})}function mc(na,La){function Ya(ub,n,J,da,Ja,
Sa,Ua,Pb,bc,Ub,yc,Rb,Kc,Od){var od=Ua-ub,Md=Pb-n,hd=od*od+Md*Md;if(hd>4*La&&Kc--){var Mc=da+Ub,dd=Ja+yc,Pd=Sa+Rb,Xd=qb(Mc*Mc+dd*dd+Pd*Pd),oe=cb(Pd/=Xd),re=1E-6>ed(ed(Pd)-1)||1E-6>ed(J-bc)?(J+bc)/2:ve(dd,Mc),Qc=na(re,oe);oe=Qc[0];Qc=Qc[1];var Oe=oe-ub,We=Qc-n,df=Md*Oe-od*We;if(df*df/hd>La||.3<ed((od*Oe+Md*We)/hd-.5)||da*Ub+Ja*yc+Sa*Rb<Gd)Ya(ub,n,J,da,Ja,Sa,oe,Qc,re,Mc/=Xd,dd/=Xd,Pd,Kc,Od),Od.point(oe,Qc),Ya(oe,Qc,re,Mc,dd,Pd,Ua,Pb,bc,Ub,yc,Rb,Kc,Od)}}return function(ub){function n(oe,re){oe=na(oe,
re);ub.point(oe[0],oe[1])}function J(){Md=NaN;Xd.point=da;ub.lineStart()}function da(oe,re){var Qc=Db([oe,re]);re=na(oe,re);Ya(Md,hd,od,Mc,dd,Pd,Md=re[0],hd=re[1],od=oe,Mc=Qc[0],dd=Qc[1],Pd=Qc[2],16,ub);ub.point(Md,hd)}function Ja(){Xd.point=n;ub.lineEnd()}function Sa(){J();Xd.point=Ua;Xd.lineEnd=Pb}function Ua(oe,re){da(bc=oe,re);Ub=Md;yc=hd;Rb=Mc;Kc=dd;Od=Pd;Xd.point=da}function Pb(){Ya(Md,hd,od,Mc,dd,Pd,Ub,yc,bc,Rb,Kc,Od,16,ub);Xd.lineEnd=Ja;Ja()}var bc,Ub,yc,Rb,Kc,Od,od,Md,hd,Mc,dd,Pd,Xd={point:n,
lineStart:J,lineEnd:Ja,polygonStart:function(){ub.polygonStart();Xd.lineStart=Sa},polygonEnd:function(){ub.polygonEnd();Xd.lineStart=J}};return Xd}}function Lc(na){return ka({point:function(La,Ya){La=na(La,Ya);return this.stream.point(La[0],La[1])}})}function wc(na,La,Ya,ub,n){function J(da,Ja){da*=ub;Ja*=n;return[La+na*da,Ya-na*Ja]}J.invert=function(da,Ja){return[(da-La)/na*ub,(Ya-Ja)/na*n]};return J}function tc(na,La,Ya,ub,n,J){function da(Rb,Kc){Rb*=ub;Kc*=n;return[Sa*Rb-Ua*Kc+La,Ya-Ua*Rb-Sa*Kc]}
if(!J)return wc(na,La,Ya,ub,n);var Ja=Sd(J);J=ta(J);var Sa=Ja*na,Ua=J*na,Pb=Ja/na,bc=J/na,Ub=(J*Ya-Ja*La)/na,yc=(J*La+Ja*Ya)/na;da.invert=function(Rb,Kc){return[ub*(Pb*Rb-bc*Kc+Ub),n*(yc-bc*Rb-Pb*Kc)]};return da}function jc(na){return Sc(function(){return na})()}function Sc(na){function La(wd){return We(wd[0]*Dd,wd[1]*Dd)}function Ya(wd){return(wd=We.invert(wd[0],wd[1]))&&[wd[0]*Ad,wd[1]*Ad]}function ub(){var wd=tc(da,0,0,Od,od,Kc).apply(null,J(Ua,Pb));wd=tc(da,Ja-wd[0],Sa-wd[1],Od,od,Kc);Rb=Xa(bc,
Ub,yc);Oe=Pa(J,wd);We=Pa(Rb,Oe);wd=Oe;Qc=+re?mc(wd,re):Ob(wd);return n()}function n(){df=Hf=null;return La}var J,da=150,Ja=480,Sa=250,Ua=0,Pb=0,bc=0,Ub=0,yc=0,Rb,Kc=0,Od=1,od=1,Md=null,hd=wb,Mc=null,dd,Pd,Xd,oe=zc,re=.5,Qc,Oe,We,df,Hf;La.stream=function(wd){return df&&Hf===wd?df:df=cd(Lc(Rb)(hd(Qc(oe(Hf=wd)))))};La.preclip=function(wd){return arguments.length?(hd=wd,Md=void 0,n()):hd};La.postclip=function(wd){return arguments.length?(oe=wd,Mc=dd=Pd=Xd=null,n()):oe};La.clipAngle=function(wd){return arguments.length?
(hd=+wd?oa(Md=wd*Dd):(Md=null,wb),n()):Md*Ad};La.clipExtent=function(wd){return arguments.length?(oe=null==wd?(Mc=dd=Pd=Xd=null,zc):Oa(Mc=+wd[0][0],dd=+wd[0][1],Pd=+wd[1][0],Xd=+wd[1][1]),n()):null==Mc?null:[[Mc,dd],[Pd,Xd]]};La.scale=function(wd){return arguments.length?(da=+wd,ub()):da};La.translate=function(wd){return arguments.length?(Ja=+wd[0],Sa=+wd[1],ub()):[Ja,Sa]};La.center=function(wd){return arguments.length?(Ua=wd[0]%360*Dd,Pb=wd[1]%360*Dd,ub()):[Ua*Ad,Pb*Ad]};La.rotate=function(wd){return arguments.length?
(bc=wd[0]%360*Dd,Ub=wd[1]%360*Dd,yc=2<wd.length?wd[2]%360*Dd:0,ub()):[bc*Ad,Ub*Ad,yc*Ad]};La.angle=function(wd){return arguments.length?(Kc=wd%360*Dd,ub()):Kc*Ad};La.reflectX=function(wd){return arguments.length?(Od=wd?-1:1,ub()):0>Od};La.reflectY=function(wd){return arguments.length?(od=wd?-1:1,ub()):0>od};La.precision=function(wd){if(arguments.length){var te=Oe;var Qe=re=wd*wd;te=(Qc=+Qe?mc(te,Qe):Ob(te),n())}else te=qb(re);return te};La.fitExtent=function(wd,te){return Za(La,wd,te)};La.fitSize=
function(wd,te){return Za(La,[[0,0],wd],te)};La.fitWidth=function(wd,te){return mb(La,wd,te)};La.fitHeight=function(wd,te){return Ra(La,wd,te)};return function(){J=na.apply(this,arguments);La.invert=J.invert&&Ya;return ub()}}function Ta(na){var La=0,Ya=Fc/3,ub=Sc(na);na=ub(La,Ya);na.parallels=function(n){return arguments.length?ub(La=n[0]*Dd,Ya=n[1]*Dd):[La*Ad,Ya*Ad]};return na}function Ea(na){function La(ub,n){return[ub*Ya,ta(n)/Ya]}var Ya=Sd(na);La.invert=function(ub,n){return[ub/Ya,cb(n*Ya)]};
return La}function ob(na,La){function Ya(Ja,Sa){Sa=qb(J-2*n*ta(Sa))/n;return[Sa*ta(Ja*=n),da-Sa*Sd(Ja)]}var ub=ta(na),n=(ub+ta(La))/2;if(1E-6>ed(n))return Ea(na);var J=1+ub*(2*n-ub),da=qb(J)/n;Ya.invert=function(Ja,Sa){Sa=da-Sa;var Ua=ve(Ja,ed(Sa))*Qa(Sa);0>Sa*n&&(Ua-=Fc*Qa(Ja)*Qa(Sa));return[Ua/n,cb((J-(Ja*Ja+Sa*Sa)*n*n)/(2*n))]};return Ya}function lb(){return Ta(ob).scale(155.424).center([0,33.6442])}function Fb(){return lb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,
38.7])}function Wb(na){var La=na.length;return{point:function(Ya,ub){for(var n=-1;++n<La;)na[n].point(Ya,ub)},sphere:function(){for(var Ya=-1;++Ya<La;)na[Ya].sphere()},lineStart:function(){for(var Ya=-1;++Ya<La;)na[Ya].lineStart()},lineEnd:function(){for(var Ya=-1;++Ya<La;)na[Ya].lineEnd()},polygonStart:function(){for(var Ya=-1;++Ya<La;)na[Ya].polygonStart()},polygonEnd:function(){for(var Ya=-1;++Ya<La;)na[Ya].polygonEnd()}}}function Xb(na){return function(La,Ya){var ub=Sd(La),n=Sd(Ya);ub=na(ub*n);
return Infinity===ub?[2,0]:[ub*n*ta(La),ub*ta(Ya)]}}function ic(na){return function(La,Ya){var ub=qb(La*La+Ya*Ya),n=na(ub),J=ta(n);n=Sd(n);return[ve(La*J,ub*n),cb(ub&&Ya*J/ub)]}}function xc(na,La){return[na,A(Bb((Zc+La)/2))]}function kd(na){function La(){var bc=Fc*n(),Ub=Ya(Ha(Ya.rotate()).invert([0,0]));return da(null==Ja?[[Ub[0]-bc,Ub[1]-bc],[Ub[0]+bc,Ub[1]+bc]]:na===xc?[[Math.max(Ub[0]-bc,Ja),Sa],[Math.min(Ub[0]+bc,Ua),Pb]]:[[Ja,Math.max(Ub[1]-bc,Sa)],[Ua,Math.min(Ub[1]+bc,Pb)]])}var Ya=jc(na),
ub=Ya.center,n=Ya.scale,J=Ya.translate,da=Ya.clipExtent,Ja=null,Sa,Ua,Pb;Ya.scale=function(bc){return arguments.length?(n(bc),La()):n()};Ya.translate=function(bc){return arguments.length?(J(bc),La()):J()};Ya.center=function(bc){return arguments.length?(ub(bc),La()):ub()};Ya.clipExtent=function(bc){return arguments.length?(null==bc?Ja=Sa=Ua=Pb=null:(Ja=+bc[0][0],Sa=+bc[0][1],Ua=+bc[1][0],Pb=+bc[1][1]),La()):null==Ja?null:[[Ja,Sa],[Ua,Pb]]};return La()}function B(na,La){function Ya(da,Ja){0<J?Ja<-Zc+
1E-6&&(Ja=-Zc+1E-6):Ja>Zc-1E-6&&(Ja=Zc-1E-6);Ja=J/W(Bb((Zc+Ja)/2),n);return[Ja*ta(n*da),J-Ja*Sd(n*da)]}var ub=Sd(na),n=na===La?ta(na):A(ub/Sd(La))/A(Bb((Zc+La)/2)/Bb((Zc+na)/2)),J=ub*W(Bb((Zc+na)/2),n)/n;if(!n)return xc;Ya.invert=function(da,Ja){Ja=J-Ja;var Sa=Qa(n)*qb(da*da+Ja*Ja),Ua=ve(da,ed(Ja))*Qa(Ja);0>Ja*n&&(Ua-=Fc*Qa(da)*Qa(Ja));return[Ua/n,2*Fe(W(J/Sa,1/n))-Zc]};return Ya}function w(na,La){return[na,La]}function C(na,La){function Ya(da,Ja){Ja=J-Ja;da*=n;return[Ja*ta(da),J-Ja*Sd(da)]}var ub=
Sd(na),n=na===La?ta(na):(ub-Sd(La))/(La-na),J=ub/n+na;if(1E-6>ed(n))return w;Ya.invert=function(da,Ja){Ja=J-Ja;var Sa=ve(da,ed(Ja))*Qa(Ja);0>Ja*n&&(Sa-=Fc*Qa(da)*Qa(Ja));return[Sa/n,J-Qa(n)*qb(da*da+Ja*Ja)]};return Ya}function aa(na,La){La=cb(sd*ta(La));var Ya=La*La,ub=Ya*Ya*Ya;return[na*Sd(La)/(sd*(1.340264+3*-.081106*Ya+ub*(7*8.93E-4+.034164*Ya))),La*(1.340264+-.081106*Ya+ub*(8.93E-4+.003796*Ya))]}function fa(na,La){var Ya=Sd(La),ub=Sd(na)*Ya;return[Ya*ta(na)/ub,ta(La)/ub]}function za(na,La){var Ya=
La*La,ub=Ya*Ya;return[na*(.8707-.131979*Ya+ub*(-.013791+ub*(.003971*Ya-.001529*ub))),La*(1.007226+Ya*(.015085+ub*(-.044475+.028874*Ya-.005916*ub)))]}function eb(na,La){return[Sd(La)*ta(na),ta(La)]}function fb(na,La){var Ya=Sd(La),ub=1+Sd(na)*Ya;return[Ya*ta(na)/ub,ta(La)/ub]}function ib(na,La){return[A(Bb((Zc+La)/2)),-na]}function Vb(na){return 1<na?ff:-1>na?-ff:Math.asin(na)}function oc(na,La){return function ub(){const n=La();n.type=na;n.path=R().projection(n);n.copy=n.copy||function(){const J=
ub();jd.forEach(da=>{if(n[da])J[da](n[da]())});J.path.pointRadius(n.path.pointRadius());return J};return n}}function qc(na,La){if(!na||"string"!==typeof na)throw Error("Projection type must be a name string.");na=na.toLowerCase();return 1<arguments.length?(Wc[na]=oc(na,La),this):Wc[na]||null}class Dc{constructor(){this._partials=new Float64Array(32);this._n=0}add(na){const La=this._partials;let Ya=0;for(let ub=0;ub<this._n&&32>ub;ub++){const n=La[ub],J=na+n;(na=Math.abs(na)<Math.abs(n)?na-(J-n):n-
(J-na))&&(La[Ya++]=na);na=J}La[Ya]=na;this._n=Ya+1;return this}valueOf(){const na=this._partials;let La=this._n;let Ya,ub=0;if(0<La){for(ub=na[--La];0<La;){var n=ub;Ya=na[--La];ub=n+Ya;if(n=Ya-(ub-n))break}0<La&&(0>n&&0>na[La-1]||0<n&&0<na[La-1])&&(Ya=2*n,n=ub+Ya,Ya==n-ub&&(ub=n))}return ub}}var Fc=Math.PI,Zc=Fc/2,xd=Fc/4,Hd=2*Fc,Ad=180/Fc,Dd=Fc/180,ed=Math.abs,Fe=Math.atan,ve=Math.atan2,Sd=Math.cos,qe=Math.exp,A=Math.log,W=Math.pow,ta=Math.sin,Qa=Math.sign||function(na){return 0<na?1:0>na?-1:0},
qb=Math.sqrt,Bb=Math.tan,ac={Feature:function(na,La){Zb(na.geometry,La)},FeatureCollection:function(na,La){na=na.features;for(var Ya=-1,ub=na.length;++Ya<ub;)Zb(na[Ya].geometry,La)}},Sb={Sphere:function(na,La){La.sphere()},Point:function(na,La){na=na.coordinates;La.point(na[0],na[1],na[2])},MultiPoint:function(na,La){for(var Ya=na.coordinates,ub=-1,n=Ya.length;++ub<n;)na=Ya[ub],La.point(na[0],na[1],na[2])},LineString:function(na,La){gc(na.coordinates,La,0)},MultiLineString:function(na,La){na=na.coordinates;
for(var Ya=-1,ub=na.length;++Ya<ub;)gc(na[Ya],La,0)},Polygon:function(na,La){nc(na.coordinates,La)},MultiPolygon:function(na,La){na=na.coordinates;for(var Ya=-1,ub=na.length;++Ya<ub;)nc(na[Ya],La)},GeometryCollection:function(na,La){na=na.geometries;for(var Ya=-1,ub=na.length;++Ya<ub;)Zb(na[Ya],La)}};Va.invert=Va;var wb=pb(function(){return!0},function(na){var La=NaN,Ya=NaN,ub=NaN,n;return{lineStart:function(){na.lineStart();n=1},point:function(J,da){var Ja=0<J?Fc:-Fc,Sa=ed(J-La);if(1E-6>ed(Sa-Fc))na.point(La,
Ya=0<(Ya+da)/2?Zc:-Zc),na.point(ub,Ya),na.lineEnd(),na.lineStart(),na.point(Ja,Ya),na.point(J,Ya),n=0;else if(ub!==Ja&&Sa>=Fc){1E-6>ed(La-ub)&&(La-=1E-6*ub);1E-6>ed(J-Ja)&&(J-=1E-6*Ja);Sa=La;var Ua=Ya,Pb=J,bc,Ub,yc=ta(Sa-Pb);Ya=1E-6<ed(yc)?Fe((ta(Ua)*(Ub=Sd(da))*ta(Pb)-ta(da)*(bc=Sd(Ua))*ta(Sa))/(bc*Ub*yc)):(Ua+da)/2;na.point(ub,Ya);na.lineEnd();na.lineStart();na.point(Ja,Ya);n=0}na.point(La=J,Ya=da);ub=Ja},lineEnd:function(){na.lineEnd();La=Ya=NaN},clean:function(){return 2-n}}},function(na,La,Ya,
ub){null==na?(Ya*=Zc,ub.point(-Fc,Ya),ub.point(0,Ya),ub.point(Fc,Ya),ub.point(Fc,0),ub.point(Fc,-Ya),ub.point(0,-Ya),ub.point(-Fc,-Ya),ub.point(-Fc,0),ub.point(-Fc,Ya)):1E-6<ed(na[0]-La[0])?(na=na[0]<La[0]?Fc:-Fc,Ya=Ya*na/2,ub.point(-na,Ya),ub.point(0,Ya),ub.point(na,Ya)):ub.point(La[0],La[1])},[-Fc,-Zc]),zc=na=>na,Ic=new Dc,$c=new Dc,bd,nd,Ed,Wd,ke={point:zb,lineStart:zb,lineEnd:zb,polygonStart:function(){ke.lineStart=ya;ke.lineEnd=G},polygonEnd:function(){ke.lineStart=ke.lineEnd=ke.point=zb;Ic.add(ed($c));
$c=new Dc},result:function(){var na=Ic/2;Ic=new Dc;return na}},ce=ke,Ud=Infinity,Ve=Ud,Pe=-Ud,hf=Pe,Ne={point:function(na,La){na<Ud&&(Ud=na);na>Pe&&(Pe=na);La<Ve&&(Ve=La);La>hf&&(hf=La)},lineStart:zb,lineEnd:zb,polygonStart:zb,polygonEnd:zb,result:function(){var na=[[Ud,Ve],[Pe,hf]];Pe=hf=-(Ve=Ud=Infinity);return na}},ne=0,Se=0,F=0,Z=0,Da=0,hb=0,Kb=0,uc=0,Ib=0,ma,Ga,sb,hc,Uc={point:Q,lineStart:y,lineEnd:V,polygonStart:function(){Uc.lineStart=E;Uc.lineEnd=K},polygonEnd:function(){Uc.point=Q;Uc.lineStart=
y;Uc.lineEnd=V},result:function(){var na=Ib?[Kb/Ib,uc/Ib]:hb?[Z/hb,Da/hb]:F?[ne/F,Se/F]:[NaN,NaN];ne=Se=F=Z=Da=hb=Kb=uc=Ib=0;return na}},Vc=Uc;X.prototype={_radius:4.5,pointRadius:function(na){return this._radius=na,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(na,La){switch(this._point){case 0:this._context.moveTo(na,La);this._point=
1;break;case 1:this._context.lineTo(na,La);break;default:this._context.moveTo(na+this._radius,La),this._context.arc(na,La,this._radius,0,Hd)}},result:zb};var rd=new Dc,ad,Nd,De,Rd,fe,Ae={point:zb,lineStart:function(){Ae.point=qa},lineEnd:function(){ad&&T(Nd,De);Ae.point=zb},polygonStart:function(){ad=!0},polygonEnd:function(){ad=null},result:function(){var na=+rd;rd=new Dc;return na}},Pc=Ae;la.prototype={_radius:4.5,_circle:xa(4.5),pointRadius:function(na){(na=+na)!==this._radius&&(this._radius=na,
this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(na,La){switch(this._point){case 0:this._string.push("M",na,",",La);this._point=1;break;case 1:this._string.push("L",na,",",La);break;default:null==this._circle&&(this._circle=xa(this._radius)),this._string.push("M",na,",",La,this._circle)}},result:function(){if(this._string.length){var na=
this._string.join("");this._string=[];return na}return null}};Ka.prototype={constructor:Ka,point:function(na,La){this.stream.point(na,La)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Gd=Sd(30*Dd),cd=ka({point:function(na,La){this.stream.point(na*Dd,La*Dd)}}),qd=Xb(function(na){return qb(2/(1+na))});qd.invert=ic(function(na){return 2*
cb(na/2)});var fd=Xb(function(na){return(na=M(na))&&na/ta(na)});fd.invert=ic(function(na){return na});xc.invert=function(na,La){return[na,2*Fe(qe(La))-Zc]};w.invert=w;var sd=qb(3)/2;aa.invert=function(na,La){for(var Ya=La,ub=Ya*Ya,n=ub*ub*ub,J=0,da;12>J&&!(da=Ya*(1.340264+-.081106*ub+n*(8.93E-4+.003796*ub))-La,ub=1.340264+3*-.081106*ub+n*(7*8.93E-4+.034164*ub),Ya-=da/=ub,ub=Ya*Ya,n=ub*ub*ub,1E-12>ed(da));++J);return[sd*na*(1.340264+3*-.081106*ub+n*(7*8.93E-4+.034164*ub))/Sd(Ya),cb(ta(Ya)/sd)]};fa.invert=
ic(Fe);za.invert=function(na,La){var Ya=La,ub=25;do{var n=Ya*Ya;var J=n*n;Ya-=J=(Ya*(1.007226+n*(.015085+J*(-.044475+.028874*n-.005916*J)))-La)/(1.007226+n*(.045255+J*(-.311325+.259866*n-.005916*11*J)))}while(1E-6<ed(J)&&0<--ub);return[na/(.8707+(n=Ya*Ya)*(-.131979+n*(-.013791+n*n*n*(.003971-.001529*n)))),Ya]};eb.invert=ic(cb);fb.invert=ic(function(na){return 2*Fe(na)});ib.invert=function(na,La){return[-La,2*Fe(qe(na))-Zc]};var Fd=Math.abs,be=Math.cos,Ee=Math.sin,Re=Math.PI,ff=Re/2,jf=Math.sqrt(2),
gd=function(na,La,Ya){function ub(n,J){var da=J,Ja=Ya*Ee(da),Sa=30,Ua;do da-=Ua=(da+Ee(da)-Ja)/(1+be(da));while(1E-6<Fd(Ua)&&0<--Sa);return[na*n*be(J=da/2),La*Ee(J)]}ub.invert=function(n,J){return J=Vb(J/La),[n/(na*be(J)),Vb((2*J+Ee(2*J))/Ya)]};return ub}(jf/ff,jf,Re);const Rc=R(),jd="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Wc={albers:Fb,albersusa:function(){function na(Ub){var yc=
Ub[0];Ub=Ub[1];return Pb=null,(J.point(yc,Ub),Pb)||(Ja.point(yc,Ub),Pb)||(Ua.point(yc,Ub),Pb)}function La(){Ya=ub=null;return na}var Ya,ub,n=Fb(),J,da=lb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Ja,Sa=lb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ua,Pb,bc={point:function(Ub,yc){Pb=[Ub,yc]}};na.invert=function(Ub){var yc=n.scale(),Rb=n.translate(),Kc=(Ub[0]-Rb[0])/yc;yc=(Ub[1]-Rb[1])/yc;return(.12<=yc&&.234>yc&&-.425<=Kc&&-.214>Kc?da:.166<=yc&&.234>yc&&-.214<=Kc&&-.115>Kc?
Sa:n).invert(Ub)};na.stream=function(Ub){return Ya&&ub===Ub?Ya:Ya=Wb([n.stream(ub=Ub),da.stream(Ub),Sa.stream(Ub)])};na.precision=function(Ub){if(!arguments.length)return n.precision();n.precision(Ub);da.precision(Ub);Sa.precision(Ub);return La()};na.scale=function(Ub){if(!arguments.length)return n.scale();n.scale(Ub);da.scale(.35*Ub);Sa.scale(Ub);return na.translate(n.translate())};na.translate=function(Ub){if(!arguments.length)return n.translate();var yc=n.scale(),Rb=+Ub[0],Kc=+Ub[1];J=n.translate(Ub).clipExtent([[Rb-
.455*yc,Kc-.238*yc],[Rb+.455*yc,Kc+.238*yc]]).stream(bc);Ja=da.translate([Rb-.307*yc,Kc+.201*yc]).clipExtent([[Rb-.425*yc+1E-6,Kc+.12*yc+1E-6],[Rb-.214*yc-1E-6,Kc+.234*yc-1E-6]]).stream(bc);Ua=Sa.translate([Rb-.205*yc,Kc+.212*yc]).clipExtent([[Rb-.214*yc+1E-6,Kc+.166*yc+1E-6],[Rb-.115*yc-1E-6,Kc+.234*yc-1E-6]]).stream(bc);return La()};na.fitExtent=function(Ub,yc){return Za(na,Ub,yc)};na.fitSize=function(Ub,yc){return Za(na,[[0,0],Ub],yc)};na.fitWidth=function(Ub,yc){return mb(na,Ub,yc)};na.fitHeight=
function(Ub,yc){return Ra(na,Ub,yc)};return na.scale(1070)},azimuthalequalarea:function(){return jc(qd).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return jc(fd).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Ta(B).scale(109.5).parallels([30,30])},conicequalarea:lb,conicequidistant:function(){return Ta(C).scale(131.154).center([0,13.9389])},equalEarth:function(){return jc(aa).scale(177.158)},equirectangular:function(){return jc(w).scale(152.63)},gnomonic:function(){return jc(fa).scale(144.049).clipAngle(60)},
identity:function(){function na(){Rb=Ya*J;Kc=Ya*da;Md=hd=null;return La}function La(Mc){var dd=Mc[0]*Rb;Mc=Mc[1]*Kc;if(Ja){var Pd=Mc*Sa-dd*Ua;dd=dd*Sa+Mc*Ua;Mc=Pd}return[dd+ub,Mc+n]}var Ya=1,ub=0,n=0,J=1,da=1,Ja=0,Sa,Ua,Pb=null,bc,Ub,yc,Rb=1,Kc=1,Od=ka({point:function(Mc,dd){Mc=La([Mc,dd]);this.stream.point(Mc[0],Mc[1])}}),od=zc,Md,hd;La.invert=function(Mc){var dd=Mc[0]-ub;Mc=Mc[1]-n;if(Ja){var Pd=Mc*Sa+dd*Ua;dd=dd*Sa-Mc*Ua;Mc=Pd}return[dd/Rb,Mc/Kc]};La.stream=function(Mc){return Md&&hd===Mc?Md:Md=
Od(od(hd=Mc))};La.postclip=function(Mc){return arguments.length?(od=Mc,Pb=bc=Ub=yc=null,na()):od};La.clipExtent=function(Mc){return arguments.length?(od=null==Mc?(Pb=bc=Ub=yc=null,zc):Oa(Pb=+Mc[0][0],bc=+Mc[0][1],Ub=+Mc[1][0],yc=+Mc[1][1]),na()):null==Pb?null:[[Pb,bc],[Ub,yc]]};La.scale=function(Mc){return arguments.length?(Ya=+Mc,na()):Ya};La.translate=function(Mc){return arguments.length?(ub=+Mc[0],n=+Mc[1],na()):[ub,n]};La.angle=function(Mc){return arguments.length?(Ja=Mc%360*Dd,Ua=ta(Ja),Sa=Sd(Ja),
na()):Ja*Ad};La.reflectX=function(Mc){return arguments.length?(J=Mc?-1:1,na()):0>J};La.reflectY=function(Mc){return arguments.length?(da=Mc?-1:1,na()):0>da};La.fitExtent=function(Mc,dd){return Za(La,Mc,dd)};La.fitSize=function(Mc,dd){return Za(La,[[0,0],Mc],dd)};La.fitWidth=function(Mc,dd){return mb(La,Mc,dd)};La.fitHeight=function(Mc,dd){return Ra(La,Mc,dd)};return La},mercator:function(){return kd(xc).scale(961/Hd)},mollweide:function(){return jc(gd).scale(169.529)},naturalEarth1:function(){return jc(za).scale(175.295)},
orthographic:function(){return jc(eb).scale(249.5).clipAngle(90.000001)},stereographic:function(){return jc(fb).scale(250).clipAngle(142)},transversemercator:function(){var na=kd(ib),La=na.center,Ya=na.rotate;na.center=function(ub){return arguments.length?La([-ub[1],ub[0]]):(ub=La(),[ub[1],-ub[0]])};na.rotate=function(ub){return arguments.length?Ya([ub[0],ub[1],2<ub.length?ub[2]+90:90]):(ub=Ya(),[ub[0],ub[1],ub[2]-90])};return Ya([0,0,90]).scale(159.155)}};for(const na in Wc)qc(na,Wc[na]);x.getProjectionPath=
function(na){return na&&na.path||Rc};x.projection=qc;x.projectionProperties=jd;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[37]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(28),vb(20),vb(29),vb(36),vb(31)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),l):(x="undefined"!==typeof globalThis?globalThis:x||self,l((x.vega=x.vega||{},x.vega.transforms={}),x.vega,x.vega,x.vega,x.vega,x.vega))})(this,function(x,l,M,cb,zb,Zb){function gc(B,w){let C;if(void 0===w)for(var aa of B)null!=
aa&&(C<aa||void 0===C&&aa>=aa)&&(C=aa);else{aa=-1;for(let fa of B)null!=(fa=w(fa,++aa,B))&&(C<fa||void 0===C&&fa>=fa)&&(C=fa)}return C}function nc(B,w,C){B=+B;w=+w;C=2>(fa=arguments.length)?(w=B,B=0,1):3>fa?1:+C;for(var aa=-1,fa=Math.max(0,Math.ceil((w-B)/C))|0,za=Array(fa);++aa<fa;)za[aa]=B+aa*C;return za}function Tb(B,w){let C=0;if(void 0===w)for(var aa of B){if(aa=+aa)C+=aa}else{aa=-1;for(let fa of B)if(fa=+w(fa,++aa,B))C+=fa}return C}function Gb(){}function Db(){function B(fb,ib){return ib.map(Vb=>
w(fb,Vb))}function w(fb,ib){var Vb=[],oc=[];C(fb,ib,qc=>{eb(qc,fb,ib);for(var Dc=0,Fc=qc.length,Zc=qc[Fc-1][1]*qc[0][0]-qc[Fc-1][0]*qc[0][1];++Dc<Fc;)Zc+=qc[Dc-1][1]*qc[Dc][0]-qc[Dc-1][0]*qc[Dc][1];0<Zc?Vb.push([qc]):oc.push(qc)});oc.forEach(qc=>{for(var Dc=0,Fc=Vb.length,Zc;Dc<Fc;++Dc){a:{var xd=(Zc=Vb[Dc])[0];for(var Hd=qc,Ad=-1,Dd=Hd.length;++Ad<Dd;){b:{var ed=xd;for(var Fe=Hd[Ad],ve=Fe[0],Sd=Fe[1],qe=-1,A=0,W=ed.length,ta=W-1;A<W;ta=A++){var Qa=ed[A],qb=Qa[0],Bb=Qa[1],ac=ed[ta];ta=ac[0];var Sb=
ac[1],wb,zc=Qa;Qa=ac;ac=Fe;if(wb=(Qa[0]-zc[0])*(ac[1]-zc[1])===(ac[0]-zc[0])*(Qa[1]-zc[1]))zc=zc[wb=+(zc[0]===Qa[0])],ac=ac[wb],Qa=Qa[wb],wb=zc<=ac&&ac<=Qa||Qa<=ac&&ac<=zc;if(wb){ed=0;break b}Bb>Sd!==Sb>Sd&&ve<(ta-qb)*(Sd-Bb)/(Sb-Bb)+qb&&(qe=-qe)}ed=qe}if(ed){xd=ed;break a}}xd=0}if(-1!==xd){Zc.push(qc);break}}});return{type:"MultiPolygon",value:ib,coordinates:Vb}}function C(fb,ib,Vb){function oc(ed){var Fe=[ed[0][0]+Zc,ed[0][1]+Fc];ed=[ed[1][0]+Zc,ed[1][1]+Fc];var ve=2*Fe[0]+Fe[1]*(fa+1)*4,Sd=2*ed[0]+
ed[1]*(fa+1)*4,qe,A;(qe=Dc[ve])?(A=qc[Sd])?(delete Dc[qe.end],delete qc[A.start],qe===A?(qe.ring.push(ed),Vb(qe.ring)):qc[qe.start]=Dc[A.end]={start:qe.start,end:A.end,ring:qe.ring.concat(A.ring)}):(delete Dc[qe.end],qe.ring.push(ed),Dc[qe.end=Sd]=qe):(qe=qc[Sd])?(A=Dc[ve])?(delete qc[qe.start],delete Dc[A.end],qe===A?(qe.ring.push(ed),Vb(qe.ring)):qc[A.start]=Dc[qe.end]={start:A.start,end:qe.end,ring:A.ring.concat(qe.ring)}):(delete qc[qe.start],qe.ring.unshift(Fe),qc[qe.start=ve]=qe):qc[ve]=Dc[Sd]=
{start:ve,end:Sd,ring:[Fe,ed]}}var qc=[],Dc=[],Fc;var Zc=Fc=-1;var xd=fb[0]>=ib;for(tc[xd<<1].forEach(oc);++Zc<fa-1;){var Hd=xd;xd=fb[Zc+1]>=ib;tc[Hd|xd<<1].forEach(oc)}for(tc[xd<<0].forEach(oc);++Fc<za-1;){Zc=-1;xd=fb[Fc*fa+fa]>=ib;var Ad=fb[Fc*fa]>=ib;for(tc[xd<<1|Ad<<2].forEach(oc);++Zc<fa-1;){Hd=xd;xd=fb[Fc*fa+fa+Zc+1]>=ib;var Dd=Ad;Ad=fb[Fc*fa+Zc+1]>=ib;tc[Hd|xd<<1|Ad<<2|Dd<<3].forEach(oc)}tc[xd|Ad<<3].forEach(oc)}Zc=-1;Ad=fb[Fc*fa]>=ib;for(tc[Ad<<2].forEach(oc);++Zc<fa-1;)Dd=Ad,Ad=fb[Fc*fa+
Zc+1]>=ib,tc[Ad<<2|Dd<<3].forEach(oc);tc[Ad<<3].forEach(oc)}function aa(fb,ib,Vb){fb.forEach(oc=>{var qc=oc[0],Dc=oc[1],Fc=qc|0,Zc=Dc|0,xd=ib[Zc*fa+Fc];if(0<qc&&qc<fa&&Fc===qc){var Hd=ib[Zc*fa+Fc-1];oc[0]=qc+(Vb-Hd)/(xd-Hd)-.5}0<Dc&&Dc<za&&Zc===Dc&&(Hd=ib[(Zc-1)*fa+Fc],oc[1]=Dc+(Vb-Hd)/(xd-Hd)-.5)})}var fa=1,za=1,eb=aa;B.contour=w;B.size=function(fb){if(!arguments.length)return[fa,za];var ib=Math.floor(fb[0]),Vb=Math.floor(fb[1]);0<=ib&&0<=Vb||M.error("invalid size");return fa=ib,za=Vb,B};B.smooth=
function(fb){return arguments.length?(eb=fb?aa:Gb,B):eb===aa};return B}function fc(B,w,C){return function(aa){var fa=M.extent(aa);aa=C?Math.min(fa[0],0):fa[0];fa=fa[1];var za=fa-aa;if(w){var eb=Math.abs(fa-aa)/Math.max(0,B);za=Math.pow(10,Math.floor(Math.log(eb)/Math.LN10));eb/=za;eb>=mc?za*=10:eb>=Lc?za*=5:eb>=wc&&(za*=2);za=fa<aa?-za:za}else za/=B+1;return nc(aa+za,fa,za)}}function Ba(B){l.Transform.call(this,null,B)}function jb(B,w,C){const aa=fc(C.levels||10,C.nice,!1!==C.zero);return"shared"!==
C.resolve?aa:aa(B.map(fa=>gc(w(fa).values)))}function yb(B,w,C,aa){var fa=aa.scale||w.scale;let za=aa.translate||w.translate;M.isFunction(fa)&&(fa=fa(C,aa));M.isFunction(za)&&(za=za(C,aa));if(1!==fa&&null!=fa||za)C=(M.isNumber(fa)?fa:fa[0])||1,fa=(M.isNumber(fa)?fa:fa[1])||1,B.forEach(Ab(w,C,fa,za&&za[0]||0,za&&za[1]||0))}function Ab(B,w,C,aa,fa){function za(qc){qc.forEach(eb)}function eb(qc){oc&&qc.reverse();qc.forEach(fb)}function fb(qc){qc[0]=(qc[0]-ib)*w+aa;qc[1]=(qc[1]-Vb)*C+fa}const ib=B.x1||
0,Vb=B.y1||0,oc=0>w*C;return function(qc){qc.coordinates.forEach(za);return qc}}function Pa(B,w,C){B=0<=B?B:cb.bandwidthNRD(w,C);return Math.round((Math.sqrt(4*B*B+1)-1)/2)}function Va(B){return M.isFunction(B)?B:M.constant(+B)}function Xa(){function B(ib,Vb){const oc=Pa(fa[0],ib,w)>>fb,qc=Pa(fa[1],ib,C)>>fb,Dc=oc?oc+2:0,Fc=qc?qc+2:0,Zc=2*Dc+(za>>fb),xd=2*Fc+(eb>>fb),Hd=new Float32Array(Zc*xd),Ad=new Float32Array(Zc*xd);let Dd=Hd;ib.forEach(ed=>{const Fe=Dc+(+w(ed)>>fb),ve=Fc+(+C(ed)>>fb);0<=Fe&&
Fe<Zc&&0<=ve&&ve<xd&&(Hd[Fe+ve*Zc]+=+aa(ed))});0<oc&&0<qc?(Fa(Zc,xd,Hd,Ad,oc),pa(Zc,xd,Ad,Hd,qc),Fa(Zc,xd,Hd,Ad,oc),pa(Zc,xd,Ad,Hd,qc),Fa(Zc,xd,Hd,Ad,oc),pa(Zc,xd,Ad,Hd,qc)):0<oc?(Fa(Zc,xd,Hd,Ad,oc),Fa(Zc,xd,Ad,Hd,oc),Fa(Zc,xd,Hd,Ad,oc),Dd=Ad):0<qc&&(pa(Zc,xd,Hd,Ad,qc),pa(Zc,xd,Ad,Hd,qc),pa(Zc,xd,Hd,Ad,qc),Dd=Ad);ib=Vb?Math.pow(2,-2*fb):1/Tb(Dd);for(let ed=0,Fe=Zc*xd;ed<Fe;++ed)Dd[ed]*=ib;return{values:Dd,scale:1<<fb,width:Zc,height:xd,x1:Dc,y1:Fc,x2:Dc+(za>>fb),y2:Fc+(eb>>fb)}}var w=ib=>ib[0],C=
ib=>ib[1],aa=M.one,fa=[-1,-1],za=960,eb=500,fb=2;B.x=function(ib){return arguments.length?(w=Va(ib),B):w};B.y=function(ib){return arguments.length?(C=Va(ib),B):C};B.weight=function(ib){return arguments.length?(aa=Va(ib),B):aa};B.size=function(ib){if(!arguments.length)return[za,eb];var Vb=+ib[0],oc=+ib[1];0<=Vb&&0<=oc||M.error("invalid size");return za=Vb,eb=oc,B};B.cellSize=function(ib){if(!arguments.length)return 1<<fb;1<=(ib=+ib)||M.error("invalid cell size");fb=Math.floor(Math.log(ib)/Math.LN2);
return B};B.bandwidth=function(ib){if(!arguments.length)return fa;ib=M.array(ib);1===ib.length&&(ib=[+ib[0],+ib[0]]);2!==ib.length&&M.error("invalid bandwidth");return fa=ib,B};return B}function Fa(B,w,C,aa,fa){const za=(fa<<1)+1;for(let eb=0;eb<w;++eb)for(let fb=0,ib=0;fb<B+fa;++fb)fb<B&&(ib+=C[fb+eb*B]),fb>=fa&&(fb>=za&&(ib-=C[fb-za+eb*B]),aa[fb-fa+eb*B]=ib/Math.min(fb+1,B-1+za-fb,za))}function pa(B,w,C,aa,fa){const za=(fa<<1)+1;for(let eb=0;eb<B;++eb)for(let fb=0,ib=0;fb<w+fa;++fb)fb<w&&(ib+=C[eb+
fb*B]),fb>=fa&&(fb>=za&&(ib-=C[eb+(fb-za)*B]),aa[eb+(fb-fa)*B]=ib/Math.min(fb+1,w-1+za-fb,za))}function Aa(B){l.Transform.call(this,null,B)}function Ha(B,w){jc.forEach(C=>null!=w[C]?B[C](w[C]):0);return B}function bb(B,w){var C=[],aa=oc=>oc(fb),fa;if(null==w)C.push(B);else{var za={};var eb=0;for(fa=B.length;eb<fa;++eb){var fb=B[eb];var ib=w.map(aa);var Vb=za[ib];Vb||(za[ib]=Vb=[],Vb.dims=ib,C.push(Vb));Vb.push(fb)}}return C}function $a(B){l.Transform.call(this,null,B)}function Ca(B){l.Transform.call(this,
null,B)}function Cb(B){l.Transform.call(this,null,B)}function xb(B,w){const C=B.pointRadius();B.context(null);null!=w&&B.pointRadius(w);return C}function Mb(B){l.Transform.call(this,null,B)}function kc(B){l.Transform.call(this,null,B)}function pb(B,w,C){const aa=null==C?fa=>B(w(fa)):fa=>{var za=B.pointRadius();fa=B.pointRadius(C)(w(fa));B.pointRadius(za);return fa};aa.context=fa=>{B.context(fa);return aa};return aa}function ca(B,w,C){var aa=nc(B,w-1E-6,C).concat(w);return function(fa){return aa.map(function(za){return[fa,
za]})}}function O(B,w,C){var aa=nc(B,w-1E-6,C).concat(w);return function(fa){return aa.map(function(za){return[za,fa]})}}function oa(){function B(){return{type:"MultiLineString",coordinates:w()}}function w(){return nc(Ta(za/Dc)*Dc,fa,Dc).map(Hd).concat(nc(Ta(Vb/Fc)*Fc,ib,Fc).map(Ad)).concat(nc(Ta(aa/oc)*oc,C,oc).filter(function(ed){return 1E-6<Sc(ed%Dc)}).map(Zc)).concat(nc(Ta(fb/qc)*qc,eb,qc).filter(function(ed){return 1E-6<Sc(ed%Fc)}).map(xd))}var C,aa,fa,za,eb,fb,ib,Vb,oc=10,qc=oc,Dc=90,Fc=360,
Zc,xd,Hd,Ad,Dd=2.5;B.lines=function(){return w().map(function(ed){return{type:"LineString",coordinates:ed}})};B.outline=function(){return{type:"Polygon",coordinates:[Hd(za).concat(Ad(ib).slice(1),Hd(fa).reverse().slice(1),Ad(Vb).reverse().slice(1))]}};B.extent=function(ed){return arguments.length?B.extentMajor(ed).extentMinor(ed):B.extentMinor()};B.extentMajor=function(ed){if(!arguments.length)return[[za,Vb],[fa,ib]];za=+ed[0][0];fa=+ed[1][0];Vb=+ed[0][1];ib=+ed[1][1];za>fa&&(ed=za,za=fa,fa=ed);Vb>
ib&&(ed=Vb,Vb=ib,ib=ed);return B.precision(Dd)};B.extentMinor=function(ed){if(!arguments.length)return[[aa,fb],[C,eb]];aa=+ed[0][0];C=+ed[1][0];fb=+ed[0][1];eb=+ed[1][1];aa>C&&(ed=aa,aa=C,C=ed);fb>eb&&(ed=fb,fb=eb,eb=ed);return B.precision(Dd)};B.step=function(ed){return arguments.length?B.stepMajor(ed).stepMinor(ed):B.stepMinor()};B.stepMajor=function(ed){if(!arguments.length)return[Dc,Fc];Dc=+ed[0];Fc=+ed[1];return B};B.stepMinor=function(ed){if(!arguments.length)return[oc,qc];oc=+ed[0];qc=+ed[1];
return B};B.precision=function(ed){if(!arguments.length)return Dd;Dd=+ed;Zc=ca(fb,eb,90);xd=O(aa,C,Dd);Hd=ca(Vb,ib,90);Ad=O(za,fa,Dd);return B};return B.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function ra(B){l.Transform.call(this,[],B);this.generator=oa()}function Oa(B,w,C){B.prototype=w.prototype=C;C.constructor=B}function ya(B,w){B=Object.create(B.prototype);for(var C in w)B[C]=w[C];return B}function va(){}function m(){return this.rgb().formatHex()}
function G(){return this.rgb().formatRgb()}function Q(B){var w,C;B=(B+"").trim().toLowerCase();return(w=ob.exec(B))?(C=w[1].length,w=parseInt(w[1],16),6===C?y(w):3===C?new V(w>>8&15|w>>4&240,w>>4&15|w&240,(w&15)<<4|w&15,1):8===C?t(w>>24&255,w>>16&255,w>>8&255,(w&255)/255):4===C?t(w>>12&15|w>>8&240,w>>8&15|w>>4&240,w>>4&15|w&240,((w&15)<<4|w&15)/255):null):(w=lb.exec(B))?new V(w[1],w[2],w[3],1):(w=Fb.exec(B))?new V(255*w[1]/100,255*w[2]/100,255*w[3]/100,1):(w=Wb.exec(B))?t(w[1],w[2],w[3],w[4]):(w=
Xb.exec(B))?t(255*w[1]/100,255*w[2]/100,255*w[3]/100,w[4]):(w=ic.exec(B))?L(w[1],w[2]/100,w[3]/100,1):(w=xc.exec(B))?L(w[1],w[2]/100,w[3]/100,w[4]):kd.hasOwnProperty(B)?y(kd[B]):"transparent"===B?new V(NaN,NaN,NaN,0):null}function y(B){return new V(B>>16&255,B>>8&255,B&255,1)}function t(B,w,C,aa){0>=aa&&(B=w=C=NaN);return new V(B,w,C,aa)}function H(B,w,C,aa){if(1===arguments.length){var fa=B;fa instanceof va||(fa=Q(fa));fa?(fa=fa.rgb(),fa=new V(fa.r,fa.g,fa.b,fa.opacity)):fa=new V}else fa=new V(B,
w,C,null==aa?1:aa);return fa}function V(B,w,C,aa){this.r=+B;this.g=+w;this.b=+C;this.opacity=+aa}function E(){return"#"+z(this.r)+z(this.g)+z(this.b)}function K(){var B=this.opacity;B=isNaN(B)?1:Math.max(0,Math.min(1,B));return(1===B?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===B?")":", "+B+")")}function z(B){B=Math.max(0,Math.min(255,Math.round(B)||0));return(16>B?"0":
"")+B.toString(16)}function L(B,w,C,aa){0>=aa?B=w=C=NaN:0>=C||1<=C?B=w=NaN:0>=w&&(B=NaN);return new qa(B,w,C,aa)}function X(B){if(B instanceof qa)return new qa(B.h,B.s,B.l,B.opacity);B instanceof va||(B=Q(B));if(!B)return new qa;if(B instanceof qa)return B;B=B.rgb();var w=B.r/255,C=B.g/255,aa=B.b/255,fa=Math.min(w,C,aa),za=Math.max(w,C,aa),eb=NaN,fb=za-fa,ib=(za+fa)/2;fb?(eb=w===za?(C-aa)/fb+6*(C<aa):C===za?(aa-w)/fb+2:(w-C)/fb+4,fb/=.5>ib?za+fa:2-za-fa,eb*=60):fb=0<ib&&1>ib?0:eb;return new qa(eb,
fb,ib,B.opacity)}function qa(B,w,C,aa){this.h=+B;this.s=+w;this.l=+C;this.opacity=+aa}function T(B,w,C){return 255*(60>B?w+(C-w)*B/60:180>B?C:240>B?w+(C-w)*(240-B)/60:w)}function la(B){l.Transform.call(this,null,B)}function xa(B,w){let C;M.isFunction(B)?(C=aa=>H(B(aa,w)),C.dep=ka(B)):C=M.constant(H(B||"#888"));return C}function R(B,w){let C;M.isFunction(B)?(C=aa=>B(aa,w),C.dep=ka(B)):B?C=M.constant(B):(C=aa=>aa.$value/aa.$max||0,C.dep=!0);return C}function ka(B){if(!M.isFunction(B))return!1;B=M.toSet(M.accessorFields(B));
return B.$x||B.$y||B.$value||B.$max}function Ka(B,w,C,aa){const fa=B.width;var za=B.height;const eb=B.x1||0,fb=B.y1||0,ib=B.x2||fa;za=B.y2||za;const Vb=B.values;B=Vb?Zc=>Vb[Zc]:M.zero;const oc=Zb.canvas(ib-eb,za-fb),qc=oc.getContext("2d"),Dc=qc.getImageData(0,0,ib-eb,za-fb),Fc=Dc.data;for(let Zc=fb,xd=0;Zc<za;++Zc){w.$y=Zc-fb;for(let Hd=eb,Ad=Zc*fa;Hd<ib;++Hd,xd+=4){w.$x=Hd-eb;w.$value=B(Hd+Ad);const Dd=C(w);Fc[xd+0]=Dd.r;Fc[xd+1]=Dd.g;Fc[xd+2]=Dd.b;Fc[xd+3]=~~(255*aa(w))}}qc.putImageData(Dc,0,0);
return oc}function kb(B){l.Transform.call(this,null,B);this.modified(!0)}function Za(B,w){const C=Ra(w.fit);w.extent?B.fitExtent(w.extent,C):w.size?B.fitSize(w.size,C):0}function mb(B){const w=zb.projection((B||"mercator").toLowerCase());w||M.error("Unrecognized projection type: "+B);return w()}function Ra(B){B=M.array(B);return 1===B.length?B[0]:{type:"FeatureCollection",features:B.reduce((w,C)=>w.concat(Ob(C)),[])}}function Ob(B){return"FeatureCollection"===B.type?B.features:M.array(B).filter(w=>
null!=w).map(w=>"Feature"===w.type?w:{type:"Feature",geometry:w})}var mc=Math.sqrt(50),Lc=Math.sqrt(10),wc=Math.sqrt(2);const tc=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Ba.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",
type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};M.inherits(Ba,l.Transform,{transform(B,w){if(this.value&&
!w.changed()&&!B.modified())return w.StopPropagation;var C=w.fork(w.NO_SOURCE|w.NO_FIELDS);w=w.materialize(w.SOURCE).source;var aa=B.field||M.identity,fa=Db().smooth(!1!==B.smooth),za=B.thresholds||jb(w,aa,B),eb=null===B.as?null:B.as||"contour",fb=[];w.forEach(ib=>{const Vb=aa(ib),oc=fa.size([Vb.width,Vb.height])(Vb.values,M.isArray(za)?za:za(Vb.values));yb(oc,Vb,ib,B);oc.forEach(qc=>{fb.push(l.rederive(ib,l.ingest(null!=eb?{[eb]:qc}:qc)))})});this.value&&(C.rem=this.value);this.value=C.source=C.add=
fb;return C}});Aa.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const jc="x y weight size cellSize bandwidth".split(" ");
M.inherits(Aa,l.Transform,{transform(B,w){if(this.value&&!w.changed()&&!B.modified())return w.StopPropagation;var C=w.fork(w.NO_SOURCE|w.NO_FIELDS);w=w.materialize(w.SOURCE).source;w=bb(w,B.groupby);var aa=(B.groupby||[]).map(M.accessorName),fa=Ha(Xa(),B),za=B.as||"grid",eb=[];eb=w.map(fb=>{var ib=l.ingest,Vb={[za]:fa(fb,B.counts)};fb=fb.dims;for(let oc=0;oc<aa.length;++oc)Vb[aa[oc]]=fb[oc];return ib.call(l,Vb)});this.value&&(C.rem=this.value);this.value=C.source=C.add=eb;return C}});$a.Definition=
{type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};M.inherits($a,l.Transform,{transform(B,w){if(this.value&&
!w.changed()&&!B.modified())return w.StopPropagation;var C=w.fork(w.NO_SOURCE|w.NO_FIELDS),aa=Db().smooth(!1!==B.smooth),fa=B.values,za=B.thresholds||fc(B.count||10,B.nice,!!fa),eb=B.size;if(!fa){fa=w.materialize(w.SOURCE).source;B=Ha(Xa(),B)(fa,!0);var fb=Ab(B,B.scale||1,B.scale||1,0,0);eb=[B.width,B.height];fa=B.values}za=M.isArray(za)?za:za(fa);fa=aa.size(eb)(fa,za);fb&&fa.forEach(fb);this.value&&(C.rem=this.value);this.value=C.source=C.add=(fa||[]).map(l.ingest);return C}});Ca.Definition={type:"GeoJSON",
metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};M.inherits(Ca,l.Transform,{transform(B,w){var C=this._features,aa=this._points,fa=B.fields,za=fa&&fa[0],eb=fa&&fa[1],fb=B.geojson||!fa&&M.identity;fa=w.ADD;B=B.modified()||w.changed(w.REM)||w.modified(M.accessorFields(fb))||za&&w.modified(M.accessorFields(za))||eb&&w.modified(M.accessorFields(eb));if(!this.value||B)fa=w.SOURCE,this._features=C=[],this._points=aa=[];fb&&w.visit(fa,ib=>C.push(fb(ib)));
za&&eb&&(w.visit(fa,ib=>{var Vb=za(ib);ib=eb(ib);null!=Vb&&null!=ib&&(Vb=+Vb)===Vb&&(ib=+ib)===ib&&aa.push([Vb,ib])}),C=C.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:aa}}));this.value={type:"FeatureCollection",features:C}}});Cb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};M.inherits(Cb,l.Transform,{transform(B,w){var C=
w.fork(w.ALL),aa=this.value,fa=B.field||M.identity,za=B.as||"path",eb=C.SOURCE;!aa||B.modified()?(this.value=aa=zb.getProjectionPath(B.projection),C.materialize().reflow()):eb=fa===M.identity||w.modified(fa.fields)?C.ADD_MOD:C.ADD;B=xb(aa,B.pointRadius);C.visit(eb,fb=>fb[za]=aa(fa(fb)));aa.pointRadius(B);return C.modifies(za)}});Mb.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},
{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};M.inherits(Mb,l.Transform,{transform(B,w){function C(Vb){const oc=aa([fa(Vb),za(Vb)]);oc?(Vb[fb]=oc[0],Vb[ib]=oc[1]):(Vb[fb]=void 0,Vb[ib]=void 0)}var aa=B.projection,fa=B.fields[0],za=B.fields[1],eb=B.as||["x","y"],fb=eb[0],ib=eb[1];B.modified()?w=w.materialize().reflow(!0).visit(w.SOURCE,C):(B=w.modified(fa.fields)||w.modified(za.fields),w.visit(B?w.ADD_MOD:w.ADD,C));return w.modifies(eb)}});kc.Definition={type:"GeoShape",metadata:{modifies:!0,
nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};M.inherits(kc,l.Transform,{transform(B,w){w=w.fork(w.ALL);var C=this.value,aa=B.as||"shape",fa=w.ADD;if(!C||B.modified())this.value=C=pb(zb.getProjectionPath(B.projection),B.field||M.field("datum"),B.pointRadius),w.materialize().reflow(),fa=w.SOURCE;w.visit(fa,za=>za[aa]=C);return w.modifies(aa)}});var Sc=Math.abs,
Ta=Math.ceil;ra.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",
array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};M.inherits(ra,l.Transform,{transform(B,w){var C=this.value,aa=this.generator;if(!C.length||B.modified())for(const fa in B)if(M.isFunction(aa[fa]))aa[fa](B[fa]);B=aa();C.length?w.mod.push(l.replace(C[0],B)):w.add.push(l.ingest(B));C[0]=B;return w}});var Ea=1/.7,ob=/^#([0-9a-f]{3,8})$/,lb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Fb=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Wb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Xb=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),ic=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
xc=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),kd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Oa(va,Q,{copy:function(B){return Object.assign(new this.constructor,this,B)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:function(){return X(this).formatHsl()},
formatRgb:G,toString:G});Oa(V,H,ya(va,{brighter:function(B){B=null==B?Ea:Math.pow(Ea,B);return new V(this.r*B,this.g*B,this.b*B,this.opacity)},darker:function(B){B=null==B?.7:Math.pow(.7,B);return new V(this.r*B,this.g*B,this.b*B,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:E,formatHex:E,formatRgb:K,toString:K}));Oa(qa,function(B,w,C,aa){return 1===arguments.length?
X(B):new qa(B,w,C,null==aa?1:aa)},ya(va,{brighter:function(B){B=null==B?Ea:Math.pow(Ea,B);return new qa(this.h,this.s,this.l*B,this.opacity)},darker:function(B){B=null==B?.7:Math.pow(.7,B);return new qa(this.h,this.s,this.l*B,this.opacity)},rgb:function(){var B=this.h%360+360*(0>this.h),w=isNaN(B)||isNaN(this.s)?0:this.s,C=this.l;w=C+(.5>C?C:1-C)*w;C=2*C-w;return new V(T(240<=B?B-240:B+120,C,w),T(B,C,w),T(120>B?B+240:B-120,C,w),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&
0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var B=this.opacity;B=isNaN(B)?1:Math.max(0,Math.min(1,B));return(1===B?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===B?")":", "+B+")")}}));la.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",
type:"string","default":"image"}]};M.inherits(la,l.Transform,{transform(B,w){if(!w.changed()&&!B.modified())return w.StopPropagation;var C=w.materialize(w.SOURCE).source,aa="shared"===B.resolve,fa=B.field||M.identity,za=R(B.opacity,B),eb=xa(B.color,B),fb=B.as||"image",ib={$x:0,$y:0,$value:0,$max:aa?gc(C.map(Vb=>gc(fa(Vb).values))):0};C.forEach(Vb=>{const oc=fa(Vb),qc=M.extend({},Vb,ib);aa||(qc.$max=gc(oc.values||[]));Vb[fb]=Ka(oc,qc,eb.dep?eb:M.constant(eb(qc)),za.dep?za:M.constant(za(qc)))});return w.reflow(!0).modifies(fb)}});
M.inherits(kb,l.Transform,{transform(B,w){let C=this.value;!C||B.modified("type")?(this.value=C=mb(B.type),zb.projectionProperties.forEach(aa=>{if(null!=B[aa]){var fa=C,za=B[aa];if(M.isFunction(fa[aa]))fa[aa](za)}})):zb.projectionProperties.forEach(aa=>{if(B.modified(aa)){var fa=C,za=B[aa];if(M.isFunction(fa[aa]))fa[aa](za)}});null!=B.pointRadius&&C.path.pointRadius(B.pointRadius);B.fit&&Za(C,B);return w.fork(w.NO_SOURCE|w.NO_FIELDS)}});x.contour=$a;x.geojson=Ca;x.geopath=Cb;x.geopoint=Mb;x.geoshape=
kc;x.graticule=ra;x.heatmap=la;x.isocontour=Ba;x.kde2d=Aa;x.projection=kb;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[38]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(28),vb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l((x.vega=x.vega||{},x.vega.transforms={}),x.vega,x.vega))})(this,function(x,l,M){function cb(T,la,xa,R){if(isNaN(la)||isNaN(xa))return T;var ka,Ka=T._root;R={data:R};var kb=T._x0,Za=T._y0,mb=T._x1,Ra=T._y1,Ob,mc,Lc,wc,tc;if(!Ka)return T._root=
R,T;for(;Ka.length;)if((Lc=la>=(Ob=(kb+mb)/2))?kb=Ob:mb=Ob,(wc=xa>=(mc=(Za+Ra)/2))?Za=mc:Ra=mc,ka=Ka,!(Ka=Ka[tc=wc<<1|Lc]))return ka[tc]=R,T;var jc=+T._x.call(null,Ka.data);var Sc=+T._y.call(null,Ka.data);if(la===jc&&xa===Sc)return R.next=Ka,ka?ka[tc]=R:T._root=R,T;do ka=ka?ka[tc]=Array(4):T._root=Array(4),(Lc=la>=(Ob=(kb+mb)/2))?kb=Ob:mb=Ob,(wc=xa>=(mc=(Za+Ra)/2))?Za=mc:Ra=mc;while((tc=wc<<1|Lc)===(Lc=(Sc>=mc)<<1|jc>=Ob));return ka[Lc]=Ka,ka[tc]=R,T}function zb(T,la,xa,R,ka){this.node=T;this.x0=
la;this.y0=xa;this.x1=R;this.y1=ka}function Zb(T){return T[0]}function gc(T){return T[1]}function nc(T,la,xa){la=new Tb(null==la?Zb:la,null==xa?gc:xa,NaN,NaN,NaN,NaN);return null==T?la:la.addAll(T)}function Tb(T,la,xa,R,ka,Ka){this._x=T;this._y=la;this._x0=xa;this._y0=R;this._x1=ka;this._y1=Ka;this._root=void 0}function Gb(T){for(var la={data:T.data},xa=la;T=T.next;)xa=xa.next={data:T.data};return la}function Db(T){return function(){return T}}function fc(T){return T.x+T.vx}function Ba(T){return T.y+
T.vy}function jb(T){return T.index}function yb(T,la){T=T.get(la);if(!T)throw Error("node not found: "+la);return T}function Ab(){for(var T=0,la=arguments.length,xa={},R;T<la;++T){if(!(R=arguments[T]+"")||R in xa||/[\s.]/.test(R))throw Error("illegal type: "+R);xa[R]=[]}return new Pa(xa)}function Pa(T){this._=T}function Va(T,la){return T.trim().split(/^|\s+/).map(function(xa){var R="",ka=xa.indexOf(".");0<=ka&&(R=xa.slice(ka+1),xa=xa.slice(0,ka));if(xa&&!la.hasOwnProperty(xa))throw Error("unknown type: "+
xa);return{type:xa,name:R}})}function Xa(T,la,xa){for(var R=0,ka=T.length;R<ka;++R)if(T[R].name===la){T[R]=Oa;T=T.slice(0,R).concat(T.slice(R+1));break}null!=xa&&T.push({name:la,value:xa});return T}function Fa(){t=0}function pa(){this._call=this._time=this._next=null}function Aa(T,la,xa){var R=new pa;R.restart(T,la,xa);return R}function Ha(){t=(y=V.now())+H;ya=va=0;try{t||(E(Fa),t=V.now()+H);++ya;for(var T=G,la;T;)0<=(la=t-T._time)&&T._call.call(void 0,la),T=T._next;--ya}finally{ya=0;T=G;for(var xa=
Infinity;T;)if(T._call){xa>T._time&&(xa=T._time);var R=T;T=T._next}else la=T._next,T._next=null,T=R?R._next=la:G=la;Q=R;$a(xa);t=0}}function bb(){var T=V.now(),la=T-y;1E3<la&&(H-=la,y=T)}function $a(T){ya||(va&&(va=clearTimeout(va)),24<T-t?(Infinity>T&&(va=setTimeout(Ha,T-V.now()-H)),m&&(m=clearInterval(m))):(m||(y=V.now(),m=setInterval(bb,1E3)),ya=1,E(Ha)))}function Ca(){let T=1;return()=>(T=(1664525*T+1013904223)%4294967296)/4294967296}function Cb(T){return T.x}function xb(T){return T.y}function Mb(T){function la(){xa();
wc.call("tick",Ka);kb<Za&&(Lc.stop(),wc.call("end",Ka))}function xa(jc){var Sc,Ta=T.length;void 0===jc&&(jc=1);for(var Ea=0;Ea<jc;++Ea)for(kb+=(Ra-kb)*mb,mc.forEach(function(lb){lb(kb)}),Sc=0;Sc<Ta;++Sc){var ob=T[Sc];null==ob.fx?ob.x+=ob.vx*=Ob:(ob.x=ob.fx,ob.vx=0);null==ob.fy?ob.y+=ob.vy*=Ob:(ob.y=ob.fy,ob.vy=0)}return Ka}function R(){for(var jc=0,Sc=T.length,Ta;jc<Sc;++jc){Ta=T[jc];Ta.index=jc;null!=Ta.fx&&(Ta.x=Ta.fx);null!=Ta.fy&&(Ta.y=Ta.fy);if(isNaN(Ta.x)||isNaN(Ta.y)){var Ea=10*Math.sqrt(.5+
jc),ob=jc*K;Ta.x=Ea*Math.cos(ob);Ta.y=Ea*Math.sin(ob)}if(isNaN(Ta.vx)||isNaN(Ta.vy))Ta.vx=Ta.vy=0}}function ka(jc){jc.initialize&&jc.initialize(T,tc);return jc}var Ka,kb=1,Za=.001,mb=1-Math.pow(Za,1/300),Ra=0,Ob=.6,mc=new Map,Lc=Aa(la),wc=Ab("tick","end"),tc=Ca();null==T&&(T=[]);R();return Ka={tick:xa,restart:function(){return Lc.restart(la),Ka},stop:function(){return Lc.stop(),Ka},nodes:function(jc){return arguments.length?(T=jc,R(),mc.forEach(ka),Ka):T},alpha:function(jc){return arguments.length?
(kb=+jc,Ka):kb},alphaMin:function(jc){return arguments.length?(Za=+jc,Ka):Za},alphaDecay:function(jc){return arguments.length?(mb=+jc,Ka):+mb},alphaTarget:function(jc){return arguments.length?(Ra=+jc,Ka):Ra},velocityDecay:function(jc){return arguments.length?(Ob=1-jc,Ka):1-Ob},randomSource:function(jc){return arguments.length?(tc=jc,mc.forEach(ka),Ka):tc},force:function(jc,Sc){return 1<arguments.length?(null==Sc?mc.delete(jc):mc.set(jc,ka(Sc)),Ka):mc.get(jc)},find:function(jc,Sc,Ta){var Ea,ob=T.length;
Ta=null==Ta?Infinity:Ta*Ta;for(Ea=0;Ea<ob;++Ea){var lb=T[Ea];var Fb=jc-lb.x;var Wb=Sc-lb.y;Fb=Fb*Fb+Wb*Wb;if(Fb<Ta){var Xb=lb;Ta=Fb}}return Xb},on:function(jc,Sc){return 1<arguments.length?(wc.on(jc,Sc),Ka):wc.on(jc)}}}function kc(T){l.Transform.call(this,null,T)}function pb(T,la){return()=>T.touch(la).run()}function ca(T,la){T=Mb(T);const xa=T.stop,R=T.restart;let ka=!1;T.stopped=()=>ka;T.restart=()=>(ka=!1,R());T.stop=()=>(ka=!0,xa());return O(T,la,!0).on("end",()=>ka=!0)}function O(T,la,xa,R){var ka=
M.array(la.forces),Ka;var kb=0;for(Ka=L.length;kb<Ka;++kb){var Za=L[kb];if("forces"!==Za&&la.modified(Za))T[Za](la[Za])}kb=0;for(Ka=ka.length;kb<Ka;++kb){var mb="forces"+kb;if(xa||la.modified("forces",kb)){Za=void 0;var Ra=ka[kb];M.hasOwnProperty(z,Ra.force)||M.error("Unrecognized force: "+Ra.force);var Ob=z[Ra.force]();for(Za in Ra)M.isFunction(Ob[Za])&&oa(Ob[Za],Ra[Za],Ra);Za=Ob}else{if(Za=R)a:{Ob=Za=void 0;Ra=ka[kb];var mc=R;for(Ob in Ra)if(M.isFunction(Za=Ra[Ob])&&mc.modified(M.accessorFields(Za))){Za=
1;break a}Za=0}Za=Za?T.force(mb):null}Za&&T.force(mb,Za)}for(Ka=T.numForces||0;kb<Ka;++kb)T.force("forces"+kb,null);T.numForces=ka.length;return T}function oa(T,la,xa){T(M.isFunction(la)?R=>la(R,xa):la)}var ra=nc.prototype=Tb.prototype;ra.copy=function(){var T=new Tb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),la=this._root,xa,R;if(!la)return T;if(!la.length)return T._root=Gb(la),T;for(xa=[{source:la,target:T._root=Array(4)}];la=xa.pop();)for(var ka=0;4>ka;++ka)if(R=la.source[ka])R.length?
xa.push({source:R,target:la.target[ka]=Array(4)}):la.target[ka]=Gb(R);return T};ra.add=function(T){const la=+this._x.call(null,T),xa=+this._y.call(null,T);return cb(this.cover(la,xa),la,xa,T)};ra.addAll=function(T){var la,xa,R=T.length,ka,Ka,kb=Array(R),Za=Array(R),mb=Infinity,Ra=Infinity,Ob=-Infinity,mc=-Infinity;for(xa=0;xa<R;++xa)isNaN(ka=+this._x.call(null,la=T[xa]))||isNaN(Ka=+this._y.call(null,la))||(kb[xa]=ka,Za[xa]=Ka,ka<mb&&(mb=ka),ka>Ob&&(Ob=ka),Ka<Ra&&(Ra=Ka),Ka>mc&&(mc=Ka));if(mb>Ob||
Ra>mc)return this;this.cover(mb,Ra).cover(Ob,mc);for(xa=0;xa<R;++xa)cb(this,kb[xa],Za[xa],T[xa]);return this};ra.cover=function(T,la){if(isNaN(T=+T)||isNaN(la=+la))return this;var xa=this._x0,R=this._y0,ka=this._x1,Ka=this._y1;if(isNaN(xa))ka=(xa=Math.floor(T))+1,Ka=(R=Math.floor(la))+1;else{for(var kb=ka-xa||1,Za=this._root,mb,Ra;xa>T||T>=ka||R>la||la>=Ka;)switch(Ra=(la<R)<<1|T<xa,mb=Array(4),mb[Ra]=Za,Za=mb,kb*=2,Ra){case 0:ka=xa+kb;Ka=R+kb;break;case 1:xa=ka-kb;Ka=R+kb;break;case 2:ka=xa+kb;R=
Ka-kb;break;case 3:xa=ka-kb,R=Ka-kb}this._root&&this._root.length&&(this._root=Za)}this._x0=xa;this._y0=R;this._x1=ka;this._y1=Ka;return this};ra.data=function(){var T=[];this.visit(function(la){if(!la.length){do T.push(la.data);while(la=la.next)}});return T};ra.extent=function(T){return arguments.length?this.cover(+T[0][0],+T[0][1]).cover(+T[1][0],+T[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};ra.find=function(T,la,xa){var R=this._x0,ka=this._y0,Ka,kb,Za,mb,Ra=this._x1,
Ob=this._y1,mc=[],Lc=this._root,wc;Lc&&mc.push(new zb(Lc,R,ka,Ra,Ob));null==xa?xa=Infinity:(R=T-xa,ka=la-xa,Ra=T+xa,Ob=la+xa,xa*=xa);for(;wc=mc.pop();)if(!(!(Lc=wc.node)||(Ka=wc.x0)>Ra||(kb=wc.y0)>Ob||(Za=wc.x1)<R||(mb=wc.y1)<ka))if(Lc.length){wc=(Ka+Za)/2;var tc=(kb+mb)/2;mc.push(new zb(Lc[3],wc,tc,Za,mb),new zb(Lc[2],Ka,tc,wc,mb),new zb(Lc[1],wc,kb,Za,tc),new zb(Lc[0],Ka,kb,wc,tc));if(Lc=(la>=tc)<<1|T>=wc)wc=mc[mc.length-1],mc[mc.length-1]=mc[mc.length-1-Lc],mc[mc.length-1-Lc]=wc}else if(wc=T-+this._x.call(null,
Lc.data),tc=la-+this._y.call(null,Lc.data),wc=wc*wc+tc*tc,wc<xa){var jc=Math.sqrt(xa=wc);R=T-jc;ka=la-jc;Ra=T+jc;Ob=la+jc;jc=Lc.data}return jc};ra.remove=function(T){if(isNaN(mb=+this._x.call(null,T))||isNaN(Ra=+this._y.call(null,T)))return this;var la,xa=this._root,R,ka=this._x0,Ka=this._y0,kb=this._x1,Za=this._y1,mb,Ra,Ob,mc,Lc,wc,tc;if(!xa)return this;if(xa.length)for(;;){(Lc=mb>=(Ob=(ka+kb)/2))?ka=Ob:kb=Ob;(wc=Ra>=(mc=(Ka+Za)/2))?Ka=mc:Za=mc;if(!(la=xa,xa=xa[tc=wc<<1|Lc]))return this;if(!xa.length)break;
if(la[tc+1&3]||la[tc+2&3]||la[tc+3&3]){var jc=la;var Sc=tc}}for(;xa.data!==T;)if(!(R=xa,xa=xa.next))return this;(T=xa.next)&&delete xa.next;if(R)return T?R.next=T:delete R.next,this;if(!la)return this._root=T,this;T?la[tc]=T:delete la[tc];(xa=la[0]||la[1]||la[2]||la[3])&&xa===(la[3]||la[2]||la[1]||la[0])&&!xa.length&&(jc?jc[Sc]=xa:this._root=xa);return this};ra.removeAll=function(T){for(var la=0,xa=T.length;la<xa;++la)this.remove(T[la]);return this};ra.root=function(){return this._root};ra.size=function(){var T=
0;this.visit(function(la){if(!la.length){do++T;while(la=la.next)}});return T};ra.visit=function(T){var la=[],xa,R=this._root,ka,Ka,kb,Za,mb;for(R&&la.push(new zb(R,this._x0,this._y0,this._x1,this._y1));xa=la.pop();)if(!T(R=xa.node,Ka=xa.x0,kb=xa.y0,Za=xa.x1,mb=xa.y1)&&R.length){xa=(Ka+Za)/2;var Ra=(kb+mb)/2;(ka=R[3])&&la.push(new zb(ka,xa,Ra,Za,mb));(ka=R[2])&&la.push(new zb(ka,Ka,Ra,xa,mb));(ka=R[1])&&la.push(new zb(ka,xa,kb,Za,Ra));(ka=R[0])&&la.push(new zb(ka,Ka,kb,xa,Ra))}return this};ra.visitAfter=
function(T){var la=[],xa=[],R;for(this._root&&la.push(new zb(this._root,this._x0,this._y0,this._x1,this._y1));R=la.pop();){var ka=R.node;if(ka.length){var Ka,kb=R.x0,Za=R.y0,mb=R.x1,Ra=R.y1,Ob=(kb+mb)/2,mc=(Za+Ra)/2;(Ka=ka[0])&&la.push(new zb(Ka,kb,Za,Ob,mc));(Ka=ka[1])&&la.push(new zb(Ka,Ob,Za,mb,mc));(Ka=ka[2])&&la.push(new zb(Ka,kb,mc,Ob,Ra));(Ka=ka[3])&&la.push(new zb(Ka,Ob,mc,mb,Ra))}xa.push(R)}for(;R=xa.pop();)T(R.node,R.x0,R.y0,R.x1,R.y1);return this};ra.x=function(T){return arguments.length?
(this._x=T,this):this._x};ra.y=function(T){return arguments.length?(this._y=T,this):this._y};var Oa={value:()=>{}};Pa.prototype=Ab.prototype={constructor:Pa,on:function(T,la){var xa=this._,R=Va(T+"",xa),ka,Ka=-1,kb=R.length;if(2>arguments.length)for(;++Ka<kb;){var Za;if(Za=ka=(T=R[Ka]).type){a:{Za=xa[ka];for(var mb=0,Ra=Za.length;mb<Ra;++mb)if((ka=Za[mb]).name===T.name){ka=ka.value;break a}ka=void 0}Za=ka}if(Za)return ka}else{if(null!=la&&"function"!==typeof la)throw Error("invalid callback: "+la);
for(;++Ka<kb;)if(ka=(T=R[Ka]).type)xa[ka]=Xa(xa[ka],T.name,la);else if(null==la)for(ka in xa)xa[ka]=Xa(xa[ka],T.name,null);return this}},copy:function(){var T={},la=this._,xa;for(xa in la)T[xa]=la[xa].slice();return new Pa(T)},call:function(T,la){if(0<(ka=arguments.length-2))for(var xa=Array(ka),R=0,ka,Ka;R<ka;++R)xa[R]=arguments[R+2];if(!this._.hasOwnProperty(T))throw Error("unknown type: "+T);Ka=this._[T];R=0;for(ka=Ka.length;R<ka;++R)Ka[R].value.apply(la,xa)},apply:function(T,la,xa){if(!this._.hasOwnProperty(T))throw Error("unknown type: "+
T);T=this._[T];for(var R=0,ka=T.length;R<ka;++R)T[R].value.apply(la,xa)}};var ya=0,va=0,m=0,G,Q,y=0,t=0,H=0,V="object"===typeof performance&&performance.now?performance:Date,E="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(T){setTimeout(T,17)};pa.prototype=Aa.prototype={constructor:pa,restart:function(T,la,xa){if("function"!==typeof T)throw new TypeError("callback is not a function");xa=(null==xa?t||(E(Fa),t=V.now()+H):+xa)+(null==la?0:+la);
this._next||Q===this||(Q?Q._next=this:G=this,Q=this);this._call=T;this._time=xa;$a()},stop:function(){this._call&&(this._call=null,this._time=Infinity,$a())}};var K=Math.PI*(3-Math.sqrt(5));const z={center:function(T,la){function xa(){var Ka,kb=R.length,Za=0,mb=0;for(Ka=0;Ka<kb;++Ka){var Ra=R[Ka];Za+=Ra.x;mb+=Ra.y}Za=(Za/kb-T)*ka;mb=(mb/kb-la)*ka;for(Ka=0;Ka<kb;++Ka)Ra=R[Ka],Ra.x-=Za,Ra.y-=mb}var R,ka=1;null==T&&(T=0);null==la&&(la=0);xa.initialize=function(Ka){R=Ka};xa.x=function(Ka){return arguments.length?
(T=+Ka,xa):T};xa.y=function(Ka){return arguments.length?(la=+Ka,xa):la};xa.strength=function(Ka){return arguments.length?(ka=+Ka,xa):ka};return xa},collide:function(T){function la(){function Ra(ob,lb,Fb,Wb,Xb){var ic=ob.data;ob=ob.r;var xc=Sc+ob;if(ic)ic.index>wc.index&&(lb=tc-ic.x-ic.vx,Fb=jc-ic.y-ic.vy,Wb=lb*lb+Fb*Fb,Wb<xc*xc&&(0===lb&&(lb=1E-6*(kb()-.5),Wb+=lb*lb),0===Fb&&(Fb=1E-6*(kb()-.5),Wb+=Fb*Fb),Wb=(xc-(Wb=Math.sqrt(Wb)))/Wb*Za,wc.vx+=(lb*=Wb)*(xc=(ob*=ob)/(Ta+ob)),wc.vy+=(Fb*=Wb)*xc,ic.vx-=
lb*(xc=1-xc),ic.vy-=Fb*xc));else return lb>tc+xc||Wb<tc-xc||Fb>jc+xc||Xb<jc-xc}for(var Ob,mc=ka.length,Lc,wc,tc,jc,Sc,Ta,Ea=0;Ea<mb;++Ea)for(Lc=nc(ka,fc,Ba).visitAfter(xa),Ob=0;Ob<mc;++Ob)wc=ka[Ob],Sc=Ka[wc.index],Ta=Sc*Sc,tc=wc.x+wc.vx,jc=wc.y+wc.vy,Lc.visit(Ra)}function xa(Ra){if(Ra.data)return Ra.r=Ka[Ra.data.index];for(var Ob=Ra.r=0;4>Ob;++Ob)Ra[Ob]&&Ra[Ob].r>Ra.r&&(Ra.r=Ra[Ob].r)}function R(){if(ka){var Ra,Ob=ka.length;Ka=Array(Ob);for(Ra=0;Ra<Ob;++Ra){var mc=ka[Ra];Ka[mc.index]=+T(mc,Ra,ka)}}}
var ka,Ka,kb,Za=1,mb=1;"function"!==typeof T&&(T=Db(null==T?1:+T));la.initialize=function(Ra,Ob){ka=Ra;kb=Ob;R()};la.iterations=function(Ra){return arguments.length?(mb=+Ra,la):mb};la.strength=function(Ra){return arguments.length?(Za=+Ra,la):Za};la.radius=function(Ra){return arguments.length?(T="function"===typeof Ra?Ra:Db(+Ra),R(),la):T};return la},nbody:function(){function T(wc){var tc=ka.length,jc=nc(ka,Cb,xb).visitAfter(xa);Za=wc;for(wc=0;wc<tc;++wc)Ka=ka[wc],jc.visit(R)}function la(){if(ka){var wc,
tc=ka.length;Ra=Array(tc);for(wc=0;wc<tc;++wc){var jc=ka[wc];Ra[jc.index]=+mb(jc,wc,ka)}}}function xa(wc){var tc=0,jc,Sc,Ta=0,Ea,ob,lb;if(wc.length){for(Ea=ob=lb=0;4>lb;++lb)(jc=wc[lb])&&(Sc=Math.abs(jc.value))&&(tc+=jc.value,Ta+=Sc,Ea+=Sc*jc.x,ob+=Sc*jc.y);wc.x=Ea/Ta;wc.y=ob/Ta}else{jc=wc;jc.x=jc.data.x;jc.y=jc.data.y;do tc+=Ra[jc.data.index];while(jc=jc.next)}wc.value=tc}function R(wc,tc,jc,Sc){if(!wc.value)return!0;jc=wc.x-Ka.x;var Ta=wc.y-Ka.y;tc=Sc-tc;Sc=jc*jc+Ta*Ta;if(tc*tc/Lc<Sc)return Sc<
mc&&(0===jc&&(jc=1E-6*(kb()-.5),Sc+=jc*jc),0===Ta&&(Ta=1E-6*(kb()-.5),Sc+=Ta*Ta),Sc<Ob&&(Sc=Math.sqrt(Ob*Sc)),Ka.vx+=jc*wc.value*Za/Sc,Ka.vy+=Ta*wc.value*Za/Sc),!0;if(!(wc.length||Sc>=mc)){if(wc.data!==Ka||wc.next)0===jc&&(jc=1E-6*(kb()-.5),Sc+=jc*jc),0===Ta&&(Ta=1E-6*(kb()-.5),Sc+=Ta*Ta),Sc<Ob&&(Sc=Math.sqrt(Ob*Sc));do wc.data!==Ka&&(tc=Ra[wc.data.index]*Za/Sc,Ka.vx+=jc*tc,Ka.vy+=Ta*tc);while(wc=wc.next)}}var ka,Ka,kb,Za,mb=Db(-30),Ra,Ob=1,mc=Infinity,Lc=.81;T.initialize=function(wc,tc){ka=wc;kb=
tc;la()};T.strength=function(wc){return arguments.length?(mb="function"===typeof wc?wc:Db(+wc),la(),T):mb};T.distanceMin=function(wc){return arguments.length?(Ob=wc*wc,T):Math.sqrt(Ob)};T.distanceMax=function(wc){return arguments.length?(mc=wc*wc,T):Math.sqrt(mc)};T.theta=function(wc){return arguments.length?(Lc=wc*wc,T):Math.sqrt(Lc)};return T},link:function(T){function la(jc){for(var Sc=0,Ta=T.length;Sc<tc;++Sc)for(var Ea=0,ob,lb,Fb,Wb,Xb;Ea<Ta;++Ea)ob=T[Ea],lb=ob.source,ob=ob.target,Fb=ob.x+ob.vx-
lb.x-lb.vx||1E-6*(wc()-.5),Wb=ob.y+ob.vy-lb.y-lb.vy||1E-6*(wc()-.5),Xb=Math.sqrt(Fb*Fb+Wb*Wb),Xb=(Xb-Ra[Ea])/Xb*jc*Za[Ea],Fb*=Xb,Wb*=Xb,ob.vx-=Fb*(Xb=Lc[Ea]),ob.vy-=Wb*Xb,lb.vx+=Fb*(Xb=1-Xb),lb.vy+=Wb*Xb}function xa(){if(Ob){var jc=Ob.length,Sc=T.length,Ta=new Map(Ob.map((ob,lb)=>[Ka(ob,lb,Ob),ob]));var Ea=0;for(mc=Array(jc);Ea<Sc;++Ea)jc=T[Ea],jc.index=Ea,"object"!==typeof jc.source&&(jc.source=yb(Ta,jc.source)),"object"!==typeof jc.target&&(jc.target=yb(Ta,jc.target)),mc[jc.source.index]=(mc[jc.source.index]||
0)+1,mc[jc.target.index]=(mc[jc.target.index]||0)+1;Ea=0;for(Lc=Array(Sc);Ea<Sc;++Ea)jc=T[Ea],Lc[Ea]=mc[jc.source.index]/(mc[jc.source.index]+mc[jc.target.index]);Za=Array(Sc);R();Ra=Array(Sc);ka()}}function R(){if(Ob)for(var jc=0,Sc=T.length;jc<Sc;++jc)Za[jc]=+kb(T[jc],jc,T)}function ka(){if(Ob)for(var jc=0,Sc=T.length;jc<Sc;++jc)Ra[jc]=+mb(T[jc],jc,T)}var Ka=jb,kb=function(jc){return 1/Math.min(mc[jc.source.index],mc[jc.target.index])},Za,mb=Db(30),Ra,Ob,mc,Lc,wc,tc=1;null==T&&(T=[]);la.initialize=
function(jc,Sc){Ob=jc;wc=Sc;xa()};la.links=function(jc){return arguments.length?(T=jc,xa(),la):T};la.id=function(jc){return arguments.length?(Ka=jc,la):Ka};la.iterations=function(jc){return arguments.length?(tc=+jc,la):tc};la.strength=function(jc){return arguments.length?(kb="function"===typeof jc?jc:Db(+jc),R(),la):kb};la.distance=function(jc){return arguments.length?(mb="function"===typeof jc?jc:Db(+jc),ka(),la):mb};return la},x:function(T){function la(Za){for(var mb=0,Ra=ka.length,Ob;mb<Ra;++mb)Ob=
ka[mb],Ob.vx+=(kb[mb]-Ob.x)*Ka[mb]*Za}function xa(){if(ka){var Za,mb=ka.length;Ka=Array(mb);kb=Array(mb);for(Za=0;Za<mb;++Za)Ka[Za]=isNaN(kb[Za]=+T(ka[Za],Za,ka))?0:+R(ka[Za],Za,ka)}}var R=Db(.1),ka,Ka,kb;"function"!==typeof T&&(T=Db(null==T?0:+T));la.initialize=function(Za){ka=Za;xa()};la.strength=function(Za){return arguments.length?(R="function"===typeof Za?Za:Db(+Za),xa(),la):R};la.x=function(Za){return arguments.length?(T="function"===typeof Za?Za:Db(+Za),xa(),la):T};return la},y:function(T){function la(Za){for(var mb=
0,Ra=ka.length,Ob;mb<Ra;++mb)Ob=ka[mb],Ob.vy+=(kb[mb]-Ob.y)*Ka[mb]*Za}function xa(){if(ka){var Za,mb=ka.length;Ka=Array(mb);kb=Array(mb);for(Za=0;Za<mb;++Za)Ka[Za]=isNaN(kb[Za]=+T(ka[Za],Za,ka))?0:+R(ka[Za],Za,ka)}}var R=Db(.1),ka,Ka,kb;"function"!==typeof T&&(T=Db(null==T?0:+T));la.initialize=function(Za){ka=Za;xa()};la.strength=function(Za){return arguments.length?(R="function"===typeof Za?Za:Db(+Za),xa(),la):R};la.y=function(Za){return arguments.length?(T="function"===typeof Za?Za:Db(+Za),xa(),
la):T};return la}},L=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],X=["static","iterations"],qa=["x","y","vx","vy"];kc.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},
{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},
{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":qa}]};M.inherits(kc,l.Transform,
{transform(T,la){var xa=this.value,R=la.changed(la.ADD_REM),ka=T.modified(L),Ka=T.iterations||300;xa?(R&&(la.modifies("index"),xa.nodes(la.source)),(ka||la.changed(la.MOD))&&O(xa,T,0,la)):(this.value=xa=ca(la.source,T),xa.on("tick",pb(la.dataflow,this)),T.static||(R=!0,xa.tick()),la.modifies("index"));if(ka||R||T.modified(X)||la.changed()&&T.restart)if(xa.alpha(Math.max(xa.alpha(),T.alpha||1)).alphaDecay(1-Math.pow(xa.alphaMin(),1/Ka)),T.static)for(xa.stop();0<=--Ka;)xa.tick();else if(xa.stopped()&&
xa.restart(),!R)return la.StopPropagation;return this.finish(T,la)},finish(T,la){const xa=la.dataflow;for(let Za=this._argops,mb=0,Ra=Za.length,Ob;mb<Ra;++mb)if(Ob=Za[mb],"forces"===Ob.name&&"link"===Ob.op._argval.force)for(var R=Ob.op._argops,ka=0,Ka=R.length,kb;ka<Ka;++ka)if("links"===R[ka].name&&(kb=R[ka].op.source)){xa.pulse(kb,xa.changeset().reflow());break}return la.reflow(T.modified()).modifies(qa)}});x.force=kc;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[39]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(28),vb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega))})(this,function(x,l,M){function cb(Ta,Ea,ob){const lb={};Ta.each(Fb=>{const Wb=Fb.data;ob(Wb)&&(lb[Ea(Wb)]=Fb)});Ta.lookup=lb;return Ta}function zb(Ta,Ea){return Ta.parent===Ea.parent?1:2}function Zb(Ta,Ea){return Ta+
Ea.x}function gc(Ta,Ea){return Math.max(Ta,Ea.y)}function nc(Ta){for(var Ea;Ea=Ta.children;)Ta=Ea[0];return Ta}function Tb(Ta){for(var Ea;Ea=Ta.children;)Ta=Ea[Ea.length-1];return Ta}function Gb(Ta){var Ea=0,ob=Ta.children,lb=ob&&ob.length;if(lb)for(;0<=--lb;)Ea+=ob[lb].value;else Ea=1;Ta.value=Ea}function Db(Ta,Ea){Ta instanceof Map?(Ta=[void 0,Ta],void 0===Ea&&(Ea=Ba)):void 0===Ea&&(Ea=fc);Ta=new Ab(Ta);for(var ob,lb=[Ta],Fb,Wb,Xb,ic;ob=lb.pop();)if((Wb=Ea(ob.data))&&(ic=(Wb=Array.from(Wb)).length))for(ob.children=
Wb,Xb=ic-1;0<=Xb;--Xb)lb.push(Fb=Wb[Xb]=new Ab(Wb[Xb])),Fb.parent=ob,Fb.depth=ob.depth+1;return Ta.eachBefore(yb)}function fc(Ta){return Ta.children}function Ba(Ta){return Array.isArray(Ta)?Ta[1]:null}function jb(Ta){void 0!==Ta.data.value&&(Ta.value=Ta.data.value);Ta.data=Ta.data.data}function yb(Ta){var Ea=0;do Ta.height=Ea;while((Ta=Ta.parent)&&Ta.height<++Ea)}function Ab(Ta){this.data=Ta;this.depth=this.height=0;this.parent=null}function Pa(Ta,Ea){var ob=Ta.r-Ea.r,lb=Ea.x-Ta.x;Ta=Ea.y-Ta.y;return 0>
ob||ob*ob<lb*lb+Ta*Ta}function Va(Ta,Ea){var ob=Ta.r-Ea.r+1E-9*Math.max(Ta.r,Ea.r,1),lb=Ea.x-Ta.x;Ta=Ea.y-Ta.y;return 0<ob&&ob*ob>lb*lb+Ta*Ta}function Xa(Ta,Ea){for(var ob=0;ob<Ea.length;++ob)if(!Va(Ta,Ea[ob]))return!1;return!0}function Fa(Ta,Ea){var ob=Ta.x,lb=Ta.y;Ta=Ta.r;var Fb=Ea.x,Wb=Ea.y;Ea=Ea.r;var Xb=Fb-ob,ic=Wb-lb,xc=Ea-Ta,kd=Math.sqrt(Xb*Xb+ic*ic);return{x:(ob+Fb+Xb/kd*xc)/2,y:(lb+Wb+ic/kd*xc)/2,r:(kd+Ta+Ea)/2}}function pa(Ta,Ea,ob){var lb=Ta.x,Fb=Ta.y;Ta=Ta.r;var Wb=Ea.x,Xb=Ea.y,ic=Ea.r,
xc=ob.x,kd=ob.y,B=ob.r;ob=lb-Wb;Ea=lb-xc;var w=Fb-Xb,C=Fb-kd,aa=ic-Ta,fa=B-Ta,za=lb*lb+Fb*Fb-Ta*Ta;Xb=za-Wb*Wb-Xb*Xb+ic*ic;kd=za-xc*xc-kd*kd+B*B;xc=Ea*w-ob*C;Wb=(w*kd-C*Xb)/(2*xc)-lb;w=(C*aa-w*fa)/xc;C=(Ea*Xb-ob*kd)/(2*xc)-Fb;ob=(ob*fa-Ea*aa)/xc;Ea=w*w+ob*ob-1;aa=2*(Ta+Wb*w+C*ob);Ta=Wb*Wb+C*C-Ta*Ta;Ta=-(Ea?(aa+Math.sqrt(aa*aa-4*Ea*Ta))/(2*Ea):Ta/aa);return{x:lb+Wb+w*Ta,y:Fb+C+ob*Ta,r:Ta}}function Aa(Ta,Ea,ob){var lb=Ta.x-Ea.x,Fb=Ta.y-Ea.y,Wb=lb*lb+Fb*Fb;if(Wb){var Xb=Ea.r+ob.r;Xb*=Xb;var ic=Ta.r+
ob.r;ic*=ic;if(Xb>ic){var xc=(Wb+ic-Xb)/(2*Wb);Xb=Math.sqrt(Math.max(0,ic/Wb-xc*xc));ob.x=Ta.x-xc*lb-Xb*Fb;ob.y=Ta.y-xc*Fb+Xb*lb}else xc=(Wb+Xb-ic)/(2*Wb),Xb=Math.sqrt(Math.max(0,Xb/Wb-xc*xc)),ob.x=Ea.x+xc*lb-Xb*Fb,ob.y=Ea.y+xc*Fb+Xb*lb}else ob.x=Ea.x+ob.r,ob.y=Ea.y}function Ha(Ta,Ea){var ob=Ta.r+Ea.r-1E-6,lb=Ea.x-Ta.x;Ta=Ea.y-Ta.y;return 0<ob&&ob*ob>lb*lb+Ta*Ta}function bb(Ta){var Ea=Ta._,ob=Ta.next._,lb=Ea.r+ob.r;Ta=(Ea.x*ob.r+ob.x*Ea.r)/lb;Ea=(Ea.y*ob.r+ob.y*Ea.r)/lb;return Ta*Ta+Ea*Ea}function $a(Ta){this._=
Ta;this.previous=this.next=null}function Ca(Ta){if(!(ob=(Ta="object"===typeof Ta&&"length"in Ta?Ta:Array.from(Ta)).length))return 0;var Ea,ob;var lb=Ta[0];lb.x=0;lb.y=0;if(!(1<ob))return lb.r;var Fb=Ta[1];lb.x=-Fb.r;Fb.x=lb.r;Fb.y=0;if(!(2<ob))return lb.r+Fb.r;Aa(Fb,lb,Ea=Ta[2]);lb=new $a(lb);Fb=new $a(Fb);Ea=new $a(Ea);lb.next=Ea.previous=Fb;Fb.next=lb.previous=Ea;Ea.next=Fb.previous=lb;var Wb=3;a:for(;Wb<ob;++Wb){Aa(lb._,Fb._,Ea=Ta[Wb]);Ea=new $a(Ea);var Xb=Fb.next;var ic=lb.previous;var xc=Fb._.r;
var kd=lb._.r;do if(xc<=kd){if(Ha(Xb._,Ea._)){Fb=Xb;lb.next=Fb;Fb.previous=lb;--Wb;continue a}xc+=Xb._.r;Xb=Xb.next}else{if(Ha(ic._,Ea._)){lb=ic;lb.next=Fb;Fb.previous=lb;--Wb;continue a}kd+=ic._.r;ic=ic.previous}while(Xb!==ic.next);Ea.previous=lb;Ea.next=Fb;lb.next=Fb.previous=Fb=Ea;for(Xb=bb(lb);(Ea=Ea.next)!==Fb;)(ic=bb(Ea))<Xb&&(lb=Ea,Xb=ic);Fb=lb.next}lb=[Fb._];for(Ea=Fb;(Ea=Ea.next)!==Fb;)lb.push(Ea._);Ea=0;lb=Array.from(lb);for(Fb=lb.length;Fb;)Xb=Math.random()*Fb--|0,Wb=lb[Fb],lb[Fb]=lb[Xb],
lb[Xb]=Wb;Fb=lb.length;Wb=[];for(var B;Ea<Fb;)if(Xb=lb[Ea],B&&Va(B,Xb))++Ea;else{a:if(B=Wb,Xa(Xb,B))B=[Xb];else{for(Wb=0;Wb<B.length;++Wb)if(Pa(Xb,B[Wb])&&Xa(Fa(B[Wb],Xb),B)){B=[B[Wb],Xb];break a}for(Wb=0;Wb<B.length-1;++Wb)for(Ea=Wb+1;Ea<B.length;++Ea)if(Pa(Fa(B[Wb],B[Ea]),Xb)&&Pa(Fa(B[Wb],Xb),B[Ea])&&Pa(Fa(B[Ea],Xb),B[Wb])&&Xa(pa(B[Wb],B[Ea],Xb),B)){B=[B[Wb],B[Ea],Xb];break a}throw Error();}a:{B=Wb=B;switch(B.length){case 1:B=B[0];B={x:B.x,y:B.y,r:B.r};break a;case 2:B=Fa(B[0],B[1]);break a;case 3:B=
pa(B[0],B[1],B[2]);break a}B=void 0}Ea=0}Ea=B;for(Wb=0;Wb<ob;++Wb)lb=Ta[Wb],lb.x-=Ea.x,lb.y-=Ea.y;return Ea.r}function Cb(Ta){if("function"!==typeof Ta)throw Error();return Ta}function xb(){return 0}function Mb(Ta){return function(){return Ta}}function kc(Ta){return Math.sqrt(Ta.value)}function pb(Ta){return function(Ea){Ea.children||(Ea.r=Math.max(0,+Ta(Ea)||0))}}function ca(Ta,Ea){return function(ob){if(lb=ob.children){var lb,Fb,Wb=lb.length,Xb=Ta(ob)*Ea||0;if(Xb)for(Fb=0;Fb<Wb;++Fb)lb[Fb].r+=Xb;
var ic=Ca(lb);if(Xb)for(Fb=0;Fb<Wb;++Fb)lb[Fb].r-=Xb;ob.r=ic+Xb}}}function O(Ta){return function(Ea){var ob=Ea.parent;Ea.r*=Ta;ob&&(Ea.x=ob.x+Ta*Ea.x,Ea.y=ob.y+Ta*Ea.y)}}function oa(Ta){Ta.x0=Math.round(Ta.x0);Ta.y0=Math.round(Ta.y0);Ta.x1=Math.round(Ta.x1);Ta.y1=Math.round(Ta.y1)}function ra(Ta,Ea,ob,lb,Fb){var Wb=Ta.children,Xb=-1,ic=Wb.length;for(lb=Ta.value&&(lb-Ea)/Ta.value;++Xb<ic;)Ta=Wb[Xb],Ta.y0=ob,Ta.y1=Fb,Ta.x0=Ea,Ta.x1=Ea+=Ta.value*lb}function Oa(Ta){return Ta.id}function ya(Ta){return Ta.parentId}
function va(){function Ta(Fb){var Wb=Array.from(Fb),Xb=Ea,ic=ob,xc,kd,B=new Map;if(null!=lb){const eb=Wb.map((ib,Vb)=>{ib=lb(ib,Vb,Fb);ib=`${ib}`;Vb=ib.length;G(ib,Vb-1)&&!G(ib,Vb-2)&&(ib=ib.slice(0,-1));return"/"===ib[0]?ib:`/${ib}`}),fb=eb.map(m);Xb=(new Set(eb)).add("");for(aa of fb)Xb.has(aa)||(Xb.add(aa),eb.push(aa),fb.push(m(aa)),Wb.push(Ra));Xb=(ib,Vb)=>eb[Vb];ic=(ib,Vb)=>fb[Vb]}var w=0;for(xc=Wb.length;w<xc;++w){var C=Wb[w];var aa=Wb[w]=new Ab(C);if(null!=(kd=Xb(C,w,Fb))&&(kd+="")){var fa=
aa.id=kd;B.set(fa,B.has(fa)?mb:aa)}null!=(kd=ic(C,w,Fb))&&(kd+="")&&(aa.parent=kd)}for(w=0;w<xc;++w)if(aa=Wb[w],kd=aa.parent){Xb=B.get(kd);if(!Xb)throw Error("missing: "+kd);if(Xb===mb)throw Error("ambiguous: "+kd);Xb.children?Xb.children.push(aa):Xb.children=[aa];aa.parent=Xb}else{if(za)throw Error("multiple roots");var za=aa}if(!za)throw Error("no root");if(null!=lb){for(;za.data===Ra&&1===za.children.length;)za=za.children[0],--xc;for(kd=Wb.length-1;0<=kd;--kd){aa=Wb[kd];if(aa.data!==Ra)break;
aa.data=null}}za.parent=Za;za.eachBefore(function(eb){eb.depth=eb.parent.depth+1;--xc}).eachBefore(yb);za.parent=null;if(0<xc)throw Error("cycle");return za}var Ea=Oa,ob=ya,lb;Ta.id=function(Fb){return arguments.length?(Ea=null==Fb?null:Cb(Fb),Ta):Ea};Ta.parentId=function(Fb){return arguments.length?(ob=null==Fb?null:Cb(Fb),Ta):ob};Ta.path=function(Fb){return arguments.length?(lb=null==Fb?null:Cb(Fb),Ta):lb};return Ta}function m(Ta){let Ea=Ta.length;if(2>Ea)return"";for(;1<--Ea&&!G(Ta,Ea););return Ta.slice(0,
Ea)}function G(Ta,Ea){if("/"===Ta[Ea]){let ob=0;for(;0<Ea&&"\\"===Ta[--Ea];)++ob;if(0===(ob&1))return!0}return!1}function Q(Ta,Ea){return Ta.parent===Ea.parent?1:2}function y(Ta){var Ea=Ta.children;return Ea?Ea[0]:Ta.t}function t(Ta){var Ea=Ta.children;return Ea?Ea[Ea.length-1]:Ta.t}function H(Ta,Ea){this._=Ta;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Ea}function V(Ta){Ta=new H(Ta,0);for(var Ea,ob=[Ta],lb,Fb,Wb;Ea=ob.pop();)if(Fb=Ea._.children)for(Ea.children=
Array(lb=Fb.length),Wb=lb-1;0<=Wb;--Wb)ob.push(lb=Ea.children[Wb]=new H(Fb[Wb],Wb)),lb.parent=Ea;(Ta.parent=new H(null,0)).children=[Ta];return Ta}function E(Ta,Ea,ob,lb,Fb){var Wb=Ta.children,Xb=-1,ic=Wb.length;for(Fb=Ta.value&&(Fb-ob)/Ta.value;++Xb<ic;)Ta=Wb[Xb],Ta.x0=Ea,Ta.x1=lb,Ta.y0=ob,Ta.y1=ob+=Ta.value*Fb}function K(Ta,Ea,ob,lb,Fb,Wb){for(var Xb=[],ic=Ea.children,xc,kd,B=xc=0,w=ic.length,C,aa=Ea.value,fa,za,eb,fb,ib,Vb;xc<w;){Ea=Fb-ob;C=Wb-lb;do fa=ic[B++].value;while(!fa&&B<w);za=eb=fa;Vb=
Math.max(C/Ea,Ea/C)/(aa*Ta);fb=fa*fa*Vb;for(ib=Math.max(eb/fb,fb/za);B<w;++B){fa+=kd=ic[B].value;kd<za&&(za=kd);kd>eb&&(eb=kd);fb=fa*fa*Vb;fb=Math.max(eb/fb,fb/za);if(fb>ib){fa-=kd;break}ib=fb}Xb.push(xc={value:fa,dice:Ea<C,children:ic.slice(xc,B)});xc.dice?ra(xc,ob,lb,Fb,aa?lb+=C*fa/aa:Wb):E(xc,ob,lb,aa?ob+=Ea*fa/aa:Fb,Wb);aa-=fa;xc=B}return Xb}function z(){function Ta(C){C.x0=C.y0=0;C.x1=Fb;C.y1=Wb;C.eachBefore(Ea);Xb=[0];lb&&C.eachBefore(oa);return C}function Ea(C){var aa=Xb[C.depth],fa=C.x0+aa,
za=C.y0+aa,eb=C.x1-aa,fb=C.y1-aa;eb<fa&&(fa=eb=(fa+eb)/2);fb<za&&(za=fb=(za+fb)/2);C.x0=fa;C.y0=za;C.x1=eb;C.y1=fb;C.children&&(aa=Xb[C.depth+1]=ic(C)/2,fa+=w(C)-aa,za+=xc(C)-aa,eb-=kd(C)-aa,fb-=B(C)-aa,eb<fa&&(fa=eb=(fa+eb)/2),fb<za&&(za=fb=(za+fb)/2),ob(C,fa,za,eb,fb))}var ob=mc,lb=!1,Fb=1,Wb=1,Xb=[0],ic=xb,xc=xb,kd=xb,B=xb,w=xb;Ta.round=function(C){return arguments.length?(lb=!!C,Ta):lb};Ta.size=function(C){return arguments.length?(Fb=+C[0],Wb=+C[1],Ta):[Fb,Wb]};Ta.tile=function(C){return arguments.length?
(ob=Cb(C),Ta):ob};Ta.padding=function(C){return arguments.length?Ta.paddingInner(C).paddingOuter(C):Ta.paddingInner()};Ta.paddingInner=function(C){return arguments.length?(ic="function"===typeof C?C:Mb(+C),Ta):ic};Ta.paddingOuter=function(C){return arguments.length?Ta.paddingTop(C).paddingRight(C).paddingBottom(C).paddingLeft(C):Ta.paddingTop()};Ta.paddingTop=function(C){return arguments.length?(xc="function"===typeof C?C:Mb(+C),Ta):xc};Ta.paddingRight=function(C){return arguments.length?(kd="function"===
typeof C?C:Mb(+C),Ta):kd};Ta.paddingBottom=function(C){return arguments.length?(B="function"===typeof C?C:Mb(+C),Ta):B};Ta.paddingLeft=function(C){return arguments.length?(w="function"===typeof C?C:Mb(+C),Ta):w};return Ta}function L(Ta){l.Transform.call(this,null,Ta)}function X(){function Ta(Fb,Wb){if(Wb>=ob.length)return Fb;const Xb=Fb.length,ic=ob[Wb++],xc={},kd={};let B=-1,w,C,aa;for(;++B<Xb;)w=ic(C=Fb[B])+"",(aa=xc[w])?aa.push(C):xc[w]=[C];for(w in xc)kd[w]=Ta(xc[w],Wb);return kd}function Ea(Fb,
Wb){if(++Wb>ob.length)return Fb;const Xb=[];for(const ic in Fb)Xb.push({key:ic,values:Ea(Fb[ic],Wb)});return Xb}const ob=[],lb={entries:Fb=>Ea(Ta(Fb,0),0),key:Fb=>(ob.push(Fb),lb)};return lb}function qa(Ta){l.Transform.call(this,null,Ta)}function T(Ta,Ea,ob){for(let lb,Fb=0,Wb=Ea.length;Fb<Wb;++Fb)if(lb=Ea[Fb],lb in ob)Ta[lb](ob[lb])}function la(Ta){qa.call(this,Ta)}function xa(Ta){qa.call(this,Ta)}function R(Ta){l.Transform.call(this,null,Ta)}function ka(Ta){qa.call(this,Ta)}function Ka(Ta){l.Transform.call(this,
[],Ta)}function kb(Ta){qa.call(this,Ta)}Ab.prototype=Db.prototype={constructor:Ab,count:function(){return this.eachAfter(Gb)},each:function(Ta,Ea){let ob=-1;for(const lb of this)Ta.call(Ea,lb,++ob,this);return this},eachAfter:function(Ta,Ea){for(var ob,lb=[this],Fb=[],Wb,Xb,ic=-1;ob=lb.pop();)if(Fb.push(ob),ob=ob.children)for(Wb=0,Xb=ob.length;Wb<Xb;++Wb)lb.push(ob[Wb]);for(;ob=Fb.pop();)Ta.call(Ea,ob,++ic,this);return this},eachBefore:function(Ta,Ea){for(var ob,lb=[this],Fb,Wb=-1;ob=lb.pop();)if(Ta.call(Ea,
ob,++Wb,this),ob=ob.children)for(Fb=ob.length-1;0<=Fb;--Fb)lb.push(ob[Fb]);return this},find:function(Ta,Ea){let ob=-1;for(const lb of this)if(Ta.call(Ea,lb,++ob,this))return lb},sum:function(Ta){return this.eachAfter(function(Ea){for(var ob=+Ta(Ea.data)||0,lb=Ea.children,Fb=lb&&lb.length;0<=--Fb;)ob+=lb[Fb].value;Ea.value=ob})},sort:function(Ta){return this.eachBefore(function(Ea){Ea.children&&Ea.children.sort(Ta)})},path:function(Ta){var Ea=this;var ob=Ea;var lb=Ta;if(ob!==lb){var Fb=ob.ancestors(),
Wb=lb.ancestors(),Xb=null;ob=Fb.pop();for(lb=Wb.pop();ob===lb;)Xb=ob,ob=Fb.pop(),lb=Wb.pop();ob=Xb}for(lb=[Ea];Ea!==ob;)Ea=Ea.parent,lb.push(Ea);for(Ea=lb.length;Ta!==ob;)lb.splice(Ea,0,Ta),Ta=Ta.parent;return lb},ancestors:function(){for(var Ta=this,Ea=[Ta];Ta=Ta.parent;)Ea.push(Ta);return Ea},descendants:function(){return Array.from(this)},leaves:function(){var Ta=[];this.eachBefore(function(Ea){Ea.children||Ta.push(Ea)});return Ta},links:function(){var Ta=this,Ea=[];Ta.each(function(ob){ob!==Ta&&
Ea.push({source:ob.parent,target:ob})});return Ea},copy:function(){return Db(this).eachBefore(jb)},[Symbol.iterator]:function*(){var Ta,Ea=[this],ob;do{var lb=Ea.reverse();for(Ea=[];Ta=lb.pop();)if(yield Ta,Ta=Ta.children){var Fb=0;for(ob=Ta.length;Fb<ob;++Fb)Ea.push(Ta[Fb])}}while(Ea.length)}};var Za={depth:-1},mb={},Ra={};H.prototype=Object.create(Ab.prototype);var Ob=(1+Math.sqrt(5))/2,mc=function ob(Ea){function lb(Fb,Wb,Xb,ic,xc){K(Ea,Fb,Wb,Xb,ic,xc)}lb.ratio=function(Fb){return ob(1<(Fb=+Fb)?
Fb:1)};return lb}(Ob);Ob=function lb(ob){function Fb(Wb,Xb,ic,xc,kd){if((B=Wb._squarify)&&B.ratio===ob)for(var B,w,C,aa=-1,fa,za=B.length,eb=Wb.value;++aa<za;){Wb=B[aa];w=Wb.children;C=Wb.value=0;for(fa=w.length;C<fa;++C)Wb.value+=w[C].value;Wb.dice?ra(Wb,Xb,ic,xc,eb?ic+=(kd-ic)*Wb.value/eb:kd):E(Wb,Xb,ic,eb?Xb+=(xc-Xb)*Wb.value/eb:xc,kd);eb-=Wb.value}else Wb._squarify=B=K(ob,Wb,Xb,ic,xc,kd),B.ratio=ob}Fb.ratio=function(Wb){return lb(1<(Wb=+Wb)?Wb:1)};return Fb}(Ob);L.Definition={type:"Nest",metadata:{treesource:!0,
changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Lc=ob=>ob.values;M.inherits(L,l.Transform,{transform(ob,lb){lb.source||M.error("Nest transform requires an upstream data source.");var Fb=ob.generate,Wb=ob.modified(),Xb=lb.clone(),ic=this.value;if(!ic||Wb||lb.changed())ic&&ic.each(xc=>{xc.children&&l.isTuple(xc.data)&&Xb.rem.push(xc.data)}),this.value=ic=Db({values:M.array(ob.keys).reduce((xc,kd)=>{xc.key(kd);return xc},X()).entries(Xb.source)},Lc),Fb&&
ic.each(xc=>{xc.children&&(xc=l.ingest(xc.data),Xb.add.push(xc),Xb.source.push(xc))}),cb(ic,l.tupleid,l.tupleid);Xb.source.root=ic;return Xb}});const wc=(ob,lb)=>ob.parent===lb.parent?1:2;M.inherits(qa,l.Transform,{transform(ob,lb){lb.source&&lb.source.root||M.error(this.constructor.name+" transform requires a backing tree data source.");const Fb=this.layout(ob.method),Wb=this.fields,Xb=lb.source.root,ic=ob.as||Wb;ob.field?Xb.sum(ob.field):Xb.count();ob.sort&&Xb.sort(l.stableCompare(ob.sort,xc=>xc.data));
T(Fb,this.params,ob);Fb.separation&&Fb.separation(!1!==ob.separation?wc:M.one);try{this.value=Fb(Xb)}catch(xc){M.error(xc)}Xb.each(xc=>{const kd=xc.data,B=Wb.length-1;for(let w=0;w<B;++w)kd[ic[w]]=xc[Wb[w]];kd[ic[B]]=xc.children?xc.children.length:0});return lb.reflow(ob.modified()).modifies(ic).modifies("leaf")}});var tc=["x","y","r","depth","children"];la.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",
"default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:tc.length,"default":tc}]};M.inherits(la,qa,{layout:function(){function ob(ic){ic.x=Fb/2;ic.y=Wb/2;lb?ic.eachBefore(pb(lb)).eachAfter(ca(Xb,.5)).eachBefore(O(1)):ic.eachBefore(pb(kc)).eachAfter(ca(xb,1)).eachAfter(ca(Xb,ic.r/Math.min(Fb,Wb))).eachBefore(O(Math.min(Fb,Wb)/(2*ic.r)));return ic}var lb=null,Fb=1,Wb=1,Xb=xb;ob.radius=function(ic){return arguments.length?
(lb=null==ic?null:Cb(ic),ob):lb};ob.size=function(ic){return arguments.length?(Fb=+ic[0],Wb=+ic[1],ob):[Fb,Wb]};ob.padding=function(ic){return arguments.length?(Xb="function"===typeof ic?ic:Mb(+ic),ob):Xb};return ob},params:["radius","size","padding"],fields:tc});tc="x0 y0 x1 y1 depth children".split(" ");xa.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean",
"default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:tc.length,"default":tc}]};M.inherits(xa,qa,{layout:function(){function ob(xc){var kd=xc.height+1;xc.x0=xc.y0=Xb;xc.x1=Fb;xc.y1=Wb/kd;xc.eachBefore(lb(Wb,kd));ic&&xc.eachBefore(oa);return xc}function lb(xc,kd){return function(B){B.children&&ra(B,B.x0,xc*(B.depth+1)/kd,B.x1,xc*(B.depth+2)/kd);var w=B.x0,C=B.y0,aa=B.x1-Xb,fa=B.y1-Xb;aa<w&&(w=aa=(w+aa)/2);fa<C&&(C=fa=(C+fa)/2);B.x0=w;B.y0=C;B.x1=aa;B.y1=
fa}}var Fb=1,Wb=1,Xb=0,ic=!1;ob.round=function(xc){return arguments.length?(ic=!!xc,ob):ic};ob.size=function(xc){return arguments.length?(Fb=+xc[0],Wb=+xc[1],ob):[Fb,Wb]};ob.padding=function(xc){return arguments.length?(Xb=+xc,ob):Xb};return ob},params:["size","round","padding"],fields:tc});R.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};M.inherits(R,l.Transform,{transform(ob,lb){lb.source||M.error("Stratify transform requires an upstream data source.");
let Fb=this.value;const Wb=ob.modified(),Xb=lb.fork(lb.ALL).materialize(lb.SOURCE);lb=!Fb||Wb||lb.changed(lb.ADD_REM)||lb.modified(ob.key.fields)||lb.modified(ob.parentKey.fields);Xb.source=Xb.source.slice();lb&&(Fb=Xb.source.length?cb(va().id(ob.key).parentId(ob.parentKey)(Xb.source),ob.key,M.truthy):cb(va()([{}]),ob.key,ob.key));Xb.source.root=this.value=Fb;return Xb}});const jc={tidy:function(){function ob(B){var w=V(B);w.eachAfter(lb);w.parent.m=-w.z;w.eachBefore(Fb);if(kd)B.eachBefore(Wb);else{var C=
B,aa=B,fa=B;B.eachBefore(function(ib){ib.x<C.x&&(C=ib);ib.x>aa.x&&(aa=ib);ib.depth>fa.depth&&(fa=ib)});w=C===aa?1:Xb(C,aa)/2;var za=w-C.x,eb=ic/(aa.x+w+za),fb=xc/(fa.depth||1);B.eachBefore(function(ib){ib.x=(ib.x+za)*eb;ib.y=ib.depth*fb})}return B}function lb(B){var w=B.children,C=B.parent.children,aa=B.i?C[B.i-1]:null;if(w){for(var fa=0,za=0,eb=B.children,fb=eb.length,ib;0<=--fb;)ib=eb[fb],ib.z+=fa,ib.m+=fa,fa+=ib.s+(za+=ib.c);w=(w[0].z+w[w.length-1].z)/2;aa?(B.z=aa.z+Xb(B._,aa._),B.m=B.z-w):B.z=
w}else aa&&(B.z=aa.z+Xb(B._,aa._));w=B.parent;C=B.parent.A||C[0];if(aa){za=fa=B;eb=fa.parent.children[0];fb=fa.m;ib=za.m;for(var Vb=aa.m,oc=eb.m,qc;aa=t(aa),fa=y(fa),aa&&fa;){eb=y(eb);za=t(za);za.a=B;qc=aa.z+Vb-fa.z-fb+Xb(aa._,fa._);if(0<qc){var Dc=aa.a.parent===B.parent?aa.a:C,Fc=B,Zc=qc,xd=Zc/(Fc.i-Dc.i);Fc.c-=xd;Fc.s+=Zc;Dc.c+=xd;Fc.z+=Zc;Fc.m+=Zc;fb+=qc;ib+=qc}Vb+=aa.m;fb+=fa.m;oc+=eb.m;ib+=za.m}aa&&!t(za)&&(za.t=aa,za.m+=Vb-ib);fa&&!y(eb)&&(eb.t=fa,eb.m+=fb-oc,C=B)}w.A=C}function Fb(B){B._.x=
B.z+B.parent.m;B.m+=B.parent.m}function Wb(B){B.x*=ic;B.y=B.depth*xc}var Xb=Q,ic=1,xc=1,kd=null;ob.separation=function(B){return arguments.length?(Xb=B,ob):Xb};ob.size=function(B){return arguments.length?(kd=!1,ic=+B[0],xc=+B[1],ob):kd?null:[ic,xc]};ob.nodeSize=function(B){return arguments.length?(kd=!0,ic=+B[0],xc=+B[1],ob):kd?[ic,xc]:null};return ob},cluster:function(){function ob(ic){var xc,kd=0;ic.eachAfter(function(fa){var za=fa.children;if(za){var eb=za.reduce(Zb,0)/za.length;fa.x=eb;fa.y=1+
za.reduce(gc,0)}else fa.x=xc?kd+=lb(fa,xc):0,fa.y=0,xc=fa});var B=nc(ic),w=Tb(ic),C=B.x-lb(B,w)/2,aa=w.x+lb(w,B)/2;return ic.eachAfter(Xb?function(fa){fa.x=(fa.x-ic.x)*Fb;fa.y=(ic.y-fa.y)*Wb}:function(fa){fa.x=(fa.x-C)/(aa-C)*Fb;fa.y=(1-(ic.y?fa.y/ic.y:1))*Wb})}var lb=zb,Fb=1,Wb=1,Xb=!1;ob.separation=function(ic){return arguments.length?(lb=ic,ob):lb};ob.size=function(ic){return arguments.length?(Xb=!1,Fb=+ic[0],Wb=+ic[1],ob):Xb?null:[Fb,Wb]};ob.nodeSize=function(ic){return arguments.length?(Xb=!0,
Fb=+ic[0],Wb=+ic[1],ob):Xb?[Fb,Wb]:null};return ob}};tc=["x","y","depth","children"];ka.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:tc.length,"default":tc}]};M.inherits(ka,
qa,{layout(ob){ob=ob||"tidy";if(M.hasOwnProperty(jc,ob))return jc[ob]();M.error("Unrecognized Tree layout method: "+ob)},params:["size","nodeSize"],fields:tc});Ka.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};M.inherits(Ka,l.Transform,{transform(ob,lb){ob=this.value;const Fb=lb.source&&lb.source.root,Wb=lb.fork(lb.NO_SOURCE),Xb={};Fb||M.error("TreeLinks transform requires a tree data source.");lb.changed(lb.ADD_REM)?(Wb.rem=ob,lb.visit(lb.SOURCE,ic=>Xb[l.tupleid(ic)]=
1),Fb.each(ic=>{const xc=ic.data;(ic=ic.parent&&ic.parent.data)&&Xb[l.tupleid(xc)]&&Xb[l.tupleid(ic)]&&Wb.add.push(l.ingest({source:ic,target:xc}))}),this.value=Wb.add):lb.changed(lb.MOD)&&(lb.visit(lb.MOD,ic=>Xb[l.tupleid(ic)]=1),ob.forEach(ic=>{(Xb[l.tupleid(ic.source)]||Xb[l.tupleid(ic.target)])&&Wb.mod.push(ic)}));return Wb}});const Sc={binary:function(ob,lb,Fb,Wb,Xb){function ic(aa,fa,za,eb,fb,ib,Vb){if(aa>=fa-1)aa=xc[aa],aa.x0=eb,aa.y0=fb,aa.x1=ib,aa.y1=Vb;else{for(var oc=C[aa],qc=za/2+oc,Dc=
aa+1,Fc=fa-1;Dc<Fc;){var Zc=Dc+Fc>>>1;C[Zc]<qc?Dc=Zc+1:Fc=Zc}qc-C[Dc-1]<C[Dc]-qc&&aa+1<Dc&&--Dc;oc=C[Dc]-oc;qc=za-oc;ib-eb>Vb-fb?(za=za?(eb*qc+ib*oc)/za:ib,ic(aa,Dc,oc,eb,fb,za,Vb),ic(Dc,fa,qc,za,fb,ib,Vb)):(za=za?(fb*qc+Vb*oc)/za:Vb,ic(aa,Dc,oc,eb,fb,ib,za),ic(Dc,fa,qc,eb,za,ib,Vb))}}var xc=ob.children,kd,B=xc.length,w,C=Array(B+1);for(C[0]=w=kd=0;kd<B;++kd)C[kd+1]=w+=xc[kd].value;ic(0,B,ob.value,lb,Fb,Wb,Xb)},dice:ra,slice:E,slicedice:function(ob,lb,Fb,Wb,Xb){(ob.depth&1?E:ra)(ob,lb,Fb,Wb,Xb)},
squarify:mc,resquarify:Ob};Ob="x0 y0 x1 y1 depth children".split(" ");kb.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",
type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ob.length,"default":Ob}]};M.inherits(kb,qa,{layout(){const ob=z();ob.ratio=lb=>{const Fb=ob.tile();Fb.ratio&&ob.tile(Fb.ratio(lb))};ob.method=lb=>{M.hasOwnProperty(Sc,lb)?ob.tile(Sc[lb]):M.error("Unrecognized Treemap layout method: "+
lb)};return ob},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:Ob});x.nest=L;x.pack=la;x.partition=xa;x.stratify=R;x.tree=ka;x.treelinks=Ka;x.treemap=kb;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[40]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(33),vb(31),vb(28),vb(20)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l((x.vega=x.vega||{},x.vega.transforms={}),x.vega,x.vega,x.vega,x.vega))})(this,function(x,l,M,cb,zb){function Zb(pb,ca){const O=pb.bitmap();(ca||[]).forEach(oa=>O.set(pb(oa.boundary[0]),pb(oa.boundary[3])));
return[O,void 0]}function gc(pb,ca,O,oa,ra){const Oa=pb.width,ya=pb.height;oa=oa||ra;const va=M.canvas(Oa,ya).getContext("2d");var m=M.canvas(Oa,ya).getContext("2d"),G=oa&&M.canvas(Oa,ya).getContext("2d");O.forEach(L=>nc(va,L,!1));nc(m,ca,!1);oa&&nc(G,ca,!0);ca=new Uint32Array(va.getImageData(0,0,Oa,ya).data.buffer);O=new Uint32Array(m.getImageData(0,0,Oa,ya).data.buffer);G=oa&&new Uint32Array(G.getImageData(0,0,Oa,ya).data.buffer);m=pb.bitmap();const Q=oa&&pb.bitmap();let y,t;let H,V,E,K;for(t=0;t<
ya;++t)for(y=0;y<Oa;++y){var z=t*Oa+y;V=ca[z]&4278190080;K=O[z]&4278190080;E=oa&&G[z]&4278190080;if(V||E||K)z=pb(y),H=pb(t),ra||!V&&!K||m.set(z,H),oa&&(V||E)&&Q.set(z,H)}return[m,Q]}function nc(pb,ca,O){if(ca.length){var oa=ca[0].mark.marktype;"group"===oa?ca.forEach(ra=>{ra.items.forEach(Oa=>nc(pb,Oa.items,O))}):l.Marks[oa].draw(pb,{items:O?ca.map(Tb):ca})}}function Tb(pb){pb=cb.rederive(pb,{});return pb.stroke&&0!==pb.strokeOpacity||pb.fill&&0!==pb.fillOpacity?Object.assign({},pb,{strokeOpacity:1,
stroke:"#000",fillOpacity:0}):pb}function Gb(pb,ca){const O=new Uint32Array(~~((pb*ca+32)/32));return{array:O,get:(oa,ra)=>{oa=ra*pb+oa;return O[oa>>>5]&1<<(oa&31)},set:(oa,ra)=>{oa=ra*pb+oa;O[oa>>>5]|=1<<(oa&31)},clear:(oa,ra)=>{oa=ra*pb+oa;O[oa>>>5]&=~(1<<(oa&31))},getRange:(oa,ra,Oa,ya)=>{let va,m,G;for(;ya>=ra;--ya){var Q=ya*pb+oa;va=ya*pb+Oa;m=Q>>>5;G=va>>>5;if(m===G){if(O[m]&pa[Q&31]&Aa[(va&31)+1])return!0}else{if(O[m]&pa[Q&31]||O[G]&Aa[(va&31)+1])return!0;for(Q=m+1;Q<G;++Q)if(O[Q])return!0}}return!1},
setRange:(oa,ra,Oa,ya)=>{let va,m,G;for(;ra<=ya;++ra){var Q=ra*pb+oa;va=ra*pb+Oa;m=Q>>>5;G=va>>>5;if(m===G)O[m]|=pa[Q&31]&Aa[(va&31)+1];else for(O[m]|=pa[Q&31],O[G]|=Aa[(va&31)+1],Q=m+1;Q<G;++Q)O[Q]|=4294967295}},clearRange:(oa,ra,Oa,ya)=>{let va,m,G;for(;ra<=ya;++ra){var Q=ra*pb+oa;va=ra*pb+Oa;m=Q>>>5;G=va>>>5;if(m===G)O[m]&=Aa[Q&31]|pa[(va&31)+1];else for(O[m]&=Aa[Q&31],O[G]&=pa[(va&31)+1],Q=m+1;Q<G;++Q)O[Q]&=0}},outOfBounds:(oa,ra,Oa,ya)=>0>oa||0>ra||ya>=ca||Oa>=pb}}function Db(pb,ca,O){const oa=
Math.max(1,Math.sqrt(pb*ca/1E6)),ra=~~((pb+2*O+oa)/oa),Oa=~~((ca+2*O+oa)/oa),ya=va=>~~((va+O)/oa);ya.invert=va=>va*oa-O;ya.bitmap=()=>Gb(ra,Oa);ya.ratio=oa;ya.padding=O;ya.width=pb;ya.height=ca;return ya}function fc(pb,ca,O,oa,ra,Oa){O/=2;return 0>pb-O||pb+O>ra||0>ca-(O=oa/2)||ca+O>Oa}function Ba(pb,ca,O,oa,ra,Oa,ya,va){ra=ra*Oa/(2*oa);oa=pb(ca-ra);ca=pb(ca+ra);ra=pb(O-(Oa/=2));pb=pb(O+Oa);return ya.outOfBounds(oa,ra,ca,pb)||ya.getRange(oa,ra,ca,pb)||va&&va.getRange(oa,ra,ca,pb)}function jb(pb,ca,
O,oa){const ra=pb.width,Oa=pb.height,ya=ca[0],va=ca[1],m=oa.length;return function(G){const Q=G.boundary,y=G.datum.fontSize;if(0>Q[2]||0>Q[5]||Q[0]>ra||Q[3]>Oa)return!1;var t;let H=null!=(t=G.textWidth)?t:0,V;let E,K;let z;let L;let X,qa;for(let Lc=0;Lc<m;++Lc){t=(O[Lc]&3)-1;V=(O[Lc]>>>2&3)-1;var T=0===t&&0===V||0>oa[Lc];var la=t&&V?Math.SQRT1_2:1;E=0>oa[Lc]?-1:1;K=Q[1+t]+oa[Lc]*t*la;L=Q[4+V]+E*y*V/2+oa[Lc]*V*la;la=L-y/2;z=L+y/2;var xa=pb(K);X=pb(la);qa=pb(z);if(!H){var R=xa;var ka=X;var Ka=qa;var kb=
ya,Za=va,mb=T;if(kb.outOfBounds(R,ka,xa,Ka)||(mb&&Za||kb).getRange(R,ka,xa,Ka))continue;else H=l.textMetrics.width(G.datum,G.datum.text)}ka=K+E*H*t/2;K=ka-H/2;R=ka+H/2;xa=pb(K);Ka=pb(R);kb=xa;Za=Ka;mb=X;var Ra=qa,Ob=ya,mc=va;if(!Ob.outOfBounds(kb,mb,Za,Ra)&&!(T&&mc||Ob).getRange(kb,mb,Za,Ra))return G.x=t?0>t*E?R:K:ka,G.y=V?0>V*E?z:la:L,G.align=$a[t*E+1],G.baseline=Ca[V*E+1],ya.setRange(xa,X,Ka,qa),!0}return!1}}function yb(pb,ca,O,oa,ra,Oa,ya,va,m,G,Q){if(!pb.length)return pb;var y=Math.max(oa.length,
ra.length);const t=Ab(oa,y);ra=Pa(ra,y);const H=Va(pb[0].datum);var V="group"===H&&pb[0].datum.items[m].marktype;y="area"===V;const E=Xa(H,V,va,m),K=null===G||Infinity===G;V=y&&"naive"===Q;let z=-1,L=-1;va=pb.map(T=>{const la=K?l.textMetrics.width(T,T.text):void 0;z=Math.max(z,la);L=Math.max(L,T.fontSize);return{datum:T,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:E(T),textWidth:la}});G=null===G||Infinity===G?Math.max(z,L)+Math.max(...oa):G;ca=Db(ca[0],ca[1],G);if(!V){O&&va.sort((T,
la)=>O(T.datum,la.datum));var X=!1;for(oa=0;oa<ra.length&&!X;++oa)X=5===ra[oa]||0>t[oa];pb=(H&&ya||y)&&pb.map(T=>T.datum);X=Oa.length||pb?gc(ca,pb||[],Oa,X,y):Zb(ca,ya&&va)}const qa=y?xb[Q](ca,X,ya,m):jb(ca,X,ra,t);va.forEach(T=>T.opacity=+qa(T));return va}function Ab(pb,ca){const O=new Float64Array(ca),oa=pb.length;for(let ra=0;ra<oa;++ra)O[ra]=pb[ra]||0;for(pb=oa;pb<ca;++pb)O[pb]=O[oa-1];return O}function Pa(pb,ca){const O=new Int8Array(ca),oa=pb.length;for(let ra=0;ra<oa;++ra)O[ra]|=Cb[pb[ra]];
for(pb=oa;pb<ca;++pb)O[pb]=O[oa-1];return O}function Va(pb){return pb&&pb.mark&&pb.mark.marktype}function Xa(pb,ca,O,oa){const ra=Oa=>[Oa.x,Oa.x,Oa.x,Oa.y,Oa.y,Oa.y];return pb?"line"===pb||"area"===pb?Oa=>ra(Oa.datum):"line"===ca?Oa=>{Oa=Oa.datum.items[oa].items;return ra(Oa.length?Oa["start"===O?0:Oa.length-1]:{x:NaN,y:NaN})}:Oa=>{Oa=Oa.datum.bounds;return[Oa.x1,(Oa.x1+Oa.x2)/2,Oa.x2,Oa.y1,(Oa.y1+Oa.y2)/2,Oa.y2]}:ra}function Fa(pb){cb.Transform.call(this,null,pb)}const pa=new Uint32Array(33),Aa=
new Uint32Array(33);Aa[0]=0;pa[0]=~Aa[0];for(let pb=1;32>=pb;++pb)Aa[pb]=Aa[pb-1]<<1|1,pa[pb]=~Aa[pb];const Ha=[-1,-1,1,1],bb=[-1,1,-1,1],$a=["right","center","left"],Ca=["bottom","middle","top"],Cb={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},xb={naive:function(pb,ca,O,oa){const ra=pb.width,Oa=pb.height;return function(ya){const va=ya.datum.datum.items[oa].items,m=va.length,G=ya.datum.fontSize,Q=l.textMetrics.width(ya.datum,ya.datum.text);
let y=0;let t,H,V,E,K;for(let L=0;L<m;++L){var z=va[L].x;H=va[L].y;t=void 0===va[L].x2?z:va[L].x2;V=void 0===va[L].y2?H:va[L].y2;E=(z+t)/2;K=(H+V)/2;z=Math.abs(t-z+V-H);z>=y&&(y=z,ya.x=E,ya.y=K)}E=Q/2;K=G/2;z=ya.x-E;t=ya.x+E;H=ya.y-K;V=ya.y+K;ya.align="center";0>z&&t<=ra?ya.align="left":0<=z&&ra<t&&(ya.align="right");ya.baseline="middle";0>H&&V<=Oa?ya.baseline="top":0<=H&&Oa<V&&(ya.baseline="bottom");return!0}},"reduced-search":function(pb,ca,O,oa){function ra(G,Q,y,t,H){G=pb.invert(G);Q=pb.invert(Q);
let V=y,E=ya,K;if(!fc(G,Q,t,H,Oa,ya)&&!Ba(pb,G,Q,H,t,V,va,m)&&!Ba(pb,G,Q,H,t,H,va,null)){for(;1<=E-V;)K=(V+E)/2,Ba(pb,G,Q,H,t,K,va,m)?E=K:V=K;if(V>y)return[G,Q,V,!0]}}const Oa=pb.width,ya=pb.height,va=ca[0],m=ca[1];return function(G){const Q=G.datum.datum.items[oa].items,y=Q.length,t=G.datum.fontSize,H=l.textMetrics.width(G.datum,G.datum.text);let V=O?t:0,E=!1,K=!1,z=0;let L;let X;let qa,T,la,xa,R,ka,Ka,kb;for(let Ob=0;Ob<y;++Ob){var Za=Q[Ob].x;var mb=Q[Ob].y;L=void 0===Q[Ob].x2?Za:Q[Ob].x2;X=void 0===
Q[Ob].y2?mb:Q[Ob].y2;if(Za>L){var Ra=Za;Za=L;L=Ra}mb>X&&(Ra=mb,mb=X,X=Ra);T=pb(Za);xa=pb(L);la=~~((T+xa)/2);R=pb(mb);Ka=pb(X);ka=~~((R+Ka)/2);for(Ra=la;Ra>=T;--Ra)for(qa=ka;qa>=R;--qa)(kb=ra(Ra,qa,V,H,t))&&([G.x,G.y,V,E]=kb);for(Ra=la;Ra<=xa;++Ra)for(qa=ka;qa<=Ka;++qa)(kb=ra(Ra,qa,V,H,t))&&([G.x,G.y,V,E]=kb);E||O||(Ra=Math.abs(L-Za+X-mb),Za=(Za+L)/2,mb=(mb+X)/2,Ra>=z&&!fc(Za,mb,H,t,Oa,ya)&&!Ba(pb,Za,mb,t,H,t,va,null)&&(z=Ra,G.x=Za,G.y=mb,K=!0))}return E||K?(Za=H/2,mb=t/2,va.setRange(pb(G.x-Za),pb(G.y-
mb),pb(G.x+Za),pb(G.y+mb)),G.align="center",G.baseline="middle",!0):!1}},floodfill:function(pb,ca,O,oa){const ra=pb.width,Oa=pb.height,ya=ca[0],va=ca[1],m=pb.bitmap();return function(G){const Q=G.datum.datum.items[oa].items,y=Q.length,t=G.datum.fontSize,H=l.textMetrics.width(G.datum,G.datum.text),V=[];let E=O?t:0,K=!1,z=!1,L=0,X,qa,T,la,xa,R;var ka;for(let Za=0;Za<y;++Za){X=Q[Za].x;T=Q[Za].y;qa=void 0===Q[Za].x2?X:Q[Za].x2;la=void 0===Q[Za].y2?T:Q[Za].y2;for(V.push([pb((X+qa)/2),pb((T+la)/2)]);V.length;)if([Ka,
kb]=V.pop(),!(ya.get(Ka,kb)||va.get(Ka,kb)||m.get(Ka,kb))){m.set(Ka,kb);for(ka=0;4>ka;++ka)xa=Ka+Ha[ka],R=kb+bb[ka],m.outOfBounds(xa,R,xa,R)||V.push([xa,R]);xa=pb.invert(Ka);R=pb.invert(kb);var Ka=E;var kb=Oa;if(!fc(xa,R,H,t,ra,Oa)&&!Ba(pb,xa,R,t,H,Ka,ya,va)&&!Ba(pb,xa,R,t,H,t,ya,null)){for(;1<=kb-Ka;)ka=(Ka+kb)/2,Ba(pb,xa,R,t,H,ka,ya,va)?kb=ka:Ka=ka;Ka>E&&(G.x=xa,G.y=R,E=Ka,K=!0)}}K||O||(Ka=Math.abs(qa-X+la-T),xa=(X+qa)/2,R=(T+la)/2,Ka>=L&&!fc(xa,R,H,t,ra,Oa)&&!Ba(pb,xa,R,t,H,t,ya,null)&&(L=Ka,G.x=
xa,G.y=R,z=!0))}return K||z?(xa=H/2,R=t/2,ya.setRange(pb(G.x-xa),pb(G.y-R),pb(G.x+xa),pb(G.y+R)),G.align="center",G.baseline="middle",!0):!1}}},Mb=["x","y","opacity","align","baseline"],kc="top-left left bottom-left top bottom top-right right bottom-right".split(" ");Fa.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:kc},{name:"offset",type:"number",array:!0,
default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Mb.length,default:Mb}]};zb.inherits(Fa,cb.Transform,{transform(pb,ca){function O(Oa){Oa=pb[Oa];return zb.isFunction(Oa)&&ca.modified(Oa.fields)}const oa=
pb.modified();if(oa||ca.changed(ca.ADD_REM)||O("sort")){pb.size&&2===pb.size.length||zb.error("Size parameter should be specified as a [width, height] array.");var ra=pb.as||Mb;yb(ca.materialize(ca.SOURCE).source||[],pb.size,pb.sort,zb.array(null==pb.offset?1:pb.offset),zb.array(pb.anchor||kc),pb.avoidMarks||[],!1!==pb.avoidBaseMark,pb.lineAnchor||"end",pb.markIndex||0,void 0===pb.padding?0:pb.padding,pb.method||"naive").forEach(Oa=>{const ya=Oa.datum;ya[ra[0]]=Oa.x;ya[ra[1]]=Oa.y;ya[ra[2]]=Oa.opacity;
ya[ra[3]]=Oa.align;ya[ra[4]]=Oa.baseline});return ca.reflow(oa).modifies(ra)}}});x.label=Fa;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[41]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(29),vb(28),vb(20)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega,x.vega))})(this,function(x,l,M,cb){function zb(Tb,Gb){var Db=[],fc=function(Xa){return Xa(Ab)},Ba;if(null==Gb)Db.push(Tb);else{var jb={};var yb=0;for(Ba=Tb.length;yb<Ba;++yb){var Ab=Tb[yb];
var Pa=Gb.map(fc);var Va=jb[Pa];Va||(jb[Pa]=Va=[],Va.dims=Pa,Db.push(Va));Va.push(Ab)}}return Db}function Zb(Tb){M.Transform.call(this,null,Tb)}function gc(Tb){M.Transform.call(this,null,Tb)}Zb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};cb.inherits(Zb,M.Transform,{transform(Tb,Gb){const Db=Gb.fork(Gb.NO_SOURCE|
Gb.NO_FIELDS);if(!this.value||Gb.changed()||Tb.modified()){Gb=Gb.materialize(Gb.SOURCE).source;Gb=zb(Gb,Tb.groupby);const fc=(Tb.groupby||[]).map(cb.accessorName),Ba=fc.length,jb=Tb.as||[cb.accessorName(Tb.x),cb.accessorName(Tb.y)],yb=[];Gb.forEach(Ab=>{l.regressionLoess(Ab,Tb.x,Tb.y,Tb.bandwidth||.3).forEach(Pa=>{const Va={};for(let Xa=0;Xa<Ba;++Xa)Va[fc[Xa]]=Ab.dims[Xa];Va[jb[0]]=Pa[0];Va[jb[1]]=Pa[1];yb.push(M.ingest(Va))})});this.value&&(Db.rem=this.value);this.value=Db.add=Db.source=yb}return Db}});
const nc={linear:l.regressionLinear,log:l.regressionLog,exp:l.regressionExp,pow:l.regressionPow,quad:l.regressionQuad,poly:l.regressionPoly};gc.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(nc)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",
"default":!1},{name:"as",type:"string",array:!0}]};cb.inherits(gc,M.Transform,{transform(Tb,Gb){const Db=Gb.fork(Gb.NO_SOURCE|Gb.NO_FIELDS);if(!this.value||Gb.changed()||Tb.modified()){var fc=Gb.materialize(Gb.SOURCE).source;fc=zb(fc,Tb.groupby);const Ba=(Tb.groupby||[]).map(cb.accessorName),jb=Tb.method||"linear",yb=Tb.order||3,Ab="poly"===jb?yb:"quad"===jb?2:1,Pa=Tb.as||[cb.accessorName(Tb.x),cb.accessorName(Tb.y)],Va=nc[jb],Xa=[];let Fa=Tb.extent;cb.hasOwnProperty(nc,jb)||cb.error("Invalid regression method: "+
jb);null!=Fa&&"log"===jb&&0>=Fa[0]&&(Gb.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),Fa=null);fc.forEach(pa=>{if(pa.length<=Ab)Gb.dataflow.warn("Skipping regression with more parameters than data points.");else{var Aa=Va(pa,Tb.x,Tb.y,yb);if(Tb.params)Xa.push(M.ingest({keys:pa.dims,coef:Aa.coef,rSquared:Aa.rSquared}));else{var Ha=Fa||cb.extent(pa,Tb.x),bb=$a=>{const Ca={};for(let Cb=0;Cb<Ba.length;++Cb)Ca[Ba[Cb]]=pa.dims[Cb];Ca[Pa[0]]=$a[0];Ca[Pa[1]]=$a[1];Xa.push(M.ingest(Ca))};
"linear"===jb?Ha.forEach($a=>bb([$a,Aa.predict($a)])):l.sampleCurve(Aa.predict,Ha,25,200).forEach(bb)}}});this.value&&(Db.rem=this.value);this.value=Db.add=Db.source=Xa}return Db}});x.loess=Zb;x.regression=gc;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[42]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(28),vb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l((x.vega=x.vega||{},x.vega.transforms={}),x.vega,x.vega))})(this,function(x,l,M){function cb(ca,O,oa,ra,Oa){let ya,va;let m=O[0],G=ra[0],Q=0,y=0;G>m===G>-m?(ya=m,m=O[++Q]):(ya=G,G=ra[++y]);let t=0;if(Q<ca&&y<oa){if(G>m===G>-m){va=m+ya;
var H=ya-(va-m);m=O[++Q]}else va=G+ya,H=ya-(va-G),G=ra[++y];ya=va;for(0!==H&&(Oa[t++]=H);Q<ca&&y<oa;)G>m===G>-m?(va=ya+m,H=va-ya,H=ya-(va-H)+(m-H),m=O[++Q]):(va=ya+G,H=va-ya,H=ya-(va-H)+(G-H),G=ra[++y]),ya=va,0!==H&&(Oa[t++]=H)}for(;Q<ca;)va=ya+m,H=va-ya,H=ya-(va-H)+(m-H),m=O[++Q],ya=va,0!==H&&(Oa[t++]=H);for(;y<oa;)va=ya+G,H=va-ya,H=ya-(va-H)+(G-H),G=ra[++y],ya=va,0!==H&&(Oa[t++]=H);if(0!==ya||0===t)Oa[t++]=ya;return t}function zb(ca,O,oa,ra,Oa,ya){var va=(O-ya)*(oa-Oa),m=(ca-Oa)*(ra-ya),G=va-m;
if(0===va||0===m||0<va!==0<m)return G;va=Math.abs(va+m);if(Math.abs(G)>=3.3306690738754716E-16*va)return G;{let K;G=ca-Oa;const z=oa-Oa;m=O-ya;const L=ra-ya;var Q=G*L;var y=134217729*G;var t=y-(y-G);var H=G-t;y=134217729*L;y-=y-L;K=L-y;var V=H*K-(Q-t*y-H*y-t*K);var E=m*z;y=134217729*m;t=y-(y-m);H=m-t;y=134217729*z;y-=y-z;K=z-y;y=H*K-(E-t*y-H*y-t*K);H=V-y;t=V-H;Pa[0]=V-(H+t)+(t-y);V=Q+H;t=V-Q;Q=Q-(V-t)+(H-t);H=Q-E;t=Q-H;Pa[1]=Q-(H+t)+(t-E);E=V+H;t=E-V;Pa[2]=V-(E-t)+(H-t);Pa[3]=E;E=Pa[0];for(Q=1;4>
Q;Q++)E+=Pa[Q];Q=2.2204460492503146E-16*va;E>=Q||-E>=Q?ra=E:(t=ca-G,ca=ca-(G+t)+(t-Oa),t=oa-z,oa=oa-(z+t)+(t-Oa),t=O-m,O=O-(m+t)+(t-ya),t=ra-L,ra=ra-(L+t)+(t-ya),0===ca&&0===O&&0===oa&&0===ra?ra=E:(Q=1.1093356479670487E-31*va+3.3306690738754706E-16*Math.abs(E),E+=G*ra+L*ca-(m*oa+z*O),E>=Q||-E>=Q?ra=E:(Q=ca*L,y=134217729*ca,t=y-(y-ca),H=ca-t,y=134217729*L,y-=y-L,K=L-y,V=H*K-(Q-t*y-H*y-t*K),E=O*z,y=134217729*O,t=y-(y-O),H=O-t,y=134217729*z,y-=y-z,K=z-y,y=H*K-(E-t*y-H*y-t*K),H=V-y,t=V-H,pa[0]=V-(H+t)+
(t-y),V=Q+H,t=V-Q,Q=Q-(V-t)+(H-t),H=Q-E,t=Q-H,pa[1]=Q-(H+t)+(t-E),E=V+H,t=E-V,pa[2]=V-(E-t)+(H-t),pa[3]=E,ya=cb(4,Pa,4,pa,Va),Q=G*ra,y=134217729*G,t=y-(y-G),H=G-t,y=134217729*ra,y-=y-ra,K=ra-y,V=H*K-(Q-t*y-H*y-t*K),E=m*oa,y=134217729*m,t=y-(y-m),H=m-t,y=134217729*oa,y-=y-oa,K=oa-y,y=H*K-(E-t*y-H*y-t*K),H=V-y,t=V-H,pa[0]=V-(H+t)+(t-y),V=Q+H,t=V-Q,Q=Q-(V-t)+(H-t),H=Q-E,t=Q-H,pa[1]=Q-(H+t)+(t-E),E=V+H,t=E-V,pa[2]=V-(E-t)+(H-t),pa[3]=E,ya=cb(ya,Va,4,pa,Xa),Q=ca*ra,y=134217729*ca,t=y-(y-ca),H=ca-t,y=134217729*
ra,y-=y-ra,K=ra-y,V=H*K-(Q-t*y-H*y-t*K),E=O*oa,y=134217729*O,t=y-(y-O),H=O-t,y=134217729*oa,y-=y-oa,K=oa-y,y=H*K-(E-t*y-H*y-t*K),H=V-y,t=V-H,pa[0]=V-(H+t)+(t-y),V=Q+H,t=V-Q,Q=Q-(V-t)+(H-t),H=Q-E,t=Q-H,pa[1]=Q-(H+t)+(t-E),E=V+H,t=E-V,pa[2]=V-(E-t)+(H-t),pa[3]=E,ra=cb(ya,Xa,4,pa,Fa),ra=Fa[ra-1])))}return-ra}function Zb(ca,O,oa,ra){ca-=oa;O-=ra;return ca*ca+O*O}function gc(ca,O,oa,ra){if(20>=ra-oa)for(var Oa=oa+1;Oa<=ra;Oa++){for(var ya=ca[Oa],va=O[ya],m=Oa-1;m>=oa&&O[ca[m]]>va;)ca[m+1]=ca[m--];ca[m+
1]=ya}else{Oa=oa+1;ya=ra;nc(ca,oa+ra>>1,Oa);O[ca[oa]]>O[ca[ra]]&&nc(ca,oa,ra);O[ca[Oa]]>O[ca[ra]]&&nc(ca,Oa,ra);O[ca[oa]]>O[ca[Oa]]&&nc(ca,oa,Oa);va=ca[Oa];for(m=O[va];;){do Oa++;while(O[ca[Oa]]<m);do ya--;while(O[ca[ya]]>m);if(ya<Oa)break;nc(ca,Oa,ya)}ca[oa+1]=ca[ya];ca[ya]=va;ra-Oa+1>=ya-oa?(gc(ca,O,Oa,ra),gc(ca,O,oa,ya-1)):(gc(ca,O,oa,ya-1),gc(ca,O,Oa,ra))}}function nc(ca,O,oa){const ra=ca[O];ca[O]=ca[oa];ca[oa]=ra}function Tb(ca){return ca[0]}function Gb(ca){return ca[1]}function Db(ca){return ca[0]}
function fc(ca){return ca[1]}function Ba(ca){const {triangles:O,coords:oa}=ca;for(ca=0;ca<O.length;ca+=3){const ra=2*O[ca],Oa=2*O[ca+1],ya=2*O[ca+2];if(1E-10<(oa[ya]-oa[ra])*(oa[Oa+1]-oa[ra+1])-(oa[Oa]-oa[ra])*(oa[ya+1]-oa[ra+1]))return!1}return!0}function jb(ca,O,oa){return[ca+Math.sin(ca+O)*oa,O+Math.cos(ca-O)*oa]}function*yb(ca,O,oa,ra){let Oa=0;for(const ya of ca)yield O.call(ra,ya,Oa,ca),yield oa.call(ra,ya,Oa,ca),++Oa}function Ab(ca){l.Transform.call(this,null,ca)}const Pa=new Float64Array(4),
Va=new Float64Array(8),Xa=new Float64Array(12),Fa=new Float64Array(16),pa=new Float64Array(4),Aa=Math.pow(2,-52),Ha=new Uint32Array(512);class bb{static from(ca,O=Tb,oa=Gb){const ra=ca.length,Oa=new Float64Array(2*ra);for(let ya=0;ya<ra;ya++){const va=ca[ya];Oa[2*ya]=O(va);Oa[2*ya+1]=oa(va)}return new bb(Oa)}constructor(ca){const O=ca.length>>1;if(0<O&&"number"!==typeof ca[0])throw Error("Expected coords to contain numbers.");this.coords=ca;ca=Math.max(2*O-5,0);this._triangles=new Uint32Array(3*ca);
this._halfedges=new Int32Array(3*ca);this._hashSize=Math.ceil(Math.sqrt(O));this._hullPrev=new Uint32Array(O);this._hullNext=new Uint32Array(O);this._hullTri=new Uint32Array(O);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(O);this._dists=new Float64Array(O);this.update()}update(){const {coords:ca,_hullPrev:O,_hullNext:oa,_hullTri:ra,_hullHash:Oa}=this;var ya=ca.length>>1,va=Infinity,m=Infinity,G=-Infinity,Q=-Infinity;for(var y=0;y<ya;y++){var t=ca[2*y];var H=ca[2*
y+1];t<va&&(va=t);H<m&&(m=H);t>G&&(G=t);H>Q&&(Q=H);this._ids[y]=y}G=(va+G)/2;m=(m+Q)/2;va=Infinity;for(Q=0;Q<ya;Q++)if(y=Zb(G,m,ca[2*Q],ca[2*Q+1]),y<va){var V=Q;va=y}m=ca[2*V];Q=ca[2*V+1];va=Infinity;for(G=0;G<ya;G++)if(G!==V&&(y=Zb(m,Q,ca[2*G],ca[2*G+1]),y<va&&0<y)){var E=G;va=y}va=ca[2*E];G=ca[2*E+1];H=Infinity;for(y=0;y<ya;y++)if(y!==V&&y!==E){t=va-m;var K=G-Q;var z=ca[2*y]-m;var L=ca[2*y+1]-Q,X=t*t+K*K,qa=z*z+L*L,T=.5/(t*L-K*z);K=(L*X-K*qa)*T;t=(t*qa-z*X)*T;t=K*K+t*t;if(t<H){var la=y;H=t}}y=ca[2*
la];t=ca[2*la+1];if(Infinity===H){for(V=0;V<ya;V++)this._dists[V]=ca[2*V]-ca[0]||ca[2*V+1]-ca[1];gc(this._ids,this._dists,0,ya-1);V=new Uint32Array(ya);E=0;for(let xa=0,R=-Infinity;xa<ya;xa++)la=this._ids[xa],this._dists[la]>R&&(V[E++]=la,R=this._dists[la]);this.hull=V.subarray(0,E);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>zb(m,Q,va,G,y,t)&&(H=E,z=va,X=G,E=la,va=y,G=t,la=H,y=z,t=X);z=va-m;H=G-Q;X=y-m;L=t-Q;qa=z*z+H*H;T=X*X+L*L;K=.5/(z*L-H*X);H=m+(L*qa-H*T)*K;z=Q+
(z*T-X*qa)*K;this._cx=H;this._cy=z;for(X=0;X<ya;X++)this._dists[X]=Zb(ca[2*X],ca[2*X+1],H,z);gc(this._ids,this._dists,0,ya-1);this._hullStart=V;ya=3;oa[V]=O[la]=E;oa[E]=O[V]=la;oa[la]=O[E]=V;ra[V]=0;ra[E]=1;ra[la]=2;Oa.fill(-1);Oa[this._hashKey(m,Q)]=V;Oa[this._hashKey(va,G)]=E;Oa[this._hashKey(y,t)]=la;this.trianglesLen=0;this._addTriangle(V,E,la,-1,-1,-1);for(let xa=0,R,ka;xa<this._ids.length;xa++){m=this._ids[xa];Q=ca[2*m];va=ca[2*m+1];if(0<xa&&Math.abs(Q-R)<=Aa&&Math.abs(va-ka)<=Aa)continue;R=
Q;ka=va;if(m===V||m===E||m===la)continue;G=0;for(let kb=0,Za=this._hashKey(Q,va);kb<this._hashSize&&(G=Oa[(Za+kb)%this._hashSize],-1===G||G===oa[G]);kb++);y=G=O[G];let Ka;for(;Ka=oa[y],0<=zb(Q,va,ca[2*y],ca[2*y+1],ca[2*Ka],ca[2*Ka+1]);)if(y=Ka,y===G){y=-1;break}if(-1!==y){t=this._addTriangle(y,m,oa[y],-1,-1,ra[y]);ra[m]=this._legalize(t+2);ra[y]=t;ya++;for(H=oa[y];Ka=oa[H],0>zb(Q,va,ca[2*H],ca[2*H+1],ca[2*Ka],ca[2*Ka+1]);)t=this._addTriangle(H,m,Ka,ra[m],-1,ra[H]),ra[m]=this._legalize(t+2),oa[H]=
H,ya--,H=Ka;if(y===G)for(;Ka=O[y],0>zb(Q,va,ca[2*Ka],ca[2*Ka+1],ca[2*y],ca[2*y+1]);)t=this._addTriangle(Ka,m,y,-1,ra[y],ra[Ka]),this._legalize(t+2),ra[Ka]=t,oa[y]=y,ya--,y=Ka;this._hullStart=O[m]=y;oa[y]=O[H]=m;oa[m]=H;Oa[this._hashKey(Q,va)]=m;Oa[this._hashKey(ca[2*y],ca[2*y+1])]=y}}this.hull=new Uint32Array(ya);for(let xa=0,R=this._hullStart;xa<ya;xa++)this.hull[xa]=R,R=oa[R];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(ca,
O){var oa=Math;ca-=this._cx;O-=this._cy;ca/=Math.abs(ca)+Math.abs(O);return oa.floor.call(oa,(0<O?3-ca:1+ca)/4*this._hashSize)%this._hashSize}_legalize(ca){const {_triangles:O,_halfedges:oa,coords:ra}=this;let Oa=0;for(var ya;;){const H=oa[ca];var va=ca-ca%3;ya=va+(ca+2)%3;if(-1===H){if(0===Oa)break;ca=Ha[--Oa];continue}const V=H-H%3,E=V+(H+2)%3;var m=O[ya],G=O[ca],Q=O[va+(ca+1)%3];va=O[E];var y=ra[2*va],t=ra[2*va+1];const K=ra[2*m]-y,z=ra[2*m+1]-t,L=ra[2*G]-y;G=ra[2*G+1]-t;y=ra[2*Q]-y;t=ra[2*Q+1]-
t;Q=L*L+G*G;const X=y*y+t*t;if(0>K*(G*X-Q*t)-z*(L*X-Q*y)+(K*K+z*z)*(L*t-G*y)){O[ca]=va;O[H]=m;m=oa[E];if(-1===m){va=this._hullStart;do{if(this._hullTri[va]===E){this._hullTri[va]=ca;break}va=this._hullPrev[va]}while(va!==this._hullStart)}this._link(ca,m);this._link(H,oa[ya]);this._link(ya,E);ya=V+(H+1)%3;Oa<Ha.length&&(Ha[Oa++]=ya)}else{if(0===Oa)break;ca=Ha[--Oa]}}return ya}_link(ca,O){this._halfedges[ca]=O;-1!==O&&(this._halfedges[O]=ca)}_addTriangle(ca,O,oa,ra,Oa,ya){const va=this.trianglesLen;
this._triangles[va]=ca;this._triangles[va+1]=O;this._triangles[va+2]=oa;this._link(va,ra);this._link(va+1,Oa);this._link(va+2,ya);this.trianglesLen+=3;return va}}class $a{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(ca,O){this._+=`M${this._x0=this._x1=+ca},${this._y0=this._y1=+O}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(ca,O){this._+=`L${this._x1=+ca},${this._y1=+O}`}arc(ca,O,oa){ca=+ca;O=+O;oa=+oa;const ra=ca+oa,Oa=O;if(0>oa)throw Error("negative radius");
if(null===this._x1)this._+=`M${ra},${Oa}`;else if(1E-6<Math.abs(this._x1-ra)||1E-6<Math.abs(this._y1-Oa))this._+="L"+ra+","+Oa;oa&&(this._+=`A${oa},${oa},0,1,1,${ca-oa},${O}A${oa},${oa},0,1,1,${this._x1=ra},${this._y1=Oa}`)}rect(ca,O,oa,ra){this._+=`M${this._x0=this._x1=+ca},${this._y0=this._y1=+O}h${+oa}v${+ra}h${-oa}Z`}value(){return this._||null}}class Ca{constructor(){this._=[]}moveTo(ca,O){this._.push([ca,O])}closePath(){this._.push(this._[0].slice())}lineTo(ca,O){this._.push([ca,O])}value(){return this._.length?
this._:null}}class Cb{constructor(ca,[O,oa,ra,Oa]=[0,0,960,500]){if(!((ra=+ra)>=(O=+O)&&(Oa=+Oa)>=(oa=+oa)))throw Error("invalid bounds");this.delaunay=ca;this._circumcenters=new Float64Array(2*ca.points.length);this.vectors=new Float64Array(2*ca.points.length);this.xmax=ra;this.xmin=O;this.ymax=Oa;this.ymin=oa;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:ca,hull:O,triangles:oa},vectors:ra}=this;var Oa=this.circumcenters=this._circumcenters.subarray(0,
oa.length/3*2);for(let E=0,K=0,z=oa.length,L,X;E<z;E+=3,K+=2){var ya=2*oa[E],va=2*oa[E+1],m=2*oa[E+2],G=ca[ya];ya=ca[ya+1];var Q=ca[m],y=ca[m+1],t=ca[va]-G,H=ca[va+1]-ya;va=Q-G;m=y-ya;var V=2*(t*m-H*va);1E-9>Math.abs(V)?(t=1E9,H=2*oa[0],t*=Math.sign((ca[H]-G)*m-(ca[H+1]-ya)*va),L=(G+Q)/2-t*m,X=(ya+y)/2+t*va):(Q=1/V,y=t*t+H*H,V=va*va+m*m,L=G+(m*y-H*V)*Q,X=ya+(t*V-va*y)*Q);Oa[K]=L;Oa[K+1]=X}Oa=O[O.length-1];ya=4*Oa;m=ca[2*Oa];t=ca[2*Oa+1];ra.fill(0);for(y=0;y<O.length;++y)Oa=O[y],G=ya,va=m,Q=t,ya=4*
Oa,m=ca[2*Oa],t=ca[2*Oa+1],ra[G+2]=ra[ya]=Q-t,ra[G+3]=ra[ya+1]=m-va}render(ca){const O=null==ca?ca=new $a:void 0,{delaunay:{halfedges:oa,inedges:ra,hull:Oa},circumcenters:ya,vectors:va}=this;if(1>=Oa.length)return null;for(let t=0,H=oa.length;t<H;++t){var m=oa[t];if(!(m<t)){var G=2*Math.floor(t/3);m=2*Math.floor(m/3);this._renderSegment(ya[G],ya[G+1],ya[m],ya[m+1],ca)}}G=Oa[Oa.length-1];for(m=0;m<Oa.length;++m){var Q=G;G=Oa[m];var y=2*Math.floor(ra[G]/3);const t=ya[y];y=ya[y+1];Q*=4;(Q=this._project(t,
y,va[Q+2],va[Q+3]))&&this._renderSegment(t,y,Q[0],Q[1],ca)}return O&&O.value()}renderBounds(ca){const O=null==ca?ca=new $a:void 0;ca.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return O&&O.value()}renderCell(ca,O){const oa=null==O?O=new $a:void 0;ca=this._clip(ca);if(null!==ca&&ca.length){O.moveTo(ca[0],ca[1]);for(var ra=ca.length;ca[0]===ca[ra-2]&&ca[1]===ca[ra-1]&&1<ra;)ra-=2;for(let Oa=2;Oa<ra;Oa+=2)ca[Oa]===ca[Oa-2]&&ca[Oa+1]===ca[Oa-1]||O.lineTo(ca[Oa],ca[Oa+1]);O.closePath();
return oa&&oa.value()}}*cellPolygons(){var {delaunay:{points:ca}}=this;for(let O=0,oa=ca.length/2;O<oa;++O)if(ca=this.cellPolygon(O))ca.index=O,yield ca}cellPolygon(ca){const O=new Ca;this.renderCell(ca,O);return O.value()}_renderSegment(ca,O,oa,ra,Oa){const ya=this._regioncode(ca,O),va=this._regioncode(oa,ra);if(0===ya&&0===va)Oa.moveTo(ca,O),Oa.lineTo(oa,ra);else if(ca=this._clipSegment(ca,O,oa,ra,ya,va))Oa.moveTo(ca[0],ca[1]),Oa.lineTo(ca[2],ca[3])}contains(ca,O,oa){return(O=+O,O!==O)||(oa=+oa,
oa!==oa)?!1:this.delaunay._step(ca,O,oa)===ca}*neighbors(ca){const O=this._clip(ca);if(O)for(const oa of this.delaunay.neighbors(ca))if(ca=this._clip(oa))a:for(let ra=0,Oa=O.length;ra<Oa;ra+=2)for(let ya=0,va=ca.length;ya<va;ya+=2)if(O[ra]==ca[ya]&&O[ra+1]==ca[ya+1]&&O[(ra+2)%Oa]==ca[(ya+va-2)%va]&&O[(ra+3)%Oa]==ca[(ya+va-1)%va]){yield oa;break a}}_cell(ca){const {circumcenters:O,delaunay:{inedges:oa,halfedges:ra,triangles:Oa}}=this,ya=oa[ca];if(-1===ya)return null;const va=[];let m=ya;do{const G=
Math.floor(m/3);va.push(O[2*G],O[2*G+1]);m=2===m%3?m-2:m+1;if(Oa[m]!==ca)break;m=ra[m]}while(m!==ya&&-1!==m);return va}_clip(ca){if(0===ca&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const O=this._cell(ca);if(null===O)return null;const {vectors:oa}=this,ra=4*ca;return oa[ra]||oa[ra+1]?this._clipInfinite(ca,O,oa[ra],oa[ra+1],oa[ra+2],oa[ra+3]):this._clipFinite(ca,O)}_clipFinite(ca,O){const oa=O.length;let ra=null;let Oa=O[oa-
2],ya=O[oa-1];let va=this._regioncode(Oa,ya),m=0;for(let t=0;t<oa;t+=2){var G=Oa;var Q=ya;Oa=O[t];ya=O[t+1];var y=va;va=this._regioncode(Oa,ya);if(0===y&&0===va)m=0,ra?ra.push(Oa,ya):ra=[Oa,ya];else{let H,V;if(0===y){if(null===(G=this._clipSegment(G,Q,Oa,ya,y,va)))continue;[Q,y,H,V]=G}else{if(null===(G=this._clipSegment(Oa,ya,G,Q,va,y)))continue;[H,V,Q,y]=G;G=m;m=this._edgecode(Q,y);G&&m&&this._edge(ca,G,m,ra,ra.length);ra?ra.push(Q,y):ra=[Q,y]}G=m;m=this._edgecode(H,V);G&&m&&this._edge(ca,G,m,ra,
ra.length);ra?ra.push(H,V):ra=[H,V]}}if(ra)G=m,m=this._edgecode(ra[0],ra[1]),G&&m&&this._edge(ca,G,m,ra,ra.length);else if(this.contains(ca,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ra}_clipSegment(ca,O,oa,ra,Oa,ya){for(;;){if(0===Oa&&0===ya)return[ca,O,oa,ra];if(Oa&ya)return null;var va=void 0;let m;va=Oa||ya;va&8?(va=ca+(oa-ca)*(this.ymax-O)/(ra-O),m=this.ymax):va&4?(va=ca+(oa-ca)*(this.ymin-O)/
(ra-O),m=this.ymin):va&2?(m=O+(ra-O)*(this.xmax-ca)/(oa-ca),va=this.xmax):(m=O+(ra-O)*(this.xmin-ca)/(oa-ca),va=this.xmin);Oa?(ca=va,O=m,Oa=this._regioncode(ca,O)):(oa=va,ra=m,ya=this._regioncode(oa,ra))}}_clipInfinite(ca,O,oa,ra,Oa,ya){O=Array.from(O);let va;(va=this._project(O[0],O[1],oa,ra))&&O.unshift(va[0],va[1]);(va=this._project(O[O.length-2],O[O.length-1],Oa,ya))&&O.push(va[0],va[1]);if(O=this._clipFinite(ca,O))for(let m=0,G=O.length,Q,y=this._edgecode(O[G-2],O[G-1]);m<G;m+=2)Q=y,y=this._edgecode(O[m],
O[m+1]),Q&&y&&(m=this._edge(ca,Q,y,O,m),G=O.length);else this.contains(ca,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(O=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return O}_edge(ca,O,oa,ra,Oa){for(;O!==oa;){let ya,va;switch(O){case 5:O=4;continue;case 4:O=6;ya=this.xmax;va=this.ymin;break;case 6:O=2;continue;case 2:O=10;ya=this.xmax;va=this.ymax;break;case 10:O=8;continue;case 8:O=9;ya=this.xmin;va=this.ymax;break;case 9:O=1;continue;case 1:O=5,ya=this.xmin,
va=this.ymin}ra[Oa]===ya&&ra[Oa+1]===va||!this.contains(ca,ya,va)||(ra.splice(Oa,0,ya,va),Oa+=2)}if(4<ra.length)for(ca=0;ca<ra.length;ca+=2)if(O=(ca+2)%ra.length,oa=(ca+4)%ra.length,ra[ca]===ra[O]&&ra[O]===ra[oa]||ra[ca+1]===ra[O+1]&&ra[O+1]===ra[oa+1])ra.splice(O,2),ca-=2;return Oa}_project(ca,O,oa,ra){let Oa=Infinity,ya,va,m;if(0>ra){if(O<=this.ymin)return null;(ya=(this.ymin-O)/ra)<Oa&&(m=this.ymin,va=ca+(Oa=ya)*oa)}else if(0<ra){if(O>=this.ymax)return null;(ya=(this.ymax-O)/ra)<Oa&&(m=this.ymax,
va=ca+(Oa=ya)*oa)}if(0<oa){if(ca>=this.xmax)return null;(ya=(this.xmax-ca)/oa)<Oa&&(va=this.xmax,m=O+ya*ra)}else if(0>oa){if(ca<=this.xmin)return null;(ya=(this.xmin-ca)/oa)<Oa&&(va=this.xmin,m=O+ya*ra)}return[va,m]}_edgecode(ca,O){return(ca===this.xmin?1:ca===this.xmax?2:0)|(O===this.ymin?4:O===this.ymax?8:0)}_regioncode(ca,O){return(ca<this.xmin?1:ca>this.xmax?2:0)|(O<this.ymin?4:O>this.ymax?8:0)}}const xb=2*Math.PI,Mb=Math.pow;class kc{static from(ca,O=Db,oa=fc,ra){if("length"in ca){const Oa=ca.length,
ya=new Float64Array(2*Oa);for(let va=0;va<Oa;++va){const m=ca[va];ya[2*va]=O.call(ra,m,va,ca);ya[2*va+1]=oa.call(ra,m,va,ca)}ca=ya}else ca=Float64Array.from(yb(ca,O,oa,ra));return new kc(ca)}constructor(ca){this._delaunator=new bb(ca);this.inedges=new Int32Array(ca.length/2);this._hullIndex=new Int32Array(ca.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var ca=this._delaunator;const O=this.points;if(ca.hull&&2<ca.hull.length&&
Ba(ca)){this.collinear=Int32Array.from({length:O.length/2},(va,m)=>m).sort((va,m)=>O[2*va]-O[2*m]||O[2*va+1]-O[2*m+1]);ca=this.collinear[0];var oa=this.collinear[this.collinear.length-1];ca=[O[2*ca],O[2*ca+1],O[2*oa],O[2*oa+1]];ca=1E-8*Math.hypot(ca[3]-ca[1],ca[2]-ca[0]);for(let va=0,m=O.length/2;va<m;++va)oa=jb(O[2*va],O[2*va+1],ca),O[2*va]=oa[0],O[2*va+1]=oa[1];this._delaunator=new bb(O)}else delete this.collinear;ca=this.halfedges=this._delaunator.halfedges;oa=this.hull=this._delaunator.hull;const ra=
this.triangles=this._delaunator.triangles,Oa=this.inedges.fill(-1),ya=this._hullIndex.fill(-1);for(let va=0,m=ca.length;va<m;++va){const G=ra[2===va%3?va-2:va+1];if(-1===ca[va]||-1===Oa[G])Oa[G]=va}for(let va=0,m=oa.length;va<m;++va)ya[oa[va]]=va;2>=oa.length&&0<oa.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=oa[0],Oa[oa[0]]=1,2===oa.length&&(Oa[oa[1]]=0,this.triangles[1]=oa[1],this.triangles[2]=oa[1]))}voronoi(ca){return new Cb(this,
ca)}*neighbors(ca){const {inedges:O,hull:oa,_hullIndex:ra,halfedges:Oa,triangles:ya,collinear:va}=this;if(va){var m=va.indexOf(ca);0<m&&(yield va[m-1]);m<va.length-1&&(yield va[m+1])}else{var G=O[ca];if(-1!==G){var Q=G;do{yield(m=ya[Q]);Q=2===Q%3?Q-2:Q+1;if(ya[Q]!==ca)break;Q=Oa[Q];if(-1===Q){ca=oa[(ra[ca]+1)%oa.length];ca!==m&&(yield ca);break}}while(Q!==G)}}}find(ca,O,oa=0){if((ca=+ca,ca!==ca)||(O=+O,O!==O))return-1;const ra=oa;let Oa;for(;0<=(Oa=this._step(oa,ca,O))&&Oa!==oa&&Oa!==ra;)oa=Oa;return Oa}_step(ca,
O,oa){const {inedges:ra,hull:Oa,_hullIndex:ya,halfedges:va,triangles:m,points:G}=this;if(-1===ra[ca]||!G.length)return(ca+1)%(G.length>>1);let Q=ca,y=Mb(O-G[2*ca],2)+Mb(oa-G[2*ca+1],2);const t=ra[ca];let H=t;do{let V=m[H];const E=Mb(O-G[2*V],2)+Mb(oa-G[2*V+1],2);E<y&&(y=E,Q=V);H=2===H%3?H-2:H+1;if(m[H]!==ca)break;H=va[H];if(-1===H){H=Oa[(ya[ca]+1)%Oa.length];if(H!==V&&Mb(O-G[2*H],2)+Mb(oa-G[2*H+1],2)<y)return H;break}}while(H!==t);return Q}render(ca){const O=null==ca?ca=new $a:void 0,{points:oa,halfedges:ra,
triangles:Oa}=this;for(let va=0,m=ra.length;va<m;++va){var ya=ra[va];if(ya<va)continue;const G=2*Oa[va];ya=2*Oa[ya];ca.moveTo(oa[G],oa[G+1]);ca.lineTo(oa[ya],oa[ya+1])}this.renderHull(ca);return O&&O.value()}renderPoints(ca,O){void 0!==O||ca&&"function"===typeof ca.moveTo||(O=ca,ca=null);O=void 0==O?2:+O;const oa=null==ca?ca=new $a:void 0,{points:ra}=this;for(let Oa=0,ya=ra.length;Oa<ya;Oa+=2){const va=ra[Oa],m=ra[Oa+1];ca.moveTo(va+O,m);ca.arc(va,m,O,0,xb)}return oa&&oa.value()}renderHull(ca){const O=
null==ca?ca=new $a:void 0,{hull:oa,points:ra}=this;var Oa=2*oa[0];const ya=oa.length;ca.moveTo(ra[Oa],ra[Oa+1]);for(Oa=1;Oa<ya;++Oa){const va=2*oa[Oa];ca.lineTo(ra[va],ra[va+1])}ca.closePath();return O&&O.value()}hullPolygon(){const ca=new Ca;this.renderHull(ca);return ca.value()}renderTriangle(ca,O){const oa=null==O?O=new $a:void 0,{points:ra,triangles:Oa}=this,ya=2*Oa[ca*=3],va=2*Oa[ca+1];ca=2*Oa[ca+2];O.moveTo(ra[ya],ra[ya+1]);O.lineTo(ra[va],ra[va+1]);O.lineTo(ra[ca],ra[ca+1]);O.closePath();return oa&&
oa.value()}*trianglePolygons(){const {triangles:ca}=this;for(let O=0,oa=ca.length/3;O<oa;++O)yield this.trianglePolygon(O)}trianglePolygon(ca){const O=new Ca;this.renderTriangle(ca,O);return O.value()}}Ab.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},
{name:"as",type:"string","default":"path"}]};const pb=[-1E5,-1E5,1E5,1E5];M.inherits(Ab,l.Transform,{transform(ca,O){const oa=ca.as||"path",ra=O.source;if(!ra||!ra.length)return O;var Oa=ca.size;Oa=Oa?[0,0,Oa[0],Oa[1]]:(Oa=ca.extent)?[Oa[0][0],Oa[0][1],Oa[1][0],Oa[1][1]]:pb;Oa=this.value=kc.from(ra,ca.x,ca.y).voronoi(Oa);for(let m=0,G=ra.length;m<G;++m){var ya=Oa.cellPolygon(m),va=ra[m];if(ya){const Q=ya[0][0],y=ya[0][1];let t=ya.length-1;for(;ya[t][0]===Q&&ya[t][1]===y;--t);ya="M"+ya.slice(0,t+1).join("L")+
"Z"}else ya=null;va[oa]=ya}return O.reflow(ca.modified()).modifies(oa)}});x.voronoi=Ab;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[43]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(31),vb(28),vb(20),vb(32),vb(29)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),l):(x="undefined"!==typeof globalThis?globalThis:x||self,l((x.vega=x.vega||{},x.vega.transforms={}),x.vega,x.vega,x.vega,x.vega,x.vega))})(this,function(x,l,M,cb,zb,Zb){function gc(){function Va(ca){ca.width=ca.height=1;var O=Math.sqrt(ca.getContext("2d").getImageData(0,
0,1,1).data.length>>2);ca.width=2048/O;ca.height=2048/O;ca=ca.getContext("2d");ca.fillStyle=ca.strokeStyle="red";ca.textAlign="center";return{context:ca,ratio:O}}function Xa(ca,O,oa){for(var ra=O.x,Oa=O.y,ya=Math.sqrt(Fa[0]*Fa[0]+Fa[1]*Fa[1]),va=xb(Fa),m=.5>kc()?1:-1,G=-m,Q,y;Q=va(G+=m);){y=~~Q[0];Q=~~Q[1];if(Math.min(Math.abs(y),Math.abs(Q))>=ya)break;O.x=ra+y;O.y=Oa+Q;if(!(0>O.x+O.x0||0>O.y+O.y0||O.x+O.x1>Fa[0]||O.y+O.y1>Fa[1])){if(!(y=!oa)){a:{y=Fa[0];y>>=5;Q=O.sprite;var t=O.width>>5;var H=O.x-
(t<<4);for(var V=H&127,E=32-V,K=O.y1-O.y0,z=(O.y+O.y0)*y+(H>>5),L=0;L<K;L++){for(var X=H=0;X<=t;X++)if((H<<E|(X<t?(H=Q[L*t+X])>>>V:0))&ca[z+X]){y=!0;break a}z+=y}y=!1}y=!y}if(y&&(!oa||O.x+O.x1>oa[0].x&&O.x+O.x0<oa[1].x&&O.y+O.y1>oa[0].y&&O.y+O.y0<oa[1].y)){oa=O.sprite;ra=O.width>>5;Oa=Fa[0]>>5;G=O.x-(ra<<4);ya=G&127;va=32-ya;m=O.y1-O.y0;G=(O.y+O.y0)*Oa+(G>>5);for(Q=0;Q<m;Q++){for(t=y=0;t<=ra;t++)ca[G+t]=ca[G+t]|y<<va|(t<ra?(y=oa[Q*ra+t])>>>ya:0);G+=Oa}O.sprite=null;return!0}}}return!1}var Fa=[256,
256],pa,Aa,Ha,bb,$a,Ca,Cb,xb=Gb,Mb=[],kc=Math.random,pb={layout:function(){for(var ca=Va(l.canvas()),O=Db((Fa[0]>>5)*Fa[1]),oa=null,ra=Mb.length,Oa=-1,ya=[],va=Mb.map(G=>({text:pa(G),font:Aa(G),style:bb(G),weight:$a(G),rotate:Ca(G),size:~~(Ha(G)+1E-14),padding:Cb(G),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:G})).sort((G,Q)=>Q.size-G.size);++Oa<ra;){var m=va[Oa];m.x=Fa[0]*(kc()+.5)>>1;m.y=Fa[1]*(kc()+.5)>>1;nc(ca,m,va,Oa);m.hasText&&Xa(O,m,oa)&&(ya.push(m),oa?Tb(oa,m):oa=[{x:m.x+
m.x0,y:m.y+m.y0},{x:m.x+m.x1,y:m.y+m.y1}],m.x-=Fa[0]>>1,m.y-=Fa[1]>>1)}return ya},words:function(ca){return arguments.length?(Mb=ca,pb):Mb},size:function(ca){return arguments.length?(Fa=[+ca[0],+ca[1]],pb):Fa},font:function(ca){return arguments.length?(Aa=fc(ca),pb):Aa},fontStyle:function(ca){return arguments.length?(bb=fc(ca),pb):bb},fontWeight:function(ca){return arguments.length?($a=fc(ca),pb):$a},rotate:function(ca){return arguments.length?(Ca=fc(ca),pb):Ca},text:function(ca){return arguments.length?
(pa=fc(ca),pb):pa},spiral:function(ca){return arguments.length?(xb=yb[ca]||ca,pb):xb},fontSize:function(ca){return arguments.length?(Ha=fc(ca),pb):Ha},padding:function(ca){return arguments.length?(Cb=fc(ca),pb):Cb},random:function(ca){return arguments.length?(kc=ca,pb):kc}};return pb}function nc(Va,Xa,Fa,pa){if(!Xa.sprite){var Aa=Va.context,Ha=Va.ratio;Aa.clearRect(0,0,2048/Ha,2048/Ha);var bb=Va=0,$a=0,Ca=Fa.length;for(--pa;++pa<Ca;){Xa=Fa[pa];Aa.save();Aa.font=Xa.style+" "+Xa.weight+" "+~~((Xa.size+
1)/Ha)+"px "+Xa.font;var Cb=Aa.measureText(Xa.text+"m").width*Ha;var xb=Xa.size<<1;if(Xa.rotate){var Mb=Math.sin(Xa.rotate*jb),kc=Math.cos(Xa.rotate*jb),pb=Cb*kc,ca=Cb*Mb;kc*=xb;Cb=xb*Mb;Cb=Math.max(Math.abs(pb+Cb),Math.abs(pb-Cb))+31>>5<<5;xb=~~Math.max(Math.abs(ca+kc),Math.abs(ca-kc))}else Cb=Cb+31>>5<<5;xb>$a&&($a=xb);2048<=Va+Cb&&(Va=0,bb+=$a,$a=0);if(2048<=bb+xb)break;Aa.translate((Va+(Cb>>1))/Ha,(bb+(xb>>1))/Ha);Xa.rotate&&Aa.rotate(Xa.rotate*jb);Aa.fillText(Xa.text,0,0);Xa.padding&&(Aa.lineWidth=
2*Xa.padding,Aa.strokeText(Xa.text,0,0));Aa.restore();Xa.width=Cb;Xa.height=xb;Xa.xoff=Va;Xa.yoff=bb;Xa.x1=Cb>>1;Xa.y1=xb>>1;Xa.x0=-Xa.x1;Xa.y0=-Xa.y1;Xa.hasText=!0;Va+=Cb}Ca=Aa.getImageData(0,0,2048/Ha,2048/Ha).data;for(pb=[];0<=--pa;)if(Xa=Fa[pa],Xa.hasText){Cb=Xa.width;Aa=Cb>>5;xb=Xa.y1-Xa.y0;for(Ha=0;Ha<xb*Aa;Ha++)pb[Ha]=0;Va=Xa.xoff;if(null==Va)break;bb=Xa.yoff;ca=0;Mb=-1;for($a=0;$a<xb;$a++){for(Ha=0;Ha<Cb;Ha++)kc=Ca[2048*(bb+$a)+(Va+Ha)<<2]?1<<31-Ha%32:0,pb[Aa*$a+(Ha>>5)]|=kc,ca|=kc;ca?Mb=
$a:(Xa.y0++,xb--,$a--,bb++)}Xa.y1=Xa.y0+Mb;Xa.sprite=pb.slice(0,(Xa.y1-Xa.y0)*Aa)}}}function Tb(Va,Xa){var Fa=Va[0];Va=Va[1];Xa.x+Xa.x0<Fa.x&&(Fa.x=Xa.x+Xa.x0);Xa.y+Xa.y0<Fa.y&&(Fa.y=Xa.y+Xa.y0);Xa.x+Xa.x1>Va.x&&(Va.x=Xa.x+Xa.x1);Xa.y+Xa.y1>Va.y&&(Va.y=Xa.y+Xa.y1)}function Gb(Va){var Xa=Va[0]/Va[1];return function(Fa){return[Xa*(Fa*=.1)*Math.cos(Fa),Fa*Math.sin(Fa)]}}function Db(Va){for(var Xa=[],Fa=-1;++Fa<Va;)Xa[Fa]=0;return Xa}function fc(Va){return"function"===typeof Va?Va:function(){return Va}}
function Ba(Va){M.Transform.call(this,gc(),Va)}var jb=Math.PI/180,yb={archimedean:Gb,rectangular:function(Va){var Xa=4*Va[0]/Va[1],Fa=0,pa=0;return function(Aa){var Ha=0>Aa?-1:1;switch(Math.sqrt(1+4*Ha*Aa)-Ha&3){case 0:Fa+=Xa;break;case 1:pa+=4;break;case 2:Fa-=Xa;break;default:pa-=4}return[Fa,pa]}}};const Ab="x y font fontSize fontStyle fontWeight angle".split(" "),Pa="text font rotate fontSize fontStyle fontWeight".split(" ");Ba.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",
type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",
expr:!0},{name:"as",type:"string",array:!0,length:7,"default":Ab}]};cb.inherits(Ba,M.Transform,{transform(Va,Xa){function Fa(Cb){Cb=Va[Cb];return cb.isFunction(Cb)&&Xa.modified(Cb.fields)}!Va.size||Va.size[0]&&Va.size[1]||cb.error("Wordcloud size dimensions must be non-zero.");const pa=Va.modified();if(pa||Xa.changed(Xa.ADD_REM)||Pa.some(Fa)){var Aa=Xa.materialize(Xa.SOURCE).source,Ha=this.value,bb=Va.as||Ab,$a=Va.fontSize||14,Ca;cb.isFunction($a)?Ca=Va.fontSizeRange:$a=cb.constant($a);if(Ca){const Cb=
$a,xb=zb.scale("sqrt")().domain(cb.extent(Aa,Cb)).range(Ca);$a=Mb=>xb(Cb(Mb))}Aa.forEach(Cb=>{Cb[bb[0]]=NaN;Cb[bb[1]]=NaN;Cb[bb[3]]=0});Aa=Ha.words(Aa).text(Va.text).size(Va.size||[500,500]).padding(Va.padding||1).spiral(Va.spiral||"archimedean").rotate(Va.rotate||0).font(Va.font||"sans-serif").fontStyle(Va.fontStyle||"normal").fontWeight(Va.fontWeight||"normal").fontSize($a).random(Zb.random).layout();$a=Ha.size();Ha=$a[0]>>1;$a=$a[1]>>1;Ca=Aa.length;for(let Cb=0,xb,Mb;Cb<Ca;++Cb)xb=Aa[Cb],Mb=xb.datum,
Mb[bb[0]]=xb.x+Ha,Mb[bb[1]]=xb.y+$a,Mb[bb[2]]=xb.font,Mb[bb[3]]=xb.size,Mb[bb[4]]=xb.style,Mb[bb[5]]=xb.weight,Mb[bb[6]]=xb.rotate;return Xa.reflow(pa).modifies(bb)}}});x.wordcloud=Ba;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[44]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(28),vb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l((x.vega=x.vega||{},x.vega.transforms={}),x.vega,x.vega))})(this,function(x,l,M){function cb(){let Fa=8,pa=[],Aa=new Uint32Array(0),Ha=zb(0,Fa),bb=zb(0,Fa);return{data:()=>pa,seen:()=>{var $a=Aa;var Ca=pa.length;$a.length>=Ca||(Ca=new $a.constructor(Ca),
Ca.set($a),$a=Ca);return Aa=$a},add($a){for(let Ca=0,Cb=pa.length,xb=$a.length,Mb;Ca<xb;++Ca)Mb=$a[Ca],Mb._index=Cb++,pa.push(Mb)},remove($a,Ca){const Cb=pa.length;$a=Array(Cb-$a);const xb=pa;let Mb,kc,pb;for(kc=0;!Ca[kc]&&kc<Cb;++kc)$a[kc]=pa[kc],xb[kc]=kc;for(pb=kc;kc<Cb;++kc)Mb=pa[kc],Ca[kc]?xb[kc]=-1:(xb[kc]=pb,Ha[pb]=Ha[kc],bb[pb]=bb[kc],$a[pb]=Mb,Mb._index=pb++),Ha[kc]=0;pa=$a;return xb},size:()=>pa.length,curr:()=>Ha,prev:()=>bb,reset:$a=>bb[$a]=Ha[$a],all:()=>257>Fa?255:65537>Fa?65535:4294967295,
set($a,Ca){Ha[$a]|=Ca},clear($a,Ca){Ha[$a]&=~Ca},resize($a,Ca){if($a>Ha.length||Ca>Fa)Fa=Math.max(Ca,Fa),Ha=zb($a,Fa,Ha),bb=zb($a,Fa)}}}function zb(Fa,pa,Aa){Fa=(257>pa?jb:65537>pa?yb:Ab)(Fa);Aa&&Fa.set(Aa);return Fa}function Zb(Fa,pa,Aa){const Ha=1<<pa;return{one:Ha,zero:~Ha,range:Aa.slice(),bisect:Fa.bisect,index:Fa.index,size:Fa.size,onAdd(bb,$a){var Ca=this.bisect(this.range,bb.value);bb=bb.index;const Cb=Ca[0];Ca=Ca[1];const xb=bb.length;let Mb;for(Mb=0;Mb<Cb;++Mb)$a[bb[Mb]]|=Ha;for(Mb=Ca;Mb<
xb;++Mb)$a[bb[Mb]]|=Ha;return this}}}function gc(Fa,pa){return null==Fa||null==pa?NaN:Fa<pa?-1:Fa>pa?1:Fa>=pa?0:NaN}function nc(Fa){function pa($a,Ca,Cb=0,xb=$a.length){if(Cb<xb){if(0!==Ha(Ca,Ca))return xb;do{const Mb=Cb+xb>>>1;0>bb($a[Mb],Ca)?Cb=Mb+1:xb=Mb}while(Cb<xb)}return Cb}let Aa=Fa,Ha=Fa,bb=Fa;2!==Fa.length&&(Aa=($a,Ca)=>Fa($a)-Ca,Ha=gc,bb=($a,Ca)=>gc(Fa($a),Ca));return{left:pa,center:function($a,Ca,Cb=0,xb=$a.length){xb=pa($a,Ca,Cb,xb-1);return xb>Cb&&Aa($a[xb-1],Ca)>-Aa($a[xb],Ca)?xb-1:
xb},right:function($a,Ca,Cb=0,xb=$a.length){if(Cb<xb){if(0!==Ha(Ca,Ca))return xb;do{const Mb=Cb+xb>>>1;0>=bb($a[Mb],Ca)?Cb=Mb+1:xb=Mb}while(Cb<xb)}return Cb}}}function Tb(Fa,pa){return Array.from(pa,Aa=>Fa[Aa])}function Gb(){let Fa=new Uint32Array(0),pa=[],Aa=0;return{insert:function(Ha,bb,$a){if(!bb.length)return[];const Ca=Aa,Cb=bb.length,xb=new Uint32Array(Cb);let Mb=Array(Cb);var kc;for(kc=0;kc<Cb;++kc)Mb[kc]=Ha(bb[kc]),xb[kc]=kc;Mb=Db(Mb,xb);if(Ca){Ha=pa;bb=Fa;pa=Array(Ca+Cb);Fa=new Uint32Array(Ca+
Cb);kc=Mb;var pb=pa,ca=Fa;let O=0,oa=0,ra;for(ra=0;O<Ca&&oa<Cb;++ra)Ha[O]<kc[oa]?(pb[ra]=Ha[O],ca[ra]=bb[O++]):(pb[ra]=kc[oa],ca[ra]=xb[oa++]+$a);for(;O<Ca;++O,++ra)pb[ra]=Ha[O],ca[ra]=bb[O];for(;oa<Cb;++oa,++ra)pb[ra]=kc[oa],ca[ra]=xb[oa]+$a}else{if(0<$a)for(kc=0;kc<Cb;++kc)xb[kc]+=$a;pa=Mb;Fa=xb}Aa=Ca+Cb;return{index:xb,value:Mb}},remove:function(Ha,bb){const $a=Aa;let Ca,Cb,xb;for(Cb=0;!bb[Fa[Cb]]&&Cb<$a;++Cb);for(xb=Cb;Cb<$a;++Cb)bb[Ca=Fa[Cb]]||(Fa[xb]=Ca,pa[xb]=pa[Cb],++xb);Aa=$a-Ha},bisect:function(Ha,
bb){let $a;bb?$a=bb.length:(bb=pa,$a=Aa);return[Xa(bb,Ha[0],0,$a),Va(bb,Ha[1],0,$a)]},reindex:function(Ha){for(let bb=0,$a=Aa;bb<$a;++bb)Fa[bb]=Ha[Fa[bb]]},index:()=>Fa,size:()=>Aa}}function Db(Fa,pa){Fa.sort.call(pa,(Aa,Ha)=>{Aa=Fa[Aa];Ha=Fa[Ha];return Aa<Ha?-1:Aa>Ha?1:0});return Tb(Fa,pa)}function fc(Fa){l.Transform.call(this,cb(),Fa);this._dims=this._indices=null}function Ba(Fa){l.Transform.call(this,null,Fa)}const jb=Fa=>new Uint8Array(Fa),yb=Fa=>new Uint16Array(Fa),Ab=Fa=>new Uint32Array(Fa),
Pa=nc(gc),Va=Pa.right,Xa=Pa.left;nc(function(Fa){return null===Fa?NaN:+Fa}).center;fc.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};M.inherits(fc,l.Transform,{transform(Fa,pa){return this._dims?Fa.modified("fields")||Fa.fields.some(Aa=>pa.modified(Aa.fields))?this.reinit(Fa,pa):this.eval(Fa,pa):this.init(Fa,pa)},init(Fa,pa){const Aa=Fa.fields,Ha=Fa.query,
bb=this._indices={},$a=this._dims=[],Ca=Ha.length;let Cb=0;for(var xb;Cb<Ca;++Cb)xb=Aa[Cb].fname,xb=bb[xb]||(bb[xb]=Gb()),$a.push(Zb(xb,Cb,Ha[Cb]));return this.eval(Fa,pa)},reinit(Fa,pa){const Aa=pa.materialize().fork(),Ha=Fa.fields,bb=Fa.query,$a=this._indices,Ca=this._dims,Cb=this.value,xb=Cb.curr(),Mb=Cb.prev(),kc=Cb.all(),pb=Aa.rem=Aa.add,ca=Aa.mod,O=bb.length,oa={};let ra;var Oa;let ya,va,m,G;Mb.set(xb);pa.rem.length&&(ya=this.remove(Fa,pa,Aa));pa.add.length&&Cb.add(pa.add);if(pa.mod.length){va=
{};var Q=pa.mod;m=0;for(Oa=Q.length;m<Oa;++m)va[Q[m]._index]=1}for(m=0;m<O;++m)if(G=Ha[m],!Ca[m]||Fa.modified("fields",m)||pa.modified(G.fields))Oa=G.fname,(Q=oa[Oa])||($a[Oa]=ra=Gb(),oa[Oa]=Q=ra.insert(G,pa.source,0)),Ca[m]=Zb(ra,m,bb[m]).onAdd(Q,xb);m=0;for(Oa=Cb.data().length;m<Oa;++m)ya[m]||(Mb[m]!==xb[m]?pb.push(m):va[m]&&xb[m]!==kc&&ca.push(m));Cb.mask=(1<<O)-1;return Aa},eval(Fa,pa){const Aa=pa.materialize().fork(),Ha=this._dims.length;let bb=0;pa.rem.length&&(this.remove(Fa,pa,Aa),bb|=(1<<
Ha)-1);Fa.modified("query")&&!Fa.modified("fields")&&(bb|=this.update(Fa,pa,Aa));pa.add.length&&(this.insert(Fa,pa,Aa),bb|=(1<<Ha)-1);pa.mod.length&&(this.modify(pa,Aa),bb|=(1<<Ha)-1);this.value.mask=bb;return Aa},insert(Fa,pa,Aa){pa=pa.add;var Ha=this.value;const bb=this._dims,$a=this._indices;Fa=Fa.fields;const Ca={};Aa=Aa.add;const Cb=Ha.size()+pa.length,xb=bb.length;let Mb=Ha.size();Ha.resize(Cb,xb);Ha.add(pa);const kc=Ha.curr(),pb=Ha.prev(),ca=Ha.all();for(Ha=0;Ha<xb;++Ha){var O=Fa[Ha].fname;
O=Ca[O]||(Ca[O]=$a[O].insert(Fa[Ha],pa,Mb));bb[Ha].onAdd(O,kc)}for(;Mb<Cb;++Mb)pb[Mb]=ca,kc[Mb]!==ca&&Aa.push(Mb)},modify(Fa,pa){pa=pa.mod;var Aa=this.value;const Ha=Aa.curr();Aa=Aa.all();Fa=Fa.mod;let bb,$a,Ca;bb=0;for($a=Fa.length;bb<$a;++bb)Ca=Fa[bb]._index,Ha[Ca]!==Aa&&pa.push(Ca)},remove(Fa,pa,Aa){Fa=this._indices;var Ha=this.value;const bb=Ha.curr(),$a=Ha.prev();Ha=Ha.all();const Ca={};Aa=Aa.rem;const Cb=pa.rem;let xb,Mb,kc,pb;xb=0;for(Mb=Cb.length;xb<Mb;++xb)kc=Cb[xb]._index,Ca[kc]=1,$a[kc]=
pb=bb[kc],bb[kc]=Ha,pb!==Ha&&Aa.push(kc);for(kc in Fa)Fa[kc].remove(Mb,Ca);this.reindex(pa,Mb,Ca);return Ca},reindex(Fa,pa,Aa){const Ha=this._indices,bb=this.value;Fa.runAfter(()=>{const $a=bb.remove(pa,Aa);for(const Ca in Ha)Ha[Ca].reindex($a)})},update(Fa,pa,Aa){const Ha=this._dims,bb=Fa.query;pa=pa.stamp;const $a=Ha.length;let Ca=0,Cb,xb;for(xb=Aa.filters=0;xb<$a;++xb)Fa.modified("query",xb)&&(Cb=xb,++Ca);if(1===Ca)Ca=Ha[Cb].one,this.incrementOne(Ha[Cb],bb[Cb],Aa.add,Aa.rem);else for(Ca=xb=0;xb<
$a;++xb)Fa.modified("query",xb)&&(Ca|=Ha[xb].one,this.incrementAll(Ha[xb],bb[xb],pa,Aa.add),Aa.rem=Aa.add);return Ca},incrementAll(Fa,pa,Aa,Ha){var bb=this.value;const $a=bb.seen(),Ca=bb.curr();bb=bb.prev();const Cb=Fa.index();var xb=Fa.bisect(Fa.range),Mb=Fa.bisect(pa);const kc=Mb[0];Mb=Mb[1];const pb=xb[0];xb=xb[1];const ca=Fa.one;let O,oa,ra;if(kc<pb)for(O=kc,oa=Math.min(pb,Mb);O<oa;++O)ra=Cb[O],$a[ra]!==Aa&&(bb[ra]=Ca[ra],$a[ra]=Aa,Ha.push(ra)),Ca[ra]^=ca;else if(kc>pb)for(O=pb,oa=Math.min(kc,
xb);O<oa;++O)ra=Cb[O],$a[ra]!==Aa&&(bb[ra]=Ca[ra],$a[ra]=Aa,Ha.push(ra)),Ca[ra]^=ca;if(Mb>xb)for(O=Math.max(kc,xb),oa=Mb;O<oa;++O)ra=Cb[O],$a[ra]!==Aa&&(bb[ra]=Ca[ra],$a[ra]=Aa,Ha.push(ra)),Ca[ra]^=ca;else if(Mb<xb)for(O=Math.max(pb,Mb),oa=xb;O<oa;++O)ra=Cb[O],$a[ra]!==Aa&&(bb[ra]=Ca[ra],$a[ra]=Aa,Ha.push(ra)),Ca[ra]^=ca;Fa.range=pa.slice()},incrementOne(Fa,pa,Aa,Ha){const bb=this.value.curr(),$a=Fa.index();var Ca=Fa.bisect(Fa.range),Cb=Fa.bisect(pa);const xb=Cb[0];Cb=Cb[1];const Mb=Ca[0];Ca=Ca[1];
const kc=Fa.one;let pb,ca,O;if(xb<Mb)for(pb=xb,ca=Math.min(Mb,Cb);pb<ca;++pb)O=$a[pb],bb[O]^=kc,Aa.push(O);else if(xb>Mb)for(pb=Mb,ca=Math.min(xb,Ca);pb<ca;++pb)O=$a[pb],bb[O]^=kc,Ha.push(O);if(Cb>Ca)for(pb=Math.max(xb,Ca),ca=Cb;pb<ca;++pb)O=$a[pb],bb[O]^=kc,Aa.push(O);else if(Cb<Ca)for(pb=Math.max(Mb,Cb),ca=Ca;pb<ca;++pb)O=$a[pb],bb[O]^=kc,Ha.push(O);Fa.range=pa.slice()}});Ba.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},
{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};M.inherits(Ba,l.Transform,{transform(Fa,pa){const Aa=~(Fa.ignore||0);Fa=Fa.filter;const Ha=Fa.mask;if(0===(Ha&Aa))return pa.StopPropagation;pa=pa.fork(pa.ALL);const bb=Fa.data(),$a=Fa.curr(),Ca=Fa.prev(),Cb=xb=>$a[xb]&Aa?null:bb[xb];pa.filter(pa.MOD,Cb);Ha&Ha-1?(pa.filter(pa.ADD,xb=>{const Mb=$a[xb]&Aa;return!Mb&&Mb^Ca[xb]&Aa?bb[xb]:null}),pa.filter(pa.REM,xb=>{const Mb=$a[xb]&Aa;return!Mb||
Mb^Mb^Ca[xb]&Aa?null:bb[xb]})):(pa.filter(pa.ADD,Cb),pa.filter(pa.REM,xb=>($a[xb]&Aa)===Ha?bb[xb]:null));return pa.filter(pa.SOURCE,xb=>Cb(xb._index))}});x.crossfilter=fc;x.resolvefilter=Ba;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[45]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(20)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega))})(this,function(x,l){function M(K){this.type=K}function cb(K){switch(K.type){case "ArrayExpression":return K.elements;case "BinaryExpression":case "LogicalExpression":return[K.left,K.right];case "CallExpression":return[K.callee].concat(K.arguments);
case "ConditionalExpression":return[K.test,K.consequent,K.alternate];case "MemberExpression":return[K.object,K.property];case "ObjectExpression":return K.properties;case "Property":return[K.key,K.value];case "UnaryExpression":return[K.argument];default:return[]}}function zb(K,z){if(!K)throw Error("ASSERT: "+z);}function Zb(K){return 48<=K&&57>=K}function gc(K){return 0<="0123456789abcdefABCDEF".indexOf(K)}function nc(K){return 0<="01234567".indexOf(K)}function Tb(K){return 10===K||13===K||8232===
K||8233===K}function Gb(K){return 36===K||95===K||65<=K&&90>=K||97<=K&&122>=K||92===K||128<=K&&y.test(String.fromCharCode(K))}function Db(K){return 36===K||95===K||65<=K&&90>=K||97<=K&&122>=K||48<=K&&57>=K||92===K||128<=K&&t.test(String.fromCharCode(K))}function fc(){for(;m<G;){const K=va.charCodeAt(m);if(32===K||9===K||11===K||12===K||160===K||5760<=K&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(K)||Tb(K))++m;else break}}function Ba(K){var z=
0;var L="u"===K?4:2;for(K=0;K<L;++K)if(m<G&&gc(va[m])){var X=va[m++];z=16*z+"0123456789abcdef".indexOf(X.toLowerCase())}else Ca({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(z)}function jb(){var K=va.charCodeAt(m++);var z=String.fromCharCode(K);92===K&&(117!==va.charCodeAt(m)&&Ca({},"Unexpected token %0","ILLEGAL"),++m,(K=Ba("u"))&&"\\"!==K&&Gb(K.charCodeAt(0))||Ca({},"Unexpected token %0","ILLEGAL"),z=K);for(;m<G;){K=va.charCodeAt(m);if(!Db(K))break;++m;z+=String.fromCharCode(K);
92===K&&(z=z.substr(0,z.length-1),117!==va.charCodeAt(m)&&Ca({},"Unexpected token %0","ILLEGAL"),++m,(K=Ba("u"))&&"\\"!==K&&Db(K.charCodeAt(0))||Ca({},"Unexpected token %0","ILLEGAL"),z+=K)}return z}function yb(){var K=m,z=va.charCodeAt(m),L=va[m];switch(z){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++m,{type:7,value:String.fromCharCode(z),start:K,end:m};default:var X=va.charCodeAt(m+1);if(61===X)switch(z){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return m+=
2,{type:7,value:String.fromCharCode(z)+String.fromCharCode(X),start:K,end:m};case 33:case 61:return m+=2,61===va.charCodeAt(m)&&++m,{type:7,value:va.slice(K,m),start:K,end:m}}}z=va.substr(m,4);if("\x3e\x3e\x3e\x3d"===z)return m+=4,{type:7,value:z,start:K,end:m};z=z.substr(0,3);if("\x3e\x3e\x3e"===z||"\x3c\x3c\x3d"===z||"\x3e\x3e\x3d"===z)return m+=3,{type:7,value:z,start:K,end:m};z=z.substr(0,2);if(L===z[1]&&0<="+-\x3c\x3e\x26|".indexOf(L)||"\x3d\x3e"===z)return m+=2,{type:7,value:z,start:K,end:m};
"//"===z&&Ca({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(L))return++m,{type:7,value:L,start:K,end:m};Ca({},"Unexpected token %0","ILLEGAL")}function Ab(){var K=va[m];zb(Zb(K.charCodeAt(0))||"."===K,"Numeric literal must start with a decimal digit or a decimal point");var z=m;var L="";if("."!==K){L=va[m++];K=va[m];if("0"===L){if("x"===K||"X"===K){++m;for(L="";m<G&&gc(va[m]);)L+=va[m++];0===L.length&&Ca({},"Unexpected token %0","ILLEGAL");Gb(va.charCodeAt(m))&&Ca({},
"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+L,16),start:z,end:m}}if(nc(K)){for(L="0"+va[m++];m<G&&nc(va[m]);)L+=va[m++];(Gb(va.charCodeAt(m))||Zb(va.charCodeAt(m)))&&Ca({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(L,8),octal:!0,start:z,end:m}}K&&Zb(K.charCodeAt(0))&&Ca({},"Unexpected token %0","ILLEGAL")}for(;Zb(va.charCodeAt(m));)L+=va[m++];K=va[m]}if("."===K){for(L+=va[m++];Zb(va.charCodeAt(m));)L+=va[m++];K=va[m]}if("e"===K||"E"===K){L+=va[m++];K=va[m];
if("+"===K||"-"===K)L+=va[m++];if(Zb(va.charCodeAt(m)))for(;Zb(va.charCodeAt(m));)L+=va[m++];else Ca({},"Unexpected token %0","ILLEGAL")}Gb(va.charCodeAt(m))&&Ca({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(L),start:z,end:m}}function Pa(K,z){let L=K;0<=z.indexOf("u")&&(L=L.replace(/\\u\{([0-9a-fA-F]+)\}/g,(X,qa)=>{if(1114111>=parseInt(qa,16))return"x";Ca({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(L)}catch(X){Ca({},"Invalid regular expression")}try{return new RegExp(K,
z)}catch(X){return null}}function Va(){fc();if(m>=G)return{type:2,start:m,end:m};var K=va.charCodeAt(m);if(Gb(K)){K=m;if(92===va.charCodeAt(m))var z=jb();else a:{for(z=m++;m<G;){var L=va.charCodeAt(m);if(92===L){m=z;z=jb();break a}if(Db(L))++m;else break}z=va.slice(z,m)}return{type:1===z.length?3:H.hasOwnProperty(z)?4:"null"===z?5:"true"===z||"false"===z?1:3,value:z,start:K,end:m}}if(40===K||41===K||59===K)return yb();if(39===K||34===K){var X="";L=!1;K=va[m];zb("'"===K||'"'===K,"String literal must starts with a quote");
z=m;for(++m;m<G;){var qa=va[m++];if(qa===K){K="";break}else if("\\"===qa)if((qa=va[m++])&&Tb(qa.charCodeAt(0)))"\r"===qa&&"\n"===va[m]&&++m;else switch(qa){case "u":case "x":if("{"===va[m]){++m;var T=va[m];qa=0;for("}"===T&&Ca({},"Unexpected token %0","ILLEGAL");m<G;){T=va[m++];if(!gc(T))break;qa=16*qa+"0123456789abcdef".indexOf(T.toLowerCase())}(1114111<qa||"}"!==T)&&Ca({},"Unexpected token %0","ILLEGAL");qa=65535>=qa?String.fromCharCode(qa):String.fromCharCode((qa-65536>>10)+55296,(qa-65536&1023)+
56320);X+=qa}else X+=Ba(qa);break;case "n":X+="\n";break;case "r":X+="\r";break;case "t":X+="\t";break;case "b":X+="\b";break;case "f":X+="\f";break;case "v":X+="\v";break;default:nc(qa)?(T="01234567".indexOf(qa),0!==T&&(L=!0),m<G&&nc(va[m])&&(L=!0,T=8*T+"01234567".indexOf(va[m++]),0<="0123".indexOf(qa)&&m<G&&nc(va[m])&&(T=8*T+"01234567".indexOf(va[m++]))),X+=String.fromCharCode(T)):X+=qa}else if(Tb(qa.charCodeAt(0)))break;else X+=qa}""!==K&&Ca({},"Unexpected token %0","ILLEGAL");return{type:8,value:X,
octal:L,start:z,end:m}}return 46===K?Zb(va.charCodeAt(m+1))?Ab():yb():Zb(K)?Ab():yb()}function Xa(){const K=Q;m=K.end;Q=Va();m=K.end;return K}function Fa(){const K=m;Q=Va();m=K}function pa(K,z,L){const X=new M("||"===K||"\x26\x26"===K?"LogicalExpression":"BinaryExpression");X.operator=K;X.left=z;X.right=L;return X}function Aa(K){const z=new M("Identifier");z.name=K;return z}function Ha(K){const z=new M("Literal");z.value=K.value;z.raw=va.slice(K.start,K.end);K.regex&&("//"===z.raw&&(z.raw="/(?:)/"),
z.regex=K.regex);return z}function bb(K,z,L){const X=new M("MemberExpression");X.computed="["===K;X.object=z;X.property=L;X.computed||(L.member=!0);return X}function $a(K,z,L){const X=new M("Property");X.key=z;X.value=L;X.kind=K;return X}function Ca(K,z){var L=Array.prototype.slice.call(arguments,2),X=z.replace(/%(\d)/g,(T,la)=>{zb(la<L.length,"Message reference must be in range");return L[la]});var qa=Error(X);qa.index=m;qa.description=X;throw qa;}function Cb(K){2===K.type&&Ca(K,"Unexpected end of input");
6===K.type&&Ca(K,"Unexpected number");8===K.type&&Ca(K,"Unexpected string");3===K.type&&Ca(K,"Unexpected identifier");4===K.type&&Ca(K,"Unexpected reserved word");Ca(K,"Unexpected token %0",K.value)}function xb(K){const z=Xa();7===z.type&&z.value===K||Cb(z)}function Mb(K){return 7===Q.type&&Q.value===K}function kc(){m=Q.start;const K=Xa();return 8===K.type||6===K.type?(K.octal&&Ca(K,"Octal literals are not allowed in strict mode."),Ha(K)):Aa(K.value)}function pb(){if(Mb("(")){xb("(");var K=Oa();xb(")");
return K}if(Mb("[")){K=[];m=Q.start;for(xb("[");!Mb("]");)Mb(",")?(Xa(),K.push(null)):(K.push(ra()),Mb("]")||xb(","));Xa();var z=new M("ArrayExpression");z.elements=K;return z}if(Mb("{")){K=[];z={};var L=String;m=Q.start;for(xb("{");!Mb("}");){m=Q.start;var X=Q;if(3===X.type){var qa=kc();xb(":");X=ra();X=$a("init",qa,X)}else 2===X.type||7===X.type?(Cb(X),X=void 0):(qa=kc(),xb(":"),X=ra(),X=$a("init",qa,X));qa="Identifier"===X.key.type?X.key.name:L(X.key.value);qa="$"+qa;Object.prototype.hasOwnProperty.call(z,
qa)?Ca({},"Duplicate data property in object literal not allowed in strict mode"):z[qa]=!0;K.push(X);Mb("}")||xb(",")}xb("}");z=new M("ObjectExpression");z.properties=K;return z}K=Q.type;m=Q.start;if(3===K||V[Q.value])z=Aa(Xa().value);else if(8===K||6===K)Q.octal&&Ca(Q,"Octal literals are not allowed in strict mode."),z=Ha(Xa());else{if(4===K)throw Error("Disabled.");if(1===K)K=Xa(),K.value="true"===K.value,z=Ha(K);else if(5===K)K=Xa(),K.value=null,z=Ha(K);else if(Mb("/")||Mb("/\x3d")){var T;Q=null;
fc();K=m;z=va[m];zb("/"===z,"Regular expression literal must start with a slash");L=va[m++];for(qa=X=!1;m<G;)if(z=va[m++],L+=z,"\\"===z)z=va[m++],Tb(z.charCodeAt(0))&&Ca({},"Invalid regular expression: missing /"),L+=z;else if(Tb(z.charCodeAt(0)))Ca({},"Invalid regular expression: missing /");else if(X)"]"===z&&(X=!1);else if("/"===z){qa=!0;break}else"["===z&&(X=!0);qa||Ca({},"Invalid regular expression: missing /");z=L.substr(1,L.length-2);for(T=qa="";m<G;){X=va[m];if(!Db(X.charCodeAt(0)))break;
++m;"\\"===X&&m<G?Ca({},"Unexpected token %0","ILLEGAL"):(T+=X,qa+=X)}0<=T.search(/[^gimuy]/g)&&Ca({},"Invalid regular expression",T);X=T;T=Pa(z,X);z=Ha({literal:L+qa,value:T,regex:{pattern:z,flags:X},start:K,end:m});Fa()}else Cb(Xa())}return z}function ca(){var K;for(K=pb();;)if(Mb(".")){xb(".");m=Q.start;var z=Xa();3===z.type||4===z.type||1===z.type||5===z.type||Cb(z);z=Aa(z.value);K=bb(".",K,z)}else if(Mb("(")){z=[];xb("(");if(!Mb(")"))for(;m<G;){z.push(ra());if(Mb(")"))break;xb(",")}xb(")");const L=
new M("CallExpression");L.callee=K;L.arguments=z;K=L}else if(Mb("["))xb("["),z=Oa(),xb("]"),K=bb("[",K,z);else break;if(7===Q.type&&(Mb("++")||Mb("--")))throw Error("Disabled.");return K}function O(){if(7!==Q.type&&4!==Q.type)var K=ca();else{if(Mb("++")||Mb("--"))throw Error("Disabled.");if(Mb("+")||Mb("-")||Mb("~")||Mb("!")){var z=Xa();K=O();z=z.value;const L=new M("UnaryExpression");L.operator=z;L.argument=K;L.prefix=!0;K=L}else{if(4===Q.type&&"delete"===Q.value||4===Q.type&&"void"===Q.value||4===
Q.type&&"typeof"===Q.value)throw Error("Disabled.");K=ca()}}return K}function oa(K){let z=0;if(7!==K.type&&4!==K.type)return 0;switch(K.value){case "||":z=1;break;case "\x26\x26":z=2;break;case "|":z=3;break;case "^":z=4;break;case "\x26":z=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":z=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":z=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":z=8;break;case "+":case "-":z=
9;break;case "*":case "/":case "%":z=11}return z}function ra(){var K=Q;var z=O();var L=Q;var X=oa(L);if(0===X)var qa=z;else{L.prec=X;Xa();K=[K,Q];var T=O();for(qa=[z,L,T];0<(X=oa(Q));){for(;2<qa.length&&X<=qa[qa.length-2].prec;)T=qa.pop(),L=qa.pop().value,z=qa.pop(),K.pop(),z=pa(L,z,T),qa.push(z);L=Xa();L.prec=X;qa.push(L);K.push(Q);z=O();qa.push(z)}X=qa.length-1;z=qa[X];for(K.pop();1<X;)K.pop(),z=pa(qa[X-1].value,qa[X-2],z),X-=2;qa=z}Mb("?")&&(Xa(),K=ra(),xb(":"),X=ra(),z=new M("ConditionalExpression"),
z.test=qa,z.consequent=K,z.alternate=X,qa=z);return qa}function Oa(){const K=ra();if(Mb(","))throw Error("Disabled.");return K}function ya(K){function z(L,X,qa){return T=>{let la=K(T[0]);X&&(la=X+"("+la+")",0===X.lastIndexOf("new ",0)&&(la="("+la+")"));return la+"."+L+(0>qa?"":0===qa?"()":"("+T.slice(1).map(K).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(L){3>L.length&&l.error("Missing arguments to clamp function.");3<L.length&&l.error("Too many arguments to clamp function.");L=L.map(K);return"Math.max("+L[1]+", Math.min("+L[2]+","+L[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:z("getDate","new Date",0),day:z("getDay","new Date",0),year:z("getFullYear",
"new Date",0),month:z("getMonth","new Date",0),hours:z("getHours","new Date",0),minutes:z("getMinutes","new Date",0),seconds:z("getSeconds","new Date",0),milliseconds:z("getMilliseconds","new Date",0),time:z("getTime","new Date",0),timezoneoffset:z("getTimezoneOffset","new Date",0),utcdate:z("getUTCDate","new Date",0),utcday:z("getUTCDay","new Date",0),utcyear:z("getUTCFullYear","new Date",0),utcmonth:z("getUTCMonth","new Date",0),utchours:z("getUTCHours","new Date",0),utcminutes:z("getUTCMinutes",
"new Date",0),utcseconds:z("getUTCSeconds","new Date",0),utcmilliseconds:z("getUTCMilliseconds","new Date",0),length:z("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:z("toUpperCase","String",0),lower:z("toLowerCase","String",0),substring:z("substring","String"),split:z("split","String"),trim:z("trim","String",0),regexp:"RegExp",test:z("test","RegExp"),if:function(L){3>L.length&&l.error("Missing arguments to if function.");3<L.length&&l.error("Too many arguments to if function.");
L=L.map(K);return"("+L[0]+"?"+L[1]+":"+L[2]+")"}}}M.prototype.visit=function(K){let z,L,X;if(K(this))return 1;z=cb(this);L=0;for(X=z.length;L<X;++L)if(z[L].visit(K))return 1};var va,m,G,Q,y=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
t=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const H={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},V={"if":1};var E={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};x.ASTNode=M;x.ArrayExpression="ArrayExpression";x.BinaryExpression="BinaryExpression";x.CallExpression="CallExpression";x.ConditionalExpression="ConditionalExpression";x.Identifier="Identifier";x.Literal="Literal";x.LogicalExpression="LogicalExpression";x.MemberExpression="MemberExpression";x.ObjectExpression="ObjectExpression";x.Property="Property";
x.RawCode="RawCode";x.UnaryExpression="UnaryExpression";x.codegenExpression=function(K){function z(Ra){if(l.isString(Ra))return Ra;const Ob=mb[Ra.type];null==Ob&&l.error("Unsupported type: "+Ra.type);return Ob(Ra)}function L(Ra){Ra={code:z(Ra),globals:Object.keys(Ka),fields:Object.keys(kb)};Ka={};kb={};return Ra}K=K||{};const X=K.allowed?l.toSet(K.allowed):{},qa=K.forbidden?l.toSet(K.forbidden):{},T=K.constants||E,la=(K.functions||ya)(z),xa=K.globalvar,R=K.fieldvar,ka=l.isFunction(xa)?xa:Ra=>`${xa}["${Ra}"]`;
let Ka={},kb={},Za=0;const mb={Literal:Ra=>Ra.raw,Identifier:Ra=>{Ra=Ra.name;if(0<Za)return Ra;if(l.hasOwnProperty(qa,Ra))return l.error("Illegal identifier: "+Ra);if(l.hasOwnProperty(T,Ra))return T[Ra];if(l.hasOwnProperty(X,Ra))return Ra;Ka[Ra]=1;return ka(Ra)},MemberExpression:Ra=>{const Ob=!Ra.computed,mc=z(Ra.object);Ob&&(Za+=1);Ra=z(Ra.property);if(mc===R){var Lc=kb;var wc=(wc=Ra&&Ra.length-1)&&('"'===Ra[0]&&'"'===Ra[wc]||"'"===Ra[0]&&"'"===Ra[wc])?Ra.slice(1,-1):Ra;Lc[wc]=1}Ob&&--Za;return mc+
(Ob?"."+Ra:"["+Ra+"]")},CallExpression:Ra=>{"Identifier"!==Ra.callee.type&&l.error("Illegal callee type: "+Ra.callee.type);const Ob=Ra.callee.name;Ra=Ra.arguments;const mc=l.hasOwnProperty(la,Ob)&&la[Ob];mc||l.error("Unrecognized function: "+Ob);return l.isFunction(mc)?mc(Ra):mc+"("+Ra.map(z).join(",")+")"},ArrayExpression:Ra=>"["+Ra.elements.map(z).join(",")+"]",BinaryExpression:Ra=>"("+z(Ra.left)+" "+Ra.operator+" "+z(Ra.right)+")",UnaryExpression:Ra=>"("+Ra.operator+z(Ra.argument)+")",ConditionalExpression:Ra=>
"("+z(Ra.test)+"?"+z(Ra.consequent)+":"+z(Ra.alternate)+")",LogicalExpression:Ra=>"("+z(Ra.left)+Ra.operator+z(Ra.right)+")",ObjectExpression:Ra=>"{"+Ra.properties.map(z).join(",")+"}",Property:Ra=>{Za+=1;const Ob=z(Ra.key);--Za;return Ob+":"+z(Ra.value)}};L.functions=la;L.constants=T;return L};x.constants=E;x.functions=ya;x.parseExpression=function(K){va=K;m=0;G=va.length;Q=null;Fa();K=Oa();if(2!==Q.type)throw Error("Unexpect token after expression.");return K};Object.defineProperty(x,"__esModule",
{value:!0})})};
shadow$provide[46]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(20),vb(45)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega))})(this,function(x,l,M){function cb(Pa,Va){return null==Pa||null==Va?NaN:Pa<Va?-1:Pa>Va?1:Pa>=Va?0:NaN}function zb({_intern:Pa,_key:Va},Xa){Va=Va(Xa);return Pa.has(Va)?Pa.get(Va):Xa}function Zb({_intern:Pa,_key:Va},
Xa){Va=Va(Xa);if(Pa.has(Va))return Pa.get(Va);Pa.set(Va,Xa);return Xa}function gc({_intern:Pa,_key:Va},Xa){Va=Va(Xa);Pa.has(Va)&&(Xa=Pa.get(Va),Pa.delete(Va));return Xa}function nc(Pa){return null!==Pa&&"object"===typeof Pa?Pa.valueOf():Pa}function Tb(Pa){return Pa instanceof Db?Pa:new Db(Pa)}function Gb(Pa,Va){var Xa=Va.fields;Va=Va.values;for(var Fa=Xa.length,pa=0,Aa,Ha;pa<Fa;++pa)if(Ha=Xa[pa],Ha.getter=l.field.getter||l.field(Ha.field),Aa=Ha.getter(Pa),l.isDate(Aa)&&(Aa=l.toNumber(Aa)),l.isDate(Va[pa])&&
(Va[pa]=l.toNumber(Va[pa])),l.isDate(Va[pa][0])&&(Va[pa]=Va[pa].map(l.toNumber)),"E"===Ha.type){if(l.isArray(Va[pa])?0>Va[pa].indexOf(Aa):Aa!==Va[pa])return!1}else if("R"===Ha.type){if(!l.inrange(Aa,Va[pa]))return!1}else if("R-RE"===Ha.type){if(!l.inrange(Aa,Va[pa],!0,!1))return!1}else if("R-E"===Ha.type){if(!l.inrange(Aa,Va[pa],!1,!1))return!1}else if("R-LE"===Ha.type&&!l.inrange(Aa,Va[pa],!1,!0))return!1;return!0}class Db extends Set{constructor(Pa,Va=nc){super();Object.defineProperties(this,{_intern:{value:new Map},
_key:{value:Va}});if(null!=Pa)for(const Xa of Pa)this.add(Xa)}has(Pa){return super.has(zb(this,Pa))}add(Pa){return super.add(Zb(this,Pa))}delete(Pa){return super.delete(gc(this,Pa))}}const fc=l.field("_vgsid_"),Ba=function(Pa){function Va(Aa,Ha,bb=0,$a=Aa.length){if(bb<$a){if(0!==Fa(Ha,Ha))return $a;do{const Ca=bb+$a>>>1;0>pa(Aa[Ca],Ha)?bb=Ca+1:$a=Ca}while(bb<$a)}return bb}let Xa=Pa,Fa=Pa,pa=Pa;2!==Pa.length&&(Xa=(Aa,Ha)=>Pa(Aa)-Ha,Fa=cb,pa=(Aa,Ha)=>cb(Pa(Aa),Ha));return{left:Va,center:function(Aa,
Ha,bb=0,$a=Aa.length){$a=Va(Aa,Ha,bb,$a-1);return $a>bb&&Xa(Aa[$a-1],Ha)>-Xa(Aa[$a],Ha)?$a-1:$a},right:function(Aa,Ha,bb=0,$a=Aa.length){if(bb<$a){if(0!==Fa(Ha,Ha))return $a;do{const Ca=bb+$a>>>1;0>=pa(Aa[Ca],Ha)?bb=Ca+1:$a=Ca}while(bb<$a)}return bb}}}(fc),jb=Ba.left,yb=Ba.right;var Ab={_vgsid__union:function(...Pa){const Va=new Db;for(const Xa of Pa)for(const Fa of Xa)Va.add(Fa);return Va},_vgsid__intersect:function(Pa,...Va){Pa=new Db(Pa);Va=Va.map(Tb);a:for(const Xa of Pa)for(const Fa of Va)if(!Fa.has(Xa)){Pa.delete(Xa);
continue a}return Pa},E_union:function(Pa,Va){if(!Pa.length)return Va;for(var Xa=0,Fa=Va.length;Xa<Fa;++Xa)0>Pa.indexOf(Va[Xa])&&Pa.push(Va[Xa]);return Pa},E_intersect:function(Pa,Va){return Pa.length?Pa.filter(Xa=>0<=Va.indexOf(Xa)):Va},R_union:function(Pa,Va){var Xa=l.toNumber(Va[0]),Fa=l.toNumber(Va[1]);Xa>Fa&&(Xa=Va[1],Fa=Va[0]);if(!Pa.length)return[Xa,Fa];Pa[0]>Xa&&(Pa[0]=Xa);Pa[1]<Fa&&(Pa[1]=Fa);return Pa},R_intersect:function(Pa,Va){var Xa=l.toNumber(Va[0]),Fa=l.toNumber(Va[1]);Xa>Fa&&(Xa=
Va[1],Fa=Va[0]);if(!Pa.length)return[Xa,Fa];if(Fa<Pa[0]||Pa[1]<Xa)return[];Pa[0]<Xa&&(Pa[0]=Xa);Pa[1]>Fa&&(Pa[1]=Fa);return Pa}};x.selectionIdTest=function(Pa,Va,Xa){var Fa=this.context.data[Pa];Pa=Fa?Fa.values.value:[];Fa=Fa?Fa["index:unit"]&&Fa["index:unit"].value:void 0;Xa="intersect"===Xa;Va=fc(Va);const pa=jb(Pa,Va);if(pa===Pa.length||fc(Pa[pa])!==Va)return!1;if(Fa&&Xa){if(1===Fa.size)return!0;if(yb(Pa,Va)-pa<Fa.size)return!1}return!0};x.selectionResolve=function(Pa,Va,Xa,Fa){Pa=(Pa=this.context.data[Pa])?
Pa.values.value:[];for(var pa={},Aa={},Ha={},bb,$a,Ca,Cb,xb,Mb,kc=Pa.length,pb=0,ca,O;pb<kc;++pb)if(bb=Pa[pb],Cb=bb.unit,$a=bb.fields,Ca=bb.values,$a&&Ca){ca=0;for(O=$a.length;ca<O;++ca)xb=$a[ca],bb=pa[xb.field]||(pa[xb.field]={}),Mb=bb[Cb]||(bb[Cb]=[]),Ha[xb.field]=xb=xb.type.charAt(0),xb=Ab[`${xb}_union`],bb[Cb]=xb(Mb,l.array(Ca[ca]));Xa&&(Mb=Aa[Cb]||(Aa[Cb]=[]),Mb.push(l.array(Ca).reduce((oa,ra,Oa)=>(oa[$a[Oa].field]=ra,oa),{})))}else xb="_vgsid_",Ca=fc(bb),bb=pa[xb]||(pa[xb]={}),Mb=bb[Cb]||(bb[Cb]=
[]),Mb.push(Ca),Xa&&(Mb=Aa[Cb]||(Aa[Cb]=[]),Mb.push({_vgsid_:Ca}));Va=Va||"union";pa._vgsid_?pa._vgsid_=Ab[`${"_vgsid_"}_${Va}`](...Object.values(pa._vgsid_)):Object.keys(pa).forEach(oa=>{pa[oa]=Object.keys(pa[oa]).map(ra=>pa[oa][ra]).reduce((ra,Oa)=>void 0===ra?Oa:Ab[`${Ha[oa]}_${Va}`](ra,Oa))});Pa=Object.keys(Aa);Xa&&Pa.length&&(pa[Fa?"vlPoint":"vlMulti"]="union"===Va?{or:Pa.reduce((oa,ra)=>(oa.push(...Aa[ra]),oa),[])}:{and:Pa.map(oa=>({or:Aa[oa]}))});return pa};x.selectionTest=function(Pa,Va,Xa){var Fa=
this.context.data[Pa];Pa=Fa?Fa.values.value:[];Fa=Fa?Fa["index:unit"]&&Fa["index:unit"].value:void 0;Xa="intersect"===Xa;for(var pa=Pa.length,Aa=0,Ha,bb,$a,Ca;Aa<pa;++Aa)if(Ha=Pa[Aa],Fa&&Xa){if(bb=bb||{},$a=bb[Ca=Ha.unit]||0,-1!==$a){Ha=Gb(Va,Ha);bb[Ca]=Ha?-1:++$a;if(Ha&&1===Fa.size)return!0;if(!Ha&&$a===Fa.get(Ca).count)return!1}}else if(Ha=Gb(Va,Ha),Xa^Ha)return Ha;return pa&&Xa};x.selectionTuples=function(Pa,Va){return Pa.map(Xa=>l.extend(Va.fields?{values:Va.fields.map(Fa=>(Fa.getter||(Fa.getter=
l.field(Fa.field)))(Xa.datum))}:{_vgsid_:fc(Xa.datum)},Va))};x.selectionVisitor=function(Pa,Va,Xa,Fa){Va[0].type!==M.Literal&&l.error("First argument to selection functions must be a string literal.");Pa=Va[0].value;Va=2<=Va.length&&l.peek(Va).value;const pa=":"+Pa;"intersect"!==Va||l.hasOwnProperty(Fa,"@unit")||(Fa["@unit"]=Xa.getData(Pa).indataRef(Xa,"unit"));l.hasOwnProperty(Fa,pa)||(Fa[pa]=Xa.getData(Pa).tuplesRef())};Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[47]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(20),vb(45),vb(28),vb(32),vb(33),vb(46),vb(29),vb(22)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time".split(" "),l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega,x.vega,x.vega,x.vega,x.vega,x.vega,x.vega))})(this,function(x,l,M,cb,zb,Zb,gc,
nc,Tb){function Gb(U){return(U=this.context.data[U])?U.values.value:[]}function Db(U,Ia,rb){return(rb=(U=this.context.data[U]["index:"+Ia])?U.value.get(rb):void 0)?rb.count:rb}function fc(U,Ia){const rb=this.context.dataflow;rb.pulse(this.context.data[U].input,rb.changeset().remove(l.truthy).insert(Ia));return 1}function Ba(U,Ia,rb){if(U){const Cc=this.context.dataflow;Cc.pulse(U.mark.source,Cc.changeset().encode(U,Ia))}return void 0!==rb?rb:U}function jb(U,Ia,rb){if(!Number.isInteger(U)||!Number.isInteger(Ia))return"";
Ga.setYear(2E3);Ga.setMonth(U);Ga.setDate(Ia);return Kb.call(this,Ga,rb)}function yb(U){return jb.call(this,U,1,"%B")}function Ab(U){return jb.call(this,U,1,"%b")}function Pa(U){return jb.call(this,0,2+U,"%A")}function Va(U){return jb.call(this,0,2+U,"%a")}function Xa(U,Ia,rb,Cc){Ia[0].type!==M.Literal&&l.error("First argument to data functions must be a string literal.");U=Ia[0].value;Ia=":"+U;if(!l.hasOwnProperty(Ia,Cc))try{Cc[Ia]=rb.getData(U).tuplesRef()}catch(Gc){}}function Fa(U,Ia,rb,Cc){Ia[0].type!==
M.Literal&&l.error("First argument to indata must be a string literal.");Ia[1].type!==M.Literal&&l.error("Second argument to indata must be a string literal.");U=Ia[0].value;Ia=Ia[1].value;const Gc="@"+Ia;l.hasOwnProperty(Gc,Cc)||(Cc[Gc]=rb.getData(U).indataRef(rb,Ia))}function pa(U,Ia,rb,Cc){if(Ia[0].type===M.Literal)Aa(rb,Cc,Ia[0].value);else for(U in rb.scales)Aa(rb,Cc,U)}function Aa(U,Ia,rb){const Cc="%"+rb;if(!l.hasOwnProperty(Ia,Cc))try{Ia[Cc]=U.scaleRef(rb)}catch(Gc){}}function Ha(U,Ia){let rb;
return l.isFunction(U)?U:l.isString(U)?(rb=Ia.scales[U])&&rb.value:void 0}function bb(U,Ia,rb){Ia.__bandwidth=Gc=>Gc&&Gc.bandwidth?Gc.bandwidth():0;rb._bandwidth=pa;rb._range=pa;rb._scale=pa;const Cc=Gc=>"_["+(Gc.type===M.Literal?l.stringValue("%"+Gc.value):l.stringValue("%")+"+"+U(Gc))+"]";return{_bandwidth:Gc=>`this.__bandwidth(${Cc(Gc[0])})`,_range:Gc=>`${Cc(Gc[0])}.range()`,_scale:Gc=>`${Cc(Gc[0])}(${U(Gc[1])})`}}function $a(U){return 1<U?Uc:-1>U?-Uc:Math.asin(U)}function Ca(){}function Cb(U,
Ia){if(U&&qd.hasOwnProperty(U.type))qd[U.type](U,Ia)}function xb(U,Ia,rb){var Cc=-1;rb=U.length-rb;for(Ia.lineStart();++Cc<rb;){var Gc=U[Cc];Ia.point(Gc[0],Gc[1],Gc[2])}Ia.lineEnd()}function Mb(U,Ia){var rb=-1,Cc=U.length;for(Ia.polygonStart();++rb<Cc;)xb(U[rb],Ia,1);Ia.polygonEnd()}function kc(U,Ia){if(U&&cd.hasOwnProperty(U.type))cd[U.type](U,Ia);else Cb(U,Ia)}function pb(){jf.point=O}function ca(){oa(Fd,be)}function O(U,Ia){jf.point=oa;Fd=U;be=Ia;U*=Nd;Ia*=Nd;Ee=U;Re=fe(Ia=Ia/2+Vc);ff=Pc(Ia)}function oa(U,
Ia){U*=Nd;Ia*=Nd;Ia=Ia/2+Vc;var rb=U-Ee,Cc=0<=rb?1:-1,Gc=Cc*rb;rb=fe(Ia);Ia=Pc(Ia);var ud=ff*Ia,xe=Re*rb+ud*fe(Gc);Cc=ud*Cc*Pc(Gc);fd.add(Rd(Cc,xe));Ee=U;Re=rb;ff=Ia}function ra(U,Ia){return[U[1]*Ia[2]-U[2]*Ia[1],U[2]*Ia[0]-U[0]*Ia[2],U[0]*Ia[1]-U[1]*Ia[0]]}function Oa(U,Ia){J.push(da=[gd=U,jd=U]);Ia<Rc&&(Rc=Ia);Ia>Wc&&(Wc=Ia)}function ya(U,Ia){var rb=[U*Nd,Ia*Nd];var Cc=rb[0];rb=rb[1];var Gc=fe(rb);Cc=[Gc*fe(Cc),Gc*Pc(Cc),Pc(rb)];if(ub){rb=ra(ub,Cc);Gc=rb=ra([rb[1],-rb[0],0],rb);var ud=Gd(Gc[0]*
Gc[0]+Gc[1]*Gc[1]+Gc[2]*Gc[2]);Gc[0]/=ud;Gc[1]/=ud;Gc[2]/=ud;rb=[Rd(rb[1],rb[0]),$a(rb[2])];var xe=U-na;Gc=0<xe?1:-1;ud=rb[0]*ad*Gc;xe=180<De(xe);xe^(Gc*na<ud&&ud<Gc*U)?(rb=rb[1]*ad,rb>Wc&&(Wc=rb)):(ud=(ud+360)%360-180,xe^(Gc*na<ud&&ud<Gc*U))?(rb=-rb[1]*ad,rb<Rc&&(Rc=rb)):(Ia<Rc&&(Rc=Ia),Ia>Wc&&(Wc=Ia));xe?U<na?t(gd,U)>t(gd,jd)&&(jd=U):t(U,jd)>t(gd,jd)&&(gd=U):jd>=gd?(U<gd&&(gd=U),U>jd&&(jd=U)):U>na?t(gd,U)>t(gd,jd)&&(jd=U):t(U,jd)>t(gd,jd)&&(gd=U)}else J.push(da=[gd=U,jd=U]);Ia<Rc&&(Rc=Ia);Ia>Wc&&
(Wc=Ia);ub=Cc;na=U}function va(){Ja.point=ya}function m(){da[0]=gd;da[1]=jd;Ja.point=Oa;ub=null}function G(U,Ia){if(ub){var rb=U-na;n.add(180<De(rb)?rb+(0<rb?360:-360):rb)}else La=U,Ya=Ia;jf.point(U,Ia);ya(U,Ia)}function Q(){jf.lineStart()}function y(){G(La,Ya);jf.lineEnd();1E-6<De(n)&&(gd=-(jd=180));da[0]=gd;da[1]=jd;ub=null}function t(U,Ia){return 0>(Ia-=U)?Ia+360:Ia}function H(U,Ia){return U[0]-Ia[0]}function V(U,Ia){return U[0]<=U[1]?U[0]<=Ia&&Ia<=U[1]:Ia<U[0]||U[1]<Ia}function E(U,Ia){U*=Nd;
Ia*=Nd;var rb=fe(Ia);K(rb*fe(U),rb*Pc(U),Pc(Ia))}function K(U,Ia,rb){++Sa;Pb+=(U-Pb)/Sa;bc+=(Ia-bc)/Sa;Ub+=(rb-Ub)/Sa}function z(){oe.point=L}function L(U,Ia){U*=Nd;Ia*=Nd;var rb=fe(Ia);dd=rb*fe(U);Pd=rb*Pc(U);Xd=Pc(Ia);oe.point=X;K(dd,Pd,Xd)}function X(U,Ia){U*=Nd;Ia*=Nd;var rb=fe(Ia),Cc=rb*fe(U);U=rb*Pc(U);Ia=Pc(Ia);var Gc=Rd(Gd((Gc=Pd*Ia-Xd*U)*Gc+(Gc=Xd*Cc-dd*Ia)*Gc+(Gc=dd*U-Pd*Cc)*Gc),dd*Cc+Pd*U+Xd*Ia);Ua+=Gc;yc+=Gc*(dd+(dd=Cc));Rb+=Gc*(Pd+(Pd=U));Kc+=Gc*(Xd+(Xd=Ia));K(dd,Pd,Xd)}function qa(){oe.point=
E}function T(){oe.point=xa}function la(){R(hd,Mc);oe.point=E}function xa(U,Ia){hd=U;Mc=Ia;U*=Nd;Ia*=Nd;oe.point=R;var rb=fe(Ia);dd=rb*fe(U);Pd=rb*Pc(U);Xd=Pc(Ia);K(dd,Pd,Xd)}function R(U,Ia){U*=Nd;Ia*=Nd;var rb=fe(Ia),Cc=rb*fe(U);U=rb*Pc(U);Ia=Pc(Ia);rb=Pd*Ia-Xd*U;var Gc=Xd*Cc-dd*Ia,ud=dd*U-Pd*Cc,xe=Ae(rb,Gc,ud),Ge=$a(xe);xe=xe&&-Ge/xe;Od.add(xe*rb);od.add(xe*Gc);Md.add(xe*ud);Ua+=Ge;yc+=Ge*(dd+(dd=Cc));Rb+=Ge*(Pd+(Pd=U));Kc+=Ge*(Xd+(Xd=Ia));K(dd,Pd,Xd)}function ka(U,Ia){return function(rb,Cc,Gc){return rb?
(rb=Ha(rb,(Gc||this).context))&&rb.path[U](Cc):Ia(Cc)}}function Ka(U){const Ia=this.context.group;let rb=!1;if(Ia)for(;U;){if(U===Ia){rb=!0;break}U=U.mark.group}return rb}function kb(U,Ia,rb){try{U[Ia].apply(U,["EXPRESSION"].concat([].slice.call(rb)))}catch(Cc){U.warn(Cc)}return rb[rb.length-1]}function Za(){return kb(this.context.dataflow,"warn",arguments)}function mb(){return kb(this.context.dataflow,"info",arguments)}function Ra(){return kb(this.context.dataflow,"debug",arguments)}function Ob(U,
Ia,rb){U.prototype=Ia.prototype=rb;rb.constructor=U}function mc(U,Ia){U=Object.create(U.prototype);for(var rb in Ia)U[rb]=Ia[rb];return U}function Lc(){}function wc(){return this.rgb().formatHex()}function tc(){return this.rgb().formatRgb()}function jc(U){var Ia,rb;U=(U+"").trim().toLowerCase();return(Ia=df.exec(U))?(rb=Ia[1].length,Ia=parseInt(Ia[1],16),6===rb?Sc(Ia):3===rb?new lb(Ia>>8&15|Ia>>4&240,Ia>>4&15|Ia&240,(Ia&15)<<4|Ia&15,1):8===rb?Ta(Ia>>24&255,Ia>>16&255,Ia>>8&255,(Ia&255)/255):4===rb?
Ta(Ia>>12&15|Ia>>8&240,Ia>>8&15|Ia>>4&240,Ia>>4&15|Ia&240,((Ia&15)<<4|Ia&15)/255):null):(Ia=Hf.exec(U))?new lb(Ia[1],Ia[2],Ia[3],1):(Ia=wd.exec(U))?new lb(255*Ia[1]/100,255*Ia[2]/100,255*Ia[3]/100,1):(Ia=te.exec(U))?Ta(Ia[1],Ia[2],Ia[3],Ia[4]):(Ia=Qe.exec(U))?Ta(255*Ia[1]/100,255*Ia[2]/100,255*Ia[3]/100,Ia[4]):(Ia=He.exec(U))?ic(Ia[1],Ia[2]/100,Ia[3]/100,1):(Ia=lf.exec(U))?ic(Ia[1],Ia[2]/100,Ia[3]/100,Ia[4]):Pf.hasOwnProperty(U)?Sc(Pf[U]):"transparent"===U?new lb(NaN,NaN,NaN,0):null}function Sc(U){return new lb(U>>
16&255,U>>8&255,U&255,1)}function Ta(U,Ia,rb,Cc){0>=Cc&&(U=Ia=rb=NaN);return new lb(U,Ia,rb,Cc)}function Ea(U){U instanceof Lc||(U=jc(U));if(!U)return new lb;U=U.rgb();return new lb(U.r,U.g,U.b,U.opacity)}function ob(U,Ia,rb,Cc){return 1===arguments.length?Ea(U):new lb(U,Ia,rb,null==Cc?1:Cc)}function lb(U,Ia,rb,Cc){this.r=+U;this.g=+Ia;this.b=+rb;this.opacity=+Cc}function Fb(){return"#"+Xb(this.r)+Xb(this.g)+Xb(this.b)}function Wb(){var U=this.opacity;U=isNaN(U)?1:Math.max(0,Math.min(1,U));return(1===
U?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===U?")":", "+U+")")}function Xb(U){U=Math.max(0,Math.min(255,Math.round(U)||0));return(16>U?"0":"")+U.toString(16)}function ic(U,Ia,rb,Cc){0>=Cc?U=Ia=rb=NaN:0>=rb||1<=rb?U=Ia=NaN:0>=Ia&&(U=NaN);return new B(U,Ia,rb,Cc)}function xc(U){if(U instanceof B)return new B(U.h,U.s,U.l,U.opacity);U instanceof Lc||(U=jc(U));if(!U)return new B;
if(U instanceof B)return U;U=U.rgb();var Ia=U.r/255,rb=U.g/255,Cc=U.b/255,Gc=Math.min(Ia,rb,Cc),ud=Math.max(Ia,rb,Cc),xe=NaN,Ge=ud-Gc,cg=(ud+Gc)/2;Ge?(xe=Ia===ud?(rb-Cc)/Ge+6*(rb<Cc):rb===ud?(Cc-Ia)/Ge+2:(Ia-rb)/Ge+4,Ge/=.5>cg?ud+Gc:2-ud-Gc,xe*=60):Ge=0<cg&&1>cg?0:xe;return new B(xe,Ge,cg,U.opacity)}function kd(U,Ia,rb,Cc){return 1===arguments.length?xc(U):new B(U,Ia,rb,null==Cc?1:Cc)}function B(U,Ia,rb,Cc){this.h=+U;this.s=+Ia;this.l=+rb;this.opacity=+Cc}function w(U,Ia,rb){return 255*(60>U?Ia+(rb-
Ia)*U/60:180>U?rb:240>U?Ia+(rb-Ia)*(240-U)/60:Ia)}function C(U){if(U instanceof fa)return new fa(U.l,U.a,U.b,U.opacity);if(U instanceof qc)return Dc(U);U instanceof lb||(U=Ea(U));var Ia=ib(U.r),rb=ib(U.g),Cc=ib(U.b),Gc=za(.2225045*Ia+.7168786*rb+.0606169*Cc);if(Ia===rb&&rb===Cc)var ud=Ia=Gc;else ud=za((.4360747*Ia+.3850649*rb+.1430804*Cc)/.96422),Ia=za((.0139322*Ia+.0971045*rb+.7141733*Cc)/.82521);return new fa(116*Gc-16,500*(ud-Gc),200*(Gc-Ia),U.opacity)}function aa(U,Ia,rb,Cc){return 1===arguments.length?
C(U):new fa(U,Ia,rb,null==Cc?1:Cc)}function fa(U,Ia,rb,Cc){this.l=+U;this.a=+Ia;this.b=+rb;this.opacity=+Cc}function za(U){return U>jg?Math.pow(U,1/3):U/rf+Xe}function eb(U){return U>Ce?U*U*U:rf*(U-Xe)}function fb(U){return 255*(.0031308>=U?12.92*U:1.055*Math.pow(U,1/2.4)-.055)}function ib(U){return.04045>=(U/=255)?U/12.92:Math.pow((U+.055)/1.055,2.4)}function Vb(U){if(U instanceof qc)return new qc(U.h,U.c,U.l,U.opacity);U instanceof fa||(U=C(U));if(0===U.a&&0===U.b)return new qc(NaN,0<U.l&&100>U.l?
0:NaN,U.l,U.opacity);var Ia=Math.atan2(U.b,U.a)*Wf;return new qc(0>Ia?Ia+360:Ia,Math.sqrt(U.a*U.a+U.b*U.b),U.l,U.opacity)}function oc(U,Ia,rb,Cc){return 1===arguments.length?Vb(U):new qc(U,Ia,rb,null==Cc?1:Cc)}function qc(U,Ia,rb,Cc){this.h=+U;this.c=+Ia;this.l=+rb;this.opacity=+Cc}function Dc(U){if(isNaN(U.h))return new fa(U.l,0,0,U.opacity);var Ia=U.h*If;return new fa(U.l,Math.cos(Ia)*U.c,Math.sin(Ia)*U.c,U.opacity)}function Fc(U){U/=255;return.03928>=U?U/12.92:Math.pow((U+.055)/1.055,2.4)}function Zc(U){var Ia=
ob(U);U=Fc(Ia.r);const rb=Fc(Ia.g);Ia=Fc(Ia.b);return.2126*U+.7152*rb+.0722*Ia}function xd(U,Ia){U=Zc(U);Ia=Zc(Ia);return(Math.max(U,Ia)+.05)/(Math.min(U,Ia)+.05)}function Hd(){const U=[].slice.call(arguments);U.unshift({});return l.extend(...U)}function Ad(U,Ia){if(U===Ia||U!==U&&Ia!==Ia)U=!0;else if(l.isArray(U))if(l.isArray(Ia)&&U.length===Ia.length)a:{for(let rb=0,Cc=U.length;rb<Cc;++rb)if(!Ad(U[rb],Ia[rb])){U=!1;break a}U=!0}else U=!1;else U=l.isObject(U)&&l.isObject(Ia)?Dd(U,Ia):!1;return U}
function Dd(U,Ia){for(const rb in U)if(!Ad(U[rb],Ia[rb]))return!1;return!0}function ed(U){return Ia=>Dd(U,Ia)}function Fe(U,Ia,rb,Cc,Gc,ud){const xe=this.context.dataflow,Ge=this.context.data[U],cg=Ge.input;U=xe.stamp();let Ye=Ge.changes,dg;if(!1===xe._trigger||!(cg.value.length||Ia||Cc))return 0;if(!Ye||Ye.stamp<U)Ge.changes=Ye=xe.changeset(),Ye.stamp=U,xe.runAfter(()=>{Ge.modified=!0;xe.pulse(cg,Ye).run()},!0,1);rb&&(rb=!0===rb?l.truthy:l.isArray(rb)||cb.isTuple(rb)?rb:ed(rb),Ye.remove(rb));Ia&&
Ye.insert(Ia);Cc&&(rb=ed(Cc),cg.value.some(rb)?Ye.remove(rb):Ye.insert(Cc));if(Gc)for(dg in ud)Ye.modify(Gc,dg,ud[dg]);return 1}function ve(U){var Ia=U.touches;U=Ia[0].clientX-Ia[1].clientX;Ia=Ia[0].clientY-Ia[1].clientY;return Math.sqrt(U*U+Ia*Ia)}function Sd(U){U=U.touches;return Math.atan2(U[0].clientY-U[1].clientY,U[0].clientX-U[1].clientX)}function qe(U,Ia){Ia=mf[Ia]||(mf[Ia]=l.field(Ia));return l.isArray(U)?U.map(Ia):Ia(U)}function A(U){return l.isArray(U)||ArrayBuffer.isView(U)?U:null}function W(U){return A(U)||
(l.isString(U)?U:null)}function ta(U,...Ia){return A(U).join(...Ia)}function Qa(U,...Ia){return W(U).indexOf(...Ia)}function qb(U,...Ia){return W(U).lastIndexOf(...Ia)}function Bb(U,...Ia){return W(U).slice(...Ia)}function ac(U,Ia,rb){l.isFunction(rb)&&l.error("Function argument passed to replace.");return String(U).replace(Ia,rb)}function Sb(U){return A(U).slice().reverse()}function wb(U,Ia,rb){return zb.bandSpace(U||0,Ia||0,rb||0)}function zc(U,Ia){return(U=Ha(U,(Ia||this).context))&&U.bandwidth?
U.bandwidth():0}function Ic(U,Ia){return(U=Ha(U,(Ia||this).context))?U.copy():void 0}function $c(U,Ia){return(U=Ha(U,(Ia||this).context))?U.domain():[]}function bd(U,Ia,rb){return(U=Ha(U,(rb||this).context))?l.isArray(Ia)?(U.invertRange||U.invert)(Ia):(U.invert||U.invertExtent)(Ia):void 0}function nd(U,Ia){return(U=Ha(U,(Ia||this).context))&&U.range?U.range():[]}function Ed(U,Ia,rb){return(U=Ha(U,(rb||this).context))?U(Ia):void 0}function Wd(U,Ia,rb,Cc,Gc){U=Ha(U,(Gc||this).context);const ud=Zb.Gradient(Ia,
rb);Ia=U.domain();rb=Ia[0];Gc=l.peek(Ia);let xe=l.identity;Gc-rb?xe=zb.scaleFraction(U,rb,Gc):U=(U.interpolator?zb.scale("sequential")().interpolator(U.interpolator()):zb.scale("linear")().interpolate(U.interpolate()).range(U.range())).domain([rb=0,Gc=1]);U.ticks&&(Ia=U.ticks(+Cc||15),rb!==Ia[0]&&Ia.unshift(rb),Gc!==l.peek(Ia)&&Ia.push(Gc));Ia.forEach(Ge=>ud.stop(xe(Ge),U(Ge)));return ud}function ke(U,Ia,rb){const Cc=Ha(U,(rb||this).context);return function(Gc){return Cc?Cc.path.context(Gc)(Ia):""}}
function ce(U){let Ia=null;return function(rb){return rb?Zb.pathRender(rb,Ia=Ia||Zb.pathParse(U)):U}}function Ud(U,Ia){U=Gb.call(Ia,U);return U.root&&U.root.lookup||{}}function Ve(U,Ia,rb){U=Ud(U,this);Ia=U[Ia];rb=U[rb];return Ia&&rb?Ia.path(rb).map(uf):void 0}function Pe(U,Ia){return(U=Ud(U,this)[Ia])?U.ancestors().map(uf):void 0}function hf(){const U="undefined"!==typeof window&&window||null;return U?U.screen:{}}function Ne(){const U="undefined"!==typeof window&&window||null;return U?[U.innerWidth,
U.innerHeight]:[void 0,void 0]}function ne(){var U=this.context.dataflow;return(U=U.container&&U.container())?[U.clientWidth,U.clientHeight]:[void 0,void 0]}function Se(U,Ia,rb){if(!U)return[];const [Cc,Gc]=U;U=(new Zb.Bounds).set(Cc[0],Cc[1],Gc[0],Gc[1]);rb=rb||this.context.dataflow.scenegraph().root;return Zb.intersect(rb,U,F(Ia))}function F(U){let Ia=null;if(U){const rb=l.array(U.marktype),Cc=l.array(U.markname);Ia=Gc=>(!rb.length||rb.some(ud=>Gc.marktype===ud))&&(!Cc.length||Cc.some(ud=>Gc.name===
ud))}return Ia}function Z(U,Ia,rb){if(1===arguments.length)return Qf[U];Qf[U]=Ia;rb&&(Rf[U]=rb);ug&&(ug.functions[U]="this."+U);return this}const Da=U=>function(Ia,rb){return this.context.dataflow.locale()[U](rb)(Ia)},hb=Da("format"),Kb=Da("timeFormat"),uc=Da("utcFormat"),Ib=Da("timeParse"),ma=Da("utcParse"),Ga=new Date(2E3,0,1);class sb{constructor(){this._partials=new Float64Array(32);this._n=0}add(U){const Ia=this._partials;let rb=0;for(let Cc=0;Cc<this._n&&32>Cc;Cc++){const Gc=Ia[Cc],ud=U+Gc;
(U=Math.abs(U)<Math.abs(Gc)?U-(ud-Gc):Gc-(ud-U))&&(Ia[rb++]=U);U=ud}Ia[rb]=U;this._n=rb+1;return this}valueOf(){const U=this._partials;let Ia=this._n;let rb,Cc=0;if(0<Ia){for(Cc=U[--Ia];0<Ia;){var Gc=Cc;rb=U[--Ia];Cc=Gc+rb;if(Gc=rb-(Cc-Gc))break}0<Ia&&(0>Gc&&0>U[Ia-1]||0<Gc&&0<U[Ia-1])&&(rb=2*Gc,Gc=Cc+rb,rb==Gc-Cc&&(Cc=Gc))}return Cc}}var hc=Math.PI,Uc=hc/2,Vc=hc/4,rd=2*hc,ad=180/hc,Nd=hc/180,De=Math.abs,Rd=Math.atan2,fe=Math.cos,Ae=Math.hypot,Pc=Math.sin,Gd=Math.sqrt,cd={Feature:function(U,Ia){Cb(U.geometry,
Ia)},FeatureCollection:function(U,Ia){U=U.features;for(var rb=-1,Cc=U.length;++rb<Cc;)Cb(U[rb].geometry,Ia)}},qd={Sphere:function(U,Ia){Ia.sphere()},Point:function(U,Ia){U=U.coordinates;Ia.point(U[0],U[1],U[2])},MultiPoint:function(U,Ia){for(var rb=U.coordinates,Cc=-1,Gc=rb.length;++Cc<Gc;)U=rb[Cc],Ia.point(U[0],U[1],U[2])},LineString:function(U,Ia){xb(U.coordinates,Ia,0)},MultiLineString:function(U,Ia){U=U.coordinates;for(var rb=-1,Cc=U.length;++rb<Cc;)xb(U[rb],Ia,0)},Polygon:function(U,Ia){Mb(U.coordinates,
Ia)},MultiPolygon:function(U,Ia){U=U.coordinates;for(var rb=-1,Cc=U.length;++rb<Cc;)Mb(U[rb],Ia)},GeometryCollection:function(U,Ia){U=U.geometries;for(var rb=-1,Cc=U.length;++rb<Cc;)Cb(U[rb],Ia)}},fd=new sb,sd=new sb,Fd,be,Ee,Re,ff,jf={point:Ca,lineStart:Ca,lineEnd:Ca,polygonStart:function(){fd=new sb;jf.lineStart=pb;jf.lineEnd=ca},polygonEnd:function(){var U=+fd;sd.add(0>U?rd+U:U);this.lineStart=this.lineEnd=this.point=Ca},sphere:function(){sd.add(rd)}},gd,Rc,jd,Wc,na,La,Ya,ub,n,J,da,Ja={point:Oa,
lineStart:va,lineEnd:m,polygonStart:function(){Ja.point=G;Ja.lineStart=Q;Ja.lineEnd=y;n=new sb;jf.polygonStart()},polygonEnd:function(){jf.polygonEnd();Ja.point=Oa;Ja.lineStart=va;Ja.lineEnd=m;0>fd?(gd=-(jd=180),Rc=-(Wc=90)):1E-6<n?Wc=90:-1E-6>n&&(Rc=-90);da[0]=gd;da[1]=jd},sphere:function(){gd=-(jd=180);Rc=-(Wc=90)}},Sa,Ua,Pb,bc,Ub,yc,Rb,Kc,Od,od,Md,hd,Mc,dd,Pd,Xd,oe={sphere:Ca,point:E,lineStart:z,lineEnd:qa,polygonStart:function(){oe.lineStart=T;oe.lineEnd=la},polygonEnd:function(){oe.lineStart=
z;oe.lineEnd=qa}};const re=ka("area",function(U){sd=new sb;kc(U,jf);return 2*sd}),Qc=ka("bounds",function(U){var Ia,rb,Cc;Wc=jd=-(gd=Rc=Infinity);J=[];kc(U,Ja);if(Ia=J.length){J.sort(H);U=1;var Gc=J[0];for(rb=[Gc];U<Ia;++U){var ud=J[U];V(Gc,ud[0])||V(Gc,ud[1])?(t(Gc[0],ud[1])>t(Gc[0],Gc[1])&&(Gc[1]=ud[1]),t(ud[0],Gc[1])>t(Gc[0],Gc[1])&&(Gc[0]=ud[0])):rb.push(Gc=ud)}var xe=-Infinity;Ia=rb.length-1;U=0;for(Gc=rb[Ia];U<=Ia;Gc=ud,++U)ud=rb[U],(Cc=t(Gc[1],ud[0]))>xe&&(xe=Cc,gd=ud[0],jd=Gc[1])}J=da=null;
return Infinity===gd||Infinity===Rc?[[NaN,NaN],[NaN,NaN]]:[[gd,Rc],[jd,Wc]]}),Oe=ka("centroid",function(U){Sa=Ua=Pb=bc=Ub=yc=Rb=Kc=0;Od=new sb;od=new sb;Md=new sb;kc(U,oe);U=+Od;var Ia=+od,rb=+Md,Cc=Ae(U,Ia,rb);return 1E-12>Cc&&(U=yc,Ia=Rb,rb=Kc,1E-6>Ua&&(U=Pb,Ia=bc,rb=Ub),Cc=Ae(U,Ia,rb),1E-12>Cc)?[NaN,NaN]:[Rd(Ia,U)*ad,$a(rb/Cc)*ad]});var We=1/.7,df=/^#([0-9a-f]{3,8})$/,Hf=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),wd=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
te=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Qe=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),He=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
lf=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Pf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ob(Lc,jc,{copy:function(U){return Object.assign(new this.constructor,this,U)},displayable:function(){return this.rgb().displayable()},hex:wc,formatHex:wc,formatHsl:function(){return xc(this).formatHsl()},
formatRgb:tc,toString:tc});Ob(lb,ob,mc(Lc,{brighter:function(U){U=null==U?We:Math.pow(We,U);return new lb(this.r*U,this.g*U,this.b*U,this.opacity)},darker:function(U){U=null==U?.7:Math.pow(.7,U);return new lb(this.r*U,this.g*U,this.b*U,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Fb,formatHex:Fb,formatRgb:Wb,toString:Wb}));Ob(B,kd,mc(Lc,{brighter:function(U){U=
null==U?We:Math.pow(We,U);return new B(this.h,this.s,this.l*U,this.opacity)},darker:function(U){U=null==U?.7:Math.pow(.7,U);return new B(this.h,this.s,this.l*U,this.opacity)},rgb:function(){var U=this.h%360+360*(0>this.h),Ia=isNaN(U)||isNaN(this.s)?0:this.s,rb=this.l;Ia=rb+(.5>rb?rb:1-rb)*Ia;rb=2*rb-Ia;return new lb(w(240<=U?U-240:U+120,rb,Ia),w(U,rb,Ia),w(120>U?U+240:U-120,rb,Ia),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&
1>=this.opacity},formatHsl:function(){var U=this.opacity;U=isNaN(U)?1:Math.max(0,Math.min(1,U));return(1===U?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===U?")":", "+U+")")}}));const If=Math.PI/180,Wf=180/Math.PI,Xe=4/29,Ce=6/29,rf=3*Ce*Ce,jg=Ce*Ce*Ce;Ob(fa,aa,mc(Lc,{brighter:function(U){return new fa(this.l+18*(null==U?1:U),this.a,this.b,this.opacity)},darker:function(U){return new fa(this.l-18*(null==U?1:U),this.a,this.b,this.opacity)},rgb:function(){var U=(this.l+
16)/116,Ia=isNaN(this.a)?U:U+this.a/500,rb=isNaN(this.b)?U:U-this.b/200;Ia=.96422*eb(Ia);U=1*eb(U);rb=.82521*eb(rb);return new lb(fb(3.1338561*Ia-1.6168667*U-.4906146*rb),fb(-.9787684*Ia+1.9161415*U+.033454*rb),fb(.0719453*Ia-.2289914*U+1.4052427*rb),this.opacity)}}));Ob(qc,oc,mc(Lc,{brighter:function(U){return new qc(this.h,this.c,this.l+18*(null==U?1:U),this.opacity)},darker:function(U){return new qc(this.h,this.c,this.l-18*(null==U?1:U),this.opacity)},rgb:function(){return Dc(this).rgb()}}));const mf=
{},uf=U=>U.data,Qf={random(){return nc.random()},cumulativeNormal:nc.cumulativeNormal,cumulativeLogNormal:nc.cumulativeLogNormal,cumulativeUniform:nc.cumulativeUniform,densityNormal:nc.densityNormal,densityLogNormal:nc.densityLogNormal,densityUniform:nc.densityUniform,quantileNormal:nc.quantileNormal,quantileLogNormal:nc.quantileLogNormal,quantileUniform:nc.quantileUniform,sampleNormal:nc.sampleNormal,sampleLogNormal:nc.sampleLogNormal,sampleUniform:nc.sampleUniform,isArray:l.isArray,isBoolean:l.isBoolean,
isDate:l.isDate,isDefined(U){return void 0!==U},isNumber:l.isNumber,isObject:l.isObject,isRegExp:l.isRegExp,isString:l.isString,isTuple:cb.isTuple,isValid(U){return null!=U&&U===U},toBoolean:l.toBoolean,toDate(U){return l.toDate(U)},toNumber:l.toNumber,toString:l.toString,indexof:Qa,join:ta,lastindexof:qb,replace:ac,reverse:Sb,slice:Bb,flush:l.flush,lerp:l.lerp,merge:Hd,pad:l.pad,peek:l.peek,pluck:qe,span:l.span,inrange:l.inrange,truncate:l.truncate,rgb:ob,lab:aa,hcl:oc,hsl:kd,luminance:Zc,contrast:xd,
sequence:function(U,Ia,rb){U=+U;Ia=+Ia;rb=2>(Gc=arguments.length)?(Ia=U,U=0,1):3>Gc?1:+rb;for(var Cc=-1,Gc=Math.max(0,Math.ceil((Ia-U)/rb))|0,ud=Array(Gc);++Cc<Gc;)ud[Cc]=U+Cc*rb;return ud},format:hb,utcFormat:uc,utcParse:ma,utcOffset:Tb.utcOffset,utcSequence:Tb.utcSequence,timeFormat:Kb,timeParse:Ib,timeOffset:Tb.timeOffset,timeSequence:Tb.timeSequence,timeUnitSpecifier:Tb.timeUnitSpecifier,monthFormat:yb,monthAbbrevFormat:Ab,dayFormat:Pa,dayAbbrevFormat:Va,quarter:l.quarter,utcquarter:l.utcquarter,
week:Tb.week,utcweek:Tb.utcweek,dayofyear:Tb.dayofyear,utcdayofyear:Tb.utcdayofyear,warn:Za,info:mb,debug:Ra,extent(U){return l.extent(U)},inScope:Ka,intersect:Se,clampRange:l.clampRange,pinchDistance:ve,pinchAngle:Sd,screen:hf,containerSize:ne,windowSize:Ne,bandspace:wb,setdata:fc,pathShape:ce,panLinear:l.panLinear,panLog:l.panLog,panPow:l.panPow,panSymlog:l.panSymlog,zoomLinear:l.zoomLinear,zoomLog:l.zoomLog,zoomPow:l.zoomPow,zoomSymlog:l.zoomSymlog,encode:Ba,modify:Fe,lassoAppend:function(U,Ia,
rb,Cc=5){const Gc=U[U.length-1];return void 0===Gc||Math.sqrt(Math.pow(Gc[0]-Ia,2)+Math.pow(Gc[1]-rb,2))>Cc?(U.push([Ia,rb]),[...U]):U},lassoPath:function(U){return(null!=U?U:[]).reduce((Ia,[rb,Cc],Gc)=>Ia+(0==Gc?`M ${rb},${Cc} `:Gc===U.length-1?" Z":`L ${rb},${Cc} `),"")},intersectLasso:function(U,Ia,rb){const {x:Cc,y:Gc,mark:ud}=rb;rb=(new Zb.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [xe,Ge]of Ia)xe<rb.x1&&(rb.x1=xe),xe>
rb.x2&&(rb.x2=xe),Ge<rb.y1&&(rb.y1=Ge),Ge>rb.y2&&(rb.y2=Ge);rb.translate(Cc,Gc);return Se([[rb.x1,rb.y1],[rb.x2,rb.y2]],U,ud).filter(xe=>{var Ge=xe.y;let cg=0;for(let Ye=0,dg=Ia.length-1;Ye<Ia.length;dg=Ye++){const [Xg,vg]=Ia[dg],[eg,kg]=Ia[Ye];kg>Ge!=vg>Ge&&xe.x<(Xg-eg)*(Ge-kg)/(vg-kg)+eg&&cg++}return cg&1})}},ng="view item group xy x y".split(" "),Rf={},Jf={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:U=>`_[${l.stringValue("$"+U)}]`,functions:function(U){const Ia=
M.functions(U);ng.forEach(rb=>Ia[rb]="event.vega."+rb);for(const rb in Qf)Ia[rb]="this."+rb;l.extend(Ia,bb(U,Qf,Rf));return Ia},constants:M.constants,visitors:Rf},ug=M.codegenExpression(Jf);Z("bandwidth",zc,pa);Z("copy",Ic,pa);Z("domain",$c,pa);Z("range",nd,pa);Z("invert",bd,pa);Z("scale",Ed,pa);Z("gradient",Wd,pa);Z("geoArea",re,pa);Z("geoBounds",Qc,pa);Z("geoCentroid",Oe,pa);Z("geoShape",ke,pa);Z("indata",Db,Fa);Z("data",Gb,Xa);Z("treePath",Ve,Xa);Z("treeAncestors",Pe,Xa);Z("vlSelectionTest",gc.selectionTest,
gc.selectionVisitor);Z("vlSelectionIdTest",gc.selectionIdTest,gc.selectionVisitor);Z("vlSelectionResolve",gc.selectionResolve,gc.selectionVisitor);Z("vlSelectionTuples",gc.selectionTuples);x.DataPrefix=":";x.IndexPrefix="@";x.ScalePrefix="%";x.SignalPrefix="$";x.bandspace=wb;x.bandwidth=zc;x.codeGenerator=ug;x.codegenParams=Jf;x.containerSize=ne;x.contrast=xd;x.copy=Ic;x.data=Gb;x.dataVisitor=Xa;x.dayAbbrevFormat=Va;x.dayFormat=Pa;x.debug=Ra;x.domain=$c;x.encode=Ba;x.expressionFunction=Z;x.format=
hb;x.functionContext=Qf;x.geoArea=re;x.geoBounds=Qc;x.geoCentroid=Oe;x.geoShape=ke;x.inScope=Ka;x.indata=Db;x.indataVisitor=Fa;x.indexof=Qa;x.info=mb;x.invert=bd;x.join=ta;x.lastindexof=qb;x.luminance=Zc;x.merge=Hd;x.modify=Fe;x.monthAbbrevFormat=Ab;x.monthFormat=yb;x.parseExpression=function(U,Ia){const rb={};let Cc;try{U=l.isString(U)?U:l.stringValue(U)+"",Cc=M.parseExpression(U)}catch(Gc){l.error("Expression parse error: "+U)}Cc.visit(Gc=>{if(Gc.type===M.CallExpression){var ud=Gc.callee.name,xe=
Jf.visitors[ud];xe&&xe(ud,Gc.arguments,Ia,rb)}});U=ug(Cc);U.globals.forEach(Gc=>{const ud="$"+Gc;!l.hasOwnProperty(rb,ud)&&Ia.getSignal(Gc)&&(rb[ud]=Ia.signalRef(Gc))});return{$expr:l.extend({code:U.code},Ia.options.ast?{ast:Cc}:null),$fields:U.fields,$params:rb}};x.pathShape=ce;x.pinchAngle=Sd;x.pinchDistance=ve;x.pluck=qe;x.range=nd;x.replace=ac;x.reverse=Sb;x.scale=Ed;x.scaleGradient=Wd;x.scaleVisitor=pa;x.screen=hf;x.setdata=fc;x.slice=Bb;x.timeFormat=Kb;x.timeParse=Ib;x.treeAncestors=Pe;x.treePath=
Ve;x.utcFormat=uc;x.utcParse=ma;x.warn=Za;x.windowSize=Ne;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[48]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(20),vb(28)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega))})(this,function(x,l,M){function cb(Ba,jb,yb){";"!==yb[yb.length-1]&&(yb="return("+yb+");");jb=Function(...jb.concat(yb));return Ba&&Ba.functions?jb.bind(Ba.functions):jb}function zb(Ba,jb,yb){if(!Ba||!l.isObject(Ba))return Ba;
for(let Ab=0,Pa=Db.length,Va;Ab<Pa;++Ab)if(Va=Db[Ab],l.hasOwnProperty(Ba,Va.key))return Va.parse(Ba,jb,yb);return Ba}function Zb(Ba,jb,yb,Ab){this.dataflow=Ba;this.transforms=jb;this.events=Ba.events.bind(Ba);this.expr=Ab||Gb;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};yb&&(this.functions=Object.create(yb),this.functions.context=this)}function gc(Ba){this.dataflow=Ba.dataflow;this.transforms=Ba.transforms;this.events=Ba.events;this.expr=Ba.expr;this.signals=Object.create(Ba.signals);
this.scales=Object.create(Ba.scales);this.nodes=Object.create(Ba.nodes);this.data=Object.create(Ba.data);this.fn=Object.create(Ba.fn);Ba.functions&&(this.functions=Object.create(Ba.functions),this.functions.context=this)}const nc=l.toSet(["rule"]),Tb=l.toSet(["group","image","rect"]);var Gb={operator:(Ba,jb)=>cb(Ba,["_"],jb.code),parameter:(Ba,jb)=>cb(Ba,["datum","_"],jb.code),event:(Ba,jb)=>cb(Ba,["event"],jb.code),handler:(Ba,jb)=>cb(Ba,["_","event"],`var datum=event.item&&event.item.datum;return ${jb.code};`),
encode:(Ba,jb)=>{const {marktype:yb,channels:Ab}=jb;jb="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var Pa in Ab){const Va="o["+l.stringValue(Pa)+"]";jb+=`$=${Ab[Pa].code};if(${Va}!==$)${Va}=$,m=1;`}Pa="";nc[yb]||(Ab.x2&&(Ab.x?(Tb[yb]&&(Pa+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),Pa+="o.width\x3do.x2-o.x;"):Pa+="o.x\x3do.x2-(o.width||0);"),Ab.xc&&(Pa+="o.x\x3do.xc-(o.width||0)/2;"),Ab.y2&&(Ab.y?(Tb[yb]&&(Pa+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),Pa+="o.height\x3do.y2-o.y;"):
Pa+="o.y\x3do.y2-(o.height||0);"),Ab.yc&&(Pa+="o.y\x3do.yc-(o.height||0)/2;"));jb+=Pa;return cb(Ba,["item","_"],jb+"return m;")},codegen:{get(Ba){Ba=`[${Ba.map(l.stringValue).join("][")}]`;const jb=Function("_",`return _${Ba};`);jb.path=Ba;return jb},comparator(Ba,jb){let yb;Ba=Function("a","b","var u, v; return "+Ba.map((Ab,Pa)=>{const Va=jb[Pa];let Xa;Ab.path?(Xa=`a${Ab.path}`,Ab=`b${Ab.path}`):((yb=yb||{})["f"+Pa]=Ab,Xa=`this.f${Pa}(a)`,Ab=`this.f${Pa}(b)`);Pa=-Va;return`((u = ${Xa}) < (v = ${Ab}) || u == null) && v != null ? ${Pa}
  : (u > v || v == null) && u != null ? ${Va}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Pa}
  : v !== v && u === u ? ${Va} : `}).join("")+"0;");return yb?Ba.bind(yb):Ba}}},Db=[{key:"$ref",parse:function(Ba,jb){return jb.get(Ba.$ref)||l.error("Operator not defined: "+Ba.$ref)}},{key:"$key",parse:function(Ba,jb){const yb="k:"+Ba.$key+"_"+!!Ba.$flat;return jb.fn[yb]||(jb.fn[yb]=l.key(Ba.$key,Ba.$flat,jb.expr.codegen))}},{key:"$expr",parse:function(Ba,jb,yb){Ba.$params&&jb.parseParameters(Ba.$params,yb);yb="e:"+Ba.$expr.code+"_"+Ba.$name;return jb.fn[yb]||(jb.fn[yb]=l.accessor(jb.parameterExpression(Ba.$expr),
Ba.$fields,Ba.$name))}},{key:"$field",parse:function(Ba,jb){if(!Ba.$field)return null;const yb="f:"+Ba.$field+"_"+Ba.$name;return jb.fn[yb]||(jb.fn[yb]=l.field(Ba.$field,Ba.$name,jb.expr.codegen))}},{key:"$encode",parse:function(Ba,jb){Ba=Ba.$encode;const yb={};for(const Ab in Ba){const Pa=Ba[Ab];yb[Ab]=l.accessor(jb.encodeExpression(Pa.$expr),Pa.$fields);yb[Ab].output=Pa.$output}return yb}},{key:"$compare",parse:function(Ba,jb){const yb="c:"+Ba.$compare+"_"+Ba.$order,Ab=l.array(Ba.$compare).map(Pa=>
Pa&&Pa.$tupleid?M.tupleid:Pa);return jb.fn[yb]||(jb.fn[yb]=l.compare(Ab,Ba.$order,jb.expr.codegen))}},{key:"$context",parse:function(Ba,jb){return jb}},{key:"$subflow",parse:function(Ba,jb){const yb=Ba.$subflow;return function(Ab,Pa,Va){const Xa=jb.fork().parse(yb);Ab=Xa.get(yb.operators[0].id);(Pa=Xa.signals.parent)&&Pa.set(Va);Ab.detachSubflow=()=>jb.detach(Xa);return Ab}}},{key:"$tupleid",parse:function(){return M.tupleid}}];const fc={skip:!0};Zb.prototype=gc.prototype={fork(){const Ba=new gc(this);
(this.subcontext||(this.subcontext=[])).push(Ba);return Ba},detach(Ba){this.subcontext=this.subcontext.filter(yb=>yb!==Ba);const jb=Object.keys(Ba.nodes);for(const yb of jb)Ba.nodes[yb]._targets=null;for(const yb of jb)Ba.nodes[yb].detach();Ba.nodes=null},get(Ba){return this.nodes[Ba]},set(Ba,jb){return this.nodes[Ba]=jb},add(Ba,jb){const yb=this,Ab=yb.dataflow,Pa=Ba.value;yb.set(Ba.id,jb);"collect"===(Ba.type+"").toLowerCase()&&Pa&&(Pa.$ingest?Ab.ingest(jb,Pa.$ingest,Pa.$format):Pa.$request?Ab.preload(jb,
Pa.$request,Pa.$format):Ab.pulse(jb,Ab.changeset().insert(Pa)));Ba.root&&(yb.root=jb);if(Ba.parent){let Va=yb.get(Ba.parent.$ref);Va?(Ab.connect(Va,[jb]),jb.targets().add(Va)):(yb.unresolved=yb.unresolved||[]).push(()=>{Va=yb.get(Ba.parent.$ref);Ab.connect(Va,[jb]);jb.targets().add(Va)})}Ba.signal&&(yb.signals[Ba.signal]=jb);Ba.scale&&(yb.scales[Ba.scale]=jb);if(Ba.data)for(const Va in Ba.data){const Xa=yb.data[Va]||(yb.data[Va]={});Ba.data[Va].forEach(Fa=>Xa[Fa]=jb)}},resolve(){(this.unresolved||
[]).forEach(Ba=>Ba());delete this.unresolved;return this},operator(Ba,jb){this.add(Ba,this.dataflow.add(Ba.value,jb))},transform(Ba,jb){this.add(Ba,this.dataflow.add(this.transforms[(jb+"").toLowerCase()]))},stream(Ba,jb){this.set(Ba.id,jb)},update(Ba,jb,yb,Ab,Pa){this.dataflow.on(jb,yb,Ab,Pa,Ba.options)},operatorExpression(Ba){return this.expr.operator(this,Ba)},parameterExpression(Ba){return this.expr.parameter(this,Ba)},eventExpression(Ba){return this.expr.event(this,Ba)},handlerExpression(Ba){return this.expr.handler(this,
Ba)},encodeExpression(Ba){return this.expr.encode(this,Ba)},parse:function(Ba){const jb=this,yb=Ba.operators||[];Ba.background&&(jb.background=Ba.background);Ba.eventConfig&&(jb.eventConfig=Ba.eventConfig);Ba.locale&&(jb.locale=Ba.locale);yb.forEach(Ab=>jb.parseOperator(Ab));yb.forEach(Ab=>jb.parseOperatorParameters(Ab));(Ba.streams||[]).forEach(Ab=>jb.parseStream(Ab));(Ba.updates||[]).forEach(Ab=>jb.parseUpdate(Ab));return jb.resolve()},parseOperator:function(Ba){"operator"!==(Ba.type+"").toLowerCase()&&
Ba.type?this.transform(Ba,Ba.type):this.operator(Ba,Ba.update?this.operatorExpression(Ba.update):null)},parseOperatorParameters:function(Ba){if(Ba.params){const jb=this.get(Ba.id);jb||l.error("Invalid operator id: "+Ba.id);this.dataflow.connect(jb,jb.parameters(this.parseParameters(Ba.params),Ba.react,Ba.initonly))}},parseParameters:function(Ba,jb){jb=jb||{};const yb=this;for(const Ab in Ba){const Pa=Ba[Ab];jb[Ab]=l.isArray(Pa)?Pa.map(Va=>zb(Va,yb,jb)):zb(Pa,yb,jb)}return jb},parseStream:function(Ba){var jb=
this,yb=null!=Ba.filter?jb.eventExpression(Ba.filter):void 0,Ab=null!=Ba.stream?jb.get(Ba.stream):void 0;if(Ba.source)Ab=jb.events(Ba.source,Ba.type,yb);else if(Ba.merge){var Pa=Ba.merge.map(Va=>jb.get(Va));Ab=Pa[0].merge.apply(Pa[0],Pa.slice(1))}Ba.between&&(Pa=Ba.between.map(Va=>jb.get(Va)),Ab=Ab.between(Pa[0],Pa[1]));Ba.filter&&(Ab=Ab.filter(yb));null!=Ba.throttle&&(Ab=Ab.throttle(+Ba.throttle));null!=Ba.debounce&&(Ab=Ab.debounce(+Ba.debounce));null==Ab&&l.error("Invalid stream definition: "+JSON.stringify(Ba));
Ba.consume&&Ab.consume(!0);jb.stream(Ba,Ab)},parseUpdate:function(Ba){var jb=l.isObject(jb=Ba.source)?jb.$ref:jb;jb=this.get(jb);var yb=Ba.update,Ab=void 0;jb||l.error("Source not defined: "+Ba.source);var Pa=Ba.target&&Ba.target.$expr?this.eventExpression(Ba.target.$expr):this.get(Ba.target);yb&&yb.$expr&&(yb.$params&&(Ab=this.parseParameters(yb.$params)),yb=this.handlerExpression(yb.$expr));this.update(Ba,jb,Pa,yb,Ab)},getState:function(Ba){var jb=this,yb={};if(Ba.signals){var Ab=yb.signals={};
Object.keys(jb.signals).forEach(Va=>{const Xa=jb.signals[Va];Ba.signals(Va,Xa)&&(Ab[Va]=Xa.value)})}if(Ba.data){var Pa=yb.data={};Object.keys(jb.data).forEach(Va=>{const Xa=jb.data[Va];Ba.data(Va,Xa)&&(Pa[Va]=Xa.input.value)})}jb.subcontext&&!1!==Ba.recurse&&(yb.subcontext=jb.subcontext.map(Va=>Va.getState(Ba)));return yb},setState:function(Ba){var jb=this,yb=jb.dataflow,Ab=Ba.data,Pa=Ba.signals;Object.keys(Pa||{}).forEach(Va=>{yb.update(jb.signals[Va],Pa[Va],fc)});Object.keys(Ab||{}).forEach(Va=>
{yb.pulse(jb.data[Va].input,yb.changeset().remove(l.truthy).insert(Ab[Va]))});(Ba.subcontext||[]).forEach((Va,Xa)=>{(Xa=jb.subcontext[Xa])&&Xa.setState(Va)})}};x.context=function(Ba,jb,yb,Ab){return new Zb(Ba,jb,yb,Ab)};Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[49]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(20),vb(28),vb(33),vb(47),vb(48),vb(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega,x.vega,x.vega,x.vega,x.vega))})(this,function(x,l,M,cb,zb,Zb,gc){function nc(B){const w=B.container();w&&(w.setAttribute("role",
"graphics-document"),w.setAttribute("aria-roleDescription","visualization"),Tb(w,B.description()))}function Tb(B,w){B&&(null==w?B.removeAttribute("aria-label"):B.setAttribute("aria-label",w))}function Gb(B){B.add(null,w=>{B._background=w.bg;B._resize=1;return w.bg},{bg:B._signals.background})}function Db(B){const w=B._signals.cursor||(B._signals.cursor=B.add({user:"default",item:null}));B.on(B.events("view","mousemove"),w,(C,aa)=>{const fa=(C=w.value)?l.isString(C)?C:C.user:"default";aa=aa.item&&
aa.item.cursor||null;return C&&fa===C.user&&aa==C.item?C:{user:fa,item:aa}});B.add(null,function(C){C=C.cursor;let aa=this.value;l.isString(C)||(aa=C.item,C=C.user);fc(B,C&&"default"!==C?C:aa||C);return aa},{cursor:w})}function fc(B,w){if(B=B.globalCursor()?"undefined"!==typeof document&&document.body:B.container())return null==w?B.style.removeProperty("cursor"):B.style.cursor=w}function Ba(B,w){B=B._runtime.data;l.hasOwnProperty(B,w)||l.error("Unrecognized data set: "+w);return B[w]}function jb(B,
w){M.isChangeSet(w)||l.error("Second argument to changes must be a changeset.");B=Ba(this,B);B.modified=!0;return this.pulse(B.input,w)}function yb(B){var w=B.padding();return Math.max(0,B._viewWidth+w.left+w.right)}function Ab(B){var w=B.padding();return Math.max(0,B._viewHeight+w.top+w.bottom)}function Pa(B){var w=B.padding();B=B._origin;return[w.left+B[0],w.top+B[1]]}function Va(B){var w=Pa(B),C=yb(B),aa=Ab(B);B._renderer.background(B.background());B._renderer.resize(C,aa,w);B._handler.origin(w);
B._resizeListeners.forEach(fa=>{try{fa(C,aa)}catch(za){B.error(za)}})}function Xa(B,w,C){function aa(eb){var fb=za,ib;if(eb)for(ib=w;ib;ib=ib.mark.group)if(ib.mark.name===eb){fb=ib;break}return fb&&fb.mark&&fb.mark.interactive?fb:{}}function fa(eb){if(!eb)return C;l.isString(eb)&&(eb=aa(eb));const fb=C.slice();for(;eb;)fb[0]-=eb.x||0,fb[1]-=eb.y||0,eb=eb.mark&&eb.mark.group;return fb}const za=w?"group"===w.mark.marktype?w:w.mark.group:null;return{view:l.constant(B),item:l.constant(w||{}),group:aa,
xy:fa,x:eb=>fa(eb)[0],y:eb=>fa(eb)[1]}}function Fa(B){B=l.extend({defaults:{}},B);const w=(C,aa)=>{aa.forEach(fa=>{l.isArray(C[fa])&&(C[fa]=l.toSet(C[fa]))})};w(B.defaults,["prevent","allow"]);w(B,["view","window","selector"]);return B}function pa(B,w,C,aa){B._eventListeners.push({type:C,sources:l.array(w),handler:aa})}function Aa(B,w,C){const aa=B._eventConfig&&B._eventConfig[w];return!1===aa||l.isObject(aa)&&!aa[C]?(B.warn(`Blocked ${w} ${C} event listener.`),!1):!0}function Ha(B){return B.item}
function bb(B){return B.item.mark.source}function $a(B){return function(w,C){return C.vega.view().changeset().encode(C.item,B)}}function Ca(B,w,C){B=document.createElement(B);for(const aa in w)B.setAttribute(aa,w[aa]);null!=C&&(B.textContent=C);return B}function Cb(B,w,C){var aa=Math.abs(w-B)/Math.max(0,C);C=Math.pow(10,Math.floor(Math.log(aa)/Math.LN10));aa/=C;aa>=wc?C*=10:aa>=tc?C*=5:aa>=jc&&(C*=2);return w<B?-C:C}function xb(B,w,C){if(w){var aa=C.param,fa=C.state;fa||(fa=C.state={elements:null,
active:!1,set:null,update:za=>{za!=B.signal(aa.signal)&&B.runAsync(null,()=>{fa.source=!0;B.signal(aa.signal,za)})}},aa.debounce&&(fa.update=l.debounce(aa.debounce,fa.update)));(null==aa.input&&aa.element?Mb:kc)(fa,w,aa,B);fa.active||(B.on(B._signals[aa.signal],null,()=>{fa.source?fa.source=!1:fa.set(B.signal(aa.signal))}),fa.active=!0);return fa}}function Mb(B,w,C,aa){const fa=C.event||"input",za=()=>B.update(w.value);aa.signal(C.signal,w.value);w.addEventListener(fa,za);pa(aa,w,fa,za);B.set=eb=>
{w.value=eb;eb=w.dispatchEvent;var fb="undefined"!==typeof Event?new Event(fa):{type:fa};eb.call(w,fb)}}function kc(B,w,C,aa){aa=aa.signal(C.signal);const fa=Ca("div",{"class":"vega-bind"}),za="radio"===C.input?fa:fa.appendChild(Ca("label"));za.appendChild(Ca("span",{"class":"vega-bind-name"},C.name||C.signal));w.appendChild(fa);w=pb;switch(C.input){case "checkbox":w=ca;break;case "select":w=O;break;case "radio":w=oa;break;case "range":w=ra}w(B,za,C,aa)}function pb(B,w,C,aa){const fa=Ca("input");
for(const za in C)"signal"!==za&&"element"!==za&&fa.setAttribute("input"===za?"type":za,C[za]);fa.setAttribute("name",C.signal);fa.value=aa;w.appendChild(fa);fa.addEventListener("input",()=>B.update(fa.value));B.elements=[fa];B.set=za=>fa.value=za}function ca(B,w,C,aa){C={type:"checkbox",name:C.signal};aa&&(C.checked=!0);const fa=Ca("input",C);w.appendChild(fa);fa.addEventListener("change",()=>B.update(fa.checked));B.elements=[fa];B.set=za=>fa.checked=!!za||null}function O(B,w,C,aa){const fa=Ca("select",
{name:C.signal}),za=C.labels||[];C.options.forEach((eb,fb)=>{const ib={value:eb};Oa(eb,aa)&&(ib.selected=!0);fa.appendChild(Ca("option",ib,(za[fb]||eb)+""))});w.appendChild(fa);fa.addEventListener("change",()=>{B.update(C.options[fa.selectedIndex])});B.elements=[fa];B.set=eb=>{for(let fb=0,ib=C.options.length;fb<ib;++fb)if(Oa(C.options[fb],eb)){fa.selectedIndex=fb;break}}}function oa(B,w,C,aa){const fa=Ca("span",{"class":"vega-bind-radio"}),za=C.labels||[];w.appendChild(fa);B.elements=C.options.map((eb,
fb)=>{var ib={type:"radio",name:C.signal,value:eb};Oa(eb,aa)&&(ib.checked=!0);ib=Ca("input",ib);ib.addEventListener("change",()=>B.update(eb));fb=Ca("label",{},(za[fb]||eb)+"");fb.prepend(ib);fa.appendChild(fb);return ib});B.set=eb=>{const fb=B.elements,ib=fb.length;for(let Vb=0;Vb<ib;++Vb)Oa(fb[Vb].value,eb)&&(fb[Vb].checked=!0)}}function ra(B,w,C,aa){aa=void 0!==aa?aa:(+C.max+ +C.min)/2;const fa=null!=C.max?C.max:Math.max(100,+aa)||100,za=C.min||Math.min(0,fa,+aa)||0,eb=C.step||Cb(za,fa,100),fb=
Ca("input",{type:"range",name:C.signal,min:za,max:fa,step:eb});fb.value=aa;const ib=Ca("span",{},+aa);w.appendChild(fb);w.appendChild(ib);w=()=>{ib.textContent=fb.value;B.update(+fb.value)};fb.addEventListener("input",w);fb.addEventListener("change",w);B.elements=[fb];B.set=Vb=>{fb.value=Vb;ib.textContent=Vb}}function Oa(B,w){return B===w||B+""===w+""}function ya(B,w,C,aa,fa,za){w=w||new aa(B.loader());return w.initialize(C,yb(B),Ab(B),Pa(B),fa,za).background(B.background())}function va(B,w){return w?
function(){try{w.apply(this,arguments)}catch(C){B.error(C)}}:null}function m(B,w,C,aa){const fa=(new aa(B.loader(),va(B,B.tooltip()))).scene(B.scenegraph().root).initialize(C,Pa(B),B);w&&w.handlers().forEach(za=>{fa.on(za.type,za.handler)});return fa}function G(B,w,C){if("string"===typeof w)if("undefined"!==typeof document){if(w=document.querySelector(w),!w)return B.error("Signal bind element not found: "+w),null}else return B.error("DOM document instance not found."),null;if(w&&C)try{w.textContent=
""}catch(aa){w=null,B.error(aa)}return w}function Q(B){l.isObject(B)?B={top:+B.top||0,bottom:+B.bottom||0,left:+B.left||0,right:+B.right||0}:(B=+B||0,B={top:B,bottom:B,left:B,right:B});return B}function y(B,w,C,aa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var fa=cb.renderModule(w);(fa=fa&&fa.headless)||l.error("Unrecognized renderer type: "+w);yield B.runAsync();return ya(B,null,null,fa,C,aa).renderAsync(B._scenegraph.root)})}function t(B,w,C){return Zb.context(B,M.transforms,
zb.functionContext,C).parse(w)}function H(B,w){var C=B.autosize();B=B.padding();return w-(C&&"padding"===C.contains?B.left+B.right:0)}function V(B,w){var C=B.autosize();B=B.padding();return w-(C&&"padding"===C.contains?B.top+B.bottom:0)}function E(B){function w(){B._autosize=B._resize=1}var C=B._signals,aa=C.width,fa=C.height;C=C.padding;B._resizeWidth=B.add(null,eb=>{B._width=eb.size;B._viewWidth=H(B,eb.size);w()},{size:aa});B._resizeHeight=B.add(null,eb=>{B._height=eb.size;B._viewHeight=V(B,eb.size);
w()},{size:fa});const za=B.add(null,w,{pad:C});B._resizeWidth.rank=aa.rank+1;B._resizeHeight.rank=fa.rank+1;za.rank=C.rank+1}function K(B,w){return w.modified&&l.isArray(w.input.value)&&B.indexOf("_:vega:_")}function z(B,w){return!("parent"===B||w instanceof M.transforms.proxy)}function L(){return Xb||(kd(X),Xb=xc.now()+ic)}function X(){Xb=0}function qa(){this._call=this._time=this._next=null}function T(){Xb=(Wb=xc.now())+ic;Ta=Ea=0;try{L();++Ta;for(var B=lb,w;B;)0<=(w=Xb-B._time)&&B._call.call(void 0,
w),B=B._next;--Ta}finally{Ta=0;B=lb;for(var C=Infinity;B;)if(B._call){C>B._time&&(C=B._time);var aa=B;B=B._next}else w=B._next,B._next=null,B=aa?aa._next=w:lb=w;Fb=aa;xa(C);Xb=0}}function la(){var B=xc.now(),w=B-Wb;1E3<w&&(ic-=w,Wb=B)}function xa(B){Ta||(Ea&&(Ea=clearTimeout(Ea)),24<B-Xb?(Infinity>B&&(Ea=setTimeout(T,B-xc.now()-ic)),ob&&(ob=clearInterval(ob))):(ob||(Wb=xc.now(),ob=setInterval(la,1E3)),Ta=1,kd(T)))}function R(B,w,C){var aa=new qa,fa=w;if(null==w)return aa.restart(B,w,C),aa;aa._restart=
aa.restart;aa.restart=function(za,eb,fb){eb=+eb;fb=null==fb?L():+fb;aa._restart(function oc(Vb){Vb+=fa;aa._restart(oc,fa+=eb,fb);za(Vb)},eb,fb)};aa.restart(B,w,C);return aa}function ka(B,w,C,aa){if(B=B.element())w=B.setAttribute,aa=null==aa?"":l.isArray(aa)?"["+aa.map(kb).join(", ")+"]":l.isObject(aa)&&!l.isDate(aa)?Ka(aa):aa+"",w.call(B,"title",aa)}function Ka(B){return Object.keys(B).map(w=>{const C=B[w];return w+": "+(l.isArray(C)?"["+C.map(kb).join(", ")+"]":kb(C))}).join("\n")}function kb(B){return l.isArray(B)?
"[]":l.isObject(B)&&!l.isDate(B)?"{}":B}function Za(B,w){w=w||{};M.Dataflow.call(this);w.loader&&this.loader(w.loader);w.logger&&this.logger(w.logger);null!=w.logLevel&&this.logLevel(w.logLevel);if(w.locale||B.locale){var C=l.extend({},B.locale,w.locale);this.locale(gc.locale(C.number,C.time))}this._elBind=this._el=null;this._renderType=w.renderer||cb.RenderType.Canvas;this._scenegraph=new cb.Scenegraph;C=this._scenegraph.root;this._renderer=null;this._tooltip=w.tooltip||ka;this._redraw=!0;this._handler=
(new cb.CanvasHandler).scene(C);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=Fa(B.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const aa=t(this,B,w.expr);this._runtime=aa;this._signals=aa.signals;this._bind=(B.bindings||[]).map(fa=>({state:null,param:l.extend({},fa)}));aa.root&&aa.root.set(C);C.source=aa.data.root.input;this.pulse(aa.data.root.input,this.changeset().insert(C.items));this._width=this.width();
this._height=this.height();this._viewWidth=H(this,this._width);this._viewHeight=V(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;E(this);Gb(this);Db(this);this.description(B.description);w.hover&&this.hover();w.container&&this.initialize(w.container,w.bind)}function mb(B,w){return l.hasOwnProperty(B._signals,w)?B._signals[w]:l.error("Unrecognized signal name: "+l.stringValue(w))}function Ra(B,w){B=(B._targets||[]).filter(C=>C._update&&C._update.handler===w);return B.length?
B[0]:null}function Ob(B,w,C,aa){let fa=Ra(C,aa);fa||(fa=va(B,()=>aa(w,C.value)),fa.handler=aa,B.on(C,null,fa));return B}function mc(B,w,C){(C=Ra(w,C))&&w._targets.remove(C);return B}const Lc={trap:!1};var wc=Math.sqrt(50),tc=Math.sqrt(10),jc=Math.sqrt(2),Sc={skip:!0},Ta=0,Ea=0,ob=0,lb,Fb,Wb=0,Xb=0,ic=0,xc="object"===typeof performance&&performance.now?performance:Date,kd="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(B){setTimeout(B,17)};
qa.prototype={constructor:qa,restart:function(B,w,C){if("function"!==typeof B)throw new TypeError("callback is not a function");C=(null==C?L():+C)+(null==w?0:+w);this._next||Fb===this||(Fb?Fb._next=this:lb=this,Fb=this);this._call=B;this._time=C;xa()},stop:function(){this._call&&(this._call=null,this._time=Infinity,xa())}};l.inherits(Za,M.Dataflow,{evaluate(B,w,C){const aa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield M.Dataflow.prototype.evaluate.call(aa,B,w);if(aa._redraw||
aa._resize)try{aa._renderer&&(aa._resize&&(aa._resize=0,Va(aa)),yield aa._renderer.renderAsync(aa._scenegraph.root)),aa._redraw=!1}catch(fa){aa.error(fa)}C&&M.asyncCallback(aa,C);return aa})},dirty(B){this._redraw=!0;this._renderer&&this._renderer.dirty(B)},description(B){if(arguments.length){const w=null!=B?B+"":null;w!==this._desc&&Tb(this._el,this._desc=w);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(B,
w,C){const aa=mb(this,B);return 1===arguments.length?aa.value:this.update(aa,w,C)},width(B){return arguments.length?this.signal("width",B):this.signal("width")},height(B){return arguments.length?this.signal("height",B):this.signal("height")},padding(B){return arguments.length?this.signal("padding",Q(B)):Q(this.signal("padding"))},autosize(B){return arguments.length?this.signal("autosize",B):this.signal("autosize")},background(B){return arguments.length?this.signal("background",B):this.signal("background")},
renderer(B){if(!arguments.length)return this._renderType;cb.renderModule(B)||l.error("Unrecognized renderer type: "+B);B!==this._renderType&&(this._renderType=B,this._resetRenderer());return this},tooltip(B){if(!arguments.length)return this._tooltip;B!==this._tooltip&&(this._tooltip=B,this._resetRenderer());return this},loader(B){if(!arguments.length)return this._loader;B!==this._loader&&(M.Dataflow.prototype.loader.call(this,B),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(mb(this,
"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(B,w,C,aa,fa,za){this.runAfter(eb=>{let fb=0;eb._autosize=0;eb.width()!==C&&(fb=1,eb.signal("width",C,Sc),eb._resizeWidth.skip(!0));eb.height()!==aa&&(fb=1,eb.signal("height",aa,Sc),eb._resizeHeight.skip(!0));eb._viewWidth!==B&&(eb._resize=1,eb._viewWidth=B);eb._viewHeight!==w&&(eb._resize=1,eb._viewHeight=w);if(eb._origin[0]!==fa[0]||eb._origin[1]!==fa[1])eb._resize=1,
eb._origin=fa;fb&&eb.run("enter");za&&eb.runAfter(ib=>ib.resize())},!1,1)},addEventListener(B,w,C){let aa=w;C&&!1===C.trap||(aa=va(this,w),aa.raw=w);this._handler.on(B,aa);return this},removeEventListener(B,w){for(var C=this._handler.handlers(B),aa=C.length,fa,za;0<=--aa;)if(za=C[aa].type,fa=C[aa].handler,B===za&&(w===fa||w===fa.raw)){this._handler.off(za,fa);break}return this},addResizeListener(B){const w=this._resizeListeners;0>w.indexOf(B)&&w.push(B);return this},removeResizeListener(B){var w=
this._resizeListeners;B=w.indexOf(B);0<=B&&w.splice(B,1);return this},addSignalListener(B,w){return Ob(this,B,mb(this,B),w)},removeSignalListener(B,w){return mc(this,mb(this,B),w)},addDataListener(B,w){return Ob(this,B,Ba(this,B).values,w)},removeDataListener(B,w){return mc(this,Ba(this,B).values,w)},globalCursor(B){if(arguments.length){if(this._globalCursor!==!!B){const w=fc(this,null);this._globalCursor=!!B;w&&fc(this,w)}return this}return this._globalCursor},preventDefault(B){return arguments.length?
(this._preventDefault=B,this):this._preventDefault},timer:function(B,w){this._timers.push(R(function(C){B({timestamp:Date.now(),elapsed:C})},w))},events:function(B,w,C){var aa=this,fa=new M.EventStream(C);C=function(ib,Vb){aa.runAsync(null,()=>{var oc;if(oc="view"===B){var qc=aa._eventConfig.defaults;oc=qc.prevent;qc=qc.allow;oc=!1===oc||!0===qc?!1:!0===oc||!1===qc?!0:oc?oc[w]:qc?!qc[w]:aa.preventDefault()}oc&&ib.preventDefault();oc=fa.receive;qc=(qc=aa._renderer)&&qc.canvas();if(qc){var Dc=Pa(aa);
var Fc=ib.changedTouches?ib.changedTouches[0]:ib;Fc=cb.point(Fc,qc);Fc[0]-=Dc[0];Fc[1]-=Dc[1]}ib.dataflow=aa;ib.item=Vb;ib.vega=Xa(aa,Vb,Fc);oc.call(fa,ib)})};var za;if("timer"===B)Aa(aa,"timer",w)&&aa.timer(C,w);else if("view"===B)Aa(aa,"view",w)&&aa.addEventListener(w,C,Lc);else if("window"===B?Aa(aa,"window",w)&&"undefined"!==typeof window&&(za=[window]):"undefined"!==typeof document&&Aa(aa,"selector",w)&&(za=document.querySelectorAll(B)),za){for(var eb=0,fb=za.length;eb<fb;++eb)za[eb].addEventListener(w,
C);pa(aa,za,w,C)}else aa.warn("Can not resolve event source: "+B);return fa},finalize:function(){var B=this._tooltip,w=this._timers,C=this._eventListeners,aa;for(aa=w.length;0<=--aa;)w[aa].stop();for(aa=C.length;0<=--aa;){var fa=C[aa];for(w=fa.sources.length;0<=--w;)fa.sources[w].removeEventListener(fa.type,fa.handler)}B&&B.call(this,this._handler,null,null,null);return this},hover:function(B,w){B=[B||"hover"];w=[w||"update",B[0]];this.on(this.events("view","mouseover",Ha),bb,$a(B));this.on(this.events("view",
"mouseout",Ha),bb,$a(w));return this},data:function(B,w){return 2>arguments.length?Ba(this,B).values.value:jb.call(this,B,M.changeset().remove(l.truthy).insert(w))},change:jb,insert:function(B,w){return jb.call(this,B,M.changeset().insert(w))},remove:function(B,w){return jb.call(this,B,M.changeset().remove(w))},scale:function(B){var w=this._runtime.scales;l.hasOwnProperty(w,B)||l.error("Unrecognized scale or projection: "+B);return w[B].value},initialize:function(B,w){const C=this;var aa=C._renderType;
const fa=C._eventConfig.bind;var za=cb.renderModule(aa);B=C._el=B?G(C,B,!0):null;nc(C);za||C.error("Unrecognized renderer type: "+aa);aa=za.handler||cb.CanvasHandler;za=B?za.renderer:za.headless;C._renderer=za?ya(C,C._renderer,B,za):null;C._handler=m(C,C._handler,B,aa);C._redraw=!0;B&&"none"!==fa&&(w=w?C._elBind=G(C,w,!0):B.appendChild(Ca("form",{"class":"vega-bindings"})),C._bind.forEach(eb=>{eb.param.element&&"container"!==fa&&(eb.element=G(C,eb.param.element,!!eb.param.input))}),C._bind.forEach(eb=>
{xb(C,eb.element||w,eb)}));return C},toImageURL:function(B,w){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){B!==cb.RenderType.Canvas&&B!==cb.RenderType.SVG&&B!==cb.RenderType.PNG&&l.error("Unrecognized image type: "+B);var aa=yield y(C,B,w);B===cb.RenderType.SVG?(aa=aa.svg(),aa=new Blob([aa],{type:"image/svg+xml"}),aa=window.URL.createObjectURL(aa)):aa=aa.canvas().toDataURL("image/png");return aa})},toCanvas:function(B,w){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield y(C,
cb.RenderType.Canvas,B,w)).canvas()})},toSVG:function(B){const w=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield y(w,cb.RenderType.SVG,B)).svg()})},getState:function(B){return this._runtime.getState(B||{data:K,signals:z,recurse:!0})},setState:function(B){this.runAsync(null,w=>{w._trigger=!1;w._runtime.setState(B)},w=>{w._trigger=!0});return this}});x.View=Za;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[50]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab):"function"===typeof define&&define.amd?define(["exports"],l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={}))})(this,function(x){function l(Gb,Db,fc,Ba,jb){const yb=Gb.length;let Ab=0,Pa;for(;Db<yb;++Db)if(Pa=Gb[Db],Ab||Pa!==fc)jb&&0<=jb.indexOf(Pa)?--Ab:Ba&&0<=Ba.indexOf(Pa)&&++Ab;else break;return Db}function M(Gb){const Db=[],fc=Gb.length;let Ba=0,jb=0;for(;jb<fc;)jb=l(Gb,
jb,",","[{","]}"),Db.push(Gb.substring(Ba,jb).trim()),Ba=++jb;if(0===Db.length)throw"Empty event selector: "+Gb;return Db}function cb(Gb){if("["===Gb[0]){var Db=Gb;var fc=Db.length;Gb=l(Db,1,"]","[","]");if(Gb===fc)throw"Empty between selector: "+Db;fc=M(Db.substring(1,Gb));if(2!==fc.length)throw"Between selector must have two elements: "+Db;Db=Db.slice(Gb+1).trim();if("\x3e"!==Db[0])throw"Expected '\x3e' after between selector: "+Db;fc=fc.map(cb);Db=cb(Db.slice(1).trim());Db.between?Db={between:fc,
stream:Db}:Db.between=fc}else{fc={source:nc};const Ba=[];let jb=[0,0],yb=0,Ab=0,Pa=Gb.length,Va=0,Xa;if("}"===Gb[Pa-1]){Va=Gb.lastIndexOf("{");if(0<=Va){try{jb=zb(Gb.substring(Va+1,Pa-1))}catch(Fa){throw"Invalid throttle specification: "+Gb;}Gb=Gb.slice(0,Va).trim();Pa=Gb.length}else throw"Unmatched right brace: "+Gb;Va=0}if(!Pa)throw Gb;"@"===Gb[0]&&(yb=++Va);Xa=l(Gb,Va,":");Xa<Pa&&(Ba.push(Gb.substring(Ab,Xa).trim()),Ab=Va=++Xa);Va=l(Gb,Va,"[");if(Va===Pa)Ba.push(Gb.substring(Ab,Pa).trim());else if(Ba.push(Gb.substring(Ab,
Va).trim()),Db=[],Ab=++Va,Ab===Pa)throw"Unmatched left bracket: "+Gb;for(;Va<Pa;){Va=l(Gb,Va,"]");if(Va===Pa)throw"Unmatched left bracket: "+Gb;Db.push(Gb.substring(Ab,Va).trim());if(Va<Pa-1&&"["!==Gb[++Va])throw"Expected left bracket: "+Gb;Ab=++Va}if(!(Pa=Ba.length)||Zb.test(Ba[Pa-1]))throw"Invalid event selector: "+Gb;1<Pa?(fc.type=Ba[1],yb?fc.markname=Ba[0].slice(1):Tb[Ba[0]]?fc.marktype=Ba[0]:fc.source=Ba[0]):fc.type=Ba[0];"!"===fc.type.slice(-1)&&(fc.consume=!0,fc.type=fc.type.slice(0,-1));null!=
Db&&(fc.filter=Db);jb[0]&&(fc.throttle=jb[0]);jb[1]&&(fc.debounce=jb[1]);Db=fc}return Db}function zb(Gb){const Db=Gb.split(",");if(!Gb.length||2<Db.length)throw Gb;return Db.map(fc=>{fc=+fc;if(fc!==fc)throw Gb;return fc})}const Zb=/[[\]{}]/,gc={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let nc,Tb;x.parseSelector=function(Gb,Db,fc){nc=Db||"view";Tb=fc||gc;return M(Gb.trim()).map(cb)};Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[51]=function(Hb,vb,Ac,ab){(function(x,l){"object"===typeof ab&&"undefined"!==typeof Ac?l(ab,vb(20),vb(47),vb(50),vb(32),vb(28)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),l):(x="undefined"!==typeof globalThis?globalThis:x||self,l(x.vega={},x.vega,x.vega,x.vega,x.vega,x.vega))})(this,function(x,l,M,cb,zb,Zb){function gc(n){return l.isObject(n)?n:{type:n||"pad"}}function nc(n){l.isObject(n)?
n=n.signal?n:{top:+n.top||0,bottom:+n.bottom||0,left:+n.left||0,right:+n.right||0}:(n=+n||0,n={top:n,bottom:n,left:n,right:n});return n}function Tb(n,J,da,Ja){return null!=da?(l.isObject(da)&&!l.isArray(da)||l.isArray(da)&&da.length&&l.isObject(da[0])?n.update[J]=da:n[Ja||"enter"][J]={value:da},1):0}function Gb(n,J,da){for(const Ja in J)Tb(n,Ja,J[Ja]);for(const Ja in da)Tb(n,Ja,da[Ja],"update")}function Db(n,J,da){for(const Ja in J)da&&l.hasOwnProperty(da,Ja)||(n[Ja]=l.extend(n[Ja]||{},J[Ja]));return n}
function fc(n,J){return J&&(J.enter&&J.enter[n]||J.update&&J.update[n])}function Ba(n,J,da,Ja,Sa){const Ua={},Pb={};let bc,Ub;Ub="lineBreak";"text"!==J||null==Sa[Ub]||fc(Ub,n)||jb(Ua,Ub,Sa[Ub]);if("legend"==da||String(da).startsWith("axis"))da=null;da="frame"===da?Sa.group:"mark"===da?l.extend({},Sa.mark,Sa[J]):null;for(Ub in da)(J=fc(Ub,n)||("fill"===Ub||"stroke"===Ub)&&(fc("fill",n)||fc("stroke",n)))||jb(Ua,Ub,da[Ub]);l.array(Ja).forEach(yc=>{yc=Sa.style&&Sa.style[yc];for(const Rb in yc)fc(Rb,n)||
jb(Ua,Rb,yc[Rb])});n=l.extend({},n);for(Ub in Ua)da=Ua[Ub],da.signal?(bc=bc||{})[Ub]=da:Pb[Ub]=da;n.enter=l.extend(Pb,n.enter);bc&&(n.update=l.extend(bc,n.update));return n}function jb(n,J,da){n[J]=da&&da.signal?{signal:da.signal}:{value:da}}function yb(n){if(null!=n.gradient)return Ab(n);if(n.signal)var J=`(${n.signal})`;else n.color?(J=n.color,J=J.c?Ed("hcl",J.h,J.c,J.l):J.h||J.s?Ed("hsl",J.h,J.s,J.l):J.l||J.a?Ed("lab",J.l,J.a,J.b):J.r||J.g||J.b?Ed("rgb",J.r,J.g,J.b):null):J=null!=n.field?Va(n.field):
void 0!==n.value?l.stringValue(n.value):void 0;if(null!=n.scale){const da=nd(n.scale);null!=n.range?J=`lerp(_range(${da}), ${+n.range})`:(void 0!==J&&(J=`_scale(${da}, ${J})`),n.band&&(J=(J?J+"+":"")+`_bandwidth(${da})`+(1===+n.band?"":"*"+Pa(n.band)),n.extra&&(J=`(datum.extra ? _scale(${da}, datum.extra.value) : ${J})`)),null==J&&(J="0"))}void 0===J&&(J=null);null!=n.exponent&&(J=`pow(${J},${Pa(n.exponent)})`);null!=n.mult&&(J+=`*${Pa(n.mult)}`);null!=n.offset&&(J+=`+${Pa(n.offset)}`);n.round&&(J=
`round(${J})`);return J}function Ab(n){const J=[n.start,n.stop,n.count].map(da=>null==da?null:l.stringValue(da));for(;J.length&&null==l.peek(J);)J.pop();J.unshift(nd(n.gradient));return`gradient(${J.join(",")})`}function Pa(n){return l.isObject(n)?"("+yb(n)+")":n}function Va(n){return Xa(l.isObject(n)?n:{datum:n})}function Xa(n){let J;if(n.signal){J="datum";var da=n.signal}else if(n.group||n.parent){da=Math.max(1,n.level||1);for(J="item";0<da--;)J+=".mark.group";n.parent?(da=n.parent,J+=".datum"):
da=n.group}else n.datum?(J="datum",da=n.datum):l.error("Invalid field reference: "+l.stringValue(n));n.signal||(da=l.isString(da)?l.splitAccessPath(da).map(l.stringValue).join("]["):Xa(da));return J+"["+da+"]"}function Fa(n){let J="";n.forEach(da=>{const Ja=yb(da);J+=da.test?`(${da.test})?${Ja}:`:Ja});":"===l.peek(J)&&(J+="null");return J}function pa(n,J,da,Ja,Sa,Ua){const Pb={};Ua=Ua||{};Ua.encoders={$encode:Pb};n=Ba(n,J,da,Ja,Sa.config);for(const Kc in n){da=n[Kc];Ja=J;var bc=Ua,Ub=Sa;const Od=
{},od={};for(const Md in da)if(null!=da[Md]){var yc=Aa;var Rb=da[Md];Rb=l.isArray(Rb)?Fa(Rb):yb(Rb);Od[Md]=yc(Rb,Ub,bc,od)}da={$expr:{marktype:Ja,channels:Od},$fields:Object.keys(od),$output:Object.keys(da)};Pb[Kc]=da}return Ua}function Aa(n,J,da,Ja){n=M.parseExpression(n,J);n.$fields.forEach(Sa=>Ja[Sa]=1);l.extend(da,n.$params);return n.$expr}function Ha(n,J){l.error(n+' for "outer" push: '+l.stringValue(J))}function bb(n,J){const da=n.name;if("outer"===n.push)J.signals[da]||Ha("No prior signal definition",
da),Wd.forEach(Ja=>{void 0!==n[Ja]&&Ha("Invalid property ",Ja)});else{const Ja=J.addSignal(da,n.value);!1===n.react&&(Ja.react=!1);n.bind&&J.addBinding(da,n.bind)}}function $a(n,J,da,Ja){this.id=-1;this.type=n;this.value=J;this.params=da;Ja&&(this.parent=Ja)}function Ca(n){const J={$ref:n.id};0>n.id&&(n.refs=n.refs||[]).push(J);return J}function Cb(n,J){return J?{$field:n,$name:J}:{$field:n}}function xb(n,J){n={$key:n};J&&(n.$flat=!0);return n}function Mb(n,J){return(n&&n.signal?"$"+n.signal:n||"")+
(n&&J?"_":"")+(J&&J.signal?"$"+J.signal:J||"")}function kc(n){return n&&n.signal}function pb(n){if(kc(n))return!0;if(l.isObject(n))for(const J in n)if(pb(n[J]))return!0;return!1}function ca(n,J){return null!=n?n:J}function O(n){return n&&n.signal||n}function oa(n,J){return(n.merge?ra:n.stream?Oa:n.type?ya:l.error("Invalid stream specification: "+l.stringValue(n)))(n,J)}function ra(n,J){const da=n.merge.map(Ja=>oa(Ja,J));n=va({merge:da},n,J);return J.addStream(n).id}function Oa(n,J){const da=oa(n.stream,
J);n=va({stream:da},n,J);return J.addStream(n).id}function ya(n,J){if("timer"===n.type){var da=J.event("timer",n.throttle);n={between:n.between,filter:n.filter}}else da=n.source,da=J.event.call(J,"scope"===da?"view":da||"view",n.type);n=va({stream:da},n,J);return 1===Object.keys(n).length?da:J.addStream(n).id}function va(n,J,da){let Ja=J.between;Ja&&(2!==Ja.length&&l.error('Stream "between" parameter must have 2 entries: '+l.stringValue(J)),n.between=[oa(Ja[0],da),oa(Ja[1],da)]);Ja=J.filter?[].concat(J.filter):
[];if(J.marktype||J.markname||J.markrole){var Sa=Ja,Ua=J.marktype,Pb=J.markname,bc=J.markrole;Sa.push.call(Sa,"event.item"+(Ua&&"*"!==Ua?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Ua+"'":"")+(bc?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+bc+"'":"")+(Pb?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Pb+"'":""))}"scope"===J.source&&Ja.push("inScope(event.item)");Ja.length&&(n.filter=M.parseExpression("("+Ja.join(")\x26\x26(")+")",da).$expr);null!=(Ja=J.throttle)&&(n.throttle=+Ja);null!=(Ja=J.debounce)&&
(n.debounce=+Ja);J.consume&&(n.consume=!0);return n}function m(n,J,da){const Ja=n.encode,Sa={target:da};da=n.events;let Ua=n.update,Pb=[];da||l.error("Signal update missing events specification.");l.isString(da)&&(da=cb.parseSelector(da,J.isSubscope()?"scope":"view"));da=l.array(da).filter(bc=>bc.signal||bc.scale?(Pb.push(bc),0):1);1<Pb.length&&(Pb=[G(Pb)]);da.length&&Pb.push(1<da.length?{merge:da}:da[0]);null!=Ja&&(Ua&&l.error("Signal encode and update are mutually exclusive."),Ua="encode(item(),"+
l.stringValue(Ja)+")");Sa.update=l.isString(Ua)?M.parseExpression(Ua,J):null!=Ua.expr?M.parseExpression(Ua.expr,J):null!=Ua.value?Ua.value:null!=Ua.signal?{$expr:ce,$params:{$value:J.signalRef(Ua.signal)}}:l.error("Invalid signal update specification.");n.force&&(Sa.options={force:!0});Pb.forEach(bc=>{var Ub=J.addUpdate,yc=l.extend;bc={source:bc.signal?J.signalRef(bc.signal):bc.scale?J.scaleRef(bc.scale):oa(bc,J)};return Ub.call(J,yc.call(l,bc,Sa))})}function G(n){return{signal:"["+n.map(J=>J.scale?
'scale("'+J.scale+'")':J.signal)+"]"}}function Q(n,J){const da=J.getSignal(n.name);let Ja=n.update;n.init&&(Ja?l.error("Signals can not include both init and update expressions."):(Ja=n.init,da.initonly=!0));Ja&&(Ja=M.parseExpression(Ja,J),da.update=Ja.$expr,da.params=Ja.$params);n.on&&n.on.forEach(Sa=>m(Sa,J,da.id))}function y(n,J){return l.isObject(n)?n.signal?J.signalRef(n.signal):l.error("Unsupported object: "+l.stringValue(n)):n}function t(n,J){return n.signal?J.signalRef(n.signal):n.map(da=>
y(da,J))}function H(n){l.error("Can not find data set: "+l.stringValue(n))}function V(n,J,da){if(n)return n.signal?da.signalRef(n.signal):(l.isArray(n)?E:n.fields?z:K)(n,J,da);null==J.domainMin&&null==J.domainMax||l.error("No scale domain defined for domainMin/domainMax to override.")}function E(n,J,da){return n.map(Ja=>y(Ja,da))}function K(n,J,da){const Ja=da.getData(n.data);Ja||H(n.data);return zb.isDiscrete(J.type)?Ja.valuesRef(da,n.field,X(n.sort,!1)):zb.isQuantile(J.type)?Ja.domainRef(da,n.field):
Ja.extentRef(da,n.field)}function z(n,J,da){const Ja=n.data,Sa=n.fields.reduce((Ua,Pb)=>{if(l.isString(Pb))Pb={data:Ja,field:Pb};else if(l.isArray(Pb)||Pb.signal){var bc=Pb;Pb="_:vega:_"+cd++;const Ub=Ne({});l.isArray(bc)?Ub.value={$ingest:bc}:bc.signal&&(bc="setdata("+l.stringValue(Pb)+","+bc.signal+")",Ub.params.input=da.signalRef(bc));da.addDataPipeline(Pb,[Ub,fe({})]);Pb={data:Pb,field:"data"}}Ua.push(Pb);return Ua},[]);return(zb.isDiscrete(J.type)?L:zb.isQuantile(J.type)?qa:T)(n,da,Sa)}function L(n,
J,da){const Ja=X(n.sort,!0);n=da.map(Ua=>{const Pb=J.getData(Ua.data);Pb||H(Ua.data);return Pb.countsRef(J,Ua.field,Ja)});const Sa={groupby:ke,pulse:n};Ja&&(n=Ja.op||"count",da=Ja.field?Mb(n,Ja.field):"count",Sa.ops=[qd[n]],Sa.fields=[J.fieldRef(da)],Sa.as=[da]);n=J.add(Ve(Sa));n=J.add(Ne({pulse:Ca(n)}));da=J.add(Gd({field:ke,sort:J.sortRef(Ja),pulse:Ca(n)}));return Ca(da)}function X(n,J){n&&(n.field||n.op?n.field||"count"===n.op?J&&n.field&&n.op&&!qd[n.op]&&l.error("Multiple domain scales can not be sorted using "+
n.op):l.error("No field provided for sort aggregate op: "+n.op):l.isObject(n)?n.field="key":n={field:"key"});return n}function qa(n,J,da){n=da.map(Ja=>{const Sa=J.getData(Ja.data);Sa||H(Ja.data);return Sa.domainRef(J,Ja.field)});return Ca(J.add(sb({values:n})))}function T(n,J,da){n=da.map(Ja=>{const Sa=J.getData(Ja.data);Sa||H(Ja.data);return Sa.extentRef(J,Ja.field)});return Ca(J.add(Ga({extents:n})))}function la(n,J,da){const Ja=J.config.range;let Sa=n.range;if(Sa.signal)return J.signalRef(Sa.signal);
if(l.isString(Sa)){if(Ja&&l.hasOwnProperty(Ja,Sa))return n=l.extend({},n,{range:Ja[Sa]}),la(n,J,da);"width"===Sa?Sa=[0,{signal:"width"}]:"height"===Sa?Sa=zb.isDiscrete(n.type)?[0,{signal:"height"}]:[{signal:"height"},0]:l.error("Unrecognized scale range value: "+l.stringValue(Sa))}else{if(Sa.scheme){da.scheme=l.isArray(Sa.scheme)?t(Sa.scheme,J):y(Sa.scheme,J);Sa.extent&&(da.schemeExtent=t(Sa.extent,J));Sa.count&&(da.schemeCount=y(Sa.count,J));return}if(Sa.step){da.rangeStep=y(Sa.step,J);return}if(zb.isDiscrete(n.type)&&
!l.isArray(Sa))return V(Sa,n,J);l.isArray(Sa)||l.error("Unsupported range type: "+l.stringValue(Sa))}return Sa.map(Ua=>(l.isArray(Ua)?t:y)(Ua,J))}function xa(n,J,da){return l.isArray(n)?n.map(Ja=>xa(Ja,J,da)):l.isObject(n)?n.signal?da.signalRef(n.signal):"fit"===J?n:l.error("Unsupported parameter object: "+l.stringValue(n)):n}function R(n){n.type="group";n.interactive=n.interactive||!1;return n}function ka(n,J){const da=(Ja,Sa)=>ca(n[Ja],ca(J[Ja],Sa));da.isVertical=Ja=>"vertical"===ca(n.direction,
J.direction||(Ja?J.symbolDirection:J.gradientDirection));da.gradientLength=()=>ca(n.gradientLength,J.gradientLength||J.gradientWidth);da.gradientThickness=()=>ca(n.gradientThickness,J.gradientThickness||J.gradientHeight);da.entryColumns=()=>ca(n.columns,ca(J.columns,+da.isVertical(!0)));return da}function Ka(n,J){return(n=J&&(J.update&&J.update[n]||J.enter&&J.enter[n]))&&n.signal?n:n?n.value:null}function kb(n,J,da){return`item.anchor === '${"start"}' ? ${n} : item.anchor === '${"end"}' ? ${J} : ${da}`}
function Za(n,J){return J?n?l.isObject(n)?Object.assign({},n,{offset:Za(n.offset,J)}):{value:n,offset:J}:J:n}function mb(n,J){J?(n.name=J.name,n.style=J.style||n.style,n.interactive=!!J.interactive,n.encode=Db(n.encode,J,sd)):n.interactive=!1;return n}function Ra(n,J,da,Ja){n=ka(n,da);da=n.isVertical();var Sa=n.gradientThickness();const Ua=n.gradientLength();let Pb,bc,Ub;da?(da=[0,1],bc=[0,0],Ub=Sa,Sa=Ua):(da=[0,0],bc=[1,0],Ub=Ua);Sa={enter:Pb={opacity:Fd,x:Fd,y:Fd,width:bd(Ub),height:bd(Sa)},update:l.extend({},
Pb,{opacity:be,fill:{gradient:J,start:da,stop:bc}}),exit:{opacity:Fd}};Gb(Sa,{stroke:n("gradientStrokeColor"),strokeWidth:n("gradientStrokeWidth")},{opacity:n("gradientOpacity")});return mb({type:"rect",role:"legend-gradient",encode:Sa},Ja)}function Ob(n,J,da,Ja,Sa){n=ka(n,da);const Ua=n.isVertical();da=n.gradientThickness();const Pb=n.gradientLength();var bc;let Ub,yc,Rb,Kc="";Ua?(bc="y",yc="y2",Ub="x",Rb="width",Kc="1-"):(bc="x",yc="x2",Ub="y",Rb="height");J={opacity:Fd,fill:{scale:J,field:"value"}};
J[bc]={signal:Kc+"datum.perc",mult:Pb};J[Ub]=Fd;J[yc]={signal:Kc+"datum.perc2",mult:Pb};J[Rb]=bd(da);bc={enter:J,update:l.extend({},J,{opacity:be}),exit:{opacity:Fd}};Gb(bc,{stroke:n("gradientStrokeColor"),strokeWidth:n("gradientStrokeWidth")},{opacity:n("gradientOpacity")});return mb({type:"rect",role:"legend-band",key:"value",from:Sa,encode:bc},Ja)}function mc(n,J,da,Ja){const Sa=ka(n,J);var Ua=Sa.isVertical();const Pb=bd(Sa.gradientThickness()),bc=Sa.gradientLength();let Ub=Sa("labelOverlap"),
yc,Rb,Kc,Od="";const od={enter:yc={opacity:Fd},update:Rb={opacity:be,text:{field:"label"}},exit:{opacity:Fd}};Gb(od,{fill:Sa("labelColor"),fillOpacity:Sa("labelOpacity"),font:Sa("labelFont"),fontSize:Sa("labelFontSize"),fontStyle:Sa("labelFontStyle"),fontWeight:Sa("labelFontWeight"),limit:ca(n.labelLimit,J.gradientLabelLimit)});Ua?(yc.align={value:"left"},yc.baseline=Rb.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Ua="y",Kc="x",Od="1-"):(yc.align=Rb.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},
yc.baseline={value:"top"},Ua="x",Kc="y");yc[Ua]=Rb[Ua]={signal:Od+"datum.perc",mult:bc};yc[Kc]=Rb[Kc]=Pb;Pb.offset=ca(n.labelOffset,J.gradientLabelOffset)||0;Ub=Ub?{separation:Sa("labelSeparation"),method:Ub,order:"datum.index"}:void 0;return mb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Ja,encode:od,overlap:Ub},da)}function Lc(n,J,da,Ja,Sa){var Ua=ka(n,J);const Pb=da.entries,bc=!(!Pb||!Pb.interactive),Ub=Pb?Pb.name:void 0,yc=Ua("clipHeight"),Rb=Ua("symbolOffset"),Kc={data:"value"},
Od=`(${Sa}) ? datum.${"offset"} : datum.${"size"}`,od=yc?bd(yc):{field:"size"},Md=`max(1, ${Sa})`;let hd,Mc;od.mult=.5;var dd={enter:hd={opacity:Fd,x:{signal:Od,mult:.5,offset:Rb},y:od},update:Mc={opacity:be,x:hd.x,y:hd.y},exit:{opacity:Fd}};let Pd=null,Xd=null;n.fill||(Pd=J.symbolBaseFillColor,Xd=J.symbolBaseStrokeColor);Gb(dd,{fill:Ua("symbolFillColor",Pd),shape:Ua("symbolType"),size:Ua("symbolSize"),stroke:Ua("symbolStrokeColor",Xd),strokeDash:Ua("symbolDash"),strokeDashOffset:Ua("symbolDashOffset"),
strokeWidth:Ua("symbolStrokeWidth")},{opacity:Ua("symbolOpacity")});fd.forEach(oe=>{n[oe]&&(Mc[oe]=hd[oe]={scale:n[oe],field:"value"})});J=mb({type:"symbol",role:"legend-symbol",key:"value",from:Kc,clip:yc?!0:void 0,encode:dd},da.symbols);dd=bd(Rb);dd.offset=Ua("labelOffset");dd={enter:hd={opacity:Fd,x:{signal:Od,offset:dd},y:od},update:Mc={opacity:be,text:{field:"label"},x:hd.x,y:hd.y},exit:{opacity:Fd}};Gb(dd,{align:Ua("labelAlign"),baseline:Ua("labelBaseline"),fill:Ua("labelColor"),fillOpacity:Ua("labelOpacity"),
font:Ua("labelFont"),fontSize:Ua("labelFontSize"),fontStyle:Ua("labelFontStyle"),fontWeight:Ua("labelFontWeight"),limit:Ua("labelLimit")});da=mb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Kc,encode:dd},da.labels);dd={enter:{noBound:{value:!yc},width:Fd,height:yc?bd(yc):Fd,opacity:Fd},exit:{opacity:Fd},update:Mc={opacity:be,row:{signal:null},column:{signal:null}}};Ua.isVertical(!0)?(Ua=`ceil(item.mark.items.length / ${Md})`,Mc.row.signal=`${"datum.index"}%${Ua}`,Mc.column.signal=
`floor(${"datum.index"} / ${Ua})`,Ua={field:["row","datum.index"]}):(Mc.row.signal=`floor(${"datum.index"} / ${Md})`,Mc.column.signal=`${"datum.index"} % ${Md}`,Ua={field:"datum.index"});Mc.column.signal=`(${Sa})?${Mc.column.signal}:${"datum.index"}`;Ja={facet:{data:Ja,name:"value",groupby:"index"}};return R({role:"scope",from:Ja,encode:Db(dd,Pb,sd),marks:[J,da],name:Ub,interactive:bc,sort:Ua})}function wc(n,J){n=ka(n,J);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},
padding:{row:n("rowPadding"),column:n("columnPadding")}}}function tc(n,J,da,Ja){J=ka(n,J);const Sa={enter:{opacity:Fd},update:{opacity:be,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Fd}};Gb(Sa,{orient:J("titleOrient"),_anchor:J("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:ff},baseline:{signal:jf},text:n.title,fill:J("titleColor"),fillOpacity:J("titleOpacity"),font:J("titleFont"),fontSize:J("titleFontSize"),fontStyle:J("titleFontStyle"),fontWeight:J("titleFontWeight"),limit:J("titleLimit"),lineHeight:J("titleLineHeight")},{align:J("titleAlign"),baseline:J("titleBaseline")});return mb({type:"text",role:"legend-title",style:"guide-title",from:Ja,encode:Sa},da)}function jc(n,J){let da;l.isObject(n)&&(n.signal?da=n.signal:n.path?da="pathShape("+Sc(n.path)+
")":n.sphere&&(da="geoShape("+Sc(n.sphere)+', {type: "Sphere"})'));return da?J.signalRef(da):!!n}function Sc(n){return l.isObject(n)&&n.signal?n.signal:l.stringValue(n)}function Ta(n){const J=n.role||"";return J.indexOf("axis")&&J.indexOf("legend")&&J.indexOf("title")?"group"===n.type?"scope":J||"mark":J}function Ea(n){return{marktype:n.type,name:n.name||void 0,role:n.role||Ta(n),zindex:+n.zindex||void 0,aria:n.aria,description:n.description}}function ob(n,J){return n&&n.signal?J.signalRef(n.signal):
!1===n?!1:!0}function lb(n,J){const da=Zb.definition(n.type);da||l.error("Unrecognized transform type: "+l.stringValue(n.type));var Ja=da.type.toLowerCase();var Sa=Fb(da,n,J);Ja=new $a(Ja,null,Sa,void 0);n.signal&&J.addSignal(n.signal,J.proxy(Ja));Ja.metadata=da.metadata||{};return Ja}function Fb(n,J,da){const Ja={},Sa=n.params.length;for(let Ua=0;Ua<Sa;++Ua){const Pb=n.params[Ua];Ja[Pb.name]=Wb(Pb,J,da)}return Ja}function Wb(n,J,da){const Ja=n.type,Sa=J[n.name];if("index"===Ja)return ic(n,J,da);
if(void 0===Sa)n.required&&l.error("Missing required "+l.stringValue(J.type)+" parameter: "+l.stringValue(n.name));else return"param"===Ja?xc(n,J,da):"projection"===Ja?da.projectionRef(J[n.name]):n.array&&!kc(Sa)?Sa.map(Ua=>Xb(n,Ua,da)):Xb(n,Sa,da)}function Xb(n,J,da){const Ja=n.type;return kc(J)?"expr"===Ja?l.error("Expression references can not be signals."):"field"===Ja?da.fieldRef(J):"compare"===Ja?da.compareRef(J):da.signalRef(J.signal):(n=n.expr||"field"===Ja)&&J&&J.expr?da.exprRef(J.expr,J.as):
n&&J&&J.field?Cb(J.field,J.as):"expr"===Ja?M.parseExpression(J,da):"data"===Ja?Ca(da.getData(J).values):"field"===Ja?Cb(J):"compare"===Ja?da.compareRef(J):J}function ic(n,J,da){l.isString(J.from)||l.error('Lookup "from" parameter must be a string literal.');return da.getData(J.from).lookupRef(da,J.key)}function xc(n,J,da){J=J[n.name];return n.array?(l.isArray(J)||l.error("Expected an array of sub-parameters. Instead: "+l.stringValue(J)),J.map(Ja=>kd(n,Ja,da))):kd(n,J,da)}function kd(n,J,da){const Ja=
n.params.length;let Sa;for(let Ua=0;Ua<Ja;++Ua){Sa=n.params[Ua];for(const Pb in Sa.key)if(Sa.key[Pb]!==J[Pb]){Sa=null;break}if(Sa)break}Sa||l.error("Unsupported parameter: "+l.stringValue(J));n=l.extend(Fb(Sa,J,da),Sa.key);return Ca(da.add(Uc(n)))}function B(n,J,da){let Ja,Sa,Ua,Pb;if(!n)Ua=Ca(da.add(Ne(null,[{}])));else if(Ja=n.facet)J||l.error("Only group marks can be faceted."),null!=Ja.field?Ua=Pb=w(Ja,da):(n.data?Pb=Ca(da.getData(n.data).aggregate):(J=lb(l.extend({type:"aggregate",groupby:l.array(Ja.groupby)},
Ja.aggregate),da),J.params.key=da.keyRef(Ja.groupby),J.params.pulse=w(Ja,da),Ua=Pb=Ca(da.add(J))),Sa=da.keyRef(Ja.groupby,!0));Ua||(Ua=w(n,da));return{key:Sa,pulse:Ua,parent:Pb}}function w(n,J){return n.$ref?n:n.data&&n.data.$ref?n.data:Ca(J.getData(n.data).output)}function C(n,J,da,Ja,Sa){this.scope=n;this.input=J;this.output=da;this.values=Ja;this.aggregate=Sa;this.index={}}function aa(n){return l.isString(n)?n:null}function fa(n,J,da){const Ja=Mb(da.op,da.field);let Sa;if(J.ops)for(let Ua=0,Pb=
J.as.length;Ua<Pb;++Ua){if(J.as[Ua]===Ja)return}else J.ops=["count"],J.fields=[null],J.as=["count"];da.op&&(J.ops.push((Sa=da.op.signal)?n.signalRef(Sa):da.op),J.fields.push(n.fieldRef(da.field)),J.as.push(Ja))}function za(n,J,da,Ja,Sa,Ua,Pb){da=J[da]||(J[da]={});var bc=l.isObject(Ua)?("descending"===Ua.order?"-":"+")+Mb(Ua.op,Ua.field):"";let Ub=aa(Sa);if(null!=Ub){n=J.scope;Ub+=bc?"|"+bc:"";var yc=da[Ub]}yc||(yc=Ua?{field:ke,pulse:J.countsRef(n,Sa,Ua)}:{field:n.fieldRef(Sa),pulse:Ca(J.output)},
bc&&(yc.sort=n.sortRef(Ua)),n=n.add(new $a(Ja,void 0,yc,void 0)),Pb&&(J.index[Sa]=n),yc=Ca(n),null!=Ub&&(da[Ub]=yc));return yc}function eb(n,J,da){var Ja=n.from.facet;const Sa=Ja.name,Ua=w(Ja,J);let Pb;Ja.name||l.error("Facet must have a name: "+l.stringValue(Ja));Ja.data||l.error("Facet must reference a data set: "+l.stringValue(Ja));Ja.field?Pb=J.add(Vc({field:J.fieldRef(Ja.field),pulse:Ua})):Ja.groupby?Pb=J.add(Da({key:J.keyRef(Ja.groupby),group:Ca(J.proxy(da.parent)),pulse:Ua})):l.error("Facet must specify groupby or field: "+
l.stringValue(Ja));J=J.fork();da=J.add(Ne());Ja=J.add(fe({pulse:Ca(da)}));J.addData(Sa,new C(J,da,da,Ja));J.addSignal("parent",null);Pb.params.subflow={$subflow:J.parse(n).toRuntime()}}function fb(n,J,da){da=J.add(Vc({pulse:da.pulse}));J=J.fork();J.add(fe());J.addSignal("parent",null);da.params.subflow={$subflow:J.parse(n).toRuntime()}}function ib(n,J,da){const Ja=n.remove,Sa=n.insert,Ua=n.toggle,Pb=n.modify,bc=n.values,Ub=J.add(new $a("operator",void 0,void 0,void 0));n="if("+n.trigger+',modify("'+
da+'",'+[Sa,Ja,Ua,Pb,bc].map(yc=>null==yc?"null":yc).join(",")+"),0)";J=M.parseExpression(n,J);Ub.update=J.$expr;Ub.params=J.$params}function Vb(n,J){var da=Ta(n),Ja="group"===n.type,Sa=n.from&&n.from.facet;const Ua=n.overlap;let Pb=n.layout||"scope"===da||"frame"===da,bc,Ub,yc,Rb,Kc,Od;const od="mark"===da||Pb||Sa,Md=B(n.from,Ja,J);Ub=J.add(Se({key:Md.key||(n.key?Cb(n.key):void 0),pulse:Md.pulse,clean:!Ja}));const hd=Ca(Ub);Ub=yc=J.add(Ne({pulse:hd}));Ub=J.add(ma({markdef:Ea(n),interactive:ob(n.interactive,
J),clip:jc(n.clip,J),context:{$context:!0},groups:J.lookup(),parent:J.signals.parent?J.signalRef("parent"):null,index:J.markpath(),pulse:Ca(Ub)}));var Mc=Ca(Ub);Ub=Rb=J.add(F(pa(n.encode,n.type,da,n.style,J,{mod:!1,pulse:Mc})));Ub.params.parent=J.encode();n.transform&&n.transform.forEach(Pd=>{Pd=lb(Pd,J);const Xd=Pd.metadata;(Xd.generates||Xd.changes)&&l.error("Mark transforms should not generate new data.");Xd.nomod||(Rb.params.mod=!0);Pd.params.pulse=Ca(Ub);J.add(Ub=Pd)});n.sort&&(Ub=J.add(Ae({sort:J.compareRef(n.sort),
pulse:Ca(Ub)})));da=Ca(Ub);if(Sa||Pb)Pb=J.add(Pc({layout:J.objectProperty(n.layout),legends:J.legends,mark:Mc,pulse:da})),Od=Ca(Pb);const dd=J.add(hf({mark:Mc,pulse:Od||da}));Mc=Ca(dd);Ja&&(od&&(bc=J.operators,bc.pop(),Pb&&bc.pop()),J.pushState(da,Od||Mc,hd),Sa?eb(n,J,Md):od?fb(n,J,Md):J.parse(n),J.popState(),od&&(Pb&&bc.push(Pb),bc.push(dd)));Ua&&(Mc=oc(Ua,Mc,J));Ja=J.add(De({pulse:Mc}));Sa=J.add(fe({pulse:Ca(Ja)},void 0,J.parent()));null!=n.name&&(Kc=n.name,J.addData(Kc,new C(J,yc,Ja,Sa)),n.on&&
n.on.forEach(Pd=>{(Pd.insert||Pd.remove||Pd.toggle)&&l.error("Marks only support modify triggers.");ib(Pd,J,Kc)}))}function oc(n,J,da){const Ja=n.method,Sa=n.bound,Ua=n.separation;J={separation:kc(Ua)?da.signalRef(Ua.signal):Ua,method:kc(Ja)?da.signalRef(Ja.signal):Ja,pulse:J};n.order&&(J.sort=da.compareRef({field:n.order}));Sa&&(n=Sa.tolerance,J.boundTolerance=kc(n)?da.signalRef(n.signal):+n,J.boundScale=da.scaleRef(Sa.scale),J.boundOrient=Sa.orient);return Ca(da.add(hc(J)))}function qc(n,J){const da=
J.config.legend,Ja=n.encode||{},Sa=ka(n,da),Ua=Ja.legend||{},Pb=Ua.name||void 0,bc=Ua.interactive,Ub=Ua.style,yc={};let Rb=0,Kc,Od;fd.forEach(dd=>n[dd]?(yc[dd]=n[dd],Rb=Rb||n[dd]):0);Rb||l.error("Missing valid scale for legend.");var od=Dc(n,J.scaleType(Rb));const Md={title:null!=n.title,scales:yc,type:od,vgrad:"symbol"!==od&&Sa.isVertical()},hd=Ca(J.add(Ne(null,[Md]))),Mc=Ca(J.add(uc(Od={type:od,scale:J.scaleRef(Rb),count:J.objectProperty(Sa("tickCount")),limit:J.property(Sa("symbolLimit")),values:J.objectProperty(n.values),
minstep:J.property(n.tickMinStep),formatType:J.property(n.formatType),formatSpecifier:J.property(n.format)})));"gradient"===od?(od=[Ra(n,Rb,da,Ja.gradient),mc(n,da,Ja.labels,Mc)],Od.count=Od.count||J.signalRef(`max(2,2*floor((${O(Sa.gradientLength())})/100))`)):"discrete"===od?od=[Ob(n,Rb,da,Ja.gradient,Mc),mc(n,da,Ja.labels,Mc)]:(Kc=wc(n,da),od=[Lc(n,da,Ja,Mc,O(Kc.columns))],Od.size=xd(n,J,od[0].marks));od=[R({role:"legend-entry",from:hd,encode:{enter:{x:{value:0},y:{value:0}}},marks:od,layout:Kc,
interactive:bc})];Md.title&&od.push(tc(n,da,Ja.title,hd));return Vb(R({role:"legend",from:hd,encode:Db(Zc(Sa,n,da),Ua,sd),marks:od,aria:Sa("aria"),description:Sa("description"),zindex:Sa("zindex"),name:Pb,interactive:bc,style:Ub}),J)}function Dc(n,J){let da=n.type||"symbol";n.type||1!==Fc(n)||!n.fill&&!n.stroke||(da=zb.isContinuous(J)?"gradient":zb.isDiscretizing(J)?"discrete":"symbol");return"gradient"!==da?da:zb.isDiscretizing(J)?"discrete":"gradient"}function Fc(n){return fd.reduce((J,da)=>J+(n[da]?
1:0),0)}function Zc(n,J,da){const Ja={enter:{},update:{}};Gb(Ja,{orient:n("orient"),offset:n("offset"),padding:n("padding"),titlePadding:n("titlePadding"),cornerRadius:n("cornerRadius"),fill:n("fillColor"),stroke:n("strokeColor"),strokeWidth:da.strokeWidth,strokeDash:da.strokeDash,x:n("legendX"),y:n("legendY"),format:J.format,formatType:J.formatType});return Ja}function xd(n,J,da){const Ja=O(Hd("size",n,da));n=O(Hd("strokeWidth",n,da));(da=Ka("fontSize",da[1].encode))||(da=(da=J.config.style["guide-label"])&&
da.fontSize);da=O(da);return M.parseExpression(`max(ceil(sqrt(${Ja})+${n}),${da})`,J)}function Hd(n,J,da){return J[n]?`scale("${J[n]}",datum)`:Ka(n,da[0].encode)}function Ad(n,J){n=l.isString(n)?{text:n}:n;const da=ka(n,J.config.title);var Ja=n.encode||{},Sa=Ja.group||{};const Ua=Sa.name||void 0,Pb=Sa.interactive,bc=Sa.style,Ub=[],yc=Ca(J.add(Ne(null,[{}])));var Rb=Ub.push,Kc=n;var Od=(Od=n.encode)&&Od.title||l.extend({name:n.name,interactive:n.interactive,style:n.style},Od);var od={value:0};od={enter:{opacity:od},
update:{opacity:{value:1}},exit:{opacity:od}};Gb(od,{text:Kc.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:da("dx"),dy:da("dy"),fill:da("color"),font:da("font"),fontSize:da("fontSize"),fontStyle:da("fontStyle"),fontWeight:da("fontWeight"),lineHeight:da("lineHeight")},{align:da("align"),angle:da("angle"),baseline:da("baseline")});Kc=mb({type:"text",role:"title-text",style:"group-title",from:yc,encode:od},
Od);Rb.call(Ub,Kc);n.subtitle&&(Rb=Ub.push,Ja=Ja.subtitle,Kc={value:0},Kc={enter:{opacity:Kc},update:{opacity:{value:1}},exit:{opacity:Kc}},Gb(Kc,{text:n.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:da("dx"),dy:da("dy"),fill:da("subtitleColor"),font:da("subtitleFont"),fontSize:da("subtitleFontSize"),fontStyle:da("subtitleFontStyle"),fontWeight:da("subtitleFontWeight"),lineHeight:da("subtitleLineHeight")},
{align:da("align"),angle:da("angle"),baseline:da("baseline")}),n=mb({type:"text",role:"title-subtitle",style:"group-subtitle",from:yc,encode:Kc},Ja),Rb.call(Ub,n));n={enter:{},update:{}};Gb(n,{orient:da("orient"),anchor:da("anchor"),align:{signal:Ee},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:da("limit"),frame:da("frame"),offset:da("offset")||0,padding:da("subtitlePadding")});Sa=Db(n,Sa,sd);return Vb(R({role:"title",from:yc,encode:Sa,marks:Ub,aria:da("aria"),
description:da("description"),zindex:da("zindex"),name:Ua,interactive:Pb,style:bc}),J)}function Dd(n,J){const da=[];n.transform&&n.transform.forEach(Ja=>{da.push(lb(Ja,J))});n.on&&n.on.forEach(Ja=>{ib(Ja,J,n.name)});J.addDataPipeline(n.name,ed(n,J,da))}function ed(n,J,da){const Ja=[];let Sa=null,Ua=!1,Pb=!1,bc,Ub,yc,Rb;n.values?kc(n.values)||pb(n.format)?(Ja.push(ve(J,n)),Ja.push(Sa=Fe())):Ja.push(Sa=Fe({$ingest:n.values,$format:n.format})):n.url?pb(n.url)||pb(n.format)?(Ja.push(ve(J,n)),Ja.push(Sa=
Fe())):Ja.push(Sa=Fe({$request:n.url,$format:n.format})):n.source&&(Sa=bc=l.array(n.source).map(Kc=>Ca(J.getData(Kc).output)),Ja.push(null));n=0;for(Ub=da.length;n<Ub;++n)yc=da[n],Rb=yc.metadata,Sa||Rb.source||Ja.push(Sa=Fe()),Ja.push(yc),Rb.generates&&(Pb=!0),Rb.modifies&&!Pb&&(Ua=!0),Rb.source?Sa=yc:Rb.changes&&(Sa=null);bc&&(Ub=bc.length-1,Ja[0]=Nd({derive:Ua,pulse:Ub?bc:bc[0]}),(Ua||Ub)&&Ja.splice(1,0,Fe()));Sa||Ja.push(Fe());Ja.push(fe({}));return Ja}function Fe(n){n=Ne({},n);n.metadata={source:!0};
return n}function ve(n,J){return Ib({url:J.url?n.property(J.url):void 0,async:J.async?n.property(J.async):void 0,values:J.values?n.property(J.values):void 0,format:n.objectProperty(J.format)})}function Sd(n,J,da,Ja){let Sa;if(J&&l.hasOwnProperty(J,n))return J[n];if(l.hasOwnProperty(da,n))return da[n];if(n.startsWith("title")){switch(n){case "titleColor":Sa="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Sa=n[5].toLowerCase()+n.slice(6)}return Ja["guide-title"][Sa]}if(n.startsWith("label")){switch(n){case "labelColor":Sa=
"fill";break;case "labelFont":case "labelFontSize":Sa=n[5].toLowerCase()+n.slice(6)}return Ja["guide-label"][Sa]}return null}function qe(n){const J={};for(const da of n)if(da)for(const Ja in da)J[Ja]=1;return Object.keys(J)}function A(n,J,da,Ja,Sa){return{signal:'flush(range("'+n+'"), scale("'+n+'", datum.value), '+J+","+da+","+Ja+","+Sa+")"}}function W(n,J,da,Ja){const Sa=(Pb,bc)=>null!=Pb?(da.update[bc]=ub(bd(Pb),da.update[bc]),!1):fc(bc,Ja)?!1:!0,Ua=Sa(n("titleX"),"x");n=Sa(n("titleY"),"y");da.enter.auto=
n===Ua?bd(n):Rc(J,bd(n),bd(Ua))}function ta(n,J,da){const Ja=l.array(n.signals),Sa=l.array(n.scales);da||Ja.forEach(Ua=>bb(Ua,J));l.array(n.projections).forEach(Ua=>{const Pb=J.config.projection||{},bc={};for(const Ub in Ua)"name"!==Ub&&(bc[Ub]=xa(Ua[Ub],Ub,J));for(const Ub in Pb)null==bc[Ub]&&(bc[Ub]=xa(Pb[Ub],Ub,J));J.addProjection(Ua.name,bc)});Sa.forEach(Ua=>{const Pb=Ua.type||"linear";zb.isValidScaleType(Pb)||l.error("Unrecognized scale type: "+l.stringValue(Pb));J.addScale(Ua.name,{type:Pb,
domain:void 0})});l.array(n.data).forEach(Ua=>Dd(Ua,J));Sa.forEach(Ua=>{const Pb=J.getScale(Ua.name).params;let bc;Pb.domain=V(Ua.domain,Ua,J);null!=Ua.range&&(Pb.range=la(Ua,J,Pb));if(null!=Ua.interpolate){var Ub=Ua.interpolate;Pb.interpolate=y(Ub.type||Ub);null!=Ub.gamma&&(Pb.interpolateGamma=y(Ub.gamma))}null!=Ua.nice&&(Ub=Ua.nice,Ub=l.isObject(Ub)?{interval:y(Ub.interval),step:y(Ub.step)}:y(Ub),Pb.nice=Ub);null!=Ua.bins&&(Ub=Ua.bins,Ub=Ub.signal||l.isArray(Ub)?t(Ub,J):J.objectProperty(Ub),Pb.bins=
Ub);for(bc in Ua)l.hasOwnProperty(Pb,bc)||"name"===bc||(Pb[bc]=y(Ua[bc],J))});(da||Ja).forEach(Ua=>Q(Ua,J));l.array(n.axes).forEach(Ua=>{var Pb=J.config,bc=Pb.style,Ub=Pb.axis,yc="band"===J.scaleType(Ua.scale)&&Pb.axisBand,Rb=Ua.orient,Kc;if(kc(Rb)){const de=qe([Pb.axisX,Pb.axisY]),je=qe([Pb.axisTop,Pb.axisBottom,Pb.axisLeft,Pb.axisRight]);var Od={};for(Kc of de)Od[Kc]=Rc(Rb,Sd(Kc,Pb.axisX,Ub,bc),Sd(Kc,Pb.axisY,Ub,bc));var od={};for(Kc of je){var Md=od,hd=Kc,Mc=Rb.signal,dd=Sd(Kc,Pb.axisTop,Ub,bc),
Pd=Sd(Kc,Pb.axisBottom,Ub,bc),Xd=Sd(Kc,Pb.axisLeft,Ub,bc),oe=Sd(Kc,Pb.axisRight,Ub,bc);var re={signal:(null!=Xd?`${Mc} === '${"left"}' ? (${Ya(Xd)}) : `:"")+(null!=Pd?`${Mc} === '${"bottom"}' ? (${Ya(Pd)}) : `:"")+(null!=oe?`${Mc} === '${"right"}' ? (${Ya(oe)}) : `:"")+(null!=dd?`${Mc} === '${"top"}' ? (${Ya(dd)}) : `:"")+"(null)"};Md[hd]=re}}else Od="top"===Rb||"bottom"===Rb?Pb.axisX:Pb.axisY,od=Pb["axis"+Rb[0].toUpperCase()+Rb.slice(1)];var Qc=Od||od||yc?l.extend({},Ub,Od,od,yc):Ub;const Oe=Ua.encode||
{},We=Oe.axis||{},df=We.name||void 0,Hf=We.interactive,wd=We.style,te=ka(Ua,Qc),Qe=te("tickBand");let He=te("tickOffset"),lf,Pf;Qe?Qe.signal?(lf={signal:`(${Qe.signal}) === 'extent' ? 1 : 0.5`},Pf={signal:`(${Qe.signal}) === 'extent'`},l.isObject(He)||(He={signal:`(${Qe.signal}) === 'extent' ? 0 : ${He}`})):"extent"===Qe?(lf=1,Pf=!0,He=0):(lf=.5,Pf=!1):(lf=te("bandPosition"),Pf=te("tickExtra"));var If=Pf;var Wf=lf;var Xe=He;const Ce={scale:Ua.scale,ticks:!!te("ticks"),labels:!!te("labels"),grid:!!te("grid"),
domain:!!te("domain"),title:null!=Ua.title},rf=Ca(J.add(Ne({},[Ce]))),jg=Ca(J.add(Pe({scale:J.scaleRef(Ua.scale),extra:J.property(If),count:J.objectProperty(Ua.tickCount),values:J.objectProperty(Ua.values),minstep:J.property(Ua.tickMinStep),formatType:J.property(Ua.formatType),formatSpecifier:J.property(Ua.format)}))),mf=[];let uf;if(Ce.grid){var Qf=mf.push,ng=Oe.grid;const de=ka(Ua,Qc),je=Ua.orient,gf=Ua.gridScale,Le=gd(je,1,-1);a:{var Rf=Ua.offset,Jf=Le;if(1!==Jf)if(l.isObject(Rf)){let xg=Rf=l.extend({},
Rf);for(;null!=xg.mult;)if(l.isObject(xg.mult))xg=xg.mult=l.extend({},xg.mult);else{xg.mult=kc(Jf)?{signal:`(${xg.mult}) * (${Jf.signal})`}:xg.mult*Jf;var ug=Rf;break a}xg.mult=Jf}else Rf=kc(Jf)?{signal:`(${Jf.signal}) * (${Rf||0})`}:Jf*(Rf||0);ug=Rf}const nf=ug;let Ze,Sf,wf;const Xf={enter:Ze={opacity:Fd},update:wf={opacity:be},exit:Sf={opacity:Fd}};Gb(Xf,{stroke:de("gridColor"),strokeCap:de("gridCap"),strokeDash:de("gridDash"),strokeDashOffset:de("gridDashOffset"),strokeOpacity:de("gridOpacity"),
strokeWidth:de("gridWidth")});const $e={scale:Ua.scale,field:"value",band:Wf,extra:If,offset:Xe,round:de("tickRound")},wg=Rc(je,{signal:"height"},{signal:"width"}),Zg=gf?{scale:gf,range:0,mult:Le,offset:nf}:{value:0,offset:nf},Sg=gf?{scale:gf,range:1,mult:Le,offset:nf}:l.extend(wg,{mult:Le,offset:nf});Ze.x=wf.x=Rc(je,$e,Zg);Ze.y=wf.y=jd(je,$e,Zg);Ze.x2=wf.x2=jd(je,Sg);Ze.y2=wf.y2=Rc(je,Sg);Sf.x=Rc(je,$e);Sf.y=jd(je,$e);var U=mb({type:"rule",role:"axis-grid",key:"value",from:jg,encode:Xf},ng);Qf.call(mf,
U)}if(Ce.ticks){uf=te("tickSize");var Ia=mf.push,rb=Oe.ticks,Cc=uf;const de=ka(Ua,Qc),je=Ua.orient,gf=gd(je,-1,1);let Le,nf,Ze;const Sf={enter:Le={opacity:Fd},update:Ze={opacity:be},exit:nf={opacity:Fd}};Gb(Sf,{stroke:de("tickColor"),strokeCap:de("tickCap"),strokeDash:de("tickDash"),strokeDashOffset:de("tickDashOffset"),strokeOpacity:de("tickOpacity"),strokeWidth:de("tickWidth")});const wf=bd(Cc);wf.mult=gf;const Xf={scale:Ua.scale,field:"value",band:Wf,extra:If,offset:Xe,round:de("tickRound")};Ze.y=
Le.y=Rc(je,Fd,Xf);Ze.y2=Le.y2=Rc(je,wf);nf.x=Rc(je,Xf);Ze.x=Le.x=jd(je,Fd,Xf);Ze.x2=Le.x2=jd(je,wf);nf.y=jd(je,Xf);var Gc=mb({type:"rule",role:"axis-tick",key:"value",from:jg,encode:Sf},rb);Ia.call(mf,Gc)}if(Ce.labels){uf=Ce.ticks?uf:0;var ud=mf.push,xe=Oe.labels,Ge=uf;const de=ka(Ua,Qc),je=Ua.orient,gf=Ua.scale,Le=gd(je,-1,1),nf=O(de("labelFlush")),Ze=O(de("labelFlushOffset")),Sf=de("labelAlign"),wf=de("labelBaseline");let Xf=0===nf||!!nf,$e;const wg=bd(Ge);wg.mult=Le;wg.offset=bd(de("labelPadding")||
0);wg.offset.mult=Le;const Zg={scale:gf,field:"value",band:.5,offset:Za(Xe,de("labelOffset"))};var cg=Xf?A(gf,nf,'"left"','"right"','"center"'):{value:"center"},Ye=je;var dg=kc(Ye)?La(`${Ye.signal} === '${"right"}'`,"left","right"):"right"===Ye?{value:"left"}:{value:"right"};const Sg=Rc(je,cg,dg),xg=Rc(je,Wc(je,"bottom","top"),Xf?A(gf,nf,'"top"','"bottom"','"middle"'):{value:"middle"}),Qh=A(gf,nf,`-(${Ze})`,Ze,0);Xf=Xf&&Ze;const gh={opacity:Fd,x:Rc(je,Zg,wg),y:jd(je,Zg,wg)},Rh={enter:gh,update:$e=
{opacity:be,text:{field:"label"},x:gh.x,y:gh.y,align:Sg,baseline:xg},exit:{opacity:Fd,x:gh.x,y:gh.y}};Gb(Rh,{dx:!Sf&&Xf?Rc(je,Qh):null,dy:!wf&&Xf?jd(je,Qh):null});Gb(Rh,{angle:de("labelAngle"),fill:de("labelColor"),fillOpacity:de("labelOpacity"),font:de("labelFont"),fontSize:de("labelFontSize"),fontWeight:de("labelFontWeight"),fontStyle:de("labelFontStyle"),limit:de("labelLimit"),lineHeight:de("labelLineHeight")},{align:Sf,baseline:wf});const Lg=de("labelBound");let hh=de("labelOverlap");hh=hh||Lg?
{separation:de("labelSeparation"),method:hh,order:"datum.index",bound:Lg?{scale:gf,orient:je,tolerance:Lg}:null}:void 0;$e.align!==Sg&&($e.align=ub($e.align,Sg));$e.baseline!==xg&&($e.baseline=ub($e.baseline,xg));var Xg=mb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:jg,encode:Rh,overlap:hh},xe);ud.call(mf,Xg)}if(Ce.domain){var vg=mf.push,eg=Oe.domain;const de=ka(Ua,Qc),je=Ua.orient;let gf,Le;const nf={enter:gf={opacity:Fd},update:Le={opacity:be},exit:{opacity:Fd}};Gb(nf,{stroke:de("domainColor"),
strokeCap:de("domainCap"),strokeDash:de("domainDash"),strokeDashOffset:de("domainDashOffset"),strokeWidth:de("domainWidth"),strokeOpacity:de("domainOpacity")});const Ze={scale:Ua.scale,range:0},Sf={scale:Ua.scale,range:1};gf.x=Le.x=Rc(je,Ze,Fd);gf.x2=Le.x2=Rc(je,Sf);gf.y=Le.y=jd(je,Ze,Fd);gf.y2=Le.y2=jd(je,Sf);var kg=mb({type:"rule",role:"axis-domain",from:rf,encode:nf},eg);vg.call(mf,kg)}if(Ce.title){var Hg=mf.push,Ig=Oe.title;const de=ka(Ua,Qc),je=Ua.orient,gf=gd(je,-1,1);let Le,nf;const Ze={enter:Le=
{opacity:Fd,anchor:bd(de("titleAnchor",null)),align:{signal:Ee}},update:nf=l.extend({},Le,{opacity:be,text:bd(Ua.title)}),exit:{opacity:Fd}},Sf={signal:`lerp(range("${Ua.scale}"), ${kb(0,1,.5)})`};nf.x=Rc(je,Sf);nf.y=jd(je,Sf);var kh=Le,uh=gf;var Oh=kc(uh)?{signal:`(${uh.signal}) * ${90}`}:{value:90*uh};kh.angle=Rc(je,Fd,Oh);Le.baseline=Rc(je,Wc(je,"bottom","top"),{value:"bottom"});nf.angle=Le.angle;nf.baseline=Le.baseline;Gb(Ze,{fill:de("titleColor"),fillOpacity:de("titleOpacity"),font:de("titleFont"),
fontSize:de("titleFontSize"),fontStyle:de("titleFontStyle"),fontWeight:de("titleFontWeight"),limit:de("titleLimit"),lineHeight:de("titleLineHeight")},{align:de("titleAlign"),angle:de("titleAngle"),baseline:de("titleBaseline")});W(de,je,Ze,Ig);Ze.update.align=ub(Ze.update.align,Le.align);Ze.update.angle=ub(Ze.update.angle,Le.angle);Ze.update.baseline=ub(Ze.update.baseline,Le.baseline);var vh=mb({type:"text",role:"axis-title",style:"guide-title",from:rf,encode:Ze},Ig);Hg.call(mf,vh)}const lh={enter:{},
update:{}};Gb(lh,{orient:te("orient"),offset:te("offset")||0,position:ca(Ua.position,0),titlePadding:te("titlePadding"),minExtent:te("minExtent"),maxExtent:te("maxExtent"),range:{signal:`abs(span(range("${Ua.scale}")))`},translate:te("translate"),format:Ua.format,formatType:Ua.formatType});return Vb(R({role:"axis",from:rf,encode:Db(lh,We,sd),marks:mf,aria:te("aria"),description:te("description"),zindex:te("zindex"),name:df,interactive:Hf,style:wd}),J)});l.array(n.marks).forEach(Ua=>Vb(Ua,J));l.array(n.legends).forEach(Ua=>
qc(Ua,J));n.title&&Ad(n.title,J);J.parseLambdas();return J}function Qa(n,J){var da=J.config;const Ja=Ca(J.root=J.add(new $a("operator",void 0,void 0,void 0))),Sa=Bb(n,da);Sa.forEach(bc=>bb(bc,J));J.description=n.description||da.description;J.eventConfig=da.events;J.legends=J.objectProperty(da.legend&&da.legend.layout);J.locale=da.locale;da=J.add(Ne());const Ua=J.add(F(pa(Db({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},n.encode),"group","frame",n.style,
J,{pulse:Ca(da)}))),Pb=J.add(Pc({layout:J.objectProperty(n.layout),legends:J.legends,autosize:J.signalRef("autosize"),mark:Ja,pulse:Ca(Ua)}));J.operators.pop();J.pushState(Ca(Ua),Ca(Pb),null);ta(n,J,Sa);J.operators.push(Pb);n=J.add(hf({mark:Ja,pulse:Ca(Pb)}));n=J.add(De({pulse:Ca(n)}));n=J.add(fe({pulse:Ca(n)}));J.addData("root",new C(J,da,da,n));return J}function qb(n,J){return J&&J.signal?{name:n,update:J.signal}:{name:n,value:J}}function Bb(n,J){const da=Pb=>ca(n[Pb],J[Pb]),Ja=[qb("background",
da("background")),qb("autosize",gc(da("autosize"))),qb("padding",nc(da("padding"))),qb("width",da("width")||0),qb("height",da("height")||0)],Sa=Ja.reduce((Pb,bc)=>(Pb[bc.name]=bc,Pb),{}),Ua={};l.array(n.signals).forEach(Pb=>{l.hasOwnProperty(Sa,Pb.name)?Pb=l.extend(Sa[Pb.name],Pb):Ja.push(Pb);Ua[Pb.name]=Pb});l.array(J.signals).forEach(Pb=>{l.hasOwnProperty(Ua,Pb.name)||l.hasOwnProperty(Sa,Pb.name)||Ja.push(Pb)});return Ja}function ac(n,J){this.config=n||{};this.options=J||{};this.bindings=[];this.field=
{};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Sb(n){this.config=n.config;this.options=n.options;this.legends=n.legends;this.field=Object.create(n.field);this.signals=Object.create(n.signals);this.lambdas=Object.create(n.lambdas);this.scales=Object.create(n.scales);this.events=
Object.create(n.events);this.data=Object.create(n.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++n._nextsub[0];this._nextsub=n._nextsub;this._parent=n._parent.slice();this._encode=n._encode.slice();this._lookup=n._lookup.slice();this._markpath=n._markpath}function wb(n){return(l.isArray(n)?zc:Ic)(n)}function zc(n){const J=n.length;let da="[";for(let Ja=0;Ja<J;++Ja){const Sa=n[Ja];da+=(0<Ja?",":"")+(l.isObject(Sa)?Sa.signal||wb(Sa):l.stringValue(Sa))}return da+"]"}
function Ic(n){let J="{",da=0,Ja,Sa;for(Ja in n)Sa=n[Ja],J+=(1<++da?",":"")+l.stringValue(Ja)+":"+(l.isObject(Sa)?Sa.signal||wb(Sa):l.stringValue(Sa));return J+"}"}function $c(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",
size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",
stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,
symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},
right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const bd=n=>l.isObject(n)&&!l.isArray(n)?l.extend({},n):{value:n},nd=n=>l.isString(n)?l.stringValue(n):n.signal?`(${n.signal})`:Va(n),Ed=(n,J,da,Ja)=>`(${n}(${[J,da,Ja].map(yb).join(",")})+'')`,Wd=["value",
"update","init","react","bind"],ke=Cb("key"),ce={code:"_.$value",ast:{type:"Identifier",value:"value"}},Ud=n=>(J,da,Ja)=>new $a(n,da,J||void 0,Ja),Ve=Ud("aggregate"),Pe=Ud("axisticks"),hf=Ud("bound"),Ne=Ud("collect"),ne=Ud("compare"),Se=Ud("datajoin"),F=Ud("encode"),Z=Ud("expression"),Da=Ud("facet"),hb=Ud("field"),Kb=Ud("key"),uc=Ud("legendentries"),Ib=Ud("load"),ma=Ud("mark"),Ga=Ud("multiextent"),sb=Ud("multivalues"),hc=Ud("overlap"),Uc=Ud("params"),Vc=Ud("prefacet"),rd=Ud("projection"),ad=Ud("proxy"),
Nd=Ud("relay"),De=Ud("render"),Rd=Ud("scale"),fe=Ud("sieve"),Ae=Ud("sortitems"),Pc=Ud("viewlayout"),Gd=Ud("values");let cd=0;const qd={min:"min",max:"max",count:"sum"},fd="size shape fill stroke strokeWidth strokeDash opacity".split(" "),sd={name:1,style:1,interactive:1},Fd={value:0},be={value:1},Ee=kb(l.stringValue("left"),l.stringValue("right"),l.stringValue("center")),Re=kb('"top"','"bottom"','"middle"'),ff=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${kb('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Ee}`,
jf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Re}) : "top"`;C.fromEntries=function(n,J){const da=J.length,Ja=J[da-1],Sa=J[da-2];let Ua=J[0],Pb=null,bc=1;Ua&&"load"===Ua.type&&(Ua=J[1]);for(n.add(J[0]);bc<da;++bc)J[bc].params.pulse=Ca(J[bc-1]),n.add(J[bc]),"aggregate"===J[bc].type&&(Pb=J[bc]);return new C(n,Ua,Sa,Ja,Pb)};C.prototype={countsRef(n,J,da){const Ja=this.counts||(this.counts=
{}),Sa=aa(J);if(null!=Sa){n=this.scope;var Ua=Ja[Sa]}Ua?da&&da.field&&fa(n,Ua.agg.params,da):(Ua={groupby:n.fieldRef(J,"key"),pulse:Ca(this.output)},da&&da.field&&fa(n,Ua,da),da=n.add(Ve(Ua)),Ua=n.add(Ne({pulse:Ca(da)})),Ua={agg:da,ref:Ca(Ua)},null!=Sa&&(Ja[Sa]=Ua));return Ua.ref},tuplesRef(){return Ca(this.values)},extentRef(n,J){return za(n,this,"extent","extent",J,!1)},domainRef(n,J){return za(n,this,"domain","values",J,!1)},valuesRef(n,J,da){return za(n,this,"vals","values",J,da||!0)},lookupRef(n,
J){return za(n,this,"lookup","tupleindex",J,!1)},indataRef(n,J){return za(n,this,"indata","tupleindex",J,!0,!0)}};const gd=(n,J,da)=>{kc(n)?(n=n.signal,J=La(`${n} === '${"left"}' || ${n} === '${"top"}'`,J,da)):J="left"===n||"top"===n?J:da;return J},Rc=(n,J,da)=>{kc(n)?(n=n.signal,J=na(`${n} === '${"top"}' || ${n} === '${"bottom"}'`,J,da)):J="bottom"===n||"top"===n?J:da;return J},jd=(n,J,da)=>{kc(n)?(n=n.signal,J=na(`${n} !== '${"top"}' && ${n} !== '${"bottom"}'`,J,da)):J="bottom"===n||"top"===n?da:
J;return J},Wc=(n,J,da)=>kc(n)?La(`${n.signal} === '${"top"}'`,J,da):"top"===n?{value:J}:{value:da},na=(n,J,da)=>{J=null!=J?bd(J):J;da=null!=da?bd(da):da;if(null!=J&&1!==Object.keys(J).length||null!=da&&1!==Object.keys(da).length)return[l.extend({test:n},J)].concat(da||[]);J=J?J.signal||l.stringValue(J.value):null;da=da?da.signal||l.stringValue(da.value):null;return{signal:`${n} ? (${J}) : (${da})`}},La=(n,J,da)=>({signal:`${n} ? (${Ya(J)}) : (${Ya(da)})`}),Ya=n=>kc(n)?n.signal:null==n?null:l.stringValue(n),
ub=(n,J)=>{const da=n.signal;return da&&da.endsWith("(null)")?{signal:da.slice(0,-6)+J.signal}:n};ac.prototype=Sb.prototype={parse(n){return ta(n,this)},fork(){return new Sb(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(n){this.operators.push(n);
n.id=this.id();n.refs&&(n.refs.forEach(J=>{J.$ref=n.id}),n.refs=null);return n},proxy(n){n=n instanceof $a?Ca(n):n;return this.add(ad({value:n}))},addStream(n){this.streams.push(n);n.id=this.id();return n},addUpdate(n){this.updates.push(n);return n},finish(){function n(Ja,Sa,Ua){Ja&&(Ja=Ja.data||(Ja.data={}),Sa=Ja[Sa]||(Ja[Sa]=[]),Sa.push(Ua))}let J,da;this.root&&(this.root.root=!0);for(J in this.signals)this.signals[J].signal=J;for(J in this.scales)this.scales[J].scale=J;for(J in this.data){da=this.data[J];
n(da.input,J,"input");n(da.output,J,"output");n(da.values,J,"values");for(const Ja in da.index)n(da.index[Ja],J,"index:"+Ja)}return this},pushState(n,J,da){this._encode.push(Ca(this.add(fe({pulse:n}))));this._parent.push(J);this._lookup.push(da?Ca(this.proxy(da)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return l.peek(this._parent)},encode(){return l.peek(this._encode)},lookup(){return l.peek(this._lookup)},markpath(){const n=
this._markpath;return++n[n.length-1]},fieldRef(n,J){if(l.isString(n))return Cb(n,J);n.signal||l.error("Unsupported field reference: "+l.stringValue(n));n=n.signal;var da=this.field[n];da||(da={name:this.signalRef(n)},J&&(da.as=J),this.field[n]=da=Ca(this.add(hb(da))));return da},compareRef(n){let J=!1;const da=Sa=>kc(Sa)?(J=!0,this.signalRef(Sa.signal)):Sa&&Sa.expr?(J=!0,this.exprRef(Sa.expr)):Sa,Ja=l.array(n.field).map(da);n=l.array(n.order).map(da);return J?Ca(this.add(ne({fields:Ja,orders:n}))):
{$compare:Ja,$order:n}},keyRef(n,J){let da=!1;const Ja=this.signals;n=l.array(n).map(Sa=>kc(Sa)?(da=!0,Ca(Ja[Sa.signal])):Sa);return da?Ca(this.add(Kb({fields:n,flat:J}))):xb(n,J)},sortRef(n){if(!n)return n;const J=Mb(n.op,n.field);n=n.order||"ascending";return n.signal?Ca(this.add(ne({fields:J,orders:this.signalRef(n.signal)}))):{$compare:J,$order:n}},event(n,J){const da=n+":"+J;if(!this.events[da]){const Ja=this.id();this.streams.push({id:Ja,source:n,type:J});this.events[da]=Ja}return this.events[da]},
hasOwnSignal(n){return l.hasOwnProperty(this.signals,n)},addSignal(n,J){this.hasOwnSignal(n)&&l.error("Duplicate signal name: "+l.stringValue(n));J=J instanceof $a?J:this.add(new $a("operator",J,void 0,void 0));return this.signals[n]=J},getSignal(n){this.signals[n]||l.error("Unrecognized signal name: "+l.stringValue(n));return this.signals[n]},signalRef(n){if(this.signals[n])return Ca(this.signals[n]);l.hasOwnProperty(this.lambdas,n)||(this.lambdas[n]=this.add(new $a("operator",null,void 0,void 0)));
return Ca(this.lambdas[n])},parseLambdas(){const n=Object.keys(this.lambdas);for(let da=0,Ja=n.length;da<Ja;++da){var J=n[da];const Sa=M.parseExpression(J,this);J=this.lambdas[J];J.params=Sa.$params;J.update=Sa.$expr}},property(n){return n&&n.signal?this.signalRef(n.signal):n},objectProperty(n){return n&&l.isObject(n)?this.signalRef(n.signal||wb(n)):n},exprRef(n,J){n={expr:M.parseExpression(n,this)};J&&(n.expr.$name=J);return Ca(this.add(Z(n)))},addBinding(n,J){this.bindings||l.error("Nested signals do not support binding: "+
l.stringValue(n));this.bindings.push(l.extend({signal:n},J))},addScaleProj(n,J){l.hasOwnProperty(this.scales,n)&&l.error("Duplicate scale or projection name: "+l.stringValue(n));this.scales[n]=this.add(J)},addScale(n,J){this.addScaleProj(n,Rd(J))},addProjection(n,J){this.addScaleProj(n,rd(J))},getScale(n){this.scales[n]||l.error("Unrecognized scale name: "+l.stringValue(n));return this.scales[n]},scaleRef(n){return Ca(this.getScale(n))},scaleType(n){return this.getScale(n).params.type},projectionRef(n){return this.scaleRef(n)},
projectionType(n){return this.scaleType(n)},addData(n,J){l.hasOwnProperty(this.data,n)&&l.error("Duplicate data set name: "+l.stringValue(n));return this.data[n]=J},getData(n){this.data[n]||l.error("Undefined data set name: "+l.stringValue(n));return this.data[n]},addDataPipeline(n,J){l.hasOwnProperty(this.data,n)&&l.error("Duplicate data set name: "+l.stringValue(n));return this.addData(n,C.fromEntries(this,J))}};x.AxisDomainRole="axis-domain";x.AxisGridRole="axis-grid";x.AxisLabelRole="axis-label";
x.AxisRole="axis";x.AxisTickRole="axis-tick";x.AxisTitleRole="axis-title";x.DataScope=C;x.FrameRole="frame";x.LegendEntryRole="legend-entry";x.LegendLabelRole="legend-label";x.LegendRole="legend";x.LegendSymbolRole="legend-symbol";x.LegendTitleRole="legend-title";x.MarkRole="mark";x.Scope=ac;x.ScopeRole="scope";x.config=$c;x.parse=function(n,J,da){l.isObject(n)||l.error("Input Vega specification must be an object.");J=l.mergeConfig($c(),J,n.config);return Qa(n,new ac(J,da)).toRuntime()};x.signal=
bb;x.signalUpdates=Q;x.stream=oa;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[52]=function(Hb,vb,Ac,ab){function x(Ca){if(Ca&&Ca.__esModule)return Ca;var Cb=Object.create(null);Ca&&Object.keys(Ca).forEach(function(xb){if("default"!==xb){var Mb=Object.getOwnPropertyDescriptor(Ca,xb);Object.defineProperty(Cb,xb,Mb.get?Mb:{enumerable:!0,get:function(){return Ca[xb]}})}});Cb["default"]=Ca;return Object.freeze(Cb)}Object.defineProperty(ab,"__esModule",{value:!0});var l=vb(20),M=vb(28),cb=vb(30),zb=vb(34),Zb=vb(35),gc=vb(37),nc=vb(38),Tb=vb(39),Gb=vb(40),Db=vb(41),
fc=vb(42);Ac=vb(43);Hb=vb(44);var Ba=vb(29),jb=vb(22),yb=vb(27),Ab=vb(33),Pa=vb(32),Va=vb(36),Xa=vb(49),Fa=vb(23),pa=vb(47),Aa=vb(51),Ha=vb(48),bb=vb(45),$a=vb(50);vb=x(cb);zb=x(zb);Zb=x(Zb);gc=x(gc);nc=x(nc);Tb=x(Tb);Gb=x(Gb);Db=x(Db);fc=x(fc);Ac=x(Ac);Hb=x(Hb);l.extend(M.transforms,vb,zb,Zb,gc,nc,Gb,Tb,Db,fc,Ac,Hb);Object.defineProperty(ab,"Dataflow",{enumerable:!0,get:function(){return M.Dataflow}});Object.defineProperty(ab,"EventStream",{enumerable:!0,get:function(){return M.EventStream}});Object.defineProperty(ab,
"MultiPulse",{enumerable:!0,get:function(){return M.MultiPulse}});Object.defineProperty(ab,"Operator",{enumerable:!0,get:function(){return M.Operator}});Object.defineProperty(ab,"Parameters",{enumerable:!0,get:function(){return M.Parameters}});Object.defineProperty(ab,"Pulse",{enumerable:!0,get:function(){return M.Pulse}});Object.defineProperty(ab,"Transform",{enumerable:!0,get:function(){return M.Transform}});Object.defineProperty(ab,"changeset",{enumerable:!0,get:function(){return M.changeset}});
Object.defineProperty(ab,"definition",{enumerable:!0,get:function(){return M.definition}});Object.defineProperty(ab,"ingest",{enumerable:!0,get:function(){return M.ingest}});Object.defineProperty(ab,"isTuple",{enumerable:!0,get:function(){return M.isTuple}});Object.defineProperty(ab,"transform",{enumerable:!0,get:function(){return M.transform}});Object.defineProperty(ab,"transforms",{enumerable:!0,get:function(){return M.transforms}});Object.defineProperty(ab,"tupleid",{enumerable:!0,get:function(){return M.tupleid}});
Object.defineProperty(ab,"interpolate",{enumerable:!0,get:function(){return Pa.interpolate}});Object.defineProperty(ab,"interpolateColors",{enumerable:!0,get:function(){return Pa.interpolateColors}});Object.defineProperty(ab,"interpolateRange",{enumerable:!0,get:function(){return Pa.interpolateRange}});Object.defineProperty(ab,"quantizeInterpolator",{enumerable:!0,get:function(){return Pa.quantizeInterpolator}});Object.defineProperty(ab,"scale",{enumerable:!0,get:function(){return Pa.scale}});Object.defineProperty(ab,
"scheme",{enumerable:!0,get:function(){return Pa.scheme}});Object.defineProperty(ab,"projection",{enumerable:!0,get:function(){return Va.projection}});Object.defineProperty(ab,"View",{enumerable:!0,get:function(){return Xa.View}});Object.defineProperty(ab,"defaultLocale",{enumerable:!0,get:function(){return Fa.defaultLocale}});Object.defineProperty(ab,"formatLocale",{enumerable:!0,get:function(){return Fa.numberFormatDefaultLocale}});Object.defineProperty(ab,"locale",{enumerable:!0,get:function(){return Fa.locale}});
Object.defineProperty(ab,"resetDefaultLocale",{enumerable:!0,get:function(){return Fa.resetDefaultLocale}});Object.defineProperty(ab,"timeFormatLocale",{enumerable:!0,get:function(){return Fa.timeFormatDefaultLocale}});Object.defineProperty(ab,"expressionFunction",{enumerable:!0,get:function(){return pa.expressionFunction}});Object.defineProperty(ab,"parse",{enumerable:!0,get:function(){return Aa.parse}});Object.defineProperty(ab,"runtimeContext",{enumerable:!0,get:function(){return Ha.context}});
Object.defineProperty(ab,"codegenExpression",{enumerable:!0,get:function(){return bb.codegenExpression}});Object.defineProperty(ab,"parseExpression",{enumerable:!0,get:function(){return bb.parseExpression}});Object.defineProperty(ab,"parseSelector",{enumerable:!0,get:function(){return $a.parseSelector}});ab.version="5.22.1";Object.keys(l).forEach(function(Ca){"default"===Ca||ab.hasOwnProperty(Ca)||Object.defineProperty(ab,Ca,{enumerable:!0,get:function(){return l[Ca]}})});Object.keys(Ba).forEach(function(Ca){"default"===
Ca||ab.hasOwnProperty(Ca)||Object.defineProperty(ab,Ca,{enumerable:!0,get:function(){return Ba[Ca]}})});Object.keys(jb).forEach(function(Ca){"default"===Ca||ab.hasOwnProperty(Ca)||Object.defineProperty(ab,Ca,{enumerable:!0,get:function(){return jb[Ca]}})});Object.keys(yb).forEach(function(Ca){"default"===Ca||ab.hasOwnProperty(Ca)||Object.defineProperty(ab,Ca,{enumerable:!0,get:function(){return yb[Ca]}})});Object.keys(Ab).forEach(function(Ca){"default"===Ca||ab.hasOwnProperty(Ca)||Object.defineProperty(ab,
Ca,{enumerable:!0,get:function(){return Ab[Ca]}})})};
shadow$provide[53]=function(Hb,vb,Ac,ab){var x=vb(26).Buffer;(function(l,M){"object"===typeof ab&&"undefined"!==typeof Ac?M(ab,vb(52)):"function"===typeof define&&define.amd?define(["exports","vega"],M):(l="undefined"!==typeof globalThis?globalThis:l||self,M(l.vegaLite={},l.vega))})(this,function(l,M){function cb(c,g){if(c.not)cb(c.not,g);else if(c.and)for(const a of c.and)cb(a,g);else if(c.or)for(const a of c.or)cb(a,g);else g(c)}function zb(c,g){return c.not?{not:zb(c.not,g)}:c.and?{and:c.and.map(a=>
zb(a,g))}:c.or?{or:c.or.map(a=>zb(a,g))}:g(c)}function Zb(c){throw Error(c);}function gc(c,g){const a={};for(const e of g)M.hasOwnProperty(c,e)&&(a[e]=c[e]);return a}function nc(c,g){c=Object.assign({},c);for(const a of g)delete c[a];return c}function Tb(c){if(M.isNumber(c))return c;c=M.isString(c)?c:Wi(c);if(250>c.length)return c;let g=0;for(let a=0;a<c.length;a++){const e=c.charCodeAt(a);g=(g<<5)-g+e;g&=g}return g}function Gb(c){return!1===c||null===c}function Db(c,g){return c.includes(g)}function fc(c,
g){let a=0;for(const e of c.entries()){const [f,k]=e;if(g(k,f,a++))return!0}return!1}function Ba(c,g){let a=0;for(const e of c.entries()){const [f,k]=e;if(!g(k,f,a++))return!1}return!0}function jb(c){for(var g=arguments.length,a=Array(1<g?g-1:0),e=1;e<g;e++)a[e-1]=arguments[e];for(const f of a){g=c;a=null!==f&&void 0!==f?f:{};for(const k of vd(a))M.writeConfig(g,k,a[k],!0)}return c}function yb(c,g){const a=[],e={};for(const f of c)c=g(f),c in e||(e[c]=1,a.push(f));return a}function Ab(c,g){if(c.size!==
g.size)return!1;for(const a of c)if(!g.has(a))return!1;return!0}function Pa(c,g){for(const a of c)if(g.has(a))return!0;return!1}function Va(c){const g=new Set;for(const a of c){const e=M.splitAccessPath(a).map((f,k)=>0===k?f:"[".concat(f,"]"));c=e.map((f,k)=>e.slice(0,k+1).join(""));for(const f of c)g.add(f)}return g}function Xa(c,g){return void 0===c||void 0===g?!0:Pa(Va(c),Va(g))}function Fa(c){return 0===vd(c).length}function pa(c){return!0===c||!1===c}function Aa(c){const g=c.replace(/\W/g,"_");
return(c.match(/^\d+/)?"_":"")+g}function Ha(c,g){return c.not?"!(".concat(Ha(c.not,g),")"):c.and?"(".concat(c.and.map(a=>Ha(a,g)).join(") \x26\x26 ("),")"):c.or?"(".concat(c.or.map(a=>Ha(a,g)).join(") || ("),")"):g(c)}function bb(c,g){if(0===g.length)return!0;const a=g.shift();a in c&&bb(c[a],g)&&delete c[a];return Fa(c)}function $a(c){return c.charAt(0).toUpperCase()+c.substr(1)}function Ca(c){let g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const a=M.splitAccessPath(c),e=[];
for(let f=1;f<=a.length;f++){const k="[".concat(a.slice(0,f).map(M.stringValue).join("]["),"]");e.push("".concat(g).concat(k))}return e.join(" \x26\x26 ")}function Cb(c){return"".concat(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum","[").concat(M.stringValue(M.splitAccessPath(c).join(".")),"]")}function xb(c){return c.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Mb(c){return"".concat(M.splitAccessPath(c).map(xb).join("\\."))}function kc(c,g,a){return c.replace(new RegExp(g.replace(/[-/\\^$*+?.()|[\]{}]/g,
"\\$\x26"),"g"),a)}function pb(c){return"".concat(M.splitAccessPath(c).join("."))}function ca(c){return c?M.splitAccessPath(c).length:0}function O(){for(var c=arguments.length,g=Array(c),a=0;a<c;a++)g[a]=arguments[a];for(const e of g)if(void 0!==e)return e}function oa(c){const g=++cj;return c?String(c)+g:g}function ra(c){return Oa(c)?c:"__".concat(c)}function Oa(c){return c.startsWith("__")}function ya(c){if(void 0!==c)return(c%360+360)%360}function va(c){return M.isNumber(c)?!0:!isNaN(c)&&!isNaN(parseFloat(c))}
function m(c){switch(c){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function G(c){return"color"===c||"fill"===c||"stroke"===c}function Q(c){return y(c)!==c}function y(c){switch(c){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return c}function t(c){if(c in Fi)switch(c){case "theta":return"startAngle";case "theta2":return"endAngle";
case "radius":return"outerRadius";case "radius2":return"innerRadius"}return c}function H(c){switch(c){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function V(c){switch(c){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function E(c){switch(c){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";
case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function K(c){switch(c){case "x":return"xOffset";case "y":return"yOffset"}}function z(c){switch(c){case "xOffset":return"x";case "yOffset":return"y"}}function L(c){return c in hk}function X(c){return"width"===c?"x":"y"}function qa(c){switch(c){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return ll;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Uk;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function T(c){switch(c){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function la(c){return!!c&&!!c.argmin}function xa(c){return!!c&&!!c.argmax}function R(c){return M.isString(c)&&!!Vk[c]}function ka(c){return M.isString(c)&&am.has(c)}function Ka(c){M.isBoolean(c)&&(c=Wf(c,void 0));return"bin"+vd(c).map(g=>mb(c[g])?Aa("_".concat(g,"_").concat(ti(c[g]))):Aa("_".concat(g,"_").concat(c[g]))).join("")}function kb(c){return!0===c||M.isObject(c)&&!c.binned}function Za(c){return"binned"===c||M.isObject(c)&&!0===c.binned}
function mb(c){return null===c||void 0===c?void 0:c.param}function Ra(c){switch(c){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Ob(c){return!(null===c||void 0===c||!c.expr)}function mc(c){const g=vd(c||{}),a={};for(const e of g)a[e]=Ea(c[e]);return a}function Lc(c){var g=Object.assign({},c),a=c.anchor;const e=c.frame,
f=c.offset,k=c.orient,q=c.angle,r=c.limit;var Y=c.color,ia=c.subtitleColor;const sa=c.subtitleFont,Na=c.subtitleFontSize,Jb=c.subtitleFontStyle,vc=c.subtitleFontWeight,$b=c.subtitleLineHeight,Hc=c.subtitlePadding;g=(delete g.anchor,delete g.frame,delete g.offset,delete g.orient,delete g.angle,delete g.limit,delete g.color,delete g.subtitleColor,delete g.subtitleFont,delete g.subtitleFontSize,delete g.subtitleFontStyle,delete g.subtitleFontWeight,delete g.subtitleLineHeight,delete g.subtitlePadding,
g);Y=Object.assign({},g,Y?{fill:Y}:{});a=Object.assign({},a?{anchor:a}:{},e?{frame:e}:{},f?{offset:f}:{},k?{orient:k}:{},void 0!==q?{angle:q}:{},void 0!==r?{limit:r}:{});ia=Object.assign({},ia?{subtitleColor:ia}:{},sa?{subtitleFont:sa}:{},Na?{subtitleFontSize:Na}:{},Jb?{subtitleFontStyle:Jb}:{},vc?{subtitleFontWeight:vc}:{},$b?{subtitleLineHeight:$b}:{},Hc?{subtitlePadding:Hc}:{});c=gc(c,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:Y,subtitleMarkConfig:c,nonMarkTitleProperties:a,
subtitle:ia}}function wc(c){return M.isString(c)||M.isArray(c)&&M.isString(c[0])}function tc(c){return!(null===c||void 0===c||!c.signal)}function jc(c){return!!c.step}function Sc(c){return M.isArray(c)?!1:"field"in c&&"data"in c}function Ta(c){const g=M.isArray(c.condition)?c.condition.map(ob):ob(c.condition);return Object.assign({},Ea(c),{condition:g})}function Ea(c){if(Ob(c)){var g=Object.assign({},c);c=c.expr;g=(delete g.expr,g);return Object.assign({},{signal:c},g)}return c}function ob(c){if(Ob(c)){var g=
Object.assign({},c);c=c.expr;g=(delete g.expr,g);return Object.assign({},{signal:c},g)}return c}function lb(c){if(Ob(c)){var g=Object.assign({},c);c=c.expr;g=(delete g.expr,g);return Object.assign({},{signal:c},g)}return tc(c)?c:void 0!==c?{value:c}:void 0}function Fb(c){return tc(c)?c.signal:M.stringValue(c.value)}function Wb(c){return tc(c)?c.signal:null==c?null:M.stringValue(c)}function Xb(c){var g;return[].concat(c.type,null!==(g=c.style)&&void 0!==g?g:[])}function ic(c,g,a){let e=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{};const {vgChannel:f,ignoreVgConfig:k}=e;if(f&&void 0!==g[f])return g[f];if(void 0!==g[c])return g[c];if(!k||f&&f!==c)return xc(c,g,a,e)}function xc(c,g,a){let {vgChannel:e}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return O(e?kd(c,g,a.style):void 0,kd(c,g,a.style),e?a[g.type][e]:void 0,a[g.type][c],e?a.mark[e]:a.mark[c])}function kd(c,g,a){return B(c,Xb(g),a)}function B(c,g,a){g=M.array(g);let e;for(const f of g)(g=a[f])&&void 0!==g[c]&&(e=g[c]);
return e}function w(c,g){return M.array(c).reduce((a,e)=>{var f;a.field.push(Qc(e,g));a.order.push(null!==(f=e.sort)&&void 0!==f?f:"ascending");return a},{field:[],order:[]})}function C(c,g){const a=[...c];g.forEach(e=>{for(const f of a)if(Kh(f,e))return;a.push(e)});return a}function aa(c,g){return Kh(c,g)||!g?c:c?[...M.array(c),...M.array(g)].join(", "):g}function fa(c,g){const a=c.value;g=g.value;if(null==a||null===g)return{explicit:c.explicit,value:null};if((wc(a)||tc(a))&&(wc(g)||tc(g)))return{explicit:c.explicit,
value:aa(a,g)};if(wc(a)||tc(a))return{explicit:c.explicit,value:a};if(wc(g)||tc(g))return{explicit:c.explicit,value:g};if(!(wc(a)||tc(a)||wc(g)||tc(g)))return{explicit:c.explicit,value:C(a,g)};throw Error("It should never reach here");}function za(c,g,a){g in c?Object.defineProperty(c,g,{value:a,enumerable:!0,configurable:!0,writable:!0}):c[g]=a;return c}function eb(c,g,a){g=fb(c,g,"set");if(g.set)g.set.call(c,a);else{if(!g.writable)throw new TypeError("attempted to set read only private field");
g.value=a}return a}function fb(c,g,a){if(!g.has(c))throw new TypeError("attempted to "+a+" private field on non-instance");return g.get(c)}function ib(c){return"Invalid specification ".concat(Gf(c),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}function Vb(c){return"".concat("width"==c?"Width":"Height",' "container" only works for single views and layered views.')}function oc(c){const g="width"==
c?"x":"y";return"".concat("width"==c?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(g,'".')}function qc(c){return c?'Dropping "fit-'.concat(c,'" because spec has discrete ').concat(V(c),"."):'Dropping "fit" because spec has discrete size.'}function Dc(c){return"Unknown field for ".concat(c,". Cannot calculate view size.")}function Fc(c){return'Cannot project a selection on encoding channel "'.concat(c,'", which has no field.')}function Zc(c,g){return'Cannot project a selection on encoding channel "'.concat(c,
'" as it uses an aggregate function ("').concat(g,'").')}function xd(c){return"Selection not supported for ".concat(c," yet.")}function Hd(c){return'The "columns" property cannot be used when "'.concat(c,'" has nested row/column.')}function Ad(c,g,a){return'An ancestor parsed field "'.concat(c,'" as ').concat(a," but a child wants to parse the field as ").concat(g,".")}function Dd(c){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(c," are dropped.")}
function ed(c){return"".concat(c,"Offset dropped because ").concat(c," is continuous")}function Fe(c){return"There is no ".concat(c," encoding. Replacing ").concat(c,"Offset encoding as ").concat(c,".")}function ve(c,g){const {fill:a,stroke:e}=g;return"Dropping color ".concat(c," as the plot also has ").concat(a&&e?"fill and stroke":a?"fill":"stroke",".")}function Sd(c,g){return"Dropping ".concat(Gf(c),' from channel "').concat(g,'" since it does not contain any data field, datum, value, or signal.')}
function qe(c,g,a){return"".concat(c,' dropped as it is incompatible with "').concat(g,'"').concat(a?" when ".concat(a):"",".")}function A(c){return"".concat(c,"-encoding is dropped as ").concat(c," is not a valid encoding channel.")}function W(c,g){return'Using discrete channel "'.concat(c,'" to encode "').concat(g,'" field can be misleading as it does not encode ').concat("ordinal"===g?"order":"magnitude",".")}function ta(c,g,a){return"".concat(a,"-scale's \"").concat(g,'" is dropped as it does not work with ').concat(c,
" scale.")}function Qa(c){return'The step for "'.concat(c,'" is dropped because the ').concat("width"===c?"x":"y"," is continuous.")}function qb(c){return'Cannot stack "'.concat(c,'" if there is already "').concat(c,'2".')}function Bb(c,g){return"Invalid ".concat(c,": ").concat(Gf(g),".")}function ac(c){return"1D error band does not support ".concat(c,".")}function Sb(c){return"Channel ".concat(c,' is required for "binned" bin.')}function wb(){hj.warn(...arguments)}function zc(){hj.debug(...arguments)}
function Ic(c){if(c&&M.isObject(c))for(const g of Eg)if(g in c)return!0;return!1}function $c(c){va(c)&&(c=+c);if(M.isNumber(c))return c-1;var g=c.toLowerCase();const a=ul.indexOf(g);if(-1!==a)return a;g=g.substr(0,3);g=Xl.indexOf(g);if(-1!==g)return g;throw Error(Bb("month",c));}function bd(c){va(c)&&(c=+c);if(M.isNumber(c))return c%7;var g=c.toLowerCase();const a=lk.indexOf(g);if(-1!==a)return a;g=g.substr(0,3);g=jj.indexOf(g);if(-1!==g)return g;throw Error(Bb("day",c));}function nd(c,g){const a=
[];g&&void 0!==c.day&&1<vd(c).length&&(wb("Dropping day from datetime ".concat(Gf(c)," as day cannot be combined with other units.")),c=Je(c),delete c.day);void 0!==c.year?a.push(c.year):a.push(2012);if(void 0!==c.month){var e=g?$c(c.month):c.month;a.push(e)}else if(void 0!==c.quarter){if(g)if(e=c.quarter,va(e)&&(e=+e),M.isNumber(e))4<e&&wb(Bb("quarter",e)),--e;else throw Error(Bb("quarter",e));else e=c.quarter;a.push(M.isNumber(e)?3*e:"".concat(e,"*3"))}else a.push(0);void 0!==c.date?a.push(c.date):
void 0!==c.day?(g=g?bd(c.day):c.day,a.push(M.isNumber(g)?g+1:"".concat(g,"+1"))):a.push(1);for(const f of["hours","minutes","seconds","milliseconds"])g=c[f],a.push("undefined"===typeof g?0:g);return a}function Ed(c){const g=nd(c,!0).join(", ");return c.utc?"utc(".concat(g,")"):"datetime(".concat(g,")")}function Wd(c){const g=nd(c,!0);return c.utc?+new Date(Date.UTC(...g)):+new Date(...g)}function ke(c){return Eg.filter(g=>ce(c,g))}function ce(c,g){const a=c.indexOf(g);return 0>a||0<a&&"seconds"===
g&&"i"===c.charAt(a-1)||c.length>a+3&&"day"===g&&"o"===c.charAt(a+3)||0<a&&"year"===g&&"f"===c.charAt(a-1)?!1:!0}function Ud(c,g){var {end:a}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{end:!1};const e=Ca(g),f=c.startsWith("utc")?"utc":"";const k={};for(const r of Eg)if(ce(c,r)){var q=r;q="quarter"===q?"(".concat(f,"quarter(").concat(e,")-1)"):"".concat(f).concat(q,"(").concat(e,")");k[r]=q;q=r}a&&(k[q]+="+1");a=nd(k,!1).join(", ");return k.utc?"utc(".concat(a,")"):"datetime(".concat(a,
")")}function Ve(c){if(c)return c=ke(c),"timeUnitSpecifier(".concat(Gf(c),", ").concat(Gf(bh),")")}function Pe(c){if(c){var g;M.isString(c)?g={unit:c}:M.isObject(c)&&(g=Object.assign({},c,c.unit?{unit:c.unit}:{}));g.unit.startsWith("utc")&&(g.utc=!0,g.unit=g.unit.substr(3));return g}}function hf(c){var g=Pe(c);c=Object.assign({},g);g=g.utc;const a=(delete c.utc,c);return a.unit?(g?"utc":"")+vd(a).map(e=>Aa("".concat("unit"===e?"":"_".concat(e,"_")).concat(a[e]))).join(""):(g?"utc":"")+"timeunit"+
vd(a).map(e=>Aa("_".concat(e,"_").concat(a[e]))).join("")}function Ne(c){return!(null===c||void 0===c||!c.field)&&void 0!==c.equal}function ne(c){return!(null===c||void 0===c||!c.field)&&void 0!==c.lt}function Se(c){return!(null===c||void 0===c||!c.field)&&void 0!==c.lte}function F(c){return!(null===c||void 0===c||!c.field)&&void 0!==c.gt}function Z(c){return!(null===c||void 0===c||!c.field)&&void 0!==c.gte}function Da(c){return null!==c&&void 0!==c&&c.field&&(M.isArray(c.range)&&2===c.range.length||
tc(c.range))?!0:!1}function hb(c){return!(null===c||void 0===c||!c.field)&&(M.isArray(c.oneOf)||M.isArray(c.in))}function Kb(c){return hb(c)||Ne(c)||Da(c)||ne(c)||F(c)||Se(c)||Z(c)}function uc(c,g){return rf(c,{timeUnit:g,wrapTime:!0})}function Ib(c,g){return c.map(a=>uc(a,g))}function ma(c){var g,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:e}=c;const f=null===(g=Pe(c.timeUnit))||void 0===g?void 0:g.unit;g=f?"time(".concat(Ud(f,e),")"):Qc(c,{expr:"datum"});if(Ne(c))return"".concat(g,
"\x3d\x3d\x3d").concat(uc(c.equal,f));if(ne(c))return a=c.lt,"".concat(g,"\x3c").concat(uc(a,f));if(F(c))return a=c.gt,"".concat(g,"\x3e").concat(uc(a,f));if(Se(c))return a=c.lte,"".concat(g,"\x3c\x3d").concat(uc(a,f));if(Z(c))return a=c.gte,"".concat(g,"\x3e\x3d").concat(uc(a,f));if(hb(c))return"indexof([".concat(Ib(c.oneOf,f).join(","),"], ").concat(g,") !\x3d\x3d -1");if(null!==c&&void 0!==c&&c.field&&void 0!==c.valid)return Ga(g,c.valid);if(Da(c)){var {range:k}=c;e=tc(k)?{signal:"".concat(k.signal,
"[0]")}:k[0];k=tc(k)?{signal:"".concat(k.signal,"[1]")}:k[1];if(null!==e&&null!==k&&a)return"inrange("+g+", ["+uc(e,f)+", "+uc(k,f)+"])";a=[];null!==e&&a.push("".concat(g," \x3e\x3d ").concat(uc(e,f)));null!==k&&a.push("".concat(g," \x3c\x3d ").concat(uc(k,f)));return 0<a.length?a.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(Gf(c)));}function Ga(c){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?"isValid(".concat(c,") \x26\x26 isFinite(+").concat(c,")"):
"!isValid(".concat(c,") || !isFinite(+").concat(c,")")}function sb(c){if(Kb(c)&&c.timeUnit){var g;return Object.assign({},c,{timeUnit:null===(g=Pe(c.timeUnit))||void 0===g?void 0:g.unit})}return c}function hc(c){return"quantitative"===c||"temporal"===c}function Uc(c){return"ordinal"===c||"nominal"===c}function Vc(c){if(c)switch(c=c.toLowerCase(),c){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";
case "geojson":return"geojson"}}function rd(c){return nk.has(c)}function ad(c){return ok.has(c)}function Nd(c){return null===c||void 0===c?void 0:c.param}function De(c,g){switch(g){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(c);case "bins":return!["point","band","identity","ordinal"].includes(c);case "round":return Kg.has(c)||"band"===c||"point"===c;case "padding":case "rangeMin":case "rangeMax":return Kg.has(c)||
["point","band"].includes(c);case "paddingOuter":case "align":return["point","band"].includes(c);case "paddingInner":return"band"===c;case "domainMax":case "domainMid":case "domainMin":case "clamp":return Kg.has(c);case "nice":return Kg.has(c)||"quantize"===c||"threshold"===c;case "exponent":return"pow"===c;case "base":return"log"===c;case "constant":return"symlog"===c;case "zero":return ad(c)&&!Db(["log","time","utc","threshold","quantile"],c)}}function Rd(c,g){switch(g){case "interpolate":case "scheme":case "domainMid":if(!G(c))return'Cannot use the scale property "'.concat(g,
'" with non-color channel.')}}function fe(c,g){let a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!$h[c])return!1;switch(c){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return Kg.has(g)||"band"===g?!0:"point"===g?!a:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return Kg.has(g)||rh.has(g)||Db(["band","point","ordinal"],g);case "color":case "fill":case "stroke":return"band"!==g;case "strokeDash":case "shape":return"ordinal"===
g||rh.has(g)}}function Ae(c){return["line","area","trail"].includes(c)}function Pc(c){return c.type}function Gd(c){return c&&void 0!=c.band}function cd(c){const {channel:g,channelDef:a,markDef:e,scale:f,config:k}=c;c=Fd(c);if(Rb(a)&&!ka(a.aggregate)&&f&&Kg.has(f.get("type"))){{let {fieldDef:r,channel:Y,markDef:ia,ref:sa,config:Na}={fieldDef:a,channel:g,markDef:e,ref:c,config:k};if(Ae(ia.type))c=sa;else if(null===ic("invalid",ia,Na)){var q=Y;c=qd(r,!0);q="y"===y(q)?{field:{group:"height"}}:{value:0};
c=[Object.assign({},{test:c},q),sa]}else c=sa}return c}return c}function qd(c){let g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return Ga(M.isString(c)?c:Qc(c,{expr:"datum"}),!g)}function fd(c,g,a,e){const f={};g&&(f.scale=g);Od(c)?({datum:c}=c,Ic(c)?f.signal=Ed(c):tc(c)?f.signal=c.signal:Ob(c)?f.signal=c.expr:f.value=c):f.field=Qc(c,a);if(e){const {offset:k,band:q}=e;k&&(f.offset=k);q&&(f.band=q)}return f}function sd(c){let {scaleName:g,fieldOrDatumDef:a,fieldOrDatumDef2:e,offset:f,
startSuffix:k,bandPosition:q=.5}=c;var r=0<q&&1>q?"datum":void 0;c=Qc(a,{expr:r,suffix:k});const Y=void 0!==e?Qc(e,{expr:r}):Qc(a,{suffix:"end",expr:r});r={};0===q||1===q?(r.scale=g,r.field=0===q?c:Y):(c=tc(q)?"".concat(q.signal," * ").concat(c," + (1-").concat(q.signal,") * ").concat(Y):"".concat(q," * ").concat(c," + ").concat(1-q," * ").concat(Y),r.signal='scale("'.concat(g,'", ').concat(c,")"));f&&(r.offset=f);return r}function Fd(c){let {channel:g,channelDef:a,channel2Def:e,markDef:f,config:k,
scaleName:q,scale:r,stack:Y,offset:ia,defaultRef:sa,bandPosition:Na}=c;if(a){if(hd(a)){var Jb,vc;c=null===r||void 0===r?void 0:r.get("type");if(Mc(a)){var $b;null!==($b=Na)&&void 0!==$b?$b:Na=Sa({fieldDef:a,fieldDef2:e,markDef:f,config:k});const {bin:Hc,timeUnit:Oc,type:ld}=a;if(kb(Hc)||Na&&Oc&&"temporal"===ld)return null!==Y&&void 0!==Y&&Y.impute?fd(a,q,{binSuffix:"mid"},{offset:ia}):Na&&!rd(c)?sd({scaleName:q,fieldOrDatumDef:a,bandPosition:Na,offset:ia}):fd(a,q,mf(a,g)?{binSuffix:"range"}:{},{offset:ia});
if(Za(Hc)){if(Rb(e))return sd({scaleName:q,fieldOrDatumDef:a,fieldOrDatumDef2:e,bandPosition:Na,offset:ia});wb(Sb("x"===g?"x2":"y2"))}}return fd(a,q,rd(c)?{binSuffix:"range"}:{},{offset:ia,band:"band"===c?null!==(Jb=null!==(vc=Na)&&void 0!==vc?vc:a.bandPosition)&&void 0!==Jb?Jb:.5:void 0})}if(dd(a))return Jb=ia?{offset:ia}:{},Object.assign({},be(g,a.value),Jb)}M.isFunction(sa)&&(sa=sa());return sa?Object.assign({},sa,ia?{offset:ia}:{}):sa}function be(c,g){return Db(["x","x2"],c)&&"width"===g?{field:{group:"width"}}:
Db(["y","y2"],c)&&"height"===g?{field:{group:"height"}}:lb(g)}function Ee(c){return c&&"number"!==c&&"time"!==c}function Re(c,g,a){return"".concat(c,"(").concat(g).concat(a?", ".concat(Gf(a)):"",")")}function ff(c){let {fieldOrDatumDef:g,format:a,formatType:e,expr:f,normalizeStack:k,config:q}=c;if(Ee(e))return gd({fieldOrDatumDef:g,format:a,formatType:e,expr:f,config:q});c=jf(g,f,k);var r=Kc(g);if(k&&"quantitative"===r&&void 0===a&&void 0===e&&q.customFormatTypes&&q.normalizedNumberFormatType)return gd({fieldOrDatumDef:g,
format:q.normalizedNumberFormat,formatType:q.normalizedNumberFormatType,expr:f,config:q});if("quantitative"===r&&void 0===a&&void 0===e&&q.customFormatTypes&&q.numberFormatType)return gd({fieldOrDatumDef:g,format:q.numberFormat,formatType:q.numberFormatType,expr:f,config:q});if(Ce(g)){var Y,ia;r=Rb(g)?null===(Y=Pe(g.timeUnit))||void 0===Y?void 0:Y.unit:void 0;var sa=a,Na=q.timeFormat;Y=Pd(g)&&(null===(ia=g.scale)||void 0===ia?void 0:ia.type)===sg.UTC;!r||sa?(sa=M.isString(sa)?sa:Na,c="".concat(Y?
"utc":"time","Format(").concat(c,", '").concat(sa,"')")):r?(ia=Ve(r),r=Y||r.startsWith("utc"),c="".concat(r?"utc":"time","Format(").concat(c,", ").concat(ia,")")):c=void 0;return c?{signal:c}:void 0}a=Wc({type:r,specifiedFormat:a,config:q,normalizeStack:k});return Rb(g)&&kb(g.bin)?(ia=Qc(g,{expr:f,binSuffix:"end"}),{signal:Ya(c,ia,a,e,q)}):a||"quantitative"===Kc(g)?{signal:"".concat(na(c,a))}:{signal:"isValid(".concat(c,") ? ").concat(c,' : ""+').concat(c)}}function jf(c,g,a){if(Rb(c))return a?"".concat(Qc(c,
{expr:g,suffix:"end"}),"-").concat(Qc(c,{expr:g,suffix:"start"})):Qc(c,{expr:g});({datum:c}=c);c=Ic(c)?Ed(c):"".concat(Gf(c));return c}function gd(c){var g;let {fieldOrDatumDef:a,format:e,formatType:f,expr:k,normalizeStack:q,config:r,field:Y}=c;null!==(g=Y)&&void 0!==g?g:Y=jf(a,k,q);return"datum.value"!==Y&&Rb(a)&&kb(a.bin)?(c=Qc(a,{expr:k,binSuffix:"end"}),{signal:Ya(Y,c,e,f,r)}):{signal:Re(f,Y,e)}}function Rc(c,g,a,e,f,k){if(!(Ee(e)||void 0===a&&void 0===e&&f.customFormatTypes&&"quantitative"===
Kc(c)&&(f.normalizedNumberFormatType&&Xd(c)&&"normalize"===c.stack||f.numberFormatType))){if(Xd(c)&&"normalize"===c.stack&&f.normalizedNumberFormat)return Wc({type:"quantitative",config:f,normalizeStack:!0});if(Ce(c)){var q;c=Rb(c)?null===(q=Pe(c.timeUnit))||void 0===q?void 0:q.unit:void 0;a=a?a:c?{signal:Ve(c)}:k?void 0:f.timeFormat;return a}return Wc({type:g,specifiedFormat:a,config:f})}}function jd(c,g,a){if(c&&(tc(c)||"number"===c||"time"===c))return c;if(Ce(g)&&"time"!==a&&"utc"!==a){var e;return Rb(g)&&
null!==(e=Pe(null===g||void 0===g?void 0:g.timeUnit))&&void 0!==e&&e.utc?"utc":"time"}}function Wc(c){let {type:g,specifiedFormat:a,config:e,normalizeStack:f}=c;if(M.isString(a))return a;if("quantitative"===g)return f?e.normalizedNumberFormat:e.numberFormat}function na(c,g){return"format(".concat(c,', "').concat(g||"",'")')}function La(c,g,a,e){var f;return Ee(a)?Re(a,c,g):na(c,null!==(f=M.isString(g)?g:void 0)&&void 0!==f?f:e.numberFormat)}function Ya(c,g,a,e,f){if(void 0===a&&void 0===e&&f.customFormatTypes&&
f.numberFormatType)return Ya(c,g,f.numberFormat,f.numberFormatType,f);const k=La(c,a,e,f);g=La(g,a,e,f);return"".concat(Ga(c,!1),' ? "null" : ').concat(k,' + "').concat("  ",'" + ').concat(g)}function ub(c){return!(null===c||void 0===c||!c.encoding)}function n(c){return c&&("count"===c.op||!!c.field)}function J(c){return c&&M.isArray(c)}function da(c){return"row"in c||"column"in c}function Ja(c){const {field:g,timeUnit:a,bin:e,aggregate:f}=c;return Object.assign({},a?{timeUnit:a}:{},e?{bin:e}:{},
f?{aggregate:f}:{},{field:g})}function Sa(c){let {fieldDef:g,fieldDef2:a,markDef:e,config:f}=c;if(hd(g)&&void 0!==g.bandPosition)return g.bandPosition;if(Rb(g)){const {timeUnit:k,bin:q}=g;if(k&&!a)return["rect","bar","image","arc"].includes(e.type)?0:xc("timeUnitBandPosition",e,f);if(kb(q))return.5}}function Ua(c){let {channel:g,fieldDef:a,fieldDef2:e,markDef:f,config:k,scaleType:q,useVlSizeChannel:r}=c;c=V(g);c=ic(r?"size":c,f,k,{vgChannel:c});if(void 0!==c)return c;if(Rb(a)){const {timeUnit:Na,
bin:Jb}=a;if(Na&&!e)return{band:xc("timeUnitBandSize",f,k)};if(kb(Jb)&&!rd(q))return{band:1}}if(["rect","bar","image","arc"].includes(f.type)){var Y;if(q){if(rd(q)){var ia;return(null===(ia=k[f.type])||void 0===ia?void 0:ia.discreteBandSize)||{band:1}}var sa;return null===(sa=k[f.type])||void 0===sa?void 0:sa.continuousBandSize}return null===(Y=k[f.type])||void 0===Y?void 0:Y.discreteBandSize}}function Pb(c,g,a,e){return kb(c.bin)||c.timeUnit&&Mc(c)&&"temporal"===c.type?void 0!==Sa({fieldDef:c,fieldDef2:g,
markDef:a,config:e}):!1}function bc(c){return c&&"condition"in c}function Ub(c){c=null===c||void 0===c?void 0:c.condition;return!!c&&!M.isArray(c)&&Rb(c)}function yc(c){c=null===c||void 0===c?void 0:c.condition;return!!c&&!M.isArray(c)&&hd(c)}function Rb(c){return c&&(!!c.field||"count"===c.aggregate)}function Kc(c){return null===c||void 0===c?void 0:c.type}function Od(c){return c&&"datum"in c}function od(c){return Mc(c)&&!Oe(c)||Md(c)}function Md(c){return Od(c)&&M.isNumber(c.datum)}function hd(c){return Rb(c)||
Od(c)}function Mc(c){return c&&("field"in c||"count"===c.aggregate)&&"type"in c}function dd(c){return c&&"value"in c&&"value"in c}function Pd(c){return c&&("scale"in c||"sort"in c)}function Xd(c){return c&&("axis"in c||"stack"in c||"impute"in c)}function oe(c){return c&&("format"in c||"formatType"in c)}function re(c){return nc(c,["legend","axis","header","scale"])}function Qc(c){let g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=c.field;const e=g.prefix;let f=g.suffix,k="";if("count"===
c.aggregate)a=ra("count");else{let ia;if(!g.nofn)if("op"in c)ia=c.op;else{const {bin:sa,aggregate:Na,timeUnit:Jb}=c;if(kb(sa)){var q,r;ia=Ka(sa);f=(null!==(q=g.binSuffix)&&void 0!==q?q:"")+(null!==(r=g.suffix)&&void 0!==r?r:"")}else if(Na)xa(Na)?(k='["'.concat(a,'"]'),a="argmax_".concat(Na.argmax)):la(Na)?(k='["'.concat(a,'"]'),a="argmin_".concat(Na.argmin)):ia=String(Na);else if(Jb){var Y;ia=hf(Jb);f=(!["range","mid"].includes(g.binSuffix)&&g.binSuffix||"")+(null!==(Y=g.suffix)&&void 0!==Y?Y:"")}}ia&&
(a=a?"".concat(ia,"_").concat(a):ia)}f&&(a="".concat(a,"_").concat(f));e&&(a="".concat(e,"_").concat(a));return g.forAs?pb(a):g.expr?Cb(a,g.expr)+k:Mb(a)+k}function Oe(c){switch(c.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return Rb(c)&&!!c.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(c.type,'".'));}function We(c,g){const {field:a,bin:e,timeUnit:f,aggregate:k}=c;if("count"===k)return g.countTitle;if(kb(e))return"".concat(a," (binned)");
if(f){var q;if(c=null===(q=Pe(f))||void 0===q?void 0:q.unit)return"".concat(a," (").concat(ke(c).join("-"),")")}else if(k)return xa(k)?"".concat(a," for max ").concat(k.argmax):la(k)?"".concat(a," for min ").concat(k.argmin):"".concat($a(k)," of ").concat(a);return a}function df(c,g,a){var e;let {allowDisabling:f,includeDefault:k=!0}=a;a=null===(e=Hf(c))||void 0===e?void 0:e.title;if(!Rb(c))return null!==a&&void 0!==a?a:c.title;g=k?Ni(c,g):void 0;if(f)return O(a,c.title,g);var q;return null!==(q=
null!==a&&void 0!==a?a:c.title)&&void 0!==q?q:g}function Hf(c){if(Xd(c)&&c.axis)return c.axis;if(c&&"legend"in c&&c.legend)return c.legend;if(c&&"header"in c&&c.header)return c.header}function wd(c){if(oe(c)){const {format:f,formatType:k}=c;return{format:f,formatType:k}}var g;c=null!==(g=Hf(c))&&void 0!==g?g:{};const {format:a,formatType:e}=c;return{format:a,formatType:e}}function te(c,g){var a;switch(g){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";
case "order":return"ordinal"}if("sort"in c&&M.isArray(c.sort))return"ordinal";const {aggregate:e,bin:f,timeUnit:k}=c;if(k)return"temporal";if(f||e&&!xa(e)&&!la(e))return"quantitative";if(Pd(c)&&null!==(a=c.scale)&&void 0!==a&&a.type)switch(Ch[c.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function Qe(c){if(Rb(c))return c;if(Ub(c))return c.condition}function He(c){if(hd(c))return c;if(yc(c))return c.condition}function lf(c,g,a){var e=
3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return M.isString(c)||M.isNumber(c)||M.isBoolean(c)?(e=M.isString(c)?"string":M.isNumber(c)?"number":"boolean",e="Channel ".concat(g," is a ").concat(e,". Converted to {value: ").concat(Gf(c),"}."),wb(e),{value:c}):hd(c)?Pf(c,g,a,e):yc(c)?Object.assign({},c,{condition:Pf(c.condition,g,a,e)}):c}function Pf(c,g,a,e){if(oe(c)){var f=Object.assign({},c),k=c.formatType;f=(delete f.format,delete f.formatType,f);if(Ee(k)&&!a.customFormatTypes)return wb(Dd(g)),
Pf(f,g,a,e)}else if((k=Xd(c)?"axis":c&&"legend"in c?"legend":c&&"header"in c?"header":null)&&c[k]){var q=c[k];f=Object.assign({},q);q=q.formatType;f=(delete f.format,delete f.formatType,f);if(Ee(q)&&!a.customFormatTypes)return wb(Dd(g)),Pf(Object.assign({},c,{[k]:f}),g,a,e)}if(Rb(c))return If(c,g,e);g=c.type;g||({datum:g}=c,g=M.isNumber(g)?"quantitative":M.isString(g)?"nominal":Ic(g)?"temporal":void 0,c=Object.assign({},c,{type:g}));return c}function If(c,g){var {compositeMark:a=!1}=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:{};const {aggregate:e,timeUnit:f,bin:k,field:q}=c,r=Object.assign({},c);a||!e||R(e)||xa(e)||la(e)||(wb('Invalid aggregation operator "'.concat(e,'".')),delete r.aggregate);f&&(r.timeUnit=Pe(f));q&&(r.field="".concat(q));kb(k)&&(r.bin=Wf(k,g));Za(k)&&!L(g)&&wb("Channel ".concat(g,' should not be used with "binned" bin.'));if(Mc(r)){({type:a}=r);var Y=Vc(a);a!==Y&&(r.type=Y);"quantitative"!==a&&ka(e)&&(a='Invalid field type "'.concat(a,'" for aggregate: "').concat(e,
'", using "quantitative" instead.'),wb(a),r.type="quantitative")}else Q(g)||(a=te(r,g),r.type=a);if(Mc(r)){const {compatible:sa,warning:Na}=Xe(r,g)||{};!1===sa&&wb(Na)}if("sort"in r&&M.isString(r.sort)){({sort:a}=r);if(a in mj)return Object.assign({},r,{sort:{encoding:a}});Y=a.substr(1);if("-"===a.charAt(0)&&Y in mj)return Object.assign({},r,{sort:{encoding:Y,order:"descending"}})}if(r&&"header"in r&&({header:a}=r,a)){var ia=a;Y=Object.assign({},ia);ia=ia.orient;Y=(delete Y.orient,Y);if(ia)return Object.assign({},
r,{header:Object.assign({},Y,{labelOrient:a.labelOrient||ia,titleOrient:a.titleOrient||ia})})}return r}function Wf(c,g){return M.isBoolean(c)?{maxbins:Ra(g)}:"binned"===c?{binned:!0}:c.maxbins||c.step?c:Object.assign({},c,{maxbins:Ra(g)})}function Xe(c,g){var a=c.type;if("geojson"===a&&"shape"!==g)return{compatible:!1,warning:"Channel ".concat(g," should not be used with a geojson data.")};switch(g){case "row":case "column":case "facet":return Oe(c)?ei:{compatible:!1,warning:"".concat(g," encoding should be discrete (ordinal / nominal / binned).")};
case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return ei;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==a?{compatible:!1,warning:"Channel ".concat(g," should be used with a quantitative field only, not ").concat(c.type," field.")}:ei;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==
a||c.sort?ei:{compatible:!1,warning:"Channel ".concat(g," should not be used with an unsorted discrete field.")};case "shape":case "strokeDash":if(a=!Oe(c)){var e;a=!(Pd(c)&&rh.has(null===(e=c.scale)||void 0===e?void 0:e.type))}return a?{compatible:!1,warning:"".concat(g," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}:ei;case "order":return"nominal"!==c.type||"sort"in c?ei:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}
function Ce(c){var {formatType:g}=wd(c),a;if(!(a="time"===g)){if(g=!g)g=c&&("temporal"===c.type||Rb(c)&&!!c.timeUnit);a=g}return a}function rf(c,g){let {timeUnit:a,type:e,wrapTime:f,undefinedIfExprNotRequired:k}=g;var q=(g=a&&(null===(q=Pe(a))||void 0===q?void 0:q.unit))||"temporal"===e;let r;Ob(c)?r=c.expr:tc(c)?r=c.signal:Ic(c)?(q=!0,r=Ed(c)):(M.isString(c)||M.isNumber(c))&&q&&(r="datetime(".concat(Gf(c),")"),ai[g]&&(M.isNumber(c)&&1E4>c||M.isString(c)&&isNaN(Date.parse(c)))&&(r=Ed({[g]:c})));return r?
f&&q?"time(".concat(r,")"):r:k?void 0:Gf(c)}function jg(c,g){const {type:a}=c;return g.map(e=>{const f=rf(e,{timeUnit:Rb(c)?c.timeUnit:void 0,type:a,undefinedIfExprNotRequired:!0});return void 0!==f?{signal:f}:e})}function mf(c,g){return kb(c.bin)?!!$h[g]&&["ordinal","nominal"].includes(c.type):(console.warn("Only call this method for binned field defs."),!1)}function uf(c){return null===c||void 0===c?void 0:c.condition}function Qf(c){return"mark"in c}function ng(c,g){return(c=c&&c[g])?M.isArray(c)?
fc(c,a=>!!a.field):Rb(c)||Ub(c):!1}function Rf(c,g){return(c=c&&c[g])?M.isArray(c)?fc(c,a=>!!a.field):Rb(c)||Od(c)||yc(c):!1}function Jf(c,g){if(L(g)){const a=c[g];if((Rb(a)||Od(a))&&Uc(a.type))return g=K(g),Rf(c,g)}return!1}function ug(c){return fc(ej,g=>ng(c,g)?(g=c[g],M.isArray(g)?fc(g,a=>!!a.aggregate):(g=Qe(g))&&!!g.aggregate):!1)}function U(c,g){const a=[],e=[],f=[],k=[],q={};ud(c,(r,Y)=>{if(Rb(r)){var ia=Object.assign({},r),sa=r.field;const Jb=r.aggregate,vc=r.bin,$b=r.timeUnit;ia=(delete ia.field,
delete ia.aggregate,delete ia.bin,delete ia.timeUnit,ia);if(Jb||$b||vc){var Na=Hf(r);const Hc=null===Na||void 0===Na?void 0:Na.title;Na=Qc(r,{forAs:!0});ia=Object.assign({},Hc?[]:{title:df(r,g,{allowDisabling:!0})},ia,{field:Na});if(Jb){let Oc;xa(Jb)?(Oc="argmax",Na=Qc({op:"argmax",field:Jb.argmax},{forAs:!0}),ia.field="".concat(Na,".").concat(sa)):la(Jb)?(Oc="argmin",Na=Qc({op:"argmin",field:Jb.argmin},{forAs:!0}),ia.field="".concat(Na,".").concat(sa)):"boxplot"!==Jb&&"errorbar"!==Jb&&"errorband"!==
Jb&&(Oc=Jb);Oc&&(r={op:Oc,as:Na},sa&&(r.field=sa),k.push(r))}else a.push(Na),Mc(r)&&kb(vc)?(e.push({bin:vc,field:sa,as:Na}),a.push(Qc(r,{binSuffix:"end"})),mf(r,Y)&&a.push(Qc(r,{binSuffix:"range"})),L(Y)&&(sa={field:"".concat(Na,"_end")},q["".concat(Y,"2")]=sa),ia.bin="binned",Q(Y)||(ia.type="quantitative")):$b&&(f.push({timeUnit:$b,field:sa,as:Na}),(sa=Mc(r)&&"temporal"!==r.type&&"time")&&("text"===Y||"tooltip"===Y?ia.formatType=sa:gk[Y]?ia.legend=Object.assign({},{formatType:sa},ia.legend):L(Y)&&
(ia.axis=Object.assign({},{formatType:sa},ia.axis))));q[Y]=ia}else a.push(sa),q[Y]=c[Y]}else q[Y]=c[Y]});return{bins:e,timeUnits:f,aggregate:k,groupby:a,encoding:q}}function Ia(c,g,a){a=qa(g)[a];return a&&("binned"!==a||(a=c["x2"===g?"x":"y"],Rb(a)&&Rb(c[g])&&Za(a.bin)))?!0:!1}function rb(c,g,a,e){const f={};for(var k of vd(c))kk[k]||wb(A(k));for(let r of il)if(c[r]){k=c[r];if(r in pi){var q=z(r);const Y=f[q];if(Rb(Y)){if(hc(Y.type)&&Rb(k)){wb(ed(q));continue}}else r=q,wb(Fe(q))}"angle"!==r||"arc"!==
g||c.theta||(wb("Arc marks uses theta channel rather than angle, replacing angle with theta."),r="theta");if(Ia(c,r,g)){if("size"===r&&"line"===g&&(q=Qe(c[r]),null!==q&&void 0!==q&&q.aggregate)){wb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}if("color"===r&&(a?"fill"in c:"stroke"in c))wb(ve("encoding",{fill:"fill"in c,stroke:"stroke"in c}));else if("detail"===r||"order"===r&&!M.isArray(k)&&!dd(k)||"tooltip"===r&&M.isArray(k))k&&(f[r]=
M.array(k).reduce((Y,ia)=>{Rb(ia)?Y.push(If(ia,r)):wb(Sd(ia,r));return Y},[]));else{if("tooltip"===r&&null===k)f[r]=null;else if(!(Rb(k)||Od(k)||dd(k)||bc(k)||tc(k))){wb(Sd(k,r));continue}f[r]=lf(k,r,e)}}else wb(qe(r,g))}return f}function Cc(c,g){const a={};for(const e of vd(c)){const f=lf(c[e],e,g,{compositeMark:!0});a[e]=f}return a}function Gc(c){const g=[];for(const a of vd(c))if(ng(c,a)){const e=M.array(c[a]);for(const f of e)Rb(f)?g.push(f):Ub(f)&&g.push(f.condition)}return g}function ud(c,g,
a){if(c)for(const e of vd(c)){const f=c[e];if(M.isArray(f))for(const k of f)g.call(a,k,e);else g.call(a,f,e)}}function xe(c,g,a,e){return c?vd(c).reduce((f,k)=>{const q=c[k];return M.isArray(q)?q.reduce((r,Y)=>g.call(e,r,Y,k),f):g.call(e,f,q,k)},a):a}function Ge(c,g){return vd(g).reduce((a,e)=>{switch(e){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return a;
case "order":if("line"===c||"trail"===c)return a;case "detail":case "key":e=g[e];if(M.isArray(e)||Rb(e))for(var f of M.array(e))f.aggregate||a.push(Qc(f,{}));return a;case "size":if("trail"===c)return a;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(f=Qe(g[e]))&&!f.aggregate&&a.push(Qc(f,{})),a}},[])}function cg(c,g,a){let e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in a)return{tooltip:a.tooltip};
const f=c.map(q=>{let {fieldPrefix:r,titlePrefix:Y}=q;q=e?" of ".concat(Ye(g)):"";return{field:r+g.field,type:g.type,title:tc(Y)?{signal:"".concat(Y,'"').concat(escape(q),'"')}:Y+q}}),k=Gc(a).map(re);return{tooltip:[...f,...yb(k,Tb)]}}function Ye(c){const {title:g,field:a}=c;return O(g,a)}function dg(c,g,a,e,f){const {scale:k,axis:q}=a;return r=>{let {partName:Y,mark:ia,positionPrefix:sa,endPositionPrefix:Na,extraEncoding:Jb={}}=r;r=Ye(a);return Xg(c,Y,f,{mark:ia,encoding:Object.assign({},{[g]:Object.assign({},
{field:"".concat(sa,"_").concat(a.field),type:a.type},void 0!==r?{title:r}:{},void 0!==k?{scale:k}:{},void 0!==q?{axis:q}:{})},M.isString(Na)?{["".concat(g,"2")]:{field:"".concat(Na,"_").concat(a.field)}}:{},e,Jb)})}}function Xg(c,g,a,e){const {clip:f,color:k,opacity:q}=c,r=c.type;return c[g]||void 0===c[g]&&a[g]?[Object.assign({},e,{mark:Object.assign({},a[g],f?{clip:f}:{},k?{color:k}:{},q?{opacity:q}:{},Pc(e.mark)?e.mark:{type:e.mark},{style:"".concat(r,"-").concat(String(g))},M.isBoolean(c[g])?
{}:c[g])})]:[]}function vg(c,g,a){({encoding:c}=c);g="vertical"===g?"y":"x";const e=c[g],f=c["".concat(g,"2")],k=c["".concat(g,"Error")];c=c["".concat(g,"Error2")];return{continuousAxisChannelDef:eg(e,a),continuousAxisChannelDef2:eg(f,a),continuousAxisChannelDefError:eg(k,a),continuousAxisChannelDefError2:eg(c,a),continuousAxis:g}}function eg(c,g){if(null!==c&&void 0!==c&&c.aggregate){var a=Object.assign({},c);c=c.aggregate;a=(delete a.aggregate,a);c!==g&&(g="Continuous axis should not have customized aggregation function ".concat(c,
"; ").concat(g," already agregates the axis."),wb(g));return a}return c}function kg(c,g){const {mark:a,encoding:e}=c,{x:f,y:k}=e;if(Pc(a)&&a.orient)return a.orient;if(od(f)){if(od(k)){c=Rb(f)&&f.aggregate;const q=Rb(k)&&k.aggregate;if(!c&&q===g)return"vertical";if(q||c!==g){if(c===g&&q===g)throw Error("Both x and y cannot have aggregate");return Ce(k)&&!Ce(f)?"horizontal":"vertical"}}return"horizontal"}if(od(k))return"vertical";throw Error("Need a valid continuous axis for ".concat(g,"s"));}function Hg(c){return M.isNumber(c)?
"tukey":c}function Ig(c,g){var a,{config:e}=g,f=c=Object.assign({},c,{encoding:Cc(c.encoding,e)});g=Object.assign({},f);var k=f.mark;f=f.params;g=(delete g.mark,delete g.encoding,delete g.params,delete g.projection,g);k=Pc(k)?k:{type:k};f&&wb(xd("boxplot"));f=null!==(a=k.extent)&&void 0!==a?a:e.boxplot.extent;var q=ic("size",k,e);a=Hg(f);var r=c;c=kg(r,"boxplot");const {continuousAxisChannelDef:Y,continuousAxis:ia}=vg(r,c,"boxplot");var sa=Y.field,Na=Hg(f),Jb=[...kh(sa),{op:"median",field:sa,as:"mid_box_".concat(sa)},
{op:"min",field:sa,as:("min-max"===Na?"lower_whisker_":"min_")+sa},{op:"max",field:sa,as:("min-max"===Na?"upper_whisker_":"max_")+sa}];sa="min-max"===Na||"tukey"===Na?[]:[{calculate:'datum["upper_box_'.concat(sa,'"] - datum["lower_box_').concat(sa,'"]'),as:"iqr_".concat(sa)},{calculate:'min(datum["upper_box_'.concat(sa,'"] + datum["iqr_').concat(sa,'"] * ').concat(f,', datum["max_').concat(sa,'"])'),as:"upper_whisker_".concat(sa)},{calculate:'max(datum["lower_box_'.concat(sa,'"] - datum["iqr_').concat(sa,
'"] * ').concat(f,', datum["min_').concat(sa,'"])'),as:"lower_whisker_".concat(sa)}];r=Object.assign({},r.encoding);var vc;Na=(delete r[ia],r);r=Object.assign({},Na);Na=Na.tooltip;r=(delete r.tooltip,r);if(Na){var $b;if(M.isArray(Na)){for(var Hc of Na)Hc.aggregate?(vc||(vc=[]),vc.push(Hc)):($b||($b=[]),$b.push(Hc));vc&&(r.tooltip=vc)}else Na.aggregate?r.tooltip=Na:$b=Na;M.isArray($b)&&1===$b.length&&($b=$b[0]);vc={customTooltipWithoutAggregatedField:$b,filteredEncoding:r}}else vc={filteredEncoding:r};
const {customTooltipWithoutAggregatedField:Oc,filteredEncoding:ld}=vc,{bins:Kd,timeUnits:md,aggregate:zd,groupby:Yd,encoding:Td}=U(ld,e);vc=[...Kd,...md,{aggregate:[...zd,...Jb],groupby:Yd},...sa];const {bins:Qd,timeUnits:Me,transform:Ef,continuousAxisChannelDef:Ue,continuousAxis:Vg,groupby:Hh,aggregate:nm,encodingWithoutContinuousAxis:Ff,ticksOrient:Al,boxOrient:om,customTooltipWithoutAggregatedField:zm}={bins:Kd,timeUnits:md,transform:vc,groupby:Yd,aggregate:zd,continuousAxisChannelDef:Y,continuousAxis:ia,
encodingWithoutContinuousAxis:Td,ticksOrient:"vertical"===c?"horizontal":"vertical",boxOrient:c,customTooltipWithoutAggregatedField:Oc};$b=Object.assign({},Ff);vc=Ff.color;Jb=Ff.size;$b=(delete $b.color,delete $b.size,$b);Hc=dg(k,Vg,Ue,$b,e.boxplot);c=dg(k,Vg,Ue,Ff,e.boxplot);Jb=dg(k,Vg,Ue,Object.assign({},$b,Jb?{size:Jb}:{}),e.boxplot);sa=cg([{fieldPrefix:"min-max"===a?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},
{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===a?"lower_whisker_":"min_",titlePrefix:"Min"}],Ue,Ff);r={type:"tick",color:"black",opacity:1,orient:Al,invalid:null,aria:!1};Na="min-max"===a?sa:cg([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Ue,Ff);Hc=[...Hc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Na}),...Hc({partName:"rule",
mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:Na}),...Hc({partName:"ticks",mark:r,positionPrefix:"lower_whisker",extraEncoding:Na}),...Hc({partName:"ticks",mark:r,positionPrefix:"upper_whisker",extraEncoding:Na})];q=[...("tukey"!==a?Hc:[]),...c({partName:"box",mark:Object.assign({},{type:"bar"},q?{size:q}:{},{orient:om,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:sa}),
...Jb({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},M.isObject(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:{},q?{size:q}:{},{orient:Al,aria:!1}),positionPrefix:"mid_box",extraEncoding:sa})];if("min-max"===a){var Xi;return Object.assign({},g,{transform:(null!==(Xi=g.transform)&&void 0!==Xi?Xi:[]).concat(Ef),layer:q})}Xi='datum["lower_box_'.concat(Ue.field,'"]');a='datum["upper_box_'.concat(Ue.field,'"]');c="(".concat(a," - ").concat(Xi,")");Xi="".concat(Xi,
" - ").concat(f," * ").concat(c);c="".concat(a," + ").concat(f," * ").concat(c);Jb='datum["'.concat(Ue.field,'"]');f={joinaggregate:kh(Ue.field),groupby:Hh};a={transform:[{filter:"(".concat(Xi," \x3c\x3d ").concat(Jb,") \x26\x26 (").concat(Jb," \x3c\x3d ").concat(c,")")},{aggregate:[{op:"min",field:Ue.field,as:"lower_whisker_".concat(Ue.field)},{op:"max",field:Ue.field,as:"upper_whisker_".concat(Ue.field)},{op:"min",field:"lower_box_".concat(Ue.field),as:"lower_box_".concat(Ue.field)},{op:"max",field:"upper_box_".concat(Ue.field),
as:"upper_box_".concat(Ue.field)},...nm],groupby:Hh}],layer:Hc};$b=Object.assign({},$b);$b=(delete $b.tooltip,$b);const {scale:Am,axis:Hm}=Ue;Hc=Ye(Ue);sa=nc(Hm,["title"]);e=Xg(k,"outliers",e.boxplot,{transform:[{filter:"(".concat(Jb," \x3c ").concat(Xi,") || (").concat(Jb," \x3e ").concat(c,")")}],mark:"point",encoding:Object.assign({},{[Vg]:Object.assign({},{field:Ue.field,type:Ue.type},void 0!==Hc?{title:Hc}:{},void 0!==Am?{scale:Am}:{},Fa(sa)?{}:{axis:sa})},$b,vc?{color:vc}:{},zm?{tooltip:zm}:
{})})[0];k=[...Qd,...Me,f];e?e={transform:k,layer:[e,a]}:(e=a,e.transform.unshift(...k));return Object.assign({},g,{layer:[e,{transform:Ef,layer:q}]})}function kh(c){return[{op:"q1",field:c,as:"lower_box_".concat(c)},{op:"q3",field:c,as:"upper_box_".concat(c)}]}function uh(c,g){({config:g}=g);c=Object.assign({},c,{encoding:Cc(c.encoding,g)});const {transform:a,continuousAxisChannelDef:e,continuousAxis:f,encodingWithoutContinuousAxis:k,ticksOrient:q,markDef:r,outerSpec:Y,tooltipEncoding:ia}=vh(c,"errorbar",
g);delete k.size;c=dg(r,f,e,k,g.errorbar);g=r.thickness;var sa=r.size;sa=Object.assign({},{type:"tick",orient:q,aria:!1},void 0!==g?{thickness:g}:{},void 0!==sa?{size:sa}:{});c=[...c({partName:"ticks",mark:sa,positionPrefix:"lower",extraEncoding:ia}),...c({partName:"ticks",mark:sa,positionPrefix:"upper",extraEncoding:ia}),...c({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==g?{size:g}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ia})];
return Object.assign({},Y,{transform:a},1<c.length?{layer:c}:Object.assign({},c[0]))}function Oh(c,g){var {encoding:a}=c;if(!(!hd(a.x)&&!hd(a.y)||hd(a.x2)||hd(a.y2)||hd(a.xError)||hd(a.xError2)||hd(a.yError)||hd(a.yError2)))return{orient:kg(c,g),inputType:"raw"};var e=hd(a.x2)||hd(a.y2);var f=hd(a.xError)||hd(a.xError2)||hd(a.yError)||hd(a.yError2);c=a.x;const k=a.y;if(e){if(f)throw Error("".concat(g," cannot be both type aggregated-upper-lower and aggregated-error"));e=a.x2;a=a.y2;if(hd(e)&&hd(a))throw Error("".concat(g,
" cannot have both x2 and y2"));if(hd(e)){if(od(c))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(g));}if(hd(a)){if(od(k))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(g));}}else{e=a.xError;f=a.yError;const q=a.yError2;if(hd(a.xError2)&&!hd(e))throw Error("".concat(g," cannot have xError2 without xError"));if(hd(q)&&!hd(f))throw Error("".concat(g,
" cannot have yError2 without yError"));if(hd(e)&&hd(f))throw Error("".concat(g," cannot have both xError and yError with both are quantiative"));if(hd(e)){if(od(c))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(hd(f)){if(od(k))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function vh(c,g,a){var e,
f=Object.assign({},c),k=c.mark,q=c.encoding,r=c.params;f=(delete f.mark,delete f.encoding,delete f.params,delete f.projection,f);k=Pc(k)?k:{type:k};r&&wb(xd(g));const {orient:Y,inputType:ia}=Oh(c,g),{continuousAxisChannelDef:sa,continuousAxisChannelDef2:Na,continuousAxisChannelDefError:Jb,continuousAxisChannelDefError2:vc,continuousAxis:$b}=vg(c,Y,g);var Hc=[];c=[];r=sa.field;var Oc=!1;if("raw"===ia){var ld=k.center?k.center:k.extent?"iqr"===k.extent?"median":"mean":a.errorbar.center;var Kd=k.extent?
k.extent:"mean"===ld?"stderr":"iqr";"median"===ld!==("iqr"===Kd)&&(Hc=Kd,Hc="".concat(ld," is not usually used with ").concat(Hc," for ").concat(g,"."),wb(Hc));"stderr"===Kd||"stdev"===Kd?(Hc=[{op:Kd,field:r,as:"extent_".concat(r)},{op:ld,field:r,as:"center_".concat(r)}],c=[{calculate:'datum["center_'.concat(r,'"] + datum["extent_').concat(r,'"]'),as:"upper_".concat(r)},{calculate:'datum["center_'.concat(r,'"] - datum["extent_').concat(r,'"]'),as:"lower_".concat(r)}],ld=[{fieldPrefix:"center_",titlePrefix:$a(ld)},
{fieldPrefix:"upper_",titlePrefix:lh(ld,Kd,"+")},{fieldPrefix:"lower_",titlePrefix:lh(ld,Kd,"-")}],Oc=!0):("ci"===Kd?(g="mean",ld="ci0",Kd="ci1"):(g="median",ld="q1",Kd="q3"),Hc=[{op:ld,field:r,as:"lower_".concat(r)},{op:Kd,field:r,as:"upper_".concat(r)},{op:g,field:r,as:"center_".concat(r)}],ld=[{fieldPrefix:"upper_",titlePrefix:df({field:r,aggregate:Kd,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:df({field:r,aggregate:ld,type:"quantitative"},a,{allowDisabling:!1})},
{fieldPrefix:"center_",titlePrefix:df({field:r,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})}])}else{if(k.center||k.extent){g=k.center;var md=k.extent;g="".concat(md?"extent ":"").concat(md&&g?"and ":"").concat(g?"center ":"").concat(md&&g?"are ":"is ","not needed when data are aggregated.");wb(g)}"aggregated-upper-lower"===ia?(ld=[],c=[{calculate:'datum["'.concat(Na.field,'"]'),as:"upper_".concat(r)},{calculate:'datum["'.concat(r,'"]'),as:"lower_".concat(r)}]):"aggregated-error"===ia&&
(ld=[{fieldPrefix:"",titlePrefix:r}],c=[{calculate:'datum["'.concat(r,'"] + datum["').concat(Jb.field,'"]'),as:"upper_".concat(r)}],vc?c.push({calculate:'datum["'.concat(r,'"] + datum["').concat(vc.field,'"]'),as:"lower_".concat(r)}):c.push({calculate:'datum["'.concat(r,'"] - datum["').concat(Jb.field,'"]'),as:"lower_".concat(r)}));for(Kd of c)ld.push({fieldPrefix:Kd.as.substring(0,6),titlePrefix:kc(kc(Kd.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:zd,postAggregateCalculates:Yd,
tooltipSummary:Td,tooltipTitleWithFieldName:Qd}={postAggregateCalculates:c,errorBarSpecificAggregate:Hc,tooltipSummary:ld,tooltipTitleWithFieldName:Oc};q=Object.assign({},q);c="x"===$b?"x2":"y2";r="x"===$b?"xError":"yError";Oc="x"===$b?"xError2":"yError2";q=(delete q[$b],delete q[c],delete q[r],delete q[Oc],q);const {bins:Me,timeUnits:Ef,aggregate:Ue,groupby:Vg,encoding:Hh}=U(q,a);a=[...Ue,...zd];q="raw"!==ia?[]:Vg;c=cg(Td,sa,Hh,Qd);return{transform:[...(null!==(e=f.transform)&&void 0!==e?e:[]),...Me,
...Ef,...(0===a.length?[]:[{aggregate:a,groupby:q}]),...Yd],groupby:q,continuousAxisChannelDef:sa,continuousAxis:$b,encodingWithoutContinuousAxis:Hh,ticksOrient:"vertical"===Y?"horizontal":"vertical",markDef:k,outerSpec:f,tooltipEncoding:c}}function lh(c,g,a){return"".concat($a(c)," ").concat(a," ").concat(g)}function de(c,g){({config:g}=g);c=Object.assign({},c,{encoding:Cc(c.encoding,g)});const {transform:a,continuousAxisChannelDef:e,continuousAxis:f,encodingWithoutContinuousAxis:k,markDef:q,outerSpec:r,
tooltipEncoding:Y}=vh(c,"errorband",g);g=dg(q,f,e,k,g.errorband);c=void 0!==c.encoding.x&&void 0!==c.encoding.y;let ia={type:c?"area":"rect"},sa={type:c?"line":"rule"};const Na=Object.assign({},q.interpolate?{interpolate:q.interpolate}:{},q.tension&&q.interpolate?{tension:q.tension}:{});c?(ia=Object.assign({},ia,Na,{ariaRoleDescription:"errorband"}),sa=Object.assign({},sa,Na,{aria:!1})):q.interpolate?wb(ac("interpolate")):q.tension&&wb(ac("tension"));return Object.assign({},r,{transform:a,layer:[...g({partName:"band",
mark:ia,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Y}),...g({partName:"borders",mark:sa,positionPrefix:"lower",extraEncoding:Y}),...g({partName:"borders",mark:sa,positionPrefix:"upper",extraEncoding:Y})]})}function je(c,g,a){g=new vi(c,g);nl[c]={normalizer:g,parts:a}}function gf(c){return"legend"===c||!(null===c||void 0===c||!c.legend)}function Le(c){return gf(c)&&M.isObject(c)}function nf(c){return!(null===c||void 0===c||!c.select)}function Ze(c){const g=[];for(const f of c||
[])if(!nf(f)){var a=f,e=Object.assign({},a);c=a.expr;a=a.bind;e=(delete e.expr,delete e.bind,e);a&&c?(c=Object.assign({},e,{bind:a,init:c}),g.push(c)):(c=Object.assign({},e,c?{update:c}:{},a?{bind:a}:{}),g.push(c))}return g}function Sf(c){let {step:g,offsetIsDiscrete:a}=c;if(a){var e;return null!==(e=g.for)&&void 0!==e?e:"offset"}return"position"}function wf(c){return M.isObject(c)&&void 0!==c.step}function Xf(c){return c.view||c.width||c.height}function $e(c,g,a){const e={},{spacing:f,columns:k}=
a[g];void 0!==f&&(e.spacing=f);void 0!==k&&("facet"in c&&!da(c.facet)||"concat"in c)&&(e.columns=k);"vconcat"in c&&(e.columns=1);for(const Y of rl)if(void 0!==c[Y])if("spacing"===Y){var q,r;g=c[Y];e[Y]=M.isNumber(g)?g:{row:null!==(q=g.row)&&void 0!==q?q:f,column:null!==(r=g.column)&&void 0!==r?r:f}}else e[Y]=c[Y];return e}function wg(c,g){var a;return null!==(a=c[g])&&void 0!==a?a:c["width"===g?"continuousWidth":"continuousHeight"]}function Zg(c,g){c=Sg(c,g);return wf(c)?c.step:20}function Sg(c,g){var a;
const e=null!==(a=c[g])&&void 0!==a?a:c["width"===g?"discreteWidth":"discreteHeight"];return O(e,{step:c.step})}function xg(){let c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:M.isObject(c)?Object.assign({},Mg,c):Mg}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},
"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Qh(c){var g=vd(c||{});const a={};for(const e of g)g=
c[e],a[e]=uf(g)?Ta(g):Ea(g);return a}function gh(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},g=Object.assign({},c),a=c.color,e=c.font,f=c.fontSize;c=c.selection;g=(delete g.color,delete g.font,delete g.fontSize,delete g.selection,g);var k=M.mergeConfig,q=Je(Wl);e=e?{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}:{};a=a?xg(a):{};f=f?{signals:[{name:"fontSize",value:M.isObject(f)?Object.assign({},Mj,f):Mj}],
text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};f=k.call(M,{},q,e,a,f,g||{});c&&M.writeConfig(f,"selection",c,!0);c=nc(f,Yl);for(var r of["background","lineBreak","padding"])f[r]&&(c[r]=Ea(f[r]));for(var Y of Dh)f[Y]&&(c[Y]=mc(f[Y]));for(var ia of Kj)f[ia]&&(c[ia]=Qh(f[ia]));
for(const sa of uk)f[sa]&&(c[sa]=mc(f[sa]));f.legend&&(c.legend=mc(f.legend));f.scale&&(c.scale=mc(f.scale));if(f.style){r=f.style;Y=vd(r);ia={};for(const sa of Y)ia[sa]=Qh(r[sa]);c.style=ia}f.title&&(c.title=mc(f.title));f.view&&(c.view=mc(f.view));return c}function Rh(c){c=Je(c);for(var g of tl)delete c[g];if(c.axis)for(var a in c.axis)uf(c.axis[a])&&delete c.axis[a];if(c.legend)for(var e of Ul)delete c.legend[e];if(c.mark){for(var f of lj)delete c.mark[f];c.mark.tooltip&&M.isObject(c.mark.tooltip)&&
delete c.mark.tooltip}c.params&&(c.signals=(c.signals||[]).concat(Ze(c.params)),delete c.params);for(var k of ee){for(const Na of lj)delete c[k][Na];if(g=Ng[k])for(const Na of g)delete c[k][Na];a=g=void 0;e=c;f=k;var q=void 0,r=e[f];"view"===f&&(q="cell");r=Object.assign({},r,e.style[null!==(a=q)&&void 0!==a?a:f]);Fa(r)||(e.style[null!==(g=q)&&void 0!==g?g:f]=r);delete e[f]}for(const Na of vd(nl))delete c[Na];k=c;const {titleMarkConfig:Y,subtitleMarkConfig:ia,subtitle:sa}=Lc(k.title);Fa(Y)||(k.style["group-title"]=
Object.assign({},k.style["group-title"],Y));Fa(ia)||(k.style["group-subtitle"]=Object.assign({},k.style["group-subtitle"],ia));Fa(sa)?delete k.title:k.title=sa;for(const Na in c)M.isObject(c[Na])&&Fa(c[Na])&&delete c[Na];return Fa(c)?void 0:c}function Lg(c){return Rb(c)&&"quantitative"===Kc(c)&&!c.bin}function hh(c,g){const a="x"===g?"y":"radius";var e=c[g];c=c[a];if(Rb(e)&&Rb(c))if(Lg(e)&&Lg(c)){if(e.stack)return g;if(c.stack)return a;const q=Rb(e)&&!!e.aggregate,r=Rb(c)&&!!c.aggregate;if(q!==r)return q?
g:a;var f,k;e=null===(f=e.scale)||void 0===f?void 0:f.type;f=null===(k=c.scale)||void 0===k?void 0:k.type;if(e&&"linear"!==e)return a;if(f&&"linear"!==f)return g}else{if(Lg(e))return g;if(Lg(c))return a}else{if(Lg(e))return g;if(Lg(c))return a}}function nh(c){switch(c){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function xi(c,g){var a,e;c=Pc(c)?c.type:c;if(!xk.has(c))return null;const f=hh(g,"x")||hh(g,"theta");if(!f)return null;const k=g[f];var q=
Rb(k)?Qc(k,{}):void 0,r=nh(f);const Y=[],ia=new Set;if(g[r]){var sa=g[r];(sa=Rb(sa)?Qc(sa,{}):void 0)&&sa!==q&&(Y.push(r),ia.add(sa));r="x"===r?"xOffset":"yOffset";sa=g[r];(sa=Rb(sa)?Qc(sa,{}):void 0)&&sa!==q&&(Y.push(r),ia.add(sa))}q=jl.reduce((Jb,vc)=>{if("tooltip"!==vc&&ng(g,vc)){var $b=g[vc];for(const Hc of M.array($b)){$b=Qe(Hc);if($b.aggregate)continue;const Oc=Qc($b,{});Oc&&ia.has(Oc)||Jb.push({channel:vc,fieldDef:$b})}}return Jb},[]);let Na;void 0!==k.stack?Na=M.isBoolean(k.stack)?k.stack?
"zero":null:k.stack:Yk.has(c)&&(Na="zero");if(!(Na&&Na in $l)||ug(g)&&0===q.length)return null;if(null!==k&&void 0!==k&&null!==(a=k.scale)&&void 0!==a&&a.type&&(null===k||void 0===k?void 0:null===(e=k.scale)||void 0===e?void 0:e.type)!==sg.LINEAR)return wb("Cannot stack non-linear scale (".concat(k.scale.type,").")),null;if(hd(g[H(f)]))return void 0!==k.stack&&wb(qb(f)),null;Rb(k)&&k.aggregate&&!xl.has(k.aggregate)&&wb('Stacking is applied even though the aggregate function is non-summative ("'.concat(k.aggregate,
'").'));return{groupbyChannels:Y,groupbyFields:ia,fieldChannel:f,impute:null===k.impute?!1:Ae(c),stackBy:q,offset:Na}}function Jg(c){let g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length?arguments[2]:void 0;if("transparent"===c.point)return{opacity:0};if(c.point)return M.isObject(c.point)?c.point:{};if(void 0!==c.point)return null;if(g.point||a.shape)return M.isObject(g.point)?g.point:{}}function Sh(c){let g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};
if(c.line)return!0===c.line?{}:c.line;if(void 0!==c.line)return null;if(g.line)return!0===g.line?{}:g.line}function Qi(c,g){return g?Yg(c,g):c}function Bg(c,g,a){const e=g[c];if(e&&!M.isString(e)&&"repeat"in e){if(e.repeat in a)return Object.assign({},g,{[c]:a[e.repeat]});wb('Unknown repeated value "'.concat(e.repeat,'".'))}else return g}function wh(c,g){c=Bg("field",c,g);if(void 0!==c){if(null===c)return null;"sort"in c&&n(c.sort)&&(g=Bg("field",c.sort,g),c=Object.assign({},c,g?{sort:g}:{}));return c}}
function gi(c,g){if(Rb(c))return wh(c,g);g=Bg("datum",c,g);g===c||g.type||(g.type="nominal");return g}function fi(c,g){if(hd(c)){if(g=gi(c,g))return g;if(bc(c))return{condition:c.condition}}else{if(yc(c)){if(g=gi(c.condition,g))return Object.assign({},c,{condition:g});c=Object.assign({},c);return delete c.condition,c}return c}}function Yg(c,g){const a={};for(const f in c)if(M.hasOwnProperty(c,f)){var e=c[f];M.isArray(e)?a[f]=e.map(k=>fi(k,g)).filter(k=>k):(e=fi(e,g),void 0!==e&&(a[f]=e))}return a}
function Th(c){let {parentEncoding:g,encoding:a={},layer:e}=c;c={};if(g){var f=new Set([...vd(g),...vd(a)]);for(const k of f){f=a[k];const q=g[k];if(hd(f))f=Object.assign({},q,f),c[k]=f;else if(yc(f))c[k]=Object.assign({},f,{condition:Object.assign({},q,f.condition)});else if(f||null===f)c[k]=f;else if(e||dd(q)||tc(q)||hd(q)||M.isArray(q))c[k]=q}}else c=a;return!c||Fa(c)?void 0:c}function oh(c){const {parentProjection:g,projection:a}=c;if(g&&a){const {parentProjection:e,projection:f}={parentProjection:g,
projection:a};c="Layer's shared projection ".concat(Gf(e)," is overridden by a child projection ").concat(Gf(f),".");wb(c)}return null!==a&&void 0!==a?a:g}function og(c){return c.map(g=>"filter"in g?{filter:zb(g.filter,sb)}:g)}function hi(c,g){var a=Object.assign({},c);const e=c.transform;a=(delete a.transform,a);return e?(c=e.map(f=>{if("filter"in f)return{filter:Vh(f,g)};if("bin"in f&&M.isObject(f.bin))return Object.assign({},f,{bin:xh(f.bin)});if("lookup"in f){var k=f.from,q=Object.assign({},k);
k=k.selection;q=(delete q.selection,q);return k?Object.assign({},f,{from:Object.assign({},{param:k},q)}):f}return f}),Object.assign({},a,{transform:c})):c}function Uh(c,g){var a,e;c=Je(c);Rb(c)&&M.isObject(c.bin)&&(c.bin=xh(c.bin));Pd(c)&&null!==(a=c.scale)&&void 0!==a&&null!==(e=a.domain)&&void 0!==e&&e.selection&&(e=c.scale.domain,a=Object.assign({},e),e=e.selection,a=(delete a.selection,a),c.scale.domain=Object.assign({},a,e?{param:e}:{}));bc(c)&&(M.isArray(c.condition)?c.condition=c.condition.map(f=>
{var k=Object.assign({},f);const q=f.param;k=(delete k.selection,delete k.param,delete k.test,k);return q?f:Object.assign({},k,{test:Vh(f,g)})}):(e=Uh(c.condition,g),a=Object.assign({},e),e=e.param,a=(delete a.selection,delete a.param,delete a.test,a),c.condition=e?c.condition:Object.assign({},a,{test:Vh(c.condition,g)})));return c}function xh(c){var g=c.extent;if(null!==g&&void 0!==g&&g.selection){var a=Object.assign({},g);g=g.selection;a=(delete a.selection,a);return Object.assign({},c,{extent:Object.assign({},
a,{param:g})})}return c}function Vh(c,g){const a=e=>zb(e,f=>{var k,q,r;const Y=null!==(k=g.emptySelections[f])&&void 0!==k?k:!0;k={param:f,empty:Y};null!==(r=(q=g.selectionPredicates)[f])&&void 0!==r?r:q[f]=[];g.selectionPredicates[f].push(k);return k});return c.selection?a(c.selection):zb(c.test||c.filter,e=>e.selection?a(e.selection):e)}function ji(c,g){var a;return c.name?Object.assign({},g,{path:(null!==(a=g.path)&&void 0!==a?a:[]).concat(c.name)}):g}function ph(c,g){void 0===g&&(g=gh(c.config));
const a=ki(c,g),{width:e,height:f}=c;{let {width:k,height:q}={width:e,height:f,autosize:c.autosize};c=Qf(a)||"layer"in a;const r={};c?"container"==k&&"container"==q?(r.type="fit",r.contains="padding"):"container"==k?(r.type="fit-x",r.contains="padding"):"container"==q&&(r.type="fit-y",r.contains="padding"):("container"==k&&(wb(Vb("width")),k=void 0),"container"==q&&(wb(Vb("height")),q=void 0));g=Object.assign({},{type:"pad"},r,g?Kf(g.autosize):{},Kf(a.autosize));"fit"!==g.type||c||(wb('Autosize "fit" only works for single views and layered views.'),
g.type="pad");"container"==k&&"fit"!=g.type&&"fit-x"!=g.type&&wb(oc("width"));"container"==q&&"fit"!=g.type&&"fit-y"!=g.type&&wb(oc("height"));g=Kh(g,{type:"pad"})?void 0:g}return Object.assign({},a,g?{autosize:g}:{})}function ki(c){const g={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return Cg.map(mh.map(oj.map(c,g),g),g)}function Kf(c){return M.isString(c)?{type:c}:null!==c&&void 0!==c?c:{}}function li(c,g){const a={};for(const e of Oj)c&&void 0!==c[e]&&(a[e]=Ea(c[e]));g&&
(a.params=c.params);return a}function fg(c){return{explicit:!0,value:c}}function of(c){return{explicit:!1,value:c}}function zi(c){return(g,a,e,f)=>{const k=c(g.value,a.value);return 0<k?g:0>k?a:Tg(g,a,e,f)}}function Tg(c,g,a,e){if(c.explicit&&g.explicit){var f=c.value;g=g.value;a="Conflicting ".concat(e.toString(),' property "').concat(a.toString(),'" (').concat(Gf(f)," and ").concat(Gf(g),"). Using ").concat(Gf(f),".");wb(a)}return c}function pg(c,g,a,e){let f=4<arguments.length&&void 0!==arguments[4]?
arguments[4]:Tg;return void 0===c||void 0===c.value?g:c.explicit&&!g.explicit?c:g.explicit&&!c.explicit?g:Kh(c.value,g.value)?c:f(c,g,a,e)}function D(c){return"name"in c&&!("url"in c)&&!("values"in c)&&!ba(c)}function ba(c){return c&&("sequence"in c||"sphere"in c||"graticule"in c)}function wa(c){let g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:M.identity;if(M.isArray(c)){const e=c.map(f=>wa(f,g,a));return g?"[".concat(e.join(", "),
"]"):e}return Ic(c)?g?a(Ed(c)):a(Wd(c)):g?a(Gf(c)):c}function Ma(c,g){c.component.selection&&vd(c.component.selection).length&&(c=M.stringValue(c.getName("cell")),g.unshift({name:"facet",value:{},on:[{events:M.parseSelector("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(c,").datum")}]}));return N(g)}function Eb(c,g){var a=!1;for(const f of mg(null!==(e=c.component.selection)&&void 0!==e?e:{})){var e;const k=f.name;a=M.stringValue(k+"_store");if(0===g.filter(q=>q.name===k).length){e=
"global"===f.resolve?"union":f.resolve;const q="point"===f.type?", true, true)":")";g.push({name:f.name,update:"".concat("vlSelectionResolve","(").concat(a,", ").concat(M.stringValue(e)).concat(q)})}a=!0;for(const q of rj)q.defined(f)&&q.topLevelSignals&&(g=q.topLevelSignals(c,f,g))}a&&0===g.filter(f=>"unit"===f.name).length&&g.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return N(g)}function Lb(c,g){g=[...g];const a=oi(c,{escape:!1});for(const f of mg(null!==
(e=c.component.selection)&&void 0!==e?e:{})){var e;c={name:f.name+"_store"};f.project.hasSelectionId&&(c.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(f.init){const k=f.project.items.map(q=>{q=Object.assign({},q);return delete q.signals,q});c.values=f.project.hasSelectionId?f.init.map(q=>({unit:a,_vgsid_:wa(q,!1)[0]})):f.init.map(q=>({unit:a,fields:k,values:wa(q,!1)}))}g.filter(k=>k.name===f.name+"_store").length||g.push(c)}return g}function ec(c,g){for(const e of mg(null!==(a=c.component.selection)&&
void 0!==a?a:{})){var a;for(const f of rj)f.defined(e)&&f.marks&&(g=f.marks(c,e,g))}return g}function u(c,g){for(const a of c.children)Mf(a)&&(g=ec(a,g));return g}function N(c){return c.map(g=>{g.on&&!g.on.length&&delete g.on;return g})}function ja(c,g){c=M.stringValue(c.scaleName(g));return"domain(".concat(c,")")}function ha(c){var g;return c.parent&&ij(c.parent)&&(null!==(g=!c.parent.parent)&&void 0!==g?g:ha(c.parent.parent))}function nb(c,g,a,e){const f=a.channel,k=a.signals.visual;a=a.signals.data;
const q=Ug.defined(g),r=M.stringValue(c.scaleName(f));var Y=c.getScaleComponent(f);Y=Y?Y.get("type"):void 0;const ia=Jb=>"scale(".concat(r,", ").concat(Jb,")"),sa=c.getSizeSignalRef("x"===f?"width":"height").signal,Na="".concat(f,"(unit)");c=Yb(g,(Jb,vc)=>[...Jb,{events:vc.between[0],update:"[".concat(Na,", ").concat(Na,"]")},{events:vc,update:"[".concat(k,"[0], clamp(").concat(Na,", 0, ").concat(sa,")]")}]);c.push({events:{signal:g.name+"_scale_trigger"},update:ad(Y)?"[".concat(ia("".concat(a,"[0]")),
", ").concat(ia("".concat(a,"[1]")),"]"):"[0, 0]"});return q?[{name:a,on:[]}]:[Object.assign({},{name:k},e?{init:wa(e,!0,ia)}:{value:[]},{on:c}),Object.assign({},{name:a},e?{init:wa(e)}:{},{on:[{events:{signal:k},update:"".concat(k,"[0] \x3d\x3d\x3d ").concat(k,"[1] ? null : invert(").concat(r,", ").concat(k,")")}]})]}function Yb(c,g){return c.events.reduce((a,e)=>e.between?g(a,e):(wb("".concat(e," is not an ordered event stream for interval selections.")),a),[])}function dc(c,g,a,e){var f=bc(g)&&
g.condition;g=e(g);return f?(f=M.array(f).map(k=>{const q=e(k);if(k.param){const {param:r,empty:Y}=k;k=kj(c,{param:r,empty:Y});return Object.assign({},{test:k},q)}k=Bi(c,k.test);return Object.assign({},{test:k},q)}),{[a]:[...f,...(void 0!==g?[g]:[])]}):void 0!==g?{[a]:g}:{}}function Ec(c){let g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return dc(c,c.encoding[g],g,a=>cc(a,c.config))}function cc(c,g){let a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(c){if(dd(c))return lb(c.value);
if(hd(c)){const {format:e,formatType:f}=wd(c);return ff({fieldOrDatumDef:c,format:e,formatType:f,expr:a,config:g})}}}function Yc(c){let g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:a,markDef:e,config:f,stack:k}=c,q=a.tooltip;if(M.isArray(q))return{tooltip:Ld({tooltip:q},k,f,g)};const r=g.reactiveGeom?"datum.datum":"datum";return dc(c,q,"tooltip",Y=>{const ia=cc(Y,f,r);if(ia)return ia;if(null!==Y){Y=ic("tooltip",e,f);!0===Y&&(Y={content:"encoding"});if(M.isString(Y))return{value:Y};
if(M.isObject(Y))return tc(Y)?Y:"encoding"===Y.content?Ld(a,k,f,g):{signal:r}}})}function Xc(c,g,a){function e(Y,ia){var sa,Na=y(ia);Y=Mc(Y)?Y:Object.assign({},Y,{type:c[Na].type});Na=Y.title||Ni(Y,a);Na=M.array(Na).join(", ");if(L(ia)){const $b="x"===ia?"x2":"y2";var Jb=Qe(c[$b]);if(Za(Y.bin)&&Jb){var vc=Qc(Y,{expr:q});Jb=Qc(Jb,{expr:q});const {format:Hc,formatType:Oc}=wd(Y);vc=Ya(vc,Jb,Hc,Oc,a);k[$b]=!0}}if((L(ia)||"theta"===ia||"radius"===ia)&&g&&g.fieldChannel===ia&&"normalize"===g.offset){const {format:$b,
formatType:Hc}=wd(Y);vc=ff({fieldOrDatumDef:Y,format:$b,formatType:Hc,expr:q,config:a,normalizeStack:!0}).signal}null!==(sa=vc)&&void 0!==sa?sa:vc=cc(Y,a,q).signal;r.push({channel:ia,key:Na,value:vc})}var {reactiveGeom:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const k={},q=f?"datum.datum":"datum",r=[];ud(c,(Y,ia)=>{Rb(Y)?e(Y,ia):Ub(Y)&&e(Y.condition,ia)});f={};for(const Y of r){const {channel:ia,key:sa,value:Na}=Y;k[ia]||f[sa]||(f[sa]=Na)}return f}function Ld(c,g,a){var {reactiveGeom:e}=
3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};e=Xc(c,g,a,{reactiveGeom:e});e=ti(e).map(f=>{let [k,q]=f;return'"'.concat(k,'": ').concat(q)});return 0<e.length?{signal:"{".concat(e.join(", "),"}")}:void 0}function ze(c){const {encoding:g,markDef:a,config:e,stack:f}=c;var k=g.description;if(k)return dc(c,k,"description",q=>cc(q,c.config));k=ic("description",a,e);if(null!=k)return{description:lb(k)};if(!1===e.aria)return{};k=Xc(g,f,e);if(!Fa(k))return{description:{signal:ti(k).map((q,r)=>
{let [Y,ia]=q;return'"'.concat(0<r?"; ":"").concat(Y,': " + (').concat(ia,")")}).join(" + ")}}}function pe(c,g){let a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:e,encoding:f,config:k}=g,{vgChannel:q}=a;let {defaultRef:r,defaultValue:Y}=a;if(void 0===r){var ia;null!==(ia=Y)&&void 0!==ia?ia:Y=ic(c,e,k,{vgChannel:q,ignoreVgConfig:!0});void 0!==Y&&(r=lb(Y))}return dc(g,f[c],null!==q&&void 0!==q?q:c,sa=>Fd({channel:c,channelDef:sa,markDef:e,config:k,scaleName:g.scaleName(c),
scale:g.getScaleComponent(c),stack:null,defaultRef:r}))}function af(c){var g,a,e,f,k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{filled:void 0};const {markDef:q,encoding:r,config:Y}=c;var {type:ia}=q;k=null!==(g=k.filled)&&void 0!==g?g:ic("filled",q,Y);ia=Db(["bar","point","circle","square","geoshape"],ia)?"transparent":void 0;g=null!==(a=null!==(e=ic(!0===k?"color":void 0,q,Y,{vgChannel:"fill"}))&&void 0!==e?e:Y.mark[!0===k&&"color"])&&void 0!==a?a:ia;a=null!==(f=ic(!1===k?"color":void 0,
q,Y,{vgChannel:"stroke"}))&&void 0!==f?f:Y.mark[!1===k&&"color"];f=k?"fill":"stroke";e=Object.assign({},g?{fill:lb(g)}:{},a?{stroke:lb(a)}:{});q.color&&(k?q.fill:q.stroke)&&wb(ve("property",{fill:"fill"in q,stroke:"stroke"in q}));return Object.assign({},e,pe("color",c,{vgChannel:f,defaultValue:k?g:a}),pe("fill",c,{defaultValue:r.fill?g:void 0}),pe("stroke",c,{defaultValue:r.stroke?a:void 0}))}function xf(c){const {encoding:g,mark:a}=c,e=g.order;return!Ae(a)&&dd(e)?dc(c,e,"zindex",f=>lb(f.value)):
{}}function pf(c){let {channel:g,markDef:a,encoding:e={},model:f,bandPosition:k}=c;c="".concat(g,"Offset");const q=a[c],r=e[c];return"xOffset"!==c&&"yOffset"!==c||!r?(c=a[c])?{offsetType:"visual",offset:c}:{}:{offsetType:"encoding",offset:Fd({channel:c,channelDef:r,markDef:a,config:null===f||void 0===f?void 0:f.config,scaleName:f.scaleName(c),scale:f.getScaleComponent(c),stack:null,defaultRef:lb(q),bandPosition:k})}}function ie(c,g,a){let {defaultPos:e,vgChannel:f}=a;const {encoding:k,markDef:q,config:r,
stack:Y}=g;a=k[c];const ia=k[H(c)],sa=g.scaleName(c),Na=g.getScaleComponent(c),{offset:Jb,offsetType:vc}=pf({channel:c,markDef:q,encoding:k,model:g,bandPosition:.5}),$b=Te({model:g,defaultPos:e,channel:c,scaleName:sa,scale:Na});if(!a&&L(c)&&(k.latitude||k.longitude))g={field:g.getName(c)};else a:{g={channel:c,channelDef:a,channel2Def:ia,markDef:q,config:r,scaleName:sa,scale:Na,stack:Y,offset:Jb,defaultRef:$b,bandPosition:"encoding"===vc?0:void 0};const {channel:Hc,channelDef:Oc,scaleName:ld,stack:Kd,
offset:md,markDef:zd}=g;if(hd(Oc)&&Kd&&Hc===Kd.fieldChannel){if(Rb(Oc)&&(g=Oc.bandPosition,void 0!==g||"text"!==zd.type||"radius"!==Hc&&"theta"!==Hc||(g=.5),void 0!==g)){g=sd({scaleName:ld,fieldOrDatumDef:Oc,startSuffix:"start",bandPosition:g,offset:md});break a}g=fd(Oc,ld,{suffix:"end"},{offset:md})}else g=cd(g)}return g?{[f||c]:g}:void 0}function Te(c){let {model:g,defaultPos:a,channel:e,scaleName:f,scale:k}=c;const {markDef:q,config:r}=g;return()=>{var Y=y(e),ia=t(e);ia=ic(e,q,r,{vgChannel:ia});
if(void 0!==ia)return be(e,ia);switch(a){case "zeroOrMin":case "zeroOrMax":if(f&&(ia=k.get("type"),!Db([sg.LOG,sg.TIME,sg.UTC],ia)&&k.domainDefinitelyIncludesZero()))return{scale:f,value:0};if("zeroOrMin"===a)return"y"===Y?{field:{group:"height"}}:{value:0};switch(Y){case "radius":return{signal:"min(".concat(g.width.signal,",").concat(g.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return Y=g[V(e)],Object.assign({},
Y,{mult:.5})}}}function $g(c,g,a){let e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===c||"theta"===c)return t(c);var f="x"===c?"align":"baseline";const k=ic(f,g,a);tc(k)?(wb("The ".concat(f," for range marks cannot be an expression")),f=void 0):f=k;return"x"===c?tk[f||("top"===e?"left":"center")]:Sk[f||e]}function ah(c,g,a){let {defaultPos:e,defaultPos2:f,range:k}=a;return k?Fh(c,g,{defaultPos:e,defaultPos2:f}):ie(c,g,{defaultPos:e})}function Fh(c,g,a){let {defaultPos:e,
defaultPos2:f}=a;const {markDef:k,config:q}=g;var r=H(c);a=V(c);{const {encoding:Jb,mark:vc,markDef:$b,stack:Hc,config:Oc}=g;var Y=y(r),ia=V(r);const ld=t(r);var sa=Jb[Y],Na=g.scaleName(Y);const Kd=g.getScaleComponent(Y);({offset:Y}=r in Jb||r in $b?pf({channel:r,markDef:$b,encoding:Jb,model:g}):pf({channel:Y,markDef:$b,encoding:Jb,model:g}));if(sa||"x2"!==r&&"y2"!==r||!Jb.latitude&&!Jb.longitude){let {channel:md,channelDef:zd,channel2Def:Yd,markDef:Td,config:Qd,scaleName:Me,scale:Ef,stack:Ue,offset:Vg,
defaultRef:Hh}={channel:r,channelDef:sa,channel2Def:Jb[r],markDef:$b,config:Oc,scaleName:Na,scale:Kd,stack:Hc,offset:Y,defaultRef:void 0};sa=hd(zd)&&Ue&&md.charAt(0)===Ue.fieldChannel.charAt(0)?fd(zd,Me,{suffix:"start"},{offset:Vg}):cd({channel:md,channelDef:Yd,scaleName:Me,scale:Ef,stack:Ue,markDef:Td,config:Qd,offset:Vg,defaultRef:Hh});r=void 0!==sa?{[ld]:sa}:Tf(r,$b)||Tf(r,{[r]:kd(r,$b,Oc.style),[ia]:kd(ia,$b,Oc.style)})||Tf(r,Oc[vc])||Tf(r,Oc.mark)||{[ld]:Te({model:g,defaultPos:f,channel:r,scaleName:Na,
scale:Kd})()}}else ia=V(r),Na=g.markDef[ia],r=null!=Na?{[ia]:{value:Na}}:{[ld]:{field:g.getName(r)}}}a=r[a]?$g(c,k,q):t(c);return Object.assign({},ie(c,g,{defaultPos:e,vgChannel:a}),r)}function Tf(c,g){const a=V(c),e=t(c);if(void 0!==g[e])return{[e]:be(c,g[e])};if(void 0!==g[c])return{[e]:be(c,g[c])};if(g[a])if(g=g[a],Gd(g))wb("Position range does not support relative band size for ".concat(a,"."));else return{[a]:be(c,g)}}function Bf(c,g){var a,e;const {config:f,encoding:k,markDef:q}=c;var r=q.type,
Y=H(g),ia=V(g),sa=k[g];Y=k[Y];var Na=c.getScaleComponent(g);Na=Na?Na.get("type"):void 0;const Jb=q.orient,vc=null!==(a=null!==(e=k[ia])&&void 0!==e?e:k.size)&&void 0!==a?a:ic("size",q,f,{vgChannel:ia});a="bar"===r&&("x"===g?"vertical"===Jb:"horizontal"===Jb);if(!Rb(sa)||!(kb(sa.bin)||Za(sa.bin)||sa.timeUnit&&!Y)||vc&&!Gd(vc)||rd(Na)){if((hd(sa)&&rd(Na)||a)&&!Y){var $b;{const {markDef:Kd,encoding:md,config:zd,stack:Yd}=c;r=Kd.orient;var Hc=c.scaleName(g);a=c.getScaleComponent(g);var Oc=V(g),ld=H(g);
e=E(g);e=c.scaleName(e);r="horizontal"===r&&"y"===g||"vertical"===r&&"x"===g;if(md.size||Kd.size)r?$b=pe("size",c,{vgChannel:Oc,defaultRef:lb(Kd.size)}):wb('Cannot apply size to non-oriented mark "'.concat(Kd.type,'".'));r=Ua({channel:g,fieldDef:sa,markDef:Kd,config:zd,scaleType:null===a||void 0===a?void 0:a.get("type"),useVlSizeChannel:r});$b=$b||{[Oc]:zh(Oc,e||Hc,a,zd,r)};e="band"===(null===a||void 0===a?void 0:a.get("type"))&&"band"in $b[Oc]?"top":"middle";e=$g(g,Kd,zd,e);ia="xc"===e||"yc"===e;
const {offset:Td,offsetType:Qd}=pf({channel:g,markDef:Kd,encoding:md,model:c,bandPosition:ia?.5:0});c=cd({channel:g,channelDef:sa,markDef:Kd,config:zd,scaleName:Hc,scale:a,stack:Yd,offset:Td,defaultRef:Te({model:c,defaultPos:"mid",channel:g,scaleName:Hc,scale:a}),bandPosition:ia?"encoding"===Qd?0:.5:tc(r)?{signal:"(1-".concat(r,")/2")}:Gd(r)?(1-r.band)/2:0});Oc?$b=Object.assign({},{[e]:c},$b):(g=t(ld),$b=$b[Oc],$b=Td?Object.assign({},$b,{offset:Td}):$b,$b={[e]:c,[g]:M.isArray(c)?[c[0],Object.assign({},
c[1],{offset:$b})]:Object.assign({},c,{offset:$b})})}return $b}return Fh(g,c,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:Kd,fieldDef2:md,channel:zd,model:Yd}={fieldDef:sa,fieldDef2:Y,channel:g,model:c};const {config:Td,markDef:Qd,encoding:Me}=Yd;c=Yd.getScaleComponent(zd);$b=Yd.scaleName(zd);g=c?c.get("type"):void 0;c=c.get("reverse");g=Ua({channel:zd,fieldDef:Kd,markDef:Qd,config:Td,scaleType:g});sa=null===(Hc=Yd.component.axes[zd])||void 0===Hc?void 0:Hc[0];sa=null!==(ld=
null===sa||void 0===sa?void 0:sa.get("translate"))&&void 0!==ld?ld:.5;ld=L(zd)?null!==(Oc=ic("binSpacing",Qd,Td))&&void 0!==Oc?Oc:0:0;Oc=H(zd);Hc=t(zd);a=t(Oc);({offset:e}=pf({channel:zd,markDef:Qd,encoding:Me,model:Yd,bandPosition:0}));g=tc(g)?{signal:"(1-".concat(g.signal,")/2")}:Gd(g)?(1-g.band)/2:.5;if(kb(Kd.bin)||Kd.timeUnit)$b={[a]:rg({fieldDef:Kd,scaleName:$b,bandPosition:g,offset:ef(Oc,ld,c,sa,e)}),[Hc]:rg({fieldDef:Kd,scaleName:$b,bandPosition:tc(g)?{signal:"1-".concat(g.signal)}:1-g,offset:ef(zd,
ld,c,sa,e)})};else{if(Za(Kd.bin)){g=fd(Kd,$b,{},{offset:ef(Oc,ld,c,sa,e)});if(Rb(md)){$b={[a]:g,[Hc]:fd(md,$b,{},{offset:ef(zd,ld,c,sa,e)})};break a}if(M.isObject(Kd.bin)&&Kd.bin.step){$b={[a]:g,[Hc]:{signal:'scale("'.concat($b,'", ').concat(Qc(Kd,{expr:"datum"})," + ").concat(Kd.bin.step,")"),offset:ef(zd,ld,c,sa,e)}};break a}}wb(Sb(Oc));$b=void 0}}return $b}function zh(c,g,a,e,f){if(Gd(f))if(a){const k=a.get("type");if("band"===k)return{scale:g,band:f.band};1!==f.band&&wb("Cannot use the relative band size with ".concat(k,
" scale."))}else return{mult:f.band,field:{group:c}};else{if(tc(f))return f;if(f)return{value:f}}return a&&(g=a.get("range"),jc(g)&&M.isNumber(g.step))?{value:g.step-2}:{value:Zg(e.view,c)-2}}function ef(c,g,a,e,f){if(c in Fi)return 0;c="x"===c||"y2"===c?-g/2:g/2;if(tc(a)||tc(f)||tc(e))return a=Wb(a),f=Wb(f),e=(e=Wb(e))?"".concat(e," + "):"",a=a?"(".concat(a," ? -1 : 1) * "):"",c=f?"(".concat(f," + ").concat(c,")"):c,{signal:e+a+c};f=f||0;return e+(a?-f-c:+f+c)}function rg(c){let {fieldDef:g,scaleName:a,
bandPosition:e,offset:f}=c;return sd({scaleName:a,fieldOrDatumDef:g,bandPosition:e,offset:f})}function Ie(c,g){const {fill:a,stroke:e}="include"===g.color?af(c):{};var f=Object,k=f.assign;g=Wh(c.markDef,g);var q=Ph(c,"fill",a),r=Ph(c,"stroke",e),Y=pe("opacity",c),ia=pe("fillOpacity",c),sa=pe("strokeOpacity",c),Na=pe("strokeWidth",c),Jb=pe("strokeDash",c),vc=xf(c),$b=Yc(c),Hc=Ec(c,"href");{const {markDef:md,config:zd}=c,Yd=ic("aria",md,zd);if(!1===Yd)c={};else{var Oc=Object,ld=Oc.assign;{const {mark:Td,
markDef:Qd,config:Me}=c;if(!1===Me.aria)var Kd={};else Kd=ic("ariaRoleDescription",Qd,Me),Kd=null!=Kd?{ariaRoleDescription:{value:Kd}}:Td in Lh?{}:{ariaRoleDescription:{value:Td}}}c=ld.call(Oc,{},Yd?{aria:Yd}:{},Kd,ze(c))}}return k.call(f,{},g,q,r,Y,ia,sa,Na,Jb,vc,$b,Hc,c)}function Ph(c,g,a){const {config:e,mark:f,markDef:k}=c;return"hide"===ic("invalid",k,e)&&a&&!Ae(f)&&(c=yi(c,{invalid:!0,channels:Gi}))?{[g]:[{test:c,value:null},...M.array(a)]}:a?{[g]:a}:{}}function Wh(c,g){return tj.reduce((a,
e)=>{wi.has(e)||void 0===c[e]||"ignore"===g[e]||(a[e]=lb(c[e]));return a},{})}function yi(c,g){let {invalid:a=!1,channels:e}=g;g=e.reduce((f,k)=>{var q=c.getScaleComponent(k);q&&(q=q.get("type"),(k=c.vgField(k,{expr:"datum"}))&&ad(q)&&(f[k]=!0));return f},{});g=vd(g);if(0<g.length){const f=a?"||":"\x26\x26";return g.map(k=>qd(k,a)).join(" ".concat(f," "))}}function Lf(c){const {config:g,markDef:a}=c;return ic("invalid",a,g)&&(c=qg(c,{channels:Bh}))?{defined:{signal:c}}:{}}function qg(c,g){let {invalid:a=
!1,channels:e}=g;g=e.reduce((f,k)=>{var q=c.getScaleComponent(k);if(q){var r;q=q.get("type");(k=c.vgField(k,{expr:"datum",binSuffix:null!==(r=c.stack)&&void 0!==r&&r.impute?"mid":void 0}))&&ad(q)&&(f[k]=!0)}return f},{});g=vd(g);if(0<g.length){const f=a?"||":"\x26\x26";return g.map(k=>qd(k,a)).join(" ".concat(f," "))}}function Ri(c,g){if(void 0!==g)return{[c]:lb(g)}}function Of(c,g,a,e,f){var k,q,r=g.name,Y=r+"_translate_anchor";r+="_translate_delta";var ia=a.channel;const sa=Ug.defined(g);g=f.filter(vc=>
vc.name===a.signals[sa?"data":"visual"])[0];e=c.getSizeSignalRef(e).signal;c=c.getScaleComponent(ia);f=c.get("type");var Na=c.get("reverse");Na=sa?"x"===ia?Na?"":"-":Na?"-":"":"";Y="".concat(Y,".extent_").concat(ia);ia="".concat(Na).concat(r,".").concat(ia," / ").concat(sa?"".concat(e):"span(".concat(Y,")"));Na=sa?"log"===f?"panLog":"symlog"===f?"panSymlog":"pow"===f?"panPow":"panLinear":"panLinear";const Jb=sa?"pow"===f?", ".concat(null!==(k=c.get("exponent"))&&void 0!==k?k:1):"symlog"===f?", ".concat(null!==
(q=c.get("constant"))&&void 0!==q?q:1):"":"";k="".concat(Na,"(").concat(Y,", ").concat(ia).concat(Jb,")");g.on.push({events:{signal:r},update:sa?k:"clampRange(".concat(k,", 0, ").concat(e,")")})}function Oi(c,g,a,e,f){var k,q,r=g.name,Y=a.channel;const ia=Ug.defined(g);g=f.filter(vc=>vc.name===a.signals[ia?"data":"visual"])[0];e=c.getSizeSignalRef(e).signal;f=c.getScaleComponent(Y);const sa=f.get("type"),Na=ia?ja(c,Y):g.name;c=r+"_zoom_delta";r="".concat(r).concat("_zoom_anchor",".").concat(Y);Y=
ia?"log"===sa?"zoomLog":"symlog"===sa?"zoomSymlog":"pow"===sa?"zoomPow":"zoomLinear":"zoomLinear";const Jb=ia?"pow"===sa?", ".concat(null!==(k=f.get("exponent"))&&void 0!==k?k:1):"symlog"===sa?", ".concat(null!==(q=f.get("constant"))&&void 0!==q?q:1):"":"";k="".concat(Y,"(").concat(Na,", ").concat(r,", ").concat(c).concat(Jb,")");g.on.push({events:{signal:c},update:ia?k:"clampRange(".concat(k,", 0, ").concat(e,")")})}function oi(c){var {escape:g}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{escape:!0};g=g?M.stringValue(c.name):c.name;var a;for(a=c.parent;a&&!jh(a);)a=a.parent;if(a){const {facet:e}=a;for(const f of gg)e[f]&&(g+=" + '__facet_".concat(f,"_' + (facet[").concat(M.stringValue(a.vgField(f)),"])"))}return g}function th(c){var g;return mg(null!==(g=c.component.selection)&&void 0!==g?g:{}).reduce((a,e)=>a||e.project.hasSelectionId,!1)}function Mi(c,g){!M.isString(g.select)&&g.select.on||delete c.events;!M.isString(g.select)&&g.select.clear||delete c.clear;!M.isString(g.select)&&
g.select.toggle||delete c.toggle}function fh(c){const g=[];if("Identifier"===c.type)return[c.name];if("Literal"===c.type)return[c.value];"MemberExpression"===c.type&&(g.push(...fh(c.object)),g.push(...fh(c.property)));return g}function Pi(c){return"MemberExpression"===c.object.type?Pi(c.object):"datum"===c.object.name}function Li(c){c=M.parseExpression(c);const g=new Set;c.visit(a=>{"MemberExpression"===a.type&&Pi(a)&&g.add(fh(a).slice(1).join("."))});return g}function kj(c,g,a){var e=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:"datum",f=M.isString(g)?g:g.param,k=Aa(f),q=M.stringValue(k+"_store");try{var r=c.getSelectionComponent(k,f)}catch(Y){return"!!".concat(k)}r.project.timeUnit&&(f=null!==a&&void 0!==a?a:c.component.data.raw,k=r.project.timeUnit.clone(),f.parent?k.insertAsParentOf(f):f.parent=k);f=r.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";r="global"===r.resolve?")":", ".concat(M.stringValue(r.resolve),")");e="".concat(f).concat(q,", ").concat(e).concat(r);q=
"length(data(".concat(q,"))");return!1===g.empty?"".concat(q," \x26\x26 ").concat(e):"!".concat(q," || ").concat(e)}function zk(c,g,a){const e=Aa(g),f=a.encoding;let k=a.field,q;try{q=c.getSelectionComponent(e,g)}catch(r){return e}f||k?f&&!k&&(c=q.project.items.filter(r=>r.channel===f),!c.length||1<c.length?(k=q.project.items[0].field,wb((c.length?"Multiple ":"No ")+"matching ".concat(M.stringValue(f)," encoding found for selection ").concat(M.stringValue(a.param),". ")+'Using "field": '.concat(M.stringValue(k),
"."))):k=c[0].field):(k=q.project.items[0].field,1<q.project.items.length&&wb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(M.stringValue(k),".")));return"".concat(q.name,"[").concat(M.stringValue(Mb(k)),"]")}function Bi(c,g,a){return Ha(g,e=>M.isString(e)?e:(null===e||void 0===e?0:e.param)?kj(c,e,a):ma(e))}function Sj(c,g){if(c)return M.isArray(c)&&!wc(c)?c.map(a=>Ni(a,g)).join(", "):c}function Si(c,g,a,e){var f,k,q,r,Y;null!==(f=
c.encode)&&void 0!==f?f:c.encode={};null!==(q=(k=c.encode)[g])&&void 0!==q?q:k[g]={};null!==(Y=(r=c.encode[g]).update)&&void 0!==Y?Y:r.update={};c.encode[g].update[a]=e}function Ci(c,g,a){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},f=c.combine(),k=Object.assign({},f),q=f.disable;const r=f.orient,Y=f.scale;var ia=f.labelExpr;const sa=f.title;f=f.zindex;k=(delete k.disable,delete k.orient,delete k.scale,delete k.labelExpr,delete k.title,delete k.zindex,k);if(!q){for(const $b in k){var Na=
Af[$b];q=k[$b];if(Na&&Na!==g&&"both"!==Na)delete k[$b];else if(uf(q)){Na=q;q=Object.assign({},Na);Na=Na.condition;q=(delete q.condition,q);Na=M.array(Na);const Hc=sk[$b];if(Hc){const {vgProp:Oc,part:ld}=Hc;q=[...Na.map(Kd=>{var md=Object.assign({},Kd);Kd=Kd.test;md=(delete md.test,md);return Object.assign({},{test:Bi(null,Kd)},md)}),q];Si(k,ld,Oc,q);delete k[$b]}else null===Hc&&(q={signal:Na.map(Oc=>{var ld=Object.assign({},Oc);Oc=Oc.test;ld=(delete ld.test,ld);return"".concat(Bi(null,Oc)," ? ").concat(Fb(ld),
" : ")}).join("")+Fb(q)},k[$b]=q)}else if(tc(q)&&(Na=sk[$b])){const {vgProp:Hc,part:Oc}=Na;Si(k,Oc,Hc,q);delete k[$b]}Db(["labelAlign","labelBaseline"],$b)&&null===k[$b]&&delete k[$b]}if("grid"===g){if(k.grid)return k.encode&&({grid:ia}=k.encode,k.encode=Object.assign({},ia?{grid:ia}:{}),Fa(k.encode)&&delete k.encode),Object.assign({},{scale:Y,orient:r},k,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:O(f,0)})}else if(e.header||!c.mainExtracted){if(void 0!==ia){var Jb,vc;e=ia;
null!==(Jb=k.encode)&&void 0!==Jb&&null!==(vc=Jb.labels)&&void 0!==vc&&vc.update&&tc(k.encode.labels.update.text)&&(e=kc(ia,"datum.label",k.encode.labels.update.text.signal));Si(k,"labels","text",{signal:e})}null===k.labelAlign&&delete k.labelAlign;if(k.encode){for(const $b of ui)c.hasAxisPart($b)||delete k.encode[$b];Fa(k.encode)&&delete k.encode}ia=Sj(sa,a);return Object.assign({},{scale:Y,orient:r,grid:!1},ia?{title:ia}:{},k,!1===a.aria?{aria:!1}:{},{zindex:O(f,0)})}}}function Ti(c){const {axes:g}=
c.component,a=[];for(const e of Bh)if(g[e])for(const f of g[e])if(!f.get("disable")&&!f.get("gridScale")){const k="x"===e?"height":"width",q=c.getSizeSignalRef(k).signal;k!==q&&a.push({name:k,update:q})}return a}function sj(c,g){const {x:a=[],y:e=[]}=c;return[...a.map(f=>Ci(f,"grid",g)),...e.map(f=>Ci(f,"grid",g)),...a.map(f=>Ci(f,"main",g)),...e.map(f=>Ci(f,"main",g))].filter(f=>f)}function p(c,g,a,e){return Object.assign.apply(null,[{},...c.map(f=>{if("axisOrient"===f){f="x"===a?"bottom":"left";
const k=g["x"===a?"axisBottom":"axisLeft"]||{},q=g["x"===a?"axisTop":"axisRight"]||{},r=new Set([...vd(k),...vd(q)]),Y={};for(const ia of r.values())Y[ia]={signal:"".concat(e.signal,' \x3d\x3d\x3d "').concat(f,'" ? ').concat(Wb(k[ia])," : ").concat(Wb(q[ia]))};return Y}return g[f]})])}function I(c,g,a,e){var f="band"===g?["axisDiscrete","axisBand"]:"point"===g?["axisDiscrete","axisPoint"]:Gj.has(g)?["axisQuantitative"]:"time"===g||"utc"===g?["axisTemporal"]:[];const k="x"===c?"axisX":"axisY";g=tc(a)?
"axisOrient":"axis".concat($a(a));f=[...f,...f.map(q=>k+q.substr(4))];g=["axis",g,k];return{vlOnlyAxisConfig:p(f,e,c,a),vgAxisConfig:p(g,e,c,a),axisConfigStyle:P([...g,...f],e)}}function P(c,g){const a=[{}];for(const f of c){var e;if(c=null===(e=g[f])||void 0===e?void 0:e.style){c=M.array(c);for(const k of c)a.push(g.style[k])}}return Object.assign.apply(null,a)}function ua(c,g,a){let e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const f=B(c,a,g);if(void 0!==f)return{configFrom:"style",
configValue:f};for(const q of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var k;if(void 0!==(null===(k=e[q])||void 0===k?void 0:k[c]))return{configFrom:q,configValue:e[q][c]}}return{}}function db(c,g,a,e,f){const k=null===g||void 0===g?void 0:g.labelAngle;if(void 0!==k)return tc(k)?k:ya(k);({configValue:g}=ua("labelAngle",e,null===g||void 0===g?void 0:g.style,f));if(void 0!==g)return ya(g);if("x"===a&&Db(["nominal","ordinal"],c.type)&&(!Rb(c)||!c.timeUnit))return 270}function gb(c){return"(((".concat(c.signal,
" % 360) + 360) % 360)")}function tb(c,g,a,e){if(void 0!==c)return"x"===a?tc(c)?(e=gb(c),g=tc(g)?"(".concat(g.signal,' \x3d\x3d\x3d "top")'):"top"===g,{signal:"(45 \x3c ".concat(e," \x26\x26 ").concat(e," \x3c 135) || (225 \x3c ").concat(e," \x26\x26 ").concat(e,' \x3c 315) ? "middle" :')+"(".concat(e," \x3c\x3d 45 || 315 \x3c\x3d ").concat(e,") \x3d\x3d\x3d ").concat(g,' ? "bottom" : "top"')}):45<c&&135>c||225<c&&315>c?"middle":tc(g)?(e=45>=c||315<=c?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(g.signal,
" ").concat(e,' "top" ? "bottom" : "top"')}):(45>=c||315<=c)===("top"===g)?"bottom":"top":tc(c)?(c=gb(c),g=tc(g)?"(".concat(g.signal,' \x3d\x3d\x3d "left")'):"left"===g,e=e?'"middle"':"null",{signal:"".concat(c," \x3c\x3d 45 || 315 \x3c\x3d ").concat(c," || (135 \x3c\x3d ").concat(c," \x26\x26 ").concat(c," \x3c\x3d 225) ? ").concat(e," : (45 \x3c\x3d ").concat(c," \x26\x26 ").concat(c," \x3c\x3d 135) \x3d\x3d\x3d ").concat(g,' ? "top" : "bottom"')}):45>=c||315<=c||135<=c&&225>=c?e?"middle":null:
tc(g)?(e=45<=c&&135>=c?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(g.signal," ").concat(e,' "left" ? "top" : "bottom"')}):(45<=c&&135>=c)===("left"===g)?"top":"bottom"}function Nb(c,g,a){if(void 0!==c){var e=(a="x"===a)?0:90,f=a?"bottom":"left";return tc(c)?(c=gb(c),g=tc(g)?"(".concat(g.signal,' \x3d\x3d\x3d "').concat(f,'")'):g===f,{signal:"(".concat(e?"(".concat(c," + 90)"):c," % 180 \x3d\x3d\x3d 0) ? ").concat(a?null:'"center"'," :")+"(".concat(e," \x3c ").concat(c," \x26\x26 ").concat(c," \x3c ").concat(180+
e,") \x3d\x3d\x3d ").concat(g,' ? "left" : "right"')}):0===(c+e)%180?a?null:"center":tc(g)?(a=e<c&&c<180+e?"\x3d\x3d\x3d":"!\x3d\x3d",g="".concat(g.signal," ").concat(a,' "').concat(f,'"'),{signal:"".concat(g,' ? "left" : "right"')}):(e<c&&c<180+e)===(g===f)?"left":"right"}}function sc(c,g){var a="x"===g?"x2":"y2";g=c.fieldDef(g);c=c.fieldDef(a);a=g?g.title:void 0;c=c?c.title:void 0;if(a&&c)return aa(a,c);if(a)return a;if(c)return c;if(void 0!==a)return a;if(void 0!==c)return c}function Tc(c,g,a){return Qc(c,
Object.assign({},{prefix:g,suffix:"sort_index"},null!==a&&void 0!==a?a:{}))}function id(c,g){return Db(["top","bottom"],g)?"column":Db(["left","right"],g)?"row":"row"===c?"row":"column"}function pc(c,g,a,e){return O((g||{})[c],("row"===e?a.headerRow:"column"===e?a.headerColumn:a.headerFacet)[c],a.header[c])}function Bd(c,g,a,e){const f={};for(const k of c)c=pc(k,g||{},a,e),void 0!==c&&(f[k]=c);return f}function $d(c,g){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};
case "end":return{align:"right"}}const a=Nb(g,"row"===c?"left":"top","row"===c?"y":"x");return a?{align:a}:{}}function ue(c,g){return(c=tb(c,"row"===g?"left":"top","row"===g?"y":"x",!0))?{baseline:c}:{}}function Vd(c,g,a){const {format:e,formatType:f,labelAngle:k,labelAnchor:q,labelOrient:r,labelExpr:Y}=Bd("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),c.header,a,g),ia=ff({fieldOrDatumDef:c,format:e,formatType:f,expr:"parent",config:a}).signal,sa=id(g,r);return Object.assign({},
{text:{signal:Y?kc(kc(Y,"datum.label",ia),"datum.value",Qc(c,{expr:"parent"})):ia}},"row"===g?{orient:"left"}:{},{style:"guide-label",frame:"group"},ue(k,sa),$d(sa,k,q),bf(a,c,g,dh,pl))}function bf(c,g,a,e,f){const k={};for(const q of e)f[q]&&(e=pc(q,null===g||void 0===g?void 0:g.header,c,a),void 0!==e&&(k[f[q]]=e));return k}function Nf(c){return[...Uf(c,"width"),...Uf(c,"height"),...Uf(c,"childWidth"),...Uf(c,"childHeight")]}function Uf(c,g){var a="width"===g?"x":"y",e=c.component.layoutSize.get(g);
if(!e||"merged"===e)return[];g=c.getSizeSignalRef(g).signal;if("step"===e){if(e=c.getScaleComponent(a)){var f=e.get("type");const k=e.get("range");if(rd(f)&&jc(k))return f=c.scaleName(a),jh(c.parent)&&"independent"===c.parent.component.resolve.scale[a]?[cf(f,k)]:[cf(f,k),{name:g,update:Og(f,e,"domain('".concat(f,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==e?(a=(e=g.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",c=wg(c.config.view,
e?"width":"height"),c="isFinite(".concat(a,") ? ").concat(a," : ").concat(c),[{name:g,init:c,on:[{update:c,events:"window:resize"}]}]):[{name:g,value:e}]}function cf(c,g){c="".concat(c,"_step");return tc(g.step)?{name:c,update:g.step.signal}:{name:c,value:g.step}}function Og(c,g,a){const e=g.get("type"),f=g.get("padding"),k=O(g.get("paddingOuter"),f);g=g.get("paddingInner");g="band"===e?void 0!==g?g:f:1;return"bandspace(".concat(a,", ").concat(Wb(g),", ").concat(Wb(k),") * ").concat(c,"_step")}function tf(c){return"childWidth"===
c?"width":"childHeight"===c?"height":c}function Be(c,g){return vd(c).reduce((a,e)=>Object.assign({},a,dc(g,c[e],e,f=>lb(f.value))),{})}function yf(c,g){if(jh(g))return"theta"===c?"independent":"shared";if(ij(g))return"shared";if(Vi(g))return L(c)||"theta"===c||"radius"===c?"independent":"shared";throw Error("invalid model type for resolve");}function ih(c,g){const a=c.scale[g],e=L(g)?"axis":"legend";return"independent"===a?("shared"===c[e][g]&&wb('Setting the scale to be independent for "'.concat(g,
'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):c[e][g]||"shared"}function ae(c){return ge(c,(g,a)=>Math.max(g,a.value))}function Cd(c){return ge(c,(g,a)=>O(g,a.value))}function ge(c,g){const a=null===c||void 0===c?void 0:c.condition;if(a&&(M.isArray(a)||dd(a)))return M.array(c.condition).reduce(g,c.value);if(dd(c))return c.value}function Id(c,g,a){c=g.get("selections");if(null!==c&&void 0!==c&&c.length){var e=M.stringValue(a.field);return c.map(f=>{const k=
M.stringValue(Aa(f)+"_store");return"(!length(data(".concat(k,")) || (").concat(f,"[").concat(e,"] \x26\x26 indexof(").concat(f,"[").concat(e,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function qf(c,g,a,e){c=c.getSizeSignalRef(g).signal;return{signal:"clamp(".concat(c,", ").concat(a,", ").concat(e,")")}}function Zf(c){var g;if(Mf(c)){var {encoding:a}=c,e={};for(const Yd of["color",...sl]){var f=He(a[Yd]);if(f&&c.getScaleComponent(Yd)&&("shape"!==Yd||!Rb(f)||"geojson"!==f.type)){a:{var k=f=void 0,
q=void 0,r=void 0,Y=void 0,ia=void 0;var sa=void 0;var Na=c,Jb=Yd;let Td=Na.legend(Jb);const {markDef:Qd,encoding:Me,config:Ef}=Na;var vc=Ef.legend;b:{var $b=Na;var Hc=Jb,Oc=$b.scaleName(Hc);if("trail"===$b.mark){if("color"===Hc){$b={stroke:Oc};break b}if("size"===Hc){$b={strokeWidth:Oc};break b}}$b="color"===Hc?$b.markDef.filled?{fill:Oc}:{stroke:Oc}:{[Hc]:Oc}}$b=new Jl({},$b);Hc=null===(r=Na.fieldDef(Jb))||void 0===r?void 0:r.field;for(const Ff of mg(null!==(g=Na.component.selection)&&void 0!==
g?g:{})){var ld;if((r=null!==(ld=Ff.project.hasField[Hc])&&void 0!==ld?ld:Ff.project.hasChannel[Jb])&&qj.defined(Ff)){var Kd;Oc=null!==(Kd=$b.get("selections"))&&void 0!==Kd?Kd:[];Oc.push(Ff.name);$b.set("selections",Oc,!1);r.hasLegend=!0}}r=void 0!==Td?!Td:vc.disable;$b.set("disable",r,void 0!==Td);if(r){f=$b;break a}Td=Td||{};Hc=Na.getScaleComponent(Jb).get("type");r=He(Me[Jb]);var md=Rb(r)?null===(sa=Pe(r.timeUnit))||void 0===sa?void 0:sa.unit:void 0;Oc=Td.orient||Ef.legend.orient||"right";sa=
{legend:Td,channel:Jb,timeUnit:md,scaleType:Hc};({legend:md}=sa);md=md.type;b:{let {channel:Ff,timeUnit:Al,scaleType:om}=sa;if(G(Ff)){if(Db(["quarter","month","day"],Al)){sa="symbol";break b}if(Kg.has(om)){sa="gradient";break b}}sa="symbol"}sa=O(md,sa);let {legendConfig:Ue,legendType:Vg,orient:Hh,legend:nm}={legend:Td,legendType:sa,orient:Oc,legendConfig:vc};if(null!==(q=null!==(k=nm.direction)&&void 0!==k?k:Ue[Vg?"gradientDirection":"symbolDirection"])&&void 0!==q)k=q;else b:{switch(Hh){case "top":case "bottom":k=
"horizontal";break b;case "left":case "right":case "none":case void 0:break;default:k="gradient"===Vg?"horizontal":void 0;break b}k=void 0}vc={legend:Td,channel:Jb,model:Na,markDef:Qd,encoding:Me,fieldOrDatumDef:r,legendConfig:vc,config:Ef,scaleType:Hc,orient:Oc,legendType:sa,direction:k};for(const Ff of yl)if(!("gradient"===sa&&Ff.startsWith("symbol")||"symbol"===sa&&Ff.startsWith("gradient"))&&(k=Ff in uj?uj[Ff](vc):Td[Ff],void 0!==k)){b:{q=Na.fieldDef(Jb);switch(Ff){case "disable":q=void 0!==Td;
break b;case "values":q=!(null===Td||void 0===Td||!Td.values);break b;case "title":if("title"===Ff&&k===(null===q||void 0===q?void 0:q.title)){q=!0;break b}}q=k===(Td||{})[Ff]}(q||void 0===Ef.legend[Ff])&&$b.set(Ff,k,q)}vc=null!==(ia=null===(Y=Td)||void 0===Y?void 0:Y.encoding)&&void 0!==ia?ia:{};Y=$b.get("selections");ia={};Jb={fieldOrDatumDef:r,model:Na,channel:Jb,legendCmpt:$b,legendType:sa};for(const Ff of"labels legend title symbols gradient entries".split(" ")){var zd;k=Be(null!==(zd=vc[Ff])&&
void 0!==zd?zd:{},Na);k=Ff in zl?zl[Ff](k,Jb):k;void 0===k||Fa(k)||(ia[Ff]=Object.assign({},null!==Y&&void 0!==Y&&Y.length&&Rb(r)?{name:"".concat(Aa(r.field),"_legend_").concat(Ff)}:{},null!==Y&&void 0!==Y&&Y.length?{interactive:!!Y}:{},{update:k}))}Fa(ia)||$b.set("encode",ia,!(null===(f=Td)||void 0===f||!f.encoding));f=$b}e[Yd]=f}}g=e}else{const {legends:Yd,resolve:Td}=c.component;for(a of c.children){Zf(a);for(e of vd(a.component.legends))Td.legend[e]=ih(c.component.resolve,e),"shared"===Td.legend[e]&&
(Yd[e]=zf(Yd[e],a.component.legends[e]),Yd[e]||(Td.legend[e]="independent",delete Yd[e]))}for(f of vd(Yd))for(Na of c.children)Na.component.legends[f]&&"shared"===Td.legend[f]&&delete Na.component.legends[f];g=Yd}return c.component.legends=g}function zf(c,g){if(!c)return g.clone();var a=c.getWithExplicit("orient");const e=g.getWithExplicit("orient");if(!a.explicit||!e.explicit||a.value===e.value){var f=!1;for(const ia of yl)a=pg(c.getWithExplicit(ia),g.getWithExplicit(ia),ia,"legend",(sa,Na)=>{switch(ia){case "symbolType":return sa=
"circle"===Na.value?Na:sa,sa;case "title":return fa(sa,Na);case "type":return f=!0,of("symbol")}return Tg(sa,Na,ia,"legend")}),c.setWithExplicit(ia,a);if(f){var k,q,r,Y;null!==(k=c.implicit)&&void 0!==k&&null!==(q=k.encode)&&void 0!==q&&q.gradient&&bb(c.implicit,["encode","gradient"]);null!==(r=c.explicit)&&void 0!==r&&null!==(Y=r.encode)&&void 0!==Y&&Y.gradient&&bb(c.explicit,["encode","gradient"])}return c}}function $f(c){const g=c.component.legends,a={};for(const f of vd(g)){var e=c.getScaleComponent(f);
e=Gf(e.get("domains"));if(a[e])for(const k of a[e])zf(k,g[f])||a[e].push(g[f]);else a[e]=[g[f].clone()]}return mg(a).flat().map(f=>{{var k=c.config,q,r=f.combine();f=Object.assign({},r);const Oc=r.disable;r=r.labelExpr;f=(delete f.disable,delete f.labelExpr,delete f.selections,f);if(Oc)var Y=void 0;else{!1===k.aria&&void 0==f.aria&&(f.aria=!1);if(null!==(q=f.encode)&&void 0!==q&&q.symbols){k=f.encode.symbols.update;!k.fill||"transparent"===k.fill.value||k.stroke||f.stroke||(k.stroke={value:"transparent"});
for(var ia of sl)f[ia]&&delete k[ia]}f.title||delete f.title;if(void 0!==r){var sa,Na;ia=r;null!==(sa=f.encode)&&void 0!==sa&&null!==(Na=sa.labels)&&void 0!==Na&&Na.update&&tc(f.encode.labels.update.text)&&(ia=kc(r,"datum.label",f.encode.labels.update.text.signal));sa=f;Na={signal:ia};var Jb,vc,$b,Hc;null!==(Y=sa.encode)&&void 0!==Y?Y:sa.encode={};null!==(vc=(Jb=sa.encode).labels)&&void 0!==vc?vc:Jb.labels={};null!==(Hc=($b=sa.encode.labels).update)&&void 0!==Hc?Hc:$b.update={};sa.encode.labels.update.text=
Na}Y=f}}return Y}).filter(f=>void 0!==f)}function zg(c){return c.children.reduce((g,a)=>g.concat(a.assembleProjections()),Gh(c))}function Gh(c){var g=c.component.projection;if(!g||g.merged)return[];const a=g.combine(),{name:e}=a;if(g.data){const f={signal:"[".concat(g.size.map(k=>k.signal).join(", "),"]")};g=g.data.reduce((k,q)=>{q=tc(q)?q.signal:"data('".concat(c.lookupDataSource(q),"')");k.includes(q)||k.push(q);return k},[]);if(0>=g.length)throw Error("Projection's fit didn't find any data sources");
return[Object.assign({},{name:e,size:f,fit:{signal:1<g.length?"[".concat(g.join(", "),"]"):g[0]}},a)]}return[Object.assign({},{name:e},{translate:{signal:"[width / 2, height / 2]"}},a)]}function Gk(c){var g=c.component,a;if(Mf(c))if(c.hasProjection){const k=mc(c.specifiedProjection);var e=!(k&&(null!=k.scale||null!=k.translate));const q=e?[c.getSizeSignalRef("width"),c.getSizeSignalRef("height")]:void 0;if(e){e=[];const {encoding:r}=c;for(f of[["longitude","latitude"],["longitude2","latitude2"]])(He(r[f[0]])||
He(r[f[1]]))&&e.push({signal:c.getName("geojson_".concat(e.length))});c.channelHasField("shape")&&"geojson"===c.typedFieldDef("shape").type&&e.push({signal:c.getName("geojson_".concat(e.length))});0===e.length&&e.push(c.requestDataName(Df.Main));var f=e}else f=void 0;c=new Wj(c.projectionName(!0),Object.assign({},null!==(a=mc(c.config.projection))&&void 0!==a?a:{},null!==k&&void 0!==k?k:{}),q,f);c.get("type")||c.set("type","equalEarth",!1);a=c}else a=void 0;else a=Hk(c);g.projection=a}function ag(c,
g){const a=Ba(mm,e=>!M.hasOwnProperty(c.explicit,e)&&!M.hasOwnProperty(g.explicit,e)||M.hasOwnProperty(c.explicit,e)&&M.hasOwnProperty(g.explicit,e)&&Kh(c.get(e),g.get(e))?!0:!1);if(Kh(c.size,g.size)){if(a)return c;if(Kh(c.explicit,{}))return g;if(Kh(g.explicit,{}))return c}return null}function Hk(c){if(0!==c.children.length){var g;for(var a of c.children)Gk(a);a=Ba(c.children,e=>{if(e=e.component.projection){if(g)return(e=ag(g,e))&&(g=e),!!e;g=e}return!0});if(g&&a){a=c.projectionName(!0);const e=
new Wj(a,g.specifiedProjection,g.size,Je(g.data));for(const f of c.children)if(c=f.component.projection)c.isFit&&e.data.push(...f.component.projection.data),f.renameProjection(c.get("name"),a),c.merged=!0;return e}}}function Xj(c,g){return"".concat(Ka(c),"_").concat(g)}function Di(c,g,a){var e;a=null!==(e=Wf(a,void 0))&&void 0!==e?e:{};g=Xj(a,g);return c.getName("".concat(g,"_bins"))}function Tj(c,g,a){let e;e="as"in c?M.isString(c.as)?[c.as,"".concat(c.as,"_end")]:[c.as[0],c.as[1]]:[Qc(c,{forAs:!0}),
Qc(c,{binSuffix:"end",forAs:!0})];const f=Object.assign({},Wf(g,void 0));g=Xj(f,c.field);var k={signal:a.getName("".concat(g,"_bins")),extentSignal:a.getName("".concat(g,"_extent"))};const {signal:q,extentSignal:r}=k;if(mb(f.extent)){var Y=f.extent;Y=zk(a,Y.param,Y);delete f.extent}c=Object.assign({},{bin:f,field:c.field,as:[e]},q?{signal:q}:{},r?{extentSignal:r}:{},Y?{span:Y}:{});return{key:g,binComponent:c}}function Tk(c){return c.startsWith("'")&&c.endsWith("'")||c.startsWith('"')&&c.endsWith('"')?
c.slice(1,-1):c}function vj(c,g){c=Ca(c);if("number"===g)return"toNumber(".concat(c,")");if("boolean"===g)return"toBoolean(".concat(c,")");if("string"===g)return"toString(".concat(c,")");if("date"===g)return"toDate(".concat(c,")");if("flatten"===g)return c;if(g.startsWith("date:"))return g=Tk(g.slice(5,g.length)),"timeParse(".concat(c,",'").concat(g,"')");if(g.startsWith("utc:"))return g=Tk(g.slice(4,g.length)),"utcParse(".concat(c,",'").concat(g,"')");wb('Unrecognized parse "'.concat(g,'".'));return null}
function cm(c){const g={};cb(c.filter,a=>{if(Kb(a)){let f=null;if(Ne(a))f=Ea(a.equal);else if(Se(a))f=Ea(a.lte);else if(ne(a))f=Ea(a.lt);else if(F(a))f=Ea(a.gt);else if(Z(a))f=Ea(a.gte);else if(Da(a))f=a.range[0];else if(hb(a)){var e;f=(null!==(e=a.oneOf)&&void 0!==e?e:a["in"])[0]}f&&(Ic(f)?g[a.field]="date":M.isNumber(f)?g[a.field]="number":M.isString(f)&&(g[a.field]="string"));a.timeUnit&&(g[a.field]="date")}});return g}function Gl(c){function g(e){if(Ce(e))a[e.field]="date";else{var f;if(f="quantitative"===
e.type)f=e.aggregate,f=M.isString(f)&&Db(["min","max"],f);f?a[e.field]="number":1<ca(e.field)?e.field in a||(a[e.field]="flatten"):Pd(e)&&n(e.sort)&&1<ca(e.sort.field)&&(e.sort.field in a||(a[e.sort.field]="flatten"))}}const a={};(Mf(c)||jh(c))&&c.forEachFieldDef((e,f)=>{Mc(e)?g(e):(f=y(f),f=c.fieldDef(f),g(Object.assign({},e,{type:f.type})))});if(Mf(c)){const {mark:e,markDef:f,encoding:k}=c;if(Ae(e)&&!c.encoding.order){const q=k["horizontal"===f.orient?"y":"x"];!Rb(q)||"quantitative"!==q.type||q.field in
a||(a[q.field]="number")}}return a}function Bj(c){return c instanceof Qb||c instanceof ea||c instanceof Wa}function Ik(c){return c.stack.stackBy.reduce((g,a)=>{(a=Qc(a.fieldDef))&&g.push(a);return g},[])}function Yi(c){return M.isArray(c)&&c.every(g=>M.isString(g))&&1<c.length}function Zi(c){function g(a){if(!(a instanceof h)){const e=a.clone();if(e instanceof Cf){const f="scale_"+e.getSource();e.setSource(f);c.model.component.data.outputNodes[f]=e}else(e instanceof d||e instanceof we||e instanceof
ig||e instanceof se)&&e.addDimensions(c.fields);for(const f of a.children.flatMap(g))f.parent=e;return[e]}return a.children.flatMap(g)}return g}function wj(c){if(c instanceof h)if(1!==c.numChildren()||c.children[0]instanceof Cf){var g=c.model.component.data.main;ek(g);const a=Zi(c);c=c.children.map(a).flat();for(const e of c)e.parent=g}else g=c.children[0],(g instanceof d||g instanceof we||g instanceof ig||g instanceof se)&&g.addDimensions(c.fields),g.swapWithParent(),wj(c);else c.children.map(wj)}
function ek(c){if(c instanceof Cf&&c.type===Df.Main&&1===c.numChildren()){const g=c.children[0];g instanceof h||(g.swapWithParent(),ek(c))}}function Ui(c){for(const g of c){for(const a of g.children)if(a.parent!==g)return!1;if(!Ui(g.children))return!1}return!0}function Wg(c,g){let a=!1;for(const e of g)a=c.optimize(e)||a;return a}function xj(c,g,a){let e=c.sources,f=!1;f=Wg(new le,e)||f;f=Wg(new Zd(g),e)||f;e=e.filter(k=>0<k.numChildren());f=Wg(new rc,e)||f;e=e.filter(k=>0<k.numChildren());a||(f=
Wg(new hg,e)||f,f=Wg(new me(g),e)||f,f=Wg(new he,e)||f,f=Wg(new Bc,e)||f,f=Wg(new Jd,e)||f,f=Wg(new Jc,e)||f,f=Wg(new td,e)||f,f=Wg(new ye,e)||f);c.sources=e;return f}function yj(c){const g=c.component.scales;for(const ia of vd(g)){var a=c,e=ia,f=a.getScaleComponent(e).get("type"),{encoding:k}=a;var q=a.scaleDomain(e);var r=a.typedFieldDef(e),Y=a.config.scale;if("unaggregated"===q){const {valid:sa,reason:Na}=lg(r,f);sa||(wb(Na),q=void 0)}else void 0===q&&Y.useUnaggregatedDomain&&({valid:r}=lg(r,f),
r&&(q="unaggregated"));q!==a.scaleDomain(e)&&(a.specifiedScales[e]=Object.assign({},a.specifiedScales[e],{domain:q}));a="x"===e&&He(k.x2)?He(k.x)?pg(mi(f,q,a,"x"),mi(f,q,a,"x2"),"domain","scale",Lk):mi(f,q,a,"x2"):"y"===e&&He(k.y2)?He(k.y)?pg(mi(f,q,a,"y"),mi(f,q,a,"y2"),"domain","scale",Lk):mi(f,q,a,"y2"):mi(f,q,a,e);g[ia].setWithExplicit("domains",a);k=void 0;e=c.component.scales[ia];q=c.specifiedScales[ia].domain;f=null===(k=c.fieldDef(ia))||void 0===k?void 0:k.bin;k=Nd(q)&&q;f=M.isObject(f)&&
mb(f.extent)&&f.extent;(k||f)&&e.set("selectionExtent",null!==k&&void 0!==k?k:f,!0);if(c.component.data.isFaceted){for(e=c;!jh(e)&&e.parent;)e=e.parent;if("shared"===e.component.resolve.scale[ia])for(const sa of a.value)Sc(sa)&&(sa.data="scale_"+sa.data.replace("scale_",""))}}}function Yj(c){for(var g of c.children){var a=g;Mf(a)?yj(a):Yj(a)}a=c.component.scales;for(const f of vd(a)){let k;g=null;for(const q of c.children){var e=q.component.scales[f];e&&(k=void 0===k?e.getWithExplicit("domains"):
pg(k,e.getWithExplicit("domains"),"domains","scale",Lk),e=e.get("selectionExtent"),g&&e&&g.param!==e.param&&wb("The same selection must be used to override scale domains in a layered view."),g=e)}a[f].setWithExplicit("domains",k);g&&a[f].set("selectionExtent",g,!0)}}function Hl(c,g,a){return c.map(e=>{e=rf(e,{timeUnit:a,type:g});return{signal:"{data: ".concat(e,"}")}})}function mk(c,g,a){var e;a=null===(e=Pe(a))||void 0===e?void 0:e.unit;return"temporal"===g||a?Hl(c,g,a):[c]}function mi(c,g,a,e){var {encoding:f}=
a;f=He(f[e]);const {type:k}=f,q=f.timeUnit;if(null===g||void 0===g?0:g.unionWith)return e=mi(c,void 0,a,e),g=mk(g.unionWith,k,q),fg([...e.value,...g]);if(tc(g))return fg([g]);if(g&&"unaggregated"!==g&&!Nd(g))return fg(mk(g,k,q));var r=a.stack;if(r&&e===r.fieldChannel){if("normalize"===r.offset)return of([[0,1]]);g=a.requestDataName(Df.Main);return of([{data:g,field:a.vgField(e,{suffix:"start"})},{data:g,field:a.vgField(e,{suffix:"end"})}])}r=$h[e]&&Rb(f)?bm(a,e,c):void 0;if(Od(f))return e=mk([f.datum],
k,q),of(e);if("unaggregated"===g)return e=a.requestDataName(Df.Main),{field:g}=f,of([{data:e,field:Qc({field:g,aggregate:"min"})},{data:e,field:Qc({field:g,aggregate:"max"})}]);if(kb(f.bin)){if(rd(c))return"bin-ordinal"===c?of([]):of([{data:pa(r)?a.requestDataName(Df.Main):a.requestDataName(Df.Raw),field:a.vgField(e,mf(f,e)?{binSuffix:"range"}:{}),sort:!0!==r&&M.isObject(r)?r:{field:a.vgField(e,{}),op:"min"}}]);({bin:g}=f);if(kb(g)){const Y=Di(a,f.field,g);return of([new Ke(()=>{const ia=a.getSignalName(Y);
return"[".concat(ia,".start, ").concat(ia,".stop]")})])}return of([{data:a.requestDataName(Df.Main),field:a.vgField(e,{})}])}return f.timeUnit&&Db(["time","utc"],c)&&Pb(f,Mf(a)?a.encoding[H(e)]:void 0,a.markDef,a.config)?(g=a.requestDataName(Df.Main),of([{data:g,field:a.vgField(e)},{data:g,field:a.vgField(e,{suffix:"end"})}])):r?of([{data:pa(r)?a.requestDataName(Df.Main):a.requestDataName(Df.Raw),field:a.vgField(e),sort:r}]):of([{data:a.requestDataName(Df.Main),field:a.vgField(e)}])}function Wk(c,
g){const {op:a,field:e,order:f}=c;return Object.assign({},{op:null!==a&&void 0!==a?a:g?"sum":"min"},e?{field:Mb(e)}:{},f?{order:f}:{})}function bm(c,g,a){if(rd(a)){var e=c.fieldDef(g);a=e.sort;if(J(a))return{op:"min",field:Tc(e,g),order:"ascending"};({stack:e}=c);var f=e?new Set([...e.groupbyFields,...e.stackBy.map(k=>k.fieldDef.field)]):void 0;if(n(a))return c=e&&!f.has(a.field),Wk(a,c);if(ub(a)){const {encoding:k,order:q}=a;c=c.fieldDef(k);const {aggregate:r,field:Y}=c;g=e&&!f.has(Y);if(la(r)||
xa(r))return Wk({field:Qc(c),order:q},g);if(R(r)||!r)return Wk({op:r,field:Y,order:q},g)}else{if("descending"===a)return{op:"min",field:c.vgField(g),order:"descending"};if(Db(["ascending",void 0],a))return!0}}}function lg(c,g){const {aggregate:a,type:e}=c;return a?M.isString(a)&&!Zl.has(a)?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(a,'" since it produces values outside the origin domain of the source data.')}:"quantitative"===e&&"log"===g?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(Gf(c),
").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(Gf(c),").")}}function Lk(c,g,a,e){if(c.explicit&&g.explicit){var f=c.value,k=g.value;a="Conflicting ".concat(e.toString(),' property "').concat(a.toString(),'" (').concat(Gf(f)," and ").concat(Gf(k),"). Using the union of the two domains.");wb(a)}return{explicit:c.explicit,value:[...c.value,...g.value]}}function Mk(c){var g=yb(c.map(f=>Sc(f)?(f=Object.assign({},f),delete f.sort,f):f),Tb),a=yb(c.map(f=>
{if(Sc(f))return f=f.sort,void 0===f||pa(f)||("op"in f&&"count"===f.op&&delete f.field,"ascending"===f.order&&delete f.order),f}).filter(f=>void 0!==f),Tb);if(0!==g.length){if(1===g.length){g=c[0];if(Sc(g)&&0<a.length){var e=a[0];1<a.length?(wb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),e=!0):M.isObject(e)&&"field"in e&&g.field===e.field&&(e=e.order?{order:e.order}:!0);return Object.assign({},g,{sort:e})}return g}a=yb(a.map(f=>{if(pa(f)||!("op"in f)||
M.isString(f.op)&&f.op in Xk)return f;wb("Dropping sort property ".concat(Gf(f),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),Tb);1===a.length?e=a[0]:1<a.length&&(wb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),e=!0);a=yb(c.map(f=>Sc(f)?f.data:null),f=>f);return 1===a.length&&null!==a[0]?Object.assign({},{data:a[0],fields:g.map(f=>f.field)},e?{sort:e}:{}):Object.assign({},{fields:g},e?{sort:e}:{})}}function ck(c){if(Sc(c)&&
M.isString(c.field))return c.field;var g=M.isArray(c)?!1:"fields"in c&&!("data"in c);if(g){let a;for(const e of c.fields)if(Sc(e)&&M.isString(e.field))if(!a)a=e.field;else if(a!==e.field)return wb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),a;wb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return a}g=M.isArray(c)?!1:"fields"in c&&"data"in c;if(g)return wb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),c=c.fields[0],M.isString(c)?c:void 0}function Ei(c,g){g=c.component.scales[g].get("domains").map(a=>{Sc(a)&&(a.data=c.lookupDataSource(a.data));return a});return Mk(g)}function hl(c){return ij(c)||Vi(c)?c.children.reduce((g,a)=>g.concat(hl(a)),Nk(c)):Nk(c)}function Nk(c){return vd(c.component.scales).reduce((g,
a)=>{var e=c.component.scales[a];if(e.merged)return g;var f=e.combine(),k=Object.assign({},f);const q=f.name,r=f.type;var Y=f.selectionExtent;const ia=f.reverse;k=(delete k.name,delete k.type,delete k.selectionExtent,delete k.domains,delete k.range,delete k.reverse,k);f=f.range;L(a)?jc(f)&&(f={step:{signal:"".concat(q,"_step")}}):M.isObject(f)&&Sc(f)&&(f=Object.assign({},f,{data:c.lookupDataSource(f.data)}));a=Ei(c,a);Y?(Y=zk(c,Y.param,Y),e={signal:ad(e.get("type"))&&M.isArray(a)&&a[0]>a[1]?"isValid(".concat(Y,
") \x26\x26 reverse(").concat(Y,")"):Y}):e=null;g.push(Object.assign({},{name:q,type:r},a?{domain:a}:{},e?{domainRaw:e}:{},{range:f},void 0!==ia?{reverse:ia}:{},k));return g},[])}function zj(c,g){var a=c.fieldDef(g);if(null!==a&&void 0!==a&&a.bin){const {bin:e,field:f}=a;a=V(g);const k=c.getName(a);if(M.isObject(e)&&e.binned&&void 0!==e.step)return new Ke(()=>{var q=c.scaleName(g);q='(domain("'.concat(q,'")[1] - domain("').concat(q,'")[0]) / ').concat(e.step);return"".concat(c.getSignalName(k)," / (").concat(q,
")")});if(kb(e)){const q=Di(c,f,e);return new Ke(()=>{var r=c.getSignalName(q);r="(".concat(r,".stop - ").concat(r,".start) / ").concat(r,".step");return"".concat(c.getSignalName(k)," / (").concat(r,")")})}}}function Ih(c,g){const a=g.specifiedScales[c];var {size:e}=g,f=g.getScaleComponent(c).get("type");for(var k of Tl)if(void 0!==a[k]){const Y=De(f,k),ia=Rd(c,k);if(Y)if(ia)wb(ia);else switch(k){case "range":f=a.range;if(M.isArray(f)){if(L(c))return fg(f.map(sa=>{if("width"===sa||"height"===sa){sa=
g.getName(sa);const Na=g.getSignalName.bind(g);return Ke.fromName(Na,sa)}return sa}))}else if(M.isObject(f))return fg({data:g.requestDataName(Df.Main),field:f.field,sort:{op:"min",field:g.vgField(c)}});return fg(f);case "scheme":return fg(Ah(a[k]))}else wb(ta(f,k,c))}k="x"===c||"xOffset"===c?"width":"height";e=e[k];if(wf(e))if(L(c))if(rd(f)){if(e=fl(e,g,c))return fg({step:e})}else wb(Qa(k));else if(c in pi&&"band"===g.getScaleComponent("xOffset"===c?"x":"y").get("type")&&(e=Aj(e,f)))return fg(e);
const {rangeMin:q,rangeMax:r}=a;c=Il(c,g);return(void 0!==q||void 0!==r)&&De(f,"rangeMin")&&M.isArray(c)&&2===c.length?fg([null!==q&&void 0!==q?q:c[0],null!==r&&void 0!==r?r:c[1]]):of(c)}function Ah(c){return!M.isString(c)&&c.name?Object.assign({},{scheme:c.name},nc(c,["name"])):{scheme:c}}function Il(c,g){const {size:a,config:e,mark:f,encoding:k}=g;var q=g.getSignalName.bind(g),{type:r}=He(k[c]);const Y=g.getScaleComponent(c).get("type"),{domain:ia,domainMid:sa}=g.specifiedScales[c];switch(c){case "x":case "y":if(Db(["point",
"band"],Y)&&(r=vf(c,a,e.view),wf(r)))return{step:fl(r,g,c)};r=V(c);r=g.getName(r);return"y"===c&&ad(Y)?[Ke.fromName(q,r),0]:[0,Ke.fromName(q,r)];case "xOffset":case "yOffset":return yk(c,g,Y);case "size":return q=g.component.scales[c].get("zero"),q=Xh(f,q,e),r=ri(f,a,g,e),rh.has(Y)?Zj(q,r,Jk(Y,e,ia,c)):[q,r];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Ke(()=>{const Na=g.getSignalName("width"),Jb=g.getSignalName("height");return"min(".concat(Na,",").concat(Jb,
")/2")})];case "strokeWidth":return[e.scale.minStrokeWidth,e.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===Y?"nominal"===r?"category":"ordinal":void 0!==sa?"diverging":"rect"===f||"geoshape"===f?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[e.scale.minOpacity,e.scale.maxOpacity]}}function fl(c,g,a){var {encoding:e}=g,f=g.getScaleComponent(a);a=K(a);
const k=e[a];if("offset"===Sf({step:c,offsetIsDiscrete:hd(k)&&Uc(k.type)})&&Rf(e,a)){var q;e=g.getScaleComponent(a);g=g.scaleName(a);g="domain('".concat(g,"').length");if("band"===e.get("type")){var r,Y,ia,sa;a=null!==(r=null!==(Y=e.get("paddingInner"))&&void 0!==Y?Y:e.get("padding"))&&void 0!==r?r:0;r=null!==(ia=null!==(sa=e.get("paddingOuter"))&&void 0!==sa?sa:e.get("padding"))&&void 0!==ia?ia:0;g="bandspace(".concat(g,", ").concat(a,", ").concat(r,")")}ia=null!==(q=f.get("paddingInner"))&&void 0!==
q?q:f.get("padding");c="".concat(c.step," * ").concat(g," / (1-");f=c.concat;q=ia;q=tc(q)?q.signal:M.stringValue(q);return{signal:f.call(c,q,")")}}return c.step}function Aj(c,g){if("offset"===Sf({step:c,offsetIsDiscrete:rd(g)}))return{step:c.step}}function yk(c,g,a){const e="xOffset"===c?"x":"y",f=g.getScaleComponent(e).get("type"),k=g.scaleName(e);return"band"===f?(c=vf(e,g.size,g.config.view),wf(c)&&(a=Aj(c,a))?a:[0,{signal:"bandwidth('".concat(k,"')")}]):Zb("Cannot use ".concat(c," scale if ").concat(e,
" scale is not discrete."))}function vf(c,g,a){c="x"===c?"width":"height";return(g=g[c])?g:Sg(a,c)}function Jk(c,g,a,e){switch(c){case "quantile":return g.scale.quantileCount;case "quantize":return g.scale.quantizeCount;case "threshold":if(void 0!==a&&M.isArray(a))return a.length+1;wb("Domain for ".concat(e," is required for threshold scale."));return 3}}function Zj(c,g,a){const e=()=>{const f=Wb(g),k=Wb(c),q="(".concat(f," - ").concat(k,") / (").concat(a," - 1)");return"sequence(".concat(k,", ").concat(f,
" + ").concat(q,", ").concat(q,")")};return tc(g)?new Ke(e):{signal:e()}}function Xh(c,g,a){if(g)return tc(g)?{signal:"".concat(g.signal," ? 0 : ").concat(Xh(c,!1,a))}:0;switch(c){case "bar":case "tick":return a.scale.minBandSize;case "line":case "trail":case "rule":return a.scale.minStrokeWidth;case "text":return a.scale.minFontSize;case "point":case "square":case "circle":return a.scale.minSize}throw Error(qe("size",c));}function ri(c,g,a,e){a={x:zj(a,"x"),y:zj(a,"y")};switch(c){case "bar":case "tick":if(void 0!==
e.scale.maxBandSize)return e.scale.maxBandSize;const f=Yh(g,a,e.view);return M.isNumber(f)?f-1:new Ke(()=>"".concat(f.signal," - 1"));case "line":case "trail":case "rule":return e.scale.maxStrokeWidth;case "text":return e.scale.maxFontSize;case "point":case "square":case "circle":if(e.scale.maxSize)return e.scale.maxSize;const k=Yh(g,a,e.view);return M.isNumber(k)?Math.pow(.95*k,2):new Ke(()=>"pow(".concat(.95," * ").concat(k.signal,", 2)"))}throw Error(qe("size",c));}function Yh(c,g,a){const e=wf(c.width)?
c.width.step:Zg(a,"width"),f=wf(c.height)?c.height.step:Zg(a,"height");return g.x||g.y?new Ke(()=>"min(".concat([g.x?g.x.signal:e,g.y?g.y.signal:f].join(", "),")")):Math.min(e,f)}function $i(c,g){if(Mf(c)){const q=c.component.scales,{config:r,encoding:Y,markDef:ia,specifiedScales:sa}=c;for(const Na of vd(q)){var a=sa[Na];const Jb=q[Na];var e=c.getScaleComponent(Na),f=He(Y[Na]),k=a[g];const vc=e.get("type"),$b=e.get("padding");e=e.get("paddingInner");const Hc=De(vc,g),Oc=Rd(Na,g);void 0!==k&&(Hc?Oc&&
wb(Oc):wb(ta(vc,g,Na)));if(Hc&&void 0===Oc)if(void 0!==k)switch(k=f.timeUnit,f=f.type,g){case "domainMax":case "domainMin":Ic(a[g])||"temporal"===f||k?Jb.set(g,{signal:rf(a[g],{type:f,timeUnit:k})},!0):Jb.set(g,a[g],!0);break;default:Jb.copyKeyFromObject(g,a)}else a=g in Bm?Bm[g]({model:c,channel:Na,fieldOrDatumDef:f,scaleType:vc,scalePadding:$b,scalePaddingInner:e,domain:a.domain,domainMin:a.domainMin,domainMax:a.domainMax,markDef:ia,config:r,hasNestedOffsetScale:Jf(Y,Na)}):r.scale[g],void 0!==a&&
Jb.set(g,a,!1)}}else Zh(c,g)}function aj(c){if(Mf(c)){const g=c.component.scales;for(const a of Gi){const e=g[a];if(!e)continue;const f=Ih(a,c);e.setWithExplicit("range",f)}}else Zh(c,"range")}function Zh(c,g){const a=c.component.scales;for(var e of c.children)"range"===g?aj(e):$i(e,g);for(const f of vd(a)){let k;for(const q of c.children)if(e=q.component.scales[f])e=e.getWithExplicit(g),k=pg(k,e,g,"scale",zi((r,Y)=>{switch(g){case "range":if(r.step&&Y.step)return r.step-Y.step}return 0}));a[f].setWithExplicit(g,
k)}}function Ll(c,g){const a=g.bin;if(kb(a)){const e=Di(c,g.field,a);return new Ke(()=>c.getSignalName(e))}if(Za(a)&&M.isObject(a)&&void 0!==a.step)return{step:a.step}}function bj(c,g,a,e,f){let k=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===c){if(L(g)){const {bandPaddingInner:q,barBandPaddingInner:r,rectBandPaddingInner:Y,bandWithNestedOffsetPaddingInner:ia}=f;return k?ia:O(q,"bar"===a?r:Y)}if(g in pi&&e===sg.BAND)return f.offsetBandPaddingInner}}function ak(c,g,a,e,f){let k=
5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===c)if(L(g)){const {bandPaddingOuter:q,bandWithNestedOffsetPaddingOuter:r}=f;if(k)return r;if(a===sg.BAND)return O(q,tc(e)?{signal:"".concat(e.signal,"/2")}:e/2)}else if(g in pi){if(a===sg.POINT)return.5;if(a===sg.BAND)return f.offsetBandPaddingOuter}}function bk(c,g,a,e){const f=si(g,a,e,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1);var {type:k}=c;if(!$h[g])return null;if(void 0!==k){if(!fe(g,k))return k='Channel "'.concat(g,
'" does not work with "').concat(k,'" scale. We are using "').concat(f,'" scale instead.'),wb(k),f;var q;if(q=Rb(a))q=a.type,q=!(Db(["ordinal","nominal"],q)?void 0===k||rd(k):"temporal"===q?Db([sg.TIME,sg.UTC,void 0],k):"quantitative"===q?Gj.has(k)||rh.has(k)||void 0===k:1);return q?(k='FieldDef does not work with "'.concat(k,'" scale. We are using "').concat(f,'" scale instead.'),wb(k),f):k}return f}function si(c,g,a,e){switch(g.type){case "nominal":case "ordinal":var f;if(G(c)||"discrete"===T(c))return"shape"===
c&&"ordinal"===g.type&&wb(W(c,"ordinal")),"ordinal";if(L(c)||c in pi){if(Db(["rect","bar","image","rule"],a.type)||e)return"band"}else if("arc"===a.type&&c in Dk)return"band";c=a[V(c)];return Gd(c)||Xd(g)&&null!==(f=g.axis)&&void 0!==f&&f.tickBand?"band":"point";case "temporal":if(!G(c)){if("discrete"===T(c))return wb(W(c,"temporal")),"ordinal";if(Rb(g)&&g.timeUnit&&Pe(g.timeUnit).utc)return"utc"}return"time";case "quantitative":if(G(c)){if(Rb(g)&&kb(g.bin))return"bin-ordinal"}else if("discrete"===
T(c))return wb(W(c,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(g.type,'".'));}function Ok(c){let {ignoreRange:g}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Cj(c);Mf(c)?yj(c):Yj(c);for(const a of Ii)$i(c,a);g||aj(c)}function Cj(c){if(Mf(c)){var g=c.component;const {encoding:Y,mark:ia,markDef:sa}=c;var a={};for(var e of Gi){var f=He(Y[e]);if(!f||ia!==Hj||"shape"!==e||"geojson"!==f.type){var k=f&&f.scale;if(e in pi){var q=z(e);
if(!Jf(Y,q)){k&&wb("".concat(e," encoding has no scale, so specified scale is ignored."));continue}}if(f&&null!==k&&!1!==k){var r;null!==(r=k)&&void 0!==r?r:k={};q=Jf(Y,e);f=bk(k,e,f,sa,q);a[e]=new di(c.scaleName("".concat(e),!0),{value:f,explicit:k.type===f})}}}g.scales=a}else{r=c.component;e=c.component.scales={};q={};const Y=c.component.resolve;for(const ia of c.children){Cj(ia);for(const sa of vd(ia.component.scales))if(null!==(f=(k=Y.scale)[sa])&&void 0!==f?f:k[sa]=yf(sa,c),"shared"===Y.scale[sa]){const Na=
q[sa],Jb=ia.component.scales[sa].getWithExplicit("type");if(Na){const vc=Ch[Na.value],$b=Ch[Jb.value];vc===$b||"ordinal-position"===vc&&"time"===$b||"ordinal-position"===$b&&"time"===vc?q[sa]=pg(Na,Jb,"type","scale",Im):(Y.scale[sa]="independent",delete q[sa])}else q[sa]=Jb}}for(g of vd(q)){k=c.scaleName(g,!0);e[g]=new di(k,q[g]);for(a of c.children)if(f=a.component.scales[g])a.renameScale(f.get("name"),k),f.merged=!0}r.scales=e}}function Mf(c){return"unit"===(null===c||void 0===c?void 0:c.type)}
function jh(c){return"facet"===(null===c||void 0===c?void 0:c.type)}function Vi(c){return"concat"===(null===c||void 0===c?void 0:c.type)}function ij(c){return"layer"===(null===c||void 0===c?void 0:c.type)}function Ak(c){function g(e,f){e instanceof Qb&&!(e.isGenerator||"url"in e.data)&&(c.push(f),f={name:null,source:f.name,transform:[]});if(e instanceof v)if(e.parent instanceof Qb&&!f.source){var k;f.format=Object.assign({},null!==(k=f.format)&&void 0!==k?k:{},{parse:e.assembleFormatParse()});f.transform.push(...e.assembleTransforms(!0))}else f.transform.push(...e.assembleTransforms());
if(e instanceof h)f.name||(f.name="data_".concat(a++)),!f.source||0<f.transform.length?(c.push(f),e.data=f.name):e.data=f.source,c.push(...e.assemble());else switch((e instanceof ea||e instanceof Wa||e instanceof Bl||e instanceof Ai||e instanceof Pj||e instanceof Cl||e instanceof d||e instanceof Dl||e instanceof ig||e instanceof se||e instanceof pm||e instanceof qm||e instanceof rm||e instanceof sm||e instanceof tm||e instanceof um||e instanceof S||e instanceof vm||e instanceof wm)&&f.transform.push(e.assemble()),
(e instanceof b||e instanceof Eh||e instanceof Fk||e instanceof we||e instanceof el)&&f.transform.push(...e.assemble()),e instanceof Cf&&(f.source&&0===f.transform.length?e.setSource(f.source):e.parent instanceof Cf?e.setSource(f.name):(f.name||(f.name="data_".concat(a++)),e.setSource(f.name),1===e.numChildren()&&(c.push(f),f={name:null,source:f.name,transform:[]}))),e.numChildren()){case 0:e instanceof Cf&&(!f.source||0<f.transform.length)&&c.push(f);break;case 1:g(e.children[0],f);break;default:f.name||
(f.name="data_".concat(a++));k=f.name;!f.source||0<f.transform.length?c.push(f):k=f.source;for(const q of e.children)g(q,{name:null,source:k,transform:[]})}}let a=0;return g}function Zk(c){const g=[],a=Ak(g);for(const e of c.children)a(e,{source:c.name,name:null,transform:[]});return g}function Uj(c,g){const a=[];var e=Ak(a);let f=0;for(const r of c.sources){r.hasName()||(r.dataName="source_".concat(f++));const Y=r.assemble();e(r,Y)}for(const r of a)0===r.transform.length&&delete r.transform;e=0;
for(const r of a.entries()){const [Y,ia]=r;var k;0!==(null!==(k=ia.transform)&&void 0!==k?k:[]).length||ia.source||a.splice(e++,0,a.splice(Y,1)[0])}for(const r of a)for(const Y of null!==(q=r.transform)&&void 0!==q?q:[]){var q;"lookup"===Y.type&&(Y.from=c.outputNodes[Y.from].getSource())}for(const r of a)r.name in g&&(r.values=g[r.name]);return a}function Vj(c,g,a){g="row"===g?"height":"width";return{labels:a,sizeSignal:c.child.component.layoutSize.get(g)?c.child.getSizeSignalRef(g):void 0,axes:[]}}
function Qk(c,g){var {child:a}=c;if(a.component.axes[g]){const {layoutHeaders:f,resolve:k}=c.component;k.axis[g]=ih(k,g);if("shared"===k.axis[g]){const q="x"===g?"column":"row",r=f[q];for(const Y of a.component.axes[g]){var e;g=Y.get("orient");g="top"===g||"left"===g||tc(g)?"header":"footer";null!==(e=r[g])&&void 0!==e?e:r[g]=[Vj(c,q,!1)];(a=Ci(Y,"main",c.config,{header:!0}))&&r[g][0].axes.push(a);Y.mainExtracted=!0}}}}function $k(c){for(const g of c.children)g.parseLayoutSize()}function fk(c,g){const a=
tf(g),e=X(a),f=c.component.resolve,k=c.component.layoutSize;let q;for(const Y of c.children){var r;const ia=Y.component.layoutSize.getWithExplicit(a),sa=null!==(r=f.scale[e])&&void 0!==r?r:yf(e,c);if("independent"===sa&&"step"===ia.value){q=void 0;break}if(q){if("independent"===sa&&q.value!==ia.value){q=void 0;break}q=pg(q,ia,a,"")}else q=ia}if(q){for(const Y of c.children)c.renameSignal(Y.getName(a),c.getName(g)),Y.component.layoutSize.set(a,"merged",!1);k.setWithExplicit(g,q)}else k.setWithExplicit(g,
{explicit:!1,value:void 0})}function dm(c,g){const a=c.config;var e=c.getScaleComponent("width"===g?"x":"y");if(e)return c=e.get("type"),e=e.get("range"),rd(c)?(g=Sg(a.view,g),jc(e)||wf(g)?"step":g):wg(a.view,g);if(c.hasProjection||"arc"===c.mark)return wg(a.view,g);g=Sg(a.view,g);return wf(g)?g.step:g}function Ej(c,g,a){return Qc(g,Object.assign({},{suffix:"by_".concat(Qc(c))},null!==a&&void 0!==a?a:{}))}function vl(c,g){for(const r of g){var a,e,f,k;g=r.data;if(c.name&&r.hasName()&&c.name!==r.dataName)continue;
const Y=null===(a=c.format)||void 0===a?void 0:a.mesh;var q=null===(e=g.format)||void 0===e?void 0:e.feature;if(Y&&q)continue;const ia=null===(f=c.format)||void 0===f?void 0:f.feature;if(!ia&&!q||ia===q)if(q=null===(k=g.format)||void 0===k?void 0:k.mesh,!Y&&!q||Y===q)if("values"in c&&"values"in g){if(Kh(c.values,g.values))return r}else if("url"in c&&"url"in g){if(c.url===g.url)return r}else if(D(c)&&c.name===r.dataName)return r}return null}function Ql(c,g){if(c.data||!c.parent){if(null===c.data)return c=
new Qb({values:[]}),g.push(c),c;const a=vl(c.data,g);if(a)return ba(c.data)||(a.data.format=jb({},c.data.format,a.data.format)),!a.hasName()&&c.data.name&&(a.dataName=c.data.name),a;c=new Qb(c.data);g.push(c);return c}return c.parent.component.data.facetRoot?c.parent.component.data.facetRoot:c.parent.component.data.main}function Bk(c){var g,a,e,f=Ql(c,c.component.data.sources);const {outputNodes:k,outputNodeRefCounts:q}=c.component.data,r=c.data,Y=r&&(ba(r)||"url"in r||"values"in r)||!c.parent?new wk:
c.parent.component.data.ancestorParse.clone();ba(r)?("sequence"in r?f=new Wa(f,r.sequence):"graticule"in r&&(f=new ea(f,r.graticule)),Y.parseNothing=!0):null===(null===r||void 0===r?void 0:null===(g=r.format)||void 0===g?void 0:g.parse)&&(Y.parseNothing=!0);f=null!==(a=v.makeExplicit(f,c,Y))&&void 0!==a?a:f;f=new S(f);g=c.parent&&ij(c.parent);if((Mf(c)||jh(c))&&g){var ia;f=null!==(ia=b.makeFromEncoding(f,c))&&void 0!==ia?ia:f}if(0<c.transforms.length){ia=0;for(const Qd of c.transforms){var sa=a=void 0;
if("calculate"in Qd)sa=f=new Pj(f,Qd),a="derived";else if("filter"in Qd){var Na;sa=cm(Qd);sa=f=null!==(Na=v.makeWithAncestors(f,{},sa,Y))&&void 0!==Na?Na:f;f=new Ai(f,c,Qd.filter)}else if("bin"in Qd)sa=f=b.makeFromTransform(f,Qd,c),a="number";else if("timeUnit"in Qd)a="date",void 0===Y.getWithExplicit(Qd.field).value&&(f=new v(f,{[Qd.field]:a}),Y.set(Qd.field,a,!1)),sa=f=Eh.makeFromTransform(f,Qd);else if("aggregate"in Qd)sa=f=d.makeFromTransform(f,Qd),a="number",th(c)&&(f=new S(f));else if("lookup"in
Qd)sa=f=Dl.make(f,c,Qd,ia++),a="derived";else if("window"in Qd)sa=f=new ig(f,Qd),a="number";else if("joinaggregate"in Qd)sa=f=new se(f,Qd),a="number";else if("stack"in Qd)sa=f=we.makeFromTransform(f,Qd),a="derived";else if("fold"in Qd)sa=f=new pm(f,Qd),a="derived";else if("flatten"in Qd)sa=f=new qm(f,Qd),a="derived";else if("pivot"in Qd)sa=f=new wm(f,Qd),a="derived";else if("sample"in Qd)f=new vm(f,Qd);else if("impute"in Qd)sa=f=Fk.makeFromTransform(f,Qd),a="derived";else if("density"in Qd)sa=f=new rm(f,
Qd),a="derived";else if("quantile"in Qd)sa=f=new tm(f,Qd),a="derived";else if("regression"in Qd)sa=f=new um(f,Qd),a="derived";else if("loess"in Qd)sa=f=new sm(f,Qd),a="derived";else{wb("Ignoring an invalid transform: ".concat(Gf(Qd),"."));continue}if(sa&&void 0!==a)for(const Me of null!==(Jb=sa.producedFields())&&void 0!==Jb?Jb:[]){var Jb;Y.set(Me,a,!1)}}}Na={};if(Mf(c)&&c.component.selection)for(var vc of vd(c.component.selection)){Jb=c.component.selection[vc];for(const Qd of Jb.project.items)!Qd.channel&&
1<ca(Qd.field)&&(Na[Qd.field]="flatten")}vc=Gl(c);f=null!==(e=v.makeWithAncestors(f,{},Object.assign({},Na,vc),Y))&&void 0!==e?e:f;Mf(c)&&(f=el.parseAll(f,c),f=Cl.parseAll(f,c));if(Mf(c)||jh(c)){var $b;if(!g){var Hc;f=null!==(Hc=b.makeFromEncoding(f,c))&&void 0!==Hc?Hc:f}f=null!==($b=Eh.makeFromEncoding(f,c))&&void 0!==$b?$b:f;f=Pj.parseAllForSortIndex(f,c)}$b=c.getDataName(Df.Raw);e=new Cf(f,$b,Df.Raw,q);f=k[$b]=e;if(Mf(c)){var Oc,ld;if($b=d.makeFromEncoding(f,c))f=$b,th(c)&&(f=new S(f));f=null!==
(Oc=Fk.makeFromEncoding(f,c))&&void 0!==Oc?Oc:f;f=null!==(ld=we.makeFromEncoding(f,c))&&void 0!==ld?ld:f}if(Mf(c)){var Kd;f=null!==(Kd=Bl.make(f,c))&&void 0!==Kd?Kd:f}ld=c.getDataName(Df.Main);Oc=new Cf(f,ld,Df.Main,q);f=k[ld]=Oc;if(Mf(c))for(var md of ti(null!==(zd=c.component.selection)&&void 0!==zd?zd:{})){const [Qd,Me]=md;var zd;zd=c.getName("lookup_".concat(Qd));c.component.data.outputNodes[zd]=Me.materialized=new Cf(new Ai(Oc,c,{param:Qd}),zd,Df.Lookup,c.component.data.outputNodeRefCounts)}zd=
null;if(jh(c)){var Yd;md=c.getName("facet");{zd=f;const {row:Qd,column:Me}=c.facet;if(Qd&&Me){ld=null;for(Td of[Qd,Me])if(n(Td.sort)){const {field:Ef,op:Ue="min"}=Td.sort;zd=ld=new se(zd,{joinaggregate:[{op:Ue,field:Ef,as:Ej(Td,Td.sort,{forAs:!0})}],groupby:[Qc(Td)]})}var Td=ld}else Td=null}f=null!==(Yd=Td)&&void 0!==Yd?Yd:f;zd=new h(f,c,md,Oc.getSource());k[md]=zd}return Object.assign({},c.component.data,{outputNodes:k,outputNodeRefCounts:q,raw:e,main:Oc,facetRoot:zd,ancestorParse:Y})}function Sl(c){return Bh.reduce((g,
a)=>{c.component.scales[a]&&(g[a]=[gm(a,c)]);return g},{})}function em(c,g){if(c){if(c.length!==g.length)return;const a=c.length;for(let e=0;e<a;e++){const f=c[e],k=g[e];if(!!f!==!!k)return;if(f&&k){const q=f.getWithExplicit("orient"),r=k.getWithExplicit("orient");if(q.explicit&&r.explicit&&q.value!==r.value)return;c[e]=kl(f,k)}}}else return g.map(a=>a.clone());return c}function kl(c,g){for(const a of Cm){const e=pg(c.getWithExplicit(a),g.getWithExplicit(a),a,"axis",(f,k)=>{switch(a){case "title":return fa(f,
k);case "gridScale":return{explicit:f.explicit,value:O(f.value,k.value)}}return Tg(f,k,a,"axis")});c.setWithExplicit(a,e)}return c}function fm(c,g,a,e,f){if("disable"===g)return void 0!==a;a=a||{};switch(g){case "titleAngle":case "labelAngle":return c===(tc(a.labelAngle)?a.labelAngle:ya(a.labelAngle));case "values":return!!a.values;case "encode":return!!a.encoding||!!a.labelAngle;case "title":if(c===sc(e,f))return!0}return c===a[g]}function gm(c,g){var a,e,f,k,q;let r=g.axis(c);const Y=new Dm;var ia=
He(g.encoding[c]);const {mark:sa,config:Na}=g;var Jb=(null===(a=r)||void 0===a?void 0:a.orient)||(null===(e=Na["x"===c?"axisX":"axisY"])||void 0===e?void 0:e.orient)||(null===(f=Na.axis)||void 0===f?void 0:f.orient)||("x"===c?"bottom":"left");e=g.getScaleComponent(c).get("type");a=I(c,e,Jb,g.config);f=void 0!==r?!r:ua("disable",Na.style,null===(k=r)||void 0===k?void 0:k.style,a).configValue;Y.set("disable",f,void 0!==r);if(f)return Y;r=r||{};k=db(ia,r,c,Na.style,a);ia={fieldOrDatumDef:ia,axis:r,channel:c,
model:g,scaleType:e,orient:Jb,labelAngle:k,mark:sa,config:Na};for(const $b of Cm)if(Jb=$b in Nj?Nj[$b](ia):Ag[$b]?r[$b]:void 0,k=void 0!==Jb,e=fm(Jb,$b,r,g,c),k&&e)Y.set($b,Jb,e);else{const {configValue:Hc,configFrom:Oc}=Ag[$b]&&"values"!==$b?ua($b,Na.style,r.style,a):{};f=void 0!==Hc;k&&!f?Y.set($b,Jb,e):("vgAxisConfig"!==Oc||Jm.has($b)&&f||uf(Hc)||tc(Hc))&&Y.set($b,Hc,!1)}const vc=null!==(q=r.encoding)&&void 0!==q?q:{};q=ui.reduce(($b,Hc)=>{var Oc;if(!Y.hasAxisPart(Hc))return $b;var ld=Be(null!==
(Oc=vc[Hc])&&void 0!==Oc?Oc:{},g);if("labels"===Hc){{var Kd;const {encoding:md,config:zd}=g;Oc=null!==(Kd=He(md[c]))&&void 0!==Kd?Kd:He(md[H(c)]);Kd=g.axis(c)||{};const {format:Yd,formatType:Td}=Kd;Ee(Td)?ld=Object.assign({},{text:gd({fieldOrDatumDef:Oc,field:"datum.value",format:Yd,formatType:Td,config:zd})},ld):void 0===Yd&&void 0===Td&&"quantitative"===Kc(Oc)&&zd.customFormatTypes&&(Xd(Oc)&&"normalize"===Oc.stack&&zd.normalizedNumberFormatType?ld=Object.assign({},{text:gd({fieldOrDatumDef:Oc,field:"datum.value",
format:zd.normalizedNumberFormat,formatType:zd.normalizedNumberFormatType,config:zd})},ld):zd.numberFormatType&&(ld=Object.assign({},{text:gd({fieldOrDatumDef:Oc,field:"datum.value",format:zd.numberFormat,formatType:zd.numberFormatType,config:zd})},ld)))}}void 0===ld||Fa(ld)||($b[Hc]={update:ld});return $b},{});Fa(q)||Y.set("encode",q,!!r.encoding||void 0!==r.labelAngle);return Y}function Ml(c){let {encoding:g,size:a}=c;for(const e of Bh)c=V(e),wf(a[c])&&od(g[e])&&(delete a[c],wb(Qa(c)));return a}
function hm(c,g,a){c=mc(c);var e=ic("orient",c,a);c.orient=im(c.type,g,e);void 0!==e&&e!==c.orient&&(e='Specified orient "'.concat(c.orient,'" overridden with "').concat(e,'".'),wb(e));if("bar"===c.type&&c.orient&&(e=ic("cornerRadiusEnd",c,a),void 0!==e)){const k="horizontal"===c.orient&&g.x2||"vertical"===c.orient&&g.y2?["cornerRadius"]:Ij[c.orient];for(var f of k)c[f]=e;void 0!==c.cornerRadiusEnd&&delete c.cornerRadiusEnd}void 0===ic("opacity",c,a)&&(f=Db([vk,Ji,Nh,qk],c.type)&&!ug(g)?.7:void 0,
c.opacity=f);void 0===ic("cursor",c,a)&&(g=g.href||c.href||ic("href",c,a)?"pointer":c.cursor,c.cursor=g);return c}function Ol(c,g,a){({graticule:a}=a);if(a)return!1;g=xc("filled",c,g);c=c.type;return O(g,c!==vk&&c!==ch&&c!==bi)}function im(c,g,a){switch(c){case vk:case Nh:case qk:case ci:case pk:case Vf:return}const {x:e,y:f,x2:k,y2:q}=g;switch(c){case Rg:if(Rb(e)&&(Za(e.bin)||Rb(f)&&f.aggregate&&!e.aggregate))break;if(Rb(f)&&(Za(f.bin)||Rb(e)&&e.aggregate&&!f.aggregate))return"horizontal";if(q||
k){if(a)return a;if(!k&&(Rb(e)&&"quantitative"===e.type&&!kb(e.bin)||Md(e)))return"horizontal";if(!q&&(Rb(f)&&"quantitative"===f.type&&!kb(f.bin)||Md(f)))break}case bi:if(!(!k||Rb(e)&&Za(e.bin)||!q||Rb(f)&&Za(f.bin)))return;case Qg:if(q){if(Rb(f)&&Za(f.bin))return"horizontal";break}else if(k)if(Rb(e)&&Za(e.bin))break;else return"horizontal";else if(c===bi)if(e&&!f)break;else if(f&&!e)return"horizontal";case ch:case Ji:g=od(e);const r=od(f);if(a)return a;if(g&&!r)return"tick"!==c?"horizontal":"vertical";
if(!g&&r)return"tick"!==c?"vertical":"horizontal";if(g&&r){a="temporal"===e.type;g="temporal"===f.type;if(a&&!g)return"tick"!==c?"vertical":"horizontal";if(!a&&g)return"tick"!==c?"horizontal":"vertical";if(!e.aggregate&&f.aggregate)return"tick"!==c?"vertical":"horizontal";if(e.aggregate&&!f.aggregate)return"tick"!==c?"horizontal":"vertical"}else return}return"vertical"}function ik(c,g){var a=Object,e=a.assign,f=Ie(c,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",
theta:"ignore"}),k=ie("x",c,{defaultPos:"mid"}),q=ie("y",c,{defaultPos:"mid"}),r=pe("size",c),Y=pe("angle",c);c=g?{shape:{value:g}}:pe("shape",c);return e.call(a,{},f,k,q,r,Y,c)}function jm(c){if(Db([ch,Qg,Ki],c.mark)){var g=Ge(c.mark,c.encoding);if(0<g.length)return Pl(c,g)}else if(c.mark===Rg&&(g=Hi.some(a=>ic(a,c.markDef,c.config)),c.stack&&!c.fieldDef("size")&&g))return km(c);return al(c)}function Pl(c,g){return[{name:c.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+c.requestDataName(Df.Main),
data:c.requestDataName(Df.Main),groupby:g}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:al(c,{fromPrefix:"faceted_path_"})}]}function km(c){var g;const [a]=al(c,{fromPrefix:"stack_group_"}),e=c.scaleName(c.stack.fieldChannel),f=function(){return c.vgField(c.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var k=(ia,sa)=>{sa=[f({prefix:"min",suffix:"start",expr:sa}),f({prefix:"max",suffix:"start",expr:sa}),f({prefix:"min",suffix:"end",
expr:sa}),f({prefix:"max",suffix:"end",expr:sa})];return"".concat(ia,"(").concat(sa.map(Na=>"scale('".concat(e,"',").concat(Na,")")).join(","),")")};let q;"x"===c.stack.fieldChannel?(k=Object.assign({},gc(a.encode.update,["y","yc","y2","height",...Hi]),{x:{signal:k("min","datum")},x2:{signal:k("max","datum")},clip:{value:!0}}),q={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},a.encode.update=Object.assign({},nc(a.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(k=
Object.assign({},gc(a.encode.update,["x","xc","x2","width"]),{y:{signal:k("min","datum")},y2:{signal:k("max","datum")},clip:{value:!0}}),q={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},a.encode.update=Object.assign({},nc(a.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var r of Hi){var Y=xc(r,c.markDef,c.config);a.encode.update[r]?(k[r]=a.encode.update[r],delete a.encode.update[r]):Y&&(k[r]=lb(Y));Y&&(a.encode.update[r]={value:0})}r=[];if(0<(null===(g=c.stack.groupbyChannels)||
void 0===g?void 0:g.length))for(const ia of c.stack.groupbyChannels)g=c.fieldDef(ia),(Y=Qc(g))&&r.push(Y),(null!==g&&void 0!==g&&g.bin||null!==g&&void 0!==g&&g.timeUnit)&&r.push(Qc(g,{binSuffix:"end"}));k="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((ia,sa)=>{if(a.encode.update[sa])return Object.assign({},ia,{[sa]:a.encode.update[sa]});const Na=xc(sa,c.markDef,c.config);return void 0!==Na?Object.assign({},ia,{[sa]:lb(Na)}):
ia},k);k.stroke&&(k.strokeForeground={value:!0},k.strokeOffset={value:0});return[{type:"group",from:{facet:{data:c.requestDataName(Df.Main),name:"stack_group_"+c.requestDataName(Df.Main),groupby:r,aggregate:{fields:[f({suffix:"start"}),f({suffix:"start"}),f({suffix:"end"}),f({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:k},marks:[{type:"group",encode:{update:q},marks:[a]}]}]}function Rl(c){const {encoding:g,stack:a,mark:e,markDef:f,config:k}=c;var q=g.order;if(!(!M.isArray(q)&&
dd(q)&&Gb(q.value)||!q&&Gb(ic("order",f,k)))){if((M.isArray(q)||Rb(q))&&!a)return w(q,{expr:"datum"});if(Ae(e)){const Y="horizontal"===f.orient?"y":"x",ia=g[Y];if(Rb(ia)){q=ia.sort;if(M.isArray(q))return{field:Qc(ia,{prefix:Y,suffix:"sort_index",expr:"datum"})};if(n(q))return{field:Qc({aggregate:ug(c.encoding)?q.op:void 0,field:q.field},{expr:"datum"})};if(ub(q))return c=c.fieldDef(q.encoding),{field:Qc(c,{expr:"datum"}),order:q.order};if(null!==q){var r;return{field:Qc(ia,{binSuffix:null!==(r=c.stack)&&
void 0!==r&&r.impute?"mid":void 0,expr:"datum"})}}}}}}function al(c){let g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:a,markDef:e,encoding:f,config:k}=c;var q=e.clip;var r=c.getScaleComponent("x");var Y=c.getScaleComponent("y");r=null!==r&&void 0!==r&&r.get("selectionExtent")||null!==Y&&void 0!==Y&&Y.get("selectionExtent")?!0:void 0;Y=c.component.projection;q=O(q,r,Y&&!Y.isFit?!0:void 0);r=Xb(e);Y=f.key;const ia=Rl(c);var sa;if(c.component.selection){for(var Na=
sa=vd(c.component.selection).length,Jb=c.parent;Jb&&0===Na;)Na=vd(Jb.component.selection).length,Jb=Jb.parent;sa=Na?{interactive:0<sa||!!c.encoding.tooltip}:null}else sa=null;Na=ic("aria",e,k);Jb=El[a].postEncodingTransform?El[a].postEncodingTransform(c):null;return[Object.assign({},{name:c.getName("marks"),type:El[a].vgMark},q?{clip:!0}:{},r?{style:r}:{},Y?{key:Y.field}:{},ia?{sort:ia}:{},sa?sa:{},!1===Na?{aria:Na}:{},{from:{data:g.fromPrefix+c.requestDataName(Df.Main)},encode:{update:El[a].encodeEntry(c)}},
Jb?{transform:Jb}:{})]}function Rk(c,g,a,e,f){if("facet"in c)return new Fl(c,g,a,f);if("layer"in c)return new Em(c,g,a,e,f);if(Qf(c))return new Fm(c,g,a,e,f);if("vconcat"in c||"hconcat"in c||"concat"in c)return new Km(c,g,a,f);throw Error(ib(c));}function Nl(c,g){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let e=3<arguments.length?arguments[3]:void 0;const f=c.config?Rh(c.config):void 0;a=[].concat(c.assembleSelectionData([]),Uj(c.component.data,a));const k=c.assembleProjections(),
q=c.assembleTitle(),r=c.assembleGroupStyle(),Y=c.assembleGroupEncodeEntry(!0);let ia=c.assembleLayoutSignals();ia=ia.filter(Jb=>"width"!==Jb.name&&"height"!==Jb.name||void 0===Jb.value?!0:(g[Jb.name]=+Jb.value,!1));var sa=Object.assign({},g);const Na=g.params;sa=(delete sa.params,sa);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},c.description?{description:c.description}:{},sa,q?{title:q}:{},r?{style:r}:{},Y?{encode:{update:Y}}:{},{data:a},0<k.length?{projections:k}:
{},c.assembleGroup([...ia,...c.assembleSelectionTopLevelSignals([]),...Ze(Na)]),f?{config:f}:{},e?{usermeta:e}:{})}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function a(g){var e=isNaN(g)?1:Number(g);return e?Array.prototype.reduce.call(this,function(f,k){return Array.isArray(k)?f.push.apply(f,a.call(k,e-1)):f.push(k),f},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,
value:function(g){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var dk={exports:{}};(function(g){var a=function(){function e(sa,Na){return null!=Na&&sa instanceof Na}function f(sa,Na,Jb,vc,$b){function Hc(md,zd){if(null===md)return null;if(0===zd||"object"!=typeof md)return md;if(e(md,r))var Yd=new r;else if(e(md,Y))Yd=new Y;else if(e(md,ia))Yd=new ia(function(Ue,Vg){md.then(function(Hh){Ue(Hc(Hh,zd-1))},function(Hh){Vg(Hc(Hh,zd-1))})});else if(f.__isArray(md))Yd=[];else if(f.__isRegExp(md))Yd=
new RegExp(md.source,q(md)),md.lastIndex&&(Yd.lastIndex=md.lastIndex);else if(f.__isDate(md))Yd=new Date(md.getTime());else{if(Kd&&x.isBuffer(md))return Yd=x.allocUnsafe?x.allocUnsafe(md.length):new x(md.length),md.copy(Yd),Yd;if(e(md,Error))Yd=Object.create(md);else if("undefined"==typeof vc){var Td=Object.getPrototypeOf(md);Yd=Object.create(Td)}else Yd=Object.create(vc),Td=vc}if(Na){var Qd=Oc.indexOf(md);if(-1!=Qd)return ld[Qd];Oc.push(md);ld.push(Yd)}e(md,r)&&md.forEach(function(Ue,Vg){Vg=Hc(Vg,
zd-1);Ue=Hc(Ue,zd-1);Yd.set(Vg,Ue)});e(md,Y)&&md.forEach(function(Ue){Ue=Hc(Ue,zd-1);Yd.add(Ue)});for(var Me in md){var Ef;Td&&(Ef=Object.getOwnPropertyDescriptor(Td,Me));Ef&&null==Ef.set||(Yd[Me]=Hc(md[Me],zd-1))}if(Object.getOwnPropertySymbols)for(Qd=Object.getOwnPropertySymbols(md),Me=0;Me<Qd.length;Me++)if(Ef=Qd[Me],Td=Object.getOwnPropertyDescriptor(md,Ef),!Td||Td.enumerable||$b)Yd[Ef]=Hc(md[Ef],zd-1),Td.enumerable||Object.defineProperty(Yd,Ef,{enumerable:!1});if($b)for(Qd=Object.getOwnPropertyNames(md),
Me=0;Me<Qd.length;Me++)Ef=Qd[Me],Td=Object.getOwnPropertyDescriptor(md,Ef),Td&&Td.enumerable||(Yd[Ef]=Hc(md[Ef],zd-1),Object.defineProperty(Yd,Ef,{enumerable:!1}));return Yd}"object"===typeof Na&&(Jb=Na.depth,vc=Na.prototype,$b=Na.includeNonEnumerable,Na=Na.circular);var Oc=[],ld=[],Kd="undefined"!=typeof x;"undefined"==typeof Na&&(Na=!0);"undefined"==typeof Jb&&(Jb=Infinity);return Hc(sa,Jb)}function k(sa){return Object.prototype.toString.call(sa)}function q(sa){var Na="";sa.global&&(Na+="g");sa.ignoreCase&&
(Na+="i");sa.multiline&&(Na+="m");return Na}try{var r=Map}catch(sa){r=function(){}}try{var Y=Set}catch(sa){Y=function(){}}try{var ia=Promise}catch(sa){ia=function(){}}f.clonePrototype=function(sa){if(null===sa)return null;var Na=function(){};Na.prototype=sa;return new Na};f.__objToStr=k;f.__isDate=function(sa){return"object"===typeof sa&&"[object Date]"===k(sa)};f.__isArray=function(sa){return"object"===typeof sa&&"[object Array]"===k(sa)};f.__isRegExp=function(sa){return"object"===typeof sa&&"[object RegExp]"===
k(sa)};f.__getRegExpFlags=q;return f}();g.exports&&(g.exports=a)})(dk);var Wi=function(g,a){a||(a={});"function"===typeof a&&(a={cmp:a});var e="boolean"===typeof a.cycles?a.cycles:!1,f=a.cmp&&function(q){return function(r){return function(Y,ia){return q({key:Y,value:r[Y]},{key:ia,value:r[ia]})}}}(a.cmp),k=[];return function Y(r){r&&r.toJSON&&"function"===typeof r.toJSON&&(r=r.toJSON());if(void 0!==r){if("number"==typeof r)return isFinite(r)?""+r:"null";if("object"!==typeof r)return JSON.stringify(r);
var ia;if(Array.isArray(r)){var sa="[";for(ia=0;ia<r.length;ia++)ia&&(sa+=","),sa+=Y(r[ia])||"null";return sa+"]"}if(null===r)return"null";if(-1!==k.indexOf(r)){if(e)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Na=k.push(r)-1,Jb=Object.keys(r).sort(f&&f(r));sa="";for(ia=0;ia<Jb.length;ia++){var vc=Jb[ia],$b=Y(r[vc]);$b&&(sa&&(sa+=","),sa+=JSON.stringify(vc)+":"+$b)}k.splice(Na,1);return"{"+sa+"}"}}(g)};const Kh=function f(a,e){if(a===e)return!0;
if(a&&e&&"object"==typeof a&&"object"==typeof e){if(a.constructor!==e.constructor)return!1;var k;if(Array.isArray(a)){var q=a.length;if(q!=e.length)return!1;for(k=q;0!==k--;)if(!f(a[k],e[k]))return!1;return!0}if(a.constructor===RegExp)return a.source===e.source&&a.flags===e.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===e.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===e.toString();var r=Object.keys(a);q=r.length;if(q!==Object.keys(e).length)return!1;
for(k=q;0!==k--;)if(!Object.prototype.hasOwnProperty.call(e,r[k]))return!1;for(k=q;0!==k--;)if(q=r[k],!f(a[q],e[q]))return!1;return!0}return a!==a&&e!==e},Je=dk.exports;Set.prototype.toJSON=function(){return"Set(".concat([...this].map(a=>Wi(a)).join(","),")")};const Gf=Wi,vd=Object.keys,mg=Object.values,ti=Object.entries;let cj=42;const Fi={theta:1,theta2:1,radius:1,radius2:1},jk={longitude:1,longitude2:1,latitude:1,latitude2:1},bl=vd(jk),Ck=Object.assign({},{x:1,y:1,x2:1,y2:1},Fi,jk,{xOffset:1,yOffset:1,
color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),cl={row:1,column:1,facet:1},gg=vd(cl),kk=Object.assign({},Ck,cl),ej=vd(kk);var fj=Object.assign({},kk),Dj=(delete fj.order,delete fj.detail,delete fj.tooltip,fj),dj=Object.assign({},Dj);const gj=(delete dj.row,delete dj.column,delete dj.facet,dj),Pk="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),il=vd(Ck);var Pg=
Object.assign({},Ck);const gk=(delete Pg.x,delete Pg.y,delete Pg.x2,delete Pg.y2,delete Pg.xOffset,delete Pg.yOffset,delete Pg.latitude,delete Pg.longitude,delete Pg.latitude2,delete Pg.longitude2,delete Pg.theta,delete Pg.theta2,delete Pg.radius,delete Pg.radius2,Pg),jl=vd(gk),hk={x:1,y:1},Bh=vd(hk),Dk={theta:1,radius:1},dl=vd(Dk),pi={xOffset:1,yOffset:1};var qi=Object.assign({},gk);const wl=(delete qi.text,delete qi.tooltip,delete qi.href,delete qi.url,delete qi.description,delete qi.detail,delete qi.key,
delete qi.order,qi),Lj=vd(wl),$h=Object.assign({},hk,Dk,pi,wl),Gi=vd($h),ll={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var ml=Object.assign({},ll);const Uk=(delete ml.geoshape,ml),Vk={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,
values:1,variance:1,variancep:1},Xk={count:1,min:1,max:1},am=new Set(["count","valid","missing","distinct"]),xl=new Set(["count","sum","distinct","valid","missing"]),Zl=new Set("mean average median q1 q3 min max".split(" ")),tj=vd({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,
outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Lh={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Hi=["cornerRadius",
"cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Jh=M.logger(M.Warn);let hj=Jh;const ul="january february march april may june july august september october november december".split(" "),Xl=ul.map(a=>a.substr(0,3)),lk="sunday monday tuesday wednesday thursday friday saturday".split(" "),jj=lk.map(a=>a.substr(0,3)),ai={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Eg=vd(ai),bh={"year-month":"%b %Y ",
"year-month-date":"%b %d, %Y "},sg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Ch={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",
band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Fj={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Gj=new Set(["linear","log","pow","sqrt","symlog"]),Kg=new Set([...Gj,"time","utc"]),rh=new Set(["quantile","quantize","threshold"]),ok=new Set([...Kg,...rh,"sequential","identity"]),nk=new Set(["ordinal","bin-ordinal","point","band"]);var Fg=Object.assign({},
{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const sh=(delete Fg.type,delete Fg.domain,delete Fg.range,delete Fg.rangeMax,delete Fg.rangeMin,delete Fg.scheme,Fg),Ii=vd(sh),bg={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",
square:"square",geoshape:"geoshape"},Mh=bg.arc,Qg=bg.area,Rg=bg.bar,Vf=bg.image,ch=bg.line,vk=bg.point,pk=bg.rect,bi=bg.rule,ci=bg.text,Ji=bg.tick,Ki=bg.trail,Nh=bg.circle,qk=bg.square,Hj=bg.geoshape,nj=new Set(vd(bg)),ql="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),lj=vd({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Dh=vd({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,
point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),Ij={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},mj={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Yf=(a,e)=>{switch(e.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:f,bin:k,timeUnit:q,field:r}=a;xa(f)?a="".concat(r," for argmax(").concat(f.argmax,")"):la(f)?a="".concat(r,
" for argmin(").concat(f.argmin,")"):(a=Pe(q),a=(a=f||(null===a||void 0===a?void 0:a.unit)||(null===a||void 0===a?void 0:a.maxbins)&&"timeunit"||kb(k)&&"bin")?"".concat(a.toUpperCase(),"(").concat(r,")"):r)}return a;default:return We(a,e)}};let Ni=Yf;const ei={compatible:!0},sk={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",
vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},
tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},ui=["domain","grid","labels","ticks","title"],Af={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",
formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",
tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",
translate:"both",values:"both",zindex:"both"},tg={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,
labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,
translate:1,values:1,zindex:1},Ag=Object.assign({},tg,{style:1,labelExpr:1,encoding:1}),Kj=vd({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class vi{constructor(a,e){this.name=a;this.run=e}hasMatchingType(a){return Qf(a)?(a=a.mark,(Pc(a)?a.type:a)===
this.name):!1}}const Jj=new vi("boxplot",Ig),lm=new vi("errorbar",uh),rk=new vi("errorband",de),nl={};je("boxplot",Ig,["box","median","outliers","rule","ticks"]);je("errorbar",uh,["ticks","rule"]);je("errorband",de,["band","borders"]);const Ul=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],ol={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",
titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},pl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Vl=vd(ol),dh=vd(pl),uk=vd({header:1,
headerRow:1,headerColumn:1,headerFacet:1}),sl="size shape fill stroke strokeDash strokeWidth opacity".split(" "),rl=vd({align:1,bounds:1,center:1,columns:1,spacing:1}),Wl={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,
continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,
minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",
encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},ii="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Mj={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Mg={blue:ii[0],orange:ii[1],red:ii[2],teal:ii[3],green:ii[4],yellow:ii[5],
purple:ii[6],pink:ii[7],brown:ii[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Yl=[...Dh,...Kj,...uk,"background","padding","legend","lineBreak","scale","style","title","view"],ee=new Set(["view",...nj]),tl="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Ng=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class qh{map(a,e){return"facet"in a?this.mapFacet(a,e):"repeat"in a?this.mapRepeat(a,e):"hconcat"in a?this.mapHConcat(a,e):"vconcat"in a?this.mapVConcat(a,e):"concat"in a?this.mapConcat(a,e):this.mapLayerOrUnit(a,
e)}mapLayerOrUnit(a,e){if("layer"in a)return this.mapLayer(a,e);if(Qf(a))return this.mapUnit(a,e);throw Error(ib(a));}mapLayer(a,e){return Object.assign({},a,{layer:a.layer.map(f=>this.mapLayerOrUnit(f,e))})}mapHConcat(a,e){return Object.assign({},a,{hconcat:a.hconcat.map(f=>this.map(f,e))})}mapVConcat(a,e){return Object.assign({},a,{vconcat:a.vconcat.map(f=>this.map(f,e))})}mapConcat(a,e){var f=Object.assign({},a);a=a.concat;f=(delete f.concat,f);return Object.assign({},f,{concat:a.map(k=>this.map(k,
e))})}mapFacet(a,e){return Object.assign({},a,{spec:this.map(a.spec,e)})}mapRepeat(a,e){return Object.assign({},a,{spec:this.map(a.spec,e)})}}const $l={zero:1,center:1,normalize:1},xk=new Set([Mh,Rg,Qg,bi,vk,Nh,qk,ch,ci,Ji]),Yk=new Set([Rg,Qg,Mh]);class yh{constructor(){za(this,"name","path-overlay")}hasMatchingType(a,e){if(Qf(a)){const {mark:f,encoding:k}=a;a=Pc(f)?f:{type:f};switch(a.type){case "line":case "rule":case "trail":return!!Jg(a,e[a.type],k);case "area":return!!Jg(a,e[a.type],k)||!!Sh(a,
e[a.type])}}return!1}run(a,e,f){var {config:k}=e,q=Object.assign({},a),r=a.params,Y=a.projection,ia=a.mark;a=a.encoding;q=(delete q.params,delete q.projection,delete q.mark,delete q.encoding,q);a=Cc(a,k);ia=Pc(ia)?ia:{type:ia};const sa=Jg(ia,k[ia.type],a),Na="area"===ia.type&&Sh(ia,k[ia.type]);var Jb=Object,vc=Jb.assign;var $b=Object.assign({},"area"===ia.type&&void 0===ia.opacity&&void 0===ia.fillOpacity?{opacity:.7}:{},ia);$b=Object.assign({},$b);$b=(delete $b.point,delete $b.line,$b);$b=1<vd($b).length?
$b:$b.type;r=[vc.call(Jb,{},r?{params:r}:{},{mark:$b,encoding:nc(a,["shape"])})];Jb=xi(ia,a);vc=a;if(Jb){const {fieldChannel:Hc,offset:Oc}=Jb;vc=Object.assign({},a,{[Hc]:Object.assign({},a[Hc],Oc?{stack:Oc}:{})})}Na&&r.push(Object.assign({},Y?{projection:Y}:{},{mark:Object.assign({},{type:"line"},gc(ia,["clip","interpolate","tension","tooltip"]),Na),encoding:vc}));sa&&r.push(Object.assign({},Y?{projection:Y}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},gc(ia,["clip","tooltip"]),sa),
encoding:vc}));Y=Object.assign({},q,{layer:r});q=Object;r=q.assign;for(const Hc of["line","area","rule","trail"])k[Hc]&&(k=Object.assign({},k,{[Hc]:nc(k[Hc],["point","line"])}));return f(Y,r.call(q,{},e,{config:k}))}}class kf{constructor(){za(this,"name","RuleForRangedLine")}hasMatchingType(a){if(Qf(a)){const {encoding:e,mark:f}=a;if("line"===f||Pc(f)&&"line"===f.type)for(const k of Pk)if(a=y(k),a=e[a],e[k]&&(Rb(a)&&!Za(a.bin)||Od(a)))return!0}return!1}run(a,e,f){const {encoding:k,mark:q}=a;var r=
!!k.x2;r="Line mark is for continuous lines and thus cannot be used with ".concat(r&&k.y2?"x2 and y2":r?"x2":"y2",". We will use the rule mark (line segments) instead.");wb(r);return f(Object.assign({},a,{mark:M.isObject(q)?Object.assign({},q,{type:"rule"}):"rule"}),e)}}class Gg extends qh{constructor(){super(...arguments);za(this,"nonFacetUnitNormalizers",[Jj,lm,rk,new yh,new kf])}map(a,e){if(Qf(a)){const f=ng(a.encoding,"row"),k=ng(a.encoding,"column"),q=ng(a.encoding,"facet");if(f||k||q)return this.mapFacetedUnit(a,
e)}return super.map(a,e)}mapUnit(a,e){const {parentEncoding:f,parentProjection:k}=e;var q=Qi(a.encoding,e.repeater);a=Object.assign({},a,q?{encoding:q}:{});if(f||k)return this.mapUnitWithParentEncodingOrProjection(a,e);q=this.mapLayerOrUnit.bind(this);for(const r of this.nonFacetUnitNormalizers)if(r.hasMatchingType(a,e.config))return r.run(a,e,q);return a}mapRepeat(a,e){return!M.isArray(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,e):this.mapNonLayerRepeat(a,e)}mapLayerRepeat(a,e){var f=Object.assign({},
a);const k=a.repeat,q=a.spec;f=(delete f.repeat,delete f.spec,f);const {row:r,column:Y,layer:ia}=k,{repeater:sa={},repeaterPrefix:Na=""}=e;return r||Y?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},r?{row:r}:{},Y?{column:Y}:{}),spec:{repeat:{layer:ia},spec:q}}),e):Object.assign({},f,{layer:ia.map(Jb=>{var vc=Object.assign({},sa,{layer:Jb});Jb="".concat((q.name||"")+Na,"child__layer_").concat(Aa(Jb));vc=this.mapLayerOrUnit(q,Object.assign({},e,{repeater:vc,repeaterPrefix:Jb}));vc.name=
Jb;return vc})})}mapNonLayerRepeat(a,e){var f,k=a,q=Object.assign({},k);const r=k.repeat,Y=k.spec;k=k.data;q=(delete q.repeat,delete q.spec,delete q.data,q);!M.isArray(r)&&a.columns&&(a=nc(a,["columns"]),wb(Hd("repeat")));const ia=[],{repeater:sa={},repeaterPrefix:Na=""}=e,Jb=!M.isArray(r)&&r.row||[sa?sa.row:null],vc=!M.isArray(r)&&r.column||[sa?sa.column:null];var $b=M.isArray(r)&&r||[sa?sa.repeat:null];for(const Oc of $b)for(const ld of Jb)for(const Kd of vc){var Hc={repeat:Oc,row:ld,column:Kd,
layer:sa.layer};$b=(Y.name||"")+Na+"child__"+(M.isArray(r)?"".concat(Aa(Oc)):(r.row?"row_".concat(Aa(ld)):"")+(r.column?"column_".concat(Aa(Kd)):""));Hc=this.map(Y,Object.assign({},e,{repeater:Hc,repeaterPrefix:$b}));Hc.name=$b;ia.push(nc(Hc,["data"]))}a=M.isArray(r)?a.columns:r.column?r.column.length:1;return Object.assign({},{data:null!==(f=Y.data)&&void 0!==f?f:k,align:"all"},q,{columns:a,concat:ia})}mapFacet(a,e){const {facet:f}=a;da(f)&&a.columns&&(a=nc(a,["columns"]),wb(Hd("facet")));return super.mapFacet(a,
e)}mapUnitWithParentEncodingOrProjection(a,e){const {encoding:f,projection:k}=a,{parentEncoding:q,parentProjection:r,config:Y}=e,ia=oh({parentProjection:r,projection:k});e=Th({parentEncoding:q,encoding:Qi(f,e.repeater)});return this.mapUnit(Object.assign({},a,ia?{projection:ia}:{},e?{encoding:e}:{}),{config:Y})}mapFacetedUnit(a,e){var f=a.encoding,k=Object.assign({},f),q=f.row;const r=f.column;f=f.facet;const Y=(delete k.row,delete k.column,delete k.facet,k);var ia=Object.assign({},a);k=a.mark;const sa=
a.width,Na=a.projection,Jb=a.height,vc=a.view;a=a.params;ia=(delete ia.mark,delete ia.width,delete ia.projection,delete ia.height,delete ia.view,delete ia.params,delete ia.encoding,ia);const {facetMapping:$b,layout:Hc}=this.getFacetMappingAndLayout({row:q,column:r,facet:f},e);q=Qi(Y,e.repeater);return this.mapFacet(Object.assign({},ia,Hc,{facet:$b,spec:Object.assign({},sa?{width:sa}:{},Jb?{height:Jb}:{},vc?{view:vc}:{},Na?{projection:Na}:{},{mark:k,encoding:q},a?{params:a}:{})}),e)}getFacetMappingAndLayout(a,
e){const {row:f,column:k,facet:q}=a;if(f||k){q&&(e=[...(f?["row"]:[]),...(k?["column"]:[])],e="Facet encoding dropped as ".concat(e.join(" and ")," ").concat(1<e.length?"are":"is"," also specified."),wb(e));e={};var r={};for(var Y of["row","column"]){const Jb=a[Y];if(Jb){var ia=Object.assign({},Jb);ia=(delete ia.align,delete ia.center,delete ia.spacing,delete ia.columns,ia);e[Y]=ia;for(var sa of["align","center","spacing"])if(void 0!==Jb[sa]){var Na;null!==(Na=r[sa])&&void 0!==Na?Na:r[sa]={};r[sa][Y]=
Jb[sa]}}}return{facetMapping:e,layout:r}}r=Object.assign({},q);a=q.align;Na=q.center;Y=q.spacing;sa=q.columns;r=(delete r.align,delete r.center,delete r.spacing,delete r.columns,r);e=(e=e.repeater)?da(r)?Yg(r,e):wh(r,e):r;return{facetMapping:e,layout:Object.assign({},a?{align:a}:{},Na?{center:Na}:{},Y?{spacing:Y}:{},sa?{columns:sa}:{})}}mapLayer(a,e){var f=Object.assign({},e),k=e.parentEncoding;e=e.parentProjection;f=(delete f.parentEncoding,delete f.parentProjection,f);var q=Object.assign({},a);
const r=a.encoding;a=a.projection;q=(delete q.encoding,delete q.projection,q);k=Object.assign({},f,{parentEncoding:Th({parentEncoding:k,encoding:r,layer:!0}),parentProjection:oh({parentProjection:e,projection:a})});return super.mapLayer(q,k)}}class yg extends qh{map(a,e){var f,k;null!==(f=e.emptySelections)&&void 0!==f?f:e.emptySelections={};null!==(k=e.selectionPredicates)&&void 0!==k?k:e.selectionPredicates={};a=hi(a,e);return super.map(a,e)}mapLayerOrUnit(a,e){a=hi(a,e);if(a.encoding){const f=
{};for(const k of ti(a.encoding)){const [q,r]=k;f[q]=Uh(r,e)}a=Object.assign({},a,{encoding:f})}return super.mapLayerOrUnit(a,e)}mapUnit(a,e){var f=Object.assign({},a);const k=a.selection;f=(delete f.selection,f);return k?Object.assign({},f,{params:ti(k).map(q=>{let [r,Y]=q;var ia=Object.assign({},Y);q=Y.init;const sa=Y.bind,Na=Y.empty;ia=(delete ia.init,delete ia.bind,delete ia.empty,ia);"single"===ia.type?(ia.type="point",ia.toggle=!1):"multi"===ia.type&&(ia.type="point");e.emptySelections[r]="none"!==
Na;for(const vc of mg(null!==(Jb=e.selectionPredicates[r])&&void 0!==Jb?Jb:{})){var Jb;vc.empty="none"!==Na}return{name:r,value:q,select:ia,bind:sa}})}):a}}class Dg extends qh{map(a,e){var f;const k=null!==(f=e.selections)&&void 0!==f?f:[];if(a.params&&!Qf(a)){f=[];for(const q of a.params)nf(q)?k.push(q):f.push(q);a.params=f}e.selections=k;return super.map(a,ji(a,e))}mapUnit(a,e){var f;const k=e.selections;if(!k||!k.length)return a;const q=(null!==(f=e.path)&&void 0!==f?f:[]).concat(a.name);e=[];
for(const r of k)if(r.views&&r.views.length)for(const Y of r.views)(M.isString(Y)&&(Y===a.name||0<=q.indexOf(Y))||M.isArray(Y)&&Y.map(ia=>q.indexOf(ia)).every((ia,sa,Na)=>-1!==ia&&(0===sa||ia>Na[sa-1])))&&e.push(r);else e.push(r);e.length&&(a.params=e);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const e=Dg.prototype[a];Dg.prototype[a]=function(f,k){return e.call(this,f,ji(f,k))}}const mh=new Gg,oj=new yg,Cg=new Dg,Oj=["background","padding"];class eh{constructor(){let a=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new eh(Je(this.explicit),Je(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(a){return O(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,
e){let {value:f,explicit:k}=e;void 0!==f&&this.set(a,f,k)}set(a,e,f){delete this[f?"implicit":"explicit"][a];this[f?"explicit":"implicit"][a]=e;return this}copyKeyFromSplit(a,e){let {explicit:f,implicit:k}=e;void 0!==f[a]?this.set(a,f[a],!0):void 0!==k[a]&&this.set(a,k[a],!1)}copyKeyFromObject(a,e){void 0!==e[a]&&this.set(a,e[a],!0)}copyAll(a){for(const e of vd(a.combine())){const f=a.getWithExplicit(e);this.setWithExplicit(e,f)}}}class wk extends eh{constructor(){let a=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,e);this.explicit=a;this.implicit=e;this.parseNothing=f}clone(){const a=super.clone();a.parseNothing=this.parseNothing;return a}}let Df;(function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup"})(Df||(Df={}));class sf{constructor(a,e){this.debugName=e;za(this,"_children",[]);za(this,"_parent",
null);za(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,e){this._children.includes(a)?wb("Attempt to add the same child twice."):void 0!==e?this._children.splice(e,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);
for(const e of this._children)e._parent=this._parent,this._parent.addChild(e,a++)}insertAsParentOf(a){const e=a.parent;e.removeChild(this);this.parent=e;a.parent=this}swapWithParent(){const a=this._parent,e=a.parent;for(var f of this._children)f.parent=a;this._children=[];a.removeChild(this);f=a.parent.removeChild(a);this._parent=e;e.addChild(this,f);a.parent=this}}class Cf extends sf{clone(){const a=new this.constructor;a.debugName="clone_".concat(this.debugName);a._source=this._source;a._name="clone_".concat(this._name);
a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,e,f,k){super(a,e);this.type=f;this.refCounts=k;za(this,"_source",void 0);za(this,"_name",void 0);this._source=this._name=e;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash="Output ".concat(oa()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=
a}}class Eh extends sf{clone(){return new Eh(null,Je(this.formula))}constructor(a,e){super(a);this.formula=e}static makeFromEncoding(a,e){e=e.reduceFieldDef((f,k)=>{const {field:q,timeUnit:r}=k;r&&(k=Qc(k,{forAs:!0}),f[Tb({as:k,field:q,timeUnit:r})]={as:k,field:q,timeUnit:r});return f},{});return Fa(e)?null:new Eh(a,e)}static makeFromTransform(a,e){var f=Object.assign({},e);e=Object.assign({},f);f=f.timeUnit;e=(delete e.timeUnit,e);f=Pe(f);e=Object.assign({},e,{timeUnit:f});return new Eh(a,{[Tb(e)]:e})}merge(a){this.formula=
Object.assign({},this.formula);for(const e in a.formula)this.formula[e]||(this.formula[e]=a.formula[e]);for(const e of a.children)a.removeChild(e),e.parent=this;a.remove()}removeFormulas(a){const e={};for(const f of ti(this.formula)){const [k,q]=f;a.has(q.as)||(e[k]=q)}this.formula=e}producedFields(){return new Set(mg(this.formula).map(a=>a.as))}dependentFields(){return new Set(mg(this.formula).map(a=>a.field))}hash(){return"TimeUnit ".concat(Tb(this.formula))}assemble(){const a=[];for(const k of mg(this.formula)){const {field:q,
as:r,timeUnit:Y}=k;var e=Pe(Y),f=Object.assign({},e);const ia=e.unit;e=e.utc;f=(delete f.unit,delete f.utc,f);a.push(Object.assign({},{field:Mb(q),type:"timeunit"},ia?{units:ke(ia)}:{},e?{timezone:"utc"}:{},f,{as:[r,"".concat(r,"_end")]}))}return a}}class pj{constructor(){za(this,"hasChannel",void 0);za(this,"hasField",void 0);za(this,"hasSelectionId",void 0);za(this,"timeUnit",void 0);za(this,"items",void 0);for(var a=arguments.length,e=Array(a),f=0;f<a;f++)e[f]=arguments[f];this.items=e;this.hasChannel=
{};this.hasField={};this.hasSelectionId=!1}}const Ug={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,e)=>{const f=e.scales=[];for(const q of e.project.items){var k=q.channel;if(!$h[k])continue;const r=(k=a.getScaleComponent(k))?k.get("type"):void 0;k&&ad(r)?(k.set("selectionExtent",{param:e.name,field:q.field},!0),f.push(q)):wb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(a,e,f)=>{const k=
e.scales.filter(r=>0===f.filter(Y=>Y.name===r.signals.data).length);if(!a.parent||ha(a)||0===k.length)return f;a=f.filter(r=>r.name===e.name)[0];let q=a.update;if(0<=q.indexOf("vlSelectionResolve"))a.update="{".concat(k.map(r=>"".concat(M.stringValue(Mb(r.field)),": ").concat(r.signals.data)).join(", "),"}");else{for(const r of k){const Y="".concat(M.stringValue(Mb(r.field)),": ").concat(r.signals.data);q.includes(Y)||(q="".concat(q.substring(0,q.length-1),", ").concat(Y,"}"))}a.update=q}return f.concat(k.map(r=>
({name:r.signals.data})))},signals:(a,e,f)=>{if(a.parent&&!ha(a))for(const k of e.scales)a=f.filter(q=>q.name===k.signals.data)[0],a.push="outer",delete a.value,delete a.update;return f}},tk={left:"x",center:"xc",right:"x2"},Sk={top:"y",middle:"yc",bottom:"y2"},wi=new Set(["aria","width","height"]),Qj={defined:a=>"point"===a.type&&a.nearest,parse:(a,e)=>{if(e.events)for(const f of e.events)f.markname=a.getName("voronoi")},marks:(a,e,f)=>{const {x:k,y:q}=e.project.hasChannel;e=a.mark;if(Ae(e))return wb('The "nearest" transform is not supported for '.concat(e,
" marks.")),f;e={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Yc(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:k||!q?"datum.datum.x || 0":"0"},y:{expr:q||!k?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let r=0,Y=!1;f.forEach((ia,sa)=>{var Na;ia=null!==(Na=ia.name)&&void 0!==
Na?Na:"";ia===a.component.mark[0].name?r=sa:0<=ia.indexOf("voronoi")&&(Y=!0)});Y||f.splice(r+1,0,e);return f}},ni={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!gf(a.bind),parse:(a,e,f)=>Mi(e,f),topLevelSignals:(a,e,f)=>{const k=e.name;a=e.project;const q=e.bind,r=e.init&&e.init[0],Y=Qj.defined(e)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((ia,sa)=>{const Na=Aa("".concat(k,"_").concat(ia.field));if(!f.filter($b=>$b.name===Na).length){var Jb,
vc;f.unshift(Object.assign({},{name:Na},r?{init:wa(r[sa])}:{value:null},{on:e.events?[{events:e.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(Y,"[").concat(M.stringValue(ia.field),"] : null")}]:[],bind:null!==(Jb=null!==(vc=q[ia.field])&&void 0!==vc?vc:q[ia.channel])&&void 0!==Jb?Jb:q}))}});return f},signals:(a,e,f)=>{const k=e.name;var q=e.project;a=f.filter(Y=>Y.name===k+"_tuple")[0];e=k+"_tuple_fields";q=q.items.map(Y=>Aa("".concat(k,"_").concat(Y.field)));const r=
q.map(Y=>"".concat(Y," !\x3d\x3d null")).join(" \x26\x26 ");q.length&&(a.update="".concat(r," ? {fields: ").concat(e,", values: [").concat(q.join(", "),"]} : null"));delete a.value;delete a.on;return f}},Rj={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,e,f)=>f.concat({name:e.name+"_toggle",value:!1,on:[{events:e.events,update:e.toggle}]}),modifyExpr:(a,e)=>{const f=e.name+"_tuple",k=e.name+"_toggle";return"".concat(k," ? null : ").concat(f,", ")+("global"===e.resolve?"".concat(k," ? null : true, "):
"".concat(k," ? null : {unit: ").concat(oi(a),"}, "))+"".concat(k," ? ").concat(f," : null")}},qj={defined:a=>{const e="global"===a.resolve&&a.bind&&gf(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;e&&!a&&wb("Legend bindings are only supported for selections over an individual field or encoding channel.");return e&&a},parse:(a,e,f)=>{a=Je(f);a.select=M.isString(a.select)?{type:a.select,toggle:e.toggle}:Object.assign({},a.select,{toggle:e.toggle});Mi(e,a);if(M.isObject(f.select)&&
(f.select.on||f.select.clear))for(const q of e.events){var k;q.filter=M.array(null!==(k=q.filter)&&void 0!==k?k:[]);q.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||q.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}f=Le(e.bind)?e.bind.legend:"click";f=M.isString(f)?M.parseSelector(f,"view"):M.array(f);e.bind={legend:{merge:f}}},topLevelSignals:(a,e,f)=>{a=e.name;const k=Le(e.bind)&&e.bind.legend,q=Y=>ia=>{ia=Je(ia);ia.markname=
Y;return ia};for(const Y of e.project.items){if(!Y.hasLegend)continue;var r="".concat(Aa(Y.field),"_legend");const ia="".concat(a,"_").concat(r);0===f.filter(sa=>sa.name===ia).length&&(r=k.merge.map(q("".concat(r,"_symbols"))).concat(k.merge.map(q("".concat(r,"_labels")))).concat(k.merge.map(q("".concat(r,"_entries")))),f.unshift(Object.assign({},{name:ia},e.init?{}:{value:null},{on:[{events:r,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:k.merge,update:"!event.item || !datum ? null : ".concat(ia),
force:!0}]})))}return f},signals:(a,e,f)=>{const k=e.name;var q=e.project;a=f.find(ia=>ia.name===k+"_tuple");var r=k+"_tuple_fields";q=q.items.filter(ia=>ia.hasLegend).map(ia=>Aa("".concat(k,"_").concat(Aa(ia.field),"_legend")));const Y=q.map(ia=>"".concat(ia," !\x3d\x3d null")).join(" \x26\x26 ");r="".concat(Y," ? {fields: ").concat(r,", values: [").concat(q.join(", "),"]} : null");e.events&&0<q.length?a.on.push({events:q.map(ia=>({signal:ia})),update:r}):0<q.length&&(a.update=r,delete a.value,delete a.on);
a=f.find(ia=>ia.name===k+"_toggle");r=Le(e.bind)&&e.bind.legend;a&&(e.events?a.on.push(Object.assign({},a.on[0],{events:r})):a.on[0].events=r);return f}},rj=[{defined:a=>"point"===a.type,signals:(a,e,f)=>{var k;const q=e.name,r=q+"_tuple_fields";var Y=e.project,ia=mg(null!==(k=a.component.selection)&&void 0!==k?k:{}).reduce((sa,Na)=>"interval"===Na.type?sa.concat(Na.name+"_brush"):sa,[]).map(sa=>"indexof(item().mark.name, '".concat(sa,"') \x3c 0")).join(" \x26\x26 ");k="datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' \x26\x26 indexof(item().mark.role, 'legend') \x3c 0".concat(ia?
" \x26\x26 ".concat(ia):"");ia="unit: ".concat(oi(a),", ");e.project.hasSelectionId?ia+="".concat("_vgsid_",": ").concat("(item().isVoronoi ? datum.datum : datum)","[").concat(M.stringValue("_vgsid_"),"]"):(Y=Y.items.map(sa=>{const Na=a.fieldDef(sa.channel);return null!==Na&&void 0!==Na&&Na.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(M.stringValue(a.vgField(sa.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(M.stringValue(a.vgField(sa.channel,
{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(M.stringValue(sa.field),"]")}).join(", "),ia+="fields: ".concat(r,", values: [").concat(Y,"]"));e=e.events;return f.concat([{name:q+"_tuple",on:e?[{events:e,update:"".concat(k," ? {").concat(ia,"} : null"),force:!0}]:[]}])}},{defined:a=>"interval"===a.type,signals:(a,e,f)=>{const k=e.name;var q=k+"_tuple_fields";const r=Ug.defined(e),Y=e.init?e.init[0]:null,ia=[],sa=[];if(e.translate&&!r){const Na="!event.item || event.item.mark.name !\x3d\x3d ".concat(M.stringValue(k+
"_brush"));Yb(e,(Jb,vc)=>{var $b,Hc;vc=M.array(null!==(Hc=($b=vc.between[0]).filter)&&void 0!==Hc?Hc:$b.filter=[]);vc.includes(Na)||vc.push(Na);return Jb})}e.project.items.forEach((Na,Jb)=>{const vc=Na.channel;if("x"!==vc&&"y"!==vc)wb("Interval selections only support x and y encoding channels.");else{Jb=nb(a,e,Na,Y?Y[Jb]:null);var $b=Na.signals.data;Na=Na.signals.visual;var Hc=M.stringValue(a.scaleName(vc)),Oc=a.getScaleComponent(vc).get("type");Oc=ad(Oc)?"+":"";f.push(...Jb);ia.push($b);sa.push({scaleName:a.scaleName(vc),
expr:"(!isArray(".concat($b,") || ")+"(".concat(Oc,"invert(").concat(Hc,", ").concat(Na,")[0] \x3d\x3d\x3d ").concat(Oc).concat($b,"[0] \x26\x26 ")+"".concat(Oc,"invert(").concat(Hc,", ").concat(Na,")[1] \x3d\x3d\x3d ").concat(Oc).concat($b,"[1]))")})}});!r&&sa.length&&f.push({name:k+"_scale_trigger",value:{},on:[{events:sa.map(Na=>({scale:Na.scaleName})),update:"".concat(sa.map(Na=>Na.expr).join(" \x26\x26 ")," ? ").concat(k+"_scale_trigger"," : {}")}]});q="unit: ".concat(oi(a),", fields: ").concat(q,
", values");return f.concat(Object.assign({},{name:k+"_tuple"},Y?{init:"{".concat(q,": ").concat(wa(Y),"}")}:{},ia.length?{on:[{events:[{signal:ia.join(" || ")}],update:"".concat(ia.join(" \x26\x26 ")," ? {").concat(q,": [").concat(ia,"]} : null")}]}:{}))},marks:(a,e,f)=>{const k=e.name,{x:q,y:r}=e.project.hasChannel,Y=null===q||void 0===q?void 0:q.signals.visual,ia=null===r||void 0===r?void 0:r.signals.visual;var sa="data(".concat(M.stringValue(e.name+"_store"),")");if(Ug.defined(e)||!q&&!r)return f;
const Na={x:void 0!==q?{signal:"".concat(Y,"[0]")}:{value:0},y:void 0!==r?{signal:"".concat(ia,"[0]")}:{value:0},x2:void 0!==q?{signal:"".concat(Y,"[1]")}:{field:{group:"width"}},y2:void 0!==r?{signal:"".concat(ia,"[1]")}:{field:{group:"height"}}};if("global"===e.resolve)for(var Jb of vd(Na))Na[Jb]=[Object.assign({},{test:"".concat(sa,".length \x26\x26 ").concat(sa,"[0].unit \x3d\x3d\x3d ").concat(oi(a))},Na[Jb]),{value:0}];Jb=e.mark;sa=Object.assign({},Jb);a=Jb.fill;e=Jb.fillOpacity;Jb=Jb.cursor;
const vc=(delete sa.fill,delete sa.fillOpacity,delete sa.cursor,sa);sa=vd(vc).reduce(($b,Hc)=>{$b[Hc]=[{test:[void 0!==q&&"".concat(Y,"[0] !\x3d\x3d ").concat(Y,"[1]"),void 0!==r&&"".concat(ia,"[0] !\x3d\x3d ").concat(ia,"[1]")].filter(Oc=>Oc).join(" \x26\x26 "),value:vc[Hc]},{value:null}];return $b},{});return[{name:"".concat(k+"_brush","_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:e}},update:Na}},...f,{name:k+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},
Jb?{cursor:{value:Jb}}:{},{fill:{value:"transparent"}}),update:Object.assign({},Na,sa)}}]}},{defined:()=>!0,parse:(a,e,f)=>{var k;const q=e.name,r=null!==(k=e.project)&&void 0!==k?k:e.project=new pj,Y={};k={};const ia=new Set,sa=(md,zd)=>{md="visual"===zd?md.channel:md.field;let Yd=Aa("".concat(q,"_").concat(md));for(let Td=1;ia.has(Yd);Td++)Yd=Aa("".concat(q,"_").concat(md,"_").concat(Td));ia.add(Yd);return{[zd]:Yd}},Na=e.type,Jb=a.config.selection[Na],vc=void 0!==f.value?M.array(f.value):null;let {fields:$b,
encodings:Hc}=M.isObject(f.select)?f.select:{};if(!$b&&!Hc&&vc)for(var Oc of vc)if(M.isObject(Oc))for(const md of vd(Oc))gj[md]?(Hc||(Hc=[])).push(md):"interval"===Na?(wb('Interval selections should be initialized using "x" and/or "y" keys.'),Hc=Jb.encodings):($b||($b=[])).push(md);$b||Hc||(Hc=Jb.encodings,"fields"in Jb&&($b=Jb.fields));for(const md of null!==(ld=Hc)&&void 0!==ld?ld:[]){var ld;(ld=a.fieldDef(md))?(f=ld.field,ld.aggregate?wb(Zc(md,ld.aggregate)):f?(ld.timeUnit&&(f=a.vgField(md),Oc=
{timeUnit:ld.timeUnit,as:f,field:ld.field},k[Tb(Oc)]=Oc),Y[f]||(Oc="E","interval"===Na?(ld=a.getScaleComponent(md).get("type"),ad(ld)&&(Oc="R")):ld.bin&&(Oc="R-RE"),ld={field:f,channel:md,type:Oc},ld.signals=Object.assign({},sa(ld,"data"),sa(ld,"visual")),r.items.push(Y[f]=ld),r.hasField[f]=r.hasChannel[md]=Y[f],r.hasSelectionId=r.hasSelectionId||"_vgsid_"===f)):wb(Fc(md))):wb(Fc(md))}for(const md of null!==(Kd=$b)&&void 0!==Kd?Kd:[]){var Kd;r.hasField[md]||(a={type:"E",field:md},a.signals=Object.assign({},
sa(a,"data")),r.items.push(a),r.hasField[md]=a,r.hasSelectionId=r.hasSelectionId||"_vgsid_"===md)}vc&&(e.init=vc.map(md=>r.items.map(zd=>M.isObject(md)?void 0!==md[zd.channel]?md[zd.channel]:md[zd.field]:md)));Fa(k)||(r.timeUnit=new Eh(null,k))},signals:(a,e,f)=>{const k=e.name+"_tuple_fields";return 0<f.filter(q=>q.name===k).length||e.project.hasSelectionId?f:f.concat({name:k,value:e.project.items.map(q=>{q=Object.assign({},q);q=(delete q.signals,delete q.hasLegend,q);q.field=Mb(q.field);return q})})}},
Rj,ni,Ug,qj,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,e)=>{e.clear&&(e.clear=M.isString(e.clear)?M.parseSelector(e.clear,"view"):e.clear)},topLevelSignals:(a,e,f)=>{if(ni.defined(e))for(const k of e.project.items)a=f.findIndex(q=>q.name===Aa("".concat(e.name,"_").concat(k.field))),-1!==a&&f[a].on.push({events:e.clear,update:"null"});return f},signals:(a,e,f)=>{function k(q,r){-1!==q&&f[q].on&&f[q].on.push({events:e.clear,update:r})}if("interval"===e.type)for(const q of e.project.items)a=
f.findIndex(r=>r.name===q.signals.visual),k(a,"[0, 0]"),-1===a&&(a=f.findIndex(r=>r.name===q.signals.data),k(a,"null"));else a=f.findIndex(q=>q.name===e.name+"_tuple"),k(a,"null"),Rj.defined(e)&&(a=f.findIndex(q=>q.name===e.name+"_toggle"),k(a,"false"));return f}},{defined:a=>"interval"===a.type&&a.translate,signals:(a,e,f)=>{const k=e.name,q=Ug.defined(e),r=k+"_translate_anchor",{x:Y,y:ia}=e.project.hasChannel;let sa=M.parseSelector(e.translate,"scope");q||(sa=sa.map(Na=>(Na.between[0].markname=
k+"_brush",Na)));f.push({name:r,value:{},on:[{events:sa.map(Na=>Na.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==Y?", extent_x: ".concat(q?ja(a,"x"):"slice(".concat(Y.signals.visual,")")):"")+(void 0!==ia?", extent_y: ".concat(q?ja(a,"y"):"slice(".concat(ia.signals.visual,")")):"")+"}"}]},{name:k+"_translate_delta",value:{},on:[{events:sa,update:"{x: ".concat(r,".x - x(unit), y: ").concat(r,".y - y(unit)}")}]});void 0!==Y&&Of(a,e,Y,"width",f);void 0!==ia&&Of(a,e,ia,"height",f);return f}},
{defined:a=>"interval"===a.type&&a.zoom,signals:(a,e,f)=>{const k=e.name,q=Ug.defined(e),r=k+"_zoom_delta",{x:Y,y:ia}=e.project.hasChannel,sa=M.stringValue(a.scaleName("x")),Na=M.stringValue(a.scaleName("y"));let Jb=M.parseSelector(e.zoom,"scope");q||(Jb=Jb.map(vc=>(vc.markname=k+"_brush",vc)));f.push({name:k+"_zoom_anchor",on:[{events:Jb,update:q?"{"+[sa?"x: invert(".concat(sa,", x(unit))"):"",Na?"y: invert(".concat(Na,", y(unit))"):""].filter(vc=>!!vc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},
{name:r,on:[{events:Jb,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==Y&&Oi(a,e,Y,"width",f);void 0!==ia&&Oi(a,e,ia,"height",f);return f}},Qj];class Ai extends sf{clone(){return new Ai(null,this.model,Je(this.filter))}constructor(a,e,f){super(a);this.model=e;this.filter=f;za(this,"expr",void 0);za(this,"_dependentFields",void 0);this.expr=Bi(this.model,this.filter,this);this._dependentFields=Li(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",
expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const Nj={scale:a=>{let {model:e,channel:f}=a;return e.scaleName(f)},format:a=>{let {fieldOrDatumDef:e,config:f,axis:k}=a;const {format:q,formatType:r}=k;return Rc(e,e.type,q,r,f,!0)},formatType:a=>{let {axis:e,fieldOrDatumDef:f,scaleType:k}=a;({formatType:a}=e);return jd(a,f,k)},grid:a=>{var e;let {fieldOrDatumDef:f,axis:k,scaleType:q}=a;return null!==(e=k.grid)&&void 0!==e?e:!rd(q)&&Rb(f)&&!kb(null===f||void 0===f?void 0:f.bin)&&!Za(null===
f||void 0===f?void 0:f.bin)},gridScale:a=>{let {model:e,channel:f}=a;a="x"===f?"y":"x";a=e.getScaleComponent(a)?e.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:e,labelAngle:f,orient:k,channel:q}=a;return e.labelAlign||Nb(f,k,q)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:e,labelAngle:f,orient:k,channel:q}=a;return e.labelBaseline||tb(f,k,q)},labelFlush:a=>{var e;let {axis:f,fieldOrDatumDef:k,channel:q}=a;a=null!==(e=f.labelFlush)&&void 0!==e?e:"x"===q&&Db(["quantitative",
"temporal"],k.type)?!0:void 0;return a},labelOverlap:a=>{var e;let {axis:f,fieldOrDatumDef:k,scaleType:q}=a;if(null!==(e=f.labelOverlap)&&void 0!==e)a=e;else{a=k.type;e=Rb(k)&&!!k.timeUnit;var r=Rb(k)?k.sort:void 0;a=e&&!M.isObject(r)||"nominal"!==a&&"ordinal"!==a?"log"===q||"symlog"===q?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{var e;let {channel:f,model:k,axis:q,fieldOrDatumDef:r,scaleType:Y}=a;a=(a="x"===f?"width":"y"===f?"height":void 0)?k.getSizeSignalRef(a):
void 0;if(null===(e=q.tickCount)||void 0===e)a:{let {fieldOrDatumDef:sa,scaleType:Na,size:Jb,values:vc}={fieldOrDatumDef:r,scaleType:Y,size:a,values:q.values};if(vc||rd(Na)||"log"===Na)e=void 0;else{if(Rb(sa)){var ia;if(kb(sa.bin)){e={signal:"ceil(".concat(Jb.signal,"/10)")};break a}if(sa.timeUnit&&Db(["month","hours","day","quarter"],null===(ia=Pe(sa.timeUnit))||void 0===ia?void 0:ia.unit)){e=void 0;break a}}e={signal:"ceil(".concat(Jb.signal,"/40)")}}}return e},title:a=>{let {axis:e,model:f,channel:k}=
a;if(void 0!==e.title)return e.title;a=sc(f,k);if(void 0!==a)return a;a=f.typedFieldDef(k);const q=f.fieldDef("x"===k?"x2":"y2");return C(a?[Ja(a)]:[],Rb(q)?[Ja(q)]:[])},values:a=>{let {axis:e,fieldOrDatumDef:f}=a;a=e.values;a=M.isArray(a)?jg(f,a):tc(a)?a:void 0;return a},zindex:a=>{var e;let {axis:f,fieldOrDatumDef:k,mark:q}=a;a=null!==(e=f.zindex)&&void 0!==e?e:"rect"===q&&Oe(k)?1:0;return a}};class Pj extends sf{clone(){return new Pj(null,Je(this.transform))}constructor(a,e){super(a);this.transform=
e;za(this,"_dependentFields",void 0);this._dependentFields=Li(this.transform.calculate)}static parseAllForSortIndex(a,e){e.forEachFieldDef((f,k)=>{if(Pd(f)&&J(f.sort)){const {field:r,timeUnit:Y}=f;var q=f.sort;q=q.map((ia,sa)=>"".concat(ma({field:r,timeUnit:Y,equal:ia})," ? ").concat(sa," : ")).join("")+q.length;a=new Pj(a,{calculate:q,as:Tc(f,k,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",
expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(Tb(this.transform))}}const Ek=["row","column"],Kk=["header","footer"],gl={column:{start:0,end:1},row:{start:1,end:0}},Kl=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,
labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,
titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),yl=vd(Kl);class Jl extends eh{}const zl={symbols:function(a,e){var f,k,q,r;let {fieldOrDatumDef:Y,model:ia,channel:sa,legendCmpt:Na,legendType:Jb}=e;if("symbol"===Jb){var {markDef:vc,encoding:$b,config:Hc,mark:Oc}=ia;e=vc.filled&&"trail"!==Oc;var ld=Object,Kd=ld.assign,
md={};for(var zd of ql){const Ef=xc(zd,ia.markDef,ia.config);void 0!==Ef&&(md[zd]=lb(Ef))}zd=Kd.call(ld,{},md,af(ia,{filled:e}));ld=null!==(f=Na.get("symbolOpacity"))&&void 0!==f?f:Hc.legend.symbolOpacity;f=null!==(k=Na.get("symbolFillColor"))&&void 0!==k?k:Hc.legend.symbolFillColor;k=null!==(q=Na.get("symbolStrokeColor"))&&void 0!==q?q:Hc.legend.symbolStrokeColor;q=void 0===ld?null!==(r=ae($b.opacity))&&void 0!==r?r:vc.opacity:void 0;if(zd.fill)if("fill"===sa||e&&"color"===sa)delete zd.fill;else if(zd.fill.field)if(f)delete zd.fill;
else{var Yd;zd.fill=lb(null!==(Yd=Hc.legend.symbolBaseFillColor)&&void 0!==Yd?Yd:"black");zd.fillOpacity=lb(null!==q&&void 0!==q?q:1)}else if(M.isArray(zd.fill)){var Td,Qd,Me;if(r=null!==(Td=null!==(Qd=Cd(null!==(Me=$b.fill)&&void 0!==Me?Me:$b.color))&&void 0!==Qd?Qd:vc.fill)&&void 0!==Td?Td:e&&vc.color)zd.fill=lb(r)}zd.stroke&&("stroke"===sa||!e&&"color"===sa?delete zd.stroke:zd.stroke.field||k?delete zd.stroke:M.isArray(zd.stroke)&&(Td=O(Cd($b.stroke||$b.color),vc.stroke,e?vc.color:void 0))&&(zd.stroke=
{value:Td}));"opacity"!==sa&&((Td=Rb(Y)&&Id(ia,Na,Y))?zd.opacity=[Object.assign({},{test:Td},lb(null!==q&&void 0!==q?q:1)),lb(Hc.legend.unselectedOpacity)]:q&&(zd.opacity=lb(q)));zd=Object.assign({},zd,a);return Fa(zd)?void 0:zd}},gradient:function(a,e){var f;let {model:k,legendType:q,legendCmpt:r}=e;if("gradient"===q){var {config:Y,markDef:ia,encoding:sa}=k;e={};var Na=void 0===(null!==(f=r.get("gradientOpacity"))&&void 0!==f?f:Y.legend.gradientOpacity)?ae(sa.opacity)||ia.opacity:void 0;Na&&(e.opacity=
lb(Na));e=Object.assign({},e,a);return Fa(e)?void 0:e}},labels:function(a,e){let {fieldOrDatumDef:f,model:k,channel:q,legendCmpt:r}=e;var Y=k.legend(q)||{};e=k.config;var ia=Rb(f)?Id(k,r,f):void 0;ia=ia?[{test:ia,value:1},{value:e.legend.unselectedOpacity}]:void 0;const {format:sa,formatType:Na}=Y;Y=void 0;Ee(Na)?Y=gd({fieldOrDatumDef:f,field:"datum.value",format:sa,formatType:Na,config:e}):"quantitative"===f.type&&void 0===sa&&void 0===Na&&e.customFormatTypes&&e.numberFormatType&&(Y=gd({fieldOrDatumDef:f,
field:"datum.value",format:e.numberFormat,formatType:e.numberFormatType,config:e}));a=Object.assign({},ia?{opacity:ia}:{},Y?{text:Y}:{},a);return Fa(a)?void 0:a},entries:function(a,e){({legendCmpt:e}=e);e=e.get("selections");return null!==e&&void 0!==e&&e.length?Object.assign({},a,{fill:{value:"transparent"}}):a}},uj={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:e,legend:f,config:k}=a;const {format:q,formatType:r}=f;return Rc(e,e.type,q,r,k,!1)},formatType:a=>{let {legend:e,
fieldOrDatumDef:f,scaleType:k}=a;({formatType:a}=e);return jd(a,f,k)},gradientLength:a=>{var e,f;const {legend:k,legendConfig:q}=a;if(null!==(e=null!==(f=k.gradientLength)&&void 0!==f?f:q.gradientLength)&&void 0!==e)a=e;else{{let {legendConfig:r,model:Y,direction:ia,orient:sa,scaleType:Na}=a;const {gradientHorizontalMaxLength:Jb,gradientHorizontalMinLength:vc,gradientVerticalMaxLength:$b,gradientVerticalMinLength:Hc}=r;a=Kg.has(Na)?"horizontal"===ia?"top"===sa||"bottom"===sa?qf(Y,"width",vc,Jb):vc:
qf(Y,"height",Hc,$b):void 0}}return a},labelOverlap:a=>{var e,f;let {legend:k,legendConfig:q,scaleType:r}=a;a=null!==(e=null!==(f=k.labelOverlap)&&void 0!==f?f:q.labelOverlap)&&void 0!==e?e:Db(["quantile","threshold","log","symlog"],r)?"greedy":void 0;return a},symbolType:a=>{var e;let {legend:f,markDef:k,channel:q,encoding:r}=a;if(null!==(e=f.symbolType)&&void 0!==e)var Y=e;else a:{a=k.type;e=k.shape;if("shape"!==q){const ia=null!==(Y=Cd(r.shape))&&void 0!==Y?Y:e;if(ia){Y=ia;break a}}switch(a){case "bar":case "rect":case "image":case "square":Y=
"square";break a;case "line":case "trail":case "rule":Y="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":Y="circle";break a}Y=void 0}return Y},title:a=>{let {fieldOrDatumDef:e,config:f}=a;return df(e,f,{allowDisabling:!0})},type:a=>{let {legendType:e,scaleType:f,channel:k}=a;if(G(k)&&Kg.has(f)){if("gradient"===e)return}else if("symbol"===e)return;return e},values:a=>{let {fieldOrDatumDef:e,legend:f}=a;a=f.values;a=M.isArray(a)?jg(e,a):tc(a)?
a:void 0;return a}},mm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class Wj extends eh{constructor(a,e,f,k){super(Object.assign({},e),{name:a});this.specifiedProjection=e;this.size=f;this.data=k;za(this,"merged",!1)}get isFit(){return!!this.data}}class b extends sf{clone(){return new b(null,Je(this.bins))}constructor(a,e){super(a);this.bins=e}static makeFromEncoding(a,e){const f=e.reduceFieldDef((k,
q,r)=>{if(Mc(q)&&kb(q.bin)){const {key:$b,binComponent:Hc}=Tj(q,q.bin,e);var Y=Object,ia=Y.assign,sa=k[$b];var Na=e.config;if(mf(q,r)){var Jb,vc;const Oc=Mf(e)?null!==(Jb=null!==(vc=e.axis(r))&&void 0!==vc?vc:e.legend(r))&&void 0!==Jb?Jb:{}:{};r=Qc(q,{expr:"datum"});Jb=Qc(q,{expr:"datum",binSuffix:"end"});q={formulaAs:Qc(q,{binSuffix:"range",forAs:!0}),formula:Ya(r,Jb,Oc.format,Oc.formatType,Na)}}else q={};k[$b]=ia.call(Y,{},Hc,sa,q)}return k},{});return Fa(f)?null:new b(a,f)}static makeFromTransform(a,
e,f){const {key:k,binComponent:q}=Tj(e,e.bin,f);return new b(a,{[k]:q})}merge(a,e){for(const f of vd(a.bins))f in this.bins?(e(a.bins[f].signal,this.bins[f].signal),this.bins[f].as=yb([...this.bins[f].as,...a.bins[f].as],Tb)):this.bins[f]=a.bins[f];for(const f of a.children)a.removeChild(f),f.parent=this;a.remove()}producedFields(){return new Set(mg(this.bins).map(a=>a.as).flat(2))}dependentFields(){return new Set(mg(this.bins).map(a=>a.field))}hash(){return"Bin ".concat(Tb(this.bins))}assemble(){return mg(this.bins).flatMap(a=>
{const e=[],[f,...k]=a.as;var q=a.bin,r=Object.assign({},q);q=q.extent;r=(delete r.extent,r);r=Object.assign({},{type:"bin",field:Mb(a.field),as:f,signal:a.signal},mb(q)?{extent:null}:{extent:q},a.span?{span:{signal:"span(".concat(a.span,")")}}:{},r);!q&&a.extentSignal&&(e.push({type:"extent",field:Mb(a.field),signal:a.extentSignal}),r.extent={signal:a.extentSignal});e.push(r);for(const Y of k)for(q=0;2>q;q++)e.push({type:"formula",expr:Qc({field:f[q]},{expr:"datum"}),as:Y[q]});a.formula&&e.push({type:"formula",
expr:a.formula,as:a.formulaAs});return e})}}class d extends sf{clone(){return new d(null,new Set(this.dimensions),Je(this.measures))}constructor(a,e,f){super(a);this.dimensions=e;this.measures=f}get groupBy(){return this.dimensions}static makeFromEncoding(a,e){let f=!1;e.forEachFieldDef(r=>{r.aggregate&&(f=!0)});const k={},q=new Set;if(!f)return null;e.forEachFieldDef((r,Y)=>{const {aggregate:ia,field:sa}=r;if(ia)if("count"===ia){var Na;null!==(Na=k["*"])&&void 0!==Na?Na:k["*"]={};k["*"].count=new Set([Qc(r,
{forAs:!0})])}else{if(la(ia)||xa(ia)){var Jb;r=la(ia)?"argmin":"argmax";var vc=ia[r];null!==(Jb=k[vc])&&void 0!==Jb?Jb:k[vc]={};k[vc][r]=new Set([Qc({op:r,field:vc},{forAs:!0})])}else{var $b;null!==($b=k[sa])&&void 0!==$b?$b:k[sa]={};k[sa][ia]=new Set([Qc(r,{forAs:!0})])}if($h[Y]&&"unaggregated"===e.scaleDomain(Y)){var Hc;null!==(Hc=k[sa])&&void 0!==Hc?Hc:k[sa]={};k[sa].min=new Set([Qc({field:sa,aggregate:"min"},{forAs:!0})]);k[sa].max=new Set([Qc({field:sa,aggregate:"max"},{forAs:!0})])}}else{Jb=
Mf(e)?e.encoding[H(Y)]:void 0;Mc(r)&&Mf(e)&&Pb(r,Jb,e.markDef,e.config)?(q.add(Qc(r,{})),q.add(Qc(r,{suffix:"end"})),r.bin&&mf(r,Y)&&q.add(Qc(r,{binSuffix:"range"}))):Y in jk?(Y=m(Y),q.add(e.getName(Y))):q.add(Qc(r));if(Y=Pd(r))Y=null===(vc=r.scale)||void 0===vc?void 0:vc.range,Y=M.isObject(Y)&&"field"in Y;Y&&q.add(r.scale.range.field)}});return 0===q.size+vd(k).length?null:new d(a,q,k)}static makeFromTransform(a,e){const f=new Set,k={};for(const ia of e.aggregate){const {op:sa,field:Na,as:Jb}=ia;
if(sa)if("count"===sa){var q;null!==(q=k["*"])&&void 0!==q?q:k["*"]={};k["*"].count=new Set([Jb?Jb:Qc(ia,{forAs:!0})])}else{var r;null!==(r=k[Na])&&void 0!==r?r:k[Na]={};k[Na][sa]=new Set([Jb?Jb:Qc(ia,{forAs:!0})])}}for(const ia of null!==(Y=e.groupby)&&void 0!==Y?Y:[]){var Y;f.add(ia)}return 0===f.size+vd(k).length?null:new d(a,f,k)}merge(a){if(Ab(this.dimensions,a.dimensions)){var e=this.measures;a=a.measures;for(const k of vd(a)){const q=a[k];for(const r of vd(q))if(k in e){var f;e[k][r]=new Set([...(null!==
(f=e[k][r])&&void 0!==f?f:[]),...q[r]])}else e[k]={[r]:q[r]}}return!0}zc("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...vd(this.measures)])}producedFields(){const a=new Set;for(const e of vd(this.measures))for(const f of vd(this.measures[e])){const k=this.measures[e][f];0===k.size?a.add("".concat(f,"_").concat(e)):k.forEach(a.add,a)}return a}hash(){return"Aggregate ".concat(Tb({dimensions:this.dimensions,
measures:this.measures}))}assemble(){const a=[],e=[],f=[];for(const k of vd(this.measures))for(const q of vd(this.measures[k]))for(const r of this.measures[k][q])f.push(r),a.push(q),e.push("*"===k?null:Mb(k));return{type:"aggregate",groupby:[...this.dimensions].map(Mb),ops:a,fields:e,as:f}}}class h extends sf{constructor(a,e,f,k){super(a);this.model=e;this.name=f;this.data=k;za(this,"column",void 0);za(this,"row",void 0);za(this,"facet",void 0);za(this,"childModel",void 0);for(const q of gg)if(a=
e.facet[q]){const {bin:r,sort:Y}=a;this[q]=Object.assign({},{name:e.getName("".concat(q,"_domain")),fields:[Qc(a),...(kb(r)?[Qc(a,{binSuffix:"end"})]:[])]},n(Y)?{sortField:Y}:M.isArray(Y)?{sortIndexField:Tc(a,q)}:{})}this.childModel=e.child}hash(){let a="Facet";for(const e of gg)this[e]&&(a+=" ".concat(e.charAt(0),":").concat(Tb(this[e])));return a}get fields(){const a=[];for(const f of gg){var e;null!==(e=this[f])&&void 0!==e&&e.fields&&a.push(...this[f].fields)}return a}dependentFields(){const a=
new Set(this.fields);for(const e of gg)this[e]&&(this[e].sortField&&a.add(this[e].sortField.field),this[e].sortIndexField&&a.add(this[e].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const k of Bh){var e=this.childModel.component.scales[k];if(e&&!e.merged){var f=e.get("type");e=e.get("range");rd(f)&&jc(e)&&(f=Ei(this.childModel,k),(f=ck(f))?a[k]=f:wb(Dc(k)))}}return a}assembleRowColumnHeaderData(a,e,f){const k=
{row:"y",column:"x",facet:void 0}[a],q=[],r=[],Y=[];k&&f&&f[k]&&(e?(q.push("distinct_".concat(f[k])),r.push("max")):(q.push(f[k]),r.push("distinct")),Y.push("distinct_".concat(f[k])));const {sortField:ia,sortIndexField:sa}=this[a];if(ia){const {op:Na="min",field:Jb}=ia;q.push(Jb);r.push(Na);Y.push(Qc(ia,{forAs:!0}))}else sa&&(q.push(sa),r.push("max"),Y.push(sa));return{name:this[a].name,source:null!==e&&void 0!==e?e:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},q.length?
{fields:q,ops:r,as:Y}:{})]}}assembleFacetHeaderData(a){const {columns:e}=this.model.layout,{layoutHeaders:f}=this.model.component,k=[],q={};for(const Jb of Ek){for(const vc of Kk){var r,Y=null!==(r=f[Jb]&&f[Jb][vc])&&void 0!==r?r:[];for(const $b of Y){var ia;if(0<(null===(ia=$b.axes)||void 0===ia?void 0:ia.length)){q[Jb]=!0;break}}}q[Jb]&&(Y='length(data("'.concat(this.facet.name,'"))'),Y="row"===Jb?e?{signal:"ceil(".concat(Y," / ").concat(e,")")}:1:e?{signal:"min(".concat(Y,", ").concat(e,")")}:
{signal:Y},k.push({name:"".concat(this.facet.name,"_").concat(Jb),transform:[{type:"sequence",start:0,stop:Y}]}))}const {row:sa,column:Na}=q;(sa||Na)&&k.unshift(this.assembleRowColumnHeaderData("facet",null,a));return k}assemble(){const a=[];var e=null;const f=this.getChildIndependentFieldsWithStep(),{column:k,row:q,facet:r}=this;if(k&&q&&(f.x||f.y)){var Y,ia;e="cross_".concat(this.column.name,"_").concat(this.row.name);const sa=[].concat(null!==(Y=f.x)&&void 0!==Y?Y:[],null!==(ia=f.y)&&void 0!==
ia?ia:[]);Y=sa.map(()=>"distinct");a.push({name:e,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:sa,ops:Y}]})}for(const sa of["column","row"])this[sa]&&a.push(this.assembleRowColumnHeaderData(sa,e,f));r&&(e=this.assembleFacetHeaderData(f))&&a.push(...e);return a}}class v extends sf{clone(){return new v(null,Je(this._parse))}constructor(a,e){super(a);za(this,"_parse",void 0);this._parse=e}hash(){return"Parse ".concat(Tb(this._parse))}static makeExplicit(a,e,f){var k;let q=
{};e=e.data;!ba(e)&&null!==e&&void 0!==e&&null!==(k=e.format)&&void 0!==k&&k.parse&&(q=e.format.parse);return this.makeWithAncestors(a,q,{},f)}static makeWithAncestors(a,e,f,k){for(var q of vd(f)){const Y=k.getWithExplicit(q);void 0!==Y.value&&(Y.explicit||Y.value===f[q]||"derived"===Y.value||"flatten"===f[q]?delete f[q]:wb(Ad(q,f[q],Y.value)))}for(var r of vd(e))q=k.get(r),void 0!==q&&(q===e[r]?delete e[r]:wb(Ad(r,e[r],q)));e=new eh(e,f);k.copyAll(e);f={};for(const Y of vd(e.combine()))r=e.get(Y),
null!==r&&(f[Y]=r);return 0===vd(f).length||k.parseNothing?null:new v(a,f)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const e of vd(this._parse)){const f=this._parse[e];1===ca(e)&&(a[e]=f)}return a}producedFields(){return new Set(vd(this._parse))}dependentFields(){return new Set(vd(this._parse))}assembleTransforms(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return vd(this._parse).filter(e=>
a?1<ca(e):!0).map(e=>{const f=vj(e,this._parse[e]);return f?{type:"formula",expr:f,as:pb(e)}:null}).filter(e=>null!==e)}}class S extends sf{clone(){return new S(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class ea extends sf{clone(){return new ea(null,this.params)}constructor(a,e){super(a);this.params=e}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(Tb(this.params))}assemble(){return Object.assign({},
{type:"graticule"},!0===this.params?{}:this.params)}}class Wa extends sf{clone(){return new Wa(null,this.params)}constructor(a,e){super(a);this.params=e}dependentFields(){return new Set}producedFields(){var a;return new Set([null!==(a=this.params.as)&&void 0!==a?a:"data"])}hash(){return"Hash ".concat(Tb(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class Qb extends sf{constructor(a){var e;super(null);za(this,"_data",void 0);za(this,"_name",void 0);za(this,"_generator",
void 0);null!==(e=a)&&void 0!==e?e:a={name:"source"};let f;ba(a)||(f=a.format?Object.assign({},nc(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a)this._data={url:a.url},f.type||(e=/(?:\.([^.]+))?$/.exec(a.url)[1],Db(["json","csv","tsv","dsv","topojson"],e)||(e="json"),f.type=e);else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(D(a)||ba(a))this._data={};this._generator=ba(a);a.name&&(this._name=a.name);f&&!Fa(f)&&(this._data.format=f)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=
a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var lc=new WeakMap;class Nc{constructor(){if(lc.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");lc.set(this,{writable:!0,value:void 0});eb(this,lc,!1)}setModified(){eb(this,lc,!0)}get modifiedFlag(){var a=
fb(this,lc,"get");return a.get?a.get.call(this):a.value}}class pd extends Nc{getNodeDepths(a,e,f){f.set(a,e);for(const k of a.children)this.getNodeDepths(k,e+1,f);return f}optimize(a){a=[...this.getNodeDepths(a,0,new Map).entries()].sort((e,f)=>f[1]-e[1]);for(const e of a)this.run(e[0]);return this.modifiedFlag}}class yd extends Nc{optimize(a){this.run(a);for(const e of a.children)this.optimize(e);return this.modifiedFlag}}class td extends yd{mergeNodes(a,e){const f=e.shift();for(const k of e)a.removeChild(k),
k.parent=f,k.remove()}run(a){const e=a.children.map(k=>k.hash()),f={};for(let k=0;k<e.length;k++)void 0===f[e[k]]?f[e[k]]=[a.children[k]]:f[e[k]].push(a.children[k]);for(const k of vd(f))1<f[k].length&&(this.setModified(),this.mergeNodes(a,f[k]))}}class Zd extends yd{constructor(a){super();za(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&th(a)}run(a){!(a instanceof S)||this.requiresSelectionId&&(Bj(a.parent)||a.parent instanceof d||a.parent instanceof v)||(this.setModified(),a.remove())}}
class he extends Nc{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,e){let f=new Set;a instanceof Eh&&(f=a.producedFields(),Pa(f,e)&&(this.setModified(),a.removeFormulas(e),0===a.producedFields.length&&a.remove()));for(const k of a.children)this.run(k,new Set([...e,...f]))}}class le extends yd{constructor(){super()}run(a){a instanceof Cf&&!a.isRequired()&&(this.setModified(),a.remove())}}class hg extends pd{run(a){if(!(Bj(a)||1<a.numChildren()))for(const e of a.children)e instanceof
v&&(a instanceof v?(this.setModified(),a.merge(e)):Xa(a.producedFields(),e.dependentFields())||(this.setModified(),e.swapWithParent()))}}class Bc extends pd{run(a){const e=[...a.children];var f=a.children.filter(q=>q instanceof v);if(1<a.numChildren()&&1<=f.length){const q={};var k=new Set;for(const r of f){f=r.parse;for(const Y of vd(f))Y in q?q[Y]!==f[Y]&&k.add(Y):q[Y]=f[Y]}for(const r of k)delete q[r];if(!Fa(q)){this.setModified();k=new v(a,q);for(const r of e){if(r instanceof v)for(const Y of vd(q))delete r.parse[Y];
a.removeChild(r);r.parent=k;r instanceof v&&0===vd(r.parse).length&&r.remove()}}}}}class rc extends pd{run(a){a instanceof Cf||0<a.numChildren()||a instanceof h||a instanceof Qb||(this.setModified(),a.remove())}}class Jc extends pd{run(a){a=a.children.filter(f=>f instanceof Eh);const e=a.pop();for(const f of a)this.setModified(),e.merge(f)}}class Jd extends pd{run(a){var e=a.children.filter(q=>q instanceof d);const f={};for(var k of e)e=Tb(k.groupBy),e in f||(f[e]=[]),f[e].push(k);for(const q of vd(f))if(k=
f[q],1<k.length){e=k.pop();for(const r of k)e.merge(r)&&(a.removeChild(r),r.parent=e,r.remove(),this.setModified())}}}class me extends pd{constructor(a){super();this.model=a}run(a){var e=!(Bj(a)||a instanceof Ai||a instanceof v||a instanceof S);const f=[],k=[];for(const q of a.children)q instanceof b&&(e&&!Xa(a.producedFields(),q.dependentFields())?f.push(q):k.push(q));if(0<f.length){e=f.pop();for(const q of f)e.merge(q,this.model.renameSignal.bind(this.model));this.setModified();a instanceof b?a.merge(e,
this.model.renameSignal.bind(this.model)):e.swapWithParent()}if(1<k.length){a=k.pop();for(const q of k)a.merge(q,this.model.renameSignal.bind(this.model));this.setModified()}}}class ye extends pd{run(a){var e=[...a.children];if(fc(e,q=>q instanceof Cf)&&!(1>=a.numChildren())){var f=[];for(const q of e)if(q instanceof Cf){for(e=q;1===e.numChildren();){const [r]=e.children;if(r instanceof Cf)e=r;else break}f.push(...e.children);if(k)a.removeChild(q),q.parent=k.parent,k.parent.removeChild(k),k.parent=
e,this.setModified();else var k=e}else f.push(q);if(f.length){this.setModified();for(const q of f)q.parent.removeChild(q),q.parent=k}}}}class se extends sf{clone(){return new se(null,Je(this.transform))}constructor(a,e){super(a);this.transform=e}addDimensions(a){this.transform.groupby=yb(this.transform.groupby.concat(a),e=>e)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(e=>e.field).filter(e=>void 0!==e).forEach(a.add,
a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){var e;return null!==(e=a.as)&&void 0!==e?e:Qc(a)}hash(){return"JoinAggregateTransform ".concat(Tb(this.transform))}assemble(){const a=[],e=[],f=[];for(var k of this.transform.joinaggregate)e.push(k.op),f.push(this.getDefaultName(k)),a.push(void 0===k.field?null:k.field);k=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:f,ops:e,fields:a},void 0!==k?{groupby:k}:
{})}}class we extends sf{clone(){return new we(null,Je(this._stack))}constructor(a,e){super(a);za(this,"_stack",void 0);this._stack=e}static makeFromTransform(a,e){const {stack:f,groupby:k,as:q,offset:r="zero"}=e;var Y=[];const ia=[];if(void 0!==e.sort)for(const sa of e.sort)Y.push(sa.field),ia.push(O(sa.order,"ascending"));Y={field:Y,order:ia};e=Yi(q)?q:M.isString(q)?[q,"".concat(q,"_end")]:["".concat(e.stack,"_start"),"".concat(e.stack,"_end")];return new we(a,{dimensionFieldDefs:[],stackField:f,
groupby:k,offset:r,sort:Y,facetby:[],as:e})}static makeFromEncoding(a,e){var f=e.stack;const {encoding:k}=e;if(!f)return null;const {groupbyChannels:q,fieldChannel:r,offset:Y,impute:ia}=f;f=q.map(Jb=>Qe(k[Jb])).filter(Jb=>!!Jb);const sa=Ik(e);var Na=e.encoding.order;Na=M.isArray(Na)||Rb(Na)?w(Na):sa.reduce((Jb,vc)=>{Jb.field.push(vc);Jb.order.push("y"===r?"descending":"ascending");return Jb},{field:[],order:[]});return new we(a,{dimensionFieldDefs:f,stackField:e.vgField(r),facetby:[],stackby:sa,sort:Na,
offset:Y,impute:ia,as:[e.vgField(r,{suffix:"start",forAs:!0}),e.vgField(r,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(Tb(this._stack))}getGroupbyFields(){const {dimensionFieldDefs:a,
impute:e,groupby:f}=this._stack;return 0<a.length?a.map(k=>k.bin?e?[Qc(k,{binSuffix:"mid"})]:[Qc(k,{}),Qc(k,{binSuffix:"end"})]:[Qc(k)]).flat():null!==f&&void 0!==f?f:[]}assemble(){const a=[],{facetby:e,dimensionFieldDefs:f,stackField:k,stackby:q,sort:r,offset:Y,impute:ia,as:sa}=this._stack;if(ia)for(const Na of f){const {bandPosition:Jb=.5,bin:vc}=Na;if(vc){const $b=Qc(Na,{expr:"datum"}),Hc=Qc(Na,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:"".concat(Jb,"*").concat($b,"+").concat(1-
Jb,"*").concat(Hc),as:Qc(Na,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",field:k,groupby:[...q,...e],key:Qc(Na,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...e],field:k,sort:r,as:sa,offset:Y});return a}}class ig extends sf{clone(){return new ig(null,Je(this.transform))}constructor(a,e){super(a);this.transform=e}addDimensions(a){this.transform.groupby=yb(this.transform.groupby.concat(a),e=>e)}dependentFields(){var a,e;const f=new Set;
(null!==(a=this.transform.groupby)&&void 0!==a?a:[]).forEach(f.add,f);(null!==(e=this.transform.sort)&&void 0!==e?e:[]).forEach(k=>f.add(k.field));this.transform.window.map(k=>k.field).filter(k=>void 0!==k).forEach(f.add,f);return f}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){var e;return null!==(e=a.as)&&void 0!==e?e:Qc(a)}hash(){return"WindowTransform ".concat(Tb(this.transform))}assemble(){const a=[],e=[],f=[],k=[];for(var q of this.transform.window)e.push(q.op),
f.push(this.getDefaultName(q)),k.push(void 0===q.param?null:q.param),a.push(void 0===q.field?null:q.field);q=this.transform.frame;const r=this.transform.groupby;if(q&&null===q[0]&&null===q[1]&&e.every(Na=>R(Na)))return Object.assign({},{type:"joinaggregate",as:f,ops:e,fields:a},void 0!==r?{groupby:r}:{});const Y=[],ia=[];if(void 0!==this.transform.sort)for(const Na of this.transform.sort){var sa;Y.push(Na.field);ia.push(null!==(sa=Na.order)&&void 0!==sa?sa:"ascending")}sa=this.transform.ignorePeers;
return Object.assign({},{type:"window",params:k,as:f,ops:e,fields:a,sort:{field:Y,order:ia}},void 0!==sa?{ignorePeers:sa}:{},void 0!==r?{groupby:r}:{},void 0!==q?{frame:q}:{})}}class Ke{constructor(a){za(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,e){return new Ke(()=>a(e))}}class di extends eh{constructor(a,e){super({},{name:a});za(this,"merged",!1);this.setWithExplicit("type",e)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:
fc(this.get("domains"),a=>M.isArray(a)&&2===a.length&&0>=a[0]&&0<=a[1])}}const Tl=["range","scheme"],Bm={bins:a=>{let {model:e,fieldOrDatumDef:f}=a;return Rb(f)?Ll(e,f):void 0},interpolate:a=>{let {channel:e,fieldOrDatumDef:f}=a;a=f.type;a=Db(["color","fill","stroke"],e)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:e,channel:f,domain:k,domainMin:q,domainMax:r,fieldOrDatumDef:Y}=a;var ia;a=null!==(ia=Qe(Y))&&void 0!==ia&&ia.bin||M.isArray(k)||null!=r||null!=q||Db([sg.TIME,sg.UTC],
e)?void 0:L(f)?!0:void 0;return a},padding:a=>{let {channel:e,scaleType:f,fieldOrDatumDef:k,markDef:q,config:r}=a;a:{a=r.scale;var Y=r.bar;if(L(e)){if(Kg.has(f)){if(void 0!==a.continuousPadding){a=a.continuousPadding;break a}const {type:ia,orient:sa}=q;if("bar"===ia&&(!Rb(k)||!k.bin&&!k.timeUnit)&&("vertical"===sa&&"x"===e||"horizontal"===sa&&"y"===e)){a=Y.continuousBandSize;break a}}if(f===sg.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>{let {scalePadding:e,channel:f,markDef:k,
scaleType:q,config:r,hasNestedOffsetScale:Y}=a;return bj(e,f,k.type,q,r.scale,Y)},paddingOuter:a=>{let {scalePadding:e,channel:f,scaleType:k,scalePaddingInner:q,config:r,hasNestedOffsetScale:Y}=a;return ak(e,f,k,q,r.scale,Y)},reverse:a=>{let {fieldOrDatumDef:e,scaleType:f,channel:k,config:q}=a;a=Rb(e)?e.sort:void 0;var r=q.scale;a="x"===k&&void 0!==r.xReverse?ad(f)&&"descending"===a?tc(r.xReverse)?{signal:"!".concat(r.xReverse.signal)}:!r.xReverse:r.xReverse:ad(f)&&"descending"===a?!0:void 0;return a},
zero:a=>{let {channel:e,fieldOrDatumDef:f,domain:k,markDef:q,scaleType:r}=a;a:if(k&&"unaggregated"!==k&&ad(r)){if(M.isArray(k)&&(a=k[k.length-1],0>=k[0]&&0<=a)){a=!0;break a}a=!1}else if("size"!==e||"quantitative"!==f.type||rh.has(r))if(Rb(f)&&f.bin||!Db([...Bh,...dl],e))a=!1;else{const {orient:Y,type:ia}=q;a=Db(["bar","area","line","trail"],ia)&&("horizontal"===Y&&"y"===e||"vertical"===Y&&"x"===e)?!1:!0}else a=!0;return a}},Im=zi((a,e)=>Fj[a]-Fj[e]);class xm{constructor(){za(this,"nameMap",void 0);
this.nameMap={}}rename(a,e){this.nameMap[a]=e}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class ym{constructor(a,e,f,k,q,r,Y){var ia,sa;this.type=e;this.parent=f;this.config=q;za(this,"name",void 0);za(this,"size",void 0);za(this,"title",void 0);za(this,"description",void 0);za(this,"data",void 0);za(this,"transforms",void 0);za(this,"layout",void 0);za(this,"scaleNameMap",void 0);za(this,"projectionNameMap",void 0);za(this,
"signalNameMap",void 0);za(this,"component",void 0);za(this,"view",void 0);za(this,"children",void 0);za(this,"correctDataNames",Na=>{var Jb,vc,$b;null!==(Jb=Na.from)&&void 0!==Jb&&Jb.data&&(Na.from.data=this.lookupDataSource(Na.from.data));null!==(vc=Na.from)&&void 0!==vc&&null!==($b=vc.facet)&&void 0!==$b&&$b.data&&(Na.from.facet.data=this.lookupDataSource(Na.from.facet.data));return Na});this.parent=f;this.config=q;this.view=mc(Y);this.name=null!==(ia=a.name)&&void 0!==ia?ia:k;this.title=wc(a.title)?
{text:a.title}:a.title?mc(a.title):void 0;this.scaleNameMap=f?f.scaleNameMap:new xm;this.projectionNameMap=f?f.projectionNameMap:new xm;this.signalNameMap=f?f.signalNameMap:new xm;this.data=a.data;this.description=a.description;this.transforms=og(null!==(sa=a.transform)&&void 0!==sa?sa:[]);this.layout="layer"===e||"unit"===e?{}:$e(a,e,q);this.component={data:{sources:f?f.component.data.sources:[],outputNodes:f?f.component.data.outputNodes:{},outputNodeRefCounts:f?f.component.data.outputNodeRefCounts:
{},isFaceted:"facet"in a||(null===f||void 0===f?void 0:f.component.data.isFaceted)&&void 0===a.data},layoutSize:new eh,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},r?Je(r):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();
this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){Ok(this)}parseProjection(){Gk(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Zf(this)}assembleEncodeFromView(a){a=Object.assign({},a);a=(delete a.style,a);const e={};for(const f of vd(a)){const k=a[f];void 0!==
k&&(e[f]=lb(k))}return e}assembleGroupEncodeEntry(a){let e={};this.view&&(e=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(e.description=lb(this.description)),"unit"===this.type||"layer"===this.type)){var f;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(f=e)&&void 0!==f?f:{})}return Fa(e)?void 0:e}assembleLayout(){if(this.layout){var a=this.layout,e=Object.assign({},a);a=a.spacing;e=(delete e.spacing,e);var {component:f,
config:k}=this,q=f.layoutHeaders,r={};for(ia of gg){var Y=q[ia];if(null!==Y&&void 0!==Y&&Y.facetFieldDef){const {titleAnchor:sa,titleOrient:Na}=Bd(["titleAnchor","titleOrient"],Y.facetFieldDef.header,k,ia);Y=id(ia,Na);const Jb=gl[Y][sa];void 0!==Jb&&(r[Y]=Jb)}}var ia=Fa(r)?void 0:r;return Object.assign({},{padding:a},this.assembleDefaultLayout(),e,ia?{titleBand:ia}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=this.component,e=[];for(var f of gg)if(a[f].title){var k=
e,q=k.push;var r=f;var Y=this.component.layoutHeaders[r].title,ia=this.config?this.config:void 0,sa=this.component.layoutHeaders[r].facetFieldDef?this.component.layoutHeaders[r].facetFieldDef:void 0;const {titleAnchor:ld,titleAngle:Kd,titleOrient:md}=Bd(["titleAnchor","titleAngle","titleOrient"],sa.header,ia,r);var Na=id(r,md),Jb=ya(Kd);r={name:"".concat(r,"-title"),type:"group",role:"".concat(Na,"-title"),title:Object.assign({},{text:Y},"row"===r?{orient:"left"}:{},{style:"guide-title"},ue(Jb,Na),
$d(Na,Jb,ld),bf(ia,sa,r,Vl,ol))};q.call(k,r)}for(const ld of Ek){a=e;e=a.concat;k=ld;q=this.component.layoutHeaders[k];f=[];for(const Kd of Kk)if(q[Kd])for(const md of q[Kd]){a:{sa=void 0;r=k;var vc=Kd,$b=q;if(Y=md){ia=null;({facetFieldDef:Oc}=$b);Na=this.config?this.config:void 0;Oc&&Y.labels&&({labelOrient:Jb}=Bd(["labelOrient"],Oc.header,Na,r),"row"===r&&!Db(["top","bottom"],Jb)||"column"===r&&!Db(["left","right"],Jb))&&(ia=Vd(Oc,r,Na));const zd=jh(this)&&!da(this.facet),Yd=Y.axes,Td=0<(null===
Yd||void 0===Yd?void 0:Yd.length);if(ia||Td){const Qd="row"===r?"height":"width";Na=Object;Jb=Na.assign;vc={name:this.getName("".concat(r,"_").concat(vc)),type:"group",role:"".concat(r,"-").concat(vc)};if($b.facetFieldDef){$b={data:this.getName("".concat(r,"_domain"))};{var Hc=Oc;const {sort:Me}=Hc;var Oc=n(Me)?{field:Qc(Me,{expr:"datum"}),order:null!==(sa=Me.order)&&void 0!==sa?sa:"ascending"}:M.isArray(Me)?{field:Tc(Hc,r,{expr:"datum"}),order:"ascending"}:{field:Qc(Hc,{expr:"datum"}),order:null!==
Me&&void 0!==Me?Me:"ascending"}}sa={from:$b,sort:Oc}}else sa={};r=Jb.call(Na,{},vc,sa,Td&&zd?{from:{data:this.getName("facet_domain_".concat(r))}}:{},ia?{title:ia}:{},Y.sizeSignal?{encode:{update:{[Qd]:Y.sizeSignal}}}:{},Td?{axes:Yd}:{});break a}}r=null}null!=r&&f.push(r)}e=e.call(a,f)}return e}assembleAxes(){return sj(this.component.axes,this.config)}assembleLegends(){return $f(this)}assembleProjections(){var a=ij(this)||Vi(this)?zg(this):Gh(this);return a}assembleTitle(){var a,e=null!==(a=this.title)&&
void 0!==a?a:{};a=Object.assign({},e);e=e.encoding;a=(delete a.encoding,a);e=Object.assign({},Lc(this.config.title).nonMarkTitleProperties,a,e?{encode:{update:e}}:{});if(e.text){if(Db(["unit","layer"],this.type)){if(Db(["middle",void 0],e.anchor)){var f;null!==(f=e.frame)&&void 0!==f?f:e.frame="group"}}else{var k;null!==(k=e.anchor)&&void 0!==k?k:e.anchor="start"}return Fa(e)?void 0:e}}assembleGroup(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const e={};a=a.concat(this.assembleSignals());
0<a.length&&(e.signals=a);if(a=this.assembleLayout())e.layout=a;e.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||jh(this.parent)?hl(this):[];0<a.length&&(e.scales=a);a=this.assembleAxes();0<a.length&&(e.axes=a);a=this.assembleLegends();0<a.length&&(e.legends=a);return e}getName(a){return Aa((this.name?"".concat(this.name,"_"):"")+a)}getDataName(a){return this.getName(Df[a].toLowerCase())}requestDataName(a){a=this.getDataName(a);const e=this.component.data.outputNodeRefCounts;
e[a]=(e[a]||0)+1;return a}getSizeSignalRef(a){if(jh(this.parent)){var e=tf(a),f=X(e);if((e=this.component.scales[f])&&!e.merged){var k=e.get("type");const q=e.get("range");if(rd(k)&&jc(q)){a=e.get("name");k=Ei(this,f);if(k=ck(k))return f=Qc({aggregate:"distinct",field:k},{expr:"datum"}),{signal:Og(a,e,f)};wb(Dc(f));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const e=this.component.data.outputNodes[a];return e?e.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,
e){this.signalNameMap.rename(a,e)}renameScale(a,e){this.scaleNameMap.rename(a,e)}renameProjection(a,e){this.projectionNameMap.rename(a,e)}scaleName(a,e){if(e)return this.getName(a);if(kk[a]&&$h[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const e=this.component.scales[a];return e&&!e.merged?e:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,e){let f=this.component.selection[a];!f&&this.parent&&(f=this.parent.getSelectionComponent(a,e));if(!f)throw Error('Cannot find a selection named "'.concat(e,'".'));return f}hasAxisOrientSignalRef(){var a,e;return(null===(a=this.component.axes.x)||void 0===a?void 0:a.some(f=>f.hasOrientSignalRef()))||(null===(e=this.component.axes.y)||void 0===e?void 0:e.some(f=>f.hasOrientSignalRef()))}}
class Gm extends ym{vgField(a){let e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const f=this.fieldDef(a);if(f)return Qc(f,e)}reduceFieldDef(a,e){return xe(this.getMapping(),(f,k,q)=>(k=Qe(k))?a(f,k,q):f,e)}forEachFieldDef(a,e){ud(this.getMapping(),(f,k)=>{(f=Qe(f))&&a(f,k)},e)}}class rm extends sf{clone(){return new rm(null,Je(this.transform))}constructor(a,e){var f,k,q;super(a);this.transform=e;this.transform=Je(e);a=null!==(f=this.transform.as)&&void 0!==f?f:[void 0,void 0];this.transform.as=
[null!==(k=a[0])&&void 0!==k?k:"value",null!==(q=a[1])&&void 0!==q?q:"density"];e.groupby&&null==e.minsteps&&null==e.maxsteps&&null==e.steps&&(this.transform.steps=200)}dependentFields(){var a;return new Set([this.transform.density,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(Tb(this.transform))}assemble(){var a=this.transform,e=Object.assign({},a);a=a.density;e=(delete e.density,e);return Object.assign({},
{type:"kde",field:a},e)}}class Bl extends sf{clone(){return new Bl(null,Object.assign({},this.filter))}constructor(a,e){super(a);this.filter=e}static make(a,e){const {config:f,mark:k,markDef:q}=e;if("filter"!==ic("invalid",q,f))return null;const r=e.reduceFieldDef((Y,ia,sa)=>{if(sa=!!$h[sa]&&e.getScaleComponent(sa))sa=sa.get("type"),ad(sa)&&"count"!==ia.aggregate&&!Ae(k)&&(Y[ia.field]=ia);return Y},{});return vd(r).length?new Bl(a,r):null}dependentFields(){return new Set(vd(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(Tb(this.filter))}assemble(){const a=
vd(this.filter).reduce((e,f)=>{f=this.filter[f];const k=Qc(f,{expr:"datum"});null!==f&&("temporal"===f.type?e.push("(isDate(".concat(k,") || (isValid(").concat(k,") \x26\x26 isFinite(+").concat(k,")))")):"quantitative"===f.type&&(e.push("isValid(".concat(k,")")),e.push("isFinite(+".concat(k,")"))));return e},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class qm extends sf{clone(){return new qm(this.parent,Je(this.transform))}constructor(a,e){super(a);this.transform=e;this.transform=
Je(e);const {flatten:f,as:k=[]}=this.transform;this.transform.as=f.map((q,r)=>{var Y;return null!==(Y=k[r])&&void 0!==Y?Y:q})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(Tb(this.transform))}assemble(){const {flatten:a,as:e}=this.transform;return{type:"flatten",fields:a,as:e}}}class pm extends sf{clone(){return new pm(null,Je(this.transform))}constructor(a,e){var f,k,q;super(a);this.transform=e;
this.transform=Je(e);a=null!==(f=this.transform.as)&&void 0!==f?f:[void 0,void 0];this.transform.as=[null!==(k=a[0])&&void 0!==k?k:"key",null!==(q=a[1])&&void 0!==q?q:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(Tb(this.transform))}assemble(){const {fold:a,as:e}=this.transform;return{type:"fold",fields:a,as:e}}}class el extends sf{clone(){return new el(null,Je(this.fields),this.geojson,this.signal)}static parseAll(a,
e){if(e.component.projection&&!e.component.projection.isFit)return a;let f=0;for(var k of[["longitude","latitude"],["longitude2","latitude2"]]){const q=k.map(r=>{r=He(e.encoding[r]);return Rb(r)?r.field:Od(r)?{expr:"".concat(r.datum)}:dd(r)?{expr:"".concat(r.value)}:void 0});if(q[0]||q[1])a=new el(a,q,null,e.getName("geojson_".concat(f++)))}e.channelHasField("shape")&&(k=e.typedFieldDef("shape"),"geojson"===k.type&&(a=new el(a,null,k.field,e.getName("geojson_".concat(f++)))));return a}constructor(a,
e,f,k){super(a);this.fields=e;this.geojson=f;this.signal=k}dependentFields(){var a;const e=(null!==(a=this.fields)&&void 0!==a?a:[]).filter(M.isString);return new Set([...(this.geojson?[this.geojson]:[]),...e])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(Tb(this.fields))}assemble(){return[...(this.geojson?[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:
{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Cl extends sf{clone(){return new Cl(null,this.projection,Je(this.fields),Je(this.as))}constructor(a,e,f,k){super(a);this.projection=e;this.fields=f;this.as=k}static parseAll(a,e){if(!e.projectionName())return a;for(const f of[["longitude","latitude"],["longitude2","latitude2"]]){const k=f.map(r=>{r=He(e.encoding[r]);return Rb(r)?r.field:Od(r)?{expr:"".concat(r.datum)}:dd(r)?{expr:"".concat(r.value)}:void 0}),q="longitude2"===
f[0]?"2":"";if(k[0]||k[1])a=new Cl(a,e.projectionName(),k,[e.getName("x".concat(q)),e.getName("y".concat(q))])}return a}dependentFields(){return new Set(this.fields.filter(M.isString))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(Tb(this.fields)," ").concat(Tb(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Fk extends sf{clone(){return new Fk(null,Je(this.transform))}constructor(a,
e){super(a);this.transform=e}dependentFields(){var a;return new Set([this.transform.impute,this.transform.key,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:e=0,stop:f,step:k}=a;a=[e,f,...(k?[k]:[])].join();return{signal:"sequence(".concat(a,")")}}static makeFromTransform(a,e){return new Fk(a,e)}static makeFromEncoding(a,e){const f=e.encoding;var k=f.x;const q=f.y;if(Rb(k)&&Rb(q)){const r=k.impute?
k:q.impute?q:void 0;if(void 0===r)return;k=k.impute?q:q.impute?k:void 0;const {method:Y,value:ia,frame:sa,keyvals:Na}=r.impute;e=Ge(e.mark,f);return new Fk(a,Object.assign({},{impute:r.field,key:k.field},Y?{method:Y}:{},void 0!==ia?{value:ia}:{},sa?{frame:sa}:{},void 0!==Na?{keyvals:Na}:{},e.length?{groupby:e}:{}))}return null}hash(){return"Impute ".concat(Tb(this.transform))}assemble(){const {impute:a,key:e,keyvals:f,method:k,groupby:q,value:r,frame:Y=[null,null]}=this.transform,ia=Object.assign({},
{type:"impute",field:a,key:e},f?{keyvals:void 0!==(null===f||void 0===f?void 0:f.stop)?this.processSequence(f):f}:{},{method:"value"},q?{groupby:q}:{},{value:k&&"value"!==k?null:r});if(k&&"value"!==k){const sa=Object.assign({},{type:"window",as:["imputed_".concat(a,"_value")],ops:[k],fields:[a],frame:Y,ignorePeers:!1},q?{groupby:q}:{}),Na={type:"formula",expr:"datum.".concat(a," \x3d\x3d\x3d null ? datum.imputed_").concat(a,"_value : datum.").concat(a),as:a};return[ia,sa,Na]}return[ia]}}class sm extends sf{clone(){return new sm(null,
Je(this.transform))}constructor(a,e){var f,k,q;super(a);this.transform=e;this.transform=Je(e);a=null!==(f=this.transform.as)&&void 0!==f?f:[void 0,void 0];this.transform.as=[null!==(k=a[0])&&void 0!==k?k:e.on,null!==(q=a[1])&&void 0!==q?q:e.loess]}dependentFields(){var a;return new Set([this.transform.loess,this.transform.on,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(Tb(this.transform))}assemble(){var a=
this.transform,e=Object.assign({},a);const f=a.loess;a=a.on;e=(delete e.loess,delete e.on,e);return Object.assign({},{type:"loess",x:a,y:f},e)}}class Dl extends sf{clone(){return new Dl(null,Je(this.transform),this.secondary)}constructor(a,e,f){super(a);this.transform=e;this.secondary=f}static make(a,e,f,k){const q=e.component.data.sources,{from:r}=f;var Y=null;if("data"in r)Y=vl(r.data,q),Y||(Y=new Qb(r.data),q.push(Y)),k=e.getName("lookup_".concat(k)),Y=new Cf(Y,k,Df.Lookup,e.component.data.outputNodeRefCounts),
e.component.data.outputNodes[k]=Y;else if("param"in r){k=r.param;f=Object.assign({},{as:k},f);let ia;try{ia=e.getSelectionComponent(Aa(k),k)}catch(sa){throw Error('Lookups can only be performed on selection parameters. "'.concat(k,'" is a variable parameter.'));}Y=ia.materialized;if(!Y)throw Error('Cannot define and lookup the "'.concat(k,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");}return new Dl(a,f,Y.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?
M.array(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(Tb({transform:this.transform,secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:M.array(this.transform.as)}:{});else a=this.transform.as,M.isString(a)||(wb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},
{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},a,this.transform.default?{default:this.transform.default}:{})}}class tm extends sf{clone(){return new tm(null,Je(this.transform))}constructor(a,e){var f,k,q;super(a);this.transform=e;this.transform=Je(e);a=null!==(f=this.transform.as)&&void 0!==f?f:[void 0,void 0];this.transform.as=[null!==(k=a[0])&&void 0!==k?k:"prob",null!==(q=a[1])&&void 0!==q?q:"value"]}dependentFields(){var a;return new Set([this.transform.quantile,
...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(Tb(this.transform))}assemble(){var a=this.transform,e=Object.assign({},a);a=a.quantile;e=(delete e.quantile,e);return Object.assign({},{type:"quantile",field:a},e)}}class um extends sf{clone(){return new um(null,Je(this.transform))}constructor(a,e){var f,k,q;super(a);this.transform=e;this.transform=Je(e);a=null!==(f=this.transform.as)&&void 0!==f?f:
[void 0,void 0];this.transform.as=[null!==(k=a[0])&&void 0!==k?k:e.on,null!==(q=a[1])&&void 0!==q?q:e.regression]}dependentFields(){var a;return new Set([this.transform.regression,this.transform.on,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(Tb(this.transform))}assemble(){var a=this.transform,e=Object.assign({},a);const f=a.regression;a=a.on;e=(delete e.regression,delete e.on,e);return Object.assign({},
{type:"regression",x:a,y:f},e)}}class wm extends sf{clone(){return new wm(null,Je(this.transform))}constructor(a,e){super(a);this.transform=e}addDimensions(a){var e;this.transform.groupby=yb((null!==(e=this.transform.groupby)&&void 0!==e?e:[]).concat(a),f=>f)}producedFields(){}dependentFields(){var a;return new Set([this.transform.pivot,this.transform.value,...(null!==(a=this.transform.groupby)&&void 0!==a?a:[])])}hash(){return"PivotTransform ".concat(Tb(this.transform))}assemble(){const {pivot:a,
value:e,groupby:f,limit:k,op:q}=this.transform;return Object.assign({},{type:"pivot",field:a,value:e},void 0!==k?{limit:k}:{},void 0!==q?{op:q}:{},void 0!==f?{groupby:f}:{})}}class vm extends sf{clone(){return new vm(null,Je(this.transform))}constructor(a,e){super(a);this.transform=e}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(Tb(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}class Fl extends Gm{constructor(a,
e,f,k){super(a,"facet",e,f,k,a.resolve);za(this,"facet",void 0);za(this,"child",void 0);za(this,"children",void 0);this.child=Rk(a.spec,this,this.getName("child"),void 0,k);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!da(a))return{facet:this.initFacetFieldDef(a,"facet")};var e=vd(a);const f={};for(const k of e){if(!["row","column"].includes(k)){wb(qe(k,"facet"));break}e=a[k];if(void 0===e.field){wb(Sd(e,k));break}f[k]=this.initFacetFieldDef(e,k)}return f}initFacetFieldDef(a,
e){a=If(a,e);a.header?a.header=mc(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=Bk(this);this.child.parseData()}parseLayoutSize(){$k(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const k of gg){var a=void 0,e=k;const {facet:q,
config:r,child:Y,component:ia}=this;if(this.channelHasField(e)){const sa=q[e];var f=pc("title",null,r,e);f=df(sa,r,{allowDisabling:!0,includeDefault:void 0===f||!!f});Y.component.layoutHeaders[e].title&&(f=M.isArray(f)?f.join(", "):f,f+=" / ".concat(Y.component.layoutHeaders[e].title),Y.component.layoutHeaders[e].title=null);const Na=pc("labelOrient",sa.header,r,e),Jb=null!==sa.header?O(null===(a=sa.header)||void 0===a?void 0:a.labels,r.header.labels,!0):!1;a=Db(["bottom","right"],Na)?"footer":"header";
ia.layoutHeaders[e]={title:null!==sa.header?f:null,facetFieldDef:sa,[a]:"facet"===e?[]:[Vj(this,e,Jb)]}}}Qk(this,"x");Qk(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a={};for(const Y of gg)for(const ia of Kk){const sa=this.component.layoutHeaders[Y];var e=sa[ia],{facetFieldDef:f}=sa;if(f&&(f=
pc("titleOrient",f.header,this.config,Y),["right","bottom"].includes(f))){var k;f=id(Y,f);null!==(k=a.titleAnchor)&&void 0!==k?k:a.titleAnchor={};a.titleAnchor[f]="end"}if(null!==e&&void 0!==e&&e[0]){e="row"===Y?"height":"width";f="header"===ia?"headerBand":"footerBand";if("facet"!==Y&&!this.child.component.layoutSize.get(e)){var q;null!==(q=a[f])&&void 0!==q?q:a[f]={};a[f][Y]=.5}if(sa.title){var r;null!==(r=a.offset)&&void 0!==r?r:a.offset={};a.offset["row"===Y?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,
row:e}=this.facet,f=a?this.columnDistinctSignal():e?1:void 0;let k="all";e||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(k="none"):k="none";return Object.assign({},this.getHeaderLayoutMixins(),f?{columns:f}:{},{bounds:"full",align:k})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Fl)){const a=this.getName("column_domain");return{signal:"length(data('".concat(a,
"'))")}}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof Fl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Qc(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],e=[],f=[];if(this.child instanceof Fl){if(this.child.channelHasField("column")){var k=Qc(this.child.facet.column);a.push(k);e.push("distinct");f.push("distinct_".concat(k))}}else for(k of Bh){var q=
this.child.component.scales[k];if(q&&!q.merged){var r=q.get("type");q=q.get("range");rd(r)&&jc(q)&&(r=Ei(this.child,k),(r=ck(r))?(a.push(r),e.push("distinct"),f.push("distinct_".concat(r))):wb(Dc(k)))}}return{fields:a,ops:e,as:f}}assembleFacet(){const {name:a,data:e}=this.component.data.facetRoot,{row:f,column:k}=this.facet,{fields:q,ops:r,as:Y}=this.getCardinalityAggregateForChild(),ia=[];for(var sa of gg){var Na=this.facet[sa];if(Na){ia.push(Qc(Na));const {bin:Jb,sort:vc}=Na;kb(Jb)&&ia.push(Qc(Na,
{binSuffix:"end"}));if(n(vc)){const {field:$b,op:Hc="min"}=vc;Na=Ej(Na,vc);f&&k?(q.push(Na),r.push("max")):(q.push($b),r.push(Hc));Y.push(Na)}else M.isArray(vc)&&(Na=Tc(Na,sa),q.push(Na),r.push("max"),Y.push(Na))}}sa=!!f&&!!k;return Object.assign({},{name:a,data:e,groupby:ia},sa||0<q.length?{aggregate:Object.assign({},sa?{cross:sa}:{},q.length?{fields:q,ops:r,as:Y}:{})}:{})}facetSortFields(a){var {facet:e}=this;return(e=e[a])?n(e.sort)?[Ej(e,e.sort,{expr:"datum"})]:M.isArray(e.sort)?[Tc(e,a,{expr:"datum"})]:
[Qc(e,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:e}=this;return(a=e[a])?({sort:a}=a,[(n(a)?a.order:!M.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:e}=this;if(a.facet)return Vd(a.facet,"facet",e);const f={row:["top","bottom"],column:["left","right"]};for(const q of Ek)if(a[q]){var k;const r=pc("labelOrient",null===(k=a[q])||void 0===k?void 0:k.header,e,q);if(f[q].includes(r))return Vd(a[q],q,e)}}assembleMarks(){const {child:a}=this,e=Zk(this.component.data.facetRoot),
f=a.assembleGroupEncodeEntry(!1),k=this.assembleLabelTitle()||a.assembleTitle(),q=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},k?{title:k}:{},q?{style:q}:{},{from:{facet:this.assembleFacet()},sort:{field:gg.map(r=>this.facetSortFields(r)).flat(),order:gg.map(r=>this.facetSortOrder(r)).flat()}},0<e.length?{data:e}:{},f?{encode:{update:f}}:{},a.assembleGroup(Ma(this,[])))]}getMapping(){return this.facet}}class Km extends ym{constructor(a,e,f,k){var q,r,Y,ia;
super(a,"concat",e,f,k,a.resolve);za(this,"children",void 0);"shared"!==(null===(q=a.resolve)||void 0===q?void 0:null===(r=q.axis)||void 0===r?void 0:r.x)&&"shared"!==(null===(Y=a.resolve)||void 0===Y?void 0:null===(ia=Y.axis)||void 0===ia?void 0:ia.y)||wb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((sa,Na)=>Rk(sa,this,this.getName("concat_".concat(Na)),void 0,k))}parseData(){this.component.data=
Bk(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const e of vd(a.component.selection))this.component.selection[e]=a.component.selection[e]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){$k(this);const a=void 0===
this.layout.columns?"height":"childHeight";fk(this,1===this.layout.columns?"width":"childWidth");fk(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((e,f)=>f.assembleSelectionTopLevelSignals(e),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=Nf(this);for(const e of this.children)a.push(...e.assembleLayoutSignals());return a}assembleSelectionData(a){return this.children.reduce((e,f)=>f.assembleSelectionData(e),
a)}assembleMarks(){return this.children.map(a=>{const e=a.assembleTitle(),f=a.assembleGroupStyle(),k=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},e?{title:e}:{},f?{style:f}:{},k?{encode:{update:k}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})}}const Lm=Object.assign({},{disable:1,gridScale:1,scale:1},tg,{labelExpr:1,encode:1}),
Cm=vd(Lm);class Dm extends eh{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=e;this.mainExtracted=f}clone(){return new Dm(Je(this.explicit),Je(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return tc(this.explicit.orient)}}
const Mm={bottom:"top",top:"bottom",left:"right",right:"left"},Jm=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),El={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},Ie(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),ie("x",a,{defaultPos:"mid"}),ie("y",a,{defaultPos:"mid"}),Bf(a,"radius"),Bf(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},Ie(a,{align:"ignore",baseline:"ignore",
color:"include",orient:"include",size:"ignore",theta:"ignore"}),ah("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),ah("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),Lf(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},Ie(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Bf(a,"x"),Bf(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>ik(a,"circle")},geoshape:{vgMark:"shape",
encodeEntry:a=>Object.assign({},Ie(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:e}=a;e=e.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},e&&Rb(e)&&"geojson"===e.type?{field:Qc(e,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>Object.assign({},Ie(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Bf(a,"x"),Bf(a,"y"),
Ec(a,"url"))},line:{vgMark:"line",encodeEntry:a=>Object.assign({},Ie(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),ie("x",a,{defaultPos:"mid"}),ie("y",a,{defaultPos:"mid"}),pe("size",a,{vgChannel:"strokeWidth"}),Lf(a))},point:{vgMark:"symbol",encodeEntry:a=>ik(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},Ie(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Bf(a,"x"),Bf(a,"y"))},rule:{vgMark:"rule",
encodeEntry:a=>{var {markDef:e}=a;e=e.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},Ie(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ah("x",a,{defaultPos:"horizontal"===e?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==e}),ah("y",a,{defaultPos:"vertical"===e?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==e}),pe("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",
encodeEntry:a=>ik(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:e}=a,f=Object,k=f.assign,q=Ie(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),r=ie("x",a,{defaultPos:"mid"}),Y=ie("y",a,{defaultPos:"mid"}),ia=Ec(a),sa=pe("size",a,{vgChannel:"fontSize"}),Na=pe("angle",a);var Jb=void 0===ic("align",a.markDef,e)?"center":void 0;Jb=Ri("align",Jb);e=void 0===ic("baseline",a.markDef,e)?"middle":void 0;return k.call(f,{},q,r,Y,ia,sa,Na,Jb,
Ri("baseline",e),ie("radius",a,{defaultPos:null}),ie("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:e,markDef:f}=a;var k=f.orient;const q="horizontal"===k?"width":"height";k="horizontal"===k?"height":"width";var r=Object,Y=r.assign,ia=Ie(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),sa=ie("x",a,{defaultPos:"mid",vgChannel:"xc"}),Na=ie("y",a,{defaultPos:"mid",vgChannel:"yc"}),Jb;{const {config:$b,markDef:Hc}=a;
var {orient:vc}=Hc;const Oc="horizontal"===vc?"width":"height";vc=a.getScaleComponent("horizontal"===vc?"x":"y");const ld=null!==(Jb=ic("size",Hc,$b,{vgChannel:Oc}))&&void 0!==Jb?Jb:$b.tick.bandSize;Jb=void 0!==ld?ld:(Jb=vc?vc.get("range"):void 0)&&jc(Jb)&&M.isNumber(Jb.step)?3*Jb.step/4:3*Zg($b.view,Oc)/4}return Y.call(r,{},ia,sa,Na,pe("size",a,{defaultValue:Jb,vgChannel:q}),{[k]:lb(ic("thickness",f,e))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},Ie(a,{align:"ignore",baseline:"ignore",
color:"include",size:"include",orient:"ignore",theta:"ignore"}),ie("x",a,{defaultPos:"mid"}),ie("y",a,{defaultPos:"mid"}),pe("size",a),Lf(a))}};class Fm extends Gm{constructor(a,e,f){var k;let q=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r=4<arguments.length?arguments[4]:void 0;super(a,"unit",e,f,r,void 0,Xf(a)?a.view:void 0);za(this,"markDef",void 0);za(this,"encoding",void 0);za(this,"specifiedScales",{});za(this,"stack",void 0);za(this,"specifiedAxes",{});za(this,"specifiedLegends",
{});za(this,"specifiedProjection",{});za(this,"selection",[]);za(this,"children",[]);const Y=Pc(a.mark)?Object.assign({},a.mark):{type:a.mark},ia=Y.type;void 0===Y.filled&&(Y.filled=Ol(Y,r,{graticule:a.data&&"graticule"in a.data}));const sa=this.encoding=rb(a.encoding||{},ia,Y.filled,r);this.markDef=hm(Y,sa,r);this.size=Ml({encoding:sa,size:Xf(a)?Object.assign({},q,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):q});this.stack=xi(ia,sa);this.specifiedScales=this.initScales(ia,sa);this.specifiedAxes=
this.initAxes(sa);this.specifiedLegends=this.initLegends(sa);this.specifiedProjection=a.projection;this.selection=(null!==(k=a.params)&&void 0!==k?k:[]).filter(Na=>nf(Na))}get hasProjection(){const {encoding:a}=this,e=this.mark===Hj,f=a&&bl.some(k=>hd(a[k]));return e||f}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,e){return Gi.reduce((f,k)=>{const q=He(e[k]);if(q){var r;f[k]=this.initScale(null!==
(r=q.scale)&&void 0!==r?r:{})}return f},{})}initScale(a){const {domain:e,range:f}=a;a=mc(a);M.isArray(e)&&(a.domain=e.map(Ea));M.isArray(f)&&(a.range=f.map(Ea));return a}initAxes(a){return Bh.reduce((e,f)=>{var k=a[f];if(hd(k)||"x"===f&&hd(a.x2)||"y"===f&&hd(a.y2))k=hd(k)?k.axis:void 0,e[f]=k?this.initAxis(Object.assign({},k)):k;return e},{})}initAxis(a){var e=vd(a);const f={};for(const k of e)e=a[k],f[k]=uf(e)?Ta(e):Ea(e);return f}initLegends(a){return Lj.reduce((e,f)=>{var k=He(a[f]),q;if(q=k)a:{switch(f){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":q=
!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":q=!1;break a}q=void 0}q&&(k=k.legend,e[f]=k?mc(k):k);return e},{})}parseData(){this.component.data=Bk(this)}parseLayoutSize(){const {size:a,component:e}=this;for(const k of Bh){const q=V(k);if(a[q]){var f=a[q];e.layoutSize.set(q,wf(f)?"step":f,!0)}else f=dm(this,q),e.layoutSize.set(q,f,!1)}}parseSelections(){var a=this.component,e;{var f=this.selection;const q={},r=this.config.selection;if(f&&f.length)for(const Y of f){f=Aa(Y.name);var k=
Y.select;const ia=M.isString(k)?k:k.type;k=M.isObject(k)?Je(k):{type:ia};const sa=r[ia];for(const Na in sa)"fields"!==Na&&"encodings"!==Na&&("mark"===Na&&(k[Na]=Object.assign({},sa[Na],k[Na])),void 0===k[Na]||!0===k[Na])&&(k[Na]=null!==(e=sa[Na])&&void 0!==e?e:k[Na]);f=q[f]=Object.assign({},k,{name:f,type:ia,init:Y.value,bind:Y.bind,events:M.isString(k.on)?M.parseSelector(k.on,"scope"):M.array(Je(k.on))});for(const Na of rj)Na.defined(f)&&Na.parse&&Na.parse(this,f,Y)}e=q}a.selection=e}parseMarkGroup(){this.component.mark=
jm(this)}parseAxesAndHeaders(){this.component.axes=Sl(this)}assembleSelectionTopLevelSignals(a){return Eb(this,a)}assembleSignals(){var a=[...Ti(this)];var e=[];for(const k of mg(null!==(f=this.component.selection)&&void 0!==f?f:{})){var f;f=k.name;let q="".concat(f).concat("_tuple",", ").concat("global"===k.resolve?"true":"{unit: ".concat(oi(this),"}"));for(const r of rj)r.defined(k)&&(r.signals&&(e=r.signals(this,k,e)),r.modifyExpr&&(q=r.modifyExpr(this,k,q)));e.push({name:f+"_modify",on:[{events:{signal:k.name+
"_tuple"},update:"modify(".concat(M.stringValue(k.name+"_store"),", ").concat(q,")")}]})}e=N(e);return[...a,...e]}assembleSelectionData(a){return Lb(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return Nf(this)}assembleMarks(){var a;let e=null!==(a=this.component.mark)&&void 0!==a?a:[];this.parent&&ij(this.parent)||(e=ec(this,e));return e.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=this.view||{};if(void 0!==a)return a;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return ng(this.encoding,
a)}fieldDef(a){return Qe(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return Mc(a)?a:null}}class Em extends ym{constructor(a,e,f,k,q){super(a,"layer",e,f,q,a.resolve,a.view);za(this,"children",void 0);const r=Object.assign({},k,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=a.layer.map((Y,ia)=>{if("layer"in Y)return new Em(Y,this,this.getName("layer_".concat(ia)),r,q);if(Qf(Y))return new Fm(Y,this,this.getName("layer_".concat(ia)),r,q);throw Error(ib(Y));})}parseData(){this.component.data=
Bk(this);for(const a of this.children)a.parseData()}parseLayoutSize(){$k(this);fk(this,"width");fk(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const e of vd(a.component.selection))this.component.selection[e]=a.component.selection[e]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,resolve:e}=this.component,f={top:0,bottom:0,right:0,left:0};for(var k of this.children){k.parseAxesAndHeaders();
for(const r of vd(k.component.axes))e.axis[r]=ih(this.component.resolve,r),"shared"===e.axis[r]&&(a[r]=em(a[r],k.component.axes[r]),a[r]||(e.axis[r]="independent",delete a[r]))}for(const r of Bh){for(const Y of this.children)if(Y.component.axes[r]){if("independent"===e.axis[r]){var q;a[r]=(null!==(q=a[r])&&void 0!==q?q:[]).concat(Y.component.axes[r]);for(const ia of Y.component.axes[r]){const {value:sa,explicit:Na}=ia.getWithExplicit("orient");tc(sa)||(0<f[sa]&&!Na&&(k=Mm[sa],f[sa]>f[k]&&ia.set("orient",
k,!1)),f[sa]++)}}delete Y.component.axes[r]}if("independent"===e.axis[r]&&a[r]&&1<a[r].length)for(const Y of a[r])Y.get("grid")&&!Y.explicit.grid&&(Y.implicit.grid=!1)}}assembleSelectionTopLevelSignals(a){return this.children.reduce((e,f)=>f.assembleSelectionTopLevelSignals(e),a)}assembleSignals(){return this.children.reduce((a,e)=>a.concat(e.assembleSignals()),Ti(this))}assembleLayoutSignals(){return this.children.reduce((a,e)=>a.concat(e.assembleLayoutSignals()),Nf(this))}assembleSelectionData(a){return this.children.reduce((e,
f)=>f.assembleSelectionData(e),a)}assembleGroupStyle(){var a=new Set;for(const e of this.children)for(const f of M.array(e.assembleGroupStyle()))a.add(f);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const e of this.children)if(a=e.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return u(this,this.children.flatMap(a=>a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,e)=>a.concat(e.assembleLegends()),
$f(this))}}l.accessPathDepth=ca;l.accessPathWithDatum=Ca;l.compile=function(a){let e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.logger&&(hj=e.logger);e.fieldTitle&&(Ni=e.fieldTitle);try{const Jb=gh(M.mergeConfig(e.config,a.config)),vc=ph(a,Jb),$b=Rk(vc,null,"",void 0,Jb);$b.parse();var f=$b.component.data,k=$b;Ui(f.sources);let Hc=0,Oc=0;for(var q=0;5>q&&xj(f,k,!0);q++)Hc++;f.sources.map(wj);for(q=0;5>q&&xj(f,k,!1);q++)Oc++;Ui(f.sources);5===Math.max(Hc,Oc)&&wb("Maximum optimization runs(".concat(5,
") reached."));var r=vc.autosize;f=Jb;k=$b;const ld=k.component.layoutSize.get("width"),Kd=k.component.layoutSize.get("height");void 0===r?(r={type:"pad"},k.hasAxisOrientSignalRef()&&(r.resize=!0)):M.isString(r)&&(r={type:r});var Y;if(Y=ld&&Kd){var ia=r.type;Y="fit"===ia||"fit-x"===ia||"fit-y"===ia}if(Y)if("step"===ld&&"step"===Kd)wb(qc()),r.type="pad";else if("step"===ld||"step"===Kd){ia="step"===ld?"width":"height";wb(qc(X(ia)));Y=r;var sa=(ia="width"===ia?"height":"width","fit-".concat(X(ia)));
Y.type=sa}var Na=Object.assign({},1===vd(r).length&&r.type?"pad"===r.type?{}:{autosize:r.type}:{autosize:r},li(f,!1),li(a,!0));return{spec:Nl($b,Na,a.datasets,a.usermeta),normalized:vc}}finally{e.logger&&(hj=Jh),e.fieldTitle&&(Ni=Yf)}};l.contains=Db;l.deepEqual=Kh;l.deleteNestedProperty=bb;l.duplicate=Je;l.entries=ti;l.every=Ba;l.fieldIntersection=Xa;l.flatAccessWithDatum=Cb;l.getFirstDefined=O;l.hasIntersection=Pa;l.hash=Tb;l.internalField=ra;l.isBoolean=pa;l.isEmpty=Fa;l.isEqual=function(a,e){const f=
vd(a),k=vd(e);if(f.length!==k.length)return!1;for(const q of f)if(a[q]!==e[q])return!1;return!0};l.isInternalField=Oa;l.isNullOrFalse=Gb;l.isNumeric=va;l.keys=vd;l.logicalExpr=Ha;l.mergeDeep=jb;l.never=Zb;l.normalize=ph;l.normalizeAngle=ya;l.omit=nc;l.pick=gc;l.prefixGenerator=Va;l.removePathFromField=pb;l.replaceAll=kc;l.replacePathInField=Mb;l.resetIdCounter=function(){cj=42};l.setEqual=Ab;l.some=fc;l.stringify=Gf;l.titleCase=$a;l.unique=yb;l.uniqueId=oa;l.vals=mg;l.varName=Aa;l.version="5.2.0";
Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[54]=function(Hb,vb,Ac,ab){function x(){throw Error("setTimeout has not been defined");}function l(){throw Error("clearTimeout has not been defined");}function M(yb){if(Tb===setTimeout)return setTimeout(yb,0);if((Tb===x||!Tb)&&setTimeout)return Tb=setTimeout,setTimeout(yb,0);try{return Tb(yb,0)}catch(Ab){try{return Tb.call(null,yb,0)}catch(Pa){return Tb.call(this,yb,0)}}}function cb(yb){if(Gb===clearTimeout)return clearTimeout(yb);if((Gb===l||!Gb)&&clearTimeout)return Gb=clearTimeout,
clearTimeout(yb);try{return Gb(yb)}catch(Ab){try{return Gb.call(null,yb)}catch(Pa){return Gb.call(this,yb)}}}function zb(){fc&&Ba&&(fc=!1,Ba.length?Db=Ba.concat(Db):jb=-1,Db.length&&Zb())}function Zb(){if(!fc){var yb=M(zb);fc=!0;for(var Ab=Db.length;Ab;){Ba=Db;for(Db=[];++jb<Ab;)Ba&&Ba[jb].run();jb=-1;Ab=Db.length}Ba=null;fc=!1;cb(yb)}}function gc(yb,Ab){this.fun=yb;this.array=Ab}function nc(){}Hb=Ac.exports={};try{var Tb="function"===typeof setTimeout?setTimeout:x}catch(yb){Tb=x}try{var Gb="function"===
typeof clearTimeout?clearTimeout:l}catch(yb){Gb=l}var Db=[],fc=!1,Ba,jb=-1;Hb.nextTick=function(yb){var Ab=Array(arguments.length-1);if(1<arguments.length)for(var Pa=1;Pa<arguments.length;Pa++)Ab[Pa-1]=arguments[Pa];Db.push(new gc(yb,Ab));1!==Db.length||fc||M(Zb)};gc.prototype.run=function(){this.fun.apply(null,this.array)};Hb.title="browser";Hb.browser=!0;Hb.env={};Hb.argv=[];Hb.version="";Hb.versions={};Hb.on=nc;Hb.addListener=nc;Hb.once=nc;Hb.off=nc;Hb.removeListener=nc;Hb.removeAllListeners=nc;
Hb.emit=nc;Hb.prependListener=nc;Hb.prependOnceListener=nc;Hb.listeners=function(yb){return[]};Hb.binding=function(yb){throw Error("process.binding is not supported");};Hb.cwd=function(){return"/"};Hb.chdir=function(yb){throw Error("process.chdir is not supported");};Hb.umask=function(){return 0}};
shadow$provide[55]=function(Hb,vb,Ac,ab){var x=vb(54);(function(l,M){"object"===typeof ab&&"undefined"!==typeof Ac?Ac.exports=M(vb(52),vb(53)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],M):(l="undefined"!==typeof globalThis?globalThis:l||self,l.vegaEmbed=M(l.vega,l.vegaLite))})(this,function(l,M){function cb(F){if(F&&F.__esModule)return F;var Z=Object.create(null);F&&Object.keys(F).forEach(function(Da){if("default"!==Da){var hb=Object.getOwnPropertyDescriptor(F,Da);Object.defineProperty(Z,
Da,hb.get?hb:{enumerable:!0,get:function(){return F[Da]}})}});Z["default"]=F;return Object.freeze(Z)}function zb(F){if(Array.isArray(F)){F=Array(F.length);for(var Z=0;Z<F.length;Z++)F[Z]=""+Z;return F}if(Object.keys)return Object.keys(F);Z=[];for(var Da in F)H.call(F,Da)&&Z.push(Da);return Z}function Zb(F){switch(typeof F){case "object":return JSON.parse(JSON.stringify(F));case "undefined":return null;default:return F}}function gc(F){for(var Z=0,Da=F.length,hb;Z<Da;)if(hb=F.charCodeAt(Z),48<=hb&&
57>=hb)Z++;else return!1;return!0}function nc(F){return-1===F.indexOf("/")&&-1===F.indexOf("~")?F:F.replace(/~/g,"~0").replace(/\//g,"~1")}function Tb(F){return F.replace(/~1/g,"/").replace(/~0/g,"~")}function Gb(F){if(void 0===F)return!0;if(F)if(Array.isArray(F))for(var Z=0,Da=F.length;Z<Da;Z++){if(Gb(F[Z]))return!0}else if("object"===typeof F){Z=zb(F);Da=Z.length;for(var hb=0;hb<Da;hb++)if(Gb(F[Z[hb]]))return!0}return!1}function Db(F,Z){F=[F];for(var Da in Z){var hb="object"===typeof Z[Da]?JSON.stringify(Z[Da],
null,2):Z[Da];"undefined"!==typeof hb&&F.push(Da+": "+hb)}return F.join("\n")}function fc(F,Z){if(""==Z)return F;Z={op:"_get",path:Z};Ba(F,Z);return Z.value}function Ba(F,Z,Da,hb,Kb,uc){void 0===Da&&(Da=!1);void 0===hb&&(hb=!0);void 0===Kb&&(Kb=!0);void 0===uc&&(uc=0);Da&&("function"==typeof Da?Da(Z,0,F,Z.path):yb(Z,0));if(""===Z.path){Kb={newDocument:F};if("add"===Z.op)return Kb.newDocument=Z.value,Kb;if("replace"===Z.op)return Kb.newDocument=Z.value,Kb.removed=F,Kb;if("move"===Z.op||"copy"===Z.op)return Kb.newDocument=
fc(F,Z.from),"move"===Z.op&&(Kb.removed=F),Kb;if("test"===Z.op){Kb.test=Pa(F,Z.value);if(!1===Kb.test)throw new E("Test operation failed","TEST_OPERATION_FAILED",uc,Z,F);Kb.newDocument=F;return Kb}if("remove"===Z.op)return Kb.removed=F,Kb.newDocument=null,Kb;if("_get"===Z.op)return Z.value=F,Kb;if(Da)throw new E("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",uc,Z,F);return Kb}hb||(F=Zb(F));hb=(Z.path||"").split("/");var Ib=F,ma=1,Ga=hb.length,sb=void 0,
hc,Uc;for(Uc="function"==typeof Da?Da:yb;;){(hc=hb[ma])&&-1!=hc.indexOf("~")&&(hc=Tb(hc));if(Kb&&("__proto__"==hc||"prototype"==hc&&0<ma&&"constructor"==hb[ma-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Da&&void 0===sb&&(void 0===Ib[hc]?sb=hb.slice(0,ma).join("/"):ma==Ga-1&&(sb=Z.path),
void 0!==sb&&Uc(Z,0,F,sb));ma++;if(Array.isArray(Ib)){if("-"===hc)hc=Ib.length;else{if(Da&&!gc(hc))throw new E("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",uc,Z,F);gc(hc)&&(hc=~~hc)}if(ma>=Ga){if(Da&&"add"===Z.op&&hc>Ib.length)throw new E("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",uc,Z,F);Kb=z[Z.op].call(Z,Ib,hc,F);
if(!1===Kb.test)throw new E("Test operation failed","TEST_OPERATION_FAILED",uc,Z,F);return Kb}}else if(ma>=Ga){Kb=K[Z.op].call(Z,Ib,hc,F);if(!1===Kb.test)throw new E("Test operation failed","TEST_OPERATION_FAILED",uc,Z,F);return Kb}Ib=Ib[hc];if(Da&&ma<Ga&&(!Ib||"object"!==typeof Ib))throw new E("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",uc,Z,F);}}function jb(F,Z,Da,hb,Kb){void 0===hb&&(hb=!0);void 0===Kb&&(Kb=!0);if(Da&&!Array.isArray(Z))throw new E("Patch sequence must be an array",
"SEQUENCE_NOT_AN_ARRAY");hb||(F=Zb(F));hb=Array(Z.length);for(var uc=0,Ib=Z.length;uc<Ib;uc++)hb[uc]=Ba(F,Z[uc],Da,!0,Kb,uc),F=hb[uc].newDocument;hb.newDocument=F;return hb}function yb(F,Z,Da,hb){if("object"!==typeof F||null===F||Array.isArray(F))throw new E("Operation is not an object","OPERATION_NOT_AN_OBJECT",Z,F,Da);if(K[F.op]){if("string"!==typeof F.path)throw new E("Operation `path` property is not a string","OPERATION_PATH_INVALID",Z,F,Da);if(0!==F.path.indexOf("/")&&0<F.path.length)throw new E('Operation `path` property must start with "/"',
"OPERATION_PATH_INVALID",Z,F,Da);if("move"!==F.op&&"copy"!==F.op||"string"===typeof F.from)if("add"!==F.op&&"replace"!==F.op&&"test"!==F.op||void 0!==F.value){if(("add"===F.op||"replace"===F.op||"test"===F.op)&&Gb(F.value))throw new E("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",Z,F,Da);if(Da)if("add"==F.op){var Kb=F.path.split("/").length;hb=hb.split("/").length;if(Kb!==hb+1&&Kb!==hb)throw new E("Cannot perform an `add` operation at the desired path",
"OPERATION_PATH_CANNOT_ADD",Z,F,Da);}else if("replace"===F.op||"remove"===F.op||"_get"===F.op){if(F.path!==hb)throw new E("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Z,F,Da);}else if(("move"===F.op||"copy"===F.op)&&(Kb=Ab([{op:"_get",path:F.from,value:void 0}],Da))&&"OPERATION_PATH_UNRESOLVABLE"===Kb.name)throw new E("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Z,F,Da);}else throw new E("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",Z,F,Da);else throw new E("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Z,F,Da);}else throw new E("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Z,F,Da);}function Ab(F,Z,Da){try{if(!Array.isArray(F))throw new E("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Z)jb(Zb(Z),Zb(F),Da||!0);else{Da=Da||yb;for(var hb=0;hb<F.length;hb++)Da(F[hb],hb,Z,void 0)}}catch(Kb){if(Kb instanceof
E)return Kb;throw Kb;}}function Pa(F,Z){if(F===Z)return!0;if(F&&Z&&"object"==typeof F&&"object"==typeof Z){var Da=Array.isArray(F),hb=Array.isArray(Z);if(Da&&hb){var Kb=F.length;if(Kb!=Z.length)return!1;for(Da=Kb;0!==Da--;)if(!Pa(F[Da],Z[Da]))return!1;return!0}if(Da!=hb)return!1;hb=Object.keys(F);Kb=hb.length;if(Kb!==Object.keys(Z).length)return!1;for(Da=Kb;0!==Da--;)if(!Z.hasOwnProperty(hb[Da]))return!1;for(Da=Kb;0!==Da--;)if(Kb=hb[Da],!Pa(F[Kb],Z[Kb]))return!1;return!0}return F!==F&&Z!==Z}function Va(F,
Z){void 0===Z&&(Z=!1);var Da=X.get(F.object);Xa(Da.value,F.object,F.patches,"",Z);F.patches.length&&jb(Da.value,F.patches);Z=F.patches;0<Z.length&&(F.patches=[],F.callback&&F.callback(Z));return Z}function Xa(F,Z,Da,hb,Kb){if(Z!==F){"function"===typeof Z.toJSON&&(Z=Z.toJSON());for(var uc=zb(Z),Ib=zb(F),ma=!1,Ga=Ib.length-1;0<=Ga;Ga--){var sb=Ib[Ga],hc=F[sb];if(!H.call(Z,sb)||void 0===Z[sb]&&void 0!==hc&&!1===Array.isArray(Z))Array.isArray(F)===Array.isArray(Z)?(Kb&&Da.push({op:"test",path:hb+"/"+
nc(sb),value:Zb(hc)}),Da.push({op:"remove",path:hb+"/"+nc(sb)}),ma=!0):(Kb&&Da.push({op:"test",path:hb,value:F}),Da.push({op:"replace",path:hb,value:Z}));else{var Uc=Z[sb];"object"==typeof hc&&null!=hc&&"object"==typeof Uc&&null!=Uc&&Array.isArray(hc)===Array.isArray(Uc)?Xa(hc,Uc,Da,hb+"/"+nc(sb),Kb):hc!==Uc&&(Kb&&Da.push({op:"test",path:hb+"/"+nc(sb),value:Zb(hc)}),Da.push({op:"replace",path:hb+"/"+nc(sb),value:Zb(Uc)}))}}if(ma||uc.length!=Ib.length)for(Ga=0;Ga<uc.length;Ga++)sb=uc[Ga],H.call(F,
sb)||void 0===Z[sb]||Da.push({op:"add",path:hb+"/"+nc(sb),value:Zb(Z[sb])})}}function Fa(F){var Z=this;Z instanceof Fa||(Z=new Fa);Z.tail=null;Z.head=null;Z.length=0;if(F&&"function"===typeof F.forEach)F.forEach(function(Kb){Z.push(Kb)});else if(0<arguments.length)for(var Da=0,hb=arguments.length;Da<hb;Da++)Z.push(arguments[Da]);return Z}function pa(F,Z,Da,hb){if(!(this instanceof pa))return new pa(F,Z,Da,hb);this.list=hb;this.value=F;Z?(Z.next=this,this.prev=Z):this.prev=null;Da?(Da.prev=this,this.next=
Da):this.next=null}function Aa(){if(Ad)return Hd;Ad=1;const F=Symbol("SemVer ANY");class Z{static get ANY(){return F}constructor(sb,hc){hc=Da(hc);if(sb instanceof Z){if(sb.loose===!!hc.loose)return sb;sb=sb.value}Ib("comparator",sb,hc);this.options=hc;this.loose=!!hc.loose;this.parse(sb);this.value=this.semver===F?"":this.operator+this.semver.version;Ib("comp",this)}parse(sb){const hc=sb.match(this.options.loose?hb[Kb.COMPARATORLOOSE]:hb[Kb.COMPARATOR]);if(!hc)throw new TypeError("Invalid comparator: ".concat(sb));
this.operator=void 0!==hc[1]?hc[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=hc[2]?new ma(hc[2],this.options.loose):F}toString(){return this.value}test(sb){Ib("Comparator.test",sb,this.options.loose);if(this.semver===F||sb===F)return!0;if("string"===typeof sb)try{sb=new ma(sb,this.options)}catch(hc){return!1}return uc(sb,this.operator,this.semver,this.options)}intersects(sb,hc){if(!(sb instanceof Z))throw new TypeError("a Comparator is required");hc&&"object"===typeof hc||(hc={loose:!!hc,
includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new Ga(sb.value,hc)).test(this.value);if(""===sb.operator)return""===sb.value?!0:(new Ga(this.value,hc)).test(sb.semver);const Uc=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===sb.operator||"\x3e"===sb.operator),Vc=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===sb.operator||"\x3c"===sb.operator),rd=this.semver.version===sb.semver.version,ad=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&
("\x3e\x3d"===sb.operator||"\x3c\x3d"===sb.operator),Nd=uc(this.semver,"\x3c",sb.semver,hc)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===sb.operator||"\x3c"===sb.operator);sb=uc(this.semver,"\x3e",sb.semver,hc)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===sb.operator||"\x3e"===sb.operator);return Uc||Vc||rd&&ad||Nd||sb}}Hd=Z;const Da=ic,{re:hb,t:Kb}=xc.exports,uc=xd,Ib=B,ma=Dc,Ga=Ha();return Hd}function Ha(){if(ed)return Dd;ed=1;class F{constructor(Pc,
Gd){Gd=Da(Gd);if(Pc instanceof F)return Pc.loose===!!Gd.loose&&Pc.includePrerelease===!!Gd.includePrerelease?Pc:new F(Pc.raw,Gd);if(Pc instanceof hb)return this.raw=Pc.value,this.set=[[Pc]],this.format(),this;this.options=Gd;this.loose=!!Gd.loose;this.includePrerelease=!!Gd.includePrerelease;this.raw=Pc;this.set=Pc.split("||").map(cd=>this.parseRange(cd.trim())).filter(cd=>cd.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(Pc));if(1<this.set.length)if(Pc=this.set[0],
this.set=this.set.filter(cd=>"\x3c0.0.0-0"!==cd[0].value),0===this.set.length)this.set=[Pc];else if(1<this.set.length)for(const cd of this.set)if(1===cd.length&&""===cd[0].value){this.set=[cd];break}this.format()}format(){return this.range=this.set.map(Pc=>Pc.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(Pc){Pc=Pc.trim();var Gd=Object.keys(this.options).join(",");Gd="parseRange:".concat(Gd,":").concat(Pc);var cd=Z.get(Gd);if(cd)return cd;cd=this.options.loose;Pc=Pc.replace(cd?
Ib[ma.HYPHENRANGELOOSE]:Ib[ma.HYPHENRANGE],Ae(this.options.includePrerelease));Kb("hyphen replace",Pc);Pc=Pc.replace(Ib[ma.COMPARATORTRIM],Ga);Kb("comparator trim",Pc);Pc=Pc.replace(Ib[ma.TILDETRIM],sb);Pc=Pc.replace(Ib[ma.CARETTRIM],hc);Pc=Pc.split(/\s+/).join(" ");Pc=Pc.split(" ").map(fd=>{var sd=fd;fd=this.options;Kb("comp",sd,fd);sd=Nd(sd,fd);Kb("caret",sd);sd=rd(sd,fd);Kb("tildes",sd);sd=Rd(sd,fd);Kb("xrange",sd);Kb("replaceStars",sd,fd);sd=sd.trim().replace(Ib[ma.STAR],"");Kb("stars",sd);return sd}).join(" ").split(/\s+/).map(fd=>
{var sd=this.options;Kb("replaceGTE0",fd,sd);return fd.trim().replace(Ib[sd.includePrerelease?ma.GTE0PRE:ma.GTE0],"")});cd&&(Pc=Pc.filter(fd=>{Kb("loose invalid filter",fd,this.options);return!!fd.match(Ib[ma.COMPARATORLOOSE])}));Kb("range list",Pc);cd=new Map;Pc=Pc.map(fd=>new hb(fd,this.options));for(var qd of Pc){if("\x3c0.0.0-0"===qd.value)return[qd];cd.set(qd.value,qd)}1<cd.size&&cd.has("")&&cd.delete("");qd=[...cd.values()];Z.set(Gd,qd);return qd}intersects(Pc,Gd){if(!(Pc instanceof F))throw new TypeError("a Range is required");
return this.set.some(cd=>Uc(cd,Gd)&&Pc.set.some(qd=>Uc(qd,Gd)&&cd.every(fd=>qd.every(sd=>fd.intersects(sd,Gd)))))}test(Pc){if(!Pc)return!1;if("string"===typeof Pc)try{Pc=new uc(Pc,this.options)}catch(sd){return!1}for(let sd=0;sd<this.set.length;sd++){a:{var Gd=this.set[sd];var cd=Pc,qd=this.options;for(var fd=0;fd<Gd.length;fd++)if(!Gd[fd].test(cd)){Gd=!1;break a}if(cd.prerelease.length&&!qd.includePrerelease){for(qd=0;qd<Gd.length;qd++)if(Kb(Gd[qd].semver),Gd[qd].semver!==hb.ANY&&0<Gd[qd].semver.prerelease.length&&
(fd=Gd[qd].semver,fd.major===cd.major&&fd.minor===cd.minor&&fd.patch===cd.patch)){Gd=!0;break a}Gd=!1}else Gd=!0}if(Gd)return!0}return!1}}Dd=F;const Z=new Wb({max:1E3}),Da=ic,hb=Aa(),Kb=B,uc=Dc,{re:Ib,t:ma,comparatorTrimReplace:Ga,tildeTrimReplace:sb,caretTrimReplace:hc}=xc.exports,Uc=(Pc,Gd)=>{let cd=!0;Pc=Pc.slice();let qd=Pc.pop();for(;cd&&Pc.length;)cd=Pc.every(fd=>qd.intersects(fd,Gd)),qd=Pc.pop();return cd},Vc=Pc=>!Pc||"x"===Pc.toLowerCase()||"*"===Pc,rd=(Pc,Gd)=>Pc.trim().split(/\s+/).map(cd=>
ad(cd,Gd)).join(" "),ad=(Pc,Gd)=>Pc.replace(Gd.loose?Ib[ma.TILDELOOSE]:Ib[ma.TILDE],(cd,qd,fd,sd,Fd)=>{Kb("tilde",Pc,cd,qd,fd,sd,Fd);Vc(qd)?cd="":Vc(fd)?cd="\x3e\x3d".concat(qd,".0.0 \x3c").concat(+qd+1,".0.0-0"):Vc(sd)?cd="\x3e\x3d".concat(qd,".").concat(fd,".0 \x3c").concat(qd,".").concat(+fd+1,".0-0"):Fd?(Kb("replaceTilde pr",Fd),cd="\x3e\x3d".concat(qd,".").concat(fd,".").concat(sd,"-").concat(Fd," \x3c").concat(qd,".").concat(+fd+1,".0-0")):cd="\x3e\x3d".concat(qd,".").concat(fd,".").concat(sd,
" \x3c").concat(qd,".").concat(+fd+1,".0-0");Kb("tilde return",cd);return cd}),Nd=(Pc,Gd)=>Pc.trim().split(/\s+/).map(cd=>De(cd,Gd)).join(" "),De=(Pc,Gd)=>{Kb("caret",Pc,Gd);const cd=Gd.includePrerelease?"-0":"";return Pc.replace(Gd.loose?Ib[ma.CARETLOOSE]:Ib[ma.CARET],(qd,fd,sd,Fd,be)=>{Kb("caret",Pc,qd,fd,sd,Fd,be);Vc(fd)?qd="":Vc(sd)?qd="\x3e\x3d".concat(fd,".0.0").concat(cd," \x3c").concat(+fd+1,".0.0-0"):Vc(Fd)?qd="0"===fd?"\x3e\x3d".concat(fd,".").concat(sd,".0").concat(cd," \x3c").concat(fd,
".").concat(+sd+1,".0-0"):"\x3e\x3d".concat(fd,".").concat(sd,".0").concat(cd," \x3c").concat(+fd+1,".0.0-0"):be?(Kb("replaceCaret pr",be),qd="0"===fd?"0"===sd?"\x3e\x3d".concat(fd,".").concat(sd,".").concat(Fd,"-").concat(be," \x3c").concat(fd,".").concat(sd,".").concat(+Fd+1,"-0"):"\x3e\x3d".concat(fd,".").concat(sd,".").concat(Fd,"-").concat(be," \x3c").concat(fd,".").concat(+sd+1,".0-0"):"\x3e\x3d".concat(fd,".").concat(sd,".").concat(Fd,"-").concat(be," \x3c").concat(+fd+1,".0.0-0")):(Kb("no pr"),
qd="0"===fd?"0"===sd?"\x3e\x3d".concat(fd,".").concat(sd,".").concat(Fd).concat(cd," \x3c").concat(fd,".").concat(sd,".").concat(+Fd+1,"-0"):"\x3e\x3d".concat(fd,".").concat(sd,".").concat(Fd).concat(cd," \x3c").concat(fd,".").concat(+sd+1,".0-0"):"\x3e\x3d".concat(fd,".").concat(sd,".").concat(Fd," \x3c").concat(+fd+1,".0.0-0"));Kb("caret return",qd);return qd})},Rd=(Pc,Gd)=>{Kb("replaceXRanges",Pc,Gd);return Pc.split(/\s+/).map(cd=>fe(cd,Gd)).join(" ")},fe=(Pc,Gd)=>{Pc=Pc.trim();return Pc.replace(Gd.loose?
Ib[ma.XRANGELOOSE]:Ib[ma.XRANGE],(cd,qd,fd,sd,Fd,be)=>{Kb("xRange",Pc,cd,qd,fd,sd,Fd,be);const Ee=Vc(fd),Re=Ee||Vc(sd);Fd=Re||Vc(Fd);"\x3d"===qd&&Fd&&(qd="");be=Gd.includePrerelease?"-0":"";Ee?cd="\x3e"===qd||"\x3c"===qd?"\x3c0.0.0-0":"*":qd&&Fd?(Re&&(sd=0),Fd=0,"\x3e"===qd?(qd="\x3e\x3d",Re?(fd=+fd+1,sd=0):sd=+sd+1,Fd=0):"\x3c\x3d"===qd&&(qd="\x3c",Re?fd=+fd+1:sd=+sd+1),"\x3c"===qd&&(be="-0"),cd="".concat(qd+fd,".").concat(sd,".").concat(Fd).concat(be)):Re?cd="\x3e\x3d".concat(fd,".0.0").concat(be,
" \x3c").concat(+fd+1,".0.0-0"):Fd&&(cd="\x3e\x3d".concat(fd,".").concat(sd,".0").concat(be," \x3c").concat(fd,".").concat(+sd+1,".0-0"));Kb("xRange return",cd);return cd})},Ae=Pc=>(Gd,cd,qd,fd,sd,Fd,be,Ee,Re,ff,jf,gd,Rc)=>{cd=Vc(qd)?"":Vc(fd)?"\x3e\x3d".concat(qd,".0.0").concat(Pc?"-0":""):Vc(sd)?"\x3e\x3d".concat(qd,".").concat(fd,".0").concat(Pc?"-0":""):Fd?"\x3e\x3d".concat(cd):"\x3e\x3d".concat(cd).concat(Pc?"-0":"");Ee=Vc(Re)?"":Vc(ff)?"\x3c".concat(+Re+1,".0.0-0"):Vc(jf)?"\x3c".concat(Re,".").concat(+ff+
1,".0-0"):gd?"\x3c\x3d".concat(Re,".").concat(ff,".").concat(jf,"-").concat(gd):Pc?"\x3c".concat(Re,".").concat(ff,".").concat(+jf+1,"-0"):"\x3c\x3d".concat(Ee);return"".concat(cd," ").concat(Ee).trim()};return Dd}function bb(F,Z,Da,hb,Kb,uc){const Ib=ma=>Bb[ma.type](Ib,ma);Ib.memberDepth=0;Ib.fn=Object.create(Z);Ib.params=Da;Ib.datum=hb;Ib.event=Kb;Ib.item=uc;qb.forEach(ma=>Ib.fn[ma]=function(){return Kb.vega[ma](...arguments)});return Ib(F)}function $a(F){const [Z,Da]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(F).slice(1,
3);return{library:Z,version:Da}}function Ca(F,Z,Da){F.fields=Z||[];F.fname=Da;return F}function Cb(F){return 1===F.length?Ic(F[0]):$c(F)}function xb(F){function Z(){Da.push(Ib+F.substring(ma,Ga));Ib="";ma=Ga+1}const Da=[],hb=F.length;let Kb=null,uc=0,Ib="",ma,Ga,sb;F+="";for(ma=Ga=0;Ga<hb;++Ga)if(sb=F[Ga],"\\"===sb)Ib+=F.substring(ma,Ga),Ib+=F.substring(++Ga,++Ga),ma=Ga;else if(sb===Kb)Z(),Kb=null,uc=-1;else if(!Kb)if(ma===uc&&'"'===sb)ma=Ga+1,Kb=sb;else if(ma===uc&&"'"===sb)ma=Ga+1,Kb=sb;else if("."===
sb&&!uc)Ga>ma?Z():ma=Ga+1;else if("["===sb)Ga>ma&&Z(),uc=ma=Ga+1;else if("]"===sb){if(!uc)throw Error("Access path missing open bracket: "+F);0<uc&&Z();uc=0;ma=Ga+1}if(uc)throw Error("Access path missing closing bracket: "+F);if(Kb)throw Error("Access path missing closing quote: "+F);Ga>ma&&(Ga++,Z());return Da}function Mb(F,Z){var Da={},hb;for(hb in F)Object.prototype.hasOwnProperty.call(F,hb)&&0>Z.indexOf(hb)&&(Da[hb]=F[hb]);if(null!=F&&"function"===typeof Object.getOwnPropertySymbols){var Kb=0;
for(hb=Object.getOwnPropertySymbols(F);Kb<hb.length;Kb++)0>Z.indexOf(hb[Kb])&&Object.prototype.propertyIsEnumerable.call(F,hb[Kb])&&(Da[hb[Kb]]=F[hb[Kb]])}return Da}function kc(F){const Z=[];return function(Da,hb){if("object"!==typeof hb||null===hb)return hb;Da=Z.indexOf(this)+1;Z.length=Da;if(Z.length>F)return"[Object]";if(0<=Z.indexOf(hb))return"[Circular]";Z.push(hb);return hb}}function pb(F,Z,Da){function hb(Ga){Ga.source===uc&&(ma=0,F.removeEventListener("message",hb,!1))}function Kb(){0>=ma||
(uc.postMessage(Da,Ib),setTimeout(Kb,250),--ma)}const uc=F.open(Z),{origin:Ib}=new URL(Z);let ma=40;F.addEventListener("message",hb,!1);setTimeout(Kb,250)}function ca(F){for(var Z=arguments.length,Da=Array(1<Z?Z-1:0),hb=1;hb<Z;hb++)Da[hb-1]=arguments[hb];for(const Kb of Da){Z=F;Da=Kb;for(const uc of Object.keys(Da))l.writeConfig(Z,uc,Da[uc],!0)}return F}function O(F,Z,Da,hb){Z="\x3chtml\x3e\x3chead\x3e".concat(Z,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');Da="\x3c/code\x3e\x3c/pre\x3e".concat(Da,
"\x3c/body\x3e\x3c/html\x3e");const Kb=window.open("");Kb.document.write(Z+F+Da);Kb.document.title="".concat(hf[hb]," JSON Source")}function oa(F,Z){if(F.$schema){F=$a(F.$schema);if(Z&&Z!==F.library){var Da;console.warn("The given visualization spec is written in ".concat(hf[F.library],", but mode argument sets ").concat(null!==(Da=hf[Z])&&void 0!==Da?Da:Z,"."))}Z=F.library;ve(Ne[Z],"^".concat(F.version.slice(1)))||console.warn("The input spec uses ".concat(hf[Z]," ").concat(F.version,", but the current version of ").concat(hf[Z],
" is v").concat(Ne[Z],"."));return Z}return"mark"in F||"encoding"in F||"layer"in F||"hconcat"in F||"vconcat"in F||"facet"in F||"repeat"in F?"vega-lite":"marks"in F||"signals"in F||"scales"in F||"axes"in F?"vega":null!==Z&&void 0!==Z?Z:"vega"}function ra(F){return F&&"load"in F?F:ke.loader(F)}function Oa(F,Z){const Da=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var hb,Kb,uc=2<Da.length&&void 0!==Da[2]?Da[2]:{};let Ib,ma;l.isString(Z)?(ma=ra(uc.loader),Ib=JSON.parse(yield ma.load(Z))):
Ib=Z;var Ga,sb,hc=null!==(Ga=null===(sb=Ib.usermeta)||void 0===sb?void 0:sb.embedOptions)&&void 0!==Ga?Ga:{};l.isString(hc.defaultStyle)&&(hc.defaultStyle=!1);Ga=hc.loader;if(!ma||Ga){var Uc;ma=ra(null!==(Uc=uc.loader)&&void 0!==Uc?Uc:Ga)}hc=yield ya(hc,ma);uc=yield ya(uc,ma);uc=Object.assign({},ca(uc,hc),{config:l.mergeConfig(null!==(hb=uc.config)&&void 0!==hb?hb:{},null!==(Kb=hc.config)&&void 0!==Kb?Kb:{})});return yield m(F,Ib,uc,ma)})}function ya(F,Z){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Da;
const hb=l.isString(F.config)?JSON.parse(yield Z.load(F.config)):null!==(Da=F.config)&&void 0!==Da?Da:{};Da=l.isString(F.patch)?JSON.parse(yield Z.load(F.patch)):F.patch;return Object.assign({},F,Da?{patch:Da}:{},hb?{config:hb}:{})})}function va(F){var Z;F=F.getRootNode?F.getRootNode():document;return F instanceof ShadowRoot?{root:F,rootContainer:F}:{root:document,rootContainer:null!==(Z=document.head)&&void 0!==Z?Z:document.body}}function m(F,Z){const Da=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var hb,
Kb,uc,Ib,ma,Ga,sb;let hc=2<Da.length&&void 0!==Da[2]?Da[2]:{};var Uc=3<Da.length?Da[3]:void 0;const Vc=hc.theme?l.mergeConfig(zc[hc.theme],null!==(hb=hc.config)&&void 0!==hb?hb:{}):hc.config;hb=l.isBoolean(hc.actions)?hc.actions:ca({},Ve,null!==(Kb=hc.actions)&&void 0!==Kb?Kb:{});Kb=Object.assign({},Pe,hc.i18n);const rd=null!==(uc=hc.renderer)&&void 0!==uc?uc:"canvas";uc=null!==(Ib=hc.logLevel)&&void 0!==Ib?Ib:ke.Warn;Ib=null!==(ma=hc.downloadFileName)&&void 0!==ma?ma:"visualization";ma="string"===
typeof F?document.querySelector(F):F;if(!ma)throw Error("".concat(F," does not exist"));if(!1!==hc.defaultStyle){const {root:cd,rootContainer:qd}=va(ma);if(!cd.getElementById("vega-embed-style")){var ad=document.createElement("style");ad.id="vega-embed-style";ad.innerHTML=void 0===hc.defaultStyle||!0===hc.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
hc.defaultStyle;qd.appendChild(ad)}}const Nd=oa(Z,hc.mode);let De=ne[Nd](Z,Vc);"vega-lite"===Nd&&De.$schema&&(ad=$a(De.$schema),ve(Ne.vega,"^".concat(ad.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(ad.version,", but current version is v").concat(Ne.vega,".")));ma.classList.add("vega-embed");hb&&ma.classList.add("has-actions");ma.innerHTML="";let Rd=ma;hb&&(ad=document.createElement("div"),ad.classList.add("chart-wrapper"),ma.appendChild(ad),Rd=ad);(ad=hc.patch)&&(De=ad instanceof
Function?ad(De):jb(De,ad,!0,!1).newDocument);hc.formatLocale&&ke.formatLocale(hc.formatLocale);hc.timeFormatLocale&&ke.timeFormatLocale(hc.timeFormatLocale);if(hc.expressionFunctions)for(var fe in hc.expressionFunctions)ad=hc.expressionFunctions[fe],"fn"in ad?ke.expressionFunction(fe,ad.fn,ad.visitor):ad instanceof Function&&ke.expressionFunction(fe,ad);({ast:fe}=hc);ad=ke.parse(De,"vega-lite"===Nd?{}:Vc,{ast:fe});const Ae=new (hc.viewClass||ke.View)(ad,Object.assign({},{loader:Uc,logLevel:uc,renderer:rd},
fe?{expr:null!==(Ga=null!==(sb=ke.expressionInterpreter)&&void 0!==sb?sb:hc.expr)&&void 0!==Ga?Ga:ac}:{}));Ae.addSignalListener("autosize",(cd,qd)=>{({type:cd}=qd);"fit-x"==cd?(Rd.classList.add("fit-x"),Rd.classList.remove("fit-y")):"fit-y"==cd?(Rd.classList.remove("fit-x"),Rd.classList.add("fit-y")):"fit"==cd?Rd.classList.add("fit-x","fit-y"):Rd.classList.remove("fit-x","fit-y")});!1!==hc.tooltip&&(Ga="function"===typeof hc.tooltip?hc.tooltip:(new Ed(!0===hc.tooltip?{}:hc.tooltip)).call,Ae.tooltip(Ga));
({hover:Ga}=hc);void 0===Ga&&(Ga="vega"===Nd);if(Ga){const {hoverSet:cd,updateSet:qd}="boolean"===typeof Ga?{}:Ga;Ae.hover(cd,qd)}hc&&(null!=hc.width&&Ae.width(hc.width),null!=hc.height&&Ae.height(hc.height),null!=hc.padding&&Ae.padding(hc.padding));yield Ae.initialize(Rd,hc.bind).runAsync();let Pc;if(!1!==hb){sb=ma;if(!1!==hc.defaultStyle){const cd=document.createElement("details");cd.title=Kb.CLICK_TO_VIEW_ACTIONS;ma.append(cd);sb=cd;Ga=document.createElement("summary");Ga.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
cd.append(Ga);Pc=qd=>{cd.contains(qd.target)||cd.removeAttribute("open")};document.addEventListener("click",Pc)}Ga=document.createElement("div");sb.append(Ga);Ga.classList.add("vega-actions");if(!0===hb||!1!==hb.export)for(const cd of["svg","png"])if(!0===hb||!0===hb.export||hb.export[cd])sb=Kb["".concat(cd.toUpperCase(),"_ACTION")],Uc=document.createElement("a"),Uc.text=sb,Uc.href="#",Uc.target="_blank",Uc.download="".concat(Ib,".").concat(cd),Uc.addEventListener("mousedown",function(qd){const fd=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){qd.preventDefault();const sd=yield Ae.toImageURL(cd,hc.scaleFactor);fd.href=sd})}),Ga.append(Uc);if(!0===hb||!1!==hb.source)Ib=document.createElement("a"),Ib.text=Kb.SOURCE_ACTION,Ib.href="#",Ib.addEventListener("click",function(cd){var qd,fd;O(R(Z),null!==(qd=hc.sourceHeader)&&void 0!==qd?qd:"",null!==(fd=hc.sourceFooter)&&void 0!==fd?fd:"",Nd);cd.preventDefault()}),Ga.append(Ib);"vega-lite"!==Nd||!0!==hb&&!1===hb.compiled||(Ib=
document.createElement("a"),Ib.text=Kb.COMPILED_ACTION,Ib.href="#",Ib.addEventListener("click",function(cd){var qd,fd;O(R(De),null!==(qd=hc.sourceHeader)&&void 0!==qd?qd:"",null!==(fd=hc.sourceFooter)&&void 0!==fd?fd:"","vega");cd.preventDefault()}),Ga.append(Ib));if(!0===hb||!1!==hb.editor){var Gd;const cd=null!==(Gd=hc.editorUrl)&&void 0!==Gd?Gd:"https://vega.github.io/editor/";Gd=document.createElement("a");Gd.text=Kb.EDITOR_ACTION;Gd.href="#";Gd.addEventListener("click",function(qd){pb(window,
cd,{config:Vc,mode:Nd,renderer:rd,spec:R(Z)});qd.preventDefault()});Ga.append(Gd)}}return{view:Ae,spec:Z,vgSpec:De,finalize:function(){Pc&&document.removeEventListener("click",Pc);Ae.finalize()},embedOptions:hc}})}function G(F){const Z=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Da;let hb=1<Z.length&&void 0!==Z[1]?Z[1]:{};const Kb=document.createElement("div");Kb.classList.add("vega-embed-wrapper");const uc=document.createElement("div");Kb.appendChild(uc);const Ib=
!0===hb.actions||!1===hb.actions?hb.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(Da=hb.actions)&&void 0!==Da?Da:{});Da=yield Oa(uc,F,Object.assign({},{actions:Ib},null!==hb&&void 0!==hb?hb:{}));Kb.value=Da.view;return Kb})}var Q=cb(l),y=cb(M),t=function(){var F=function(Z,Da){F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(hb,Kb){hb.__proto__=Kb}||function(hb,Kb){for(var uc in Kb)Kb.hasOwnProperty(uc)&&(hb[uc]=Kb[uc])};return F(Z,Da)};return function(Z,
Da){function hb(){this.constructor=Z}F(Z,Da);Z.prototype=null===Da?Object.create(Da):(hb.prototype=Da.prototype,new hb)}}(),H=Object.prototype.hasOwnProperty,V=function(F){function Z(Da,hb,Kb,uc,Ib){var ma=this.constructor,Ga=F.call(this,Db(Da,{name:hb,index:Kb,operation:uc,tree:Ib}))||this;Ga.name=hb;Ga.index=Kb;Ga.operation=uc;Ga.tree=Ib;Object.setPrototypeOf(Ga,ma.prototype);Ga.message=Db(Da,{name:hb,index:Kb,operation:uc,tree:Ib});return Ga}t(Z,F);return Z}(Error),E=V,K={add:function(F,Z,Da){F[Z]=
this.value;return{newDocument:Da}},remove:function(F,Z,Da){var hb=F[Z];delete F[Z];return{newDocument:Da,removed:hb}},replace:function(F,Z,Da){var hb=F[Z];F[Z]=this.value;return{newDocument:Da,removed:hb}},move:function(F,Z,Da){(F=fc(Da,this.path))&&(F=Zb(F));Z=Ba(Da,{op:"remove",path:this.from}).removed;Ba(Da,{op:"add",path:this.path,value:Z});return{newDocument:Da,removed:F}},copy:function(F,Z,Da){F=fc(Da,this.from);Ba(Da,{op:"add",path:this.path,value:Zb(F)});return{newDocument:Da}},test:function(F,
Z,Da){return{newDocument:Da,test:Pa(F[Z],this.value)}},_get:function(F,Z,Da){this.value=F[Z];return{newDocument:Da}}},z={add:function(F,Z,Da){gc(Z)?F.splice(Z,0,this.value):F[Z]=this.value;return{newDocument:Da,index:Z}},remove:function(F,Z,Da){F=F.splice(Z,1);return{newDocument:Da,removed:F[0]}},replace:function(F,Z,Da){var hb=F[Z];F[Z]=this.value;return{newDocument:Da,removed:hb}},move:K.move,copy:K.copy,test:K.test,_get:K._get},L=Object.freeze({__proto__:null,JsonPatchError:E,deepClone:Zb,getValueByPointer:fc,
applyOperation:Ba,applyPatch:jb,applyReducer:function(F,Z,Da){var hb=Ba(F,Z);if(!1===hb.test)throw new E("Test operation failed","TEST_OPERATION_FAILED",Da,Z,F);return hb.newDocument},validator:yb,validate:Ab,_areEquals:Pa}),X=new WeakMap,qa=function(){return function(F){this.observers=new Map;this.obj=F}}(),T=function(){return function(F,Z){this.callback=F;this.observer=Z}}(),la=Object.freeze({__proto__:null,unobserve:function(F,Z){Z.unobserve()},observe:function(F,Z){var Da=X.get(F);if(Da){var hb=
Da.observers.get(Z);var Kb=hb&&hb.observer}else Da=new qa(F),X.set(F,Da);if(Kb)return Kb;Kb={};Da.value=Zb(F);if(Z){Kb.callback=Z;Kb.next=null;var uc=function(){Va(Kb)},Ib=function(){clearTimeout(Kb.next);Kb.next=setTimeout(uc)};"undefined"!==typeof window&&(window.addEventListener("mouseup",Ib),window.addEventListener("keyup",Ib),window.addEventListener("mousedown",Ib),window.addEventListener("keydown",Ib),window.addEventListener("change",Ib))}Kb.patches=[];Kb.object=F;Kb.unobserve=function(){Va(Kb);
clearTimeout(Kb.next);Da.observers.delete(Kb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Ib),window.removeEventListener("keyup",Ib),window.removeEventListener("mousedown",Ib),window.removeEventListener("keydown",Ib),window.removeEventListener("change",Ib))};Da.observers.set(Z,new T(Z,Kb));return Kb},generate:Va,compare:function(F,Z,Da){void 0===Da&&(Da=!1);var hb=[];Xa(F,Z,hb,"",Da);return hb}});Object.assign({},L,la,{JsonPatchError:V,deepClone:Zb,escapePathComponent:nc,
unescapePathComponent:Tb});var xa=/("(?:[^\\"]|\\.)*")|[:,]/g,R=function(F,Z){Z=Z||{};var Da=JSON.stringify([1],void 0,void 0===Z.indent?2:Z.indent).slice(2,-3);var hb=""===Da?Infinity:void 0===Z.maxLength?80:Z.maxLength;var Kb=Z.replacer;return function sb(Ib,ma,Ga){Ib&&"function"===typeof Ib.toJSON&&(Ib=Ib.toJSON());var hc=JSON.stringify(Ib,Kb);if(void 0===hc)return hc;Ga=hb-ma.length-Ga;if(hc.length<=Ga){var Uc=hc.replace(xa,function(Ae,Pc){return Pc||Ae+" "});if(Uc.length<=Ga)return Uc}null!=
Kb&&(Ib=JSON.parse(hc),Kb=void 0);if("object"===typeof Ib&&null!==Ib){var Vc=ma+Da;var rd=[];var ad=0;if(Array.isArray(Ib)){var Nd="[";Uc="]";for(Ga=Ib.length;ad<Ga;ad++)rd.push(sb(Ib[ad],Vc,ad===Ga-1?0:1)||"null")}else{Nd="{";Uc="}";var De=Object.keys(Ib);for(Ga=De.length;ad<Ga;ad++){var Rd=De[ad];var fe=JSON.stringify(Rd)+": ";Rd=sb(Ib[Rd],Vc,fe.length+(ad===Ga-1?0:1));void 0!==Rd&&rd.push(fe+Rd)}}if(0<rd.length)return[Nd,Da+rd.join(",\n"+Vc),Uc].join("\n"+ma)}return hc}(F,"",0)};Fa.Node=pa;Fa.create=
Fa;Fa.prototype.removeNode=function(F){if(F.list!==this)throw Error("removing node which does not belong to this list");var Z=F.next,Da=F.prev;Z&&(Z.prev=Da);Da&&(Da.next=Z);F===this.head&&(this.head=Z);F===this.tail&&(this.tail=Da);F.list.length--;F.next=null;F.prev=null;F.list=null;return Z};Fa.prototype.unshiftNode=function(F){if(F!==this.head){F.list&&F.list.removeNode(F);var Z=this.head;F.list=this;if(F.next=Z)Z.prev=F;this.head=F;this.tail||(this.tail=F);this.length++}};Fa.prototype.pushNode=
function(F){if(F!==this.tail){F.list&&F.list.removeNode(F);var Z=this.tail;F.list=this;if(F.prev=Z)Z.next=F;this.tail=F;this.head||(this.head=F);this.length++}};Fa.prototype.push=function(){for(var F=0,Z=arguments.length;F<Z;F++)this.tail=new pa(arguments[F],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};Fa.prototype.unshift=function(){for(var F=0,Z=arguments.length;F<Z;F++)this.head=new pa(arguments[F],null,this.head,this),this.tail||(this.tail=this.head),
this.length++;return this.length};Fa.prototype.pop=function(){if(this.tail){var F=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return F}};Fa.prototype.shift=function(){if(this.head){var F=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return F}};Fa.prototype.forEach=function(F,Z){Z=Z||this;for(var Da=this.head,hb=0;null!==Da;hb++)F.call(Z,Da.value,hb,this),Da=Da.next};Fa.prototype.forEachReverse=function(F,
Z){Z=Z||this;for(var Da=this.tail,hb=this.length-1;null!==Da;hb--)F.call(Z,Da.value,hb,this),Da=Da.prev};Fa.prototype.get=function(F){for(var Z=0,Da=this.head;null!==Da&&Z<F;Z++)Da=Da.next;if(Z===F&&null!==Da)return Da.value};Fa.prototype.getReverse=function(F){for(var Z=0,Da=this.tail;null!==Da&&Z<F;Z++)Da=Da.prev;if(Z===F&&null!==Da)return Da.value};Fa.prototype.map=function(F,Z){Z=Z||this;for(var Da=new Fa,hb=this.head;null!==hb;)Da.push(F.call(Z,hb.value,this)),hb=hb.next;return Da};Fa.prototype.mapReverse=
function(F,Z){Z=Z||this;for(var Da=new Fa,hb=this.tail;null!==hb;)Da.push(F.call(Z,hb.value,this)),hb=hb.prev;return Da};Fa.prototype.reduce=function(F,Z){var Da=this.head;if(1<arguments.length)var hb=Z;else if(this.head)Da=this.head.next,hb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Kb=0;null!==Da;Kb++)hb=F(hb,Da.value,Kb),Da=Da.next;return hb};Fa.prototype.reduceReverse=function(F,Z){var Da=this.tail;if(1<arguments.length)var hb=Z;else if(this.tail)Da=
this.tail.prev,hb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Kb=this.length-1;null!==Da;Kb--)hb=F(hb,Da.value,Kb),Da=Da.prev;return hb};Fa.prototype.toArray=function(){for(var F=Array(this.length),Z=0,Da=this.head;null!==Da;Z++)F[Z]=Da.value,Da=Da.next;return F};Fa.prototype.toArrayReverse=function(){for(var F=Array(this.length),Z=0,Da=this.tail;null!==Da;Z++)F[Z]=Da.value,Da=Da.prev;return F};Fa.prototype.slice=function(F,Z){Z=Z||this.length;0>
Z&&(Z+=this.length);F=F||0;0>F&&(F+=this.length);var Da=new Fa;if(Z<F||0>Z)return Da;0>F&&(F=0);Z>this.length&&(Z=this.length);for(var hb=0,Kb=this.head;null!==Kb&&hb<F;hb++)Kb=Kb.next;for(;null!==Kb&&hb<Z;hb++,Kb=Kb.next)Da.push(Kb.value);return Da};Fa.prototype.sliceReverse=function(F,Z){Z=Z||this.length;0>Z&&(Z+=this.length);F=F||0;0>F&&(F+=this.length);var Da=new Fa;if(Z<F||0>Z)return Da;0>F&&(F=0);Z>this.length&&(Z=this.length);for(var hb=this.length,Kb=this.tail;null!==Kb&&hb>Z;hb--)Kb=Kb.prev;
for(;null!==Kb&&hb>F;hb--,Kb=Kb.prev)Da.push(Kb.value);return Da};Fa.prototype.splice=function(F,Z){F>this.length&&(F=this.length-1);0>F&&(F=this.length+F);for(var Da=0,hb=this.head;null!==hb&&Da<F;Da++)hb=hb.next;var Kb=[];for(Da=0;hb&&Da<Z;Da++)Kb.push(hb.value),hb=this.removeNode(hb);null===hb&&(hb=this.tail);hb!==this.head&&hb!==this.tail&&(hb=hb.prev);for(Da=0;Da<(2>=arguments.length?0:arguments.length-2);Da++){var uc=2>Da+2||arguments.length<=Da+2?void 0:arguments[Da+2];hb=hb===this.head?new pa(uc,
null,hb,this):new pa(uc,hb,hb.next,this);null===hb.next&&(this.tail=hb);null===hb.prev&&(this.head=hb);this.length++}return Kb};Fa.prototype.reverse=function(){for(var F=this.head,Z=this.tail,Da=F;null!==Da;Da=Da.prev){var hb=Da.prev;Da.prev=Da.next;Da.next=hb}this.head=Z;this.tail=F;return this};try{Fa.prototype[Symbol.iterator]=function*(){for(let F=this.head;F;F=F.next)yield F.value}}catch(F){}const ka=Symbol("max"),Ka=Symbol("length"),kb=Symbol("lengthCalculator"),Za=Symbol("allowStale"),mb=Symbol("maxAge"),
Ra=Symbol("dispose"),Ob=Symbol("noDisposeOnSet"),mc=Symbol("lruList"),Lc=Symbol("cache"),wc=Symbol("updateAgeOnGet"),tc=()=>1;class jc{constructor(F){"number"===typeof F&&(F={max:F});F||(F={});if(F.max&&("number"!==typeof F.max||0>F.max))throw new TypeError("max must be a non-negative number");this[ka]=F.max||Infinity;const Z=F.length||tc;this[kb]="function"!==typeof Z?tc:Z;this[Za]=F.stale||!1;if(F.maxAge&&"number"!==typeof F.maxAge)throw new TypeError("maxAge must be a number");this[mb]=F.maxAge||
0;this[Ra]=F.dispose;this[Ob]=F.noDisposeOnSet||!1;this[wc]=F.updateAgeOnGet||!1;this.reset()}set max(F){if("number"!==typeof F||0>F)throw new TypeError("max must be a non-negative number");this[ka]=F||Infinity;Ea(this)}get max(){return this[ka]}set allowStale(F){this[Za]=!!F}get allowStale(){return this[Za]}set maxAge(F){if("number"!==typeof F)throw new TypeError("maxAge must be a non-negative number");this[mb]=F;Ea(this)}get maxAge(){return this[mb]}set lengthCalculator(F){"function"!==typeof F&&
(F=tc);F!==this[kb]&&(this[kb]=F,this[Ka]=0,this[mc].forEach(Z=>{Z.length=this[kb](Z.value,Z.key);this[Ka]+=Z.length}));Ea(this)}get lengthCalculator(){return this[kb]}get length(){return this[Ka]}get itemCount(){return this[mc].length}rforEach(F,Z){Z=Z||this;for(let Da=this[mc].tail;null!==Da;){const hb=Da.prev;Fb(this,F,Da,Z);Da=hb}}forEach(F,Z){Z=Z||this;for(let Da=this[mc].head;null!==Da;){const hb=Da.next;Fb(this,F,Da,Z);Da=hb}}keys(){return this[mc].toArray().map(F=>F.key)}values(){return this[mc].toArray().map(F=>
F.value)}reset(){this[Ra]&&this[mc]&&this[mc].length&&this[mc].forEach(F=>this[Ra](F.key,F.value));this[Lc]=new Map;this[mc]=new Fa;this[Ka]=0}dump(){return this[mc].map(F=>Ta(this,F)?!1:{k:F.key,v:F.value,e:F.now+(F.maxAge||0)}).toArray().filter(F=>F)}dumpLru(){return this[mc]}set(F,Z,Da){if((Da=Da||this[mb])&&"number"!==typeof Da)throw new TypeError("maxAge must be a number");const hb=Da?Date.now():0,Kb=this[kb](Z,F);if(this[Lc].has(F)){if(Kb>this[ka])return ob(this,this[Lc].get(F)),!1;const uc=
this[Lc].get(F).value;if(this[Ra]&&!this[Ob])this[Ra](F,uc.value);uc.now=hb;uc.maxAge=Da;uc.value=Z;this[Ka]+=Kb-uc.length;uc.length=Kb;this.get(F);Ea(this);return!0}Da=new lb(F,Z,Kb,hb,Da);if(Da.length>this[ka]){if(this[Ra])this[Ra](F,Z);return!1}this[Ka]+=Da.length;this[mc].unshift(Da);this[Lc].set(F,this[mc].head);Ea(this);return!0}has(F){if(!this[Lc].has(F))return!1;F=this[Lc].get(F).value;return!Ta(this,F)}get(F){return Sc(this,F,!0)}peek(F){return Sc(this,F,!1)}pop(){const F=this[mc].tail;if(!F)return null;
ob(this,F);return F.value}del(F){ob(this,this[Lc].get(F))}load(F){this.reset();const Z=Date.now();for(let hb=F.length-1;0<=hb;hb--){const Kb=F[hb];var Da=Kb.e||0;0===Da?this.set(Kb.k,Kb.v):(Da-=Z,0<Da&&this.set(Kb.k,Kb.v,Da))}}prune(){this[Lc].forEach((F,Z)=>Sc(this,Z,!1))}}const Sc=(F,Z,Da)=>{if(Z=F[Lc].get(Z)){const hb=Z.value;if(Ta(F,hb)){if(ob(F,Z),!F[Za])return}else Da&&(F[wc]&&(Z.value.now=Date.now()),F[mc].unshiftNode(Z));return hb.value}},Ta=(F,Z)=>{if(!Z||!Z.maxAge&&!F[mb])return!1;const Da=
Date.now()-Z.now;return Z.maxAge?Da>Z.maxAge:F[mb]&&Da>F[mb]},Ea=F=>{if(F[Ka]>F[ka])for(let Z=F[mc].tail;F[Ka]>F[ka]&&null!==Z;){const Da=Z.prev;ob(F,Z);Z=Da}},ob=(F,Z)=>{if(Z){const Da=Z.value;if(F[Ra])F[Ra](Da.key,Da.value);F[Ka]-=Da.length;F[Lc].delete(Da.key);F[mc].removeNode(Z)}};class lb{constructor(F,Z,Da,hb,Kb){this.key=F;this.value=Z;this.length=Da;this.now=hb;this.maxAge=Kb||0}}const Fb=(F,Z,Da,hb)=>{let Kb=Da.value;Ta(F,Kb)&&(ob(F,Da),F[Za]||(Kb=void 0));Kb&&Z.call(hb,Kb.value,Kb.key,F)};
var Wb=jc;const Xb=["includePrerelease","loose","rtl"];var ic=F=>F?"object"!==typeof F?{loose:!0}:Xb.filter(Z=>F[Z]).reduce((Z,Da)=>{Z[Da]=!0;return Z},{}):{},xc={exports:{}},kd={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},B="object"===typeof x&&x.env&&x.env.NODE_DEBUG&&/\bsemver\b/i.test(x.env.NODE_DEBUG)?function(){for(var F=arguments.length,Z=Array(F),Da=0;Da<F;Da++)Z[Da]=arguments[Da];return console.error("SEMVER",
...Z)}:()=>{};(function(F,Z){const {MAX_SAFE_COMPONENT_LENGTH:Da}=kd,hb=B;Z=F.exports={};const Kb=Z.re=[],uc=Z.src=[],Ib=Z.t={};let ma=0;F=(Ga,sb,hc)=>{const Uc=ma++;hb(Ga,Uc,sb);Ib[Ga]=Uc;uc[Uc]=sb;Kb[Uc]=new RegExp(sb,hc?"g":void 0)};F("NUMERICIDENTIFIER","0|[1-9]\\d*");F("NUMERICIDENTIFIERLOOSE","[0-9]+");F("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");F("MAINVERSION","(".concat(uc[Ib.NUMERICIDENTIFIER],")\\.")+"(".concat(uc[Ib.NUMERICIDENTIFIER],")\\.")+"(".concat(uc[Ib.NUMERICIDENTIFIER],
")"));F("MAINVERSIONLOOSE","(".concat(uc[Ib.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(uc[Ib.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(uc[Ib.NUMERICIDENTIFIERLOOSE],")"));F("PRERELEASEIDENTIFIER","(?:".concat(uc[Ib.NUMERICIDENTIFIER],"|").concat(uc[Ib.NONNUMERICIDENTIFIER],")"));F("PRERELEASEIDENTIFIERLOOSE","(?:".concat(uc[Ib.NUMERICIDENTIFIERLOOSE],"|").concat(uc[Ib.NONNUMERICIDENTIFIER],")"));F("PRERELEASE","(?:-(".concat(uc[Ib.PRERELEASEIDENTIFIER],"(?:\\.").concat(uc[Ib.PRERELEASEIDENTIFIER],
")*))"));F("PRERELEASELOOSE","(?:-?(".concat(uc[Ib.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(uc[Ib.PRERELEASEIDENTIFIERLOOSE],")*))"));F("BUILDIDENTIFIER","[0-9A-Za-z-]+");F("BUILD","(?:\\+(".concat(uc[Ib.BUILDIDENTIFIER],"(?:\\.").concat(uc[Ib.BUILDIDENTIFIER],")*))"));F("FULLPLAIN","v?".concat(uc[Ib.MAINVERSION]).concat(uc[Ib.PRERELEASE],"?").concat(uc[Ib.BUILD],"?"));F("FULL","^".concat(uc[Ib.FULLPLAIN],"$"));F("LOOSEPLAIN","[v\x3d\\s]*".concat(uc[Ib.MAINVERSIONLOOSE]).concat(uc[Ib.PRERELEASELOOSE],
"?").concat(uc[Ib.BUILD],"?"));F("LOOSE","^".concat(uc[Ib.LOOSEPLAIN],"$"));F("GTLT","((?:\x3c|\x3e)?\x3d?)");F("XRANGEIDENTIFIERLOOSE","".concat(uc[Ib.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));F("XRANGEIDENTIFIER","".concat(uc[Ib.NUMERICIDENTIFIER],"|x|X|\\*"));F("XRANGEPLAIN","[v\x3d\\s]*(".concat(uc[Ib.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(uc[Ib.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(uc[Ib.XRANGEIDENTIFIER],")")+"(?:".concat(uc[Ib.PRERELEASE],")?").concat(uc[Ib.BUILD],"?")+")?)?");F("XRANGEPLAINLOOSE",
"[v\x3d\\s]*(".concat(uc[Ib.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(uc[Ib.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(uc[Ib.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(uc[Ib.PRERELEASELOOSE],")?").concat(uc[Ib.BUILD],"?")+")?)?");F("XRANGE","^".concat(uc[Ib.GTLT],"\\s*").concat(uc[Ib.XRANGEPLAIN],"$"));F("XRANGELOOSE","^".concat(uc[Ib.GTLT],"\\s*").concat(uc[Ib.XRANGEPLAINLOOSE],"$"));F("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(Da,"})")+"(?:\\.(\\d{1,".concat(Da,"}))?")+"(?:\\.(\\d{1,".concat(Da,
"}))?")+"(?:$|[^\\d])");F("COERCERTL",uc[Ib.COERCE],!0);F("LONETILDE","(?:~\x3e?)");F("TILDETRIM","(\\s*)".concat(uc[Ib.LONETILDE],"\\s+"),!0);Z.tildeTrimReplace="$1~";F("TILDE","^".concat(uc[Ib.LONETILDE]).concat(uc[Ib.XRANGEPLAIN],"$"));F("TILDELOOSE","^".concat(uc[Ib.LONETILDE]).concat(uc[Ib.XRANGEPLAINLOOSE],"$"));F("LONECARET","(?:\\^)");F("CARETTRIM","(\\s*)".concat(uc[Ib.LONECARET],"\\s+"),!0);Z.caretTrimReplace="$1^";F("CARET","^".concat(uc[Ib.LONECARET]).concat(uc[Ib.XRANGEPLAIN],"$"));F("CARETLOOSE",
"^".concat(uc[Ib.LONECARET]).concat(uc[Ib.XRANGEPLAINLOOSE],"$"));F("COMPARATORLOOSE","^".concat(uc[Ib.GTLT],"\\s*(").concat(uc[Ib.LOOSEPLAIN],")$|^$"));F("COMPARATOR","^".concat(uc[Ib.GTLT],"\\s*(").concat(uc[Ib.FULLPLAIN],")$|^$"));F("COMPARATORTRIM","(\\s*)".concat(uc[Ib.GTLT],"\\s*(").concat(uc[Ib.LOOSEPLAIN],"|").concat(uc[Ib.XRANGEPLAIN],")"),!0);Z.comparatorTrimReplace="$1$2$3";F("HYPHENRANGE","^\\s*(".concat(uc[Ib.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(uc[Ib.XRANGEPLAIN],")")+"\\s*$");F("HYPHENRANGELOOSE",
"^\\s*(".concat(uc[Ib.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(uc[Ib.XRANGEPLAINLOOSE],")")+"\\s*$");F("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");F("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");F("GTE0PRE","^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(xc,xc.exports);const w=/^[0-9]+$/,C=(F,Z)=>{const Da=w.test(F),hb=w.test(Z);Da&&hb&&(F=+F,Z=+Z);return F===Z?0:Da&&!hb?-1:hb&&!Da?1:F<Z?-1:1};var aa={compareIdentifiers:C,rcompareIdentifiers:(F,Z)=>C(Z,F)};const fa=B,{MAX_LENGTH:za,MAX_SAFE_INTEGER:eb}=kd,{re:fb,
t:ib}=xc.exports,Vb=ic,{compareIdentifiers:oc}=aa;class qc{constructor(F,Z){Z=Vb(Z);if(F instanceof qc){if(F.loose===!!Z.loose&&F.includePrerelease===!!Z.includePrerelease)return F;F=F.version}else if("string"!==typeof F)throw new TypeError("Invalid Version: ".concat(F));if(F.length>za)throw new TypeError("version is longer than ".concat(za," characters"));fa("SemVer",F,Z);this.options=Z;this.loose=!!Z.loose;this.includePrerelease=!!Z.includePrerelease;Z=F.trim().match(Z.loose?fb[ib.LOOSE]:fb[ib.FULL]);
if(!Z)throw new TypeError("Invalid Version: ".concat(F));this.raw=F;this.major=+Z[1];this.minor=+Z[2];this.patch=+Z[3];if(this.major>eb||0>this.major)throw new TypeError("Invalid major version");if(this.minor>eb||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>eb||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=Z[4]?Z[4].split(".").map(Da=>{if(/^[0-9]+$/.test(Da)){const hb=+Da;if(0<=hb&&hb<eb)return hb}return Da}):[];this.build=Z[5]?Z[5].split("."):
[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(F){fa("SemVer.compare",this.version,this.options,F);if(!(F instanceof qc)){if("string"===typeof F&&F===this.version)return 0;F=new qc(F,this.options)}return F.version===this.version?0:this.compareMain(F)||this.comparePre(F)}compareMain(F){F instanceof qc||(F=
new qc(F,this.options));return oc(this.major,F.major)||oc(this.minor,F.minor)||oc(this.patch,F.patch)}comparePre(F){F instanceof qc||(F=new qc(F,this.options));if(this.prerelease.length&&!F.prerelease.length)return-1;if(!this.prerelease.length&&F.prerelease.length)return 1;if(!this.prerelease.length&&!F.prerelease.length)return 0;let Z=0;do{const Da=this.prerelease[Z],hb=F.prerelease[Z];fa("prerelease compare",Z,Da,hb);if(void 0===Da&&void 0===hb)return 0;if(void 0===hb)return 1;if(void 0===Da)return-1;
if(Da!==hb)return oc(Da,hb)}while(++Z)}compareBuild(F){F instanceof qc||(F=new qc(F,this.options));let Z=0;do{const Da=this.build[Z],hb=F.build[Z];fa("prerelease compare",Z,Da,hb);if(void 0===Da&&void 0===hb)return 0;if(void 0===hb)return 1;if(void 0===Da)return-1;if(Da!==hb)return oc(Da,hb)}while(++Z)}inc(F,Z){switch(F){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Z);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",
Z);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Z);this.inc("pre",Z);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Z);this.inc("pre",Z);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;
case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(F=this.prerelease.length;0<=--F;)"number"===typeof this.prerelease[F]&&(this.prerelease[F]++,F=-2);-1===F&&this.prerelease.push(0)}Z&&(0===oc(this.prerelease[0],Z)?isNaN(this.prerelease[1])&&(this.prerelease=[Z,0]):this.prerelease=[Z,0]);break;default:throw Error("invalid increment argument: ".concat(F));}this.format();this.raw=this.version;return this}}var Dc=qc;const Fc=Dc;var Zc=(F,Z,Da)=>(new Fc(F,Da)).compare(new Fc(Z,Da)),
xd=(F,Z,Da,hb)=>{switch(Z){case "\x3d\x3d\x3d":return"object"===typeof F&&(F=F.version),"object"===typeof Da&&(Da=Da.version),F===Da;case "!\x3d\x3d":return"object"===typeof F&&(F=F.version),"object"===typeof Da&&(Da=Da.version),F!==Da;case "":case "\x3d":case "\x3d\x3d":return 0===Zc(F,Da,hb);case "!\x3d":return 0!==Zc(F,Da,hb);case "\x3e":return 0<Zc(F,Da,hb);case "\x3e\x3d":return 0<=Zc(F,Da,hb);case "\x3c":return 0>Zc(F,Da,hb);case "\x3c\x3d":return 0>=Zc(F,Da,hb);default:throw new TypeError("Invalid operator: ".concat(Z));
}},Hd,Ad,Dd,ed;const Fe=Ha();var ve=(F,Z,Da)=>{try{Z=new Fe(Z,Da)}catch(hb){return!1}return Z.test(F)},Sd={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},qe={"*":(F,Z)=>F*Z,"+":(F,Z)=>F+Z,"-":(F,Z)=>F-Z,"/":(F,Z)=>F/Z,"%":(F,Z)=>F%Z,"\x3e":(F,Z)=>F>Z,"\x3c":(F,Z)=>F<Z,"\x3c\x3d":(F,Z)=>F<=Z,"\x3e\x3d":(F,Z)=>F>=Z,"\x3d\x3d":(F,Z)=>F==Z,"!\x3d":(F,Z)=>F!=Z,"\x3d\x3d\x3d":(F,
Z)=>F===Z,"!\x3d\x3d":(F,Z)=>F!==Z,"\x26":(F,Z)=>F&Z,"|":(F,Z)=>F|Z,"^":(F,Z)=>F^Z,"\x3c\x3c":(F,Z)=>F<<Z,"\x3e\x3e":(F,Z)=>F>>Z,"\x3e\x3e\x3e":(F,Z)=>F>>>Z},A={"+":F=>+F,"-":F=>-F,"~":F=>~F,"!":F=>!F};const W=Array.prototype.slice,ta=(F,Z,Da)=>{Da=Da?Da(Z[0]):Z[0];return Da[F].apply(Da,W.call(Z,1))};var Qa={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,
min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(F,Z,Da)=>Math.max(Z,Math.min(Da,F)),now:Date.now,utc:Date.UTC,datetime:(F,Z,Da,hb,Kb,uc,Ib)=>new Date(F,Z||0,null!=Da?Da:1,hb||0,Kb||0,uc||0,Ib||0),date:F=>(new Date(F)).getDate(),day:F=>(new Date(F)).getDay(),year:F=>(new Date(F)).getFullYear(),month:F=>(new Date(F)).getMonth(),hours:F=>(new Date(F)).getHours(),minutes:F=>(new Date(F)).getMinutes(),seconds:F=>(new Date(F)).getSeconds(),milliseconds:F=>
(new Date(F)).getMilliseconds(),time:F=>(new Date(F)).getTime(),timezoneoffset:F=>(new Date(F)).getTimezoneOffset(),utcdate:F=>(new Date(F)).getUTCDate(),utcday:F=>(new Date(F)).getUTCDay(),utcyear:F=>(new Date(F)).getUTCFullYear(),utcmonth:F=>(new Date(F)).getUTCMonth(),utchours:F=>(new Date(F)).getUTCHours(),utcminutes:F=>(new Date(F)).getUTCMinutes(),utcseconds:F=>(new Date(F)).getUTCSeconds(),utcmilliseconds:F=>(new Date(F)).getUTCMilliseconds(),length:F=>F.length,join:function(){return ta("join",
arguments)},indexof:function(){return ta("indexOf",arguments)},lastindexof:function(){return ta("lastIndexOf",arguments)},slice:function(){return ta("slice",arguments)},reverse:F=>F.slice().reverse(),parseFloat,parseInt,upper:F=>String(F).toUpperCase(),lower:F=>String(F).toLowerCase(),substring:function(){return ta("substring",arguments,String)},split:function(){return ta("split",arguments,String)},replace:function(){return ta("replace",arguments,String)},trim:F=>String(F).trim(),regexp:RegExp,test:(F,
Z)=>RegExp(F).test(Z)};const qb="view item group xy x y".split(" "),Bb={Literal:(F,Z)=>Z.value,Identifier:(F,Z)=>{Z=Z.name;return 0<F.memberDepth?Z:"datum"===Z?F.datum:"event"===Z?F.event:"item"===Z?F.item:Sd[Z]||F.params["$"+Z]},MemberExpression:(F,Z)=>{const Da=!Z.computed,hb=F(Z.object);Da&&(F.memberDepth+=1);Z=F(Z.property);Da&&--F.memberDepth;return hb[Z]},CallExpression:(F,Z)=>{const Da=Z.arguments;Z=Z.callee.name;Z.startsWith("_")&&(Z=Z.slice(1));return"if"===Z?F(Da[0])?F(Da[1]):F(Da[2]):(F.fn[Z]||
Qa[Z]).apply(F.fn,Da.map(F))},ArrayExpression:(F,Z)=>Z.elements.map(F),BinaryExpression:(F,Z)=>qe[Z.operator](F(Z.left),F(Z.right)),UnaryExpression:(F,Z)=>A[Z.operator](F(Z.argument)),ConditionalExpression:(F,Z)=>F(Z.test)?F(Z.consequent):F(Z.alternate),LogicalExpression:(F,Z)=>"\x26\x26"===Z.operator?F(Z.left)&&F(Z.right):F(Z.left)||F(Z.right),ObjectExpression:(F,Z)=>Z.properties.reduce((Da,hb)=>{F.memberDepth+=1;const Kb=F(hb.key);--F.memberDepth;Da[Kb]=F(hb.value);return Da},{})};var ac={operator(F,
Z){const Da=Z.ast,hb=F.functions;return Kb=>bb(Da,hb,Kb)},parameter(F,Z){const Da=Z.ast,hb=F.functions;return(Kb,uc)=>bb(Da,hb,uc,Kb)},event(F,Z){const Da=Z.ast,hb=F.functions;return Kb=>bb(Da,hb,void 0,void 0,Kb)},handler(F,Z){const Da=Z.ast,hb=F.functions;return(Kb,uc)=>bb(Da,hb,Kb,uc.item&&uc.item.datum,uc)},encode(F,Z){const {marktype:Da,channels:hb}=Z,Kb=F.functions,uc="group"===Da||"image"===Da||"rect"===Da;return(Ib,ma)=>{const Ga=Ib.datum;let sb=0,hc;for(const Uc in hb)hc=bb(hb[Uc].ast,Kb,
ma,Ga,void 0,Ib),Ib[Uc]!==hc&&(Ib[Uc]=hc,sb=1);"rule"!==Da&&(hb.x2&&(hb.x?(uc&&Ib.x>Ib.x2&&(ma=Ib.x,Ib.x=Ib.x2,Ib.x2=ma),Ib.width=Ib.x2-Ib.x):Ib.x=Ib.x2-(Ib.width||0)),hb.xc&&(Ib.x=Ib.xc-(Ib.width||0)/2),hb.y2&&(hb.y?(uc&&Ib.y>Ib.y2&&(ma=Ib.y,Ib.y=Ib.y2,Ib.y2=ma),Ib.height=Ib.y2-Ib.y):Ib.y=Ib.y2-(Ib.height||0)),hb.yc&&(Ib.y=Ib.yc-(Ib.height||0)/2));return sb}}};const Sb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),
"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},wb={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),
"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2",
"#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3",
"#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var zc=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},
"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,
symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,
padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},
bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,
symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",
fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},
line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",
labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Sb["category-6"],diverging:Sb["fireandice-6"],heatmap:Sb["fire-7"],ordinal:Sb["fire-7"],ramp:Sb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,
labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,
labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:wb["six-groups-cat-1"],
diverging:wb["diverging-colors"],heatmap:wb["diverging-colors"],ordinal:wb["six-groups-seq"],ramp:wb["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},
symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});
const Ic=F=>function(Z){return Z[F]},$c=F=>{const Z=F.length;return function(Da){for(let hb=0;hb<Z;++hb)Da=Da[F[hb]];return Da}};(function(F,Z,Da){const hb=xb(F);F=1===hb.length?hb[0]:F;return Ca((Da&&Da.get||Cb)(hb),[F],Z||F)})("id");Ca(F=>F,[],"identity");Ca(()=>0,[],"zero");Ca(()=>1,[],"one");Ca(()=>!0,[],"true");Ca(()=>!1,[],"false");var bd=Array.isArray;const nd={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(F){return String(F).replace(/&/g,
"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(F,Z,Da){if(bd(F))return"[".concat(F.map(Kb=>Z("string"===typeof Kb?Kb:JSON.stringify(Kb,kc(Da)))).join(", "),"]");if(F===Object(F)){let Kb="";const {title:uc,image:Ib}=F;F=Mb(F,["title","image"]);uc&&(Kb+="\x3ch2\x3e".concat(Z(uc),"\x3c/h2\x3e"));Ib&&(Kb+='\x3cimg src\x3d"'.concat(Z(Ib),'"\x3e'));var hb=Object.keys(F);if(0<hb.length){Kb+="\x3ctable\x3e";for(const ma of hb)hb=F[ma],void 0!==hb&&(hb===Object(hb)&&(hb=JSON.stringify(hb,
kc(Da))),Kb+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(Z(ma),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(Z(hb),"\x3c/td\x3e\x3c/tr\x3e"));Kb+="\x3c/table\x3e"}return Kb||"{}"}return Z(F)}};class Ed{constructor(F){this.options=Object.assign(Object.assign({},nd),F);var Z=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){F=document.createElement("style");F.setAttribute("id",this.options.styleId);
if(!/^[A-Za-z]+[-:.\w]*$/.test(Z))throw Error("Invalid HTML ID");Z="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
Z);F.innerHTML=Z;Z=document.head;0<Z.childNodes.length?Z.insertBefore(F,Z.childNodes[0]):Z.appendChild(F)}}tooltipHandler(F,Z,Da,hb){var Kb;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(Kb=document.fullscreenElement)&&void 0!==Kb?Kb:document.body).appendChild(this.el));if(null==hb||""===hb)this.el.classList.remove("visible","".concat(this.options.theme,"-theme"));
else{this.el.innerHTML=this.options.formatTooltip(hb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));F=this.el.getBoundingClientRect();Kb=this.options.offsetX;Da=this.options.offsetY;hb=Z.clientX+Kb;hb+F.width>window.innerWidth&&(hb=+Z.clientX-Kb-F.width);Kb=Z.clientY+Da;Kb+F.height>window.innerHeight&&(Kb=+Z.clientY-Da-F.height);var {x:uc,y:Ib}={x:hb,y:Kb};this.el.setAttribute("style","top: ".concat(Ib,"px; left: ").concat(uc,"px"))}}}
String.prototype.startsWith||(String.prototype.startsWith=function(F,Z){return this.substr(!Z||0>Z?0:+Z,F.length)===F});var Wd;const ke=Q;let ce=y;const Ud="undefined"!==typeof window?window:void 0;void 0===ce&&null!==Ud&&void 0!==Ud&&null!==(Wd=Ud.vl)&&void 0!==Wd&&Wd.compile&&(ce=Ud.vl);const Ve={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Pe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},hf={vega:"Vega","vega-lite":"Vega-Lite"},Ne={vega:ke.version,"vega-lite":ce?ce.version:"not available"},ne={vega:F=>F,"vega-lite":(F,Z)=>ce.compile(F,{config:Z}).spec},Se=function(){var F;if(F=1<arguments.length){if(F=l.isString(0>=arguments.length?void 0:arguments[0]))F=0>=arguments.length?void 0:arguments[0],F=!(F.startsWith("http://")||F.startsWith("https://")||F.startsWith("//"));F=F||(0>=arguments.length?void 0:arguments[0])instanceof HTMLElement||
3===arguments.length}return F?Oa(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):G(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};Se.vegaLite=ce;Se.vl=ce;Se.container=G;Se.embed=Oa;Se.vega=ke;Se.default=Oa;Se.version="6.21.0";return Se})};
shadow$provide[56]=function(Hb,vb,Ac,ab){ab.__esModule=!0;ab.default=function(x){const l={};return!!x&&"[object Function]"===l.toString.call(x)}};
shadow$provide[57]=function(Hb,vb,Ac,ab){ab.__esModule=!0;ab.default=function(M,cb,zb){zb&&((0,l.default)(zb)?zb(M.data(cb)):M.change(cb,x.vega.changeset().remove(()=>!0).insert(zb)))};var x=vb(55),l=function(M){return M&&M.__esModule?M:{default:M}}(vb(56))};
shadow$provide[58]=function(Hb,vb,Ac,ab){ab.__esModule=!0;ab.default=function(l,M){Object.keys(M).forEach(cb=>{(0,x.default)(l,cb,M[cb])})};var x=function(l){return l&&l.__esModule?l:{default:l}}(vb(57))};
shadow$provide[59]=function(Hb,vb,Ac,ab){ab.__esModule=!0;ab.default=function(x){const l=new Set;x.forEach(M=>{Object.keys(M).forEach(cb=>{l.add(cb)})});return l}};
shadow$provide[60]=function(Hb,vb,Ac,ab){ab.__esModule=!0;ab.NOOP=void 0;ab.NOOP=()=>{}};
shadow$provide[61]=function(Hb,vb,Ac,ab){ab.__esModule=!0;ab.default=function(x,l){const M=Object.keys(l);M.forEach(cb=>{try{x.addSignalListener(cb,l[cb])}catch(zb){console.warn("Cannot add invalid signal listener.",zb)}});return 0<M.length}};
shadow$provide[62]=function(Hb,vb,Ac,ab){Ac.exports=function cb(l,M){if(l===M)return!0;if(l&&M&&"object"==typeof l&&"object"==typeof M){if(l.constructor!==M.constructor)return!1;var zb;if(Array.isArray(l)){var Zb=l.length;if(Zb!=M.length)return!1;for(zb=Zb;0!==zb--;)if(!cb(l[zb],M[zb]))return!1;return!0}if(l.constructor===RegExp)return l.source===M.source&&l.flags===M.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===M.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===
M.toString();var gc=Object.keys(l);Zb=gc.length;if(Zb!==Object.keys(M).length)return!1;for(zb=Zb;0!==zb--;)if(!Object.prototype.hasOwnProperty.call(M,gc[zb]))return!1;for(zb=Zb;0!==zb--;)if(Zb=gc[zb],!cb(l[Zb],M[Zb]))return!1;return!0}return l!==l&&M!==M}};
shadow$provide[63]=function(Hb,vb,Ac,ab){function x(cb){return cb&&cb.__esModule?cb:{default:cb}}ab.__esModule=!0;ab.default=function(cb,zb){if(cb===zb)return!1;const Zb={width:!1,height:!1,isExpensive:!1},gc=(0,M.default)([cb,zb]);!gc.has("width")||"width"in cb&&"width"in zb&&cb.width===zb.width||("width"in cb&&"number"===typeof cb.width?Zb.width=cb.width:Zb.isExpensive=!0);!gc.has("height")||"height"in cb&&"height"in zb&&cb.height===zb.height||("height"in cb&&"number"===typeof cb.height?Zb.height=
cb.height:Zb.isExpensive=!0);gc.delete("width");gc.delete("height");[...gc].some(nc=>!(nc in cb)||!(nc in zb)||!(0,l.default)(cb[nc],zb[nc]))&&(Zb.isExpensive=!0);return!1!==Zb.width||!1!==Zb.height||Zb.isExpensive?Zb:!1};var l=x(vb(62)),M=x(vb(59))};
shadow$provide[64]=function(Hb,vb,Ac,ab){ab.__esModule=!0;ab.default=function(x,l){const M=Object.keys(l);M.forEach(cb=>{try{x.removeSignalListener(cb,l[cb])}catch(zb){console.warn("Cannot remove invalid signal listener.",zb)}});return 0<M.length}};
shadow$provide[65]=function(Hb,vb,Ac,ab){ab.__esModule=!0;ab.default=function(x){const {spec:l,width:M,height:cb}=x;return"undefined"!==typeof M&&"undefined"!==typeof cb?Object.assign({},l,{width:M,height:cb}):"undefined"!==typeof M?Object.assign({},l,{width:M}):"undefined"!==typeof cb?Object.assign({},l,{height:cb}):l}};
shadow$provide[66]=function(Hb,vb,Ac,ab){function x(Ba){return Ba&&Ba.__esModule?Ba:{default:Ba}}function l(Ba,jb,yb){jb in Ba?Object.defineProperty(Ba,jb,{value:yb,enumerable:!0,configurable:!0,writable:!0}):Ba[jb]=yb;return Ba}ab.__esModule=!0;ab.default=void 0;Hb=x(vb(18));var M=x(vb(2)),cb=x(vb(55)),zb=x(vb(19)),Zb=x(vb(59)),gc=vb(60),nc=x(vb(61)),Tb=x(vb(63)),Gb=x(vb(64)),Db=x(vb(65));class fc extends M.default.PureComponent{constructor(){super(...arguments);l(this,"containerRef",M.default.createRef());
l(this,"resultPromise",void 0);l(this,"handleError",Ba=>{const {onError:jb=gc.NOOP}=this.props;jb(Ba,this.containerRef.current);console.warn(Ba)});l(this,"modifyView",Ba=>{this.resultPromise&&this.resultPromise.then(jb=>{jb&&Ba(jb.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ba){const jb=(0,Zb.default)([this.props,Ba]);jb.delete("className");jb.delete("signalListeners");jb.delete("spec");jb.delete("style");jb.delete("width");jb.delete("height");
if(Array.from(jb).some(yb=>this.props[yb]!==Ba[yb]))this.clearView(),this.createView();else{const yb=(0,Tb.default)((0,Db.default)(this.props),(0,Db.default)(Ba)),{signalListeners:Ab}=this.props,{signalListeners:Pa}=Ba;if(yb)if(yb.isExpensive)this.clearView(),this.createView();else{const Va=!(0,zb.default)(Ab,Pa);this.modifyView(Xa=>{!1!==yb.width&&Xa.width(yb.width);!1!==yb.height&&Xa.height(yb.height);Va&&(Pa&&(0,Gb.default)(Xa,Pa),Ab&&(0,nc.default)(Xa,Ab));Xa.run()})}else(0,zb.default)(Ab,Pa)||
this.modifyView(Va=>{Pa&&(0,Gb.default)(Va,Pa);Ab&&(0,nc.default)(Va,Ab);Va.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ba=this.props,jb=Object.assign({},Ba);const yb=Ba.onNewView,Ab=void 0===Ba.signalListeners?{}:Ba.signalListeners;Ba=(delete jb.spec,delete jb.onNewView,delete jb.signalListeners,delete jb.width,delete jb.height,jb);this.containerRef.current&&(jb=(0,Db.default)(this.props),this.resultPromise=(0,cb.default)(this.containerRef.current,jb,Ba).then(Pa=>{if(Pa){const {view:Va}=
Pa;(0,nc.default)(Va,Ab)&&Va.run()}return Pa}).catch(this.handleError),yb&&this.modifyView(yb))}clearView(){this.resultPromise&&this.resultPromise.then(Ba=>{Ba&&Ba.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ba,style:jb}=this.props;return M.default.createElement("div",{ref:this.containerRef,className:Ba,style:jb})}}ab.default=fc;l(fc,"propTypes",{className:Hb.default.string,onError:Hb.default.func})};
shadow$provide[67]=function(Hb,vb,Ac,ab){function x(Gb){return Gb&&Gb.__esModule?Gb:{default:Gb}}function l(){l=Object.assign||function(Gb){for(var Db=1;Db<arguments.length;Db++){var fc=arguments[Db],Ba;for(Ba in fc)Object.prototype.hasOwnProperty.call(fc,Ba)&&(Gb[Ba]=fc[Ba])}return Gb};return l.apply(this,arguments)}function M(Gb,Db,fc){Db in Gb?Object.defineProperty(Gb,Db,{value:fc,enumerable:!0,configurable:!0,writable:!0}):Gb[Db]=fc;return Gb}ab.__esModule=!0;ab.default=void 0;x(vb(18));var cb=
x(vb(2)),zb=x(vb(19)),Zb=x(vb(58)),gc=x(vb(66)),nc=vb(60);class Tb extends cb.default.PureComponent{constructor(){super(...arguments);M(this,"vegaEmbed",cb.default.createRef());M(this,"handleNewView",Gb=>{this.update();const {onNewView:Db=nc.NOOP}=this.props;Db(Gb)})}componentDidMount(){this.update()}componentDidUpdate(Gb){(0,zb.default)(this.props.data,Gb.data)||this.update()}update(){const {data:Gb}=this.props;this.vegaEmbed.current&&Gb&&0<Object.keys(Gb).length&&this.vegaEmbed.current.modifyView(Db=>
{(0,Zb.default)(Db,Gb);Db.resize().run()})}render(){var Gb=Object.assign({},this.props);Gb=(delete Gb.data,Gb);return cb.default.createElement(gc.default,l({ref:this.vegaEmbed},Gb,{onNewView:this.handleNewView}))}}ab.default=Tb;M(Tb,"defaultProps",{data:{}})};
shadow$provide[68]=function(Hb,vb,Ac,ab){function x(zb){return zb&&zb.__esModule?zb:{default:zb}}function l(){l=Object.assign||function(zb){for(var Zb=1;Zb<arguments.length;Zb++){var gc=arguments[Zb],nc;for(nc in gc)Object.prototype.hasOwnProperty.call(gc,nc)&&(zb[nc]=gc[nc])}return zb};return l.apply(this,arguments)}ab.__esModule=!0;ab.default=function(zb){return M.default.createElement(cb.default,l({},zb,{mode:"vega-lite"}))};var M=x(vb(2)),cb=x(vb(67))};
shadow$provide[69]=function(Hb,vb,Ac,ab){function x(Zb){return Zb&&Zb.__esModule?Zb:{default:Zb}}function l(){l=Object.assign||function(Zb){for(var gc=1;gc<arguments.length;gc++){var nc=arguments[gc],Tb;for(Tb in nc)Object.prototype.hasOwnProperty.call(nc,Tb)&&(Zb[Tb]=nc[Tb])}return Zb};return l.apply(this,arguments)}function M(Zb,gc,nc){gc in Zb?Object.defineProperty(Zb,gc,{value:nc,enumerable:!0,configurable:!0,writable:!0}):Zb[gc]=nc;return Zb}ab.__esModule=!0;ab.default=function(Zb){let {mode:gc,
spec:nc}=Zb;class Tb extends cb.default.PureComponent{render(){return cb.default.createElement(zb.default,l({mode:gc,spec:nc},this.props))}}M(Tb,"getSpec",function(){return nc});return Tb};var cb=x(vb(2)),zb=x(vb(67))};
shadow$provide[70]=function(Hb,vb,Ac,ab){ab.__esModule=!0};
shadow$provide[71]=function(Hb,vb,Ac,ab){ab.__esModule=!0;var x=vb(70);Object.keys(x).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in ab&&ab[l]===x[l]||(ab[l]=x[l]))})};
shadow$provide[72]=function(Hb,vb,Ac,ab){function x(cb){return cb&&cb.__esModule?cb:{default:cb}}ab.__esModule=!0;var l={Vega:!0,VegaLite:!0,createClassFromSpec:!0};ab.createClassFromSpec=ab.VegaLite=ab.Vega=void 0;Hb=x(vb(67));ab.Vega=Hb.default;Hb=x(vb(68));ab.VegaLite=Hb.default;Hb=x(vb(69));ab.createClassFromSpec=Hb.default;var M=vb(71);Object.keys(M).forEach(function(cb){"default"!==cb&&"__esModule"!==cb&&(Object.prototype.hasOwnProperty.call(l,cb)||cb in ab&&ab[cb]===M[cb]||(ab[cb]=M[cb]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Dd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.kb="";g.set=function(a){this.kb=""+a};g.append=function(a,b,c){this.kb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.kb+=arguments[d];return this};g.clear=function(){this.kb=""};g.toString=function(){return this.kb};var qa={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Ib:c)?c.nb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.nb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):Ta(a,b)};Sa.D=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Ta(a,b,c)};Sa.$=3;function Ua(){}
function D(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):Za(a,b)};Ya.D=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Za(a,b,c)};Ya.$=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.lb)a=a.lb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.jc)a=a.jc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.Xc)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.Yc)a=a.R;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.zc)a=a.zc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.mb)a=a.mb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):sb(a,b)};rb.D=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):sb(a,b,c)};rb.$=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Db)a=a.Db(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.uc)a=a.uc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.hc)a=a.hc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Eb)a=a.Eb(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=Rb._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.aa=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.D(arguments[0],arguments[1],arguments[2]);case 4:return Rb.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rb.B=function(a,b){return null!=a&&null!=a.kc?a.kc(a,b):Sb(a,b)};
Rb.D=function(a,b,c){return null!=a&&null!=a.lc?a.lc(a,b,c):Sb(a,b,c)};Rb.T=function(a,b,c,d){return null!=a&&null!=a.mc?a.mc(a,b,c,d):Sb(a,b,c,d)};Rb.aa=function(a,b,c,d,e){return null!=a&&null!=a.nc?a.nc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.$=5;function Tb(){}function Ub(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}
function Vb(a){this.pd=a;this.F=1073741824;this.P=0}Vb.prototype.Ac=function(a,b){return this.pd.append(b)};function Wb(a){var b=new pa;a.ia(null,new Vb(b),va());return B.j(b)}var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}
function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;
function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.F&4194304||u===a.td))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Bb=a;this.name=b;this.jb=c;this._hash=d;this.Ya=e;this.F=2154168321;this.P=4096}g=gc.prototype;g.toString=function(){return this.jb};g.fa=function(a,b){return b instanceof gc?this.jb===b.jb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ha=function(){return this.Ya};g.ka=function(a,b){return new gc(this.Bb,this.name,this.jb,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))};g.Eb=function(){return this.name};g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,this.jb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ra;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.$=2;function ic(a){return null!=a?a.P&131072||u===a.ud?!0:a.P?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.ad))return a.ja(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.ub))return a.wa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.F&64||u===a.ub)?a.xa(null):(a=J(a))?a.xa(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.K(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.K=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};P.$=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Ab=b;this.bc=null;this.F=8388672;this.P=0}oc.prototype.ja=function(){return this};oc.prototype.wa=function(){return this.value};
oc.prototype.xa=function(){null==this.bc&&(this.bc=jc.j?jc.j(this.Ab):jc.call(null,this.Ab));return this.bc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.R=!1;this.F=32768;this.P=0}uc.prototype.fb=function(){return this.R};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.la(null);if(0===c)return b.N?b.N():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.N?b.N():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.F&2||u===a.Qc?!0:a.F?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.F&16||u===a.wc?!0:a.F?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.C=a;this.i=b}Gc.prototype.pa=function(){return this.i<this.C.length};Gc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Qa=function(){return new Gc(this.C,this.i)};g.ha=function(){return this.meta};g.va=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.la=function(){var a=this.C.length-this.i;return 0>a?0:a};g.ga=function(){return pc(this)};g.fa=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.ma=function(){return lc};g.qa=function(a,b){return Bc(this.C,b,this.C[this.i],this.i+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.i)};g.wa=function(){return this.C[this.i]};
g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):lc};g.ja=function(){return this.i<this.C.length?this:null};g.ka=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.oa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.N();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.K(arguments[0],arguments[1],c)}};Jc.N=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.K=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Jc.$=2;function R(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Qc))a=a.la(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.ad))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.wc))return a.ea(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.wc))return a.Aa(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Wc)?a.ya(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Wc)?a.ca(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.$=3;var W=function W(a){switch(arguments.length){case 3:return W.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.K(arguments[0],arguments[1],arguments[2],c)}};
W.D=function(a,b,c){return null!=a&&(a.F&512||u===a.Pc)?a.ab(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.K=function(a,b,c,d){for(;;)if(a=W.D(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.K(b,a,c,d)};W.$=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.K(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.K=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Oc.$=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Oc?!0:a.Bc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.I=a;this.meta=b;this.F=393217;this.P=0}g=Qc.prototype;g.ha=function(){return this.meta};g.ka=function(a,b){return new Qc(this.I,b)};g.Oc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.N=function(){return this.I.N?this.I.N():this.I.call(null)};g.j=function(a){return this.I.j?this.I.j(a):this.I.call(null,a)};g.B=function(a,b){return this.I.B?this.I.B(a,b):this.I.call(null,a,b)};g.D=function(a,b,c){return this.I.D?this.I.D(a,b,c):this.I.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.I.T?this.I.T(a,b,c,d):this.I.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.I.aa?this.I.aa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){return this.I.Na?this.I.Na(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};g.Oa=function(a,b,c,d,e,f,h){return this.I.Oa?this.I.Oa(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){return this.I.za?this.I.za(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){return this.I.Pa?this.I.Pa(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ca?this.I.Ca(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};g.Da=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Da?this.I.Da(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Ea?this.I.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.Fa?this.I.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.I.Ga?this.I.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.I.Ha?this.I.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.I.Ia?this.I.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.I.Ja?this.I.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.I.Ka?this.I.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.I.La?this.I.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.I.Ma?this.I.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Vc?Rc.Vc(this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.F&131072||u===a.Zc||(a.F?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.K(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.K=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Uc.$=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.F&8||u===a.rd?!0:a.F?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.F&4096||u===a.Ad?!0:a.F?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.F&16777216||u===a.yc?!0:a.F?!1:y(zb,a):y(zb,a)}function Zc(a){return null==a?!1:null!=a?a.F&1024||u===a.xd?!0:a.F?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.F&67108864||u===a.zd?!0:a.F?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.F&16384||u===a.Bd?!0:a.F?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.P&512||u===a.qd?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.F&1||u===a.sd?!0:a.F?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.F&512||u===a.Pc)?a.lb(null,b):y($a,a)?ab(a,b):H.D(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.N?a.N():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.N?b.N():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.F&524288||u===b.$c)?b.qa(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.F&524288||u===c.$c)?c.ra(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.N();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.K(arguments[0],arguments[1],c)}};rd.N=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.K=function(a,b,c){return Ga(rd,a+b,c)};
rd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};rd.$=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.K(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.K=function(a,b,c){return Ga(sd,a-b,c)};
sd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};sd.$=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.N();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.K(arguments[0],c)}};B.N=function(){return""};
B.j=function(a){return null==a?"":[a].join("")};B.K=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};B.$=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.O=e;this.F=65937646;this.P=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.xa(null)};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Lc(b,this.first,this.eb,this.count,this.O)};g.oa=function(a,b){return new Lc(this.meta,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.meta=a;this.F=65937614;this.P=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ga=function(){return qc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.wd||(b.F?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.ma=function(){return this};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null};g.xa=function(){return lc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new vd(b)};g.oa=function(a,b){return new Lc(this.meta,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.O=d;this.F=65929452;this.P=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.eb?null:J(this.eb)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};
g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new wd(b,this.first,this.eb,this.O)};g.oa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.F&64||u===b.ub)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Bb=a;this.name=b;this.Ra=c;this._hash=d;this.F=2153775105;this.P=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Ra)].join("")};g.fa=function(a,b){return b instanceof I?this.Ra===b.Ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))+2654435769|0};g.Eb=function(){return this.name};
g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,[":",B.j(this.Ra)].join(""))};function xd(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Fb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.jb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.$=2;function zd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.O=c;this.F=32374988;this.P=1}g=zd.prototype;g.toString=function(){return Wb(this)};
function Ad(a){null!=a.fn&&(a.s=a.fn.N?a.fn.N():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){this.ja(null);return null==this.s?null:O(this.s)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};
g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:N(this.s)};g.xa=function(){this.ja(null);return null!=this.s?kc(this.s):lc};g.ja=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new zd(b,function(){return c.ja(null)},this.O)};
g.oa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.cc=a;this.end=0;this.F=2;this.P=0}Bd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Bd.prototype.$a=function(){var a=new Cd(this.cc,0,this.end);this.cc=null;return a};Bd.prototype.la=function(){return this.end};function Cd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=Cd.prototype;g.la=function(){return this.end-this.off};
g.ea=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.uc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.C,this.off+1,this.end)};g.qa=function(a,b){return Bc(this.C,b,this.C[this.off],this.off+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.off)};function Dd(a,b,c,d){this.$a=a;this.Va=b;this.meta=c;this.O=d;this.F=31850732;this.P=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?null:yb(this.Va)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.wa=function(){return Sa(this.$a,0)};g.xa=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?lc:this.Va};g.ja=function(){return this};g.hc=function(){return this.$a};g.Rb=function(){return null==this.Va?lc:this.Va};g.ka=function(a,b){return b===this.meta?this:new Dd(this.$a,this.Va,b,this.O)};g.oa=function(a,b){return U(b,this)};g.vc=function(){return null==this.Va?null:this.Va};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.N?a.N():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Na?a.Na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=Va(m);if(7===b)return a.Oa?a.Oa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.za?a.za(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ca?a.Ca(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Da?a.Da(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Fa?a.Fa(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var ra=Va(da);if(18===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(ra);ra=Va(ra);if(19===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var $c=D(ra);Va(ra);if(20===b)return a.Ma?a.Ma(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,$c):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,$c);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Na?a.Na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Oa?a.Oa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.za?a.za(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=O(p);if(null==q)return a.Ca?a.Ca(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Da?a.Da(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ea?a.Ea(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Fa?a.Fa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,w,z,C,E,M);T=D(da);var ra=O(da);if(null==ra)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(ra);ra=O(ra);if(null==ra)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=ra;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.ba?(c=U(c,U(d,e)),d=b.$,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.ba(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.ba){var c=a.$,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.ba(b)}b=J(b);return null==b?a.N?a.N():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.ba){b=U(b,c);var d=a.$;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.ba(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.ba?(b=U(b,U(c,U(d,e))),c=a.$,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.ba(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.ba?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.$,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.ba(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.F&64||u===a.ub))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof qa||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.gd=a;this.F=393216;this.P=0},ta.prototype.ka=function(a,b){return new ta(b)},ta.prototype.ha=function(){return this.gd},ta.prototype.pa=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Ib=!0,ta.nb="cljs.core/t_cljs$core20121",ta.Ub=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Cb=Vd;this._next=a}Xd.prototype.pa=function(){this.Cb===Vd?(this.Cb=Wd,this._next=J(this._next)):this.Cb===this._next&&(this._next=O(this.Cb));return null!=this._next};Xd.prototype.next=function(){if(this.pa())return this.Cb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.$a(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ua=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=ae.prototype;
g.fa=function(a,b){return this===b};g.fb=function(){return this.state};g.ha=function(){return this.meta};g.oc=function(a,b){for(var c=J(this.ua),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ua=W.D(this.ua,b,c);return this};
g.Tb=function(a,b){return this.ua=Oc.B(this.ua,b)};g.ga=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ua&&a.oc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.D(arguments[0],arguments[1],arguments[2]);case 4:return ce.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.D=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.T=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.K=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};ce.$=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.D(arguments[0],arguments[1],arguments[2]);case 4:return de.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.N?b.N():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.$=2;k.ba=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.K=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.K(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ba=h.ba;f.N=e;f.j=d;f.B=c;f.K=h.K;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.$a(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.D=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.D(a,kc(d),kc(e)))}else d=null;return d},null)};de.T=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,de.T(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.K=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.K(e,d,Ic([c,b]))))};de.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};de.$=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.D(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.meta=a;this.count=b;this.R=c;this.next=d;this.O=null;this.F=32374988;this.P=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:null:this.next};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.R,this.R):b.call(null,this.R,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=1,c=this.R;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};
g.ra=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.R):b.call(null,c,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};g.wa=function(){return this.R};g.xa=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:lc:this.next};g.ja=function(){return this};
g.ka=function(a,b){return b===this.meta?this:new he(b,this.count,this.R,this.next)};g.oa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.N();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.N=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.P&4||u===a.Rc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.D=function(a,b,c){if(null!=a&&(a.P&4||u===a.Rc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.$=3;
function je(a,b,c){var d=W.D,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.D,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.da=a;this.C=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.da,Ea(a.C))}
function oe(a){a=a.G;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.C[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=qe.T?qe.T(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.C[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function te(a,b){return 0<=b&&b<a.G?se(a,b):re(b,a.G)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=ue.aa?ue.aa(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.C[k]=a}return h},ve=function ve(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=ve.D?ve.D(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.C[e]=a;return c}if(0===e)return null;c=ne(c);c.C[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
we.prototype.pa=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.C=se(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.N?b.N():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.O=f;this.F=167666463;this.P=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.G?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fc=u;g.ea=function(a,b){return te(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?se(this,b)[b&31]:c};
g.mb=function(a,b,c){if(0<=b&&b<this.G)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.oa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.G),"]"].join(""));};g.Qa=function(){return xe(this,0,this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};
g.vb=function(){return 0<this.G?this.ea(null,this.G-1):null};g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return pb(Kc,this.meta);if(1<this.G-oe(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.G-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===R(b))for(a=this.Qa(null),b=b.Qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.sb=function(){return new Be(this.G,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.ma=function(){return pb(Kc,this.meta)};g.qa=function(a,b){return ye(this,b,0,this.G)};
g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.G:!1};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.O)};
g.oa=function(a,b){if(32>this.G-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.C[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.C[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ea(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.K(c)};Le.K=function(a){return a instanceof K&&0===a.i?Ge(a.C,!Ba(a.C)):He(a)};Le.$=0;Le.ba=function(a){return this.K(J(a))};
function Me(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.O=null;this.F=32375020;this.P=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.vc()};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return ye(this.Ba,b,this.i+this.off,R(this.Ba))};g.ra=function(a,b,c){return ze(this.Ba,b,c,this.i+this.off,R(this.Ba))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Rb(null)};g.ja=function(){return this};
g.hc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.ka=function(a,b){return b===this.meta?this:Ne?Ne(this.Ba,this.node,this.i,this.off,b):Fe.call(null,this.Ba,this.node,this.i,this.off,b)};g.oa=function(a,b){return U(b,this)};
g.vc=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.O=e;this.F=167666463;this.P=139264}g=Oe.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.mb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.la(null)),"]"].join(""));b=this.meta;c=W.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.aa?Pe.aa(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Qa=function(){return null!=this.v&&u===this.v.fc?xe(this.v,this.start,this.end):new Xd(this)};g.ha=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(Kc,this.meta)};
g.qa=function(a,b){return null!=this.v&&u===this.v.fc?ye(this.v,b,this.start,this.end):xc(this,b)};g.ra=function(a,b,c){return null!=this.v&&u===this.v.fc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};
g.ja=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};g.ka=function(a,b){return b===this.meta?this:Pe.aa?Pe.aa(b,this.v,this.start,this.end,this.O):Pe.call(null,b,this.v,this.start,this.end,this.O)};g.oa=function(a,b){a=this.meta;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};
function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.da?b:new le(a,Ea(b.C))}function Ce(a){return new le({},Ea(a.C))}
function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.da,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Re.T?Re.T(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.da,b-5,d)}c.C[f]=a;return c};function Be(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Be.prototype;
g.yb=function(a,b){if(this.root.da){if(32>this.G-oe(this))this.tail[this.G&31]=b;else{a=new le(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.da,this.shift,a),this.root=new le(this.root.da,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Hb=function(){if(this.root.da){this.root.da=null;var a=this.G-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.da){if(0<=b&&b<a.G){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.da,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.da)return this.G;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.da)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ea(null,b):c};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Te(){this.F=2097152;this.P=0}Te.prototype.fa=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd(Zc(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.F&1048576||u===a.vd||(a.F?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.D(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.D(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.jb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].jb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.R=b;this.O=null;this.F=166619935;this.P=0}g=Ae.prototype;g.tb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.R);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.Aa(null,b,null)};g.ca=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.R;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.R:c};g.mb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.R],null)).mb(null,b,c)};g.ha=function(){return null};g.la=function(){return 2};g.Xc=function(){return this.key};g.Yc=function(){return this.R};g.vb=function(){return this.R};g.wb=function(){return new Y(null,1,5,Z,[this.key],null)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return null};
g.qa=function(a,b){return xc(this,b)};g.ra=function(a,b,c){return yc(this,b,c)};g.ab=function(a,b,c){return W.D(new Y(null,2,5,Z,[this.key,this.R],null),b,c)};g.lb=function(a,b){return 0===b||1===b};g.ja=function(){return new K([this.key,this.R],0,null)};g.ka=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.R],null),b)};g.oa=function(a,b){return new Y(null,3,5,Z,[this.key,this.R,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function Ie(a){return null!=a?a.F&2048||u===a.yd?!0:!1:!1}function Ze(a,b,c){this.C=a;this.i=b;this.Ya=c;this.F=32374990;this.P=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):null};g.la=function(){return(this.C.length-this.i)/2};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return new Ae(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Ze(this.C,this.i,b)};g.oa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.C=a;this.i=0;this.G=b}$e.prototype.pa=function(){return this.i<this.G};$e.prototype.next=function(){var a=new Ae(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.O=d;this.F=16647951;this.P=139268}g=v.prototype;g.tb=function(a,b){a=Ye(this.C,b);return-1===a?null:new Ae(this.C[a],this.C[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};
g.ca=function(a,b,c){a=Ye(this.C,b);return-1===a?c:this.C[a+1]};g.Db=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Qa=function(){return new $e(this.C,2*this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=rc(this)};
g.fa=function(a,b){if(Zc(b)&&!ad(b))if(a=this.C.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.ca(null,this.C[c],ed);if(d!==ed)if(P.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new cf(this.C.length,Ea(this.C))};g.ma=function(){return pb(Td,this.meta)};g.qa=function(a,b){return ld(this,b)};g.ra=function(a,b,c){return md(this,b,c)};
g.jc=function(a,b){if(0<=Ye(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.ma(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);P.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.ab=function(a,b,c){a=Ye(this.C,b);if(-1===a){if(this.G<df){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=Ea(this.C);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.lb=function(a,b){return-1!==Ye(this.C,b)};g.ja=function(){var a=this.C;return 0<=a.length-2?new Ze(a,0,null):null};
g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.C,this.O)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ra===b.Ra?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.zb={};this.pb=a;this.C=b;this.F=259;this.P=56}g=cf.prototype;g.la=function(){if(this.zb)return td(this.pb);throw Error("count after persistent!");};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.zb)return a=Ye(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.zb){if(Ie(b))return this.xb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.xb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Hb=function(){if(this.zb)return this.zb=!1,new v(null,td(this.pb),this.C,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.zb){a=Ye(this.C,b);if(-1===a){if(this.pb+2<=2*df)return this.pb+=2,this.C.push(b),this.C.push(c),this;a=kf.B?kf.B(this.pb,this.C):kf.call(null,this.pb,this.C);return Kb(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ca(null,a,null)};g.B=function(a,b){return this.ca(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.R=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.ob(b);a.C[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Mb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.C=a;this.i=0;this.Wa=this.Nb=null}qf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Nb=new Ae(b,c):null!=c?(b=Ub(c),b=b.pa()?this.Wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.pa=function(){var a=null!=this.Nb;return a?a:(a=null!=this.Wa)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Nb){var a=this.Nb;this.Nb=null;return a}if(null!=this.Wa)return a=this.Wa.next(),this.Wa.pa()||(this.Wa=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.da=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=rf.prototype;
g.ob=function(a){if(a===this.da)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.C,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};g.hb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.hb(a+5,b,c,d):ff(c,e)?f:d};
g.Ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.C.length){a=this.ob(a);b=a.C;f.R=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?uf.Ua(a,b+5,ec(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.C,2*k,b,2*(k+1),2*(l-k));f.R=!0;a=this.ob(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ua(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.R=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.ob(a);a.C[e]=null;a.C[k]=d;return a};
g.Ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?uf.Ta(a+5,ec(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.C,2*h,a,2*(h+1),2*(k-h));e.R=!0;return new rf(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Ta(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,d));e.R=!0;e=this.bitmap;k=this.C;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Jb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Jb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Lb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Lb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.C,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e)):this};g.Qa=function(){return new qf(this.C)};var uf=new rf(null,0,[]);function zf(a){this.C=a;this.i=0;this.Wa=null}
zf.prototype.pa=function(){for(var a=this.C.length;;){if(null!=this.Wa&&this.Wa.pa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Wa=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.pa())return this.Wa.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.da=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=vf.prototype;g.ob=function(a){return a===this.da?this:new vf(a,this.G,Ea(this.C))};
g.Kb=function(){return Af?Af(this.C):Bf.call(null,this.C)};g.Mb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Mb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.hb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.hb(a+5,b,c,d):d};g.Ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=of(this,a,h,uf.Ua(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ua(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new vf(null,this.G+1,mf(this.C,f,uf.Ta(a+5,b,c,d,e)));a=h.Ta(a+5,b,c,d,e);return a===h?this:new vf(null,this.G,mf(this.C,f,a))};g.Jb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Jb(a+5,b,c,d):d};
g.Lb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Lb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.G-1,mf(this.C,d,a));else d=new vf(null,this.G,mf(this.C,d,a));return d}return this};g.Qa=function(){return new zf(this.C)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.da=a;this.bb=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Df.prototype;g.ob=function(a){if(a===this.da)return this;var b=Array(2*(this.G+1));dd(this.C,0,b,0,2*this.G);return new Df(a,this.bb,this.G,b)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};
g.hb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?this.C[a+1]:d};
g.Ua=function(a,b,c,d,e,f){if(c===this.bb){b=Cf(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.C[b]=d,a.C[c]=e,f.R=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);dd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.R=!0;d=this.G+1;a===this.da?(this.C=b,this.G=d,a=this):a=new Df(this.da,this.bb,d,b);return a}return this.C[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ua(a,b,c,d,e,f)};
g.Ta=function(a,b,c,d,e){return b===this.bb?(a=Cf(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),dd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.R=!0,new Df(null,this.bb,this.G+1,b)):P.B(this.C[a+1],d)?this:new Df(null,this.bb,this.G,mf(this.C,a+1,d))):(new rf(null,1<<(this.bb>>>a&31),[null,this])).Ta(a,b,c,d,e)};g.Jb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?new Ae(this.C[a],this.C[a+1]):d};
g.Lb=function(a,b,c){a=Cf(this.C,this.G,c);return-1===a?this:1===this.G?null:new Df(null,this.bb,this.G-1,nf(this.C,td(a)))};g.Qa=function(){return new qf(this.C)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Ta(a,h,b,c,k).Ta(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ua(a,b,k,c,d,l).Ua(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.O=e;this.F=32374988;this.P=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Ef(b,this.nodes,this.i,this.s,this.O)};g.oa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Kb(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.O=e;this.F=32374988;this.P=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return N(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Gf(b,this.nodes,this.i,this.s,this.O)};g.oa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Kb(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.ta=a;this.Lc=b;this.seen=!1}
If.prototype.pa=function(){return!this.seen||this.Lc.pa()};If.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Ae(null,this.ta)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.sa=d;this.ta=e;this.O=f;this.F=16123663;this.P=139268}g=Jf.prototype;g.tb=function(a,b){return null==b?this.sa?new Ae(null,this.ta):null:null==this.root?null:this.root.Jb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.Db=function(a,b,c){a=this.sa?b.D?b.D(c,null,this.ta):b.call(null,c,null,this.ta):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Mb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Qa=function(){var a=this.root?Ub(this.root):Ud();return this.sa?new If(this.ta,a):a};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=rc(this)};g.fa=function(a,b){return Ve(this,b)};g.sb=function(){return new Kf(this.root,this.G,this.sa,this.ta)};
g.ma=function(){return pb(ef,this.meta)};g.jc=function(a,b){if(null==b)return this.sa?new Jf(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Lb(0,ec(b),b);return a===this.root?this:new Jf(this.meta,this.G-1,a,this.sa,this.ta,null)};
g.ab=function(a,b,c){if(null==b)return this.sa&&c===this.ta?this:new Jf(this.meta,this.sa?this.G:this.G+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Ta(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.meta,a.R?this.G+1:this.G,b,this.sa,this.ta,null)};g.lb=function(a,b){return null==b?this.sa:null==this.root?!1:this.root.hb(0,ec(b),b,ed)!==ed};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Kb():null;return this.sa?U(new Ae(null,this.ta),a):a}return null};
g.ka=function(a,b){return b===this.meta?this:new Jf(b,this.G,this.root,this.sa,this.ta,this.O)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.da={};this.root=a;this.count=b;this.sa=c;this.ta=d;this.F=259;this.P=56}function Lf(a,b,c){if(a.da){if(null==b)a.ta!==c&&(a.ta=c),a.sa||(a.count+=1,a.sa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ua(a.da,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.R&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.la=function(){if(this.da)return this.count;throw Error("count after persistent!");};
g.ya=function(a,b){return null==b?this.sa?this.ta:null:null==this.root?null:this.root.hb(0,ec(b),b)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.yb=function(a,b){a:if(this.da)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Hb=function(){if(this.da){this.da=null;var a=new Jf(null,this.count,this.root,this.sa,this.ta,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Mf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Mf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).key};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Mf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Mf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Mf.prototype[Da]=function(){return nc(this)};
function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Nf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).R};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Nf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Nf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Nf.prototype[Da]=function(){return nc(this)};
function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.K(c)};Of.K=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.$=0;Of.ba=function(a){return this.K(J(a))};function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.D(a,d,Rf);b=P.B(e,Rf)?b:W.D(b,d,e);c=O(c)}else return pb(b,Tc(a))}
function Sf(a){this.Ab=a}Sf.prototype.pa=function(){return this.Ab.pa()};Sf.prototype.next=function(){if(this.Ab.pa())return this.Ab.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.meta=a;this.cb=b;this.O=c;this.F=15077647;this.P=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};
g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){a=cb(this.cb,b);return x(a)?fb(a):c};g.Qa=function(){return new Sf(Ub(this.cb))};g.ha=function(){return this.meta};
g.la=function(){return Ma(this.cb)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=rc(this)};g.fa=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.sb=function(){return new Uf(Hb(this.cb))};g.ma=function(){return pb(Vf,this.meta)};g.zc=function(a,b){return new Tf(this.meta,eb(this.cb,b),null)};g.ja=function(){return af(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Tf(b,this.cb,this.O)};g.oa=function(a,b){return new Tf(this.meta,W.D(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};
var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.qb=a;this.P=136;this.F=259}g=Uf.prototype;g.yb=function(a,b){this.qb=Kb(this.qb,b,null);return this};g.Hb=function(){return new Tf(null,Jb(this.qb),null)};g.la=function(){return R(this.qb)};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return Ya(this.qb,b,ed)===ed?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.qb,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.qb,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Eb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.F&131072||u===b.Zc?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.D?eg.D(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Ib)return a.Ub(b);if(null!=a?a.F&2147483648||u===a.na||(a.F?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.T?fg.T(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.nb}()))return $f(b,Ic(["#object[",a.constructor.nb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.D(c,hg,dg),d.D?d.D(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ea(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Sc)?a.ma(null):(null!=a?a.F&4||u===a.Sc||(a.F?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.D(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.D(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=Zc(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.na=u;K.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.na=u;zd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.na=u;Ae.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.na=u;Ef.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.na=u;Ze.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.na=u;oc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.na=u;Me.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.na=u;
wd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.na=u;Jf.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.na=u;Gf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.na=u;Oe.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.na=u;Tf.prototype.ia=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.na=u;Dd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.na=u;ae.prototype.ia=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.na=u;Nf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.na=u;he.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.na=u;Y.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.na=u;vd.prototype.ia=function(a,b){return G(b,"()")};v.prototype.na=u;
v.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.na=u;Mf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.na=u;Lc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Tc||(a.Bc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.K(arguments[0],c)};
sg.K=function(a,b){b=Sd(b);var c=H.D(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Tc||(f.Bc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if(Zc(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.$=1;sg.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.T(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.za?Eg.za(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.J=b;this.fd=k;this.Xb=c;this.Zb=d;this.md=e;this.Yb=f;this.Qb=h;this.F=4194305;this.P=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.N=function(){var a=this.J.N?this.J.N():this.J.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.N?b.N():b.call(null)};g.j=function(a){var b=this.J.j?this.J.j(a):this.J.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.J.B?this.J.B(a,b):this.J.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.aa=function(a,b,c,d,e){var f=this.J.aa?this.J.aa(a,b,c,d,e):this.J.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.aa?h.aa(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){var h=this.J.Na?this.J.Na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Na?k.Na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Oa=function(a,b,c,d,e,f,h){var k=this.J.Oa?this.J.Oa(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Oa?l.Oa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){var l=this.J.za?this.J.za(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.za?m.za(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){var m=this.J.Pa?this.J.Pa(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Pa?n.Pa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){var n=this.J.Ca?this.J.Ca(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ca?p.Ca(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Da=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.J.Da?this.J.Da(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Da?q.Da(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.J.Ea?this.J.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ea?r.Ea(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.J.Fa?this.J.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Fa?w.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.J.Ga?this.J.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ga?z.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.J.Ha?this.J.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.Ha?C.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.J.Ia?this.J.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ia?E.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.J.Ja?this.J.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Ja?M.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.J.Ka?this.J.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Ka?T.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.J.La?this.J.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.La?da.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.J.Ma?this.J.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),ra=Ig(this,da);x(ra)||Fg(this.name,da);return ra.Ma?ra.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):ra.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var ra=Rd(this.J,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),$c=Ig(this,ra);x($c)||Fg(this.name,ra);return Rd($c,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.T(c.Zb,W,a,b);Bg(c.Yb,c.Zb,c.Qb,c.Xb)}function Ig(a,b){P.B(F(a.Qb),F(a.Xb))||Bg(a.Yb,a.Zb,a.Qb,a.Xb);var c=F(a.Yb);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.Xb,a.Zb,a.md,a.Yb,a.Qb,a.fd)}g.Eb=function(){return Ob(this.name)};g.Fb=function(){return Pb(this.name)};
g.ga=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"layer","layer",-1601820589),Sg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",
1499536964),Tg=new I(null,"displayName","displayName",-809144601),Ug=new I(null,"on-dispose","on-dispose",2105306360),Vg=new I(null,"data","data",-232669377),Wg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Xg=new I(null,"sigma","sigma",-63715703),Yg=new I(null,"spec","spec",347520401),Zg=new I(null,"aggregate","aggregate",1511468442),$g=new I(null,"constructor","constructor",-1953928811),ah=new I(null,"div.column","div.column",-1380853326),bh=new I(null,"actions","actions",
-812656882),ch=new I(null,"childContextTypes","childContextTypes",578717991),dh=new I(null,"transform","transform",1381301764),eh=new I(null,"field","field",-1302436500),fh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),gh=new I(null,"running","running",1554969103),hh=new I(null,"class","class",-2030961996),ih=new I(null,"description","description",-1428560544),jh=new I(null,"title","title",636505583),kh=new I(null,"on-click","on-click",1632826543),lh=new I(null,
"cljsLegacyRender","cljsLegacyRender",-1527295613),mh=new I(null,"color","color",1011675173),nh=new I(null,"stack","stack",-793405930),oh=new I(null,"as","as",1148689641),ph=new I(null,"reagentRender","reagentRender",-358306383),qh=new I(null,"name","name",1843675177),rh=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),sh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,
"default","default",-1987822328),th=new I("skier","joins-queue","skier/joins-queue",-1286647213),uh=new I(null,"no-cache","no-cache",1588056370),vh=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),wh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),xh=new I("lift","leaves","lift/leaves",-2138482165),yh=new I(null,"component-did-update","component-did-update",
-1468549173),zh=new I("sim","end-time","sim/end-time",-1849965709),Ah=new I(null,"reagent-render","reagent-render",-985383853),Bh=new I(null,"encoding","encoding",1728578272),Ch=new I(null,"function-components","function-components",1492814963),Dh=new I(null,"hierarchy","hierarchy",-1053470341),Eh=new I(null,"on-write","on-write",31519475),Fh=new I("skiers","skiing","skiers/skiing",-957605270),Gh=new I(null,"key","key",-1516042587),Hh=new I(null,"zero","zero",-858964576),Ih=new I("lift","ride-time",
"lift/ride-time",78775400),Jh=new I(null,"y","y",-1757859776),Kh=new I(null,"x","x",2099068185),Lh=new I(null,"t","t",-1397832519),Mh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Nh=new I(null,"scale","scale",-230427353),Oh=new I(null,"contextType","contextType",1033066077),Ph=new I("skiers","waiting","skiers/waiting",1070582748),Qh=new I(null,"mark","mark",-373816345),Rh=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Sh=new I(null,"getDerivedStateFromProps",
"getDerivedStateFromProps",-991834739),Th=new I(null,"validator","validator",-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Uh=new I(null,"display-name","display-name",694513143),Vh=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Wh=new I("slope","length","slope/length",1017254753),Xh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Yh=new I(null,"contextTypes","contextTypes",-2023853910),
tg=new I(null,"keyword-fn","keyword-fn",-64566675),Zh=new I(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),$h=new I(null,"unit","unit",375175175),ai=new I(null,"id","id",-1388402092),bi=new I(null,"$schema","$schema",1635092088),ci=new I(null,"component-will-unmount","component-will-unmount",-2058314698),di=new I("lift","chair-width","lift/chair-width",1126373462),ei=new I(null,"results","results",-1134170113),fi=new I(null,"className","className",-1983287057),gi=new I(null,"h1.title",
"h1.title",-2139952071),hi=new I("lift","chair-period","lift/chair-period",169813739),ii=new I(null,"events","events",1792552201),ji=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ki=new I(null,"parse-tag","parse-tag",1427313738),li=new I(null,"type","type",1174270348),mi=new I("skiers","speed","skiers/speed",88597428),ni=new I(null,"callback","callback",-705136228),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var oi={},pi;function qi(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var ri=aa.navigator||null;ri&&(ri.appVersion||"").indexOf("X11");oa("Android");qi();oa("iPad");oa("iPod");qi()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof qa||"undefined"===typeof sa||"undefined"===typeof oi||"undefined"===typeof pi)pi=function(b,c,d){this.f=b;this.Nc=c;this.hd=d;this.F=393216;this.P=0},pi.prototype.ka=function(b,c){return new pi(this.f,this.Nc,c)},pi.prototype.ha=function(){return this.hd},pi.Ib=!0,pi.nb="cljs.core.async/t_cljs$core$async23567",pi.Ub=function(b){return G(b,"cljs.core.async/t_cljs$core$async23567")};return new pi(a,!0,Td)})(function(){return null});var si={},ti={},ui=[];function vi(a,b){var c=ti[a];if(void 0!==c)return c;try{ui.push(a);var d=si[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};si[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,vi,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ui.pop()}return d.exports}vi.cache={};vi.resolve=function(a){return a};var wi=vi(2,{});function xi(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function yi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}()}
function zi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?xi(a,b,c):xi(a,b,yi(c));throw["Invalid match arg: ",B.j(b)].join("");}function Ai(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function Bi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var Ci={};var Di={},Ei="undefined"!==typeof window&&null!=window.document,Fi=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Gi(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Hi(a){if("string"===typeof a)return a;a=X(a);var b=Bi(a),c=J(b);b=N(c);c=O(c);return x(Fi.j?Fi.j(b):Fi.call(null,b))?a:Pd(B,b,de.B(Gi,c))}
function Ii(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.P&4096||u===a.xc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return Zc(c)?qh.j(c):null}();return x(b)?zi(B.j(b),"$","."):null}function Ji(a){return a instanceof I||a instanceof gc}
var Ki=function Ki(a){switch(arguments.length){case 0:return Ki.N();case 1:return Ki.j(arguments[0]);case 2:return Ki.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Ki.K(arguments[0],arguments[1],c)}};Ki.N=function(){return null};Ki.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Ji(b)?X(b):b:null},a),J(a)?Ai(a):null):Ji(a)?X(a):a};
Ki.B=function(a,b){return x(a)?x(b)?[B.j(Ki.j(a))," ",B.j(Ki.j(b))].join(""):Ki.j(a):Ki.j(b)};Ki.K=function(a,b,c){return Ga(Ki,Ki.B(a,b),c)};Ki.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Ki.$=2;var Li=!1;function Mi(a){if(Zc(a))try{var b=H.B(a,Gh)}catch(c){b=null}else b=null;return b}
function Ni(a){var b=Gh.j(Tc(a));if(x(b))return b;b=Mi(V(a,1,null));if(x(b))return b;b=V(a,0,null);switch(b instanceof I?b.Ra:null){case "\x3e":case "f\x3e":return Mi(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return null}};var Oi=0;function Pi(a){return setTimeout(a,16)}var Qi=Ei?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Pi}().bind(a)}():Pi;function Ri(a,b){return a.qc-b.qc}function Si(){return null}function Ti(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.N?d.N():d.call(null);c+=1}else return null}
function Ui(a,b,c){b.push(c);return a.schedule()}function Vi(){this.ac=!1}g=Vi.prototype;g.flush_after_render=function(){var a=this.Ob;if(null==a)return null;this.Ob=null;return Ti(a)};g.queue_render=function(a){null==this.Wb&&(this.Wb=[]);return Ui(this,this.Wb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ac)return null;this.ac=!0;return Qi.j?Qi.j(a):Qi.call(null,a)};g.flush_before_flush=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return Ti(a)};
g.flush_queues=function(){this.flush_before_flush();Si();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ac=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Pb&&(this.Pb=[]);return Ui(this,this.Pb,a)};g.add_after_render=function(a){null==this.Ob&&(this.Ob=[]);return Ui(this,this.Ob,a)};
g.flush_render=function(){var a=this.Wb;if(null==a)return null;this.Wb=null;a:{a.sort(Ri);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Wi=new Vi;function Xi(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Wi.queue_render(a)};function Yi(a){if(null!=a&&null!=a.nd)a=a.id;else{var b=Yi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Yi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Zi(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=Zi[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Zi._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function $i(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=$i[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=$i._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function aj(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=aj[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=aj._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var bj=function bj(a){switch(arguments.length){case 1:return bj.j(arguments[0]);case 2:return bj.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return bj.K(arguments[0],arguments[1],c)}};bj.j=function(a){return a};bj.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};bj.K=function(a,b,c){return Ga(bj,a,Jc.B(c,b))};
bj.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};bj.$=2;var cj;function dj(a,b){b.dc=null;a:{var c=cj;cj=b;try{var d=a.N?a.N():a.call(null);break a}finally{cj=c}d=void 0}a=b.dc;b.gb=!1;a:{c=b.rb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function ej(a){var b=cj;if(null!=b){var c=b.dc;null==c?b.dc=[a]:c.push(a)}}function fj(a,b,c){a.ua=W.D(a.ua,b,c);return a.tc=null}
function gj(a,b){a.ua=Oc.B(a.ua,b);return a.tc=null}function hj(a,b,c){var d=a.tc;d=null==d?a.tc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ua):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function ij(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=cj;cj=null;try{var e=d;break a}finally{cj=c}e=void 0}eg(e,a,b);return G(a,"]")}var jj=null;
function kj(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ua=d;this.F=2154201088;this.P=114690}g=kj.prototype;g.ia=function(a,b,c){return ij(b,c,"RAtom",new v(null,1,[mg,this.fb(null)],null))};g.ha=function(){return this.meta};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};g.Sa=function(a,b){a=this.state;this.state=b;null!=this.ua&&hj(this,a,b);return b};g.kc=function(a,b){return this.Sa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.lc=function(a,b,c){return this.Sa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.mc=function(a,b,c,d){return this.Sa(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this.state,c,d,e))};g.oc=function(a,b){hj(this,a,b)};g.Sb=function(a,b,c){return fj(this,b,c)};g.Tb=function(a,b){return gj(this,b)};g.ka=function(a,b){return new kj(this.state,b,this.validator,this.ua)};g.fb=function(){ej(this);return this.state};
var lj=function lj(a){switch(arguments.length){case 1:return lj.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return lj.K(arguments[0],c)}};lj.j=function(a){return new kj(a,null,null,null)};lj.K=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Th);return new kj(a,b,c,null)};lj.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};lj.$=1;
function mj(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=mj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=mj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function nj(a){this.f=a;this.state=null;this.gb=!0;this.Fc=!1;this.ec=this.Za=this.ua=this.rb=null;this.F=2153807872;this.P=114690}g=nj.prototype;g._peek_at=function(){var a=cj;cj=null;try{return this.fb(null)}finally{cj=a}};
g._handle_change=function(a,b,c){return b===c||this.gb?null:null==this.Za?(this.gb=!0,null==jj&&(jj=[],!1===Wi.ac&&Wi.schedule()),jj.push(this)):!0===this.Za?this._run(!1):this.Za.j?this.Za.j(this):this.Za.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.rb);this.rb=a;a=J(bj.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(bj.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.gb&&null!=this.rb?this._run(!0):null};g._try_capture=function(a){try{return this.ec=null,dj(a,this)}catch(b){return this.ec=this.state=a=b,this.gb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):dj(this.f,this);this.Fc||(this.state=a,null==this.ua||P.B(b,a)||hj(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Sg);var c=H.B(b,sh),d=H.B(b,Ug);b=H.B(b,uh);null!=a&&(this.Za=a);null!=c&&(this.kd=c);null!=d&&(this.Gc=d);return null!=b?this.Fc=b:null};g.ia=function(a,b,c){return ij(b,c,"Reaction",new v(null,1,[mg,this.fb(null)],null))};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.rb;this.Za=this.state=this.rb=null;this.gb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Gc&&this.Gc(a);a=this.Cd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Sa=function(a,b){a=this.state;this.state=b;this.kd(a,b);hj(this,a,b);return b};
g.kc=function(a,b){a=this.Sa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.lc=function(a,b,c){a=this.Sa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.mc=function(a,b,c,d){a=this.Sa;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this._peek_at(),c,d,e))};g.oc=function(a,b){hj(this,a,b)};g.Sb=function(a,b,c){return fj(this,b,c)};
g.Tb=function(a,b){a=Vc(this.ua);gj(this,b);return!a&&Vc(this.ua)&&null==this.Za?this.sc(null):null};g.fb=function(){var a=this.ec;if(null!=a)throw a;(a=null==cj)&&(oj.N?oj.N():oj.call(null));a&&null==this.Za?this.gb&&(a=this.state,this.state=this.f.N?this.f.N():this.f.call(null),null==this.ua||P.B(a,this.state)||hj(this,a,this.state)):(ej(this),this.gb&&this._run(!1));return this.state};
function oj(){for(;;){var a=jj;if(null==a)return null;jj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Si=oj;function pj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Sg);d=H.B(e,sh);e=H.B(e,Ug);b=new nj(b);b._set_opts(new v(null,3,[Sg,c,sh,d,Ug,e],null));return b}var qj=pj(null);
function rj(a,b){var c=sj,d=qj,e=dj(a,d);null!=d.rb&&(qj=pj(null),d._set_opts(c),d.f=a,d.Za=function(){return Xi.j?Xi.j(b):Xi.call(null,b)},b.cljsRatom=d);return e};var tj;function uj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.D(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function vj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.ib);return b}
function wj(a,b){for(;;){var c=a.ib,d=!0===a.bd?c.call(a,a):function(){var e=uj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return $i(b,d);if(gd(d))d=vj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return $i(f,Pd(Le,l,p))}m.$=0;m.ba=function(p){p=J(p);return n(p)};m.K=n;return m}()}(a,b,c,null,d):d,a.ib=d;else return d}}var sj=new v(null,1,[uh,!0],null);
function xj(a,b){switch(a instanceof I?a.Ra:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=Zc(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.dd;d=null!=d?d:c.dd=lj.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,uj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,uj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,uj(this,c))};case "shouldComponentUpdate":return function(c){var d=Li;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,uj(this,this.props),uj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,uj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,uj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,uj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&mj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var yj=new v(null,2,[Zh,null,Mh,null],null),zj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.T(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=zi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=Bi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Gi,b))});function Aj(a){return od(function(b,c,d){return W.D(b,yd.j(zj(c)),d)},Td,a)}
function Bj(a,b){var c=function(){var h=ph.j(a);return x(h)?h:Og.j(a)}(),d=null==ph.j(a),e=function(){var h=Tg.j(a);if(x(h))return h;h=Ii(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.D,n=xj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.K(f,Tg,e,Ic([lh,d,ph,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?rj(function(){a:{var l=tj;tj=h;try{var m=wj(h,b);break a}finally{tj=l}m=void 0}return m},h):k._run(!1)}]))}
function Cj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Dj(a,b){return Bj(Of.K(Ic([yj,Aj(a)])),b)}var Qf=new Y(null,5,5,Z,[ch,Yh,Oh,Sh,Wg],null);
function Ej(a,b){function c(k,l,m){wi.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.qc=Oi+=1;return this}a=Dj(a,b);b=Cj(Rd(Oc,a,Tg,rh,$g,Ic([Og,ph,Qf])));var d=Cj(Pf(a)),e=Tg.j(a),f=rh.j(a),h=$g.j(a);ka(c.prototype,wi.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(ph.j(a))&&(c.prototype.ib=ph.j(a));x(lh.j(a))&&(c.prototype.bd=lh.j(a));ka(c,wi.Component,d);x(e)&&(c.displayName=e,c.nb=e,c.Ub=function(k){return G(k,
e)});c.Ib=!0;return c.prototype.constructor=c}function Fj(a,b,c){a=Yi(a);return b[a]=c}
function Gj(a,b){for(;;){var c=b.ib,d=b.argv,e=Od(c,d);if(bd(e))return $i(a,e);if(gd(e))c=vj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return $i(f,Pd(Le,n,r))}p.$=0;p.ba=function(r){r=J(r);return q(r)};p.K=q;return p}()}(a,b,c,null,d,e):e,b.ib=c;else return e}}
function Hj(a,b){var c=b.argv,d=b.ib;b=wi.useState(0);V(b,0,null);var e=V(b,1,null),f=wi.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.qc=Oi+=1;k.constructor=d;k.ib=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");wi.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:mj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?rj(function(){a:{var k=tj;tj=h;try{var l=Gj(a,h);break a}finally{tj=k}l=void 0}return l},
h):b._run(!1)}function Ij(a,b){a=a.argv;b=b.argv;var c=!1===Li;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Jj(a,b){function c(e){return Hj(a,e)}var d=ia(b,Yi(a));if(x(d))return d;c.displayName=Ii(b);d=wi.memo(c,Ij);Fj(a,b,d);return d};var Kj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function Lj(a,b,c,d){var e=Sd(Td);e=H.B(e,Eh);if(a===document.activeElement&&id(Kj,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(!P.B(f,c))return Wi.add_after_render(function(){return Mj.j?Mj.j(d):Mj.call(null,d)});c=R(f)-a.selectionStart;c=R(b)-c;d.Vb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.Vb=b;a.value=b;return Pc(e)?e.j?e.j(b):e.call(null,b):null}
function Mj(a){if(x(a.pc)){a.Cc=!1;var b=a.cd,c=a.Vb,d=a.rc;return P.B(b,c)?null:Lj(d,b,c,a)}return null}function Nj(a,b,c){a.Vb=c.target.value;x(a.Cc)||(a.Cc=!0,Wi.add_after_render(function(){return Mj(a)}));return b.j?b.j(c):b.call(null,c)}
function Oj(a){var b=tj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.pc)||(b.pc=!0,b.Vb=c);x(b.Kc)||(b.Kc=Pc(e)?function(f){b.rc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.rc=f;return e.current=f}:function(f){return b.rc=f});b.cd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Nj(b,d,f)};a.ref=b.Kc}}
var Pj=new v(null,4,[Uh,"ReagentInput",yh,Mj,ci,function(a){return a.pc=null},Ah,function(a,b,c,d,e){Oj(c);return aj(e,a,b,c,d)}],null);var Qj={},Rj,Sj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Tj={"class":"className","for":"htmlFor",charset:"charSet"};function Uj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Vj(a,b,c){if(Ji(b)){var d=Uj(Tj,X(b));null==d?(d=Hi(b),b=X(b),b=Tj[b]=d):b=d}c=Wj.j?Wj.j(c):Wj.call(null,c);a[b]=c;return a}
function Wj(a){return"object"!==t(a)?a:Ji(a)?X(a):Zc(a)?od(Vj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}var Xj={};function Yj(a,b,c){if(Ji(b)){var d=Uj(Xj,X(b));null==d?(d=Hi(b),b=X(b),b=Xj[b]=d):b=d}c=Wj(c);a[b]=c;return a}
function Zj(a){return"object"!==t(a)?a:Ji(a)?X(a):Zc(a)?od(Yj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}
function ak(a,b,c,d,e){switch(R(b)-e){case 0:return wi.createElement(c,d);case 1:return wi.createElement(c,d,$i(a,V(b,e,null)));default:return wi.createElement.apply(null,od(function(f,h,k){h>=e&&f.push($i(a,k));return f},[c,d],b))}}function bk(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ed=d}function ck(a,b,c){var d=ia(a,Yi(c));null==d?vj(a)?a=Fj(c,a,a):(d=Tc(a),d=W.D(d,Ah,a),d=Ej(d,c),a=Fj(c,a,d)):a=d;c={};c.argv=b;b=Ni(b);null!=b&&(c.key=b);return wi.createElement(a,c)}
function dk(a,b,c,d){var e={};e.ib=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ni(b);null!=b&&(e.key=b);return wi.createElement(Jj(d,a),e)}function ek(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ck(a,b,c):dk(a,b,1,c)}var fk={};function gk(a,b){a=Uj(fk,b);if(null==a){var c=O(Xf(Sj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:zi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new bk(a,d,c,e);return fk[b]=a}return a}
function hk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||Zc(f),k=function(){var n=h?f:null;var p=hh.j(n);p=x(p)?W.D(n,hh,Ki.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==ai.j(p)?W.D(p,ai,q):p;if(x(n)){var r=W.D,w=Ki.B,z=hh.j(p);p=x(z)?z:fi.j(p);n=r.call(W,q,hh,w.call(Ki,n,p))}else n=q;n=x(a.ed)?Zj(n):Wj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Mi(f);var m=function(){var n=d.od;if(x(n))return n;n=Ej(Pj,d);return d.od=n}();return $i(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.K(Ic([x(l)?new v(null,1,[Gh,l],null):null,Tc(b)]))))}l=Mi(Tc(b));null!=l&&(k.key=l);return aj(d,b,e,k,c)}function ik(a,b){return Fa(de.B(function(c){return $i(b,c)},a))}
function jk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Ra:null){case "\x3e":return c=V(a,1,null),hk(new bk(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Mi(Tc(a));null!=e&&(d.key=e);return aj(b,a,c,d,3);case "f\x3e":return dk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||Zc(d),d=Wj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ni(a),null!=e&&(d.key=e),aj(b,a,wi.Fragment,d,c);default:if(Ji(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=hk(Zi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.D(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var kk=function(a){var b=og("G__"),c=x(Ch.j(a))?ek:ck,d=H.D(a,ki,gk);if("undefined"===typeof Ci||"undefined"===typeof Di||"undefined"===typeof Qj||"undefined"===typeof Rj)Rj=function(e,f,h,k,l){this.ld=e;this.id=f;this.Dc=h;this.$b=k;this.jd=l;this.F=393216;this.P=0},Rj.prototype.ka=function(e,f){return new Rj(this.ld,this.id,this.Dc,this.$b,f)},Rj.prototype.ha=function(){return this.jd},Rj.prototype.nd=function(){return this.id},Rj.prototype.Jc=function(e,f,h){return this.$b.D?this.$b.D(this,f,h):
this.$b.call(null,this,f,h)},Rj.prototype.Hc=function(e,f){e=this.Dc;return"object"!==t(f)?f:bd(f)?jk(f,this,e):(null==f?0:null!=f?f.F&64||u===f.ub||(f.F?0:y(Ua,f)):y(Ua,f))?ik(f,this):Ji(f)?X(f):(null!=f?f.F&2147483648||u===f.na||(f.F?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Rj.prototype.Ic=function(e,f,h,k,l){return ak(this,f,h,k,l)},Rj.Ib=!0,Rj.nb="reagent.impl.template/t_reagent$impl$template26403",Rj.Ub=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26403")};return new Rj(a,b,
c,d,Td)}(Td);var lk=vi(8,{});var mk=new ae(Td);function nk(a,b,c){var d=Li;Li=!0;try{lk.render(a.N?a.N():a.call(null),b,function(){var e=Li;Li=!1;try{return ce.T(mk,W,b,a),Wi.flush_after_render(),null!=c?c.N?c.N():c.call(null):null}finally{Li=e}})}finally{Li=d}};var ok=vi(72,{});function pk(a,b){this.Ec=a;this.Mc=b}pk.prototype.getKey=function(){return this.Ec};pk.prototype.getValue=function(){return this.Mc};pk.prototype.clone=function(){return new pk(this.Ec,this.Mc)};function qk(a){this.Xa=[];if(a)a:{if(a instanceof qk){var b=a.Xa;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.Xa;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.Xa.length){c=this.Xa;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.Xa;c.push(new pk(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Xa;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.Xa.length};g.clear=function(){la(this.Xa)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Xg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.D(Td,Dh,vg.N?vg.N():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Rh.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(th,function(a){return je(je(a,Fh,sk),Ph,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,mi),d=H.B(a,Wh);b=Sd(b);b=H.B(b,Lh);c=d/tk(c);return ke(je(je(a,ji,sk),Fh,tc),ii,Jc,new v(null,2,[Rh,th,Lh,b+c],null))});Jg(xh,function(a,b){var c=Sd(a),d=H.B(c,Ih),e=H.B(c,di);a=H.B(c,hi);b=Sd(b);b=H.B(b,Lh);var f=Ph.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Ph,sd,e),ji,rd,e);d=new v(null,2,[Rh,Mg,Lh,b+tk(d)],null);return ke(ke(c,ii,ie,ee(e,new he(null,-1,d,null))),ii,Jc,new v(null,2,[Rh,xh,Lh,b+a],null))});var uk;
a:for(var vk=[Wh,ji,Ih,ii,Fh,hi,zh,mi,di,Lh,Ph],wk=[3E3,0,new v(null,2,[Pg,300,Xg,30],null),new Y(null,1,5,Z,[new v(null,2,[Rh,xh,Lh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Xg,1,$h,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,5,[bi,"https://vega.github.io/schema/vega-lite/v5.json",ih,"A simple bar chart with embedded data.",Vg,new v(null,1,[qh,ei],null),dh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Fh,Ph,ji],null),oh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Rg,new Y(null,2,5,Z,[new v(null,2,[Qh,"line",Bh,new v(null,3,[Kh,new v(null,4,[eh,Lh,li,"quantitative",jh,"time",Nh,new v(null,1,[Hh,!1],null)],null),Jh,new v(null,3,[eh,"number-of-skiers",li,"quantitative",jh,"Number of skiers"],
null),mh,new v(null,1,[eh,"state"],null)],null)],null),new v(null,2,[Qh,new v(null,2,[li,"line",mh,"gray"],null),Bh,new v(null,2,[Kh,new v(null,2,[eh,Lh,li,"quantitative"],null),Jh,new v(null,2,[Zg,"sum",eh,"number-of-skiers"],null)],null)],null)],null)],null),Dk=new v(null,6,[bi,"https://vega.github.io/schema/vega-lite/v5.json",ih,"A simple bar chart with embedded data.",Vg,new v(null,1,[qh,ei],null),dh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Fh,Ph,ji],null),oh,new Y(null,2,5,Z,["state",
"number-of-skiers"],null)],null)],null),Qh,"bar",Bh,new v(null,3,[Kh,new v(null,4,[eh,Lh,li,"quantitative",jh,"time",Nh,new v(null,1,[Hh,!1],null)],null),Jh,new v(null,4,[eh,"number-of-skiers",li,"quantitative",nh,"normalize",jh,"Percentage of skiers"],null),mh,new v(null,1,[eh,"state"],null)],null)],null),Ek=lj.j(new v(null,1,[ei,new Y(null,1,5,Z,[uk],null)],null)),Fk=lj.j(new v(null,1,[gh,!0],null));
function Gk(){ce.B(Ek,function(a){var b=W.D,c=Jc.B,d=ei.j(a),e;a:for(e=ei.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=ii.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n);k.enqueue(Lh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Lh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.D;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,ii,n);e=e.B?e.B(f,h):
e.call(null,f,h);e=l.call(W,e,Lh,h.j?h.j(Lh):h.call(null,Lh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ei,He(c))})}function Hk(){return x(gh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[kh,function(){return ce.T(Fk,W,gh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[kh,function(){return ce.T(Fk,W,gh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Vh,new v(null,2,[li,"reset",kh,function(){be(Ek,new v(null,1,[ei,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[gh,!0],null))}],null),"Restart"],null)}
var Jk=new Y(null,1,5,Z,[function(){return new Y(null,4,5,Z,[vh,new Y(null,2,5,Z,[Xh,new Y(null,2,5,Z,[gi,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Xh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Xh,new Y(null,3,5,Z,[wh,new Y(null,2,5,Z,[ah,new Y(null,3,5,Z,[fh,ok.VegaLite,new v(null,3,[Yg,Ck,Vg,F(Ek),bh,!1],null)],null)],null),new Y(null,2,5,Z,[ah,new Y(null,3,5,Z,[fh,ok.VegaLite,new v(null,3,[Yg,Dk,Vg,F(Ek),bh,!1],null)],
null)],null)],null)],null)],null)}],null),Kk=document.getElementById("app");(function(a,b){oj();var c=Pc(kk)?new Y(null,2,5,Z,[kk,kk],null):new Y(null,2,5,Z,[kk,ni.j(kk)],null),d=V(c,0,null);c=V(c,1,null);nk(function(){return $i(d,Pc(a)?a.N?a.N():a.call(null):a)},b,c)})(Jk,Kk);(function Lk(){x(gh.j(F(Fk)))&&Gk();return setTimeout(Lk,100)})();
}).call(this);