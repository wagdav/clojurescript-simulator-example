var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(cc,Db,Xc,mb){function r(Y){if(null===Y||"object"!==typeof Y)return null;Y=Oa&&Y[Oa]||Y["@@iterator"];return"function"===typeof Y?Y:null}function g(Y,Ha,Fa){this.props=Y;this.context=Ha;this.refs=kb;this.updater=Fa||Da}function qa(){}function hb(Y,Ha,Fa){this.props=Y;this.context=Ha;this.refs=kb;this.updater=Fa||Da}function Gb(Y,Ha,Fa){var cb,aa={},ma=null,p=null;if(null!=Ha)for(cb in void 0!==Ha.ref&&(p=Ha.ref),void 0!==Ha.key&&(ma=""+Ha.key),Ha)xb.call(Ha,cb)&&!Nb.hasOwnProperty(cb)&&
(aa[cb]=Ha[cb]);var L=arguments.length-2;if(1===L)aa.children=Fa;else if(1<L){for(var P=Array(L),f=0;f<L;f++)P[f]=arguments[f+2];aa.children=P}if(Y&&Y.defaultProps)for(cb in L=Y.defaultProps,L)void 0===aa[cb]&&(aa[cb]=L[cb]);return{$$typeof:Va,type:Y,key:ma,ref:p,props:aa,_owner:ob.current}}function $b(Y,Ha){return{$$typeof:Va,type:Y.type,key:Ha,ref:Y.ref,props:Y.props,_owner:Y._owner}}function oc(Y){return"object"===typeof Y&&null!==Y&&Y.$$typeof===Va}function kc(Y){var Ha={"\x3d":"\x3d0",":":"\x3d2"};
return"$"+Y.replace(/[=:]/g,function(Fa){return Ha[Fa]})}function yc(Y,Ha){return"object"===typeof Y&&null!==Y&&null!=Y.key?kc(""+Y.key):Ha.toString(36)}function Ab(Y,Ha,Fa,cb,aa){var ma=typeof Y;if("undefined"===ma||"boolean"===ma)Y=null;var p=!1;if(null===Y)p=!0;else switch(ma){case "string":case "number":p=!0;break;case "object":switch(Y.$$typeof){case Va:case qb:p=!0}}if(p)return p=Y,aa=aa(p),Y=""===cb?"."+yc(p,0):cb,Na(aa)?(Fa="",null!=Y&&(Fa=Y.replace(Zb,"$\x26/")+"/"),Ab(aa,Ha,Fa,"",function(f){return f})):
null!=aa&&(oc(aa)&&(aa=$b(aa,Fa+(!aa.key||p&&p.key===aa.key?"":(""+aa.key).replace(Zb,"$\x26/")+"/")+Y)),Ha.push(aa)),1;p=0;cb=""===cb?".":cb+":";if(Na(Y))for(var L=0;L<Y.length;L++){ma=Y[L];var P=cb+yc(ma,L);p+=Ab(ma,Ha,Fa,P,aa)}else if(P=r(Y),"function"===typeof P)for(Y=P.call(Y),L=0;!(ma=Y.next()).done;)ma=ma.value,P=cb+yc(ma,L++),p+=Ab(ma,Ha,Fa,P,aa);else if("object"===ma)throw Ha=String(Y),Error("Objects are not valid as a React child (found: "+("[object Object]"===Ha?"object with keys {"+Object.keys(Y).join(", ")+
"}":Ha)+"). If you meant to render a collection of children, use an array instead.");return p}function gc(Y,Ha,Fa){if(null==Y)return Y;var cb=[],aa=0;Ab(Y,cb,"","",function(ma){return Ha.call(Fa,ma,aa++)});return cb}function rc(Y){if(-1===Y._status){var Ha=Y._result;Ha=Ha();Ha.then(function(Fa){if(0===Y._status||-1===Y._status)Y._status=1,Y._result=Fa},function(Fa){if(0===Y._status||-1===Y._status)Y._status=2,Y._result=Fa});-1===Y._status&&(Y._status=0,Y._result=Ha)}if(1===Y._status)return Y._result.default;
throw Y._result;}var Va=Symbol.for("react.element"),qb=Symbol.for("react.portal");cc=Symbol.for("react.fragment");Db=Symbol.for("react.strict_mode");Xc=Symbol.for("react.profiler");var Kb=Symbol.for("react.provider"),Ob=Symbol.for("react.context"),Bb=Symbol.for("react.forward_ref"),Pb=Symbol.for("react.suspense"),Ua=Symbol.for("react.memo"),pb=Symbol.for("react.lazy"),Oa=Symbol.iterator,Da={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},
Pa=Object.assign,kb={};g.prototype.isReactComponent={};g.prototype.setState=function(Y,Ha){if("object"!==typeof Y&&"function"!==typeof Y&&null!=Y)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Ha,"setState")};g.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};qa.prototype=g.prototype;var lb=hb.prototype=new qa;lb.constructor=hb;Pa(lb,g.prototype);
lb.isPureReactComponent=!0;var Na=Array.isArray,xb=Object.prototype.hasOwnProperty,ob={current:null},Nb={key:!0,ref:!0,__self:!0,__source:!0},Zb=/\/+/g,nb={current:null},la={transition:null};lb={ReactCurrentDispatcher:nb,ReactCurrentBatchConfig:la,ReactCurrentOwner:ob};mb.Children={map:gc,forEach:function(Y,Ha,Fa){gc(Y,function(){Ha.apply(this,arguments)},Fa)},count:function(Y){var Ha=0;gc(Y,function(){Ha++});return Ha},toArray:function(Y){return gc(Y,function(Ha){return Ha})||[]},only:function(Y){if(!oc(Y))throw Error("React.Children.only expected to receive a single React element child.");
return Y}};mb.Component=g;mb.Fragment=cc;mb.Profiler=Xc;mb.PureComponent=hb;mb.StrictMode=Db;mb.Suspense=Pb;mb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lb;mb.cloneElement=function(Y,Ha,Fa){if(null===Y||void 0===Y)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var cb=Pa({},Y.props),aa=Y.key,ma=Y.ref,p=Y._owner;if(null!=Ha){void 0!==Ha.ref&&(ma=Ha.ref,p=ob.current);void 0!==Ha.key&&(aa=""+Ha.key);if(Y.type&&Y.type.defaultProps)var L=Y.type.defaultProps;
for(P in Ha)xb.call(Ha,P)&&!Nb.hasOwnProperty(P)&&(cb[P]=void 0===Ha[P]&&void 0!==L?L[P]:Ha[P])}var P=arguments.length-2;if(1===P)cb.children=Fa;else if(1<P){L=Array(P);for(var f=0;f<P;f++)L[f]=arguments[f+2];cb.children=L}return{$$typeof:Va,type:Y.type,key:aa,ref:ma,props:cb,_owner:p}};mb.createContext=function(Y){Y={$$typeof:Ob,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};Y.Provider={$$typeof:Kb,_context:Y};return Y.Consumer=Y};
mb.createElement=Gb;mb.createFactory=function(Y){var Ha=Gb.bind(null,Y);Ha.type=Y;return Ha};mb.createRef=function(){return{current:null}};mb.forwardRef=function(Y){return{$$typeof:Bb,render:Y}};mb.isValidElement=oc;mb.lazy=function(Y){return{$$typeof:pb,_payload:{_status:-1,_result:Y},_init:rc}};mb.memo=function(Y,Ha){return{$$typeof:Ua,type:Y,compare:void 0===Ha?null:Ha}};mb.startTransition=function(Y){var Ha=la.transition;la.transition={};try{Y()}finally{la.transition=Ha}};mb.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.");
};mb.useCallback=function(Y,Ha){return nb.current.useCallback(Y,Ha)};mb.useContext=function(Y){return nb.current.useContext(Y)};mb.useDebugValue=function(){};mb.useDeferredValue=function(Y){return nb.current.useDeferredValue(Y)};mb.useEffect=function(Y,Ha){return nb.current.useEffect(Y,Ha)};mb.useId=function(){return nb.current.useId()};mb.useImperativeHandle=function(Y,Ha,Fa){return nb.current.useImperativeHandle(Y,Ha,Fa)};mb.useInsertionEffect=function(Y,Ha){return nb.current.useInsertionEffect(Y,
Ha)};mb.useLayoutEffect=function(Y,Ha){return nb.current.useLayoutEffect(Y,Ha)};mb.useMemo=function(Y,Ha){return nb.current.useMemo(Y,Ha)};mb.useReducer=function(Y,Ha,Fa){return nb.current.useReducer(Y,Ha,Fa)};mb.useRef=function(Y){return nb.current.useRef(Y)};mb.useState=function(Y){return nb.current.useState(Y)};mb.useSyncExternalStore=function(Y,Ha,Fa){return nb.current.useSyncExternalStore(Y,Ha,Fa)};mb.useTransition=function(){return nb.current.useTransition()};mb.version="18.2.0"};
shadow$provide[2]=function(cc,Db,Xc,mb){Xc.exports=Db(0)};
shadow$provide[3]=function(cc,Db,Xc,mb){function r(Y,Ha){var Fa=Y.length;Y.push(Ha);a:for(;0<Fa;){var cb=Fa-1>>>1,aa=Y[cb];if(0<hb(aa,Ha))Y[cb]=Ha,Y[Fa]=aa,Fa=cb;else break a}}function g(Y){return 0===Y.length?null:Y[0]}function qa(Y){if(0===Y.length)return null;var Ha=Y[0],Fa=Y.pop();if(Fa!==Ha){Y[0]=Fa;var cb=0,aa=Y.length,ma=aa>>>1;a:for(;cb<ma;){var p=2*(cb+1)-1,L=Y[p],P=p+1,f=Y[P];if(0>hb(L,Fa))P<aa&&0>hb(f,L)?(Y[cb]=f,Y[P]=Fa,cb=P):(Y[cb]=L,Y[p]=Fa,cb=p);else if(P<aa&&0>hb(f,Fa))Y[cb]=f,Y[P]=
Fa,cb=P;else break a}}return Ha}function hb(Y,Ha){var Fa=Y.sortIndex-Ha.sortIndex;return 0!==Fa?Fa:Y.id-Ha.id}function Gb(Y){for(var Ha=g(Ob);null!==Ha;){if(null===Ha.callback)qa(Ob);else if(Ha.startTime<=Y)qa(Ob),Ha.sortIndex=Ha.expirationTime,r(Kb,Ha);else break;Ha=g(Ob)}}function $b(Y){Da=!1;Gb(Y);if(!Oa)if(null!==g(Kb))Oa=!0,Ab(oc);else{var Ha=g(Ob);null!==Ha&&gc($b,Ha.startTime-Y)}}function oc(Y,Ha){Oa=!1;Da&&(Da=!1,kb(ob),ob=-1);pb=!0;var Fa=Ua;try{Gb(Ha);for(Pb=g(Kb);null!==Pb&&(!(Pb.expirationTime>
Ha)||Y&&!kc());){var cb=Pb.callback;if("function"===typeof cb){Pb.callback=null;Ua=Pb.priorityLevel;var aa=cb(Pb.expirationTime<=Ha);Ha=mb.unstable_now();"function"===typeof aa?Pb.callback=aa:Pb===g(Kb)&&qa(Kb);Gb(Ha)}else qa(Kb);Pb=g(Kb)}if(null!==Pb)var ma=!0;else{var p=g(Ob);null!==p&&gc($b,p.startTime-Ha);ma=!1}return ma}finally{Pb=null,Ua=Fa,pb=!1}}function kc(){return mb.unstable_now()-Zb<Nb?!1:!0}function yc(){if(null!==xb){var Y=mb.unstable_now();Zb=Y;var Ha=!0;try{Ha=xb(!0,Y)}finally{Ha?
nb():(Na=!1,xb=null)}}else Na=!1}function Ab(Y){xb=Y;Na||(Na=!0,nb())}function gc(Y,Ha){ob=Pa(function(){Y(mb.unstable_now())},Ha)}if("object"===typeof performance&&"function"===typeof performance.now){var rc=performance;mb.unstable_now=function(){return rc.now()}}else{var Va=Date,qb=Va.now();mb.unstable_now=function(){return Va.now()-qb}}var Kb=[],Ob=[],Bb=1,Pb=null,Ua=3,pb=!1,Oa=!1,Da=!1,Pa="function"===typeof setTimeout?setTimeout:null,kb="function"===typeof clearTimeout?clearTimeout:null,lb="undefined"!==
typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Na=!1,xb=null,ob=-1,Nb=5,Zb=-1;if("function"===typeof lb)var nb=function(){lb(yc)};else if("undefined"!==typeof MessageChannel){cc=new MessageChannel;var la=cc.port2;cc.port1.onmessage=yc;nb=function(){la.postMessage(null)}}else nb=function(){Pa(yc,0)};mb.unstable_IdlePriority=5;mb.unstable_ImmediatePriority=
1;mb.unstable_LowPriority=4;mb.unstable_NormalPriority=3;mb.unstable_Profiling=null;mb.unstable_UserBlockingPriority=2;mb.unstable_cancelCallback=function(Y){Y.callback=null};mb.unstable_continueExecution=function(){Oa||pb||(Oa=!0,Ab(oc))};mb.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Nb=0<Y?Math.floor(1E3/Y):5};mb.unstable_getCurrentPriorityLevel=function(){return Ua};
mb.unstable_getFirstCallbackNode=function(){return g(Kb)};mb.unstable_next=function(Y){switch(Ua){case 1:case 2:case 3:var Ha=3;break;default:Ha=Ua}var Fa=Ua;Ua=Ha;try{return Y()}finally{Ua=Fa}};mb.unstable_pauseExecution=function(){};mb.unstable_requestPaint=function(){};mb.unstable_runWithPriority=function(Y,Ha){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Fa=Ua;Ua=Y;try{return Ha()}finally{Ua=Fa}};mb.unstable_scheduleCallback=function(Y,Ha,Fa){var cb=mb.unstable_now();"object"===
typeof Fa&&null!==Fa?(Fa=Fa.delay,Fa="number"===typeof Fa&&0<Fa?cb+Fa:cb):Fa=cb;switch(Y){case 1:var aa=-1;break;case 2:aa=250;break;case 5:aa=1073741823;break;case 4:aa=1E4;break;default:aa=5E3}aa=Fa+aa;Y={id:Bb++,callback:Ha,priorityLevel:Y,startTime:Fa,expirationTime:aa,sortIndex:-1};Fa>cb?(Y.sortIndex=Fa,r(Ob,Y),null===g(Kb)&&Y===g(Ob)&&(Da?(kb(ob),ob=-1):Da=!0,gc($b,Fa-cb))):(Y.sortIndex=aa,r(Kb,Y),Oa||pb||(Oa=!0,Ab(oc)));return Y};mb.unstable_shouldYield=kc;mb.unstable_wrapCallback=function(Y){var Ha=
Ua;return function(){var Fa=Ua;Ua=Ha;try{return Y.apply(this,arguments)}finally{Ua=Fa}}}};
shadow$provide[5]=function(cc,Db,Xc,mb){Xc.exports=Db(3)};
shadow$provide[6]=function(cc,Db,Xc,mb){function r(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+c,n=1;n<arguments.length;n++)d+="\x26args[]\x3d"+encodeURIComponent(arguments[n]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(c,d){qa(c,d);qa(c+"Capture",d)}function qa(c,d){S[c]=d;for(c=0;c<d.length;c++)w.add(d[c])}function hb(c){if(Ea.call(Lb,c))return!0;
if(Ea.call(wb,c))return!1;if(sb.test(c))return Lb[c]=!0;wb[c]=!0;return!1}function Gb(c,d,n,J){if(null!==n&&0===n.type)return!1;switch(typeof d){case "function":case "symbol":return!0;case "boolean":if(J)return!1;if(null!==n)return!n.acceptsBooleans;c=c.toLowerCase().slice(0,5);return"data-"!==c&&"aria-"!==c;default:return!1}}function $b(c,d,n,J){if(null===d||"undefined"===typeof d||Gb(c,d,n,J))return!0;if(J)return!1;if(null!==n)switch(n.type){case 3:return!d;case 4:return!1===d;case 5:return isNaN(d);
case 6:return isNaN(d)||1>d}return!1}function oc(c,d,n,J,na,Ba,tb){this.acceptsBooleans=2===d||3===d||4===d;this.attributeName=J;this.attributeNamespace=na;this.mustUseProperty=n;this.propertyName=c;this.type=d;this.sanitizeURL=Ba;this.removeEmptyString=tb}function kc(c){return c[1].toUpperCase()}function yc(c,d,n,J){var na=Mb.hasOwnProperty(d)?Mb[d]:null;if(null!==na?0!==na.type:J||!(2<d.length)||"o"!==d[0]&&"O"!==d[0]||"n"!==d[1]&&"N"!==d[1])$b(d,n,na,J)&&(n=null),J||null===na?hb(d)&&(null===n?
c.removeAttribute(d):c.setAttribute(d,""+n)):na.mustUseProperty?c[na.propertyName]=null===n?3===na.type?!1:"":n:(d=na.attributeName,J=na.attributeNamespace,null===n?c.removeAttribute(d):(na=na.type,n=3===na||4===na&&!0===n?"":""+n,J?c.setAttributeNS(J,d,n):c.setAttribute(d,n)))}function Ab(c){if(null===c||"object"!==typeof c)return null;c=Mg&&c[Mg]||c["@@iterator"];return"function"===typeof c?c:null}function gc(c){if(void 0===He)try{throw Error();}catch(n){var d=n.stack.trim().match(/\n( *(at )?)/);
He=d&&d[1]||""}return"\n"+He+c}function rc(c,d){if(!c||oe)return"";oe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error();},Object.defineProperty(d.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(d,[])}catch(zd){var J=zd}Reflect.construct(c,[],d)}else{try{d.call()}catch(zd){J=zd}c.call(d.prototype)}else{try{throw Error();}catch(zd){J=zd}c()}}catch(zd){if(zd&&J&&"string"===typeof zd.stack){for(var na=
zd.stack.split("\n"),Ba=J.stack.split("\n"),tb=na.length-1,vc=Ba.length-1;1<=tb&&0<=vc&&na[tb]!==Ba[vc];)vc--;for(;1<=tb&&0<=vc;tb--,vc--)if(na[tb]!==Ba[vc]){if(1!==tb||1!==vc){do if(tb--,vc--,0>vc||na[tb]!==Ba[vc]){var Oc="\n"+na[tb].replace(" at new "," at ");c.displayName&&Oc.includes("\x3canonymous\x3e")&&(Oc=Oc.replace("\x3canonymous\x3e",c.displayName));return Oc}while(1<=tb&&0<=vc)}break}}}finally{oe=!1,Error.prepareStackTrace=n}return(c=c?c.displayName||c.name:"")?gc(c):""}function Va(c){switch(c.tag){case 5:return gc(c.type);
case 16:return gc("Lazy");case 13:return gc("Suspense");case 19:return gc("SuspenseList");case 0:case 2:case 15:return c=rc(c.type,!1),c;case 11:return c=rc(c.type.render,!1),c;case 1:return c=rc(c.type,!0),c;default:return""}}function qb(c){if(null==c)return null;if("function"===typeof c)return c.displayName||c.name||null;if("string"===typeof c)return c;switch(c){case qd:return"Fragment";case mc:return"Portal";case xe:return"Profiler";case ud:return"StrictMode";case Rf:return"Suspense";case kg:return"SuspenseList"}if("object"===
typeof c)switch(c.$$typeof){case Se:return(c.displayName||"Context")+".Consumer";case qe:return(c._context.displayName||"Context")+".Provider";case Cf:var d=c.render;(c=c.displayName)||(c=d.displayName||d.name||"",c=""!==c?"ForwardRef("+c+")":"ForwardRef");return c;case Gh:return d=c.displayName||null,null!==d?d:qb(c.type)||"Memo";case gg:d=c._payload;c=c._init;try{return qb(c(d))}catch(n){}}return null}function Kb(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+
".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(""!==c?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qb(d);case 8:return d===ud?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof d)return d.displayName||d.name||null;if("string"===typeof d)return d}return null}function Ob(c){switch(typeof c){case "boolean":case "number":case "string":case "undefined":return c;case "object":return c;default:return""}}function Bb(c){var d=c.type;return(c=c.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===d||"radio"===d)}function Pb(c){var d=Bb(c)?"checked":"value",n=Object.getOwnPropertyDescriptor(c.constructor.prototype,
d),J=""+c[d];if(!c.hasOwnProperty(d)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var na=n.get,Ba=n.set;Object.defineProperty(c,d,{configurable:!0,get:function(){return na.call(this)},set:function(tb){J=""+tb;Ba.call(this,tb)}});Object.defineProperty(c,d,{enumerable:n.enumerable});return{getValue:function(){return J},setValue:function(tb){J=""+tb},stopTracking:function(){c._valueTracker=null;delete c[d]}}}}function Ua(c){c._valueTracker||(c._valueTracker=Pb(c))}function pb(c){if(!c)return!1;
var d=c._valueTracker;if(!d)return!0;var n=d.getValue(),J="";c&&(J=Bb(c)?c.checked?"true":"false":c.value);c=J;return c!==n?(d.setValue(c),!0):!1}function Oa(c){c=c||("undefined"!==typeof document?document:void 0);if("undefined"===typeof c)return null;try{return c.activeElement||c.body}catch(d){return c.body}}function Da(c,d){var n=d.checked;return tg({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:c._wrapperState.initialChecked})}function Pa(c,d){var n=null==d.defaultValue?
"":d.defaultValue,J=null!=d.checked?d.checked:d.defaultChecked;n=Ob(null!=d.value?d.value:n);c._wrapperState={initialChecked:J,initialValue:n,controlled:"checkbox"===d.type||"radio"===d.type?null!=d.checked:null!=d.value}}function kb(c,d){d=d.checked;null!=d&&yc(c,"checked",d,!1)}function lb(c,d){kb(c,d);var n=Ob(d.value),J=d.type;if(null!=n)if("number"===J){if(0===n&&""===c.value||c.value!=n)c.value=""+n}else c.value!==""+n&&(c.value=""+n);else if("submit"===J||"reset"===J){c.removeAttribute("value");
return}d.hasOwnProperty("value")?xb(c,d.type,n):d.hasOwnProperty("defaultValue")&&xb(c,d.type,Ob(d.defaultValue));null==d.checked&&null!=d.defaultChecked&&(c.defaultChecked=!!d.defaultChecked)}function Na(c,d,n){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var J=d.type;if(!("submit"!==J&&"reset"!==J||void 0!==d.value&&null!==d.value))return;d=""+c._wrapperState.initialValue;n||d===c.value||(c.value=d);c.defaultValue=d}n=c.name;""!==n&&(c.name="");c.defaultChecked=!!c._wrapperState.initialChecked;
""!==n&&(c.name=n)}function xb(c,d,n){if("number"!==d||Oa(c.ownerDocument)!==c)null==n?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+n&&(c.defaultValue=""+n)}function ob(c,d,n,J){c=c.options;if(d){d={};for(var na=0;na<n.length;na++)d["$"+n[na]]=!0;for(n=0;n<c.length;n++)na=d.hasOwnProperty("$"+c[n].value),c[n].selected!==na&&(c[n].selected=na),na&&J&&(c[n].defaultSelected=!0)}else{n=""+Ob(n);d=null;for(na=0;na<c.length;na++){if(c[na].value===n){c[na].selected=!0;J&&(c[na].defaultSelected=
!0);return}null!==d||c[na].disabled||(d=c[na])}null!==d&&(d.selected=!0)}}function Nb(c,d){if(null!=d.dangerouslySetInnerHTML)throw Error(r(91));return tg({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Zb(c,d){var n=d.value;if(null==n){n=d.children;d=d.defaultValue;if(null!=n){if(null!=d)throw Error(r(92));if(Le(n)){if(1<n.length)throw Error(r(93));n=n[0]}d=n}null==d&&(d="");n=d}c._wrapperState={initialValue:Ob(n)}}function nb(c,d){var n=Ob(d.value),J=Ob(d.defaultValue);
null!=n&&(n=""+n,n!==c.value&&(c.value=n),null==d.defaultValue&&c.defaultValue!==n&&(c.defaultValue=n));null!=J&&(c.defaultValue=""+J)}function la(c){var d=c.textContent;d===c._wrapperState.initialValue&&""!==d&&null!==d&&(c.value=d)}function Y(c){switch(c){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ha(c,d){return null==c||"http://www.w3.org/1999/xhtml"===c?Y(d):"http://www.w3.org/2000/svg"===
c&&"foreignObject"===d?"http://www.w3.org/1999/xhtml":c}function Fa(c,d){if(d){var n=c.firstChild;if(n&&n===c.lastChild&&3===n.nodeType){n.nodeValue=d;return}}c.textContent=d}function cb(c,d,n){return null==d||"boolean"===typeof d||""===d?"":n||"number"!==typeof d||0===d||Ng.hasOwnProperty(c)&&Ng[c]?(""+d).trim():d+"px"}function aa(c,d){c=c.style;for(var n in d)if(d.hasOwnProperty(n)){var J=0===n.indexOf("--"),na=cb(n,d[n],J);"float"===n&&(n="cssFloat");J?c.setProperty(n,na):c[n]=na}}function ma(c,
d){if(d){if(bh[c]&&(null!=d.children||null!=d.dangerouslySetInnerHTML))throw Error(r(137,c));if(null!=d.dangerouslySetInnerHTML){if(null!=d.children)throw Error(r(60));if("object"!==typeof d.dangerouslySetInnerHTML||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61));}if(null!=d.style&&"object"!==typeof d.style)throw Error(r(62));}}function p(c,d){if(-1===c.indexOf("-"))return"string"===typeof d.is;switch(c){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function L(c){c=c.target||c.srcElement||window;c.correspondingUseElement&&(c=c.correspondingUseElement);return 3===c.nodeType?c.parentNode:c}function P(c){if(c=ac(c)){if("function"!==typeof ji)throw Error(r(280));var d=c.stateNode;d&&(d=Cc(d),ji(c.stateNode,c.type,d))}}function f(c){Ri?aj?aj.push(c):aj=[c]:Ri=c}function v(){if(Ri){var c=Ri,d=aj;aj=Ri=null;P(c);if(d)for(c=0;c<d.length;c++)P(d[c])}}function l(c,d){return c(d)}function C(){}function B(c,d,n){if(Mj)return c(d,n);Mj=
!0;try{return l(c,d,n)}finally{if(Mj=!1,null!==Ri||null!==aj)C(),v()}}function z(c,d){var n=c.stateNode;if(null===n)return null;var J=Cc(n);if(null===J)return null;n=J[d];a:switch(d){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(J=!J.disabled)||(c=c.type,J=!("button"===c||"input"===c||"select"===c||"textarea"===
c));c=!J;break a;default:c=!1}if(c)return null;if(n&&"function"!==typeof n)throw Error(r(231,d,typeof n));return n}function D(c,d,n,J,na,Ba,tb,vc,Oc){var zd=Array.prototype.slice.call(arguments,3);try{d.apply(n,zd)}catch(he){this.onError(he)}}function G(c,d,n,J,na,Ba,tb,vc,Oc){pj=!1;Nj=null;D.apply(Si,arguments)}function U(c,d,n,J,na,Ba,tb,vc,Oc){G.apply(this,arguments);if(pj){if(pj){var zd=Nj;pj=!1;Nj=null}else throw Error(r(198));ok||(ok=!0,Oj=zd)}}function Aa(c){var d=c,n=c;if(c.alternate)for(;d.return;)d=
d.return;else{c=d;do d=c,0!==(d.flags&4098)&&(n=d.return),c=d.return;while(c)}return 3===d.tag?n:null}function X(c){if(13===c.tag){var d=c.memoizedState;null===d&&(c=c.alternate,null!==c&&(d=c.memoizedState));if(null!==d)return d.dehydrated}return null}function u(c){if(Aa(c)!==c)throw Error(r(188));}function K(c){var d=c.alternate;if(!d){d=Aa(c);if(null===d)throw Error(r(188));return d!==c?null:c}for(var n=c,J=d;;){var na=n.return;if(null===na)break;var Ba=na.alternate;if(null===Ba){J=na.return;if(null!==
J){n=J;continue}break}if(na.child===Ba.child){for(Ba=na.child;Ba;){if(Ba===n)return u(na),c;if(Ba===J)return u(na),d;Ba=Ba.sibling}throw Error(r(188));}if(n.return!==J.return)n=na,J=Ba;else{for(var tb=!1,vc=na.child;vc;){if(vc===n){tb=!0;n=na;J=Ba;break}if(vc===J){tb=!0;J=na;n=Ba;break}vc=vc.sibling}if(!tb){for(vc=Ba.child;vc;){if(vc===n){tb=!0;n=Ba;J=na;break}if(vc===J){tb=!0;J=Ba;n=na;break}vc=vc.sibling}if(!tb)throw Error(r(189));}}if(n.alternate!==J)throw Error(r(190));}if(3!==n.tag)throw Error(r(188));
return n.stateNode.current===n?c:d}function ua(c){c=K(c);return null!==c?Ja(c):null}function Ja(c){if(5===c.tag||6===c.tag)return c;for(c=c.child;null!==c;){var d=Ja(c);if(null!==d)return d;c=c.sibling}return null}function Wa(c){if(ui&&"function"===typeof ui.onCommitFiberRoot)try{ui.onCommitFiberRoot(pk,c,void 0,128===(c.current.flags&128))}catch(d){}}function ab(c){c>>>=0;return 0===c?32:31-(jl(c)/Il|0)|0}function W(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Ca(c,d){var n=c.pendingLanes;if(0===
n)return 0;var J=0,na=c.suspendedLanes,Ba=c.pingedLanes,tb=n&268435455;if(0!==tb){var vc=tb&~na;0!==vc?J=W(vc):(Ba&=tb,0!==Ba&&(J=W(Ba)))}else tb=n&~na,0!==tb?J=W(tb):0!==Ba&&(J=W(Ba));if(0===J)return 0;if(0!==d&&d!==J&&0===(d&na)&&(na=J&-J,Ba=d&-d,na>=Ba||16===na&&0!==(Ba&4194240)))return d;0!==(J&4)&&(J|=n&16);d=c.entangledLanes;if(0!==d)for(c=c.entanglements,d&=J;0<d;)n=31-$h(d),na=1<<n,J|=c[n],d&=~na;return J}function Za(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ib(c,d){for(var n=c.suspendedLanes,J=c.pingedLanes,na=c.expirationTimes,Ba=c.pendingLanes;0<Ba;){var tb=31-$h(Ba),vc=1<<tb,Oc=na[tb];if(-1===Oc){if(0===(vc&n)||0!==(vc&J))na[tb]=Za(vc,d)}else Oc<=d&&(c.expiredLanes|=vc);Ba&=~vc}}function xc(c){c=c.pendingLanes&-1073741825;return 0!==c?c:c&1073741824?1073741824:0}function uc(){var c=
Pj;Pj<<=1;0===(Pj&4194240)&&(Pj=64);return c}function wc(c){for(var d=[],n=0;31>n;n++)d.push(c);return d}function bd(c,d,n){c.pendingLanes|=d;536870912!==d&&(c.suspendedLanes=0,c.pingedLanes=0);c=c.eventTimes;d=31-$h(d);c[d]=n}function Wb(c,d){var n=c.pendingLanes&~d;c.pendingLanes=d;c.suspendedLanes=0;c.pingedLanes=0;c.expiredLanes&=d;c.mutableReadLanes&=d;c.entangledLanes&=d;d=c.entanglements;var J=c.eventTimes;for(c=c.expirationTimes;0<n;){var na=31-$h(n),Ba=1<<na;d[na]=0;J[na]=-1;c[na]=-1;n&=
~Ba}}function Rc(c,d){var n=c.entangledLanes|=d;for(c=c.entanglements;n;){var J=31-$h(n),na=1<<J;na&d|c[J]&d&&(c[J]|=d);n&=~na}}function Pd(c){c&=-c;return 1<c?4<c?0!==(c&268435455)?16:536870912:4:1}function Ka(c,d){switch(c){case "focusin":case "focusout":Ei=null;break;case "dragenter":case "dragleave":Fi=null;break;case "mouseover":case "mouseout":Gi=null;break;case "pointerover":case "pointerout":qj.delete(d.pointerId);break;case "gotpointercapture":case "lostpointercapture":Qj.delete(d.pointerId)}}
function Ub(c,d,n,J,na,Ba){if(null===c||c.nativeEvent!==Ba)return c={blockedOn:d,domEventName:n,eventSystemFlags:J,nativeEvent:Ba,targetContainers:[na]},null!==d&&(d=ac(d),null!==d&&kl(d)),c;c.eventSystemFlags|=J;d=c.targetContainers;null!==na&&-1===d.indexOf(na)&&d.push(na);return c}function rb(c,d,n,J,na){switch(d){case "focusin":return Ei=Ub(Ei,c,d,n,J,na),!0;case "dragenter":return Fi=Ub(Fi,c,d,n,J,na),!0;case "mouseover":return Gi=Ub(Gi,c,d,n,J,na),!0;case "pointerover":var Ba=na.pointerId;qj.set(Ba,
Ub(qj.get(Ba)||null,c,d,n,J,na));return!0;case "gotpointercapture":return Ba=na.pointerId,Qj.set(Ba,Ub(Qj.get(Ba)||null,c,d,n,J,na)),!0}return!1}function Sb(c){var d=Sa(c.target);if(null!==d){var n=Aa(d);if(null!==n)if(d=n.tag,13===d){if(d=X(n),null!==d){c.blockedOn=d;vi(c.priority,function(){ll(n)});return}}else if(3===d&&n.stateNode.current.memoizedState.isDehydrated){c.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}c.blockedOn=null}function fc(c){if(null!==c.blockedOn)return!1;for(var d=
c.targetContainers;0<d.length;){var n=gb(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(null===n){n=c.nativeEvent;var J=new n.constructor(n.type,n);Qh=J;n.target.dispatchEvent(J);Qh=null}else return d=ac(n),null!==d&&kl(d),c.blockedOn=n,!1;d.shift()}return!0}function bc(c,d,n){fc(c)&&n.delete(d)}function Hc(){qk=!1;null!==Ei&&fc(Ei)&&(Ei=null);null!==Fi&&fc(Fi)&&(Fi=null);null!==Gi&&fc(Gi)&&(Gi=null);qj.forEach(bc);Qj.forEach(bc)}function zc(c,d){c.blockedOn===d&&(c.blockedOn=null,qk||(qk=
!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,Hc)))}function Yc(c){function d(na){return zc(na,c)}if(0<rk.length){zc(rk[0],c);for(var n=1;n<rk.length;n++){var J=rk[n];J.blockedOn===c&&(J.blockedOn=null)}}null!==Ei&&zc(Ei,c);null!==Fi&&zc(Fi,c);null!==Gi&&zc(Gi,c);qj.forEach(d);Qj.forEach(d);for(n=0;n<Ti.length;n++)J=Ti[n],J.blockedOn===c&&(J.blockedOn=null);for(;0<Ti.length&&(n=Ti[0],null===n.blockedOn);)Sb(n),null===n.blockedOn&&Ti.shift()}function Md(c,d,n,J){var na=og,Ba=rj.transition;
rj.transition=null;try{og=1,Ga(c,d,n,J)}finally{og=na,rj.transition=Ba}}function td(c,d,n,J){var na=og,Ba=rj.transition;rj.transition=null;try{og=4,Ga(c,d,n,J)}finally{og=na,rj.transition=Ba}}function Ga(c,d,n,J){if(sk){var na=gb(c,d,n,J);if(null===na)df(c,d,J,tk,n),Ka(c,J);else if(rb(na,c,d,n,J))J.stopPropagation();else if(Ka(c,J),d&4&&-1<Jl.indexOf(c)){for(;null!==na;){var Ba=ac(na);null!==Ba&&ml(Ba);Ba=gb(c,d,n,J);null===Ba&&df(c,d,J,tk,n);if(Ba===na)break;na=Ba}null!==na&&J.stopPropagation()}else df(c,
d,J,null,n)}}function gb(c,d,n,J){tk=null;c=L(J);c=Sa(c);if(null!==c)if(d=Aa(c),null===d)c=null;else if(n=d.tag,13===n){c=X(d);if(null!==c)return c;c=null}else if(3===n){if(d.stateNode.current.memoizedState.isDehydrated)return 3===d.tag?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);tk=c;return null}function vb(c){switch(c){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(Nk()){case sj:return 1;case Ok:return 4;case Rj:case nl:return 16;case ol:return 536870912;default:return 16}default:return 16}}function ra(){if(Rh)return Rh;
var c,d=Ig,n=d.length,J,na="value"in Hi?Hi.value:Hi.textContent,Ba=na.length;for(c=0;c<n&&d[c]===na[c];c++);var tb=n-c;for(J=1;J<=tb&&d[n-J]===na[Ba-J];J++);return Rh=na.slice(c,1<J?1-J:void 0)}function F(c){var d=c.keyCode;"charCode"in c?(c=c.charCode,0===c&&13===d&&(c=13)):c=d;10===c&&(c=13);return 32<=c||13===c?c:0}function ya(){return!0}function La(){return!1}function $a(c){function d(n,J,na,Ba,tb){this._reactName=n;this._targetInst=na;this.type=J;this.nativeEvent=Ba;this.target=tb;this.currentTarget=
null;for(var vc in c)c.hasOwnProperty(vc)&&(n=c[vc],this[vc]=n?n(Ba):Ba[vc]);this.isDefaultPrevented=(null!=Ba.defaultPrevented?Ba.defaultPrevented:!1===Ba.returnValue)?ya:La;this.isPropagationStopped=La;return this}tg(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():"unknown"!==typeof n.returnValue&&(n.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():
"unknown"!==typeof n.cancelBubble&&(n.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya});return d}function jb(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Pk[c])?!!d[c]:!1}function Fb(){return jb}function nc(c,d){switch(c){case "keyup":return-1!==Ui.indexOf(d.keyCode);case "keydown":return 229!==d.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function dc(c){c=c.detail;return"object"===typeof c&&
"data"in c?c.data:null}function ic(c,d){switch(c){case "compositionend":return dc(d);case "keypress":if(32!==d.which)return null;uk=!0;return pl;case "textInput":return c=d.data,c===pl&&uk?null:c;default:return null}}function Uc(c,d){if(bj)return"compositionend"===c||!vk&&nc(c,d)?(c=ra(),Rh=Ig=Hi=null,bj=!1,c):null;switch(c){case "paste":return null;case "keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;
case "compositionend":return Sj&&"ko"!==d.locale?null:d.data;default:return null}}function cd(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return"input"===d?!!ai[c.type]:"textarea"===d?!0:!1}function dd(c,d,n,J){f(J);d=re(d,"onChange");0<d.length&&(n=new Vi("onChange","change",null,n,J),c.push({event:n,listeners:d}))}function Qd(c){$d(c,0)}function Td(c){var d=Pc(c);if(pb(d))return c}function Ed(c,d){if("change"===c)return d}function Zd(){Wi&&(Wi.detachEvent("onpropertychange",de),Tj=Wi=null)}
function de(c){if("value"===c.propertyName&&Td(Tj)){var d=[];dd(d,Tj,c,L(c));B(Qd,d)}}function Ud(c,d,n){"focusin"===c?(Zd(),Wi=d,Tj=n,Wi.attachEvent("onpropertychange",de)):"focusout"===c&&Zd()}function Te(c){if("selectionchange"===c||"keyup"===c||"keydown"===c)return Td(Tj)}function Xd(c,d){if("click"===c)return Td(d)}function M(c,d){if("input"===c||"change"===c)return Td(d)}function ka(c,d){return c===d&&(0!==c||1/c===1/d)||c!==c&&d!==d}function za(c,d){if(ki(c,d))return!0;if("object"!==typeof c||
null===c||"object"!==typeof d||null===d)return!1;var n=Object.keys(c),J=Object.keys(d);if(n.length!==J.length)return!1;for(J=0;J<n.length;J++){var na=n[J];if(!Ea.call(d,na)||!ki(c[na],d[na]))return!1}return!0}function fb(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Hb(c,d){var n=fb(c);c=0;for(var J;n;){if(3===n.nodeType){J=c+n.textContent.length;if(c<=d&&J>=d)return{node:n,offset:d-c};c=J}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=fb(n)}}function Xb(c,
d){return c&&d?c===d?!0:c&&3===c.nodeType?!1:d&&3===d.nodeType?Xb(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function Ac(){for(var c=window,d=Oa();d instanceof c.HTMLIFrameElement;){try{var n="string"===typeof d.contentWindow.location.href}catch(J){n=!1}if(n)c=d.contentWindow;else break;d=Oa(c.document)}return d}function lc(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&("input"===d&&("text"===c.type||"search"===c.type||
"tel"===c.type||"url"===c.type||"password"===c.type)||"textarea"===d||"true"===c.contentEditable)}function Fc(c){var d=Ac(),n=c.focusedElem,J=c.selectionRange;if(d!==n&&n&&n.ownerDocument&&Xb(n.ownerDocument.documentElement,n)){if(null!==J&&lc(n))if(d=J.start,c=J.end,void 0===c&&(c=d),"selectionStart"in n)n.selectionStart=d,n.selectionEnd=Math.min(c,n.value.length);else if(c=(d=n.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var na=n.textContent.length,Ba=Math.min(J.start,
na);J=void 0===J.end?Ba:Math.min(J.end,na);!c.extend&&Ba>J&&(na=J,J=Ba,Ba=na);na=Hb(n,Ba);var tb=Hb(n,J);na&&tb&&(1!==c.rangeCount||c.anchorNode!==na.node||c.anchorOffset!==na.offset||c.focusNode!==tb.node||c.focusOffset!==tb.offset)&&(d=d.createRange(),d.setStart(na.node,na.offset),c.removeAllRanges(),Ba>J?(c.addRange(d),c.extend(tb.node,tb.offset)):(d.setEnd(tb.node,tb.offset),c.addRange(d)))}d=[];for(c=n;c=c.parentNode;)1===c.nodeType&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});"function"===
typeof n.focus&&n.focus();for(n=0;n<d.length;n++)c=d[n],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}function hd(c,d,n){var J=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Uj||null==ch||ch!==Oa(J)||(J=ch,"selectionStart"in J&&lc(J)?J={start:J.selectionStart,end:J.selectionEnd}:(J=(J.ownerDocument&&J.ownerDocument.defaultView||window).getSelection(),J={anchorNode:J.anchorNode,anchorOffset:J.anchorOffset,focusNode:J.focusNode,focusOffset:J.focusOffset}),Vj&&za(Vj,J)||(Vj=J,J=re(Wj,
"onSelect"),0<J.length&&(d=new Vi("onSelect","select",null,d,n),c.push({event:d,listeners:J}),d.target=ch)))}function Nc(c,d){var n={};n[c.toLowerCase()]=d.toLowerCase();n["Webkit"+c]="webkit"+d;n["Moz"+c]="moz"+d;return n}function rd(c){if(Xj[c])return Xj[c];if(!Mh[c])return c;var d=Mh[c],n;for(n in d)if(d.hasOwnProperty(n)&&n in ql)return Xj[c]=d[n];return c}function Gd(c,d){li.set(c,d);g(d,[c])}function Fd(c,d,n){var J=c.type||"unknown-event";c.currentTarget=n;U(J,d,void 0,c);c.currentTarget=null}
function $d(c,d){d=0!==(d&4);for(var n=0;n<c.length;n++){var J=c[n],na=J.event;J=J.listeners;a:{var Ba=void 0;if(d)for(var tb=J.length-1;0<=tb;tb--){var vc=J[tb],Oc=vc.instance,zd=vc.currentTarget;vc=vc.listener;if(Oc!==Ba&&na.isPropagationStopped())break a;Fd(na,vc,zd);Ba=Oc}else for(tb=0;tb<J.length;tb++){vc=J[tb];Oc=vc.instance;zd=vc.currentTarget;vc=vc.listener;if(Oc!==Ba&&na.isPropagationStopped())break a;Fd(na,vc,zd);Ba=Oc}}}if(ok)throw c=Oj,ok=!1,Oj=null,c;}function Wd(c,d){var n=d[Qk];void 0===
n&&(n=d[Qk]=new Set);var J=c+"__bubble";n.has(J)||(ff(d,c,2,!1),n.add(J))}function ae(c,d,n){var J=0;d&&(J|=4);ff(n,c,J,d)}function Be(c){if(!c[wk]){c[wk]=!0;w.forEach(function(n){"selectionchange"!==n&&(Kl.has(n)||ae(n,!1,c),ae(n,!0,c))});var d=9===c.nodeType?c:c.ownerDocument;null===d||d[wk]||(d[wk]=!0,ae("selectionchange",!1,d))}}function ff(c,d,n,J){switch(vb(d)){case 1:var na=Md;break;case 4:na=td;break;default:na=Ga}n=na.bind(null,d,n,c);na=void 0;!Xh||"touchstart"!==d&&"touchmove"!==d&&"wheel"!==
d||(na=!0);J?void 0!==na?c.addEventListener(d,n,{capture:!0,passive:na}):c.addEventListener(d,n,!0):void 0!==na?c.addEventListener(d,n,{passive:na}):c.addEventListener(d,n,!1)}function df(c,d,n,J,na){var Ba=J;if(0===(d&1)&&0===(d&2)&&null!==J)a:for(;;){if(null===J)return;var tb=J.tag;if(3===tb||4===tb){var vc=J.stateNode.containerInfo;if(vc===na||8===vc.nodeType&&vc.parentNode===na)break;if(4===tb)for(tb=J.return;null!==tb;){var Oc=tb.tag;if(3===Oc||4===Oc)if(Oc=tb.stateNode.containerInfo,Oc===na||
8===Oc.nodeType&&Oc.parentNode===na)return;tb=tb.return}for(;null!==vc;){tb=Sa(vc);if(null===tb)return;Oc=tb.tag;if(5===Oc||6===Oc){J=Ba=tb;continue a}vc=vc.parentNode}}J=J.return}B(function(){var zd=Ba,he=L(n),me=[];a:{var fe=li.get(c);if(void 0!==fe){var Ee=Vi,Qe=c;switch(c){case "keypress":if(0===F(n))break a;case "keydown":case "keyup":Ee=Ll;break;case "focusin":Qe="focus";Ee=Rk;break;case "focusout":Qe="blur";Ee=Rk;break;case "beforeblur":case "afterblur":Ee=Rk;break;case "click":if(2===n.button)break a;
case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Ee=Yj;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Ee=Sk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Ee=Tk;break;case Xi:case wi:case Uk:Ee=Ml;break;case rl:Ee=tf;break;case "scroll":Ee=Nl;break;case "wheel":Ee=xh;break;case "copy":case "cut":case "paste":Ee=
Ol;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Ee=sl}var Ue=0!==(d&4),Ug=!Ue&&"scroll"===c,kd=Ue?null!==fe?fe+"Capture":null:fe;Ue=[];for(var Tc=zd,od;null!==Tc;){od=Tc;var ie=od.stateNode;5===od.tag&&null!==ie&&(od=ie,null!==kd&&(ie=z(Tc,kd),null!=ie&&Ue.push(af(Tc,ie,od))));if(Ug)break;Tc=Tc.return}0<Ue.length&&(fe=new Ee(fe,Qe,null,n,he),me.push({event:fe,listeners:Ue}))}}if(0===
(d&7)){fe="mouseover"===c||"pointerover"===c;Ee="mouseout"===c||"pointerout"===c;if(!fe||n===Qh||!(Qe=n.relatedTarget||n.fromElement)||!Sa(Qe)&&!Qe[mi])if(Ee||fe){fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window;if(Ee){if(Qe=n.relatedTarget||n.toElement,Ee=zd,Qe=Qe?Sa(Qe):null,null!==Qe&&(Ug=Aa(Qe),Qe!==Ug||5!==Qe.tag&&6!==Qe.tag))Qe=null}else Ee=null,Qe=zd;if(Ee!==Qe){Ue=Yj;ie="onMouseLeave";kd="onMouseEnter";Tc="mouse";if("pointerout"===c||"pointerover"===c)Ue=sl,
ie="onPointerLeave",kd="onPointerEnter",Tc="pointer";Ug=null==Ee?fe:Pc(Ee);od=null==Qe?fe:Pc(Qe);fe=new Ue(ie,Tc+"leave",Ee,n,he);fe.target=Ug;fe.relatedTarget=od;ie=null;Sa(he)===zd&&(Ue=new Ue(kd,Tc+"enter",Qe,n,he),Ue.target=od,Ue.relatedTarget=Ug,ie=Ue);Ug=ie;if(Ee&&Qe)b:{Ue=Ee;kd=Qe;Tc=0;for(od=Ue;od;od=pf(od))Tc++;od=0;for(ie=kd;ie;ie=pf(ie))od++;for(;0<Tc-od;)Ue=pf(Ue),Tc--;for(;0<od-Tc;)kd=pf(kd),od--;for(;Tc--;){if(Ue===kd||null!==kd&&Ue===kd.alternate)break b;Ue=pf(Ue);kd=pf(kd)}Ue=null}else Ue=
null;null!==Ee&&T(me,fe,Ee,Ue,!1);null!==Qe&&null!==Ug&&T(me,Ug,Qe,Ue,!0)}}fe=zd?Pc(zd):window;Ee=fe.nodeName&&fe.nodeName.toLowerCase();if("select"===Ee||"input"===Ee&&"file"===fe.type)var We=Ed;else if(cd(fe))if(Zj)We=M;else{We=Te;var kf=Ud}else(Ee=fe.nodeName)&&"input"===Ee.toLowerCase()&&("checkbox"===fe.type||"radio"===fe.type)&&(We=Xd);We&&(We=We(c,zd))?dd(me,We,n,he):(kf&&kf(c,fe,zd),"focusout"===c&&(kf=fe._wrapperState)&&kf.controlled&&"number"===fe.type&&xb(fe,"number",fe.value));kf=zd?Pc(zd):
window;switch(c){case "focusin":if(cd(kf)||"true"===kf.contentEditable)ch=kf,Wj=zd,Vj=null;break;case "focusout":Vj=Wj=ch=null;break;case "mousedown":Uj=!0;break;case "contextmenu":case "mouseup":case "dragend":Uj=!1;hd(me,n,he);break;case "selectionchange":if(Pl)break;case "keydown":case "keyup":hd(me,n,he)}var gf;if(vk)a:{switch(c){case "compositionstart":var uf="onCompositionStart";break a;case "compositionend":uf="onCompositionEnd";break a;case "compositionupdate":uf="onCompositionUpdate";break a}uf=
void 0}else bj?nc(c,n)&&(uf="onCompositionEnd"):"keydown"===c&&229===n.keyCode&&(uf="onCompositionStart");uf&&(Sj&&"ko"!==n.locale&&(bj||"onCompositionStart"!==uf?"onCompositionEnd"===uf&&bj&&(gf=ra()):(Hi=he,Ig="value"in Hi?Hi.value:Hi.textContent,bj=!0)),kf=re(zd,uf),0<kf.length&&(uf=new tl(uf,c,null,n,he),me.push({event:uf,listeners:kf}),gf?uf.data=gf:(gf=dc(n),null!==gf&&(uf.data=gf))));if(gf=Vk?ic(c,n):Uc(c,n))zd=re(zd,"onBeforeInput"),0<zd.length&&(he=new tl("onBeforeInput","beforeinput",null,
n,he),me.push({event:he,listeners:zd}),he.data=gf)}$d(me,d)})}function af(c,d,n){return{instance:c,listener:d,currentTarget:n}}function re(c,d){for(var n=d+"Capture",J=[];null!==c;){var na=c,Ba=na.stateNode;5===na.tag&&null!==Ba&&(na=Ba,Ba=z(c,n),null!=Ba&&J.unshift(af(c,Ba,na)),Ba=z(c,d),null!=Ba&&J.push(af(c,Ba,na)));c=c.return}return J}function pf(c){if(null===c)return null;do c=c.return;while(c&&5!==c.tag);return c?c:null}function T(c,d,n,J,na){for(var Ba=d._reactName,tb=[];null!==n&&n!==J;){var vc=
n,Oc=vc.alternate,zd=vc.stateNode;if(null!==Oc&&Oc===J)break;5===vc.tag&&null!==zd&&(vc=zd,na?(Oc=z(n,Ba),null!=Oc&&tb.unshift(af(n,Oc,vc))):na||(Oc=z(n,Ba),null!=Oc&&tb.push(af(n,Oc,vc))));n=n.return}0!==tb.length&&c.push({event:d,listeners:tb})}function ta(c){return("string"===typeof c?c:""+c).replace(Ql,"\n").replace(Rl,"")}function db(c,d,n){d=ta(d);if(ta(c)!==d&&n)throw Error(r(425));}function zb(){}function ec(c,d){return"textarea"===c||"noscript"===c||"string"===typeof d.children||"number"===
typeof d.children||"object"===typeof d.dangerouslySetInnerHTML&&null!==d.dangerouslySetInnerHTML&&null!=d.dangerouslySetInnerHTML.__html}function Bc(c){setTimeout(function(){throw c;})}function Yb(c,d){var n=d,J=0;do{var na=n.nextSibling;c.removeChild(n);if(na&&8===na.nodeType)if(n=na.data,"/$"===n){if(0===J){c.removeChild(na);Yc(d);return}J--}else"$"!==n&&"$?"!==n&&"$!"!==n||J++;n=na}while(n);Yc(d)}function I(c){for(;null!=c;c=c.nextSibling){var d=c.nodeType;if(1===d||3===d)break;if(8===d){d=c.data;
if("$"===d||"$!"===d||"$?"===d)break;if("/$"===d)return null}}return c}function da(c){c=c.previousSibling;for(var d=0;c;){if(8===c.nodeType){var n=c.data;if("$"===n||"$!"===n||"$?"===n){if(0===d)return c;d--}else"/$"===n&&d++}c=c.previousSibling}return null}function Sa(c){var d=c[xi];if(d)return d;for(var n=c.parentNode;n;){if(d=n[mi]||n[xi]){n=d.alternate;if(null!==d.child||null!==n&&null!==n.child)for(c=da(c);null!==c;){if(n=c[xi])return n;c=da(c)}return d}c=n;n=c.parentNode}return null}function ac(c){c=
c[xi]||c[mi];return!c||5!==c.tag&&6!==c.tag&&13!==c.tag&&3!==c.tag?null:c}function Pc(c){if(5===c.tag||6===c.tag)return c.stateNode;throw Error(r(33));}function Cc(c){return c[tj]||null}function Sc(c){return{current:c}}function fd(c){0>cj||(c.current=ak[cj],ak[cj]=null,cj--)}function ee(c,d){cj++;ak[cj]=c.current;c.current=d}function Ra(c,d){var n=c.type.contextTypes;if(!n)return yi;var J=c.stateNode;if(J&&J.__reactInternalMemoizedUnmaskedChildContext===d)return J.__reactInternalMemoizedMaskedChildContext;
var na={},Ba;for(Ba in n)na[Ba]=d[Ba];J&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=na);return na}function eb(c){c=c.childContextTypes;return null!==c&&void 0!==c}function pc(){fd(dh);fd(zg)}function vd(c,d,n){if(zg.current!==yi)throw Error(r(168));ee(zg,d);ee(dh,n)}function Jc(c,d,n){var J=c.stateNode;d=d.childContextTypes;if("function"!==typeof J.getChildContext)return n;J=J.getChildContext();for(var na in J)if(!(na in d))throw Error(r(108,
Kb(c)||"Unknown",na));return tg({},n,J)}function Vc(c){c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||yi;dj=zg.current;ee(zg,c);ee(dh,dh.current);return!0}function Qc(c,d,n){var J=c.stateNode;if(!J)throw Error(r(169));n?(c=Jc(c,d,dj),J.__reactInternalMemoizedMergedChildContext=c,fd(dh),fd(zg),ee(zg,c)):fd(dh);ee(dh,n)}function sd(c){null===Ii?Ii=[c]:Ii.push(c)}function id(c){zi=!0;sd(c)}function Nd(){if(!Wk&&null!==Ii){Wk=!0;var c=0,d=og;try{var n=Ii;for(og=1;c<n.length;c++){var J=
n[c];do J=J(!0);while(null!==J)}Ii=null;zi=!1}catch(na){throw null!==Ii&&(Ii=Ii.slice(c+1)),xk(sj,Nd),na;}finally{og=d,Wk=!1}}return null}function Bd(c,d){uj[eh++]=ej;uj[eh++]=bk;bk=c;ej=d}function be(c,d,n){Nh[bi++]=ci;Nh[bi++]=Ji;Nh[bi++]=Ai;Ai=c;var J=ci;c=Ji;var na=32-$h(J)-1;J&=~(1<<na);n+=1;var Ba=32-$h(d)+na;if(30<Ba){var tb=na-na%5;Ba=(J&(1<<tb)-1).toString(32);J>>=tb;na-=tb;ci=1<<32-$h(d)+na|n<<na|J;Ji=Ba+c}else ci=1<<Ba|n<<na|J,Ji=c}function we(c){null!==c.return&&(Bd(c,1),be(c,1,0))}function Ke(c){for(;c===
bk;)bk=uj[--eh],uj[eh]=null,ej=uj[--eh],uj[eh]=null;for(;c===Ai;)Ai=Nh[--bi],Nh[bi]=null,Ji=Nh[--bi],Nh[bi]=null,ci=Nh[--bi],Nh[bi]=null}function Xe(c,d){var n=lg(5,null,null,0);n.elementType="DELETED";n.stateNode=d;n.return=c;d=c.deletions;null===d?(c.deletions=[n],c.flags|=16):d.push(n)}function bf(c,d){switch(c.tag){case 5:var n=c.type;d=1!==d.nodeType||n.toLowerCase()!==d.nodeName.toLowerCase()?null:d;return null!==d?(c.stateNode=d,Hh=c,Sh=I(d.firstChild),!0):!1;case 6:return d=""===c.pendingProps||
3!==d.nodeType?null:d,null!==d?(c.stateNode=d,Hh=c,Sh=null,!0):!1;case 13:return d=8!==d.nodeType?null:d,null!==d?(n=null!==Ai?{id:ci,overflow:Ji}:null,c.memoizedState={dehydrated:d,treeContext:n,retryLane:1073741824},n=lg(18,null,null,0),n.stateNode=d,n.return=c,c.child=n,Hh=c,Sh=null,!0):!1;default:return!1}}function md(c){return 0!==(c.mode&1)&&0===(c.flags&128)}function Dc(c){if(Eg){var d=Sh;if(d){var n=d;if(!bf(c,d)){if(md(c))throw Error(r(418));d=I(n.nextSibling);var J=Hh;d&&bf(c,d)?Xe(J,n):
(c.flags=c.flags&-4097|2,Eg=!1,Hh=c)}}else{if(md(c))throw Error(r(418));c.flags=c.flags&-4097|2;Eg=!1;Hh=c}}}function jd(c){for(c=c.return;null!==c&&5!==c.tag&&3!==c.tag&&13!==c.tag;)c=c.return;Hh=c}function Ec(c){if(c!==Hh)return!1;if(!Eg)return jd(c),Eg=!0,!1;var d;(d=3!==c.tag)&&!(d=5!==c.tag)&&(d=c.type,d="head"!==d&&"body"!==d&&!ec(c.type,c.memoizedProps));if(d&&(d=Sh)){if(md(c))throw Id(),Error(r(418));for(;d;)Xe(c,d),d=I(d.nextSibling)}jd(c);if(13===c.tag){c=c.memoizedState;c=null!==c?c.dehydrated:
null;if(!c)throw Error(r(317));a:{c=c.nextSibling;for(d=0;c;){if(8===c.nodeType){var n=c.data;if("/$"===n){if(0===d){Sh=I(c.nextSibling);break a}d--}else"$"!==n&&"$!"!==n&&"$?"!==n||d++}c=c.nextSibling}Sh=null}}else Sh=Hh?I(c.stateNode.nextSibling):null;return!0}function Id(){for(var c=Sh;c;)c=I(c.nextSibling)}function Vd(){Sh=Hh=null;Eg=!1}function ce(c){null===ni?ni=[c]:ni.push(c)}function le(c,d){if(c&&c.defaultProps){d=tg({},d);c=c.defaultProps;for(var n in c)void 0===d[n]&&(d[n]=c[n])}return d}
function N(c){var d=vj.current;fd(vj);c._currentValue=d}function ca(c,d,n){for(;null!==c;){var J=c.alternate;(c.childLanes&d)!==d?(c.childLanes|=d,null!==J&&(J.childLanes|=d)):null!==J&&(J.childLanes&d)!==d&&(J.childLanes|=d);if(c===n)break;c=c.return}}function H(c,d){fj=c;ck=Yi=null;c=c.dependencies;null!==c&&null!==c.firstContext&&(0!==(c.lanes&d)&&(Oh=!0),c.firstContext=null)}function ja(c){var d=c._currentValue;if(ck!==c)if(c={context:c,memoizedValue:d,next:null},null===Yi){if(null===fj)throw Error(r(308));
Yi=c;fj.dependencies={lanes:0,firstContext:c}}else Yi=Yi.next=c;return d}function sa(c){null===Zi?Zi=[c]:Zi.push(c)}function Ia(c,d,n,J){var na=d.interleaved;null===na?(n.next=n,sa(d)):(n.next=na.next,na.next=n);d.interleaved=n;return ib(c,J)}function ib(c,d){c.lanes|=d;var n=c.alternate;null!==n&&(n.lanes|=d);n=c;for(c=c.return;null!==c;)c.childLanes|=d,n=c.alternate,null!==n&&(n.childLanes|=d),n=c,c=c.return;return 3===n.tag?n.stateNode:null}function ub(c){c.updateQueue={baseState:c.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qc(c,d){c=c.updateQueue;d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function sc(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function tc(c,d,n){var J=c.updateQueue;if(null===J)return null;J=J.shared;if(0!==(Yf&2)){var na=J.pending;null===na?d.next=
d:(d.next=na.next,na.next=d);J.pending=d;return ib(c,n)}na=J.interleaved;null===na?(d.next=d,sa(J)):(d.next=na.next,na.next=d);J.interleaved=d;return ib(c,n)}function Ic(c,d,n){d=d.updateQueue;if(null!==d&&(d=d.shared,0!==(n&4194240))){var J=d.lanes;J&=c.pendingLanes;n|=J;d.lanes=n;Rc(c,n)}}function Ad(c,d){var n=c.updateQueue,J=c.alternate;if(null!==J&&(J=J.updateQueue,n===J)){var na=null,Ba=null;n=n.firstBaseUpdate;if(null!==n){do{var tb={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,
callback:n.callback,next:null};null===Ba?na=Ba=tb:Ba=Ba.next=tb;n=n.next}while(null!==n);null===Ba?na=Ba=d:Ba=Ba.next=d}else na=Ba=d;n={baseState:J.baseState,firstBaseUpdate:na,lastBaseUpdate:Ba,shared:J.shared,effects:J.effects};c.updateQueue=n}else c=n.lastBaseUpdate,null===c?n.firstBaseUpdate=d:c.next=d,n.lastBaseUpdate=d}function Gc(c,d,n,J){var na=c.updateQueue;Ki=!1;var Ba=na.firstBaseUpdate,tb=na.lastBaseUpdate,vc=na.shared.pending;if(null!==vc){na.shared.pending=null;var Oc=vc,zd=Oc.next;
Oc.next=null;null===tb?Ba=zd:tb.next=zd;var he=c.alternate;null!==he&&(he=he.updateQueue,vc=he.lastBaseUpdate,vc!==Oc&&(null===vc?he.firstBaseUpdate=zd:vc.next=zd,he.lastBaseUpdate=Oc))}if(null!==Ba){var me=na.baseState;tb=0;he=zd=Oc=null;vc=Ba;do{var fe=vc.lane,Ee=vc.eventTime;if((J&fe)===fe){null!==he&&(he=he.next={eventTime:Ee,lane:0,tag:vc.tag,payload:vc.payload,callback:vc.callback,next:null});a:{var Qe=c,Ue=vc;fe=d;Ee=n;switch(Ue.tag){case 1:Qe=Ue.payload;if("function"===typeof Qe){me=Qe.call(Ee,
me,fe);break a}me=Qe;break a;case 3:Qe.flags=Qe.flags&-65537|128;case 0:Qe=Ue.payload;fe="function"===typeof Qe?Qe.call(Ee,me,fe):Qe;if(null===fe||void 0===fe)break a;me=tg({},me,fe);break a;case 2:Ki=!0}}null!==vc.callback&&0!==vc.lane&&(c.flags|=64,fe=na.effects,null===fe?na.effects=[vc]:fe.push(vc))}else Ee={eventTime:Ee,lane:fe,tag:vc.tag,payload:vc.payload,callback:vc.callback,next:null},null===he?(zd=he=Ee,Oc=me):he=he.next=Ee,tb|=fe;vc=vc.next;if(null===vc)if(vc=na.shared.pending,null===vc)break;
else fe=vc,vc=fe.next,fe.next=null,na.lastBaseUpdate=fe,na.shared.pending=null}while(1);null===he&&(Oc=me);na.baseState=Oc;na.firstBaseUpdate=zd;na.lastBaseUpdate=he;d=na.shared.interleaved;if(null!==d){na=d;do tb|=na.lane,na=na.next;while(na!==d)}else null===Ba&&(na.shared.lanes=0);gj|=tb;c.lanes=tb;c.memoizedState=me}}function $c(c,d,n){c=d.effects;d.effects=null;if(null!==c)for(d=0;d<c.length;d++){var J=c[d],na=J.callback;if(null!==na){J.callback=null;J=n;if("function"!==typeof na)throw Error(r(191,
na));na.call(J)}}}function yd(c,d,n,J){d=c.memoizedState;n=n(J,d);n=null===n||void 0===n?d:tg({},d,n);c.memoizedState=n;0===c.lanes&&(c.updateQueue.baseState=n)}function Cd(c,d,n,J,na,Ba,tb){c=c.stateNode;return"function"===typeof c.shouldComponentUpdate?c.shouldComponentUpdate(J,Ba,tb):d.prototype&&d.prototype.isPureReactComponent?!za(n,J)||!za(na,Ba):!0}function Kd(c,d,n){var J=!1,na=yi,Ba=d.contextType;"object"===typeof Ba&&null!==Ba?Ba=ja(Ba):(na=eb(d)?dj:zg.current,J=d.contextTypes,Ba=(J=null!==
J&&void 0!==J)?Ra(c,na):yi);d=new d(n,Ba);c.memoizedState=null!==d.state&&void 0!==d.state?d.state:null;d.updater=dk;c.stateNode=d;d._reactInternals=c;J&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=na,c.__reactInternalMemoizedMaskedChildContext=Ba);return d}function Fe(c,d,n,J){c=d.state;"function"===typeof d.componentWillReceiveProps&&d.componentWillReceiveProps(n,J);"function"===typeof d.UNSAFE_componentWillReceiveProps&&d.UNSAFE_componentWillReceiveProps(n,J);d.state!==c&&dk.enqueueReplaceState(d,
d.state,null)}function Ce(c,d,n,J){var na=c.stateNode;na.props=n;na.state=c.memoizedState;na.refs=ul;ub(c);var Ba=d.contextType;"object"===typeof Ba&&null!==Ba?na.context=ja(Ba):(Ba=eb(d)?dj:zg.current,na.context=Ra(c,Ba));na.state=c.memoizedState;Ba=d.getDerivedStateFromProps;"function"===typeof Ba&&(yd(c,d,Ba,n),na.state=c.memoizedState);"function"===typeof d.getDerivedStateFromProps||"function"===typeof na.getSnapshotBeforeUpdate||"function"!==typeof na.UNSAFE_componentWillMount&&"function"!==
typeof na.componentWillMount||(d=na.state,"function"===typeof na.componentWillMount&&na.componentWillMount(),"function"===typeof na.UNSAFE_componentWillMount&&na.UNSAFE_componentWillMount(),d!==na.state&&dk.enqueueReplaceState(na,na.state,null),Gc(c,n,na,J),na.state=c.memoizedState);"function"===typeof na.componentDidMount&&(c.flags|=4194308)}function wd(c,d,n){c=n.ref;if(null!==c&&"function"!==typeof c&&"object"!==typeof c){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var J=n.stateNode}if(!J)throw Error(r(147,
c));var na=J,Ba=""+c;if(null!==d&&null!==d.ref&&"function"===typeof d.ref&&d.ref._stringRef===Ba)return d.ref;d=function(tb){var vc=na.refs;vc===ul&&(vc=na.refs={});null===tb?delete vc[Ba]:vc[Ba]=tb};d._stringRef=Ba;return d}if("string"!==typeof c)throw Error(r(284));if(!n._owner)throw Error(r(290,c));}return c}function ye(c,d){c=Object.prototype.toString.call(d);throw Error(r(31,"[object Object]"===c?"object with keys {"+Object.keys(d).join(", ")+"}":c));}function Ld(c){var d=c._init;return d(c._payload)}
function ge(c){function d(kd,Tc){if(c){var od=kd.deletions;null===od?(kd.deletions=[Tc],kd.flags|=16):od.push(Tc)}}function n(kd,Tc){if(!c)return null;for(;null!==Tc;)d(kd,Tc),Tc=Tc.sibling;return null}function J(kd,Tc){for(kd=new Map;null!==Tc;)null!==Tc.key?kd.set(Tc.key,Tc):kd.set(Tc.index,Tc),Tc=Tc.sibling;return kd}function na(kd,Tc){kd=Yh(kd,Tc);kd.index=0;kd.sibling=null;return kd}function Ba(kd,Tc,od){kd.index=od;if(!c)return kd.flags|=1048576,Tc;od=kd.alternate;if(null!==od)return od=od.index,
od<Tc?(kd.flags|=2,Tc):od;kd.flags|=2;return Tc}function tb(kd){c&&null===kd.alternate&&(kd.flags|=2);return kd}function vc(kd,Tc,od,ie){if(null===Tc||6!==Tc.tag)return Tc=Li(od,kd.mode,ie),Tc.return=kd,Tc;Tc=na(Tc,od);Tc.return=kd;return Tc}function Oc(kd,Tc,od,ie){var We=od.type;if(We===qd)return he(kd,Tc,od.props.children,ie,od.key);if(null!==Tc&&(Tc.elementType===We||"object"===typeof We&&null!==We&&We.$$typeof===gg&&Ld(We)===Tc.type))return ie=na(Tc,od.props),ie.ref=wd(kd,Tc,od),ie.return=kd,
ie;ie=oi(od.type,od.key,od.props,null,kd.mode,ie);ie.ref=wd(kd,Tc,od);ie.return=kd;return ie}function zd(kd,Tc,od,ie){if(null===Tc||4!==Tc.tag||Tc.stateNode.containerInfo!==od.containerInfo||Tc.stateNode.implementation!==od.implementation)return Tc=Ag(od,kd.mode,ie),Tc.return=kd,Tc;Tc=na(Tc,od.children||[]);Tc.return=kd;return Tc}function he(kd,Tc,od,ie,We){if(null===Tc||7!==Tc.tag)return Tc=di(od,kd.mode,ie,We),Tc.return=kd,Tc;Tc=na(Tc,od);Tc.return=kd;return Tc}function me(kd,Tc,od){if("string"===
typeof Tc&&""!==Tc||"number"===typeof Tc)return Tc=Li(""+Tc,kd.mode,od),Tc.return=kd,Tc;if("object"===typeof Tc&&null!==Tc){switch(Tc.$$typeof){case ed:return od=oi(Tc.type,Tc.key,Tc.props,null,kd.mode,od),od.ref=wd(kd,null,Tc),od.return=kd,od;case mc:return Tc=Ag(Tc,kd.mode,od),Tc.return=kd,Tc;case gg:var ie=Tc._init;return me(kd,ie(Tc._payload),od)}if(Le(Tc)||Ab(Tc))return Tc=di(Tc,kd.mode,od,null),Tc.return=kd,Tc;ye(kd,Tc)}return null}function fe(kd,Tc,od,ie){var We=null!==Tc?Tc.key:null;if("string"===
typeof od&&""!==od||"number"===typeof od)return null!==We?null:vc(kd,Tc,""+od,ie);if("object"===typeof od&&null!==od){switch(od.$$typeof){case ed:return od.key===We?Oc(kd,Tc,od,ie):null;case mc:return od.key===We?zd(kd,Tc,od,ie):null;case gg:return We=od._init,fe(kd,Tc,We(od._payload),ie)}if(Le(od)||Ab(od))return null!==We?null:he(kd,Tc,od,ie,null);ye(kd,od)}return null}function Ee(kd,Tc,od,ie,We){if("string"===typeof ie&&""!==ie||"number"===typeof ie)return kd=kd.get(od)||null,vc(Tc,kd,""+ie,We);
if("object"===typeof ie&&null!==ie){switch(ie.$$typeof){case ed:return kd=kd.get(null===ie.key?od:ie.key)||null,Oc(Tc,kd,ie,We);case mc:return kd=kd.get(null===ie.key?od:ie.key)||null,zd(Tc,kd,ie,We);case gg:var kf=ie._init;return Ee(kd,Tc,od,kf(ie._payload),We)}if(Le(ie)||Ab(ie))return kd=kd.get(od)||null,he(Tc,kd,ie,We,null);ye(Tc,ie)}return null}function Qe(kd,Tc,od,ie){for(var We=null,kf=null,gf=Tc,uf=Tc=0,fh=null;null!==gf&&uf<od.length;uf++){gf.index>uf?(fh=gf,gf=null):fh=gf.sibling;var Sf=
fe(kd,gf,od[uf],ie);if(null===Sf){null===gf&&(gf=fh);break}c&&gf&&null===Sf.alternate&&d(kd,gf);Tc=Ba(Sf,Tc,uf);null===kf?We=Sf:kf.sibling=Sf;kf=Sf;gf=fh}if(uf===od.length)return n(kd,gf),Eg&&Bd(kd,uf),We;if(null===gf){for(;uf<od.length;uf++)gf=me(kd,od[uf],ie),null!==gf&&(Tc=Ba(gf,Tc,uf),null===kf?We=gf:kf.sibling=gf,kf=gf);Eg&&Bd(kd,uf);return We}for(gf=J(kd,gf);uf<od.length;uf++)fh=Ee(gf,kd,uf,od[uf],ie),null!==fh&&(c&&null!==fh.alternate&&gf.delete(null===fh.key?uf:fh.key),Tc=Ba(fh,Tc,uf),null===
kf?We=fh:kf.sibling=fh,kf=fh);c&&gf.forEach(function(Mi){return d(kd,Mi)});Eg&&Bd(kd,uf);return We}function Ue(kd,Tc,od,ie){var We=Ab(od);if("function"!==typeof We)throw Error(r(150));od=We.call(od);if(null==od)throw Error(r(151));for(var kf=We=null,gf=Tc,uf=Tc=0,fh=null,Sf=od.next();null!==gf&&!Sf.done;uf++,Sf=od.next()){gf.index>uf?(fh=gf,gf=null):fh=gf.sibling;var Mi=fe(kd,gf,Sf.value,ie);if(null===Mi){null===gf&&(gf=fh);break}c&&gf&&null===Mi.alternate&&d(kd,gf);Tc=Ba(Mi,Tc,uf);null===kf?We=Mi:
kf.sibling=Mi;kf=Mi;gf=fh}if(Sf.done)return n(kd,gf),Eg&&Bd(kd,uf),We;if(null===gf){for(;!Sf.done;uf++,Sf=od.next())Sf=me(kd,Sf.value,ie),null!==Sf&&(Tc=Ba(Sf,Tc,uf),null===kf?We=Sf:kf.sibling=Sf,kf=Sf);Eg&&Bd(kd,uf);return We}for(gf=J(kd,gf);!Sf.done;uf++,Sf=od.next())Sf=Ee(gf,kd,uf,Sf.value,ie),null!==Sf&&(c&&null!==Sf.alternate&&gf.delete(null===Sf.key?uf:Sf.key),Tc=Ba(Sf,Tc,uf),null===kf?We=Sf:kf.sibling=Sf,kf=Sf);c&&gf.forEach(function(Xk){return d(kd,Xk)});Eg&&Bd(kd,uf);return We}function Ug(kd,
Tc,od,ie){"object"===typeof od&&null!==od&&od.type===qd&&null===od.key&&(od=od.props.children);if("object"===typeof od&&null!==od){switch(od.$$typeof){case ed:a:{for(var We=od.key,kf=Tc;null!==kf;){if(kf.key===We){We=od.type;if(We===qd){if(7===kf.tag){n(kd,kf.sibling);Tc=na(kf,od.props.children);Tc.return=kd;kd=Tc;break a}}else if(kf.elementType===We||"object"===typeof We&&null!==We&&We.$$typeof===gg&&Ld(We)===kf.type){n(kd,kf.sibling);Tc=na(kf,od.props);Tc.ref=wd(kd,kf,od);Tc.return=kd;kd=Tc;break a}n(kd,
kf);break}else d(kd,kf);kf=kf.sibling}od.type===qd?(Tc=di(od.props.children,kd.mode,ie,od.key),Tc.return=kd,kd=Tc):(ie=oi(od.type,od.key,od.props,null,kd.mode,ie),ie.ref=wd(kd,Tc,od),ie.return=kd,kd=ie)}return tb(kd);case mc:a:{for(kf=od.key;null!==Tc;){if(Tc.key===kf)if(4===Tc.tag&&Tc.stateNode.containerInfo===od.containerInfo&&Tc.stateNode.implementation===od.implementation){n(kd,Tc.sibling);Tc=na(Tc,od.children||[]);Tc.return=kd;kd=Tc;break a}else{n(kd,Tc);break}else d(kd,Tc);Tc=Tc.sibling}Tc=
Ag(od,kd.mode,ie);Tc.return=kd;kd=Tc}return tb(kd);case gg:return kf=od._init,Ug(kd,Tc,kf(od._payload),ie)}if(Le(od))return Qe(kd,Tc,od,ie);if(Ab(od))return Ue(kd,Tc,od,ie);ye(kd,od)}return"string"===typeof od&&""!==od||"number"===typeof od?(od=""+od,null!==Tc&&6===Tc.tag?(n(kd,Tc.sibling),Tc=na(Tc,od),Tc.return=kd,kd=Tc):(n(kd,Tc),Tc=Li(od,kd.mode,ie),Tc.return=kd,kd=Tc),tb(kd)):n(kd,Tc)}return Ug}function Ge(c){if(c===Bi)throw Error(r(174));return c}function hf(c,d){ee(ek,d);ee(wj,c);ee(pi,Bi);
c=d.nodeType;switch(c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Ha(null,"");break;default:c=8===c?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=Ha(d,c)}fd(pi);ee(pi,d)}function rf(){fd(pi);fd(wj);fd(ek)}function Je(c){Ge(ek.current);var d=Ge(pi.current),n=Ha(d,c.type);d!==n&&(ee(wj,c),ee(pi,n))}function ne(c){wj.current===c&&(fd(pi),fd(wj))}function Bf(c){for(var d=c;null!==d;){if(13===d.tag){var n=d.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||"$?"===n.data||"$!"===n.data))return d}else if(19===
d.tag&&void 0!==d.memoizedProps.revealOrder){if(0!==(d.flags&128))return d}else if(null!==d.child){d.child.return=d;d=d.child;continue}if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return null;d=d.return}d.sibling.return=d.return;d=d.sibling}return null}function Hf(){for(var c=0;c<yk.length;c++)yk[c]._workInProgressVersionPrimary=null;yk.length=0}function ef(){throw Error(r(321));}function Zf(c,d){if(null===d)return!1;for(var n=0;n<d.length&&n<c.length;n++)if(!ki(c[n],d[n]))return!1;
return!0}function Yd(c,d,n,J,na,Ba){hj=Ba;ug=d;d.memoizedState=null;d.updateQueue=null;d.lanes=0;fk.current=null===c||null===c.memoizedState?vl:wl;c=n(J,na);if(xj){Ba=0;do{xj=!1;yj=0;if(25<=Ba)throw Error(r(301));Ba+=1;hh=ih=null;d.updateQueue=null;fk.current=Sl;c=n(J,na)}while(xj)}fk.current=zk;d=null!==ih&&null!==ih.next;hj=0;hh=ih=ug=null;Ak=!1;if(d)throw Error(r(300));return c}function cf(){var c=0!==yj;yj=0;return c}function jf(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,
next:null};null===hh?ug.memoizedState=hh=c:hh=hh.next=c;return hh}function Ze(){if(null===ih){var c=ug.alternate;c=null!==c?c.memoizedState:null}else c=ih.next;var d=null===hh?ug.memoizedState:hh.next;if(null!==d)hh=d,ih=c;else{if(null===c)throw Error(r(310));ih=c;c={memoizedState:ih.memoizedState,baseState:ih.baseState,baseQueue:ih.baseQueue,queue:ih.queue,next:null};null===hh?ug.memoizedState=hh=c:hh=hh.next=c}return hh}function Gf(c,d){return"function"===typeof d?d(c):d}function If(c){var d=Ze(),
n=d.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=c;var J=ih,na=J.baseQueue,Ba=n.pending;if(null!==Ba){if(null!==na){var tb=na.next;na.next=Ba.next;Ba.next=tb}J.baseQueue=na=Ba;n.pending=null}if(null!==na){Ba=na.next;J=J.baseState;var vc=tb=null,Oc=null,zd=Ba;do{var he=zd.lane;if((hj&he)===he)null!==Oc&&(Oc=Oc.next={lane:0,action:zd.action,hasEagerState:zd.hasEagerState,eagerState:zd.eagerState,next:null}),J=zd.hasEagerState?zd.eagerState:c(J,zd.action);else{var me={lane:he,action:zd.action,
hasEagerState:zd.hasEagerState,eagerState:zd.eagerState,next:null};null===Oc?(vc=Oc=me,tb=J):Oc=Oc.next=me;ug.lanes|=he;gj|=he}zd=zd.next}while(null!==zd&&zd!==Ba);null===Oc?tb=J:Oc.next=vc;ki(J,d.memoizedState)||(Oh=!0);d.memoizedState=J;d.baseState=tb;d.baseQueue=Oc;n.lastRenderedState=J}c=n.interleaved;if(null!==c){na=c;do Ba=na.lane,ug.lanes|=Ba,gj|=Ba,na=na.next;while(na!==c)}else null===na&&(n.lanes=0);return[d.memoizedState,n.dispatch]}function xf(c){var d=Ze(),n=d.queue;if(null===n)throw Error(r(311));
n.lastRenderedReducer=c;var J=n.dispatch,na=n.pending,Ba=d.memoizedState;if(null!==na){n.pending=null;var tb=na=na.next;do Ba=c(Ba,tb.action),tb=tb.next;while(tb!==na);ki(Ba,d.memoizedState)||(Oh=!0);d.memoizedState=Ba;null===d.baseQueue&&(d.baseState=Ba);n.lastRenderedState=Ba}return[Ba,J]}function yf(){}function Bg(c,d){var n=ug,J=Ze(),na=d(),Ba=!ki(J.memoizedState,na);Ba&&(J.memoizedState=na,Oh=!0);J=J.queue;gd(Jf.bind(null,n,J,c),[c]);if(J.getSnapshot!==d||Ba||null!==hh&&hh.memoizedState.tag&
1){n.flags|=2048;Jg(9,vf.bind(null,n,J,na,d),void 0,null);if(null===oh)throw Error(r(349));0!==(hj&30)||hg(n,d,na)}return na}function hg(c,d,n){c.flags|=16384;c={getSnapshot:d,value:n};d=ug.updateQueue;null===d?(d={lastEffect:null,stores:null},ug.updateQueue=d,d.stores=[c]):(n=d.stores,null===n?d.stores=[c]:n.push(c))}function vf(c,d,n,J){d.value=n;d.getSnapshot=J;dg(d)&&Xg(c)}function Jf(c,d,n){return n(function(){dg(d)&&Xg(c)})}function dg(c){var d=c.getSnapshot;c=c.value;try{var n=d();return!ki(c,
n)}catch(J){return!0}}function Xg(c){var d=ib(c,1);null!==d&&ba(d,c,1,-1)}function Fg(c){var d=jf();"function"===typeof c&&(c=c());d.memoizedState=d.baseState=c;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:c};d.queue=c;c=c.dispatch=Og.bind(null,ug,c);return[d.memoizedState,c]}function Jg(c,d,n,J){c={tag:c,create:d,destroy:n,deps:J,next:null};d=ug.updateQueue;null===d?(d={lastEffect:null,stores:null},ug.updateQueue=d,d.lastEffect=c.next=c):(n=d.lastEffect,
null===n?d.lastEffect=c.next=c:(J=n.next,n.next=c,c.next=J,d.lastEffect=c));return c}function Sg(){return Ze().memoizedState}function pa(c,d,n,J){var na=jf();ug.flags|=c;na.memoizedState=Jg(1|d,n,void 0,void 0===J?null:J)}function bb(c,d,n,J){var na=Ze();J=void 0===J?null:J;var Ba=void 0;if(null!==ih){var tb=ih.memoizedState;Ba=tb.destroy;if(null!==J&&Zf(J,tb.deps)){na.memoizedState=Jg(d,n,Ba,J);return}}ug.flags|=c;na.memoizedState=Jg(1|d,n,Ba,J)}function Qb(c,d){return pa(8390656,8,c,d)}function gd(c,
d){return bb(2048,8,c,d)}function ld(c,d){return bb(4,2,c,d)}function pe(c,d){return bb(4,4,c,d)}function Oe(c,d){if("function"===typeof d)return c=c(),d(c),function(){d(null)};if(null!==d&&void 0!==d)return c=c(),d.current=c,function(){d.current=null}}function nf(c,d,n){n=null!==n&&void 0!==n?n.concat([c]):null;return bb(4,4,Oe.bind(null,d,c),n)}function Ef(){}function Me(c,d){var n=Ze();d=void 0===d?null:d;var J=n.memoizedState;if(null!==J&&null!==d&&Zf(d,J[1]))return J[0];n.memoizedState=[c,d];
return c}function $f(c,d){var n=Ze();d=void 0===d?null:d;var J=n.memoizedState;if(null!==J&&null!==d&&Zf(d,J[1]))return J[0];c=c();n.memoizedState=[c,d];return c}function Mf(c,d,n){if(0===(hj&21))return c.baseState&&(c.baseState=!1,Oh=!0),c.memoizedState=n;ki(n,d)||(n=uc(),ug.lanes|=n,gj|=n,c.baseState=!0);return d}function Tf(c,d){var n=og;og=0!==n&&4>n?n:4;c(!0);var J=zj.transition;zj.transition={};try{c(!1),d()}finally{og=n,zj.transition=J}}function pg(){return Ze().memoizedState}function qg(c,
d,n){var J=y(c);n={lane:J,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yg(c))gh(d,n);else if(n=Ia(c,d,n,J),null!==n){var na=k();ba(n,c,J,na);De(n,d,J)}}function Og(c,d,n){var J=y(c),na={lane:J,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yg(c))gh(d,na);else{var Ba=c.alternate;if(0===c.lanes&&(null===Ba||0===Ba.lanes)&&(Ba=d.lastRenderedReducer,null!==Ba))try{var tb=d.lastRenderedState,vc=Ba(tb,n);na.hasEagerState=!0;na.eagerState=vc;if(ki(vc,tb)){var Oc=d.interleaved;null===
Oc?(na.next=na,sa(d)):(na.next=Oc.next,Oc.next=na);d.interleaved=na;return}}catch(zd){}finally{}n=Ia(c,d,na,J);null!==n&&(na=k(),ba(n,c,J,na),De(n,d,J))}}function Yg(c){var d=c.alternate;return c===ug||null!==d&&d===ug}function gh(c,d){xj=Ak=!0;var n=c.pending;null===n?d.next=d:(d.next=n.next,n.next=d);c.pending=d}function De(c,d,n){if(0!==(n&4194240)){var J=d.lanes;J&=c.pendingLanes;n|=J;d.lanes=n;Rc(c,n)}}function Ie(c,d){try{var n="",J=d;do n+=Va(J),J=J.return;while(J)}catch(na){n="\nError generating stack: "+
na.message+"\n"+na.stack}return{value:c,source:d,stack:n,digest:null}}function Kf(c,d,n){return{value:c,source:null,stack:null!=n?n:null,digest:null!=d?d:null}}function wf(c,d){try{console.error(d.value)}catch(n){setTimeout(function(){throw n;})}}function lf(c,d,n){n=sc(-1,n);n.tag=3;n.payload={element:null};var J=d.value;n.callback=function(){gk||(gk=!0,Aj=J);wf(c,d)};return n}function zf(c,d,n){n=sc(-1,n);n.tag=3;var J=c.type.getDerivedStateFromError;if("function"===typeof J){var na=d.value;n.payload=
function(){return J(na)};n.callback=function(){wf(c,d)}}var Ba=c.stateNode;null!==Ba&&"function"===typeof Ba.componentDidCatch&&(n.callback=function(){wf(c,d);"function"!==typeof J&&(null===ei?ei=new Set([this]):ei.add(this));var tb=d.stack;this.componentDidCatch(d.value,{componentStack:null!==tb?tb:""})});return n}function rg(c,d,n){var J=c.pingCache;if(null===J){J=c.pingCache=new Tl;var na=new Set;J.set(d,na)}else na=J.get(d),void 0===na&&(na=new Set,J.set(d,na));na.has(n)||(na.add(n),c=Nf.bind(null,
c,d,n),d.then(c,c))}function vg(c){do{var d;if(d=13===c.tag)d=c.memoizedState,d=null!==d?null!==d.dehydrated?!0:!1:!0;if(d)return c;c=c.return}while(null!==c);return null}function ig(c,d,n,J,na){if(0===(c.mode&1))return c===d?c.flags|=65536:(c.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:(d=sc(-1,1),d.tag=2,tc(n,d,1))),n.lanes|=1),c;c.flags|=65536;c.lanes=na;return c}function Af(c,d,n,J){d.child=null===c?Bj(d,null,n,J):ij(d,c.child,n,J)}function Pg(c,d,n,J,na){n=
n.render;var Ba=d.ref;H(d,na);J=Yd(c,d,n,J,Ba,na);n=cf();if(null!==c&&!Oh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~na,Zg(c,d,na);Eg&&n&&we(d);d.flags|=1;Af(c,d,J,na);return d.child}function $g(c,d,n,J,na){if(null===c){var Ba=n.type;if("function"===typeof Ba&&!Kg(Ba)&&void 0===Ba.defaultProps&&null===n.compare&&void 0===n.defaultProps)return d.tag=15,d.type=Ba,jh(c,d,Ba,J,na);c=oi(n.type,null,J,d,d.mode,na);c.ref=d.ref;c.return=d;return d.child=c}Ba=c.child;if(0===(c.lanes&na)){var tb=
Ba.memoizedProps;n=n.compare;n=null!==n?n:za;if(n(tb,J)&&c.ref===d.ref)return Zg(c,d,na)}d.flags|=1;c=Yh(Ba,J);c.ref=d.ref;c.return=d;return d.child=c}function jh(c,d,n,J,na){if(null!==c){var Ba=c.memoizedProps;if(za(Ba,J)&&c.ref===d.ref)if(Oh=!1,d.pendingProps=J=Ba,0!==(c.lanes&na))0!==(c.flags&131072)&&(Oh=!0);else return d.lanes=c.lanes,Zg(c,d,na)}return ph(c,d,n,J,na)}function wg(c,d,n){var J=d.pendingProps,na=J.children,Ba=null!==c?c.memoizedState:null;if("hidden"===J.mode)if(0===(d.mode&1))d.memoizedState=
{baseLanes:0,cachePool:null,transitions:null},ee(Uf,Of),Of|=n;else{if(0===(n&1073741824))return c=null!==Ba?Ba.baseLanes|n:n,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,ee(Uf,Of),Of|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null};J=null!==Ba?Ba.baseLanes:n;ee(Uf,Of);Of|=J}else null!==Ba?(J=Ba.baseLanes|n,d.memoizedState=null):J=n,ee(Uf,Of),Of|=J;Af(c,d,na,n);return d.child}function qh(c,d){var n=d.ref;if(null===
c&&null!==n||null!==c&&c.ref!==n)d.flags|=512,d.flags|=2097152}function ph(c,d,n,J,na){var Ba=eb(n)?dj:zg.current;Ba=Ra(d,Ba);H(d,na);n=Yd(c,d,n,J,Ba,na);J=cf();if(null!==c&&!Oh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~na,Zg(c,d,na);Eg&&J&&we(d);d.flags|=1;Af(c,d,n,na);return d.child}function Ih(c,d,n,J,na){if(eb(n)){var Ba=!0;Vc(d)}else Ba=!1;H(d,na);if(null===d.stateNode)Qg(c,d),Kd(d,n,J),Ce(d,n,J,na),J=!0;else if(null===c){var tb=d.stateNode,vc=d.memoizedProps;tb.props=vc;var Oc=
tb.context,zd=n.contextType;"object"===typeof zd&&null!==zd?zd=ja(zd):(zd=eb(n)?dj:zg.current,zd=Ra(d,zd));var he=n.getDerivedStateFromProps,me="function"===typeof he||"function"===typeof tb.getSnapshotBeforeUpdate;me||"function"!==typeof tb.UNSAFE_componentWillReceiveProps&&"function"!==typeof tb.componentWillReceiveProps||(vc!==J||Oc!==zd)&&Fe(d,tb,J,zd);Ki=!1;var fe=d.memoizedState;tb.state=fe;Gc(d,J,tb,na);Oc=d.memoizedState;vc!==J||fe!==Oc||dh.current||Ki?("function"===typeof he&&(yd(d,n,he,
J),Oc=d.memoizedState),(vc=Ki||Cd(d,n,vc,J,fe,Oc,zd))?(me||"function"!==typeof tb.UNSAFE_componentWillMount&&"function"!==typeof tb.componentWillMount||("function"===typeof tb.componentWillMount&&tb.componentWillMount(),"function"===typeof tb.UNSAFE_componentWillMount&&tb.UNSAFE_componentWillMount()),"function"===typeof tb.componentDidMount&&(d.flags|=4194308)):("function"===typeof tb.componentDidMount&&(d.flags|=4194308),d.memoizedProps=J,d.memoizedState=Oc),tb.props=J,tb.state=Oc,tb.context=zd,
J=vc):("function"===typeof tb.componentDidMount&&(d.flags|=4194308),J=!1)}else{tb=d.stateNode;qc(c,d);vc=d.memoizedProps;zd=d.type===d.elementType?vc:le(d.type,vc);tb.props=zd;me=d.pendingProps;fe=tb.context;Oc=n.contextType;"object"===typeof Oc&&null!==Oc?Oc=ja(Oc):(Oc=eb(n)?dj:zg.current,Oc=Ra(d,Oc));var Ee=n.getDerivedStateFromProps;(he="function"===typeof Ee||"function"===typeof tb.getSnapshotBeforeUpdate)||"function"!==typeof tb.UNSAFE_componentWillReceiveProps&&"function"!==typeof tb.componentWillReceiveProps||
(vc!==me||fe!==Oc)&&Fe(d,tb,J,Oc);Ki=!1;fe=d.memoizedState;tb.state=fe;Gc(d,J,tb,na);var Qe=d.memoizedState;vc!==me||fe!==Qe||dh.current||Ki?("function"===typeof Ee&&(yd(d,n,Ee,J),Qe=d.memoizedState),(zd=Ki||Cd(d,n,zd,J,fe,Qe,Oc)||!1)?(he||"function"!==typeof tb.UNSAFE_componentWillUpdate&&"function"!==typeof tb.componentWillUpdate||("function"===typeof tb.componentWillUpdate&&tb.componentWillUpdate(J,Qe,Oc),"function"===typeof tb.UNSAFE_componentWillUpdate&&tb.UNSAFE_componentWillUpdate(J,Qe,Oc)),
"function"===typeof tb.componentDidUpdate&&(d.flags|=4),"function"===typeof tb.getSnapshotBeforeUpdate&&(d.flags|=1024)):("function"!==typeof tb.componentDidUpdate||vc===c.memoizedProps&&fe===c.memoizedState||(d.flags|=4),"function"!==typeof tb.getSnapshotBeforeUpdate||vc===c.memoizedProps&&fe===c.memoizedState||(d.flags|=1024),d.memoizedProps=J,d.memoizedState=Qe),tb.props=J,tb.state=Qe,tb.context=Oc,J=zd):("function"!==typeof tb.componentDidUpdate||vc===c.memoizedProps&&fe===c.memoizedState||(d.flags|=
4),"function"!==typeof tb.getSnapshotBeforeUpdate||vc===c.memoizedProps&&fe===c.memoizedState||(d.flags|=1024),J=!1)}return Vg(c,d,n,J,Ba,na)}function Vg(c,d,n,J,na,Ba){qh(c,d);var tb=0!==(d.flags&128);if(!J&&!tb)return na&&Qc(d,n,!1),Zg(c,d,Ba);J=d.stateNode;Ni.current=d;var vc=tb&&"function"!==typeof n.getDerivedStateFromError?null:J.render();d.flags|=1;null!==c&&tb?(d.child=ij(d,c.child,null,Ba),d.child=ij(d,null,vc,Ba)):Af(c,d,vc,Ba);d.memoizedState=J.state;na&&Qc(d,n,!0);return d.child}function rh(c){var d=
c.stateNode;d.pendingContext?vd(c,d.pendingContext,d.pendingContext!==d.context):d.context&&vd(c,d.context,!1);hf(c,d.containerInfo)}function yh(c){return{baseLanes:c,cachePool:null,transitions:null}}function qi(c,d,n){var J=d.pendingProps,na=Rg.current,Ba=!1,tb=0!==(d.flags&128),vc;(vc=tb)||(vc=null!==c&&null===c.memoizedState?!1:0!==(na&2));if(vc)Ba=!0,d.flags&=-129;else if(null===c||null!==c.memoizedState)na|=1;ee(Rg,na&1);if(null===c){Dc(d);c=d.memoizedState;if(null!==c&&(c=c.dehydrated,null!==
c))return 0===(d.mode&1)?d.lanes=1:"$!"===c.data?d.lanes=8:d.lanes=1073741824,null;tb=J.children;c=J.fallback;return Ba?(J=d.mode,Ba=d.child,tb={mode:"hidden",children:tb},0===(J&1)&&null!==Ba?(Ba.childLanes=0,Ba.pendingProps=tb):Ba=Oi(tb,J,0,null),c=di(c,J,n,null),Ba.return=d,c.return=d,Ba.sibling=c,d.child=Ba,d.child.memoizedState=yh(n),d.memoizedState=Bk,c):Tg(d,tb)}na=c.memoizedState;if(null!==na&&(vc=na.dehydrated,null!==vc))return ri(c,d,tb,J,vc,na,n);if(Ba){Ba=J.fallback;tb=d.mode;na=c.child;
vc=na.sibling;var Oc={mode:"hidden",children:J.children};0===(tb&1)&&d.child!==na?(J=d.child,J.childLanes=0,J.pendingProps=Oc,d.deletions=null):(J=Yh(na,Oc),J.subtreeFlags=na.subtreeFlags&14680064);null!==vc?Ba=Yh(vc,Ba):(Ba=di(Ba,tb,n,null),Ba.flags|=2);Ba.return=d;J.return=d;J.sibling=Ba;d.child=J;J=Ba;Ba=d.child;tb=c.child.memoizedState;tb=null===tb?yh(n):{baseLanes:tb.baseLanes|n,cachePool:null,transitions:tb.transitions};Ba.memoizedState=tb;Ba.childLanes=c.childLanes&~n;d.memoizedState=Bk;return J}Ba=
c.child;c=Ba.sibling;J=Yh(Ba,{mode:"visible",children:J.children});0===(d.mode&1)&&(J.lanes=n);J.return=d;J.sibling=null;null!==c&&(n=d.deletions,null===n?(d.deletions=[c],d.flags|=16):n.push(c));d.child=J;d.memoizedState=null;return J}function Tg(c,d){d=Oi({mode:"visible",children:d},c.mode,0,null);d.return=c;return c.child=d}function kh(c,d,n,J){null!==J&&ce(J);ij(d,c.child,null,n);c=Tg(d,d.pendingProps.children);c.flags|=2;d.memoizedState=null;return c}function ri(c,d,n,J,na,Ba,tb){if(n){if(d.flags&
256)return d.flags&=-257,J=Kf(Error(r(422))),kh(c,d,tb,J);if(null!==d.memoizedState)return d.child=c.child,d.flags|=128,null;Ba=J.fallback;na=d.mode;J=Oi({mode:"visible",children:J.children},na,0,null);Ba=di(Ba,na,tb,null);Ba.flags|=2;J.return=d;Ba.return=d;J.sibling=Ba;d.child=J;0!==(d.mode&1)&&ij(d,c.child,null,tb);d.child.memoizedState=yh(tb);d.memoizedState=Bk;return Ba}if(0===(d.mode&1))return kh(c,d,tb,null);if("$!"===na.data){if(J=na.nextSibling&&na.nextSibling.dataset)var vc=J.dgst;J=vc;Ba=
Error(r(419));J=Kf(Ba,J,void 0);return kh(c,d,tb,J)}vc=0!==(tb&c.childLanes);if(Oh||vc){J=oh;if(null!==J){switch(tb&-tb){case 4:na=2;break;case 16:na=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:na=32;break;case 536870912:na=268435456;break;default:na=0}na=0!==(na&(J.suspendedLanes|tb))?0:na;0!==na&&
na!==Ba.retryLane&&(Ba.retryLane=na,ib(c,na),ba(J,c,na,-1))}sf();J=Kf(Error(r(421)));return kh(c,d,tb,J)}if("$?"===na.data)return d.flags|=128,d.child=c.child,d=Lf.bind(null,c),na._reactRetry=d,null;c=Ba.treeContext;Sh=I(na.nextSibling);Hh=d;Eg=!0;ni=null;null!==c&&(Nh[bi++]=ci,Nh[bi++]=Ji,Nh[bi++]=Ai,ci=c.id,Ji=c.overflow,Ai=d);d=Tg(d,J.children);d.flags|=4096;return d}function Cg(c,d,n){c.lanes|=d;var J=c.alternate;null!==J&&(J.lanes|=d);ca(c.return,d,n)}function zh(c,d,n,J,na){var Ba=c.memoizedState;
null===Ba?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:J,tail:n,tailMode:na}:(Ba.isBackwards=d,Ba.rendering=null,Ba.renderingStartTime=0,Ba.last=J,Ba.tail=n,Ba.tailMode=na)}function Th(c,d,n){var J=d.pendingProps,na=J.revealOrder,Ba=J.tail;Af(c,d,J.children,n);J=Rg.current;if(0!==(J&2))J=J&1|2,d.flags|=128;else{if(null!==c&&0!==(c.flags&128))a:for(c=d.child;null!==c;){if(13===c.tag)null!==c.memoizedState&&Cg(c,n,d);else if(19===c.tag)Cg(c,n,d);else if(null!==c.child){c.child.return=
c;c=c.child;continue}if(c===d)break a;for(;null===c.sibling;){if(null===c.return||c.return===d)break a;c=c.return}c.sibling.return=c.return;c=c.sibling}J&=1}ee(Rg,J);if(0===(d.mode&1))d.memoizedState=null;else switch(na){case "forwards":n=d.child;for(na=null;null!==n;)c=n.alternate,null!==c&&null===Bf(c)&&(na=n),n=n.sibling;n=na;null===n?(na=d.child,d.child=null):(na=n.sibling,n.sibling=null);zh(d,!1,na,n,Ba);break;case "backwards":n=null;na=d.child;for(d.child=null;null!==na;){c=na.alternate;if(null!==
c&&null===Bf(c)){d.child=na;break}c=na.sibling;na.sibling=n;n=na;na=c}zh(d,!0,n,null,Ba);break;case "together":zh(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Qg(c,d){0===(d.mode&1)&&null!==c&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Zg(c,d,n){null!==c&&(d.dependencies=c.dependencies);gj|=d.lanes;if(0===(n&d.childLanes))return null;if(null!==c&&d.child!==c.child)throw Error(r(153));if(null!==d.child){c=d.child;n=Yh(c,c.pendingProps);d.child=n;for(n.return=
d;null!==c.sibling;)c=c.sibling,n=n.sibling=Yh(c,c.pendingProps),n.return=d;n.sibling=null}return d.child}function lh(c,d,n){switch(d.tag){case 3:rh(d);Vd();break;case 5:Je(d);break;case 1:eb(d.type)&&Vc(d);break;case 4:hf(d,d.stateNode.containerInfo);break;case 10:var J=d.type._context,na=d.memoizedProps.value;ee(vj,J._currentValue);J._currentValue=na;break;case 13:J=d.memoizedState;if(null!==J){if(null!==J.dehydrated)return ee(Rg,Rg.current&1),d.flags|=128,null;if(0!==(n&d.child.childLanes))return qi(c,
d,n);ee(Rg,Rg.current&1);c=Zg(c,d,n);return null!==c?c.sibling:null}ee(Rg,Rg.current&1);break;case 19:J=0!==(n&d.childLanes);if(0!==(c.flags&128)){if(J)return Th(c,d,n);d.flags|=128}na=d.memoizedState;null!==na&&(na.rendering=null,na.tail=null,na.lastEffect=null);ee(Rg,Rg.current);if(J)break;else return null;case 22:case 23:return d.lanes=0,wg(c,d,n)}return Zg(c,d,n)}function sh(c,d){if(!Eg)switch(c.tailMode){case "hidden":d=c.tail;for(var n=null;null!==d;)null!==d.alternate&&(n=d),d=d.sibling;null===
n?c.tail=null:n.sibling=null;break;case "collapsed":n=c.tail;for(var J=null;null!==n;)null!==n.alternate&&(J=n),n=n.sibling;null===J?d||null===c.tail?c.tail=null:c.tail.sibling=null:J.sibling=null}}function Gg(c){var d=null!==c.alternate&&c.alternate.child===c.child,n=0,J=0;if(d)for(var na=c.child;null!==na;)n|=na.lanes|na.childLanes,J|=na.subtreeFlags&14680064,J|=na.flags&14680064,na.return=c,na=na.sibling;else for(na=c.child;null!==na;)n|=na.lanes|na.childLanes,J|=na.subtreeFlags,J|=na.flags,na.return=
c,na=na.sibling;c.subtreeFlags|=J;c.childLanes=n;return d}function Jh(c,d,n){var J=d.pendingProps;Ke(d);switch(d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gg(d),null;case 1:return eb(d.type)&&pc(),Gg(d),null;case 3:J=d.stateNode;rf();fd(dh);fd(zg);Hf();J.pendingContext&&(J.context=J.pendingContext,J.pendingContext=null);if(null===c||null===c.child)Ec(d)?d.flags|=4:null===c||c.memoizedState.isDehydrated&&0===(d.flags&256)||(d.flags|=1024,null!==ni&&(Jb(ni),
ni=null));xl(c,d);Gg(d);return null;case 5:ne(d);var na=Ge(ek.current);n=d.type;if(null!==c&&null!=d.stateNode)Ul(c,d,n,J,na),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!J){if(null===d.stateNode)throw Error(r(166));Gg(d);return null}c=Ge(pi.current);if(Ec(d)){J=d.stateNode;n=d.type;var Ba=d.memoizedProps;J[xi]=d;J[tj]=Ba;c=0!==(d.mode&1);switch(n){case "dialog":Wd("cancel",J);Wd("close",J);break;case "iframe":case "object":case "embed":Wd("load",J);break;case "video":case "audio":for(na=
0;na<hk.length;na++)Wd(hk[na],J);break;case "source":Wd("error",J);break;case "img":case "image":case "link":Wd("error",J);Wd("load",J);break;case "details":Wd("toggle",J);break;case "input":Pa(J,Ba);Wd("invalid",J);break;case "select":J._wrapperState={wasMultiple:!!Ba.multiple};Wd("invalid",J);break;case "textarea":Zb(J,Ba),Wd("invalid",J)}ma(n,Ba);na=null;for(var tb in Ba)if(Ba.hasOwnProperty(tb)){var vc=Ba[tb];"children"===tb?"string"===typeof vc?J.textContent!==vc&&(!0!==Ba.suppressHydrationWarning&&
db(J.textContent,vc,c),na=["children",vc]):"number"===typeof vc&&J.textContent!==""+vc&&(!0!==Ba.suppressHydrationWarning&&db(J.textContent,vc,c),na=["children",""+vc]):S.hasOwnProperty(tb)&&null!=vc&&"onScroll"===tb&&Wd("scroll",J)}switch(n){case "input":Ua(J);Na(J,Ba,!0);break;case "textarea":Ua(J);la(J);break;case "select":case "option":break;default:"function"===typeof Ba.onClick&&(J.onclick=zb)}J=na;d.updateQueue=J;null!==J&&(d.flags|=4)}else{tb=9===na.nodeType?na:na.ownerDocument;"http://www.w3.org/1999/xhtml"===
c&&(c=Y(n));"http://www.w3.org/1999/xhtml"===c?"script"===n?(c=tb.createElement("div"),c.innerHTML="\x3cscript\x3e\x3c/script\x3e",c=c.removeChild(c.firstChild)):"string"===typeof J.is?c=tb.createElement(n,{is:J.is}):(c=tb.createElement(n),"select"===n&&(tb=c,J.multiple?tb.multiple=!0:J.size&&(tb.size=J.size))):c=tb.createElementNS(c,n);c[xi]=d;c[tj]=J;Vl(c,d,!1,!1);d.stateNode=c;a:{tb=p(n,J);switch(n){case "dialog":Wd("cancel",c);Wd("close",c);na=J;break;case "iframe":case "object":case "embed":Wd("load",
c);na=J;break;case "video":case "audio":for(na=0;na<hk.length;na++)Wd(hk[na],c);na=J;break;case "source":Wd("error",c);na=J;break;case "img":case "image":case "link":Wd("error",c);Wd("load",c);na=J;break;case "details":Wd("toggle",c);na=J;break;case "input":Pa(c,J);na=Da(c,J);Wd("invalid",c);break;case "option":na=J;break;case "select":c._wrapperState={wasMultiple:!!J.multiple};na=tg({},J,{value:void 0});Wd("invalid",c);break;case "textarea":Zb(c,J);na=Nb(c,J);Wd("invalid",c);break;default:na=J}ma(n,
na);vc=na;for(Ba in vc)if(vc.hasOwnProperty(Ba)){var Oc=vc[Ba];"style"===Ba?aa(c,Oc):"dangerouslySetInnerHTML"===Ba?(Oc=Oc?Oc.__html:void 0,null!=Oc&&mg(c,Oc)):"children"===Ba?"string"===typeof Oc?("textarea"!==n||""!==Oc)&&Fa(c,Oc):"number"===typeof Oc&&Fa(c,""+Oc):"suppressContentEditableWarning"!==Ba&&"suppressHydrationWarning"!==Ba&&"autoFocus"!==Ba&&(S.hasOwnProperty(Ba)?null!=Oc&&"onScroll"===Ba&&Wd("scroll",c):null!=Oc&&yc(c,Ba,Oc,tb))}switch(n){case "input":Ua(c);Na(c,J,!1);break;case "textarea":Ua(c);
la(c);break;case "option":null!=J.value&&c.setAttribute("value",""+Ob(J.value));break;case "select":c.multiple=!!J.multiple;Ba=J.value;null!=Ba?ob(c,!!J.multiple,Ba,!1):null!=J.defaultValue&&ob(c,!!J.multiple,J.defaultValue,!0);break;default:"function"===typeof na.onClick&&(c.onclick=zb)}switch(n){case "button":case "input":case "select":case "textarea":J=!!J.autoFocus;break a;case "img":J=!0;break a;default:J=!1}}J&&(d.flags|=4)}null!==d.ref&&(d.flags|=512,d.flags|=2097152)}Gg(d);return null;case 6:if(c&&
null!=d.stateNode)Wl(c,d,c.memoizedProps,J);else{if("string"!==typeof J&&null===d.stateNode)throw Error(r(166));n=Ge(ek.current);Ge(pi.current);if(Ec(d)){J=d.stateNode;n=d.memoizedProps;J[xi]=d;if(Ba=J.nodeValue!==n)if(c=Hh,null!==c)switch(c.tag){case 3:db(J.nodeValue,n,0!==(c.mode&1));break;case 5:!0!==c.memoizedProps.suppressHydrationWarning&&db(J.nodeValue,n,0!==(c.mode&1))}Ba&&(d.flags|=4)}else J=(9===n.nodeType?n:n.ownerDocument).createTextNode(J),J[xi]=d,d.stateNode=J}Gg(d);return null;case 13:fd(Rg);
J=d.memoizedState;if(null===c||null!==c.memoizedState&&null!==c.memoizedState.dehydrated){if(Eg&&null!==Sh&&0!==(d.mode&1)&&0===(d.flags&128))Id(),Vd(),d.flags|=98560,Ba=!1;else if(Ba=Ec(d),null!==J&&null!==J.dehydrated){if(null===c){if(!Ba)throw Error(r(318));Ba=d.memoizedState;Ba=null!==Ba?Ba.dehydrated:null;if(!Ba)throw Error(r(317));Ba[xi]=d}else Vd(),0===(d.flags&128)&&(d.memoizedState=null),d.flags|=4;Gg(d);Ba=!1}else null!==ni&&(Jb(ni),ni=null),Ba=!0;if(!Ba)return d.flags&65536?d:null}if(0!==
(d.flags&128))return d.lanes=n,d;J=null!==J;J!==(null!==c&&null!==c.memoizedState)&&J&&(d.child.flags|=8192,0!==(d.mode&1)&&(null===c||0!==(Rg.current&1)?0===ag&&(ag=3):sf()));null!==d.updateQueue&&(d.flags|=4);Gg(d);return null;case 4:return rf(),xl(c,d),null===c&&Be(d.stateNode.containerInfo),Gg(d),null;case 10:return N(d.type._context),Gg(d),null;case 17:return eb(d.type)&&pc(),Gg(d),null;case 19:fd(Rg);Ba=d.memoizedState;if(null===Ba)return Gg(d),null;J=0!==(d.flags&128);tb=Ba.rendering;if(null===
tb)if(J)sh(Ba,!1);else{if(0!==ag||null!==c&&0!==(c.flags&128))for(c=d.child;null!==c;){tb=Bf(c);if(null!==tb){d.flags|=128;sh(Ba,!1);J=tb.updateQueue;null!==J&&(d.updateQueue=J,d.flags|=4);d.subtreeFlags=0;J=n;for(n=d.child;null!==n;)Ba=n,c=J,Ba.flags&=14680066,tb=Ba.alternate,null===tb?(Ba.childLanes=0,Ba.lanes=c,Ba.child=null,Ba.subtreeFlags=0,Ba.memoizedProps=null,Ba.memoizedState=null,Ba.updateQueue=null,Ba.dependencies=null,Ba.stateNode=null):(Ba.childLanes=tb.childLanes,Ba.lanes=tb.lanes,Ba.child=
tb.child,Ba.subtreeFlags=0,Ba.deletions=null,Ba.memoizedProps=tb.memoizedProps,Ba.memoizedState=tb.memoizedState,Ba.updateQueue=tb.updateQueue,Ba.type=tb.type,c=tb.dependencies,Ba.dependencies=null===c?null:{lanes:c.lanes,firstContext:c.firstContext}),n=n.sibling;ee(Rg,Rg.current&1|2);return d.child}c=c.sibling}null!==Ba.tail&&ah()>jj&&(d.flags|=128,J=!0,sh(Ba,!1),d.lanes=4194304)}else{if(!J)if(c=Bf(tb),null!==c){if(d.flags|=128,J=!0,n=c.updateQueue,null!==n&&(d.updateQueue=n,d.flags|=4),sh(Ba,!0),
null===Ba.tail&&"hidden"===Ba.tailMode&&!tb.alternate&&!Eg)return Gg(d),null}else 2*ah()-Ba.renderingStartTime>jj&&1073741824!==n&&(d.flags|=128,J=!0,sh(Ba,!1),d.lanes=4194304);Ba.isBackwards?(tb.sibling=d.child,d.child=tb):(n=Ba.last,null!==n?n.sibling=tb:d.child=tb,Ba.last=tb)}if(null!==Ba.tail)return d=Ba.tail,Ba.rendering=d,Ba.tail=d.sibling,Ba.renderingStartTime=ah(),d.sibling=null,n=Rg.current,ee(Rg,J?n&1|2:n&1),d;Gg(d);return null;case 22:case 23:return te(),J=null!==d.memoizedState,null!==
c&&null!==c.memoizedState!==J&&(d.flags|=8192),J&&0!==(d.mode&1)?0!==(Of&1073741824)&&(Gg(d),d.subtreeFlags&6&&(d.flags|=8192)):Gg(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag));}function th(c,d){Ke(d);switch(d.tag){case 1:return eb(d.type)&&pc(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return rf(),fd(dh),fd(zg),Hf(),c=d.flags,0!==(c&65536)&&0===(c&128)?(d.flags=c&-65537|128,d):null;case 5:return ne(d),null;case 13:fd(Rg);c=d.memoizedState;if(null!==c&&null!==
c.dehydrated){if(null===d.alternate)throw Error(r(340));Vd()}c=d.flags;return c&65536?(d.flags=c&-65537|128,d):null;case 19:return fd(Rg),null;case 4:return rf(),null;case 10:return N(d.type._context),null;case 22:case 23:return te(),null;case 24:return null;default:return null}}function uh(c,d){var n=c.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(J){mf(c,d,J)}else n.current=null}function Ph(c,d,n){try{n()}catch(J){mf(c,d,J)}}function Uh(c,d){Yk=sk;c=Ac();if(lc(c)){if("selectionStart"in
c)var n={start:c.selectionStart,end:c.selectionEnd};else a:{n=(n=c.ownerDocument)&&n.defaultView||window;var J=n.getSelection&&n.getSelection();if(J&&0!==J.rangeCount){n=J.anchorNode;var na=J.anchorOffset,Ba=J.focusNode;J=J.focusOffset;try{n.nodeType,Ba.nodeType}catch(ie){n=null;break a}var tb=0,vc=-1,Oc=-1,zd=0,he=0,me=c,fe=null;b:for(;;){for(var Ee;;){me!==n||0!==na&&3!==me.nodeType||(vc=tb+na);me!==Ba||0!==J&&3!==me.nodeType||(Oc=tb+J);3===me.nodeType&&(tb+=me.nodeValue.length);if(null===(Ee=me.firstChild))break;
fe=me;me=Ee}for(;;){if(me===c)break b;fe===n&&++zd===na&&(vc=tb);fe===Ba&&++he===J&&(Oc=tb);if(null!==(Ee=me.nextSibling))break;me=fe;fe=me.parentNode}me=Ee}n=-1===vc||-1===Oc?null:{start:vc,end:Oc}}else n=null}n=n||{start:0,end:0}}else n=null;ik={focusedElem:c,selectionRange:n};sk=!1;for(Ne=d;null!==Ne;)if(d=Ne,c=d.child,0!==(d.subtreeFlags&1028)&&null!==c)c.return=d,Ne=c;else for(;null!==Ne;){d=Ne;try{var Qe=d.alternate;if(0!==(d.flags&1024))switch(d.tag){case 0:case 11:case 15:break;case 1:if(null!==
Qe){var Ue=Qe.memoizedProps,Ug=Qe.memoizedState,kd=d.stateNode,Tc=kd.getSnapshotBeforeUpdate(d.elementType===d.type?Ue:le(d.type,Ue),Ug);kd.__reactInternalSnapshotBeforeUpdate=Tc}break;case 3:var od=d.stateNode.containerInfo;1===od.nodeType?od.textContent="":9===od.nodeType&&od.documentElement&&od.removeChild(od.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163));}}catch(ie){mf(d,d.return,ie)}c=d.sibling;if(null!==c){c.return=d.return;Ne=c;break}Ne=d.return}Qe=yl;
yl=!1;return Qe}function mh(c,d,n){var J=d.updateQueue;J=null!==J?J.lastEffect:null;if(null!==J){var na=J=J.next;do{if((na.tag&c)===c){var Ba=na.destroy;na.destroy=void 0;void 0!==Ba&&Ph(d,n,Ba)}na=na.next}while(na!==J)}}function Ah(c,d){d=d.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var n=d=d.next;do{if((n.tag&c)===c){var J=n.create;n.destroy=J()}n=n.next}while(n!==d)}}function Vf(c){var d=c.ref;if(null!==d){var n=c.stateNode;switch(c.tag){case 5:c=n;break;default:c=n}"function"===typeof d?
d(c):d.current=c}}function Hg(c){var d=c.alternate;null!==d&&(c.alternate=null,Hg(d));c.child=null;c.deletions=null;c.sibling=null;5===c.tag&&(d=c.stateNode,null!==d&&(delete d[xi],delete d[tj],delete d[Qk],delete d[Xl],delete d[Vh]));c.stateNode=null;c.return=null;c.dependencies=null;c.memoizedProps=null;c.memoizedState=null;c.pendingProps=null;c.stateNode=null;c.updateQueue=null}function Wf(c){return 5===c.tag||3===c.tag||4===c.tag}function Df(c){a:for(;;){for(;null===c.sibling;){if(null===c.return||
Wf(c.return))return null;c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue a;if(null===c.child||4===c.tag)continue a;else c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Kh(c,d,n){var J=c.tag;if(5===J||6===J)c=c.stateNode,d?8===n.nodeType?n.parentNode.insertBefore(c,d):n.insertBefore(c,d):(8===n.nodeType?(d=n.parentNode,d.insertBefore(c,n)):(d=n,d.appendChild(c)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==
d.onclick||(d.onclick=zb));else if(4!==J&&(c=c.child,null!==c))for(Kh(c,d,n),c=c.sibling;null!==c;)Kh(c,d,n),c=c.sibling}function eg(c,d,n){var J=c.tag;if(5===J||6===J)c=c.stateNode,d?n.insertBefore(c,d):n.appendChild(c);else if(4!==J&&(c=c.child,null!==c))for(eg(c,d,n),c=c.sibling;null!==c;)eg(c,d,n),c=c.sibling}function Xf(c,d,n){for(n=n.child;null!==n;)R(c,d,n),n=n.sibling}function R(c,d,n){if(ui&&"function"===typeof ui.onCommitFiberUnmount)try{ui.onCommitFiberUnmount(pk,n)}catch(vc){}switch(n.tag){case 5:Lh||
uh(n,d);case 6:var J=Bh,na=si;Bh=null;Xf(c,d,n);Bh=J;si=na;null!==Bh&&(si?(c=Bh,n=n.stateNode,8===c.nodeType?c.parentNode.removeChild(n):c.removeChild(n)):Bh.removeChild(n.stateNode));break;case 18:null!==Bh&&(si?(c=Bh,n=n.stateNode,8===c.nodeType?Yb(c.parentNode,n):1===c.nodeType&&Yb(c,n),Yc(c)):Yb(Bh,n.stateNode));break;case 4:J=Bh;na=si;Bh=n.stateNode.containerInfo;si=!0;Xf(c,d,n);Bh=J;si=na;break;case 0:case 11:case 14:case 15:if(!Lh&&(J=n.updateQueue,null!==J&&(J=J.lastEffect,null!==J))){na=
J=J.next;do{var Ba=na,tb=Ba.destroy;Ba=Ba.tag;void 0!==tb&&(0!==(Ba&2)?Ph(n,d,tb):0!==(Ba&4)&&Ph(n,d,tb));na=na.next}while(na!==J)}Xf(c,d,n);break;case 1:if(!Lh&&(uh(n,d),J=n.stateNode,"function"===typeof J.componentWillUnmount))try{J.props=n.memoizedProps,J.state=n.memoizedState,J.componentWillUnmount()}catch(vc){mf(n,d,vc)}Xf(c,d,n);break;case 21:Xf(c,d,n);break;case 22:n.mode&1?(Lh=(J=Lh)||null!==n.memoizedState,Xf(c,d,n),Lh=J):Xf(c,d,n);break;default:Xf(c,d,n)}}function va(c){var d=c.updateQueue;
if(null!==d){c.updateQueue=null;var n=c.stateNode;null===n&&(n=c.stateNode=new Yl);d.forEach(function(J){var na=Wg.bind(null,c,J);n.has(J)||(n.add(J),J.then(na,na))})}}function Qa(c,d){var n=d.deletions;if(null!==n)for(var J=0;J<n.length;J++){var na=n[J];try{var Ba=c,tb=d,vc=tb;a:for(;null!==vc;){switch(vc.tag){case 5:Bh=vc.stateNode;si=!1;break a;case 3:Bh=vc.stateNode.containerInfo;si=!0;break a;case 4:Bh=vc.stateNode.containerInfo;si=!0;break a}vc=vc.return}if(null===Bh)throw Error(r(160));R(Ba,
tb,na);Bh=null;si=!1;var Oc=na.alternate;null!==Oc&&(Oc.return=null);na.return=null}catch(zd){mf(na,d,zd)}}if(d.subtreeFlags&12854)for(d=d.child;null!==d;)q(d,c),d=d.sibling}function q(c,d){var n=c.alternate,J=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Qa(d,c);Q(c);if(J&4){try{mh(3,c,c.return),Ah(3,c)}catch(Ue){mf(c,c.return,Ue)}try{mh(5,c,c.return)}catch(Ue){mf(c,c.return,Ue)}}break;case 1:Qa(d,c);Q(c);J&512&&null!==n&&uh(n,n.return);break;case 5:Qa(d,c);Q(c);J&512&&null!==n&&uh(n,n.return);
if(c.flags&32){var na=c.stateNode;try{Fa(na,"")}catch(Ue){mf(c,c.return,Ue)}}if(J&4&&(na=c.stateNode,null!=na)){var Ba=c.memoizedProps,tb=null!==n?n.memoizedProps:Ba,vc=c.type,Oc=c.updateQueue;c.updateQueue=null;if(null!==Oc)try{"input"===vc&&"radio"===Ba.type&&null!=Ba.name&&kb(na,Ba);p(vc,tb);var zd=p(vc,Ba);for(tb=0;tb<Oc.length;tb+=2){var he=Oc[tb],me=Oc[tb+1];"style"===he?aa(na,me):"dangerouslySetInnerHTML"===he?mg(na,me):"children"===he?Fa(na,me):yc(na,he,me,zd)}switch(vc){case "input":lb(na,
Ba);break;case "textarea":nb(na,Ba);break;case "select":var fe=na._wrapperState.wasMultiple;na._wrapperState.wasMultiple=!!Ba.multiple;var Ee=Ba.value;null!=Ee?ob(na,!!Ba.multiple,Ee,!1):fe!==!!Ba.multiple&&(null!=Ba.defaultValue?ob(na,!!Ba.multiple,Ba.defaultValue,!0):ob(na,!!Ba.multiple,Ba.multiple?[]:"",!1))}na[tj]=Ba}catch(Ue){mf(c,c.return,Ue)}}break;case 6:Qa(d,c);Q(c);if(J&4){if(null===c.stateNode)throw Error(r(162));na=c.stateNode;Ba=c.memoizedProps;try{na.nodeValue=Ba}catch(Ue){mf(c,c.return,
Ue)}}break;case 3:Qa(d,c);Q(c);if(J&4&&null!==n&&n.memoizedState.isDehydrated)try{Yc(d.containerInfo)}catch(Ue){mf(c,c.return,Ue)}break;case 4:Qa(d,c);Q(c);break;case 13:Qa(d,c);Q(c);na=c.child;na.flags&8192&&(Ba=null!==na.memoizedState,na.stateNode.isHidden=Ba,!Ba||null!==na.alternate&&null!==na.alternate.memoizedState||(Ck=ah()));J&4&&va(c);break;case 22:he=null!==n&&null!==n.memoizedState;c.mode&1?(Lh=(zd=Lh)||he,Qa(d,c),Lh=zd):Qa(d,c);Q(c);if(J&8192){zd=null!==c.memoizedState;if((c.stateNode.isHidden=
zd)&&!he&&0!==(c.mode&1))for(Ne=c,he=c.child;null!==he;){for(me=Ne=he;null!==Ne;){fe=Ne;Ee=fe.child;switch(fe.tag){case 0:case 11:case 14:case 15:mh(4,fe,fe.return);break;case 1:uh(fe,fe.return);var Qe=fe.stateNode;if("function"===typeof Qe.componentWillUnmount){J=fe;n=fe.return;try{d=J,Qe.props=d.memoizedProps,Qe.state=d.memoizedState,Qe.componentWillUnmount()}catch(Ue){mf(J,n,Ue)}}break;case 5:uh(fe,fe.return);break;case 22:if(null!==fe.memoizedState){E(me);continue}}null!==Ee?(Ee.return=fe,Ne=
Ee):E(me)}he=he.sibling}he=null;me=c;a:for(;;){if(5===me.tag){if(null===he){he=me;try{na=me.stateNode,zd?(Ba=na.style,"function"===typeof Ba.setProperty?Ba.setProperty("display","none","important"):Ba.display="none"):(vc=me.stateNode,Oc=me.memoizedProps.style,tb=void 0!==Oc&&null!==Oc&&Oc.hasOwnProperty("display")?Oc.display:null,vc.style.display=cb("display",tb))}catch(Ue){mf(c,c.return,Ue)}}}else if(6===me.tag){if(null===he)try{me.stateNode.nodeValue=zd?"":me.memoizedProps}catch(Ue){mf(c,c.return,
Ue)}}else if((22!==me.tag&&23!==me.tag||null===me.memoizedState||me===c)&&null!==me.child){me.child.return=me;me=me.child;continue}if(me===c)break a;for(;null===me.sibling;){if(null===me.return||me.return===c)break a;he===me&&(he=null);me=me.return}he===me&&(he=null);me.sibling.return=me.return;me=me.sibling}}break;case 19:Qa(d,c);Q(c);J&4&&va(c);break;case 21:break;default:Qa(d,c),Q(c)}}function Q(c){var d=c.flags;if(d&2){try{a:{for(var n=c.return;null!==n;){if(Wf(n))break a;n=n.return}throw Error(r(160));
}switch(n.tag){case 5:var J=n.stateNode;n.flags&32&&(Fa(J,""),n.flags&=-33);var na=Df(c);eg(c,na,J);break;case 3:case 4:var Ba=n.stateNode.containerInfo,tb=Df(c);Kh(c,tb,Ba);break;default:throw Error(r(161));}}catch(vc){mf(c,c.return,vc)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function ha(c,d,n){Ne=c;wa(c,d,n)}function wa(c,d,n){for(var J=0!==(c.mode&1);null!==Ne;){var na=Ne,Ba=na.child;if(22===na.tag&&J){var tb=null!==na.memoizedState||Cj;if(!tb){var vc=na.alternate,Oc=null!==vc&&null!==vc.memoizedState||
Lh;vc=Cj;var zd=Lh;Cj=tb;if((Lh=Oc)&&!zd)for(Ne=na;null!==Ne;)tb=Ne,Oc=tb.child,22===tb.tag&&null!==tb.memoizedState?fa(na):null!==Oc?(Oc.return=tb,Ne=Oc):fa(na);for(;null!==Ba;)Ne=Ba,wa(Ba,d,n),Ba=Ba.sibling;Ne=na;Cj=vc;Lh=zd}t(c,d,n)}else 0!==(na.subtreeFlags&8772)&&null!==Ba?(Ba.return=na,Ne=Ba):t(c,d,n)}}function t(c){for(;null!==Ne;){var d=Ne;if(0!==(d.flags&8772)){var n=d.alternate;try{if(0!==(d.flags&8772))switch(d.tag){case 0:case 11:case 15:Lh||Ah(5,d);break;case 1:var J=d.stateNode;if(d.flags&
4&&!Lh)if(null===n)J.componentDidMount();else{var na=d.elementType===d.type?n.memoizedProps:le(d.type,n.memoizedProps);J.componentDidUpdate(na,n.memoizedState,J.__reactInternalSnapshotBeforeUpdate)}var Ba=d.updateQueue;null!==Ba&&$c(d,Ba,J);break;case 3:var tb=d.updateQueue;if(null!==tb){n=null;if(null!==d.child)switch(d.child.tag){case 5:n=d.child.stateNode;break;case 1:n=d.child.stateNode}$c(d,tb,n)}break;case 5:var vc=d.stateNode;if(null===n&&d.flags&4){n=vc;var Oc=d.memoizedProps;switch(d.type){case "button":case "input":case "select":case "textarea":Oc.autoFocus&&
n.focus();break;case "img":Oc.src&&(n.src=Oc.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===d.memoizedState){var zd=d.alternate;if(null!==zd){var he=zd.memoizedState;if(null!==he){var me=he.dehydrated;null!==me&&Yc(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163));}Lh||d.flags&512&&Vf(d)}catch(fe){mf(d,d.return,fe)}}if(d===c){Ne=null;break}n=d.sibling;if(null!==n){n.return=d.return;Ne=n;break}Ne=d.return}}function E(c){for(;null!==
Ne;){var d=Ne;if(d===c){Ne=null;break}var n=d.sibling;if(null!==n){n.return=d.return;Ne=n;break}Ne=d.return}}function fa(c){for(;null!==Ne;){var d=Ne;try{switch(d.tag){case 0:case 11:case 15:var n=d.return;try{Ah(4,d)}catch(Oc){mf(d,n,Oc)}break;case 1:var J=d.stateNode;if("function"===typeof J.componentDidMount){var na=d.return;try{J.componentDidMount()}catch(Oc){mf(d,na,Oc)}}var Ba=d.return;try{Vf(d)}catch(Oc){mf(d,Ba,Oc)}break;case 5:var tb=d.return;try{Vf(d)}catch(Oc){mf(d,tb,Oc)}}}catch(Oc){mf(d,
d.return,Oc)}if(d===c){Ne=null;break}var vc=d.sibling;if(null!==vc){vc.return=d.return;Ne=vc;break}Ne=d.return}}function k(){return 0!==(Yf&6)?ah():-1!==Dk?Dk:Dk=ah()}function y(c){if(0===(c.mode&1))return 1;if(0!==(Yf&2)&&0!==Ch)return Ch&-Ch;if(null!==Zk.transition)return 0===jk&&(jk=uc()),jk;c=og;if(0!==c)return c;c=window.event;return c=void 0===c?16:vb(c.type)}function ba(c,d,n,J){if(50<kj)throw kj=0,$k=null,Error(r(185));bd(c,n,J);if(0===(Yf&2)||c!==oh)c===oh&&(0===(Yf&2)&&(fi|=n),4===ag&&Tb(c,
Ch)),oa(c,J),1===n&&0===Yf&&0===(d.mode&1)&&(jj=ah()+500,zi&&Nd())}function oa(c,d){var n=c.callbackNode;Ib(c,d);var J=Ca(c,c===oh?Ch:0);if(0===J)null!==n&&zl(n),c.callbackNode=null,c.callbackPriority=0;else if(d=J&-J,c.callbackPriority!==d){null!=n&&zl(n);if(1===d)0===c.tag?id(pd.bind(null,c)):sd(pd.bind(null,c)),Zl(function(){0===(Yf&6)&&Nd()}),n=null;else{switch(Pd(J)){case 1:n=sj;break;case 4:n=Ok;break;case 16:n=Rj;break;case 536870912:n=ol;break;default:n=Rj}n=jg(n,Ta.bind(null,c))}c.callbackPriority=
d;c.callbackNode=n}}function Ta(c,d){Dk=-1;jk=0;if(0!==(Yf&6))throw Error(r(327));var n=c.callbackNode;if(fg()&&c.callbackNode!==n)return null;var J=Ca(c,c===oh?Ch:0);if(0===J)return null;if(0!==(J&30)||0!==(J&c.expiredLanes)||d)d=Lg(c,J);else{d=J;var na=Yf;Yf|=2;var Ba=Ve();if(oh!==c||Ch!==d)Ci=null,jj=ah()+500,ve(c,d);do try{for(;null!==Dg&&!Al();)$e(Dg);break}catch(vc){ue(c,vc)}while(1);ck=Yi=fj=null;Dj.current=Ba;Yf=na;null!==Dg?d=0:(oh=null,Ch=0,d=ag)}if(0!==d){2===d&&(na=xc(c),0!==na&&(J=na,
d=Ya(c,na)));if(1===d)throw n=Zh,ve(c,0),Tb(c,J),oa(c,ah()),n;if(6===d)Tb(c,J);else{na=c.current.alternate;if(0===(J&30)&&!hc(na)&&(d=Lg(c,J),2===d&&(Ba=xc(c),0!==Ba&&(J=Ba,d=Ya(c,Ba))),1===d))throw n=Zh,ve(c,0),Tb(c,J),oa(c,ah()),n;c.finishedWork=na;c.finishedLanes=J;switch(d){case 0:case 1:throw Error(r(345));case 2:bg(c,Wh,Ci);break;case 3:Tb(c,J);if((J&130023424)===J&&(d=Ck+500-ah(),10<d)){if(0!==Ca(c,0))break;na=c.suspendedLanes;if((na&J)!==J){k();c.pingedLanes|=c.suspendedLanes&na;break}c.timeoutHandle=
Ek(bg.bind(null,c,Wh,Ci),d);break}bg(c,Wh,Ci);break;case 4:Tb(c,J);if((J&4194240)===J)break;d=c.eventTimes;for(na=-1;0<J;){var tb=31-$h(J);Ba=1<<tb;tb=d[tb];tb>na&&(na=tb);J&=~Ba}J=na;J=ah()-J;J=(120>J?120:480>J?480:1080>J?1080:1920>J?1920:3E3>J?3E3:4320>J?4320:1960*$l(J/1960))-J;if(10<J){c.timeoutHandle=Ek(bg.bind(null,c,Wh,Ci),J);break}bg(c,Wh,Ci);break;case 5:bg(c,Wh,Ci);break;default:throw Error(r(329));}}}oa(c,ah());return c.callbackNode===n?Ta.bind(null,c):null}function Ya(c,d){var n=kk;c.current.memoizedState.isDehydrated&&
(ve(c,d).flags|=256);c=Lg(c,d);2!==c&&(d=Wh,Wh=n,null!==d&&Jb(d));return c}function Jb(c){null===Wh?Wh=c:Wh.push.apply(Wh,c)}function hc(c){for(var d=c;;){if(d.flags&16384){var n=d.updateQueue;if(null!==n&&(n=n.stores,null!==n))for(var J=0;J<n.length;J++){var na=n[J],Ba=na.getSnapshot;na=na.value;try{if(!ki(Ba(),na))return!1}catch(tb){return!1}}}n=d.child;if(d.subtreeFlags&16384&&null!==n)n.return=d,d=n;else{if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return!0;d=d.return}d.sibling.return=
d.return;d=d.sibling}}return!0}function Tb(c,d){d&=~al;d&=~fi;c.suspendedLanes|=d;c.pingedLanes&=~d;for(c=c.expirationTimes;0<d;){var n=31-$h(d),J=1<<n;c[n]=-1;d&=~J}}function pd(c){if(0!==(Yf&6))throw Error(r(327));fg();var d=Ca(c,0);if(0===(d&1))return oa(c,ah()),null;var n=Lg(c,d);if(0!==c.tag&&2===n){var J=xc(c);0!==J&&(d=J,n=Ya(c,J))}if(1===n)throw n=Zh,ve(c,0),Tb(c,d),oa(c,ah()),n;if(6===n)throw Error(r(345));c.finishedWork=c.current.alternate;c.finishedLanes=d;bg(c,Wh,Ci);oa(c,ah());return null}
function Zc(c,d){var n=Yf;Yf|=1;try{return c(d)}finally{Yf=n,0===Yf&&(jj=ah()+500,zi&&Nd())}}function Rd(c){null!==gi&&0===gi.tag&&0===(Yf&6)&&fg();var d=Yf;Yf|=1;var n=hi.transition,J=og;try{if(hi.transition=null,og=1,c)return c()}finally{og=J,hi.transition=n,Yf=d,0===(Yf&6)&&Nd()}}function te(){Of=Uf.current;fd(Uf)}function ve(c,d){c.finishedWork=null;c.finishedLanes=0;var n=c.timeoutHandle;-1!==n&&(c.timeoutHandle=-1,Fk(n));if(null!==Dg)for(n=Dg.return;null!==n;){var J=n;Ke(J);switch(J.tag){case 1:J=
J.type.childContextTypes;null!==J&&void 0!==J&&pc();break;case 3:rf();fd(dh);fd(zg);Hf();break;case 5:ne(J);break;case 4:rf();break;case 13:fd(Rg);break;case 19:fd(Rg);break;case 10:N(J.type._context);break;case 22:case 23:te()}n=n.return}oh=c;Dg=c=Yh(c.current,null);Ch=Of=d;ag=0;Zh=null;al=fi=gj=0;Wh=kk=null;if(null!==Zi){for(d=0;d<Zi.length;d++)if(n=Zi[d],J=n.interleaved,null!==J){n.interleaved=null;var na=J.next,Ba=n.pending;if(null!==Ba){var tb=Ba.next;Ba.next=na;J.next=tb}n.pending=J}Zi=null}return c}
function ue(c,d){do{var n=Dg;try{ck=Yi=fj=null;fk.current=zk;if(Ak){for(var J=ug.memoizedState;null!==J;){var na=J.queue;null!==na&&(na.pending=null);J=J.next}Ak=!1}hj=0;hh=ih=ug=null;xj=!1;yj=0;bl.current=null;if(null===n||null===n.return){ag=1;Zh=d;Dg=null;break}a:{var Ba=c,tb=n.return,vc=n,Oc=d;d=Ch;vc.flags|=32768;if(null!==Oc&&"object"===typeof Oc&&"function"===typeof Oc.then){var zd=Oc,he=vc,me=he.tag;if(0===(he.mode&1)&&(0===me||11===me||15===me)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,
he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var Ee=vg(tb);if(null!==Ee){Ee.flags&=-257;ig(Ee,tb,vc,Ba,d);Ee.mode&1&&rg(Ba,zd,d);d=Ee;Oc=zd;var Qe=d.updateQueue;if(null===Qe){var Ue=new Set;Ue.add(Oc);d.updateQueue=Ue}else Qe.add(Oc);break a}else{if(0===(d&1)){rg(Ba,zd,d);sf();break a}Oc=Error(r(426))}}else if(Eg&&vc.mode&1){var Ug=vg(tb);if(null!==Ug){0===(Ug.flags&65536)&&(Ug.flags|=256);ig(Ug,tb,vc,Ba,d);ce(Ie(Oc,vc));break a}}Ba=Oc=Ie(Oc,vc);
4!==ag&&(ag=2);null===kk?kk=[Ba]:kk.push(Ba);Ba=tb;do{switch(Ba.tag){case 3:Ba.flags|=65536;d&=-d;Ba.lanes|=d;var kd=lf(Ba,Oc,d);Ad(Ba,kd);break a;case 1:vc=Oc;var Tc=Ba.type,od=Ba.stateNode;if(0===(Ba.flags&128)&&("function"===typeof Tc.getDerivedStateFromError||null!==od&&"function"===typeof od.componentDidCatch&&(null===ei||!ei.has(od)))){Ba.flags|=65536;d&=-d;Ba.lanes|=d;var ie=zf(Ba,vc,d);Ad(Ba,ie);break a}}Ba=Ba.return}while(null!==Ba)}Pe(n)}catch(We){d=We;Dg===n&&null!==n&&(Dg=n.return);continue}break}while(1)}
function Ve(){var c=Dj.current;Dj.current=zk;return null===c?zk:c}function sf(){if(0===ag||3===ag||2===ag)ag=4;null===oh||0===(gj&268435455)&&0===(fi&268435455)||Tb(oh,Ch)}function Lg(c,d){var n=Yf;Yf|=2;var J=Ve();if(oh!==c||Ch!==d)Ci=null,ve(c,d);do try{for(;null!==Dg;)$e(Dg);break}catch(na){ue(c,na)}while(1);ck=Yi=fj=null;Yf=n;Dj.current=J;if(null!==Dg)throw Error(r(261));oh=null;Ch=0;return ag}function $e(c){var d=am(c.alternate,c,Of);c.memoizedProps=c.pendingProps;null===d?Pe(c):Dg=d;bl.current=
null}function Pe(c){var d=c;do{var n=d.alternate;c=d.return;if(0===(d.flags&32768)){if(n=Jh(n,d,Of),null!==n){Dg=n;return}}else{n=th(n,d);if(null!==n){n.flags&=32767;Dg=n;return}if(null!==c)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{ag=6;Dg=null;return}}d=d.sibling;if(null!==d){Dg=d;return}Dg=d=c}while(null!==d);0===ag&&(ag=5)}function bg(c,d,n){var J=og,na=hi.transition;try{hi.transition=null,og=1,vh(c,d,n,J)}finally{hi.transition=na,og=J}return null}function vh(c,d,n,J){do fg();while(null!==
gi);if(0!==(Yf&6))throw Error(r(327));n=c.finishedWork;var na=c.finishedLanes;if(null===n)return null;c.finishedWork=null;c.finishedLanes=0;if(n===c.current)throw Error(r(177));c.callbackNode=null;c.callbackPriority=0;var Ba=n.lanes|n.childLanes;Wb(c,Ba);c===oh&&(Dg=oh=null,Ch=0);0===(n.subtreeFlags&2064)&&0===(n.flags&2064)||lk||(lk=!0,jg(Rj,function(){fg();return null}));Ba=0!==(n.flags&15990);if(0!==(n.subtreeFlags&15990)||Ba){Ba=hi.transition;hi.transition=null;var tb=og;og=1;var vc=Yf;Yf|=4;
bl.current=null;Uh(c,n);q(n,c);Fc(ik);sk=!!Yk;ik=Yk=null;c.current=n;ha(n,c,na);cl();Yf=vc;og=tb;hi.transition=Ba}else c.current=n;lk&&(lk=!1,gi=c,Ej=na);Ba=c.pendingLanes;0===Ba&&(ei=null);Wa(n.stateNode,J);oa(c,ah());if(null!==d)for(J=c.onRecoverableError,n=0;n<d.length;n++)na=d[n],J(na.value,{componentStack:na.stack,digest:na.digest});if(gk)throw gk=!1,c=Aj,Aj=null,c;0!==(Ej&1)&&0!==c.tag&&fg();Ba=c.pendingLanes;0!==(Ba&1)?c===$k?kj++:(kj=0,$k=c):kj=0;Nd();return null}function fg(){if(null!==gi){var c=
Pd(Ej),d=hi.transition,n=og;try{hi.transition=null;og=16>c?16:c;if(null===gi)var J=!1;else{c=gi;gi=null;Ej=0;if(0!==(Yf&6))throw Error(r(331));var na=Yf;Yf|=4;for(Ne=c.current;null!==Ne;){var Ba=Ne,tb=Ba.child;if(0!==(Ne.flags&16)){var vc=Ba.deletions;if(null!==vc){for(var Oc=0;Oc<vc.length;Oc++){var zd=vc[Oc];for(Ne=zd;null!==Ne;){var he=Ne;switch(he.tag){case 0:case 11:case 15:mh(8,he,Ba)}var me=he.child;if(null!==me)me.return=he,Ne=me;else for(;null!==Ne;){he=Ne;var fe=he.sibling,Ee=he.return;
Hg(he);if(he===zd){Ne=null;break}if(null!==fe){fe.return=Ee;Ne=fe;break}Ne=Ee}}}var Qe=Ba.alternate;if(null!==Qe){var Ue=Qe.child;if(null!==Ue){Qe.child=null;do{var Ug=Ue.sibling;Ue.sibling=null;Ue=Ug}while(null!==Ue)}}Ne=Ba}}if(0!==(Ba.subtreeFlags&2064)&&null!==tb)tb.return=Ba,Ne=tb;else a:for(;null!==Ne;){Ba=Ne;if(0!==(Ba.flags&2048))switch(Ba.tag){case 0:case 11:case 15:mh(9,Ba,Ba.return)}var kd=Ba.sibling;if(null!==kd){kd.return=Ba.return;Ne=kd;break a}Ne=Ba.return}}var Tc=c.current;for(Ne=Tc;null!==
Ne;){tb=Ne;var od=tb.child;if(0!==(tb.subtreeFlags&2064)&&null!==od)od.return=tb,Ne=od;else a:for(tb=Tc;null!==Ne;){vc=Ne;if(0!==(vc.flags&2048))try{switch(vc.tag){case 0:case 11:case 15:Ah(9,vc)}}catch(We){mf(vc,vc.return,We)}if(vc===tb){Ne=null;break a}var ie=vc.sibling;if(null!==ie){ie.return=vc.return;Ne=ie;break a}Ne=vc.return}}Yf=na;Nd();if(ui&&"function"===typeof ui.onPostCommitFiberRoot)try{ui.onPostCommitFiberRoot(pk,c)}catch(We){}J=!0}return J}finally{og=n,hi.transition=d}}return!1}function of(c,
d,n){d=Ie(n,d);d=lf(c,d,1);c=tc(c,d,1);d=k();null!==c&&(bd(c,1,d),oa(c,d))}function mf(c,d,n){if(3===c.tag)of(c,c,n);else for(;null!==d;){if(3===d.tag){of(d,c,n);break}else if(1===d.tag){var J=d.stateNode;if("function"===typeof d.type.getDerivedStateFromError||"function"===typeof J.componentDidCatch&&(null===ei||!ei.has(J))){c=Ie(n,c);c=zf(d,c,1);d=tc(d,c,1);c=k();null!==d&&(bd(d,1,c),oa(d,c));break}}d=d.return}}function Nf(c,d,n){var J=c.pingCache;null!==J&&J.delete(d);d=k();c.pingedLanes|=c.suspendedLanes&
n;oh===c&&(Ch&n)===n&&(4===ag||3===ag&&(Ch&130023424)===Ch&&500>ah()-Ck?ve(c,0):al|=n);oa(c,d)}function Pf(c,d){0===d&&(0===(c.mode&1)?d=1:(d=Gk,Gk<<=1,0===(Gk&130023424)&&(Gk=4194304)));var n=k();c=ib(c,d);null!==c&&(bd(c,d,n),oa(c,n))}function Lf(c){var d=c.memoizedState,n=0;null!==d&&(n=d.retryLane);Pf(c,n)}function Wg(c,d){var n=0;switch(c.tag){case 13:var J=c.stateNode,na=c.memoizedState;null!==na&&(n=na.retryLane);break;case 19:J=c.stateNode;break;default:throw Error(r(314));}null!==J&&J.delete(d);
Pf(c,n)}function jg(c,d){return xk(c,d)}function wh(c,d,n,J){this.tag=c;this.key=n;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=d;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=J;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function lg(c,d,n,J){return new wh(c,d,n,J)}function Kg(c){c=c.prototype;return!(!c||!c.isReactComponent)}
function sg(c){if("function"===typeof c)return Kg(c)?1:0;if(void 0!==c&&null!==c){c=c.$$typeof;if(c===Cf)return 11;if(c===Gh)return 14}return 2}function Yh(c,d){var n=c.alternate;null===n?(n=lg(c.tag,d,c.key,c.mode),n.elementType=c.elementType,n.type=c.type,n.stateNode=c.stateNode,n.alternate=c,c.alternate=n):(n.pendingProps=d,n.type=c.type,n.flags=0,n.subtreeFlags=0,n.deletions=null);n.flags=c.flags&14680064;n.childLanes=c.childLanes;n.lanes=c.lanes;n.child=c.child;n.memoizedProps=c.memoizedProps;
n.memoizedState=c.memoizedState;n.updateQueue=c.updateQueue;d=c.dependencies;n.dependencies=null===d?null:{lanes:d.lanes,firstContext:d.firstContext};n.sibling=c.sibling;n.index=c.index;n.ref=c.ref;return n}function oi(c,d,n,J,na,Ba){var tb=2;J=c;if("function"===typeof c)Kg(c)&&(tb=1);else if("string"===typeof c)tb=5;else a:switch(c){case qd:return di(n.children,na,Ba,d);case ud:tb=8;na|=8;break;case xe:return c=lg(12,n,d,na|2),c.elementType=xe,c.lanes=Ba,c;case Rf:return c=lg(13,n,d,na),c.elementType=
Rf,c.lanes=Ba,c;case kg:return c=lg(19,n,d,na),c.elementType=kg,c.lanes=Ba,c;case qf:return Oi(n,na,Ba,d);default:if("object"===typeof c&&null!==c)switch(c.$$typeof){case qe:tb=10;break a;case Se:tb=9;break a;case Cf:tb=11;break a;case Gh:tb=14;break a;case gg:tb=16;J=null;break a}throw Error(r(130,null==c?c:typeof c,""));}d=lg(tb,n,d,na);d.elementType=c;d.type=J;d.lanes=Ba;return d}function di(c,d,n,J){c=lg(7,c,J,d);c.lanes=n;return c}function Oi(c,d,n,J){c=lg(22,c,J,d);c.elementType=qf;c.lanes=
n;c.stateNode={isHidden:!1};return c}function Li(c,d,n){c=lg(6,c,null,d);c.lanes=n;return c}function Ag(c,d,n){d=lg(4,null!==c.children?c.children:[],c.key,d);d.lanes=n;d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation};return d}function Pi(c,d,n,J,na){this.tag=d;this.containerInfo=c;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=
0;this.eventTimes=wc(0);this.expirationTimes=wc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=wc(0);this.identifierPrefix=J;this.onRecoverableError=na;this.mutableSourceEagerHydrationData=null}function lj(c,d,n,J,na,Ba,tb,vc,Oc){c=new Pi(c,d,n,vc,Oc);1===d?(d=1,!0===Ba&&(d|=8)):d=0;Ba=lg(3,null,null,d);c.current=Ba;Ba.stateNode=c;Ba.memoizedState={element:J,isDehydrated:n,cache:null,transitions:null,
pendingSuspenseBoundaries:null};ub(Ba);return c}function ii(c,d,n){var J=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:mc,key:null==J?null:""+J,children:c,containerInfo:d,implementation:n}}function ti(c){if(!c)return yi;c=c._reactInternals;a:{if(Aa(c)!==c||1!==c.tag)throw Error(r(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break a;case 1:if(eb(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break a}}d=d.return}while(null!==d);throw Error(r(171));
}if(1===c.tag){var n=c.type;if(eb(n))return Jc(c,n,d)}return d}function x(c,d,n,J,na,Ba,tb,vc,Oc){c=lj(n,J,!0,c,na,Ba,tb,vc,Oc);c.context=ti(null);n=c.current;J=k();na=y(n);Ba=sc(J,na);Ba.callback=void 0!==d&&null!==d?d:null;tc(n,Ba,na);c.current.lanes=na;bd(c,na,J);oa(c,J);return c}function V(c,d,n,J){var na=d.current,Ba=k(),tb=y(na);n=ti(n);null===d.context?d.context=n:d.pendingContext=n;d=sc(Ba,tb);d.payload={element:c};J=void 0===J?null:J;null!==J&&(d.callback=J);c=tc(na,d,tb);null!==c&&(ba(c,
na,tb,Ba),Ic(c,na,tb));return tb}function ea(c){c=c.current;if(!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function Ma(c,d){c=c.memoizedState;if(null!==c&&null!==c.dehydrated){var n=c.retryLane;c.retryLane=0!==n&&n<d?n:d}}function yb(c,d){Ma(c,d);(c=c.alternate)&&Ma(c,d)}function Cb(){return null}function Rb(c){this._internalRoot=c}function jc(c){this._internalRoot=c}function Wc(c){return!(!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType)}
function Jd(c){return!(!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType&&(8!==c.nodeType||" react-mount-point-unstable "!==c.nodeValue))}function Sd(){}function ad(c,d,n,J,na){if(na){if("function"===typeof J){var Ba=J;J=function(){var zd=ea(tb);Ba.call(zd)}}var tb=x(d,J,c,0,null,!1,!1,"",Sd);c._reactRootContainer=tb;c[mi]=tb.current;Be(8===c.nodeType?c.parentNode:c);Rd();return tb}for(;na=c.lastChild;)c.removeChild(na);if("function"===typeof J){var vc=J;J=function(){var zd=ea(Oc);vc.call(zd)}}var Oc=
lj(c,0,!1,null,null,!1,!1,"",Sd);c._reactRootContainer=Oc;c[mi]=Oc.current;Be(8===c.nodeType?c.parentNode:c);Rd(function(){V(d,Oc,n,J)});return Oc}function ke(c,d,n,J,na){var Ba=n._reactRootContainer;if(Ba){var tb=Ba;if("function"===typeof na){var vc=na;na=function(){var Oc=ea(tb);vc.call(Oc)}}V(d,tb,c,na)}else tb=ad(n,d,c,na,J);return ea(tb)}var Ae=Db(2),Re=Db(5),w=new Set,S={},Z=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),
Ea=Object.prototype.hasOwnProperty,sb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wb={},Lb={},Mb={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){Mb[c]=
new oc(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];Mb[d]=new oc(d,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){Mb[c]=new oc(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){Mb[c]=new oc(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){Mb[c]=
new oc(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){Mb[c]=new oc(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){Mb[c]=new oc(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){Mb[c]=new oc(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){Mb[c]=new oc(c,5,!1,c.toLowerCase(),null,!1,!1)});var Kc=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=
c.replace(Kc,kc);Mb[d]=new oc(d,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(Kc,kc);Mb[d]=new oc(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(Kc,kc);Mb[d]=new oc(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){Mb[c]=new oc(c,1,!1,c.toLowerCase(),null,!1,!1)});Mb.xlinkHref=
new oc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){Mb[c]=new oc(c,1,!1,c.toLowerCase(),null,!0,!0)});var Dd=Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ed=Symbol.for("react.element"),mc=Symbol.for("react.portal"),qd=Symbol.for("react.fragment"),ud=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),qe=Symbol.for("react.provider"),Se=Symbol.for("react.context"),Cf=Symbol.for("react.forward_ref"),
Rf=Symbol.for("react.suspense"),kg=Symbol.for("react.suspense_list"),Gh=Symbol.for("react.memo"),gg=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var qf=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Mg=Symbol.iterator,tg=Object.assign,He,oe=!1,Le=Array.isArray,se,mg=function(c){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(d,n,J,na){MSApp.execUnsafeLocalFunction(function(){return c(d,
n,J,na)})}:c}(function(c,d){if("http://www.w3.org/2000/svg"!==c.namespaceURI||"innerHTML"in c)c.innerHTML=d;else{se=se||document.createElement("div");se.innerHTML="\x3csvg\x3e"+d.valueOf().toString()+"\x3c/svg\x3e";for(d=se.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}}),Ng={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xg=["Webkit","ms","Moz","O"];Object.keys(Ng).forEach(function(c){xg.forEach(function(d){d=
d+c.charAt(0).toUpperCase()+c.substring(1);Ng[d]=Ng[c]})});var bh=tg({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Qh=null,ji=null,Ri=null,aj=null,Mj=!1,Xh=!1;if(Z)try{var Fj={};Object.defineProperty(Fj,"passive",{get:function(){Xh=!0}});window.addEventListener("test",Fj,Fj);window.removeEventListener("test",Fj,Fj)}catch(c){Xh=!1}var pj=!1,Nj=null,ok=!1,Oj=null,Si={onError:function(c){pj=!0;Nj=c}},xk=Re.unstable_scheduleCallback,
zl=Re.unstable_cancelCallback,Al=Re.unstable_shouldYield,cl=Re.unstable_requestPaint,ah=Re.unstable_now,Nk=Re.unstable_getCurrentPriorityLevel,sj=Re.unstable_ImmediatePriority,Ok=Re.unstable_UserBlockingPriority,Rj=Re.unstable_NormalPriority,nl=Re.unstable_LowPriority,ol=Re.unstable_IdlePriority,pk=null,ui=null,$h=Math.clz32?Math.clz32:ab,jl=Math.log,Il=Math.LN2,Pj=64,Gk=4194304,og=0,qk=!1,rk=[],Ei=null,Fi=null,Gi=null,qj=new Map,Qj=new Map,Ti=[],Jl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
rj=Dd.ReactCurrentBatchConfig,sk=!0,tk=null,Hi=null,Ig=null,Rh=null,$i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=$a($i),Gj=tg({},$i,{view:0,detail:0}),Nl=$a(Gj),dl,Hk,Hj,Ij=tg({},Gj,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fb,button:0,buttons:0,relatedTarget:function(c){return void 0===c.relatedTarget?c.fromElement===c.srcElement?c.toElement:
c.fromElement:c.relatedTarget},movementX:function(c){if("movementX"in c)return c.movementX;c!==Hj&&(Hj&&"mousemove"===c.type?(dl=c.screenX-Hj.screenX,Hk=c.screenY-Hj.screenY):Hk=dl=0,Hj=c);return dl},movementY:function(c){return"movementY"in c?c.movementY:Hk}}),Yj=$a(Ij),bm=tg({},Ij,{dataTransfer:0}),Sk=$a(bm),Bl=tg({},Gj,{relatedTarget:0}),Rk=$a(Bl),Ik=tg({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Ml=$a(Ik),cm=tg({},$i,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:
window.clipboardData}}),Ol=$a(cm),dm=tg({},$i,{data:0}),tl=$a(dm),em={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},gm=tg({},Gj,{key:function(c){if(c.key){var d=em[c.key]||c.key;if("Unidentified"!==d)return d}return"keypress"===c.type?(c=F(c),13===c?"Enter":String.fromCharCode(c)):"keydown"===c.type||"keyup"===c.type?fm[c.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fb,charCode:function(c){return"keypress"===c.type?F(c):0},keyCode:function(c){return"keydown"===c.type||"keyup"===c.type?c.keyCode:0},which:function(c){return"keypress"===c.type?F(c):"keydown"===c.type||"keyup"===c.type?c.keyCode:0}}),Ll=$a(gm),hm=tg({},Ij,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=$a(hm),el=tg({},Gj,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fb}),Tk=$a(el),im=tg({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),tf=$a(im),je=tg({},Ij,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),xh=$a(je),Ui=[9,13,27,32],vk=Z&&"CompositionEvent"in window,Jj=null;Z&&"documentMode"in document&&(Jj=document.documentMode);var Vk=
Z&&"TextEvent"in window&&!Jj,Sj=Z&&(!vk||Jj&&8<Jj&&11>=Jj),pl=String.fromCharCode(32),uk=!1,bj=!1,ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Wi=null,Tj=null,Zj=!1;if(Z){if(Z){var fl="oninput"in document;if(!fl){var mk=document.createElement("div");mk.setAttribute("oninput","return;");fl="function"===typeof mk.oninput}var Cl=fl}else Cl=!1;Zj=Cl&&(!document.documentMode||9<document.documentMode)}var ki=
"function"===typeof Object.is?Object.is:ka,Pl=Z&&"documentMode"in document&&11>=document.documentMode,ch=null,Wj=null,Vj=null,Uj=!1,Mh={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},Xj={},ql={};Z&&(ql=document.createElement("div").style,"AnimationEvent"in window||(delete Mh.animationend.animation,delete Mh.animationiteration.animation,delete Mh.animationstart.animation),
"TransitionEvent"in window||delete Mh.transitionend.transition);for(var Xi=rd("animationend"),wi=rd("animationiteration"),Uk=rd("animationstart"),rl=rd("transitionend"),li=new Map,nk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
Jk=0;Jk<nk.length;Jk++){var Kk=nk[Jk],jm=Kk.toLowerCase(),km=Kk[0].toUpperCase()+Kk.slice(1);Gd(jm,"on"+km)}Gd(Xi,"onAnimationEnd");Gd(wi,"onAnimationIteration");Gd(Uk,"onAnimationStart");Gd("dblclick","onDoubleClick");Gd("focusin","onFocus");Gd("focusout","onBlur");Gd(rl,"onTransitionEnd");qa("onMouseEnter",["mouseout","mouseover"]);qa("onMouseLeave",["mouseout","mouseover"]);qa("onPointerEnter",["pointerout","pointerover"]);qa("onPointerLeave",["pointerout","pointerover"]);g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));g("onBeforeInput",["compositionend","keypress","textInput","paste"]);g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hk="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
Kl=new Set("cancel close invalid load scroll toggle".split(" ").concat(hk)),wk="_reactListening"+Math.random().toString(36).slice(2),Ql=/\r\n?/g,Rl=/\u0000|\uFFFD/g,Yk=null,ik=null,Ek="function"===typeof setTimeout?setTimeout:void 0,Fk="function"===typeof clearTimeout?clearTimeout:void 0,gl="function"===typeof Promise?Promise:void 0,Zl="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof gl?function(c){return gl.resolve(null).then(c).catch(Bc)}:Ek,mj=Math.random().toString(36).slice(2),
xi="__reactFiber$"+mj,tj="__reactProps$"+mj,mi="__reactContainer$"+mj,Qk="__reactEvents$"+mj,Xl="__reactListeners$"+mj,Vh="__reactHandles$"+mj,ak=[],cj=-1,yi={},zg=Sc(yi),dh=Sc(!1),dj=yi,Ii=null,zi=!1,Wk=!1,uj=[],eh=0,bk=null,ej=0,Nh=[],bi=0,Ai=null,ci=1,Ji="",Hh=null,Sh=null,Eg=!1,ni=null,Zk=Dd.ReactCurrentBatchConfig,vj=Sc(null),fj=null,Yi=null,ck=null,Zi=null,Ki=!1,ul=(new Ae.Component).refs,dk={isMounted:function(c){return(c=c._reactInternals)?Aa(c)===c:!1},enqueueSetState:function(c,d,n){c=c._reactInternals;
var J=k(),na=y(c),Ba=sc(J,na);Ba.payload=d;void 0!==n&&null!==n&&(Ba.callback=n);d=tc(c,Ba,na);null!==d&&(ba(d,c,na,J),Ic(d,c,na))},enqueueReplaceState:function(c,d,n){c=c._reactInternals;var J=k(),na=y(c),Ba=sc(J,na);Ba.tag=1;Ba.payload=d;void 0!==n&&null!==n&&(Ba.callback=n);d=tc(c,Ba,na);null!==d&&(ba(d,c,na,J),Ic(d,c,na))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var n=k(),J=y(c),na=sc(n,J);na.tag=2;void 0!==d&&null!==d&&(na.callback=d);d=tc(c,na,J);null!==d&&(ba(d,c,J,n),Ic(d,c,J))}},
ij=ge(!0),Bj=ge(!1),Bi={},pi=Sc(Bi),wj=Sc(Bi),ek=Sc(Bi),Rg=Sc(0),yk=[],fk=Dd.ReactCurrentDispatcher,zj=Dd.ReactCurrentBatchConfig,hj=0,ug=null,ih=null,hh=null,Ak=!1,xj=!1,yj=0,lm=0,zk={readContext:ja,useCallback:ef,useContext:ef,useEffect:ef,useImperativeHandle:ef,useInsertionEffect:ef,useLayoutEffect:ef,useMemo:ef,useReducer:ef,useRef:ef,useState:ef,useDebugValue:ef,useDeferredValue:ef,useTransition:ef,useMutableSource:ef,useSyncExternalStore:ef,useId:ef,unstable_isNewReconciler:!1},vl={readContext:ja,
useCallback:function(c,d){jf().memoizedState=[c,void 0===d?null:d];return c},useContext:ja,useEffect:Qb,useImperativeHandle:function(c,d,n){n=null!==n&&void 0!==n?n.concat([c]):null;return pa(4194308,4,Oe.bind(null,d,c),n)},useLayoutEffect:function(c,d){return pa(4194308,4,c,d)},useInsertionEffect:function(c,d){return pa(4,2,c,d)},useMemo:function(c,d){var n=jf();d=void 0===d?null:d;c=c();n.memoizedState=[c,d];return c},useReducer:function(c,d,n){var J=jf();d=void 0!==n?n(d):d;J.memoizedState=J.baseState=
d;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d};J.queue=c;c=c.dispatch=qg.bind(null,ug,c);return[J.memoizedState,c]},useRef:function(c){var d=jf();c={current:c};return d.memoizedState=c},useState:Fg,useDebugValue:Ef,useDeferredValue:function(c){return jf().memoizedState=c},useTransition:function(){var c=Fg(!1),d=c[0];c=Tf.bind(null,c[1]);jf().memoizedState=c;return[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,n){var J=ug,
na=jf();if(Eg){if(void 0===n)throw Error(r(407));n=n()}else{n=d();if(null===oh)throw Error(r(349));0!==(hj&30)||hg(J,d,n)}na.memoizedState=n;var Ba={value:n,getSnapshot:d};na.queue=Ba;Qb(Jf.bind(null,J,Ba,c),[c]);J.flags|=2048;Jg(9,vf.bind(null,J,Ba,n,d),void 0,null);return n},useId:function(){var c=jf(),d=oh.identifierPrefix;if(Eg){var n=Ji,J=ci;n=(J&~(1<<32-$h(J)-1)).toString(32)+n;d=":"+d+"R"+n;n=yj++;0<n&&(d+="H"+n.toString(32));d+=":"}else n=lm++,d=":"+d+"r"+n.toString(32)+":";return c.memoizedState=
d},unstable_isNewReconciler:!1},wl={readContext:ja,useCallback:Me,useContext:ja,useEffect:gd,useImperativeHandle:nf,useInsertionEffect:ld,useLayoutEffect:pe,useMemo:$f,useReducer:If,useRef:Sg,useState:function(){return If(Gf)},useDebugValue:Ef,useDeferredValue:function(c){var d=Ze();return Mf(d,ih.memoizedState,c)},useTransition:function(){var c=If(Gf)[0],d=Ze().memoizedState;return[c,d]},useMutableSource:yf,useSyncExternalStore:Bg,useId:pg,unstable_isNewReconciler:!1},Sl={readContext:ja,useCallback:Me,
useContext:ja,useEffect:gd,useImperativeHandle:nf,useInsertionEffect:ld,useLayoutEffect:pe,useMemo:$f,useReducer:xf,useRef:Sg,useState:function(){return xf(Gf)},useDebugValue:Ef,useDeferredValue:function(c){var d=Ze();return null===ih?d.memoizedState=c:Mf(d,ih.memoizedState,c)},useTransition:function(){var c=xf(Gf)[0],d=Ze().memoizedState;return[c,d]},useMutableSource:yf,useSyncExternalStore:Bg,useId:pg,unstable_isNewReconciler:!1},Tl="function"===typeof WeakMap?WeakMap:Map,Ni=Dd.ReactCurrentOwner,
Oh=!1,Bk={dehydrated:null,treeContext:null,retryLane:0};var Vl=function(c,d){for(var n=d.child;null!==n;){if(5===n.tag||6===n.tag)c.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n;n=n.child;continue}if(n===d)break;for(;null===n.sibling;){if(null===n.return||n.return===d)return;n=n.return}n.sibling.return=n.return;n=n.sibling}};var xl=function(){};var Ul=function(c,d,n,J){var na=c.memoizedProps;if(na!==J){c=d.stateNode;Ge(pi.current);var Ba=null;switch(n){case "input":na=
Da(c,na);J=Da(c,J);Ba=[];break;case "select":na=tg({},na,{value:void 0});J=tg({},J,{value:void 0});Ba=[];break;case "textarea":na=Nb(c,na);J=Nb(c,J);Ba=[];break;default:"function"!==typeof na.onClick&&"function"===typeof J.onClick&&(c.onclick=zb)}ma(n,J);var tb;n=null;for(zd in na)if(!J.hasOwnProperty(zd)&&na.hasOwnProperty(zd)&&null!=na[zd])if("style"===zd){var vc=na[zd];for(tb in vc)vc.hasOwnProperty(tb)&&(n||(n={}),n[tb]="")}else"dangerouslySetInnerHTML"!==zd&&"children"!==zd&&"suppressContentEditableWarning"!==
zd&&"suppressHydrationWarning"!==zd&&"autoFocus"!==zd&&(S.hasOwnProperty(zd)?Ba||(Ba=[]):(Ba=Ba||[]).push(zd,null));for(zd in J){var Oc=J[zd];vc=null!=na?na[zd]:void 0;if(J.hasOwnProperty(zd)&&Oc!==vc&&(null!=Oc||null!=vc))if("style"===zd)if(vc){for(tb in vc)!vc.hasOwnProperty(tb)||Oc&&Oc.hasOwnProperty(tb)||(n||(n={}),n[tb]="");for(tb in Oc)Oc.hasOwnProperty(tb)&&vc[tb]!==Oc[tb]&&(n||(n={}),n[tb]=Oc[tb])}else n||(Ba||(Ba=[]),Ba.push(zd,n)),n=Oc;else"dangerouslySetInnerHTML"===zd?(Oc=Oc?Oc.__html:
void 0,vc=vc?vc.__html:void 0,null!=Oc&&vc!==Oc&&(Ba=Ba||[]).push(zd,Oc)):"children"===zd?"string"!==typeof Oc&&"number"!==typeof Oc||(Ba=Ba||[]).push(zd,""+Oc):"suppressContentEditableWarning"!==zd&&"suppressHydrationWarning"!==zd&&(S.hasOwnProperty(zd)?(null!=Oc&&"onScroll"===zd&&Wd("scroll",c),Ba||vc===Oc||(Ba=[])):(Ba=Ba||[]).push(zd,Oc))}n&&(Ba=Ba||[]).push("style",n);var zd;if(d.updateQueue=Ba)d.flags|=4}};var Wl=function(c,d,n,J){n!==J&&(d.flags|=4)};var Cj=!1,Lh=!1,Yl="function"===typeof WeakSet?
WeakSet:Set,Ne=null,yl=!1,Bh=null,si=!1,$l=Math.ceil,Dj=Dd.ReactCurrentDispatcher,bl=Dd.ReactCurrentOwner,hi=Dd.ReactCurrentBatchConfig,Yf=0,oh=null,Dg=null,Ch=0,Of=0,Uf=Sc(0),ag=0,Zh=null,gj=0,fi=0,al=0,kk=null,Wh=null,Ck=0,jj=Infinity,Ci=null,gk=!1,Aj=null,ei=null,lk=!1,gi=null,Ej=0,kj=0,$k=null,Dk=-1,jk=0;var am=function(c,d,n){if(null!==c)if(c.memoizedProps!==d.pendingProps||dh.current)Oh=!0;else{if(0===(c.lanes&n)&&0===(d.flags&128))return Oh=!1,lh(c,d,n);Oh=0!==(c.flags&131072)?!0:!1}else Oh=
!1,Eg&&0!==(d.flags&1048576)&&be(d,ej,d.index);d.lanes=0;switch(d.tag){case 2:var J=d.type;Qg(c,d);c=d.pendingProps;var na=Ra(d,zg.current);H(d,n);na=Yd(null,d,J,c,na,n);var Ba=cf();d.flags|=1;"object"===typeof na&&null!==na&&"function"===typeof na.render&&void 0===na.$$typeof?(d.tag=1,d.memoizedState=null,d.updateQueue=null,eb(J)?(Ba=!0,Vc(d)):Ba=!1,d.memoizedState=null!==na.state&&void 0!==na.state?na.state:null,ub(d),na.updater=dk,d.stateNode=na,na._reactInternals=d,Ce(d,J,c,n),d=Vg(null,d,J,!0,
Ba,n)):(d.tag=0,Eg&&Ba&&we(d),Af(null,d,na,n),d=d.child);return d;case 16:J=d.elementType;a:{Qg(c,d);c=d.pendingProps;na=J._init;J=na(J._payload);d.type=J;na=d.tag=sg(J);c=le(J,c);switch(na){case 0:d=ph(null,d,J,c,n);break a;case 1:d=Ih(null,d,J,c,n);break a;case 11:d=Pg(null,d,J,c,n);break a;case 14:d=$g(null,d,J,le(J.type,c),n);break a}throw Error(r(306,J,""));}return d;case 0:return J=d.type,na=d.pendingProps,na=d.elementType===J?na:le(J,na),ph(c,d,J,na,n);case 1:return J=d.type,na=d.pendingProps,
na=d.elementType===J?na:le(J,na),Ih(c,d,J,na,n);case 3:a:{rh(d);if(null===c)throw Error(r(387));J=d.pendingProps;Ba=d.memoizedState;na=Ba.element;qc(c,d);Gc(d,J,null,n);var tb=d.memoizedState;J=tb.element;if(Ba.isDehydrated)if(Ba={element:J,isDehydrated:!1,cache:tb.cache,pendingSuspenseBoundaries:tb.pendingSuspenseBoundaries,transitions:tb.transitions},d.updateQueue.baseState=Ba,d.memoizedState=Ba,d.flags&256){na=Ie(Error(r(423)),d);Vd();ce(na);d.flags|=256;Af(c,d,J,n);d=d.child;break a}else if(J!==
na){na=Ie(Error(r(424)),d);Vd();ce(na);d.flags|=256;Af(c,d,J,n);d=d.child;break a}else for(Sh=I(d.stateNode.containerInfo.firstChild),Hh=d,Eg=!0,ni=null,n=Bj(d,null,J,n),d.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{Vd();if(J===na){d=Zg(c,d,n);break a}Af(c,d,J,n)}d=d.child}return d;case 5:return Je(d),null===c&&Dc(d),J=d.type,na=d.pendingProps,Ba=null!==c?c.memoizedProps:null,tb=na.children,ec(J,na)?tb=null:null!==Ba&&ec(J,Ba)&&(d.flags|=32),qh(c,d),Af(c,d,tb,n),d.child;case 6:return null===
c&&Dc(d),null;case 13:return qi(c,d,n);case 4:return hf(d,d.stateNode.containerInfo),J=d.pendingProps,null===c?d.child=ij(d,null,J,n):Af(c,d,J,n),d.child;case 11:return J=d.type,na=d.pendingProps,na=d.elementType===J?na:le(J,na),Pg(c,d,J,na,n);case 7:return Af(c,d,d.pendingProps,n),d.child;case 8:return Af(c,d,d.pendingProps.children,n),d.child;case 12:return Af(c,d,d.pendingProps.children,n),d.child;case 10:a:{J=d.type._context;na=d.pendingProps;Ba=d.memoizedProps;tb=na.value;ee(vj,J._currentValue);
J._currentValue=tb;if(null!==Ba)if(ki(Ba.value,tb)){if(Ba.children===na.children&&!dh.current){d=Zg(c,d,n);break a}}else for(Ba=d.child,null!==Ba&&(Ba.return=d);null!==Ba;){var vc=Ba.dependencies;if(null!==vc){tb=Ba.child;for(var Oc=vc.firstContext;null!==Oc;){if(Oc.context===J){if(1===Ba.tag){Oc=sc(-1,n&-n);Oc.tag=2;var zd=Ba.updateQueue;if(null!==zd){zd=zd.shared;var he=zd.pending;null===he?Oc.next=Oc:(Oc.next=he.next,he.next=Oc);zd.pending=Oc}}Ba.lanes|=n;Oc=Ba.alternate;null!==Oc&&(Oc.lanes|=
n);ca(Ba.return,n,d);vc.lanes|=n;break}Oc=Oc.next}}else if(10===Ba.tag)tb=Ba.type===d.type?null:Ba.child;else if(18===Ba.tag){tb=Ba.return;if(null===tb)throw Error(r(341));tb.lanes|=n;vc=tb.alternate;null!==vc&&(vc.lanes|=n);ca(tb,n,d);tb=Ba.sibling}else tb=Ba.child;if(null!==tb)tb.return=Ba;else for(tb=Ba;null!==tb;){if(tb===d){tb=null;break}Ba=tb.sibling;if(null!==Ba){Ba.return=tb.return;tb=Ba;break}tb=tb.return}Ba=tb}Af(c,d,na.children,n);d=d.child}return d;case 9:return na=d.type,J=d.pendingProps.children,
H(d,n),na=ja(na),J=J(na),d.flags|=1,Af(c,d,J,n),d.child;case 14:return J=d.type,na=le(J,d.pendingProps),na=le(J.type,na),$g(c,d,J,na,n);case 15:return jh(c,d,d.type,d.pendingProps,n);case 17:return J=d.type,na=d.pendingProps,na=d.elementType===J?na:le(J,na),Qg(c,d),d.tag=1,eb(J)?(c=!0,Vc(d)):c=!1,H(d,n),Kd(d,J,na),Ce(d,J,na,n),Vg(null,d,J,!0,c,n);case 19:return Th(c,d,n);case 22:return wg(c,d,n)}throw Error(r(156,d.tag));};var hl="function"===typeof reportError?reportError:function(c){console.error(c)};
jc.prototype.render=Rb.prototype.render=function(c){var d=this._internalRoot;if(null===d)throw Error(r(409));V(c,d,null,null)};jc.prototype.unmount=Rb.prototype.unmount=function(){var c=this._internalRoot;if(null!==c){this._internalRoot=null;var d=c.containerInfo;Rd(function(){V(null,c,null,null)});d[mi]=null}};jc.prototype.unstable_scheduleHydration=function(c){if(c){var d=Qi();c={blockedOn:null,target:c,priority:d};for(var n=0;n<Ti.length&&0!==d&&d<Ti[n].priority;n++);Ti.splice(n,0,c);0===n&&Sb(c)}};
var ml=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var n=W(d.pendingLanes);0!==n&&(Rc(d,n|1),oa(d,ah()),0===(Yf&6)&&(jj=ah()+500,Nd()))}break;case 13:Rd(function(){var J=ib(c,1);if(null!==J){var na=k();ba(J,c,1,na)}}),yb(c,1)}};var kl=function(c){if(13===c.tag){var d=ib(c,134217728);if(null!==d){var n=k();ba(d,c,134217728,n)}yb(c,134217728)}};var ll=function(c){if(13===c.tag){var d=y(c),n=ib(c,d);if(null!==n){var J=k();ba(n,c,d,J)}yb(c,d)}};var Qi=function(){return og};
var vi=function(c,d){var n=og;try{return og=c,d()}finally{og=n}};ji=function(c,d,n){switch(d){case "input":lb(c,n);d=n.name;if("radio"===n.type&&null!=d){for(n=c;n.parentNode;)n=n.parentNode;n=n.querySelectorAll("input[name\x3d"+JSON.stringify(""+d)+'][type\x3d"radio"]');for(d=0;d<n.length;d++){var J=n[d];if(J!==c&&J.form===c.form){var na=Cc(J);if(!na)throw Error(r(90));pb(J);lb(J,na)}}}break;case "textarea":nb(c,n);break;case "select":d=n.value,null!=d&&ob(c,!!n.multiple,d,!1)}};l=Zc;C=Rd;var Kj=
{usingClientEntryPoint:!1,Events:[ac,Pc,Cc,f,v,Zc]},nh={findFiberByHostInstance:Sa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nj={bundleType:nh.bundleType,version:nh.version,rendererPackageName:nh.rendererPackageName,rendererConfig:nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,
currentDispatcherRef:Dd.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){c=ua(c);return null===c?null:c.stateNode},findFiberByHostInstance:nh.findFiberByHostInstance||Cb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oj=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oj.isDisabled&&oj.supportsFiber)try{pk=oj.inject(nj),ui=
oj}catch(c){}}mb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kj;mb.createPortal=function(c,d){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Wc(d))throw Error(r(200));return ii(c,d,null,n)};mb.createRoot=function(c,d){if(!Wc(c))throw Error(r(299));var n=!1,J="",na=hl;null!==d&&void 0!==d&&(!0===d.unstable_strictMode&&(n=!0),void 0!==d.identifierPrefix&&(J=d.identifierPrefix),void 0!==d.onRecoverableError&&(na=d.onRecoverableError));d=lj(c,1,!1,null,null,n,!1,J,na);c[mi]=
d.current;Be(8===c.nodeType?c.parentNode:c);return new Rb(d)};mb.findDOMNode=function(c){if(null==c)return null;if(1===c.nodeType)return c;var d=c._reactInternals;if(void 0===d){if("function"===typeof c.render)throw Error(r(188));c=Object.keys(c).join(",");throw Error(r(268,c));}c=ua(d);return c=null===c?null:c.stateNode};mb.flushSync=function(c){return Rd(c)};mb.hydrate=function(c,d,n){if(!Jd(d))throw Error(r(200));return ke(null,c,d,!0,n)};mb.hydrateRoot=function(c,d,n){if(!Wc(c))throw Error(r(405));
var J=null!=n&&n.hydratedSources||null,na=!1,Ba="",tb=hl;null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(na=!0),void 0!==n.identifierPrefix&&(Ba=n.identifierPrefix),void 0!==n.onRecoverableError&&(tb=n.onRecoverableError));d=x(d,null,c,1,null!=n?n:null,na,!1,Ba,tb);c[mi]=d.current;Be(c);if(J)for(c=0;c<J.length;c++)n=J[c],na=n._getVersion,na=na(n._source),null==d.mutableSourceEagerHydrationData?d.mutableSourceEagerHydrationData=[n,na]:d.mutableSourceEagerHydrationData.push(n,na);return new jc(d)};
mb.render=function(c,d,n){if(!Jd(d))throw Error(r(200));return ke(null,c,d,!1,n)};mb.unmountComponentAtNode=function(c){if(!Jd(c))throw Error(r(40));return c._reactRootContainer?(Rd(function(){ke(null,null,c,!1,function(){c._reactRootContainer=null;c[mi]=null})}),!0):!1};mb.unstable_batchedUpdates=Zc;mb.unstable_renderSubtreeIntoContainer=function(c,d,n,J){if(!Jd(n))throw Error(r(200));if(null==c||void 0===c._reactInternals)throw Error(r(38));return ke(c,d,n,!1,J)};mb.version="18.2.0-next-9e3b772b8-20220608"};
shadow$provide[8]=function(cc,Db,Xc,mb){function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(g){console.error(g)}}r();Xc.exports=Db(6)};
shadow$provide[9]=function(cc,Db,Xc,mb){cc=Db(8);mb.createRoot=cc.createRoot;mb.hydrateRoot=cc.hydrateRoot};
shadow$provide[14]=function(cc,Db,Xc,mb){Xc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[18]=function(cc,Db,Xc,mb){function r(){}function g(){}var qa=Db(14);g.resetWarningCache=r;Xc.exports=function(){function hb(oc,kc,yc,Ab,gc,rc){if(rc!==qa)throw oc=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),oc.name="Invariant Violation",oc;}function Gb(){return hb}hb.isRequired=hb;var $b={array:hb,bigint:hb,bool:hb,func:hb,number:hb,object:hb,
string:hb,symbol:hb,any:hb,arrayOf:Gb,element:hb,elementType:hb,instanceOf:Gb,node:hb,objectOf:Gb,oneOf:Gb,oneOfType:Gb,shape:Gb,exact:Gb,checkPropTypes:g,resetWarningCache:r};return $b.PropTypes=$b}};
shadow$provide[19]=function(cc,Db,Xc,mb){Xc.exports=Db(18)()};
shadow$provide[20]=function(cc,Db,Xc,mb){mb.__esModule=!0;mb.default=function(g,qa){void 0===g&&(g=r);void 0===qa&&(qa=r);const hb=Object.keys(g),Gb=Object.keys(qa);return g===qa||hb.length===Gb.length&&hb.every($b=>g[$b]===qa[$b])};const r={}};
shadow$provide[21]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb):"function"===typeof define&&define.amd?define(["exports"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={}))})(this,function(r){function g(B,z,D){B.fields=z||[];B.fname=D;return B}function qa(B){return null==B?null:B.fields}function hb(B){return 1===B.length?lb(B[0]):Na(B)}function Gb(B){throw Error(B);}function $b(B){function z(){D.push(X+B.substring(u,K));X="";u=K+1}const D=
[],G=B.length;let U=null,Aa=0,X="",u,K,ua;B+="";for(u=K=0;K<G;++K)(ua=B[K],"\\"===ua)?(X+=B.substring(u,K++),u=K):ua===U?(z(),U=null,Aa=-1):U||(u===Aa&&'"'===ua?(u=K+1,U=ua):u===Aa&&"'"===ua?(u=K+1,U=ua):"."!==ua||Aa?"["===ua?(K>u&&z(),Aa=u=K+1):"]"===ua&&(Aa||Gb("Access path missing open bracket: "+B),0<Aa&&z(),Aa=0,u=K+1):K>u?z():u=K+1);Aa&&Gb("Access path missing closing bracket: "+B);U&&Gb("Access path missing closing quote: "+B);K>u&&(K++,z());return D}function oc(B,z,D){const G=$b(B);B=1===
G.length?G[0]:B;return g((D&&D.get||hb)(G),[B],z||B)}function kc(B,z,D){z=[z].concat([].slice.call(D));console[B].apply(console,z)}function yc(B){return B===Object(B)}function Ab(B,z,D,G){if("__proto__"!==z){var U;if(yc(D)&&!Y(D))for(U in B=yc(B[z])?B[z]:B[z]={},D)G&&(!0===G||G[U])?Ab(B,U,D[U]):"__proto__"!==U&&(B[U]=D[U]);else B[z]=D}}function gc(B,z){function D(Aa){G[Aa.name]||(G[Aa.name]=1,U.push(Aa))}if(null==B)return z;const G={},U=[];z.forEach(D);B.forEach(D);return U}function rc(B){return B[B.length-
1]}function Va(B){return null==B||""===B?null:+B}function qb(B,z,D,G){const U=D(B[0]);B=D(rc(B));z*=B-U;return[G(U-z),G(B-z)]}function Kb(B,z,D,G,U){const Aa=G(B[0]);B=G(rc(B));z=null!=z?G(z):(Aa+B)/2;return[U(z+(Aa-z)*D),U(z+(B-z)*D)]}function Ob(B){return null!=B?Y(B)?B:[B]:[]}function Bb(B){return"function"===typeof B}function Pb(B){for(let z,D,G=1,U=arguments.length;G<U;++G)for(D in z=arguments[G],z)B[D]=z[D];return B}function Ua(B,z){return v.call(B,z)}function pb(B){return"[object Date]"===
Object.prototype.toString.call(B)}function Oa(B){return"number"===typeof B}function Da(B){return"string"===typeof B}function Pa(B,z){let D="";for(;0<=--z;)D+=B;return D}function kb(B){return Y(B)?"["+B.map(kb)+"]":yc(B)||Da(B)?JSON.stringify(B).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):B}const lb=B=>function(z){return z[B]},Na=B=>{const z=B.length;return function(D){for(let G=0;G<z;++G)D=D[B[G]];return D}},xb=oc("id"),ob=g(B=>B,[],"identity"),Nb=g(()=>0,[],"zero"),Zb=g(()=>1,[],"one"),
nb=g(()=>!0,[],"true"),la=g(()=>!1,[],"false");var Y=Array.isArray;const Ha=B=>z=>B*Math.exp(z),Fa=B=>z=>Math.log(B*z),cb=B=>z=>Math.sign(z)*Math.log1p(Math.abs(z/B)),aa=B=>z=>Math.sign(z)*Math.expm1(Math.abs(z))*B,ma=B=>z=>0>z?-Math.pow(-z,B):Math.pow(z,B),p=(B,z)=>(B<z||null==B)&&null!=z?-1:(B>z||null==z)&&null!=B?1:(z=z instanceof Date?+z:z,B=B instanceof Date?+B:B)!==B&&z===z?-1:z!==z&&B===B?1:0,L=(B,z)=>1===B.length?P(B[0],z[0]):f(B,z,B.length),P=(B,z)=>function(D,G){return p(B(D),B(G))*z},f=
(B,z,D)=>{z.push(0);return function(G,U){var Aa=0;let X=-1;for(;0===Aa&&++X<D;)Aa=B[X],Aa=p(Aa(G),Aa(U));return Aa*z[X]}},v=Object.prototype.hasOwnProperty,l={},C=B=>Oa(B)?B:pb(B)?B:Date.parse(B);r.Debug=4;r.Error=1;r.Info=3;r.None=0;r.Warn=2;r.accessor=g;r.accessorFields=qa;r.accessorName=function(B){return null==B?null:B.fname};r.array=Ob;r.ascending=p;r.clampRange=function(B,z,D){let G=B[0];B=B[1];let U;B<G&&(U=B,B=G,G=U);U=B-G;return U>=D-z?[z,D]:[G=Math.min(Math.max(G,z),D-U),G+U]};r.compare=
function(B,z,D){D=D||{};z=Ob(z)||[];const G=[],U=[],Aa={},X=D.comparator||L;Ob(B).forEach((u,K)=>{null!=u&&(G.push("descending"===z[K]?-1:1),U.push(u=Bb(u)?u:oc(u,null,D)),(qa(u)||[]).forEach(ua=>Aa[ua]=1))});return 0===U.length?null:g(X(U,G),Object.keys(Aa))};r.constant=function(B){return Bb(B)?B:()=>B};r.debounce=function(B,z){let D;return G=>{D&&clearTimeout(D);D=setTimeout(()=>(z(G),D=null),B)}};r.error=Gb;r.extend=Pb;r.extent=function(B,z){let D=0,G,U,Aa,X;if(B&&(G=B.length))if(null==z){for(U=
B[D];D<G&&(null==U||U!==U);U=B[++D]);for(Aa=X=U;D<G;++D)U=B[D],null!=U&&(U<Aa&&(Aa=U),U>X&&(X=U))}else{for(U=z(B[D]);D<G&&(null==U||U!==U);U=z(B[++D]));for(Aa=X=U;D<G;++D)U=z(B[D]),null!=U&&(U<Aa&&(Aa=U),U>X&&(X=U))}return[Aa,X]};r.extentIndex=function(B,z){const D=B.length;let G=-1,U,Aa,X,u,K;if(null==z){for(;++G<D;)if(Aa=B[G],null!=Aa&&Aa>=Aa){U=X=Aa;break}if(G===D)return[-1,-1];for(u=K=G;++G<D;)Aa=B[G],null!=Aa&&(U>Aa&&(U=Aa,u=G),X<Aa&&(X=Aa,K=G))}else{for(;++G<D;)if(Aa=z(B[G],G,B),null!=Aa&&Aa>=
Aa){U=X=Aa;break}if(G===D)return[-1,-1];for(u=K=G;++G<D;)Aa=z(B[G],G,B),null!=Aa&&(U>Aa&&(U=Aa,u=G),X<Aa&&(X=Aa,K=G))}return[u,K]};r.falsy=la;r.fastmap=function(B){function z(Aa){return Ua(D,Aa)&&D[Aa]!==l}let D={},G;const U={size:0,empty:0,object:D,has:z,get(Aa){return z(Aa)?D[Aa]:void 0},set(Aa,X){z(Aa)||(++U.size,D[Aa]===l&&--U.empty);D[Aa]=X;return this},delete(Aa){z(Aa)&&(--U.size,++U.empty,D[Aa]=l);return this},clear(){U.size=U.empty=0;U.object=D={}},test(Aa){return arguments.length?(G=Aa,U):
G},clean(){const Aa={};let X=0;for(const u in D){const K=D[u];K===l||G&&G(K)||(Aa[u]=K,++X)}U.size=X;U.empty=0;U.object=D=Aa}};B&&Object.keys(B).forEach(Aa=>{U.set(Aa,B[Aa])});return U};r.field=oc;r.flush=function(B,z,D,G,U,Aa){if(!D&&0!==D)return Aa;D=+D;let X=B[0],u=rc(B);u<X&&(B=X,X=u,u=B);B=Math.abs(z-X);z=Math.abs(u-z);return B<z&&B<=D?G:z<=D?U:Aa};r.hasOwnProperty=Ua;r.id=xb;r.identity=ob;r.inherits=function(B,z,D){z=B.prototype=Object.create(z.prototype);Object.defineProperty(z,"constructor",
{value:B,writable:!0,enumerable:!0,configurable:!0});return Pb(z,D)};r.inrange=function(B,z,D,G){let U=z[0];z=z[z.length-1];let Aa;U>z&&(Aa=U,U=z,z=Aa);return(void 0===D||D?U<=B:U<B)&&(void 0===G||G?B<=z:B<z)};r.isArray=Y;r.isBoolean=function(B){return"boolean"===typeof B};r.isDate=pb;r.isFunction=Bb;r.isIterable=function(B){return B&&Bb(B[Symbol.iterator])};r.isNumber=Oa;r.isObject=yc;r.isRegExp=function(B){return"[object RegExp]"===Object.prototype.toString.call(B)};r.isString=Da;r.key=function(B,
z,D){B&&(B=z?Ob(B).map(Aa=>Aa.replace(/\\(.)/g,"$1")):Ob(B));const G=B&&B.length,U=D&&D.get||hb;D=Aa=>U(z?[Aa]:$b(Aa));if(G)if(1===G){const Aa=D(B[0]);D=function(X){return""+Aa(X)}}else{const Aa=B.map(D);D=function(X){let u=""+Aa[0](X),K=0;for(;++K<G;)u+="|"+Aa[K](X);return u}}else D=function(){return""};return g(D,B,"key")};r.lerp=function(B,z){const D=B[0];B=rc(B);return(z=+z)?1===z?B:D+z*(B-D):D};r.logger=function(B,z,D=kc){let G=B||0;return{level(U){return arguments.length?(G=+U,this):G},error(){1<=
G&&D(z||"error","ERROR",arguments);return this},warn(){2<=G&&D(z||"warn","WARN",arguments);return this},info(){3<=G&&D(z||"log","INFO",arguments);return this},debug(){4<=G&&D(z||"log","DEBUG",arguments);return this}}};r.lruCache=function(B){B=+B||1E4;let z,D,G;const U=()=>{z={};D={};G=0},Aa=(X,u)=>{++G>B&&(D=z,z={},G=1);return z[X]=u};U();return{clear:U,has:X=>Ua(z,X)||Ua(D,X),get:X=>Ua(z,X)?z[X]:Ua(D,X)?Aa(X,D[X]):void 0,set:(X,u)=>Ua(z,X)?z[X]=u:Aa(X,u)}};r.merge=function(B,z,D,G){const U=z.length,
Aa=D.length;if(!Aa)return z;if(!U)return D;G=G||new z.constructor(U+Aa);let X=0,u=0,K=0;for(;X<U&&u<Aa;++K)G[K]=0<B(z[X],D[u])?D[u++]:z[X++];for(;X<U;++X,++K)G[K]=z[X];for(;u<Aa;++u,++K)G[K]=D[u];return G};r.mergeConfig=function(...B){return B.reduce((z,D)=>{for(const G in D)"signals"===G?z.signals=gc(z.signals,D.signals):Ab(z,G,D[G],"legend"===G?{layout:1}:"style"===G?!0:null);return z},{})};r.one=Zb;r.pad=function(B,z,D,G){D=D||" ";B+="";z-=B.length;return 0>=z?B:"left"===G?Pa(D,z)+B:"center"===
G?Pa(D,~~(z/2))+B+Pa(D,Math.ceil(z/2)):B+Pa(D,z)};r.panLinear=function(B,z){return qb(B,z,Va,ob)};r.panLog=function(B,z){var D=Math.sign(B[0]);return qb(B,z,Fa(D),Ha(D))};r.panPow=function(B,z,D){return qb(B,z,ma(D),ma(1/D))};r.panSymlog=function(B,z,D){return qb(B,z,cb(D),aa(D))};r.peek=rc;r.quarter=function(B){return 1+~~((new Date(B)).getMonth()/3)};r.repeat=Pa;r.span=function(B){return B&&rc(B)-B[0]||0};r.splitAccessPath=$b;r.stringValue=kb;r.toBoolean=function(B){return null==B||""===B?null:
B&&"false"!==B&&"0"!==B?!!B:!1};r.toDate=function(B,z){z=z||C;return null==B||""===B?null:z(B)};r.toNumber=Va;r.toSet=function(B){const z={},D=B.length;for(let G=0;G<D;++G)z[B[G]]=!0;return z};r.toString=function(B){return null==B||""===B?null:B+""};r.truncate=function(B,z,D,G){G=null!=G?G:"";B+="";const U=B.length,Aa=Math.max(0,z-G.length);return U<=z?B:"left"===D?G+B.slice(U-Aa):"center"===D?B.slice(0,Math.ceil(Aa/2))+G+B.slice(U-~~(Aa/2)):B.slice(0,Aa)+G};r.truthy=nb;r.utcquarter=function(B){return 1+
~~((new Date(B)).getUTCMonth()/3)};r.visitArray=function(B,z,D){if(B)if(z){const G=B.length;for(let U=0;U<G;++U){const Aa=z(B[U]);Aa&&D(Aa,U,B)}}else B.forEach(D)};r.writeConfig=Ab;r.zero=Nb;r.zoomLinear=function(B,z,D){return Kb(B,z,D,Va,ob)};r.zoomLog=function(B,z,D){const G=Math.sign(B[0]);return Kb(B,z,D,Fa(G),Ha(G))};r.zoomPow=function(B,z,D,G){return Kb(B,z,D,ma(G),ma(1/G))};r.zoomSymlog=function(B,z,D,G){return Kb(B,z,D,cb(G),aa(G))}})};
shadow$provide[22]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb):"function"===typeof define&&define.amd?define(["exports"],g):(r=r||self,g(r.topojson=r.topojson||{}))})(this,function(r){function g(Va){return Va}function qa(Va){if(null==Va)return g;var qb,Kb,Ob=Va.scale[0],Bb=Va.scale[1],Pb=Va.translate[0],Ua=Va.translate[1];return function(pb,Oa){Oa||(qb=Kb=0);Oa=2;var Da=pb.length,Pa=Array(Da);Pa[0]=(qb+=pb[0])*Ob+Pb;for(Pa[1]=(Kb+=pb[1])*Bb+Ua;Oa<Da;)Pa[Oa]=
pb[Oa],++Oa;return Pa}}function hb(Va){function qb(Da){Da=Ob(Da);Da[0]<Pb&&(Pb=Da[0]);Da[0]>pb&&(pb=Da[0]);Da[1]<Ua&&(Ua=Da[1]);Da[1]>Oa&&(Oa=Da[1])}function Kb(Da){switch(Da.type){case "GeometryCollection":Da.geometries.forEach(Kb);break;case "Point":qb(Da.coordinates);break;case "MultiPoint":Da.coordinates.forEach(qb)}}var Ob=qa(Va.transform),Bb,Pb=Infinity,Ua=Pb,pb=-Pb,Oa=-Pb;Va.arcs.forEach(function(Da){for(var Pa=-1,kb=Da.length,lb;++Pa<kb;)lb=Ob(Da[Pa],Pa),lb[0]<Pb&&(Pb=lb[0]),lb[0]>pb&&(pb=
lb[0]),lb[1]<Ua&&(Ua=lb[1]),lb[1]>Oa&&(Oa=lb[1])});for(Bb in Va.objects)Kb(Va.objects[Bb]);return[Pb,Ua,pb,Oa]}function Gb(Va,qb){var Kb=qb.id,Ob=qb.bbox,Bb=null==qb.properties?{}:qb.properties;Va=$b(Va,qb);return null==Kb&&null==Ob?{type:"Feature",properties:Bb,geometry:Va}:null==Ob?{type:"Feature",id:Kb,properties:Bb,geometry:Va}:{type:"Feature",id:Kb,bbox:Ob,properties:Bb,geometry:Va}}function $b(Va,qb){function Kb(Da){return pb(Da)}function Ob(Da){for(var Pa=[],kb=0,lb=Da.length;kb<lb;++kb){var Na=
Da[kb],xb=Pa;xb.length&&xb.pop();for(var ob=Oa[0>Na?~Na:Na],Nb=0,Zb=ob.length;Nb<Zb;++Nb)xb.push(pb(ob[Nb],Nb));if(0>Na)for(Na=xb,xb=Na.length,ob=xb-Zb;ob<--xb;)Zb=Na[ob],Na[ob++]=Na[xb],Na[xb]=Zb}2>Pa.length&&Pa.push(Pa[0]);return Pa}function Bb(Da){for(Da=Ob(Da);4>Da.length;)Da.push(Da[0]);return Da}function Pb(Da){return Da.map(Bb)}function Ua(Da){var Pa=Da.type;switch(Pa){case "GeometryCollection":return{type:Pa,geometries:Da.geometries.map(Ua)};case "Point":Da=pb(Da.coordinates);break;case "MultiPoint":Da=
Da.coordinates.map(Kb);break;case "LineString":Da=Ob(Da.arcs);break;case "MultiLineString":Da=Da.arcs.map(Ob);break;case "Polygon":Da=Pb(Da.arcs);break;case "MultiPolygon":Da=Da.arcs.map(Pb);break;default:return null}return{type:Pa,coordinates:Da}}var pb=qa(Va.transform),Oa=Va.arcs;return Ua(qb)}function oc(Va,qb){function Kb(Da){var Pa=Va.arcs[0>Da?~Da:Da],kb=Pa[0];if(Va.transform){var lb=[0,0];Pa.forEach(function(Na){lb[0]+=Na[0];lb[1]+=Na[1]})}else lb=Pa[Pa.length-1];return 0>Da?[lb,kb]:[kb,lb]}
function Ob(Da,Pa){for(var kb in Da){var lb=Da[kb];delete Pa[lb.start];delete lb.start;delete lb.end;lb.forEach(function(Na){Bb[0>Na?~Na:Na]=1});pb.push(lb)}}var Bb={},Pb={},Ua={},pb=[],Oa=-1;qb.forEach(function(Da,Pa){var kb=Va.arcs[0>Da?~Da:Da];3>kb.length&&!kb[1][0]&&!kb[1][1]&&(kb=qb[++Oa],qb[Oa]=Da,qb[Pa]=kb)});qb.forEach(function(Da){var Pa=Kb(Da),kb=Pa[0],lb=Pa[1];(Pa=Ua[kb])?(delete Ua[Pa.end],Pa.push(Da),Pa.end=lb,(Da=Pb[lb])?(delete Pb[Da.start],kb=Da===Pa?Pa:Pa.concat(Da),Pb[kb.start=Pa.start]=
Ua[kb.end=Da.end]=kb):Pb[Pa.start]=Ua[Pa.end]=Pa):(Pa=Pb[lb])?(delete Pb[Pa.start],Pa.unshift(Da),Pa.start=kb,(Da=Ua[kb])?(delete Ua[Da.end],kb=Da===Pa?Pa:Da.concat(Pa),Pb[kb.start=Da.start]=Ua[kb.end=Pa.end]=kb):Pb[Pa.start]=Ua[Pa.end]=Pa):(Pa=[Da],Pb[Pa.start=kb]=Ua[Pa.end=lb]=Pa)});Ob(Ua,Pb);Ob(Pb,Ua);qb.forEach(function(Da){Bb[0>Da?~Da:Da]||pb.push([Da])});return pb}function kc(Va,qb,Kb){var Ob;if(1<arguments.length)var Bb=yc(Va,qb,Kb);else{var Pb=0;for(Bb=Array(Ob=Va.arcs.length);Pb<Ob;++Pb)Bb[Pb]=
Pb}return{type:"MultiLineString",arcs:oc(Va,Bb)}}function yc(Va,qb,Kb){function Ob(Pa){var kb=0>Pa?~Pa:Pa;(Oa[kb]||(Oa[kb]=[])).push({i:Pa,g:Da})}function Bb(Pa){Pa.forEach(Ob)}function Pb(Pa){Pa.forEach(Bb)}function Ua(Pa){switch(Da=Pa,Pa.type){case "GeometryCollection":Pa.geometries.forEach(Ua);break;case "LineString":Bb(Pa.arcs);break;case "MultiLineString":case "Polygon":Pb(Pa.arcs);break;case "MultiPolygon":Pa.arcs.forEach(Pb)}}var pb=[],Oa=[],Da;Ua(qb);Oa.forEach(null==Kb?function(Pa){pb.push(Pa[0].i)}:
function(Pa){Kb(Pa[0].g,Pa[Pa.length-1].g)&&pb.push(Pa[0].i)});return pb}function Ab(Va,qb){function Kb(Oa){switch(Oa.type){case "GeometryCollection":Oa.geometries.forEach(Kb);break;case "Polygon":Ob(Oa.arcs);break;case "MultiPolygon":Oa.arcs.forEach(Ob)}}function Ob(Oa){Oa.forEach(function(Da){Da.forEach(function(Pa){(Pb[Pa=0>Pa?~Pa:Pa]||(Pb[Pa]=[])).push(Oa)})});Ua.push(Oa)}function Bb(Oa){Oa=$b(Va,{type:"Polygon",arcs:[Oa]}).coordinates[0];for(var Da=-1,Pa=Oa.length,kb,lb=Oa[Pa-1],Na=0;++Da<Pa;)kb=
lb,lb=Oa[Da],Na+=kb[0]*lb[1]-kb[1]*lb[0];return Math.abs(Na)}var Pb={},Ua=[],pb=[];qb.forEach(Kb);Ua.forEach(function(Oa){if(!Oa._){var Da=[],Pa=[Oa];Oa._=1;for(pb.push(Da);Oa=Pa.pop();)Da.push(Oa),Oa.forEach(function(kb){kb.forEach(function(lb){Pb[0>lb?~lb:lb].forEach(function(Na){Na._||(Na._=1,Pa.push(Na))})})})}});Ua.forEach(function(Oa){delete Oa._});return{type:"MultiPolygon",arcs:pb.map(function(Oa){var Da=[];Oa.forEach(function(Na){Na.forEach(function(xb){xb.forEach(function(ob){2>Pb[0>ob?
~ob:ob].length&&Da.push(ob)})})});Da=oc(Va,Da);if(1<(Oa=Da.length))for(var Pa=1,kb=Bb(Da[0]),lb;Pa<Oa;++Pa)(lb=Bb(Da[Pa]))>kb&&(kb=Da[0],Da[0]=Da[Pa],Da[Pa]=kb,kb=lb);return Da}).filter(function(Oa){return 0<Oa.length})}}function gc(Va,qb){for(var Kb=0,Ob=Va.length;Kb<Ob;){var Bb=Kb+Ob>>>1;Va[Bb]<qb?Kb=Bb+1:Ob=Bb}return Kb}function rc(Va){if(null==Va)return g;var qb,Kb,Ob=Va.scale[0],Bb=Va.scale[1],Pb=Va.translate[0],Ua=Va.translate[1];return function(pb,Oa){Oa||(qb=Kb=0);Oa=2;var Da=pb.length,Pa=
Array(Da),kb=Math.round((pb[0]-Pb)/Ob),lb=Math.round((pb[1]-Ua)/Bb);Pa[0]=kb-qb;qb=kb;Pa[1]=lb-Kb;for(Kb=lb;Oa<Da;)Pa[Oa]=pb[Oa],++Oa;return Pa}}r.bbox=hb;r.feature=function(Va,qb){"string"===typeof qb&&(qb=Va.objects[qb]);return"GeometryCollection"===qb.type?{type:"FeatureCollection",features:qb.geometries.map(function(Kb){return Gb(Va,Kb)})}:Gb(Va,qb)};r.merge=function(Va){return $b(Va,Ab.apply(this,arguments))};r.mergeArcs=Ab;r.mesh=function(Va){return $b(Va,kc.apply(this,arguments))};r.meshArcs=
kc;r.neighbors=function(Va){function qb(xb,ob){xb.forEach(function(Nb){0>Nb&&(Nb=~Nb);var Zb=Bb[Nb];Zb?Zb.push(ob):Bb[Nb]=[ob]})}function Kb(xb,ob){xb.forEach(function(Nb){qb(Nb,ob)})}function Ob(xb,ob){if("GeometryCollection"===xb.type)xb.geometries.forEach(function(Nb){Ob(Nb,ob)});else if(xb.type in Ua)Ua[xb.type](xb.arcs,ob)}var Bb={},Pb=Va.map(function(){return[]}),Ua={LineString:qb,MultiLineString:Kb,Polygon:Kb,MultiPolygon:function(xb,ob){xb.forEach(function(Nb){Kb(Nb,ob)})}};Va.forEach(Ob);
for(var pb in Bb){Va=Bb[pb];for(var Oa=Va.length,Da=0;Da<Oa;++Da)for(var Pa=Da+1;Pa<Oa;++Pa){var kb=Va[Da],lb=Va[Pa],Na;(Na=Pb[kb])[pb=gc(Na,lb)]!==lb&&Na.splice(pb,0,lb);(Na=Pb[lb])[pb=gc(Na,kb)]!==kb&&Na.splice(pb,0,kb)}}return Pb};r.quantize=function(Va,qb){function Kb(kb){return Da(kb)}function Ob(kb){switch(kb.type){case "GeometryCollection":var lb={type:"GeometryCollection",geometries:kb.geometries.map(Ob)};break;case "Point":lb={type:"Point",coordinates:Da(kb.coordinates)};break;case "MultiPoint":lb=
{type:"MultiPoint",coordinates:kb.coordinates.map(Kb)};break;default:return kb}null!=kb.id&&(lb.id=kb.id);null!=kb.bbox&&(lb.bbox=kb.bbox);null!=kb.properties&&(lb.properties=kb.properties);return lb}if(Va.transform)throw Error("already quantized");if(qb&&qb.scale)var Bb=Va.bbox;else{if(!(2<=(Oa=Math.floor(qb))))throw Error("n must be 2");Bb=Va.bbox||hb(Va);qb=Bb[0];var Pb=Bb[1],Ua=Bb[2],pb=Bb[3],Oa;qb={scale:[Ua-qb?(Ua-qb)/(Oa-1):1,pb-Pb?(pb-Pb)/(Oa-1):1],translate:[qb,Pb]}}var Da=rc(qb),Pa;Pb=
Va.objects;Ua={};for(Pa in Pb)Ua[Pa]=Ob(Pb[Pa]);return{type:"Topology",bbox:Bb,transform:qb,objects:Ua,arcs:Va.arcs.map(function(kb){var lb=0,Na=1,xb=kb.length,ob,Nb=Array(xb);for(Nb[0]=Da(kb[0],0);++lb<xb;)if((ob=Da(kb[lb],lb))[0]||ob[1])Nb[Na++]=ob;1===Na&&(Nb[Na++]=[0,0]);Nb.length=Na;return Nb})}};r.transform=qa;r.untransform=rc;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[23]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega))})(this,function(r,g){function qa(W){const Ca=g.array(W).slice(),Za={};Ca.length||g.error("Missing time unit.");Ca.forEach(Ib=>{g.hasOwnProperty(Na,Ib)?Za[Ib]=1:g.error(`Invalid time unit: ${Ib}.`)});1<(Za.week||Za.day?1:0)+(Za.quarter||Za.month||
Za.date?1:0)+(Za.dayofyear?1:0)&&g.error(`Incompatible time units: ${W}`);Ca.sort((Ib,xc)=>Na[Ib]-Na[xc]);return Ca}function hb(W,Ca,Za,Ib){function xc(uc){return W(uc=0===arguments.length?new Date:new Date(+uc)),uc}xc.floor=uc=>(W(uc=new Date(+uc)),uc);xc.ceil=uc=>(W(uc=new Date(uc-1)),Ca(uc,1),W(uc),uc);xc.round=uc=>{const wc=xc(uc),bd=xc.ceil(uc);return uc-wc<bd-uc?wc:bd};xc.offset=(uc,wc)=>(Ca(uc=new Date(+uc),null==wc?1:Math.floor(wc)),uc);xc.range=(uc,wc,bd)=>{const Wb=[];uc=xc.ceil(uc);bd=
null==bd?1:Math.floor(bd);if(!(uc<wc&&0<bd))return Wb;let Rc;do Wb.push(Rc=new Date(+uc)),Ca(uc,bd),W(uc);while(Rc<uc&&uc<wc);return Wb};xc.filter=uc=>hb(wc=>{if(wc>=wc)for(;W(wc),!uc(wc);)wc.setTime(wc-1)},(wc,bd)=>{if(wc>=wc)if(0>bd)for(;0>=++bd;)for(;Ca(wc,-1),!uc(wc););else for(;0<=--bd;)for(;Ca(wc,1),!uc(wc););});Za&&(xc.count=(uc,wc)=>{ob.setTime(+uc);Nb.setTime(+wc);W(ob);W(Nb);return Math.floor(Za(ob,Nb))},xc.every=uc=>{uc=Math.floor(uc);return isFinite(uc)&&0<uc?1<uc?xc.filter(Ib?wc=>0===
Ib(wc)%uc:wc=>0===xc.count(0,wc)%uc):xc:null});return xc}function Gb(W){return hb(Ca=>{Ca.setDate(Ca.getDate()-(Ca.getDay()+7-W)%7);Ca.setHours(0,0,0,0)},(Ca,Za)=>{Ca.setDate(Ca.getDate()+7*Za)},(Ca,Za)=>(Za-Ca-6E4*(Za.getTimezoneOffset()-Ca.getTimezoneOffset()))/6048E5)}function $b(W){return hb(Ca=>{Ca.setUTCDate(Ca.getUTCDate()-(Ca.getUTCDay()+7-W)%7);Ca.setUTCHours(0,0,0,0)},(Ca,Za)=>{Ca.setUTCDate(Ca.getUTCDate()+7*Za)},(Ca,Za)=>(Za-Ca)/6048E5)}function oc(W,Ca){return null==W||null==Ca?NaN:W<
Ca?-1:W>Ca?1:W>=Ca?0:NaN}function kc(W,Ca){return null==W||null==Ca?NaN:Ca<W?-1:Ca>W?1:Ca>=W?0:NaN}function yc(W){function Ca(uc,wc,bd=0,Wb=uc.length){if(bd<Wb){if(0!==Za(wc,wc))return Wb;do{const Rc=bd+Wb>>>1;0>Ib(uc[Rc],wc)?bd=Rc+1:Wb=Rc}while(bd<Wb)}return bd}let Za,Ib,xc;2!==W.length?(Za=oc,Ib=(uc,wc)=>oc(W(uc),wc),xc=(uc,wc)=>W(uc)-wc):(Za=W===oc||W===kc?W:Ab,xc=Ib=W);return{left:Ca,center:function(uc,wc,bd=0,Wb=uc.length){Wb=Ca(uc,wc,bd,Wb-1);return Wb>bd&&xc(uc[Wb-1],wc)>-xc(uc[Wb],wc)?Wb-
1:Wb},right:function(uc,wc,bd=0,Wb=uc.length){if(bd<Wb){if(0!==Za(wc,wc))return Wb;do{const Rc=bd+Wb>>>1;0>=Ib(uc[Rc],wc)?bd=Rc+1:Wb=Rc}while(bd<Wb)}return bd}}}function Ab(){return 0}function gc(W,Ca,Za){var Ib=(Ca-W)/Math.max(0,Za),xc=Math.floor(Math.log10(Ib));Ib/=Math.pow(10,xc);Ib=Ib>=B?10:Ib>=z?5:Ib>=D?2:1;let uc;0>xc?(uc=Math.pow(10,-xc)/Ib,xc=Math.round(W*uc),Ib=Math.round(Ca*uc),xc/uc<W&&++xc,Ib/uc>Ca&&--Ib,uc=-uc):(uc=Math.pow(10,xc)*Ib,xc=Math.round(W/uc),Ib=Math.round(Ca/uc),xc*uc<W&&
++xc,Ib*uc>Ca&&--Ib);return Ib<xc&&.5<=Za&&2>Za?gc(W,Ca,2*Za):[xc,Ib,uc]}function rc(W,Ca,Za){return gc(+W,+Ca,+Za)[2]}function Va(W,Ca,Za){Ca=+Ca;W=+W;Za=+Za;const Ib=Ca<W;W=Ib?rc(Ca,W,Za):rc(W,Ca,Za);return(Ib?-1:1)*(0>W?1/-W:W)}function qb(W){G.setFullYear(W);G.setMonth(0);G.setDate(1);G.setHours(0,0,0,0);return G}function Kb(W){return cb.count(qb(W.getFullYear())-1,W)}function Ob(W){return p.count(qb(W.getFullYear())-1,W)}function Bb(W,Ca,Za,Ib,xc,uc,wc){return 0<=W&&100>W?(Ca=new Date(-1,Ca,
Za,Ib,xc,uc,wc),Ca.setFullYear(W),Ca):new Date(W,Ca,Za,Ib,xc,uc,wc)}function Pb(W){const Ca=Date.UTC(W.getUTCFullYear(),0,1);return aa.count(Ca-1,W)}function Ua(W){const Ca=Date.UTC(W.getUTCFullYear(),0,1);return C.count(Ca-1,W)}function pb(W){G.setTime(Date.UTC(W,0,1));return G.getUTCDay()}function Oa(W,Ca,Za,Ib,xc,uc,wc){return 0<=W&&100>W?(W=new Date(Date.UTC(-1,Ca,Za,Ib,xc,uc,wc)),W.setUTCFullYear(Za.y),W):new Date(Date.UTC(W,Ca,Za,Ib,xc,uc,wc))}function Da(W,Ca,Za,Ib,xc){const uc=Ca||1,wc=g.peek(W);
Ca=(fc,bc,Hc)=>{Hc=Hc||fc;return Pa(Za[Hc],Ib[Hc],fc===wc&&uc,bc)};const bd=new Date;W=g.toSet(W);const Wb=W.year?Ca("year"):g.constant(2012),Rc=W.month?Ca("month"):W.quarter?Ca("quarter"):g.zero,Pd=W.week&&W.day?Ca("day",1,"weekday"):W.week?Ca("week",1):W.day?Ca("day",1):W.date?Ca("date",1):W.dayofyear?Ca("dayofyear",1):g.one,Ka=W.hours?Ca("hours"):g.zero,Ub=W.minutes?Ca("minutes"):g.zero,rb=W.seconds?Ca("seconds"):g.zero,Sb=W.milliseconds?Ca("milliseconds"):g.zero;return function(fc){bd.setTime(+fc);
fc=Wb(bd);return xc(fc,Rc(bd),Pd(bd,fc),Ka(bd),Ub(bd),rb(bd),Sb(bd))}}function Pa(W,Ca,Za,Ib){const xc=1>=Za?W:Ib?(uc,wc)=>Ib+Za*Math.floor((W(uc,wc)-Ib)/Za):(uc,wc)=>Za*Math.floor(W(uc,wc)/Za);return Ca?(uc,wc)=>Ca(xc(uc,wc),wc):xc}function kb(W,Ca,Za){return Ca+7*W-(Za+6)%7}const lb="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Na=lb.reduce((W,Ca,Za)=>(W[Ca]=1+Za,W),{}),xb={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",
hours:"%H:00",minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},ob=new Date,Nb=new Date,Zb=hb(()=>{},(W,Ca)=>{W.setTime(+W+Ca)},(W,Ca)=>Ca-W);Zb.every=W=>{W=Math.floor(W);return isFinite(W)&&0<W?1<W?hb(Ca=>{Ca.setTime(Math.floor(Ca/W)*W)},(Ca,Za)=>{Ca.setTime(+Ca+Za*W)},(Ca,Za)=>(Za-Ca)/W):Zb:null};Zb.range;var nb=hb(W=>{W.setTime(W-W.getMilliseconds())},(W,Ca)=>{W.setTime(+W+1E3*Ca)},(W,Ca)=>(Ca-W)/1E3,W=>W.getUTCSeconds());
nb.range;var la=hb(W=>{W.setTime(W-W.getMilliseconds()-1E3*W.getSeconds())},(W,Ca)=>{W.setTime(+W+6E4*Ca)},(W,Ca)=>(Ca-W)/6E4,W=>W.getMinutes());la.range;var Y=hb(W=>{W.setUTCSeconds(0,0)},(W,Ca)=>{W.setTime(+W+6E4*Ca)},(W,Ca)=>(Ca-W)/6E4,W=>W.getUTCMinutes());Y.range;var Ha=hb(W=>{W.setTime(W-W.getMilliseconds()-1E3*W.getSeconds()-6E4*W.getMinutes())},(W,Ca)=>{W.setTime(+W+36E5*Ca)},(W,Ca)=>(Ca-W)/36E5,W=>W.getHours());Ha.range;var Fa=hb(W=>{W.setUTCMinutes(0,0,0)},(W,Ca)=>{W.setTime(+W+36E5*Ca)},
(W,Ca)=>(Ca-W)/36E5,W=>W.getUTCHours());Fa.range;const cb=hb(W=>W.setHours(0,0,0,0),(W,Ca)=>W.setDate(W.getDate()+Ca),(W,Ca)=>(Ca-W-6E4*(Ca.getTimezoneOffset()-W.getTimezoneOffset()))/864E5,W=>W.getDate()-1);cb.range;const aa=hb(W=>{W.setUTCHours(0,0,0,0)},(W,Ca)=>{W.setUTCDate(W.getUTCDate()+Ca)},(W,Ca)=>(Ca-W)/864E5,W=>W.getUTCDate()-1);aa.range;var ma=hb(W=>{W.setUTCHours(0,0,0,0)},(W,Ca)=>{W.setUTCDate(W.getUTCDate()+Ca)},(W,Ca)=>(Ca-W)/864E5,W=>Math.floor(W/864E5));ma.range;const p=Gb(0);ma=
Gb(1);var L=Gb(2),P=Gb(3),f=Gb(4),v=Gb(5),l=Gb(6);p.range;ma.range;L.range;P.range;f.range;v.range;l.range;const C=$b(0);ma=$b(1);L=$b(2);P=$b(3);f=$b(4);v=$b(5);l=$b(6);C.range;ma.range;L.range;P.range;f.range;v.range;l.range;ma=hb(W=>{W.setDate(1);W.setHours(0,0,0,0)},(W,Ca)=>{W.setMonth(W.getMonth()+Ca)},(W,Ca)=>Ca.getMonth()-W.getMonth()+12*(Ca.getFullYear()-W.getFullYear()),W=>W.getMonth());ma.range;L=hb(W=>{W.setUTCDate(1);W.setUTCHours(0,0,0,0)},(W,Ca)=>{W.setUTCMonth(W.getUTCMonth()+Ca)},
(W,Ca)=>Ca.getUTCMonth()-W.getUTCMonth()+12*(Ca.getUTCFullYear()-W.getUTCFullYear()),W=>W.getUTCMonth());L.range;P=hb(W=>{W.setMonth(0,1);W.setHours(0,0,0,0)},(W,Ca)=>{W.setFullYear(W.getFullYear()+Ca)},(W,Ca)=>Ca.getFullYear()-W.getFullYear(),W=>W.getFullYear());P.every=W=>isFinite(W=Math.floor(W))&&0<W?hb(Ca=>{Ca.setFullYear(Math.floor(Ca.getFullYear()/W)*W);Ca.setMonth(0,1);Ca.setHours(0,0,0,0)},(Ca,Za)=>{Ca.setFullYear(Ca.getFullYear()+Za*W)}):null;P.range;f=hb(W=>{W.setUTCMonth(0,1);W.setUTCHours(0,
0,0,0)},(W,Ca)=>{W.setUTCFullYear(W.getUTCFullYear()+Ca)},(W,Ca)=>Ca.getUTCFullYear()-W.getUTCFullYear(),W=>W.getUTCFullYear());f.every=W=>isFinite(W=Math.floor(W))&&0<W?hb(Ca=>{Ca.setUTCFullYear(Math.floor(Ca.getUTCFullYear()/W)*W);Ca.setUTCMonth(0,1);Ca.setUTCHours(0,0,0,0)},(Ca,Za)=>{Ca.setUTCFullYear(Ca.getUTCFullYear()+Za*W)}):null;f.range;const B=Math.sqrt(50),z=Math.sqrt(10),D=Math.sqrt(2),G=new Date,U={year:W=>W.getFullYear(),quarter:W=>Math.floor(W.getMonth()/3),month:W=>W.getMonth(),date:W=>
W.getDate(),hours:W=>W.getHours(),minutes:W=>W.getMinutes(),seconds:W=>W.getSeconds(),milliseconds:W=>W.getMilliseconds(),dayofyear:W=>Kb(W),week:W=>Ob(W),weekday:(W,Ca)=>kb(Ob(W),W.getDay(),qb(Ca).getDay()),day:(W,Ca)=>kb(1,W.getDay(),qb(Ca).getDay())},Aa={quarter:W=>3*W,week:(W,Ca)=>kb(W,0,qb(Ca).getDay())},X={year:W=>W.getUTCFullYear(),quarter:W=>Math.floor(W.getUTCMonth()/3),month:W=>W.getUTCMonth(),date:W=>W.getUTCDate(),hours:W=>W.getUTCHours(),minutes:W=>W.getUTCMinutes(),seconds:W=>W.getUTCSeconds(),
milliseconds:W=>W.getUTCMilliseconds(),dayofyear:W=>Pb(W),week:W=>Ua(W),day:(W,Ca)=>kb(1,W.getUTCDay(),pb(Ca)),weekday:(W,Ca)=>kb(Ua(W),W.getUTCDay(),pb(Ca))},u={quarter:W=>3*W,week:(W,Ca)=>kb(W,0,pb(Ca))},K={year:P,quarter:ma.every(3),month:ma,week:p,date:cb,day:cb,dayofyear:cb,hours:Ha,minutes:la,seconds:nb,milliseconds:Zb},ua={year:f,quarter:L.every(3),month:L,week:C,date:aa,day:aa,dayofyear:aa,hours:Fa,minutes:Y,seconds:nb,milliseconds:Zb},Ja="year month date hours minutes seconds milliseconds".split(" ");
nb=Ja.slice(0,-1);la=nb.slice(0,-1);Y=la.slice(0,-1);Ha=Y.slice(0,-1);Fa=["year","month"];const Wa=["year"],ab=[[nb,1,1E3],[nb,5,5E3],[nb,15,15E3],[nb,30,3E4],[la,1,6E4],[la,5,3E5],[la,15,9E5],[la,30,18E5],[Y,1,36E5],[Y,3,108E5],[Y,6,216E5],[Y,12,432E5],[Ha,1,864E5],[["year","week"],1,6048E5],[Fa,1,2592E6],[Fa,3,7776E6],[Wa,1,31536E6]];r.DATE="date";r.DAY="day";r.DAYOFYEAR="dayofyear";r.HOURS="hours";r.MILLISECONDS="milliseconds";r.MINUTES="minutes";r.MONTH="month";r.QUARTER="quarter";r.SECONDS="seconds";
r.TIME_UNITS=lb;r.WEEK="week";r.YEAR="year";r.dayofyear=function(W){return Kb(new Date(W))};r.timeBin=function(W){var Ca=W.extent;W=W.maxbins||40;var Za=Math.abs(g.span(Ca))/W;let Ib=yc(xc=>xc[2]).right(ab,Za);Ib===ab.length?(Za=Wa,Ca=Va(Ca[0]/31536E6,Ca[1]/31536E6,W)):Ib?(Ib=ab[Za/ab[Ib-1][2]<ab[Ib][2]/Za?Ib-1:Ib],Za=Ib[0],Ca=Ib[1]):(Za=Ja,Ca=Math.max(Va(Ca[0],Ca[1],W),1));return{units:Za,step:Ca}};r.timeFloor=function(W,Ca){return Da(W,Ca||1,U,Aa,Bb)};r.timeInterval=function(W){return K[W]};r.timeOffset=
function(W,Ca,Za){return(W=K[W])?W.offset(Ca,Za):void 0};r.timeSequence=function(W,Ca,Za,Ib){return(W=K[W])?W.range(Ca,Za,Ib):void 0};r.timeUnitSpecifier=function(W,Ca){Ca=g.extend({},xb,Ca);W=qa(W);const Za=W.length;let Ib="",xc,uc,wc;for(xc=0;xc<Za;)for(uc=W.length;uc>xc;--uc)if(wc=W.slice(xc,uc).join("-"),null!=Ca[wc]){Ib+=Ca[wc];xc=uc;break}return Ib.trim()};r.timeUnits=qa;r.utcFloor=function(W,Ca){return Da(W,Ca||1,X,u,Oa)};r.utcInterval=function(W){return ua[W]};r.utcOffset=function(W,Ca,Za){return(W=
ua[W])?W.offset(Ca,Za):void 0};r.utcSequence=function(W,Ca,Za,Ib){return(W=ua[W])?W.range(Ca,Za,Ib):void 0};r.utcdayofyear=function(W){return Pb(new Date(W))};r.utcweek=function(W){return Ua(new Date(W))};r.week=function(W){return Ob(new Date(W))}})};
shadow$provide[24]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(23),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,qa){function hb(Ra){const eb={};return pc=>eb[pc]||(eb[pc]=Ra(pc))}function Gb(Ra,eb,pc){var vd=(eb-Ra)/Math.max(0,pc),Jc=Math.floor(Math.log10(vd));vd/=Math.pow(10,Jc);vd=vd>=de?10:vd>=Ud?5:vd>=
Te?2:1;let Vc;0>Jc?(Vc=Math.pow(10,-Jc)/vd,Jc=Math.round(Ra*Vc),vd=Math.round(eb*Vc),Jc/Vc<Ra&&++Jc,vd/Vc>eb&&--vd,Vc=-Vc):(Vc=Math.pow(10,Jc)*vd,Jc=Math.round(Ra/Vc),vd=Math.round(eb/Vc),Jc*Vc<Ra&&++Jc,vd*Vc>eb&&--vd);return vd<Jc&&.5<=pc&&2>pc?Gb(Ra,eb,2*pc):[Jc,vd,Vc]}function $b(Ra,eb,pc){return Gb(+Ra,+eb,+pc)[2]}function oc(Ra,eb){if(0>(eb=(Ra=eb?Ra.toExponential(eb-1):Ra.toExponential()).indexOf("e")))return null;var pc=Ra.slice(0,eb);return[1<pc.length?pc[0]+pc.slice(2):pc,+Ra.slice(eb+1)]}
function kc(Ra){return Ra=oc(Math.abs(Ra)),Ra?Ra[1]:NaN}function yc(Ra,eb){return function(pc,vd){for(var Jc=pc.length,Vc=[],Qc=0,sd=Ra[0],id=0;0<Jc&&0<sd;){id+sd+1>vd&&(sd=Math.max(1,vd-id));Vc.push(pc.substring(Jc-=sd,Jc+sd));if((id+=sd+1)>vd)break;sd=Ra[Qc=(Qc+1)%Ra.length]}return Vc.reverse().join(eb)}}function Ab(Ra){return function(eb){return eb.replace(/[0-9]/g,function(pc){return Ra[+pc]})}}function gc(Ra){if(!(eb=Xd.exec(Ra)))throw Error("invalid format: "+Ra);var eb;return new rc({fill:eb[1],
align:eb[2],sign:eb[3],symbol:eb[4],zero:eb[5],width:eb[6],comma:eb[7],precision:eb[8]&&eb[8].slice(1),trim:eb[9],type:eb[10]})}function rc(Ra){this.fill=void 0===Ra.fill?" ":Ra.fill+"";this.align=void 0===Ra.align?"\x3e":Ra.align+"";this.sign=void 0===Ra.sign?"-":Ra.sign+"";this.symbol=void 0===Ra.symbol?"":Ra.symbol+"";this.zero=!!Ra.zero;this.width=void 0===Ra.width?void 0:+Ra.width;this.comma=!!Ra.comma;this.precision=void 0===Ra.precision?void 0:+Ra.precision;this.trim=!!Ra.trim;this.type=void 0===
Ra.type?"":Ra.type+""}function Va(Ra,eb){eb=oc(Ra,eb);if(!eb)return Ra+"";Ra=eb[0];eb=eb[1];return 0>eb?"0."+Array(-eb).join("0")+Ra:Ra.length>eb+1?Ra.slice(0,eb+1)+"."+Ra.slice(eb+1):Ra+Array(eb-Ra.length+2).join("0")}function qb(Ra){return Ra}function Kb(Ra){function eb(Bd){function be(H){var ja=ce,sa=le,Ia,ib;if("c"===Vd)sa=N(H)+sa,H="";else{H=+H;var ub=0>H||0>1/H;H=isNaN(H)?Nd:N(Math.abs(H),Ec);if(Id){var qc=H.length,sc=1,tc=-1;a:for(;sc<qc;++sc)switch(H[sc]){case ".":tc=Ia=sc;break;case "0":0===
tc&&(tc=sc);Ia=sc;break;default:if(!+H[sc])break a;0<tc&&(tc=0)}H=0<tc?H.slice(0,tc)+H.slice(Ia+1):H}ub&&0===+H&&"+"!==Xe&&(ub=!1);ja=(ub?"("===Xe?Xe:id:"-"===Xe||"("===Xe?"":Xe)+ja;sa=("s"===Vd?fb[8+M/3]:"")+sa+(ub&&"("===Xe?")":"");if(ca)for(ub=-1,Ia=H.length;++ub<Ia;)if(ib=H.charCodeAt(ub),48>ib||57<ib){sa=(46===ib?Vc+H.slice(ub+1):H.slice(ub))+sa;H=H.slice(0,ub);break}}jd&&!md&&(H=pc(H,Infinity));ib=ja.length+H.length+sa.length;ub=ib<Dc?Array(Dc-ib+1).join(we):"";jd&&md&&(H=pc(ub+H,ub.length?
Dc-sa.length:Infinity),ub="");switch(Ke){case "\x3c":H=ja+H+sa+ub;break;case "\x3d":H=ja+ub+H+sa;break;case "^":H=ub.slice(0,ib=ub.length>>1)+ja+H+sa+ub.slice(ib);break;default:H=ub+ja+H+sa}return Qc(H)}Bd=gc(Bd);var we=Bd.fill,Ke=Bd.align,Xe=Bd.sign,bf=Bd.symbol,md=Bd.zero,Dc=Bd.width,jd=Bd.comma,Ec=Bd.precision,Id=Bd.trim,Vd=Bd.type;"n"===Vd?(jd=!0,Vd="g"):ka[Vd]||(void 0===Ec&&(Ec=12),Id=!0,Vd="g");if(md||"0"===we&&"\x3d"===Ke)md=!0,we="0",Ke="\x3d";var ce="$"===bf?vd:"#"===bf&&/[boxX]/.test(Vd)?
"0"+Vd.toLowerCase():"",le="$"===bf?Jc:/[%p]/.test(Vd)?sd:"",N=ka[Vd],ca=/[defgprs%]/.test(Vd);Ec=void 0===Ec?6:/[gprs]/.test(Vd)?Math.max(1,Math.min(21,Ec)):Math.max(0,Math.min(20,Ec));be.toString=function(){return Bd+""};return be}var pc=void 0===Ra.grouping||void 0===Ra.thousands?qb:yc(za.call(Ra.grouping,Number),Ra.thousands+""),vd=void 0===Ra.currency?"":Ra.currency[0]+"",Jc=void 0===Ra.currency?"":Ra.currency[1]+"",Vc=void 0===Ra.decimal?".":Ra.decimal+"",Qc=void 0===Ra.numerals?qb:Ab(za.call(Ra.numerals,
String)),sd=void 0===Ra.percent?"%":Ra.percent+"",id=void 0===Ra.minus?"":Ra.minus+"",Nd=void 0===Ra.nan?"NaN":Ra.nan+"";return{format:eb,formatPrefix:function(Bd,be){var we=eb((Bd=gc(Bd),Bd.type="f",Bd));Bd=3*Math.max(-8,Math.min(8,Math.floor(kc(be)/3)));var Ke=Math.pow(10,-Bd),Xe=fb[8+Bd/3];return function(bf){return we(Ke*bf)+Xe}}}}function Ob(Ra,eb){return pc=>{pc=Ra(pc);const vd=pc.indexOf(eb);if(0>vd)return pc;a:{var Jc=pc.lastIndexOf("e");if(!(0<Jc)){for(Jc=pc.length;--Jc>vd;){var Vc=pc.charCodeAt(Jc);
if(48<=Vc&&57>=Vc){Jc+=1;break a}}Jc=void 0}}for(Vc=Jc<pc.length?pc.slice(Jc):"";--Jc>vd;)if("0"!==pc[Jc]){++Jc;break}return pc.slice(0,Jc)+Vc}}function Bb(Ra){const eb=hb(Ra.format),pc=Ra.formatPrefix;return{format:eb,formatPrefix:pc,formatFloat(vd){vd=gc(vd||",");if(null==vd.precision){vd.precision=12;switch(vd.type){case "%":vd.precision-=2;break;case "e":--vd.precision}return Ob(eb(vd),eb(".1f")(1)[1])}return eb(vd)},formatSpan(vd,Jc,Vc,Qc){Qc=gc(null==Qc?",f":Qc);var sd=+Jc;var id=+vd;var Nd=
+Vc;id=(Vc=sd<id)?$b(sd,id,Nd):$b(id,sd,Nd);id=(Vc?-1:1)*(0>id?1/-id:id);vd=Math.max(Math.abs(vd),Math.abs(Jc));if(null==Qc.precision)switch(Qc.type){case "s":return Jc=isNaN,id=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(kc(vd)/3)))-kc(Math.abs(id))),Jc(Jc=id)||(Qc.precision=Jc),pc(Qc,vd);case "":case "e":case "g":case "p":case "r":Jc=isNaN;id=Math.abs(id);vd=Math.abs(vd)-id;vd=Math.max(0,kc(vd)-kc(id))+1;Jc(Jc=vd)||(Qc.precision=Jc-("e"===Qc.type));break;case "f":case "%":isNaN(Jc=Math.max(0,
-kc(Math.abs(id))))||(Qc.precision=Jc-2*("%"===Qc.type))}return eb(Qc)}}}function Pb(){return lc=Bb({format:Xb,formatPrefix:Ac})}function Ua(Ra){return Bb(Kb(Ra))}function pb(Ra){return arguments.length?lc=Ua(Ra):lc}function Oa(Ra,eb,pc,vd){function Jc(Vc){return Ra(Vc=0===arguments.length?new Date:new Date(+Vc)),Vc}Jc.floor=Vc=>(Ra(Vc=new Date(+Vc)),Vc);Jc.ceil=Vc=>(Ra(Vc=new Date(Vc-1)),eb(Vc,1),Ra(Vc),Vc);Jc.round=Vc=>{const Qc=Jc(Vc),sd=Jc.ceil(Vc);return Vc-Qc<sd-Vc?Qc:sd};Jc.offset=(Vc,Qc)=>
(eb(Vc=new Date(+Vc),null==Qc?1:Math.floor(Qc)),Vc);Jc.range=(Vc,Qc,sd)=>{const id=[];Vc=Jc.ceil(Vc);sd=null==sd?1:Math.floor(sd);if(!(Vc<Qc&&0<sd))return id;let Nd;do id.push(Nd=new Date(+Vc)),eb(Vc,sd),Ra(Vc);while(Nd<Vc&&Vc<Qc);return id};Jc.filter=Vc=>Oa(Qc=>{if(Qc>=Qc)for(;Ra(Qc),!Vc(Qc);)Qc.setTime(Qc-1)},(Qc,sd)=>{if(Qc>=Qc)if(0>sd)for(;0>=++sd;)for(;eb(Qc,-1),!Vc(Qc););else for(;0<=--sd;)for(;eb(Qc,1),!Vc(Qc););});pc&&(Jc.count=(Vc,Qc)=>{Fc.setTime(+Vc);hd.setTime(+Qc);Ra(Fc);Ra(hd);return Math.floor(pc(Fc,
hd))},Jc.every=Vc=>{Vc=Math.floor(Vc);return isFinite(Vc)&&0<Vc?1<Vc?Jc.filter(vd?Qc=>0===vd(Qc)%Vc:Qc=>0===Jc.count(0,Qc)%Vc):Jc:null});return Jc}function Da(Ra){return Oa(eb=>{eb.setDate(eb.getDate()-(eb.getDay()+7-Ra)%7);eb.setHours(0,0,0,0)},(eb,pc)=>{eb.setDate(eb.getDate()+7*pc)},(eb,pc)=>(pc-eb-6E4*(pc.getTimezoneOffset()-eb.getTimezoneOffset()))/6048E5)}function Pa(Ra){return Oa(eb=>{eb.setUTCDate(eb.getUTCDate()-(eb.getUTCDay()+7-Ra)%7);eb.setUTCHours(0,0,0,0)},(eb,pc)=>{eb.setUTCDate(eb.getUTCDate()+
7*pc)},(eb,pc)=>(pc-eb)/6048E5)}function kb(Ra){if(0<=Ra.y&&100>Ra.y){var eb=new Date(-1,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L);eb.setFullYear(Ra.y);return eb}return new Date(Ra.y,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L)}function lb(Ra){if(0<=Ra.y&&100>Ra.y){var eb=new Date(Date.UTC(-1,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L));eb.setUTCFullYear(Ra.y);return eb}return new Date(Date.UTC(Ra.y,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L))}function Na(Ra,eb,pc){return{y:Ra,m:eb,d:pc,H:0,M:0,S:0,L:0}}function xb(Ra){function eb(ca,H){return function(ja){var sa=
[],Ia=-1,ib=0,ub=ca.length,qc,sc;for(ja instanceof Date||(ja=new Date(+ja));++Ia<ub;)if(37===ca.charCodeAt(Ia)){sa.push(ca.slice(ib,Ia));null!=(ib=Yb[qc=ca.charAt(++Ia)])?qc=ca.charAt(++Ia):ib="e"===qc?" ":"0";if(sc=H[qc])qc=sc(ja,ib);sa.push(qc);ib=Ia+1}sa.push(ca.slice(ib,Ia));return sa.join("")}}function pc(ca,H){return function(ja){var sa=Na(1900,void 0,1);if(vd(sa,ca,ja+="",0)!=ja.length)return null;if("Q"in sa)return new Date(sa.Q);if("s"in sa)return new Date(1E3*sa.s+("L"in sa?sa.L:0));!H||
"Z"in sa||(sa.Z=0);"p"in sa&&(sa.H=sa.H%12+12*sa.p);void 0===sa.m&&(sa.m="q"in sa?sa.q:0);if("V"in sa){if(1>sa.V||53<sa.V)return null;"w"in sa||(sa.w=1);if("Z"in sa){ja=lb(Na(sa.y,0,1));var Ia=ja.getUTCDay();ja=4<Ia||0===Ia?re.ceil(ja):re(ja);ja=rd.offset(ja,7*(sa.V-1));sa.y=ja.getUTCFullYear();sa.m=ja.getUTCMonth();sa.d=ja.getUTCDate()+(sa.w+6)%7}else ja=kb(Na(sa.y,0,1)),Ia=ja.getDay(),ja=4<Ia||0===Ia?$d.ceil(ja):$d(ja),ja=Nc.offset(ja,7*(sa.V-1)),sa.y=ja.getFullYear(),sa.m=ja.getMonth(),sa.d=ja.getDate()+
(sa.w+6)%7}else if("W"in sa||"U"in sa)"w"in sa||(sa.w="u"in sa?sa.u%7:"W"in sa?1:0),Ia="Z"in sa?lb(Na(sa.y,0,1)).getUTCDay():kb(Na(sa.y,0,1)).getDay(),sa.m=0,sa.d="W"in sa?(sa.w+6)%7+7*sa.W-(Ia+5)%7:sa.w+7*sa.U-(Ia+6)%7;return"Z"in sa?(sa.H+=sa.Z/100|0,sa.M+=sa.Z%100,lb(sa)):kb(sa)}}function vd(ca,H,ja,sa){for(var Ia=0,ib=H.length,ub=ja.length,qc;Ia<ib;){if(sa>=ub)return-1;qc=H.charCodeAt(Ia++);if(37===qc){if(qc=H.charAt(Ia++),qc=N[qc in Yb?H.charAt(Ia++):qc],!qc||0>(sa=qc(ca,ja,sa)))return-1}else if(qc!=
ja.charCodeAt(sa++))return-1}return sa}var Jc=Ra.dateTime,Vc=Ra.date,Qc=Ra.time,sd=Ra.periods,id=Ra.days,Nd=Ra.shortDays,Bd=Ra.months,be=Ra.shortMonths,we=Zb(sd),Ke=nb(sd),Xe=Zb(id),bf=nb(id),md=Zb(Nd),Dc=nb(Nd),jd=Zb(Bd),Ec=nb(Bd),Id=Zb(be),Vd=nb(be),ce={a:function(ca){return Nd[ca.getDay()]},A:function(ca){return id[ca.getDay()]},b:function(ca){return be[ca.getMonth()]},B:function(ca){return Bd[ca.getMonth()]},c:null,d:X,e:X,f:Wa,g:Rc,G:Ka,H:u,I:K,j:ua,L:Ja,m:ab,M:W,p:function(ca){return sd[+(12<=
ca.getHours())]},q:function(ca){return 1+~~(ca.getMonth()/3)},Q:ic,s:Uc,S:Ca,u:Za,U:Ib,V:uc,w:wc,W:bd,x:null,X:null,y:Wb,Y:Pd,Z:Ub,"%":dc},le={a:function(ca){return Nd[ca.getUTCDay()]},A:function(ca){return id[ca.getUTCDay()]},b:function(ca){return be[ca.getUTCMonth()]},B:function(ca){return Bd[ca.getUTCMonth()]},c:null,d:rb,e:rb,f:zc,g:$a,G:Fb,H:Sb,I:fc,j:bc,L:Hc,m:Yc,M:Md,p:function(ca){return sd[+(12<=ca.getUTCHours())]},q:function(ca){return 1+~~(ca.getUTCMonth()/3)},Q:ic,s:Uc,S:td,u:Ga,U:gb,
V:ra,w:F,W:ya,x:null,X:null,y:La,Y:jb,Z:nc,"%":dc},N={a:function(ca,H,ja){return(H=md.exec(H.slice(ja)))?(ca.w=Dc.get(H[0].toLowerCase()),ja+H[0].length):-1},A:function(ca,H,ja){return(H=Xe.exec(H.slice(ja)))?(ca.w=bf.get(H[0].toLowerCase()),ja+H[0].length):-1},b:function(ca,H,ja){return(H=Id.exec(H.slice(ja)))?(ca.m=Vd.get(H[0].toLowerCase()),ja+H[0].length):-1},B:function(ca,H,ja){return(H=jd.exec(H.slice(ja)))?(ca.m=Ec.get(H[0].toLowerCase()),ja+H[0].length):-1},c:function(ca,H,ja){return vd(ca,
Jc,H,ja)},d:f,e:f,f:D,g:ma,G:aa,H:l,I:l,j:v,L:z,m:P,M:C,p:function(ca,H,ja){return(H=we.exec(H.slice(ja)))?(ca.p=Ke.get(H[0].toLowerCase()),ja+H[0].length):-1},q:L,Q:U,s:Aa,S:B,u:Y,U:Ha,V:Fa,w:la,W:cb,x:function(ca,H,ja){return vd(ca,Vc,H,ja)},X:function(ca,H,ja){return vd(ca,Qc,H,ja)},y:ma,Y:aa,Z:p,"%":G};ce.x=eb(Vc,ce);ce.X=eb(Qc,ce);ce.c=eb(Jc,ce);le.x=eb(Vc,le);le.X=eb(Qc,le);le.c=eb(Jc,le);return{format:function(ca){var H=eb(ca+="",ce);H.toString=function(){return ca};return H},parse:function(ca){var H=
pc(ca+="",!1);H.toString=function(){return ca};return H},utcFormat:function(ca){var H=eb(ca+="",le);H.toString=function(){return ca};return H},utcParse:function(ca){var H=pc(ca+="",!0);H.toString=function(){return ca};return H}}}function ob(Ra,eb,pc){var vd=0>Ra?"-":"";Ra=(vd?-Ra:Ra)+"";var Jc=Ra.length;return vd+(Jc<pc?Array(pc-Jc+1).join(eb)+Ra:Ra)}function Nb(Ra){return Ra.replace(Sa,"\\$\x26")}function Zb(Ra){return new RegExp("^(?:"+Ra.map(Nb).join("|")+")","i")}function nb(Ra){return new Map(Ra.map((eb,
pc)=>[eb.toLowerCase(),pc]))}function la(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+1)))?(Ra.w=+eb[0],pc+eb[0].length):-1}function Y(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+1)))?(Ra.u=+eb[0],pc+eb[0].length):-1}function Ha(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+2)))?(Ra.U=+eb[0],pc+eb[0].length):-1}function Fa(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+2)))?(Ra.V=+eb[0],pc+eb[0].length):-1}function cb(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+2)))?(Ra.W=+eb[0],pc+eb[0].length):-1}function aa(Ra,
eb,pc){return(eb=I.exec(eb.slice(pc,pc+4)))?(Ra.y=+eb[0],pc+eb[0].length):-1}function ma(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+2)))?(Ra.y=+eb[0]+(68<+eb[0]?1900:2E3),pc+eb[0].length):-1}function p(Ra,eb,pc){return(eb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(eb.slice(pc,pc+6)))?(Ra.Z=eb[1]?0:-(eb[2]+(eb[3]||"00")),pc+eb[0].length):-1}function L(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+1)))?(Ra.q=3*eb[0]-3,pc+eb[0].length):-1}function P(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+2)))?(Ra.m=eb[0]-1,pc+
eb[0].length):-1}function f(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+2)))?(Ra.d=+eb[0],pc+eb[0].length):-1}function v(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+3)))?(Ra.m=0,Ra.d=+eb[0],pc+eb[0].length):-1}function l(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+2)))?(Ra.H=+eb[0],pc+eb[0].length):-1}function C(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+2)))?(Ra.M=+eb[0],pc+eb[0].length):-1}function B(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+2)))?(Ra.S=+eb[0],pc+eb[0].length):-1}function z(Ra,eb,pc){return(eb=
I.exec(eb.slice(pc,pc+3)))?(Ra.L=+eb[0],pc+eb[0].length):-1}function D(Ra,eb,pc){return(eb=I.exec(eb.slice(pc,pc+6)))?(Ra.L=Math.floor(eb[0]/1E3),pc+eb[0].length):-1}function G(Ra,eb,pc){return(Ra=da.exec(eb.slice(pc,pc+1)))?pc+Ra[0].length:-1}function U(Ra,eb,pc){return(eb=I.exec(eb.slice(pc)))?(Ra.Q=+eb[0],pc+eb[0].length):-1}function Aa(Ra,eb,pc){return(eb=I.exec(eb.slice(pc)))?(Ra.s=+eb[0],pc+eb[0].length):-1}function X(Ra,eb){return ob(Ra.getDate(),eb,2)}function u(Ra,eb){return ob(Ra.getHours(),
eb,2)}function K(Ra,eb){return ob(Ra.getHours()%12||12,eb,2)}function ua(Ra,eb){return ob(1+Nc.count(ec(Ra),Ra),eb,3)}function Ja(Ra,eb){return ob(Ra.getMilliseconds(),eb,3)}function Wa(Ra,eb){return Ja(Ra,eb)+"000"}function ab(Ra,eb){return ob(Ra.getMonth()+1,eb,2)}function W(Ra,eb){return ob(Ra.getMinutes(),eb,2)}function Ca(Ra,eb){return ob(Ra.getSeconds(),eb,2)}function Za(Ra){Ra=Ra.getDay();return 0===Ra?7:Ra}function Ib(Ra,eb){return ob(Fd.count(ec(Ra)-1,Ra),eb,2)}function xc(Ra){var eb=Ra.getDay();
return 4<=eb||0===eb?Be(Ra):Be.ceil(Ra)}function uc(Ra,eb){Ra=xc(Ra);return ob(Be.count(ec(Ra),Ra)+(4===ec(Ra).getDay()),eb,2)}function wc(Ra){return Ra.getDay()}function bd(Ra,eb){return ob($d.count(ec(Ra)-1,Ra),eb,2)}function Wb(Ra,eb){return ob(Ra.getFullYear()%100,eb,2)}function Rc(Ra,eb){Ra=xc(Ra);return ob(Ra.getFullYear()%100,eb,2)}function Pd(Ra,eb){return ob(Ra.getFullYear()%1E4,eb,4)}function Ka(Ra,eb){var pc=Ra.getDay();Ra=4<=pc||0===pc?Be(Ra):Be.ceil(Ra);return ob(Ra.getFullYear()%1E4,
eb,4)}function Ub(Ra){Ra=Ra.getTimezoneOffset();return(0<Ra?"-":(Ra*=-1,"+"))+ob(Ra/60|0,"0",2)+ob(Ra%60,"0",2)}function rb(Ra,eb){return ob(Ra.getUTCDate(),eb,2)}function Sb(Ra,eb){return ob(Ra.getUTCHours(),eb,2)}function fc(Ra,eb){return ob(Ra.getUTCHours()%12||12,eb,2)}function bc(Ra,eb){return ob(1+rd.count(Bc(Ra),Ra),eb,3)}function Hc(Ra,eb){return ob(Ra.getUTCMilliseconds(),eb,3)}function zc(Ra,eb){return Hc(Ra,eb)+"000"}function Yc(Ra,eb){return ob(Ra.getUTCMonth()+1,eb,2)}function Md(Ra,
eb){return ob(Ra.getUTCMinutes(),eb,2)}function td(Ra,eb){return ob(Ra.getUTCSeconds(),eb,2)}function Ga(Ra){Ra=Ra.getUTCDay();return 0===Ra?7:Ra}function gb(Ra,eb){return ob(af.count(Bc(Ra)-1,Ra),eb,2)}function vb(Ra){var eb=Ra.getUTCDay();return 4<=eb||0===eb?ta(Ra):ta.ceil(Ra)}function ra(Ra,eb){Ra=vb(Ra);return ob(ta.count(Bc(Ra),Ra)+(4===Bc(Ra).getUTCDay()),eb,2)}function F(Ra){return Ra.getUTCDay()}function ya(Ra,eb){return ob(re.count(Bc(Ra)-1,Ra),eb,2)}function La(Ra,eb){return ob(Ra.getUTCFullYear()%
100,eb,2)}function $a(Ra,eb){Ra=vb(Ra);return ob(Ra.getUTCFullYear()%100,eb,2)}function jb(Ra,eb){return ob(Ra.getUTCFullYear()%1E4,eb,4)}function Fb(Ra,eb){var pc=Ra.getUTCDay();Ra=4<=pc||0===pc?ta(Ra):ta.ceil(Ra);return ob(Ra.getUTCFullYear()%1E4,eb,4)}function nc(){return"+0000"}function dc(){return"%"}function ic(Ra){return+Ra}function Uc(Ra){return Math.floor(+Ra/1E3)}function cd(Ra,eb,pc){pc=pc||{};qa.isObject(pc)||qa.error(`Invalid time multi-format specifier: ${pc}`);const vd=eb(g.SECONDS),
Jc=eb(g.MINUTES),Vc=eb(g.HOURS),Qc=eb(g.DATE),sd=eb(g.WEEK),id=eb(g.MONTH),Nd=eb(g.QUARTER),Bd=eb(g.YEAR),be=Ra(pc[g.MILLISECONDS]||".%L"),we=Ra(pc[g.SECONDS]||":%S"),Ke=Ra(pc[g.MINUTES]||"%I:%M"),Xe=Ra(pc[g.HOURS]||"%I %p"),bf=Ra(pc[g.DATE]||pc[g.DAY]||"%a %d"),md=Ra(pc[g.WEEK]||"%b %d"),Dc=Ra(pc[g.MONTH]||"%B"),jd=Ra(pc[g.QUARTER]||"%B"),Ec=Ra(pc[g.YEAR]||"%Y");return Id=>(vd(Id)<Id?be:Jc(Id)<Id?we:Vc(Id)<Id?Ke:Qc(Id)<Id?Xe:id(Id)<Id?sd(Id)<Id?bf:md:Bd(Id)<Id?Nd(Id)<Id?Dc:jd:Ec)(Id)}function dd(Ra){const eb=
hb(Ra.format),pc=hb(Ra.utcFormat);return{timeFormat:vd=>qa.isString(vd)?eb(vd):cd(eb,g.timeInterval,vd),utcFormat:vd=>qa.isString(vd)?pc(vd):cd(pc,g.utcInterval,vd),timeParse:hb(Ra.parse),utcParse:hb(Ra.utcParse)}}function Qd(){return ee=dd({format:Pc,parse:Cc,utcFormat:Sc,utcParse:fd})}function Td(Ra){return dd(xb(Ra))}function Ed(Ra){return arguments.length?ee=Td(Ra):ee}function Zd(Ra,eb){var pc=arguments.length;pc&&2!==pc&&qa.error("defaultLocale expects either zero or two arguments.");if(pc){pc=
pb(Ra);var vd=Ed(eb);pc=qa.extend({},pc,vd)}else pc=pb(),vd=Ed(),pc=qa.extend({},pc,vd);return pc}const de=Math.sqrt(50),Ud=Math.sqrt(10),Te=Math.sqrt(2);var Xd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;gc.prototype=rc.prototype;rc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var M,ka={"%":(Ra,eb)=>(100*Ra).toFixed(eb),b:Ra=>Math.round(Ra).toString(2),c:Ra=>Ra+"",d:function(Ra){return 1E21<=Math.abs(Ra=Math.round(Ra))?Ra.toLocaleString("en").replace(/,/g,""):Ra.toString(10)},e:(Ra,eb)=>Ra.toExponential(eb),f:(Ra,eb)=>Ra.toFixed(eb),g:(Ra,eb)=>Ra.toPrecision(eb),o:Ra=>Math.round(Ra).toString(8),p:(Ra,eb)=>Va(100*Ra,eb),r:Va,s:function(Ra,eb){var pc=oc(Ra,eb);if(!pc)return Ra+"";var vd=pc[0];pc=pc[1];pc=pc-(M=3*Math.max(-8,Math.min(8,Math.floor(pc/3))))+
1;var Jc=vd.length;return pc===Jc?vd:pc>Jc?vd+Array(pc-Jc+1).join("0"):0<pc?vd.slice(0,pc)+"."+vd.slice(pc):"0."+Array(1-pc).join("0")+oc(Ra,Math.max(0,eb+pc-1))[0]},X:Ra=>Math.round(Ra).toString(16).toUpperCase(),x:Ra=>Math.round(Ra).toString(16)},za=Array.prototype.map,fb="y z a f p n  m  k M G T P E Z Y".split(" "),Hb,Xb,Ac;(function(Ra){Hb=Kb(Ra);Xb=Hb.format;Ac=Hb.formatPrefix;return Hb})({thousands:",",grouping:[3],currency:["$",""]});let lc;Pb();const Fc=new Date,hd=new Date,Nc=Oa(Ra=>Ra.setHours(0,
0,0,0),(Ra,eb)=>Ra.setDate(Ra.getDate()+eb),(Ra,eb)=>(eb-Ra-6E4*(eb.getTimezoneOffset()-Ra.getTimezoneOffset()))/864E5,Ra=>Ra.getDate()-1);Nc.range;const rd=Oa(Ra=>{Ra.setUTCHours(0,0,0,0)},(Ra,eb)=>{Ra.setUTCDate(Ra.getUTCDate()+eb)},(Ra,eb)=>(eb-Ra)/864E5,Ra=>Ra.getUTCDate()-1);rd.range;const Gd=Oa(Ra=>{Ra.setUTCHours(0,0,0,0)},(Ra,eb)=>{Ra.setUTCDate(Ra.getUTCDate()+eb)},(Ra,eb)=>(eb-Ra)/864E5,Ra=>Math.floor(Ra/864E5));Gd.range;const Fd=Da(0),$d=Da(1),Wd=Da(2),ae=Da(3),Be=Da(4),ff=Da(5),df=Da(6);
Fd.range;$d.range;Wd.range;ae.range;Be.range;ff.range;df.range;const af=Pa(0),re=Pa(1),pf=Pa(2),T=Pa(3),ta=Pa(4),db=Pa(5),zb=Pa(6);af.range;re.range;pf.range;T.range;ta.range;db.range;zb.range;const ec=Oa(Ra=>{Ra.setMonth(0,1);Ra.setHours(0,0,0,0)},(Ra,eb)=>{Ra.setFullYear(Ra.getFullYear()+eb)},(Ra,eb)=>eb.getFullYear()-Ra.getFullYear(),Ra=>Ra.getFullYear());ec.every=Ra=>isFinite(Ra=Math.floor(Ra))&&0<Ra?Oa(eb=>{eb.setFullYear(Math.floor(eb.getFullYear()/Ra)*Ra);eb.setMonth(0,1);eb.setHours(0,0,0,
0)},(eb,pc)=>{eb.setFullYear(eb.getFullYear()+pc*Ra)}):null;ec.range;const Bc=Oa(Ra=>{Ra.setUTCMonth(0,1);Ra.setUTCHours(0,0,0,0)},(Ra,eb)=>{Ra.setUTCFullYear(Ra.getUTCFullYear()+eb)},(Ra,eb)=>eb.getUTCFullYear()-Ra.getUTCFullYear(),Ra=>Ra.getUTCFullYear());Bc.every=Ra=>isFinite(Ra=Math.floor(Ra))&&0<Ra?Oa(eb=>{eb.setUTCFullYear(Math.floor(eb.getUTCFullYear()/Ra)*Ra);eb.setUTCMonth(0,1);eb.setUTCHours(0,0,0,0)},(eb,pc)=>{eb.setUTCFullYear(eb.getUTCFullYear()+pc*Ra)}):null;Bc.range;var Yb={"-":"",
_:" ",0:"0"},I=/^\s*\d+/,da=/^%/,Sa=/[\\^$*+?|[\]().{}]/g,ac,Pc,Cc,Sc,fd;(function(Ra){ac=xb(Ra);Pc=ac.format;Cc=ac.parse;Sc=ac.utcFormat;fd=ac.utcParse;return ac})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
let ee;Qd();r.defaultLocale=Zd;r.locale=function(Ra,eb){Ra=Ra?Ua(Ra):pb();eb=eb?Td(eb):Ed();return qa.extend({},Ra,eb)};r.numberFormatDefaultLocale=pb;r.numberFormatLocale=Ua;r.resetDefaultLocale=function(){Pb();Qd();return Zd()};r.resetNumberFormatDefaultLocale=Pb;r.resetTimeFormatDefaultLocale=Qd;r.timeFormatDefaultLocale=Ed;r.timeFormatLocale=Td})};
shadow$provide[25]=function(cc,Db,Xc,mb){function r(Gb){var $b=Gb.length;if(0<$b%4)throw Error("Invalid string. Length must be a multiple of 4");Gb=Gb.indexOf("\x3d");-1===Gb&&(Gb=$b);return[Gb,Gb===$b?0:4-Gb%4]}mb.byteLength=function(Gb){Gb=r(Gb);var $b=Gb[1];return 3*(Gb[0]+$b)/4-$b};mb.toByteArray=function(Gb){var $b=r(Gb);var oc=$b[0];$b=$b[1];var kc=new hb(3*(oc+$b)/4-$b),yc=0,Ab=0<$b?oc-4:oc,gc;for(gc=0;gc<Ab;gc+=4)oc=qa[Gb.charCodeAt(gc)]<<18|qa[Gb.charCodeAt(gc+1)]<<12|qa[Gb.charCodeAt(gc+
2)]<<6|qa[Gb.charCodeAt(gc+3)],kc[yc++]=oc>>16&255,kc[yc++]=oc>>8&255,kc[yc++]=oc&255;2===$b&&(oc=qa[Gb.charCodeAt(gc)]<<2|qa[Gb.charCodeAt(gc+1)]>>4,kc[yc++]=oc&255);1===$b&&(oc=qa[Gb.charCodeAt(gc)]<<10|qa[Gb.charCodeAt(gc+1)]<<4|qa[Gb.charCodeAt(gc+2)]>>2,kc[yc++]=oc>>8&255,kc[yc++]=oc&255);return kc};mb.fromByteArray=function(Gb){for(var $b=Gb.length,oc=$b%3,kc=[],yc=0,Ab=$b-oc;yc<Ab;yc+=16383){for(var gc=kc,rc=gc.push,Va,qb=Gb,Kb=yc+16383>Ab?Ab:yc+16383,Ob=[],Bb=yc;Bb<Kb;Bb+=3)Va=(qb[Bb]<<16&
16711680)+(qb[Bb+1]<<8&65280)+(qb[Bb+2]&255),Ob.push(g[Va>>18&63]+g[Va>>12&63]+g[Va>>6&63]+g[Va&63]);Va=Ob.join("");rc.call(gc,Va)}1===oc?(Gb=Gb[$b-1],kc.push(g[Gb>>2]+g[Gb<<4&63]+"\x3d\x3d")):2===oc&&(Gb=(Gb[$b-2]<<8)+Gb[$b-1],kc.push(g[Gb>>10]+g[Gb>>4&63]+g[Gb<<2&63]+"\x3d"));return kc.join("")};var g=[],qa=[],hb="undefined"!==typeof Uint8Array?Uint8Array:Array;for(cc=0;64>cc;++cc)g[cc]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[cc],qa["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(cc)]=
cc;qa[45]=62;qa[95]=63};
shadow$provide[26]=function(cc,Db,Xc,mb){mb.read=function(r,g,qa,hb,Gb){var $b=8*Gb-hb-1;var oc=(1<<$b)-1,kc=oc>>1,yc=-7;Gb=qa?Gb-1:0;var Ab=qa?-1:1,gc=r[g+Gb];Gb+=Ab;qa=gc&(1<<-yc)-1;gc>>=-yc;for(yc+=$b;0<yc;qa=256*qa+r[g+Gb],Gb+=Ab,yc-=8);$b=qa&(1<<-yc)-1;qa>>=-yc;for(yc+=hb;0<yc;$b=256*$b+r[g+Gb],Gb+=Ab,yc-=8);if(0===qa)qa=1-kc;else{if(qa===oc)return $b?NaN:Infinity*(gc?-1:1);$b+=Math.pow(2,hb);qa-=kc}return(gc?-1:1)*$b*Math.pow(2,qa-hb)};mb.write=function(r,g,qa,hb,Gb,$b){var oc,kc=8*$b-Gb-1,
yc=(1<<kc)-1,Ab=yc>>1,gc=23===Gb?Math.pow(2,-24)-Math.pow(2,-77):0;$b=hb?0:$b-1;var rc=hb?1:-1,Va=0>g||0===g&&0>1/g?1:0;g=Math.abs(g);isNaN(g)||Infinity===g?(g=isNaN(g)?1:0,hb=yc):(hb=Math.floor(Math.log(g)/Math.LN2),1>g*(oc=Math.pow(2,-hb))&&(hb--,oc*=2),g=1<=hb+Ab?g+gc/oc:g+gc*Math.pow(2,1-Ab),2<=g*oc&&(hb++,oc/=2),hb+Ab>=yc?(g=0,hb=yc):1<=hb+Ab?(g=(g*oc-1)*Math.pow(2,Gb),hb+=Ab):(g=g*Math.pow(2,Ab-1)*Math.pow(2,Gb),hb=0));for(;8<=Gb;r[qa+$b]=g&255,$b+=rc,g/=256,Gb-=8);hb=hb<<Gb|g;for(kc+=Gb;0<
kc;r[qa+$b]=hb&255,$b+=rc,hb/=256,kc-=8);r[qa+$b-rc]|=128*Va}};
shadow$provide[27]=function(cc,Db,Xc,mb){function r(p){if(2147483647<p)throw new RangeError('The value "'+p+'" is invalid for option "size"');p=new Uint8Array(p);Object.setPrototypeOf(p,g.prototype);return p}function g(p,L,P){if("number"===typeof p){if("string"===typeof L)throw new TypeError('The "string" argument must be of type string. Received type number');return Gb(p)}return qa(p,L,P)}function qa(p,L,P){if("string"===typeof p){var f=L;if("string"!==typeof f||""===f)f="utf8";if(!g.isEncoding(f))throw new TypeError("Unknown encoding: "+
f);L=Ab(p,f)|0;P=r(L);p=P.write(p,f);p!==L&&(P=P.slice(0,p));return P}if(ArrayBuffer.isView(p))return nb(p,Uint8Array)?(p=new Uint8Array(p),p=oc(p.buffer,p.byteOffset,p.byteLength)):p=$b(p),p;if(null==p)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(nb(p,ArrayBuffer)||p&&nb(p.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(nb(p,SharedArrayBuffer)||p&&nb(p.buffer,SharedArrayBuffer)))return oc(p,
L,P);if("number"===typeof p)throw new TypeError('The "value" argument must not be of type number. Received type number');f=p.valueOf&&p.valueOf();if(null!=f&&f!==p)return g.from(f,L,P);if(f=kc(p))return f;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof p[Symbol.toPrimitive])return g.from(p[Symbol.toPrimitive]("string"),L,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);}
function hb(p){if("number"!==typeof p)throw new TypeError('"size" argument must be of type number');if(0>p)throw new RangeError('The value "'+p+'" is invalid for option "size"');}function Gb(p){hb(p);return r(0>p?0:yc(p)|0)}function $b(p){const L=0>p.length?0:yc(p.length)|0,P=r(L);for(let f=0;f<L;f+=1)P[f]=p[f]&255;return P}function oc(p,L,P){if(0>L||p.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<L+(P||0))throw new RangeError('"length" is outside of buffer bounds');
p=void 0===L&&void 0===P?new Uint8Array(p):void 0===P?new Uint8Array(p,L):new Uint8Array(p,L,P);Object.setPrototypeOf(p,g.prototype);return p}function kc(p){if(g.isBuffer(p)){var L=yc(p.length)|0;const P=r(L);if(0===P.length)return P;p.copy(P,0,0,L);return P}if(void 0!==p.length)return(L="number"!==typeof p.length)||(L=p.length,L=L!==L),L?r(0):$b(p);if("Buffer"===p.type&&Array.isArray(p.data))return $b(p.data)}function yc(p){if(2147483647<=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return p|0}function Ab(p,L){if(g.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||nb(p,ArrayBuffer))return p.byteLength;if("string"!==typeof p)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const P=p.length,f=2<arguments.length&&!0===arguments[2];if(!f&&0===P)return 0;let v=!1;for(;;)switch(L){case "ascii":case "latin1":case "binary":return P;case "utf8":case "utf-8":return ob(p).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*P;case "hex":return P>>>1;case "base64":return Nb(p).length;default:if(v)return f?-1:ob(p).length;L=(""+L).toLowerCase();v=!0}}function gc(p,L,P){let f=!1;if(void 0===L||0>L)L=0;if(L>this.length)return"";if(void 0===P||P>this.length)P=this.length;if(0>=P)return"";P>>>=0;L>>>=0;if(P<=L)return"";for(p||(p="utf8");;)switch(p){case "hex":p=L;L=this.length;if(!p||0>p)p=0;if(!P||0>P||P>L)P=L;for(L="";p<P;++p)L+=ma[this[p]];return L;case "utf8":case "utf-8":return Kb(this,
L,P);case "ascii":p=L;L="";for(P=Math.min(this.length,P);p<P;++p)L+=String.fromCharCode(this[p]&127);return L;case "latin1":case "binary":p=L;L="";for(P=Math.min(this.length,P);p<P;++p)L+=String.fromCharCode(this[p]);return L;case "base64":return p=L,P=0===p&&P===this.length?Ha.fromByteArray(this):Ha.fromByteArray(this.slice(p,P)),P;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":P=this.slice(L,P);p="";for(L=0;L<P.length-1;L+=2)p+=String.fromCharCode(P[L]+256*P[L+1]);return p;default:if(f)throw new TypeError("Unknown encoding: "+
p);p=(p+"").toLowerCase();f=!0}}function rc(p,L,P){const f=p[L];p[L]=p[P];p[P]=f}function Va(p,L,P,f,v){if(0===p.length)return-1;"string"===typeof P?(f=P,P=0):2147483647<P?P=2147483647:-2147483648>P&&(P=-2147483648);P=+P;P!==P&&(P=v?0:p.length-1);0>P&&(P=p.length+P);if(P>=p.length){if(v)return-1;P=p.length-1}else if(0>P)if(v)P=0;else return-1;"string"===typeof L&&(L=g.from(L,f));if(g.isBuffer(L))return 0===L.length?-1:qb(p,L,P,f,v);if("number"===typeof L)return L&=255,"function"===typeof Uint8Array.prototype.indexOf?
v?Uint8Array.prototype.indexOf.call(p,L,P):Uint8Array.prototype.lastIndexOf.call(p,L,P):qb(p,[L],P,f,v);throw new TypeError("val must be string, number or Buffer");}function qb(p,L,P,f,v){function l(D,G){return 1===C?D[G]:D.readUInt16BE(G*C)}let C=1;var B=p.length;let z=L.length;if(void 0!==f&&(f=String(f).toLowerCase(),"ucs2"===f||"ucs-2"===f||"utf16le"===f||"utf-16le"===f)){if(2>p.length||2>L.length)return-1;C=2;B/=2;z/=2;P/=2}if(v)for(f=-1;P<B;P++)if(l(p,P)===l(L,-1===f?0:P-f)){if(-1===f&&(f=P),
P-f+1===z)return f*C}else-1!==f&&(P-=P-f),f=-1;else for(P+z>B&&(P=B-z);0<=P;P--){B=!0;for(f=0;f<z;f++)if(l(p,P+f)!==l(L,f)){B=!1;break}if(B)return P}return-1}function Kb(p,L,P){P=Math.min(p.length,P);for(var f=[];L<P;){var v=p[L];let l=null,C=239<v?4:223<v?3:191<v?2:1;if(L+C<=P){let B,z,D;switch(C){case 1:128>v&&(l=v);break;case 2:B=p[L+1];128===(B&192)&&(v=(v&31)<<6|B&63,127<v&&(l=v));break;case 3:B=p[L+1];z=p[L+2];128===(B&192)&&128===(z&192)&&(v=(v&15)<<12|(B&63)<<6|z&63,2047<v&&(55296>v||57343<
v)&&(l=v));break;case 4:B=p[L+1],z=p[L+2],D=p[L+3],128===(B&192)&&128===(z&192)&&128===(D&192)&&(v=(v&15)<<18|(B&63)<<12|(z&63)<<6|D&63,65535<v&&1114112>v&&(l=v))}}null===l?(l=65533,C=1):65535<l&&(l-=65536,f.push(l>>>10&1023|55296),l=56320|l&1023);f.push(l);L+=C}L=f.length;if(4096>=L)f=String.fromCharCode.apply(String,f);else{p="";for(P=0;P<L;)p+=String.fromCharCode.apply(String,f.slice(P,P+=4096));f=p}return f}function Ob(p,L,P){if(0!==p%1||0>p)throw new RangeError("offset is not uint");if(p+L>P)throw new RangeError("Trying to access beyond buffer length");
}function Bb(p,L,P,f,v,l){if(!g.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>v||L<l)throw new RangeError('"value" argument is out of bounds');if(P+f>p.length)throw new RangeError("Index out of range");}function Pb(p,L,P,f,v){lb(L,f,v,p,P,7);f=Number(L&BigInt(4294967295));p[P++]=f;f>>=8;p[P++]=f;f>>=8;p[P++]=f;p[P++]=f>>8;L=Number(L>>BigInt(32)&BigInt(4294967295));p[P++]=L;L>>=8;p[P++]=L;L>>=8;p[P++]=L;p[P++]=L>>8;return P}function Ua(p,L,P,f,v){lb(L,f,v,p,P,
7);f=Number(L&BigInt(4294967295));p[P+7]=f;f>>=8;p[P+6]=f;f>>=8;p[P+5]=f;p[P+4]=f>>8;L=Number(L>>BigInt(32)&BigInt(4294967295));p[P+3]=L;L>>=8;p[P+2]=L;L>>=8;p[P+1]=L;p[P]=L>>8;return P+8}function pb(p,L,P,f,v,l){if(P+f>p.length)throw new RangeError("Index out of range");if(0>P)throw new RangeError("Index out of range");}function Oa(p,L,P,f,v){L=+L;P>>>=0;v||pb(p,L,P,4,3.4028234663852886E38,-3.4028234663852886E38);Fa.write(p,L,P,f,23,4);return P+4}function Da(p,L,P,f,v){L=+L;P>>>=0;v||pb(p,L,P,8,
1.7976931348623157E308,-1.7976931348623157E308);Fa.write(p,L,P,f,52,8);return P+8}function Pa(p,L,P){cb[p]=class extends P{constructor(){super();Object.defineProperty(this,"message",{value:L.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${p}]`;this.stack;delete this.name}get code(){return p}set code(f){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:f,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}function kb(p){let L=
"",P=p.length;const f="-"===p[0]?1:0;for(;P>=f+4;P-=3)L=`_${p.slice(P-3,P)}${L}`;return`${p.slice(0,P)}${L}`}function lb(p,L,P,f,v,l){if(p>P||p<L)throw f="bigint"===typeof L?"n":"",new cb.ERR_OUT_OF_RANGE("value",3<l?0===L||L===BigInt(0)?`>= 0${f} and < 2${f} ** ${8*(l+1)}${f}`:`>= -(2${f} ** ${8*(l+1)-1}${f}) and < 2 ** `+`${8*(l+1)-1}${f}`:`>= ${L}${f} and <= ${P}${f}`,p);Na(v,"offset");void 0!==f[v]&&void 0!==f[v+l]||xb(v,f.length-(l+1))}function Na(p,L){if("number"!==typeof p)throw new cb.ERR_INVALID_ARG_TYPE(L,
"number",p);}function xb(p,L,P){if(Math.floor(p)!==p)throw Na(p,P),new cb.ERR_OUT_OF_RANGE(P||"offset","an integer",p);if(0>L)throw new cb.ERR_BUFFER_OUT_OF_BOUNDS;throw new cb.ERR_OUT_OF_RANGE(P||"offset",`>= ${P?1:0} and <= ${L}`,p);}function ob(p,L){L=L||Infinity;let P;const f=p.length;let v=null;const l=[];for(let C=0;C<f;++C){P=p.charCodeAt(C);if(55295<P&&57344>P){if(!v){if(56319<P){-1<(L-=3)&&l.push(239,191,189);continue}else if(C+1===f){-1<(L-=3)&&l.push(239,191,189);continue}v=P;continue}if(56320>
P){-1<(L-=3)&&l.push(239,191,189);v=P;continue}P=(v-55296<<10|P-56320)+65536}else v&&-1<(L-=3)&&l.push(239,191,189);v=null;if(128>P){if(0>--L)break;l.push(P)}else if(2048>P){if(0>(L-=2))break;l.push(P>>6|192,P&63|128)}else if(65536>P){if(0>(L-=3))break;l.push(P>>12|224,P>>6&63|128,P&63|128)}else if(1114112>P){if(0>(L-=4))break;l.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw Error("Invalid code point");}return l}function Nb(p){var L=Ha,P=L.toByteArray;p=p.split("\x3d")[0];p=p.trim().replace(aa,
"");if(2>p.length)p="";else for(;0!==p.length%4;)p+="\x3d";return P.call(L,p)}function Zb(p,L,P,f){let v;for(v=0;v<f&&!(v+P>=L.length||v>=p.length);++v)L[v+P]=p[v];return v}function nb(p,L){return p instanceof L||null!=p&&null!=p.constructor&&null!=p.constructor.name&&p.constructor.name===L.name}function la(p){return"undefined"===typeof BigInt?Y:p}function Y(){throw Error("BigInt not supported");}const Ha=Db(25),Fa=Db(26);cc="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;mb.Buffer=g;mb.SlowBuffer=function(p){+p!=p&&(p=0);return g.alloc(+p)};mb.INSPECT_MAX_BYTES=50;mb.kMaxLength=2147483647;g.TYPED_ARRAY_SUPPORT=function(){try{const p=new Uint8Array(1),L={foo:function(){return 42}};Object.setPrototypeOf(L,Uint8Array.prototype);Object.setPrototypeOf(p,L);return 42===p.foo()}catch(p){return!1}}();g.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}});Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});g.poolSize=8192;g.from=function(p,L,P){return qa(p,L,P)};Object.setPrototypeOf(g.prototype,Uint8Array.prototype);Object.setPrototypeOf(g,Uint8Array);g.alloc=function(p,L,P){hb(p);p=0>=p?r(p):void 0!==L?"string"===typeof P?r(p).fill(L,P):r(p).fill(L):r(p);return p};g.allocUnsafe=
function(p){return Gb(p)};g.allocUnsafeSlow=function(p){return Gb(p)};g.isBuffer=function(p){return null!=p&&!0===p._isBuffer&&p!==g.prototype};g.compare=function(p,L){nb(p,Uint8Array)&&(p=g.from(p,p.offset,p.byteLength));nb(L,Uint8Array)&&(L=g.from(L,L.offset,L.byteLength));if(!g.isBuffer(p)||!g.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===L)return 0;let P=p.length,f=L.length;for(let v=0,l=Math.min(P,f);v<l;++v)if(p[v]!==L[v]){P=
p[v];f=L[v];break}return P<f?-1:f<P?1:0};g.isEncoding=function(p){switch(String(p).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};g.concat=function(p,L){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(0===p.length)return g.alloc(0);let P;if(void 0===L)for(P=L=0;P<p.length;++P)L+=p[P].length;L=g.allocUnsafe(L);let f=
0;for(P=0;P<p.length;++P){let v=p[P];if(nb(v,Uint8Array))f+v.length>L.length?(g.isBuffer(v)||(v=g.from(v)),v.copy(L,f)):Uint8Array.prototype.set.call(L,v,f);else if(g.isBuffer(v))v.copy(L,f);else throw new TypeError('"list" argument must be an Array of Buffers');f+=v.length}return L};g.byteLength=Ab;g.prototype._isBuffer=!0;g.prototype.swap16=function(){const p=this.length;if(0!==p%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<p;L+=2)rc(this,L,L+1);return this};
g.prototype.swap32=function(){const p=this.length;if(0!==p%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<p;L+=4)rc(this,L,L+3),rc(this,L+1,L+2);return this};g.prototype.swap64=function(){const p=this.length;if(0!==p%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<p;L+=8)rc(this,L,L+7),rc(this,L+1,L+6),rc(this,L+2,L+5),rc(this,L+3,L+4);return this};g.prototype.toString=function(){const p=this.length;return 0===p?"":0===arguments.length?
Kb(this,0,p):gc.apply(this,arguments)};g.prototype.toLocaleString=g.prototype.toString;g.prototype.equals=function(p){if(!g.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:0===g.compare(this,p)};g.prototype.inspect=function(){let p;const L=mb.INSPECT_MAX_BYTES;p=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim();this.length>L&&(p+=" ... ");return"\x3cBuffer "+p+"\x3e"};cc&&(g.prototype[cc]=g.prototype.inspect);g.prototype.compare=function(p,L,P,f,v){nb(p,Uint8Array)&&
(p=g.from(p,p.offset,p.byteLength));if(!g.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);void 0===L&&(L=0);void 0===P&&(P=p?p.length:0);void 0===f&&(f=0);void 0===v&&(v=this.length);if(0>L||P>p.length||0>f||v>this.length)throw new RangeError("out of range index");if(f>=v&&L>=P)return 0;if(f>=v)return-1;if(L>=P)return 1;L>>>=0;P>>>=0;f>>>=0;v>>>=0;if(this===p)return 0;let l=v-f,C=P-L;const B=Math.min(l,C);f=this.slice(f,v);
p=p.slice(L,P);for(L=0;L<B;++L)if(f[L]!==p[L]){l=f[L];C=p[L];break}return l<C?-1:C<l?1:0};g.prototype.includes=function(p,L,P){return-1!==this.indexOf(p,L,P)};g.prototype.indexOf=function(p,L,P){return Va(this,p,L,P,!0)};g.prototype.lastIndexOf=function(p,L,P){return Va(this,p,L,P,!1)};g.prototype.write=function(p,L,P,f){if(void 0===L)f="utf8",P=this.length,L=0;else if(void 0===P&&"string"===typeof L)f=L,P=this.length,L=0;else if(isFinite(L))L>>>=0,isFinite(P)?(P>>>=0,void 0===f&&(f="utf8")):(f=P,
P=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var v=this.length-L;if(void 0===P||P>v)P=v;if(0<p.length&&(0>P||0>L)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");for(v=!1;;)switch(f){case "hex":a:{L=Number(L)||0;f=this.length-L;P?(P=Number(P),P>f&&(P=f)):P=f;f=p.length;P>f/2&&(P=f/2);for(f=0;f<P;++f){v=parseInt(p.substr(2*f,2),16);if(v!==v){p=f;break a}this[L+f]=v}p=f}return p;case "utf8":case "utf-8":return Zb(ob(p,
this.length-L),this,L,P);case "ascii":case "latin1":case "binary":f=[];for(v=0;v<p.length;++v)f.push(p.charCodeAt(v)&255);return Zb(f,this,L,P);case "base64":return Zb(Nb(p),this,L,P);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var l=void 0;f=this.length-L;const C=[];for(let B=0;B<p.length&&!(0>(f-=2));++B)l=p.charCodeAt(B),v=l>>8,l%=256,C.push(l),C.push(v);return Zb(C,this,L,P);default:if(v)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase();v=!0}};g.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};g.prototype.slice=function(p,L){const P=this.length;p=~~p;L=void 0===L?P:~~L;0>p?(p+=P,0>p&&(p=0)):p>P&&(p=P);0>L?(L+=P,0>L&&(L=0)):L>P&&(L=P);L<p&&(L=p);p=this.subarray(p,L);Object.setPrototypeOf(p,g.prototype);return p};g.prototype.readUintLE=g.prototype.readUIntLE=function(p,L,P){p>>>=0;L>>>=0;P||Ob(p,L,this.length);P=this[p];let f=1,v=0;for(;++v<L&&(f*=256);)P+=this[p+v]*f;return P};g.prototype.readUintBE=g.prototype.readUIntBE=function(p,L,
P){p>>>=0;L>>>=0;P||Ob(p,L,this.length);P=this[p+--L];let f=1;for(;0<L&&(f*=256);)P+=this[p+--L]*f;return P};g.prototype.readUint8=g.prototype.readUInt8=function(p,L){p>>>=0;L||Ob(p,1,this.length);return this[p]};g.prototype.readUint16LE=g.prototype.readUInt16LE=function(p,L){p>>>=0;L||Ob(p,2,this.length);return this[p]|this[p+1]<<8};g.prototype.readUint16BE=g.prototype.readUInt16BE=function(p,L){p>>>=0;L||Ob(p,2,this.length);return this[p]<<8|this[p+1]};g.prototype.readUint32LE=g.prototype.readUInt32LE=
function(p,L){p>>>=0;L||Ob(p,4,this.length);return(this[p]|this[p+1]<<8|this[p+2]<<16)+16777216*this[p+3]};g.prototype.readUint32BE=g.prototype.readUInt32BE=function(p,L){p>>>=0;L||Ob(p,4,this.length);return 16777216*this[p]+(this[p+1]<<16|this[p+2]<<8|this[p+3])};g.prototype.readBigUInt64LE=la(function(p){p>>>=0;Na(p,"offset");var L=this[p];const P=this[p+7];void 0!==L&&void 0!==P||xb(p,this.length-8);L=L+this[++p]*Math.pow(2,8)+this[++p]*Math.pow(2,16)+this[++p]*Math.pow(2,24);p=this[++p]+this[++p]*
Math.pow(2,8)+this[++p]*Math.pow(2,16)+P*Math.pow(2,24);return BigInt(L)+(BigInt(p)<<BigInt(32))});g.prototype.readBigUInt64BE=la(function(p){p>>>=0;Na(p,"offset");var L=this[p];const P=this[p+7];void 0!==L&&void 0!==P||xb(p,this.length-8);L=L*Math.pow(2,24)+this[++p]*Math.pow(2,16)+this[++p]*Math.pow(2,8)+this[++p];p=this[++p]*Math.pow(2,24)+this[++p]*Math.pow(2,16)+this[++p]*Math.pow(2,8)+P;return(BigInt(L)<<BigInt(32))+BigInt(p)});g.prototype.readIntLE=function(p,L,P){p>>>=0;L>>>=0;P||Ob(p,L,this.length);
P=this[p];let f=1,v=0;for(;++v<L&&(f*=256);)P+=this[p+v]*f;P>=128*f&&(P-=Math.pow(2,8*L));return P};g.prototype.readIntBE=function(p,L,P){p>>>=0;L>>>=0;P||Ob(p,L,this.length);P=L;let f=1,v=this[p+--P];for(;0<P&&(f*=256);)v+=this[p+--P]*f;v>=128*f&&(v-=Math.pow(2,8*L));return v};g.prototype.readInt8=function(p,L){p>>>=0;L||Ob(p,1,this.length);return this[p]&128?-1*(255-this[p]+1):this[p]};g.prototype.readInt16LE=function(p,L){p>>>=0;L||Ob(p,2,this.length);p=this[p]|this[p+1]<<8;return p&32768?p|4294901760:
p};g.prototype.readInt16BE=function(p,L){p>>>=0;L||Ob(p,2,this.length);p=this[p+1]|this[p]<<8;return p&32768?p|4294901760:p};g.prototype.readInt32LE=function(p,L){p>>>=0;L||Ob(p,4,this.length);return this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24};g.prototype.readInt32BE=function(p,L){p>>>=0;L||Ob(p,4,this.length);return this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]};g.prototype.readBigInt64LE=la(function(p){p>>>=0;Na(p,"offset");const L=this[p],P=this[p+7];void 0!==L&&void 0!==P||xb(p,this.length-
8);return(BigInt(this[p+4]+this[p+5]*Math.pow(2,8)+this[p+6]*Math.pow(2,16)+(P<<24))<<BigInt(32))+BigInt(L+this[++p]*Math.pow(2,8)+this[++p]*Math.pow(2,16)+this[++p]*Math.pow(2,24))});g.prototype.readBigInt64BE=la(function(p){p>>>=0;Na(p,"offset");var L=this[p];const P=this[p+7];void 0!==L&&void 0!==P||xb(p,this.length-8);L=(L<<24)+this[++p]*Math.pow(2,16)+this[++p]*Math.pow(2,8)+this[++p];return(BigInt(L)<<BigInt(32))+BigInt(this[++p]*Math.pow(2,24)+this[++p]*Math.pow(2,16)+this[++p]*Math.pow(2,
8)+P)});g.prototype.readFloatLE=function(p,L){p>>>=0;L||Ob(p,4,this.length);return Fa.read(this,p,!0,23,4)};g.prototype.readFloatBE=function(p,L){p>>>=0;L||Ob(p,4,this.length);return Fa.read(this,p,!1,23,4)};g.prototype.readDoubleLE=function(p,L){p>>>=0;L||Ob(p,8,this.length);return Fa.read(this,p,!0,52,8)};g.prototype.readDoubleBE=function(p,L){p>>>=0;L||Ob(p,8,this.length);return Fa.read(this,p,!1,52,8)};g.prototype.writeUintLE=g.prototype.writeUIntLE=function(p,L,P,f){p=+p;L>>>=0;P>>>=0;f||Bb(this,
p,L,P,Math.pow(2,8*P)-1,0);f=1;let v=0;for(this[L]=p&255;++v<P&&(f*=256);)this[L+v]=p/f&255;return L+P};g.prototype.writeUintBE=g.prototype.writeUIntBE=function(p,L,P,f){p=+p;L>>>=0;P>>>=0;f||Bb(this,p,L,P,Math.pow(2,8*P)-1,0);f=P-1;let v=1;for(this[L+f]=p&255;0<=--f&&(v*=256);)this[L+f]=p/v&255;return L+P};g.prototype.writeUint8=g.prototype.writeUInt8=function(p,L,P){p=+p;L>>>=0;P||Bb(this,p,L,1,255,0);this[L]=p&255;return L+1};g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(p,L,P){p=
+p;L>>>=0;P||Bb(this,p,L,2,65535,0);this[L]=p&255;this[L+1]=p>>>8;return L+2};g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(p,L,P){p=+p;L>>>=0;P||Bb(this,p,L,2,65535,0);this[L]=p>>>8;this[L+1]=p&255;return L+2};g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(p,L,P){p=+p;L>>>=0;P||Bb(this,p,L,4,4294967295,0);this[L+3]=p>>>24;this[L+2]=p>>>16;this[L+1]=p>>>8;this[L]=p&255;return L+4};g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(p,L,P){p=+p;L>>>=0;P||Bb(this,
p,L,4,4294967295,0);this[L]=p>>>24;this[L+1]=p>>>16;this[L+2]=p>>>8;this[L+3]=p&255;return L+4};g.prototype.writeBigUInt64LE=la(function(p,L=0){return Pb(this,p,L,BigInt(0),BigInt("0xffffffffffffffff"))});g.prototype.writeBigUInt64BE=la(function(p,L=0){return Ua(this,p,L,BigInt(0),BigInt("0xffffffffffffffff"))});g.prototype.writeIntLE=function(p,L,P,f){p=+p;L>>>=0;f||(f=Math.pow(2,8*P-1),Bb(this,p,L,P,f-1,-f));f=0;let v=1,l=0;for(this[L]=p&255;++f<P&&(v*=256);)0>p&&0===l&&0!==this[L+f-1]&&(l=1),this[L+
f]=(p/v>>0)-l&255;return L+P};g.prototype.writeIntBE=function(p,L,P,f){p=+p;L>>>=0;f||(f=Math.pow(2,8*P-1),Bb(this,p,L,P,f-1,-f));f=P-1;let v=1,l=0;for(this[L+f]=p&255;0<=--f&&(v*=256);)0>p&&0===l&&0!==this[L+f+1]&&(l=1),this[L+f]=(p/v>>0)-l&255;return L+P};g.prototype.writeInt8=function(p,L,P){p=+p;L>>>=0;P||Bb(this,p,L,1,127,-128);0>p&&(p=255+p+1);this[L]=p&255;return L+1};g.prototype.writeInt16LE=function(p,L,P){p=+p;L>>>=0;P||Bb(this,p,L,2,32767,-32768);this[L]=p&255;this[L+1]=p>>>8;return L+
2};g.prototype.writeInt16BE=function(p,L,P){p=+p;L>>>=0;P||Bb(this,p,L,2,32767,-32768);this[L]=p>>>8;this[L+1]=p&255;return L+2};g.prototype.writeInt32LE=function(p,L,P){p=+p;L>>>=0;P||Bb(this,p,L,4,2147483647,-2147483648);this[L]=p&255;this[L+1]=p>>>8;this[L+2]=p>>>16;this[L+3]=p>>>24;return L+4};g.prototype.writeInt32BE=function(p,L,P){p=+p;L>>>=0;P||Bb(this,p,L,4,2147483647,-2147483648);0>p&&(p=4294967295+p+1);this[L]=p>>>24;this[L+1]=p>>>16;this[L+2]=p>>>8;this[L+3]=p&255;return L+4};g.prototype.writeBigInt64LE=
la(function(p,L=0){return Pb(this,p,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});g.prototype.writeBigInt64BE=la(function(p,L=0){return Ua(this,p,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});g.prototype.writeFloatLE=function(p,L,P){return Oa(this,p,L,!0,P)};g.prototype.writeFloatBE=function(p,L,P){return Oa(this,p,L,!1,P)};g.prototype.writeDoubleLE=function(p,L,P){return Da(this,p,L,!0,P)};g.prototype.writeDoubleBE=function(p,L,P){return Da(this,p,L,!1,P)};g.prototype.copy=
function(p,L,P,f){if(!g.isBuffer(p))throw new TypeError("argument should be a Buffer");P||(P=0);f||0===f||(f=this.length);L>=p.length&&(L=p.length);L||(L=0);0<f&&f<P&&(f=P);if(f===P||0===p.length||0===this.length)return 0;if(0>L)throw new RangeError("targetStart out of bounds");if(0>P||P>=this.length)throw new RangeError("Index out of range");if(0>f)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length);p.length-L<f-P&&(f=p.length-L+P);const v=f-P;this===p&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(L,P,f):Uint8Array.prototype.set.call(p,this.subarray(P,f),L);return v};g.prototype.fill=function(p,L,P,f){if("string"===typeof p){"string"===typeof L?(f=L,L=0,P=this.length):"string"===typeof P&&(f=P,P=this.length);if(void 0!==f&&"string"!==typeof f)throw new TypeError("encoding must be a string");if("string"===typeof f&&!g.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(1===p.length){var v=p.charCodeAt(0);if("utf8"===f&&128>v||"latin1"===f)p=v}}else"number"===typeof p?
p&=255:"boolean"===typeof p&&(p=Number(p));if(0>L||this.length<L||this.length<P)throw new RangeError("Out of range index");if(P<=L)return this;L>>>=0;P=void 0===P?this.length:P>>>0;p||(p=0);if("number"===typeof p)for(f=L;f<P;++f)this[f]=p;else{v=g.isBuffer(p)?p:g.from(p,f);const l=v.length;if(0===l)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(f=0;f<P-L;++f)this[f+L]=v[f%l]}return this};const cb={};Pa("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);Pa("ERR_INVALID_ARG_TYPE",function(p,L){return`The "${p}" argument must be of type number. Received type ${typeof L}`},TypeError);Pa("ERR_OUT_OF_RANGE",function(p,L,P){p=`The value of "${p}" is out of range.`;let f=P;if(Number.isInteger(P)&&Math.abs(P)>Math.pow(2,32))f=kb(String(P));else if("bigint"===typeof P){f=String(P);if(P>Math.pow(BigInt(2),BigInt(32))||P<-Math.pow(BigInt(2),BigInt(32)))f=kb(f);f+="n"}return p+` It must be ${L}. Received ${f}`},
RangeError);const aa=/[^+/0-9A-Za-z-_]/g,ma=function(){const p=Array(256);for(let L=0;16>L;++L){const P=16*L;for(let f=0;16>f;++f)p[P+f]="0123456789abcdef"[L]+"0123456789abcdef"[f]}return p}()};
shadow$provide[28]=function(cc,Db,Xc,mb){var r=Db(27).Buffer;(function(g,qa){"object"===typeof mb&&"undefined"!==typeof Xc?qa(mb,Db(21),Db(22),Db(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],qa):(g="undefined"!==typeof globalThis?globalThis:g||self,qa(g.vega={},g.vega,g.topojson,g.vega))})(this,function(g,qa,hb,Gb){function $b(aa,ma){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const L=yield p.sanitize(aa,
ma),P=L.href;return L.localFile?p.file(P):p.http(P,ma)})}function oc(aa,ma){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ma=qa.extend({},p.options,ma);const L=p.fileAccess,P={href:null};var f;let v;var l=Na.test(aa.replace(xb,""));null!=aa&&"string"===typeof aa&&l||qa.error("Sanitize failure, invalid URI: "+qa.stringValue(aa));l=lb.test(aa);(f=ma.baseURL)&&!l&&(aa.startsWith("/")||f.endsWith("/")||(aa="/"+aa),aa=f+aa);v=(f=aa.startsWith("file://"))||"file"===ma.mode||
"http"!==ma.mode&&!l&&L;f?aa=aa.slice(7):aa.startsWith("//")&&("file"===ma.defaultProtocol?(aa=aa.slice(2),v=!0):aa=(ma.defaultProtocol||"http")+":"+aa);Object.defineProperty(P,"localFile",{value:!!v});P.href=aa;ma.target&&(P.target=ma.target+"");ma.rel&&(P.rel=ma.rel+"");"image"===ma.context&&ma.crossOrigin&&(P.crossOrigin=ma.crossOrigin+"");return P})}function kc(aa){return aa?ma=>new Promise((p,L)=>{aa.readFile(ma,(P,f)=>{P?L(P):p(f)})}):yc}function yc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){qa.error("No file system access.")})}
function Ab(aa){return aa?function(ma,p){const L=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var P=qa.extend({},L.options.http,p);const f=p&&p.response;P=yield aa(ma,P);return P.ok?qa.isFunction(P[f])?P[f]():P.text():qa.error(P.status+""+P.statusText)})}:gc}function gc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){qa.error("No HTTP fetch method available.")})}function rc(aa,ma){if(!aa||!aa.length)return"unknown";const p=aa.length,L=Zb.length,P=Zb.map((f,
v)=>v+1);for(let f=0,v=0,l,C;f<p;++f)for(C=ma?aa[f][ma]:aa[f],l=0;l<L;++l)if(P[l]&&null!=C&&C===C&&!Zb[l](C)&&(P[l]=0,++v,v===Zb.length))return"string";return nb[P.reduce((f,v)=>0===f?v:f,0)-1]}function Va(aa,ma){return ma.reduce((p,L)=>{p[L]=rc(aa,L);return p},{})}function qb(aa){return new Function("d","return {"+aa.map(function(ma,p){return JSON.stringify(ma)+": d["+p+'] || ""'}).join(",")+"}")}function Kb(aa,ma){var p=qb(aa);return function(L,P){return ma(p(L),P,aa)}}function Ob(aa){var ma=Object.create(null),
p=[];aa.forEach(function(L){for(var P in L)P in ma||p.push(ma[P]=P)});return p}function Bb(aa,ma){aa+="";var p=aa.length;return p<ma?Array(ma-p+1).join(0)+aa:aa}function Pb(aa){function ma(l,C){function B(){if(X)return Y;if(u)return u=!1,la;var ua,Ja=G,Wa;if(34===l.charCodeAt(Ja)){for(;G++<D&&34!==l.charCodeAt(G)||34===l.charCodeAt(++G););(ua=G)>=D?X=!0:10===(Wa=l.charCodeAt(G++))?u=!0:13===Wa&&(u=!0,10===l.charCodeAt(G)&&++G);return l.slice(Ja+1,ua-1).replace(/""/g,'"')}for(;G<D;){if(10===(Wa=l.charCodeAt(ua=
G++)))u=!0;else if(13===Wa)u=!0,10===l.charCodeAt(G)&&++G;else if(Wa!==v)continue;return l.slice(Ja,ua)}return X=!0,l.slice(Ja,D)}var z=[],D=l.length,G=0,U=0,Aa,X=0>=D,u=!1;10===l.charCodeAt(D-1)&&--D;for(13===l.charCodeAt(D-1)&&--D;(Aa=B())!==Y;){for(var K=[];Aa!==la&&Aa!==Y;)K.push(Aa),Aa=B();C&&null==(K=C(K,U++))||z.push(K)}return z}function p(l,C){return l.map(function(B){return C.map(function(z){return P(B[z])}).join(aa)})}function L(l){return l.map(P).join(aa)}function P(l){if(null==l)l="";
else{if(l instanceof Date){var C=l.getUTCHours();var B=l.getUTCMinutes(),z=l.getUTCSeconds(),D=l.getUTCMilliseconds();if(isNaN(l))l="Invalid Date";else{var G=l.getUTCFullYear();l=(0>G?"-"+Bb(-G,6):9999<G?"+"+Bb(G,6):Bb(G,4))+"-"+Bb(l.getUTCMonth()+1,2)+"-"+Bb(l.getUTCDate(),2)+(D?"T"+Bb(C,2)+":"+Bb(B,2)+":"+Bb(z,2)+"."+Bb(D,3)+"Z":z?"T"+Bb(C,2)+":"+Bb(B,2)+":"+Bb(z,2)+"Z":B||C?"T"+Bb(C,2)+":"+Bb(B,2)+"Z":"")}C=l}else C=f.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l;l=C}return l}var f=new RegExp('["'+
aa+"\n\r]"),v=aa.charCodeAt(0);return{parse:function(l,C){var B,z;l=ma(l,function(D,G){if(B)return B(D,G-1);z=D;B=C?Kb(D,C):qb(D)});l.columns=z||[];return l},parseRows:ma,format:function(l,C){null==C&&(C=Ob(l));return[C.map(P).join(aa)].concat(p(l,C)).join("\n")},formatBody:function(l,C){null==C&&(C=Ob(l));return p(l,C).join("\n")},formatRows:function(l){return l.map(L).join("\n")},formatRow:L,formatValue:P}}function Ua(aa){const ma=function(p,L){const P={delimiter:aa};return pb(p,L?qa.extend(L,P):
P)};ma.responseType="text";return ma}function pb(aa,ma){ma.header&&(aa=ma.header.map(qa.stringValue).join(ma.delimiter)+"\n"+aa);return Pb(ma.delimiter).parse(aa+"")}function Oa(aa,ma){const p=ma&&ma.property?qa.field(ma.property):qa.identity;var L;if(L=qa.isObject(aa))L=!("function"===typeof r&&qa.isFunction(r.isBuffer)&&r.isBuffer(aa));L?(aa=p(aa),!qa.isArray(aa)&&qa.isIterable(aa)&&(aa=[...aa]),ma=ma&&ma.copy?JSON.parse(JSON.stringify(aa)):aa):ma=p(JSON.parse(aa));return ma}function Da(aa,ma){let p,
L,P,f;aa=Oa(aa,ma);ma&&ma.feature?(p=hb.feature,P=ma.feature):ma&&ma.mesh?(p=hb.mesh,P=ma.mesh,f=Ha[ma.filter]):qa.error("Missing TopoJSON feature or mesh parameter.");return(L=(L=aa.objects[P])?p(aa,L,f):qa.error("Invalid TopoJSON object: "+P))&&L.features||[L]}function Pa(aa,ma){return 1<arguments.length?(Fa[aa]=ma,this):qa.hasOwnProperty(Fa,aa)?Fa[aa]:null}function kb(aa,ma,p,L){if(aa.length){var P=Gb.timeFormatDefaultLocale();p=p||P.timeParse;L=L||P.utcParse;P=aa.columns||Object.keys(aa[0]);var f,
v;"auto"===ma&&(ma=Va(aa,P));P=Object.keys(ma);var l=P.map(G=>{var U=ma[G];if(U&&(U.startsWith("date:")||U.startsWith("utc:"))){G=U.split(/:(.+)?/,2);U=G[1];if("'"===U[0]&&"'"===U[U.length-1]||'"'===U[0]&&'"'===U[U.length-1])U=U.slice(1,-1);return("utc"===G[0]?L:p)(U)}if(!Nb[U])throw Error("Illegal format pattern: "+G+":"+U);return Nb[U]});var C=0;var B=aa.length;for(v=P.length;C<B;++C){var z=aa[C];for(f=0;f<v;++f){var D=P[f];z[D]=l[f](z[D])}}}}const lb=/^(data:|([A-Za-z]+:)?\/\/)/,Na=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
xb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ob=aa=>!Number.isNaN(+aa)&&!(aa instanceof Date),Nb={boolean:qa.toBoolean,integer:qa.toNumber,number:qa.toNumber,date:qa.toDate,string:qa.toString,unknown:qa.identity},Zb=[aa=>"true"===aa||"false"===aa||!0===aa||!1===aa,aa=>ob(aa)&&Number.isInteger(+aa),ob,aa=>!Number.isNaN(Date.parse(aa))],nb=["boolean","integer","number","date"];var la={},Y={};pb.responseType="text";Oa.responseType="json";const Ha={interior:(aa,ma)=>aa!==ma,exterior:(aa,
ma)=>aa===ma};Da.responseType="json";const Fa={dsv:pb,csv:Ua(","),tsv:Ua("\t"),json:Oa,topojson:Da},cb=function(aa,ma){return p=>({options:p||{},sanitize:oc,load:$b,fileAccess:!!ma,file:kc(ma),http:Ab(aa)})}("undefined"!==typeof fetch&&fetch,null);g.format=Fa;g.formats=Pa;g.inferType=rc;g.inferTypes=Va;g.loader=cb;g.read=function(aa,ma,p,L){ma=ma||{};const P=Pa(ma.type||"json");P||qa.error("Unknown data format type: "+ma.type);aa=P(aa,ma);ma.parse&&kb(aa,ma.parse,p,L);qa.hasOwnProperty(aa,"columns")&&
delete aa.columns;return aa};g.responseType=function(aa){return(aa=Pa(aa))&&aa.responseType||"text"};g.typeParsers=Nb})};
shadow$provide[29]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(28),Db(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb){function Gb(f){const v=f||g.identity,l=[],C={};l.add=B=>{const z=v(B);C[z]||(C[z]=1,l.push(B));return l};l.remove=B=>{const z=v(B);C[z]&&(C[z]=0,B=l.indexOf(B),
0<=B&&l.splice(B,1));return l};return l}function $b(f,v){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield v(f)}catch(l){f.error(l)}})}function oc(f){f=f===Object(f)?f:{data:f};if(!f[Y]){var v=Ha++;f[Y]=v}return f}function kc(f,v){for(const l in f)v[l]=f[l];return v}function yc(f){return f&&f.constructor===Ab}function Ab(){const f=[],v=[],l=[],C=[],B=[];let z=null,D=!1;return{constructor:Ab,insert(G){G=g.array(G);const U=G.length;for(let Aa=0;Aa<U;++Aa)f.push(G[Aa]);return this},
remove(G){const U=g.isFunction(G)?C:v;G=g.array(G);const Aa=G.length;for(let X=0;X<Aa;++X)U.push(G[X]);return this},modify(G,U,Aa){U={field:U,value:g.constant(Aa)};g.isFunction(G)?(U.filter=G,B.push(U)):(U.tuple=G,l.push(U));return this},encode(G,U){g.isFunction(G)?B.push({filter:G,field:U}):l.push({tuple:G,field:U});return this},clean(G){z=G;return this},reflow(){D=!0;return this},pulse(G,U){function Aa(Ca,Za,Ib){Ib?Ca[Za]=Ib(Ca):G.encode=Za;D||(u[Ca[Y]]=Ca)}const X={},u={};let K,ua,Ja,Wa,ab,W;K=
0;for(ua=U.length;K<ua;++K)X[U[K][Y]]=1;K=0;for(ua=v.length;K<ua;++K)ab=v[K],X[ab[Y]]=-1;K=0;for(ua=C.length;K<ua;++K)Wa=C[K],U.forEach(Ca=>{Wa(Ca)&&(X[Ca[Y]]=-1)});K=0;for(ua=f.length;K<ua;++K)ab=f[K],W=ab[Y],X[W]?X[W]=1:G.add.push(oc(f[K]));K=0;for(ua=U.length;K<ua;++K)ab=U[K],0>X[ab[Y]]&&G.rem.push(ab);K=0;for(ua=l.length;K<ua;++K)Ja=l[K],ab=Ja.tuple,Wa=Ja.field,W=X[ab[Y]],0<W&&(Aa(ab,Wa,Ja.value),G.modifies(Wa));K=0;for(ua=B.length;K<ua;++K)Ja=B[K],Wa=Ja.filter,U.forEach(Ca=>{Wa(Ca)&&0<X[Ca[Y]]&&
Aa(Ca,Ja.field,Ja.value)}),G.modifies(Ja.field);if(D)G.mod=v.length||C.length?U.filter(Ca=>0<X[Ca[Y]]):U.slice();else for(W in u)G.mod.push(u[W]);(z||null==z&&(v.length||C.length))&&G.clean(!0);return G}}}function gc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function rc(f,v,l,C){this.id=++Fa;this.value=f;this.qrank=this.rank=this.stamp=-1;this.flags=0;v&&(this._update=v);l&&this.parameters(l,C)}function Va(f){return function(v){const l=this.flags;if(0===arguments.length)return!!(l&
f);this.flags=v?l|f:l&~f;return this}}function qb(f,v,l){this.id=++aa;this.value=null;l&&(this.receive=l);f&&(this._filter=f);v&&(this._apply=v)}function Kb(f,v,l){return new qb(f,v,l)}function Ob(f){let v;const l=new Promise(C=>v=C);l.requests=0;l.done=()=>{0===--l.requests&&(f._pending=null,v(f))};return f._pending=l}function Bb(f,v,l,C,B,z){const D=g.extend({},z,ma);let G;g.isFunction(l)||(l=g.constant(l));void 0===C?B=U=>f.touch(l(U)):g.isFunction(C)?(G=new rc(null,C,B,!1),B=U=>{G.evaluate(U);
U=l(U);const Aa=G.value;yc(Aa)?f.pulse(U,Aa,z):f.update(U,Aa,D)}):B=U=>f.update(l(U),C,D);v.apply(B)}function Pb(f,v,l,C,B,z){void 0===C?v.targets().add(l):(z=z||{},C=new rc(null,Ua(l,C),B,!1),C.modified(z.force),C.rank=v.rank,v.targets().add(C),l&&(C.skip(!0),C.value=l.value,C.targets().add(l),f.connect(l,[C])))}function Ua(f,v){v=g.isFunction(v)?v:g.constant(v);return f?function(l,C){l=v(l,C);f.skip()||(f.skip(l!==this.value).value=l);return l}:v}function pb(f,v,l){this.dataflow=f;this.stamp=null==
v?-1:v;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=l||null}function Oa(f,v){const l=[];g.visitArray(f,v,C=>l.push(C));return l}function Da(f,v){const l={};f.visit(v,C=>{l[C[Y]]=1});return C=>l[C[Y]]?null:C}function Pa(f,v){return f?(l,C)=>f(l,C)&&v(l,C):v}function kb(f,v,l,C){let B=0;this.dataflow=f;this.stamp=v;this.fields=null;this.encode=C||null;this.pulses=l;for(const z of l)if(z.stamp===v){if(z.fields){f=this.fields||(this.fields={});for(const D in z.fields)f[D]=1}z.changed(this.ADD)&&
(B|=this.ADD);z.changed(this.REM)&&(B|=this.REM);z.changed(this.MOD)&&(B|=this.MOD)}this.changes=B}function lb(f){f.error("Dataflow already running. Use runAsync() to chain invocations.");return f}function Na(f,v){if(v&&v.stamp===f.stamp)return v;f=f.fork();v&&v!==p&&(f.source=v.source);return f}function xb(f){let v=[];return{clear:()=>v=[],size:()=>v.length,peek:()=>v[0],push:l=>{v.push(l);return ob(v,0,v.length-1,f)},pop:()=>{var l=v.pop();let C;if(v.length){C=v[0];v[0]=l;l=v;var B=0;const z=B,
D=l.length,G=l[B];let U=(B<<1)+1,Aa;for(;U<D;)Aa=U+1,Aa<D&&0<=f(l[U],l[Aa])&&(U=Aa),l[B]=l[U],B=U,U=(B<<1)+1;l[B]=G;ob(l,z,B,f)}else C=l;return C}}}function ob(f,v,l,C){let B,z;const D=f[l];for(;l>v;)if(z=l-1>>1,B=f[z],0>C(D,B))f[l]=B,l=z;else break;return f[l]=D}function Nb(){this.logger(g.logger());this.logLevel(g.Error);this._rank=this._clock=0;this._locale=hb.defaultLocale();try{this._loader=qa.loader()}catch(f){}this._touched=Gb(g.id);this._input={};this._pulse=null;this._heap=xb((f,v)=>f.qrank-
v.qrank);this._postrun=[]}function Zb(f){return function(){return this._log[f].apply(this,arguments)}}function nb(f,v){rc.call(this,f,null,v)}function la(f){f=f&&f.toLowerCase();return g.hasOwnProperty(P,f)?P[f]:null}const Y=Symbol("vega_id");let Ha=1;gc.prototype={set(f,v,l,C){const B=this[f],z=this["_:mod:_"];if(null!=v&&0<=v){if(B[v]!==l||C)B[v]=l,z[v+":"+f]=-1,z[f]=-1}else if(B!==l||C)this[f]=l,z[f]=g.isArray(l)?1+l.length:-1;return this},modified(f,v){const l=this["_:mod:_"];if(!arguments.length){for(var C in l)if(l[C])return!0;
return!1}if(g.isArray(f)){for(C=0;C<f.length;++C)if(l[f[C]])return!0;return!1}return null!=v&&0<=v?v+1<l[f]||!!l[v+":"+f]:!!l[f]},clear(){this["_:mod:_"]={};return this}};let Fa=0;const cb=new gc;rc.prototype={targets(){return this._targets||(this._targets=Gb(g.id))},set(f){return this.value!==f?(this.value=f,1):0},skip:Va(1),modified:Va(2),parameters(f,v,l){v=!1!==v;const C=this._argval=this._argval||new gc,B=this._argops=this._argops||[],z=[];let D,G,U,Aa;const X=(u,K,ua)=>{ua instanceof rc?(ua!==
this&&(v&&ua.targets().add(this),z.push(ua)),B.push({op:ua,name:u,index:K})):C.set(u,K,ua)};for(D in f)if(G=f[D],"pulse"===D)g.array(G).forEach(u=>{u instanceof rc?u!==this&&(u.targets().add(this),z.push(u)):g.error("Pulse parameters must be operator instances.")}),this.source=G;else if(g.isArray(G))for(C.set(D,-1,Array(U=G.length)),Aa=0;Aa<U;++Aa)X(D,Aa,G[Aa]);else X(D,-1,G);this.marshall().clear();l&&(B.initonly=!0);return z},marshall(f){const v=this._argval||cb,l=this._argops;let C,B,z,D;if(l){const G=
l.length;for(B=0;B<G;++B)C=l[B],z=C.op,D=z.modified()&&z.stamp===f,v.set(C.name,C.index,z.value,D);if(l.initonly){for(B=0;B<G;++B)C=l[B],C.op.targets().remove(this);this._update=this._argops=null}}return v},detach(){const f=this._argops;let v,l;if(f)for(v=0,l=f.length;v<l;++v){var C=f[v];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(f){var v=this._update;if(v){const l=this.marshall(f.stamp);v=v.call(this,l,f);l.clear();if(v!==this.value)this.value=v;else if(!this.modified())return f.StopPropagation}},
run(f){if(f.stamp<this.stamp)return f.StopPropagation;let v;this.skip()?(this.skip(!1),v=0):v=this.evaluate(f);return this.pulse=v||f}};let aa=0;qb.prototype={_filter:g.truthy,_apply:g.identity,targets(){return this._targets||(this._targets=Gb(g.id))},consume(f){if(!arguments.length)return!!this._consume;this._consume=!!f;return this},receive(f){if(this._filter(f)){const v=this.value=this._apply(f),l=this._targets,C=l?l.length:0;for(let B=0;B<C;++B)l[B].receive(v);this._consume&&(f.preventDefault(),
f.stopPropagation())}},filter(f){f=Kb(f);this.targets().add(f);return f},apply(f){f=Kb(null,f);this.targets().add(f);return f},merge(){const f=Kb();this.targets().add(f);for(let v=0,l=arguments.length;v<l;++v)arguments[v].targets().add(f);return f},throttle(f){let v=-1;return this.filter(()=>{const l=Date.now();return l-v>f?(v=l,1):0})},debounce(f){const v=Kb();this.targets().add(Kb(null,null,g.debounce(f,l=>{const C=l.dataflow;v.receive(l);C&&C.run&&C.run()})));return v},between(f,v){let l=!1;f.targets().add(Kb(null,
null,()=>l=!0));v.targets().add(Kb(null,null,()=>l=!1));return this.filter(()=>l)},detach(){this._filter=g.truthy;this._targets=null}};const ma={skip:!0},p={};pb.prototype={StopPropagation:p,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(f){return(new pb(this.dataflow)).init(this,f)},clone(){const f=this.fork(7);f.add=f.add.slice();f.rem=f.rem.slice();f.mod=f.mod.slice();f.source&&(f.source=f.source.slice());return f.materialize(23)},addAll(){let f=this;
f.source&&f.add!==f.rem&&(f.rem.length||f.source.length!==f.add.length)&&(f=(new pb(this.dataflow)).init(this),f.add=f.source,f.rem=[]);return f},init(f,v){this.stamp=f.stamp;this.encode=f.encode;!f.fields||v&64||(this.fields=f.fields);v&1?(this.addF=f.addF,this.add=f.add):(this.addF=null,this.add=[]);v&2?(this.remF=f.remF,this.rem=f.rem):(this.remF=null,this.rem=[]);v&4?(this.modF=f.modF,this.mod=f.mod):(this.modF=null,this.mod=[]);v&32?this.source=this.srcF=null:(this.srcF=f.srcF,this.source=f.source,
f.cleans&&(this.cleans=f.cleans));return this},runAfter(f){this.dataflow.runAfter(f)},changed(f){f=f||7;return f&1&&this.add.length||f&2&&this.rem.length||f&4&&this.mod.length},reflow(f){if(f)return this.fork(7).reflow();f=this.add.length;const v=this.source&&this.source.length;v&&v!==f&&(this.mod=this.source,f&&this.filter(4,Da(this,1)));return this},clean(f){return arguments.length?(this.cleans=!!f,this):this.cleans},modifies(f){const v=this.fields||(this.fields={});g.isArray(f)?f.forEach(l=>v[l]=
!0):v[f]=!0;return this},modified(f,v){const l=this.fields;return(v||this.mod.length)&&l?arguments.length?g.isArray(f)?f.some(C=>l[C]):l[f]:!!l:!1},filter(f,v){f&1&&(this.addF=Pa(this.addF,v));f&2&&(this.remF=Pa(this.remF,v));f&4&&(this.modF=Pa(this.modF,v));f&16&&(this.srcF=Pa(this.srcF,v));return this},materialize(f){f=f||7;f&1&&this.addF&&(this.add=Oa(this.add,this.addF),this.addF=null);f&2&&this.remF&&(this.rem=Oa(this.rem,this.remF),this.remF=null);f&4&&this.modF&&(this.mod=Oa(this.mod,this.modF),
this.modF=null);f&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(f,v){if(f&16)return g.visitArray(this.source,this.srcF,v),this;f&1&&g.visitArray(this.add,this.addF,v);f&2&&g.visitArray(this.rem,this.remF,v);f&4&&g.visitArray(this.mod,this.modF,v);const l=this.source;f&8&&l&&(f=this.add.length+this.mod.length,f!==l.length&&(f?g.visitArray(l,Da(this,5),v):g.visitArray(l,this.srcF,v)));return this}};g.inherits(kb,pb,{fork(f){const v=(new pb(this.dataflow)).init(this,
f&this.NO_FIELDS);void 0!==f&&(f&v.ADD&&this.visit(v.ADD,l=>v.add.push(l)),f&v.REM&&this.visit(v.REM,l=>v.rem.push(l)),f&v.MOD&&this.visit(v.MOD,l=>v.mod.push(l)));return v},changed(f){return this.changes&f},modified(f){const v=this.fields;return v&&this.changes&this.MOD?g.isArray(f)?f.some(l=>v[l]):v[f]:0},filter(){g.error("MultiPulse does not support filtering.")},materialize(){g.error("MultiPulse does not support materialization.")},visit(f,v){const l=this.pulses,C=l.length;let B=0;if(f&this.SOURCE)for(;B<
C;++B)l[B].visit(f,v);else for(;B<C;++B)l[B].stamp===this.stamp&&l[B].visit(f,v);return this}});const L={skip:!1,force:!1};Nb.prototype={stamp(){return this._clock},loader(f){return arguments.length?(this._loader=f,this):this._loader},locale(f){return arguments.length?(this._locale=f,this):this._locale},logger(f){return arguments.length?(this._log=f,this):this._log},error:Zb("error"),warn:Zb("warn"),info:Zb("info"),debug:Zb("debug"),logLevel:Zb("level"),cleanThreshold:1E4,add:function(f,v,l,C){let B=
1;f instanceof rc||(f&&f.prototype instanceof rc?f=new f:g.isFunction(f)?f=new rc(null,f):(B=0,f=new rc(f,v)));this.rank(f);B&&(C=l,l=v);l&&this.connect(f,f.parameters(l,C));this.touch(f);return f},connect:function(f,v){const l=f.rank,C=v.length;for(let B=0;B<C;++B)if(l<v[B].rank){this.rerank(f);break}},rank:function(f){f.rank=++this._rank},rerank:function(f){const v=[f];let l,C,B;for(;v.length;)if(this.rank(l=v.pop()),C=l._targets)for(B=C.length;0<=--B;)v.push(l=C[B]),l===f&&g.error("Cycle detected in dataflow graph.")},
pulse:function(f,v,l){this.touch(f,l||L);l=new pb(this,this._clock+(this._pulse?0:1));const C=f.pulse&&f.pulse.source||[];l.target=f;this._input[f.id]=v.pulse(l,C);return this},touch:function(f,v){v=v||L;this._pulse?this._enqueue(f):this._touched.add(f);v.skip&&f.skip(!0);return this},update:function(f,v,l){l=l||L;(f.set(v)||l.force)&&this.touch(f,l);return this},changeset:Ab,ingest:function(f,v,l){v=this.parse(v,l);return this.pulse(f,this.changeset().insert(v))},parse:function(f,v){const l=this.locale();
return qa.read(f,v,l.timeParse,l.utcParse)},preload:function(f,v,l){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Ob(C);B.requests+=1;const z=yield C.request(v,l);C.pulse(f,C.changeset().remove(g.truthy).insert(z.data||[]));B.done();return z})},request:function(f,v){const l=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=yield l.loader().load(f,{context:"dataflow",response:qa.responseType(v&&v.type)});try{B=l.parse(B,
v)}catch(z){C=-2,l.warn("Data ingestion failed",f,z)}}catch(z){C=-1,l.warn("Loading failed",f,z)}return{data:B,status:C}})},events:function(f,v,l,C){const B=this,z=Kb(l,C);l=function(D){D.dataflow=B;try{z.receive(D)}catch(G){B.error(G)}finally{B.run()}};f="string"===typeof f&&"undefined"!==typeof document?document.querySelectorAll(f):g.array(f);C=f.length;for(let D=0;D<C;++D)f[D].addEventListener(v,l);return z},on:function(f,v,l,C,B){(f instanceof rc?Pb:Bb)(this,f,v,l,C,B);return this},evaluate:function(f,
v,l){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return lb(C);C._pending&&(yield C._pending);v&&(yield $b(C,v));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var z=++C._clock;C._pulse=new pb(C,z,f);C._touched.forEach(X=>C._enqueue(X,!0));C._touched=Gb(g.id);var D=0;let G,U,Aa;try{for(;0<C._heap.size();)G=C._heap.pop(),G.rank!==G.qrank?C._enqueue(G,!0):(U=G.run(C._getPulse(G,f)),U.then?U=yield U:U.async&&(B.push(U.async),
U=p),U!==p&&G._targets&&G._targets.forEach(X=>C._enqueue(X)),++D)}catch(X){C._heap.clear(),Aa=X}C._input={};C._pulse=null;C.debug(`Pulse ${z}: ${D} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(z=C._postrun.sort((X,u)=>u.priority-X.priority),C._postrun=[],D=0;D<z.length;++D)yield $b(C,z[D].callback);l&&(yield $b(C,l));B.length&&Promise.all(B).then(X=>C.runAsync(null,()=>{X.forEach(u=>{try{u(C)}catch(K){C.error(K)}})}));return C})},run:function(f,v,l){return this._pulse?lb(this):
(this.evaluate(f,v,l),this)},runAsync:function(f,v,l){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(f,v,l)).then(B,B);return C._running})},runAfter:function(f,v,l){if(this._pulse||v)this._postrun.push({priority:l||0,callback:f});else try{f(this)}catch(C){this.error(C)}},_enqueue:function(f,v){const l=f.stamp<this._clock;l&&(f.stamp=this._clock);if(l||v)f.qrank=f.rank,this._heap.push(f)},
_getPulse:function(f,v){const l=f.source,C=this._clock;return l&&g.isArray(l)?new kb(this,C,l.map(B=>B.pulse),v):this._input[f.id]||Na(this._pulse,l&&l.pulse)}};g.inherits(nb,rc,{run(f){if(f.stamp<this.stamp)return f.StopPropagation;let v;this.skip()?this.skip(!1):v=this.evaluate(f);v=v||f;v.then?v=v.then(l=>this.pulse=l):v!==f.StopPropagation&&(this.pulse=v);return v},evaluate(f){const v=this.marshall(f.stamp);f=this.transform(v,f);v.clear();return f},transform(){}});const P={};r.Dataflow=Nb;r.EventStream=
qb;r.MultiPulse=kb;r.Operator=rc;r.Parameters=gc;r.Pulse=pb;r.Transform=nb;r.UniqueList=Gb;r.asyncCallback=$b;r.changeset=Ab;r.definition=function(f){return(f=la(f))&&f.Definition||null};r.derive=function(f){return kc(f,oc({}))};r.ingest=oc;r.isChangeSet=yc;r.isTuple=function(f){return!(!f||!f[Y])};r.rederive=kc;r.replace=function(f,v){v[Y]=f[Y];return v};r.stableCompare=function(f,v){return f?v?(l,C)=>f(l,C)||v(l)[Y]-v(C)[Y]:(l,C)=>f(l,C)||l[Y]-C[Y]:null};r.transform=la;r.transforms=P;r.tupleid=
function(f){return f[Y]}})};
shadow$provide[30]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb):"function"===typeof define&&define.amd?define(["exports"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={}))})(this,function(r){function*g(l,C){if(null==C)for(var B of l)null!=B&&""!==B&&(B=+B)>=B&&(yield B);else{B=-1;for(let z of l)z=C(z,++B,l),null!=z&&""!==z&&(z=+z)>=z&&(yield z)}}function qa(l,C){return null==l||null==C?NaN:l<C?-1:l>C?1:l>=C?0:NaN}function hb(l){return null===
l?NaN:+l}function*Gb(l,C){if(void 0===C)for(var B of l)null!=B&&(B=+B)>=B&&(yield B);else{B=-1;for(let z of l)null!=(z=C(z,++B,l))&&(z=+z)>=z&&(yield z)}}function $b(l=qa){if(l===qa)return oc;if("function"!==typeof l)throw new TypeError("compare is not a function");return(C,B)=>{const z=l(C,B);return z||0===z?z:(0===l(B,B))-(0===l(C,C))}}function oc(l,C){return(null==l||!(l>=l))-(null==C||!(C>=C))||(l<C?-1:l>C?1:0)}function kc(l,C){let B;if(void 0===C)for(var z of l)null!=z&&(B<z||void 0===B&&z>=
z)&&(B=z);else{z=-1;for(let D of l)null!=(D=C(D,++z,l))&&(B<D||void 0===B&&D>=D)&&(B=D)}return B}function yc(l,C){let B;if(void 0===C)for(var z of l)null!=z&&(B>z||void 0===B&&z>=z)&&(B=z);else{z=-1;for(let D of l)null!=(D=C(D,++z,l))&&(B>D||void 0===B&&D>=D)&&(B=D)}return B}function Ab(l,C,B=0,z=Infinity,D){C=Math.floor(C);B=Math.floor(Math.max(0,B));z=Math.floor(Math.min(l.length-1,z));if(!(B<=C&&C<=z))return l;for(D=void 0===D?oc:$b(D);z>B;){if(600<z-B){var G=z-B+1,U=C-B+1,Aa=Math.log(G),X=.5*
Math.exp(2*Aa/3);Aa=.5*Math.sqrt(Aa*X*(G-X)/G)*(0>U-G/2?-1:1);Ab(l,C,Math.max(B,Math.floor(C-U*X/G+Aa)),Math.min(z,Math.floor(C+(G-U)*X/G+Aa)),D)}G=l[C];U=B;X=z;gc(l,B,C);for(0<D(l[z],G)&&gc(l,B,z);U<X;){gc(l,U,X);++U;for(--X;0>D(l[U],G);)++U;for(;0<D(l[X],G);)--X}0===D(l[B],G)?gc(l,B,X):(++X,gc(l,X,z));X<=C&&(B=X+1);C<=X&&(z=X-1)}return l}function gc(l,C,B){const z=l[C];l[C]=l[B];l[B]=z}function rc(l,C,B){l=Float64Array.from(Gb(l,B));if((B=l.length)&&!isNaN(C=+C)){if(0>=C||2>B)return yc(l);if(1<=
C)return kc(l);C*=B-1;B=Math.floor(C);var z=kc(Ab(l,B).subarray(0,B+1));l=yc(l.subarray(B+1));return z+(l-z)*(C-B)}}function Va(l,C,B=hb){if((z=l.length)&&!isNaN(C=+C)){if(0>=C||2>z)return+B(l[0],0,l);if(1<=C)return+B(l[z-1],z-1,l);var z;C*=z-1;z=Math.floor(C);var D=+B(l[z],z,l);l=+B(l[z+1],z+1,l);return D+(l-D)*(C-z)}}function qb(l,C,B){const z=Float64Array.from(g(l,B));z.sort(qa);return C.map(D=>Va(z,D))}function Kb(l,C){return qb(l,[.25,.5,.75],C)}function Ob(l,C){const B=l.length;{var z=0;let G,
U=0,Aa=0;if(void 0===C)for(var D of l)null!=D&&(D=+D)>=D&&(G=D-U,U+=G/++z,Aa+=G*(D-U));else{D=-1;for(let X of l)null!=(X=C(X,++D,l))&&(X=+X)>=X&&(G=X-U,U+=G/++z,Aa+=G*(X-U))}z=1<z?Aa/(z-1):void 0}z=z?Math.sqrt(z):z;l=Kb(l,C);return 1.06*(Math.min(z,(l[2]-l[0])/1.34)||z||Math.abs(l[0])||1)*Math.pow(B,-.2)}function Bb(l,C){const B=l.length;let z=0,D=1,G,U;for(;l[z]===l[D];)++D;for(;D<B;){for(G=D+1;l[D]===l[G];)++G;if(l[D]-l[D-1]<C){for(U=D+(z+G-D-D>>1);U<D;)l[U++]=l[D];for(;U>D;)l[U--]=l[z]}z=D;D=G}return l}
function Pb(l,C){l=l||0;C=null==C?1:C;let B,z;if(f===f)B=f,f=NaN;else{do{B=2*r.random()-1;z=2*r.random()-1;var D=B*B+z*z}while(0===D||1<D);D=Math.sqrt(-2*Math.log(D)/D);B*=D;f=z*D}return l+B*C}function Ua(l,C,B){B=null==B?1:B;l=(l-(C||0))/B;return Math.exp(-.5*l*l)/(B*L)}function pb(l,C,B){l=(l-(C||0))/(null==B?1:B);C=Math.abs(l);37<C?B=0:(B=Math.exp(-C*C/2),7.07106781186547>C?(B*=(((((.0352624965998911*C+.700383064443688)*C+6.37396220353165)*C+33.912866078383)*C+112.079291497871)*C+221.213596169931)*
C+220.206867912376,B/=((((((.0883883476483184*C+1.75566716318264)*C+16.064177579207)*C+86.7807322029461)*C+296.564248779674)*C+637.333633378831)*C+793.826512519948)*C+440.413735824752):B=B/(C+1/(C+2/(C+3/(C+4/(C+.65)))))/2.506628274631);return 0<l?1-B:B}function Oa(l,C,B){if(0>l||1<l)return NaN;l=2*l-1;var z=-Math.log((1-l)*(1+l));6.25>z?(z-=3.125,z=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+
(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z):16>z?(z=Math.sqrt(z)-3.25,z=3.0838856104922208+(1.0052589676941592+
(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z):Number.isFinite(z)?(z=Math.sqrt(z)-5,z=4.849906401408584+(1.0103004648645344+
(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z)*z):z=Infinity;return(C||0)+(null==B?1:B)*P*z*l}function Da(l,C){let B,z;const D={mean(G){return arguments.length?(B=
G||0,D):B},stdev(G){return arguments.length?(z=null==G?1:G,D):z},sample:()=>Pb(B,z),pdf:G=>Ua(G,B,z),cdf:G=>pb(G,B,z),icdf:G=>Oa(G,B,z)};return D.mean(l).stdev(C)}function Pa(l,C){C=null==C?1:C;return Math.exp((l||0)+Pb()*C)}function kb(l,C,B){if(0>=l)return 0;B=null==B?1:B;C=(Math.log(l)-(C||0))/B;return Math.exp(-.5*C*C)/(B*L*l)}function lb(l,C,B){return pb(Math.log(l),C,B)}function Na(l,C,B){return Math.exp(Oa(l,C,B))}function xb(l,C){null==C&&(C=null==l?1:l,l=0);return l+(C-l)*r.random()}function ob(l,
C,B){null==B&&(B=null==C?1:C,C=0);return l>=C&&l<=B?1/(B-C):0}function Nb(l,C,B){null==B&&(B=null==C?1:C,C=0);return l<C?0:l>B?1:(l-C)/(B-C)}function Zb(l,C,B){null==B&&(B=null==C?1:C,C=0);return 0<=l&&1>=l?C+l*(B-C):NaN}function nb(l,C,B){let z=0,D=0;for(const G of l)l=B(G),null==C(G)||null==l||isNaN(l)||(z+=(l-z)/++D);return{coef:[z],predict:()=>z,rSquared:0}}function la(l,C,B,z){z-=l*l;B=1E-24>Math.abs(z)?0:(B-l*C)/z;return[C-B*l,B]}function Y(l,C,B,z){l=l.filter(ua=>{let Ja=C(ua);ua=B(ua);return null!=
Ja&&(Ja=+Ja)>=Ja&&null!=ua&&(ua=+ua)>=ua});z&&l.sort((ua,Ja)=>C(ua)-C(Ja));z=l.length;const D=new Float64Array(z),G=new Float64Array(z);let U=0,Aa=0,X=0,u,K;for(K of l)D[U]=l=+C(K),G[U]=u=+B(K),++U,Aa+=(l-Aa)/U,X+=(u-X)/U;for(U=0;U<z;++U)D[U]-=Aa,G[U]-=X;return[D,G,Aa,X]}function Ha(l,C,B,z){let D=-1,G;for(const U of l)l=C(U),G=B(U),null!=l&&(l=+l)>=l&&null!=G&&(G=+G)>=G&&z(l,G,++D)}function Fa(l,C,B,z,D){let G=0,U=0;Ha(l,C,B,(Aa,X)=>{Aa=X-D(Aa);X-=z;G+=Aa*Aa;U+=X*X});return 1-G/U}function cb(l,C,
B){let z=0,D=0,G=0,U=0,Aa=0;Ha(l,C,B,(K,ua)=>{++Aa;z+=(K-z)/Aa;D+=(ua-D)/Aa;G+=(K*ua-G)/Aa;U+=(K*K-U)/Aa});const X=la(z,D,G,U),u=K=>X[0]+X[1]*K;return{coef:X,predict:u,rSquared:Fa(l,C,B,D,u)}}function aa(l,C,B){const [z,D,G,U]=Y(l,C,B);var Aa=z.length,X=0;let u=0;var K=0;let ua=0,Ja=0,Wa,ab,W,Ca;for(Wa=0;Wa<Aa;)ab=z[Wa],W=D[Wa++],Ca=ab*ab,X+=(Ca-X)/Wa,u+=(Ca*ab-u)/Wa,K+=(Ca*Ca-K)/Wa,ua+=(ab*W-ua)/Wa,Ja+=(Ca*W-Ja)/Wa;Aa=K-X*X;K=X*Aa-u*u;const Za=(Ja*X-ua*u)/K,Ib=(ua*Aa-Ja*u)/K,xc=-Za*X;X=uc=>{uc-=
G;return Za*uc*uc+Ib*uc+xc+U};return{coef:[xc-Ib*G+Za*G*G+U,Ib-2*Za*G,Za],predict:X,rSquared:Fa(l,C,B,U,X)}}function ma(l,C,B,z){const D=Array(l);let G,U,Aa;for(G=0;G<l;++G)D[G]=0;for(G=l-1;0<=G;--G)for(U=C[G],Aa=1,D[G]+=U,l=1;l<=G;++l)Aa*=(G+1-l)/l,D[G-l]+=U*Math.pow(B,l)*Aa;D[0]+=z;return D}function p(l){const C=l.length-1,B=[];let z,D,G,U,Aa;for(z=0;z<C;++z){U=z;for(D=z+1;D<C;++D)Math.abs(l[z][D])>Math.abs(l[z][U])&&(U=D);for(G=z;G<C+1;++G)Aa=l[G][z],l[G][z]=l[G][U],l[G][U]=Aa;for(D=z+1;D<C;++D)for(G=
C;G>=z;G--)l[G][D]-=l[G][z]*l[z][D]/l[z][z]}for(D=C-1;0<=D;--D){Aa=0;for(G=D+1;G<C;++G)Aa+=l[G][D]*B[G];B[D]=(l[C][D]-Aa)/l[D][D]}return B}r.random=Math.random;const L=Math.sqrt(2*Math.PI),P=Math.SQRT2;let f=NaN;const v=.5*Math.PI/180;r.bandwidthNRD=Ob;r.bin=function(l){var C=l.maxbins||20;const B=l.base||10,z=Math.log(B),D=l.divide||[5,2];let G=l.extent[0],U=l.extent[1];let Aa,X,u,K;const ua=l.span||U-G||Math.abs(G)||1;if(l.step)var Ja=l.step;else if(l.steps){X=ua/C;u=0;for(K=l.steps.length;u<K&&
l.steps[u]<X;++u);Ja=l.steps[Math.max(0,u-1)]}else{Ja=Math.ceil(Math.log(C)/z);Aa=l.minstep||0;for(Ja=Math.max(Aa,Math.pow(B,Math.round(Math.log(ua)/z)-Ja));Math.ceil(ua/Ja)>C;)Ja*=B;u=0;for(K=D.length;u<K;++u)X=Ja/D[u],X>=Aa&&ua/X<=C&&(Ja=X)}X=Math.log(Ja);C=Math.pow(B,-(0<=X?0:~~(-X/z)+1)-1);if(l.nice||void 0===l.nice)X=Math.floor(G/Ja+C)*Ja,G=G<X?X-Ja:X,U=Math.ceil(U/Ja)*Ja;return{start:G,stop:U===G?G+Ja:U,step:Ja}};r.bootstrapCI=function(l,C,B,z){if(!l.length)return[void 0,void 0];l=Float64Array.from(g(l,
z));z=l.length;let D,G,U,Aa;U=0;for(Aa=Array(C);U<C;++U){for(G=D=0;G<z;++G)D+=l[~~(r.random()*z)];Aa[U]=D/z}Aa.sort(qa);return[rc(Aa,B/2),rc(Aa,1-B/2)]};r.cumulativeLogNormal=lb;r.cumulativeNormal=pb;r.cumulativeUniform=Nb;r.densityLogNormal=kb;r.densityNormal=Ua;r.densityUniform=ob;r.dotbin=function(l,C,B,z){z=z||(Ja=>Ja);const D=l.length,G=new Float64Array(D);let U=0,Aa=1,X=z(l[0]),u=X,K=X+C,ua;for(;Aa<D;++Aa){ua=z(l[Aa]);if(ua>=K){for(u=(X+u)/2;U<Aa;++U)G[U]=u;K=ua+C;X=ua}u=ua}for(u=(X+u)/2;U<
Aa;++U)G[U]=u;return B?Bb(G,C+C/4):G};r.quantileLogNormal=Na;r.quantileNormal=Oa;r.quantileUniform=Zb;r.quantiles=qb;r.quartiles=Kb;r.randomInteger=function(l,C){null==C&&(C=l,l=0);let B,z,D;const G={min(U){return arguments.length?(B=U||0,D=z-B,G):B},max(U){return arguments.length?(z=U||0,D=z-B,G):z},sample(){return B+Math.floor(D*r.random())},pdf(U){return U===Math.floor(U)&&U>=B&&U<z?1/D:0},cdf(U){U=Math.floor(U);return U<B?0:U>=z?1:(U-B+1)/D},icdf(U){return 0<=U&&1>=U?B-1+Math.floor(U*D):NaN}};
return G.min(l).max(C)};r.randomKDE=function(l,C){const B=Da();let z=0;const D={data(G){return arguments.length?(z=(l=G)?G.length:0,D.bandwidth(C)):l},bandwidth(G){if(!arguments.length)return C;C=G;!C&&l&&(C=Ob(l));return D},sample(){return l[~~(r.random()*z)]+C*B.sample()},pdf(G){let U=0,Aa=0;for(;Aa<z;++Aa)U+=B.pdf((G-l[Aa])/C);return U/C/z},cdf(G){let U=0,Aa=0;for(;Aa<z;++Aa)U+=B.cdf((G-l[Aa])/C);return U/z},icdf(){throw Error("KDE icdf not supported.");}};return D.data(l)};r.randomLCG=function(l){return function(){l=
(1103515245*l+12345)%2147483647;return l/2147483647}};r.randomLogNormal=function(l,C){let B,z;const D={mean(G){return arguments.length?(B=G||0,D):B},stdev(G){return arguments.length?(z=null==G?1:G,D):z},sample:()=>Pa(B,z),pdf:G=>kb(G,B,z),cdf:G=>lb(G,B,z),icdf:G=>Na(G,B,z)};return D.mean(l).stdev(C)};r.randomMixture=function(l,C){let B=0,z;const D={weights(G){if(arguments.length){var U=C=G||[];const Aa=[];let X=0,u;for(u=0;u<B;++u)X+=Aa[u]=null==U[u]?1:+U[u];for(u=0;u<B;++u)Aa[u]/=X;z=Aa;return D}return C},
distributions(G){return arguments.length?(G?(B=G.length,l=G):(B=0,l=[]),D.weights(C)):l},sample(){const G=r.random();let U=l[B-1],Aa=z[0],X=0;for(;X<B-1;Aa+=z[++X])if(G<Aa){U=l[X];break}return U.sample()},pdf(G){let U=0,Aa=0;for(;Aa<B;++Aa)U+=z[Aa]*l[Aa].pdf(G);return U},cdf(G){let U=0,Aa=0;for(;Aa<B;++Aa)U+=z[Aa]*l[Aa].cdf(G);return U},icdf(){throw Error("Mixture icdf not supported.");}};return D.distributions(l).weights(C)};r.randomNormal=Da;r.randomUniform=function(l,C){let B,z;const D={min(G){return arguments.length?
(B=G||0,D):B},max(G){return arguments.length?(z=null==G?1:G,D):z},sample:()=>xb(B,z),pdf:G=>ob(G,B,z),cdf:G=>Nb(G,B,z),icdf:G=>Zb(G,B,z)};null==C&&(C=null==l?1:l,l=0);return D.min(l).max(C)};r.regressionConstant=nb;r.regressionExp=function(l,C,B){const [z,,D,G]=Y(l,C,B);let U=0,Aa=0,X=0,u=0,K=0,ua,Ja,Wa;Ha(l,C,B,(Za,Ib)=>{ua=z[K++];Ja=Math.log(Ib);Wa=ua*Ib;U+=(Ib*Ja-U)/K;Aa+=(Wa-Aa)/K;X+=(Wa*Ja-X)/K;u+=(ua*Wa-u)/K});const [ab,W]=la(Aa/G,U/G,X/G,u/G),Ca=Za=>Math.exp(ab+W*(Za-D));return{coef:[Math.exp(ab-
W*D),W],predict:Ca,rSquared:Fa(l,C,B,G,Ca)}};r.regressionLinear=cb;r.regressionLoess=function(l,C,B,z){const [D,G,U,Aa]=Y(l,C,B,!0);l=D.length;C=Math.max(2,~~(z*l));z=new Float64Array(l);B=new Float64Array(l);var X=(new Float64Array(l)).fill(1);for(var u=-1;2>=++u;){var K=[0,C-1];for(let xc=0;xc<l;++xc){var ua=D[xc],Ja=K[0],Wa=K[1],ab=0,W=0,Ca=0,Za=0;let uc=0;const wc=1/Math.abs(D[ua-D[Ja]>D[Wa]-ua?Ja:Wa]-ua||1);for(;Ja<=Wa;++Ja){const Rc=D[Ja],Pd=G[Ja];var Ib=Math.abs(ua-Rc)*wc;const Ka=(Ib=1-Ib*
Ib*Ib)*Ib*Ib*X[Ja];Ib=Rc*Ka;ab+=Ka;W+=Ib;Ca+=Pd*Ka;Za+=Pd*Ib;uc+=Rc*Ib}const [bd,Wb]=la(W/ab,Ca/ab,Za/ab,uc/ab);z[xc]=bd+Wb*ua;B[xc]=Math.abs(G[xc]-z[xc]);ua=D;Wa=xc+1;ab=K;W=ua[Wa];Ca=ab[0];Za=ab[1]+1;if(!(Za>=ua.length))for(;Wa>Ca&&ua[Za]-W<=W-ua[Ca];)ab[0]=++Ca,ab[1]=Za,++Za}if(2===u)break;K=rc(B,.5,void 0);if(1E-12>Math.abs(K))break;for(let xc=0,uc,wc;xc<l;++xc)uc=B[xc]/(6*K),X[xc]=1<=uc?1E-12:(wc=1-uc*uc)*wc}l=D.length;C=[];X=B=0;for(u=[];B<l;++B)K=D[B]+U,u[0]===K?u[1]+=(z[B]-u[1])/++X:(X=0,
u[1]+=Aa,u=[K,z[B]],C.push(u));u[1]+=Aa;return C};r.regressionLog=function(l,C,B){let z=0,D=0,G=0,U=0,Aa=0;Ha(l,C,B,(K,ua)=>{++Aa;K=Math.log(K);z+=(K-z)/Aa;D+=(ua-D)/Aa;G+=(K*ua-G)/Aa;U+=(K*K-U)/Aa});const X=la(z,D,G,U),u=K=>X[0]+X[1]*Math.log(K);return{coef:X,predict:u,rSquared:Fa(l,C,B,D,u)}};r.regressionPoly=function(l,C,B,z){if(0===z)return nb(l,C,B);if(1===z)return cb(l,C,B);if(2===z)return aa(l,C,B);const [D,G,U,Aa]=Y(l,C,B);var X=D.length;const u=[],K=[],ua=z+1;let Ja,Wa,ab,W;for(Ja=0;Ja<ua;++Ja){for(ab=
Wa=0;Wa<X;++Wa)ab+=Math.pow(D[Wa],Ja)*G[Wa];u.push(ab);W=new Float64Array(ua);for(z=0;z<ua;++z){for(ab=Wa=0;Wa<X;++Wa)ab+=Math.pow(D[Wa],Ja+z);W[z]=ab}K.push(W)}K.push(u);const Ca=p(K);X=Za=>{Za-=U;let Ib=Aa+Ca[0]+Ca[1]*Za+Ca[2]*Za*Za;for(Ja=3;Ja<ua;++Ja)Ib+=Ca[Ja]*Math.pow(Za,Ja);return Ib};return{coef:ma(ua,Ca,-U,Aa),predict:X,rSquared:Fa(l,C,B,Aa,X)}};r.regressionPow=function(l,C,B){let z=0,D=0,G=0,U=0,Aa=0,X=0;Ha(l,C,B,(ua,Ja)=>{ua=Math.log(ua);const Wa=Math.log(Ja);++X;z+=(ua-z)/X;D+=(Wa-D)/
X;G+=(ua*Wa-G)/X;U+=(ua*ua-U)/X;Aa+=(Ja-Aa)/X});const u=la(z,D,G,U),K=ua=>u[0]*Math.pow(ua,u[1]);u[0]=Math.exp(u[0]);return{coef:u,predict:K,rSquared:Fa(l,C,B,Aa,K)}};r.regressionQuad=aa;r.sampleCurve=function(l,C,B,z){B=B||25;z=Math.max(B,z||200);var D=C[0],G=C[1],U=G-D,Aa=U/z;C=[[D,l(D)]];var X=[];if(B===z){for(var u=1;u<z;++u){Aa=C;X=Aa.push;var K=D+u/B*U;K=[K,l(K)];X.call(Aa,K)}C.push([G,l(G)]);return C}X.push([G,l(G)]);for(u=B;0<--u;)z=X,G=z.push,K=D+u/B*U,K=[K,l(K)],G.call(z,K);B=C[0];D=X[X.length-
1];U=1/U;z=G=B[1];u=X.length;for(K=0;K<u;++K){const ua=X[K][1];ua<z&&(z=ua);ua>G&&(G=ua)}for(z=1/(G-z);D;)G=(B[0]+D[0])/2,G=[G,l(G)],G[0]-B[0]>=Aa&&Math.abs(Math.atan2(z*(D[1]-B[1]),U*(D[0]-B[0]))-Math.atan2(z*(G[1]-B[1]),U*(G[0]-B[0])))>v?X.push(G):(B=D,C.push(D),X.pop()),D=X[X.length-1];return C};r.sampleLogNormal=Pa;r.sampleNormal=Pb;r.sampleUniform=xb;r.setRandom=function(l){r.random=l}})};
shadow$provide[31]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(29),Db(30),Db(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb,Gb){function $b(M){return ka=>{const za=M.length;let fb=1,Hb=String(M[0](ka));for(;fb<za;++fb)Hb+="|"+M[fb](ka);return Hb}}function oc(M){return M&&
M.length?1===M.length?M[0]:$b(M):function(){return""}}function kc(M,ka){return za=>g.extend({name:M,out:za||M},ic,ka)}function yc(M,ka){return M.idx-ka.idx}function Ab(M){const ka={};M.forEach(fb=>ka[fb.name]=fb);const za=fb=>{fb.req&&fb.req.forEach(Hb=>{ka[Hb]||za(ka[Hb]=Uc[Hb]())})};M.forEach(za);return Object.values(ka).sort(yc)}function gc(){this.missing=this.valid=0;this._ops.forEach(M=>M.init(this))}function rc(M,ka){null==M||""===M?++this.missing:M===M&&(++this.valid,this._ops.forEach(za=>
za.add(this,M,ka)))}function Va(M,ka){null==M||""===M?--this.missing:M===M&&(--this.valid,this._ops.forEach(za=>za.rem(this,M,ka)))}function qb(M){this._out.forEach(ka=>M[ka.out]=ka.value(this));return M}function Kb(M,ka){function za(Xb){this._ops=fb;this._out=Hb;this.cell=Xb;this.init()}ka=ka||g.identity;const fb=Ab(M),Hb=M.slice().sort(yc);za.prototype.init=gc;za.prototype.add=rc;za.prototype.rem=Va;za.prototype.set=qb;za.prototype.get=ka;za.fields=M.map(Xb=>Xb.out);return za}function Ob(M){this._key=
M?g.field(M):qa.tupleid;this.reset()}function Bb(M){qa.Transform.call(this,null,M);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Pb(M){qa.Transform.call(this,null,M)}function Ua(M,ka,za){let fb=ka||[],Hb=za||[],Xb={},Ac=0;return{add:lc=>Hb.push(lc),remove:lc=>Xb[M(lc)]=++Ac,size:()=>fb.length,data:(lc,Fc)=>{Ac&&(fb=fb.filter(hd=>!Xb[M(hd)]),
Xb={},Ac=0);Fc&&lc&&fb.sort(lc);Hb.length&&(fb=lc?g.merge(lc,fb,Hb.sort(lc)):fb.concat(Hb),Hb=[]);return fb}}}function pb(M){qa.Transform.call(this,[],M)}function Oa(M){qa.Operator.call(this,null,Da,M)}function Da(M){return this.value&&!M.modified()?this.value:g.compare(M.fields,M.orders)}function Pa(M){qa.Transform.call(this,null,M)}function kb(M){qa.Transform.call(this,null,M)}function lb(M,ka){var za=M["function"];g.hasOwnProperty(Qd,za)||g.error("Unknown distribution function: "+za);za=Qd[za]();
for(const fb in M)if("field"===fb)za.data((M.from||ka()).map(M[fb]));else if("distributions"===fb)za[fb](M[fb].map(Hb=>lb(Hb,ka)));else if("function"===typeof za[fb])za[fb](M[fb]);return za}function Na(M){qa.Transform.call(this,null,M)}function xb(M){return()=>M.materialize(M.SOURCE).source}function ob(M,ka){return M?M.map((za,fb)=>ka[fb]||g.accessorName(za)):null}function Nb(M,ka,za){const fb=[],Hb=rd=>rd(Fc);let Xb,Ac,lc,Fc,hd,Nc;if(null==ka)fb.push(M.map(za));else for(Xb={},Ac=0,lc=M.length;Ac<
lc;++Ac)Fc=M[Ac],hd=ka.map(Hb),Nc=Xb[hd],Nc||(Xb[hd]=Nc=[],Nc.dims=hd,fb.push(Nc)),Nc.push(za(Fc));return fb}function Zb(M){qa.Transform.call(this,null,M)}function nb(M){qa.Operator.call(this,null,la,M);this.modified(!0)}function la(M){const ka=M.expr;return this.value&&!M.modified("expr")?this.value:g.accessor(za=>ka(za,M),g.accessorFields(ka),g.accessorName(ka))}function Y(M){qa.Transform.call(this,[void 0,void 0],M)}function Ha(M,ka){qa.Operator.call(this,M);this.parent=ka;this.count=0}function Fa(M){qa.Transform.call(this,
{},M);this._keys=g.fastmap();const ka=this._targets=[];ka.active=0;ka.forEach=za=>{for(let fb=0,Hb=ka.active;fb<Hb;++fb)za(ka[fb],fb,ka)}}function cb(M){qa.Operator.call(this,null,aa,M)}function aa(M){return this.value&&!M.modified()?this.value:g.isArray(M.name)?g.array(M.name).map(ka=>g.field(ka)):g.field(M.name,M.as)}function ma(M){qa.Transform.call(this,g.fastmap(),M)}function p(M){qa.Transform.call(this,[],M)}function L(M){qa.Transform.call(this,[],M)}function P(M){qa.Transform.call(this,null,
M)}function f(M){qa.Transform.call(this,[],M)}function v(M,ka){return null==M||null==ka?NaN:M<ka?-1:M>ka?1:M>=ka?0:NaN}function l(M,ka){return null==M||null==ka?NaN:ka<M?-1:ka>M?1:ka>=M?0:NaN}function C(M){function ka(Xb,Ac,lc=0,Fc=Xb.length){if(lc<Fc){if(0!==za(Ac,Ac))return Fc;do{const hd=lc+Fc>>>1;0>fb(Xb[hd],Ac)?lc=hd+1:Fc=hd}while(lc<Fc)}return lc}let za,fb,Hb;2!==M.length?(za=v,fb=(Xb,Ac)=>v(M(Xb),Ac),Hb=(Xb,Ac)=>M(Xb)-Ac):(za=M===v||M===l?M:B,Hb=fb=M);return{left:ka,center:function(Xb,Ac,lc=
0,Fc=Xb.length){Fc=ka(Xb,Ac,lc,Fc-1);return Fc>lc&&Hb(Xb[Fc-1],Ac)>-Hb(Xb[Fc],Ac)?Fc-1:Fc},right:function(Xb,Ac,lc=0,Fc=Xb.length){if(lc<Fc){if(0!==za(Ac,Ac))return Fc;do{const hd=lc+Fc>>>1;0>=fb(Xb[hd],Ac)?lc=hd+1:Fc=hd}while(lc<Fc)}return lc}}}function B(){return 0}function*z(M,ka){if(void 0===ka)for(var za of M)null!=za&&(za=+za)>=za&&(yield za);else{za=-1;for(let fb of M)null!=(fb=ka(fb,++za,M))&&(fb=+fb)>=fb&&(yield fb)}}function D(M=v){if(M===v)return G;if("function"!==typeof M)throw new TypeError("compare is not a function");
return(ka,za)=>{const fb=M(ka,za);return fb||0===fb?fb:(0===M(za,za))-(0===M(ka,ka))}}function G(M,ka){return(null==M||!(M>=M))-(null==ka||!(ka>=ka))||(M<ka?-1:M>ka?1:0)}function U(M,ka){let za;if(void 0===ka)for(var fb of M)null!=fb&&(za<fb||void 0===za&&fb>=fb)&&(za=fb);else{fb=-1;for(let Hb of M)null!=(Hb=ka(Hb,++fb,M))&&(za<Hb||void 0===za&&Hb>=Hb)&&(za=Hb)}return za}function Aa(M,ka){let za;if(void 0===ka)for(var fb of M)null!=fb&&(za>fb||void 0===za&&fb>=fb)&&(za=fb);else{fb=-1;for(let Hb of M)null!=
(Hb=ka(Hb,++fb,M))&&(za>Hb||void 0===za&&Hb>=Hb)&&(za=Hb)}return za}function X(M,ka,za=0,fb=Infinity,Hb){ka=Math.floor(ka);za=Math.floor(Math.max(0,za));fb=Math.floor(Math.min(M.length-1,fb));if(!(za<=ka&&ka<=fb))return M;for(Hb=void 0===Hb?G:D(Hb);fb>za;){if(600<fb-za){var Xb=fb-za+1,Ac=ka-za+1,lc=Math.log(Xb),Fc=.5*Math.exp(2*lc/3);lc=.5*Math.sqrt(lc*Fc*(Xb-Fc)/Xb)*(0>Ac-Xb/2?-1:1);X(M,ka,Math.max(za,Math.floor(ka-Ac*Fc/Xb+lc)),Math.min(fb,Math.floor(ka+(Xb-Ac)*Fc/Xb+lc)),Hb)}Xb=M[ka];Ac=za;Fc=
fb;u(M,za,ka);for(0<Hb(M[fb],Xb)&&u(M,za,fb);Ac<Fc;){u(M,Ac,Fc);++Ac;for(--Fc;0>Hb(M[Ac],Xb);)++Ac;for(;0<Hb(M[Fc],Xb);)--Fc}0===Hb(M[za],Xb)?u(M,za,Fc):(++Fc,u(M,Fc,fb));Fc<=ka&&(za=Fc+1);ka<=Fc&&(fb=Fc-1)}return M}function u(M,ka,za){const fb=M[ka];M[ka]=M[za];M[za]=fb}function K(M,ka,za){M=+M;ka=+ka;za=2>(Hb=arguments.length)?(ka=M,M=0,1):3>Hb?1:+za;for(var fb=-1,Hb=Math.max(0,Math.ceil((ka-M)/za))|0,Xb=Array(Hb);++fb<Hb;)Xb[fb]=M+fb*za;return Xb}function ua(M){qa.Transform.call(this,[],M)}function Ja(M){var ka=
M.method||Ed.value;if(null==Ed[ka])g.error("Unrecognized imputation method: "+ka);else{if(ka===Ed.value){var za=void 0!==M.value?M.value:0;return()=>za}return Ed[ka]}}function Wa(M){const ka=M.field;return za=>za?ka(za):NaN}function ab(M,ka,za,fb){var Hb=Wd=>Wd(rd),Xb=[];fb=fb?fb.slice():[];var Ac={},lc={},Fc,hd;fb.forEach((Wd,ae)=>Ac[Wd]=ae+1);var Nc=0;for(hd=M.length;Nc<hd;++Nc){var rd=M[Nc];var Gd=za(rd);var Fd=Ac[Gd]||(Ac[Gd]=fb.push(Gd));var $d=(Gd=ka?ka.map(Hb):Zd)+"";(Fc=lc[$d])||(Fc=lc[$d]=
[],Xb.push(Fc),Fc.values=Gd);Fc[Fd-1]=rd}Xb.domain=fb;return Xb}function W(M){Bb.call(this,M)}function Ca(M){qa.Transform.call(this,null,M)}function Za(M){qa.Operator.call(this,null,Ib,M)}function Ib(M){return this.value&&!M.modified()?this.value:g.key(M.fields,M.flat)}function xc(M){qa.Transform.call(this,[],M);this._pending=null}function uc(M){return M.modified("async")&&!(M.modified("values")||M.modified("url")||M.modified("format"))}function wc(M,ka,za){za.forEach(qa.ingest);ka=ka.fork(ka.NO_FIELDS&
ka.NO_SOURCE);ka.rem=M.value;M.value=ka.source=ka.add=za;M._pending=null;ka.rem.length&&ka.clean(!0);return ka}function bd(M){qa.Transform.call(this,{},M)}function Wb(M){qa.Operator.call(this,null,Rc,M)}function Rc(M){if(this.value&&!M.modified())return this.value;M=M.extents;const ka=M.length;let za=Infinity,fb=-Infinity,Hb,Xb;for(Hb=0;Hb<ka;++Hb)Xb=M[Hb],Xb[0]<za&&(za=Xb[0]),Xb[1]>fb&&(fb=Xb[1]);return[za,fb]}function Pd(M){qa.Operator.call(this,null,Ka,M)}function Ka(M){return this.value&&!M.modified()?
this.value:M.values.reduce((ka,za)=>ka.concat(za),[])}function Ub(M){qa.Transform.call(this,null,M)}function rb(M){Bb.call(this,M)}function Sb(M,ka){const za=M.field,fb=M.value,Hb=("count"===M.op?"__count__":M.op)||"sum",Xb=g.accessorFields(za).concat(g.accessorFields(fb)),Ac=bc(za,M.limit||0,ka);ka.changed()&&M.set("__pivot__",null,null,!0);return{key:M.key,groupby:M.groupby,ops:Ac.map(()=>Hb),fields:Ac.map(lc=>fc(lc,za,fb,Xb)),as:Ac.map(lc=>lc+""),modified:M.modified.bind(M)}}function fc(M,ka,za,
fb){return g.accessor(Hb=>ka(Hb)===M?za(Hb):NaN,fb,M+"")}function bc(M,ka,za){const fb={},Hb=[];za.visit(za.SOURCE,Xb=>{Xb=M(Xb);fb[Xb]||(fb[Xb]=1,Hb.push(Xb))});Hb.sort(g.ascending);return ka?Hb.slice(0,ka):Hb}function Hc(M){Fa.call(this,M)}function zc(M){qa.Transform.call(this,null,M)}function Yc(M){qa.Transform.call(this,null,M)}function Md(M){qa.Transform.call(this,null,M)}function td(M){qa.Transform.call(this,null,M)}function Ga(M){qa.Transform.call(this,[],M);this.count=0}function gb(M){qa.Transform.call(this,
null,M)}function vb(M){qa.Transform.call(this,null,M);this.modified(!0)}function ra(M){qa.Transform.call(this,null,M)}function F(M){qa.Transform.call(this,g.fastmap(),M)}function ya(M){qa.Transform.call(this,null,M)}function La(M,ka,za,fb){const Hb=Ud[M](ka,za);return{init:Hb.init||g.zero,update:function(Xb,Ac){Ac[fb]=Hb.next(Xb)}}}function $a(M){function ka(Fd){g.array(g.accessorFields(Fd)).forEach($d=>Fc[$d]=1)}const za=g.array(M.ops),fb=g.array(M.fields),Hb=g.array(M.params),Xb=g.array(M.as),Ac=
this.outputs=[],lc=this.windows=[],Fc={},hd={},Nc=[],rd=[];let Gd=!0;ka(M.sort);za.forEach((Fd,$d)=>{const Wd=fb[$d],ae=g.accessorName(Wd),Be=Xb[$d]||Fd+(ae?"_"+ae:"");ka(Wd);Ac.push(Be);g.hasOwnProperty(Ud,Fd)?lc.push(La(Fd,fb[$d],Hb[$d],Be)):(null==Wd&&"count"!==Fd&&g.error("Null aggregate field specified."),"count"===Fd?Nc.push(Be):(Gd=!1,$d=hd[ae],$d||($d=hd[ae]=[],$d.field=Wd,rd.push($d)),$d.push(Uc[Fd](Be))))});if(Nc.length||rd.length)this.cell=jb(rd,Nc,Gd);this.inputs=Object.keys(Fc)}function jb(M,
ka,za){M=M.map(Fc=>Kb(Fc,Fc.field));const fb={num:0,agg:null,store:!1,count:ka};if(!za)for(var Hb=M.length,Xb=fb.agg=Array(Hb),Ac=0;Ac<Hb;++Ac)Xb[Ac]=new M[Ac](fb);if(fb.store)var lc=fb.data=new Ob;fb.add=function(Fc){fb.num+=1;if(!za){lc&&lc.add(Fc);for(let hd=0;hd<Hb;++hd)Xb[hd].add(Xb[hd].get(Fc),Fc)}};fb.rem=function(Fc){--fb.num;if(!za){lc&&lc.rem(Fc);for(let hd=0;hd<Hb;++hd)Xb[hd].rem(Xb[hd].get(Fc),Fc)}};fb.set=function(Fc){let hd,Nc;lc&&lc.values();hd=0;for(Nc=ka.length;hd<Nc;++hd)Fc[ka[hd]]=
fb.num;if(!za)for(hd=0,Nc=Xb.length;hd<Nc;++hd)Xb[hd].set(Fc)};fb.init=function(){fb.num=0;lc&&lc.reset();for(let Fc=0;Fc<Hb;++Fc)Xb[Fc].init()};return fb}function Fb(M){qa.Transform.call(this,{},M);this._mlen=0;this._mods=[]}function nc(M,ka,za,fb){var Hb=fb.sort;const Xb=Hb&&!fb.ignorePeers;fb=fb.frame||[null,0];M=M.data(za);za=M.length;const Ac=Xb?C(Hb):null;Hb={i0:0,i1:0,p0:0,p1:0,index:0,data:M,compare:Hb||g.constant(-1)};ka.init();for(let rd=0;rd<za;++rd){var lc=Hb,Fc=fb,hd=rd,Nc=za;lc.p0=lc.i0;
lc.p1=lc.i1;lc.i0=null==Fc[0]?0:Math.max(0,hd-Math.abs(Fc[0]));lc.i1=null==Fc[1]?Nc:Math.min(Nc,hd+Math.abs(Fc[1])+1);lc.index=hd;if(Xb){lc=Hb;Fc=Ac;hd=lc.i0;Nc=lc.i1-1;const Gd=lc.compare,Fd=lc.data,$d=Fd.length-1;0<hd&&!Gd(Fd[hd],Fd[hd-1])&&(lc.i0=Fc.left(Fd,Fd[hd]));Nc<$d&&!Gd(Fd[Nc],Fd[Nc+1])&&(lc.i1=Fc.right(Fd,Fd[Nc]))}ka.update(Hb,M[rd])}}const dc=()=>{},ic={init:dc,add:dc,rem:dc,idx:0},Uc={values:{init:M=>M.cell.store=!0,value:M=>M.cell.data.values(),idx:-1},count:{value:M=>M.cell.num},__count__:{value:M=>
M.missing+M.valid},missing:{value:M=>M.missing},valid:{value:M=>M.valid},sum:{init:M=>M.sum=0,value:M=>M.sum,add:(M,ka)=>M.sum+=+ka,rem:(M,ka)=>M.sum-=ka},product:{init:M=>M.product=1,value:M=>M.valid?M.product:void 0,add:(M,ka)=>M.product*=ka,rem:(M,ka)=>M.product/=ka},mean:{init:M=>M.mean=0,value:M=>M.valid?M.mean:void 0,add:(M,ka)=>(M.mean_d=ka-M.mean,M.mean+=M.mean_d/M.valid),rem:(M,ka)=>(M.mean_d=ka-M.mean,M.mean-=M.valid?M.mean_d/M.valid:M.mean)},average:{value:M=>M.valid?M.mean:void 0,req:["mean"],
idx:1},variance:{init:M=>M.dev=0,value:M=>1<M.valid?M.dev/(M.valid-1):void 0,add:(M,ka)=>M.dev+=M.mean_d*(ka-M.mean),rem:(M,ka)=>M.dev-=M.mean_d*(ka-M.mean),req:["mean"],idx:1},variancep:{value:M=>1<M.valid?M.dev/M.valid:void 0,req:["variance"],idx:2},stdev:{value:M=>1<M.valid?Math.sqrt(M.dev/(M.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:M=>1<M.valid?Math.sqrt(M.dev/M.valid):void 0,req:["variance"],idx:2},stderr:{value:M=>1<M.valid?Math.sqrt(M.dev/(M.valid*(M.valid-1))):void 0,req:["variance"],
idx:2},distinct:{value:M=>M.cell.data.distinct(M.get),req:["values"],idx:3},ci0:{value:M=>M.cell.data.ci0(M.get),req:["values"],idx:3},ci1:{value:M=>M.cell.data.ci1(M.get),req:["values"],idx:3},median:{value:M=>M.cell.data.q2(M.get),req:["values"],idx:3},q1:{value:M=>M.cell.data.q1(M.get),req:["values"],idx:3},q3:{value:M=>M.cell.data.q3(M.get),req:["values"],idx:3},min:{init:M=>M.min=void 0,value:M=>M.min=Number.isNaN(M.min)?M.cell.data.min(M.get):M.min,add:(M,ka)=>{if(ka<M.min||void 0===M.min)M.min=
ka},rem:(M,ka)=>{ka<=M.min&&(M.min=NaN)},req:["values"],idx:4},max:{init:M=>M.max=void 0,value:M=>M.max=Number.isNaN(M.max)?M.cell.data.max(M.get):M.max,add:(M,ka)=>{if(ka>M.max||void 0===M.max)M.max=ka},rem:(M,ka)=>{ka>=M.max&&(M.max=NaN)},req:["values"],idx:4},argmin:{init:M=>M.argmin=void 0,value:M=>M.argmin||M.cell.data.argmin(M.get),add:(M,ka,za)=>{ka<M.min&&(M.argmin=za)},rem:(M,ka)=>{ka<=M.min&&(M.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:M=>M.argmax=void 0,value:M=>M.argmax||
M.cell.data.argmax(M.get),add:(M,ka,za)=>{ka>M.max&&(M.argmax=za)},rem:(M,ka)=>{ka>=M.max&&(M.argmax=void 0)},req:["max","values"],idx:3}},cd=Object.keys(Uc).filter(M=>"__count__"!==M);[...cd,"__count__"].forEach(M=>{Uc[M]=kc(M,Uc[M])});const dd=Ob.prototype;dd.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};dd.add=function(M){this._add.push(M)};dd.rem=function(M){this._rem.push(M)};dd.values=function(){this._get=null;if(0===this._rem.length)return this._add;const M=this._add;
var ka=this._rem;const za=this._key,fb=M.length,Hb=ka.length,Xb=Array(fb-Hb),Ac={};let lc,Fc;for(lc=0;lc<Hb;++lc)Ac[za(ka[lc])]=1;for(ka=lc=0;lc<fb;++lc)Ac[za(Fc=M[lc])]?Ac[za(Fc)]=0:Xb[ka++]=Fc;this._rem=[];return this._add=Xb};dd.distinct=function(M){const ka=this.values(),za={};let fb=ka.length,Hb=0,Xb;for(;0<=--fb;)Xb=M(ka[fb])+"",g.hasOwnProperty(za,Xb)||(za[Xb]=1,++Hb);return Hb};dd.extent=function(M){if(this._get!==M||!this._ext){const ka=this.values(),za=g.extentIndex(ka,M);this._ext=[ka[za[0]],
ka[za[1]]];this._get=M}return this._ext};dd.argmin=function(M){return this.extent(M)[0]||{}};dd.argmax=function(M){return this.extent(M)[1]||{}};dd.min=function(M){const ka=this.extent(M)[0];return null!=ka?M(ka):void 0};dd.max=function(M){const ka=this.extent(M)[1];return null!=ka?M(ka):void 0};dd.quartile=function(M){this._get===M&&this._q||(this._q=hb.quartiles(this.values(),M),this._get=M);return this._q};dd.q1=function(M){return this.quartile(M)[0]};dd.q2=function(M){return this.quartile(M)[1]};
dd.q3=function(M){return this.quartile(M)[2]};dd.ci=function(M){this._get===M&&this._ci||(this._ci=hb.bootstrapCI(this.values(),1E3,.05,M),this._get=M);return this._ci};dd.ci0=function(M){return this.ci(M)[0]};dd.ci1=function(M){return this.ci(M)[1]};Bb.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:cd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},
{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};g.inherits(Bb,qa.Transform,{transform(M,ka){const za=this,fb=ka.fork(ka.NO_SOURCE|ka.NO_FIELDS),Hb=M.modified();za.stamp=fb.stamp;za.value&&(Hb||ka.modified(za._inputs,!0))?(za._prev=za.value,za.value=Hb?za.init(M):Object.create(null),ka.visit(ka.SOURCE,Xb=>za.add(Xb))):(za.value=za.value||za.init(M),ka.visit(ka.REM,Xb=>za.rem(Xb)),ka.visit(ka.ADD,Xb=>za.add(Xb)));fb.modifies(za._outputs);
za._drop=!1!==M.drop;M.cross&&1<za._dims.length&&(za._drop=!1,za.cross());ka.clean()&&za._drop&&fb.clean(!0).runAfter(()=>this.clean());return za.changes(fb)},cross(){function M(lc){let Fc,hd,Nc,rd;for(Fc in lc)for(Nc=lc[Fc].tuple,hd=0;hd<Ac;++hd)Xb[hd][rd=Nc[Hb[hd]]]=rd}function ka(lc,Fc,hd){const Nc=Hb[hd],rd=Xb[hd++];for(const Gd in rd){const Fd=lc?lc+"|"+Gd:Gd;Fc[Nc]=rd[Gd];hd<Ac?ka(Fd,Fc,hd):fb[Fd]||za.cell(Fd,Fc)}}const za=this,fb=za.value,Hb=za._dnames,Xb=Hb.map(()=>({})),Ac=Hb.length;M(za._prev);
M(fb);ka("",{},0)},init(M){function ka(Wd){Wd=g.array(g.accessorFields(Wd));const ae=Wd.length;let Be=0,ff;for(;Be<ae;++Be)Hb[ff=Wd[Be]]||(Hb[ff]=1,za.push(ff))}const za=this._inputs=[],fb=this._outputs=[],Hb={};this._dims=g.array(M.groupby);this._dnames=this._dims.map(Wd=>{const ae=g.accessorName(Wd);ka(Wd);fb.push(ae);return ae});this.cellkey=M.key?M.key:oc(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Xb=M.fields||[null],Ac=M.ops||["count"];M=M.as||[];const lc=Xb.length,
Fc={};let hd,Nc,rd,Gd,Fd,$d;lc!==Ac.length&&g.error("Unmatched number of fields and aggregate ops.");for($d=0;$d<lc;++$d)hd=Xb[$d],Nc=Ac[$d],null==hd&&"count"!==Nc&&g.error("Null aggregate field specified."),Gd=g.accessorName(hd),Fd=M[$d]||Nc+(Gd?"_"+Gd:""),fb.push(Fd),"count"===Nc?this._counts.push(Fd):(rd=Fc[Gd],rd||(ka(hd),rd=Fc[Gd]=[],rd.field=hd,this._measures.push(rd)),"count"!==Nc&&(this._countOnly=!1),rd.push(Uc[Nc](Fd)));this._measures=this._measures.map(Wd=>Kb(Wd,Wd.field));return Object.create(null)},
cellkey:oc(),cell(M,ka){let za=this.value[M];za?0===za.num&&this._drop&&za.stamp<this.stamp?(za.stamp=this.stamp,this._adds[this._alen++]=za):za.stamp<this.stamp&&(za.stamp=this.stamp,this._mods[this._mlen++]=za):(za=this.value[M]=this.newcell(M,ka),this._adds[this._alen++]=za);return za},newcell(M,ka){M={key:M,num:0,agg:null,tuple:this.newtuple(ka,this._prev&&this._prev[M]),stamp:this.stamp,store:!1};if(!this._countOnly){ka=this._measures;const za=ka.length;M.agg=Array(za);for(let fb=0;fb<za;++fb)M.agg[fb]=
new ka[fb](M)}M.store&&(M.data=new Ob);return M},newtuple(M,ka){const za=this._dnames,fb=this._dims,Hb=fb.length,Xb={};for(let Ac=0;Ac<Hb;++Ac)Xb[za[Ac]]=fb[Ac](M);return ka?qa.replace(ka.tuple,Xb):qa.ingest(Xb)},clean(){const M=this.value;for(const ka in M)0===M[ka].num&&delete M[ka]},add(M){var ka=this.cellkey(M);ka=this.cell(ka,M);ka.num+=1;if(!this._countOnly){ka.store&&ka.data.add(M);ka=ka.agg;for(let za=0,fb=ka.length;za<fb;++za)ka[za].add(ka[za].get(M),M)}},rem(M){var ka=this.cellkey(M);ka=
this.cell(ka,M);--ka.num;if(!this._countOnly){ka.store&&ka.data.rem(M);ka=ka.agg;for(let za=0,fb=ka.length;za<fb;++za)ka[za].rem(ka[za].get(M),M)}},celltuple(M){const ka=M.tuple,za=this._counts;M.store&&M.data.values();for(let fb=0,Hb=za.length;fb<Hb;++fb)ka[za[fb]]=M.num;if(!this._countOnly){M=M.agg;for(let fb=0,Hb=M.length;fb<Hb;++fb)M[fb].set(ka)}return ka},changes(M){const ka=this._adds,za=this._mods;var fb=this._prev;const Hb=this._drop,Xb=M.add,Ac=M.rem,lc=M.mod;let Fc;var hd;if(fb)for(hd in fb)Fc=
fb[hd],Hb&&!Fc.num||Ac.push(Fc.tuple);fb=0;for(hd=this._alen;fb<hd;++fb)Xb.push(this.celltuple(ka[fb])),ka[fb]=null;fb=0;for(hd=this._mlen;fb<hd;++fb)Fc=za[fb],(0===Fc.num&&Hb?Ac:lc).push(this.celltuple(Fc)),za[fb]=null;this._alen=this._mlen=0;this._prev=null;return M}});Pb.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",
type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};g.inherits(Pb,qa.Transform,{transform(M,ka){const za=!1!==M.interval,fb=this._bins(M),
Hb=fb.start,Xb=fb.step,Ac=M.as||["bin0","bin1"],lc=Ac[0],Fc=Ac[1];M.modified()?(ka=ka.reflow(!0),M=ka.SOURCE):M=ka.modified(g.accessorFields(M.field))?ka.ADD_MOD:ka.ADD;ka.visit(M,za?hd=>{const Nc=fb(hd);hd[lc]=Nc;hd[Fc]=null==Nc?null:Hb+Xb*(1+(Nc-Hb)/Xb)}:hd=>hd[lc]=fb(hd));return ka.modifies(za?Ac:lc)},_bins(M){if(this.value&&!M.modified())return this.value;const ka=M.field,za=hb.bin(M),fb=za.step;let Hb=za.start,Xb=Hb+Math.ceil((za.stop-Hb)/fb)*fb;var Ac;null!=(Ac=M.anchor)&&(Ac-=Hb+fb*Math.floor((Ac-
Hb)/fb),Hb+=Ac,Xb+=Ac);Ac=function(lc){lc=g.toNumber(ka(lc));return null==lc?null:lc<Hb?-Infinity:lc>Xb?Infinity:(lc=Math.max(Hb,Math.min(lc,Xb-fb)),Hb+fb*Math.floor(1E-14+(lc-Hb)/fb))};Ac.start=Hb;Ac.stop=za.stop;Ac.step=fb;return this.value=g.accessor(Ac,g.accessorFields(ka),M.name||"bin_"+g.accessorName(ka))}});pb.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};g.inherits(pb,qa.Transform,{transform(M,ka){const za=ka.fork(ka.ALL),fb=Ua(qa.tupleid,this.value,
za.materialize(za.ADD).add),Hb=M.sort;M=ka.changed()||Hb&&(M.modified("sort")||ka.modified(Hb.fields));za.visit(za.REM,fb.remove);this.modified(M);this.value=za.source=fb.data(qa.stableCompare(Hb),M);ka.source&&ka.source.root&&(this.value.root=ka.source.root);return za}});g.inherits(Oa,qa.Operator);Pa.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",
type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};g.inherits(Pa,qa.Transform,{transform(M,ka){var za=Nc=>rd=>{rd=lc(rd);var Gd=Xb;switch(M.case){case "upper":rd=rd.toUpperCase();break;case "lower":rd=rd.toLowerCase()}rd=rd.match(Gd)||[];var Fd;Gd=0;for(var $d=rd.length;Gd<$d;++Gd)Ac.test(Fd=rd[Gd])||Nc(Fd)};const fb=this._parameterCheck(M,ka),Hb=this._counts,Xb=this._match,Ac=this._stop,lc=M.field,
Fc=M.as||["text","count"],hd=za(Nc=>Hb[Nc]=1+(Hb[Nc]||0));za=za(Nc=>--Hb[Nc]);fb?ka.visit(ka.SOURCE,hd):(ka.visit(ka.ADD,hd),ka.visit(ka.REM,za));return this._finish(ka,Fc)},_parameterCheck(M,ka){let za=!1;if(M.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(M.stopwords||"")+"$","i"),za=!0;if(M.modified("pattern")||!this._match)this._match=new RegExp(M.pattern||"[\\w']+","g"),za=!0;if(M.modified("field")||ka.modified(M.field.fields))za=!0;za&&(this._counts={});return za},_finish(M,ka){const za=
this._counts,fb=this._tuples||(this._tuples={}),Hb=ka[0],Xb=ka[1];M=M.fork(M.NO_SOURCE|M.NO_FIELDS);let Ac,lc,Fc;for(Ac in za)lc=fb[Ac],Fc=za[Ac]||0,!lc&&Fc?(fb[Ac]=lc=qa.ingest({}),lc[Hb]=Ac,lc[Xb]=Fc,M.add.push(lc)):0===Fc?(lc&&M.rem.push(lc),za[Ac]=null,fb[Ac]=null):lc[Xb]!==Fc&&(lc[Xb]=Fc,M.mod.push(lc));return M.modifies(ka)}});kb.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};g.inherits(kb,
qa.Transform,{transform(M,ka){const za=ka.fork(ka.NO_SOURCE),fb=M.as||["a","b"],Hb=fb[0],Xb=fb[1];var Ac=!this.value||ka.changed(ka.ADD_REM)||M.modified("as")||M.modified("filter"),lc=this.value;if(Ac){lc&&(za.rem=lc);ka=lc=ka.materialize(ka.SOURCE).source;M=M.filter||g.truthy;Ac=[];lc={};for(var Fc=ka.length,hd=0,Nc,rd;hd<Fc;++hd)for(lc[Hb]=rd=ka[hd],Nc=0;Nc<Fc;++Nc)lc[Xb]=ka[Nc],M(lc)&&(Ac.push(qa.ingest(lc)),lc={},lc[Hb]=rd);za.add=this.value=Ac}else za.mod=lc;za.source=this.value;return za.modifies(fb)}});
const Qd={kde:hb.randomKDE,mixture:hb.randomMixture,normal:hb.randomNormal,lognormal:hb.randomLogNormal,uniform:hb.randomUniform},Td=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},
params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Na.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Td.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:Td},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};g.inherits(Na,qa.Transform,{transform(M,ka){const za=ka.fork(ka.NO_SOURCE|ka.NO_FIELDS);if(!this.value||ka.changed()||M.modified()){const fb=lb(M.distribution,xb(ka));ka=M.steps||M.minsteps||25;const Hb=M.steps||M.maxsteps||200;let Xb=M.method||"pdf";"pdf"!==Xb&&"cdf"!==Xb&&g.error("Invalid density method: "+Xb);M.extent||fb.data||g.error("Missing density extent parameter.");
Xb=fb[Xb];const Ac=M.as||["value","density"];M=M.extent||g.extent(fb.data());M=hb.sampleCurve(Xb,M,ka,Hb).map(lc=>{const Fc={};Fc[Ac[0]]=lc[0];Fc[Ac[1]]=lc[1];return qa.ingest(Fc)});this.value&&(za.rem=this.value);this.value=za.add=za.source=M}return za}});Zb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
g.inherits(Zb,qa.Transform,{transform(M,ka){if(this.value&&!M.modified()&&!ka.changed())return ka;var za=ka.materialize(ka.SOURCE).source;const fb=Nb(ka.source,M.groupby,g.identity),Hb=M.smooth||!1,Xb=M.field;za=M.step||g.span(g.extent(za,Xb))/30;const Ac=qa.stableCompare((Gd,Fd)=>Xb(Gd)-Xb(Fd));M=M.as||"bin";const lc=fb.length;let Fc=Infinity,hd=-Infinity,Nc=0,rd;for(;Nc<lc;++Nc){const Gd=fb[Nc].sort(Ac);rd=-1;for(const Fd of hb.dotbin(Gd,za,Hb,Xb))Fd<Fc&&(Fc=Fd),Fd>hd&&(hd=Fd),Gd[++rd][M]=Fd}this.value=
{start:Fc,stop:hd,step:za};return ka.reflow(!0).modifies(M)}});g.inherits(nb,qa.Operator);Y.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};g.inherits(Y,qa.Transform,{transform(M,ka){var za=this.value;const fb=M.field;M=ka.changed()||ka.modified(fb.fields)||M.modified("field");let Hb=za[0],Xb=za[1];if(M||null==Hb)Hb=Infinity,Xb=-Infinity;ka.visit(M?ka.SOURCE:ka.ADD,Ac=>{Ac=g.toNumber(fb(Ac));null!=Ac&&(Ac<Hb&&(Hb=Ac),Ac>Xb&&(Xb=Ac))});Number.isFinite(Hb)&&Number.isFinite(Xb)||
((za=g.accessorName(fb))&&(za=` for field "${za}"`),ka.dataflow.warn(`Infinite extent${za}: [${Hb}, ${Xb}]`),Hb=Xb=void 0);this.value=[Hb,Xb]}});g.inherits(Ha,qa.Operator,{connect(M){this.detachSubflow=M.detachSubflow;this.targets().add(M);return M.source=this},add(M){this.count+=1;this.value.add.push(M)},rem(M){--this.count;this.value.rem.push(M)},mod(M){this.value.mod.push(M)},init(M){this.value.init(M,M.NO_SOURCE)},evaluate(){return this.value}});g.inherits(Fa,qa.Transform,{activate(M){this._targets[this._targets.active++]=
M},subflow(M,ka,za,fb){const Hb=this.value;let Xb=g.hasOwnProperty(Hb,M)&&Hb[M],Ac;Xb?Xb.value.stamp<za.stamp&&(Xb.init(za),this.activate(Xb)):(Ac=fb||(Ac=this._group[M])&&Ac.tuple,fb=za.dataflow,Xb=new Ha(za.fork(za.NO_SOURCE),this),fb.add(Xb).connect(ka(fb,M,Ac)),Hb[M]=Xb,this.activate(Xb));return Xb},clean(){var M=this.value;let ka=0;for(const za in M)if(0===M[za].count){const fb=M[za].detachSubflow;fb&&fb();delete M[za];++ka}ka&&(M=this._targets.filter(za=>za&&0<za.count),this.initTargets(M))},
initTargets(M){const ka=this._targets,za=ka.length,fb=M?M.length:0;let Hb=0;for(;Hb<fb;++Hb)ka[Hb]=M[Hb];for(;Hb<za&&null!=ka[Hb];++Hb)ka[Hb]=null;ka.active=fb},transform(M,ka){const za=ka.dataflow,fb=M.key,Hb=M.subflow,Xb=this._keys,Ac=M.modified("key"),lc=Fc=>this.subflow(Fc,Hb,ka);this._group=M.group||{};this.initTargets();ka.visit(ka.REM,Fc=>{const hd=qa.tupleid(Fc),Nc=Xb.get(hd);void 0!==Nc&&(Xb.delete(hd),lc(Nc).rem(Fc))});ka.visit(ka.ADD,Fc=>{const hd=fb(Fc);Xb.set(qa.tupleid(Fc),hd);lc(hd).add(Fc)});
Ac||ka.modified(fb.fields)?ka.visit(ka.MOD,Fc=>{const hd=qa.tupleid(Fc),Nc=Xb.get(hd),rd=fb(Fc);Nc===rd?lc(rd).mod(Fc):(Xb.set(hd,rd),lc(Nc).rem(Fc),lc(rd).add(Fc))}):ka.changed(ka.MOD)&&ka.visit(ka.MOD,Fc=>{lc(Xb.get(qa.tupleid(Fc))).mod(Fc)});Ac&&ka.visit(ka.REFLOW,Fc=>{const hd=qa.tupleid(Fc),Nc=Xb.get(hd),rd=fb(Fc);Nc!==rd&&(Xb.set(hd,rd),lc(Nc).rem(Fc),lc(rd).add(Fc))});ka.clean()?za.runAfter(()=>{this.clean();Xb.clean()}):Xb.empty>za.cleanThreshold&&za.runAfter(Xb.clean);return ka}});g.inherits(cb,
qa.Operator);ma.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};g.inherits(ma,qa.Transform,{transform(M,ka){function za(rd){const Gd=qa.tupleid(rd),Fd=hd(rd,M),$d=Hb.get(Gd);Fd&&$d?(Hb.delete(Gd),Ac.push(rd)):Fd||$d?Nc&&Fd&&!$d&&Fc.push(rd):(Hb.set(Gd,1),lc.push(rd))}const fb=ka.dataflow,Hb=this.value,Xb=ka.fork(),Ac=Xb.add,lc=Xb.rem,Fc=Xb.mod,hd=M.expr;let Nc=!0;ka.visit(ka.REM,rd=>{const Gd=qa.tupleid(rd);Hb.has(Gd)?Hb.delete(Gd):lc.push(rd)});ka.visit(ka.ADD,
rd=>{hd(rd,M)?Ac.push(rd):Hb.set(qa.tupleid(rd),1)});ka.visit(ka.MOD,za);M.modified()&&(Nc=!1,ka.visit(ka.REFLOW,za));Hb.empty>fb.cleanThreshold&&fb.runAfter(Hb.clean);return Xb}});p.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};g.inherits(p,qa.Transform,{transform(M,ka){const za=ka.fork(ka.NO_SOURCE),fb=M.fields,Hb=ob(fb,M.as||[]),Xb=M.index||null,Ac=Hb.length;za.rem=this.value;
ka.visit(ka.SOURCE,lc=>{const Fc=fb.map($d=>$d(lc)),hd=Fc.reduce(($d,Wd)=>Math.max($d,Wd.length),0);let Nc=0,rd,Gd,Fd;for(;Nc<hd;++Nc){Gd=qa.derive(lc);for(rd=0;rd<Ac;++rd)Gd[Hb[rd]]=null==(Fd=Fc[rd][Nc])?null:Fd;Xb&&(Gd[Xb]=Nc);za.add.push(Gd)}});this.value=za.source=za.add;Xb&&za.modifies(Xb);return za.modifies(Hb)}});L.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};
g.inherits(L,qa.Transform,{transform(M,ka){const za=ka.fork(ka.NO_SOURCE),fb=M.fields,Hb=fb.map(g.accessorName);M=M.as||["key","value"];const Xb=M[0],Ac=M[1],lc=fb.length;za.rem=this.value;ka.visit(ka.SOURCE,Fc=>{for(let hd=0,Nc;hd<lc;++hd)Nc=qa.derive(Fc),Nc[Xb]=Hb[hd],Nc[Ac]=fb[hd](Fc),za.add.push(Nc)});this.value=za.source=za.add;return za.modifies(M)}});P.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",
type:"boolean"}]};g.inherits(P,qa.Transform,{transform(M,ka){const za=M.expr,fb=M.as,Hb=M.modified(),Xb=M.initonly?ka.ADD:Hb?ka.SOURCE:ka.modified(za.fields)||ka.modified(fb)?ka.ADD_MOD:ka.ADD;Hb&&(ka=ka.materialize().reflow(!0));M.initonly||ka.modifies(fb);return ka.visit(Xb,Ac=>Ac[fb]=za(Ac,M))}});g.inherits(f,qa.Transform,{transform(M,ka){ka=ka.fork(ka.ALL);const za=M.generator;let fb=this.value,Hb=M.size-fb.length,Xb,Ac;if(0<Hb){for(Xb=[];0<=--Hb;)Xb.push(Ac=qa.ingest(za(M))),fb.push(Ac);ka.add=
ka.add.length?ka.materialize(ka.ADD).add.concat(Xb):Xb}else M=fb.slice(0,-Hb),ka.rem=ka.rem.length?ka.materialize(ka.REM).rem.concat(M):M,fb=fb.slice(-Hb);ka.source=this.value=fb;return ka}});const Ed={value:"value",median:function(M,ka){var za=.5;M=Float64Array.from(z(M,ka));if((ka=M.length)&&!isNaN(za=+za))if(0>=za||2>ka)M=Aa(M);else if(1<=za)M=U(M);else{za*=ka-1;ka=Math.floor(za);var fb=U(X(M,ka).subarray(0,ka+1));M=Aa(M.subarray(ka+1));M=fb+(M-fb)*(za-ka)}else M=void 0;return M},mean:function(M,
ka){let za=0,fb=0;if(void 0===ka)for(var Hb of M)null!=Hb&&(Hb=+Hb)>=Hb&&(++za,fb+=Hb);else{Hb=-1;for(let Xb of M)null!=(Xb=ka(Xb,++Hb,M))&&(Xb=+Xb)>=Xb&&(++za,fb+=Xb)}if(za)return fb/za},min:Aa,max:U},Zd=[];ua.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},
{name:"value","default":0}]};g.inherits(ua,qa.Transform,{transform(M,ka){var za=ka.fork(ka.ALL),fb=Ja(M),Hb=Wa(M),Xb=g.accessorName(M.field),Ac=g.accessorName(M.key),lc=(M.groupby||[]).map(g.accessorName);M=ab(ka.source,M.groupby,M.key,M.keyvals);ka=[];var Fc=this.value,hd=M.domain.length,Nc,rd,Gd;var Fd=0;for(rd=M.length;Fd<rd;++Fd){var $d=M[Fd];var Wd=$d.values;var ae=NaN;for(Nc=0;Nc<hd;++Nc)if(null==$d[Nc]){var Be=M.domain[Nc];var ff={_impute:!0};var df=0;for(Gd=Wd.length;df<Gd;++df)ff[lc[df]]=
Wd[df];ff[Ac]=Be;ff[Xb]=Number.isNaN(ae)?ae=fb($d,Hb):ae;ka.push(qa.ingest(ff))}}ka.length&&(za.add=za.materialize(za.ADD).add.concat(ka));Fc.length&&(za.rem=za.materialize(za.REM).rem.concat(Fc));this.value=ka;return za}});W.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:cd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};g.inherits(W,
Bb,{transform(M,ka){const za=this,fb=M.modified();let Hb;za.value&&(fb||ka.modified(za._inputs,!0))?(Hb=za.value=fb?za.init(M):{},ka.visit(ka.SOURCE,Xb=>za.add(Xb))):(Hb=za.value=za.value||this.init(M),ka.visit(ka.REM,Xb=>za.rem(Xb)),ka.visit(ka.ADD,Xb=>za.add(Xb)));za.changes();ka.visit(ka.SOURCE,Xb=>{g.extend(Xb,Hb[za.cellkey(Xb)].tuple)});return ka.reflow(fb).modifies(this._outputs)},changes(){const M=this._adds,ka=this._mods;let za,fb;za=0;for(fb=this._alen;za<fb;++za)this.celltuple(M[za]),M[za]=
null;za=0;for(fb=this._mlen;za<fb;++za)this.celltuple(ka[za]),ka[za]=null;this._alen=this._mlen=0}});Ca.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};g.inherits(Ca,qa.Transform,{transform(M,ka){const za=ka.fork(ka.NO_SOURCE|ka.NO_FIELDS);if(!this.value||ka.changed()||M.modified()){ka=ka.materialize(ka.SOURCE).source;const fb=Nb(ka,M.groupby,M.field),Hb=(M.groupby||[]).map(g.accessorName),Xb=M.bandwidth,Ac=M.cumulative?"cdf":"pdf",lc=M.as||["value","density"],Fc=
[];let hd=M.extent,Nc=M.steps||M.minsteps||25,rd=M.steps||M.maxsteps||200;"pdf"!==Ac&&"cdf"!==Ac&&g.error("Invalid density method: "+Ac);"shared"===M.resolve&&(hd||(hd=g.extent(ka,M.field)),Nc=rd=M.steps||rd);fb.forEach(Gd=>{const Fd=hb.randomKDE(Gd,Xb)[Ac],$d=M.counts?Gd.length:1,Wd=hd||g.extent(Gd);hb.sampleCurve(Fd,Wd,Nc,rd).forEach(ae=>{const Be={};for(let ff=0;ff<Hb.length;++ff)Be[Hb[ff]]=Gd.dims[ff];Be[lc[0]]=ae[0];Be[lc[1]]=ae[1]*$d;Fc.push(qa.ingest(Be))})});this.value&&(za.rem=this.value);
this.value=za.add=za.source=Fc}return za}});g.inherits(Za,qa.Operator);g.inherits(xc,qa.Transform,{transform(M,ka){const za=ka.dataflow;return this._pending?wc(this,ka,this._pending):uc(M)?ka.StopPropagation:M.values?wc(this,ka,za.parse(M.values,M.format)):M.async?{async:za.request(M.url,M.format).then(fb=>{this._pending=g.array(fb.data);return Hb=>Hb.touch(this)})}:za.request(M.url,M.format).then(fb=>wc(this,ka,g.array(fb.data)))}});bd.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};g.inherits(bd,qa.Transform,{transform(M,ka){const za=M.fields,fb=M.index,Hb=M.values,Xb=null==M.default?null:M.default;var Ac=M.modified();const lc=za.length;let Fc=Ac?ka.SOURCE:ka.ADD,hd=ka,Nc=M.as,rd;Hb?(rd=Hb.length,1<lc&&!Nc&&g.error('Multi-field lookup requires explicit "as" parameter.'),
Nc&&Nc.length!==lc*rd&&g.error('The "as" parameter has too few output field names.'),Nc=Nc||Hb.map(g.accessorName),M=function(Gd){for(var Fd=0,$d=0,Wd,ae;Fd<lc;++Fd)if(ae=fb.get(za[Fd](Gd)),null==ae)for(Wd=0;Wd<rd;++Wd,++$d)Gd[Nc[$d]]=Xb;else for(Wd=0;Wd<rd;++Wd,++$d)Gd[Nc[$d]]=Hb[Wd](ae)}):(Nc||g.error("Missing output field names."),M=function(Gd){for(var Fd=0,$d;Fd<lc;++Fd)$d=fb.get(za[Fd](Gd)),Gd[Nc[Fd]]=null==$d?Xb:$d});Ac?hd=ka.reflow(!0):(Ac=za.some(Gd=>ka.modified(Gd.fields)),Fc|=Ac?ka.MOD:
0);ka.visit(Fc,M);return hd.modifies(Nc)}});g.inherits(Wb,qa.Operator);g.inherits(Pd,qa.Operator);g.inherits(Ub,qa.Transform,{transform(M,ka){this.modified(M.modified());this.value=M;return ka.fork(ka.NO_SOURCE|ka.NO_FIELDS)}});rb.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:cd,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};g.inherits(rb,Bb,{_transform:Bb.prototype.transform,transform(M,ka){return this._transform(Sb(M,ka),ka)}});g.inherits(Hc,Fa,{transform(M,ka){const za=M.subflow,fb=M.field,Hb=Xb=>this.subflow(qa.tupleid(Xb),za,ka,Xb);(M.modified("field")||fb&&ka.modified(g.accessorFields(fb)))&&g.error("PreFacet does not support field modification.");this.initTargets();fb?(ka.visit(ka.MOD,Xb=>{const Ac=Hb(Xb);fb(Xb).forEach(lc=>Ac.mod(lc))}),ka.visit(ka.ADD,Xb=>{const Ac=Hb(Xb);fb(Xb).forEach(lc=>
Ac.add(qa.ingest(lc)))}),ka.visit(ka.REM,Xb=>{const Ac=Hb(Xb);fb(Xb).forEach(lc=>Ac.rem(lc))})):(ka.visit(ka.MOD,Xb=>Hb(Xb).mod(Xb)),ka.visit(ka.ADD,Xb=>Hb(Xb).add(Xb)),ka.visit(ka.REM,Xb=>Hb(Xb).rem(Xb)));ka.clean()&&ka.runAfter(()=>this.clean());return ka}});zc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};g.inherits(zc,qa.Transform,{transform(M,ka){const za=ka.fork(ka.NO_SOURCE),fb=M.fields,
Hb=ob(M.fields,M.as||[]),Xb=fb?(lc,Fc)=>{for(let hd=0,Nc=fb.length;hd<Nc;++hd)Fc[Hb[hd]]=fb[hd](lc);return Fc}:qa.rederive;let Ac;this.value?Ac=this.value:(ka=ka.addAll(),Ac=this.value={});ka.visit(ka.REM,lc=>{lc=qa.tupleid(lc);za.rem.push(Ac[lc]);Ac[lc]=null});ka.visit(ka.ADD,lc=>{const Fc=Xb(lc,qa.ingest({}));Ac[qa.tupleid(lc)]=Fc;za.add.push(Fc)});ka.visit(ka.MOD,lc=>{za.mod.push(Xb(lc,Ac[qa.tupleid(lc)]))});return za}});g.inherits(Yc,qa.Transform,{transform(M,ka){this.value=M.value;return M.modified("value")?
ka.fork(ka.NO_SOURCE|ka.NO_FIELDS):ka.StopPropagation}});Md.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};g.inherits(Md,qa.Transform,{transform(M,ka){const za=ka.fork(ka.NO_SOURCE|ka.NO_FIELDS),fb=M.as||["prob","value"];if(this.value&&!M.modified()&&!ka.changed())return za.source=
this.value,za;ka=ka.materialize(ka.SOURCE).source;ka=Nb(ka,M.groupby,M.field);const Hb=(M.groupby||[]).map(g.accessorName),Xb=[],Ac=M.step||.01,lc=M.probs||K(Ac/2,1-1E-14,Ac),Fc=lc.length;ka.forEach(hd=>{const Nc=hb.quantiles(hd,lc);for(let rd=0;rd<Fc;++rd){const Gd={};for(let Fd=0;Fd<Hb.length;++Fd)Gd[Hb[Fd]]=hd.dims[Fd];Gd[fb[0]]=lc[rd];Gd[fb[1]]=Nc[rd];Xb.push(qa.ingest(Gd))}});this.value&&(za.rem=this.value);this.value=za.add=za.source=Xb;return za}});g.inherits(td,qa.Transform,{transform(M,ka){let za,
fb;this.value?fb=this.value:(za=ka=ka.addAll(),fb=this.value={});M.derive&&(za=ka.fork(ka.NO_SOURCE),ka.visit(ka.REM,Hb=>{Hb=qa.tupleid(Hb);za.rem.push(fb[Hb]);fb[Hb]=null}),ka.visit(ka.ADD,Hb=>{const Xb=qa.derive(Hb);fb[qa.tupleid(Hb)]=Xb;za.add.push(Xb)}),ka.visit(ka.MOD,Hb=>{const Xb=fb[qa.tupleid(Hb)];for(const Ac in Hb)Xb[Ac]=Hb[Ac],za.modifies(Ac);za.mod.push(Xb)}));return za}});Ga.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};g.inherits(Ga,qa.Transform,
{transform(M,ka){function za(Nc){let rd,Gd;lc.length<Xb?lc.push(Nc):(Gd=~~((Fc+1)*hb.random()),Gd<lc.length&&Gd>=hd&&(rd=lc[Gd],Ac[qa.tupleid(rd)]&&fb.rem.push(rd),lc[Gd]=Nc));++Fc}const fb=ka.fork(ka.NO_SOURCE);var Hb=M.modified("size");const Xb=M.size,Ac=this.value.reduce((Nc,rd)=>(Nc[qa.tupleid(rd)]=1,Nc),{});let lc=this.value,Fc=this.count,hd=0;ka.rem.length&&(ka.visit(ka.REM,Nc=>{const rd=qa.tupleid(Nc);Ac[rd]&&(Ac[rd]=-1,fb.rem.push(Nc));--Fc}),lc=lc.filter(Nc=>-1!==Ac[qa.tupleid(Nc)]));(ka.rem.length||
Hb)&&lc.length<Xb&&ka.source&&(hd=Fc=lc.length,ka.visit(ka.SOURCE,Nc=>{Ac[qa.tupleid(Nc)]||za(Nc)}),hd=-1);if(Hb&&lc.length>Xb){M=lc.length-Xb;for(Hb=0;Hb<M;++Hb)Ac[qa.tupleid(lc[Hb])]=-1,fb.rem.push(lc[Hb]);lc=lc.slice(M)}ka.mod.length&&ka.visit(ka.MOD,Nc=>{Ac[qa.tupleid(Nc)]&&fb.mod.push(Nc)});ka.add.length&&ka.visit(ka.ADD,za);if(ka.add.length||0>hd)fb.add=lc.filter(Nc=>!Ac[qa.tupleid(Nc)]);this.count=Fc;this.value=fb.source=lc;return fb}});gb.Definition={type:"Sequence",metadata:{generates:!0,
changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};g.inherits(gb,qa.Transform,{transform(M,ka){if(!this.value||M.modified()){var za=ka.materialize().fork(ka.MOD),fb=M.as||"data";za.rem=this.value?ka.rem.concat(this.value):ka.rem;this.value=K(M.start,M.stop,M.step||1).map(Hb=>{const Xb={};Xb[fb]=Hb;return qa.ingest(Xb)});za.add=ka.add.concat(this.value);return za}}});
g.inherits(vb,qa.Transform,{transform(M,ka){this.value=ka.source;return ka.changed()?ka.fork(ka.NO_SOURCE|ka.NO_FIELDS):ka.StopPropagation}});const de=["unit0","unit1"];ra.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:Gb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",
type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":de}]};g.inherits(ra,qa.Transform,{transform(M,ka){const za=M.field,fb=!1!==M.interval;var Hb="utc"===M.timezone;const Xb=this._floor(M,ka),Ac=(Hb?Gb.utcInterval:Gb.timeInterval)(Xb.unit).offset;Hb=M.as||de;const lc=Hb[0],Fc=Hb[1],hd=Xb.step;let Nc=Xb.start||Infinity,rd=Xb.stop||-Infinity,Gd=ka.ADD;if(M.modified()||ka.changed(ka.REM)||ka.modified(g.accessorFields(za)))ka=ka.reflow(!0),Gd=ka.SOURCE,
Nc=Infinity,rd=-Infinity;ka.visit(Gd,Fd=>{var $d=za(Fd);let Wd;null==$d?(Fd[lc]=null,fb&&(Fd[Fc]=null)):(Fd[lc]=$d=Wd=Xb($d),fb&&(Fd[Fc]=Wd=Ac($d,hd)),$d<Nc&&(Nc=$d),Wd>rd&&(rd=Wd))});Xb.start=Nc;Xb.stop=rd;return ka.modifies(fb?Hb:lc)},_floor(M,ka){var za="utc"===M.timezone;const {units:fb,step:Hb}=M.units?{units:M.units,step:M.step||1}:Gb.timeBin({extent:M.extent||g.extent(ka.materialize(ka.SOURCE).source,M.field),maxbins:M.maxbins});M=Gb.timeUnits(fb);ka=this.value||{};za=(za?Gb.utcFloor:Gb.timeFloor)(M,
Hb);za.unit=g.peek(M);za.units=M;za.step=Hb;za.start=ka.start;za.stop=ka.stop;return this.value=za}});g.inherits(F,qa.Transform,{transform(M,ka){const za=ka.dataflow,fb=M.field,Hb=this.value,Xb=lc=>Hb.set(fb(lc),lc);let Ac=!0;M.modified("field")||ka.modified(fb.fields)?(Hb.clear(),ka.visit(ka.SOURCE,Xb)):ka.changed()?(ka.visit(ka.REM,lc=>Hb.delete(fb(lc))),ka.visit(ka.ADD,Xb)):Ac=!1;this.modified(Ac);Hb.empty>za.cleanThreshold&&za.runAfter(Hb.clean);return ka.fork()}});g.inherits(ya,qa.Transform,
{transform(M,ka){if(!this.value||M.modified("field")||M.modified("sort")||ka.changed()||M.sort&&ka.modified(M.sort.fields))this.value=(M.sort?ka.source.slice().sort(qa.stableCompare(M.sort)):ka.source).map(M.field)}});const Ud={row_number:function(){return{next:M=>M.index+1}},rank:function(){let M;return{init:()=>M=1,next:ka=>{const za=ka.index,fb=ka.data;return za&&ka.compare(fb[za-1],fb[za])?M=za+1:M}}},dense_rank:function(){let M;return{init:()=>M=1,next:ka=>{const za=ka.index,fb=ka.data;return za&&
ka.compare(fb[za-1],fb[za])?++M:M}}},percent_rank:function(){const M=Ud.rank(),ka=M.next;return{init:M.init,next:za=>(ka(za)-1)/(za.data.length-1)}},cume_dist:function(){let M;return{init:()=>M=0,next:ka=>{const za=ka.data,fb=ka.compare;ka=ka.index;if(M<ka){for(;ka+1<za.length&&!fb(za[ka],za[ka+1]);)++ka;M=ka}return(1+M)/za.length}}},ntile:function(M,ka){ka=+ka;0<ka||g.error("ntile num must be greater than zero.");M=Ud.cume_dist();const za=M.next;return{init:M.init,next:fb=>Math.ceil(ka*za(fb))}},
lag:function(M,ka){ka=+ka||1;return{next:za=>{const fb=za.index-ka;return 0<=fb?M(za.data[fb]):null}}},lead:function(M,ka){ka=+ka||1;return{next:za=>{const fb=za.index+ka;za=za.data;return fb<za.length?M(za[fb]):null}}},first_value:function(M){return{next:ka=>M(ka.data[ka.i0])}},last_value:function(M){return{next:ka=>M(ka.data[ka.i1-1])}},nth_value:function(M,ka){ka=+ka;0<ka||g.error("nth_value nth must be greater than zero.");return{next:za=>{const fb=za.i0+(ka-1);return fb<za.i1?M(za.data[fb]):
null}}},prev_value:function(M){let ka;return{init:()=>ka=null,next:za=>{za=M(za.data[za.index]);return null!=za?ka=za:ka}}},next_value:function(M){let ka,za;return{init:()=>(ka=null,za=-1),next:fb=>{var Hb=fb.data;if(fb.index<=za)Hb=ka;else{a:{fb=fb.index;for(let Xb=Hb.length;fb<Xb;++fb)if(null!=M(Hb[fb]))break a;fb=-1}Hb=0>(za=fb)?(za=Hb.length,ka=null):ka=M(Hb[za])}return Hb}}}},Te=Object.keys(Ud),Xd=$a.prototype;Xd.init=function(){this.windows.forEach(M=>M.init());this.cell&&this.cell.init()};
Xd.update=function(M,ka){const za=this.cell,fb=this.windows,Hb=M.data,Xb=fb&&fb.length;let Ac;if(za){for(Ac=M.p0;Ac<M.i0;++Ac)za.rem(Hb[Ac]);for(Ac=M.p1;Ac<M.i1;++Ac)za.add(Hb[Ac]);za.set(ka)}for(Ac=0;Ac<Xb;++Ac)fb[Ac].update(M,ka)};Fb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Te.concat(cd)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,
array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};g.inherits(Fb,qa.Transform,{transform(M,ka){this.stamp=ka.stamp;const za=M.modified(),fb=qa.stableCompare(M.sort),Hb=oc(M.groupby),Xb=lc=>this.group(Hb(lc));let Ac=this.state;if(!Ac||za)Ac=this.state=new $a(M);za||ka.modified(Ac.inputs)?(this.value={},ka.visit(ka.SOURCE,lc=>Xb(lc).add(lc))):(ka.visit(ka.REM,lc=>Xb(lc).remove(lc)),
ka.visit(ka.ADD,lc=>Xb(lc).add(lc)));for(let lc=0,Fc=this._mlen;lc<Fc;++lc)nc(this._mods[lc],Ac,fb,M);this._mlen=0;this._mods=[];return ka.reflow(za).modifies(Ac.outputs)},group(M){let ka=this.value[M];ka||(ka=this.value[M]=Ua(qa.tupleid),ka.stamp=-1);ka.stamp<this.stamp&&(ka.stamp=this.stamp,this._mods[this._mlen++]=ka);return ka}});r.aggregate=Bb;r.bin=Pb;r.collect=pb;r.compare=Oa;r.countpattern=Pa;r.cross=kb;r.density=Na;r.dotbin=Zb;r.expression=nb;r.extent=Y;r.facet=Fa;r.field=cb;r.filter=ma;
r.flatten=p;r.fold=L;r.formula=P;r.generate=f;r.impute=ua;r.joinaggregate=W;r.kde=Ca;r.key=Za;r.load=xc;r.lookup=bd;r.multiextent=Wb;r.multivalues=Pd;r.params=Ub;r.pivot=rb;r.prefacet=Hc;r.project=zc;r.proxy=Yc;r.quantile=Md;r.relay=td;r.sample=Ga;r.sequence=gb;r.sieve=vb;r.subflow=Ha;r.timeunit=ra;r.tupleindex=F;r.values=ya;r.window=Fb})};
shadow$provide[32]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb):"function"===typeof define&&define.amd?define(["exports"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={}))})(this,function(r){function g(qa,hb){if("undefined"!==typeof document&&document.createElement){const Gb=document.createElement("canvas");if(Gb&&Gb.getContext)return Gb.width=qa,Gb.height=hb,Gb}return null}r.canvas=g;r.domCanvas=g;r.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[33]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,qa){function hb(w,S,Z){S=w-S+2*Z;return w?0<S?S:1:0}function Gb(w){return function(S){let Z=S[0];S=S[1];let Ea;S<Z&&(Ea=Z,Z=S,S=Ea);return[w.invert(Z),w.invert(S)]}}function $b(w){return function(S){const Z=
w.range();let Ea=S[0];S=S[1];let sb=-1,wb;let Lb;if(S<Ea){var Mb=Ea;Ea=S;S=Mb}Mb=0;for(Lb=Z.length;Mb<Lb;++Mb)Z[Mb]>=Ea&&Z[Mb]<=S&&(0>sb&&(sb=Mb),wb=Mb);if(!(0>sb))return Ea=w.invertExtent(Z[sb]),S=w.invertExtent(Z[wb]),[void 0===Ea[0]?Ea[1]:Ea[0],void 0===S[1]?S[0]:S[1]]}}function oc(w,S){return null==w||null==S?NaN:w<S?-1:w>S?1:w>=S?0:NaN}function kc(w,S){return null==w||null==S?NaN:S<w?-1:S>w?1:S>=w?0:NaN}function yc(w){function S(wb,Lb,Mb=0,Kc=wb.length){if(Mb<Kc){if(0!==Z(Lb,Lb))return Kc;do{const Dd=
Mb+Kc>>>1;0>Ea(wb[Dd],Lb)?Mb=Dd+1:Kc=Dd}while(Mb<Kc)}return Mb}let Z,Ea,sb;2!==w.length?(Z=oc,Ea=(wb,Lb)=>oc(w(wb),Lb),sb=(wb,Lb)=>w(wb)-Lb):(Z=w===oc||w===kc?w:Ab,sb=Ea=w);return{left:S,center:function(wb,Lb,Mb=0,Kc=wb.length){Kc=S(wb,Lb,Mb,Kc-1);return Kc>Mb&&sb(wb[Kc-1],Lb)>-sb(wb[Kc],Lb)?Kc-1:Kc},right:function(wb,Lb,Mb=0,Kc=wb.length){if(Mb<Kc){if(0!==Z(Lb,Lb))return Kc;do{const Dd=Mb+Kc>>>1;0>=Ea(wb[Dd],Lb)?Mb=Dd+1:Kc=Dd}while(Mb<Kc)}return Mb}}}function Ab(){return 0}function gc(w){return null===
w?NaN:+w}function rc({_intern:w,_key:S},Z){S=S(Z);return w.has(S)?w.get(S):Z}function Va({_intern:w,_key:S},Z){S=S(Z);if(w.has(S))return w.get(S);w.set(S,Z);return Z}function qb({_intern:w,_key:S},Z){S=S(Z);w.has(S)&&(Z=w.get(S),w.delete(S));return Z}function Kb(w){return null!==w&&"object"===typeof w?w.valueOf():w}function Ob(w,S,Z){var Ea=(S-w)/Math.max(0,Z),sb=Math.floor(Math.log10(Ea));Ea/=Math.pow(10,sb);Ea=Ea>=wg?10:Ea>=qh?5:Ea>=ph?2:1;let wb;0>sb?(wb=Math.pow(10,-sb)/Ea,sb=Math.round(w*wb),
Ea=Math.round(S*wb),sb/wb<w&&++sb,Ea/wb>S&&--Ea,wb=-wb):(wb=Math.pow(10,sb)*Ea,sb=Math.round(w/wb),Ea=Math.round(S/wb),sb*wb<w&&++sb,Ea*wb>S&&--Ea);return Ea<sb&&.5<=Z&&2>Z?Ob(w,S,2*Z):[sb,Ea,wb]}function Bb(w,S,Z){S=+S;w=+w;Z=+Z;if(!(0<Z))return[];if(w===S)return[w];var Ea=S<w;const [sb,wb,Lb]=Ea?Ob(S,w,Z):Ob(w,S,Z);if(!(wb>=sb))return[];w=wb-sb+1;S=Array(w);if(Ea)if(0>Lb)for(Ea=0;Ea<w;++Ea)S[Ea]=(wb-Ea)/-Lb;else for(Ea=0;Ea<w;++Ea)S[Ea]=(wb-Ea)*Lb;else if(0>Lb)for(Ea=0;Ea<w;++Ea)S[Ea]=(sb+Ea)/-Lb;
else for(Ea=0;Ea<w;++Ea)S[Ea]=(sb+Ea)*Lb;return S}function Pb(w,S,Z){return Ob(+w,+S,+Z)[2]}function Ua(w,S,Z){S=+S;w=+w;Z=+Z;const Ea=S<w;w=Ea?Pb(S,w,Z):Pb(w,S,Z);return(Ea?-1:1)*(0>w?1/-w:w)}function pb(w,S,Z=gc){if((Ea=w.length)&&!isNaN(S=+S)){if(0>=S||2>Ea)return+Z(w[0],0,w);if(1<=S)return+Z(w[Ea-1],Ea-1,w);var Ea;S*=Ea-1;Ea=Math.floor(S);var sb=+Z(w[Ea],Ea,w);w=+Z(w[Ea+1],Ea+1,w);return sb+(w-sb)*(S-Ea)}}function Oa(w,S,Z){w=+w;S=+S;Z=2>(sb=arguments.length)?(S=w,w=0,1):3>sb?1:+Z;for(var Ea=
-1,sb=Math.max(0,Math.ceil((S-w)/Z))|0,wb=Array(sb);++Ea<sb;)wb[Ea]=w+Ea*Z;return wb}function Da(w,S){switch(arguments.length){case 0:break;case 1:this.range(w);break;default:this.range(S).domain(w)}return this}function Pa(w,S){switch(arguments.length){case 0:break;case 1:"function"===typeof w?this.interpolator(w):this.range(w);break;default:this.domain(w),"function"===typeof S?this.interpolator(S):this.range(S)}return this}function kb(){function w(wb){let Lb=S.get(wb);if(void 0===Lb){if(sb!==Ih)return sb;
S.set(wb,Lb=Z.push(wb)-1)}return Ea[Lb%Ea.length]}var S=new jh,Z=[],Ea=[],sb=Ih;w.domain=function(wb){if(!arguments.length)return Z.slice();Z=[];S=new jh;for(const Lb of wb)S.has(Lb)||S.set(Lb,Z.push(Lb)-1);return w};w.range=function(wb){return arguments.length?(Ea=Array.from(wb),w):Ea.slice()};w.unknown=function(wb){return arguments.length?(sb=wb,w):sb};w.copy=function(){return kb(Z,Ea).unknown(sb)};Da.apply(w,arguments);return w}function lb(w,S,Z){w.prototype=S.prototype=Z;Z.constructor=w}function Na(w,
S){w=Object.create(w.prototype);for(var Z in S)w[Z]=S[Z];return w}function xb(){}function ob(){return this.rgb().formatHex()}function Nb(){return this.rgb().formatRgb()}function Zb(w){var S,Z;w=(w+"").trim().toLowerCase();return(S=rh.exec(w))?(Z=S[1].length,S=parseInt(S[1],16),6===Z?nb(S):3===Z?new Fa(S>>8&15|S>>4&240,S>>4&15|S&240,(S&15)<<4|S&15,1):8===Z?la(S>>24&255,S>>16&255,S>>8&255,(S&255)/255):4===Z?la(S>>12&15|S>>8&240,S>>8&15|S>>4&240,S>>4&15|S&240,((S&15)<<4|S&15)/255):null):(S=yh.exec(w))?
new Fa(S[1],S[2],S[3],1):(S=qi.exec(w))?new Fa(255*S[1]/100,255*S[2]/100,255*S[3]/100,1):(S=Tg.exec(w))?la(S[1],S[2],S[3],S[4]):(S=kh.exec(w))?la(255*S[1]/100,255*S[2]/100,255*S[3]/100,S[4]):(S=ri.exec(w))?P(S[1],S[2]/100,S[3]/100,1):(S=Cg.exec(w))?P(S[1],S[2]/100,S[3]/100,S[4]):zh.hasOwnProperty(w)?nb(zh[w]):"transparent"===w?new Fa(NaN,NaN,NaN,0):null}function nb(w){return new Fa(w>>16&255,w>>8&255,w&255,1)}function la(w,S,Z,Ea){0>=Ea&&(w=S=Z=NaN);return new Fa(w,S,Z,Ea)}function Y(w){w instanceof
xb||(w=Zb(w));if(!w)return new Fa;w=w.rgb();return new Fa(w.r,w.g,w.b,w.opacity)}function Ha(w,S,Z,Ea){return 1===arguments.length?Y(w):new Fa(w,S,Z,null==Ea?1:Ea)}function Fa(w,S,Z,Ea){this.r=+w;this.g=+S;this.b=+Z;this.opacity=+Ea}function cb(){return`#${L(this.r)}${L(this.g)}${L(this.b)}`}function aa(){const w=ma(this.opacity);return`${1===w?"rgb(":"rgba("}${p(this.r)}, ${p(this.g)}, ${p(this.b)}${1===w?")":`, ${w})`}`}function ma(w){return isNaN(w)?1:Math.max(0,Math.min(1,w))}function p(w){return Math.max(0,
Math.min(255,Math.round(w)||0))}function L(w){w=p(w);return(16>w?"0":"")+w.toString(16)}function P(w,S,Z,Ea){0>=Ea?w=S=Z=NaN:0>=Z||1<=Z?w=S=NaN:0>=S&&(w=NaN);return new l(w,S,Z,Ea)}function f(w){if(w instanceof l)return new l(w.h,w.s,w.l,w.opacity);w instanceof xb||(w=Zb(w));if(!w)return new l;if(w instanceof l)return w;w=w.rgb();var S=w.r/255,Z=w.g/255,Ea=w.b/255,sb=Math.min(S,Z,Ea),wb=Math.max(S,Z,Ea),Lb=NaN,Mb=wb-sb,Kc=(wb+sb)/2;Mb?(Lb=S===wb?(Z-Ea)/Mb+6*(Z<Ea):Z===wb?(Ea-S)/Mb+2:(S-Z)/Mb+4,Mb/=
.5>Kc?wb+sb:2-wb-sb,Lb*=60):Mb=0<Kc&&1>Kc?0:Lb;return new l(Lb,Mb,Kc,w.opacity)}function v(w,S,Z,Ea){return 1===arguments.length?f(w):new l(w,S,Z,null==Ea?1:Ea)}function l(w,S,Z,Ea){this.h=+w;this.s=+S;this.l=+Z;this.opacity=+Ea}function C(w){w=(w||0)%360;return 0>w?w+360:w}function B(w){return Math.max(0,Math.min(1,w||0))}function z(w,S,Z){return 255*(60>w?S+(Z-S)*w/60:180>w?Z:240>w?S+(Z-S)*(240-w)/60:S)}function D(w){if(w instanceof U)return new U(w.l,w.a,w.b,w.opacity);if(w instanceof Wa)return ab(w);
w instanceof Fa||(w=Y(w));var S=K(w.r),Z=K(w.g),Ea=K(w.b),sb=Aa(.2225045*S+.7168786*Z+.0606169*Ea);if(S===Z&&Z===Ea)var wb=S=sb;else wb=Aa((.4360747*S+.3850649*Z+.1430804*Ea)/.96422),S=Aa((.0139322*S+.0971045*Z+.7141733*Ea)/.82521);return new U(116*sb-16,500*(wb-sb),200*(sb-S),w.opacity)}function G(w,S,Z,Ea){return 1===arguments.length?D(w):new U(w,S,Z,null==Ea?1:Ea)}function U(w,S,Z,Ea){this.l=+w;this.a=+S;this.b=+Z;this.opacity=+Ea}function Aa(w){return w>Gg?Math.pow(w,1/3):w/sh+Zg}function X(w){return w>
lh?w*w*w:sh*(w-Zg)}function u(w){return 255*(.0031308>=w?12.92*w:1.055*Math.pow(w,1/2.4)-.055)}function K(w){return.04045>=(w/=255)?w/12.92:Math.pow((w+.055)/1.055,2.4)}function ua(w){if(w instanceof Wa)return new Wa(w.h,w.c,w.l,w.opacity);w instanceof U||(w=D(w));if(0===w.a&&0===w.b)return new Wa(NaN,0<w.l&&100>w.l?0:NaN,w.l,w.opacity);var S=Math.atan2(w.b,w.a)*Qg;return new Wa(0>S?S+360:S,Math.sqrt(w.a*w.a+w.b*w.b),w.l,w.opacity)}function Ja(w,S,Z,Ea){return 1===arguments.length?ua(w):new Wa(w,
S,Z,null==Ea?1:Ea)}function Wa(w,S,Z,Ea){this.h=+w;this.c=+S;this.l=+Z;this.opacity=+Ea}function ab(w){if(isNaN(w.h))return new U(w.l,0,0,w.opacity);var S=w.h*Th;return new U(w.l,Math.cos(S)*w.c,Math.sin(S)*w.c,w.opacity)}function W(w,S,Z,Ea){if(1===arguments.length){var sb=w;if(sb instanceof Ca)sb=new Ca(sb.h,sb.s,sb.l,sb.opacity);else{sb instanceof Fa||(sb=Y(sb));var wb=sb.g/255,Lb=sb.b/255,Mb=(Jh*Lb+sb.r/255*-1.7884503806-3.5172982438*wb)/(Jh+-1.7884503806-3.5172982438);Lb-=Mb;var Kc=(1.97294*
(wb-Mb)- -.29227*Lb)/-.90649;Lb=(wb=Math.sqrt(Kc*Kc+Lb*Lb)/(1.97294*Mb*(1-Mb)))?Math.atan2(Kc,Lb)*Qg-120:NaN;sb=new Ca(0>Lb?Lb+360:Lb,wb,Mb,sb.opacity)}}else sb=new Ca(w,S,Z,null==Ea?1:Ea);return sb}function Ca(w,S,Z,Ea){this.h=+w;this.s=+S;this.l=+Z;this.opacity=+Ea}function Za(w,S,Z,Ea,sb){var wb=w*w,Lb=wb*w;return((1-3*w+3*wb-Lb)*S+(4-6*wb+3*Lb)*Z+(1+3*w+3*wb-3*Lb)*Ea+Lb*sb)/6}function Ib(w){var S=w.length-1;return function(Z){var Ea=0>=Z?Z=0:1<=Z?(Z=1,S-1):Math.floor(Z*S),sb=w[Ea],wb=w[Ea+1];
return Za((Z-Ea/S)*S,0<Ea?w[Ea-1]:2*sb-wb,sb,wb,Ea<S-1?w[Ea+2]:2*wb-sb)}}function xc(w){var S=w.length;return function(Z){var Ea=Math.floor((0>(Z%=1)?++Z:Z)*S);return Za((Z-Ea/S)*S,w[(Ea+S-1)%S],w[Ea%S],w[(Ea+1)%S],w[(Ea+2)%S])}}function uc(w,S){return function(Z){return w+Z*S}}function wc(w,S,Z){return w=Math.pow(w,Z),S=Math.pow(S,Z)-w,Z=1/Z,function(Ea){return Math.pow(w+Ea*S,Z)}}function bd(w,S){var Z=S-w;return Z?uc(w,180<Z||-180>Z?Z-360*Math.round(Z/360):Z):th(isNaN(w)?S:w)}function Wb(w){return 1===
(w=+w)?Rc:function(S,Z){return Z-S?wc(S,Z,w):th(isNaN(S)?Z:S)}}function Rc(w,S){var Z=S-w;return Z?uc(w,Z):th(isNaN(w)?S:w)}function Pd(w){return function(S){var Z=S.length,Ea=Array(Z),sb=Array(Z),wb=Array(Z),Lb;for(Lb=0;Lb<Z;++Lb){var Mb=Ha(S[Lb]);Ea[Lb]=Mb.r||0;sb[Lb]=Mb.g||0;wb[Lb]=Mb.b||0}Ea=w(Ea);sb=w(sb);wb=w(wb);Mb.opacity=1;return function(Kc){Mb.r=Ea(Kc);Mb.g=sb(Kc);Mb.b=wb(Kc);return Mb+""}}}function Ka(w,S){S||(S=[]);var Z=w?Math.min(S.length,w.length):0,Ea=S.slice(),sb;return function(wb){for(sb=
0;sb<Z;++sb)Ea[sb]=w[sb]*(1-wb)+S[sb]*wb;return Ea}}function Ub(w){return ArrayBuffer.isView(w)&&!(w instanceof DataView)}function rb(w,S){var Z=S?S.length:0,Ea=w?Math.min(Z,w.length):0,sb=Array(Ea),wb=Array(Z),Lb;for(Lb=0;Lb<Ea;++Lb)sb[Lb]=Md(w[Lb],S[Lb]);for(;Lb<Z;++Lb)wb[Lb]=S[Lb];return function(Mb){for(Lb=0;Lb<Ea;++Lb)wb[Lb]=sb[Lb](Mb);return wb}}function Sb(w,S){var Z=new Date;return w=+w,S=+S,function(Ea){return Z.setTime(w*(1-Ea)+S*Ea),Z}}function fc(w,S){return w=+w,S=+S,function(Z){return w*
(1-Z)+S*Z}}function bc(w,S){var Z={},Ea={},sb;if(null===w||"object"!==typeof w)w={};if(null===S||"object"!==typeof S)S={};for(sb in S)sb in w?Z[sb]=Md(w[sb],S[sb]):Ea[sb]=S[sb];return function(wb){for(sb in Z)Ea[sb]=Z[sb](wb);return Ea}}function Hc(w){return function(){return w}}function zc(w){return function(S){return w(S)+""}}function Yc(w,S){var Z=mh.lastIndex=Ah.lastIndex=0,Ea,sb,wb,Lb=-1,Mb=[],Kc=[];w+="";for(S+="";(Ea=mh.exec(w))&&(sb=Ah.exec(S));)(wb=sb.index)>Z&&(wb=S.slice(Z,wb),Mb[Lb]?Mb[Lb]+=
wb:Mb[++Lb]=wb),(Ea=Ea[0])===(sb=sb[0])?Mb[Lb]?Mb[Lb]+=sb:Mb[++Lb]=sb:(Mb[++Lb]=null,Kc.push({i:Lb,x:fc(Ea,sb)})),Z=Ah.lastIndex;Z<S.length&&(wb=S.slice(Z),Mb[Lb]?Mb[Lb]+=wb:Mb[++Lb]=wb);return 2>Mb.length?Kc[0]?zc(Kc[0].x):Hc(S):(S=Kc.length,function(Dd){for(var ed=0,mc;ed<S;++ed)Mb[(mc=Kc[ed]).i]=mc.x(Dd);return Mb.join("")})}function Md(w,S){var Z=typeof S,Ea;return null==S||"boolean"===Z?th(S):("number"===Z?fc:"string"===Z?(Ea=Zb(S))?(S=Ea,uh):Yc:S instanceof Zb?uh:S instanceof Date?Sb:Ub(S)?
Ka:Array.isArray(S)?rb:"function"!==typeof S.valueOf&&"function"!==typeof S.toString||isNaN(S)?bc:fc)(w,S)}function td(w,S){return w=+w,S=+S,function(Z){return Math.round(w*(1-Z)+S*Z)}}function Ga(w,S,Z,Ea,sb,wb){var Lb,Mb,Kc;if(Lb=Math.sqrt(w*w+S*S))w/=Lb,S/=Lb;if(Kc=w*Z+S*Ea)Z-=w*Kc,Ea-=S*Kc;if(Mb=Math.sqrt(Z*Z+Ea*Ea))Z/=Mb,Ea/=Mb,Kc/=Mb;w*Ea<S*Z&&(w=-w,S=-S,Kc=-Kc,Lb=-Lb);return{translateX:sb,translateY:wb,rotate:Math.atan2(S,w)*Vf,skewX:Math.atan(Kc)*Vf,scaleX:Lb,scaleY:Mb}}function gb(w,S,Z,
Ea){function sb(Dd){return Dd.length?Dd.pop()+" ":""}function wb(Dd,ed,mc,qd,ud,xe){Dd!==mc||ed!==qd?(ud=ud.push("translate(",null,S,null,Z),xe.push({i:ud-4,x:fc(Dd,mc)},{i:ud-2,x:fc(ed,qd)})):(mc||qd)&&ud.push("translate("+mc+S+qd+Z)}function Lb(Dd,ed,mc,qd){Dd!==ed?(180<Dd-ed?ed+=360:180<ed-Dd&&(Dd+=360),qd.push({i:mc.push(sb(mc)+"rotate(",null,Ea)-2,x:fc(Dd,ed)})):ed&&mc.push(sb(mc)+"rotate("+ed+Ea)}function Mb(Dd,ed,mc,qd){Dd!==ed?qd.push({i:mc.push(sb(mc)+"skewX(",null,Ea)-2,x:fc(Dd,ed)}):ed&&
mc.push(sb(mc)+"skewX("+ed+Ea)}function Kc(Dd,ed,mc,qd,ud,xe){Dd!==mc||ed!==qd?(ud=ud.push(sb(ud)+"scale(",null,",",null,")"),xe.push({i:ud-4,x:fc(Dd,mc)},{i:ud-2,x:fc(ed,qd)})):1===mc&&1===qd||ud.push(sb(ud)+"scale("+mc+","+qd+")")}return function(Dd,ed){var mc=[],qd=[];Dd=w(Dd);ed=w(ed);wb(Dd.translateX,Dd.translateY,ed.translateX,ed.translateY,mc,qd);Lb(Dd.rotate,ed.rotate,mc,qd);Mb(Dd.skewX,ed.skewX,mc,qd);Kc(Dd.scaleX,Dd.scaleY,ed.scaleX,ed.scaleY,mc,qd);Dd=ed=null;return function(ud){for(var xe=
-1,qe=qd.length,Se;++xe<qe;)mc[(Se=qd[xe]).i]=Se.x(ud);return mc.join("")}}}function vb(w){return((w=Math.exp(w))+1/w)/2}function ra(w){return function(S,Z){var Ea=w((S=v(S)).h,(Z=v(Z)).h),sb=Rc(S.s,Z.s),wb=Rc(S.l,Z.l),Lb=Rc(S.opacity,Z.opacity);return function(Mb){S.h=Ea(Mb);S.s=sb(Mb);S.l=wb(Mb);S.opacity=Lb(Mb);return S+""}}}function F(w){return function(S,Z){var Ea=w((S=Ja(S)).h,(Z=Ja(Z)).h),sb=Rc(S.c,Z.c),wb=Rc(S.l,Z.l),Lb=Rc(S.opacity,Z.opacity);return function(Mb){S.h=Ea(Mb);S.c=sb(Mb);S.l=
wb(Mb);S.opacity=Lb(Mb);return S+""}}}function ya(w){return function Ea(Z){function sb(wb,Lb){var Mb=w((wb=W(wb)).h,(Lb=W(Lb)).h),Kc=Rc(wb.s,Lb.s),Dd=Rc(wb.l,Lb.l),ed=Rc(wb.opacity,Lb.opacity);return function(mc){wb.h=Mb(mc);wb.s=Kc(mc);wb.l=Dd(Math.pow(mc,Z));wb.opacity=ed(mc);return wb+""}}Z=+Z;sb.gamma=Ea;return sb}(1)}function La(w,S){void 0===S&&(S=w,w=Md);for(var Z=0,Ea=S.length-1,sb=S[0],wb=Array(0>Ea?0:Ea);Z<Ea;)wb[Z]=w(sb,sb=S[++Z]);return function(Lb){var Mb=Math.max(0,Math.min(Ea-1,Math.floor(Lb*=
Ea)));return wb[Mb](Lb-Mb)}}function $a(w){return function(){return w}}function jb(w){return+w}function Fb(w){return w}function nc(w,S){return(S-=w=+w)?function(Z){return(Z-w)/S}:$a(isNaN(S)?NaN:.5)}function dc(w,S){if(w>S){var Z=w;w=S;S=Z}return function(Ea){return Math.max(w,Math.min(S,Ea))}}function ic(w,S,Z){var Ea=w[0];w=w[1];var sb=S[0];S=S[1];w<Ea?(Ea=nc(w,Ea),sb=Z(S,sb)):(Ea=nc(Ea,w),sb=Z(sb,S));return function(wb){return sb(Ea(wb))}}function Uc(w,S,Z){var Ea=Math.min(w.length,S.length)-1,
sb=Array(Ea),wb=Array(Ea),Lb=-1;w[Ea]<w[0]&&(w=w.slice().reverse(),S=S.slice().reverse());for(;++Lb<Ea;)sb[Lb]=nc(w[Lb],w[Lb+1]),wb[Lb]=Z(S[Lb],S[Lb+1]);return function(Mb){var Kc=$g(w,Mb,1,Ea)-1;return wb[Kc](sb[Kc](Mb))}}function cd(w,S){return S.domain(w.domain()).range(w.range()).interpolate(w.interpolate()).clamp(w.clamp()).unknown(w.unknown())}function dd(){function w(){var qd=Math.min(Z.length,Ea.length);Kc!==Fb&&(Kc=dc(Z[0],Z[qd-1]));Dd=2<qd?Uc:ic;ed=mc=null;return S}function S(qd){return null==
qd||isNaN(qd=+qd)?Mb:(ed||(ed=Dd(Z.map(wb),Ea,sb)))(wb(Kc(qd)))}var Z=wa,Ea=wa,sb=Md,wb,Lb,Mb,Kc=Fb,Dd,ed,mc;S.invert=function(qd){return Kc(Lb((mc||(mc=Dd(Ea,Z.map(wb),fc)))(qd)))};S.domain=function(qd){return arguments.length?(Z=Array.from(qd,jb),w()):Z.slice()};S.range=function(qd){return arguments.length?(Ea=Array.from(qd),w()):Ea.slice()};S.rangeRound=function(qd){return Ea=Array.from(qd),sb=td,w()};S.clamp=function(qd){return arguments.length?(Kc=qd?!0:Fb,w()):Kc!==Fb};S.interpolate=function(qd){return arguments.length?
(sb=qd,w()):sb};S.unknown=function(qd){return arguments.length?(Mb=qd,S):Mb};return function(qd,ud){wb=qd;Lb=ud;return w()}}function Qd(w,S){if(0>(S=(w=S?w.toExponential(S-1):w.toExponential()).indexOf("e")))return null;var Z=w.slice(0,S);return[1<Z.length?Z[0]+Z.slice(2):Z,+w.slice(S+1)]}function Td(w){return w=Qd(Math.abs(w)),w?w[1]:NaN}function Ed(w,S){return function(Z,Ea){for(var sb=Z.length,wb=[],Lb=0,Mb=w[0],Kc=0;0<sb&&0<Mb;){Kc+Mb+1>Ea&&(Mb=Math.max(1,Ea-Kc));wb.push(Z.substring(sb-=Mb,sb+
Mb));if((Kc+=Mb+1)>Ea)break;Mb=w[Lb=(Lb+1)%w.length]}return wb.reverse().join(S)}}function Zd(w){return function(S){return S.replace(/[0-9]/g,function(Z){return w[+Z]})}}function de(w){if(!(S=t.exec(w)))throw Error("invalid format: "+w);var S;return new Ud({fill:S[1],align:S[2],sign:S[3],symbol:S[4],zero:S[5],width:S[6],comma:S[7],precision:S[8]&&S[8].slice(1),trim:S[9],type:S[10]})}function Ud(w){this.fill=void 0===w.fill?" ":w.fill+"";this.align=void 0===w.align?"\x3e":w.align+"";this.sign=void 0===
w.sign?"-":w.sign+"";this.symbol=void 0===w.symbol?"":w.symbol+"";this.zero=!!w.zero;this.width=void 0===w.width?void 0:+w.width;this.comma=!!w.comma;this.precision=void 0===w.precision?void 0:+w.precision;this.trim=!!w.trim;this.type=void 0===w.type?"":w.type+""}function Te(w,S){S=Qd(w,S);if(!S)return w+"";w=S[0];S=S[1];return 0>S?"0."+Array(-S).join("0")+w:w.length>S+1?w.slice(0,S+1)+"."+w.slice(S+1):w+Array(S-w.length+2).join("0")}function Xd(w){return w}function M(w){function S(ed){function mc(oe){var Le=
qf,se=Mg,mg,Ng;if("c"===gg)se=tg(oe)+se,oe="";else{oe=+oe;var xg=0>oe||0>1/oe;oe=isNaN(oe)?Dd:tg(Math.abs(oe),kg);if(Gh){var bh=oe.length,Qh=1,ji=-1;a:for(;Qh<bh;++Qh)switch(oe[Qh]){case ".":ji=mg=Qh;break;case "0":0===ji&&(ji=Qh);mg=Qh;break;default:if(!+oe[Qh])break a;0<ji&&(ji=0)}oe=0<ji?oe.slice(0,ji)+oe.slice(mg+1):oe}xg&&0===+oe&&"+"!==xe&&(xg=!1);Le=(xg?"("===xe?xe:Kc:"-"===xe||"("===xe?"":xe)+Le;se=("s"===gg?y[8+E/3]:"")+se+(xg&&"("===xe?")":"");if(He)for(xg=-1,mg=oe.length;++xg<mg;)if(Ng=
oe.charCodeAt(xg),48>Ng||57<Ng){se=(46===Ng?wb+oe.slice(xg+1):oe.slice(xg))+se;oe=oe.slice(0,xg);break}}Rf&&!Se&&(oe=Z(oe,Infinity));Ng=Le.length+oe.length+se.length;xg=Ng<Cf?Array(Cf-Ng+1).join(qd):"";Rf&&Se&&(oe=Z(xg+oe,xg.length?Cf-se.length:Infinity),xg="");switch(ud){case "\x3c":oe=Le+oe+se+xg;break;case "\x3d":oe=Le+xg+oe+se;break;case "^":oe=xg.slice(0,Ng=xg.length>>1)+Le+oe+se+xg.slice(Ng);break;default:oe=xg+Le+oe+se}return Lb(oe)}ed=de(ed);var qd=ed.fill,ud=ed.align,xe=ed.sign,qe=ed.symbol,
Se=ed.zero,Cf=ed.width,Rf=ed.comma,kg=ed.precision,Gh=ed.trim,gg=ed.type;"n"===gg?(Rf=!0,gg="g"):fa[gg]||(void 0===kg&&(kg=12),Gh=!0,gg="g");if(Se||"0"===qd&&"\x3d"===ud)Se=!0,qd="0",ud="\x3d";var qf="$"===qe?Ea:"#"===qe&&/[boxX]/.test(gg)?"0"+gg.toLowerCase():"",Mg="$"===qe?sb:/[%p]/.test(gg)?Mb:"",tg=fa[gg],He=/[defgprs%]/.test(gg);kg=void 0===kg?6:/[gprs]/.test(gg)?Math.max(1,Math.min(21,kg)):Math.max(0,Math.min(20,kg));mc.toString=function(){return ed+""};return mc}var Z=void 0===w.grouping||
void 0===w.thousands?Xd:Ed(k.call(w.grouping,Number),w.thousands+""),Ea=void 0===w.currency?"":w.currency[0]+"",sb=void 0===w.currency?"":w.currency[1]+"",wb=void 0===w.decimal?".":w.decimal+"",Lb=void 0===w.numerals?Xd:Zd(k.call(w.numerals,String)),Mb=void 0===w.percent?"%":w.percent+"",Kc=void 0===w.minus?"":w.minus+"",Dd=void 0===w.nan?"NaN":w.nan+"";return{format:S,formatPrefix:function(ed,mc){var qd=S((ed=de(ed),ed.type="f",ed));ed=3*Math.max(-8,Math.min(8,Math.floor(Td(mc)/3)));var ud=Math.pow(10,
-ed),xe=y[8+ed/3];return function(qe){return qd(ud*qe)+xe}}}}function ka(w,S,Z,Ea){Z=Ua(w,S,Z);Ea=de(null==Ea?",f":Ea);switch(Ea.type){case "s":w=Math.max(Math.abs(w),Math.abs(S));if(S=null==Ea.precision){var sb=isNaN;Z=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Td(w)/3)))-Td(Math.abs(Z)));S=!sb(sb=Z)}S&&(Ea.precision=sb);return Ta(Ea,w);case "":case "e":case "g":case "p":case "r":var wb;if(wb=null==Ea.precision)sb=isNaN,w=Math.max(Math.abs(w),Math.abs(S)),Z=Math.abs(Z),w=Math.abs(w)-Z,Z=Math.max(0,
Td(w)-Td(Z))+1,wb=!sb(sb=Z);wb&&(Ea.precision=sb-("e"===Ea.type));break;case "f":case "%":null!=Ea.precision||isNaN(sb=Math.max(0,-Td(Math.abs(Z))))||(Ea.precision=sb-2*("%"===Ea.type))}return oa(Ea)}function za(w){var S=w.domain;w.ticks=function(Z){var Ea=S();return Bb(Ea[0],Ea[Ea.length-1],null==Z?10:Z)};w.tickFormat=function(Z,Ea){var sb=S();return ka(sb[0],sb[sb.length-1],null==Z?10:Z,Ea)};w.nice=function(Z){null==Z&&(Z=10);var Ea=S(),sb=0,wb=Ea.length-1,Lb=Ea[sb],Mb=Ea[wb],Kc=10;if(Mb<Lb){var Dd=
Lb;Lb=Mb;Mb=Dd;Dd=sb;sb=wb;wb=Dd}for(;0<Kc--;){Dd=Pb(Lb,Mb,Z);if(Dd===ed)return Ea[sb]=Lb,Ea[wb]=Mb,S(Ea);if(0<Dd)Lb=Math.floor(Lb/Dd)*Dd,Mb=Math.ceil(Mb/Dd)*Dd;else if(0>Dd)Lb=Math.ceil(Lb*Dd)/Dd,Mb=Math.floor(Mb*Dd)/Dd;else break;var ed=Dd}return w};return w}function fb(){var w=dd()(Fb,Fb);w.copy=function(){return cd(w,fb())};Da.apply(w,arguments);return za(w)}function Hb(w){function S(Ea){return null==Ea||isNaN(Ea=+Ea)?Z:Ea}var Z;S.invert=S;S.domain=S.range=function(Ea){return arguments.length?
(w=Array.from(Ea,jb),S):w.slice()};S.unknown=function(Ea){return arguments.length?(Z=Ea,S):Z};S.copy=function(){return Hb(w).unknown(Z)};w=arguments.length?Array.from(w,jb):[0,1];return za(S)}function Xb(w,S){w=w.slice();var Z=0,Ea=w.length-1,sb=w[Z],wb=w[Ea];if(wb<sb){var Lb=Z;Z=Ea;Ea=Lb;Lb=sb;sb=wb;wb=Lb}w[Z]=S.floor(sb);w[Ea]=S.ceil(wb);return w}function Ac(w){return Math.log(w)}function lc(w){return Math.exp(w)}function Fc(w){return-Math.log(-w)}function hd(w){return-Math.exp(-w)}function Nc(w){return isFinite(w)?
+("1e"+w):0>w?0:w}function rd(w){return 10===w?Nc:w===Math.E?Math.exp:S=>Math.pow(w,S)}function Gd(w){return w===Math.E?Math.log:10===w&&Math.log10||2===w&&Math.log2||(w=Math.log(w),S=>Math.log(S)/w)}function Fd(w){return(S,Z)=>-w(-S,Z)}function $d(w){function S(){wb=Gd(sb);Lb=rd(sb);0>Ea()[0]?(wb=Fd(wb),Lb=Fd(Lb),w(Fc,hd)):w(Ac,lc);return Z}const Z=w(Ac,lc),Ea=Z.domain;let sb=10,wb,Lb;Z.base=function(Mb){return arguments.length?(sb=+Mb,S()):sb};Z.domain=function(Mb){return arguments.length?(Ea(Mb),
S()):Ea()};Z.ticks=Mb=>{var Kc=Ea();let Dd=Kc[0];Kc=Kc[Kc.length-1];const ed=Kc<Dd;ed&&([Dd,Kc]=[Kc,Dd]);let mc=wb(Dd),qd=wb(Kc),ud;const xe=null==Mb?10:+Mb;let qe=[];if(!(sb%1)&&qd-mc<xe){mc=Math.floor(mc);qd=Math.ceil(qd);if(0<Dd)for(;mc<=qd;++mc)for(Mb=1;Mb<sb;++Mb){if(ud=0>mc?Mb/Lb(-mc):Mb*Lb(mc),!(ud<Dd)){if(ud>Kc)break;qe.push(ud)}}else for(;mc<=qd;++mc)for(Mb=sb-1;1<=Mb;--Mb)if(ud=0<mc?Mb/Lb(-mc):Mb*Lb(mc),!(ud<Dd)){if(ud>Kc)break;qe.push(ud)}2*qe.length<xe&&(qe=Bb(Dd,Kc,xe))}else qe=Bb(mc,
qd,Math.min(qd-mc,xe)).map(Lb);return ed?qe.reverse():qe};Z.tickFormat=(Mb,Kc)=>{null==Mb&&(Mb=10);null==Kc&&(Kc=10===sb?"s":",");"function"!==typeof Kc&&(sb%1||null!=(Kc=de(Kc)).precision||(Kc.trim=!0),Kc=oa(Kc));if(Infinity===Mb)return Kc;const Dd=Math.max(1,sb*Mb/Z.ticks().length);return ed=>{let mc=ed/Lb(Math.round(wb(ed)));mc*sb<sb-.5&&(mc*=sb);return mc<=Dd?Kc(ed):""}};Z.nice=()=>Ea(Xb(Ea(),{floor:Mb=>Lb(Math.floor(wb(Mb))),ceil:Mb=>Lb(Math.ceil(wb(Mb)))}));return Z}function Wd(){const w=$d(dd()).domain([1,
10]);w.copy=()=>cd(w,Wd()).base(w.base());Da.apply(w,arguments);return w}function ae(w){return function(S){return Math.sign(S)*Math.log1p(Math.abs(S/w))}}function Be(w){return function(S){return Math.sign(S)*Math.expm1(Math.abs(S))*w}}function ff(w){var S=1,Z=w(ae(S),Be(S));Z.constant=function(Ea){return arguments.length?w(ae(S=+Ea),Be(S)):S};return za(Z)}function df(){var w=ff(dd());w.copy=function(){return cd(w,df()).constant(w.constant())};return Da.apply(w,arguments)}function af(w){return function(S){return 0>
S?-Math.pow(-S,w):Math.pow(S,w)}}function re(w){return 0>w?-Math.sqrt(-w):Math.sqrt(w)}function pf(w){return 0>w?-w*w:w*w}function T(w){var S=w(Fb,Fb),Z=1;S.exponent=function(Ea){return arguments.length?(Z=+Ea,1===Z?w(Fb,Fb):.5===Z?w(re,pf):w(af(Z),af(1/Z))):Z};return za(S)}function ta(){var w=T(dd());w.copy=function(){return cd(w,ta()).exponent(w.exponent())};Da.apply(w,arguments);return w}function db(){function w(){var Lb=0,Mb=Math.max(1,Ea.length);for(sb=Array(Mb-1);++Lb<Mb;)sb[Lb-1]=pb(Z,Lb/Mb);
return S}function S(Lb){return null==Lb||isNaN(Lb=+Lb)?wb:Ea[$g(sb,Lb)]}var Z=[],Ea=[],sb=[],wb;S.invertExtent=function(Lb){Lb=Ea.indexOf(Lb);return 0>Lb?[NaN,NaN]:[0<Lb?sb[Lb-1]:Z[0],Lb<sb.length?sb[Lb]:Z[Z.length-1]]};S.domain=function(Lb){if(!arguments.length)return Z.slice();Z=[];for(let Mb of Lb)null==Mb||isNaN(Mb=+Mb)||Z.push(Mb);Z.sort(oc);return w()};S.range=function(Lb){return arguments.length?(Ea=Array.from(Lb),w()):Ea.slice()};S.unknown=function(Lb){return arguments.length?(wb=Lb,S):wb};
S.quantiles=function(){return sb.slice()};S.copy=function(){return db().domain(Z).range(Ea).unknown(wb)};return Da.apply(S,arguments)}function zb(){function w(Kc){return null!=Kc&&Kc<=Kc?Lb[$g(wb,Kc,0,sb)]:Mb}function S(){var Kc=-1;for(wb=Array(sb);++Kc<sb;)wb[Kc]=((Kc+1)*Ea-(Kc-sb)*Z)/(sb+1);return w}var Z=0,Ea=1,sb=1,wb=[.5],Lb=[0,1],Mb;w.domain=function(Kc){return arguments.length?([Z,Ea]=Kc,Z=+Z,Ea=+Ea,S()):[Z,Ea]};w.range=function(Kc){return arguments.length?(sb=(Lb=Array.from(Kc)).length-1,
S()):Lb.slice()};w.invertExtent=function(Kc){Kc=Lb.indexOf(Kc);return 0>Kc?[NaN,NaN]:1>Kc?[Z,wb[0]]:Kc>=sb?[wb[sb-1],Ea]:[wb[Kc-1],wb[Kc]]};w.unknown=function(Kc){return arguments.length?(Mb=Kc,w):w};w.thresholds=function(){return wb.slice()};w.copy=function(){return zb().domain([Z,Ea]).range(Lb).unknown(Mb)};return Da.apply(za(w),arguments)}function ec(){function w(wb){return null!=wb&&wb<=wb?Z[$g(S,wb,0,sb)]:Ea}var S=[.5],Z=[0,1],Ea,sb=1;w.domain=function(wb){return arguments.length?(S=Array.from(wb),
sb=Math.min(S.length,Z.length-1),w):S.slice()};w.range=function(wb){return arguments.length?(Z=Array.from(wb),sb=Math.min(S.length,Z.length-1),w):Z.slice()};w.invertExtent=function(wb){wb=Z.indexOf(wb);return[S[wb-1],S[wb]]};w.unknown=function(wb){return arguments.length?(Ea=wb,w):Ea};w.copy=function(){return ec().domain(S).range(Z).unknown(Ea)};return Da.apply(w,arguments)}function Bc(w,S,Z,Ea){function sb(wb){return w(wb=0===arguments.length?new Date:new Date(+wb)),wb}sb.floor=wb=>(w(wb=new Date(+wb)),
wb);sb.ceil=wb=>(w(wb=new Date(wb-1)),S(wb,1),w(wb),wb);sb.round=wb=>{const Lb=sb(wb),Mb=sb.ceil(wb);return wb-Lb<Mb-wb?Lb:Mb};sb.offset=(wb,Lb)=>(S(wb=new Date(+wb),null==Lb?1:Math.floor(Lb)),wb);sb.range=(wb,Lb,Mb)=>{const Kc=[];wb=sb.ceil(wb);Mb=null==Mb?1:Math.floor(Mb);if(!(wb<Lb&&0<Mb))return Kc;let Dd;do Kc.push(Dd=new Date(+wb)),S(wb,Mb),w(wb);while(Dd<wb&&wb<Lb);return Kc};sb.filter=wb=>Bc(Lb=>{if(Lb>=Lb)for(;w(Lb),!wb(Lb);)Lb.setTime(Lb-1)},(Lb,Mb)=>{if(Lb>=Lb)if(0>Mb)for(;0>=++Mb;)for(;S(Lb,
-1),!wb(Lb););else for(;0<=--Mb;)for(;S(Lb,1),!wb(Lb););});Z&&(sb.count=(wb,Lb)=>{Ya.setTime(+wb);Jb.setTime(+Lb);w(Ya);w(Jb);return Math.floor(Z(Ya,Jb))},sb.every=wb=>{wb=Math.floor(wb);return isFinite(wb)&&0<wb?1<wb?sb.filter(Ea?Lb=>0===Ea(Lb)%wb:Lb=>0===sb.count(0,Lb)%wb):sb:null});return sb}function Yb(w){return Bc(S=>{S.setDate(S.getDate()-(S.getDay()+7-w)%7);S.setHours(0,0,0,0)},(S,Z)=>{S.setDate(S.getDate()+7*Z)},(S,Z)=>(Z-S-6E4*(Z.getTimezoneOffset()-S.getTimezoneOffset()))/6048E5)}function I(w){return Bc(S=>
{S.setUTCDate(S.getUTCDate()-(S.getUTCDay()+7-w)%7);S.setUTCHours(0,0,0,0)},(S,Z)=>{S.setUTCDate(S.getUTCDate()+7*Z)},(S,Z)=>(Z-S)/6048E5)}function da(w,S,Z,Ea,sb,wb){function Lb(Kc,Dd,ed){const mc=Math.abs(Dd-Kc)/ed,qd=yc(([,,qe])=>qe).right(Mb,mc);if(qd===Mb.length)return w.every(Ua(Kc/31536E6,Dd/31536E6,ed));if(0===qd)return hc.every(Math.max(Ua(Kc,Dd,ed),1));const [ud,xe]=Mb[mc/Mb[qd-1][2]<Mb[qd][2]/mc?qd-1:qd];return ud.every(xe)}const Mb=[[Tb,1,1E3],[Tb,5,5E3],[Tb,15,15E3],[Tb,30,3E4],[wb,1,
6E4],[wb,5,3E5],[wb,15,9E5],[wb,30,18E5],[sb,1,36E5],[sb,3,108E5],[sb,6,216E5],[sb,12,432E5],[Ea,1,864E5],[Ea,2,1728E5],[Z,1,6048E5],[S,1,2592E6],[S,3,7776E6],[w,1,31536E6]];return[function(Kc,Dd,ed){const mc=Dd<Kc;mc&&([Kc,Dd]=[Dd,Kc]);Kc=(ed=ed&&"function"===typeof ed.range?ed:Lb(Kc,Dd,ed))?ed.range(Kc,+Dd+1):[];return mc?Kc.reverse():Kc},Lb]}function Sa(w){if(0<=w.y&&100>w.y){var S=new Date(-1,w.m,w.d,w.H,w.M,w.S,w.L);S.setFullYear(w.y);return S}return new Date(w.y,w.m,w.d,w.H,w.M,w.S,w.L)}function ac(w){if(0<=
w.y&&100>w.y){var S=new Date(Date.UTC(-1,w.m,w.d,w.H,w.M,w.S,w.L));S.setUTCFullYear(w.y);return S}return new Date(Date.UTC(w.y,w.m,w.d,w.H,w.M,w.S,w.L))}function Pc(w,S,Z){return{y:w,m:S,d:Z,H:0,M:0,S:0,L:0}}function Cc(w){function S(He,oe){return function(Le){var se=[],mg=-1,Ng=0,xg=He.length,bh,Qh;for(Le instanceof Date||(Le=new Date(+Le));++mg<xg;)if(37===He.charCodeAt(mg)){se.push(He.slice(Ng,mg));null!=(Ng=Li[bh=He.charAt(++mg)])?bh=He.charAt(++mg):Ng="e"===bh?" ":"0";if(Qh=oe[bh])bh=Qh(Le,Ng);
se.push(bh);Ng=mg+1}se.push(He.slice(Ng,mg));return se.join("")}}function Z(He,oe){return function(Le){var se=Pc(1900,void 0,1);if(Ea(se,He,Le+="",0)!=Le.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(1E3*se.s+("L"in se?se.L:0));!oe||"Z"in se||(se.Z=0);"p"in se&&(se.H=se.H%12+12*se.p);void 0===se.m&&(se.m="q"in se?se.q:0);if("V"in se){if(1>se.V||53<se.V)return null;"w"in se||(se.w=1);if("Z"in se){Le=ac(Pc(se.y,0,1));var mg=Le.getUTCDay();Le=4<mg||0===mg?mf.ceil(Le):
mf(Le);Le=ue.offset(Le,7*(se.V-1));se.y=Le.getUTCFullYear();se.m=Le.getUTCMonth();se.d=Le.getUTCDate()+(se.w+6)%7}else Le=Sa(Pc(se.y,0,1)),mg=Le.getDay(),Le=4<mg||0===mg?Lg.ceil(Le):Lg(Le),Le=ve.offset(Le,7*(se.V-1)),se.y=Le.getFullYear(),se.m=Le.getMonth(),se.d=Le.getDate()+(se.w+6)%7}else if("W"in se||"U"in se)"w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),mg="Z"in se?ac(Pc(se.y,0,1)).getUTCDay():Sa(Pc(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+7*se.W-(mg+5)%7:se.w+7*se.U-(mg+6)%7;return"Z"in
se?(se.H+=se.Z/100|0,se.M+=se.Z%100,ac(se)):Sa(se)}}function Ea(He,oe,Le,se){for(var mg=0,Ng=oe.length,xg=Le.length,bh;mg<Ng;){if(se>=xg)return-1;bh=oe.charCodeAt(mg++);if(37===bh){if(bh=oe.charAt(mg++),bh=tg[bh in Li?oe.charAt(mg++):bh],!bh||0>(se=bh(He,Le,se)))return-1}else if(bh!=Le.charCodeAt(se++))return-1}return se}var sb=w.dateTime,wb=w.date,Lb=w.time,Mb=w.periods,Kc=w.days,Dd=w.shortDays,ed=w.months,mc=w.shortMonths,qd=ee(Mb),ud=Ra(Mb),xe=ee(Kc),qe=Ra(Kc),Se=ee(Dd),Cf=Ra(Dd),Rf=ee(ed),kg=
Ra(ed),Gh=ee(mc),gg=Ra(mc),qf={a:function(He){return Dd[He.getDay()]},A:function(He){return Kc[He.getDay()]},b:function(He){return mc[He.getMonth()]},B:function(He){return ed[He.getMonth()]},c:null,d:Vd,e:Vd,f:H,g:Gc,G:yd,H:ce,I:le,j:N,L:ca,m:ja,M:sa,p:function(He){return Mb[+(12<=He.getHours())]},q:function(He){return 1+~~(He.getMonth()/3)},Q:If,s:xf,S:Ia,u:ib,U:ub,V:sc,w:tc,W:Ic,x:null,X:null,y:Ad,Y:$c,Z:Cd,"%":Gf},Mg={a:function(He){return Dd[He.getUTCDay()]},A:function(He){return Kc[He.getUTCDay()]},
b:function(He){return mc[He.getUTCMonth()]},B:function(He){return ed[He.getUTCMonth()]},c:null,d:Kd,e:Kd,f:Ld,g:Yd,G:jf,H:Fe,I:Ce,j:wd,L:ye,m:ge,M:Ge,p:function(He){return Mb[+(12<=He.getUTCHours())]},q:function(He){return 1+~~(He.getUTCMonth()/3)},Q:If,s:xf,S:hf,u:rf,U:Je,V:Bf,w:Hf,W:ef,x:null,X:null,y:Zf,Y:cf,Z:Ze,"%":Gf},tg={a:function(He,oe,Le){return(oe=Se.exec(oe.slice(Le)))?(He.w=Cf.get(oe[0].toLowerCase()),Le+oe[0].length):-1},A:function(He,oe,Le){return(oe=xe.exec(oe.slice(Le)))?(He.w=qe.get(oe[0].toLowerCase()),
Le+oe[0].length):-1},b:function(He,oe,Le){return(oe=Gh.exec(oe.slice(Le)))?(He.m=gg.get(oe[0].toLowerCase()),Le+oe[0].length):-1},B:function(He,oe,Le){return(oe=Rf.exec(oe.slice(Le)))?(He.m=kg.get(oe[0].toLowerCase()),Le+oe[0].length):-1},c:function(He,oe,Le){return Ea(He,sb,oe,Le)},d:be,e:be,f:Dc,g:sd,G:Qc,H:Ke,I:Ke,j:we,L:md,m:Bd,M:Xe,p:function(He,oe,Le){return(oe=qd.exec(oe.slice(Le)))?(He.p=ud.get(oe[0].toLowerCase()),Le+oe[0].length):-1},q:Nd,Q:Ec,s:Id,S:bf,u:pc,U:vd,V:Jc,w:eb,W:Vc,x:function(He,
oe,Le){return Ea(He,wb,oe,Le)},X:function(He,oe,Le){return Ea(He,Lb,oe,Le)},y:sd,Y:Qc,Z:id,"%":jd};qf.x=S(wb,qf);qf.X=S(Lb,qf);qf.c=S(sb,qf);Mg.x=S(wb,Mg);Mg.X=S(Lb,Mg);Mg.c=S(sb,Mg);return{format:function(He){var oe=S(He+="",qf);oe.toString=function(){return He};return oe},parse:function(He){var oe=Z(He+="",!1);oe.toString=function(){return He};return oe},utcFormat:function(He){var oe=S(He+="",Mg);oe.toString=function(){return He};return oe},utcParse:function(He){var oe=Z(He+="",!0);oe.toString=
function(){return He};return oe}}}function Sc(w,S,Z){var Ea=0>w?"-":"";w=(Ea?-w:w)+"";var sb=w.length;return Ea+(sb<Z?Array(Z-sb+1).join(S)+w:w)}function fd(w){return w.replace(lj,"\\$\x26")}function ee(w){return new RegExp("^(?:"+w.map(fd).join("|")+")","i")}function Ra(w){return new Map(w.map((S,Z)=>[S.toLowerCase(),Z]))}function eb(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+1)))?(w.w=+S[0],Z+S[0].length):-1}function pc(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+1)))?(w.u=+S[0],Z+S[0].length):-1}function vd(w,
S,Z){return(S=Ag.exec(S.slice(Z,Z+2)))?(w.U=+S[0],Z+S[0].length):-1}function Jc(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+2)))?(w.V=+S[0],Z+S[0].length):-1}function Vc(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+2)))?(w.W=+S[0],Z+S[0].length):-1}function Qc(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+4)))?(w.y=+S[0],Z+S[0].length):-1}function sd(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+2)))?(w.y=+S[0]+(68<+S[0]?1900:2E3),Z+S[0].length):-1}function id(w,S,Z){return(S=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(S.slice(Z,Z+6)))?(w.Z=
S[1]?0:-(S[2]+(S[3]||"00")),Z+S[0].length):-1}function Nd(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+1)))?(w.q=3*S[0]-3,Z+S[0].length):-1}function Bd(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+2)))?(w.m=S[0]-1,Z+S[0].length):-1}function be(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+2)))?(w.d=+S[0],Z+S[0].length):-1}function we(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+3)))?(w.m=0,w.d=+S[0],Z+S[0].length):-1}function Ke(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+2)))?(w.H=+S[0],Z+S[0].length):-1}function Xe(w,S,Z){return(S=Ag.exec(S.slice(Z,
Z+2)))?(w.M=+S[0],Z+S[0].length):-1}function bf(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+2)))?(w.S=+S[0],Z+S[0].length):-1}function md(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+3)))?(w.L=+S[0],Z+S[0].length):-1}function Dc(w,S,Z){return(S=Ag.exec(S.slice(Z,Z+6)))?(w.L=Math.floor(S[0]/1E3),Z+S[0].length):-1}function jd(w,S,Z){return(w=Pi.exec(S.slice(Z,Z+1)))?Z+w[0].length:-1}function Ec(w,S,Z){return(S=Ag.exec(S.slice(Z)))?(w.Q=+S[0],Z+S[0].length):-1}function Id(w,S,Z){return(S=Ag.exec(S.slice(Z)))?(w.s=+S[0],
Z+S[0].length):-1}function Vd(w,S){return Sc(w.getDate(),S,2)}function ce(w,S){return Sc(w.getHours(),S,2)}function le(w,S){return Sc(w.getHours()%12||12,S,2)}function N(w,S){return Sc(1+ve.count(Kg(w),w),S,3)}function ca(w,S){return Sc(w.getMilliseconds(),S,3)}function H(w,S){return ca(w,S)+"000"}function ja(w,S){return Sc(w.getMonth()+1,S,2)}function sa(w,S){return Sc(w.getMinutes(),S,2)}function Ia(w,S){return Sc(w.getSeconds(),S,2)}function ib(w){w=w.getDay();return 0===w?7:w}function ub(w,S){return Sc(sf.count(Kg(w)-
1,w),S,2)}function qc(w){var S=w.getDay();return 4<=S||0===S?bg(w):bg.ceil(w)}function sc(w,S){w=qc(w);return Sc(bg.count(Kg(w),w)+(4===Kg(w).getDay()),S,2)}function tc(w){return w.getDay()}function Ic(w,S){return Sc(Lg.count(Kg(w)-1,w),S,2)}function Ad(w,S){return Sc(w.getFullYear()%100,S,2)}function Gc(w,S){w=qc(w);return Sc(w.getFullYear()%100,S,2)}function $c(w,S){return Sc(w.getFullYear()%1E4,S,4)}function yd(w,S){var Z=w.getDay();w=4<=Z||0===Z?bg(w):bg.ceil(w);return Sc(w.getFullYear()%1E4,
S,4)}function Cd(w){w=w.getTimezoneOffset();return(0<w?"-":(w*=-1,"+"))+Sc(w/60|0,"0",2)+Sc(w%60,"0",2)}function Kd(w,S){return Sc(w.getUTCDate(),S,2)}function Fe(w,S){return Sc(w.getUTCHours(),S,2)}function Ce(w,S){return Sc(w.getUTCHours()%12||12,S,2)}function wd(w,S){return Sc(1+ue.count(sg(w),w),S,3)}function ye(w,S){return Sc(w.getUTCMilliseconds(),S,3)}function Ld(w,S){return ye(w,S)+"000"}function ge(w,S){return Sc(w.getUTCMonth()+1,S,2)}function Ge(w,S){return Sc(w.getUTCMinutes(),S,2)}function hf(w,
S){return Sc(w.getUTCSeconds(),S,2)}function rf(w){w=w.getUTCDay();return 0===w?7:w}function Je(w,S){return Sc(of.count(sg(w)-1,w),S,2)}function ne(w){var S=w.getUTCDay();return 4<=S||0===S?Lf(w):Lf.ceil(w)}function Bf(w,S){w=ne(w);return Sc(Lf.count(sg(w),w)+(4===sg(w).getUTCDay()),S,2)}function Hf(w){return w.getUTCDay()}function ef(w,S){return Sc(mf.count(sg(w)-1,w),S,2)}function Zf(w,S){return Sc(w.getUTCFullYear()%100,S,2)}function Yd(w,S){w=ne(w);return Sc(w.getUTCFullYear()%100,S,2)}function cf(w,
S){return Sc(w.getUTCFullYear()%1E4,S,4)}function jf(w,S){var Z=w.getUTCDay();w=4<=Z||0===Z?Lf(w):Lf.ceil(w);return Sc(w.getUTCFullYear()%1E4,S,4)}function Ze(){return"+0000"}function Gf(){return"%"}function If(w){return+w}function xf(w){return Math.floor(+w/1E3)}function yf(w){return new Date(w)}function Bg(w){return w instanceof Date?+w:+new Date(+w)}function hg(w,S,Z,Ea,sb,wb,Lb,Mb,Kc,Dd){function ed(qf){return(Kc(qf)<qf?xe:Mb(qf)<qf?qe:Lb(qf)<qf?Se:wb(qf)<qf?Cf:Ea(qf)<qf?sb(qf)<qf?Rf:kg:Z(qf)<
qf?Gh:gg)(qf)}var mc=dd()(Fb,Fb),qd=mc.invert,ud=mc.domain,xe=Dd(".%L"),qe=Dd(":%S"),Se=Dd("%I:%M"),Cf=Dd("%I %p"),Rf=Dd("%a %d"),kg=Dd("%b %d"),Gh=Dd("%B"),gg=Dd("%Y");mc.invert=function(qf){return new Date(qd(qf))};mc.domain=function(qf){return arguments.length?ud(Array.from(qf,Bg)):ud().map(yf)};mc.ticks=function(qf){var Mg=ud();return w(Mg[0],Mg[Mg.length-1],null==qf?10:qf)};mc.tickFormat=function(qf,Mg){return null==Mg?ed:Dd(Mg)};mc.nice=function(qf){var Mg=ud();qf&&"function"===typeof qf.range||
(qf=S(Mg[0],Mg[Mg.length-1],null==qf?10:qf));return qf?ud(Xb(Mg,qf)):mc};mc.copy=function(){return cd(mc,hg(w,S,Z,Ea,sb,wb,Lb,Mb,Kc,Dd))};return mc}function vf(){function w(mc){return null==mc||isNaN(mc=+mc)?ed:Kc(0===Lb?.5:(mc=(Mb(mc)-sb)*Lb,Dd?Math.max(0,Math.min(1,mc)):mc))}function S(mc){return function(qd){var ud,xe;return arguments.length?([ud,xe]=qd,Kc=mc(ud,xe),w):[Kc(0),Kc(1)]}}var Z=0,Ea=1,sb,wb,Lb,Mb,Kc=Fb,Dd=!1,ed;w.domain=function(mc){return arguments.length?([Z,Ea]=mc,sb=Mb(Z=+Z),wb=
Mb(Ea=+Ea),Lb=sb===wb?0:1/(wb-sb),w):[Z,Ea]};w.clamp=function(mc){return arguments.length?(Dd=!!mc,w):Dd};w.interpolator=function(mc){return arguments.length?(Kc=mc,w):Kc};w.range=S(Md);w.rangeRound=S(td);w.unknown=function(mc){return arguments.length?(ed=mc,w):ed};return function(mc){Mb=mc;sb=mc(Z);wb=mc(Ea);Lb=sb===wb?0:1/(wb-sb);return w}}function Jf(w,S){return S.domain(w.domain()).interpolator(w.interpolator()).clamp(w.clamp()).unknown(w.unknown())}function dg(){var w=za(vf()(Fb));w.copy=function(){return Jf(w,
dg())};return Pa.apply(w,arguments)}function Xg(){var w=$d(vf()).domain([1,10]);w.copy=function(){return Jf(w,Xg()).base(w.base())};return Pa.apply(w,arguments)}function Fg(){var w=ff(vf());w.copy=function(){return Jf(w,Fg()).constant(w.constant())};return Pa.apply(w,arguments)}function Jg(){var w=T(vf());w.copy=function(){return Jf(w,Jg()).exponent(w.exponent())};return Pa.apply(w,arguments)}function Sg(){function w(qe){return isNaN(qe=+qe)?xe:(qe=.5+((qe=+qd(qe))-Mb)*(wb*qe<wb*Mb?Dd:ed),mc(ud?Math.max(0,
Math.min(1,qe)):qe))}function S(qe){return function(Se){var Cf,Rf,kg;return arguments.length?([Cf,Rf,kg]=Se,mc=La(qe,[Cf,Rf,kg]),w):[mc(0),mc(.5),mc(1)]}}var Z=0,Ea=.5,sb=1,wb=1,Lb,Mb,Kc,Dd,ed,mc=Fb,qd,ud=!1,xe;w.domain=function(qe){return arguments.length?([Z,Ea,sb]=qe,Lb=qd(Z=+Z),Mb=qd(Ea=+Ea),Kc=qd(sb=+sb),Dd=Lb===Mb?0:.5/(Mb-Lb),ed=Mb===Kc?0:.5/(Kc-Mb),wb=Mb<Lb?-1:1,w):[Z,Ea,sb]};w.clamp=function(qe){return arguments.length?(ud=!!qe,w):ud};w.interpolator=function(qe){return arguments.length?(mc=
qe,w):mc};w.range=S(Md);w.rangeRound=S(td);w.unknown=function(qe){return arguments.length?(xe=qe,w):xe};return function(qe){qd=qe;Lb=qe(Z);Mb=qe(Ea);Kc=qe(sb);Dd=Lb===Mb?0:.5/(Mb-Lb);ed=Mb===Kc?0:.5/(Kc-Mb);wb=Mb<Lb?-1:1;return w}}function pa(){var w=za(Sg()(Fb));w.copy=function(){return Jf(w,pa())};return Pa.apply(w,arguments)}function bb(){var w=$d(Sg()).domain([.1,1,10]);w.copy=function(){return Jf(w,bb()).base(w.base())};return Pa.apply(w,arguments)}function Qb(){var w=ff(Sg());w.copy=function(){return Jf(w,
Qb()).constant(w.constant())};return Pa.apply(w,arguments)}function gd(){var w=T(Sg());w.copy=function(){return Jf(w,gd()).exponent(w.exponent())};return Pa.apply(w,arguments)}function ld(){function w(){var mc=Z().length;const qd=sb[1]<sb[0],ud=sb[1-qd],xe=hb(mc,Kc,Dd);let qe=sb[qd-0];wb=(ud-qe)/(xe||1);Mb&&(wb=Math.floor(wb));qe+=(ud-qe-wb*(mc-Kc))*ed;Lb=wb*(1-Kc);Mb&&(qe=Math.round(qe),Lb=Math.round(Lb));mc=Oa(mc).map(Se=>qe+wb*Se);return Ea(qd?mc.reverse():mc)}const S=kb().unknown(void 0),Z=S.domain,
Ea=S.range;let sb=[0,1],wb,Lb,Mb=!1,Kc=0,Dd=0,ed=.5;delete S.unknown;S.domain=function(mc){return arguments.length?(Z(mc),w()):Z()};S.range=function(mc){return arguments.length?(sb=[+mc[0],+mc[1]],w()):sb.slice()};S.rangeRound=function(mc){sb=[+mc[0],+mc[1]];Mb=!0;return w()};S.bandwidth=function(){return Lb};S.step=function(){return wb};S.round=function(mc){return arguments.length?(Mb=!!mc,w()):Mb};S.padding=function(mc){return arguments.length?(Kc=Dd=Math.max(0,Math.min(1,mc)),w()):Kc};S.paddingInner=
function(mc){return arguments.length?(Kc=Math.max(0,Math.min(1,mc)),w()):Kc};S.paddingOuter=function(mc){return arguments.length?(Dd=Math.max(0,Math.min(1,mc)),w()):Dd};S.align=function(mc){return arguments.length?(ed=Math.max(0,Math.min(1,mc)),w()):ed};S.invertRange=function(mc){if(null!=mc[0]&&null!=mc[1]){var qd=sb[1]<sb[0],ud=qd?Ea().reverse():Ea(),xe=ud.length-1,qe=+mc[0],Se=+mc[1];if(qe===qe&&Se===Se){if(Se<qe){var Cf=qe;qe=Se;Se=Cf}if(!(Se<ud[0]||qe>sb[1-qd]))return mc=Math.max(0,Pg(ud,qe)-
1),Se=qe===Se?mc:Pg(ud,Se)-1,qe-ud[mc]>Lb+1E-10&&++mc,qd&&(Cf=mc,mc=xe-Se,Se=xe-Cf),mc>Se?void 0:Z().slice(mc,Se+1)}}};S.invert=function(mc){return(mc=S.invertRange([mc,mc]))?mc[0]:mc};S.copy=function(){return ld().domain(Z()).range(sb).round(Mb).paddingInner(Kc).paddingOuter(Dd).align(ed)};return w()}function pe(w){const S=w.copy;w.padding=w.paddingOuter;delete w.paddingInner;w.copy=function(){return pe(S())};return w}function Oe(){function w(Ea){return null==Ea||Ea!==Ea?void 0:Z[($g(S,Ea)-1)%Z.length]}
let S=[],Z=[];w.domain=function(Ea){return arguments.length?(S=V.call(Ea,g.toNumber),w):S.slice()};w.range=function(Ea){return arguments.length?(Z=ea.call(Ea),w):Z.slice()};w.tickFormat=function(Ea,sb){return ka(S[0],g.peek(S),null==Ea?10:Ea,sb)};w.copy=function(){return Oe().domain(w.domain()).range(w.range())};return w}function nf(w){w[yb]=!0;return w}function Ef(w,S,Z){const Ea=function(){const sb=S();sb.invertRange||(sb.invertRange=sb.invert?Gb(sb):sb.invertExtent?$b(sb):void 0);sb.type=w;return nf(sb)};
Ea.metadata=g.toSet(g.array(Z));return Ea}function Me(w,S,Z){return 1<arguments.length?(Ma.set(w,Ef(w,S,Z)),this):$f(w)?Ma.get(w):void 0}function $f(w){return Ma.has(w)}function Mf(w,S){return(w=Ma.get(w))&&w.metadata[S]}function Tf(w){return Mf(w,"discrete")}function pg(w){return Mf(w,"discretizing")}function qg(w){return Mf(w,"log")}function Og(w){return Mf(w,"temporal")}function Yg(w,S,Z){return La(gh(S||"rgb",Z),w)}function gh(w,S){w=ha[De(w)];return null!=S&&w&&w.gamma?w.gamma(S):w}function De(w){return"interpolate"+
w.toLowerCase().split("-").map(S=>S[0].toUpperCase()+S.slice(1)).join("")}function Ie(w){const S=w.length/6|0,Z=Array(S);for(let Ea=0;Ea<S;)Z[Ea]="#"+w.slice(6*Ea,6*++Ea);return Z}function Kf(w,S){for(const Z in w)wf(Z,S(w[Z]))}function wf(w,S){w=w&&w.toLowerCase();return 1<arguments.length?(Rb[w]=S,this):Rb[w]}function lf(w,S,Z){var Ea=w.range();let sb=Ea[0],wb=g.peek(Ea);Ea=Wc;sb>wb&&(Ea=wb,wb=sb,sb=Ea,Ea=Jd);sb=Math.floor(sb);wb=Math.ceil(wb);S=S.map(Lb=>[Lb,w(Lb)]).filter(Lb=>sb<=Lb[1]&&Lb[1]<=
wb).sort(Ea).map(Lb=>Lb[0]);if(0<Z&&1<S.length){for(Ea=[S[0],g.peek(S)];S.length>Z&&3<=S.length;)S=S.filter((Lb,Mb)=>!(Mb%2));3>S.length&&(S=Ea)}return S}function zf(w,S){return w.bins?lf(w,w.bins):w.ticks?w.ticks(S):w.domain()}function rg(w,S,Z,Ea,sb,wb){const Lb=S.type;let Mb=jc;if("time"===Lb||"time"===sb)Mb=w.timeFormat(Ea);else if("utc"===Lb||"utc"===sb)Mb=w.utcFormat(Ea);else if(qg(Lb)){const Kc=w.formatFloat(Ea);if(wb||S.bins)Mb=Kc;else{const Dd=vg(S,Z,!1);Mb=ed=>Dd(ed)?Kc(ed):""}}else S.tickFormat?
(S=S.domain(),Mb=w.formatSpan(S[0],S[S.length-1],Z,Ea)):Ea&&(Mb=w.format(Ea));return Mb}function vg(w,S,Z){const Ea=zf(w,S),sb=w.base(),wb=Math.log(sb),Lb=Math.max(1,sb*S/Ea.length);w=Mb=>{Mb/=Math.pow(sb,Math.round(Math.log(Mb)/wb));Mb*sb<sb-.5&&(Mb*=sb);return Mb<=Lb};return Z?Ea.filter(w):w}function ig(w,S){w.bins?(w=w.bins,S=w.slice(0,-1),S.max=g.peek(w),w=S):"log"===w.type?w=vg(w,S,!0):Sd[w.type]?(w=w[Sd[w.type]](),w=[-Infinity].concat(w),w.max=Infinity):w=zf(w,S);return w}function Af(w,S,Z,
Ea,sb,wb,Lb){if(ad[S.type]&&"time"!==wb&&"utc"!==wb){Z=S[ad[S.type]]();wb=Z.length;Lb=1<wb?Z[1]-Z[0]:Z[0];let Mb;for(Mb=1;Mb<wb;++Mb)Lb=Math.min(Lb,Z[Mb]-Z[Mb-1]);w=w.formatSpan(0,Lb,30,sb)}else w=rg(w,S,Z,sb,wb,Lb);return"symbol"===Ea&&(Sd[S.type]||S.bins)?ke(w):"discrete"===Ea?Ae(w):Re(w)}const Pg=yc(oc).right;yc(gc).center;var $g=Pg;class jh extends Map{constructor(w,S=Kb){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:S}});if(null!=w)for(const [Z,Ea]of w)this.set(Z,
Ea)}get(w){return super.get(rc(this,w))}has(w){return super.has(rc(this,w))}set(w,S){return super.set(Va(this,w),S)}delete(w){return super.delete(qb(this,w))}}const wg=Math.sqrt(50),qh=Math.sqrt(10),ph=Math.sqrt(2),Ih=Symbol("implicit");var Vg=1/.7,rh=/^#([0-9a-f]{3,8})$/,yh=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),qi=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Tg=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),kh=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),ri=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Cg=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),zh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lb(xb,Zb,{copy(w){return Object.assign(new this.constructor,this,w)},displayable(){return this.rgb().displayable()},hex:ob,formatHex:ob,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return f(this).formatHsl()},formatRgb:Nb,toString:Nb});lb(Fa,Ha,Na(xb,{brighter(w){w=null==w?Vg:Math.pow(Vg,w);return new Fa(this.r*w,this.g*w,this.b*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new Fa(this.r*w,this.g*w,this.b*w,this.opacity)},rgb(){return this},clamp(){return new Fa(p(this.r),p(this.g),p(this.b),ma(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=
this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:cb,formatHex:cb,formatHex8:function(){return`#${L(this.r)}${L(this.g)}${L(this.b)}${L(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:aa,toString:aa}));lb(l,v,Na(xb,{brighter(w){w=null==w?Vg:Math.pow(Vg,w);return new l(this.h,this.s,this.l*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new l(this.h,this.s,this.l*w,this.opacity)},rgb(){var w=this.h%360+360*(0>this.h),S=isNaN(w)||isNaN(this.s)?0:this.s,Z=this.l;S=Z+(.5>
Z?Z:1-Z)*S;Z=2*Z-S;return new Fa(z(240<=w?w-240:w+120,Z,S),z(w,Z,S),z(120>w?w+240:w-120,Z,S),this.opacity)},clamp(){return new l(C(this.h),B(this.s),B(this.l),ma(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const w=ma(this.opacity);return`${1===w?"hsl(":"hsla("}${C(this.h)}, ${100*B(this.s)}%, ${100*B(this.l)}%${1===w?")":`, ${w})`}`}}));const Th=Math.PI/180,Qg=180/Math.PI,Zg=4/29,lh=6/29,sh=3*lh*lh,
Gg=lh*lh*lh;lb(U,G,Na(xb,{brighter(w){return new U(this.l+18*(null==w?1:w),this.a,this.b,this.opacity)},darker(w){return new U(this.l-18*(null==w?1:w),this.a,this.b,this.opacity)},rgb(){var w=(this.l+16)/116,S=isNaN(this.a)?w:w+this.a/500,Z=isNaN(this.b)?w:w-this.b/200;S=.96422*X(S);w=1*X(w);Z=.82521*X(Z);return new Fa(u(3.1338561*S-1.6168667*w-.4906146*Z),u(-.9787684*S+1.9161415*w+.033454*Z),u(.0719453*S-.2289914*w+1.4052427*Z),this.opacity)}}));lb(Wa,Ja,Na(xb,{brighter(w){return new Wa(this.h,this.c,
this.l+18*(null==w?1:w),this.opacity)},darker(w){return new Wa(this.h,this.c,this.l-18*(null==w?1:w),this.opacity)},rgb(){return ab(this).rgb()}}));var Jh=1.78277*-.29227-.1347134789;lb(Ca,W,Na(xb,{brighter(w){w=null==w?Vg:Math.pow(Vg,w);return new Ca(this.h,this.s,this.l*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new Ca(this.h,this.s,this.l*w,this.opacity)},rgb(){var w=isNaN(this.h)?0:(this.h+120)*Th,S=+this.l,Z=isNaN(this.s)?0:this.s*S*(1-S),Ea=Math.cos(w);w=Math.sin(w);return new Fa(255*
(S+Z*(-.14861*Ea+1.78277*w)),255*(S+Z*(-.29227*Ea+-.90649*w)),255*(S+1.97294*Z*Ea),this.opacity)}}));var th=w=>()=>w,uh=function Z(S){function Ea(wb,Lb){var Mb=sb((wb=Ha(wb)).r,(Lb=Ha(Lb)).r),Kc=sb(wb.g,Lb.g),Dd=sb(wb.b,Lb.b),ed=Rc(wb.opacity,Lb.opacity);return function(mc){wb.r=Mb(mc);wb.g=Kc(mc);wb.b=Dd(mc);wb.opacity=ed(mc);return wb+""}}var sb=Wb(S);Ea.gamma=Z;return Ea}(1),Ph=Pd(Ib),Uh=Pd(xc),mh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ah=new RegExp(mh.source,"g"),Vf=180/Math.PI,Hg={translateX:0,
translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Wf,Df=gb(function(S){S=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(S+"");return S.isIdentity?Hg:Ga(S.a,S.b,S.c,S.d,S.e,S.f)},"px, ","px)","deg)"),Kh=gb(function(S){if(null==S)return Hg;Wf||(Wf=document.createElementNS("http://www.w3.org/2000/svg","g"));Wf.setAttribute("transform",S);if(!(S=Wf.transform.baseVal.consolidate()))return Hg;S=S.matrix;return Ga(S.a,S.b,S.c,S.d,S.e,S.f)},", ",")",")"),eg=function wb(Z,Ea,sb){function Lb(Mb,
Kc){var Dd=Mb[0],ed=Mb[1],mc=Mb[2];Mb=Kc[2];var qd=Kc[0]-Dd,ud=Kc[1]-ed,xe=qd*qd+ud*ud;if(1E-12>xe){var qe=Math.log(Mb/mc)/Z;Mb=function(Rf){return[Dd+Rf*qd,ed+Rf*ud,mc*Math.exp(Z*Rf*qe)]}}else{var Se=Math.sqrt(xe);Kc=(Mb*Mb-mc*mc+sb*xe)/(2*mc*Ea*Se);Mb=(Mb*Mb-mc*mc-sb*xe)/(2*Mb*Ea*Se);var Cf=Math.log(Math.sqrt(Kc*Kc+1)-Kc);qe=(Math.log(Math.sqrt(Mb*Mb+1)-Mb)-Cf)/Z;Mb=function(Rf){Rf*=qe;var kg=vb(Cf),Gh=Z*Rf+Cf;var gg=((Gh=Math.exp(2*Gh))-1)/(Gh+1);var qf=Cf;Gh=((qf=Math.exp(qf))-1/qf)/2;gg=mc/(Ea*
Se)*(kg*gg-Gh);return[Dd+gg*qd,ed+gg*ud,mc*kg/vb(Z*Rf+Cf)]}}Mb.duration=1E3*qe*Z/Math.SQRT2;return Mb}Lb.rho=function(Mb){Mb=Math.max(.001,+Mb);var Kc=Mb*Mb;return wb(Mb,Kc,Kc*Kc)};return Lb}(Math.SQRT2,2,4),Xf=ra(bd),R=ra(Rc),va=F(bd),Qa=F(Rc),q=ya(bd),Q=ya(Rc),ha=Object.freeze({__proto__:null,interpolate:Md,interpolateArray:function(Z,Ea){return(Ub(Ea)?Ka:rb)(Z,Ea)},interpolateBasis:Ib,interpolateBasisClosed:xc,interpolateCubehelix:q,interpolateCubehelixLong:Q,interpolateDate:Sb,interpolateDiscrete:function(Z){var Ea=
Z.length;return function(sb){return Z[Math.max(0,Math.min(Ea-1,Math.floor(sb*Ea)))]}},interpolateHcl:va,interpolateHclLong:Qa,interpolateHsl:Xf,interpolateHslLong:R,interpolateHue:function(Z,Ea){var sb=bd(+Z,+Ea);return function(wb){wb=sb(wb);return wb-360*Math.floor(wb/360)}},interpolateLab:function(Z,Ea){var sb=Rc((Z=G(Z)).l,(Ea=G(Ea)).l),wb=Rc(Z.a,Ea.a),Lb=Rc(Z.b,Ea.b),Mb=Rc(Z.opacity,Ea.opacity);return function(Kc){Z.l=sb(Kc);Z.a=wb(Kc);Z.b=Lb(Kc);Z.opacity=Mb(Kc);return Z+""}},interpolateNumber:fc,
interpolateNumberArray:Ka,interpolateObject:bc,interpolateRgb:uh,interpolateRgbBasis:Ph,interpolateRgbBasisClosed:Uh,interpolateRound:td,interpolateString:Yc,interpolateTransformCss:Df,interpolateTransformSvg:Kh,interpolateZoom:eg,piecewise:La,quantize:function(Z,Ea){for(var sb=Array(Ea),wb=0;wb<Ea;++wb)sb[wb]=Z(wb/(Ea-1));return sb}}),wa=[0,1],t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;de.prototype=Ud.prototype;Ud.prototype.toString=function(){return this.fill+this.align+
this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var E,fa={"%":(Z,Ea)=>(100*Z).toFixed(Ea),b:Z=>Math.round(Z).toString(2),c:Z=>Z+"",d:function(Z){return 1E21<=Math.abs(Z=Math.round(Z))?Z.toLocaleString("en").replace(/,/g,""):Z.toString(10)},e:(Z,Ea)=>Z.toExponential(Ea),f:(Z,Ea)=>Z.toFixed(Ea),g:(Z,Ea)=>Z.toPrecision(Ea),o:Z=>Math.round(Z).toString(8),
p:(Z,Ea)=>Te(100*Z,Ea),r:Te,s:function(Z,Ea){var sb=Qd(Z,Ea);if(!sb)return Z+"";var wb=sb[0];sb=sb[1];sb=sb-(E=3*Math.max(-8,Math.min(8,Math.floor(sb/3))))+1;var Lb=wb.length;return sb===Lb?wb:sb>Lb?wb+Array(sb-Lb+1).join("0"):0<sb?wb.slice(0,sb)+"."+wb.slice(sb):"0."+Array(1-sb).join("0")+Qd(Z,Math.max(0,Ea+sb-1))[0]},X:Z=>Math.round(Z).toString(16).toUpperCase(),x:Z=>Math.round(Z).toString(16)},k=Array.prototype.map,y="y z a f p n  m  k M G T P E Z Y".split(" "),ba,oa,Ta;(function(Z){ba=M(Z);oa=
ba.format;Ta=ba.formatPrefix;return ba})({thousands:",",grouping:[3],currency:["$",""]});const Ya=new Date,Jb=new Date,hc=Bc(()=>{},(Z,Ea)=>{Z.setTime(+Z+Ea)},(Z,Ea)=>Ea-Z);hc.every=Z=>{Z=Math.floor(Z);return isFinite(Z)&&0<Z?1<Z?Bc(Ea=>{Ea.setTime(Math.floor(Ea/Z)*Z)},(Ea,sb)=>{Ea.setTime(+Ea+sb*Z)},(Ea,sb)=>(sb-Ea)/Z):hc:null};hc.range;const Tb=Bc(Z=>{Z.setTime(Z-Z.getMilliseconds())},(Z,Ea)=>{Z.setTime(+Z+1E3*Ea)},(Z,Ea)=>(Ea-Z)/1E3,Z=>Z.getUTCSeconds());Tb.range;const pd=Bc(Z=>{Z.setTime(Z-Z.getMilliseconds()-
1E3*Z.getSeconds())},(Z,Ea)=>{Z.setTime(+Z+6E4*Ea)},(Z,Ea)=>(Ea-Z)/6E4,Z=>Z.getMinutes());pd.range;const Zc=Bc(Z=>{Z.setUTCSeconds(0,0)},(Z,Ea)=>{Z.setTime(+Z+6E4*Ea)},(Z,Ea)=>(Ea-Z)/6E4,Z=>Z.getUTCMinutes());Zc.range;const Rd=Bc(Z=>{Z.setTime(Z-Z.getMilliseconds()-1E3*Z.getSeconds()-6E4*Z.getMinutes())},(Z,Ea)=>{Z.setTime(+Z+36E5*Ea)},(Z,Ea)=>(Ea-Z)/36E5,Z=>Z.getHours());Rd.range;const te=Bc(Z=>{Z.setUTCMinutes(0,0,0)},(Z,Ea)=>{Z.setTime(+Z+36E5*Ea)},(Z,Ea)=>(Ea-Z)/36E5,Z=>Z.getUTCHours());te.range;
const ve=Bc(Z=>Z.setHours(0,0,0,0),(Z,Ea)=>Z.setDate(Z.getDate()+Ea),(Z,Ea)=>(Ea-Z-6E4*(Ea.getTimezoneOffset()-Z.getTimezoneOffset()))/864E5,Z=>Z.getDate()-1);ve.range;const ue=Bc(Z=>{Z.setUTCHours(0,0,0,0)},(Z,Ea)=>{Z.setUTCDate(Z.getUTCDate()+Ea)},(Z,Ea)=>(Ea-Z)/864E5,Z=>Z.getUTCDate()-1);ue.range;const Ve=Bc(Z=>{Z.setUTCHours(0,0,0,0)},(Z,Ea)=>{Z.setUTCDate(Z.getUTCDate()+Ea)},(Z,Ea)=>(Ea-Z)/864E5,Z=>Math.floor(Z/864E5));Ve.range;const sf=Yb(0),Lg=Yb(1),$e=Yb(2),Pe=Yb(3),bg=Yb(4),vh=Yb(5),fg=Yb(6);
sf.range;Lg.range;$e.range;Pe.range;bg.range;vh.range;fg.range;const of=I(0),mf=I(1),Nf=I(2),Pf=I(3),Lf=I(4),Wg=I(5),jg=I(6);of.range;mf.range;Nf.range;Pf.range;Lf.range;Wg.range;jg.range;const wh=Bc(Z=>{Z.setDate(1);Z.setHours(0,0,0,0)},(Z,Ea)=>{Z.setMonth(Z.getMonth()+Ea)},(Z,Ea)=>Ea.getMonth()-Z.getMonth()+12*(Ea.getFullYear()-Z.getFullYear()),Z=>Z.getMonth());wh.range;const lg=Bc(Z=>{Z.setUTCDate(1);Z.setUTCHours(0,0,0,0)},(Z,Ea)=>{Z.setUTCMonth(Z.getUTCMonth()+Ea)},(Z,Ea)=>Ea.getUTCMonth()-Z.getUTCMonth()+
12*(Ea.getUTCFullYear()-Z.getUTCFullYear()),Z=>Z.getUTCMonth());lg.range;const Kg=Bc(Z=>{Z.setMonth(0,1);Z.setHours(0,0,0,0)},(Z,Ea)=>{Z.setFullYear(Z.getFullYear()+Ea)},(Z,Ea)=>Ea.getFullYear()-Z.getFullYear(),Z=>Z.getFullYear());Kg.every=Z=>isFinite(Z=Math.floor(Z))&&0<Z?Bc(Ea=>{Ea.setFullYear(Math.floor(Ea.getFullYear()/Z)*Z);Ea.setMonth(0,1);Ea.setHours(0,0,0,0)},(Ea,sb)=>{Ea.setFullYear(Ea.getFullYear()+sb*Z)}):null;Kg.range;const sg=Bc(Z=>{Z.setUTCMonth(0,1);Z.setUTCHours(0,0,0,0)},(Z,Ea)=>
{Z.setUTCFullYear(Z.getUTCFullYear()+Ea)},(Z,Ea)=>Ea.getUTCFullYear()-Z.getUTCFullYear(),Z=>Z.getUTCFullYear());sg.every=Z=>isFinite(Z=Math.floor(Z))&&0<Z?Bc(Ea=>{Ea.setUTCFullYear(Math.floor(Ea.getUTCFullYear()/Z)*Z);Ea.setUTCMonth(0,1);Ea.setUTCHours(0,0,0,0)},(Ea,sb)=>{Ea.setUTCFullYear(Ea.getUTCFullYear()+sb*Z)}):null;sg.range;const [Yh,oi]=da(sg,lg,of,Ve,te,Zc),[di,Oi]=da(Kg,wh,sf,ve,Rd,pd);var Li={"-":"",_:" ",0:"0"},Ag=/^\s*\d+/,Pi=/^%/,lj=/[\\^$*+?|[\]().{}]/g,ii,ti,x;(function(Z){ii=Cc(Z);
ti=ii.format;ii.parse;x=ii.utcFormat;ii.utcParse;return ii})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var V=Array.prototype.map;const ea=Array.prototype.slice,
Ma=new Map,yb=Symbol("vega_scale");Me("identity",Hb);Me("linear",fb,"continuous");Me("log",Wd,["continuous","log"]);Me("pow",ta,"continuous");Me("sqrt",function(){return ta.apply(null,arguments).exponent(.5)},"continuous");Me("symlog",df,"continuous");Me("time",function(){return Da.apply(hg(di,Oi,Kg,wh,sf,ve,Rd,pd,Tb,ti).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);Me("utc",function(){return Da.apply(hg(Yh,oi,sg,lg,of,ue,te,Zc,Tb,x).domain([Date.UTC(2E3,0,1),
Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);Me("sequential",dg,["continuous","interpolating"]);Me("sequential-linear",dg,["continuous","interpolating"]);Me("sequential-log",Xg,["continuous","interpolating","log"]);Me("sequential-pow",Jg,["continuous","interpolating"]);Me("sequential-sqrt",function(){return Jg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Me("sequential-symlog",Fg,["continuous","interpolating"]);Me("diverging-linear",pa,["continuous","interpolating"]);
Me("diverging-log",bb,["continuous","interpolating","log"]);Me("diverging-pow",gd,["continuous","interpolating"]);Me("diverging-sqrt",function(){return gd.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Me("diverging-symlog",Qb,["continuous","interpolating"]);Me("quantile",db,["discretizing","quantile"]);Me("quantize",zb,"discretizing");Me("threshold",ec,"discretizing");Me("bin-ordinal",Oe,["discrete","discretizing"]);Me("ordinal",kb,"discrete");Me("band",ld,"discrete");Me("point",
function(){return pe(ld().paddingInner(1))},"discrete");const Cb=["clamp","base","constant","exponent"],Rb={};Kf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",
tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",
set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Ie);Kf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",
purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",
purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",
brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",
redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",
inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",
rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Z=>Yg(Ie(Z)));const jc=Z=>g.isArray(Z)?Z.map(Ea=>String(Ea)):String(Z),Wc=(Z,Ea)=>Z[1]-Ea[1],Jd=(Z,Ea)=>Ea[1]-Z[1],Sd={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},ad={quantile:"quantiles",quantize:"domain"},ke=Z=>(Ea,sb,wb)=>{sb=wb[sb+1];wb=wb.max;wb=null!=wb?wb:Infinity;sb=null!=sb?sb:wb;
Ea=Number.isFinite(Ea)?Z(Ea):null;sb=Number.isFinite(sb)?Z(sb):null;return Ea&&sb?Ea+"  "+sb:sb?"\x3c "+sb:" "+Ea},Ae=Z=>(Ea,sb)=>sb?Z(Ea):null,Re=Z=>Ea=>Z(Ea);r.Band="band";r.BinOrdinal="bin-ordinal";r.DiscreteLegend="discrete";r.Diverging="diverging";r.GradientLegend="gradient";r.Identity="identity";r.Linear="linear";r.Log="log";r.Ordinal="ordinal";r.Point="point";r.Pow="pow";r.Quantile="quantile";r.Quantize="quantize";r.Sequential="sequential";r.Sqrt="sqrt";r.SymbolLegend="symbol";r.Symlog="symlog";
r.Threshold="threshold";r.Time="time";r.UTC="utc";r.bandSpace=hb;r.domainCaption=function(Z,Ea,sb){sb=sb||{};var wb=Math.max(3,sb.maxlen||7),Lb=sb.format;const Mb=(sb=sb.formatType)||Ea.type;g.isString(Lb)&&Og(Mb)&&(Lb=Lb.replace(/%a/g,"%A").replace(/%b/g,"%B"));Z=Lb||"time"!==Mb?Lb||"utc"!==Mb?Af(Z,Ea,5,null,Lb,sb,!0):Z.utcFormat("%A, %d %B %Y, %X UTC"):Z.timeFormat("%A, %d %B %Y, %X");if(pg(Ea.type))return wb=ig(Ea).slice(1).map(Z),Ea=wb.length,`${Ea} boundar${1===Ea?"y":"ies"}: ${wb.join(", ")}`;
if(Tf(Ea.type))return Lb=Ea.domain(),Ea=Lb.length,wb=Ea>wb?Lb.slice(0,wb-2).map(Z).join(", ")+", ending with "+Lb.slice(-1).map(Z):Lb.map(Z).join(", "),`${Ea} value${1===Ea?"":"s"}: ${wb}`;wb=Ea.domain();return`values from ${Z(wb[0])} to ${Z(g.peek(wb))}`};r.interpolate=gh;r.interpolateColors=Yg;r.interpolateRange=function(Z,Ea){const sb=Ea[0],wb=g.peek(Ea)-sb;return function(Lb){return Z(sb+Lb*wb)}};r.isContinuous=function(Z){return Mf(Z,"continuous")};r.isDiscrete=Tf;r.isDiscretizing=pg;r.isInterpolating=
function(Z){return Mf(Z,"interpolating")};r.isLogarithmic=qg;r.isQuantile=function(Z){return Mf(Z,"quantile")};r.isRegisteredScale=function(Z){return Z&&!0===Z[yb]};r.isTemporal=Og;r.isValidScaleType=$f;r.labelFormat=Af;r.labelFraction=function(Z){var Ea=Z.domain();const sb=Ea.length-1;let wb=+Ea[0];Ea=+g.peek(Ea);let Lb=Ea-wb;"threshold"===Z.type&&(Z=sb?Lb/sb:.1,wb-=Z,Ea+=Z,Lb=Ea-wb);return Mb=>(Mb-wb)/Lb};r.labelValues=ig;r.quantizeInterpolator=function(Z,Ea){const sb=Array(Ea),wb=Ea+1;for(let Lb=
0;Lb<Ea;)sb[Lb]=Z(++Lb/wb);return sb};r.registerScale=nf;r.scale=Me;r.scaleCopy=function(Z){const Ea=Z.type;Z=Z.copy();Z.type=Ea;return Z};r.scaleFraction=function(Z,Ea,sb){var wb=sb-Ea;let Lb,Mb;return wb&&Number.isFinite(wb)?(wb=(Lb=Z.type).indexOf("-"),Lb=0>wb?Lb:Lb.slice(wb+1),Mb=Me(Lb)().domain([Ea,sb]).range([0,1]),Cb.forEach(Kc=>Z[Kc]?Mb[Kc](Z[Kc]()):0),Mb):g.constant(.5)};r.scaleImplicit=Ih;r.scheme=wf;r.tickCount=function(Z,Ea,sb){let wb;g.isNumber(Ea)&&(Z.bins&&(Ea=Math.max(Ea,Z.bins.length)),
null!=sb&&(Ea=Math.min(Ea,Math.floor(g.span(Z.domain())/sb||1))));g.isObject(Ea)&&(wb=Ea.step,Ea=Ea.interval);g.isString(Ea)&&(Ea="time"===Z.type?qa.timeInterval(Ea):"utc"==Z.type?qa.utcInterval(Ea):g.error("Only time and utc scales accept interval strings."),wb&&(Ea=Ea.every(wb)));return Ea};r.tickFormat=rg;r.tickValues=zf;r.validTicks=lf})};
shadow$provide[34]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(32),Db(28),Db(33)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb,Gb){function $b(q,Q,ha){const wa=q.gradient;let t=q.id,E="radial"===wa?"p_":"";t||(t=q.id="gradient_"+ub++,"radial"===wa?(q.x1=oc(q.x1,
.5),q.y1=oc(q.y1,.5),q.r1=oc(q.r1,0),q.x2=oc(q.x2,.5),q.y2=oc(q.y2,.5),q.r2=oc(q.r2,.5),E="p_"):(q.x1=oc(q.x1,0),q.y1=oc(q.y1,0),q.x2=oc(q.x2,1),q.y2=oc(q.y2,0)));Q[t]=q;return"url("+(ha||"")+"#"+E+t+")"}function oc(q,Q){return null!=q?q:Q}function kc(q){return function(){return q}}function yc(q){return 1<=q?Cd:-1>=q?-Cd:Math.asin(q)}function Ab(q){this._+=q[0];for(let Q=1,ha=q.length;Q<ha;++Q)this._+=arguments[Q]+q[Q]}function gc(q){let Q=Math.floor(q);if(!(0<=Q))throw Error(`invalid digits: ${q}`);
if(15<Q)return Ab;const ha=Math.pow(10,Q);return function(wa){this._+=wa[0];for(let t=1,E=wa.length;t<E;++t)this._+=Math.round(arguments[t]*ha)/ha+wa[t]}}function rc(){return new ye}function Va(q){let Q=3;q.digits=function(ha){if(!arguments.length)return Q;if(null==ha)Q=null;else{const wa=Math.floor(ha);if(!(0<=wa))throw new RangeError(`invalid digits: ${ha}`);Q=wa}return q};return()=>new ye(Q)}function qb(q){return q.innerRadius}function Kb(q){return q.outerRadius}function Ob(q){return q.startAngle}
function Bb(q){return q.endAngle}function Pb(q){return q&&q.padAngle}function Ua(q,Q,ha,wa,t,E,fa){var k=q-ha,y=Q-wa;fa=(fa?E:-E)/$c(k*k+y*y);y*=fa;k*=-fa;var ba=q+y,oa=Q+k,Ta=ha+y,Ya=wa+k;ha=(ba+Ta)/2;wa=(oa+Ya)/2;Q=Ta-ba;q=Ya-oa;fa=Q*Q+q*q;E=t-E;Ya=ba*Ya-Ta*oa;var Jb=(0>q?-1:1)*$c(Ic(0,E*E*fa-Ya*Ya));ba=(Ya*q-Q*Jb)/fa;oa=(-Ya*Q-q*Jb)/fa;Ta=(Ya*q+Q*Jb)/fa;Q=(-Ya*Q+q*Jb)/fa;q=ba-ha;fa=oa-wa;ha=Ta-ha;wa=Q-wa;q*q+fa*fa>ha*ha+wa*wa&&(ba=Ta,oa=Q);return{cx:ba,cy:oa,x01:-y,y01:-k,x11:ba*(t/E-1),y11:oa*
(t/E-1)}}function pb(q){return"object"===typeof q&&"length"in q?q:Array.from(q)}function Oa(q){this._context=q}function Da(q){return new Oa(q)}function Pa(q){return q[0]}function kb(q){return q[1]}function lb(q,Q){function ha(y){var ba,oa=(y=pb(y)).length,Ta,Ya=!1,Jb;null==t&&(fa=E(Jb=k()));for(ba=0;ba<=oa;++ba)!(ba<oa&&wa(Ta=y[ba],ba,y))===Ya&&((Ya=!Ya)?fa.lineStart():fa.lineEnd()),Ya&&fa.point(+q(Ta,ba,y),+Q(Ta,ba,y));if(Jb)return fa=null,Jb+""||null}var wa=kc(!0),t=null,E=Da,fa=null,k=Va(ha);q=
"function"===typeof q?q:void 0===q?Pa:kc(q);Q="function"===typeof Q?Q:void 0===Q?kb:kc(Q);ha.x=function(y){return arguments.length?(q="function"===typeof y?y:kc(+y),ha):q};ha.y=function(y){return arguments.length?(Q="function"===typeof y?y:kc(+y),ha):Q};ha.defined=function(y){return arguments.length?(wa="function"===typeof y?y:kc(!!y),ha):wa};ha.curve=function(y){return arguments.length?(E=y,null!=t&&(fa=E(t)),ha):E};ha.context=function(y){return arguments.length?(null==y?t=fa=null:fa=E(t=y),ha):
t};return ha}function Na(q,Q,ha){function wa(Ta){var Ya,Jb,hc=(Ta=pb(Ta)).length,Tb,pd=!1,Zc,Rd=Array(hc),te=Array(hc);null==k&&(ba=y(Zc=oa()));for(Ya=0;Ya<=hc;++Ya){if(!(Ya<hc&&fa(Tb=Ta[Ya],Ya,Ta))===pd)if(pd=!pd){var ve=Ya;ba.areaStart();ba.lineStart()}else{ba.lineEnd();ba.lineStart();for(Jb=Ya-1;Jb>=ve;--Jb)ba.point(Rd[Jb],te[Jb]);ba.lineEnd();ba.areaEnd()}pd&&(Rd[Ya]=+q(Tb,Ya,Ta),te[Ya]=+Q(Tb,Ya,Ta),ba.point(E?+E(Tb,Ya,Ta):Rd[Ya],ha?+ha(Tb,Ya,Ta):te[Ya]))}if(Zc)return ba=null,Zc+""||null}function t(){return lb().defined(fa).curve(y).context(k)}
var E=null,fa=kc(!0),k=null,y=Da,ba=null,oa=Va(wa);q="function"===typeof q?q:void 0===q?Pa:kc(+q);Q="function"===typeof Q?Q:void 0===Q?kc(0):kc(+Q);ha="function"===typeof ha?ha:void 0===ha?kb:kc(+ha);wa.x=function(Ta){return arguments.length?(q="function"===typeof Ta?Ta:kc(+Ta),E=null,wa):q};wa.x0=function(Ta){return arguments.length?(q="function"===typeof Ta?Ta:kc(+Ta),wa):q};wa.x1=function(Ta){return arguments.length?(E=null==Ta?null:"function"===typeof Ta?Ta:kc(+Ta),wa):E};wa.y=function(Ta){return arguments.length?
(Q="function"===typeof Ta?Ta:kc(+Ta),ha=null,wa):Q};wa.y0=function(Ta){return arguments.length?(Q="function"===typeof Ta?Ta:kc(+Ta),wa):Q};wa.y1=function(Ta){return arguments.length?(ha=null==Ta?null:"function"===typeof Ta?Ta:kc(+Ta),wa):ha};wa.lineX0=wa.lineY0=function(){return t().x(q).y(Q)};wa.lineY1=function(){return t().x(q).y(ha)};wa.lineX1=function(){return t().x(E).y(Q)};wa.defined=function(Ta){return arguments.length?(fa="function"===typeof Ta?Ta:kc(!!Ta),wa):fa};wa.curve=function(Ta){return arguments.length?
(y=Ta,null!=k&&(ba=y(k)),wa):y};wa.context=function(Ta){return arguments.length?(null==Ta?k=ba=null:ba=y(k=Ta),wa):k};return wa}function xb(){}function ob(q,Q,ha){q._context.bezierCurveTo((2*q._x0+q._x1)/3,(2*q._y0+q._y1)/3,(q._x0+2*q._x1)/3,(q._y0+2*q._y1)/3,(q._x0+4*q._x1+Q)/6,(q._y0+4*q._y1+ha)/6)}function Nb(q){this._context=q}function Zb(q){this._context=q}function nb(q){this._context=q}function la(q,Q){this._basis=new Nb(q);this._beta=Q}function Y(q,Q,ha){q._context.bezierCurveTo(q._x1+q._k*
(q._x2-q._x0),q._y1+q._k*(q._y2-q._y0),q._x2+q._k*(q._x1-Q),q._y2+q._k*(q._y1-ha),q._x2,q._y2)}function Ha(q,Q){this._context=q;this._k=(1-Q)/6}function Fa(q,Q){this._context=q;this._k=(1-Q)/6}function cb(q,Q){this._context=q;this._k=(1-Q)/6}function aa(q,Q,ha){var wa=q._x1,t=q._y1,E=q._x2,fa=q._y2;if(1E-12<q._l01_a){var k=2*q._l01_2a+3*q._l01_a*q._l12_a+q._l12_2a,y=3*q._l01_a*(q._l01_a+q._l12_a);wa=(wa*k-q._x0*q._l12_2a+q._x2*q._l01_2a)/y;t=(t*k-q._y0*q._l12_2a+q._y2*q._l01_2a)/y}1E-12<q._l23_a&&
(k=2*q._l23_2a+3*q._l23_a*q._l12_a+q._l12_2a,y=3*q._l23_a*(q._l23_a+q._l12_a),E=(E*k+q._x1*q._l23_2a-Q*q._l12_2a)/y,fa=(fa*k+q._y1*q._l23_2a-ha*q._l12_2a)/y);q._context.bezierCurveTo(wa,t,E,fa,q._x2,q._y2)}function ma(q,Q){this._context=q;this._alpha=Q}function p(q,Q){this._context=q;this._alpha=Q}function L(q,Q){this._context=q;this._alpha=Q}function P(q){this._context=q}function f(q,Q,ha){var wa=q._x1-q._x0;Q-=q._x1;var t=(q._y1-q._y0)/(wa||0>Q&&-0);q=(ha-q._y1)/(Q||0>wa&&-0);return((0>t?-1:1)+
(0>q?-1:1))*Math.min(Math.abs(t),Math.abs(q),.5*Math.abs((t*Q+q*wa)/(wa+Q)))||0}function v(q,Q){var ha=q._x1-q._x0;return ha?(3*(q._y1-q._y0)/ha-Q)/2:Q}function l(q,Q,ha){var wa=q._x0,t=q._x1,E=q._y1,fa=(t-wa)/3;q._context.bezierCurveTo(wa+fa,q._y0+fa*Q,t-fa,E-fa*ha,t,E)}function C(q){this._context=q}function B(q){this._context=new z(q)}function z(q){this._context=q}function D(q){this._context=q}function G(q){var Q,ha=q.length-1,wa=Array(ha),t=Array(ha),E=Array(ha);wa[0]=0;t[0]=2;E[0]=q[0]+2*q[1];
for(Q=1;Q<ha-1;++Q)wa[Q]=1,t[Q]=4,E[Q]=4*q[Q]+2*q[Q+1];wa[ha-1]=2;t[ha-1]=7;E[ha-1]=8*q[ha-1]+q[ha];for(Q=1;Q<ha;++Q){var fa=wa[Q]/t[Q-1];t[Q]-=fa;E[Q]-=fa*E[Q-1]}wa[ha-1]=E[ha-1]/t[ha-1];for(Q=ha-2;0<=Q;--Q)wa[Q]=(E[Q]-wa[Q+1])/t[Q];t[ha-1]=(q[ha]+wa[ha-1])/2;for(Q=0;Q<ha-1;++Q)t[Q]=2*q[Q+1]-wa[Q+1];return[wa,t]}function U(q,Q){this._context=q;this._t=Q}function Aa(q,Q,ha){q=g.hasOwnProperty(Hf,q)&&Hf[q];var wa=null;q&&(wa=q.curve||q[Q||"vertical"],q.tension&&null!=ha&&(wa=wa[q.tension](ha)));return wa}
function X(q){const Q=[];(q.match(Zf)||[]).forEach(ha=>{let wa=ha[0];var t=wa.toLowerCase();const E=ef[t];var fa=ha.slice(1).trim();ha=[];for(let y=0;E&&y<fa.length;)for(let ba=0;ba<E;++ba){var k="a"!==t||3!==ba&&4!==ba?Yd:jf;k=fa.slice(y).match(k);if(null===k)throw Error("Invalid SVG path, incorrect parameter type");y+=k[0].length;ha.push(+k[0]);k=fa.slice(y).match(cf);null!==k&&(y+=k[0].length)}fa=ha.length;if(fa<E||fa&&0!==fa%E)throw Error("Invalid SVG path, incorrect parameter count");Q.push([wa,
...ha.slice(0,E)]);if(fa!==E)for("m"===t&&(wa="M"===wa?"L":"l"),t=E;t<fa;t+=E)Q.push([wa,...ha.slice(t,t+E)])});return Q}function u(q,Q,ha,wa,t,E,fa,k,y){const ba=hg.call(arguments);if(yf[ba])return yf[ba];var oa=fa*Ze;const Ta=Math.sin(oa);oa=Math.cos(oa);ha=Math.abs(ha);wa=Math.abs(wa);var Ya=oa*(k-q)*.5+Ta*(y-Q)*.5,Jb=oa*(y-Q)*.5-Ta*(k-q)*.5;Ya=Ya*Ya/(ha*ha)+Jb*Jb/(wa*wa);1<Ya&&(Ya=Math.sqrt(Ya),ha*=Ya,wa*=Ya);var hc=oa/ha,Tb=Ta/ha,pd=-Ta/wa,Zc=oa/wa;Ya=hc*k+Tb*y;Jb=pd*k+Zc*y;hc=hc*q+Tb*Q;Tb=pd*
q+Zc*Q;pd=1/((hc-Ya)*(hc-Ya)+(Tb-Jb)*(Tb-Jb))-.25;0>pd&&(pd=0);Zc=Math.sqrt(pd);E==t&&(Zc=-Zc);pd=.5*(Ya+hc)-Zc*(Tb-Jb);Zc=.5*(Jb+Tb)+Zc*(hc-Ya);Ya=Math.atan2(Jb-Zc,Ya-pd);Jb=Math.atan2(Tb-Zc,hc-pd)-Ya;0>Jb&&1===E?Jb+=If:0<Jb&&0===E&&(Jb-=If);hc=Math.ceil(Math.abs(Jb/(Gf+.001)));Tb=[];for(let Rd=0;Rd<hc;++Rd)Tb[Rd]=[pd,Zc,Ya+Rd*Jb/hc,Ya+(Rd+1)*Jb/hc,ha,wa,Ta,oa];return yf[ba]=Tb}function K(q,Q,ha,wa,t,E){var fa=null,k=0,y=0,ba=0,oa=0,Ta=0,Ya=0;null==ha&&(ha=0);null==wa&&(wa=0);null==t&&(t=1);null==
E&&(E=t);q.beginPath&&q.beginPath();for(var Jb=0,hc=Q.length;Jb<hc;++Jb){var Tb=Q[Jb];if(1!==t||1!==E){var pd=t;var Zc=E;var Rd=vf[0]=Tb[0];if("a"===Rd||"A"===Rd)vf[1]=pd*Tb[1],vf[2]=Zc*Tb[2],vf[3]=Tb[3],vf[4]=Tb[4],vf[5]=Tb[5],vf[6]=pd*Tb[6],vf[7]=Zc*Tb[7];else if("h"===Rd||"H"===Rd)vf[1]=pd*Tb[1];else if("v"===Rd||"V"===Rd)vf[1]=Zc*Tb[1];else{Rd=1;for(var te=Tb.length;Rd<te;++Rd)vf[Rd]=(1==Rd%2?pd:Zc)*Tb[Rd]}Tb=vf}switch(Tb[0]){case "l":k+=Tb[1];y+=Tb[2];q.lineTo(k+ha,y+wa);break;case "L":k=Tb[1];
y=Tb[2];q.lineTo(k+ha,y+wa);break;case "h":k+=Tb[1];q.lineTo(k+ha,y+wa);break;case "H":k=Tb[1];q.lineTo(k+ha,y+wa);break;case "v":y+=Tb[1];q.lineTo(k+ha,y+wa);break;case "V":y=Tb[1];q.lineTo(k+ha,y+wa);break;case "m":k+=Tb[1];y+=Tb[2];Ta=k;Ya=y;q.moveTo(k+ha,y+wa);break;case "M":k=Tb[1];y=Tb[2];Ta=k;Ya=y;q.moveTo(k+ha,y+wa);break;case "c":pd=k+Tb[5];Zc=y+Tb[6];ba=k+Tb[3];oa=y+Tb[4];q.bezierCurveTo(k+Tb[1]+ha,y+Tb[2]+wa,ba+ha,oa+wa,pd+ha,Zc+wa);k=pd;y=Zc;break;case "C":k=Tb[5];y=Tb[6];ba=Tb[3];oa=
Tb[4];q.bezierCurveTo(Tb[1]+ha,Tb[2]+wa,ba+ha,oa+wa,k+ha,y+wa);break;case "s":pd=k+Tb[3];Zc=y+Tb[4];ba=2*k-ba;oa=2*y-oa;q.bezierCurveTo(ba+ha,oa+wa,k+Tb[1]+ha,y+Tb[2]+wa,pd+ha,Zc+wa);ba=k+Tb[1];oa=y+Tb[2];k=pd;y=Zc;break;case "S":pd=Tb[3];Zc=Tb[4];ba=2*k-ba;oa=2*y-oa;q.bezierCurveTo(ba+ha,oa+wa,Tb[1]+ha,Tb[2]+wa,pd+ha,Zc+wa);k=pd;y=Zc;ba=Tb[1];oa=Tb[2];break;case "q":pd=k+Tb[3];Zc=y+Tb[4];ba=k+Tb[1];oa=y+Tb[2];q.quadraticCurveTo(ba+ha,oa+wa,pd+ha,Zc+wa);k=pd;y=Zc;break;case "Q":pd=Tb[3];Zc=Tb[4];
q.quadraticCurveTo(Tb[1]+ha,Tb[2]+wa,pd+ha,Zc+wa);k=pd;y=Zc;ba=Tb[1];oa=Tb[2];break;case "t":pd=k+Tb[1];Zc=y+Tb[2];null===fa[0].match(/[QqTt]/)?(ba=k,oa=y):"t"===fa[0]?(ba=2*k-ve,oa=2*y-ue):"q"===fa[0]&&(ba=2*k-ba,oa=2*y-oa);var ve=ba;var ue=oa;q.quadraticCurveTo(ba+ha,oa+wa,pd+ha,Zc+wa);k=pd;y=Zc;ba=k+Tb[1];oa=y+Tb[2];break;case "T":pd=Tb[1];Zc=Tb[2];ba=2*k-ba;oa=2*y-oa;q.quadraticCurveTo(ba+ha,oa+wa,pd+ha,Zc+wa);k=pd;y=Zc;break;case "a":ua(q,k+ha,y+wa,[Tb[1],Tb[2],Tb[3],Tb[4],Tb[5],Tb[6]+k+ha,Tb[7]+
y+wa]);k+=Tb[6];y+=Tb[7];break;case "A":ua(q,k+ha,y+wa,[Tb[1],Tb[2],Tb[3],Tb[4],Tb[5],Tb[6]+ha,Tb[7]+wa]);k=Tb[6];y=Tb[7];break;case "z":case "Z":k=Ta,y=Ya,q.closePath()}fa=Tb}}function ua(q,Q,ha,wa){Q=u(wa[5],wa[6],wa[0],wa[1],wa[3],wa[4],wa[2],Q,ha);for(ha=0;ha<Q.length;++ha){a:{var t=Q[ha];wa=hg.call(t);if(Bg[wa]){wa=Bg[wa];break a}var E=t[0],fa=t[1],k=t[2],y=t[3],ba=t[4],oa=t[5],Ta=t[6],Ya=t[7];t=Ya*ba;const hc=-Ta*oa;ba*=Ta;oa*=Ya;var Jb=Math.cos(k);const Tb=Math.sin(k);Ta=Math.cos(y);Ya=Math.sin(y);
k=.5*(y-k);y=Math.sin(.5*k);y=8/3*y*y/Math.sin(k);k=E+Jb-y*Tb;Jb=fa+Tb+y*Jb;E+=Ta;fa+=Ya;Ya=E+y*Ya;Ta=fa-y*Ta;wa=Bg[wa]=[t*k+hc*Jb,ba*k+oa*Jb,t*Ya+hc*Ta,ba*Ya+oa*Ta,t*E+hc*fa,ba*E+oa*fa]}q.bezierCurveTo(wa[0],wa[1],wa[2],wa[3],wa[4],wa[5])}}function Ja(q){return g.hasOwnProperty(Jf,q)?Jf[q]:Wa(q)}function Wa(q){if(!g.hasOwnProperty(dg,q)){const Q=X(q);dg[q]={draw:function(ha,wa){K(ha,Q,0,0,Math.sqrt(wa)/2)}}}return dg[q]}function ab(q){return q.x}function W(q){return q.y}function Ca(q){return q.width}
function Za(q){return q.height}function Ib(q){return"function"===typeof q?q:()=>+q}function xc(q,Q,ha){return Math.max(Q,Math.min(q,ha))}function uc(){function q(oa,Ta,Ya){var Jb;Ta=null!=Ta?Ta:+Q.call(this,oa);Ya=null!=Ya?Ya:+ha.call(this,oa);var hc=+wa.call(this,oa),Tb=+t.call(this,oa),pd=Math.min(hc,Tb)/2,Zc=xc(+E.call(this,oa),0,pd),Rd=xc(+fa.call(this,oa),0,pd),te=xc(+k.call(this,oa),0,pd);oa=xc(+y.call(this,oa),0,pd);ba||(ba=Jb=rc());0>=Zc&&0>=Rd&&0>=te&&0>=oa?ba.rect(Ta,Ya,hc,Tb):(hc=Ta+hc,
Tb=Ya+Tb,ba.moveTo(Ta+Zc,Ya),ba.lineTo(hc-Rd,Ya),ba.bezierCurveTo(hc-.448084975506*Rd,Ya,hc,Ya+.448084975506*Rd,hc,Ya+Rd),ba.lineTo(hc,Tb-oa),ba.bezierCurveTo(hc,Tb-.448084975506*oa,hc-.448084975506*oa,Tb,hc-oa,Tb),ba.lineTo(Ta+te,Tb),ba.bezierCurveTo(Ta+.448084975506*te,Tb,Ta,Tb-.448084975506*te,Ta,Tb-te),ba.lineTo(Ta,Ya+Zc),ba.bezierCurveTo(Ta,Ya+.448084975506*Zc,Ta+.448084975506*Zc,Ya,Ta+Zc,Ya),ba.closePath());if(Jb)return ba=null,Jb+""||null}var Q=ab,ha=W,wa=Ca,t=Za,E=Ib(0),fa=E,k=E,y=E,ba=null;
q.x=function(oa){return arguments.length?(Q=Ib(oa),q):Q};q.y=function(oa){return arguments.length?(ha=Ib(oa),q):ha};q.width=function(oa){return arguments.length?(wa=Ib(oa),q):wa};q.height=function(oa){return arguments.length?(t=Ib(oa),q):t};q.cornerRadius=function(oa,Ta,Ya,Jb){return arguments.length?(E=Ib(oa),fa=null!=Ta?Ib(Ta):E,y=null!=Ya?Ib(Ya):E,k=null!=Jb?Ib(Jb):fa,q):E};q.context=function(oa){return arguments.length?(ba=null==oa?null:oa,q):ba};return q}function wc(){function q(oa){var Ta,Ya=
oa.length,Jb,hc=!1,Tb;null==E&&(E=Tb=rc());for(Ta=0;Ta<=Ya;++Ta)if(!(Ta<Ya&&t(Jb=oa[Ta],Ta,oa))===hc&&(hc=!hc)&&(fa=0),hc){var pd=+Q(Jb,Ta,oa),Zc=+ha(Jb,Ta,oa);const sf=+wa(Jb,Ta,oa)/2;if(fa){var Rd=y-Zc,te=pd-k;if(Rd||te){var ve=Math.sqrt(Rd*Rd+te*te),ue=(Rd/=ve)*ba;ve=(te/=ve)*ba;var Ve=Math.atan2(te,Rd);E.moveTo(k-ue,y-ve);E.lineTo(pd-Rd*sf,Zc-te*sf);E.arc(pd,Zc,sf,Ve-Math.PI,Ve);E.lineTo(k+ue,y+ve);E.arc(k,y,ba,Ve,Ve+Math.PI)}else E.arc(pd,Zc,sf,0,If);E.closePath()}else fa=1;k=pd;y=Zc;ba=sf}if(Tb)return E=
null,Tb+""||null}var Q,ha,wa,t,E=null,fa,k,y,ba;q.x=function(oa){return arguments.length?(Q=oa,q):Q};q.y=function(oa){return arguments.length?(ha=oa,q):ha};q.size=function(oa){return arguments.length?(wa=oa,q):wa};q.defined=function(oa){return arguments.length?(t=oa,q):t};q.context=function(oa){return arguments.length?(E=null==oa?null:oa,q):E};return q}function bd(q,Q){return null!=q?q:Q}function Wb(q){return q.cornerRadius||q.cornerRadiusTopLeft||q.cornerRadiusTopRight||q.cornerRadiusBottomRight||
q.cornerRadiusBottomLeft}function Rc(q,Q,ha,wa){return gd.context(q)(Q,ha,wa)}function Pd(q,Q,ha){var wa=Q.clip;q=q._defs;Q=Q.clip_id||(Q.clip_id="clip"+Oe++);q=q.clipping[Q]||(q.clipping[Q]={id:Q});g.isFunction(wa)?q.path=wa(null):Wb(ha)?q.path=Rc(null,ha,0,0):(q.width=ha.width||0,q.height=ha.height||0);return"url(#"+Q+")"}function Ka(q){this.clear();q&&this.union(q)}function Ub(q){this.mark=q;this.bounds=this.bounds||new Ka}function rb(q){Ub.call(this,q);this.items=this.items||[]}function Sb(q){this._pending=
0;this._loader=q||hb.loader()}function fc(q,Q,ha){if(Q.stroke&&0!==Q.opacity&&0!==Q.strokeOpacity){const wa=null!=Q.strokeWidth?+Q.strokeWidth:1;q.expand(wa+(ha?Q.strokeJoin&&"miter"!==Q.strokeJoin?0:wa:0))}return q}function bc(q,Q){Ef=q;Q?(Mf=Q*Ze,Tf=Og=Math.cos(Mf),pg=Math.sin(Mf),qg=-pg):(Tf=Og=1,Mf=pg=qg=0);return wf}function Hc(q,Q,ha,wa){ha=(q-Q)/(q+ha-2*Q);0<ha&&1>ha&&wa(q+(Q-q)*ha)}function zc(q,Q,ha,wa,t){const E=wa-q+3*Q-3*ha,fa=q+ha-2*Q;var k=q-Q;let y=0,ba=0;1E-14<Math.abs(E)?(k=fa*fa+
k*E,0<=k&&(k=Math.sqrt(k),y=(-fa+k)/E,ba=(-fa-k)/E)):y=.5*k/fa;0<y&&1>y&&t(Yc(y,q,Q,ha,wa));0<ba&&1>ba&&t(Yc(ba,q,Q,ha,wa))}function Yc(q,Q,ha,wa,t){const E=1-q,fa=E*E,k=q*q;return fa*E*Q+3*fa*q*ha+3*E*k*wa+k*q*t}function Md(q){return function(Q,ha){if(!lf)return!0;q(lf,Q);zf.clear().union(Q.bounds).intersect(ha).round();const {x1:wa,y1:t,x2:E,y2:fa}=zf;for(Q=t;Q<=fa;++Q)for(ha=wa;ha<=E;++ha)if(lf.isPointInPath(ha,Q))return!0;return!1}}function td(q,Q){return Q.contains(q.x||0,q.y||0)}function Ga(q,
Q){const ha=q.x||0,wa=q.y||0;return Q.intersects(zf.set(ha,wa,ha+(q.width||0),wa+(q.height||0)))}function gb(q,Q){const ha=q.x||0,wa=q.y||0;return vb(Q,ha,wa,null!=q.x2?q.x2:ha,null!=q.y2?q.y2:wa)}function vb(q,Q,ha,wa,t){const {x1:E,y1:fa,x2:k,y2:y}=q;q=wa-Q;t-=ha;wa=0;let ba=1,oa,Ta,Ya,Jb;for(Jb=0;4>Jb;++Jb){0===Jb&&(oa=-q,Ta=-(E-Q));1===Jb&&(oa=q,Ta=k-Q);2===Jb&&(oa=-t,Ta=-(fa-ha));3===Jb&&(oa=t,Ta=y-ha);if(1E-10>Math.abs(oa)&&0>Ta)return!1;Ya=Ta/oa;if(0>oa){if(Ya>ba)return!1;Ya>wa&&(wa=Ya)}else if(0<
oa){if(Ya<wa)return!1;Ya<ba&&(ba=Ya)}}return!0}function ra(q,Q){q.globalCompositeOperation=Q.blend||"source-over"}function F(q,Q){return null==q?Q:q}function ya(q,Q){const ha=Q.length;for(let wa=0;wa<ha;++wa)q.addColorStop(Q[wa].offset,Q[wa].color);return q}function La(q,Q,ha){const wa=ha.width(),t=ha.height();if("radial"===Q.gradient)q=q.createRadialGradient(ha.x1+F(Q.x1,.5)*wa,ha.y1+F(Q.y1,.5)*t,Math.max(wa,t)*F(Q.r1,0),ha.x1+F(Q.x2,.5)*wa,ha.y1+F(Q.y2,.5)*t,Math.max(wa,t)*F(Q.r2,.5));else{const E=
F(Q.x1,0),fa=F(Q.y1,0),k=F(Q.x2,1),y=F(Q.y2,0);if(E===k||fa===y||wa===t)q=q.createLinearGradient(ha.x1+E*wa,ha.y1+fa*t,ha.x1+k*wa,ha.y1+y*t);else{ha=qa.canvas(Math.ceil(wa),Math.ceil(t));const ba=ha.getContext("2d");ba.scale(wa,t);ba.fillStyle=ya(ba.createLinearGradient(E,fa,k,y),Q.stops);ba.fillRect(0,0,wa,t);return q.createPattern(ha,"no-repeat")}}return ya(q,Q.stops)}function $a(q,Q,ha){ha*=null==Q.fillOpacity?1:Q.fillOpacity;return 0<ha?(q.globalAlpha=ha,Q=(ha=Q.fill)&&ha.gradient?La(q,ha,Q.bounds):
ha,q.fillStyle=Q,!0):!1}function jb(q,Q,ha){var wa=null!=(wa=Q.strokeWidth)?wa:1;if(0>=wa)return!1;ha*=null==Q.strokeOpacity?1:Q.strokeOpacity;return 0<ha?(q.globalAlpha=ha,ha=(ha=Q.stroke)&&ha.gradient?La(q,ha,Q.bounds):ha,q.strokeStyle=ha,q.lineWidth=wa,q.lineCap=Q.strokeCap||"butt",q.lineJoin=Q.strokeJoin||"miter",q.miterLimit=Q.strokeMiterLimit||10,q.setLineDash&&(q.setLineDash(Q.strokeDash||rg),q.lineDashOffset=Q.strokeDashOffset||0),!0):!1}function Fb(q,Q){return q.zindex-Q.zindex||q.index-
Q.index}function nc(q){if(!q.zdirty)return q.zitems;var Q=q.items,ha=[],wa;var t=0;for(wa=Q.length;t<wa;++t){var E=Q[t];E.index=t;E.zindex&&ha.push(E)}q.zdirty=!1;return q.zitems=ha.sort(Fb)}function dc(q,Q){var ha=q.items,wa;if(ha&&ha.length){var t=nc(q);if(t&&t.length){q=0;for(wa=ha.length;q<wa;++q)ha[q].zindex||Q(ha[q]);ha=t}q=0;for(wa=ha.length;q<wa;++q)Q(ha[q])}}function ic(q,Q){var ha=q.items,wa,t;if(!ha||!ha.length)return null;const E=nc(q);E&&E.length&&(ha=E);for(t=ha.length;0<=--t;)if(wa=
Q(ha[t]))return wa;if(ha===E)for(ha=q.items,t=ha.length;0<=--t;)if(!ha[t].zindex&&(wa=Q(ha[t])))return wa;return null}function Uc(q){return function(Q,ha,wa){dc(ha,t=>{wa&&!wa.intersects(t.bounds)||dd(q,Q,t,t)})}}function cd(q){return function(Q,ha,wa){!ha.items.length||wa&&!wa.intersects(ha.bounds)||dd(q,Q,ha.items[0],ha.items)}}function dd(q,Q,ha,wa){var t=null==ha.opacity?1:ha.opacity;0===t||q(Q,wa)||(ra(Q,ha),ha.fill&&$a(Q,ha,t)&&Q.fill(),ha.stroke&&jb(Q,ha,t)&&Q.stroke())}function Qd(q){q=q||
g.truthy;return function(Q,ha,wa,t,E,fa){wa*=Q.pixelRatio;t*=Q.pixelRatio;return ic(ha,k=>{const y=k.bounds;if((!y||y.contains(E,fa))&&y&&q(Q,k,wa,t,E,fa))return k})}}function Td(q,Q){return function(ha,wa,t,E){var fa=Array.isArray(wa)?wa[0]:wa,k=null==Q?fa.fill:Q,y=fa.stroke&&ha.isPointInStroke;if(y){var ba=fa.strokeWidth;fa=fa.strokeCap;ha.lineWidth=null!=ba?ba:1;ha.lineCap=null!=fa?fa:"butt"}return q(ha,wa)?!1:k&&ha.isPointInPath(t,E)||y&&ha.isPointInStroke(t,E)}}function Ed(q,Q){return"translate("+
q+","+Q+")"}function Zd(q,Q,ha){function wa(t,E){var fa=E.x||0,k=E.y||0,y=E.angle||0;t.translate(fa,k);y&&t.rotate(y*=Ze);t.beginPath();Q(t,E);y&&t.rotate(-y);t.translate(-fa,-k)}return{type:q,tag:"path",nested:!1,attr:function(t,E){var fa=Ed(E.x||0,E.y||0)+(E.angle?" rotate("+(E.angle+")"):"");t("transform",fa);t("d",Q(null,E))},bound:function(t,E){Q(bc(t,E.angle),E);return fc(t,E).translate(E.x||0,E.y||0)},draw:Uc(wa),pick:Qd(Td(wa)),isect:ha||Md(wa)}}function de(q,Q,ha){function wa(E,fa){E.beginPath();
Q(E,fa)}const t=Td(wa);return{type:q,tag:"path",nested:!0,attr:function(E,fa){fa=fa.mark.items;fa.length&&E("d",Q(null,fa))},bound:function(E,fa){fa=fa.items;if(0===fa.length)return E;Q(bc(E),fa);return fc(E,fa[0])},draw:cd(wa),pick:function(E,fa,k,y,ba,oa){var Ta=fa.items;fa=fa.bounds;if(!Ta||!Ta.length||fa&&!fa.contains(ba,oa))return null;k*=E.pixelRatio;y*=E.pixelRatio;return t(E,Ta,k,y)?Ta[0]:null},isect:td,tip:ha}}function Ud(q,Q){q.beginPath();Wb(Q)?Rc(q,Q,0,0):q.rect(0,0,Q.width||0,Q.height||
0);q.clip()}function Te(q){const Q=F(q.strokeWidth,1);return null!=q.strokeOffset?q.strokeOffset:q.stroke&&.5<Q&&1.5>Q?.5-Math.abs(Q-1):0}function Xd(q,Q,ha,wa){const t=Te(Q);q.beginPath();Rc(q,Q,(ha||0)+t,(wa||0)+t)}function M(q,Q){var ha=q.image;if(!ha||q.url&&q.url!==ha.url)ha={complete:!1,width:0,height:0},Q.loadImage(q.url).then(wa=>{q.image=wa;q.image.url=q.url});return ha}function ka(q,Q){return null!=q.width?q.width:Q&&Q.width?!1!==q.aspect&&q.height?q.height*Q.width/Q.height:Q.width:0}function za(q,
Q){return null!=q.height?q.height:Q&&Q.height?!1!==q.aspect&&q.width?q.width*Q.height/Q.width:Q.height:0}function fb(q,Q){return"center"===q?Q/2:"right"===q?Q:0}function Hb(q,Q){return"middle"===q?Q/2:"bottom"===q?Q:0}function Xb(q,Q){var ha=Q.path;if(null==ha)return!0;var wa=Q.x||0,t=Q.y||0,E=Q.scaleX||1,fa=Q.scaleY||1,k=(Q.angle||0)*Ze,y=Q.pathCache;y&&y.path===ha||((Q.pathCache=y=X(ha)).path=ha);k&&q.rotate&&q.translate?(q.translate(wa,t),q.rotate(k),K(q,y,0,0,E,fa),q.rotate(-k),q.translate(-wa,
-t)):K(q,y,wa,t,E,fa)}function Ac(q,Q){q.beginPath();Rc(q,Q)}function lc(q,Q,ha){if(Q.stroke&&jb(q,Q,ha)){ha=Q.x||0;var wa=Q.y||0;var t=null!=Q.x2?Q.x2:ha;Q=null!=Q.y2?Q.y2:wa;q.beginPath();q.moveTo(ha,wa);q.lineTo(t,Q);return!0}return!1}function Fc(q){kh.width=q&&lf?Nc:hd}function hd(q,Q){Q=Wd(q,Q);q=Gd(q);return~~(.8*Q.length*q)}function Nc(q,Q){return 0>=Gd(q)||!(Q=Wd(q,Q))?0:rd(Q,ff(q))}function rd(q,Q){const ha=`(${Q}) ${q}`;let wa=Tg.get(ha);void 0===wa&&(lf.font=Q,wa=lf.measureText(q).width,
Tg.set(ha,wa));return wa}function Gd(q){return null!=q.fontSize?+q.fontSize||0:11}function Fd(q){return null!=q.lineHeight?q.lineHeight:Gd(q)+2}function $d(q){q=q.lineBreak&&q.text&&!g.isArray(q.text)?q.text.split(q.lineBreak):q.text;return g.isArray(q)?1<q.length?q:q[0]:q}function Wd(q,Q){Q=null==Q?"":(Q+"").trim();if(0<q.limit&&Q.length){var ha=+q.limit,wa=ae(q);if(!(wa(Q)<ha)){var t=q.ellipsis||"",E="rtl"===q.dir;q=0;var fa=Q.length;ha-=wa(t);if(E){for(;q<fa;)E=q+fa>>>1,wa(Q.slice(E))>ha?q=E+
1:fa=E;Q=t+Q.slice(q)}else{for(;q<fa;)E=1+(q+fa>>>1),wa(Q.slice(0,E))<ha?q=E:fa=E-1;Q=Q.slice(0,q)+t}}}return Q}function ae(q){if(kh.width===Nc){const ha=ff(q);return wa=>rd(wa,ha)}const Q=Gd(q);return ha=>~~(.8*ha.length*Q)}function Be(q,Q){q=q.font;return(Q&&q?String(q).replace(/"/g,"'"):q)||"sans-serif"}function ff(q,Q){return(q.fontStyle?q.fontStyle+" ":"")+(q.fontVariant?q.fontVariant+" ":"")+(q.fontWeight?q.fontWeight+" ":"")+Gd(q)+"px "+Be(q,Q)}function df(q){var Q=q.baseline,ha=Gd(q);return Math.round("top"===
Q?.79*ha:"middle"===Q?.3*ha:"bottom"===Q?-.21*ha:"line-top"===Q?.29*ha+.5*Fd(q):"line-bottom"===Q?.29*ha-.5*Fd(q):0)}function af(q){var Q=q.x||0,ha=q.y||0,wa=q.radius||0;wa&&(q=(q.theta||0)-Gf,Q+=wa*Math.cos(q),ha+=wa*Math.sin(q));Cg.x1=Q;Cg.y1=ha;return Cg}function re(q,Q,ha){var wa=kh.height(Q),t=Q.align,E=af(Q),fa=E.x1;E=E.y1;var k=Q.dx||0,y=(Q.dy||0)+df(Q)-Math.round(.8*wa),ba=$d(Q);g.isArray(ba)?(wa+=Fd(Q)*(ba.length-1),ba=ba.reduce((oa,Ta)=>Math.max(oa,kh.width(Q,Ta)),0)):ba=kh.width(Q,ba);
"center"===t?k-=ba/2:"right"===t&&(k-=ba);q.set(k+=fa,y+=E,k+ba,y+wa);if(Q.angle&&!ha)q.rotate(Q.angle*Ze,fa,E);else if(2===ha)return q.rotatedPoints(Q.angle*Ze,fa,E);return q}function pf(q,Q,ha){var wa=Qg[q.mark.marktype];Q=Q||wa.bound;wa.nested&&(q=q.mark);return Q(q.bounds||(q.bounds=new Ka),q,ha)}function T(q,Q,ha){var wa=Qg[q.marktype],t=wa.bound,E=q.items,fa=E&&E.length;if(wa.nested)return fa?q=E[0]:(Zg.mark=q,q=Zg),ha=pf(q,t,ha),Q=Q&&Q.union(ha)||ha;Q=Q||q.bounds&&q.bounds.clear()||new Ka;
if(fa)for(wa=0,fa=E.length;wa<fa;++wa)Q.union(pf(E[wa],t,ha));return q.bounds=Q}function ta(q,Q){return JSON.stringify(q,lh,Q)}function db(q){q="string"===typeof q?JSON.parse(q):q;return zb(q)}function zb(q){var Q=q.marktype,ha=q.items,wa;if(ha){var t=0;for(wa=ha.length;t<wa;++t){var E=Q?"mark":"group";ha[t][E]=q;ha[t].zindex&&(ha[t][E].zdirty=!0);"group"===(Q||E)&&zb(ha[t])}}Q&&T(q);return q}function ec(q){arguments.length?this.root=db(q):(this.root=Bc({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new rb(this.root)])}function Bc(q,Q){Q={bounds:new Ka,clip:!!q.clip,group:Q,interactive:!1===q.interactive?!1:!0,items:[],marktype:q.marktype,name:q.name||void 0,role:q.role||void 0,zindex:q.zindex||0};null!=q.aria&&(Q.aria=q.aria);q.description&&(Q.description=q.description);return Q}function Yb(q,Q,ha){!q&&"undefined"!==typeof document&&document.createElement&&(q=document);return q?ha?q.createElementNS(ha,Q):q.createElement(Q):null}function I(q,Q){Q=Q.toLowerCase();q=q.childNodes;
for(var ha=0,wa=q.length;ha<wa;++ha)if(q[ha].tagName.toLowerCase()===Q)return q[ha]}function da(q,Q,ha,wa){Q=q.childNodes[Q];if(!Q||Q.tagName.toLowerCase()!==ha.toLowerCase()){var t=Q||null;Q=Yb(q.ownerDocument,ha,wa);q.insertBefore(Q,t)}return Q}function Sa(q,Q){for(var ha=q.childNodes,wa=ha.length;wa>Q;)q.removeChild(ha[--wa]);return q}function ac(q){return"mark-"+q.marktype+(q.role?" role-"+q.role:"")+(q.name?" "+q.name:"")}function Pc(q,Q){const ha=Q.getBoundingClientRect();return[q.clientX-ha.left-
(Q.clientLeft||0),q.clientY-ha.top-(Q.clientTop||0)]}function Cc(q,Q){this._active=null;this._handlers={};this._loader=q||hb.loader();this._tooltip=Q||Sc}function Sc(q,Q,ha,wa){q.element().setAttribute("title",wa||"")}function fd(q){this._bgcolor=this._el=null;this._loader=new Sb(q)}function ee(q,Q){Cc.call(this,q,Q);this._touch=this._down=null;this._first=!0;this._events={}}function Ra(q,Q){("touchstart"===Q||"touchmove"===Q||"touchend"===Q?["touchstart","touchmove","touchend"]:[Q]).forEach(ha=>
eb(q,ha))}function eb(q,Q){const ha=q.canvas();ha&&!q._events[Q]&&(q._events[Q]=1,ha.addEventListener(Q,q[Q]?wa=>q[Q](wa):wa=>q.fire(Q,wa)))}function pc(q,Q,ha){return function(wa){const t=this._active,E=this.pickEvent(wa);E!==t&&(t&&t.exit||this.fire(ha,wa),this._active=E,this.fire(Q,wa));this.fire(q,wa)}}function vd(q){return function(Q){this.fire(q,Q);this._active=null}}function Jc(q){fd.call(this,q);this._options={};this._redraw=!1;this._dirty=new Ka;this._tempb=new Ka}function Vc(q,Q){Cc.call(this,
q,Q);const ha=this;ha._hrefHandler=Jh(ha,(wa,t)=>{t&&t.href&&ha.handleHref(wa,t,t.href)});ha._tooltipHandler=Jh(ha,(wa,t)=>{ha.handleTooltip(wa,t,"mouseout"!==wa.type)})}function Qc(q,Q){var ha=!1===Q.aria;q("aria-hidden",ha||void 0);if(ha||null==Q.description)for(const wa in Uh)q(Uh[wa],void 0);else ha=Q.mark.marktype,q("aria-label",Q.description),q("role",Q.ariaRole||("group"===ha?"graphics-object":"graphics-symbol")),q("aria-roledescription",Q.ariaRoleDescription||`${ha} mark`)}function sd(q){return!1===
q.aria?{["aria-hidden"]:!0}:uh[q.role]?null:Ph[q.role]?Nd(q,Ph[q.role]):id(q)}function id(q){const Q=q.marktype,ha="group"===Q||"text"===Q||q.items.some(wa=>null!=wa.description&&!1!==wa.aria);return th(ha?"graphics-object":"graphics-symbol",`${Q} mark container`,q.description)}function Nd(q,Q){try{const ha=q.items[0],wa=Q.caption||(()=>"");return th(Q.role||"graphics-symbol",Q.desc,ha.description||wa(ha))}catch(ha){return null}}function Bd(q){try{return g.array(g.peek(q.items).items[0].text).join(" ")}catch(Q){return null}}
function be(q){q=q.map(Q=>Q+("fill"===Q||"stroke"===Q?" color":""));return 2>q.length?q[0]:q.slice(0,-1).join(", ")+" and "+g.peek(q)}function we(){let q="",Q="",ha="";const wa=[],t=(fa,k)=>{null!=k&&(Q+=` ${fa}="${mh(k).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return E},E={open(fa,...k){Q&&(q+=`${Q}>${ha}`,Q=ha="");wa.push(fa);Q="\x3c"+fa;for(const y of k)for(const ba in y)t(ba,y[ba]);return E},close(){const fa=wa.pop();q=Q?q+(Q+
(ha?`>${ha}</${fa}>`:"/\x3e")):q+`</${fa}>`;Q=ha="";return E},attr:t,text:fa=>(ha+=mh(fa),E),toString:()=>q};return E}function Ke(q,Q){q.open(Q.tagName);if(Q.hasAttributes()){const ha=Q.attributes,wa=ha.length;for(let t=0;t<wa;++t)q.attr(ha[t].name,ha[t].value)}if(Q.hasChildNodes()){Q=Q.childNodes;for(const ha of Q)3===ha.nodeType?q.text(ha.nodeValue):Ke(q,ha)}return q.close()}function Xe(q){fd.call(this,q);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function bf(q,Q){for(;q&&
q.dirty!==Q;q=q.mark.group)if(q.dirty=Q,q.mark&&q.mark.dirty!==Q)q.mark.dirty=Q;else break}function md(q,Q,ha){Q=Q.lastChild.previousSibling;let wa,t=0;dc(ha,E=>{wa=q.mark(Q,E,wa);++t});Sa(Q,1+t)}function Dc(q,Q,ha,wa,t){let E=q._svg;if(!E){var fa=Q.ownerDocument;E=Yb(fa,wa,Df);q._svg=E;q.mark&&(E.__data__=q,E.__values__={fill:"default"},"g"===wa&&(wa=Yb(fa,"path",Df),E.appendChild(wa),wa.__data__=q,wa=Yb(fa,"g",Df),E.appendChild(wa),wa.__data__=q,fa=Yb(fa,"path",Df),E.appendChild(fa),fa.__data__=
q,fa.__values__={fill:"default"}))}(E.ownerSVGElement!==t||E.parentNode&&1<E.parentNode.childNodes.length&&E.previousSibling!=ha)&&Q.insertBefore(E,ha?ha.nextSibling:Q.firstChild);return E}function jd(q,Q,ha){if(Q!==Xf[q]){if(ha){var wa=eg;null!=Q?wa.setAttributeNS(ha,q,Q):wa.removeAttributeNS(ha,q)}else Vd(eg,q,Q);Xf[q]=Q}}function Ec(q,Q,ha){ha!==Xf[Q]&&(null==ha?q.style.removeProperty(Q):q.style.setProperty(Q,ha+""),Xf[Q]=ha)}function Id(q,Q){for(const ha in Q)Vd(q,ha,Q[ha])}function Vd(q,Q,ha){null!=
ha?q.setAttribute(Q,ha):q.removeAttribute(Q)}function ce(){let q;return"undefined"===typeof window?"":(q=window.location).hash?q.href.slice(0,-q.hash.length):q.href}function le(q){fd.call(this,q);this._text=null;this._defs={gradient:{},clipping:{}}}function N(q,Q,ha,wa,t){let E;if(null==Q)return q;"bgrect"===wa&&!1===ha.interactive&&(q["pointer-events"]="none");if("bgfore"===wa&&(!1===ha.interactive&&(q["pointer-events"]="none"),q.display="none",null!==Q.fill))return q;"image"===wa&&!1===Q.smooth&&
(E=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===wa&&(q["font-family"]=Be(Q),q["font-size"]=Gd(Q)+"px",q["font-style"]=Q.fontStyle,q["font-variant"]=Q.fontVariant,q["font-weight"]=Q.fontWeight);for(const fa in Vf)ha=Q[fa],wa=Vf[fa],("transparent"!==ha||"fill"!==wa&&"stroke"!==wa)&&null!=ha&&(ha&&ha.gradient&&(ha=$b(ha,t.gradient,"")),q[wa]=ha);for(const fa in Hg)t=Q[fa],null!=t&&(E=E||[],E.push(`${Hg[fa]}: ${t};`));E&&(q.style=E.join(" "));return q}function ca(q,Q,ha,
wa){if(q.bounds&&Q.intersects(q.bounds)&&("group"===q.marktype||!1!==q.interactive&&(!ha||ha(q)))){const E=q.items;var t=q.marktype;q=E.length;let fa=0;if("group"===t)for(;fa<q;++fa)H(E[fa],Q,ha,wa);else for(ha=Qg[t].isect;fa<q;++fa)t=E[fa],ja(t,Q,ha)&&wa.push(t)}return wa}function H(q,Q,ha,wa){ha&&ha(q.mark)&&ja(q,Q,Qg.group.isect)&&wa.push(q);const t=q.items,E=t&&t.length;if(E){const fa=q.x||0;q=q.y||0;Q.translate(-fa,-q);for(let k=0;k<E;++k)ca(t[k],Q,ha,wa);Q.translate(fa,q)}return wa}function ja(q,
Q,ha){const wa=q.bounds;return Q.encloses(wa)||Q.intersects(wa)&&ha(q,Q)}function sa(q,Q,ha){return q===Q?!0:"path"===ha?Ia(q,Q):q instanceof Date&&Q instanceof Date?+q===+Q:g.isNumber(q)&&g.isNumber(Q)?1E-9>=Math.abs(q-Q):q&&Q&&(g.isObject(q)||g.isObject(Q))?ib(q,Q):q==Q}function Ia(q,Q){return sa(X(q),X(Q))}function ib(q,Q){var ha=Object.keys(q),wa=Object.keys(Q),t;if(ha.length!==wa.length)return!1;ha.sort();wa.sort();for(t=ha.length-1;0<=t;t--)if(ha[t]!=wa[t])return!1;for(t=ha.length-1;0<=t;t--)if(wa=
ha[t],!sa(q[wa],Q[wa],wa))return!1;return typeof q===typeof Q}let ub=0;const qc=Math.abs,sc=Math.atan2,tc=Math.cos,Ic=Math.max,Ad=Math.min,Gc=Math.sin,$c=Math.sqrt,yd=Math.PI,Cd=yd/2,Kd=2*yd,Fe=Math.PI,Ce=2*Fe,wd=Ce-1E-6;class ye{constructor(q){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==q?Ab:gc(q)}moveTo(q,Q){this._append`M${this._x0=this._x1=+q},${this._y0=this._y1=+Q}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(q,Q){this._append`L${this._x1=
+q},${this._y1=+Q}`}quadraticCurveTo(q,Q,ha,wa){this._append`Q${+q},${+Q},${this._x1=+ha},${this._y1=+wa}`}bezierCurveTo(q,Q,ha,wa,t,E){this._append`C${+q},${+Q},${+ha},${+wa},${this._x1=+t},${this._y1=+E}`}arcTo(q,Q,ha,wa,t){q=+q;Q=+Q;ha=+ha;wa=+wa;t=+t;if(0>t)throw Error(`negative radius: ${t}`);var E=this._x1,fa=this._y1;let k=ha-q,y=wa-Q,ba=E-q,oa=fa-Q;var Ta=ba*ba+oa*oa;if(null===this._x1)this._append`M${this._x1=q},${this._y1=Q}`;else if(1E-6<Ta)if(1E-6<Math.abs(oa*k-y*ba)&&t){ha-=E;wa-=fa;
let Ya=k*k+y*y;fa=Math.sqrt(Ya);E=Math.sqrt(Ta);Ta=t*Math.tan((Fe-Math.acos((Ya+Ta-(ha*ha+wa*wa))/(2*fa*E)))/2);E=Ta/E;Ta/=fa;1E-6<Math.abs(E-1)&&this._append`L${q+E*ba},${Q+E*oa}`;this._append`A${t},${t},0,0,${+(oa*ha>ba*wa)},${this._x1=q+Ta*k},${this._y1=Q+Ta*y}`}else this._append`L${this._x1=q},${this._y1=Q}`}arc(q,Q,ha,wa,t,E){q=+q;Q=+Q;ha=+ha;E=!!E;if(0>ha)throw Error(`negative radius: ${ha}`);let fa=ha*Math.cos(wa),k=ha*Math.sin(wa),y=q+fa,ba=Q+k,oa=1^E;wa=E?wa-t:t-wa;null===this._x1?this._append`M${y},${ba}`:
(1E-6<Math.abs(this._x1-y)||1E-6<Math.abs(this._y1-ba))&&this._append`L${y},${ba}`;ha&&(0>wa&&(wa=wa%Ce+Ce),wa>wd?this._append`A${ha},${ha},0,1,${oa},${q-fa},${Q-k}A${ha},${ha},0,1,${oa},${this._x1=y},${this._y1=ba}`:1E-6<wa&&this._append`A${ha},${ha},0,${+(wa>=Fe)},${oa},${this._x1=q+ha*Math.cos(t)},${this._y1=Q+ha*Math.sin(t)}`)}rect(q,Q,ha,wa){this._append`M${this._x0=this._x1=+q},${this._y0=this._y1=+Q}h${ha=+ha}v${+wa}h${-ha}Z`}toString(){return this._}}rc.prototype=ye.prototype;Oa.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(q,Q){q=+q;Q=+Q;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(q,Q):this._context.moveTo(q,Q);break;case 1:this._point=2;default:this._context.lineTo(q,Q)}}};var Ld={draw(q,Q){Q=$c(Q/yd);q.moveTo(Q,0);q.arc(0,0,Q,0,Kd)}};Nb.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:ob(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(q,Q){q=+q;Q=+Q;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(q,Q):this._context.moveTo(q,Q);break;case 1:this._point=2;break;case 2:this._point=
3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ob(this,q,Q)}this._x0=this._x1;this._x1=q;this._y0=this._y1;this._y1=Q}};Zb.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+
2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(q,Q){q=+q;Q=+Q;switch(this._point){case 0:this._point=1;this._x2=q;this._y2=Q;break;case 1:this._point=2;this._x3=q;this._y3=Q;break;case 2:this._point=3;this._x4=q;this._y4=Q;this._context.moveTo((this._x0+4*this._x1+q)/6,(this._y0+4*this._y1+Q)/6);break;default:ob(this,
q,Q)}this._x0=this._x1;this._x1=q;this._y0=this._y1;this._y1=Q}};nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(q,Q){q=+q;Q=+Q;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var ha=(this._x0+4*this._x1+q)/6,wa=
(this._y0+4*this._y1+Q)/6;this._line?this._context.lineTo(ha,wa):this._context.moveTo(ha,wa);break;case 3:this._point=4;default:ob(this,q,Q)}this._x0=this._x1;this._x1=q;this._y0=this._y1;this._y1=Q}};la.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var q=this._x,Q=this._y,ha=q.length-1;if(0<ha)for(var wa=q[0],t=Q[0],E=q[ha]-wa,fa=Q[ha]-t,k=-1,y;++k<=ha;)y=k/ha,this._basis.point(this._beta*q[k]+(1-this._beta)*(wa+y*E),this._beta*Q[k]+(1-this._beta)*
(t+y*fa));this._x=this._y=null;this._basis.lineEnd()},point:function(q,Q){this._x.push(+q);this._y.push(+Q)}};var ge=function ha(Q){function wa(t){return 1===Q?new Nb(t):new la(t,Q)}wa.beta=function(t){return ha(+t)};return wa}(.85);Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;
case 3:Y(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Q,ha){Q=+Q;ha=+ha;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Q,ha):this._context.moveTo(Q,ha);break;case 1:this._point=2;this._x1=Q;this._y1=ha;break;case 2:this._point=3;default:Y(this,Q,ha)}this._x0=this._x1;this._x1=this._x2;this._x2=Q;this._y0=this._y1;this._y1=this._y2;this._y2=ha}};var Ge=function wa(ha){function t(E){return new Ha(E,
ha)}t.tension=function(E){return wa(+E)};return t}(0);Fa.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(ha,wa){ha=+ha;wa=+wa;switch(this._point){case 0:this._point=1;this._x3=ha;this._y3=wa;break;case 1:this._point=2;this._context.moveTo(this._x4=ha,this._y4=wa);break;case 2:this._point=3;this._x5=ha;this._y5=wa;break;default:Y(this,ha,wa)}this._x0=this._x1;this._x1=this._x2;this._x2=ha;this._y0=this._y1;this._y1=this._y2;this._y2=wa}};var hf=function t(wa){function E(fa){return new Fa(fa,wa)}E.tension=function(fa){return t(+fa)};return E}(0);cb.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(wa,t){wa=+wa;t=+t;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:Y(this,wa,t)}this._x0=this._x1;this._x1=this._x2;this._x2=wa;this._y0=this._y1;this._y1=this._y2;this._y2=t}};var rf=function E(t){function fa(k){return new cb(k,t)}fa.tension=function(k){return E(+k)};return fa}(0);ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(t,E){t=+t;E=+E;if(this._point){var fa=this._x2-t,k=this._y2-E;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(fa*fa+k*k,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,E):this._context.moveTo(t,E);break;case 1:this._point=
2;break;case 2:this._point=3;default:aa(this,t,E)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=t;this._y0=this._y1;this._y1=this._y2;this._y2=E}};var Je=function fa(E){function k(y){return E?new ma(y,E):new Ha(y,0)}k.alpha=function(y){return fa(+y)};return k}(.5);p.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=
this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(E,fa){E=+E;fa=+fa;if(this._point){var k=this._x2-E,y=this._y2-fa;this._l23_a=
Math.sqrt(this._l23_2a=Math.pow(k*k+y*y,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=E;this._y3=fa;break;case 1:this._point=2;this._context.moveTo(this._x4=E,this._y4=fa);break;case 2:this._point=3;this._x5=E;this._y5=fa;break;default:aa(this,E,fa)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=E;this._y0=this._y1;this._y1=this._y2;this._y2=fa}};var ne=function k(fa){function y(ba){return fa?
new p(ba,fa):new Fa(ba,0)}y.alpha=function(ba){return k(+ba)};return y}(.5);L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(fa,k){fa=+fa;k=+k;if(this._point){var y=this._x2-
fa,ba=this._y2-k;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(y*y+ba*ba,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:aa(this,fa,k)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=fa;this._y0=this._y1;this._y1=this._y2;
this._y2=k}};var Bf=function y(k){function ba(oa){return k?new L(oa,k):new cb(oa,0)}ba.alpha=function(oa){return y(+oa)};return ba}(.5);P.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(k,y){k=+k;y=+y;this._point?this._context.lineTo(k,y):(this._point=1,this._context.moveTo(k,y))}};C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=
this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l(this,this._t0,v(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(k,y){var ba=NaN;k=+k;y=+y;if(k!==this._x1||y!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(k,y):this._context.moveTo(k,y);break;case 1:this._point=2;break;case 2:this._point=
3;l(this,v(this,ba=f(this,k,y)),ba);break;default:l(this,this._t0,ba=f(this,k,y))}this._x0=this._x1;this._x1=k;this._y0=this._y1;this._y1=y;this._t0=ba}}};(B.prototype=Object.create(C.prototype)).point=function(k,y){C.prototype.point.call(this,y,k)};z.prototype={moveTo:function(k,y){this._context.moveTo(y,k)},closePath:function(){this._context.closePath()},lineTo:function(k,y){this._context.lineTo(y,k)},bezierCurveTo:function(k,y,ba,oa,Ta,Ya){this._context.bezierCurveTo(y,k,oa,ba,Ya,Ta)}};D.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var k=this._x,y=this._y,ba=k.length;if(ba)if(this._line?this._context.lineTo(k[0],y[0]):this._context.moveTo(k[0],y[0]),2===ba)this._context.lineTo(k[1],y[1]);else for(var oa=G(k),Ta=G(y),Ya=0,Jb=1;Jb<ba;++Ya,++Jb)this._context.bezierCurveTo(oa[0][Ya],Ta[0][Ya],oa[1][Ya],Ta[1][Ya],k[Jb],y[Jb]);(this._line||0!==this._line&&1===ba)&&this._context.closePath();this._line=
1-this._line;this._x=this._y=null},point:function(k,y){this._x.push(+k);this._y.push(+y)}};U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(k,y){k=+k;y=+y;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(k,y):this._context.moveTo(k,y);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,y),this._context.lineTo(k,y);else{var ba=this._x*(1-this._t)+k*this._t;this._context.lineTo(ba,this._y);this._context.lineTo(ba,y)}}this._x=k;this._y=y}};const Hf={basis:{curve:function(k){return new Nb(k)}},"basis-closed":{curve:function(k){return new Zb(k)}},"basis-open":{curve:function(k){return new nb(k)}},bundle:{curve:ge,tension:"beta",value:.85},cardinal:{curve:Ge,
tension:"tension",value:0},"cardinal-open":{curve:rf,tension:"tension",value:0},"cardinal-closed":{curve:hf,tension:"tension",value:0},"catmull-rom":{curve:Je,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ne,tension:"alpha",value:.5},"catmull-rom-open":{curve:Bf,tension:"alpha",value:.5},linear:{curve:Da},"linear-closed":{curve:function(k){return new P(k)}},monotone:{horizontal:function(k){return new B(k)},vertical:function(k){return new C(k)}},natural:{curve:function(k){return new D(k)}},
step:{curve:function(k){return new U(k,.5)}},"step-after":{curve:function(k){return new U(k,1)}},"step-before":{curve:function(k){return new U(k,0)}}},ef={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Zf=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Yd=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,cf=/^((\s+,?\s*)|(,\s*))/,jf=/^[01]/,Ze=Math.PI/180,Gf=Math.PI/2,If=2*Math.PI,xf=Math.sqrt(3)/2;var yf={},Bg={},hg=[].join;const vf=["l",0,0,0,0,0,0,0],Jf={circle:{draw:function(k,y){y=Math.sqrt(y)/2;
k.moveTo(y,0);k.arc(0,0,y,0,If)}},cross:{draw:function(k,y){y=Math.sqrt(y)/2;var ba=y/2.5;k.moveTo(-y,-ba);k.lineTo(-y,ba);k.lineTo(-ba,ba);k.lineTo(-ba,y);k.lineTo(ba,y);k.lineTo(ba,ba);k.lineTo(y,ba);k.lineTo(y,-ba);k.lineTo(ba,-ba);k.lineTo(ba,-y);k.lineTo(-ba,-y);k.lineTo(-ba,-ba);k.closePath()}},diamond:{draw:function(k,y){y=Math.sqrt(y)/2;k.moveTo(-y,0);k.lineTo(0,-y);k.lineTo(y,0);k.lineTo(0,y);k.closePath()}},square:{draw:function(k,y){y=Math.sqrt(y);var ba=-y/2;k.rect(ba,ba,y,y)}},arrow:{draw:function(k,
y){y=Math.sqrt(y)/2;var ba=y/7,oa=y/2.5,Ta=y/8;k.moveTo(-ba,y);k.lineTo(ba,y);k.lineTo(ba,-Ta);k.lineTo(oa,-Ta);k.lineTo(0,-y);k.lineTo(-oa,-Ta);k.lineTo(-ba,-Ta);k.closePath()}},wedge:{draw:function(k,y){var ba=Math.sqrt(y)/2;y=xf*ba;var oa=y-.5773502691896257*ba;ba/=4;k.moveTo(0,-y-oa);k.lineTo(-ba,y-oa);k.lineTo(ba,y-oa);k.closePath()}},triangle:{draw:function(k,y){y=Math.sqrt(y)/2;var ba=xf*y,oa=ba-.5773502691896257*y;k.moveTo(0,-ba-oa);k.lineTo(-y,ba-oa);k.lineTo(y,ba-oa);k.closePath()}},"triangle-up":{draw:function(k,
y){y=Math.sqrt(y)/2;var ba=xf*y;k.moveTo(0,-ba);k.lineTo(-y,ba);k.lineTo(y,ba);k.closePath()}},"triangle-down":{draw:function(k,y){y=Math.sqrt(y)/2;var ba=xf*y;k.moveTo(0,ba);k.lineTo(-y,-ba);k.lineTo(y,-ba);k.closePath()}},"triangle-right":{draw:function(k,y){y=Math.sqrt(y)/2;var ba=xf*y;k.moveTo(ba,0);k.lineTo(-ba,-y);k.lineTo(-ba,y);k.closePath()}},"triangle-left":{draw:function(k,y){y=Math.sqrt(y)/2;var ba=xf*y;k.moveTo(-ba,0);k.lineTo(ba,-y);k.lineTo(ba,y);k.closePath()}},stroke:{draw:function(k,
y){y=Math.sqrt(y)/2;k.moveTo(-y,0);k.lineTo(y,0)}}};var dg={};const Xg=k=>k.x||0,Fg=k=>k.y||0,Jg=k=>!1!==k.defined,Sg=function(){function k(){var Zc,Rd=+y.apply(this,arguments),te=+ba.apply(this,arguments),ve=Ya.apply(this,arguments)-Cd,ue=Jb.apply(this,arguments)-Cd,Ve=qc(ue-ve),sf=ue>ve;Tb||(Tb=Zc=pd());if(te<Rd){var Lg=te;te=Rd;Rd=Lg}if(1E-12<te)if(Ve>Kd-1E-12)Tb.moveTo(te*tc(ve),te*Gc(ve)),Tb.arc(0,0,te,ve,ue,!sf),1E-12<Rd&&(Tb.moveTo(Rd*tc(ue),Rd*Gc(ue)),Tb.arc(0,0,Rd,ue,ve,sf));else{var $e=
ve,Pe=ue;Lg=ve;var bg=ue,vh=Ve,fg=Ve,of=hc.apply(this,arguments)/2,mf=1E-12<of&&(Ta?+Ta.apply(this,arguments):$c(Rd*Rd+te*te)),Nf=Ad(qc(te-Rd)/2,+oa.apply(this,arguments)),Pf=Nf,Lf=Nf;if(1E-12<mf){var Wg=yc(mf/Rd*Gc(of));of=yc(mf/te*Gc(of));1E-12<(vh-=2*Wg)?(Wg*=sf?1:-1,Lg+=Wg,bg-=Wg):(vh=0,Lg=bg=(ve+ue)/2);1E-12<(fg-=2*of)?(of*=sf?1:-1,$e+=of,Pe-=of):(fg=0,$e=Pe=(ve+ue)/2)}ve=te*tc($e);ue=te*Gc($e);Wg=Rd*tc(bg);of=Rd*Gc(bg);if(1E-12<Nf){var jg=te*tc(Pe),wh=te*Gc(Pe),lg=Rd*tc(Lg),Kg=Rd*Gc(Lg);if(Ve<
yd){Pf=lg-ve;Lf=Kg-ue;Ve=Wg-jg;mf=of-wh;var sg=mf*Pf-Ve*Lf;1E-12>sg*sg?Pf=void 0:(sg=(Ve*(ue-wh)-mf*(ve-jg))/sg,Pf=[ve+sg*Pf,ue+sg*Lf]);Pf?(Lf=ve-Pf[0],Ve=ue-Pf[1],mf=jg-Pf[0],sg=wh-Pf[1],Lf=(Lf*mf+Ve*sg)/($c(Lf*Lf+Ve*Ve)*$c(mf*mf+sg*sg)),Lf=1/Gc((1<Lf?0:-1>Lf?yd:Math.acos(Lf))/2),Ve=$c(Pf[0]*Pf[0]+Pf[1]*Pf[1]),Pf=Ad(Nf,(Rd-Ve)/(Lf-1)),Lf=Ad(Nf,(te-Ve)/(Lf+1))):Pf=Lf=0}}1E-12<fg?1E-12<Lf?($e=Ua(lg,Kg,ve,ue,te,Lf,sf),Pe=Ua(jg,wh,Wg,of,te,Lf,sf),Tb.moveTo($e.cx+$e.x01,$e.cy+$e.y01),Lf<Nf?Tb.arc($e.cx,
$e.cy,Lf,sc($e.y01,$e.x01),sc(Pe.y01,Pe.x01),!sf):(Tb.arc($e.cx,$e.cy,Lf,sc($e.y01,$e.x01),sc($e.y11,$e.x11),!sf),Tb.arc(0,0,te,sc($e.cy+$e.y11,$e.cx+$e.x11),sc(Pe.cy+Pe.y11,Pe.cx+Pe.x11),!sf),Tb.arc(Pe.cx,Pe.cy,Lf,sc(Pe.y11,Pe.x11),sc(Pe.y01,Pe.x01),!sf))):(Tb.moveTo(ve,ue),Tb.arc(0,0,te,$e,Pe,!sf)):Tb.moveTo(ve,ue);1E-12<Rd&&1E-12<vh?1E-12<Pf?($e=Ua(Wg,of,jg,wh,Rd,-Pf,sf),Pe=Ua(ve,ue,lg,Kg,Rd,-Pf,sf),Tb.lineTo($e.cx+$e.x01,$e.cy+$e.y01),Pf<Nf?Tb.arc($e.cx,$e.cy,Pf,sc($e.y01,$e.x01),sc(Pe.y01,Pe.x01),
!sf):(Tb.arc($e.cx,$e.cy,Pf,sc($e.y01,$e.x01),sc($e.y11,$e.x11),!sf),Tb.arc(0,0,Rd,sc($e.cy+$e.y11,$e.cx+$e.x11),sc(Pe.cy+Pe.y11,Pe.cx+Pe.x11),sf),Tb.arc(Pe.cx,Pe.cy,Pf,sc(Pe.y11,Pe.x11),sc(Pe.y01,Pe.x01),!sf))):Tb.arc(0,0,Rd,bg,Lg,sf):Tb.lineTo(Wg,of)}else Tb.moveTo(0,0);Tb.closePath();if(Zc)return Tb=null,Zc+""||null}var y=qb,ba=Kb,oa=kc(0),Ta=null,Ya=Ob,Jb=Bb,hc=Pb,Tb=null,pd=Va(k);k.centroid=function(){var Zc=(+y.apply(this,arguments)+ +ba.apply(this,arguments))/2,Rd=(+Ya.apply(this,arguments)+
+Jb.apply(this,arguments))/2-yd/2;return[tc(Rd)*Zc,Gc(Rd)*Zc]};k.innerRadius=function(Zc){return arguments.length?(y="function"===typeof Zc?Zc:kc(+Zc),k):y};k.outerRadius=function(Zc){return arguments.length?(ba="function"===typeof Zc?Zc:kc(+Zc),k):ba};k.cornerRadius=function(Zc){return arguments.length?(oa="function"===typeof Zc?Zc:kc(+Zc),k):oa};k.padRadius=function(Zc){return arguments.length?(Ta=null==Zc?null:"function"===typeof Zc?Zc:kc(+Zc),k):Ta};k.startAngle=function(Zc){return arguments.length?
(Ya="function"===typeof Zc?Zc:kc(+Zc),k):Ya};k.endAngle=function(Zc){return arguments.length?(Jb="function"===typeof Zc?Zc:kc(+Zc),k):Jb};k.padAngle=function(Zc){return arguments.length?(hc="function"===typeof Zc?Zc:kc(+Zc),k):hc};k.context=function(Zc){return arguments.length?(Tb=null==Zc?null:Zc,k):Tb};return k}().startAngle(k=>k.startAngle||0).endAngle(k=>k.endAngle||0).padAngle(k=>k.padAngle||0).innerRadius(k=>k.innerRadius||0).outerRadius(k=>k.outerRadius||0).cornerRadius(k=>k.cornerRadius||
0),pa=Na().x(Xg).y1(Fg).y0(k=>(k.y||0)+(k.height||0)).defined(Jg),bb=Na().y(Fg).x1(Xg).x0(k=>(k.x||0)+(k.width||0)).defined(Jg),Qb=lb().x(Xg).y(Fg).defined(Jg),gd=uc().x(Xg).y(Fg).width(k=>k.width||0).height(k=>k.height||0).cornerRadius(k=>bd(k.cornerRadiusTopLeft,k.cornerRadius)||0,k=>bd(k.cornerRadiusTopRight,k.cornerRadius)||0,k=>bd(k.cornerRadiusBottomRight,k.cornerRadius)||0,k=>bd(k.cornerRadiusBottomLeft,k.cornerRadius)||0),ld=function(k,y){function ba(){let Ya;oa||(oa=Ya=Ta());k.apply(this,
arguments).draw(oa,+y.apply(this,arguments));if(Ya)return oa=null,Ya+""||null}let oa=null,Ta=Va(ba);k="function"===typeof k?k:kc(k||Ld);y="function"===typeof y?y:kc(void 0===y?64:+y);ba.type=function(Ya){return arguments.length?(k="function"===typeof Ya?Ya:kc(Ya),ba):k};ba.size=function(Ya){return arguments.length?(y="function"===typeof Ya?Ya:kc(+Ya),ba):y};ba.context=function(Ya){return arguments.length?(oa=null==Ya?null:Ya,ba):oa};return ba}().type(k=>Ja(k.shape||"circle")).size(k=>bd(k.size,64)),
pe=wc().x(Xg).y(Fg).defined(Jg).size(k=>k.size||1);var Oe=1;Ka.prototype={clone(){return new Ka(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(k){return this.x1===k.x1&&this.y1===k.y1&&this.x2===k.x2&&this.y2===k.y2},set(k,y,ba,oa){ba<k?(this.x2=k,this.x1=ba):(this.x1=k,this.x2=
ba);oa<y?(this.y2=y,this.y1=oa):(this.y1=y,this.y2=oa);return this},add(k,y){k<this.x1&&(this.x1=k);y<this.y1&&(this.y1=y);k>this.x2&&(this.x2=k);y>this.y2&&(this.y2=y);return this},expand(k){this.x1-=k;this.y1-=k;this.x2+=k;this.y2+=k;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(k){this.x1*=k;this.y1*=k;this.x2*=k;this.y2*=k;return this},translate(k,y){this.x1+=k;this.x2+=k;this.y1+=y;this.y2+=
y;return this},rotate(k,y,ba){k=this.rotatedPoints(k,y,ba);return this.clear().add(k[0],k[1]).add(k[2],k[3]).add(k[4],k[5]).add(k[6],k[7])},rotatedPoints(k,y,ba){var {x1:oa,y1:Ta,x2:Ya,y2:Jb}=this,hc=Math.cos(k);k=Math.sin(k);var Tb=y-y*hc+ba*k;y=ba-y*k-ba*hc;return[hc*oa-k*Ta+Tb,k*oa+hc*Ta+y,hc*oa-k*Jb+Tb,k*oa+hc*Jb+y,hc*Ya-k*Ta+Tb,k*Ya+hc*Ta+y,hc*Ya-k*Jb+Tb,k*Ya+hc*Jb+y]},union(k){k.x1<this.x1&&(this.x1=k.x1);k.y1<this.y1&&(this.y1=k.y1);k.x2>this.x2&&(this.x2=k.x2);k.y2>this.y2&&(this.y2=k.y2);
return this},intersect(k){k.x1>this.x1&&(this.x1=k.x1);k.y1>this.y1&&(this.y1=k.y1);k.x2<this.x2&&(this.x2=k.x2);k.y2<this.y2&&(this.y2=k.y2);return this},encloses(k){return k&&this.x1<=k.x1&&this.x2>=k.x2&&this.y1<=k.y1&&this.y2>=k.y2},alignsWith(k){return k&&(this.x1==k.x1||this.x2==k.x2||this.y1==k.y1||this.y2==k.y2)},intersects(k){return k&&!(this.x2<k.x1||this.x1>k.x2||this.y2<k.y1||this.y1>k.y2)},contains(k,y){return!(k<this.x1||k>this.x2||y<this.y1||y>this.y2)},width(){return this.x2-this.x1},
height(){return this.y2-this.y1}};g.inherits(rb,Ub);Sb.prototype={pending(){return this._pending},sanitizeURL(k){const y=this;y._pending+=1;return y._loader.sanitize(k,{context:"href"}).then(ba=>{--y._pending;return ba}).catch(()=>{--y._pending;return null})},loadImage(k){const y=this,ba=qa.image();y._pending+=1;return y._loader.sanitize(k,{context:"image"}).then(oa=>{const Ta=oa.href;if(!Ta||!ba)throw{url:Ta};const Ya=new ba;oa=g.hasOwnProperty(oa,"crossOrigin")?oa.crossOrigin:"anonymous";null!=
oa&&(Ya.crossOrigin=oa);Ya.onload=()=>{--y._pending};Ya.onerror=()=>{--y._pending};Ya.src=Ta;return Ya}).catch(oa=>{--y._pending;return{complete:!1,width:0,height:0,src:oa&&oa.url||""}})},ready(){const k=this;return new Promise(y=>{function ba(oa){k.pending()?setTimeout(()=>{ba(!0)},10):y(oa)}ba(!1)})}};const nf=If-1E-8;let Ef,Me,$f,Mf,Tf,pg,qg,Og;const Yg=(k,y)=>{k=Me=k;y=$f=y;return Ef.add(k,y)},gh=k=>Ef.add(k,Ef.y1),De=k=>Ef.add(Ef.x1,k),Ie=(k,y)=>Ef.add(Tf*k+qg*y,pg*k+Og*y),Kf=(k,y)=>Yg(Tf*k+
qg*y,pg*k+Og*y),wf={beginPath(){},closePath(){},moveTo:Kf,lineTo:Kf,rect(k,y,ba,oa){Mf?(Ie(k+ba,y),Ie(k+ba,y+oa),Ie(k,y+oa),Kf(k,y)):(Ef.add(k+ba,y+oa),Yg(k,y))},quadraticCurveTo(k,y,ba,oa){const Ta=pg*k+Og*y,Ya=Tf*ba+qg*oa;ba=pg*ba+Og*oa;Hc(Me,Tf*k+qg*y,Ya,gh);Hc($f,Ta,ba,De);Yg(Ya,ba)},bezierCurveTo(k,y,ba,oa,Ta,Ya){const Jb=pg*k+Og*y,hc=pg*ba+Og*oa,Tb=Tf*Ta+qg*Ya;Ta=pg*Ta+Og*Ya;zc(Me,Tf*k+qg*y,Tf*ba+qg*oa,Tb,gh);zc($f,Jb,hc,Ta,De);Yg(Tb,Ta)},arc(k,y,ba,oa,Ta,Ya){oa+=Mf;Ta+=Mf;Me=ba*Math.cos(Ta)+
k;$f=ba*Math.sin(Ta)+y;if(Math.abs(Ta-oa)>nf)Ef.add(k-ba,y-ba),Ef.add(k+ba,y+ba);else{const Jb=Tb=>Ef.add(ba*Math.cos(Tb)+k,ba*Math.sin(Tb)+y);let hc;Jb(oa);Jb(Ta);if(Ta!==oa)if(oa%=If,0>oa&&(oa+=If),Ta%=If,0>Ta&&(Ta+=If),Ta<oa&&(Ya=!Ya,hc=oa,oa=Ta,Ta=hc),Ya)for(Ta-=If,hc=oa-oa%Gf,oa=0;4>oa&&hc>Ta;++oa,hc-=Gf)Jb(hc);else for(hc=oa-oa%Gf+Gf,oa=0;4>oa&&hc<Ta;++oa,hc+=Gf)Jb(hc)}}};var lf=(lf=qa.canvas(1,1))?lf.getContext("2d"):null;const zf=new Ka;var rg=[],vg=Zd("arc",function(k,y){return Sg.context(k)(y)}),
ig=de("area",function(k,y){const ba=y[0];return("horizontal"===ba.orient?bb:pa).curve(Aa(ba.interpolate||"linear",ba.orient,ba.tension)).context(k)(y)},function(k,y){y="horizontal"===k[0].orient?y[1]:y[0];for(var ba="horizontal"===k[0].orient?"y":"x",oa=k.length,Ta=Infinity,Ya,Jb;0<=--oa;)!1!==k[oa].defined&&(Jb=Math.abs(k[oa][ba]-y),Jb<Ta&&(Ta=Jb,Ya=k[oa]));return Ya});const Af=Td(Xd),Pg=Td(Xd,!1),$g=Td(Xd,!0);var jh={type:"group",tag:"g",nested:!1,attr:function(k,y){k("transform",Ed(y.x||0,y.y||
0))},bound:function(k,y){if(!y.clip&&y.items){const ba=y.items,oa=ba.length;for(let Ta=0;Ta<oa;++Ta)k.union(ba[Ta].bounds)}(y.clip||y.width||y.height)&&!y.noBound&&k.add(0,0).add(y.width||0,y.height||0);fc(k,y);return k.translate(y.x||0,y.y||0)},draw:function(k,y,ba){dc(y,oa=>{const Ta=oa.x||0,Ya=oa.y||0,Jb=oa.strokeForeground,hc=null==oa.opacity?1:oa.opacity;(oa.stroke||oa.fill)&&hc&&(Xd(k,oa,Ta,Ya),ra(k,oa),oa.fill&&$a(k,oa,hc)&&k.fill(),oa.stroke&&!Jb&&jb(k,oa,hc)&&k.stroke());k.save();k.translate(Ta,
Ya);oa.clip&&Ud(k,oa);ba&&ba.translate(-Ta,-Ya);dc(oa,Tb=>{this.draw(k,Tb,ba)});ba&&ba.translate(Ta,Ya);k.restore();Jb&&oa.stroke&&hc&&(Xd(k,oa,Ta,Ya),ra(k,oa),jb(k,oa,hc)&&k.stroke())})},pick:function(k,y,ba,oa,Ta,Ya){if(y.bounds&&!y.bounds.contains(Ta,Ya)||!y.items)return null;const Jb=ba*k.pixelRatio,hc=oa*k.pixelRatio;return ic(y,Tb=>{let pd,Zc;var Rd=Tb.bounds;if(!Rd||Rd.contains(Ta,Ya)){pd=Tb.x||0;Zc=Tb.y||0;Rd=pd+(Tb.width||0);var te=Zc+(Tb.height||0),ve=Tb.clip;if(!ve||!(Ta<pd||Ta>Rd||Ya<
Zc||Ya>te)){k.save();k.translate(pd,Zc);pd=Ta-pd;Zc=Ya-Zc;if(ve&&Wb(Tb)&&!$g(k,Tb,Jb,hc))return k.restore(),null;te=Tb.strokeForeground;if((ve=!1!==y.interactive)&&te&&Tb.stroke&&Pg(k,Tb,Jb,hc))return k.restore(),Tb;Rd=ic(Tb,ue=>(!1!==ue.interactive||"group"===ue.marktype)&&ue.bounds&&ue.bounds.contains(pd,Zc)?this.pick(ue,ba,oa,pd,Zc):null);!Rd&&ve&&(Tb.fill||!te&&Tb.stroke)&&Af(k,Tb,Jb,hc)&&(Rd=Tb);k.restore();return Rd||null}}})},isect:Ga,content:function(k,y,ba){y=y.clip?Pd(ba,y,y):null;k("clip-path",
y)},background:function(k,y){k("class","background");k("aria-hidden",!0);const ba=Te(y);k("d",Rc(null,y,ba,ba))},foreground:function(k,y){k("class","foreground");k("aria-hidden",!0);if(y.strokeForeground){const ba=Te(y);k("d",Rc(null,y,ba,ba))}else k("d","")}},wg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},qh={type:"image",tag:"image",nested:!1,attr:function(k,y,ba){var oa=M(y,ba);ba=ka(y,oa);const Ta=za(y,oa),Ya=(y.x||0)-fb(y.align,ba),Jb=(y.y||
0)-Hb(y.baseline,Ta);oa=!oa.src&&oa.toDataURL?oa.toDataURL():oa.src||"";k("href",oa,wg["xmlns:xlink"],"xlink:href");k("transform",Ed(Ya,Jb));k("width",ba);k("height",Ta);k("preserveAspectRatio",!1===y.aspect?"none":"xMidYMid")},bound:function(k,y){var ba=y.image;const oa=ka(y,ba);ba=za(y,ba);const Ta=(y.x||0)-fb(y.align,oa);y=(y.y||0)-Hb(y.baseline,ba);return k.set(Ta,y,Ta+oa,y+ba)},draw:function(k,y,ba){dc(y,oa=>{if(!ba||ba.intersects(oa.bounds)){var Ta=M(oa,this),Ya=ka(oa,Ta),Jb=za(oa,Ta);if(0!==
Ya&&0!==Jb){var hc=(oa.x||0)-fb(oa.align,Ya),Tb=(oa.y||0)-Hb(oa.baseline,Jb),pd;if(!1!==oa.aspect){var Zc=Ta.width/Ta.height;var Rd=oa.width/oa.height;Zc===Zc&&Rd===Rd&&Zc!==Rd&&(Rd<Zc?(Zc=Ya/Zc,Tb+=(Jb-Zc)/2,Jb=Zc):(Zc*=Jb,hc+=(Ya-Zc)/2,Ya=Zc))}if(Ta.complete||Ta.toDataURL)ra(k,oa),k.globalAlpha=null!=(pd=oa.opacity)?pd:1,k.imageSmoothingEnabled=!1!==oa.smooth,k.drawImage(Ta,hc,Tb,Ya,Jb)}}})},pick:Qd(),isect:g.truthy,get:M,xOffset:fb,yOffset:Hb},ph=de("line",function(k,y){const ba=y[0];return Qb.curve(Aa(ba.interpolate||
"linear",ba.orient,ba.tension)).context(k)(y)},function(k,y){for(var ba=Math.pow(k[0].strokeWidth||1,2),oa=k.length,Ta,Ya;0<=--oa;)if(!1!==k[oa].defined&&(Ta=k[oa].x-y[0],Ya=k[oa].y-y[1],Ta=Ta*Ta+Ya*Ya,Ta<ba))return k[oa];return null}),Ih={type:"path",tag:"path",nested:!1,attr:function(k,y){var ba=y.scaleY||1;1===(y.scaleX||1)&&1===ba||k("vector-effect","non-scaling-stroke");ba=Ed(y.x||0,y.y||0)+(y.angle?" rotate("+(y.angle+")"):"")+(y.scaleX||y.scaleY?" scale("+((y.scaleX||1)+","+(y.scaleY||1)+")"):
"");k("transform",ba);k("d",y.path)},bound:function(k,y){return Xb(bc(k,y.angle),y)?k.set(0,0,0,0):fc(k,y,!0)},draw:Uc(Xb),pick:Qd(Td(Xb)),isect:Md(Xb)},Vg={type:"rect",tag:"path",nested:!1,attr:function(k,y){k("d",Rc(null,y))},bound:function(k,y){var ba,oa;return fc(k.set(ba=y.x||0,oa=y.y||0,ba+y.width||0,oa+y.height||0),y)},draw:Uc(Ac),pick:Qd(Td(Ac)),isect:Ga},rh={type:"rule",tag:"line",nested:!1,attr:function(k,y){k("transform",Ed(y.x||0,y.y||0));k("x2",null!=y.x2?y.x2-(y.x||0):0);k("y2",null!=
y.y2?y.y2-(y.y||0):0)},bound:function(k,y){var ba,oa;return fc(k.set(ba=y.x||0,oa=y.y||0,null!=y.x2?y.x2:ba,null!=y.y2?y.y2:oa),y)},draw:function(k,y,ba){dc(y,oa=>{if(!ba||ba.intersects(oa.bounds)){var Ta=null==oa.opacity?1:oa.opacity;Ta&&lc(k,oa,Ta)&&(ra(k,oa),k.stroke())}})},pick:Qd(function(k,y,ba,oa){return k.isPointInStroke?lc(k,y,1)&&k.isPointInStroke(ba,oa):!1}),isect:gb},yh=Zd("shape",function(k,y){return(y.mark.shape||y.shape).context(k)(y)}),qi=Zd("symbol",function(k,y){return ld.context(k)(y)},
td);const Tg=g.lruCache();var kh={height:Gd,measureWidth:Nc,estimateWidth:hd,width:hd,canvas:Fc};Fc(!0);const ri={left:"start",center:"middle",right:"end"},Cg=new Ka;var zh={type:"text",tag:"text",nested:!1,attr:function(k,y){var ba=y.dx||0,oa=(y.dy||0)+df(y),Ta=af(y),Ya=Ta.x1;Ta=Ta.y1;var Jb=y.angle||0;k("text-anchor",ri[y.align]||"start");if(Jb){if(y=Ed(Ya,Ta)+" rotate("+(Jb+")"),ba||oa)y+=" "+Ed(ba,oa)}else y=Ed(Ya+ba,Ta+oa);k("transform",y)},bound:re,draw:function(k,y,ba){dc(y,oa=>{var Ta=null==
oa.opacity?1:oa.opacity,Ya;if(!(ba&&!ba.intersects(oa.bounds)||0===Ta||0>=oa.fontSize||null==oa.text||0===oa.text.length)){k.font=ff(oa);k.textAlign=oa.align||"left";var Jb=af(oa);var hc=Jb.x1;Jb=Jb.y1;oa.angle&&(k.save(),k.translate(hc,Jb),k.rotate(oa.angle*Ze),hc=Jb=0);hc+=oa.dx||0;Jb+=(oa.dy||0)+df(oa);var Tb=$d(oa);ra(k,oa);if(g.isArray(Tb)){var pd=Fd(oa);for(Ya=0;Ya<Tb.length;++Ya){var Zc=Wd(oa,Tb[Ya]);oa.fill&&$a(k,oa,Ta)&&k.fillText(Zc,hc,Jb);oa.stroke&&jb(k,oa,Ta)&&k.strokeText(Zc,hc,Jb);
Jb+=pd}}else Zc=Wd(oa,Tb),oa.fill&&$a(k,oa,Ta)&&k.fillText(Zc,hc,Jb),oa.stroke&&jb(k,oa,Ta)&&k.strokeText(Zc,hc,Jb);oa.angle&&k.restore()}})},pick:Qd(function(k,y,ba,oa,Ta,Ya){if(0>=y.fontSize)return!1;if(!y.angle)return!0;ba=af(y);k=ba.x1;ba=ba.y1;oa=re(Cg,y,1);var Jb=-y.angle*Ze;y=Math.cos(Jb);Jb=Math.sin(Jb);return oa.contains(y*Ta-Jb*Ya+(k-y*k+Jb*ba),Jb*Ta+y*Ya+(ba-Jb*k-y*ba))}),isect:function(k,y){k=re(Cg,k,2);return vb(y,k[0],k[1],k[2],k[3])||vb(y,k[0],k[1],k[4],k[5])||vb(y,k[4],k[5],k[6],k[7])||
vb(y,k[2],k[3],k[6],k[7])}},Th=de("trail",function(k,y){return pe.context(k)(y)},function(k,y){for(var ba=k.length,oa,Ta;0<=--ba;)if(!1!==k[ba].defined&&(oa=k[ba].x-y[0],Ta=k[ba].y-y[1],Ta=oa*oa+Ta*Ta,oa=k[ba].size||1,Ta<oa*oa))return k[ba];return null}),Qg={arc:vg,area:ig,group:jh,image:qh,line:ph,path:Ih,rect:Vg,rule:rh,shape:yh,symbol:qi,text:zh,trail:Th},Zg={mark:null};const lh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
ec.prototype={toJSON(k){return ta(this.root,k||0)},mark(k,y,ba){y=y||this.root.items[0];k=Bc(k,y);y.items[ba]=k;k.zindex&&(k.group.zdirty=!0);return k}};Cc.prototype={initialize(k,y,ba){this._el=k;this._obj=ba||null;return this.origin(y)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(k){return arguments.length?(this._origin=k||[0,0],this):this._origin.slice()},scene(k){if(!arguments.length)return this._scene;this._scene=k;return this},on(){},off(){},_handlerIndex(k,
y,ba){for(let oa=k?k.length:0;0<=--oa;)if(k[oa].type===y&&(!ba||k[oa].handler===ba))return oa;return-1},handlers(k){const y=this._handlers,ba=[];if(k)ba.push(...y[this.eventName(k)]);else for(const oa in y)ba.push(...y[oa]);return ba},eventName(k){const y=k.indexOf(".");return 0>y?k:k.slice(0,y)},handleHref(k,y,ba){this._loader.sanitize(ba,{context:"href"}).then(oa=>{const Ta=new MouseEvent(k.type,k),Ya=Yb(null,"a");for(const Jb in oa)Ya.setAttribute(Jb,oa[Jb]);Ya.dispatchEvent(Ta)}).catch(()=>{})},
handleTooltip(k,y,ba){if(y&&null!=y.tooltip){var oa=this.canvas(),Ta=this._origin,Ya=y&&y.mark,Jb;if(Ya&&(Jb=Qg[Ya.marktype]).tip){oa=Pc(k,oa);oa[0]-=Ta[0];for(oa[1]-=Ta[1];y=y.mark.group;)oa[0]-=y.x||0,oa[1]-=y.y||0;y=Jb.tip(Ya.items,oa)}this._tooltip.call(this._obj,this,k,y,ba&&y&&y.tooltip||null)}},getItemBoundingClientRect(k){var y=this.canvas();if(y){var ba=y.getBoundingClientRect(),oa=this._origin,Ta=k.bounds;y=Ta.width();var Ya=Ta.height(),Jb=Ta.x1+oa[0]+ba.left;for(ba=Ta.y1+oa[1]+ba.top;k.mark&&
(k=k.mark.group);)Jb+=k.x||0,ba+=k.y||0;return{x:Jb,y:ba,width:y,height:Ya,left:Jb,top:ba,right:Jb+y,bottom:ba+Ya}}}};fd.prototype={initialize(k,y,ba,oa,Ta){this._el=k;return this.resize(y,ba,oa,Ta)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(k){if(0===arguments.length)return this._bgcolor;this._bgcolor=k;return this},resize(k,y,ba,oa){this._width=k;this._height=y;this._origin=ba||[0,0];this._scale=oa||1;return this},dirty(){},render(k){const y=this;y._call=
function(){y._render(k)};y._call();y._call=null;return y},_render(){},renderAsync(k){const y=this.render(k);return this._ready?this._ready.then(()=>y):Promise.resolve(y)},_load(k,y){var ba=this;k=ba._loader[k](y);if(!ba._ready){const oa=ba._call;ba._ready=ba._loader.ready().then(Ta=>{Ta&&oa();ba._ready=null})}return k},sanitizeURL(k){return this._load("sanitizeURL",k)},loadImage(k){return this._load("loadImage",k)}};g.inherits(ee,Cc,{initialize(k,y,ba){this._canvas=k&&I(k,"canvas");["click","mousedown",
"mousemove","mouseout","dragleave"].forEach(oa=>Ra(this,oa));return Cc.prototype.initialize.call(this,k,y,ba)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(k){this.fire("mousewheel",k)},mousemove:pc("mousemove","mouseover","mouseout"),dragover:pc("dragover","dragenter","dragleave"),
mouseout:vd("mouseout"),dragleave:vd("dragleave"),mousedown(k){this._down=this._active;this.fire("mousedown",k)},click(k){this._down===this._active&&(this.fire("click",k),this._down=null)},touchstart(k){this._touch=this.pickEvent(k.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",k,!0)},touchmove(k){this.fire("touchmove",k,!0)},touchend(k){this.fire("touchend",k,!0);this._touch=null},fire(k,y,ba){ba=ba?this._touch:this._active;const oa=this._handlers[k];
y.vegaType=k;"click"===k&&ba&&ba.href?this.handleHref(y,ba,ba.href):("mousemove"===k||"mouseout"===k)&&this.handleTooltip(y,ba,"mouseout"!==k);if(oa)for(let Ta=0,Ya=oa.length;Ta<Ya;++Ta)oa[Ta].handler.call(this._obj,y,ba)},on(k,y){const ba=this.eventName(k),oa=this._handlers;0>this._handlerIndex(oa[ba],k,y)&&(Ra(this,k),(oa[ba]||(oa[ba]=[])).push({type:k,handler:y}));return this},off(k,y){var ba=this.eventName(k);ba=this._handlers[ba];k=this._handlerIndex(ba,k,y);0<=k&&ba.splice(k,1);return this},
pickEvent(k){k=Pc(k,this._canvas);const y=this._origin;return this.pick(this._scene,k[0],k[1],k[0]-y[0],k[1]-y[1])},pick(k,y,ba,oa,Ta){const Ya=this.context();return Qg[k.marktype].pick.call(this,Ya,k,y,ba,oa,Ta)}});var sh="undefined"!==typeof window?window.devicePixelRatio||1:1;const Gg=fd.prototype;g.inherits(Jc,fd,{initialize(k,y,ba,oa,Ta,Ya){this._options=Ya||{};this._canvas=this._options.externalContext?null:qa.canvas(1,1,this._options.type);k&&this._canvas&&(Sa(k,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return Gg.initialize.call(this,k,y,ba,oa,Ta)},resize(k,y,ba,oa){Gg.resize.call(this,k,y,ba,oa);if(this._canvas){k=this._canvas;y=this._width;ba=this._height;oa=this._origin;var Ta=this._scale,Ya=this._options.context;const hc="undefined"!==typeof HTMLElement&&k instanceof HTMLElement&&null!=k.parentNode,Tb=k.getContext("2d");Ta=hc?sh:Ta;k.width=y*Ta;k.height=ba*Ta;for(var Jb in Ya)Tb[Jb]=Ya[Jb];hc&&1!==Ta&&(k.style.width=y+"px",k.style.height=ba+"px");Tb.pixelRatio=
Ta;Tb.setTransform(Ta,0,0,Ta,Ta*oa[0],Ta*oa[1])}else(Jb=this._options.externalContext)||g.error("CanvasRenderer is missing a valid canvas or context"),Jb.scale(this._scale,this._scale),Jb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(k){const y=this._tempb.clear().union(k.bounds);for(k=k.mark.group;k;)y.translate(k.x||0,k.y||0),k=k.mark.group;
this._dirty.union(y)},_render(k){const y=this.context(),ba=this._origin,oa=this._width,Ta=this._height,Ya=this._dirty;var Jb=(new Ka).set(0,0,oa,Ta).translate(-ba[0],-ba[1]);y.save();this._redraw||Ya.empty()?Jb=(this._redraw=!1,Jb.expand(1)):(Jb=Jb.intersect(Ya),Jb.expand(1).round(),y.pixelRatio%1&&Jb.scale(y.pixelRatio).round().scale(1/y.pixelRatio),Jb.translate(-(ba[0]%1),-(ba[1]%1)),y.beginPath(),y.rect(Jb.x1,Jb.y1,Jb.width(),Jb.height()),y.clip());this.clear(-ba[0],-ba[1],oa,Ta);this.draw(y,k,
Jb);y.restore();Ya.clear();return this},draw(k,y,ba){const oa=Qg[y.marktype];if(y.clip){var Ta=y.clip;k.save();g.isFunction(Ta)?(k.beginPath(),Ta(k),k.clip()):Ud(k,y.group)}oa.draw.call(this,k,y,ba);y.clip&&k.restore()},clear(k,y,ba,oa){const Ta=this._options,Ya=this.context();"pdf"===Ta.type||Ta.externalContext||Ya.clearRect(k,y,ba,oa);null!=this._bgcolor&&(Ya.fillStyle=this._bgcolor,Ya.fillRect(k,y,ba,oa))}});const Jh=(k,y)=>ba=>{let oa=ba.target.__data__;oa=Array.isArray(oa)?oa[0]:oa;ba.vegaType=
ba.type;y.call(k._obj,ba,oa)};g.inherits(Vc,Cc,{initialize(k,y,ba){let oa=this._svg;oa&&(oa.removeEventListener("click",this._hrefHandler),oa.removeEventListener("mousemove",this._tooltipHandler),oa.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=oa=k&&I(k,"svg"))oa.addEventListener("click",this._hrefHandler),oa.addEventListener("mousemove",this._tooltipHandler),oa.addEventListener("mouseout",this._tooltipHandler);return Cc.prototype.initialize.call(this,k,y,ba)},canvas(){return this._svg},
on(k,y){const ba=this.eventName(k),oa=this._handlers;0>this._handlerIndex(oa[ba],k,y)&&(k={type:k,handler:y,listener:Jh(this,y)},(oa[ba]||(oa[ba]=[])).push(k),this._svg&&this._svg.addEventListener(ba,k.listener));return this},off(k,y){const ba=this.eventName(k),oa=this._handlers[ba];k=this._handlerIndex(oa,k,y);0<=k&&(this._svg&&this._svg.removeEventListener(ba,oa[k].listener),oa.splice(k,1));return this}});const th=(k,y,ba)=>({role:k,["aria-roledescription"]:y,["aria-label"]:ba||void 0}),uh=g.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),
Ph={axis:{desc:"axis",caption:function(k){var y=k.datum;const ba=k.orient,oa=y.title?Bd(k):null;var Ta=k.context;y=Ta.scales[y.scale].value;Ta=Ta.dataflow.locale();const Ya=y.type;return`${"left"===ba||"right"===ba?"Y":"X"}-axis`+(oa?` titled '${oa}'`:"")+` for a ${Gb.isDiscrete(Ya)?"discrete":Ya} scale`+` with ${Gb.domainCaption(Ta,y,k)}`}},legend:{desc:"legend",caption:function(k){var y=k.datum;const ba=y.title?Bd(k):null,oa=`${y.type||""} legend`.trim();var Ta=y.scales;y=Object.keys(Ta);var Ya=
k.context;Ta=Ya.scales[Ta[y[0]]].value;Ya=Ya.dataflow.locale();return(oa.length?oa[0].toUpperCase()+oa.slice(1):oa)+(ba?` titled '${ba}'`:"")+` for ${be(y)}`+` with ${Gb.domainCaption(Ya,Ta,k)}`}},"title-text":{desc:"title",caption:k=>`Title text '${g.array(k.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:k=>`Subtitle text '${g.array(k.text).join(" ")}'`}},Uh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},mh=k=>(k+"").replace(/&/g,"\x26amp;").replace(/</g,
"\x26lt;").replace(/>/g,"\x26gt;"),Ah=k=>Ke(we(),k)+"",Vf={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Hg={blend:"mix-blend-mode"},Wf={fill:"none","stroke-miterlimit":10},Df=wg.xmlns,Kh=fd.prototype;g.inherits(Xe,fd,{initialize(k,y,ba,oa,Ta){this._defs=
{};this._clearDefs();k&&(this._svg=da(k,0,"svg",Df),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Df),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",wg["xmlns:xlink"]),this._svg.setAttribute("version",wg.version),this._svg.setAttribute("class","marks"),Sa(k,1),this._root=da(this._svg,0,"g",Df),Id(this._root,Wf),Sa(this._svg,1));this.background(this._bgcolor);return Kh.initialize.call(this,k,y,ba,oa,Ta)},background(k){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
k);return Kh.background.apply(this,arguments)},resize(k,y,ba,oa){Kh.resize.call(this,k,y,ba,oa);this._svg&&(Id(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const k=this._svg,y=this._bgcolor;if(!k)return null;let ba;y&&(k.removeAttribute("style"),ba=da(k,0,"rect",Df),Id(ba,{width:this._width,height:this._height,
fill:y}));const oa=Ah(k);y&&(k.removeChild(ba),this._svg.style.setProperty("background-color",y));return oa},_render(k){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,k),Sa(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(k){k.dirty!==this._dirtyID&&(k.dirty=this._dirtyID,this._dirty.push(k))},isDirty(k){return this._dirtyAll||!k._svg||!k._svg.ownerSVGElement||k.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const k=this._dirty;if(!k.length||
!this._dirtyID)return!0;const y=++this._dirtyID;let ba;let oa,Ta,Ya,Jb;Ya=0;for(Jb=k.length;Ya<Jb;++Ya){ba=k[Ya];var hc=ba.mark;hc.marktype!==oa&&(oa=hc.marktype,Ta=Qg[oa]);hc.zdirty&&hc.dirty!==y&&(this._dirtyAll=!1,bf(ba,y),hc.items.forEach(Tb=>{Tb.dirty=y}));hc.zdirty||(ba.exit?(Ta.nested&&hc.items.length?(hc=hc.items[0],hc._svg&&this._update(Ta,hc._svg,hc)):ba._svg&&(hc=ba._svg.parentNode)&&hc.removeChild(ba._svg),ba._svg=null):(ba=Ta.nested?hc.items[0]:ba,ba._update!==y&&(ba._svg&&ba._svg.ownerSVGElement?
this._update(Ta,ba._svg,ba):(this._dirtyAll=!1,bf(ba,y)),ba._update=y)))}return!this._dirtyAll},mark(k,y,ba){if(!this.isDirty(y))return y._svg;const oa=this._svg,Ta=Qg[y.marktype];var Ya=!1===y.interactive?"none":null;const Jb="g"===Ta.tag,hc=Dc(y,k,ba,"g",oa);hc.setAttribute("class",ac(y));k=sd(y);for(const Zc in k)Vd(hc,Zc,k[Zc]);Jb||Vd(hc,"pointer-events",Ya);Vd(hc,"clip-path",y.clip?Pd(this,y,y.group):null);let Tb=null,pd=0;Ya=Zc=>{const Rd=this.isDirty(Zc),te=Dc(Zc,hc,Tb,Ta.tag,oa);Rd&&(this._update(Ta,
te,Zc),Jb&&md(this,te,Zc));Tb=te;++pd};Ta.nested?y.items.length&&Ya(y.items[0]):dc(y,Ya);Sa(hc,pd);return hc},_update(k,y,ba){eg=y;Xf=y.__values__;Qc(jd,ba);k.attr(jd,ba,this);const oa=R[k.type];oa&&oa.call(this,k,y,ba);eg&&this.style(eg,ba)},style(k,y){if(null!=y){for(const ba in Vf){let oa="font"===ba?Be(y):y[ba];if(oa===Xf[ba])continue;const Ta=Vf[ba];null==oa?k.removeAttribute(Ta):(oa&&oa.gradient&&(oa=$b(oa,this._defs.gradient,ce())),k.setAttribute(Ta,oa+""));Xf[ba]=oa}for(const ba in Hg)Ec(k,
Hg[ba],y[ba])}},defs(){const k=this._svg,y=this._defs;let ba=y.el;var oa=0;for(var Ta in y.gradient){ba||(y.el=ba=da(k,1,"defs",Df));var Ya=void 0;let Tb,pd;var Jb=ba,hc=y.gradient[Ta];"radial"===hc.gradient?(Ya=da(Jb,oa++,"pattern",Df),Id(Ya,{id:"p_"+hc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Ya=da(Ya,0,"rect",Df),Id(Ya,{width:1,height:1,fill:`url(${ce()}#${hc.id})`}),Jb=da(Jb,oa++,"radialGradient",Df),Id(Jb,{id:hc.id,fx:hc.x1,fy:hc.y1,fr:hc.r1,cx:hc.x2,
cy:hc.y2,r:hc.r2})):(Jb=da(Jb,oa++,"linearGradient",Df),Id(Jb,{id:hc.id,x1:hc.x1,x2:hc.x2,y1:hc.y1,y2:hc.y2}));pd=0;for(Tb=hc.stops.length;pd<Tb;++pd)Ya=da(Jb,pd,"stop",Df),Ya.setAttribute("offset",hc.stops[pd].offset),Ya.setAttribute("stop-color",hc.stops[pd].color);Sa(Jb,pd)}for(const Tb in y.clipping)ba||(y.el=ba=da(k,1,"defs",Df)),Jb=ba,hc=y.clipping[Tb],Ta=oa,Jb=da(Jb,Ta,"clipPath",Df),Jb.setAttribute("id",hc.id),hc.path?(oa=da(Jb,0,"path",Df),oa.setAttribute("d",hc.path)):(oa=da(Jb,0,"rect",
Df),Id(oa,{x:0,y:0,width:hc.width,height:hc.height})),Sa(Jb,1),oa=Ta+1;ba&&(0===oa?(k.removeChild(ba),y.el=null):Sa(ba,oa))},_clearDefs(){const k=this._defs;k.gradient={};k.clipping={}}});let eg=null,Xf=null;const R={group(k,y,ba){const oa=eg=y.childNodes[2];Xf=oa.__values__;k.foreground(jd,ba,this);Xf=y.__values__;eg=y.childNodes[1];k.content(jd,ba,this);y=eg=y.childNodes[0];k.background(jd,ba,this);k=!1===ba.mark.interactive?"none":null;k!==Xf.events&&(Vd(oa,"pointer-events",k),Vd(y,"pointer-events",
k),Xf.events=k);ba.strokeForeground&&ba.stroke?(k=ba.fill,Vd(oa,"display",null),this.style(y,ba),Vd(y,"stroke",null),k&&(ba.fill=null),Xf=oa.__values__,this.style(oa,ba),k&&(ba.fill=k),eg=null):Vd(oa,"display","none")},image(k,y,ba){!1===ba.smooth?(Ec(y,"image-rendering","optimizeSpeed"),Ec(y,"image-rendering","pixelated")):Ec(y,"image-rendering",null)},text(k,y,ba){k=$d(ba);let oa,Ta,Ya;g.isArray(k)?(oa=k.map(Jb=>Wd(ba,Jb)),k=oa.join("\n"),k!==Xf.text&&(Sa(y,0),Ta=y.ownerDocument,Ya=Fd(ba),oa.forEach((Jb,
hc)=>{const Tb=Yb(Ta,"tspan",Df);Tb.__data__=ba;Tb.textContent=Jb;hc&&(Tb.setAttribute("x",0),Tb.setAttribute("dy",Ya));y.appendChild(Tb)}),Xf.text=k)):(oa=Wd(ba,k),oa!==Xf.text&&(y.textContent=oa,Xf.text=oa));Vd(y,"font-family",Be(ba));Vd(y,"font-size",Gd(ba)+"px");Vd(y,"font-style",ba.fontStyle);Vd(y,"font-variant",ba.fontVariant);Vd(y,"font-weight",ba.fontWeight)}};g.inherits(le,fd,{svg(){return this._text},_render(k){const y=we();y.open("svg",g.extend({},wg,{class:"marks",width:this._width*this._scale,
height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ba=this._bgcolor;ba&&"transparent"!==ba&&"none"!==ba&&y.open("rect",{width:this._width,height:this._height,fill:ba}).close();y.open("g",Wf,{transform:"translate("+this._origin+")"});this.mark(y,k);y.close();this.defs(y);this._text=y.close()+"";return this},mark(k,y){const ba=Qg[y.marktype],oa=ba.tag,Ta=[Qc,ba.attr];k.open("g",{"class":ac(y),"clip-path":y.clip?Pd(this,y,y.group):null},sd(y),{"pointer-events":"g"!==
oa&&!1===y.interactive?"none":null});const Ya=Jb=>{const hc=this.href(Jb);hc&&k.open("a",hc);k.open(oa,this.attr(y,Jb,Ta,"g"!==oa?oa:null));if("text"===oa){var Tb=$d(Jb);if(g.isArray(Tb)){var pd={x:0,dy:Fd(Jb)};for(var Zc=0;Zc<Tb.length;++Zc)k.open("tspan",Zc?pd:null).text(Wd(Jb,Tb[Zc])).close()}else k.text(Wd(Jb,Tb))}else"g"===oa&&(Tb=Jb.strokeForeground,pd=Jb.fill,Zc=Jb.stroke,Tb&&Zc&&(Jb.stroke=null),k.open("path",this.attr(y,Jb,ba.background,"bgrect")).close(),k.open("g",this.attr(y,Jb,ba.content)),
dc(Jb,Rd=>this.mark(k,Rd)),k.close(),Tb&&Zc?(pd&&(Jb.fill=null),Jb.stroke=Zc,k.open("path",this.attr(y,Jb,ba.foreground,"bgrect")).close(),pd&&(Jb.fill=pd)):k.open("path",this.attr(y,Jb,ba.foreground,"bgfore")).close());k.close();hc&&k.close()};ba.nested?y.items&&y.items.length&&Ya(y.items[0]):dc(y,Ya);return k.close()},href(k){const y=k.href;if(y){if(k=this._hrefs&&this._hrefs[y])return k;this.sanitizeURL(y).then(ba=>{ba["xlink:href"]=ba.href;ba.href=null;(this._hrefs||(this._hrefs={}))[y]=ba})}return null},
attr(k,y,ba,oa){const Ta={},Ya=(Jb,hc,Tb,pd)=>{Ta[pd||Jb]=hc};Array.isArray(ba)?ba.forEach(Jb=>Jb(Ya,y,this)):ba(Ya,y,this);oa&&N(Ta,y,k,oa,this._defs);return Ta},defs(k){var y=this._defs.gradient;const ba=this._defs.clipping;if(0!==Object.keys(y).length+Object.keys(ba).length){k.open("defs");for(const Ta in y){var oa=y[Ta];const Ya=oa.stops;"radial"===oa.gradient?(k.open("pattern",{id:"p_"+Ta,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),k.open("rect",{width:"1",
height:"1",fill:"url(#"+Ta+")"}).close(),k.close(),k.open("radialGradient",{id:Ta,fx:oa.x1,fy:oa.y1,fr:oa.r1,cx:oa.x2,cy:oa.y2,r:oa.r2})):k.open("linearGradient",{id:Ta,x1:oa.x1,x2:oa.x2,y1:oa.y1,y2:oa.y2});for(oa=0;oa<Ya.length;++oa)k.open("stop",{offset:Ya[oa].offset,"stop-color":Ya[oa].color}).close();k.close()}for(const Ta in ba)y=ba[Ta],k.open("clipPath",{id:Ta}),y.path?k.open("path",{d:y.path}).close():k.open("rect",{x:0,y:0,width:y.width,height:y.height}).close(),k.close();k.close()}}});const va=
{};va.canvas=va.png={renderer:Jc,headless:Jc,handler:ee};va.svg={renderer:Xe,headless:le,handler:Vc};va.none={};const Qa=new Ka;r.Bounds=Ka;r.CanvasHandler=ee;r.CanvasRenderer=Jc;r.Gradient=function(k,y){var ba=[],oa;return oa={gradient:"linear",x1:k?k[0]:0,y1:k?k[1]:0,x2:y?y[0]:1,y2:y?y[1]:0,stops:ba,stop:function(Ta,Ya){ba.push({offset:Ta,color:Ya});return oa}}};r.GroupItem=rb;r.Handler=Cc;r.Item=Ub;r.Marks=Qg;r.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};r.Renderer=fd;r.ResourceLoader=
Sb;r.SVGHandler=Vc;r.SVGRenderer=Xe;r.SVGStringRenderer=le;r.Scenegraph=ec;r.boundClip=function(k){const y=k.clip;if(g.isFunction(y))y(bc(Qa.clear()));else if(y)Qa.set(0,0,k.group.width,k.group.height);else return;k.bounds.intersect(Qa)};r.boundContext=bc;r.boundItem=pf;r.boundMark=T;r.boundStroke=fc;r.domChild=da;r.domClear=Sa;r.domCreate=Yb;r.domFind=I;r.font=ff;r.fontFamily=Be;r.fontSize=Gd;r.intersect=function(k,y,ba){const oa=[];y=(new Ka).union(y);const Ta=k.marktype;return Ta?ca(k,y,ba,oa):
"group"===Ta?H(k,y,ba,oa):g.error("Intersect scene must be mark node or group item.")};r.intersectBoxLine=vb;r.intersectPath=Md;r.intersectPoint=td;r.intersectRule=gb;r.lineHeight=Fd;r.markup=we;r.multiLineOffset=function(k){const y=$d(k);return(g.isArray(y)?y.length-1:0)*Fd(k)};r.path=rc;r.pathCurves=Aa;r.pathEqual=Ia;r.pathParse=X;r.pathRectangle=uc;r.pathRender=K;r.pathSymbols=Ja;r.pathTrail=wc;r.point=Pc;r.renderModule=function(k,y){k=String(k||"").toLowerCase();return 1<arguments.length?(va[k]=
y,this):va[k]};r.resetSVGClipId=function(){Oe=1};r.resetSVGDefIds=function(){Oe=1;ub=0};r.sceneEqual=sa;r.sceneFromJSON=db;r.scenePickVisit=ic;r.sceneToJSON=ta;r.sceneVisit=dc;r.sceneZOrder=nc;r.serializeXML=Ah;r.textMetrics=kh})};
shadow$provide[35]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(29),Db(34),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb){function Gb(D){g.Transform.call(this,null,D)}function $b(D,G,U){return G(D.bounds.clear(),D,U)}function oc(D){g.Transform.call(this,
0,D)}function kc(D){return D._signals[":vega_identifier:"]||(D._signals[":vega_identifier:"]=D.add(0))}function yc(D){g.Transform.call(this,null,D)}function Ab(D){const G=D.groups;D=D.parent;return G&&1===G.size?G.get(Object.keys(G.object)[0]):G&&D?G.lookup(D):null}function gc(D){g.Transform.call(this,null,D)}function rc(D){g.Transform.call(this,null,D)}function Va(D,G,U){return D[G]===U?0:(D[G]=U,1)}function qb(D){D=D.items[0].orient;return"left"===D||"right"===D}function Kb(D,G,U,Aa){G=G.items[0];
var X=G.datum,u=null!=G.translate?G.translate:.5,K=G.orient,ua=+X.grid;var Ja=[X.ticks?ua++:-1,X.labels?ua++:-1,ua+ +X.domain];ua=G.range;var Wa=G.offset,ab=G.position,W=G.minExtent,Ca=G.maxExtent;X=X.title&&G.items[Ja[2]].items[0];var Za=G.titlePadding,Ib=G.bounds,xc=X&&qa.multiLineOffset(X),uc;C.clear().union(Ib);Ib.clear();-1<(uc=Ja[0])&&Ib.union(G.items[uc].bounds);-1<(uc=Ja[1])&&Ib.union(G.items[uc].bounds);switch(K){case "top":U=ab||0;Aa=-Wa;W=Math.max(W,Math.min(Ca,-Ib.y1));Ib.add(0,-W).add(ua,
0);X&&Ob(D,X,W,Za,xc,0,-1,Ib);break;case "left":U=-Wa;Aa=ab||0;W=Math.max(W,Math.min(Ca,-Ib.x1));Ib.add(-W,0).add(0,ua);X&&Ob(D,X,W,Za,xc,1,-1,Ib);break;case "right":U+=Wa;Aa=ab||0;W=Math.max(W,Math.min(Ca,Ib.x2));Ib.add(0,0).add(W,ua);X&&Ob(D,X,W,Za,xc,1,1,Ib);break;case "bottom":U=ab||0;Aa+=Wa;W=Math.max(W,Math.min(Ca,Ib.y2));Ib.add(0,0).add(ua,W);X&&Ob(D,X,W,Za,0,0,1,Ib);break;default:U=G.x,Aa=G.y}qa.boundStroke(Ib.translate(U,Aa),G);Va(G,"x",U+u)|Va(G,"y",Aa+u)&&(G.bounds=C,D.dirty(G),G.bounds=
Ib,D.dirty(G));return G.mark.bounds.clear().union(Ib)}function Ob(D,G,U,Aa,X,u,K,ua){const Ja=G.bounds;G.auto&&(U=K*(U+X+Aa),X=Aa=0,D.dirty(G),u?Aa=(G.x||0)-(G.x=U):X=(G.y||0)-(G.y=U),G.mark.bounds.clear().union(Ja.translate(-Aa,-X)),D.dirty(G));ua.union(Ja)}function Bb(D){return(new qa.Bounds).set(0,0,D.width||0,D.height||0)}function Pb(D){const G=D.bounds.clone();return G.empty()?G.set(0,0,0,0):G.translate(-(D.x||0),-(D.y||0))}function Ua(D,G,U){D=hb.isObject(D)?D[G]:D;return null!=D?D:void 0!==
U?U:0}function pb(D){return 0>D?Math.ceil(-D):0}function Oa(D,G,U){var Aa=!U.nodirty,X="flush"===U.bounds?Bb:Pb,u=C.set(0,0,0,0),K=Ua(U.align,"column"),ua=Ua(U.align,"row"),Ja=Ua(U.padding,"column"),Wa=Ua(U.padding,"row"),ab=U.columns||G.length,W=0>=ab?1:Math.ceil(G.length/ab),Ca=G.length,Za=Array(Ca),Ib=Array(ab),xc=0,uc=Array(Ca),wc=Array(W),bd=0,Wb=Array(Ca),Rc=Array(Ca),Pd=Array(Ca),Ka,Ub,rb;for(Ka=0;Ka<ab;++Ka)Ib[Ka]=0;for(Ka=0;Ka<W;++Ka)wc[Ka]=0;for(Ka=0;Ka<Ca;++Ka){var Sb=G[Ka];var fc=Pd[Ka]=
X(Sb);Sb.x=Sb.x||0;Wb[Ka]=0;Sb.y=Sb.y||0;Rc[Ka]=0;Sb=Ka%ab;var bc=~~(Ka/ab);xc=Math.max(xc,Ub=Math.ceil(fc.x2));bd=Math.max(bd,rb=Math.ceil(fc.y2));Ib[Sb]=Math.max(Ib[Sb],Ub);wc[bc]=Math.max(wc[bc],rb);Za[Ka]=Ja+pb(fc.x1);uc[Ka]=Wa+pb(fc.y1);Aa&&D.dirty(G[Ka])}for(Ka=0;Ka<Ca;++Ka)0===Ka%ab&&(Za[Ka]=0),Ka<ab&&(uc[Ka]=0);if("each"===K)for(Sb=1;Sb<ab;++Sb){X=0;for(Ka=Sb;Ka<Ca;Ka+=ab)X<Za[Ka]&&(X=Za[Ka]);for(Ka=Sb;Ka<Ca;Ka+=ab)Za[Ka]=X+Ib[Sb-1]}else if("all"===K){for(Ka=X=0;Ka<Ca;++Ka)Ka%ab&&X<Za[Ka]&&
(X=Za[Ka]);for(Ka=0;Ka<Ca;++Ka)Ka%ab&&(Za[Ka]=X+xc)}else for(K=!1,Sb=1;Sb<ab;++Sb)for(Ka=Sb;Ka<Ca;Ka+=ab)Za[Ka]+=Ib[Sb-1];if("each"===ua)for(bc=1;bc<W;++bc){X=0;Ka=bc*ab;for(Sb=Ka+ab;Ka<Sb;++Ka)X<uc[Ka]&&(X=uc[Ka]);for(Ka=bc*ab;Ka<Sb;++Ka)uc[Ka]=X+wc[bc-1]}else if("all"===ua){X=0;for(Ka=ab;Ka<Ca;++Ka)X<uc[Ka]&&(X=uc[Ka]);for(Ka=ab;Ka<Ca;++Ka)uc[Ka]=X+bd}else for(ua=!1,bc=1;bc<W;++bc)for(Ka=bc*ab,Sb=Ka+ab;Ka<Sb;++Ka)uc[Ka]+=wc[bc-1];for(Ka=bc=0;Ka<Ca;++Ka)bc=Za[Ka]+(Ka%ab?bc:0),Wb[Ka]+=bc-G[Ka].x;
for(Sb=0;Sb<ab;++Sb)for(Za=0,Ka=Sb;Ka<Ca;Ka+=ab)Za+=uc[Ka],Rc[Ka]+=Za-G[Ka].y;if(K&&Ua(U.center,"column")&&1<W)for(Ka=0;Ka<Ca;++Ka)fc="all"===K?xc:Ib[Ka%ab],bc=fc-Pd[Ka].x2-G[Ka].x-Wb[Ka],0<bc&&(Wb[Ka]+=bc/2);if(ua&&Ua(U.center,"row")&&1!==ab)for(Ka=0;Ka<Ca;++Ka)fc="all"===ua?bd:wc[~~(Ka/ab)],Za=fc-Pd[Ka].y2-G[Ka].y-Rc[Ka],0<Za&&(Rc[Ka]+=Za/2);for(Ka=0;Ka<Ca;++Ka)u.union(Pd[Ka].translate(Wb[Ka],Rc[Ka]));bc=Ua(U.anchor,"x");Za=Ua(U.anchor,"y");switch(Ua(U.anchor,"column")){case "end":bc-=u.width();
break;case "middle":bc-=u.width()/2}switch(Ua(U.anchor,"row")){case "end":Za-=u.height();break;case "middle":Za-=u.height()/2}bc=Math.round(bc);Za=Math.round(Za);u.clear();for(Ka=0;Ka<Ca;++Ka)G[Ka].mark.bounds.clear();for(Ka=0;Ka<Ca;++Ka)Sb=G[Ka],Sb.x+=Wb[Ka]+=bc,Sb.y+=Rc[Ka]+=Za,u.union(Sb.mark.bounds.union(Sb.bounds.translate(Wb[Ka],Rc[Ka]))),Aa&&D.dirty(Sb);return u}function Da(D,G){return"x1"===G?D.x||0:"y1"===G?D.y||0:"x2"===G?(D.x||0)+(D.width||0):"y2"===G?(D.y||0)+(D.height||0):void 0}function Pa(D,
G){return D.bounds[G]}function kb(D,G,U,Aa,X,u,K,ua,Ja,Wa,ab,W,Ca,Za){var Ib=U.length,xc=Aa=0,uc,wc;if(!Ib)return Aa;for(uc=ab;uc<Ib;uc+=W)U[uc]&&(Aa=K(Aa,Ja(U[uc],Wa)));if(!G.length)return Aa;G.length>X&&(D.warn("Grid headers exceed limit: "+X),G=G.slice(0,X));Aa+=u;X=0;for(u=G.length;X<u;++X)D.dirty(G[X]),G[X].mark.bounds.clear();uc=ab;X=0;for(u=G.length;X<u;++X,uc+=W){Ja=G[X];ab=Ja.mark.bounds;for(Ib=uc;0<=Ib&&null==(wc=U[Ib]);Ib-=Ca);if(ua){Ib=null==Za?wc.x:Math.round(wc.bounds.x1+Za*wc.bounds.width());
var bd=Aa}else Ib=Aa,bd=null==Za?wc.y:Math.round(wc.bounds.y1+Za*wc.bounds.height());ab.union(Ja.bounds.translate(Ib-(Ja.x||0),bd-(Ja.y||0)));Ja.x=Ib;Ja.y=bd;D.dirty(Ja);xc=K(xc,ab[Wa])}return xc}function lb(D,G,U,Aa,X,u){if(G){D.dirty(G);var K=U;Aa?K=Math.round(X.x1+u*X.width()):U=Math.round(X.y1+u*X.height());G.bounds.translate(K-(G.x||0),U-(G.y||0));G.mark.bounds.clear().union(G.bounds);G.x=K;G.y=U;D.dirty(G)}}function Na(D,G){const U=D[G]||{};return(Aa,X)=>null!=U[Aa]?U[Aa]:null!=D[Aa]?D[Aa]:
X}function xb(D,G){let U=-Infinity;D.forEach(Aa=>{null!=Aa.offset&&(U=Math.max(U,Aa.offset))});return-Infinity<U?U:G}function ob(D,G,U,Aa,X,u,K){const ua=Na(U,G);U=xb(D,ua("offset",0));const Ja=ua("anchor","start"),Wa="end"===Ja?1:"middle"===Ja?.5:0;D={align:"each",bounds:ua("bounds","flush"),columns:"vertical"===ua("direction")?1:D.length,padding:ua("margin",8),center:ua("center"),nodirty:!0};switch(G){case "left":D.anchor={x:Math.floor(Aa.x1)-U,column:"end",y:Wa*(K||Aa.height()+2*Aa.y1),row:Ja};
break;case "right":D.anchor={x:Math.ceil(Aa.x2)+U,y:Wa*(K||Aa.height()+2*Aa.y1),row:Ja};break;case "top":D.anchor={y:Math.floor(X.y1)-U,row:"end",x:Wa*(u||X.width()+2*X.x1),column:Ja};break;case "bottom":D.anchor={y:Math.ceil(X.y2)+U,x:Wa*(u||X.width()+2*X.x1),column:Ja};break;case "top-left":D.anchor={x:U,y:U};break;case "top-right":D.anchor={x:u-U,y:U,column:"end"};break;case "bottom-left":D.anchor={x:U,y:K-U,row:"end"};break;case "bottom-right":D.anchor={x:u-U,y:K-U,column:"end",row:"end"}}return D}
function Nb(D,G){G=G.items[0];var U=G.datum,Aa=G.orient,X=G.bounds,u=G.x,K=G.y;G._bounds?G._bounds.clear().union(X):G._bounds=X.clone();X.clear();var ua=G.items[0].items[0];var Ja=G.padding,Wa=Ja-ua.x,ab=Ja-ua.y;if(G.datum.title){var W=G.items[1].items[0],Ca=W.anchor,Za=G.titlePadding||0,Ib=Ja-W.x,xc=Ja-W.y;switch(W.orient){case "left":Wa+=Math.ceil(W.bounds.width())+Za;break;case "right":case "bottom":break;default:ab+=W.bounds.height()+Za}(Wa||ab)&&la(D,ua,Wa,ab);switch(W.orient){case "left":xc+=
nb(G,ua,W,Ca,1,1);break;case "right":Ib+=nb(G,ua,W,"end",0,0)+Za;xc+=nb(G,ua,W,Ca,1,1);break;case "bottom":Ib+=nb(G,ua,W,Ca,0,0);xc+=nb(G,ua,W,"end",-1,0,1)+Za;break;default:Ib+=nb(G,ua,W,Ca,0,0)}(Ib||xc)&&la(D,W,Ib,xc);0>(Ib=Math.round(W.bounds.x1-Ja))&&(la(D,ua,-Ib,0),la(D,W,-Ib,0))}else(Wa||ab)&&la(D,ua,Wa,ab);X=Zb(G,X);D=2*G.padding;ua=2*G.padding;X.empty()||(D=Math.ceil(X.width()+D),ua=Math.ceil(X.height()+ua));"symbol"===U.type&&Y(G.items[0].items[0].items[0].items);"none"!==Aa&&(G.x=u=0,G.y=
K=0);G.width=D;G.height=ua;qa.boundStroke(X.set(u,K,u+D,K+ua),G);G.mark.bounds.clear().union(X);return G}function Zb(D,G){D.items.forEach(U=>G.union(U.bounds));G.x1=D.padding;G.y1=D.padding;return G}function nb(D,G,U,Aa,X,u,K){const ua=U.datum.vgrad;D=("symbol"===D.datum.type||!u&&ua||K?G:G.items[0]).bounds[X?"y2":"x2"]-D.padding;G=ua&&u?D:0;u=ua&&u?0:D;U=0>=X?0:qa.multiLineOffset(U);return Math.round("start"===Aa?G:"end"===Aa?u-U:.5*(D-U))}function la(D,G,U,Aa){G.x+=U;G.y+=Aa;G.bounds.translate(U,
Aa);G.mark.bounds.translate(U,Aa);D.dirty(G)}function Y(D){const G=D.reduce((U,Aa)=>{U[Aa.column]=Math.max(Aa.bounds.x2-Aa.x,U[Aa.column]||0);return U},{});D.forEach(U=>{U.width=G[U.column];U.height=U.bounds.y2-U.y})}function Ha(D,G,U,Aa,X){var u=G.items[0],K=u.orient,ua=u.anchor,Ja=u.offset,Wa=u.padding,ab=u.items[0].items[0],W=u.items[1]&&u.items[1].items[0],Ca="left"===K||"right"===K?Aa:U,Za=0,Ib=U=0;"group"!==u.frame?"left"===K?(Za=X.y2,Ca=X.y1):"right"===K?(Za=X.y1,Ca=X.y2):(Za=X.x1,Ca=X.x2):
"left"===K&&(Za=Aa,Ca=0);Aa="start"===ua?Za:"end"===ua?Ca:(Za+Ca)/2;if(W&&W.text){switch(K){case "top":case "bottom":Ib=ab.bounds.height()+Wa;break;case "left":U=ab.bounds.width()+Wa;break;case "right":U=-ab.bounds.width()-Wa}C.clear().union(W.bounds);C.translate(U-(W.x||0),Ib-(W.y||0));Va(W,"x",U)|Va(W,"y",Ib)&&(D.dirty(W),W.bounds.clear().union(C),W.mark.bounds.clear().union(C),D.dirty(W));C.clear().union(W.bounds)}else C.clear();C.union(ab.bounds);switch(K){case "top":K=Aa;X=X.y1-C.height()-Ja;
break;case "left":K=X.x1-C.width()-Ja;X=Aa;break;case "right":K=X.x2+C.width()+Ja;X=Aa;break;case "bottom":K=Aa;X=X.y2+Ja;break;default:K=u.x,X=u.y}Va(u,"x",K)|Va(u,"y",X)&&(C.translate(K,X),D.dirty(u),u.bounds.clear().union(C),G.bounds.clear().union(C),D.dirty(u));return u.bounds}function Fa(D){g.Transform.call(this,null,D)}function cb(D){return D&&"legend-entry"!==D.mark.role}function aa(D,G,U){var Aa=G.items,X=Math.max(0,G.width||0),u=Math.max(0,G.height||0),K=(new qa.Bounds).set(0,0,X,u),ua=K.clone(),
Ja=K.clone(),Wa=[],ab,W;var Ca=0;for(W=Aa.length;Ca<W;++Ca){var Za=Aa[Ca];switch(Za.role){case "axis":var Ib=qb(Za)?ua:Ja;Ib.union(Kb(D,Za,X,u));break;case "title":var xc=Za;break;case "legend":Wa.push(Nb(D,Za));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":ua.union(Za.bounds);Ja.union(Za.bounds);break;default:K.union(Za.bounds)}}if(Wa.length){const uc={};Wa.forEach(wc=>{ab=wc.orient||"right";"none"!==
ab&&(uc[ab]||(uc[ab]=[])).push(wc)});for(const wc in uc)Aa=uc[wc],Oa(D,Aa,ob(Aa,wc,U.legends,ua,Ja,X,u));Wa.forEach(wc=>{const bd=wc.bounds;bd.equals(wc._bounds)||(wc.bounds=wc._bounds,D.dirty(wc),wc.bounds=bd,D.dirty(wc));if(!U.autosize||"fit"!==U.autosize.type&&"fit-x"!==U.autosize.type&&"fit-y"!==U.autosize.type)K.union(bd);else switch(wc.orient){case "left":case "right":K.add(bd.x1,0).add(bd.x2,0);break;case "top":case "bottom":K.add(0,bd.y1).add(0,bd.y2)}})}K.union(ua).union(Ja);xc&&K.union(Ha(D,
xc,X,u,K));G.clip&&K.set(0,0,G.width||0,G.height||0);ma(D,G,K,U)}function ma(D,G,U,Aa){Aa=Aa.autosize||{};const X=Aa.type;if(!(1>D._autosize)&&X){var u=D._width,K=D._height,ua=Math.max(0,G.width||0),Ja=Math.max(0,Math.ceil(-U.x1));G=Math.max(0,G.height||0);var Wa=Math.max(0,Math.ceil(-U.y1)),ab=Math.max(0,Math.ceil(U.x2-ua));U=Math.max(0,Math.ceil(U.y2-G));if("padding"===Aa.contains){const W=D.padding();u-=W.left+W.right;K-=W.top+W.bottom}"none"===X?(Wa=Ja=0,ua=u,G=K):"fit"===X?(ua=Math.max(0,u-Ja-
ab),G=Math.max(0,K-Wa-U)):"fit-x"===X?(ua=Math.max(0,u-Ja-ab),K=G+Wa+U):"fit-y"===X?(u=ua+Ja+ab,G=Math.max(0,K-Wa-U)):"pad"===X&&(u=ua+Ja+ab,K=G+Wa+U);D._resizeView(u,K,ua,G,[Ja,Wa],Aa.resize)}}hb.inherits(Gb,g.Transform,{transform(D,G){const U=G.dataflow,Aa=D.mark,X=Aa.marktype,u=qa.Marks[X],K=u.bound;let ua=Aa.bounds,Ja;if(u.nested)Aa.items.length&&U.dirty(Aa.items[0]),ua=$b(Aa,K),Aa.items.forEach(Wa=>{Wa.bounds.clear().union(ua)});else if("group"===X||D.modified())switch(G.visit(G.MOD,Wa=>U.dirty(Wa)),
ua.clear(),Aa.items.forEach(Wa=>ua.union($b(Wa,K))),Aa.role){case "axis":case "legend":case "title":G.reflow()}else Ja=G.changed(G.REM),G.visit(G.ADD,Wa=>{ua.union($b(Wa,K))}),G.visit(G.MOD,Wa=>{Ja=Ja||ua.alignsWith(Wa.bounds);U.dirty(Wa);ua.union($b(Wa,K))}),Ja&&(ua.clear(),Aa.items.forEach(Wa=>ua.union(Wa.bounds)));qa.boundClip(Aa);return G.modifies("bounds")}});oc.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};hb.inherits(oc,g.Transform,{transform(D,
G){const U=kc(G.dataflow),Aa=D.as;let X=U.value;G.visit(G.ADD,u=>u[Aa]=u[Aa]||++X);U.set(this.value=X);return G}});hb.inherits(yc,g.Transform,{transform(D,G){let U=this.value;U||(U=G.dataflow.scenegraph().mark(D.markdef,Ab(D),D.index),U.group.context=D.context,D.context.group||(D.context.group=U.group),U.source=this.source,U.clip=D.clip,U.interactive=D.interactive,this.value=U);const Aa="group"===U.marktype?qa.GroupItem:qa.Item;G.visit(G.ADD,X=>Aa.call(X,U));if(D.modified("clip")||D.modified("interactive"))U.clip=
D.clip,U.interactive=!!D.interactive,U.zdirty=!0,G.reflow();U.items=G.source;return G}});const p={parity:D=>D.filter((G,U)=>U%2?G.opacity=0:1),greedy:(D,G)=>{let U;return D.filter((Aa,X)=>X&&L(U.bounds,Aa.bounds,G)?Aa.opacity=0:(U=Aa,1))}},L=(D,G,U)=>U>Math.max(G.x1-D.x2,D.x1-G.x2,G.y1-D.y2,D.y1-G.y2),P=(D,G)=>{for(var U=1,Aa=D.length,X=D[0].bounds;U<Aa;++U)if(L(X,X=D[U].bounds,G))return!0},f=D=>{D=D.bounds;return 1<D.width()&&1<D.height()},v=(D,G,U)=>{D=D.range();var Aa=new qa.Bounds;"top"===G||
"bottom"===G?Aa.set(D[0],-Infinity,D[1],Infinity):Aa.set(-Infinity,D[0],Infinity,D[1]);Aa.expand(U||1);return X=>Aa.encloses(X.bounds)},l=D=>{D.forEach(G=>G.opacity=1);return D};hb.inherits(gc,g.Transform,{transform(D,G){const U=p[D.method]||p.parity,Aa=D.separation||0;let X=G.materialize(G.SOURCE).source,u,K;if(X&&X.length){if(!D.method)return D.modified("method")&&(l(X),G=G.reflow(D.modified()).modifies("opacity")),G;X=X.filter(f);if(X.length){D.sort&&(X=X.slice().sort(D.sort));u=l(X);G=G.reflow(D.modified()).modifies("opacity");
if(3<=u.length&&P(u,Aa)){do u=U(u,Aa);while(3<=u.length&&P(u,Aa));3>u.length&&!hb.peek(X).opacity&&(1<u.length&&(hb.peek(u).opacity=0),hb.peek(X).opacity=1)}D.boundScale&&0<=D.boundTolerance&&(K=v(D.boundScale,D.boundOrient,+D.boundTolerance),X.forEach(Ja=>{K(Ja)||(Ja.opacity=0)}));var ua=u[0].mark.bounds.clear();X.forEach(Ja=>{Ja.opacity&&ua.union(Ja.bounds)});return G}}}});hb.inherits(rc,g.Transform,{transform(D,G){const U=G.dataflow;G.visit(G.ALL,Aa=>U.dirty(Aa));G.fields&&G.fields.zindex&&(D=
G.source&&G.source[0])&&(D.mark.zdirty=!0)}});const C=new qa.Bounds,B=(D,G)=>Math.floor(Math.min(D,G)),z=(D,G)=>Math.ceil(Math.max(D,G));hb.inherits(Fa,g.Transform,{transform(D,G){const U=G.dataflow;D.mark.items.forEach(Aa=>{if(D.layout){var X=D.layout;var u=Aa.items;for(var K=u.length,ua=0,Ja,Wa,ab={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};ua<K;++ua)if(Ja=u[ua],Wa=Ja.items,"group"===Ja.marktype)switch(Ja.role){case "axis":case "legend":case "title":break;
case "row-header":ab.rowheaders.push(...Wa);break;case "row-footer":ab.rowfooters.push(...Wa);break;case "column-header":ab.colheaders.push(...Wa);break;case "column-footer":ab.colfooters.push(...Wa);break;case "row-title":ab.rowtitle=Wa[0];break;case "column-title":ab.coltitle=Wa[0];break;default:ab.marks.push(...Wa)}u=ab;Wa=u.marks;ab="flush"===X.bounds?Da:Pa;K=X.offset;var W=X.columns||Wa.length,Ca=0>=W?1:Math.ceil(Wa.length/W),Za=Ca*W;ua=Oa(U,Wa,X);ua.empty()&&ua.set(0,0,0,0);if(u.rowheaders){Ja=
Ua(X.headerBand,"row",null);var Ib=kb(U,u.rowheaders,Wa,W,Ca,-Ua(K,"rowHeader"),B,0,ab,"x1",0,W,1,Ja)}if(u.colheaders){Ja=Ua(X.headerBand,"column",null);var xc=kb(U,u.colheaders,Wa,W,W,-Ua(K,"columnHeader"),B,1,ab,"y1",0,1,W,Ja)}if(u.rowfooters){Ja=Ua(X.footerBand,"row",null);var uc=kb(U,u.rowfooters,Wa,W,Ca,Ua(K,"rowFooter"),z,0,ab,"x2",W-1,W,1,Ja)}if(u.colfooters){Ja=Ua(X.footerBand,"column",null);var wc=kb(U,u.colfooters,Wa,W,W,Ua(K,"columnFooter"),z,1,ab,"y2",Za-W,1,W,Ja)}u.rowtitle&&(Ja=Ua(X.titleAnchor,
"row"),Wa=Ua(K,"rowTitle"),Wa="end"===Ja?uc+Wa:Ib-Wa,Ja=Ua(X.titleBand,"row",.5),lb(U,u.rowtitle,Wa,0,ua,Ja));u.coltitle&&(Ja=Ua(X.titleAnchor,"column"),Wa=Ua(K,"columnTitle"),Wa="end"===Ja?wc+Wa:xc-Wa,Ja=Ua(X.titleBand,"column",.5),lb(U,u.coltitle,Wa,1,ua,Ja))}aa(U,Aa,D)});return cb(D.mark.group)?G.reflow():G}});r.bound=Gb;r.identifier=oc;r.mark=yc;r.overlap=gc;r.render=rc;r.viewlayout=Fa})};
shadow$provide[36]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(29),Db(33),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb){function Gb(ra){g.Transform.call(this,null,ra)}function $b(ra){g.Transform.call(this,null,ra)}function oc(){return g.ingest({})}function kc(ra){const F=hb.fastmap().test(ya=>
ya.exit);F.lookup=ya=>F.get(ra(ya));return F}function yc(ra){g.Transform.call(this,null,ra)}function Ab(ra){g.Transform.call(this,[],ra)}function gc(ra){g.Transform.call(this,{},ra)}function rc(ra,F,ya){ra=+ra;F=+F;ya=2>($a=arguments.length)?(F=ra,ra=0,1):3>$a?1:+ya;for(var La=-1,$a=Math.max(0,Math.ceil((F-ra)/ya))|0,jb=Array($a);++La<$a;)jb[La]=ra+La*ya;return jb}function Va(ra,F){let ya=0;if(void 0===F)for(var La of ra){if(La=+La)ya+=La}else{La=-1;for(let $a of ra)if($a=+F($a,++La,ra))ya+=$a}return ya}
function qb(ra){g.Transform.call(this,null,ra)}function Kb(ra,F,ya){ra.prototype=F.prototype=ya;ya.constructor=ra}function Ob(ra,F){ra=Object.create(ra.prototype);for(var ya in F)ra[ya]=F[ya];return ra}function Bb(){}function Pb(){return this.rgb().formatHex()}function Ua(){return this.rgb().formatRgb()}function pb(ra){var F,ya;ra=(ra+"").trim().toLowerCase();return(F=Ka.exec(ra))?(ya=F[1].length,F=parseInt(F[1],16),6===ya?Oa(F):3===ya?new kb(F>>8&15|F>>4&240,F>>4&15|F&240,(F&15)<<4|F&15,1):8===ya?
Da(F>>24&255,F>>16&255,F>>8&255,(F&255)/255):4===ya?Da(F>>12&15|F>>8&240,F>>8&15|F>>4&240,F>>4&15|F&240,((F&15)<<4|F&15)/255):null):(F=Ub.exec(ra))?new kb(F[1],F[2],F[3],1):(F=rb.exec(ra))?new kb(255*F[1]/100,255*F[2]/100,255*F[3]/100,1):(F=Sb.exec(ra))?Da(F[1],F[2],F[3],F[4]):(F=fc.exec(ra))?Da(255*F[1]/100,255*F[2]/100,255*F[3]/100,F[4]):(F=bc.exec(ra))?Zb(F[1],F[2]/100,F[3]/100,1):(F=Hc.exec(ra))?Zb(F[1],F[2]/100,F[3]/100,F[4]):zc.hasOwnProperty(ra)?Oa(zc[ra]):"transparent"===ra?new kb(NaN,NaN,
NaN,0):null}function Oa(ra){return new kb(ra>>16&255,ra>>8&255,ra&255,1)}function Da(ra,F,ya,La){0>=La&&(ra=F=ya=NaN);return new kb(ra,F,ya,La)}function Pa(ra,F,ya,La){if(1===arguments.length){var $a=ra;$a instanceof Bb||($a=pb($a));$a?($a=$a.rgb(),$a=new kb($a.r,$a.g,$a.b,$a.opacity)):$a=new kb}else $a=new kb(ra,F,ya,null==La?1:La);return $a}function kb(ra,F,ya,La){this.r=+ra;this.g=+F;this.b=+ya;this.opacity=+La}function lb(){return`#${Nb(this.r)}${Nb(this.g)}${Nb(this.b)}`}function Na(){const ra=
xb(this.opacity);return`${1===ra?"rgb(":"rgba("}${ob(this.r)}, ${ob(this.g)}, ${ob(this.b)}${1===ra?")":`, ${ra})`}`}function xb(ra){return isNaN(ra)?1:Math.max(0,Math.min(1,ra))}function ob(ra){return Math.max(0,Math.min(255,Math.round(ra)||0))}function Nb(ra){ra=ob(ra);return(16>ra?"0":"")+ra.toString(16)}function Zb(ra,F,ya,La){0>=La?ra=F=ya=NaN:0>=ya||1<=ya?ra=F=NaN:0>=F&&(ra=NaN);return new la(ra,F,ya,La)}function nb(ra){if(ra instanceof la)return new la(ra.h,ra.s,ra.l,ra.opacity);ra instanceof
Bb||(ra=pb(ra));if(!ra)return new la;if(ra instanceof la)return ra;ra=ra.rgb();var F=ra.r/255,ya=ra.g/255,La=ra.b/255,$a=Math.min(F,ya,La),jb=Math.max(F,ya,La),Fb=NaN,nc=jb-$a,dc=(jb+$a)/2;nc?(Fb=F===jb?(ya-La)/nc+6*(ya<La):ya===jb?(La-F)/nc+2:(F-ya)/nc+4,nc/=.5>dc?jb+$a:2-jb-$a,Fb*=60):nc=0<dc&&1>dc?0:Fb;return new la(Fb,nc,dc,ra.opacity)}function la(ra,F,ya,La){this.h=+ra;this.s=+F;this.l=+ya;this.opacity=+La}function Y(ra){ra=(ra||0)%360;return 0>ra?ra+360:ra}function Ha(ra){return Math.max(0,
Math.min(1,ra||0))}function Fa(ra,F,ya){return 255*(60>ra?F+(ya-F)*ra/60:180>ra?ya:240>ra?F+(ya-F)*(240-ra)/60:F)}function cb(ra,F){return function(ya){return ra+ya*F}}function aa(ra,F,ya){return ra=Math.pow(ra,ya),F=Math.pow(F,ya)-ra,ya=1/ya,function(La){return Math.pow(ra+La*F,ya)}}function ma(ra){return 1===(ra=+ra)?p:function(F,ya){return ya-F?aa(F,ya,ra):Yc(isNaN(F)?ya:F)}}function p(ra,F){var ya=F-ra;return ya?cb(ra,ya):Yc(isNaN(ra)?F:ra)}function L(ra,F){F||(F=[]);var ya=ra?Math.min(F.length,
ra.length):0,La=F.slice(),$a;return function(jb){for($a=0;$a<ya;++$a)La[$a]=ra[$a]*(1-jb)+F[$a]*jb;return La}}function P(ra,F){var ya=F?F.length:0,La=ra?Math.min(ya,ra.length):0,$a=Array(La),jb=Array(ya),Fb;for(Fb=0;Fb<La;++Fb)$a[Fb]=D(ra[Fb],F[Fb]);for(;Fb<ya;++Fb)jb[Fb]=F[Fb];return function(nc){for(Fb=0;Fb<La;++Fb)jb[Fb]=$a[Fb](nc);return jb}}function f(ra,F){var ya=new Date;return ra=+ra,F=+F,function(La){return ya.setTime(ra*(1-La)+F*La),ya}}function v(ra,F){return ra=+ra,F=+F,function(ya){return ra*
(1-ya)+F*ya}}function l(ra,F){var ya={},La={},$a;if(null===ra||"object"!==typeof ra)ra={};if(null===F||"object"!==typeof F)F={};for($a in F)$a in ra?ya[$a]=D(ra[$a],F[$a]):La[$a]=F[$a];return function(jb){for($a in ya)La[$a]=ya[$a](jb);return La}}function C(ra){return function(){return ra}}function B(ra){return function(F){return ra(F)+""}}function z(ra,F){var ya=td.lastIndex=Ga.lastIndex=0,La,$a,jb,Fb=-1,nc=[],dc=[];ra+="";for(F+="";(La=td.exec(ra))&&($a=Ga.exec(F));)(jb=$a.index)>ya&&(jb=F.slice(ya,
jb),nc[Fb]?nc[Fb]+=jb:nc[++Fb]=jb),(La=La[0])===($a=$a[0])?nc[Fb]?nc[Fb]+=$a:nc[++Fb]=$a:(nc[++Fb]=null,dc.push({i:Fb,x:v(La,$a)})),ya=Ga.lastIndex;ya<F.length&&(jb=F.slice(ya),nc[Fb]?nc[Fb]+=jb:nc[++Fb]=jb);return 2>nc.length?dc[0]?B(dc[0].x):C(F):(F=dc.length,function(ic){for(var Uc=0,cd;Uc<F;++Uc)nc[(cd=dc[Uc]).i]=cd.x(ic);return nc.join("")})}function D(ra,F){var ya=typeof F;if(null==F||"boolean"===ya)ra=Yc(F);else{if("number"===ya)var La=v;else"string"===ya?ya=(La=pb(F))?(F=La,Md):z:(F instanceof
pb?La=Md:F instanceof Date?La=f:(La=F,La=!ArrayBuffer.isView(La)||La instanceof DataView?Array.isArray(F)?P:"function"!==typeof F.valueOf&&"function"!==typeof F.toString||isNaN(F)?l:v:L),ya=La),La=ya;ra=La(ra,F)}return ra}function G(ra,F){return ra=+ra,F=+F,function(ya){return Math.round(ra*(1-ya)+F*ya)}}function U(ra){return qa.isContinuous(ra)&&ra!==qa.Sequential}function Aa(ra){g.Transform.call(this,null,ra);this.modified(!0)}function X(ra,F,ya){qa.isLogarithmic(ra)&&Math.abs(F.reduce((La,$a)=>
La+(0>$a?-1:0<$a?1:0),0))!==F.length&&ya.warn("Log scale domain includes zero: "+hb.stringValue(F));return F}function u(ra,F,ya){return hb.isFunction(ra)&&(F||ya)?qa.interpolateRange(ra,K(F||[0,1],ya)):ra}function K(ra,F){return F?ra.slice().reverse():ra}function ua(ra){g.Transform.call(this,null,ra)}function Ja(ra){g.Transform.call(this,null,ra)}function Wa(ra,F,ya,La,$a){F=(F-ra.sum)/2;for(var jb=ra.length,Fb=0,nc;Fb<jb;++Fb)nc=ra[Fb],nc[La]=F,nc[$a]=F+=Math.abs(ya(nc))}function ab(ra,F,ya,La,$a){F=
1/ra.sum;for(var jb=0,Fb=ra.length,nc=0,dc=0,ic;nc<Fb;++nc)ic=ra[nc],ic[La]=jb,ic[$a]=jb=F*(dc+=Math.abs(ya(ic)))}function W(ra,F,ya,La,$a){for(var jb=F=0,Fb=ra.length,nc=0,dc,ic;nc<Fb;++nc)ic=ra[nc],dc=+ya(ic),0>dc?(ic[La]=jb,ic[$a]=jb+=dc):(ic[La]=F,ic[$a]=F+=dc)}function Ca(ra,F,ya,La){var $a=[],jb=dd=>dd(ic),Fb;if(null==F)$a.push(ra.slice());else{var nc={};var dc=0;for(Fb=ra.length;dc<Fb;++dc){var ic=ra[dc];var Uc=F.map(jb);var cd=nc[Uc];cd||(nc[Uc]=cd=[],$a.push(cd));cd.push(ic)}}jb=Uc=0;for(ra=
$a.length;Uc<ra;++Uc){cd=$a[Uc];F=dc=0;for(Fb=cd.length;dc<Fb;++dc)F+=Math.abs(La(cd[dc]));cd.sum=F;F>jb&&(jb=F);ya&&cd.sort(ya)}$a.max=jb;return $a}hb.inherits(Gb,g.Transform,{transform(ra,F){if(this.value&&!ra.modified())return F.StopPropagation;var ya=F.dataflow.locale();F=F.fork(F.NO_SOURCE|F.NO_FIELDS);var La=this.value,$a=ra.scale,jb=qa.tickCount($a,null==ra.count?ra.values?ra.values.length:10:ra.count,ra.minstep),Fb=ra.format||qa.tickFormat(ya,$a,jb,ra.formatSpecifier,ra.formatType,!!ra.values),
nc=ra.values?qa.validTicks($a,ra.values,jb):qa.tickValues($a,jb);La&&(F.rem=La);La=nc.map((dc,ic)=>g.ingest({index:ic/(nc.length-1||1),value:dc,label:Fb(dc)}));ra.extra&&La.length&&La.push(g.ingest({index:-1,extra:{value:La[0].value},label:""}));F.source=La;this.value=F.add=La;return F}});hb.inherits($b,g.Transform,{transform(ra,F){var ya=F.dataflow,La=F.fork(F.NO_SOURCE|F.NO_FIELDS),$a=ra.item||oc,jb=ra.key||g.tupleid,Fb=this.value;hb.isArray(La.encode)&&(La.encode=null);Fb&&(ra.modified("key")||
F.modified(jb))&&hb.error("DataJoin does not support modified key function or fields.");Fb||(F=F.addAll(),this.value=Fb=kc(jb));F.visit(F.ADD,nc=>{const dc=jb(nc);let ic=Fb.get(dc);ic?ic.exit?(Fb.empty--,La.add.push(ic)):La.mod.push(ic):(ic=$a(nc),Fb.set(dc,ic),La.add.push(ic));ic.datum=nc;ic.exit=!1});F.visit(F.MOD,nc=>{var dc=jb(nc);if(dc=Fb.get(dc))dc.datum=nc,La.mod.push(dc)});F.visit(F.REM,nc=>{var dc=jb(nc);dc=Fb.get(dc);nc!==dc.datum||dc.exit||(La.rem.push(dc),dc.exit=!0,++Fb.empty)});F.changed(F.ADD_MOD)&&
La.modifies("datum");(F.clean()||ra.clean&&Fb.empty>ya.cleanThreshold)&&ya.runAfter(Fb.clean);return La}});hb.inherits(yc,g.Transform,{transform(ra,F){var ya=F.fork(F.ADD_REM),La=ra.mod||!1,$a=ra.encoders,jb=F.encode;if(hb.isArray(jb))if(ya.changed()||jb.every(cd=>$a[cd]))jb=jb[0],ya.encode=null;else return F.StopPropagation;var Fb="enter"===jb,nc=$a.update||hb.falsy,dc=$a.enter||hb.falsy,ic=$a.exit||hb.falsy,Uc=(jb&&!Fb?$a[jb]:nc)||hb.falsy;F.changed(F.ADD)&&(F.visit(F.ADD,cd=>{dc(cd,ra);nc(cd,ra)}),
ya.modifies(dc.output),ya.modifies(nc.output),Uc!==hb.falsy&&Uc!==nc&&(F.visit(F.ADD,cd=>{Uc(cd,ra)}),ya.modifies(Uc.output)));F.changed(F.REM)&&ic!==hb.falsy&&(F.visit(F.REM,cd=>{ic(cd,ra)}),ya.modifies(ic.output));if(Fb||Uc!==hb.falsy)jb=F.MOD|(ra.modified()?F.REFLOW:0),Fb?(F.visit(jb,cd=>{const dd=dc(cd,ra)||La;(Uc(cd,ra)||dd)&&ya.mod.push(cd)}),ya.mod.length&&ya.modifies(dc.output)):F.visit(jb,cd=>{(Uc(cd,ra)||La)&&ya.mod.push(cd)}),ya.mod.length&&ya.modifies(Uc.output);return ya.changed()?ya:
F.StopPropagation}});hb.inherits(Ab,g.Transform,{transform(ra,F){if(null!=this.value&&!ra.modified())return F.StopPropagation;var ya=F.dataflow.locale(),La=F.fork(F.NO_SOURCE|F.NO_FIELDS),$a=this.value,jb=ra.type||qa.SymbolLegend,Fb=ra.scale,nc=+ra.limit,dc=qa.tickCount(Fb,null==ra.count?5:ra.count,ra.minstep),ic=!!ra.values||jb===qa.SymbolLegend,Uc=ra.format||qa.labelFormat(ya,Fb,dc,jb,ra.formatSpecifier,ra.formatType,ic),cd=ra.values||qa.labelValues(Fb,dc),dd;$a&&(La.rem=$a);if(jb===qa.SymbolLegend){if(nc&&
cd.length>nc){F.dataflow.warn("Symbol legend count exceeds limit, filtering items.");$a=cd.slice(0,nc-1);var Qd=!0}else $a=cd;if(hb.isFunction(dd=ra.size)){ra.values||0!==Fb($a[0])||($a=$a.slice(1));var Td=$a.reduce((Zd,de)=>Math.max(Zd,dd(de,ra)),0)}else dd=hb.constant(Td=dd||8);$a=$a.map((Zd,de)=>g.ingest({index:de,label:Uc(Zd,de,$a),value:Zd,offset:Td,size:dd(Zd,ra)}));Qd&&(Qd=cd[$a.length],$a.push(g.ingest({index:$a.length,label:`\u2026${cd.length-$a.length} entries`,value:Qd,offset:Td,size:dd(Qd,
ra)})))}else if(jb===qa.GradientLegend){F=Fb.domain();var Ed=qa.scaleFraction(Fb,F[0],hb.peek(F));3>cd.length&&!ra.values&&F[0]!==hb.peek(F)&&(cd=[F[0],hb.peek(F)]);$a=cd.map((Zd,de)=>g.ingest({index:de,label:Uc(Zd,de,cd),value:Zd,perc:Ed(Zd)}))}else dd=cd.length-1,Ed=qa.labelFraction(Fb),$a=cd.map((Zd,de)=>g.ingest({index:de,label:Uc(Zd,de,cd),value:Zd,perc:de?Ed(Zd):0,perc2:de===dd?1:Ed(cd[de+1])}));La.source=$a;this.value=La.add=$a;return La}});const Za=ra=>ra.source.x,Ib=ra=>ra.source.y,xc=ra=>
ra.target.x,uc=ra=>ra.target.y;gc.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",
type:"signal"},{name:"as",type:"string","default":"path"}]};hb.inherits(gc,g.Transform,{transform(ra,F){var ya=ra.sourceX||Za,La=ra.sourceY||Ib,$a=ra.targetX||xc,jb=ra.targetY||uc,Fb=ra.as||"path",nc=ra.shape||"line",dc=Rc.get(nc+"-"+(ra.orient||"vertical"))||Rc.get(nc);dc||hb.error("LinkPath unsupported type: "+ra.shape+(ra.orient?"-"+ra.orient:""));F.visit(F.SOURCE,ic=>{ic[Fb]=dc(ya(ic),La(ic),$a(ic),jb(ic))});return F.reflow(ra.modified()).modifies(Fb)}});const wc=(ra,F,ya,La)=>"M"+ra+","+F+"L"+
ya+","+La,bd=(ra,F,ya,La)=>{var $a=ya-ra,jb=La-F,Fb=Math.hypot($a,jb)/2;return"M"+ra+","+F+"A"+Fb+","+Fb+" "+180*Math.atan2(jb,$a)/Math.PI+" 0 1 "+ya+","+La},Wb=(ra,F,ya,La)=>{var $a=ya-ra;const jb=La-F,Fb=.2*($a+jb);$a=.2*(jb-$a);return"M"+ra+","+F+"C"+(ra+Fb)+","+(F+$a)+" "+(ya+$a)+","+(La-Fb)+" "+ya+","+La},Rc=hb.fastmap({line:wc,"line-radial":(ra,F,ya,La)=>wc(F*Math.cos(ra),F*Math.sin(ra),La*Math.cos(ya),La*Math.sin(ya)),arc:bd,"arc-radial":(ra,F,ya,La)=>bd(F*Math.cos(ra),F*Math.sin(ra),La*Math.cos(ya),
La*Math.sin(ya)),curve:Wb,"curve-radial":(ra,F,ya,La)=>Wb(F*Math.cos(ra),F*Math.sin(ra),La*Math.cos(ya),La*Math.sin(ya)),"orthogonal-horizontal":(ra,F,ya,La)=>"M"+ra+","+F+"V"+La+"H"+ya,"orthogonal-vertical":(ra,F,ya,La)=>"M"+ra+","+F+"H"+ya+"V"+La,"orthogonal-radial":(ra,F,ya,La)=>{const $a=Math.cos(ya),jb=Math.sin(ya);return"M"+F*Math.cos(ra)+","+F*Math.sin(ra)+"A"+F+","+F+" 0 0,"+((Math.abs(ya-ra)>Math.PI?ya<=ra:ya>ra)?1:0)+" "+F*$a+","+F*jb+"L"+La*$a+","+La*jb},"diagonal-horizontal":(ra,F,ya,
La)=>{const $a=(ra+ya)/2;return"M"+ra+","+F+"C"+$a+","+F+" "+$a+","+La+" "+ya+","+La},"diagonal-vertical":(ra,F,ya,La)=>{const $a=(F+La)/2;return"M"+ra+","+F+"C"+ra+","+$a+" "+ya+","+$a+" "+ya+","+La},"diagonal-radial":(ra,F,ya,La)=>{const $a=Math.cos(ra);ra=Math.sin(ra);const jb=Math.cos(ya);ya=Math.sin(ya);const Fb=(F+La)/2;return"M"+F*$a+","+F*ra+"C"+Fb*$a+","+Fb*ra+" "+Fb*jb+","+Fb*ya+" "+La*jb+","+La*ya}});qb.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",
type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};hb.inherits(qb,g.Transform,{transform(ra,F){var ya=ra.as||["startAngle","endAngle"],La=ya[0],$a=ya[1],jb=ra.startAngle||0,Fb=null!=ra.endAngle?ra.endAngle:2*Math.PI,nc=F.source,dc=nc.map(ra.field||hb.one),ic=dc.length,Uc=jb;jb=(Fb-jb)/Va(dc);Fb=rc(ic);var cd;ra.sort&&Fb.sort((Td,Ed)=>dc[Td]-
dc[Ed]);for(cd=0;cd<ic;++cd){var dd=dc[Fb[cd]];var Qd=nc[Fb[cd]];Qd[La]=Uc;Qd[$a]=Uc+=dd*jb}this.value=dc;return F.reflow(ra.modified()).modifies(ya)}});var Pd=1/.7,Ka=/^#([0-9a-f]{3,8})$/,Ub=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),rb=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Sb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
fc=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),bc=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Hc=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
zc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kb(Bb,pb,{copy(ra){return Object.assign(new this.constructor,this,ra)},displayable(){return this.rgb().displayable()},hex:Pb,formatHex:Pb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return nb(this).formatHsl()},formatRgb:Ua,toString:Ua});Kb(kb,Pa,Ob(Bb,{brighter(ra){ra=null==ra?Pd:Math.pow(Pd,ra);return new kb(this.r*ra,this.g*ra,this.b*ra,this.opacity)},
darker(ra){ra=null==ra?.7:Math.pow(.7,ra);return new kb(this.r*ra,this.g*ra,this.b*ra,this.opacity)},rgb(){return this},clamp(){return new kb(ob(this.r),ob(this.g),ob(this.b),xb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:lb,formatHex:lb,formatHex8:function(){return`#${Nb(this.r)}${Nb(this.g)}${Nb(this.b)}${Nb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Na,toString:Na}));Kb(la,
function(ra,F,ya,La){return 1===arguments.length?nb(ra):new la(ra,F,ya,null==La?1:La)},Ob(Bb,{brighter(ra){ra=null==ra?Pd:Math.pow(Pd,ra);return new la(this.h,this.s,this.l*ra,this.opacity)},darker(ra){ra=null==ra?.7:Math.pow(.7,ra);return new la(this.h,this.s,this.l*ra,this.opacity)},rgb(){var ra=this.h%360+360*(0>this.h),F=isNaN(ra)||isNaN(this.s)?0:this.s,ya=this.l;F=ya+(.5>ya?ya:1-ya)*F;ya=2*ya-F;return new kb(Fa(240<=ra?ra-240:ra+120,ya,F),Fa(ra,ya,F),Fa(120>ra?ra+240:ra-120,ya,F),this.opacity)},
clamp(){return new la(Y(this.h),Ha(this.s),Ha(this.l),xb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const ra=xb(this.opacity);return`${1===ra?"hsl(":"hsla("}${Y(this.h)}, ${100*Ha(this.s)}%, ${100*Ha(this.l)}%${1===ra?")":`, ${ra})`}`}}));var Yc=ra=>()=>ra,Md=function ya(F){function La(jb,Fb){var nc=$a((jb=Pa(jb)).r,(Fb=Pa(Fb)).r),dc=$a(jb.g,Fb.g),ic=$a(jb.b,Fb.b),Uc=p(jb.opacity,Fb.opacity);return function(cd){jb.r=
nc(cd);jb.g=dc(cd);jb.b=ic(cd);jb.opacity=Uc(cd);return jb+""}}var $a=ma(F);La.gamma=ya;return La}(1),td=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ga=new RegExp(td.source,"g");const gb=hb.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));hb.inherits(Aa,g.Transform,{transform(F,ya){var La=ya.dataflow,$a=this.value;var jb=F.type;var Fb=
"";if(jb===qa.Sequential)jb=qa.Sequential+"-"+qa.Linear;else{var nc=F.type;qa.isContinuous(nc)&&nc!==qa.Time&&nc!==qa.UTC&&(F.scheme||F.range&&F.range.length&&F.range.every(hb.isString))&&(Fb=F.rawDomain?F.rawDomain.length:F.domain?F.domain.length+ +(null!=F.domainMid):0,Fb=2===Fb?qa.Sequential+"-":3===Fb?qa.Diverging+"-":"");jb=(Fb+jb||qa.Linear).toLowerCase()}$a&&jb===$a.type||(this.value=$a=qa.scale(jb)());for(jb in F)gb[jb]||"padding"===jb&&U($a.type)||(hb.isFunction($a[jb])?$a[jb](F[jb]):La.warn("Unsupported scale property: "+
jb));Fb=jb=$a;(nc=F.domainRaw)?($a.domain(X($a.type,nc,La)),nc=nc.length):nc=-1;if(-1<nc)La=nc;else{var dc=F.domain;nc=$a.type;var ic;!(ic=F.zero)&&(ic=void 0===F.zero)&&(ic=$a.type,ic=!$a.bins&&(ic===qa.Linear||ic===qa.Pow||ic===qa.Sqrt));if(dc){if(U(nc)&&F.padding&&dc[0]!==hb.peek(dc)){var Uc=F.range,cd=F.padding;var dd=F.exponent;var Qd=F.constant;Uc=Math.abs(hb.peek(Uc)-Uc[0]);cd=Uc/(Uc-2*cd);dd=nc===qa.Log?hb.zoomLog(dc,null,cd):nc===qa.Sqrt?hb.zoomPow(dc,null,cd,.5):nc===qa.Pow?hb.zoomPow(dc,
null,cd,dd||1):nc===qa.Symlog?hb.zoomSymlog(dc,null,cd,Qd||1):hb.zoomLinear(dc,null,cd);dc=dc.slice();dc[0]=dd[0];dc[dc.length-1]=dd[1]}if(ic||null!=F.domainMin||null!=F.domainMax||null!=F.domainMid)dd=(dc=dc.slice()).length-1||1,ic&&(0<dc[0]&&(dc[0]=0),0>dc[dd]&&(dc[dd]=0)),null!=F.domainMin&&(dc[0]=F.domainMin),null!=F.domainMax&&(dc[dd]=F.domainMax),null!=F.domainMid&&(ic=F.domainMid,Qd=ic>dc[dd]?dd+1:ic<dc[0]?0:dd,Qd!==dd&&La.warn("Scale domainMid exceeds domain min or max.",ic),dc.splice(Qd,
0,ic));$a.domain(X(nc,dc,La));nc===qa.Ordinal&&$a.unknown(F.domainImplicit?qa.scaleImplicit:void 0);F.nice&&$a.nice&&$a.nice(!0!==F.nice&&qa.tickCount($a,F.nice)||null);La=dc.length}else La=0}(nc=F.bins)&&!hb.isArray(nc)&&(ic=Fb.domain(),$a=ic[0],ic=hb.peek(ic),dc=nc.step,dd=null==nc.start?$a:nc.start,nc=null==nc.stop?ic:nc.stop,dc||hb.error("Scale bins parameter missing step property."),dd<$a&&(dd=dc*Math.ceil($a/dc)),nc>ic&&(nc=dc*Math.floor(ic/dc)),nc=rc(dd,nc+dc/2,dc));nc?Fb.bins=nc:Fb.bins&&
delete Fb.bins;Fb.type===qa.BinOrdinal&&(nc?F.domain||F.domainRaw||(Fb.domain(nc),La=nc.length):Fb.bins=Fb.domain());$a=La;a:{Fb=jb.type;La=F.round||!1;nc=F.range;if(null!=F.rangeStep)Fb!==qa.Band&&Fb!==qa.Point&&hb.error("Only band and point scales support rangeStep."),nc=[0,F.rangeStep*qa.bandSpace($a,Fb===qa.Point?1:(null!=F.paddingInner?F.paddingInner:F.padding)||0,(null!=F.paddingOuter?F.paddingOuter:F.padding)||0)];else if(F.scheme&&(nc=F.schemeExtent,hb.isArray(F.scheme)?ic=qa.interpolateColors(F.scheme,
F.interpolate,F.interpolateGamma):(ic=F.scheme.toLowerCase(),(ic=qa.scheme(ic))||hb.error(`Unrecognized scheme name: ${F.scheme}`)),$a=Fb===qa.Threshold?$a+1:Fb===qa.BinOrdinal?$a-1:Fb===qa.Quantile||Fb===qa.Quantize?+F.schemeCount||5:$a,nc=qa.isInterpolating(Fb)?u(ic,nc,F.reverse):hb.isFunction(ic)?qa.quantizeInterpolator(u(ic,nc),$a):Fb===qa.Ordinal?ic:ic.slice(0,$a),hb.isFunction(nc)))if(jb.interpolator){jb.interpolator(nc);break a}else hb.error(`Scale type ${Fb} does not support interpolating color schemes.`);
nc&&qa.isInterpolating(Fb)?jb.interpolator(qa.interpolateColors(K(nc,F.reverse),F.interpolate,F.interpolateGamma)):(nc&&F.interpolate&&jb.interpolate?jb.interpolate(qa.interpolate(F.interpolate,F.interpolateGamma)):hb.isFunction(jb.round)?jb.round(La):hb.isFunction(jb.rangeRound)&&jb.interpolate(La?G:D),nc&&jb.range(K(nc,F.reverse)))}return ya.fork(ya.NO_SOURCE|ya.NO_FIELDS)}});hb.inherits(ua,g.Transform,{transform(F,ya){const La=F.modified("sort")||ya.changed(ya.ADD)||ya.modified(F.sort.fields)||
ya.modified("datum");La&&ya.source.sort(g.stableCompare(F.sort));this.modified(La);return ya}});const vb=["y0","y1"];Ja.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":vb}]};hb.inherits(Ja,g.Transform,{transform(F,ya){var La=F.as||vb,$a=La[0],jb=La[1],Fb=g.stableCompare(F.sort),
nc=F.field||hb.one,dc="center"===F.offset?Wa:"normalize"===F.offset?ab:W,ic;Fb=Ca(ya.source,F.groupby,Fb,nc);var Uc=0;var cd=Fb.length;for(ic=Fb.max;Uc<cd;++Uc)dc(Fb[Uc],ic,nc,$a,jb);return ya.reflow(F.modified()).modifies(La)}});r.axisticks=Gb;r.datajoin=$b;r.encode=yc;r.legendentries=Ab;r.linkpath=gc;r.pie=qb;r.scale=Aa;r.sortitems=ua;r.stack=Ja})};
shadow$provide[37]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(33)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega))})(this,function(r,g){function*qa(H){for(const ja of H)yield*ja}function hb(H){return 1<H?0:-1>H?ic:Math.acos(H)}function Gb(H){return 1<H?Uc:-1>H?-Uc:Math.asin(H)}function $b(){}function oc(H,ja){if(H&&Ac.hasOwnProperty(H.type))Ac[H.type](H,
ja)}function kc(H,ja,sa){var Ia=-1;sa=H.length-sa;for(ja.lineStart();++Ia<sa;){var ib=H[Ia];ja.point(ib[0],ib[1],ib[2])}ja.lineEnd()}function yc(H,ja){var sa=-1,Ia=H.length;for(ja.polygonStart();++sa<Ia;)kc(H[sa],ja,1);ja.polygonEnd()}function Ab(H,ja){if(H&&Xb.hasOwnProperty(H.type))Xb[H.type](H,ja);else oc(H,ja)}function gc(H){return[de(H[1],H[0]),Gb(H[2])]}function rc(H){var ja=H[0];H=H[1];var sa=Ud(H);return[sa*Ud(ja),sa*ka(ja),ka(H)]}function Va(H,ja){return H[0]*ja[0]+H[1]*ja[1]+H[2]*ja[2]}
function qb(H,ja){return[H[1]*ja[2]-H[2]*ja[1],H[2]*ja[0]-H[0]*ja[2],H[0]*ja[1]-H[1]*ja[0]]}function Kb(H,ja){H[0]+=ja[0];H[1]+=ja[1];H[2]+=ja[2]}function Ob(H,ja){return[H[0]*ja,H[1]*ja,H[2]*ja]}function Bb(H){var ja=fb(H[0]*H[0]+H[1]*H[1]+H[2]*H[2]);H[0]/=ja;H[1]/=ja;H[2]/=ja}function Pb(H,ja){function sa(Ia,ib){return Ia=H(Ia,ib),ja(Ia[0],Ia[1])}H.invert&&ja.invert&&(sa.invert=function(Ia,ib){return Ia=ja.invert(Ia,ib),Ia&&H.invert(Ia[0],Ia[1])});return sa}function Ua(H,ja){Ed(H)>ic&&(H-=Math.round(H/
dd)*dd);return[H,ja]}function pb(H,ja,sa){return(H%=dd)?ja||sa?Pb(Da(H),Pa(ja,sa)):Da(H):ja||sa?Pa(ja,sa):Ua}function Oa(H){return function(ja,sa){ja+=H;Ed(ja)>ic&&(ja-=Math.round(ja/dd)*dd);return[ja,sa]}}function Da(H){var ja=Oa(H);ja.invert=Oa(-H);return ja}function Pa(H,ja){function sa(sc,tc){var Ic=Ud(tc),Ad=Ud(sc)*Ic;sc=ka(sc)*Ic;tc=ka(tc);Ic=tc*Ia+Ad*ib;return[de(sc*ub-Ic*qc,Ad*Ia-tc*ib),Gb(Ic*ub+sc*qc)]}var Ia=Ud(H),ib=ka(H),ub=Ud(ja),qc=ka(ja);sa.invert=function(sc,tc){var Ic=Ud(tc),Ad=Ud(sc)*
Ic;sc=ka(sc)*Ic;tc=ka(tc);Ic=tc*ub-sc*qc;return[de(sc*ub+tc*qc,Ad*Ia+Ic*ib),Gb(Ic*Ia-Ad*ib)]};return sa}function kb(H){function ja(sa){sa=H(sa[0]*Td,sa[1]*Td);return sa[0]*=Qd,sa[1]*=Qd,sa}H=pb(H[0]*Td,H[1]*Td,2<H.length?H[2]*Td:0);ja.invert=function(sa){sa=H.invert(sa[0]*Td,sa[1]*Td);return sa[0]*=Qd,sa[1]*=Qd,sa};return ja}function lb(H,ja){ja=rc(ja);ja[0]-=H;Bb(ja);H=hb(-ja[1]);return((0>-ja[2]?-H:H)+dd-1E-6)%dd}function Na(){var H=[],ja;return{point:function(sa,Ia,ib){ja.push([sa,Ia,ib])},lineStart:function(){H.push(ja=
[])},lineEnd:$b,rejoin:function(){1<H.length&&H.push(H.pop().concat(H.shift()))},result:function(){var sa=H;H=[];ja=null;return sa}}}function xb(H,ja){return 1E-6>Ed(H[0]-ja[0])&&1E-6>Ed(H[1]-ja[1])}function ob(H,ja,sa,Ia){this.x=H;this.z=ja;this.o=sa;this.e=Ia;this.v=!1;this.n=this.p=null}function Nb(H,ja,sa,Ia,ib){var ub=[],qc=[];H.forEach(function(Gc){if(!(0>=($c=Gc.length-1))){var $c,yd=Gc[0],Cd=Gc[$c];if(xb(yd,Cd)){if(!yd[2]&&!Cd[2]){ib.lineStart();for(sc=0;sc<$c;++sc)ib.point((yd=Gc[sc])[0],
yd[1]);ib.lineEnd();return}Cd[0]+=2E-6}ub.push($c=new ob(yd,Gc,null,!0));qc.push($c.o=new ob(yd,null,$c,!1));ub.push($c=new ob(Cd,Gc,null,!1));qc.push($c.o=new ob(Cd,null,$c,!0))}});if(ub.length){qc.sort(ja);Zb(ub);Zb(qc);var sc=0;for(H=qc.length;sc<H;++sc)qc[sc].e=sa=!sa;sa=ub[0];for(var tc;;){for(var Ic=sa,Ad=!0;Ic.v;)if((Ic=Ic.n)===sa)return;ja=Ic.z;ib.lineStart();do{Ic.v=Ic.o.v=!0;if(Ic.e){if(Ad)for(sc=0,H=ja.length;sc<H;++sc)ib.point((tc=ja[sc])[0],tc[1]);else Ia(Ic.x,Ic.n.x,1,ib);Ic=Ic.n}else{if(Ad)for(ja=
Ic.p.z,sc=ja.length-1;0<=sc;--sc)ib.point((tc=ja[sc])[0],tc[1]);else Ia(Ic.x,Ic.p.x,-1,ib);Ic=Ic.p}Ic=Ic.o;ja=Ic.z;Ad=!Ad}while(!Ic.v);ib.lineEnd()}}}function Zb(H){if(ja=H.length){for(var ja,sa=0,Ia=H[0],ib;++sa<ja;)Ia.n=ib=H[sa],ib.p=Ia,Ia=ib;Ia.n=ib=H[0];ib.p=Ia}}function nb(H){return Ed(H[0])<=ic?H[0]:za(H[0])*((Ed(H[0])+ic)%dd-ic)}function la(H,ja,sa,Ia){return function(ib){function ub(Ld,ge){H(Ld,ge)&&ib.point(Ld,ge)}function qc(Ld,ge){$c.point(Ld,ge)}function sc(){ye.point=qc;$c.lineStart()}
function tc(){ye.point=ub;$c.lineEnd()}function Ic(Ld,ge){wd.push([Ld,ge]);Cd.point(Ld,ge)}function Ad(){Cd.lineStart();wd=[]}function Gc(){Ic(wd[0][0],wd[0][1]);Cd.lineEnd();var Ld=Cd.clean(),ge=yd.result(),Ge=ge.length,hf;wd.pop();Fe.push(wd);wd=null;if(Ge)if(Ld&1){if(Ge=ge[0],0<(ge=Ge.length-1)){Kd||(ib.polygonStart(),Kd=!0);ib.lineStart();for(Ld=0;Ld<ge;++Ld)ib.point((hf=Ge[Ld])[0],hf[1]);ib.lineEnd()}}else 1<Ge&&Ld&2&&ge.push(ge.pop().concat(ge.shift())),Ce.push(ge.filter(Y))}var $c=ja(ib),yd=
Na(),Cd=ja(yd),Kd=!1,Fe,Ce,wd,ye={point:ub,lineStart:sc,lineEnd:tc,polygonStart:function(){ye.point=Ic;ye.lineStart=Ad;ye.lineEnd=Gc;Ce=[];Fe=[]},polygonEnd:function(){ye.point=ub;ye.lineStart=sc;ye.lineEnd=tc;Ce=Array.from(qa(Ce));var Ld=Fe;var ge=nb(Ia),Ge=Ia[1],hf=ka(Ge),rf=[ka(ge),-Ud(ge),0],Je=0,ne=0,Bf=new dc;1===hf?Ge=Uc+1E-6:-1===hf&&(Ge=-Uc-1E-6);hf=0;for(var Hf=Ld.length;hf<Hf;++hf)if(Zf=(ef=Ld[hf]).length){var ef,Zf,Yd=ef[Zf-1],cf=nb(Yd),jf=Yd[1]/2+cd,Ze=ka(jf),Gf=Ud(jf);for(jf=0;jf<Zf;++jf,
cf=xf,Ze=yf,Gf=Bg,Yd=If){var If=ef[jf],xf=nb(If);Bg=If[1]/2+cd;var yf=ka(Bg),Bg=Ud(Bg),hg=xf-cf,vf=0<=hg?1:-1,Jf=vf*hg,dg=Jf>ic;Ze*=yf;Bf.add(de(Ze*vf*ka(Jf),Gf*Bg+Ze*Ud(Jf)));Je+=dg?hg+vf*dd:hg;dg^cf>=ge^xf>=ge&&(Yd=qb(rc(Yd),rc(If)),Bb(Yd),cf=qb(rf,Yd),Bb(cf),cf=(dg^0<=hg?-1:1)*Gb(cf[2]),Ge>cf||Ge===cf&&(Yd[0]||Yd[1]))&&(ne+=dg^0<=hg?1:-1)}}Ld=(-1E-6>Je||1E-6>Je&&-1E-12>Bf)^ne&1;Ce.length?(Kd||(ib.polygonStart(),Kd=!0),Nb(Ce,Ha,Ld,sa,ib)):Ld&&(Kd||(ib.polygonStart(),Kd=!0),ib.lineStart(),sa(null,
null,1,ib),ib.lineEnd());Kd&&(ib.polygonEnd(),Kd=!1);Ce=Fe=null},sphere:function(){ib.polygonStart();ib.lineStart();sa(null,null,1,ib);ib.lineEnd();ib.polygonEnd()}};return ye}}function Y(H){return 1<H.length}function Ha(H,ja){return(0>(H=H.x)[0]?H[1]-Uc-1E-6:Uc-H[1])-(0>(ja=ja.x)[0]?ja[1]-Uc-1E-6:Uc-ja[1])}function Fa(H){function ja(tc,Ic){return Ud(tc)*Ud(Ic)>ib}function sa(tc,Ic,Ad){var Gc=rc(tc),$c=rc(Ic),yd=[1,0,0];$c=qb(Gc,$c);var Cd=Va($c,$c);Gc=$c[0];var Kd=Cd-Gc*Gc;if(!Kd)return!Ad&&tc;Cd=
ib*Cd/Kd;Kd=-ib*Gc/Kd;Gc=qb(yd,$c);yd=Ob(yd,Cd);$c=Ob($c,Kd);Kb(yd,$c);$c=Va(yd,Gc);Cd=Va(Gc,Gc);Kd=$c*$c-Cd*(Va(yd,yd)-1);if(!(0>Kd)){var Fe=fb(Kd);Kd=Ob(Gc,(-$c-Fe)/Cd);Kb(Kd,yd);Kd=gc(Kd);if(!Ad)return Kd;Ad=tc[0];var Ce=Ic[0];tc=tc[1];Ic=Ic[1];if(Ce<Ad){var wd=Ad;Ad=Ce;Ce=wd}var ye=Ce-Ad,Ld=1E-6>Ed(ye-ic);!Ld&&Ic<tc&&(wd=tc,tc=Ic,Ic=wd);if(Ld||1E-6>ye?Ld?0<tc+Ic^Kd[1]<(1E-6>Ed(Kd[0]-Ad)?tc:Ic):tc<=Kd[1]&&Kd[1]<=Ic:ye>ic^(Ad<=Kd[0]&&Kd[0]<=Ce))return Ic=Ob(Gc,(-$c+Fe)/Cd),Kb(Ic,yd),[Kd,gc(Ic)]}}
function Ia(tc,Ic){var Ad=qc?H:ic-H,Gc=0;tc<-Ad?Gc|=1:tc>Ad&&(Gc|=2);Ic<-Ad?Gc|=4:Ic>Ad&&(Gc|=8);return Gc}var ib=Ud(H),ub=6*Td,qc=0<ib,sc=1E-6<Ed(ib);return la(ja,function(tc){var Ic,Ad,Gc,$c,yd;return{lineStart:function(){$c=Gc=!1;yd=1},point:function(Cd,Kd){var Fe=[Cd,Kd],Ce=ja(Cd,Kd);Kd=qc?Ce?0:Ia(Cd,Kd):Ce?Ia(Cd+(0>Cd?ic:-ic),Kd):0;!Ic&&($c=Gc=Ce)&&tc.lineStart();Ce!==Gc&&(Cd=sa(Ic,Fe),!Cd||xb(Ic,Cd)||xb(Fe,Cd))&&(Fe[2]=1);if(Ce!==Gc)yd=0,Ce?(tc.lineStart(),Cd=sa(Fe,Ic),tc.point(Cd[0],Cd[1])):
(Cd=sa(Ic,Fe),tc.point(Cd[0],Cd[1],2),tc.lineEnd()),Ic=Cd;else if(sc&&Ic&&qc^Ce){var wd;Kd&Ad||!(wd=sa(Fe,Ic,!0))||(yd=0,qc?(tc.lineStart(),tc.point(wd[0][0],wd[0][1]),tc.point(wd[1][0],wd[1][1]),tc.lineEnd()):(tc.point(wd[1][0],wd[1][1]),tc.lineEnd(),tc.lineStart(),tc.point(wd[0][0],wd[0][1],3)))}!Ce||Ic&&xb(Ic,Fe)||tc.point(Fe[0],Fe[1]);Ic=Fe;Gc=Ce;Ad=Kd},lineEnd:function(){Gc&&tc.lineEnd();Ic=null},clean:function(){return yd|($c&&Gc)<<1}}},function(tc,Ic,Ad,Gc){var $c=tc;if(ub){tc=Ud(H);var yd=
ka(H),Cd=Ad*ub;if(null==$c)$c=H+Ad*dd,Ic=H-Cd/2;else if($c=lb(tc,$c),Ic=lb(tc,Ic),0<Ad?$c<Ic:$c>Ic)$c+=Ad*dd;for(var Kd=$c;0<Ad?Kd>Ic:Kd<Ic;Kd-=Cd)$c=gc([tc,-yd*Ud(Kd),-yd*ka(Kd)]),Gc.point($c[0],$c[1])}},qc?[0,-H]:[-ic,H-ic])}function cb(H,ja,sa,Ia,ib,ub){var qc=H[0],sc=H[1],tc=0,Ic=1,Ad=ja[0]-qc,Gc=ja[1]-sc;sa-=qc;if(Ad||!(0<sa)){sa/=Ad;if(0>Ad){if(sa<tc)return;sa<Ic&&(Ic=sa)}else if(0<Ad){if(sa>Ic)return;sa>tc&&(tc=sa)}sa=ib-qc;if(Ad||!(0>sa)){sa/=Ad;if(0>Ad){if(sa>Ic)return;sa>tc&&(tc=sa)}else if(0<
Ad){if(sa<tc)return;sa<Ic&&(Ic=sa)}sa=Ia-sc;if(Gc||!(0<sa)){sa/=Gc;if(0>Gc){if(sa<tc)return;sa<Ic&&(Ic=sa)}else if(0<Gc){if(sa>Ic)return;sa>tc&&(tc=sa)}sa=ub-sc;if(Gc||!(0>sa)){sa/=Gc;if(0>Gc){if(sa>Ic)return;sa>tc&&(tc=sa)}else if(0<Gc){if(sa<tc)return;sa<Ic&&(Ic=sa)}0<tc&&(H[0]=qc+tc*Ad,H[1]=sc+tc*Gc);1>Ic&&(ja[0]=qc+Ic*Ad,ja[1]=sc+Ic*Gc);return!0}}}}}function aa(H,ja,sa,Ia){function ib(tc,Ic,Ad,Gc){var $c=0,yd=0;if(null==tc||($c=ub(tc,Ad))!==(yd=ub(Ic,Ad))||0>sc(tc,Ic)^0<Ad){do Gc.point(0===$c||
3===$c?H:sa,1<$c?Ia:ja);while(($c=($c+Ad+4)%4)!==yd)}else Gc.point(Ic[0],Ic[1])}function ub(tc,Ic){return 1E-6>Ed(tc[0]-H)?0<Ic?0:3:1E-6>Ed(tc[0]-sa)?0<Ic?2:1:1E-6>Ed(tc[1]-ja)?0<Ic?1:0:0<Ic?3:2}function qc(tc,Ic){return sc(tc.x,Ic.x)}function sc(tc,Ic){var Ad=ub(tc,1),Gc=ub(Ic,1);return Ad!==Gc?Ad-Gc:0===Ad?Ic[1]-tc[1]:1===Ad?tc[0]-Ic[0]:2===Ad?tc[1]-Ic[1]:Ic[0]-tc[0]}return function(tc){function Ic(Je,ne){H<=Je&&Je<=sa&&ja<=ne&&ne<=Ia&&Gc.point(Je,ne)}function Ad(Je,ne){var Bf=H<=Je&&Je<=sa&&ja<=
ne&&ne<=Ia;Cd&&Kd.push([Je,ne]);if(Ge)Fe=Je,Ce=ne,wd=Bf,Ge=!1,Bf&&(Gc.lineStart(),Gc.point(Je,ne));else if(Bf&&ge)Gc.point(Je,ne);else{var Hf=[ye=Math.max(-1E9,Math.min(1E9,ye)),Ld=Math.max(-1E9,Math.min(1E9,Ld))],ef=[Je=Math.max(-1E9,Math.min(1E9,Je)),ne=Math.max(-1E9,Math.min(1E9,ne))];cb(Hf,ef,H,ja,sa,Ia)?(ge||(Gc.lineStart(),Gc.point(Hf[0],Hf[1])),Gc.point(ef[0],ef[1]),Bf||Gc.lineEnd(),hf=!1):Bf&&(Gc.lineStart(),Gc.point(Je,ne),hf=!1)}ye=Je;Ld=ne;ge=Bf}var Gc=tc,$c=Na(),yd,Cd,Kd,Fe,Ce,wd,ye,Ld,
ge,Ge,hf,rf={point:Ic,lineStart:function(){rf.point=Ad;Cd&&Cd.push(Kd=[]);Ge=!0;ge=!1;ye=Ld=NaN},lineEnd:function(){yd&&(Ad(Fe,Ce),wd&&ge&&$c.rejoin(),yd.push($c.result()));rf.point=Ic;ge&&Gc.lineEnd()},polygonStart:function(){Gc=$c;yd=[];Cd=[];hf=!0},polygonEnd:function(){for(var Je,ne=Je=0,Bf=Cd.length;ne<Bf;++ne){var Hf=Cd[ne],ef=1,Zf=Hf.length,Yd=Hf[0],cf=Yd[0];for(Yd=Yd[1];ef<Zf;++ef){var jf=cf;var Ze=Yd;Yd=Hf[ef];cf=Yd[0];Yd=Yd[1];Ze<=Ia?Yd>Ia&&(cf-jf)*(Ia-Ze)>(Yd-Ze)*(H-jf)&&++Je:Yd<=Ia&&(cf-
jf)*(Ia-Ze)<(Yd-Ze)*(H-jf)&&--Je}}ne=hf&&Je;Bf=(yd=Array.from(qa(yd))).length;if(ne||Bf)tc.polygonStart(),ne&&(tc.lineStart(),ib(null,null,1,tc),tc.lineEnd()),Bf&&Nb(yd,qc,Je,ib,tc),tc.polygonEnd();Gc=tc;yd=Cd=Kd=null}};return rf}}function ma(){Wd.point=p}function p(H,ja){Wd.point=L;rd=Fd=H;Gd=$d=ja}function L(H,ja){Nc.add($d*H-Fd*ja);Fd=H;$d=ja}function P(){L(rd,Gd)}function f(H,ja){pf+=H;T+=ja;++ta}function v(){Cc.point=l}function l(H,ja){Cc.point=C;f(ac=H,Pc=ja)}function C(H,ja){var sa=H-ac,Ia=
ja-Pc;sa=fb(sa*sa+Ia*Ia);db+=sa*(ac+H)/2;zb+=sa*(Pc+ja)/2;ec+=sa;f(ac=H,Pc=ja)}function B(){Cc.point=f}function z(){Cc.point=G}function D(){U(da,Sa)}function G(H,ja){Cc.point=U;f(da=ac=H,Sa=Pc=ja)}function U(H,ja){var sa=H-ac,Ia=ja-Pc;sa=fb(sa*sa+Ia*Ia);db+=sa*(ac+H)/2;zb+=sa*(Pc+ja)/2;ec+=sa;sa=Pc*H-ac*ja;Bc+=sa*(ac+H);Yb+=sa*(Pc+ja);I+=3*sa;f(ac=H,Pc=ja)}function Aa(H){this._context=H}function X(H,ja){Jc.point=u;Ra=pc=H;eb=vd=ja}function u(H,ja){pc-=H;vd-=ja;fd.add(fb(pc*pc+vd*vd));pc=H;vd=ja}function K(H){let ja=
1;this._+=H[0];for(const sa=H.length;ja<sa;++ja)this._+=arguments[ja]+H[ja]}function ua(H){const ja=Math.floor(H);if(!(0<=ja))throw new RangeError(`invalid digits: ${H}`);if(15<ja)return K;if(ja!==Qc){const sa=Math.pow(10,ja);Qc=ja;sd=function(Ia){let ib=1;this._+=Ia[0];for(const ub=Ia.length;ib<ub;++ib)this._+=Math.round(arguments[ib]*sa)/sa+Ia[ib]}}return sd}function Ja(H,ja){function sa(sc){sc&&("function"===typeof ib&&qc.pointRadius(+ib.apply(this,arguments)),Ab(sc,ub(qc)));return qc.result()}
let Ia=3,ib=4.5,ub,qc;sa.area=function(sc){Ab(sc,ub(ae));return ae.result()};sa.measure=function(sc){Ab(sc,ub(Vc));return Vc.result()};sa.bounds=function(sc){Ab(sc,ub(re));return re.result()};sa.centroid=function(sc){Ab(sc,ub(Sc));return Sc.result()};sa.projection=function(sc){if(!arguments.length)return H;ub=null==sc?(H=null,Fc):(H=sc).stream;return sa};sa.context=function(sc){if(!arguments.length)return ja;qc=null==sc?(ja=null,new Bd(Ia)):new Aa(ja=sc);"function"!==typeof ib&&qc.pointRadius(ib);
return sa};sa.pointRadius=function(sc){if(!arguments.length)return ib;ib="function"===typeof sc?sc:(qc.pointRadius(+sc),+sc);return sa};sa.digits=function(sc){if(!arguments.length)return Ia;if(null==sc)Ia=null;else{const tc=Math.floor(sc);if(!(0<=tc))throw new RangeError(`invalid digits: ${sc}`);Ia=tc}null===ja&&(qc=new Bd(Ia));return sa};return sa.projection(H).digits(Ia).context(ja)}function Wa(H){return function(ja){var sa=new ab,Ia;for(Ia in H)sa[Ia]=H[Ia];sa.stream=ja;return sa}}function ab(){}
function W(H,ja,sa){var Ia=H.clipExtent&&H.clipExtent();H.scale(150).translate([0,0]);null!=Ia&&H.clipExtent(null);Ab(sa,H.stream(re));ja(re.result());null!=Ia&&H.clipExtent(Ia);return H}function Ca(H,ja,sa){return W(H,function(Ia){var ib=ja[1][0]-ja[0][0],ub=ja[1][1]-ja[0][1],qc=Math.min(ib/(Ia[1][0]-Ia[0][0]),ub/(Ia[1][1]-Ia[0][1]));ib=+ja[0][0]+(ib-qc*(Ia[1][0]+Ia[0][0]))/2;Ia=+ja[0][1]+(ub-qc*(Ia[1][1]+Ia[0][1]))/2;H.scale(150*qc).translate([ib,Ia])},sa)}function Za(H,ja,sa){return W(H,function(Ia){var ib=
+ja,ub=ib/(Ia[1][0]-Ia[0][0]);ib=(ib-ub*(Ia[1][0]+Ia[0][0]))/2;Ia=-ub*Ia[0][1];H.scale(150*ub).translate([ib,Ia])},sa)}function Ib(H,ja,sa){return W(H,function(Ia){var ib=+ja,ub=ib/(Ia[1][1]-Ia[0][1]),qc=-ub*Ia[0][0];Ia=(ib-ub*(Ia[1][1]+Ia[0][1]))/2;H.scale(150*ub).translate([qc,Ia])},sa)}function xc(H){return Wa({point:function(ja,sa){ja=H(ja,sa);this.stream.point(ja[0],ja[1])}})}function uc(H,ja){function sa(Ia,ib,ub,qc,sc,tc,Ic,Ad,Gc,$c,yd,Cd,Kd,Fe){var Ce=Ic-Ia,wd=Ad-ib,ye=Ce*Ce+wd*wd;if(ye>4*
ja&&Kd--){var Ld=qc+$c,ge=sc+yd,Ge=tc+Cd,hf=fb(Ld*Ld+ge*ge+Ge*Ge),rf=Gb(Ge/=hf),Je=1E-6>Ed(Ed(Ge)-1)||1E-6>Ed(ub-Gc)?(ub+Gc)/2:de(ge,Ld),ne=H(Je,rf);rf=ne[0];ne=ne[1];var Bf=rf-Ia,Hf=ne-ib,ef=wd*Bf-Ce*Hf;if(ef*ef/ye>ja||.3<Ed((Ce*Bf+wd*Hf)/ye-.5)||qc*$c+sc*yd+tc*Cd<be)sa(Ia,ib,ub,qc,sc,tc,rf,ne,Je,Ld/=hf,ge/=hf,Ge,Kd,Fe),Fe.point(rf,ne),sa(rf,ne,Je,Ld,ge,Ge,Ic,Ad,Gc,$c,yd,Cd,Kd,Fe)}}return function(Ia){function ib(rf,Je){rf=H(rf,Je);Ia.point(rf[0],rf[1])}function ub(){wd=NaN;hf.point=qc;Ia.lineStart()}
function qc(rf,Je){var ne=rc([rf,Je]);Je=H(rf,Je);sa(wd,ye,Ce,Ld,ge,Ge,wd=Je[0],ye=Je[1],Ce=rf,Ld=ne[0],ge=ne[1],Ge=ne[2],16,Ia);Ia.point(wd,ye)}function sc(){hf.point=ib;Ia.lineEnd()}function tc(){ub();hf.point=Ic;hf.lineEnd=Ad}function Ic(rf,Je){qc(Gc=rf,Je);$c=wd;yd=ye;Cd=Ld;Kd=ge;Fe=Ge;hf.point=qc}function Ad(){sa(wd,ye,Ce,Ld,ge,Ge,$c,yd,Gc,Cd,Kd,Fe,16,Ia);hf.lineEnd=sc;sc()}var Gc,$c,yd,Cd,Kd,Fe,Ce,wd,ye,Ld,ge,Ge,hf={point:ib,lineStart:ub,lineEnd:sc,polygonStart:function(){Ia.polygonStart();
hf.lineStart=tc},polygonEnd:function(){Ia.polygonEnd();hf.lineStart=ub}};return hf}}function wc(H){return Wa({point:function(ja,sa){ja=H(ja,sa);return this.stream.point(ja[0],ja[1])}})}function bd(H,ja,sa,Ia,ib){function ub(qc,sc){qc*=Ia;sc*=ib;return[ja+H*qc,sa-H*sc]}ub.invert=function(qc,sc){return[(qc-ja)/H*Ia,(sa-sc)/H*ib]};return ub}function Wb(H,ja,sa,Ia,ib,ub){function qc(Cd,Kd){Cd*=Ia;Kd*=ib;return[tc*Cd-Ic*Kd+ja,sa-Ic*Cd-tc*Kd]}if(!ub)return bd(H,ja,sa,Ia,ib);var sc=Ud(ub);ub=ka(ub);var tc=
sc*H,Ic=ub*H,Ad=sc/H,Gc=ub/H,$c=(ub*sa-sc*ja)/H,yd=(ub*ja+sc*sa)/H;qc.invert=function(Cd,Kd){return[Ia*(Ad*Cd-Gc*Kd+$c),ib*(yd-Gc*Cd-Ad*Kd)]};return qc}function Rc(H){return Pd(function(){return H})()}function Pd(H){function ja(Yd){return Hf(Yd[0]*Td,Yd[1]*Td)}function sa(Yd){return(Yd=Hf.invert(Yd[0],Yd[1]))&&[Yd[0]*Qd,Yd[1]*Qd]}function Ia(){var Yd=Wb(qc,0,0,Fe,Ce,Kd).apply(null,ub(Ic,Ad));Yd=Wb(qc,sc-Yd[0],tc-Yd[1],Fe,Ce,Kd);Cd=pb(Gc,$c,yd);Bf=Pb(ub,Yd);Hf=Pb(Cd,Bf);Yd=Bf;ne=+Je?uc(Yd,Je):xc(Yd);
return ib()}function ib(){ef=Zf=null;return ja}var ub,qc=150,sc=480,tc=250,Ic=0,Ad=0,Gc=0,$c=0,yd=0,Cd,Kd=0,Fe=1,Ce=1,wd=null,ye=lc,Ld=null,ge,Ge,hf,rf=Fc,Je=.5,ne,Bf,Hf,ef,Zf;ja.stream=function(Yd){return ef&&Zf===Yd?ef:ef=we(wc(Cd)(ye(ne(rf(Zf=Yd)))))};ja.preclip=function(Yd){return arguments.length?(ye=Yd,wd=void 0,ib()):ye};ja.postclip=function(Yd){return arguments.length?(rf=Yd,Ld=ge=Ge=hf=null,ib()):rf};ja.clipAngle=function(Yd){return arguments.length?(ye=+Yd?Fa(wd=Yd*Td):(wd=null,lc),ib()):
wd*Qd};ja.clipExtent=function(Yd){return arguments.length?(rf=null==Yd?(Ld=ge=Ge=hf=null,Fc):aa(Ld=+Yd[0][0],ge=+Yd[0][1],Ge=+Yd[1][0],hf=+Yd[1][1]),ib()):null==Ld?null:[[Ld,ge],[Ge,hf]]};ja.scale=function(Yd){return arguments.length?(qc=+Yd,Ia()):qc};ja.translate=function(Yd){return arguments.length?(sc=+Yd[0],tc=+Yd[1],Ia()):[sc,tc]};ja.center=function(Yd){return arguments.length?(Ic=Yd[0]%360*Td,Ad=Yd[1]%360*Td,Ia()):[Ic*Qd,Ad*Qd]};ja.rotate=function(Yd){return arguments.length?(Gc=Yd[0]%360*Td,
$c=Yd[1]%360*Td,yd=2<Yd.length?Yd[2]%360*Td:0,Ia()):[Gc*Qd,$c*Qd,yd*Qd]};ja.angle=function(Yd){return arguments.length?(Kd=Yd%360*Td,Ia()):Kd*Qd};ja.reflectX=function(Yd){return arguments.length?(Fe=Yd?-1:1,Ia()):0>Fe};ja.reflectY=function(Yd){return arguments.length?(Ce=Yd?-1:1,Ia()):0>Ce};ja.precision=function(Yd){if(arguments.length){var cf=Bf;var jf=Je=Yd*Yd;cf=(ne=+jf?uc(cf,jf):xc(cf),ib())}else cf=fb(Je);return cf};ja.fitExtent=function(Yd,cf){return Ca(ja,Yd,cf)};ja.fitSize=function(Yd,cf){return Ca(ja,
[[0,0],Yd],cf)};ja.fitWidth=function(Yd,cf){return Za(ja,Yd,cf)};ja.fitHeight=function(Yd,cf){return Ib(ja,Yd,cf)};return function(){ub=H.apply(this,arguments);ja.invert=ub.invert&&sa;return Ia()}}function Ka(H){var ja=0,sa=ic/3,Ia=Pd(H);H=Ia(ja,sa);H.parallels=function(ib){return arguments.length?Ia(ja=ib[0]*Td,sa=ib[1]*Td):[ja*Qd,sa*Qd]};return H}function Ub(H){function ja(Ia,ib){return[Ia*sa,ka(ib)/sa]}var sa=Ud(H);ja.invert=function(Ia,ib){return[Ia/sa,Gb(ib*sa)]};return ja}function rb(H,ja){function sa(sc,
tc){tc=fb(ub-2*ib*ka(tc))/ib;return[tc*ka(sc*=ib),qc-tc*Ud(sc)]}var Ia=ka(H),ib=(Ia+ka(ja))/2;if(1E-6>Ed(ib))return Ub(H);var ub=1+Ia*(2*ib-Ia),qc=fb(ub)/ib;sa.invert=function(sc,tc){tc=qc-tc;var Ic=de(sc,Ed(tc))*za(tc);0>tc*ib&&(Ic-=ic*za(sc)*za(tc));return[Ic/ib,Gb((ub-(sc*sc+tc*tc)*ib*ib)/(2*ib))]};return sa}function Sb(){return Ka(rb).scale(155.424).center([0,33.6442])}function fc(){return Sb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function bc(H){var ja=
H.length;return{point:function(sa,Ia){for(var ib=-1;++ib<ja;)H[ib].point(sa,Ia)},sphere:function(){for(var sa=-1;++sa<ja;)H[sa].sphere()},lineStart:function(){for(var sa=-1;++sa<ja;)H[sa].lineStart()},lineEnd:function(){for(var sa=-1;++sa<ja;)H[sa].lineEnd()},polygonStart:function(){for(var sa=-1;++sa<ja;)H[sa].polygonStart()},polygonEnd:function(){for(var sa=-1;++sa<ja;)H[sa].polygonEnd()}}}function Hc(H){return function(ja,sa){var Ia=Ud(ja),ib=Ud(sa);Ia=H(Ia*ib);return Infinity===Ia?[2,0]:[Ia*ib*
ka(ja),Ia*ka(sa)]}}function zc(H){return function(ja,sa){var Ia=fb(ja*ja+sa*sa),ib=H(Ia),ub=ka(ib);ib=Ud(ib);return[de(ja*ub,Ia*ib),Gb(Ia&&sa*ub/Ia)]}}function Yc(H,ja){return[H,Xd(Hb((Uc+ja)/2))]}function Md(H){function ja(){var Gc=ic*ib(),$c=sa(kb(sa.rotate()).invert([0,0]));return qc(null==sc?[[$c[0]-Gc,$c[1]-Gc],[$c[0]+Gc,$c[1]+Gc]]:H===Yc?[[Math.max($c[0]-Gc,sc),tc],[Math.min($c[0]+Gc,Ic),Ad]]:[[sc,Math.max($c[1]-Gc,tc)],[Ic,Math.min($c[1]+Gc,Ad)]])}var sa=Rc(H),Ia=sa.center,ib=sa.scale,ub=sa.translate,
qc=sa.clipExtent,sc=null,tc,Ic,Ad;sa.scale=function(Gc){return arguments.length?(ib(Gc),ja()):ib()};sa.translate=function(Gc){return arguments.length?(ub(Gc),ja()):ub()};sa.center=function(Gc){return arguments.length?(Ia(Gc),ja()):Ia()};sa.clipExtent=function(Gc){return arguments.length?(null==Gc?sc=tc=Ic=Ad=null:(sc=+Gc[0][0],tc=+Gc[0][1],Ic=+Gc[1][0],Ad=+Gc[1][1]),ja()):null==sc?null:[[sc,tc],[Ic,Ad]]};return ja()}function td(H,ja){function sa(qc,sc){0<ub?sc<-Uc+1E-6&&(sc=-Uc+1E-6):sc>Uc-1E-6&&
(sc=Uc-1E-6);sc=ub/M(Hb((Uc+sc)/2),ib);return[sc*ka(ib*qc),ub-sc*Ud(ib*qc)]}var Ia=Ud(H),ib=H===ja?ka(H):Xd(Ia/Ud(ja))/Xd(Hb((Uc+ja)/2)/Hb((Uc+H)/2)),ub=Ia*M(Hb((Uc+H)/2),ib)/ib;if(!ib)return Yc;sa.invert=function(qc,sc){sc=ub-sc;var tc=za(ib)*fb(qc*qc+sc*sc),Ic=de(qc,Ed(sc))*za(sc);0>sc*ib&&(Ic-=ic*za(qc)*za(sc));return[Ic/ib,2*Zd(M(ub/tc,1/ib))-Uc]};return sa}function Ga(H,ja){return[H,ja]}function gb(H,ja){function sa(qc,sc){sc=ub-sc;qc*=ib;return[sc*ka(qc),ub-sc*Ud(qc)]}var Ia=Ud(H),ib=H===ja?
ka(H):(Ia-Ud(ja))/(ja-H),ub=Ia/ib+H;if(1E-6>Ed(ib))return Ga;sa.invert=function(qc,sc){sc=ub-sc;var tc=de(qc,Ed(sc))*za(sc);0>sc*ib&&(tc-=ic*za(qc)*za(sc));return[tc/ib,ub-za(ib)*fb(qc*qc+sc*sc)]};return sa}function vb(H,ja){ja=Gb(bf*ka(ja));var sa=ja*ja,Ia=sa*sa*sa;return[H*Ud(ja)/(bf*(1.340264+3*-.081106*sa+Ia*(7*8.93E-4+.034164*sa))),ja*(1.340264+-.081106*sa+Ia*(8.93E-4+.003796*sa))]}function ra(H,ja){var sa=Ud(ja),Ia=Ud(H)*sa;return[sa*ka(H)/Ia,ka(ja)/Ia]}function F(H,ja){var sa=ja*ja,Ia=sa*sa;
return[H*(.8707-.131979*sa+Ia*(-.013791+Ia*(.003971*sa-.001529*Ia))),ja*(1.007226+sa*(.015085+Ia*(-.044475+.028874*sa-.005916*Ia)))]}function ya(H,ja){return[Ud(ja)*ka(H),ka(ja)]}function La(H,ja){var sa=Ud(ja),Ia=1+Ud(H)*sa;return[sa*ka(H)/Ia,ka(ja)/Ia]}function $a(H,ja){return[Xd(Hb((Uc+ja)/2)),-H]}function jb(H){return 1<H?Id:-1>H?-Id:Math.asin(H)}function Fb(H,ja){return function Ia(){const ib=ja();ib.type=H;ib.path=Ja().projection(ib);ib.copy=ib.copy||function(){const ub=Ia();N.forEach(qc=>{if(ib[qc])ub[qc](ib[qc]())});
ub.path.pointRadius(ib.path.pointRadius());return ub};return g.registerScale(ib)}}function nc(H,ja){if(!H||"string"!==typeof H)throw Error("Projection type must be a name string.");H=H.toLowerCase();return 1<arguments.length?(ca[H]=Fb(H,ja),this):ca[H]||null}class dc{constructor(){this._partials=new Float64Array(32);this._n=0}add(H){const ja=this._partials;let sa=0;for(let Ia=0;Ia<this._n&&32>Ia;Ia++){const ib=ja[Ia],ub=H+ib;(H=Math.abs(H)<Math.abs(ib)?H-(ub-ib):ib-(ub-H))&&(ja[sa++]=H);H=ub}ja[sa]=
H;this._n=sa+1;return this}valueOf(){const H=this._partials;let ja=this._n;let sa,Ia=0;if(0<ja){for(Ia=H[--ja];0<ja;){var ib=Ia;sa=H[--ja];Ia=ib+sa;if(ib=sa-(Ia-ib))break}0<ja&&(0>ib&&0>H[ja-1]||0<ib&&0<H[ja-1])&&(sa=2*ib,ib=Ia+sa,sa==ib-Ia&&(Ia=ib))}return Ia}}var ic=Math.PI,Uc=ic/2,cd=ic/4,dd=2*ic,Qd=180/ic,Td=ic/180,Ed=Math.abs,Zd=Math.atan,de=Math.atan2,Ud=Math.cos,Te=Math.exp,Xd=Math.log,M=Math.pow,ka=Math.sin,za=Math.sign||function(H){return 0<H?1:0>H?-1:0},fb=Math.sqrt,Hb=Math.tan,Xb={Feature:function(H,
ja){oc(H.geometry,ja)},FeatureCollection:function(H,ja){H=H.features;for(var sa=-1,Ia=H.length;++sa<Ia;)oc(H[sa].geometry,ja)}},Ac={Sphere:function(H,ja){ja.sphere()},Point:function(H,ja){H=H.coordinates;ja.point(H[0],H[1],H[2])},MultiPoint:function(H,ja){for(var sa=H.coordinates,Ia=-1,ib=sa.length;++Ia<ib;)H=sa[Ia],ja.point(H[0],H[1],H[2])},LineString:function(H,ja){kc(H.coordinates,ja,0)},MultiLineString:function(H,ja){H=H.coordinates;for(var sa=-1,Ia=H.length;++sa<Ia;)kc(H[sa],ja,0)},Polygon:function(H,
ja){yc(H.coordinates,ja)},MultiPolygon:function(H,ja){H=H.coordinates;for(var sa=-1,Ia=H.length;++sa<Ia;)yc(H[sa],ja)},GeometryCollection:function(H,ja){H=H.geometries;for(var sa=-1,Ia=H.length;++sa<Ia;)oc(H[sa],ja)}};Ua.invert=Ua;var lc=la(function(){return!0},function(H){var ja=NaN,sa=NaN,Ia=NaN,ib;return{lineStart:function(){H.lineStart();ib=1},point:function(ub,qc){var sc=0<ub?ic:-ic,tc=Ed(ub-ja);if(1E-6>Ed(tc-ic))H.point(ja,sa=0<(sa+qc)/2?Uc:-Uc),H.point(Ia,sa),H.lineEnd(),H.lineStart(),H.point(sc,
sa),H.point(ub,sa),ib=0;else if(Ia!==sc&&tc>=ic){1E-6>Ed(ja-Ia)&&(ja-=1E-6*Ia);1E-6>Ed(ub-sc)&&(ub-=1E-6*sc);tc=ja;var Ic=sa,Ad=ub,Gc,$c,yd=ka(tc-Ad);sa=1E-6<Ed(yd)?Zd((ka(Ic)*($c=Ud(qc))*ka(Ad)-ka(qc)*(Gc=Ud(Ic))*ka(tc))/(Gc*$c*yd)):(Ic+qc)/2;H.point(Ia,sa);H.lineEnd();H.lineStart();H.point(sc,sa);ib=0}H.point(ja=ub,sa=qc);Ia=sc},lineEnd:function(){H.lineEnd();ja=sa=NaN},clean:function(){return 2-ib}}},function(H,ja,sa,Ia){null==H?(sa*=Uc,Ia.point(-ic,sa),Ia.point(0,sa),Ia.point(ic,sa),Ia.point(ic,
0),Ia.point(ic,-sa),Ia.point(0,-sa),Ia.point(-ic,-sa),Ia.point(-ic,0),Ia.point(-ic,sa)):1E-6<Ed(H[0]-ja[0])?(H=H[0]<ja[0]?ic:-ic,sa=sa*H/2,Ia.point(-H,sa),Ia.point(0,sa),Ia.point(H,sa)):Ia.point(ja[0],ja[1])},[-ic,-Uc]),Fc=H=>H,hd=new dc,Nc=new dc,rd,Gd,Fd,$d,Wd={point:$b,lineStart:$b,lineEnd:$b,polygonStart:function(){Wd.lineStart=ma;Wd.lineEnd=P},polygonEnd:function(){Wd.lineStart=Wd.lineEnd=Wd.point=$b;hd.add(Ed(Nc));Nc=new dc},result:function(){var H=hd/2;hd=new dc;return H}},ae=Wd,Be=Infinity,
ff=Be,df=-Be,af=df,re={point:function(H,ja){H<Be&&(Be=H);H>df&&(df=H);ja<ff&&(ff=ja);ja>af&&(af=ja)},lineStart:$b,lineEnd:$b,polygonStart:$b,polygonEnd:$b,result:function(){var H=[[Be,ff],[df,af]];df=af=-(ff=Be=Infinity);return H}},pf=0,T=0,ta=0,db=0,zb=0,ec=0,Bc=0,Yb=0,I=0,da,Sa,ac,Pc,Cc={point:f,lineStart:v,lineEnd:B,polygonStart:function(){Cc.lineStart=z;Cc.lineEnd=D},polygonEnd:function(){Cc.point=f;Cc.lineStart=v;Cc.lineEnd=B},result:function(){var H=I?[Bc/I,Yb/I]:ec?[db/ec,zb/ec]:ta?[pf/ta,
T/ta]:[NaN,NaN];pf=T=ta=db=zb=ec=Bc=Yb=I=0;return H}},Sc=Cc;Aa.prototype={_radius:4.5,pointRadius:function(H){return this._radius=H,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(H,ja){switch(this._point){case 0:this._context.moveTo(H,ja);this._point=1;break;case 1:this._context.lineTo(H,ja);break;default:this._context.moveTo(H+this._radius,
ja),this._context.arc(H,ja,this._radius,0,dd)}},result:$b};var fd=new dc,ee,Ra,eb,pc,vd,Jc={point:$b,lineStart:function(){Jc.point=X},lineEnd:function(){ee&&u(Ra,eb);Jc.point=$b},polygonStart:function(){ee=!0},polygonEnd:function(){ee=null},result:function(){var H=+fd;fd=new dc;return H}},Vc=Jc;let Qc,sd,id,Nd;class Bd{constructor(H){this._append=null==H?K:ua(H);this._radius=4.5;this._=""}pointRadius(H){this._radius=+H;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=
0}lineEnd(){0===this._line&&(this._+="Z");this._point=NaN}point(H,ja){switch(this._point){case 0:this._append`M${H},${ja}`;this._point=1;break;case 1:this._append`L${H},${ja}`;break;default:this._append`M${H},${ja}`;if(this._radius!==id||this._append!==sd)H=this._radius,ja=this._,this._="",this._append`m0,${H}a${H},${H} 0 1,1 0,${-2*H}a${H},${H} 0 1,1 0,${2*H}z`,id=H,sd=this._append,Nd=this._,this._=ja;this._+=Nd}}result(){const H=this._;this._="";return H.length?H:null}}ab.prototype={constructor:ab,
point:function(H,ja){this.stream.point(H,ja)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var be=Ud(30*Td),we=Wa({point:function(H,ja){this.stream.point(H*Td,ja*Td)}}),Ke=Hc(function(H){return fb(2/(1+H))});Ke.invert=zc(function(H){return 2*Gb(H/2)});var Xe=Hc(function(H){return(H=hb(H))&&H/ka(H)});Xe.invert=zc(function(H){return H});
Yc.invert=function(H,ja){return[H,2*Zd(Te(ja))-Uc]};Ga.invert=Ga;var bf=fb(3)/2;vb.invert=function(H,ja){for(var sa=ja,Ia=sa*sa,ib=Ia*Ia*Ia,ub=0,qc;12>ub&&!(qc=sa*(1.340264+-.081106*Ia+ib*(8.93E-4+.003796*Ia))-ja,Ia=1.340264+3*-.081106*Ia+ib*(7*8.93E-4+.034164*Ia),sa-=qc/=Ia,Ia=sa*sa,ib=Ia*Ia*Ia,1E-12>Ed(qc));++ub);return[bf*H*(1.340264+3*-.081106*Ia+ib*(7*8.93E-4+.034164*Ia))/Ud(sa),Gb(ka(sa)/bf)]};ra.invert=zc(Zd);F.invert=function(H,ja){var sa=ja,Ia=25;do{var ib=sa*sa;var ub=ib*ib;sa-=ub=(sa*(1.007226+
ib*(.015085+ub*(-.044475+.028874*ib-.005916*ub)))-ja)/(1.007226+ib*(.045255+ub*(-.311325+.259866*ib-.005916*11*ub)))}while(1E-6<Ed(ub)&&0<--Ia);return[H/(.8707+(ib=sa*sa)*(-.131979+ib*(-.013791+ib*ib*ib*(.003971-.001529*ib)))),sa]};ya.invert=zc(Gb);La.invert=zc(function(H){return 2*Zd(H)});$a.invert=function(H,ja){return[-ja,2*Zd(Te(H))-Uc]};var md=Math.abs,Dc=Math.cos,jd=Math.sin,Ec=Math.PI,Id=Ec/2,Vd=Math.sqrt(2),ce=function(H,ja,sa){function Ia(ib,ub){var qc=ub,sc=sa*jd(qc),tc=30,Ic;do qc-=Ic=
(qc+jd(qc)-sc)/(1+Dc(qc));while(1E-6<md(Ic)&&0<--tc);return[H*ib*Dc(ub=qc/2),ja*jd(ub)]}Ia.invert=function(ib,ub){return ub=jb(ub/ja),[ib/(H*Dc(ub)),jb((2*ub+jd(2*ub))/sa)]};return Ia}(Vd/Id,Vd,Ec);const le=Ja(),N="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),ca={albers:fc,albersusa:function(){function H($c){var yd=$c[0];$c=$c[1];return Ad=null,(ub.point(yd,$c),Ad)||(sc.point(yd,
$c),Ad)||(Ic.point(yd,$c),Ad)}function ja(){sa=Ia=null;return H}var sa,Ia,ib=fc(),ub,qc=Sb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),sc,tc=Sb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ic,Ad,Gc={point:function($c,yd){Ad=[$c,yd]}};H.invert=function($c){var yd=ib.scale(),Cd=ib.translate(),Kd=($c[0]-Cd[0])/yd;yd=($c[1]-Cd[1])/yd;return(.12<=yd&&.234>yd&&-.425<=Kd&&-.214>Kd?qc:.166<=yd&&.234>yd&&-.214<=Kd&&-.115>Kd?tc:ib).invert($c)};H.stream=function($c){return sa&&Ia===$c?sa:
sa=bc([ib.stream(Ia=$c),qc.stream($c),tc.stream($c)])};H.precision=function($c){if(!arguments.length)return ib.precision();ib.precision($c);qc.precision($c);tc.precision($c);return ja()};H.scale=function($c){if(!arguments.length)return ib.scale();ib.scale($c);qc.scale(.35*$c);tc.scale($c);return H.translate(ib.translate())};H.translate=function($c){if(!arguments.length)return ib.translate();var yd=ib.scale(),Cd=+$c[0],Kd=+$c[1];ub=ib.translate($c).clipExtent([[Cd-.455*yd,Kd-.238*yd],[Cd+.455*yd,Kd+
.238*yd]]).stream(Gc);sc=qc.translate([Cd-.307*yd,Kd+.201*yd]).clipExtent([[Cd-.425*yd+1E-6,Kd+.12*yd+1E-6],[Cd-.214*yd-1E-6,Kd+.234*yd-1E-6]]).stream(Gc);Ic=tc.translate([Cd-.205*yd,Kd+.212*yd]).clipExtent([[Cd-.214*yd+1E-6,Kd+.166*yd+1E-6],[Cd-.115*yd-1E-6,Kd+.234*yd-1E-6]]).stream(Gc);return ja()};H.fitExtent=function($c,yd){return Ca(H,$c,yd)};H.fitSize=function($c,yd){return Ca(H,[[0,0],$c],yd)};H.fitWidth=function($c,yd){return Za(H,$c,yd)};H.fitHeight=function($c,yd){return Ib(H,$c,yd)};return H.scale(1070)},
azimuthalequalarea:function(){return Rc(Ke).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Rc(Xe).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Ka(td).scale(109.5).parallels([30,30])},conicequalarea:Sb,conicequidistant:function(){return Ka(gb).scale(131.154).center([0,13.9389])},equalEarth:function(){return Rc(vb).scale(177.158)},equirectangular:function(){return Rc(Ga).scale(152.63)},gnomonic:function(){return Rc(ra).scale(144.049).clipAngle(60)},identity:function(){function H(){Cd=
sa*ub;Kd=sa*qc;wd=ye=null;return ja}function ja(Ld){var ge=Ld[0]*Cd;Ld=Ld[1]*Kd;if(sc){var Ge=Ld*tc-ge*Ic;ge=ge*tc+Ld*Ic;Ld=Ge}return[ge+Ia,Ld+ib]}var sa=1,Ia=0,ib=0,ub=1,qc=1,sc=0,tc,Ic,Ad=null,Gc,$c,yd,Cd=1,Kd=1,Fe=Wa({point:function(Ld,ge){Ld=ja([Ld,ge]);this.stream.point(Ld[0],Ld[1])}}),Ce=Fc,wd,ye;ja.invert=function(Ld){var ge=Ld[0]-Ia;Ld=Ld[1]-ib;if(sc){var Ge=Ld*tc+ge*Ic;ge=ge*tc-Ld*Ic;Ld=Ge}return[ge/Cd,Ld/Kd]};ja.stream=function(Ld){return wd&&ye===Ld?wd:wd=Fe(Ce(ye=Ld))};ja.postclip=function(Ld){return arguments.length?
(Ce=Ld,Ad=Gc=$c=yd=null,H()):Ce};ja.clipExtent=function(Ld){return arguments.length?(Ce=null==Ld?(Ad=Gc=$c=yd=null,Fc):aa(Ad=+Ld[0][0],Gc=+Ld[0][1],$c=+Ld[1][0],yd=+Ld[1][1]),H()):null==Ad?null:[[Ad,Gc],[$c,yd]]};ja.scale=function(Ld){return arguments.length?(sa=+Ld,H()):sa};ja.translate=function(Ld){return arguments.length?(Ia=+Ld[0],ib=+Ld[1],H()):[Ia,ib]};ja.angle=function(Ld){return arguments.length?(sc=Ld%360*Td,Ic=ka(sc),tc=Ud(sc),H()):sc*Qd};ja.reflectX=function(Ld){return arguments.length?
(ub=Ld?-1:1,H()):0>ub};ja.reflectY=function(Ld){return arguments.length?(qc=Ld?-1:1,H()):0>qc};ja.fitExtent=function(Ld,ge){return Ca(ja,Ld,ge)};ja.fitSize=function(Ld,ge){return Ca(ja,[[0,0],Ld],ge)};ja.fitWidth=function(Ld,ge){return Za(ja,Ld,ge)};ja.fitHeight=function(Ld,ge){return Ib(ja,Ld,ge)};return ja},mercator:function(){return Md(Yc).scale(961/dd)},mollweide:function(){return Rc(ce).scale(169.529)},naturalEarth1:function(){return Rc(F).scale(175.295)},orthographic:function(){return Rc(ya).scale(249.5).clipAngle(90.000001)},
stereographic:function(){return Rc(La).scale(250).clipAngle(142)},transversemercator:function(){var H=Md($a),ja=H.center,sa=H.rotate;H.center=function(Ia){return arguments.length?ja([-Ia[1],Ia[0]]):(Ia=ja(),[Ia[1],-Ia[0]])};H.rotate=function(Ia){return arguments.length?sa([Ia[0],Ia[1],2<Ia.length?Ia[2]+90:90]):(Ia=sa(),[Ia[0],Ia[1],Ia[2]-90])};return sa([0,0,90]).scale(159.155)}};for(const H in ca)nc(H,ca[H]);r.getProjectionPath=function(H){return H&&H.path||le};r.projection=nc;r.projectionProperties=
N})};
shadow$provide[38]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(29),Db(21),Db(30),Db(37),Db(32)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb,Gb,$b){function oc(F,ya,La){var $a=(ya-F)/Math.max(0,La),jb=
Math.floor(Math.log10($a));$a/=Math.pow(10,jb);$a=$a>=Pd?10:$a>=Ka?5:$a>=Ub?2:1;let Fb;0>jb?(Fb=Math.pow(10,-jb)/$a,jb=Math.round(F*Fb),$a=Math.round(ya*Fb),jb/Fb<F&&++jb,$a/Fb>ya&&--$a,Fb=-Fb):(Fb=Math.pow(10,jb)*$a,jb=Math.round(F/Fb),$a=Math.round(ya/Fb),jb*Fb<F&&++jb,$a*Fb>ya&&--$a);return $a<jb&&.5<=La&&2>La?oc(F,ya,2*La):[jb,$a,Fb]}function kc(F,ya,La){return oc(+F,+ya,+La)[2]}function yc(F,ya){let La;if(void 0===ya)for(var $a of F)null!=$a&&(La<$a||void 0===La&&$a>=$a)&&(La=$a);else{$a=-1;
for(let jb of F)null!=(jb=ya(jb,++$a,F))&&(La<jb||void 0===La&&jb>=jb)&&(La=jb)}return La}function Ab(F,ya,La){F=+F;ya=+ya;La=2>(jb=arguments.length)?(ya=F,F=0,1):3>jb?1:+La;for(var $a=-1,jb=Math.max(0,Math.ceil((ya-F)/La))|0,Fb=Array(jb);++$a<jb;)Fb[$a]=F+$a*La;return Fb}function gc(F,ya){let La=0;if(void 0===ya)for(var $a of F){if($a=+$a)La+=$a}else{$a=-1;for(let jb of F)if(jb=+ya(jb,++$a,F))La+=jb}return La}function rc(){}function Va(){function F(dc,ic){return ic.map(Uc=>ya(dc,Uc))}function ya(dc,
ic){var Uc=[],cd=[];La(dc,ic,dd=>{nc(dd,dc,ic);for(var Qd=0,Td=dd.length,Ed=dd[Td-1][1]*dd[0][0]-dd[Td-1][0]*dd[0][1];++Qd<Td;)Ed+=dd[Qd-1][1]*dd[Qd][0]-dd[Qd-1][0]*dd[Qd][1];0<Ed?Uc.push([dd]):cd.push(dd)});cd.forEach(dd=>{for(var Qd=0,Td=Uc.length,Ed;Qd<Td;++Qd){a:{var Zd=(Ed=Uc[Qd])[0];for(var de=dd,Ud=-1,Te=de.length;++Ud<Te;){b:{var Xd=Zd;for(var M=de[Ud],ka=M[0],za=M[1],fb=-1,Hb=0,Xb=Xd.length,Ac=Xb-1;Hb<Xb;Ac=Hb++){var lc=Xd[Hb],Fc=lc[0],hd=lc[1],Nc=Xd[Ac];Ac=Nc[0];var rd=Nc[1],Gd,Fd=lc;lc=
Nc;Nc=M;if(Gd=(lc[0]-Fd[0])*(Nc[1]-Fd[1])===(Nc[0]-Fd[0])*(lc[1]-Fd[1]))Fd=Fd[Gd=+(Fd[0]===lc[0])],Nc=Nc[Gd],lc=lc[Gd],Gd=Fd<=Nc&&Nc<=lc||lc<=Nc&&Nc<=Fd;if(Gd){Xd=0;break b}hd>za!==rd>za&&ka<(Ac-Fc)*(za-hd)/(rd-hd)+Fc&&(fb=-fb)}Xd=fb}if(Xd){Zd=Xd;break a}}Zd=0}if(-1!==Zd){Ed.push(dd);break}}});return{type:"MultiPolygon",value:ic,coordinates:Uc}}function La(dc,ic,Uc){function cd(Xd){var M=[Xd[0][0]+Ed,Xd[0][1]+Td];Xd=[Xd[1][0]+Ed,Xd[1][1]+Td];var ka=2*M[0]+M[1]*(jb+1)*4,za=2*Xd[0]+Xd[1]*(jb+1)*4,fb,
Hb;(fb=Qd[ka])?(Hb=dd[za])?(delete Qd[fb.end],delete dd[Hb.start],fb===Hb?(fb.ring.push(Xd),Uc(fb.ring)):dd[fb.start]=Qd[Hb.end]={start:fb.start,end:Hb.end,ring:fb.ring.concat(Hb.ring)}):(delete Qd[fb.end],fb.ring.push(Xd),Qd[fb.end=za]=fb):(fb=dd[za])?(Hb=Qd[ka])?(delete dd[fb.start],delete Qd[Hb.end],fb===Hb?(fb.ring.push(Xd),Uc(fb.ring)):dd[Hb.start]=Qd[fb.end]={start:Hb.start,end:fb.end,ring:Hb.ring.concat(fb.ring)}):(delete dd[fb.start],fb.ring.unshift(M),dd[fb.start=ka]=fb):dd[ka]=Qd[za]={start:ka,
end:za,ring:[M,Xd]}}var dd=[],Qd=[],Td;var Ed=Td=-1;var Zd=dc[0]>=ic;for(rb[Zd<<1].forEach(cd);++Ed<jb-1;){var de=Zd;Zd=dc[Ed+1]>=ic;rb[de|Zd<<1].forEach(cd)}for(rb[Zd<<0].forEach(cd);++Td<Fb-1;){Ed=-1;Zd=dc[Td*jb+jb]>=ic;var Ud=dc[Td*jb]>=ic;for(rb[Zd<<1|Ud<<2].forEach(cd);++Ed<jb-1;){de=Zd;Zd=dc[Td*jb+jb+Ed+1]>=ic;var Te=Ud;Ud=dc[Td*jb+Ed+1]>=ic;rb[de|Zd<<1|Ud<<2|Te<<3].forEach(cd)}rb[Zd|Ud<<3].forEach(cd)}Ed=-1;Ud=dc[Td*jb]>=ic;for(rb[Ud<<2].forEach(cd);++Ed<jb-1;)Te=Ud,Ud=dc[Td*jb+Ed+1]>=ic,rb[Ud<<
2|Te<<3].forEach(cd);rb[Ud<<3].forEach(cd)}function $a(dc,ic,Uc){dc.forEach(cd=>{var dd=cd[0],Qd=cd[1],Td=dd|0,Ed=Qd|0,Zd=ic[Ed*jb+Td];if(0<dd&&dd<jb&&Td===dd){var de=ic[Ed*jb+Td-1];cd[0]=dd+(Uc-de)/(Zd-de)-.5}0<Qd&&Qd<Fb&&Ed===Qd&&(de=ic[(Ed-1)*jb+Td],cd[1]=Qd+(Uc-de)/(Zd-de)-.5)})}var jb=1,Fb=1,nc=$a;F.contour=ya;F.size=function(dc){if(!arguments.length)return[jb,Fb];var ic=Math.floor(dc[0]),Uc=Math.floor(dc[1]);0<=ic&&0<=Uc||qa.error("invalid size");return jb=ic,Fb=Uc,F};F.smooth=function(dc){return arguments.length?
(nc=dc?$a:rc,F):nc===$a};return F}function qb(F,ya,La){return function($a){var jb=qa.extent($a);$a=La?Math.min(jb[0],0):jb[0];jb=jb[1];var Fb=jb-$a;if(ya){var nc=F;var dc=+jb;var ic=+$a;nc=+nc;ic=(Fb=dc<ic)?kc(dc,ic,nc):kc(ic,dc,nc);Fb=(Fb?-1:1)*(0>ic?1/-ic:ic)}else Fb/=F+1;return Ab($a+Fb,jb,Fb)}}function Kb(F){g.Transform.call(this,null,F)}function Ob(F,ya,La){const $a=qb(La.levels||10,La.nice,!1!==La.zero);return"shared"!==La.resolve?$a:$a(F.map(jb=>yc(ya(jb).values)))}function Bb(F,ya,La,$a){var jb=
$a.scale||ya.scale;let Fb=$a.translate||ya.translate;qa.isFunction(jb)&&(jb=jb(La,$a));qa.isFunction(Fb)&&(Fb=Fb(La,$a));if(1!==jb&&null!=jb||Fb)La=(qa.isNumber(jb)?jb:jb[0])||1,jb=(qa.isNumber(jb)?jb:jb[1])||1,F.forEach(Pb(ya,La,jb,Fb&&Fb[0]||0,Fb&&Fb[1]||0))}function Pb(F,ya,La,$a,jb){function Fb(dd){dd.forEach(nc)}function nc(dd){cd&&dd.reverse();dd.forEach(dc)}function dc(dd){dd[0]=(dd[0]-ic)*ya+$a;dd[1]=(dd[1]-Uc)*La+jb}const ic=F.x1||0,Uc=F.y1||0,cd=0>ya*La;return function(dd){dd.coordinates.forEach(Fb);
return dd}}function Ua(F,ya,La){F=0<=F?F:hb.bandwidthNRD(ya,La);return Math.round((Math.sqrt(4*F*F+1)-1)/2)}function pb(F){return qa.isFunction(F)?F:qa.constant(+F)}function Oa(){function F(ic,Uc){const cd=Ua(jb[0],ic,ya)>>dc,dd=Ua(jb[1],ic,La)>>dc,Qd=cd?cd+2:0,Td=dd?dd+2:0,Ed=2*Qd+(Fb>>dc),Zd=2*Td+(nc>>dc),de=new Float32Array(Ed*Zd),Ud=new Float32Array(Ed*Zd);let Te=de;ic.forEach(Xd=>{const M=Qd+(+ya(Xd)>>dc),ka=Td+(+La(Xd)>>dc);0<=M&&M<Ed&&0<=ka&&ka<Zd&&(de[M+ka*Ed]+=+$a(Xd))});0<cd&&0<dd?(Da(Ed,
Zd,de,Ud,cd),Pa(Ed,Zd,Ud,de,dd),Da(Ed,Zd,de,Ud,cd),Pa(Ed,Zd,Ud,de,dd),Da(Ed,Zd,de,Ud,cd),Pa(Ed,Zd,Ud,de,dd)):0<cd?(Da(Ed,Zd,de,Ud,cd),Da(Ed,Zd,Ud,de,cd),Da(Ed,Zd,de,Ud,cd),Te=Ud):0<dd&&(Pa(Ed,Zd,de,Ud,dd),Pa(Ed,Zd,Ud,de,dd),Pa(Ed,Zd,de,Ud,dd),Te=Ud);ic=Uc?Math.pow(2,-2*dc):1/gc(Te);for(let Xd=0,M=Ed*Zd;Xd<M;++Xd)Te[Xd]*=ic;return{values:Te,scale:1<<dc,width:Ed,height:Zd,x1:Qd,y1:Td,x2:Qd+(Fb>>dc),y2:Td+(nc>>dc)}}var ya=ic=>ic[0],La=ic=>ic[1],$a=qa.one,jb=[-1,-1],Fb=960,nc=500,dc=2;F.x=function(ic){return arguments.length?
(ya=pb(ic),F):ya};F.y=function(ic){return arguments.length?(La=pb(ic),F):La};F.weight=function(ic){return arguments.length?($a=pb(ic),F):$a};F.size=function(ic){if(!arguments.length)return[Fb,nc];var Uc=+ic[0],cd=+ic[1];0<=Uc&&0<=cd||qa.error("invalid size");return Fb=Uc,nc=cd,F};F.cellSize=function(ic){if(!arguments.length)return 1<<dc;1<=(ic=+ic)||qa.error("invalid cell size");dc=Math.floor(Math.log(ic)/Math.LN2);return F};F.bandwidth=function(ic){if(!arguments.length)return jb;ic=qa.array(ic);
1===ic.length&&(ic=[+ic[0],+ic[0]]);2!==ic.length&&qa.error("invalid bandwidth");return jb=ic,F};return F}function Da(F,ya,La,$a,jb){const Fb=(jb<<1)+1;for(let nc=0;nc<ya;++nc)for(let dc=0,ic=0;dc<F+jb;++dc)dc<F&&(ic+=La[dc+nc*F]),dc>=jb&&(dc>=Fb&&(ic-=La[dc-Fb+nc*F]),$a[dc-jb+nc*F]=ic/Math.min(dc+1,F-1+Fb-dc,Fb))}function Pa(F,ya,La,$a,jb){const Fb=(jb<<1)+1;for(let nc=0;nc<F;++nc)for(let dc=0,ic=0;dc<ya+jb;++dc)dc<ya&&(ic+=La[nc+dc*F]),dc>=jb&&(dc>=Fb&&(ic-=La[nc+(dc-Fb)*F]),$a[nc+(dc-jb)*F]=ic/
Math.min(dc+1,ya-1+Fb-dc,Fb))}function kb(F){g.Transform.call(this,null,F)}function lb(F,ya){Sb.forEach(La=>null!=ya[La]?F[La](ya[La]):0);return F}function Na(F,ya){var La=[],$a=cd=>cd(dc),jb;if(null==ya)La.push(F);else{var Fb={};var nc=0;for(jb=F.length;nc<jb;++nc){var dc=F[nc];var ic=ya.map($a);var Uc=Fb[ic];Uc||(Fb[ic]=Uc=[],Uc.dims=ic,La.push(Uc));Uc.push(dc)}}return La}function xb(F){g.Transform.call(this,null,F)}function ob(F){g.Transform.call(this,null,F)}function Nb(F){g.Transform.call(this,
null,F)}function Zb(F,ya){const La=F.pointRadius();F.context(null);null!=ya&&F.pointRadius(ya);return La}function nb(F){g.Transform.call(this,null,F)}function la(F){g.Transform.call(this,null,F)}function Y(F,ya,La){const $a=null==La?jb=>F(ya(jb)):jb=>{var Fb=F.pointRadius();jb=F.pointRadius(La)(ya(jb));F.pointRadius(Fb);return jb};$a.context=jb=>{F.context(jb);return $a};return $a}function Ha(F,ya,La){var $a=Ab(F,ya-1E-6,La).concat(ya);return function(jb){return $a.map(function(Fb){return[jb,Fb]})}}
function Fa(F,ya,La){var $a=Ab(F,ya-1E-6,La).concat(ya);return function(jb){return $a.map(function(Fb){return[Fb,jb]})}}function cb(){function F(){return{type:"MultiLineString",coordinates:ya()}}function ya(){return Ab(bc(Fb/Qd)*Qd,jb,Qd).map(de).concat(Ab(bc(Uc/Td)*Td,ic,Td).map(Ud)).concat(Ab(bc($a/cd)*cd,La,cd).filter(function(Xd){return 1E-6<fc(Xd%Qd)}).map(Ed)).concat(Ab(bc(dc/dd)*dd,nc,dd).filter(function(Xd){return 1E-6<fc(Xd%Td)}).map(Zd))}var La,$a,jb,Fb,nc,dc,ic,Uc,cd=10,dd=cd,Qd=90,Td=
360,Ed,Zd,de,Ud,Te=2.5;F.lines=function(){return ya().map(function(Xd){return{type:"LineString",coordinates:Xd}})};F.outline=function(){return{type:"Polygon",coordinates:[de(Fb).concat(Ud(ic).slice(1),de(jb).reverse().slice(1),Ud(Uc).reverse().slice(1))]}};F.extent=function(Xd){return arguments.length?F.extentMajor(Xd).extentMinor(Xd):F.extentMinor()};F.extentMajor=function(Xd){if(!arguments.length)return[[Fb,Uc],[jb,ic]];Fb=+Xd[0][0];jb=+Xd[1][0];Uc=+Xd[0][1];ic=+Xd[1][1];Fb>jb&&(Xd=Fb,Fb=jb,jb=
Xd);Uc>ic&&(Xd=Uc,Uc=ic,ic=Xd);return F.precision(Te)};F.extentMinor=function(Xd){if(!arguments.length)return[[$a,dc],[La,nc]];$a=+Xd[0][0];La=+Xd[1][0];dc=+Xd[0][1];nc=+Xd[1][1];$a>La&&(Xd=$a,$a=La,La=Xd);dc>nc&&(Xd=dc,dc=nc,nc=Xd);return F.precision(Te)};F.step=function(Xd){return arguments.length?F.stepMajor(Xd).stepMinor(Xd):F.stepMinor()};F.stepMajor=function(Xd){if(!arguments.length)return[Qd,Td];Qd=+Xd[0];Td=+Xd[1];return F};F.stepMinor=function(Xd){if(!arguments.length)return[cd,dd];cd=+Xd[0];
dd=+Xd[1];return F};F.precision=function(Xd){if(!arguments.length)return Te;Te=+Xd;Ed=Ha(dc,nc,90);Zd=Fa($a,La,Te);de=Ha(Uc,ic,90);Ud=Fa(Fb,jb,Te);return F};return F.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function aa(F){g.Transform.call(this,[],F);this.generator=cb()}function ma(F,ya,La){F.prototype=ya.prototype=La;La.constructor=F}function p(F,ya){F=Object.create(F.prototype);for(var La in ya)F[La]=ya[La];return F}function L(){}function P(){return this.rgb().formatHex()}
function f(){return this.rgb().formatRgb()}function v(F){var ya,La;F=(F+"").trim().toLowerCase();return(ya=zc.exec(F))?(La=ya[1].length,ya=parseInt(ya[1],16),6===La?l(ya):3===La?new z(ya>>8&15|ya>>4&240,ya>>4&15|ya&240,(ya&15)<<4|ya&15,1):8===La?C(ya>>24&255,ya>>16&255,ya>>8&255,(ya&255)/255):4===La?C(ya>>12&15|ya>>8&240,ya>>8&15|ya>>4&240,ya>>4&15|ya&240,((ya&15)<<4|ya&15)/255):null):(ya=Yc.exec(F))?new z(ya[1],ya[2],ya[3],1):(ya=Md.exec(F))?new z(255*ya[1]/100,255*ya[2]/100,255*ya[3]/100,1):(ya=
td.exec(F))?C(ya[1],ya[2],ya[3],ya[4]):(ya=Ga.exec(F))?C(255*ya[1]/100,255*ya[2]/100,255*ya[3]/100,ya[4]):(ya=gb.exec(F))?u(ya[1],ya[2]/100,ya[3]/100,1):(ya=vb.exec(F))?u(ya[1],ya[2]/100,ya[3]/100,ya[4]):ra.hasOwnProperty(F)?l(ra[F]):"transparent"===F?new z(NaN,NaN,NaN,0):null}function l(F){return new z(F>>16&255,F>>8&255,F&255,1)}function C(F,ya,La,$a){0>=$a&&(F=ya=La=NaN);return new z(F,ya,La,$a)}function B(F,ya,La,$a){if(1===arguments.length){var jb=F;jb instanceof L||(jb=v(jb));jb?(jb=jb.rgb(),
jb=new z(jb.r,jb.g,jb.b,jb.opacity)):jb=new z}else jb=new z(F,ya,La,null==$a?1:$a);return jb}function z(F,ya,La,$a){this.r=+F;this.g=+ya;this.b=+La;this.opacity=+$a}function D(){return`#${X(this.r)}${X(this.g)}${X(this.b)}`}function G(){const F=U(this.opacity);return`${1===F?"rgb(":"rgba("}${Aa(this.r)}, ${Aa(this.g)}, ${Aa(this.b)}${1===F?")":`, ${F})`}`}function U(F){return isNaN(F)?1:Math.max(0,Math.min(1,F))}function Aa(F){return Math.max(0,Math.min(255,Math.round(F)||0))}function X(F){F=Aa(F);
return(16>F?"0":"")+F.toString(16)}function u(F,ya,La,$a){0>=$a?F=ya=La=NaN:0>=La||1<=La?F=ya=NaN:0>=ya&&(F=NaN);return new ua(F,ya,La,$a)}function K(F){if(F instanceof ua)return new ua(F.h,F.s,F.l,F.opacity);F instanceof L||(F=v(F));if(!F)return new ua;if(F instanceof ua)return F;F=F.rgb();var ya=F.r/255,La=F.g/255,$a=F.b/255,jb=Math.min(ya,La,$a),Fb=Math.max(ya,La,$a),nc=NaN,dc=Fb-jb,ic=(Fb+jb)/2;dc?(nc=ya===Fb?(La-$a)/dc+6*(La<$a):La===Fb?($a-ya)/dc+2:(ya-La)/dc+4,dc/=.5>ic?Fb+jb:2-Fb-jb,nc*=60):
dc=0<ic&&1>ic?0:nc;return new ua(nc,dc,ic,F.opacity)}function ua(F,ya,La,$a){this.h=+F;this.s=+ya;this.l=+La;this.opacity=+$a}function Ja(F){F=(F||0)%360;return 0>F?F+360:F}function Wa(F){return Math.max(0,Math.min(1,F||0))}function ab(F,ya,La){return 255*(60>F?ya+(La-ya)*F/60:180>F?La:240>F?ya+(La-ya)*(240-F)/60:ya)}function W(F){g.Transform.call(this,null,F)}function Ca(F,ya){let La;qa.isFunction(F)?(La=$a=>B(F($a,ya)),La.dep=Ib(F)):La=qa.constant(B(F||"#888"));return La}function Za(F,ya){let La;
qa.isFunction(F)?(La=$a=>F($a,ya),La.dep=Ib(F)):F?La=qa.constant(F):(La=$a=>$a.$value/$a.$max||0,La.dep=!0);return La}function Ib(F){if(!qa.isFunction(F))return!1;F=qa.toSet(qa.accessorFields(F));return F.$x||F.$y||F.$value||F.$max}function xc(F,ya,La,$a){const jb=F.width;var Fb=F.height;const nc=F.x1||0,dc=F.y1||0,ic=F.x2||jb;Fb=F.y2||Fb;const Uc=F.values;F=Uc?Ed=>Uc[Ed]:qa.zero;const cd=$b.canvas(ic-nc,Fb-dc),dd=cd.getContext("2d"),Qd=dd.getImageData(0,0,ic-nc,Fb-dc),Td=Qd.data;for(let Ed=dc,Zd=
0;Ed<Fb;++Ed){ya.$y=Ed-dc;for(let de=nc,Ud=Ed*jb;de<ic;++de,Zd+=4){ya.$x=de-nc;ya.$value=F(de+Ud);const Te=La(ya);Td[Zd+0]=Te.r;Td[Zd+1]=Te.g;Td[Zd+2]=Te.b;Td[Zd+3]=~~(255*$a(ya))}}dd.putImageData(Qd,0,0);return cd}function uc(F){g.Transform.call(this,null,F);this.modified(!0)}function wc(F,ya){const La=Wb(ya.fit);ya.extent?F.fitExtent(ya.extent,La):ya.size?F.fitSize(ya.size,La):0}function bd(F){const ya=Gb.projection((F||"mercator").toLowerCase());ya||qa.error("Unrecognized projection type: "+F);
return ya()}function Wb(F){F=qa.array(F);return 1===F.length?F[0]:{type:"FeatureCollection",features:F.reduce((ya,La)=>ya.concat(Rc(La)),[])}}function Rc(F){return"FeatureCollection"===F.type?F.features:qa.array(F).filter(ya=>null!=ya).map(ya=>"Feature"===ya.type?ya:{type:"Feature",geometry:ya})}const Pd=Math.sqrt(50),Ka=Math.sqrt(10),Ub=Math.sqrt(2),rb=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],
[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Kb.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",
type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};qa.inherits(Kb,g.Transform,{transform(F,ya){if(this.value&&!ya.changed()&&!F.modified())return ya.StopPropagation;var La=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS);ya=ya.materialize(ya.SOURCE).source;var $a=F.field||qa.identity,jb=Va().smooth(!1!==F.smooth),Fb=F.thresholds||Ob(ya,$a,F),nc=null===F.as?null:F.as||"contour",dc=[];ya.forEach(ic=>
{const Uc=$a(ic),cd=jb.size([Uc.width,Uc.height])(Uc.values,qa.isArray(Fb)?Fb:Fb(Uc.values));Bb(cd,Uc,ic,F);cd.forEach(dd=>{dc.push(g.rederive(ic,g.ingest(null!=nc?{[nc]:dd}:dd)))})});this.value&&(La.rem=this.value);this.value=La.source=La.add=dc;return La}});kb.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",
array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Sb="x y weight size cellSize bandwidth".split(" ");qa.inherits(kb,g.Transform,{transform(F,ya){if(this.value&&!ya.changed()&&!F.modified())return ya.StopPropagation;var La=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS);ya=ya.materialize(ya.SOURCE).source;ya=Na(ya,F.groupby);var $a=(F.groupby||[]).map(qa.accessorName),jb=lb(Oa(),
F),Fb=F.as||"grid",nc=[];nc=ya.map(dc=>{var ic=g.ingest,Uc={[Fb]:jb(dc,F.counts)};dc=dc.dims;for(let cd=0;cd<$a.length;++cd)Uc[$a[cd]]=dc[cd];return ic.call(g,Uc)});this.value&&(La.rem=this.value);this.value=La.source=La.add=nc;return La}});xb.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},
{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};qa.inherits(xb,g.Transform,{transform(F,ya){if(this.value&&!ya.changed()&&!F.modified())return ya.StopPropagation;var La=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS),$a=Va().smooth(!1!==F.smooth),jb=F.values,Fb=F.thresholds||qb(F.count||10,F.nice,!!jb),nc=F.size;if(!jb){jb=ya.materialize(ya.SOURCE).source;F=lb(Oa(),F)(jb,
!0);var dc=Pb(F,F.scale||1,F.scale||1,0,0);nc=[F.width,F.height];jb=F.values}Fb=qa.isArray(Fb)?Fb:Fb(jb);jb=$a.size(nc)(jb,Fb);dc&&jb.forEach(dc);this.value&&(La.rem=this.value);this.value=La.source=La.add=(jb||[]).map(g.ingest);return La}});ob.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};qa.inherits(ob,g.Transform,{transform(F,ya){var La=this._features,$a=this._points,jb=F.fields,Fb=jb&&jb[0],nc=jb&&jb[1],dc=F.geojson||
!jb&&qa.identity;jb=ya.ADD;F=F.modified()||ya.changed(ya.REM)||ya.modified(qa.accessorFields(dc))||Fb&&ya.modified(qa.accessorFields(Fb))||nc&&ya.modified(qa.accessorFields(nc));if(!this.value||F)jb=ya.SOURCE,this._features=La=[],this._points=$a=[];dc&&ya.visit(jb,ic=>La.push(dc(ic)));Fb&&nc&&(ya.visit(jb,ic=>{var Uc=Fb(ic);ic=nc(ic);null!=Uc&&null!=ic&&(Uc=+Uc)===Uc&&(ic=+ic)===ic&&$a.push([Uc,ic])}),La=La.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:$a}}));this.value={type:"FeatureCollection",
features:La}}});Nb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};qa.inherits(Nb,g.Transform,{transform(F,ya){var La=ya.fork(ya.ALL),$a=this.value,jb=F.field||qa.identity,Fb=F.as||"path",nc=La.SOURCE;!$a||F.modified()?(this.value=$a=Gb.getProjectionPath(F.projection),La.materialize().reflow()):nc=jb===qa.identity||ya.modified(jb.fields)?
La.ADD_MOD:La.ADD;F=Zb($a,F.pointRadius);La.visit(nc,dc=>dc[Fb]=$a(jb(dc)));$a.pointRadius(F);return La.modifies(Fb)}});nb.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};qa.inherits(nb,g.Transform,{transform(F,ya){function La(Uc){const cd=$a([jb(Uc),Fb(Uc)]);cd?(Uc[dc]=cd[0],Uc[ic]=cd[1]):(Uc[dc]=void 0,Uc[ic]=void 0)}
var $a=F.projection,jb=F.fields[0],Fb=F.fields[1],nc=F.as||["x","y"],dc=nc[0],ic=nc[1];F.modified()?ya=ya.materialize().reflow(!0).visit(ya.SOURCE,La):(F=ya.modified(jb.fields)||ya.modified(Fb.fields),ya.visit(F?ya.ADD_MOD:ya.ADD,La));return ya.modifies(nc)}});la.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};
qa.inherits(la,g.Transform,{transform(F,ya){ya=ya.fork(ya.ALL);var La=this.value,$a=F.as||"shape",jb=ya.ADD;if(!La||F.modified())this.value=La=Y(Gb.getProjectionPath(F.projection),F.field||qa.field("datum"),F.pointRadius),ya.materialize().reflow(),jb=ya.SOURCE;ya.visit(jb,Fb=>Fb[$a]=La);return ya.modifies($a)}});var fc=Math.abs,bc=Math.ceil;aa.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},
{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};qa.inherits(aa,g.Transform,{transform(F,ya){var La=this.value,$a=this.generator;
if(!La.length||F.modified())for(const jb in F)if(qa.isFunction($a[jb]))$a[jb](F[jb]);F=$a();La.length?ya.mod.push(g.replace(La[0],F)):ya.add.push(g.ingest(F));La[0]=F;return ya}});var Hc=1/.7,zc=/^#([0-9a-f]{3,8})$/,Yc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Md=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),td=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Ga=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),gb=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),vb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
ra={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ma(L,v,{copy(F){return Object.assign(new this.constructor,this,F)},displayable(){return this.rgb().displayable()},hex:P,formatHex:P,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return K(this).formatHsl()},formatRgb:f,toString:f});ma(z,B,p(L,{brighter(F){F=null==F?Hc:Math.pow(Hc,F);return new z(this.r*F,this.g*F,this.b*F,this.opacity)},darker(F){F=
null==F?.7:Math.pow(.7,F);return new z(this.r*F,this.g*F,this.b*F,this.opacity)},rgb(){return this},clamp(){return new z(Aa(this.r),Aa(this.g),Aa(this.b),U(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:D,formatHex:D,formatHex8:function(){return`#${X(this.r)}${X(this.g)}${X(this.b)}${X(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:G,toString:G}));ma(ua,function(F,ya,La,$a){return 1===
arguments.length?K(F):new ua(F,ya,La,null==$a?1:$a)},p(L,{brighter(F){F=null==F?Hc:Math.pow(Hc,F);return new ua(this.h,this.s,this.l*F,this.opacity)},darker(F){F=null==F?.7:Math.pow(.7,F);return new ua(this.h,this.s,this.l*F,this.opacity)},rgb(){var F=this.h%360+360*(0>this.h),ya=isNaN(F)||isNaN(this.s)?0:this.s,La=this.l;ya=La+(.5>La?La:1-La)*ya;La=2*La-ya;return new z(ab(240<=F?F-240:F+120,La,ya),ab(F,La,ya),ab(120>F?F+240:F-120,La,ya),this.opacity)},clamp(){return new ua(Ja(this.h),Wa(this.s),
Wa(this.l),U(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const F=U(this.opacity);return`${1===F?"hsl(":"hsla("}${Ja(this.h)}, ${100*Wa(this.s)}%, ${100*Wa(this.l)}%${1===F?")":`, ${F})`}`}}));W.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],
"default":"independent"},{name:"as",type:"string","default":"image"}]};qa.inherits(W,g.Transform,{transform(F,ya){if(!ya.changed()&&!F.modified())return ya.StopPropagation;var La=ya.materialize(ya.SOURCE).source,$a="shared"===F.resolve,jb=F.field||qa.identity,Fb=Za(F.opacity,F),nc=Ca(F.color,F),dc=F.as||"image",ic={$x:0,$y:0,$value:0,$max:$a?yc(La.map(Uc=>yc(jb(Uc).values))):0};La.forEach(Uc=>{const cd=jb(Uc),dd=qa.extend({},Uc,ic);$a||(dd.$max=yc(cd.values||[]));Uc[dc]=xc(cd,dd,nc.dep?nc:qa.constant(nc(dd)),
Fb.dep?Fb:qa.constant(Fb(dd)))});return ya.reflow(!0).modifies(dc)}});qa.inherits(uc,g.Transform,{transform(F,ya){let La=this.value;!La||F.modified("type")?(this.value=La=bd(F.type),Gb.projectionProperties.forEach($a=>{if(null!=F[$a]){var jb=La,Fb=F[$a];if(qa.isFunction(jb[$a]))jb[$a](Fb)}})):Gb.projectionProperties.forEach($a=>{if(F.modified($a)){var jb=La,Fb=F[$a];if(qa.isFunction(jb[$a]))jb[$a](Fb)}});null!=F.pointRadius&&La.path.pointRadius(F.pointRadius);F.fit&&wc(La,F);return ya.fork(ya.NO_SOURCE|
ya.NO_FIELDS)}});r.contour=xb;r.geojson=ob;r.geopath=Nb;r.geopoint=nb;r.geoshape=la;r.graticule=aa;r.heatmap=W;r.isocontour=Kb;r.kde2d=kb;r.projection=uc})};
shadow$provide[39]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(29),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega))})(this,function(r,g,qa){function hb(X,u,K,ua){if(isNaN(u)||isNaN(K))return X;var Ja,Wa=X._root;ua={data:ua};var ab=X._x0,W=X._y0,Ca=X._x1,Za=X._y1,Ib,xc,uc,wc,bd;if(!Wa)return X._root=
ua,X;for(;Wa.length;)if((uc=u>=(Ib=(ab+Ca)/2))?ab=Ib:Ca=Ib,(wc=K>=(xc=(W+Za)/2))?W=xc:Za=xc,Ja=Wa,!(Wa=Wa[bd=wc<<1|uc]))return Ja[bd]=ua,X;var Wb=+X._x.call(null,Wa.data);var Rc=+X._y.call(null,Wa.data);if(u===Wb&&K===Rc)return ua.next=Wa,Ja?Ja[bd]=ua:X._root=ua,X;do Ja=Ja?Ja[bd]=Array(4):X._root=Array(4),(uc=u>=(Ib=(ab+Ca)/2))?ab=Ib:Ca=Ib,(wc=K>=(xc=(W+Za)/2))?W=xc:Za=xc;while((bd=wc<<1|uc)===(uc=(Rc>=xc)<<1|Wb>=Ib));return Ja[uc]=Wa,Ja[bd]=ua,X}function Gb(X,u,K,ua,Ja){this.node=X;this.x0=u;this.y0=
K;this.x1=ua;this.y1=Ja}function $b(X){return X[0]}function oc(X){return X[1]}function kc(X,u,K){u=new yc(null==u?$b:u,null==K?oc:K,NaN,NaN,NaN,NaN);return null==X?u:u.addAll(X)}function yc(X,u,K,ua,Ja,Wa){this._x=X;this._y=u;this._x0=K;this._y0=ua;this._x1=Ja;this._y1=Wa;this._root=void 0}function Ab(X){for(var u={data:X.data},K=u;X=X.next;)K=K.next={data:X.data};return u}function gc(X){return function(){return X}}function rc(X){return X.x+X.vx}function Va(X){return X.y+X.vy}function qb(X){return X.index}
function Kb(X,u){X=X.get(u);if(!X)throw Error("node not found: "+u);return X}function Ob(){for(var X=0,u=arguments.length,K={},ua;X<u;++X){if(!(ua=arguments[X]+"")||ua in K||/[\s.]/.test(ua))throw Error("illegal type: "+ua);K[ua]=[]}return new Bb(K)}function Bb(X){this._=X}function Pb(X,u){return X.trim().split(/^|\s+/).map(function(K){var ua="",Ja=K.indexOf(".");0<=Ja&&(ua=K.slice(Ja+1),K=K.slice(0,Ja));if(K&&!u.hasOwnProperty(K))throw Error("unknown type: "+K);return{type:K,name:ua}})}function Ua(X,
u,K){for(var ua=0,Ja=X.length;ua<Ja;++ua)if(X[ua].name===u){X[ua]=cb;X=X.slice(0,ua).concat(X.slice(ua+1));break}null!=K&&X.push({name:u,value:K});return X}function pb(){v=0}function Oa(){this._call=this._time=this._next=null}function Da(X,u,K){var ua=new Oa;ua.restart(X,u,K);return ua}function Pa(){v=(f=C.now())+l;aa=ma=0;try{v||(B(pb),v=C.now()+l);++aa;for(var X=L,u;X;)0<=(u=v-X._time)&&X._call.call(void 0,u),X=X._next;--aa}finally{aa=0;X=L;for(var K=Infinity;X;)if(X._call){K>X._time&&(K=X._time);
var ua=X;X=X._next}else u=X._next,X._next=null,X=ua?ua._next=u:L=u;P=ua;lb(K);v=0}}function kb(){var X=C.now(),u=X-f;1E3<u&&(l-=u,f=X)}function lb(X){aa||(ma&&(ma=clearTimeout(ma)),24<X-v?(Infinity>X&&(ma=setTimeout(Pa,X-C.now()-l)),p&&(p=clearInterval(p))):(p||(f=C.now(),p=setInterval(kb,1E3)),aa=1,B(Pa)))}function Na(){let X=1;return()=>(X=(1664525*X+1013904223)%4294967296)/4294967296}function xb(X){return X.x}function ob(X){return X.y}function Nb(X){function u(){K();wc.call("tick",Wa);ab<W&&(uc.stop(),
wc.call("end",Wa))}function K(Wb){var Rc,Pd=X.length;void 0===Wb&&(Wb=1);for(var Ka=0;Ka<Wb;++Ka)for(ab+=(Za-ab)*Ca,xc.forEach(function(rb){rb(ab)}),Rc=0;Rc<Pd;++Rc){var Ub=X[Rc];null==Ub.fx?Ub.x+=Ub.vx*=Ib:(Ub.x=Ub.fx,Ub.vx=0);null==Ub.fy?Ub.y+=Ub.vy*=Ib:(Ub.y=Ub.fy,Ub.vy=0)}return Wa}function ua(){for(var Wb=0,Rc=X.length,Pd;Wb<Rc;++Wb){Pd=X[Wb];Pd.index=Wb;null!=Pd.fx&&(Pd.x=Pd.fx);null!=Pd.fy&&(Pd.y=Pd.fy);if(isNaN(Pd.x)||isNaN(Pd.y)){var Ka=10*Math.sqrt(.5+Wb),Ub=Wb*z;Pd.x=Ka*Math.cos(Ub);Pd.y=
Ka*Math.sin(Ub)}if(isNaN(Pd.vx)||isNaN(Pd.vy))Pd.vx=Pd.vy=0}}function Ja(Wb){Wb.initialize&&Wb.initialize(X,bd);return Wb}var Wa,ab=1,W=.001,Ca=1-Math.pow(W,1/300),Za=0,Ib=.6,xc=new Map,uc=Da(u),wc=Ob("tick","end"),bd=Na();null==X&&(X=[]);ua();return Wa={tick:K,restart:function(){return uc.restart(u),Wa},stop:function(){return uc.stop(),Wa},nodes:function(Wb){return arguments.length?(X=Wb,ua(),xc.forEach(Ja),Wa):X},alpha:function(Wb){return arguments.length?(ab=+Wb,Wa):ab},alphaMin:function(Wb){return arguments.length?
(W=+Wb,Wa):W},alphaDecay:function(Wb){return arguments.length?(Ca=+Wb,Wa):+Ca},alphaTarget:function(Wb){return arguments.length?(Za=+Wb,Wa):Za},velocityDecay:function(Wb){return arguments.length?(Ib=1-Wb,Wa):1-Ib},randomSource:function(Wb){return arguments.length?(bd=Wb,xc.forEach(Ja),Wa):bd},force:function(Wb,Rc){return 1<arguments.length?(null==Rc?xc.delete(Wb):xc.set(Wb,Ja(Rc)),Wa):xc.get(Wb)},find:function(Wb,Rc,Pd){var Ka,Ub=X.length;Pd=null==Pd?Infinity:Pd*Pd;for(Ka=0;Ka<Ub;++Ka){var rb=X[Ka];
var Sb=Wb-rb.x;var fc=Rc-rb.y;Sb=Sb*Sb+fc*fc;if(Sb<Pd){var bc=rb;Pd=Sb}}return bc},on:function(Wb,Rc){return 1<arguments.length?(wc.on(Wb,Rc),Wa):wc.on(Wb)}}}function Zb(X){g.Transform.call(this,null,X)}function nb(X,u){return()=>X.touch(u).run()}function la(X,u){X=Nb(X);const K=X.stop,ua=X.restart;let Ja=!1;X.stopped=()=>Ja;X.restart=()=>(Ja=!1,ua());X.stop=()=>(Ja=!0,K());return Y(X,u,!0).on("end",()=>Ja=!0)}function Y(X,u,K,ua){var Ja=qa.array(u.forces),Wa;var ab=0;for(Wa=G.length;ab<Wa;++ab){var W=
G[ab];if("forces"!==W&&u.modified(W))X[W](u[W])}ab=0;for(Wa=Ja.length;ab<Wa;++ab){var Ca="forces"+ab;if(K||u.modified("forces",ab)){W=void 0;var Za=Ja[ab];qa.hasOwnProperty(D,Za.force)||qa.error("Unrecognized force: "+Za.force);var Ib=D[Za.force]();for(W in Za)qa.isFunction(Ib[W])&&Ha(Ib[W],Za[W],Za);W=Ib}else{if(W=ua)a:{Ib=W=void 0;Za=Ja[ab];var xc=ua;for(Ib in Za)if(qa.isFunction(W=Za[Ib])&&xc.modified(qa.accessorFields(W))){W=1;break a}W=0}W=W?X.force(Ca):null}W&&X.force(Ca,W)}for(Wa=X.numForces||
0;ab<Wa;++ab)X.force("forces"+ab,null);X.numForces=Ja.length;return X}function Ha(X,u,K){X(qa.isFunction(u)?ua=>u(ua,K):u)}var Fa=kc.prototype=yc.prototype;Fa.copy=function(){var X=new yc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),u=this._root,K,ua;if(!u)return X;if(!u.length)return X._root=Ab(u),X;for(K=[{source:u,target:X._root=Array(4)}];u=K.pop();)for(var Ja=0;4>Ja;++Ja)if(ua=u.source[Ja])ua.length?K.push({source:ua,target:u.target[Ja]=Array(4)}):u.target[Ja]=Ab(ua);return X};Fa.add=
function(X){const u=+this._x.call(null,X),K=+this._y.call(null,X);return hb(this.cover(u,K),u,K,X)};Fa.addAll=function(X){var u,K,ua=X.length,Ja,Wa,ab=Array(ua),W=Array(ua),Ca=Infinity,Za=Infinity,Ib=-Infinity,xc=-Infinity;for(K=0;K<ua;++K)isNaN(Ja=+this._x.call(null,u=X[K]))||isNaN(Wa=+this._y.call(null,u))||(ab[K]=Ja,W[K]=Wa,Ja<Ca&&(Ca=Ja),Ja>Ib&&(Ib=Ja),Wa<Za&&(Za=Wa),Wa>xc&&(xc=Wa));if(Ca>Ib||Za>xc)return this;this.cover(Ca,Za).cover(Ib,xc);for(K=0;K<ua;++K)hb(this,ab[K],W[K],X[K]);return this};
Fa.cover=function(X,u){if(isNaN(X=+X)||isNaN(u=+u))return this;var K=this._x0,ua=this._y0,Ja=this._x1,Wa=this._y1;if(isNaN(K))Ja=(K=Math.floor(X))+1,Wa=(ua=Math.floor(u))+1;else{for(var ab=Ja-K||1,W=this._root,Ca,Za;K>X||X>=Ja||ua>u||u>=Wa;)switch(Za=(u<ua)<<1|X<K,Ca=Array(4),Ca[Za]=W,W=Ca,ab*=2,Za){case 0:Ja=K+ab;Wa=ua+ab;break;case 1:K=Ja-ab;Wa=ua+ab;break;case 2:Ja=K+ab;ua=Wa-ab;break;case 3:K=Ja-ab,ua=Wa-ab}this._root&&this._root.length&&(this._root=W)}this._x0=K;this._y0=ua;this._x1=Ja;this._y1=
Wa;return this};Fa.data=function(){var X=[];this.visit(function(u){if(!u.length){do X.push(u.data);while(u=u.next)}});return X};Fa.extent=function(X){return arguments.length?this.cover(+X[0][0],+X[0][1]).cover(+X[1][0],+X[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Fa.find=function(X,u,K){var ua=this._x0,Ja=this._y0,Wa,ab,W,Ca,Za=this._x1,Ib=this._y1,xc=[],uc=this._root,wc;uc&&xc.push(new Gb(uc,ua,Ja,Za,Ib));null==K?K=Infinity:(ua=X-K,Ja=u-K,Za=X+K,Ib=u+K,K*=K);for(;wc=
xc.pop();)if(!(!(uc=wc.node)||(Wa=wc.x0)>Za||(ab=wc.y0)>Ib||(W=wc.x1)<ua||(Ca=wc.y1)<Ja))if(uc.length){wc=(Wa+W)/2;var bd=(ab+Ca)/2;xc.push(new Gb(uc[3],wc,bd,W,Ca),new Gb(uc[2],Wa,bd,wc,Ca),new Gb(uc[1],wc,ab,W,bd),new Gb(uc[0],Wa,ab,wc,bd));if(uc=(u>=bd)<<1|X>=wc)wc=xc[xc.length-1],xc[xc.length-1]=xc[xc.length-1-uc],xc[xc.length-1-uc]=wc}else if(wc=X-+this._x.call(null,uc.data),bd=u-+this._y.call(null,uc.data),wc=wc*wc+bd*bd,wc<K){var Wb=Math.sqrt(K=wc);ua=X-Wb;Ja=u-Wb;Za=X+Wb;Ib=u+Wb;Wb=uc.data}return Wb};
Fa.remove=function(X){if(isNaN(Ca=+this._x.call(null,X))||isNaN(Za=+this._y.call(null,X)))return this;var u,K=this._root,ua,Ja=this._x0,Wa=this._y0,ab=this._x1,W=this._y1,Ca,Za,Ib,xc,uc,wc,bd;if(!K)return this;if(K.length)for(;;){(uc=Ca>=(Ib=(Ja+ab)/2))?Ja=Ib:ab=Ib;(wc=Za>=(xc=(Wa+W)/2))?Wa=xc:W=xc;if(!(u=K,K=K[bd=wc<<1|uc]))return this;if(!K.length)break;if(u[bd+1&3]||u[bd+2&3]||u[bd+3&3]){var Wb=u;var Rc=bd}}for(;K.data!==X;)if(!(ua=K,K=K.next))return this;(X=K.next)&&delete K.next;if(ua)return X?
ua.next=X:delete ua.next,this;if(!u)return this._root=X,this;X?u[bd]=X:delete u[bd];(K=u[0]||u[1]||u[2]||u[3])&&K===(u[3]||u[2]||u[1]||u[0])&&!K.length&&(Wb?Wb[Rc]=K:this._root=K);return this};Fa.removeAll=function(X){for(var u=0,K=X.length;u<K;++u)this.remove(X[u]);return this};Fa.root=function(){return this._root};Fa.size=function(){var X=0;this.visit(function(u){if(!u.length){do++X;while(u=u.next)}});return X};Fa.visit=function(X){var u=[],K,ua=this._root,Ja,Wa,ab,W,Ca;for(ua&&u.push(new Gb(ua,
this._x0,this._y0,this._x1,this._y1));K=u.pop();)if(!X(ua=K.node,Wa=K.x0,ab=K.y0,W=K.x1,Ca=K.y1)&&ua.length){K=(Wa+W)/2;var Za=(ab+Ca)/2;(Ja=ua[3])&&u.push(new Gb(Ja,K,Za,W,Ca));(Ja=ua[2])&&u.push(new Gb(Ja,Wa,Za,K,Ca));(Ja=ua[1])&&u.push(new Gb(Ja,K,ab,W,Za));(Ja=ua[0])&&u.push(new Gb(Ja,Wa,ab,K,Za))}return this};Fa.visitAfter=function(X){var u=[],K=[],ua;for(this._root&&u.push(new Gb(this._root,this._x0,this._y0,this._x1,this._y1));ua=u.pop();){var Ja=ua.node;if(Ja.length){var Wa,ab=ua.x0,W=ua.y0,
Ca=ua.x1,Za=ua.y1,Ib=(ab+Ca)/2,xc=(W+Za)/2;(Wa=Ja[0])&&u.push(new Gb(Wa,ab,W,Ib,xc));(Wa=Ja[1])&&u.push(new Gb(Wa,Ib,W,Ca,xc));(Wa=Ja[2])&&u.push(new Gb(Wa,ab,xc,Ib,Za));(Wa=Ja[3])&&u.push(new Gb(Wa,Ib,xc,Ca,Za))}K.push(ua)}for(;ua=K.pop();)X(ua.node,ua.x0,ua.y0,ua.x1,ua.y1);return this};Fa.x=function(X){return arguments.length?(this._x=X,this):this._x};Fa.y=function(X){return arguments.length?(this._y=X,this):this._y};var cb={value:()=>{}};Bb.prototype=Ob.prototype={constructor:Bb,on:function(X,
u){var K=this._,ua=Pb(X+"",K),Ja,Wa=-1,ab=ua.length;if(2>arguments.length)for(;++Wa<ab;){var W;if(W=Ja=(X=ua[Wa]).type){a:{W=K[Ja];for(var Ca=0,Za=W.length;Ca<Za;++Ca)if((Ja=W[Ca]).name===X.name){Ja=Ja.value;break a}Ja=void 0}W=Ja}if(W)return Ja}else{if(null!=u&&"function"!==typeof u)throw Error("invalid callback: "+u);for(;++Wa<ab;)if(Ja=(X=ua[Wa]).type)K[Ja]=Ua(K[Ja],X.name,u);else if(null==u)for(Ja in K)K[Ja]=Ua(K[Ja],X.name,null);return this}},copy:function(){var X={},u=this._,K;for(K in u)X[K]=
u[K].slice();return new Bb(X)},call:function(X,u){if(0<(Ja=arguments.length-2))for(var K=Array(Ja),ua=0,Ja,Wa;ua<Ja;++ua)K[ua]=arguments[ua+2];if(!this._.hasOwnProperty(X))throw Error("unknown type: "+X);Wa=this._[X];ua=0;for(Ja=Wa.length;ua<Ja;++ua)Wa[ua].value.apply(u,K)},apply:function(X,u,K){if(!this._.hasOwnProperty(X))throw Error("unknown type: "+X);X=this._[X];for(var ua=0,Ja=X.length;ua<Ja;++ua)X[ua].value.apply(u,K)}};var aa=0,ma=0,p=0,L,P,f=0,v=0,l=0,C="object"===typeof performance&&performance.now?
performance:Date,B="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(X){setTimeout(X,17)};Oa.prototype=Da.prototype={constructor:Oa,restart:function(X,u,K){if("function"!==typeof X)throw new TypeError("callback is not a function");K=(null==K?v||(B(pb),v=C.now()+l):+K)+(null==u?0:+u);this._next||P===this||(P?P._next=this:L=this,P=this);this._call=X;this._time=K;lb()},stop:function(){this._call&&(this._call=null,this._time=Infinity,lb())}};var z=
Math.PI*(3-Math.sqrt(5));const D={center:function(X,u){function K(){var Wa,ab=ua.length,W=0,Ca=0;for(Wa=0;Wa<ab;++Wa){var Za=ua[Wa];W+=Za.x;Ca+=Za.y}W=(W/ab-X)*Ja;Ca=(Ca/ab-u)*Ja;for(Wa=0;Wa<ab;++Wa)Za=ua[Wa],Za.x-=W,Za.y-=Ca}var ua,Ja=1;null==X&&(X=0);null==u&&(u=0);K.initialize=function(Wa){ua=Wa};K.x=function(Wa){return arguments.length?(X=+Wa,K):X};K.y=function(Wa){return arguments.length?(u=+Wa,K):u};K.strength=function(Wa){return arguments.length?(Ja=+Wa,K):Ja};return K},collide:function(X){function u(){function Za(Ub,
rb,Sb,fc,bc){var Hc=Ub.data;Ub=Ub.r;var zc=Rc+Ub;if(Hc)Hc.index>wc.index&&(rb=bd-Hc.x-Hc.vx,Sb=Wb-Hc.y-Hc.vy,fc=rb*rb+Sb*Sb,fc<zc*zc&&(0===rb&&(rb=1E-6*(ab()-.5),fc+=rb*rb),0===Sb&&(Sb=1E-6*(ab()-.5),fc+=Sb*Sb),fc=(zc-(fc=Math.sqrt(fc)))/fc*W,wc.vx+=(rb*=fc)*(zc=(Ub*=Ub)/(Pd+Ub)),wc.vy+=(Sb*=fc)*zc,Hc.vx-=rb*(zc=1-zc),Hc.vy-=Sb*zc));else return rb>bd+zc||fc<bd-zc||Sb>Wb+zc||bc<Wb-zc}for(var Ib,xc=Ja.length,uc,wc,bd,Wb,Rc,Pd,Ka=0;Ka<Ca;++Ka)for(uc=kc(Ja,rc,Va).visitAfter(K),Ib=0;Ib<xc;++Ib)wc=Ja[Ib],
Rc=Wa[wc.index],Pd=Rc*Rc,bd=wc.x+wc.vx,Wb=wc.y+wc.vy,uc.visit(Za)}function K(Za){if(Za.data)return Za.r=Wa[Za.data.index];for(var Ib=Za.r=0;4>Ib;++Ib)Za[Ib]&&Za[Ib].r>Za.r&&(Za.r=Za[Ib].r)}function ua(){if(Ja){var Za,Ib=Ja.length;Wa=Array(Ib);for(Za=0;Za<Ib;++Za){var xc=Ja[Za];Wa[xc.index]=+X(xc,Za,Ja)}}}var Ja,Wa,ab,W=1,Ca=1;"function"!==typeof X&&(X=gc(null==X?1:+X));u.initialize=function(Za,Ib){Ja=Za;ab=Ib;ua()};u.iterations=function(Za){return arguments.length?(Ca=+Za,u):Ca};u.strength=function(Za){return arguments.length?
(W=+Za,u):W};u.radius=function(Za){return arguments.length?(X="function"===typeof Za?Za:gc(+Za),ua(),u):X};return u},nbody:function(){function X(wc){var bd=Ja.length,Wb=kc(Ja,xb,ob).visitAfter(K);W=wc;for(wc=0;wc<bd;++wc)Wa=Ja[wc],Wb.visit(ua)}function u(){if(Ja){var wc,bd=Ja.length;Za=Array(bd);for(wc=0;wc<bd;++wc){var Wb=Ja[wc];Za[Wb.index]=+Ca(Wb,wc,Ja)}}}function K(wc){var bd=0,Wb,Rc,Pd=0,Ka,Ub,rb;if(wc.length){for(Ka=Ub=rb=0;4>rb;++rb)(Wb=wc[rb])&&(Rc=Math.abs(Wb.value))&&(bd+=Wb.value,Pd+=Rc,
Ka+=Rc*Wb.x,Ub+=Rc*Wb.y);wc.x=Ka/Pd;wc.y=Ub/Pd}else{Wb=wc;Wb.x=Wb.data.x;Wb.y=Wb.data.y;do bd+=Za[Wb.data.index];while(Wb=Wb.next)}wc.value=bd}function ua(wc,bd,Wb,Rc){if(!wc.value)return!0;Wb=wc.x-Wa.x;var Pd=wc.y-Wa.y;bd=Rc-bd;Rc=Wb*Wb+Pd*Pd;if(bd*bd/uc<Rc)return Rc<xc&&(0===Wb&&(Wb=1E-6*(ab()-.5),Rc+=Wb*Wb),0===Pd&&(Pd=1E-6*(ab()-.5),Rc+=Pd*Pd),Rc<Ib&&(Rc=Math.sqrt(Ib*Rc)),Wa.vx+=Wb*wc.value*W/Rc,Wa.vy+=Pd*wc.value*W/Rc),!0;if(!(wc.length||Rc>=xc)){if(wc.data!==Wa||wc.next)0===Wb&&(Wb=1E-6*(ab()-
.5),Rc+=Wb*Wb),0===Pd&&(Pd=1E-6*(ab()-.5),Rc+=Pd*Pd),Rc<Ib&&(Rc=Math.sqrt(Ib*Rc));do wc.data!==Wa&&(bd=Za[wc.data.index]*W/Rc,Wa.vx+=Wb*bd,Wa.vy+=Pd*bd);while(wc=wc.next)}}var Ja,Wa,ab,W,Ca=gc(-30),Za,Ib=1,xc=Infinity,uc=.81;X.initialize=function(wc,bd){Ja=wc;ab=bd;u()};X.strength=function(wc){return arguments.length?(Ca="function"===typeof wc?wc:gc(+wc),u(),X):Ca};X.distanceMin=function(wc){return arguments.length?(Ib=wc*wc,X):Math.sqrt(Ib)};X.distanceMax=function(wc){return arguments.length?(xc=
wc*wc,X):Math.sqrt(xc)};X.theta=function(wc){return arguments.length?(uc=wc*wc,X):Math.sqrt(uc)};return X},link:function(X){function u(Wb){for(var Rc=0,Pd=X.length;Rc<bd;++Rc)for(var Ka=0,Ub,rb,Sb,fc,bc;Ka<Pd;++Ka)Ub=X[Ka],rb=Ub.source,Ub=Ub.target,Sb=Ub.x+Ub.vx-rb.x-rb.vx||1E-6*(wc()-.5),fc=Ub.y+Ub.vy-rb.y-rb.vy||1E-6*(wc()-.5),bc=Math.sqrt(Sb*Sb+fc*fc),bc=(bc-Za[Ka])/bc*Wb*W[Ka],Sb*=bc,fc*=bc,Ub.vx-=Sb*(bc=uc[Ka]),Ub.vy-=fc*bc,rb.vx+=Sb*(bc=1-bc),rb.vy+=fc*bc}function K(){if(Ib){var Wb=Ib.length,
Rc=X.length,Pd=new Map(Ib.map((Ub,rb)=>[Wa(Ub,rb,Ib),Ub]));var Ka=0;for(xc=Array(Wb);Ka<Rc;++Ka)Wb=X[Ka],Wb.index=Ka,"object"!==typeof Wb.source&&(Wb.source=Kb(Pd,Wb.source)),"object"!==typeof Wb.target&&(Wb.target=Kb(Pd,Wb.target)),xc[Wb.source.index]=(xc[Wb.source.index]||0)+1,xc[Wb.target.index]=(xc[Wb.target.index]||0)+1;Ka=0;for(uc=Array(Rc);Ka<Rc;++Ka)Wb=X[Ka],uc[Ka]=xc[Wb.source.index]/(xc[Wb.source.index]+xc[Wb.target.index]);W=Array(Rc);ua();Za=Array(Rc);Ja()}}function ua(){if(Ib)for(var Wb=
0,Rc=X.length;Wb<Rc;++Wb)W[Wb]=+ab(X[Wb],Wb,X)}function Ja(){if(Ib)for(var Wb=0,Rc=X.length;Wb<Rc;++Wb)Za[Wb]=+Ca(X[Wb],Wb,X)}var Wa=qb,ab=function(Wb){return 1/Math.min(xc[Wb.source.index],xc[Wb.target.index])},W,Ca=gc(30),Za,Ib,xc,uc,wc,bd=1;null==X&&(X=[]);u.initialize=function(Wb,Rc){Ib=Wb;wc=Rc;K()};u.links=function(Wb){return arguments.length?(X=Wb,K(),u):X};u.id=function(Wb){return arguments.length?(Wa=Wb,u):Wa};u.iterations=function(Wb){return arguments.length?(bd=+Wb,u):bd};u.strength=function(Wb){return arguments.length?
(ab="function"===typeof Wb?Wb:gc(+Wb),ua(),u):ab};u.distance=function(Wb){return arguments.length?(Ca="function"===typeof Wb?Wb:gc(+Wb),Ja(),u):Ca};return u},x:function(X){function u(W){for(var Ca=0,Za=Ja.length,Ib;Ca<Za;++Ca)Ib=Ja[Ca],Ib.vx+=(ab[Ca]-Ib.x)*Wa[Ca]*W}function K(){if(Ja){var W,Ca=Ja.length;Wa=Array(Ca);ab=Array(Ca);for(W=0;W<Ca;++W)Wa[W]=isNaN(ab[W]=+X(Ja[W],W,Ja))?0:+ua(Ja[W],W,Ja)}}var ua=gc(.1),Ja,Wa,ab;"function"!==typeof X&&(X=gc(null==X?0:+X));u.initialize=function(W){Ja=W;K()};
u.strength=function(W){return arguments.length?(ua="function"===typeof W?W:gc(+W),K(),u):ua};u.x=function(W){return arguments.length?(X="function"===typeof W?W:gc(+W),K(),u):X};return u},y:function(X){function u(W){for(var Ca=0,Za=Ja.length,Ib;Ca<Za;++Ca)Ib=Ja[Ca],Ib.vy+=(ab[Ca]-Ib.y)*Wa[Ca]*W}function K(){if(Ja){var W,Ca=Ja.length;Wa=Array(Ca);ab=Array(Ca);for(W=0;W<Ca;++W)Wa[W]=isNaN(ab[W]=+X(Ja[W],W,Ja))?0:+ua(Ja[W],W,Ja)}}var ua=gc(.1),Ja,Wa,ab;"function"!==typeof X&&(X=gc(null==X?0:+X));u.initialize=
function(W){Ja=W;K()};u.strength=function(W){return arguments.length?(ua="function"===typeof W?W:gc(+W),K(),u):ua};u.y=function(W){return arguments.length?(X="function"===typeof W?W:gc(+W),K(),u):X};return u}},G=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],U=["static","iterations"],Aa=["x","y","vx","vy"];Zb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number",
"default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},
{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",
type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":Aa}]};qa.inherits(Zb,g.Transform,{transform(X,u){var K=this.value,ua=u.changed(u.ADD_REM),Ja=X.modified(G),Wa=X.iterations||300;K?(ua&&(u.modifies("index"),K.nodes(u.source)),(Ja||u.changed(u.MOD))&&Y(K,X,0,u)):(this.value=K=la(u.source,X),K.on("tick",nb(u.dataflow,this)),X.static||(ua=!0,K.tick()),u.modifies("index"));if(Ja||ua||X.modified(U)||
u.changed()&&X.restart)if(K.alpha(Math.max(K.alpha(),X.alpha||1)).alphaDecay(1-Math.pow(K.alphaMin(),1/Wa)),X.static)for(K.stop();0<=--Wa;)K.tick();else if(K.stopped()&&K.restart(),!ua)return u.StopPropagation;return this.finish(X,u)},finish(X,u){const K=u.dataflow;for(let W=this._argops,Ca=0,Za=W.length,Ib;Ca<Za;++Ca)if(Ib=W[Ca],"forces"===Ib.name&&"link"===Ib.op._argval.force)for(var ua=Ib.op._argops,Ja=0,Wa=ua.length,ab;Ja<Wa;++Ja)if("links"===ua[Ja].name&&(ab=ua[Ja].op.source)){K.pulse(ab,K.changeset().reflow());
break}return u.reflow(X.modified()).modifies(Aa)}});r.force=Zb})};
shadow$provide[40]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(29),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,qa){function hb(Ka,Ub,rb){const Sb={};Ka.each(fc=>{const bc=fc.data;rb(bc)&&(Sb[Ub(bc)]=fc)});Ka.lookup=Sb;return Ka}function Gb(Ka,Ub){return Ka.parent===Ub.parent?1:2}function $b(Ka,Ub){return Ka+
Ub.x}function oc(Ka,Ub){return Math.max(Ka,Ub.y)}function kc(Ka){for(var Ub;Ub=Ka.children;)Ka=Ub[0];return Ka}function yc(Ka){for(var Ub;Ub=Ka.children;)Ka=Ub[Ub.length-1];return Ka}function Ab(Ka){var Ub=0,rb=Ka.children,Sb=rb&&rb.length;if(Sb)for(;0<=--Sb;)Ub+=rb[Sb].value;else Ub=1;Ka.value=Ub}function gc(Ka,Ub){Ka instanceof Map?(Ka=[void 0,Ka],void 0===Ub&&(Ub=Va)):void 0===Ub&&(Ub=rc);Ka=new Ob(Ka);for(var rb,Sb=[Ka],fc,bc,Hc,zc;rb=Sb.pop();)if((bc=Ub(rb.data))&&(zc=(bc=Array.from(bc)).length))for(rb.children=
bc,Hc=zc-1;0<=Hc;--Hc)Sb.push(fc=bc[Hc]=new Ob(bc[Hc])),fc.parent=rb,fc.depth=rb.depth+1;return Ka.eachBefore(Kb)}function rc(Ka){return Ka.children}function Va(Ka){return Array.isArray(Ka)?Ka[1]:null}function qb(Ka){void 0!==Ka.data.value&&(Ka.value=Ka.data.value);Ka.data=Ka.data.data}function Kb(Ka){var Ub=0;do Ka.height=Ub;while((Ka=Ka.parent)&&Ka.height<++Ub)}function Ob(Ka){this.data=Ka;this.depth=this.height=0;this.parent=null}function Bb(Ka){if("function"!==typeof Ka)throw Error();return Ka}
function Pb(){return 0}function Ua(Ka){return function(){return Ka}}function pb(){let Ka=1;return()=>(Ka=(1664525*Ka+1013904223)%4294967296)/4294967296}function Oa(Ka,Ub){var rb=Ka.r-Ub.r,Sb=Ub.x-Ka.x;Ka=Ub.y-Ka.y;return 0>rb||rb*rb<Sb*Sb+Ka*Ka}function Da(Ka,Ub){var rb=Ka.r-Ub.r+1E-9*Math.max(Ka.r,Ub.r,1),Sb=Ub.x-Ka.x;Ka=Ub.y-Ka.y;return 0<rb&&rb*rb>Sb*Sb+Ka*Ka}function Pa(Ka,Ub){for(var rb=0;rb<Ub.length;++rb)if(!Da(Ka,Ub[rb]))return!1;return!0}function kb(Ka,Ub){var rb=Ka.x,Sb=Ka.y;Ka=Ka.r;var fc=
Ub.x,bc=Ub.y;Ub=Ub.r;var Hc=fc-rb,zc=bc-Sb,Yc=Ub-Ka,Md=Math.sqrt(Hc*Hc+zc*zc);return{x:(rb+fc+Hc/Md*Yc)/2,y:(Sb+bc+zc/Md*Yc)/2,r:(Md+Ka+Ub)/2}}function lb(Ka,Ub,rb){var Sb=Ka.x,fc=Ka.y;Ka=Ka.r;var bc=Ub.x,Hc=Ub.y,zc=Ub.r,Yc=rb.x,Md=rb.y,td=rb.r;rb=Sb-bc;Ub=Sb-Yc;var Ga=fc-Hc,gb=fc-Md,vb=zc-Ka,ra=td-Ka,F=Sb*Sb+fc*fc-Ka*Ka;Hc=F-bc*bc-Hc*Hc+zc*zc;Md=F-Yc*Yc-Md*Md+td*td;Yc=Ub*Ga-rb*gb;bc=(Ga*Md-gb*Hc)/(2*Yc)-Sb;Ga=(gb*vb-Ga*ra)/Yc;gb=(Ub*Hc-rb*Md)/(2*Yc)-fc;rb=(rb*ra-Ub*vb)/Yc;Ub=Ga*Ga+rb*rb-1;vb=2*(Ka+
bc*Ga+gb*rb);Ka=bc*bc+gb*gb-Ka*Ka;Ka=-(1E-6<Math.abs(Ub)?(vb+Math.sqrt(vb*vb-4*Ub*Ka))/(2*Ub):Ka/vb);return{x:Sb+bc+Ga*Ka,y:fc+gb+rb*Ka,r:Ka}}function Na(Ka,Ub,rb){var Sb=Ka.x-Ub.x,fc=Ka.y-Ub.y,bc=Sb*Sb+fc*fc;if(bc){var Hc=Ub.r+rb.r;Hc*=Hc;var zc=Ka.r+rb.r;zc*=zc;if(Hc>zc){var Yc=(bc+zc-Hc)/(2*bc);Hc=Math.sqrt(Math.max(0,zc/bc-Yc*Yc));rb.x=Ka.x-Yc*Sb-Hc*fc;rb.y=Ka.y-Yc*fc+Hc*Sb}else Yc=(bc+Hc-zc)/(2*bc),Hc=Math.sqrt(Math.max(0,Hc/bc-Yc*Yc)),rb.x=Ub.x+Yc*Sb-Hc*fc,rb.y=Ub.y+Yc*fc+Hc*Sb}else rb.x=Ub.x+
rb.r,rb.y=Ub.y}function xb(Ka,Ub){var rb=Ka.r+Ub.r-1E-6,Sb=Ub.x-Ka.x;Ka=Ub.y-Ka.y;return 0<rb&&rb*rb>Sb*Sb+Ka*Ka}function ob(Ka){var Ub=Ka._,rb=Ka.next._,Sb=Ub.r+rb.r;Ka=(Ub.x*rb.r+rb.x*Ub.r)/Sb;Ub=(Ub.y*rb.r+rb.y*Ub.r)/Sb;return Ka*Ka+Ub*Ub}function Nb(Ka){this._=Ka;this.previous=this.next=null}function Zb(Ka,Ub){if(!(Sb=(Ka="object"===typeof Ka&&"length"in Ka?Ka:Array.from(Ka)).length))return 0;var rb,Sb;var fc=Ka[0];fc.x=0;fc.y=0;if(!(1<Sb))return fc.r;var bc=Ka[1];fc.x=-bc.r;bc.x=fc.r;bc.y=0;
if(!(2<Sb))return fc.r+bc.r;Na(bc,fc,rb=Ka[2]);fc=new Nb(fc);bc=new Nb(bc);rb=new Nb(rb);fc.next=rb.previous=bc;bc.next=fc.previous=rb;rb.next=bc.previous=fc;var Hc=3;a:for(;Hc<Sb;++Hc){Na(fc._,bc._,rb=Ka[Hc]);rb=new Nb(rb);var zc=bc.next;var Yc=fc.previous;var Md=bc._.r;var td=fc._.r;do if(Md<=td){if(xb(zc._,rb._)){bc=zc;fc.next=bc;bc.previous=fc;--Hc;continue a}Md+=zc._.r;zc=zc.next}else{if(xb(Yc._,rb._)){fc=Yc;fc.next=bc;bc.previous=fc;--Hc;continue a}td+=Yc._.r;Yc=Yc.previous}while(zc!==Yc.next);
rb.previous=fc;rb.next=bc;fc.next=bc.previous=bc=rb;for(zc=ob(fc);(rb=rb.next)!==bc;)(Yc=ob(rb))<zc&&(fc=rb,zc=Yc);bc=fc.next}fc=[bc._];for(rb=bc;(rb=rb.next)!==bc;)fc.push(rb._);bc=0;fc=Array.from(fc);for(rb=fc.length;rb;)zc=Ub()*rb--|0,Hc=fc[rb],fc[rb]=fc[zc],fc[zc]=Hc;fc=(Ub=fc).length;rb=[];for(var Ga;bc<fc;)if(Hc=Ub[bc],Ga&&Da(Ga,Hc))++bc;else{a:if(Ga=rb,Pa(Hc,Ga))Ga=[Hc];else{for(rb=0;rb<Ga.length;++rb)if(Oa(Hc,Ga[rb])&&Pa(kb(Ga[rb],Hc),Ga)){Ga=[Ga[rb],Hc];break a}for(rb=0;rb<Ga.length-1;++rb)for(bc=
rb+1;bc<Ga.length;++bc)if(Oa(kb(Ga[rb],Ga[bc]),Hc)&&Oa(kb(Ga[rb],Hc),Ga[bc])&&Oa(kb(Ga[bc],Hc),Ga[rb])&&Pa(lb(Ga[rb],Ga[bc],Hc),Ga)){Ga=[Ga[rb],Ga[bc],Hc];break a}throw Error();}a:{Ga=rb=Ga;switch(Ga.length){case 1:Ga=Ga[0];Ga={x:Ga.x,y:Ga.y,r:Ga.r};break a;case 2:Ga=kb(Ga[0],Ga[1]);break a;case 3:Ga=lb(Ga[0],Ga[1],Ga[2]);break a}Ga=void 0}bc=0}rb=Ga;for(Hc=0;Hc<Sb;++Hc)fc=Ka[Hc],fc.x-=rb.x,fc.y-=rb.y;return rb.r}function nb(Ka){return Math.sqrt(Ka.value)}function la(Ka){return function(Ub){Ub.children||
(Ub.r=Math.max(0,+Ka(Ub)||0))}}function Y(Ka,Ub,rb){return function(Sb){if(fc=Sb.children){var fc,bc,Hc=fc.length,zc=Ka(Sb)*Ub||0;if(zc)for(bc=0;bc<Hc;++bc)fc[bc].r+=zc;var Yc=Zb(fc,rb);if(zc)for(bc=0;bc<Hc;++bc)fc[bc].r-=zc;Sb.r=Yc+zc}}}function Ha(Ka){return function(Ub){var rb=Ub.parent;Ub.r*=Ka;rb&&(Ub.x=rb.x+Ka*Ub.x,Ub.y=rb.y+Ka*Ub.y)}}function Fa(Ka){Ka.x0=Math.round(Ka.x0);Ka.y0=Math.round(Ka.y0);Ka.x1=Math.round(Ka.x1);Ka.y1=Math.round(Ka.y1)}function cb(Ka,Ub,rb,Sb,fc){var bc=Ka.children,
Hc=-1,zc=bc.length;for(Sb=Ka.value&&(Sb-Ub)/Ka.value;++Hc<zc;)Ka=bc[Hc],Ka.y0=rb,Ka.y1=fc,Ka.x0=Ub,Ka.x1=Ub+=Ka.value*Sb}function aa(Ka){return Ka.id}function ma(Ka){return Ka.parentId}function p(){function Ka(fc){var bc=Array.from(fc),Hc=Ub,zc=rb,Yc,Md,td=new Map;if(null!=Sb){const ya=bc.map(($a,jb)=>{$a=Sb($a,jb,fc);$a=`${$a}`;jb=$a.length;P($a,jb-1)&&!P($a,jb-2)&&($a=$a.slice(0,-1));return"/"===$a[0]?$a:`/${$a}`}),La=ya.map(L);Hc=(new Set(ya)).add("");for(vb of La)Hc.has(vb)||(Hc.add(vb),ya.push(vb),
La.push(L(vb)),bc.push(Ib));Hc=($a,jb)=>ya[jb];zc=($a,jb)=>La[jb]}var Ga=0;for(Yc=bc.length;Ga<Yc;++Ga){var gb=bc[Ga];var vb=bc[Ga]=new Ob(gb);if(null!=(Md=Hc(gb,Ga,fc))&&(Md+="")){var ra=vb.id=Md;td.set(ra,td.has(ra)?Za:vb)}null!=(Md=zc(gb,Ga,fc))&&(Md+="")&&(vb.parent=Md)}for(Ga=0;Ga<Yc;++Ga)if(vb=bc[Ga],Md=vb.parent){Hc=td.get(Md);if(!Hc)throw Error("missing: "+Md);if(Hc===Za)throw Error("ambiguous: "+Md);Hc.children?Hc.children.push(vb):Hc.children=[vb];vb.parent=Hc}else{if(F)throw Error("multiple roots");
var F=vb}if(!F)throw Error("no root");if(null!=Sb){for(;F.data===Ib&&1===F.children.length;)F=F.children[0],--Yc;for(Md=bc.length-1;0<=Md;--Md){vb=bc[Md];if(vb.data!==Ib)break;vb.data=null}}F.parent=Ca;F.eachBefore(function(ya){ya.depth=ya.parent.depth+1;--Yc}).eachBefore(Kb);F.parent=null;if(0<Yc)throw Error("cycle");return F}var Ub=aa,rb=ma,Sb;Ka.id=function(fc){return arguments.length?(Ub=null==fc?null:Bb(fc),Ka):Ub};Ka.parentId=function(fc){return arguments.length?(rb=null==fc?null:Bb(fc),Ka):
rb};Ka.path=function(fc){return arguments.length?(Sb=null==fc?null:Bb(fc),Ka):Sb};return Ka}function L(Ka){let Ub=Ka.length;if(2>Ub)return"";for(;1<--Ub&&!P(Ka,Ub););return Ka.slice(0,Ub)}function P(Ka,Ub){if("/"===Ka[Ub]){let rb=0;for(;0<Ub&&"\\"===Ka[--Ub];)++rb;if(0===(rb&1))return!0}return!1}function f(Ka,Ub){return Ka.parent===Ub.parent?1:2}function v(Ka){var Ub=Ka.children;return Ub?Ub[0]:Ka.t}function l(Ka){var Ub=Ka.children;return Ub?Ub[Ub.length-1]:Ka.t}function C(Ka,Ub){this._=Ka;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Ub}function B(Ka){Ka=new C(Ka,0);for(var Ub,rb=[Ka],Sb,fc,bc;Ub=rb.pop();)if(fc=Ub._.children)for(Ub.children=Array(Sb=fc.length),bc=Sb-1;0<=bc;--bc)rb.push(Sb=Ub.children[bc]=new C(fc[bc],bc)),Sb.parent=Ub;(Ka.parent=new C(null,0)).children=[Ka];return Ka}function z(Ka,Ub,rb,Sb,fc){var bc=Ka.children,Hc=-1,zc=bc.length;for(fc=Ka.value&&(fc-rb)/Ka.value;++Hc<zc;)Ka=bc[Hc],Ka.x0=Ub,Ka.x1=Sb,Ka.y0=rb,Ka.y1=rb+=
Ka.value*fc}function D(Ka,Ub,rb,Sb,fc,bc){for(var Hc=[],zc=Ub.children,Yc,Md,td=Yc=0,Ga=zc.length,gb,vb=Ub.value,ra,F,ya,La,$a,jb;Yc<Ga;){Ub=fc-rb;gb=bc-Sb;do ra=zc[td++].value;while(!ra&&td<Ga);F=ya=ra;jb=Math.max(gb/Ub,Ub/gb)/(vb*Ka);La=ra*ra*jb;for($a=Math.max(ya/La,La/F);td<Ga;++td){ra+=Md=zc[td].value;Md<F&&(F=Md);Md>ya&&(ya=Md);La=ra*ra*jb;La=Math.max(ya/La,La/F);if(La>$a){ra-=Md;break}$a=La}Hc.push(Yc={value:ra,dice:Ub<gb,children:zc.slice(Yc,td)});Yc.dice?cb(Yc,rb,Sb,fc,vb?Sb+=gb*ra/vb:bc):
z(Yc,rb,Sb,vb?rb+=Ub*ra/vb:fc,bc);vb-=ra;Yc=td}return Hc}function G(){function Ka(gb){gb.x0=gb.y0=0;gb.x1=fc;gb.y1=bc;gb.eachBefore(Ub);Hc=[0];Sb&&gb.eachBefore(Fa);return gb}function Ub(gb){var vb=Hc[gb.depth],ra=gb.x0+vb,F=gb.y0+vb,ya=gb.x1-vb,La=gb.y1-vb;ya<ra&&(ra=ya=(ra+ya)/2);La<F&&(F=La=(F+La)/2);gb.x0=ra;gb.y0=F;gb.x1=ya;gb.y1=La;gb.children&&(vb=Hc[gb.depth+1]=zc(gb)/2,ra+=Ga(gb)-vb,F+=Yc(gb)-vb,ya-=Md(gb)-vb,La-=td(gb)-vb,ya<ra&&(ra=ya=(ra+ya)/2),La<F&&(F=La=(F+La)/2),rb(gb,ra,F,ya,La))}
var rb=uc,Sb=!1,fc=1,bc=1,Hc=[0],zc=Pb,Yc=Pb,Md=Pb,td=Pb,Ga=Pb;Ka.round=function(gb){return arguments.length?(Sb=!!gb,Ka):Sb};Ka.size=function(gb){return arguments.length?(fc=+gb[0],bc=+gb[1],Ka):[fc,bc]};Ka.tile=function(gb){return arguments.length?(rb=Bb(gb),Ka):rb};Ka.padding=function(gb){return arguments.length?Ka.paddingInner(gb).paddingOuter(gb):Ka.paddingInner()};Ka.paddingInner=function(gb){return arguments.length?(zc="function"===typeof gb?gb:Ua(+gb),Ka):zc};Ka.paddingOuter=function(gb){return arguments.length?
Ka.paddingTop(gb).paddingRight(gb).paddingBottom(gb).paddingLeft(gb):Ka.paddingTop()};Ka.paddingTop=function(gb){return arguments.length?(Yc="function"===typeof gb?gb:Ua(+gb),Ka):Yc};Ka.paddingRight=function(gb){return arguments.length?(Md="function"===typeof gb?gb:Ua(+gb),Ka):Md};Ka.paddingBottom=function(gb){return arguments.length?(td="function"===typeof gb?gb:Ua(+gb),Ka):td};Ka.paddingLeft=function(gb){return arguments.length?(Ga="function"===typeof gb?gb:Ua(+gb),Ka):Ga};return Ka}function U(Ka){g.Transform.call(this,
null,Ka)}function Aa(){function Ka(fc,bc){if(bc>=rb.length)return fc;const Hc=fc.length,zc=rb[bc++],Yc={},Md={};let td=-1,Ga,gb,vb;for(;++td<Hc;)Ga=zc(gb=fc[td])+"",(vb=Yc[Ga])?vb.push(gb):Yc[Ga]=[gb];for(Ga in Yc)Md[Ga]=Ka(Yc[Ga],bc);return Md}function Ub(fc,bc){if(++bc>rb.length)return fc;const Hc=[];for(const zc in fc)Hc.push({key:zc,values:Ub(fc[zc],bc)});return Hc}const rb=[],Sb={entries:fc=>Ub(Ka(fc,0),0),key:fc=>(rb.push(fc),Sb)};return Sb}function X(Ka){g.Transform.call(this,null,Ka)}function u(Ka,
Ub,rb){for(let Sb,fc=0,bc=Ub.length;fc<bc;++fc)if(Sb=Ub[fc],Sb in rb)Ka[Sb](rb[Sb])}function K(Ka){X.call(this,Ka)}function ua(Ka){X.call(this,Ka)}function Ja(Ka){g.Transform.call(this,null,Ka)}function Wa(Ka){X.call(this,Ka)}function ab(Ka){g.Transform.call(this,[],Ka)}function W(Ka){X.call(this,Ka)}Ob.prototype=gc.prototype={constructor:Ob,count:function(){return this.eachAfter(Ab)},each:function(Ka,Ub){let rb=-1;for(const Sb of this)Ka.call(Ub,Sb,++rb,this);return this},eachAfter:function(Ka,Ub){for(var rb,
Sb=[this],fc=[],bc,Hc,zc=-1;rb=Sb.pop();)if(fc.push(rb),rb=rb.children)for(bc=0,Hc=rb.length;bc<Hc;++bc)Sb.push(rb[bc]);for(;rb=fc.pop();)Ka.call(Ub,rb,++zc,this);return this},eachBefore:function(Ka,Ub){for(var rb,Sb=[this],fc,bc=-1;rb=Sb.pop();)if(Ka.call(Ub,rb,++bc,this),rb=rb.children)for(fc=rb.length-1;0<=fc;--fc)Sb.push(rb[fc]);return this},find:function(Ka,Ub){let rb=-1;for(const Sb of this)if(Ka.call(Ub,Sb,++rb,this))return Sb},sum:function(Ka){return this.eachAfter(function(Ub){for(var rb=
+Ka(Ub.data)||0,Sb=Ub.children,fc=Sb&&Sb.length;0<=--fc;)rb+=Sb[fc].value;Ub.value=rb})},sort:function(Ka){return this.eachBefore(function(Ub){Ub.children&&Ub.children.sort(Ka)})},path:function(Ka){var Ub=this;var rb=Ub;var Sb=Ka;if(rb!==Sb){var fc=rb.ancestors(),bc=Sb.ancestors(),Hc=null;rb=fc.pop();for(Sb=bc.pop();rb===Sb;)Hc=rb,rb=fc.pop(),Sb=bc.pop();rb=Hc}for(Sb=[Ub];Ub!==rb;)Ub=Ub.parent,Sb.push(Ub);for(Ub=Sb.length;Ka!==rb;)Sb.splice(Ub,0,Ka),Ka=Ka.parent;return Sb},ancestors:function(){for(var Ka=
this,Ub=[Ka];Ka=Ka.parent;)Ub.push(Ka);return Ub},descendants:function(){return Array.from(this)},leaves:function(){var Ka=[];this.eachBefore(function(Ub){Ub.children||Ka.push(Ub)});return Ka},links:function(){var Ka=this,Ub=[];Ka.each(function(rb){rb!==Ka&&Ub.push({source:rb.parent,target:rb})});return Ub},copy:function(){return gc(this).eachBefore(qb)},[Symbol.iterator]:function*(){var Ka,Ub=[this],rb;do{var Sb=Ub.reverse();for(Ub=[];Ka=Sb.pop();)if(yield Ka,Ka=Ka.children){var fc=0;for(rb=Ka.length;fc<
rb;++fc)Ub.push(Ka[fc])}}while(Ub.length)}};var Ca={depth:-1},Za={},Ib={};C.prototype=Object.create(Ob.prototype);var xc=(1+Math.sqrt(5))/2,uc=function rb(Ub){function Sb(fc,bc,Hc,zc,Yc){D(Ub,fc,bc,Hc,zc,Yc)}Sb.ratio=function(fc){return rb(1<(fc=+fc)?fc:1)};return Sb}(xc);xc=function Sb(rb){function fc(bc,Hc,zc,Yc,Md){if((td=bc._squarify)&&td.ratio===rb)for(var td,Ga,gb,vb=-1,ra,F=td.length,ya=bc.value;++vb<F;){bc=td[vb];Ga=bc.children;gb=bc.value=0;for(ra=Ga.length;gb<ra;++gb)bc.value+=Ga[gb].value;
bc.dice?cb(bc,Hc,zc,Yc,ya?zc+=(Md-zc)*bc.value/ya:Md):z(bc,Hc,zc,ya?Hc+=(Yc-Hc)*bc.value/ya:Yc,Md);ya-=bc.value}else bc._squarify=td=D(rb,bc,Hc,zc,Yc,Md),td.ratio=rb}fc.ratio=function(bc){return Sb(1<(bc=+bc)?bc:1)};return fc}(xc);U.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const wc=rb=>rb.values;qa.inherits(U,g.Transform,{transform(rb,Sb){Sb.source||qa.error("Nest transform requires an upstream data source.");
var fc=rb.generate,bc=rb.modified(),Hc=Sb.clone(),zc=this.value;if(!zc||bc||Sb.changed())zc&&zc.each(Yc=>{Yc.children&&g.isTuple(Yc.data)&&Hc.rem.push(Yc.data)}),this.value=zc=gc({values:qa.array(rb.keys).reduce((Yc,Md)=>{Yc.key(Md);return Yc},Aa()).entries(Hc.source)},wc),fc&&zc.each(Yc=>{Yc.children&&(Yc=g.ingest(Yc.data),Hc.add.push(Yc),Hc.source.push(Yc))}),hb(zc,g.tupleid,g.tupleid);Hc.source.root=zc;return Hc}});const bd=(rb,Sb)=>rb.parent===Sb.parent?1:2;qa.inherits(X,g.Transform,{transform(rb,
Sb){Sb.source&&Sb.source.root||qa.error(this.constructor.name+" transform requires a backing tree data source.");const fc=this.layout(rb.method),bc=this.fields,Hc=Sb.source.root,zc=rb.as||bc;rb.field?Hc.sum(rb.field):Hc.count();rb.sort&&Hc.sort(g.stableCompare(rb.sort,Yc=>Yc.data));u(fc,this.params,rb);fc.separation&&fc.separation(!1!==rb.separation?bd:qa.one);try{this.value=fc(Hc)}catch(Yc){qa.error(Yc)}Hc.each(Yc=>{const Md=Yc.data,td=bc.length-1;for(let Ga=0;Ga<td;++Ga)Md[zc[Ga]]=Yc[bc[Ga]];Md[zc[td]]=
Yc.children?Yc.children.length:0});return Sb.reflow(rb.modified()).modifies(zc).modifies("leaf")}});var Wb=["x","y","r","depth","children"];K.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Wb.length,"default":Wb}]};qa.inherits(K,X,{layout:function(){function rb(zc){const Yc=
pb();zc.x=fc/2;zc.y=bc/2;Sb?zc.eachBefore(la(Sb)).eachAfter(Y(Hc,.5,Yc)).eachBefore(Ha(1)):zc.eachBefore(la(nb)).eachAfter(Y(Pb,1,Yc)).eachAfter(Y(Hc,zc.r/Math.min(fc,bc),Yc)).eachBefore(Ha(Math.min(fc,bc)/(2*zc.r)));return zc}var Sb=null,fc=1,bc=1,Hc=Pb;rb.radius=function(zc){return arguments.length?(Sb=null==zc?null:Bb(zc),rb):Sb};rb.size=function(zc){return arguments.length?(fc=+zc[0],bc=+zc[1],rb):[fc,bc]};rb.padding=function(zc){return arguments.length?(Hc="function"===typeof zc?zc:Ua(+zc),rb):
Hc};return rb},params:["radius","size","padding"],fields:Wb});Wb="x0 y0 x1 y1 depth children".split(" ");ua.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Wb.length,"default":Wb}]};qa.inherits(ua,X,{layout:function(){function rb(Yc){var Md=Yc.height+
1;Yc.x0=Yc.y0=Hc;Yc.x1=fc;Yc.y1=bc/Md;Yc.eachBefore(Sb(bc,Md));zc&&Yc.eachBefore(Fa);return Yc}function Sb(Yc,Md){return function(td){td.children&&cb(td,td.x0,Yc*(td.depth+1)/Md,td.x1,Yc*(td.depth+2)/Md);var Ga=td.x0,gb=td.y0,vb=td.x1-Hc,ra=td.y1-Hc;vb<Ga&&(Ga=vb=(Ga+vb)/2);ra<gb&&(gb=ra=(gb+ra)/2);td.x0=Ga;td.y0=gb;td.x1=vb;td.y1=ra}}var fc=1,bc=1,Hc=0,zc=!1;rb.round=function(Yc){return arguments.length?(zc=!!Yc,rb):zc};rb.size=function(Yc){return arguments.length?(fc=+Yc[0],bc=+Yc[1],rb):[fc,bc]};
rb.padding=function(Yc){return arguments.length?(Hc=+Yc,rb):Hc};return rb},params:["size","round","padding"],fields:Wb});Ja.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};qa.inherits(Ja,g.Transform,{transform(rb,Sb){Sb.source||qa.error("Stratify transform requires an upstream data source.");let fc=this.value;const bc=rb.modified(),Hc=Sb.fork(Sb.ALL).materialize(Sb.SOURCE);Sb=!fc||bc||Sb.changed(Sb.ADD_REM)||
Sb.modified(rb.key.fields)||Sb.modified(rb.parentKey.fields);Hc.source=Hc.source.slice();Sb&&(fc=Hc.source.length?hb(p().id(rb.key).parentId(rb.parentKey)(Hc.source),rb.key,qa.truthy):hb(p()([{}]),rb.key,rb.key));Hc.source.root=this.value=fc;return Hc}});const Rc={tidy:function(){function rb(td){var Ga=B(td);Ga.eachAfter(Sb);Ga.parent.m=-Ga.z;Ga.eachBefore(fc);if(Md)td.eachBefore(bc);else{var gb=td,vb=td,ra=td;td.eachBefore(function($a){$a.x<gb.x&&(gb=$a);$a.x>vb.x&&(vb=$a);$a.depth>ra.depth&&(ra=
$a)});Ga=gb===vb?1:Hc(gb,vb)/2;var F=Ga-gb.x,ya=zc/(vb.x+Ga+F),La=Yc/(ra.depth||1);td.eachBefore(function($a){$a.x=($a.x+F)*ya;$a.y=$a.depth*La})}return td}function Sb(td){var Ga=td.children,gb=td.parent.children,vb=td.i?gb[td.i-1]:null;if(Ga){for(var ra=0,F=0,ya=td.children,La=ya.length,$a;0<=--La;)$a=ya[La],$a.z+=ra,$a.m+=ra,ra+=$a.s+(F+=$a.c);Ga=(Ga[0].z+Ga[Ga.length-1].z)/2;vb?(td.z=vb.z+Hc(td._,vb._),td.m=td.z-Ga):td.z=Ga}else vb&&(td.z=vb.z+Hc(td._,vb._));Ga=td.parent;gb=td.parent.A||gb[0];
if(vb){F=ra=td;ya=ra.parent.children[0];La=ra.m;$a=F.m;for(var jb=vb.m,Fb=ya.m,nc;vb=l(vb),ra=v(ra),vb&&ra;){ya=v(ya);F=l(F);F.a=td;nc=vb.z+jb-ra.z-La+Hc(vb._,ra._);if(0<nc){var dc=vb.a.parent===td.parent?vb.a:gb,ic=td,Uc=nc,cd=Uc/(ic.i-dc.i);ic.c-=cd;ic.s+=Uc;dc.c+=cd;ic.z+=Uc;ic.m+=Uc;La+=nc;$a+=nc}jb+=vb.m;La+=ra.m;Fb+=ya.m;$a+=F.m}vb&&!l(F)&&(F.t=vb,F.m+=jb-$a);ra&&!v(ya)&&(ya.t=ra,ya.m+=La-Fb,gb=td)}Ga.A=gb}function fc(td){td._.x=td.z+td.parent.m;td.m+=td.parent.m}function bc(td){td.x*=zc;td.y=
td.depth*Yc}var Hc=f,zc=1,Yc=1,Md=null;rb.separation=function(td){return arguments.length?(Hc=td,rb):Hc};rb.size=function(td){return arguments.length?(Md=!1,zc=+td[0],Yc=+td[1],rb):Md?null:[zc,Yc]};rb.nodeSize=function(td){return arguments.length?(Md=!0,zc=+td[0],Yc=+td[1],rb):Md?[zc,Yc]:null};return rb},cluster:function(){function rb(zc){var Yc,Md=0;zc.eachAfter(function(ra){var F=ra.children;if(F){var ya=F.reduce($b,0)/F.length;ra.x=ya;ra.y=1+F.reduce(oc,0)}else ra.x=Yc?Md+=Sb(ra,Yc):0,ra.y=0,Yc=
ra});var td=kc(zc),Ga=yc(zc),gb=td.x-Sb(td,Ga)/2,vb=Ga.x+Sb(Ga,td)/2;return zc.eachAfter(Hc?function(ra){ra.x=(ra.x-zc.x)*fc;ra.y=(zc.y-ra.y)*bc}:function(ra){ra.x=(ra.x-gb)/(vb-gb)*fc;ra.y=(1-(zc.y?ra.y/zc.y:1))*bc})}var Sb=Gb,fc=1,bc=1,Hc=!1;rb.separation=function(zc){return arguments.length?(Sb=zc,rb):Sb};rb.size=function(zc){return arguments.length?(Hc=!1,fc=+zc[0],bc=+zc[1],rb):Hc?null:[fc,bc]};rb.nodeSize=function(zc){return arguments.length?(Hc=!0,fc=+zc[0],bc=+zc[1],rb):Hc?[fc,bc]:null};return rb}};
Wb=["x","y","depth","children"];Wa.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Wb.length,"default":Wb}]};qa.inherits(Wa,X,{layout(rb){rb=rb||"tidy";if(qa.hasOwnProperty(Rc,
rb))return Rc[rb]();qa.error("Unrecognized Tree layout method: "+rb)},params:["size","nodeSize"],fields:Wb});ab.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};qa.inherits(ab,g.Transform,{transform(rb,Sb){rb=this.value;const fc=Sb.source&&Sb.source.root,bc=Sb.fork(Sb.NO_SOURCE),Hc={};fc||qa.error("TreeLinks transform requires a tree data source.");Sb.changed(Sb.ADD_REM)?(bc.rem=rb,Sb.visit(Sb.SOURCE,zc=>Hc[g.tupleid(zc)]=1),fc.each(zc=>{const Yc=zc.data;(zc=zc.parent&&
zc.parent.data)&&Hc[g.tupleid(Yc)]&&Hc[g.tupleid(zc)]&&bc.add.push(g.ingest({source:zc,target:Yc}))}),this.value=bc.add):Sb.changed(Sb.MOD)&&(Sb.visit(Sb.MOD,zc=>Hc[g.tupleid(zc)]=1),rb.forEach(zc=>{(Hc[g.tupleid(zc.source)]||Hc[g.tupleid(zc.target)])&&bc.mod.push(zc)}));return bc}});const Pd={binary:function(rb,Sb,fc,bc,Hc){function zc(vb,ra,F,ya,La,$a,jb){if(vb>=ra-1)vb=Yc[vb],vb.x0=ya,vb.y0=La,vb.x1=$a,vb.y1=jb;else{for(var Fb=gb[vb],nc=F/2+Fb,dc=vb+1,ic=ra-1;dc<ic;){var Uc=dc+ic>>>1;gb[Uc]<nc?
dc=Uc+1:ic=Uc}nc-gb[dc-1]<gb[dc]-nc&&vb+1<dc&&--dc;Fb=gb[dc]-Fb;nc=F-Fb;$a-ya>jb-La?(F=F?(ya*nc+$a*Fb)/F:$a,zc(vb,dc,Fb,ya,La,F,jb),zc(dc,ra,nc,F,La,$a,jb)):(F=F?(La*nc+jb*Fb)/F:jb,zc(vb,dc,Fb,ya,La,$a,F),zc(dc,ra,nc,ya,F,$a,jb))}}var Yc=rb.children,Md,td=Yc.length,Ga,gb=Array(td+1);for(gb[0]=Ga=Md=0;Md<td;++Md)gb[Md+1]=Ga+=Yc[Md].value;zc(0,td,rb.value,Sb,fc,bc,Hc)},dice:cb,slice:z,slicedice:function(rb,Sb,fc,bc,Hc){(rb.depth&1?z:cb)(rb,Sb,fc,bc,Hc)},squarify:uc,resquarify:xc};xc="x0 y0 x1 y1 depth children".split(" ");
W.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number",
"default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:xc.length,"default":xc}]};qa.inherits(W,X,{layout(){const rb=G();rb.ratio=Sb=>{const fc=rb.tile();fc.ratio&&rb.tile(fc.ratio(Sb))};rb.method=Sb=>{qa.hasOwnProperty(Pd,Sb)?rb.tile(Pd[Sb]):qa.error("Unrecognized Treemap layout method: "+Sb)};return rb},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:xc});r.nest=U;r.pack=K;r.partition=ua;r.stratify=Ja;r.tree=Wa;r.treelinks=ab;r.treemap=W})};
shadow$provide[41]=function(cc,Db,Xc,mb){!function(r,g){"object"==typeof mb&&"undefined"!=typeof Xc?g(mb):"function"==typeof define&&define.amd?define(["exports"],g):g((r="undefined"!=typeof globalThis?globalThis:r||self).vega={})}(this,function(r){function g(qa,hb){if("undefined"!=typeof document&&document.createElement){const Gb=document.createElement("canvas");if(Gb&&Gb.getContext)return Gb.width=qa,Gb.height=hb,Gb}return null}r.canvas=g;r.domCanvas=g;r.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[42]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega))})(this,function(r,g){function qa(u){const K=g.array(u).slice(),ua={};K.length||g.error("Missing time unit.");K.forEach(Ja=>{g.hasOwnProperty(Da,Ja)?ua[Ja]=1:g.error(`Invalid time unit: ${Ja}.`)});1<(ua.week||ua.day?1:0)+(ua.quarter||ua.month||
ua.date?1:0)+(ua.dayofyear?1:0)&&g.error(`Incompatible time units: ${u}`);K.sort((Ja,Wa)=>Da[Ja]-Da[Wa]);return K}function hb(u,K,ua,Ja){function Wa(ab){return u(ab=0===arguments.length?new Date:new Date(+ab)),ab}Wa.floor=function(ab){return u(ab=new Date(+ab)),ab};Wa.ceil=function(ab){return u(ab=new Date(ab-1)),K(ab,1),u(ab),ab};Wa.round=function(ab){var W=Wa(ab),Ca=Wa.ceil(ab);return ab-W<Ca-ab?W:Ca};Wa.offset=function(ab,W){return K(ab=new Date(+ab),null==W?1:Math.floor(W)),ab};Wa.range=function(ab,
W,Ca){var Za=[],Ib;ab=Wa.ceil(ab);Ca=null==Ca?1:Math.floor(Ca);if(!(ab<W&&0<Ca))return Za;do Za.push(Ib=new Date(+ab)),K(ab,Ca),u(ab);while(Ib<ab&&ab<W);return Za};Wa.filter=function(ab){return hb(function(W){if(W>=W)for(;u(W),!ab(W);)W.setTime(W-1)},function(W,Ca){if(W>=W)if(0>Ca)for(;0>=++Ca;)for(;K(W,-1),!ab(W););else for(;0<=--Ca;)for(;K(W,1),!ab(W););})};ua&&(Wa.count=function(ab,W){kb.setTime(+ab);lb.setTime(+W);u(kb);u(lb);return Math.floor(ua(kb,lb))},Wa.every=function(ab){ab=Math.floor(ab);
return isFinite(ab)&&0<ab?1<ab?Wa.filter(Ja?function(W){return 0===Ja(W)%ab}:function(W){return 0===Wa.count(0,W)%ab}):Wa:null});return Wa}function Gb(u){return hb(function(K){K.setDate(K.getDate()-(K.getDay()+7-u)%7);K.setHours(0,0,0,0)},function(K,ua){K.setDate(K.getDate()+7*ua)},function(K,ua){return(ua-K-6E4*(ua.getTimezoneOffset()-K.getTimezoneOffset()))/6048E5})}function $b(u){return hb(function(K){K.setUTCDate(K.getUTCDate()-(K.getUTCDay()+7-u)%7);K.setUTCHours(0,0,0,0)},function(K,ua){K.setUTCDate(K.getUTCDate()+
7*ua)},function(K,ua){return(ua-K)/6048E5})}function oc(u,K){return null==u||null==K?NaN:u<K?-1:u>K?1:u>=K?0:NaN}function kc(u){function K(ab,W,Ca=0,Za=ab.length){if(Ca<Za){if(0!==Ja(W,W))return Za;do{const Ib=Ca+Za>>>1;0>Wa(ab[Ib],W)?Ca=Ib+1:Za=Ib}while(Ca<Za)}return Ca}let ua=u,Ja=u,Wa=u;2!==u.length&&(ua=(ab,W)=>u(ab)-W,Ja=oc,Wa=(ab,W)=>oc(u(ab),W));return{left:K,center:function(ab,W,Ca=0,Za=ab.length){Za=K(ab,W,Ca,Za-1);return Za>Ca&&ua(ab[Za-1],W)>-ua(ab[Za],W)?Za-1:Za},right:function(ab,W,Ca=
0,Za=ab.length){if(Ca<Za){if(0!==Ja(W,W))return Za;do{const Ib=Ca+Za>>>1;0>=Wa(ab[Ib],W)?Ca=Ib+1:Za=Ib}while(Ca<Za)}return Ca}}}function yc(u,K,ua){var Ja=Math.abs(K-u)/Math.max(0,ua);ua=Math.pow(10,Math.floor(Math.log(Ja)/Math.LN10));Ja/=ua;Ja>=L?ua*=10:Ja>=P?ua*=5:Ja>=f&&(ua*=2);return K<u?-ua:ua}function Ab(u){v.setFullYear(u);v.setMonth(0);v.setDate(1);v.setHours(0,0,0,0);return v}function gc(u){return Zb.count(Ab(u.getFullYear())-1,u)}function rc(u){return nb.count(Ab(u.getFullYear())-1,u)}function Va(u,
K,ua,Ja,Wa,ab,W){return 0<=u&&100>u?(K=new Date(-1,K,ua,Ja,Wa,ab,W),K.setFullYear(u),K):new Date(u,K,ua,Ja,Wa,ab,W)}function qb(u){const K=Date.UTC(u.getUTCFullYear(),0,1);return cb.count(K-1,u)}function Kb(u){const K=Date.UTC(u.getUTCFullYear(),0,1);return aa.count(K-1,u)}function Ob(u){v.setTime(Date.UTC(u,0,1));return v.getUTCDay()}function Bb(u,K,ua,Ja,Wa,ab,W){return 0<=u&&100>u?(u=new Date(Date.UTC(-1,K,ua,Ja,Wa,ab,W)),u.setUTCFullYear(ua.y),u):new Date(Date.UTC(u,K,ua,Ja,Wa,ab,W))}function Pb(u,
K,ua,Ja,Wa){const ab=K||1,W=g.peek(u);K=(Rc,Pd,Ka)=>{Ka=Ka||Rc;return Ua(ua[Ka],Ja[Ka],Rc===W&&ab,Pd)};const Ca=new Date;u=g.toSet(u);const Za=u.year?K("year"):g.constant(2012),Ib=u.month?K("month"):u.quarter?K("quarter"):g.zero,xc=u.week&&u.day?K("day",1,"weekday"):u.week?K("week",1):u.day?K("day",1):u.date?K("date",1):u.dayofyear?K("dayofyear",1):g.one,uc=u.hours?K("hours"):g.zero,wc=u.minutes?K("minutes"):g.zero,bd=u.seconds?K("seconds"):g.zero,Wb=u.milliseconds?K("milliseconds"):g.zero;return function(Rc){Ca.setTime(+Rc);
Rc=Za(Ca);return Wa(Rc,Ib(Ca),xc(Ca,Rc),uc(Ca),wc(Ca),bd(Ca),Wb(Ca))}}function Ua(u,K,ua,Ja){const Wa=1>=ua?u:Ja?(ab,W)=>Ja+ua*Math.floor((u(ab,W)-Ja)/ua):(ab,W)=>ua*Math.floor(u(ab,W)/ua);return K?(ab,W)=>K(Wa(ab,W),W):Wa}function pb(u,K,ua){return K+7*u-(ua+6)%7}const Oa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Da=Oa.reduce((u,K,ua)=>(u[K]=1+ua,u),{}),Pa={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var kb=new Date,lb=new Date,Na=hb(function(){},function(u,K){u.setTime(+u+K)},function(u,K){return K-u});Na.every=function(u){u=Math.floor(u);return isFinite(u)&&0<u?1<u?hb(function(K){K.setTime(Math.floor(K/u)*u)},function(K,ua){K.setTime(+K+ua*u)},function(K,ua){return(ua-K)/u}):Na:null};var xb=hb(function(u){u.setTime(u-u.getMilliseconds())},function(u,K){u.setTime(+u+
1E3*K)},function(u,K){return(K-u)/1E3},function(u){return u.getUTCSeconds()}),ob=hb(function(u){u.setTime(u-u.getMilliseconds()-1E3*u.getSeconds())},function(u,K){u.setTime(+u+6E4*K)},function(u,K){return(K-u)/6E4},function(u){return u.getMinutes()}),Nb=hb(function(u){u.setTime(u-u.getMilliseconds()-1E3*u.getSeconds()-6E4*u.getMinutes())},function(u,K){u.setTime(+u+36E5*K)},function(u,K){return(K-u)/36E5},function(u){return u.getHours()}),Zb=hb(u=>u.setHours(0,0,0,0),(u,K)=>u.setDate(u.getDate()+
K),(u,K)=>(K-u-6E4*(K.getTimezoneOffset()-u.getTimezoneOffset()))/864E5,u=>u.getDate()-1),nb=Gb(0);Gb(1);Gb(2);Gb(3);Gb(4);Gb(5);Gb(6);var la=hb(function(u){u.setDate(1);u.setHours(0,0,0,0)},function(u,K){u.setMonth(u.getMonth()+K)},function(u,K){return K.getMonth()-u.getMonth()+12*(K.getFullYear()-u.getFullYear())},function(u){return u.getMonth()}),Y=hb(function(u){u.setMonth(0,1);u.setHours(0,0,0,0)},function(u,K){u.setFullYear(u.getFullYear()+K)},function(u,K){return K.getFullYear()-u.getFullYear()},
function(u){return u.getFullYear()});Y.every=function(u){return isFinite(u=Math.floor(u))&&0<u?hb(function(K){K.setFullYear(Math.floor(K.getFullYear()/u)*u);K.setMonth(0,1);K.setHours(0,0,0,0)},function(K,ua){K.setFullYear(K.getFullYear()+ua*u)}):null};var Ha=hb(function(u){u.setUTCSeconds(0,0)},function(u,K){u.setTime(+u+6E4*K)},function(u,K){return(K-u)/6E4},function(u){return u.getUTCMinutes()}),Fa=hb(function(u){u.setUTCMinutes(0,0,0)},function(u,K){u.setTime(+u+36E5*K)},function(u,K){return(K-
u)/36E5},function(u){return u.getUTCHours()}),cb=hb(function(u){u.setUTCHours(0,0,0,0)},function(u,K){u.setUTCDate(u.getUTCDate()+K)},function(u,K){return(K-u)/864E5},function(u){return u.getUTCDate()-1}),aa=$b(0);$b(1);$b(2);$b(3);$b(4);$b(5);$b(6);var ma=hb(function(u){u.setUTCDate(1);u.setUTCHours(0,0,0,0)},function(u,K){u.setUTCMonth(u.getUTCMonth()+K)},function(u,K){return K.getUTCMonth()-u.getUTCMonth()+12*(K.getUTCFullYear()-u.getUTCFullYear())},function(u){return u.getUTCMonth()}),p=hb(function(u){u.setUTCMonth(0,
1);u.setUTCHours(0,0,0,0)},function(u,K){u.setUTCFullYear(u.getUTCFullYear()+K)},function(u,K){return K.getUTCFullYear()-u.getUTCFullYear()},function(u){return u.getUTCFullYear()});p.every=function(u){return isFinite(u=Math.floor(u))&&0<u?hb(function(K){K.setUTCFullYear(Math.floor(K.getUTCFullYear()/u)*u);K.setUTCMonth(0,1);K.setUTCHours(0,0,0,0)},function(K,ua){K.setUTCFullYear(K.getUTCFullYear()+ua*u)}):null};var L=Math.sqrt(50),P=Math.sqrt(10),f=Math.sqrt(2);const v=new Date,l={year:u=>u.getFullYear(),
quarter:u=>Math.floor(u.getMonth()/3),month:u=>u.getMonth(),date:u=>u.getDate(),hours:u=>u.getHours(),minutes:u=>u.getMinutes(),seconds:u=>u.getSeconds(),milliseconds:u=>u.getMilliseconds(),dayofyear:u=>gc(u),week:u=>rc(u),weekday:(u,K)=>pb(rc(u),u.getDay(),Ab(K).getDay()),day:(u,K)=>pb(1,u.getDay(),Ab(K).getDay())},C={quarter:u=>3*u,week:(u,K)=>pb(u,0,Ab(K).getDay())},B={year:u=>u.getUTCFullYear(),quarter:u=>Math.floor(u.getUTCMonth()/3),month:u=>u.getUTCMonth(),date:u=>u.getUTCDate(),hours:u=>u.getUTCHours(),
minutes:u=>u.getUTCMinutes(),seconds:u=>u.getUTCSeconds(),milliseconds:u=>u.getUTCMilliseconds(),dayofyear:u=>qb(u),week:u=>Kb(u),day:(u,K)=>pb(1,u.getUTCDay(),Ob(K)),weekday:(u,K)=>pb(Kb(u),u.getUTCDay(),Ob(K))},z={quarter:u=>3*u,week:(u,K)=>pb(u,0,Ob(K))},D={year:Y,quarter:la.every(3),month:la,week:nb,date:Zb,day:Zb,dayofyear:Zb,hours:Nb,minutes:ob,seconds:xb,milliseconds:Na},G={year:p,quarter:ma.every(3),month:ma,week:aa,date:cb,day:cb,dayofyear:cb,hours:Fa,minutes:Ha,seconds:xb,milliseconds:Na},
U="year month date hours minutes seconds milliseconds".split(" ");xb=U.slice(0,-1);ob=xb.slice(0,-1);Nb=ob.slice(0,-1);la=Nb.slice(0,-1);Y=["year","month"];const Aa=["year"],X=[[xb,1,1E3],[xb,5,5E3],[xb,15,15E3],[xb,30,3E4],[ob,1,6E4],[ob,5,3E5],[ob,15,9E5],[ob,30,18E5],[Nb,1,36E5],[Nb,3,108E5],[Nb,6,216E5],[Nb,12,432E5],[la,1,864E5],[["year","week"],1,6048E5],[Y,1,2592E6],[Y,3,7776E6],[Aa,1,31536E6]];r.DATE="date";r.DAY="day";r.DAYOFYEAR="dayofyear";r.HOURS="hours";r.MILLISECONDS="milliseconds";
r.MINUTES="minutes";r.MONTH="month";r.QUARTER="quarter";r.SECONDS="seconds";r.TIME_UNITS=Oa;r.WEEK="week";r.YEAR="year";r.dayofyear=function(u){return gc(new Date(u))};r.timeBin=function(u){var K=u.extent;u=u.maxbins||40;var ua=Math.abs(g.span(K))/u;let Ja=kc(Wa=>Wa[2]).right(X,ua);Ja===X.length?(ua=Aa,K=yc(K[0]/31536E6,K[1]/31536E6,u)):Ja?(Ja=X[ua/X[Ja-1][2]<X[Ja][2]/ua?Ja-1:Ja],ua=Ja[0],K=Ja[1]):(ua=U,K=Math.max(yc(K[0],K[1],u),1));return{units:ua,step:K}};r.timeFloor=function(u,K){return Pb(u,
K||1,l,C,Va)};r.timeInterval=function(u){return D[u]};r.timeOffset=function(u,K,ua){return(u=D[u])?u.offset(K,ua):void 0};r.timeSequence=function(u,K,ua,Ja){return(u=D[u])?u.range(K,ua,Ja):void 0};r.timeUnitSpecifier=function(u,K){K=g.extend({},Pa,K);u=qa(u);const ua=u.length;let Ja="",Wa,ab,W;for(Wa=0;Wa<ua;)for(ab=u.length;ab>Wa;--ab)if(W=u.slice(Wa,ab).join("-"),null!=K[W]){Ja+=K[W];Wa=ab;break}return Ja.trim()};r.timeUnits=qa;r.utcFloor=function(u,K){return Pb(u,K||1,B,z,Bb)};r.utcInterval=function(u){return G[u]};
r.utcOffset=function(u,K,ua){return(u=G[u])?u.offset(K,ua):void 0};r.utcSequence=function(u,K,ua,Ja){return(u=G[u])?u.range(K,ua,Ja):void 0};r.utcdayofyear=function(u){return qb(new Date(u))};r.utcweek=function(u){return Kb(new Date(u))};r.week=function(u){return rc(new Date(u))};Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[43]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(42),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,qa){function hb(I){const da={};return Sa=>da[Sa]||(da[Sa]=I(Sa))}function Gb(I,da){if(0>(da=(I=da?I.toExponential(da-1):I.toExponential()).indexOf("e")))return null;var Sa=I.slice(0,da);return[1<
Sa.length?Sa[0]+Sa.slice(2):Sa,+I.slice(da+1)]}function $b(I){return I=Gb(Math.abs(I)),I?I[1]:NaN}function oc(I,da){return function(Sa,ac){for(var Pc=Sa.length,Cc=[],Sc=0,fd=I[0],ee=0;0<Pc&&0<fd;){ee+fd+1>ac&&(fd=Math.max(1,ac-ee));Cc.push(Sa.substring(Pc-=fd,Pc+fd));if((ee+=fd+1)>ac)break;fd=I[Sc=(Sc+1)%I.length]}return Cc.reverse().join(da)}}function kc(I){return function(da){return da.replace(/[0-9]/g,function(Sa){return I[+Sa]})}}function yc(I){if(!(da=Ud.exec(I)))throw Error("invalid format: "+
I);var da;return new Ab({fill:da[1],align:da[2],sign:da[3],symbol:da[4],zero:da[5],width:da[6],comma:da[7],precision:da[8]&&da[8].slice(1),trim:da[9],type:da[10]})}function Ab(I){this.fill=void 0===I.fill?" ":I.fill+"";this.align=void 0===I.align?"\x3e":I.align+"";this.sign=void 0===I.sign?"-":I.sign+"";this.symbol=void 0===I.symbol?"":I.symbol+"";this.zero=!!I.zero;this.width=void 0===I.width?void 0:+I.width;this.comma=!!I.comma;this.precision=void 0===I.precision?void 0:+I.precision;this.trim=!!I.trim;
this.type=void 0===I.type?"":I.type+""}function gc(I,da){da=Gb(I,da);if(!da)return I+"";I=da[0];da=da[1];return 0>da?"0."+Array(-da).join("0")+I:I.length>da+1?I.slice(0,da+1)+"."+I.slice(da+1):I+Array(da-I.length+2).join("0")}function rc(I){return I}function Va(I){function da(eb){function pc(Dc){var jd=Ke,Ec=Xe,Id,Vd;if("c"===we)Ec=bf(Dc)+Ec,Dc="";else{Dc=+Dc;var ce=0>Dc||0>1/Dc;Dc=isNaN(Dc)?Ra:bf(Math.abs(Dc),Bd);if(be){var le=Dc.length,N=1,ca=-1;a:for(;N<le;++N)switch(Dc[N]){case ".":ca=Id=N;break;
case "0":0===ca&&(ca=N);Id=N;break;default:if(!+Dc[N])break a;0<ca&&(ca=0)}Dc=0<ca?Dc.slice(0,ca)+Dc.slice(Id+1):Dc}ce&&0===+Dc&&"+"!==Vc&&(ce=!1);jd=(ce?"("===Vc?Vc:ee:"-"===Vc||"("===Vc?"":Vc)+jd;Ec=("s"===we?ka[8+Te/3]:"")+Ec+(ce&&"("===Vc?")":"");if(md)for(ce=-1,Id=Dc.length;++ce<Id;)if(Vd=Dc.charCodeAt(ce),48>Vd||57<Vd){Ec=(46===Vd?Cc+Dc.slice(ce+1):Dc.slice(ce))+Ec;Dc=Dc.slice(0,ce);break}}Nd&&!sd&&(Dc=Sa(Dc,Infinity));Vd=jd.length+Dc.length+Ec.length;ce=Vd<id?Array(id-Vd+1).join(vd):"";Nd&&
sd&&(Dc=Sa(ce+Dc,ce.length?id-Ec.length:Infinity),ce="");switch(Jc){case "\x3c":Dc=jd+Dc+Ec+ce;break;case "\x3d":Dc=jd+ce+Dc+Ec;break;case "^":Dc=ce.slice(0,Vd=ce.length>>1)+jd+Dc+Ec+ce.slice(Vd);break;default:Dc=ce+jd+Dc+Ec}return Sc(Dc)}eb=yc(eb);var vd=eb.fill,Jc=eb.align,Vc=eb.sign,Qc=eb.symbol,sd=eb.zero,id=eb.width,Nd=eb.comma,Bd=eb.precision,be=eb.trim,we=eb.type;"n"===we?(Nd=!0,we="g"):Xd[we]||(void 0===Bd&&(Bd=12),be=!0,we="g");if(sd||"0"===vd&&"\x3d"===Jc)sd=!0,vd="0",Jc="\x3d";var Ke="$"===
Qc?ac:"#"===Qc&&/[boxX]/.test(we)?"0"+we.toLowerCase():"",Xe="$"===Qc?Pc:/[%p]/.test(we)?fd:"",bf=Xd[we],md=/[defgprs%]/.test(we);Bd=void 0===Bd?6:/[gprs]/.test(we)?Math.max(1,Math.min(21,Bd)):Math.max(0,Math.min(20,Bd));pc.toString=function(){return eb+""};return pc}var Sa=void 0===I.grouping||void 0===I.thousands?rc:oc(M.call(I.grouping,Number),I.thousands+""),ac=void 0===I.currency?"":I.currency[0]+"",Pc=void 0===I.currency?"":I.currency[1]+"",Cc=void 0===I.decimal?".":I.decimal+"",Sc=void 0===
I.numerals?rc:kc(M.call(I.numerals,String)),fd=void 0===I.percent?"%":I.percent+"",ee=void 0===I.minus?"":I.minus+"",Ra=void 0===I.nan?"NaN":I.nan+"";return{format:da,formatPrefix:function(eb,pc){var vd=da((eb=yc(eb),eb.type="f",eb));eb=3*Math.max(-8,Math.min(8,Math.floor($b(pc)/3)));var Jc=Math.pow(10,-eb),Vc=ka[8+eb/3];return function(Qc){return vd(Jc*Qc)+Vc}}}}function qb(I,da){return Sa=>{Sa=I(Sa);const ac=Sa.indexOf(da);if(0>ac)return Sa;a:{var Pc=Sa.lastIndexOf("e");if(!(0<Pc)){for(Pc=Sa.length;--Pc>
ac;){var Cc=Sa.charCodeAt(Pc);if(48<=Cc&&57>=Cc){Pc+=1;break a}}Pc=void 0}}for(Cc=Pc<Sa.length?Sa.slice(Pc):"";--Pc>ac;)if("0"!==Sa[Pc]){++Pc;break}return Sa.slice(0,Pc)+Cc}}function Kb(I){const da=hb(I.format),Sa=I.formatPrefix;return{format:da,formatPrefix:Sa,formatFloat(ac){ac=yc(ac||",");if(null==ac.precision){ac.precision=12;switch(ac.type){case "%":ac.precision-=2;break;case "e":--ac.precision}return qb(da(ac),da(".1f")(1)[1])}return da(ac)},formatSpan(ac,Pc,Cc,Sc){Sc=yc(null==Sc?",f":Sc);var fd=
Math.abs(Pc-ac)/Math.max(0,Cc);Cc=Math.pow(10,Math.floor(Math.log(fd)/Math.LN10));fd/=Cc;fd>=Ed?Cc*=10:fd>=Zd?Cc*=5:fd>=de&&(Cc*=2);Cc=Pc<ac?-Cc:Cc;ac=Math.max(Math.abs(ac),Math.abs(Pc));if(null==Sc.precision)switch(Sc.type){case "s":return Pc=isNaN,Cc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($b(ac)/3)))-$b(Math.abs(Cc))),Pc(Pc=Cc)||(Sc.precision=Pc),Sa(Sc,ac);case "":case "e":case "g":case "p":case "r":Pc=isNaN;Cc=Math.abs(Cc);ac=Math.abs(ac)-Cc;ac=Math.max(0,$b(ac)-$b(Cc))+1;Pc(Pc=ac)||(Sc.precision=
Pc-("e"===Sc.type));break;case "f":case "%":isNaN(Pc=Math.max(0,-$b(Math.abs(Cc))))||(Sc.precision=Pc-2*("%"===Sc.type))}return da(Sc)}}}function Ob(){return Xb=Kb({format:fb,formatPrefix:Hb})}function Bb(I){return Kb(Va(I))}function Pb(I){return arguments.length?Xb=Bb(I):Xb}function Ua(I,da,Sa,ac){function Pc(Cc){return I(Cc=0===arguments.length?new Date:new Date(+Cc)),Cc}Pc.floor=function(Cc){return I(Cc=new Date(+Cc)),Cc};Pc.ceil=function(Cc){return I(Cc=new Date(Cc-1)),da(Cc,1),I(Cc),Cc};Pc.round=
function(Cc){var Sc=Pc(Cc),fd=Pc.ceil(Cc);return Cc-Sc<fd-Cc?Sc:fd};Pc.offset=function(Cc,Sc){return da(Cc=new Date(+Cc),null==Sc?1:Math.floor(Sc)),Cc};Pc.range=function(Cc,Sc,fd){var ee=[],Ra;Cc=Pc.ceil(Cc);fd=null==fd?1:Math.floor(fd);if(!(Cc<Sc&&0<fd))return ee;do ee.push(Ra=new Date(+Cc)),da(Cc,fd),I(Cc);while(Ra<Cc&&Cc<Sc);return ee};Pc.filter=function(Cc){return Ua(function(Sc){if(Sc>=Sc)for(;I(Sc),!Cc(Sc);)Sc.setTime(Sc-1)},function(Sc,fd){if(Sc>=Sc)if(0>fd)for(;0>=++fd;)for(;da(Sc,-1),!Cc(Sc););
else for(;0<=--fd;)for(;da(Sc,1),!Cc(Sc););})};Sa&&(Pc.count=function(Cc,Sc){Ac.setTime(+Cc);lc.setTime(+Sc);I(Ac);I(lc);return Math.floor(Sa(Ac,lc))},Pc.every=function(Cc){Cc=Math.floor(Cc);return isFinite(Cc)&&0<Cc?1<Cc?Pc.filter(ac?function(Sc){return 0===ac(Sc)%Cc}:function(Sc){return 0===Pc.count(0,Sc)%Cc}):Pc:null});return Pc}function pb(I){return Ua(function(da){da.setDate(da.getDate()-(da.getDay()+7-I)%7);da.setHours(0,0,0,0)},function(da,Sa){da.setDate(da.getDate()+7*Sa)},function(da,Sa){return(Sa-
da-6E4*(Sa.getTimezoneOffset()-da.getTimezoneOffset()))/6048E5})}function Oa(I){return Ua(function(da){da.setUTCDate(da.getUTCDate()-(da.getUTCDay()+7-I)%7);da.setUTCHours(0,0,0,0)},function(da,Sa){da.setUTCDate(da.getUTCDate()+7*Sa)},function(da,Sa){return(Sa-da)/6048E5})}function Da(I){if(0<=I.y&&100>I.y){var da=new Date(-1,I.m,I.d,I.H,I.M,I.S,I.L);da.setFullYear(I.y);return da}return new Date(I.y,I.m,I.d,I.H,I.M,I.S,I.L)}function Pa(I){if(0<=I.y&&100>I.y){var da=new Date(Date.UTC(-1,I.m,I.d,I.H,
I.M,I.S,I.L));da.setUTCFullYear(I.y);return da}return new Date(Date.UTC(I.y,I.m,I.d,I.H,I.M,I.S,I.L))}function kb(I,da,Sa){return{y:I,m:da,d:Sa,H:0,M:0,S:0,L:0}}function lb(I){function da(md,Dc){return function(jd){var Ec=[],Id=-1,Vd=0,ce=md.length,le,N;for(jd instanceof Date||(jd=new Date(+jd));++Id<ce;)if(37===md.charCodeAt(Id)){Ec.push(md.slice(Vd,Id));null!=(Vd=af[le=md.charAt(++Id)])?le=md.charAt(++Id):Vd="e"===le?" ":"0";if(N=Dc[le])le=N(jd,Vd);Ec.push(le);Vd=Id+1}Ec.push(md.slice(Vd,Id));return Ec.join("")}}
function Sa(md,Dc){return function(jd){var Ec=kb(1900,void 0,1);if(ac(Ec,md,jd+="",0)!=jd.length)return null;if("Q"in Ec)return new Date(Ec.Q);if("s"in Ec)return new Date(1E3*Ec.s+("L"in Ec?Ec.L:0));!Dc||"Z"in Ec||(Ec.Z=0);"p"in Ec&&(Ec.H=Ec.H%12+12*Ec.p);void 0===Ec.m&&(Ec.m="q"in Ec?Ec.q:0);if("V"in Ec){if(1>Ec.V||53<Ec.V)return null;"w"in Ec||(Ec.w=1);if("Z"in Ec){jd=Pa(kb(Ec.y,0,1));var Id=jd.getUTCDay();jd=4<Id||0===Id?ae.ceil(jd):ae(jd);jd=$d.offset(jd,7*(Ec.V-1));Ec.y=jd.getUTCFullYear();Ec.m=
jd.getUTCMonth();Ec.d=jd.getUTCDate()+(Ec.w+6)%7}else jd=Da(kb(Ec.y,0,1)),Id=jd.getDay(),jd=4<Id||0===Id?Nc.ceil(jd):Nc(jd),jd=Fc.offset(jd,7*(Ec.V-1)),Ec.y=jd.getFullYear(),Ec.m=jd.getMonth(),Ec.d=jd.getDate()+(Ec.w+6)%7}else if("W"in Ec||"U"in Ec)"w"in Ec||(Ec.w="u"in Ec?Ec.u%7:"W"in Ec?1:0),Id="Z"in Ec?Pa(kb(Ec.y,0,1)).getUTCDay():Da(kb(Ec.y,0,1)).getDay(),Ec.m=0,Ec.d="W"in Ec?(Ec.w+6)%7+7*Ec.W-(Id+5)%7:Ec.w+7*Ec.U-(Id+6)%7;return"Z"in Ec?(Ec.H+=Ec.Z/100|0,Ec.M+=Ec.Z%100,Pa(Ec)):Da(Ec)}}function ac(md,
Dc,jd,Ec){for(var Id=0,Vd=Dc.length,ce=jd.length,le;Id<Vd;){if(Ec>=ce)return-1;le=Dc.charCodeAt(Id++);if(37===le){if(le=Dc.charAt(Id++),le=bf[le in af?Dc.charAt(Id++):le],!le||0>(Ec=le(md,jd,Ec)))return-1}else if(le!=jd.charCodeAt(Ec++))return-1}return Ec}var Pc=I.dateTime,Cc=I.date,Sc=I.time,fd=I.periods,ee=I.days,Ra=I.shortDays,eb=I.months,pc=I.shortMonths,vd=ob(fd),Jc=Nb(fd),Vc=ob(ee),Qc=Nb(ee),sd=ob(Ra),id=Nb(Ra),Nd=ob(eb),Bd=Nb(eb),be=ob(pc),we=Nb(pc),Ke={a:function(md){return Ra[md.getDay()]},
A:function(md){return ee[md.getDay()]},b:function(md){return pc[md.getMonth()]},B:function(md){return eb[md.getMonth()]},c:null,d:U,e:U,f:ua,g:bd,G:Rc,H:Aa,I:X,j:u,L:K,m:Ja,M:Wa,p:function(md){return fd[+(12<=md.getHours())]},q:function(md){return 1+~~(md.getMonth()/3)},Q:nc,s:dc,S:ab,u:W,U:Ca,V:Ib,w:xc,W:uc,x:null,X:null,y:wc,Y:Wb,Z:Pd,"%":Fb},Xe={a:function(md){return Ra[md.getUTCDay()]},A:function(md){return ee[md.getUTCDay()]},b:function(md){return pc[md.getUTCMonth()]},B:function(md){return eb[md.getUTCMonth()]},
c:null,d:Ka,e:Ka,f:bc,g:ya,G:$a,H:Ub,I:rb,j:Sb,L:fc,m:Hc,M:zc,p:function(md){return fd[+(12<=md.getUTCHours())]},q:function(md){return 1+~~(md.getUTCMonth()/3)},Q:nc,s:dc,S:Yc,u:Md,U:td,V:gb,w:vb,W:ra,x:null,X:null,y:F,Y:La,Z:jb,"%":Fb},bf={a:function(md,Dc,jd){return(Dc=sd.exec(Dc.slice(jd)))?(md.w=id.get(Dc[0].toLowerCase()),jd+Dc[0].length):-1},A:function(md,Dc,jd){return(Dc=Vc.exec(Dc.slice(jd)))?(md.w=Qc.get(Dc[0].toLowerCase()),jd+Dc[0].length):-1},b:function(md,Dc,jd){return(Dc=be.exec(Dc.slice(jd)))?
(md.m=we.get(Dc[0].toLowerCase()),jd+Dc[0].length):-1},B:function(md,Dc,jd){return(Dc=Nd.exec(Dc.slice(jd)))?(md.m=Bd.get(Dc[0].toLowerCase()),jd+Dc[0].length):-1},c:function(md,Dc,jd){return ac(md,Pc,Dc,jd)},d:L,e:L,f:B,g:cb,G:Fa,H:f,I:f,j:P,L:C,m:p,M:v,p:function(md,Dc,jd){return(Dc=vd.exec(Dc.slice(jd)))?(md.p=Jc.get(Dc[0].toLowerCase()),jd+Dc[0].length):-1},q:ma,Q:D,s:G,S:l,u:nb,U:la,V:Y,w:Zb,W:Ha,x:function(md,Dc,jd){return ac(md,Cc,Dc,jd)},X:function(md,Dc,jd){return ac(md,Sc,Dc,jd)},y:cb,Y:Fa,
Z:aa,"%":z};Ke.x=da(Cc,Ke);Ke.X=da(Sc,Ke);Ke.c=da(Pc,Ke);Xe.x=da(Cc,Xe);Xe.X=da(Sc,Xe);Xe.c=da(Pc,Xe);return{format:function(md){var Dc=da(md+="",Ke);Dc.toString=function(){return md};return Dc},parse:function(md){var Dc=Sa(md+="",!1);Dc.toString=function(){return md};return Dc},utcFormat:function(md){var Dc=da(md+="",Xe);Dc.toString=function(){return md};return Dc},utcParse:function(md){var Dc=Sa(md+="",!0);Dc.toString=function(){return md};return Dc}}}function Na(I,da,Sa){var ac=0>I?"-":"";I=(ac?
-I:I)+"";var Pc=I.length;return ac+(Pc<Sa?Array(Sa-Pc+1).join(da)+I:I)}function xb(I){return I.replace(T,"\\$\x26")}function ob(I){return new RegExp("^(?:"+I.map(xb).join("|")+")","i")}function Nb(I){return new Map(I.map((da,Sa)=>[da.toLowerCase(),Sa]))}function Zb(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+1)))?(I.w=+da[0],Sa+da[0].length):-1}function nb(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+1)))?(I.u=+da[0],Sa+da[0].length):-1}function la(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.U=+da[0],
Sa+da[0].length):-1}function Y(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.V=+da[0],Sa+da[0].length):-1}function Ha(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.W=+da[0],Sa+da[0].length):-1}function Fa(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+4)))?(I.y=+da[0],Sa+da[0].length):-1}function cb(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.y=+da[0]+(68<+da[0]?1900:2E3),Sa+da[0].length):-1}function aa(I,da,Sa){return(da=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(da.slice(Sa,Sa+6)))?(I.Z=da[1]?
0:-(da[2]+(da[3]||"00")),Sa+da[0].length):-1}function ma(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+1)))?(I.q=3*da[0]-3,Sa+da[0].length):-1}function p(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.m=da[0]-1,Sa+da[0].length):-1}function L(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.d=+da[0],Sa+da[0].length):-1}function P(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+3)))?(I.m=0,I.d=+da[0],Sa+da[0].length):-1}function f(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.H=+da[0],Sa+da[0].length):
-1}function v(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.M=+da[0],Sa+da[0].length):-1}function l(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.S=+da[0],Sa+da[0].length):-1}function C(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+3)))?(I.L=+da[0],Sa+da[0].length):-1}function B(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+6)))?(I.L=Math.floor(da[0]/1E3),Sa+da[0].length):-1}function z(I,da,Sa){return(I=pf.exec(da.slice(Sa,Sa+1)))?Sa+I[0].length:-1}function D(I,da,Sa){return(da=re.exec(da.slice(Sa)))?
(I.Q=+da[0],Sa+da[0].length):-1}function G(I,da,Sa){return(da=re.exec(da.slice(Sa)))?(I.s=+da[0],Sa+da[0].length):-1}function U(I,da){return Na(I.getDate(),da,2)}function Aa(I,da){return Na(I.getHours(),da,2)}function X(I,da){return Na(I.getHours()%12||12,da,2)}function u(I,da){return Na(1+Fc.count(Fd(I),I),da,3)}function K(I,da){return Na(I.getMilliseconds(),da,3)}function ua(I,da){return K(I,da)+"000"}function Ja(I,da){return Na(I.getMonth()+1,da,2)}function Wa(I,da){return Na(I.getMinutes(),da,
2)}function ab(I,da){return Na(I.getSeconds(),da,2)}function W(I){I=I.getDay();return 0===I?7:I}function Ca(I,da){return Na(hd.count(Fd(I)-1,I),da,2)}function Za(I){var da=I.getDay();return 4<=da||0===da?rd(I):rd.ceil(I)}function Ib(I,da){I=Za(I);return Na(rd.count(Fd(I),I)+(4===Fd(I).getDay()),da,2)}function xc(I){return I.getDay()}function uc(I,da){return Na(Nc.count(Fd(I)-1,I),da,2)}function wc(I,da){return Na(I.getFullYear()%100,da,2)}function bd(I,da){I=Za(I);return Na(I.getFullYear()%100,da,
2)}function Wb(I,da){return Na(I.getFullYear()%1E4,da,4)}function Rc(I,da){var Sa=I.getDay();I=4<=Sa||0===Sa?rd(I):rd.ceil(I);return Na(I.getFullYear()%1E4,da,4)}function Pd(I){I=I.getTimezoneOffset();return(0<I?"-":(I*=-1,"+"))+Na(I/60|0,"0",2)+Na(I%60,"0",2)}function Ka(I,da){return Na(I.getUTCDate(),da,2)}function Ub(I,da){return Na(I.getUTCHours(),da,2)}function rb(I,da){return Na(I.getUTCHours()%12||12,da,2)}function Sb(I,da){return Na(1+$d.count(df(I),I),da,3)}function fc(I,da){return Na(I.getUTCMilliseconds(),
da,3)}function bc(I,da){return fc(I,da)+"000"}function Hc(I,da){return Na(I.getUTCMonth()+1,da,2)}function zc(I,da){return Na(I.getUTCMinutes(),da,2)}function Yc(I,da){return Na(I.getUTCSeconds(),da,2)}function Md(I){I=I.getUTCDay();return 0===I?7:I}function td(I,da){return Na(Wd.count(df(I)-1,I),da,2)}function Ga(I){var da=I.getUTCDay();return 4<=da||0===da?Be(I):Be.ceil(I)}function gb(I,da){I=Ga(I);return Na(Be.count(df(I),I)+(4===df(I).getUTCDay()),da,2)}function vb(I){return I.getUTCDay()}function ra(I,
da){return Na(ae.count(df(I)-1,I),da,2)}function F(I,da){return Na(I.getUTCFullYear()%100,da,2)}function ya(I,da){I=Ga(I);return Na(I.getUTCFullYear()%100,da,2)}function La(I,da){return Na(I.getUTCFullYear()%1E4,da,4)}function $a(I,da){var Sa=I.getUTCDay();I=4<=Sa||0===Sa?Be(I):Be.ceil(I);return Na(I.getUTCFullYear()%1E4,da,4)}function jb(){return"+0000"}function Fb(){return"%"}function nc(I){return+I}function dc(I){return Math.floor(+I/1E3)}function ic(I,da,Sa){Sa=Sa||{};qa.isObject(Sa)||qa.error(`Invalid time multi-format specifier: ${Sa}`);
const ac=da(g.SECONDS),Pc=da(g.MINUTES),Cc=da(g.HOURS),Sc=da(g.DATE),fd=da(g.WEEK),ee=da(g.MONTH),Ra=da(g.QUARTER),eb=da(g.YEAR),pc=I(Sa[g.MILLISECONDS]||".%L"),vd=I(Sa[g.SECONDS]||":%S"),Jc=I(Sa[g.MINUTES]||"%I:%M"),Vc=I(Sa[g.HOURS]||"%I %p"),Qc=I(Sa[g.DATE]||Sa[g.DAY]||"%a %d"),sd=I(Sa[g.WEEK]||"%b %d"),id=I(Sa[g.MONTH]||"%B"),Nd=I(Sa[g.QUARTER]||"%B"),Bd=I(Sa[g.YEAR]||"%Y");return be=>(ac(be)<be?pc:Pc(be)<be?vd:Cc(be)<be?Jc:Sc(be)<be?Vc:ee(be)<be?fd(be)<be?Qc:sd:eb(be)<be?Ra(be)<be?id:Nd:Bd)(be)}
function Uc(I){const da=hb(I.format),Sa=hb(I.utcFormat);return{timeFormat:ac=>qa.isString(ac)?da(ac):ic(da,g.timeInterval,ac),utcFormat:ac=>qa.isString(ac)?Sa(ac):ic(Sa,g.utcInterval,ac),timeParse:hb(I.parse),utcParse:hb(I.utcParse)}}function cd(){return Yb=Uc({format:db,parse:zb,utcFormat:ec,utcParse:Bc})}function dd(I){return Uc(lb(I))}function Qd(I){return arguments.length?Yb=dd(I):Yb}function Td(I,da){var Sa=arguments.length;Sa&&2!==Sa&&qa.error("defaultLocale expects either zero or two arguments.");
if(Sa){Sa=Pb(I);var ac=Qd(da);Sa=qa.extend({},Sa,ac)}else Sa=Pb(),ac=Qd(),Sa=qa.extend({},Sa,ac);return Sa}var Ed=Math.sqrt(50),Zd=Math.sqrt(10),de=Math.sqrt(2),Ud=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;yc.prototype=Ab.prototype;Ab.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var Te,Xd={"%":(I,da)=>(100*I).toFixed(da),b:I=>Math.round(I).toString(2),c:I=>I+"",d:function(I){return 1E21<=Math.abs(I=Math.round(I))?I.toLocaleString("en").replace(/,/g,""):I.toString(10)},e:(I,da)=>I.toExponential(da),f:(I,da)=>I.toFixed(da),g:(I,da)=>I.toPrecision(da),o:I=>Math.round(I).toString(8),p:(I,da)=>gc(100*I,da),r:gc,s:function(I,da){var Sa=Gb(I,da);if(!Sa)return I+"";var ac=Sa[0];Sa=Sa[1];Sa=Sa-(Te=3*Math.max(-8,Math.min(8,Math.floor(Sa/3))))+1;var Pc=ac.length;
return Sa===Pc?ac:Sa>Pc?ac+Array(Sa-Pc+1).join("0"):0<Sa?ac.slice(0,Sa)+"."+ac.slice(Sa):"0."+Array(1-Sa).join("0")+Gb(I,Math.max(0,da+Sa-1))[0]},X:I=>Math.round(I).toString(16).toUpperCase(),x:I=>Math.round(I).toString(16)},M=Array.prototype.map,ka="y z a f p n  m  k M G T P E Z Y".split(" "),za,fb,Hb;(function(I){za=Va(I);fb=za.format;Hb=za.formatPrefix;return za})({thousands:",",grouping:[3],currency:["$",""]});let Xb;Ob();var Ac=new Date,lc=new Date,Fc=Ua(I=>I.setHours(0,0,0,0),(I,da)=>I.setDate(I.getDate()+
da),(I,da)=>(da-I-6E4*(da.getTimezoneOffset()-I.getTimezoneOffset()))/864E5,I=>I.getDate()-1),hd=pb(0),Nc=pb(1);pb(2);pb(3);var rd=pb(4);pb(5);pb(6);var Gd=Ua(function(I){I.setMonth(0,1);I.setHours(0,0,0,0)},function(I,da){I.setFullYear(I.getFullYear()+da)},function(I,da){return da.getFullYear()-I.getFullYear()},function(I){return I.getFullYear()});Gd.every=function(I){return isFinite(I=Math.floor(I))&&0<I?Ua(function(da){da.setFullYear(Math.floor(da.getFullYear()/I)*I);da.setMonth(0,1);da.setHours(0,
0,0,0)},function(da,Sa){da.setFullYear(da.getFullYear()+Sa*I)}):null};var Fd=Gd,$d=Ua(function(I){I.setUTCHours(0,0,0,0)},function(I,da){I.setUTCDate(I.getUTCDate()+da)},function(I,da){return(da-I)/864E5},function(I){return I.getUTCDate()-1}),Wd=Oa(0),ae=Oa(1);Oa(2);Oa(3);var Be=Oa(4);Oa(5);Oa(6);var ff=Ua(function(I){I.setUTCMonth(0,1);I.setUTCHours(0,0,0,0)},function(I,da){I.setUTCFullYear(I.getUTCFullYear()+da)},function(I,da){return da.getUTCFullYear()-I.getUTCFullYear()},function(I){return I.getUTCFullYear()});
ff.every=function(I){return isFinite(I=Math.floor(I))&&0<I?Ua(function(da){da.setUTCFullYear(Math.floor(da.getUTCFullYear()/I)*I);da.setUTCMonth(0,1);da.setUTCHours(0,0,0,0)},function(da,Sa){da.setUTCFullYear(da.getUTCFullYear()+Sa*I)}):null};var df=ff,af={"-":"",_:" ",0:"0"},re=/^\s*\d+/,pf=/^%/,T=/[\\^$*+?|[\]().{}]/g,ta,db,zb,ec,Bc;(function(I){ta=lb(I);db=ta.format;zb=ta.parse;ec=ta.utcFormat;Bc=ta.utcParse;return ta})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let Yb;cd();r.defaultLocale=Td;r.locale=function(I,da){I=I?Bb(I):Pb();da=da?dd(da):Qd();return qa.extend({},I,da)};r.numberFormatDefaultLocale=Pb;r.numberFormatLocale=Bb;r.resetDefaultLocale=function(){Ob();
cd();return Td()};r.resetNumberFormatDefaultLocale=Ob;r.resetTimeFormatDefaultLocale=cd;r.timeFormatDefaultLocale=Qd;r.timeFormatLocale=dd;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[44]=function(cc,Db,Xc,mb){var r=Db(27).Buffer;(function(g,qa){"object"===typeof mb&&"undefined"!==typeof Xc?qa(mb,Db(21),Db(22),Db(43)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],qa):(g="undefined"!==typeof globalThis?globalThis:g||self,qa(g.vega={},g.vega,g.topojson,g.vega))})(this,function(g,qa,hb,Gb){function $b(aa,ma){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const L=yield p.sanitize(aa,
ma),P=L.href;return L.localFile?p.file(P):p.http(P,ma)})}function oc(aa,ma){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ma=qa.extend({},p.options,ma);const L=p.fileAccess,P={href:null};var f;let v;var l=Na.test(aa.replace(xb,""));null!=aa&&"string"===typeof aa&&l||qa.error("Sanitize failure, invalid URI: "+qa.stringValue(aa));l=lb.test(aa);(f=ma.baseURL)&&!l&&(aa.startsWith("/")||f.endsWith("/")||(aa="/"+aa),aa=f+aa);v=(f=aa.startsWith("file://"))||"file"===ma.mode||
"http"!==ma.mode&&!l&&L;f?aa=aa.slice(7):aa.startsWith("//")&&("file"===ma.defaultProtocol?(aa=aa.slice(2),v=!0):aa=(ma.defaultProtocol||"http")+":"+aa);Object.defineProperty(P,"localFile",{value:!!v});P.href=aa;ma.target&&(P.target=ma.target+"");ma.rel&&(P.rel=ma.rel+"");"image"===ma.context&&ma.crossOrigin&&(P.crossOrigin=ma.crossOrigin+"");return P})}function kc(aa){return aa?ma=>new Promise((p,L)=>{aa.readFile(ma,(P,f)=>{P?L(P):p(f)})}):yc}function yc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){qa.error("No file system access.")})}
function Ab(aa){return aa?function(ma,p){const L=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var P=qa.extend({},L.options.http,p);const f=p&&p.response;P=yield aa(ma,P);return P.ok?qa.isFunction(P[f])?P[f]():P.text():qa.error(P.status+""+P.statusText)})}:gc}function gc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){qa.error("No HTTP fetch method available.")})}function rc(aa,ma){if(!aa||!aa.length)return"unknown";const p=aa.length,L=Zb.length,P=Zb.map((f,
v)=>v+1);for(let f=0,v=0,l,C;f<p;++f)for(C=ma?aa[f][ma]:aa[f],l=0;l<L;++l)if(P[l]&&null!=C&&C===C&&!Zb[l](C)&&(P[l]=0,++v,v===Zb.length))return"string";return nb[P.reduce((f,v)=>0===f?v:f,0)-1]}function Va(aa,ma){return ma.reduce((p,L)=>{p[L]=rc(aa,L);return p},{})}function qb(aa){return new Function("d","return {"+aa.map(function(ma,p){return JSON.stringify(ma)+": d["+p+'] || ""'}).join(",")+"}")}function Kb(aa,ma){var p=qb(aa);return function(L,P){return ma(p(L),P,aa)}}function Ob(aa){var ma=Object.create(null),
p=[];aa.forEach(function(L){for(var P in L)P in ma||p.push(ma[P]=P)});return p}function Bb(aa,ma){aa+="";var p=aa.length;return p<ma?Array(ma-p+1).join(0)+aa:aa}function Pb(aa){function ma(l,C){function B(){if(X)return Y;if(u)return u=!1,la;var ua,Ja=G,Wa;if(34===l.charCodeAt(Ja)){for(;G++<D&&34!==l.charCodeAt(G)||34===l.charCodeAt(++G););(ua=G)>=D?X=!0:10===(Wa=l.charCodeAt(G++))?u=!0:13===Wa&&(u=!0,10===l.charCodeAt(G)&&++G);return l.slice(Ja+1,ua-1).replace(/""/g,'"')}for(;G<D;){if(10===(Wa=l.charCodeAt(ua=
G++)))u=!0;else if(13===Wa)u=!0,10===l.charCodeAt(G)&&++G;else if(Wa!==v)continue;return l.slice(Ja,ua)}return X=!0,l.slice(Ja,D)}var z=[],D=l.length,G=0,U=0,Aa,X=0>=D,u=!1;10===l.charCodeAt(D-1)&&--D;for(13===l.charCodeAt(D-1)&&--D;(Aa=B())!==Y;){for(var K=[];Aa!==la&&Aa!==Y;)K.push(Aa),Aa=B();C&&null==(K=C(K,U++))||z.push(K)}return z}function p(l,C){return l.map(function(B){return C.map(function(z){return P(B[z])}).join(aa)})}function L(l){return l.map(P).join(aa)}function P(l){if(null==l)l="";
else{if(l instanceof Date){var C=l.getUTCHours();var B=l.getUTCMinutes(),z=l.getUTCSeconds(),D=l.getUTCMilliseconds();if(isNaN(l))l="Invalid Date";else{var G=l.getUTCFullYear();l=(0>G?"-"+Bb(-G,6):9999<G?"+"+Bb(G,6):Bb(G,4))+"-"+Bb(l.getUTCMonth()+1,2)+"-"+Bb(l.getUTCDate(),2)+(D?"T"+Bb(C,2)+":"+Bb(B,2)+":"+Bb(z,2)+"."+Bb(D,3)+"Z":z?"T"+Bb(C,2)+":"+Bb(B,2)+":"+Bb(z,2)+"Z":B||C?"T"+Bb(C,2)+":"+Bb(B,2)+"Z":"")}C=l}else C=f.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l;l=C}return l}var f=new RegExp('["'+
aa+"\n\r]"),v=aa.charCodeAt(0);return{parse:function(l,C){var B,z;l=ma(l,function(D,G){if(B)return B(D,G-1);z=D;B=C?Kb(D,C):qb(D)});l.columns=z||[];return l},parseRows:ma,format:function(l,C){null==C&&(C=Ob(l));return[C.map(P).join(aa)].concat(p(l,C)).join("\n")},formatBody:function(l,C){null==C&&(C=Ob(l));return p(l,C).join("\n")},formatRows:function(l){return l.map(L).join("\n")},formatRow:L,formatValue:P}}function Ua(aa){const ma=function(p,L){const P={delimiter:aa};return pb(p,L?qa.extend(L,P):
P)};ma.responseType="text";return ma}function pb(aa,ma){ma.header&&(aa=ma.header.map(qa.stringValue).join(ma.delimiter)+"\n"+aa);return Pb(ma.delimiter).parse(aa+"")}function Oa(aa,ma){const p=ma&&ma.property?qa.field(ma.property):qa.identity;var L;if(L=qa.isObject(aa))L=!("function"===typeof r&&qa.isFunction(r.isBuffer)&&r.isBuffer(aa));L?(aa=p(aa),!qa.isArray(aa)&&qa.isIterable(aa)&&(aa=[...aa]),ma=ma&&ma.copy?JSON.parse(JSON.stringify(aa)):aa):ma=p(JSON.parse(aa));return ma}function Da(aa,ma){let p,
L,P,f;aa=Oa(aa,ma);ma&&ma.feature?(p=hb.feature,P=ma.feature):ma&&ma.mesh?(p=hb.mesh,P=ma.mesh,f=Ha[ma.filter]):qa.error("Missing TopoJSON feature or mesh parameter.");return(L=(L=aa.objects[P])?p(aa,L,f):qa.error("Invalid TopoJSON object: "+P))&&L.features||[L]}function Pa(aa,ma){return 1<arguments.length?(Fa[aa]=ma,this):qa.hasOwnProperty(Fa,aa)?Fa[aa]:null}function kb(aa,ma,p,L){if(aa.length){var P=Gb.timeFormatDefaultLocale();p=p||P.timeParse;L=L||P.utcParse;P=aa.columns||Object.keys(aa[0]);var f,
v;"auto"===ma&&(ma=Va(aa,P));P=Object.keys(ma);var l=P.map(G=>{var U=ma[G];if(U&&(U.startsWith("date:")||U.startsWith("utc:"))){G=U.split(/:(.+)?/,2);U=G[1];if("'"===U[0]&&"'"===U[U.length-1]||'"'===U[0]&&'"'===U[U.length-1])U=U.slice(1,-1);return("utc"===G[0]?L:p)(U)}if(!Nb[U])throw Error("Illegal format pattern: "+G+":"+U);return Nb[U]});var C=0;var B=aa.length;for(v=P.length;C<B;++C){var z=aa[C];for(f=0;f<v;++f){var D=P[f];z[D]=l[f](z[D])}}}}const lb=/^(data:|([A-Za-z]+:)?\/\/)/,Na=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
xb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ob=aa=>!Number.isNaN(+aa)&&!(aa instanceof Date),Nb={boolean:qa.toBoolean,integer:qa.toNumber,number:qa.toNumber,date:qa.toDate,string:qa.toString,unknown:qa.identity},Zb=[aa=>"true"===aa||"false"===aa||!0===aa||!1===aa,aa=>ob(aa)&&Number.isInteger(+aa),ob,aa=>!Number.isNaN(Date.parse(aa))],nb=["boolean","integer","number","date"];var la={},Y={};pb.responseType="text";Oa.responseType="json";const Ha={interior:(aa,ma)=>aa!==ma,exterior:(aa,
ma)=>aa===ma};Da.responseType="json";const Fa={dsv:pb,csv:Ua(","),tsv:Ua("\t"),json:Oa,topojson:Da},cb=function(aa,ma){return p=>({options:p||{},sanitize:oc,load:$b,fileAccess:!!ma,file:kc(ma),http:Ab(aa)})}("undefined"!==typeof fetch&&fetch,null);g.format=Fa;g.formats=Pa;g.inferType=rc;g.inferTypes=Va;g.loader=cb;g.read=function(aa,ma,p,L){ma=ma||{};const P=Pa(ma.type||"json");P||qa.error("Unknown data format type: "+ma.type);aa=P(aa,ma);ma.parse&&kb(aa,ma.parse,p,L);qa.hasOwnProperty(aa,"columns")&&
delete aa.columns;return aa};g.responseType=function(aa){return(aa=Pa(aa))&&aa.responseType||"text"};g.typeParsers=Nb;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[45]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(42)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,qa){function hb(x,V,ea){V=x-V+2*ea;return x?0<V?V:1:0}function Gb(x){return function(V){let ea=V[0];V=V[1];let Ma;V<ea&&(Ma=ea,ea=V,V=Ma);return[x.invert(ea),x.invert(V)]}}function $b(x){return function(V){const ea=
x.range();let Ma=V[0];V=V[1];let yb=-1,Cb;let Rb;if(V<Ma){var jc=Ma;Ma=V;V=jc}jc=0;for(Rb=ea.length;jc<Rb;++jc)ea[jc]>=Ma&&ea[jc]<=V&&(0>yb&&(yb=jc),Cb=jc);if(!(0>yb))return Ma=x.invertExtent(ea[yb]),V=x.invertExtent(ea[Cb]),[void 0===Ma[0]?Ma[1]:Ma[0],void 0===V[1]?V[0]:V[1]]}}function oc(x,V){return null==x||null==V?NaN:x<V?-1:x>V?1:x>=V?0:NaN}function kc(x){function V(Cb,Rb,jc=0,Wc=Cb.length){if(jc<Wc){if(0!==Ma(Rb,Rb))return Wc;do{const Jd=jc+Wc>>>1;0>yb(Cb[Jd],Rb)?jc=Jd+1:Wc=Jd}while(jc<Wc)}return jc}
let ea=x,Ma=x,yb=x;2!==x.length&&(ea=(Cb,Rb)=>x(Cb)-Rb,Ma=oc,yb=(Cb,Rb)=>oc(x(Cb),Rb));return{left:V,center:function(Cb,Rb,jc=0,Wc=Cb.length){Wc=V(Cb,Rb,jc,Wc-1);return Wc>jc&&ea(Cb[Wc-1],Rb)>-ea(Cb[Wc],Rb)?Wc-1:Wc},right:function(Cb,Rb,jc=0,Wc=Cb.length){if(jc<Wc){if(0!==Ma(Rb,Rb))return Wc;do{const Jd=jc+Wc>>>1;0>=yb(Cb[Jd],Rb)?jc=Jd+1:Wc=Jd}while(jc<Wc)}return jc}}}function yc(x){return null===x?NaN:+x}function Ab({_intern:x,_key:V},ea){V=V(ea);return x.has(V)?x.get(V):ea}function gc({_intern:x,
_key:V},ea){V=V(ea);if(x.has(V))return x.get(V);x.set(V,ea);return ea}function rc({_intern:x,_key:V},ea){V=V(ea);x.has(V)&&(ea=x.get(V),x.delete(V));return ea}function Va(x){return null!==x&&"object"===typeof x?x.valueOf():x}function qb(x,V,ea){var Ma,yb=-1,Cb;V=+V;x=+x;ea=+ea;if(x===V&&0<ea)return[x];if(Ma=V<x){var Rb=x;x=V;V=Rb}if(0===(Cb=Kb(x,V,ea))||!isFinite(Cb))return[];if(0<Cb)for(ea=Math.round(x/Cb),Rb=Math.round(V/Cb),ea*Cb<x&&++ea,Rb*Cb>V&&--Rb,x=Array(Rb=Rb-ea+1);++yb<Rb;)x[yb]=(ea+yb)*
Cb;else for(Cb=-Cb,ea=Math.round(x*Cb),Rb=Math.round(V*Cb),ea/Cb<x&&++ea,Rb/Cb>V&&--Rb,x=Array(Rb=Rb-ea+1);++yb<Rb;)x[yb]=(ea+yb)/Cb;Ma&&x.reverse();return x}function Kb(x,V,ea){V=(V-x)/Math.max(0,ea);x=Math.floor(Math.log(V)/Math.LN10);V/=Math.pow(10,x);return 0<=x?(V>=zf?10:V>=rg?5:V>=vg?2:1)*Math.pow(10,x):-Math.pow(10,-x)/(V>=zf?10:V>=rg?5:V>=vg?2:1)}function Ob(x,V,ea){var Ma=Math.abs(V-x)/Math.max(0,ea);ea=Math.pow(10,Math.floor(Math.log(Ma)/Math.LN10));Ma/=ea;Ma>=zf?ea*=10:Ma>=rg?ea*=5:Ma>=
vg&&(ea*=2);return V<x?-ea:ea}function Bb(x,V,ea=yc){if(Ma=x.length){if(0>=(V=+V)||2>Ma)return+ea(x[0],0,x);if(1<=V)return+ea(x[Ma-1],Ma-1,x);var Ma;V*=Ma-1;Ma=Math.floor(V);var yb=+ea(x[Ma],Ma,x);x=+ea(x[Ma+1],Ma+1,x);return yb+(x-yb)*(V-Ma)}}function Pb(x,V,ea){x=+x;V=+V;ea=2>(yb=arguments.length)?(V=x,x=0,1):3>yb?1:+ea;for(var Ma=-1,yb=Math.max(0,Math.ceil((V-x)/ea))|0,Cb=Array(yb);++Ma<yb;)Cb[Ma]=x+Ma*ea;return Cb}function Ua(x,V){switch(arguments.length){case 0:break;case 1:this.range(x);break;
default:this.range(V).domain(x)}return this}function pb(x,V){switch(arguments.length){case 0:break;case 1:"function"===typeof x?this.interpolator(x):this.range(x);break;default:this.domain(x),"function"===typeof V?this.interpolator(V):this.range(V)}return this}function Oa(){function x(Cb){let Rb=V.get(Cb);if(void 0===Rb){if(yb!==ig)return yb;V.set(Cb,Rb=ea.push(Cb)-1)}return Ma[Rb%Ma.length]}var V=new lf,ea=[],Ma=[],yb=ig;x.domain=function(Cb){if(!arguments.length)return ea.slice();ea=[];V=new lf;
for(const Rb of Cb)V.has(Rb)||V.set(Rb,ea.push(Rb)-1);return x};x.range=function(Cb){return arguments.length?(Ma=Array.from(Cb),x):Ma.slice()};x.unknown=function(Cb){return arguments.length?(yb=Cb,x):yb};x.copy=function(){return Oa(ea,Ma).unknown(yb)};Ua.apply(x,arguments);return x}function Da(x,V,ea){x.prototype=V.prototype=ea;ea.constructor=x}function Pa(x,V){x=Object.create(x.prototype);for(var ea in V)x[ea]=V[ea];return x}function kb(){}function lb(){return this.rgb().formatHex()}function Na(){return this.rgb().formatRgb()}
function xb(x){var V,ea;x=(x+"").trim().toLowerCase();return(V=Pg.exec(x))?(ea=V[1].length,V=parseInt(V[1],16),6===ea?ob(V):3===ea?new la(V>>8&15|V>>4&240,V>>4&15|V&240,(V&15)<<4|V&15,1):8===ea?Nb(V>>24&255,V>>16&255,V>>8&255,(V&255)/255):4===ea?Nb(V>>12&15|V>>8&240,V>>8&15|V>>4&240,V>>4&15|V&240,((V&15)<<4|V&15)/255):null):(V=$g.exec(x))?new la(V[1],V[2],V[3],1):(V=jh.exec(x))?new la(255*V[1]/100,255*V[2]/100,255*V[3]/100,1):(V=wg.exec(x))?Nb(V[1],V[2],V[3],V[4]):(V=qh.exec(x))?Nb(255*V[1]/100,255*
V[2]/100,255*V[3]/100,V[4]):(V=ph.exec(x))?cb(V[1],V[2]/100,V[3]/100,1):(V=Ih.exec(x))?cb(V[1],V[2]/100,V[3]/100,V[4]):Vg.hasOwnProperty(x)?ob(Vg[x]):"transparent"===x?new la(NaN,NaN,NaN,0):null}function ob(x){return new la(x>>16&255,x>>8&255,x&255,1)}function Nb(x,V,ea,Ma){0>=Ma&&(x=V=ea=NaN);return new la(x,V,ea,Ma)}function Zb(x){x instanceof kb||(x=xb(x));if(!x)return new la;x=x.rgb();return new la(x.r,x.g,x.b,x.opacity)}function nb(x,V,ea,Ma){return 1===arguments.length?Zb(x):new la(x,V,ea,null==
Ma?1:Ma)}function la(x,V,ea,Ma){this.r=+x;this.g=+V;this.b=+ea;this.opacity=+Ma}function Y(){return"#"+Fa(this.r)+Fa(this.g)+Fa(this.b)}function Ha(){var x=this.opacity;x=isNaN(x)?1:Math.max(0,Math.min(1,x));return(1===x?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===x?")":", "+x+")")}function Fa(x){x=Math.max(0,Math.min(255,Math.round(x)||0));return(16>x?"0":"")+x.toString(16)}
function cb(x,V,ea,Ma){0>=Ma?x=V=ea=NaN:0>=ea||1<=ea?x=V=NaN:0>=V&&(x=NaN);return new p(x,V,ea,Ma)}function aa(x){if(x instanceof p)return new p(x.h,x.s,x.l,x.opacity);x instanceof kb||(x=xb(x));if(!x)return new p;if(x instanceof p)return x;x=x.rgb();var V=x.r/255,ea=x.g/255,Ma=x.b/255,yb=Math.min(V,ea,Ma),Cb=Math.max(V,ea,Ma),Rb=NaN,jc=Cb-yb,Wc=(Cb+yb)/2;jc?(Rb=V===Cb?(ea-Ma)/jc+6*(ea<Ma):ea===Cb?(Ma-V)/jc+2:(V-ea)/jc+4,jc/=.5>Wc?Cb+yb:2-Cb-yb,Rb*=60):jc=0<Wc&&1>Wc?0:Rb;return new p(Rb,jc,Wc,x.opacity)}
function ma(x,V,ea,Ma){return 1===arguments.length?aa(x):new p(x,V,ea,null==Ma?1:Ma)}function p(x,V,ea,Ma){this.h=+x;this.s=+V;this.l=+ea;this.opacity=+Ma}function L(x,V,ea){return 255*(60>x?V+(ea-V)*x/60:180>x?ea:240>x?V+(ea-V)*(240-x)/60:V)}function P(x){if(x instanceof v)return new v(x.l,x.a,x.b,x.opacity);if(x instanceof U)return Aa(x);x instanceof la||(x=Zb(x));var V=z(x.r),ea=z(x.g),Ma=z(x.b),yb=l(.2225045*V+.7168786*ea+.0606169*Ma);if(V===ea&&ea===Ma)var Cb=V=yb;else Cb=l((.4360747*V+.3850649*
ea+.1430804*Ma)/.96422),V=l((.0139322*V+.0971045*ea+.7141733*Ma)/.82521);return new v(116*yb-16,500*(Cb-yb),200*(yb-V),x.opacity)}function f(x,V,ea,Ma){return 1===arguments.length?P(x):new v(x,V,ea,null==Ma?1:Ma)}function v(x,V,ea,Ma){this.l=+x;this.a=+V;this.b=+ea;this.opacity=+Ma}function l(x){return x>ri?Math.pow(x,1/3):x/kh+qi}function C(x){return x>Tg?x*x*x:kh*(x-qi)}function B(x){return 255*(.0031308>=x?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function z(x){return.04045>=(x/=255)?x/12.92:Math.pow((x+
.055)/1.055,2.4)}function D(x){if(x instanceof U)return new U(x.h,x.c,x.l,x.opacity);x instanceof v||(x=P(x));if(0===x.a&&0===x.b)return new U(NaN,0<x.l&&100>x.l?0:NaN,x.l,x.opacity);var V=Math.atan2(x.b,x.a)*yh;return new U(0>V?V+360:V,Math.sqrt(x.a*x.a+x.b*x.b),x.l,x.opacity)}function G(x,V,ea,Ma){return 1===arguments.length?D(x):new U(x,V,ea,null==Ma?1:Ma)}function U(x,V,ea,Ma){this.h=+x;this.c=+V;this.l=+ea;this.opacity=+Ma}function Aa(x){if(isNaN(x.h))return new v(x.l,0,0,x.opacity);var V=x.h*
rh;return new v(x.l,Math.cos(V)*x.c,Math.sin(V)*x.c,x.opacity)}function X(x,V,ea,Ma){if(1===arguments.length){var yb=x;if(yb instanceof u)yb=new u(yb.h,yb.s,yb.l,yb.opacity);else{yb instanceof la||(yb=Zb(yb));var Cb=yb.g/255,Rb=yb.b/255,jc=(Cg*Rb+yb.r/255*-1.7884503806-3.5172982438*Cb)/(Cg+-1.7884503806-3.5172982438);Rb-=jc;var Wc=(1.97294*(Cb-jc)- -.29227*Rb)/-.90649;Rb=(Cb=Math.sqrt(Wc*Wc+Rb*Rb)/(1.97294*jc*(1-jc)))?Math.atan2(Wc,Rb)*yh-120:NaN;yb=new u(0>Rb?Rb+360:Rb,Cb,jc,yb.opacity)}}else yb=
new u(x,V,ea,null==Ma?1:Ma);return yb}function u(x,V,ea,Ma){this.h=+x;this.s=+V;this.l=+ea;this.opacity=+Ma}function K(x,V,ea,Ma,yb){var Cb=x*x,Rb=Cb*x;return((1-3*x+3*Cb-Rb)*V+(4-6*Cb+3*Rb)*ea+(1+3*x+3*Cb-3*Rb)*Ma+Rb*yb)/6}function ua(x){var V=x.length-1;return function(ea){var Ma=0>=ea?ea=0:1<=ea?(ea=1,V-1):Math.floor(ea*V),yb=x[Ma],Cb=x[Ma+1];return K((ea-Ma/V)*V,0<Ma?x[Ma-1]:2*yb-Cb,yb,Cb,Ma<V-1?x[Ma+2]:2*Cb-yb)}}function Ja(x){var V=x.length;return function(ea){var Ma=Math.floor((0>(ea%=1)?++ea:
ea)*V);return K((ea-Ma/V)*V,x[(Ma+V-1)%V],x[Ma%V],x[(Ma+1)%V],x[(Ma+2)%V])}}function Wa(x,V){return function(ea){return x+ea*V}}function ab(x,V,ea){return x=Math.pow(x,ea),V=Math.pow(V,ea)-x,ea=1/ea,function(Ma){return Math.pow(x+Ma*V,ea)}}function W(x,V){var ea=V-x;return ea?Wa(x,180<ea||-180>ea?ea-360*Math.round(ea/360):ea):zh(isNaN(x)?V:x)}function Ca(x){return 1===(x=+x)?Za:function(V,ea){return ea-V?ab(V,ea,x):zh(isNaN(V)?ea:V)}}function Za(x,V){var ea=V-x;return ea?Wa(x,ea):zh(isNaN(x)?V:x)}
function Ib(x){return function(V){var ea=V.length,Ma=Array(ea),yb=Array(ea),Cb=Array(ea),Rb;for(Rb=0;Rb<ea;++Rb){var jc=nb(V[Rb]);Ma[Rb]=jc.r||0;yb[Rb]=jc.g||0;Cb[Rb]=jc.b||0}Ma=x(Ma);yb=x(yb);Cb=x(Cb);jc.opacity=1;return function(Wc){jc.r=Ma(Wc);jc.g=yb(Wc);jc.b=Cb(Wc);return jc+""}}}function xc(x,V){V||(V=[]);var ea=x?Math.min(V.length,x.length):0,Ma=V.slice(),yb;return function(Cb){for(yb=0;yb<ea;++yb)Ma[yb]=x[yb]*(1-Cb)+V[yb]*Cb;return Ma}}function uc(x){return ArrayBuffer.isView(x)&&!(x instanceof
DataView)}function wc(x,V){var ea=V?V.length:0,Ma=x?Math.min(ea,x.length):0,yb=Array(Ma),Cb=Array(ea),Rb;for(Rb=0;Rb<Ma;++Rb)yb[Rb]=rb(x[Rb],V[Rb]);for(;Rb<ea;++Rb)Cb[Rb]=V[Rb];return function(jc){for(Rb=0;Rb<Ma;++Rb)Cb[Rb]=yb[Rb](jc);return Cb}}function bd(x,V){var ea=new Date;return x=+x,V=+V,function(Ma){return ea.setTime(x*(1-Ma)+V*Ma),ea}}function Wb(x,V){return x=+x,V=+V,function(ea){return x*(1-ea)+V*ea}}function Rc(x,V){var ea={},Ma={},yb;if(null===x||"object"!==typeof x)x={};if(null===V||
"object"!==typeof V)V={};for(yb in V)yb in x?ea[yb]=rb(x[yb],V[yb]):Ma[yb]=V[yb];return function(Cb){for(yb in ea)Ma[yb]=ea[yb](Cb);return Ma}}function Pd(x){return function(){return x}}function Ka(x){return function(V){return x(V)+""}}function Ub(x,V){var ea=lh.lastIndex=sh.lastIndex=0,Ma,yb,Cb,Rb=-1,jc=[],Wc=[];x+="";for(V+="";(Ma=lh.exec(x))&&(yb=sh.exec(V));)(Cb=yb.index)>ea&&(Cb=V.slice(ea,Cb),jc[Rb]?jc[Rb]+=Cb:jc[++Rb]=Cb),(Ma=Ma[0])===(yb=yb[0])?jc[Rb]?jc[Rb]+=yb:jc[++Rb]=yb:(jc[++Rb]=null,
Wc.push({i:Rb,x:Wb(Ma,yb)})),ea=sh.lastIndex;ea<V.length&&(Cb=V.slice(ea),jc[Rb]?jc[Rb]+=Cb:jc[++Rb]=Cb);return 2>jc.length?Wc[0]?Ka(Wc[0].x):Pd(V):(V=Wc.length,function(Jd){for(var Sd=0,ad;Sd<V;++Sd)jc[(ad=Wc[Sd]).i]=ad.x(Jd);return jc.join("")})}function rb(x,V){var ea=typeof V,Ma;return null==V||"boolean"===ea?zh(V):("number"===ea?Wb:"string"===ea?(Ma=xb(V))?(V=Ma,Th):Ub:V instanceof xb?Th:V instanceof Date?bd:uc(V)?xc:Array.isArray(V)?wc:"function"!==typeof V.valueOf&&"function"!==typeof V.toString||
isNaN(V)?Rc:Wb)(x,V)}function Sb(x,V){return x=+x,V=+V,function(ea){return Math.round(x*(1-ea)+V*ea)}}function fc(x,V,ea,Ma,yb,Cb){var Rb,jc,Wc;if(Rb=Math.sqrt(x*x+V*V))x/=Rb,V/=Rb;if(Wc=x*ea+V*Ma)ea-=x*Wc,Ma-=V*Wc;if(jc=Math.sqrt(ea*ea+Ma*Ma))ea/=jc,Ma/=jc,Wc/=jc;x*Ma<V*ea&&(x=-x,V=-V,Wc=-Wc,Rb=-Rb);return{translateX:yb,translateY:Cb,rotate:Math.atan2(V,x)*Gg,skewX:Math.atan(Wc)*Gg,scaleX:Rb,scaleY:jc}}function bc(x,V,ea,Ma){function yb(Jd){return Jd.length?Jd.pop()+" ":""}function Cb(Jd,Sd,ad,ke,
Ae,Re){Jd!==ad||Sd!==ke?(Ae=Ae.push("translate(",null,V,null,ea),Re.push({i:Ae-4,x:Wb(Jd,ad)},{i:Ae-2,x:Wb(Sd,ke)})):(ad||ke)&&Ae.push("translate("+ad+V+ke+ea)}function Rb(Jd,Sd,ad,ke){Jd!==Sd?(180<Jd-Sd?Sd+=360:180<Sd-Jd&&(Jd+=360),ke.push({i:ad.push(yb(ad)+"rotate(",null,Ma)-2,x:Wb(Jd,Sd)})):Sd&&ad.push(yb(ad)+"rotate("+Sd+Ma)}function jc(Jd,Sd,ad,ke){Jd!==Sd?ke.push({i:ad.push(yb(ad)+"skewX(",null,Ma)-2,x:Wb(Jd,Sd)}):Sd&&ad.push(yb(ad)+"skewX("+Sd+Ma)}function Wc(Jd,Sd,ad,ke,Ae,Re){Jd!==ad||Sd!==
ke?(Ae=Ae.push(yb(Ae)+"scale(",null,",",null,")"),Re.push({i:Ae-4,x:Wb(Jd,ad)},{i:Ae-2,x:Wb(Sd,ke)})):1===ad&&1===ke||Ae.push(yb(Ae)+"scale("+ad+","+ke+")")}return function(Jd,Sd){var ad=[],ke=[];Jd=x(Jd);Sd=x(Sd);Cb(Jd.translateX,Jd.translateY,Sd.translateX,Sd.translateY,ad,ke);Rb(Jd.rotate,Sd.rotate,ad,ke);jc(Jd.skewX,Sd.skewX,ad,ke);Wc(Jd.scaleX,Jd.scaleY,Sd.scaleX,Sd.scaleY,ad,ke);Jd=Sd=null;return function(Ae){for(var Re=-1,w=ke.length,S;++Re<w;)ad[(S=ke[Re]).i]=S.x(Ae);return ad.join("")}}}
function Hc(x){return((x=Math.exp(x))+1/x)/2}function zc(x){return function(V,ea){var Ma=x((V=ma(V)).h,(ea=ma(ea)).h),yb=Za(V.s,ea.s),Cb=Za(V.l,ea.l),Rb=Za(V.opacity,ea.opacity);return function(jc){V.h=Ma(jc);V.s=yb(jc);V.l=Cb(jc);V.opacity=Rb(jc);return V+""}}}function Yc(x){return function(V,ea){var Ma=x((V=G(V)).h,(ea=G(ea)).h),yb=Za(V.c,ea.c),Cb=Za(V.l,ea.l),Rb=Za(V.opacity,ea.opacity);return function(jc){V.h=Ma(jc);V.c=yb(jc);V.l=Cb(jc);V.opacity=Rb(jc);return V+""}}}function Md(x){return function Ma(ea){function yb(Cb,
Rb){var jc=x((Cb=X(Cb)).h,(Rb=X(Rb)).h),Wc=Za(Cb.s,Rb.s),Jd=Za(Cb.l,Rb.l),Sd=Za(Cb.opacity,Rb.opacity);return function(ad){Cb.h=jc(ad);Cb.s=Wc(ad);Cb.l=Jd(Math.pow(ad,ea));Cb.opacity=Sd(ad);return Cb+""}}ea=+ea;yb.gamma=Ma;return yb}(1)}function td(x,V){void 0===V&&(V=x,x=rb);for(var ea=0,Ma=V.length-1,yb=V[0],Cb=Array(0>Ma?0:Ma);ea<Ma;)Cb[ea]=x(yb,yb=V[++ea]);return function(Rb){var jc=Math.max(0,Math.min(Ma-1,Math.floor(Rb*=Ma)));return Cb[jc](Rb-jc)}}function Ga(x){return function(){return x}}
function gb(x){return+x}function vb(x){return x}function ra(x,V){return(V-=x=+x)?function(ea){return(ea-x)/V}:Ga(isNaN(V)?NaN:.5)}function F(x,V){if(x>V){var ea=x;x=V;V=ea}return function(Ma){return Math.max(x,Math.min(V,Ma))}}function ya(x,V,ea){var Ma=x[0];x=x[1];var yb=V[0];V=V[1];x<Ma?(Ma=ra(x,Ma),yb=ea(V,yb)):(Ma=ra(Ma,x),yb=ea(yb,V));return function(Cb){return yb(Ma(Cb))}}function La(x,V,ea){var Ma=Math.min(x.length,V.length)-1,yb=Array(Ma),Cb=Array(Ma),Rb=-1;x[Ma]<x[0]&&(x=x.slice().reverse(),
V=V.slice().reverse());for(;++Rb<Ma;)yb[Rb]=ra(x[Rb],x[Rb+1]),Cb[Rb]=ea(V[Rb],V[Rb+1]);return function(jc){var Wc=wf(x,jc,1,Ma)-1;return Cb[Wc](yb[Wc](jc))}}function $a(x,V){return V.domain(x.domain()).range(x.range()).interpolate(x.interpolate()).clamp(x.clamp()).unknown(x.unknown())}function jb(){function x(){var ke=Math.min(ea.length,Ma.length);Wc!==vb&&(Wc=F(ea[0],ea[ke-1]));Jd=2<ke?La:ya;Sd=ad=null;return V}function V(ke){return null==ke||isNaN(ke=+ke)?jc:(Sd||(Sd=Jd(ea.map(Cb),Ma,yb)))(Cb(Wc(ke)))}
var ea=eg,Ma=eg,yb=rb,Cb,Rb,jc,Wc=vb,Jd,Sd,ad;V.invert=function(ke){return Wc(Rb((ad||(ad=Jd(Ma,ea.map(Cb),Wb)))(ke)))};V.domain=function(ke){return arguments.length?(ea=Array.from(ke,gb),x()):ea.slice()};V.range=function(ke){return arguments.length?(Ma=Array.from(ke),x()):Ma.slice()};V.rangeRound=function(ke){return Ma=Array.from(ke),yb=Sb,x()};V.clamp=function(ke){return arguments.length?(Wc=ke?!0:vb,x()):Wc!==vb};V.interpolate=function(ke){return arguments.length?(yb=ke,x()):yb};V.unknown=function(ke){return arguments.length?
(jc=ke,V):jc};return function(ke,Ae){Cb=ke;Rb=Ae;return x()}}function Fb(x,V){if(0>(V=(x=V?x.toExponential(V-1):x.toExponential()).indexOf("e")))return null;var ea=x.slice(0,V);return[1<ea.length?ea[0]+ea.slice(2):ea,+x.slice(V+1)]}function nc(x){return x=Fb(Math.abs(x)),x?x[1]:NaN}function dc(x,V){return function(ea,Ma){for(var yb=ea.length,Cb=[],Rb=0,jc=x[0],Wc=0;0<yb&&0<jc;){Wc+jc+1>Ma&&(jc=Math.max(1,Ma-Wc));Cb.push(ea.substring(yb-=jc,yb+jc));if((Wc+=jc+1)>Ma)break;jc=x[Rb=(Rb+1)%x.length]}return Cb.reverse().join(V)}}
function ic(x){return function(V){return V.replace(/[0-9]/g,function(ea){return x[+ea]})}}function Uc(x){if(!(V=Xf.exec(x)))throw Error("invalid format: "+x);var V;return new cd({fill:V[1],align:V[2],sign:V[3],symbol:V[4],zero:V[5],width:V[6],comma:V[7],precision:V[8]&&V[8].slice(1),trim:V[9],type:V[10]})}function cd(x){this.fill=void 0===x.fill?" ":x.fill+"";this.align=void 0===x.align?"\x3e":x.align+"";this.sign=void 0===x.sign?"-":x.sign+"";this.symbol=void 0===x.symbol?"":x.symbol+"";this.zero=
!!x.zero;this.width=void 0===x.width?void 0:+x.width;this.comma=!!x.comma;this.precision=void 0===x.precision?void 0:+x.precision;this.trim=!!x.trim;this.type=void 0===x.type?"":x.type+""}function dd(x,V){V=Fb(x,V);if(!V)return x+"";x=V[0];V=V[1];return 0>V?"0."+Array(-V).join("0")+x:x.length>V+1?x.slice(0,V+1)+"."+x.slice(V+1):x+Array(V-x.length+2).join("0")}function Qd(x){return x}function Td(x){function V(Sd){function ad(mc){var qd=Mb,ud=Kc,xe,qe;if("c"===Lb)ud=Dd(mc)+ud,mc="";else{mc=+mc;var Se=
0>mc||0>1/mc;mc=isNaN(mc)?Jd:Dd(Math.abs(mc),sb);if(wb){var Cf=mc.length,Rf=1,kg=-1;a:for(;Rf<Cf;++Rf)switch(mc[Rf]){case ".":kg=xe=Rf;break;case "0":0===kg&&(kg=Rf);xe=Rf;break;default:if(!+mc[Rf])break a;0<kg&&(kg=0)}mc=0<kg?mc.slice(0,kg)+mc.slice(xe+1):mc}Se&&0===+mc&&"+"!==Re&&(Se=!1);qd=(Se?"("===Re?Re:Wc:"-"===Re||"("===Re?"":Re)+qd;ud=("s"===Lb?q[8+R/3]:"")+ud+(Se&&"("===Re?")":"");if(ed)for(Se=-1,xe=mc.length;++Se<xe;)if(qe=mc.charCodeAt(Se),48>qe||57<qe){ud=(46===qe?Cb+mc.slice(Se+1):mc.slice(Se))+
ud;mc=mc.slice(0,Se);break}}Ea&&!S&&(mc=ea(mc,Infinity));qe=qd.length+mc.length+ud.length;Se=qe<Z?Array(Z-qe+1).join(ke):"";Ea&&S&&(mc=ea(Se+mc,Se.length?Z-ud.length:Infinity),Se="");switch(Ae){case "\x3c":mc=qd+mc+ud+Se;break;case "\x3d":mc=qd+Se+mc+ud;break;case "^":mc=Se.slice(0,qe=Se.length>>1)+qd+mc+ud+Se.slice(qe);break;default:mc=Se+qd+mc+ud}return Rb(mc)}Sd=Uc(Sd);var ke=Sd.fill,Ae=Sd.align,Re=Sd.sign,w=Sd.symbol,S=Sd.zero,Z=Sd.width,Ea=Sd.comma,sb=Sd.precision,wb=Sd.trim,Lb=Sd.type;"n"===
Lb?(Ea=!0,Lb="g"):va[Lb]||(void 0===sb&&(sb=12),wb=!0,Lb="g");if(S||"0"===ke&&"\x3d"===Ae)S=!0,ke="0",Ae="\x3d";var Mb="$"===w?Ma:"#"===w&&/[boxX]/.test(Lb)?"0"+Lb.toLowerCase():"",Kc="$"===w?yb:/[%p]/.test(Lb)?jc:"",Dd=va[Lb],ed=/[defgprs%]/.test(Lb);sb=void 0===sb?6:/[gprs]/.test(Lb)?Math.max(1,Math.min(21,sb)):Math.max(0,Math.min(20,sb));ad.toString=function(){return Sd+""};return ad}var ea=void 0===x.grouping||void 0===x.thousands?Qd:dc(Qa.call(x.grouping,Number),x.thousands+""),Ma=void 0===x.currency?
"":x.currency[0]+"",yb=void 0===x.currency?"":x.currency[1]+"",Cb=void 0===x.decimal?".":x.decimal+"",Rb=void 0===x.numerals?Qd:ic(Qa.call(x.numerals,String)),jc=void 0===x.percent?"%":x.percent+"",Wc=void 0===x.minus?"":x.minus+"",Jd=void 0===x.nan?"NaN":x.nan+"";return{format:V,formatPrefix:function(Sd,ad){var ke=V((Sd=Uc(Sd),Sd.type="f",Sd));Sd=3*Math.max(-8,Math.min(8,Math.floor(nc(ad)/3)));var Ae=Math.pow(10,-Sd),Re=q[8+Sd/3];return function(w){return ke(Ae*w)+Re}}}}function Ed(x,V,ea,Ma){ea=
Ob(x,V,ea);Ma=Uc(null==Ma?",f":Ma);switch(Ma.type){case "s":x=Math.max(Math.abs(x),Math.abs(V));if(V=null==Ma.precision){var yb=isNaN;ea=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(nc(x)/3)))-nc(Math.abs(ea)));V=!yb(yb=ea)}V&&(Ma.precision=yb);return wa(Ma,x);case "":case "e":case "g":case "p":case "r":var Cb;if(Cb=null==Ma.precision)yb=isNaN,x=Math.max(Math.abs(x),Math.abs(V)),ea=Math.abs(ea),x=Math.abs(x)-ea,ea=Math.max(0,nc(x)-nc(ea))+1,Cb=!yb(yb=ea);Cb&&(Ma.precision=yb-("e"===Ma.type));break;
case "f":case "%":null!=Ma.precision||isNaN(yb=Math.max(0,-nc(Math.abs(ea))))||(Ma.precision=yb-2*("%"===Ma.type))}return ha(Ma)}function Zd(x){var V=x.domain;x.ticks=function(ea){var Ma=V();return qb(Ma[0],Ma[Ma.length-1],null==ea?10:ea)};x.tickFormat=function(ea,Ma){var yb=V();return Ed(yb[0],yb[yb.length-1],null==ea?10:ea,Ma)};x.nice=function(ea){null==ea&&(ea=10);var Ma=V(),yb=0,Cb=Ma.length-1,Rb=Ma[yb],jc=Ma[Cb],Wc=10;if(jc<Rb){var Jd=Rb;Rb=jc;jc=Jd;Jd=yb;yb=Cb;Cb=Jd}for(;0<Wc--;){Jd=Kb(Rb,jc,
ea);if(Jd===Sd)return Ma[yb]=Rb,Ma[Cb]=jc,V(Ma);if(0<Jd)Rb=Math.floor(Rb/Jd)*Jd,jc=Math.ceil(jc/Jd)*Jd;else if(0>Jd)Rb=Math.ceil(Rb*Jd)/Jd,jc=Math.floor(jc*Jd)/Jd;else break;var Sd=Jd}return x};return x}function de(){var x=jb()(vb,vb);x.copy=function(){return $a(x,de())};Ua.apply(x,arguments);return Zd(x)}function Ud(x){function V(Ma){return null==Ma||isNaN(Ma=+Ma)?ea:Ma}var ea;V.invert=V;V.domain=V.range=function(Ma){return arguments.length?(x=Array.from(Ma,gb),V):x.slice()};V.unknown=function(Ma){return arguments.length?
(ea=Ma,V):ea};V.copy=function(){return Ud(x).unknown(ea)};x=arguments.length?Array.from(x,gb):[0,1];return Zd(V)}function Te(x,V){x=x.slice();var ea=0,Ma=x.length-1,yb=x[ea],Cb=x[Ma];if(Cb<yb){var Rb=ea;ea=Ma;Ma=Rb;Rb=yb;yb=Cb;Cb=Rb}x[ea]=V.floor(yb);x[Ma]=V.ceil(Cb);return x}function Xd(x){return Math.log(x)}function M(x){return Math.exp(x)}function ka(x){return-Math.log(-x)}function za(x){return-Math.exp(-x)}function fb(x){return isFinite(x)?+("1e"+x):0>x?0:x}function Hb(x){return 10===x?fb:x===
Math.E?Math.exp:V=>Math.pow(x,V)}function Xb(x){return x===Math.E?Math.log:10===x&&Math.log10||2===x&&Math.log2||(x=Math.log(x),V=>Math.log(V)/x)}function Ac(x){return(V,ea)=>-x(-V,ea)}function lc(x){function V(){Cb=Xb(yb);Rb=Hb(yb);0>Ma()[0]?(Cb=Ac(Cb),Rb=Ac(Rb),x(ka,za)):x(Xd,M);return ea}const ea=x(Xd,M),Ma=ea.domain;let yb=10,Cb,Rb;ea.base=function(jc){return arguments.length?(yb=+jc,V()):yb};ea.domain=function(jc){return arguments.length?(Ma(jc),V()):Ma()};ea.ticks=jc=>{var Wc=Ma();let Jd=Wc[0];
Wc=Wc[Wc.length-1];const Sd=Wc<Jd;Sd&&([Jd,Wc]=[Wc,Jd]);let ad=Cb(Jd),ke=Cb(Wc),Ae;const Re=null==jc?10:+jc;let w=[];if(!(yb%1)&&ke-ad<Re){ad=Math.floor(ad);ke=Math.ceil(ke);if(0<Jd)for(;ad<=ke;++ad)for(jc=1;jc<yb;++jc){if(Ae=0>ad?jc/Rb(-ad):jc*Rb(ad),!(Ae<Jd)){if(Ae>Wc)break;w.push(Ae)}}else for(;ad<=ke;++ad)for(jc=yb-1;1<=jc;--jc)if(Ae=0<ad?jc/Rb(-ad):jc*Rb(ad),!(Ae<Jd)){if(Ae>Wc)break;w.push(Ae)}2*w.length<Re&&(w=qb(Jd,Wc,Re))}else w=qb(ad,ke,Math.min(ke-ad,Re)).map(Rb);return Sd?w.reverse():w};
ea.tickFormat=(jc,Wc)=>{null==jc&&(jc=10);null==Wc&&(Wc=10===yb?"s":",");"function"!==typeof Wc&&(yb%1||null!=(Wc=Uc(Wc)).precision||(Wc.trim=!0),Wc=ha(Wc));if(Infinity===jc)return Wc;const Jd=Math.max(1,yb*jc/ea.ticks().length);return Sd=>{let ad=Sd/Rb(Math.round(Cb(Sd)));ad*yb<yb-.5&&(ad*=yb);return ad<=Jd?Wc(Sd):""}};ea.nice=()=>Ma(Te(Ma(),{floor:jc=>Rb(Math.floor(Cb(jc))),ceil:jc=>Rb(Math.ceil(Cb(jc)))}));return ea}function Fc(){const x=lc(jb()).domain([1,10]);x.copy=()=>$a(x,Fc()).base(x.base());
Ua.apply(x,arguments);return x}function hd(x){return function(V){return Math.sign(V)*Math.log1p(Math.abs(V/x))}}function Nc(x){return function(V){return Math.sign(V)*Math.expm1(Math.abs(V))*x}}function rd(x){var V=1,ea=x(hd(V),Nc(V));ea.constant=function(Ma){return arguments.length?x(hd(V=+Ma),Nc(V)):V};return Zd(ea)}function Gd(){var x=rd(jb());x.copy=function(){return $a(x,Gd()).constant(x.constant())};return Ua.apply(x,arguments)}function Fd(x){return function(V){return 0>V?-Math.pow(-V,x):Math.pow(V,
x)}}function $d(x){return 0>x?-Math.sqrt(-x):Math.sqrt(x)}function Wd(x){return 0>x?-x*x:x*x}function ae(x){var V=x(vb,vb),ea=1;V.exponent=function(Ma){return arguments.length?(ea=+Ma,1===ea?x(vb,vb):.5===ea?x($d,Wd):x(Fd(ea),Fd(1/ea))):ea};return Zd(V)}function Be(){var x=ae(jb());x.copy=function(){return $a(x,Be()).exponent(x.exponent())};Ua.apply(x,arguments);return x}function ff(){function x(){var Rb=0,jc=Math.max(1,Ma.length);for(yb=Array(jc-1);++Rb<jc;)yb[Rb-1]=Bb(ea,Rb/jc);return V}function V(Rb){return null==
Rb||isNaN(Rb=+Rb)?Cb:Ma[wf(yb,Rb)]}var ea=[],Ma=[],yb=[],Cb;V.invertExtent=function(Rb){Rb=Ma.indexOf(Rb);return 0>Rb?[NaN,NaN]:[0<Rb?yb[Rb-1]:ea[0],Rb<yb.length?yb[Rb]:ea[ea.length-1]]};V.domain=function(Rb){if(!arguments.length)return ea.slice();ea=[];for(let jc of Rb)null==jc||isNaN(jc=+jc)||ea.push(jc);ea.sort(oc);return x()};V.range=function(Rb){return arguments.length?(Ma=Array.from(Rb),x()):Ma.slice()};V.unknown=function(Rb){return arguments.length?(Cb=Rb,V):Cb};V.quantiles=function(){return yb.slice()};
V.copy=function(){return ff().domain(ea).range(Ma).unknown(Cb)};return Ua.apply(V,arguments)}function df(){function x(Wc){return null!=Wc&&Wc<=Wc?Rb[wf(Cb,Wc,0,yb)]:jc}function V(){var Wc=-1;for(Cb=Array(yb);++Wc<yb;)Cb[Wc]=((Wc+1)*Ma-(Wc-yb)*ea)/(yb+1);return x}var ea=0,Ma=1,yb=1,Cb=[.5],Rb=[0,1],jc;x.domain=function(Wc){return arguments.length?([ea,Ma]=Wc,ea=+ea,Ma=+Ma,V()):[ea,Ma]};x.range=function(Wc){return arguments.length?(yb=(Rb=Array.from(Wc)).length-1,V()):Rb.slice()};x.invertExtent=function(Wc){Wc=
Rb.indexOf(Wc);return 0>Wc?[NaN,NaN]:1>Wc?[ea,Cb[0]]:Wc>=yb?[Cb[yb-1],Ma]:[Cb[Wc-1],Cb[Wc]]};x.unknown=function(Wc){return arguments.length?(jc=Wc,x):x};x.thresholds=function(){return Cb.slice()};x.copy=function(){return df().domain([ea,Ma]).range(Rb).unknown(jc)};return Ua.apply(Zd(x),arguments)}function af(){function x(Cb){return null!=Cb&&Cb<=Cb?ea[wf(V,Cb,0,yb)]:Ma}var V=[.5],ea=[0,1],Ma,yb=1;x.domain=function(Cb){return arguments.length?(V=Array.from(Cb),yb=Math.min(V.length,ea.length-1),x):
V.slice()};x.range=function(Cb){return arguments.length?(ea=Array.from(Cb),yb=Math.min(V.length,ea.length-1),x):ea.slice()};x.invertExtent=function(Cb){Cb=ea.indexOf(Cb);return[V[Cb-1],V[Cb]]};x.unknown=function(Cb){return arguments.length?(Ma=Cb,x):Ma};x.copy=function(){return af().domain(V).range(ea).unknown(Ma)};return Ua.apply(x,arguments)}function re(x,V,ea,Ma){function yb(Cb){return x(Cb=0===arguments.length?new Date:new Date(+Cb)),Cb}yb.floor=function(Cb){return x(Cb=new Date(+Cb)),Cb};yb.ceil=
function(Cb){return x(Cb=new Date(Cb-1)),V(Cb,1),x(Cb),Cb};yb.round=function(Cb){var Rb=yb(Cb),jc=yb.ceil(Cb);return Cb-Rb<jc-Cb?Rb:jc};yb.offset=function(Cb,Rb){return V(Cb=new Date(+Cb),null==Rb?1:Math.floor(Rb)),Cb};yb.range=function(Cb,Rb,jc){var Wc=[],Jd;Cb=yb.ceil(Cb);jc=null==jc?1:Math.floor(jc);if(!(Cb<Rb&&0<jc))return Wc;do Wc.push(Jd=new Date(+Cb)),V(Cb,jc),x(Cb);while(Jd<Cb&&Cb<Rb);return Wc};yb.filter=function(Cb){return re(function(Rb){if(Rb>=Rb)for(;x(Rb),!Cb(Rb);)Rb.setTime(Rb-1)},
function(Rb,jc){if(Rb>=Rb)if(0>jc)for(;0>=++jc;)for(;V(Rb,-1),!Cb(Rb););else for(;0<=--jc;)for(;V(Rb,1),!Cb(Rb););})};ea&&(yb.count=function(Cb,Rb){t.setTime(+Cb);E.setTime(+Rb);x(t);x(E);return Math.floor(ea(t,E))},yb.every=function(Cb){Cb=Math.floor(Cb);return isFinite(Cb)&&0<Cb?1<Cb?yb.filter(Ma?function(Rb){return 0===Ma(Rb)%Cb}:function(Rb){return 0===yb.count(0,Rb)%Cb}):yb:null});return yb}function pf(x){return re(function(V){V.setDate(V.getDate()-(V.getDay()+7-x)%7);V.setHours(0,0,0,0)},function(V,
ea){V.setDate(V.getDate()+7*ea)},function(V,ea){return(ea-V-6E4*(ea.getTimezoneOffset()-V.getTimezoneOffset()))/6048E5})}function T(x){return re(function(V){V.setUTCDate(V.getUTCDate()-(V.getUTCDay()+7-x)%7);V.setUTCHours(0,0,0,0)},function(V,ea){V.setUTCDate(V.getUTCDate()+7*ea)},function(V,ea){return(ea-V)/6048E5})}function ta(x,V,ea,Ma,yb,Cb){function Rb(Wc,Jd,Sd){const ad=Math.abs(Jd-Wc)/Sd,ke=kc(([,,w])=>w).right(jc,ad);if(ke===jc.length)return x.every(Ob(Wc/31536E6,Jd/31536E6,Sd));if(0===ke)return k.every(Math.max(Ob(Wc,
Jd,Sd),1));const [Ae,Re]=jc[ad/jc[ke-1][2]<jc[ke][2]/ad?ke-1:ke];return Ae.every(Re)}const jc=[[y,1,1E3],[y,5,5E3],[y,15,15E3],[y,30,3E4],[Cb,1,6E4],[Cb,5,3E5],[Cb,15,9E5],[Cb,30,18E5],[yb,1,36E5],[yb,3,108E5],[yb,6,216E5],[yb,12,432E5],[Ma,1,864E5],[Ma,2,1728E5],[ea,1,6048E5],[V,1,2592E6],[V,3,7776E6],[x,1,31536E6]];return[function(Wc,Jd,Sd){const ad=Jd<Wc;ad&&([Wc,Jd]=[Jd,Wc]);Wc=(Sd=Sd&&"function"===typeof Sd.range?Sd:Rb(Wc,Jd,Sd))?Sd.range(Wc,+Jd+1):[];return ad?Wc.reverse():Wc},Rb]}function db(x){if(0<=
x.y&&100>x.y){var V=new Date(-1,x.m,x.d,x.H,x.M,x.S,x.L);V.setFullYear(x.y);return V}return new Date(x.y,x.m,x.d,x.H,x.M,x.S,x.L)}function zb(x){if(0<=x.y&&100>x.y){var V=new Date(Date.UTC(-1,x.m,x.d,x.H,x.M,x.S,x.L));V.setUTCFullYear(x.y);return V}return new Date(Date.UTC(x.y,x.m,x.d,x.H,x.M,x.S,x.L))}function ec(x,V,ea){return{y:x,m:V,d:ea,H:0,M:0,S:0,L:0}}function Bc(x){function V(ed,mc){return function(qd){var ud=[],xe=-1,qe=0,Se=ed.length,Cf,Rf;for(qd instanceof Date||(qd=new Date(+qd));++xe<
Se;)if(37===ed.charCodeAt(xe)){ud.push(ed.slice(qe,xe));null!=(qe=mf[Cf=ed.charAt(++xe)])?Cf=ed.charAt(++xe):qe="e"===Cf?" ":"0";if(Rf=mc[Cf])Cf=Rf(qd,qe);ud.push(Cf);qe=xe+1}ud.push(ed.slice(qe,xe));return ud.join("")}}function ea(ed,mc){return function(qd){var ud=ec(1900,void 0,1);if(Ma(ud,ed,qd+="",0)!=qd.length)return null;if("Q"in ud)return new Date(ud.Q);if("s"in ud)return new Date(1E3*ud.s+("L"in ud?ud.L:0));!mc||"Z"in ud||(ud.Z=0);"p"in ud&&(ud.H=ud.H%12+12*ud.p);void 0===ud.m&&(ud.m="q"in
ud?ud.q:0);if("V"in ud){if(1>ud.V||53<ud.V)return null;"w"in ud||(ud.w=1);if("Z"in ud){qd=zb(ec(ud.y,0,1));var xe=qd.getUTCDay();qd=4<xe||0===xe?Ve.ceil(qd):Ve(qd);qd=ve.offset(qd,7*(ud.V-1));ud.y=qd.getUTCFullYear();ud.m=qd.getUTCMonth();ud.d=qd.getUTCDate()+(ud.w+6)%7}else qd=db(ec(ud.y,0,1)),xe=qd.getDay(),qd=4<xe||0===xe?Jb.ceil(qd):Jb(qd),qd=Ta.offset(qd,7*(ud.V-1)),ud.y=qd.getFullYear(),ud.m=qd.getMonth(),ud.d=qd.getDate()+(ud.w+6)%7}else if("W"in ud||"U"in ud)"w"in ud||(ud.w="u"in ud?ud.u%
7:"W"in ud?1:0),xe="Z"in ud?zb(ec(ud.y,0,1)).getUTCDay():db(ec(ud.y,0,1)).getDay(),ud.m=0,ud.d="W"in ud?(ud.w+6)%7+7*ud.W-(xe+5)%7:ud.w+7*ud.U-(xe+6)%7;return"Z"in ud?(ud.H+=ud.Z/100|0,ud.M+=ud.Z%100,zb(ud)):db(ud)}}function Ma(ed,mc,qd,ud){for(var xe=0,qe=mc.length,Se=qd.length,Cf;xe<qe;){if(ud>=Se)return-1;Cf=mc.charCodeAt(xe++);if(37===Cf){if(Cf=mc.charAt(xe++),Cf=Dd[Cf in mf?mc.charAt(xe++):Cf],!Cf||0>(ud=Cf(ed,qd,ud)))return-1}else if(Cf!=qd.charCodeAt(ud++))return-1}return ud}var yb=x.dateTime,
Cb=x.date,Rb=x.time,jc=x.periods,Wc=x.days,Jd=x.shortDays,Sd=x.months,ad=x.shortMonths,ke=da(jc),Ae=Sa(jc),Re=da(Wc),w=Sa(Wc),S=da(Jd),Z=Sa(Jd),Ea=da(Sd),sb=Sa(Sd),wb=da(ad),Lb=Sa(ad),Mb={a:function(ed){return Jd[ed.getDay()]},A:function(ed){return Wc[ed.getDay()]},b:function(ed){return ad[ed.getMonth()]},B:function(ed){return Sd[ed.getMonth()]},c:null,d:Xe,e:Xe,f:Ec,g:ib,G:qc,H:bf,I:md,j:Dc,L:jd,m:Id,M:Vd,p:function(ed){return jc[+(12<=ed.getHours())]},q:function(ed){return 1+~~(ed.getMonth()/3)},
Q:ef,s:Zf,S:ce,u:le,U:N,V:H,w:ja,W:sa,x:null,X:null,y:Ia,Y:ub,Z:sc,"%":Hf},Kc={a:function(ed){return Jd[ed.getUTCDay()]},A:function(ed){return Wc[ed.getUTCDay()]},b:function(ed){return ad[ed.getUTCMonth()]},B:function(ed){return Sd[ed.getUTCMonth()]},c:null,d:tc,e:tc,f:yd,g:rf,G:ne,H:Ic,I:Ad,j:Gc,L:$c,m:Cd,M:Kd,p:function(ed){return jc[+(12<=ed.getUTCHours())]},q:function(ed){return 1+~~(ed.getUTCMonth()/3)},Q:ef,s:Zf,S:Fe,u:Ce,U:wd,V:Ld,w:ge,W:Ge,x:null,X:null,y:hf,Y:Je,Z:Bf,"%":Hf},Dd={a:function(ed,
mc,qd){return(mc=S.exec(mc.slice(qd)))?(ed.w=Z.get(mc[0].toLowerCase()),qd+mc[0].length):-1},A:function(ed,mc,qd){return(mc=Re.exec(mc.slice(qd)))?(ed.w=w.get(mc[0].toLowerCase()),qd+mc[0].length):-1},b:function(ed,mc,qd){return(mc=wb.exec(mc.slice(qd)))?(ed.m=Lb.get(mc[0].toLowerCase()),qd+mc[0].length):-1},B:function(ed,mc,qd){return(mc=Ea.exec(mc.slice(qd)))?(ed.m=sb.get(mc[0].toLowerCase()),qd+mc[0].length):-1},c:function(ed,mc,qd){return Ma(ed,yb,mc,qd)},d:Jc,e:Jc,f:Bd,g:Ra,G:ee,H:Qc,I:Qc,j:Vc,
L:Nd,m:vd,M:sd,p:function(ed,mc,qd){return(mc=ke.exec(mc.slice(qd)))?(ed.p=Ae.get(mc[0].toLowerCase()),qd+mc[0].length):-1},q:pc,Q:we,s:Ke,S:id,u:Pc,U:Cc,V:Sc,w:ac,W:fd,x:function(ed,mc,qd){return Ma(ed,Cb,mc,qd)},X:function(ed,mc,qd){return Ma(ed,Rb,mc,qd)},y:Ra,Y:ee,Z:eb,"%":be};Mb.x=V(Cb,Mb);Mb.X=V(Rb,Mb);Mb.c=V(yb,Mb);Kc.x=V(Cb,Kc);Kc.X=V(Rb,Kc);Kc.c=V(yb,Kc);return{format:function(ed){var mc=V(ed+="",Mb);mc.toString=function(){return ed};return mc},parse:function(ed){var mc=ea(ed+="",!1);mc.toString=
function(){return ed};return mc},utcFormat:function(ed){var mc=V(ed+="",Kc);mc.toString=function(){return ed};return mc},utcParse:function(ed){var mc=ea(ed+="",!0);mc.toString=function(){return ed};return mc}}}function Yb(x,V,ea){var Ma=0>x?"-":"";x=(Ma?-x:x)+"";var yb=x.length;return Ma+(yb<ea?Array(ea-yb+1).join(V)+x:x)}function I(x){return x.replace(Lf,"\\$\x26")}function da(x){return new RegExp("^(?:"+x.map(I).join("|")+")","i")}function Sa(x){return new Map(x.map((V,ea)=>[V.toLowerCase(),ea]))}
function ac(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+1)))?(x.w=+V[0],ea+V[0].length):-1}function Pc(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+1)))?(x.u=+V[0],ea+V[0].length):-1}function Cc(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+2)))?(x.U=+V[0],ea+V[0].length):-1}function Sc(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+2)))?(x.V=+V[0],ea+V[0].length):-1}function fd(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+2)))?(x.W=+V[0],ea+V[0].length):-1}function ee(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+4)))?(x.y=+V[0],ea+V[0].length):
-1}function Ra(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+2)))?(x.y=+V[0]+(68<+V[0]?1900:2E3),ea+V[0].length):-1}function eb(x,V,ea){return(V=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(V.slice(ea,ea+6)))?(x.Z=V[1]?0:-(V[2]+(V[3]||"00")),ea+V[0].length):-1}function pc(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+1)))?(x.q=3*V[0]-3,ea+V[0].length):-1}function vd(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+2)))?(x.m=V[0]-1,ea+V[0].length):-1}function Jc(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+2)))?(x.d=+V[0],ea+V[0].length):
-1}function Vc(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+3)))?(x.m=0,x.d=+V[0],ea+V[0].length):-1}function Qc(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+2)))?(x.H=+V[0],ea+V[0].length):-1}function sd(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+2)))?(x.M=+V[0],ea+V[0].length):-1}function id(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+2)))?(x.S=+V[0],ea+V[0].length):-1}function Nd(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+3)))?(x.L=+V[0],ea+V[0].length):-1}function Bd(x,V,ea){return(V=Nf.exec(V.slice(ea,ea+6)))?(x.L=Math.floor(V[0]/
1E3),ea+V[0].length):-1}function be(x,V,ea){return(x=Pf.exec(V.slice(ea,ea+1)))?ea+x[0].length:-1}function we(x,V,ea){return(V=Nf.exec(V.slice(ea)))?(x.Q=+V[0],ea+V[0].length):-1}function Ke(x,V,ea){return(V=Nf.exec(V.slice(ea)))?(x.s=+V[0],ea+V[0].length):-1}function Xe(x,V){return Yb(x.getDate(),V,2)}function bf(x,V){return Yb(x.getHours(),V,2)}function md(x,V){return Yb(x.getHours()%12||12,V,2)}function Dc(x,V){return Yb(1+Ta.count(Zc(x),x),V,3)}function jd(x,V){return Yb(x.getMilliseconds(),V,
3)}function Ec(x,V){return jd(x,V)+"000"}function Id(x,V){return Yb(x.getMonth()+1,V,2)}function Vd(x,V){return Yb(x.getMinutes(),V,2)}function ce(x,V){return Yb(x.getSeconds(),V,2)}function le(x){x=x.getDay();return 0===x?7:x}function N(x,V){return Yb(Ya.count(Zc(x)-1,x),V,2)}function ca(x){var V=x.getDay();return 4<=V||0===V?hc(x):hc.ceil(x)}function H(x,V){x=ca(x);return Yb(hc.count(Zc(x),x)+(4===Zc(x).getDay()),V,2)}function ja(x){return x.getDay()}function sa(x,V){return Yb(Jb.count(Zc(x)-1,
x),V,2)}function Ia(x,V){return Yb(x.getFullYear()%100,V,2)}function ib(x,V){x=ca(x);return Yb(x.getFullYear()%100,V,2)}function ub(x,V){return Yb(x.getFullYear()%1E4,V,4)}function qc(x,V){var ea=x.getDay();x=4<=ea||0===ea?hc(x):hc.ceil(x);return Yb(x.getFullYear()%1E4,V,4)}function sc(x){x=x.getTimezoneOffset();return(0<x?"-":(x*=-1,"+"))+Yb(x/60|0,"0",2)+Yb(x%60,"0",2)}function tc(x,V){return Yb(x.getUTCDate(),V,2)}function Ic(x,V){return Yb(x.getUTCHours(),V,2)}function Ad(x,V){return Yb(x.getUTCHours()%
12||12,V,2)}function Gc(x,V){return Yb(1+ve.count(Pe(x),x),V,3)}function $c(x,V){return Yb(x.getUTCMilliseconds(),V,3)}function yd(x,V){return $c(x,V)+"000"}function Cd(x,V){return Yb(x.getUTCMonth()+1,V,2)}function Kd(x,V){return Yb(x.getUTCMinutes(),V,2)}function Fe(x,V){return Yb(x.getUTCSeconds(),V,2)}function Ce(x){x=x.getUTCDay();return 0===x?7:x}function wd(x,V){return Yb(ue.count(Pe(x)-1,x),V,2)}function ye(x){var V=x.getUTCDay();return 4<=V||0===V?sf(x):sf.ceil(x)}function Ld(x,V){x=ye(x);
return Yb(sf.count(Pe(x),x)+(4===Pe(x).getUTCDay()),V,2)}function ge(x){return x.getUTCDay()}function Ge(x,V){return Yb(Ve.count(Pe(x)-1,x),V,2)}function hf(x,V){return Yb(x.getUTCFullYear()%100,V,2)}function rf(x,V){x=ye(x);return Yb(x.getUTCFullYear()%100,V,2)}function Je(x,V){return Yb(x.getUTCFullYear()%1E4,V,4)}function ne(x,V){var ea=x.getUTCDay();x=4<=ea||0===ea?sf(x):sf.ceil(x);return Yb(x.getUTCFullYear()%1E4,V,4)}function Bf(){return"+0000"}function Hf(){return"%"}function ef(x){return+x}
function Zf(x){return Math.floor(+x/1E3)}function Yd(x){return new Date(x)}function cf(x){return x instanceof Date?+x:+new Date(+x)}function jf(x,V,ea,Ma,yb,Cb,Rb,jc,Wc,Jd){function Sd(Mb){return(Wc(Mb)<Mb?Re:jc(Mb)<Mb?w:Rb(Mb)<Mb?S:Cb(Mb)<Mb?Z:Ma(Mb)<Mb?yb(Mb)<Mb?Ea:sb:ea(Mb)<Mb?wb:Lb)(Mb)}var ad=jb()(vb,vb),ke=ad.invert,Ae=ad.domain,Re=Jd(".%L"),w=Jd(":%S"),S=Jd("%I:%M"),Z=Jd("%I %p"),Ea=Jd("%a %d"),sb=Jd("%b %d"),wb=Jd("%B"),Lb=Jd("%Y");ad.invert=function(Mb){return new Date(ke(Mb))};ad.domain=
function(Mb){return arguments.length?Ae(Array.from(Mb,cf)):Ae().map(Yd)};ad.ticks=function(Mb){var Kc=Ae();return x(Kc[0],Kc[Kc.length-1],null==Mb?10:Mb)};ad.tickFormat=function(Mb,Kc){return null==Kc?Sd:Jd(Kc)};ad.nice=function(Mb){var Kc=Ae();Mb&&"function"===typeof Mb.range||(Mb=V(Kc[0],Kc[Kc.length-1],null==Mb?10:Mb));return Mb?Ae(Te(Kc,Mb)):ad};ad.copy=function(){return $a(ad,jf(x,V,ea,Ma,yb,Cb,Rb,jc,Wc,Jd))};return ad}function Ze(){function x(ad){return null==ad||isNaN(ad=+ad)?Sd:Wc(0===Rb?
.5:(ad=(jc(ad)-yb)*Rb,Jd?Math.max(0,Math.min(1,ad)):ad))}function V(ad){return function(ke){var Ae,Re;return arguments.length?([Ae,Re]=ke,Wc=ad(Ae,Re),x):[Wc(0),Wc(1)]}}var ea=0,Ma=1,yb,Cb,Rb,jc,Wc=vb,Jd=!1,Sd;x.domain=function(ad){return arguments.length?([ea,Ma]=ad,yb=jc(ea=+ea),Cb=jc(Ma=+Ma),Rb=yb===Cb?0:1/(Cb-yb),x):[ea,Ma]};x.clamp=function(ad){return arguments.length?(Jd=!!ad,x):Jd};x.interpolator=function(ad){return arguments.length?(Wc=ad,x):Wc};x.range=V(rb);x.rangeRound=V(Sb);x.unknown=
function(ad){return arguments.length?(Sd=ad,x):Sd};return function(ad){jc=ad;yb=ad(ea);Cb=ad(Ma);Rb=yb===Cb?0:1/(Cb-yb);return x}}function Gf(x,V){return V.domain(x.domain()).interpolator(x.interpolator()).clamp(x.clamp()).unknown(x.unknown())}function If(){var x=Zd(Ze()(vb));x.copy=function(){return Gf(x,If())};return pb.apply(x,arguments)}function xf(){var x=lc(Ze()).domain([1,10]);x.copy=function(){return Gf(x,xf()).base(x.base())};return pb.apply(x,arguments)}function yf(){var x=rd(Ze());x.copy=
function(){return Gf(x,yf()).constant(x.constant())};return pb.apply(x,arguments)}function Bg(){var x=ae(Ze());x.copy=function(){return Gf(x,Bg()).exponent(x.exponent())};return pb.apply(x,arguments)}function hg(){function x(w){return isNaN(w=+w)?Re:(w=.5+((w=+ke(w))-jc)*(Cb*w<Cb*jc?Jd:Sd),ad(Ae?Math.max(0,Math.min(1,w)):w))}function V(w){return function(S){var Z,Ea,sb;return arguments.length?([Z,Ea,sb]=S,ad=td(w,[Z,Ea,sb]),x):[ad(0),ad(.5),ad(1)]}}var ea=0,Ma=.5,yb=1,Cb=1,Rb,jc,Wc,Jd,Sd,ad=vb,ke,
Ae=!1,Re;x.domain=function(w){return arguments.length?([ea,Ma,yb]=w,Rb=ke(ea=+ea),jc=ke(Ma=+Ma),Wc=ke(yb=+yb),Jd=Rb===jc?0:.5/(jc-Rb),Sd=jc===Wc?0:.5/(Wc-jc),Cb=jc<Rb?-1:1,x):[ea,Ma,yb]};x.clamp=function(w){return arguments.length?(Ae=!!w,x):Ae};x.interpolator=function(w){return arguments.length?(ad=w,x):ad};x.range=V(rb);x.rangeRound=V(Sb);x.unknown=function(w){return arguments.length?(Re=w,x):Re};return function(w){ke=w;Rb=w(ea);jc=w(Ma);Wc=w(yb);Jd=Rb===jc?0:.5/(jc-Rb);Sd=jc===Wc?0:.5/(Wc-jc);
Cb=jc<Rb?-1:1;return x}}function vf(){var x=Zd(hg()(vb));x.copy=function(){return Gf(x,vf())};return pb.apply(x,arguments)}function Jf(){var x=lc(hg()).domain([.1,1,10]);x.copy=function(){return Gf(x,Jf()).base(x.base())};return pb.apply(x,arguments)}function dg(){var x=rd(hg());x.copy=function(){return Gf(x,dg()).constant(x.constant())};return pb.apply(x,arguments)}function Xg(){var x=ae(hg());x.copy=function(){return Gf(x,Xg()).exponent(x.exponent())};return pb.apply(x,arguments)}function Fg(){function x(){var ad=
ea().length;const ke=yb[1]<yb[0],Ae=yb[1-ke],Re=hb(ad,Wc,Jd);let w=yb[ke-0];Cb=(Ae-w)/(Re||1);jc&&(Cb=Math.floor(Cb));w+=(Ae-w-Cb*(ad-Wc))*Sd;Rb=Cb*(1-Wc);jc&&(w=Math.round(w),Rb=Math.round(Rb));ad=Pb(ad).map(S=>w+Cb*S);return Ma(ke?ad.reverse():ad)}const V=Oa().unknown(void 0),ea=V.domain,Ma=V.range;let yb=[0,1],Cb,Rb,jc=!1,Wc=0,Jd=0,Sd=.5;delete V.unknown;V.domain=function(ad){return arguments.length?(ea(ad),x()):ea()};V.range=function(ad){return arguments.length?(yb=[+ad[0],+ad[1]],x()):yb.slice()};
V.rangeRound=function(ad){yb=[+ad[0],+ad[1]];jc=!0;return x()};V.bandwidth=function(){return Rb};V.step=function(){return Cb};V.round=function(ad){return arguments.length?(jc=!!ad,x()):jc};V.padding=function(ad){return arguments.length?(Wc=Jd=Math.max(0,Math.min(1,ad)),x()):Wc};V.paddingInner=function(ad){return arguments.length?(Wc=Math.max(0,Math.min(1,ad)),x()):Wc};V.paddingOuter=function(ad){return arguments.length?(Jd=Math.max(0,Math.min(1,ad)),x()):Jd};V.align=function(ad){return arguments.length?
(Sd=Math.max(0,Math.min(1,ad)),x()):Sd};V.invertRange=function(ad){if(null!=ad[0]&&null!=ad[1]){var ke=yb[1]<yb[0],Ae=ke?Ma().reverse():Ma(),Re=Ae.length-1,w=+ad[0],S=+ad[1];if(w===w&&S===S){if(S<w){var Z=w;w=S;S=Z}if(!(S<Ae[0]||w>yb[1-ke]))return ad=Math.max(0,Kf(Ae,w)-1),S=w===S?ad:Kf(Ae,S)-1,w-Ae[ad]>Rb+1E-10&&++ad,ke&&(Z=ad,ad=Re-S,S=Re-Z),ad>S?void 0:ea().slice(ad,S+1)}}};V.invert=function(ad){return(ad=V.invertRange([ad,ad]))?ad[0]:ad};V.copy=function(){return Fg().domain(ea()).range(yb).round(jc).paddingInner(Wc).paddingOuter(Jd).align(Sd)};
return x()}function Jg(x){const V=x.copy;x.padding=x.paddingOuter;delete x.paddingInner;x.copy=function(){return Jg(V())};return x}function Sg(){function x(Ma){return null==Ma||Ma!==Ma?void 0:ea[(wf(V,Ma)-1)%ea.length]}let V=[],ea=[];x.domain=function(Ma){return arguments.length?(V=lg.call(Ma,g.toNumber),x):V.slice()};x.range=function(Ma){return arguments.length?(ea=Kg.call(Ma),x):ea.slice()};x.tickFormat=function(Ma,yb){return Ed(V[0],g.peek(V),null==Ma?10:Ma,yb)};x.copy=function(){return Sg().domain(x.domain()).range(x.range())};
return x}function pa(x,V,ea){const Ma=function(){const yb=V();yb.invertRange||(yb.invertRange=yb.invert?Gb(yb):yb.invertExtent?$b(yb):void 0);yb.type=x;return yb};Ma.metadata=g.toSet(g.array(ea));return Ma}function bb(x,V,ea){return 1<arguments.length?(sg[x]=pa(x,V,ea),this):Qb(x)?sg[x]:void 0}function Qb(x){return g.hasOwnProperty(sg,x)}function gd(x,V){return(x=sg[x])&&x.metadata[V]}function ld(x){return gd(x,"discrete")}function pe(x){return gd(x,"discretizing")}function Oe(x){return gd(x,"log")}
function nf(x){return gd(x,"temporal")}function Ef(x,V,ea){return td(Me(V||"rgb",ea),x)}function Me(x,V){x=Kh[$f(x)];return null!=V&&x&&x.gamma?x.gamma(V):x}function $f(x){return"interpolate"+x.toLowerCase().split("-").map(V=>V[0].toUpperCase()+V.slice(1)).join("")}function Mf(x){const V=x.length/6|0,ea=Array(V);for(let Ma=0;Ma<V;)ea[Ma]="#"+x.slice(6*Ma,6*++Ma);return ea}function Tf(x,V){for(const ea in x)pg(ea,V(x[ea]))}function pg(x,V){x=x&&x.toLowerCase();return 1<arguments.length?(oi[x]=V,this):
oi[x]}function qg(x,V,ea){var Ma=x.range();let yb=Ma[0],Cb=g.peek(Ma);Ma=Oi;yb>Cb&&(Ma=Cb,Cb=yb,yb=Ma,Ma=Li);yb=Math.floor(yb);Cb=Math.ceil(Cb);V=V.map(Rb=>[Rb,x(Rb)]).filter(Rb=>yb<=Rb[1]&&Rb[1]<=Cb).sort(Ma).map(Rb=>Rb[0]);if(0<ea&&1<V.length){for(Ma=[V[0],g.peek(V)];V.length>ea&&3<=V.length;)V=V.filter((Rb,jc)=>!(jc%2));3>V.length&&(V=Ma)}return V}function Og(x,V){return x.bins?qg(x,x.bins):x.ticks?x.ticks(V):x.domain()}function Yg(x,V,ea,Ma,yb,Cb){const Rb=V.type;let jc=di;if("time"===Rb||"time"===
yb)jc=x.timeFormat(Ma);else if("utc"===Rb||"utc"===yb)jc=x.utcFormat(Ma);else if(Oe(Rb)){const Wc=x.formatFloat(Ma);if(Cb||V.bins)jc=Wc;else{const Jd=gh(V,ea,!1);jc=Sd=>Jd(Sd)?Wc(Sd):""}}else V.tickFormat?(V=V.domain(),jc=x.formatSpan(V[0],V[V.length-1],ea,Ma)):Ma&&(jc=x.format(Ma));return jc}function gh(x,V,ea){const Ma=Og(x,V),yb=x.base(),Cb=Math.log(yb),Rb=Math.max(1,yb*V/Ma.length);x=jc=>{jc/=Math.pow(yb,Math.round(Math.log(jc)/Cb));jc*yb<yb-.5&&(jc*=yb);return jc<=Rb};return ea?Ma.filter(x):
x}function De(x,V){x.bins?(x=x.bins,V=x.slice(0,-1),V.max=g.peek(x),x=V):"log"===x.type?x=gh(x,V,!0):Ag[x.type]?(x=x[Ag[x.type]](),x=[-Infinity].concat(x),x.max=Infinity):x=Og(x,V);return x}function Ie(x,V,ea,Ma,yb,Cb,Rb){if(Pi[V.type]&&"time"!==Cb&&"utc"!==Cb){ea=V[Pi[V.type]]();Cb=ea.length;Rb=1<Cb?ea[1]-ea[0]:ea[0];let jc;for(jc=1;jc<Cb;++jc)Rb=Math.min(Rb,ea[jc]-ea[jc-1]);x=x.formatSpan(0,Rb,30,yb)}else x=Yg(x,V,ea,yb,Cb,Rb);return"symbol"===Ma&&(Ag[V.type]||V.bins)?lj(x):"discrete"===Ma?ii(x):
ti(x)}const Kf=kc(oc).right;kc(yc).center;var wf=Kf;class lf extends Map{constructor(x,V=Va){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:V}});if(null!=x)for(const [ea,Ma]of x)this.set(ea,Ma)}get(x){return super.get(Ab(this,x))}has(x){return super.has(Ab(this,x))}set(x,V){return super.set(gc(this,x),V)}delete(x){return super.delete(rc(this,x))}}var zf=Math.sqrt(50),rg=Math.sqrt(10),vg=Math.sqrt(2);const ig=Symbol("implicit");var Af=1/.7,Pg=/^#([0-9a-f]{3,8})$/,$g=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
jh=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),wg=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),qh=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
ph=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Ih=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Vg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
Da(kb,xb,{copy:function(x){return Object.assign(new this.constructor,this,x)},displayable:function(){return this.rgb().displayable()},hex:lb,formatHex:lb,formatHsl:function(){return aa(this).formatHsl()},formatRgb:Na,toString:Na});Da(la,nb,Pa(kb,{brighter:function(x){x=null==x?Af:Math.pow(Af,x);return new la(this.r*x,this.g*x,this.b*x,this.opacity)},darker:function(x){x=null==x?.7:Math.pow(.7,x);return new la(this.r*x,this.g*x,this.b*x,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Y,formatHex:Y,formatRgb:Ha,toString:Ha}));Da(p,ma,Pa(kb,{brighter:function(x){x=null==x?Af:Math.pow(Af,x);return new p(this.h,this.s,this.l*x,this.opacity)},darker:function(x){x=null==x?.7:Math.pow(.7,x);return new p(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=this.h%360+360*(0>this.h),V=isNaN(x)||isNaN(this.s)?0:this.s,ea=this.l;V=ea+(.5>ea?ea:1-ea)*V;ea=2*ea-V;return new la(L(240<=
x?x-240:x+120,ea,V),L(x,ea,V),L(120>x?x+240:x-120,ea,V),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var x=this.opacity;x=isNaN(x)?1:Math.max(0,Math.min(1,x));return(1===x?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===x?")":", "+x+")")}}));const rh=Math.PI/180,yh=180/Math.PI,qi=4/29,Tg=6/29,kh=3*Tg*Tg,ri=Tg*Tg*Tg;Da(v,f,Pa(kb,{brighter:function(x){return new v(this.l+
18*(null==x?1:x),this.a,this.b,this.opacity)},darker:function(x){return new v(this.l-18*(null==x?1:x),this.a,this.b,this.opacity)},rgb:function(){var x=(this.l+16)/116,V=isNaN(this.a)?x:x+this.a/500,ea=isNaN(this.b)?x:x-this.b/200;V=.96422*C(V);x=1*C(x);ea=.82521*C(ea);return new la(B(3.1338561*V-1.6168667*x-.4906146*ea),B(-.9787684*V+1.9161415*x+.033454*ea),B(.0719453*V-.2289914*x+1.4052427*ea),this.opacity)}}));Da(U,G,Pa(kb,{brighter:function(x){return new U(this.h,this.c,this.l+18*(null==x?1:x),
this.opacity)},darker:function(x){return new U(this.h,this.c,this.l-18*(null==x?1:x),this.opacity)},rgb:function(){return Aa(this).rgb()}}));var Cg=1.78277*-.29227-.1347134789;Da(u,X,Pa(kb,{brighter:function(x){x=null==x?Af:Math.pow(Af,x);return new u(this.h,this.s,this.l*x,this.opacity)},darker:function(x){x=null==x?.7:Math.pow(.7,x);return new u(this.h,this.s,this.l*x,this.opacity)},rgb:function(){var x=isNaN(this.h)?0:(this.h+120)*rh,V=+this.l,ea=isNaN(this.s)?0:this.s*V*(1-V),Ma=Math.cos(x);x=
Math.sin(x);return new la(255*(V+ea*(-.14861*Ma+1.78277*x)),255*(V+ea*(-.29227*Ma+-.90649*x)),255*(V+1.97294*ea*Ma),this.opacity)}}));var zh=x=>()=>x,Th=function ea(V){function Ma(Cb,Rb){var jc=yb((Cb=nb(Cb)).r,(Rb=nb(Rb)).r),Wc=yb(Cb.g,Rb.g),Jd=yb(Cb.b,Rb.b),Sd=Za(Cb.opacity,Rb.opacity);return function(ad){Cb.r=jc(ad);Cb.g=Wc(ad);Cb.b=Jd(ad);Cb.opacity=Sd(ad);return Cb+""}}var yb=Ca(V);Ma.gamma=ea;return Ma}(1),Qg=Ib(ua),Zg=Ib(Ja),lh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sh=new RegExp(lh.source,
"g"),Gg=180/Math.PI,Jh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},th,uh=bc(function(V){V=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(V+"");return V.isIdentity?Jh:fc(V.a,V.b,V.c,V.d,V.e,V.f)},"px, ","px)","deg)"),Ph=bc(function(V){if(null==V)return Jh;th||(th=document.createElementNS("http://www.w3.org/2000/svg","g"));th.setAttribute("transform",V);if(!(V=th.transform.baseVal.consolidate()))return Jh;V=V.matrix;return fc(V.a,V.b,V.c,V.d,V.e,V.f)},", ",")",")"),
Uh=function Cb(ea,Ma,yb){function Rb(jc,Wc){var Jd=jc[0],Sd=jc[1],ad=jc[2];jc=Wc[2];var ke=Wc[0]-Jd,Ae=Wc[1]-Sd,Re=ke*ke+Ae*Ae;if(1E-12>Re){var w=Math.log(jc/ad)/ea;jc=function(Ea){return[Jd+Ea*ke,Sd+Ea*Ae,ad*Math.exp(ea*Ea*w)]}}else{var S=Math.sqrt(Re);Wc=(jc*jc-ad*ad+yb*Re)/(2*ad*Ma*S);jc=(jc*jc-ad*ad-yb*Re)/(2*jc*Ma*S);var Z=Math.log(Math.sqrt(Wc*Wc+1)-Wc);w=(Math.log(Math.sqrt(jc*jc+1)-jc)-Z)/ea;jc=function(Ea){Ea*=w;var sb=Hc(Z),wb=ea*Ea+Z;var Lb=((wb=Math.exp(2*wb))-1)/(wb+1);var Mb=Z;wb=((Mb=
Math.exp(Mb))-1/Mb)/2;Lb=ad/(Ma*S)*(sb*Lb-wb);return[Jd+Lb*ke,Sd+Lb*Ae,ad*sb/Hc(ea*Ea+Z)]}}jc.duration=1E3*w*ea/Math.SQRT2;return jc}Rb.rho=function(jc){jc=Math.max(.001,+jc);var Wc=jc*jc;return Cb(jc,Wc,Wc*Wc)};return Rb}(Math.SQRT2,2,4),mh=zc(W),Ah=zc(Za),Vf=Yc(W),Hg=Yc(Za),Wf=Md(W),Df=Md(Za),Kh=Object.freeze({__proto__:null,interpolate:rb,interpolateArray:function(ea,Ma){return(uc(Ma)?xc:wc)(ea,Ma)},interpolateBasis:ua,interpolateBasisClosed:Ja,interpolateDate:bd,interpolateDiscrete:function(ea){var Ma=
ea.length;return function(yb){return ea[Math.max(0,Math.min(Ma-1,Math.floor(yb*Ma)))]}},interpolateHue:function(ea,Ma){var yb=W(+ea,+Ma);return function(Cb){Cb=yb(Cb);return Cb-360*Math.floor(Cb/360)}},interpolateNumber:Wb,interpolateNumberArray:xc,interpolateObject:Rc,interpolateRound:Sb,interpolateString:Ub,interpolateTransformCss:uh,interpolateTransformSvg:Ph,interpolateZoom:Uh,interpolateRgb:Th,interpolateRgbBasis:Qg,interpolateRgbBasisClosed:Zg,interpolateHsl:mh,interpolateHslLong:Ah,interpolateLab:function(ea,
Ma){var yb=Za((ea=f(ea)).l,(Ma=f(Ma)).l),Cb=Za(ea.a,Ma.a),Rb=Za(ea.b,Ma.b),jc=Za(ea.opacity,Ma.opacity);return function(Wc){ea.l=yb(Wc);ea.a=Cb(Wc);ea.b=Rb(Wc);ea.opacity=jc(Wc);return ea+""}},interpolateHcl:Vf,interpolateHclLong:Hg,interpolateCubehelix:Wf,interpolateCubehelixLong:Df,piecewise:td,quantize:function(ea,Ma){for(var yb=Array(Ma),Cb=0;Cb<Ma;++Cb)yb[Cb]=ea(Cb/(Ma-1));return yb}}),eg=[0,1],Xf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Uc.prototype=cd.prototype;
cd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var R,va={"%":(ea,Ma)=>(100*ea).toFixed(Ma),b:ea=>Math.round(ea).toString(2),c:ea=>ea+"",d:function(ea){return 1E21<=Math.abs(ea=Math.round(ea))?ea.toLocaleString("en").replace(/,/g,""):ea.toString(10)},e:(ea,Ma)=>ea.toExponential(Ma),f:(ea,
Ma)=>ea.toFixed(Ma),g:(ea,Ma)=>ea.toPrecision(Ma),o:ea=>Math.round(ea).toString(8),p:(ea,Ma)=>dd(100*ea,Ma),r:dd,s:function(ea,Ma){var yb=Fb(ea,Ma);if(!yb)return ea+"";var Cb=yb[0];yb=yb[1];yb=yb-(R=3*Math.max(-8,Math.min(8,Math.floor(yb/3))))+1;var Rb=Cb.length;return yb===Rb?Cb:yb>Rb?Cb+Array(yb-Rb+1).join("0"):0<yb?Cb.slice(0,yb)+"."+Cb.slice(yb):"0."+Array(1-yb).join("0")+Fb(ea,Math.max(0,Ma+yb-1))[0]},X:ea=>Math.round(ea).toString(16).toUpperCase(),x:ea=>Math.round(ea).toString(16)},Qa=Array.prototype.map,
q="y z a f p n  m  k M G T P E Z Y".split(" "),Q,ha,wa;(function(ea){Q=Td(ea);ha=Q.format;wa=Q.formatPrefix;return Q})({thousands:",",grouping:[3],currency:["$",""]});var t=new Date,E=new Date,fa=re(function(){},function(ea,Ma){ea.setTime(+ea+Ma)},function(ea,Ma){return Ma-ea});fa.every=function(ea){ea=Math.floor(ea);return isFinite(ea)&&0<ea?1<ea?re(function(Ma){Ma.setTime(Math.floor(Ma/ea)*ea)},function(Ma,yb){Ma.setTime(+Ma+yb*ea)},function(Ma,yb){return(yb-Ma)/ea}):fa:null};var k=fa,y=re(function(ea){ea.setTime(ea-
ea.getMilliseconds())},function(ea,Ma){ea.setTime(+ea+1E3*Ma)},function(ea,Ma){return(Ma-ea)/1E3},function(ea){return ea.getUTCSeconds()}),ba=re(function(ea){ea.setTime(ea-ea.getMilliseconds()-1E3*ea.getSeconds())},function(ea,Ma){ea.setTime(+ea+6E4*Ma)},function(ea,Ma){return(Ma-ea)/6E4},function(ea){return ea.getMinutes()}),oa=re(function(ea){ea.setTime(ea-ea.getMilliseconds()-1E3*ea.getSeconds()-6E4*ea.getMinutes())},function(ea,Ma){ea.setTime(+ea+36E5*Ma)},function(ea,Ma){return(Ma-ea)/36E5},
function(ea){return ea.getHours()}),Ta=re(ea=>ea.setHours(0,0,0,0),(ea,Ma)=>ea.setDate(ea.getDate()+Ma),(ea,Ma)=>(Ma-ea-6E4*(Ma.getTimezoneOffset()-ea.getTimezoneOffset()))/864E5,ea=>ea.getDate()-1),Ya=pf(0),Jb=pf(1);pf(2);pf(3);var hc=pf(4);pf(5);pf(6);var Tb=re(function(ea){ea.setDate(1);ea.setHours(0,0,0,0)},function(ea,Ma){ea.setMonth(ea.getMonth()+Ma)},function(ea,Ma){return Ma.getMonth()-ea.getMonth()+12*(Ma.getFullYear()-ea.getFullYear())},function(ea){return ea.getMonth()}),pd=re(function(ea){ea.setMonth(0,
1);ea.setHours(0,0,0,0)},function(ea,Ma){ea.setFullYear(ea.getFullYear()+Ma)},function(ea,Ma){return Ma.getFullYear()-ea.getFullYear()},function(ea){return ea.getFullYear()});pd.every=function(ea){return isFinite(ea=Math.floor(ea))&&0<ea?re(function(Ma){Ma.setFullYear(Math.floor(Ma.getFullYear()/ea)*ea);Ma.setMonth(0,1);Ma.setHours(0,0,0,0)},function(Ma,yb){Ma.setFullYear(Ma.getFullYear()+yb*ea)}):null};var Zc=pd,Rd=re(function(ea){ea.setUTCSeconds(0,0)},function(ea,Ma){ea.setTime(+ea+6E4*Ma)},function(ea,
Ma){return(Ma-ea)/6E4},function(ea){return ea.getUTCMinutes()}),te=re(function(ea){ea.setUTCMinutes(0,0,0)},function(ea,Ma){ea.setTime(+ea+36E5*Ma)},function(ea,Ma){return(Ma-ea)/36E5},function(ea){return ea.getUTCHours()}),ve=re(function(ea){ea.setUTCHours(0,0,0,0)},function(ea,Ma){ea.setUTCDate(ea.getUTCDate()+Ma)},function(ea,Ma){return(Ma-ea)/864E5},function(ea){return ea.getUTCDate()-1}),ue=T(0),Ve=T(1);T(2);T(3);var sf=T(4);T(5);T(6);var Lg=re(function(ea){ea.setUTCDate(1);ea.setUTCHours(0,
0,0,0)},function(ea,Ma){ea.setUTCMonth(ea.getUTCMonth()+Ma)},function(ea,Ma){return Ma.getUTCMonth()-ea.getUTCMonth()+12*(Ma.getUTCFullYear()-ea.getUTCFullYear())},function(ea){return ea.getUTCMonth()}),$e=re(function(ea){ea.setUTCMonth(0,1);ea.setUTCHours(0,0,0,0)},function(ea,Ma){ea.setUTCFullYear(ea.getUTCFullYear()+Ma)},function(ea,Ma){return Ma.getUTCFullYear()-ea.getUTCFullYear()},function(ea){return ea.getUTCFullYear()});$e.every=function(ea){return isFinite(ea=Math.floor(ea))&&0<ea?re(function(Ma){Ma.setUTCFullYear(Math.floor(Ma.getUTCFullYear()/
ea)*ea);Ma.setUTCMonth(0,1);Ma.setUTCHours(0,0,0,0)},function(Ma,yb){Ma.setUTCFullYear(Ma.getUTCFullYear()+yb*ea)}):null};var Pe=$e;const [bg,vh]=ta(Pe,Lg,ue,ve,te,Rd),[fg,of]=ta(Zc,Tb,Ya,Ta,oa,ba);var mf={"-":"",_:" ",0:"0"},Nf=/^\s*\d+/,Pf=/^%/,Lf=/[\\^$*+?|[\]().{}]/g,Wg,jg,wh;(function(ea){Wg=Bc(ea);jg=Wg.format;wh=Wg.utcFormat;return Wg})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var lg=Array.prototype.map;const Kg=Array.prototype.slice,sg={};bb("identity",Ud);bb("linear",de,"continuous");bb("log",Fc,["continuous","log"]);bb("pow",Be,"continuous");bb("sqrt",function(){return Be.apply(null,arguments).exponent(.5)},"continuous");bb("symlog",Gd,"continuous");bb("time",function(){return Ua.apply(jf(fg,
of,Zc,Tb,Ya,Ta,oa,ba,y,jg).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);bb("utc",function(){return Ua.apply(jf(bg,vh,Pe,Lg,ue,ve,te,Rd,y,wh).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);bb("sequential",If,["continuous","interpolating"]);bb("sequential-linear",If,["continuous","interpolating"]);bb("sequential-log",xf,["continuous","interpolating","log"]);bb("sequential-pow",Bg,["continuous","interpolating"]);bb("sequential-sqrt",
function(){return Bg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);bb("sequential-symlog",yf,["continuous","interpolating"]);bb("diverging-linear",vf,["continuous","interpolating"]);bb("diverging-log",Jf,["continuous","interpolating","log"]);bb("diverging-pow",Xg,["continuous","interpolating"]);bb("diverging-sqrt",function(){return Xg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);bb("diverging-symlog",dg,["continuous","interpolating"]);bb("quantile",ff,
["discretizing","quantile"]);bb("quantize",df,"discretizing");bb("threshold",af,"discretizing");bb("bin-ordinal",Sg,["discrete","discretizing"]);bb("ordinal",Oa,"discrete");bb("band",Fg,"discrete");bb("point",function(){return Jg(Fg().paddingInner(1))},"discrete");const Yh=["clamp","base","constant","exponent"],oi={};Tf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Mf);Tf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},ea=>Ef(Mf(ea)));const di=ea=>g.isArray(ea)?ea.map(Ma=>String(Ma)):String(ea),Oi=(ea,Ma)=>ea[1]-Ma[1],Li=(ea,Ma)=>Ma[1]-ea[1],Ag={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},Pi={quantile:"quantiles",quantize:"domain"},lj=ea=>(Ma,yb,Cb)=>{yb=Cb[yb+1];Cb=Cb.max;Cb=null!=Cb?Cb:Infinity;yb=null!=
yb?yb:Cb;Ma=Number.isFinite(Ma)?ea(Ma):null;yb=Number.isFinite(yb)?ea(yb):null;return Ma&&yb?Ma+"  "+yb:yb?"\x3c "+yb:" "+Ma},ii=ea=>(Ma,yb)=>yb?ea(Ma):null,ti=ea=>Ma=>ea(Ma);r.Band="band";r.BinOrdinal="bin-ordinal";r.DiscreteLegend="discrete";r.Diverging="diverging";r.GradientLegend="gradient";r.Identity="identity";r.Linear="linear";r.Log="log";r.Ordinal="ordinal";r.Point="point";r.Pow="pow";r.Quantile="quantile";r.Quantize="quantize";r.Sequential="sequential";r.Sqrt="sqrt";r.SymbolLegend="symbol";
r.Symlog="symlog";r.Threshold="threshold";r.Time="time";r.UTC="utc";r.bandSpace=hb;r.domainCaption=function(ea,Ma,yb){yb=yb||{};var Cb=Math.max(3,yb.maxlen||7),Rb=yb.format;const jc=(yb=yb.formatType)||Ma.type;g.isString(Rb)&&nf(jc)&&(Rb=Rb.replace(/%a/g,"%A").replace(/%b/g,"%B"));ea=Rb||"time"!==jc?Rb||"utc"!==jc?Ie(ea,Ma,5,null,Rb,yb,!0):ea.utcFormat("%A, %d %B %Y, %X UTC"):ea.timeFormat("%A, %d %B %Y, %X");if(pe(Ma.type))return Cb=De(Ma).slice(1).map(ea),Ma=Cb.length,`${Ma} boundar${1===Ma?"y":
"ies"}: ${Cb.join(", ")}`;if(ld(Ma.type))return Rb=Ma.domain(),Ma=Rb.length,Cb=Ma>Cb?Rb.slice(0,Cb-2).map(ea).join(", ")+", ending with "+Rb.slice(-1).map(ea):Rb.map(ea).join(", "),`${Ma} value${1===Ma?"":"s"}: ${Cb}`;Cb=Ma.domain();return`values from ${ea(Cb[0])} to ${ea(g.peek(Cb))}`};r.interpolate=Me;r.interpolateColors=Ef;r.interpolateRange=function(ea,Ma){const yb=Ma[0],Cb=g.peek(Ma)-yb;return function(Rb){return ea(yb+Rb*Cb)}};r.isContinuous=function(ea){return gd(ea,"continuous")};r.isDiscrete=
ld;r.isDiscretizing=pe;r.isInterpolating=function(ea){return gd(ea,"interpolating")};r.isLogarithmic=Oe;r.isQuantile=function(ea){return gd(ea,"quantile")};r.isTemporal=nf;r.isValidScaleType=Qb;r.labelFormat=Ie;r.labelFraction=function(ea){var Ma=ea.domain();const yb=Ma.length-1;let Cb=+Ma[0];Ma=+g.peek(Ma);let Rb=Ma-Cb;"threshold"===ea.type&&(ea=yb?Rb/yb:.1,Cb-=ea,Ma+=ea,Rb=Ma-Cb);return jc=>(jc-Cb)/Rb};r.labelValues=De;r.quantizeInterpolator=function(ea,Ma){const yb=Array(Ma),Cb=Ma+1;for(let Rb=
0;Rb<Ma;)yb[Rb]=ea(++Rb/Cb);return yb};r.scale=bb;r.scaleCopy=function(ea){const Ma=ea.type;ea=ea.copy();ea.type=Ma;return ea};r.scaleFraction=function(ea,Ma,yb){var Cb=yb-Ma;let Rb,jc;return Cb&&Number.isFinite(Cb)?(Cb=(Rb=ea.type).indexOf("-"),Rb=0>Cb?Rb:Rb.slice(Cb+1),jc=bb(Rb)().domain([Ma,yb]).range([0,1]),Yh.forEach(Wc=>ea[Wc]?jc[Wc](ea[Wc]()):0),jc):g.constant(.5)};r.scaleImplicit=ig;r.scheme=pg;r.tickCount=function(ea,Ma,yb){let Cb;g.isNumber(Ma)&&(ea.bins&&(Ma=Math.max(Ma,ea.bins.length)),
null!=yb&&(Ma=Math.min(Ma,Math.floor(g.span(ea.domain())/yb||1))));g.isObject(Ma)&&(Cb=Ma.step,Ma=Ma.interval);g.isString(Ma)&&(Ma="time"===ea.type?qa.timeInterval(Ma):"utc"==ea.type?qa.utcInterval(Ma):g.error("Only time and utc scales accept interval strings."),Cb&&(Ma=Ma.every(Cb)));return Ma};r.tickFormat=Yg;r.tickValues=Og;r.validTicks=qg;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[46]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(41),Db(44),Db(45)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb,Gb){function $b(R,va,Qa){const q=R.gradient;let Q=R.id,ha="radial"===q?"p_":"";Q||(Q=R.id="gradient_"+Ia++,"radial"===q?(R.x1=oc(R.x1,
.5),R.y1=oc(R.y1,.5),R.r1=oc(R.r1,0),R.x2=oc(R.x2,.5),R.y2=oc(R.y2,.5),R.r2=oc(R.r2,.5),ha="p_"):(R.x1=oc(R.x1,0),R.y1=oc(R.y1,0),R.x2=oc(R.x2,1),R.y2=oc(R.y2,0)));va[Q]=R;return"url("+(Qa||"")+"#"+ha+Q+")"}function oc(R,va){return null!=R?R:va}function kc(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function yc(){return new kc}function Ab(R){return function(){return R}}function gc(R){return 1<=R?Kd:-1>=R?-Kd:Math.asin(R)}function rc(R){return R.innerRadius}function Va(R){return R.outerRadius}
function qb(R){return R.startAngle}function Kb(R){return R.endAngle}function Ob(R){return R&&R.padAngle}function Bb(R,va,Qa,q,Q,ha,wa){var t=R-Qa,E=va-q;wa=(wa?ha:-ha)/yd(t*t+E*E);E*=wa;t*=-wa;var fa=R+E,k=va+t,y=Qa+E,ba=q+t;Qa=(fa+y)/2;q=(k+ba)/2;va=y-fa;R=ba-k;wa=va*va+R*R;ha=Q-ha;ba=fa*ba-y*k;var oa=(0>R?-1:1)*yd(Ad(0,ha*ha*wa-ba*ba));fa=(ba*R-va*oa)/wa;k=(-ba*va-R*oa)/wa;y=(ba*R+va*oa)/wa;va=(-ba*va+R*oa)/wa;R=fa-Qa;wa=k-q;Qa=y-Qa;q=va-q;R*R+wa*wa>Qa*Qa+q*q&&(fa=y,k=va);return{cx:fa,cy:k,x01:-E,
y01:-t,x11:fa*(Q/ha-1),y11:k*(Q/ha-1)}}function Pb(R){return"object"===typeof R&&"length"in R?R:Array.from(R)}function Ua(R){this._context=R}function pb(R){return new Ua(R)}function Oa(R){return R[0]}function Da(R){return R[1]}function Pa(R,va){function Qa(t){var E,fa=(t=Pb(t)).length,k,y=!1,ba;null==Q&&(wa=ha(ba=yc()));for(E=0;E<=fa;++E)!(E<fa&&q(k=t[E],E,t))===y&&((y=!y)?wa.lineStart():wa.lineEnd()),y&&wa.point(+R(k,E,t),+va(k,E,t));if(ba)return wa=null,ba+""||null}var q=Ab(!0),Q=null,ha=pb,wa=
null;R="function"===typeof R?R:void 0===R?Oa:Ab(R);va="function"===typeof va?va:void 0===va?Da:Ab(va);Qa.x=function(t){return arguments.length?(R="function"===typeof t?t:Ab(+t),Qa):R};Qa.y=function(t){return arguments.length?(va="function"===typeof t?t:Ab(+t),Qa):va};Qa.defined=function(t){return arguments.length?(q="function"===typeof t?t:Ab(!!t),Qa):q};Qa.curve=function(t){return arguments.length?(ha=t,null!=Q&&(wa=ha(Q)),Qa):ha};Qa.context=function(t){return arguments.length?(null==t?Q=wa=null:
wa=ha(Q=t),Qa):Q};return Qa}function kb(R,va,Qa){function q(k){var y,ba,oa=(k=Pb(k)).length,Ta,Ya=!1,Jb,hc=Array(oa),Tb=Array(oa);null==t&&(fa=E(Jb=yc()));for(y=0;y<=oa;++y){if(!(y<oa&&wa(Ta=k[y],y,k))===Ya)if(Ya=!Ya){var pd=y;fa.areaStart();fa.lineStart()}else{fa.lineEnd();fa.lineStart();for(ba=y-1;ba>=pd;--ba)fa.point(hc[ba],Tb[ba]);fa.lineEnd();fa.areaEnd()}Ya&&(hc[y]=+R(Ta,y,k),Tb[y]=+va(Ta,y,k),fa.point(ha?+ha(Ta,y,k):hc[y],Qa?+Qa(Ta,y,k):Tb[y]))}if(Jb)return fa=null,Jb+""||null}function Q(){return Pa().defined(wa).curve(E).context(t)}
var ha=null,wa=Ab(!0),t=null,E=pb,fa=null;R="function"===typeof R?R:void 0===R?Oa:Ab(+R);va="function"===typeof va?va:void 0===va?Ab(0):Ab(+va);Qa="function"===typeof Qa?Qa:void 0===Qa?Da:Ab(+Qa);q.x=function(k){return arguments.length?(R="function"===typeof k?k:Ab(+k),ha=null,q):R};q.x0=function(k){return arguments.length?(R="function"===typeof k?k:Ab(+k),q):R};q.x1=function(k){return arguments.length?(ha=null==k?null:"function"===typeof k?k:Ab(+k),q):ha};q.y=function(k){return arguments.length?
(va="function"===typeof k?k:Ab(+k),Qa=null,q):va};q.y0=function(k){return arguments.length?(va="function"===typeof k?k:Ab(+k),q):va};q.y1=function(k){return arguments.length?(Qa=null==k?null:"function"===typeof k?k:Ab(+k),q):Qa};q.lineX0=q.lineY0=function(){return Q().x(R).y(va)};q.lineY1=function(){return Q().x(R).y(Qa)};q.lineX1=function(){return Q().x(ha).y(va)};q.defined=function(k){return arguments.length?(wa="function"===typeof k?k:Ab(!!k),q):wa};q.curve=function(k){return arguments.length?
(E=k,null!=t&&(fa=E(t)),q):E};q.context=function(k){return arguments.length?(null==k?t=fa=null:fa=E(t=k),q):t};return q}function lb(){}function Na(R,va,Qa){R._context.bezierCurveTo((2*R._x0+R._x1)/3,(2*R._y0+R._y1)/3,(R._x0+2*R._x1)/3,(R._y0+2*R._y1)/3,(R._x0+4*R._x1+va)/6,(R._y0+4*R._y1+Qa)/6)}function xb(R){this._context=R}function ob(R){this._context=R}function Nb(R){this._context=R}function Zb(R,va){this._basis=new xb(R);this._beta=va}function nb(R,va,Qa){R._context.bezierCurveTo(R._x1+R._k*(R._x2-
R._x0),R._y1+R._k*(R._y2-R._y0),R._x2+R._k*(R._x1-va),R._y2+R._k*(R._y1-Qa),R._x2,R._y2)}function la(R,va){this._context=R;this._k=(1-va)/6}function Y(R,va){this._context=R;this._k=(1-va)/6}function Ha(R,va){this._context=R;this._k=(1-va)/6}function Fa(R,va,Qa){var q=R._x1,Q=R._y1,ha=R._x2,wa=R._y2;if(1E-12<R._l01_a){var t=2*R._l01_2a+3*R._l01_a*R._l12_a+R._l12_2a,E=3*R._l01_a*(R._l01_a+R._l12_a);q=(q*t-R._x0*R._l12_2a+R._x2*R._l01_2a)/E;Q=(Q*t-R._y0*R._l12_2a+R._y2*R._l01_2a)/E}1E-12<R._l23_a&&(t=
2*R._l23_2a+3*R._l23_a*R._l12_a+R._l12_2a,E=3*R._l23_a*(R._l23_a+R._l12_a),ha=(ha*t+R._x1*R._l23_2a-va*R._l12_2a)/E,wa=(wa*t+R._y1*R._l23_2a-Qa*R._l12_2a)/E);R._context.bezierCurveTo(q,Q,ha,wa,R._x2,R._y2)}function cb(R,va){this._context=R;this._alpha=va}function aa(R,va){this._context=R;this._alpha=va}function ma(R,va){this._context=R;this._alpha=va}function p(R){this._context=R}function L(R,va,Qa){var q=R._x1-R._x0;va-=R._x1;var Q=(R._y1-R._y0)/(q||0>va&&-0);R=(Qa-R._y1)/(va||0>q&&-0);return((0>
Q?-1:1)+(0>R?-1:1))*Math.min(Math.abs(Q),Math.abs(R),.5*Math.abs((Q*va+R*q)/(q+va)))||0}function P(R,va){var Qa=R._x1-R._x0;return Qa?(3*(R._y1-R._y0)/Qa-va)/2:va}function f(R,va,Qa){var q=R._x0,Q=R._x1,ha=R._y1,wa=(Q-q)/3;R._context.bezierCurveTo(q+wa,R._y0+wa*va,Q-wa,ha-wa*Qa,Q,ha)}function v(R){this._context=R}function l(R){this._context=new C(R)}function C(R){this._context=R}function B(R){this._context=R}function z(R){var va,Qa=R.length-1,q=Array(Qa),Q=Array(Qa),ha=Array(Qa);q[0]=0;Q[0]=2;ha[0]=
R[0]+2*R[1];for(va=1;va<Qa-1;++va)q[va]=1,Q[va]=4,ha[va]=4*R[va]+2*R[va+1];q[Qa-1]=2;Q[Qa-1]=7;ha[Qa-1]=8*R[Qa-1]+R[Qa];for(va=1;va<Qa;++va){var wa=q[va]/Q[va-1];Q[va]-=wa;ha[va]-=wa*ha[va-1]}q[Qa-1]=ha[Qa-1]/Q[Qa-1];for(va=Qa-2;0<=va;--va)q[va]=(ha[va]-q[va+1])/Q[va];Q[Qa-1]=(R[Qa]+q[Qa-1])/2;for(va=0;va<Qa-1;++va)Q[va]=2*R[va+1]-q[va+1];return[q,Q]}function D(R,va){this._context=R;this._t=va}function G(R,va,Qa){R=g.hasOwnProperty(Je,R)&&Je[R];var q=null;R&&(q=R.curve||R[va||"vertical"],R.tension&&
null!=Qa&&(q=q[R.tension](Qa)));return q}function U(R){const va=[];(R.match(Bf)||[]).forEach(Qa=>{let q=Qa[0];var Q=q.toLowerCase();const ha=ne[Q];var wa=Qa.slice(1).trim();Qa=[];for(let E=0;ha&&E<wa.length;)for(let fa=0;fa<ha;++fa){var t="a"!==Q||3!==fa&&4!==fa?Hf:Zf;t=wa.slice(E).match(t);if(null===t)throw Error("Invalid SVG path, incorrect parameter type");E+=t[0].length;Qa.push(+t[0]);t=wa.slice(E).match(ef);null!==t&&(E+=t[0].length)}wa=Qa.length;if(wa<ha||wa&&0!==wa%ha)throw Error("Invalid SVG path, incorrect parameter count");
va.push([q,...Qa.slice(0,ha)]);if(wa!==ha)for("m"===Q&&(q="M"===q?"L":"l"),Q=ha;Q<wa;Q+=ha)va.push([q,...Qa.slice(Q,Q+ha)])});return va}function Aa(R,va,Qa,q,Q,ha,wa,t,E){const fa=xf.call(arguments);if(Gf[fa])return Gf[fa];var k=wa*Yd;const y=Math.sin(k);k=Math.cos(k);Qa=Math.abs(Qa);q=Math.abs(q);var ba=k*(t-R)*.5+y*(E-va)*.5,oa=k*(E-va)*.5-y*(t-R)*.5;ba=ba*ba/(Qa*Qa)+oa*oa/(q*q);1<ba&&(ba=Math.sqrt(ba),Qa*=ba,q*=ba);var Ta=k/Qa,Ya=y/Qa,Jb=-y/q,hc=k/q;ba=Ta*t+Ya*E;oa=Jb*t+hc*E;Ta=Ta*R+Ya*va;Ya=Jb*
R+hc*va;Jb=1/((Ta-ba)*(Ta-ba)+(Ya-oa)*(Ya-oa))-.25;0>Jb&&(Jb=0);hc=Math.sqrt(Jb);ha==Q&&(hc=-hc);Jb=.5*(ba+Ta)-hc*(Ya-oa);hc=.5*(oa+Ya)+hc*(Ta-ba);ba=Math.atan2(oa-hc,ba-Jb);oa=Math.atan2(Ya-hc,Ta-Jb)-ba;0>oa&&1===ha?oa+=jf:0<oa&&0===ha&&(oa-=jf);Ta=Math.ceil(Math.abs(oa/(cf+.001)));Ya=[];for(let Tb=0;Tb<Ta;++Tb)Ya[Tb]=[Jb,hc,ba+Tb*oa/Ta,ba+(Tb+1)*oa/Ta,Qa,q,y,k];return Gf[fa]=Ya}function X(R,va,Qa,q,Q,ha){var wa=null,t=0,E=0,fa=0,k=0,y=0,ba=0;null==Qa&&(Qa=0);null==q&&(q=0);null==Q&&(Q=1);null==
ha&&(ha=Q);R.beginPath&&R.beginPath();for(var oa=0,Ta=va.length;oa<Ta;++oa){var Ya=va[oa];if(1!==Q||1!==ha){var Jb=Q;var hc=ha;var Tb=yf[0]=Ya[0];if("a"===Tb||"A"===Tb)yf[1]=Jb*Ya[1],yf[2]=hc*Ya[2],yf[3]=Ya[3],yf[4]=Ya[4],yf[5]=Ya[5],yf[6]=Jb*Ya[6],yf[7]=hc*Ya[7];else if("h"===Tb||"H"===Tb)yf[1]=Jb*Ya[1];else if("v"===Tb||"V"===Tb)yf[1]=hc*Ya[1];else{Tb=1;for(var pd=Ya.length;Tb<pd;++Tb)yf[Tb]=(1==Tb%2?Jb:hc)*Ya[Tb]}Ya=yf}switch(Ya[0]){case "l":t+=Ya[1];E+=Ya[2];R.lineTo(t+Qa,E+q);break;case "L":t=
Ya[1];E=Ya[2];R.lineTo(t+Qa,E+q);break;case "h":t+=Ya[1];R.lineTo(t+Qa,E+q);break;case "H":t=Ya[1];R.lineTo(t+Qa,E+q);break;case "v":E+=Ya[1];R.lineTo(t+Qa,E+q);break;case "V":E=Ya[1];R.lineTo(t+Qa,E+q);break;case "m":t+=Ya[1];E+=Ya[2];y=t;ba=E;R.moveTo(t+Qa,E+q);break;case "M":t=Ya[1];E=Ya[2];y=t;ba=E;R.moveTo(t+Qa,E+q);break;case "c":Jb=t+Ya[5];hc=E+Ya[6];fa=t+Ya[3];k=E+Ya[4];R.bezierCurveTo(t+Ya[1]+Qa,E+Ya[2]+q,fa+Qa,k+q,Jb+Qa,hc+q);t=Jb;E=hc;break;case "C":t=Ya[5];E=Ya[6];fa=Ya[3];k=Ya[4];R.bezierCurveTo(Ya[1]+
Qa,Ya[2]+q,fa+Qa,k+q,t+Qa,E+q);break;case "s":Jb=t+Ya[3];hc=E+Ya[4];fa=2*t-fa;k=2*E-k;R.bezierCurveTo(fa+Qa,k+q,t+Ya[1]+Qa,E+Ya[2]+q,Jb+Qa,hc+q);fa=t+Ya[1];k=E+Ya[2];t=Jb;E=hc;break;case "S":Jb=Ya[3];hc=Ya[4];fa=2*t-fa;k=2*E-k;R.bezierCurveTo(fa+Qa,k+q,Ya[1]+Qa,Ya[2]+q,Jb+Qa,hc+q);t=Jb;E=hc;fa=Ya[1];k=Ya[2];break;case "q":Jb=t+Ya[3];hc=E+Ya[4];fa=t+Ya[1];k=E+Ya[2];R.quadraticCurveTo(fa+Qa,k+q,Jb+Qa,hc+q);t=Jb;E=hc;break;case "Q":Jb=Ya[3];hc=Ya[4];R.quadraticCurveTo(Ya[1]+Qa,Ya[2]+q,Jb+Qa,hc+q);t=
Jb;E=hc;fa=Ya[1];k=Ya[2];break;case "t":Jb=t+Ya[1];hc=E+Ya[2];null===wa[0].match(/[QqTt]/)?(fa=t,k=E):"t"===wa[0]?(fa=2*t-Zc,k=2*E-Rd):"q"===wa[0]&&(fa=2*t-fa,k=2*E-k);var Zc=fa;var Rd=k;R.quadraticCurveTo(fa+Qa,k+q,Jb+Qa,hc+q);t=Jb;E=hc;fa=t+Ya[1];k=E+Ya[2];break;case "T":Jb=Ya[1];hc=Ya[2];fa=2*t-fa;k=2*E-k;R.quadraticCurveTo(fa+Qa,k+q,Jb+Qa,hc+q);t=Jb;E=hc;break;case "a":u(R,t+Qa,E+q,[Ya[1],Ya[2],Ya[3],Ya[4],Ya[5],Ya[6]+t+Qa,Ya[7]+E+q]);t+=Ya[6];E+=Ya[7];break;case "A":u(R,t+Qa,E+q,[Ya[1],Ya[2],
Ya[3],Ya[4],Ya[5],Ya[6]+Qa,Ya[7]+q]);t=Ya[6];E=Ya[7];break;case "z":case "Z":t=y,E=ba,R.closePath()}wa=Ya}}function u(R,va,Qa,q){va=Aa(q[5],q[6],q[0],q[1],q[3],q[4],q[2],va,Qa);for(Qa=0;Qa<va.length;++Qa){a:{var Q=va[Qa];q=xf.call(Q);if(If[q]){q=If[q];break a}var ha=Q[0],wa=Q[1],t=Q[2],E=Q[3],fa=Q[4],k=Q[5],y=Q[6],ba=Q[7];Q=ba*fa;const Ta=-y*k;fa*=y;k*=ba;var oa=Math.cos(t);const Ya=Math.sin(t);y=Math.cos(E);ba=Math.sin(E);t=.5*(E-t);E=Math.sin(.5*t);E=8/3*E*E/Math.sin(t);t=ha+oa-E*Ya;oa=wa+Ya+E*
oa;ha+=y;wa+=ba;ba=ha+E*ba;y=wa-E*y;q=If[q]=[Q*t+Ta*oa,fa*t+k*oa,Q*ba+Ta*y,fa*ba+k*y,Q*ha+Ta*wa,fa*ha+k*wa]}R.bezierCurveTo(q[0],q[1],q[2],q[3],q[4],q[5])}}function K(R){return g.hasOwnProperty(Bg,R)?Bg[R]:ua(R)}function ua(R){if(!g.hasOwnProperty(hg,R)){const va=U(R);hg[R]={draw:function(Qa,q){X(Qa,va,0,0,Math.sqrt(q)/2)}}}return hg[R]}function Ja(R){return R.x}function Wa(R){return R.y}function ab(R){return R.width}function W(R){return R.height}function Ca(R){return"function"===typeof R?R:()=>+R}
function Za(R,va,Qa){return Math.max(va,Math.min(R,Qa))}function Ib(){function R(k,y,ba){var oa;y=null!=y?y:+va.call(this,k);ba=null!=ba?ba:+Qa.call(this,k);var Ta=+q.call(this,k),Ya=+Q.call(this,k),Jb=Math.min(Ta,Ya)/2,hc=Za(+ha.call(this,k),0,Jb),Tb=Za(+wa.call(this,k),0,Jb),pd=Za(+t.call(this,k),0,Jb);k=Za(+E.call(this,k),0,Jb);fa||(fa=oa=yc());0>=hc&&0>=Tb&&0>=pd&&0>=k?fa.rect(y,ba,Ta,Ya):(Ta=y+Ta,Ya=ba+Ya,fa.moveTo(y+hc,ba),fa.lineTo(Ta-Tb,ba),fa.bezierCurveTo(Ta-.448084975506*Tb,ba,Ta,ba+.448084975506*
Tb,Ta,ba+Tb),fa.lineTo(Ta,Ya-k),fa.bezierCurveTo(Ta,Ya-.448084975506*k,Ta-.448084975506*k,Ya,Ta-k,Ya),fa.lineTo(y+pd,Ya),fa.bezierCurveTo(y+.448084975506*pd,Ya,y,Ya-.448084975506*pd,y,Ya-pd),fa.lineTo(y,ba+hc),fa.bezierCurveTo(y,ba+.448084975506*hc,y+.448084975506*hc,ba,y+hc,ba),fa.closePath());if(oa)return fa=null,oa+""||null}var va=Ja,Qa=Wa,q=ab,Q=W,ha=Ca(0),wa=ha,t=ha,E=ha,fa=null;R.x=function(k){return arguments.length?(va=Ca(k),R):va};R.y=function(k){return arguments.length?(Qa=Ca(k),R):Qa};
R.width=function(k){return arguments.length?(q=Ca(k),R):q};R.height=function(k){return arguments.length?(Q=Ca(k),R):Q};R.cornerRadius=function(k,y,ba,oa){return arguments.length?(ha=Ca(k),wa=null!=y?Ca(y):ha,E=null!=ba?Ca(ba):ha,t=null!=oa?Ca(oa):wa,R):ha};R.context=function(k){return arguments.length?(fa=null==k?null:k,R):fa};return R}function xc(){function R(k){var y,ba=k.length,oa,Ta=!1,Ya;null==ha&&(ha=Ya=yc());for(y=0;y<=ba;++y)if(!(y<ba&&Q(oa=k[y],y,k))===Ta&&(Ta=!Ta)&&(wa=0),Ta){var Jb=+va(oa,
y,k),hc=+Qa(oa,y,k);const ve=+q(oa,y,k)/2;if(wa){var Tb=E-hc,pd=Jb-t;if(Tb||pd){var Zc=Math.sqrt(Tb*Tb+pd*pd),Rd=(Tb/=Zc)*fa;Zc=(pd/=Zc)*fa;var te=Math.atan2(pd,Tb);ha.moveTo(t-Rd,E-Zc);ha.lineTo(Jb-Tb*ve,hc-pd*ve);ha.arc(Jb,hc,ve,te-Math.PI,te);ha.lineTo(t+Rd,E+Zc);ha.arc(t,E,fa,te,te+Math.PI)}else ha.arc(Jb,hc,ve,0,jf);ha.closePath()}else wa=1;t=Jb;E=hc;fa=ve}if(Ya)return ha=null,Ya+""||null}var va,Qa,q,Q,ha=null,wa,t,E,fa;R.x=function(k){return arguments.length?(va=k,R):va};R.y=function(k){return arguments.length?
(Qa=k,R):Qa};R.size=function(k){return arguments.length?(q=k,R):q};R.defined=function(k){return arguments.length?(Q=k,R):Q};R.context=function(k){return arguments.length?(ha=null==k?null:k,R):ha};return R}function uc(R,va){return null!=R?R:va}function wc(R){return R.cornerRadius||R.cornerRadiusTopLeft||R.cornerRadiusTopRight||R.cornerRadiusBottomRight||R.cornerRadiusBottomLeft}function bd(R,va,Qa,q){return pa.context(R)(va,Qa,q)}function Wb(R,va,Qa){var q=va.clip;R=R._defs;va=va.clip_id||(va.clip_id=
"clip"+gd++);R=R.clipping[va]||(R.clipping[va]={id:va});g.isFunction(q)?R.path=q(null):wc(Qa)?R.path=bd(null,Qa,0,0):(R.width=Qa.width||0,R.height=Qa.height||0);return"url(#"+va+")"}function Rc(R){this.clear();R&&this.union(R)}function Pd(R){this.mark=R;this.bounds=this.bounds||new Rc}function Ka(R){Pd.call(this,R);this.items=this.items||[]}function Ub(R){this._pending=0;this._loader=R||hb.loader()}function rb(R,va,Qa){if(va.stroke&&0!==va.opacity&&0!==va.strokeOpacity){const q=null!=va.strokeWidth?
+va.strokeWidth:1;R.expand(q+(Qa?va.strokeJoin&&"miter"!==va.strokeJoin?0:q:0))}return R}function Sb(R,va){pe=R;va?(Ef=va*Yd,Me=Tf=Math.cos(Ef),$f=Math.sin(Ef),Mf=-$f):(Me=Tf=1,Ef=$f=Mf=0);return De}function fc(R,va,Qa,q){Qa=(R-va)/(R+Qa-2*va);0<Qa&&1>Qa&&q(R+(va-R)*Qa)}function bc(R,va,Qa,q,Q){const ha=q-R+3*va-3*Qa,wa=R+Qa-2*va;var t=R-va;let E=0,fa=0;1E-14<Math.abs(ha)?(t=wa*wa+t*ha,0<=t&&(t=Math.sqrt(t),E=(-wa+t)/ha,fa=(-wa-t)/ha)):E=.5*t/wa;0<E&&1>E&&Q(Hc(E,R,va,Qa,q));0<fa&&1>fa&&Q(Hc(fa,R,
va,Qa,q))}function Hc(R,va,Qa,q,Q){const ha=1-R,wa=ha*ha,t=R*R;return wa*ha*va+3*wa*R*Qa+3*ha*t*q+t*R*Q}function zc(R){return function(va,Qa){if(!Ie)return!0;R(Ie,va);Kf.clear().union(va.bounds).intersect(Qa).round();const {x1:q,y1:Q,x2:ha,y2:wa}=Kf;for(va=Q;va<=wa;++va)for(Qa=q;Qa<=ha;++Qa)if(Ie.isPointInPath(Qa,va))return!0;return!1}}function Yc(R,va){return va.contains(R.x||0,R.y||0)}function Md(R,va){const Qa=R.x||0,q=R.y||0;return va.intersects(Kf.set(Qa,q,Qa+(R.width||0),q+(R.height||0)))}function td(R,
va){const Qa=R.x||0,q=R.y||0;return Ga(va,Qa,q,null!=R.x2?R.x2:Qa,null!=R.y2?R.y2:q)}function Ga(R,va,Qa,q,Q){const {x1:ha,y1:wa,x2:t,y2:E}=R;R=q-va;Q-=Qa;q=0;let fa=1,k,y,ba,oa;for(oa=0;4>oa;++oa){0===oa&&(k=-R,y=-(ha-va));1===oa&&(k=R,y=t-va);2===oa&&(k=-Q,y=-(wa-Qa));3===oa&&(k=Q,y=E-Qa);if(1E-10>Math.abs(k)&&0>y)return!1;ba=y/k;if(0>k){if(ba>fa)return!1;ba>q&&(q=ba)}else if(0<k){if(ba<q)return!1;ba<fa&&(fa=ba)}}return!0}function gb(R,va){R.globalCompositeOperation=va.blend||"source-over"}function vb(R,
va){return null==R?va:R}function ra(R,va){const Qa=va.length;for(let q=0;q<Qa;++q)R.addColorStop(va[q].offset,va[q].color);return R}function F(R,va,Qa){const q=Qa.width(),Q=Qa.height();if("radial"===va.gradient)R=R.createRadialGradient(Qa.x1+vb(va.x1,.5)*q,Qa.y1+vb(va.y1,.5)*Q,Math.max(q,Q)*vb(va.r1,0),Qa.x1+vb(va.x2,.5)*q,Qa.y1+vb(va.y2,.5)*Q,Math.max(q,Q)*vb(va.r2,.5));else{const ha=vb(va.x1,0),wa=vb(va.y1,0),t=vb(va.x2,1),E=vb(va.y2,0);if(ha===t||wa===E||q===Q)R=R.createLinearGradient(Qa.x1+ha*
q,Qa.y1+wa*Q,Qa.x1+t*q,Qa.y1+E*Q);else{Qa=qa.canvas(Math.ceil(q),Math.ceil(Q));const fa=Qa.getContext("2d");fa.scale(q,Q);fa.fillStyle=ra(fa.createLinearGradient(ha,wa,t,E),va.stops);fa.fillRect(0,0,q,Q);return R.createPattern(Qa,"no-repeat")}}return ra(R,va.stops)}function ya(R,va,Qa){Qa*=null==va.fillOpacity?1:va.fillOpacity;return 0<Qa?(R.globalAlpha=Qa,va=(Qa=va.fill)&&Qa.gradient?F(R,Qa,va.bounds):Qa,R.fillStyle=va,!0):!1}function La(R,va,Qa){var q=null!=(q=va.strokeWidth)?q:1;if(0>=q)return!1;
Qa*=null==va.strokeOpacity?1:va.strokeOpacity;return 0<Qa?(R.globalAlpha=Qa,Qa=(Qa=va.stroke)&&Qa.gradient?F(R,Qa,va.bounds):Qa,R.strokeStyle=Qa,R.lineWidth=q,R.lineCap=va.strokeCap||"butt",R.lineJoin=va.strokeJoin||"miter",R.miterLimit=va.strokeMiterLimit||10,R.setLineDash&&(R.setLineDash(va.strokeDash||wf),R.lineDashOffset=va.strokeDashOffset||0),!0):!1}function $a(R,va){return R.zindex-va.zindex||R.index-va.index}function jb(R){if(!R.zdirty)return R.zitems;var va=R.items,Qa=[],q;var Q=0;for(q=
va.length;Q<q;++Q){var ha=va[Q];ha.index=Q;ha.zindex&&Qa.push(ha)}R.zdirty=!1;return R.zitems=Qa.sort($a)}function Fb(R,va){var Qa=R.items,q;if(Qa&&Qa.length){var Q=jb(R);if(Q&&Q.length){R=0;for(q=Qa.length;R<q;++R)Qa[R].zindex||va(Qa[R]);Qa=Q}R=0;for(q=Qa.length;R<q;++R)va(Qa[R])}}function nc(R,va){var Qa=R.items,q,Q;if(!Qa||!Qa.length)return null;const ha=jb(R);ha&&ha.length&&(Qa=ha);for(Q=Qa.length;0<=--Q;)if(q=va(Qa[Q]))return q;if(Qa===ha)for(Qa=R.items,Q=Qa.length;0<=--Q;)if(!Qa[Q].zindex&&
(q=va(Qa[Q])))return q;return null}function dc(R){return function(va,Qa,q){Fb(Qa,Q=>{q&&!q.intersects(Q.bounds)||Uc(R,va,Q,Q)})}}function ic(R){return function(va,Qa,q){!Qa.items.length||q&&!q.intersects(Qa.bounds)||Uc(R,va,Qa.items[0],Qa.items)}}function Uc(R,va,Qa,q){var Q=null==Qa.opacity?1:Qa.opacity;0===Q||R(va,q)||(gb(va,Qa),Qa.fill&&ya(va,Qa,Q)&&va.fill(),Qa.stroke&&La(va,Qa,Q)&&va.stroke())}function cd(R){R=R||g.truthy;return function(va,Qa,q,Q,ha,wa){q*=va.pixelRatio;Q*=va.pixelRatio;return nc(Qa,
t=>{const E=t.bounds;if((!E||E.contains(ha,wa))&&E&&R(va,t,q,Q,ha,wa))return t})}}function dd(R,va){return function(Qa,q,Q,ha){var wa=Array.isArray(q)?q[0]:q,t=null==va?wa.fill:va,E=wa.stroke&&Qa.isPointInStroke;if(E){var fa=wa.strokeWidth;wa=wa.strokeCap;Qa.lineWidth=null!=fa?fa:1;Qa.lineCap=null!=wa?wa:"butt"}return R(Qa,q)?!1:t&&Qa.isPointInPath(Q,ha)||E&&Qa.isPointInStroke(Q,ha)}}function Qd(R,va){return"translate("+R+","+va+")"}function Td(R,va,Qa){function q(Q,ha){var wa=ha.x||0,t=ha.y||0,E=
ha.angle||0;Q.translate(wa,t);E&&Q.rotate(E*=Yd);Q.beginPath();va(Q,ha);E&&Q.rotate(-E);Q.translate(-wa,-t)}return{type:R,tag:"path",nested:!1,attr:function(Q,ha){var wa=Qd(ha.x||0,ha.y||0)+(ha.angle?" rotate("+(ha.angle+")"):"");Q("transform",wa);Q("d",va(null,ha))},bound:function(Q,ha){va(Sb(Q,ha.angle),ha);return rb(Q,ha).translate(ha.x||0,ha.y||0)},draw:dc(q),pick:cd(dd(q)),isect:Qa||zc(q)}}function Ed(R,va,Qa){function q(ha,wa){ha.beginPath();va(ha,wa)}const Q=dd(q);return{type:R,tag:"path",
nested:!0,attr:function(ha,wa){wa=wa.mark.items;wa.length&&ha("d",va(null,wa))},bound:function(ha,wa){wa=wa.items;if(0===wa.length)return ha;va(Sb(ha),wa);return rb(ha,wa[0])},draw:ic(q),pick:function(ha,wa,t,E,fa,k){var y=wa.items;wa=wa.bounds;if(!y||!y.length||wa&&!wa.contains(fa,k))return null;t*=ha.pixelRatio;E*=ha.pixelRatio;return Q(ha,y,t,E)?y[0]:null},isect:Yc,tip:Qa}}function Zd(R,va){R.beginPath();wc(va)?bd(R,va,0,0):R.rect(0,0,va.width||0,va.height||0);R.clip()}function de(R){const va=
vb(R.strokeWidth,1);return null!=R.strokeOffset?R.strokeOffset:R.stroke&&.5<va&&1.5>va?.5-Math.abs(va-1):0}function Ud(R,va,Qa,q){const Q=de(va);R.beginPath();bd(R,va,(Qa||0)+Q,(q||0)+Q)}function Te(R,va){var Qa=R.image;if(!Qa||R.url&&R.url!==Qa.url)Qa={complete:!1,width:0,height:0},va.loadImage(R.url).then(q=>{R.image=q;R.image.url=R.url});return Qa}function Xd(R,va){return null!=R.width?R.width:va&&va.width?!1!==R.aspect&&R.height?R.height*va.width/va.height:va.width:0}function M(R,va){return null!=
R.height?R.height:va&&va.height?!1!==R.aspect&&R.width?R.width*va.height/va.width:va.height:0}function ka(R,va){return"center"===R?va/2:"right"===R?va:0}function za(R,va){return"middle"===R?va/2:"bottom"===R?va:0}function fb(R,va){var Qa=va.path;if(null==Qa)return!0;var q=va.x||0,Q=va.y||0,ha=va.scaleX||1,wa=va.scaleY||1,t=(va.angle||0)*Yd,E=va.pathCache;E&&E.path===Qa||((va.pathCache=E=U(Qa)).path=Qa);t&&R.rotate&&R.translate?(R.translate(q,Q),R.rotate(t),X(R,E,0,0,ha,wa),R.rotate(-t),R.translate(-q,
-Q)):X(R,E,q,Q,ha,wa)}function Hb(R,va){R.beginPath();bd(R,va)}function Xb(R,va,Qa){if(va.stroke&&La(R,va,Qa)){Qa=va.x||0;var q=va.y||0;var Q=null!=va.x2?va.x2:Qa;va=null!=va.y2?va.y2:q;R.beginPath();R.moveTo(Qa,q);R.lineTo(Q,va);return!0}return!1}function Ac(R){yh.width=R&&Ie?Fc:lc}function lc(R,va){va=Fd(R,va);R=Nc(R);return~~(.8*va.length*R)}function Fc(R,va){return 0>=Nc(R)||!(va=Fd(R,va))?0:hd(va,ae(R))}function hd(R,va){const Qa=`(${va}) ${R}`;let q=rh.get(Qa);void 0===q&&(Ie.font=va,q=Ie.measureText(R).width,
rh.set(Qa,q));return q}function Nc(R){return null!=R.fontSize?+R.fontSize||0:11}function rd(R){return null!=R.lineHeight?R.lineHeight:Nc(R)+2}function Gd(R){R=R.lineBreak&&R.text&&!g.isArray(R.text)?R.text.split(R.lineBreak):R.text;return g.isArray(R)?1<R.length?R:R[0]:R}function Fd(R,va){va=null==va?"":(va+"").trim();if(0<R.limit&&va.length){var Qa=+R.limit,q=$d(R);if(!(q(va)<Qa)){var Q=R.ellipsis||"",ha="rtl"===R.dir;R=0;var wa=va.length;Qa-=q(Q);if(ha){for(;R<wa;)ha=R+wa>>>1,q(va.slice(ha))>Qa?
R=ha+1:wa=ha;va=Q+va.slice(R)}else{for(;R<wa;)ha=1+(R+wa>>>1),q(va.slice(0,ha))<Qa?R=ha:wa=ha-1;va=va.slice(0,R)+Q}}}return va}function $d(R){if(yh.width===Fc){const Qa=ae(R);return q=>hd(q,Qa)}const va=Nc(R);return Qa=>~~(.8*Qa.length*va)}function Wd(R,va){R=R.font;return(va&&R?String(R).replace(/"/g,"'"):R)||"sans-serif"}function ae(R,va){return(R.fontStyle?R.fontStyle+" ":"")+(R.fontVariant?R.fontVariant+" ":"")+(R.fontWeight?R.fontWeight+" ":"")+Nc(R)+"px "+Wd(R,va)}function Be(R){var va=R.baseline,
Qa=Nc(R);return Math.round("top"===va?.79*Qa:"middle"===va?.3*Qa:"bottom"===va?-.21*Qa:"line-top"===va?.29*Qa+.5*rd(R):"line-bottom"===va?.29*Qa-.5*rd(R):0)}function ff(R){var va=R.x||0,Qa=R.y||0,q=R.radius||0;q&&(R=(R.theta||0)-cf,va+=q*Math.cos(R),Qa+=q*Math.sin(R));Tg.x1=va;Tg.y1=Qa;return Tg}function df(R,va,Qa){var q=yh.height(va),Q=va.align,ha=ff(va),wa=ha.x1;ha=ha.y1;var t=va.dx||0,E=(va.dy||0)+Be(va)-Math.round(.8*q),fa=Gd(va);g.isArray(fa)?(q+=rd(va)*(fa.length-1),fa=fa.reduce((k,y)=>Math.max(k,
yh.width(va,y)),0)):fa=yh.width(va,fa);"center"===Q?t-=fa/2:"right"===Q&&(t-=fa);R.set(t+=wa,E+=ha,t+fa,E+q);if(va.angle&&!Qa)R.rotate(va.angle*Yd,wa,ha);else if(2===Qa)return R.rotatedPoints(va.angle*Yd,wa,ha);return R}function af(R,va,Qa){var q=Cg[R.mark.marktype];va=va||q.bound;q.nested&&(R=R.mark);return va(R.bounds||(R.bounds=new Rc),R,Qa)}function re(R,va,Qa){var q=Cg[R.marktype],Q=q.bound,ha=R.items,wa=ha&&ha.length;if(q.nested)return wa?R=ha[0]:(zh.mark=R,R=zh),Qa=af(R,Q,Qa),va=va&&va.union(Qa)||
Qa;va=va||R.bounds&&R.bounds.clear()||new Rc;if(wa)for(q=0,wa=ha.length;q<wa;++q)va.union(af(ha[q],Q,Qa));return R.bounds=va}function pf(R,va){return JSON.stringify(R,Th,va)}function T(R){R="string"===typeof R?JSON.parse(R):R;return ta(R)}function ta(R){var va=R.marktype,Qa=R.items,q;if(Qa){var Q=0;for(q=Qa.length;Q<q;++Q){var ha=va?"mark":"group";Qa[Q][ha]=R;Qa[Q].zindex&&(Qa[Q][ha].zdirty=!0);"group"===(va||ha)&&ta(Qa[Q])}}va&&re(R);return R}function db(R){arguments.length?this.root=T(R):(this.root=
zb({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ka(this.root)])}function zb(R,va){va={bounds:new Rc,clip:!!R.clip,group:va,interactive:!1===R.interactive?!1:!0,items:[],marktype:R.marktype,name:R.name||void 0,role:R.role||void 0,zindex:R.zindex||0};null!=R.aria&&(va.aria=R.aria);R.description&&(va.description=R.description);return va}function ec(R,va,Qa){!R&&"undefined"!==typeof document&&document.createElement&&(R=document);return R?Qa?R.createElementNS(Qa,va):R.createElement(va):
null}function Bc(R,va){va=va.toLowerCase();R=R.childNodes;for(var Qa=0,q=R.length;Qa<q;++Qa)if(R[Qa].tagName.toLowerCase()===va)return R[Qa]}function Yb(R,va,Qa,q){va=R.childNodes[va];if(!va||va.tagName.toLowerCase()!==Qa.toLowerCase()){var Q=va||null;va=ec(R.ownerDocument,Qa,q);R.insertBefore(va,Q)}return va}function I(R,va){for(var Qa=R.childNodes,q=Qa.length;q>va;)R.removeChild(Qa[--q]);return R}function da(R){return"mark-"+R.marktype+(R.role?" role-"+R.role:"")+(R.name?" "+R.name:"")}function Sa(R,
va){const Qa=va.getBoundingClientRect();return[R.clientX-Qa.left-(va.clientLeft||0),R.clientY-Qa.top-(va.clientTop||0)]}function ac(R,va){this._active=null;this._handlers={};this._loader=R||hb.loader();this._tooltip=va||Pc}function Pc(R,va,Qa,q){R.element().setAttribute("title",q||"")}function Cc(R){this._bgcolor=this._el=null;this._loader=new Ub(R)}function Sc(R,va){ac.call(this,R,va);this._touch=this._down=null;this._first=!0;this._events={}}function fd(R,va){("touchstart"===va||"touchmove"===va||
"touchend"===va?["touchstart","touchmove","touchend"]:[va]).forEach(Qa=>ee(R,Qa))}function ee(R,va){const Qa=R.canvas();Qa&&!R._events[va]&&(R._events[va]=1,Qa.addEventListener(va,R[va]?q=>R[va](q):q=>R.fire(va,q)))}function Ra(R,va,Qa){return function(q){const Q=this._active,ha=this.pickEvent(q);ha!==Q&&(Q&&Q.exit||this.fire(Qa,q),this._active=ha,this.fire(va,q));this.fire(R,q)}}function eb(R){return function(va){this.fire(R,va);this._active=null}}function pc(R){Cc.call(this,R);this._options={};
this._redraw=!1;this._dirty=new Rc;this._tempb=new Rc}function vd(R,va){ac.call(this,R,va);const Qa=this;Qa._hrefHandler=lh(Qa,(q,Q)=>{Q&&Q.href&&Qa.handleHref(q,Q,Q.href)});Qa._tooltipHandler=lh(Qa,(q,Q)=>{Qa.handleTooltip(q,Q,"mouseout"!==q.type)})}function Jc(R,va){var Qa=!1===va.aria;R("aria-hidden",Qa||void 0);if(Qa||null==va.description)for(const q in th)R(th[q],void 0);else Qa=va.mark.marktype,R("aria-label",va.description),R("role",va.ariaRole||("group"===Qa?"graphics-object":"graphics-symbol")),
R("aria-roledescription",va.ariaRoleDescription||`${Qa} mark`)}function Vc(R){return!1===R.aria?{["aria-hidden"]:!0}:Gg[R.role]?null:Jh[R.role]?sd(R,Jh[R.role]):Qc(R)}function Qc(R){const va=R.marktype,Qa="group"===va||"text"===va||R.items.some(q=>null!=q.description&&!1!==q.aria);return sh(Qa?"graphics-object":"graphics-symbol",`${va} mark container`,R.description)}function sd(R,va){try{const Qa=R.items[0],q=va.caption||(()=>"");return sh(va.role||"graphics-symbol",va.desc,Qa.description||q(Qa))}catch(Qa){return null}}
function id(R){try{return g.array(g.peek(R.items).items[0].text).join(" ")}catch(va){return null}}function Nd(R){R=R.map(va=>va+("fill"===va||"stroke"===va?" color":""));return 2>R.length?R[0]:R.slice(0,-1).join(", ")+" and "+g.peek(R)}function Bd(){let R="",va="",Qa="";const q=[],Q=(wa,t)=>{null!=t&&(va+=` ${wa}="${uh(t).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return ha},ha={open(wa,...t){va&&(R+=`${va}>${Qa}`,va=Qa="");q.push(wa);
va="\x3c"+wa;for(const E of t)for(const fa in E)Q(fa,E[fa]);return ha},close(){const wa=q.pop();R=va?R+(va+(Qa?`>${Qa}</${wa}>`:"/\x3e")):R+`</${wa}>`;va=Qa="";return ha},attr:Q,text:wa=>(Qa+=uh(wa),ha),toString:()=>R};return ha}function be(R,va){R.open(va.tagName);if(va.hasAttributes()){const Qa=va.attributes,q=Qa.length;for(let Q=0;Q<q;++Q)R.attr(Qa[Q].name,Qa[Q].value)}if(va.hasChildNodes()){va=va.childNodes;for(const Qa of va)3===Qa.nodeType?R.text(Qa.nodeValue):be(R,Qa)}return R.close()}function we(R){Cc.call(this,
R);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Ke(R,va){for(;R&&R.dirty!==va;R=R.mark.group)if(R.dirty=va,R.mark&&R.mark.dirty!==va)R.mark.dirty=va;else break}function Xe(R,va,Qa){va=va.lastChild.previousSibling;let q,Q=0;Fb(Qa,ha=>{q=R.mark(va,ha,q);++Q});I(va,1+Q)}function bf(R,va,Qa,q,Q){let ha=R._svg;if(!ha){var wa=va.ownerDocument;ha=ec(wa,q,Vf);R._svg=ha;R.mark&&(ha.__data__=R,ha.__values__={fill:"default"},"g"===q&&(q=ec(wa,"path",Vf),ha.appendChild(q),q.__data__=
R,q=ec(wa,"g",Vf),ha.appendChild(q),q.__data__=R,wa=ec(wa,"path",Vf),ha.appendChild(wa),wa.__data__=R,wa.__values__={fill:"default"}))}(ha.ownerSVGElement!==Q||ha.parentNode&&1<ha.parentNode.childNodes.length&&ha.previousSibling!=Qa)&&va.insertBefore(ha,Qa?Qa.nextSibling:va.firstChild);return ha}function md(R,va,Qa){if(va!==Df[R]){if(Qa){var q=Wf;null!=va?q.setAttributeNS(Qa,R,va):q.removeAttributeNS(Qa,R)}else Ec(Wf,R,va);Df[R]=va}}function Dc(R,va,Qa){Qa!==Df[va]&&(null==Qa?R.style.removeProperty(va):
R.style.setProperty(va,Qa+""),Df[va]=Qa)}function jd(R,va){for(const Qa in va)Ec(R,Qa,va[Qa])}function Ec(R,va,Qa){null!=Qa?R.setAttribute(va,Qa):R.removeAttribute(va)}function Id(){let R;return"undefined"===typeof window?"":(R=window.location).hash?R.href.slice(0,-R.hash.length):R.href}function Vd(R){Cc.call(this,R);this._text=null;this._defs={gradient:{},clipping:{}}}function ce(R,va,Qa,q,Q){let ha;if(null==va)return R;"bgrect"===q&&!1===Qa.interactive&&(R["pointer-events"]="none");if("bgfore"===
q&&(!1===Qa.interactive&&(R["pointer-events"]="none"),R.display="none",null!==va.fill))return R;"image"===q&&!1===va.smooth&&(ha=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===q&&(R["font-family"]=Wd(va),R["font-size"]=Nc(va)+"px",R["font-style"]=va.fontStyle,R["font-variant"]=va.fontVariant,R["font-weight"]=va.fontWeight);for(const wa in Uh)Qa=va[wa],q=Uh[wa],("transparent"!==Qa||"fill"!==q&&"stroke"!==q)&&null!=Qa&&(Qa&&Qa.gradient&&(Qa=$b(Qa,Q.gradient,"")),R[q]=Qa);
for(const wa in mh)Q=va[wa],null!=Q&&(ha=ha||[],ha.push(`${mh[wa]}: ${Q};`));ha&&(R.style=ha.join(" "));return R}function le(R,va,Qa,q){if(R.bounds&&va.intersects(R.bounds)&&("group"===R.marktype||!1!==R.interactive&&(!Qa||Qa(R)))){const ha=R.items;var Q=R.marktype;R=ha.length;let wa=0;if("group"===Q)for(;wa<R;++wa)N(ha[wa],va,Qa,q);else for(Qa=Cg[Q].isect;wa<R;++wa)Q=ha[wa],ca(Q,va,Qa)&&q.push(Q)}return q}function N(R,va,Qa,q){Qa&&Qa(R.mark)&&ca(R,va,Cg.group.isect)&&q.push(R);const Q=R.items,ha=
Q&&Q.length;if(ha){const wa=R.x||0;R=R.y||0;va.translate(-wa,-R);for(let t=0;t<ha;++t)le(Q[t],va,Qa,q);va.translate(wa,R)}return q}function ca(R,va,Qa){const q=R.bounds;return va.encloses(q)||va.intersects(q)&&Qa(R,va)}function H(R,va,Qa){return R===va?!0:"path"===Qa?ja(R,va):R instanceof Date&&va instanceof Date?+R===+va:g.isNumber(R)&&g.isNumber(va)?1E-9>=Math.abs(R-va):R&&va&&(g.isObject(R)||g.isObject(va))?sa(R,va):R==va}function ja(R,va){return H(U(R),U(va))}function sa(R,va){var Qa=Object.keys(R),
q=Object.keys(va),Q;if(Qa.length!==q.length)return!1;Qa.sort();q.sort();for(Q=Qa.length-1;0<=Q;Q--)if(Qa[Q]!=q[Q])return!1;for(Q=Qa.length-1;0<=Q;Q--)if(q=Qa[Q],!H(R[q],va[q],q))return!1;return typeof R===typeof va}let Ia=0;const ib=Math.PI,ub=2*ib,qc=ub-1E-6;kc.prototype=yc.prototype={constructor:kc,moveTo:function(R,va){this._+="M"+(this._x0=this._x1=+R)+","+(this._y0=this._y1=+va)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(R,va){this._+=
"L"+(this._x1=+R)+","+(this._y1=+va)},quadraticCurveTo:function(R,va,Qa,q){this._+="Q"+ +R+","+ +va+","+(this._x1=+Qa)+","+(this._y1=+q)},bezierCurveTo:function(R,va,Qa,q,Q,ha){this._+="C"+ +R+","+ +va+","+ +Qa+","+ +q+","+(this._x1=+Q)+","+(this._y1=+ha)},arcTo:function(R,va,Qa,q,Q){R=+R;va=+va;Qa=+Qa;q=+q;Q=+Q;var ha=this._x1,wa=this._y1,t=Qa-R,E=q-va,fa=ha-R,k=wa-va,y=fa*fa+k*k;if(0>Q)throw Error("negative radius: "+Q);if(null===this._x1)this._+="M"+(this._x1=R)+","+(this._y1=va);else if(1E-6<
y)if(1E-6<Math.abs(k*t-E*fa)&&Q){Qa-=ha;q-=wa;var ba=t*t+E*E;wa=Math.sqrt(ba);ha=Math.sqrt(y);y=Q*Math.tan((ib-Math.acos((ba+y-(Qa*Qa+q*q))/(2*wa*ha)))/2);ha=y/ha;y/=wa;1E-6<Math.abs(ha-1)&&(this._+="L"+(R+ha*fa)+","+(va+ha*k));this._+="A"+Q+","+Q+",0,0,"+ +(k*Qa>fa*q)+","+(this._x1=R+y*t)+","+(this._y1=va+y*E)}else this._+="L"+(this._x1=R)+","+(this._y1=va)},arc:function(R,va,Qa,q,Q,ha){R=+R;va=+va;Qa=+Qa;ha=!!ha;var wa=Qa*Math.cos(q),t=Qa*Math.sin(q),E=R+wa,fa=va+t,k=1^ha;q=ha?q-Q:Q-q;if(0>Qa)throw Error("negative radius: "+
Qa);if(null===this._x1)this._+="M"+E+","+fa;else if(1E-6<Math.abs(this._x1-E)||1E-6<Math.abs(this._y1-fa))this._+="L"+E+","+fa;Qa&&(0>q&&(q=q%ub+ub),q>qc?this._+="A"+Qa+","+Qa+",0,1,"+k+","+(R-wa)+","+(va-t)+"A"+Qa+","+Qa+",0,1,"+k+","+(this._x1=E)+","+(this._y1=fa):1E-6<q&&(this._+="A"+Qa+","+Qa+",0,"+ +(q>=ib)+","+k+","+(this._x1=R+Qa*Math.cos(Q))+","+(this._y1=va+Qa*Math.sin(Q))))},rect:function(R,va,Qa,q){this._+="M"+(this._x0=this._x1=+R)+","+(this._y0=this._y1=+va)+"h"+ +Qa+"v"+ +q+"h"+-Qa+
"Z"},toString:function(){return this._}};const sc=Math.abs,tc=Math.atan2,Ic=Math.cos,Ad=Math.max,Gc=Math.min,$c=Math.sin,yd=Math.sqrt,Cd=Math.PI,Kd=Cd/2,Fe=2*Cd;Ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(R,va){R=+R;va=+va;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(R,
va):this._context.moveTo(R,va);break;case 1:this._point=2;default:this._context.lineTo(R,va)}}};var Ce={draw(R,va){va=yd(va/Cd);R.moveTo(va,0);R.arc(0,0,va,0,Fe)}};xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:Na(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();
this._line=1-this._line},point:function(R,va){R=+R;va=+va;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(R,va):this._context.moveTo(R,va);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Na(this,R,va)}this._x0=this._x1;this._x1=R;this._y0=this._y1;this._y1=va}};ob.prototype={areaStart:lb,areaEnd:lb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=
this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(R,va){R=+R;va=+va;switch(this._point){case 0:this._point=
1;this._x2=R;this._y2=va;break;case 1:this._point=2;this._x3=R;this._y3=va;break;case 2:this._point=3;this._x4=R;this._y4=va;this._context.moveTo((this._x0+4*this._x1+R)/6,(this._y0+4*this._y1+va)/6);break;default:Na(this,R,va)}this._x0=this._x1;this._x1=R;this._y0=this._y1;this._y1=va}};Nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===
this._point)&&this._context.closePath();this._line=1-this._line},point:function(R,va){R=+R;va=+va;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Qa=(this._x0+4*this._x1+R)/6,q=(this._y0+4*this._y1+va)/6;this._line?this._context.lineTo(Qa,q):this._context.moveTo(Qa,q);break;case 3:this._point=4;default:Na(this,R,va)}this._x0=this._x1;this._x1=R;this._y0=this._y1;this._y1=va}};Zb.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},
lineEnd:function(){var R=this._x,va=this._y,Qa=R.length-1;if(0<Qa)for(var q=R[0],Q=va[0],ha=R[Qa]-q,wa=va[Qa]-Q,t=-1,E;++t<=Qa;)E=t/Qa,this._basis.point(this._beta*R[t]+(1-this._beta)*(q+E*ha),this._beta*va[t]+(1-this._beta)*(Q+E*wa));this._x=this._y=null;this._basis.lineEnd()},point:function(R,va){this._x.push(+R);this._y.push(+va)}};var wd=function Qa(va){function q(Q){return 1===va?new xb(Q):new Zb(Q,va)}q.beta=function(Q){return Qa(+Q)};return q}(.85);la.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:nb(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(va,Qa){va=+va;Qa=+Qa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(va,Qa):this._context.moveTo(va,Qa);break;
case 1:this._point=2;this._x1=va;this._y1=Qa;break;case 2:this._point=3;default:nb(this,va,Qa)}this._x0=this._x1;this._x1=this._x2;this._x2=va;this._y0=this._y1;this._y1=this._y2;this._y2=Qa}};var ye=function q(Qa){function Q(ha){return new la(ha,Qa)}Q.tension=function(ha){return q(+ha)};return Q}(0);Y.prototype={areaStart:lb,areaEnd:lb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Qa,q){Qa=+Qa;q=+q;switch(this._point){case 0:this._point=1;this._x3=Qa;this._y3=q;break;case 1:this._point=2;this._context.moveTo(this._x4=Qa,this._y4=q);break;case 2:this._point=3;this._x5=Qa;this._y5=q;break;default:nb(this,Qa,q)}this._x0=this._x1;this._x1=this._x2;
this._x2=Qa;this._y0=this._y1;this._y1=this._y2;this._y2=q}};var Ld=function Q(q){function ha(wa){return new Y(wa,q)}ha.tension=function(wa){return Q(+wa)};return ha}(0);Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(q,Q){q=+q;Q=+Q;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nb(this,q,Q)}this._x0=this._x1;this._x1=this._x2;this._x2=q;this._y0=this._y1;this._y1=this._y2;this._y2=Q}};var ge=function ha(Q){function wa(t){return new Ha(t,Q)}wa.tension=function(t){return ha(+t)};return wa}(0);cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Q,ha){Q=+Q;ha=+ha;if(this._point){var wa=this._x2-Q,t=this._y2-ha;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(wa*wa+t*t,
this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Q,ha):this._context.moveTo(Q,ha);break;case 1:this._point=2;break;case 2:this._point=3;default:Fa(this,Q,ha)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Q;this._y0=this._y1;this._y1=this._y2;this._y2=ha}};var Ge=function wa(ha){function t(E){return ha?new cb(E,ha):new la(E,0)}t.alpha=function(E){return wa(+E)};return t}(.5);
aa.prototype={areaStart:lb,areaEnd:lb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,
this._y4),this.point(this._x5,this._y5)}},point:function(ha,wa){ha=+ha;wa=+wa;if(this._point){var t=this._x2-ha,E=this._y2-wa;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+E*E,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=ha;this._y3=wa;break;case 1:this._point=2;this._context.moveTo(this._x4=ha,this._y4=wa);break;case 2:this._point=3;this._x5=ha;this._y5=wa;break;default:Fa(this,ha,wa)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;
this._x0=this._x1;this._x1=this._x2;this._x2=ha;this._y0=this._y1;this._y1=this._y2;this._y2=wa}};var hf=function t(wa){function E(fa){return wa?new aa(fa,wa):new Y(fa,0)}E.alpha=function(fa){return t(+fa)};return E}(.5);ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||
0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(wa,t){wa=+wa;t=+t;if(this._point){var E=this._x2-wa,fa=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(E*E+fa*fa,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fa(this,wa,t)}this._l01_a=this._l12_a;this._l12_a=
this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=wa;this._y0=this._y1;this._y1=this._y2;this._y2=t}};var rf=function E(t){function fa(k){return t?new ma(k,t):new Ha(k,0)}fa.alpha=function(k){return E(+k)};return fa}(.5);p.prototype={areaStart:lb,areaEnd:lb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,E){t=+t;E=+E;this._point?this._context.lineTo(t,E):(this._point=1,this._context.moveTo(t,
E))}};v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:f(this,this._t0,P(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(t,E){var fa=NaN;t=+t;E=+E;if(t!==this._x1||E!==this._y1){switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(t,E):this._context.moveTo(t,E);break;case 1:this._point=2;break;case 2:this._point=3;f(this,P(this,fa=L(this,t,E)),fa);break;default:f(this,this._t0,fa=L(this,t,E))}this._x0=this._x1;this._x1=t;this._y0=this._y1;this._y1=E;this._t0=fa}}};(l.prototype=Object.create(v.prototype)).point=function(t,E){v.prototype.point.call(this,E,t)};C.prototype={moveTo:function(t,E){this._context.moveTo(E,t)},closePath:function(){this._context.closePath()},lineTo:function(t,E){this._context.lineTo(E,
t)},bezierCurveTo:function(t,E,fa,k,y,ba){this._context.bezierCurveTo(E,t,k,fa,ba,y)}};B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var t=this._x,E=this._y,fa=t.length;if(fa)if(this._line?this._context.lineTo(t[0],E[0]):this._context.moveTo(t[0],E[0]),2===fa)this._context.lineTo(t[1],E[1]);else for(var k=z(t),y=z(E),ba=0,oa=1;oa<fa;++ba,++oa)this._context.bezierCurveTo(k[0][ba],y[0][ba],k[1][ba],y[1][ba],
t[oa],E[oa]);(this._line||0!==this._line&&1===fa)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(t,E){this._x.push(+t);this._y.push(+E)}};D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&
(this._t=1-this._t,this._line=1-this._line)},point:function(t,E){t=+t;E=+E;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,E):this._context.moveTo(t,E);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,E),this._context.lineTo(t,E);else{var fa=this._x*(1-this._t)+t*this._t;this._context.lineTo(fa,this._y);this._context.lineTo(fa,E)}}this._x=t;this._y=E}};const Je={basis:{curve:function(t){return new xb(t)}},"basis-closed":{curve:function(t){return new ob(t)}},
"basis-open":{curve:function(t){return new Nb(t)}},bundle:{curve:wd,tension:"beta",value:.85},cardinal:{curve:ye,tension:"tension",value:0},"cardinal-open":{curve:ge,tension:"tension",value:0},"cardinal-closed":{curve:Ld,tension:"tension",value:0},"catmull-rom":{curve:Ge,tension:"alpha",value:.5},"catmull-rom-closed":{curve:hf,tension:"alpha",value:.5},"catmull-rom-open":{curve:rf,tension:"alpha",value:.5},linear:{curve:pb},"linear-closed":{curve:function(t){return new p(t)}},monotone:{horizontal:function(t){return new l(t)},
vertical:function(t){return new v(t)}},natural:{curve:function(t){return new B(t)}},step:{curve:function(t){return new D(t,.5)}},"step-after":{curve:function(t){return new D(t,1)}},"step-before":{curve:function(t){return new D(t,0)}}},ne={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Bf=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Hf=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,ef=/^((\s+,?\s*)|(,\s*))/,Zf=/^[01]/,Yd=Math.PI/180,cf=Math.PI/2,jf=2*Math.PI,Ze=Math.sqrt(3)/2;var Gf={},If={},xf=
[].join;const yf=["l",0,0,0,0,0,0,0],Bg={circle:{draw:function(t,E){E=Math.sqrt(E)/2;t.moveTo(E,0);t.arc(0,0,E,0,jf)}},cross:{draw:function(t,E){E=Math.sqrt(E)/2;var fa=E/2.5;t.moveTo(-E,-fa);t.lineTo(-E,fa);t.lineTo(-fa,fa);t.lineTo(-fa,E);t.lineTo(fa,E);t.lineTo(fa,fa);t.lineTo(E,fa);t.lineTo(E,-fa);t.lineTo(fa,-fa);t.lineTo(fa,-E);t.lineTo(-fa,-E);t.lineTo(-fa,-fa);t.closePath()}},diamond:{draw:function(t,E){E=Math.sqrt(E)/2;t.moveTo(-E,0);t.lineTo(0,-E);t.lineTo(E,0);t.lineTo(0,E);t.closePath()}},
square:{draw:function(t,E){E=Math.sqrt(E);var fa=-E/2;t.rect(fa,fa,E,E)}},arrow:{draw:function(t,E){E=Math.sqrt(E)/2;var fa=E/7,k=E/2.5,y=E/8;t.moveTo(-fa,E);t.lineTo(fa,E);t.lineTo(fa,-y);t.lineTo(k,-y);t.lineTo(0,-E);t.lineTo(-k,-y);t.lineTo(-fa,-y);t.closePath()}},wedge:{draw:function(t,E){var fa=Math.sqrt(E)/2;E=Ze*fa;var k=E-.5773502691896257*fa;fa/=4;t.moveTo(0,-E-k);t.lineTo(-fa,E-k);t.lineTo(fa,E-k);t.closePath()}},triangle:{draw:function(t,E){E=Math.sqrt(E)/2;var fa=Ze*E,k=fa-.5773502691896257*
E;t.moveTo(0,-fa-k);t.lineTo(-E,fa-k);t.lineTo(E,fa-k);t.closePath()}},"triangle-up":{draw:function(t,E){E=Math.sqrt(E)/2;var fa=Ze*E;t.moveTo(0,-fa);t.lineTo(-E,fa);t.lineTo(E,fa);t.closePath()}},"triangle-down":{draw:function(t,E){E=Math.sqrt(E)/2;var fa=Ze*E;t.moveTo(0,fa);t.lineTo(-E,-fa);t.lineTo(E,-fa);t.closePath()}},"triangle-right":{draw:function(t,E){E=Math.sqrt(E)/2;var fa=Ze*E;t.moveTo(fa,0);t.lineTo(-fa,-E);t.lineTo(-fa,E);t.closePath()}},"triangle-left":{draw:function(t,E){E=Math.sqrt(E)/
2;var fa=Ze*E;t.moveTo(-fa,0);t.lineTo(fa,-E);t.lineTo(fa,E);t.closePath()}},stroke:{draw:function(t,E){E=Math.sqrt(E)/2;t.moveTo(-E,0);t.lineTo(E,0)}}};var hg={};const vf=t=>t.x||0,Jf=t=>t.y||0,dg=t=>!1!==t.defined,Xg=function(){function t(){var Jb,hc=+E.apply(this,arguments),Tb=+fa.apply(this,arguments),pd=ba.apply(this,arguments)-Kd,Zc=oa.apply(this,arguments)-Kd,Rd=sc(Zc-pd),te=Zc>pd;Ya||(Ya=Jb=yc());if(Tb<hc){var ve=Tb;Tb=hc;hc=ve}if(1E-12<Tb)if(Rd>Fe-1E-12)Ya.moveTo(Tb*Ic(pd),Tb*$c(pd)),Ya.arc(0,
0,Tb,pd,Zc,!te),1E-12<hc&&(Ya.moveTo(hc*Ic(Zc),hc*$c(Zc)),Ya.arc(0,0,hc,Zc,pd,te));else{var ue=pd,Ve=Zc;ve=pd;var sf=Zc,Lg=Rd,$e=Rd,Pe=Ta.apply(this,arguments)/2,bg=1E-12<Pe&&(y?+y.apply(this,arguments):yd(hc*hc+Tb*Tb)),vh=Gc(sc(Tb-hc)/2,+k.apply(this,arguments)),fg=vh,of=vh;if(1E-12<bg){var mf=gc(bg/hc*$c(Pe));Pe=gc(bg/Tb*$c(Pe));1E-12<(Lg-=2*mf)?(mf*=te?1:-1,ve+=mf,sf-=mf):(Lg=0,ve=sf=(pd+Zc)/2);1E-12<($e-=2*Pe)?(Pe*=te?1:-1,ue+=Pe,Ve-=Pe):($e=0,ue=Ve=(pd+Zc)/2)}pd=Tb*Ic(ue);Zc=Tb*$c(ue);mf=hc*
Ic(sf);Pe=hc*$c(sf);if(1E-12<vh){var Nf=Tb*Ic(Ve),Pf=Tb*$c(Ve),Lf=hc*Ic(ve),Wg=hc*$c(ve);if(Rd=Rd<Cd){var jg=Lf-pd;Rd=Wg-Zc;bg=mf-Nf;var wh=Pe-Pf,lg=wh*jg-bg*Rd;1E-12>lg*lg?jg=void 0:(lg=(bg*(Zc-Pf)-wh*(pd-Nf))/lg,jg=[pd+lg*jg,Zc+lg*Rd]);Rd=jg}Rd&&(fg=pd-jg[0],of=Zc-jg[1],Rd=Nf-jg[0],bg=Pf-jg[1],fg=(fg*Rd+of*bg)/(yd(fg*fg+of*of)*yd(Rd*Rd+bg*bg)),of=1/$c((1<fg?0:-1>fg?Cd:Math.acos(fg))/2),jg=yd(jg[0]*jg[0]+jg[1]*jg[1]),fg=Gc(vh,(hc-jg)/(of-1)),of=Gc(vh,(Tb-jg)/(of+1)))}1E-12<$e?1E-12<of?(ue=Bb(Lf,
Wg,pd,Zc,Tb,of,te),Ve=Bb(Nf,Pf,mf,Pe,Tb,of,te),Ya.moveTo(ue.cx+ue.x01,ue.cy+ue.y01),of<vh?Ya.arc(ue.cx,ue.cy,of,tc(ue.y01,ue.x01),tc(Ve.y01,Ve.x01),!te):(Ya.arc(ue.cx,ue.cy,of,tc(ue.y01,ue.x01),tc(ue.y11,ue.x11),!te),Ya.arc(0,0,Tb,tc(ue.cy+ue.y11,ue.cx+ue.x11),tc(Ve.cy+Ve.y11,Ve.cx+Ve.x11),!te),Ya.arc(Ve.cx,Ve.cy,of,tc(Ve.y11,Ve.x11),tc(Ve.y01,Ve.x01),!te))):(Ya.moveTo(pd,Zc),Ya.arc(0,0,Tb,ue,Ve,!te)):Ya.moveTo(pd,Zc);1E-12<hc&&1E-12<Lg?1E-12<fg?(ue=Bb(mf,Pe,Nf,Pf,hc,-fg,te),Ve=Bb(pd,Zc,Lf,Wg,hc,
-fg,te),Ya.lineTo(ue.cx+ue.x01,ue.cy+ue.y01),fg<vh?Ya.arc(ue.cx,ue.cy,fg,tc(ue.y01,ue.x01),tc(Ve.y01,Ve.x01),!te):(Ya.arc(ue.cx,ue.cy,fg,tc(ue.y01,ue.x01),tc(ue.y11,ue.x11),!te),Ya.arc(0,0,hc,tc(ue.cy+ue.y11,ue.cx+ue.x11),tc(Ve.cy+Ve.y11,Ve.cx+Ve.x11),te),Ya.arc(Ve.cx,Ve.cy,fg,tc(Ve.y11,Ve.x11),tc(Ve.y01,Ve.x01),!te))):Ya.arc(0,0,hc,sf,ve,te):Ya.lineTo(mf,Pe)}else Ya.moveTo(0,0);Ya.closePath();if(Jb)return Ya=null,Jb+""||null}var E=rc,fa=Va,k=Ab(0),y=null,ba=qb,oa=Kb,Ta=Ob,Ya=null;t.centroid=function(){var Jb=
(+E.apply(this,arguments)+ +fa.apply(this,arguments))/2,hc=(+ba.apply(this,arguments)+ +oa.apply(this,arguments))/2-Cd/2;return[Ic(hc)*Jb,$c(hc)*Jb]};t.innerRadius=function(Jb){return arguments.length?(E="function"===typeof Jb?Jb:Ab(+Jb),t):E};t.outerRadius=function(Jb){return arguments.length?(fa="function"===typeof Jb?Jb:Ab(+Jb),t):fa};t.cornerRadius=function(Jb){return arguments.length?(k="function"===typeof Jb?Jb:Ab(+Jb),t):k};t.padRadius=function(Jb){return arguments.length?(y=null==Jb?null:
"function"===typeof Jb?Jb:Ab(+Jb),t):y};t.startAngle=function(Jb){return arguments.length?(ba="function"===typeof Jb?Jb:Ab(+Jb),t):ba};t.endAngle=function(Jb){return arguments.length?(oa="function"===typeof Jb?Jb:Ab(+Jb),t):oa};t.padAngle=function(Jb){return arguments.length?(Ta="function"===typeof Jb?Jb:Ab(+Jb),t):Ta};t.context=function(Jb){return arguments.length?(Ya=null==Jb?null:Jb,t):Ya};return t}().startAngle(t=>t.startAngle||0).endAngle(t=>t.endAngle||0).padAngle(t=>t.padAngle||0).innerRadius(t=>
t.innerRadius||0).outerRadius(t=>t.outerRadius||0).cornerRadius(t=>t.cornerRadius||0),Fg=kb().x(vf).y1(Jf).y0(t=>(t.y||0)+(t.height||0)).defined(dg),Jg=kb().y(Jf).x1(vf).x0(t=>(t.x||0)+(t.width||0)).defined(dg),Sg=Pa().x(vf).y(Jf).defined(dg),pa=Ib().x(vf).y(Jf).width(t=>t.width||0).height(t=>t.height||0).cornerRadius(t=>uc(t.cornerRadiusTopLeft,t.cornerRadius)||0,t=>uc(t.cornerRadiusTopRight,t.cornerRadius)||0,t=>uc(t.cornerRadiusBottomRight,t.cornerRadius)||0,t=>uc(t.cornerRadiusBottomLeft,t.cornerRadius)||
0),bb=function(t,E){function fa(){let y;k||(k=y=yc());t.apply(this,arguments).draw(k,+E.apply(this,arguments));if(y)return k=null,y+""||null}let k=null;t="function"===typeof t?t:Ab(t||Ce);E="function"===typeof E?E:Ab(void 0===E?64:+E);fa.type=function(y){return arguments.length?(t="function"===typeof y?y:Ab(y),fa):t};fa.size=function(y){return arguments.length?(E="function"===typeof y?y:Ab(+y),fa):E};fa.context=function(y){return arguments.length?(k=null==y?null:y,fa):k};return fa}().type(t=>K(t.shape||
"circle")).size(t=>uc(t.size,64)),Qb=xc().x(vf).y(Jf).defined(dg).size(t=>t.size||1);var gd=1;Rc.prototype={clone(){return new Rc(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set(t,E,fa,k){fa<t?(this.x2=
t,this.x1=fa):(this.x1=t,this.x2=fa);k<E?(this.y2=E,this.y1=k):(this.y1=E,this.y2=k);return this},add(t,E){t<this.x1&&(this.x1=t);E<this.y1&&(this.y1=E);t>this.x2&&(this.x2=t);E>this.y2&&(this.y2=E);return this},expand(t){this.x1-=t;this.y1-=t;this.x2+=t;this.y2+=t;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(t){this.x1*=t;this.y1*=t;this.x2*=t;this.y2*=t;return this},translate(t,E){this.x1+=t;
this.x2+=t;this.y1+=E;this.y2+=E;return this},rotate(t,E,fa){t=this.rotatedPoints(t,E,fa);return this.clear().add(t[0],t[1]).add(t[2],t[3]).add(t[4],t[5]).add(t[6],t[7])},rotatedPoints(t,E,fa){var {x1:k,y1:y,x2:ba,y2:oa}=this,Ta=Math.cos(t);t=Math.sin(t);var Ya=E-E*Ta+fa*t;E=fa-E*t-fa*Ta;return[Ta*k-t*y+Ya,t*k+Ta*y+E,Ta*k-t*oa+Ya,t*k+Ta*oa+E,Ta*ba-t*y+Ya,t*ba+Ta*y+E,Ta*ba-t*oa+Ya,t*ba+Ta*oa+E]},union(t){t.x1<this.x1&&(this.x1=t.x1);t.y1<this.y1&&(this.y1=t.y1);t.x2>this.x2&&(this.x2=t.x2);t.y2>this.y2&&
(this.y2=t.y2);return this},intersect(t){t.x1>this.x1&&(this.x1=t.x1);t.y1>this.y1&&(this.y1=t.y1);t.x2<this.x2&&(this.x2=t.x2);t.y2<this.y2&&(this.y2=t.y2);return this},encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},alignsWith(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains(t,E){return!(t<this.x1||t>this.x2||E<this.y1||E>this.y2)},width(){return this.x2-
this.x1},height(){return this.y2-this.y1}};g.inherits(Ka,Pd);Ub.prototype={pending(){return this._pending},sanitizeURL(t){const E=this;E._pending+=1;return E._loader.sanitize(t,{context:"href"}).then(fa=>{--E._pending;return fa}).catch(()=>{--E._pending;return null})},loadImage(t){const E=this,fa=qa.image();E._pending+=1;return E._loader.sanitize(t,{context:"image"}).then(k=>{const y=k.href;if(!y||!fa)throw{url:y};const ba=new fa;k=g.hasOwnProperty(k,"crossOrigin")?k.crossOrigin:"anonymous";null!=
k&&(ba.crossOrigin=k);ba.onload=()=>{--E._pending};ba.onerror=()=>{--E._pending};ba.src=y;return ba}).catch(k=>{--E._pending;return{complete:!1,width:0,height:0,src:k&&k.url||""}})},ready(){const t=this;return new Promise(E=>{function fa(k){t.pending()?setTimeout(()=>{fa(!0)},10):E(k)}fa(!1)})}};const ld=jf-1E-8;let pe,Oe,nf,Ef,Me,$f,Mf,Tf;const pg=(t,E)=>{t=Oe=t;E=nf=E;return pe.add(t,E)},qg=t=>pe.add(t,pe.y1),Og=t=>pe.add(pe.x1,t),Yg=(t,E)=>pe.add(Me*t+Mf*E,$f*t+Tf*E),gh=(t,E)=>pg(Me*t+Mf*E,$f*
t+Tf*E),De={beginPath(){},closePath(){},moveTo:gh,lineTo:gh,rect(t,E,fa,k){Ef?(Yg(t+fa,E),Yg(t+fa,E+k),Yg(t,E+k),gh(t,E)):(pe.add(t+fa,E+k),pg(t,E))},quadraticCurveTo(t,E,fa,k){const y=$f*t+Tf*E,ba=Me*fa+Mf*k;fa=$f*fa+Tf*k;fc(Oe,Me*t+Mf*E,ba,qg);fc(nf,y,fa,Og);pg(ba,fa)},bezierCurveTo(t,E,fa,k,y,ba){const oa=$f*t+Tf*E,Ta=$f*fa+Tf*k,Ya=Me*y+Mf*ba;y=$f*y+Tf*ba;bc(Oe,Me*t+Mf*E,Me*fa+Mf*k,Ya,qg);bc(nf,oa,Ta,y,Og);pg(Ya,y)},arc(t,E,fa,k,y,ba){k+=Ef;y+=Ef;Oe=fa*Math.cos(y)+t;nf=fa*Math.sin(y)+E;if(Math.abs(y-
k)>ld)pe.add(t-fa,E-fa),pe.add(t+fa,E+fa);else{const oa=Ya=>pe.add(fa*Math.cos(Ya)+t,fa*Math.sin(Ya)+E);let Ta;oa(k);oa(y);if(y!==k)if(k%=jf,0>k&&(k+=jf),y%=jf,0>y&&(y+=jf),y<k&&(ba=!ba,Ta=k,k=y,y=Ta),ba)for(y-=jf,Ta=k-k%cf,k=0;4>k&&Ta>y;++k,Ta-=cf)oa(Ta);else for(Ta=k-k%cf+cf,k=0;4>k&&Ta<y;++k,Ta+=cf)oa(Ta)}}};var Ie=(Ie=qa.canvas(1,1))?Ie.getContext("2d"):null;const Kf=new Rc;var wf=[],lf=Td("arc",function(t,E){return Xg.context(t)(E)}),zf=Ed("area",function(t,E){const fa=E[0];return("horizontal"===
fa.orient?Jg:Fg).curve(G(fa.interpolate||"linear",fa.orient,fa.tension)).context(t)(E)},function(t,E){E="horizontal"===t[0].orient?E[1]:E[0];for(var fa="horizontal"===t[0].orient?"y":"x",k=t.length,y=Infinity,ba,oa;0<=--k;)!1!==t[k].defined&&(oa=Math.abs(t[k][fa]-E),oa<y&&(y=oa,ba=t[k]));return ba});const rg=dd(Ud),vg=dd(Ud,!1),ig=dd(Ud,!0);var Af={type:"group",tag:"g",nested:!1,attr:function(t,E){t("transform",Qd(E.x||0,E.y||0))},bound:function(t,E){if(!E.clip&&E.items){const fa=E.items,k=fa.length;
for(let y=0;y<k;++y)t.union(fa[y].bounds)}(E.clip||E.width||E.height)&&!E.noBound&&t.add(0,0).add(E.width||0,E.height||0);rb(t,E);return t.translate(E.x||0,E.y||0)},draw:function(t,E,fa){Fb(E,k=>{const y=k.x||0,ba=k.y||0,oa=k.strokeForeground,Ta=null==k.opacity?1:k.opacity;(k.stroke||k.fill)&&Ta&&(Ud(t,k,y,ba),gb(t,k),k.fill&&ya(t,k,Ta)&&t.fill(),k.stroke&&!oa&&La(t,k,Ta)&&t.stroke());t.save();t.translate(y,ba);k.clip&&Zd(t,k);fa&&fa.translate(-y,-ba);Fb(k,Ya=>{this.draw(t,Ya,fa)});fa&&fa.translate(y,
ba);t.restore();oa&&k.stroke&&Ta&&(Ud(t,k,y,ba),gb(t,k),La(t,k,Ta)&&t.stroke())})},pick:function(t,E,fa,k,y,ba){if(E.bounds&&!E.bounds.contains(y,ba)||!E.items)return null;const oa=fa*t.pixelRatio,Ta=k*t.pixelRatio;return nc(E,Ya=>{let Jb,hc;var Tb=Ya.bounds;if(!Tb||Tb.contains(y,ba)){Jb=Ya.x||0;hc=Ya.y||0;Tb=Jb+(Ya.width||0);var pd=hc+(Ya.height||0),Zc=Ya.clip;if(!Zc||!(y<Jb||y>Tb||ba<hc||ba>pd)){t.save();t.translate(Jb,hc);Jb=y-Jb;hc=ba-hc;if(Zc&&wc(Ya)&&!ig(t,Ya,oa,Ta))return t.restore(),null;
pd=Ya.strokeForeground;if((Zc=!1!==E.interactive)&&pd&&Ya.stroke&&vg(t,Ya,oa,Ta))return t.restore(),Ya;Tb=nc(Ya,Rd=>(!1!==Rd.interactive||"group"===Rd.marktype)&&Rd.bounds&&Rd.bounds.contains(Jb,hc)?this.pick(Rd,fa,k,Jb,hc):null);!Tb&&Zc&&(Ya.fill||!pd&&Ya.stroke)&&rg(t,Ya,oa,Ta)&&(Tb=Ya);t.restore();return Tb||null}}})},isect:Md,content:function(t,E,fa){E=E.clip?Wb(fa,E,E):null;t("clip-path",E)},background:function(t,E){t("class","background");t("aria-hidden",!0);const fa=de(E);t("d",bd(null,E,fa,
fa))},foreground:function(t,E){t("class","foreground");t("aria-hidden",!0);if(E.strokeForeground){const fa=de(E);t("d",bd(null,E,fa,fa))}else t("d","")}},Pg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},$g={type:"image",tag:"image",nested:!1,attr:function(t,E,fa){var k=Te(E,fa);fa=Xd(E,k);const y=M(E,k),ba=(E.x||0)-ka(E.align,fa),oa=(E.y||0)-za(E.baseline,y);k=!k.src&&k.toDataURL?k.toDataURL():k.src||"";t("href",k,Pg["xmlns:xlink"],"xlink:href");t("transform",
Qd(ba,oa));t("width",fa);t("height",y);t("preserveAspectRatio",!1===E.aspect?"none":"xMidYMid")},bound:function(t,E){var fa=E.image;const k=Xd(E,fa);fa=M(E,fa);const y=(E.x||0)-ka(E.align,k);E=(E.y||0)-za(E.baseline,fa);return t.set(y,E,y+k,E+fa)},draw:function(t,E,fa){Fb(E,k=>{if(!fa||fa.intersects(k.bounds)){var y=Te(k,this),ba=Xd(k,y),oa=M(k,y);if(0!==ba&&0!==oa){var Ta=(k.x||0)-ka(k.align,ba),Ya=(k.y||0)-za(k.baseline,oa),Jb;if(!1!==k.aspect){var hc=y.width/y.height;var Tb=k.width/k.height;hc===
hc&&Tb===Tb&&hc!==Tb&&(Tb<hc?(hc=ba/hc,Ya+=(oa-hc)/2,oa=hc):(hc*=oa,Ta+=(ba-hc)/2,ba=hc))}if(y.complete||y.toDataURL)gb(t,k),t.globalAlpha=null!=(Jb=k.opacity)?Jb:1,t.imageSmoothingEnabled=!1!==k.smooth,t.drawImage(y,Ta,Ya,ba,oa)}}})},pick:cd(),isect:g.truthy,get:Te,xOffset:ka,yOffset:za},jh=Ed("line",function(t,E){const fa=E[0];return Sg.curve(G(fa.interpolate||"linear",fa.orient,fa.tension)).context(t)(E)},function(t,E){for(var fa=Math.pow(t[0].strokeWidth||1,2),k=t.length,y,ba;0<=--k;)if(!1!==
t[k].defined&&(y=t[k].x-E[0],ba=t[k].y-E[1],y=y*y+ba*ba,y<fa))return t[k];return null}),wg={type:"path",tag:"path",nested:!1,attr:function(t,E){var fa=E.scaleY||1;1===(E.scaleX||1)&&1===fa||t("vector-effect","non-scaling-stroke");fa=Qd(E.x||0,E.y||0)+(E.angle?" rotate("+(E.angle+")"):"")+(E.scaleX||E.scaleY?" scale("+((E.scaleX||1)+","+(E.scaleY||1)+")"):"");t("transform",fa);t("d",E.path)},bound:function(t,E){return fb(Sb(t,E.angle),E)?t.set(0,0,0,0):rb(t,E,!0)},draw:dc(fb),pick:cd(dd(fb)),isect:zc(fb)},
qh={type:"rect",tag:"path",nested:!1,attr:function(t,E){t("d",bd(null,E))},bound:function(t,E){var fa,k;return rb(t.set(fa=E.x||0,k=E.y||0,fa+E.width||0,k+E.height||0),E)},draw:dc(Hb),pick:cd(dd(Hb)),isect:Md},ph={type:"rule",tag:"line",nested:!1,attr:function(t,E){t("transform",Qd(E.x||0,E.y||0));t("x2",null!=E.x2?E.x2-(E.x||0):0);t("y2",null!=E.y2?E.y2-(E.y||0):0)},bound:function(t,E){var fa,k;return rb(t.set(fa=E.x||0,k=E.y||0,null!=E.x2?E.x2:fa,null!=E.y2?E.y2:k),E)},draw:function(t,E,fa){Fb(E,
k=>{if(!fa||fa.intersects(k.bounds)){var y=null==k.opacity?1:k.opacity;y&&Xb(t,k,y)&&(gb(t,k),t.stroke())}})},pick:cd(function(t,E,fa,k){return t.isPointInStroke?Xb(t,E,1)&&t.isPointInStroke(fa,k):!1}),isect:td},Ih=Td("shape",function(t,E){return(E.mark.shape||E.shape).context(t)(E)}),Vg=Td("symbol",function(t,E){return bb.context(t)(E)},Yc);const rh=g.lruCache();var yh={height:Nc,measureWidth:Fc,estimateWidth:lc,width:lc,canvas:Ac};Ac(!0);const qi={left:"start",center:"middle",right:"end"},Tg=new Rc;
var kh={type:"text",tag:"text",nested:!1,attr:function(t,E){var fa=E.dx||0,k=(E.dy||0)+Be(E),y=ff(E),ba=y.x1;y=y.y1;var oa=E.angle||0;t("text-anchor",qi[E.align]||"start");if(oa){if(E=Qd(ba,y)+" rotate("+(oa+")"),fa||k)E+=" "+Qd(fa,k)}else E=Qd(ba+fa,y+k);t("transform",E)},bound:df,draw:function(t,E,fa){Fb(E,k=>{var y=null==k.opacity?1:k.opacity,ba;if(!(fa&&!fa.intersects(k.bounds)||0===y||0>=k.fontSize||null==k.text||0===k.text.length)){t.font=ae(k);t.textAlign=k.align||"left";var oa=ff(k);var Ta=
oa.x1;oa=oa.y1;k.angle&&(t.save(),t.translate(Ta,oa),t.rotate(k.angle*Yd),Ta=oa=0);Ta+=k.dx||0;oa+=(k.dy||0)+Be(k);var Ya=Gd(k);gb(t,k);if(g.isArray(Ya)){var Jb=rd(k);for(ba=0;ba<Ya.length;++ba){var hc=Fd(k,Ya[ba]);k.fill&&ya(t,k,y)&&t.fillText(hc,Ta,oa);k.stroke&&La(t,k,y)&&t.strokeText(hc,Ta,oa);oa+=Jb}}else hc=Fd(k,Ya),k.fill&&ya(t,k,y)&&t.fillText(hc,Ta,oa),k.stroke&&La(t,k,y)&&t.strokeText(hc,Ta,oa);k.angle&&t.restore()}})},pick:cd(function(t,E,fa,k,y,ba){if(0>=E.fontSize)return!1;if(!E.angle)return!0;
fa=ff(E);t=fa.x1;fa=fa.y1;k=df(Tg,E,1);var oa=-E.angle*Yd;E=Math.cos(oa);oa=Math.sin(oa);return k.contains(E*y-oa*ba+(t-E*t+oa*fa),oa*y+E*ba+(fa-oa*t-E*fa))}),isect:function(t,E){t=df(Tg,t,2);return Ga(E,t[0],t[1],t[2],t[3])||Ga(E,t[0],t[1],t[4],t[5])||Ga(E,t[4],t[5],t[6],t[7])||Ga(E,t[2],t[3],t[6],t[7])}},ri=Ed("trail",function(t,E){return Qb.context(t)(E)},function(t,E){for(var fa=t.length,k,y;0<=--fa;)if(!1!==t[fa].defined&&(k=t[fa].x-E[0],y=t[fa].y-E[1],y=k*k+y*y,k=t[fa].size||1,y<k*k))return t[fa];
return null}),Cg={arc:lf,area:zf,group:Af,image:$g,line:jh,path:wg,rect:qh,rule:ph,shape:Ih,symbol:Vg,text:kh,trail:ri},zh={mark:null};const Th="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
db.prototype={toJSON(t){return pf(this.root,t||0)},mark(t,E,fa){E=E||this.root.items[0];t=zb(t,E);E.items[fa]=t;t.zindex&&(t.group.zdirty=!0);return t}};ac.prototype={initialize(t,E,fa){this._el=t;this._obj=fa||null;return this.origin(E)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},scene(t){if(!arguments.length)return this._scene;this._scene=t;return this},on(){},off(){},_handlerIndex(t,
E,fa){for(let k=t?t.length:0;0<=--k;)if(t[k].type===E&&(!fa||t[k].handler===fa))return k;return-1},handlers(t){const E=this._handlers,fa=[];if(t)fa.push(...E[this.eventName(t)]);else for(const k in E)fa.push(...E[k]);return fa},eventName(t){const E=t.indexOf(".");return 0>E?t:t.slice(0,E)},handleHref(t,E,fa){this._loader.sanitize(fa,{context:"href"}).then(k=>{const y=new MouseEvent(t.type,t),ba=ec(null,"a");for(const oa in k)ba.setAttribute(oa,k[oa]);ba.dispatchEvent(y)}).catch(()=>{})},handleTooltip(t,
E,fa){if(E&&null!=E.tooltip){var k=this.canvas(),y=this._origin,ba=E&&E.mark,oa;if(ba&&(oa=Cg[ba.marktype]).tip){k=Sa(t,k);k[0]-=y[0];for(k[1]-=y[1];E=E.mark.group;)k[0]-=E.x||0,k[1]-=E.y||0;E=oa.tip(ba.items,k)}this._tooltip.call(this._obj,this,t,E,fa&&E&&E.tooltip||null)}},getItemBoundingClientRect(t){var E=this.canvas();if(E){var fa=E.getBoundingClientRect(),k=this._origin,y=t.bounds;E=y.width();var ba=y.height(),oa=y.x1+k[0]+fa.left;for(fa=y.y1+k[1]+fa.top;t.mark&&(t=t.mark.group);)oa+=t.x||0,
fa+=t.y||0;return{x:oa,y:fa,width:E,height:ba,left:oa,top:fa,right:oa+E,bottom:fa+ba}}}};Cc.prototype={initialize(t,E,fa,k,y){this._el=t;return this.resize(E,fa,k,y)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(t){if(0===arguments.length)return this._bgcolor;this._bgcolor=t;return this},resize(t,E,fa,k){this._width=t;this._height=E;this._origin=fa||[0,0];this._scale=k||1;return this},dirty(){},render(t){const E=this;E._call=function(){E._render(t)};E._call();
E._call=null;return E},_render(){},renderAsync(t){const E=this.render(t);return this._ready?this._ready.then(()=>E):Promise.resolve(E)},_load(t,E){var fa=this;t=fa._loader[t](E);if(!fa._ready){const k=fa._call;fa._ready=fa._loader.ready().then(y=>{y&&k();fa._ready=null})}return t},sanitizeURL(t){return this._load("sanitizeURL",t)},loadImage(t){return this._load("loadImage",t)}};g.inherits(Sc,ac,{initialize(t,E,fa){this._canvas=t&&Bc(t,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(k=>
fd(this,k));return ac.prototype.initialize.call(this,t,E,fa)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(t){this.fire("mousewheel",t)},mousemove:Ra("mousemove","mouseover","mouseout"),dragover:Ra("dragover","dragenter","dragleave"),mouseout:eb("mouseout"),dragleave:eb("dragleave"),
mousedown(t){this._down=this._active;this.fire("mousedown",t)},click(t){this._down===this._active&&(this.fire("click",t),this._down=null)},touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",t,!0)},touchmove(t){this.fire("touchmove",t,!0)},touchend(t){this.fire("touchend",t,!0);this._touch=null},fire(t,E,fa){fa=fa?this._touch:this._active;const k=this._handlers[t];E.vegaType=t;"click"===t&&fa&&fa.href?this.handleHref(E,
fa,fa.href):("mousemove"===t||"mouseout"===t)&&this.handleTooltip(E,fa,"mouseout"!==t);if(k)for(let y=0,ba=k.length;y<ba;++y)k[y].handler.call(this._obj,E,fa)},on(t,E){const fa=this.eventName(t),k=this._handlers;0>this._handlerIndex(k[fa],t,E)&&(fd(this,t),(k[fa]||(k[fa]=[])).push({type:t,handler:E}));return this},off(t,E){var fa=this.eventName(t);fa=this._handlers[fa];t=this._handlerIndex(fa,t,E);0<=t&&fa.splice(t,1);return this},pickEvent(t){t=Sa(t,this._canvas);const E=this._origin;return this.pick(this._scene,
t[0],t[1],t[0]-E[0],t[1]-E[1])},pick(t,E,fa,k,y){const ba=this.context();return Cg[t.marktype].pick.call(this,ba,t,E,fa,k,y)}});var Qg="undefined"!==typeof window?window.devicePixelRatio||1:1;const Zg=Cc.prototype;g.inherits(pc,Cc,{initialize(t,E,fa,k,y,ba){this._options=ba||{};this._canvas=this._options.externalContext?null:qa.canvas(1,1,this._options.type);t&&this._canvas&&(I(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Zg.initialize.call(this,t,E,fa,k,y)},resize(t,
E,fa,k){Zg.resize.call(this,t,E,fa,k);if(this._canvas){t=this._canvas;E=this._width;fa=this._height;k=this._origin;var y=this._scale,ba=this._options.context;const Ta="undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,Ya=t.getContext("2d");y=Ta?Qg:y;t.width=E*y;t.height=fa*y;for(var oa in ba)Ya[oa]=ba[oa];Ta&&1!==y&&(t.style.width=E+"px",t.style.height=fa+"px");Ya.pixelRatio=y;Ya.setTransform(y,0,0,y,y*k[0],y*k[1])}else(oa=this._options.externalContext)||g.error("CanvasRenderer is missing a valid canvas or context"),
oa.scale(this._scale,this._scale),oa.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(t){const E=this._tempb.clear().union(t.bounds);for(t=t.mark.group;t;)E.translate(t.x||0,t.y||0),t=t.mark.group;this._dirty.union(E)},_render(t){const E=this.context(),fa=this._origin,k=this._width,y=this._height,ba=this._dirty;var oa=(new Rc).set(0,0,k,y).translate(-fa[0],
-fa[1]);E.save();this._redraw||ba.empty()?oa=(this._redraw=!1,oa.expand(1)):(oa=oa.intersect(ba),oa.expand(1).round(),E.pixelRatio%1&&oa.scale(E.pixelRatio).round().scale(1/E.pixelRatio),oa.translate(-(fa[0]%1),-(fa[1]%1)),E.beginPath(),E.rect(oa.x1,oa.y1,oa.width(),oa.height()),E.clip());this.clear(-fa[0],-fa[1],k,y);this.draw(E,t,oa);E.restore();ba.clear();return this},draw(t,E,fa){const k=Cg[E.marktype];if(E.clip){var y=E.clip;t.save();g.isFunction(y)?(t.beginPath(),y(t),t.clip()):Zd(t,E.group)}k.draw.call(this,
t,E,fa);E.clip&&t.restore()},clear(t,E,fa,k){const y=this._options,ba=this.context();"pdf"===y.type||y.externalContext||ba.clearRect(t,E,fa,k);null!=this._bgcolor&&(ba.fillStyle=this._bgcolor,ba.fillRect(t,E,fa,k))}});const lh=(t,E)=>fa=>{let k=fa.target.__data__;k=Array.isArray(k)?k[0]:k;fa.vegaType=fa.type;E.call(t._obj,fa,k)};g.inherits(vd,ac,{initialize(t,E,fa){let k=this._svg;k&&(k.removeEventListener("click",this._hrefHandler),k.removeEventListener("mousemove",this._tooltipHandler),k.removeEventListener("mouseout",
this._tooltipHandler));if(this._svg=k=t&&Bc(t,"svg"))k.addEventListener("click",this._hrefHandler),k.addEventListener("mousemove",this._tooltipHandler),k.addEventListener("mouseout",this._tooltipHandler);return ac.prototype.initialize.call(this,t,E,fa)},canvas(){return this._svg},on(t,E){const fa=this.eventName(t),k=this._handlers;0>this._handlerIndex(k[fa],t,E)&&(t={type:t,handler:E,listener:lh(this,E)},(k[fa]||(k[fa]=[])).push(t),this._svg&&this._svg.addEventListener(fa,t.listener));return this},
off(t,E){const fa=this.eventName(t),k=this._handlers[fa];t=this._handlerIndex(k,t,E);0<=t&&(this._svg&&this._svg.removeEventListener(fa,k[t].listener),k.splice(t,1));return this}});const sh=(t,E,fa)=>({role:t,["aria-roledescription"]:E,["aria-label"]:fa||void 0}),Gg=g.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),Jh={axis:{desc:"axis",caption:function(t){var E=t.datum;const fa=t.orient,
k=E.title?id(t):null;var y=t.context;E=y.scales[E.scale].value;y=y.dataflow.locale();const ba=E.type;return`${"left"===fa||"right"===fa?"Y":"X"}-axis`+(k?` titled '${k}'`:"")+` for a ${Gb.isDiscrete(ba)?"discrete":ba} scale`+` with ${Gb.domainCaption(y,E,t)}`}},legend:{desc:"legend",caption:function(t){var E=t.datum;const fa=E.title?id(t):null,k=`${E.type||""} legend`.trim();var y=E.scales;E=Object.keys(y);var ba=t.context;y=ba.scales[y[E[0]]].value;ba=ba.dataflow.locale();return(k.length?k[0].toUpperCase()+
k.slice(1):k)+(fa?` titled '${fa}'`:"")+` for ${Nd(E)}`+` with ${Gb.domainCaption(ba,y,t)}`}},"title-text":{desc:"title",caption:t=>`Title text '${g.array(t.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:t=>`Subtitle text '${g.array(t.text).join(" ")}'`}},th={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},uh=t=>(t+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Ph=t=>be(Bd(),t)+"",Uh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},mh={blend:"mix-blend-mode"},Ah={fill:"none","stroke-miterlimit":10},Vf=Pg.xmlns,Hg=Cc.prototype;g.inherits(we,Cc,{initialize(t,E,fa,k,y){this._defs={};this._clearDefs();t&&(this._svg=Yb(t,0,"svg",Vf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/",
"xmlns",Vf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Pg["xmlns:xlink"]),this._svg.setAttribute("version",Pg.version),this._svg.setAttribute("class","marks"),I(t,1),this._root=Yb(this._svg,0,"g",Vf),jd(this._root,Ah),I(this._svg,1));this.background(this._bgcolor);return Hg.initialize.call(this,t,E,fa,k,y)},background(t){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t);return Hg.background.apply(this,arguments)},resize(t,E,fa,k){Hg.resize.call(this,
t,E,fa,k);this._svg&&(jd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const t=this._svg,E=this._bgcolor;if(!t)return null;let fa;E&&(t.removeAttribute("style"),fa=Yb(t,0,"rect",Vf),jd(fa,{width:this._width,height:this._height,fill:E}));const k=Ph(t);E&&(t.removeChild(fa),this._svg.style.setProperty("background-color",
E));return k},_render(t){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t),I(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const E=++this._dirtyID;let fa;let k,y,ba,oa;ba=0;for(oa=t.length;ba<
oa;++ba){fa=t[ba];var Ta=fa.mark;Ta.marktype!==k&&(k=Ta.marktype,y=Cg[k]);Ta.zdirty&&Ta.dirty!==E&&(this._dirtyAll=!1,Ke(fa,E),Ta.items.forEach(Ya=>{Ya.dirty=E}));Ta.zdirty||(fa.exit?(y.nested&&Ta.items.length?(Ta=Ta.items[0],Ta._svg&&this._update(y,Ta._svg,Ta)):fa._svg&&(Ta=fa._svg.parentNode)&&Ta.removeChild(fa._svg),fa._svg=null):(fa=y.nested?Ta.items[0]:fa,fa._update!==E&&(fa._svg&&fa._svg.ownerSVGElement?this._update(y,fa._svg,fa):(this._dirtyAll=!1,Ke(fa,E)),fa._update=E)))}return!this._dirtyAll},
mark(t,E,fa){if(!this.isDirty(E))return E._svg;const k=this._svg,y=Cg[E.marktype];var ba=!1===E.interactive?"none":null;const oa="g"===y.tag,Ta=bf(E,t,fa,"g",k);Ta.setAttribute("class",da(E));t=Vc(E);for(const hc in t)Ec(Ta,hc,t[hc]);oa||Ec(Ta,"pointer-events",ba);Ec(Ta,"clip-path",E.clip?Wb(this,E,E.group):null);let Ya=null,Jb=0;ba=hc=>{const Tb=this.isDirty(hc),pd=bf(hc,Ta,Ya,y.tag,k);Tb&&(this._update(y,pd,hc),oa&&Xe(this,pd,hc));Ya=pd;++Jb};y.nested?E.items.length&&ba(E.items[0]):Fb(E,ba);I(Ta,
Jb);return Ta},_update(t,E,fa){Wf=E;Df=E.__values__;Jc(md,fa);t.attr(md,fa,this);const k=Kh[t.type];k&&k.call(this,t,E,fa);Wf&&this.style(Wf,fa)},style(t,E){if(null!=E){for(const fa in Uh){let k="font"===fa?Wd(E):E[fa];if(k===Df[fa])continue;const y=Uh[fa];null==k?t.removeAttribute(y):(k&&k.gradient&&(k=$b(k,this._defs.gradient,Id())),t.setAttribute(y,k+""));Df[fa]=k}for(const fa in mh)Dc(t,mh[fa],E[fa])}},defs(){const t=this._svg,E=this._defs;let fa=E.el;var k=0;for(var y in E.gradient){fa||(E.el=
fa=Yb(t,1,"defs",Vf));var ba=void 0;let Ya,Jb;var oa=fa,Ta=E.gradient[y];"radial"===Ta.gradient?(ba=Yb(oa,k++,"pattern",Vf),jd(ba,{id:"p_"+Ta.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),ba=Yb(ba,0,"rect",Vf),jd(ba,{width:1,height:1,fill:`url(${Id()}#${Ta.id})`}),oa=Yb(oa,k++,"radialGradient",Vf),jd(oa,{id:Ta.id,fx:Ta.x1,fy:Ta.y1,fr:Ta.r1,cx:Ta.x2,cy:Ta.y2,r:Ta.r2})):(oa=Yb(oa,k++,"linearGradient",Vf),jd(oa,{id:Ta.id,x1:Ta.x1,x2:Ta.x2,y1:Ta.y1,y2:Ta.y2}));
Jb=0;for(Ya=Ta.stops.length;Jb<Ya;++Jb)ba=Yb(oa,Jb,"stop",Vf),ba.setAttribute("offset",Ta.stops[Jb].offset),ba.setAttribute("stop-color",Ta.stops[Jb].color);I(oa,Jb)}for(const Ya in E.clipping)fa||(E.el=fa=Yb(t,1,"defs",Vf)),oa=fa,Ta=E.clipping[Ya],y=k,oa=Yb(oa,y,"clipPath",Vf),oa.setAttribute("id",Ta.id),Ta.path?(k=Yb(oa,0,"path",Vf),k.setAttribute("d",Ta.path)):(k=Yb(oa,0,"rect",Vf),jd(k,{x:0,y:0,width:Ta.width,height:Ta.height})),I(oa,1),k=y+1;fa&&(0===k?(t.removeChild(fa),E.el=null):I(fa,k))},
_clearDefs(){const t=this._defs;t.gradient={};t.clipping={}}});let Wf=null,Df=null;const Kh={group(t,E,fa){const k=Wf=E.childNodes[2];Df=k.__values__;t.foreground(md,fa,this);Df=E.__values__;Wf=E.childNodes[1];t.content(md,fa,this);E=Wf=E.childNodes[0];t.background(md,fa,this);t=!1===fa.mark.interactive?"none":null;t!==Df.events&&(Ec(k,"pointer-events",t),Ec(E,"pointer-events",t),Df.events=t);fa.strokeForeground&&fa.stroke?(t=fa.fill,Ec(k,"display",null),this.style(E,fa),Ec(E,"stroke",null),t&&(fa.fill=
null),Df=k.__values__,this.style(k,fa),t&&(fa.fill=t),Wf=null):Ec(k,"display","none")},image(t,E,fa){!1===fa.smooth?(Dc(E,"image-rendering","optimizeSpeed"),Dc(E,"image-rendering","pixelated")):Dc(E,"image-rendering",null)},text(t,E,fa){t=Gd(fa);let k,y,ba;g.isArray(t)?(k=t.map(oa=>Fd(fa,oa)),t=k.join("\n"),t!==Df.text&&(I(E,0),y=E.ownerDocument,ba=rd(fa),k.forEach((oa,Ta)=>{const Ya=ec(y,"tspan",Vf);Ya.__data__=fa;Ya.textContent=oa;Ta&&(Ya.setAttribute("x",0),Ya.setAttribute("dy",ba));E.appendChild(Ya)}),
Df.text=t)):(k=Fd(fa,t),k!==Df.text&&(E.textContent=k,Df.text=k));Ec(E,"font-family",Wd(fa));Ec(E,"font-size",Nc(fa)+"px");Ec(E,"font-style",fa.fontStyle);Ec(E,"font-variant",fa.fontVariant);Ec(E,"font-weight",fa.fontWeight)}};g.inherits(Vd,Cc,{svg(){return this._text},_render(t){const E=Bd();E.open("svg",g.extend({},Pg,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const fa=this._bgcolor;fa&&"transparent"!==fa&&"none"!==
fa&&E.open("rect",{width:this._width,height:this._height,fill:fa}).close();E.open("g",Ah,{transform:"translate("+this._origin+")"});this.mark(E,t);E.close();this.defs(E);this._text=E.close()+"";return this},mark(t,E){const fa=Cg[E.marktype],k=fa.tag,y=[Jc,fa.attr];t.open("g",{"class":da(E),"clip-path":E.clip?Wb(this,E,E.group):null},Vc(E),{"pointer-events":"g"!==k&&!1===E.interactive?"none":null});const ba=oa=>{const Ta=this.href(oa);Ta&&t.open("a",Ta);t.open(k,this.attr(E,oa,y,"g"!==k?k:null));if("text"===
k){var Ya=Gd(oa);if(g.isArray(Ya)){var Jb={x:0,dy:rd(oa)};for(var hc=0;hc<Ya.length;++hc)t.open("tspan",hc?Jb:null).text(Fd(oa,Ya[hc])).close()}else t.text(Fd(oa,Ya))}else"g"===k&&(Ya=oa.strokeForeground,Jb=oa.fill,hc=oa.stroke,Ya&&hc&&(oa.stroke=null),t.open("path",this.attr(E,oa,fa.background,"bgrect")).close(),t.open("g",this.attr(E,oa,fa.content)),Fb(oa,Tb=>this.mark(t,Tb)),t.close(),Ya&&hc?(Jb&&(oa.fill=null),oa.stroke=hc,t.open("path",this.attr(E,oa,fa.foreground,"bgrect")).close(),Jb&&(oa.fill=
Jb)):t.open("path",this.attr(E,oa,fa.foreground,"bgfore")).close());t.close();Ta&&t.close()};fa.nested?E.items&&E.items.length&&ba(E.items[0]):Fb(E,ba);return t.close()},href(t){const E=t.href;if(E){if(t=this._hrefs&&this._hrefs[E])return t;this.sanitizeURL(E).then(fa=>{fa["xlink:href"]=fa.href;fa.href=null;(this._hrefs||(this._hrefs={}))[E]=fa})}return null},attr(t,E,fa,k){const y={},ba=(oa,Ta,Ya,Jb)=>{y[Jb||oa]=Ta};Array.isArray(fa)?fa.forEach(oa=>oa(ba,E,this)):fa(ba,E,this);k&&ce(y,E,t,k,this._defs);
return y},defs(t){var E=this._defs.gradient;const fa=this._defs.clipping;if(0!==Object.keys(E).length+Object.keys(fa).length){t.open("defs");for(const y in E){var k=E[y];const ba=k.stops;"radial"===k.gradient?(t.open("pattern",{id:"p_"+y,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+y+")"}).close(),t.close(),t.open("radialGradient",{id:y,fx:k.x1,fy:k.y1,fr:k.r1,cx:k.x2,cy:k.y2,r:k.r2})):t.open("linearGradient",
{id:y,x1:k.x1,x2:k.x2,y1:k.y1,y2:k.y2});for(k=0;k<ba.length;++k)t.open("stop",{offset:ba[k].offset,"stop-color":ba[k].color}).close();t.close()}for(const y in fa)E=fa[y],t.open("clipPath",{id:y}),E.path?t.open("path",{d:E.path}).close():t.open("rect",{x:0,y:0,width:E.width,height:E.height}).close(),t.close();t.close()}}});const eg={};eg.canvas=eg.png={renderer:pc,headless:pc,handler:Sc};eg.svg={renderer:we,headless:Vd,handler:vd};eg.none={};const Xf=new Rc;r.Bounds=Rc;r.CanvasHandler=Sc;r.CanvasRenderer=
pc;r.Gradient=function(t,E){var fa=[],k;return k={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:E?E[0]:1,y2:E?E[1]:0,stops:fa,stop:function(y,ba){fa.push({offset:y,color:ba});return k}}};r.GroupItem=Ka;r.Handler=ac;r.Item=Pd;r.Marks=Cg;r.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};r.Renderer=Cc;r.ResourceLoader=Ub;r.SVGHandler=vd;r.SVGRenderer=we;r.SVGStringRenderer=Vd;r.Scenegraph=db;r.boundClip=function(t){const E=t.clip;if(g.isFunction(E))E(Sb(Xf.clear()));else if(E)Xf.set(0,0,
t.group.width,t.group.height);else return;t.bounds.intersect(Xf)};r.boundContext=Sb;r.boundItem=af;r.boundMark=re;r.boundStroke=rb;r.domChild=Yb;r.domClear=I;r.domCreate=ec;r.domFind=Bc;r.font=ae;r.fontFamily=Wd;r.fontSize=Nc;r.intersect=function(t,E,fa){const k=[];E=(new Rc).union(E);const y=t.marktype;return y?le(t,E,fa,k):"group"===y?N(t,E,fa,k):g.error("Intersect scene must be mark node or group item.")};r.intersectBoxLine=Ga;r.intersectPath=zc;r.intersectPoint=Yc;r.intersectRule=td;r.lineHeight=
rd;r.markup=Bd;r.multiLineOffset=function(t){const E=Gd(t);return(g.isArray(E)?E.length-1:0)*rd(t)};r.path=yc;r.pathCurves=G;r.pathEqual=ja;r.pathParse=U;r.pathRectangle=Ib;r.pathRender=X;r.pathSymbols=K;r.pathTrail=xc;r.point=Sa;r.renderModule=function(t,E){t=String(t||"").toLowerCase();return 1<arguments.length?(eg[t]=E,this):eg[t]};r.resetSVGClipId=function(){gd=1};r.resetSVGDefIds=function(){gd=1;Ia=0};r.sceneEqual=H;r.sceneFromJSON=T;r.scenePickVisit=nc;r.sceneToJSON=pf;r.sceneVisit=Fb;r.sceneZOrder=
jb;r.serializeXML=Ph;r.textMetrics=yh;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[47]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(44),Db(43)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb){function Gb(f){const v=f||g.identity,l=[],C={};l.add=B=>{const z=v(B);C[z]||(C[z]=1,l.push(B));return l};l.remove=B=>{const z=v(B);C[z]&&(C[z]=0,B=l.indexOf(B),
0<=B&&l.splice(B,1));return l};return l}function $b(f,v){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield v(f)}catch(l){f.error(l)}})}function oc(f){f=f===Object(f)?f:{data:f};if(!f[Y]){var v=Ha++;f[Y]=v}return f}function kc(f,v){for(const l in f)v[l]=f[l];return v}function yc(f){return f&&f.constructor===Ab}function Ab(){const f=[],v=[],l=[],C=[],B=[];let z=null,D=!1;return{constructor:Ab,insert(G){G=g.array(G);const U=G.length;for(let Aa=0;Aa<U;++Aa)f.push(G[Aa]);return this},
remove(G){const U=g.isFunction(G)?C:v;G=g.array(G);const Aa=G.length;for(let X=0;X<Aa;++X)U.push(G[X]);return this},modify(G,U,Aa){U={field:U,value:g.constant(Aa)};g.isFunction(G)?(U.filter=G,B.push(U)):(U.tuple=G,l.push(U));return this},encode(G,U){g.isFunction(G)?B.push({filter:G,field:U}):l.push({tuple:G,field:U});return this},clean(G){z=G;return this},reflow(){D=!0;return this},pulse(G,U){function Aa(Ca,Za,Ib){Ib?Ca[Za]=Ib(Ca):G.encode=Za;D||(u[Ca[Y]]=Ca)}const X={},u={};let K,ua,Ja,Wa,ab,W;K=
0;for(ua=U.length;K<ua;++K)X[U[K][Y]]=1;K=0;for(ua=v.length;K<ua;++K)ab=v[K],X[ab[Y]]=-1;K=0;for(ua=C.length;K<ua;++K)Wa=C[K],U.forEach(Ca=>{Wa(Ca)&&(X[Ca[Y]]=-1)});K=0;for(ua=f.length;K<ua;++K)ab=f[K],W=ab[Y],X[W]?X[W]=1:G.add.push(oc(f[K]));K=0;for(ua=U.length;K<ua;++K)ab=U[K],0>X[ab[Y]]&&G.rem.push(ab);K=0;for(ua=l.length;K<ua;++K)Ja=l[K],ab=Ja.tuple,Wa=Ja.field,W=X[ab[Y]],0<W&&(Aa(ab,Wa,Ja.value),G.modifies(Wa));K=0;for(ua=B.length;K<ua;++K)Ja=B[K],Wa=Ja.filter,U.forEach(Ca=>{Wa(Ca)&&0<X[Ca[Y]]&&
Aa(Ca,Ja.field,Ja.value)}),G.modifies(Ja.field);if(D)G.mod=v.length||C.length?U.filter(Ca=>0<X[Ca[Y]]):U.slice();else for(W in u)G.mod.push(u[W]);(z||null==z&&(v.length||C.length))&&G.clean(!0);return G}}}function gc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function rc(f,v,l,C){this.id=++Fa;this.value=f;this.qrank=this.rank=this.stamp=-1;this.flags=0;v&&(this._update=v);l&&this.parameters(l,C)}function Va(f){return function(v){const l=this.flags;if(0===arguments.length)return!!(l&
f);this.flags=v?l|f:l&~f;return this}}function qb(f,v,l){this.id=++aa;this.value=null;l&&(this.receive=l);f&&(this._filter=f);v&&(this._apply=v)}function Kb(f,v,l){return new qb(f,v,l)}function Ob(f){let v;const l=new Promise(C=>v=C);l.requests=0;l.done=()=>{0===--l.requests&&(f._pending=null,v(f))};return f._pending=l}function Bb(f,v,l,C,B,z){const D=g.extend({},z,ma);let G;g.isFunction(l)||(l=g.constant(l));void 0===C?B=U=>f.touch(l(U)):g.isFunction(C)?(G=new rc(null,C,B,!1),B=U=>{G.evaluate(U);
U=l(U);const Aa=G.value;yc(Aa)?f.pulse(U,Aa,z):f.update(U,Aa,D)}):B=U=>f.update(l(U),C,D);v.apply(B)}function Pb(f,v,l,C,B,z){void 0===C?v.targets().add(l):(z=z||{},C=new rc(null,Ua(l,C),B,!1),C.modified(z.force),C.rank=v.rank,v.targets().add(C),l&&(C.skip(!0),C.value=l.value,C.targets().add(l),f.connect(l,[C])))}function Ua(f,v){v=g.isFunction(v)?v:g.constant(v);return f?function(l,C){l=v(l,C);f.skip()||(f.skip(l!==this.value).value=l);return l}:v}function pb(f,v,l){this.dataflow=f;this.stamp=null==
v?-1:v;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=l||null}function Oa(f,v){const l=[];g.visitArray(f,v,C=>l.push(C));return l}function Da(f,v){const l={};f.visit(v,C=>{l[C[Y]]=1});return C=>l[C[Y]]?null:C}function Pa(f,v){return f?(l,C)=>f(l,C)&&v(l,C):v}function kb(f,v,l,C){const B=l.length;let z=0;this.dataflow=f;this.stamp=v;this.fields=null;this.encode=C||null;this.pulses=l;for(f=0;f<B;++f)if(C=l[f],C.stamp===v){if(C.fields){const D=this.fields||(this.fields={});for(const G in C.fields)D[G]=
1}C.changed(this.ADD)&&(z|=this.ADD);C.changed(this.REM)&&(z|=this.REM);C.changed(this.MOD)&&(z|=this.MOD)}this.changes=z}function lb(f){f.error("Dataflow already running. Use runAsync() to chain invocations.");return f}function Na(f,v){if(v&&v.stamp===f.stamp)return v;f=f.fork();v&&v!==p&&(f.source=v.source);return f}function xb(f){let v=[];return{clear:()=>v=[],size:()=>v.length,peek:()=>v[0],push:l=>{v.push(l);return ob(v,0,v.length-1,f)},pop:()=>{var l=v.pop();let C;if(v.length){C=v[0];v[0]=l;
l=v;var B=0;const z=B,D=l.length,G=l[B];let U=(B<<1)+1,Aa;for(;U<D;)Aa=U+1,Aa<D&&0<=f(l[U],l[Aa])&&(U=Aa),l[B]=l[U],B=U,U=(B<<1)+1;l[B]=G;ob(l,z,B,f)}else C=l;return C}}}function ob(f,v,l,C){let B,z;const D=f[l];for(;l>v;)if(z=l-1>>1,B=f[z],0>C(D,B))f[l]=B,l=z;else break;return f[l]=D}function Nb(){this.logger(g.logger());this.logLevel(g.Error);this._rank=this._clock=0;this._locale=hb.defaultLocale();try{this._loader=qa.loader()}catch(f){}this._touched=Gb(g.id);this._input={};this._pulse=null;this._heap=
xb((f,v)=>f.qrank-v.qrank);this._postrun=[]}function Zb(f){return function(){return this._log[f].apply(this,arguments)}}function nb(f,v){rc.call(this,f,null,v)}function la(f){f=f&&f.toLowerCase();return g.hasOwnProperty(P,f)?P[f]:null}const Y=Symbol("vega_id");let Ha=1;gc.prototype={set(f,v,l,C){const B=this[f],z=this["_:mod:_"];if(null!=v&&0<=v){if(B[v]!==l||C)B[v]=l,z[v+":"+f]=-1,z[f]=-1}else if(B!==l||C)this[f]=l,z[f]=g.isArray(l)?1+l.length:-1;return this},modified(f,v){const l=this["_:mod:_"];
if(!arguments.length){for(var C in l)if(l[C])return!0;return!1}if(g.isArray(f)){for(C=0;C<f.length;++C)if(l[f[C]])return!0;return!1}return null!=v&&0<=v?v+1<l[f]||!!l[v+":"+f]:!!l[f]},clear(){this["_:mod:_"]={};return this}};let Fa=0;const cb=new gc;rc.prototype={targets(){return this._targets||(this._targets=Gb(g.id))},set(f){return this.value!==f?(this.value=f,1):0},skip:Va(1),modified:Va(2),parameters(f,v,l){v=!1!==v;const C=this._argval=this._argval||new gc,B=this._argops=this._argops||[],z=[];
let D,G,U,Aa;const X=(u,K,ua)=>{ua instanceof rc?(ua!==this&&(v&&ua.targets().add(this),z.push(ua)),B.push({op:ua,name:u,index:K})):C.set(u,K,ua)};for(D in f)if(G=f[D],"pulse"===D)g.array(G).forEach(u=>{u instanceof rc?u!==this&&(u.targets().add(this),z.push(u)):g.error("Pulse parameters must be operator instances.")}),this.source=G;else if(g.isArray(G))for(C.set(D,-1,Array(U=G.length)),Aa=0;Aa<U;++Aa)X(D,Aa,G[Aa]);else X(D,-1,G);this.marshall().clear();l&&(B.initonly=!0);return z},marshall(f){const v=
this._argval||cb,l=this._argops;let C,B,z,D;if(l){const G=l.length;for(B=0;B<G;++B)C=l[B],z=C.op,D=z.modified()&&z.stamp===f,v.set(C.name,C.index,z.value,D);if(l.initonly){for(B=0;B<G;++B)C=l[B],C.op.targets().remove(this);this._update=this._argops=null}}return v},detach(){const f=this._argops;let v,l;if(f)for(v=0,l=f.length;v<l;++v){var C=f[v];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(f){var v=this._update;if(v){const l=this.marshall(f.stamp);v=v.call(this,
l,f);l.clear();if(v!==this.value)this.value=v;else if(!this.modified())return f.StopPropagation}},run(f){if(f.stamp<this.stamp)return f.StopPropagation;let v;this.skip()?(this.skip(!1),v=0):v=this.evaluate(f);return this.pulse=v||f}};let aa=0;qb.prototype={_filter:g.truthy,_apply:g.identity,targets(){return this._targets||(this._targets=Gb(g.id))},consume(f){if(!arguments.length)return!!this._consume;this._consume=!!f;return this},receive(f){if(this._filter(f)){const v=this.value=this._apply(f),l=
this._targets,C=l?l.length:0;for(let B=0;B<C;++B)l[B].receive(v);this._consume&&(f.preventDefault(),f.stopPropagation())}},filter(f){f=Kb(f);this.targets().add(f);return f},apply(f){f=Kb(null,f);this.targets().add(f);return f},merge(){const f=Kb();this.targets().add(f);for(let v=0,l=arguments.length;v<l;++v)arguments[v].targets().add(f);return f},throttle(f){let v=-1;return this.filter(()=>{const l=Date.now();return l-v>f?(v=l,1):0})},debounce(f){const v=Kb();this.targets().add(Kb(null,null,g.debounce(f,
l=>{const C=l.dataflow;v.receive(l);C&&C.run&&C.run()})));return v},between(f,v){let l=!1;f.targets().add(Kb(null,null,()=>l=!0));v.targets().add(Kb(null,null,()=>l=!1));return this.filter(()=>l)},detach(){this._filter=g.truthy;this._targets=null}};const ma={skip:!0},p={};pb.prototype={StopPropagation:p,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(f){return(new pb(this.dataflow)).init(this,f)},clone(){const f=this.fork(7);f.add=f.add.slice();f.rem=
f.rem.slice();f.mod=f.mod.slice();f.source&&(f.source=f.source.slice());return f.materialize(23)},addAll(){let f=this;f.source&&f.add!==f.rem&&(f.rem.length||f.source.length!==f.add.length)&&(f=(new pb(this.dataflow)).init(this),f.add=f.source,f.rem=[]);return f},init(f,v){this.stamp=f.stamp;this.encode=f.encode;!f.fields||v&64||(this.fields=f.fields);v&1?(this.addF=f.addF,this.add=f.add):(this.addF=null,this.add=[]);v&2?(this.remF=f.remF,this.rem=f.rem):(this.remF=null,this.rem=[]);v&4?(this.modF=
f.modF,this.mod=f.mod):(this.modF=null,this.mod=[]);v&32?this.source=this.srcF=null:(this.srcF=f.srcF,this.source=f.source,f.cleans&&(this.cleans=f.cleans));return this},runAfter(f){this.dataflow.runAfter(f)},changed(f){f=f||7;return f&1&&this.add.length||f&2&&this.rem.length||f&4&&this.mod.length},reflow(f){if(f)return this.fork(7).reflow();f=this.add.length;const v=this.source&&this.source.length;v&&v!==f&&(this.mod=this.source,f&&this.filter(4,Da(this,1)));return this},clean(f){return arguments.length?
(this.cleans=!!f,this):this.cleans},modifies(f){const v=this.fields||(this.fields={});g.isArray(f)?f.forEach(l=>v[l]=!0):v[f]=!0;return this},modified(f,v){const l=this.fields;return(v||this.mod.length)&&l?arguments.length?g.isArray(f)?f.some(C=>l[C]):l[f]:!!l:!1},filter(f,v){f&1&&(this.addF=Pa(this.addF,v));f&2&&(this.remF=Pa(this.remF,v));f&4&&(this.modF=Pa(this.modF,v));f&16&&(this.srcF=Pa(this.srcF,v));return this},materialize(f){f=f||7;f&1&&this.addF&&(this.add=Oa(this.add,this.addF),this.addF=
null);f&2&&this.remF&&(this.rem=Oa(this.rem,this.remF),this.remF=null);f&4&&this.modF&&(this.mod=Oa(this.mod,this.modF),this.modF=null);f&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(f,v){if(f&16)return g.visitArray(this.source,this.srcF,v),this;f&1&&g.visitArray(this.add,this.addF,v);f&2&&g.visitArray(this.rem,this.remF,v);f&4&&g.visitArray(this.mod,this.modF,v);const l=this.source;f&8&&l&&(f=this.add.length+this.mod.length,f!==l.length&&(f?g.visitArray(l,
Da(this,5),v):g.visitArray(l,this.srcF,v)));return this}};g.inherits(kb,pb,{fork(f){const v=(new pb(this.dataflow)).init(this,f&this.NO_FIELDS);void 0!==f&&(f&v.ADD&&this.visit(v.ADD,l=>v.add.push(l)),f&v.REM&&this.visit(v.REM,l=>v.rem.push(l)),f&v.MOD&&this.visit(v.MOD,l=>v.mod.push(l)));return v},changed(f){return this.changes&f},modified(f){const v=this.fields;return v&&this.changes&this.MOD?g.isArray(f)?f.some(l=>v[l]):v[f]:0},filter(){g.error("MultiPulse does not support filtering.")},materialize(){g.error("MultiPulse does not support materialization.")},
visit(f,v){const l=this.pulses,C=l.length;let B=0;if(f&this.SOURCE)for(;B<C;++B)l[B].visit(f,v);else for(;B<C;++B)l[B].stamp===this.stamp&&l[B].visit(f,v);return this}});const L={skip:!1,force:!1};Nb.prototype={stamp(){return this._clock},loader(f){return arguments.length?(this._loader=f,this):this._loader},locale(f){return arguments.length?(this._locale=f,this):this._locale},logger(f){return arguments.length?(this._log=f,this):this._log},error:Zb("error"),warn:Zb("warn"),info:Zb("info"),debug:Zb("debug"),
logLevel:Zb("level"),cleanThreshold:1E4,add:function(f,v,l,C){let B=1;f instanceof rc||(f&&f.prototype instanceof rc?f=new f:g.isFunction(f)?f=new rc(null,f):(B=0,f=new rc(f,v)));this.rank(f);B&&(C=l,l=v);l&&this.connect(f,f.parameters(l,C));this.touch(f);return f},connect:function(f,v){const l=f.rank,C=v.length;for(let B=0;B<C;++B)if(l<v[B].rank){this.rerank(f);break}},rank:function(f){f.rank=++this._rank},rerank:function(f){const v=[f];let l,C,B;for(;v.length;)if(this.rank(l=v.pop()),C=l._targets)for(B=
C.length;0<=--B;)v.push(l=C[B]),l===f&&g.error("Cycle detected in dataflow graph.")},pulse:function(f,v,l){this.touch(f,l||L);l=new pb(this,this._clock+(this._pulse?0:1));const C=f.pulse&&f.pulse.source||[];l.target=f;this._input[f.id]=v.pulse(l,C);return this},touch:function(f,v){v=v||L;this._pulse?this._enqueue(f):this._touched.add(f);v.skip&&f.skip(!0);return this},update:function(f,v,l){l=l||L;(f.set(v)||l.force)&&this.touch(f,l);return this},changeset:Ab,ingest:function(f,v,l){v=this.parse(v,
l);return this.pulse(f,this.changeset().insert(v))},parse:function(f,v){const l=this.locale();return qa.read(f,v,l.timeParse,l.utcParse)},preload:function(f,v,l){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Ob(C);B.requests+=1;const z=yield C.request(v,l);C.pulse(f,C.changeset().remove(g.truthy).insert(z.data||[]));B.done();return z})},request:function(f,v){const l=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=
yield l.loader().load(f,{context:"dataflow",response:qa.responseType(v&&v.type)});try{B=l.parse(B,v)}catch(z){C=-2,l.warn("Data ingestion failed",f,z)}}catch(z){C=-1,l.warn("Loading failed",f,z)}return{data:B,status:C}})},events:function(f,v,l,C){const B=this,z=Kb(l,C);l=function(D){D.dataflow=B;try{z.receive(D)}catch(G){B.error(G)}finally{B.run()}};f="string"===typeof f&&"undefined"!==typeof document?document.querySelectorAll(f):g.array(f);C=f.length;for(let D=0;D<C;++D)f[D].addEventListener(v,l);
return z},on:function(f,v,l,C,B){(f instanceof rc?Pb:Bb)(this,f,v,l,C,B);return this},evaluate:function(f,v,l){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return lb(C);C._pending&&(yield C._pending);v&&(yield $b(C,v));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var z=++C._clock;C._pulse=new pb(C,z,f);C._touched.forEach(X=>C._enqueue(X,!0));C._touched=Gb(g.id);var D=0;let G,U,Aa;try{for(;0<C._heap.size();)G=
C._heap.pop(),G.rank!==G.qrank?C._enqueue(G,!0):(U=G.run(C._getPulse(G,f)),U.then?U=yield U:U.async&&(B.push(U.async),U=p),U!==p&&G._targets&&G._targets.forEach(X=>C._enqueue(X)),++D)}catch(X){C._heap.clear(),Aa=X}C._input={};C._pulse=null;C.debug(`Pulse ${z}: ${D} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(z=C._postrun.sort((X,u)=>u.priority-X.priority),C._postrun=[],D=0;D<z.length;++D)yield $b(C,z[D].callback);l&&(yield $b(C,l));B.length&&Promise.all(B).then(X=>C.runAsync(null,
()=>{X.forEach(u=>{try{u(C)}catch(K){C.error(K)}})}));return C})},run:function(f,v,l){return this._pulse?lb(this):(this.evaluate(f,v,l),this)},runAsync:function(f,v,l){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(f,v,l)).then(B,B);return C._running})},runAfter:function(f,v,l){if(this._pulse||v)this._postrun.push({priority:l||0,callback:f});else try{f(this)}catch(C){this.error(C)}},
_enqueue:function(f,v){const l=f.stamp<this._clock;l&&(f.stamp=this._clock);if(l||v)f.qrank=f.rank,this._heap.push(f)},_getPulse:function(f,v){const l=f.source,C=this._clock;return l&&g.isArray(l)?new kb(this,C,l.map(B=>B.pulse),v):this._input[f.id]||Na(this._pulse,l&&l.pulse)}};g.inherits(nb,rc,{run(f){if(f.stamp<this.stamp)return f.StopPropagation;let v;this.skip()?this.skip(!1):v=this.evaluate(f);v=v||f;v.then?v=v.then(l=>this.pulse=l):v!==f.StopPropagation&&(this.pulse=v);return v},evaluate(f){const v=
this.marshall(f.stamp);f=this.transform(v,f);v.clear();return f},transform(){}});const P={};r.Dataflow=Nb;r.EventStream=qb;r.MultiPulse=kb;r.Operator=rc;r.Parameters=gc;r.Pulse=pb;r.Transform=nb;r.UniqueList=Gb;r.asyncCallback=$b;r.changeset=Ab;r.definition=function(f){return(f=la(f))&&f.Definition||null};r.derive=function(f){return kc(f,oc({}))};r.ingest=oc;r.isChangeSet=yc;r.isTuple=function(f){return!(!f||!f[Y])};r.rederive=kc;r.replace=function(f,v){v[Y]=f[Y];return v};r.stableCompare=function(f,
v){return f?v?(l,C)=>f(l,C)||v(l)[Y]-v(C)[Y]:(l,C)=>f(l,C)||l[Y]-C[Y]:null};r.transform=la;r.transforms=P;r.tupleid=function(f){return f[Y]};Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[48]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(46),Db(41),Db(47),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb,Gb){function $b(nb,la){const Y=nb.bitmap();(la||[]).forEach(Ha=>Y.set(nb(Ha.boundary[0]),nb(Ha.boundary[3])));
return[Y,void 0]}function oc(nb,la,Y,Ha,Fa){const cb=nb.width,aa=nb.height;Ha=Ha||Fa;const ma=qa.canvas(cb,aa).getContext("2d");var p=qa.canvas(cb,aa).getContext("2d"),L=Ha&&qa.canvas(cb,aa).getContext("2d");Y.forEach(G=>kc(ma,G,!1));kc(p,la,!1);Ha&&kc(L,la,!0);la=new Uint32Array(ma.getImageData(0,0,cb,aa).data.buffer);Y=new Uint32Array(p.getImageData(0,0,cb,aa).data.buffer);L=Ha&&new Uint32Array(L.getImageData(0,0,cb,aa).data.buffer);p=nb.bitmap();const P=Ha&&nb.bitmap();let f,v;let l,C,B,z;for(v=
0;v<aa;++v)for(f=0;f<cb;++f){var D=v*cb+f;C=la[D]&4278190080;z=Y[D]&4278190080;B=Ha&&L[D]&4278190080;if(C||B||z)D=nb(f),l=nb(v),Fa||!C&&!z||p.set(D,l),Ha&&(C||B)&&P.set(D,l)}return[p,P]}function kc(nb,la,Y){if(la.length){var Ha=la[0].mark.marktype;"group"===Ha?la.forEach(Fa=>{Fa.items.forEach(cb=>kc(nb,cb.items,Y))}):g.Marks[Ha].draw(nb,{items:Y?la.map(yc):la})}}function yc(nb){nb=hb.rederive(nb,{});return nb.stroke&&0!==nb.strokeOpacity||nb.fill&&0!==nb.fillOpacity?Object.assign({},nb,{strokeOpacity:1,
stroke:"#000",fillOpacity:0}):nb}function Ab(nb,la){const Y=new Uint32Array(~~((nb*la+32)/32));return{array:Y,get:(Ha,Fa)=>{Ha=Fa*nb+Ha;return Y[Ha>>>5]&1<<(Ha&31)},set:(Ha,Fa)=>{Ha=Fa*nb+Ha;Y[Ha>>>5]|=1<<(Ha&31)},clear:(Ha,Fa)=>{Ha=Fa*nb+Ha;Y[Ha>>>5]&=~(1<<(Ha&31))},getRange:(Ha,Fa,cb,aa)=>{let ma,p,L;for(;aa>=Fa;--aa){var P=aa*nb+Ha;ma=aa*nb+cb;p=P>>>5;L=ma>>>5;if(p===L){if(Y[p]&Oa[P&31]&Da[(ma&31)+1])return!0}else{if(Y[p]&Oa[P&31]||Y[L]&Da[(ma&31)+1])return!0;for(P=p+1;P<L;++P)if(Y[P])return!0}}return!1},
setRange:(Ha,Fa,cb,aa)=>{let ma,p,L;for(;Fa<=aa;++Fa){var P=Fa*nb+Ha;ma=Fa*nb+cb;p=P>>>5;L=ma>>>5;if(p===L)Y[p]|=Oa[P&31]&Da[(ma&31)+1];else for(Y[p]|=Oa[P&31],Y[L]|=Da[(ma&31)+1],P=p+1;P<L;++P)Y[P]|=4294967295}},clearRange:(Ha,Fa,cb,aa)=>{let ma,p,L;for(;Fa<=aa;++Fa){var P=Fa*nb+Ha;ma=Fa*nb+cb;p=P>>>5;L=ma>>>5;if(p===L)Y[p]&=Da[P&31]|Oa[(ma&31)+1];else for(Y[p]&=Da[P&31],Y[L]&=Oa[(ma&31)+1],P=p+1;P<L;++P)Y[P]&=0}},outOfBounds:(Ha,Fa,cb,aa)=>0>Ha||0>Fa||aa>=la||cb>=nb}}function gc(nb,la,Y){const Ha=
Math.max(1,Math.sqrt(nb*la/1E6)),Fa=~~((nb+2*Y+Ha)/Ha),cb=~~((la+2*Y+Ha)/Ha),aa=ma=>~~((ma+Y)/Ha);aa.invert=ma=>ma*Ha-Y;aa.bitmap=()=>Ab(Fa,cb);aa.ratio=Ha;aa.padding=Y;aa.width=nb;aa.height=la;return aa}function rc(nb,la,Y,Ha,Fa,cb){Y/=2;return 0>nb-Y||nb+Y>Fa||0>la-(Y=Ha/2)||la+Y>cb}function Va(nb,la,Y,Ha,Fa,cb,aa,ma){Fa=Fa*cb/(2*Ha);Ha=nb(la-Fa);la=nb(la+Fa);Fa=nb(Y-(cb/=2));nb=nb(Y+cb);return aa.outOfBounds(Ha,Fa,la,nb)||aa.getRange(Ha,Fa,la,nb)||ma&&ma.getRange(Ha,Fa,la,nb)}function qb(nb,la,
Y,Ha){const Fa=nb.width,cb=nb.height,aa=la[0],ma=la[1],p=Ha.length;return function(L){const P=L.boundary,f=L.datum.fontSize;if(0>P[2]||0>P[5]||P[0]>Fa||P[3]>cb)return!1;var v;let l=null!=(v=L.textWidth)?v:0,C;let B,z;let D;let G;let U,Aa;for(let uc=0;uc<p;++uc){v=(Y[uc]&3)-1;C=(Y[uc]>>>2&3)-1;var X=0===v&&0===C||0>Ha[uc];var u=v&&C?Math.SQRT1_2:1;B=0>Ha[uc]?-1:1;z=P[1+v]+Ha[uc]*v*u;G=P[4+C]+B*f*C/2+Ha[uc]*C*u;u=G-f/2;D=G+f/2;var K=nb(z);U=nb(u);Aa=nb(D);if(!l){var ua=K;var Ja=U;var Wa=Aa;var ab=aa,
W=ma,Ca=X;if(ab.outOfBounds(ua,Ja,K,Wa)||(Ca&&W||ab).getRange(ua,Ja,K,Wa))continue;else l=g.textMetrics.width(L.datum,L.datum.text)}Ja=z+B*l*v/2;z=Ja-l/2;ua=Ja+l/2;K=nb(z);Wa=nb(ua);ab=K;W=Wa;Ca=U;var Za=Aa,Ib=aa,xc=ma;if(!Ib.outOfBounds(ab,Ca,W,Za)&&!(X&&xc||Ib).getRange(ab,Ca,W,Za))return L.x=v?0>v*B?ua:z:Ja,L.y=C?0>C*B?D:u:G,L.align=lb[v*B+1],L.baseline=Na[C*B+1],aa.setRange(K,U,Wa,Aa),!0}return!1}}function Kb(nb,la,Y,Ha,Fa,cb,aa,ma,p,L,P){if(!nb.length)return nb;var f=Math.max(Ha.length,Fa.length);
const v=Ob(Ha,f);Fa=Bb(Fa,f);const l=Pb(nb[0].datum);var C="group"===l&&nb[0].datum.items[p].marktype;f="area"===C;const B=Ua(l,C,ma,p),z=null===L||Infinity===L;C=f&&"naive"===P;let D=-1,G=-1;ma=nb.map(X=>{const u=z?g.textMetrics.width(X,X.text):void 0;D=Math.max(D,u);G=Math.max(G,X.fontSize);return{datum:X,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:B(X),textWidth:u}});L=null===L||Infinity===L?Math.max(D,G)+Math.max(...Ha):L;la=gc(la[0],la[1],L);if(!C){Y&&ma.sort((X,u)=>Y(X.datum,
u.datum));var U=!1;for(Ha=0;Ha<Fa.length&&!U;++Ha)U=5===Fa[Ha]||0>v[Ha];nb=(l&&aa||f)&&nb.map(X=>X.datum);U=cb.length||nb?oc(la,nb||[],cb,U,f):$b(la,aa&&ma)}const Aa=f?ob[P](la,U,aa,p):qb(la,U,Fa,v);ma.forEach(X=>X.opacity=+Aa(X));return ma}function Ob(nb,la){const Y=new Float64Array(la),Ha=nb.length;for(let Fa=0;Fa<Ha;++Fa)Y[Fa]=nb[Fa]||0;for(nb=Ha;nb<la;++nb)Y[nb]=Y[Ha-1];return Y}function Bb(nb,la){const Y=new Int8Array(la),Ha=nb.length;for(let Fa=0;Fa<Ha;++Fa)Y[Fa]|=xb[nb[Fa]];for(nb=Ha;nb<la;++nb)Y[nb]=
Y[Ha-1];return Y}function Pb(nb){return nb&&nb.mark&&nb.mark.marktype}function Ua(nb,la,Y,Ha){const Fa=cb=>[cb.x,cb.x,cb.x,cb.y,cb.y,cb.y];return nb?"line"===nb||"area"===nb?cb=>Fa(cb.datum):"line"===la?cb=>{cb=cb.datum.items[Ha].items;return Fa(cb.length?cb["start"===Y?0:cb.length-1]:{x:NaN,y:NaN})}:cb=>{cb=cb.datum.bounds;return[cb.x1,(cb.x1+cb.x2)/2,cb.x2,cb.y1,(cb.y1+cb.y2)/2,cb.y2]}:Fa}function pb(nb){hb.Transform.call(this,null,nb)}const Oa=new Uint32Array(33),Da=new Uint32Array(33);Da[0]=0;
Oa[0]=~Da[0];for(let nb=1;32>=nb;++nb)Da[nb]=Da[nb-1]<<1|1,Oa[nb]=~Da[nb];const Pa=[-1,-1,1,1],kb=[-1,1,-1,1],lb=["right","center","left"],Na=["bottom","middle","top"],xb={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},ob={naive:function(nb,la,Y,Ha){const Fa=nb.width,cb=nb.height;return function(aa){const ma=aa.datum.datum.items[Ha].items,p=ma.length,L=aa.datum.fontSize,P=g.textMetrics.width(aa.datum,aa.datum.text);let f=0;let v,l,C,B,z;for(let G=
0;G<p;++G){var D=ma[G].x;l=ma[G].y;v=void 0===ma[G].x2?D:ma[G].x2;C=void 0===ma[G].y2?l:ma[G].y2;B=(D+v)/2;z=(l+C)/2;D=Math.abs(v-D+C-l);D>=f&&(f=D,aa.x=B,aa.y=z)}B=P/2;z=L/2;D=aa.x-B;v=aa.x+B;l=aa.y-z;C=aa.y+z;aa.align="center";0>D&&v<=Fa?aa.align="left":0<=D&&Fa<v&&(aa.align="right");aa.baseline="middle";0>l&&C<=cb?aa.baseline="top":0<=l&&cb<C&&(aa.baseline="bottom");return!0}},"reduced-search":function(nb,la,Y,Ha){function Fa(L,P,f,v,l){L=nb.invert(L);P=nb.invert(P);let C=f,B=aa,z;if(!rc(L,P,v,
l,cb,aa)&&!Va(nb,L,P,l,v,C,ma,p)&&!Va(nb,L,P,l,v,l,ma,null)){for(;1<=B-C;)z=(C+B)/2,Va(nb,L,P,l,v,z,ma,p)?B=z:C=z;if(C>f)return[L,P,C,!0]}}const cb=nb.width,aa=nb.height,ma=la[0],p=la[1];return function(L){const P=L.datum.datum.items[Ha].items,f=P.length,v=L.datum.fontSize,l=g.textMetrics.width(L.datum,L.datum.text);let C=Y?v:0,B=!1,z=!1,D=0;let G;let U;let Aa,X,u,K,ua,Ja,Wa,ab;for(let Ib=0;Ib<f;++Ib){var W=P[Ib].x;var Ca=P[Ib].y;G=void 0===P[Ib].x2?W:P[Ib].x2;U=void 0===P[Ib].y2?Ca:P[Ib].y2;if(W>
G){var Za=W;W=G;G=Za}Ca>U&&(Za=Ca,Ca=U,U=Za);X=nb(W);K=nb(G);u=~~((X+K)/2);ua=nb(Ca);Wa=nb(U);Ja=~~((ua+Wa)/2);for(Za=u;Za>=X;--Za)for(Aa=Ja;Aa>=ua;--Aa)(ab=Fa(Za,Aa,C,l,v))&&([L.x,L.y,C,B]=ab);for(Za=u;Za<=K;++Za)for(Aa=Ja;Aa<=Wa;++Aa)(ab=Fa(Za,Aa,C,l,v))&&([L.x,L.y,C,B]=ab);B||Y||(Za=Math.abs(G-W+U-Ca),W=(W+G)/2,Ca=(Ca+U)/2,Za>=D&&!rc(W,Ca,l,v,cb,aa)&&!Va(nb,W,Ca,v,l,v,ma,null)&&(D=Za,L.x=W,L.y=Ca,z=!0))}return B||z?(W=l/2,Ca=v/2,ma.setRange(nb(L.x-W),nb(L.y-Ca),nb(L.x+W),nb(L.y+Ca)),L.align="center",
L.baseline="middle",!0):!1}},floodfill:function(nb,la,Y,Ha){const Fa=nb.width,cb=nb.height,aa=la[0],ma=la[1],p=nb.bitmap();return function(L){const P=L.datum.datum.items[Ha].items,f=P.length,v=L.datum.fontSize,l=g.textMetrics.width(L.datum,L.datum.text),C=[];let B=Y?v:0,z=!1,D=!1,G=0,U,Aa,X,u,K,ua;var Ja;for(let W=0;W<f;++W){U=P[W].x;X=P[W].y;Aa=void 0===P[W].x2?U:P[W].x2;u=void 0===P[W].y2?X:P[W].y2;for(C.push([nb((U+Aa)/2),nb((X+u)/2)]);C.length;)if([Wa,ab]=C.pop(),!(aa.get(Wa,ab)||ma.get(Wa,ab)||
p.get(Wa,ab))){p.set(Wa,ab);for(Ja=0;4>Ja;++Ja)K=Wa+Pa[Ja],ua=ab+kb[Ja],p.outOfBounds(K,ua,K,ua)||C.push([K,ua]);K=nb.invert(Wa);ua=nb.invert(ab);var Wa=B;var ab=cb;if(!rc(K,ua,l,v,Fa,cb)&&!Va(nb,K,ua,v,l,Wa,aa,ma)&&!Va(nb,K,ua,v,l,v,aa,null)){for(;1<=ab-Wa;)Ja=(Wa+ab)/2,Va(nb,K,ua,v,l,Ja,aa,ma)?ab=Ja:Wa=Ja;Wa>B&&(L.x=K,L.y=ua,B=Wa,z=!0)}}z||Y||(Wa=Math.abs(Aa-U+u-X),K=(U+Aa)/2,ua=(X+u)/2,Wa>=G&&!rc(K,ua,l,v,Fa,cb)&&!Va(nb,K,ua,v,l,v,aa,null)&&(G=Wa,L.x=K,L.y=ua,D=!0))}return z||D?(K=l/2,ua=v/2,aa.setRange(nb(L.x-
K),nb(L.y-ua),nb(L.x+K),nb(L.y+ua)),L.align="center",L.baseline="middle",!0):!1}}},Nb=["x","y","opacity","align","baseline"],Zb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");pb.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Zb},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},
{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Nb.length,default:Nb}]};Gb.inherits(pb,hb.Transform,{transform(nb,la){function Y(cb){cb=nb[cb];return Gb.isFunction(cb)&&la.modified(cb.fields)}const Ha=nb.modified();if(Ha||la.changed(la.ADD_REM)||Y("sort")){nb.size&&
2===nb.size.length||Gb.error("Size parameter should be specified as a [width, height] array.");var Fa=nb.as||Nb;Kb(la.materialize(la.SOURCE).source||[],nb.size,nb.sort,Gb.array(null==nb.offset?1:nb.offset),Gb.array(nb.anchor||Zb),nb.avoidMarks||[],!1!==nb.avoidBaseMark,nb.lineAnchor||"end",nb.markIndex||0,void 0===nb.padding?0:nb.padding,nb.method||"naive").forEach(cb=>{const aa=cb.datum;aa[Fa[0]]=cb.x;aa[Fa[1]]=cb.y;aa[Fa[2]]=cb.opacity;aa[Fa[3]]=cb.align;aa[Fa[4]]=cb.baseline});return la.reflow(Ha).modifies(Fa)}}});
r.label=pb})};
shadow$provide[49]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega))})(this,function(r,g){function qa(u){const K=g.array(u).slice(),ua={};K.length||g.error("Missing time unit.");K.forEach(Ja=>{g.hasOwnProperty(Da,Ja)?ua[Ja]=1:g.error(`Invalid time unit: ${Ja}.`)});1<(ua.week||ua.day?1:0)+(ua.quarter||ua.month||
ua.date?1:0)+(ua.dayofyear?1:0)&&g.error(`Incompatible time units: ${u}`);K.sort((Ja,Wa)=>Da[Ja]-Da[Wa]);return K}function hb(u,K,ua,Ja){function Wa(ab){return u(ab=0===arguments.length?new Date:new Date(+ab)),ab}Wa.floor=function(ab){return u(ab=new Date(+ab)),ab};Wa.ceil=function(ab){return u(ab=new Date(ab-1)),K(ab,1),u(ab),ab};Wa.round=function(ab){var W=Wa(ab),Ca=Wa.ceil(ab);return ab-W<Ca-ab?W:Ca};Wa.offset=function(ab,W){return K(ab=new Date(+ab),null==W?1:Math.floor(W)),ab};Wa.range=function(ab,
W,Ca){var Za=[],Ib;ab=Wa.ceil(ab);Ca=null==Ca?1:Math.floor(Ca);if(!(ab<W&&0<Ca))return Za;do Za.push(Ib=new Date(+ab)),K(ab,Ca),u(ab);while(Ib<ab&&ab<W);return Za};Wa.filter=function(ab){return hb(function(W){if(W>=W)for(;u(W),!ab(W);)W.setTime(W-1)},function(W,Ca){if(W>=W)if(0>Ca)for(;0>=++Ca;)for(;K(W,-1),!ab(W););else for(;0<=--Ca;)for(;K(W,1),!ab(W););})};ua&&(Wa.count=function(ab,W){kb.setTime(+ab);lb.setTime(+W);u(kb);u(lb);return Math.floor(ua(kb,lb))},Wa.every=function(ab){ab=Math.floor(ab);
return isFinite(ab)&&0<ab?1<ab?Wa.filter(Ja?function(W){return 0===Ja(W)%ab}:function(W){return 0===Wa.count(0,W)%ab}):Wa:null});return Wa}function Gb(u){return hb(function(K){K.setDate(K.getDate()-(K.getDay()+7-u)%7);K.setHours(0,0,0,0)},function(K,ua){K.setDate(K.getDate()+7*ua)},function(K,ua){return(ua-K-6E4*(ua.getTimezoneOffset()-K.getTimezoneOffset()))/6048E5})}function $b(u){return hb(function(K){K.setUTCDate(K.getUTCDate()-(K.getUTCDay()+7-u)%7);K.setUTCHours(0,0,0,0)},function(K,ua){K.setUTCDate(K.getUTCDate()+
7*ua)},function(K,ua){return(ua-K)/6048E5})}function oc(u,K){return null==u||null==K?NaN:u<K?-1:u>K?1:u>=K?0:NaN}function kc(u){function K(ab,W,Ca=0,Za=ab.length){if(Ca<Za){if(0!==Ja(W,W))return Za;do{const Ib=Ca+Za>>>1;0>Wa(ab[Ib],W)?Ca=Ib+1:Za=Ib}while(Ca<Za)}return Ca}let ua=u,Ja=u,Wa=u;2!==u.length&&(ua=(ab,W)=>u(ab)-W,Ja=oc,Wa=(ab,W)=>oc(u(ab),W));return{left:K,center:function(ab,W,Ca=0,Za=ab.length){Za=K(ab,W,Ca,Za-1);return Za>Ca&&ua(ab[Za-1],W)>-ua(ab[Za],W)?Za-1:Za},right:function(ab,W,Ca=
0,Za=ab.length){if(Ca<Za){if(0!==Ja(W,W))return Za;do{const Ib=Ca+Za>>>1;0>=Wa(ab[Ib],W)?Ca=Ib+1:Za=Ib}while(Ca<Za)}return Ca}}}function yc(u,K,ua){var Ja=Math.abs(K-u)/Math.max(0,ua);ua=Math.pow(10,Math.floor(Math.log(Ja)/Math.LN10));Ja/=ua;Ja>=L?ua*=10:Ja>=P?ua*=5:Ja>=f&&(ua*=2);return K<u?-ua:ua}function Ab(u){v.setFullYear(u);v.setMonth(0);v.setDate(1);v.setHours(0,0,0,0);return v}function gc(u){return Zb.count(Ab(u.getFullYear())-1,u)}function rc(u){return nb.count(Ab(u.getFullYear())-1,u)}function Va(u,
K,ua,Ja,Wa,ab,W){return 0<=u&&100>u?(K=new Date(-1,K,ua,Ja,Wa,ab,W),K.setFullYear(u),K):new Date(u,K,ua,Ja,Wa,ab,W)}function qb(u){const K=Date.UTC(u.getUTCFullYear(),0,1);return cb.count(K-1,u)}function Kb(u){const K=Date.UTC(u.getUTCFullYear(),0,1);return aa.count(K-1,u)}function Ob(u){v.setTime(Date.UTC(u,0,1));return v.getUTCDay()}function Bb(u,K,ua,Ja,Wa,ab,W){return 0<=u&&100>u?(u=new Date(Date.UTC(-1,K,ua,Ja,Wa,ab,W)),u.setUTCFullYear(ua.y),u):new Date(Date.UTC(u,K,ua,Ja,Wa,ab,W))}function Pb(u,
K,ua,Ja,Wa){const ab=K||1,W=g.peek(u);K=(Rc,Pd,Ka)=>{Ka=Ka||Rc;return Ua(ua[Ka],Ja[Ka],Rc===W&&ab,Pd)};const Ca=new Date;u=g.toSet(u);const Za=u.year?K("year"):g.constant(2012),Ib=u.month?K("month"):u.quarter?K("quarter"):g.zero,xc=u.week&&u.day?K("day",1,"weekday"):u.week?K("week",1):u.day?K("day",1):u.date?K("date",1):u.dayofyear?K("dayofyear",1):g.one,uc=u.hours?K("hours"):g.zero,wc=u.minutes?K("minutes"):g.zero,bd=u.seconds?K("seconds"):g.zero,Wb=u.milliseconds?K("milliseconds"):g.zero;return function(Rc){Ca.setTime(+Rc);
Rc=Za(Ca);return Wa(Rc,Ib(Ca),xc(Ca,Rc),uc(Ca),wc(Ca),bd(Ca),Wb(Ca))}}function Ua(u,K,ua,Ja){const Wa=1>=ua?u:Ja?(ab,W)=>Ja+ua*Math.floor((u(ab,W)-Ja)/ua):(ab,W)=>ua*Math.floor(u(ab,W)/ua);return K?(ab,W)=>K(Wa(ab,W),W):Wa}function pb(u,K,ua){return K+7*u-(ua+6)%7}const Oa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Da=Oa.reduce((u,K,ua)=>(u[K]=1+ua,u),{}),Pa={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var kb=new Date,lb=new Date,Na=hb(function(){},function(u,K){u.setTime(+u+K)},function(u,K){return K-u});Na.every=function(u){u=Math.floor(u);return isFinite(u)&&0<u?1<u?hb(function(K){K.setTime(Math.floor(K/u)*u)},function(K,ua){K.setTime(+K+ua*u)},function(K,ua){return(ua-K)/u}):Na:null};var xb=hb(function(u){u.setTime(u-u.getMilliseconds())},function(u,K){u.setTime(+u+
1E3*K)},function(u,K){return(K-u)/1E3},function(u){return u.getUTCSeconds()}),ob=hb(function(u){u.setTime(u-u.getMilliseconds()-1E3*u.getSeconds())},function(u,K){u.setTime(+u+6E4*K)},function(u,K){return(K-u)/6E4},function(u){return u.getMinutes()}),Nb=hb(function(u){u.setTime(u-u.getMilliseconds()-1E3*u.getSeconds()-6E4*u.getMinutes())},function(u,K){u.setTime(+u+36E5*K)},function(u,K){return(K-u)/36E5},function(u){return u.getHours()}),Zb=hb(u=>u.setHours(0,0,0,0),(u,K)=>u.setDate(u.getDate()+
K),(u,K)=>(K-u-6E4*(K.getTimezoneOffset()-u.getTimezoneOffset()))/864E5,u=>u.getDate()-1),nb=Gb(0);Gb(1);Gb(2);Gb(3);Gb(4);Gb(5);Gb(6);var la=hb(function(u){u.setDate(1);u.setHours(0,0,0,0)},function(u,K){u.setMonth(u.getMonth()+K)},function(u,K){return K.getMonth()-u.getMonth()+12*(K.getFullYear()-u.getFullYear())},function(u){return u.getMonth()}),Y=hb(function(u){u.setMonth(0,1);u.setHours(0,0,0,0)},function(u,K){u.setFullYear(u.getFullYear()+K)},function(u,K){return K.getFullYear()-u.getFullYear()},
function(u){return u.getFullYear()});Y.every=function(u){return isFinite(u=Math.floor(u))&&0<u?hb(function(K){K.setFullYear(Math.floor(K.getFullYear()/u)*u);K.setMonth(0,1);K.setHours(0,0,0,0)},function(K,ua){K.setFullYear(K.getFullYear()+ua*u)}):null};var Ha=hb(function(u){u.setUTCSeconds(0,0)},function(u,K){u.setTime(+u+6E4*K)},function(u,K){return(K-u)/6E4},function(u){return u.getUTCMinutes()}),Fa=hb(function(u){u.setUTCMinutes(0,0,0)},function(u,K){u.setTime(+u+36E5*K)},function(u,K){return(K-
u)/36E5},function(u){return u.getUTCHours()}),cb=hb(function(u){u.setUTCHours(0,0,0,0)},function(u,K){u.setUTCDate(u.getUTCDate()+K)},function(u,K){return(K-u)/864E5},function(u){return u.getUTCDate()-1}),aa=$b(0);$b(1);$b(2);$b(3);$b(4);$b(5);$b(6);var ma=hb(function(u){u.setUTCDate(1);u.setUTCHours(0,0,0,0)},function(u,K){u.setUTCMonth(u.getUTCMonth()+K)},function(u,K){return K.getUTCMonth()-u.getUTCMonth()+12*(K.getUTCFullYear()-u.getUTCFullYear())},function(u){return u.getUTCMonth()}),p=hb(function(u){u.setUTCMonth(0,
1);u.setUTCHours(0,0,0,0)},function(u,K){u.setUTCFullYear(u.getUTCFullYear()+K)},function(u,K){return K.getUTCFullYear()-u.getUTCFullYear()},function(u){return u.getUTCFullYear()});p.every=function(u){return isFinite(u=Math.floor(u))&&0<u?hb(function(K){K.setUTCFullYear(Math.floor(K.getUTCFullYear()/u)*u);K.setUTCMonth(0,1);K.setUTCHours(0,0,0,0)},function(K,ua){K.setUTCFullYear(K.getUTCFullYear()+ua*u)}):null};var L=Math.sqrt(50),P=Math.sqrt(10),f=Math.sqrt(2);const v=new Date,l={year:u=>u.getFullYear(),
quarter:u=>Math.floor(u.getMonth()/3),month:u=>u.getMonth(),date:u=>u.getDate(),hours:u=>u.getHours(),minutes:u=>u.getMinutes(),seconds:u=>u.getSeconds(),milliseconds:u=>u.getMilliseconds(),dayofyear:u=>gc(u),week:u=>rc(u),weekday:(u,K)=>pb(rc(u),u.getDay(),Ab(K).getDay()),day:(u,K)=>pb(1,u.getDay(),Ab(K).getDay())},C={quarter:u=>3*u,week:(u,K)=>pb(u,0,Ab(K).getDay())},B={year:u=>u.getUTCFullYear(),quarter:u=>Math.floor(u.getUTCMonth()/3),month:u=>u.getUTCMonth(),date:u=>u.getUTCDate(),hours:u=>u.getUTCHours(),
minutes:u=>u.getUTCMinutes(),seconds:u=>u.getUTCSeconds(),milliseconds:u=>u.getUTCMilliseconds(),dayofyear:u=>qb(u),week:u=>Kb(u),day:(u,K)=>pb(1,u.getUTCDay(),Ob(K)),weekday:(u,K)=>pb(Kb(u),u.getUTCDay(),Ob(K))},z={quarter:u=>3*u,week:(u,K)=>pb(u,0,Ob(K))},D={year:Y,quarter:la.every(3),month:la,week:nb,date:Zb,day:Zb,dayofyear:Zb,hours:Nb,minutes:ob,seconds:xb,milliseconds:Na},G={year:p,quarter:ma.every(3),month:ma,week:aa,date:cb,day:cb,dayofyear:cb,hours:Fa,minutes:Ha,seconds:xb,milliseconds:Na},
U="year month date hours minutes seconds milliseconds".split(" ");xb=U.slice(0,-1);ob=xb.slice(0,-1);Nb=ob.slice(0,-1);la=Nb.slice(0,-1);Y=["year","month"];const Aa=["year"],X=[[xb,1,1E3],[xb,5,5E3],[xb,15,15E3],[xb,30,3E4],[ob,1,6E4],[ob,5,3E5],[ob,15,9E5],[ob,30,18E5],[Nb,1,36E5],[Nb,3,108E5],[Nb,6,216E5],[Nb,12,432E5],[la,1,864E5],[["year","week"],1,6048E5],[Y,1,2592E6],[Y,3,7776E6],[Aa,1,31536E6]];r.DATE="date";r.DAY="day";r.DAYOFYEAR="dayofyear";r.HOURS="hours";r.MILLISECONDS="milliseconds";
r.MINUTES="minutes";r.MONTH="month";r.QUARTER="quarter";r.SECONDS="seconds";r.TIME_UNITS=Oa;r.WEEK="week";r.YEAR="year";r.dayofyear=function(u){return gc(new Date(u))};r.timeBin=function(u){var K=u.extent;u=u.maxbins||40;var ua=Math.abs(g.span(K))/u;let Ja=kc(Wa=>Wa[2]).right(X,ua);Ja===X.length?(ua=Aa,K=yc(K[0]/31536E6,K[1]/31536E6,u)):Ja?(Ja=X[ua/X[Ja-1][2]<X[Ja][2]/ua?Ja-1:Ja],ua=Ja[0],K=Ja[1]):(ua=U,K=Math.max(yc(K[0],K[1],u),1));return{units:ua,step:K}};r.timeFloor=function(u,K){return Pb(u,
K||1,l,C,Va)};r.timeInterval=function(u){return D[u]};r.timeOffset=function(u,K,ua){return(u=D[u])?u.offset(K,ua):void 0};r.timeSequence=function(u,K,ua,Ja){return(u=D[u])?u.range(K,ua,Ja):void 0};r.timeUnitSpecifier=function(u,K){K=g.extend({},Pa,K);u=qa(u);const ua=u.length;let Ja="",Wa,ab,W;for(Wa=0;Wa<ua;)for(ab=u.length;ab>Wa;--ab)if(W=u.slice(Wa,ab).join("-"),null!=K[W]){Ja+=K[W];Wa=ab;break}return Ja.trim()};r.timeUnits=qa;r.utcFloor=function(u,K){return Pb(u,K||1,B,z,Bb)};r.utcInterval=function(u){return G[u]};
r.utcOffset=function(u,K,ua){return(u=G[u])?u.offset(K,ua):void 0};r.utcSequence=function(u,K,ua,Ja){return(u=G[u])?u.range(K,ua,Ja):void 0};r.utcdayofyear=function(u){return qb(new Date(u))};r.utcweek=function(u){return Kb(new Date(u))};r.week=function(u){return rc(new Date(u))};Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[50]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(49),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,qa){function hb(I){const da={};return Sa=>da[Sa]||(da[Sa]=I(Sa))}function Gb(I,da){if(0>(da=(I=da?I.toExponential(da-1):I.toExponential()).indexOf("e")))return null;var Sa=I.slice(0,da);return[1<
Sa.length?Sa[0]+Sa.slice(2):Sa,+I.slice(da+1)]}function $b(I){return I=Gb(Math.abs(I)),I?I[1]:NaN}function oc(I,da){return function(Sa,ac){for(var Pc=Sa.length,Cc=[],Sc=0,fd=I[0],ee=0;0<Pc&&0<fd;){ee+fd+1>ac&&(fd=Math.max(1,ac-ee));Cc.push(Sa.substring(Pc-=fd,Pc+fd));if((ee+=fd+1)>ac)break;fd=I[Sc=(Sc+1)%I.length]}return Cc.reverse().join(da)}}function kc(I){return function(da){return da.replace(/[0-9]/g,function(Sa){return I[+Sa]})}}function yc(I){if(!(da=Ud.exec(I)))throw Error("invalid format: "+
I);var da;return new Ab({fill:da[1],align:da[2],sign:da[3],symbol:da[4],zero:da[5],width:da[6],comma:da[7],precision:da[8]&&da[8].slice(1),trim:da[9],type:da[10]})}function Ab(I){this.fill=void 0===I.fill?" ":I.fill+"";this.align=void 0===I.align?"\x3e":I.align+"";this.sign=void 0===I.sign?"-":I.sign+"";this.symbol=void 0===I.symbol?"":I.symbol+"";this.zero=!!I.zero;this.width=void 0===I.width?void 0:+I.width;this.comma=!!I.comma;this.precision=void 0===I.precision?void 0:+I.precision;this.trim=!!I.trim;
this.type=void 0===I.type?"":I.type+""}function gc(I,da){da=Gb(I,da);if(!da)return I+"";I=da[0];da=da[1];return 0>da?"0."+Array(-da).join("0")+I:I.length>da+1?I.slice(0,da+1)+"."+I.slice(da+1):I+Array(da-I.length+2).join("0")}function rc(I){return I}function Va(I){function da(eb){function pc(Dc){var jd=Ke,Ec=Xe,Id,Vd;if("c"===we)Ec=bf(Dc)+Ec,Dc="";else{Dc=+Dc;var ce=0>Dc||0>1/Dc;Dc=isNaN(Dc)?Ra:bf(Math.abs(Dc),Bd);if(be){var le=Dc.length,N=1,ca=-1;a:for(;N<le;++N)switch(Dc[N]){case ".":ca=Id=N;break;
case "0":0===ca&&(ca=N);Id=N;break;default:if(!+Dc[N])break a;0<ca&&(ca=0)}Dc=0<ca?Dc.slice(0,ca)+Dc.slice(Id+1):Dc}ce&&0===+Dc&&"+"!==Vc&&(ce=!1);jd=(ce?"("===Vc?Vc:ee:"-"===Vc||"("===Vc?"":Vc)+jd;Ec=("s"===we?ka[8+Te/3]:"")+Ec+(ce&&"("===Vc?")":"");if(md)for(ce=-1,Id=Dc.length;++ce<Id;)if(Vd=Dc.charCodeAt(ce),48>Vd||57<Vd){Ec=(46===Vd?Cc+Dc.slice(ce+1):Dc.slice(ce))+Ec;Dc=Dc.slice(0,ce);break}}Nd&&!sd&&(Dc=Sa(Dc,Infinity));Vd=jd.length+Dc.length+Ec.length;ce=Vd<id?Array(id-Vd+1).join(vd):"";Nd&&
sd&&(Dc=Sa(ce+Dc,ce.length?id-Ec.length:Infinity),ce="");switch(Jc){case "\x3c":Dc=jd+Dc+Ec+ce;break;case "\x3d":Dc=jd+ce+Dc+Ec;break;case "^":Dc=ce.slice(0,Vd=ce.length>>1)+jd+Dc+Ec+ce.slice(Vd);break;default:Dc=ce+jd+Dc+Ec}return Sc(Dc)}eb=yc(eb);var vd=eb.fill,Jc=eb.align,Vc=eb.sign,Qc=eb.symbol,sd=eb.zero,id=eb.width,Nd=eb.comma,Bd=eb.precision,be=eb.trim,we=eb.type;"n"===we?(Nd=!0,we="g"):Xd[we]||(void 0===Bd&&(Bd=12),be=!0,we="g");if(sd||"0"===vd&&"\x3d"===Jc)sd=!0,vd="0",Jc="\x3d";var Ke="$"===
Qc?ac:"#"===Qc&&/[boxX]/.test(we)?"0"+we.toLowerCase():"",Xe="$"===Qc?Pc:/[%p]/.test(we)?fd:"",bf=Xd[we],md=/[defgprs%]/.test(we);Bd=void 0===Bd?6:/[gprs]/.test(we)?Math.max(1,Math.min(21,Bd)):Math.max(0,Math.min(20,Bd));pc.toString=function(){return eb+""};return pc}var Sa=void 0===I.grouping||void 0===I.thousands?rc:oc(M.call(I.grouping,Number),I.thousands+""),ac=void 0===I.currency?"":I.currency[0]+"",Pc=void 0===I.currency?"":I.currency[1]+"",Cc=void 0===I.decimal?".":I.decimal+"",Sc=void 0===
I.numerals?rc:kc(M.call(I.numerals,String)),fd=void 0===I.percent?"%":I.percent+"",ee=void 0===I.minus?"":I.minus+"",Ra=void 0===I.nan?"NaN":I.nan+"";return{format:da,formatPrefix:function(eb,pc){var vd=da((eb=yc(eb),eb.type="f",eb));eb=3*Math.max(-8,Math.min(8,Math.floor($b(pc)/3)));var Jc=Math.pow(10,-eb),Vc=ka[8+eb/3];return function(Qc){return vd(Jc*Qc)+Vc}}}}function qb(I,da){return Sa=>{Sa=I(Sa);const ac=Sa.indexOf(da);if(0>ac)return Sa;a:{var Pc=Sa.lastIndexOf("e");if(!(0<Pc)){for(Pc=Sa.length;--Pc>
ac;){var Cc=Sa.charCodeAt(Pc);if(48<=Cc&&57>=Cc){Pc+=1;break a}}Pc=void 0}}for(Cc=Pc<Sa.length?Sa.slice(Pc):"";--Pc>ac;)if("0"!==Sa[Pc]){++Pc;break}return Sa.slice(0,Pc)+Cc}}function Kb(I){const da=hb(I.format),Sa=I.formatPrefix;return{format:da,formatPrefix:Sa,formatFloat(ac){ac=yc(ac||",");if(null==ac.precision){ac.precision=12;switch(ac.type){case "%":ac.precision-=2;break;case "e":--ac.precision}return qb(da(ac),da(".1f")(1)[1])}return da(ac)},formatSpan(ac,Pc,Cc,Sc){Sc=yc(null==Sc?",f":Sc);var fd=
Math.abs(Pc-ac)/Math.max(0,Cc);Cc=Math.pow(10,Math.floor(Math.log(fd)/Math.LN10));fd/=Cc;fd>=Ed?Cc*=10:fd>=Zd?Cc*=5:fd>=de&&(Cc*=2);Cc=Pc<ac?-Cc:Cc;ac=Math.max(Math.abs(ac),Math.abs(Pc));if(null==Sc.precision)switch(Sc.type){case "s":return Pc=isNaN,Cc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($b(ac)/3)))-$b(Math.abs(Cc))),Pc(Pc=Cc)||(Sc.precision=Pc),Sa(Sc,ac);case "":case "e":case "g":case "p":case "r":Pc=isNaN;Cc=Math.abs(Cc);ac=Math.abs(ac)-Cc;ac=Math.max(0,$b(ac)-$b(Cc))+1;Pc(Pc=ac)||(Sc.precision=
Pc-("e"===Sc.type));break;case "f":case "%":isNaN(Pc=Math.max(0,-$b(Math.abs(Cc))))||(Sc.precision=Pc-2*("%"===Sc.type))}return da(Sc)}}}function Ob(){return Xb=Kb({format:fb,formatPrefix:Hb})}function Bb(I){return Kb(Va(I))}function Pb(I){return arguments.length?Xb=Bb(I):Xb}function Ua(I,da,Sa,ac){function Pc(Cc){return I(Cc=0===arguments.length?new Date:new Date(+Cc)),Cc}Pc.floor=function(Cc){return I(Cc=new Date(+Cc)),Cc};Pc.ceil=function(Cc){return I(Cc=new Date(Cc-1)),da(Cc,1),I(Cc),Cc};Pc.round=
function(Cc){var Sc=Pc(Cc),fd=Pc.ceil(Cc);return Cc-Sc<fd-Cc?Sc:fd};Pc.offset=function(Cc,Sc){return da(Cc=new Date(+Cc),null==Sc?1:Math.floor(Sc)),Cc};Pc.range=function(Cc,Sc,fd){var ee=[],Ra;Cc=Pc.ceil(Cc);fd=null==fd?1:Math.floor(fd);if(!(Cc<Sc&&0<fd))return ee;do ee.push(Ra=new Date(+Cc)),da(Cc,fd),I(Cc);while(Ra<Cc&&Cc<Sc);return ee};Pc.filter=function(Cc){return Ua(function(Sc){if(Sc>=Sc)for(;I(Sc),!Cc(Sc);)Sc.setTime(Sc-1)},function(Sc,fd){if(Sc>=Sc)if(0>fd)for(;0>=++fd;)for(;da(Sc,-1),!Cc(Sc););
else for(;0<=--fd;)for(;da(Sc,1),!Cc(Sc););})};Sa&&(Pc.count=function(Cc,Sc){Ac.setTime(+Cc);lc.setTime(+Sc);I(Ac);I(lc);return Math.floor(Sa(Ac,lc))},Pc.every=function(Cc){Cc=Math.floor(Cc);return isFinite(Cc)&&0<Cc?1<Cc?Pc.filter(ac?function(Sc){return 0===ac(Sc)%Cc}:function(Sc){return 0===Pc.count(0,Sc)%Cc}):Pc:null});return Pc}function pb(I){return Ua(function(da){da.setDate(da.getDate()-(da.getDay()+7-I)%7);da.setHours(0,0,0,0)},function(da,Sa){da.setDate(da.getDate()+7*Sa)},function(da,Sa){return(Sa-
da-6E4*(Sa.getTimezoneOffset()-da.getTimezoneOffset()))/6048E5})}function Oa(I){return Ua(function(da){da.setUTCDate(da.getUTCDate()-(da.getUTCDay()+7-I)%7);da.setUTCHours(0,0,0,0)},function(da,Sa){da.setUTCDate(da.getUTCDate()+7*Sa)},function(da,Sa){return(Sa-da)/6048E5})}function Da(I){if(0<=I.y&&100>I.y){var da=new Date(-1,I.m,I.d,I.H,I.M,I.S,I.L);da.setFullYear(I.y);return da}return new Date(I.y,I.m,I.d,I.H,I.M,I.S,I.L)}function Pa(I){if(0<=I.y&&100>I.y){var da=new Date(Date.UTC(-1,I.m,I.d,I.H,
I.M,I.S,I.L));da.setUTCFullYear(I.y);return da}return new Date(Date.UTC(I.y,I.m,I.d,I.H,I.M,I.S,I.L))}function kb(I,da,Sa){return{y:I,m:da,d:Sa,H:0,M:0,S:0,L:0}}function lb(I){function da(md,Dc){return function(jd){var Ec=[],Id=-1,Vd=0,ce=md.length,le,N;for(jd instanceof Date||(jd=new Date(+jd));++Id<ce;)if(37===md.charCodeAt(Id)){Ec.push(md.slice(Vd,Id));null!=(Vd=af[le=md.charAt(++Id)])?le=md.charAt(++Id):Vd="e"===le?" ":"0";if(N=Dc[le])le=N(jd,Vd);Ec.push(le);Vd=Id+1}Ec.push(md.slice(Vd,Id));return Ec.join("")}}
function Sa(md,Dc){return function(jd){var Ec=kb(1900,void 0,1);if(ac(Ec,md,jd+="",0)!=jd.length)return null;if("Q"in Ec)return new Date(Ec.Q);if("s"in Ec)return new Date(1E3*Ec.s+("L"in Ec?Ec.L:0));!Dc||"Z"in Ec||(Ec.Z=0);"p"in Ec&&(Ec.H=Ec.H%12+12*Ec.p);void 0===Ec.m&&(Ec.m="q"in Ec?Ec.q:0);if("V"in Ec){if(1>Ec.V||53<Ec.V)return null;"w"in Ec||(Ec.w=1);if("Z"in Ec){jd=Pa(kb(Ec.y,0,1));var Id=jd.getUTCDay();jd=4<Id||0===Id?ae.ceil(jd):ae(jd);jd=$d.offset(jd,7*(Ec.V-1));Ec.y=jd.getUTCFullYear();Ec.m=
jd.getUTCMonth();Ec.d=jd.getUTCDate()+(Ec.w+6)%7}else jd=Da(kb(Ec.y,0,1)),Id=jd.getDay(),jd=4<Id||0===Id?Nc.ceil(jd):Nc(jd),jd=Fc.offset(jd,7*(Ec.V-1)),Ec.y=jd.getFullYear(),Ec.m=jd.getMonth(),Ec.d=jd.getDate()+(Ec.w+6)%7}else if("W"in Ec||"U"in Ec)"w"in Ec||(Ec.w="u"in Ec?Ec.u%7:"W"in Ec?1:0),Id="Z"in Ec?Pa(kb(Ec.y,0,1)).getUTCDay():Da(kb(Ec.y,0,1)).getDay(),Ec.m=0,Ec.d="W"in Ec?(Ec.w+6)%7+7*Ec.W-(Id+5)%7:Ec.w+7*Ec.U-(Id+6)%7;return"Z"in Ec?(Ec.H+=Ec.Z/100|0,Ec.M+=Ec.Z%100,Pa(Ec)):Da(Ec)}}function ac(md,
Dc,jd,Ec){for(var Id=0,Vd=Dc.length,ce=jd.length,le;Id<Vd;){if(Ec>=ce)return-1;le=Dc.charCodeAt(Id++);if(37===le){if(le=Dc.charAt(Id++),le=bf[le in af?Dc.charAt(Id++):le],!le||0>(Ec=le(md,jd,Ec)))return-1}else if(le!=jd.charCodeAt(Ec++))return-1}return Ec}var Pc=I.dateTime,Cc=I.date,Sc=I.time,fd=I.periods,ee=I.days,Ra=I.shortDays,eb=I.months,pc=I.shortMonths,vd=ob(fd),Jc=Nb(fd),Vc=ob(ee),Qc=Nb(ee),sd=ob(Ra),id=Nb(Ra),Nd=ob(eb),Bd=Nb(eb),be=ob(pc),we=Nb(pc),Ke={a:function(md){return Ra[md.getDay()]},
A:function(md){return ee[md.getDay()]},b:function(md){return pc[md.getMonth()]},B:function(md){return eb[md.getMonth()]},c:null,d:U,e:U,f:ua,g:bd,G:Rc,H:Aa,I:X,j:u,L:K,m:Ja,M:Wa,p:function(md){return fd[+(12<=md.getHours())]},q:function(md){return 1+~~(md.getMonth()/3)},Q:nc,s:dc,S:ab,u:W,U:Ca,V:Ib,w:xc,W:uc,x:null,X:null,y:wc,Y:Wb,Z:Pd,"%":Fb},Xe={a:function(md){return Ra[md.getUTCDay()]},A:function(md){return ee[md.getUTCDay()]},b:function(md){return pc[md.getUTCMonth()]},B:function(md){return eb[md.getUTCMonth()]},
c:null,d:Ka,e:Ka,f:bc,g:ya,G:$a,H:Ub,I:rb,j:Sb,L:fc,m:Hc,M:zc,p:function(md){return fd[+(12<=md.getUTCHours())]},q:function(md){return 1+~~(md.getUTCMonth()/3)},Q:nc,s:dc,S:Yc,u:Md,U:td,V:gb,w:vb,W:ra,x:null,X:null,y:F,Y:La,Z:jb,"%":Fb},bf={a:function(md,Dc,jd){return(Dc=sd.exec(Dc.slice(jd)))?(md.w=id.get(Dc[0].toLowerCase()),jd+Dc[0].length):-1},A:function(md,Dc,jd){return(Dc=Vc.exec(Dc.slice(jd)))?(md.w=Qc.get(Dc[0].toLowerCase()),jd+Dc[0].length):-1},b:function(md,Dc,jd){return(Dc=be.exec(Dc.slice(jd)))?
(md.m=we.get(Dc[0].toLowerCase()),jd+Dc[0].length):-1},B:function(md,Dc,jd){return(Dc=Nd.exec(Dc.slice(jd)))?(md.m=Bd.get(Dc[0].toLowerCase()),jd+Dc[0].length):-1},c:function(md,Dc,jd){return ac(md,Pc,Dc,jd)},d:L,e:L,f:B,g:cb,G:Fa,H:f,I:f,j:P,L:C,m:p,M:v,p:function(md,Dc,jd){return(Dc=vd.exec(Dc.slice(jd)))?(md.p=Jc.get(Dc[0].toLowerCase()),jd+Dc[0].length):-1},q:ma,Q:D,s:G,S:l,u:nb,U:la,V:Y,w:Zb,W:Ha,x:function(md,Dc,jd){return ac(md,Cc,Dc,jd)},X:function(md,Dc,jd){return ac(md,Sc,Dc,jd)},y:cb,Y:Fa,
Z:aa,"%":z};Ke.x=da(Cc,Ke);Ke.X=da(Sc,Ke);Ke.c=da(Pc,Ke);Xe.x=da(Cc,Xe);Xe.X=da(Sc,Xe);Xe.c=da(Pc,Xe);return{format:function(md){var Dc=da(md+="",Ke);Dc.toString=function(){return md};return Dc},parse:function(md){var Dc=Sa(md+="",!1);Dc.toString=function(){return md};return Dc},utcFormat:function(md){var Dc=da(md+="",Xe);Dc.toString=function(){return md};return Dc},utcParse:function(md){var Dc=Sa(md+="",!0);Dc.toString=function(){return md};return Dc}}}function Na(I,da,Sa){var ac=0>I?"-":"";I=(ac?
-I:I)+"";var Pc=I.length;return ac+(Pc<Sa?Array(Sa-Pc+1).join(da)+I:I)}function xb(I){return I.replace(T,"\\$\x26")}function ob(I){return new RegExp("^(?:"+I.map(xb).join("|")+")","i")}function Nb(I){return new Map(I.map((da,Sa)=>[da.toLowerCase(),Sa]))}function Zb(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+1)))?(I.w=+da[0],Sa+da[0].length):-1}function nb(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+1)))?(I.u=+da[0],Sa+da[0].length):-1}function la(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.U=+da[0],
Sa+da[0].length):-1}function Y(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.V=+da[0],Sa+da[0].length):-1}function Ha(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.W=+da[0],Sa+da[0].length):-1}function Fa(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+4)))?(I.y=+da[0],Sa+da[0].length):-1}function cb(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.y=+da[0]+(68<+da[0]?1900:2E3),Sa+da[0].length):-1}function aa(I,da,Sa){return(da=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(da.slice(Sa,Sa+6)))?(I.Z=da[1]?
0:-(da[2]+(da[3]||"00")),Sa+da[0].length):-1}function ma(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+1)))?(I.q=3*da[0]-3,Sa+da[0].length):-1}function p(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.m=da[0]-1,Sa+da[0].length):-1}function L(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.d=+da[0],Sa+da[0].length):-1}function P(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+3)))?(I.m=0,I.d=+da[0],Sa+da[0].length):-1}function f(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.H=+da[0],Sa+da[0].length):
-1}function v(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.M=+da[0],Sa+da[0].length):-1}function l(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+2)))?(I.S=+da[0],Sa+da[0].length):-1}function C(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+3)))?(I.L=+da[0],Sa+da[0].length):-1}function B(I,da,Sa){return(da=re.exec(da.slice(Sa,Sa+6)))?(I.L=Math.floor(da[0]/1E3),Sa+da[0].length):-1}function z(I,da,Sa){return(I=pf.exec(da.slice(Sa,Sa+1)))?Sa+I[0].length:-1}function D(I,da,Sa){return(da=re.exec(da.slice(Sa)))?
(I.Q=+da[0],Sa+da[0].length):-1}function G(I,da,Sa){return(da=re.exec(da.slice(Sa)))?(I.s=+da[0],Sa+da[0].length):-1}function U(I,da){return Na(I.getDate(),da,2)}function Aa(I,da){return Na(I.getHours(),da,2)}function X(I,da){return Na(I.getHours()%12||12,da,2)}function u(I,da){return Na(1+Fc.count(Fd(I),I),da,3)}function K(I,da){return Na(I.getMilliseconds(),da,3)}function ua(I,da){return K(I,da)+"000"}function Ja(I,da){return Na(I.getMonth()+1,da,2)}function Wa(I,da){return Na(I.getMinutes(),da,
2)}function ab(I,da){return Na(I.getSeconds(),da,2)}function W(I){I=I.getDay();return 0===I?7:I}function Ca(I,da){return Na(hd.count(Fd(I)-1,I),da,2)}function Za(I){var da=I.getDay();return 4<=da||0===da?rd(I):rd.ceil(I)}function Ib(I,da){I=Za(I);return Na(rd.count(Fd(I),I)+(4===Fd(I).getDay()),da,2)}function xc(I){return I.getDay()}function uc(I,da){return Na(Nc.count(Fd(I)-1,I),da,2)}function wc(I,da){return Na(I.getFullYear()%100,da,2)}function bd(I,da){I=Za(I);return Na(I.getFullYear()%100,da,
2)}function Wb(I,da){return Na(I.getFullYear()%1E4,da,4)}function Rc(I,da){var Sa=I.getDay();I=4<=Sa||0===Sa?rd(I):rd.ceil(I);return Na(I.getFullYear()%1E4,da,4)}function Pd(I){I=I.getTimezoneOffset();return(0<I?"-":(I*=-1,"+"))+Na(I/60|0,"0",2)+Na(I%60,"0",2)}function Ka(I,da){return Na(I.getUTCDate(),da,2)}function Ub(I,da){return Na(I.getUTCHours(),da,2)}function rb(I,da){return Na(I.getUTCHours()%12||12,da,2)}function Sb(I,da){return Na(1+$d.count(df(I),I),da,3)}function fc(I,da){return Na(I.getUTCMilliseconds(),
da,3)}function bc(I,da){return fc(I,da)+"000"}function Hc(I,da){return Na(I.getUTCMonth()+1,da,2)}function zc(I,da){return Na(I.getUTCMinutes(),da,2)}function Yc(I,da){return Na(I.getUTCSeconds(),da,2)}function Md(I){I=I.getUTCDay();return 0===I?7:I}function td(I,da){return Na(Wd.count(df(I)-1,I),da,2)}function Ga(I){var da=I.getUTCDay();return 4<=da||0===da?Be(I):Be.ceil(I)}function gb(I,da){I=Ga(I);return Na(Be.count(df(I),I)+(4===df(I).getUTCDay()),da,2)}function vb(I){return I.getUTCDay()}function ra(I,
da){return Na(ae.count(df(I)-1,I),da,2)}function F(I,da){return Na(I.getUTCFullYear()%100,da,2)}function ya(I,da){I=Ga(I);return Na(I.getUTCFullYear()%100,da,2)}function La(I,da){return Na(I.getUTCFullYear()%1E4,da,4)}function $a(I,da){var Sa=I.getUTCDay();I=4<=Sa||0===Sa?Be(I):Be.ceil(I);return Na(I.getUTCFullYear()%1E4,da,4)}function jb(){return"+0000"}function Fb(){return"%"}function nc(I){return+I}function dc(I){return Math.floor(+I/1E3)}function ic(I,da,Sa){Sa=Sa||{};qa.isObject(Sa)||qa.error(`Invalid time multi-format specifier: ${Sa}`);
const ac=da(g.SECONDS),Pc=da(g.MINUTES),Cc=da(g.HOURS),Sc=da(g.DATE),fd=da(g.WEEK),ee=da(g.MONTH),Ra=da(g.QUARTER),eb=da(g.YEAR),pc=I(Sa[g.MILLISECONDS]||".%L"),vd=I(Sa[g.SECONDS]||":%S"),Jc=I(Sa[g.MINUTES]||"%I:%M"),Vc=I(Sa[g.HOURS]||"%I %p"),Qc=I(Sa[g.DATE]||Sa[g.DAY]||"%a %d"),sd=I(Sa[g.WEEK]||"%b %d"),id=I(Sa[g.MONTH]||"%B"),Nd=I(Sa[g.QUARTER]||"%B"),Bd=I(Sa[g.YEAR]||"%Y");return be=>(ac(be)<be?pc:Pc(be)<be?vd:Cc(be)<be?Jc:Sc(be)<be?Vc:ee(be)<be?fd(be)<be?Qc:sd:eb(be)<be?Ra(be)<be?id:Nd:Bd)(be)}
function Uc(I){const da=hb(I.format),Sa=hb(I.utcFormat);return{timeFormat:ac=>qa.isString(ac)?da(ac):ic(da,g.timeInterval,ac),utcFormat:ac=>qa.isString(ac)?Sa(ac):ic(Sa,g.utcInterval,ac),timeParse:hb(I.parse),utcParse:hb(I.utcParse)}}function cd(){return Yb=Uc({format:db,parse:zb,utcFormat:ec,utcParse:Bc})}function dd(I){return Uc(lb(I))}function Qd(I){return arguments.length?Yb=dd(I):Yb}function Td(I,da){var Sa=arguments.length;Sa&&2!==Sa&&qa.error("defaultLocale expects either zero or two arguments.");
if(Sa){Sa=Pb(I);var ac=Qd(da);Sa=qa.extend({},Sa,ac)}else Sa=Pb(),ac=Qd(),Sa=qa.extend({},Sa,ac);return Sa}var Ed=Math.sqrt(50),Zd=Math.sqrt(10),de=Math.sqrt(2),Ud=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;yc.prototype=Ab.prototype;Ab.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var Te,Xd={"%":(I,da)=>(100*I).toFixed(da),b:I=>Math.round(I).toString(2),c:I=>I+"",d:function(I){return 1E21<=Math.abs(I=Math.round(I))?I.toLocaleString("en").replace(/,/g,""):I.toString(10)},e:(I,da)=>I.toExponential(da),f:(I,da)=>I.toFixed(da),g:(I,da)=>I.toPrecision(da),o:I=>Math.round(I).toString(8),p:(I,da)=>gc(100*I,da),r:gc,s:function(I,da){var Sa=Gb(I,da);if(!Sa)return I+"";var ac=Sa[0];Sa=Sa[1];Sa=Sa-(Te=3*Math.max(-8,Math.min(8,Math.floor(Sa/3))))+1;var Pc=ac.length;
return Sa===Pc?ac:Sa>Pc?ac+Array(Sa-Pc+1).join("0"):0<Sa?ac.slice(0,Sa)+"."+ac.slice(Sa):"0."+Array(1-Sa).join("0")+Gb(I,Math.max(0,da+Sa-1))[0]},X:I=>Math.round(I).toString(16).toUpperCase(),x:I=>Math.round(I).toString(16)},M=Array.prototype.map,ka="y z a f p n  m  k M G T P E Z Y".split(" "),za,fb,Hb;(function(I){za=Va(I);fb=za.format;Hb=za.formatPrefix;return za})({thousands:",",grouping:[3],currency:["$",""]});let Xb;Ob();var Ac=new Date,lc=new Date,Fc=Ua(I=>I.setHours(0,0,0,0),(I,da)=>I.setDate(I.getDate()+
da),(I,da)=>(da-I-6E4*(da.getTimezoneOffset()-I.getTimezoneOffset()))/864E5,I=>I.getDate()-1),hd=pb(0),Nc=pb(1);pb(2);pb(3);var rd=pb(4);pb(5);pb(6);var Gd=Ua(function(I){I.setMonth(0,1);I.setHours(0,0,0,0)},function(I,da){I.setFullYear(I.getFullYear()+da)},function(I,da){return da.getFullYear()-I.getFullYear()},function(I){return I.getFullYear()});Gd.every=function(I){return isFinite(I=Math.floor(I))&&0<I?Ua(function(da){da.setFullYear(Math.floor(da.getFullYear()/I)*I);da.setMonth(0,1);da.setHours(0,
0,0,0)},function(da,Sa){da.setFullYear(da.getFullYear()+Sa*I)}):null};var Fd=Gd,$d=Ua(function(I){I.setUTCHours(0,0,0,0)},function(I,da){I.setUTCDate(I.getUTCDate()+da)},function(I,da){return(da-I)/864E5},function(I){return I.getUTCDate()-1}),Wd=Oa(0),ae=Oa(1);Oa(2);Oa(3);var Be=Oa(4);Oa(5);Oa(6);var ff=Ua(function(I){I.setUTCMonth(0,1);I.setUTCHours(0,0,0,0)},function(I,da){I.setUTCFullYear(I.getUTCFullYear()+da)},function(I,da){return da.getUTCFullYear()-I.getUTCFullYear()},function(I){return I.getUTCFullYear()});
ff.every=function(I){return isFinite(I=Math.floor(I))&&0<I?Ua(function(da){da.setUTCFullYear(Math.floor(da.getUTCFullYear()/I)*I);da.setUTCMonth(0,1);da.setUTCHours(0,0,0,0)},function(da,Sa){da.setUTCFullYear(da.getUTCFullYear()+Sa*I)}):null};var df=ff,af={"-":"",_:" ",0:"0"},re=/^\s*\d+/,pf=/^%/,T=/[\\^$*+?|[\]().{}]/g,ta,db,zb,ec,Bc;(function(I){ta=lb(I);db=ta.format;zb=ta.parse;ec=ta.utcFormat;Bc=ta.utcParse;return ta})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let Yb;cd();r.defaultLocale=Td;r.locale=function(I,da){I=I?Bb(I):Pb();da=da?dd(da):Qd();return qa.extend({},I,da)};r.numberFormatDefaultLocale=Pb;r.numberFormatLocale=Bb;r.resetDefaultLocale=function(){Ob();
cd();return Td()};r.resetNumberFormatDefaultLocale=Ob;r.resetTimeFormatDefaultLocale=cd;r.timeFormatDefaultLocale=Qd;r.timeFormatLocale=dd;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[51]=function(cc,Db,Xc,mb){var r=Db(27).Buffer;(function(g,qa){"object"===typeof mb&&"undefined"!==typeof Xc?qa(mb,Db(21),Db(22),Db(50)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],qa):(g="undefined"!==typeof globalThis?globalThis:g||self,qa(g.vega={},g.vega,g.topojson,g.vega))})(this,function(g,qa,hb,Gb){function $b(aa,ma){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const L=yield p.sanitize(aa,
ma),P=L.href;return L.localFile?p.file(P):p.http(P,ma)})}function oc(aa,ma){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ma=qa.extend({},p.options,ma);const L=p.fileAccess,P={href:null};var f;let v;var l=Na.test(aa.replace(xb,""));null!=aa&&"string"===typeof aa&&l||qa.error("Sanitize failure, invalid URI: "+qa.stringValue(aa));l=lb.test(aa);(f=ma.baseURL)&&!l&&(aa.startsWith("/")||f.endsWith("/")||(aa="/"+aa),aa=f+aa);v=(f=aa.startsWith("file://"))||"file"===ma.mode||
"http"!==ma.mode&&!l&&L;f?aa=aa.slice(7):aa.startsWith("//")&&("file"===ma.defaultProtocol?(aa=aa.slice(2),v=!0):aa=(ma.defaultProtocol||"http")+":"+aa);Object.defineProperty(P,"localFile",{value:!!v});P.href=aa;ma.target&&(P.target=ma.target+"");ma.rel&&(P.rel=ma.rel+"");"image"===ma.context&&ma.crossOrigin&&(P.crossOrigin=ma.crossOrigin+"");return P})}function kc(aa){return aa?ma=>new Promise((p,L)=>{aa.readFile(ma,(P,f)=>{P?L(P):p(f)})}):yc}function yc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){qa.error("No file system access.")})}
function Ab(aa){return aa?function(ma,p){const L=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var P=qa.extend({},L.options.http,p);const f=p&&p.response;P=yield aa(ma,P);return P.ok?qa.isFunction(P[f])?P[f]():P.text():qa.error(P.status+""+P.statusText)})}:gc}function gc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){qa.error("No HTTP fetch method available.")})}function rc(aa,ma){if(!aa||!aa.length)return"unknown";const p=aa.length,L=Zb.length,P=Zb.map((f,
v)=>v+1);for(let f=0,v=0,l,C;f<p;++f)for(C=ma?aa[f][ma]:aa[f],l=0;l<L;++l)if(P[l]&&null!=C&&C===C&&!Zb[l](C)&&(P[l]=0,++v,v===Zb.length))return"string";return nb[P.reduce((f,v)=>0===f?v:f,0)-1]}function Va(aa,ma){return ma.reduce((p,L)=>{p[L]=rc(aa,L);return p},{})}function qb(aa){return new Function("d","return {"+aa.map(function(ma,p){return JSON.stringify(ma)+": d["+p+'] || ""'}).join(",")+"}")}function Kb(aa,ma){var p=qb(aa);return function(L,P){return ma(p(L),P,aa)}}function Ob(aa){var ma=Object.create(null),
p=[];aa.forEach(function(L){for(var P in L)P in ma||p.push(ma[P]=P)});return p}function Bb(aa,ma){aa+="";var p=aa.length;return p<ma?Array(ma-p+1).join(0)+aa:aa}function Pb(aa){function ma(l,C){function B(){if(X)return Y;if(u)return u=!1,la;var ua,Ja=G,Wa;if(34===l.charCodeAt(Ja)){for(;G++<D&&34!==l.charCodeAt(G)||34===l.charCodeAt(++G););(ua=G)>=D?X=!0:10===(Wa=l.charCodeAt(G++))?u=!0:13===Wa&&(u=!0,10===l.charCodeAt(G)&&++G);return l.slice(Ja+1,ua-1).replace(/""/g,'"')}for(;G<D;){if(10===(Wa=l.charCodeAt(ua=
G++)))u=!0;else if(13===Wa)u=!0,10===l.charCodeAt(G)&&++G;else if(Wa!==v)continue;return l.slice(Ja,ua)}return X=!0,l.slice(Ja,D)}var z=[],D=l.length,G=0,U=0,Aa,X=0>=D,u=!1;10===l.charCodeAt(D-1)&&--D;for(13===l.charCodeAt(D-1)&&--D;(Aa=B())!==Y;){for(var K=[];Aa!==la&&Aa!==Y;)K.push(Aa),Aa=B();C&&null==(K=C(K,U++))||z.push(K)}return z}function p(l,C){return l.map(function(B){return C.map(function(z){return P(B[z])}).join(aa)})}function L(l){return l.map(P).join(aa)}function P(l){if(null==l)l="";
else{if(l instanceof Date){var C=l.getUTCHours();var B=l.getUTCMinutes(),z=l.getUTCSeconds(),D=l.getUTCMilliseconds();if(isNaN(l))l="Invalid Date";else{var G=l.getUTCFullYear();l=(0>G?"-"+Bb(-G,6):9999<G?"+"+Bb(G,6):Bb(G,4))+"-"+Bb(l.getUTCMonth()+1,2)+"-"+Bb(l.getUTCDate(),2)+(D?"T"+Bb(C,2)+":"+Bb(B,2)+":"+Bb(z,2)+"."+Bb(D,3)+"Z":z?"T"+Bb(C,2)+":"+Bb(B,2)+":"+Bb(z,2)+"Z":B||C?"T"+Bb(C,2)+":"+Bb(B,2)+"Z":"")}C=l}else C=f.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l;l=C}return l}var f=new RegExp('["'+
aa+"\n\r]"),v=aa.charCodeAt(0);return{parse:function(l,C){var B,z;l=ma(l,function(D,G){if(B)return B(D,G-1);z=D;B=C?Kb(D,C):qb(D)});l.columns=z||[];return l},parseRows:ma,format:function(l,C){null==C&&(C=Ob(l));return[C.map(P).join(aa)].concat(p(l,C)).join("\n")},formatBody:function(l,C){null==C&&(C=Ob(l));return p(l,C).join("\n")},formatRows:function(l){return l.map(L).join("\n")},formatRow:L,formatValue:P}}function Ua(aa){const ma=function(p,L){const P={delimiter:aa};return pb(p,L?qa.extend(L,P):
P)};ma.responseType="text";return ma}function pb(aa,ma){ma.header&&(aa=ma.header.map(qa.stringValue).join(ma.delimiter)+"\n"+aa);return Pb(ma.delimiter).parse(aa+"")}function Oa(aa,ma){const p=ma&&ma.property?qa.field(ma.property):qa.identity;var L;if(L=qa.isObject(aa))L=!("function"===typeof r&&qa.isFunction(r.isBuffer)&&r.isBuffer(aa));L?(aa=p(aa),!qa.isArray(aa)&&qa.isIterable(aa)&&(aa=[...aa]),ma=ma&&ma.copy?JSON.parse(JSON.stringify(aa)):aa):ma=p(JSON.parse(aa));return ma}function Da(aa,ma){let p,
L,P,f;aa=Oa(aa,ma);ma&&ma.feature?(p=hb.feature,P=ma.feature):ma&&ma.mesh?(p=hb.mesh,P=ma.mesh,f=Ha[ma.filter]):qa.error("Missing TopoJSON feature or mesh parameter.");return(L=(L=aa.objects[P])?p(aa,L,f):qa.error("Invalid TopoJSON object: "+P))&&L.features||[L]}function Pa(aa,ma){return 1<arguments.length?(Fa[aa]=ma,this):qa.hasOwnProperty(Fa,aa)?Fa[aa]:null}function kb(aa,ma,p,L){if(aa.length){var P=Gb.timeFormatDefaultLocale();p=p||P.timeParse;L=L||P.utcParse;P=aa.columns||Object.keys(aa[0]);var f,
v;"auto"===ma&&(ma=Va(aa,P));P=Object.keys(ma);var l=P.map(G=>{var U=ma[G];if(U&&(U.startsWith("date:")||U.startsWith("utc:"))){G=U.split(/:(.+)?/,2);U=G[1];if("'"===U[0]&&"'"===U[U.length-1]||'"'===U[0]&&'"'===U[U.length-1])U=U.slice(1,-1);return("utc"===G[0]?L:p)(U)}if(!Nb[U])throw Error("Illegal format pattern: "+G+":"+U);return Nb[U]});var C=0;var B=aa.length;for(v=P.length;C<B;++C){var z=aa[C];for(f=0;f<v;++f){var D=P[f];z[D]=l[f](z[D])}}}}const lb=/^(data:|([A-Za-z]+:)?\/\/)/,Na=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
xb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ob=aa=>!Number.isNaN(+aa)&&!(aa instanceof Date),Nb={boolean:qa.toBoolean,integer:qa.toNumber,number:qa.toNumber,date:qa.toDate,string:qa.toString,unknown:qa.identity},Zb=[aa=>"true"===aa||"false"===aa||!0===aa||!1===aa,aa=>ob(aa)&&Number.isInteger(+aa),ob,aa=>!Number.isNaN(Date.parse(aa))],nb=["boolean","integer","number","date"];var la={},Y={};pb.responseType="text";Oa.responseType="json";const Ha={interior:(aa,ma)=>aa!==ma,exterior:(aa,
ma)=>aa===ma};Da.responseType="json";const Fa={dsv:pb,csv:Ua(","),tsv:Ua("\t"),json:Oa,topojson:Da},cb=function(aa,ma){return p=>({options:p||{},sanitize:oc,load:$b,fileAccess:!!ma,file:kc(ma),http:Ab(aa)})}("undefined"!==typeof fetch&&fetch,null);g.format=Fa;g.formats=Pa;g.inferType=rc;g.inferTypes=Va;g.loader=cb;g.read=function(aa,ma,p,L){ma=ma||{};const P=Pa(ma.type||"json");P||qa.error("Unknown data format type: "+ma.type);aa=P(aa,ma);ma.parse&&kb(aa,ma.parse,p,L);qa.hasOwnProperty(aa,"columns")&&
delete aa.columns;return aa};g.responseType=function(aa){return(aa=Pa(aa))&&aa.responseType||"text"};g.typeParsers=Nb;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[52]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(51),Db(50)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb){function Gb(f){const v=f||g.identity,l=[],C={};l.add=B=>{const z=v(B);C[z]||(C[z]=1,l.push(B));return l};l.remove=B=>{const z=v(B);C[z]&&(C[z]=0,B=l.indexOf(B),
0<=B&&l.splice(B,1));return l};return l}function $b(f,v){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield v(f)}catch(l){f.error(l)}})}function oc(f){f=f===Object(f)?f:{data:f};if(!f[Y]){var v=Ha++;f[Y]=v}return f}function kc(f,v){for(const l in f)v[l]=f[l];return v}function yc(f){return f&&f.constructor===Ab}function Ab(){const f=[],v=[],l=[],C=[],B=[];let z=null,D=!1;return{constructor:Ab,insert(G){G=g.array(G);const U=G.length;for(let Aa=0;Aa<U;++Aa)f.push(G[Aa]);return this},
remove(G){const U=g.isFunction(G)?C:v;G=g.array(G);const Aa=G.length;for(let X=0;X<Aa;++X)U.push(G[X]);return this},modify(G,U,Aa){U={field:U,value:g.constant(Aa)};g.isFunction(G)?(U.filter=G,B.push(U)):(U.tuple=G,l.push(U));return this},encode(G,U){g.isFunction(G)?B.push({filter:G,field:U}):l.push({tuple:G,field:U});return this},clean(G){z=G;return this},reflow(){D=!0;return this},pulse(G,U){function Aa(Ca,Za,Ib){Ib?Ca[Za]=Ib(Ca):G.encode=Za;D||(u[Ca[Y]]=Ca)}const X={},u={};let K,ua,Ja,Wa,ab,W;K=
0;for(ua=U.length;K<ua;++K)X[U[K][Y]]=1;K=0;for(ua=v.length;K<ua;++K)ab=v[K],X[ab[Y]]=-1;K=0;for(ua=C.length;K<ua;++K)Wa=C[K],U.forEach(Ca=>{Wa(Ca)&&(X[Ca[Y]]=-1)});K=0;for(ua=f.length;K<ua;++K)ab=f[K],W=ab[Y],X[W]?X[W]=1:G.add.push(oc(f[K]));K=0;for(ua=U.length;K<ua;++K)ab=U[K],0>X[ab[Y]]&&G.rem.push(ab);K=0;for(ua=l.length;K<ua;++K)Ja=l[K],ab=Ja.tuple,Wa=Ja.field,W=X[ab[Y]],0<W&&(Aa(ab,Wa,Ja.value),G.modifies(Wa));K=0;for(ua=B.length;K<ua;++K)Ja=B[K],Wa=Ja.filter,U.forEach(Ca=>{Wa(Ca)&&0<X[Ca[Y]]&&
Aa(Ca,Ja.field,Ja.value)}),G.modifies(Ja.field);if(D)G.mod=v.length||C.length?U.filter(Ca=>0<X[Ca[Y]]):U.slice();else for(W in u)G.mod.push(u[W]);(z||null==z&&(v.length||C.length))&&G.clean(!0);return G}}}function gc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function rc(f,v,l,C){this.id=++Fa;this.value=f;this.qrank=this.rank=this.stamp=-1;this.flags=0;v&&(this._update=v);l&&this.parameters(l,C)}function Va(f){return function(v){const l=this.flags;if(0===arguments.length)return!!(l&
f);this.flags=v?l|f:l&~f;return this}}function qb(f,v,l){this.id=++aa;this.value=null;l&&(this.receive=l);f&&(this._filter=f);v&&(this._apply=v)}function Kb(f,v,l){return new qb(f,v,l)}function Ob(f){let v;const l=new Promise(C=>v=C);l.requests=0;l.done=()=>{0===--l.requests&&(f._pending=null,v(f))};return f._pending=l}function Bb(f,v,l,C,B,z){const D=g.extend({},z,ma);let G;g.isFunction(l)||(l=g.constant(l));void 0===C?B=U=>f.touch(l(U)):g.isFunction(C)?(G=new rc(null,C,B,!1),B=U=>{G.evaluate(U);
U=l(U);const Aa=G.value;yc(Aa)?f.pulse(U,Aa,z):f.update(U,Aa,D)}):B=U=>f.update(l(U),C,D);v.apply(B)}function Pb(f,v,l,C,B,z){void 0===C?v.targets().add(l):(z=z||{},C=new rc(null,Ua(l,C),B,!1),C.modified(z.force),C.rank=v.rank,v.targets().add(C),l&&(C.skip(!0),C.value=l.value,C.targets().add(l),f.connect(l,[C])))}function Ua(f,v){v=g.isFunction(v)?v:g.constant(v);return f?function(l,C){l=v(l,C);f.skip()||(f.skip(l!==this.value).value=l);return l}:v}function pb(f,v,l){this.dataflow=f;this.stamp=null==
v?-1:v;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=l||null}function Oa(f,v){const l=[];g.visitArray(f,v,C=>l.push(C));return l}function Da(f,v){const l={};f.visit(v,C=>{l[C[Y]]=1});return C=>l[C[Y]]?null:C}function Pa(f,v){return f?(l,C)=>f(l,C)&&v(l,C):v}function kb(f,v,l,C){const B=l.length;let z=0;this.dataflow=f;this.stamp=v;this.fields=null;this.encode=C||null;this.pulses=l;for(f=0;f<B;++f)if(C=l[f],C.stamp===v){if(C.fields){const D=this.fields||(this.fields={});for(const G in C.fields)D[G]=
1}C.changed(this.ADD)&&(z|=this.ADD);C.changed(this.REM)&&(z|=this.REM);C.changed(this.MOD)&&(z|=this.MOD)}this.changes=z}function lb(f){f.error("Dataflow already running. Use runAsync() to chain invocations.");return f}function Na(f,v){if(v&&v.stamp===f.stamp)return v;f=f.fork();v&&v!==p&&(f.source=v.source);return f}function xb(f){let v=[];return{clear:()=>v=[],size:()=>v.length,peek:()=>v[0],push:l=>{v.push(l);return ob(v,0,v.length-1,f)},pop:()=>{var l=v.pop();let C;if(v.length){C=v[0];v[0]=l;
l=v;var B=0;const z=B,D=l.length,G=l[B];let U=(B<<1)+1,Aa;for(;U<D;)Aa=U+1,Aa<D&&0<=f(l[U],l[Aa])&&(U=Aa),l[B]=l[U],B=U,U=(B<<1)+1;l[B]=G;ob(l,z,B,f)}else C=l;return C}}}function ob(f,v,l,C){let B,z;const D=f[l];for(;l>v;)if(z=l-1>>1,B=f[z],0>C(D,B))f[l]=B,l=z;else break;return f[l]=D}function Nb(){this.logger(g.logger());this.logLevel(g.Error);this._rank=this._clock=0;this._locale=hb.defaultLocale();try{this._loader=qa.loader()}catch(f){}this._touched=Gb(g.id);this._input={};this._pulse=null;this._heap=
xb((f,v)=>f.qrank-v.qrank);this._postrun=[]}function Zb(f){return function(){return this._log[f].apply(this,arguments)}}function nb(f,v){rc.call(this,f,null,v)}function la(f){f=f&&f.toLowerCase();return g.hasOwnProperty(P,f)?P[f]:null}const Y=Symbol("vega_id");let Ha=1;gc.prototype={set(f,v,l,C){const B=this[f],z=this["_:mod:_"];if(null!=v&&0<=v){if(B[v]!==l||C)B[v]=l,z[v+":"+f]=-1,z[f]=-1}else if(B!==l||C)this[f]=l,z[f]=g.isArray(l)?1+l.length:-1;return this},modified(f,v){const l=this["_:mod:_"];
if(!arguments.length){for(var C in l)if(l[C])return!0;return!1}if(g.isArray(f)){for(C=0;C<f.length;++C)if(l[f[C]])return!0;return!1}return null!=v&&0<=v?v+1<l[f]||!!l[v+":"+f]:!!l[f]},clear(){this["_:mod:_"]={};return this}};let Fa=0;const cb=new gc;rc.prototype={targets(){return this._targets||(this._targets=Gb(g.id))},set(f){return this.value!==f?(this.value=f,1):0},skip:Va(1),modified:Va(2),parameters(f,v,l){v=!1!==v;const C=this._argval=this._argval||new gc,B=this._argops=this._argops||[],z=[];
let D,G,U,Aa;const X=(u,K,ua)=>{ua instanceof rc?(ua!==this&&(v&&ua.targets().add(this),z.push(ua)),B.push({op:ua,name:u,index:K})):C.set(u,K,ua)};for(D in f)if(G=f[D],"pulse"===D)g.array(G).forEach(u=>{u instanceof rc?u!==this&&(u.targets().add(this),z.push(u)):g.error("Pulse parameters must be operator instances.")}),this.source=G;else if(g.isArray(G))for(C.set(D,-1,Array(U=G.length)),Aa=0;Aa<U;++Aa)X(D,Aa,G[Aa]);else X(D,-1,G);this.marshall().clear();l&&(B.initonly=!0);return z},marshall(f){const v=
this._argval||cb,l=this._argops;let C,B,z,D;if(l){const G=l.length;for(B=0;B<G;++B)C=l[B],z=C.op,D=z.modified()&&z.stamp===f,v.set(C.name,C.index,z.value,D);if(l.initonly){for(B=0;B<G;++B)C=l[B],C.op.targets().remove(this);this._update=this._argops=null}}return v},detach(){const f=this._argops;let v,l;if(f)for(v=0,l=f.length;v<l;++v){var C=f[v];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(f){var v=this._update;if(v){const l=this.marshall(f.stamp);v=v.call(this,
l,f);l.clear();if(v!==this.value)this.value=v;else if(!this.modified())return f.StopPropagation}},run(f){if(f.stamp<this.stamp)return f.StopPropagation;let v;this.skip()?(this.skip(!1),v=0):v=this.evaluate(f);return this.pulse=v||f}};let aa=0;qb.prototype={_filter:g.truthy,_apply:g.identity,targets(){return this._targets||(this._targets=Gb(g.id))},consume(f){if(!arguments.length)return!!this._consume;this._consume=!!f;return this},receive(f){if(this._filter(f)){const v=this.value=this._apply(f),l=
this._targets,C=l?l.length:0;for(let B=0;B<C;++B)l[B].receive(v);this._consume&&(f.preventDefault(),f.stopPropagation())}},filter(f){f=Kb(f);this.targets().add(f);return f},apply(f){f=Kb(null,f);this.targets().add(f);return f},merge(){const f=Kb();this.targets().add(f);for(let v=0,l=arguments.length;v<l;++v)arguments[v].targets().add(f);return f},throttle(f){let v=-1;return this.filter(()=>{const l=Date.now();return l-v>f?(v=l,1):0})},debounce(f){const v=Kb();this.targets().add(Kb(null,null,g.debounce(f,
l=>{const C=l.dataflow;v.receive(l);C&&C.run&&C.run()})));return v},between(f,v){let l=!1;f.targets().add(Kb(null,null,()=>l=!0));v.targets().add(Kb(null,null,()=>l=!1));return this.filter(()=>l)},detach(){this._filter=g.truthy;this._targets=null}};const ma={skip:!0},p={};pb.prototype={StopPropagation:p,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(f){return(new pb(this.dataflow)).init(this,f)},clone(){const f=this.fork(7);f.add=f.add.slice();f.rem=
f.rem.slice();f.mod=f.mod.slice();f.source&&(f.source=f.source.slice());return f.materialize(23)},addAll(){let f=this;f.source&&f.add!==f.rem&&(f.rem.length||f.source.length!==f.add.length)&&(f=(new pb(this.dataflow)).init(this),f.add=f.source,f.rem=[]);return f},init(f,v){this.stamp=f.stamp;this.encode=f.encode;!f.fields||v&64||(this.fields=f.fields);v&1?(this.addF=f.addF,this.add=f.add):(this.addF=null,this.add=[]);v&2?(this.remF=f.remF,this.rem=f.rem):(this.remF=null,this.rem=[]);v&4?(this.modF=
f.modF,this.mod=f.mod):(this.modF=null,this.mod=[]);v&32?this.source=this.srcF=null:(this.srcF=f.srcF,this.source=f.source,f.cleans&&(this.cleans=f.cleans));return this},runAfter(f){this.dataflow.runAfter(f)},changed(f){f=f||7;return f&1&&this.add.length||f&2&&this.rem.length||f&4&&this.mod.length},reflow(f){if(f)return this.fork(7).reflow();f=this.add.length;const v=this.source&&this.source.length;v&&v!==f&&(this.mod=this.source,f&&this.filter(4,Da(this,1)));return this},clean(f){return arguments.length?
(this.cleans=!!f,this):this.cleans},modifies(f){const v=this.fields||(this.fields={});g.isArray(f)?f.forEach(l=>v[l]=!0):v[f]=!0;return this},modified(f,v){const l=this.fields;return(v||this.mod.length)&&l?arguments.length?g.isArray(f)?f.some(C=>l[C]):l[f]:!!l:!1},filter(f,v){f&1&&(this.addF=Pa(this.addF,v));f&2&&(this.remF=Pa(this.remF,v));f&4&&(this.modF=Pa(this.modF,v));f&16&&(this.srcF=Pa(this.srcF,v));return this},materialize(f){f=f||7;f&1&&this.addF&&(this.add=Oa(this.add,this.addF),this.addF=
null);f&2&&this.remF&&(this.rem=Oa(this.rem,this.remF),this.remF=null);f&4&&this.modF&&(this.mod=Oa(this.mod,this.modF),this.modF=null);f&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(f,v){if(f&16)return g.visitArray(this.source,this.srcF,v),this;f&1&&g.visitArray(this.add,this.addF,v);f&2&&g.visitArray(this.rem,this.remF,v);f&4&&g.visitArray(this.mod,this.modF,v);const l=this.source;f&8&&l&&(f=this.add.length+this.mod.length,f!==l.length&&(f?g.visitArray(l,
Da(this,5),v):g.visitArray(l,this.srcF,v)));return this}};g.inherits(kb,pb,{fork(f){const v=(new pb(this.dataflow)).init(this,f&this.NO_FIELDS);void 0!==f&&(f&v.ADD&&this.visit(v.ADD,l=>v.add.push(l)),f&v.REM&&this.visit(v.REM,l=>v.rem.push(l)),f&v.MOD&&this.visit(v.MOD,l=>v.mod.push(l)));return v},changed(f){return this.changes&f},modified(f){const v=this.fields;return v&&this.changes&this.MOD?g.isArray(f)?f.some(l=>v[l]):v[f]:0},filter(){g.error("MultiPulse does not support filtering.")},materialize(){g.error("MultiPulse does not support materialization.")},
visit(f,v){const l=this.pulses,C=l.length;let B=0;if(f&this.SOURCE)for(;B<C;++B)l[B].visit(f,v);else for(;B<C;++B)l[B].stamp===this.stamp&&l[B].visit(f,v);return this}});const L={skip:!1,force:!1};Nb.prototype={stamp(){return this._clock},loader(f){return arguments.length?(this._loader=f,this):this._loader},locale(f){return arguments.length?(this._locale=f,this):this._locale},logger(f){return arguments.length?(this._log=f,this):this._log},error:Zb("error"),warn:Zb("warn"),info:Zb("info"),debug:Zb("debug"),
logLevel:Zb("level"),cleanThreshold:1E4,add:function(f,v,l,C){let B=1;f instanceof rc||(f&&f.prototype instanceof rc?f=new f:g.isFunction(f)?f=new rc(null,f):(B=0,f=new rc(f,v)));this.rank(f);B&&(C=l,l=v);l&&this.connect(f,f.parameters(l,C));this.touch(f);return f},connect:function(f,v){const l=f.rank,C=v.length;for(let B=0;B<C;++B)if(l<v[B].rank){this.rerank(f);break}},rank:function(f){f.rank=++this._rank},rerank:function(f){const v=[f];let l,C,B;for(;v.length;)if(this.rank(l=v.pop()),C=l._targets)for(B=
C.length;0<=--B;)v.push(l=C[B]),l===f&&g.error("Cycle detected in dataflow graph.")},pulse:function(f,v,l){this.touch(f,l||L);l=new pb(this,this._clock+(this._pulse?0:1));const C=f.pulse&&f.pulse.source||[];l.target=f;this._input[f.id]=v.pulse(l,C);return this},touch:function(f,v){v=v||L;this._pulse?this._enqueue(f):this._touched.add(f);v.skip&&f.skip(!0);return this},update:function(f,v,l){l=l||L;(f.set(v)||l.force)&&this.touch(f,l);return this},changeset:Ab,ingest:function(f,v,l){v=this.parse(v,
l);return this.pulse(f,this.changeset().insert(v))},parse:function(f,v){const l=this.locale();return qa.read(f,v,l.timeParse,l.utcParse)},preload:function(f,v,l){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Ob(C);B.requests+=1;const z=yield C.request(v,l);C.pulse(f,C.changeset().remove(g.truthy).insert(z.data||[]));B.done();return z})},request:function(f,v){const l=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=
yield l.loader().load(f,{context:"dataflow",response:qa.responseType(v&&v.type)});try{B=l.parse(B,v)}catch(z){C=-2,l.warn("Data ingestion failed",f,z)}}catch(z){C=-1,l.warn("Loading failed",f,z)}return{data:B,status:C}})},events:function(f,v,l,C){const B=this,z=Kb(l,C);l=function(D){D.dataflow=B;try{z.receive(D)}catch(G){B.error(G)}finally{B.run()}};f="string"===typeof f&&"undefined"!==typeof document?document.querySelectorAll(f):g.array(f);C=f.length;for(let D=0;D<C;++D)f[D].addEventListener(v,l);
return z},on:function(f,v,l,C,B){(f instanceof rc?Pb:Bb)(this,f,v,l,C,B);return this},evaluate:function(f,v,l){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return lb(C);C._pending&&(yield C._pending);v&&(yield $b(C,v));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var z=++C._clock;C._pulse=new pb(C,z,f);C._touched.forEach(X=>C._enqueue(X,!0));C._touched=Gb(g.id);var D=0;let G,U,Aa;try{for(;0<C._heap.size();)G=
C._heap.pop(),G.rank!==G.qrank?C._enqueue(G,!0):(U=G.run(C._getPulse(G,f)),U.then?U=yield U:U.async&&(B.push(U.async),U=p),U!==p&&G._targets&&G._targets.forEach(X=>C._enqueue(X)),++D)}catch(X){C._heap.clear(),Aa=X}C._input={};C._pulse=null;C.debug(`Pulse ${z}: ${D} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(z=C._postrun.sort((X,u)=>u.priority-X.priority),C._postrun=[],D=0;D<z.length;++D)yield $b(C,z[D].callback);l&&(yield $b(C,l));B.length&&Promise.all(B).then(X=>C.runAsync(null,
()=>{X.forEach(u=>{try{u(C)}catch(K){C.error(K)}})}));return C})},run:function(f,v,l){return this._pulse?lb(this):(this.evaluate(f,v,l),this)},runAsync:function(f,v,l){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(f,v,l)).then(B,B);return C._running})},runAfter:function(f,v,l){if(this._pulse||v)this._postrun.push({priority:l||0,callback:f});else try{f(this)}catch(C){this.error(C)}},
_enqueue:function(f,v){const l=f.stamp<this._clock;l&&(f.stamp=this._clock);if(l||v)f.qrank=f.rank,this._heap.push(f)},_getPulse:function(f,v){const l=f.source,C=this._clock;return l&&g.isArray(l)?new kb(this,C,l.map(B=>B.pulse),v):this._input[f.id]||Na(this._pulse,l&&l.pulse)}};g.inherits(nb,rc,{run(f){if(f.stamp<this.stamp)return f.StopPropagation;let v;this.skip()?this.skip(!1):v=this.evaluate(f);v=v||f;v.then?v=v.then(l=>this.pulse=l):v!==f.StopPropagation&&(this.pulse=v);return v},evaluate(f){const v=
this.marshall(f.stamp);f=this.transform(v,f);v.clear();return f},transform(){}});const P={};r.Dataflow=Nb;r.EventStream=qb;r.MultiPulse=kb;r.Operator=rc;r.Parameters=gc;r.Pulse=pb;r.Transform=nb;r.UniqueList=Gb;r.asyncCallback=$b;r.changeset=Ab;r.definition=function(f){return(f=la(f))&&f.Definition||null};r.derive=function(f){return kc(f,oc({}))};r.ingest=oc;r.isChangeSet=yc;r.isTuple=function(f){return!(!f||!f[Y])};r.rederive=kc;r.replace=function(f,v){v[Y]=f[Y];return v};r.stableCompare=function(f,
v){return f?v?(l,C)=>f(l,C)||v(l)[Y]-v(C)[Y]:(l,C)=>f(l,C)||l[Y]-C[Y]:null};r.transform=la;r.transforms=P;r.tupleid=function(f){return f[Y]};Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[53]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(30),Db(52),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb){function Gb(yc,Ab){var gc=[],rc=function(Ua){return Ua(Ob)},Va;if(null==Ab)gc.push(yc);else{var qb={};var Kb=0;for(Va=yc.length;Kb<Va;++Kb){var Ob=yc[Kb];
var Bb=Ab.map(rc);var Pb=qb[Bb];Pb||(qb[Bb]=Pb=[],Pb.dims=Bb,gc.push(Pb));Pb.push(Ob)}}return gc}function $b(yc){qa.Transform.call(this,null,yc)}function oc(yc){qa.Transform.call(this,null,yc)}$b.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};hb.inherits($b,qa.Transform,{transform(yc,Ab){const gc=
Ab.fork(Ab.NO_SOURCE|Ab.NO_FIELDS);if(!this.value||Ab.changed()||yc.modified()){Ab=Ab.materialize(Ab.SOURCE).source;Ab=Gb(Ab,yc.groupby);const rc=(yc.groupby||[]).map(hb.accessorName),Va=rc.length,qb=yc.as||[hb.accessorName(yc.x),hb.accessorName(yc.y)],Kb=[];Ab.forEach(Ob=>{g.regressionLoess(Ob,yc.x,yc.y,yc.bandwidth||.3).forEach(Bb=>{const Pb={};for(let Ua=0;Ua<Va;++Ua)Pb[rc[Ua]]=Ob.dims[Ua];Pb[qb[0]]=Bb[0];Pb[qb[1]]=Bb[1];Kb.push(qa.ingest(Pb))})});this.value&&(gc.rem=this.value);this.value=gc.add=
gc.source=Kb}return gc}});const kc={constant:g.regressionConstant,linear:g.regressionLinear,log:g.regressionLog,exp:g.regressionExp,pow:g.regressionPow,quad:g.regressionQuad,poly:g.regressionPoly};oc.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(kc)},{name:"order",type:"number","default":3},{name:"extent",
type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};hb.inherits(oc,qa.Transform,{transform(yc,Ab){const gc=Ab.fork(Ab.NO_SOURCE|Ab.NO_FIELDS);if(!this.value||Ab.changed()||yc.modified()){var rc=Ab.materialize(Ab.SOURCE).source;rc=Gb(rc,yc.groupby);const Va=(yc.groupby||[]).map(hb.accessorName),qb=yc.method||"linear",Kb=null==yc.order?3:yc.order,Ob="poly"===qb?Kb:"quad"===qb?2:1,Bb=yc.as||[hb.accessorName(yc.x),hb.accessorName(yc.y)],Pb=
kc[qb],Ua=[];let pb=yc.extent;hb.hasOwnProperty(kc,qb)||hb.error("Invalid regression method: "+qb);null!=pb&&"log"===qb&&0>=pb[0]&&(Ab.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),pb=null);rc.forEach(Oa=>{if(Oa.length<=Ob)Ab.dataflow.warn("Skipping regression with more parameters than data points.");else{var Da=Pb(Oa,yc.x,yc.y,Kb);if(yc.params)Ua.push(qa.ingest({keys:Oa.dims,coef:Da.coef,rSquared:Da.rSquared}));else{var Pa=pb||hb.extent(Oa,yc.x),kb=lb=>{const Na={};
for(let xb=0;xb<Va.length;++xb)Na[Va[xb]]=Oa.dims[xb];Na[Bb[0]]=lb[0];Na[Bb[1]]=lb[1];Ua.push(qa.ingest(Na))};"linear"===qb||"constant"===qb?Pa.forEach(lb=>kb([lb,Da.predict(lb)])):g.sampleCurve(Da.predict,Pa,25,200).forEach(kb)}}});this.value&&(gc.rem=this.value);this.value=gc.add=gc.source=Ua}return gc}});r.loess=$b;r.regression=oc})};
shadow$provide[54]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(29),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega))})(this,function(r,g,qa){function hb(la,Y,Ha,Fa,cb){let aa,ma;let p=Y[0],L=Fa[0],P=0,f=0;L>p===L>-p?(aa=p,p=Y[++P]):(aa=L,L=Fa[++f]);let v=0;if(P<la&&f<Ha){if(L>p===L>-p){ma=p+aa;
var l=aa-(ma-p);p=Y[++P]}else ma=L+aa,l=aa-(ma-L),L=Fa[++f];aa=ma;for(0!==l&&(cb[v++]=l);P<la&&f<Ha;)L>p===L>-p?(ma=aa+p,l=ma-aa,l=aa-(ma-l)+(p-l),p=Y[++P]):(ma=aa+L,l=ma-aa,l=aa-(ma-l)+(L-l),L=Fa[++f]),aa=ma,0!==l&&(cb[v++]=l)}for(;P<la;)ma=aa+p,l=ma-aa,l=aa-(ma-l)+(p-l),p=Y[++P],aa=ma,0!==l&&(cb[v++]=l);for(;f<Ha;)ma=aa+L,l=ma-aa,l=aa-(ma-l)+(L-l),L=Fa[++f],aa=ma,0!==l&&(cb[v++]=l);if(0!==aa||0===v)cb[v++]=aa;return v}function Gb(la,Y,Ha,Fa,cb,aa){var ma=(Y-aa)*(Ha-cb),p=(la-cb)*(Fa-aa),L=ma-p;
if(0===ma||0===p||0<ma!==0<p)return L;ma=Math.abs(ma+p);if(Math.abs(L)>=3.3306690738754716E-16*ma)return L;{let z;L=la-cb;const D=Ha-cb;p=Y-aa;const G=Fa-aa;var P=L*G;var f=134217729*L;var v=f-(f-L);var l=L-v;f=134217729*G;f-=f-G;z=G-f;var C=l*z-(P-v*f-l*f-v*z);var B=p*D;f=134217729*p;v=f-(f-p);l=p-v;f=134217729*D;f-=f-D;z=D-f;f=l*z-(B-v*f-l*f-v*z);l=C-f;v=C-l;Bb[0]=C-(l+v)+(v-f);C=P+l;v=C-P;P=P-(C-v)+(l-v);l=P-B;v=P-l;Bb[1]=P-(l+v)+(v-B);B=C+l;v=B-C;Bb[2]=C-(B-v)+(l-v);Bb[3]=B;B=Bb[0];for(P=1;4>
P;P++)B+=Bb[P];P=2.2204460492503146E-16*ma;B>=P||-B>=P?Fa=B:(v=la-L,la=la-(L+v)+(v-cb),v=Ha-D,Ha=Ha-(D+v)+(v-cb),v=Y-p,Y=Y-(p+v)+(v-aa),v=Fa-G,Fa=Fa-(G+v)+(v-aa),0===la&&0===Y&&0===Ha&&0===Fa?Fa=B:(P=1.1093356479670487E-31*ma+3.3306690738754706E-16*Math.abs(B),B+=L*Fa+G*la-(p*Ha+D*Y),B>=P||-B>=P?Fa=B:(P=la*G,f=134217729*la,v=f-(f-la),l=la-v,f=134217729*G,f-=f-G,z=G-f,C=l*z-(P-v*f-l*f-v*z),B=Y*D,f=134217729*Y,v=f-(f-Y),l=Y-v,f=134217729*D,f-=f-D,z=D-f,f=l*z-(B-v*f-l*f-v*z),l=C-f,v=C-l,Oa[0]=C-(l+v)+
(v-f),C=P+l,v=C-P,P=P-(C-v)+(l-v),l=P-B,v=P-l,Oa[1]=P-(l+v)+(v-B),B=C+l,v=B-C,Oa[2]=C-(B-v)+(l-v),Oa[3]=B,aa=hb(4,Bb,4,Oa,Pb),P=L*Fa,f=134217729*L,v=f-(f-L),l=L-v,f=134217729*Fa,f-=f-Fa,z=Fa-f,C=l*z-(P-v*f-l*f-v*z),B=p*Ha,f=134217729*p,v=f-(f-p),l=p-v,f=134217729*Ha,f-=f-Ha,z=Ha-f,f=l*z-(B-v*f-l*f-v*z),l=C-f,v=C-l,Oa[0]=C-(l+v)+(v-f),C=P+l,v=C-P,P=P-(C-v)+(l-v),l=P-B,v=P-l,Oa[1]=P-(l+v)+(v-B),B=C+l,v=B-C,Oa[2]=C-(B-v)+(l-v),Oa[3]=B,aa=hb(aa,Pb,4,Oa,Ua),P=la*Fa,f=134217729*la,v=f-(f-la),l=la-v,f=134217729*
Fa,f-=f-Fa,z=Fa-f,C=l*z-(P-v*f-l*f-v*z),B=Y*Ha,f=134217729*Y,v=f-(f-Y),l=Y-v,f=134217729*Ha,f-=f-Ha,z=Ha-f,f=l*z-(B-v*f-l*f-v*z),l=C-f,v=C-l,Oa[0]=C-(l+v)+(v-f),C=P+l,v=C-P,P=P-(C-v)+(l-v),l=P-B,v=P-l,Oa[1]=P-(l+v)+(v-B),B=C+l,v=B-C,Oa[2]=C-(B-v)+(l-v),Oa[3]=B,Fa=hb(aa,Ua,4,Oa,pb),Fa=pb[Fa-1])))}return-Fa}function $b(la,Y,Ha,Fa){la-=Ha;Y-=Fa;return la*la+Y*Y}function oc(la,Y,Ha,Fa){if(20>=Fa-Ha)for(var cb=Ha+1;cb<=Fa;cb++){for(var aa=la[cb],ma=Y[aa],p=cb-1;p>=Ha&&Y[la[p]]>ma;)la[p+1]=la[p--];la[p+
1]=aa}else{cb=Ha+1;aa=Fa;kc(la,Ha+Fa>>1,cb);Y[la[Ha]]>Y[la[Fa]]&&kc(la,Ha,Fa);Y[la[cb]]>Y[la[Fa]]&&kc(la,cb,Fa);Y[la[Ha]]>Y[la[cb]]&&kc(la,Ha,cb);ma=la[cb];for(p=Y[ma];;){do cb++;while(Y[la[cb]]<p);do aa--;while(Y[la[aa]]>p);if(aa<cb)break;kc(la,cb,aa)}la[Ha+1]=la[aa];la[aa]=ma;Fa-cb+1>=aa-Ha?(oc(la,Y,cb,Fa),oc(la,Y,Ha,aa-1)):(oc(la,Y,Ha,aa-1),oc(la,Y,cb,Fa))}}function kc(la,Y,Ha){const Fa=la[Y];la[Y]=la[Ha];la[Ha]=Fa}function yc(la){return la[0]}function Ab(la){return la[1]}function gc(la){return la[0]}
function rc(la){return la[1]}function Va(la){const {triangles:Y,coords:Ha}=la;for(la=0;la<Y.length;la+=3){const Fa=2*Y[la],cb=2*Y[la+1],aa=2*Y[la+2];if(1E-10<(Ha[aa]-Ha[Fa])*(Ha[cb+1]-Ha[Fa+1])-(Ha[cb]-Ha[Fa])*(Ha[aa+1]-Ha[Fa+1]))return!1}return!0}function qb(la,Y,Ha){return[la+Math.sin(la+Y)*Ha,Y+Math.cos(la-Y)*Ha]}function*Kb(la,Y,Ha,Fa){let cb=0;for(const aa of la)yield Y.call(Fa,aa,cb,la),yield Ha.call(Fa,aa,cb,la),++cb}function Ob(la){g.Transform.call(this,null,la)}const Bb=new Float64Array(4),
Pb=new Float64Array(8),Ua=new Float64Array(12),pb=new Float64Array(16),Oa=new Float64Array(4),Da=Math.pow(2,-52),Pa=new Uint32Array(512);class kb{static from(la,Y=yc,Ha=Ab){const Fa=la.length,cb=new Float64Array(2*Fa);for(let aa=0;aa<Fa;aa++){const ma=la[aa];cb[2*aa]=Y(ma);cb[2*aa+1]=Ha(ma)}return new kb(cb)}constructor(la){const Y=la.length>>1;if(0<Y&&"number"!==typeof la[0])throw Error("Expected coords to contain numbers.");this.coords=la;la=Math.max(2*Y-5,0);this._triangles=new Uint32Array(3*la);
this._halfedges=new Int32Array(3*la);this._hashSize=Math.ceil(Math.sqrt(Y));this._hullPrev=new Uint32Array(Y);this._hullNext=new Uint32Array(Y);this._hullTri=new Uint32Array(Y);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(Y);this._dists=new Float64Array(Y);this.update()}update(){const {coords:la,_hullPrev:Y,_hullNext:Ha,_hullTri:Fa,_hullHash:cb}=this;var aa=la.length>>1,ma=Infinity,p=Infinity,L=-Infinity,P=-Infinity;for(var f=0;f<aa;f++){var v=la[2*f];var l=la[2*
f+1];v<ma&&(ma=v);l<p&&(p=l);v>L&&(L=v);l>P&&(P=l);this._ids[f]=f}L=(ma+L)/2;p=(p+P)/2;ma=Infinity;for(P=0;P<aa;P++)if(f=$b(L,p,la[2*P],la[2*P+1]),f<ma){var C=P;ma=f}p=la[2*C];P=la[2*C+1];ma=Infinity;for(L=0;L<aa;L++)if(L!==C&&(f=$b(p,P,la[2*L],la[2*L+1]),f<ma&&0<f)){var B=L;ma=f}ma=la[2*B];L=la[2*B+1];l=Infinity;for(f=0;f<aa;f++)if(f!==C&&f!==B){v=ma-p;var z=L-P;var D=la[2*f]-p;var G=la[2*f+1]-P,U=v*v+z*z,Aa=D*D+G*G,X=.5/(v*G-z*D);z=(G*U-z*Aa)*X;v=(v*Aa-D*U)*X;v=z*z+v*v;if(v<l){var u=f;l=v}}f=la[2*
u];v=la[2*u+1];if(Infinity===l){for(C=0;C<aa;C++)this._dists[C]=la[2*C]-la[0]||la[2*C+1]-la[1];oc(this._ids,this._dists,0,aa-1);C=new Uint32Array(aa);B=0;for(let K=0,ua=-Infinity;K<aa;K++)u=this._ids[K],this._dists[u]>ua&&(C[B++]=u,ua=this._dists[u]);this.hull=C.subarray(0,B);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>Gb(p,P,ma,L,f,v)&&(l=B,D=ma,U=L,B=u,ma=f,L=v,u=l,f=D,v=U);D=ma-p;l=L-P;U=f-p;G=v-P;Aa=D*D+l*l;X=U*U+G*G;z=.5/(D*G-l*U);l=p+(G*Aa-l*X)*z;D=P+(D*X-U*Aa)*
z;this._cx=l;this._cy=D;for(U=0;U<aa;U++)this._dists[U]=$b(la[2*U],la[2*U+1],l,D);oc(this._ids,this._dists,0,aa-1);this._hullStart=C;aa=3;Ha[C]=Y[u]=B;Ha[B]=Y[C]=u;Ha[u]=Y[B]=C;Fa[C]=0;Fa[B]=1;Fa[u]=2;cb.fill(-1);cb[this._hashKey(p,P)]=C;cb[this._hashKey(ma,L)]=B;cb[this._hashKey(f,v)]=u;this.trianglesLen=0;this._addTriangle(C,B,u,-1,-1,-1);for(let K=0,ua,Ja;K<this._ids.length;K++){p=this._ids[K];P=la[2*p];ma=la[2*p+1];if(0<K&&Math.abs(P-ua)<=Da&&Math.abs(ma-Ja)<=Da)continue;ua=P;Ja=ma;if(p===C||
p===B||p===u)continue;L=0;for(let ab=0,W=this._hashKey(P,ma);ab<this._hashSize&&(L=cb[(W+ab)%this._hashSize],-1===L||L===Ha[L]);ab++);f=L=Y[L];let Wa;for(;Wa=Ha[f],0<=Gb(P,ma,la[2*f],la[2*f+1],la[2*Wa],la[2*Wa+1]);)if(f=Wa,f===L){f=-1;break}if(-1!==f){v=this._addTriangle(f,p,Ha[f],-1,-1,Fa[f]);Fa[p]=this._legalize(v+2);Fa[f]=v;aa++;for(l=Ha[f];Wa=Ha[l],0>Gb(P,ma,la[2*l],la[2*l+1],la[2*Wa],la[2*Wa+1]);)v=this._addTriangle(l,p,Wa,Fa[p],-1,Fa[l]),Fa[p]=this._legalize(v+2),Ha[l]=l,aa--,l=Wa;if(f===L)for(;Wa=
Y[f],0>Gb(P,ma,la[2*Wa],la[2*Wa+1],la[2*f],la[2*f+1]);)v=this._addTriangle(Wa,p,f,-1,Fa[f],Fa[Wa]),this._legalize(v+2),Fa[Wa]=v,Ha[f]=f,aa--,f=Wa;this._hullStart=Y[p]=f;Ha[f]=Y[l]=p;Ha[p]=l;cb[this._hashKey(P,ma)]=p;cb[this._hashKey(la[2*f],la[2*f+1])]=f}}this.hull=new Uint32Array(aa);for(let K=0,ua=this._hullStart;K<aa;K++)this.hull[K]=ua,ua=Ha[ua];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(la,Y){var Ha=Math;
la-=this._cx;Y-=this._cy;la/=Math.abs(la)+Math.abs(Y);return Ha.floor.call(Ha,(0<Y?3-la:1+la)/4*this._hashSize)%this._hashSize}_legalize(la){const {_triangles:Y,_halfedges:Ha,coords:Fa}=this;let cb=0;for(var aa;;){const l=Ha[la];var ma=la-la%3;aa=ma+(la+2)%3;if(-1===l){if(0===cb)break;la=Pa[--cb];continue}const C=l-l%3,B=C+(l+2)%3;var p=Y[aa],L=Y[la],P=Y[ma+(la+1)%3];ma=Y[B];var f=Fa[2*ma],v=Fa[2*ma+1];const z=Fa[2*p]-f,D=Fa[2*p+1]-v,G=Fa[2*L]-f;L=Fa[2*L+1]-v;f=Fa[2*P]-f;v=Fa[2*P+1]-v;P=G*G+L*L;const U=
f*f+v*v;if(0>z*(L*U-P*v)-D*(G*U-P*f)+(z*z+D*D)*(G*v-L*f)){Y[la]=ma;Y[l]=p;p=Ha[B];if(-1===p){ma=this._hullStart;do{if(this._hullTri[ma]===B){this._hullTri[ma]=la;break}ma=this._hullPrev[ma]}while(ma!==this._hullStart)}this._link(la,p);this._link(l,Ha[aa]);this._link(aa,B);aa=C+(l+1)%3;cb<Pa.length&&(Pa[cb++]=aa)}else{if(0===cb)break;la=Pa[--cb]}}return aa}_link(la,Y){this._halfedges[la]=Y;-1!==Y&&(this._halfedges[Y]=la)}_addTriangle(la,Y,Ha,Fa,cb,aa){const ma=this.trianglesLen;this._triangles[ma]=
la;this._triangles[ma+1]=Y;this._triangles[ma+2]=Ha;this._link(ma,Fa);this._link(ma+1,cb);this._link(ma+2,aa);this.trianglesLen+=3;return ma}}class lb{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(la,Y){this._+=`M${this._x0=this._x1=+la},${this._y0=this._y1=+Y}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(la,Y){this._+=`L${this._x1=+la},${this._y1=+Y}`}arc(la,Y,Ha){la=+la;Y=+Y;Ha=+Ha;const Fa=la+Ha,cb=Y;if(0>Ha)throw Error("negative radius");
if(null===this._x1)this._+=`M${Fa},${cb}`;else if(1E-6<Math.abs(this._x1-Fa)||1E-6<Math.abs(this._y1-cb))this._+="L"+Fa+","+cb;Ha&&(this._+=`A${Ha},${Ha},0,1,1,${la-Ha},${Y}A${Ha},${Ha},0,1,1,${this._x1=Fa},${this._y1=cb}`)}rect(la,Y,Ha,Fa){this._+=`M${this._x0=this._x1=+la},${this._y0=this._y1=+Y}h${+Ha}v${+Fa}h${-Ha}Z`}value(){return this._||null}}class Na{constructor(){this._=[]}moveTo(la,Y){this._.push([la,Y])}closePath(){this._.push(this._[0].slice())}lineTo(la,Y){this._.push([la,Y])}value(){return this._.length?
this._:null}}let xb=class{constructor(la,[Y,Ha,Fa,cb]=[0,0,960,500]){if(!((Fa=+Fa)>=(Y=+Y)&&(cb=+cb)>=(Ha=+Ha)))throw Error("invalid bounds");this.delaunay=la;this._circumcenters=new Float64Array(2*la.points.length);this.vectors=new Float64Array(2*la.points.length);this.xmax=Fa;this.xmin=Y;this.ymax=cb;this.ymin=Ha;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:la,hull:Y,triangles:Ha},vectors:Fa}=this;var cb=this.circumcenters=this._circumcenters.subarray(0,
Ha.length/3*2);for(let B=0,z=0,D=Ha.length,G,U;B<D;B+=3,z+=2){var aa=2*Ha[B],ma=2*Ha[B+1],p=2*Ha[B+2],L=la[aa];aa=la[aa+1];var P=la[p],f=la[p+1],v=la[ma]-L,l=la[ma+1]-aa;ma=P-L;p=f-aa;var C=2*(v*p-l*ma);1E-9>Math.abs(C)?(v=1E9,l=2*Ha[0],v*=Math.sign((la[l]-L)*p-(la[l+1]-aa)*ma),G=(L+P)/2-v*p,U=(aa+f)/2+v*ma):(P=1/C,f=v*v+l*l,C=ma*ma+p*p,G=L+(p*f-l*C)*P,U=aa+(v*C-ma*f)*P);cb[z]=G;cb[z+1]=U}cb=Y[Y.length-1];aa=4*cb;p=la[2*cb];v=la[2*cb+1];Fa.fill(0);for(f=0;f<Y.length;++f)cb=Y[f],L=aa,ma=p,P=v,aa=4*
cb,p=la[2*cb],v=la[2*cb+1],Fa[L+2]=Fa[aa]=P-v,Fa[L+3]=Fa[aa+1]=p-ma}render(la){const Y=null==la?la=new lb:void 0,{delaunay:{halfedges:Ha,inedges:Fa,hull:cb},circumcenters:aa,vectors:ma}=this;if(1>=cb.length)return null;for(let v=0,l=Ha.length;v<l;++v){var p=Ha[v];if(!(p<v)){var L=2*Math.floor(v/3);p=2*Math.floor(p/3);this._renderSegment(aa[L],aa[L+1],aa[p],aa[p+1],la)}}L=cb[cb.length-1];for(p=0;p<cb.length;++p){var P=L;L=cb[p];var f=2*Math.floor(Fa[L]/3);const v=aa[f];f=aa[f+1];P*=4;(P=this._project(v,
f,ma[P+2],ma[P+3]))&&this._renderSegment(v,f,P[0],P[1],la)}return Y&&Y.value()}renderBounds(la){const Y=null==la?la=new lb:void 0;la.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return Y&&Y.value()}renderCell(la,Y){const Ha=null==Y?Y=new lb:void 0;la=this._clip(la);if(null!==la&&la.length){Y.moveTo(la[0],la[1]);for(var Fa=la.length;la[0]===la[Fa-2]&&la[1]===la[Fa-1]&&1<Fa;)Fa-=2;for(let cb=2;cb<Fa;cb+=2)la[cb]===la[cb-2]&&la[cb+1]===la[cb-1]||Y.lineTo(la[cb],la[cb+1]);Y.closePath();
return Ha&&Ha.value()}}*cellPolygons(){var {delaunay:{points:la}}=this;for(let Y=0,Ha=la.length/2;Y<Ha;++Y)if(la=this.cellPolygon(Y))la.index=Y,yield la}cellPolygon(la){const Y=new Na;this.renderCell(la,Y);return Y.value()}_renderSegment(la,Y,Ha,Fa,cb){const aa=this._regioncode(la,Y),ma=this._regioncode(Ha,Fa);if(0===aa&&0===ma)cb.moveTo(la,Y),cb.lineTo(Ha,Fa);else if(la=this._clipSegment(la,Y,Ha,Fa,aa,ma))cb.moveTo(la[0],la[1]),cb.lineTo(la[2],la[3])}contains(la,Y,Ha){return(Y=+Y,Y!==Y)||(Ha=+Ha,
Ha!==Ha)?!1:this.delaunay._step(la,Y,Ha)===la}*neighbors(la){const Y=this._clip(la);if(Y)for(const Ha of this.delaunay.neighbors(la))if(la=this._clip(Ha))a:for(let Fa=0,cb=Y.length;Fa<cb;Fa+=2)for(let aa=0,ma=la.length;aa<ma;aa+=2)if(Y[Fa]==la[aa]&&Y[Fa+1]==la[aa+1]&&Y[(Fa+2)%cb]==la[(aa+ma-2)%ma]&&Y[(Fa+3)%cb]==la[(aa+ma-1)%ma]){yield Ha;break a}}_cell(la){const {circumcenters:Y,delaunay:{inedges:Ha,halfedges:Fa,triangles:cb}}=this,aa=Ha[la];if(-1===aa)return null;const ma=[];let p=aa;do{const L=
Math.floor(p/3);ma.push(Y[2*L],Y[2*L+1]);p=2===p%3?p-2:p+1;if(cb[p]!==la)break;p=Fa[p]}while(p!==aa&&-1!==p);return ma}_clip(la){if(0===la&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const Y=this._cell(la);if(null===Y)return null;const {vectors:Ha}=this,Fa=4*la;return Ha[Fa]||Ha[Fa+1]?this._clipInfinite(la,Y,Ha[Fa],Ha[Fa+1],Ha[Fa+2],Ha[Fa+3]):this._clipFinite(la,Y)}_clipFinite(la,Y){const Ha=Y.length;let Fa=null;let cb=Y[Ha-
2],aa=Y[Ha-1];let ma=this._regioncode(cb,aa),p=0;for(let v=0;v<Ha;v+=2){var L=cb;var P=aa;cb=Y[v];aa=Y[v+1];var f=ma;ma=this._regioncode(cb,aa);if(0===f&&0===ma)p=0,Fa?Fa.push(cb,aa):Fa=[cb,aa];else{let l,C;if(0===f){if(null===(L=this._clipSegment(L,P,cb,aa,f,ma)))continue;[P,f,l,C]=L}else{if(null===(L=this._clipSegment(cb,aa,L,P,ma,f)))continue;[l,C,P,f]=L;L=p;p=this._edgecode(P,f);L&&p&&this._edge(la,L,p,Fa,Fa.length);Fa?Fa.push(P,f):Fa=[P,f]}L=p;p=this._edgecode(l,C);L&&p&&this._edge(la,L,p,Fa,
Fa.length);Fa?Fa.push(l,C):Fa=[l,C]}}if(Fa)L=p,p=this._edgecode(Fa[0],Fa[1]),L&&p&&this._edge(la,L,p,Fa,Fa.length);else if(this.contains(la,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Fa}_clipSegment(la,Y,Ha,Fa,cb,aa){for(;;){if(0===cb&&0===aa)return[la,Y,Ha,Fa];if(cb&aa)return null;var ma=void 0;let p;ma=cb||aa;ma&8?(ma=la+(Ha-la)*(this.ymax-Y)/(Fa-Y),p=this.ymax):ma&4?(ma=la+(Ha-la)*(this.ymin-Y)/
(Fa-Y),p=this.ymin):ma&2?(p=Y+(Fa-Y)*(this.xmax-la)/(Ha-la),ma=this.xmax):(p=Y+(Fa-Y)*(this.xmin-la)/(Ha-la),ma=this.xmin);cb?(la=ma,Y=p,cb=this._regioncode(la,Y)):(Ha=ma,Fa=p,aa=this._regioncode(Ha,Fa))}}_clipInfinite(la,Y,Ha,Fa,cb,aa){Y=Array.from(Y);let ma;(ma=this._project(Y[0],Y[1],Ha,Fa))&&Y.unshift(ma[0],ma[1]);(ma=this._project(Y[Y.length-2],Y[Y.length-1],cb,aa))&&Y.push(ma[0],ma[1]);if(Y=this._clipFinite(la,Y))for(let p=0,L=Y.length,P,f=this._edgecode(Y[L-2],Y[L-1]);p<L;p+=2)P=f,f=this._edgecode(Y[p],
Y[p+1]),P&&f&&(p=this._edge(la,P,f,Y,p),L=Y.length);else this.contains(la,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(Y=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return Y}_edge(la,Y,Ha,Fa,cb){for(;Y!==Ha;){let aa,ma;switch(Y){case 5:Y=4;continue;case 4:Y=6;aa=this.xmax;ma=this.ymin;break;case 6:Y=2;continue;case 2:Y=10;aa=this.xmax;ma=this.ymax;break;case 10:Y=8;continue;case 8:Y=9;aa=this.xmin;ma=this.ymax;break;case 9:Y=1;continue;case 1:Y=5,aa=this.xmin,
ma=this.ymin}Fa[cb]===aa&&Fa[cb+1]===ma||!this.contains(la,aa,ma)||(Fa.splice(cb,0,aa,ma),cb+=2)}if(4<Fa.length)for(la=0;la<Fa.length;la+=2)if(Y=(la+2)%Fa.length,Ha=(la+4)%Fa.length,Fa[la]===Fa[Y]&&Fa[Y]===Fa[Ha]||Fa[la+1]===Fa[Y+1]&&Fa[Y+1]===Fa[Ha+1])Fa.splice(Y,2),la-=2;return cb}_project(la,Y,Ha,Fa){let cb=Infinity,aa,ma,p;if(0>Fa){if(Y<=this.ymin)return null;(aa=(this.ymin-Y)/Fa)<cb&&(p=this.ymin,ma=la+(cb=aa)*Ha)}else if(0<Fa){if(Y>=this.ymax)return null;(aa=(this.ymax-Y)/Fa)<cb&&(p=this.ymax,
ma=la+(cb=aa)*Ha)}if(0<Ha){if(la>=this.xmax)return null;(aa=(this.xmax-la)/Ha)<cb&&(ma=this.xmax,p=Y+aa*Fa)}else if(0>Ha){if(la<=this.xmin)return null;(aa=(this.xmin-la)/Ha)<cb&&(ma=this.xmin,p=Y+aa*Fa)}return[ma,p]}_edgecode(la,Y){return(la===this.xmin?1:la===this.xmax?2:0)|(Y===this.ymin?4:Y===this.ymax?8:0)}_regioncode(la,Y){return(la<this.xmin?1:la>this.xmax?2:0)|(Y<this.ymin?4:Y>this.ymax?8:0)}};const ob=2*Math.PI,Nb=Math.pow;class Zb{static from(la,Y=gc,Ha=rc,Fa){if("length"in la){const cb=
la.length,aa=new Float64Array(2*cb);for(let ma=0;ma<cb;++ma){const p=la[ma];aa[2*ma]=Y.call(Fa,p,ma,la);aa[2*ma+1]=Ha.call(Fa,p,ma,la)}la=aa}else la=Float64Array.from(Kb(la,Y,Ha,Fa));return new Zb(la)}constructor(la){this._delaunator=new kb(la);this.inedges=new Int32Array(la.length/2);this._hullIndex=new Int32Array(la.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var la=this._delaunator;const Y=this.points;if(la.hull&&
2<la.hull.length&&Va(la)){this.collinear=Int32Array.from({length:Y.length/2},(ma,p)=>p).sort((ma,p)=>Y[2*ma]-Y[2*p]||Y[2*ma+1]-Y[2*p+1]);la=this.collinear[0];var Ha=this.collinear[this.collinear.length-1];la=[Y[2*la],Y[2*la+1],Y[2*Ha],Y[2*Ha+1]];la=1E-8*Math.hypot(la[3]-la[1],la[2]-la[0]);for(let ma=0,p=Y.length/2;ma<p;++ma)Ha=qb(Y[2*ma],Y[2*ma+1],la),Y[2*ma]=Ha[0],Y[2*ma+1]=Ha[1];this._delaunator=new kb(Y)}else delete this.collinear;la=this.halfedges=this._delaunator.halfedges;Ha=this.hull=this._delaunator.hull;
const Fa=this.triangles=this._delaunator.triangles,cb=this.inedges.fill(-1),aa=this._hullIndex.fill(-1);for(let ma=0,p=la.length;ma<p;++ma){const L=Fa[2===ma%3?ma-2:ma+1];if(-1===la[ma]||-1===cb[L])cb[L]=ma}for(let ma=0,p=Ha.length;ma<p;++ma)aa[Ha[ma]]=ma;2>=Ha.length&&0<Ha.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=Ha[0],cb[Ha[0]]=1,2===Ha.length&&(cb[Ha[1]]=0,this.triangles[1]=Ha[1],this.triangles[2]=Ha[1]))}voronoi(la){return new xb(this,
la)}*neighbors(la){const {inedges:Y,hull:Ha,_hullIndex:Fa,halfedges:cb,triangles:aa,collinear:ma}=this;if(ma){var p=ma.indexOf(la);0<p&&(yield ma[p-1]);p<ma.length-1&&(yield ma[p+1])}else{var L=Y[la];if(-1!==L){var P=L;do{yield(p=aa[P]);P=2===P%3?P-2:P+1;if(aa[P]!==la)break;P=cb[P];if(-1===P){la=Ha[(Fa[la]+1)%Ha.length];la!==p&&(yield la);break}}while(P!==L)}}}find(la,Y,Ha=0){if((la=+la,la!==la)||(Y=+Y,Y!==Y))return-1;const Fa=Ha;let cb;for(;0<=(cb=this._step(Ha,la,Y))&&cb!==Ha&&cb!==Fa;)Ha=cb;return cb}_step(la,
Y,Ha){const {inedges:Fa,hull:cb,_hullIndex:aa,halfedges:ma,triangles:p,points:L}=this;if(-1===Fa[la]||!L.length)return(la+1)%(L.length>>1);let P=la,f=Nb(Y-L[2*la],2)+Nb(Ha-L[2*la+1],2);const v=Fa[la];let l=v;do{let C=p[l];const B=Nb(Y-L[2*C],2)+Nb(Ha-L[2*C+1],2);B<f&&(f=B,P=C);l=2===l%3?l-2:l+1;if(p[l]!==la)break;l=ma[l];if(-1===l){l=cb[(aa[la]+1)%cb.length];if(l!==C&&Nb(Y-L[2*l],2)+Nb(Ha-L[2*l+1],2)<f)return l;break}}while(l!==v);return P}render(la){const Y=null==la?la=new lb:void 0,{points:Ha,halfedges:Fa,
triangles:cb}=this;for(let ma=0,p=Fa.length;ma<p;++ma){var aa=Fa[ma];if(aa<ma)continue;const L=2*cb[ma];aa=2*cb[aa];la.moveTo(Ha[L],Ha[L+1]);la.lineTo(Ha[aa],Ha[aa+1])}this.renderHull(la);return Y&&Y.value()}renderPoints(la,Y){void 0!==Y||la&&"function"===typeof la.moveTo||(Y=la,la=null);Y=void 0==Y?2:+Y;const Ha=null==la?la=new lb:void 0,{points:Fa}=this;for(let cb=0,aa=Fa.length;cb<aa;cb+=2){const ma=Fa[cb],p=Fa[cb+1];la.moveTo(ma+Y,p);la.arc(ma,p,Y,0,ob)}return Ha&&Ha.value()}renderHull(la){const Y=
null==la?la=new lb:void 0,{hull:Ha,points:Fa}=this;var cb=2*Ha[0];const aa=Ha.length;la.moveTo(Fa[cb],Fa[cb+1]);for(cb=1;cb<aa;++cb){const ma=2*Ha[cb];la.lineTo(Fa[ma],Fa[ma+1])}la.closePath();return Y&&Y.value()}hullPolygon(){const la=new Na;this.renderHull(la);return la.value()}renderTriangle(la,Y){const Ha=null==Y?Y=new lb:void 0,{points:Fa,triangles:cb}=this,aa=2*cb[la*=3],ma=2*cb[la+1];la=2*cb[la+2];Y.moveTo(Fa[aa],Fa[aa+1]);Y.lineTo(Fa[ma],Fa[ma+1]);Y.lineTo(Fa[la],Fa[la+1]);Y.closePath();return Ha&&
Ha.value()}*trianglePolygons(){const {triangles:la}=this;for(let Y=0,Ha=la.length/3;Y<Ha;++Y)yield this.trianglePolygon(Y)}trianglePolygon(la){const Y=new Na;this.renderTriangle(la,Y);return Y.value()}}Ob.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},
{name:"as",type:"string","default":"path"}]};const nb=[-1E5,-1E5,1E5,1E5];qa.inherits(Ob,g.Transform,{transform(la,Y){const Ha=la.as||"path",Fa=Y.source;if(!Fa||!Fa.length)return Y;var cb=la.size;cb=cb?[0,0,cb[0],cb[1]]:(cb=la.extent)?[cb[0][0],cb[0][1],cb[1][0],cb[1][1]]:nb;cb=this.value=Zb.from(Fa,la.x,la.y).voronoi(cb);for(let p=0,L=Fa.length;p<L;++p){var aa=cb.cellPolygon(p),ma=Fa[p];if(aa){const P=aa[0][0],f=aa[0][1];let v=aa.length-1;for(;aa[v][0]===P&&aa[v][1]===f;--v);aa="M"+aa.slice(0,v+
1).join("L")+"Z"}else aa=null;ma[Ha]=aa}return Y.reflow(la.modified()).modifies(Ha)}});r.voronoi=Ob})};
shadow$provide[55]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(32),Db(29),Db(21),Db(33),Db(30)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb,Gb,$b){function oc(){function Pb(la){la.width=la.height=1;var Y=Math.sqrt(la.getContext("2d").getImageData(0,
0,1,1).data.length>>2);la.width=2048/Y;la.height=2048/Y;la=la.getContext("2d");la.fillStyle=la.strokeStyle="red";la.textAlign="center";return{context:la,ratio:Y}}function Ua(la,Y,Ha){for(var Fa=Y.x,cb=Y.y,aa=Math.sqrt(pb[0]*pb[0]+pb[1]*pb[1]),ma=ob(pb),p=.5>Zb()?1:-1,L=-p,P,f;P=ma(L+=p);){f=~~P[0];P=~~P[1];if(Math.min(Math.abs(f),Math.abs(P))>=aa)break;Y.x=Fa+f;Y.y=cb+P;if(!(0>Y.x+Y.x0||0>Y.y+Y.y0||Y.x+Y.x1>pb[0]||Y.y+Y.y1>pb[1])){if(!(f=!Ha)){a:{f=pb[0];f>>=5;P=Y.sprite;var v=Y.width>>5;var l=Y.x-
(v<<4);for(var C=l&127,B=32-C,z=Y.y1-Y.y0,D=(Y.y+Y.y0)*f+(l>>5),G=0;G<z;G++){for(var U=l=0;U<=v;U++)if((l<<B|(U<v?(l=P[G*v+U])>>>C:0))&la[D+U]){f=!0;break a}D+=f}f=!1}f=!f}if(f&&(!Ha||Y.x+Y.x1>Ha[0].x&&Y.x+Y.x0<Ha[1].x&&Y.y+Y.y1>Ha[0].y&&Y.y+Y.y0<Ha[1].y)){Ha=Y.sprite;Fa=Y.width>>5;cb=pb[0]>>5;L=Y.x-(Fa<<4);aa=L&127;ma=32-aa;p=Y.y1-Y.y0;L=(Y.y+Y.y0)*cb+(L>>5);for(P=0;P<p;P++){for(v=f=0;v<=Fa;v++)la[L+v]=la[L+v]|f<<ma|(v<Fa?(f=Ha[P*Fa+v])>>>aa:0);L+=cb}Y.sprite=null;return!0}}}return!1}var pb=[256,
256],Oa,Da,Pa,kb,lb,Na,xb,ob=Ab,Nb=[],Zb=Math.random,nb={layout:function(){for(var la=Pb(g.canvas()),Y=gc((pb[0]>>5)*pb[1]),Ha=null,Fa=Nb.length,cb=-1,aa=[],ma=Nb.map(L=>({text:Oa(L),font:Da(L),style:kb(L),weight:lb(L),rotate:Na(L),size:~~(Pa(L)+1E-14),padding:xb(L),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:L})).sort((L,P)=>P.size-L.size);++cb<Fa;){var p=ma[cb];p.x=pb[0]*(Zb()+.5)>>1;p.y=pb[1]*(Zb()+.5)>>1;kc(la,p,ma,cb);p.hasText&&Ua(Y,p,Ha)&&(aa.push(p),Ha?yc(Ha,p):Ha=[{x:p.x+
p.x0,y:p.y+p.y0},{x:p.x+p.x1,y:p.y+p.y1}],p.x-=pb[0]>>1,p.y-=pb[1]>>1)}return aa},words:function(la){return arguments.length?(Nb=la,nb):Nb},size:function(la){return arguments.length?(pb=[+la[0],+la[1]],nb):pb},font:function(la){return arguments.length?(Da=rc(la),nb):Da},fontStyle:function(la){return arguments.length?(kb=rc(la),nb):kb},fontWeight:function(la){return arguments.length?(lb=rc(la),nb):lb},rotate:function(la){return arguments.length?(Na=rc(la),nb):Na},text:function(la){return arguments.length?
(Oa=rc(la),nb):Oa},spiral:function(la){return arguments.length?(ob=Kb[la]||la,nb):ob},fontSize:function(la){return arguments.length?(Pa=rc(la),nb):Pa},padding:function(la){return arguments.length?(xb=rc(la),nb):xb},random:function(la){return arguments.length?(Zb=la,nb):Zb}};return nb}function kc(Pb,Ua,pb,Oa){if(!Ua.sprite){var Da=Pb.context,Pa=Pb.ratio;Da.clearRect(0,0,2048/Pa,2048/Pa);var kb=Pb=0,lb=0,Na=pb.length;for(--Oa;++Oa<Na;){Ua=pb[Oa];Da.save();Da.font=Ua.style+" "+Ua.weight+" "+~~((Ua.size+
1)/Pa)+"px "+Ua.font;var xb=Da.measureText(Ua.text+"m").width*Pa;var ob=Ua.size<<1;if(Ua.rotate){var Nb=Math.sin(Ua.rotate*qb),Zb=Math.cos(Ua.rotate*qb),nb=xb*Zb,la=xb*Nb;Zb*=ob;xb=ob*Nb;xb=Math.max(Math.abs(nb+xb),Math.abs(nb-xb))+31>>5<<5;ob=~~Math.max(Math.abs(la+Zb),Math.abs(la-Zb))}else xb=xb+31>>5<<5;ob>lb&&(lb=ob);2048<=Pb+xb&&(Pb=0,kb+=lb,lb=0);if(2048<=kb+ob)break;Da.translate((Pb+(xb>>1))/Pa,(kb+(ob>>1))/Pa);Ua.rotate&&Da.rotate(Ua.rotate*qb);Da.fillText(Ua.text,0,0);Ua.padding&&(Da.lineWidth=
2*Ua.padding,Da.strokeText(Ua.text,0,0));Da.restore();Ua.width=xb;Ua.height=ob;Ua.xoff=Pb;Ua.yoff=kb;Ua.x1=xb>>1;Ua.y1=ob>>1;Ua.x0=-Ua.x1;Ua.y0=-Ua.y1;Ua.hasText=!0;Pb+=xb}Na=Da.getImageData(0,0,2048/Pa,2048/Pa).data;for(nb=[];0<=--Oa;)if(Ua=pb[Oa],Ua.hasText){xb=Ua.width;Da=xb>>5;ob=Ua.y1-Ua.y0;for(Pa=0;Pa<ob*Da;Pa++)nb[Pa]=0;Pb=Ua.xoff;if(null==Pb)break;kb=Ua.yoff;la=0;Nb=-1;for(lb=0;lb<ob;lb++){for(Pa=0;Pa<xb;Pa++)Zb=Na[2048*(kb+lb)+(Pb+Pa)<<2]?1<<31-Pa%32:0,nb[Da*lb+(Pa>>5)]|=Zb,la|=Zb;la?Nb=
lb:(Ua.y0++,ob--,lb--,kb++)}Ua.y1=Ua.y0+Nb;Ua.sprite=nb.slice(0,(Ua.y1-Ua.y0)*Da)}}}function yc(Pb,Ua){var pb=Pb[0];Pb=Pb[1];Ua.x+Ua.x0<pb.x&&(pb.x=Ua.x+Ua.x0);Ua.y+Ua.y0<pb.y&&(pb.y=Ua.y+Ua.y0);Ua.x+Ua.x1>Pb.x&&(Pb.x=Ua.x+Ua.x1);Ua.y+Ua.y1>Pb.y&&(Pb.y=Ua.y+Ua.y1)}function Ab(Pb){var Ua=Pb[0]/Pb[1];return function(pb){return[Ua*(pb*=.1)*Math.cos(pb),pb*Math.sin(pb)]}}function gc(Pb){for(var Ua=[],pb=-1;++pb<Pb;)Ua[pb]=0;return Ua}function rc(Pb){return"function"===typeof Pb?Pb:function(){return Pb}}
function Va(Pb){qa.Transform.call(this,oc(),Pb)}var qb=Math.PI/180,Kb={archimedean:Ab,rectangular:function(Pb){var Ua=4*Pb[0]/Pb[1],pb=0,Oa=0;return function(Da){var Pa=0>Da?-1:1;switch(Math.sqrt(1+4*Pa*Da)-Pa&3){case 0:pb+=Ua;break;case 1:Oa+=4;break;case 2:pb-=Ua;break;default:Oa-=4}return[pb,Oa]}}};const Ob="x y font fontSize fontStyle fontWeight angle".split(" "),Bb="text font rotate fontSize fontStyle fontWeight".split(" ");Va.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",
type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",
expr:!0},{name:"as",type:"string",array:!0,length:7,"default":Ob}]};hb.inherits(Va,qa.Transform,{transform(Pb,Ua){function pb(xb){xb=Pb[xb];return hb.isFunction(xb)&&Ua.modified(xb.fields)}!Pb.size||Pb.size[0]&&Pb.size[1]||hb.error("Wordcloud size dimensions must be non-zero.");const Oa=Pb.modified();if(Oa||Ua.changed(Ua.ADD_REM)||Bb.some(pb)){var Da=Ua.materialize(Ua.SOURCE).source,Pa=this.value,kb=Pb.as||Ob,lb=Pb.fontSize||14,Na;hb.isFunction(lb)?Na=Pb.fontSizeRange:lb=hb.constant(lb);if(Na){const xb=
lb,ob=Gb.scale("sqrt")().domain(hb.extent(Da,xb)).range(Na);lb=Nb=>ob(xb(Nb))}Da.forEach(xb=>{xb[kb[0]]=NaN;xb[kb[1]]=NaN;xb[kb[3]]=0});Da=Pa.words(Da).text(Pb.text).size(Pb.size||[500,500]).padding(Pb.padding||1).spiral(Pb.spiral||"archimedean").rotate(Pb.rotate||0).font(Pb.font||"sans-serif").fontStyle(Pb.fontStyle||"normal").fontWeight(Pb.fontWeight||"normal").fontSize(lb).random($b.random).layout();lb=Pa.size();Pa=lb[0]>>1;lb=lb[1]>>1;Na=Da.length;for(let xb=0,ob,Nb;xb<Na;++xb)ob=Da[xb],Nb=ob.datum,
Nb[kb[0]]=ob.x+Pa,Nb[kb[1]]=ob.y+lb,Nb[kb[2]]=ob.font,Nb[kb[3]]=ob.size,Nb[kb[4]]=ob.style,Nb[kb[5]]=ob.weight,Nb[kb[6]]=ob.rotate;return Ua.reflow(Oa).modifies(kb)}}});r.wordcloud=Va})};
shadow$provide[56]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(29),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega))})(this,function(r,g,qa){function hb(){let Da=8,Pa=[],kb=new Uint32Array(0),lb=Gb(0,Da),Na=Gb(0,Da);return{data:()=>Pa,seen:()=>{var xb=kb;var ob=Pa.length;xb.length>=ob||(ob=new xb.constructor(ob),
ob.set(xb),xb=ob);return kb=xb},add(xb){for(let ob=0,Nb=Pa.length,Zb=xb.length,nb;ob<Zb;++ob)nb=xb[ob],nb._index=Nb++,Pa.push(nb)},remove(xb,ob){const Nb=Pa.length;xb=Array(Nb-xb);const Zb=Pa;let nb,la,Y;for(la=0;!ob[la]&&la<Nb;++la)xb[la]=Pa[la],Zb[la]=la;for(Y=la;la<Nb;++la)nb=Pa[la],ob[la]?Zb[la]=-1:(Zb[la]=Y,lb[Y]=lb[la],Na[Y]=Na[la],xb[Y]=nb,nb._index=Y++),lb[la]=0;Pa=xb;return Zb},size:()=>Pa.length,curr:()=>lb,prev:()=>Na,reset:xb=>Na[xb]=lb[xb],all:()=>257>Da?255:65537>Da?65535:4294967295,
set(xb,ob){lb[xb]|=ob},clear(xb,ob){lb[xb]&=~ob},resize(xb,ob){if(xb>lb.length||ob>Da)Da=Math.max(ob,Da),lb=Gb(xb,Da,lb),Na=Gb(xb,Da)}}}function Gb(Da,Pa,kb){Da=(257>Pa?Ob:65537>Pa?Bb:Pb)(Da);kb&&Da.set(kb);return Da}function $b(Da,Pa,kb){const lb=1<<Pa;return{one:lb,zero:~lb,range:kb.slice(),bisect:Da.bisect,index:Da.index,size:Da.size,onAdd(Na,xb){var ob=this.bisect(this.range,Na.value);Na=Na.index;const Nb=ob[0];ob=ob[1];const Zb=Na.length;let nb;for(nb=0;nb<Nb;++nb)xb[Na[nb]]|=lb;for(nb=ob;nb<
Zb;++nb)xb[Na[nb]]|=lb;return this}}}function oc(Da,Pa){return null==Da||null==Pa?NaN:Da<Pa?-1:Da>Pa?1:Da>=Pa?0:NaN}function kc(Da,Pa){return null==Da||null==Pa?NaN:Pa<Da?-1:Pa>Da?1:Pa>=Da?0:NaN}function yc(Da){function Pa(xb,ob,Nb=0,Zb=xb.length){if(Nb<Zb){if(0!==kb(ob,ob))return Zb;do{const nb=Nb+Zb>>>1;0>lb(xb[nb],ob)?Nb=nb+1:Zb=nb}while(Nb<Zb)}return Nb}let kb,lb,Na;2!==Da.length?(kb=oc,lb=(xb,ob)=>oc(Da(xb),ob),Na=(xb,ob)=>Da(xb)-ob):(kb=Da===oc||Da===kc?Da:Ab,Na=lb=Da);return{left:Pa,center:function(xb,
ob,Nb=0,Zb=xb.length){Zb=Pa(xb,ob,Nb,Zb-1);return Zb>Nb&&Na(xb[Zb-1],ob)>-Na(xb[Zb],ob)?Zb-1:Zb},right:function(xb,ob,Nb=0,Zb=xb.length){if(Nb<Zb){if(0!==kb(ob,ob))return Zb;do{const nb=Nb+Zb>>>1;0>=lb(xb[nb],ob)?Nb=nb+1:Zb=nb}while(Nb<Zb)}return Nb}}}function Ab(){return 0}function gc(Da,Pa){return Array.from(Pa,kb=>Da[kb])}function rc(){let Da=new Uint32Array(0),Pa=[],kb=0;return{insert:function(lb,Na,xb){if(!Na.length)return[];const ob=kb,Nb=Na.length,Zb=new Uint32Array(Nb);let nb=Array(Nb);var la;
for(la=0;la<Nb;++la)nb[la]=lb(Na[la]),Zb[la]=la;nb=Va(nb,Zb);if(ob){lb=Pa;Na=Da;Pa=Array(ob+Nb);Da=new Uint32Array(ob+Nb);la=nb;var Y=Pa,Ha=Da;let Fa=0,cb=0,aa;for(aa=0;Fa<ob&&cb<Nb;++aa)lb[Fa]<la[cb]?(Y[aa]=lb[Fa],Ha[aa]=Na[Fa++]):(Y[aa]=la[cb],Ha[aa]=Zb[cb++]+xb);for(;Fa<ob;++Fa,++aa)Y[aa]=lb[Fa],Ha[aa]=Na[Fa];for(;cb<Nb;++cb,++aa)Y[aa]=la[cb],Ha[aa]=Zb[cb]+xb}else{if(0<xb)for(la=0;la<Nb;++la)Zb[la]+=xb;Pa=nb;Da=Zb}kb=ob+Nb;return{index:Zb,value:nb}},remove:function(lb,Na){const xb=kb;let ob,Nb,
Zb;for(Nb=0;!Na[Da[Nb]]&&Nb<xb;++Nb);for(Zb=Nb;Nb<xb;++Nb)Na[ob=Da[Nb]]||(Da[Zb]=ob,Pa[Zb]=Pa[Nb],++Zb);kb=xb-lb},bisect:function(lb,Na){let xb;Na?xb=Na.length:(Na=Pa,xb=kb);return[Oa(Na,lb[0],0,xb),pb(Na,lb[1],0,xb)]},reindex:function(lb){for(let Na=0,xb=kb;Na<xb;++Na)Da[Na]=lb[Da[Na]]},index:()=>Da,size:()=>kb}}function Va(Da,Pa){Da.sort.call(Pa,(kb,lb)=>{kb=Da[kb];lb=Da[lb];return kb<lb?-1:kb>lb?1:0});return gc(Da,Pa)}function qb(Da){g.Transform.call(this,hb(),Da);this._dims=this._indices=null}
function Kb(Da){g.Transform.call(this,null,Da)}const Ob=Da=>new Uint8Array(Da),Bb=Da=>new Uint16Array(Da),Pb=Da=>new Uint32Array(Da),Ua=yc(oc),pb=Ua.right,Oa=Ua.left;yc(function(Da){return null===Da?NaN:+Da}).center;qb.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};qa.inherits(qb,g.Transform,{transform(Da,Pa){return this._dims?Da.modified("fields")||Da.fields.some(kb=>
Pa.modified(kb.fields))?this.reinit(Da,Pa):this.eval(Da,Pa):this.init(Da,Pa)},init(Da,Pa){const kb=Da.fields,lb=Da.query,Na=this._indices={},xb=this._dims=[],ob=lb.length;let Nb=0;for(var Zb;Nb<ob;++Nb)Zb=kb[Nb].fname,Zb=Na[Zb]||(Na[Zb]=rc()),xb.push($b(Zb,Nb,lb[Nb]));return this.eval(Da,Pa)},reinit(Da,Pa){const kb=Pa.materialize().fork(),lb=Da.fields,Na=Da.query,xb=this._indices,ob=this._dims,Nb=this.value,Zb=Nb.curr(),nb=Nb.prev(),la=Nb.all(),Y=kb.rem=kb.add,Ha=kb.mod,Fa=Na.length,cb={};let aa;
var ma;let p,L,P,f;nb.set(Zb);Pa.rem.length&&(p=this.remove(Da,Pa,kb));Pa.add.length&&Nb.add(Pa.add);if(Pa.mod.length){L={};var v=Pa.mod;P=0;for(ma=v.length;P<ma;++P)L[v[P]._index]=1}for(P=0;P<Fa;++P)if(f=lb[P],!ob[P]||Da.modified("fields",P)||Pa.modified(f.fields))ma=f.fname,(v=cb[ma])||(xb[ma]=aa=rc(),cb[ma]=v=aa.insert(f,Pa.source,0)),ob[P]=$b(aa,P,Na[P]).onAdd(v,Zb);P=0;for(ma=Nb.data().length;P<ma;++P)p[P]||(nb[P]!==Zb[P]?Y.push(P):L[P]&&Zb[P]!==la&&Ha.push(P));Nb.mask=(1<<Fa)-1;return kb},eval(Da,
Pa){const kb=Pa.materialize().fork(),lb=this._dims.length;let Na=0;Pa.rem.length&&(this.remove(Da,Pa,kb),Na|=(1<<lb)-1);Da.modified("query")&&!Da.modified("fields")&&(Na|=this.update(Da,Pa,kb));Pa.add.length&&(this.insert(Da,Pa,kb),Na|=(1<<lb)-1);Pa.mod.length&&(this.modify(Pa,kb),Na|=(1<<lb)-1);this.value.mask=Na;return kb},insert(Da,Pa,kb){Pa=Pa.add;var lb=this.value;const Na=this._dims,xb=this._indices;Da=Da.fields;const ob={};kb=kb.add;const Nb=lb.size()+Pa.length,Zb=Na.length;let nb=lb.size();
lb.resize(Nb,Zb);lb.add(Pa);const la=lb.curr(),Y=lb.prev(),Ha=lb.all();for(lb=0;lb<Zb;++lb){var Fa=Da[lb].fname;Fa=ob[Fa]||(ob[Fa]=xb[Fa].insert(Da[lb],Pa,nb));Na[lb].onAdd(Fa,la)}for(;nb<Nb;++nb)Y[nb]=Ha,la[nb]!==Ha&&kb.push(nb)},modify(Da,Pa){Pa=Pa.mod;var kb=this.value;const lb=kb.curr();kb=kb.all();Da=Da.mod;let Na,xb,ob;Na=0;for(xb=Da.length;Na<xb;++Na)ob=Da[Na]._index,lb[ob]!==kb&&Pa.push(ob)},remove(Da,Pa,kb){Da=this._indices;var lb=this.value;const Na=lb.curr(),xb=lb.prev();lb=lb.all();const ob=
{};kb=kb.rem;const Nb=Pa.rem;let Zb,nb,la,Y;Zb=0;for(nb=Nb.length;Zb<nb;++Zb)la=Nb[Zb]._index,ob[la]=1,xb[la]=Y=Na[la],Na[la]=lb,Y!==lb&&kb.push(la);for(la in Da)Da[la].remove(nb,ob);this.reindex(Pa,nb,ob);return ob},reindex(Da,Pa,kb){const lb=this._indices,Na=this.value;Da.runAfter(()=>{const xb=Na.remove(Pa,kb);for(const ob in lb)lb[ob].reindex(xb)})},update(Da,Pa,kb){const lb=this._dims,Na=Da.query;Pa=Pa.stamp;const xb=lb.length;let ob=0,Nb,Zb;for(Zb=kb.filters=0;Zb<xb;++Zb)Da.modified("query",
Zb)&&(Nb=Zb,++ob);if(1===ob)ob=lb[Nb].one,this.incrementOne(lb[Nb],Na[Nb],kb.add,kb.rem);else for(ob=Zb=0;Zb<xb;++Zb)Da.modified("query",Zb)&&(ob|=lb[Zb].one,this.incrementAll(lb[Zb],Na[Zb],Pa,kb.add),kb.rem=kb.add);return ob},incrementAll(Da,Pa,kb,lb){var Na=this.value;const xb=Na.seen(),ob=Na.curr();Na=Na.prev();const Nb=Da.index();var Zb=Da.bisect(Da.range),nb=Da.bisect(Pa);const la=nb[0];nb=nb[1];const Y=Zb[0];Zb=Zb[1];const Ha=Da.one;let Fa,cb,aa;if(la<Y)for(Fa=la,cb=Math.min(Y,nb);Fa<cb;++Fa)aa=
Nb[Fa],xb[aa]!==kb&&(Na[aa]=ob[aa],xb[aa]=kb,lb.push(aa)),ob[aa]^=Ha;else if(la>Y)for(Fa=Y,cb=Math.min(la,Zb);Fa<cb;++Fa)aa=Nb[Fa],xb[aa]!==kb&&(Na[aa]=ob[aa],xb[aa]=kb,lb.push(aa)),ob[aa]^=Ha;if(nb>Zb)for(Fa=Math.max(la,Zb),cb=nb;Fa<cb;++Fa)aa=Nb[Fa],xb[aa]!==kb&&(Na[aa]=ob[aa],xb[aa]=kb,lb.push(aa)),ob[aa]^=Ha;else if(nb<Zb)for(Fa=Math.max(Y,nb),cb=Zb;Fa<cb;++Fa)aa=Nb[Fa],xb[aa]!==kb&&(Na[aa]=ob[aa],xb[aa]=kb,lb.push(aa)),ob[aa]^=Ha;Da.range=Pa.slice()},incrementOne(Da,Pa,kb,lb){const Na=this.value.curr(),
xb=Da.index();var ob=Da.bisect(Da.range),Nb=Da.bisect(Pa);const Zb=Nb[0];Nb=Nb[1];const nb=ob[0];ob=ob[1];const la=Da.one;let Y,Ha,Fa;if(Zb<nb)for(Y=Zb,Ha=Math.min(nb,Nb);Y<Ha;++Y)Fa=xb[Y],Na[Fa]^=la,kb.push(Fa);else if(Zb>nb)for(Y=nb,Ha=Math.min(Zb,ob);Y<Ha;++Y)Fa=xb[Y],Na[Fa]^=la,lb.push(Fa);if(Nb>ob)for(Y=Math.max(Zb,ob),Ha=Nb;Y<Ha;++Y)Fa=xb[Y],Na[Fa]^=la,kb.push(Fa);else if(Nb<ob)for(Y=Math.max(nb,Nb),Ha=ob;Y<Ha;++Y)Fa=xb[Y],Na[Fa]^=la,lb.push(Fa);Da.range=Pa.slice()}});Kb.Definition={type:"ResolveFilter",
metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};qa.inherits(Kb,g.Transform,{transform(Da,Pa){const kb=~(Da.ignore||0);Da=Da.filter;const lb=Da.mask;if(0===(lb&kb))return Pa.StopPropagation;Pa=Pa.fork(Pa.ALL);const Na=Da.data(),xb=Da.curr(),ob=Da.prev(),Nb=Zb=>xb[Zb]&kb?null:Na[Zb];Pa.filter(Pa.MOD,Nb);lb&lb-1?(Pa.filter(Pa.ADD,
Zb=>{const nb=xb[Zb]&kb;return!nb&&nb^ob[Zb]&kb?Na[Zb]:null}),Pa.filter(Pa.REM,Zb=>{const nb=xb[Zb]&kb;return!nb||nb^nb^ob[Zb]&kb?null:Na[Zb]})):(Pa.filter(Pa.ADD,Nb),Pa.filter(Pa.REM,Zb=>(xb[Zb]&kb)===lb?Na[Zb]:null));return Pa.filter(Pa.SOURCE,Zb=>Nb(Zb._index))}});r.crossfilter=qb;r.resolvefilter=Kb})};
shadow$provide[57]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega))})(this,function(r,g){function qa(z){this.type=z}function hb(z){switch(z.type){case "ArrayExpression":return z.elements;case "BinaryExpression":case "LogicalExpression":return[z.left,z.right];case "CallExpression":return[z.callee].concat(z.arguments);
case "ConditionalExpression":return[z.test,z.consequent,z.alternate];case "MemberExpression":return[z.object,z.property];case "ObjectExpression":return z.properties;case "Property":return[z.key,z.value];case "UnaryExpression":return[z.argument];default:return[]}}function Gb(z,D){if(!z)throw Error("ASSERT: "+D);}function $b(z){return 48<=z&&57>=z}function oc(z){return 0<="0123456789abcdefABCDEF".indexOf(z)}function kc(z){return 0<="01234567".indexOf(z)}function yc(z){return 10===z||13===z||8232===
z||8233===z}function Ab(z){return 36===z||95===z||65<=z&&90>=z||97<=z&&122>=z||92===z||128<=z&&f.test(String.fromCharCode(z))}function gc(z){return 36===z||95===z||65<=z&&90>=z||97<=z&&122>=z||48<=z&&57>=z||92===z||128<=z&&v.test(String.fromCharCode(z))}function rc(){for(;p<L;){const z=ma.charCodeAt(p);if(32===z||9===z||11===z||12===z||160===z||5760<=z&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(z)||yc(z))++p;else break}}function Va(z){var D=
0;var G="u"===z?4:2;for(z=0;z<G;++z)if(p<L&&oc(ma[p])){var U=ma[p++];D=16*D+"0123456789abcdef".indexOf(U.toLowerCase())}else Na({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(D)}function qb(){var z=ma.charCodeAt(p++);var D=String.fromCharCode(z);92===z&&(117!==ma.charCodeAt(p)&&Na({},"Unexpected token %0","ILLEGAL"),++p,(z=Va("u"))&&"\\"!==z&&Ab(z.charCodeAt(0))||Na({},"Unexpected token %0","ILLEGAL"),D=z);for(;p<L;){z=ma.charCodeAt(p);if(!gc(z))break;++p;D+=String.fromCharCode(z);
92===z&&(D=D.substr(0,D.length-1),117!==ma.charCodeAt(p)&&Na({},"Unexpected token %0","ILLEGAL"),++p,(z=Va("u"))&&"\\"!==z&&gc(z.charCodeAt(0))||Na({},"Unexpected token %0","ILLEGAL"),D+=z)}return D}function Kb(){var z=p,D=ma.charCodeAt(p),G=ma[p];switch(D){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++p,{type:7,value:String.fromCharCode(D),start:z,end:p};default:var U=ma.charCodeAt(p+1);if(61===U)switch(D){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return p+=
2,{type:7,value:String.fromCharCode(D)+String.fromCharCode(U),start:z,end:p};case 33:case 61:return p+=2,61===ma.charCodeAt(p)&&++p,{type:7,value:ma.slice(z,p),start:z,end:p}}}D=ma.substr(p,4);if("\x3e\x3e\x3e\x3d"===D)return p+=4,{type:7,value:D,start:z,end:p};D=D.substr(0,3);if("\x3e\x3e\x3e"===D||"\x3c\x3c\x3d"===D||"\x3e\x3e\x3d"===D)return p+=3,{type:7,value:D,start:z,end:p};D=D.substr(0,2);if(G===D[1]&&0<="+-\x3c\x3e\x26|".indexOf(G)||"\x3d\x3e"===D)return p+=2,{type:7,value:D,start:z,end:p};
"//"===D&&Na({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(G))return++p,{type:7,value:G,start:z,end:p};Na({},"Unexpected token %0","ILLEGAL")}function Ob(){var z=ma[p];Gb($b(z.charCodeAt(0))||"."===z,"Numeric literal must start with a decimal digit or a decimal point");var D=p;var G="";if("."!==z){G=ma[p++];z=ma[p];if("0"===G){if("x"===z||"X"===z){++p;for(G="";p<L&&oc(ma[p]);)G+=ma[p++];0===G.length&&Na({},"Unexpected token %0","ILLEGAL");Ab(ma.charCodeAt(p))&&Na({},
"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+G,16),start:D,end:p}}if(kc(z)){for(G="0"+ma[p++];p<L&&kc(ma[p]);)G+=ma[p++];(Ab(ma.charCodeAt(p))||$b(ma.charCodeAt(p)))&&Na({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(G,8),octal:!0,start:D,end:p}}z&&$b(z.charCodeAt(0))&&Na({},"Unexpected token %0","ILLEGAL")}for(;$b(ma.charCodeAt(p));)G+=ma[p++];z=ma[p]}if("."===z){for(G+=ma[p++];$b(ma.charCodeAt(p));)G+=ma[p++];z=ma[p]}if("e"===z||"E"===z){G+=ma[p++];z=ma[p];
if("+"===z||"-"===z)G+=ma[p++];if($b(ma.charCodeAt(p)))for(;$b(ma.charCodeAt(p));)G+=ma[p++];else Na({},"Unexpected token %0","ILLEGAL")}Ab(ma.charCodeAt(p))&&Na({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(G),start:D,end:p}}function Bb(z,D){let G=z;0<=D.indexOf("u")&&(G=G.replace(/\\u\{([0-9a-fA-F]+)\}/g,(U,Aa)=>{if(1114111>=parseInt(Aa,16))return"x";Na({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(G)}catch(U){Na({},"Invalid regular expression")}try{return new RegExp(z,
D)}catch(U){return null}}function Pb(){rc();if(p>=L)return{type:2,start:p,end:p};var z=ma.charCodeAt(p);if(Ab(z)){z=p;if(92===ma.charCodeAt(p))var D=qb();else a:{for(D=p++;p<L;){var G=ma.charCodeAt(p);if(92===G){p=D;D=qb();break a}if(gc(G))++p;else break}D=ma.slice(D,p)}return{type:1===D.length?3:l.hasOwnProperty(D)?4:"null"===D?5:"true"===D||"false"===D?1:3,value:D,start:z,end:p}}if(40===z||41===z||59===z)return Kb();if(39===z||34===z){var U="";G=!1;z=ma[p];Gb("'"===z||'"'===z,"String literal must starts with a quote");
D=p;for(++p;p<L;){var Aa=ma[p++];if(Aa===z){z="";break}else if("\\"===Aa)if((Aa=ma[p++])&&yc(Aa.charCodeAt(0)))"\r"===Aa&&"\n"===ma[p]&&++p;else switch(Aa){case "u":case "x":if("{"===ma[p]){++p;var X=ma[p];Aa=0;for("}"===X&&Na({},"Unexpected token %0","ILLEGAL");p<L;){X=ma[p++];if(!oc(X))break;Aa=16*Aa+"0123456789abcdef".indexOf(X.toLowerCase())}(1114111<Aa||"}"!==X)&&Na({},"Unexpected token %0","ILLEGAL");Aa=65535>=Aa?String.fromCharCode(Aa):String.fromCharCode((Aa-65536>>10)+55296,(Aa-65536&1023)+
56320);U+=Aa}else U+=Va(Aa);break;case "n":U+="\n";break;case "r":U+="\r";break;case "t":U+="\t";break;case "b":U+="\b";break;case "f":U+="\f";break;case "v":U+="\v";break;default:kc(Aa)?(X="01234567".indexOf(Aa),0!==X&&(G=!0),p<L&&kc(ma[p])&&(G=!0,X=8*X+"01234567".indexOf(ma[p++]),0<="0123".indexOf(Aa)&&p<L&&kc(ma[p])&&(X=8*X+"01234567".indexOf(ma[p++]))),U+=String.fromCharCode(X)):U+=Aa}else if(yc(Aa.charCodeAt(0)))break;else U+=Aa}""!==z&&Na({},"Unexpected token %0","ILLEGAL");return{type:8,value:U,
octal:G,start:D,end:p}}return 46===z?$b(ma.charCodeAt(p+1))?Ob():Kb():$b(z)?Ob():Kb()}function Ua(){const z=P;p=z.end;P=Pb();p=z.end;return z}function pb(){const z=p;P=Pb();p=z}function Oa(z,D,G){const U=new qa("||"===z||"\x26\x26"===z?"LogicalExpression":"BinaryExpression");U.operator=z;U.left=D;U.right=G;return U}function Da(z){const D=new qa("Identifier");D.name=z;return D}function Pa(z){const D=new qa("Literal");D.value=z.value;D.raw=ma.slice(z.start,z.end);z.regex&&("//"===D.raw&&(D.raw="/(?:)/"),
D.regex=z.regex);return D}function kb(z,D,G){const U=new qa("MemberExpression");U.computed="["===z;U.object=D;U.property=G;U.computed||(G.member=!0);return U}function lb(z,D,G){const U=new qa("Property");U.key=D;U.value=G;U.kind=z;return U}function Na(z,D){var G=Array.prototype.slice.call(arguments,2),U=D.replace(/%(\d)/g,(X,u)=>{Gb(u<G.length,"Message reference must be in range");return G[u]});var Aa=Error(U);Aa.index=p;Aa.description=U;throw Aa;}function xb(z){2===z.type&&Na(z,"Unexpected end of input");
6===z.type&&Na(z,"Unexpected number");8===z.type&&Na(z,"Unexpected string");3===z.type&&Na(z,"Unexpected identifier");4===z.type&&Na(z,"Unexpected reserved word");Na(z,"Unexpected token %0",z.value)}function ob(z){const D=Ua();7===D.type&&D.value===z||xb(D)}function Nb(z){return 7===P.type&&P.value===z}function Zb(){p=P.start;const z=Ua();return 8===z.type||6===z.type?(z.octal&&Na(z,"Octal literals are not allowed in strict mode."),Pa(z)):Da(z.value)}function nb(){if(Nb("(")){ob("(");var z=cb();ob(")");
return z}if(Nb("[")){z=[];p=P.start;for(ob("[");!Nb("]");)Nb(",")?(Ua(),z.push(null)):(z.push(Fa()),Nb("]")||ob(","));Ua();var D=new qa("ArrayExpression");D.elements=z;return D}if(Nb("{")){z=[];D={};var G=String;p=P.start;for(ob("{");!Nb("}");){p=P.start;var U=P;if(3===U.type){var Aa=Zb();ob(":");U=Fa();U=lb("init",Aa,U)}else 2===U.type||7===U.type?(xb(U),U=void 0):(Aa=Zb(),ob(":"),U=Fa(),U=lb("init",Aa,U));Aa="Identifier"===U.key.type?U.key.name:G(U.key.value);Aa="$"+Aa;Object.prototype.hasOwnProperty.call(D,
Aa)?Na({},"Duplicate data property in object literal not allowed in strict mode"):D[Aa]=!0;z.push(U);Nb("}")||ob(",")}ob("}");D=new qa("ObjectExpression");D.properties=z;return D}z=P.type;p=P.start;if(3===z||C[P.value])D=Da(Ua().value);else if(8===z||6===z)P.octal&&Na(P,"Octal literals are not allowed in strict mode."),D=Pa(Ua());else{if(4===z)throw Error("Disabled.");if(1===z)z=Ua(),z.value="true"===z.value,D=Pa(z);else if(5===z)z=Ua(),z.value=null,D=Pa(z);else if(Nb("/")||Nb("/\x3d")){var X;P=null;
rc();z=p;D=ma[p];Gb("/"===D,"Regular expression literal must start with a slash");G=ma[p++];for(Aa=U=!1;p<L;)if(D=ma[p++],G+=D,"\\"===D)D=ma[p++],yc(D.charCodeAt(0))&&Na({},"Invalid regular expression: missing /"),G+=D;else if(yc(D.charCodeAt(0)))Na({},"Invalid regular expression: missing /");else if(U)"]"===D&&(U=!1);else if("/"===D){Aa=!0;break}else"["===D&&(U=!0);Aa||Na({},"Invalid regular expression: missing /");D=G.substr(1,G.length-2);for(X=Aa="";p<L;){U=ma[p];if(!gc(U.charCodeAt(0)))break;
++p;"\\"===U&&p<L?Na({},"Unexpected token %0","ILLEGAL"):(X+=U,Aa+=U)}0<=X.search(/[^gimuy]/g)&&Na({},"Invalid regular expression",X);U=X;X=Bb(D,U);D=Pa({literal:G+Aa,value:X,regex:{pattern:D,flags:U},start:z,end:p});pb()}else xb(Ua())}return D}function la(){var z;for(z=nb();;)if(Nb(".")){ob(".");p=P.start;var D=Ua();3===D.type||4===D.type||1===D.type||5===D.type||xb(D);D=Da(D.value);z=kb(".",z,D)}else if(Nb("(")){D=[];ob("(");if(!Nb(")"))for(;p<L;){D.push(Fa());if(Nb(")"))break;ob(",")}ob(")");const G=
new qa("CallExpression");G.callee=z;G.arguments=D;z=G}else if(Nb("["))ob("["),D=cb(),ob("]"),z=kb("[",z,D);else break;if(7===P.type&&(Nb("++")||Nb("--")))throw Error("Disabled.");return z}function Y(){if(7!==P.type&&4!==P.type)var z=la();else{if(Nb("++")||Nb("--"))throw Error("Disabled.");if(Nb("+")||Nb("-")||Nb("~")||Nb("!")){var D=Ua();z=Y();D=D.value;const G=new qa("UnaryExpression");G.operator=D;G.argument=z;G.prefix=!0;z=G}else{if(4===P.type&&"delete"===P.value||4===P.type&&"void"===P.value||
4===P.type&&"typeof"===P.value)throw Error("Disabled.");z=la()}}return z}function Ha(z){let D=0;if(7!==z.type&&4!==z.type)return 0;switch(z.value){case "||":D=1;break;case "\x26\x26":D=2;break;case "|":D=3;break;case "^":D=4;break;case "\x26":D=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":D=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":D=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":D=8;break;case "+":case "-":D=
9;break;case "*":case "/":case "%":D=11}return D}function Fa(){var z=P;var D=Y();var G=P;var U=Ha(G);if(0===U)var Aa=D;else{G.prec=U;Ua();z=[z,P];var X=Y();for(Aa=[D,G,X];0<(U=Ha(P));){for(;2<Aa.length&&U<=Aa[Aa.length-2].prec;)X=Aa.pop(),G=Aa.pop().value,D=Aa.pop(),z.pop(),D=Oa(G,D,X),Aa.push(D);G=Ua();G.prec=U;Aa.push(G);z.push(P);D=Y();Aa.push(D)}U=Aa.length-1;D=Aa[U];for(z.pop();1<U;)z.pop(),D=Oa(Aa[U-1].value,Aa[U-2],D),U-=2;Aa=D}Nb("?")&&(Ua(),z=Fa(),ob(":"),U=Fa(),D=new qa("ConditionalExpression"),
D.test=Aa,D.consequent=z,D.alternate=U,Aa=D);return Aa}function cb(){const z=Fa();if(Nb(","))throw Error("Disabled.");return z}function aa(z){function D(G,U,Aa){return X=>{let u=z(X[0]);U&&(u=U+"("+u+")",0===U.lastIndexOf("new ",0)&&(u="("+u+")"));return u+"."+G+(0>Aa?"":0===Aa?"()":"("+X.slice(1).map(z).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(G){3>G.length&&g.error("Missing arguments to clamp function.");3<G.length&&g.error("Too many arguments to clamp function.");G=G.map(z);return"Math.max("+G[1]+", Math.min("+G[2]+","+G[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:D("getDate","new Date",0),day:D("getDay","new Date",0),
year:D("getFullYear","new Date",0),month:D("getMonth","new Date",0),hours:D("getHours","new Date",0),minutes:D("getMinutes","new Date",0),seconds:D("getSeconds","new Date",0),milliseconds:D("getMilliseconds","new Date",0),time:D("getTime","new Date",0),timezoneoffset:D("getTimezoneOffset","new Date",0),utcdate:D("getUTCDate","new Date",0),utcday:D("getUTCDay","new Date",0),utcyear:D("getUTCFullYear","new Date",0),utcmonth:D("getUTCMonth","new Date",0),utchours:D("getUTCHours","new Date",0),utcminutes:D("getUTCMinutes",
"new Date",0),utcseconds:D("getUTCSeconds","new Date",0),utcmilliseconds:D("getUTCMilliseconds","new Date",0),length:D("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:D("toUpperCase","String",0),lower:D("toLowerCase","String",0),substring:D("substring","String"),split:D("split","String"),trim:D("trim","String",0),regexp:"RegExp",test:D("test","RegExp"),if:function(G){3>G.length&&g.error("Missing arguments to if function.");3<G.length&&g.error("Too many arguments to if function.");
G=G.map(z);return"("+G[0]+"?"+G[1]+":"+G[2]+")"}}}qa.prototype.visit=function(z){let D,G,U;if(z(this))return 1;D=hb(this);G=0;for(U=D.length;G<U;++G)if(D[G].visit(z))return 1};var ma,p,L,P,f=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
v=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const l={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},C={"if":1};var B={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};r.ASTNode=qa;r.ArrayExpression="ArrayExpression";r.BinaryExpression="BinaryExpression";r.CallExpression="CallExpression";r.ConditionalExpression="ConditionalExpression";r.Identifier="Identifier";r.Literal="Literal";r.LogicalExpression="LogicalExpression";r.MemberExpression="MemberExpression";r.ObjectExpression="ObjectExpression";r.Property="Property";
r.RawCode="RawCode";r.UnaryExpression="UnaryExpression";r.codegenExpression=function(z){function D(Za){if(g.isString(Za))return Za;const Ib=Ca[Za.type];null==Ib&&g.error("Unsupported type: "+Za.type);return Ib(Za)}function G(Za){Za={code:D(Za),globals:Object.keys(Wa),fields:Object.keys(ab)};Wa={};ab={};return Za}z=z||{};const U=z.allowed?g.toSet(z.allowed):{},Aa=z.forbidden?g.toSet(z.forbidden):{},X=z.constants||B,u=(z.functions||aa)(D),K=z.globalvar,ua=z.fieldvar,Ja=g.isFunction(K)?K:Za=>`${K}["${Za}"]`;
let Wa={},ab={},W=0;const Ca={Literal:Za=>Za.raw,Identifier:Za=>{Za=Za.name;if(0<W)return Za;if(g.hasOwnProperty(Aa,Za))return g.error("Illegal identifier: "+Za);if(g.hasOwnProperty(X,Za))return X[Za];if(g.hasOwnProperty(U,Za))return Za;Wa[Za]=1;return Ja(Za)},MemberExpression:Za=>{const Ib=!Za.computed,xc=D(Za.object);Ib&&(W+=1);Za=D(Za.property);if(xc===ua){var uc=ab;var wc=(wc=Za&&Za.length-1)&&('"'===Za[0]&&'"'===Za[wc]||"'"===Za[0]&&"'"===Za[wc])?Za.slice(1,-1):Za;uc[wc]=1}Ib&&--W;return xc+
(Ib?"."+Za:"["+Za+"]")},CallExpression:Za=>{"Identifier"!==Za.callee.type&&g.error("Illegal callee type: "+Za.callee.type);const Ib=Za.callee.name;Za=Za.arguments;const xc=g.hasOwnProperty(u,Ib)&&u[Ib];xc||g.error("Unrecognized function: "+Ib);return g.isFunction(xc)?xc(Za):xc+"("+Za.map(D).join(",")+")"},ArrayExpression:Za=>"["+Za.elements.map(D).join(",")+"]",BinaryExpression:Za=>"("+D(Za.left)+" "+Za.operator+" "+D(Za.right)+")",UnaryExpression:Za=>"("+Za.operator+D(Za.argument)+")",ConditionalExpression:Za=>
"("+D(Za.test)+"?"+D(Za.consequent)+":"+D(Za.alternate)+")",LogicalExpression:Za=>"("+D(Za.left)+Za.operator+D(Za.right)+")",ObjectExpression:Za=>"{"+Za.properties.map(D).join(",")+"}",Property:Za=>{W+=1;const Ib=D(Za.key);--W;return Ib+":"+D(Za.value)}};G.functions=u;G.constants=X;return G};r.constants=B;r.functions=aa;r.parseExpression=function(z){ma=z;p=0;L=ma.length;P=null;pb();z=cb();if(2!==P.type)throw Error("Unexpect token after expression.");return z}})};
shadow$provide[58]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(57)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,qa){function hb(Ua,pb){return null==Ua||null==pb?NaN:Ua<pb?-1:Ua>pb?1:Ua>=pb?0:NaN}function Gb(Ua,pb){return null==Ua||null==pb?NaN:pb<Ua?-1:pb>Ua?1:pb>=Ua?0:NaN}function $b(){return 0}function oc({_intern:Ua,
_key:pb},Oa){pb=pb(Oa);return Ua.has(pb)?Ua.get(pb):Oa}function kc({_intern:Ua,_key:pb},Oa){pb=pb(Oa);if(Ua.has(pb))return Ua.get(pb);Ua.set(pb,Oa);return Oa}function yc({_intern:Ua,_key:pb},Oa){pb=pb(Oa);Ua.has(pb)&&(Oa=Ua.get(pb),Ua.delete(pb));return Oa}function Ab(Ua){return null!==Ua&&"object"===typeof Ua?Ua.valueOf():Ua}function gc(Ua){return Ua instanceof Va?Ua:new Va(Ua)}function rc(Ua,pb){var Oa=pb.fields;pb=pb.values;for(var Da=Oa.length,Pa=0,kb,lb;Pa<Da;++Pa)if(lb=Oa[Pa],lb.getter=g.field.getter||
g.field(lb.field),kb=lb.getter(Ua),g.isDate(kb)&&(kb=g.toNumber(kb)),g.isDate(pb[Pa])&&(pb[Pa]=g.toNumber(pb[Pa])),g.isDate(pb[Pa][0])&&(pb[Pa]=pb[Pa].map(g.toNumber)),"E"===lb.type){if(g.isArray(pb[Pa])?0>pb[Pa].indexOf(kb):kb!==pb[Pa])return!1}else if("R"===lb.type){if(!g.inrange(kb,pb[Pa]))return!1}else if("R-RE"===lb.type){if(!g.inrange(kb,pb[Pa],!0,!1))return!1}else if("R-E"===lb.type){if(!g.inrange(kb,pb[Pa],!1,!1))return!1}else if("R-LE"===lb.type&&!g.inrange(kb,pb[Pa],!1,!0))return!1;return!0}
class Va extends Set{constructor(Ua,pb=Ab){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:pb}});if(null!=Ua)for(const Oa of Ua)this.add(Oa)}has(Ua){return super.has(oc(this,Ua))}add(Ua){return super.add(kc(this,Ua))}delete(Ua){return super.delete(yc(this,Ua))}}const qb=g.field("_vgsid_"),Kb=function(Ua){function pb(kb,lb,Na=0,xb=kb.length){if(Na<xb){if(0!==Oa(lb,lb))return xb;do{const ob=Na+xb>>>1;0>Da(kb[ob],lb)?Na=ob+1:xb=ob}while(Na<xb)}return Na}let Oa,Da,Pa;2!==Ua.length?
(Oa=hb,Da=(kb,lb)=>hb(Ua(kb),lb),Pa=(kb,lb)=>Ua(kb)-lb):(Oa=Ua===hb||Ua===Gb?Ua:$b,Pa=Da=Ua);return{left:pb,center:function(kb,lb,Na=0,xb=kb.length){xb=pb(kb,lb,Na,xb-1);return xb>Na&&Pa(kb[xb-1],lb)>-Pa(kb[xb],lb)?xb-1:xb},right:function(kb,lb,Na=0,xb=kb.length){if(Na<xb){if(0!==Oa(lb,lb))return xb;do{const ob=Na+xb>>>1;0>=Da(kb[ob],lb)?Na=ob+1:xb=ob}while(Na<xb)}return Na}}}(qb),Ob=Kb.left,Bb=Kb.right;var Pb={_vgsid__union:function(...Ua){const pb=new Va;for(const Oa of Ua)for(const Da of Oa)pb.add(Da);
return pb},_vgsid__intersect:function(Ua,...pb){Ua=new Va(Ua);pb=pb.map(gc);a:for(const Oa of Ua)for(const Da of pb)if(!Da.has(Oa)){Ua.delete(Oa);continue a}return Ua},E_union:function(Ua,pb){if(!Ua.length)return pb;for(var Oa=0,Da=pb.length;Oa<Da;++Oa)0>Ua.indexOf(pb[Oa])&&Ua.push(pb[Oa]);return Ua},E_intersect:function(Ua,pb){return Ua.length?Ua.filter(Oa=>0<=pb.indexOf(Oa)):pb},R_union:function(Ua,pb){var Oa=g.toNumber(pb[0]),Da=g.toNumber(pb[1]);Oa>Da&&(Oa=pb[1],Da=pb[0]);if(!Ua.length)return[Oa,
Da];Ua[0]>Oa&&(Ua[0]=Oa);Ua[1]<Da&&(Ua[1]=Da);return Ua},R_intersect:function(Ua,pb){var Oa=g.toNumber(pb[0]),Da=g.toNumber(pb[1]);Oa>Da&&(Oa=pb[1],Da=pb[0]);if(!Ua.length)return[Oa,Da];if(Da<Ua[0]||Ua[1]<Oa)return[];Ua[0]<Oa&&(Ua[0]=Oa);Ua[1]>Da&&(Ua[1]=Da);return Ua}};r.selectionIdTest=function(Ua,pb,Oa){var Da=this.context.data[Ua];Ua=Da?Da.values.value:[];Da=Da?Da["index:unit"]&&Da["index:unit"].value:void 0;Oa="intersect"===Oa;pb=qb(pb);const Pa=Ob(Ua,pb);if(Pa===Ua.length||qb(Ua[Pa])!==pb)return!1;
if(Da&&Oa){if(1===Da.size)return!0;if(Bb(Ua,pb)-Pa<Da.size)return!1}return!0};r.selectionResolve=function(Ua,pb,Oa,Da){Ua=(Ua=this.context.data[Ua])?Ua.values.value:[];for(var Pa={},kb={},lb={},Na,xb,ob,Nb,Zb,nb,la=Ua.length,Y=0,Ha,Fa;Y<la;++Y)if(Na=Ua[Y],Nb=Na.unit,xb=Na.fields,ob=Na.values,xb&&ob){Ha=0;for(Fa=xb.length;Ha<Fa;++Ha)Zb=xb[Ha],Na=Pa[Zb.field]||(Pa[Zb.field]={}),nb=Na[Nb]||(Na[Nb]=[]),lb[Zb.field]=Zb=Zb.type.charAt(0),Zb=Pb[`${Zb}_union`],Na[Nb]=Zb(nb,g.array(ob[Ha]));Oa&&(nb=kb[Nb]||
(kb[Nb]=[]),nb.push(g.array(ob).reduce((cb,aa,ma)=>(cb[xb[ma].field]=aa,cb),{})))}else Zb="_vgsid_",ob=qb(Na),Na=Pa[Zb]||(Pa[Zb]={}),nb=Na[Nb]||(Na[Nb]=[]),nb.push(ob),Oa&&(nb=kb[Nb]||(kb[Nb]=[]),nb.push({_vgsid_:ob}));pb=pb||"union";Pa._vgsid_?Pa._vgsid_=Pb[`${"_vgsid_"}_${pb}`](...Object.values(Pa._vgsid_)):Object.keys(Pa).forEach(cb=>{Pa[cb]=Object.keys(Pa[cb]).map(aa=>Pa[cb][aa]).reduce((aa,ma)=>void 0===aa?ma:Pb[`${lb[cb]}_${pb}`](aa,ma))});Ua=Object.keys(kb);Oa&&Ua.length&&(Pa[Da?"vlPoint":
"vlMulti"]="union"===pb?{or:Ua.reduce((cb,aa)=>(cb.push(...kb[aa]),cb),[])}:{and:Ua.map(cb=>({or:kb[cb]}))});return Pa};r.selectionTest=function(Ua,pb,Oa){var Da=this.context.data[Ua];Ua=Da?Da.values.value:[];Da=Da?Da["index:unit"]&&Da["index:unit"].value:void 0;Oa="intersect"===Oa;for(var Pa=Ua.length,kb=0,lb,Na,xb,ob;kb<Pa;++kb)if(lb=Ua[kb],Da&&Oa){if(Na=Na||{},xb=Na[ob=lb.unit]||0,-1!==xb){lb=rc(pb,lb);Na[ob]=lb?-1:++xb;if(lb&&1===Da.size)return!0;if(!lb&&xb===Da.get(ob).count)return!1}}else if(lb=
rc(pb,lb),Oa^lb)return lb;return Pa&&Oa};r.selectionTuples=function(Ua,pb){return Ua.map(Oa=>g.extend(pb.fields?{values:pb.fields.map(Da=>(Da.getter||(Da.getter=g.field(Da.field)))(Oa.datum))}:{_vgsid_:qb(Oa.datum)},pb))};r.selectionVisitor=function(Ua,pb,Oa,Da){pb[0].type!==qa.Literal&&g.error("First argument to selection functions must be a string literal.");Ua=pb[0].value;pb=2<=pb.length&&g.peek(pb).value;const Pa=":"+Ua;"intersect"!==pb||g.hasOwnProperty(Da,"@unit")||(Da["@unit"]=Oa.getData(Ua).indataRef(Oa,
"unit"));g.hasOwnProperty(Da,Pa)||(Da[Pa]=Oa.getData(Ua).tuplesRef())}})};
shadow$provide[59]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(57),Db(33),Db(29),Db(34),Db(58),Db(30),Db(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega,r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb,Gb,$b,oc,
kc,yc){function Ab(pa){return(pa=this.context.data[pa])?pa.values.value:[]}function gc(pa,bb,Qb){return(Qb=(pa=this.context.data[pa]["index:"+bb])?pa.value.get(Qb):void 0)?Qb.count:Qb}function rc(pa,bb){const Qb=this.context.dataflow;Qb.pulse(this.context.data[pa].input,Qb.changeset().remove(g.truthy).insert(bb));return 1}function Va(pa,bb,Qb){if(pa){const gd=this.context.dataflow;gd.pulse(pa.mark.source,gd.changeset().encode(pa,bb))}return void 0!==Qb?Qb:pa}function qb(pa,bb,Qb){if(!Number.isInteger(pa)||
!Number.isInteger(bb))return"";Cc.setYear(2E3);Cc.setMonth(pa);Cc.setDate(bb);return da.call(this,Cc,Qb)}function Kb(pa){return qb.call(this,pa,1,"%B")}function Ob(pa){return qb.call(this,pa,1,"%b")}function Bb(pa){return qb.call(this,0,2+pa,"%A")}function Pb(pa){return qb.call(this,0,2+pa,"%a")}function Ua(pa,bb,Qb,gd){bb[0].type!==qa.Literal&&g.error("First argument to data functions must be a string literal.");pa=bb[0].value;bb=":"+pa;if(!g.hasOwnProperty(bb,gd))try{gd[bb]=Qb.getData(pa).tuplesRef()}catch(ld){}}
function pb(pa,bb,Qb,gd){bb[0].type!==qa.Literal&&g.error("First argument to indata must be a string literal.");bb[1].type!==qa.Literal&&g.error("Second argument to indata must be a string literal.");pa=bb[0].value;bb=bb[1].value;const ld="@"+bb;g.hasOwnProperty(ld,gd)||(gd[ld]=Qb.getData(pa).indataRef(Qb,bb))}function Oa(pa,bb,Qb,gd){if(bb[0].type===qa.Literal)Da(Qb,gd,bb[0].value);else for(pa in Qb.scales)Da(Qb,gd,pa)}function Da(pa,bb,Qb){const gd="%"+Qb;if(!g.hasOwnProperty(bb,gd))try{bb[gd]=
pa.scaleRef(Qb)}catch(ld){}}function Pa(pa,bb){if(g.isFunction(pa))return pa;if(g.isString(pa))return(pa=bb.scales[pa])&&hb.isRegisteredScale(pa.value)?pa.value:void 0}function kb(pa,bb,Qb){bb.__bandwidth=ld=>ld&&ld.bandwidth?ld.bandwidth():0;Qb._bandwidth=Oa;Qb._range=Oa;Qb._scale=Oa;const gd=ld=>"_["+(ld.type===qa.Literal?g.stringValue("%"+ld.value):g.stringValue("%")+"+"+pa(ld))+"]";return{_bandwidth:ld=>`this.__bandwidth(${gd(ld[0])})`,_range:ld=>`${gd(ld[0])}.range()`,_scale:ld=>`${gd(ld[0])}(${pa(ld[1])})`}}
function lb(pa){return 1<pa?ee:-1>pa?-ee:Math.asin(pa)}function Na(){}function xb(pa,bb){if(pa&&be.hasOwnProperty(pa.type))be[pa.type](pa,bb)}function ob(pa,bb,Qb){var gd=-1;Qb=pa.length-Qb;for(bb.lineStart();++gd<Qb;){var ld=pa[gd];bb.point(ld[0],ld[1],ld[2])}bb.lineEnd()}function Nb(pa,bb){var Qb=-1,gd=pa.length;for(bb.polygonStart();++Qb<gd;)ob(pa[Qb],bb,1);bb.polygonEnd()}function Zb(pa,bb){if(pa&&Bd.hasOwnProperty(pa.type))Bd[pa.type](pa,bb);else xb(pa,bb)}function nb(){Ec.point=Y}function la(){Ha(Xe,
bf)}function Y(pa,bb){Ec.point=Ha;Xe=pa;bf=bb;pa*=vd;bb*=vd;md=pa;Dc=Qc(bb=bb/2+Ra);jd=id(bb)}function Ha(pa,bb){pa*=vd;bb*=vd;bb=bb/2+Ra;var Qb=pa-md,gd=0<=Qb?1:-1,ld=gd*Qb;Qb=Qc(bb);bb=id(bb);var pe=jd*bb,Oe=Dc*Qb+pe*Qc(ld);gd=pe*gd*id(ld);we.add(Vc(gd,Oe));md=pa;Dc=Qb;jd=bb}function Fa(pa,bb){return[pa[1]*bb[2]-pa[2]*bb[1],pa[2]*bb[0]-pa[0]*bb[2],pa[0]*bb[1]-pa[1]*bb[0]]}function cb(pa,bb){Ia.push(ib=[Id=pa,ce=pa]);bb<Vd&&(Vd=bb);bb>le&&(le=bb)}function aa(pa,bb){var Qb=[pa*vd,bb*vd];var gd=Qb[0];
Qb=Qb[1];var ld=Qc(Qb);gd=[ld*Qc(gd),ld*id(gd),id(Qb)];if(ja){Qb=Fa(ja,gd);ld=Qb=Fa([Qb[1],-Qb[0],0],Qb);var pe=Nd(ld[0]*ld[0]+ld[1]*ld[1]+ld[2]*ld[2]);ld[0]/=pe;ld[1]/=pe;ld[2]/=pe;Qb=[Vc(Qb[1],Qb[0]),lb(Qb[2])];var Oe=pa-N;ld=0<Oe?1:-1;pe=Qb[0]*pc*ld;Oe=180<Jc(Oe);Oe^(ld*N<pe&&pe<ld*pa)?(Qb=Qb[1]*pc,Qb>le&&(le=Qb)):(pe=(pe+360)%360-180,Oe^(ld*N<pe&&pe<ld*pa))?(Qb=-Qb[1]*pc,Qb<Vd&&(Vd=Qb)):(bb<Vd&&(Vd=bb),bb>le&&(le=bb));Oe?pa<N?v(Id,pa)>v(Id,ce)&&(ce=pa):v(pa,ce)>v(Id,ce)&&(Id=pa):ce>=Id?(pa<Id&&
(Id=pa),pa>ce&&(ce=pa)):pa>N?v(Id,pa)>v(Id,ce)&&(ce=pa):v(pa,ce)>v(Id,ce)&&(Id=pa)}else Ia.push(ib=[Id=pa,ce=pa]);bb<Vd&&(Vd=bb);bb>le&&(le=bb);ja=gd;N=pa}function ma(){ub.point=aa}function p(){ib[0]=Id;ib[1]=ce;ub.point=cb;ja=null}function L(pa,bb){if(ja){var Qb=pa-N;sa.add(180<Jc(Qb)?Qb+(0<Qb?360:-360):Qb)}else ca=pa,H=bb;Ec.point(pa,bb);aa(pa,bb)}function P(){Ec.lineStart()}function f(){L(ca,H);Ec.lineEnd();1E-6<Jc(sa)&&(Id=-(ce=180));ib[0]=Id;ib[1]=ce;ja=null}function v(pa,bb){return 0>(bb-=pa)?
bb+360:bb}function l(pa,bb){return pa[0]-bb[0]}function C(pa,bb){return pa[0]<=pa[1]?pa[0]<=bb&&bb<=pa[1]:bb<pa[0]||pa[1]<bb}function B(pa,bb){pa*=vd;bb*=vd;var Qb=Qc(bb);z(Qb*Qc(pa),Qb*id(pa),id(bb))}function z(pa,bb,Qb){++qc;tc+=(pa-tc)/qc;Ic+=(bb-Ic)/qc;Ad+=(Qb-Ad)/qc}function D(){Ge.point=G}function G(pa,bb){pa*=vd;bb*=vd;var Qb=Qc(bb);ye=Qb*Qc(pa);Ld=Qb*id(pa);ge=id(bb);Ge.point=U;z(ye,Ld,ge)}function U(pa,bb){pa*=vd;bb*=vd;var Qb=Qc(bb),gd=Qb*Qc(pa);pa=Qb*id(pa);bb=id(bb);var ld=Vc(Nd((ld=Ld*
bb-ge*pa)*ld+(ld=ge*gd-ye*bb)*ld+(ld=ye*pa-Ld*gd)*ld),ye*gd+Ld*pa+ge*bb);sc+=ld;Gc+=ld*(ye+(ye=gd));$c+=ld*(Ld+(Ld=pa));yd+=ld*(ge+(ge=bb));z(ye,Ld,ge)}function Aa(){Ge.point=B}function X(){Ge.point=K}function u(){ua(Ce,wd);Ge.point=B}function K(pa,bb){Ce=pa;wd=bb;pa*=vd;bb*=vd;Ge.point=ua;var Qb=Qc(bb);ye=Qb*Qc(pa);Ld=Qb*id(pa);ge=id(bb);z(ye,Ld,ge)}function ua(pa,bb){pa*=vd;bb*=vd;var Qb=Qc(bb),gd=Qb*Qc(pa);pa=Qb*id(pa);bb=id(bb);Qb=Ld*bb-ge*pa;var ld=ge*gd-ye*bb,pe=ye*pa-Ld*gd,Oe=sd(Qb,ld,pe),
nf=lb(Oe);Oe=Oe&&-nf/Oe;Cd.add(Oe*Qb);Kd.add(Oe*ld);Fe.add(Oe*pe);sc+=nf;Gc+=nf*(ye+(ye=gd));$c+=nf*(Ld+(Ld=pa));yd+=nf*(ge+(ge=bb));z(ye,Ld,ge)}function Ja(pa,bb){return function(Qb,gd,ld){return Qb?(Qb=Pa(Qb,(ld||this).context))&&Qb.path[pa](gd):bb(gd)}}function Wa(pa){const bb=this.context.group;let Qb=!1;if(bb)for(;pa;){if(pa===bb){Qb=!0;break}pa=pa.mark.group}return Qb}function ab(pa,bb,Qb){try{pa[bb].apply(pa,["EXPRESSION"].concat([].slice.call(Qb)))}catch(gd){pa.warn(gd)}return Qb[Qb.length-
1]}function W(){return ab(this.context.dataflow,"warn",arguments)}function Ca(){return ab(this.context.dataflow,"info",arguments)}function Za(){return ab(this.context.dataflow,"debug",arguments)}function Ib(pa,bb,Qb){pa.prototype=bb.prototype=Qb;Qb.constructor=pa}function xc(pa,bb){pa=Object.create(pa.prototype);for(var Qb in bb)pa[Qb]=bb[Qb];return pa}function uc(){}function wc(){return this.rgb().formatHex()}function bd(){return this.rgb().formatRgb()}function Wb(pa){var bb,Qb;pa=(pa+"").trim().toLowerCase();
return(bb=Bf.exec(pa))?(Qb=bb[1].length,bb=parseInt(bb[1],16),6===Qb?Rc(bb):3===Qb?new rb(bb>>8&15|bb>>4&240,bb>>4&15|bb&240,(bb&15)<<4|bb&15,1):8===Qb?Pd(bb>>24&255,bb>>16&255,bb>>8&255,(bb&255)/255):4===Qb?Pd(bb>>12&15|bb>>8&240,bb>>8&15|bb>>4&240,bb>>4&15|bb&240,((bb&15)<<4|bb&15)/255):null):(bb=Hf.exec(pa))?new rb(bb[1],bb[2],bb[3],1):(bb=ef.exec(pa))?new rb(255*bb[1]/100,255*bb[2]/100,255*bb[3]/100,1):(bb=Zf.exec(pa))?Pd(bb[1],bb[2],bb[3],bb[4]):(bb=Yd.exec(pa))?Pd(255*bb[1]/100,255*bb[2]/100,
255*bb[3]/100,bb[4]):(bb=cf.exec(pa))?Yc(bb[1],bb[2]/100,bb[3]/100,1):(bb=jf.exec(pa))?Yc(bb[1],bb[2]/100,bb[3]/100,bb[4]):Ze.hasOwnProperty(pa)?Rc(Ze[pa]):"transparent"===pa?new rb(NaN,NaN,NaN,0):null}function Rc(pa){return new rb(pa>>16&255,pa>>8&255,pa&255,1)}function Pd(pa,bb,Qb,gd){0>=gd&&(pa=bb=Qb=NaN);return new rb(pa,bb,Qb,gd)}function Ka(pa){pa instanceof uc||(pa=Wb(pa));if(!pa)return new rb;pa=pa.rgb();return new rb(pa.r,pa.g,pa.b,pa.opacity)}function Ub(pa,bb,Qb,gd){return 1===arguments.length?
Ka(pa):new rb(pa,bb,Qb,null==gd?1:gd)}function rb(pa,bb,Qb,gd){this.r=+pa;this.g=+bb;this.b=+Qb;this.opacity=+gd}function Sb(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}`}function fc(){const pa=bc(this.opacity);return`${1===pa?"rgb(":"rgba("}${Hc(this.r)}, ${Hc(this.g)}, ${Hc(this.b)}${1===pa?")":`, ${pa})`}`}function bc(pa){return isNaN(pa)?1:Math.max(0,Math.min(1,pa))}function Hc(pa){return Math.max(0,Math.min(255,Math.round(pa)||0))}function zc(pa){pa=Hc(pa);return(16>pa?"0":"")+pa.toString(16)}
function Yc(pa,bb,Qb,gd){0>=gd?pa=bb=Qb=NaN:0>=Qb||1<=Qb?pa=bb=NaN:0>=bb&&(pa=NaN);return new Ga(pa,bb,Qb,gd)}function Md(pa){if(pa instanceof Ga)return new Ga(pa.h,pa.s,pa.l,pa.opacity);pa instanceof uc||(pa=Wb(pa));if(!pa)return new Ga;if(pa instanceof Ga)return pa;pa=pa.rgb();var bb=pa.r/255,Qb=pa.g/255,gd=pa.b/255,ld=Math.min(bb,Qb,gd),pe=Math.max(bb,Qb,gd),Oe=NaN,nf=pe-ld,Ef=(pe+ld)/2;nf?(Oe=bb===pe?(Qb-gd)/nf+6*(Qb<gd):Qb===pe?(gd-bb)/nf+2:(bb-Qb)/nf+4,nf/=.5>Ef?pe+ld:2-pe-ld,Oe*=60):nf=0<Ef&&
1>Ef?0:Oe;return new Ga(Oe,nf,Ef,pa.opacity)}function td(pa,bb,Qb,gd){return 1===arguments.length?Md(pa):new Ga(pa,bb,Qb,null==gd?1:gd)}function Ga(pa,bb,Qb,gd){this.h=+pa;this.s=+bb;this.l=+Qb;this.opacity=+gd}function gb(pa){pa=(pa||0)%360;return 0>pa?pa+360:pa}function vb(pa){return Math.max(0,Math.min(1,pa||0))}function ra(pa,bb,Qb){return 255*(60>pa?bb+(Qb-bb)*pa/60:180>pa?Qb:240>pa?bb+(Qb-bb)*(240-pa)/60:bb)}function F(pa){if(pa instanceof La)return new La(pa.l,pa.a,pa.b,pa.opacity);if(pa instanceof
Uc)return cd(pa);pa instanceof rb||(pa=Ka(pa));var bb=nc(pa.r),Qb=nc(pa.g),gd=nc(pa.b),ld=$a(.2225045*bb+.7168786*Qb+.0606169*gd);if(bb===Qb&&Qb===gd)var pe=bb=ld;else pe=$a((.4360747*bb+.3850649*Qb+.1430804*gd)/.96422),bb=$a((.0139322*bb+.0971045*Qb+.7141733*gd)/.82521);return new La(116*ld-16,500*(pe-ld),200*(ld-bb),pa.opacity)}function ya(pa,bb,Qb,gd){return 1===arguments.length?F(pa):new La(pa,bb,Qb,null==gd?1:gd)}function La(pa,bb,Qb,gd){this.l=+pa;this.a=+bb;this.b=+Qb;this.opacity=+gd}function $a(pa){return pa>
hg?Math.pow(pa,1/3):pa/Bg+xf}function jb(pa){return pa>yf?pa*pa*pa:Bg*(pa-xf)}function Fb(pa){return 255*(.0031308>=pa?12.92*pa:1.055*Math.pow(pa,1/2.4)-.055)}function nc(pa){return.04045>=(pa/=255)?pa/12.92:Math.pow((pa+.055)/1.055,2.4)}function dc(pa){if(pa instanceof Uc)return new Uc(pa.h,pa.c,pa.l,pa.opacity);pa instanceof La||(pa=F(pa));if(0===pa.a&&0===pa.b)return new Uc(NaN,0<pa.l&&100>pa.l?0:NaN,pa.l,pa.opacity);var bb=Math.atan2(pa.b,pa.a)*If;return new Uc(0>bb?bb+360:bb,Math.sqrt(pa.a*pa.a+
pa.b*pa.b),pa.l,pa.opacity)}function ic(pa,bb,Qb,gd){return 1===arguments.length?dc(pa):new Uc(pa,bb,Qb,null==gd?1:gd)}function Uc(pa,bb,Qb,gd){this.h=+pa;this.c=+bb;this.l=+Qb;this.opacity=+gd}function cd(pa){if(isNaN(pa.h))return new La(pa.l,0,0,pa.opacity);var bb=pa.h*Gf;return new La(pa.l,Math.cos(bb)*pa.c,Math.sin(bb)*pa.c,pa.opacity)}function dd(pa){pa/=255;return.03928>=pa?pa/12.92:Math.pow((pa+.055)/1.055,2.4)}function Qd(pa){var bb=Ub(pa);pa=dd(bb.r);const Qb=dd(bb.g);bb=dd(bb.b);return.2126*
pa+.7152*Qb+.0722*bb}function Td(pa,bb){pa=Qd(pa);bb=Qd(bb);return(Math.max(pa,bb)+.05)/(Math.min(pa,bb)+.05)}function Ed(){const pa=[].slice.call(arguments);pa.unshift({});return g.extend(...pa)}function Zd(pa,bb){if(pa===bb||pa!==pa&&bb!==bb)pa=!0;else if(g.isArray(pa))if(g.isArray(bb)&&pa.length===bb.length)a:{for(let Qb=0,gd=pa.length;Qb<gd;++Qb)if(!Zd(pa[Qb],bb[Qb])){pa=!1;break a}pa=!0}else pa=!1;else pa=g.isObject(pa)&&g.isObject(bb)?de(pa,bb):!1;return pa}function de(pa,bb){for(const Qb in pa)if(!Zd(pa[Qb],
bb[Qb]))return!1;return!0}function Ud(pa){return bb=>de(pa,bb)}function Te(pa,bb,Qb,gd,ld,pe){const Oe=this.context.dataflow,nf=this.context.data[pa],Ef=nf.input;pa=Oe.stamp();let Me=nf.changes,$f;if(!1===Oe._trigger||!(Ef.value.length||bb||gd))return 0;if(!Me||Me.stamp<pa)nf.changes=Me=Oe.changeset(),Me.stamp=pa,Oe.runAfter(()=>{nf.modified=!0;Oe.pulse(Ef,Me).run()},!0,1);Qb&&(Qb=!0===Qb?g.truthy:g.isArray(Qb)||Gb.isTuple(Qb)?Qb:Ud(Qb),Me.remove(Qb));bb&&Me.insert(bb);gd&&(Qb=Ud(gd),Ef.value.some(Qb)?
Me.remove(Qb):Me.insert(gd));if(ld)for($f in pe)Me.modify(ld,$f,pe[$f]);return 1}function Xd(pa){pa=pa.touches;return Math.hypot(pa[0].clientX-pa[1].clientX,pa[0].clientY-pa[1].clientY)}function M(pa){pa=pa.touches;return Math.atan2(pa[0].clientY-pa[1].clientY,pa[0].clientX-pa[1].clientX)}function ka(pa,bb){bb=vf[bb]||(vf[bb]=g.field(bb));return g.isArray(pa)?pa.map(bb):bb(pa)}function za(pa){return g.isArray(pa)||ArrayBuffer.isView(pa)?pa:null}function fb(pa){return za(pa)||(g.isString(pa)?pa:null)}
function Hb(pa,...bb){return za(pa).join(...bb)}function Xb(pa,...bb){return fb(pa).indexOf(...bb)}function Ac(pa,...bb){return fb(pa).lastIndexOf(...bb)}function lc(pa,...bb){return fb(pa).slice(...bb)}function Fc(pa,bb,Qb){g.isFunction(Qb)&&g.error("Function argument passed to replace.");return String(pa).replace(bb,Qb)}function hd(pa){return za(pa).slice().reverse()}function Nc(pa,bb,Qb){return hb.bandSpace(pa||0,bb||0,Qb||0)}function rd(pa,bb){return(pa=Pa(pa,(bb||this).context))&&pa.bandwidth?
pa.bandwidth():0}function Gd(pa,bb){return(pa=Pa(pa,(bb||this).context))?pa.copy():void 0}function Fd(pa,bb){return(pa=Pa(pa,(bb||this).context))?pa.domain():[]}function $d(pa,bb,Qb){return(pa=Pa(pa,(Qb||this).context))?g.isArray(bb)?(pa.invertRange||pa.invert)(bb):(pa.invert||pa.invertExtent)(bb):void 0}function Wd(pa,bb){return(pa=Pa(pa,(bb||this).context))&&pa.range?pa.range():[]}function ae(pa,bb,Qb){return(pa=Pa(pa,(Qb||this).context))?pa(bb):void 0}function Be(pa,bb,Qb,gd,ld){pa=Pa(pa,(ld||
this).context);const pe=$b.Gradient(bb,Qb);bb=pa.domain();Qb=bb[0];ld=g.peek(bb);let Oe=g.identity;ld-Qb?Oe=hb.scaleFraction(pa,Qb,ld):pa=(pa.interpolator?hb.scale("sequential")().interpolator(pa.interpolator()):hb.scale("linear")().interpolate(pa.interpolate()).range(pa.range())).domain([Qb=0,ld=1]);pa.ticks&&(bb=pa.ticks(+gd||15),Qb!==bb[0]&&bb.unshift(Qb),ld!==g.peek(bb)&&bb.push(ld));bb.forEach(nf=>pe.stop(Oe(nf),pa(nf)));return pe}function ff(pa,bb,Qb){const gd=Pa(pa,(Qb||this).context);return function(ld){return gd?
gd.path.context(ld)(bb):""}}function df(pa){let bb=null;return function(Qb){return Qb?$b.pathRender(Qb,bb=bb||$b.pathParse(pa)):pa}}function af(pa,bb){pa=Ab.call(bb,pa);return pa.root&&pa.root.lookup||{}}function re(pa,bb,Qb){pa=af(pa,this);bb=pa[bb];Qb=pa[Qb];return bb&&Qb?bb.path(Qb).map(Jf):void 0}function pf(pa,bb){return(pa=af(pa,this)[bb])?pa.ancestors().map(Jf):void 0}function T(){const pa="undefined"!==typeof window&&window||null;return pa?pa.screen:{}}function ta(){const pa="undefined"!==
typeof window&&window||null;return pa?[pa.innerWidth,pa.innerHeight]:[void 0,void 0]}function db(){var pa=this.context.dataflow;return(pa=pa.container&&pa.container())?[pa.clientWidth,pa.clientHeight]:[void 0,void 0]}function zb(pa,bb,Qb){if(!pa)return[];const [gd,ld]=pa;pa=(new $b.Bounds).set(gd[0],gd[1],ld[0],ld[1]);Qb=Qb||this.context.dataflow.scenegraph().root;return $b.intersect(Qb,pa,ec(bb))}function ec(pa){let bb=null;if(pa){const Qb=g.array(pa.marktype),gd=g.array(pa.markname);bb=ld=>(!Qb.length||
Qb.some(pe=>ld.marktype===pe))&&(!gd.length||gd.some(pe=>ld.name===pe))}return bb}function Bc(pa,bb,Qb){if(1===arguments.length)return dg[pa];dg[pa]=bb;Qb&&(Fg[pa]=Qb);Sg&&(Sg.functions[pa]="this."+pa);return this}const Yb=pa=>function(bb,Qb){return this.context.dataflow.locale()[pa](Qb)(bb)},I=Yb("format"),da=Yb("timeFormat"),Sa=Yb("utcFormat"),ac=Yb("timeParse"),Pc=Yb("utcParse"),Cc=new Date(2E3,0,1);class Sc{constructor(){this._partials=new Float64Array(32);this._n=0}add(pa){const bb=this._partials;
let Qb=0;for(let gd=0;gd<this._n&&32>gd;gd++){const ld=bb[gd],pe=pa+ld;(pa=Math.abs(pa)<Math.abs(ld)?pa-(pe-ld):ld-(pe-pa))&&(bb[Qb++]=pa);pa=pe}bb[Qb]=pa;this._n=Qb+1;return this}valueOf(){const pa=this._partials;let bb=this._n;let Qb,gd=0;if(0<bb){for(gd=pa[--bb];0<bb;){var ld=gd;Qb=pa[--bb];gd=ld+Qb;if(ld=Qb-(gd-ld))break}0<bb&&(0>ld&&0>pa[bb-1]||0<ld&&0<pa[bb-1])&&(Qb=2*ld,ld=gd+Qb,Qb==ld-gd&&(gd=ld))}return gd}}var fd=Math.PI,ee=fd/2,Ra=fd/4,eb=2*fd,pc=180/fd,vd=fd/180,Jc=Math.abs,Vc=Math.atan2,
Qc=Math.cos,sd=Math.hypot,id=Math.sin,Nd=Math.sqrt,Bd={Feature:function(pa,bb){xb(pa.geometry,bb)},FeatureCollection:function(pa,bb){pa=pa.features;for(var Qb=-1,gd=pa.length;++Qb<gd;)xb(pa[Qb].geometry,bb)}},be={Sphere:function(pa,bb){bb.sphere()},Point:function(pa,bb){pa=pa.coordinates;bb.point(pa[0],pa[1],pa[2])},MultiPoint:function(pa,bb){for(var Qb=pa.coordinates,gd=-1,ld=Qb.length;++gd<ld;)pa=Qb[gd],bb.point(pa[0],pa[1],pa[2])},LineString:function(pa,bb){ob(pa.coordinates,bb,0)},MultiLineString:function(pa,
bb){pa=pa.coordinates;for(var Qb=-1,gd=pa.length;++Qb<gd;)ob(pa[Qb],bb,0)},Polygon:function(pa,bb){Nb(pa.coordinates,bb)},MultiPolygon:function(pa,bb){pa=pa.coordinates;for(var Qb=-1,gd=pa.length;++Qb<gd;)Nb(pa[Qb],bb)},GeometryCollection:function(pa,bb){pa=pa.geometries;for(var Qb=-1,gd=pa.length;++Qb<gd;)xb(pa[Qb],bb)}},we=new Sc,Ke=new Sc,Xe,bf,md,Dc,jd,Ec={point:Na,lineStart:Na,lineEnd:Na,polygonStart:function(){we=new Sc;Ec.lineStart=nb;Ec.lineEnd=la},polygonEnd:function(){var pa=+we;Ke.add(0>
pa?eb+pa:pa);this.lineStart=this.lineEnd=this.point=Na},sphere:function(){Ke.add(eb)}},Id,Vd,ce,le,N,ca,H,ja,sa,Ia,ib,ub={point:cb,lineStart:ma,lineEnd:p,polygonStart:function(){ub.point=L;ub.lineStart=P;ub.lineEnd=f;sa=new Sc;Ec.polygonStart()},polygonEnd:function(){Ec.polygonEnd();ub.point=cb;ub.lineStart=ma;ub.lineEnd=p;0>we?(Id=-(ce=180),Vd=-(le=90)):1E-6<sa?le=90:-1E-6>sa&&(Vd=-90);ib[0]=Id;ib[1]=ce},sphere:function(){Id=-(ce=180);Vd=-(le=90)}},qc,sc,tc,Ic,Ad,Gc,$c,yd,Cd,Kd,Fe,Ce,wd,ye,Ld,ge,
Ge={sphere:Na,point:B,lineStart:D,lineEnd:Aa,polygonStart:function(){Ge.lineStart=X;Ge.lineEnd=u},polygonEnd:function(){Ge.lineStart=D;Ge.lineEnd=Aa}};const hf=Ja("area",function(pa){Ke=new Sc;Zb(pa,Ec);return 2*Ke}),rf=Ja("bounds",function(pa){var bb,Qb,gd;le=ce=-(Id=Vd=Infinity);Ia=[];Zb(pa,ub);if(bb=Ia.length){Ia.sort(l);pa=1;var ld=Ia[0];for(Qb=[ld];pa<bb;++pa){var pe=Ia[pa];C(ld,pe[0])||C(ld,pe[1])?(v(ld[0],pe[1])>v(ld[0],ld[1])&&(ld[1]=pe[1]),v(pe[0],ld[1])>v(ld[0],ld[1])&&(ld[0]=pe[0])):Qb.push(ld=
pe)}var Oe=-Infinity;bb=Qb.length-1;pa=0;for(ld=Qb[bb];pa<=bb;ld=pe,++pa)pe=Qb[pa],(gd=v(ld[1],pe[0]))>Oe&&(Oe=gd,Id=pe[0],ce=ld[1])}Ia=ib=null;return Infinity===Id||Infinity===Vd?[[NaN,NaN],[NaN,NaN]]:[[Id,Vd],[ce,le]]}),Je=Ja("centroid",function(pa){qc=sc=tc=Ic=Ad=Gc=$c=yd=0;Cd=new Sc;Kd=new Sc;Fe=new Sc;Zb(pa,Ge);pa=+Cd;var bb=+Kd,Qb=+Fe,gd=sd(pa,bb,Qb);return 1E-12>gd&&(pa=Gc,bb=$c,Qb=yd,1E-6>sc&&(pa=tc,bb=Ic,Qb=Ad),gd=sd(pa,bb,Qb),1E-12>gd)?[NaN,NaN]:[Vc(bb,pa)*pc,lb(Qb/gd)*pc]});var ne=1/.7,
Bf=/^#([0-9a-f]{3,8})$/,Hf=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),ef=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Zf=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Yd=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
cf=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),jf=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};Ib(uc,Wb,{copy(pa){return Object.assign(new this.constructor,this,pa)},displayable(){return this.rgb().displayable()},hex:wc,formatHex:wc,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Md(this).formatHsl()},formatRgb:bd,toString:bd});Ib(rb,Ub,xc(uc,{brighter(pa){pa=null==pa?ne:Math.pow(ne,pa);return new rb(this.r*pa,this.g*pa,this.b*pa,this.opacity)},darker(pa){pa=null==pa?.7:Math.pow(.7,pa);return new rb(this.r*pa,this.g*pa,
this.b*pa,this.opacity)},rgb(){return this},clamp(){return new rb(Hc(this.r),Hc(this.g),Hc(this.b),bc(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Sb,formatHex:Sb,formatHex8:function(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}${zc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:fc,toString:fc}));Ib(Ga,td,xc(uc,{brighter(pa){pa=null==pa?ne:Math.pow(ne,pa);return new Ga(this.h,
this.s,this.l*pa,this.opacity)},darker(pa){pa=null==pa?.7:Math.pow(.7,pa);return new Ga(this.h,this.s,this.l*pa,this.opacity)},rgb(){var pa=this.h%360+360*(0>this.h),bb=isNaN(pa)||isNaN(this.s)?0:this.s,Qb=this.l;bb=Qb+(.5>Qb?Qb:1-Qb)*bb;Qb=2*Qb-bb;return new rb(ra(240<=pa?pa-240:pa+120,Qb,bb),ra(pa,Qb,bb),ra(120>pa?pa+240:pa-120,Qb,bb),this.opacity)},clamp(){return new Ga(gb(this.h),vb(this.s),vb(this.l),bc(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=
this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const pa=bc(this.opacity);return`${1===pa?"hsl(":"hsla("}${gb(this.h)}, ${100*vb(this.s)}%, ${100*vb(this.l)}%${1===pa?")":`, ${pa})`}`}}));const Gf=Math.PI/180,If=180/Math.PI,xf=4/29,yf=6/29,Bg=3*yf*yf,hg=yf*yf*yf;Ib(La,ya,xc(uc,{brighter(pa){return new La(this.l+18*(null==pa?1:pa),this.a,this.b,this.opacity)},darker(pa){return new La(this.l-18*(null==pa?1:pa),this.a,this.b,this.opacity)},rgb(){var pa=(this.l+16)/116,bb=isNaN(this.a)?pa:pa+this.a/
500,Qb=isNaN(this.b)?pa:pa-this.b/200;bb=.96422*jb(bb);pa=1*jb(pa);Qb=.82521*jb(Qb);return new rb(Fb(3.1338561*bb-1.6168667*pa-.4906146*Qb),Fb(-.9787684*bb+1.9161415*pa+.033454*Qb),Fb(.0719453*bb-.2289914*pa+1.4052427*Qb),this.opacity)}}));Ib(Uc,ic,xc(uc,{brighter(pa){return new Uc(this.h,this.c,this.l+18*(null==pa?1:pa),this.opacity)},darker(pa){return new Uc(this.h,this.c,this.l-18*(null==pa?1:pa),this.opacity)},rgb(){return cd(this).rgb()}}));const vf={},Jf=pa=>pa.data,dg={random(){return kc.random()},
cumulativeNormal:kc.cumulativeNormal,cumulativeLogNormal:kc.cumulativeLogNormal,cumulativeUniform:kc.cumulativeUniform,densityNormal:kc.densityNormal,densityLogNormal:kc.densityLogNormal,densityUniform:kc.densityUniform,quantileNormal:kc.quantileNormal,quantileLogNormal:kc.quantileLogNormal,quantileUniform:kc.quantileUniform,sampleNormal:kc.sampleNormal,sampleLogNormal:kc.sampleLogNormal,sampleUniform:kc.sampleUniform,isArray:g.isArray,isBoolean:g.isBoolean,isDate:g.isDate,isDefined(pa){return void 0!==
pa},isNumber:g.isNumber,isObject:g.isObject,isRegExp:g.isRegExp,isString:g.isString,isTuple:Gb.isTuple,isValid(pa){return null!=pa&&pa===pa},toBoolean:g.toBoolean,toDate(pa){return g.toDate(pa)},toNumber:g.toNumber,toString:g.toString,indexof:Xb,join:Hb,lastindexof:Ac,replace:Fc,reverse:hd,slice:lc,flush:g.flush,lerp:g.lerp,merge:Ed,pad:g.pad,peek:g.peek,pluck:ka,span:g.span,inrange:g.inrange,truncate:g.truncate,rgb:Ub,lab:ya,hcl:ic,hsl:td,luminance:Qd,contrast:Td,sequence:function(pa,bb,Qb){pa=+pa;
bb=+bb;Qb=2>(ld=arguments.length)?(bb=pa,pa=0,1):3>ld?1:+Qb;for(var gd=-1,ld=Math.max(0,Math.ceil((bb-pa)/Qb))|0,pe=Array(ld);++gd<ld;)pe[gd]=pa+gd*Qb;return pe},format:I,utcFormat:Sa,utcParse:Pc,utcOffset:yc.utcOffset,utcSequence:yc.utcSequence,timeFormat:da,timeParse:ac,timeOffset:yc.timeOffset,timeSequence:yc.timeSequence,timeUnitSpecifier:yc.timeUnitSpecifier,monthFormat:Kb,monthAbbrevFormat:Ob,dayFormat:Bb,dayAbbrevFormat:Pb,quarter:g.quarter,utcquarter:g.utcquarter,week:yc.week,utcweek:yc.utcweek,
dayofyear:yc.dayofyear,utcdayofyear:yc.utcdayofyear,warn:W,info:Ca,debug:Za,extent(pa){return g.extent(pa)},inScope:Wa,intersect:zb,clampRange:g.clampRange,pinchDistance:Xd,pinchAngle:M,screen:T,containerSize:db,windowSize:ta,bandspace:Nc,setdata:rc,pathShape:df,panLinear:g.panLinear,panLog:g.panLog,panPow:g.panPow,panSymlog:g.panSymlog,zoomLinear:g.zoomLinear,zoomLog:g.zoomLog,zoomPow:g.zoomPow,zoomSymlog:g.zoomSymlog,encode:Va,modify:Te,lassoAppend:function(pa,bb,Qb,gd=5){pa=g.array(pa);const ld=
pa[pa.length-1];return void 0===ld||Math.hypot(ld[0]-bb,ld[1]-Qb)>gd?[...pa,[bb,Qb]]:pa},lassoPath:function(pa){return g.array(pa).reduce((bb,[Qb,gd],ld)=>bb+(0==ld?`M ${Qb},${gd} `:ld===pa.length-1?" Z":`L ${Qb},${gd} `),"")},intersectLasso:function(pa,bb,Qb){const {x:gd,y:ld,mark:pe}=Qb;Qb=(new $b.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [Oe,nf]of bb)Oe<Qb.x1&&(Qb.x1=Oe),Oe>Qb.x2&&(Qb.x2=Oe),nf<Qb.y1&&(Qb.y1=nf),nf>Qb.y2&&
(Qb.y2=nf);Qb.translate(gd,ld);return zb([[Qb.x1,Qb.y1],[Qb.x2,Qb.y2]],pa,pe).filter(Oe=>{var nf=Oe.y;let Ef=0;for(let Me=0,$f=bb.length-1;Me<bb.length;$f=Me++){const [Mf,Tf]=bb[$f],[pg,qg]=bb[Me];qg>nf!=Tf>nf&&Oe.x<(Mf-pg)*(nf-qg)/(Tf-qg)+pg&&Ef++}return Ef&1})}},Xg="view item group xy x y".split(" "),Fg={},Jg={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:pa=>`_[${g.stringValue("$"+pa)}]`,functions:function(pa){const bb=qa.functions(pa);Xg.forEach(Qb=>bb[Qb]="event.vega."+
Qb);for(const Qb in dg)bb[Qb]="this."+Qb;g.extend(bb,kb(pa,dg,Fg));return bb},constants:qa.constants,visitors:Fg},Sg=qa.codegenExpression(Jg);Bc("bandwidth",rd,Oa);Bc("copy",Gd,Oa);Bc("domain",Fd,Oa);Bc("range",Wd,Oa);Bc("invert",$d,Oa);Bc("scale",ae,Oa);Bc("gradient",Be,Oa);Bc("geoArea",hf,Oa);Bc("geoBounds",rf,Oa);Bc("geoCentroid",Je,Oa);Bc("geoShape",ff,Oa);Bc("indata",gc,pb);Bc("data",Ab,Ua);Bc("treePath",re,Ua);Bc("treeAncestors",pf,Ua);Bc("vlSelectionTest",oc.selectionTest,oc.selectionVisitor);
Bc("vlSelectionIdTest",oc.selectionIdTest,oc.selectionVisitor);Bc("vlSelectionResolve",oc.selectionResolve,oc.selectionVisitor);Bc("vlSelectionTuples",oc.selectionTuples);r.DataPrefix=":";r.IndexPrefix="@";r.ScalePrefix="%";r.SignalPrefix="$";r.bandspace=Nc;r.bandwidth=rd;r.codeGenerator=Sg;r.codegenParams=Jg;r.containerSize=db;r.contrast=Td;r.copy=Gd;r.data=Ab;r.dataVisitor=Ua;r.dayAbbrevFormat=Pb;r.dayFormat=Bb;r.debug=Za;r.domain=Fd;r.encode=Va;r.expressionFunction=Bc;r.format=I;r.functionContext=
dg;r.geoArea=hf;r.geoBounds=rf;r.geoCentroid=Je;r.geoShape=ff;r.inScope=Wa;r.indata=gc;r.indataVisitor=pb;r.indexof=Xb;r.info=Ca;r.invert=$d;r.join=Hb;r.lastindexof=Ac;r.luminance=Qd;r.merge=Ed;r.modify=Te;r.monthAbbrevFormat=Ob;r.monthFormat=Kb;r.parseExpression=function(pa,bb){const Qb={};let gd;try{pa=g.isString(pa)?pa:g.stringValue(pa)+"",gd=qa.parseExpression(pa)}catch(ld){g.error("Expression parse error: "+pa)}gd.visit(ld=>{if(ld.type===qa.CallExpression){var pe=ld.callee.name,Oe=Jg.visitors[pe];
Oe&&Oe(pe,ld.arguments,bb,Qb)}});pa=Sg(gd);pa.globals.forEach(ld=>{const pe="$"+ld;!g.hasOwnProperty(Qb,pe)&&bb.getSignal(ld)&&(Qb[pe]=bb.signalRef(ld))});return{$expr:g.extend({code:pa.code},bb.options.ast?{ast:gd}:null),$fields:pa.fields,$params:Qb}};r.pathShape=df;r.pinchAngle=M;r.pinchDistance=Xd;r.pluck=ka;r.range=Wd;r.replace=Fc;r.reverse=hd;r.scale=ae;r.scaleGradient=Be;r.scaleVisitor=Oa;r.screen=T;r.setdata=rc;r.slice=lc;r.timeFormat=da;r.timeParse=ac;r.treeAncestors=pf;r.treePath=re;r.utcFormat=
Sa;r.utcParse=Pc;r.warn=W;r.windowSize=ta})};
shadow$provide[60]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(29)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega))})(this,function(r,g,qa){function hb(Va,qb,Kb){Kb.endsWith(";")||(Kb="return("+Kb+");");qb=Function(...qb.concat(Kb));return Va&&Va.functions?qb.bind(Va.functions):qb}function Gb(Va,qb,Kb){if(!Va||!g.isObject(Va))return Va;
for(let Ob=0,Bb=gc.length,Pb;Ob<Bb;++Ob)if(Pb=gc[Ob],g.hasOwnProperty(Va,Pb.key))return Pb.parse(Va,qb,Kb);return Va}function $b(Va,qb,Kb,Ob){this.dataflow=Va;this.transforms=qb;this.events=Va.events.bind(Va);this.expr=Ob||Ab;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};Kb&&(this.functions=Object.create(Kb),this.functions.context=this)}function oc(Va){this.dataflow=Va.dataflow;this.transforms=Va.transforms;this.events=Va.events;this.expr=Va.expr;this.signals=Object.create(Va.signals);
this.scales=Object.create(Va.scales);this.nodes=Object.create(Va.nodes);this.data=Object.create(Va.data);this.fn=Object.create(Va.fn);Va.functions&&(this.functions=Object.create(Va.functions),this.functions.context=this)}const kc=g.toSet(["rule"]),yc=g.toSet(["group","image","rect"]);var Ab={operator:(Va,qb)=>hb(Va,["_"],qb.code),parameter:(Va,qb)=>hb(Va,["datum","_"],qb.code),event:(Va,qb)=>hb(Va,["event"],qb.code),handler:(Va,qb)=>hb(Va,["_","event"],`var datum=event.item&&event.item.datum;return ${qb.code};`),
encode:(Va,qb)=>{const {marktype:Kb,channels:Ob}=qb;qb="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var Bb in Ob){const Pb="o["+g.stringValue(Bb)+"]";qb+=`$=${Ob[Bb].code};if(${Pb}!==$)${Pb}=$,m=1;`}Bb="";kc[Kb]||(Ob.x2&&(Ob.x?(yc[Kb]&&(Bb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),Bb+="o.width\x3do.x2-o.x;"):Bb+="o.x\x3do.x2-(o.width||0);"),Ob.xc&&(Bb+="o.x\x3do.xc-(o.width||0)/2;"),Ob.y2&&(Ob.y?(yc[Kb]&&(Bb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),Bb+="o.height\x3do.y2-o.y;"):
Bb+="o.y\x3do.y2-(o.height||0);"),Ob.yc&&(Bb+="o.y\x3do.yc-(o.height||0)/2;"));qb+=Bb;return hb(Va,["item","_"],qb+"return m;")},codegen:{get(Va){Va=`[${Va.map(g.stringValue).join("][")}]`;const qb=Function("_",`return _${Va};`);qb.path=Va;return qb},comparator(Va,qb){let Kb;Va=Function("a","b","var u, v; return "+Va.map((Ob,Bb)=>{const Pb=qb[Bb];let Ua;Ob.path?(Ua=`a${Ob.path}`,Ob=`b${Ob.path}`):((Kb=Kb||{})["f"+Bb]=Ob,Ua=`this.f${Bb}(a)`,Ob=`this.f${Bb}(b)`);Bb=-Pb;return`((u = ${Ua}) < (v = ${Ob}) || u == null) && v != null ? ${Bb}
  : (u > v || v == null) && u != null ? ${Pb}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Bb}
  : v !== v && u === u ? ${Pb} : `}).join("")+"0;");return Kb?Va.bind(Kb):Va}}},gc=[{key:"$ref",parse:function(Va,qb){return qb.get(Va.$ref)||g.error("Operator not defined: "+Va.$ref)}},{key:"$key",parse:function(Va,qb){const Kb="k:"+Va.$key+"_"+!!Va.$flat;return qb.fn[Kb]||(qb.fn[Kb]=g.key(Va.$key,Va.$flat,qb.expr.codegen))}},{key:"$expr",parse:function(Va,qb,Kb){Va.$params&&qb.parseParameters(Va.$params,Kb);Kb="e:"+Va.$expr.code;return qb.fn[Kb]||(qb.fn[Kb]=g.accessor(qb.parameterExpression(Va.$expr),
Va.$fields))}},{key:"$field",parse:function(Va,qb){if(!Va.$field)return null;const Kb="f:"+Va.$field+"_"+Va.$name;return qb.fn[Kb]||(qb.fn[Kb]=g.field(Va.$field,Va.$name,qb.expr.codegen))}},{key:"$encode",parse:function(Va,qb){Va=Va.$encode;const Kb={};for(const Ob in Va){const Bb=Va[Ob];Kb[Ob]=g.accessor(qb.encodeExpression(Bb.$expr),Bb.$fields);Kb[Ob].output=Bb.$output}return Kb}},{key:"$compare",parse:function(Va,qb){const Kb="c:"+Va.$compare+"_"+Va.$order,Ob=g.array(Va.$compare).map(Bb=>Bb&&Bb.$tupleid?
qa.tupleid:Bb);return qb.fn[Kb]||(qb.fn[Kb]=g.compare(Ob,Va.$order,qb.expr.codegen))}},{key:"$context",parse:function(Va,qb){return qb}},{key:"$subflow",parse:function(Va,qb){const Kb=Va.$subflow;return function(Ob,Bb,Pb){const Ua=qb.fork().parse(Kb);Ob=Ua.get(Kb.operators[0].id);(Bb=Ua.signals.parent)&&Bb.set(Pb);Ob.detachSubflow=()=>qb.detach(Ua);return Ob}}},{key:"$tupleid",parse:function(){return qa.tupleid}}];const rc={skip:!0};$b.prototype=oc.prototype={fork(){const Va=new oc(this);(this.subcontext||
(this.subcontext=[])).push(Va);return Va},detach(Va){this.subcontext=this.subcontext.filter(Kb=>Kb!==Va);const qb=Object.keys(Va.nodes);for(const Kb of qb)Va.nodes[Kb]._targets=null;for(const Kb of qb)Va.nodes[Kb].detach();Va.nodes=null},get(Va){return this.nodes[Va]},set(Va,qb){return this.nodes[Va]=qb},add(Va,qb){const Kb=this,Ob=Kb.dataflow,Bb=Va.value;Kb.set(Va.id,qb);"collect"===(Va.type+"").toLowerCase()&&Bb&&(Bb.$ingest?Ob.ingest(qb,Bb.$ingest,Bb.$format):Bb.$request?Ob.preload(qb,Bb.$request,
Bb.$format):Ob.pulse(qb,Ob.changeset().insert(Bb)));Va.root&&(Kb.root=qb);if(Va.parent){let Pb=Kb.get(Va.parent.$ref);Pb?(Ob.connect(Pb,[qb]),qb.targets().add(Pb)):(Kb.unresolved=Kb.unresolved||[]).push(()=>{Pb=Kb.get(Va.parent.$ref);Ob.connect(Pb,[qb]);qb.targets().add(Pb)})}Va.signal&&(Kb.signals[Va.signal]=qb);Va.scale&&(Kb.scales[Va.scale]=qb);if(Va.data)for(const Pb in Va.data){const Ua=Kb.data[Pb]||(Kb.data[Pb]={});Va.data[Pb].forEach(pb=>Ua[pb]=qb)}},resolve(){(this.unresolved||[]).forEach(Va=>
Va());delete this.unresolved;return this},operator(Va,qb){this.add(Va,this.dataflow.add(Va.value,qb))},transform(Va,qb){this.add(Va,this.dataflow.add(this.transforms[(qb+"").toLowerCase()]))},stream(Va,qb){this.set(Va.id,qb)},update(Va,qb,Kb,Ob,Bb){this.dataflow.on(qb,Kb,Ob,Bb,Va.options)},operatorExpression(Va){return this.expr.operator(this,Va)},parameterExpression(Va){return this.expr.parameter(this,Va)},eventExpression(Va){return this.expr.event(this,Va)},handlerExpression(Va){return this.expr.handler(this,
Va)},encodeExpression(Va){return this.expr.encode(this,Va)},parse:function(Va){const qb=this,Kb=Va.operators||[];Va.background&&(qb.background=Va.background);Va.eventConfig&&(qb.eventConfig=Va.eventConfig);Va.locale&&(qb.locale=Va.locale);Kb.forEach(Ob=>qb.parseOperator(Ob));Kb.forEach(Ob=>qb.parseOperatorParameters(Ob));(Va.streams||[]).forEach(Ob=>qb.parseStream(Ob));(Va.updates||[]).forEach(Ob=>qb.parseUpdate(Ob));return qb.resolve()},parseOperator:function(Va){"operator"!==(Va.type+"").toLowerCase()&&
Va.type?this.transform(Va,Va.type):this.operator(Va,Va.update?this.operatorExpression(Va.update):null)},parseOperatorParameters:function(Va){if(Va.params){const qb=this.get(Va.id);qb||g.error("Invalid operator id: "+Va.id);this.dataflow.connect(qb,qb.parameters(this.parseParameters(Va.params),Va.react,Va.initonly))}},parseParameters:function(Va,qb){qb=qb||{};const Kb=this;for(const Ob in Va){const Bb=Va[Ob];qb[Ob]=g.isArray(Bb)?Bb.map(Pb=>Gb(Pb,Kb,qb)):Gb(Bb,Kb,qb)}return qb},parseStream:function(Va){var qb=
this,Kb=null!=Va.filter?qb.eventExpression(Va.filter):void 0,Ob=null!=Va.stream?qb.get(Va.stream):void 0;if(Va.source)Ob=qb.events(Va.source,Va.type,Kb);else if(Va.merge){var Bb=Va.merge.map(Pb=>qb.get(Pb));Ob=Bb[0].merge.apply(Bb[0],Bb.slice(1))}Va.between&&(Bb=Va.between.map(Pb=>qb.get(Pb)),Ob=Ob.between(Bb[0],Bb[1]));Va.filter&&(Ob=Ob.filter(Kb));null!=Va.throttle&&(Ob=Ob.throttle(+Va.throttle));null!=Va.debounce&&(Ob=Ob.debounce(+Va.debounce));null==Ob&&g.error("Invalid stream definition: "+JSON.stringify(Va));
Va.consume&&Ob.consume(!0);qb.stream(Va,Ob)},parseUpdate:function(Va){var qb=g.isObject(qb=Va.source)?qb.$ref:qb;qb=this.get(qb);var Kb=Va.update,Ob=void 0;qb||g.error("Source not defined: "+Va.source);var Bb=Va.target&&Va.target.$expr?this.eventExpression(Va.target.$expr):this.get(Va.target);Kb&&Kb.$expr&&(Kb.$params&&(Ob=this.parseParameters(Kb.$params)),Kb=this.handlerExpression(Kb.$expr));this.update(Va,qb,Bb,Kb,Ob)},getState:function(Va){var qb=this,Kb={};if(Va.signals){var Ob=Kb.signals={};
Object.keys(qb.signals).forEach(Pb=>{const Ua=qb.signals[Pb];Va.signals(Pb,Ua)&&(Ob[Pb]=Ua.value)})}if(Va.data){var Bb=Kb.data={};Object.keys(qb.data).forEach(Pb=>{const Ua=qb.data[Pb];Va.data(Pb,Ua)&&(Bb[Pb]=Ua.input.value)})}qb.subcontext&&!1!==Va.recurse&&(Kb.subcontext=qb.subcontext.map(Pb=>Pb.getState(Va)));return Kb},setState:function(Va){var qb=this,Kb=qb.dataflow,Ob=Va.data,Bb=Va.signals;Object.keys(Bb||{}).forEach(Pb=>{Kb.update(qb.signals[Pb],Bb[Pb],rc)});Object.keys(Ob||{}).forEach(Pb=>
{Kb.pulse(qb.data[Pb].input,Kb.changeset().remove(g.truthy).insert(Ob[Pb]))});(Va.subcontext||[]).forEach((Pb,Ua)=>{(Ua=qb.subcontext[Ua])&&Ua.setState(Pb)})}};r.context=function(Va,qb,Kb,Ob){return new $b(Va,qb,Kb,Ob)}})};
shadow$provide[61]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(29),Db(34),Db(59),Db(60),Db(24)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb,Gb,$b,oc){function kc(Ga){const gb=Ga.container();gb&&(gb.setAttribute("role",
"graphics-document"),gb.setAttribute("aria-roleDescription","visualization"),yc(gb,Ga.description()))}function yc(Ga,gb){Ga&&(null==gb?Ga.removeAttribute("aria-label"):Ga.setAttribute("aria-label",gb))}function Ab(Ga){Ga.add(null,gb=>{Ga._background=gb.bg;Ga._resize=1;return gb.bg},{bg:Ga._signals.background})}function gc(Ga){const gb=Ga._signals.cursor||(Ga._signals.cursor=Ga.add({user:"default",item:null}));Ga.on(Ga.events("view","mousemove"),gb,(vb,ra)=>{const F=(vb=gb.value)?g.isString(vb)?vb:
vb.user:"default";ra=ra.item&&ra.item.cursor||null;return vb&&F===vb.user&&ra==vb.item?vb:{user:F,item:ra}});Ga.add(null,function(vb){vb=vb.cursor;let ra=this.value;g.isString(vb)||(ra=vb.item,vb=vb.user);rc(Ga,vb&&"default"!==vb?vb:ra||vb);return ra},{cursor:gb})}function rc(Ga,gb){if(Ga=Ga.globalCursor()?"undefined"!==typeof document&&document.body:Ga.container())return null==gb?Ga.style.removeProperty("cursor"):Ga.style.cursor=gb}function Va(Ga,gb){Ga=Ga._runtime.data;g.hasOwnProperty(Ga,gb)||
g.error("Unrecognized data set: "+gb);return Ga[gb]}function qb(Ga,gb){qa.isChangeSet(gb)||g.error("Second argument to changes must be a changeset.");Ga=Va(this,Ga);Ga.modified=!0;return this.pulse(Ga.input,gb)}function Kb(Ga){var gb=Ga.padding();return Math.max(0,Ga._viewWidth+gb.left+gb.right)}function Ob(Ga){var gb=Ga.padding();return Math.max(0,Ga._viewHeight+gb.top+gb.bottom)}function Bb(Ga){var gb=Ga.padding();Ga=Ga._origin;return[gb.left+Ga[0],gb.top+Ga[1]]}function Pb(Ga){var gb=Bb(Ga),vb=
Kb(Ga),ra=Ob(Ga);Ga._renderer.background(Ga.background());Ga._renderer.resize(vb,ra,gb);Ga._handler.origin(gb);Ga._resizeListeners.forEach(F=>{try{F(vb,ra)}catch(ya){Ga.error(ya)}})}function Ua(Ga,gb,vb){function ra(La){var $a=ya,jb;if(La)for(jb=gb;jb;jb=jb.mark.group)if(jb.mark.name===La){$a=jb;break}return $a&&$a.mark&&$a.mark.interactive?$a:{}}function F(La){if(!La)return vb;g.isString(La)&&(La=ra(La));const $a=vb.slice();for(;La;)$a[0]-=La.x||0,$a[1]-=La.y||0,La=La.mark&&La.mark.group;return $a}
const ya=gb?"group"===gb.mark.marktype?gb:gb.mark.group:null;return{view:g.constant(Ga),item:g.constant(gb||{}),group:ra,xy:F,x:La=>F(La)[0],y:La=>F(La)[1]}}function pb(Ga){Ga=g.extend({defaults:{}},Ga);const gb=(vb,ra)=>{ra.forEach(F=>{g.isArray(vb[F])&&(vb[F]=g.toSet(vb[F]))})};gb(Ga.defaults,["prevent","allow"]);gb(Ga,["view","window","selector"]);return Ga}function Oa(Ga,gb,vb,ra){Ga._eventListeners.push({type:vb,sources:g.array(gb),handler:ra})}function Da(Ga,gb,vb){const ra=Ga._eventConfig&&
Ga._eventConfig[gb];return!1===ra||g.isObject(ra)&&!ra[vb]?(Ga.warn(`Blocked ${gb} ${vb} event listener.`),!1):!0}function Pa(Ga){return Ga.item}function kb(Ga){return Ga.item.mark.source}function lb(Ga){return function(gb,vb){return vb.vega.view().changeset().encode(vb.item,Ga)}}function Na(Ga,gb,vb){Ga=document.createElement(Ga);for(const ra in gb)Ga.setAttribute(ra,gb[ra]);null!=vb&&(Ga.textContent=vb);return Ga}function xb(Ga,gb,vb){var ra=(gb-Ga)/Math.max(0,vb),F=Math.floor(Math.log10(ra));ra/=
Math.pow(10,F);ra=ra>=Wb?10:ra>=Rc?5:ra>=Pd?2:1;let ya;0>F?(ya=Math.pow(10,-F)/ra,F=Math.round(Ga*ya),ra=Math.round(gb*ya),F/ya<Ga&&++F,ra/ya>gb&&--ra,ya=-ya):(ya=Math.pow(10,F)*ra,F=Math.round(Ga/ya),ra=Math.round(gb/ya),F*ya<Ga&&++F,ra*ya>gb&&--ra);return ra<F&&.5<=vb&&2>vb?xb(Ga,gb,2*vb):[F,ra,ya]}function ob(Ga,gb,vb){return xb(+Ga,+gb,+vb)[2]}function Nb(Ga,gb,vb){gb=+gb;Ga=+Ga;vb=+vb;const ra=gb<Ga;Ga=ra?ob(gb,Ga,vb):ob(Ga,gb,vb);return(ra?-1:1)*(0>Ga?1/-Ga:Ga)}function Zb(Ga,gb,vb){if(gb){var ra=
vb.param,F=vb.state;F||(F=vb.state={elements:null,active:!1,set:null,update:ya=>{ya!=Ga.signal(ra.signal)&&Ga.runAsync(null,()=>{F.source=!0;Ga.signal(ra.signal,ya)})}},ra.debounce&&(F.update=g.debounce(ra.debounce,F.update)));(null==ra.input&&ra.element?nb:la)(F,gb,ra,Ga);F.active||(Ga.on(Ga._signals[ra.signal],null,()=>{F.source?F.source=!1:F.set(Ga.signal(ra.signal))}),F.active=!0);return F}}function nb(Ga,gb,vb,ra){const F=vb.event||"input",ya=()=>Ga.update(gb.value);ra.signal(vb.signal,gb.value);
gb.addEventListener(F,ya);Oa(ra,gb,F,ya);Ga.set=La=>{gb.value=La;La=gb.dispatchEvent;var $a="undefined"!==typeof Event?new Event(F):{type:F};La.call(gb,$a)}}function la(Ga,gb,vb,ra){ra=ra.signal(vb.signal);const F=Na("div",{"class":"vega-bind"}),ya="radio"===vb.input?F:F.appendChild(Na("label"));ya.appendChild(Na("span",{"class":"vega-bind-name"},vb.name||vb.signal));gb.appendChild(F);gb=Y;switch(vb.input){case "checkbox":gb=Ha;break;case "select":gb=Fa;break;case "radio":gb=cb;break;case "range":gb=
aa}gb(Ga,ya,vb,ra)}function Y(Ga,gb,vb,ra){const F=Na("input");for(const ya in vb)"signal"!==ya&&"element"!==ya&&F.setAttribute("input"===ya?"type":ya,vb[ya]);F.setAttribute("name",vb.signal);F.value=ra;gb.appendChild(F);F.addEventListener("input",()=>Ga.update(F.value));Ga.elements=[F];Ga.set=ya=>F.value=ya}function Ha(Ga,gb,vb,ra){vb={type:"checkbox",name:vb.signal};ra&&(vb.checked=!0);const F=Na("input",vb);gb.appendChild(F);F.addEventListener("change",()=>Ga.update(F.checked));Ga.elements=[F];
Ga.set=ya=>F.checked=!!ya||null}function Fa(Ga,gb,vb,ra){const F=Na("select",{name:vb.signal}),ya=vb.labels||[];vb.options.forEach((La,$a)=>{const jb={value:La};ma(La,ra)&&(jb.selected=!0);F.appendChild(Na("option",jb,(ya[$a]||La)+""))});gb.appendChild(F);F.addEventListener("change",()=>{Ga.update(vb.options[F.selectedIndex])});Ga.elements=[F];Ga.set=La=>{for(let $a=0,jb=vb.options.length;$a<jb;++$a)if(ma(vb.options[$a],La)){F.selectedIndex=$a;break}}}function cb(Ga,gb,vb,ra){const F=Na("span",{"class":"vega-bind-radio"}),
ya=vb.labels||[];gb.appendChild(F);Ga.elements=vb.options.map((La,$a)=>{var jb={type:"radio",name:vb.signal,value:La};ma(La,ra)&&(jb.checked=!0);jb=Na("input",jb);jb.addEventListener("change",()=>Ga.update(La));$a=Na("label",{},(ya[$a]||La)+"");$a.prepend(jb);F.appendChild($a);return jb});Ga.set=La=>{const $a=Ga.elements,jb=$a.length;for(let Fb=0;Fb<jb;++Fb)ma($a[Fb].value,La)&&($a[Fb].checked=!0)}}function aa(Ga,gb,vb,ra){ra=void 0!==ra?ra:(+vb.max+ +vb.min)/2;const F=null!=vb.max?vb.max:Math.max(100,
+ra)||100,ya=vb.min||Math.min(0,F,+ra)||0,La=vb.step||Nb(ya,F,100),$a=Na("input",{type:"range",name:vb.signal,min:ya,max:F,step:La});$a.value=ra;const jb=Na("span",{},+ra);gb.appendChild($a);gb.appendChild(jb);gb=()=>{jb.textContent=$a.value;Ga.update(+$a.value)};$a.addEventListener("input",gb);$a.addEventListener("change",gb);Ga.elements=[$a];Ga.set=Fb=>{$a.value=Fb;jb.textContent=Fb}}function ma(Ga,gb){return Ga===gb||Ga+""===gb+""}function p(Ga,gb,vb,ra,F,ya){gb=gb||new ra(Ga.loader());return gb.initialize(vb,
Kb(Ga),Ob(Ga),Bb(Ga),F,ya).background(Ga.background())}function L(Ga,gb){return gb?function(){try{gb.apply(this,arguments)}catch(vb){Ga.error(vb)}}:null}function P(Ga,gb,vb,ra){const F=(new ra(Ga.loader(),L(Ga,Ga.tooltip()))).scene(Ga.scenegraph().root).initialize(vb,Bb(Ga),Ga);gb&&gb.handlers().forEach(ya=>{F.on(ya.type,ya.handler)});return F}function f(Ga,gb,vb){if("string"===typeof gb)if("undefined"!==typeof document){if(gb=document.querySelector(gb),!gb)return Ga.error("Signal bind element not found: "+
gb),null}else return Ga.error("DOM document instance not found."),null;if(gb&&vb)try{gb.textContent=""}catch(ra){gb=null,Ga.error(ra)}return gb}function v(Ga){g.isObject(Ga)?Ga={top:+Ga.top||0,bottom:+Ga.bottom||0,left:+Ga.left||0,right:+Ga.right||0}:(Ga=+Ga||0,Ga={top:Ga,bottom:Ga,left:Ga,right:Ga});return Ga}function l(Ga,gb,vb,ra){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var F=hb.renderModule(gb);(F=F&&F.headless)||g.error("Unrecognized renderer type: "+gb);yield Ga.runAsync();
return p(Ga,null,null,F,vb,ra).renderAsync(Ga._scenegraph.root)})}function C(Ga,gb,vb){return $b.context(Ga,qa.transforms,Gb.functionContext,vb).parse(gb)}function B(Ga,gb){var vb=Ga.autosize();Ga=Ga.padding();return gb-(vb&&"padding"===vb.contains?Ga.left+Ga.right:0)}function z(Ga,gb){var vb=Ga.autosize();Ga=Ga.padding();return gb-(vb&&"padding"===vb.contains?Ga.top+Ga.bottom:0)}function D(Ga){function gb(){Ga._autosize=Ga._resize=1}var vb=Ga._signals,ra=vb.width,F=vb.height;vb=vb.padding;Ga._resizeWidth=
Ga.add(null,La=>{Ga._width=La.size;Ga._viewWidth=B(Ga,La.size);gb()},{size:ra});Ga._resizeHeight=Ga.add(null,La=>{Ga._height=La.size;Ga._viewHeight=z(Ga,La.size);gb()},{size:F});const ya=Ga.add(null,gb,{pad:vb});Ga._resizeWidth.rank=ra.rank+1;Ga._resizeHeight.rank=F.rank+1;ya.rank=vb.rank+1}function G(Ga,gb){return gb.modified&&g.isArray(gb.input.value)&&Ga.indexOf("_:vega:_")}function U(Ga,gb){return!("parent"===Ga||gb instanceof qa.transforms.proxy)}function Aa(){return zc||(td(X),zc=Md.now()+Yc)}
function X(){zc=0}function u(){this._call=this._time=this._next=null}function K(){zc=(Hc=Md.now())+Yc;Ub=rb=0;try{Aa();++Ub;for(var Ga=fc,gb;Ga;)0<=(gb=zc-Ga._time)&&Ga._call.call(void 0,gb),Ga=Ga._next;--Ub}finally{Ub=0;Ga=fc;for(var vb=Infinity;Ga;)if(Ga._call){vb>Ga._time&&(vb=Ga._time);var ra=Ga;Ga=Ga._next}else gb=Ga._next,Ga._next=null,Ga=ra?ra._next=gb:fc=gb;bc=ra;Ja(vb);zc=0}}function ua(){var Ga=Md.now(),gb=Ga-Hc;1E3<gb&&(Yc-=gb,Hc=Ga)}function Ja(Ga){Ub||(rb&&(rb=clearTimeout(rb)),24<Ga-
zc?(Infinity>Ga&&(rb=setTimeout(K,Ga-Md.now()-Yc)),Sb&&(Sb=clearInterval(Sb))):(Sb||(Hc=Md.now(),Sb=setInterval(ua,1E3)),Ub=1,td(K)))}function Wa(Ga,gb,vb){var ra=new u,F=gb;if(null==gb)return ra.restart(Ga,gb,vb),ra;ra._restart=ra.restart;ra.restart=function(ya,La,$a){La=+La;$a=null==$a?Aa():+$a;ra._restart(function nc(Fb){Fb+=F;ra._restart(nc,F+=La,$a);ya(Fb)},La,$a)};ra.restart(Ga,gb,vb);return ra}function ab(Ga,gb,vb,ra){if(Ga=Ga.element())gb=Ga.setAttribute,ra=null==ra?"":g.isArray(ra)?"["+ra.map(Ca).join(", ")+
"]":g.isObject(ra)&&!g.isDate(ra)?W(ra):ra+"",gb.call(Ga,"title",ra)}function W(Ga){return Object.keys(Ga).map(gb=>{const vb=Ga[gb];return gb+": "+(g.isArray(vb)?"["+vb.map(Ca).join(", ")+"]":Ca(vb))}).join("\n")}function Ca(Ga){return g.isArray(Ga)?"[]":g.isObject(Ga)&&!g.isDate(Ga)?"{}":Ga}function Za(Ga,gb){gb=gb||{};qa.Dataflow.call(this);gb.loader&&this.loader(gb.loader);gb.logger&&this.logger(gb.logger);null!=gb.logLevel&&this.logLevel(gb.logLevel);if(gb.locale||Ga.locale){var vb=g.extend({},
Ga.locale,gb.locale);this.locale(oc.locale(vb.number,vb.time))}this._elBind=this._el=null;this._renderType=gb.renderer||hb.RenderType.Canvas;this._scenegraph=new hb.Scenegraph;vb=this._scenegraph.root;this._renderer=null;this._tooltip=gb.tooltip||ab;this._redraw=!0;this._handler=(new hb.CanvasHandler).scene(vb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=pb(Ga.eventConfig);this.globalCursor(this._eventConfig.globalCursor);
const ra=C(this,Ga,gb.expr);this._runtime=ra;this._signals=ra.signals;this._bind=(Ga.bindings||[]).map(F=>({state:null,param:g.extend({},F)}));ra.root&&ra.root.set(vb);vb.source=ra.data.root.input;this.pulse(ra.data.root.input,this.changeset().insert(vb.items));this._width=this.width();this._height=this.height();this._viewWidth=B(this,this._width);this._viewHeight=z(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;D(this);Ab(this);gc(this);this.description(Ga.description);gb.hover&&
this.hover();gb.container&&this.initialize(gb.container,gb.bind)}function Ib(Ga,gb){return g.hasOwnProperty(Ga._signals,gb)?Ga._signals[gb]:g.error("Unrecognized signal name: "+g.stringValue(gb))}function xc(Ga,gb){Ga=(Ga._targets||[]).filter(vb=>vb._update&&vb._update.handler===gb);return Ga.length?Ga[0]:null}function uc(Ga,gb,vb,ra){let F=xc(vb,ra);F||(F=L(Ga,()=>ra(gb,vb.value)),F.handler=ra,Ga.on(vb,null,F));return Ga}function wc(Ga,gb,vb){(vb=xc(gb,vb))&&gb._targets.remove(vb);return Ga}const bd=
{trap:!1},Wb=Math.sqrt(50),Rc=Math.sqrt(10),Pd=Math.sqrt(2);var Ka={skip:!0},Ub=0,rb=0,Sb=0,fc,bc,Hc=0,zc=0,Yc=0,Md="object"===typeof performance&&performance.now?performance:Date,td="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ga){setTimeout(Ga,17)};u.prototype={constructor:u,restart:function(Ga,gb,vb){if("function"!==typeof Ga)throw new TypeError("callback is not a function");vb=(null==vb?Aa():+vb)+(null==gb?0:+gb);this._next||bc===this||
(bc?bc._next=this:fc=this,bc=this);this._call=Ga;this._time=vb;Ja()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Ja())}};g.inherits(Za,qa.Dataflow,{evaluate(Ga,gb,vb){const ra=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield qa.Dataflow.prototype.evaluate.call(ra,Ga,gb);if(ra._redraw||ra._resize)try{ra._renderer&&(ra._resize&&(ra._resize=0,Pb(ra)),yield ra._renderer.renderAsync(ra._scenegraph.root)),ra._redraw=!1}catch(F){ra.error(F)}vb&&qa.asyncCallback(ra,
vb);return ra})},dirty(Ga){this._redraw=!0;this._renderer&&this._renderer.dirty(Ga)},description(Ga){if(arguments.length){const gb=null!=Ga?Ga+"":null;gb!==this._desc&&yc(this._el,this._desc=gb);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Ga,gb,vb){const ra=Ib(this,Ga);return 1===arguments.length?ra.value:this.update(ra,gb,vb)},width(Ga){return arguments.length?this.signal("width",Ga):this.signal("width")},
height(Ga){return arguments.length?this.signal("height",Ga):this.signal("height")},padding(Ga){return arguments.length?this.signal("padding",v(Ga)):v(this.signal("padding"))},autosize(Ga){return arguments.length?this.signal("autosize",Ga):this.signal("autosize")},background(Ga){return arguments.length?this.signal("background",Ga):this.signal("background")},renderer(Ga){if(!arguments.length)return this._renderType;hb.renderModule(Ga)||g.error("Unrecognized renderer type: "+Ga);Ga!==this._renderType&&
(this._renderType=Ga,this._resetRenderer());return this},tooltip(Ga){if(!arguments.length)return this._tooltip;Ga!==this._tooltip&&(this._tooltip=Ga,this._resetRenderer());return this},loader(Ga){if(!arguments.length)return this._loader;Ga!==this._loader&&(qa.Dataflow.prototype.loader.call(this,Ga),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Ib(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(Ga,
gb,vb,ra,F,ya){this.runAfter(La=>{let $a=0;La._autosize=0;La.width()!==vb&&($a=1,La.signal("width",vb,Ka),La._resizeWidth.skip(!0));La.height()!==ra&&($a=1,La.signal("height",ra,Ka),La._resizeHeight.skip(!0));La._viewWidth!==Ga&&(La._resize=1,La._viewWidth=Ga);La._viewHeight!==gb&&(La._resize=1,La._viewHeight=gb);if(La._origin[0]!==F[0]||La._origin[1]!==F[1])La._resize=1,La._origin=F;$a&&La.run("enter");ya&&La.runAfter(jb=>jb.resize())},!1,1)},addEventListener(Ga,gb,vb){let ra=gb;vb&&!1===vb.trap||
(ra=L(this,gb),ra.raw=gb);this._handler.on(Ga,ra);return this},removeEventListener(Ga,gb){for(var vb=this._handler.handlers(Ga),ra=vb.length,F,ya;0<=--ra;)if(ya=vb[ra].type,F=vb[ra].handler,Ga===ya&&(gb===F||gb===F.raw)){this._handler.off(ya,F);break}return this},addResizeListener(Ga){const gb=this._resizeListeners;0>gb.indexOf(Ga)&&gb.push(Ga);return this},removeResizeListener(Ga){var gb=this._resizeListeners;Ga=gb.indexOf(Ga);0<=Ga&&gb.splice(Ga,1);return this},addSignalListener(Ga,gb){return uc(this,
Ga,Ib(this,Ga),gb)},removeSignalListener(Ga,gb){return wc(this,Ib(this,Ga),gb)},addDataListener(Ga,gb){return uc(this,Ga,Va(this,Ga).values,gb)},removeDataListener(Ga,gb){return wc(this,Va(this,Ga).values,gb)},globalCursor(Ga){if(arguments.length){if(this._globalCursor!==!!Ga){const gb=rc(this,null);this._globalCursor=!!Ga;gb&&rc(this,gb)}return this}return this._globalCursor},preventDefault(Ga){return arguments.length?(this._preventDefault=Ga,this):this._preventDefault},timer:function(Ga,gb){this._timers.push(Wa(function(vb){Ga({timestamp:Date.now(),
elapsed:vb})},gb))},events:function(Ga,gb,vb){var ra=this,F=new qa.EventStream(vb);vb=function(jb,Fb){ra.runAsync(null,()=>{var nc;if(nc="view"===Ga){var dc=ra._eventConfig.defaults;nc=dc.prevent;dc=dc.allow;nc=!1===nc||!0===dc?!1:!0===nc||!1===dc?!0:nc?nc[gb]:dc?!dc[gb]:ra.preventDefault()}nc&&jb.preventDefault();nc=F.receive;dc=(dc=ra._renderer)&&dc.canvas();if(dc){var ic=Bb(ra);var Uc=jb.changedTouches?jb.changedTouches[0]:jb;Uc=hb.point(Uc,dc);Uc[0]-=ic[0];Uc[1]-=ic[1]}jb.dataflow=ra;jb.item=
Fb;jb.vega=Ua(ra,Fb,Uc);nc.call(F,jb)})};var ya;if("timer"===Ga)Da(ra,"timer",gb)&&ra.timer(vb,gb);else if("view"===Ga)Da(ra,"view",gb)&&ra.addEventListener(gb,vb,bd);else if("window"===Ga?Da(ra,"window",gb)&&"undefined"!==typeof window&&(ya=[window]):"undefined"!==typeof document&&Da(ra,"selector",gb)&&(ya=Array.from(document.querySelectorAll(Ga))),ya){for(var La=0,$a=ya.length;La<$a;++La)ya[La].addEventListener(gb,vb);Oa(ra,ya,gb,vb)}else ra.warn("Can not resolve event source: "+Ga);return F},finalize:function(){var Ga=
this._tooltip,gb=this._timers,vb=this._eventListeners,ra;for(ra=gb.length;0<=--ra;)gb[ra].stop();for(ra=vb.length;0<=--ra;){var F=vb[ra];for(gb=F.sources.length;0<=--gb;)F.sources[gb].removeEventListener(F.type,F.handler)}Ga&&Ga.call(this,this._handler,null,null,null);return this},hover:function(Ga,gb){Ga=[Ga||"hover"];gb=[gb||"update",Ga[0]];this.on(this.events("view","mouseover",Pa),kb,lb(Ga));this.on(this.events("view","mouseout",Pa),kb,lb(gb));return this},data:function(Ga,gb){return 2>arguments.length?
Va(this,Ga).values.value:qb.call(this,Ga,qa.changeset().remove(g.truthy).insert(gb))},change:qb,insert:function(Ga,gb){return qb.call(this,Ga,qa.changeset().insert(gb))},remove:function(Ga,gb){return qb.call(this,Ga,qa.changeset().remove(gb))},scale:function(Ga){var gb=this._runtime.scales;g.hasOwnProperty(gb,Ga)||g.error("Unrecognized scale or projection: "+Ga);return gb[Ga].value},initialize:function(Ga,gb){const vb=this;var ra=vb._renderType;const F=vb._eventConfig.bind;var ya=hb.renderModule(ra);
Ga=vb._el=Ga?f(vb,Ga,!0):null;kc(vb);ya||vb.error("Unrecognized renderer type: "+ra);ra=ya.handler||hb.CanvasHandler;ya=Ga?ya.renderer:ya.headless;vb._renderer=ya?p(vb,vb._renderer,Ga,ya):null;vb._handler=P(vb,vb._handler,Ga,ra);vb._redraw=!0;Ga&&"none"!==F&&(gb=gb?vb._elBind=f(vb,gb,!0):Ga.appendChild(Na("form",{"class":"vega-bindings"})),vb._bind.forEach(La=>{La.param.element&&"container"!==F&&(La.element=f(vb,La.param.element,!!La.param.input))}),vb._bind.forEach(La=>{Zb(vb,La.element||gb,La)}));
return vb},toImageURL:function(Ga,gb){const vb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ga!==hb.RenderType.Canvas&&Ga!==hb.RenderType.SVG&&Ga!==hb.RenderType.PNG&&g.error("Unrecognized image type: "+Ga);var ra=yield l(vb,Ga,gb);Ga===hb.RenderType.SVG?(ra=ra.svg(),ra=new Blob([ra],{type:"image/svg+xml"}),ra=window.URL.createObjectURL(ra)):ra=ra.canvas().toDataURL("image/png");return ra})},toCanvas:function(Ga,gb){const vb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield l(vb,
hb.RenderType.Canvas,Ga,gb)).canvas()})},toSVG:function(Ga){const gb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield l(gb,hb.RenderType.SVG,Ga)).svg()})},getState:function(Ga){return this._runtime.getState(Ga||{data:G,signals:U,recurse:!0})},setState:function(Ga){this.runAsync(null,gb=>{gb._trigger=!1;gb._runtime.setState(Ga)},gb=>{gb._trigger=!0});return this}});r.View=Za})};
shadow$provide[62]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb):"function"===typeof define&&define.amd?define(["exports"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={}))})(this,function(r){function g(Ab,gc,rc,Va,qb){const Kb=Ab.length;let Ob=0,Bb;for(;gc<Kb;++gc)if(Bb=Ab[gc],Ob||Bb!==rc)qb&&0<=qb.indexOf(Bb)?--Ob:Va&&0<=Va.indexOf(Bb)&&++Ob;else break;return gc}function qa(Ab){const gc=[],rc=Ab.length;let Va=0,qb=0;for(;qb<rc;)qb=
g(Ab,qb,",","[{","]}"),gc.push(Ab.substring(Va,qb).trim()),Va=++qb;if(0===gc.length)throw"Empty event selector: "+Ab;return gc}function hb(Ab){if("["===Ab[0]){var gc=Ab;var rc=gc.length;Ab=g(gc,1,"]","[","]");if(Ab===rc)throw"Empty between selector: "+gc;rc=qa(gc.substring(1,Ab));if(2!==rc.length)throw"Between selector must have two elements: "+gc;gc=gc.slice(Ab+1).trim();if("\x3e"!==gc[0])throw"Expected '\x3e' after between selector: "+gc;rc=rc.map(hb);gc=hb(gc.slice(1).trim());gc.between?gc={between:rc,
stream:gc}:gc.between=rc}else{rc={source:kc};const Va=[];let qb=[0,0],Kb=0,Ob=0,Bb=Ab.length,Pb=0,Ua;if("}"===Ab[Bb-1]){Pb=Ab.lastIndexOf("{");if(0<=Pb){try{qb=Gb(Ab.substring(Pb+1,Bb-1))}catch(pb){throw"Invalid throttle specification: "+Ab;}Ab=Ab.slice(0,Pb).trim();Bb=Ab.length}else throw"Unmatched right brace: "+Ab;Pb=0}if(!Bb)throw Ab;"@"===Ab[0]&&(Kb=++Pb);Ua=g(Ab,Pb,":");Ua<Bb&&(Va.push(Ab.substring(Ob,Ua).trim()),Ob=Pb=++Ua);Pb=g(Ab,Pb,"[");if(Pb===Bb)Va.push(Ab.substring(Ob,Bb).trim());else if(Va.push(Ab.substring(Ob,
Pb).trim()),gc=[],Ob=++Pb,Ob===Bb)throw"Unmatched left bracket: "+Ab;for(;Pb<Bb;){Pb=g(Ab,Pb,"]");if(Pb===Bb)throw"Unmatched left bracket: "+Ab;gc.push(Ab.substring(Ob,Pb).trim());if(Pb<Bb-1&&"["!==Ab[++Pb])throw"Expected left bracket: "+Ab;Ob=++Pb}if(!(Bb=Va.length)||$b.test(Va[Bb-1]))throw"Invalid event selector: "+Ab;1<Bb?(rc.type=Va[1],Kb?rc.markname=Va[0].slice(1):yc[Va[0]]?rc.marktype=Va[0]:rc.source=Va[0]):rc.type=Va[0];"!"===rc.type.slice(-1)&&(rc.consume=!0,rc.type=rc.type.slice(0,-1));null!=
gc&&(rc.filter=gc);qb[0]&&(rc.throttle=qb[0]);qb[1]&&(rc.debounce=qb[1]);gc=rc}return gc}function Gb(Ab){const gc=Ab.split(",");if(!Ab.length||2<gc.length)throw Ab;return gc.map(rc=>{rc=+rc;if(rc!==rc)throw Ab;return rc})}const $b=/[[\]{}]/,oc={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let kc,yc;r.parseSelector=function(Ab,gc,rc){kc=gc||"view";yc=rc||oc;return qa(Ab.trim()).map(hb)}})};
shadow$provide[63]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(21),Db(59),Db(62),Db(33),Db(29)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vega={},r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,g,qa,hb,Gb,$b){function oc(N){return g.isObject(N)?N:{type:N||"pad"}}function kc(N){g.isObject(N)?
N=N.signal?N:{top:+N.top||0,bottom:+N.bottom||0,left:+N.left||0,right:+N.right||0}:(N=+N||0,N={top:N,bottom:N,left:N,right:N});return N}function yc(N,ca,H,ja){return null!=H?(g.isObject(H)&&!g.isArray(H)||g.isArray(H)&&H.length&&g.isObject(H[0])?N.update[ca]=H:N[ja||"enter"][ca]={value:H},1):0}function Ab(N,ca,H){for(const ja in ca)yc(N,ja,ca[ja]);for(const ja in H)yc(N,ja,H[ja],"update")}function gc(N,ca,H){for(const ja in ca)H&&g.hasOwnProperty(H,ja)||(N[ja]=g.extend(N[ja]||{},ca[ja]));return N}
function rc(N,ca){return ca&&(ca.enter&&ca.enter[N]||ca.update&&ca.update[N])}function Va(N,ca,H,ja,sa){const Ia={},ib={};let ub,qc;qc="lineBreak";"text"!==ca||null==sa[qc]||rc(qc,N)||qb(Ia,qc,sa[qc]);if("legend"==H||String(H).startsWith("axis"))H=null;H="frame"===H?sa.group:"mark"===H?g.extend({},sa.mark,sa[ca]):null;for(qc in H)(ca=rc(qc,N)||("fill"===qc||"stroke"===qc)&&(rc("fill",N)||rc("stroke",N)))||qb(Ia,qc,H[qc]);g.array(ja).forEach(sc=>{sc=sa.style&&sa.style[sc];for(const tc in sc)rc(tc,
N)||qb(Ia,tc,sc[tc])});N=g.extend({},N);for(qc in Ia)H=Ia[qc],H.signal?(ub=ub||{})[qc]=H:ib[qc]=H;N.enter=g.extend(ib,N.enter);ub&&(N.update=g.extend(ub,N.update));return N}function qb(N,ca,H){N[ca]=H&&H.signal?{signal:H.signal}:{value:H}}function Kb(N){if(null!=N.gradient)return Ob(N);if(N.signal)var ca=`(${N.signal})`;else N.color?(ca=N.color,ca=ca.c?Gd("hcl",ca.h,ca.c,ca.l):ca.h||ca.s?Gd("hsl",ca.h,ca.s,ca.l):ca.l||ca.a?Gd("lab",ca.l,ca.a,ca.b):ca.r||ca.g||ca.b?Gd("rgb",ca.r,ca.g,ca.b):null):ca=
null!=N.field?Pb(N.field):void 0!==N.value?g.stringValue(N.value):void 0;if(null!=N.scale){const H=rd(N.scale);null!=N.range?ca=`lerp(_range(${H}), ${+N.range})`:(void 0!==ca&&(ca=`_scale(${H}, ${ca})`),N.band&&(ca=(ca?ca+"+":"")+`_bandwidth(${H})`+(1===+N.band?"":"*"+Bb(N.band)),N.extra&&(ca=`(datum.extra ? _scale(${H}, datum.extra.value) : ${ca})`)),null==ca&&(ca="0"))}void 0===ca&&(ca=null);null!=N.exponent&&(ca=`pow(${ca},${Bb(N.exponent)})`);null!=N.mult&&(ca+=`*${Bb(N.mult)}`);null!=N.offset&&
(ca+=`+${Bb(N.offset)}`);N.round&&(ca=`round(${ca})`);return ca}function Ob(N){const ca=[N.start,N.stop,N.count].map(H=>null==H?null:g.stringValue(H));for(;ca.length&&null==g.peek(ca);)ca.pop();ca.unshift(rd(N.gradient));return`gradient(${ca.join(",")})`}function Bb(N){return g.isObject(N)?"("+Kb(N)+")":N}function Pb(N){return Ua(g.isObject(N)?N:{datum:N})}function Ua(N){let ca;if(N.signal){ca="datum";var H=N.signal}else if(N.group||N.parent){H=Math.max(1,N.level||1);for(ca="item";0<H--;)ca+=".mark.group";
N.parent?(H=N.parent,ca+=".datum"):H=N.group}else N.datum?(ca="datum",H=N.datum):g.error("Invalid field reference: "+g.stringValue(N));N.signal||(H=g.isString(H)?g.splitAccessPath(H).map(g.stringValue).join("]["):Ua(H));return ca+"["+H+"]"}function pb(N){let ca="";N.forEach(H=>{const ja=Kb(H);ca+=H.test?`(${H.test})?${ja}:`:ja});":"===g.peek(ca)&&(ca+="null");return ca}function Oa(N,ca,H,ja,sa,Ia){const ib={};Ia=Ia||{};Ia.encoders={$encode:ib};N=Va(N,ca,H,ja,sa.config);for(const Ic in N){H=N[Ic];
ja=ca;var ub=Ia,qc=sa;const Ad={},Gc={};for(const $c in H)if(null!=H[$c]){var sc=Da;var tc=H[$c];tc=g.isArray(tc)?pb(tc):Kb(tc);Ad[$c]=sc(tc,qc,ub,Gc)}H={$expr:{marktype:ja,channels:Ad},$fields:Object.keys(Gc),$output:Object.keys(H)};ib[Ic]=H}return Ia}function Da(N,ca,H,ja){N=qa.parseExpression(N,ca);N.$fields.forEach(sa=>ja[sa]=1);g.extend(H,N.$params);return N.$expr}function Pa(N,ca){g.error(N+' for "outer" push: '+g.stringValue(ca))}function kb(N,ca){const H=N.name;if("outer"===N.push)ca.signals[H]||
Pa("No prior signal definition",H),Fd.forEach(ja=>{void 0!==N[ja]&&Pa("Invalid property ",ja)});else{const ja=ca.addSignal(H,N.value);!1===N.react&&(ja.react=!1);N.bind&&ca.addBinding(H,N.bind)}}function lb(N,ca,H,ja){this.id=-1;this.type=N;this.value=ca;this.params=H;ja&&(this.parent=ja)}function Na(N){const ca={$ref:N.id};0>N.id&&(N.refs=N.refs||[]).push(ca);return ca}function xb(N,ca){return ca?{$field:N,$name:ca}:{$field:N}}function ob(N,ca){N={$key:N};ca&&(N.$flat=!0);return N}function Nb(N,
ca){return(N&&N.signal?"$"+N.signal:N||"")+(N&&ca?"_":"")+(ca&&ca.signal?"$"+ca.signal:ca||"")}function Zb(N){return N&&N.signal}function nb(N){if(Zb(N))return!0;if(g.isObject(N))for(const ca in N)if(nb(N[ca]))return!0;return!1}function la(N,ca){return null!=N?N:ca}function Y(N){return N&&N.signal||N}function Ha(N,ca){return(N.merge?Fa:N.stream?cb:N.type?aa:g.error("Invalid stream specification: "+g.stringValue(N)))(N,ca)}function Fa(N,ca){const H=N.merge.map(ja=>Ha(ja,ca));N=ma({merge:H},N,ca);return ca.addStream(N).id}
function cb(N,ca){const H=Ha(N.stream,ca);N=ma({stream:H},N,ca);return ca.addStream(N).id}function aa(N,ca){if("timer"===N.type){var H=ca.event("timer",N.throttle);N={between:N.between,filter:N.filter}}else H=N.source,H=ca.event.call(ca,"scope"===H?"view":H||"view",N.type);N=ma({stream:H},N,ca);return 1===Object.keys(N).length?H:ca.addStream(N).id}function ma(N,ca,H){let ja=ca.between;ja&&(2!==ja.length&&g.error('Stream "between" parameter must have 2 entries: '+g.stringValue(ca)),N.between=[Ha(ja[0],
H),Ha(ja[1],H)]);ja=ca.filter?[].concat(ca.filter):[];if(ca.marktype||ca.markname||ca.markrole){var sa=ja,Ia=ca.marktype,ib=ca.markname,ub=ca.markrole;sa.push.call(sa,"event.item"+(Ia&&"*"!==Ia?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Ia+"'":"")+(ub?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+ub+"'":"")+(ib?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+ib+"'":""))}"scope"===ca.source&&ja.push("inScope(event.item)");ja.length&&(N.filter=qa.parseExpression("("+ja.join(")\x26\x26(")+")",H).$expr);
null!=(ja=ca.throttle)&&(N.throttle=+ja);null!=(ja=ca.debounce)&&(N.debounce=+ja);ca.consume&&(N.consume=!0);return N}function p(N,ca,H){const ja=N.encode,sa={target:H};H=N.events;let Ia=N.update,ib=[];H||g.error("Signal update missing events specification.");g.isString(H)&&(H=hb.parseSelector(H,ca.isSubscope()?"scope":"view"));H=g.array(H).filter(ub=>ub.signal||ub.scale?(ib.push(ub),0):1);1<ib.length&&(ib=[L(ib)]);H.length&&ib.push(1<H.length?{merge:H}:H[0]);null!=ja&&(Ia&&g.error("Signal encode and update are mutually exclusive."),
Ia="encode(item(),"+g.stringValue(ja)+")");sa.update=g.isString(Ia)?qa.parseExpression(Ia,ca):null!=Ia.expr?qa.parseExpression(Ia.expr,ca):null!=Ia.value?Ia.value:null!=Ia.signal?{$expr:Wd,$params:{$value:ca.signalRef(Ia.signal)}}:g.error("Invalid signal update specification.");N.force&&(sa.options={force:!0});ib.forEach(ub=>{var qc=ca.addUpdate,sc=g.extend;ub={source:ub.signal?ca.signalRef(ub.signal):ub.scale?ca.scaleRef(ub.scale):Ha(ub,ca)};return qc.call(ca,sc.call(g,ub,sa))})}function L(N){return{signal:"["+
N.map(ca=>ca.scale?'scale("'+ca.scale+'")':ca.signal)+"]"}}function P(N,ca){const H=ca.getSignal(N.name);let ja=N.update;N.init&&(ja?g.error("Signals can not include both init and update expressions."):(ja=N.init,H.initonly=!0));ja&&(ja=qa.parseExpression(ja,ca),H.update=ja.$expr,H.params=ja.$params);N.on&&N.on.forEach(sa=>p(sa,ca,H.id))}function f(N,ca){return g.isObject(N)?N.signal?ca.signalRef(N.signal):g.error("Unsupported object: "+g.stringValue(N)):N}function v(N,ca){return N.signal?ca.signalRef(N.signal):
N.map(H=>f(H,ca))}function l(N){g.error("Can not find data set: "+g.stringValue(N))}function C(N,ca,H){if(N)return N.signal?H.signalRef(N.signal):(g.isArray(N)?B:N.fields?D:z)(N,ca,H);null==ca.domainMin&&null==ca.domainMax||g.error("No scale domain defined for domainMin/domainMax to override.")}function B(N,ca,H){return N.map(ja=>f(ja,H))}function z(N,ca,H){const ja=H.getData(N.data);ja||l(N.data);return Gb.isDiscrete(ca.type)?ja.valuesRef(H,N.field,U(N.sort,!1)):Gb.isQuantile(ca.type)?ja.domainRef(H,
N.field):ja.extentRef(H,N.field)}function D(N,ca,H){const ja=N.data,sa=N.fields.reduce((Ia,ib)=>{if(g.isString(ib))ib={data:ja,field:ib};else if(g.isArray(ib)||ib.signal){var ub=ib;ib="_:vega:_"+Qc++;const qc=af({});g.isArray(ub)?qc.value={$ingest:ub}:ub.signal&&(ub="setdata("+g.stringValue(ib)+","+ub.signal+")",qc.params.input=H.signalRef(ub));H.addDataPipeline(ib,[qc,pc({})]);ib={data:ib,field:"data"}}Ia.push(ib);return Ia},[]);return(Gb.isDiscrete(ca.type)?G:Gb.isQuantile(ca.type)?Aa:X)(N,H,sa)}
function G(N,ca,H){const ja=U(N.sort,!0);N=H.map(Ia=>{const ib=ca.getData(Ia.data);ib||l(Ia.data);return ib.countsRef(ca,Ia.field,ja)});const sa={groupby:$d,pulse:N};ja&&(N=ja.op||"count",H=ja.field?Nb(N,ja.field):"count",sa.ops=[sd[N]],sa.fields=[ca.fieldRef(H)],sa.as=[H]);N=ca.add(Be(sa));N=ca.add(af({pulse:Na(N)}));H=ca.add(Vc({field:$d,sort:ca.sortRef(ja),pulse:Na(N)}));return Na(H)}function U(N,ca){N&&(N.field||N.op?N.field||"count"===N.op?ca&&N.field&&N.op&&!sd[N.op]&&g.error("Multiple domain scales can not be sorted using "+
N.op):g.error("No field provided for sort aggregate op: "+N.op):g.isObject(N)?N.field="key":N={field:"key"});return N}function Aa(N,ca,H){N=H.map(ja=>{const sa=ca.getData(ja.data);sa||l(ja.data);return sa.domainRef(ca,ja.field)});return Na(ca.add(Sa({values:N})))}function X(N,ca,H){N=H.map(ja=>{const sa=ca.getData(ja.data);sa||l(ja.data);return sa.extentRef(ca,ja.field)});return Na(ca.add(da({extents:N})))}function u(N,ca,H){const ja=ca.config.range;let sa=N.range;if(sa.signal)return ca.signalRef(sa.signal);
if(g.isString(sa)){if(ja&&g.hasOwnProperty(ja,sa))return N=g.extend({},N,{range:ja[sa]}),u(N,ca,H);"width"===sa?sa=[0,{signal:"width"}]:"height"===sa?sa=Gb.isDiscrete(N.type)?[0,{signal:"height"}]:[{signal:"height"},0]:g.error("Unrecognized scale range value: "+g.stringValue(sa))}else{if(sa.scheme){H.scheme=g.isArray(sa.scheme)?v(sa.scheme,ca):f(sa.scheme,ca);sa.extent&&(H.schemeExtent=v(sa.extent,ca));sa.count&&(H.schemeCount=f(sa.count,ca));return}if(sa.step){H.rangeStep=f(sa.step,ca);return}if(Gb.isDiscrete(N.type)&&
!g.isArray(sa))return C(sa,N,ca);g.isArray(sa)||g.error("Unsupported range type: "+g.stringValue(sa))}return sa.map(Ia=>(g.isArray(Ia)?v:f)(Ia,ca))}function K(N,ca,H){return g.isArray(N)?N.map(ja=>K(ja,ca,H)):g.isObject(N)?N.signal?H.signalRef(N.signal):"fit"===ca?N:g.error("Unsupported parameter object: "+g.stringValue(N)):N}function ua(N){N.type="group";N.interactive=N.interactive||!1;return N}function Ja(N,ca){const H=(ja,sa)=>la(N[ja],la(ca[ja],sa));H.isVertical=ja=>"vertical"===la(N.direction,
ca.direction||(ja?ca.symbolDirection:ca.gradientDirection));H.gradientLength=()=>la(N.gradientLength,ca.gradientLength||ca.gradientWidth);H.gradientThickness=()=>la(N.gradientThickness,ca.gradientThickness||ca.gradientHeight);H.entryColumns=()=>la(N.columns,la(ca.columns,+H.isVertical(!0)));return H}function Wa(N,ca){return(N=ca&&(ca.update&&ca.update[N]||ca.enter&&ca.enter[N]))&&N.signal?N:N?N.value:null}function ab(N,ca,H){return`item.anchor === '${"start"}' ? ${N} : item.anchor === '${"end"}' ? ${ca} : ${H}`}
function W(N,ca){return ca?N?g.isObject(N)?Object.assign({},N,{offset:W(N.offset,ca)}):{value:N,offset:ca}:ca:N}function Ca(N,ca){ca?(N.name=ca.name,N.style=ca.style||N.style,N.interactive=!!ca.interactive,N.encode=gc(N.encode,ca,Nd)):N.interactive=!1;return N}function Za(N,ca,H,ja){N=Ja(N,H);H=N.isVertical();var sa=N.gradientThickness();const Ia=N.gradientLength();let ib,ub,qc;H?(H=[0,1],ub=[0,0],qc=sa,sa=Ia):(H=[0,0],ub=[1,0],qc=Ia);sa={enter:ib={opacity:Bd,x:Bd,y:Bd,width:Nc(qc),height:Nc(sa)},
update:g.extend({},ib,{opacity:be,fill:{gradient:ca,start:H,stop:ub}}),exit:{opacity:Bd}};Ab(sa,{stroke:N("gradientStrokeColor"),strokeWidth:N("gradientStrokeWidth")},{opacity:N("gradientOpacity")});return Ca({type:"rect",role:"legend-gradient",encode:sa},ja)}function Ib(N,ca,H,ja,sa){N=Ja(N,H);const Ia=N.isVertical();H=N.gradientThickness();const ib=N.gradientLength();var ub;let qc,sc,tc,Ic="";Ia?(ub="y",sc="y2",qc="x",tc="width",Ic="1-"):(ub="x",sc="x2",qc="y",tc="height");ca={opacity:Bd,fill:{scale:ca,
field:"value"}};ca[ub]={signal:Ic+"datum.perc",mult:ib};ca[qc]=Bd;ca[sc]={signal:Ic+"datum.perc2",mult:ib};ca[tc]=Nc(H);ub={enter:ca,update:g.extend({},ca,{opacity:be}),exit:{opacity:Bd}};Ab(ub,{stroke:N("gradientStrokeColor"),strokeWidth:N("gradientStrokeWidth")},{opacity:N("gradientOpacity")});return Ca({type:"rect",role:"legend-band",key:"value",from:sa,encode:ub},ja)}function xc(N,ca,H,ja){const sa=Ja(N,ca);var Ia=sa.isVertical();const ib=Nc(sa.gradientThickness()),ub=sa.gradientLength();let qc=
sa("labelOverlap"),sc,tc,Ic,Ad="";const Gc={enter:sc={opacity:Bd},update:tc={opacity:be,text:{field:"label"}},exit:{opacity:Bd}};Ab(Gc,{fill:sa("labelColor"),fillOpacity:sa("labelOpacity"),font:sa("labelFont"),fontSize:sa("labelFontSize"),fontStyle:sa("labelFontStyle"),fontWeight:sa("labelFontWeight"),limit:la(N.labelLimit,ca.gradientLabelLimit)});Ia?(sc.align={value:"left"},sc.baseline=tc.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Ia="y",Ic="x",Ad="1-"):(sc.align=
tc.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},sc.baseline={value:"top"},Ia="x",Ic="y");sc[Ia]=tc[Ia]={signal:Ad+"datum.perc",mult:ub};sc[Ic]=tc[Ic]=ib;ib.offset=la(N.labelOffset,ca.gradientLabelOffset)||0;qc=qc?{separation:sa("labelSeparation"),method:qc,order:"datum.index"}:void 0;return Ca({type:"text",role:"legend-label",style:"guide-label",key:"value",from:ja,encode:Gc,overlap:qc},H)}function uc(N,ca,H,ja,sa){var Ia=Ja(N,ca);const ib=H.entries,ub=!(!ib||!ib.interactive),
qc=ib?ib.name:void 0,sc=Ia("clipHeight"),tc=Ia("symbolOffset"),Ic={data:"value"},Ad=`(${sa}) ? datum.${"offset"} : datum.${"size"}`,Gc=sc?Nc(sc):{field:"size"},$c=`max(1, ${sa})`;let yd,Cd;Gc.mult=.5;var Kd={enter:yd={opacity:Bd,x:{signal:Ad,mult:.5,offset:tc},y:Gc},update:Cd={opacity:be,x:yd.x,y:yd.y},exit:{opacity:Bd}};let Fe=null,Ce=null;N.fill||(Fe=ca.symbolBaseFillColor,Ce=ca.symbolBaseStrokeColor);Ab(Kd,{fill:Ia("symbolFillColor",Fe),shape:Ia("symbolType"),size:Ia("symbolSize"),stroke:Ia("symbolStrokeColor",
Ce),strokeDash:Ia("symbolDash"),strokeDashOffset:Ia("symbolDashOffset"),strokeWidth:Ia("symbolStrokeWidth")},{opacity:Ia("symbolOpacity")});id.forEach(wd=>{N[wd]&&(Cd[wd]=yd[wd]={scale:N[wd],field:"value"})});ca=Ca({type:"symbol",role:"legend-symbol",key:"value",from:Ic,clip:sc?!0:void 0,encode:Kd},H.symbols);Kd=Nc(tc);Kd.offset=Ia("labelOffset");Kd={enter:yd={opacity:Bd,x:{signal:Ad,offset:Kd},y:Gc},update:Cd={opacity:be,text:{field:"label"},x:yd.x,y:yd.y},exit:{opacity:Bd}};Ab(Kd,{align:Ia("labelAlign"),
baseline:Ia("labelBaseline"),fill:Ia("labelColor"),fillOpacity:Ia("labelOpacity"),font:Ia("labelFont"),fontSize:Ia("labelFontSize"),fontStyle:Ia("labelFontStyle"),fontWeight:Ia("labelFontWeight"),limit:Ia("labelLimit")});H=Ca({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Ic,encode:Kd},H.labels);Kd={enter:{noBound:{value:!sc},width:Bd,height:sc?Nc(sc):Bd,opacity:Bd},exit:{opacity:Bd},update:Cd={opacity:be,row:{signal:null},column:{signal:null}}};Ia.isVertical(!0)?(Ia=`ceil(item.mark.items.length / ${$c})`,
Cd.row.signal=`${"datum.index"}%${Ia}`,Cd.column.signal=`floor(${"datum.index"} / ${Ia})`,Ia={field:["row","datum.index"]}):(Cd.row.signal=`floor(${"datum.index"} / ${$c})`,Cd.column.signal=`${"datum.index"} % ${$c}`,Ia={field:"datum.index"});Cd.column.signal=`(${sa})?${Cd.column.signal}:${"datum.index"}`;ja={facet:{data:ja,name:"value",groupby:"index"}};return ua({role:"scope",from:ja,encode:gc(Kd,ib,Nd),marks:[ca,H],name:qc,interactive:ub,sort:Ia})}function wc(N,ca){N=Ja(N,ca);return{align:N("gridAlign"),
columns:N.entryColumns(),center:{row:!0,column:!1},padding:{row:N("rowPadding"),column:N("columnPadding")}}}function bd(N,ca,H,ja){ca=Ja(N,ca);const sa={enter:{opacity:Bd},update:{opacity:be,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Bd}};Ab(sa,{orient:ca("titleOrient"),_anchor:ca("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Xe},baseline:{signal:bf},text:N.title,fill:ca("titleColor"),fillOpacity:ca("titleOpacity"),font:ca("titleFont"),fontSize:ca("titleFontSize"),fontStyle:ca("titleFontStyle"),fontWeight:ca("titleFontWeight"),limit:ca("titleLimit"),lineHeight:ca("titleLineHeight")},{align:ca("titleAlign"),baseline:ca("titleBaseline")});return Ca({type:"text",role:"legend-title",style:"guide-title",from:ja,encode:sa},H)}function Wb(N,ca){let H;g.isObject(N)&&(N.signal?H=N.signal:N.path?H="pathShape("+Rc(N.path)+
")":N.sphere&&(H="geoShape("+Rc(N.sphere)+', {type: "Sphere"})'));return H?ca.signalRef(H):!!N}function Rc(N){return g.isObject(N)&&N.signal?N.signal:g.stringValue(N)}function Pd(N){const ca=N.role||"";return ca.indexOf("axis")&&ca.indexOf("legend")&&ca.indexOf("title")?"group"===N.type?"scope":ca||"mark":ca}function Ka(N){return{marktype:N.type,name:N.name||void 0,role:N.role||Pd(N),zindex:+N.zindex||void 0,aria:N.aria,description:N.description}}function Ub(N,ca){return N&&N.signal?ca.signalRef(N.signal):
!1===N?!1:!0}function rb(N,ca){const H=$b.definition(N.type);H||g.error("Unrecognized transform type: "+g.stringValue(N.type));var ja=H.type.toLowerCase();var sa=Sb(H,N,ca);ja=new lb(ja,null,sa,void 0);N.signal&&ca.addSignal(N.signal,ca.proxy(ja));ja.metadata=H.metadata||{};return ja}function Sb(N,ca,H){const ja={},sa=N.params.length;for(let Ia=0;Ia<sa;++Ia){const ib=N.params[Ia];ja[ib.name]=fc(ib,ca,H)}return ja}function fc(N,ca,H){const ja=N.type,sa=ca[N.name];if("index"===ja)return Hc(N,ca,H);
if(void 0===sa)N.required&&g.error("Missing required "+g.stringValue(ca.type)+" parameter: "+g.stringValue(N.name));else return"param"===ja?zc(N,ca,H):"projection"===ja?H.projectionRef(ca[N.name]):N.array&&!Zb(sa)?sa.map(Ia=>bc(N,Ia,H)):bc(N,sa,H)}function bc(N,ca,H){const ja=N.type;return Zb(ca)?"expr"===ja?g.error("Expression references can not be signals."):"field"===ja?H.fieldRef(ca):"compare"===ja?H.compareRef(ca):H.signalRef(ca.signal):(N=N.expr||"field"===ja)&&ca&&ca.expr?H.exprRef(ca.expr,
ca.as):N&&ca&&ca.field?xb(ca.field,ca.as):"expr"===ja?qa.parseExpression(ca,H):"data"===ja?Na(H.getData(ca).values):"field"===ja?xb(ca):"compare"===ja?H.compareRef(ca):ca}function Hc(N,ca,H){g.isString(ca.from)||g.error('Lookup "from" parameter must be a string literal.');return H.getData(ca.from).lookupRef(H,ca.key)}function zc(N,ca,H){ca=ca[N.name];return N.array?(g.isArray(ca)||g.error("Expected an array of sub-parameters. Instead: "+g.stringValue(ca)),ca.map(ja=>Yc(N,ja,H))):Yc(N,ca,H)}function Yc(N,
ca,H){const ja=N.params.length;let sa;for(let Ia=0;Ia<ja;++Ia){sa=N.params[Ia];for(const ib in sa.key)if(sa.key[ib]!==ca[ib]){sa=null;break}if(sa)break}sa||g.error("Unsupported parameter: "+g.stringValue(ca));N=g.extend(Sb(sa,ca,H),sa.key);return Na(H.add(Pc(N)))}function Md(N,ca,H){let ja,sa,Ia,ib;if(!N)Ia=Na(H.add(af(null,[{}])));else if(ja=N.facet)ca||g.error("Only group marks can be faceted."),null!=ja.field?Ia=ib=td(ja,H):(N.data?ib=Na(H.getData(N.data).aggregate):(ca=rb(g.extend({type:"aggregate",
groupby:g.array(ja.groupby)},ja.aggregate),H),ca.params.key=H.keyRef(ja.groupby),ca.params.pulse=td(ja,H),Ia=ib=Na(H.add(ca))),sa=H.keyRef(ja.groupby,!0));Ia||(Ia=td(N,H));return{key:sa,pulse:Ia,parent:ib}}function td(N,ca){return N.$ref?N:N.data&&N.data.$ref?N.data:Na(ca.getData(N.data).output)}function Ga(N,ca,H,ja,sa){this.scope=N;this.input=ca;this.output=H;this.values=ja;this.aggregate=sa;this.index={}}function gb(N){return g.isString(N)?N:null}function vb(N,ca,H){const ja=Nb(H.op,H.field);let sa;
if(ca.ops)for(let Ia=0,ib=ca.as.length;Ia<ib;++Ia){if(ca.as[Ia]===ja)return}else ca.ops=["count"],ca.fields=[null],ca.as=["count"];H.op&&(ca.ops.push((sa=H.op.signal)?N.signalRef(sa):H.op),ca.fields.push(N.fieldRef(H.field)),ca.as.push(ja))}function ra(N,ca,H,ja,sa,Ia,ib){H=ca[H]||(ca[H]={});var ub=g.isObject(Ia)?("descending"===Ia.order?"-":"+")+Nb(Ia.op,Ia.field):"";let qc=gb(sa);if(null!=qc){N=ca.scope;qc+=ub?"|"+ub:"";var sc=H[qc]}sc||(sc=Ia?{field:$d,pulse:ca.countsRef(N,sa,Ia)}:{field:N.fieldRef(sa),
pulse:Na(ca.output)},ub&&(sc.sort=N.sortRef(Ia)),N=N.add(new lb(ja,void 0,sc,void 0)),ib&&(ca.index[sa]=N),sc=Na(N),null!=qc&&(H[qc]=sc));return sc}function F(N,ca,H){var ja=N.from.facet;const sa=ja.name,Ia=td(ja,ca);let ib;ja.name||g.error("Facet must have a name: "+g.stringValue(ja));ja.data||g.error("Facet must reference a data set: "+g.stringValue(ja));ja.field?ib=ca.add(Cc({field:ca.fieldRef(ja.field),pulse:Ia})):ja.groupby?ib=ca.add(db({key:ca.keyRef(ja.groupby),group:Na(ca.proxy(H.parent)),
pulse:Ia})):g.error("Facet must specify groupby or field: "+g.stringValue(ja));ca=ca.fork();H=ca.add(af());ja=ca.add(pc({pulse:Na(H)}));ca.addData(sa,new Ga(ca,H,H,ja));ca.addSignal("parent",null);ib.params.subflow={$subflow:ca.parse(N).toRuntime()}}function ya(N,ca,H){H=ca.add(Cc({pulse:H.pulse}));ca=ca.fork();ca.add(pc());ca.addSignal("parent",null);H.params.subflow={$subflow:ca.parse(N).toRuntime()}}function La(N,ca,H){const ja=N.remove,sa=N.insert,Ia=N.toggle,ib=N.modify,ub=N.values,qc=ca.add(new lb("operator",
void 0,void 0,void 0));N="if("+N.trigger+',modify("'+H+'",'+[sa,ja,Ia,ib,ub].map(sc=>null==sc?"null":sc).join(",")+"),0)";ca=qa.parseExpression(N,ca);qc.update=ca.$expr;qc.params=ca.$params}function $a(N,ca){var H=Pd(N),ja="group"===N.type,sa=N.from&&N.from.facet;const Ia=N.overlap;let ib=N.layout||"scope"===H||"frame"===H,ub,qc,sc,tc,Ic,Ad;const Gc="mark"===H||ib||sa,$c=Md(N.from,ja,ca);qc=ca.add(pf({key:$c.key||(N.key?xb(N.key):void 0),pulse:$c.pulse,clean:!ja}));const yd=Na(qc);qc=sc=ca.add(af({pulse:yd}));
qc=ca.add(I({markdef:Ka(N),interactive:Ub(N.interactive,ca),clip:Wb(N.clip,ca),context:{$context:!0},groups:ca.lookup(),parent:ca.signals.parent?ca.signalRef("parent"):null,index:ca.markpath(),pulse:Na(qc)}));var Cd=Na(qc);qc=tc=ca.add(T(Oa(N.encode,N.type,H,N.style,ca,{mod:!1,pulse:Cd})));qc.params.parent=ca.encode();N.transform&&N.transform.forEach(Fe=>{Fe=rb(Fe,ca);const Ce=Fe.metadata;(Ce.generates||Ce.changes)&&g.error("Mark transforms should not generate new data.");Ce.nomod||(tc.params.mod=
!0);Fe.params.pulse=Na(qc);ca.add(qc=Fe)});N.sort&&(qc=ca.add(vd({sort:ca.compareRef(N.sort),pulse:Na(qc)})));H=Na(qc);if(sa||ib)ib=ca.add(Jc({layout:ca.objectProperty(N.layout),legends:ca.legends,mark:Cd,pulse:H})),Ad=Na(ib);const Kd=ca.add(df({mark:Cd,pulse:Ad||H}));Cd=Na(Kd);ja&&(Gc&&(ub=ca.operators,ub.pop(),ib&&ub.pop()),ca.pushState(H,Ad||Cd,yd),sa?F(N,ca,$c):Gc?ya(N,ca,$c):ca.parse(N),ca.popState(),Gc&&(ib&&ub.push(ib),ub.push(Kd)));Ia&&(Cd=jb(Ia,Cd,ca));ja=ca.add(Ra({pulse:Cd}));sa=ca.add(pc({pulse:Na(ja)},
void 0,ca.parent()));null!=N.name&&(Ic=N.name,ca.addData(Ic,new Ga(ca,sc,ja,sa)),N.on&&N.on.forEach(Fe=>{(Fe.insert||Fe.remove||Fe.toggle)&&g.error("Marks only support modify triggers.");La(Fe,ca,Ic)}))}function jb(N,ca,H){const ja=N.method,sa=N.bound,Ia=N.separation;ca={separation:Zb(Ia)?H.signalRef(Ia.signal):Ia,method:Zb(ja)?H.signalRef(ja.signal):ja,pulse:ca};N.order&&(ca.sort=H.compareRef({field:N.order}));sa&&(N=sa.tolerance,ca.boundTolerance=Zb(N)?H.signalRef(N.signal):+N,ca.boundScale=H.scaleRef(sa.scale),
ca.boundOrient=sa.orient);return Na(H.add(ac(ca)))}function Fb(N,ca){const H=ca.config.legend,ja=N.encode||{},sa=Ja(N,H),Ia=ja.legend||{},ib=Ia.name||void 0,ub=Ia.interactive,qc=Ia.style,sc={};let tc=0,Ic,Ad;id.forEach(Kd=>N[Kd]?(sc[Kd]=N[Kd],tc=tc||N[Kd]):0);tc||g.error("Missing valid scale for legend.");var Gc=nc(N,ca.scaleType(tc));const $c={title:null!=N.title,scales:sc,type:Gc,vgrad:"symbol"!==Gc&&sa.isVertical()},yd=Na(ca.add(af(null,[$c]))),Cd=Na(ca.add(Bc(Ad={type:Gc,scale:ca.scaleRef(tc),
count:ca.objectProperty(sa("tickCount")),limit:ca.property(sa("symbolLimit")),values:ca.objectProperty(N.values),minstep:ca.property(N.tickMinStep),formatType:ca.property(N.formatType),formatSpecifier:ca.property(N.format)})));"gradient"===Gc?(Gc=[Za(N,tc,H,ja.gradient),xc(N,H,ja.labels,Cd)],Ad.count=Ad.count||ca.signalRef(`max(2,2*floor((${Y(sa.gradientLength())})/100))`)):"discrete"===Gc?Gc=[Ib(N,tc,H,ja.gradient,Cd),xc(N,H,ja.labels,Cd)]:(Ic=wc(N,H),Gc=[uc(N,H,ja,Cd,Y(Ic.columns))],Ad.size=Uc(N,
ca,Gc[0].marks));Gc=[ua({role:"legend-entry",from:yd,encode:{enter:{x:{value:0},y:{value:0}}},marks:Gc,layout:Ic,interactive:ub})];$c.title&&Gc.push(bd(N,H,ja.title,yd));return $a(ua({role:"legend",from:yd,encode:gc(ic(sa,N,H),Ia,Nd),marks:Gc,aria:sa("aria"),description:sa("description"),zindex:sa("zindex"),name:ib,interactive:ub,style:qc}),ca)}function nc(N,ca){let H=N.type||"symbol";N.type||1!==dc(N)||!N.fill&&!N.stroke||(H=Gb.isContinuous(ca)?"gradient":Gb.isDiscretizing(ca)?"discrete":"symbol");
return"gradient"!==H?H:Gb.isDiscretizing(ca)?"discrete":"gradient"}function dc(N){return id.reduce((ca,H)=>ca+(N[H]?1:0),0)}function ic(N,ca,H){const ja={enter:{},update:{}};Ab(ja,{orient:N("orient"),offset:N("offset"),padding:N("padding"),titlePadding:N("titlePadding"),cornerRadius:N("cornerRadius"),fill:N("fillColor"),stroke:N("strokeColor"),strokeWidth:H.strokeWidth,strokeDash:H.strokeDash,x:N("legendX"),y:N("legendY"),format:ca.format,formatType:ca.formatType});return ja}function Uc(N,ca,H){const ja=
Y(cd("size",N,H));N=Y(cd("strokeWidth",N,H));(H=Wa("fontSize",H[1].encode))||(H=(H=ca.config.style["guide-label"])&&H.fontSize);H=Y(H);return qa.parseExpression(`max(ceil(sqrt(${ja})+${N}),${H})`,ca)}function cd(N,ca,H){return ca[N]?`scale("${ca[N]}",datum)`:Wa(N,H[0].encode)}function dd(N,ca){N=g.isString(N)?{text:N}:N;const H=Ja(N,ca.config.title);var ja=N.encode||{},sa=ja.group||{};const Ia=sa.name||void 0,ib=sa.interactive,ub=sa.style,qc=[],sc=Na(ca.add(af(null,[{}])));var tc=qc.push,Ic=N;var Ad=
(Ad=N.encode)&&Ad.title||g.extend({name:N.name,interactive:N.interactive,style:N.style},Ad);var Gc={value:0};Gc={enter:{opacity:Gc},update:{opacity:{value:1}},exit:{opacity:Gc}};Ab(Gc,{text:Ic.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:H("dx"),dy:H("dy"),fill:H("color"),font:H("font"),fontSize:H("fontSize"),fontStyle:H("fontStyle"),fontWeight:H("fontWeight"),lineHeight:H("lineHeight")},{align:H("align"),
angle:H("angle"),baseline:H("baseline")});Ic=Ca({type:"text",role:"title-text",style:"group-title",from:sc,encode:Gc},Ad);tc.call(qc,Ic);N.subtitle&&(tc=qc.push,ja=ja.subtitle,Ic={value:0},Ic={enter:{opacity:Ic},update:{opacity:{value:1}},exit:{opacity:Ic}},Ab(Ic,{text:N.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:H("dx"),dy:H("dy"),fill:H("subtitleColor"),font:H("subtitleFont"),fontSize:H("subtitleFontSize"),
fontStyle:H("subtitleFontStyle"),fontWeight:H("subtitleFontWeight"),lineHeight:H("subtitleLineHeight")},{align:H("align"),angle:H("angle"),baseline:H("baseline")}),N=Ca({type:"text",role:"title-subtitle",style:"group-subtitle",from:sc,encode:Ic},ja),tc.call(qc,N));N={enter:{},update:{}};Ab(N,{orient:H("orient"),anchor:H("anchor"),align:{signal:we},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:H("limit"),frame:H("frame"),offset:H("offset")||0,padding:H("subtitlePadding")});
sa=gc(N,sa,Nd);return $a(ua({role:"title",from:sc,encode:sa,marks:qc,aria:H("aria"),description:H("description"),zindex:H("zindex"),name:Ia,interactive:ib,style:ub}),ca)}function Qd(N,ca){const H=[];N.transform&&N.transform.forEach(ja=>{H.push(rb(ja,ca))});N.on&&N.on.forEach(ja=>{La(ja,ca,N.name)});ca.addDataPipeline(N.name,Td(N,ca,H))}function Td(N,ca,H){const ja=[];let sa=null,Ia=!1,ib=!1,ub,qc,sc,tc;N.values?Zb(N.values)||nb(N.format)?(ja.push(Zd(ca,N)),ja.push(sa=Ed())):ja.push(sa=Ed({$ingest:N.values,
$format:N.format})):N.url?nb(N.url)||nb(N.format)?(ja.push(Zd(ca,N)),ja.push(sa=Ed())):ja.push(sa=Ed({$request:N.url,$format:N.format})):N.source&&(sa=ub=g.array(N.source).map(Ic=>Na(ca.getData(Ic).output)),ja.push(null));N=0;for(qc=H.length;N<qc;++N)sc=H[N],tc=sc.metadata,sa||tc.source||ja.push(sa=Ed()),ja.push(sc),tc.generates&&(ib=!0),tc.modifies&&!ib&&(Ia=!0),tc.source?sa=sc:tc.changes&&(sa=null);ub&&(qc=ub.length-1,ja[0]=ee({derive:Ia,pulse:qc?ub:ub[0]}),(Ia||qc)&&ja.splice(1,0,Ed()));sa||ja.push(Ed());
ja.push(pc({}));return ja}function Ed(N){N=af({},N);N.metadata={source:!0};return N}function Zd(N,ca){return Yb({url:ca.url?N.property(ca.url):void 0,async:ca.async?N.property(ca.async):void 0,values:ca.values?N.property(ca.values):void 0,format:N.objectProperty(ca.format)})}function de(N,ca,H,ja){let sa;if(ca&&g.hasOwnProperty(ca,N))return ca[N];if(g.hasOwnProperty(H,N))return H[N];if(N.startsWith("title")){switch(N){case "titleColor":sa="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":sa=
N[5].toLowerCase()+N.slice(6)}return ja["guide-title"][sa]}if(N.startsWith("label")){switch(N){case "labelColor":sa="fill";break;case "labelFont":case "labelFontSize":sa=N[5].toLowerCase()+N.slice(6)}return ja["guide-label"][sa]}return null}function Ud(N){const ca={};for(const H of N)if(H)for(const ja in H)ca[ja]=1;return Object.keys(ca)}function Te(N,ca,H,ja,sa){return{signal:'flush(range("'+N+'"), scale("'+N+'", datum.value), '+ca+","+H+","+ja+","+sa+")"}}function Xd(N,ca,H,ja){const sa=(ib,ub)=>
null!=ib?(H.update[ub]=le(Nc(ib),H.update[ub]),!1):rc(ub,ja)?!1:!0,Ia=sa(N("titleX"),"x");N=sa(N("titleY"),"y");H.enter.auto=N===Ia?Nc(N):Dc(ca,Nc(N),Nc(Ia))}function M(N,ca,H){const ja=g.array(N.signals),sa=g.array(N.scales);H||ja.forEach(Ia=>kb(Ia,ca));g.array(N.projections).forEach(Ia=>{const ib=ca.config.projection||{},ub={};for(const qc in Ia)"name"!==qc&&(ub[qc]=K(Ia[qc],qc,ca));for(const qc in ib)null==ub[qc]&&(ub[qc]=K(ib[qc],qc,ca));ca.addProjection(Ia.name,ub)});sa.forEach(Ia=>{const ib=
Ia.type||"linear";Gb.isValidScaleType(ib)||g.error("Unrecognized scale type: "+g.stringValue(ib));ca.addScale(Ia.name,{type:ib,domain:void 0})});g.array(N.data).forEach(Ia=>Qd(Ia,ca));sa.forEach(Ia=>{const ib=ca.getScale(Ia.name).params;let ub;ib.domain=C(Ia.domain,Ia,ca);null!=Ia.range&&(ib.range=u(Ia,ca,ib));if(null!=Ia.interpolate){var qc=Ia.interpolate;ib.interpolate=f(qc.type||qc);null!=qc.gamma&&(ib.interpolateGamma=f(qc.gamma))}null!=Ia.nice&&(qc=Ia.nice,qc=g.isObject(qc)?{interval:f(qc.interval),
step:f(qc.step)}:f(qc),ib.nice=qc);null!=Ia.bins&&(qc=Ia.bins,qc=qc.signal||g.isArray(qc)?v(qc,ca):ca.objectProperty(qc),ib.bins=qc);for(ub in Ia)g.hasOwnProperty(ib,ub)||"name"===ub||(ib[ub]=f(Ia[ub],ca))});(H||ja).forEach(Ia=>P(Ia,ca));g.array(N.axes).forEach(Ia=>{var ib=ca.config,ub=ib.style,qc=ib.axis,sc="band"===ca.scaleType(Ia.scale)&&ib.axisBand,tc=Ia.orient,Ic;if(Zb(tc)){const De=Ud([ib.axisX,ib.axisY]),Ie=Ud([ib.axisTop,ib.axisBottom,ib.axisLeft,ib.axisRight]);var Ad={};for(Ic of De)Ad[Ic]=
Dc(tc,de(Ic,ib.axisX,qc,ub),de(Ic,ib.axisY,qc,ub));var Gc={};for(Ic of Ie){var $c=Gc,yd=Ic,Cd=tc.signal,Kd=de(Ic,ib.axisTop,qc,ub),Fe=de(Ic,ib.axisBottom,qc,ub),Ce=de(Ic,ib.axisLeft,qc,ub),wd=de(Ic,ib.axisRight,qc,ub);var ye={signal:(null!=Ce?`${Cd} === '${"left"}' ? (${ce(Ce)}) : `:"")+(null!=Fe?`${Cd} === '${"bottom"}' ? (${ce(Fe)}) : `:"")+(null!=wd?`${Cd} === '${"right"}' ? (${ce(wd)}) : `:"")+(null!=Kd?`${Cd} === '${"top"}' ? (${ce(Kd)}) : `:"")+"(null)"};$c[yd]=ye}}else Ad="top"===tc||"bottom"===
tc?ib.axisX:ib.axisY,Gc=ib["axis"+tc[0].toUpperCase()+tc.slice(1)];var Ld=Ad||Gc||sc?g.extend({},qc,Ad,Gc,sc):qc;const ge=Ia.encode||{},Ge=ge.axis||{},hf=Ge.name||void 0,rf=Ge.interactive,Je=Ge.style,ne=Ja(Ia,Ld),Bf=ne("tickBand");let Hf=ne("tickOffset"),ef,Zf;Bf?Bf.signal?(ef={signal:`(${Bf.signal}) === 'extent' ? 1 : 0.5`},Zf={signal:`(${Bf.signal}) === 'extent'`},g.isObject(Hf)||(Hf={signal:`(${Bf.signal}) === 'extent' ? 0 : ${Hf}`})):"extent"===Bf?(ef=1,Zf=!0,Hf=0):(ef=.5,Zf=!1):(ef=ne("bandPosition"),
Zf=ne("tickExtra"));var Yd=Zf;var cf=ef;var jf=Hf;const Ze={scale:Ia.scale,ticks:!!ne("ticks"),labels:!!ne("labels"),grid:!!ne("grid"),domain:!!ne("domain"),title:null!=Ia.title},Gf=Na(ca.add(af({},[Ze]))),If=Na(ca.add(ff({scale:ca.scaleRef(Ia.scale),extra:ca.property(Yd),count:ca.objectProperty(Ia.tickCount),values:ca.objectProperty(Ia.values),minstep:ca.property(Ia.tickMinStep),formatType:ca.property(Ia.formatType),formatSpecifier:ca.property(Ia.format)}))),xf=[];let yf;if(Ze.grid){var Bg=xf.push,
hg=ge.grid;const De=Ja(Ia,Ld),Ie=Ia.orient,Kf=Ia.gridScale,wf=md(Ie,1,-1);a:{var vf=Ia.offset,Jf=wf;if(1!==Jf)if(g.isObject(vf)){let wg=vf=g.extend({},vf);for(;null!=wg.mult;)if(g.isObject(wg.mult))wg=wg.mult=g.extend({},wg.mult);else{wg.mult=Zb(Jf)?{signal:`(${wg.mult}) * (${Jf.signal})`}:wg.mult*Jf;var dg=vf;break a}wg.mult=Jf}else vf=Zb(Jf)?{signal:`(${Jf.signal}) * (${vf||0})`}:Jf*(vf||0);dg=vf}const lf=dg;let zf,rg,vg;const ig={enter:zf={opacity:Bd},update:vg={opacity:be},exit:rg={opacity:Bd}};
Ab(ig,{stroke:De("gridColor"),strokeCap:De("gridCap"),strokeDash:De("gridDash"),strokeDashOffset:De("gridDashOffset"),strokeOpacity:De("gridOpacity"),strokeWidth:De("gridWidth")});const Af={scale:Ia.scale,field:"value",band:cf,extra:Yd,offset:jf,round:De("tickRound")},Pg=Dc(Ie,{signal:"height"},{signal:"width"}),$g=Kf?{scale:Kf,range:0,mult:wf,offset:lf}:{value:0,offset:lf},jh=Kf?{scale:Kf,range:1,mult:wf,offset:lf}:g.extend(Pg,{mult:wf,offset:lf});zf.x=vg.x=Dc(Ie,Af,$g);zf.y=vg.y=jd(Ie,Af,$g);zf.x2=
vg.x2=jd(Ie,jh);zf.y2=vg.y2=Dc(Ie,jh);rg.x=Dc(Ie,Af);rg.y=jd(Ie,Af);var Xg=Ca({type:"rule",role:"axis-grid",key:"value",from:If,encode:ig},hg);Bg.call(xf,Xg)}if(Ze.ticks){yf=ne("tickSize");var Fg=xf.push,Jg=ge.ticks,Sg=yf;const De=Ja(Ia,Ld),Ie=Ia.orient,Kf=md(Ie,-1,1);let wf,lf,zf;const rg={enter:wf={opacity:Bd},update:zf={opacity:be},exit:lf={opacity:Bd}};Ab(rg,{stroke:De("tickColor"),strokeCap:De("tickCap"),strokeDash:De("tickDash"),strokeDashOffset:De("tickDashOffset"),strokeOpacity:De("tickOpacity"),
strokeWidth:De("tickWidth")});const vg=Nc(Sg);vg.mult=Kf;const ig={scale:Ia.scale,field:"value",band:cf,extra:Yd,offset:jf,round:De("tickRound")};zf.y=wf.y=Dc(Ie,Bd,ig);zf.y2=wf.y2=Dc(Ie,vg);lf.x=Dc(Ie,ig);zf.x=wf.x=jd(Ie,Bd,ig);zf.x2=wf.x2=jd(Ie,vg);lf.y=jd(Ie,ig);var pa=Ca({type:"rule",role:"axis-tick",key:"value",from:If,encode:rg},Jg);Fg.call(xf,pa)}if(Ze.labels){yf=Ze.ticks?yf:0;var bb=xf.push,Qb=ge.labels,gd=yf;const De=Ja(Ia,Ld),Ie=Ia.orient,Kf=Ia.scale,wf=md(Ie,-1,1),lf=Y(De("labelFlush")),
zf=Y(De("labelFlushOffset")),rg=De("labelAlign"),vg=De("labelBaseline");let ig=0===lf||!!lf,Af;const Pg=Nc(gd);Pg.mult=wf;Pg.offset=Nc(De("labelPadding")||0);Pg.offset.mult=wf;const $g={scale:Kf,field:"value",band:.5,offset:W(jf,De("labelOffset"))};var ld=ig?Te(Kf,lf,'"left"','"right"','"center"'):{value:"center"},pe=Ie;var Oe=Zb(pe)?Vd(`${pe.signal} === '${"right"}'`,"left","right"):"right"===pe?{value:"left"}:{value:"right"};const jh=Dc(Ie,ld,Oe),wg=Dc(Ie,Ec(Ie,"bottom","top"),ig?Te(Kf,lf,'"top"',
'"bottom"','"middle"'):{value:"middle"}),qh=Te(Kf,lf,`-(${zf})`,zf,0);ig=ig&&zf;const ph={opacity:Bd,x:Dc(Ie,$g,Pg),y:jd(Ie,$g,Pg)},Ih={enter:ph,update:Af={opacity:be,text:{field:"label"},x:ph.x,y:ph.y,align:jh,baseline:wg},exit:{opacity:Bd,x:ph.x,y:ph.y}};Ab(Ih,{dx:!rg&&ig?Dc(Ie,qh):null,dy:!vg&&ig?jd(Ie,qh):null});Ab(Ih,{angle:De("labelAngle"),fill:De("labelColor"),fillOpacity:De("labelOpacity"),font:De("labelFont"),fontSize:De("labelFontSize"),fontWeight:De("labelFontWeight"),fontStyle:De("labelFontStyle"),
limit:De("labelLimit"),lineHeight:De("labelLineHeight")},{align:rg,baseline:vg});const Vg=De("labelBound");let rh=De("labelOverlap");rh=rh||Vg?{separation:De("labelSeparation"),method:rh,order:"datum.index",bound:Vg?{scale:Kf,orient:Ie,tolerance:Vg}:null}:void 0;Af.align!==jh&&(Af.align=le(Af.align,jh));Af.baseline!==wg&&(Af.baseline=le(Af.baseline,wg));var nf=Ca({type:"text",role:"axis-label",style:"guide-label",key:"value",from:If,encode:Ih,overlap:rh},Qb);bb.call(xf,nf)}if(Ze.domain){var Ef=xf.push,
Me=ge.domain;const De=Ja(Ia,Ld),Ie=Ia.orient;let Kf,wf;const lf={enter:Kf={opacity:Bd},update:wf={opacity:be},exit:{opacity:Bd}};Ab(lf,{stroke:De("domainColor"),strokeCap:De("domainCap"),strokeDash:De("domainDash"),strokeDashOffset:De("domainDashOffset"),strokeWidth:De("domainWidth"),strokeOpacity:De("domainOpacity")});const zf={scale:Ia.scale,range:0},rg={scale:Ia.scale,range:1};Kf.x=wf.x=Dc(Ie,zf,Bd);Kf.x2=wf.x2=Dc(Ie,rg);Kf.y=wf.y=jd(Ie,zf,Bd);Kf.y2=wf.y2=jd(Ie,rg);var $f=Ca({type:"rule",role:"axis-domain",
from:Gf,encode:lf},Me);Ef.call(xf,$f)}if(Ze.title){var Mf=xf.push,Tf=ge.title;const De=Ja(Ia,Ld),Ie=Ia.orient,Kf=md(Ie,-1,1);let wf,lf;const zf={enter:wf={opacity:Bd,anchor:Nc(De("titleAnchor",null)),align:{signal:we}},update:lf=g.extend({},wf,{opacity:be,text:Nc(Ia.title)}),exit:{opacity:Bd}},rg={signal:`lerp(range("${Ia.scale}"), ${ab(0,1,.5)})`};lf.x=Dc(Ie,rg);lf.y=jd(Ie,rg);var pg=wf,qg=Kf;var Og=Zb(qg)?{signal:`(${qg.signal}) * ${90}`}:{value:90*qg};pg.angle=Dc(Ie,Bd,Og);wf.baseline=Dc(Ie,Ec(Ie,
"bottom","top"),{value:"bottom"});lf.angle=wf.angle;lf.baseline=wf.baseline;Ab(zf,{fill:De("titleColor"),fillOpacity:De("titleOpacity"),font:De("titleFont"),fontSize:De("titleFontSize"),fontStyle:De("titleFontStyle"),fontWeight:De("titleFontWeight"),limit:De("titleLimit"),lineHeight:De("titleLineHeight")},{align:De("titleAlign"),angle:De("titleAngle"),baseline:De("titleBaseline")});Xd(De,Ie,zf,Tf);zf.update.align=le(zf.update.align,wf.align);zf.update.angle=le(zf.update.angle,wf.angle);zf.update.baseline=
le(zf.update.baseline,wf.baseline);var Yg=Ca({type:"text",role:"axis-title",style:"guide-title",from:Gf,encode:zf},Tf);Mf.call(xf,Yg)}const gh={enter:{},update:{}};Ab(gh,{orient:ne("orient"),offset:ne("offset")||0,position:la(Ia.position,0),titlePadding:ne("titlePadding"),minExtent:ne("minExtent"),maxExtent:ne("maxExtent"),range:{signal:`abs(span(range("${Ia.scale}")))`},translate:ne("translate"),format:Ia.format,formatType:Ia.formatType});return $a(ua({role:"axis",from:Gf,encode:gc(gh,Ge,Nd),marks:xf,
aria:ne("aria"),description:ne("description"),zindex:ne("zindex"),name:hf,interactive:rf,style:Je}),ca)});g.array(N.marks).forEach(Ia=>$a(Ia,ca));g.array(N.legends).forEach(Ia=>Fb(Ia,ca));N.title&&dd(N.title,ca);ca.parseLambdas();return ca}function ka(N,ca){var H=ca.config;const ja=Na(ca.root=ca.add(new lb("operator",void 0,void 0,void 0))),sa=fb(N,H);sa.forEach(ub=>kb(ub,ca));ca.description=N.description||H.description;ca.eventConfig=H.events;ca.legends=ca.objectProperty(H.legend&&H.legend.layout);
ca.locale=H.locale;H=ca.add(af());const Ia=ca.add(T(Oa(gc({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},N.encode),"group","frame",N.style,ca,{pulse:Na(H)}))),ib=ca.add(Jc({layout:ca.objectProperty(N.layout),legends:ca.legends,autosize:ca.signalRef("autosize"),mark:ja,pulse:Na(Ia)}));ca.operators.pop();ca.pushState(Na(Ia),Na(ib),null);M(N,ca,sa);ca.operators.push(ib);N=ca.add(df({mark:ja,pulse:Na(ib)}));N=ca.add(Ra({pulse:Na(N)}));N=ca.add(pc({pulse:Na(N)}));
ca.addData("root",new Ga(ca,H,H,N));return ca}function za(N,ca){return ca&&ca.signal?{name:N,update:ca.signal}:{name:N,value:ca}}function fb(N,ca){const H=ib=>la(N[ib],ca[ib]),ja=[za("background",H("background")),za("autosize",oc(H("autosize"))),za("padding",kc(H("padding"))),za("width",H("width")||0),za("height",H("height")||0)],sa=ja.reduce((ib,ub)=>(ib[ub.name]=ub,ib),{}),Ia={};g.array(N.signals).forEach(ib=>{g.hasOwnProperty(sa,ib.name)?ib=g.extend(sa[ib.name],ib):ja.push(ib);Ia[ib.name]=ib});
g.array(ca.signals).forEach(ib=>{g.hasOwnProperty(Ia,ib.name)||g.hasOwnProperty(sa,ib.name)||ja.push(ib)});return ja}function Hb(N,ca){this.config=N||{};this.options=ca||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Xb(N){this.config=N.config;
this.options=N.options;this.legends=N.legends;this.field=Object.create(N.field);this.signals=Object.create(N.signals);this.lambdas=Object.create(N.lambdas);this.scales=Object.create(N.scales);this.events=Object.create(N.events);this.data=Object.create(N.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++N._nextsub[0];this._nextsub=N._nextsub;this._parent=N._parent.slice();this._encode=N._encode.slice();this._lookup=N._lookup.slice();this._markpath=N._markpath}function Ac(N){return(g.isArray(N)?
lc:Fc)(N)}function lc(N){const ca=N.length;let H="[";for(let ja=0;ja<ca;++ja){const sa=N[ja];H+=(0<ja?",":"")+(g.isObject(sa)?sa.signal||Ac(sa):g.stringValue(sa))}return H+"]"}function Fc(N){let ca="{",H=0,ja,sa;for(ja in N)sa=N[ja],ca+=(1<++H?",":"")+g.stringValue(ja)+":"+(g.isObject(sa)?sa.signal||Ac(sa):g.stringValue(sa));return ca+"}"}function hd(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},
area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",
font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",
tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,
symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const Nc=N=>g.isObject(N)&&!g.isArray(N)?g.extend({},N):{value:N},rd=N=>g.isString(N)?g.stringValue(N):N.signal?`(${N.signal})`:Pb(N),Gd=(N,ca,H,ja)=>`(${N}(${[ca,H,ja].map(Kb).join(",")})+'')`,Fd=["value","update","init","react","bind"],$d=xb("key"),Wd={code:"_.$value",ast:{type:"Identifier",value:"value"}},ae=N=>(ca,H,ja)=>new lb(N,H,ca||void 0,ja),Be=ae("aggregate"),ff=ae("axisticks"),df=ae("bound"),af=ae("collect"),re=ae("compare"),pf=ae("datajoin"),T=ae("encode"),ta=ae("expression"),db=ae("facet"),
zb=ae("field"),ec=ae("key"),Bc=ae("legendentries"),Yb=ae("load"),I=ae("mark"),da=ae("multiextent"),Sa=ae("multivalues"),ac=ae("overlap"),Pc=ae("params"),Cc=ae("prefacet"),Sc=ae("projection"),fd=ae("proxy"),ee=ae("relay"),Ra=ae("render"),eb=ae("scale"),pc=ae("sieve"),vd=ae("sortitems"),Jc=ae("viewlayout"),Vc=ae("values");let Qc=0;const sd={min:"min",max:"max",count:"sum"},id="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Nd={name:1,style:1,interactive:1},Bd={value:0},be={value:1},
we=ab(g.stringValue("left"),g.stringValue("right"),g.stringValue("center")),Ke=ab('"top"','"bottom"','"middle"'),Xe=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${ab('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${we}`,bf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Ke}) : "top"`;
Ga.fromEntries=function(N,ca){const H=ca.length,ja=ca[H-1],sa=ca[H-2];let Ia=ca[0],ib=null,ub=1;Ia&&"load"===Ia.type&&(Ia=ca[1]);for(N.add(ca[0]);ub<H;++ub)ca[ub].params.pulse=Na(ca[ub-1]),N.add(ca[ub]),"aggregate"===ca[ub].type&&(ib=ca[ub]);return new Ga(N,Ia,sa,ja,ib)};Ga.prototype={countsRef(N,ca,H){const ja=this.counts||(this.counts={}),sa=gb(ca);if(null!=sa){N=this.scope;var Ia=ja[sa]}Ia?H&&H.field&&vb(N,Ia.agg.params,H):(Ia={groupby:N.fieldRef(ca,"key"),pulse:Na(this.output)},H&&H.field&&vb(N,
Ia,H),H=N.add(Be(Ia)),Ia=N.add(af({pulse:Na(H)})),Ia={agg:H,ref:Na(Ia)},null!=sa&&(ja[sa]=Ia));return Ia.ref},tuplesRef(){return Na(this.values)},extentRef(N,ca){return ra(N,this,"extent","extent",ca,!1)},domainRef(N,ca){return ra(N,this,"domain","values",ca,!1)},valuesRef(N,ca,H){return ra(N,this,"vals","values",ca,H||!0)},lookupRef(N,ca){return ra(N,this,"lookup","tupleindex",ca,!1)},indataRef(N,ca){return ra(N,this,"indata","tupleindex",ca,!0,!0)}};const md=(N,ca,H)=>{Zb(N)?(N=N.signal,ca=Vd(`${N} === '${"left"}' || ${N} === '${"top"}'`,
ca,H)):ca="left"===N||"top"===N?ca:H;return ca},Dc=(N,ca,H)=>{Zb(N)?(N=N.signal,ca=Id(`${N} === '${"top"}' || ${N} === '${"bottom"}'`,ca,H)):ca="bottom"===N||"top"===N?ca:H;return ca},jd=(N,ca,H)=>{Zb(N)?(N=N.signal,ca=Id(`${N} !== '${"top"}' && ${N} !== '${"bottom"}'`,ca,H)):ca="bottom"===N||"top"===N?H:ca;return ca},Ec=(N,ca,H)=>Zb(N)?Vd(`${N.signal} === '${"top"}'`,ca,H):"top"===N?{value:ca}:{value:H},Id=(N,ca,H)=>{ca=null!=ca?Nc(ca):ca;H=null!=H?Nc(H):H;if(null!=ca&&1!==Object.keys(ca).length||
null!=H&&1!==Object.keys(H).length)return[g.extend({test:N},ca)].concat(H||[]);ca=ca?ca.signal||g.stringValue(ca.value):null;H=H?H.signal||g.stringValue(H.value):null;return{signal:`${N} ? (${ca}) : (${H})`}},Vd=(N,ca,H)=>({signal:`${N} ? (${ce(ca)}) : (${ce(H)})`}),ce=N=>Zb(N)?N.signal:null==N?null:g.stringValue(N),le=(N,ca)=>{const H=N.signal;return H&&H.endsWith("(null)")?{signal:H.slice(0,-6)+ca.signal}:N};Hb.prototype=Xb.prototype={parse(N){return M(N,this)},fork(){return new Xb(this)},isSubscope(){return 0<
this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(N){this.operators.push(N);N.id=this.id();N.refs&&(N.refs.forEach(ca=>{ca.$ref=N.id}),N.refs=null);return N},proxy(N){N=N instanceof lb?Na(N):N;return this.add(fd({value:N}))},addStream(N){this.streams.push(N);N.id=this.id();return N},
addUpdate(N){this.updates.push(N);return N},finish(){function N(ja,sa,Ia){ja&&(ja=ja.data||(ja.data={}),sa=ja[sa]||(ja[sa]=[]),sa.push(Ia))}let ca,H;this.root&&(this.root.root=!0);for(ca in this.signals)this.signals[ca].signal=ca;for(ca in this.scales)this.scales[ca].scale=ca;for(ca in this.data){H=this.data[ca];N(H.input,ca,"input");N(H.output,ca,"output");N(H.values,ca,"values");for(const ja in H.index)N(H.index[ja],ca,"index:"+ja)}return this},pushState(N,ca,H){this._encode.push(Na(this.add(pc({pulse:N}))));
this._parent.push(ca);this._lookup.push(H?Na(this.proxy(H)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return g.peek(this._parent)},encode(){return g.peek(this._encode)},lookup(){return g.peek(this._lookup)},markpath(){const N=this._markpath;return++N[N.length-1]},fieldRef(N,ca){if(g.isString(N))return xb(N,ca);N.signal||g.error("Unsupported field reference: "+g.stringValue(N));N=N.signal;var H=this.field[N];H||
(H={name:this.signalRef(N)},ca&&(H.as=ca),this.field[N]=H=Na(this.add(zb(H))));return H},compareRef(N){let ca=!1;const H=sa=>Zb(sa)?(ca=!0,this.signalRef(sa.signal)):sa&&sa.expr?(ca=!0,this.exprRef(sa.expr)):sa,ja=g.array(N.field).map(H);N=g.array(N.order).map(H);return ca?Na(this.add(re({fields:ja,orders:N}))):{$compare:ja,$order:N}},keyRef(N,ca){let H=!1;const ja=this.signals;N=g.array(N).map(sa=>Zb(sa)?(H=!0,Na(ja[sa.signal])):sa);return H?Na(this.add(ec({fields:N,flat:ca}))):ob(N,ca)},sortRef(N){if(!N)return N;
const ca=Nb(N.op,N.field);N=N.order||"ascending";return N.signal?Na(this.add(re({fields:ca,orders:this.signalRef(N.signal)}))):{$compare:ca,$order:N}},event(N,ca){const H=N+":"+ca;if(!this.events[H]){const ja=this.id();this.streams.push({id:ja,source:N,type:ca});this.events[H]=ja}return this.events[H]},hasOwnSignal(N){return g.hasOwnProperty(this.signals,N)},addSignal(N,ca){this.hasOwnSignal(N)&&g.error("Duplicate signal name: "+g.stringValue(N));ca=ca instanceof lb?ca:this.add(new lb("operator",
ca,void 0,void 0));return this.signals[N]=ca},getSignal(N){this.signals[N]||g.error("Unrecognized signal name: "+g.stringValue(N));return this.signals[N]},signalRef(N){if(this.signals[N])return Na(this.signals[N]);g.hasOwnProperty(this.lambdas,N)||(this.lambdas[N]=this.add(new lb("operator",null,void 0,void 0)));return Na(this.lambdas[N])},parseLambdas(){const N=Object.keys(this.lambdas);for(let H=0,ja=N.length;H<ja;++H){var ca=N[H];const sa=qa.parseExpression(ca,this);ca=this.lambdas[ca];ca.params=
sa.$params;ca.update=sa.$expr}},property(N){return N&&N.signal?this.signalRef(N.signal):N},objectProperty(N){return N&&g.isObject(N)?this.signalRef(N.signal||Ac(N)):N},exprRef(N,ca){N={expr:qa.parseExpression(N,this)};ca&&(N.expr.$name=ca);return Na(this.add(ta(N)))},addBinding(N,ca){this.bindings||g.error("Nested signals do not support binding: "+g.stringValue(N));this.bindings.push(g.extend({signal:N},ca))},addScaleProj(N,ca){g.hasOwnProperty(this.scales,N)&&g.error("Duplicate scale or projection name: "+
g.stringValue(N));this.scales[N]=this.add(ca)},addScale(N,ca){this.addScaleProj(N,eb(ca))},addProjection(N,ca){this.addScaleProj(N,Sc(ca))},getScale(N){this.scales[N]||g.error("Unrecognized scale name: "+g.stringValue(N));return this.scales[N]},scaleRef(N){return Na(this.getScale(N))},scaleType(N){return this.getScale(N).params.type},projectionRef(N){return this.scaleRef(N)},projectionType(N){return this.scaleType(N)},addData(N,ca){g.hasOwnProperty(this.data,N)&&g.error("Duplicate data set name: "+
g.stringValue(N));return this.data[N]=ca},getData(N){this.data[N]||g.error("Undefined data set name: "+g.stringValue(N));return this.data[N]},addDataPipeline(N,ca){g.hasOwnProperty(this.data,N)&&g.error("Duplicate data set name: "+g.stringValue(N));return this.addData(N,Ga.fromEntries(this,ca))}};r.AxisDomainRole="axis-domain";r.AxisGridRole="axis-grid";r.AxisLabelRole="axis-label";r.AxisRole="axis";r.AxisTickRole="axis-tick";r.AxisTitleRole="axis-title";r.DataScope=Ga;r.FrameRole="frame";r.LegendEntryRole=
"legend-entry";r.LegendLabelRole="legend-label";r.LegendRole="legend";r.LegendSymbolRole="legend-symbol";r.LegendTitleRole="legend-title";r.MarkRole="mark";r.Scope=Hb;r.ScopeRole="scope";r.config=hd;r.parse=function(N,ca,H){g.isObject(N)||g.error("Input Vega specification must be an object.");ca=g.mergeConfig(hd(),ca,N.config);return ka(N,new Hb(ca,H)).toRuntime()};r.signal=kb;r.signalUpdates=P;r.stream=Ha})};
shadow$provide[64]=function(cc,Db,Xc,mb){function r(Na){var xb=Object.create(null);Na&&Object.keys(Na).forEach(function(ob){if("default"!==ob){var Nb=Object.getOwnPropertyDescriptor(Na,ob);Object.defineProperty(xb,ob,Nb.get?Nb:{enumerable:!0,get:function(){return Na[ob]}})}});xb.default=Na;return Object.freeze(xb)}var g=Db(21),qa=Db(29),hb=Db(31),Gb=Db(35),$b=Db(36),oc=Db(38),kc=Db(39),yc=Db(40),Ab=Db(48),gc=Db(53),rc=Db(54);Xc=Db(55);cc=Db(56);var Va=Db(30),qb=Db(23),Kb=Db(28),Ob=Db(34),Bb=Db(33),
Pb=Db(37),Ua=Db(61),pb=Db(24),Oa=Db(59),Da=Db(63),Pa=Db(60),kb=Db(57),lb=Db(62);Db=r(hb);Gb=r(Gb);$b=r($b);oc=r(oc);kc=r(kc);yc=r(yc);Ab=r(Ab);gc=r(gc);rc=r(rc);Xc=r(Xc);cc=r(cc);g.extend(qa.transforms,Db,Gb,$b,oc,kc,Ab,yc,gc,rc,Xc,cc);Object.defineProperty(mb,"Dataflow",{enumerable:!0,get:function(){return qa.Dataflow}});Object.defineProperty(mb,"EventStream",{enumerable:!0,get:function(){return qa.EventStream}});Object.defineProperty(mb,"MultiPulse",{enumerable:!0,get:function(){return qa.MultiPulse}});
Object.defineProperty(mb,"Operator",{enumerable:!0,get:function(){return qa.Operator}});Object.defineProperty(mb,"Parameters",{enumerable:!0,get:function(){return qa.Parameters}});Object.defineProperty(mb,"Pulse",{enumerable:!0,get:function(){return qa.Pulse}});Object.defineProperty(mb,"Transform",{enumerable:!0,get:function(){return qa.Transform}});Object.defineProperty(mb,"changeset",{enumerable:!0,get:function(){return qa.changeset}});Object.defineProperty(mb,"definition",{enumerable:!0,get:function(){return qa.definition}});
Object.defineProperty(mb,"ingest",{enumerable:!0,get:function(){return qa.ingest}});Object.defineProperty(mb,"isTuple",{enumerable:!0,get:function(){return qa.isTuple}});Object.defineProperty(mb,"transform",{enumerable:!0,get:function(){return qa.transform}});Object.defineProperty(mb,"transforms",{enumerable:!0,get:function(){return qa.transforms}});Object.defineProperty(mb,"tupleid",{enumerable:!0,get:function(){return qa.tupleid}});Object.defineProperty(mb,"interpolate",{enumerable:!0,get:function(){return Bb.interpolate}});
Object.defineProperty(mb,"interpolateColors",{enumerable:!0,get:function(){return Bb.interpolateColors}});Object.defineProperty(mb,"interpolateRange",{enumerable:!0,get:function(){return Bb.interpolateRange}});Object.defineProperty(mb,"quantizeInterpolator",{enumerable:!0,get:function(){return Bb.quantizeInterpolator}});Object.defineProperty(mb,"scale",{enumerable:!0,get:function(){return Bb.scale}});Object.defineProperty(mb,"scheme",{enumerable:!0,get:function(){return Bb.scheme}});Object.defineProperty(mb,
"projection",{enumerable:!0,get:function(){return Pb.projection}});Object.defineProperty(mb,"View",{enumerable:!0,get:function(){return Ua.View}});Object.defineProperty(mb,"defaultLocale",{enumerable:!0,get:function(){return pb.defaultLocale}});Object.defineProperty(mb,"formatLocale",{enumerable:!0,get:function(){return pb.numberFormatDefaultLocale}});Object.defineProperty(mb,"locale",{enumerable:!0,get:function(){return pb.locale}});Object.defineProperty(mb,"resetDefaultLocale",{enumerable:!0,get:function(){return pb.resetDefaultLocale}});
Object.defineProperty(mb,"timeFormatLocale",{enumerable:!0,get:function(){return pb.timeFormatDefaultLocale}});Object.defineProperty(mb,"expressionFunction",{enumerable:!0,get:function(){return Oa.expressionFunction}});Object.defineProperty(mb,"parse",{enumerable:!0,get:function(){return Da.parse}});Object.defineProperty(mb,"runtimeContext",{enumerable:!0,get:function(){return Pa.context}});Object.defineProperty(mb,"codegenExpression",{enumerable:!0,get:function(){return kb.codegenExpression}});Object.defineProperty(mb,
"parseExpression",{enumerable:!0,get:function(){return kb.parseExpression}});Object.defineProperty(mb,"parseSelector",{enumerable:!0,get:function(){return lb.parseSelector}});mb.version="5.25.0";Object.keys(g).forEach(function(Na){"default"===Na||mb.hasOwnProperty(Na)||Object.defineProperty(mb,Na,{enumerable:!0,get:function(){return g[Na]}})});Object.keys(Va).forEach(function(Na){"default"===Na||mb.hasOwnProperty(Na)||Object.defineProperty(mb,Na,{enumerable:!0,get:function(){return Va[Na]}})});Object.keys(qb).forEach(function(Na){"default"===
Na||mb.hasOwnProperty(Na)||Object.defineProperty(mb,Na,{enumerable:!0,get:function(){return qb[Na]}})});Object.keys(Kb).forEach(function(Na){"default"===Na||mb.hasOwnProperty(Na)||Object.defineProperty(mb,Na,{enumerable:!0,get:function(){return Kb[Na]}})});Object.keys(Ob).forEach(function(Na){"default"===Na||mb.hasOwnProperty(Na)||Object.defineProperty(mb,Na,{enumerable:!0,get:function(){return Ob[Na]}})})};
shadow$provide[65]=function(cc,Db,Xc,mb){(function(r,g){"object"===typeof mb&&"undefined"!==typeof Xc?g(mb,Db(64)):"function"===typeof define&&define.amd?define(["exports","vega"],g):(r="undefined"!==typeof globalThis?globalThis:r||self,g(r.vegaLite={},r.vega))})(this,function(r,g){function qa(a,b){if(a.not)qa(a.not,b);else if(a.and)for(const e of a.and)qa(e,b);else if(a.or)for(const e of a.or)qa(e,b);else b(a)}function hb(a,b){return a.not?{not:hb(a.not,b)}:a.and?{and:a.and.map(e=>hb(e,b))}:a.or?
{or:a.or.map(e=>hb(e,b))}:b(a)}function Gb(a){throw Error(a);}function $b(a,b){const e={};for(const h of b)g.hasOwnProperty(a,h)&&(e[h]=a[h]);return e}function oc(a,b){a=Object.assign({},a);for(const e of b)delete a[e];return a}function kc(a){if(g.isNumber(a))return a;a=g.isString(a)?a:p(a);if(250>a.length)return a;let b=0;for(let e=0;e<a.length;e++){const h=a.charCodeAt(e);b=(b<<5)-b+h;b&=b}return b}function yc(a){return!1===a||null===a}function Ab(a,b){return a.includes(b)}function gc(a,b){let e=
0;for(const h of a.entries()){const [m,A]=h;if(b(A,m,e++))return!0}return!1}function rc(a,b){let e=0;for(const h of a.entries()){const [m,A]=h;if(!b(A,m,e++))return!1}return!0}function Va(a){for(var b=arguments.length,e=Array(1<b?b-1:0),h=1;h<b;h++)e[h-1]=arguments[h];for(const m of e){let A;b=a;e=null!=(A=m)?A:{};for(const O of je(e))g.writeConfig(b,O,e[O],!0)}return a}function qb(a,b){const e=[],h={};for(const m of a)a=b(m),a in h||(h[a]=1,e.push(m));return e}function Kb(a,b){if(a.size!==b.size)return!1;
for(const e of a)if(!b.has(e))return!1;return!0}function Ob(a,b){for(const e of a)if(b.has(e))return!0;return!1}function Bb(a){const b=new Set;for(const e of a){const h=g.splitAccessPath(e).map((m,A)=>0===A?m:`[${m}]`);a=h.map((m,A)=>h.slice(0,A+1).join(""));for(const m of a)b.add(m)}return b}function Pb(a,b){return void 0===a||void 0===b?!0:Ob(Bb(a),Bb(b))}function Ua(a){return 0===je(a).length}function pb(a){return!0===a||!1===a}function Oa(a){const b=a.replace(/\W/g,"_");return(a.match(/^\d+/)?
"_":"")+b}function Da(a,b){return a.not?`!(${Da(a.not,b)})`:a.and?`(${a.and.map(e=>Da(e,b)).join(") \x26\x26 (")})`:a.or?`(${a.or.map(e=>Da(e,b)).join(") || (")})`:b(a)}function Pa(a,b){if(0===b.length)return!0;const e=b.shift();e in a&&Pa(a[e],b)&&delete a[e];return Ua(a)}function kb(a){return a.charAt(0).toUpperCase()+a.substr(1)}function lb(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const e=g.splitAccessPath(a),h=[];for(let m=1;m<=e.length;m++){const A=`[${e.slice(0,
m).map(g.stringValue).join("][")}]`;h.push(`${b}${A}`)}return h.join(" \x26\x26 ")}function Na(a){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${g.stringValue(g.splitAccessPath(a).join("."))}]`}function xb(a){return a.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ob(a){return`${g.splitAccessPath(a).map(xb).join("\\.")}`}function Nb(a,b,e){return a.replace(new RegExp(b.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),e)}function Zb(a){return`${g.splitAccessPath(a).join(".")}`}
function nb(a){return a?g.splitAccessPath(a).length:0}function la(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];for(const h of b)if(void 0!==h)return h}function Y(a){const b=++vk;return a?String(a)+b:b}function Ha(a){return Fa(a)?a:`__${a}`}function Fa(a){return a.startsWith("__")}function cb(a){if(void 0!==a)return(a%360+360)%360}function aa(a){return g.isNumber(a)?!0:!isNaN(a)&&!isNaN(parseFloat(a))}function ma(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==
typeof b){if(a.constructor.name!==b.constructor.name)return!1;let h;if(Array.isArray(a)){var e=a.length;if(e!=b.length)return!1;for(h=e;0!==h--;)if(!ma(a[h],b[h]))return!1;return!0}if(a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;for(h of a.entries())if(!b.has(h[0]))return!1;for(h of a.entries())if(!ma(h[1],b.get(h[0])))return!1;return!0}if(a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;for(h of a.entries())if(!b.has(h[0]))return!1;return!0}if(ArrayBuffer.isView(a)&&
ArrayBuffer.isView(b)){e=a.length;if(e!=b.length)return!1;for(h=e;0!==h--;)if(a[h]!==b[h])return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf&&a.valueOf!==Jj.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString&&a.toString!==Jj.toString)return a.toString()===b.toString();const m=Object.keys(a);e=m.length;if(e!==Object.keys(b).length)return!1;for(h=e;0!==h--;)if(!Object.prototype.hasOwnProperty.call(b,
m[h]))return!1;for(h=e;0!==h--;)if(e=m[h],!ma(a[e],b[e]))return!1;return!0}return a!==a&&b!==b}function p(a){const b=[];return function m(h){h&&h.toJSON&&"function"===typeof h.toJSON&&(h=h.toJSON());if(void 0!==h){if("number"==typeof h)return isFinite(h)?""+h:"null";if("object"!==typeof h)return JSON.stringify(h);var A;if(Array.isArray(h)){var O="[";for(A=0;A<h.length;A++)A&&(O+=","),O+=m(h[A])||"null";return O+"]"}if(null===h)return"null";if(b.includes(h))throw new TypeError("Converting circular structure to JSON");
var ia=b.push(h)-1,xa=Object.keys(h).sort();O="";for(A=0;A<xa.length;A++){const Xa=xa[A],Eb=m(h[Xa]);Eb&&(O&&(O+=","),O+=JSON.stringify(Xa)+":"+Eb)}b.splice(ia,1);return`{${O}}`}}(a)}function L(a){switch(a){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function P(a){return"color"===a||"fill"===a||"stroke"===a}function f(a){return v(a)!==a}function v(a){switch(a){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";
case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return a}function l(a){if(a in Vk)switch(a){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return a}function C(a){switch(a){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function B(a){switch(a){case "x":case "x2":return"width";
case "y":case "y2":return"height"}}function z(a){switch(a){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function D(a){switch(a){case "x":return"xOffset";case "y":return"yOffset"}}function G(a){switch(a){case "xOffset":return"x";case "yOffset":return"y"}}function U(a){return a in Uj}function Aa(a){return"width"===
a?"x":"y"}function X(a){switch(a){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Jk;case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return jm;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",
circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",
square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function u(a){switch(a){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";case "color":case "fill":case "stroke":return"flexible"}}function K(a){return!!a&&!!a.argmin}function ua(a){return!!a&&
!!a.argmax}function Ja(a){return g.isString(a)&&!!km[a]}function Wa(a){return g.isString(a)&&Kl.has(a)}function ab(a){g.isBoolean(a)&&(a=Zf(a,void 0));return"bin"+je(a).map(b=>Za(a[b])?Oa(`_${b}_${Ui(a[b])}`):Oa(`_${b}_${a[b]}`)).join("")}function W(a){return!0===a||g.isObject(a)&&!a.binned}function Ca(a){return"binned"===a||g.isObject(a)&&!0===a.binned}function Za(a){return null==a?void 0:a.param}function Ib(a){switch(a){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;
case "strokeDash":return 4;default:return 10}}function xc(a){return!(null==a||!a.expr)}function uc(a){const b=je(a||{}),e={};for(const h of b)e[h]=Ub(a[h]);return e}function wc(a){var b=Object.assign({},a),e=a.anchor;const h=a.frame,m=a.offset,A=a.orient,O=a.angle,ia=a.limit;var xa=a.color,Xa=a.subtitleColor;const Eb=a.subtitleFont,Vb=a.subtitleFontSize,Mc=a.subtitleFontStyle,xd=a.subtitleFontWeight,Lc=a.subtitleLineHeight,nd=a.subtitlePadding;b=(delete b.anchor,delete b.frame,delete b.offset,delete b.orient,
delete b.angle,delete b.limit,delete b.color,delete b.subtitleColor,delete b.subtitleFont,delete b.subtitleFontSize,delete b.subtitleFontStyle,delete b.subtitleFontWeight,delete b.subtitleLineHeight,delete b.subtitlePadding,b);xa=Object.assign({},b,xa?{fill:xa}:{});e=Object.assign({},e?{anchor:e}:{},h?{frame:h}:{},m?{offset:m}:{},A?{orient:A}:{},void 0!==O?{angle:O}:{},void 0!==ia?{limit:ia}:{});Xa=Object.assign({},Xa?{subtitleColor:Xa}:{},Eb?{subtitleFont:Eb}:{},Vb?{subtitleFontSize:Vb}:{},Mc?{subtitleFontStyle:Mc}:
{},xd?{subtitleFontWeight:xd}:{},Lc?{subtitleLineHeight:Lc}:{},nd?{subtitlePadding:nd}:{});a=$b(a,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:xa,subtitleMarkConfig:a,nonMarkTitleProperties:e,subtitle:Xa}}function bd(a){return g.isString(a)||g.isArray(a)&&g.isString(a[0])}function Wb(a){return!(null==a||!a.signal)}function Rc(a){return!!a.step}function Pd(a){return g.isArray(a)?!1:"field"in a&&"data"in a}function Ka(a){const b=g.isArray(a.condition)?a.condition.map(rb):rb(a.condition);
return Object.assign({},Ub(a),{condition:b})}function Ub(a){if(xc(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return a}function rb(a){if(xc(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return a}function Sb(a){if(xc(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return Wb(a)?a:void 0!==a?{value:a}:void 0}function fc(a){return Wb(a)?a.signal:g.stringValue(a.value)}
function bc(a){return Wb(a)?a.signal:null==a?null:g.stringValue(a)}function Hc(a){let b;return[].concat(a.type,null!=(b=a.style)?b:[])}function zc(a,b,e){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:m,ignoreVgConfig:A}=h;if(m&&void 0!==b[m])return b[m];if(void 0!==b[a])return b[a];if(!A||m&&m!==a)return Yc(a,b,e,h)}function Yc(a,b,e){let {vgChannel:h}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return la(h?Md(a,b,e.style):void 0,Md(a,b,e.style),h?
e[b.type][h]:void 0,e[b.type][a],h?e.mark[h]:e.mark[a])}function Md(a,b,e){return td(a,Hc(b),e)}function td(a,b,e){b=g.array(b);let h;for(const m of b)(b=e[m])&&void 0!==b[a]&&(h=b[a]);return h}function Ga(a,b){return g.array(a).reduce((e,h)=>{e.field.push(wd(h,b));let m;e.order.push(null!=(m=h.sort)?m:"ascending");return e},{field:[],order:[]})}function gb(a,b){const e=[...a];b.forEach(h=>{for(const m of e)if(ma(m,h))return;e.push(h)});return e}function vb(a,b){return ma(a,b)||!b?a:a?[...g.array(a),
...g.array(b)].join(", "):b}function ra(a,b){const e=a.value;b=b.value;if(null==e||null===b)return{explicit:a.explicit,value:null};if((bd(e)||Wb(e))&&(bd(b)||Wb(b)))return{explicit:a.explicit,value:vb(e,b)};if(bd(e)||Wb(e))return{explicit:a.explicit,value:e};if(bd(b)||Wb(b))return{explicit:a.explicit,value:b};if(!(bd(e)||Wb(e)||bd(b)||Wb(b)))return{explicit:a.explicit,value:gb(e,b)};throw Error("It should never reach here");}function F(a,b,e){a:if("object"===typeof b&&null!==b){var h=b[Symbol.toPrimitive];
if(void 0!==h){b=h.call(b,"string");if("object"!==typeof b)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}b="symbol"===typeof b?b:String(b);b in a?Object.defineProperty(a,b,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[b]=e;return a}function ya(a,b,e){b=La(a,b,"set");if(b.set)b.set.call(a,e);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=e}return e}function La(a,b,e){if(!b.has(a))throw new TypeError("attempted to "+
e+" private field on non-instance");return b.get(a)}function $a(a){return`Invalid specification ${p(a)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}function jb(a){return`${"width"==a?"Width":"Height"} "container" only works for single views and layered views.`}function Fb(a){return`${"width"==a?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==a?"x":"y"}".`}
function nc(a){return a?`Dropping "fit-${a}" because spec has discrete ${B(a)}.`:'Dropping "fit" because spec has discrete size.'}function dc(a){return`Unknown field for ${a}. Cannot calculate view size.`}function ic(a){return`Cannot project a selection on encoding channel "${a}", which has no field.`}function Uc(a){return`Selection not supported for ${a} yet.`}function cd(a){return`The "columns" property cannot be used when "${a}" has nested row/column.`}function dd(a,b,e){return`An ancestor parsed field "${a}" as ${e} but a child wants to parse the field as ${b}.`}
function Qd(a){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${a} are dropped.`}function Td(a,b){const {fill:e,stroke:h}=b;return`Dropping color ${a} as the plot also has ${e&&h?"fill and stroke":e?"fill":"stroke"}.`}function Ed(a,b){return`Dropping ${p(a)} from channel "${b}" since it does not contain any data field, datum, value, or signal.`}function Zd(a,b,e){return`${a} dropped as it is incompatible with "${b}"${e?` when ${e}`:""}.`}function de(a,
b){return`Using discrete channel "${a}" to encode "${b}" field can be misleading as it does not encode ${"ordinal"===b?"order":"magnitude"}.`}function Ud(a,b,e){return`${e}-scale's "${b}" is dropped as it does not work with ${a} scale.`}function Te(a){return`The step for "${a}" is dropped because the ${"width"===a?"x":"y"} is continuous.`}function Xd(a,b){return`Invalid ${a}: ${p(b)}.`}function M(a){return`1D error band does not support ${a}.`}function ka(a){return`Channel ${a} is required for "binned" bin.`}
function za(){Fk.warn(...arguments)}function fb(){Fk.debug(...arguments)}function Hb(a){if(a&&g.isObject(a))for(const b of mi)if(b in a)return!0;return!1}function Xb(a){aa(a)&&(a=+a);if(g.isNumber(a))return a-1;var b=a.toLowerCase();const e=gl.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Zl.indexOf(b);if(-1!==b)return b;throw Error(Xd("month",a));}function Ac(a){aa(a)&&(a=+a);if(g.isNumber(a))return a%7;var b=a.toLowerCase();const e=mj.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=xi.indexOf(b);
if(-1!==b)return b;throw Error(Xd("day",a));}function lc(a,b){const e=[];b&&void 0!==a.day&&1<je(a).length&&(za(`Dropping day from datetime ${p(a)} as day cannot be combined with other units.`),a=tf(a),delete a.day);void 0!==a.year?e.push(a.year):e.push(2012);if(void 0!==a.month){var h=b?Xb(a.month):a.month;e.push(h)}else if(void 0!==a.quarter){if(b)if(h=a.quarter,aa(h)&&(h=+h),g.isNumber(h))4<h&&za(Xd("quarter",h)),--h;else throw Error(Xd("quarter",h));else h=a.quarter;e.push(g.isNumber(h)?3*h:`${h}*3`)}else e.push(0);
void 0!==a.date?e.push(a.date):void 0!==a.day?(b=b?Ac(a.day):a.day,e.push(g.isNumber(b)?b+1:`${b}+1`)):e.push(1);for(const m of["hours","minutes","seconds","milliseconds"])b=a[m],e.push("undefined"===typeof b?0:b);return e}function Fc(a){const b=lc(a,!0).join(", ");return a.utc?`utc(${b})`:`datetime(${b})`}function hd(a){const b=lc(a,!0);return a.utc?+new Date(Date.UTC(...b)):+new Date(...b)}function Nc(a){return g.isObject(a)?a.binned:a&&a.startsWith("binned")}function rd(a){return mi.filter(b=>
Fd(a,b))}function Gd(a){a=rd(a);return a[a.length-1]}function Fd(a,b){const e=a.indexOf(b);return 0>e||0<e&&"seconds"===b&&"i"===a.charAt(e-1)||a.length>e+3&&"day"===b&&"o"===a.charAt(e+3)||0<e&&"year"===b&&"f"===a.charAt(e-1)?!1:!0}function $d(a,b){var {end:e}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{end:!1};const h=lb(b),m=a.startsWith("utc")?"utc":"";const A={};for(const ia of mi)if(Fd(a,ia)){var O="quarter"===ia?`(${m}quarter(${h})-1)`:`${m}${ia}(${h})`;A[ia]=O;O=ia}e&&(A[O]+="+1");
e=lc(A,!1).join(", ");return A.utc?`utc(${e})`:`datetime(${e})`}function Wd(a){if(a)return a=rd(a),`timeUnitSpecifier(${p(a)}, ${p(Qk)})`}function ae(a){if(a){var b;g.isString(a)?b=a&&a.startsWith("binned")?{unit:a.substring(6),binned:!0}:{unit:a}:g.isObject(a)&&(b=Object.assign({},a,a.unit?{unit:a.unit}:{}));b.unit.startsWith("utc")&&(b.utc=!0,b.unit=b.unit.substring(3));return b}}function Be(a){var b=ae(a);a=Object.assign({},b);b=b.utc;const e=(delete a.utc,a);return e.unit?(b?"utc":"")+je(e).map(h=>
Oa(`${"unit"===h?"":`_${h}_`}${e[h]}`)).join(""):(b?"utc":"")+"timeunit"+je(e).map(h=>Oa(`_${h}_${e[h]}`)).join("")}function ff(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:m=>m;var e=ae(a);const h=Gd(e.unit);if(h&&"day"!==h){const m={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:A,part:O}=df(h,e.step);e=Object.assign({},m,{[O]:+m[O]+A});return`${b(Fc(e))} - ${b(Fc(m))}`}}function df(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;
if(Xl[a])return{part:a,step:b};switch(a){case "day":case "dayofyear":return{part:"date",step:b};case "quarter":return{part:"month",step:3*b};case "week":return{part:"date",step:7*b}}}function af(a){return!(null==a||!a.field)&&void 0!==a.equal}function re(a){return!(null==a||!a.field)&&void 0!==a.lt}function pf(a){return!(null==a||!a.field)&&void 0!==a.lte}function T(a){return!(null==a||!a.field)&&void 0!==a.gt}function ta(a){return!(null==a||!a.field)&&void 0!==a.gte}function db(a){if(null==a?0:a.field)if(g.isArray(a.range)&&
2===a.range.length||Wb(a.range))return!0;return!1}function zb(a){return!(null==a||!a.field)&&(g.isArray(a.oneOf)||g.isArray(a.in))}function ec(a){return zb(a)||af(a)||db(a)||re(a)||T(a)||pf(a)||ta(a)}function Bc(a,b){return jf(a,{timeUnit:b,wrapTime:!0})}function Yb(a,b){return a.map(e=>Bc(e,b))}function I(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:e}=a,h=ae(a.timeUnit);const {unit:m,binned:A}=h||{};h=wd(a,{expr:"datum"});e=m?`time(${A?h:$d(m,e)})`:h;if(af(a))return`${e}===${Bc(a.equal,
m)}`;if(re(a))return`${e}<${Bc(a.lt,m)}`;if(T(a))return`${e}>${Bc(a.gt,m)}`;if(pf(a))return`${e}<=${Bc(a.lte,m)}`;if(ta(a))return`${e}>=${Bc(a.gte,m)}`;if(zb(a))return`indexof([${Yb(a.oneOf,m).join(",")}], ${e}) !== -1`;if(null!=a&&a.field&&void 0!==a.valid)return da(e,a.valid);if(db(a)){var {range:O}=a;h=Wb(O)?{signal:`${O.signal}[0]`}:O[0];O=Wb(O)?{signal:`${O.signal}[1]`}:O[1];if(null!==h&&null!==O&&b)return"inrange("+e+", ["+Bc(h,m)+", "+Bc(O,m)+"])";b=[];null!==h&&b.push(`${e} >= ${Bc(h,m)}`);
null!==O&&b.push(`${e} <= ${Bc(O,m)}`);return 0<b.length?b.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${p(a)}`);}function da(a){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${a}) && isFinite(+${a})`:`!isValid(${a}) || !isFinite(+${a})`}function Sa(a){return ec(a)&&a.timeUnit?Object.assign({},a,{timeUnit:ae(a.timeUnit)}):a}function ac(a){return"quantitative"===a||"temporal"===a}function Pc(a){return"ordinal"===a||"nominal"===a}function Cc(a){if(a)switch(a=
a.toLowerCase(),a){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Sc(a){return Ii.has(a)}function fd(a){return dj.has(a)}function ee(a,b){switch(b){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(a);case "bins":return!["point","band","identity",
"ordinal"].includes(a);case "round":return zg.has(a)||"band"===a||"point"===a;case "padding":case "rangeMin":case "rangeMax":return zg.has(a)||["point","band"].includes(a);case "paddingOuter":case "align":return["point","band"].includes(a);case "paddingInner":return"band"===a;case "domainMax":case "domainMid":case "domainMin":case "domainRaw":case "clamp":return zg.has(a);case "nice":return zg.has(a)||"quantize"===a||"threshold"===a;case "exponent":return"pow"===a;case "base":return"log"===a;case "constant":return"symlog"===
a;case "zero":return fd(a)&&!Ab(["log","time","utc","threshold","quantile"],a)}}function Ra(a,b){switch(b){case "interpolate":case "scheme":case "domainMid":if(!P(a))return`Cannot use the scale property "${b}" with non-color channel.`}}function eb(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!li[a])return!1;switch(a){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return zg.has(b)||"band"===b?!0:"point"===b?!e:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return zg.has(b)||
dh.has(b)||Ab(["band","point","ordinal"],b);case "color":case "fill":case "stroke":return"band"!==b;case "strokeDash":case "shape":return"ordinal"===b||dh.has(b)}}function pc(a){return["line","area","trail"].includes(a)}function vd(a){return["rect","bar","image","arc"].includes(a)}function Jc(a){return a.type}function Vc(a){return a&&void 0!=a.band}function Qc(a){const {channel:b,channelDef:e,markDef:h,scale:m,config:A}=a;a=Bd(a);if(ub(e)&&!Wa(e.aggregate)&&m&&zg.has(m.get("type"))){{let {fieldDef:ia,
channel:xa,markDef:Xa,ref:Eb,config:Vb}={fieldDef:e,channel:b,markDef:h,ref:a,config:A};if(pc(Xa.type))a=Eb;else if(null===zc("invalid",Xa,Vb)){var O=xa;a=sd(ia,!0);O="y"===v(O)?{field:{group:"height"}}:{value:0};a=[Object.assign({},{test:a},O),Eb]}else a=Eb}return a}return a}function sd(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return da(g.isString(a)?a:wd(a,{expr:"datum"}),!b)}function id(a,b,e,h){const m={};b&&(m.scale=b);sc(a)?({datum:a}=a,Hb(a)?m.signal=Fc(a):Wb(a)?m.signal=
a.signal:xc(a)?m.signal=a.expr:m.value=a):m.field=wd(a,e);if(h){const {offset:A,band:O}=h;A&&(m.offset=A);O&&(m.band=O)}return m}function Nd(a){let {scaleName:b,fieldOrDatumDef:e,fieldOrDatumDef2:h,offset:m,startSuffix:A,bandPosition:O=.5}=a;var ia=!Wb(O)&&0<O&&1>O?"datum":void 0;a=wd(e,{expr:ia,suffix:A});const xa=void 0!==h?wd(h,{expr:ia}):wd(e,{suffix:"end",expr:ia});ia={};0===O||1===O?(ia.scale=b,ia.field=0===O?a:xa):(a=Wb(O)?`${O.signal} * ${a} + (1-${O.signal}) * ${xa}`:`${O} * ${a} + ${1-O} * ${xa}`,
ia.signal=`scale("${b}", ${a})`);m&&(ia.offset=m);return ia}function Bd(a){let {channel:b,channelDef:e,channel2Def:h,markDef:m,config:A,scaleName:O,scale:ia,stack:xa,offset:Xa,defaultRef:Eb,bandPosition:Vb}=a;if(e){if(Gc(e)){a=null==ia?void 0:ia.get("type");if($c(e)){null!=Vb||(Vb=ca({fieldDef:e,fieldDef2:h,markDef:m,config:A}));const {bin:Lc,timeUnit:nd,type:Hd}=e;if(W(Lc)||Vb&&nd&&"temporal"===Hd)return(null==xa?0:xa.impute)?id(e,O,{binSuffix:"mid"},{offset:Xa}):Vb&&!Sc(a)?Nd({scaleName:O,fieldOrDatumDef:e,
bandPosition:Vb,offset:Xa}):id(e,O,Gf(e,b)?{binSuffix:"range"}:{},{offset:Xa});if(Ca(Lc)){if(ub(h))return Nd({scaleName:O,fieldOrDatumDef:e,fieldOrDatumDef2:h,bandPosition:Vb,offset:Xa});za(ka("x"===b?"x2":"y2"))}}var Mc;let xd;return id(e,O,Sc(a)?{binSuffix:"range"}:{},{offset:Xa,band:"band"===a?null!=(xd=null!=(Mc=Vb)?Mc:e.bandPosition)?xd:.5:void 0})}if(yd(e))return Mc=Xa?{offset:Xa}:{},Object.assign({},be(b,e.value),Mc)}g.isFunction(Eb)&&(Eb=Eb());return Eb?Object.assign({},Eb,Xa?{offset:Xa}:
{}):Eb}function be(a,b){return Ab(["x","x2"],a)&&"width"===b?{field:{group:"width"}}:Ab(["y","y2"],a)&&"height"===b?{field:{group:"height"}}:Sb(b)}function we(a){return a&&"number"!==a&&"time"!==a}function Ke(a){let {fieldOrDatumDef:b,format:e,formatType:h,expr:m,normalizeStack:A,config:O}=a;if(we(h))return bf({fieldOrDatumDef:b,format:e,formatType:h,expr:m,config:O});a=Xe(b,m,A);var ia=qc(b);if(void 0===e&&void 0===h&&O.customFormatTypes){if("quantitative"===ia){if(A&&O.normalizedNumberFormatType)return bf({fieldOrDatumDef:b,
format:O.normalizedNumberFormat,formatType:O.normalizedNumberFormatType,expr:m,config:O});if(O.numberFormatType)return bf({fieldOrDatumDef:b,format:O.numberFormat,formatType:O.numberFormatType,expr:m,config:O})}if("temporal"===ia&&O.timeFormatType&&ub(b)&&void 0===b.timeUnit)return bf({fieldOrDatumDef:b,format:O.timeFormat,formatType:O.timeFormatType,expr:m,config:O})}if(cf(b)){var xa,Xa;{a={field:a,timeUnit:ub(b)?null==(xa=ae(b.timeUnit))?void 0:xa.unit:void 0,format:e,formatType:O.timeFormatType,
rawTimeFormat:O.timeFormat,isUTCScale:Cd(b)&&(null==(Xa=b.scale)?void 0:Xa.type)===Vh.UTC};let {field:Eb,timeUnit:Vb,format:Mc,formatType:xd,rawTimeFormat:Lc,isUTCScale:nd}=a;!Vb||Mc?!Vb&&xd?xa=`${xd}(${Eb}, '${Mc}')`:(Mc=g.isString(Mc)?Mc:Lc,xa=`${nd?"utc":"time"}Format(${Eb}, '${Mc}')`):(xa=Vb,Xa=Eb,a=nd,xa?(ia=Wd(xa),xa=`${a||xa.startsWith("utc")?"utc":"time"}Format(${Xa}, ${ia})`):xa=void 0)}return xa?{signal:xa}:void 0}e=jd({type:ia,specifiedFormat:e,config:O,normalizeStack:A});return ub(b)&&
W(b.bin)?(xa=wd(b,{expr:m,binSuffix:"end"}),{signal:Id(a,xa,e,h,O)}):e||"quantitative"===qc(b)?{signal:`${`format(${a}, "${e||""}")`}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function Xe(a,b,e){if(ub(a))return e?`${wd(a,{expr:b,suffix:"end"})}-${wd(a,{expr:b,suffix:"start"})}`:wd(a,{expr:b});({datum:a}=a);a=Hb(a)?Fc(a):`${p(a)}`;return a}function bf(a){let {fieldOrDatumDef:b,format:e,formatType:h,expr:m,normalizeStack:A,config:O,field:ia}=a;null!=ia||(ia=Xe(b,m,A));return"datum.value"!==ia&&ub(b)&&
W(b.bin)?(a=wd(b,{expr:m,binSuffix:"end"}),{signal:Id(ia,a,e,h,O)}):{signal:`${h}(${ia}${e?`, ${p(e)}`:""})`}}function md(a,b,e,h,m,A){if(!g.isString(h)||!we(h))if(void 0!==e||void 0!==h||!m.customFormatTypes||"quantitative"!==qc(a)||!(m.normalizedNumberFormatType&&Kd(a)&&"normalize"===a.stack||m.numberFormatType)){if(Kd(a)&&"normalize"===a.stack&&m.normalizedNumberFormat)return jd({type:"quantitative",config:m,normalizeStack:!0});if(cf(a)){let O;a=ub(a)?null==(O=ae(a.timeUnit))?void 0:O.unit:void 0;
if(void 0===a&&m.customFormatTypes&&m.timeFormatType)return;{let {specifiedFormat:ia,timeUnit:xa,config:Xa,omitTimeFormatConfig:Eb}={specifiedFormat:e,timeUnit:a,config:m,omitTimeFormatConfig:A};e=ia?ia:xa?{signal:Wd(xa)}:Eb?void 0:Xa.timeFormat}return e}return jd({type:b,specifiedFormat:e,config:m})}}function Dc(a,b,e){if(a&&(Wb(a)||"number"===a||"time"===a))return a;if(cf(b)&&"time"!==e&&"utc"!==e){let h;return ub(b)&&(null==(h=ae(null==b?void 0:b.timeUnit))?0:h.utc)?"utc":"time"}}function jd(a){let {type:b,
specifiedFormat:e,config:h,normalizeStack:m}=a;if(g.isString(e))return e;if("quantitative"===b)return m?h.normalizedNumberFormat:h.numberFormat}function Ec(a,b,e,h){if(we(e))return`${e}(${a}${b?`, ${p(b)}`:""})`;let m;b=null!=(m=g.isString(b)?b:void 0)?m:h.numberFormat;return`format(${a}, "${b||""}")`}function Id(a,b,e,h,m){if(void 0===e&&void 0===h&&m.customFormatTypes&&m.numberFormatType)return Id(a,b,m.numberFormat,m.numberFormatType,m);const A=Ec(a,e,h,m);b=Ec(b,e,h,m);return`${da(a,!1)} ? "null" : ${A} + "${"  "}" + ${b}`}
function Vd(a){return a&&("count"===a.op||!!a.field)}function ce(a){return a&&g.isArray(a)}function le(a){return"row"in a||"column"in a}function N(a){const {field:b,timeUnit:e,bin:h,aggregate:m}=a;return Object.assign({},e?{timeUnit:e}:{},h?{bin:h}:{},m?{aggregate:m}:{},{field:b})}function ca(a){let {fieldDef:b,fieldDef2:e,markDef:h,config:m}=a;if(Gc(b)&&void 0!==b.bandPosition)return b.bandPosition;if(ub(b)){const {timeUnit:A,bin:O}=b;if(A&&!e)return vd(h.type)?0:Yc("timeUnitBandPosition",h,m);if(W(O))return.5}}
function H(a){let {channel:b,fieldDef:e,fieldDef2:h,markDef:m,config:A,scaleType:O,useVlSizeChannel:ia}=a;a=B(b);a=zc(ia?"size":a,m,A,{vgChannel:a});if(void 0!==a)return a;if(ub(e)){const {timeUnit:xa,bin:Xa}=e;if(xa&&!h)return{band:Yc("timeUnitBandSize",m,A)};if(W(Xa)&&!Sc(O))return{band:1}}if(vd(m.type)){if(O){if(Sc(O)){let Eb;return(null==(Eb=A[m.type])?void 0:Eb.discreteBandSize)||{band:1}}let Xa;return null==(Xa=A[m.type])?void 0:Xa.continuousBandSize}let xa;return null==(xa=A[m.type])?void 0:
xa.discreteBandSize}}function ja(a,b,e,h){return W(a.bin)||a.timeUnit&&$c(a)&&"temporal"===a.type?void 0!==ca({fieldDef:a,fieldDef2:b,markDef:e,config:h}):!1}function sa(a){return a&&"condition"in a}function Ia(a){a=null==a?void 0:a.condition;return!!a&&!g.isArray(a)&&ub(a)}function ib(a){a=null==a?void 0:a.condition;return!!a&&!g.isArray(a)&&Gc(a)}function ub(a){return a&&(!!a.field||"count"===a.aggregate)}function qc(a){return null==a?void 0:a.type}function sc(a){return a&&"datum"in a}function tc(a){return $c(a)&&
!ye(a)||Ad(a)}function Ic(a){return $c(a)&&"quantitative"===a.type&&!a.bin||Ad(a)}function Ad(a){return sc(a)&&g.isNumber(a.datum)}function Gc(a){return ub(a)||sc(a)}function $c(a){return a&&("field"in a||"count"===a.aggregate)&&"type"in a}function yd(a){return a&&"value"in a&&"value"in a}function Cd(a){return a&&("scale"in a||"sort"in a)}function Kd(a){return a&&("axis"in a||"stack"in a||"impute"in a)}function Fe(a){return a&&("format"in a||"formatType"in a)}function Ce(a){return oc(a,["legend",
"axis","header","scale"])}function wd(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=a.field;const h=b.prefix;let m=b.suffix,A="";if("count"===a.aggregate)e=Ha("count");else{let O;if(!b.nofn)if("op"in a)O=a.op;else{const {bin:ia,aggregate:xa,timeUnit:Xa}=a;if(W(ia)){O=ab(ia);let Eb,Vb;m=(null!=(Eb=b.binSuffix)?Eb:"")+(null!=(Vb=b.suffix)?Vb:"")}else if(xa)ua(xa)?(A=`["${e}"]`,e=`argmax_${xa.argmax}`):K(xa)?(A=`["${e}"]`,e=`argmin_${xa.argmin}`):O=String(xa);else if(Xa&&!Nc(Xa)){O=
Be(Xa);let Eb;m=(!["range","mid"].includes(b.binSuffix)&&b.binSuffix||"")+(null!=(Eb=b.suffix)?Eb:"")}}O&&(e=e?`${O}_${e}`:O)}m&&(e=`${e}_${m}`);h&&(e=`${h}_${e}`);return b.forAs?Zb(e):b.expr?Na(e,b.expr)+A:ob(e)+A}function ye(a){switch(a.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return ub(a)&&!!a.bin;case "temporal":return!1}throw Error(`Invalid field type "${a.type}".`);}function Ld(a,b){const {field:e,bin:h,timeUnit:m,aggregate:A}=a;if("count"===A)return b.countTitle;
if(W(h))return`${e} (binned)`;if(m&&!Nc(m)){let O;if(a=null==(O=ae(m))?void 0:O.unit)return`${e} (${rd(a).join("-")})`}else if(A)return ua(A)?`${e} for max ${A.argmax}`:K(A)?`${e} for min ${A.argmin}`:`${kb(A)} of ${e}`;return e}function ge(a,b,e){let {allowDisabling:h,includeDefault:m=!0}=e,A;e=null==(A=Ge(a))?void 0:A.title;if(!ub(a))return null!=e?e:a.title;b=m?Bj(a,b):void 0;if(h)return la(e,a.title,b);let O;return null!=(O=null!=e?e:a.title)?O:b}function Ge(a){if(Kd(a)&&a.axis)return a.axis;
if(a&&"legend"in a&&a.legend)return a.legend;if(a&&"header"in a&&a.header)return a.header}function hf(a){if(Fe(a)){const {format:m,formatType:A}=a;return{format:m,formatType:A}}let b;a=null!=(b=Ge(a))?b:{};const {format:e,formatType:h}=a;return{format:e,formatType:h}}function rf(a,b){switch(b){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in a&&g.isArray(a.sort))return"ordinal";
const {aggregate:e,bin:h,timeUnit:m}=a;if(m)return"temporal";if(h||e&&!ua(e)&&!K(e))return"quantitative";let A;if(Cd(a)&&(null==(A=a.scale)?0:A.type))switch(ak[a.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function Je(a){if(ub(a))return a;if(Ia(a))return a.condition}function ne(a){if(Gc(a))return a;if(ib(a))return a.condition}function Bf(a,b,e){var h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return g.isString(a)||
g.isNumber(a)||g.isBoolean(a)?(h=g.isString(a)?"string":g.isNumber(a)?"number":"boolean",za(`Channel ${b} is a ${h}. Converted to {value: ${p(a)}}.`),{value:a}):Gc(a)?Hf(a,b,e,h):ib(a)?Object.assign({},a,{condition:Hf(a.condition,b,e,h)}):a}function Hf(a,b,e,h){if(Fe(a)){var m=Object.assign({},a),A=a.formatType;m=(delete m.format,delete m.formatType,m);if(we(A)&&!e.customFormatTypes)return za(Qd(b)),Hf(m,b,e,h)}else if((A=Kd(a)?"axis":a&&"legend"in a?"legend":a&&"header"in a?"header":null)&&a[A]){var O=
a[A];m=Object.assign({},O);O=O.formatType;m=(delete m.format,delete m.formatType,m);if(we(O)&&!e.customFormatTypes)return za(Qd(b)),Hf(Object.assign({},a,{[A]:m}),b,e,h)}if(ub(a))return ef(a,b,h);b=a.type;b||({datum:b}=a,b=g.isNumber(b)?"quantitative":g.isString(b)?"nominal":Hb(b)?"temporal":void 0,a=Object.assign({},a,{type:b}));return a}function ef(a,b){var {compositeMark:e=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:h,timeUnit:m,bin:A,field:O}=a,ia=Object.assign({},
a);e||!h||Ja(h)||ua(h)||K(h)||(za(`Invalid aggregation operator "${h}".`),delete ia.aggregate);m&&(ia.timeUnit=ae(m));O&&(ia.field=`${O}`);W(A)&&(ia.bin=Zf(A,b));Ca(A)&&!U(b)&&za(`Channel ${b} should not be used with "binned" bin.`);if($c(ia)){({type:e}=ia);var xa=Cc(e);e!==xa&&(ia.type=xa);"quantitative"!==e&&Wa(h)&&(za(`Invalid field type "${e}" for aggregate: "${h}", using "quantitative" instead.`),ia.type="quantitative")}else f(b)||(e=rf(ia,b),ia.type=e);if($c(ia)){const {compatible:Eb,warning:Vb}=
Yd(ia,b)||{};!1===Eb&&za(Vb)}if("sort"in ia&&g.isString(ia.sort)){({sort:e}=ia);if(e in dk)return Object.assign({},ia,{sort:{encoding:e}});xa=e.substr(1);if("-"===e.charAt(0)&&xa in dk)return Object.assign({},ia,{sort:{encoding:xa,order:"descending"}})}if(ia&&"header"in ia&&({header:e}=ia,e)){var Xa=e;xa=Object.assign({},Xa);Xa=Xa.orient;xa=(delete xa.orient,xa);if(Xa)return Object.assign({},ia,{header:Object.assign({},xa,{labelOrient:e.labelOrient||Xa,titleOrient:e.titleOrient||Xa})})}return ia}
function Zf(a,b){return g.isBoolean(a)?{maxbins:Ib(b)}:"binned"===a?{binned:!0}:a.maxbins||a.step?a:Object.assign({},a,{maxbins:Ib(b)})}function Yd(a,b){var e=a.type;if("geojson"===e&&"shape"!==b)return{compatible:!1,warning:`Channel ${b} should not be used with a geojson data.`};switch(b){case "row":case "column":case "facet":return ye(a)?Bi:{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Bi;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==e?{compatible:!1,warning:`Channel ${b} should be used with a quantitative field only, not ${a.type} field.`}:Bi;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==e||a.sort?Bi:{compatible:!1,warning:`Channel ${b} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(e=!ye(a)){let h;
e=!(Cd(a)&&dh.has(null==(h=a.scale)?void 0:h.type))}return e?{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:Bi;case "order":return"nominal"!==a.type||"sort"in a?Bi:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function cf(a){var {formatType:b}=hf(a),e;if(!(e="time"===b)){if(b=!b)b=a&&("temporal"===a.type||ub(a)&&!!a.timeUnit);e=b}return e}function jf(a,
b){let {timeUnit:e,type:h,wrapTime:m,undefinedIfExprNotRequired:A}=b;var O=(b=e&&(null==(O=ae(e))?void 0:O.unit))||"temporal"===h;let ia;xc(a)?ia=a.expr:Wb(a)?ia=a.signal:Hb(a)?(O=!0,ia=Fc(a)):(g.isString(a)||g.isNumber(a))&&O&&(ia=`datetime(${p(a)})`,tj[b]&&(g.isNumber(a)&&1E4>a||g.isString(a)&&isNaN(Date.parse(a)))&&(ia=Fc({[b]:a})));return ia?m&&O?`time(${ia})`:ia:A?void 0:p(a)}function Ze(a,b){const {type:e}=a;return b.map(h=>{var m=ub(a)&&!Nc(a.timeUnit)?a.timeUnit:void 0;m=jf(h,{timeUnit:m,
type:e,undefinedIfExprNotRequired:!0});return void 0!==m?{signal:m}:h})}function Gf(a,b){return W(a.bin)?!!li[b]&&["ordinal","nominal"].includes(a.type):(console.warn("Only call this method for binned field defs."),!1)}function If(a){return null==a?void 0:a.condition}function xf(a){return"mark"in a}function yf(a,b){return(a=a&&a[b])?g.isArray(a)?gc(a,e=>!!e.field):ub(a)||Ia(a):!1}function Bg(a,b){return(a=a&&a[b])?g.isArray(a)?gc(a,e=>!!e.field):ub(a)||sc(a)||ib(a):!1}function hg(a,b){if(U(b)){const e=
a[b];if((ub(e)||sc(e))&&(Pc(e.type)||ub(e)&&e.timeUnit))return b=D(b),Bg(a,b)}return!1}function vf(a){return gc(Tj,b=>yf(a,b)?(b=a[b],g.isArray(b)?gc(b,e=>!!e.aggregate):(b=Je(b))&&!!b.aggregate):!1)}function Jf(a,b){const e=[],h=[],m=[],A=[],O={};Sg(a,(ia,xa)=>{if(ub(ia)){var Xa=Object.assign({},ia),Eb=ia.field;const Mc=ia.aggregate,xd=ia.bin,Lc=ia.timeUnit;Xa=(delete Xa.field,delete Xa.aggregate,delete Xa.bin,delete Xa.timeUnit,Xa);if(Mc||Lc||xd){var Vb;const nd=null==(Vb=Ge(ia))?void 0:Vb.title;
Vb=wd(ia,{forAs:!0});Xa=Object.assign({},nd?[]:{title:ge(ia,b,{allowDisabling:!0})},Xa,{field:Vb});if(Mc){let Hd;ua(Mc)?(Hd="argmax",Vb=wd({op:"argmax",field:Mc.argmax},{forAs:!0}),Xa.field=`${Vb}.${Eb}`):K(Mc)?(Hd="argmin",Vb=wd({op:"argmin",field:Mc.argmin},{forAs:!0}),Xa.field=`${Vb}.${Eb}`):"boxplot"!==Mc&&"errorbar"!==Mc&&"errorband"!==Mc&&(Hd=Mc);Hd&&(ia={op:Hd,as:Vb},Eb&&(ia.field=Eb),A.push(ia))}else e.push(Vb),$c(ia)&&W(xd)?(h.push({bin:xd,field:Eb,as:Vb}),e.push(wd(ia,{binSuffix:"end"})),
Gf(ia,xa)&&e.push(wd(ia,{binSuffix:"range"})),U(xa)&&(O[`${xa}2`]={field:`${Vb}_end`}),Xa.bin="binned",f(xa)||(Xa.type="quantitative")):Lc&&!Nc(Lc)&&(m.push({timeUnit:Lc,field:Eb,as:Vb}),(Eb=$c(ia)&&"temporal"!==ia.type&&"time")&&("text"===xa||"tooltip"===xa?Xa.formatType=Eb:Wj[xa]?Xa.legend=Object.assign({},{formatType:Eb},Xa.legend):U(xa)&&(Xa.axis=Object.assign({},{formatType:Eb},Xa.axis))));O[xa]=Xa}else e.push(Eb),O[xa]=a[xa]}else O[xa]=a[xa]});return{bins:h,timeUnits:m,aggregate:A,groupby:e,
encoding:O}}function dg(a,b,e){e=X(b)[e];return e&&("binned"!==e||(e=a["x2"===b?"x":"y"],ub(e)&&ub(a[b])&&Ca(e.bin)))?!0:!1}function Xg(a,b,e,h){const m={};for(var A of je(a))Wi[A]||za(`${A}-encoding is dropped as ${A} is not a valid encoding channel.`);for(let ia of Pl)if(a[ia]){A=a[ia];if(ia in Xi){var O=G(ia);const xa=m[O];if(ub(xa)){if(ac(xa.type)&&ub(A)&&!xa.timeUnit){za(`${O}Offset dropped because ${O} is continuous`);continue}}else ia=O,za(`There is no ${O} encoding. Replacing ${O}Offset encoding as ${O}.`)}"angle"!==
ia||"arc"!==b||a.theta||(za("Arc marks uses theta channel rather than angle, replacing angle with theta."),ia="theta");if(dg(a,ia,b)){if("size"===ia&&"line"===b){let xa;if(null==(xa=Je(a[ia]))?0:xa.aggregate){za("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}}if("color"===ia&&(e?"fill"in a:"stroke"in a))za(Td("encoding",{fill:"fill"in a,stroke:"stroke"in a}));else if("detail"===ia||"order"===ia&&!g.isArray(A)&&!yd(A)||"tooltip"===ia&&g.isArray(A)){if(A){if("order"===
ia&&(O=a[ia])&&O.sort&&!O.field){m[ia]=O;continue}m[ia]=g.array(A).reduce((xa,Xa)=>{ub(Xa)?xa.push(ef(Xa,ia)):za(Ed(Xa,ia));return xa},[])}}else{if("tooltip"===ia&&null===A)m[ia]=null;else if(!(ub(A)||sc(A)||yd(A)||sa(A)||Wb(A))){za(Ed(A,ia));continue}m[ia]=Bf(A,ia,h)}}else za(Zd(ia,b))}return m}function Fg(a,b){const e={};for(const h of je(a)){const m=Bf(a[h],h,b,{compositeMark:!0});e[h]=m}return e}function Jg(a){const b=[];for(const e of je(a))if(yf(a,e)){const h=g.array(a[e]);for(const m of h)ub(m)?
b.push(m):Ia(m)&&b.push(m.condition)}return b}function Sg(a,b,e){if(a)for(const h of je(a)){const m=a[h];if(g.isArray(m))for(const A of m)b.call(e,A,h);else b.call(e,m,h)}}function pa(a,b,e,h){return a?je(a).reduce((m,A)=>{const O=a[A];return g.isArray(O)?O.reduce((ia,xa)=>b.call(h,ia,xa,A),m):b.call(h,m,O,A)},e):e}function bb(a,b){return je(b).reduce((e,h)=>{switch(h){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return e;
case "order":if("line"===a||"trail"===a)return e;case "detail":case "key":h=b[h];if(g.isArray(h)||ub(h))for(var m of g.array(h))m.aggregate||e.push(wd(m,{}));return e;case "size":if("trail"===a)return e;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(m=Je(b[h]))&&!m.aggregate&&e.push(wd(m,{})),e}},[])}function Qb(a,b,e){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in e)return{tooltip:e.tooltip};
const m=a.map(O=>{let {fieldPrefix:ia,titlePrefix:xa}=O;O=h?` of ${gd(b)}`:"";return{field:ia+b.field,type:b.type,title:Wb(xa)?{signal:`${xa}"${escape(O)}"`}:xa+O}}),A=Jg(e).map(Ce);return{tooltip:[...m,...qb(A,kc)]}}function gd(a){const {title:b,field:e}=a;return la(b,e)}function ld(a,b,e,h,m){const {scale:A,axis:O}=e;return ia=>{let {partName:xa,mark:Xa,positionPrefix:Eb,endPositionPrefix:Vb,extraEncoding:Mc={}}=ia;ia=gd(e);return pe(a,xa,m,{mark:Xa,encoding:Object.assign({},{[b]:Object.assign({},
{field:`${Eb}_${e.field}`,type:e.type},void 0!==ia?{title:ia}:{},void 0!==A?{scale:A}:{},void 0!==O?{axis:O}:{})},g.isString(Vb)?{[`${b}2`]:{field:`${Vb}_${e.field}`}}:{},h,Mc)})}}function pe(a,b,e,h){const {clip:m,color:A,opacity:O}=a,ia=a.type;return a[b]||void 0===a[b]&&e[b]?[Object.assign({},h,{mark:Object.assign({},e[b],m?{clip:m}:{},A?{color:A}:{},O?{opacity:O}:{},Jc(h.mark)?h.mark:{type:h.mark},{style:`${ia}-${String(b)}`},g.isBoolean(a[b])?{}:a[b])})]:[]}function Oe(a,b,e){({encoding:a}=a);
b="vertical"===b?"y":"x";const h=a[`${b}2`],m=a[`${b}Error`],A=a[`${b}Error2`];return{continuousAxisChannelDef:nf(a[b],e),continuousAxisChannelDef2:nf(h,e),continuousAxisChannelDefError:nf(m,e),continuousAxisChannelDefError2:nf(A,e),continuousAxis:b}}function nf(a,b){if(null==a?0:a.aggregate){var e=Object.assign({},a);a=a.aggregate;e=(delete e.aggregate,e);a!==b&&za(`Continuous axis should not have customized aggregation function ${a}; ${b} already agregates the axis.`);return e}return a}function Ef(a,
b){const {mark:e,encoding:h}=a,{x:m,y:A}=h;if(Jc(e)&&e.orient)return e.orient;if(tc(m)){if(tc(A)){a=ub(m)&&m.aggregate;const O=ub(A)&&A.aggregate;if(!a&&O===b)return"vertical";if(O||a!==b){if(a===b&&O===b)throw Error("Both x and y cannot have aggregate");return cf(A)&&!cf(m)?"horizontal":"vertical"}}return"horizontal"}if(tc(A))return"vertical";throw Error(`Need a valid continuous axis for ${b}s`);}function Me(a){return g.isNumber(a)?"tukey":a}function $f(a,b){var {config:e}=b,h=a=Object.assign({},
a,{encoding:Fg(a.encoding,e)});b=Object.assign({},h);var m=h.mark;h=h.params;b=(delete b.mark,delete b.encoding,delete b.params,delete b.projection,b);m=Jc(m)?m:{type:m};h&&za(Uc("boxplot"));var A;h=null!=(A=m.extent)?A:e.boxplot.extent;var O=zc("size",m,e),ia=m.invalid;A=Me(h);var xa=a;a=Ef(xa,"boxplot");const {continuousAxisChannelDef:Xa,continuousAxis:Eb}=Oe(xa,a,"boxplot");var Vb=Xa.field,Mc=Me(h),xd=[...Mf(Vb),{op:"median",field:Vb,as:`mid_box_${Vb}`},{op:"min",field:Vb,as:("min-max"===Mc?"lower_whisker_":
"min_")+Vb},{op:"max",field:Vb,as:("min-max"===Mc?"upper_whisker_":"max_")+Vb}];Vb="min-max"===Mc||"tukey"===Mc?[]:[{calculate:`datum["upper_box_${Vb}"] - datum["lower_box_${Vb}"]`,as:`iqr_${Vb}`},{calculate:`min(datum["upper_box_${Vb}"] + datum["iqr_${Vb}"] * ${h}, datum["max_${Vb}"])`,as:`upper_whisker_${Vb}`},{calculate:`max(datum["lower_box_${Vb}"] - datum["iqr_${Vb}"] * ${h}, datum["min_${Vb}"])`,as:`lower_whisker_${Vb}`}];xa=Object.assign({},xa.encoding);var Lc;Mc=(delete xa[Eb],xa);xa=Object.assign({},
Mc);Mc=Mc.tooltip;xa=(delete xa.tooltip,xa);if(Mc){var nd;if(g.isArray(Mc)){for(var Hd of Mc)Hd.aggregate?(Lc||(Lc=[]),Lc.push(Hd)):(nd||(nd=[]),nd.push(Hd));Lc&&(xa.tooltip=Lc)}else Mc.aggregate?xa.tooltip=Mc:nd=Mc;g.isArray(nd)&&1===nd.length&&(nd=nd[0]);Lc={customTooltipWithoutAggregatedField:nd,filteredEncoding:xa}}else Lc={filteredEncoding:xa};const {customTooltipWithoutAggregatedField:Od,filteredEncoding:Ye}=Lc,{bins:ze,timeUnits:Ff,aggregate:cg,groupby:yg,encoding:Dh}=Jf(Ye,e);Lc=[...ze,...Ff,
{aggregate:[...cg,...xd],groupby:yg},...Vb];const {bins:Eh,timeUnits:ng,transform:Fh,continuousAxisChannelDef:Qf,continuousAxis:Di,groupby:um,aggregate:Cm,encodingWithoutContinuousAxis:Lk,ticksOrient:vm,boxOrient:Dm,customTooltipWithoutAggregatedField:wm}={bins:ze,timeUnits:Ff,transform:Lc,groupby:yg,aggregate:cg,continuousAxisChannelDef:Xa,continuousAxis:Eb,encodingWithoutContinuousAxis:Dh,ticksOrient:"vertical"===a?"horizontal":"vertical",boxOrient:a,customTooltipWithoutAggregatedField:Od};nd=Object.assign({},
Lk);Lc=Lk.color;xd=Lk.size;nd=(delete nd.color,delete nd.size,nd);Hd=ld(m,Di,Qf,nd,e.boxplot);a=ld(m,Di,Qf,Lk,e.boxplot);xd=ld(m,Di,Qf,Object.assign({},nd,xd?{size:xd}:{}),e.boxplot);Vb=Qb([{fieldPrefix:"min-max"===A?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===A?"lower_whisker_":"min_",titlePrefix:"Min"}],Qf,Lk);xa={type:"tick",color:"black",
opacity:1,orient:vm,invalid:ia,aria:!1};Mc="min-max"===A?Vb:Qb([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Qf,Lk);Hd=[...Hd({partName:"rule",mark:{type:"rule",invalid:ia,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Mc}),...Hd({partName:"rule",mark:{type:"rule",invalid:ia,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:Mc}),...Hd({partName:"ticks",mark:xa,
positionPrefix:"lower_whisker",extraEncoding:Mc}),...Hd({partName:"ticks",mark:xa,positionPrefix:"upper_whisker",extraEncoding:Mc})];O=[...("tukey"!==A?Hd:[]),...a({partName:"box",mark:Object.assign({},{type:"bar"},O?{size:O}:{},{orient:Dm,invalid:ia,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Vb}),...xd({partName:"median",mark:Object.assign({},{type:"tick",invalid:ia},g.isObject(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:
{},O?{size:O}:{},{orient:vm,aria:!1}),positionPrefix:"mid_box",extraEncoding:Vb})];if("min-max"===A){var Lj;return Object.assign({},b,{transform:(null!=(Lj=b.transform)?Lj:[]).concat(Fh),layer:O})}Lj=`datum["lower_box_${Qf.field}"]`;A=`datum["upper_box_${Qf.field}"]`;ia=`(${A} - ${Lj})`;Lj=`${Lj} - ${h} * ${ia}`;ia=`${A} + ${h} * ${ia}`;a=`datum["${Qf.field}"]`;h={joinaggregate:Mf(Qf.field),groupby:um};A={transform:[{filter:`(${Lj} <= ${a}) && (${a} <= ${ia})`},{aggregate:[{op:"min",field:Qf.field,
as:`lower_whisker_${Qf.field}`},{op:"max",field:Qf.field,as:`upper_whisker_${Qf.field}`},{op:"min",field:`lower_box_${Qf.field}`,as:`lower_box_${Qf.field}`},{op:"max",field:`upper_box_${Qf.field}`,as:`upper_box_${Qf.field}`},...Cm],groupby:um}],layer:Hd};nd=Object.assign({},nd);nd=(delete nd.tooltip,nd);const {scale:xm,axis:Em}=Qf;Hd=gd(Qf);xd=oc(Em,["title"]);e=pe(m,"outliers",e.boxplot,{transform:[{filter:`(${a} < ${Lj}) || (${a} > ${ia})`}],mark:"point",encoding:Object.assign({},{[Di]:Object.assign({},
{field:Qf.field,type:Qf.type},void 0!==Hd?{title:Hd}:{},void 0!==xm?{scale:xm}:{},Ua(xd)?{}:{axis:xd})},nd,Lc?{color:Lc}:{},wm?{tooltip:wm}:{})})[0];m=[...Eh,...ng,h];e?e={transform:m,layer:[e,A]}:(e=A,e.transform.unshift(...m));return Object.assign({},b,{layer:[e,{transform:Fh,layer:O}]})}function Mf(a){return[{op:"q1",field:a,as:`lower_box_${a}`},{op:"q3",field:a,as:`upper_box_${a}`}]}function Tf(a,b){({config:b}=b);a=Object.assign({},a,{encoding:Fg(a.encoding,b)});const {transform:e,continuousAxisChannelDef:h,
continuousAxis:m,encodingWithoutContinuousAxis:A,ticksOrient:O,markDef:ia,outerSpec:xa,tooltipEncoding:Xa}=qg(a,"errorbar",b);delete A.size;a=ld(ia,m,h,A,b.errorbar);b=ia.thickness;var Eb=ia.size;Eb=Object.assign({},{type:"tick",orient:O,aria:!1},void 0!==b?{thickness:b}:{},void 0!==Eb?{size:Eb}:{});a=[...a({partName:"ticks",mark:Eb,positionPrefix:"lower",extraEncoding:Xa}),...a({partName:"ticks",mark:Eb,positionPrefix:"upper",extraEncoding:Xa}),...a({partName:"rule",mark:Object.assign({},{type:"rule",
ariaRoleDescription:"errorbar"},void 0!==b?{size:b}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Xa})];return Object.assign({},xa,{transform:e},1<a.length?{layer:a}:Object.assign({},a[0]))}function pg(a,b){var {encoding:e}=a;if(!(!Gc(e.x)&&!Gc(e.y)||Gc(e.x2)||Gc(e.y2)||Gc(e.xError)||Gc(e.xError2)||Gc(e.yError)||Gc(e.yError2)))return{orient:Ef(a,b),inputType:"raw"};var h=Gc(e.x2)||Gc(e.y2);var m=Gc(e.xError)||Gc(e.xError2)||Gc(e.yError)||Gc(e.yError2);a=e.x;const A=e.y;if(h){if(m)throw Error(`${b} cannot be both type aggregated-upper-lower and aggregated-error`);
h=e.x2;e=e.y2;if(Gc(h)&&Gc(e))throw Error(`${b} cannot have both x2 and y2`);if(Gc(h)){if(tc(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error(`Both x and x2 have to be quantitative in ${b}`);}if(Gc(e)){if(tc(A))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${b}`);}}else{h=e.xError;m=e.yError;const O=e.yError2;if(Gc(e.xError2)&&!Gc(h))throw Error(`${b} cannot have xError2 without xError`);if(Gc(O)&&!Gc(m))throw Error(`${b} cannot have yError2 without yError`);
if(Gc(h)&&Gc(m))throw Error(`${b} cannot have both xError and yError with both are quantiative`);if(Gc(h)){if(tc(a))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(Gc(m)){if(tc(A))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function qg(a,b,e){var h=Object.assign({},a),m=a.mark,A=a.encoding,
O=a.params;h=(delete h.mark,delete h.encoding,delete h.params,delete h.projection,h);m=Jc(m)?m:{type:m};O&&za(Uc(b));const {orient:ia,inputType:xa}=pg(a,b),{continuousAxisChannelDef:Xa,continuousAxisChannelDef2:Eb,continuousAxisChannelDefError:Vb,continuousAxisChannelDefError2:Mc,continuousAxis:xd}=Oe(a,ia,b);a=[];O=[];var Lc=Xa.field,nd=!1;if("raw"===xa){var Hd=m.center?m.center:m.extent?"iqr"===m.extent?"median":"mean":e.errorbar.center;var Od=m.extent?m.extent:"mean"===Hd?"stderr":"iqr";"median"===
Hd!==("iqr"===Od)&&za(`${Hd} is not usually used with ${Od} for ${b}.`);"stderr"===Od||"stdev"===Od?(a=[{op:Od,field:Lc,as:`extent_${Lc}`},{op:Hd,field:Lc,as:`center_${Lc}`}],O=[{calculate:`datum["center_${Lc}"] + datum["extent_${Lc}"]`,as:`upper_${Lc}`},{calculate:`datum["center_${Lc}"] - datum["extent_${Lc}"]`,as:`lower_${Lc}`}],Lc={fieldPrefix:"center_",titlePrefix:kb(Hd)},nd=Od,nd={fieldPrefix:"upper_",titlePrefix:`${kb(Hd)} ${"+"} ${nd}`},b=Od,b=`${kb(Hd)} ${"-"} ${b}`,Hd=[Lc,nd,{fieldPrefix:"lower_",
titlePrefix:b}],nd=!0):("ci"===Od?(b="mean",Hd="ci0",Od="ci1"):(b="median",Hd="q1",Od="q3"),a=[{op:Hd,field:Lc,as:`lower_${Lc}`},{op:Od,field:Lc,as:`upper_${Lc}`},{op:b,field:Lc,as:`center_${Lc}`}],Hd=[{fieldPrefix:"upper_",titlePrefix:ge({field:Lc,aggregate:Od,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:ge({field:Lc,aggregate:Hd,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:ge({field:Lc,aggregate:b,type:"quantitative"},e,{allowDisabling:!1})}])}else{if(m.center||
m.extent){b=m.center;var Ye=m.extent;za(`${Ye?"extent ":""}${Ye&&b?"and ":""}${b?"center ":""}${Ye&&b?"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===xa?(Hd=[],O=[{calculate:`datum["${Eb.field}"]`,as:`upper_${Lc}`},{calculate:`datum["${Lc}"]`,as:`lower_${Lc}`}]):"aggregated-error"===xa&&(Hd=[{fieldPrefix:"",titlePrefix:Lc}],O=[{calculate:`datum["${Lc}"] + datum["${Vb.field}"]`,as:`upper_${Lc}`}],Mc?O.push({calculate:`datum["${Lc}"] + datum["${Mc.field}"]`,as:`lower_${Lc}`}):
O.push({calculate:`datum["${Lc}"] - datum["${Vb.field}"]`,as:`lower_${Lc}`}));for(Od of O)Hd.push({fieldPrefix:Od.as.substring(0,6),titlePrefix:Nb(Nb(Od.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:ze,postAggregateCalculates:Ff,tooltipSummary:cg,tooltipTitleWithFieldName:yg}={postAggregateCalculates:O,errorBarSpecificAggregate:a,tooltipSummary:Hd,tooltipTitleWithFieldName:nd};A=Object.assign({},A);a="x"===xd?"x2":"y2";O="x"===xd?"xError":"yError";Lc="x"===xd?"xError2":"yError2";
A=(delete A[xd],delete A[a],delete A[O],delete A[Lc],A);const {bins:Dh,timeUnits:Eh,aggregate:ng,groupby:Fh,encoding:Qf}=Jf(A,e);e=[...ng,...ze];A="raw"!==xa?[]:Fh;a=Qb(cg,Xa,Qf,yg);let Di;return{transform:[...(null!=(Di=h.transform)?Di:[]),...Dh,...Eh,...(0===e.length?[]:[{aggregate:e,groupby:A}]),...Ff],groupby:A,continuousAxisChannelDef:Xa,continuousAxis:xd,encodingWithoutContinuousAxis:Qf,ticksOrient:"vertical"===ia?"horizontal":"vertical",markDef:m,outerSpec:h,tooltipEncoding:a}}function Og(a,
b){({config:b}=b);a=Object.assign({},a,{encoding:Fg(a.encoding,b)});const {transform:e,continuousAxisChannelDef:h,continuousAxis:m,encodingWithoutContinuousAxis:A,markDef:O,outerSpec:ia,tooltipEncoding:xa}=qg(a,"errorband",b);b=ld(O,m,h,A,b.errorband);a=void 0!==a.encoding.x&&void 0!==a.encoding.y;let Xa={type:a?"area":"rect"},Eb={type:a?"line":"rule"};const Vb=Object.assign({},O.interpolate?{interpolate:O.interpolate}:{},O.tension&&O.interpolate?{tension:O.tension}:{});a?(Xa=Object.assign({},Xa,
Vb,{ariaRoleDescription:"errorband"}),Eb=Object.assign({},Eb,Vb,{aria:!1})):O.interpolate?za(M("interpolate")):O.tension&&za(M("tension"));return Object.assign({},ia,{transform:e,layer:[...b({partName:"band",mark:Xa,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:xa}),...b({partName:"borders",mark:Eb,positionPrefix:"lower",extraEncoding:xa}),...b({partName:"borders",mark:Eb,positionPrefix:"upper",extraEncoding:xa})]})}function Yg(a,b,e){b=new zj(a,b);hh[a]={normalizer:b,parts:e}}function gh(a){return"legend"===
a||!(null==a||!a.legend)}function De(a){return gh(a)&&g.isObject(a)}function Ie(a){return!(null==a||!a.select)}function Kf(a){const b=[];for(const m of a||[])if(!Ie(m)){var e=m,h=Object.assign({},e);a=e.expr;e=e.bind;h=(delete h.expr,delete h.bind,h);e&&a?(a=Object.assign({},h,{bind:e,init:a}),b.push(a)):(a=Object.assign({},h,a?{update:a}:{},e?{bind:e}:{}),b.push(a))}return b}function wf(a){let {step:b,offsetIsDiscrete:e}=a;if(e){let h;return null!=(h=b.for)?h:"offset"}return"position"}function lf(a){return g.isObject(a)&&
void 0!==a.step}function zf(a){return a.view||a.width||a.height}function rg(a,b,e){const h={},{spacing:m,columns:A}=e[b];void 0!==m&&(h.spacing=m);void 0!==A&&("facet"in a&&!le(a.facet)||"concat"in a)&&(h.columns=A);"vconcat"in a&&(h.columns=1);for(const O of Sl)if(void 0!==a[O])if("spacing"===O){b=a[O];let ia,xa;h[O]=g.isNumber(b)?b:{row:null!=(ia=b.row)?ia:m,column:null!=(xa=b.column)?xa:m}}else h[O]=a[O];return h}function vg(a,b){let e;return null!=(e=a[b])?e:a["width"===b?"continuousWidth":"continuousHeight"]}
function ig(a,b){a=Af(a,b);return lf(a)?a.step:20}function Af(a,b){let e;const h=null!=(e=a[b])?e:a["width"===b?"discreteWidth":"discreteHeight"];return la(h,{step:a.step})}function Pg(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:g.isObject(a)?Object.assign({},Bk,a):Bk}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},
"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function $g(a){var b=
je(a||{});const e={};for(const h of b)b=a[h],e[h]=If(b)?Ka(b):Ub(b);return e}function jh(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=Object.assign({},a),e=a.color,h=a.font,m=a.fontSize;a=a.selection;b=(delete b.color,delete b.font,delete b.fontSize,delete b.selection,b);var A=g.mergeConfig,O=tf(Tl);h=h?{text:{font:h},style:{"guide-label":{font:h},"guide-title":{font:h},"group-title":{font:h},"group-subtitle":{font:h}}}:{};e=e?Pg(e):{};m=m?{signals:[{name:"fontSize",value:g.isObject(m)?
Object.assign({},Oh,m):Oh}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};m=A.call(g,{},O,h,e,m,b||{});a&&g.writeConfig(m,"selection",a,!0);a=oc(m,Vl);for(var ia of["background","lineBreak","padding"])m[ia]&&(a[ia]=Ub(m[ia]));for(var xa of Ki)m[xa]&&(a[xa]=uc(m[xa]));
for(var Xa of fk)m[Xa]&&(a[Xa]=$g(m[Xa]));for(const Eb of vl)m[Eb]&&(a[Eb]=uc(m[Eb]));m.legend&&(a.legend=uc(m.legend));m.scale&&(a.scale=uc(m.scale));if(m.style){ia=m.style;xa=je(ia);Xa={};for(const Eb of xa)Xa[Eb]=$g(ia[Eb]);a.style=Xa}m.title&&(a.title=uc(m.title));m.view&&(a.view=uc(m.view));return a}function wg(a){a=tf(a);for(var b of Ul)delete a[b];if(a.axis)for(var e in a.axis)If(a.axis[e])&&delete a.axis[e];if(a.legend)for(var h of Ak)delete a.legend[h];if(a.mark){for(var m of Zi)delete a.mark[m];
a.mark.tooltip&&g.isObject(a.mark.tooltip)&&delete a.mark.tooltip}a.params&&(a.signals=(a.signals||[]).concat(Kf(a.params)),delete a.params);for(var A of xl){for(const Vb of Zi)delete a[A][Vb];if(b=Wl[A])for(const Vb of b)delete a[A][Vb];let Eb=m=void 0;b=a;e=A;h=void 0;var O=b[e];"view"===e&&(h="cell");O=Object.assign({},O,b.style[null!=(Eb=h)?Eb:e]);Ua(O)||(b.style[null!=(m=h)?m:e]=O);delete b[e]}for(const Eb of je(hh))delete a[Eb];A=a;const {titleMarkConfig:ia,subtitleMarkConfig:xa,subtitle:Xa}=
wc(A.title);Ua(ia)||(A.style["group-title"]=Object.assign({},A.style["group-title"],ia));Ua(xa)||(A.style["group-subtitle"]=Object.assign({},A.style["group-subtitle"],xa));Ua(Xa)?delete A.title:A.title=Xa;for(const Eb in a)g.isObject(a[Eb])&&Ua(a[Eb])&&delete a[Eb];return Ua(a)?void 0:a}function qh(a){return ub(a)&&"quantitative"===qc(a)&&!a.bin}function ph(a,b,e){let {orient:h,type:m}=e;e="x"===b?"y":"radius";const A="x"===b;var O=a[b];a=a[e];if(ub(O)&&ub(a))if(qh(O)&&qh(a)){if(O.stack)return b;
if(a.stack)return e;O=ub(O)&&!!O.aggregate;a=ub(a)&&!!a.aggregate;if(O!==a)return O?b:e;if(A&&["bar","area"].includes(m)){if("vertical"===h)return e;if("horizontal"===h)return b}}else{if(qh(O))return b;if(qh(a))return e}else{if(qh(O))return b;if(qh(a))return e}}function Ih(a){switch(a){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Vg(a,b){var e=Jc(a)?a:{type:a};a=e.type;if(!Yl.has(a))return null;e=ph(b,"x",e)||ph(b,"theta",e);if(!e)return null;
const h=b[e];var m=ub(h)?wd(h,{}):void 0,A=Ih(e);const O=[],ia=new Set;if(b[A]){var xa=b[A];(xa=ub(xa)?wd(xa,{}):void 0)&&xa!==m&&(O.push(A),ia.add(xa));A="x"===A?"xOffset":"yOffset";xa=b[A];(xa=ub(xa)?wd(xa,{}):void 0)&&xa!==m&&(O.push(A),ia.add(xa))}m=Vj.reduce((Mc,xd)=>{if("tooltip"!==xd&&yf(b,xd)){var Lc=b[xd];for(const nd of g.array(Lc)){Lc=Je(nd);if(Lc.aggregate)continue;const Hd=wd(Lc,{});Hd&&ia.has(Hd)||Mc.push({channel:xd,fieldDef:Lc})}}return Mc},[]);let Xa;void 0!==h.stack?Xa=g.isBoolean(h.stack)?
h.stack?"zero":null:h.stack:Ne.has(a)&&(Xa="zero");if(!(Xa&&Xa in Lh)||vf(b)&&0===m.length)return null;let Eb,Vb;if((null==h?0:null==(Eb=h.scale)?0:Eb.type)&&(null==h?void 0:null==(Vb=h.scale)?void 0:Vb.type)!==Vh.LINEAR)return(null==h?0:h.stack)&&za(`Cannot stack non-linear scale (${h.scale.type}).`),null;if(Gc(b[C(e)]))return void 0!==h.stack&&za(`Cannot stack "${e}" if there is already "${e}2".`),null;ub(h)&&h.aggregate&&!wk.has(h.aggregate)&&za(`Stacking is applied even though the aggregate function is non-summative ("${h.aggregate}").`);
return{groupbyChannels:O,groupbyFields:ia,fieldChannel:e,impute:null===h.impute?!1:pc(a),stackBy:m,offset:Xa}}function rh(a,b,e){a=uc(a);var h=zc("orient",a,e);a.orient=qi(a.type,b,h);void 0!==h&&h!==a.orient&&za(`Specified orient "${a.orient}" overridden with "${h}".`);if("bar"===a.type&&a.orient&&(h=zc("cornerRadiusEnd",a,e),void 0!==h)){const A="horizontal"===a.orient&&b.x2||"vertical"===a.orient&&b.y2?["cornerRadius"]:ul[a.orient];for(var m of A)a[m]=h;void 0!==a.cornerRadiusEnd&&delete a.cornerRadiusEnd}void 0===
zc("opacity",a,e)&&(m=Ab([ci,Eg,Zk,vj],a.type)&&!vf(b)?.7:void 0,a.opacity=m);void 0===zc("cursor",a,e)&&(b=b.href||a.href||zc("href",a,e)?"pointer":a.cursor,a.cursor=b);return a}function yh(a,b,e){({graticule:e}=e);if(e)return!1;b=Yc("filled",a,b);a=a.type;return la(b,a!==ci&&a!==Ai&&a!==Hh)}function qi(a,b,e){switch(a){case ci:case Zk:case vj:case Sh:case Ji:case bi:return}const {x:h,y:m,x2:A,y2:O}=b;switch(a){case Nh:if(ub(h)&&(Ca(h.bin)||ub(m)&&m.aggregate&&!h.aggregate))break;if(ub(m)&&(Ca(m.bin)||
ub(h)&&h.aggregate&&!m.aggregate))return"horizontal";if(O||A){if(e)return e;if(!A){if((ub(h)&&"quantitative"===h.type&&!W(h.bin)||Ad(h))&&ub(m)&&Ca(m.bin))return"horizontal";break}if(!O){if((ub(m)&&"quantitative"===m.type&&!W(m.bin)||Ad(m))&&ub(h)&&Ca(h.bin))break;return"horizontal"}}case Hh:if(!(!A||ub(h)&&Ca(h.bin)||!O||ub(m)&&Ca(m.bin)))return;case ej:if(O){if(ub(m)&&Ca(m.bin))return"horizontal";break}else if(A)if(ub(h)&&Ca(h.bin))break;else return"horizontal";else if(a===Hh)if(h&&!m)break;else if(m&&
!h)return"horizontal";case Ai:case Eg:b=Ic(h);const ia=Ic(m);if(e)return e;if(b&&!ia)return"tick"!==a?"horizontal":"vertical";if(!b&&ia)return"tick"!==a?"vertical":"horizontal";if(!b||!ia)if(a=$c(h)&&"temporal"===h.type,e=$c(m)&&"temporal"===m.type,!a||e){if(!a&&e)return"horizontal";return}}return"vertical"}function Tg(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length?arguments[2]:void 0;if("transparent"===a.point)return{opacity:0};if(a.point)return g.isObject(a.point)?
a.point:{};if(void 0!==a.point)return null;if(b.point||e.shape)return g.isObject(b.point)?b.point:{}}function kh(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(a.line)return!0===a.line?{}:a.line;if(void 0!==a.line)return null;if(b.line)return!0===b.line?{}:b.line}function ri(a,b){return b?Zg(a,b):a}function Cg(a,b,e){const h=b[a];if(h&&!g.isString(h)&&"repeat"in h){if(h.repeat in e)return Object.assign({},b,{[a]:e[h.repeat]});za(`Unknown repeated value "${h.repeat}".`)}else return b}
function zh(a,b){a=Cg("field",a,b);if(void 0!==a){if(null===a)return null;"sort"in a&&Vd(a.sort)&&(b=Cg("field",a.sort,b),a=Object.assign({},a,b?{sort:b}:{}));return a}}function Th(a,b){if(ub(a))return zh(a,b);b=Cg("datum",a,b);b===a||b.type||(b.type="nominal");return b}function Qg(a,b){if(Gc(a)){if(b=Th(a,b))return b;if(sa(a))return{condition:a.condition}}else{if(ib(a)){if(b=Th(a.condition,b))return Object.assign({},a,{condition:b});a=Object.assign({},a);return delete a.condition,a}return a}}function Zg(a,
b){const e={};for(const m in a)if(g.hasOwnProperty(a,m)){var h=a[m];g.isArray(h)?e[m]=h.map(A=>Qg(A,b)).filter(A=>A):(h=Qg(h,b),void 0!==h&&(e[m]=h))}return e}function lh(a){let {parentEncoding:b,encoding:e={},layer:h}=a;a={};if(b){var m=new Set([...je(b),...je(e)]);for(const A of m){m=e[A];const O=b[A];if(Gc(m))m=Object.assign({},O,m),a[A]=m;else if(ib(m))a[A]=Object.assign({},m,{condition:Object.assign({},O,m.condition)});else if(m||null===m)a[A]=m;else if(h||yd(O)||Wb(O)||Gc(O)||g.isArray(O))a[A]=
O}}else a=e;return!a||Ua(a)?void 0:a}function sh(a){const {parentProjection:b,projection:e}=a;if(b&&e){const {parentProjection:h,projection:m}={parentProjection:b,projection:e};a=`Layer's shared projection ${p(h)} is overridden by a child projection ${p(m)}.`;za(a)}return null!=e?e:b}function Gg(a){return a.map(b=>"filter"in b?{filter:hb(b.filter,Sa)}:b)}function Jh(a,b){var e=Object.assign({},a);const h=a.transform;e=(delete e.transform,e);return h?(a=h.map(m=>{if("filter"in m)return{filter:Ph(m,
b)};if("bin"in m&&g.isObject(m.bin))return Object.assign({},m,{bin:uh(m.bin)});if("lookup"in m){var A=m.from,O=Object.assign({},A);A=A.selection;O=(delete O.selection,O);return A?Object.assign({},m,{from:Object.assign({},{param:A},O)}):m}return m}),Object.assign({},e,{transform:a})):a}function th(a,b){a=tf(a);ub(a)&&g.isObject(a.bin)&&(a.bin=uh(a.bin));var e,h;Cd(a)&&(null==(e=a.scale)?0:null==(h=e.domain)?0:h.selection)&&(h=a.scale.domain,e=Object.assign({},h),h=h.selection,e=(delete e.selection,
e),a.scale.domain=Object.assign({},e,h?{param:h}:{}));sa(a)&&(g.isArray(a.condition)?a.condition=a.condition.map(m=>{var A=Object.assign({},m);const O=m.param;A=(delete A.selection,delete A.param,delete A.test,A);return O?m:Object.assign({},A,{test:Ph(m,b)})}):(h=th(a.condition,b),e=Object.assign({},h),h=h.param,e=(delete e.selection,delete e.param,delete e.test,e),a.condition=h?a.condition:Object.assign({},e,{test:Ph(a.condition,b)})));return a}function uh(a){var b=a.extent;if(null==b?0:b.selection){var e=
Object.assign({},b);b=b.selection;e=(delete e.selection,e);return Object.assign({},a,{extent:Object.assign({},e,{param:b})})}return a}function Ph(a,b){const e=h=>hb(h,m=>{var A;const O=null!=(A=b.emptySelections[m])?A:!0;A={param:m,empty:O};let ia;null!=(ia=b.selectionPredicates)[m]||(ia[m]=[]);b.selectionPredicates[m].push(A);return A});return a.selection?e(a.selection):hb(a.test||a.filter,h=>h.selection?e(h.selection):h)}function Uh(a,b){void 0===b&&(b=jh(a.config));const e=mh(a,b),{width:h,height:m}=
a;{let {width:A,height:O}={width:h,height:m,autosize:a.autosize};a=xf(e)||"layer"in e;const ia={};a?"container"==A&&"container"==O?(ia.type="fit",ia.contains="padding"):"container"==A?(ia.type="fit-x",ia.contains="padding"):"container"==O&&(ia.type="fit-y",ia.contains="padding"):("container"==A&&(za(jb("width")),A=void 0),"container"==O&&(za(jb("height")),O=void 0));b=Object.assign({},{type:"pad"},ia,b?Ah(b.autosize):{},Ah(e.autosize));"fit"!==b.type||a||(za('Autosize "fit" only works for single views and layered views.'),
b.type="pad");"container"==A&&"fit"!=b.type&&"fit-x"!=b.type&&za(Fb("width"));"container"==O&&"fit"!=b.type&&"fit-y"!=b.type&&za(Fb("height"));b=ma(b,{type:"pad"})?void 0:b}return Object.assign({},e,b?{autosize:b}:{})}function mh(a){const b={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return Yf.map(bl.map(hi.map(a,b),b),b)}function Ah(a){return g.isString(a)?{type:a}:null!=a?a:{}}function Vf(a,b){const e={};for(const h of oh)a&&void 0!==a[h]&&(e[h]=Ub(a[h]));b&&(e.params=a.params);
return e}function Hg(a){return{explicit:!0,value:a}}function Wf(a){return{explicit:!1,value:a}}function Df(a){return(b,e,h,m)=>{const A=a(b.value,e.value);return 0<A?b:0>A?e:Kh(b,e,h,m)}}function Kh(a,b,e,h){if(a.explicit&&b.explicit){var m=a.value;b=b.value;e=`Conflicting ${h.toString()} property "${e.toString()}" (${p(m)} and ${p(b)}). Using ${p(m)}.`;za(e)}return a}function eg(a,b,e,h){let m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Kh;return void 0===a||void 0===a.value?b:a.explicit&&
!b.explicit?a:b.explicit&&!a.explicit?b:ma(a.value,b.value)?a:m(a,b,e,h)}function Xf(a){return"name"in a&&!("url"in a)&&!("values"in a)&&!R(a)}function R(a){return a&&("sequence"in a||"sphere"in a||"graticule"in a)}function va(a){a=Object.assign({},a);a=(delete a.signals,delete a.hasLegend,delete a.index,a);a.field=ob(a.field);return a}function Qa(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:g.identity;if(g.isArray(a)){const h=
a.map(m=>Qa(m,b,e));return b?`[${h.join(", ")}]`:h}return Hb(a)?b?e(Fc(a)):e(hd(a)):b?e(p(a)):a}function q(a,b){a.component.selection&&je(a.component.selection).length&&(a=g.stringValue(a.getName("cell")),b.unshift({name:"facet",value:{},on:[{events:g.parseSelector("mousemove","scope"),update:`isTuple(facet) ? facet : group(${a}).datum`}]}));return E(b)}function Q(a,b){var e=!1,h;for(const m of xh(null!=(h=a.component.selection)?h:{})){const A=m.name;e=g.stringValue(A+"_store");0===b.filter(O=>O.name===
A).length&&(h="point"===m.type?", true, true)":")",b.push({name:m.name,update:`${"vlSelectionResolve"}(${e}, ${g.stringValue("global"===m.resolve?"union":m.resolve)}${h}`}));e=!0;for(const O of Aj)O.defined(m)&&O.topLevelSignals&&(b=O.topLevelSignals(a,m,b))}e&&0===b.filter(m=>"unit"===m.name).length&&b.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return E(b)}function ha(a,b){b=[...b];const e=Kg(a,{escape:!1});let h;for(const m of xh(null!=(h=
a.component.selection)?h:{})){a={name:m.name+"_store"};m.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(m.init){const A=m.project.items.map(va);a.values=m.project.hasSelectionId?m.init.map(O=>({unit:e,_vgsid_:Qa(O,!1)[0]})):m.init.map(O=>({unit:e,fields:A,values:Qa(O,!1)}))}b.filter(A=>A.name===m.name+"_store").length||b.push(a)}return b}function wa(a,b){let e;for(const h of xh(null!=(e=a.component.selection)?e:{}))for(const m of Aj)m.defined(h)&&m.marks&&(b=m.marks(a,
h,b));return b}function t(a,b){for(const e of a.children)Ig(e)&&(b=wa(e,b));return b}function E(a){return a.map(b=>{b.on&&!b.on.length&&delete b.on;return b})}function fa(a,b){return`domain(${g.stringValue(a.scaleName(b))})`}function k(a){let b;return a.parent&&Vi(a.parent)&&(null!=(b=!a.parent.parent)?b:k(a.parent.parent))}function y(a,b,e,h){var m=!a.hasProjection,A=e.channel;const O=e.signals.visual,ia=g.stringValue(m?a.scaleName(A):a.projectionName());var xa=Mc=>`scale(${ia}, ${Mc})`;const Xa=
a.getSizeSignalRef("x"===A?"width":"height").signal,Eb=`${A}(unit)`,Vb=b.events.reduce((Mc,xd)=>[...Mc,{events:xd.between[0],update:`[${Eb}, ${Eb}]`},{events:xd,update:`[${O}[0], clamp(${Eb}, 0, ${Xa})]`}],[]);if(m)return e=e.signals.data,m=fi.defined(b),a=(a=a.getScaleComponent(A))?a.get("type"):void 0,A=h?{init:Qa(h,!0,xa)}:{value:[]},Vb.push({events:{signal:b.name+"_scale_trigger"},update:fd(a)?`[${xa(`${e}[0]`)}, ${xa(`${e}[1]`)}]`:"[0, 0]"}),m?[{name:e,on:[]}]:[Object.assign({},{name:O},A,{on:Vb}),
Object.assign({},{name:e},h?{init:Qa(h)}:{},{on:[{events:{signal:O},update:`${O}[0] === ${O}[1] ? null : invert(${ia}, ${O})`}]})];xa="x"===A?0:1;b=b.name+"_init";return[Object.assign({},{name:O},h?{init:`[${b}[0][${xa}], ${b}[1][${xa}]]`}:{value:[]},{on:Vb})]}function ba(a,b,e,h){var m=sa(b)&&b.condition;b=h(b);return m?(m=g.array(m).map(A=>{const O=h(A);if(A.param){const {param:ia,empty:xa}=A;A=Li(a,{param:ia,empty:xa});return Object.assign({},{test:A},O)}A=Pi(a,A.test);return Object.assign({},
{test:A},O)}),{[e]:[...m,...(void 0!==b?[b]:[])]}):void 0!==b?{[e]:b}:{}}function oa(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return ba(a,a.encoding[b],b,e=>Ta(e,a.config))}function Ta(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(a){if(yd(a))return Sb(a.value);if(Gc(a)){const {format:h,formatType:m}=hf(a);return Ke({fieldOrDatumDef:a,format:h,formatType:m,expr:e,config:b})}}}function Ya(a){let b=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:{};const {encoding:e,markDef:h,config:m,stack:A}=a,O=e.tooltip;if(g.isArray(O))return{tooltip:hc({tooltip:O},A,m,b)};const ia=b.reactiveGeom?"datum.datum":"datum";return ba(a,O,"tooltip",xa=>{const Xa=Ta(xa,m,ia);if(Xa)return Xa;if(null!==xa){xa=zc("tooltip",h,m);!0===xa&&(xa={content:"encoding"});if(g.isString(xa))return{value:xa};if(g.isObject(xa))return Wb(xa)?xa:"encoding"===xa.content?hc(e,A,m,b):{signal:ia}}})}function Jb(a,b,e){function h(Xa,Eb){var Vb=v(Eb);Xa=$c(Xa)?Xa:Object.assign({},
Xa,{type:a[Vb].type});Vb=Xa.title||Bj(Xa,A);Vb=g.array(Vb).join(", ").replaceAll(/"/g,'\\"');if(U(Eb)){const Lc="x"===Eb?"x2":"y2";var Mc=Je(a[Lc]);if(Ca(Xa.bin)&&Mc){var xd=wd(Xa,{expr:ia});Mc=wd(Mc,{expr:ia});const {format:nd,formatType:Hd}=hf(Xa);xd=Id(xd,Mc,nd,Hd,A);O[Lc]=!0}}if((U(Eb)||"theta"===Eb||"radius"===Eb)&&b&&b.fieldChannel===Eb&&"normalize"===b.offset){const {format:Lc,formatType:nd}=hf(Xa);xd=Ke({fieldOrDatumDef:Xa,format:Lc,formatType:nd,expr:ia,config:A,normalizeStack:!0}).signal}null!=
xd||(xd=Ta(Xa,A,ia).signal);xa.push({channel:Eb,key:Vb,value:xd})}var {reactiveGeom:m}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const A=Object.assign({},e,e.tooltipFormat),O={},ia=m?"datum.datum":"datum",xa=[];Sg(a,(Xa,Eb)=>{ub(Xa)?h(Xa,Eb):Ia(Xa)&&h(Xa.condition,Eb)});m={};for(const Xa of xa){const {channel:Eb,key:Vb,value:Mc}=Xa;O[Eb]||m[Vb]||(m[Vb]=Mc)}return m}function hc(a,b,e){var {reactiveGeom:h}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};h=Jb(a,b,e,{reactiveGeom:h});
h=Ui(h).map(m=>{let [A,O]=m;return`"${A}": ${O}`});return 0<h.length?{signal:`{${h.join(", ")}}`}:void 0}function Tb(a){const {encoding:b,markDef:e,config:h,stack:m}=a;var A=b.description;if(A)return ba(a,A,"description",O=>Ta(O,a.config));A=zc("description",e,h);if(null!=A)return{description:Sb(A)};if(!1===h.aria)return{};A=Jb(b,m,h);if(!Ua(A))return{description:{signal:Ui(A).map((O,ia)=>{let [xa,Xa]=O;return`"${0<ia?"; ":""}${xa}: " + (${Xa})`}).join(" + ")}}}function pd(a,b){let e=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:{};const {markDef:h,encoding:m,config:A}=b,{vgChannel:O}=e;let {defaultRef:ia,defaultValue:xa}=e;void 0===ia&&(null!=xa||(xa=zc(a,h,A,{vgChannel:O,ignoreVgConfig:!0})),void 0!==xa&&(ia=Sb(xa)));return ba(b,m[a],null!=O?O:a,Xa=>Bd({channel:a,channelDef:Xa,markDef:h,config:A,scaleName:b.scaleName(a),scale:b.getScaleComponent(a),stack:null,defaultRef:ia}))}function Zc(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{filled:void 0};const {markDef:e,encoding:h,
config:m}=a;var {type:A}=e,O;b=null!=(O=b.filled)?O:zc("filled",e,m);O=Ab(["bar","point","circle","square","geoshape"],A)?"transparent":void 0;var ia,xa;A=null!=(xa=null!=(ia=zc(!0===b?"color":void 0,e,m,{vgChannel:"fill"}))?ia:m.mark[!0===b&&"color"])?xa:O;var Xa;ia=null!=(Xa=zc(!1===b?"color":void 0,e,m,{vgChannel:"stroke"}))?Xa:m.mark[!1===b&&"color"];Xa=b?"fill":"stroke";xa=Object.assign({},A?{fill:Sb(A)}:{},ia?{stroke:Sb(ia)}:{});e.color&&(b?e.fill:e.stroke)&&za(Td("property",{fill:"fill"in e,
stroke:"stroke"in e}));return Object.assign({},xa,pd("color",a,{vgChannel:Xa,defaultValue:b?A:ia}),pd("fill",a,{defaultValue:h.fill?A:void 0}),pd("stroke",a,{defaultValue:h.stroke?ia:void 0}))}function Rd(a){const {encoding:b,mark:e}=a,h=b.order;return!pc(e)&&yd(h)?ba(a,h,"zindex",m=>Sb(m.value)):{}}function te(a){let {channel:b,markDef:e,encoding:h={},model:m,bandPosition:A}=a;a=`${b}Offset`;const O=e[a],ia=h[a];return"xOffset"!==a&&"yOffset"!==a||!ia?(a=e[a])?{offsetType:"visual",offset:a}:{}:{offsetType:"encoding",
offset:Bd({channel:a,channelDef:ia,markDef:e,config:null==m?void 0:m.config,scaleName:m.scaleName(a),scale:m.getScaleComponent(a),stack:null,defaultRef:Sb(O),bandPosition:A})}}function ve(a,b,e){let {defaultPos:h,vgChannel:m}=e;const {encoding:A,markDef:O,config:ia,stack:xa}=b;e=A[a];const Xa=A[C(a)],Eb=b.scaleName(a),Vb=b.getScaleComponent(a),{offset:Mc,offsetType:xd}=te({channel:a,markDef:O,encoding:A,model:b,bandPosition:.5}),Lc=ue({model:b,defaultPos:h,channel:a,scaleName:Eb,scale:Vb});if(!e&&
U(a)&&(A.latitude||A.longitude))b={field:b.getName(a)};else a:{b={channel:a,channelDef:e,channel2Def:Xa,markDef:O,config:ia,scaleName:Eb,scale:Vb,stack:xa,offset:Mc,defaultRef:Lc,bandPosition:"encoding"===xd?0:void 0};const {channel:nd,channelDef:Hd,scaleName:Od,stack:Ye,offset:ze,markDef:Ff}=b;if(Gc(Hd)&&Ye&&nd===Ye.fieldChannel){if(ub(Hd)&&(b=Hd.bandPosition,void 0!==b||"text"!==Ff.type||"radius"!==nd&&"theta"!==nd||(b=.5),void 0!==b)){b=Nd({scaleName:Od,fieldOrDatumDef:Hd,startSuffix:"start",bandPosition:b,
offset:ze});break a}b=id(Hd,Od,{suffix:"end"},{offset:ze})}else b=Qc(b)}return b?{[m||a]:b}:void 0}function ue(a){let {model:b,defaultPos:e,channel:h,scaleName:m,scale:A}=a;const {markDef:O,config:ia}=b;return()=>{var xa=v(h),Xa=l(h);Xa=zc(h,O,ia,{vgChannel:Xa});if(void 0!==Xa)return be(h,Xa);switch(e){case "zeroOrMin":case "zeroOrMax":if(m&&(Xa=A.get("type"),!Ab([Vh.LOG,Vh.TIME,Vh.UTC],Xa)&&A.domainDefinitelyIncludesZero()))return{scale:m,value:0};if("zeroOrMin"===e)return"y"===xa?{field:{group:"height"}}:
{value:0};switch(xa){case "radius":return{signal:`min(${b.width.signal},${b.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return xa=b[B(h)],Object.assign({},xa,{mult:.5})}}}function Ve(a,b,e){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===a||"theta"===a)return l(a);var m="x"===a?"align":"baseline";const A=zc(m,b,e);Wb(A)?(za(`The ${m} for range marks cannot be an expression`),
m=void 0):m=A;return"x"===a?al[m||("top"===h?"left":"center")]:kk[m||h]}function sf(a,b,e){let {defaultPos:h,defaultPos2:m,range:A}=e;return A?Lg(a,b,{defaultPos:h,defaultPos2:m}):ve(a,b,{defaultPos:h})}function Lg(a,b,e){let {defaultPos:h,defaultPos2:m}=e;const {markDef:A,config:O}=b;var ia=C(a);e=B(a);{const {encoding:Mc,mark:xd,markDef:Lc,stack:nd,config:Hd}=b;var xa=v(ia),Xa=B(ia);const Od=l(ia);var Eb=Mc[xa],Vb=b.scaleName(xa);const Ye=b.getScaleComponent(xa);({offset:xa}=ia in Mc||ia in Lc?
te({channel:ia,markDef:Lc,encoding:Mc,model:b}):te({channel:xa,markDef:Lc,encoding:Mc,model:b}));if(Eb||"x2"!==ia&&"y2"!==ia||!Mc.latitude&&!Mc.longitude){let {channel:ze,channelDef:Ff,channel2Def:cg,markDef:yg,config:Dh,scaleName:Eh,scale:ng,stack:Fh,offset:Qf,defaultRef:Di}={channel:ia,channelDef:Eb,channel2Def:Mc[ia],markDef:Lc,config:Hd,scaleName:Vb,scale:Ye,stack:nd,offset:xa,defaultRef:void 0};Eb=Gc(Ff)&&Fh&&ze.charAt(0)===Fh.fieldChannel.charAt(0)?id(Ff,Eh,{suffix:"start"},{offset:Qf}):Qc({channel:ze,
channelDef:cg,scaleName:Eh,scale:ng,stack:Fh,markDef:yg,config:Dh,offset:Qf,defaultRef:Di});ia=void 0!==Eb?{[Od]:Eb}:$e(ia,Lc)||$e(ia,{[ia]:Md(ia,Lc,Hd.style),[Xa]:Md(Xa,Lc,Hd.style)})||$e(ia,Hd[xd])||$e(ia,Hd.mark)||{[Od]:ue({model:b,defaultPos:m,channel:ia,scaleName:Vb,scale:Ye})()}}else Xa=B(ia),Vb=b.markDef[Xa],ia=null!=Vb?{[Xa]:{value:Vb}}:{[Od]:{field:b.getName(ia)}}}e=ia[e]?Ve(a,A,O):l(a);return Object.assign({},ve(a,b,{defaultPos:h,vgChannel:e}),ia)}function $e(a,b){const e=B(a),h=l(a);if(void 0!==
b[h])return{[h]:be(a,b[h])};if(void 0!==b[a])return{[h]:be(a,b[a])};if(b[e])if(b=b[e],Vc(b))za(`Position range does not support relative band size for ${e}.`);else return{[e]:be(a,b)}}function Pe(a,b){const {config:e,encoding:h,markDef:m}=a;var A=m.type,O=C(b),ia=B(b),xa=h[b];O=h[O];var Xa=a.getScaleComponent(b);Xa=Xa?Xa.get("type"):void 0;const Eb=m.orient;var Vb;let Mc;const xd=null!=(Mc=null!=(Vb=h[ia])?Vb:h.size)?Mc:zc("size",m,e,{vgChannel:ia});ia=z(b);A="bar"===A&&("x"===b?"vertical"===Eb:"horizontal"===
Eb);if(!ub(xa)||!(W(xa.bin)||Ca(xa.bin)||xa.timeUnit&&!O)||xd&&!Vc(xd)||h[ia]||Sc(Xa)){if((Gc(xa)&&Sc(Xa)||A)&&!O){var Lc;{const {markDef:ze,encoding:Ff,config:cg,stack:yg}=a;A=ze.orient;var nd=a.scaleName(b),Hd=a.getScaleComponent(b),Od=B(b),Ye=C(b);O=z(b);O=a.scaleName(O);ia=a.getScaleComponent(D(b));A="horizontal"===A&&"y"===b||"vertical"===A&&"x"===b;if(Ff.size||ze.size)A?Lc=pd("size",a,{vgChannel:Od,defaultRef:Sb(ze.size)}):za(`Cannot apply size to non-oriented mark "${ze.type}".`);Xa=!!Lc;A=
H({channel:b,fieldDef:xa,markDef:ze,config:cg,scaleType:null==Hd?void 0:Hd.get("type"),useVlSizeChannel:A});Lc=Lc||{[Od]:bg(Od,O||nd,ia||Hd,cg,A,!!xa,ze.type)};O="band"===(null==Hd?void 0:Hd.get("type"))&&Vc(A)&&!Xa?"top":"middle";O=Ve(b,ze,cg,O);ia="xc"===O||"yc"===O;const {offset:Dh,offsetType:Eh}=te({channel:b,markDef:ze,encoding:Ff,model:a,bandPosition:ia?.5:0});a=Qc({channel:b,channelDef:xa,markDef:ze,config:cg,scaleName:nd,scale:Hd,stack:yg,offset:Dh,defaultRef:ue({model:a,defaultPos:"mid",
channel:b,scaleName:nd,scale:Hd}),bandPosition:ia?"encoding"===Eh?0:.5:Wb(A)?{signal:`(1-${A})/2`}:Vc(A)?(1-A.band)/2:0});Od?Lc=Object.assign({},{[O]:a},Lc):(b=l(Ye),Lc=Lc[Od],Lc=Dh?Object.assign({},Lc,{offset:Dh}):Lc,Lc={[O]:a,[b]:g.isArray(a)?[a[0],Object.assign({},a[1],{offset:Lc})]:Object.assign({},a,{offset:Lc})})}return Lc}return Lg(b,a,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:ze,fieldDef2:Ff,channel:cg,model:yg}={fieldDef:xa,fieldDef2:O,channel:b,model:a};const {config:Dh,
markDef:Eh,encoding:ng}=yg;a=yg.getScaleComponent(cg);Lc=yg.scaleName(cg);b=a?a.get("type"):void 0;a=a.get("reverse");b=H({channel:cg,fieldDef:ze,markDef:Eh,config:Dh,scaleType:b});xa=null!=(Hd=null==(nd=null==(Ye=yg.component.axes[cg])?void 0:Ye[0])?void 0:nd.get("translate"))?Hd:.5;Hd=U(cg)?null!=(Od=zc("binSpacing",Eh,Dh))?Od:0:0;Od=C(cg);Ye=l(cg);nd=l(Od);O=Yc("minBandSize",Eh,Dh);({offset:ia}=te({channel:cg,markDef:Eh,encoding:ng,model:yg,bandPosition:0}));({offset:Xa}=te({channel:Od,markDef:Eh,
encoding:ng,model:yg,bandPosition:0}));let {scaleName:Fh,fieldDef:Qf}={fieldDef:ze,scaleName:Lc};A=wd(Qf,{expr:"datum"});Vb=wd(Qf,{expr:"datum",suffix:"end"});Vb=`abs(scale("${Fh}", ${Vb}) - scale("${Fh}", ${A}))`;A=vh(cg,Hd,a,xa,ia,O,Vb);a=vh(Od,Hd,a,xa,null!=Xa?Xa:ia,O,Vb);b=Wb(b)?{signal:`(1-${b.signal})/2`}:Vc(b)?(1-b.band)/2:.5;if(W(ze.bin)||ze.timeUnit)Lc={[nd]:fg({fieldDef:ze,scaleName:Lc,bandPosition:b,offset:a}),[Ye]:fg({fieldDef:ze,scaleName:Lc,bandPosition:Wb(b)?{signal:`1-${b.signal}`}:
1-b,offset:A})};else{if(Ca(ze.bin)){a=id(ze,Lc,{},{offset:a});if(ub(Ff)){Lc={[nd]:a,[Ye]:id(Ff,Lc,{},{offset:A})};break a}if(g.isObject(ze.bin)&&ze.bin.step){Lc={[nd]:a,[Ye]:{signal:`scale("${Lc}", ${wd(ze,{expr:"datum"})} + ${ze.bin.step})`,offset:A}};break a}}za(ka(Od));Lc=void 0}}return Lc}function bg(a,b,e,h,m,A,O){if(Vc(m))if(e){const ia=e.get("type");if("band"===ia)return a=`bandwidth('${b}')`,1!==m.band&&(a=`${m.band} * ${a}`),h=Yc("minBandSize",{type:O},h),{signal:h?`max(${bc(h)}, ${a})`:
a};1!==m.band&&za(`Cannot use the relative band size with ${ia} scale.`)}else return{mult:m.band,field:{group:a}};else{if(Wb(m))return m;if(m)return{value:m}}if(e&&(m=e.get("range"),Rc(m)&&g.isNumber(m.step)))return{value:m.step-2};if(!A){const {bandPaddingInner:ia,barBandPaddingInner:xa,rectBandPaddingInner:Xa}=h.scale;O=la(ia,"bar"===O?xa:Xa);if(Wb(O))return{signal:`(1 - (${O.signal})) * ${a}`};if(g.isNumber(O))return{signal:`${1-O} * ${a}`}}return{value:ig(h.view,a)-2}}function vh(a,b,e,h,m,A,
O){if(a in Vk)return 0;b=(a="x"===a||"y2"===a)?-b/2:b/2;if(Wb(e)||Wb(m)||Wb(h)||A){e=bc(e);m=bc(m);h=bc(h);const ia=bc(A);A=A?`(${O} < ${ia} ? ${a?"":"-"}0.5 * (${ia} - (${O})) : ${b})`:b;return{signal:(h?`${h} + `:"")+(e?`(${e} ? -1 : 1) * `:"")+(m?`(${m} + ${A})`:A)}}m=m||0;return h+(e?-m-b:+m+b)}function fg(a){let {fieldDef:b,scaleName:e,bandPosition:h,offset:m}=a;return Nd({scaleName:e,fieldOrDatumDef:b,bandPosition:h,offset:m})}function of(a,b){const {fill:e,stroke:h}="include"===b.color?Zc(a):
{};var m=Object,A=m.assign;b=Nf(a.markDef,b);var O=mf(a,"fill",e),ia=mf(a,"stroke",h),xa=pd("opacity",a),Xa=pd("fillOpacity",a),Eb=pd("strokeOpacity",a),Vb=pd("strokeWidth",a),Mc=pd("strokeDash",a),xd=Rd(a),Lc=Ya(a),nd=oa(a,"href");{const {markDef:ze,config:Ff}=a,cg=zc("aria",ze,Ff);if(!1===cg)a={};else{var Hd=Object,Od=Hd.assign;{const {mark:yg,markDef:Dh,config:Eh}=a;if(!1===Eh.aria)var Ye={};else Ye=zc("ariaRoleDescription",Dh,Eh),Ye=null!=Ye?{ariaRoleDescription:{value:Ye}}:yg in Yk?{}:{ariaRoleDescription:{value:yg}}}a=
Od.call(Hd,{},cg?{aria:cg}:{},Ye,Tb(a))}}return A.call(m,{},b,O,ia,xa,Xa,Eb,Vb,Mc,xd,Lc,nd,a)}function mf(a,b,e){const {config:h,mark:m,markDef:A}=a;return"hide"===zc("invalid",A,h)&&e&&!pc(m)&&(a=Pf(a,{invalid:!0,channels:nk}))?{[b]:[{test:a,value:null},...g.array(e)]}:e?{[b]:e}:{}}function Nf(a,b){return Rl.reduce((e,h)=>{Wh.has(h)||void 0===a[h]||"ignore"===b[h]||(e[h]=Sb(a[h]));return e},{})}function Pf(a,b){let {invalid:e=!1,channels:h}=b;b=h.reduce((m,A)=>{var O=a.getScaleComponent(A);O&&(O=
O.get("type"),(A=a.vgField(A,{expr:"datum"}))&&fd(O)&&(m[A]=!0));return m},{});b=je(b);if(0<b.length){const m=e?"||":"\x26\x26";return b.map(A=>sd(A,e)).join(` ${m} `)}}function Lf(a){const {config:b,markDef:e}=a;return zc("invalid",e,b)&&(a=Wg(a,{channels:Mh}))?{defined:{signal:a}}:{}}function Wg(a,b){let {invalid:e=!1,channels:h}=b;b=h.reduce((m,A)=>{var O=a.getScaleComponent(A);if(O){O=O.get("type");let ia;(A=a.vgField(A,{expr:"datum",binSuffix:(null==(ia=a.stack)?0:ia.impute)?"mid":void 0}))&&
fd(O)&&(m[A]=!0)}return m},{});b=je(b);if(0<b.length){const m=e?"||":"\x26\x26";return b.map(A=>sd(A,e)).join(` ${m} `)}}function jg(a,b){if(void 0!==b)return{[a]:Sb(b)}}function wh(a,b,e,h,m){var A=b.name,O=A+"_translate_anchor";A+="_translate_delta";var ia=e.channel;const xa=fi.defined(b);b=m.filter(xd=>xd.name===e.signals[xa?"data":"visual"])[0];h=a.getSizeSignalRef(h).signal;m=(a=a.getScaleComponent(ia))&&a.get("type");var Xa=a&&a.get("reverse");O=`${O}.extent_${ia}`;ia=`${xa?"x"===ia?Xa?"":"-":
Xa?"-":"":""}${A}.${ia} / ${xa?`${h}`:`span(${O})`}`;Xa=xa&&a?"log"===m?"panLog":"symlog"===m?"panSymlog":"pow"===m?"panPow":"panLinear":"panLinear";var Eb;let Vb;const Mc=xa?"pow"===m?`, ${null!=(Eb=a.get("exponent"))?Eb:1}`:"symlog"===m?`, ${null!=(Vb=a.get("constant"))?Vb:1}`:"":"";Eb=`${Xa}(${O}, ${ia}${Mc})`;b.on.push({events:{signal:A},update:xa?Eb:`clampRange(${Eb}, 0, ${h})`})}function lg(a,b,e,h,m){var A=b.name,O=e.channel;const ia=fi.defined(b);b=m.filter(xd=>xd.name===e.signals[ia?"data":
"visual"])[0];h=a.getSizeSignalRef(h).signal;const xa=(m=a.getScaleComponent(O))&&m.get("type"),Xa=ia?fa(a,O):b.name;a=A+"_zoom_delta";A=`${A}${"_zoom_anchor"}.${O}`;O=ia&&m?"log"===xa?"zoomLog":"symlog"===xa?"zoomSymlog":"pow"===xa?"zoomPow":"zoomLinear":"zoomLinear";var Eb;let Vb;const Mc=ia?"pow"===xa?`, ${null!=(Eb=m.get("exponent"))?Eb:1}`:"symlog"===xa?`, ${null!=(Vb=m.get("constant"))?Vb:1}`:"":"";Eb=`${O}(${Xa}, ${A}, ${a}${Mc})`;b.on.push({events:{signal:a},update:ia?Eb:`clampRange(${Eb}, 0, ${h})`})}
function Kg(a){var {escape:b}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};b=b?g.stringValue(a.name):a.name;var e;for(e=a.parent;e&&!Rh(e);)e=e.parent;if(e){const {facet:h}=e;for(const m of ai)h[m]&&(b+=` + '__facet_${m}_' + (facet[${g.stringValue(e.vgField(m))}])`)}return b}function sg(a){let b;return xh(null!=(b=a.component.selection)?b:{}).reduce((e,h)=>e||h.project.hasSelectionId,!1)}function Yh(a,b){!g.isString(b.select)&&b.select.on||delete a.events;!g.isString(b.select)&&
b.select.clear||delete a.clear;!g.isString(b.select)&&b.select.toggle||delete a.toggle}function oi(a){const b=[];if("Identifier"===a.type)return[a.name];if("Literal"===a.type)return[a.value];"MemberExpression"===a.type&&(b.push(...oi(a.object)),b.push(...oi(a.property)));return b}function di(a){return"MemberExpression"===a.object.type?di(a.object):"datum"===a.object.name}function Oi(a){a=g.parseExpression(a);const b=new Set;a.visit(e=>{"MemberExpression"===e.type&&di(e)&&b.add(oi(e).slice(1).join("."))});
return b}function Li(a,b,e){var h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",m=g.isString(b)?b:b.param,A=Oa(m),O=g.stringValue(A+"_store");try{var ia=a.getSelectionComponent(A,m)}catch(xa){return`!!${A}`}ia.project.timeUnit&&(m=null!=e?e:a.component.data.raw,A=ia.project.timeUnit.clone(),m.parent?A.insertAsParentOf(m):m.parent=A);m=ia.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";ia="global"===ia.resolve?")":`, ${g.stringValue(ia.resolve)})`;h=`${m}${O}, ${h}${ia}`;
O=`length(data(${O}))`;return!1===b.empty?`${O} && ${h}`:`!${O} || ${h}`}function Ag(a,b,e){const h=Oa(b),m=e.encoding;let A=e.field,O;try{O=a.getSelectionComponent(h,b)}catch(ia){return h}m||A?m&&!A&&(a=O.project.items.filter(ia=>ia.channel===m),!a.length||1<a.length?(A=O.project.items[0].field,za((a.length?"Multiple ":"No ")+`matching ${g.stringValue(m)} encoding found for selection ${g.stringValue(e.param)}. `+`Using "field": ${g.stringValue(A)}.`)):A=a[0].field):(A=O.project.items[0].field,1<
O.project.items.length&&za('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${g.stringValue(A)}.`));return`${O.name}[${g.stringValue(ob(A))}]`}function Pi(a,b,e){return Da(b,h=>g.isString(h)?h:(null==h?0:h.param)?Li(a,h,e):I(h))}function lj(a,b){if(a)return g.isArray(a)&&!bd(a)?a.map(e=>Bj(e,b)).join(", "):a}function ii(a,b,e,h){null!=a.encode||(a.encode={});let m;null!=(m=a.encode)[b]||(m[b]={});let A;null!=(A=a.encode[b]).update||(A.update={});
a.encode[b].update[e]=h}function ti(a,b,e){var h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},m=a.combine(),A=Object.assign({},m),O=m.disable;const ia=m.orient,xa=m.scale;var Xa=m.labelExpr;const Eb=m.title;m=m.zindex;A=(delete A.disable,delete A.orient,delete A.scale,delete A.labelExpr,delete A.title,delete A.zindex,A);if(!O){for(const Mc in A){var Vb=ek[Mc];O=A[Mc];if(Vb&&Vb!==b&&"both"!==Vb)delete A[Mc];else if(If(O)){Vb=O;O=Object.assign({},Vb);Vb=Vb.condition;O=(delete O.condition,
O);Vb=g.array(Vb);const xd=pi[Mc];if(xd){const {vgProp:Lc,part:nd}=xd;O=[...Vb.map(Hd=>{var Od=Object.assign({},Hd);Hd=Hd.test;Od=(delete Od.test,Od);return Object.assign({},{test:Pi(null,Hd)},Od)}),O];ii(A,nd,Lc,O);delete A[Mc]}else null===xd&&(O={signal:Vb.map(Lc=>{var nd=Object.assign({},Lc);Lc=Lc.test;nd=(delete nd.test,nd);return`${Pi(null,Lc)} ? ${fc(nd)} : `}).join("")+fc(O)},A[Mc]=O)}else if(Wb(O)&&(Vb=pi[Mc])){const {vgProp:xd,part:Lc}=Vb;ii(A,Lc,xd,O);delete A[Mc]}Ab(["labelAlign","labelBaseline"],
Mc)&&null===A[Mc]&&delete A[Mc]}if("grid"===b){if(A.grid)return A.encode&&({grid:Xa}=A.encode,A.encode=Object.assign({},Xa?{grid:Xa}:{}),Ua(A.encode)&&delete A.encode),Object.assign({},{scale:xa,orient:ia},A,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:la(m,0)})}else if(h.header||!a.mainExtracted){if(void 0!==Xa){h=Xa;let Mc,xd;(null==(Mc=A.encode)?0:null==(xd=Mc.labels)?0:xd.update)&&Wb(A.encode.labels.update.text)&&(h=Nb(Xa,"datum.label",A.encode.labels.update.text.signal));
ii(A,"labels","text",{signal:h})}null===A.labelAlign&&delete A.labelAlign;if(A.encode){for(const Mc of wj)a.hasAxisPart(Mc)||delete A.encode[Mc];Ua(A.encode)&&delete A.encode}Xa=lj(Eb,e);return Object.assign({},{scale:xa,orient:ia,grid:!1},Xa?{title:Xa}:{},A,!1===e.aria?{aria:!1}:{},{zindex:la(m,0)})}}}function x(a){const {axes:b}=a.component,e=[];for(const h of Mh)if(b[h])for(const m of b[h])if(!m.get("disable")&&!m.get("gridScale")){const A="x"===h?"height":"width",O=a.getSizeSignalRef(A).signal;
A!==O&&e.push({name:A,update:O})}return e}function V(a,b){const {x:e=[],y:h=[]}=a;return[...e.map(m=>ti(m,"grid",b)),...h.map(m=>ti(m,"grid",b)),...e.map(m=>ti(m,"main",b)),...h.map(m=>ti(m,"main",b))].filter(m=>m)}function ea(a,b,e,h){return Object.assign.apply(null,[{},...a.map(m=>{if("axisOrient"===m){m="x"===e?"bottom":"left";const A=b["x"===e?"axisBottom":"axisLeft"]||{},O=b["x"===e?"axisTop":"axisRight"]||{},ia=new Set([...je(A),...je(O)]),xa={};for(const Xa of ia.values())xa[Xa]={signal:`${h.signal} === "${m}" ? ${bc(A[Xa])} : ${bc(O[Xa])}`};
return xa}return b[m]})])}function Ma(a,b,e,h){var m="band"===b?["axisDiscrete","axisBand"]:"point"===b?["axisDiscrete","axisPoint"]:yi.has(b)?["axisQuantitative"]:"time"===b||"utc"===b?["axisTemporal"]:[];const A="x"===a?"axisX":"axisY";b=Wb(e)?"axisOrient":`axis${kb(e)}`;m=[...m,...m.map(O=>A+O.substr(4))];b=["axis",b,A];return{vlOnlyAxisConfig:ea(m,h,a,e),vgAxisConfig:ea(b,h,a,e),axisConfigStyle:yb([...b,...m],h)}}function yb(a,b){const e=[{}];for(const h of a){let m;if(a=null==(m=b[h])?void 0:
m.style){a=g.array(a);for(const A of a)e.push(b.style[A])}}return Object.assign.apply(null,e)}function Cb(a,b,e){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const m=td(a,e,b);if(void 0!==m)return{configFrom:"style",configValue:m};for(const A of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){let O;if(void 0!==(null==(O=h[A])?void 0:O[a]))return{configFrom:A,configValue:h[A][a]}}return{}}function Rb(a,b,e,h,m){const A=null==b?void 0:b.labelAngle;if(void 0!==A)return Wb(A)?
A:cb(A);({configValue:b}=Cb("labelAngle",h,null==b?void 0:b.style,m));if(void 0!==b)return cb(b);if("x"===e&&Ab(["nominal","ordinal"],a.type)&&(!ub(a)||!a.timeUnit))return 270}function jc(a){return`(((${a.signal} % 360) + 360) % 360)`}function Wc(a,b,e,h){if(void 0!==a)return"x"===e?Wb(a)?(h=jc(a),b=Wb(b)?`(${b.signal} === "top")`:"top"===b,{signal:`(45 < ${h} && ${h} < 135) || (225 < ${h} && ${h} < 315) ? "middle" :`+`(${h} <= 45 || 315 <= ${h}) === ${b} ? "bottom" : "top"`}):45<a&&135>a||225<a&&
315>a?"middle":Wb(b)?{signal:`${b.signal} ${45>=a||315<=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:(45>=a||315<=a)===("top"===b)?"bottom":"top":Wb(a)?(a=jc(a),b=Wb(b)?`(${b.signal} === "left")`:"left"===b,{signal:`${a} <= 45 || 315 <= ${a} || (135 <= ${a} && ${a} <= 225) ? ${h?'"middle"':"null"} : (45 <= ${a} && ${a} <= 135) === ${b} ? "top" : "bottom"`}):45>=a||315<=a||135<=a&&225>=a?h?"middle":null:Wb(b)?{signal:`${b.signal} ${45<=a&&135>=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:
(45<=a&&135>=a)===("left"===b)?"top":"bottom"}function Jd(a,b,e){if(void 0!==a){var h=(e="x"===e)?0:90,m=e?"bottom":"left";return Wb(a)?(a=jc(a),b=Wb(b)?`(${b.signal} === "${m}")`:b===m,{signal:`(${h?`(${a} + 90)`:a} % 180 === 0) ? ${e?null:'"center"'} :`+`(${h} < ${a} && ${a} < ${180+h}) === ${b} ? "left" : "right"`}):0===(a+h)%180?e?null:"center":Wb(b)?{signal:`${`${b.signal} ${h<a&&a<180+h?"\x3d\x3d\x3d":"!\x3d\x3d"} "${m}"`} ? "left" : "right"`}:(h<a&&a<180+h)===(b===m)?"left":"right"}}function Sd(a,
b){var e="x"===b?"x2":"y2";b=a.fieldDef(b);a=a.fieldDef(e);e=b?b.title:void 0;a=a?a.title:void 0;if(e&&a)return vb(e,a);if(e)return e;if(a)return a;if(void 0!==e)return e;if(void 0!==a)return a}function ad(a,b,e){return wd(a,Object.assign({},{prefix:b,suffix:"sort_index"},null!=e?e:{}))}function ke(a,b){return Ab(["top","bottom"],b)?"column":Ab(["left","right"],b)?"row":"row"===a?"row":"column"}function Ae(a,b,e,h){return la((b||{})[a],("row"===h?e.headerRow:"column"===h?e.headerColumn:e.headerFacet)[a],
e.header[a])}function Re(a,b,e,h){const m={};for(const A of a)a=Ae(A,b||{},e,h),void 0!==a&&(m[A]=a);return m}function w(a,b){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const e=Jd(b,"row"===a?"left":"top","row"===a?"y":"x");return e?{align:e}:{}}function S(a,b){return(a=Wc(a,"row"===b?"left":"top","row"===b?"y":"x",!0))?{baseline:a}:{}}function Z(a,b,e){const {format:h,formatType:m,labelAngle:A,labelAnchor:O,
labelOrient:ia,labelExpr:xa}=Re("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),a.header,e,b),Xa=Ke({fieldOrDatumDef:a,format:h,formatType:m,expr:"parent",config:e}).signal,Eb=ke(b,ia);return Object.assign({},{text:{signal:xa?Nb(Nb(xa,"datum.label",Xa),"datum.value",wd(a,{expr:"parent"})):Xa}},"row"===b?{orient:"left"}:{},{style:"guide-label",frame:"group"},S(A,Eb),w(Eb,A,O),Ea(e,a,b,zk,yj))}function Ea(a,b,e,h,m){const A={};for(const O of h){if(!m[O])continue;let ia;h=
Ae(O,null==(ia=b)?void 0:ia.header,a,e);void 0!==h&&(A[m[O]]=h)}return A}function sb(a){return[...wb(a,"width"),...wb(a,"height"),...wb(a,"childWidth"),...wb(a,"childHeight")]}function wb(a,b){var e="width"===b?"x":"y",h=a.component.layoutSize.get(b);if(!h||"merged"===h)return[];b=a.getSizeSignalRef(b).signal;if("step"===h){if(h=a.getScaleComponent(e)){var m=h.get("type");const A=h.get("range");if(Sc(m)&&Rc(A))return m=a.scaleName(e),Rh(a.parent)&&"independent"===a.parent.component.resolve.scale[e]?
[Lb(m,A)]:[Lb(m,A),{name:b,update:Mb(m,h,`domain('${m}').length`)}]}throw Error("layout size is step although width/height is not step.");}return"container"==h?(e=(h=b.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",a=vg(a.config.view,h?"width":"height"),a=`isFinite(${e}) ? ${e} : ${a}`,[{name:b,init:a,on:[{update:a,events:"window:resize"}]}]):[{name:b,value:h}]}function Lb(a,b){a=`${a}_step`;return Wb(b.step)?{name:a,update:b.step.signal}:{name:a,value:b.step}}function Mb(a,b,e){const h=
b.get("type"),m=b.get("padding"),A=la(b.get("paddingOuter"),m);b=b.get("paddingInner");return`bandspace(${e}, ${bc("band"===h?void 0!==b?b:m:1)}, ${bc(A)}) * ${a}_step`}function Kc(a){return"childWidth"===a?"width":"childHeight"===a?"height":a}function Dd(a,b){return je(a).reduce((e,h)=>Object.assign({},e,ba(b,a[h],h,m=>Sb(m.value))),{})}function ed(a,b){if(Rh(b))return"theta"===a?"independent":"shared";if(Vi(b))return"shared";if($i(b))return U(a)||"theta"===a||"radius"===a?"independent":"shared";
throw Error("invalid model type for resolve");}function mc(a,b){const e=a.scale[b],h=U(b)?"axis":"legend";return"independent"===e?("shared"===a[h][b]&&za(`Setting the scale to be independent for "${b}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):a[h][b]||"shared"}function qd(a){return xe(a,(b,e)=>Math.max(b,e.value))}function ud(a){return xe(a,(b,e)=>la(b,e.value))}function xe(a,b){const e=null==a?void 0:a.condition;if(e&&(g.isArray(e)||yd(e)))return g.array(a.condition).reduce(b,
a.value);if(yd(a))return a.value}function qe(a,b,e){a=b.get("selections");if(null!=a&&a.length){var h=g.stringValue(e.field);return a.map(m=>`(!length(data(${g.stringValue(Oa(m)+"_store")})) || (${m}[${h}] && indexof(${m}[${h}], datum.value) >= 0))`).join(" || ")}}function Se(a,b,e,h){return{signal:`clamp(${a.getSizeSignalRef(b).signal}, ${e}, ${h})`}}function Cf(a){if(Ig(a)){var {encoding:b}=a,e={};for(Hd of["color",...wl]){var h=ne(b[Hd]);if(h&&a.getScaleComponent(Hd)&&("shape"!==Hd||!ub(h)||"geojson"!==
h.type)){a:{var m=void 0,A=void 0,O=void 0,ia=void 0,xa=void 0,Xa,Eb=Xa=void 0,Vb=void 0;h=a;var Mc=Hd;let Od=h.legend(Mc);const {markDef:Ye,encoding:ze,config:Ff}=h;var xd=Ff.legend;b:{var Lc=h;var nd=Mc;ia=Lc.scaleName(nd);if("trail"===Lc.mark){if("color"===nd){Lc={stroke:ia};break b}if("size"===nd){Lc={strokeWidth:ia};break b}}Lc="color"===nd?Lc.markDef.filled?{fill:ia}:{stroke:ia}:{[nd]:ia}}Lc=new am({},Lc);nd=null==(Vb=h.fieldDef(Mc))?void 0:Vb.field;for(const ng of xh(null!=(Eb=h.component.selection)?
Eb:{})){let Fh;if((Eb=null!=(Fh=ng.project.hasField[nd])?Fh:ng.project.hasChannel[Mc])&&gk.defined(ng)){let Qf;Vb=null!=(Qf=Lc.get("selections"))?Qf:[];Vb.push(ng.name);Lc.set("selections",Vb,!1);Eb.hasLegend=!0}}Eb=void 0!==Od?!Od:xd.disable;Lc.set("disable",Eb,void 0!==Od);if(Eb){h=Lc;break a}Od=Od||{};Vb=h.getScaleComponent(Mc).get("type");Eb=ne(ze[Mc]);ia=ub(Eb)?null==(Xa=ae(Eb.timeUnit))?void 0:Xa.unit:void 0;nd=Od.orient||Ff.legend.orient||"right";Xa={legend:Od,channel:Mc,timeUnit:ia,scaleType:Vb};
({legend:ia}=Xa);ia=ia.type;b:{let {channel:ng,timeUnit:Fh,scaleType:Qf}=Xa;if(P(ng)){if(Ab(["quarter","month","day"],Fh)){Xa="symbol";break b}if(zg.has(Qf)){Xa="gradient";break b}}Xa="symbol"}Xa=la(ia,Xa);let {legendConfig:cg,legendType:yg,orient:Dh,legend:Eh}={legend:Od,legendType:Xa,orient:nd,legendConfig:xd};if(null!=(ia=null!=(xa=Eh.direction)?xa:cg[yg?"gradientDirection":"symbolDirection"]))xa=ia;else b:{switch(Dh){case "top":case "bottom":xa="horizontal";break b;case "left":case "right":case "none":case void 0:break;
default:xa="gradient"===yg?"horizontal":void 0;break b}xa=void 0}xd={legend:Od,channel:Mc,model:h,markDef:Ye,encoding:ze,fieldOrDatumDef:Eb,legendConfig:xd,config:Ff,scaleType:Vb,orient:nd,legendType:Xa,direction:xa};for(const ng of jk)if(!("gradient"===Xa&&ng.startsWith("symbol")||"symbol"===Xa&&ng.startsWith("gradient"))&&(xa=ng in ml?ml[ng](xd):Od[ng],void 0!==xa)){b:{Vb=ia=void 0;nd=h.fieldDef(Mc);switch(ng){case "disable":nd=void 0!==Od;break b;case "values":nd=!(null==(Vb=Od)||!Vb.values);break b;
case "title":if("title"===ng&&xa===(null==(ia=nd)?void 0:ia.title)){nd=!0;break b}}nd=xa===(Od||{})[ng]}((Vb=nd)||void 0===Ff.legend[ng])&&Lc.set(ng,xa,Vb)}xd=null!=(A=null==(O=Od)?void 0:O.encoding)?A:{};A=Lc.get("selections");O={};Mc={fieldOrDatumDef:Eb,model:h,channel:Mc,legendCmpt:Lc,legendType:Xa};for(const ng of"labels legend title symbols gradient entries".split(" ")){let Fh;xa=Dd(null!=(Fh=xd[ng])?Fh:{},h);xa=ng in hl?hl[ng](xa,Mc):xa;if(void 0!==xa&&!Ua(xa)){let Qf,Di;O[ng]=Object.assign({},
(null==(Qf=A)?0:Qf.length)&&ub(Eb)?{name:`${Oa(Eb.field)}_legend_${ng}`}:{},(null==(Di=A)?0:Di.length)?{interactive:!!A}:{},{update:xa})}}Ua(O)||Lc.set("encode",O,!(null==(m=Od)||!m.encoding));h=Lc}e[Hd]=h}}var Hd=e}else{const {legends:Od,resolve:Ye}=a.component;for(b of a.children){Cf(b);for(e of je(b.component.legends))Ye.legend[e]=mc(a.component.resolve,e),"shared"===Ye.legend[e]&&(Od[e]=Rf(Od[e],b.component.legends[e]),Od[e]||(Ye.legend[e]="independent",delete Od[e]))}for(h of je(Od))for(m of a.children)m.component.legends[h]&&
"shared"===Ye.legend[h]&&delete m.component.legends[h];Hd=Od}return a.component.legends=Hd}function Rf(a,b){if(!a)return b.clone();var e=a.getWithExplicit("orient");const h=b.getWithExplicit("orient");if(!e.explicit||!h.explicit||e.value===h.value){var m=!1;for(const A of jk)e=eg(a.getWithExplicit(A),b.getWithExplicit(A),A,"legend",(O,ia)=>{switch(A){case "symbolType":return O="circle"===ia.value?ia:O,O;case "title":return ra(O,ia);case "type":return m=!0,Wf("symbol")}return Kh(O,ia,A,"legend")}),
a.setWithExplicit(A,e);if(m){let A,O;(null==(A=a.implicit)?0:null==(O=A.encode)?0:O.gradient)&&Pa(a.implicit,["encode","gradient"]);let ia,xa;(null==(ia=a.explicit)?0:null==(xa=ia.encode)?0:xa.gradient)&&Pa(a.explicit,["encode","gradient"])}return a}}function kg(a){const b=a.component.legends,e={};for(const m of je(b)){var h=a.getScaleComponent(m);h=p(h.get("domains"));if(e[h])for(const A of e[h])Rf(A,b[m])||e[h].push(b[m]);else e[h]=[b[m].clone()]}return xh(e).flat().map(m=>{{var A=a.config,O=m.combine();
m=Object.assign({},O);const Mc=O.disable;O=O.labelExpr;m=(delete m.disable,delete m.labelExpr,delete m.selections,m);if(Mc)var ia=void 0;else{!1===A.aria&&void 0==m.aria&&(m.aria=!1);var xa;if(null==(xa=m.encode)?0:xa.symbols){A=m.encode.symbols.update;!A.fill||"transparent"===A.fill.value||A.stroke||m.stroke||(A.stroke={value:"transparent"});for(var Xa of wl)m[Xa]&&delete A[Xa]}m.title||delete m.title;if(void 0!==O){Xa=O;var Eb,Vb;(null==(Eb=m.encode)?0:null==(Vb=Eb.labels)?0:Vb.update)&&Wb(m.encode.labels.update.text)&&
(Xa=Nb(O,"datum.label",m.encode.labels.update.text.signal));Eb=m;Vb={signal:Xa};null!=Eb.encode||(Eb.encode={});null!=(ia=Eb.encode).labels||(ia.labels={});let xd;null!=(xd=Eb.encode.labels).update||(xd.update={});Eb.encode.labels.update.text=Vb}ia=m}}return ia}).filter(m=>void 0!==m)}function Gh(a){return a.children.reduce((b,e)=>b.concat(e.assembleProjections()),gg(a))}function gg(a){var b=a.component.projection;if(!b||b.merged)return[];const e=b.combine(),{name:h}=e;if(b.data){const m={signal:`[${b.size.map(A=>
A.signal).join(", ")}]`};b=b.data.reduce((A,O)=>{O=Wb(O)?O.signal:`data('${a.lookupDataSource(O)}')`;A.includes(O)||A.push(O);return A},[]);if(0>=b.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:h,size:m,fit:{signal:1<b.length?`[${b.join(", ")}]`:b[0]}},e)]}return[Object.assign({},{name:h},{translate:{signal:"[width / 2, height / 2]"}},e)]}function qf(a){var b=a.component;if(Ig(a))if(a.hasProjection){var e=uc(a.specifiedProjection);var h=!(e&&(null!=
e.scale||null!=e.translate));const A=h?[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]:void 0;if(h){h=[];const {encoding:ia}=a;for(m of[["longitude","latitude"],["longitude2","latitude2"]])(ne(ia[m[0]])||ne(ia[m[1]]))&&h.push({signal:a.getName(`geojson_${h.length}`)});a.channelHasField("shape")&&"geojson"===a.typedFieldDef("shape").type&&h.push({signal:a.getName(`geojson_${h.length}`)});0===h.length&&h.push(a.requestDataName(Of.Main));var m=h}else m=void 0;let O;a=new ll(a.projectionName(!0),
Object.assign({},null!=(O=uc(a.config.projection))?O:{},null!=e?e:{}),A,m);a.get("type")||a.set("type","equalEarth",!1);e=a}else e=void 0;else e=tg(a);b.projection=e}function Mg(a,b){const e=rc(kl,h=>!g.hasOwnProperty(a.explicit,h)&&!g.hasOwnProperty(b.explicit,h)||g.hasOwnProperty(a.explicit,h)&&g.hasOwnProperty(b.explicit,h)&&ma(a.get(h),b.get(h))?!0:!1);if(ma(a.size,b.size)){if(e)return a;if(ma(a.explicit,{}))return b;if(ma(b.explicit,{}))return a}return null}function tg(a){if(0!==a.children.length){var b;
for(var e of a.children)qf(e);e=rc(a.children,h=>{if(h=h.component.projection){if(b)return(h=Mg(b,h))&&(b=h),!!h;b=h}return!0});if(b&&e){e=a.projectionName(!0);const h=new ll(e,b.specifiedProjection,b.size,tf(b.data));for(const m of a.children)if(a=m.component.projection)a.isFit&&h.data.push(...m.component.projection.data),m.renameProjection(a.get("name"),e),a.merged=!0;return h}}}function He(a,b,e){let h;e=null!=(h=Zf(e,void 0))?h:{};b=`${ab(e)}_${b}`;return a.getName(`${b}_bins`)}function oe(a,
b,e){let h;h="as"in a?g.isString(a.as)?[a.as,`${a.as}_end`]:[a.as[0],a.as[1]]:[wd(a,{forAs:!0}),wd(a,{binSuffix:"end",forAs:!0})];b=Object.assign({},Zf(b,void 0));var m=a.field;m=`${ab(b)}_${m}`;var A={signal:e.getName(`${m}_bins`),extentSignal:e.getName(`${m}_extent`)};const {signal:O,extentSignal:ia}=A;if(Za(b.extent)){var xa=b.extent;xa=Ag(e,xa.param,xa);delete b.extent}a=Object.assign({},{bin:b,field:a.field,as:[h]},O?{signal:O}:{},ia?{extentSignal:ia}:{},xa?{span:xa}:{});return{key:m,binComponent:a}}
function Le(a){return a.startsWith("'")&&a.endsWith("'")||a.startsWith('"')&&a.endsWith('"')?a.slice(1,-1):a}function se(a,b){a=lb(a);if("number"===b)return`toNumber(${a})`;if("boolean"===b)return`toBoolean(${a})`;if("string"===b)return`toString(${a})`;if("date"===b)return`toDate(${a})`;if("flatten"===b)return a;if(b.startsWith("date:"))return b=Le(b.slice(5,b.length)),`timeParse(${a},'${b}')`;if(b.startsWith("utc:"))return b=Le(b.slice(4,b.length)),`utcParse(${a},'${b}')`;za(`Unrecognized parse "${b}".`);
return null}function mg(a){const b={};qa(a.filter,e=>{if(ec(e)){let h=null;if(af(e))h=Ub(e.equal);else if(pf(e))h=Ub(e.lte);else if(re(e))h=Ub(e.lt);else if(T(e))h=Ub(e.gt);else if(ta(e))h=Ub(e.gte);else if(db(e))h=e.range[0];else if(zb(e)){let m;h=(null!=(m=e.oneOf)?m:e["in"])[0]}h&&(Hb(h)?b[e.field]="date":g.isNumber(h)?b[e.field]="number":g.isString(h)&&(b[e.field]="string"));e.timeUnit&&(b[e.field]="date")}});return b}function Ng(a){function b(h){if(cf(h))e[h.field]="date";else{var m;if(m="quantitative"===
h.type)m=h.aggregate,m=g.isString(m)&&Ab(["min","max"],m);m?e[h.field]="number":1<nb(h.field)?h.field in e||(e[h.field]="flatten"):Cd(h)&&Vd(h.sort)&&1<nb(h.sort.field)&&(h.sort.field in e||(e[h.sort.field]="flatten"))}}const e={};(Ig(a)||Rh(a))&&a.forEachFieldDef((h,m)=>{$c(h)?b(h):(m=v(m),m=a.fieldDef(m),b(Object.assign({},h,{type:m.type})))});if(Ig(a)){const {mark:h,markDef:m,encoding:A}=a;if(pc(h)&&!a.encoding.order){const O=A["horizontal"===m.orient?"y":"x"];!ub(O)||"quantitative"!==O.type||
O.field in e||(e[O.field]="number")}}return e}function xg(a){return a instanceof d||a instanceof oj||a instanceof c}function bh(a){return a.stack.stackBy.reduce((b,e)=>{(e=wd(e.fieldDef))&&b.push(e);return b},[])}function Qh(a){return g.isArray(a)&&a.every(b=>g.isString(b))&&1<a.length}function ji(a){function b(e){if(!(e instanceof Kj)){const h=e.clone();if(h instanceof ag){const m="scale_"+h.getSource();h.setSource(m);a.model.component.data.outputNodes[m]=h}else(h instanceof vi||h instanceof Tc||
h instanceof od||h instanceof kd)&&h.addDimensions(a.fields);for(const m of e.children.flatMap(b))m.parent=h;return[h]}return e.children.flatMap(b)}return b}function Ri(a){if(a instanceof Kj)if(1!==a.numChildren()||a.children[0]instanceof ag){var b=a.model.component.data.main;aj(b);const e=ji(a);a=a.children.map(e).flat();for(const h of a)h.parent=b}else b=a.children[0],(b instanceof vi||b instanceof Tc||b instanceof od||b instanceof kd)&&b.addDimensions(a.fields),b.swapWithParent(),Ri(a);else a.children.map(Ri)}
function aj(a){if(a instanceof ag&&a.type===Of.Main&&1===a.numChildren()){const b=a.children[0];b instanceof Kj||(b.swapWithParent(),aj(a))}}function Mj(a){for(const b of a){for(const e of b.children)if(e.parent!==b)return!1;if(!Mj(b.children))return!1}return!0}function Xh(a,b){let e=!1;for(const h of b)e=a.optimize(h)||e;return e}function Fj(a,b,e){let h=a.sources,m=!1;m=Xh(new zd,h)||m;m=Xh(new vc(b),h)||m;h=h.filter(A=>0<A.numChildren());m=Xh(new fe,h)||m;h=h.filter(A=>0<A.numChildren());e||(m=
Xh(new he,h)||m,m=Xh(new Ue(b),h)||m,m=Xh(new Oc,h)||m,m=Xh(new me,h)||m,m=Xh(new Qe,h)||m,m=Xh(new Ee,h)||m,m=Xh(new tb,h)||m,m=Xh(new Ug,h)||m);a.sources=h;return m}function pj(a){const b=a.component.scales;for(const Xa of je(b)){var e=a,h=Xa,m=e.getScaleComponent(h).get("type"),{encoding:A}=e;var O=e.scaleDomain(h);var ia=e.typedFieldDef(h),xa=e.config.scale;if("unaggregated"===O){const {valid:Eb,reason:Vb}=Al(ia,m);Eb||(za(Vb),O=void 0)}else void 0===O&&xa.useUnaggregatedDomain&&({valid:ia}=Al(ia,
m),ia&&(O="unaggregated"));O!==e.scaleDomain(h)&&(e.specifiedScales[h]=Object.assign({},e.specifiedScales[h],{domain:O}));e="x"===h&&ne(A.x2)?ne(A.x)?eg(Si(m,O,e,"x"),Si(m,O,e,"x2"),"domain","scale",cl):Si(m,O,e,"x2"):"y"===h&&ne(A.y2)?ne(A.y)?eg(Si(m,O,e,"y"),Si(m,O,e,"y2"),"domain","scale",cl):Si(m,O,e,"y2"):Si(m,O,e,h);b[Xa].setWithExplicit("domains",e);O=h=void 0;m=a.component.scales[Xa];ia=a.specifiedScales[Xa].domain;A=null==(O=a.fieldDef(Xa))?void 0:O.bin;O=(null==ia?void 0:ia.param)&&ia;A=
g.isObject(A)&&Za(A.extent)&&A.extent;(O||A)&&m.set("selectionExtent",null!=(h=O)?h:A,!0);if(a.component.data.isFaceted){for(h=a;!Rh(h)&&h.parent;)h=h.parent;if("shared"===h.component.resolve.scale[Xa])for(const Eb of e.value)Pd(Eb)&&(Eb.data="scale_"+Eb.data.replace("scale_",""))}}}function Nj(a){for(var b of a.children){var e=b;Ig(e)?pj(e):Nj(e)}e=a.component.scales;for(const m of je(e)){let A;b=null;for(const O of a.children){var h=O.component.scales[m];h&&(A=void 0===A?h.getWithExplicit("domains"):
eg(A,h.getWithExplicit("domains"),"domains","scale",cl),h=h.get("selectionExtent"),b&&h&&b.param!==h.param&&za("The same selection must be used to override scale domains in a layered view."),b=h)}e[m].setWithExplicit("domains",A);b&&e[m].set("selectionExtent",b,!0)}}function ok(a,b,e){return a.map(h=>({signal:`{data: ${jf(h,{timeUnit:e,type:b})}}`}))}function Oj(a,b,e){let h;e=null==(h=ae(e))?void 0:h.unit;return"temporal"===b||e?ok(a,b,e):[a]}function Si(a,b,e,h){var {encoding:m}=e;m=ne(m[h]);const {type:A}=
m,O=m.timeUnit;if(null==b?0:b.unionWith)return h=Si(a,void 0,e,h),b=Oj(b.unionWith,A,O),Hg([...b,...h.value]);if(Wb(b))return Hg([b]);if(b&&"unaggregated"!==b&&(null==b||!b.param))return Hg(Oj(b,A,O));var ia=e.stack;if(ia&&h===ia.fieldChannel){if("normalize"===ia.offset)return Wf([[0,1]]);b=e.requestDataName(Of.Main);return Wf([{data:b,field:e.vgField(h,{suffix:"start"})},{data:b,field:e.vgField(h,{suffix:"end"})}])}ia=li[h]&&ub(m)?zl(e,h,a):void 0;if(sc(m))return h=Oj([m.datum],A,O),Wf(h);if("unaggregated"===
b)return h=e.requestDataName(Of.Main),{field:b}=m,Wf([{data:h,field:wd({field:b,aggregate:"min"})},{data:h,field:wd({field:b,aggregate:"max"})}]);if(W(m.bin)){if(Sc(a))return"bin-ordinal"===a?Wf([]):Wf([{data:pb(ia)?e.requestDataName(Of.Main):e.requestDataName(Of.Raw),field:e.vgField(h,Gf(m,h)?{binSuffix:"range"}:{}),sort:!0!==ia&&g.isObject(ia)?ia:{field:e.vgField(h,{}),op:"min"}}]);({bin:b}=m);if(W(b)){const xa=He(e,m.field,b);return Wf([new ie(()=>{const Xa=e.getSignalName(xa);return`[${Xa}.start, ${Xa}.stop]`})])}return Wf([{data:e.requestDataName(Of.Main),
field:e.vgField(h,{})}])}return m.timeUnit&&Ab(["time","utc"],a)&&ja(m,Ig(e)?e.encoding[C(h)]:void 0,e.markDef,e.config)?(b=e.requestDataName(Of.Main),Wf([{data:b,field:e.vgField(h)},{data:b,field:e.vgField(h,{suffix:"end"})}])):ia?Wf([{data:pb(ia)?e.requestDataName(Of.Main):e.requestDataName(Of.Raw),field:e.vgField(h),sort:ia}]):Wf([{data:e.requestDataName(Of.Main),field:e.vgField(h)}])}function xk(a,b){const {op:e,field:h,order:m}=a;return Object.assign({},{op:null!=e?e:b?"sum":"min"},h?{field:ob(h)}:
{},m?{order:m}:{})}function zl(a,b,e){if(Sc(e)){var h=a.fieldDef(b);e=h.sort;if(ce(e))return{op:"min",field:ad(h,b),order:"ascending"};({stack:h}=a);var m=h?new Set([...h.groupbyFields,...h.stackBy.map(A=>A.fieldDef.field)]):void 0;if(Vd(e))return a=h&&!m.has(e.field),xk(e,a);if(null!=e&&e.encoding){const {encoding:A,order:O}=e;a=a.fieldDef(A);const {aggregate:ia,field:xa}=a;b=h&&!m.has(xa);if(K(ia)||ua(ia))return xk({field:wd(a),order:O},b);if(Ja(ia)||!ia)return xk({op:ia,field:xa,order:O},b)}else{if("descending"===
e)return{op:"min",field:a.vgField(b),order:"descending"};if(Ab(["ascending",void 0],e))return!0}}}function Al(a,b){const {aggregate:e,type:h}=a;return e?g.isString(e)&&!Ql.has(e)?{valid:!1,reason:`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}:"quantitative"===h&&"log"===b?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${p(a)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${p(a)}).`}}
function cl(a,b,e,h){if(a.explicit&&b.explicit){var m=b.value;e=`Conflicting ${h.toString()} property "${e.toString()}" (${p(a.value)} and ${p(m)}). Using the union of the two domains.`;za(e)}return{explicit:a.explicit,value:[...a.value,...b.value]}}function ah(a){var b=qb(a.map(m=>Pd(m)?(m=Object.assign({},m),delete m.sort,m):m),kc),e=qb(a.map(m=>{if(Pd(m))return m=m.sort,void 0===m||pb(m)||("op"in m&&"count"===m.op&&delete m.field,"ascending"===m.order&&delete m.order),m}).filter(m=>void 0!==m),
kc);if(0!==b.length){if(1===b.length){b=a[0];if(Pd(b)&&0<e.length){var h=e[0];1<e.length?(za("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),h=e.filter(m=>g.isObject(m)&&"op"in m&&"min"!==m.op),h=e.every(m=>g.isObject(m)&&"op"in m)&&1===h.length?h[0]:!0):g.isObject(h)&&"field"in h&&b.field===h.field&&(h=h.order?{order:h.order}:!0);return Object.assign({},b,{sort:h})}return b}e=qb(e.map(m=>{if(pb(m)||!("op"in m)||g.isString(m.op)&&m.op in hk)return m;za(`Dropping sort property ${p(m)} as unioned domains only support boolean or op "count", "min", and "max".`);
return!0}),kc);1===e.length?h=e[0]:1<e.length&&(za("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),h=!0);e=qb(a.map(m=>Pd(m)?m.data:null),m=>m);return 1===e.length&&null!==e[0]?Object.assign({},{data:e[0],fields:b.map(m=>m.field)},h?{sort:h}:{}):Object.assign({},{fields:b},h?{sort:h}:{})}}function Nk(a){if(Pd(a)&&g.isString(a.field))return a.field;var b=g.isArray(a)?!1:"fields"in a&&!("data"in a);if(b){let e;for(const h of a.fields)if(Pd(h)&&g.isString(h.field))if(!e)e=
h.field;else if(e!==h.field)return za("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),e;za("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return e}b=g.isArray(a)?
!1:"fields"in a&&"data"in a;if(b)return za("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),a=a.fields[0],g.isString(a)?a:void 0}function sj(a,b){b=a.component.scales[b].get("domains").map(e=>{Pd(e)&&(e.data=a.lookupDataSource(e.data));return e});return ah(b)}function Ok(a){return Vi(a)||$i(a)?a.children.reduce((b,e)=>b.concat(Ok(e)),Rj(a)):Rj(a)}function Rj(a){return je(a.component.scales).reduce((b,
e)=>{var h=a.component.scales[e];if(h.merged)return b;var m=h.combine(),A=Object.assign({},m);const O=m.name,ia=m.type;var xa=m.selectionExtent;const Xa=m.reverse;A=(delete A.name,delete A.type,delete A.selectionExtent,delete A.domains,delete A.range,delete A.reverse,A);m=m.range;U(e)?Rc(m)&&(m={step:{signal:`${O}_step`}}):g.isObject(m)&&Pd(m)&&(m=Object.assign({},m,{data:a.lookupDataSource(m.data)}));e=sj(a,e);xa?(xa=Ag(a,xa.param,xa),h={signal:fd(h.get("type"))&&g.isArray(e)&&e[0]>e[1]?`isValid(${xa}) && reverse(${xa})`:
xa}):h=null;b.push(Object.assign({},{name:O,type:ia},e?{domain:e}:{},h?{domainRaw:h}:{},{range:m},void 0!==Xa?{reverse:Xa}:{},A));return b},[])}function nl(a,b){var e=a.fieldDef(b);if(null==e?0:e.bin){const {bin:h,field:m}=e;e=B(b);const A=a.getName(e);if(g.isObject(h)&&h.binned&&void 0!==h.step)return new ie(()=>{var O=a.scaleName(b);O=`(domain("${O}")[1] - domain("${O}")[0]) / ${h.step}`;return`${a.getSignalName(A)} / (${O})`});if(W(h)){const O=He(a,m,h);return new ie(()=>{var ia=a.getSignalName(O);
ia=`(${ia}.stop - ${ia}.start) / ${ia}.step`;return`${a.getSignalName(A)} / (${ia})`})}}}function ol(a,b){const e=b.specifiedScales[a];var {size:h}=b,m=b.getScaleComponent(a).get("type");for(var A of kf)if(void 0!==e[A]){const xa=ee(m,A),Xa=Ra(a,A);if(xa)if(Xa)za(Xa);else switch(A){case "range":m=e.range;if(g.isArray(m)){if(U(a))return Hg(m.map(Eb=>{if("width"===Eb||"height"===Eb){Eb=b.getName(Eb);const Vb=b.getSignalName.bind(b);return ie.fromName(Vb,Eb)}return Eb}))}else if(g.isObject(m))return Hg({data:b.requestDataName(Of.Main),
field:m.field,sort:{op:"min",field:b.vgField(a)}});return Hg(m);case "scheme":return Hg(pk(e[A]))}else za(Ud(m,A,a))}A="x"===a||"xOffset"===a?"width":"height";h=h[A];if(lf(h))if(U(a))if(Sc(m)){if(h=$h(h,b,a))return Hg({step:h})}else za(Te(A));else if(a in Xi&&"band"===b.getScaleComponent("xOffset"===a?"x":"y").get("type")&&(h=jl(h,m)))return Hg(h);const {rangeMin:O,rangeMax:ia}=e;a=ui(a,b);return(void 0!==O||void 0!==ia)&&ee(m,"rangeMin")&&g.isArray(a)&&2===a.length?Hg([null!=O?O:a[0],null!=ia?ia:
a[1]]):Wf(a)}function pk(a){return!g.isString(a)&&a.name?Object.assign({},{scheme:a.name},oc(a,["name"])):{scheme:a}}function ui(a,b){const {size:e,config:h,mark:m,encoding:A}=b;var O=b.getSignalName.bind(b),{type:ia}=ne(A[a]);const xa=b.getScaleComponent(a).get("type"),{domain:Xa,domainMid:Eb}=b.specifiedScales[a];switch(a){case "x":case "y":if(Ab(["point","band"],xa)&&(ia=Pj(a,e,h.view),lf(ia)))return{step:$h(ia,b,a)};ia=B(a);ia=b.getName(ia);return"y"===a&&fd(xa)?[ie.fromName(O,ia),0]:[0,ie.fromName(O,
ia)];case "xOffset":case "yOffset":return Il(a,b,xa);case "size":return O=b.component.scales[a].get("zero"),O=qk(m,O,h),ia=rk(m,e,b,h),dh.has(xa)?og(O,ia,Gk(xa,h,Xa,a)):[O,ia];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new ie(()=>{const Vb=b.getSignalName("width"),Mc=b.getSignalName("height");return`min(${Vb},${Mc})/2`})];case "strokeWidth":return[h.scale.minStrokeWidth,h.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";
case "color":case "fill":case "stroke":return"ordinal"===xa?"nominal"===ia?"category":"ordinal":void 0!==Eb?"diverging":"rect"===m||"geoshape"===m?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[h.scale.minOpacity,h.scale.maxOpacity]}}function $h(a,b,e){var {encoding:h}=b,m=b.getScaleComponent(e);e=D(e);const A=h[e];if("offset"===wf({step:a,offsetIsDiscrete:Gc(A)&&Pc(A.type)})&&Bg(h,e)){h=b.getScaleComponent(e);b=`domain('${b.scaleName(e)}').length`;if("band"===h.get("type")){var O;
let Xa;e=null!=(Xa=null!=(O=h.get("paddingInner"))?O:h.get("padding"))?Xa:0;var ia;let Eb;O=null!=(Eb=null!=(ia=h.get("paddingOuter"))?ia:h.get("padding"))?Eb:0;b=`bandspace(${b}, ${e}, ${O})`}var xa;ia=null!=(xa=m.get("paddingInner"))?xa:m.get("padding");a=a.step;m=b;xa=ia;xa=Wb(xa)?xa.signal:g.stringValue(xa);return{signal:`${a} * ${m} / (1-${xa})`}}return a.step}function jl(a,b){if("offset"===wf({step:a,offsetIsDiscrete:Sc(b)}))return{step:a.step}}function Il(a,b,e){const h="xOffset"===a?"x":"y",
m=b.getScaleComponent(h).get("type"),A=b.scaleName(h);if("band"===m)return b=Pj(h,b.size,b.config.view),lf(b)&&(b=jl(b,e))?b:[0,{signal:`bandwidth('${A}')`}];e=b.encoding[h];return ub(e)&&e.timeUnit?(a=ff(e.timeUnit,O=>`scale('${A}', ${O})`),(e=b.config.scale.bandWithNestedOffsetPaddingInner)?(b=Wb(e)?`${e.signal}/2`:`${e/2}`,e=Wb(e)?`(1 - ${e.signal}/2)`:`${1-e/2}`,[{signal:`${b} * (${a})`},{signal:`${e} * (${a})`}]):[0,{signal:a}]):Gb(`Cannot use ${a} scale if ${h} scale is not discrete.`)}function Pj(a,
b,e){a="x"===a?"width":"height";return(b=b[a])?b:Af(e,a)}function Gk(a,b,e,h){switch(a){case "quantile":return b.scale.quantileCount;case "quantize":return b.scale.quantizeCount;case "threshold":if(void 0!==e&&g.isArray(e))return e.length+1;za(`Domain for ${h} is required for threshold scale.`);return 3}}function og(a,b,e){const h=()=>{const m=bc(b),A=bc(a),O=`(${m} - ${A}) / (${e} - 1)`;return`sequence(${A}, ${m} + ${O}, ${O})`};return Wb(b)?new ie(h):{signal:h()}}function qk(a,b,e){if(b)return Wb(b)?
{signal:`${b.signal} ? 0 : ${qk(a,!1,e)}`}:0;switch(a){case "bar":case "tick":return e.scale.minBandSize;case "line":case "trail":case "rule":return e.scale.minStrokeWidth;case "text":return e.scale.minFontSize;case "point":case "square":case "circle":return e.scale.minSize}throw Error(Zd("size",a));}function rk(a,b,e,h){e={x:nl(e,"x"),y:nl(e,"y")};switch(a){case "bar":case "tick":if(void 0!==h.scale.maxBandSize)return h.scale.maxBandSize;const m=Ei(b,e,h.view);return g.isNumber(m)?m-1:new ie(()=>
`${m.signal} - 1`);case "line":case "trail":case "rule":return h.scale.maxStrokeWidth;case "text":return h.scale.maxFontSize;case "point":case "square":case "circle":if(h.scale.maxSize)return h.scale.maxSize;const A=Ei(b,e,h.view);return g.isNumber(A)?Math.pow(.95*A,2):new ie(()=>`pow(${.95} * ${A.signal}, 2)`)}throw Error(Zd("size",a));}function Ei(a,b,e){const h=lf(a.width)?a.width.step:ig(e,"width"),m=lf(a.height)?a.height.step:ig(e,"height");return b.x||b.y?new ie(()=>`min(${[b.x?b.x.signal:h,
b.y?b.y.signal:m].join(", ")})`):Math.min(h,m)}function Fi(a,b){if(Ig(a)){const O=a.component.scales,{config:ia,encoding:xa,markDef:Xa,specifiedScales:Eb}=a;for(const Vb of je(O)){var e=Eb[Vb];const Mc=O[Vb];var h=a.getScaleComponent(Vb),m=ne(xa[Vb]),A=e[b];const xd=h.get("type"),Lc=h.get("padding");h=h.get("paddingInner");const nd=ee(xd,b),Hd=Ra(Vb,b);void 0!==A&&(nd?Hd&&za(Hd):za(Ud(xd,b,Vb)));if(nd&&void 0===Hd)if(void 0!==A)switch(A=m.timeUnit,m=m.type,b){case "domainMax":case "domainMin":Hb(e[b])||
"temporal"===m||A?Mc.set(b,{signal:jf(e[b],{type:m,timeUnit:A})},!0):Mc.set(b,e[b],!0);break;default:Mc.copyKeyFromObject(b,e)}else e=b in gf?gf[b]({model:a,channel:Vb,fieldOrDatumDef:m,scaleType:xd,scalePadding:Lc,scalePaddingInner:h,domain:e.domain,domainMin:e.domainMin,domainMax:e.domainMax,markDef:Xa,config:ia,hasNestedOffsetScale:hg(xa,Vb),hasSecondaryRangeChannel:!!xa[C(Vb)]}):ia.scale[b],void 0!==e&&Mc.set(b,e,!1)}}else qj(a,b)}function Gi(a){if(Ig(a)){const b=a.component.scales;for(const e of nk){const h=
b[e];if(!h)continue;const m=ol(e,a);h.setWithExplicit("range",m)}}else qj(a,"range")}function qj(a,b){const e=a.component.scales;for(var h of a.children)"range"===b?Gi(h):Fi(h,b);for(const m of je(e)){let A;for(const O of a.children)if(h=O.component.scales[m])h=h.getWithExplicit(b),A=eg(A,h,b,"scale",Df((ia,xa)=>{switch(b){case "range":if(ia.step&&xa.step)return ia.step-xa.step}return 0}));e[m].setWithExplicit(b,A)}}function Qj(a,b){const e=b.bin;if(W(e)){const h=He(a,b.field,e);return new ie(()=>
a.getSignalName(h))}if(Ca(e)&&g.isObject(e)&&void 0!==e.step)return{step:e.step}}function Ti(a,b,e,h,m){let A=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a){if(U(b)){const {bandPaddingInner:O,barBandPaddingInner:ia,rectBandPaddingInner:xa,bandWithNestedOffsetPaddingInner:Xa}=m;return A?Xa:la(O,"bar"===e?ia:xa)}if(b in Xi&&h===Vh.BAND)return m.offsetBandPaddingInner}}function Jl(a,b,e,h,m){let A=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a)if(U(b)){const {bandPaddingOuter:O,
bandWithNestedOffsetPaddingOuter:ia}=m;if(A)return ia;if(e===Vh.BAND)return la(O,Wb(h)?{signal:`${h.signal}/2`}:h/2)}else if(b in Xi){if(e===Vh.POINT)return.5;if(e===Vh.BAND)return m.offsetBandPaddingOuter}}function rj(a,b,e,h){const m=sk(b,e,h,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:A}=a;if(!li[b])return null;if(void 0!==A){if(!eb(b,A))return za(`Channel "${b}" does not work with "${A}" scale. We are using "${m}" scale instead.`),m;var O;if(O=ub(e))O=e.type,O=!(Ab(["ordinal",
"nominal"],O)?void 0===A||Sc(A):"temporal"===O?Ab([Vh.TIME,Vh.UTC,void 0],A):"quantitative"===O?yi.has(A)||dh.has(A)||void 0===A:1);return O?(za(`FieldDef does not work with "${A}" scale. We are using "${m}" scale instead.`),m):A}return m}function sk(a,b,e,h){switch(b.type){case "nominal":case "ordinal":if(P(a)||"discrete"===u(a))return"shape"===a&&"ordinal"===b.type&&za(de(a,"ordinal")),"ordinal";if(U(a)||a in Xi){if(Ab(["rect","bar","image","rule"],e.type)||h)return"band"}else if("arc"===e.type&&
a in Xj)return"band";a=e[B(a)];if(Vc(a))return"band";let m;return Kd(b)&&(null==(m=b.axis)?0:m.tickBand)?"band":"point";case "temporal":if(!P(a)){if("discrete"===u(a))return za(de(a,"temporal")),"ordinal";if(ub(b)&&b.timeUnit&&ae(b.timeUnit).utc)return"utc"}return"time";case "quantitative":if(P(a)){if(ub(b)&&W(b.bin))return"bin-ordinal"}else if("discrete"===u(a))return za(de(a,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${b.type}".`);}function tk(a){let {ignoreRange:b}=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Hi(a);Ig(a)?pj(a):Nj(a);for(const e of uj)Fi(a,e);b||Gi(a)}function Hi(a){if(Ig(a)){var b=a.component;const {encoding:xa,mark:Xa,markDef:Eb}=a;var e={};for(var h of nk){var m=ne(xa[h]);if(!m||Xa!==fj||"shape"!==h||"geojson"!==m.type){var A=m&&m.scale;if(h in Xi){var O=G(h);if(!hg(xa,O)){A&&za(`${h} encoding has no scale, so specified scale is ignored.`);continue}}m&&null!==A&&!1!==A&&(null!=A||(A={}),O=hg(xa,h),m=rj(A,h,m,Eb,O),e[h]=new We(a.scaleName(`${h}`,
!0),{value:m,explicit:A.type===m}))}}b.scales=e}else{h=a.component;A=a.component.scales={};m={};const xa=a.component.resolve;for(O of a.children){Hi(O);for(var ia of je(O.component.scales)){let Xa,Eb;null!=(Xa=xa.scale)[Eb=ia]||(Xa[Eb]=ed(ia,a));if("shared"===xa.scale[ia]){const Vb=m[ia],Mc=O.component.scales[ia].getWithExplicit("type");if(Vb){const xd=ak[Vb.value],Lc=ak[Mc.value];xd===Lc||"ordinal-position"===xd&&"time"===Lc||"ordinal-position"===Lc&&"time"===xd?m[ia]=eg(Vb,Mc,"type","scale",uf):
(xa.scale[ia]="independent",delete m[ia])}else m[ia]=Mc}}}for(b of je(m)){O=a.scaleName(b,!0);A[b]=new We(O,m[b]);for(e of a.children)if(ia=e.component.scales[b])e.renameScale(ia.get("name"),O),ia.merged=!0}h.scales=A}}function Ig(a){return"unit"===(null==a?void 0:a.type)}function Rh(a){return"facet"===(null==a?void 0:a.type)}function $i(a){return"concat"===(null==a?void 0:a.type)}function Vi(a){return"layer"===(null==a?void 0:a.type)}function Gj(a){function b(h,m){h instanceof d&&!(h.isGenerator||
"url"in h.data)&&(a.push(m),m={name:null,source:m.name,transform:[]});if(h instanceof nh)if(h.parent instanceof d&&!m.source){var A;m.format=Object.assign({},null!=(A=m.format)?A:{},{parse:h.assembleFormatParse()});m.transform.push(...h.assembleTransforms(!0))}else m.transform.push(...h.assembleTransforms());if(h instanceof Kj)m.name||(m.name=`data_${e++}`),!m.source||0<m.transform.length?(a.push(m),h.data=m.name):h.data=m.source,a.push(...h.assemble());else switch((h instanceof oj||h instanceof c||
h instanceof Dl||h instanceof ei||h instanceof gi||h instanceof El||h instanceof vi||h instanceof Fl||h instanceof od||h instanceof kd||h instanceof mm||h instanceof nm||h instanceof Xk||h instanceof om||h instanceof pm||h instanceof qm||h instanceof nj||h instanceof rm||h instanceof sm||h instanceof tm)&&m.transform.push(h.assemble()),(h instanceof Qi||h instanceof Zh||h instanceof Mk||h instanceof Tc||h instanceof il)&&m.transform.push(...h.assemble()),h instanceof ag&&(m.source&&0===m.transform.length?
h.setSource(m.source):h.parent instanceof ag?h.setSource(m.name):(m.name||(m.name=`data_${e++}`),h.setSource(m.name),1===h.numChildren()&&(a.push(m),m={name:null,source:m.name,transform:[]}))),h.numChildren()){case 0:h instanceof ag&&(!m.source||0<m.transform.length)&&a.push(m);break;case 1:b(h.children[0],m);break;default:m.name||(m.name=`data_${e++}`);A=m.name;!m.source||0<m.transform.length?a.push(m):A=m.source;for(const O of h.children)b(O,{name:null,source:A,transform:[]})}}let e=0;return b}
function Nl(a){const b=[],e=Gj(b);for(const h of a.children)e(h,{source:a.name,name:null,transform:[]});return b}function dl(a,b){const e=[];var h=Gj(e);let m=0;for(const A of a.sources){A.hasName()||(A.dataName=`source_${m++}`);const O=A.assemble();h(A,O)}for(const A of e)0===A.transform.length&&delete A.transform;h=0;for(const A of e.entries()){const [O,ia]=A;let xa;0!==(null!=(xa=ia.transform)?xa:[]).length||ia.source||e.splice(h++,0,e.splice(O,1)[0])}for(const A of e){let O;for(const ia of null!=
(O=A.transform)?O:[])"lookup"===ia.type&&(ia.from=a.outputNodes[ia.from].getSource())}for(const A of e)A.name in b&&(A.values=b[A.name]);return e}function Hk(a,b,e){b="row"===b?"height":"width";return{labels:e,sizeSignal:a.child.component.layoutSize.get(b)?a.child.getSizeSignalRef(b):void 0,axes:[]}}function Hj(a,b){var {child:e}=a;if(e.component.axes[b]){const {layoutHeaders:h,resolve:m}=a.component;m.axis[b]=mc(m,b);if("shared"===m.axis[b]){const A="x"===b?"column":"row",O=h[A];for(const ia of e.component.axes[b]){b=
ia.get("orient");b="top"===b||"left"===b||Wb(b)?"header":"footer";let xa,Xa;null!=(xa=O)[Xa=b]||(xa[Xa]=[Hk(a,A,!1)]);(e=ti(ia,"main",a.config,{header:!0}))&&O[b][0].axes.push(e);ia.mainExtracted=!0}}}}function Ij(a){for(const b of a.children)b.parseLayoutSize()}function Yj(a,b){const e=Kc(b),h=Aa(e),m=a.component.resolve,A=a.component.layoutSize;let O;for(const ia of a.children){const xa=ia.component.layoutSize.getWithExplicit(e);let Xa;const Eb=null!=(Xa=m.scale[h])?Xa:ed(h,a);if("independent"===
Eb&&"step"===xa.value){O=void 0;break}if(O){if("independent"===Eb&&O.value!==xa.value){O=void 0;break}O=eg(O,xa,e,"")}else O=xa}if(O){for(const ia of a.children)a.renameSignal(ia.getName(e),a.getName(b)),ia.component.layoutSize.set(e,"merged",!1);A.setWithExplicit(b,O)}else A.setWithExplicit(b,{explicit:!1,value:void 0})}function bm(a,b){const e=a.config;var h=a.getScaleComponent("width"===b?"x":"y");if(h)return a=h.get("type"),h=h.get("range"),Sc(a)?(b=Af(e.view,b),Rc(h)||lf(b)?"step":b):vg(e.view,
b);if(a.hasProjection||"arc"===a.mark)return vg(e.view,b);b=Af(e.view,b);return lf(b)?b.step:b}function Sk(a,b,e){return wd(b,Object.assign({},{suffix:`by_${wd(a)}`},null!=e?e:{}))}function Bl(a,b){for(const h of b){b=h.data;if(a.name&&h.hasName()&&a.name!==h.dataName)continue;let m;const A=null==(m=a.format)?void 0:m.mesh;let O;var e=null==(O=b.format)?void 0:O.feature;if(A&&e)continue;let ia;const xa=null==(ia=a.format)?void 0:ia.feature;if((xa||e)&&xa!==e)continue;let Xa;e=null==(Xa=b.format)?
void 0:Xa.mesh;if(!A&&!e||A===e)if("values"in a&&"values"in b){if(ma(a.values,b.values))return h}else if("url"in a&&"url"in b){if(a.url===b.url)return h}else if(Xf(a)&&a.name===h.dataName)return h}return null}function Rk(a,b){if(a.data||!a.parent){if(null===a.data)return a=new d({values:[]}),b.push(a),a;const e=Bl(a.data,b);if(e)return R(a.data)||(e.data.format=Va({},a.data.format,e.data.format)),!e.hasName()&&a.data.name&&(e.dataName=a.data.name),e;a=new d(a.data);b.push(a);return a}return a.parent.component.data.facetRoot?
a.parent.component.data.facetRoot:a.parent.component.data.main}function Ik(a){var b=Rk(a,a.component.data.sources);const {outputNodes:e,outputNodeRefCounts:h}=a.component.data;var m=a.data;const A=m&&(R(m)||"url"in m||"values"in m)||!a.parent?new Ch:a.parent.component.data.ancestorParse.clone();if(R(m))"sequence"in m?b=new c(b,m.sequence):"graticule"in m&&(b=new oj(b,m.graticule)),A.parseNothing=!0;else{let ze;null===(null==m?void 0:null==(ze=m.format)?void 0:ze.parse)&&(A.parseNothing=!0)}var O;
b=null!=(O=nh.makeExplicit(b,a,A))?O:b;b=new nj(b);m=a.parent&&Vi(a.parent);if((Ig(a)||Rh(a))&&m){var ia;b=null!=(ia=Qi.makeFromEncoding(b,a))?ia:b}if(0<a.transforms.length){ia=0;for(var xa of a.transforms){var Xa=O=void 0;if("calculate"in xa)Xa=b=new gi(b,xa),O="derived";else if("filter"in xa){Xa=mg(xa);var Eb=void 0;Xa=b=null!=(Eb=nh.makeWithAncestors(b,{},Xa,A))?Eb:b;b=new ei(b,a,xa.filter)}else if("bin"in xa)Xa=b=Qi.makeFromTransform(b,xa,a),O="number";else if("timeUnit"in xa)O="date",void 0===
A.getWithExplicit(xa.field).value&&(b=new nh(b,{[xa.field]:O}),A.set(xa.field,O,!1)),Xa=b=Zh.makeFromTransform(b,xa);else if("aggregate"in xa)Xa=b=vi.makeFromTransform(b,xa),O="number",sg(a)&&(b=new nj(b));else if("lookup"in xa)Xa=b=Fl.make(b,a,xa,ia++),O="derived";else if("window"in xa)Xa=b=new od(b,xa),O="number";else if("joinaggregate"in xa)Xa=b=new kd(b,xa),O="number";else if("stack"in xa)Xa=b=Tc.makeFromTransform(b,xa),O="derived";else if("fold"in xa)Xa=b=new mm(b,xa),O="derived";else if("extent"in
xa&&!("density"in xa))Xa=b=new tm(b,xa),O="derived";else if("flatten"in xa)Xa=b=new nm(b,xa),O="derived";else if("pivot"in xa)Xa=b=new sm(b,xa),O="derived";else if("sample"in xa)b=new rm(b,xa);else if("impute"in xa)Xa=b=Mk.makeFromTransform(b,xa),O="derived";else if("density"in xa)Xa=b=new Xk(b,xa),O="derived";else if("quantile"in xa)Xa=b=new pm(b,xa),O="derived";else if("regression"in xa)Xa=b=new qm(b,xa),O="derived";else if("loess"in xa)Xa=b=new om(b,xa),O="derived";else{za(`Ignoring an invalid transform: ${p(xa)}.`);
continue}if(Xa&&void 0!==O){let ze;for(const Ff of null!=(ze=Xa.producedFields())?ze:[])A.set(Ff,O,!1)}}}xa={};if(Ig(a)&&a.component.selection)for(var Vb of je(a.component.selection)){Eb=a.component.selection[Vb];for(const ze of Eb.project.items)!ze.channel&&1<nb(ze.field)&&(xa[ze.field]="flatten")}Vb=Ng(a);var Mc;b=null!=(Mc=nh.makeWithAncestors(b,{},Object.assign({},xa,Vb),A))?Mc:b;Ig(a)&&(b=il.parseAll(b,a),b=El.parseAll(b,a));if(Ig(a)||Rh(a)){if(!m){let ze;b=null!=(ze=Qi.makeFromEncoding(b,a))?
ze:b}var xd;b=null!=(xd=Zh.makeFromEncoding(b,a))?xd:b;b=gi.parseAllForSortIndex(b,a)}xd=a.getDataName(Of.Raw);Mc=new ag(b,xd,Of.Raw,h);b=e[xd]=Mc;if(Ig(a)){if(xd=vi.makeFromEncoding(b,a))b=xd,sg(a)&&(b=new nj(b));var Lc;b=null!=(Lc=Mk.makeFromEncoding(b,a))?Lc:b;var nd;b=null!=(nd=Tc.makeFromEncoding(b,a))?nd:b}if(Ig(a)){let ze;b=null!=(ze=Dl.make(b,a))?ze:b}nd=a.getDataName(Of.Main);Lc=new ag(b,nd,Of.Main,h);b=e[nd]=Lc;if(Ig(a)){var Hd;for(var Od of Ui(null!=(Hd=a.component.selection)?Hd:{})){const [ze,
Ff]=Od;Hd=a.getName(`lookup_${ze}`);a.component.data.outputNodes[Hd]=Ff.materialized=new ag(new ei(Lc,a,{param:ze}),Hd,Of.Lookup,a.component.data.outputNodeRefCounts)}}Hd=null;if(Rh(a)){Od=a.getName("facet");let ze;{Hd=b;const {row:Ff,column:cg}=a.facet;if(Ff&&cg){nd=null;for(Ye of[Ff,cg])if(Vd(Ye.sort)){const {field:yg,op:Dh="min"}=Ye.sort;Hd=nd=new kd(Hd,{joinaggregate:[{op:Dh,field:yg,as:Sk(Ye,Ye.sort,{forAs:!0})}],groupby:[wd(Ye)]})}var Ye=nd}else Ye=null}b=null!=(ze=Ye)?ze:b;Hd=new Kj(b,a,Od,
Lc.getSource());e[Od]=Hd}return Object.assign({},a.component.data,{outputNodes:e,outputNodeRefCounts:h,raw:Mc,main:Lc,facetRoot:Hd,ancestorParse:A})}function Ml(a,b,e){const {encoding:h,config:m}=a;let A;const O=null!=(A=ne(h[b]))?A:ne(h[C(b)]);a=a.axis(b)||{};const {format:ia,formatType:xa}=a;if(we(xa))return Object.assign({},{text:bf({fieldOrDatumDef:O,field:"datum.value",format:ia,formatType:xa,config:m})},e);if(void 0===ia&&void 0===xa&&m.customFormatTypes){if("quantitative"===qc(O)){if(Kd(O)&&
"normalize"===O.stack&&m.normalizedNumberFormatType)return Object.assign({},{text:bf({fieldOrDatumDef:O,field:"datum.value",format:m.normalizedNumberFormat,formatType:m.normalizedNumberFormatType,config:m})},e);if(m.numberFormatType)return Object.assign({},{text:bf({fieldOrDatumDef:O,field:"datum.value",format:m.numberFormat,formatType:m.numberFormatType,config:m})},e)}if("temporal"===qc(O)&&m.timeFormatType&&ub(O)&&!O.timeUnit)return Object.assign({},{text:bf({fieldOrDatumDef:O,field:"datum.value",
format:m.timeFormat,formatType:m.timeFormatType,config:m})},e)}return e}function cm(a){return Mh.reduce((b,e)=>{a.component.scales[e]&&(b[e]=[em(e,a)]);return b},{})}function Ol(a,b){if(a){if(a.length!==b.length)return;const e=a.length;for(let h=0;h<e;h++){const m=a[h],A=b[h];if(!!m!==!!A)return;if(m&&A){const O=m.getWithExplicit("orient"),ia=A.getWithExplicit("orient");if(O.explicit&&ia.explicit&&O.value!==ia.value)return;a[h]=dm(m,A)}}}else return b.map(e=>e.clone());return a}function dm(a,b){for(const e of ym){const h=
eg(a.getWithExplicit(e),b.getWithExplicit(e),e,"axis",(m,A)=>{switch(e){case "title":return ra(m,A);case "gridScale":return{explicit:m.explicit,value:la(m.value,A.value)}}return Kh(m,A,e,"axis")});a.setWithExplicit(e,h)}return a}function tl(a,b,e,h,m){if("disable"===b)return void 0!==e;e=e||{};switch(b){case "titleAngle":case "labelAngle":return a===(Wb(e.labelAngle)?e.labelAngle:cb(e.labelAngle));case "values":return!!e.values;case "encode":return!!e.encoding||!!e.labelAngle;case "title":if(a===
Sd(h,m))return!0}return a===e[b]}function em(a,b){let e=b.axis(a);const h=new zm;var m=ne(b.encoding[a]);const {mark:A,config:O}=b;var ia,xa,Xa,Eb=(null==(ia=e)?void 0:ia.orient)||(null==(xa=O["x"===a?"axisX":"axisY"])?void 0:xa.orient)||(null==(Xa=O.axis)?void 0:Xa.orient)||("x"===a?"bottom":"left");xa=b.getScaleComponent(a).get("type");ia=Ma(a,xa,Eb,b.config);var Vb;Xa=void 0!==e?!e:Cb("disable",O.style,null==(Vb=e)?void 0:Vb.style,ia).configValue;h.set("disable",Xa,void 0!==e);if(Xa)return h;e=
e||{};Vb=Rb(m,e,a,O.style,ia);Xa=Dc(e.formatType,m,xa);const Mc=md(m,m.type,e.format,e.formatType,O,!0);m={fieldOrDatumDef:m,axis:e,channel:a,model:b,scaleType:xa,orient:Eb,labelAngle:Vb,format:Mc,formatType:Xa,mark:A,config:O};for(const nd of ym)if(Eb=nd in lk?lk[nd](m):yk[nd]?e[nd]:void 0,xa=void 0!==Eb,Vb=tl(Eb,nd,e,b,a),xa&&Vb)h.set(nd,Eb,Vb);else{const {configValue:Hd,configFrom:Od}=yk[nd]&&"values"!==nd?Cb(nd,O.style,e.style,ia):{};Xa=void 0!==Hd;xa&&!Xa?h.set(nd,Eb,Vb):("vgAxisConfig"!==Od||
Fm.has(nd)&&Xa||If(Hd)||Wb(Hd))&&h.set(nd,Hd,!1)}var xd;const Lc=null!=(xd=e.encoding)?xd:{};xd=wj.reduce((nd,Hd)=>{if(!h.hasAxisPart(Hd))return nd;var Od;const Ye=Dd(null!=(Od=Lc[Hd])?Od:{},b);Od="labels"===Hd?Ml(b,a,Ye):Ye;void 0===Od||Ua(Od)||(nd[Hd]={update:Od});return nd},{});Ua(xd)||h.set("encode",xd,!!e.encoding||void 0!==e.labelAngle);return h}function fm(a){let {encoding:b,size:e}=a;for(const h of Mh)a=B(h),lf(e[a])&&tc(b[h])&&(delete e[a],za(Te(a)));return e}function Pk(a,b){var e=Object,
h=e.assign,m=of(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),A=ve("x",a,{defaultPos:"mid"}),O=ve("y",a,{defaultPos:"mid"}),ia=pd("size",a),xa=pd("angle",a);a=b?{shape:{value:b}}:pd("shape",a);return h.call(e,{},m,A,O,ia,xa,a)}function gm(a){if(Ab([Ai,ej,ni],a.mark)){var b=bb(a.mark,a.encoding);if(0<b.length)return Ll(a,b)}else if(a.mark===Nh&&(b=ik.some(e=>zc(e,a.markDef,a.config)),a.stack&&!a.fieldDef("size")&&b))return hm(a);return el(a)}function Ll(a,
b){return[{name:a.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+a.requestDataName(Of.Main),data:a.requestDataName(Of.Main),groupby:b}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:el(a,{fromPrefix:"faceted_path_"})}]}function hm(a){const [b]=el(a,{fromPrefix:"stack_group_"}),e=a.scaleName(a.stack.fieldChannel),h=function(){return a.vgField(a.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var m=(Xa,Eb)=>
{Eb=[h({prefix:"min",suffix:"start",expr:Eb}),h({prefix:"max",suffix:"start",expr:Eb}),h({prefix:"min",suffix:"end",expr:Eb}),h({prefix:"max",suffix:"end",expr:Eb})];return`${Xa}(${Eb.map(Vb=>`scale('${e}',${Vb})`).join(",")})`};let A;"x"===a.stack.fieldChannel?(m=Object.assign({},$b(b.encode.update,["y","yc","y2","height",...ik]),{x:{signal:m("min","datum")},x2:{signal:m("max","datum")},clip:{value:!0}}),A={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},b.encode.update=Object.assign({},
oc(b.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(m=Object.assign({},$b(b.encode.update,["x","xc","x2","width"]),{y:{signal:m("min","datum")},y2:{signal:m("max","datum")},clip:{value:!0}}),A={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},b.encode.update=Object.assign({},oc(b.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var O of ik){var ia=Yc(O,a.markDef,a.config);b.encode.update[O]?(m[O]=b.encode.update[O],delete b.encode.update[O]):ia&&
(m[O]=Sb(ia));ia&&(b.encode.update[O]={value:0})}O=[];var xa;if(0<(null==(xa=a.stack.groupbyChannels)?void 0:xa.length))for(const Xa of a.stack.groupbyChannels){xa=a.fieldDef(Xa);(ia=wd(xa))&&O.push(ia);let Eb,Vb;((null==(Eb=xa)?0:Eb.bin)||(null==(Vb=xa)?0:Vb.timeUnit))&&O.push(wd(xa,{binSuffix:"end"}))}m="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((Xa,Eb)=>{if(b.encode.update[Eb])return Object.assign({},Xa,{[Eb]:b.encode.update[Eb]});
const Vb=Yc(Eb,a.markDef,a.config);return void 0!==Vb?Object.assign({},Xa,{[Eb]:Sb(Vb)}):Xa},m);m.stroke&&(m.strokeForeground={value:!0},m.strokeOffset={value:0});return[{type:"group",from:{facet:{data:a.requestDataName(Of.Main),name:"stack_group_"+a.requestDataName(Of.Main),groupby:O,aggregate:{fields:[h({suffix:"start"}),h({suffix:"start"}),h({suffix:"end"}),h({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:m},marks:[{type:"group",encode:{update:A},marks:[b]}]}]}function sl(a){const {encoding:b,
stack:e,mark:h,markDef:m,config:A}=a;var O=b.order;if(!(!g.isArray(O)&&yd(O)&&yc(O.value)||!O&&yc(zc("order",m,A)))){if((g.isArray(O)||ub(O))&&!e)return Ga(O,{expr:"datum"});if(pc(h)){const ia="horizontal"===m.orient?"y":"x",xa=b[ia];if(ub(xa)){O=xa.sort;if(g.isArray(O))return{field:wd(xa,{prefix:ia,suffix:"sort_index",expr:"datum"})};if(Vd(O))return{field:wd({aggregate:vf(a.encoding)?O.op:void 0,field:O.field},{expr:"datum"})};if(null!=O&&O.encoding)return a=a.fieldDef(O.encoding),{field:wd(a,{expr:"datum"}),
order:O.order};if(null!==O){let Xa;return{field:wd(xa,{binSuffix:(null==(Xa=a.stack)?0:Xa.impute)?"mid":void 0,expr:"datum"})}}}}}}function el(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:e,markDef:h,encoding:m,config:A}=a;var O=h.clip;var ia=a.getScaleComponent("x");var xa=a.getScaleComponent("y");ia=(null==ia?0:ia.get("selectionExtent"))||(null==xa?0:xa.get("selectionExtent"))?!0:void 0;xa=a.component.projection;O=la(O,ia,xa&&!xa.isFit?!0:void 0);ia=
Hc(h);xa=m.key;const Xa=sl(a);var Eb;if(a.component.selection){for(var Vb=Eb=je(a.component.selection).length,Mc=a.parent;Mc&&0===Vb;)Vb=je(Mc.component.selection).length,Mc=Mc.parent;Eb=Vb?{interactive:0<Eb||"geoshape"===a.mark||!!a.encoding.tooltip}:null}else Eb=null;Vb=zc("aria",h,A);Mc=Gl[e].postEncodingTransform?Gl[e].postEncodingTransform(a):null;return[Object.assign({},{name:a.getName("marks"),type:Gl[e].vgMark},O?{clip:!0}:{},ia?{style:ia}:{},xa?{key:xa.field}:{},Xa?{sort:Xa}:{},Eb?Eb:{},
!1===Vb?{aria:Vb}:{},{from:{data:b.fromPrefix+a.requestDataName(Of.Main)},encode:{update:Gl[e].encodeEntry(a)}},Mc?{transform:Mc}:{})]}function Tk(a,b,e,h,m){if("facet"in a)return new Hl(a,b,e,m);if("layer"in a)return new Am(a,b,e,h,m);if(xf(a))return new Bm(a,b,e,h,m);if("vconcat"in a||"hconcat"in a||"concat"in a)return new Gm(a,b,e,m);throw Error($a(a));}function im(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let h=3<arguments.length?arguments[3]:void 0;const m=a.config?
wg(a.config):void 0;e=[].concat(a.assembleSelectionData([]),dl(a.component.data,e));const A=a.assembleProjections(),O=a.assembleTitle(),ia=a.assembleGroupStyle(),xa=a.assembleGroupEncodeEntry(!0);let Xa=a.assembleLayoutSignals();Xa=Xa.filter(Mc=>"width"!==Mc.name&&"height"!==Mc.name||void 0===Mc.value?!0:(b[Mc.name]=+Mc.value,!1));var Eb=Object.assign({},b);const Vb=b.params;Eb=(delete Eb.params,Eb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},a.description?{description:a.description}:
{},Eb,O?{title:O}:{},ia?{style:ia}:{},xa?{encode:{update:xa}}:{},{data:e},0<A.length?{projections:A}:{},a.assembleGroup([...Xa,...a.assembleSelectionTopLevelSignals([]),...Kf(Vb)]),m?{config:m}:{},h?{usermeta:h}:{})}const tf=structuredClone;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>p(a)).join(",")})`};const je=Object.keys,xh=Object.values,Ui=Object.entries;let vk=42;const Jj=Object.getPrototypeOf(structuredClone({})),Vk={theta:1,theta2:1,radius:1,radius2:1},Sj={longitude:1,longitude2:1,
latitude:1,latitude2:1},pl=je(Sj),uk=Object.assign({},{x:1,y:1,x2:1,y2:1},Vk,Sj,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),bj={row:1,column:1,facet:1},ai=je(bj),Wi=Object.assign({},uk,bj),Tj=je(Wi);var Zj=Object.assign({},Wi),fl=(delete Zj.order,delete Zj.detail,delete Zj.tooltip,Zj),mk=Object.assign({},fl);const Cl=(delete mk.row,delete mk.column,
delete mk.facet,mk),ki="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),Pl=je(uk);var ch=Object.assign({},uk);const Wj=(delete ch.x,delete ch.y,delete ch.x2,delete ch.y2,delete ch.xOffset,delete ch.yOffset,delete ch.latitude,delete ch.longitude,delete ch.latitude2,delete ch.longitude2,delete ch.theta,delete ch.theta2,delete ch.radius,delete ch.radius2,ch),Vj=je(Wj),Uj={x:1,y:1},Mh=je(Uj),Xj={theta:1,radius:1},ql=je(Xj),Xi={xOffset:1,yOffset:1};var wi=Object.assign({},Wj);const Uk=(delete wi.text,
delete wi.tooltip,delete wi.href,delete wi.url,delete wi.description,delete wi.detail,delete wi.key,delete wi.order,wi),rl=je(Uk),li=Object.assign({},Uj,Xj,Xi,Uk),nk=je(li),Jk={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Kk=Object.assign({},Jk);const jm=(delete Kk.geoshape,Kk),km={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,
max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},hk={count:1,min:1,max:1},Kl=new Set(["count","valid","missing","distinct"]),wk=new Set(["count","sum","distinct","valid","missing"]),Ql=new Set("mean average median q1 q3 min max".split(" ")),Rl=je({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,
strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Yk={arc:1,
area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},ik=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Ek=g.logger(g.Warn);let Fk=Ek;const gl="january february march april may june july august september october november december".split(" "),Zl=gl.map(a=>a.substr(0,3)),mj="sunday monday tuesday wednesday thursday friday saturday".split(" "),xi=mj.map(a=>a.substr(0,3)),tj={year:1,quarter:1,month:1,week:1,
day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},mi=je(tj),Qk={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Xl={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Vh={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},ak={linear:"numeric",log:"numeric",
pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},cj={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},yi=new Set(["linear","log","pow","sqrt","symlog"]),zg=new Set([...yi,
"time","utc"]),dh=new Set(["quantile","quantize","threshold"]),dj=new Set([...zg,...dh,"sequential","identity"]),Ii=new Set(["ordinal","bin-ordinal","point","band"]);var zi=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const Wk=(delete zi.type,delete zi.domain,delete zi.range,delete zi.rangeMax,
delete zi.rangeMin,delete zi.scheme,zi),uj=je(Wk),eh={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},bk=eh.arc,ej=eh.area,Nh=eh.bar,bi=eh.image,Ai=eh.line,ci=eh.point,Ji=eh.rect,Hh=eh.rule,Sh=eh.text,Eg=eh.tick,ni=eh.trail,Zk=eh.circle,vj=eh.square,fj=eh.geoshape,Yi=new Set(je(eh)),ck="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),
Zi=je({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Ki=je({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),ul={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},dk={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},ij=(a,b)=>{switch(b.fieldTitle){case "plain":return a.field;
case "functional":{const {aggregate:e,bin:h,timeUnit:m,field:A}=a;ua(e)?a=`${A} for argmax(${e.argmax})`:K(e)?a=`${A} for argmin(${e.argmin})`:(a=m&&!Nc(m)?ae(m):void 0,a=(a=e||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||W(h)&&"bin")?`${a.toUpperCase()}(${A})`:A)}return a;default:return Ld(a,b)}};let Bj=ij;const Bi={compatible:!0},pi={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",
vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},
tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},wj=["domain","grid","labels","ticks","title"],ek={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",
domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",
minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",
titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Rg={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,
labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,
titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},yk=Object.assign({},Rg,{style:1,labelExpr:1,encoding:1}),fk=je({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class zj{constructor(a,
b){this.name=a;this.run=b}hasMatchingType(a){return xf(a)?(a=a.mark,(Jc(a)?a.type:a)===this.name):!1}}const hj=new zj("boxplot",$f),ug=new zj("errorbar",Tf),ih=new zj("errorband",Og),hh={};Yg("boxplot",$f,["box","median","outliers","rule","ticks"]);Yg("errorbar",Tf,["ticks","rule"]);Yg("errorband",Og,["band","borders"]);const Ak=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],xj={titleAlign:"align",titleAnchor:"anchor",
titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},yj={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",
labelOrient:"orient",labelPadding:"offset"},lm=je(xj),zk=je(yj),vl=je({header:1,headerRow:1,headerColumn:1,headerFacet:1}),wl="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Sl=je({align:1,bounds:1,center:1,columns:1,spacing:1}),Tl={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,
minBandSize:.25,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,
bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",
resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},Ni="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Oh={text:11,guideLabel:10,guideTitle:11,
groupTitle:13,groupSubtitle:12},Bk={blue:Ni[0],orange:Ni[1],red:Ni[2],teal:Ni[3],green:Ni[4],yellow:Ni[5],purple:Ni[6],pink:Ni[7],brown:Ni[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Vl=[...Ki,...fk,...vl,"background","padding","legend","lineBreak","scale","style","title","view"],xl=new Set(["view",...Yi]),Ul="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Wl=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});class Cj{map(a,b){return"facet"in a?this.mapFacet(a,b):"repeat"in a?this.mapRepeat(a,b):"hconcat"in a?this.mapHConcat(a,b):"vconcat"in a?this.mapVConcat(a,b):"concat"in a?this.mapConcat(a,
b):this.mapLayerOrUnit(a,b)}mapLayerOrUnit(a,b){if("layer"in a)return this.mapLayer(a,b);if(xf(a))return this.mapUnit(a,b);throw Error($a(a));}mapLayer(a,b){return Object.assign({},a,{layer:a.layer.map(e=>this.mapLayerOrUnit(e,b))})}mapHConcat(a,b){return Object.assign({},a,{hconcat:a.hconcat.map(e=>this.map(e,b))})}mapVConcat(a,b){return Object.assign({},a,{vconcat:a.vconcat.map(e=>this.map(e,b))})}mapConcat(a,b){var e=Object.assign({},a);a=a.concat;e=(delete e.concat,e);return Object.assign({},
e,{concat:a.map(h=>this.map(h,b))})}mapFacet(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}mapRepeat(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}}const Lh={zero:1,center:1,normalize:1},Yl=new Set([bk,Nh,ej,Hh,ci,Zk,vj,Ai,Sh,Eg]),Ne=new Set([Nh,ej,bk]);class yl{constructor(){F(this,"name","path-overlay")}hasMatchingType(a,b){if(xf(a)){const {mark:e,encoding:h}=a;a=Jc(e)?e:{type:e};switch(a.type){case "line":case "rule":case "trail":return!!Tg(a,b[a.type],h);case "area":return!!Tg(a,
b[a.type],h)||!!kh(a,b[a.type])}}return!1}run(a,b,e){var {config:h}=b,m=Object.assign({},a),A=a.params,O=a.projection,ia=a.mark,xa=a.name;a=a.encoding;m=(delete m.params,delete m.projection,delete m.mark,delete m.name,delete m.encoding,m);a=Fg(a,h);ia=Jc(ia)?ia:{type:ia};const Xa=Tg(ia,h[ia.type],a),Eb="area"===ia.type&&kh(ia,h[ia.type]);var Vb=Object,Mc=Vb.assign;var xd=Object.assign({},"area"===ia.type&&void 0===ia.opacity&&void 0===ia.fillOpacity?{opacity:.7}:{},ia);xd=Object.assign({},xd);xd=
(delete xd.point,delete xd.line,xd);xd=1<je(xd).length?xd:xd.type;A=[Mc.call(Vb,{},{name:xa},A?{params:A}:{},{mark:xd,encoding:oc(a,["shape"])})];xa=Vg(rh(ia,a,h),a);Vb=a;if(xa){const {fieldChannel:Lc,offset:nd}=xa;Vb=Object.assign({},a,{[Lc]:Object.assign({},a[Lc],nd?{stack:nd}:{})})}Vb=oc(Vb,["y2","x2"]);Eb&&A.push(Object.assign({},O?{projection:O}:{},{mark:Object.assign({},{type:"line"},$b(ia,["clip","interpolate","tension","tooltip"]),Eb),encoding:Vb}));Xa&&A.push(Object.assign({},O?{projection:O}:
{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},$b(ia,["clip","tooltip"]),Xa),encoding:Vb}));O=Object.assign({},m,{layer:A});m=Object;A=m.assign;for(const Lc of["line","area","rule","trail"])h[Lc]&&(h=Object.assign({},h,{[Lc]:oc(h[Lc],["point","line"])}));return e(O,A.call(m,{},b,{config:h}))}}class Bh{constructor(){F(this,"name","RuleForRangedLine")}hasMatchingType(a){if(xf(a)){const {encoding:b,mark:e}=a;if("line"===e||Jc(e)&&"line"===e.type)for(const h of ki)if(a=v(h),a=b[a],b[h]&&
(ub(a)&&!Ca(a.bin)||sc(a)))return!0}return!1}run(a,b,e){const {encoding:h,mark:m}=a;var A=!!h.x2;za(`Line mark is for continuous lines and thus cannot be used with ${A&&h.y2?"x2 and y2":A?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return e(Object.assign({},a,{mark:g.isObject(m)?Object.assign({},m,{type:"rule"}):"rule"}),b)}}class si extends Cj{constructor(){super(...arguments);F(this,"nonFacetUnitNormalizers",[hj,ug,ih,new yl,new Bh])}map(a,b){if(xf(a)){const e=yf(a.encoding,
"row"),h=yf(a.encoding,"column"),m=yf(a.encoding,"facet");if(e||h||m)return this.mapFacetedUnit(a,b)}return super.map(a,b)}mapUnit(a,b){const {parentEncoding:e,parentProjection:h}=b;var m=ri(a.encoding,b.repeater);a=Object.assign({},a,a.name?{name:[b.repeaterPrefix,a.name].filter(A=>A).join("_")}:{},m?{encoding:m}:{});if(e||h)return this.mapUnitWithParentEncodingOrProjection(a,b);m=this.mapLayerOrUnit.bind(this);for(const A of this.nonFacetUnitNormalizers)if(A.hasMatchingType(a,b.config))return A.run(a,
b,m);return a}mapRepeat(a,b){return!g.isArray(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,b):this.mapNonLayerRepeat(a,b)}mapLayerRepeat(a,b){var e=Object.assign({},a);const h=a.repeat,m=a.spec;e=(delete e.repeat,delete e.spec,e);const {row:A,column:O,layer:ia}=h,{repeater:xa={},repeaterPrefix:Xa=""}=b;return A||O?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},A?{row:A}:{},O?{column:O}:{}),spec:{repeat:{layer:ia},spec:m}}),b):Object.assign({},e,{layer:ia.map(Eb=>{var Vb=Object.assign({},
xa,{layer:Eb});Eb=`${(m.name?`${m.name}_`:"")+Xa}child__layer_${Oa(Eb)}`;Vb=this.mapLayerOrUnit(m,Object.assign({},b,{repeater:Vb,repeaterPrefix:Eb}));Vb.name=Eb;return Vb})})}mapNonLayerRepeat(a,b){var e=a,h=Object.assign({},e);const m=e.repeat,A=e.spec;e=e.data;h=(delete h.repeat,delete h.spec,delete h.data,h);!g.isArray(m)&&a.columns&&(a=oc(a,["columns"]),za(cd("repeat")));const O=[],{repeater:ia={},repeaterPrefix:xa=""}=b,Xa=!g.isArray(m)&&m.row||[ia?ia.row:null],Eb=!g.isArray(m)&&m.column||[ia?
ia.column:null];var Vb=g.isArray(m)&&m||[ia?ia.repeat:null];for(const Lc of Vb)for(const nd of Xa)for(const Hd of Eb){var Mc={repeat:Lc,row:nd,column:Hd,layer:ia.layer};Vb=(A.name?`${A.name}_`:"")+xa+"child__"+(g.isArray(m)?`${Oa(Lc)}`:(m.row?`row_${Oa(nd)}`:"")+(m.column?`column_${Oa(Hd)}`:""));Mc=this.map(A,Object.assign({},b,{repeater:Mc,repeaterPrefix:Vb}));Mc.name=Vb;O.push(oc(Mc,["data"]))}a=g.isArray(m)?a.columns:m.column?m.column.length:1;let xd;return Object.assign({},{data:null!=(xd=A.data)?
xd:e,align:"all"},h,{columns:a,concat:O})}mapFacet(a,b){const {facet:e}=a;le(e)&&a.columns&&(a=oc(a,["columns"]),za(cd("facet")));return super.mapFacet(a,b)}mapUnitWithParentEncodingOrProjection(a,b){const {encoding:e,projection:h}=a,{parentEncoding:m,parentProjection:A,config:O}=b,ia=sh({parentProjection:A,projection:h});b=lh({parentEncoding:m,encoding:ri(e,b.repeater)});return this.mapUnit(Object.assign({},a,ia?{projection:ia}:{},b?{encoding:b}:{}),{config:O})}mapFacetedUnit(a,b){var e=a.encoding,
h=Object.assign({},e),m=e.row;const A=e.column;e=e.facet;const O=(delete h.row,delete h.column,delete h.facet,h);var ia=Object.assign({},a);h=a.mark;const xa=a.width,Xa=a.projection,Eb=a.height,Vb=a.view;a=a.params;ia=(delete ia.mark,delete ia.width,delete ia.projection,delete ia.height,delete ia.view,delete ia.params,delete ia.encoding,ia);const {facetMapping:Mc,layout:xd}=this.getFacetMappingAndLayout({row:m,column:A,facet:e},b);m=ri(O,b.repeater);return this.mapFacet(Object.assign({},ia,xd,{facet:Mc,
spec:Object.assign({},xa?{width:xa}:{},Eb?{height:Eb}:{},Vb?{view:Vb}:{},Xa?{projection:Xa}:{},{mark:h,encoding:m},a?{params:a}:{})}),b)}getFacetMappingAndLayout(a,b){const {row:e,column:h,facet:m}=a;if(e||h){m&&(b=[...(e?["row"]:[]),...(h?["column"]:[])],b=`Facet encoding dropped as ${b.join(" and ")} ${1<b.length?"are":"is"} also specified.`,za(b));b={};const Eb={};for(var A of["row","column"]){const Vb=a[A];if(Vb){var O=Object.assign({},Vb);O=(delete O.align,delete O.center,delete O.spacing,delete O.columns,
O);b[A]=O;for(var ia of["align","center","spacing"])if(void 0!==Vb[ia]){var xa=void 0,Xa=void 0;null!=(xa=Eb)[Xa=ia]||(xa[Xa]={});Eb[ia][A]=Vb[ia]}}}return{facetMapping:b,layout:Eb}}Xa=Object.assign({},m);a=m.align;A=m.center;ia=m.spacing;xa=m.columns;Xa=(delete Xa.align,delete Xa.center,delete Xa.spacing,delete Xa.columns,Xa);Xa=(b=b.repeater)?le(Xa)?Zg(Xa,b):zh(Xa,b):Xa;return{facetMapping:Xa,layout:Object.assign({},a?{align:a}:{},A?{center:A}:{},ia?{spacing:ia}:{},xa?{columns:xa}:{})}}mapLayer(a,
b){var e=Object.assign({},b),h=b.parentEncoding;b=b.parentProjection;e=(delete e.parentEncoding,delete e.parentProjection,e);var m=Object.assign({},a);const A=a.encoding,O=a.projection;m=(delete m.encoding,delete m.projection,m);h=Object.assign({},e,{parentEncoding:lh({parentEncoding:h,encoding:A,layer:!0}),parentProjection:sh({parentProjection:b,projection:O})});return super.mapLayer(Object.assign({},m,a.name?{name:[h.repeaterPrefix,a.name].filter(ia=>ia).join("_")}:{}),h)}}class $l extends Cj{map(a,
b){null!=b.emptySelections||(b.emptySelections={});null!=b.selectionPredicates||(b.selectionPredicates={});a=Jh(a,b);return super.map(a,b)}mapLayerOrUnit(a,b){a=Jh(a,b);if(a.encoding){const e={};for(const h of Ui(a.encoding)){const [m,A]=h;e[m]=th(A,b)}a=Object.assign({},a,{encoding:e})}return super.mapLayerOrUnit(a,b)}mapUnit(a,b){var e=Object.assign({},a);const h=a.selection;e=(delete e.selection,e);return h?Object.assign({},e,{params:Ui(h).map(m=>{let [A,O]=m;var ia=Object.assign({},O);m=O.init;
const xa=O.bind,Xa=O.empty;ia=(delete ia.init,delete ia.bind,delete ia.empty,ia);"single"===ia.type?(ia.type="point",ia.toggle=!1):"multi"===ia.type&&(ia.type="point");b.emptySelections[A]="none"!==Xa;let Eb;for(const Vb of xh(null!=(Eb=b.selectionPredicates[A])?Eb:{}))Vb.empty="none"!==Xa;return{name:A,value:m,select:ia,bind:xa}})}):a}}class Dj extends Cj{map(a,b){var e;const h=null!=(e=b.selections)?e:[];if(a.params&&!xf(a)){e=[];for(const m of a.params)Ie(m)?h.push(m):e.push(m);a.params=e}b.selections=
h;return super.map(a,b)}mapUnit(a,b){const e=b.selections;if(!e||!e.length)return a;let h;const m=(null!=(h=b.path)?h:[]).concat(a.name);b=[];for(const A of e)if(A.views&&A.views.length)for(const O of A.views)(g.isString(O)&&(O===a.name||m.includes(O))||g.isArray(O)&&O.map(ia=>m.indexOf(ia)).every((ia,xa,Xa)=>-1!==ia&&(0===xa||ia>Xa[xa-1])))&&b.push(A);else b.push(A);b.length&&(a.params=b);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const b=Dj.prototype[a];
Dj.prototype[a]=function(e,h){var m=b,A=m.call;let O;var ia=e.name?Object.assign({},h,{path:(null!=(O=h.path)?O:[]).concat(e.name)}):h;return A.call(m,this,e,ia)}}const bl=new si,hi=new $l,Yf=new Dj,oh=["background","padding"];class Dg{constructor(){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new Dg(tf(this.explicit),tf(this.implicit))}combine(){return Object.assign({},this.explicit,
this.implicit)}get(a){return la(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,b){let {value:e,explicit:h}=b;void 0!==e&&this.set(a,e,h)}set(a,b,e){delete this[e?"implicit":"explicit"][a];this[e?"explicit":"implicit"][a]=b;return this}copyKeyFromSplit(a,b){let {explicit:e,implicit:h}=b;void 0!==e[a]?this.set(a,e[a],
!0):void 0!==h[a]&&this.set(a,h[a],!1)}copyKeyFromObject(a,b){void 0!==b[a]&&this.set(a,b[a],!0)}copyAll(a){for(const b of je(a.combine())){const e=a.getWithExplicit(b);this.setWithExplicit(b,e)}}}class Ch extends Dg{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,b);this.explicit=a;this.implicit=b;this.parseNothing=e}clone(){const a=super.clone();
a.parseNothing=this.parseNothing;return a}}let Of=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup";return a}({});class Uf{constructor(a,b){this.debugName=b;F(this,"_children",[]);F(this,"_parent",null);F(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,
b){this._children.includes(a)?za("Attempt to add the same child twice."):void 0!==b?this._children.splice(b,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);for(const b of this._children)b._parent=this._parent,this._parent.addChild(b,a++)}insertAsParentOf(a){const b=a.parent;b.removeChild(this);this.parent=b;a.parent=this}swapWithParent(){const a=this._parent,b=a.parent;for(var e of this._children)e.parent=
a;this._children=[];a.removeChild(this);e=a.parent.removeChild(a);this._parent=b;b.addChild(this,e);a.parent=this}}class ag extends Uf{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,b,e,h){super(a,b);this.type=e;this.refCounts=h;F(this,"_source",void 0);F(this,"_name",void 0);this._source=this._name=b;!this.refCounts||this._name in
this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${Y()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=a}}class Zh extends Uf{clone(){return new Zh(null,tf(this.formula))}constructor(a,b){super(a);this.formula=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((h,m)=>{const {field:A,
timeUnit:O}=m;if(O){let ia;if(Nc(O)){if(Ig(b)){const {mark:xa}=b;if(vd(xa)||m.bandPosition)ia={timeUnit:ae(O),field:A}}}else ia={as:wd(m,{forAs:!0}),field:A,timeUnit:O};ia&&(h[kc(ia)]=ia)}return h},{});return Ua(e)?null:new Zh(a,e)}static makeFromTransform(a,b){var e=Object.assign({},b);b=Object.assign({},e);e=e.timeUnit;b=(delete b.timeUnit,b);e=ae(e);b=Object.assign({},b,{timeUnit:e});return new Zh(a,{[kc(b)]:b})}merge(a){this.formula=Object.assign({},this.formula);for(const b in a.formula)this.formula[b]||
(this.formula[b]=a.formula[b]);for(const b of a.children)a.removeChild(b),b.parent=this;a.remove()}removeFormulas(a){const b={};for(const e of Ui(this.formula)){const [h,m]=e;a.has(void 0!==m.as?m.as:`${m.field}_end`)||(b[h]=m)}this.formula=b}producedFields(){return new Set(xh(this.formula).map(a=>void 0!==a.as?a.as:`${a.field}_end`))}dependentFields(){return new Set(xh(this.formula).map(a=>a.field))}hash(){return`TimeUnit ${kc(this.formula)}`}assemble(){const a=[];for(const m of xh(this.formula))if(void 0!==
m.as){const {field:A,as:O,timeUnit:ia}=m;var b=ae(ia),e=Object.assign({},b),h=b.unit;b=b.utc;e=(delete e.unit,delete e.utc,e);a.push(Object.assign({},{field:ob(A),type:"timeunit"},h?{units:rd(h)}:{},b?{timezone:"utc"}:{},e,{as:[O,`${O}_end`]}))}else if(m){const {field:A,timeUnit:O}=m;h=A.replaceAll("\\.",".");let ia;e=Gd(null==(ia=O)?void 0:ia.unit);const {part:xa,step:Xa}=df(e,O.step);a.push({type:"formula",expr:`timeOffset('${xa}', datum['${h}'], ${Xa})`,as:`${h}_end`})}return a}}class gj{constructor(){F(this,
"hasChannel",void 0);F(this,"hasField",void 0);F(this,"hasSelectionId",void 0);F(this,"timeUnit",void 0);F(this,"items",void 0);for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];this.items=b;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const fi={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,b)=>{const e=b.scales=[];for(const m of b.project.items){var h=m.channel;if(!li[h])continue;const A=(h=a.getScaleComponent(h))?h.get("type"):
void 0;h&&fd(A)?(h.set("selectionExtent",{param:b.name,field:m.field},!0),e.push(m)):za("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(a,b,e)=>{const h=b.scales.filter(A=>0===e.filter(O=>O.name===A.signals.data).length);if(!a.parent||k(a)||0===h.length)return e;a=e.filter(A=>A.name===b.name)[0];let m=a.update;if(0<=m.indexOf("vlSelectionResolve"))a.update=`{${h.map(A=>`${g.stringValue(ob(A.field))}: ${A.signals.data}`).join(", ")}}`;
else{for(const A of h){const O=`${g.stringValue(ob(A.field))}: ${A.signals.data}`;m.includes(O)||(m=`${m.substring(0,m.length-1)}, ${O}}`)}a.update=m}return e.concat(h.map(A=>({name:A.signals.data})))},signals:(a,b,e)=>{if(a.parent&&!k(a))for(const h of b.scales)a=e.filter(m=>m.name===h.signals.data)[0],a.push="outer",delete a.value,delete a.update;return e}},al={left:"x",center:"xc",right:"x2"},kk={top:"y",middle:"yc",bottom:"y2"},Wh=new Set(["aria","width","height"]),Ck={defined:a=>"point"===a.type&&
a.nearest,parse:(a,b)=>{if(b.events)for(const e of b.events)e.markname=a.getName("voronoi")},marks:(a,b,e)=>{const {x:h,y:m}=b.project.hasChannel;b=a.mark;if(pc(b))return za(`The "nearest" transform is not supported for ${b} marks.`),e;b={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Ya(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",
x:{expr:h||!m?"datum.datum.x || 0":"0"},y:{expr:m||!h?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let A=0,O=!1;e.forEach((ia,xa)=>{let Xa;ia=null!=(Xa=ia.name)?Xa:"";ia===a.component.mark[0].name?A=xa:0<=ia.indexOf("voronoi")&&(O=!0)});O||e.splice(A+1,0,b);return e}},jj={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!gh(a.bind),parse:(a,b,e)=>Yh(b,e),topLevelSignals:(a,b,e)=>{const h=b.name;a=b.project;const m=b.bind,
A=b.init&&b.init[0],O=Ck.defined(b)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((ia,xa)=>{const Xa=Oa(`${h}_${ia.field}`);if(!e.filter(Eb=>Eb.name===Xa).length){let Eb,Vb;e.unshift(Object.assign({},{name:Xa},A?{init:Qa(A[xa])}:{value:null},{on:b.events?[{events:b.events,update:`datum && item().mark.marktype !== 'group' ? ${O}[${g.stringValue(ia.field)}] : null`}]:[],bind:null!=(Vb=null!=(Eb=m[ia.field])?Eb:m[ia.channel])?Vb:m}))}});return e},signals:(a,b,e)=>{const h=b.name;
var m=b.project;a=e.filter(O=>O.name===h+"_tuple")[0];b=h+"_tuple_fields";m=m.items.map(O=>Oa(`${h}_${O.field}`));const A=m.map(O=>`${O} !== null`).join(" \x26\x26 ");m.length&&(a.update=`${A} ? {fields: ${b}, values: [${m.join(", ")}]} : null`);delete a.value;delete a.on;return e}},Ci={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,b,e)=>e.concat({name:b.name+"_toggle",value:!1,on:[{events:b.events,update:b.toggle}]}),modifyExpr:(a,b)=>{const e=b.name+"_tuple",h=b.name+"_toggle";return`${h} ? null : ${e}, `+
("global"===b.resolve?`${h} ? null : true, `:`${h} ? null : {unit: ${Kg(a)}}, `)+`${h} ? ${e} : null`}},gk={defined:a=>{const b="global"===a.resolve&&a.bind&&gh(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;b&&!a&&za("Legend bindings are only supported for selections over an individual field or encoding channel.");return b&&a},parse:(a,b,e)=>{a=tf(e);a.select=g.isString(a.select)?{type:a.select,toggle:b.toggle}:Object.assign({},a.select,{toggle:b.toggle});Yh(b,a);if(g.isObject(e.select)&&
(e.select.on||e.select.clear))for(const h of b.events){let m;h.filter=g.array(null!=(m=h.filter)?m:[]);h.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||h.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}e=De(b.bind)?b.bind.legend:"click";e=g.isString(e)?g.parseSelector(e,"view"):g.array(e);b.bind={legend:{merge:e}}},topLevelSignals:(a,b,e)=>{a=b.name;const h=De(b.bind)&&b.bind.legend,m=O=>ia=>{ia=tf(ia);ia.markname=O;return ia};
for(const O of b.project.items){if(!O.hasLegend)continue;var A=`${Oa(O.field)}_legend`;const ia=`${a}_${A}`;0===e.filter(xa=>xa.name===ia).length&&(A=h.merge.map(m(`${A}_symbols`)).concat(h.merge.map(m(`${A}_labels`))).concat(h.merge.map(m(`${A}_entries`))),e.unshift(Object.assign({},{name:ia},b.init?{}:{value:null},{on:[{events:A,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:h.merge,update:`!event.item || !datum ? null : ${ia}`,force:!0}]})))}return e},
signals:(a,b,e)=>{const h=b.name;var m=b.project;a=e.find(O=>O.name===h+"_tuple");var A=h+"_tuple_fields";m=m.items.filter(O=>O.hasLegend).map(O=>Oa(`${h}_${Oa(O.field)}_legend`));A=`${m.map(O=>`${O} !== null`).join(" \x26\x26 ")} ? {fields: ${A}, values: [${m.join(", ")}]} : null`;b.events&&0<m.length?a.on.push({events:m.map(O=>({signal:O})),update:A}):0<m.length&&(a.update=A,delete a.value,delete a.on);a=e.find(O=>O.name===h+"_toggle");A=De(b.bind)&&b.bind.legend;a&&(b.events?a.on.push(Object.assign({},
a.on[0],{events:A})):a.on[0].events=A);return e}},Aj=[{defined:a=>"point"===a.type,signals:(a,b,e)=>{const h=b.name,m=h+"_tuple_fields";var A=b.project,O,ia=xh(null!=(O=a.component.selection)?O:{}).reduce((xa,Xa)=>"interval"===Xa.type?xa.concat(Xa.name+"_brush"):xa,[]).map(xa=>`indexof(item().mark.name, '${xa}') < 0`).join(" \x26\x26 ");O=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${ia?` && ${ia}`:""}`;ia=`unit: ${Kg(a)}, `;b.project.hasSelectionId?ia+=`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${g.stringValue("_vgsid_")}]`:
(A=A.items.map(xa=>{let Xa;return(null==(Xa=a.fieldDef(xa.channel))?0:Xa.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${g.stringValue(a.vgField(xa.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${g.stringValue(a.vgField(xa.channel,{binSuffix:"end"}))}]]`:`${"(item().isVoronoi ? datum.datum : datum)"}[${g.stringValue(xa.field)}]`}).join(", "),ia+=`fields: ${m}, values: [${A}]`);b=b.events;return e.concat([{name:h+"_tuple",on:b?[{events:b,update:`${O} ? {${ia}} : null`,force:!0}]:
[]}])}},{defined:a=>"interval"===a.type,parse:(a,b,e)=>{a.hasProjection&&(a=Object.assign({},g.isObject(e.select)?e.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=e.value?je(e.value):["longitude","latitude"]),e.select=Object.assign({},{type:"interval"},a));if(b.translate&&!fi.defined(b)){e=`!event.item || event.item.mark.name !== ${g.stringValue(b.name+"_brush")}`;for(const h of b.events){if(!h.between){za(`${h} is not an ordered event stream for interval selections.`);continue}let m,A;
b=g.array(null!=(A=(m=h.between[0]).filter)?A:m.filter=[]);0>b.indexOf(e)&&b.push(e)}}},signals:(a,b,e)=>{var h=b.name;const m=h+"_tuple";var A=xh(b.project.hasChannel).filter(Eb=>"x"===Eb.channel||"y"===Eb.channel);const O=b.init?b.init[0]:null;e.push(...A.reduce((Eb,Vb)=>Eb.concat(y(a,b,Vb,O&&O[Vb.index])),[]));if(a.hasProjection){var ia=g.stringValue(a.projectionName());const Eb=a.projectionName()+"_center",{x:Vb,y:Mc}=b.project.hasChannel;var xa=Vb&&Vb.signals.visual;const xd=Mc&&Mc.signals.visual;
var Xa=Vb?O&&O[Vb.index]:`${Eb}[0]`;const Lc=Mc?O&&O[Mc.index]:`${Eb}[1]`;xa="["+`[${xa?xa+"[0]":"0"}, ${xd?xd+"[0]":"0"}],`+`[${xa?xa+"[1]":a.getSizeSignalRef("width").signal}, `+`${xd?xd+"[1]":a.getSizeSignalRef("height").signal}]`+"]";O&&(e.unshift({name:h+"_init",init:`[scale(${ia}, [${Vb?Xa[0]:Xa}, ${Mc?Lc[0]:Lc}]), `+`scale(${ia}, [${Vb?Xa[1]:Xa}, ${Mc?Lc[1]:Lc}])]`}),Vb&&Mc||e.find(nd=>nd.name===Eb)||e.unshift({name:Eb,update:`invert(${ia}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));
h=`intersect(${xa}, {markname: ${g.stringValue(a.getName("marks"))}}, unit.mark)`;ia=`{unit: ${Kg(a)}}`;h=`vlSelectionTuples(${h}, ${ia})`;A=A.map(nd=>nd.signals.visual);return e.concat({name:m,on:[{events:[...(A.length?[{signal:A.join(" || ")}]:[]),...(O?[{signal:"geo_interval_init_tick"}]:[])],update:h}]})}fi.defined(b)||(ia=h+"_scale_trigger",Xa=A.map(Eb=>{var Vb=Eb.channel;const {data:Mc,visual:xd}=Eb.signals;Eb=g.stringValue(a.scaleName(Vb));Vb=a.getScaleComponent(Vb).get("type");Vb=fd(Vb)?"+":
"";return`(!isArray(${Mc}) || `+`(${Vb}invert(${Eb}, ${xd})[0] === ${Vb}${Mc}[0] && `+`${Vb}invert(${Eb}, ${xd})[1] === ${Vb}${Mc}[1]))`}),Xa.length&&e.push({name:ia,value:{},on:[{events:A.map(Eb=>({scale:a.scaleName(Eb.channel)})),update:Xa.join(" \x26\x26 ")+` ? ${ia} : {}`}]}));A=A.map(Eb=>Eb.signals.data);h=`unit: ${Kg(a)}, fields: ${h+"_tuple_fields"}, values`;return e.concat(Object.assign({},{name:m},O?{init:`{${h}: ${Qa(O)}}`}:{},A.length?{on:[{events:[{signal:A.join(" || ")}],update:`${A.join(" \x26\x26 ")} ? {${h}: [${A}]} : null`}]}:
{}))},topLevelSignals:(a,b,e)=>{Ig(a)&&a.hasProjection&&b.init&&(e.filter(h=>"geo_interval_init_tick"===h.name).length||e.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));return e},marks:(a,b,e)=>{const h=b.name,{x:m,y:A}=b.project.hasChannel,O=null==m?void 0:m.signals.visual,ia=null==A?void 0:A.signals.visual;var xa=`data(${g.stringValue(b.name+"_store")})`;if(fi.defined(b)||!m&&!A)return e;
const Xa={x:void 0!==m?{signal:`${O}[0]`}:{value:0},y:void 0!==A?{signal:`${ia}[0]`}:{value:0},x2:void 0!==m?{signal:`${O}[1]`}:{field:{group:"width"}},y2:void 0!==A?{signal:`${ia}[1]`}:{field:{group:"height"}}};if("global"===b.resolve)for(var Eb of je(Xa))Xa[Eb]=[Object.assign({},{test:`${xa}.length && ${xa}[0].unit === ${Kg(a)}`},Xa[Eb]),{value:0}];Eb=b.mark;xa=Object.assign({},Eb);a=Eb.fill;b=Eb.fillOpacity;Eb=Eb.cursor;const Vb=(delete xa.fill,delete xa.fillOpacity,delete xa.cursor,xa);xa=je(Vb).reduce((Mc,
xd)=>{Mc[xd]=[{test:[void 0!==m&&`${O}[0] !== ${O}[1]`,void 0!==A&&`${ia}[0] !== ${ia}[1]`].filter(Lc=>Lc).join(" \x26\x26 "),value:Vb[xd]},{value:null}];return Mc},{});return[{name:`${h+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:b}},update:Xa}},...e,{name:h+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},Eb?{cursor:{value:Eb}}:{},{fill:{value:"transparent"}}),update:Object.assign({},Xa,xa)}}]}},{defined:()=>!0,parse:(a,b,e)=>{const h=b.name;var m;
const A=null!=(m=b.project)?m:b.project=new gj,O={};m={};const ia=new Set,xa=(Od,Ye)=>{Od="visual"===Ye?Od.channel:Od.field;let ze=Oa(`${h}_${Od}`);for(let Ff=1;ia.has(ze);Ff++)ze=Oa(`${h}_${Od}_${Ff}`);ia.add(ze);return{[Ye]:ze}},Xa=b.type,Eb=a.config.selection[Xa],Vb=void 0!==e.value?g.array(e.value):null;let {fields:Mc,encodings:xd}=g.isObject(e.select)?e.select:{};if(!Mc&&!xd&&Vb)for(var Lc of Vb)if(g.isObject(Lc))for(const Od of je(Lc))if(Cl[Od])(xd||(xd=[])).push(Od);else if("interval"===Xa)za('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),
xd=Eb.encodings;else{let Ye;(null!=(Ye=Mc)?Ye:Mc=[]).push(Od)}Mc||xd||(xd=Eb.encodings,"fields"in Eb&&(Mc=Eb.fields));var nd;for(const Od of null!=(nd=xd)?nd:[])(nd=a.fieldDef(Od))?(e=nd.field,nd.aggregate?za(`Cannot project a selection on encoding channel "${Od}" as it uses an aggregate function ("${nd.aggregate}").`):e?(nd.timeUnit&&!Nc(nd.timeUnit)&&(e=a.vgField(Od),Lc={timeUnit:nd.timeUnit,as:e,field:nd.field},m[kc(Lc)]=Lc),O[e]||(nd="interval"===Xa&&li[Od]&&fd(a.getScaleComponent(Od).get("type"))?
"R":nd.bin?"R-RE":"E",nd={field:e,channel:Od,type:nd,index:A.items.length},nd.signals=Object.assign({},xa(nd,"data"),xa(nd,"visual")),A.items.push(O[e]=nd),A.hasField[e]=O[e],A.hasSelectionId=A.hasSelectionId||"_vgsid_"===e,Od in Sj?(nd.geoChannel=Od,nd.channel=L(Od),A.hasChannel[nd.channel]=O[e]):A.hasChannel[Od]=O[e])):za(ic(Od))):za(ic(Od));let Hd;for(const Od of null!=(Hd=Mc)?Hd:[])A.hasField[Od]||(a={type:"E",field:Od,index:A.items.length},a.signals=Object.assign({},xa(a,"data")),A.items.push(a),
A.hasField[Od]=a,A.hasSelectionId=A.hasSelectionId||"_vgsid_"===Od);Vb&&(b.init=Vb.map(Od=>A.items.map(Ye=>g.isObject(Od)?void 0!==Od[Ye.geoChannel||Ye.channel]?Od[Ye.geoChannel||Ye.channel]:Od[Ye.field]:Od)));Ua(m)||(A.timeUnit=new Zh(null,m))},signals:(a,b,e)=>{const h=b.name+"_tuple_fields";return 0<e.filter(m=>m.name===h).length||b.project.hasSelectionId?e:e.concat({name:h,value:b.project.items.map(va)})}},Ci,jj,fi,gk,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,b)=>{b.clear&&(b.clear=
g.isString(b.clear)?g.parseSelector(b.clear,"view"):b.clear)},topLevelSignals:(a,b,e)=>{if(jj.defined(b))for(const h of b.project.items)a=e.findIndex(m=>m.name===Oa(`${b.name}_${h.field}`)),-1!==a&&e[a].on.push({events:b.clear,update:"null"});return e},signals:(a,b,e)=>{function h(m,A){-1!==m&&e[m].on&&e[m].on.push({events:b.clear,update:A})}if("interval"===b.type)for(const m of b.project.items)a=e.findIndex(A=>A.name===m.signals.visual),h(a,"[0, 0]"),-1===a&&(a=e.findIndex(A=>A.name===m.signals.data),
h(a,"null"));else a=e.findIndex(m=>m.name===b.name+"_tuple"),h(a,"null"),Ci.defined(b)&&(a=e.findIndex(m=>m.name===b.name+"_toggle"),h(a,"false"));return e}},{defined:a=>"interval"===a.type&&a.translate,signals:(a,b,e)=>{const h=b.name,m=fi.defined(b),A=h+"_translate_anchor",{x:O,y:ia}=b.project.hasChannel;let xa=g.parseSelector(b.translate,"scope");m||(xa=xa.map(Xa=>(Xa.between[0].markname=h+"_brush",Xa)));e.push({name:A,value:{},on:[{events:xa.map(Xa=>Xa.between[0]),update:"{x: x(unit), y: y(unit)"+
(void 0!==O?`, extent_x: ${m?fa(a,"x"):`slice(${O.signals.visual})`}`:"")+(void 0!==ia?`, extent_y: ${m?fa(a,"y"):`slice(${ia.signals.visual})`}`:"")+"}"}]},{name:h+"_translate_delta",value:{},on:[{events:xa,update:`{x: ${A}.x - x(unit), y: ${A}.y - y(unit)}`}]});void 0!==O&&wh(a,b,O,"width",e);void 0!==ia&&wh(a,b,ia,"height",e);return e}},{defined:a=>"interval"===a.type&&a.zoom,signals:(a,b,e)=>{const h=b.name,m=fi.defined(b),A=h+"_zoom_delta",{x:O,y:ia}=b.project.hasChannel,xa=g.stringValue(a.scaleName("x")),
Xa=g.stringValue(a.scaleName("y"));let Eb=g.parseSelector(b.zoom,"scope");m||(Eb=Eb.map(Vb=>(Vb.markname=h+"_brush",Vb)));e.push({name:h+"_zoom_anchor",on:[{events:Eb,update:m?"{"+[xa?`x: invert(${xa}, x(unit))`:"",Xa?`y: invert(${Xa}, y(unit))`:""].filter(Vb=>Vb).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:A,on:[{events:Eb,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==O&&lg(a,b,O,"width",e);void 0!==ia&&lg(a,b,ia,"height",e);return e}},Ck];class ei extends Uf{clone(){return new ei(null,
this.model,tf(this.filter))}constructor(a,b,e){super(a);this.model=b;this.filter=e;F(this,"expr",void 0);F(this,"_dependentFields",void 0);this.expr=Pi(this.model,this.filter,this);this._dependentFields=Oi(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}const lk={scale:a=>{let {model:b,channel:e}=a;return b.scaleName(e)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=
a);return a},grid:a=>{let {fieldOrDatumDef:b,axis:e,scaleType:h}=a,m;return null!=(m=e.grid)?m:!Sc(h)&&ub(b)&&!W(null==b?void 0:b.bin)&&!Ca(null==b?void 0:b.bin)},gridScale:a=>{let {model:b,channel:e}=a;a="x"===e?"y":"x";a=b.getScaleComponent(a)?b.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:b,labelAngle:e,orient:h,channel:m}=a;return b.labelAlign||Jd(e,h,m)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:b,labelAngle:e,orient:h,channel:m}=a;return b.labelBaseline||
Wc(e,h,m)},labelFlush:a=>{let {axis:b,fieldOrDatumDef:e,channel:h}=a;null==(a=b.labelFlush)&&(a="x"===h&&Ab(["quantitative","temporal"],e.type)?!0:void 0);return a},labelOverlap:a=>{let {axis:b,fieldOrDatumDef:e,scaleType:h}=a;if(null==(a=b.labelOverlap)){a=e.type;var m=ub(e)&&!!e.timeUnit,A=ub(e)?e.sort:void 0;a=m&&!g.isObject(A)||"nominal"!==a&&"ordinal"!==a?"log"===h||"symlog"===h?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:b,model:e,axis:h,fieldOrDatumDef:m,
scaleType:A}=a;a=(a="x"===b?"width":"y"===b?"height":void 0)?e.getSizeSignalRef(a):void 0;let O;if(null!=(O=h.tickCount))var ia=O;else a:{let {fieldOrDatumDef:xa,scaleType:Xa,size:Eb,values:Vb}={fieldOrDatumDef:m,scaleType:A,size:a,values:h.values};if(Vb||Sc(Xa)||"log"===Xa)ia=void 0;else{if(ub(xa)){if(W(xa.bin)){ia={signal:`ceil(${Eb.signal}/10)`};break a}if(xa.timeUnit&&Ab(["month","hours","day","quarter"],null==(ia=ae(xa.timeUnit))?void 0:ia.unit)){ia=void 0;break a}}ia={signal:`ceil(${Eb.signal}/40)`}}}return ia},
tickMinStep:function(a){let {format:b,fieldOrDatumDef:e}=a;if("d"===b)return 1;if(ub(e)&&({timeUnit:a}=e,a&&(a=ff(a))))return{signal:a}},title:a=>{let {axis:b,model:e,channel:h}=a;if(void 0!==b.title)return b.title;a=Sd(e,h);if(void 0!==a)return a;a=e.typedFieldDef(h);const m=e.fieldDef("x"===h?"x2":"y2");return gb(a?[N(a)]:[],ub(m)?[N(m)]:[])},values:a=>{let {axis:b,fieldOrDatumDef:e}=a;a=b.values;a=g.isArray(a)?Ze(e,a):Wb(a)?a:void 0;return a},zindex:a=>{let {axis:b,fieldOrDatumDef:e,mark:h}=a;
null==(a=b.zindex)&&(a="rect"===h&&ye(e)?1:0);return a}};class gi extends Uf{clone(){return new gi(null,tf(this.transform))}constructor(a,b){super(a);this.transform=b;F(this,"_dependentFields",void 0);this._dependentFields=Oi(this.transform.calculate)}static parseAllForSortIndex(a,b){b.forEachFieldDef((e,h)=>{if(Cd(e)&&ce(e.sort)){const {field:A,timeUnit:O}=e;var m=e.sort;m=m.map((ia,xa)=>`${I({field:A,timeUnit:O,equal:ia})} ? ${xa} : `).join("")+m.length;a=new gi(a,{calculate:m,as:ad(e,h,{forAs:!0})})}});
return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${kc(this.transform)}`}}const Ej=["row","column"],kj=["header","footer"],$k={column:{start:0,end:1},row:{start:1,end:0}},Dk=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,
gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,
tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),jk=je(Dk);class am extends Dg{}const hl={symbols:function(a,b){let {fieldOrDatumDef:e,model:h,channel:m,legendCmpt:A,legendType:O}=b;
if("symbol"===O){var {markDef:ia,encoding:xa,config:Xa,mark:Eb}=h;b=ia.filled&&"trail"!==Eb;var Vb=Object,Mc=Vb.assign,xd={};for(var Lc of ck){const Ff=Yc(Lc,h.markDef,h.config);void 0!==Ff&&(xd[Lc]=Sb(Ff))}Lc=Mc.call(Vb,{},xd,Zc(h,{filled:b}));var nd;Vb=null!=(nd=A.get("symbolOpacity"))?nd:Xa.legend.symbolOpacity;var Hd;nd=null!=(Hd=A.get("symbolFillColor"))?Hd:Xa.legend.symbolFillColor;var Od;Hd=null!=(Od=A.get("symbolStrokeColor"))?Od:Xa.legend.symbolStrokeColor;var Ye;Od=void 0===Vb?null!=(Ye=
qd(xa.opacity))?Ye:ia.opacity:void 0;if(Lc.fill)if("fill"===m||b&&"color"===m)delete Lc.fill;else if(Lc.fill.field)if(nd)delete Lc.fill;else{let Ff;Lc.fill=Sb(null!=(Ff=Xa.legend.symbolBaseFillColor)?Ff:"black");Lc.fillOpacity=Sb(null!=Od?Od:1)}else if(g.isArray(Lc.fill)){var ze;let Ff,cg;if(Ye=null!=(cg=null!=(Ff=ud(null!=(ze=xa.fill)?ze:xa.color))?Ff:ia.fill)?cg:b&&ia.color)Lc.fill=Sb(Ye)}Lc.stroke&&("stroke"===m||!b&&"color"===m?delete Lc.stroke:Lc.stroke.field||Hd?delete Lc.stroke:g.isArray(Lc.stroke)&&
(ze=la(ud(xa.stroke||xa.color),ia.stroke,b?ia.color:void 0))&&(Lc.stroke={value:ze}));"opacity"!==m&&((ze=ub(e)&&qe(h,A,e))?Lc.opacity=[Object.assign({},{test:ze},Sb(null!=Od?Od:1)),Sb(Xa.legend.unselectedOpacity)]:Od&&(Lc.opacity=Sb(Od)));Lc=Object.assign({},Lc,a);return Ua(Lc)?void 0:Lc}},gradient:function(a,b){let {model:e,legendType:h,legendCmpt:m}=b;if("gradient"===h){var {config:A,markDef:O,encoding:ia}=e;b={};var xa,Xa=void 0===(null!=(xa=m.get("gradientOpacity"))?xa:A.legend.gradientOpacity)?
qd(ia.opacity)||O.opacity:void 0;Xa&&(b.opacity=Sb(Xa));b=Object.assign({},b,a);return Ua(b)?void 0:b}},labels:function(a,b){let {fieldOrDatumDef:e,model:h,channel:m,legendCmpt:A}=b;var O=h.legend(m)||{};b=h.config;var ia=ub(e)?qe(h,A,e):void 0;ia=ia?[{test:ia,value:1},{value:b.legend.unselectedOpacity}]:void 0;const {format:xa,formatType:Xa}=O;O=void 0;we(Xa)?O=bf({fieldOrDatumDef:e,field:"datum.value",format:xa,formatType:Xa,config:b}):void 0===xa&&void 0===Xa&&b.customFormatTypes&&("quantitative"===
e.type&&b.numberFormatType?O=bf({fieldOrDatumDef:e,field:"datum.value",format:b.numberFormat,formatType:b.numberFormatType,config:b}):"temporal"===e.type&&b.timeFormatType&&ub(e)&&void 0===e.timeUnit&&(O=bf({fieldOrDatumDef:e,field:"datum.value",format:b.timeFormat,formatType:b.timeFormatType,config:b})));a=Object.assign({},ia?{opacity:ia}:{},O?{text:O}:{},a);return Ua(a)?void 0:a},entries:function(a,b){({legendCmpt:b}=b);let e;return(null==(e=b.get("selections"))?0:e.length)?Object.assign({},a,{fill:{value:"transparent"}}):
a}},ml={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:b,legend:e,config:h}=a;const {format:m,formatType:A}=e;return md(b,b.type,m,A,h,!1)},formatType:a=>{let {legend:b,fieldOrDatumDef:e,scaleType:h}=a;({formatType:a}=b);return Dc(a,e,h)},gradientLength:a=>{const {legend:b,legendConfig:e}=a;let h,m;if(null!=(m=null!=(h=b.gradientLength)?h:e.gradientLength))a=m;else{{let {legendConfig:A,model:O,direction:ia,orient:xa,scaleType:Xa}=a;const {gradientHorizontalMaxLength:Eb,
gradientHorizontalMinLength:Vb,gradientVerticalMaxLength:Mc,gradientVerticalMinLength:xd}=A;a=zg.has(Xa)?"horizontal"===ia?"top"===xa||"bottom"===xa?Se(O,"width",Vb,Eb):Vb:Se(O,"height",xd,Mc):void 0}}return a},labelOverlap:a=>{let {legend:b,legendConfig:e,scaleType:h}=a;var m;m=null!=(a=null!=(m=b.labelOverlap)?m:e.labelOverlap)?a:Ab(["quantile","threshold","log","symlog"],h)?"greedy":void 0;return m},symbolType:a=>{let {legend:b,markDef:e,channel:h,encoding:m}=a;if(null!=(a=b.symbolType))var A=
a;else a:{a=e.type;var O=e.shape;if("shape"!==h){const ia=null!=(A=ud(m.shape))?A:O;if(ia){A=ia;break a}}switch(a){case "bar":case "rect":case "image":case "square":A="square";break a;case "line":case "trail":case "rule":A="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":A="circle";break a}A=void 0}return A},title:a=>{let {fieldOrDatumDef:b,config:e}=a;return ge(b,e,{allowDisabling:!0})},type:a=>{let {legendType:b,scaleType:e,channel:h}=a;
if(P(h)&&zg.has(e)){if("gradient"===b)return}else if("symbol"===b)return;return b},values:a=>{let {fieldOrDatumDef:b,legend:e}=a;a=e.values;a=g.isArray(a)?Ze(b,a):Wb(a)?a:void 0;return a}},kl="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class ll extends Dg{constructor(a,b,e,h){super(Object.assign({},b),{name:a});this.specifiedProjection=b;this.size=e;this.data=h;F(this,"merged",!1)}get isFit(){return!!this.data}}
class Qi extends Uf{clone(){return new Qi(null,tf(this.bins))}constructor(a,b){super(a);this.bins=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((h,m,A)=>{if($c(m)&&W(m.bin)){const {key:Vb,binComponent:Mc}=oe(m,m.bin,b);var O=Object,ia=O.assign,xa=h[Vb];var Xa=b.config;if(Gf(m,A)){var Eb;let xd;const Lc=Ig(b)?null!=(xd=null!=(Eb=b.axis(A))?Eb:b.legend(A))?xd:{}:{};A=wd(m,{expr:"datum"});Eb=wd(m,{expr:"datum",binSuffix:"end"});m={formulaAs:wd(m,{binSuffix:"range",forAs:!0}),formula:Id(A,Eb,
Lc.format,Lc.formatType,Xa)}}else m={};h[Vb]=ia.call(O,{},Mc,xa,m)}return h},{});return Ua(e)?null:new Qi(a,e)}static makeFromTransform(a,b,e){const {key:h,binComponent:m}=oe(b,b.bin,e);return new Qi(a,{[h]:m})}merge(a,b){for(const e of je(a.bins))e in this.bins?(b(a.bins[e].signal,this.bins[e].signal),this.bins[e].as=qb([...this.bins[e].as,...a.bins[e].as],kc)):this.bins[e]=a.bins[e];for(const e of a.children)a.removeChild(e),e.parent=this;a.remove()}producedFields(){return new Set(xh(this.bins).map(a=>
a.as).flat(2))}dependentFields(){return new Set(xh(this.bins).map(a=>a.field))}hash(){return`Bin ${kc(this.bins)}`}assemble(){return xh(this.bins).flatMap(a=>{const b=[],[e,...h]=a.as;var m=a.bin,A=Object.assign({},m);m=m.extent;A=(delete A.extent,A);A=Object.assign({},{type:"bin",field:ob(a.field),as:e,signal:a.signal},Za(m)?{extent:null}:{extent:m},a.span?{span:{signal:`span(${a.span})`}}:{},A);!m&&a.extentSignal&&(b.push({type:"extent",field:ob(a.field),signal:a.extentSignal}),A.extent={signal:a.extentSignal});
b.push(A);for(const O of h)for(m=0;2>m;m++)b.push({type:"formula",expr:wd({field:e[m]},{expr:"datum"}),as:O[m]});a.formula&&b.push({type:"formula",expr:a.formula,as:a.formulaAs});return b})}}class vi extends Uf{clone(){return new vi(null,new Set(this.dimensions),tf(this.measures))}constructor(a,b,e){super(a);this.dimensions=b;this.measures=e}get groupBy(){return this.dimensions}static makeFromEncoding(a,b){let e=!1;b.forEachFieldDef(A=>{A.aggregate&&(e=!0)});const h={},m=new Set;if(!e)return null;
b.forEachFieldDef((A,O)=>{const {aggregate:ia,field:xa}=A;if(ia)if("count"===ia)null!=h["*"]||(h["*"]={}),h["*"].count=new Set([wd(A,{forAs:!0})]);else{if(K(ia)||ua(ia)){A=K(ia)?"argmin":"argmax";var Xa=ia[A];null!=h[Xa]||(h[Xa]={});h[Xa][A]=new Set([wd({op:A,field:Xa},{forAs:!0})])}else null!=h[xa]||(h[xa]={}),h[xa][ia]=new Set([wd(A,{forAs:!0})]);li[O]&&"unaggregated"===b.scaleDomain(O)&&(null!=h[xa]||(h[xa]={}),h[xa].min=new Set([wd({field:xa,aggregate:"min"},{forAs:!0})]),h[xa].max=new Set([wd({field:xa,
aggregate:"max"},{forAs:!0})]))}else{const Eb=Ig(b)?b.encoding[C(O)]:void 0;$c(A)&&Ig(b)&&ja(A,Eb,b.markDef,b.config)?(m.add(wd(A,{})),m.add(wd(A,{suffix:"end"})),A.bin&&Gf(A,O)&&m.add(wd(A,{binSuffix:"range"}))):O in Sj?(O=L(O),m.add(b.getName(O))):m.add(wd(A));if(O=Cd(A))O=null==(Xa=A.scale)?void 0:Xa.range,O=g.isObject(O)&&"field"in O;O&&m.add(A.scale.range.field)}});return 0===m.size+je(h).length?null:new vi(a,m,h)}static makeFromTransform(a,b){const e=new Set,h={};for(const A of b.aggregate){const {op:O,
field:ia,as:xa}=A;if(O)if("count"===O){let Xa;null!=(Xa=h)["*"]||(Xa["*"]={});h["*"].count=new Set([xa?xa:wd(A,{forAs:!0})])}else{let Xa,Eb;null!=(Xa=h)[Eb=ia]||(Xa[Eb]={});h[ia][O]=new Set([xa?xa:wd(A,{forAs:!0})])}}let m;for(const A of null!=(m=b.groupby)?m:[])e.add(A);return 0===e.size+je(h).length?null:new vi(a,e,h)}merge(a){if(Kb(this.dimensions,a.dimensions)){var b=this.measures;a=a.measures;for(const e of je(a)){const h=a[e];for(const m of je(h))if(e in b){let A;b[e][m]=new Set([...(null!=
(A=b[e][m])?A:[]),...h[m]])}else b[e]={[m]:h[m]}}return!0}fb("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...je(this.measures)])}producedFields(){const a=new Set;for(const b of je(this.measures))for(const e of je(this.measures[b])){const h=this.measures[b][e];0===h.size?a.add(`${e}_${b}`):h.forEach(a.add,a)}return a}hash(){return`Aggregate ${kc({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const a=
[],b=[],e=[];for(const h of je(this.measures))for(const m of je(this.measures[h]))for(const A of this.measures[h][m])e.push(A),a.push(m),b.push("*"===h?null:ob(h));return{type:"aggregate",groupby:[...this.dimensions].map(ob),ops:a,fields:b,as:e}}}class Kj extends Uf{constructor(a,b,e,h){super(a);this.model=b;this.name=e;this.data=h;F(this,"column",void 0);F(this,"row",void 0);F(this,"facet",void 0);F(this,"childModel",void 0);for(const m of ai)if(a=b.facet[m]){const {bin:A,sort:O}=a;this[m]=Object.assign({},
{name:b.getName(`${m}_domain`),fields:[wd(a),...(W(A)?[wd(a,{binSuffix:"end"})]:[])]},Vd(O)?{sortField:O}:g.isArray(O)?{sortIndexField:ad(a,m)}:{})}this.childModel=b.child}hash(){let a="Facet";for(const b of ai)this[b]&&(a+=` ${b.charAt(0)}:${kc(this[b])}`);return a}get fields(){const a=[];for(const b of ai){let e;(null==(e=this[b])?0:e.fields)&&a.push(...this[b].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const b of ai)this[b]&&(this[b].sortField&&a.add(this[b].sortField.field),
this[b].sortIndexField&&a.add(this[b].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const h of Mh){var b=this.childModel.component.scales[h];if(b&&!b.merged){var e=b.get("type");b=b.get("range");Sc(e)&&Rc(b)&&(e=sj(this.childModel,h),(e=Nk(e))?a[h]=e:za(dc(h)))}}return a}assembleRowColumnHeaderData(a,b,e){const h={row:"y",column:"x",facet:void 0}[a],m=[],A=[],O=[];h&&e&&e[h]&&(b?(m.push(`distinct_${e[h]}`),
A.push("max")):(m.push(e[h]),A.push("distinct")),O.push(`distinct_${e[h]}`));const {sortField:ia,sortIndexField:xa}=this[a];if(ia){const {op:Xa="min",field:Eb}=ia;m.push(Eb);A.push(Xa);O.push(wd(ia,{forAs:!0}))}else xa&&(m.push(xa),A.push("max"),O.push(xa));return{name:this[a].name,source:null!=b?b:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},m.length?{fields:m,ops:A,as:O}:{})]}}assembleFacetHeaderData(a){const {columns:b}=this.model.layout,{layoutHeaders:e}=this.model.component,
h=[],m={};for(const xa of Ej){for(const Xa of kj){let Eb;var A=null!=(Eb=e[xa]&&e[xa][Xa])?Eb:[];for(const Vb of A){let Mc;if(0<(null==(Mc=Vb.axes)?void 0:Mc.length)){m[xa]=!0;break}}}m[xa]&&(A=`length(data("${this.facet.name}"))`,h.push({name:`${this.facet.name}_${xa}`,transform:[{type:"sequence",start:0,stop:"row"===xa?b?{signal:`ceil(${A} / ${b})`}:1:b?{signal:`min(${A}, ${b})`}:{signal:A}}]}))}const {row:O,column:ia}=m;(O||ia)&&h.unshift(this.assembleRowColumnHeaderData("facet",null,a));return h}assemble(){const a=
[];var b=null;const e=this.getChildIndependentFieldsWithStep(),{column:h,row:m,facet:A}=this;if(h&&m&&(e.x||e.y)){b=`cross_${this.column.name}_${this.row.name}`;var O;let ia;const xa=[].concat(null!=(O=e.x)?O:[],null!=(ia=e.y)?ia:[]);O=xa.map(()=>"distinct");a.push({name:b,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:xa,ops:O}]})}for(const ia of["column","row"])this[ia]&&a.push(this.assembleRowColumnHeaderData(ia,b,e));A&&(b=this.assembleFacetHeaderData(e))&&a.push(...b);
return a}}class nh extends Uf{clone(){return new nh(null,tf(this._parse))}constructor(a,b){super(a);F(this,"_parse",void 0);this._parse=b}hash(){return`Parse ${kc(this._parse)}`}static makeExplicit(a,b,e){let h={};b=b.data;let m;!R(b)&&(null==b?0:null==(m=b.format)?0:m.parse)&&(h=b.format.parse);return this.makeWithAncestors(a,h,{},e)}static makeWithAncestors(a,b,e,h){for(var m of je(e)){const O=h.getWithExplicit(m);void 0!==O.value&&(O.explicit||O.value===e[m]||"derived"===O.value||"flatten"===e[m]?
delete e[m]:za(dd(m,e[m],O.value)))}for(var A of je(b))m=h.get(A),void 0!==m&&(m===b[A]?delete b[A]:za(dd(A,b[A],m)));b=new Dg(b,e);h.copyAll(b);e={};for(const O of je(b.combine()))A=b.get(O),null!==A&&(e[O]=A);return 0===je(e).length||h.parseNothing?null:new nh(a,e)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const b of je(this._parse)){const e=this._parse[b];1===nb(b)&&(a[b]=e)}return a}producedFields(){return new Set(je(this._parse))}dependentFields(){return new Set(je(this._parse))}assembleTransforms(){let a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return je(this._parse).filter(b=>a?1<nb(b):!0).map(b=>{const e=se(b,this._parse[b]);return e?{type:"formula",expr:e,as:Zb(b)}:null}).filter(b=>null!==b)}}class nj extends Uf{clone(){return new nj(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class oj extends Uf{clone(){return new oj(null,this.params)}constructor(a,
b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${kc(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class c extends Uf{clone(){return new c(null,this.params)}constructor(a,b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${kc(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},
this.params)}}class d extends Uf{constructor(a){super(null);F(this,"_data",void 0);F(this,"_name",void 0);F(this,"_generator",void 0);null!=a||(a={name:"source"});let b;R(a)||(b=a.format?Object.assign({},oc(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!b.type){let e=/(?:\.([^.]+))?$/.exec(a.url)[1];Ab(["json","csv","tsv","dsv","topojson"],e)||(e="json");b.type=e}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Xf(a)||
R(a))this._data={};this._generator=R(a);a.name&&(this._name=a.name);b&&!Ua(b)&&(this._data.format=b)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},
{name:this._name},this._data,{transform:[]})}}var n=new WeakMap;class J{constructor(){if(n.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");n.set(this,{writable:!0,value:void 0});ya(this,n,!1)}setModified(){ya(this,n,!0)}get modifiedFlag(){var a=La(this,n,"get");return a.get?a.get.call(this):a.value}}class na extends J{getNodeDepths(a,b,e){e.set(a,b);for(const h of a.children)this.getNodeDepths(h,b+1,e);return e}optimize(a){a=[...this.getNodeDepths(a,
0,new Map).entries()].sort((b,e)=>e[1]-b[1]);for(const b of a)this.run(b[0]);return this.modifiedFlag}}class Ba extends J{optimize(a){this.run(a);for(const b of a.children)this.optimize(b);return this.modifiedFlag}}class tb extends Ba{mergeNodes(a,b){const e=b.shift();for(const h of b)a.removeChild(h),h.parent=e,h.remove()}run(a){const b=a.children.map(h=>h.hash()),e={};for(let h=0;h<b.length;h++)void 0===e[b[h]]?e[b[h]]=[a.children[h]]:e[b[h]].push(a.children[h]);for(const h of je(e))1<e[h].length&&
(this.setModified(),this.mergeNodes(a,e[h]))}}class vc extends Ba{constructor(a){super();F(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&sg(a)}run(a){!(a instanceof nj)||this.requiresSelectionId&&(xg(a.parent)||a.parent instanceof vi||a.parent instanceof nh)||(this.setModified(),a.remove())}}class Oc extends J{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,b){let e=new Set;a instanceof Zh&&(e=a.producedFields(),Ob(e,b)&&(this.setModified(),a.removeFormulas(b),0===
a.producedFields.length&&a.remove()));for(const h of a.children)this.run(h,new Set([...b,...e]))}}class zd extends Ba{constructor(){super()}run(a){a instanceof ag&&!a.isRequired()&&(this.setModified(),a.remove())}}class he extends na{run(a){if(!(xg(a)||1<a.numChildren()))for(const b of a.children)b instanceof nh&&(a instanceof nh?(this.setModified(),a.merge(b)):Pb(a.producedFields(),b.dependentFields())||(this.setModified(),b.swapWithParent()))}}class me extends na{run(a){const b=[...a.children];
var e=a.children.filter(m=>m instanceof nh);if(1<a.numChildren()&&1<=e.length){const m={};var h=new Set;for(const A of e){e=A.parse;for(const O of je(e))O in m?m[O]!==e[O]&&h.add(O):m[O]=e[O]}for(const A of h)delete m[A];if(!Ua(m)){this.setModified();h=new nh(a,m);for(const A of b){if(A instanceof nh)for(const O of je(m))delete A.parse[O];a.removeChild(A);A.parent=h;A instanceof nh&&0===je(A.parse).length&&A.remove()}}}}}class fe extends na{run(a){a instanceof ag||0<a.numChildren()||a instanceof Kj||
a instanceof d||(this.setModified(),a.remove())}}class Ee extends na{run(a){a=a.children.filter(e=>e instanceof Zh);const b=a.pop();for(const e of a)this.setModified(),b.merge(e)}}class Qe extends na{run(a){var b=a.children.filter(m=>m instanceof vi);const e={};for(var h of b)b=kc(h.groupBy),b in e||(e[b]=[]),e[b].push(h);for(const m of je(e))if(h=e[m],1<h.length){b=h.pop();for(const A of h)b.merge(A)&&(a.removeChild(A),A.parent=b,A.remove(),this.setModified())}}}class Ue extends na{constructor(a){super();
this.model=a}run(a){var b=!(xg(a)||a instanceof ei||a instanceof nh||a instanceof nj);const e=[],h=[];for(const m of a.children)m instanceof Qi&&(b&&!Pb(a.producedFields(),m.dependentFields())?e.push(m):h.push(m));if(0<e.length){b=e.pop();for(const m of e)b.merge(m,this.model.renameSignal.bind(this.model));this.setModified();a instanceof Qi?a.merge(b,this.model.renameSignal.bind(this.model)):b.swapWithParent()}if(1<h.length){a=h.pop();for(const m of h)a.merge(m,this.model.renameSignal.bind(this.model));
this.setModified()}}}class Ug extends na{run(a){var b=[...a.children];if(gc(b,m=>m instanceof ag)&&!(1>=a.numChildren())){var e=[];for(const m of b)if(m instanceof ag){for(b=m;1===b.numChildren();){const [A]=b.children;if(A instanceof ag)b=A;else break}e.push(...b.children);if(h)a.removeChild(m),m.parent=h.parent,h.parent.removeChild(h),h.parent=b,this.setModified();else var h=b}else e.push(m);if(e.length){this.setModified();for(const m of e)m.parent.removeChild(m),m.parent=h}}}}class kd extends Uf{clone(){return new kd(null,
tf(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=qb(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(b=>b.field).filter(b=>void 0!==b).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:wd(a)}hash(){return`JoinAggregateTransform ${kc(this.transform)}`}assemble(){const a=
[],b=[],e=[];for(var h of this.transform.joinaggregate)b.push(h.op),e.push(this.getDefaultName(h)),a.push(void 0===h.field?null:h.field);h=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==h?{groupby:h}:{})}}class Tc extends Uf{clone(){return new Tc(null,tf(this._stack))}constructor(a,b){super(a);F(this,"_stack",void 0);this._stack=b}static makeFromTransform(a,b){const {stack:e,groupby:h,as:m,offset:A="zero"}=b;var O=[];const ia=[];if(void 0!==b.sort)for(const xa of b.sort)O.push(xa.field),
ia.push(la(xa.order,"ascending"));O={field:O,order:ia};b=Qh(m)?m:g.isString(m)?[m,`${m}_end`]:[`${b.stack}_start`,`${b.stack}_end`];return new Tc(a,{dimensionFieldDefs:[],stackField:e,groupby:h,offset:A,sort:O,facetby:[],as:b})}static makeFromEncoding(a,b){var e=b.stack;const {encoding:h}=b;if(!e)return null;const {groupbyChannels:m,fieldChannel:A,offset:O,impute:ia}=e;e=m.map(Eb=>Je(h[Eb])).filter(Eb=>!!Eb);const xa=bh(b);var Xa=b.encoding.order;if(g.isArray(Xa)||ub(Xa))Xa=Ga(Xa);else{const Eb=Xa&&
Xa.sort&&!Xa.field?Xa.sort:"y"===A?"descending":"ascending";Xa=xa.reduce((Vb,Mc)=>{Vb.field.push(Mc);Vb.order.push(Eb);return Vb},{field:[],order:[]})}return new Tc(a,{dimensionFieldDefs:e,stackField:b.vgField(A),facetby:[],stackby:xa,sort:Xa,offset:O,impute:ia,as:[b.vgField(A,{suffix:"start",forAs:!0}),b.vgField(A,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,
a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${kc(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:b,groupby:e}=this._stack;return 0<a.length?a.map(h=>h.bin?b?[wd(h,{binSuffix:"mid"})]:[wd(h,{}),wd(h,{binSuffix:"end"})]:[wd(h)]).flat():null!=e?e:[]}assemble(){const a=[],{facetby:b,dimensionFieldDefs:e,stackField:h,stackby:m,sort:A,offset:O,impute:ia,as:xa}=this._stack;
if(ia)for(const Xa of e){const {bandPosition:Eb=.5,bin:Vb}=Xa;if(Vb){const Mc=wd(Xa,{expr:"datum"}),xd=wd(Xa,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${Eb}*${Mc}+${1-Eb}*${xd}`,as:wd(Xa,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",field:h,groupby:[...m,...b],key:wd(Xa,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...b],field:h,sort:A,as:xa,offset:O});return a}}class od extends Uf{clone(){return new od(null,tf(this.transform))}constructor(a,
b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=qb(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;let b;(null!=(b=this.transform.groupby)?b:[]).forEach(a.add,a);let e;(null!=(e=this.transform.sort)?e:[]).forEach(h=>a.add(h.field));this.transform.window.map(h=>h.field).filter(h=>void 0!==h).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:wd(a)}hash(){return`WindowTransform ${kc(this.transform)}`}assemble(){const a=
[],b=[],e=[],h=[];for(var m of this.transform.window)b.push(m.op),e.push(this.getDefaultName(m)),h.push(void 0===m.param?null:m.param),a.push(void 0===m.field?null:m.field);m=this.transform.frame;const A=this.transform.groupby;if(m&&null===m[0]&&null===m[1]&&b.every(Xa=>Ja(Xa)))return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==A?{groupby:A}:{});const O=[],ia=[];if(void 0!==this.transform.sort)for(var xa of this.transform.sort){O.push(xa.field);let Xa;ia.push(null!=(Xa=xa.order)?
Xa:"ascending")}xa=this.transform.ignorePeers;return Object.assign({},{type:"window",params:h,as:e,ops:b,fields:a,sort:{field:O,order:ia}},void 0!==xa?{ignorePeers:xa}:{},void 0!==A?{groupby:A}:{},void 0!==m?{frame:m}:{})}}class ie{constructor(a){F(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,b){return new ie(()=>a(b))}}class We extends Dg{constructor(a,b){super({},{name:a});F(this,"merged",!1);this.setWithExplicit("type",b)}domainDefinitelyIncludesZero(){return!1!==
this.get("zero")?!0:gc(this.get("domains"),a=>g.isArray(a)&&2===a.length&&g.isNumber(a[0])&&0>=a[0]&&g.isNumber(a[1])&&0<=a[1])}}const kf=["range","scheme"],gf={bins:a=>{let {model:b,fieldOrDatumDef:e}=a;return ub(e)?Qj(b,e):void 0},interpolate:a=>{let {channel:b,fieldOrDatumDef:e}=a;a=e.type;a=Ab(["color","fill","stroke"],b)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:b,channel:e,domain:h,domainMin:m,domainMax:A,fieldOrDatumDef:O}=a;{let ia;a=(null==(ia=Je(O))?0:ia.bin)||g.isArray(h)||
null!=A||null!=m||Ab([Vh.TIME,Vh.UTC],b)?void 0:U(e)?!0:void 0}return a},padding:a=>{let {channel:b,scaleType:e,fieldOrDatumDef:h,markDef:m,config:A}=a;a:{a=A.scale;var O=A.bar;if(U(b)){if(zg.has(e)){if(void 0!==a.continuousPadding){a=a.continuousPadding;break a}const {type:ia,orient:xa}=m;if("bar"===ia&&(!ub(h)||!h.bin&&!h.timeUnit)&&("vertical"===xa&&"x"===b||"horizontal"===xa&&"y"===b)){a=O.continuousBandSize;break a}}if(e===Vh.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>
{let {scalePadding:b,channel:e,markDef:h,scaleType:m,config:A,hasNestedOffsetScale:O}=a;return Ti(b,e,h.type,m,A.scale,O)},paddingOuter:a=>{let {scalePadding:b,channel:e,scaleType:h,scalePaddingInner:m,config:A,hasNestedOffsetScale:O}=a;return Jl(b,e,h,m,A.scale,O)},reverse:a=>{let {fieldOrDatumDef:b,scaleType:e,channel:h,config:m}=a;a=ub(b)?b.sort:void 0;var A=m.scale;a="x"===h&&void 0!==A.xReverse?fd(e)&&"descending"===a?Wb(A.xReverse)?{signal:`!${A.xReverse.signal}`}:!A.xReverse:A.xReverse:fd(e)&&
"descending"===a?!0:void 0;return a},zero:a=>{let {channel:b,fieldOrDatumDef:e,domain:h,markDef:m,scaleType:A,config:O,hasSecondaryRangeChannel:ia}=a;a:if(a=O.scale,h&&"unaggregated"!==h&&fd(A)){if(g.isArray(h)){a=h[0];const xa=h[h.length-1];if(g.isNumber(a)&&0>=a&&g.isNumber(xa)&&0<=xa){a=!0;break a}}a=!1}else if("size"!==b||"quantitative"!==e.type||dh.has(A))if(ub(e)&&e.bin||!Ab([...Mh,...ql],b))a=!1;else{const {orient:xa,type:Xa}=m;a=Ab(["bar","area","line","trail"],Xa)&&("horizontal"===xa&&"y"===
b||"vertical"===xa&&"x"===b)?!1:Ab(["bar","area"],Xa)&&!ia?!0:null==a?void 0:a.zero}else a=!0;return a}},uf=Df((a,b)=>cj[a]-cj[b]);class fh{constructor(){F(this,"nameMap",void 0);this.nameMap={}}rename(a,b){this.nameMap[a]=b}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class Sf{constructor(a,b,e,h,m,A,O){this.type=b;this.parent=e;this.config=m;F(this,"name",void 0);F(this,"size",void 0);F(this,"title",void 0);F(this,"description",
void 0);F(this,"data",void 0);F(this,"transforms",void 0);F(this,"layout",void 0);F(this,"scaleNameMap",void 0);F(this,"projectionNameMap",void 0);F(this,"signalNameMap",void 0);F(this,"component",void 0);F(this,"view",void 0);F(this,"children",void 0);F(this,"correctDataNames",Xa=>{let Eb;if(null==(Eb=Xa.from)?0:Eb.data)Xa.from.data=this.lookupDataSource(Xa.from.data);let Vb,Mc;if(null==(Vb=Xa.from)?0:null==(Mc=Vb.facet)?0:Mc.data)Xa.from.facet.data=this.lookupDataSource(Xa.from.facet.data);return Xa});
this.parent=e;this.config=m;this.view=uc(O);let ia;this.name=null!=(ia=a.name)?ia:h;this.title=bd(a.title)?{text:a.title}:a.title?uc(a.title):void 0;this.scaleNameMap=e?e.scaleNameMap:new fh;this.projectionNameMap=e?e.projectionNameMap:new fh;this.signalNameMap=e?e.signalNameMap:new fh;this.data=a.data;this.description=a.description;let xa;this.transforms=Gg(null!=(xa=a.transform)?xa:[]);this.layout="layer"===b||"unit"===b?{}:rg(a,b,m);this.component={data:{sources:e?e.component.data.sources:[],outputNodes:e?
e.component.data.outputNodes:{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==e?void 0:e.component.data.isFaceted)&&void 0===a.data},layoutSize:new Dg,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},A?tf(A):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();
this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){tk(this)}parseProjection(){qf(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Cf(this)}assembleEncodeFromView(a){a=Object.assign({},
a);a=(delete a.style,a);const b={};for(const e of je(a)){const h=a[e];void 0!==h&&(b[e]=Sb(h))}return b}assembleGroupEncodeEntry(a){let b={};this.view&&(b=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(b.description=Sb(this.description)),"unit"===this.type||"layer"===this.type)){let e;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(e=b)?e:{})}return Ua(b)?void 0:b}assembleLayout(){if(this.layout){var a=this.layout,b=
Object.assign({},a);a=a.spacing;b=(delete b.spacing,b);var {component:e,config:h}=this,m=e.layoutHeaders,A={};for(ia of ai){var O=m[ia];let xa;if(null==(xa=O)?0:xa.facetFieldDef){const {titleAnchor:Xa,titleOrient:Eb}=Re(["titleAnchor","titleOrient"],O.facetFieldDef.header,h,ia);O=ke(ia,Eb);const Vb=$k[O][Xa];void 0!==Vb&&(A[O]=Vb)}}var ia=Ua(A)?void 0:A;return Object.assign({},{padding:a},this.assembleDefaultLayout(),b,ia?{titleBand:ia}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=
this.component,b=[];for(var e of ai)if(a[e].title){var h=b,m=h.push;var A=e;var O=this.component.layoutHeaders[A].title,ia=this.config?this.config:void 0,xa=this.component.layoutHeaders[A].facetFieldDef?this.component.layoutHeaders[A].facetFieldDef:void 0;const {titleAnchor:nd,titleAngle:Hd,titleOrient:Od}=Re(["titleAnchor","titleAngle","titleOrient"],xa.header,ia,A);var Xa=ke(A,Od),Eb=cb(Hd);A={name:`${A}-title`,type:"group",role:`${Xa}-title`,title:Object.assign({},{text:O},"row"===A?{orient:"left"}:
{},{style:"guide-title"},S(Eb,Xa),w(Xa,Eb,nd),Ea(ia,xa,A,lm,xj))};m.call(h,A)}for(const nd of Ej){a=b;b=a.concat;h=nd;m=this.component.layoutHeaders[h];e=[];for(const Hd of kj)if(m[Hd])for(const Od of m[Hd]){a:{xa=void 0;A=h;var Vb=Hd,Mc=m;if(O=Od){ia=null;({facetFieldDef:Lc}=Mc);Xa=this.config?this.config:void 0;Lc&&O.labels&&({labelOrient:Eb}=Re(["labelOrient"],Lc.header,Xa,A),"row"===A&&!Ab(["top","bottom"],Eb)||"column"===A&&!Ab(["left","right"],Eb))&&(ia=Z(Lc,A,Xa));const Ye=Rh(this)&&!le(this.facet),
ze=O.axes,Ff=0<(null==ze?void 0:ze.length);if(ia||Ff){const cg="row"===A?"height":"width";Xa=Object;Eb=Xa.assign;Vb={name:this.getName(`${A}_${Vb}`),type:"group",role:`${A}-${Vb}`};if(Mc.facetFieldDef){Mc={data:this.getName(`${A}_domain`)};{var xd=Lc;const {sort:yg}=xd;var Lc=Vd(yg)?{field:wd(yg,{expr:"datum"}),order:null!=(xa=yg.order)?xa:"ascending"}:g.isArray(yg)?{field:ad(xd,A,{expr:"datum"}),order:"ascending"}:{field:wd(xd,{expr:"datum"}),order:null!=yg?yg:"ascending"}}xa={from:Mc,sort:Lc}}else xa=
{};A=Eb.call(Xa,{},Vb,xa,Ff&&Ye?{from:{data:this.getName(`facet_domain_${A}`)}}:{},ia?{title:ia}:{},O.sizeSignal?{encode:{update:{[cg]:O.sizeSignal}}}:{},Ff?{axes:ze}:{});break a}}A=null}null!=A&&e.push(A)}b=b.call(a,e)}return b}assembleAxes(){return V(this.component.axes,this.config)}assembleLegends(){return kg(this)}assembleProjections(){var a=Vi(this)||$i(this)?Gh(this):gg(this);return a}assembleTitle(){var a,b=null!=(a=this.title)?a:{};a=Object.assign({},b);b=b.encoding;a=(delete a.encoding,a);
b=Object.assign({},wc(this.config.title).nonMarkTitleProperties,a,b?{encode:{update:b}}:{});if(b.text)return Ab(["unit","layer"],this.type)?Ab(["middle",void 0],b.anchor)&&(null!=b.frame||(b.frame="group")):null!=b.anchor||(b.anchor="start"),Ua(b)?void 0:b}assembleGroup(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const b={};a=a.concat(this.assembleSignals());0<a.length&&(b.signals=a);if(a=this.assembleLayout())b.layout=a;b.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());
a=!this.parent||Rh(this.parent)?Ok(this):[];0<a.length&&(b.scales=a);a=this.assembleAxes();0<a.length&&(b.axes=a);a=this.assembleLegends();0<a.length&&(b.legends=a);return b}getName(a){return Oa((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(Of[a].toLowerCase())}requestDataName(a){a=this.getDataName(a);const b=this.component.data.outputNodeRefCounts;b[a]=(b[a]||0)+1;return a}getSizeSignalRef(a){if(Rh(this.parent)){var b=Kc(a),e=Aa(b);if((b=this.component.scales[e])&&!b.merged){var h=
b.get("type");const m=b.get("range");if(Sc(h)&&Rc(m)){a=b.get("name");h=sj(this,e);if(h=Nk(h))return e=wd({aggregate:"distinct",field:h},{expr:"datum"}),{signal:Mb(a,b,e)};za(dc(e));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const b=this.component.data.outputNodes[a];return b?b.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,b){this.signalNameMap.rename(a,b)}renameScale(a,b){this.scaleNameMap.rename(a,b)}renameProjection(a,
b){this.projectionNameMap.rename(a,b)}scaleName(a,b){if(b)return this.getName(a);if(Wi[a]&&li[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const b=this.component.scales[a];return b&&!b.merged?b:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,b){let e=this.component.selection[a];!e&&this.parent&&(e=this.parent.getSelectionComponent(a,b));if(!e)throw Error(`Cannot find a selection named "${b}".`);return e}hasAxisOrientSignalRef(){let a,b;return(null==(a=this.component.axes.x)?void 0:a.some(e=>e.hasOrientSignalRef()))||(null==(b=this.component.axes.y)?void 0:b.some(e=>e.hasOrientSignalRef()))}}class Mi extends Sf{vgField(a){let b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const e=this.fieldDef(a);if(e)return wd(e,b)}reduceFieldDef(a,b){return pa(this.getMapping(),(e,h,m)=>(h=Je(h))?a(e,h,m):e,b)}forEachFieldDef(a,b){Sg(this.getMapping(),(e,h)=>{(e=Je(e))&&a(e,h)},b)}}class Xk extends Uf{clone(){return new Xk(null,tf(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=tf(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let h,m;this.transform.as=[null!=(h=a[0])?h:"value",null!=(m=
a[1])?m:"density"];b.groupby&&null==b.minsteps&&null==b.maxsteps&&null==b.steps&&(this.transform.steps=200)}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${kc(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);a=a.density;b=(delete b.density,b);return Object.assign({},{type:"kde",field:a},b)}}class tm extends Uf{clone(){return new tm(null,
tf(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=tf(b)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${kc(this.transform)}`}assemble(){const {extent:a,param:b}=this.transform;return{type:"extent",field:a,signal:b}}}class Dl extends Uf{clone(){return new Dl(null,Object.assign({},this.filter))}constructor(a,b){super(a);this.filter=b}static make(a,b){const {config:e,mark:h,markDef:m}=b;if("filter"!==
zc("invalid",m,e))return null;const A=b.reduceFieldDef((O,ia,xa)=>{if(xa=!!li[xa]&&b.getScaleComponent(xa))xa=xa.get("type"),fd(xa)&&"count"!==ia.aggregate&&!pc(h)&&(O[ia.field]=ia);return O},{});return je(A).length?new Dl(a,A):null}dependentFields(){return new Set(je(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${kc(this.filter)}`}assemble(){const a=je(this.filter).reduce((b,e)=>{e=this.filter[e];const h=wd(e,{expr:"datum"});null!==e&&("temporal"===e.type?b.push(`(isDate(${h}) || (isValid(${h}) && isFinite(+${h})))`):
"quantitative"===e.type&&(b.push(`isValid(${h})`),b.push(`isFinite(+${h})`)));return b},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class nm extends Uf{clone(){return new nm(this.parent,tf(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=tf(b);const {flatten:e,as:h=[]}=this.transform;this.transform.as=e.map((m,A)=>{let O;return null!=(O=h[A])?O:m})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${kc(this.transform)}`}assemble(){const {flatten:a,
as:b}=this.transform;return{type:"flatten",fields:a,as:b}}}class mm extends Uf{clone(){return new mm(null,tf(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=tf(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let h,m;this.transform.as=[null!=(h=a[0])?h:"key",null!=(m=a[1])?m:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${kc(this.transform)}`}assemble(){const {fold:a,
as:b}=this.transform;return{type:"fold",fields:a,as:b}}}class il extends Uf{clone(){return new il(null,tf(this.fields),this.geojson,this.signal)}static parseAll(a,b){if(b.component.projection&&!b.component.projection.isFit)return a;let e=0;for(var h of[["longitude","latitude"],["longitude2","latitude2"]]){const m=h.map(A=>{A=ne(b.encoding[A]);return ub(A)?A.field:sc(A)?{expr:`${A.datum}`}:yd(A)?{expr:`${A.value}`}:void 0});if(m[0]||m[1])a=new il(a,m,null,b.getName(`geojson_${e++}`))}b.channelHasField("shape")&&
(h=b.typedFieldDef("shape"),"geojson"===h.type&&(a=new il(a,null,h.field,b.getName(`geojson_${e++}`))));return a}constructor(a,b,e,h){super(a);this.fields=b;this.geojson=e;this.signal=h}dependentFields(){let a;const b=(null!=(a=this.fields)?a:[]).filter(g.isString);return new Set([...(this.geojson?[this.geojson]:[]),...b])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${kc(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:
[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class El extends Uf{clone(){return new El(null,this.projection,tf(this.fields),tf(this.as))}constructor(a,b,e,h){super(a);this.projection=b;this.fields=e;this.as=h}static parseAll(a,b){if(!b.projectionName())return a;for(const e of[["longitude","latitude"],["longitude2","latitude2"]]){const h=e.map(A=>{A=ne(b.encoding[A]);return ub(A)?A.field:sc(A)?{expr:`${A.datum}`}:
yd(A)?{expr:`${A.value}`}:void 0}),m="longitude2"===e[0]?"2":"";if(h[0]||h[1])a=new El(a,b.projectionName(),h,[b.getName(`x${m}`),b.getName(`y${m}`)])}return a}dependentFields(){return new Set(this.fields.filter(g.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${kc(this.fields)} ${kc(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Mk extends Uf{clone(){return new Mk(null,tf(this.transform))}constructor(a,
b){super(a);this.transform=b}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:b=0,stop:e,step:h}=a;return{signal:`sequence(${[b,e,...(h?[h]:[])].join()})`}}static makeFromTransform(a,b){return new Mk(a,b)}static makeFromEncoding(a,b){const e=b.encoding;var h=e.x;const m=e.y;if(ub(h)&&ub(m)){const A=h.impute?h:m.impute?m:void 0;if(void 0===
A)return;h=h.impute?m:m.impute?h:void 0;const {method:O,value:ia,frame:xa,keyvals:Xa}=A.impute;b=bb(b.mark,e);return new Mk(a,Object.assign({},{impute:A.field,key:h.field},O?{method:O}:{},void 0!==ia?{value:ia}:{},xa?{frame:xa}:{},void 0!==Xa?{keyvals:Xa}:{},b.length?{groupby:b}:{}))}return null}hash(){return`Impute ${kc(this.transform)}`}assemble(){const {impute:a,key:b,keyvals:e,method:h,groupby:m,value:A,frame:O=[null,null]}=this.transform;var ia=Object,xa=ia.assign;var Xa=e?{keyvals:void 0!==
(null==e?void 0:e.stop)?this.processSequence(e):e}:{};ia=xa.call(ia,{},{type:"impute",field:a,key:b},Xa,{method:"value"},m?{groupby:m}:{},{value:h&&"value"!==h?null:A});return h&&"value"!==h?(xa=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[h],fields:[a],frame:O,ignorePeers:!1},m?{groupby:m}:{}),[ia,xa,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,as:a}]):[ia]}}class om extends Uf{clone(){return new om(null,tf(this.transform))}constructor(a,b){super(a);
this.transform=b;this.transform=tf(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let h,m;this.transform.as=[null!=(h=a[0])?h:b.on,null!=(m=a[1])?m:b.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${kc(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);const e=a.loess;a=a.on;b=(delete b.loess,delete b.on,
b);return Object.assign({},{type:"loess",x:a,y:e},b)}}class Fl extends Uf{clone(){return new Fl(null,tf(this.transform),this.secondary)}constructor(a,b,e){super(a);this.transform=b;this.secondary=e}static make(a,b,e,h){const m=b.component.data.sources,{from:A}=e;var O=null;if("data"in A)O=Bl(A.data,m),O||(O=new d(A.data),m.push(O)),h=b.getName(`lookup_${h}`),O=new ag(O,h,Of.Lookup,b.component.data.outputNodeRefCounts),b.component.data.outputNodes[h]=O;else if("param"in A){h=A.param;e=Object.assign({},
{as:h},e);let ia;try{ia=b.getSelectionComponent(Oa(h),h)}catch(xa){throw Error(`Lookups can only be performed on selection parameters. "${h}" is a variable parameter.`);}O=ia.materialized;if(!O)throw Error(`Cannot define and lookup the "${h}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new Fl(a,e,O.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?g.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${kc({transform:this.transform,
secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:g.array(this.transform.as)}:{});else a=this.transform.as,g.isString(a)||(za('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},
a,this.transform.default?{default:this.transform.default}:{})}}class pm extends Uf{clone(){return new pm(null,tf(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=tf(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let h,m;this.transform.as=[null!=(h=a[0])?h:"prob",null!=(m=a[1])?m:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${kc(this.transform)}`}assemble(){var a=
this.transform,b=Object.assign({},a);a=a.quantile;b=(delete b.quantile,b);return Object.assign({},{type:"quantile",field:a},b)}}class qm extends Uf{clone(){return new qm(null,tf(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=tf(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let h,m;this.transform.as=[null!=(h=a[0])?h:b.on,null!=(m=a[1])?m:b.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${kc(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);const e=a.regression;a=a.on;b=(delete b.regression,delete b.on,b);return Object.assign({},{type:"regression",x:a,y:e},b)}}class sm extends Uf{clone(){return new sm(null,tf(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){let b;this.transform.groupby=qb((null!=(b=this.transform.groupby)?b:[]).concat(a),
e=>e)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${kc(this.transform)}`}assemble(){const {pivot:a,value:b,groupby:e,limit:h,op:m}=this.transform;return Object.assign({},{type:"pivot",field:a,value:b},void 0!==h?{limit:h}:{},void 0!==m?{op:m}:{},void 0!==e?{groupby:e}:{})}}class rm extends Uf{clone(){return new rm(null,tf(this.transform))}constructor(a,b){super(a);this.transform=
b}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${kc(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class Hl extends Mi{constructor(a,b,e,h){super(a,"facet",b,e,h,a.resolve);F(this,"facet",void 0);F(this,"child",void 0);F(this,"children",void 0);this.child=Tk(a.spec,this,this.getName("child"),void 0,h);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!le(a))return{facet:this.initFacetFieldDef(a,
"facet")};var b=je(a);const e={};for(const h of b){if(!["row","column"].includes(h)){za(Zd(h,"facet"));break}b=a[h];if(void 0===b.field){za(Ed(b,h));break}e[h]=this.initFacetFieldDef(b,h)}return e}initFacetFieldDef(a,b){a=ef(a,b);a.header?a.header=uc(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=Ik(this);this.child.parseData()}parseLayoutSize(){Ij(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const h of ai){var a=void 0,b=h;const {facet:m,config:A,child:O,component:ia}=this;if(this.channelHasField(b)){const xa=m[b];var e=Ae("title",null,A,b);e=ge(xa,A,{allowDisabling:!0,includeDefault:void 0===e||!!e});O.component.layoutHeaders[b].title&&(e=g.isArray(e)?e.join(", "):e,e+=` / ${O.component.layoutHeaders[b].title}`,O.component.layoutHeaders[b].title=
null);const Xa=Ae("labelOrient",xa.header,A,b),Eb=null!==xa.header?la(null==(a=xa.header)?void 0:a.labels,A.header.labels,!0):!1;a=Ab(["bottom","right"],Xa)?"footer":"header";ia.layoutHeaders[b]={title:null!==xa.header?e:null,facetFieldDef:xa,[a]:"facet"===b?[]:[Hk(this,b,Eb)]}}}Hj(this,"x");Hj(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a=
{};for(const h of ai)for(const m of kj){const A=this.component.layoutHeaders[h];var b=A[m],{facetFieldDef:e}=A;if(e&&(e=Ae("titleOrient",e.header,this.config,h),["right","bottom"].includes(e))){e=ke(h,e);let ia;null!=(ia=a).titleAnchor||(ia.titleAnchor={});a.titleAnchor[e]="end"}let O;if(null==(O=b)?0:O[0]){b="row"===h?"height":"width";e="header"===m?"headerBand":"footerBand";if("facet"!==h&&!this.child.component.layoutSize.get(b)){let ia,xa;null!=(ia=a)[xa=e]||(ia[xa]={});a[e][h]=.5}if(A.title){let ia;
null!=(ia=a).offset||(ia.offset={});a.offset["row"===h?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:b}=this.facet,e=a?this.columnDistinctSignal():b?1:void 0;let h="all";b||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(h="none"):h="none";return Object.assign({},this.getHeaderLayoutMixins(),e?{columns:e}:{},{bounds:"full",align:h})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof Hl))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof Hl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:wd(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],b=[],e=[];if(this.child instanceof Hl){if(this.child.channelHasField("column")){var h=wd(this.child.facet.column);
a.push(h);b.push("distinct");e.push(`distinct_${h}`)}}else for(h of Mh){var m=this.child.component.scales[h];if(m&&!m.merged){var A=m.get("type");m=m.get("range");Sc(A)&&Rc(m)&&(A=sj(this.child,h),(A=Nk(A))?(a.push(A),b.push("distinct"),e.push(`distinct_${A}`)):za(dc(h)))}}return{fields:a,ops:b,as:e}}assembleFacet(){const {name:a,data:b}=this.component.data.facetRoot,{row:e,column:h}=this.facet,{fields:m,ops:A,as:O}=this.getCardinalityAggregateForChild(),ia=[];for(var xa of ai){var Xa=this.facet[xa];
if(Xa){ia.push(wd(Xa));const {bin:Eb,sort:Vb}=Xa;W(Eb)&&ia.push(wd(Xa,{binSuffix:"end"}));if(Vd(Vb)){const {field:Mc,op:xd="min"}=Vb;Xa=Sk(Xa,Vb);e&&h?(m.push(Xa),A.push("max")):(m.push(Mc),A.push(xd));O.push(Xa)}else g.isArray(Vb)&&(Xa=ad(Xa,xa),m.push(Xa),A.push("max"),O.push(Xa))}}xa=!!e&&!!h;return Object.assign({},{name:a,data:b,groupby:ia},xa||0<m.length?{aggregate:Object.assign({},xa?{cross:xa}:{},m.length?{fields:m,ops:A,as:O}:{})}:{})}facetSortFields(a){var {facet:b}=this;return(b=b[a])?
Vd(b.sort)?[Sk(b,b.sort,{expr:"datum"})]:g.isArray(b.sort)?[ad(b,a,{expr:"datum"})]:[wd(b,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:b}=this;return(a=b[a])?({sort:a}=a,[(Vd(a)?a.order:!g.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:b}=this;if(a.facet)return Z(a.facet,"facet",b);const e={row:["top","bottom"],column:["left","right"]};for(const h of Ej)if(a[h]){let m;const A=Ae("labelOrient",null==(m=a[h])?void 0:m.header,b,h);if(e[h].includes(A))return Z(a[h],
h,b)}}assembleMarks(){const {child:a}=this,b=Nl(this.component.data.facetRoot),e=a.assembleGroupEncodeEntry(!1),h=this.assembleLabelTitle()||a.assembleTitle(),m=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},h?{title:h}:{},m?{style:m}:{},{from:{facet:this.assembleFacet()},sort:{field:ai.map(A=>this.facetSortFields(A)).flat(),order:ai.map(A=>this.facetSortOrder(A)).flat()}},0<b.length?{data:b}:{},e?{encode:{update:e}}:{},a.assembleGroup(q(this,[])))]}getMapping(){return this.facet}}
class Gm extends Sf{constructor(a,b,e,h){super(a,"concat",b,e,h,a.resolve);F(this,"children",void 0);let m,A,O,ia;"shared"!==(null==(m=a.resolve)?void 0:null==(A=m.axis)?void 0:A.x)&&"shared"!==(null==(O=a.resolve)?void 0:null==(ia=O.axis)?void 0:ia.y)||za("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((xa,Xa)=>Tk(xa,this,this.getName(`concat_${Xa}`),void 0,h))}parseData(){this.component.data=Ik(this);
for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const b of je(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){Ij(this);const a=void 0===this.layout.columns?
"height":"childHeight";Yj(this,1===this.layout.columns?"width":"childWidth");Yj(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=sb(this);for(const b of this.children)a.push(...b.assembleLayoutSignals());return a}assembleSelectionData(a){return this.children.reduce((b,e)=>e.assembleSelectionData(b),
a)}assembleMarks(){return this.children.map(a=>{const b=a.assembleTitle(),e=a.assembleGroupStyle(),h=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},b?{title:b}:{},e?{style:e}:{},h?{encode:{update:h}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})}}const Hm=Object.assign({},{disable:1,gridScale:1,scale:1},Rg,{labelExpr:1,encode:1}),
ym=je(Hm);class zm extends Dg{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=b;this.mainExtracted=e}clone(){return new zm(tf(this.explicit),tf(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Wb(this.explicit.orient)}}
const Im={bottom:"top",top:"bottom",left:"right",right:"left"},Fm=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Gl={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},of(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),ve("x",a,{defaultPos:"mid"}),ve("y",a,{defaultPos:"mid"}),Pe(a,"radius"),Pe(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},of(a,{align:"ignore",baseline:"ignore",
color:"include",orient:"include",size:"ignore",theta:"ignore"}),sf("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),sf("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),Lf(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},of(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Pe(a,"x"),Pe(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>Pk(a,"circle")},geoshape:{vgMark:"shape",
encodeEntry:a=>Object.assign({},of(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:b}=a;b=b.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},b&&ub(b)&&"geojson"===b.type?{field:wd(b,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>Object.assign({},of(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Pe(a,"x"),Pe(a,"y"),
oa(a,"url"))},line:{vgMark:"line",encodeEntry:a=>Object.assign({},of(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),ve("x",a,{defaultPos:"mid"}),ve("y",a,{defaultPos:"mid"}),pd("size",a,{vgChannel:"strokeWidth"}),Lf(a))},point:{vgMark:"symbol",encodeEntry:a=>Pk(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},of(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Pe(a,"x"),Pe(a,"y"))},rule:{vgMark:"rule",
encodeEntry:a=>{var {markDef:b}=a;b=b.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},of(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),sf("x",a,{defaultPos:"horizontal"===b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==b}),sf("y",a,{defaultPos:"vertical"===b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==b}),pd("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",
encodeEntry:a=>Pk(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:b}=a,e=Object,h=e.assign,m=of(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),A=ve("x",a,{defaultPos:"mid"}),O=ve("y",a,{defaultPos:"mid"}),ia=oa(a),xa=pd("size",a,{vgChannel:"fontSize"}),Xa=pd("angle",a);var Eb=void 0===zc("align",a.markDef,b)?"center":void 0;Eb=jg("align",Eb);b=void 0===zc("baseline",a.markDef,b)?"middle":void 0;return h.call(e,{},m,A,O,ia,xa,Xa,Eb,
jg("baseline",b),ve("radius",a,{defaultPos:null}),ve("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:b,markDef:e}=a;var h=e.orient;const m="horizontal"===h?"width":"height";h="horizontal"===h?"height":"width";var A=Object,O=A.assign,ia=of(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),xa=ve("x",a,{defaultPos:"mid",vgChannel:"xc"}),Xa=ve("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:xd,markDef:Lc}=a;var {orient:Eb}=
Lc;var Vb="horizontal"===Eb?"width":"height";Eb=a.getScaleComponent("horizontal"===Eb?"x":"y");var Mc;const nd=null!=(Mc=zc("size",Lc,xd,{vgChannel:Vb}))?Mc:xd.tick.bandSize;Vb=void 0!==nd?nd:(Mc=Eb?Eb.get("range"):void 0)&&Rc(Mc)&&g.isNumber(Mc.step)?3*Mc.step/4:3*ig(xd.view,Vb)/4}return O.call(A,{},ia,xa,Xa,pd("size",a,{defaultValue:Vb,vgChannel:m}),{[h]:Sb(zc("thickness",e,b))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},of(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",
orient:"ignore",theta:"ignore"}),ve("x",a,{defaultPos:"mid"}),ve("y",a,{defaultPos:"mid"}),pd("size",a),Lf(a))}};class Bm extends Mi{constructor(a,b,e){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},m=4<arguments.length?arguments[4]:void 0;super(a,"unit",b,e,m,void 0,zf(a)?a.view:void 0);F(this,"markDef",void 0);F(this,"encoding",void 0);F(this,"specifiedScales",{});F(this,"stack",void 0);F(this,"specifiedAxes",{});F(this,"specifiedLegends",{});F(this,"specifiedProjection",{});F(this,
"selection",[]);F(this,"children",[]);const A=Jc(a.mark)?Object.assign({},a.mark):{type:a.mark},O=A.type;void 0===A.filled&&(A.filled=yh(A,m,{graticule:a.data&&"graticule"in a.data}));const ia=this.encoding=Xg(a.encoding||{},O,A.filled,m);this.markDef=rh(A,ia,m);this.size=fm({encoding:ia,size:zf(a)?Object.assign({},h,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):h});this.stack=Vg(this.markDef,ia);this.specifiedScales=this.initScales(O,ia);this.specifiedAxes=this.initAxes(ia);this.specifiedLegends=
this.initLegends(ia);this.specifiedProjection=a.projection;let xa;this.selection=(null!=(xa=a.params)?xa:[]).filter(Xa=>Ie(Xa))}get hasProjection(){const {encoding:a}=this,b=this.mark===fj,e=a&&pl.some(h=>Gc(a[h]));return b||e}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,b){return nk.reduce((e,h)=>{const m=ne(b[h]);if(m){let A;e[h]=this.initScale(null!=(A=m.scale)?A:{})}return e},{})}initScale(a){const {domain:b,
range:e}=a;a=uc(a);g.isArray(b)&&(a.domain=b.map(Ub));g.isArray(e)&&(a.range=e.map(Ub));return a}initAxes(a){return Mh.reduce((b,e)=>{var h=a[e];if(Gc(h)||"x"===e&&Gc(a.x2)||"y"===e&&Gc(a.y2))h=Gc(h)?h.axis:void 0,b[e]=h?this.initAxis(Object.assign({},h)):h;return b},{})}initAxis(a){var b=je(a);const e={};for(const h of b)b=a[h],e[h]=If(b)?Ka(b):Ub(b);return e}initLegends(a){return rl.reduce((b,e)=>{var h=ne(a[e]),m;if(m=h)a:{switch(e){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":m=
!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":m=!1;break a}m=void 0}m&&(h=h.legend,b[e]=h?uc(h):h);return b},{})}parseData(){this.component.data=Ik(this)}parseLayoutSize(){const {size:a,component:b}=this;for(const h of Mh){const m=B(h);if(a[m]){var e=a[m];b.layoutSize.set(m,lf(e)?"step":e,!0)}else e=bm(this,m),b.layoutSize.set(m,e,!1)}}parseSelections(){var a=this.component;{var b=this.selection;var e={};const A=this.config.selection;if(b&&b.length)for(const O of b){b=Oa(O.name);
var h=O.select,m=g.isString(h)?h:h.type;h=g.isObject(h)?tf(h):{type:m};const ia=A[m];for(const xa in ia)if("fields"!==xa&&"encodings"!==xa&&("mark"===xa&&(h[xa]=Object.assign({},ia[xa],h[xa])),void 0===h[xa]||!0===h[xa])){let Xa;h[xa]=tf(null!=(Xa=ia[xa])?Xa:h[xa])}b=e[b]=Object.assign({},h,{name:b,type:m,init:O.value,bind:O.bind,events:g.isString(h.on)?g.parseSelector(h.on,"scope"):g.array(tf(h.on))});m=tf(O);for(const xa of Aj)xa.defined(b)&&xa.parse&&xa.parse(this,b,m)}}a.selection=e}parseMarkGroup(){this.component.mark=
gm(this)}parseAxesAndHeaders(){this.component.axes=cm(this)}assembleSelectionTopLevelSignals(a){return Q(this,a)}assembleSignals(){var a=[...x(this)];var b=[];var e;for(const h of xh(null!=(e=this.component.selection)?e:{})){e=h.name;let m=`${e}${"_tuple"}, ${"global"===h.resolve?"true":`{unit: ${Kg(this)}}`}`;for(const A of Aj)A.defined(h)&&(A.signals&&(b=A.signals(this,h,b)),A.modifyExpr&&(m=A.modifyExpr(this,h,m)));b.push({name:e+"_modify",on:[{events:{signal:h.name+"_tuple"},update:`modify(${g.stringValue(h.name+
"_store")}, ${m})`}]})}b=E(b);return[...a,...b]}assembleSelectionData(a){return ha(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return sb(this)}assembleMarks(){let a,b=null!=(a=this.component.mark)?a:[];this.parent&&Vi(this.parent)||(b=wa(this,b));return b.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return yf(this.encoding,
a)}fieldDef(a){return Je(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return $c(a)?a:null}}class Am extends Sf{constructor(a,b,e,h,m){super(a,"layer",b,e,m,a.resolve,a.view);F(this,"children",void 0);const A=Object.assign({},h,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=a.layer.map((O,ia)=>{if("layer"in O)return new Am(O,this,this.getName(`layer_${ia}`),A,m);if(xf(O))return new Bm(O,this,this.getName(`layer_${ia}`),A,m);throw Error($a(O));})}parseData(){this.component.data=
Ik(this);for(const a of this.children)a.parseData()}parseLayoutSize(){Ij(this);Yj(this,"width");Yj(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const b of je(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,resolve:b}=this.component,e={top:0,bottom:0,right:0,left:0};for(var h of this.children){h.parseAxesAndHeaders();
for(const m of je(h.component.axes))b.axis[m]=mc(this.component.resolve,m),"shared"===b.axis[m]&&(a[m]=Ol(a[m],h.component.axes[m]),a[m]||(b.axis[m]="independent",delete a[m]))}for(const m of Mh){for(const A of this.children)if(A.component.axes[m]){if("independent"===b.axis[m]){let O;a[m]=(null!=(O=a[m])?O:[]).concat(A.component.axes[m]);for(const ia of A.component.axes[m]){const {value:xa,explicit:Xa}=ia.getWithExplicit("orient");Wb(xa)||(0<e[xa]&&!Xa&&(h=Im[xa],e[xa]>e[h]&&ia.set("orient",h,!1)),
e[xa]++)}}delete A.component.axes[m]}if("independent"===b.axis[m]&&a[m]&&1<a[m].length)for(const A of(a[m]||[]).entries()){const [O,ia]=A;0<O&&ia.get("grid")&&!ia.explicit.grid&&(ia.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleSignals()),x(this))}assembleLayoutSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleLayoutSignals()),
sb(this))}assembleSelectionData(a){return this.children.reduce((b,e)=>e.assembleSelectionData(b),a)}assembleGroupStyle(){var a=new Set;for(const b of this.children)for(const e of g.array(b.assembleGroupStyle()))a.add(e);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const b of this.children)if(a=b.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return t(this,this.children.flatMap(a=>a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,
b)=>a.concat(b.assembleLegends()),kg(this))}}r.accessPathDepth=nb;r.accessPathWithDatum=lb;r.compile=function(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b.logger&&(Fk=b.logger);b.fieldTitle&&(Bj=b.fieldTitle);try{const Eb=jh(g.mergeConfig(b.config,a.config)),Vb=Uh(a,Eb),Mc=Tk(Vb,null,"",void 0,Eb);Mc.parse();var e=Mc.component.data,h=Mc;Mj(e.sources);let xd=0,Lc=0;for(var m=0;5>m&&Fj(e,h,!0);m++)xd++;e.sources.map(Ri);for(m=0;5>m&&Fj(e,h,!1);m++)Lc++;Mj(e.sources);5===Math.max(xd,
Lc)&&za("Maximum optimization runs(5) reached.");var A=Vb.autosize;e=Eb;h=Mc;const nd=h.component.layoutSize.get("width"),Hd=h.component.layoutSize.get("height");void 0===A?(A={type:"pad"},h.hasAxisOrientSignalRef()&&(A.resize=!0)):g.isString(A)&&(A={type:A});var O;if(O=nd&&Hd){var ia=A.type;O="fit"===ia||"fit-x"===ia||"fit-y"===ia}if(O)if("step"===nd&&"step"===Hd)za(nc()),A.type="pad";else if("step"===nd||"step"===Hd){ia="step"===nd?"width":"height";za(nc(Aa(ia)));O=A;var xa=(ia="width"===ia?"height":
"width",`fit-${Aa(ia)}`);O.type=xa}var Xa=Object.assign({},1===je(A).length&&A.type?"pad"===A.type?{}:{autosize:A.type}:{autosize:A},Vf(e,!1),Vf(a,!0));return{spec:im(Mc,Xa,a.datasets,a.usermeta),normalized:Vb}}finally{b.logger&&(Fk=Ek),b.fieldTitle&&(Bj=ij)}};r.contains=Ab;r.deepEqual=ma;r.deleteNestedProperty=Pa;r.duplicate=tf;r.entries=Ui;r.every=rc;r.fieldIntersection=Pb;r.flatAccessWithDatum=Na;r.getFirstDefined=la;r.hasIntersection=Ob;r.hash=kc;r.internalField=Ha;r.isBoolean=pb;r.isEmpty=Ua;
r.isEqual=function(a,b){const e=je(a),h=je(b);if(e.length!==h.length)return!1;for(const m of e)if(a[m]!==b[m])return!1;return!0};r.isInternalField=Fa;r.isNullOrFalse=yc;r.isNumeric=aa;r.keys=je;r.logicalExpr=Da;r.mergeDeep=Va;r.never=Gb;r.normalize=Uh;r.normalizeAngle=cb;r.omit=oc;r.pick=$b;r.prefixGenerator=Bb;r.removePathFromField=Zb;r.replaceAll=Nb;r.replacePathInField=ob;r.resetIdCounter=function(){vk=42};r.setEqual=Kb;r.some=gc;r.stringify=p;r.titleCase=kb;r.unique=qb;r.uniqueId=Y;r.vals=xh;
r.varName=Oa;r.version="5.15.0"})};
shadow$provide[66]=function(cc,Db,Xc,mb){function r(){throw Error("setTimeout has not been defined");}function g(){throw Error("clearTimeout has not been defined");}function qa(Kb){if(yc===setTimeout)return setTimeout(Kb,0);if((yc===r||!yc)&&setTimeout)return yc=setTimeout,setTimeout(Kb,0);try{return yc(Kb,0)}catch(Ob){try{return yc.call(null,Kb,0)}catch(Bb){return yc.call(this,Kb,0)}}}function hb(Kb){if(Ab===clearTimeout)return clearTimeout(Kb);if((Ab===g||!Ab)&&clearTimeout)return Ab=clearTimeout,
clearTimeout(Kb);try{return Ab(Kb)}catch(Ob){try{return Ab.call(null,Kb)}catch(Bb){return Ab.call(this,Kb)}}}function Gb(){rc&&Va&&(rc=!1,Va.length?gc=Va.concat(gc):qb=-1,gc.length&&$b())}function $b(){if(!rc){var Kb=qa(Gb);rc=!0;for(var Ob=gc.length;Ob;){Va=gc;for(gc=[];++qb<Ob;)Va&&Va[qb].run();qb=-1;Ob=gc.length}Va=null;rc=!1;hb(Kb)}}function oc(Kb,Ob){this.fun=Kb;this.array=Ob}function kc(){}cc=Xc.exports={};try{var yc="function"===typeof setTimeout?setTimeout:r}catch(Kb){yc=r}try{var Ab="function"===
typeof clearTimeout?clearTimeout:g}catch(Kb){Ab=g}var gc=[],rc=!1,Va,qb=-1;cc.nextTick=function(Kb){var Ob=Array(arguments.length-1);if(1<arguments.length)for(var Bb=1;Bb<arguments.length;Bb++)Ob[Bb-1]=arguments[Bb];gc.push(new oc(Kb,Ob));1!==gc.length||rc||qa($b)};oc.prototype.run=function(){this.fun.apply(null,this.array)};cc.title="browser";cc.browser=!0;cc.env={};cc.argv=[];cc.version="";cc.versions={};cc.on=kc;cc.addListener=kc;cc.once=kc;cc.off=kc;cc.removeListener=kc;cc.removeAllListeners=
kc;cc.emit=kc;cc.prependListener=kc;cc.prependOnceListener=kc;cc.listeners=function(Kb){return[]};cc.binding=function(Kb){throw Error("process.binding is not supported");};cc.cwd=function(){return"/"};cc.chdir=function(Kb){throw Error("process.chdir is not supported");};cc.umask=function(){return 0}};
shadow$provide[67]=function(cc,Db,Xc,mb){var r=Db(66);(function(g,qa){"object"===typeof mb&&"undefined"!==typeof Xc?Xc.exports=qa(Db(64),Db(65)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],qa):(g="undefined"!==typeof globalThis?globalThis:g||self,g.vegaEmbed=qa(g.vega,g.vegaLite))})(this,function(g,qa){function hb(T){if(T&&T.__esModule)return T;var ta=Object.create(null);T&&Object.keys(T).forEach(function(db){if("default"!==db){var zb=Object.getOwnPropertyDescriptor(T,db);Object.defineProperty(ta,
db,zb.get?zb:{enumerable:!0,get:function(){return T[db]}})}});ta["default"]=T;return Object.freeze(ta)}function Gb(T){if(Array.isArray(T)){T=Array(T.length);for(var ta=0;ta<T.length;ta++)T[ta]=""+ta;return T}if(Object.keys)return Object.keys(T);ta=[];for(var db in T)l.call(T,db)&&ta.push(db);return ta}function $b(T){switch(typeof T){case "object":return JSON.parse(JSON.stringify(T));case "undefined":return null;default:return T}}function oc(T){for(var ta=0,db=T.length,zb;ta<db;)if(zb=T.charCodeAt(ta),
48<=zb&&57>=zb)ta++;else return!1;return!0}function kc(T){return-1===T.indexOf("/")&&-1===T.indexOf("~")?T:T.replace(/~/g,"~0").replace(/\//g,"~1")}function yc(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}function Ab(T){if(void 0===T)return!0;if(T)if(Array.isArray(T))for(var ta=0,db=T.length;ta<db;ta++){if(Ab(T[ta]))return!0}else if("object"===typeof T){ta=Gb(T);db=ta.length;for(var zb=0;zb<db;zb++)if(Ab(T[ta[zb]]))return!0}return!1}function gc(T,ta){T=[T];for(var db in ta){var zb="object"===
typeof ta[db]?JSON.stringify(ta[db],null,2):ta[db];"undefined"!==typeof zb&&T.push(db+": "+zb)}return T.join("\n")}function rc(T,ta){if(""==ta)return T;ta={op:"_get",path:ta};Va(T,ta);return ta.value}function Va(T,ta,db,zb,ec,Bc){void 0===db&&(db=!1);void 0===zb&&(zb=!0);void 0===ec&&(ec=!0);void 0===Bc&&(Bc=0);db&&("function"==typeof db?db(ta,0,T,ta.path):Kb(ta,0));if(""===ta.path){ec={newDocument:T};if("add"===ta.op)return ec.newDocument=ta.value,ec;if("replace"===ta.op)return ec.newDocument=ta.value,
ec.removed=T,ec;if("move"===ta.op||"copy"===ta.op)return ec.newDocument=rc(T,ta.from),"move"===ta.op&&(ec.removed=T),ec;if("test"===ta.op){ec.test=Bb(T,ta.value);if(!1===ec.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Bc,ta,T);ec.newDocument=T;return ec}if("remove"===ta.op)return ec.removed=T,ec.newDocument=null,ec;if("_get"===ta.op)return ta.value=T,ec;if(db)throw new B("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Bc,ta,T);return ec}zb||
(T=$b(T));zb=(ta.path||"").split("/");var Yb=T,I=1,da=zb.length,Sa=void 0,ac,Pc;for(Pc="function"==typeof db?db:Kb;;){(ac=zb[I])&&-1!=ac.indexOf("~")&&(ac=yc(ac));if(ec&&("__proto__"==ac||"prototype"==ac&&0<I&&"constructor"==zb[I-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");db&&void 0===
Sa&&(void 0===Yb[ac]?Sa=zb.slice(0,I).join("/"):I==da-1&&(Sa=ta.path),void 0!==Sa&&Pc(ta,0,T,Sa));I++;if(Array.isArray(Yb)){if("-"===ac)ac=Yb.length;else{if(db&&!oc(ac))throw new B("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Bc,ta,T);oc(ac)&&(ac=~~ac)}if(I>=da){if(db&&"add"===ta.op&&ac>Yb.length)throw new B("The specified index MUST NOT be greater than the number of elements in the array",
"OPERATION_VALUE_OUT_OF_BOUNDS",Bc,ta,T);ec=D[ta.op].call(ta,Yb,ac,T);if(!1===ec.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Bc,ta,T);return ec}}else if(I>=da){ec=z[ta.op].call(ta,Yb,ac,T);if(!1===ec.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Bc,ta,T);return ec}Yb=Yb[ac];if(db&&I<da&&(!Yb||"object"!==typeof Yb))throw new B("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",Bc,ta,T);}}function qb(T,ta,db,zb,ec){void 0===zb&&(zb=!0);
void 0===ec&&(ec=!0);if(db&&!Array.isArray(ta))throw new B("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");zb||(T=$b(T));zb=Array(ta.length);for(var Bc=0,Yb=ta.length;Bc<Yb;Bc++)zb[Bc]=Va(T,ta[Bc],db,!0,ec,Bc),T=zb[Bc].newDocument;zb.newDocument=T;return zb}function Kb(T,ta,db,zb){if("object"!==typeof T||null===T||Array.isArray(T))throw new B("Operation is not an object","OPERATION_NOT_AN_OBJECT",ta,T,db);if(z[T.op]){if("string"!==typeof T.path)throw new B("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",ta,T,db);if(0!==T.path.indexOf("/")&&0<T.path.length)throw new B('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ta,T,db);if("move"!==T.op&&"copy"!==T.op||"string"===typeof T.from)if("add"!==T.op&&"replace"!==T.op&&"test"!==T.op||void 0!==T.value){if(("add"===T.op||"replace"===T.op||"test"===T.op)&&Ab(T.value))throw new B("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
ta,T,db);if(db)if("add"==T.op){var ec=T.path.split("/").length;zb=zb.split("/").length;if(ec!==zb+1&&ec!==zb)throw new B("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",ta,T,db);}else if("replace"===T.op||"remove"===T.op||"_get"===T.op){if(T.path!==zb)throw new B("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ta,T,db);}else if(("move"===T.op||"copy"===T.op)&&(ec=Ob([{op:"_get",path:T.from,value:void 0}],db))&&"OPERATION_PATH_UNRESOLVABLE"===
ec.name)throw new B("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ta,T,db);}else throw new B("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",ta,T,db);else throw new B("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ta,T,db);}else throw new B("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",ta,T,db);}function Ob(T,ta,db){try{if(!Array.isArray(T))throw new B("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ta)qb($b(ta),$b(T),db||!0);else{db=db||Kb;for(var zb=0;zb<T.length;zb++)db(T[zb],zb,ta,void 0)}}catch(ec){if(ec instanceof B)return ec;throw ec;}}function Bb(T,ta){if(T===ta)return!0;if(T&&ta&&"object"==typeof T&&"object"==typeof ta){var db=Array.isArray(T),zb=Array.isArray(ta);if(db&&zb){var ec=T.length;if(ec!=ta.length)return!1;for(db=ec;0!==db--;)if(!Bb(T[db],
ta[db]))return!1;return!0}if(db!=zb)return!1;zb=Object.keys(T);ec=zb.length;if(ec!==Object.keys(ta).length)return!1;for(db=ec;0!==db--;)if(!ta.hasOwnProperty(zb[db]))return!1;for(db=ec;0!==db--;)if(ec=zb[db],!Bb(T[ec],ta[ec]))return!1;return!0}return T!==T&&ta!==ta}function Pb(T,ta){void 0===ta&&(ta=!1);var db=U.get(T.object);Ua(db.value,T.object,T.patches,"",ta);T.patches.length&&qb(db.value,T.patches);ta=T.patches;0<ta.length&&(T.patches=[],T.callback&&T.callback(ta));return ta}function Ua(T,ta,
db,zb,ec){if(ta!==T){"function"===typeof ta.toJSON&&(ta=ta.toJSON());for(var Bc=Gb(ta),Yb=Gb(T),I=!1,da=Yb.length-1;0<=da;da--){var Sa=Yb[da],ac=T[Sa];if(!l.call(ta,Sa)||void 0===ta[Sa]&&void 0!==ac&&!1===Array.isArray(ta))Array.isArray(T)===Array.isArray(ta)?(ec&&db.push({op:"test",path:zb+"/"+kc(Sa),value:$b(ac)}),db.push({op:"remove",path:zb+"/"+kc(Sa)}),I=!0):(ec&&db.push({op:"test",path:zb,value:T}),db.push({op:"replace",path:zb,value:ta}));else{var Pc=ta[Sa];"object"==typeof ac&&null!=ac&&"object"==
typeof Pc&&null!=Pc&&Array.isArray(ac)===Array.isArray(Pc)?Ua(ac,Pc,db,zb+"/"+kc(Sa),ec):ac!==Pc&&(ec&&db.push({op:"test",path:zb+"/"+kc(Sa),value:$b(ac)}),db.push({op:"replace",path:zb+"/"+kc(Sa),value:$b(Pc)}))}}if(I||Bc.length!=Yb.length)for(da=0;da<Bc.length;da++)Sa=Bc[da],l.call(T,Sa)||void 0===ta[Sa]||db.push({op:"add",path:zb+"/"+kc(Sa),value:$b(ta[Sa])})}}function pb(T){var ta=this;ta instanceof pb||(ta=new pb);ta.tail=null;ta.head=null;ta.length=0;if(T&&"function"===typeof T.forEach)T.forEach(function(ec){ta.push(ec)});
else if(0<arguments.length)for(var db=0,zb=arguments.length;db<zb;db++)ta.push(arguments[db]);return ta}function Oa(T,ta,db,zb){if(!(this instanceof Oa))return new Oa(T,ta,db,zb);this.list=zb;this.value=T;ta?(ta.next=this,this.prev=ta):this.prev=null;db?(db.prev=this,this.next=db):this.next=null}function Da(){if(dd)return cd;dd=1;const T=Symbol("SemVer ANY");class ta{static get ANY(){return T}constructor(Sa,ac){ac=db(ac);if(Sa instanceof ta){if(Sa.loose===!!ac.loose)return Sa;Sa=Sa.value}Yb("comparator",
Sa,ac);this.options=ac;this.loose=!!ac.loose;this.parse(Sa);this.value=this.semver===T?"":this.operator+this.semver.version;Yb("comp",this)}parse(Sa){const ac=Sa.match(this.options.loose?zb[ec.COMPARATORLOOSE]:zb[ec.COMPARATOR]);if(!ac)throw new TypeError("Invalid comparator: ".concat(Sa));this.operator=void 0!==ac[1]?ac[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=ac[2]?new I(ac[2],this.options.loose):T}toString(){return this.value}test(Sa){Yb("Comparator.test",Sa,this.options.loose);
if(this.semver===T||Sa===T)return!0;if("string"===typeof Sa)try{Sa=new I(Sa,this.options)}catch(ac){return!1}return Bc(Sa,this.operator,this.semver,this.options)}intersects(Sa,ac){if(!(Sa instanceof ta))throw new TypeError("a Comparator is required");ac&&"object"===typeof ac||(ac={loose:!!ac,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new da(Sa.value,ac)).test(this.value);if(""===Sa.operator)return""===Sa.value?!0:(new da(this.value,ac)).test(Sa.semver);const Pc=("\x3e\x3d"===
this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===Sa.operator||"\x3e"===Sa.operator),Cc=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===Sa.operator||"\x3c"===Sa.operator),Sc=this.semver.version===Sa.semver.version,fd=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===Sa.operator||"\x3c\x3d"===Sa.operator),ee=Bc(this.semver,"\x3c",Sa.semver,ac)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===Sa.operator||"\x3c"===Sa.operator);Sa=Bc(this.semver,
"\x3e",Sa.semver,ac)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===Sa.operator||"\x3e"===Sa.operator);return Pc||Cc||Sc&&fd||ee||Sa}}cd=ta;const db=Hc,{re:zb,t:ec}=zc.exports,Bc=Uc,Yb=Md,I=nc,da=Pa();return cd}function Pa(){if(Td)return Qd;Td=1;class T{constructor(Jc,Vc){Vc=db(Vc);if(Jc instanceof T)return Jc.loose===!!Vc.loose&&Jc.includePrerelease===!!Vc.includePrerelease?Jc:new T(Jc.raw,Vc);if(Jc instanceof zb)return this.raw=Jc.value,this.set=[[Jc]],this.format(),this;this.options=
Vc;this.loose=!!Vc.loose;this.includePrerelease=!!Vc.includePrerelease;this.raw=Jc;this.set=Jc.split("||").map(Qc=>this.parseRange(Qc.trim())).filter(Qc=>Qc.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(Jc));if(1<this.set.length)if(Jc=this.set[0],this.set=this.set.filter(Qc=>"\x3c0.0.0-0"!==Qc[0].value),0===this.set.length)this.set=[Jc];else if(1<this.set.length)for(const Qc of this.set)if(1===Qc.length&&""===Qc[0].value){this.set=[Qc];break}this.format()}format(){return this.range=
this.set.map(Jc=>Jc.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(Jc){Jc=Jc.trim();var Vc=Object.keys(this.options).join(",");Vc="parseRange:".concat(Vc,":").concat(Jc);var Qc=ta.get(Vc);if(Qc)return Qc;Qc=this.options.loose;Jc=Jc.replace(Qc?Yb[I.HYPHENRANGELOOSE]:Yb[I.HYPHENRANGE],vd(this.options.includePrerelease));ec("hyphen replace",Jc);Jc=Jc.replace(Yb[I.COMPARATORTRIM],da);ec("comparator trim",Jc);Jc=Jc.replace(Yb[I.TILDETRIM],Sa);Jc=Jc.replace(Yb[I.CARETTRIM],
ac);Jc=Jc.split(/\s+/).join(" ");Jc=Jc.split(" ").map(id=>{var Nd=id;id=this.options;ec("comp",Nd,id);Nd=ee(Nd,id);ec("caret",Nd);Nd=Sc(Nd,id);ec("tildes",Nd);Nd=eb(Nd,id);ec("xrange",Nd);ec("replaceStars",Nd,id);Nd=Nd.trim().replace(Yb[I.STAR],"");ec("stars",Nd);return Nd}).join(" ").split(/\s+/).map(id=>{var Nd=this.options;ec("replaceGTE0",id,Nd);return id.trim().replace(Yb[Nd.includePrerelease?I.GTE0PRE:I.GTE0],"")});Qc&&(Jc=Jc.filter(id=>{ec("loose invalid filter",id,this.options);return!!id.match(Yb[I.COMPARATORLOOSE])}));
ec("range list",Jc);Qc=new Map;Jc=Jc.map(id=>new zb(id,this.options));for(var sd of Jc){if("\x3c0.0.0-0"===sd.value)return[sd];Qc.set(sd.value,sd)}1<Qc.size&&Qc.has("")&&Qc.delete("");sd=[...Qc.values()];ta.set(Vc,sd);return sd}intersects(Jc,Vc){if(!(Jc instanceof T))throw new TypeError("a Range is required");return this.set.some(Qc=>Pc(Qc,Vc)&&Jc.set.some(sd=>Pc(sd,Vc)&&Qc.every(id=>sd.every(Nd=>id.intersects(Nd,Vc)))))}test(Jc){if(!Jc)return!1;if("string"===typeof Jc)try{Jc=new Bc(Jc,this.options)}catch(Nd){return!1}for(let Nd=
0;Nd<this.set.length;Nd++){a:{var Vc=this.set[Nd];var Qc=Jc,sd=this.options;for(var id=0;id<Vc.length;id++)if(!Vc[id].test(Qc)){Vc=!1;break a}if(Qc.prerelease.length&&!sd.includePrerelease){for(sd=0;sd<Vc.length;sd++)if(ec(Vc[sd].semver),Vc[sd].semver!==zb.ANY&&0<Vc[sd].semver.prerelease.length&&(id=Vc[sd].semver,id.major===Qc.major&&id.minor===Qc.minor&&id.patch===Qc.patch)){Vc=!0;break a}Vc=!1}else Vc=!0}if(Vc)return!0}return!1}}Qd=T;const ta=new fc({max:1E3}),db=Hc,zb=Da(),ec=Md,Bc=nc,{re:Yb,t:I,
comparatorTrimReplace:da,tildeTrimReplace:Sa,caretTrimReplace:ac}=zc.exports,Pc=(Jc,Vc)=>{let Qc=!0;Jc=Jc.slice();let sd=Jc.pop();for(;Qc&&Jc.length;)Qc=Jc.every(id=>sd.intersects(id,Vc)),sd=Jc.pop();return Qc},Cc=Jc=>!Jc||"x"===Jc.toLowerCase()||"*"===Jc,Sc=(Jc,Vc)=>Jc.trim().split(/\s+/).map(Qc=>fd(Qc,Vc)).join(" "),fd=(Jc,Vc)=>Jc.replace(Vc.loose?Yb[I.TILDELOOSE]:Yb[I.TILDE],(Qc,sd,id,Nd,Bd)=>{ec("tilde",Jc,Qc,sd,id,Nd,Bd);Cc(sd)?Qc="":Cc(id)?Qc="\x3e\x3d".concat(sd,".0.0 \x3c").concat(+sd+1,".0.0-0"):
Cc(Nd)?Qc="\x3e\x3d".concat(sd,".").concat(id,".0 \x3c").concat(sd,".").concat(+id+1,".0-0"):Bd?(ec("replaceTilde pr",Bd),Qc="\x3e\x3d".concat(sd,".").concat(id,".").concat(Nd,"-").concat(Bd," \x3c").concat(sd,".").concat(+id+1,".0-0")):Qc="\x3e\x3d".concat(sd,".").concat(id,".").concat(Nd," \x3c").concat(sd,".").concat(+id+1,".0-0");ec("tilde return",Qc);return Qc}),ee=(Jc,Vc)=>Jc.trim().split(/\s+/).map(Qc=>Ra(Qc,Vc)).join(" "),Ra=(Jc,Vc)=>{ec("caret",Jc,Vc);const Qc=Vc.includePrerelease?"-0":"";
return Jc.replace(Vc.loose?Yb[I.CARETLOOSE]:Yb[I.CARET],(sd,id,Nd,Bd,be)=>{ec("caret",Jc,sd,id,Nd,Bd,be);Cc(id)?sd="":Cc(Nd)?sd="\x3e\x3d".concat(id,".0.0").concat(Qc," \x3c").concat(+id+1,".0.0-0"):Cc(Bd)?sd="0"===id?"\x3e\x3d".concat(id,".").concat(Nd,".0").concat(Qc," \x3c").concat(id,".").concat(+Nd+1,".0-0"):"\x3e\x3d".concat(id,".").concat(Nd,".0").concat(Qc," \x3c").concat(+id+1,".0.0-0"):be?(ec("replaceCaret pr",be),sd="0"===id?"0"===Nd?"\x3e\x3d".concat(id,".").concat(Nd,".").concat(Bd,"-").concat(be,
" \x3c").concat(id,".").concat(Nd,".").concat(+Bd+1,"-0"):"\x3e\x3d".concat(id,".").concat(Nd,".").concat(Bd,"-").concat(be," \x3c").concat(id,".").concat(+Nd+1,".0-0"):"\x3e\x3d".concat(id,".").concat(Nd,".").concat(Bd,"-").concat(be," \x3c").concat(+id+1,".0.0-0")):(ec("no pr"),sd="0"===id?"0"===Nd?"\x3e\x3d".concat(id,".").concat(Nd,".").concat(Bd).concat(Qc," \x3c").concat(id,".").concat(Nd,".").concat(+Bd+1,"-0"):"\x3e\x3d".concat(id,".").concat(Nd,".").concat(Bd).concat(Qc," \x3c").concat(id,
".").concat(+Nd+1,".0-0"):"\x3e\x3d".concat(id,".").concat(Nd,".").concat(Bd," \x3c").concat(+id+1,".0.0-0"));ec("caret return",sd);return sd})},eb=(Jc,Vc)=>{ec("replaceXRanges",Jc,Vc);return Jc.split(/\s+/).map(Qc=>pc(Qc,Vc)).join(" ")},pc=(Jc,Vc)=>{Jc=Jc.trim();return Jc.replace(Vc.loose?Yb[I.XRANGELOOSE]:Yb[I.XRANGE],(Qc,sd,id,Nd,Bd,be)=>{ec("xRange",Jc,Qc,sd,id,Nd,Bd,be);const we=Cc(id),Ke=we||Cc(Nd);Bd=Ke||Cc(Bd);"\x3d"===sd&&Bd&&(sd="");be=Vc.includePrerelease?"-0":"";we?Qc="\x3e"===sd||"\x3c"===
sd?"\x3c0.0.0-0":"*":sd&&Bd?(Ke&&(Nd=0),Bd=0,"\x3e"===sd?(sd="\x3e\x3d",Ke?(id=+id+1,Nd=0):Nd=+Nd+1,Bd=0):"\x3c\x3d"===sd&&(sd="\x3c",Ke?id=+id+1:Nd=+Nd+1),"\x3c"===sd&&(be="-0"),Qc="".concat(sd+id,".").concat(Nd,".").concat(Bd).concat(be)):Ke?Qc="\x3e\x3d".concat(id,".0.0").concat(be," \x3c").concat(+id+1,".0.0-0"):Bd&&(Qc="\x3e\x3d".concat(id,".").concat(Nd,".0").concat(be," \x3c").concat(id,".").concat(+Nd+1,".0-0"));ec("xRange return",Qc);return Qc})},vd=Jc=>(Vc,Qc,sd,id,Nd,Bd,be,we,Ke,Xe,bf,
md,Dc)=>{Qc=Cc(sd)?"":Cc(id)?"\x3e\x3d".concat(sd,".0.0").concat(Jc?"-0":""):Cc(Nd)?"\x3e\x3d".concat(sd,".").concat(id,".0").concat(Jc?"-0":""):Bd?"\x3e\x3d".concat(Qc):"\x3e\x3d".concat(Qc).concat(Jc?"-0":"");we=Cc(Ke)?"":Cc(Xe)?"\x3c".concat(+Ke+1,".0.0-0"):Cc(bf)?"\x3c".concat(Ke,".").concat(+Xe+1,".0-0"):md?"\x3c\x3d".concat(Ke,".").concat(Xe,".").concat(bf,"-").concat(md):Jc?"\x3c".concat(Ke,".").concat(Xe,".").concat(+bf+1,"-0"):"\x3c\x3d".concat(we);return"".concat(Qc," ").concat(we).trim()};
return Qd}function kb(T,ta,db,zb,ec,Bc){const Yb=I=>fb[I.type](Yb,I);Yb.memberDepth=0;Yb.fn=Object.create(ta);Yb.params=db;Yb.datum=zb;Yb.event=ec;Yb.item=Bc;za.forEach(I=>Yb.fn[I]=function(){return ec.vega[I](...arguments)});return Yb(T)}function lb(T){const [ta,db]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(T).slice(1,3);return{library:ta,version:db}}function Na(T,ta,db){T.fields=ta||[];T.fname=db;return T}function xb(T){return 1===T.length?Fc(T[0]):hd(T)}function ob(T){function ta(){db.push(Yb+
T.substring(I,da));Yb="";I=da+1}const db=[],zb=T.length;let ec=null,Bc=0,Yb="",I,da,Sa;T+="";for(I=da=0;da<zb;++da)if(Sa=T[da],"\\"===Sa)Yb+=T.substring(I,da),Yb+=T.substring(++da,++da),I=da;else if(Sa===ec)ta(),ec=null,Bc=-1;else if(!ec)if(I===Bc&&'"'===Sa)I=da+1,ec=Sa;else if(I===Bc&&"'"===Sa)I=da+1,ec=Sa;else if("."===Sa&&!Bc)da>I?ta():I=da+1;else if("["===Sa)da>I&&ta(),Bc=I=da+1;else if("]"===Sa){if(!Bc)throw Error("Access path missing open bracket: "+T);0<Bc&&ta();Bc=0;I=da+1}if(Bc)throw Error("Access path missing closing bracket: "+
T);if(ec)throw Error("Access path missing closing quote: "+T);da>I&&(da++,ta());return db}function Nb(T,ta){var db={},zb;for(zb in T)Object.prototype.hasOwnProperty.call(T,zb)&&0>ta.indexOf(zb)&&(db[zb]=T[zb]);if(null!=T&&"function"===typeof Object.getOwnPropertySymbols){var ec=0;for(zb=Object.getOwnPropertySymbols(T);ec<zb.length;ec++)0>ta.indexOf(zb[ec])&&Object.prototype.propertyIsEnumerable.call(T,zb[ec])&&(db[zb[ec]]=T[zb[ec]])}return db}function Zb(T){const ta=[];return function(db,zb){if("object"!==
typeof zb||null===zb)return zb;db=ta.indexOf(this)+1;ta.length=db;if(ta.length>T)return"[Object]";if(0<=ta.indexOf(zb))return"[Circular]";ta.push(zb);return zb}}function nb(T,ta,db){function zb(da){da.source===Bc&&(I=0,T.removeEventListener("message",zb,!1))}function ec(){0>=I||(Bc.postMessage(db,Yb),setTimeout(ec,250),--I)}const Bc=T.open(ta),{origin:Yb}=new URL(ta);let I=40;T.addEventListener("message",zb,!1);setTimeout(ec,250)}function la(T){for(var ta=arguments.length,db=Array(1<ta?ta-1:0),zb=
1;zb<ta;zb++)db[zb-1]=arguments[zb];for(const ec of db){ta=T;db=ec;for(const Bc of Object.keys(db))g.writeConfig(ta,Bc,db[Bc],!0)}return T}function Y(T,ta,db,zb){ta="\x3chtml\x3e\x3chead\x3e".concat(ta,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');db="\x3c/code\x3e\x3c/pre\x3e".concat(db,"\x3c/body\x3e\x3c/html\x3e");const ec=window.open("");ec.document.write(ta+T+db);ec.document.title="".concat(df[zb]," JSON Source")}function Ha(T,ta){if(T.$schema){T=lb(T.$schema);if(ta&&ta!==
T.library){var db;console.warn("The given visualization spec is written in ".concat(df[T.library],", but mode argument sets ").concat(null!==(db=df[ta])&&void 0!==db?db:ta,"."))}ta=T.library;Zd(af[ta],"^".concat(T.version.slice(1)))||console.warn("The input spec uses ".concat(df[ta]," ").concat(T.version,", but the current version of ").concat(df[ta]," is v").concat(af[ta],"."));return ta}return"mark"in T||"encoding"in T||"layer"in T||"hconcat"in T||"vconcat"in T||"facet"in T||"repeat"in T?"vega-lite":
"marks"in T||"signals"in T||"scales"in T||"axes"in T?"vega":null!==ta&&void 0!==ta?ta:"vega"}function Fa(T){return T&&"load"in T?T:$d.loader(T)}function cb(T,ta){const db=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var zb,ec,Bc=2<db.length&&void 0!==db[2]?db[2]:{};let Yb,I;g.isString(ta)?(I=Fa(Bc.loader),Yb=JSON.parse(yield I.load(ta))):Yb=ta;var da,Sa,ac=null!==(da=null===(Sa=Yb.usermeta)||void 0===Sa?void 0:Sa.embedOptions)&&void 0!==da?da:{};g.isString(ac.defaultStyle)&&
(ac.defaultStyle=!1);da=ac.loader;if(!I||da){var Pc;I=Fa(null!==(Pc=Bc.loader)&&void 0!==Pc?Pc:da)}ac=yield aa(ac,I);Bc=yield aa(Bc,I);Bc=Object.assign({},la(Bc,ac),{config:g.mergeConfig(null!==(zb=Bc.config)&&void 0!==zb?zb:{},null!==(ec=ac.config)&&void 0!==ec?ec:{})});return yield p(T,Yb,Bc,I)})}function aa(T,ta){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var db;const zb=g.isString(T.config)?JSON.parse(yield ta.load(T.config)):null!==(db=T.config)&&void 0!==db?db:{};db=g.isString(T.patch)?
JSON.parse(yield ta.load(T.patch)):T.patch;return Object.assign({},T,db?{patch:db}:{},zb?{config:zb}:{})})}function ma(T){var ta;T=T.getRootNode?T.getRootNode():document;return T instanceof ShadowRoot?{root:T,rootContainer:T}:{root:document,rootContainer:null!==(ta=document.head)&&void 0!==ta?ta:document.body}}function p(T,ta){const db=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var zb,ec,Bc,Yb,I,da,Sa;let ac=2<db.length&&void 0!==db[2]?db[2]:{};var Pc=3<db.length?db[3]:
void 0;const Cc=ac.theme?g.mergeConfig(lc[ac.theme],null!==(zb=ac.config)&&void 0!==zb?zb:{}):ac.config;zb=g.isBoolean(ac.actions)?ac.actions:la({},Be,null!==(ec=ac.actions)&&void 0!==ec?ec:{});ec=Object.assign({},ff,ac.i18n);const Sc=null!==(Bc=ac.renderer)&&void 0!==Bc?Bc:"canvas";Bc=null!==(Yb=ac.logLevel)&&void 0!==Yb?Yb:$d.Warn;Yb=null!==(I=ac.downloadFileName)&&void 0!==I?I:"visualization";I="string"===typeof T?document.querySelector(T):T;if(!I)throw Error("".concat(T," does not exist"));if(!1!==
ac.defaultStyle){const {root:Qc,rootContainer:sd}=ma(I);if(!Qc.getElementById("vega-embed-style")){var fd=document.createElement("style");fd.id="vega-embed-style";fd.innerHTML=void 0===ac.defaultStyle||!0===ac.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
ac.defaultStyle;sd.appendChild(fd)}}const ee=Ha(ta,ac.mode);let Ra=re[ee](ta,Cc);"vega-lite"===ee&&Ra.$schema&&(fd=lb(Ra.$schema),Zd(af.vega,"^".concat(fd.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(fd.version,", but current version is v").concat(af.vega,".")));I.classList.add("vega-embed");zb&&I.classList.add("has-actions");I.innerHTML="";let eb=I;zb&&(fd=document.createElement("div"),fd.classList.add("chart-wrapper"),I.appendChild(fd),eb=fd);(fd=ac.patch)&&(Ra=fd instanceof
Function?fd(Ra):qb(Ra,fd,!0,!1).newDocument);ac.formatLocale&&$d.formatLocale(ac.formatLocale);ac.timeFormatLocale&&$d.timeFormatLocale(ac.timeFormatLocale);if(ac.expressionFunctions)for(var pc in ac.expressionFunctions)fd=ac.expressionFunctions[pc],"fn"in fd?$d.expressionFunction(pc,fd.fn,fd.visitor):fd instanceof Function&&$d.expressionFunction(pc,fd);({ast:pc}=ac);fd=$d.parse(Ra,"vega-lite"===ee?{}:Cc,{ast:pc});const vd=new (ac.viewClass||$d.View)(fd,Object.assign({},{loader:Pc,logLevel:Bc,renderer:Sc},
pc?{expr:null!==(da=null!==(Sa=$d.expressionInterpreter)&&void 0!==Sa?Sa:ac.expr)&&void 0!==da?da:Hb}:{}));vd.addSignalListener("autosize",(Qc,sd)=>{({type:Qc}=sd);"fit-x"==Qc?(eb.classList.add("fit-x"),eb.classList.remove("fit-y")):"fit-y"==Qc?(eb.classList.remove("fit-x"),eb.classList.add("fit-y")):"fit"==Qc?eb.classList.add("fit-x","fit-y"):eb.classList.remove("fit-x","fit-y")});!1!==ac.tooltip&&(da="function"===typeof ac.tooltip?ac.tooltip:(new Gd(!0===ac.tooltip?{}:ac.tooltip)).call,vd.tooltip(da));
({hover:da}=ac);void 0===da&&(da="vega"===ee);if(da){const {hoverSet:Qc,updateSet:sd}="boolean"===typeof da?{}:da;vd.hover(Qc,sd)}ac&&(null!=ac.width&&vd.width(ac.width),null!=ac.height&&vd.height(ac.height),null!=ac.padding&&vd.padding(ac.padding));yield vd.initialize(eb,ac.bind).runAsync();let Jc;if(!1!==zb){Sa=I;if(!1!==ac.defaultStyle){const Qc=document.createElement("details");Qc.title=ec.CLICK_TO_VIEW_ACTIONS;I.append(Qc);Sa=Qc;da=document.createElement("summary");da.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Qc.append(da);Jc=sd=>{Qc.contains(sd.target)||Qc.removeAttribute("open")};document.addEventListener("click",Jc)}da=document.createElement("div");Sa.append(da);da.classList.add("vega-actions");if(!0===zb||!1!==zb.export)for(const Qc of["svg","png"])if(!0===zb||!0===zb.export||zb.export[Qc])Sa=ec["".concat(Qc.toUpperCase(),"_ACTION")],Pc=document.createElement("a"),Pc.text=Sa,Pc.href="#",Pc.target="_blank",Pc.download="".concat(Yb,".").concat(Qc),Pc.addEventListener("mousedown",function(sd){const id=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){sd.preventDefault();const Nd=yield vd.toImageURL(Qc,ac.scaleFactor);id.href=Nd})}),da.append(Pc);if(!0===zb||!1!==zb.source)Yb=document.createElement("a"),Yb.text=ec.SOURCE_ACTION,Yb.href="#",Yb.addEventListener("click",function(Qc){var sd,id;Y(ua(ta),null!==(sd=ac.sourceHeader)&&void 0!==sd?sd:"",null!==(id=ac.sourceFooter)&&void 0!==id?id:"",ee);Qc.preventDefault()}),da.append(Yb);"vega-lite"!==ee||!0!==zb&&!1===zb.compiled||(Yb=
document.createElement("a"),Yb.text=ec.COMPILED_ACTION,Yb.href="#",Yb.addEventListener("click",function(Qc){var sd,id;Y(ua(Ra),null!==(sd=ac.sourceHeader)&&void 0!==sd?sd:"",null!==(id=ac.sourceFooter)&&void 0!==id?id:"","vega");Qc.preventDefault()}),da.append(Yb));if(!0===zb||!1!==zb.editor){var Vc;const Qc=null!==(Vc=ac.editorUrl)&&void 0!==Vc?Vc:"https://vega.github.io/editor/";Vc=document.createElement("a");Vc.text=ec.EDITOR_ACTION;Vc.href="#";Vc.addEventListener("click",function(sd){nb(window,
Qc,{config:Cc,mode:ee,renderer:Sc,spec:ua(ta)});sd.preventDefault()});da.append(Vc)}}return{view:vd,spec:ta,vgSpec:Ra,finalize:function(){Jc&&document.removeEventListener("click",Jc);vd.finalize()},embedOptions:ac}})}function L(T){const ta=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var db;let zb=1<ta.length&&void 0!==ta[1]?ta[1]:{};const ec=document.createElement("div");ec.classList.add("vega-embed-wrapper");const Bc=document.createElement("div");ec.appendChild(Bc);
const Yb=!0===zb.actions||!1===zb.actions?zb.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(db=zb.actions)&&void 0!==db?db:{});db=yield cb(Bc,T,Object.assign({},{actions:Yb},null!==zb&&void 0!==zb?zb:{}));ec.value=db.view;return ec})}var P=hb(g),f=hb(qa),v=function(){var T=function(ta,db){T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(zb,ec){zb.__proto__=ec}||function(zb,ec){for(var Bc in ec)ec.hasOwnProperty(Bc)&&(zb[Bc]=ec[Bc])};return T(ta,db)};
return function(ta,db){function zb(){this.constructor=ta}T(ta,db);ta.prototype=null===db?Object.create(db):(zb.prototype=db.prototype,new zb)}}(),l=Object.prototype.hasOwnProperty,C=function(T){function ta(db,zb,ec,Bc,Yb){var I=this.constructor,da=T.call(this,gc(db,{name:zb,index:ec,operation:Bc,tree:Yb}))||this;da.name=zb;da.index=ec;da.operation=Bc;da.tree=Yb;Object.setPrototypeOf(da,I.prototype);da.message=gc(db,{name:zb,index:ec,operation:Bc,tree:Yb});return da}v(ta,T);return ta}(Error),B=C,z=
{add:function(T,ta,db){T[ta]=this.value;return{newDocument:db}},remove:function(T,ta,db){var zb=T[ta];delete T[ta];return{newDocument:db,removed:zb}},replace:function(T,ta,db){var zb=T[ta];T[ta]=this.value;return{newDocument:db,removed:zb}},move:function(T,ta,db){(T=rc(db,this.path))&&(T=$b(T));ta=Va(db,{op:"remove",path:this.from}).removed;Va(db,{op:"add",path:this.path,value:ta});return{newDocument:db,removed:T}},copy:function(T,ta,db){T=rc(db,this.from);Va(db,{op:"add",path:this.path,value:$b(T)});
return{newDocument:db}},test:function(T,ta,db){return{newDocument:db,test:Bb(T[ta],this.value)}},_get:function(T,ta,db){this.value=T[ta];return{newDocument:db}}},D={add:function(T,ta,db){oc(ta)?T.splice(ta,0,this.value):T[ta]=this.value;return{newDocument:db,index:ta}},remove:function(T,ta,db){T=T.splice(ta,1);return{newDocument:db,removed:T[0]}},replace:function(T,ta,db){var zb=T[ta];T[ta]=this.value;return{newDocument:db,removed:zb}},move:z.move,copy:z.copy,test:z.test,_get:z._get},G=Object.freeze({__proto__:null,
JsonPatchError:B,deepClone:$b,getValueByPointer:rc,applyOperation:Va,applyPatch:qb,applyReducer:function(T,ta,db){var zb=Va(T,ta);if(!1===zb.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",db,ta,T);return zb.newDocument},validator:Kb,validate:Ob,_areEquals:Bb}),U=new WeakMap,Aa=function(){return function(T){this.observers=new Map;this.obj=T}}(),X=function(){return function(T,ta){this.callback=T;this.observer=ta}}(),u=Object.freeze({__proto__:null,unobserve:function(T,ta){ta.unobserve()},
observe:function(T,ta){var db=U.get(T);if(db){var zb=db.observers.get(ta);var ec=zb&&zb.observer}else db=new Aa(T),U.set(T,db);if(ec)return ec;ec={};db.value=$b(T);if(ta){ec.callback=ta;ec.next=null;var Bc=function(){Pb(ec)},Yb=function(){clearTimeout(ec.next);ec.next=setTimeout(Bc)};"undefined"!==typeof window&&(window.addEventListener("mouseup",Yb),window.addEventListener("keyup",Yb),window.addEventListener("mousedown",Yb),window.addEventListener("keydown",Yb),window.addEventListener("change",Yb))}ec.patches=
[];ec.object=T;ec.unobserve=function(){Pb(ec);clearTimeout(ec.next);db.observers.delete(ec.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Yb),window.removeEventListener("keyup",Yb),window.removeEventListener("mousedown",Yb),window.removeEventListener("keydown",Yb),window.removeEventListener("change",Yb))};db.observers.set(ta,new X(ta,ec));return ec},generate:Pb,compare:function(T,ta,db){void 0===db&&(db=!1);var zb=[];Ua(T,ta,zb,"",db);return zb}});Object.assign({},G,
u,{JsonPatchError:C,deepClone:$b,escapePathComponent:kc,unescapePathComponent:yc});var K=/("(?:[^\\"]|\\.)*")|[:,]/g,ua=function(T,ta){ta=ta||{};var db=JSON.stringify([1],void 0,void 0===ta.indent?2:ta.indent).slice(2,-3);var zb=""===db?Infinity:void 0===ta.maxLength?80:ta.maxLength;var ec=ta.replacer;return function Sa(Yb,I,da){Yb&&"function"===typeof Yb.toJSON&&(Yb=Yb.toJSON());var ac=JSON.stringify(Yb,ec);if(void 0===ac)return ac;da=zb-I.length-da;if(ac.length<=da){var Pc=ac.replace(K,function(vd,
Jc){return Jc||vd+" "});if(Pc.length<=da)return Pc}null!=ec&&(Yb=JSON.parse(ac),ec=void 0);if("object"===typeof Yb&&null!==Yb){var Cc=I+db;var Sc=[];var fd=0;if(Array.isArray(Yb)){var ee="[";Pc="]";for(da=Yb.length;fd<da;fd++)Sc.push(Sa(Yb[fd],Cc,fd===da-1?0:1)||"null")}else{ee="{";Pc="}";var Ra=Object.keys(Yb);for(da=Ra.length;fd<da;fd++){var eb=Ra[fd];var pc=JSON.stringify(eb)+": ";eb=Sa(Yb[eb],Cc,pc.length+(fd===da-1?0:1));void 0!==eb&&Sc.push(pc+eb)}}if(0<Sc.length)return[ee,db+Sc.join(",\n"+
Cc),Pc].join("\n"+I)}return ac}(T,"",0)};pb.Node=Oa;pb.create=pb;pb.prototype.removeNode=function(T){if(T.list!==this)throw Error("removing node which does not belong to this list");var ta=T.next,db=T.prev;ta&&(ta.prev=db);db&&(db.next=ta);T===this.head&&(this.head=ta);T===this.tail&&(this.tail=db);T.list.length--;T.next=null;T.prev=null;T.list=null;return ta};pb.prototype.unshiftNode=function(T){if(T!==this.head){T.list&&T.list.removeNode(T);var ta=this.head;T.list=this;if(T.next=ta)ta.prev=T;this.head=
T;this.tail||(this.tail=T);this.length++}};pb.prototype.pushNode=function(T){if(T!==this.tail){T.list&&T.list.removeNode(T);var ta=this.tail;T.list=this;if(T.prev=ta)ta.next=T;this.tail=T;this.head||(this.head=T);this.length++}};pb.prototype.push=function(){for(var T=0,ta=arguments.length;T<ta;T++)this.tail=new Oa(arguments[T],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};pb.prototype.unshift=function(){for(var T=0,ta=arguments.length;T<ta;T++)this.head=new Oa(arguments[T],
null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};pb.prototype.pop=function(){if(this.tail){var T=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return T}};pb.prototype.shift=function(){if(this.head){var T=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return T}};pb.prototype.forEach=function(T,ta){ta=ta||this;for(var db=this.head,zb=0;null!==db;zb++)T.call(ta,db.value,zb,
this),db=db.next};pb.prototype.forEachReverse=function(T,ta){ta=ta||this;for(var db=this.tail,zb=this.length-1;null!==db;zb--)T.call(ta,db.value,zb,this),db=db.prev};pb.prototype.get=function(T){for(var ta=0,db=this.head;null!==db&&ta<T;ta++)db=db.next;if(ta===T&&null!==db)return db.value};pb.prototype.getReverse=function(T){for(var ta=0,db=this.tail;null!==db&&ta<T;ta++)db=db.prev;if(ta===T&&null!==db)return db.value};pb.prototype.map=function(T,ta){ta=ta||this;for(var db=new pb,zb=this.head;null!==
zb;)db.push(T.call(ta,zb.value,this)),zb=zb.next;return db};pb.prototype.mapReverse=function(T,ta){ta=ta||this;for(var db=new pb,zb=this.tail;null!==zb;)db.push(T.call(ta,zb.value,this)),zb=zb.prev;return db};pb.prototype.reduce=function(T,ta){var db=this.head;if(1<arguments.length)var zb=ta;else if(this.head)db=this.head.next,zb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var ec=0;null!==db;ec++)zb=T(zb,db.value,ec),db=db.next;return zb};pb.prototype.reduceReverse=
function(T,ta){var db=this.tail;if(1<arguments.length)var zb=ta;else if(this.tail)db=this.tail.prev,zb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var ec=this.length-1;null!==db;ec--)zb=T(zb,db.value,ec),db=db.prev;return zb};pb.prototype.toArray=function(){for(var T=Array(this.length),ta=0,db=this.head;null!==db;ta++)T[ta]=db.value,db=db.next;return T};pb.prototype.toArrayReverse=function(){for(var T=Array(this.length),ta=0,db=this.tail;null!==db;ta++)T[ta]=
db.value,db=db.prev;return T};pb.prototype.slice=function(T,ta){ta=ta||this.length;0>ta&&(ta+=this.length);T=T||0;0>T&&(T+=this.length);var db=new pb;if(ta<T||0>ta)return db;0>T&&(T=0);ta>this.length&&(ta=this.length);for(var zb=0,ec=this.head;null!==ec&&zb<T;zb++)ec=ec.next;for(;null!==ec&&zb<ta;zb++,ec=ec.next)db.push(ec.value);return db};pb.prototype.sliceReverse=function(T,ta){ta=ta||this.length;0>ta&&(ta+=this.length);T=T||0;0>T&&(T+=this.length);var db=new pb;if(ta<T||0>ta)return db;0>T&&(T=
0);ta>this.length&&(ta=this.length);for(var zb=this.length,ec=this.tail;null!==ec&&zb>ta;zb--)ec=ec.prev;for(;null!==ec&&zb>T;zb--,ec=ec.prev)db.push(ec.value);return db};pb.prototype.splice=function(T,ta){T>this.length&&(T=this.length-1);0>T&&(T=this.length+T);for(var db=0,zb=this.head;null!==zb&&db<T;db++)zb=zb.next;var ec=[];for(db=0;zb&&db<ta;db++)ec.push(zb.value),zb=this.removeNode(zb);null===zb&&(zb=this.tail);zb!==this.head&&zb!==this.tail&&(zb=zb.prev);for(db=0;db<(2>=arguments.length?0:
arguments.length-2);db++){var Bc=2>db+2||arguments.length<=db+2?void 0:arguments[db+2];zb=zb===this.head?new Oa(Bc,null,zb,this):new Oa(Bc,zb,zb.next,this);null===zb.next&&(this.tail=zb);null===zb.prev&&(this.head=zb);this.length++}return ec};pb.prototype.reverse=function(){for(var T=this.head,ta=this.tail,db=T;null!==db;db=db.prev){var zb=db.prev;db.prev=db.next;db.next=zb}this.head=ta;this.tail=T;return this};try{pb.prototype[Symbol.iterator]=function*(){for(let T=this.head;T;T=T.next)yield T.value}}catch(T){}const Ja=
Symbol("max"),Wa=Symbol("length"),ab=Symbol("lengthCalculator"),W=Symbol("allowStale"),Ca=Symbol("maxAge"),Za=Symbol("dispose"),Ib=Symbol("noDisposeOnSet"),xc=Symbol("lruList"),uc=Symbol("cache"),wc=Symbol("updateAgeOnGet"),bd=()=>1;class Wb{constructor(T){"number"===typeof T&&(T={max:T});T||(T={});if(T.max&&("number"!==typeof T.max||0>T.max))throw new TypeError("max must be a non-negative number");this[Ja]=T.max||Infinity;const ta=T.length||bd;this[ab]="function"!==typeof ta?bd:ta;this[W]=T.stale||
!1;if(T.maxAge&&"number"!==typeof T.maxAge)throw new TypeError("maxAge must be a number");this[Ca]=T.maxAge||0;this[Za]=T.dispose;this[Ib]=T.noDisposeOnSet||!1;this[wc]=T.updateAgeOnGet||!1;this.reset()}set max(T){if("number"!==typeof T||0>T)throw new TypeError("max must be a non-negative number");this[Ja]=T||Infinity;Ka(this)}get max(){return this[Ja]}set allowStale(T){this[W]=!!T}get allowStale(){return this[W]}set maxAge(T){if("number"!==typeof T)throw new TypeError("maxAge must be a non-negative number");
this[Ca]=T;Ka(this)}get maxAge(){return this[Ca]}set lengthCalculator(T){"function"!==typeof T&&(T=bd);T!==this[ab]&&(this[ab]=T,this[Wa]=0,this[xc].forEach(ta=>{ta.length=this[ab](ta.value,ta.key);this[Wa]+=ta.length}));Ka(this)}get lengthCalculator(){return this[ab]}get length(){return this[Wa]}get itemCount(){return this[xc].length}rforEach(T,ta){ta=ta||this;for(let db=this[xc].tail;null!==db;){const zb=db.prev;Sb(this,T,db,ta);db=zb}}forEach(T,ta){ta=ta||this;for(let db=this[xc].head;null!==db;){const zb=
db.next;Sb(this,T,db,ta);db=zb}}keys(){return this[xc].toArray().map(T=>T.key)}values(){return this[xc].toArray().map(T=>T.value)}reset(){this[Za]&&this[xc]&&this[xc].length&&this[xc].forEach(T=>this[Za](T.key,T.value));this[uc]=new Map;this[xc]=new pb;this[Wa]=0}dump(){return this[xc].map(T=>Pd(this,T)?!1:{k:T.key,v:T.value,e:T.now+(T.maxAge||0)}).toArray().filter(T=>T)}dumpLru(){return this[xc]}set(T,ta,db){if((db=db||this[Ca])&&"number"!==typeof db)throw new TypeError("maxAge must be a number");
const zb=db?Date.now():0,ec=this[ab](ta,T);if(this[uc].has(T)){if(ec>this[Ja])return Ub(this,this[uc].get(T)),!1;const Bc=this[uc].get(T).value;if(this[Za]&&!this[Ib])this[Za](T,Bc.value);Bc.now=zb;Bc.maxAge=db;Bc.value=ta;this[Wa]+=ec-Bc.length;Bc.length=ec;this.get(T);Ka(this);return!0}db=new rb(T,ta,ec,zb,db);if(db.length>this[Ja]){if(this[Za])this[Za](T,ta);return!1}this[Wa]+=db.length;this[xc].unshift(db);this[uc].set(T,this[xc].head);Ka(this);return!0}has(T){if(!this[uc].has(T))return!1;T=this[uc].get(T).value;
return!Pd(this,T)}get(T){return Rc(this,T,!0)}peek(T){return Rc(this,T,!1)}pop(){const T=this[xc].tail;if(!T)return null;Ub(this,T);return T.value}del(T){Ub(this,this[uc].get(T))}load(T){this.reset();const ta=Date.now();for(let zb=T.length-1;0<=zb;zb--){const ec=T[zb];var db=ec.e||0;0===db?this.set(ec.k,ec.v):(db-=ta,0<db&&this.set(ec.k,ec.v,db))}}prune(){this[uc].forEach((T,ta)=>Rc(this,ta,!1))}}const Rc=(T,ta,db)=>{if(ta=T[uc].get(ta)){const zb=ta.value;if(Pd(T,zb)){if(Ub(T,ta),!T[W])return}else db&&
(T[wc]&&(ta.value.now=Date.now()),T[xc].unshiftNode(ta));return zb.value}},Pd=(T,ta)=>{if(!ta||!ta.maxAge&&!T[Ca])return!1;const db=Date.now()-ta.now;return ta.maxAge?db>ta.maxAge:T[Ca]&&db>T[Ca]},Ka=T=>{if(T[Wa]>T[Ja])for(let ta=T[xc].tail;T[Wa]>T[Ja]&&null!==ta;){const db=ta.prev;Ub(T,ta);ta=db}},Ub=(T,ta)=>{if(ta){const db=ta.value;if(T[Za])T[Za](db.key,db.value);T[Wa]-=db.length;T[uc].delete(db.key);T[xc].removeNode(ta)}};class rb{constructor(T,ta,db,zb,ec){this.key=T;this.value=ta;this.length=
db;this.now=zb;this.maxAge=ec||0}}const Sb=(T,ta,db,zb)=>{let ec=db.value;Pd(T,ec)&&(Ub(T,db),T[W]||(ec=void 0));ec&&ta.call(zb,ec.value,ec.key,T)};var fc=Wb;const bc=["includePrerelease","loose","rtl"];var Hc=T=>T?"object"!==typeof T?{loose:!0}:bc.filter(ta=>T[ta]).reduce((ta,db)=>{ta[db]=!0;return ta},{}):{},zc={exports:{}},Yc={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Md="object"===typeof r&&r.env&&r.env.NODE_DEBUG&&
/\bsemver\b/i.test(r.env.NODE_DEBUG)?function(){for(var T=arguments.length,ta=Array(T),db=0;db<T;db++)ta[db]=arguments[db];return console.error("SEMVER",...ta)}:()=>{};(function(T,ta){const {MAX_SAFE_COMPONENT_LENGTH:db}=Yc,zb=Md;ta=T.exports={};const ec=ta.re=[],Bc=ta.src=[],Yb=ta.t={};let I=0;T=(da,Sa,ac)=>{const Pc=I++;zb(da,Pc,Sa);Yb[da]=Pc;Bc[Pc]=Sa;ec[Pc]=new RegExp(Sa,ac?"g":void 0)};T("NUMERICIDENTIFIER","0|[1-9]\\d*");T("NUMERICIDENTIFIERLOOSE","[0-9]+");T("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");
T("MAINVERSION","(".concat(Bc[Yb.NUMERICIDENTIFIER],")\\.")+"(".concat(Bc[Yb.NUMERICIDENTIFIER],")\\.")+"(".concat(Bc[Yb.NUMERICIDENTIFIER],")"));T("MAINVERSIONLOOSE","(".concat(Bc[Yb.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Bc[Yb.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Bc[Yb.NUMERICIDENTIFIERLOOSE],")"));T("PRERELEASEIDENTIFIER","(?:".concat(Bc[Yb.NUMERICIDENTIFIER],"|").concat(Bc[Yb.NONNUMERICIDENTIFIER],")"));T("PRERELEASEIDENTIFIERLOOSE","(?:".concat(Bc[Yb.NUMERICIDENTIFIERLOOSE],"|").concat(Bc[Yb.NONNUMERICIDENTIFIER],
")"));T("PRERELEASE","(?:-(".concat(Bc[Yb.PRERELEASEIDENTIFIER],"(?:\\.").concat(Bc[Yb.PRERELEASEIDENTIFIER],")*))"));T("PRERELEASELOOSE","(?:-?(".concat(Bc[Yb.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(Bc[Yb.PRERELEASEIDENTIFIERLOOSE],")*))"));T("BUILDIDENTIFIER","[0-9A-Za-z-]+");T("BUILD","(?:\\+(".concat(Bc[Yb.BUILDIDENTIFIER],"(?:\\.").concat(Bc[Yb.BUILDIDENTIFIER],")*))"));T("FULLPLAIN","v?".concat(Bc[Yb.MAINVERSION]).concat(Bc[Yb.PRERELEASE],"?").concat(Bc[Yb.BUILD],"?"));T("FULL","^".concat(Bc[Yb.FULLPLAIN],
"$"));T("LOOSEPLAIN","[v\x3d\\s]*".concat(Bc[Yb.MAINVERSIONLOOSE]).concat(Bc[Yb.PRERELEASELOOSE],"?").concat(Bc[Yb.BUILD],"?"));T("LOOSE","^".concat(Bc[Yb.LOOSEPLAIN],"$"));T("GTLT","((?:\x3c|\x3e)?\x3d?)");T("XRANGEIDENTIFIERLOOSE","".concat(Bc[Yb.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));T("XRANGEIDENTIFIER","".concat(Bc[Yb.NUMERICIDENTIFIER],"|x|X|\\*"));T("XRANGEPLAIN","[v\x3d\\s]*(".concat(Bc[Yb.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Bc[Yb.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Bc[Yb.XRANGEIDENTIFIER],
")")+"(?:".concat(Bc[Yb.PRERELEASE],")?").concat(Bc[Yb.BUILD],"?")+")?)?");T("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(Bc[Yb.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Bc[Yb.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Bc[Yb.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(Bc[Yb.PRERELEASELOOSE],")?").concat(Bc[Yb.BUILD],"?")+")?)?");T("XRANGE","^".concat(Bc[Yb.GTLT],"\\s*").concat(Bc[Yb.XRANGEPLAIN],"$"));T("XRANGELOOSE","^".concat(Bc[Yb.GTLT],"\\s*").concat(Bc[Yb.XRANGEPLAINLOOSE],"$"));T("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(db,
"})")+"(?:\\.(\\d{1,".concat(db,"}))?")+"(?:\\.(\\d{1,".concat(db,"}))?")+"(?:$|[^\\d])");T("COERCERTL",Bc[Yb.COERCE],!0);T("LONETILDE","(?:~\x3e?)");T("TILDETRIM","(\\s*)".concat(Bc[Yb.LONETILDE],"\\s+"),!0);ta.tildeTrimReplace="$1~";T("TILDE","^".concat(Bc[Yb.LONETILDE]).concat(Bc[Yb.XRANGEPLAIN],"$"));T("TILDELOOSE","^".concat(Bc[Yb.LONETILDE]).concat(Bc[Yb.XRANGEPLAINLOOSE],"$"));T("LONECARET","(?:\\^)");T("CARETTRIM","(\\s*)".concat(Bc[Yb.LONECARET],"\\s+"),!0);ta.caretTrimReplace="$1^";T("CARET",
"^".concat(Bc[Yb.LONECARET]).concat(Bc[Yb.XRANGEPLAIN],"$"));T("CARETLOOSE","^".concat(Bc[Yb.LONECARET]).concat(Bc[Yb.XRANGEPLAINLOOSE],"$"));T("COMPARATORLOOSE","^".concat(Bc[Yb.GTLT],"\\s*(").concat(Bc[Yb.LOOSEPLAIN],")$|^$"));T("COMPARATOR","^".concat(Bc[Yb.GTLT],"\\s*(").concat(Bc[Yb.FULLPLAIN],")$|^$"));T("COMPARATORTRIM","(\\s*)".concat(Bc[Yb.GTLT],"\\s*(").concat(Bc[Yb.LOOSEPLAIN],"|").concat(Bc[Yb.XRANGEPLAIN],")"),!0);ta.comparatorTrimReplace="$1$2$3";T("HYPHENRANGE","^\\s*(".concat(Bc[Yb.XRANGEPLAIN],
")")+"\\s+-\\s+"+"(".concat(Bc[Yb.XRANGEPLAIN],")")+"\\s*$");T("HYPHENRANGELOOSE","^\\s*(".concat(Bc[Yb.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(Bc[Yb.XRANGEPLAINLOOSE],")")+"\\s*$");T("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");T("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");T("GTE0PRE","^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(zc,zc.exports);const td=/^[0-9]+$/,Ga=(T,ta)=>{const db=td.test(T),zb=td.test(ta);db&&zb&&(T=+T,ta=+ta);return T===ta?0:db&&!zb?-1:zb&&!db?1:T<ta?-1:1};var gb={compareIdentifiers:Ga,
rcompareIdentifiers:(T,ta)=>Ga(ta,T)};const vb=Md,{MAX_LENGTH:ra,MAX_SAFE_INTEGER:F}=Yc,{re:ya,t:La}=zc.exports,$a=Hc,{compareIdentifiers:jb}=gb;class Fb{constructor(T,ta){ta=$a(ta);if(T instanceof Fb){if(T.loose===!!ta.loose&&T.includePrerelease===!!ta.includePrerelease)return T;T=T.version}else if("string"!==typeof T)throw new TypeError("Invalid Version: ".concat(T));if(T.length>ra)throw new TypeError("version is longer than ".concat(ra," characters"));vb("SemVer",T,ta);this.options=ta;this.loose=
!!ta.loose;this.includePrerelease=!!ta.includePrerelease;ta=T.trim().match(ta.loose?ya[La.LOOSE]:ya[La.FULL]);if(!ta)throw new TypeError("Invalid Version: ".concat(T));this.raw=T;this.major=+ta[1];this.minor=+ta[2];this.patch=+ta[3];if(this.major>F||0>this.major)throw new TypeError("Invalid major version");if(this.minor>F||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>F||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=ta[4]?ta[4].split(".").map(db=>
{if(/^[0-9]+$/.test(db)){const zb=+db;if(0<=zb&&zb<F)return zb}return db}):[];this.build=ta[5]?ta[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(T){vb("SemVer.compare",this.version,this.options,T);if(!(T instanceof Fb)){if("string"===typeof T&&T===this.version)return 0;T=new Fb(T,this.options)}return T.version===
this.version?0:this.compareMain(T)||this.comparePre(T)}compareMain(T){T instanceof Fb||(T=new Fb(T,this.options));return jb(this.major,T.major)||jb(this.minor,T.minor)||jb(this.patch,T.patch)}comparePre(T){T instanceof Fb||(T=new Fb(T,this.options));if(this.prerelease.length&&!T.prerelease.length)return-1;if(!this.prerelease.length&&T.prerelease.length)return 1;if(!this.prerelease.length&&!T.prerelease.length)return 0;let ta=0;do{const db=this.prerelease[ta],zb=T.prerelease[ta];vb("prerelease compare",
ta,db,zb);if(void 0===db&&void 0===zb)return 0;if(void 0===zb)return 1;if(void 0===db)return-1;if(db!==zb)return jb(db,zb)}while(++ta)}compareBuild(T){T instanceof Fb||(T=new Fb(T,this.options));let ta=0;do{const db=this.build[ta],zb=T.build[ta];vb("prerelease compare",ta,db,zb);if(void 0===db&&void 0===zb)return 0;if(void 0===zb)return 1;if(void 0===db)return-1;if(db!==zb)return jb(db,zb)}while(++ta)}inc(T,ta){switch(T){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;
this.inc("pre",ta);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",ta);break;case "prepatch":this.prerelease.length=0;this.inc("patch",ta);this.inc("pre",ta);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",ta);this.inc("pre",ta);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=
0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(T=this.prerelease.length;0<=--T;)"number"===typeof this.prerelease[T]&&(this.prerelease[T]++,T=-2);-1===T&&this.prerelease.push(0)}ta&&(0===jb(this.prerelease[0],ta)?isNaN(this.prerelease[1])&&(this.prerelease=[ta,0]):this.prerelease=[ta,0]);break;default:throw Error("invalid increment argument: ".concat(T));}this.format();
this.raw=this.version;return this}}var nc=Fb;const dc=nc;var ic=(T,ta,db)=>(new dc(T,db)).compare(new dc(ta,db)),Uc=(T,ta,db,zb)=>{switch(ta){case "\x3d\x3d\x3d":return"object"===typeof T&&(T=T.version),"object"===typeof db&&(db=db.version),T===db;case "!\x3d\x3d":return"object"===typeof T&&(T=T.version),"object"===typeof db&&(db=db.version),T!==db;case "":case "\x3d":case "\x3d\x3d":return 0===ic(T,db,zb);case "!\x3d":return 0!==ic(T,db,zb);case "\x3e":return 0<ic(T,db,zb);case "\x3e\x3d":return 0<=
ic(T,db,zb);case "\x3c":return 0>ic(T,db,zb);case "\x3c\x3d":return 0>=ic(T,db,zb);default:throw new TypeError("Invalid operator: ".concat(ta));}},cd,dd,Qd,Td;const Ed=Pa();var Zd=(T,ta,db)=>{try{ta=new Ed(ta,db)}catch(zb){return!1}return ta.test(T)},de={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Ud={"*":(T,ta)=>T*ta,"+":(T,ta)=>T+ta,"-":(T,ta)=>T-ta,"/":(T,ta)=>
T/ta,"%":(T,ta)=>T%ta,"\x3e":(T,ta)=>T>ta,"\x3c":(T,ta)=>T<ta,"\x3c\x3d":(T,ta)=>T<=ta,"\x3e\x3d":(T,ta)=>T>=ta,"\x3d\x3d":(T,ta)=>T==ta,"!\x3d":(T,ta)=>T!=ta,"\x3d\x3d\x3d":(T,ta)=>T===ta,"!\x3d\x3d":(T,ta)=>T!==ta,"\x26":(T,ta)=>T&ta,"|":(T,ta)=>T|ta,"^":(T,ta)=>T^ta,"\x3c\x3c":(T,ta)=>T<<ta,"\x3e\x3e":(T,ta)=>T>>ta,"\x3e\x3e\x3e":(T,ta)=>T>>>ta},Te={"+":T=>+T,"-":T=>-T,"~":T=>~T,"!":T=>!T};const Xd=Array.prototype.slice,M=(T,ta,db)=>{db=db?db(ta[0]):ta[0];return db[T].apply(db,Xd.call(ta,1))};
var ka={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(T,ta,db)=>Math.max(ta,Math.min(db,T)),now:Date.now,utc:Date.UTC,datetime:(T,ta,db,zb,ec,Bc,Yb)=>new Date(T,ta||0,null!=db?db:1,zb||0,ec||0,Bc||0,Yb||0),date:T=>(new Date(T)).getDate(),
day:T=>(new Date(T)).getDay(),year:T=>(new Date(T)).getFullYear(),month:T=>(new Date(T)).getMonth(),hours:T=>(new Date(T)).getHours(),minutes:T=>(new Date(T)).getMinutes(),seconds:T=>(new Date(T)).getSeconds(),milliseconds:T=>(new Date(T)).getMilliseconds(),time:T=>(new Date(T)).getTime(),timezoneoffset:T=>(new Date(T)).getTimezoneOffset(),utcdate:T=>(new Date(T)).getUTCDate(),utcday:T=>(new Date(T)).getUTCDay(),utcyear:T=>(new Date(T)).getUTCFullYear(),utcmonth:T=>(new Date(T)).getUTCMonth(),utchours:T=>
(new Date(T)).getUTCHours(),utcminutes:T=>(new Date(T)).getUTCMinutes(),utcseconds:T=>(new Date(T)).getUTCSeconds(),utcmilliseconds:T=>(new Date(T)).getUTCMilliseconds(),length:T=>T.length,join:function(){return M("join",arguments)},indexof:function(){return M("indexOf",arguments)},lastindexof:function(){return M("lastIndexOf",arguments)},slice:function(){return M("slice",arguments)},reverse:T=>T.slice().reverse(),parseFloat,parseInt,upper:T=>String(T).toUpperCase(),lower:T=>String(T).toLowerCase(),
substring:function(){return M("substring",arguments,String)},split:function(){return M("split",arguments,String)},replace:function(){return M("replace",arguments,String)},trim:T=>String(T).trim(),regexp:RegExp,test:(T,ta)=>RegExp(T).test(ta)};const za="view item group xy x y".split(" "),fb={Literal:(T,ta)=>ta.value,Identifier:(T,ta)=>{ta=ta.name;return 0<T.memberDepth?ta:"datum"===ta?T.datum:"event"===ta?T.event:"item"===ta?T.item:de[ta]||T.params["$"+ta]},MemberExpression:(T,ta)=>{const db=!ta.computed,
zb=T(ta.object);db&&(T.memberDepth+=1);ta=T(ta.property);db&&--T.memberDepth;return zb[ta]},CallExpression:(T,ta)=>{const db=ta.arguments;ta=ta.callee.name;ta.startsWith("_")&&(ta=ta.slice(1));return"if"===ta?T(db[0])?T(db[1]):T(db[2]):(T.fn[ta]||ka[ta]).apply(T.fn,db.map(T))},ArrayExpression:(T,ta)=>ta.elements.map(T),BinaryExpression:(T,ta)=>Ud[ta.operator](T(ta.left),T(ta.right)),UnaryExpression:(T,ta)=>Te[ta.operator](T(ta.argument)),ConditionalExpression:(T,ta)=>T(ta.test)?T(ta.consequent):T(ta.alternate),
LogicalExpression:(T,ta)=>"\x26\x26"===ta.operator?T(ta.left)&&T(ta.right):T(ta.left)||T(ta.right),ObjectExpression:(T,ta)=>ta.properties.reduce((db,zb)=>{T.memberDepth+=1;const ec=T(zb.key);--T.memberDepth;db[ec]=T(zb.value);return db},{})};var Hb={operator(T,ta){const db=ta.ast,zb=T.functions;return ec=>kb(db,zb,ec)},parameter(T,ta){const db=ta.ast,zb=T.functions;return(ec,Bc)=>kb(db,zb,Bc,ec)},event(T,ta){const db=ta.ast,zb=T.functions;return ec=>kb(db,zb,void 0,void 0,ec)},handler(T,ta){const db=
ta.ast,zb=T.functions;return(ec,Bc)=>kb(db,zb,ec,Bc.item&&Bc.item.datum,Bc)},encode(T,ta){const {marktype:db,channels:zb}=ta,ec=T.functions,Bc="group"===db||"image"===db||"rect"===db;return(Yb,I)=>{const da=Yb.datum;let Sa=0,ac;for(const Pc in zb)ac=kb(zb[Pc].ast,ec,I,da,void 0,Yb),Yb[Pc]!==ac&&(Yb[Pc]=ac,Sa=1);"rule"!==db&&(zb.x2&&(zb.x?(Bc&&Yb.x>Yb.x2&&(I=Yb.x,Yb.x=Yb.x2,Yb.x2=I),Yb.width=Yb.x2-Yb.x):Yb.x=Yb.x2-(Yb.width||0)),zb.xc&&(Yb.x=Yb.xc-(Yb.width||0)/2),zb.y2&&(zb.y?(Bc&&Yb.y>Yb.y2&&(I=
Yb.y,Yb.y=Yb.y2,Yb.y2=I),Yb.height=Yb.y2-Yb.y):Yb.y=Yb.y2-(Yb.height||0)),zb.yc&&(Yb.y=Yb.yc-(Yb.height||0)/2));return Sa}}};const Xb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},Ac={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var lc=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},
symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",
gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Xb["category-6"],diverging:Xb["fireandice-6"],heatmap:Xb["fire-7"],ordinal:Xb["fire-7"],ramp:Xb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Ac["six-groups-cat-1"],diverging:Ac["diverging-colors"],heatmap:Ac["diverging-colors"],ordinal:Ac["six-groups-seq"],ramp:Ac["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},
axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Fc=T=>function(ta){return ta[T]},hd=T=>{const ta=T.length;return function(db){for(let zb=0;zb<ta;++zb)db=db[T[zb]];return db}};(function(T,ta,db){const zb=ob(T);T=1===zb.length?zb[0]:T;return Na((db&&db.get||xb)(zb),[T],ta||T)})("id");Na(T=>T,[],"identity");Na(()=>0,[],
"zero");Na(()=>1,[],"one");Na(()=>!0,[],"true");Na(()=>!1,[],"false");var Nc=Array.isArray;const rd={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(T){return String(T).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(T,ta,db){if(Nc(T))return"[".concat(T.map(ec=>ta("string"===typeof ec?ec:JSON.stringify(ec,Zb(db)))).join(", "),"]");if(T===Object(T)){let ec="";const {title:Bc,image:Yb}=
T;T=Nb(T,["title","image"]);Bc&&(ec+="\x3ch2\x3e".concat(ta(Bc),"\x3c/h2\x3e"));Yb&&(ec+='\x3cimg src\x3d"'.concat(ta(Yb),'"\x3e'));var zb=Object.keys(T);if(0<zb.length){ec+="\x3ctable\x3e";for(const I of zb)zb=T[I],void 0!==zb&&(zb===Object(zb)&&(zb=JSON.stringify(zb,Zb(db))),ec+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(ta(I),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(ta(zb),"\x3c/td\x3e\x3c/tr\x3e"));ec+="\x3c/table\x3e"}return ec||"{}"}return ta(T)}};class Gd{constructor(T){this.options=
Object.assign(Object.assign({},rd),T);var ta=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){T=document.createElement("style");T.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(ta))throw Error("Invalid HTML ID");ta="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
ta);T.innerHTML=ta;ta=document.head;0<ta.childNodes.length?ta.insertBefore(T,ta.childNodes[0]):ta.appendChild(T)}}tooltipHandler(T,ta,db,zb){var ec;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(ec=document.fullscreenElement)&&void 0!==ec?ec:document.body).appendChild(this.el));if(null==zb||""===zb)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(zb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));T=this.el.getBoundingClientRect();ec=this.options.offsetX;db=this.options.offsetY;zb=ta.clientX+ec;zb+T.width>window.innerWidth&&(zb=+ta.clientX-ec-T.width);ec=ta.clientY+db;ec+T.height>window.innerHeight&&(ec=+ta.clientY-db-T.height);var {x:Bc,y:Yb}={x:zb,y:ec};this.el.setAttribute("style","top: ".concat(Yb,"px; left: ").concat(Bc,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(T,ta){return this.substr(!ta||0>ta?0:+ta,T.length)===T});var Fd;const $d=P;let Wd=f;const ae="undefined"!==typeof window?window:void 0;void 0===Wd&&null!==ae&&void 0!==ae&&null!==(Fd=ae.vl)&&void 0!==Fd&&Fd.compile&&(Wd=ae.vl);const Be={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},ff={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},df={vega:"Vega","vega-lite":"Vega-Lite"},af={vega:$d.version,"vega-lite":Wd?Wd.version:"not available"},re={vega:T=>T,"vega-lite":(T,ta)=>Wd.compile(T,{config:ta}).spec},pf=function(){var T;if(T=1<arguments.length){if(T=g.isString(0>=arguments.length?void 0:arguments[0]))T=0>=arguments.length?void 0:arguments[0],T=!(T.startsWith("http://")||T.startsWith("https://")||T.startsWith("//"));T=T||(0>=arguments.length?void 0:arguments[0])instanceof HTMLElement||
3===arguments.length}return T?cb(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):L(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};pf.vegaLite=Wd;pf.vl=Wd;pf.container=L;pf.embed=cb;pf.vega=$d;pf.default=cb;pf.version="6.21.0";return pf})};
shadow$provide[68]=function(cc,Db,Xc,mb){mb.__esModule=!0;mb.default=function(r){const g={};return!!r&&"[object Function]"===g.toString.call(r)}};
shadow$provide[69]=function(cc,Db,Xc,mb){mb.__esModule=!0;mb.default=function(qa,hb,Gb){Gb&&((0,g.default)(Gb)?Gb(qa.data(hb)):qa.change(hb,r.vega.changeset().remove(()=>!0).insert(Gb)))};var r=Db(67),g=function(qa){return qa&&qa.__esModule?qa:{default:qa}}(Db(68))};
shadow$provide[70]=function(cc,Db,Xc,mb){mb.__esModule=!0;mb.default=function(g,qa){Object.keys(qa).forEach(hb=>{(0,r.default)(g,hb,qa[hb])})};var r=function(g){return g&&g.__esModule?g:{default:g}}(Db(69))};
shadow$provide[71]=function(cc,Db,Xc,mb){mb.__esModule=!0;mb.default=function(r){const g=new Set;r.forEach(qa=>{Object.keys(qa).forEach(hb=>{g.add(hb)})});return g}};
shadow$provide[72]=function(cc,Db,Xc,mb){mb.__esModule=!0;mb.NOOP=void 0;mb.NOOP=()=>{}};
shadow$provide[73]=function(cc,Db,Xc,mb){mb.__esModule=!0;mb.default=function(r,g){const qa=Object.keys(g);qa.forEach(hb=>{try{r.addSignalListener(hb,g[hb])}catch(Gb){console.warn("Cannot add invalid signal listener.",Gb)}});return 0<qa.length}};
shadow$provide[74]=function(cc,Db,Xc,mb){Xc.exports=function hb(g,qa){if(g===qa)return!0;if(g&&qa&&"object"==typeof g&&"object"==typeof qa){if(g.constructor!==qa.constructor)return!1;var Gb;if(Array.isArray(g)){var $b=g.length;if($b!=qa.length)return!1;for(Gb=$b;0!==Gb--;)if(!hb(g[Gb],qa[Gb]))return!1;return!0}if(g.constructor===RegExp)return g.source===qa.source&&g.flags===qa.flags;if(g.valueOf!==Object.prototype.valueOf)return g.valueOf()===qa.valueOf();if(g.toString!==Object.prototype.toString)return g.toString()===
qa.toString();var oc=Object.keys(g);$b=oc.length;if($b!==Object.keys(qa).length)return!1;for(Gb=$b;0!==Gb--;)if(!Object.prototype.hasOwnProperty.call(qa,oc[Gb]))return!1;for(Gb=$b;0!==Gb--;)if($b=oc[Gb],!hb(g[$b],qa[$b]))return!1;return!0}return g!==g&&qa!==qa}};
shadow$provide[75]=function(cc,Db,Xc,mb){function r(hb){return hb&&hb.__esModule?hb:{default:hb}}mb.__esModule=!0;mb.default=function(hb,Gb){if(hb===Gb)return!1;const $b={width:!1,height:!1,isExpensive:!1},oc=(0,qa.default)([hb,Gb]);!oc.has("width")||"width"in hb&&"width"in Gb&&hb.width===Gb.width||("width"in hb&&"number"===typeof hb.width?$b.width=hb.width:$b.isExpensive=!0);!oc.has("height")||"height"in hb&&"height"in Gb&&hb.height===Gb.height||("height"in hb&&"number"===typeof hb.height?$b.height=
hb.height:$b.isExpensive=!0);oc.delete("width");oc.delete("height");[...oc].some(kc=>!(kc in hb)||!(kc in Gb)||!(0,g.default)(hb[kc],Gb[kc]))&&($b.isExpensive=!0);return!1!==$b.width||!1!==$b.height||$b.isExpensive?$b:!1};var g=r(Db(74)),qa=r(Db(71))};
shadow$provide[76]=function(cc,Db,Xc,mb){mb.__esModule=!0;mb.default=function(r,g){const qa=Object.keys(g);qa.forEach(hb=>{try{r.removeSignalListener(hb,g[hb])}catch(Gb){console.warn("Cannot remove invalid signal listener.",Gb)}});return 0<qa.length}};
shadow$provide[77]=function(cc,Db,Xc,mb){mb.__esModule=!0;mb.default=function(r){const {spec:g,width:qa,height:hb}=r;return"undefined"!==typeof qa&&"undefined"!==typeof hb?Object.assign({},g,{width:qa,height:hb}):"undefined"!==typeof qa?Object.assign({},g,{width:qa}):"undefined"!==typeof hb?Object.assign({},g,{height:hb}):g}};
shadow$provide[78]=function(cc,Db,Xc,mb){function r(Va){return Va&&Va.__esModule?Va:{default:Va}}function g(Va,qb,Kb){qb in Va?Object.defineProperty(Va,qb,{value:Kb,enumerable:!0,configurable:!0,writable:!0}):Va[qb]=Kb;return Va}mb.__esModule=!0;mb.default=void 0;cc=r(Db(19));var qa=r(Db(2)),hb=r(Db(67)),Gb=r(Db(20)),$b=r(Db(71)),oc=Db(72),kc=r(Db(73)),yc=r(Db(75)),Ab=r(Db(76)),gc=r(Db(77));class rc extends qa.default.PureComponent{constructor(){super(...arguments);g(this,"containerRef",qa.default.createRef());
g(this,"resultPromise",void 0);g(this,"handleError",Va=>{const {onError:qb=oc.NOOP}=this.props;qb(Va,this.containerRef.current);console.warn(Va)});g(this,"modifyView",Va=>{this.resultPromise&&this.resultPromise.then(qb=>{qb&&Va(qb.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Va){const qb=(0,$b.default)([this.props,Va]);qb.delete("className");qb.delete("signalListeners");qb.delete("spec");qb.delete("style");qb.delete("width");qb.delete("height");
if(Array.from(qb).some(Kb=>this.props[Kb]!==Va[Kb]))this.clearView(),this.createView();else{const Kb=(0,yc.default)((0,gc.default)(this.props),(0,gc.default)(Va)),{signalListeners:Ob}=this.props,{signalListeners:Bb}=Va;if(Kb)if(Kb.isExpensive)this.clearView(),this.createView();else{const Pb=!(0,Gb.default)(Ob,Bb);this.modifyView(Ua=>{!1!==Kb.width&&Ua.width(Kb.width);!1!==Kb.height&&Ua.height(Kb.height);Pb&&(Bb&&(0,Ab.default)(Ua,Bb),Ob&&(0,kc.default)(Ua,Ob));Ua.run()})}else(0,Gb.default)(Ob,Bb)||
this.modifyView(Pb=>{Bb&&(0,Ab.default)(Pb,Bb);Ob&&(0,kc.default)(Pb,Ob);Pb.run()})}}componentWillUnmount(){this.clearView()}createView(){var Va=this.props,qb=Object.assign({},Va);const Kb=Va.onNewView,Ob=void 0===Va.signalListeners?{}:Va.signalListeners;Va=(delete qb.spec,delete qb.onNewView,delete qb.signalListeners,delete qb.width,delete qb.height,qb);this.containerRef.current&&(qb=(0,gc.default)(this.props),this.resultPromise=(0,hb.default)(this.containerRef.current,qb,Va).then(Bb=>{if(Bb){const {view:Pb}=
Bb;(0,kc.default)(Pb,Ob)&&Pb.run()}return Bb}).catch(this.handleError),Kb&&this.modifyView(Kb))}clearView(){this.resultPromise&&this.resultPromise.then(Va=>{Va&&Va.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Va,style:qb}=this.props;return qa.default.createElement("div",{ref:this.containerRef,className:Va,style:qb})}}mb.default=rc;g(rc,"propTypes",{className:cc.default.string,onError:cc.default.func})};
shadow$provide[79]=function(cc,Db,Xc,mb){function r(Ab){return Ab&&Ab.__esModule?Ab:{default:Ab}}function g(){g=Object.assign||function(Ab){for(var gc=1;gc<arguments.length;gc++){var rc=arguments[gc],Va;for(Va in rc)Object.prototype.hasOwnProperty.call(rc,Va)&&(Ab[Va]=rc[Va])}return Ab};return g.apply(this,arguments)}function qa(Ab,gc,rc){gc in Ab?Object.defineProperty(Ab,gc,{value:rc,enumerable:!0,configurable:!0,writable:!0}):Ab[gc]=rc;return Ab}mb.__esModule=!0;mb.default=void 0;r(Db(19));var hb=
r(Db(2)),Gb=r(Db(20)),$b=r(Db(70)),oc=r(Db(78)),kc=Db(72);class yc extends hb.default.PureComponent{constructor(){super(...arguments);qa(this,"vegaEmbed",hb.default.createRef());qa(this,"handleNewView",Ab=>{this.update();const {onNewView:gc=kc.NOOP}=this.props;gc(Ab)})}componentDidMount(){this.update()}componentDidUpdate(Ab){(0,Gb.default)(this.props.data,Ab.data)||this.update()}update(){const {data:Ab}=this.props;this.vegaEmbed.current&&Ab&&0<Object.keys(Ab).length&&this.vegaEmbed.current.modifyView(gc=>
{(0,$b.default)(gc,Ab);gc.resize().run()})}render(){var Ab=Object.assign({},this.props);Ab=(delete Ab.data,Ab);return hb.default.createElement(oc.default,g({ref:this.vegaEmbed},Ab,{onNewView:this.handleNewView}))}}mb.default=yc;qa(yc,"defaultProps",{data:{}})};
shadow$provide[80]=function(cc,Db,Xc,mb){function r(Gb){return Gb&&Gb.__esModule?Gb:{default:Gb}}function g(){g=Object.assign||function(Gb){for(var $b=1;$b<arguments.length;$b++){var oc=arguments[$b],kc;for(kc in oc)Object.prototype.hasOwnProperty.call(oc,kc)&&(Gb[kc]=oc[kc])}return Gb};return g.apply(this,arguments)}mb.__esModule=!0;mb.default=function(Gb){return qa.default.createElement(hb.default,g({},Gb,{mode:"vega-lite"}))};var qa=r(Db(2)),hb=r(Db(79))};
shadow$provide[81]=function(cc,Db,Xc,mb){function r($b){return $b&&$b.__esModule?$b:{default:$b}}function g(){g=Object.assign||function($b){for(var oc=1;oc<arguments.length;oc++){var kc=arguments[oc],yc;for(yc in kc)Object.prototype.hasOwnProperty.call(kc,yc)&&($b[yc]=kc[yc])}return $b};return g.apply(this,arguments)}function qa($b,oc,kc){oc in $b?Object.defineProperty($b,oc,{value:kc,enumerable:!0,configurable:!0,writable:!0}):$b[oc]=kc;return $b}mb.__esModule=!0;mb.default=function($b){let {mode:oc,
spec:kc}=$b;class yc extends hb.default.PureComponent{render(){return hb.default.createElement(Gb.default,g({mode:oc,spec:kc},this.props))}}qa(yc,"getSpec",function(){return kc});return yc};var hb=r(Db(2)),Gb=r(Db(79))};
shadow$provide[82]=function(cc,Db,Xc,mb){mb.__esModule=!0};
shadow$provide[83]=function(cc,Db,Xc,mb){mb.__esModule=!0;var r=Db(82);Object.keys(r).forEach(function(g){"default"!==g&&"__esModule"!==g&&(g in mb&&mb[g]===r[g]||(mb[g]=r[g]))})};
shadow$provide[84]=function(cc,Db,Xc,mb){function r(hb){return hb&&hb.__esModule?hb:{default:hb}}mb.__esModule=!0;var g={Vega:!0,VegaLite:!0,createClassFromSpec:!0};mb.createClassFromSpec=mb.VegaLite=mb.Vega=void 0;cc=r(Db(79));mb.Vega=cc.default;cc=r(Db(80));mb.VegaLite=cc.default;cc=r(Db(81));mb.createClassFromSpec=cc.default;var qa=Db(83);Object.keys(qa).forEach(function(hb){"default"!==hb&&"__esModule"!==hb&&(Object.prototype.hasOwnProperty.call(g,hb)||hb in mb&&mb[hb]===qa[hb]||(mb[hb]=qa[hb]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Dd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.kb="";g.set=function(a){this.kb=""+a};g.append=function(a,b,c){this.kb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.kb+=arguments[d];return this};g.clear=function(){this.kb=""};g.toString=function(){return this.kb};var ra={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Ib:c)?c.nb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.nb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):Ta(a,b)};Sa.D=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Ta(a,b,c)};Sa.$=3;function Ua(){}
function D(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):Za(a,b)};Ya.D=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Za(a,b,c)};Ya.$=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.lb)a=a.lb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.jc)a=a.jc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.Xc)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.Yc)a=a.R;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.zc)a=a.zc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.mb)a=a.mb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):sb(a,b)};rb.D=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):sb(a,b,c)};rb.$=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Db)a=a.Db(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.uc)a=a.uc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.hc)a=a.hc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Eb)a=a.Eb(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=Rb._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.aa=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.D(arguments[0],arguments[1],arguments[2]);case 4:return Rb.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rb.B=function(a,b){return null!=a&&null!=a.kc?a.kc(a,b):Sb(a,b)};
Rb.D=function(a,b,c){return null!=a&&null!=a.lc?a.lc(a,b,c):Sb(a,b,c)};Rb.T=function(a,b,c,d){return null!=a&&null!=a.mc?a.mc(a,b,c,d):Sb(a,b,c,d)};Rb.aa=function(a,b,c,d,e){return null!=a&&null!=a.nc?a.nc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.$=5;function Tb(){}function Ub(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}
function Vb(a){this.pd=a;this.F=1073741824;this.P=0}Vb.prototype.Ac=function(a,b){return this.pd.append(b)};function Wb(a){var b=new pa;a.ia(null,new Vb(b),va());return B.j(b)}var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}
function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;
function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.F&4194304||u===a.td))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Bb=a;this.name=b;this.jb=c;this._hash=d;this.Ya=e;this.F=2154168321;this.P=4096}g=gc.prototype;g.toString=function(){return this.jb};g.fa=function(a,b){return b instanceof gc?this.jb===b.jb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ha=function(){return this.Ya};g.ka=function(a,b){return new gc(this.Bb,this.name,this.jb,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))};g.Eb=function(){return this.name};g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,this.jb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ra;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.$=2;function ic(a){return null!=a?a.P&131072||u===a.ud?!0:a.P?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.ad))return a.ja(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.ub))return a.wa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.F&64||u===a.ub)?a.xa(null):(a=J(a))?a.xa(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.K(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.K=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};P.$=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Ab=b;this.bc=null;this.F=8388672;this.P=0}oc.prototype.ja=function(){return this};oc.prototype.wa=function(){return this.value};
oc.prototype.xa=function(){null==this.bc&&(this.bc=jc.j?jc.j(this.Ab):jc.call(null,this.Ab));return this.bc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.R=!1;this.F=32768;this.P=0}uc.prototype.fb=function(){return this.R};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.la(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.F&2||u===a.Qc?!0:a.F?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.F&16||u===a.wc?!0:a.F?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.C=a;this.i=b}Gc.prototype.pa=function(){return this.i<this.C.length};Gc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Qa=function(){return new Gc(this.C,this.i)};g.ha=function(){return this.meta};g.va=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.la=function(){var a=this.C.length-this.i;return 0>a?0:a};g.ga=function(){return pc(this)};g.fa=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.ma=function(){return lc};g.qa=function(a,b){return Bc(this.C,b,this.C[this.i],this.i+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.i)};g.wa=function(){return this.C[this.i]};
g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):lc};g.ja=function(){return this.i<this.C.length?this:null};g.ka=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.oa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.O();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.K(arguments[0],arguments[1],c)}};Jc.O=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.K=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Jc.$=2;function R(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Qc))a=a.la(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.ad))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.wc))return a.ea(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.wc))return a.Aa(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Wc)?a.ya(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Wc)?a.ca(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.$=3;var W=function W(a){switch(arguments.length){case 3:return W.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.K(arguments[0],arguments[1],arguments[2],c)}};
W.D=function(a,b,c){return null!=a&&(a.F&512||u===a.Pc)?a.ab(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.K=function(a,b,c,d){for(;;)if(a=W.D(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.K(b,a,c,d)};W.$=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.K(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.K=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Oc.$=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Oc?!0:a.Bc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.I=a;this.meta=b;this.F=393217;this.P=0}g=Qc.prototype;g.ha=function(){return this.meta};g.ka=function(a,b){return new Qc(this.I,b)};g.Oc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){return this.I.O?this.I.O():this.I.call(null)};g.j=function(a){return this.I.j?this.I.j(a):this.I.call(null,a)};g.B=function(a,b){return this.I.B?this.I.B(a,b):this.I.call(null,a,b)};g.D=function(a,b,c){return this.I.D?this.I.D(a,b,c):this.I.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.I.T?this.I.T(a,b,c,d):this.I.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.I.aa?this.I.aa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){return this.I.Na?this.I.Na(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};g.Oa=function(a,b,c,d,e,f,h){return this.I.Oa?this.I.Oa(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){return this.I.za?this.I.za(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){return this.I.Pa?this.I.Pa(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ca?this.I.Ca(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};g.Da=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Da?this.I.Da(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Ea?this.I.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.Fa?this.I.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.I.Ga?this.I.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.I.Ha?this.I.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.I.Ia?this.I.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.I.Ja?this.I.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.I.Ka?this.I.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.I.La?this.I.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.I.Ma?this.I.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Vc?Rc.Vc(this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.F&131072||u===a.Zc||(a.F?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.K(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.K=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Uc.$=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.F&8||u===a.rd?!0:a.F?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.F&4096||u===a.Ad?!0:a.F?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.F&16777216||u===a.yc?!0:a.F?!1:y(zb,a):y(zb,a)}function $c(a){return null==a?!1:null!=a?a.F&1024||u===a.xd?!0:a.F?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.F&67108864||u===a.zd?!0:a.F?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.F&16384||u===a.Bd?!0:a.F?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.P&512||u===a.qd?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.F&1||u===a.sd?!0:a.F?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.F&512||u===a.Pc)?a.lb(null,b):y($a,a)?ab(a,b):H.D(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.O?a.O():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.O?b.O():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.F&524288||u===b.$c)?b.qa(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.F&524288||u===c.$c)?c.ra(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.O();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.K(arguments[0],arguments[1],c)}};rd.O=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.K=function(a,b,c){return Ga(rd,a+b,c)};
rd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};rd.$=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.K(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.K=function(a,b,c){return Ga(sd,a-b,c)};
sd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};sd.$=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.O();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.K(arguments[0],c)}};B.O=function(){return""};
B.j=function(a){return null==a?"":[a].join("")};B.K=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};B.$=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.N=e;this.F=65937646;this.P=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.xa(null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Lc(b,this.first,this.eb,this.count,this.N)};g.oa=function(a,b){return new Lc(this.meta,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.meta=a;this.F=65937614;this.P=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ga=function(){return qc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.wd||(b.F?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.ma=function(){return this};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null};g.xa=function(){return lc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new vd(b)};g.oa=function(a,b){return new Lc(this.meta,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.N=d;this.F=65929452;this.P=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.eb?null:J(this.eb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};
g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new wd(b,this.first,this.eb,this.N)};g.oa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.F&64||u===b.ub)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Bb=a;this.name=b;this.Ra=c;this._hash=d;this.F=2153775105;this.P=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Ra)].join("")};g.fa=function(a,b){return b instanceof I?this.Ra===b.Ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))+2654435769|0};g.Eb=function(){return this.name};
g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,[":",B.j(this.Ra)].join(""))};function xd(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Fb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.jb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.$=2;function zd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.N=c;this.F=32374988;this.P=1}g=zd.prototype;g.toString=function(){return Wb(this)};
function Ad(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){this.ja(null);return null==this.s?null:O(this.s)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};
g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:N(this.s)};g.xa=function(){this.ja(null);return null!=this.s?kc(this.s):lc};g.ja=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new zd(b,function(){return c.ja(null)},this.N)};
g.oa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.cc=a;this.end=0;this.F=2;this.P=0}Bd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Bd.prototype.$a=function(){var a=new Cd(this.cc,0,this.end);this.cc=null;return a};Bd.prototype.la=function(){return this.end};function Cd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=Cd.prototype;g.la=function(){return this.end-this.off};
g.ea=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.uc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.C,this.off+1,this.end)};g.qa=function(a,b){return Bc(this.C,b,this.C[this.off],this.off+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.off)};function Dd(a,b,c,d){this.$a=a;this.Va=b;this.meta=c;this.N=d;this.F=31850732;this.P=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?null:yb(this.Va)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.wa=function(){return Sa(this.$a,0)};g.xa=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?lc:this.Va};g.ja=function(){return this};g.hc=function(){return this.$a};g.Rb=function(){return null==this.Va?lc:this.Va};g.ka=function(a,b){return b===this.meta?this:new Dd(this.$a,this.Va,b,this.N)};g.oa=function(a,b){return U(b,this)};g.vc=function(){return null==this.Va?null:this.Va};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.O?a.O():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Na?a.Na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=Va(m);if(7===b)return a.Oa?a.Oa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.za?a.za(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ca?a.Ca(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Da?a.Da(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Fa?a.Fa(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var qa=Va(da);if(18===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=Va(qa);if(19===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var Zc=D(qa);Va(qa);if(20===b)return a.Ma?a.Ma(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Na?a.Na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Oa?a.Oa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.za?a.za(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=O(p);if(null==q)return a.Ca?a.Ca(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Da?a.Da(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ea?a.Ea(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Fa?a.Fa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,w,z,C,E,M);T=D(da);var qa=O(da);if(null==qa)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=O(qa);if(null==qa)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=qa;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.ba?(c=U(c,U(d,e)),d=b.$,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.ba(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.ba){var c=a.$,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.ba(b)}b=J(b);return null==b?a.O?a.O():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.ba){b=U(b,c);var d=a.$;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.ba(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.ba?(b=U(b,U(c,U(d,e))),c=a.$,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.ba(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.ba?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.$,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.ba(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.F&64||u===a.ub))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.gd=a;this.F=393216;this.P=0},ta.prototype.ka=function(a,b){return new ta(b)},ta.prototype.ha=function(){return this.gd},ta.prototype.pa=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Ib=!0,ta.nb="cljs.core/t_cljs$core20121",ta.Ub=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Cb=Vd;this._next=a}Xd.prototype.pa=function(){this.Cb===Vd?(this.Cb=Wd,this._next=J(this._next)):this.Cb===this._next&&(this._next=O(this.Cb));return null!=this._next};Xd.prototype.next=function(){if(this.pa())return this.Cb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.$a(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ua=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=ae.prototype;
g.fa=function(a,b){return this===b};g.fb=function(){return this.state};g.ha=function(){return this.meta};g.oc=function(a,b){for(var c=J(this.ua),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ua=W.D(this.ua,b,c);return this};
g.Tb=function(a,b){return this.ua=Oc.B(this.ua,b)};g.ga=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ua&&a.oc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.D(arguments[0],arguments[1],arguments[2]);case 4:return ce.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.D=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.T=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.K=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};ce.$=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.D(arguments[0],arguments[1],arguments[2]);case 4:return de.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.$=2;k.ba=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.K=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.K(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ba=h.ba;f.O=e;f.j=d;f.B=c;f.K=h.K;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.$a(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.D=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.D(a,kc(d),kc(e)))}else d=null;return d},null)};de.T=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,de.T(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.K=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.K(e,d,Ic([c,b]))))};de.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};de.$=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.D(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.meta=a;this.count=b;this.R=c;this.next=d;this.N=null;this.F=32374988;this.P=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:null:this.next};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.R,this.R):b.call(null,this.R,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=1,c=this.R;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};
g.ra=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.R):b.call(null,c,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};g.wa=function(){return this.R};g.xa=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:lc:this.next};g.ja=function(){return this};
g.ka=function(a,b){return b===this.meta?this:new he(b,this.count,this.R,this.next)};g.oa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.O();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.O=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.P&4||u===a.Rc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.D=function(a,b,c){if(null!=a&&(a.P&4||u===a.Rc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.$=3;
function je(a,b,c){var d=W.D,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.D,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.da=a;this.C=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.da,Ea(a.C))}
function oe(a){a=a.G;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.C[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=qe.T?qe.T(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.C[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function te(a,b){return 0<=b&&b<a.G?se(a,b):re(b,a.G)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=ue.aa?ue.aa(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.C[k]=a}return h},ve=function ve(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=ve.D?ve.D(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.C[e]=a;return c}if(0===e)return null;c=ne(c);c.C[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
we.prototype.pa=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.C=se(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.O?b.O():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.N=f;this.F=167666463;this.P=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.G?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fc=u;g.ea=function(a,b){return te(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?se(this,b)[b&31]:c};
g.mb=function(a,b,c){if(0<=b&&b<this.G)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.oa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.G),"]"].join(""));};g.Qa=function(){return xe(this,0,this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};
g.vb=function(){return 0<this.G?this.ea(null,this.G-1):null};g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return pb(Kc,this.meta);if(1<this.G-oe(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.G-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===R(b))for(a=this.Qa(null),b=b.Qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.sb=function(){return new Be(this.G,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.ma=function(){return pb(Kc,this.meta)};g.qa=function(a,b){return ye(this,b,0,this.G)};
g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.G:!1};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.N)};
g.oa=function(a,b){if(32>this.G-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.C[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.C[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ea(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.K(c)};Le.K=function(a){return a instanceof K&&0===a.i?Ge(a.C,!Ba(a.C)):He(a)};Le.$=0;Le.ba=function(a){return this.K(J(a))};
function Me(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.N=null;this.F=32375020;this.P=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.vc()};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return ye(this.Ba,b,this.i+this.off,R(this.Ba))};g.ra=function(a,b,c){return ze(this.Ba,b,c,this.i+this.off,R(this.Ba))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Rb(null)};g.ja=function(){return this};
g.hc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.ka=function(a,b){return b===this.meta?this:Ne?Ne(this.Ba,this.node,this.i,this.off,b):Fe.call(null,this.Ba,this.node,this.i,this.off,b)};g.oa=function(a,b){return U(b,this)};
g.vc=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.N=e;this.F=167666463;this.P=139264}g=Oe.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.mb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.la(null)),"]"].join(""));b=this.meta;c=W.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.aa?Pe.aa(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Qa=function(){return null!=this.v&&u===this.v.fc?xe(this.v,this.start,this.end):new Xd(this)};g.ha=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(Kc,this.meta)};
g.qa=function(a,b){return null!=this.v&&u===this.v.fc?ye(this.v,b,this.start,this.end):xc(this,b)};g.ra=function(a,b,c){return null!=this.v&&u===this.v.fc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};
g.ja=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};g.ka=function(a,b){return b===this.meta?this:Pe.aa?Pe.aa(b,this.v,this.start,this.end,this.N):Pe.call(null,b,this.v,this.start,this.end,this.N)};g.oa=function(a,b){a=this.meta;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};
function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.da?b:new le(a,Ea(b.C))}function Ce(a){return new le({},Ea(a.C))}
function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.da,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Re.T?Re.T(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.da,b-5,d)}c.C[f]=a;return c};function Be(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Be.prototype;
g.yb=function(a,b){if(this.root.da){if(32>this.G-oe(this))this.tail[this.G&31]=b;else{a=new le(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.da,this.shift,a),this.root=new le(this.root.da,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Hb=function(){if(this.root.da){this.root.da=null;var a=this.G-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.da){if(0<=b&&b<a.G){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.da,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.da)return this.G;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.da)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ea(null,b):c};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Te(){this.F=2097152;this.P=0}Te.prototype.fa=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd($c(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.F&1048576||u===a.vd||(a.F?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.D(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.D(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.jb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].jb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.R=b;this.N=null;this.F=166619935;this.P=0}g=Ae.prototype;g.tb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.R);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.Aa(null,b,null)};g.ca=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.R;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.R:c};g.mb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.R],null)).mb(null,b,c)};g.ha=function(){return null};g.la=function(){return 2};g.Xc=function(){return this.key};g.Yc=function(){return this.R};g.vb=function(){return this.R};g.wb=function(){return new Y(null,1,5,Z,[this.key],null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return null};
g.qa=function(a,b){return xc(this,b)};g.ra=function(a,b,c){return yc(this,b,c)};g.ab=function(a,b,c){return W.D(new Y(null,2,5,Z,[this.key,this.R],null),b,c)};g.lb=function(a,b){return 0===b||1===b};g.ja=function(){return new K([this.key,this.R],0,null)};g.ka=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.R],null),b)};g.oa=function(a,b){return new Y(null,3,5,Z,[this.key,this.R,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function Ie(a){return null!=a?a.F&2048||u===a.yd?!0:!1:!1}function Ze(a,b,c){this.C=a;this.i=b;this.Ya=c;this.F=32374990;this.P=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):null};g.la=function(){return(this.C.length-this.i)/2};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return new Ae(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Ze(this.C,this.i,b)};g.oa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.C=a;this.i=0;this.G=b}$e.prototype.pa=function(){return this.i<this.G};$e.prototype.next=function(){var a=new Ae(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.N=d;this.F=16647951;this.P=139268}g=v.prototype;g.tb=function(a,b){a=Ye(this.C,b);return-1===a?null:new Ae(this.C[a],this.C[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};
g.ca=function(a,b,c){a=Ye(this.C,b);return-1===a?c:this.C[a+1]};g.Db=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Qa=function(){return new $e(this.C,2*this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};
g.fa=function(a,b){if($c(b)&&!ad(b))if(a=this.C.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.ca(null,this.C[c],ed);if(d!==ed)if(P.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new cf(this.C.length,Ea(this.C))};g.ma=function(){return pb(Td,this.meta)};g.qa=function(a,b){return ld(this,b)};g.ra=function(a,b,c){return md(this,b,c)};
g.jc=function(a,b){if(0<=Ye(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.ma(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);P.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.ab=function(a,b,c){a=Ye(this.C,b);if(-1===a){if(this.G<df){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=Ea(this.C);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.lb=function(a,b){return-1!==Ye(this.C,b)};g.ja=function(){var a=this.C;return 0<=a.length-2?new Ze(a,0,null):null};
g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.C,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ra===b.Ra?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.zb={};this.pb=a;this.C=b;this.F=259;this.P=56}g=cf.prototype;g.la=function(){if(this.zb)return td(this.pb);throw Error("count after persistent!");};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.zb)return a=Ye(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.zb){if(Ie(b))return this.xb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.xb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Hb=function(){if(this.zb)return this.zb=!1,new v(null,td(this.pb),this.C,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.zb){a=Ye(this.C,b);if(-1===a){if(this.pb+2<=2*df)return this.pb+=2,this.C.push(b),this.C.push(c),this;a=kf.B?kf.B(this.pb,this.C):kf.call(null,this.pb,this.C);return Kb(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ca(null,a,null)};g.B=function(a,b){return this.ca(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.R=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.ob(b);a.C[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Mb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.C=a;this.i=0;this.Wa=this.Nb=null}qf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Nb=new Ae(b,c):null!=c?(b=Ub(c),b=b.pa()?this.Wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.pa=function(){var a=null!=this.Nb;return a?a:(a=null!=this.Wa)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Nb){var a=this.Nb;this.Nb=null;return a}if(null!=this.Wa)return a=this.Wa.next(),this.Wa.pa()||(this.Wa=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.da=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=rf.prototype;
g.ob=function(a){if(a===this.da)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.C,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};g.hb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.hb(a+5,b,c,d):ff(c,e)?f:d};
g.Ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.C.length){a=this.ob(a);b=a.C;f.R=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?uf.Ua(a,b+5,ec(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.C,2*k,b,2*(k+1),2*(l-k));f.R=!0;a=this.ob(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ua(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.R=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.ob(a);a.C[e]=null;a.C[k]=d;return a};
g.Ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?uf.Ta(a+5,ec(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.C,2*h,a,2*(h+1),2*(k-h));e.R=!0;return new rf(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Ta(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,d));e.R=!0;e=this.bitmap;k=this.C;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Jb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Jb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Lb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Lb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.C,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e)):this};g.Qa=function(){return new qf(this.C)};var uf=new rf(null,0,[]);function zf(a){this.C=a;this.i=0;this.Wa=null}
zf.prototype.pa=function(){for(var a=this.C.length;;){if(null!=this.Wa&&this.Wa.pa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Wa=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.pa())return this.Wa.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.da=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=vf.prototype;g.ob=function(a){return a===this.da?this:new vf(a,this.G,Ea(this.C))};
g.Kb=function(){return Af?Af(this.C):Bf.call(null,this.C)};g.Mb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Mb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.hb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.hb(a+5,b,c,d):d};g.Ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=of(this,a,h,uf.Ua(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ua(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new vf(null,this.G+1,mf(this.C,f,uf.Ta(a+5,b,c,d,e)));a=h.Ta(a+5,b,c,d,e);return a===h?this:new vf(null,this.G,mf(this.C,f,a))};g.Jb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Jb(a+5,b,c,d):d};
g.Lb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Lb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.G-1,mf(this.C,d,a));else d=new vf(null,this.G,mf(this.C,d,a));return d}return this};g.Qa=function(){return new zf(this.C)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.da=a;this.bb=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Df.prototype;g.ob=function(a){if(a===this.da)return this;var b=Array(2*(this.G+1));dd(this.C,0,b,0,2*this.G);return new Df(a,this.bb,this.G,b)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};
g.hb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?this.C[a+1]:d};
g.Ua=function(a,b,c,d,e,f){if(c===this.bb){b=Cf(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.C[b]=d,a.C[c]=e,f.R=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);dd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.R=!0;d=this.G+1;a===this.da?(this.C=b,this.G=d,a=this):a=new Df(this.da,this.bb,d,b);return a}return this.C[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ua(a,b,c,d,e,f)};
g.Ta=function(a,b,c,d,e){return b===this.bb?(a=Cf(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),dd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.R=!0,new Df(null,this.bb,this.G+1,b)):P.B(this.C[a+1],d)?this:new Df(null,this.bb,this.G,mf(this.C,a+1,d))):(new rf(null,1<<(this.bb>>>a&31),[null,this])).Ta(a,b,c,d,e)};g.Jb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?new Ae(this.C[a],this.C[a+1]):d};
g.Lb=function(a,b,c){a=Cf(this.C,this.G,c);return-1===a?this:1===this.G?null:new Df(null,this.bb,this.G-1,nf(this.C,td(a)))};g.Qa=function(){return new qf(this.C)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Ta(a,h,b,c,k).Ta(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ua(a,b,k,c,d,l).Ua(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Ef(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Kb(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return N(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Gf(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Kb(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.ta=a;this.Lc=b;this.seen=!1}
If.prototype.pa=function(){return!this.seen||this.Lc.pa()};If.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Ae(null,this.ta)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.sa=d;this.ta=e;this.N=f;this.F=16123663;this.P=139268}g=Jf.prototype;g.tb=function(a,b){return null==b?this.sa?new Ae(null,this.ta):null:null==this.root?null:this.root.Jb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.Db=function(a,b,c){a=this.sa?b.D?b.D(c,null,this.ta):b.call(null,c,null,this.ta):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Mb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Qa=function(){var a=this.root?Ub(this.root):Ud();return this.sa?new If(this.ta,a):a};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){return Ve(this,b)};g.sb=function(){return new Kf(this.root,this.G,this.sa,this.ta)};
g.ma=function(){return pb(ef,this.meta)};g.jc=function(a,b){if(null==b)return this.sa?new Jf(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Lb(0,ec(b),b);return a===this.root?this:new Jf(this.meta,this.G-1,a,this.sa,this.ta,null)};
g.ab=function(a,b,c){if(null==b)return this.sa&&c===this.ta?this:new Jf(this.meta,this.sa?this.G:this.G+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Ta(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.meta,a.R?this.G+1:this.G,b,this.sa,this.ta,null)};g.lb=function(a,b){return null==b?this.sa:null==this.root?!1:this.root.hb(0,ec(b),b,ed)!==ed};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Kb():null;return this.sa?U(new Ae(null,this.ta),a):a}return null};
g.ka=function(a,b){return b===this.meta?this:new Jf(b,this.G,this.root,this.sa,this.ta,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.da={};this.root=a;this.count=b;this.sa=c;this.ta=d;this.F=259;this.P=56}function Lf(a,b,c){if(a.da){if(null==b)a.ta!==c&&(a.ta=c),a.sa||(a.count+=1,a.sa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ua(a.da,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.R&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.la=function(){if(this.da)return this.count;throw Error("count after persistent!");};
g.ya=function(a,b){return null==b?this.sa?this.ta:null:null==this.root?null:this.root.hb(0,ec(b),b)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.yb=function(a,b){a:if(this.da)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Hb=function(){if(this.da){this.da=null;var a=new Jf(null,this.count,this.root,this.sa,this.ta,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Mf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Mf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).key};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Mf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Mf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Mf.prototype[Da]=function(){return nc(this)};
function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Nf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).R};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Nf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Nf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Nf.prototype[Da]=function(){return nc(this)};
function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.K(c)};Of.K=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.$=0;Of.ba=function(a){return this.K(J(a))};function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.D(a,d,Rf);b=P.B(e,Rf)?b:W.D(b,d,e);c=O(c)}else return pb(b,Tc(a))}
function Sf(a){this.Ab=a}Sf.prototype.pa=function(){return this.Ab.pa()};Sf.prototype.next=function(){if(this.Ab.pa())return this.Ab.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.meta=a;this.cb=b;this.N=c;this.F=15077647;this.P=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};
g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){a=cb(this.cb,b);return x(a)?fb(a):c};g.Qa=function(){return new Sf(Ub(this.cb))};g.ha=function(){return this.meta};
g.la=function(){return Ma(this.cb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.sb=function(){return new Uf(Hb(this.cb))};g.ma=function(){return pb(Vf,this.meta)};g.zc=function(a,b){return new Tf(this.meta,eb(this.cb,b),null)};g.ja=function(){return af(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Tf(b,this.cb,this.N)};g.oa=function(a,b){return new Tf(this.meta,W.D(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};
var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.qb=a;this.P=136;this.F=259}g=Uf.prototype;g.yb=function(a,b){this.qb=Kb(this.qb,b,null);return this};g.Hb=function(){return new Tf(null,Jb(this.qb),null)};g.la=function(){return R(this.qb)};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return Ya(this.qb,b,ed)===ed?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.qb,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.qb,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Eb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.F&131072||u===b.Zc?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.D?eg.D(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Ib)return a.Ub(b);if(null!=a?a.F&2147483648||u===a.na||(a.F?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.T?fg.T(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.nb}()))return $f(b,Ic(["#object[",a.constructor.nb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.D(c,hg,dg),d.D?d.D(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ea(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Sc)?a.ma(null):(null!=a?a.F&4||u===a.Sc||(a.F?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.D(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.D(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=$c(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.na=u;K.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.na=u;zd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.na=u;Ae.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.na=u;Ef.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.na=u;Ze.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.na=u;oc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.na=u;Me.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.na=u;
wd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.na=u;Jf.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.na=u;Gf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.na=u;Oe.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.na=u;Tf.prototype.ia=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.na=u;Dd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.na=u;ae.prototype.ia=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.na=u;Nf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.na=u;he.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.na=u;Y.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.na=u;vd.prototype.ia=function(a,b){return G(b,"()")};v.prototype.na=u;
v.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.na=u;Mf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.na=u;Lc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Tc||(a.Bc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.K(arguments[0],c)};
sg.K=function(a,b){b=Sd(b);var c=H.D(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Tc||(f.Bc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if($c(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.$=1;sg.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.T(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.za?Eg.za(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.J=b;this.fd=k;this.Xb=c;this.Zb=d;this.md=e;this.Yb=f;this.Qb=h;this.F=4194305;this.P=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){var a=this.J.O?this.J.O():this.J.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.O?b.O():b.call(null)};g.j=function(a){var b=this.J.j?this.J.j(a):this.J.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.J.B?this.J.B(a,b):this.J.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.aa=function(a,b,c,d,e){var f=this.J.aa?this.J.aa(a,b,c,d,e):this.J.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.aa?h.aa(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){var h=this.J.Na?this.J.Na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Na?k.Na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Oa=function(a,b,c,d,e,f,h){var k=this.J.Oa?this.J.Oa(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Oa?l.Oa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){var l=this.J.za?this.J.za(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.za?m.za(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){var m=this.J.Pa?this.J.Pa(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Pa?n.Pa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){var n=this.J.Ca?this.J.Ca(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ca?p.Ca(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Da=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.J.Da?this.J.Da(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Da?q.Da(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.J.Ea?this.J.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ea?r.Ea(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.J.Fa?this.J.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Fa?w.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.J.Ga?this.J.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ga?z.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.J.Ha?this.J.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.Ha?C.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.J.Ia?this.J.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ia?E.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.J.Ja?this.J.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Ja?M.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.J.Ka?this.J.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Ka?T.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.J.La?this.J.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.La?da.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.J.Ma?this.J.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),qa=Ig(this,da);x(qa)||Fg(this.name,da);return qa.Ma?qa.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):qa.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var qa=Rd(this.J,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),Zc=Ig(this,qa);x(Zc)||Fg(this.name,qa);return Rd(Zc,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.T(c.Zb,W,a,b);Bg(c.Yb,c.Zb,c.Qb,c.Xb)}function Ig(a,b){P.B(F(a.Qb),F(a.Xb))||Bg(a.Yb,a.Zb,a.Qb,a.Xb);var c=F(a.Yb);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.Xb,a.Zb,a.md,a.Yb,a.Qb,a.fd)}g.Eb=function(){return Ob(this.name)};g.Fb=function(){return Pb(this.name)};
g.ga=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",1499536964),Sg=new I(null,"displayName","displayName",
-809144601),Tg=new I(null,"on-dispose","on-dispose",2105306360),Ug=new I(null,"data","data",-232669377),Vg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Wg=new I(null,"sigma","sigma",-63715703),Xg=new I(null,"spec","spec",347520401),Yg=new I(null,"constructor","constructor",-1953928811),Zg=new I(null,"div.column","div.column",-1380853326),$g=new I(null,"actions","actions",-812656882),ah=new I(null,"childContextTypes","childContextTypes",578717991),bh=new I(null,"transform",
"transform",1381301764),ch=new I(null,"field","field",-1302436500),dh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),eh=new I(null,"running","running",1554969103),fh=new I(null,"class","class",-2030961996),gh=new I(null,"description","description",-1428560544),hh=new I(null,"title","title",636505583),ih=new I(null,"on-click","on-click",1632826543),jh=new I(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),kh=new I(null,"color","color",1011675173),
lh=new I(null,"stack","stack",-793405930),mh=new I(null,"as","as",1148689641),nh=new I(null,"reagentRender","reagentRender",-358306383),oh=new I(null,"name","name",1843675177),ph=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),qh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,"default","default",-1987822328),rh=new I("skier","joins-queue","skier/joins-queue",-1286647213),
sh=new I(null,"no-cache","no-cache",1588056370),th=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),uh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),vh=new I("lift","leaves","lift/leaves",-2138482165),wh=new I(null,"component-did-update","component-did-update",-1468549173),xh=new I("sim","end-time","sim/end-time",-1849965709),yh=new I(null,"reagent-render",
"reagent-render",-985383853),zh=new I(null,"encoding","encoding",1728578272),Ah=new I(null,"function-components","function-components",1492814963),Bh=new I(null,"hierarchy","hierarchy",-1053470341),Ch=new I(null,"on-write","on-write",31519475),Dh=new I("skiers","skiing","skiers/skiing",-957605270),Eh=new I(null,"key","key",-1516042587),Fh=new I(null,"zero","zero",-858964576),Gh=new I("lift","ride-time","lift/ride-time",78775400),Hh=new I(null,"y","y",-1757859776),Ih=new I(null,"x","x",2099068185),
Jh=new I(null,"t","t",-1397832519),Kh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Lh=new I(null,"scale","scale",-230427353),Mh=new I(null,"contextType","contextType",1033066077),Nh=new I("skiers","waiting","skiers/waiting",1070582748),Oh=new I(null,"mark","mark",-373816345),Ph=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Qh=new I(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Rh=new I(null,"validator","validator",
-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Sh=new I(null,"display-name","display-name",694513143),Th=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Uh=new I("slope","length","slope/length",1017254753),Vh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Wh=new I(null,"contextTypes","contextTypes",-2023853910),tg=new I(null,"keyword-fn","keyword-fn",-64566675),Xh=new I(null,"shouldComponentUpdate",
"shouldComponentUpdate",1795750960),Yh=new I(null,"unit","unit",375175175),Zh=new I(null,"id","id",-1388402092),$h=new I(null,"$schema","$schema",1635092088),ai=new I(null,"component-will-unmount","component-will-unmount",-2058314698),bi=new I("lift","chair-width","lift/chair-width",1126373462),ci=new I(null,"results","results",-1134170113),di=new I(null,"className","className",-1983287057),ei=new I(null,"h1.title","h1.title",-2139952071),fi=new I("lift","chair-period","lift/chair-period",169813739),
gi=new I(null,"events","events",1792552201),hi=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ii=new I(null,"parse-tag","parse-tag",1427313738),ji=new I(null,"type","type",1174270348),ki=new I("skiers","speed","skiers/speed",88597428),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var li={},mi;function ni(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var oi=aa.navigator||null;oi&&(oi.appVersion||"").indexOf("X11");oa("Android");ni();oa("iPad");oa("iPod");ni()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof li||"undefined"===typeof mi)mi=function(b,c,d){this.f=b;this.Nc=c;this.hd=d;this.F=393216;this.P=0},mi.prototype.ka=function(b,c){return new mi(this.f,this.Nc,c)},mi.prototype.ha=function(){return this.hd},mi.Ib=!0,mi.nb="cljs.core.async/t_cljs$core$async23385",mi.Ub=function(b){return G(b,"cljs.core.async/t_cljs$core$async23385")};return new mi(a,!0,Td)})(function(){return null});var pi={},qi={},ri=[];function si(a,b){var c=qi[a];if(void 0!==c)return c;try{ri.push(a);var d=pi[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};pi[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,si,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ri.pop()}return d.exports}si.cache={};si.resolve=function(a){return a};var ti=si(2,{});function ui(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function vi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}()}
function wi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ui(a,b,c):ui(a,b,vi(c));throw["Invalid match arg: ",B.j(b)].join("");}function xi(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function yi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var zi={};var Ai={},Bi="undefined"!==typeof window&&null!=window.document,Ci=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Di(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Ei(a){if("string"===typeof a)return a;a=X(a);var b=yi(a),c=J(b);b=N(c);c=O(c);return x(Ci.j?Ci.j(b):Ci.call(null,b))?a:Pd(B,b,de.B(Di,c))}
function Fi(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.P&4096||u===a.xc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return $c(c)?oh.j(c):null}();return x(b)?wi(B.j(b),"$","."):null}function Gi(a){return a instanceof I||a instanceof gc}
var Hi=function Hi(a){switch(arguments.length){case 0:return Hi.O();case 1:return Hi.j(arguments[0]);case 2:return Hi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Hi.K(arguments[0],arguments[1],c)}};Hi.O=function(){return null};Hi.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Gi(b)?X(b):b:null},a),J(a)?xi(a):null):Gi(a)?X(a):a};
Hi.B=function(a,b){return x(a)?x(b)?[B.j(Hi.j(a))," ",B.j(Hi.j(b))].join(""):Hi.j(a):Hi.j(b)};Hi.K=function(a,b,c){return Ga(Hi,Hi.B(a,b),c)};Hi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Hi.$=2;var Ii=!1;function Ji(a){if($c(a))try{var b=H.B(a,Eh)}catch(c){b=null}else b=null;return b}
function Ki(a){var b=Eh.j(Tc(a));if(null!=b)return b;b=V(a,0,null);switch(b instanceof I?b.Ra:null){case "\x3e":case "f\x3e":return Ji(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return Ji(V(a,1,null))}};var Li=0;function Mi(a){return setTimeout(a,16)}var Ni=Bi?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Mi}().bind(a)}():Mi;function Oi(a,b){return a.qc-b.qc}function Pi(){return null}function Qi(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function Ri(a,b,c){b.push(c);return a.schedule()}function Si(){this.ac=!1}g=Si.prototype;g.flush_after_render=function(){var a=this.Ob;if(null==a)return null;this.Ob=null;return Qi(a)};g.queue_render=function(a){null==this.Wb&&(this.Wb=[]);return Ri(this,this.Wb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ac)return null;this.ac=!0;return Ni.j?Ni.j(a):Ni.call(null,a)};g.flush_before_flush=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return Qi(a)};
g.flush_queues=function(){this.flush_before_flush();Pi();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ac=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Pb&&(this.Pb=[]);return Ri(this,this.Pb,a)};g.add_after_render=function(a){null==this.Ob&&(this.Ob=[]);return Ri(this,this.Ob,a)};
g.flush_render=function(){var a=this.Wb;if(null==a)return null;this.Wb=null;a:{a.sort(Oi);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Ti=new Si;function Ui(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Ti.queue_render(a)};function Vi(a){if(null!=a&&null!=a.nd)a=a.id;else{var b=Vi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Wi(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=Wi[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Wi._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function Xi(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=Xi[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xi._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function Yi(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=Yi[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Yi._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var Zi=function Zi(a){switch(arguments.length){case 1:return Zi.j(arguments[0]);case 2:return Zi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Zi.K(arguments[0],arguments[1],c)}};Zi.j=function(a){return a};Zi.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};Zi.K=function(a,b,c){return Ga(Zi,a,Jc.B(c,b))};
Zi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Zi.$=2;var $i;function aj(a,b){b.dc=null;a:{var c=$i;$i=b;try{var d=a.O?a.O():a.call(null);break a}finally{$i=c}d=void 0}a=b.dc;b.gb=!1;a:{c=b.rb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function bj(a){var b=$i;if(null!=b){var c=b.dc;null==c?b.dc=[a]:c.push(a)}}function cj(a,b,c){a.ua=W.D(a.ua,b,c);return a.tc=null}
function dj(a,b){a.ua=Oc.B(a.ua,b);return a.tc=null}function ej(a,b,c){var d=a.tc;d=null==d?a.tc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ua):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function fj(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=$i;$i=null;try{var e=d;break a}finally{$i=c}e=void 0}eg(e,a,b);return G(a,"]")}var gj=null;
function hj(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ua=d;this.F=2154201088;this.P=114690}g=hj.prototype;g.ia=function(a,b,c){return fj(b,c,"RAtom",new v(null,1,[mg,this.fb(null)],null))};g.ha=function(){return this.meta};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};g.Sa=function(a,b){a=this.state;this.state=b;null!=this.ua&&ej(this,a,b);return b};g.kc=function(a,b){return this.Sa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.lc=function(a,b,c){return this.Sa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.mc=function(a,b,c,d){return this.Sa(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this.state,c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};g.Tb=function(a,b){return dj(this,b)};g.ka=function(a,b){return new hj(this.state,b,this.validator,this.ua)};g.fb=function(){bj(this);return this.state};
var ij=function ij(a){switch(arguments.length){case 1:return ij.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return ij.K(arguments[0],c)}};ij.j=function(a){return new hj(a,null,null,null)};ij.K=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Rh);return new hj(a,b,c,null)};ij.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};ij.$=1;
function jj(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=jj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function kj(a){this.f=a;this.state=null;this.gb=!0;this.Fc=!1;this.ec=this.Za=this.ua=this.rb=null;this.F=2153807872;this.P=114690}g=kj.prototype;g._peek_at=function(){var a=$i;$i=null;try{return this.fb(null)}finally{$i=a}};
g._handle_change=function(a,b,c){return b===c||this.gb?null:null==this.Za?(this.gb=!0,null==gj&&(gj=[],!1===Ti.ac&&Ti.schedule()),gj.push(this)):!0===this.Za?this._run(!1):this.Za.j?this.Za.j(this):this.Za.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.rb);this.rb=a;a=J(Zi.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(Zi.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.gb&&null!=this.rb?this._run(!0):null};g._try_capture=function(a){try{return this.ec=null,aj(a,this)}catch(b){return this.ec=this.state=a=b,this.gb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):aj(this.f,this);this.Fc||(this.state=a,null==this.ua||P.B(b,a)||ej(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Rg);var c=H.B(b,qh),d=H.B(b,Tg);b=H.B(b,sh);null!=a&&(this.Za=a);null!=c&&(this.kd=c);null!=d&&(this.Gc=d);return null!=b?this.Fc=b:null};g.ia=function(a,b,c){return fj(b,c,"Reaction",new v(null,1,[mg,this.fb(null)],null))};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.rb;this.Za=this.state=this.rb=null;this.gb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Gc&&this.Gc(a);a=this.Cd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Sa=function(a,b){a=this.state;this.state=b;this.kd(a,b);ej(this,a,b);return b};
g.kc=function(a,b){a=this.Sa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.lc=function(a,b,c){a=this.Sa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.mc=function(a,b,c,d){a=this.Sa;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this._peek_at(),c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};
g.Tb=function(a,b){a=Vc(this.ua);dj(this,b);return!a&&Vc(this.ua)&&null==this.Za?this.sc(null):null};g.fb=function(){var a=this.ec;if(null!=a)throw a;(a=null==$i)&&(lj.O?lj.O():lj.call(null));a&&null==this.Za?this.gb&&(a=this.state,this.state=this.f.O?this.f.O():this.f.call(null),null==this.ua||P.B(a,this.state)||ej(this,a,this.state)):(bj(this),this.gb&&this._run(!1));return this.state};
function lj(){for(;;){var a=gj;if(null==a)return null;gj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Pi=lj;function mj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Rg);d=H.B(e,qh);e=H.B(e,Tg);b=new kj(b);b._set_opts(new v(null,3,[Rg,c,qh,d,Tg,e],null));return b}var nj=mj(null);
function oj(a,b){var c=pj,d=nj,e=aj(a,d);null!=d.rb&&(nj=mj(null),d._set_opts(c),d.f=a,d.Za=function(){return Ui.j?Ui.j(b):Ui.call(null,b)},b.cljsRatom=d);return e};var qj;function rj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.D(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function sj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.ib);return b}
function tj(a,b){for(;;){var c=a.ib,d=!0===a.bd?c.call(a,a):function(){var e=rj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return Xi(b,d);if(gd(d))d=sj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return Xi(f,Pd(Le,l,p))}m.$=0;m.ba=function(p){p=J(p);return n(p)};m.K=n;return m}()}(a,b,c,null,d):d,a.ib=d;else return d}}var pj=new v(null,1,[sh,!0],null);
function uj(a,b){switch(a instanceof I?a.Ra:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=$c(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.dd;d=null!=d?d:c.dd=ij.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,rj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,rj(this,c))};case "shouldComponentUpdate":return function(c){var d=Ii;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,rj(this,this.props),rj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,rj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,rj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&jj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var vj=new v(null,2,[Xh,null,Kh,null],null),wj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.T(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=wi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=yi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Di,b))});function xj(a){return od(function(b,c,d){return W.D(b,yd.j(wj(c)),d)},Td,a)}
function yj(a,b){var c=function(){var h=nh.j(a);return x(h)?h:Og.j(a)}(),d=null==nh.j(a),e=function(){var h=Sg.j(a);if(x(h))return h;h=Fi(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.D,n=uj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.K(f,Sg,e,Ic([jh,d,nh,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?oj(function(){a:{var l=qj;qj=h;try{var m=tj(h,b);break a}finally{qj=l}m=void 0}return m},h):k._run(!1)}]))}
function zj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Aj(a,b){return yj(Of.K(Ic([vj,xj(a)])),b)}var Qf=new Y(null,5,5,Z,[ah,Wh,Mh,Qh,Vg],null);
function Bj(a,b){function c(k,l,m){ti.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.qc=Li+=1;return this}a=Aj(a,b);b=zj(Rd(Oc,a,Sg,ph,Yg,Ic([Og,nh,Qf])));var d=zj(Pf(a)),e=Sg.j(a),f=ph.j(a),h=Yg.j(a);ka(c.prototype,ti.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(nh.j(a))&&(c.prototype.ib=nh.j(a));x(jh.j(a))&&(c.prototype.bd=jh.j(a));ka(c,ti.Component,d);x(e)&&(c.displayName=e,c.nb=e,c.Ub=function(k){return G(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Ib=!0;return c.prototype.constructor=c}function Cj(a,b,c){a=Vi(a);return b[a]=c}
function Dj(a,b){for(;;){var c=b.ib,d=b.argv,e=Od(c,d);if(bd(e))return Xi(a,e);if(gd(e))c=sj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return Xi(f,Pd(Le,n,r))}p.$=0;p.ba=function(r){r=J(r);return q(r)};p.K=q;return p}()}(a,b,c,null,d,e):e,b.ib=c;else return e}}
function Ej(a,b){var c=b.argv,d=b.ib;b=ti.useState(0);V(b,0,null);var e=V(b,1,null),f=ti.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.qc=Li+=1;k.constructor=d;k.ib=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");ti.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:jj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?oj(function(){a:{var k=qj;qj=h;try{var l=Dj(a,h);break a}finally{qj=k}l=void 0}return l},
h):b._run(!1)}function Fj(a,b){a=a.argv;b=b.argv;var c=!1===Ii;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Gj(a,b){function c(e){return Ej(a,e)}var d=ia(b,Vi(a));if(x(d))return d;d=Fi(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=ti.memo(c,Fj);Cj(a,b,d);return d};var Hj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null),Ij=!1;
function Jj(a,b,c,d){var e=Sd(Td);e=H.B(e,Ch);if(x(function(){var h=!(a===document.activeElement&&id(Hj,a.type)&&"string"===typeof b&&"string"===typeof c);return h?h:Ij}()))return d.Vb=b,a.value=b,Pc(e)?e.j?e.j(b):e.call(null,b):null;var f=a.value;if(!P.B(f,c))return Ti.add_after_render(function(){var h=Ij;Ij=!0;try{return Kj.j?Kj.j(d):Kj.call(null,d)}finally{Ij=h}});f=R(f)-a.selectionStart;f=R(b)-f;d.Vb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=f;return a.selectionEnd=f}
function Kj(a){if(x(a.pc)){a.Cc=!1;var b=a.cd,c=a.Vb,d=a.rc;return P.B(b,c)?null:Jj(d,b,c,a)}return null}function Lj(a,b,c){a.Vb=c.target.value;x(a.Cc)||(a.Cc=!0,Ti.add_after_render(function(){return Kj(a)}));return b.j?b.j(c):b.call(null,c)}
function Mj(a){var b=qj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.pc)||(b.pc=!0,b.Vb=c);x(b.Kc)||(b.Kc=Pc(e)?function(f){b.rc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.rc=f;return e.current=f}:function(f){return b.rc=f});b.cd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Lj(b,d,f)};a.ref=b.Kc}}
var Nj=new v(null,4,[Sh,"ReagentInput",wh,Kj,ai,function(a){return a.pc=null},yh,function(a,b,c,d,e){Mj(c);return Yi(e,a,b,c,d)}],null);var Oj={},Pj,Qj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Rj={"class":"className","for":"htmlFor",charset:"charSet"};function Sj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Tj(a,b,c){if(Gi(b)){var d=Sj(Rj,X(b));null==d?(d=Ei(b),b=X(b),b=Rj[b]=d):b=d}c=Uj.j?Uj.j(c):Uj.call(null,c);a[b]=c;return a}
function Uj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Tj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}var Vj={};function Wj(a,b,c){if(Gi(b)){var d=Sj(Vj,X(b));null==d?(d=Ei(b),b=X(b),b=Vj[b]=d):b=d}c=Uj(c);a[b]=c;return a}
function Xj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Wj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}
function Yj(a,b,c,d,e){switch(R(b)-e){case 0:return ti.createElement(c,d);case 1:return ti.createElement(c,d,Xi(a,V(b,e,null)));default:return ti.createElement.apply(null,od(function(f,h,k){h>=e&&f.push(Xi(a,k));return f},[c,d],b))}}function Zj(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ed=d}function ak(a,b,c){var d=ia(a,Vi(c));null==d?sj(a)?a=Cj(c,a,a):(d=Tc(a),d=W.D(d,yh,a),d=Bj(d,c),a=Cj(c,a,d)):a=d;c={};c.argv=b;b=Ki(b);null!=b&&(c.key=b);return ti.createElement(a,c)}
function bk(a,b,c,d){var e={};e.ib=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ki(b);null!=b&&(e.key=b);return ti.createElement(Gj(d,a),e)}function ck(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ak(a,b,c):bk(a,b,1,c)}var dk={};function ek(a,b){a=Sj(dk,b);if(null==a){var c=O(Xf(Qj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:wi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new Zj(a,d,c,e);return dk[b]=a}return a}
function fk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||$c(f),k=function(){var n=h?f:null;var p=fh.j(n);p=x(p)?W.D(n,fh,Hi.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==Zh.j(p)?W.D(p,Zh,q):p;if(x(n)){var r=W.D,w=Hi.B,z=fh.j(p);p=x(z)?z:di.j(p);n=r.call(W,q,fh,w.call(Hi,n,p))}else n=q;n=x(a.ed)?Xj(n):Uj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Ji(f);var m=function(){var n=d.od;if(x(n))return n;n=Bj(Nj,d);return d.od=n}();return Xi(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.K(Ic([x(l)?new v(null,1,[Eh,l],null):null,Tc(b)]))))}l=Ji(Tc(b));null!=l&&(k.key=l);return Yi(d,b,e,k,c)}function gk(a,b){return Fa(de.B(function(c){return Xi(b,c)},a))}
function hk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Ra:null){case "\x3e":return c=V(a,1,null),fk(new Zj(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Ji(Tc(a));null!=e&&(d.key=e);return Yi(b,a,c,d,3);case "f\x3e":return bk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||$c(d),d=Uj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ki(a),null!=e&&(d.key=e),Yi(b,a,ti.Fragment,d,c);default:if(Gi(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=fk(Wi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.D(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var ik=function(a){var b=og("reagent-compiler"),c=x(Ah.j(a))?ck:ak,d=H.D(a,ii,ek);if("undefined"===typeof zi||"undefined"===typeof Ai||"undefined"===typeof Oj||"undefined"===typeof Pj)Pj=function(e,f,h,k,l){this.ld=e;this.id=f;this.Dc=h;this.$b=k;this.jd=l;this.F=393216;this.P=0},Pj.prototype.ka=function(e,f){return new Pj(this.ld,this.id,this.Dc,this.$b,f)},Pj.prototype.ha=function(){return this.jd},Pj.prototype.nd=function(){return this.id},Pj.prototype.Jc=function(e,f,h){return this.$b.D?this.$b.D(this,
f,h):this.$b.call(null,this,f,h)},Pj.prototype.Hc=function(e,f){e=this.Dc;return"object"!==t(f)?f:bd(f)?hk(f,this,e):(null==f?0:null!=f?f.F&64||u===f.ub||(f.F?0:y(Ua,f)):y(Ua,f))?gk(f,this):Gi(f)?X(f):(null!=f?f.F&2147483648||u===f.na||(f.F?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Pj.prototype.Ic=function(e,f,h,k,l){return Yj(this,f,h,k,l)},Pj.Ib=!0,Pj.nb="reagent.impl.template/t_reagent$impl$template26405",Pj.Ub=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26405")};return new Pj(a,
b,c,d,Td)}(Td);var jk=si(9,{});function kk(a){a=ia(a,"comp");ti.useEffect(function(){var c=Ii;Ii=!1;try{Ti.flush_after_render()}finally{Ii=c}});var b=Ii;Ii=!0;try{return a.O?a.O():a.call(null)}finally{Ii=b}}function lk(){var a=new Y(null,1,5,Z,[mk],null);nk.render(ti.createElement(kk,{comp:function(){return Xi(ik,a)}}))};var ok=si(84,{});function pk(a,b){this.Ec=a;this.Mc=b}pk.prototype.getKey=function(){return this.Ec};pk.prototype.getValue=function(){return this.Mc};pk.prototype.clone=function(){return new pk(this.Ec,this.Mc)};function qk(a){this.Xa=[];if(a)a:{if(a instanceof qk){var b=a.Xa;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.Xa;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.Xa.length){c=this.Xa;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.Xa;c.push(new pk(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Xa;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.Xa.length};g.clear=function(){la(this.Xa)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Wg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.D(Td,Bh,vg.O?vg.O():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Ph.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(rh,function(a){return je(je(a,Dh,sk),Nh,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,ki),d=H.B(a,Uh);b=Sd(b);b=H.B(b,Jh);c=d/tk(c);return ke(je(je(a,hi,sk),Dh,tc),gi,Jc,new v(null,2,[Ph,rh,Jh,b+c],null))});Jg(vh,function(a,b){var c=Sd(a),d=H.B(c,Gh),e=H.B(c,bi);a=H.B(c,fi);b=Sd(b);b=H.B(b,Jh);var f=Nh.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Nh,sd,e),hi,rd,e);d=new v(null,2,[Ph,Mg,Jh,b+tk(d)],null);return ke(ke(c,gi,ie,ee(e,new he(null,-1,d,null))),gi,Jc,new v(null,2,[Ph,vh,Jh,b+a],null))});var uk;
a:for(var vk=[Uh,hi,Gh,gi,Dh,fi,xh,ki,bi,Jh,Nh],wk=[3E3,0,new v(null,2,[Pg,300,Wg,30],null),new Y(null,1,5,Z,[new v(null,2,[Ph,vh,Jh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Wg,1,Yh,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"line",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,3,[ch,"number-of-skiers",ji,"quantitative",hh,"Number of skiers"],null),kh,new v(null,
1,[ch,"state"],null)],null)],null),Dk=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"bar",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,4,[ch,"number-of-skiers",ji,"quantitative",lh,"normalize",
hh,"Percentage of skiers"],null),kh,new v(null,1,[ch,"state"],null)],null)],null),Ek=ij.j(new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null)),Fk=ij.j(new v(null,1,[eh,!0],null));
function Gk(){return ce.B(Ek,function(a){var b=W.D,c=Jc.B,d=ci.j(a),e;a:for(e=ci.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=gi.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n);k.enqueue(Jh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Jh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.D;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,gi,n);e=e.B?e.B(f,
h):e.call(null,f,h);e=l.call(W,e,Jh,h.j?h.j(Jh):h.call(null,Jh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ci,He(c))})}function Hk(){return x(eh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Th,new v(null,2,[ji,"reset",ih,function(){be(Ek,new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[eh,!0],null))}],null),"Restart"],null)}
function mk(){x(eh.j(F(Fk)))&&setTimeout(function(){return Gk()},100);return new Y(null,4,5,Z,[th,new Y(null,2,5,Z,[Vh,new Y(null,2,5,Z,[ei,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[uh,new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,3,[Xg,Ck,Ug,F(Ek),$g,!1],null)],null)],null),new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,
3,[Xg,Dk,Ug,F(Ek),$g,!1],null)],null)],null)],null)],null)],null)}var Jk=jk.createRoot,Kk;Kk=document.getElementById("app");var nk=Jk.call(jk,Kk);try{lk()}catch(a){throw console.error("An error occurred when calling (net.thewagner.skiers.web/init)"),a;};
}).call(this);